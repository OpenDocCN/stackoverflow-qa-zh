# StackOverflow 问答 12048000-12048999

# objective-c - GKTurnBasedMatchmakerViewController 适用于 iPad 但不适用于 iPhone

> ID：12048000
> 
> 赞同：1
> 
> 时间：2012-08-21T03:13:59.813
> 
> 标签：objective-c, ios, uikit, gamekit

这个问题我们已经有一段时间了，只是在文档或在线搜索中找不到答案。

我们的 iOS 游戏基于 OpenGL ES，我们正在实现 GameCenter 回合制游戏。以下代码显示了用于创建基于回合的匹配的匹配 UI。此代码在我的 iPad 1 和 iPad 3 上运行良好。但是，它不适用于我的 iPhone 4S！

[更新：]我们在视图层次结构的顶部使用 UIWindow，将 GL 视图/层作为子视图。当它被呈现时，这掩盖了新的观点。我现在可以通过在主窗口中添加一个 UIView 来看到这个窗口，并将 GL 视图作为它的子视图。但是，我仍然无法与此视图交互..

此代码来自我们混合 C++ 和 Objective-C 代码的 .mm 文件。

```
// Configure the match making view, with our own delegate
GKTurnBasedMatchmakerViewController *mmvc = 
[[GKTurnBasedMatchmakerViewController alloc] 
 initWithMatchRequest:request];    
mmvc.showExistingMatches = YES;

// Uses our own delegate.
if(!g_pTurnBasedDelegate)
{
    g_pTurnBasedDelegate = [[TurnBasedDelegate alloc] init];
}

mmvc.turnBasedMatchmakerDelegate = g_pTurnBasedDelegate;

// Get the main window's root controller and instruct it to show the match making delegate.
if(g_Env && g_Env->m_pWindow)
{
    RefPtr<WindowIOS> pIOSWin = ref_static_cast<WindowIOS>(g_Env->m_pWindow);

    UIWindow * pUIWin = (UIWindow *)pIOSWin->GetHandle();
    UIViewController * pController = [pUIWin rootViewController];

    if(pController)
    {
        g_pRootViewController = pController;
    }

}

if(g_pRootViewController)
{
    [g_pRootViewController presentViewController:mmvc animated:YES completion:nil];
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-27T15:48:36.443

一段时间后回到这个问题。问题不在于 Game Center 控制器，而在于我们如何设置主应用程序视图。这恰好适用于 iPad，但不适用于 iPhone。

对于我们的应用程序，我们需要在代码中初始化整个视图层次结构，而不是使用 NIB / Storyboard。

我们旧的初始化步骤是：

> 1.  UIWindow 初始化并生成密钥。
> 2.  UIWindow addView（我们的 OpenGL 窗口）。
> 3.  UIWindow addView（一个触摸响应 UIView）。
> 4.  UIWindow rootViewController = [[ViewController alloc] init];

将我们的视图直接添加到 UIWindow 会阻碍视图控制器的功能，并导致 iPhone 与 iPad 上的未定义行为。

我们新的初始化步骤（如果有人遇到这些问题，可以解决这些问题）：

> 1.  UIWindow 初始化并生成密钥。
> 2.  UIWindow rootViewController = [[ViewController alloc] init];
> 3.  rootViewController.view = [[GLAndTouchView alloc] init];

希望任何遇到同样问题的人都会发现这很有用。

# jquery - jquery如何根据更改类获取要更改的项目的事件

> ID：12048003
> 
> 赞同：0
> 
> 时间：2012-08-21T03:14:30.327
> 
> 标签：jquery

我有这个代码：

```
<div class="show">Hello</div> 
```

使用脚本：

```
$('.show').click(function() {
    $(this).removeClass('show');
    $(this).addClass('pop');
   alert("show");
});
$('.pop').click(function() {
    $(this).removeClass('pop');
    $(this).addClass('show');
   alert("pop");
}); 
```

所以我希望会发生的是你会点击你好，它会说显示。然后下次它会说流行。然后它将在两者之间交替。然而，它被困在节目中。

我猜想我需要如何重新绑定事件。

有人可以帮我弄这个吗？

[http://jsfiddle.net/Kgak9/](http://jsfiddle.net/Kgak9/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T03:19:59.883

改为使用`on`。

```
$('body').on('click', '.show', function() {
    $(this).removeClass('show');
    $(this).addClass('pop');
   alert("show"); 
});
$('body').on('click', '.pop', function() {
    $(this).removeClass('pop');
    $(this).addClass('show');
   alert("pop");
}); 
```

[演示](http://jsfiddle.net/Kgak9/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T03:25:17.530

或尝试使用切换（）；

```
$('.show').toggle(function() {
      $(this).removeClass('show');
      $(this).addClass('pop');
      alert("show"); 
   },
   function() {
       $(this).removeClass('pop');
       $(this).addClass('show');
       alert("opo");
   }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T03:25:39.977

您可以在元素上设置一个标志，`data`而不是使用生成更短代码的类：

```
$('button').click(function(){
  var flag = $(this).data('flag') || false;
  alert(flag ? 'foo' : 'bar');
  $(this).data('flag', !flag);
}); 
```

**演示：http:** [//jsbin.com/epilew/2/edit](http://jsbin.com/epilew/2/edit)

**编辑：**

您可以扩展它以使用您想从数组中获取的任意数量的单词。

```
$('button').click(function(){
  var words = ['foo', 'bar', 'hey', 'lol'];
  var flag = $(this).data('flag') || 0;
  var word = words[flag];
  alert(word);
  $(this).data('flag', flag >= words.length-1 ? 0 : ++flag);
}); 
```

**演示：http:** [//jsbin.com/epilew/4/edit](http://jsbin.com/epilew/4/edit)

# .net - 蓝色图标在树视图中失去质量

> ID：12048004
> 
> 赞同：1
> 
> 时间：2012-08-21T03:14:46.920
> 
> 标签：.net, treeview, icons, imagelist

以下是我正在处理的一些图片：

![在此处输入图像描述](../Images/42124123f9162b638182dd927ed3d609.png)

如果您仔细观察，`TreeView`（在“添加项目”窗口后面的背景中）中的项目具有低质量的图标。但是，“添加项目”对话框`ImageList`的内部也是如此。`ListView`

不确定您是否能分辨，但“世界”节点的图标（位于两个“PrimitiveCuboid”节点上方）以其原始质量显示。基本上所有的图标都可以，除了这个图标（和另一个类似的图标）。

什么样的事情会导致这种情况，我该如何解决？在我的应用程序中，他的低分辨率图标似乎很不合适。

# android - 带有 soundpool 的循环轨道

> ID：12048007
> 
> 赞同：1
> 
> 时间：2012-08-21T03:15:02.097
> 
> 标签：android, audio, loops, media-player, soundpool

我需要在我的应用程序中循环播放音乐而不滞后。在 android < 4.0 中，我使用了媒体播放器，一切正常。在 android > 4.0 中，相同的代码无法在没有重要延迟的情况下循环。

所以我尝试使用 SoundPool。如果我使用

```
int NO_LOOP=0;
sp.play(ID, 1, 1, 0, NO_LOOP, 1); 
```

声音播放没有问题，但如果我使用

```
int LOOP=-1;
sp.play(ID, 1, 1, 0, LOOP, 1); 
```

它不起作用，并出现此消息：

```
08-21 05:12:48.243: E/AudioTrack(15035): AudioFlinger could not create track, status: -12
08-21 05:12:48.243: E/SoundPool(15035): Error creating AudioTrack 
```

怎么了？我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T23:36:48.133

为了进行无缝循环，您必须使用小于 1mb 的 WAV 文件。否则，循环的 -1 设置将导致您的文件无法播放。

这行得通，刚刚测试过。

# r - R - 连接整数数组

> ID：12048012
> 
> 赞同：4
> 
> 时间：2012-08-21T03:16:46.767
> 
> 标签：r

我怎样才能加入`1:3`和`7:8`去`1 2 3 7 8`？

哪里有一个很好的资源来挑选这样的奇特？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-08-21T03:19:54.837

```
c(1:3, 7:8)
[1] 1 2 3 7 8 
```

帮助页面显示`this is a generic function which combines its arguments.`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T03:36:00.300

你也可以这样做：

```
 v<-c(1:3)
 v<-c(v, 7:8) 
```

# ruby-on-rails - Rails 3：类方法认证

> ID：12048014
> 
> 赞同：0
> 
> 时间：2012-08-21T03:17:07.837
> 
> 标签：ruby-on-rails, ruby-on-rails-3, class, mongoid

我有一个简单的授权功能，但我很难正确实施。每个帖子在创建时都会发出一个 :key_code ，用户（未会话）可以键入代码并删除他们的帖子。问题是，无论他们为 key_code 键入什么，对象都会被传递。

为什么这总是返回 0？

```
 field :key_code, type: Integer

    def self.auth(id, key_code)
        post = Post.where(:id => id).first

        puts key_code        #for testing:
        puts post.key_code   #for testing: 

        if post.key_code == key_code
          return 1
        else
          return 0
        end

end 
```

控制台测试：

```
1.9.3p194 :001 > a = Post.auth('5032f3254ff9fcf10100001b','42745590875')
42745590875
42745590875
=> 0 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T04:27:09.497

看起来您使用的是赋值运算符 ( `=`) 而不是相等 ( `==`)。将该行更改为：

```
if post.key_code == key_code 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T04:49:48.707

我得到了它。它还将第二个数字作为字符串传递！多哈

# javascript - 最有效的 jquery 显示/隐藏切换

> ID：12048015
> 
> 赞同：1
> 
> 时间：2012-08-21T03:17:33.050
> 
> 标签：javascript, jquery

简单的问题：

基于使用 jquery 的选择控件显示/隐藏 2 个 div 的最有效方法是什么？

```
<div id="div1">DIV 1 BRO</div>
<div id="div2" style="display:none;">THIS BE DIV 2 CUZ</div>

<select id="blablabla">
    <option value="div1">div1</option>
    <option value="div2">div2</option>
</select> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T03:19:27.027

给你：**工作演示** [http://jsfiddle.net/qPUGL/](http://jsfiddle.net/qPUGL/)

API：[http ://api.jquery.com/toggle/](http://api.jquery.com/toggle/)

**代码**

```
$('#blablabla').change(function(){
    $("#div1,#div2").toggle()
});​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T03:26:30.403

检查这个 JsFiddle[演示](http://jsfiddle.net/rTe3q/)

使用 slideToggle 功能它看起来不错

# sql - sql - 按地区查询的销售人员 - 将多个语句与 WITH 子句组合

> ID：12048021
> 
> 赞同：1
> 
> 时间：2012-08-21T03:18:19.923
> 
> 标签：sql, db2, with-statement

我们有一个区域/销售员关系，其中：每个区域 (TERR) 可能有多个销售员 (SALM)，但每个销售员只能有一个区域。

例子：

```
Territory      Salesman   Sales$ Period   
    1             100      999     1
    1             100      999     2
    1             200      999     1 
    1             200      999     2    
    2             300      999     1
    2             300      999     2
    3             400      999     1
    3             400      999     2 
```

我想建立一个汇总表，最好使用单个 SQL 语句 -

*   显示领土，
*   该地区的销售人员数量（** 澄清：** 这是在该地区进行销售的唯一销售人员代码总数）和
*   列出同一文件中的推销员编号。

例子：

```
Territory # of Salesmen   Salesman   
--------- -------------   --------   
1             2            100       
1             2            200       
2             1            300       
3             1            400 
```

SQL：

```
// First I get a list of territories and number of salesman in each territory
With tmpFile as (Select TERR, SALM, count(*) 
   FROM FILE
   GROUP BY TERR, SALM 
   ORDER BY TERR, SALM   
) 
SELECT tmpFile.TERR, count(*) FROM tmpFile GROUP BY          
tmpFile.TERR ORDER BY tmpFile.TERR

// Next step is to get a list of all salesmen in a territory
Select TERR, SALM
   FROM FILE
   GROUP BY TERR, SALM 
   ORDER BY TERR, SALM
) 
```

// 最后一步是将上述两个步骤结合起来。如果可能的话，我想将所有三个步骤合并到一个语句中。有没有更有效的方法来做到这一点。我正在使用 IBM db/2 SQL。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T16:36:07.863

虽然我想使用语句的 OLAP 版本，但我的 DB2 版本（V6R1）不支持该`COUNT()`上下文中的函数（嘘）。也就是说，这是一个可以工作的版本*，*并且应该可以在任何其他 RDBMS 上工作（我认为）：

```
SELECT DISTINCT terr, salm, salesmen
FROM File -- I really hope that's not your file name - it's a reserved word
JOIN (SELECT terr territory, COUNT(DISTINCT salm) salesmen
      FROM File
      GROUP BY terr) Salesmen_Per_Territory
ON territory = terr 
```

请注意`DISTINCT` *内部* `COUNT()`，因为这是阻止推销员在每个时期都被计算在内的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T03:22:17.493

为什么不在单个查询中进行呢？

```
SELECT Territory, SalesMan, COUNT(*) as [No. of Salesman]
FROM tableName
GROUP BY Territory, SalesMan 
```

他们在不同的桌子上吗？例如，`TERR`和`SALM`？

```
SELECT  a.Territory, b.SalesMan, Count(b.Territory) as [No. of Salesman]
FROM    Terr a 
            INNER JOIN SALM b
                on a.Territory = b.Territory
GROUP BY a.Territory, b.SalesMan 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-22T06:20:44.427

我会说您使用公用表表达式 [aka. WITH 子句]，但它可以在一个语句中轻松有效地完成。

```
WITH t as
(SELECT terr, count(distinct salm) as slspeople
   FROM yourfile
   WHERE salesamt > 0
   GROUP BY terr
)
SELECT DISTINCT s.terr, t.slspeople, s.salm
  FROM yourfile as s
  JOIN    t       using (terr)
  WHERE salesamt > 0
  ORDER BY s.terr, s.salm 
```

该`using (terr)`子句是 的简写`on s.terr = t.terr`，其中匹配的列在两个表中必须具有相同的名称。

我添加了`WHERE salesamt > 0`唯一的，因为您的澄清要求之一是仅列出有销售的销售人员。如果这不适用，当然把它拿出来。

* * *

获取提供的各种答案并使用 Visual Explain 分析它们可能是一个好主意。这是一个有价值的工具，您可以在其中尝试不同的变体，看看哪些表现更好。我在 IBM i 上使用它，但我相信它也存在于其他两个平台上。

# android - 如何在Android中的edittext开头添加空格？

> ID：12048025
> 
> 赞同：1
> 
> 时间：2012-08-21T03:18:51.787
> 
> 标签：android, android-edittext

我想在 EditText 的文本开头添加一个空格。因此，即使用户按下删除按钮，开头仍有空格。如何检查第一个字符是否为空格，如果不是，则在开头自动添加空格？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T03:27:24.877

您可以使用 TextWatcher 执行此操作，方法是覆盖 onTextChanged() 并检查空格是否是 EditText 字符串中的第一个字符。如果不添加它。

```
mEditText.addTextChangedListener(new TextWatcher(){
    public void afterTextChanged(Editable s) {}
    public void beforeTextChanged(CharSequence s, int start, int count, int after) {}
    public void onTextChanged(CharSequence s, int start, int before, int count) {
        //do stuff
        String mStr = mEditText.getText().toString();
        if(mStr.charAt(0) != ' '){
            mEditText.setText(' ' + mStr);
        }
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T03:27:09.353

您可以使用Class 的`startWith()`方法`String`来检查您的要求。

```
String str = editText.getText().toString(); 

if ( !str.startsWith ( " " ) )
{
    // add space
    editText.getText().insert(0, " ");
} 
```

您需要在 KeyPress Event 中检查上述情况。

# wix - 为什么 Major Upgrade 不会升级之前的 Per-Machine 安装？

> ID：12048032
> 
> 赞同：3
> 
> 时间：2012-08-21T03:19:45.007
> 
> 标签：wix, wix3.5, major-upgrade

我正在使用带有新的主要升级功能的 Wix 3.5，我还`WixUI_Advanced`用于允许用户在每用户（默认）或每机器安装范围之间进行选择。

安装具有相同每用户范围的较新版本时，主要升级适用于每用户安装范围。但是，当旧版本安装为 Per Machine 范围时，使用 Per Machine 范围安装新版本实际上不会将旧版本升级到新版本。相反，我在程序和功能中找到了 2 个已安装的实例。

我从 StackOverflow 中找到了这个问题和答案：[Wix Major Upgrade and Install Context Issues](https://stackoverflow.com/questions/8765214/wix-major-upgrade-and-install-context-issues)。Ciprian 的唯一回答是`FindRelatedProducts`再次执行行动。

我不知道如何`FindRelatedProducts`再次执行。有没有人试过这个并看到它有效，如果是，如何？

非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T06:48:57.540

在用户选择 PerMachine 范围然后单击 InstallScopeDlg 对话框上的 Next 按钮后，我设法通过执行 FindRelatedProducts 操作来解决此问题：

<UI Id="CustomWixUI_Advanced">

...

<Publish Dialog="CustomInstallScopeDlg" Control="Next" Event="NewDialog" Value="InstallDirDlg" Order="7">WixAppFolder = "WixPerMachineFolder"</Publish>

<-- 当用户选择 PerMachine 安装范围然后单击 InstallScopeDlg 上的 Next 按钮时，我们如何构建 Windows Installer 以执行 FindRelatedProducts 操作 -->

<Publish Dialog="CustomInstallScopeDlg" Control="Next" Order="8" Event="DoAction" Value="FindRelatedProducts">WixAppFolder = "WixPerMachineFolder"</Publish>

</UI Id="CustomWixUI_Advanced">

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-28T11:12:25.710

您可以在 和 中添加具有所需条件和序列的元素。虽然我没有遇到你的问题，也不能确定这是否会有所帮助......

# jquery - jquery：如何检测脚本或鼠标滚轮调用的事件？

> ID：12048036
> 
> 赞同：3
> 
> 时间：2012-08-21T03:20:07.377
> 
> 标签：jquery, events

如何检测脚本或鼠标滚轮调用的事件？

对于示例此代码：

```
$(window).scroll(function(event){
// detecting here is scroll called by some script( $.scrollTo('#somediv') for sample ) or by mousewheel
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T03:27:45.963

```
$(window).scroll(function(e) {
    if(!e.isTrigger) {
        // mouse wheel
        console.log('wheeeeeel');
    }
}); 
```

[**使用鼠标滚轮事件的演示**](http://jsfiddle.net/L7bp9/)

[**使用点击事件的演示**](http://jsfiddle.net/SZF8T/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T03:51:57.933

我通常使用一个附加参数并在我对该函数的动态调用中使用它。

```
$('.item').click(function(event,explicit) {
    if (explicit) console.log("I'm called explicitly!");
}) 
```

可以像这样触发`$('.item').trigger('click',true)`

# java - javax.naming.NamingException：无法创建资源实例问题

> ID：12048037
> 
> 赞同：1
> 
> 时间：2012-08-21T03:20:18.277
> 
> 标签：java, jdbc, database-connection

在 Eclipse 中运行此示例代码时（该问题与 JSF 无关）我收到错误 javax.naming.NamingException: Cannot create resource instance

**Java 文件**

```
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.annotation.Resource;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;
import javax.naming.Context;
import javax.naming.InitialContext;
import javax.naming.NamingException;
import javax.sql.DataSource;
@SessionScoped
public class CustomerBean implements Serializable{

    //resource injection
    @Resource(name="jdbc/SSHD")
    private DataSource ds;

    //if resource inject is not support, you still can get it manually.
    public CustomerBean(){
        try {
            System.out.println("11111111111111");

            Context ctx = new InitialContext();
            System.out.println("222222222222222222");
            ds = (DataSource)ctx.lookup("java:comp/env/jdbc/SSHD");
        } catch (NamingException e) {
            System.out.println("3333333333333333333");
            e.printStackTrace();
        }

    }
} 
```

**webapp/WEB-INF/web.xml**

```
<resource-ref>
   <description>SSHD Connection</description>
   <res-ref-name>jdbc/SSHD</res-ref-name>
   <res-type>oracle.jdbc.pool.OracleDataSource</res-type>
   <res-auth>Container</res-auth>
 </resource-ref> 
```

**webapp/META-INF/context.xml**

```
<Context>

  <Resource name="jdbc/SSHD" auth="Container" type="oracle.jdbc.pool.OracleDataSource"
               maxActive="100" maxIdle="30" maxWait="10000"
               username="ABCD" password="XYZZ" driverClassName="oracle.jdbc.driver.OracleDriver"
               url="jdbc:oracle:thin:@XX.XX.XX.XXXX:1521:SSHD"/>

</Context> 
```

**webapp/WEB-INF/lib**

```
classes12.jar 
```

**错误堆栈**

```
11111111111111
javax.naming.NamingException: Cannot create resource instance
222222222222222222
3333333333333333333
    at org.apache.naming.factory.ResourceFactory.getObjectInstance(ResourceFactory.java:146)
    at javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:321)
    at org.apache.naming.NamingContext.lookup(NamingContext.java:843)
    at org.apache.naming.NamingContext.lookup(NamingContext.java:154) 
```

请指教

# wordpress - Wordpress - 从首页隐藏帖子的选项

> ID：12048041
> 
> 赞同：0
> 
> 时间：2012-08-21T03:21:05.950
> 
> 标签：wordpress, categories

我正在使用 Wordpress 页面模板将具有某些类别的帖子拉到他们自己的页面中。我的问题是它们也显示在主页上。我知道如何从主页完全隐藏类别，但我想要一个切换，以便如果选中，它将发布到主页和子页面，如果未选中，它将仅显示在子页面上. 那有意义吗？

此代码位于“奖项”模板上，并引入包含类别 slug“奖项”的帖子。

```
<?php
    $paged = (get_query_var('paged')) ? get_query_var('paged') : 1;
    $args= array(
        'category_name' => 'awards', // Change these category SLUGS to suit your use.
        'paged' => $paged
    );
    query_posts($args);?> 
```

`query_posts`然后使用标签从主页阻止“奖项”类别：

```
<?php if ( is_home() ){ 
     query_posts( 'cat=-5' ); //-5 is the category id for 'awards'
}?> 
```

我试图通过使用未被主页阻止的类别标记帖子来解决此问题，但它显然不在乎它被标记为其他内容。

所以我的难题是我想要一个简单的选项（哈哈），它允许我选择它是否属于主页，同时仍然让它们都显示在另一个页面上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-02T10:08:20.813

可以选择使用 a`Wordpress Plugin`吗？

如果是这样，您可以使用**WP Hide Post**，它启用了隐藏某些帖子以显示在首页上的功能。

这是资源的链接： [http ://wordpress.org/plugins/wp-hide-post/](http://wordpress.org/plugins/wp-hide-post/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T03:21:05.950

好吧..在写这篇文章的过程中，我受到了启发，果然我找到了简单的解决方案。'Uncategorized' 是默认类别，id 为 1。在索引页面上，我只是添加了 'query_posts('cat=1');' 在阻止其他类别的代码下方。这样，我可以在其中一个子页面上为我想要的类别标记它，也可以为我想在主页上显示的类别标记它。这是我的 index.php 上的代码：

```
<?php if ( is_home() ){
            query_posts( 'cat=-5' );
            query_posts( 'cat=1' );
        }?> 
```

因此，如果我希望它出现在主页和子页面上，我会将其归类为“奖励”和“未分类”（或您选择的任何主页类别）。如果我只想在子页面上使用它，我只需选择该类别。这是因为 'query_posts('cat=1');' 写在'query_posts('cat=-5');'下面 部分，所以它发生在告诉服务器毕竟显示它的块之后。

# regex - 使用正则表达式删除重复链接

> ID：12048045
> 
> 赞同：0
> 
> 时间：2012-08-21T03:21:33.113
> 
> 标签：regex, preg-replace

我正在尝试解析一些 html 并删除不必要的重复链接。例如，我想要以下代码：

```
<p>
  Lorem ipsum amet 
  <a href="http://edition.cnn.com/">
    Proin lacinia posuere
  </a>
   sit ipsum.
</p>
<p>
  <a href="http://www.google.com/articles/blah">
    [caption align="alignright"]
    <a href="http://www.google.com/articles/blah">
      <img src="http://hoohlr.dev/Picture-142-300x222.png" alt="Blah blah/Flickr " height="222" class="size-medium wp-image-4351" />
    </a>
     sociis magnis [/caption]
  </a>
</p> 
```

要转换成这个（删除 [caption] 之前的链接以及结束标记：

```
<p>
  Lorem ipsum amet 
  <a href="http://edition.cnn.com/">
    Proin lacinia posuere
  </a>
   sit ipsum.
</p>
<p>
  [caption align="alignright"]
  <a href="http://www.google.com/articles/blah">
    <img src="http://hoohlr.dev/Picture-142-300x222.png" alt="Blah blah/Flickr " height="222" class="size-medium wp-image-4351" />
  </a>
   sociis magnis [/caption]
</p> 
```

删除的链接应始终位于 [标题] 之前。任何擅长正则表达式的人都可以使用 php preg_replace （或更简单的方法）帮助我做到这一点吗？

我将不胜感激。谢谢！

编辑：好的，我对我正在寻找的东西做了很好的尝试。[http://regexr.com?31t05](http://regexr.com?31t05)和[http://regexr.com?31svv](http://regexr.com?31svv) 试图发布它作为该网站的答案不会让我...任何人都可以改进它吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:46:59.037

这个经过测试的脚本适用于您的测试数据：

```
<?php // test.php Rev:20120820_2200
function stripNestedAnchorTags($text) {
    $re = '%
        # Match (invalid) outer A element containing inner A element.
        <a\b[^<>]+>\s*               # Outer A element start tag (and ws).
        (                            # $1: contents of outer A element.
          [^<]*(?:<(?!/?a\b)[^<]*)*  # Everything up to inner <a>
          <a\b[^<>]+>                # Inner A element start tag.
          [^<]*(?:<(?!/?a\b)[^<]*)*  # Everything up to inner </a>
          </a>                       # Inner A element end tag.
          [^<]*(?:<(?!/?a\b)[^<]*)*  # Everything up to outer </a>
        )                            # End $1: contents of outer A.
        </a>\s*                      # Outer A element end tag (and ws).
        %ix';
        while(preg_match($re, $text))
            $text = preg_replace($re, '$1', $text);
        return $text;
}
$idata = file_get_contents('testdata.html');
$odata = stripNestedAnchorTags($idata);
file_put_contents('testdata_out.html', $odata);
?> 
```

# c++ - 四元数 -> 欧拉角 -> 旋转矩阵问题 (GLM)

> ID：12048046
> 
> 赞同：14
> 
> 时间：2012-08-21T03:21:35.990
> 
> 标签：c++, math, quaternions, euler-angles, glm-math

我正在编写一个程序，它加载一个包含场景描述的文件，然后使用 OpenGL 显示它。我将 GLM 用于我的所有数学运算。场景文件中的旋转以四元数格式存储。我的场景管理系统以欧拉角的形式对对象进行旋转，这些角度稍后在绘制时转换为旋转矩阵。

因此，我的加载过程采用四元数旋转，将它们转换为欧拉角以存储在我的对象类中，然后将这些欧拉角转换为旋转矩阵以进行绘制。我正在使用 glm::eulerAngles 和 glm::eulerAngleYXZ 函数（分别）来执行这两个操作。

但是，我得到的结果不正确。例如，如果我理解正确，四元数 {0.500 -0.500 0.500 0.500}（即 WXYZ）应该描述从 +Z 轴到 +Y 轴的箭头旋转。然而，当我运行程序时，我得到了指向 +X 轴的箭头。

我会假设我对四元数的理解存在一些缺陷，但我可以通过跳过中间欧拉角形式来获得预期的结果。通过使用 glm::toMat4 将四元数直接转换为旋转矩阵，我得到一个将 +Z 箭头指向 +Y 的旋转。

考虑到这两种方法看起来既简单又正确，我在协调这两种不同的输出时遇到了麻烦。为了简化我的问题，为什么这两种看似等效的方法会产生不同的结果：

```
glm::quat q(.5, -.5, .5, .5);
glm::vec3 euler = glm::eulerAngles(q) * 3.14159f / 180.f; // eulerAngleYXZ takes radians but eulerAngles returns degrees
glm::mat4 transform1 = glm::eulerAngleYXZ(euler.y, euler.x, euler.z);
// transform1 rotates a +Z arrow so that it points at +X

glm::quat q(.5, -.5, .5, .5);
glm::mat4 transform2 = glm::toMat4(q);
// transform2 rotates a +Z arrow so that it points at +Y 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-20T19:39:28.807

你现在可能已经想通了……但是

eulerAngle 序列的作用是什么：

```
glm::vec3 euler = glm::eulerAngles(q) * 3.14159f / 180.f; 
```

返回？如果它没有显式返回“YXZ”序列，您将无法正确使用下一个函数：

```
glm::mat4 transform1 = glm::eulerAngleYXZ(euler.y, euler.x, euler.z); 
```

您的变量“euler”必须与您指定的将其转换为旋转矩阵的函数具有相同的序列类型。

看过[这里](http://glm.g-truc.net/api-0.9.0/a00184.html)之后，看起来函数“glm::eulerAngles”返回“XYZ”作为俯仰、偏航和滚动。因此，假设它们是“YXZ”或偏航、俯仰、滚动是不正确的。

如前所述，对于欧拉角和旋转矩阵，顺序很重要！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-21T12:22:51.703

处理欧拉角时，乘法的顺序很重要。YXZ 和 XYZ 产生非常不同的旋转。

您可以为每个轴计算单独的矩阵，然后按照您需要的顺序将它们相乘。

```
glm::quat q(.5, -.5, .5, .5);
glm::vec3 euler = glm::eulerAngles(q) * 3.14159f / 180.f;

glm::mat4 transformX = glm::eulerAngleX(euler.x);
glm::mat4 transformY = glm::eulerAngleY(euler.y);
glm::mat4 transformZ = glm::eulerAngleZ(euler.z);

glm::mat4 transform1 =
    transformX * transformY * transformZ; // or some other order 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-05-27T07:23:01.620

我认为结果已经是弧度，无需转换。

```
glm::quat q(.5, -.5, .5, .5);
glm::vec3 euler = glm::eulerAngles(q); // * 3.14159f / 180.f;

glm::mat4 transformX = glm::eulerAngleX(euler.x);
glm::mat4 transformY = glm::eulerAngleY(euler.y);
glm::mat4 transformZ = glm::eulerAngleZ(euler.z);

glm::mat4 transform1 =
    transformX * transformY * transformZ; // or some other order 
```

# java - 如何让 GridBagLayout 尊重按钮或面板的最小尺寸？

> ID：12048047
> 
> 赞同：11
> 
> 时间：2012-08-21T03:21:45.333
> 
> 标签：java, swing, layout-manager, gridbaglayout

在下面的 GridBagLayout 代码中，我期望 JButton btn2 的指定最小大小在将 JFrame 调整为更小时得到遵守。但是当我使 JFrame 更小时，btn2 变得小于其最小尺寸然后消失。

有人可以指出我做错了什么的正确方向吗？也许我必须设置包含按钮的 JPanel 的最小尺寸？

任何帮助表示赞赏，谢谢！

```
 JFrame frame = new JFrame();
    frame.setSize(400,300);
    frame.setLocationRelativeTo(null);
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

    JPanel panel = new JPanel();
    panel.setMinimumSize(new Dimension(400,300));
    panel.setBackground(Color.RED);

    panel.setLayout(new GridBagLayout());
    GridBagConstraints gbc = null;

    JButton btn1 = new JButton("btn1");
    btn1.setPreferredSize(new Dimension(150,50));
    btn1.setMinimumSize(new Dimension(150,50));
    gbc = new GridBagConstraints(0, 0, 1, 1, 0.0, 0.0, 
            GridBagConstraints.NORTHWEST, GridBagConstraints.NONE,
            new Insets(0,0,0,0), 0, 0);
    panel.add(btn1, gbc);

    JButton btn2 = new JButton("btn2");
    btn2.setPreferredSize(new Dimension(150,150));
    btn2.setMinimumSize(new Dimension(150,150));
    gbc = new GridBagConstraints(1, 0, 1, 1, 1.0, 1.0, 
            GridBagConstraints.NORTHWEST, GridBagConstraints.BOTH,
            new Insets(0,0,100,100), 0, 0);
    panel.add(btn2, gbc);

    frame.getContentPane().add(panel);
    frame.setVisible(true); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-30T11:23:12.550

除了安德鲁汤普森的回答：

*   如果组件的首选尺寸能够并且将得到尊重，则 GBL 不会尊重组件上设置的最小尺寸。
*   当组件的首选尺寸不能被尊重时，GBL 确实尊重组件上设置的最小尺寸，即：组件更喜欢尺寸为 (w,h) 但 GBL 认为这是不可能的，因为空间不足，因此它依赖于组件的广告最小尺寸。

因此，当您缩小包含框架的尺寸时，很有可能使您的组件突然变得比以前更大。您只需在其上设置大于首选尺寸的最小尺寸。所以你正在使框架更小，突然你的组件变得更大。那是......奇怪但可能:) 大家都欢呼GBL。

下面是一个实现此行为的面板示例（GBC 是一个比原始 GridBagConstraints 更易于使用的类）：

```
private static JPanel getPanel() {

    JPanel panel = new JPanel(new GridBagLayout());

    final JTextField textField = new JTextField("test");
    final String text = "text";
    final JLabel label = new JLabel(text);
    final JButton button = new JButton(new AbstractAction("Enlarge label!") {
        private String actText = text; 
        @Override
        public void actionPerformed(ActionEvent arg0) {
            actText = actText + text;
            label.setText(actText);
        }
    });

    GBC g;

    g = new GBC().locate(0, 0).weight(0.0, 0.0).align(GBC.WEST, GBC.HORIZONTAL, null);
    textField.setMinimumSize(new Dimension(200,20));
    panel.add(textField, g);

    g = new GBC().locate(1, 0).weight(1.0, 0.0);
    panel.add(label, g);

    g = new GBC().locate(0, 1).weight(1.0, 1.0).span(2, 1);
    panel.add(button, g);

    return panel;
} 
```

一般来说，我会说不要使用必须在 GBL 中固定大小的组件。用不同的布局管理器将它包裹在其他面板中。

如果您真的想在 GBL 中使用固定大小的组件，请覆盖其 getPreferredSize() 方法并返回您想要的大小。但我更愿意忽略这些方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-21T03:36:57.100

> 也许我必须设置包含按钮的 JPanel 的最小尺寸？

AFAIR GBL 因忽略尺寸提示而臭名昭著。不，对此进行更正。要在 GBL 中合理调整组件大小，请使用`GridBagConstraints`具有适当值的 。但请注意，布局的行为不会显示任何将被强制小于其最小尺寸的组件。

我将`pack()`框架然后设置框架上的最小尺寸。这是它的外观，将最后一行更改为..

```
frame.pack();
frame.setVisible(true);
frame.setMinimumSize(frame.getSize()); 
```

不过，考虑到布局，我倾向于将其放入`btn1`面板的 中，然后将其添加到`PAGE_START`另一个BL 的中。 会进入外层BL的。`BorderLayout``LINE_START``btn2``CENTER`

# html - CSS 没有正确更新

> ID：12048059
> 
> 赞同：0
> 
> 时间：2012-08-21T03:25:42.990
> 
> 标签：html, css, drupal

我目前正在 Drupal 中开发一个网站，并且正在尝试放置一个自定义 twitter 块。这是我的 HTML 代码：

```
<ul id="twitter_update_list" class="twitter"><li>Twitter feed loading</li></ul>
<script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>
<script type="text/javascript" src="http://twitter.com/statuses/user_timeline/terryamorin.json?callback=twitterCallback2&amp;count=5"></script> 
```

这是相关的自定义 CSS：

```
#twitter_update_list a {
color: #CA0A6C;
} 
```

现在由于某种原因，代码将无法正确更新或仅适用于一个链接而不是所有链接。我检查了萤火虫，如果我在这里选择元素并禁用/重新启用字体大小：

```
element.style {
    font-size: 85%;
} 
```

然后它会正确显示该链接。为什么会这样？我没有覆盖正确的属性吗？

更新：

```
<div class="content">
<ul id="twitter_update_list" class="twitter">
<li><span>Vote for Cooper in the Fido Casting Call once a day every day! We could have our own UOGC puppy in a commercial !! <a href="http://t.co/bDwdKlQ6">http://t.co/bDwdKlQ6</a></span> <a style="font-size:85%" href="http://twitter.com/UOGreekCouncil/statuses/237535525911793664">about 15 hours ago</a></li></ul>
<script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>
<script type="text/javascript" src="http://twitter.com/statuses/user_timeline/uogreekcouncil.json?callback=twitterCallback2&amp;count=1"></script></div> 
```

固定的：

我改用了以下 CSS，它似乎可以工作：

```
#twitter_update_list a{
    color: #CA0A6C;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:03:13.063

这只是您的属性选择器实际上不匹配的一种情况。在实际元素上设置的属性是`style="font-size:85%"`，而您在 CSS 中搜索的属性是`style="font-size: 85%;"`（注意额外的空格和分号的添加）。**文本必须完美匹配。**

您*可以*更改选择器以查找正在设置的实际样式属性：

```
#twitter_update_list a[style="font-size:85%"] 
```

[请参阅 jsFiddle。](http://jsfiddle.net/46MEb/2/)

此外，由于这些链接似乎是唯一使用内联样式的链接，因此您可以只查找 style 属性的存在，如下所示：

```
#twitter_update_list a[style] 
```

由于您使用外部 JavaScript 文件来创建此 HTML，因此修改它以使用类可能不是一种选择，尽管这是我最终推荐的。寻找特定样式可能暂时可行，但如果 JavaScript 发生变化并且结构不完全相同，它会立即破坏您的 CSS。

# lua - corona lua 代码 - 为什么这个对象不旋转？（即质心相关的测试代码）

> ID：12048062
> 
> 赞同：0
> 
> 时间：2012-08-21T03:26:18.700
> 
> 标签：lua, coronasdk

有人可以解释为什么矩形在这里不旋转吗？这是 Lua 代码，我正在使用 Corona SDK。

也就是说，我试图建立一个质心偏离中心的矩形，然后在中间对它施加一个力，期望它在质心偏离时旋转......

```
display.setStatusBar( display.HiddenStatusBar )

-- Setup
local screenCenterX, screenCenterY =  display.contentWidth/2, display.contentHeight/2

-- Create Object
local myRect = display.newRect(0, 0, 30, 90)
myRect.strokeWidth = 2
myRect:setFillColor(140, 140, 140, 0)
myRect:setStrokeColor(180, 180, 180)
myRect:setReferencePoint(display.CenterReferencePoint)
myRect.x, myRect.y = screenCenterX, screenCenterY

-- Apply Physics
local physics = require("physics")
physics.start()
physics.setGravity(0,0)
physics.addBody( myRect, "kinimatic", { friction=0.5, bounce=0.1, radius = 45 } )

-- Redefine Centre of Mass (what I'm trying to get right)
myRect.xOrigin, myRect.yOrigin = screenCenterX, screenCenterY - 100

-- Replace myRect to the center as setting the xOrigin/yOrigin seems to have moved it
myRect.x, myRect.y = screenCenterX, screenCenterY

-- Apply Force
timer.performWithDelay(3000,
        function(event)
                myRect:applyForce(5,0,  screenCenterX, screenCenterY)
                -- WHY DOES THIS NOT SPIN THE OBJECT???
                -- Centre of gravity has been change so shouldn't it rotate now?   
                -- That is, trying to simulate applying a force to an object who's centre of mass is NOT in 
                -- the center, and then see it spin.
        end
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T22:07:13.547

变量 xOrigin 和 yOrigin 仅用于移动对象，这些变量根本不会影响物理，它们并不是真正的“原点”（它们是对象相对于父对象“x/yOrigin”的 x/y 位置“ 多变的）。

要做一个不平衡的物理对象，你需要用形状来做，所以你必须创建两个形状（因此你不能使用自动形状，你必须使用多边形），其中一个比另一个重模拟偏心质量。

例如，一个长度为 100 个单位的矩形，您将 50 个单位的重量设为 1，其他 50 个单位的重量设为 2，结果将是中心或多或少位于 x 75 处（我的数学在这里可能是错误的）。

# java - 使用自定义 ViewHandler 处理登录页面上的 ViewExpiredException

> ID：12048067
> 
> 赞同：2
> 
> 时间：2012-08-21T03:26:49.387
> 
> 标签：java, jsf-2, facelets, viewexpiredexception

在我的 Web 应用程序中，当会话过期并且用户发起请求（整页或 AJAX）时，用户将被重定向到登录页面，并显示会话过期的消息。问题是，当登录页面打开足够长的时间以使会话过期并且用户尝试登录时，用户将被重定向到登录页面，并显示会话过期的消息。

我遇到了[这个解决方案](https://stackoverflow.com/a/894798/584670)，但它适用于 JSF 1.x，不适用于 JSF 2。所以我开始构建自己的：

```
public class LoginViewHandler extends ViewHandler
{
    public LoginViewHandler(ViewHandler parent)
    {
        this.parent = parent;
    }

    @Override
    public Locale calculateLocale(FacesContext context)
    {
        return parent.calculateLocale(context);
    }

    @Override
    public String calculateRenderKitId(FacesContext context)
    {
        return parent.calculateRenderKitId(context);
    }

    @Override
    public UIViewRoot createView(FacesContext context, String viewId)
    {
        return parent.createView(context, viewId);
    }

    @Override
    public String getActionURL(FacesContext context, String viewId)
    {
        return parent.getActionURL(context, viewId);
    }

    @Override
    public String getResourceURL(FacesContext context, String path)
    {
        return parent.getResourceURL(context, path);
    }

    @Override
    public void renderView(FacesContext context, UIViewRoot viewToRender)
            throws IOException, FacesException
    {
        parent.renderView(context, viewToRender);
    }

    @Override
    public UIViewRoot restoreView(FacesContext context, String viewId)
    {
        UIViewRoot viewRoot = parent.restoreView(context, viewId);

        if (viewRoot == null && viewId.equals("/login.xhtml"))
        {
            parent.initView(context);

            viewRoot = parent.createView(context, viewId);
            context.setViewRoot(viewRoot);

            try
            {
                buildView(context, viewRoot); // Compile error!
            }
            catch (IOException e)
            {
                log.log(Level.SEVERE, "Error building view", e); 
            }
        }

        return viewRoot;
    }

    @Override
    public void writeState(FacesContext context) throws IOException
    {
        parent.writeState(context);
    }

    private ViewHandler parent;
} 
```

但是，没有调用方法`buildView`。我不确定它的作用，为什么需要它以及我应该用什么代替它。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T01:53:16.257

[`ViewDeclarationLanguage#buildView()`](http://docs.oracle.com/javaee/6/api/javax/faces/view/ViewDeclarationLanguage.html#buildView%28javax.faces.context.FacesContext,%20javax.faces.component.UIViewRoot%29)由于这一步与所使用的视图技术（Facelets、JSP、JavaVDL 等）分离，因此已将其移至。

```
context.getApplication().getViewHandler()
    .getViewDeclarationLanguage(context, viewId).buildView(context, viewRoot); 
```

顺便说一下，扩展起来更简单[`ViewHandlerWrapper`](http://docs.oracle.com/javaee/6/api/javax/faces/application/ViewHandlerWrapper.html)。这样你就不需要一堆委托方法了。

# java - 如何在 iText 中使用带有嵌入字体的 graphics2d

> ID：12048077
> 
> 赞同：2
> 
> 时间：2012-08-21T03:28:51.133
> 
> 标签：java, fonts, itext, graphics2d

我正在使用 graphics2d 的 drawString 方法在 iText 中显示字符串。但是我不能在 graphics2d 中使用嵌入字体，当我尝试调用 graphics2d 的 setFont 方法时，它需要 java.awt.font 而不是 itextpdf.text.Font。如何使用嵌入字体到图形 2d ？

# jquery - jQuery AJAX 多种内容类型似乎不起作用

> ID：12048078
> 
> 赞同：2
> 
> 时间：2012-08-21T03:29:02.507
> 
> 标签：jquery, ajax

在 jQuery Docs 中，它提到可以在一个[请求](http://api.jquery.com/jQuery.ajax/)（数据类型部分）[中使用多个`dataType`s 。`jQuery.ajax()`](http://api.jquery.com/jQuery.ajax/)这非常适合我正在尝试做的事情，但它并没有像我预期的那样工作。它仍在使用 JSON 解析器解析响应，但在将响应作为纯文本处理之前失败，就像配置应该要求的那样。这是我的代码：

```
jQuery.ajax({
    dataType: "jsonp html",
    url: "http://nomads.ncep.noaa.gov:9090/dods/rap/rap20120821/rap_f01.ascii?ugrdprs[7][0][-364][716]",
    success: function( data ) {
        console.log(data);
        callback(null, 'ucb');
    },
}); 
```

根据 Chrome 检查器中的网络选项卡，这成功获取了文件，但它给了我错误

```
Uncaught SyntaxError: Unexpected token < 
```

而不是像jsonp那样获取它并将其转换为html。

知道这里可能有什么问题吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:00:29.887

JSONP 在 URL 的末尾添加了一个额外`"?callback=?"`的内容来指定回调。

例如，如果你打电话

[https://gdata.youtube.com/feeds/api/videos/XZQFBbdOLRQ?v=2&alt=json](https://gdata.youtube.com/feeds/api/videos/XZQFBbdOLRQ?v=2&alt=json)

你可以看到纯json。

但是，如果您致电 [https://gdata.youtube.com/feeds/api/videos/XZQFBbdOLRQ?v=2&alt=json&callback=jQuery1234](https://gdata.youtube.com/feeds/api/videos/XZQFBbdOLRQ?v=2&alt=json&callback=jQuery1234)

您的数据在**jQuery1234( ... )**

然后，jquery 会解析**jQuery1234( ... )中的数据**

　　-------------------------------------------------- -------------------------------------

xml和html也是如此

如果您致电 [https://gdata.youtube.com/feeds/api/videos/XZQFBbdOLRQ?v=2&callback=jQuery1234](https://gdata.youtube.com/feeds/api/videos/XZQFBbdOLRQ?v=2&callback=jQuery1234)

**（上面的链接将在jQuery1234( ... )**中显示 xml 数据）

如果你想将 jsonp 数据转换成 html 我的建议是：

[http://example.com/?callback=jQuery1234](http://example.com/?callback=jQuery1234)

示例响应：

```
jQuery1234("<html><head></head><body>Hello World!</body></html>"); 
```

如果您将 dataType 设置为“jsonp html”，jquery 会将您的响应视为 html。

# asp.net-mvc - ASP.NET MVC 4 嵌套视图模型 Ajax

> ID：12048081
> 
> 赞同：0
> 
> 时间：2012-08-21T03:29:49.993
> 
> 标签：asp.net-mvc, mvvm, asp.net-mvc-4

也许我在考虑这个错误的方式，来自最近对 WPF 和 MVVM 的研究，但我的 Web 项目中有以下 ViewModel。

```
public class Route
{
    public Address Source {get; set;}
    public Address Destination {get; set;}
}

public class Address
{
    public string Text {get; set;}
    public Location Location {get; set;}
}

puclic class Location
{
    [Required]
    public double? Latitude {get; set;}
    [Required]
    public double? Longitude {get; set;}
}

public class Search
{
    public Route {get; set;}
    public IEnumerable<Route> Results {get; set;}
} 
```

我有以下观点（_ 前缀的观点是部分的）

```
 Home.cshtml - the main page, has @model Search with call to @Html.Partial("_Route", Model.Search) inside an Ajax.BeginForm.

   _Route.cshtml - @model Route, with two Html.Partials for _Address, one for Model.Source and one for Model.Destination

   _Address.cshtml - @model.Address, with a text box which should be "bound" to the Address.Text property. 
```

如果不清楚我要做什么 - 我试图让用户在源框和目标框中输入一些搜索文本，然后得到结果。当用户选择自动完成选项之一时，源和目标框应通过 Ajax 自动完成并填充 Address.Location.Latitude 和 Address.Location.Longitude。

最后，一旦用户拥有有效的源和目标位置，Home.cshtml 上的提交按钮应该通过 Ajax 调用以获取搜索结果并将它们绑定到网格。

很标准的东西我猜...

我正在努力以“最干净”的方式完成以下任务：

1.  由于位置实际上并未显示在地址视图中的任何位置（只是文本），我怎样才能让 ASP.NET MVC 的 DataAnnotations 验证启动并帮助我验证？

2.  当用户选择 AutoComplete 选项之一时，我如何让 Location 值冒泡回 Home.cshtml，它应该通过 Ajax 调用发布 Route 对象？

3.  我应该如何维护用户在源和目标中选择的地址的“状态”？将选择处理程序添加到自动完成？但是然后用选定的值做什么呢？

我希望这很清楚......但如果没有，请告诉我，我会尽力澄清。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T12:24:31.660

您可以使用[jQuery UI 自动完成](http://jqueryui.com/demos/autocomplete/)。让我们举个例子。

我们可以有以下模型：

```
public class Route
{
    public Address Source { get; set; }
    public Address Destination { get; set; }
}

public class Address
{
    [Required]
    [ValidCity("Location", ErrorMessage = "Please select a valid city")]
    public string Text { get; set; }
    public Location Location { get; set; }
}

public class Location
{
    public double? Latitude { get; set; }
    public double? Longitude { get; set; }
}

public class Search
{
    public Route RouteSearch { get; set; }
    public IEnumerable<Route> Results { get; set; }
} 
```

这`[ValidCity]`是我们在 Address 类中使用的自定义验证器：

```
public class ValidCityAttribute : ValidationAttribute
{
    private readonly string _locationPropertyName;
    public ValidCityAttribute(string locationPropertyName)
    {
        _locationPropertyName = locationPropertyName;
    }

    protected override ValidationResult IsValid(object value, ValidationContext validationContext)
    {
        var property = validationContext.ObjectType.GetProperty(_locationPropertyName);
        if (property == null)
        {
            return new ValidationResult(string.Format("Unknown property: {0}", _locationPropertyName));
        }
        var location = (Location)property.GetValue(validationContext.ObjectInstance, null);
        var city = value as string;

        if (!string.IsNullOrEmpty(city) && location != null && location.Latitude.HasValue && location.Longitude.HasValue)
        {
            // TODO: at this stage we have a city name with corresponding 
            // latitude, longitude => we could validate if they match
            // right now we suppose they are valid

            return null;
        }

        return new ValidationResult(FormatErrorMessage(validationContext.DisplayName));
    }
} 
```

然后是控制器：

```
public class HomeController : Controller
{
    public ActionResult Index()
    {
        var model = new Search
        {
            RouteSearch = new Route
            {
                Source = new Address(),
                Destination = new Address()
            }
        };
        return View(model);
    }

    [HttpPost]
    public ActionResult Index(Route search)
    {
        if (!ModelState.IsValid)
        {
            return PartialView("_Route", search);
        }

        // TODO: do the search here and return the results:

        var lat1 = Math.PI * search.Source.Location.Latitude.Value / 180;
        var lon1 = Math.PI * search.Source.Location.Longitude.Value / 180;

        var lat2 = Math.PI * search.Destination.Location.Latitude.Value / 180;
        var lon2 = Math.PI * search.Destination.Location.Longitude.Value / 180;

        var R = 6371;
        var distance = Math.Acos(Math.Sin(lat1) * Math.Sin(lat2) +
                          Math.Cos(lat1) * Math.Cos(lat2) *
                          Math.Cos(lon2 - lon1)) * R;
        return Json(new { distance = distance });
    }

    public ActionResult GetLocation(string text)
    {
        var results = new[]
        {
            new { city = "Paris", latitude = 48.8567, longitude = 2.3508 },
            new { city = "London", latitude = 51.507222, longitude = -0.1275 },
            new { city = "Madrid", latitude = 40.4, longitude = -3.683333 },
            new { city = "Berlin", latitude = 52.500556, longitude = 13.398889 },
        }.Where(x => x.city.IndexOf(text, StringComparison.OrdinalIgnoreCase) > -1);

        return Json(results, JsonRequestBehavior.AllowGet);
    }
} 
```

对应的`~/Views/Home/Index.cshtml`视图：

```
@model Search

@using (Ajax.BeginForm(new AjaxOptions { OnSuccess = "searchComplete" }))
{
    <div id="search">
        @Html.Partial("_Route", Model.RouteSearch)
    </div>
    <p><button type="submit">OK</button></p>
} 
```

`~/Views/Home/_Route.cshtml`部分：

```
@model ToDD.Controllers.Route

<h3>Source</h3>
@Html.EditorFor(x => x.Source)

<h3>Destination</h3>
@Html.EditorFor(x => x.Destination) 
```

和 Address 类 ( `~/Views/Home/EditorTemplates/Address.cshtml`) 的编辑器模板：

```
@model Address

<span class="address">
    @Html.TextBoxFor(x => x.Text, new { data_url = Url.Action("GetLocation") })
    @Html.ValidationMessageFor(x => x.Text)
    @Html.HiddenFor(x => x.Location.Latitude, new { @class = "lat" })
    @Html.HiddenFor(x => x.Location.Longitude, new { @class = "lon" })
</span> 
```

最后一部分是让一切都充满活力。我们首先包含以下脚本（调整您正在使用的 jQuery 和 jQuery UI 的版本）：

```
<script src="@Url.Content("~/Scripts/jquery-1.7.1.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-ui-1.8.20.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script> 
```

最后我们编写自定义脚本来连接所有内容：

```
var searchComplete = function (result) {
    if (result.distance) {
        alert('the distance is ' + result.distance);
    } else {
        $('#search').html(result);
        attachAutoComplete();
    }
};

var attachAutoComplete = function () {
    $('.address :text').autocomplete({
        source: function (request, response) {
            $.ajax({
                url: $(this.element).data('url'),
                type: 'GET',
                cache: false,
                data: { text: request.term },
                context: response,
                success: function (result) {
                    this($.map(result, function (item) {
                        return {
                            label: item.city,
                            value: item.city,
                            latitude: item.latitude,
                            longitude: item.longitude
                        };
                    }));
                }
            });
        },
        select: function (event, ui) {
            var address = $(this).closest('.address');
            address.find('.lat').val(ui.item.latitude);
            address.find('.lon').val(ui.item.longitude);
        },
        minLength: 2
    }).change(function () {
        var address = $(this).closest('.address');
        address.find('.lat').val('');
        address.find('.lon').val('');
    });
}

$(document).ready(attachAutoComplete); 
```

# c# - WinForm Key Up 事件 SHIFT 和 char

> ID：12048083
> 
> 赞同：0
> 
> 时间：2012-08-21T03:30:27.620
> 
> 标签：c#, winforms

我想处理一个字母字符和下划线。如果还按下了 SHIFT，我如何知道输入了什么字符。目前，移位的字符由 ELSE 子句处理。

```
private void txtSearch_KeyUp(object sender, KeyEventArgs e)
{
    if (((int)e.KeyData >= 65 && (int)e.KeyData <= 122) ||
             (e.KeyData.ToString() == "_"))
    {
        System.Diagnostics.Debug.WriteLine(e.KeyData);
        //char thisChar = char excluding SHIFT, Control
        System.Diagnostics.Debug.WriteLine("Process " + thisChar);
    }
    else
    {
        System.Diagnostics.Debug.WriteLine("Throw away a " + e.KeyData);
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:41:13.590

天，

我采取了一种稍微不同的方法：

```
 private void txtSearch_KeyUp(object Sender, KeyEventArgs E)
    {
        int iKeyData = (int)(E.KeyData);

        if (((E.KeyData.HasFlag(Keys.OemMinus) == true) && (E.Shift == true)) || ((iKeyData >= 65) && (iKeyData <= 122)))
        {
            System.Diagnostics.Debug.WriteLine(E.KeyData);
        }
        else
        {
            System.Diagnostics.Debug.WriteLine("Throw away a " + E.KeyData);
        }
    } 
```

我不确定这将如何与不同的键盘布局一起使用 - 可能也想研究一下。

干杯!

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T03:51:09.633

```
if (e.Shift && (((int)e.KeyData >= 65 && (int)e.KeyData <= 122) || (e.KeyData.ToString() == "_")))
{
    //Code here
} 
```

# java - Tapestry5在服务定位器方法中编译错误返回服务接口

> ID：12048084
> 
> 赞同：0
> 
> 时间：2012-08-21T03:30:44.143
> 
> 标签：java, spring, tapestry

我有一个名为 DMSServiceLocator.class 的服务定位器类，其中有一个名为 getParser() 的方法，其返回类型为 Parser。我正在尝试使用扩展 Parser 的 Impl 返回一个名为 AutoMateParser 的服务，但是我收到一个编译错误，提示需要 Parser，找到 AutoMateParser。当我返回 new AutoMateServiceImpl() 而不是我的服务接口时，我没有收到任何编译错误。我的 getParser() 方法似乎没有意识到 autoMateParser 是同一类型。我尝试使用 Parser 投射 AutoMateParser，“return (Parser) autoMateParser;” 解决了编译错误，但收到了强制转换异常。我想知道是否有人知道如何做到这一点。提前致谢。

下面是我的代码示例。

应用模块类

```
public static void bind(ServiceBinder binder) {
        binder.bind(AutoMateParser.class, AutoMateParserImpl.class);
} 
```

DMSServiceLocator.class

```
public class DMSServiceLocator {

    @Inject
    private AutoMateParser autoMateParser;

    public Parser getParser() {
        if(automate) {
        return autoMateParser();
        } else {
           //Different data scrubber, but also extends Parser
           return homenetParser();
        }
    }

} 
```

AutoMateParserImpl.class

```
public class AutoMateParserImpl extends Parser implements AutoMateParser {
    protected Vehicle parseCar(String vehicleData) {
        //some data scrubbing code
    }
} 
```

解析器类

```
public abstract class Parser {
    //some csv line reader code
    protected abstract Vehicle parseCar(String carData);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T07:04:17.917

您正在尝试返回类型的对象`AutoMateParser`。该接口不是`Parser`（仅`AutoMateParserImpl`是）的子类型，因此编译器会抱怨。您需要重新考虑您的类层次结构。

您可以使用该方法提取一个`Parser`接口，扩展该接口，创建一个实现该接口的抽象类，并让您的服务定位器返回接口类型而不是抽象实现。`parseCar``AutoMateParser``ParserImpl``Parser``Parser`

*编辑：*类型可能看起来像这样：

```
public interface Parser {
   //public methods that you need to call
}

public interface AutoMateParser extends Parser {
    //any extra or overriden method declarations
}

public abstract class AbstractParser implements Parser {
    //common code and implemented methods
    protected abstract Vehicle parseCar(String carData);
}

public class AutoMateParserImpl extends AbstractParser implements AutoMateParser {
    //any extra or overriden method implementations defined in AutoMateParser
    protected Vehicle parseCar(String vehicleData) {
        ...
    }
}

public class DMSServiceLocator {

    @Inject
    private AutoMateParser autoMateParser;
    //more services

    public Parser getParser() {
        if(automate) {
           return autoMateParser();
        } else {
           //Different data scrubber, but also extends Parser
           return homenetParser();
        }
    }

} 
```

# internet-explorer - IE中的CSS按钮

> ID：12048086
> 
> 赞同：2
> 
> 时间：2012-08-21T03:30:59.237
> 
> 标签：internet-explorer, css

我有一个用 CSS 创建的按钮，它在 Firefox 和 Chrome 中运行良好，但在 IE 中运行良好......

不知道出了什么问题，但我认为有一些缺失或错误的代码。这是我的代码：

```
.red-button{ 
 width: 400px;
 height: 100px;
 line-height: 100px;
 color: white;
 text-decoration: none;
 font-size: 20px;
 font-family: "ff-dagny-web-pro", Helvetica, Arial, sans-serif;
 font-weight: bold;
 display: block;
 text-align: center;
 position: relative; 
border: 1px double black;
border-radius: 10px;
background-image: -webkit-gradient(linear, center top, center bottom, 
                  from(#e80000),   to(#840000));
background-image: -webkit-linear-gradient(top, #e80000, #840000);
background-image: -moz-linear-gradient(top, #e80000, #840000);
background-image: -o-linear-gradient(top, #e80000, #840000);
background-image: -ms-linear-gradient(top, #e80000, #840000);
background-image: linear-gradient(to bottom, #e80000, #840000);
text-shadow: 1px 1px 1px black;
-webkit-box-shadow: 0 1px 5px rgba(0,0,0,0.75);
-moz-box-shadow: 0 1px 5px rgba(0,0,0,0.75);
box-shadow: 0 1px 5px rgba(0,0,0,0.75);
} 
```

我希望它在 IE 9 和 IE 8 中工作。虽然我知道边界半径等属性在 IE 8 中不起作用，但我确实希望渐变在 IE 8 和 9 中起作用。

请帮忙，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T03:55:42.267

我[找到了一个](http://www.colorzilla.com/gradient-editor/)创建代码的网站，非常有用和方便。

这是正确的代码：

```
background: #e80000; /* Old browsers */
background: -moz-linear-gradient(top, #e80000 0%, #840000 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#e80000), color-stop(100%,#840000)); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, #e80000 0%,#840000 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, #e80000 0%,#840000 100%); /* Opera 11.10+ */
background: -ms-linear-gradient(top, #e80000 0%,#840000 100%); /* IE10+ */
background: linear-gradient(to bottom, #e80000 0%,#840000 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e80000', endColorstr='#840000',GradientType=0 ); /* IE6-9 */ 
```

该网站有一个关于 IE 9 的注释：

> 使用 IE9（使用 SVG）支持完整的多级渐变。
> 
> 为所有具有渐变的元素添加一个“渐变”类，并将以下覆盖添加到您的 HTML 以完成对 IE9 的支持：

```
<!--[if gte IE 9]>
  <style type="text/css">
    .gradient {
      filter: none;
    }
  </style>
<![endif]--> 
```

具有 IE9 的完整多站渐变的 IE 9 代码（使用 SVG）：

```
/* IE9 SVG, needs conditional override of 'filter' to 'none' */
background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2U4MDAwMCIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiM4NDAwMDAiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);

/* Code as Above */ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T03:39:53.607

尝试添加以下`filter`属性：

```
filter: progid:DXImageTransform.Microsoft.gradient(enabled='true', 
          startColorstr=#FFE80000, endColorstr=#FF840000) 
```

根据[此资源](http://msdn.microsoft.com/en-us/library/ms532997%28VS.85,loband%29.aspx)，这应该一直有效到 IE 5.5 。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-21T03:44:46.597

IE9 对 CSS3 的支持并没有你想象的那么好。虽然它确实支持 css3，但它并不支持整个规范。[CanIuse.com](http://caniuse.com/)是了解不同浏览器版本支持哪些功能的绝佳资源。

遗憾的是，IE9 不支持线性渐变，因此您必须使用任一背景图像、选择后备（纯色）、使用过滤器或使用 polyfill。有些人建议使用 Microsoft 过滤器来创建线性渐变，它们确实有效。对于大多数基本网站（即不是很重的动画，想想 jQuery 或成熟的网络应用程序），我建议查看[CSS3Pie](http://css3pie.com/)。它的设置非常简单，允许您编写更干净的 css3 并为您完成所有繁重的工作。此外，它一直支持到 IE6。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-21T03:37:42.940

IE8 不支持那些 CSS3 声明，但 IE5 到 IE8 支持 Filter 属性。

[我找到了一个不错的 CSS3 生成器，您可以使用它。](http://projects.korrelboom.com/gradient-generator/#top%7Ce80000%7C840000)

```
filter: progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr=#FFE80000,EndColorStr=#FF840000); 
```

# asp.net-mvc-3 - jqgrid：如何使用搜索功能？

> ID：12048089
> 
> 赞同：0
> 
> 时间：2012-08-21T03:31:17.360
> 
> 标签：asp.net-mvc-3, jqgrid

我正在尝试创建一个字母索引来快速搜索我的 jqGrid 中的记录。

所以对于字母 A 它是：

```
 $("#Aletter").click(
                function (e) {
            e.preventDefault();
            $.ajax({
                url: '@Url.Action("Products")',
                type:'POST',
                data: '_search=true&nd=1345519741915&rows=10&page=1&sidx=ProductID&sord=asc&filters=%7B%22groupOp%22%3A%22AND%22%2C%22rules%22%3A%5B%7B%22field%22%3A%22ProductName%22%2C%22op%22%3A%22bw%22%2C%22data%22%3A%22a%22%7D%5D%7D&searchField=&searchString=&searchOper='
            });
        }); 
```

在提琴手它返回正确的数据。

唯一的问题是如何让它进入网格？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T03:53:41.810

您可以`.addJSONData(data);`在 ajax方法中使用`success`方法。

```
 $.ajax({
            url: '@Url.Action("Products")',
            type:'POST',
            data: '_search=...',
            success: function(data){
                 $("gridId").addJSONData(data);
            }
        }); 
```

请参阅[jqgrid 维基](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3amethods)。

# javascript - 是否有将基于字符串的 JSON 转换为 Mongoose Schema 对象实例的本机功能？

> ID：12048093
> 
> 赞同：11
> 
> 时间：2012-08-21T03:31:44.883
> 
> 标签：javascript, express, mongoose

我正在使用 Express，我正在寻找一种方便的方法来转换这种对象（根据请求提供`req.body.myObject`）：

```
{
  "name": "Foo",
  "someNumber": "23",
  "someBoolean": "on"
} 
```

进入这个模式的一个实例：

```
var myObjectSchema = new Schema({
    name: String,
    someNumber: Number,
    someBoolean: Boolean
}); 
```

请注意，第一个对象来自请求，因此它完全由字符串组成。

有什么好方法可以实现这一目标吗？如果没有，您对如何将此功能实现为中间件有什么建议吗？？？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-22T18:47:02.433

通过参考这个线程[Mongoose : Inserting JS object directly into db](https://stackoverflow.com/questions/7526639/mongoose-inserting-js-object-directly-into-db)我发现是的，有一个内置功能。

您只需构建一个新模型，将请求值（来自表单）作为参数传递：

```
function add(req, res){
    new Contact(req.body.contact).save(function(err){
        console.log("Item added");
        res.send();
    });
}; 
```

它会自动为您转换内容！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-26T22:24:46.413

我知道这个答案已经被接受了，但我想指出猫鼬会为你处理大部分的演员阵容......大部分时间。虽然 mongoose 这样做很方便，但它抽象了 mongo 的真实行为。例如，猫鼬可以让你做这样的事情：

```
PersonModel.findById("4cdf00000000000000007822", ...); 
```

但是，如果您尝试直接查询数据库（没有 mongoose），这将**不起作用**：

```
PersonCollection.find({_id: "4cdf00000000000000007822"}, ...); 
```

这是因为 ObjectId 不是字符串……它们是对象。在内部，mongoose 将该字符串转换为 ObjectId，然后对数据库执行查询，以便最终查询看起来像这样：

```
PersonCollection.find({_id: ObjectId("4cdf00000000000000007822")}, ...); 
```

此外，模式中的每条路径都有一个“施法者”方法。这是一种私有方法，但在您需要时非常方便。 **请注意，以下描述的`caster`方法未记录在案，并且可以在没有警告的情况下更改。使用风险自负**（抱歉大喊大叫）：

```
// Use PersonModel.schema.paths() to get all paths and loop over them if you want
var key = "name";
var pathObj = PersonModel.schema.path( key );
if( !pathObj ) pathObj = PersonModel.schema.virtualpath( key );
if( !pathObj ) { /* not found: return, continue, exit, whatever */ }

// UNDOCUMENTED: USE AT YOUR OWN RISK
var caster = pathObj.caster || pathObj;
var castedValue = caster.cast( req.body.name ); 
```

为什么我会知道这个？因为如果您想使用 mongo 的一些更高级的功能（例如聚合），则需要在构建管道时转换自己的值。我还需要为使​​用`$in`运算符的某些查询手动转换值……也许不再需要了。重点是，如果您无法获得预期的结果，请尝试自己转换值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T04:15:20.397

如果模式是静态的，理论上可以采用惰性、不复杂的方式，只对值进行硬编码，而不是传递对象本身：

```
var someObject = {
    name: "Foo",
    someNumber: "23",
    someBoolean: "on"
}

var myObjectSchema = new Schema({
    name: someObject.name,
    someNumber: parseInt(someObject.someNumber, 10),
    someBoolean: (someObject.someBoolean == "on")
}); 
```

可能不是您正在寻找的答案，但如果没有更好的答案，可能需要考虑。

# php - 如何在 php 中使用 Int64(long) 而不是字符串？

> ID：12048094
> 
> 赞同：4
> 
> 时间：2012-08-21T03:31:46.280
> 
> 标签：php, long-integer, bigint, int64

如何在 dotnet、java、c++ 等 php 中使用 Int64？

**例如：**

mysql 中的数据类型是 bigint(20)，我想从 php 中保存值。我知道一种解决方案是在 mysql 程序中使用字符串。

**表壳：**

```
CREATE TABLE `test_int64` (
  `id` bigint(20) unsigned NOT NULL DEFAULT '0'
) ENGINE=MyISAM DEFAULT CHARSET=utf8; 
```

**mysql程序案例：**

```
CREATE PROCEDURE `sp_test_int64`(IN p_id VARCHAR(20))
    NOT DETERMINISTIC
    SQL SECURITY DEFINER
    COMMENT ''
BEGIN
     INSERT INTO test_int64(id) VALUES(p_id+0);
END; 
```

**php代码案例：**

```
$id = '1660820628901389';  Then execute sql 'call sp_test_int64(\''.$id.'\')' 
```

**上面的方法是可以的，但是我不想这样做。还有其他解决方案吗？**

**示例 2：**

我想使用 PHP 读取 MYSQL 数据输出 JSON 代码，如下所示：

```
{
    "id":1660820628901389
} 
```

但不是 ：

```
{
    "id":"1660820628901389"
} 
```

我不知道该怎么办？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-21T06:56:36.067

PHP 中的 INT 类型与 CPU**和**安装的 PHP 版本相关（您可以在 64 位 CPU 上安装 32 位 PHP）。

要找出 PHP 可以支持的最大整数，只需

```
echo PHP_INT_MAX; 
```

这会给你最大的。它会给你 20 亿，或者是一个太大而无法阅读的巨大数字（大约 92 亿）。

请注意，它已签名（-20 亿 -> +20 亿，或 -9 gazillion -> +9 gazilion）。您可以在 mySQL 中指定 unsigned，而 PHP 中没有此选项。

如果您只有 20 亿的限制，那么您已经安装了 32 位版本的 PHP。您可以在 64 位 CPU 上安装 PHP 64 位，或者您需要作为字符串处理，或者您可以使用[BC Math](http://www.php.net/manual/en/ref.bc.php)函数将从 mySQL 返回的字符串转换为数字 - 但我不确定 JSON_encode将处理它*。如果你有很大的数字，你应该没问题并且可以作为整数处理。

*   JSON_encode 注意：过去我注意到 JSON_encode 和 serialize 将大数转换为浮点数，然后在内部丢失精度，即使它们是整数整数。我最近没有测试过，也没有在 64 位上测试过，但这是另一个需要注意的问题。

* * *

编辑：这是手册中的相关页面：http: [//php.net/manual/en/language.types.integer.php](http://php.net/manual/en/language.types.integer.php) 它还添加了[GMP](http://www.php.net/manual/en/ref.gmp.php)作为 BC Math 的替代方案

# c++ - 未找到 C++ netbeans mkdir 中的错误？

> ID：12048095
> 
> 赞同：6
> 
> 时间：2012-08-21T03:31:49.060
> 
> 标签：c++, mkdir

每次我尝试构建我的 c++ 文件时，我都会收到此错误

```
"/usr/bin/make" -f nbproject/Makefile-Debug.mk QMAKE= SUBPROJECTS= .build-conf
make[1]: Entering directory `/c/Users/Joey/Documents/NetBeansProjects/C++Train'
"/usr/bin/make"  -f nbproject/Makefile-Debug.mk dist/Debug/MinGW-Windows/c__train.exe
make[2]: Entering directory `/c/Users/Joey/Documents/NetBeansProjects/C++Train'
make[2]: mkdir: Command not found
mkdir -p build/Debug/MinGW-Windows
make[2]: Leaving directory `/c/Users/Joey/Documents/NetBeansProjects/C++Train'
make[1]: Leaving directory `/c/Users/Joey/Documents/NetBeansProjects/C++Train'
make[2]: *** [build/Debug/MinGW-Windows/HelloWorld.o] Error 127
make[1]: *** [.build-conf] Error 2
make: *** [.build-impl] Error 2

BUILD FAILED (exit value 2, total time: 2s) 
```

我检查了make.exe所在的目录，mkdir在那里，所以我很困惑。

我的代码本身没有显示错误：

```
#include <iostream>

int main() {
    using namespace std;
    cout << "Hello World!" << endl;
    return 0;
} 
```

只是一个简单的小 hello world 来测试 netbeans。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-01-02T09:43:23.990

我猜你没有将 msys 添加到你的 PATH 变量中。在Netbeans论坛中看到这个条目（[http://forums.netbeans.org/topic38061.html](http://forums.netbeans.org/topic38061.html)）所以，你收到的错误信息并没有抱怨make，它抱怨它找不到mkdir，这应该是在您的 msys 目录中的目录中。将 C:\MinGW\msys\1.0\bin\ 添加到 Windows PATH 变量可能足以解决此问题。

# php - 每天有 40000 多条记录的数据库

> ID：12048096
> 
> 赞同：2
> 
> 时间：2012-08-21T03:31:58.320
> 
> 标签：php, database, database-design

我正在创建一个数据库，用于跟踪南佛罗里达州一个城市的人均用水量。

大约有 40000 名用户，每个用户都上传每日读数。

我正在考虑设置数据库的方法，并且给每个用户单独的表似乎更容易。这应该会简化数据的下载，因为服务器不必对包含数十万个条目的表进行排序。

我的逻辑是错误的吗？
有没有办法索引表名？
有没有其他方法可以设置数据库以提高速度并保持布局足够简单？

-谢谢你，
杰瑞德

ps 读数的基本数据是：
-locationID（我的想法中的表名）
-Reading
-ReadDate
-ReadTime

pps 在这次谈话中，我上传了 5k 表并且服务器冻结了。~.O
谢谢你的帮助，你们会的

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-21T03:35:46.533

设置数千个表不是一个好主意。您应该维护一个表并将所有条目放在该表中。MySQL 可以处理数量惊人的数据。您将遇到的最大问题是一次可以处理的查询量，而不是数据库的大小。对于您将处理数字的实例使用`int`with attribute `unsigned`，以及您将处理文本使用`varchar`适当大小的实例（除非文本是大的 use `text`）。

**处理用户** 如果您需要识别用户的记录，请设置另一个可能如下所示的表：

*   user_id INT(10) AUTO_INCREMENT UNSIGNED PRIMARY
*   名称 VARCHAR(100) 非空

当您需要将记录链接到用户时，只需引用用户的`user_id`. 对于记录信息，我将设置 SQL，例如：

*   id INT(10) AUTO_INCREMENT UNSIGNED PRIMARY
*   u_id INT(10) 未签名
*   阅读***我不确定你的阅读内容是什么样的。如果它是一个数字使用`INT`如果它的文本使用`VARCHAR`***
*   读取时间时间戳

您还可以将阅读的日期和时间合并到一个`TIMESTAMP`.

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-21T03:37:04.600

不要为*每个*用户创建单独的表。

在标识用户的列和任何其他常见约束（如日期）上保留索引。

最后想想你想如何查询数据。你到底如何总结一天所有用户的数据？

如果您担心主键，我建议您保留 LocationID、Date 复合键。

编辑：最后，（我的意思确实很好）但是如果你问这些关于数据库设计的问题，你确定你有资格参与这个项目吗？看起来你可能会不知所措。有时，最好了解您的局限性并让项目通过，而不是以一种为您创造太多工作而人们对结果不满意的方式实施它。再说一次，我不是说*不要*，我只是说你有没有问过自己，你是否能做到他们期望的水平。似乎有大量用户不断使用它。*我想我的意思是，在向成千上万*的用户交付项目的同时学习某些东西可能是一个异常高压的环境。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-08-21T03:40:09.437

一般来说，表格应该代表一组事物。在您的示例中，很容易识别您拥有的集合：用户和读数；理论上最好的结构是拥有这两个表，其中读数条目引用了用户的 ID。

MySQL 可以处理非常大量的数据，所以最好的办法是尝试用户读数结构，看看它是如何执行的。或者，您可能希望查看基于文档的 NoSQL 数据库，例如 MongoDB 或 CouchDB，因为将读数报告存储为单个文档也是一个不错的选择。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-08-21T03:57:05.493

如果您创建一个包含每个用户每月总数的汇总表，那肯定是系统的主要用途，对吧？

每个月，您都会处理数字并将总数存储到第二个表中。您可以在滚动的 12 个月期间修剪日志表。即，可以将旧数据塞在角落以保持索引更小，因为您只需要在城市被指控欺诈时访问它。

因此，您究竟如何存储每日读数并不是您需要担心的大问题*。*给每个用户他自己的表不是正确的解决方案。如果您有大量数据，那么您可能需要考虑通过 MongoDB 之类的方式进行分片。

# ruby - 使用 catch/throw 打破 ruby 内部块

> ID：12048100
> 
> 赞同：1
> 
> 时间：2012-08-21T03:32:35.857
> 
> 标签：ruby, exception

如果在内部红宝石块中引发异常，我有兴趣打破外部和内部块。代码可能如下所示：

```
catch "ExitBlock" do
      foo.each_with_index do |el, idx|
        bar = ... // do more stuff, 
        bar.each_with_index do |el1, idx1|
          if some_bad_stuff
            throw "ExitBlock"
          end
        end
      end
    end 
```

如果 some_bad_stuff 为真，它应该退出外部块和内部块，而不仅仅是内部块。上面的代码给了我一个 ArgumentError 但是：

`ArgumentError: uncaught throw "ExitBlock"`

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T03:43:09.563

它适用于符号：

```
catch :exit_block do
  foo.each_with_index do |el, idx|
    bar = ... // do more stuff, 
    bar.each_with_index do |el1, idx1|
      if some_bad_stuff
        throw :exit_block
      end
    end
  end
end 
```

但是文档说*[“[argument] 可以是任意对象，而不仅仅是 Symbol”](http://www.ruby-doc.org/core-1.9.3/Kernel.html#method-i-catch)*

我不知道是怎么回事。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T03:40:38.547

跳出循环而不是将异常引入混合中会更干净：

```
foo.each_with_index do |el, idx|
    bar = ... // do more stuff, 
    break_outer = false
    bar.each_with_index do |el1, idx1|
        if some_bad_stuff
            break_outer = true
            break
        end
    end
    if break_outer
        break
    end
end 
```

# java - Android SDK r20 - Windows 7 - 未找到安装 Java JDK

> ID：12048101
> 
> 赞同：7
> 
> 时间：2012-08-21T03:32:37.890
> 
> 标签：java, android

[Android SDK安装没有发现JDK](https://stackoverflow.com/questions/4382178/android-sdk-installation-doesnt-find-jdk)和这个不是同一个release，解决方法“back”然后“next”不起作用。

我尝试安装各种版本的 Java，但似乎没有任何效果。在过去的 3 天里，我一直在尝试安装它。我尝试过但不起作用的解决方案：

*   按返回按钮，然后按下一个按钮。
*   为指向 System32 路径和实际 java 安装目录的 JAVA_HOME 添加环境变量。
*   安装各种版本的 Java。（Java 6 和 Java 7）

安装文件被调用并且是[http://developer.android.com/sdk/index.html](http://developer.android.com/sdk/index.html)`installer_r20.0.3-windows`上可用的当前 exe

![错误信息](../Images/4e197b611b8df1c3fe04e1e596d1c02e.png) ![java.exe](../Images/84dac8bb215f6ba8ff0c0a2c347e569d.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-21T03:55:36.460

好的，查看您的 JAVA_HOME 路径，`C:\Program Files\Java\jdk1.6.0_34\bin`我建议您将其更改为`C:\Program Files\Java\jdk1.6.0_34\`. 无需在 JAVA_HOME 路径中添加 bin 文件夹的路径。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-16T01:48:38.880

在我的 Win7 Ultimate 64 位/我需要多个东西

1.  设置系统环境变量 JAVA_HOME = C:\Program Files\Java\jdk1.7.0_07
2.  将相同的值添加到 SystemEnvironment 变量 PATH，但确保将其放在 system32 路径 PATH = C:/Program Files/Java/jdk1.7.0_07;C:\Windows\system32; 之前 ....... (... = 当前值)
3.  最重要的是，我猜。重命名 c:\windows\system32\java.exe -> c:\windows\system32\java.exe.old
4.  重新启动安装程序（我的情况 = installer_r20.0.3-windows.exe ）

瞧！

这可能有助于保护他人的时间

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-05T12:23:42.460

在系统变量中设置 JAVA_HOME 环境变量`C:\Program Files\Java\jdk1.7.0_07\`确实解决了我的问题。

有几点需要注意。

1.  无需指定 bin 或 jre 文件夹名称。
2.  您将需要取消并重新启动 Android SDK 安装。上一个/下一个可能不起作用。
3.  我刚刚从 Windows 资源管理器地址栏中复制了文件夹名称。无需将 替换`\`为`/`。

# oracle - 如何使用外部表读取应用程序服务器中存在的文件

> ID：12048104
> 
> 赞同：0
> 
> 时间：2012-08-21T03:33:32.097
> 
> 标签：oracle, oracle10g, external-tables

如何使用外部表读取应用程序服务器中存在的文件。我无法将文件放在数据库服务器中，因为我们受到数据库服务器的限制。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T03:43:14.413

根据[文档](http://docs.oracle.com/cd/B19306_01/server.102/b14215/et_concepts.htm)，外部文件的数据文件必须对服务器可见。

您通过数据库中的对象访问外部文件，该`DIRECTORY`对象指向 db 服务器上的目录。

现在，您可以挂载一个驱动器，使其出现在文件系统中，但是有权访问 db 服务器的人可能必须这样做。

# iphone - Objective C将char *转换为float并设置为属性

> ID：12048109
> 
> 赞同：0
> 
> 时间：2012-08-21T03:34:58.577
> 
> 标签：iphone, objective-c, ios, properties, casting

在我的接口头文件中，我有：

```
@proprty (readwrite, assign) float longitude; 
```

如果我像这样为该属性分配一个值：

```
loc.longitude = [[NSString stringWithUTF8String:(const char *)attr->children->content] floatValue]; 
```

调试器说 [loc longitude] 似乎没有指向有效对象。

但如果我使用

```
NSLog(@"%f", [[NSString stringWithUTF8String:(const char *)attr->children->content] floatValue]); 
```

浮点值被写入。

我做错了什么，就像没有将值分配给属性？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T03:37:59.377

您说“调试器说 [loc longitude] 似乎没有指向有效对象。”</p>

我怀疑您正在尝试使用此调试器命令：

```
po [loc longitude] 
```

问题是它`[loc longitude]`确实不是一个 Objective-C 对象。它是一个`float`. 您需要使用不同的命令来打印它：

```
p (float)[loc longitude] 
```

或者，在最新版本的 Xcode/lldb 上，您可以直接使用点语法：

```
p loc.longitude 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T03:37:13.913

确实，`[loc longitude]`不是*对象*。这意味着您不能`po`在调试器中使用；改为使用`p`。

# sql - 三表连接，限制为 2 个表

> ID：12048110
> 
> 赞同：2
> 
> 时间：2012-08-21T03:35:30.380
> 
> 标签：sql, sqlite, join

我这里有点棘手，SQLite 中的 3 个表如下：

汽车表

```
.------.------.--------------.---------.
| vin  | year |     make     |  model  |
'------+------+--------------+---------'
| 1234 | 1965 | Aston Martin | DB5     |
| 5678 | 1965 | Ford         | Mustang |
| 9012 | 1994 | Ford         | Tarus   |
`--------------------------------------' 
```

价格表

```
.------.-------.---------------------.
| vin  | price |    last_modified    |
'------+-------+---------------------'
| 1234 | 60000 | 2012-08-01 12:00:00 |
| 1234 | 58000 | 2012-08-02 12:00:00 |
| 1234 | 56000 | 2012-08-10 12:00:00 |
| 5678 | 30000 | 2012-08-02 12:00:00 |
| 9012 |  1000 | 2012-08-01 12:00:00 |
`------------------------------------' 
```

里程表

```
.------.---------.---------------------.
| vin  | mileage |    last_modified    |
'------+---------+---------------------'
| 1234 |   35000 | 2012-08-01 12:00:00 |
| 1234 |   35030 | 2012-08-02 12:00:00 |
| 1234 |   35100 | 2012-08-10 12:00:00 |
| 5678 |   60000 | 2012-08-02 12:00:00 |
| 9012 |  245000 | 2012-08-01 12:00:00 |
`--------------------------------------' 
```

我想连接所有三个表以显示“汽车”表中的所有行，但只带来价格表中的单个最新“last_modified”价格和里程表中的单个最高里程。

最后我的结果看起来像：

```
.------.------.--------------.---------.-------.---------.
| vin  | year |     make     |  model  | price | mileage |
'------+------+--------------+---------+-------+---------+
| 1234 | 1965 | Aston Martin | DB5     | 56000 |   35100 |
| 5678 | 1965 | Ford         | Mustang | 30000 |   60000 |
| 9012 | 1994 | Ford         | Tarus   |  1000 |  245000 |
`--------------------------------------------------------' 
```

如果我选择一个特定的 VIN（即“1234”），我会这样做：

```
SELECT
    c.year, c.make, c.model, c.vin, p.price, m.mileage, p.last_modified 
FROM 
    cars c
LEFT JOIN (
            SELECT 
                price, vin, last_modified
            FROM 
                price
            WHERE 
                (vin = '1234')
            ORDER BY
                last_modified DESC LIMIT 1
          ) p
LEFT JOIN (
            SELECT 
                mileage, vin, last_modified 
            FROM 
                mileage 
            WHERE 
                (vin = '1234') 
            ORDER BY 
                mileage DESC LIMIT 1
           ) m

WHERE
    (c.vin = '1234') AND (c.vin = p.vin) AND (c.vin = m.vin)
GROUP BY
    p.vin, m.vin
ORDER BY 
    c.vin, p.last_modified DESC, m.mileage ASC; 
```

...但我想从“汽车”表中获取所有行。

有人有什么想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T03:46:41.617

您需要在`SubQuery`. 尝试，

```
SELECT  a.*, b.price, c.mileage
FROM    Cars a
            INNER JOIN Price b
                on a.vin = b.vin
            INNER JOIN Mileage c
                on a.vin = c.vin
            INNER JOIN
            (
                SELECT vin, MAX(last_modified) lastMod
                FROM    Price
                GROUP BY vin
            ) d ON  b.vin = d.vin AND
                    b.last_modified = d.lastMod
            INNER JOIN
            (
                SELECT vin, MAX(last_modified) lastMod
                FROM    Mileage
                GROUP BY vin
            ) e ON  c.vin = e.vin AND
                    c.last_modified = e.lastMod 
```

# [*SQLFiddle 演示*](http://www.sqlfiddle.com/#!2/71705/2)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T05:11:17.490

试试这个：[http ://www.sqlfiddle.com/#!5/71705/14](http://www.sqlfiddle.com/#!5/71705/14)

```
select c.vin, c.year, c.make, c.model, rpci.price, rmci.mileage 
from car c
join 
(  
  select * from mileage m
  join
  (
    select vin, max(last_modified) recent_modified
    from mileage
    group by vin
  ) rm on rm.vin = m.vin and rm.recent_modified = m.last_modified
) rmci on rmci.vin = c.vin
-- rmci: recent mileage complete info ;-)
join
(
  select * from price p
  join
  (
    select vin, max(last_modified) recent_modified
    from price
    group by vin
  ) rp on rp.vin = p.vin and rp.recent_modified = p.last_modified
) rpci on rpci.vin = c.vin
-- rpci: receint price complete info 
```

输出：

```
| c.vin | c.year |       c.make | c.model | rpci.price | rmci.mileage |
-----------------------------------------------------------------------
|  1234 |   1965 | Aston Martin |     DB5 |      56000 |        35100 |
|  5678 |   1965 |         Ford | Mustang |      30000 |        60000 |
|  9012 |   1994 |         Ford |   Tarus |       1000 |       245000 | 
```

此处查询进度：[http ://www.sqlfiddle.com/#!5/71705/14](http://www.sqlfiddle.com/#!5/71705/14)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T03:54:05.123

您可以在选择列表中使用相关查询。这很丑陋，但它会起作用。[http://en.wikipedia.org/wiki/Correlated_subquery](http://en.wikipedia.org/wiki/Correlated_subquery)

# php - PHP 中的 jQuery 表达式

> ID：12048111
> 
> 赞同：0
> 
> 时间：2012-08-21T03:35:43.693
> 
> 标签：php, javascript, jquery

我已经测试了以下脚本在我的 PHP 页面中运行：

```
<script>
  function calculate<?=$performance_item_id;?>(){
    alert('<?=$performance_item_id;?>');
    $.post('complete_calculate.php',{
      tid: document.getElementById('performance_item_id<?=$performance_item_id;?>').value
    },
    function(output){
      $('#complete_percentage<?=$performance_item_id;?>').html(output);
    });
  }
  calculate<?=$performance_item_id;?>()
</script>
<span id='complete_percentage<?=$performance_item_id;?>'></span> 
```

首先，我想将 post 值更改为类似`"$('.complete<?=$performance_item_id;?>').val();"`，也就是说，不是从 id 字段中获取某些内容，而是从具有相同类的多个字段中收集值。

其次，我想使用一个文本框来保存 HTML 输出，而 " `<input type = "text" id='complete_percentage<?=$performance_item_id;?>' name = "complete_percentage[]" size = "5" value="0">`" 不起作用！请帮忙！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T03:45:52.263

你的问题不是很清楚，但这里有几点需要考虑：

1.  无需不断地将 PHP 与 JavaScript 混合在一起。
    将 的值存储`$performance_item_id`在 JavaScript 变量中，然后重新使用它。

2.  无需声明一个函数然后立即调用它。
    您可以使用`(function(){}())`模式* 立即执行您的代码。

3.  使用 jQuery[`.map()`](http://api.jquery.com/map/)和[`.get()`](http://api.jquery.com/get/)函数来获取所有值的数组。

```
(function () {
    var id = '<?=$performance_item_id;?>';
    alert(id);

    $.post('complete_calculate.php', {   
        tid: $('.complete' + id).map(function(){ return this.value; }).get()
    }, function(output) {
        $('#complete_percentage' + id).html(output);
    }); 
}()); 
```

[* 称为**自执行匿名函数**或**立即调用函数表达式**。]

* * *

经过进一步澄清，您的 JavaScript 中似乎不需要*任何PHP：*

```
jQuery(function($) {
    $('[class^=complete_]').keyup(function() {
        $.post('complete_calculate.php', {   
            tid: $('.' + this.className).map(function(){ return this.value; }).get()
        }, function(output) {
            $('#complete_percentage' + this.className.replace('complete', '')).html(output);
        }); 
    });
}); 
```

# linux - 我可以监控 Linux 套接字缓冲区的完整性吗？

> ID：12048116
> 
> 赞同：11
> 
> 时间：2012-08-21T03:36:06.450
> 
> 标签：linux, sockets, tcp

我为一家科技公司工作。我正在尝试在现场对我们的一个应用程序实例进行故障排除，并且需要监视 TCP 套接字缓冲区的完整性。

我知道如果我可以访问源代码，我可以使用 ioctl 和 SIOCOUTQ 在任何时间点查询套接字缓冲区的完整性。

但我没有。

所以我的问题是，有没有办法从应用程序外部查看套接字缓冲区的完整性？

谷歌将我带到 /proc/net/tcp，但我不能 100% 确定 tx_queue 列是我正在寻找的。是吗？

如果是这样，它是否足够“实时”，我可以编写一个 perl 脚本来不断地轮询它以获得套接字缓冲区利用率的视图？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-21T03:52:50.523

Proc 与实时一样好，是的，当您在 /proc 下获取文件的内容时，它实际上是在内核中构建输出，而不是从文件或类似的东西中读取

正如乔恩所说，将无法读取缓冲区内容，但是如果您只想知道您是否接近队列限制，那么 tx_queue 是正确的查看位置。（或者可能是 rx_queue 当然取决于延迟发生的位置）

现在我不知道你在看什么应用程序，或者它做了什么，但是在 bufferbloat 的标题下有一些有趣的读物，关于如何实际上可能更好地减少你的队列长度并让 tcp 更快地处理速率变化，这可能是一个更好的解决方案，而不是监控队列（并重新启动应用程序或？）

# c# - 异步等待模式帮助。我做对了吗？

> ID：12048128
> 
> 赞同：1
> 
> 时间：2012-08-21T03:37:18.453
> 
> 标签：c#, windows-8, winrt-xaml, async-await

我有一个“api”，例如存储库模式，我编写了从网络返回 xml，然后将其水合到类中。

它似乎挂在 GetXmlAsync(url) 方法的结果上。

```
public async Task<string> GetXmlAsync(string url)
{
    string xml = string.Empty;

    HttpMessageHandler handler = new HttpClientHandler();
    HttpClient httpClient = new HttpClient(handler);
    Uri uri = new Uri(url, UriKind.Absolute);
    HttpResponseMessage response = await httpClient.GetAsync(uri);

    xml = await response.Content.ReadAsStringAsync();

    return xml;
} 
```

但是当我在单元测试中使用相同的代码时，它可以工作。

在应用程序中，我这样称呼它：

```
public async Task<IEnumerable<Post>> GetRecentAsync(int page)
{
    string url = this.urls.GetRecent(page);
    string xml = string.Empty;

    var xmlTask = this.loader.GetXmlAsync(url);

    xml = xmlTask.Result; // Hangs right here.

    var results = this.modelLoader.XmlToPost(xml);

    if (results.Count() < 1)
    {
        this.LastError = XmlLoadError;
    }

    return results.AsEnumerable();
}

[TestMethod]
public async Task Integration_HttpLoader_GetXmlAsync_GetRecent_Xml_ShouldNotBeNullOrEmpty()
{
    int page = 1;
    string xml = string.Empty;
    IUrl url = this.GetUrlHelper();
    ILoader loader = this.GetIntegrationLoader(false);

    xml = await loader.GetXmlAsync(url.GetRecent(page));

    Assert.IsTrue(!string.IsNullOrEmpty(xml));
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-21T04:02:51.220

在您的应用程序中，您没有在调用 this.loader.GetXmlAsync(url) 之前使用**await**您点击此行，在另一个线程上触发异步任务，然后立即继续下一行而没有得到响应。它适用于您的单元测试，因为您正确使用了**await**关键字。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-21T09:36:55.453

您通过同步阻塞任务结果[导致死锁。](http://nitoprograms.blogspot.com/2012/07/dont-block-on-async-code.html)

遵循以下最佳做法：

*   不要阻塞`async`代码（让它`async`一直向下）。

    例如，`var xml = await this.loader.GetXmlAsync(url);`在`GetRecentAsync`.

*   如果它们可以在线程池线程上继续，请在您的“库”方法中使用`ConfigureAwait(false)`。`async`

    例如`var response = await httpClient.GetAsync(uri).ConfigureAwait(false);`，`xml = await response.Content.ReadAsStringAsync().ConfigureAwait(false);`在`GetXmlAsync`.

# java - 用于查询 IP 号的 Java 搜索表单

> ID：12048129
> 
> 赞同：0
> 
> 时间：2012-08-21T03:37:35.870
> 
> 标签：java, string, ms-access, input, inetaddress

```
String Ipnumbers = request.getParameter("Ipnumbers");
String variant = request.getParameter("variant");
String strQuery = "SELECT Ipnumbers, username FROM brane where val(Ipnumbers) ";
if (Ipnumbers.equal("superior"))
  strQuery += "> " + Ipnumbers ; 
```

我在我的 MS Access 数据库中有一个声明为文本的 IP 号码 (192.03.34.44) 列表。如何使用用户搜索表单（名为 Ipnumbers 的用户输入字段）来查询我的数据库？问题是 - 声明格式是什么，或者如何从字符串转换为这些带点数字的任何内容 - 以被 Java 识别。干杯。示例：我对数据库中的整数值做了同样的事情，例如：

```
 int nStudentnumbers = Integer.parseInt(Studentnumbers); 
```

如何使用或解析虚线 IP 号码？它们既不是整数也不是双精度数？干杯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T03:41:07.957

你应该使用`PreparedStatement`,

```
String strQuery = "SELECT Ipnumbers, username FROM brane where Ipnumbers=?";
PreparedStatement statement=connection.prepareStatement(strQuery);
statement.setString(1,Ipnumbers); 
```

# android - Android 自定义启动器（如幼儿锁）

> ID：12048135
> 
> 赞同：0
> 
> 时间：2012-08-21T03:38:28.787
> 
> 标签：android, android-launcher, android-homebutton

我正在制作一个儿童应用程序，我想为它添加一个儿童锁，就像应用程序上名为“幼儿锁”的那个一样。幼儿锁会要求您在锁打开时设置默认启动器，这样可以禁用主页按钮。我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T04:02:22.663

好的，所以我在这里得到了一个粗略的工作示例：

1.  创建两个活动和两个布局，在主布局中放置一个普通按钮。其他布局只能有一个空白`<LinearLayout>`。

2.  这是我的清单的样子：

    ```
     <activity
            android:name=".MainActivity"
            android:label="@string/title_activity_main"
            android:launchMode="singleTop">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name=".secondact"
            android:label="@string/secondtitle">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.HOME" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
            </activity> 
    ```

注意`<category android:name="android.intent.category.HOME" />`第二个活动。

3.  这是我主要活动的代码：

    ```
     @Override
           public void onResume()
            {
           super.onResume();
           Button btn = (Button)findViewById(R.id.startBtn);
           btn.setOnClickListener(new View.OnClickListener() {

    public void onClick(View v) {
        Intent startMain = new Intent(Intent.ACTION_MAIN, null);
        startMain.addCategory(Intent.CATEGORY_HOME);
        startActivity(startMain);

    }
       });
            } 
    ```

4.  在我的第二个活动中，我有：

    ```
    @Override
    public void startActivity(Intent intent)
    {
        super.startActivity(intent);

    } 
    ```

5.  当我单击 startbtn 时，我会看到您正在谈论的对话框，您可以选择启动器或第二个活动，然后选择始终使用。后退按钮仍然可以让您回家，但希望这会有所帮助。这个问题可能会进一步帮助您：[禁用 android 幼儿应用程序中的主页按钮？](https://stackoverflow.com/questions/4278535/disable-home-button-in-android-toddler-app)

# android - 为 ListView 自定义 CheckedTextView

> ID：12048145
> 
> 赞同：2
> 
> 时间：2012-08-21T03:40:17.283
> 
> 标签：android, listview, checkedtextview

据我所知，ListView嵌入CheckedTextView形成列表，但每个CheckedTextView只有一个TextView和一个CheckBox。我想要做的是向 CheckedTextView 添加一些 TextView，如下所示：

* * *

## 文本视图 | 文本视图 | 文本视图 | 复选框| ---- CheckedTextView

* * *

如何自定义 CheckedTextView？任何帮助将不胜感激！</p>

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-21T05:11:39.953

为此，您需要创建一个`LinearLayout`实现的自定义，并使用该自定义`Checkable`创建您的自定义，它将作为. 是一个很好的教程，用一个例子来解释。`row.xml``LinearLayout``Checkable`[`Here`](http://tokudu.com/2010/android-checkable-linear-layout/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T05:08:10.830

我建议为您的 ListView 创建一个自定义布局，也许是：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal" >

    <TextView
        android:id="@+id/text1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

    <TextView
        android:id="@+id/text2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

    <TextView
        android:id="@+id/text3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

    <CheckBox 
        android:id="@+id/checkbox"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

</LinearLayout> 
```

花点时间给这个布局一些个性。现在您可以使用[SimpleAdapter](http://developer.android.com/reference/android/widget/SimpleAdapter.html)或[SimpleCursorAdapter](http://developer.android.com/reference/android/widget/SimpleCursorAdapter.html)将唯一的字符串绑定到每个 TextView。

# sas - SAS 日期函数

> ID：12048150
> 
> 赞同：1
> 
> 时间：2012-08-21T03:41:11.280
> 
> 标签：sas

我有一个 SAS 数据集，其中名为`ISSUE_DATE`文本类型的列之一是日期值，格式为`'YYYYMMDD'`. 我正在针对此数据集编写查询，并希望检索`ISSUE_DATE`<= today -2 的所有行。我该如何为此编写查询。

```
SELECT * FROM WORK.DATASET WHERE ISSUE_DATE <= today()-2\. 
```

我是 SAS 新手，不太了解日期函数和转换。任何帮助是极大的赞赏。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-21T08:01:22.720

您需要使用 INPUT 函数和相关信息将数据类型转换为数字，以便 SAS 识别日期。您可以在 WHERE 子句中执行此操作，这样可以节省创建额外列的时间。所以您的查询将如下所示：

SELECT * FROM WORK.DATASET WHERE INPUT(ISSUE_DATE,YYMMDD8.) <= today()-2

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T13:30:49.853

跟进基思的回答，这样做可能更有效：

```
SELECT * 
FROM   WORK.DATASET 
WHERE  ISSUE_DATE <= PUT( today()-2 , YYMMDDN8.) 
```

这将使 SAS 不必在每次观察时运行 INPUT 函数。

# clojure - 名称中的前导箭头在clojure中是什么意思

> ID：12048151
> 
> 赞同：22
> 
> 时间：2012-08-21T03:41:11.667
> 
> 标签：clojure

学习 Clojure 我遇到了如下代码：

```
=> (defrecord Person [name, age])
user.Person
=> (->Person "john" 40)
#user.Person{:name "john", :age 40}
=> (Person. "tom" 30)
#user.Person{:name "tom", :age 30} 
```

***问题是， ->Person***中的前导箭头（即***->***）是什么意思？这是一个阅读器宏还是什么？我在 clojuredoc 的读者部分没有看到它的描述。***此外， ->Person***和Person之间有什么区别***。***?

 **** * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-08-21T03:58:49.393

它没有语法意义。它只是符号名称的一部分。在 Lisps 中，箭头`->`（甚至只是“>”）通常用于暗示将一种类型转换或强制转换为另一种类型。在 的宏展开中`defrecord`：

```
(macroexpand '(defrecord Person [name age])) 
```

你可以看到它定义`->Person`为一个调用`Person`构造函数的函数。 `->Person`（函数）可能比`Person.`（直接调用 Java 构造函数）更方便，因为您可以将其作为参数传递给其他函数，将其捕获到变量中并使用它，等等：

```
(let [f ->Person]
  (f "Bob" 65)) 
```

将其与以下内容进行比较：

```
(let [f Person.]
  (f "Bob" 65)) 
```

这在语法上是无效的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-21T22:08:12.800

显然不是在您的具体示例中，但在一般情况下，此运算符`->`称为[线程运算符](http://clojuredocs.org/clojure_core/clojure.core/-%3E)，并被认为是画眉运算符之一。与它的表亲`->>`运算符一起，当您需要让代码更清晰地显示时，这些运算符非常有用，尤其是在将函数的输出作为参数提供给另一个函数时。两个运算符都是宏。这是关于这两个运营商 的另一篇[SO 帖子。](https://stackoverflow.com/questions/4579226/what-does-do-in-clojure)

我还没有理由使用`->`，但确实需要`->>`理解需要计算中间值并将它们全部放入一个函数调用的代码。

这是另一种[解释](http://www.viksit.com/node/33)。***

# c# - OLEDB 参数化查询

> ID：12048152
> 
> 赞同：1
> 
> 时间：2012-08-21T03:41:26.057
> 
> 标签：c#, .net, winforms, ms-access, oledb

```
public void LoadDB()
{
    string FileName = @"c:\asdf.accdb";
    string query = "SELECT ID, Field1 FROM Table1 WHERE ID=? AND Field1=?";
    string strConn = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + FileName;

    OleDbConnection odc = new OleDbConnection(strConn);
    dAdapter = new OleDbDataAdapter();
    OleDbCommand cmd = new OleDbCommand(query,odc);

    cmd.Parameters.Add("?", OleDbType.Integer, 5).Value = 1234;
    cmd.Parameters.Add("?", OleDbType.BSTR, 5).Value ="asdf";

    dAdapter.SelectCommand = cmd;

    ds = new DataSet();
    dAdapter.Fill(ds);
    dataGridView1.DataSource = ds.Tables[0];
} 
```

我正在尝试使用参数化查询将访问文件绑定到 datagridview。它发现列名很好，但内容是空的。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-03-05T23:24:25.570

以下是参数化查询如何与 CSharp、OleDB 一起使用的示例。

```
try
{
    connw.Open();
    OleDbCommand command;
    command = new OleDbCommand(
        "Update Deliveries " +
        "SET Deliveries.EmployeeID = ?, Deliveries.FIN = ?, Deliveries.TodaysOrders = ? , connw);
    command.Parameters.Add(new OleDbParameter("@EMPID", Convert.ToDecimal(empsplitIt[1])));
    command.Parameters.Add(new OleDbParameter("@FIN", truckSplit[1].ToString()));
    command.Parameters.Add(new OleDbParameter("@TodaysOrder", "R"));
    catchReturnedRows = command.ExecuteNonQuery();//Commit   
    connw.Close();

}
catch (OleDbException exception)
{
    MessageBox.Show(exception.Message, "OleDb Exception");
} 
```

这适用于任何 sql 语句，您必须分配问号“？” 到每个参数，然后您必须在下面创建参数并按照您布置问号的顺序添加它们，以便将正确的数据放入正确的字段中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T04:17:57.560

在我的测试程序中，ds.Tables[0].Rows.Count 数据表实际上返回了 1 行（因为我的测试数据库中有一行与查询本身匹配）。如果您在这一行上打断，您应该能够首先看到数据是否正在进入数据表。试试这个：

```
dataGridView1.DataSource = ds.Tables[0]; 
```

dataGridView1的前端绑定是什么样的？在 Access 中运行查询也可以对这种情况有所了解。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T05:51:22.247

尝试在参数中不指定列大小：

```
cmd.Parameters.Add("?", OleDbType.Integer).Value = 1234;
cmd.Parameters.Add("?", OleDbType.BSTR).Value ="asdf"; 
```

# r - 基于另一列平均数据框中的一列 - 全部放入一个数组

> ID：12048159
> 
> 赞同：0
> 
> 时间：2012-08-21T03:43:12.290
> 
> 标签：r

X

```
 primer  timepoints  foldInduction
  Acan         0      1.0000000
  Acan        20      0.6779533
  Acan        20      1.9734277
   Fos        40     21.3731640
   Fos        60      1.8517668
   Fos        40    118.2970756
  Acan         0      1.0000000
   Fos        60     17.5241529 
```

我想在每个时间点为每个引物做两件事 1.mean 和 2.stderr 的 foldInduction，所以我想要一个最终数组，其中 names(array) 是时间点，数组本身就是手段。还试图将其与标准错误合并。

所以对于底漆'Acan'意味着这样的东西

```
 0     20 
1.0   1.325 
```

我认为 tapply 可能适用于此。所以这就是我一直在做的

```
 stderr <- function(x){sd(x,na.rm=TRUE)/sqrt(length(x))}
       means <- tapply(x$foldInductions,factor(as.numeric(x$timepoints)),mean,na.rm=T)
       stderrs <- tapply(x$foldInductions,factor(as.numeric(x$timepoints)),stderr) 
```

此外，对于给定的时间点，平均的 foldInductions 数量可能不同，但我认为这应该不是问题。

如果你能帮助我为一个很棒的引物创建这个数组。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:06:55.800

我预见到答案的冲击即将到来。沿着这些相同的思路已经有 100 多个不同的问题，经常比较许多解决方案的相对时间和优点。这是一个这样[的问答](https://stackoverflow.com/questions/10748253/idiomatic-r-code-for-partitioning-a-vector-by-an-index-and-performing-an-operati/10748470#10748470)。我建议你找到一个适合你的框架并坚持下去。

这是使用`plyr`and的解决方案`summarize`。

首先，重新创建您的数据：

```
x <- read.table(text = "primer      exptname concentrate timepoints replicate    day   realConc foldInduction
  Acan           0hr        55mM          0        b1 011311 0.05875824     1.0000000
  Acan KClpulse-5min        55mM         20        b1 011311 0.03983534     0.6779533
  Acan KClpulse-5min        55mM         20        b1 011311 0.11595514     1.9734277
   Fos KClpulse-5min        55mM         40        b1 011311 0.11964684    21.3731640
   Fos KClpulse-5min        55mM         60        b1 011311 0.01036618     1.8517668
   Fos KClpulse-5min        55mM         40        b1 011311 0.66222632   118.2970756
  Acan           0hr        55mM          0        b2 011411 0.05681637     1.0000000
   Fos KClpulse-5min        55mM         60        b2 011411 0.23492697    17.5241529", header = TRUE) 
```

然后用魔法做一些分组`ddply`：

```
require(plyr)
ddply(x, .(primer, timepoints), summarize, 
      mean = mean(foldInduction, na.rm = TRUE), 
      sde = sqrt(var(foldInduction, na.rm = TRUE)/length(foldInduction))
      )

 primer timepoints     mean        sde
1   Acan          0  1.00000  0.0000000
2   Acan         20  1.32569  0.6477372
3    Fos         40 69.83512 48.4619558
4    Fos         60  9.68796  7.8361931 
```

我没有 100% 遵循您关于命名向量位的最后一点，但希望这可以向您展示如何计算您需要的答案，并且您可以从那里将数据转换为适当的格式。

# java - CMU Sphinx4 音素听写

> ID：12048163
> 
> 赞同：3
> 
> 时间：2012-08-21T03:43:43.010
> 
> 标签：java, speech-recognition, cmusphinx, jsapi, phoneme

如何将 sphinx4 配置为只能检测听写中的音素？

我已经阅读了[部分结果](http://cmusphinx.sourceforge.net/sphinx4/doc/Sphinx4-faq.html#partial_results)

“您可以通过在解码器中设置配置变量 'featureBlockSize' 来控制触发结果监听器的频率。”

但我的问题是总是需要一个语法，比如 helloworld 示例中的 hello.gram。我需要能够从连续语音中检测和识别音素。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T19:47:26.107

您不能以这种方式配置 sphinx4。sphinx4 尚不支持此解码模式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-18T05:19:10.460

这是斯芬克斯不得不说的：

[音素识别](http://cmusphinx.sourceforge.net/wiki/phonemerecognition)

基本上，你可以做到，但它被看不起。

# php - ajax调用后文本框值未获取

> ID：12048164
> 
> 赞同：0
> 
> 时间：2012-08-21T03:44:24.710
> 
> 标签：php, ajax, inputbox

我有一个带有两个表单的 php 页面。在第一个表单中有一个按钮，按钮的 onclick() 调用一个用于验证第一个表单的函数。如果验证全部完成`else`，则该函数的部分如下：

```
else
            {
                var cnt=$("#frmdocontact").serialize();
                $.ajax({  
                type: "POST",  
                url: "doitcontact.php",
                data: cnt,
                success: function(msg){
                var spt=msg.split('#$@$');
                $('#hid_uid').val(spt[0]);
                $('#hid_add_vehicle').val(spt[0]);
                $('#hid_saleid').val(spt[1]);

                //alert(msg);
            //console.log(contactSent);
            var pkg = $('input:radio[name=pkg]:checked').val();

            var $tabs = $('#tabs').tabs();
            var selected = $tabs.tabs('option', 'selected');
            $tabs.tabs('select', selected+1);
                //window.location="thankyou.php"
                }
                });

            } 
```

在其他部分工作后，`hd_saleid`具有价值`OFKXM`。这`hd_saleid`是第二种形式。

在第二种形式中，有文件上传部分，这是通过使用 ajax 上传完成的。但是在那个 ajax 上传函数中，`hd_saleid`值没有得到。这是代码：

```
$(function(){
        var cntUp = 0;
        var btnUpload=$('#upload');
        var status=$('#status');
        var saleid = $("#hd_saleid").val();
        new AjaxUpload(btnUpload, {
            action: 'upload-file.php',
            data: {saleid: $("#hd_saleid").val()},
            name: 'uploadfile',
            onSubmit: function(file, ext){
                 if (! (ext && /^(jpg|png|jpeg|gif)$/.test(ext))){ 
                    // extension is not allowed 
                    alert('Only JPG, PNG or GIF files are allowed');
                    return false;
                }
                status.text('Uploading...');
            },
            onComplete: function(file, response){
                //On completion clear the status
                status.text('image uploaded');
                cntUp++;
                //console.log(cntUp);
                //Add uploaded file to list
                if (response.toLowerCase().indexOf("success") >= 0 ) {
                //alert('success');
                //$('<li></li>').appendTo('#files').html('<img src="uploads/'+file+'" alt="" /><br />'+file).addClass('success');

                if(saleid){
                        $('<li></li>').appendTo('#files').html('<img src="uploads/'+saleid+'/'+file+'" alt="" /><br />'+file).addClass('success');
                    }else{
                        $('<li></li>').appendTo('#files').html('<img src="uploads/'+file+'" alt="" /><br />'+file).addClass('success');
                    }

                }  else{
                    $('<li></li>').appendTo('#files').text(file).addClass('error');
                    //alert('error');
                }
            }
        });

    }); 
```

那么如何获取`hd_saleid`ajax上传中的值隐藏字段呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:18:41.900

是的，你的问题在这里：

```
var saleid = $("#hd_saleid").val(); 
```

`saleid`从 DOM 准备好时获取它的值`$("#hd_saleid").val()`，所以它在开始时获取他的值，仅此而已。这就是为什么您必须`$("#hd_saleid").val()`直接在 AJAX 调用中添加的原因。

你可以使用：

```
onSubmit: function(file, ext){
    if (! (ext && /^(jpg|png|jpeg|gif)$/.test(ext))){ 
        // extension is not allowed 
        alert('Only JPG, PNG or GIF files are allowed');
        return false;
    }
    this.setData({
        'saleid': $("#hd_saleid").val()
    });
    status.text('Uploading...');
}, 
```

# java - 如何使用 JAXB 注释字符串列表？

> ID：12048165
> 
> 赞同：5
> 
> 时间：2012-08-21T03:44:25.147
> 
> 标签：java, xml, annotations, jaxb, marshalling

说我有以下内容：

```
@XmlRootElement(name = "foo1")
public class Foo1
{
    @XmlElementWrapper( name="answerList" )
    @XmlElement( name="answer" )
    private List<String> answerList;
} 
```

如果 Foo1 实例被编组，它看起来像这样

```
<foo1>
    <answerList>
        <answer>myAnswer1</answer>
        <answer>myAnswer2</answer>
    </answerList>
</foo1> 
```

现在，如果我有以下属性：

```
private List<List<String>> answerListsList; 
```

**如何注释上面的属性，以便我有以下 XML（当然，没有创建一个新类来保存字符串列表）？**

```
<foo1>
    <answerLists>
        <answerList>
            <answer>row1 myAnswer1</answer>
            <answer>row1 myAnswer2</answer>
        </answerList>
        <answerList>
            <answer>row2 myAnswerA</answer>
            <answer>row2 myAnswerB</answer>
        </answerList>
    <anserLists>
</foo1> 
```

编辑：

不想创建新类的原因是我试图避免创建太多类。在我看来，为您可能拥有的每个字符串列表创建一个新类（碰巧使用不同的元素名称）并不是一个好的设计。

我可以考虑创建一个新类作为答案，只要该类可以根据需要编组为不同的元素名称和元素包装器。例如，该类应该能够表示以下 XML：

```
<answerLists>
    <answerList>
        <answer>row1 myAnswer1</answer>
        <answer>row1 myAnswer2</answer>
    </answerList>
    <answerList>
        <answer>row2 myAnswerA</answer>
        <answer>row2 myAnswerB</answer>
    </answerList>
<anserLists> 
```

或者

```
<myLists>
    <myList>
        <item>row1 d1</item>
        <item>row1 d2</item>
    </myList>
    <myList>
        <item>row2 dA</item>
        <item>row2 dB</item>
    </myList>
</myLists> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T09:40:45.517

如果不创建新类，您将无法获得所需的 XML！

我写了这堂课：

```
@XmlRootElement( name="foo1" )
@XmlAccessorType(XmlAccessType.FIELD)
public class Foo1<T>
{
    @XmlElementWrapper( name="answerList" )
    @XmlElement( name="answer" )
    List<T> answerList = new ArrayList<T>();
} 
```

列表中列表的用法是这样的：

```
Foo1<Foo1<String>> ff = new Foo1<Foo1<String>>(); 
```

但是输出的 XML 并不是你想要的样子，因为你想要得到的 XML，如果不创建一个新的类就无法生成！

# batch-file - WshShell.run 和 Windows 7 中的主要问题

> ID：12048167
> 
> 赞同：1
> 
> 时间：2012-08-21T03:44:33.700
> 
> 标签：batch-file, vbscript, batch-processing

这是我想改进的 VBScript。我想要四件事：

1) 添加一行，将扩展名 cleanup.dll 重命名为 cleanup.exe，以便它可以被 WshShell.run 调用并执行（隐藏）。

2) 就在下面写的方式，脚本打开两个屏幕：cleanup.exe 的屏幕和一个空白屏幕，应该为用户隐藏，这不是正在发生的事情！如何隐藏第二个屏幕？我想以不可见的方式运行它（用户无法关闭或操作第二个屏幕。它将通过 cleanup.exe 中的代码关闭）。**注意：下面的代码在 Windows XP 中完美运行，但在 Windows 7 上却不行.如何让它在所有Windows平台上工作？

**VBSCRIPT "第二个.vbs"**

```
Set WshShell = CreateObject("WScript.Shell")
Set objFSO = CreateObject("Scripting.FileSystemObject") 
objFSO.MoveFile "cleanup.dll" , "cleanup.exe" 
WshShell.Run "c:\cleanup.exe", 0, TRUE
Set WshShell = Nothing 
```

**批处理“大师.bat”**

```
@echo off
wscript Second.vbs
exit /b 
```

**3) 有没有好的可靠的软件可以从 VBS 转换为 EXE ？**

**4）我遇到的另一个问题是下面的命令行没有产生结果。我必须使用下面代码的第二部分吗？为什么 ？？**

假设我的批处理文件位于驱动器 f:\

如果我双击它，我的屏幕应该会填充从 TXT 文件中提取的信息，该文件实际上位于驱动器 c:\

```
@echo off
set DRV=C:\August\MyProgram
cd\
cd %DRV%
type test.txt & pause>nul

@echo off
set DRV=C:\August\MyProgram
cd\

c:

cd %DRV%
type test.txt & pause>nul 
```

提前感谢您的解释和解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T18:53:43.613

为什么使用批处理运行，vbscript 更强大，提供更多控制。

关于可见的控制台窗口 `WshShell.Run "c:\cleanup.exe", 0, TRUE`应该在运行时隐藏控制台并在继续之前等待确保使用 wscript.exe 而不是 cscript.exe 启动脚本并且不要使用任何 wscript.echo

重命名文件

```
Set objFSO = CreateObject("Scripting.FileSystemObject")
objFSO.MoveFile "cleanup.dll" , "cleanup.exe" 
```

关于批处理 cd，在控制台窗口中练习 cd 永远不会更改为驱动器，只会更改为另一个映射，驱动器：更改活动驱动器

```
d: => d:\>
c: => c:\> (so now if you are on c:\)
cd d:\test =>c:\ (changes your active map on d: to d:\test but since your c: drive is still the active drive you see nothing happening)
d: => d:\test (change drive to d:, you do see that the active map on drive d: is d:\test (at least with the default prompt) 
```

# c++ - 生成一个没有重复数字的随机数？

> ID：12048175
> 
> 赞同：2
> 
> 时间：2012-08-21T03:45:08.283
> 
> 标签：c++, random

我想生成一个随机数，每个数字都在 0-9 范围内并且不重复。假设有限长度为 4。

*   1234 符合条件，每个复合数字都是唯一的。
*   1123没有，1重复

请问这怎么做？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-21T03:57:07.040

要生成数字：

```
std::vector<int> vec = {0,1,2,3,4,5,6,7,8,9}; // or initialize from array if not c++11
std::random_shuffle(vec.begin(), vec.end());
vec.resize(4); 
```

并将数字连接成一个数字：

```
int number = 0;
for (auto i = vec.begin(); i != vec.end(); ++i) {
    number = 10 * number + (*i);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T03:57:10.457

我相信您正在谈论生成排列。

尝试这样的事情：

```
int used[10] = {0};
int n = 0;
int number = 0;

while( n < 10 ) {
    int d = rand() % 10;
    if( used[d] ) continue;
    used[d] = 1;
    number = number * 10 + d;
    n++;
} 
```

不是最有效的......它只是跟踪已使用的数字，并在遇到使用的数字时重新滚动。

以上确实有副作用，如果零是选择的第一个数字，则在技术上不使用零。您可以明确阻止这种情况，或者简单地接受某些数字的长度为 9 位。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-18T15:00:55.380

如果您宁愿避免不必要地使用 std::vector 和它带来的内存分配，可能会在 random_shuffle 中使用过多的随机化调用，如果您玩一些数学，那么有一种更简单的方法。

如果您可以计算存在多少有效（即可接受的）序列*C*，并且您可以设计一个从该计数器映射到每个有效序列实例的双射函数，那么事情就变得微不足道了。*在 [0, C* )范围内生成一个随机整数，将其插入返回有效输出的函数中。

如果我正确理解您的示例，您希望生成一个随机的 4 位序列 ABCD（表示 [0,9999] 范围内的整数），其中数字*A*、*B*、*C*和*D*彼此不同。

有 5040 个这样的有效序列：10 * 9 * 8 * 7。

给定 [0, 5039] 范围内的任何整数，以下函数将返回一个有效序列（即每个数字都是唯一的），表示为整数：

```
int counter2sequence(int u) {
  int m = u/504;
  u %= 504;
  int h = u/56;
  u %= 56;
  int t = u/7;
  u %= 7;

  const int ih = h;
  const int it = t;

  if (ih >= m) ++h;
  if (it >= ih) ++t;
  if (t >= m) ++t;
  if (u >= it) ++u;
  if (u >= ih) ++u;
  if (u >= m) ++u;

  return ((m*10 + h)*10 + t)*10 + u;
} 
```

例如

```
counter2sequence(0) => 0123
counter2sequence(5039) => 9876 
```

# python - 如何在 Django Admin 中为作为方法//属性的字段重命名列标签？

> ID：12048176
> 
> 赞同：15
> 
> 时间：2012-08-21T03:45:48.673
> 
> 标签：python, django, unicode, admin

我正在尝试为`auth.User`模型重新定义我的管理页面。一切正常，除了一件事。检查下面的代码：

```
from django.contrib import admin
from django.contrib.auth.models import User
from access.models import UserProfile

class UserProfileInline(admin.StackedInline):
    model = UserProfile

class UserAdmim(admin.ModelAdmin):
    inlines = [UserProfileInline,]
    list_display = ['id', 'username', 'get_full_name', 'email']

admin.site.unregister(User)
admin.site.register(User, UserAdmim) 
```

如您所见，我希望在模型页面列表中显示的字段之一（由定义`list_display`）是`get_full_name`. 问题是 admin 中的列标签显示为**Get full name**。

我的问题很简单：我可以覆盖它吗？如果是这样，怎么做？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-08-21T03:56:18.043

在模型定义中将调用的函数中的属性设置为`short_description`所需的标签。

```
# note, this must be done in the class definition;
# not User.get_full_name.short_description
get_full_name.short_description = 'my label' 
```

或者，如果您不想用管理员特定的代码污染您的模型，您可以设置`list_display`一个方法，该方法`ModelAdmin`接受一个参数：实例。您还必须进行设置`readonly_fields`，以便管理员不会尝试在您的模型中查找此字段。我在管理字段前加上`_`区分。

```
class MyAdmin(...):
    list_display = ('_my_field',)
    readonly_fields = ('_my_field', )     

    def _my_field(self, obj):
        return obj.get_full_name()
    _my_field.short_description = 'my custom label' 
```

* * *

### 更新：

请注意，这将破坏默认的管理员排序。您的管理员将不再通过单击标签对字段进行排序。要再次启用此功能，请定义一个`admin_order_field`.

```
def _date_created(self, obj):
    return obj.date_created.strftime('%m/%d/%Y')
_date_created.short_description = "Date Created"
_date_created.admin_order_field = 'date_created' 
```

* * *

### 更新 2：

我编写了一个[管理方法装饰器](https://yuji.wordpress.com/2015/02/16/django-admin-attribute-decorator/)来简化这个过程，因为一旦我开始使用高度描述性的详细方法名称，在函数上设置属性就会变得非常重复和混乱。

```
def admin_method_attributes(**outer_kwargs):
    """ Wrap an admin method with passed arguments as attributes and values.
    DRY way of extremely common admin manipulation such as setting short_description, allow_tags, etc.
    """
    def method_decorator(func):
        for kw, arg in outer_kwargs.items():
            setattr(func, kw, arg)
        return func
    return method_decorator

# usage
class ModelAdmin(admin.ModelAdmin):
    @admin_method_attributes(short_description='Some Short Description', allow_tags=True)
    def my_admin_method(self, obj):
        return '''<em>obj.id</em>''' 
```

# glassfish - 无法在 arquillian 和 glassfish 中运行测试

> ID：12048178
> 
> 赞同：2
> 
> 时间：2012-08-21T03:45:52.350
> 
> 标签：glassfish, jboss-arquillian, glassfish-embedded

我正在尝试使用 Arquillian 将我的 EJB ear 文件部署到嵌入式 glassfish 服务器。

这是我的项目结构。

*   父模块
    ——EAR 模块（maven-ear 插件创建ear 文件）
    ——UI 模块
    ——EJB 模块（依赖于实体、实用程序和报告模块以及我必须测试的模块）
    ——实体模块
    ——实用程序模块
    -- 报告模块
    -- WebServices 模块

*   集成测试模块（Arquillian、Glassfish 3.1 集成测试）

这是使用 maven-ear-plugin 在 EAR 模块中构造 Ear 文件的方式

*   ejb.jar

*   ui.war

*   webservices.war
    ——Lib文件夹
    ——utilities.jar
    ——entities.jar——
    加上其他jar

我想弄清楚的是如何使用 Arquillian 创建一个 Ear 文件，使用 ShrinkWrap 来测试依赖于 utilites.jar、entities.jar 和 reports.jar 的 ejb.jar。

```
@Deployment
public static EnterpriseArchive createTestArchive() {
    MavenDependencyResolver resolver = DependencyResolvers.use(
            MavenDependencyResolver.class).loadMetadataFromPom("pom.xml");

    EnterpriseArchive ear = ShrinkWrap.create(EnterpriseArchive.class, "test.ear").
            addAsLibraries(resolver.artifact("<artifactid:groupid>").
            resolveAsFiles());

    return ear;
}

@Test
public void testInjection() {
    Object obj = new Object ();
    Objec .setName("TESO1");
    Object result = service.save(null, null, null);
    assertNotNull(result);
} 
```

我什至尝试将 ejb.jar、utilities.jar 和 entity.jar 放入一个 war 文件并进行部署，但我无法解决这个错误。部署工作正常...服务器启动正常，但测试失败，说没有返回结果

```
http://localhost:8181/test/ArquillianServletRunner?outputMode=serializedObject&className=mjs.ejb.MyBeanIT&methodName=testInjection. No result returned 
```

我还尝试了此论坛[https://community.jboss.org/thread/203023?tstart=0](https://community.jboss.org/thread/203023?tstart=0)中的代码，将 ejb.jar 添加为模块，将其他依赖项添加为 lib。但我仍然不断收到以下错误。我的 ejb.jar 有 persistence.xml 文件，所以我不需要在我的测试用例中添加任何文件（我认为！）。正如您在我的测试用例中看到的那样，我没有在我的 ear 文件中添加任何配置文件。

* * *

## 测试集：mjs.ejb.MyBeanIT

```
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 21.601 sec <<< FAILURE!
testInjection(mjs.ejb.MyBeanIT)  Time elapsed: 1.234 sec  <<< ERROR!
java.lang.IllegalStateException: Error launching test mjs.ejb.MyBeanIT public void     mjs.ejb.MyBeanIT.testInjection()
at org.jboss.arquillian.protocol.servlet.ServletMethodExecutor.invoke(ServletMethodExecutor.java:126)
at org.jboss.arquillian.container.test.impl.execution.RemoteTestExecuter.execute(RemoteTestExecuter.java:120)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)
at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115)
at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:57)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:89)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:75)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:60)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)
at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:111)
at org.jboss.arquillian.junit.Arquillian$6.evaluate(Arquillian.java:263)
at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:226)
at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)
at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)
at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:240)
at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)
at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)
at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:185)
at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)
at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)
at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:199)
at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:147)
at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:234)
at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:133)
at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:114)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:597)
at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:188)
at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:166)
at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:86)
at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:101)
at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:74) 

Caused by: java.lang.IllegalStateException: Error launching request at http://localhost:8181/test/ArquillianServletRunner?outputMode=serializedObject&className=mjs.ejb.MyBeanIT&methodName=testInjection. No result returned
at org.jboss.arquillian.protocol.servlet.ServletMethodExecutor.executeWithRetry(ServletMethodExecutor.java:162)
at org.jboss.arquillian.protocol.servlet.ServletMethodExecutor.invoke(ServletMethodExecutor.java:122)
... 81 more 
```

请帮忙

# python - Python：csv输出中的数据不匹配

> ID：12048179
> 
> 赞同：-1
> 
> 时间：2012-08-21T03:45:56.473
> 
> 标签：python, csv

假设我有两个 csv 输出，如下所示：

> 标记1：
> 
> [['a', '', '', '', '', ''], ['b', '', '', '', '', ''], ['c', '' , '', '', '', ''], ['d', '', '', '', '', ''], ['e', '', '', '', ' ', ''], ['f', '', '', '', '', ''], ['g', '', '', '', '', '']]

和

> 标记2：
> 
> [['a', '10', '', '', '', ''], ['b', '', '', '', '', ''], ['c', ' 10', '', '', '', ''], ['d', '', '', '', '', ''], ['e', '7', '', ' ', '', ''], ['m', '9', '', '', '', ''], ['n', '', '', '', '', '' ]]

在这种情况下，在第一个 csv 输出中找不到 m 和 n。所以我为找出这两个而编写的代码是：

> 标记1[行][0] != 标记2[行1][0]：
> 
> ```
>  print 'some marks are not the same - no match found' 
> ```

上面的代码不起作用。

有没有什么具体的方法可以解决这个问题？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T05:03:27.823

我将首先说我投票支持@ThaneBrimhall 的答案，但为了展示各种方式（并假设您只关心一个元素是否在另一个元素中，无论位置如何）：

```
# Get a set of unique first elements for each list
set1 = set([n[0] for n in mark1])
set2 = set([n[0] for n in mark2])

# Items in mark1 but not mark2
if set1.difference(set2):
  print 'some marks are not the same - no match found'

# Items in mark2 but not mark1
if set2.difference(set1):
  print 'some marks are not the same - no match found' 
```

如果您想查看哪些导致错误：

```
# Get a set of unique first elements for each list
set1 = set([n[0] for n in mark1])
set2 = set([n[0] for n in mark2])

# Items in mark1 but not mark2
set1_diffs = set1.difference(set2)
if set1_diffs:
  print 'Marks {0} in mark1 but not mark2'.format(list(set1_diffs))

# Items in mark2 but not mark1
set2_diffs = set2.difference(set1)
if set2_diffs:
  print 'Marks {0} in mark2 but not mark1'.format(list(set2_diffs)) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T04:02:47.117

我发现这样做的最简单（并且计算速度最快）的方法是执行以下操作：

```
if [n for n in mark2 if n[0] not in [m[0] for m in mark1]]:
    print 'some marks are not found...' 
```

需要两个 for 循环来比较您要迭代的每个值。上面的代码大致翻译为：

```
keys = []
for m in mark1:
    keys.append(m[0])
for n in mark2:
    if n not in keys:
        print 'some marks not found...'
        break 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T04:01:33.667

鉴于您想比较整个列表列表，这应该比较它们：

```
 if mark1 != mark2:
      print 'some are not the same...' 
```

如果您只想比较列表中每个列表的第一个字段，这就是这样做的方法。

```
def compare_first(mark1,mark2):
  for row in mark1:
    for row2 in mark2:
      if row[0] != row2[0]:
        return false;
  return true 
```

然后主要使用该功能

```
if !equal_firs(mark1,mark2):
  print('some are not the same...') 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-21T04:02:12.037

你的例子没有多大意义。

```
mark1= [['a', '', '', '', '', ''], ['b', '', '', '', '', ''], ['c', '', '', '', '', ''], ['d', '', '', '', '', ''], ['e', '', '', '', '', ''], ['f', '', '', '', '', ''], ['g', '', '', '', '', '']]
mark2= [['a', '10', '', '', '', ''], ['b', '', '', '', '', ''], ['c', '10', '', '', '', ''], ['d', '', '', '', '', ''], ['e', '7', '', '', '', ''], ['m', '9', '', '', '', ''], ['n', '', '', '', '', '']]
if mark1[row][0] != mark2[row1][0]:
    print 'some marks are not the same - no match found' 
```

在那个 if 语句中，您正在处理 row 和 row1 - 为什么您不在同一行中查找？

除此之外，这是不正确的-

```
mark1[row][0] != mark2[row1][0]: 
```

我相信你的意思是：

```
if mark1[row][0] != mark2[row1][0]: 
```

# c++ - C++ 在游戏中实现攻击类

> ID：12048180
> 
> 赞同：0
> 
> 时间：2012-08-21T03:46:10.793
> 
> 标签：c++, class, inheritance

为了学习和娱乐，我决定使用类创建一个迷你版的星际争霸 2。我创建了一个 ProtossUnit 基类和两个派生类 Zealot 和 Stalker。现在我正试图找出实施攻击的最佳方法（损坏另一个单位）。

我在 ProtossUnit 基类中包含了一个函数，但也许有更优雅/更好的方法，例如创建一个 Class Attack。我相信这将允许我对攻击进行更多的自定义（包括升级/攻击率等）。我正在考虑将 Attack 类的继承权赋予派生类，因为它们拥有伤害统计信息？

任何帮助表示赞赏。

```
class ProtossUnit {
protected:
    int psishield, health, armor;
    int mineralcost, gascost;   
public:
    int getHealth() { return health; }
    int getPsiShield() { return psishield; }
    int getArmor() { return armor; }
};

class Zealot : public ProtossUnit {
public:
    string attacktype;
    int damage, attackspeed;
    Zealot() {
        attacktype = "Psi Blades";
        psishield = 50;
        health = 100;
        damage = 8 * 2;
        attackspeed = 1.2;
        mineralcost = 100;
        gascost = 0;
    }
};

class Stalker : public ProtossUnit {
public:
    string attacktype;
    int damage, attackspeed;
    Stalker() {
        attacktype = "Ranged";
        psishield = 80;
        health = 80;
        damage = 10;
        attackspeed = 1.44;
        mineralcost = 125;
        gascost = 50;           
    } 
};

class Attack {
private:
    string attackName;
    int damage, attackspeed;
public:
    Attack(string aName, int dmg, int aspeed) {
        attackName = aName;
        damage = dmg;
        attackspeed = aspeed;
    }

}; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T04:05:48.367

首先，重要的是要认识到有许多可能的设计。在我的脑海中，我认为一个单位将有能力（方法）攻击另一个单位，所以也许它将目标作为一些参数。然后根据攻击，您可以做一些随机的事情（字面意思是生成概率结果）并根据目标单位的健康（或我们）进行调整。这就是攻击类可能发挥作用的地方：如果一个单位有很多不同的攻击，或者不同的单位共享攻击，那么具有一些一般行为的可重用攻击类可能会有所帮助。没有错误的答案。

# python - 有没有用python编写的多启动优化包？

> ID：12048181
> 
> 赞同：0
> 
> 时间：2012-08-21T03:46:11.997
> 
> 标签：python, optimization

伙计们，

我想知道这样的包是否存在？或者有没有很好的参考来实现它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:39:41.160

scipy 、 pyANN 和 pyevolve 是一些我想到的包，它们可能有一些工具可以帮助解决这个问题......我不完全确定什么是多启动优化，但我有一个粗略的想法......

# python - Python程序，谁能告诉我这里的2有什么意义？

> ID：12048182
> 
> 赞同：0
> 
> 时间：2012-08-21T03:46:15.913
> 
> 标签：python

在 round 函数中，作为第二个参数的数字 2 是什么意思？

```
##This is a program that calcs your credit card, and compounds down the total

a=float(raw_input("Enter the outstanding balance on your credit card:"))
b=float(raw_input("Enter the annual crdit card interest rate as a deicimal:"))           
c=float(raw_input("Enter the minimum monthly payment as a decimal:"))
for month in range(1, 13):
    print "Month: ", str(month)
    MMP = round((c * a),2)                  ##the 2 here and below, what does it do?
    print "Minimum monthly payment: ", MMP
    IP = round((b/12 * a),2)
    print "Interest payed: ", IP 
    PP = round(((c*a) - ((b/12)*a)),2)
    print "principal payed: ", PP
    a = round((a - PP),2)
    print "Remaining balance", a 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T03:49:26.287

2 作为第二个参数传递给round，给出要四舍五入的小数位数。这会将它四舍五入到最接近的浮点数，表示四舍五入到小数点后两位的数字。请注意，这是一个非常糟糕的主意，也是常见的错误来源。请改用 fractions.Fraction 或 decimal.Decimal。

浮点数永远不应该用来赚钱，尤其是当你像这样四舍五入时。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T03:48:26.090

`2`是在舍入操作中使用的小数位数。看看这里：[http ://docs.python.org/library/functions.html#round](http://docs.python.org/library/functions.html#round)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-21T03:49:38.457

这会将一个数字四舍五入，以便在操作后它有 2 个十进制数字。检查以下文档：

[http://docs.python.org/library/functions.html#round](http://docs.python.org/library/functions.html#round)

# objective-c - Objective-C中枚举的值范围？

> ID：12048184
> 
> 赞同：0
> 
> 时间：2012-08-21T03:46:53.837
> 
> 标签：objective-c

我可以在 Objective-C 中使用多少枚举？
和 NSInteger 一样吗？

```
typedef enum {
    myEnumA = -1000,
    myEnumB = 1000,
    myEnumC = 2000
} myEnum; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T03:51:22.153

由于 ObjC 基于 C，您可能会发现它符合该语言的标准：

从：

*   `c90 3.5.2.2 Enumeration specifiers` ^(（一个）)
*   `c99 6.7.2.2 Enumeration specifiers`
*   `c11 6.7.2.2 Enumeration specifiers`

> 定义枚举常量值的表达式应为整数常量表达式，其值可表示为 int。

* * *

^((a)) : C90 实际上说的是“integral”而不是“integer”，但它的意思是一样的。

# django - 芹菜任务模型实例数据被网络工作者踩踏？

> ID：12048185
> 
> 赞同：0
> 
> 时间：2012-08-21T03:46:53.933
> 
> 标签：django, celery, django-celery

我有一个在一个视图上调用的任务。基本上，该任务负责获取一些 pdf 数据，并通过 django 存储将其保存到 s3 中。

这是启动它的视图：

```
@login_required
@minimum_stage(STAGE_SIGN_PAGE)
def page_complete(request):
    if not request.GET['documentKey']:
        logger.error('Document Key was missing', exc_info=True, extra={
            'request': request,
        })
    user = request.user
    speaker = user.get_profile()
    speaker.readyForStage(STAGE_SIGN)
    speaker.save()
    retrieveSpeakerDocument.delay(user.id, documentKey=request.GET['documentKey'], documentType=DOCUMENT_PAGE)
    return render_to_response('speaker_registration/redirect.html', {
        'url': request.build_absolute_uri(reverse('registration_sign_profile'))
    }, context_instance=RequestContext(request)) 
```

这是任务：

```
@task()
def retrieveSpeakerDocument(userID, documentKey, documentType):
    print 'starting task'
    try:
        user = User.objects.get(pk=userID)
    except User.DoesNotExist:
        logger.error('Error selecting  user while grabbing document', exc_info=True)
        return
    echosign = EchoSign(user=user)
    fileData = echosign.getDocumentWithKey(documentKey)
    if not fileData:
        logger.error('Error retrieving document', exc_info=True)
    else:
        speaker = user.get_profile()
        print speaker
        filename = "%s.%s.%s.pdf" % (user.first_name, user.last_name, documentType)
        if documentType == DOCUMENT_PAGE:
            afile = speaker.page_file
        elif documentType == DOCUMENT_PROFILE:
            afile = speaker.profile_file

        content = ContentFile(fileData)
        afile.save(filename, content)
        print "saving user in task"
        speaker.save() 
```

与此同时，我的下一个视图命中（实际上它是一个 ajax 调用，但这没关系）。基本上它为下一个嵌入式文档获取代码。一旦它得到它，它就会更新扬声器对象并保存它：

```
@login_required
@minimum_stage(STAGE_SIGN)
def get_profile_document(request):
    user = request.user
    e = EchoSign(request=request, user=user)
    e.createProfile()
    speaker = user.get_profile()
    speaker.profile_js = e.javascript
    speaker.profile_echosign_key = e.documentKey
    speaker.save()
    return HttpResponse(True) 
```

我的任务正常工作，并`speaker.page_file`正确更新属性。（我可以暂时在管理员中看到这个，也可以在 postgres 日志中看到它。）

但是它很快就被盖住了，我相信`get_profile_document`在它更新并保存`profile_js`属性后视图中的调用。**事实上，我知道这是基于 SQL 语句发生的地方。在 profile_js 更新之前它就在那里，然后它就消失了。**

现在我真的不明白为什么。扬声器在每次更新和保存之前被正确获取，并且这里还没有真正的缓存，除非 get_profile() 做了一些奇怪的事情。发生了什么事，我该如何避免这种情况？（另外，我需要在 fileField 上`speaker`运行后调用 save on`save`吗？因此，postgres 日志中似乎有重复的调用。

# 更新

很确定这是由于 Django 的默认视图事务处理。视图开始一个事务，需要很长时间才能完成，然后提交，覆盖我已经在 celery 任务中更新的对象。

我不确定如何解决它。如果我将方法切换为手动事务，然后在获取 echosign js 后立即提交（需要 5-10 秒），它会启动新事务吗？似乎没有工作。

# 也许不吧

我没有`TransactionMiddleware`添加。所以除非它发生了，否则这不是问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T06:19:56.233

# 解决了。

所以这就是问题所在。

Django 显然保留了一个它认为在任何地方都没有改变的对象的缓存。（如果我错了，请纠正我。）由于 celery 在 django 之外的数据库中更新我的对象，所以当我说 user.get_profile() 时，它不知道这个对象已经改变并把缓存的版本反馈给我。

强制它从数据库中抓取的解决方案就是用它自己的 id 重新抓取它。它有点傻，但它有效。

```
speaker = user.get_profile()
speaker = Speaker.objects.get(pk=speaker.id) 
```

显然 django 作者不想在对象上添加任何类型的 refresh() 方法，所以这是下一个最好的事情。

使用事务也可以解决我的问题，但改天。

## 更新

经过进一步挖掘，这是因为用户模型上有一个`_profile_cache`属性，因此每次您从同一个对象的一个​​请求中获取配置文件时，它都不会重新获取。由于我在同一个对象的 echosign 函数中使用 get_profile() ，因此它被缓存了。

# unity3d - unity3d 像钟摆一样的摆动球

> ID：12048190
> 
> 赞同：0
> 
> 时间：2012-08-21T03:47:51.347
> 
> 标签：unity3d

大家好，Unity 程序员和 stackoverflow 成员。我正在完成文章的[项目](https://stackoverflow.com/questions/12038207/hinge-joint-making-rope)

在文章之前我没有解决方案。所以我改用其他方法。

我想要一个像钟摆移动的动画。我制作了2个对象A和B；

A: 添加了使用 IsKinematic 设置的刚体组件。

B：添加刚体组件设置默认；并添加铰链关节并将连接的主体设置为对象A。并与A有适当的偏移。

当我玩这个时，它（Obj B）没有动作。为了提供运动，我在场景模式下移动 B 对象，但 B 移动它的位置。

为什么？我怎么解决这个问题。我想要像钟摆一样为 Ball B 设置动画。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T15:04:19.540

将铰链关节添加到对象 A 而不是 B（isKinematic 设置为 true）并设置所需的轴

将对象 B 连接到关节

# c++ - 为什么在显式实例化中不恰当地访问 private 是合法的？

> ID：12048193
> 
> 赞同：11
> 
> 时间：2012-08-21T03:48:14.990
> 
> 标签：c++, templates, private, language-lawyer, access-specifier

为什么这会被允许：

```
//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
template<typename T>
struct invisible
{
    static typename T::type value;
};

template<typename T>
typename T::type invisible<T>::value;

//////////////////////////////////////////////////////////////////////////
template<typename T, typename T::type P>
class construct_invisible
{
    construct_invisible(){ invisible<T>::value = P; }
    static const construct_invisible instance;
};

template<typename T, typename T::type P>
const construct_invisible<T, P> construct_invisible<T, P>::instance;

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////
class A
{
public:
    A(int x) : m_X(x){}
private:
    int m_X;
};

//////////////////////////////////////////////////////////////////////////
struct A_x{ typedef int A::*type; };
template class construct_invisible<A_x, &A::m_X>;// <---- WHY DOES `&A::m_X` WORK HERE?

//////////////////////////////////////////////////////////////////////////
int main()
{
    A a(17);
    std::cout << a.*invisible<A_x>::value << '\n';
} 
```

[[上述 C++ 滥用归功于 Johannes](http://bloglitb.blogspot.com/2010/07/access-to-private-members-thats-easy.html) Schaub 。（[演示](http://ideone.com/o9Pt5)）]

还有其他情况可以访问您应该不可见的内容吗？这只是标准中的“错误”吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T07:37:46.773

这样，拥有私有成员的类的作者就可以显式地实例化该成员或将其作为参数传递，就像您刚才所做的那样。

编译器不知道谁在键盘前，所以这里的访问检查相当保守。

显式实例化中使用的参数得到特殊处理，因为没有机制让类作者在允许的上下文中显式实例化模板或以某种方式允许使用朋友声明这样做。

# java - 矢量缩放问题

> ID：12048195
> 
> 赞同：0
> 
> 时间：2012-08-21T03:48:42.817
> 
> 标签：java, math, vector, minecraft

您好，我正在开发一个基于 minecraft 源代码的 minecraft 机器人，我需要编写一个 fly to block 方法……但是我的方法似乎有故障，我不知道为什么。我错过了什么吗？（抱歉命名含糊，Local表示它是函数的局部值，局部向量实际上存储在数组中）

```
private void flyTo(int x, int y, int z,double posX,double posY,double posZ) {
    double xLocal = posX;
    double yLocal = posY;
    double zLocal = posZ;
    while(xLocal!=x &&yLocal!=y&&zLocal!=z){
        double[] v = new double[3];
        v[0] = x-xLocal;
        v[1] = y-yLocal;
        v[2] = z-zLocal;
        double magxz = Math.sqrt(Math.pow(v[0], 2)+Math.pow(v[2], 2));
        if(magxz>0.6D){
            double scaler = 0.6D/magxz;
            v[0] *= scaler;
            v[2] *= scaler;
        }
        if(Math.abs(v[1])>1){
            if(v[1]>0){
                v[1]=1;
            }else{
                v[1]=-1;
            }
        }
        xLocal+=v[0];
        yLocal+=v[1];
        zLocal+=v[2];
        mc.getSendQueue().addToSendQueue(new Packet11PlayerPosition((double)xLocal,(double)yLocal,yLocal+0.83,(double)zLocal,false));
        mc.getSendQueue().processReadPackets();
        try {
            Thread.sleep(500);
        } catch (InterruptedException e) {
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T03:56:19.783

如果没有更多信息，我唯一可以建议的是 normalize `v`，因为它似乎是一个方向向量：

```
v[0] = x-xLocal;
v[1] = y-yLocal;
v[2] = z-zLocal;

double mag = Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2) + Math.pow(v[2], 2));

v[0] /= mag;
v[1] /= mag;
v[2] /= mag; 
```

# sed - 第二次尝试使用 AWK/SED/ 加入 3 个表

> ID：12048197
> 
> 赞同：0
> 
> 时间：2012-08-21T03:48:47.957
> 
> 标签：sed, awk, paste

所以，我的最后一个问题不够具体，虽然我更接近了，但我仍然无法以一种有意义的方式加入我的 3 个文本表。现在，更详细地说，它们是：

**T1_01 = 表 1**

```
 No  Object     CCmax    Vhel    cont  noise    Mag1  
001  _P10644    0.816  123.04  2450.3   74.2   15.34    
002   Parked  -99.900  -99.90   -99.9  -99.9  -99.90  
003  _P10569    0.791  146.30  2650.7   75.3   15.50   
004  _P10769    0.641  141.49   482.7   30.2   16.42  
005  _P10572    0.848  138.15  2161.4   46.3   15.85 
```

**T1_02 = 表 2**

```
Fibrel       Namel  Typel  Pivl         RAl        DECl   Magl  
   001   F1_P10644      P     1  4.89977691  -0.5104696   15.3  
   002      Parked      N     2  4.88965087  -0.4904939    0.0   
   003   F1_P10569      P     3  4.89642427  -0.5099916   15.5  
   004   F1_P10769      P     4  4.90643599  -0.5112466   16.4  
   005   F1_P10572      P     5  4.89644907  -0.5105655   15.8 
```

**T1_03 = 表 3**

```
Name                       RA                 DEC  Imag       Fieldname fiber      RV    eRV                                                               
F1_P10644   4.899776910023531  -0.510469633262908 15.34   100606F1red   001  122.47   2.94  
F1_P10569   4.896424277974554  -0.509991655454702 15.50   100606F1red   003  145.55   2.72  
F1_P10769   4.906435995618358  -0.511246644149622 16.42   100606F1red   004  116.28  12.87  
F1_P10572   4.896449076194342  -0.510565529409031 15.85   100606F1red   005  136.15   3.01 
```

我希望的表格输出是：

`T1_0123`（加入第 1`T1_01`列`T1_02`、第 1 列和第 6 列`T1_03`）

```
 No   Object  CCmax    Vhel    cont   noise    Mag1  Fibrel      Namel   Typel  Pivl         RAl        DECl   Magl       Name                   RA                  DEC    Imag     Fieldname fiber      RV    eRV 
```

其中第 1 行 =

```
001  _P10644  0.816  123.04  2450.3    74.2   15.34     001  F1_P10644       P     1  4.89977691  -0.5104696   15.3  F1_P10644    4.899776910023531   -0.510469633262908   15.34   100606F1red    001  122.47   2.94 
```

和线2 =

```
002   Parked  -99.9   -99.9   -99.9   -99.9   -99.9     002  Parked          N     2  4.88965087  -0.4904939    0.0  -99.9        -99.9               -99.9                -99.9         -99.9  -99.9   -99.9  -99.9 
```

因此 -99.9 被写入与第三个文件不匹配的行中。

现在，如果我跳过标题，我可以加入文件：

```
join -1 1 -2 1 |awk 'NR != 1' <T1_02 |awk 'NR != 1'<T1_01 >T1_021

join -1 1 -2 6 T1_021 |awk 'NR != 1'<T1_03 >T1_0123 
```

但是，这只打印连接中列出的第一个表的结果，所以我没有得到我需要的所有列。同样，如果我想要所有 3 张桌子，我“可以”做：

```
paste T1_01 T1_02 T1_03 
```

除了，在这种情况下，我`T1_03`将不匹配，因为它缺少几个值。所以我正在寻找的是一种表达方式，例如：

```
for all i in files T1_01,T1_02,T1_03
  if T1_01 $1 == T1_02 $2 == T1_03 $6 
    # then print T1_01[i] T1_02[i] T1_03[i] \n, 
  else 
    # print T1_01[i] T1_02[i] -99.9 (for all blanks)
  fi
done 
```

或者相反，使用我上面的 join 语句并打印两个表中的所有行加入，或者可能是某种粘贴 | 加入？？不确定最后一个想法，因为我还没有找到任何真正有效的方法。

此外，我可以稍后将 -99.9 放入：

```
sed -i -e 's/                        / 99.9 -99.9 -99.9 -99.9 -99.9 -99.9 -99.9 -99.9/' T1_0123 
```

而且我也可以手动添加标题，所以主要问题是获得正确的粘贴结果。

希望这次我能更好地表达这个问题，感谢大家帮助新的 bash 用户！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T06:25:33.947

这是做你想做的事。该脚本假定您的数据位于 data1、data2 和 data3 中。它将所有这些数据写入一个临时文件，同时根据来源对其进行标记（来自 data1 的行附加“A”等......）。它还将要加入的索引添加到 data3 的行首。然后对数据进行排序以分组相应的行。
然后用awk打印对应的记录，并为data3中缺失的条目填充占位符数据。

如果这不是您想要的，您应该能够根据您的需求进行调整 - 否则请发表评论:-)

```
#!/bin/bash

awk 'NR > 1 {print $0, "A"}' data1 >tmp
awk 'NR > 1 {print $0, "B"}' data2 >>tmp
awk '{print $6, $0, "C"}' data3 >>tmp

sort -nk1,1 tmp | \
  awk '
    function printDATA() {
        print DATA["A"], DATA["B"], DATA["C"]
        DATA["C"] = "-99.9 -99.9 -99.9 -99.9 -99.9"
        DATA["C"] = DATA["C"] " -99.9 -99.9 -99.9"
    }
    $1 != last && NR > 1{printDATA()}
    {
        m = $NF; $NF = ""; last = $1;
        if(m == "C") {$1 = ""}
        DATA[m] = $0
    }
    END {printDATA()}
  ' 
```

# c# - MVC + RedirectToAction 带参数

> ID：12048205
> 
> 赞同：0
> 
> 时间：2012-08-21T03:50:34.940
> 
> 标签：c#, asp.net-mvc

我有一个 HttpPost 'Index' ActionResult，它重定向到另一个 ActionResult 调用'Publish'。问题是当我在这一行设置断点时：

```
 if (accTok != null && fullImgPath != null) 
```

单击我的 Ajax ActionLink 时它将通过两次，我只能在第二次通过时获得值，因此我的“发布”控制器将始终返回我的“空白”视图。我知道这可能与 Ajax 帖子有关，但我不确定如何纠正这个问题，以便我可以在第一次通过时获得我的“accTok”和“fullImgPath”值，以便它显示我的“BlurredPhoto”部分看法。请协助。谢谢。

***我发现问题是由于我的@Ajax.ActionLink 首先触发并在我的 [HttpPost] 方法之前重定向到“发布”。***

```
public ActionResult Index()
        {
             return View(); 
        }

    [HttpPost]
    public ActionResult Index(string facebookUID, string facebookAccessTok)
    {
        string fbUID = facebookUID;
        string fullPath = "";

        if (fbUID != null)
        {           
                // Request fb profile pic
                var rawImg = new Bitmap(ImageHelper.requestBitmapImage(fbUID));
                var processblurredImg = new Bitmap(rawImg);

                var gb = new GaussianBlur();

                for (int i = 0; i < 8; i++)
                {
                    gb.ApplyInPlace(processblurredImg);
                }

                // Download it to local drive / server
                string uploadPath = Server.MapPath("~/upload");
                fullPath = uploadPath + "\\ProfilePic.png";

                if (!Directory.Exists(uploadPath))
                {
                    Directory.CreateDirectory(uploadPath);
                }
                if (uploadPath != null)
                    ImageHelper.savePng(fullPath, processblurredImg, 500L);

        }

        return RedirectToAction("Publish", new { accTok = facebookAccessTok, fullImgPath = fullPath });
    }

public PartialViewResult Publish( string accTok, string fullImgPath)
{
    if (accTok != null && fullImgPath != null)
    {
         UploadPhoto(accTok, fullImgPath);
        // PostToWall(accTok, fullPath);
         return PartialView("BlurredPhoto");
    }
    return PartialView("Blank");
} 
```

我的索引视图：

```
 @using Specsavers_Fred_Hollow.Helpers

@{

    ViewBag.Title = "Home Page";
    //Layout = "~/Views/Shared/_Layout.cshtml";
}

<script type="text/javascript">
    var uid = 0;
    var accesstoken = '';

    function grantPermission() {
        window.FB.login(function (response) {
            if (response.authResponse) {
                uid = response.authResponse.userID;
                accesstoken = response.authResponse.accessToken;
                var postData = { facebookUID: uid, facebookAccessTok: accesstoken };
                $.ajax({
                    url: '@Url.Action("Index","Tab")',
                    type: 'POST',
                    data: postData,
                    dataType: 'json',
                    success: function (response) {
                        // process the results from the controller action
                        // window.location.href = response.Url;
                    }
                });
            } else {
                console.log('User cancelled login or did not fully authorize.');
                alert('User cancelled login');
            }
        }, { scope: 'publish_stream' });
    };

// Init the SDK upon load
    window.fbAsyncInit = function() {
        FB.init({
            appId: '@FacebookHelper.FacebookAppId', // App ID
            channelUrl: '//WWW.YOUR_DOMAIN.COM/channel.html', // Channel File
            status: true, // check login status
            cookie: true, // enable cookies to allow the server to access the session
            xfbml: true  // parse XFBML
        });

        // Load the SDK Asynchronously
        (function(d) {
            var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
            if (d.getElementById(id)) {
                return;
            }
            js = d.createElement('script');
            js.id = id;
            js.async = true;
            js.src = "//connect.facebook.net/en_US/all.js";
            ref.parentNode.insertBefore(js, ref);
        }(document));

        // listen for and handle auth.statusChange events
        FB.Event.subscribe('auth.statusChange', function(response) {
            if (response.authResponse) {
                // user has auth'd your app and is logged into Facebook
                FB.api('/me', function(me) {
                    if (me.name) {
                        document.getElementById('auth-displayname').innerHTML = me.name;
                    }
                });
                document.getElementById('auth-loggedout').style.display = 'none';
                document.getElementById('auth-loggedin').style.display = 'block';
            } else {
                // user has not auth'd your app, or is not logged into Facebook
                document.getElementById('auth-loggedout').style.display = 'block';
                document.getElementById('auth-loggedin').style.display = 'none';
            }
        });
        $("#auth-loginlink").click(function() { grantPermission(); });
    };

</script>

<html>
    <head>
        <title>Facebook Login Authentication Example</title>
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"> </script>

    </head>
    <body>

        <h1>Facebook Login Authentication</h1>
        <br/>

        <div id="auth-status">
            @*<a href="#" id="auth-loginlink">Login</a><br/>*@
            @*<div class="fb-login-button" id="auth-loginlink"></div>*@
        </div>

        @Ajax.ActionLink("Proceed", "Publish", "Tab", 
        new { id = "auth-loginlink" },
        new AjaxOptions{UpdateTargetId = "DynamicContainer",
                        InsertionMode=InsertionMode.Replace,
                        HttpMethod="POST",
                        OnSuccess = "grantPermission()" 
        })

        <br/><br/>

        <div id="DynamicContainer" style="border: 1px solid #C0C0C0; padding: 1px; width: 500px; height: 400px"></div>

    </body>
</html> 
```

# time - 无法测量 CUDA 程序和 CUDA 内核的运行时间

> ID：12048209
> 
> 赞同：0
> 
> 时间：2012-08-21T03:51:03.800
> 
> 标签：time, cuda

我目前有三种测量经过时间的方法，两种使用 CUDA 事件，另一种记录开始和结束 UNIX。使用 CUDA 事件的那些测量两件事，一个测量整个外部循环时间，另一个测量所有内核执行时间。

这是代码：

```
int64 x1, x2;

cudaEvent_t start;
cudaEvent_t end;
cudaEvent_t s1, s2;
float timeValue;

 #define timer_s cudaEventRecord(start, 0);
 #define timer_e cudaEventRecord(end, 0);   cudaEventSynchronize(end); cudaEventElapsedTime( &timeValue, start, end ); printf("time:  %f  ms \n", timeValue);

cudaEventCreate( &start );
cudaEventCreate( &end );
cudaEventCreate( &s1 );
cudaEventCreate( &s2 );

cudaEventRecord(s1, 0);   
x1 = GetTimeMs64();

for(int r = 0 ; r < 2 ; r++)
{
    timer_s
    kernel1<<<1, x>>>(gl_devdata_ptr);
    cudaThreadSynchronize();
    timer_e
    sum += timeValue;

    for(int j = 0 ; j < 5; j++)
    {
        timer_s
        kernel2<<<1,x>>>(gl_devdata_ptr);
        cudaThreadSynchronize();
        timer_e
        sum += timeValue;

        timer_s
        kernel3<<<1,x>>>(gl_devdata_ptr);
        cudaThreadSynchronize();
        timer_e
        sum += timeValue;
    }

    timer_s
    kernel4<<<y, x>>> (gl_devdata_ptr);
    cudaThreadSynchronize();
    timer_e
    sum += timeValue;
}

x2 = GetTimeMs64();

cudaEventRecord(s2, 0);   
cudaEventSynchronize(s2); 
cudaEventElapsedTime( &timeValue, s1, s2 ); 
printf("elapsed cuda :       %f  ms \n", timeValue);
printf("elapsed sum :       %f  ms \n", sum);
printf("elapsed win :       %d  ms \n", x2-x1); 
```

GetTimeMs64 是我在 StackOverflow 上找到的：

```
int64 GetTimeMs64()
{
 /* Windows */
 FILETIME ft;
 LARGE_INTEGER li;
 uint64 ret;

 /* Get the amount of 100 nano seconds intervals elapsed since January 1, 1601 (UTC) and copy it
  * to a LARGE_INTEGER structure. */
 GetSystemTimeAsFileTime(&ft);
 li.LowPart = ft.dwLowDateTime;
 li.HighPart = ft.dwHighDateTime;

 ret = li.QuadPart;
 ret -= 116444736000000000LL; /* Convert from file time to UNIX epoch time. */
 ret /= 10000; /* From 100 nano seconds (10^-7) to 1 millisecond (10^-3) intervals */

 return ret;
} 
```

这些不是真正的变量名称，也不是正确的内核名称，我只是删除了一些以使代码更小。

所以问题是，每一项措施都给了我一个非常不同的总时间。

我刚刚运行的一些示例：

```
elapsed cuda : 21.076832    
elapsed sum :  4.177984     
elapsed win :  27 
```

那么为什么会有如此巨大的差异呢？所有内核调用的总和大约是 4 毫秒，其他 18 毫秒在哪里？CPU时间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:58:20.947

cudaThreadSynchronize 是一个开销很大的操作，因为它必须等待 GPU 上的所有工作完成。

如果您按如下方式构建代码，您应该会得到正确的结果：

```
int64 x1, x2;

cudaEvent_t start;
cudaEvent_t end;
const int k_maxEvents = 5 + (2 * 2) + (2 * 5 * 2);
cudaEvent_t events[k_maxEvents];
int eIdx = 0;
float timeValue;

for (int e = 0; e < 5; ++e)
{
    cudaEventCreate(&events[e]);
}

x1 = GetTimeMs64();
cudaEventRecord(events[eIdx++], 0);       
for(int r = 0 ; r < 2 ; r++)
{
    cudaEventRecord(events[eIdx++], 0);
    kernel1<<<1, x>>>(gl_devdata_ptr);

    for(int j = 0 ; j < 5; j++)
    {
        cudaEventRecord(events[eIdx++], 0);
        kernel2<<<1,x>>>(gl_devdata_ptr);

        cudaEventRecord(events[eIdx++], 0);
        kernel3<<<1,x>>>(gl_devdata_ptr);
    }

    cudaEventRecord(events[eIdx++], 0);
    kernel4<<<y, x>>> (gl_devdata_ptr);
}

cudaEventRecord(eIdx++, 0);   
cudaDeviceSynchronize(); 

x2 = GetTimeMs64();

cudaEventElapsedTime( &timeValue, events[0], events[k_maxEvents - 1] ); 
printf("elapsed cuda :       %f  ms \n", timeValue);
// TODO the time between each events is the time to execute each kernel.
// On WDDM a context switch may occur between any of the kernels leading
// to higher than expected results.
// printf("elapsed sum :       %f  ms \n", sum);
printf("elapsed win :       %d  ms \n", x2-x1); 
```

在 Windows 上，测量时间的更简单方法是使用 QueryPerformanceCounter 和 QueryPerformanceFrequency。

如果您将上面的示例编写为没有事件

```
#include "NvToolsExt.h"
nvtxRangePushA("CPU Time");
for(int r = 0 ; r < 2 ; r++)
{
    kernel1<<<1, x>>>(gl_devdata_ptr);

    for(int j = 0 ; j < 5; j++)
    {
        kernel2<<<1,x>>>(gl_devdata_ptr); 
        kernel3<<<1,x>>>(gl_devdata_ptr);
    }
    kernel4<<<y, x>>> (gl_devdata_ptr);
}

cudaDeviceSynchronize(); 
nvtxRangePop(); 
```

并在 Nsight Visual Studio Edition 1.5-2.2 CUDA Trace Activity 或 Visual Profiler 4.0+ 中运行，所有时间都将可用。GPU 时间将比使用 cudaEvents API 收集的更准确。使用 nvtxRangePush 测量 CPU 时间范围是可选的。这也可以通过测量示例中的第一个 CUDA API 到 cudaDeviceSynchronize 结束来完成。

# javascript - 画线连接 div

> ID：12048210
> 
> 赞同：1
> 
> 时间：2012-08-21T03:51:04.030
> 
> 标签：javascript, jquery, html

我目前有这个设置：[http ://sandbox.brightboxstudios.com/orgmap/](http://sandbox.brightboxstudios.com/orgmap/)

它们是可拖动的，我试图找到一种方法让线条连接它们，即使它们被拖动。有一个简单的方法来显示每个是如何相关的以及应该连接哪些是理想的！

谢谢！！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T03:56:39.160

您应该考虑使用[D3.js 库](http://d3js.org/)。特别是这个例子是我认为你正在寻找的：http: [//mbostock.github.com/d3/ex/force.html](http://mbostock.github.com/d3/ex/force.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T03:57:21.977

看看这个：[jQuery - 使用画布在 div 之间画线](https://stackoverflow.com/questions/1104295/jquery-use-canvas-to-draw-lines-between-divs?rq=1)

我将从该代码开始，每次`div`s 更改位置时重新绘制线条。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-31T22:45:38.563

您还可以尝试[jsPlumb](http://jsplumbtoolkit.com/jquery/demo.html)，这是一个可以将 div 连接在一起的 JavaScript 库。它使用起来非常简单，并且该页面上有很多演示。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-21T04:08:49.577

你也可以试试 KineticJS。我认为它会很容易地提供你想要的东西。[http://www.kineticjs.com/](http://www.kineticjs.com/)

在这里你可以找到很多教程：[http ://www.html5canvastutorials.com/kineticjs/html5-canvas-events-tutorials-introduction-with-kineticjs/](http://www.html5canvastutorials.com/kineticjs/html5-canvas-events-tutorials-introduction-with-kineticjs/)

# objective-c - Objective-C 中基于代理的建模项目的同步和线程化

> ID：12048214
> 
> 赞同：1
> 
> 时间：2012-08-21T03:51:25.820
> 
> 标签：objective-c, multithreading, agent, gnustep, agent-based-modeling

首先，我是一名 Objective-C 新手。我的大部分背景都是 Java。另外，由于大多数 Objective-C 问题都围绕 Cocoa，我应该指出这是在**GNUStep**上。

对于一个学校项目，我正在创建一个简单的基于代理的建模框架。这些框架通常用于模拟复杂系统（如疾病的传播）。我的框架有两个主要对象：一个世界和一个错误。世界由“层”组成，每个层都与一个环形网格相关联。世界可以由虫子组成，每个虫子都有一个 x 和 y 坐标，以及它所属的层。

我的总体想法是用错误填充世界，然后为每个错误触发线程并让他们做他们想做的事。您可以通过子类化主`Bug`类并实现`act`协议中定义的方法来创建任何类型的错误。这样您就可以拥有各种类型的自定义错误和自定义行为。Bug 应该能够与世界以及彼此交互（从世界中删除错误，向世界添加错误，移动自身）。正如你所看到的，这很快就会走向多线程地狱。

目前我有很多`@synchronized`障碍，我很难确保世界始终保持一致的状态。这变得特别困难，因为错误需要与世界通信并对其采取行动，反之亦然。我正在尝试实现一个名为 a 的简单错误`RandomBug`，它会在世界各地随机移动。即使这也被证明是困难的，因为我看到了状态可能被破坏或无效的潜在问题。

我开始看一看，`NSOperation`因为`NSOperationQueue`看起来这可能会让事情变得更容易。我有两个与此有关的问题：

*   是否有一种简单的方法可以`NSOperation`重复执行 s（即，以特定的时间间隔）。
*   如果我将线程上的最大并发操作数设置为 1，我还需要`@synchronized`块吗？在给定时间不会只有一个线程与世界交互吗？
*   有没有更好的方法来解决这类问题（多个线程以重复的方式与一个共享资源交互）？
*   我应该完全放弃线程并简单地遍历世界上的错误并以随机方式激活它们吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T04:01:58.420

听起来你可能想要一些游戏/模拟循环......所以你有一个“更新世界”阶段的你的运行循环对于你的模拟的每个时间步骤（由一个触发`NSTimer`），每个错误都有机会与之交互世界; 重复。除非您的错误是 CPU 密集型的，否则这可能是要走的路......

至于使用 NSOperation——当然，这可能会让你使用所有的 CPU 内核，但是如果有很多争用访问世界状态的问题，这毕竟可能不是一场胜利。在这种情况下，您可以尝试将您的世界中的每个图块作为您可以`@synchronized`对抗的单独对象，从而减少争用并允许更好地使用您的 CPU。

基本上，使用单个`NSOperationQueue`和设置`maxConcurrentOperations = 1`与实现游戏循环相同。如果您使用`NSOperationQueue`，但不设置*maxConcurrentOperations*，我希望`NSOperationQueue`同时运行与 CPU 内核一样多的操作。

# tsql - sql如何评估ISNUMERIC(ISNULL(VALUE, 'blah'))

> ID：12048219
> 
> 赞同：3
> 
> 时间：2012-08-21T03:52:13.217
> 
> 标签：tsql

我的假设是，如果该值是数字（在非数字范围内）但`FALSE`如果`ISNULL`返回`'blah'`. 看来我的假设是错误的...

我以以下方式使用它

```
case when ISNULL(ISNUMERIC(c.npinumber), 'blah') = 1
       then c.NPiNUmber
     else 'not valid: ' + c.NpiNumber
     end as npi 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T05:56:46.180

您不需要 ISNULL。ISNUMERIC 将返回 1 如果它是数字或 0 如果它是 NULL 或非数字。

```
 case
       when ISNUMERIC(c.NpiNumber) = 1 then c.NPiNUmber
       else 'not valid: ' + c.NpiNumber
  end as npi 
```

此外，正如 Euric 提到的，您可能希望查看全小写的列名。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T18:44:05.527

基于 Dhruvesh 的回答，

```
case
    when ISNUMERIC(c.npinumber) = 1 then c.NPiNUmber
    else 'not valid: ' + c.NpiNumber
end as npi 
```

任何时候 NpiNumber 为 NULL 都会产生 NULL。原因是 NULL + 任何字符串仍将返回 NULL。解决方案是简单地使用 COALESCE 函数

```
case
    when ISNUMERIC(c.npinumber) = 1 then c.NPiNUmber
    else 'not valid: ' + COALESCE(c.NpiNumber, 'NULL VALUE')
end as npi 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-21T04:07:31.057

```
select  ISNUMERIC(ISNULL(NULL, 'blah')),
        ISNUMERIC(ISNULL(1234, 'blah')),
        ISNUMERIC(ISNULL('ab', 'blah')) 
```

返回 0, 1, 0 - 所以你的逻辑是正确的。

当 SQL 不正常时，我喜欢简化我的查询。尝试先在没有 case 语句的情况下运行查询。如果结果看起来正确，则添加其他逻辑。

你的数据库是什么排序规则？保持列名正确大小写总是一个好主意（我正在查看那里的全小写列名......）。

# c++ - C++11：可变参数模板函数参数包扩展执行顺序

> ID：12048221
> 
> 赞同：6
> 
> 时间：2012-08-21T03:52:36.507
> 
> 标签：c++, c++11, variadic-templates, variadic-functions

考虑以下代码：

```
template<class T>
size_t f(T t, size_t& x) { return x++; }

template<class... Args>
void g(Args... args)
{
    size_t x = 0;
    size_t y[] = { f(args, x)... };

    for (size_t i = 0; i < sizeof...(args); i++)
        assert(y[i] == i);
} 
```

C++11 标准是否保证断言不会触发？为什么或者为什么不？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-21T04:15:26.133

是的，它保证不会开火。请参阅以下引文：

§14.5.3 可变参数模板：

> 包扩展可以发生在 [...] 初始化列表中；该模式是一个初始化子句。

§8.5.1 聚合：

> 初始化子句中的完整表达式按照它们出现的顺序进行计算。

# c# - 如何在 ASP.NET MVC 中使用 watin

> ID：12048225
> 
> 赞同：0
> 
> 时间：2012-08-21T03:52:55.123
> 
> 标签：c#, asp.net, asp.net-mvc, asp.net-mvc-4, watin

我找到了很多关于如何在经典程序（控制台）中使用它的信息。以及如何使用它进行测试。

但是如何在现实生活中使用它呢？当他们单击按钮时，我想在 iframe 中为自动登录用户使用 Watin。

我使用 ASP.NET MVC4.5。

我应该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:07:11.697

您只需要与Watin 一起获得框架吗？

```
var frame = browser.Frame(iframeId); // this would return the frame given an id. 
```

# android - 从多个 AlertDialog 中选择值

> ID：12048233
> 
> 赞同：0
> 
> 时间：2012-08-21T03:54:00.097
> 
> 标签：android, dialog, android-alertdialog

我在 onClick() 中创建了一个 alertdialog，当我从第一个 alertdialog 中选择一个特定值时，会出现一个新的 alertdialog。对于我正在使用的第一个 alertdialog，**如果**case 来获取**which**的值并从中接收到另一个 alertdialog 。我想知道如何区分两个警报对话框的**哪个**值..

这是我的代码：

```
case R.id.wlcm_search:
SearchSelect();
break;

private void SearchSelect()
{
    Builder srch = new AlertDialog.Builder(this);
    srch.setTitle("Search");
    srch.setItems(R.array.search, WelcomeUser.this);
    srch.show();
}

private void PriceSrch()
{
    Builder psrch = new AlertDialog.Builder(this);
    psrch.setTitle("Search By Price Range");
    psrch.setItems(R.array.price_search, this);
    psrch.show();
}
public void onClick(DialogInterface dialog, int which) {
    // TODO Auto-generated method stub

    if(which==5)
    {
        PriceSrch();
    }
} 
```

我想知道如何区分两个 alertdialogs 的**哪些**值。在 SearchSelect() 中有 6 个项目（0 到 5），当我单击最后一个项目时，PriceSrch() alertdialog 弹出并在 PriceSrch( ) 有 5 个项目（0 到 4）...

提前致谢...

# ios - 表视图控制器委托为零，但应该是一个有效的参考

> ID：12048235
> 
> 赞同：0
> 
> 时间：2012-08-21T03:54:03.950
> 
> 标签：ios, xcode, delegates, uitableview

我正在设计一个简单的 Grocery List 应用程序，但无法将 Food 实体添加到 List 实体。

事件顺序：ListDetailTVC -> AddFoodToListTVC -> 输入食物名称 -> 保存

此时我想在列表中看到这种食物，但没有任何反应。屏幕保持不变。经过一番深入研究后，我意识到 AddFoodToListTVC 中的代表为零，因此在按下“保存”后没有可以返回的屏幕。

然后我尝试使用以下代码手动设置委托：

```
`if(delegate == nil)

   {
        self.delegate = (ListDetailTVC *)[[UIApplication sharedApplication] delegate];
    }

NSLog(@"delegate = %@", delegate);
` 
```

这会将 AddFoodToListTVC 委托设置为某些东西，但我不确定如何验证我是否正确设置它。当我使用上述添加运行我的应用程序时，单击保存时出现此错误。

“由于未捕获的异常'NSInvalidArgumentException'而终止应用程序，原因：'-[AppDelegate theSaveButtonOnTheAddFoodToListTVCWasTapped:]：无法识别的选择器发送到实例 0x6b56610'”

在这种情况下，0x6b56610 是我手动设置的代理的地址。

我知道这不是很多信息，但我可以提供任何相关代码。我不知所措，如何正确设置 AddFoodToListTVC 的代表？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:09:49.617

看起来您的应用程序委托没有实现此方法：theSaveButtonOnTheAddFoodToListTVCWasTapped：

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T06:23:16.613

委托类似于由**委托对象接收的****事件触发器**......就像**rowWasSelected**是一个需要由某人处理强制方法的事件......

 ****现在的事情是你将**AppDelegate**设置为代表的接收者对象**[self.delegate = (ListDetailTVC *)[[UIApplication sharedApplication] delegate];]** ...

但由于 AppDelegate 不处理这些事件，你会得到一个异常**[无法识别的选择器]** ...

所以第一件事是声明协议，即**UITableViewDelegate**，**UITableViewDataSource** ... [协议就像只有声明没有实现的接口，你需要提供实现] 设置 tableViews**数据源**和**委托**并实现这些协议。会解决你的问题****

# jquery - MVC 中的时间选择器

> ID：12048237
> 
> 赞同：0
> 
> 时间：2012-08-21T03:55:03.640
> 
> 标签：jquery, asp.net-mvc

由于 jQuery datepicker 没有时间选择，我使用了下面的 TimeSpan 代码，它返回了小时 (0-23) 和分钟 (0-59) 的两个下拉列表。这工作正常。但是，我需要带有 AM/PM 下拉列表的 12 小时格式。

```
 @model TimeSpan

@Html.DropDownList("hours", Enumerable.Range(0, 24)
                       .Select(i => new SelectListItem
                           {
                             Value = i.ToString(),
                             Text = i.ToString(), 
               //Selected = (Model.Hours > 12 ? Model.Hours - 12 : Model.Hours) == i
                             Selected = Model.Hours == i
                           }
                  ))&nbsp;

@Html.DropDownList("minutes", Enumerable.Range(0, 60)
                       .Select(j => new SelectListItem
                           {
                             Value = j.ToString(),
                             Text = j.ToString(), 
                             Selected=Model.Minutes == j
                           }
                  )) 
```

我添加了以下代码来显示 AM/PM 下拉列表。但是，我需要修改代码以使用 AM/PM 下拉列表显示 12 小时格式：

```
@Html.DropDownList("ampm",  Enumerable.Range(0,2)
   .Select(t =>  new SelectListItem
            {
              Value = t.ToString(),
              Text = (t == 0 ? "AM" : "PM"),                       
              Selected = (Model.Hours > 11 ? 1 : 0) == t
            }  
          )) 
```

我需要帮助使用 AM/PM 下拉列表将以下 TimeBinder 类修改为 12 小时格式。

```
public class TimeBinder : IModelBinder
    {         
        object IModelBinder.BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext)
        {            
            //Ensure there's incoming data
            //*************************
            //*** Validate "HOURS"  ***
            //*************************
            var hoursKey = bindingContext.ModelName; //key = EODTime
            var hoursValueProviderResult = bindingContext.ValueProvider.GetValue(hoursKey + ".hours"); //valueProviderResult = {15} (for selection of 15:10); RawValue has array of 15           

                if ((hoursValueProviderResult == null) ||
                   string.IsNullOrEmpty(hoursValueProviderResult.AttemptedValue))
                {
                    return null;
                }

                //Preserve it in case we need to redisplay the form
                bindingContext.ModelState.SetModelValue(hoursKey, hoursValueProviderResult);

                //Parse
                var hours = ((string[])hoursValueProviderResult.RawValue)[0];

                //**************************
                //*** Validate "MINUTES" *** 
                //**************************          
                var minuteKey = bindingContext.ModelName; //key = EODTime
                var minutesValueProviderResult = bindingContext.ValueProvider.GetValue(minuteKey + ".minutes"); 

                //valueProviderResult = {10} (for selection of 15:10); RawValue has array of 10           

                if ((minutesValueProviderResult == null) ||
                   string.IsNullOrEmpty(minutesValueProviderResult.AttemptedValue))
                {
                    return null;
                }

                //Preserve it in case we need to redisplay the form
                bindingContext.ModelState.SetModelValue(minuteKey, minutesValueProviderResult);

                //Parse           
                var minutes = ((string[])minutesValueProviderResult.RawValue)[0];

                //A TimeSpan represents the time elapsed sice midnight
                var time = new TimeSpan(Convert.ToInt32(hours), Convert.ToInt32(minutes), 0);

                return time;

            }  
       } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T06:39:37.590

请看以下内容： http: [//trentrichardson.com/examples/timepicker/](http://trentrichardson.com/examples/timepicker/)

我用它所有的时间。它很简单，但功能强大，因为它扩展了 jQueryUI，所以主题滚轮、本地化等工作就像一个魅力。

# ruby-on-rails-3 - 用回形针处理文件

> ID：12048238
> 
> 赞同：1
> 
> 时间：2012-08-21T03:55:11.120
> 
> 标签：ruby-on-rails-3, file-upload, paperclip

我在为特定用例构建的 gem 中使用 Paperclip。我的 gem 为非程序员创建和编辑表单创建了一个界面，然后允许用户回答这些表单。

我想使用 Paperclip 为问题提供“文件上传”输入类型，因此我的表单更加通用。但是，这意味着我需要使用该`file_field_tag`方法来显示文件输入，并且我需要手动将通过该输入提交的任何信息保存到适当的模型对象中。目前我正在使用名称发送信息`question_1`，然后尝试使用`params["question_1"]`.

我的代码如下所示：

```
 answer.update_attributes(upload: params["question_1"]) 
```

但是我遇到了一个`No handler found for <image_name>`错误，我无法弄清楚我做错了什么。我认为 Paperclip 在我将数据从`file_field`?

**解决方案：**

我的表格看起来像这样：`<%= form_for @answer_set, multipart: true do %>`当它应该看起来像这样：`<%= form_for @answer_set, html: { multipart: true } do %>`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T04:17:50.303

我用

```
has_attached_file :image
validates_attachment_presence :image
validates_attachment_content_type :image, :content_type => ['image/jpeg', 'image/png', 'image/jpg', 'image/pjeg'] 
```

进而：

```
@upload = Upload.find(params[:id])
@upload.update_attributes(params[:upload]) 
```

配置/环境.rb

```
Rails::Initializer.run do |config|
  config.gem "paperclip", version: "~> 2.7"
end 
```

该线程还建议检查表单上的多部分 [https://stackoverflow.com/a/10076046/1354978](https://stackoverflow.com/a/10076046/1354978)

```
answer_form_for @upload, :html => {:multipart => true} do |f| 
```

该页面上还有其他可能的解决方案。

# html - Safari 中带有环或条带的 CSS 渐变

> ID：12048241
> 
> 赞同：3
> 
> 时间：2012-08-21T03:55:44.083
> 
> 标签：html, css, safari, gradient, radial

我一直在阅读有关此问题的一些信息，但我不是 CSS 专家，所以我想问一下。我在带有噪音的深色背景图像上使用此代码，它在 Firefox 中看起来很棒，但在 Safari 中它有环：

```
#welcome {
    width: 100%;
    height: 100%;
    position: absolute;
    z-index: -1;
    background-image: -webkit-radial-gradient(circle, rgba(100,100,100,0.2), rgba(0,0,0,0.9));
    background-image: -moz-radial-gradient(circle, rgba(100,100,100,0.2), rgba(0,0,0,0.9));
    background-image: -linear-radial-gradient(circle, rgba(100,100,100,0.2), rgba(0,0,0,0.9));
    background-image: -ms-radial-gradient(circle, rgba(100,100,100,0.2), rgba(0,0,0,0.9));
    background-image: -o-radial-gradient(circle, rgba(100,100,100,0.2), rgba(0,0,0,0.9));
}
#welcome::after {
    content: '';
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0px;
    left: 0px;
    z-index: -1;
    background-image: -webkit-radial-gradient(circle, rgba(255,255,255,0.1), rgba(255,255,255,0));
    background-image: -moz-radial-gradient(circle, rgba(255,255,255,0.1), rgba(255,255,255,0));
    background-image: -linear-radial-gradient(circle, rgba(255,255,255,0.1), rgba(255,255,255,0));
    background-image: -o-radial-gradient(circle, rgba(255,255,255,0.1), rgba(255,255,255,0));
    background-image: -ms-radial-gradient(circle, rgba(255,255,255,0.1), rgba(255,255,255,0));
} 
```

在这里你可以看到结果首先是好的，其次是坏的：

[http://cl.ly/1k1K2M1x3Y0G](http://cl.ly/1k1K2M1x3Y0G)

[http://cl.ly/3P1L0c1B3Z1t](http://cl.ly/3P1L0c1B3Z1t)

有人可以向我建议对此可以做些什么吗？或者是否有另一种方法可以在没有戒指的情况下重现这种效果？非常感谢，

rc

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-08-21T07:48:29.367

我不完全确定你的 CSS 有什么问题，但我建议使用这个资源来生成 CSS 渐变。它还能够创建径向渐变，并且似乎不会在 Safari 中生成环（至少在预览中没有）。

[http://www.colorzilla.com/gradient-editor/](http://www.colorzilla.com/gradient-editor/)

# java - 关于接口的替代方法和使用静态 imort 进行访问

> ID：12048242
> 
> 赞同：-1
> 
> 时间：2012-08-21T03:55:56.163
> 
> 标签：java

我正在进行一项研究，其中我不想将常量存储在接口本身中，所以我一直在寻找像枚举这样的替代方法，但我发现的另一种方法是 ....t 而不是使用接口，而是使用 final具有私有构造函数的类。（使得无法实例化或子类化该类，发送一个强烈的信息，表明它不包含非静态功能/数据。在这种情况下，我们也可以利用静态导入

```
Public final class KittenConstants
{
    private KittenConstants() {}

    public static final String KITTEN_SOUND = "meow";
    public static final double KITTEN_CUTENESS_FACTOR = 1;
} 
```

两个独立的东西。1：使用静态导入而不是滥用继承。2：如果您必须有一个常量存储库，请将其设为最终类而不是接口。请告知这种方法是否正确..!!

为了避免常量接口的一些陷阱（因为你不能阻止人们实现它），应该首选具有私有构造函数的适当类（从 Wikipedia 借来的示例）：

```
public final class Constants {

private Constants() {
    // restrict instantiation
}

public static final double PI = 3.14159;
public static final double PLANCK_CONSTANT = 6.62606896e-34;
} 
```

并且要访问常量而不必完全限定它们（即不必在它们前面加上类名），请使用静态导入（从 Java 5 开始）：

```
import static Constants.PLANCK_CONSTANT;
import static Constants.PI;

public class Calculations {

    public double getReducedPlanckConstant() {
        return PLANCK_CONSTANT / (2 * PI);
    }
} 
```

请展示我们如何用枚举做同样的事情......！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T04:09:45.443

您可以通过枚举实现“常量”：

```
public enum Animal {
    Kitten("meow", 1),
    Puppy("woof", 2);

    private final String sound;
    private final double cuteness;

    Animal (String sound, double cuteness) {
        this.sound = sound;
        this.cuteness = cuteness;
    }

    public String getSound() {
        return sound;
    }

    public double getCuteness() {
        return cuteness;
    }
} 
```

要使用：

```
String sound = Animal.Kitten.getSound();
double cuteness = Animal.Kitten.getCuteness(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T04:35:47.767

The simple answer is that you can't do that with an `enum`. An enum defines a set of related constants *with the same type*.

What you have in the `KittenConstants` case is a set of constants with fundamentally different types. This doesn't fit the `enum` model. (If you change the problem a bit; e.g. by generalizing over different kinds of SFA, you can make it fit ... as @Bohemian does ... but if that's not what you are trying to achieve, `enum` is not the right solution.)

What you have in the `Constants` case is a bunch of named floating point constants that you want to use as values. (All the same type ... which helps!) Now you could declare them as an `enum` as follows:

```
 public enum Constants {
        PLANCK_CONSTANT(6.62606896e-34),
        PI(3.14.59);

        public final double value;

        Constants(double value) {this.value = value);
    } 
```

The snag is that you need to use ".value" to access each named constant's numeric value; e.g.

```
 import static Constants.*;
    ....
    public double getReducedPlanckConstant() {
        return PLANCK_CONSTANT.value / (2 * PI.value);
    } 
```

.... which is kind of ugly, and I don't think there is any way around the ugliness.

Bottom line - enums are not an ideal replacement for *all* kinds of constant.

# ibm-mq - 迁移过程中对MQ数据备份的关注

> ID：12048252
> 
> 赞同：2
> 
> 时间：2012-08-21T03:56:55.000
> 
> 标签：ibm-mq, mq

我正在处理从 6.0 到 7.0 的 qmgr 迁移，但是在从 7.0 恢复 V6.0 队列管理器时遇到问题`windows`。重新安装 MQ 6.0 后，我将之前备份的 QMGR 数据和日志复制回来，然后尝试启动该 QMGR，例如 TEST01。但是，该命令`strmqm TEST01`返回时不存在这样的 QMGR。

我指的恢复过程来自下面的信息中心

[http://publib.boulder.ibm.com/infocenter/wmqv7/v7r0/index.jsp](http://publib.boulder.ibm.com/infocenter/wmqv7/v7r0/index.jsp)

我备份和恢复 MQGR 数据并通过如下方式登录：

**备份** `copy C:\Program Files (x86)\IBM\WebSphere MQ\Qmgrs\TEST01 under another path copy C:\Program Files (x86)\IBM\WebSphere MQ\log\TEST01 under another path`

**恢复** `copy above backup folder back to target path`

那么根据上面的操作，我有没有漏掉什么或者做错了什么？

**更新：**
此问题已得到修复。我忘记备份注册表中的配置信息，然后将其恢复。这就是为什么 MQ 一开始就无法识别我的 QMGR。

此外，我这里还有一个问题：如何将配置信息从注册表传输到 mqs.ini 文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T17:17:25.103

最好不要迁移 QMgrs，而是在新版本中创建新的。尽管 IBM 一直提供升级路径，但某些功能的实现因版本而异。例如，在 Windows 上，V6 中的注册表设置在 V7.1 及更高版本中不再使用。升级的要求通常来自于相信更换 QMgr 会以某种方式失去一些东西。

事实上，这种情况很少见。精心设计的客户端应用程序需要知道其名称的 QMgr 也没有什么特别之处。主机、端口和通道唯一标识客户端应用程序的 QMgr。如果应用程序指定 QMgr 的名称但不匹配，则连接失败。但是应用程序可以指定一个空白的 QMgr 名称并且连接会成功。QMgr 的名称会自动填写到回复 QMgr 字段中，以便正确处理请求。唯一需要知道名称的是 QRemote（可以重新指向）或使用绑定模式连接的本地应用程序。

也就是说，要回答您的问题，只需执行升级到 V7.1 或 V7.5 即可将 QMgr 的设置移动到 ini 文件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T06:37:02.217

这个问题已被解决。我忘记从注册表备份配置信息，然后将其恢复。这就是为什么 MQ 一开始就无法识别我的 QMGR 的原因。

# qt - 同时替换很长字符串中的多个单词的最快方法是什么

> ID：12048256
> 
> 赞同：3
> 
> 时间：2012-08-21T03:57:10.220
> 
> 标签：qt, str-replace

假设我有一万字以上的字符串，比如著名小说《老人与海》的内容

和一个有 1000 个单词对的字典，例如，

```
before，after
--------------
fish , net
black, white
good, bad
....
....
round,rect 
```

所以我想做的是，根据字典，用“net”替换字符串中的所有“fish”，用“white”替换“black”......

最简单直观的算法是：

```
foreach(line, dict)
   str.replace(line.before,line.after) 
```

但是效率太低了。

我能想到的一个改进是将字符串分成多个小字符串，然后使用多线程分别处理每个小字符串，然后组合结果。

还有其他想法吗？

顺便说一句，我正在使用 QT

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T09:05:35.013

我认为拥有 10k 个单词的向量而不是字符串是一个更好的主意。

像这样：

```
QVector<QString> myLongString; 
```

您的字典可以实现为哈希表：

```
QHash<QString, QString> dict; 
```

这将为您的字典单词提供恒定的访问时间：

```
QString replaceWith = dict.value("fish") // replaceWith == "net" 
```

然后你可以遍历你的向量并替换单词：

```
for (int i=0; i < myLongString.size(); ++i)
{
    QString word = myLongString[i];
    if dict.contains(word)
    {
        myLongString[i] = dict.value(word);
    }
} 
```

# android - 无法在android中更改listview的文本大小和文本颜色

> ID：12048259
> 
> 赞同：0
> 
> 时间：2012-08-21T03:57:38.800
> 
> 标签：android, android-listview

我想更改列表视图的文本大小和文本颜色。我这样做： + 我在文件夹布局中创建新的 xml 文件（mytext.xml）：

```
<?xml version="1.0" encoding="utf-8"?>
<TextView xmlns:android="http://schemas.android.com/apk/res/android" 
          android:id="@android:id/text1"  
          android:paddingTop="2dip" 
          android:paddingBottom="3dip" 
          android:layout_width="fill_parent" 
          android:layout_height="wrap_content" /> 
```

我改变：

```
adapter = new ArrayAdapter<String> (this,android.R.layout.mytext,HistoryList); 
```

但是eclipse找不到mytext.xml？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T04:09:16.490

```
adapter = new ArrayAdapter<String> (this, android.R.layout.mytext, HistoryList); 
```

在上面的行中，第二个参数`ArrayAdapter`应该是**R.layout.mytext**而不是**android.R.layout.mytext**。

# ios - 在 iOS App 中使用交通信息

> ID：12048260
> 
> 赞同：1
> 
> 时间：2012-08-21T03:57:55.103
> 
> 标签：ios, google-maps, google-maps-api-3

我试图弄清楚是否有任何方法可以根据从 A 点到 B 点给出的方向读取交通数据。

我不需要在应用程序中显示路线。有两件事值得阅读，一是考虑到当前交通状况的旅行时间；和/或读取方向路径上的交通颜色（绿色 = 无交通；红色 = 交通等）。

感谢大家！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:44:22.560

关于这个问题有一个参考：他们建议从谷歌 API 中无法实现：[Here](https://stackoverflow.com/questions/9350111/in-ios-development-can-i-read-map-traffic-data) Then there are traffic information will be available by Apple itself:"iOS 6 Maps uses TomTom mapping and traffic data" 我无法提供使用 iOS 6 的 Map 框架的方法，因为它处于 beta 版本。你必须弄清楚使用它的方法。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T04:39:14.093

试试[http://www.mapquestapi.com/traffic/](http://www.mapquestapi.com/traffic/)

[http://msdn.microsoft.com/en-us/library/hh441725](http://msdn.microsoft.com/en-us/library/hh441725)

[http://developer.yahoo.com/traffic/rest/V1/index.html](http://developer.yahoo.com/traffic/rest/V1/index.html)

# android - Android 中的多传感器数据记录

> ID：12048265
> 
> 赞同：0
> 
> 时间：2012-08-21T03:58:39.113
> 
> 标签：android, logging, sensors, android-sensors, datalog

我正在开发一个数据记录应用程序来记录 android 设备上所有可用传感器的数据。我想知道哪种方法有效？为所有传感器注册单个侦听器还是为每个传感器注册单个侦听器？

谢谢 Dheepak

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T11:06:11.943

有一个名为 Andro Sensor 的应用程序，带有一个可能的插件 AndroSensor Log Collector，它允许您将收集的数据发送到电子邮件地址。但不幸的是，无法通过电子邮件定期发送日志文件或从远程实时收听您的 android 传感器。

# r - plot.igraph 参数

> ID：12048270
> 
> 赞同：-2
> 
> 时间：2012-08-21T03:59:22.563
> 
> 标签：r, igraph

有谁知道 plot.igraph 函数的正确文档在哪里？似乎有很多参数可以使用，但在手册中找不到，我在 R 中使用最新版本的 igraph

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T22:26:54.807

根据[这个页面](https://answers.launchpad.net/igraph/+question/206380)你可能只是没有找到`?igraph.plotting`。

# jquery-ui - jQuery UI 1.8.13 突然报错

> ID：12048271
> 
> 赞同：37
> 
> 时间：2012-08-21T03:59:23.590
> 
> 标签：jquery-ui

我们一直在此链接[http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.min.js](http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.min.js)中使用 Jquery进行拖放。突然间，我们注意到它现在不起作用，并且我们这边没有进行任何代码更改。我们注意到错误指向这些行并且错误是 TypeError: a.curCSS is not a function？这个问题的解决方案是什么？

```
e&&e.call(i)},g)}):this._focus.apply(this,arguments)},scrollParent:function(){var g;g=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter 
```

* * *

## 回答 #1

> 赞同：69
> 
> 时间：2012-08-31T13:31:07.530

此 javascript 错误是由 jQuery 和 jQueryUI 彼此不同步引起的。我不会回到旧版本的 jQuery，而是更新 jQuery UI。jQueryUI 博客中的这个[链接](http://blog.jqueryui.com/2012/08/jquery-ui-1-8-23/)讨论了对最新版本 jQuery 的支持。在更新 jQuery UI 之前我遇到了同样的错误。

* * *

## 回答 #2

> 赞同：39
> 
> 时间：2013-05-16T18:24:25.820

基于另一个答案......我做了一些稍微不同的事情......

而不是替换：

```
$.curCSS(element, attrib, val); 
```

和：

```
$(element).css(attrib, val); 
```

我创建了一个新功能：

```
$.curCSS = function (element, attrib, val) {
    $(element).css(attrib, val);
}; 
```

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2012-12-13T22:55:32.227

`$.curCSS`: 这个方法只是`jQuery.css()`从 jQuery 1.3 开始的一个别名。尽管它从未成为文档化 API 的一部分，但已知一些外部代码使用它，也许认为它“更有效”。现在它“更多了”。- 从[这里的页面](http://blog.jquery.com/2012/08/09/jquery-1-8-released/)。

使用`curCSS`也可能会发生此错误。

代替：

```
$.curCSS(element, attrib, val); 
```

和

```
$(element).css(attrib, val); 
```

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2012-08-28T21:36:46.470

我有同样的问题。在您的项目中搜索这样的链接：

[https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js](https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js)

并用这个改变它：

[https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js](https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js)

它对我有用。

# javascript - 在javascript中选择第一个div孩子的第二个孩子

> ID：12048273
> 
> 赞同：39
> 
> 时间：2012-08-21T03:59:35.307
> 
> 标签：javascript, html, parent-child, getelementbyid

我有一个看起来像这样的 html：

```
<div id="mainDiv"> <-- I have this
    <div>
        <div></div>
        <div></div> <-- I need to get this
    </div>
    <span></span>
    <more stuff />
</div> 
```

我在用：

```
var mainDiv = document.getElementById('mainDiv'); 
```

因为我需要一个 var 中的那个 div，但我还需要将 mainDiv 内第一个 div 上的第二个 div 放入一个变量中。

我怎么能以简单的跨浏览器方式做到这一点？

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-08-21T04:03:29.567

假设结构是静态的，您可以这样做：

```
var mainDiv = document.getElementById('mainDiv'),
    childDiv = mainDiv.getElementsByTagName('div')[0],
    requiredDiv = childDiv.getElementsByTagName('div')[1]; 
```

进一步阅读：（[`.getElementsByTagName()`来自 MDN）](https://developer.mozilla.org/en-US/docs/DOM/element.getElementsByTagName)。

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2012-08-21T04:03:34.217

```
 var mainDiv = document.getElementById('mainDiv');
 var x = mainDiv.children[0].children[1]; 
```

或者

```
 var mainDiv = document.getElementById('mainDiv');
 var x = mainDiv.getElementsByTagName('div')[0].getElementsByTagName('div')[1]; 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2014-03-12T22:38:19.357

我只需要一行香草代码就可以了。

适用于任何元素，不限于结构中的标签名称。但是必须保留元素的数量和层次结构。

```
var requiredDiv = document.getElementById('mainDiv').firstChild.firstChild.nextSibling; 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2012-08-21T04:05:09.463

我会选择 jQuery 并最终得到这样的结果：

```
var getThis = $('#mainDiv > div:eq(0) > div:eq(1)'); 
```

[小提琴](http://jsfiddle.net/W7RAq/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-03-23T13:07:50.193

你知道现在有`querySelector`吗？

```
console.log(
  mainDiv.querySelector(':nth-child(1) > :nth-child(2)'))
```

```
<div id="mainDiv">
  <div>
    <div></div>
    <div>come get me</div>
  </div>
  <!-- more stuff -->
</div>
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-08-21T04:05:09.903

```
var mainDiv = document.getElementById('mainDiv');
var div = maindiv.getElementsByTagName('div')[2];//third div 
```

[http://jsfiddle.net/MGVw8/](http://jsfiddle.net/MGVw8/)

# jquery - 选择所有子项都不是 span.error 的类控制组

> ID：12048278
> 
> 赞同：0
> 
> 时间：2012-08-21T04:00:36.977
> 
> 标签：jquery, jquery-plugins, twitter-bootstrap, jquery-validate

我正在使用 twitter bootstrap 和 jquery validate 插件

我有一个看起来像这样的表单行：

```
<div class="form_row" >
<div class="control-group">
<label class="control-label" for="input01">home phone</label>
  <div class="controls">
    <input type="number" class="span4" class="input-xlarge" id="home_phone" name="home_phone" value="<?php echo $this->property->home_phone ?>" rel="popover" data-content="Re-enter your home phone." data-original-title="homephone" >
    <input type="number" class="span4" class="input-xlarge" id="cell_phone" name="cell_phone" value="<?php echo $this->property->cell_phone ?>"  rel="popover" data-content="Re-enter your cell_phone." data-original-title="cell_phone" >
  </div> 
```

验证后，当我在 firebug 中查看它时，有错误的输入后面跟着 span.error。我想选择类控制组，其中所有子项都不是 span.error。我将不胜感激任何帮助。

谢谢，比尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T04:04:55.103

怎么样：

```
$('.control-group').not($('.control-group span.error').closest('.control-group')). 
```

[http://jsfiddle.net/zerkms/Dhe4j/](http://jsfiddle.net/zerkms/Dhe4j/)

在 jsfiddle 示例中，我们选择所有`.control-group`没有嵌套的`span.error`并将它们设为红色。

# objective-c - CGDisplayCreateImageForRect 图像与捕获的图像颜色不匹配

> ID：12048279
> 
> 赞同：1
> 
> 时间：2012-08-21T04:00:37.460
> 
> 标签：objective-c, colors, screenshot, color-space

我正在使用以下代码捕获 1px x 1px 的屏幕截图。然后我对图像进行采样并获得一个 NSColor。

```
CGImageRef image = CGDisplayCreateImageForRect(displayID, CGRectMake(0, 0, 1, 1));

NSBitmapImageRep *rawImage = [[NSBitmapImageRep alloc] initWithCGImage:image];
NSColor *convertedColor = [rawImage colorAtX:0 y:0]; 
```

一切正常，除了捕获像素的颜色与源图像上的颜色不匹配。例如：我在 Photoshop 上制作了一个红色方块。我将正方形的颜色设置为 RGB 红色：255、绿色：0 和蓝色：0。当我在屏幕上的那个正方形内捕获一个像素时，我得到 RGB 红色：255，绿色：0，蓝色：17。有没有办法使捕获的图像与原始颜色匹配？

**编辑：** 另外，当我在 Photoshop 中截取红色方块并读取屏幕截图上的 RGB 颜色时，颜色也是红色：255，绿色：0，蓝色：17。这似乎是操作系统上的色彩空间行为。这会是预期的行为吗？这段代码基本上是一个颜色选择器，就像 Photoshop 上的颜色选择器一样。但是，我假设 Photoshop 会在此过程中的某处校正颜色。有任何想法吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T06:37:03.950

尝试更深入地捕获 1px 的屏幕截图，如下所示：

```
CGImageRef image = CGDisplayCreateImageForRect(displayID, CGRectMake(5, 5, 1, 1)); //another pixel then first pixel
NSBitmapImageRep *rawImage = [[NSBitmapImageRep alloc] initWithCGImage:image];
NSColor *convertedColor = [rawImage colorAtX:0 y:0]; 
```

# python - readthedocs 和 autodoc - 我如何“启用 virtualenv”？

> ID：12048281
> 
> 赞同：3
> 
> 时间：2012-08-21T04:00:57.690
> 
> 标签：python, virtualenv, python-sphinx

我正在尝试将 sphinx-autodoc 功能与 readthedocs 一起使用，但是由于有一些未找到的导入，所以我遇到了错误。（请参阅我的错误日志[http://readthedocs.org/builds/pyramidal/231348/](http://readthedocs.org/builds/pyramidal/231348/)）。

解决方案似乎位于此处：[http](http://read-the-docs.readthedocs.org/en/latest/faq.html?highlight=virtualenv#my-project-isn-t-building-with-autodoc) ://read-the-docs.readthedocs.org/en/latest/faq.html?highlight=virtualenv#my-project-isn-t-building-with -autodoc 我在哪里m 告诉“启用 virtualenv 功能”。但是我不确定这意味着什么，并且在 readthedocs 文档中搜索 virtualenv 并没有帮助。我知道 virtualenv 是什么，但我不确定应用程序如何帮助解决这个问题，以及启用此 virtualenv 功能的选项位于何处。

有没有人遇到过这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-06T20:46:32.840

这是很多个月后的事了，但是 virtualenv 功能在您的项目设置下（项目管理->编辑）。您向下滚动并选中“使用 virtualenv”框

# iphone - NSDateFormatter 如何格式化这个日期？

> ID：12048286
> 
> 赞同：3
> 
> 时间：2012-08-21T04:01:33.527
> 
> 标签：iphone, objective-c, cocoa-touch, nsdateformatter

我正在尝试格式化一个看起来像这样的 NSString：

> @“2012-07-19T02:58:33Z”

到具有以下格式的 NSDate：

> @"MMMM dd, yyyy HH:mm a"

NSDateFormatter 总是返回 nil，我认为这是因为它无法将当前格式的 NSString 转换为所需的格式。这是我的代码：

```
 NSDateFormatter *formatter = [[NSDateFormatter alloc]init];
        [formatter setDateFormat:@"MMMM dd, yyyy HH:mm a"];
        NSLocale *enUSLocale = [[NSLocale alloc] initWithLocaleIdentifier:@"en_US"];
        [formatter setLocale:enUSLocale];
        NSDate *date = [formatter dateFromString:dateString]; 
```

我需要以不同的格式存储日期吗？我可以使用当前的 NSString 进行这种转换吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T04:20:23.823

您的 dateFormatter 与您的 dateString 不匹配...试试这个

```
NSDateFormatter *formatter = [[NSDateFormatter alloc]init];
[formatter setDateFormat:@"yyyy-MM-dd'T'HH:mm:ss'Z'"];
NSLocale *enUSLocale = [[NSLocale alloc] initWithLocaleIdentifier:@"en_US"];
[formatter setLocale:enUSLocale];
NSDate *date = [formatter dateFromString:dateString];

[formatter setDateFormat:@"MMMM dd, yyyy HH:mm a"];
dateString=[formatter stringFromDate:date]; 
```

现在 dateString 包含“2012 年 7 月 19 日 02:58 AM”

希望这可以帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T04:20:56.267

尝试一下。

```
NSString *myDateString=@"2012-07-19T02:58:33Z";//@"2009-07-06T17:42:12";
NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init] autorelease];

[dateFormatter setDateFormat:@"yyyy-MM-dd'T'HH:mm:ss'Z'"];
 NSDate *myDate = [[NSDate alloc] init];
 myDate = [dateFormatter dateFromString:myDateString];
 NSLog(@"MyDate is: %@", myDate); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T04:21:48.090

您的问题已经得到[解答](https://stackoverflow.com/questions/9294545/how-can-i-convert-the-string-to-date-and-date-from-string)。

将您的字符串以原始字符串的格式存储在 NSDate 中：

```
NSString *originalDateString = @"2012-07-19T02:58:33Z";
NSDateFormatter *originalFormatter = [[NSDateFormatter alloc]init];
 [formatter setDateFormat:@"yyyy-MM-dd'T'HH:mm:ss'Z'"];

NSLocale *enUSLocale = [[NSLocale alloc] initWithLocaleIdentifier:@"en_US"];
[formatter setLocale:enUSLocale];
NSDate *originalDate = [formatter dateFromString:originalDateString];

NSDateFormatter *newFormatter = [formatter setDateFormat:@"MMMM dd, yyyy HH:mm a"];
NSString *newDateString = [formatter stringFromDate:originalDate]; 
```

# java - 如何将对象从java类传递给另一个java类

> ID：12048287
> 
> 赞同：3
> 
> 时间：2012-08-21T04:01:40.383
> 
> 标签：java

我在java中创建了一个类的实例，如下所示：

`ABC ab = new ABC();`

我想`ab`在另一个类中访问这个瞬间`XYZ`。如何使这个对象在 XYZ 类中可用？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-21T04:07:01.307

如果没有关于您的问题的更具体信息，很难回答您的问题，但这肯定会奏效：

如果您想在该类的任何地方使用它，您可以使用 setter 来初始化其他类中的实例变量：

```
class someClass {
   void someMethod() {
      ABC ab = new ABC();
      XYZ xyz = new XYZ();
      xyz.setABC(ab);
   }
}

class XYZ {
   ABC ab;
   //...
   void setABC(ABC ab) {
     this.ab = ab;
   }
   //...
   void doSomething() {
      // do something with instance variable ab
   } 
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-21T04:40:04.590

有几种方法可以实现您想要实现的目标。其中一些可能如下：

**通过`constructor`**
此处传递对象引用，当您创建实际类的对象时，您将显式传递引用类的引用。

```
public class ActualClass{
    private ReferenceClass refClassObject;

    /**
    * Passing through a constructor
    */
    public ActualClass(ReferenceClass refClassObject){
        this.refClassObject = refClassObject;
    }
}

class ReferenceClass{
    /**
    * Your implementation of the class
    */
} 
```

**使用 getter/setter 方法**
在这种方法中，您将通过显式`public setXX()`方法传递对象的引用。这种方法更灵活，因为您可以随时更新引用对象（想想`polymorphism`）。举个例子：

```
public class ActualClass{
    private ReferenceClass refClassObject;

    public ActualClass(){
    }

    public void setReferenceClass(ReferenceClass refClassObject){
        this.refClassObject = refClassObject;
    }

    public ReferenceClass getReferenceClass(){
        return refClassObject;
    }
}

class ReferenceClass{
    /**
    * Your implementation of the class
    */
} 
```

**使用构造函数和 getter/setter 的组合**
为了增加灵活性，您可能希望使用引用初始化 Actual 类对象。但是，如果您还想保留在稍后阶段更改对象引用的选项，请选择我上面指定的 #1 和 #2 的组合。

```
public class ActualClass{
    private ReferenceClass refClassObject;

    public ActualClass(){
    }

    public ActualClass(ReferenceClass refClassObject){
        this.refClassObject = refClassObject;
    }

    public void setReferenceClass(ReferenceClass refClassObject){
        this.refClassObject = refClassObject;
    }

    public ReferenceClass getReferenceClass(){
        return refClassObject;
    }
}

class ReferenceClass{
    /**
    * Your implementation of the class
    */
} 
```

你应该选择哪一个？那么这将取决于您的实施和要求。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-21T04:39:30.567

这个答案与 Doug Ramsey 完全相同， 我试图用相同的逻辑来解释[这个链接。](https://stackoverflow.com/a/12048320/1395259)

```
 public class A {
        public void m1() {
            System.out.println("inside m1 method");
            ABC ab = new ABC(); // 2 object is made and reference is given to ab 
            XYZ xyz = new XYZ();  3 object is made and reference is given to xyz 
            xyz.send(ab); // 4 THIS IS WHAT YOUR QUESTION MEANS
        }
    }

    class XYZ {
       ABC ab;
       //...
       void send(ABC ab) { // 5
         this.ab = ab;
         System.out.println("inside send");
         callme(); 
       }
       //...
       void callme() { // 6
           System.out.println("A is : "+ab.a);
           System.out.println("b is : "+ab.b);
          // do something with instance variable ab
       } 
    }

public class ABC {
    int a = 10;
    static int b= 20;
    public static void main(String[] args) // called first
    {
        A a = new A();
        a.m1();
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-21T05:01:58.763

您有两种方法可以将对象参数传递给一个类到另一个类。

*   将参数传递给方法

    ```
    public void passMethod(ABC ab) {
    } 
    ```

*   将参数传递给构造函数

    ```
    public class XYZ {

        public XYZ(ABC ab) {               
        }
    } 
    ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-10-05T23:04:24.137

我知道这个问题很老，但如果我是正确的，你想将一个对象转移到另一个要使用的类中。

为了做到这一点，你需要一些东西

XYZ 类必须有一个构造函数来接收参数“Object”，它类似于

```
class XYZ{
    private Object ab
    public XYZ(Object ab){
        this.ab = ab;//This is the constructor called when you create an XYZ object, and want to use the Object ab in XYZ
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-11-23T18:09:51.277

```
package demo;

class ABC{
     void disp(xyz arg1){
        System.out.println("runing disp method in pratics");
        System.out.println("x value:"+arg1.x);
        arg1.test();
     }

}

class xyz{
     int x = 67;
     void test(){
        System.out.println("runing test method in pratics");
     }
}

class pratics {

    public static void main(String[] args) {
        ABC ab=new ABC();
        ab.disp(new xyz());
    }

} 
```

# jquery - 如何设置禁用和只读属性和带有 jQ uery 的元素？

> ID：12048294
> 
> 赞同：0
> 
> 时间：2012-08-21T04:02:47.243
> 
> 标签：jquery

如何使用 jQuery 设置`<select>`和`<input>`元素的禁用和只读属性？也有人可以解释一下区别。在我看来，这两个属性都会做同样的事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T04:06:14.370

```
$('input,select').attr('disabled','disabled')
$('input').attr('readonly','readonly') 
```

同样……</p>

```
$('input,select').removeAttr('disabled')
$('input').removeAttr('readonly') 
```

**编辑：**您可能想了解 和 之间的[`.prop()`](http://api.jquery.com/prop/)区别[`.attr()`](http://api.jquery.com/attr/)。虽然相对较旧，但这里有一个涵盖它[的官方文档。](http://blog.jquery.com/2011/05/12/jquery-1-6-1-released/)

# bash - 如何在 bash/shell 脚本中为“set -x”自定义日志格式？

> ID：12048296
> 
> 赞同：1
> 
> 时间：2012-08-21T04:03:05.700
> 
> 标签：bash, shell, logging

我想将所有“set -x”输出注销到我的系统日志文件中。但是，系统日志文件有我自己的自定义格式。

但是 set -x output 没有格式化。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T05:16:18.840

如果您查看`print_cmd.c`Bash 源代码，您会发现`set -x`输出的格式是不可配置的。

您可以捕获`DEBUG`“信号”以实现您自己的自定义日志记录，例如

```
trap 'logger -p user.debug -t SHELLSCRIPT -- "$BASH_COMMAND" || :' DEBUG 
```

`user`使用设施、级别`debug`和标签将所有命令发送到系统日志`SHELLSCRIPT`。

# android - 谷歌地图不显示任何地图

> ID：12048302
> 
> 赞同：-1
> 
> 时间：2012-08-21T04:04:02.383
> 
> 标签：android, google-maps

我不知道我的问题是什么，谷歌地图没有显示

![看](../Images/d1f6c1c92147a2766ae7c4d07ba72c88.png)

我已将项目属性更改为 Google API 2.3.3，并且没有显示错误

这是我的代码：

**映射.java**

```
package com.mapping;

import java.io.IOException;
import java.util.List;

import com.google.android.maps.GeoPoint;
import com.google.android.maps.MapActivity;
import com.google.android.maps.MapView;

import android.location.Address;
import android.location.Geocoder;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.EditText;

public class Mapping extends MapActivity {

    private MapView mapView = null;
    private Geocoder geoCoder = null;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        mapView = (MapView) findViewById(R.id.mapview);
        mapView.setBuiltInZoomControls(true);

        // latitude and longitude of Dallas, TX
        // set as starting point 
        int lat = (int)(37.422006 * 1000000); //the geocoder requires integers...
        int lon = (int)(-122.084095 * 1000000);
        //make these into a GeoPoint:
        GeoPoint startPoint = new GeoPoint(lat, lon);
        mapView.getController().setZoom(12);
        mapView.getController().setCenter(startPoint);

        geoCoder = new Geocoder(this);
    }

    public void mapHandler(View v) {
        switch(v.getId()) {
        case R.id.btnSat:
            mapView.setSatellite(true);
            break;
        case R.id.btnTraf:
            mapView.setTraffic(true);
            break;
        case R.id.btnNorm:
            mapView.setSatellite(false);
            mapView.setTraffic(false);
            break;          
        }
    }

    public void geocode(View v) {
        EditText geoLocation = (EditText) findViewById(R.id.txtLocation);
        if(Geocoder.isPresent()) {
            try {
                String addr = geoLocation.getText().toString();

                List<Address> locationList = geoCoder.getFromLocationName(addr, 5);
                if(locationList != null && locationList.size() > 0) {
                    int lat = (int)(locationList.get(0).getLatitude() * 1000000);
                    int lon = (int)(locationList.get(0).getLongitude() * 1000000);

                    GeoPoint setPoint = new GeoPoint(lat, lon);
                    mapView.getController().setZoom(14);
                    mapView.getController().setCenter(setPoint);
                }
            } catch (IOException error) {
                Log.i("Caught IOException", "-----Printing Stack Trace-----");
                error.printStackTrace();
            }
        } else {
            geoLocation.setText("No Geocoder Available");
        }
    }

    protected boolean isLocationDisplayed() {
        return false;
    }

    protected boolean isRouteDisplayed() {
        return false;
    }
} 
```

**主要的.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/hello" />

    <LinearLayout 
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <Button
            android:id="@+id/btnSat" 
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Satellite"
            android:onClick="mapHandler" />

        <Button 
            android:id="@+id/btnTraf"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Traffic"
            android:onClick="mapHandler" />

        <Button 
            android:id="@+id/btnNorm"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Normal"
            android:onClick="mapHandler" />

    </LinearLayout>

    <LinearLayout 
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <EditText
            android:id="@+id/txtLocation"
            android:layout_width="200sp"
            android:layout_height="wrap_content"
            android:text="Dallas" />

        <Button 
            android:id="@+id/btnGeocode"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Find Location"
            android:onClick="geocode" />

    </LinearLayout>

    <com.google.android.maps.MapView
        android:id="@+id/mapview"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:clickable="true"
        android:apiKey="0G_pKeFNWX5lw7PQ7AzKnl2XbRs7bHZ3p6ECosQ" />
</LinearLayout> 
```

**AndroidManifest.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.mapping"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="10" />

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >

        <activity
            android:label="@string/app_name"
            android:name=".Mapping" >
            <intent-filter >
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <uses-library android:name="com.google.android.maps" />
    </application>

</manifest> 
```

谁能帮我？我整天都在拉头发。该程序运行正常，如您所见，我可以截屏，因此它必须是设备与 Google API 的连接。我似乎找不到错误...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T04:20:19.213

您必须生成自己的 apiKey.. 如果您还没有完成，请点击此链接[获取 Google Maps Android API 密钥](https://developers.google.com/maps/documentation/android/mapkey)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T04:22:25.220

不要使用现有的地图 api 密钥或其他任何东西。您必须使用您的 md5 指纹代码生成您自己的地图 API 密钥。只需看看下面的链接 -

1.  [Android 地图 API 密钥](https://developers.google.com/maps/documentation/android/mapkey)

2.  [地图-api-注册](https://developers.google.com/android/maps-api-signup)

看看现有的[答案](https://stackoverflow.com/q/9043286/940096)。而且，这是一个逐步生成地图 api 密钥的最佳[示例。](http://android10.org/index.php/articleslocationmaps/253-how-to-use-google-maps-in-android)这些肯定对你有帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-21T04:24:24.283

您必须生成一个**`MD5 key`**才能注册**`Google Key`**. 要从您的 PC
生成，步骤如下：**`MD5 Key`**

* * *

```
Open the command prompt and follow the steps

C:\Program Files\Java\<JDK_version_number>\bin>keytool -genkey -v -keystore projectkey.keystore   
                   -alias aliasname -keyalg RSA -keysize 2048 -validity 15000    

  //The Above path should be set Accordingly to your Machine

Enter keystore password: ------------
What is your first and last name?
[Unknown]: ------------
What is the name of your organizational unit?
[Unknown]: ------------
What is the name of your organization?
[Unknown]: ------------
What is the name of your City or Locality?
[Unknown]: ------------
What is the name of your State or Province?
[Unknown]: ------------
What is the two-letter country code for this unit?
[Unknown]: ------------

D:\android-sdk-windows-1.6_r1\tools>keytool -v -list -alias aliasname -keystore projectkey.keystore
Enter keystore password:
aliasname, Dec 7, 2010, PrivateKeyEntry,
Certificate fingerprint (MD5): CA:CF:AA:0E:5A:2B:88:C8:64:F1:FA:F7:29:21:50:FF 
```

* * *

现在，前往**[此处](https://developers.google.com/android/maps-api-signup)**并使用该 MD5 密钥注册您的 Google API 密钥。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-21T07:47:38.887

只需在 cmd 提示符下写下这些行以提取 MD5 指纹。

keytool.exe -list -alias androiddebugkey -keystore "C:\android\debug.keystore" -storepass android -keypass android

获取 MD5 指纹后复制 MD5 证书指纹并导航您的网络浏览器到：[http](http://code.google.com/android/maps-api-signup.html) ://code.google.com/android/maps-api-signup.html 。按照页面上的说明完成申请并获取 Google Maps 密钥。

要在您的 Android 应用程序中使用 Google 地图，您需要修改您的 AndroidManifest.xml 文件，将元素与 INTERNET 权限一起添加：

要在您的 Android 应用程序中显示 Google 地图，请修改位于 res/layout 文件夹中的 main.xml 文件。您应使用该元素在您的活动中显示 Google 地图。另外，让我们使用元素来定位活动中的地图：

例如 ：

```
<com.google.android.maps.MapView 
        android:id="@+id/mapView"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:enabled="true"
        android:clickable="true"
        android:apiKey="0l4sCTTyRmXTNo7k8DREHvEaLar2UmHGwnhZVHQ"
        /> 
```

# mysql - 带有查询变量的 MySQL 子查询

> ID：12048304
> 
> 赞同：1
> 
> 时间：2012-08-21T04:04:44.543
> 
> 标签：mysql, sql

我正在尝试执行以下 MySql 查询，当我运行它时，它告诉我子查询中的“q.object_id”是未知的（如果我将其更改为 o.id，它表示相同）。

```
SELECT q.*, (SELECT c.title 
             FROM api_course c 
             LEFT OUTER JOIN api_object_parents op 
                 ON c.object_id = op.parent 
                     AND op.object_id = q.object_id) as parent_title
    FROM api_quiz q
    LEFT OUTER JOIN api_object o ON q.object_id = o.id
    WHERE o.type = 'Quiz' 
```

基本上我需要获得在主查询中使用的相同 id 并在子查询中使用它。

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T04:12:08.047

这是你想要的？

```
SELECT  a.*, d.title
FROM    api_quiz a
            LEFT JOIN   api_object b
                on a.object_id = b.id
            LEFT JOIN   api_object_parents c
                ON c.parent = a.object_id
            LEFT JOIN   api_course d 
                ON c.object_id = c.parent 
```

# jquery - Backbone：获取触发事件的视图元素

> ID：12048310
> 
> 赞同：1
> 
> 时间：2012-08-21T04:05:44.297
> 
> 标签：jquery, backbone.js, jquery-selectors, jquery-events

我有一个这样的模板：

```
<a class="btn btn-info btn-small edit"  model-id="<%= model.id %>" href="">
  <i class="icon-pencil icon-white"></i>
  edit
</a> 
```

和这样定义的视图：

```
src.views.WinesView = Backbone.View.extend({
  [...]
  events: {
    'click a.edit': 'edit'
  },

  edit: function(e) {
    e.preventDefault();
    var a = $(e.target);
    var id = a.attr('model-id');
    app.edit(id);
  },
  [...] 
```

如果用户单击“编辑”文本，一切正常，但如果用户单击图标铅笔图标（标签的内容），则正确引发事件，但 e.target 指向 i 标签，并且不给了。

事实上，我想要的是，如果我绑定到的标签中的任何标签触发了一个事件，我希望引发该事件并轻松获得对我从主干绑定的元素的引用......

我可以解决它：

```
edit: function(e) {
  e.preventDefault();
  var a = $(e.target);
  if (a[0].tagName!=='A') { a = a.parent(); }
  var id = a.attr('model-id');
  app.edit(id);
}, 
```

但我想知道是否有更好，更优雅和通用的方式来实现它......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T04:25:57.123

查看[jQuery 的 $.closest() 方法](http://api.jquery.com/closest/)：

```
edit: function(e) {
  e.preventDefault();
  var a = $(e.currentTarget).closest('a');
  var id = a.attr('model-id');
  app.edit(id);
}, 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T14:04:54.890

您可以使用这种方式从模型中获取属性值

```
edit: function(e) {
  e.preventDefault();

  var id = this.model.get("model.id");

  app.edit(id);
}, 
```

如果您需要从元素中获取 HTML 属性

```
$(e.currentTarget).attr("title"); 
```

# visual-studio - Windows 上的 CLang libc、libc++，带有与 Visual Studio 兼容的调试符号

> ID：12048312
> 
> 赞同：3
> 
> 时间：2012-08-21T04:05:53.233
> 
> 标签：visual-studio, llvm, clang, libc

我正在尝试查找信息，但在 clang 网站上没有看到。我正在考虑尝试在 Windows 上使用它，但我不知道它是否有自己的 libc 或者它使用来自 MS 的损坏的 libc？

另一个问题：如果我用 clang 编译代码，我是否可以使用 Visual Studio 作为调试器，例如 clang 是否能够发出 MS 格式的调试符号（这就是我不想使用 gcc 的原因；这是英特尔编译器可以做的事情，但它使用MS的libc）。

简而言之，我希望能够将 Visual Studio 用作调试器，但同时我需要具有普通 lib c 的体面的真正 c 编译器。

或者，也许有商业替代品。我读过 dinkum 为 Win32 和其他人出售商业 libc，但我不知道价格是多少以及如何获得它。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-21T04:28:22.767

你问了两个完全不同的问题。我将回答有关使用 Visual Studio 作为调试器的问题。

目前这是不可能的。Microsoft 尚未发布生成 PDB 格式文件所需的任何文档或代码，这是 Visual Studio 所使用的。已经进行了一些逆向工程，但这些结果尚未进入通用开源工具。

GCC 和 Clang 都不能生成 PDB 文件，因此不能与 Microsoft 的调试器一起使用。一些商业编译器支持生成或使用 PDB，但不支持 GCC 和 Clang 等 Free/Open 编译器。

您可以在 Windows 上使用其他支持 GCC 和 Clang 使用的 DWARF 调试格式的 IDE。此类编译器包括 Code::Blocks 和 Eclipse CDT。

# ruby-on-rails - 在 Rails 中拯救多个相同类型的异常

> ID：12048314
> 
> 赞同：-1
> 
> 时间：2012-08-21T04:06:05.427
> 
> 标签：ruby-on-rails, ruby, exception, exception-handling

想象一下这种情况（只是一个示例）

```
file = open("/file1")
file2 = open("/file2")
file3 = open("/file3") 
```

我该如何处理这种情况，我想要做的是允许不引发异常的语句在捕获任何可能引发的异常时运行，换句话说，我有 3 行可以引发相同的异常，应该如何处理. 我可以检查味精，但如果第一行抛出异常，接下来的两行将不会运行。

一个相关的问题是我可以嵌套救援块（意味着在救援块内抛出和救援异常吗？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T09:38:25.450

对于这种特定情况，您可能需要一个循环：

```
open_files = ['file1', 'file2', 'file3'].map do |file|
  begin
    File.open file
  rescue => e
    ...
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T04:25:32.350

嗯，想通了。不是最聪明的问题！只需使用不同的方法并调用它们即可。

```
Loadfile1()
Loadfile2()
Loadfile3()

loadfile1()
file1 = open("/file1")
rescue......
...
end 
```

# ios - 删除 MainStoryboard 后黑屏

> ID：12048316
> 
> 赞同：2
> 
> 时间：2012-08-21T04:06:26.663
> 
> 标签：ios, storyboard, appdelegate

我想摆脱故事板并将所有内容都放在 nib 文件中。所以我删除了主故事板并在应用程序委托中编写了启动例程。我还删除了应用程序目标摘要部分中的故事板名称，因此编译器不会抱怨。但是，现在启动应用程序时什么都没有显示，只有一个黑色的空白屏幕。是否可以在不创建新的非故事板项目的情况下解决此问题？

这是我的应用程序委托中的代码..

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    MasterViewController *mainController = [[MasterViewController alloc] initWithNibName:@"MasterViewController" bundle:nil];

    UINavigationController *navController = [[UINavigationController alloc] init];
    [navController pushViewController:mainController animated:YES];

    [self.window addSubview:navController.view];

    [self.window makeKeyAndVisible];
    return YES;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:57:03.067

编辑您的 Info.plist 以指示主 nib 文件而不是情节提要文件。您需要同时更改键 ( `UIMainStoryboardFile`to `NSMainNibFile`) 和关联的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-03-07T00:23:27.270

当您删除主故事板时，您也删除了 StoryBoard 入口点。要解决此问题，请替换 StoryBoard 入口点，您应该会获得所需的显示。

谢谢， 拉贾特

[故事板入口点](https://i.stack.imgur.com/We801.png)

# delphi - TListBox 绑定到 TList 将项目添加到列表时未更新（Delphi）

> ID：12048317
> 
> 赞同：2
> 
> 时间：2012-08-21T04:06:42.127
> 
> 标签：delphi, binding, firemonkey

当我在 BindScope 上设置 DataObject 属性之前创建对象的 TList 时，我可以看到列表框中的项目

```
Damos := TList<TDamo>.Create();
Damos.Add(TDamo.Create('Damo'));
Damos.Add(TDamo.Create('Jeanette'));
theBindScope.DataObject := Damos; 
```

但是，如果我将最后一行移到两个 Add 行之前，我将永远看不到列表框中的行。

```
Damos := TList<TDamo>.Create();
theBindScope.DataObject := Damos;
Damos.Add(TDamo.Create('Damo'));
Damos.Add(TDamo.Create('Jeanette')); 
```

绑定不应该响应来自 TList 的 OnNotify 事件吗？

# ruby-on-rails - 如何在 CentOS 6 上使用 Ruby on Rails + Passenger 以及其他服务（如 phpmyadmin/bugzilla）

> ID：12048319
> 
> 赞同：2
> 
> 时间：2012-08-21T04:06:55.387
> 
> 标签：ruby-on-rails, apache, passenger

我的要求是为我的 ROR 项目访问*http://myhost/并使用**http://myhost/phpmyadmin/*和*http://myhost/bugzilla/*访问 phpmyadmin 和 bugzilla 。

我想知道如何配置我的 VirtualHost 和 DocumentRoot，谢谢您的评论！

我的**/etc/httpd/conf/httpd.conf的内容**

```
LoadModule passenger_module /usr/lib/ruby/gems/1.9.1/gems/passenger-3.0.14/ext/apache2/mod_passenger.so
PassengerRoot /usr/lib/ruby/gems/1.9.1/gems/passenger-3.0.14
PassengerRuby /usr/bin/ruby
.....
.....

<VirtualHost *:80>
  ServerName myhost
  DocumentRoot /var/www/html/myProject/public
  RailsEnv development
  <Directory /var/www/html/myProject/public>
    AllowOverride All
    Options -MultiViews
  </Directory>
</VirtualHost> 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-21T16:41:11.373

挖掘Passenger文件后，我发现有一个简单的方法

```
<VirtualHost *:80>
  ServerName myhost
  DocumentRoot /var/www/html/myProject/public
  RailsEnv development
  <Directory /var/www/html/myProject/public>
    AllowOverride All
    Options -MultiViews
  </Directory>
  Alias /blog /var/www/html/phpmyadmin
  <Location /phpmyadmin>
    PassengerEnabled off
  </Location>
</VirtualHost> 
```

这将强制乘客跳过路径 /phpmyadmin 下的请求

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T04:19:07.397

最简单的方法，最简单的方法就是为 phpmyadmin 和 bugzilla 创建子域。然后，只需为每个子域创建一个新的虚拟主机。

但是，如果您的设置是必要的，这似乎是我可能的解决方案。

[http://macdiggs.com/2007/06/29/using-php-inside-rails-structure-on-apache/](http://macdiggs.com/2007/06/29/using-php-inside-rails-structure-on-apache/)

# c++ - 分配额外的空间来处理

> ID：12048325
> 
> 赞同：0
> 
> 时间：2012-08-21T04:07:46.207
> 
> 标签：c++

除了操作系统提供的之外，我可以为进程提供额外的空间吗？是否可以将额外的可拆卸内存用于此类目的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T04:16:30.700

> 除了操作系统提供的之外，我可以为进程提供额外的空间吗？

不，你不能，对于每一块内存，你都必须请求你的操作系统。
malloc()、new 和其他内存分配函数和运算符解析为系统调用，请求操作系统为程序提供内存。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T07:16:59.063

有一些晦涩难懂的方法。例如，如果您要将 Windows CE 设备连接到 Windows PC，则可以通过“RAPI”接口访问该设备的内存。Windows 操作系统不会知道这个设备内存；这是通过 ActiveSync 服务处理的。不过，这不是很快的记忆。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T04:27:20.013

每个进程都有一个确定的最大内存空间分配给它，这取决于机器架构。在 32 位机器上，最大可寻址空间为 2^32 字节 ~= 4GB。因此，一个进程通常应该能够处理 4 GB 的内存。但是这个空间分为两部分，1.内核空间和2.进程空间。内核空间用于操作系统驱动程序等，而进程空间是可以分配数据的空间。因此，您可用的内存只是进程空间。

在典型的 Windows XP 机器上，它是平分的。即 2 GB 用于进程空间（但是，有一些方法可以修改它。例如，/3G 选项）。任何超过 2 GB 的分配都会导致内存不足错误。当您从 32 位应用程序迁移到 64 位应用程序时，此进程空间会变得更大。这是迁移到 64 位应用程序的主要动机之一。

因此，为了回答您的问题，进程有一个最大可用内存，超过该内存操作系统拒绝为该进程分配内存。

# javascript - 背景淡入后淡入

> ID：12048326
> 
> 赞同：0
> 
> 时间：2012-08-21T04:07:49.407
> 
> 标签：javascript, jquery, html, css

我正在整理这个网站：www.mccraymusic.com/newsite，我正在努力使导航栏（我知道它没有样式）在背景淡入后淡入。相反，它似乎想要淡入淡出出去。

我以为我已经准备好所有代码并且javascript正确。我实际上想要它，以便在初始背景淡入发生后，我添加到网站的导航栏和内容将淡入。

你需要在我的html中移动一些东西吗？或者我怎样才能做到这一点？我不认为我离得到我想要的很远

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T04:14:57.953

要开始一个又一个动画，可以使用`.fadeIn()`（或任何效果函数）的回调。就像是：

```
$( "#div1" ).fadeIn(function(){ $( "#div2" ).fadeIn(); }); 
```

或者（更容易阅读）：

```
$( "#div1" ).fadeIn(function(){
    $( "#div2" ).fadeIn();
}); 
```

`div1`将淡入，当它完成时，`div2`将开始淡入。

看看文档：[http ://api.jquery.com/fadeIn/](http://api.jquery.com/fadeIn/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T06:20:56.017

我用它来用jQuery淡入淡出东西......专业人士会告诉你这是一种糟糕的做法......因为你的div最初设置为display：none......如果javascript关闭 - 那么它永远不会淡入...但这有效。如果它只是针对乐队或艺术家 - 机会是 - 没有人会在 IE 6 等上查看这个站点......但是查看 no.js 或其他什么并有一个备份计划。

```
 <!--fade in div-->
    <script type="text/javascript">
        $(document).ready(function() {
                $("#div-name").css("display", "none");
                $("#div-name").fadeIn(15000);
        });
    </script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T06:24:20.793

试试jQuery的回调函数

```
<script type="text/javascript">
$(function() {
$("body.bg").fadeIn(200,function(){
$('.second').fadeIn()
});
});
</script> 
```

# standard-deviation - 仅使用平均值，最小值，最大值找到标准偏差？

> ID：12048328
> 
> 赞同：2
> 
> 时间：2012-08-21T04:08:28.367
> 
> 标签：standard-deviation

我想找到标准偏差：

```
Minimum = 5
Mean = 24
Maximum = 84

Overall score = 90 
```

我只想通过使用标准差来找出我的成绩

谢谢，

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-21T04:13:23.573

通常不能仅从最小值、最大值和平均值计算标准偏差。这可以通过两组具有相同最小值、最大值和平均值但标准差不同的分数来证明：

*   1 2 4 5 : min=1 max=5 mean=3 stdev≈1.5811
*   1 3 3 5 : min=1 max=5 mean=3 stdev≈0.7071

另外，如果最高分是 84，那么“总分”为 90 意味着什么？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-08-13T16:38:22.163

实际上，我对[M Rad](https://stackoverflow.com/a/23944224/309334)提到的类型进行了快速而粗略的计算。它涉及假设分布是高斯分布或“正态分布”。这不适用于您的情况，但可能会帮助其他提出相同问题的人。（你可以说你的分布不正常，因为从平均值到最大值和平均值到最小值的距离并不近）。即使它是正常的，你也需要一些你没有提到的东西：样本数量（在你的案例中进行的测试数量）。

那些**确实**拥有正常人群的读者可以使用下表通过将测量的最小值和计算的平均值之差除以样本量的预期值来粗略估计。平均而言，它将偏离给定数量的标准偏差。（我不知道它是否有偏见 - 更改下面的代码并计算错误而无需`abs`猜测。）

```
 Num Samples   Expected distance      Expected error
             10                1.55                0.25
             20                1.88                0.20
             30                2.05                0.18
             40                2.16                0.17
             50                2.26                0.15
             60                2.33                0.15
             70                2.38                0.14
             80                2.43                0.14
             90                2.47                0.13
            100                2.52                0.13 
```

该实验表明，将范围除以 4 以获得标准偏差的“经验法则”通常是不正确的——即使对于正常人群也是如此。在我的实验中，它仅适用于 20 到 40 之间的样本大小（然后松散）。这条规则可能是 OP 正在考虑的。

您可以修改以下[python](https://www.python.org/about/gettingstarted/)代码以生成不同值 (change `max_sample_size`) 或更准确 (change `num_simulations`) 的表，或者摆脱对 10 倍数的限制（将参数更改为`xrange`循环中的`for`for `idx`）

```
#!/usr/bin/python
import random

# Return the distance of the minimum of samples from its mean
#
# Samples must have at least one entry
def min_dist_from_estd_mean(samples):
    total = 0
    sample_min = samples[0]
    for sample in samples:
        total += sample
        sample_min = min(sample, sample_min)
    estd_mean = total / len(samples)
    return estd_mean - sample_min # Pos bec min cannot be greater than mean

num_simulations = 4095
max_sample_size = 100

# Calculate expected distances
sum_of_dists=[0]*(max_sample_size+1) # +1 so can index by sample size
for iternum in xrange(num_simulations):
    samples=[random.normalvariate(0,1)]
    while len(samples) <= max_sample_size:
        sum_of_dists[len(samples)] += min_dist_from_estd_mean(samples)
        samples.append(random.normalvariate(0,1))
expected_dist = [total/num_simulations for total in sum_of_dists]

# Calculate average error using that distance
sum_of_errors=[0]*len(sum_of_dists)
for iternum in xrange(num_simulations):
    samples=[random.normalvariate(0,1)]
    while len(samples) <= max_sample_size:
        ave_dist = expected_dist[len(samples)]
        if ave_dist > 0:
            sum_of_errors[len(samples)] += \
                abs(1 - (min_dist_from_estd_mean(samples)/ave_dist))
        samples.append(random.normalvariate(0,1))
expected_error = [total/num_simulations for total in sum_of_errors]

cols="    {0:>15}{1:>20}{2:>20}"
print(cols.format("Num Samples","Expected distance","Expected error"))
cols="    {0:>15}{1:>20.2f}{2:>20.2f}"
for idx in xrange(10,len(expected_dist),10):
    print(cols.format(idx, expected_dist[idx], expected_error[idx])) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-04-22T13:19:58.907

Yo 可以通过计算 GME= $\sqrt{ Min*Max }$ 使用 Min 和 Max 获得几何平均值的估计值，有时称为极值或 GME 的几何平均值。然后可以使用算术平均值 (AM) 和 GME 计算 SD：

![公式](../Images/581089395416eab735476ba5f5d290ef.png)

SD= $$\frac{AM}{GME} * \sqrt{(AM)^2-(GME)^2 }$$

这种方法适用于对数正态分布，或者只要 GME、GM 或 Median 小于 AM。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-29T22:43:58.540

原则上，您可以根据平均值/最小值/最大值和样本中的元素数量*估算*标准偏差。如果您假设正态性，则样本的最小值和最大值是随机变量，其统计信息来自均值/标准差/样本数。因此，考虑到后者，人们可以计算（在通过数学或运行一堆蒙特卡罗脚本之后）前者的置信区间（就像 80% 的概率 stddev 在 20 到 40 之间或类似的东西）。

也就是说，除非在极端情况下，否则可能不值得这样做。

# php - 合并两个数组有一个共同的键

> ID：12048329
> 
> 赞同：-2
> 
> 时间：2012-08-21T04:08:40.473
> 
> 标签：php, arrays, json, merge

我有两个 Json 数组：

```
$arrayA = array("avg" => '1',"shape" => 'hey');

$arrayB = array("avg" => '2',"shape" => 'trapezoid'); 
```

我想使用`javascript`or `PHP`as 将它们组合起来：

```
arrayAB = {"avg":['1', '2'], "shape":[hey', 'trapezoid']}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:18:44.777

```
$arrayA = array("avg" => "234","shape" => "hey");
$arrayB = array("avg" => "5678","shape" => "trapezoid");
$array3 = array();

foreach ($arrayA as $key => $value) {
    $array3[$key] = array($arrayA[$key], $arrayB[$key]);
} 
```

# c# - 从 WebBrowser 控件获取帧源

> ID：12048331
> 
> 赞同：0
> 
> 时间：2012-08-21T04:08:51.197
> 
> 标签：c#, vb.net, browser, save, frame

当我的 WebBrowser 控件四处导航时，我编写了一个函数来保存站点源代码。我不能只保存 WebBrowser.DocumentText ，因为它会遗漏所有框架内容。

我现在遇到的问题是访问框架内容 - 我找不到包含它的方法/属性。

下面使用一个简单的 WebBrowser 控件，只需放入`saveWebsite(FilePath, WebBrowser1)`DocumentCompleted 事件。

我在 VB.NET 中完成了这项工作，但对 C# 很熟悉，所以 C# 解决方案也不错

```
 Public Sub saveWebsite(ByVal sDirectory As String, ByVal oBrowser As WebBrowser)

    File.WriteAllText(sDirectory & "index.htm", oBrowser.DocumentText)

    'Now write a file for each frame - putting each file in its relative path'
    For Each oFrame As HtmlWindow In oBrowser.Document.Window.Frames
        oFI = New FileInfo(sDirectory & oBrowser.Url.MakeRelativeUri(oFrame.Url).ToString)
        oFI.Directory.Create()

        'ISSUE: This is the issue, unlike with oBrowser, there is no DocumentText property for oFrame.'
        'ISSUE: Ive tried several things like Body.InnerText/Html, Body.OuterText/HTML, etc.'
        File.WriteAllText(oFI.ToString, oFrame.WindowFrameElement.InnerText )
    Next oFrame
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T13:55:17.243

经过更多的实验，我刚刚找到了解决方案。然而它很脏，我不是特别喜欢它。

有时将 last/issue 行从`oFrame.WindowFrameElement.InnerText`to切换`oFrame.Document.All.Item(0).OuterHtml`似乎可以解决问题。这不会对嵌套框架做任何事情，但我并不担心。

任何人，如果有人对上述问题有更清洁的解决方案，请告诉我。（或者甚至是“拯救所有人”的更有效/高效的方式）。

编辑：以下似乎工作得更好，但仍然不是很好。（我有一个以 <% VBSCRIPT %> 开头的网页，仅此而已）`oFrame.Document.GetElementsByTagName("html").Item(0).OuterHtml`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-10-16T05:15:33.027

我也面临着类似的问题，我想访问页面中框架内的所有文本。下面的代码对我有用

```
Dim frame = WebBrowser1.Document.Window.Frames(0) //Replace 0 with frame id if needed
Dim innderdiv= frame.Document.GetElementById("divContentLower")
Dim contents = innderdiv.InnerText
MsgBox(contents ) 
```

这`divContentLover`是框架内直接子 div 的 id。所以代码返回它的内容

# ios - 如何在另一个 UIImage 中获取 UIImage 的框架

> ID：12048342
> 
> 赞同：2
> 
> 时间：2012-08-21T04:11:25.240
> 
> 标签：ios, ios5, rotation, uiimage, frame

我正在尝试在旋转图像时掩盖图像。如果我尝试在不旋转的情况下进行遮罩，则效果很好。

所以我的问题是这样的： [这是](http://bit.ly/OtEEFg)我需要裁剪内部矩形的图片。但我没有框架。

我已经尝试了几个小时来弄清楚如何获得框架，但我每次都失败了。所以我现在问你。

谢谢。

编辑：抱歉忘了写上角图像是裁剪和遮罩的结果。

# ruby-on-rails - Rails activerecord LIKE AND 子句错误

> ID：12048344
> 
> 赞同：4
> 
> 时间：2012-08-21T04:12:11.000
> 
> 标签：ruby-on-rails, activerecord

这是我试图在 rails 中使用的 activerecord 查询

```
q = "Manchester"
b = "John Smith"

Model.find(:all, :conditions => ["city ? AND name like ?", q, b]) 
```

但我在 Rails 控制台中收到此错误

ActiveRecord::StatementInvalid: SQLite3::SQLException: near "'Manchester'": 语法错误: SELECT "model".* FROM "model" WHERE (city 'Manchester' AND name like 'John Smith')

请帮忙！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-08-21T04:17:25.227

你错过`LIKE`了`city`。

```
Model.where('city LIKE ? AND name LIKE ?', "%#{q}%", "%#{b}%"); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-05-13T14:59:01.423

您还可以使用这种语法，它比试图找出`?`哪个变量与哪个变量更易读。我的意思是，如果你有 1 个或 2 个，那很好，但是一旦你有更多，它就会变得很丑。

```
Model.where("city LIKE :city AND name LIKE :name", { city: "%#{q}%", name: "%#{b}%"  }) 
```

占位符和散列键可以是任何你喜欢的东西，只要它们匹配（例如，不要使用`:city`然后`hamster:`在散列键中）。

这样做的好处是您还可以使用一个变量进行多次搜索：

```
where("user LIKE :term OR email LIKE :term OR friends LIKE :term", { term: "%#{params[:term]}%"}) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-08-21T04:14:20.030

尝试这个：

```
Model.find(:all, :conditions => ["city = ? AND name like ?", q, b]) 
```

# tomcat - 如何告诉 tomcat 支持静态内容的 CORS？

> ID：12048345
> 
> 赞同：7
> 
> 时间：2012-08-21T04:12:18.493
> 
> 标签：tomcat, static, cors

这个问题：[支持CORS的服务器？](https://stackoverflow.com/questions/4952838/servers-that-supports-cors)是关于常规 servlet；而且我确实知道如何设置标题来控制 CORS。

我的问题是如何配置 Tomcat 在 CORS 限制下提供静态内容。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-09-13T14:49:38.500

从 Tomcat 7.0.41 开始，您可以通过内置过滤器轻松控制 CORS 行为。

参考：

*   [雄猫 7](http://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#CORS_Filter)
*   [雄猫 9](https://tomcat.apache.org/tomcat-9.0-doc/config/filter.html#CORS_Filter)

几乎您唯一需要做的就是编辑全局`web.xml`输入`CATALINA_HOME/conf`并添加过滤器定义：

```
     <!-- ================== 内置过滤器定义 ====================-->

      ...

     <过滤器>
       <filter-name>CorsFilter</filter-name>
       <filter-class>org.apache.catalina.filters.CorsFilter</filter-class>
     </过滤器>
     <过滤器映射>
       <filter-name>CorsFilter</filter-name>
       <url-pattern>/*</url-pattern>
     </filter-mapping>

    <!-- ==================== 内置过滤器映射 ====================== -->

```

但请注意，Firefox 不喜欢`Access-Control-Allow-Origin: *`使用凭据 (cookie) 进行请求：[*在响应凭据请求时，服务器必须指定域，并且不能使用通配符。*](https://developer.mozilla.org/en-US/docs/HTTP/Access_control_CORS#Requests_with_credentials)

如果您想在这种情况下调试请求，请注意，根据此流程图，只有在存在跨域请求时才会发送 CORS 标头：[![CORS流程图](../Images/93c720a160316ac97cf516f8f757953b.png)](https://i.stack.imgur.com/oEiwo.png)

(tomcat.apache.org/tomcat-8.0-doc/images/cors-flowchart.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T18:25:25.460

这是一个用于添加 CORS 支持的 Tomcat 过滤器：[https ://bitbucket.org/jsumners/corsfilter](https://bitbucket.org/jsumners/corsfilter)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-08-15T00:19:57.037

*嗨弗拉德！这是一个很晚的回应，现在你一定已经弄清楚了。如果其他人遇到同样的问题，这就是答案。*

显然，您了解 CORS 过滤器，并且 Tomcat 过滤器将仅应用于 servlet。

为了使所有静态内容都通过*一些*servlet，Tomcat 有一个特殊的**DefaultServet** - 这就是您要寻找的。

基本上，我们只需要在部署描述符文件（如 WEB-INF/web.xml）中启用它，例如：

```
<servlet-mapping>
  <servlet-name>default</servlet-name>
  <url-pattern>/</url-pattern>
</servlet-mapping>

<servlet>
  <servlet-name>default</servlet-name>
  <servlet-class>org.apache.catalina.servlets.DefaultServlet</servlet-class>
  <load-on-startup>1</load-on-startup>
</servlet> 
```

这样 Tomcat 过滤器，在我们的例子中，CORS 过滤器将为静态内容启用。

为了测试，为了让 CORS 过滤器实际设置标头，例如**Access-Control-Allow-Origin**，我们需要在请求中添加一些其他标头，例如**Origin**。例如：

```
curl -H 'Origin: http://localhost/test' -i http://myserver/crossOrigin.resource 
```

这样你会看到类似的东西：

```
HTTP/1.1 200 OK
Server: Apache-Coyote/1.1
Access-Control-Allow-Origin: http://localhost/test
Access-Control-Allow-Credentials: true
Accept-Ranges: bytes
... 
```

# matlab - 获取字符串索引到矩阵中

> ID：12048348
> 
> 赞同：4
> 
> 时间：2012-08-21T04:12:46.647
> 
> 标签：matlab

我在matlab中有以下字符串

```
V= 'abcdefghijklmnñopqrstuvwxyz'; 
```

然后我有一个 9 个字符的单词，由我的“V”字母表中的字符组成。

```
k = 'peligroso'; 
```

我想根据我的字母表用我的单词“k”的索引创建一个方阵（3x3），这将是输出。（请注意，我正在考虑的范围是 0 到 26，所以 'a' char 确实有索引 0）

```
   16 4 11
   8 6 18
   15 19 15

```

我这样做的代码是：

```
K = [findstr(V, k(1))-1 findstr(V, k(2))-1 findstr(V, k(3))-1;findstr(V, k(4))-1 findstr(V, k(5))-1 findstr(V, k(6))-1; findstr(V, k(7))-1 findstr(V, k(8))-1 findstr(V, k(9))-1]; 
```

但我认为必须有一个更优雅的解决方案来达到同样的效果，有什么想法吗？

PS：我没有使用 ASCII 值，因为 char 'ñ' 必须在我的字母表中

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-21T07:48:00.490

对于无循环解决方案，您可以使用[ISMEMBER](http://www.mathworks.com/help/techdoc/ref/ismember.html)，它适用于字符串和数字：

```
K = zeros(3); %# create 3x3 array of zeros

[~,K(:)] = ismember(k,V); %# fill in indices

K = K'-1; %# make K conform to expected output 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T04:30:05.830

由于字符串只是字符数组，因此使用通常的数组处理函数很容易操作它们。

例如，我们可以使用 arrayfun 通过应用指定的函数来创建一个新数组，这会产生一个相同大小的输出数组。使用 reshape 我们可以形成所需的 3x3 形状。请注意，我们在最后进行转置，因为 MATLAB 的 reshape 以列优先顺序处理数组。

```
K = reshape(arrayfun(@(x) findstr(V, x)-1, k), 3,3)' 
```

或者，由于 MATLAB 允许您使用单个索引来索引矩阵，该索引按列主要顺序读取矩阵的条目，因此我们可以构造一个空矩阵并逐个构建其条目。

```
K = zeros(3,3)
for i=1:9
    K(i) = findstr(V, k(i))-1;
end
K = K' 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-21T09:34:26.310

我喜欢@Jonas 的解决方案 ( `ismember`)，我认为这是最优雅的方式。但是，只是为了提供另一种解决方案：

```
V = 'abcdefghijklmnñopqrstuvwxyz';
k = 'peligroso';

K = reshape( bsxfun(@eq, (k-0).', V-0) * (1:numel(V)).', 3,3).' 
```

（原谅SO突出显示）

这样做的好处是它专门使用内置函数（`ismember`不是内置的，至少在我的 Matlab R2010b 上没有）。这意味着这个解决方案可能比 快`ismember`，但是

1.  你必须测试这是否真的是真的，如果是真的，

2.  你应该有足够复杂和足够大的案例来证明失去可读性`ismember`

请注意，Matlab 中的索引是从 1 开始的，这意味着`V(1) = a`. 上面的解决方案产生一个基于 1 的答案，而您提供一个基于 0 的示例。`1`如果您确实需要基于 0 的索引，只需从上面的行中减去。

# haskell - 我的阴谋集团包是 FUBAR；我怎样才能清除它们并重新开始？

> ID：12048352
> 
> 赞同：65
> 
> 时间：2012-08-21T04:13:35.180
> 
> 标签：haskell, cabal

`~/.cabal/config`在我在新机器上安装一堆软件包之前，我忘记启用构建库以进行分析，现在`--reinstall world`尝试修复这种情况已经让所有东西都坏了（自然）。

我认为我最好利用我的时间来清除所有东西。我该如何正确地做到这一点？

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2012-08-21T04:23:25.677

Cabal 不跟踪它安装的内容，它只是使用 ghc 的库机制（或者如果您不使用 ghc，则使用其他编译器的机制），因此您可以使用它`rm -r ~/.ghc`来删除所有本地安装的库。

如果您安装了多个 ghc，并且您只想删除特定 ghc 的库，请删除与您要删除的任何 ghc 对应的子目录。
例如，我可以删除我为 ghc-7.6.0 安装的所有内容，`rm -r ~/.ghc/x86_64-linux-7.6.0.20120810`
如果你愿意，你也可以使用它来保存你的 ghci_history。

```
ll ~/.ghc/
total 24
-rw-r--r-- 1 johnl johnl 2300 Aug 21 11:47 ghci_history
drwxr-xr-x 3 johnl johnl 4096 Jun 17 19:09 x86_64-linux-6.12.3
drwxr-xr-x 3 johnl johnl 4096 May 17 08:17 x86_64-linux-7.2.1
drwxr-xr-x 3 johnl johnl 4096 May 16 17:34 x86_64-linux-7.4.1
drwxr-xr-x 3 johnl johnl 4096 Jun 15 08:21 x86_64-linux-7.4.2
drwxrwxr-x 3 johnl johnl 4096 Aug 15 12:37 x86_64-linux-7.6.0.20120810 
```

编辑：`~/.cabal/world`是用户指定的具有版本限制的已安装包的列表。所以在大多数情况下，它将包括例如`mtl -any`. 如果您已经安装了具有特定版本的软件包，例如通过发布`cabal install mtl-2.1.1`，它将记录该版本。您应该能够删除 world 文件并重新开始，或者如果您查看它并且依赖项是可以接受的，您可以尝试运行`cabal install world`. 或者你可以忽略它而不使用阴谋集团的世界支持（这就是我所做的）。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-08-29T14:24:19.753

这个[ghc-pkg-reset](https://gist.github.com/1185421) shell 脚本会清理 ~/.ghc/ 和 ~/.cabal/，更有选择性。（并且随附的 ghc-pkg-clean 脚本可以帮助从混乱的软件包安装中恢复，也许可以避免重置。）我发现这些很有用。

# c - C 无法打开文本文件

> ID：12048353
> 
> 赞同：0
> 
> 时间：2012-08-21T04:13:52.290
> 
> 标签：c, file, text-files, token, fopen

我试图制作一个程序，告诉您文本文件中有多少单词、行和字符，但该函数`fopen()`无法打开文件。我尝试了文本文件的绝对路径和相对路径，但得到了相同的输出。你能告诉我有什么问题吗？

我的编译器是 gcc 版本 4.6.3 (Linux)

```
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#define N 256

void tokenize(const char *filename)
{
    FILE *f=NULL;
    char line[N],*p;
    unsigned long int ch=0,wd=0,ln=0;
    int t;
    f=fopen(filename,"rt");
    if(f==NULL)
    {
        perror("The following error occurred");
        exit(1);
    }
    fgets(line,N,f);
    while(!feof(f))
    {
        ln++;
        p=strtok(line," ");
        while(p!=NULL)
        {
            wd++;
            t=strlen(p);
            ch+=t;
            printf("Word number %lu with length %d: %s\n",wd,t,p);
            p=strtok(NULL," ");
        }
        fgets(line,N,f);
    }
    printf("%lu lines, %lu words, %lu characters\n",ln,wd,ch);
    fclose(f);
}

int main(void)
{
    char filename[80];
    size_t slen;
    printf("Enter filename path:\n");
    fgets(filename,80,stdin);
    slen = strlen (filename);
    if ((slen > 0) && (filename[slen-1] == '\n'))
         filename[slen-1] = '\0';
    printf("You have entered the following path: %s\n",filename);
    tokenize(filename);
    return 0;
} 
```

* * *

输出：

```
Enter filename path:
input.txt
You have entered the following path: input.txt

The following error occurred: No such file or directory 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T04:15:44.160

您已从文件名中的输入中保留了换行符。当您在输出中回显文件名时，您可以看到这一点：注意空白行。

在将它传递给你的函数之前，你需要去掉这个换行符。有几种方法可以做到这一点，这里有一个：

```
size_t idx = strlen(filename);
if ((idx > 0) && filename[idx - 1] == '\n')
    filename[idx - 1] = '\0'; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T04:22:15.847

您需要从字符串中删除尾随换行符，例如：

```
size_t slen = strlen (filename);
if ((slen > 0) && (filename[slen-1] == '\n'))
    filename[slen-1] = '\0'; 
```

而且，虽然我赞赏您`fgets`对用户输入的使用（因为它可以防止缓冲区溢出），但仍有一些边缘情况您没有考虑，例如当行太长或用户标记结束时输入）。有关更强大的解决方案，请参见[此处。](https://stackoverflow.com/questions/4023895/how-to-read-string-entered-by-user-in-c/4023921#4023921)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-30T19:01:29.313

您可以声明一个函数，如：

```
void rmnewline(char *s)
{
int l=strlen(s);
if(l>0 && s[l-1]=='\n')
   s[l-1]='\0';
} 
```

并在使用您的 char 数组之前调用它。

# java - BoxLayout 中的 createVerticalGlue() 不起作用

> ID：12048355
> 
> 赞同：2
> 
> 时间：2012-08-21T04:14:06.457
> 
> 标签：java, swing, user-interface, layout-manager, boxlayout

我已经多次成功使用 createVerticalGlue()。但是在以下屏幕构建代码中它不起作用。我仍然想知道为什么。

情况是我在另一个面板（centralPanel）中有两个 JPanel（leftPanel，rightPanel）。这两个面板中的每一个都将使用 BoxLayout Y 轴托管两个 JComponent。我想在两个 JComponent 之前、之间和之后分配剩余的可用空间。

我知道我可以使用空白边界和刚性区域来解决问题，但碰巧我有点头脑不清醒！

我很抱歉这个长问题。

```
 public class MemberGUI extends JFrame {
        JPanel contPane = (JPanel) this.getContentPane();
        JPanel centralPanel = new JPanel();
        JPanel leftPanel = new JPanel();
        JPanel rightPanel = new JPanel();
        JPanel lowerPanel = new JPanel();

        JLabel title = new JLabel("Add/Delete Member");
        JLabel nameLbl = new JLabel("Member's name");
        JLabel idLbl = new JLabel ("Member ID");

        JTextField nameFld = new JTextField(10);
        JTextField idFld = new JTextField(10);

    public void buildMe(){
        //LayoutManagers
        contPane.add(title,BorderLayout.PAGE_START);
        contPane.add(centralPanel,BorderLayout.CENTER);
        contPane.add(lowerPanel,BorderLayout.PAGE_END);

        centralPanel.add(leftPanel);
        centralPanel.add(rightPanel);

        leftPanel.setLayout(new BoxLayout(leftPanel,BoxLayout.Y_AXIS));
        rightPanel.setLayout(new BoxLayout(rightPanel,BoxLayout.Y_AXIS));

        //leftPanel.add(Box.createRigidArea(new Dimension(0,50)));
        leftPanel.add(Box.createVerticalGlue());
        leftPanel.add(idLbl);
        leftPanel.add(Box.createVerticalGlue());
        leftPanel.add(nameLbl);
        leftPanel.add(Box.createVerticalGlue());

        //rightPanel.add(Box.createRigidArea(new Dimension(0,50)));
        rightPanel.add(Box.createVerticalGlue());
        rightPanel.add(idFld);
        rightPanel.add(Box.createVerticalGlue());
        rightPanel.add(nameFld);
        rightPanel.add(Box.createVerticalGlue());

        // JFrame Settings
        this.setSize(500,400);
        this.setResizable(false);
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        this.setLocationRelativeTo(null);
        this.setVisible(true);   

        }
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T06:38:55.527

afaics，centralPanel 有默认的 layoutManager，也就是 FlowLayout。这总是将其子项的大小调整为他们的 prefSize，因此胶水永远不会发挥作用。

嵌套容器是有代价的（像@Andrew 这样的嵌套向导很乐意支付 :-) 此外，要做到正确也不是一件容易的事（fi 用组合框替换上面的 textField 以查看错位）。从长远来看，几乎没有一条可以学习掌握更强大的管理器的途径，比如 fi MigLayout（我目前个人最喜欢的）

# jquery - 如何设置要禁用的特定元素？

> ID：12048360
> 
> 赞同：1
> 
> 时间：2012-08-21T04:14:22.200
> 
> 标签：jquery

我有：

```
var row = 22; 
```

如何设置它，以便禁用所有具有 ID 的输入和选择元素，其中 XXX 可以是任意字符组合：

```
modal_XXX_22 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T04:19:41.867

这就是您选择它们​​的方式：

```
$('[id^="modal_"][id$="_' + row + '"]'). 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T04:20:45.363

您可以尝试`Multiple Attribute`选择器：

```
$('*[id^="modal_"][id$="_'+row+'"]').prop('disabled', true)
// ^-  ^--           ^--- attribute ends with selector
//  |    |     
//  |    --- attribute starts with selector 
//  ---- all selector 
```

1.  [所有选择器](http://api.jquery.com/all-selector/)
2.  [属性以选择器开头](http://api.jquery.com/attribute-starts-with-selector/)
3.  [属性以选择器结尾](http://api.jquery.com/attribute-ends-with-selector/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T04:19:35.317

尝试：

```
$(':input[id^="modal_"][id*="_'+ row +'_"]') 
```

尽管更好的 HTML 设置是单元素包装输入。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-21T04:21:35.080

您可以遍历所有子项并检查 id 是否包含您想要的字符串。像这样：

```
$(document).ready(function(){
    $('ul').children().each(function(){
        var id = $(this).attr('id');
        if (typeof(id) !== 'undefined') {
            if (id.indexOf('22') != -1) {
                $(this).css('color','red');
            }
        }
    });

});​ 
```

如果您希望它在整个文件上运行，您可以将其更改为

```
$('body').children()... 
```

[**现场演示**](http://jsfiddle.net/RtKym/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-21T04:30:34.733

```
$('input[id^="modal_"][id$="_'+N+'"],select[id^="modal_"][id$="_'+N+'"]')
.attr('disabled','disabled'); 
```

# jquery - 在 jsfiddle jquery 中验证插件没有触发

> ID：12048361
> 
> 赞同：1
> 
> 时间：2012-08-21T04:14:30.450
> 
> 标签：jquery, jquery-ui, jquery-plugins, jquery-validate

[http://jsfiddle.net/ssthil/zj7F8/](http://jsfiddle.net/ssthil/zj7F8/)

它没有开火，我错过了哪里？你能帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T04:35:48.517

Here you go: [http://jsfiddle.net/jZVA2/](http://jsfiddle.net/jZVA2/)

If I may suggest read the plugin again. [http://bassistance.de/jquery-plugins/jquery-plugin-validation/](http://bassistance.de/jquery-plugins/jquery-plugin-validation/) **documentation** [http://docs.jquery.com/Plugins/Validation](http://docs.jquery.com/Plugins/Validation)

Few things are missing:

*   Name tag
*   class required
*   Submit button type `submit`
*   `script`

Hope it fits your needs `:)`

**code**

```
$(document).ready(function() {
    $('#mainForm').validate();
});​ 
```

Bit complicated version here: [http://jsfiddle.net/AvJNk/](http://jsfiddle.net/AvJNk/)

```
<script type='text/javascript' src="http://ajax.microsoft.com/ajax/jquery.validate/1.7/jquery.validate.min.js"> </script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T04:56:15.780

您必须更改输入类型按钮才能提交并记住它适用于您的名称属性而不是您的 id，如下所示

```
<input type="text" name="mytxtName" id="mytxtId" /> 
```

会有这样的代码

```
$(document).ready(function() {
  $('#mainForm').validate({
     rules: {
     mytxtName: {
        required: true
     }
 }
});}); 
```

在此处检查工作代码[...](http://jsfiddle.net/zj7F8/18/)

# arrays - MooTools JSONP 请求完成后，存储数组为空

> ID：12048367
> 
> 赞同：0
> 
> 时间：2012-08-21T04:15:26.637
> 
> 标签：arrays, mootools, jsonp

```
path= devicePath + 'offset=' + offset + '&limit=20&';
var deviceRequest = new Request.JSONP({
    url: path,
    callbackKey: 'jsonp',
    log: true,

    onComplete: function(data){
       console.log('Done');
       Gallery.innerHTML = '';
       for (i=0; i<20; i++){
            devices[i]=data[i].device;
       }
       console.log(devices);
    }
}).send(); 
```

如果我在此请求发送后尝试访问`devices`，我会得到“未定义”。但`console.log(Devices)`代码正确打印收到的数据。我不知道我的数据去了哪里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-23T01:23:27.120

你犯了一个常见的错误：使用`onComplete`而不是`onSuccess`.

`onComplete`当请求完成时触发（即使有错误），并且不处理 JSON。

`onSuccess`如果请求成功则触发，并解析 JSON。最后，`onFailure`如果出现服务器错误（400、500 等）则触发。

# objective-c - 是否可以在运行时使用和 iOS 连接对象？

> ID：12048370
> 
> 赞同：1
> 
> 时间：2012-08-21T04:16:04.370
> 
> 标签：objective-c, ios, cocoa, interface-builder

我有一个`.xib`文件，其中包含两个视图，一个用于横向，另一个用于纵向。将两个视图连接到一个对象似乎是不可能的，这样我就可以避免为两个变量重复代码或使用数组循环。

是否可以在 Cocoa 的运行时连接对象？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T08:57:55.470

您可以为这两个视图分配标签，并使用 viewWithTag 方法在运行时获取您需要的标签，然后将其分配给 self.view 或其他视图。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-21T05:14:08.510

是的，您可以将一个 .xib 与两个视图一起使用。可能的条件是。

**1)**连接 .xib 文件上的这些视图，并使用其 IBOutlet 对象。然后您可以在设备方向上显示和隐藏。

# facebook - 使用 FQL 或 Graph 结交没有朋友的应用用户

> ID：12048371
> 
> 赞同：0
> 
> 时间：2012-08-21T04:16:10.037
> 
> 标签：facebook, facebook-graph-api, facebook-fql

现在我通过 fql 查询在我的 facebook 中随机获得 19 个朋友：`SELECT uid, pic_square, name FROM user WHERE uid IN ( SELECT uid2 FROM friend WHERE uid1 = me() ) ORDER BY rand() limit 19`，
但现在我不知道，如何让 19 个朋友不在`friendappuser`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T04:25:14.503

我已经为我的问题找到了答案：

```
SELECT uid, pic_square, name 
FROM user WHERE uid IN (SELECT uid2 FROM friend 
WHERE uid1 = me())  AND is_app_user = 0 ORDER BY rand() limit 19 
```

# ssis - 从 .net 接收 excel 文件名作为 SSIS 包中的参数

> ID：12048376
> 
> 赞同：0
> 
> 时间：2012-08-21T04:17:16.610
> 
> 标签：ssis

我有一个从 .NET 调用的 SSIS 包，我需要接收一个文件名作为要在连接管理器中使用的参数 如何在 SSIS 包中接收它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T09:50:19.977

您可以从配置文件中加载它（[此处](http://www.simple-talk.com/sql/ssis/xml-configuration-files-in-sql-server-integration-services/)为示例）并使用表达式动态设置名称（[此处](http://beyondrelational.com/modules/2/blogs/106/posts/11113/ssis-dynamically-set-flat-file-connection-manager.aspx)为示例）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T06:32:40.057

您可以在执行包时使用`/SET`选项`DTSExec`来执行此操作。有了这个，您可以设置您之前定义的包变量。

有关更多信息，请查看[此处以及](http://pragmaticworks.com/help/dtsxchange/index.htm#page=FAQ%20-%20How%20to%20pass%20parameters%20to%20DTS%20or%20SSIS%20package.htm)[此处](http://msdn.microsoft.com/en-us/library/ms162810.aspx)的官方 Microsoft 帮助。

# opencv - 带有 Alpha 通道的 OpenCV getRectSubPix

> ID：12048381
> 
> 赞同：1
> 
> 时间：2012-08-21T04:18:05.583
> 
> 标签：opencv, alpha, roi

我需要在我的代码中使用 getRectSubPix 函数作为裁剪图像旋转部分的过程的一部分。这通常适用于 3 通道图像，但是一旦我尝试将它与 BGRA 或 RGBA 垫图像一起使用，它就会崩溃告诉我

> OpenCV 错误：cvGetRectSubPix，文件 /home/biotracking/Downloads/OpenCV-2.4.2/modules/imgproc/src/samplers.cpp 中不支持的格式或格式组合 ()，第 550 行

我的代码基本上是这样的

```
 cv::cvtColor(polymask, polymask, CV_BGR2BGRA);
                getRectSubPix(polymask, cv::Size(sqrt(biggestdistancesquared)*2,sqrt(biggestdistancesquared)*2), src_center, polymask); 
```

如果这个功能真的不适用于带有 alpha 通道的 Mats，那看起来很疯狂。有人知道吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-10-23T03:36:46.617

我注意到这个问题和@blorgggg 前一阵子的答案，并深深地怀疑，因为这个问题与**频道**有关，但答案与**深度**有关。

* * *

我的回答：错误上升是因为`getRectSubPix`只支持通道 1 或 3 的图像。

相关代码：

```
if( (cn != 1 && cn != 3) || !CV_ARE_CNS_EQ( src, dst ))
    CV_Error( CV_StsUnsupportedFormat, "" ); 
```

* * *

[@luhb](https://stackoverflow.com/questions/13362483/open-cv-using-16-bit-signed-format-not-working-cropping-and-re-sizing-an-imag)在线程中的陈述是正确的，因为它确实只支持深度为 8 或 32 的图像是正确的，但与这里的问题无关。

相关代码：

```
if( CV_MAT_DEPTH( src->type ) != CV_8U || CV_MAT_DEPTH( dst->type ) != CV_32F )
            CV_Error( CV_StsUnsupportedFormat, "" ); 
```

**我检查了版本 2.4/2.8/2.9 中的代码片段。**

* * *

最后，为了解决您的麻烦，您可以先`getRectSuxPix`在每个通道上拆分 Mat，然后合并四个通道。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-16T02:18:56.500

另一个人在用户 luhb 回答的另一个问题中确定了这个问题的答案：[Open CV using 16 bit signed format not working... 裁剪和调整图像大小](https://stackoverflow.com/questions/13362483/open-cv-using-16-bit-signed-format-not-working-cropping-and-re-sizing-an-imag)

似乎 getRectSubPix 仅适用于 {CV_8U, CV_8U}, {CV_32F, CV_32F} 和 {CV_8U, CV_32F} 的 {src,dst} 类型。

我深入研究了源代码并弄清楚了这一点。API 参考中没有规范。

# datatables - Catalyst 框架中的搜索选项

> ID：12048387
> 
> 赞同：0
> 
> 时间：2012-08-21T04:18:51.510
> 
> 标签：datatables, catalyst, template-toolkit

我使用催化剂和模板工具包为数据库开发了一个网页。我的网页中有一张桌子。我想在同一个网页中有一个搜索选项，它从后端（数据库）动态获取数据并允许用户在数据库中搜索。我的页面中有 jQuery 数据表，但它不会从数据库中获取数据，而是会在表中搜索并给出结果。由于我是 perl 和 Catalyst 的新用户，我请求告诉我如何在我的网页中设置搜索选项。

如果我的问题不清楚，我会详细解释。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T02:31:32.940

你所问的不是微不足道的，而是可以做到的。

您需要首先阅读有关[服务器端处理](http://www.datatables.net/release-datatables/examples/data_sources/server_side.html)的 DataTables 文档，然后在您的应用程序中重写生成数据的 Catalyst 控制器，以便它反映 Allan 的 PHP 代码的行为：应用过滤器、排序和限制，然后返回 JSON 结果。如果您使用 DBIx::Class 和/或 SQL::Abstract 模块，则*应该*可以用更少的代码创建等效的功能。

不过，这不适合胆小的人。*我已经编写并管理了一个使用 Catalyst、TT 和 DT 来呈现 CRUD 屏幕的应用程序，并且在证明绝对*必要之前，我仍然不会急于转换到服务器端处理。（YAGNI 原则 + 时间贫乏的生活。）

# python - 为什么 Beautifulsoup 在提供机械化响应时会返回 NoneTypes？

> ID：12048390
> 
> 赞同：3
> 
> 时间：2012-08-21T04:19:10.310
> 
> 标签：python, beautifulsoup, mechanize

我正在尝试登录 Twitter 以抓取最近的推文。我有以下代码：

```
import mechanize
from bs4 import BeautifulSoup
import time
import html5lib

twitter = 'https://mobile.twitter.com/session/new'
br = mechanize.Browser()
response1 = br.open(twitter)

br.select_form(nr=0)
br['username'] = 'MYUSERNAME'
br['password'] = 'MYPASSWORD'

br.submit()

req = br.click_link(text='Me[IMG]')
response = br.open(req)
soup = BeautifulSoup(response.read())
soup.prettify() #does nothing at all
soup.head #also does nothing at all 
```

过去几天我在*多个*网站上使用 Mechanize + Beautiful soup 并没有遇到这个问题。哎呀，即使在 twitter 的其他一些页面上，上面的代码也可以正常工作。我尝试打印`prettify()`，但它不起作用。它给了我以下错误：

> UnicodeEncodeError：“ascii”编解码器无法在位置 6972 编码字符 u'\xb7'：序数不在范围内（128）

我做了一些google-fu，我发现这与编码有关，所以我将我的代码调整为：

```
soup.prettify().encode('UTF-8') 
```

这在大多数情况下都有效。我的意思是，它至少可以打印所有内容。但这些数据似乎都没有像往常一样在“汤”的实例中。例如，我无法访问`soup.head`，不是`soup.body`。`Soup.find('foo')`什么都不做，以及普通的旧，`soup.b`. 如果我打印`soup.head`它返回的类型`NoneType`，那么我会很困惑！

这里发生了什么？

编辑：什么..？为什么这被否决了？: (

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T13:28:12.263

这是[Beautiful Soup 的 html5lib 树构建器中的一个错误](https://bugs.launchpad.net/beautifulsoup/+bug/1039527)。我已经提交了一个修复，它将在下一个版本中发布。同时，我建议您告诉 Beautiful Soup[使用 lxml 而不是 html5lib 来解析标记](http://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser)。

# asp.net-mvc-3 - DotNet.Highchart 未显示

> ID：12048393
> 
> 赞同：1
> 
> 时间：2012-08-21T04:19:33.223
> 
> 标签：asp.net-mvc-3, razor

我是 MVC3 的新手，我正在尝试弄清楚如何使用 dotnet.highcharts。顺便说一句，我已经阅读了几篇文章，但似乎没有任何帮助。我尝试使用从 codeplex 下载的简单示例。即使通过复制和粘贴，我什至无法让它工作。我很少在论坛上注册，我主要只是寻找答案。我通常不会遇到太多麻烦，我很抱歉不得不问这样的问题，但我需要帮助。我想做的只是简单地创建一个图表。我将发布我的代码任何帮助将不胜感激。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;
using DotNet.Highcharts.Options;
using DotNet.Highcharts.Helpers;
using DotNet.Highcharts.Enums;
using DotNet.Highcharts;

namespace MyProject.Controllers
{
    public class HomeController : Controller
    {
        public ActionResult Index()
        {
            ViewBag.Message = "Welcome to ASP.NET MVC!";

            return View();
    }

    public ActionResult About()
    {
        return View();
    }

    public ActionResult PartialChart()
    {
        Highcharts chart = new Highcharts("chart")
            .InitChart(new Chart { DefaultSeriesType = ChartTypes.Bar })
            .SetTitle(new Title { Text = "Stacked bar chart" })
            .SetXAxis(new XAxis { Categories = new[] { "Apples", "Oranges", "Pears", "Grapes", "Bananas" } })
            .SetYAxis(new YAxis
            {
                Min = 0,
                Title = new YAxisTitle { Text = "Total fruit consumption" }
            })
            .SetTooltip(new Tooltip { Formatter = "function() { return ''+ this.series.name +': '+ this.y +''; }" })
            .SetPlotOptions(new PlotOptions { Bar = new PlotOptionsBar { Stacking = Stackings.Normal } })
            .SetSeries(new[]
                       {
                           new Series { Name = "John", Data = new Data(new object[] { 5, 3, 4, 7, 2 }) },
                           new Series { Name = "Jane", Data = new Data(new object[] { 2, 2, 3, 2, 1 }) },
                           new Series { Name = "Joe", Data = new Data(new object[] { 3, 4, 4, 2, 5 }) }
                       });

        return PartialView(chart);
    }
}
} 
```

这是部分视图：

```
@model DotNet.Highcharts.Highcharts

@(Model) 
```

这是索引页面：

```
@{
    ViewBag.Title = "Home Page";
}

<h2>@ViewBag.Message</h2>
<p>
    To learn more about ASP.NET MVC visit <a href="http://asp.net/mvc" title="ASP.NET     MVC Website">http://asp.net/mvc</a>.
</p>
<p>
@Html.Action("PartialChart", "Home")
@Html.Partial("PartialChart")
</p> 
```

这是母版页：

```
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>@ViewBag.Title</title>
    <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")" type="text/javascript">    </script>
    <script src="@Url.Content("~/Scripts/highcharts.js")" type="text/javascript">    </script>
    <script src="@Url.Content("~/Scripts/modernizr-1.7.min.js")" type="text/javascript"></script>
</head>
<body>
    <div class="page">
        <header>
            <div id="title">
                <h1>My MVC Application</h1>
            </div>
            <div id="logindisplay">
                @Html.Partial("_LogOnPartial")
            </div>
            <nav>
                <ul id="menu">
                    <li>@Html.ActionLink("Home", "Index", "Home")</li>
                    <li>@Html.ActionLink("About", "About", "Home")</li>
                </ul>
            </nav>
        </header>
        <section id="main">
            @RenderBody()
        </section>
        <footer>
        </footer>
    </div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-28T00:14:16.783

在朋友的帮助下，我得到了答案。以防万一外面有人还在乎。问题是对 Highcharts 脚本的引用。这些脚本的位置与示例中列出的不同，并且完全没有注意到我没有注意到。

```
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>@ViewBag.Title</title>
        <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
        <script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")"   type="text/javascript">    </script>
        <script src="@Url.Content("~/Scripts/Highcharts-2.2.1/js/highcharts.js")" type="text/javascript">      </script>
        <script src="@Url.Content("~/Scripts/modernizr-1.7.min.js")" type="text/javascript"></script>
    </head>
    <body>
        <div class="page">
            <header>
                <div id="title">
                    <h1>My MVC Application</h1>
                </div>
                <div id="logindisplay">
                    @Html.Partial("_LogOnPartial")
                </div>
                <nav>
                    <ul id="menu">
                        <li>@Html.ActionLink("Home", "Index", "Home")</li>
                        <li>@Html.ActionLink("About", "About", "Home")</li>
                    </ul>
                </nav>
            </header>
            <section id="main">
                @RenderBody()
            </section>
            <footer>
            </footer>
        </div>
    </body>
</html> 
```

# android - 海量存储内存 Android Intent

> ID：12048403
> 
> 赞同：0
> 
> 时间：2012-08-21T04:20:50.337
> 
> 标签：android, android-intent, usb-mass-storage

我需要通过以编程`internal`方式使用.`external``usb Mass Storage``Intent`

如何打开大容量存储器？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-08-21T04:53:20.807

在没有安装 3 方应用程序的情况下，使用现有的 Android 是不可能的。

# bash - 'Read' 命令剥离 '\n' 字符串

> ID：12048409
> 
> 赞同：0
> 
> 时间：2012-08-21T04:21:37.327
> 
> 标签：bash

我想从如下所示的文件中提取数据：

```
BK20120802130531:/home/michael/Scripts/usb_backup.sh
BK20120802130531:/home/michael/Scripts/yad_0.17.1.1-1_i386.deb
BK20120802130731:/home/michael/Scripts/gbk.sh
BK20120802130131:/home/michael/Scripts/alt-notify-send.sh
BK20120802130131:/home/michael/Scripts/bk.bak
BK20120802130131:/home/michael/Scripts/bk.sh
BK20120802130131:/home/michael/Scripts/demande_password.sh 
```

这个想法是在屏幕上显示（不创建临时文件，也不修改原始文件）以下内容：

```
alt-notify-send.sh
/home/michael/Scripts
bk.bak
/home/michael/Scripts
bk.sh
/home/michael/Scripts
demande_password.sh
/home/michael/Scripts
gbk.sh
/home/michael/Scripts
usb_backup.sh
/home/michael/Scripts
yad_0.17.1.1-1_i386.deb
/home/michael/Scripts 
```

总结一下 ：

1.  去掉 ':' 之前的字符
2.  将文件名放在相应目录之前
3.  按字母顺序对文件名进行排序
4.  在每个文件名与其对应的目录之间执行回车

我成功地做到了这一切，但我的代码中关于第 4 点仍然有一个丑陋的地方：

```
cut -f 2 -d ':' $big_file | \
sort -u | \
while read file ; do
   echo "$(basename "$file")zipzapzupzop$(dirname "$file")" # <-- ugly thing #1
done | \
sort -dfb | \
while read line ; do
   echo $line
done | \
sed 's/zipzapzupzop/\n/' # <-- ugly thing #2 
```

一开始，我写道：

```
echo "$(basename "$file")\n$(dirname "$file")" 
```

代替丑陋的东西#1，为了能够做到

```
echo -e "$line" 
```

在第二个圆球。但是，每次读取命令都会剥离 '\n' 字符串，以便我获得

```
alt-notify-send.shn/home/michael/Scripts
bk.bakn/home/michael/Scripts
bk.shn/home/michael/Scripts
demande_password.shn/home/michael/Scripts
gbk.shn/home/michael/Scripts
usb_backup.shn/home/michael/Scripts
yad_0.17.1.1-1_i386.debn/home/michael/Scripts 
```

我试图用另一个'\'来保护'\'字符，但结果是一样的。

```
man read 
```

也无济于事。那么，这是一种正确的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T04:55:15.527

`read`是一个内置的 shell，`man read`可能会为您提供（大部分不相关的）系统调用的文档。

`read -r`将阻止`read`处理`\`序列。

不过，整个事情可以用一个`awk`脚本完成：

```
awk '
    {
        start = index($0, ":") + 1
        end = match($0, "[^/]*$")
        out[NR] = substr($0, end) "\n" substr($0, start, end - start - 1)
    }
    END {
        asort(out)
        for (i = 1; i <= NR; i++)
            print out[i]
    }' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T04:30:01.800

您可以使用以下管道来执行此操作（应该在一行上，我已将其拆分并添加了注释以提高可读性）：

```
| sed -e 's/^[^:]*://'             # Remove from start of line to first ':'
      -e 's?/\([^/]*$\)? \1?'      # Replace final '/' with a space
| sort -k2                         # Sort on column 2 (filename)
| awk '{print $2"\n"$1}'           # Reverse fields 
```

请参阅以下成绩单：

```
echo 'BK20120802130531:/home/michael/Scripts/usb_backup.sh
BK20120802130531:/home/michael/Scripts/yad_0.17.1.1-1_i386.deb
BK20120802130731:/home/michael/Scripts/gbk.sh
BK20120802130131:/home/michael/Scripts/alt-notify-send.sh
BK20120802130131:/home/michael/Scripts/bk.bak
BK20120802130131:/home/michael/Scripts/bk.sh
BK20120802130131:/home/michael/Scripts/demande_password.sh'
    | sed -e 's/^[^:]*://'
          -e 's?/\([^/]*$\)? \1?'
    | sort -k2
    | awk '{print $2"\n"$1}'

alt-notify-send.sh
/home/michael/Scripts
bk.bak
/home/michael/Scripts
bk.sh
/home/michael/Scripts
demande_password.sh
/home/michael/Scripts
gbk.sh
/home/michael/Scripts
usb_backup.sh
/home/michael/Scripts
yad_0.17.1.1-1_i386.deb
/home/michael/Scripts 
```

请记住，对于包含空格的行，排序可能无法按预期工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T07:33:47.367

假设您的文件名中没有哈希标签，您可以使用此`coreutils`管道：

```
cut -d: -f2- infile               \
| sed -r 's,(.*)/([^/]*)$,\2#\1,' \
| sort -t'#'                      \
| tr '#' '\n' 
```

*   `cut`删除第一部分。
*   `sed`分割路径，交换文件名和目录，并用`#`.
*   `sort`井号标记分隔的文本。
*   `tr`最后用换行符替换哈希标签。

如果您知道路径元素的数量，则可以使用更简单的版本：

```
cut -d: -f2- infile \
| sort -t/ -k4,4    \
| sed 's,(.*)/([^/]*)$,\2\n\1,' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-21T04:38:09.020

如果您不需要处理文件名中的空格，您可以这样做：

```
cat $bigfile | sed 's/.*://' | while read file; do
  echo "$(basename $file) $(dirname $file)"
done | sort | awk '{print $1"\n"$2}' 
```

# c# - 计时器中的 For 循环 - C#

> ID：12048423
> 
> 赞同：0
> 
> 时间：2012-08-21T04:24:01.507
> 
> 标签：c#, winforms, browser, for-loop, timer

我有一个`Datagridview`在每行中包含几列和数据的。我需要定期发送完整的 Datagridview 数据，每行数据一次一个，按顺序发送到`web browser`我的应用程序中，这实际上会将此行数据附加到网站的 URL，该 URL 将回显附加到它的任何数据。所以为了这个目的，我使用了一个`timer`它将为每个发送一次所有数据`10 seconds`。在计时器内一次发送每一行，我使用了以下内容`for loop`：

```
private void tmr_senddata_Tick(object sender, EventArgs e)
{
    if(dg_parameters.Rows.Count!=1)
    {
        for (int i = 0; i < dg_parameters.Rows.Count-1; i++)
        {
            string row = "";
            string cell = "";
            for (int j = 0; j < dg_parameters.Columns.Count; j++)
            {
                cell = cell + dg_parameters.Rows[i].Cells[j].Value;
                cell = cell + "@";
                row = cell;
            }
            string uri = webBrowser1.Url + row;
            webBrowser1.Navigate(uri);
        }
    }
} 
```

现在我结束的只是`last row being displayed on the browser`. 这是因为当我的浏览器在我的循环中第一次导航到指定的 URL 时，下一次迭代需要和 URL 更改。所以只有我的最后一行数据被正确导航并显示在浏览器上。如何每次都在指定的时间内停止 for 循环，以便我可以看到我的浏览器导航到 URL。我认为`Thread.Sleep()`这不是一个好主意，因为它会阻塞我的 UI 线程。

**更新：**这是一个用于测试特定场景的模拟应用程序。所以请忽略这样做的原因。解决问题会很好。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T04:36:55.427

将您`dg_parameters.Rows`的[`Queue`](http://msdn.microsoft.com/en-us/library/system.collections.queue.aspx)应用程序启动时放入。

每次计时器触发时，调用`myQueue.Dequeue`以获取下一个要使用的项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T04:42:48.473

为什么不使用[`WebBrowser.DocumentCompleted Event`](http://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.documentcompleted).
文档完全下载后，您可以调用 tmr_senddata_Tick。
如果您不希望您的界面受到影响，您也可以在后台线程上传输整个内容。

例子：-

```
private void setevent()
{
    webBrowserForPrinting.DocumentCompleted +=
        new WebBrowserDocumentCompletedEventHandler(NavigateTo);

}

private void NavigateTo(object sender,
    WebBrowserDocumentCompletedEventArgs e)
{
   //Pause thread as per the need.
   if(dg_parameters.Rows.Count!=1)
        {
            for (int i = 0; i < dg_parameters.Rows.Count-1; i++)
            {
                string row = "";
                string cell = "";
                for (int j = 0; j < dg_parameters.Columns.Count; j++)
                {
                    cell = cell + dg_parameters.Rows[i].Cells[j].Value;
                    cell = cell + "@";
                    row = cell;
                }
                string uri = webBrowser1.Url + row;
                webBrowser1.Navigate(uri);
            }
        }
} 
```

# wordpress - 如何在内部 WordPress 页面而不是主页上显示背景

> ID：12048425
> 
> 赞同：1
> 
> 时间：2012-08-21T04:24:50.713
> 
> 标签：wordpress

这种语法有什么问题？我正在尝试在我的 WordPress 网站的主页上隐藏一个背景容器并在内部页面上透明。我把这段代码放在 header.php 中：

```
<?php 
             if ( is_front_page() ) .black_bg{ 

    background:none;
};
              } elseif (is_page()) .black_bg{ 
                 {
background: rgba(0, 0, 0, 0.5);
}
              } 
        ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T08:01:41.280

你在那里混合了 PHP 和 CSS，如果你想要它在标题中，你会这样做；

```
 <?php
    if ( is_front_page() ) {  ?>

    <style type="text/css" media="screen">
        .black_bg { background:none; };
    </style>

    <?php } elseif (is_page()) { ?>

    <style type="text/css" media="screen">
        .black_bg { background: rgba(0, 0, 0, 0.5); };
    </style>        

    <?php }  ?> 
```

如果它不起作用，请记住一个常见的问题是使用 is_home() 还是 is_front_page()。此链接指向一个涵盖类似领域的问题；

[WordPress首页或内页的条件语句](https://stackoverflow.com/questions/11709805/wordpress-conditional-statement-for-front-page-or-inner-page)

# c++ - XCode、命名空间、C++ 和代码可移植性

> ID：12048427
> 
> 赞同：2
> 
> 时间：2012-08-21T04:24:56.997
> 
> 标签：c++, xcode, visual-studio-2010, vector, portability

我编写的一些 C++ 源代码使用 Visual Studio 2010 在 Windows 7 上编译并运行良好。但是当我使用 XCode 4.4.1 在 Mac OS X 10.8 Mountain Lion 上尝试它时，它无法编译。我能够按照下面的详细说明修复它，但我很想知道我首先做错了什么以及为什么需要修复。

具体来说，考虑以下类声明：

```
class airline {
    vector <passenger> persons;
    int npassengers;
public:
    airline () {};
    airline (int np);
    ~airline () {};
    // other functions
} ; 
```

接受一个 int 参数的构造`airline`函数是：

```
airline::airline (int np) {
    npassengers = np;
    persons.resize (npassengers);
    return;
} 
```

在 Windows 机器上，它编译并运行没有问题。然而，XCode 痛苦地抱怨说我没有一个可行的“乘客”构造函数。我有一个乘客的默认构造函数，所以这不是问题。根据我在本网站上一个[较早的问题中](https://stackoverflow.com/questions/9664438/no-matching-constructor-for-initialisation-of-value-type)发现的内容，我还尝试使用 people.erase 而不是调整大小，但没有成功。

最终，我能够通过使用`persons.vector::resize (npassengers);`而不是`persons.resize (npassengers);`. 我想知道为什么有必要在 Mac 端这样做，以及为什么它在 Windows 端没有问题。

一个相关的问题是，将代码放在代码的顶部是不好的做法`using namespace std;`，相反，我应该指定`std::cout`等吗？如果是这样，为什么？

请多多包涵，感谢您的帮助！

编辑：肖恩建议我为乘客显示我的代码，所以这里是：

```
class passenger {
    string plast;
    string pfirst;
    int  row;
    char seatno;
    int flightno;
public:
    passenger ();
    passenger(string line );
    passenger (passenger const &rhs);
    ~passenger() {};
} ; 

passenger::passenger (passenger const &rhs) {
    plast = rhs.plast;
    pfirst = rhs.pfirst;
    row = rhs.row;
    seatno = rhs.seatno;
    flightno = rhs.flightno;

    return;
}

passenger::passenger( string line ) {
    // tokenizes string to obtain passenger data
    // seems to work fine, actual code is too long to include
    // and doesn't seem relevant here
}

passenger::passenger() {
    plast.clear();
    pfirst.clear();
    row = 0;
    seatno = '\0';
    flightno = 0;

    return;
} 
```

当然还有通常的访问器和重载的插入运算符等。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T05:36:41.337

除了缺少头文件或问题中未显示的其他代码存在问题外，我看不出代码不可移植的任何明显原因。我可以建议一些可移植代码行并进行一些改进：

```
#include <vector>
#include "passenger.h" // assuming class passenger is declared here

class airline {
    std::vector <passenger> persons_; // trailing underscore to distinguish data members
public:
    airline () {};
    explicit airline (int np); // explicit constructor to avoid implicit conversion from int.
~airline () {};
// other functions
} ; 
```

在 .cpp 文件中：

```
airline::airline (int np) : persons_(np) {} // persons has np passengers 
```

对于乘客人数，您不需要单独的数据成员。你可以从`std::vector::size()`.

# git - 在 git 中将文件夹部署到分支的最简单方法是什么？

> ID：12048430
> 
> 赞同：7
> 
> 时间：2012-08-21T04:25:19.290
> 
> 标签：git

我的`master`分支中有一个名为的文件夹`public/`，将其内容复制到不同分支的根目录的最简单方法是什么，例如`gh-pages`？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-21T05:56:49.223

[Blind Gaenger (Bernd Jünger)在](http://blindgaenger.net/)[Generate GitHub pages in a submodule 中](http://blog.blindgaenger.net/generate_github_pages_in_a_submodule.html)说明 的一个非常好的技巧是将一个*分支*声明为*另一个*分支的子模块！

 **因此，如果您的`public`内容位于其自己的孤立分支中（例如`gh-pages`内容通常保存在其自己的孤立分支中），那么您可以：

*   在分支中声明`public`为主仓库的子模块`master`
*   声明与你的主仓库的子模块相同的公共`gh-pages`

`public`因此，您在分支中时在子模块中所做的任何修改都可以在切换到分支后`master`更新（ ） ！`git submodule update``gh-pages`

我并不是说这是您当前设置的解决方案，因为它涉及`public`从您的主要内容中删除，并将其添加回自己的分支（即，其他解决方案可能更直接），但这是一种有趣的分享方式一个公共目录：

```
cd yourRepo
git symbolic-ref HEAD refs/heads/public
rm .git/index
mv public ..
git clean -fdx
mv ../public/* .
git add .
git commit -m "public content in orphan branch public"
git push origin public 
```

但是，一旦您创建了一个包含该 ( `public`) 内容的孤立分支，将该分支内容添加为其他分支的子模块的技巧是：

```
$ git checkout master
$ git submodule add -b public git@github.com:user/repo.git public
$ git status
# On branch master
# Changes to be committed:
#   (use "git reset HEAD &lt;file&gt;..." to unstage)
#
#    new file:   .gitmodules
#    new file:   public
#
$ git commit -m "added public as submodule"
$ git push 
```

您可以为您的`gh-pages`分支重复该步骤。

这将创建一个目录“ `public`”，在您结帐`master`或`gh-pages`.
在这两种情况下（两种结帐），a`git submodule update`都足以恢复`public`对子模块所做的最新演变。
和往常一样，当涉及到子模块时，一旦你在`public`目录中进行了修改，确保你在它的' `public`'分支上，提交并推送，然后返回上面的一个目录，并再次添加提交。

* * *

2016 年 8 月更新：**[更简单的 GitHub 页面发布](https://github.com/blog/2228-simpler-github-pages-publishing)**现在允许将页面文件保存在*同一*分支的子文件夹中（不再`gh-pages`需要）：

[![现在您可以在存储库设置中选择一个源，GitHub Pages 将在那里查找您的内容。](../Images/4bfeda5a03d4b7f8c4891f088585c936.png)](https://i.stack.imgur.com/rZkbu.png)

因此，不再需要子模块技巧来使两种类型的内容通过同一分支可见。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T04:47:48.893

```
git checkout --orphan branch_name
git rm -rf .
git checkout master -- public 
```

在 master 的根目录中是 public 吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T04:35:47.760

```
cp -r public/* ./
git add .
git stash
git checkout gh-pages
git stash apply 
```**

# sql - 合并错误（无法插入值）

> ID：12048434
> 
> 赞同：1
> 
> 时间：2012-08-21T04:25:56.983
> 
> 标签：sql, oracle

朋友们，我正在使用合并语法来更新和插入表中的值

```
MERGE INTO iq_dnr b
   USING (SELECT *
            FROM iq_dnr
           WHERE co_series = 'IO' AND CATEGORY = 9 AND dnr_from = 13567362) a
   ON (    a.co_series = b.co_series
       AND a.CATEGORY = b.CATEGORY
       AND a.dnr_from = b.dnr_from)
   WHEN MATCHED THEN
      UPDATE
         SET b.dnr_to = 0001
   WHEN NOT MATCHED THEN
      INSERT (co_series, CATEGORY, dnr_from, dnr_to)
      VALUES ('IO', 9, 13567362, 00001) 
```

我想问是否可以像我在上面的查询中那样只检查和插入一个表。知道问题是我能够成功更新表，但我无法插入值。请帮助我

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T04:59:55.903

尝试使用 DUAL，它可能会解决您的问题：

```
MERGE INTO iq_dnr b
   USING (SELECT 'IO' co_series,
                  9 CATEGORY,
                  13567362 dnr_from
            FROM dual) a
   ON (    a.co_series = b.co_series
       AND a.CATEGORY = b.CATEGORY
       AND a.dnr_from = b.dnr_from)
   WHEN MATCHED THEN
      UPDATE
         SET b.dnr_to = 0001
   WHEN NOT MATCHED THEN
      INSERT (co_series, CATEGORY, dnr_from, dnr_to)
      VALUES ('IO', 9, 13567362, 00001) 
```

使用上述方法`DUAL`确保它无论如何都会返回一些东西，从而使 MERGE 语句保持工作......

# iphone - 如何在没有 Iphone 的情况下测试 Iphone 兼容性？

> ID：12048435
> 
> 赞同：0
> 
> 时间：2012-08-21T04:26:48.340
> 
> 标签：iphone, web, media-queries, simulator

嗨，是否有任何在线模拟器来测试适用于媒体查询的 iphone 兼容性。我试图寻找一些东西来让我在 iphone 和 Ipad 上测试我的网页。但是我还没有找到任何工具，还有这样的工具吗？谢谢您的帮助。

我尝试过调整窗口大小，但这对我在 chrome im 中使用 chrome 窗口调整器不起作用。我应该为这样的媒体查询设置什么尺寸？

```
@media
only screen and (-webkit-min-device-pixel-ratio : 1.5),
only screen and (min-device-pixel-ratio : 1.5) {
#header {
  background: rgba(255, 0, 0, 0.2);      
}
}​ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T04:30:09.913

网上有大量假定的 iPhone 模拟器。快速搜索“iphone 模拟器”返回了 3000 万多个结果。

如果您只是想测试一个网页，您可以在 Safari 中运行该网站，并将您的窗口调整为正确的大小。这不会是一个完美的测试，但可以让您很好地了解网站在 iPhone/iPad 上的外观/行为。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T04:48:32.460

试试这些来测试你的设计
[http://iphonetester.com/](http://iphonetester.com/)

[http://www.responsinator.com/](http://www.responsinator.com/)

[http://protofluid.com/](http://protofluid.com/)

[http://quirktools.com/screenfly/](http://quirktools.com/screenfly/)

# r - R：使用相对路径获取文件

> ID：12048436
> 
> 赞同：66
> 
> 时间：2012-08-21T04:26:49.463
> 
> 标签：r

在处理大型代码库时，使用相对路径获取文件非常有用。其他编程语言具有明确定义的机制，用于使用相对于源文件目录的路径来获取文件。一个例子是 Ruby 的[`require_relative`](http://extensions.rubyforge.org/rdoc/classes/Kernel.html). 在 R 中实现相对路径采购的好方法是什么？

以下是我不久前使用各种食谱和 R 论坛帖子拼凑而成的。它对我来说很适合直接开发，但并不强大。例如，当文件通过`testthat`库加载时，它会中断，特别是`auto_test()`. `rscript_stack()`返回`character(0)`。

```
# Returns the stack of RScript files
rscript_stack <- function() {
  Filter(Negate(is.null), lapply(sys.frames(), function(x) x$ofile))
}

# Returns the current RScript file path
rscript_current <- function() {
  stack <- rscript_stack()
  r <- as.character(stack[length(stack)])
  first_char <- substring(r, 1, 1)
  if (first_char != '~' && first_char != .Platform$file.sep) {
    r <- file.path(getwd(), r)
  }
  r
}

# Sources relative to the current script
source_relative <- function(relative_path, ...) {
  source(file.path(dirname(rscript_current()), relative_path), ...)
} 
```

你知道更好的`source_relative`实现吗？

* * *

## 回答 #1

> 赞同：76
> 
> 时间：2012-09-02T06:54:54.393

在GitHub 上与 @hadley[讨论后，我意识到我的问题与 R 中的常见开发模式背道而驰。](https://github.com/hadley/test_that/issues/41)

似乎在源文件中通常假定工作目录 ( `getwd()`) 设置为它们所在的目录。要使其工作，`source`有一个`chdir`默认值为`FALSE`. 当设置为 时`TRUE`，它会将工作目录更改为要获取的文件的目录。

总之：

1.  假设它`source`始终是相对的，因为所获取文件的工作目录设置为文件所在的目录。

2.  为了使这项工作，`chdir=T`当您从另一个目录获取文件时，请始终设置，例如`source('lib/stats/big_stats.R', chdir=T)`.

为了方便地以可预测的方式获取整个目录，我编写`sourceDir`了按字母顺序获取目录中的文件。

```
sourceDir <- function (path, pattern = "\\.[rR]$", env = NULL, chdir = TRUE) 
{
    files <- sort(dir(path, pattern, full.names = TRUE))
    lapply(files, source, chdir = chdir)
} 
```

# javascript - Jquery Post Empty 即使发送的变量有数据

> ID：12048437
> 
> 赞同：0
> 
> 时间：2012-08-21T04:26:54.843
> 
> 标签：javascript, jquery, ajax

第一行的 console.log 返回一大堆值。最后的 Console.log(Data) 显示来自服务器的纯文本响应，但服务器上的 $_POST 变量为空。

JS：

```
console.log(topost);
$.post(url,topost,function ( data ){
    console.log(data);
}); 
```

console.log(topost);

```
["DiscontentDisciple","illuminatedwax","S2S2S2S2S2","bechus","syncretic","davidreiss666","Skuld","soupyhands","AutoModerator","imluckytometyou","Lord_Arioc","IIdsandsII","Kylnas","alanpugh","langis_on","TheBigDickedBandit","long_wang_big_balls","arnoldlol","SBringer","ExoticCarMan","HaidiMontag","10FootPenis","SupriseRape","AManHasSpoken","ComedicCounterpart","Suddenly_Something","agenthex","GenerallySpecific","WelcomeToTarget","brainswho","Gooflactus","alcakd","Stingray88","TossTime","yolfer","biskits1","Evarg","phishroom","BuccoBruce","LookingForAlaska","getDense","lewisthemusician","tmotom","tha_ape","spankymuffin","Dashing_Pony","RuafaolGaiscioch","BeaverManiac","Careless_Con","Texas_","i_am_sad","The_helpful_idiot","Kon-chezz","bombdailer","frezik","Galifreyan2012","metalshadow","lightpollutionguy","b3mus3d","crazdave","merpes","naked_guy_says","GoodGuyAnusDestroyer","Bibliophobia","Internet_Lynch_Mob","photo","adkoe","ZeitTaicho","movie_man","iamkush","sired_tick","jyjjy","WhipIash","rred82","E_Diddyyy","CYBERPENISATTACK","MJYTR","TheBaconHasLanded","quarktheduck","heroic_trig","sleevieb","Burrow","myhousemateisabitch","promethephile","msm008","daskrip","jonnie123","Legendman3","Makes_Sad_Faces","anxiousalpaca","crankykong","IamDa5id","CocoSavege","iamsofuckedseriously","EvTheSmev","Briscotti","MarkieMarkl","CornishCucumber","BearsStillSuck","government_shill","Ihaveafatcat","gh5046","Sayum","henryponco","bolaxao","mrbriancomputer","PsychicNinja_","poopslooshed","REDDIT-","IVI4tt","spleendor","ngmcs8203","deadbeatbum","vegibowl","workingalot","Black_Apalachi","Incongruity7","rdeari1","ihahp","im_0n_toilet","Andynack","photokeith","Alpha17x","5NL70","AtticusFinch1962","clayvn","anonymau5","coplay","gnarbucketz","BukkRogerrs","teusz16","digital_evolution","theredcheck","empw","OrigamiRock","lumptoast","alphanovember","Nahtanos","som13","rstyknf","jmadden287","patchworkpavements","Computer-Blue","Miltage","bwaxxlo","aussiegolfer","coaltown","ThePickleMan","mpm96","Ilyanep","merreborn","Theemuts","wufoo2","thunderbar","blindado9","ntorotn","CatrickSwayze","HankSinatra","redditbots","Word_Inventor","catbeef","SoLongSidekick","Elefaze","Jinksywinksy","Mordy2011","thatusernameisal","Kanin","inthekeyofbflat","buckygrad","DeaD_bAU5","Toe_Fat","wsright987","Pachi2Sexy","woprdotmil","AmmoBradley","pokelord13","kroutonz","mattoftheD","WipeMyAssWith100s","ShuckBeam","dookyface","XLR8Sam","your_backpack"] 
```

我得到的回应：

```
{"postyn":"YES"} 
```

PHP：

```
foreach ($_POST as $key => $value){
    $data[$key] = $value;
}
if ($_SERVER['REQUEST_METHOD'] == 'POST'){
    $data['postyn'] = 'YES';
} 
```

我不明白为什么 $_POST 变量是空的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:34:48.430

```
$.post(url,{**NAMEME**: topost} ,function ( data ){
console.log(data);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T04:35:48.650

You're trying to pass post data as an array it appears. It needs to either be a string or an object.

Description of data property for jQuery.post():

> data A map or string that is sent to the server with the request.
> 
> *From [http://api.jquery.com/jQuery.post/](http://api.jquery.com/jQuery.post/)*

My guess here based on what you're trying to do is an object. Which brings up the next problem, both an object and your PHP script are expecting both keys and values, but you're only passing values.

You data object should look something like:

```
topost = {
 somekey1: "DiscontentDisciple",
 somekey2: "illuminatedwax",    
 somekey3: "S2S2S2S2S2",
 // etc etc etc
}; 
```

# python - 检查python列表的最佳有效方法

> ID：12048438
> 
> 赞同：0
> 
> 时间：2012-08-21T04:27:07.467
> 
> 标签：python, performance

上周我在一次采访中被问到这个问题，但我没有答案（无论如何都是正确的答案）。例如，您有列表 A，其中包含以下元素 [1,3,5,7,9,10]，然后您有列表 B，其中包含以下元素：[3,4,5,6,7]，并且您想知道列表 B 中的哪些元素在列表 A 中。我的回答是：

```
for item in listA:
    for item1 in listB:
        if item1 == item:
            put item1 in some third list 
```

但我知道这很糟糕，因为说 listA 是一百万个元素，而 listB 是十万个，这个解决方案就是垃圾。

在不迭代两个列表的情况下实现此类目标的最佳方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-21T04:29:20.723

`set(listA) & set(listB)`最简单。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T04:30:19.637

我建议将它们都转换为集合并进行交集：

```
setA = set(listA)
setB = set(listB)
setA.intersection(setB) 
```

编辑：请注意，这将删除两个列表中的所有重复元素。所以如果我们有`listA = [1,1,2,2,3]`，`listB = [1,1,2,3]`那么交叉点只会是`set([1,2,3])`。此外，对于最坏情况的估计，这将与列表理解一样慢 - `O(n * m)`，其中 n 和 m 是列表的相应长度。但是，平均情况要好得多`O(n) + O(m) + O(min(m,n)) == O(max(m,n))`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-21T04:30:05.810

使用[列表推导](http://docs.python.org/tutorial/datastructures.html#list-comprehensions)和使用[in](http://docs.python.org/reference/expressions.html#in)运算符来测试成员资格：

```
[i for i in lista if i in listb] 
```

会产生：

```
[3, 5, 7] 
```

或者，可以使用集合操作并查看两个列表（转换为集合）的交集是什么。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-21T04:34:32.190

好吧，我也可以在混合物中加入过滤器

```
filter(lambda x: x in listb,lista) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-21T04:29:32.023

您可以使用集合（首选）：

```
listC = list(set(listA) & set(listB)) 
```

或列表理解：

```
listC = [i for i in listA if i in listB] 
```

# c# - .NET Framework v4.5 更改程序布局

> ID：12048444
> 
> 赞同：5
> 
> 时间：2012-08-21T04:27:41.770
> 
> 标签：c#, .net, layout, treeview

我有一个用 C# 开发的程序，它目前在 Microsoft .NET Framework v4.0 上运行。我已升级到 Visual Studio 2012，并且还安装了 Microsoft .NET Framework v4.5。在我安装 .NET Framework v4.0 之前，我的程序是这样的：

![使用 MS .NET Framework v4.0](../Images/08267e828e0ca92f5ad83a013170ba78.png)

现在我升级到 .NET Framework v4.5，它的外观是这样的：

![使用 MS .NET Framework v4.5](../Images/45727f3be592b8fe8a866d9e518aa090.png)

注意 TreeView 现在在右侧而不是左侧？这两个控件分别位于工具条容器中的表格中的单独列中。此问题发生在 8 月 15 日发布的最新/稳定版本的 .NET Framework v4.5（准确地说是 v4.0.30319.17929 或 v4.5.50709）上。我想知道是什么原因造成的，是否有防止这种情况发生的方法（除了卸载 .NET Framework v4.5）？另外，如果这个程序是用 v4.0 编译的，为什么 v4.5 会导致这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T20:53:56.237

您是否尝试过在 v4.0 下编译并运行它？仅仅因为安装了 4.5 并不意味着 4.0 已被卸载。

在您的解决方案资源管理器中，右键单击项目名称，然后单击属性。然后在 Application 选项卡中，将 Target framework 设置回 .NET Framework 4。

然后编译运行。如果它是一个 .NET 框架的东西，那么它应该都恢复正常。如果它仍然停靠在右侧，那么代码已经以某种方式发生了变化。

# wordpress - 如何使用 php 对 wordpress 中的帖子进行密码保护

> ID：12048446
> 
> 赞同：1
> 
> 时间：2012-08-21T04:28:24.113
> 
> 标签：wordpress

我在尝试查找有关此的任何信息时遇到了一些麻烦..

我想用密码保护 Wordpress 中的帖子。我知道我可以快速编辑页面并输入密码，但是有没有办法将页面设置为受保护并使用 php 添加密码？

这个想法是使用用户名/密码构建一个简单的自定义登录页面，该页面使用我可以在管理员“编辑页面”中设置的标准受保护帖子功能。

每个帖子的用户名都存储为登录页面中设置的自定义元数据。所以您将用户名作为键，帖子 ID 作为值，然后我将用户重定向到具有该 ID 的受保护帖子.

# javascript - jquery 对话框内容仅针对第一个请求对齐

> ID：12048447
> 
> 赞同：0
> 
> 时间：2012-08-21T04:28:35.450
> 
> 标签：javascript, jquery, jquery-ui

JSP 文件

```
 <a  href="#" onclick="pop('terms')> Terms of Use </a>
 | <a  href="#"  onclick="pop('privacy')"> Privacy Policy </a>
 | <a  href="#"  onclick="pop('contact')"> Contact Us / Advertise  

 <div id="dialog"> </div> 
```

JS文件

```
 function pop(url){
  $("#dialog").dialog({
     modal:true,
     height:450,
     width:600,
     open: function(){
        if(url=="privacy")
        $("#dialog").load('/temp_privacy.jsp');
        if(url=="contact")
            $("#dialog").load('/temp_contact.jsp');
        if(url=="terms")
            $("#dialog").load('/temp_terms.jsp');
    },
       title: url.toUpperCase(),
    close: function(){
        $("#dialog").dialog('destroy');
    }
}); 
```

对于第一个请求对话框打开，文本在左侧对齐，每秒顶部对齐，对话框中的后续请求对齐是完全随机的，我无法理解导致这种行为的原因？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:33:23.857

without seeing your code, when you load pages like an ajax request your contents css is gettin g overridden somewhere from the rest of your body. make sure all your ids are unique and are not being styled elsewhere even in your jsp files. same with classes make sure they dont have some alt css that is being used by the same class somewhere else in your document

# soapui - 在 application/x-protobuf 中发送 POST 请求并使用 soapUI 在 application/x-protobuf 中接收响应

> ID：12048449
> 
> 赞同：1
> 
> 时间：2012-08-21T04:29:15.467
> 
> 标签：soapui, http-post, protocol-buffers

我是 SoapUI 的新手，我的服务需要 application/x-protobuf 作为请求的输入和响应的输出。这些天我一直在互联网上搜索，发现我需要序列化我的对象才能将其传递给请求。但是，SoapUI 中的 POST 请求只接受字符串值。任何人都可以告诉我如何使用媒体类型 application/x-protobuf 发送 POST 请求吗？

问候，山姆

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-04T01:00:37.377

当您打开测试步骤时，在左上角有一个显示“接受”的框。尝试在其中输入 application/x-protobuf 并发送 POST 请求。

# php - 如何在 Doctrine 中使用 findBy() 对结果进行排序

> ID：12048452
> 
> 赞同：160
> 
> 时间：2012-08-21T04:29:32.143
> 
> 标签：php, doctrine-orm

我`findBy()`在 Doctrine 存储库上使用该方法：

```
$entities = $repository->findBy(array('type'=> 'C12')); 
```

如何订购结果？

* * *

## 回答 #1

> 赞同：334
> 
> 时间：2012-08-21T04:45:48.053

的第二个参数`findBy`用于 ORDER。

```
$ens = $em->getRepository('AcmeBinBundle:Marks')
          ->findBy(
             array('type'=> 'C12'), 
             array('id' => 'ASC')
           ); 
```

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2013-05-17T05:58:37.780

```
$ens = $em->getRepository('AcmeBinBundle:Marks')
              ->findBy(
                 array(), 
                 array('id' => 'ASC')
               ); 
```

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2013-11-14T05:17:55.150

```
$cRepo = $em->getRepository('KaleLocationBundle:Country');

// Leave the first array blank
$countries = $cRepo->findBy(array(), array('name'=>'asc')); 
```

# php - 不应静态调用非静态方法 utf_normalizer::nfc()

> ID：12048453
> 
> 赞同：4
> 
> 时间：2012-08-21T04:29:56.493
> 
> 标签：php, static-methods, phpbb, phpbb3, static

目前，我正在安装 PHPBB 3.0.10 并遇到此错误：

严格标准：非静态方法 utf_normalizer::nfc() 不应在 C:\xampp\htdocs\PHPBB\includes\utf\utf_tools.php 中静态调用 1781 行

我试图在 PHPBB 板上找到答案，但没有运气。我有一点 PHP 的背景知识，但不了解动态函数调用的静态函数。我正在使用 PHP v5.4.4、Apache 2.4.2 和 Xampp 1.8.0，如果其中任何一个相关的话。我也在我的本地主机上运行它，而不是在远程服务器上。

为了引发这个错误，我所做的就是安装 PHPBB。一旦我插入了数据库设置和管理员帐户设置，它就会出现这个错误并且不允许我继续。我没有安装扩展（当然）。

另外，我无法在指定的文件中找到 nfc 函数。我不确定它是否包含在内。我还在所有文件中搜索了“function nfc”（不包括引号），但一无所获，因此无法使用：[Strict Standards: Non-static method STemplate::assign() should not be called statically](https://stackoverflow.com/questions/11721210/strict-standards-non-static-method-stemplateassign-should-not-be-called-sta) 。我知道这个问题很常见，许多人声称某个修复程序对他们有用，但我无法应用这些修复程序，因为它们适用于 PHPBB 的早期版本（即 1.0.4）。

过去我可以在 localhost 上安装 PHPBB，但现在不行。我目前没有有效的 PHPBB 安装。

感谢您提供的任何帮助。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-09-26T19:17:38.243

我知道这已经过时了，但不是压制这个问题

如果您想从问题的根源正确解决此问题，

打开includes/utf/utf_tools.php

转到~第 1663 行

代替

```
utf_normalizer::nfkc($text); 
```

和

```
$utf_normalizer = new utf_normalizer();
$utf_normalizer->nfkc($text);
unset($utf_normalizer); 
```

我仍然不确定为什么这个问题没有在适当的版本中得到修复

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-08-22T15:31:55.280

转到您的 /includes 文件夹并打开 startup.php

上线~22换线

```
error_reporting(E_ALL & ~E_NOTICE & ~E_DEPRECATED); 
```

至

```
error_reporting(E_ALL & ~E_NOTICE & ~E_DEPRECATED & ~E_STRICT); 
```

这可能会解决您的问题=)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-11-04T15:12:05.197

我在更新到 3.0.12 后今天遇到了类似的问题，我认为正确的解决方案是将 utf_normalizer.php 中的所有函数设为静态，而不是对这些函数的所有调用设为非静态。顺便说一句，这就是它在 phpbb 3.1.1 中的完成方式

# c - 如何使用回调函数在 Tizen 中获取语言？

> ID：12048463
> 
> 赞同：11
> 
> 时间：2012-08-21T04:30:27.563
> 
> 标签：c, linux, tizen, tizen-native-app

我想用 c 编写一个本机应用程序来获取 Tizen 中语言的价值。编译后的 c 代码必须在 Tizen 手机上运行，​​我需要获取语言的值。我从 Tizen 源获得的回调函数是

```
int app_cb_broker_appcore_lang_changed(void *data)
{
    app_language_changed_cb lang_changed_cb;

    lang_changed_cb = app_context.callbacks->language_changed;

    if (lang_changed_cb != NULL)
    {
            lang_changed_cb(app_context.user_data);
    }

    return 0;
} 
```

如何使用此函数获取当前语言的值？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-28T12:10:36.310

由于您正在尝试使用 Native API，而 Tizen 是一个相当新的企业，即使 Tizen 在 Web API 方面有文档记录，它也没有在 Native API 上完整记录，为什么不尝试询问一些正在开发的人他们可能更清楚。

在他们的网站上，他们提供了一个 irc 房间[https://www.tizen.org/community/irc](https://www.tizen.org/community/irc)：

> 主要渠道： `#tizen at irc.freenode.net: 24/7 open discussion.`

或邮件列表： [https ://www.tizen.org/community/mailing-lists](https://www.tizen.org/community/mailing-lists)

*后来的编辑：*我自己去了那个 IRC 房间，询问了一些关于部署和 Native API 的细节，我收到了（半小时后）这个链接： http: [//giscaro.wordpress.com/](http://giscaro.wordpress.com/)所以那里可以有回应。我会问你的问题，但我不知道你到底想做什么。如果您没有安装 IRC 客户端，您可以使用此[链接通过网络聊天自动登录`#tizen`](http://webchat.freenode.net/?randomnick=1&channels=tizen&uio=d4)聊天室，使用随机用户名（您必须完成 Recapcha）。

# mysql - MySQL C API: Getting `MYSQL_FIELD` array from `MYSQL_STMT`?

> ID：12048468
> 
> 赞同：0
> 
> 时间：2012-08-21T04:31:29.060
> 
> 标签：mysql, c

I have prepared and executed a `MYSQL_STMT` and now I want to fetch the data.

I can get the number of fields with `mysql_stmt_field_count`.

I need to know the `MYSQL_FIELD` information for each field.

How do I get the `MYSQL_FIELD` information?

There is a `field` member of type `MYSQL_FIELD*` in `MYSQL_STMT` but in the manual it says:

> The MYSQL_STMT structure has no members intended for application use.

There are several functions that take a `MYSQL_RES` such as `mysql_fetch_fields`, but I do not have a `MYSQL_RES`, I have a `MYSQL_STMT`

Documentation is here: [http://dev.mysql.com/doc/refman/5.5/en/c.html](http://dev.mysql.com/doc/refman/5.5/en/c.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:11:50.757

如果您使用准备好的语句，您应该确切地知道每个字段的类型和大小，以便准备`MYSQL_BIND`数组

以下代码片段取自[文档](http://dev.mysql.com/doc/refman/5.5/en/mysql-stmt-fetch.html)

```
MYSQL_BIND    bind[4]; // 4 columns
MYSQL_TIME    ts;
unsigned long length[4];
int           param_count, column_count, row_count;
short         small_data;
int           int_data;
char          str_data[STRING_SIZE];
my_bool       is_null[4];
my_bool       error[4];

/* Bind the result buffers for all 4 columns before fetching them */

memset(bind, 0, sizeof(bind));

/* INTEGER COLUMN */
bind[0].buffer_type= MYSQL_TYPE_LONG;
bind[0].buffer= (char *)&int_data;
bind[0].is_null= &is_null[0];
bind[0].length= &length[0];
bind[0].error= &error[0];

/* STRING COLUMN */
bind[1].buffer_type= MYSQL_TYPE_STRING;
bind[1].buffer= (char *)str_data;
bind[1].buffer_length= STRING_SIZE;
bind[1].is_null= &is_null[1];
bind[1].length= &length[1];
bind[1].error= &error[1];

/* SMALLINT COLUMN */
bind[2].buffer_type= MYSQL_TYPE_SHORT;
bind[2].buffer= (char *)&small_data;
bind[2].is_null= &is_null[2];
bind[2].length= &length[2];
bind[2].error= &error[2];

/* TIMESTAMP COLUMN */
bind[3].buffer_type= MYSQL_TYPE_TIMESTAMP;
bind[3].buffer= (char *)&ts;
bind[3].is_null= &is_null[3];
bind[3].length= &length[3];
bind[3].error= &error[3]; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-21T04:54:56.883

> 在将变量绑定到要用于获取列值的 MYSQL_BIND 结构之前，您可以检查结果集每一列的类型代码。如果您想确定最好使用哪些变量类型来避免类型转换，这可能是可取的。要获取类型代码，请在使用 mysql_stmt_execute() 执行准备好的语句后调用 mysql_stmt_result_metadata()。元数据提供对结果集的类型代码的访问，如第 22.9.7.23 节，“mysql_stmt_result_metadata()”和第 22.9.1 节，“C API 数据结构”中所述。

[http://dev.mysql.com/doc/refman/5.5/en/mysql-stmt-result-metadata.html](http://dev.mysql.com/doc/refman/5.5/en/mysql-stmt-result-metadata.html)

# php - Random Background image doesn't work in chrome?

> ID：12048470
> 
> 赞同：0
> 
> 时间：2012-08-21T04:31:33.453
> 
> 标签：php, background-process

I'm trying to make random background.

```
background:url(images/background/background-image.php) no-repeat fixed;
background-size: 100%; 
```

it works in firefox, safari and IE, but it doesn't work in chrome.

background-image.php

```
<?php

    $folder = '.';
    $extList = array();     
    $extList['gif'] = 'image/gif';  
    $extList['jpg'] = 'image/jpeg';     
    $extList['jpeg'] = 'image/jpeg';    
    $extList['png'] = 'image/png';  

    $img = null;

    if (substr($folder,-1) != '/') { 
        $folder = $folder.'/'; 
    }

    if (isset($_GET['img'])) {  
        $imageInfo = pathinfo($_GET['img']);    
        if ( isset( $extList[ strtolower( $imageInfo['extension'] ) ] ) && file_exists( $folder.$imageInfo['basename'] ) ) {        
            $img = $folder.$imageInfo['basename'];  
        } 
    } else {    
        $fileList = array();    
        $handle = opendir($folder);     
        while ( false !== ( $file = readdir($handle) ) ) {      
            $file_info = pathinfo($file);       
            if (isset( $extList[ strtolower( $file_info['extension'] ) ] ) ) {                    
                $fileList[] = $file;        
            }   
        }   
        closedir($handle);
        if (count($fileList) > 0) {         
            $imageNumber = time() % count($fileList);       
            $img = $folder.$fileList[$imageNumber];     
        } 
    }

    if ($img!=null) {   
        $imageInfo = pathinfo($img);    
        $contentType = 'Content-type: '.$extList[ $imageInfo['extension'] ];    
        header ($contentType);  
        readfile($img); 
    } else {    
        if ( function_exists('imagecreate') ) {         
            header ("Content-type: image/png");         
            $im = @imagecreate (100, 100) or die ("Cannot initialize new GD image stream");         
            $background_color = imagecolorallocate ($im, 255, 255, 255); 
            $text_color = imagecolorallocate ($im, 0,0,0);
            imagestring ($im, 2, 5, 5,  "IMAGE ERROR", $text_color); 
            imagepng ($im); 
            imagedestroy($im);
        }
    }                                                        
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T07:18:13.457

而不是制作生成实际图像文件的脚本。我会让脚本引用文件的链接。例如，如果在目录中`images`它们是 10 个随机图像，我将使用 PHP 的`rand`函数与`scandir`.

**注意：**我没有测试下面的代码。它是一个“粗略的想法”。

```
<?php
    $website_path = "http://www.example.com/".$GET['imgpath'];
    $list = scandir($_GET['imgpath']);
    if(count($list)>0){ //yes images in directory
        $random = rand(0,count($list));
        $random_path = $list[$random];
    }else               //no images in directory
        $random_path = "/images/error.php";
    $random_path = $website_path."/".$random_path;
    echo "background:url('$random_path');";
?>
background-size:100%; 
```

另请注意，您没有在`background:url('...');`CSS 样式周围包含单引号。如果我正确阅读了您的代码，您会发现您可能遇到了复杂的问题。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-08-21T07:01:24.777

你能把CSS放在一个PHP文件中，并使用一个变量来列出背景图像的路径吗？

```
background:url(<?=$bgimage?>) no-repeat fixed; 
```

并让您的 PHP 脚本输出变量 $bgimage

请注意，简写

```
<?=$bgimage?> 
```

和说的一样

```
<?php echo $bgimage; ?> 
```

# javascript - 当元素内有绝对定位的子元素时获取元素的全宽

> ID：12048476
> 
> 赞同：4
> 
> 时间：2012-08-21T04:32:37.127
> 
> 标签：javascript, jquery, html, css

JS 小提琴：http: [//jsfiddle.net/meYnS/3/](http://jsfiddle.net/meYnS/3/)

假设我有一个`.outer`100px 宽度和`position:relative;`. 它有一个内部元素，它有`position:absolute;`和`left:95px;`。即子元素超过了父元素的宽度。

现在，在 JQUery 中，如果我尝试使用`$('.outer').outerWidth();`它获取父级的宽度，则返回 100。

但是我怎样才能得到外部元素的全宽（显然大于 100，因为绝对定位的子元素）？

是否有内置方法或者我必须进行手动计算（即将每个子宽度添加到父宽度以计算出整个宽度）？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-21T04:44:48.707

您可以使用属性`scrollWidth`, `scrollHeight`。

如果您使用的是 jQuery，

```
$('.outer').get(0).scrollWidth 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-21T04:38:51.580

您已将宽度设置为 100px，并且子元素是绝对定位的，因此它不会影响其父元素的宽度。父级的宽度仍然是真正的 100px。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T05:00:42.330

jQuery 不提供对 javascript 属性的访问`scrollWidth`，因此您必须使用 jQuery 访问 DOM 元素。

jQuery [.get()](http://api.jquery.com/get/)是一种实现 DOM 元素的方法。

因此，使用 jQuery 的解决方案是`$('.outer').get(0).scrollWidth`

如果您使用原始 javascript，则解决方案是`document.getElementsByClassName('outer')[0].scrollWidth`

# javascript - 我的脚本不能在 IE（甚至 9）中运行？简单的 javascript 来修改复制文本

> ID：12048477
> 
> 赞同：2
> 
> 时间：2012-08-21T04:32:48.647
> 
> 标签：javascript, jquery

所以有一天我上网，复制了一段文字“**我的酷文字**”并粘贴到Facebook，结果发现它变成了“我的酷文字-在***URL*****阅读更多***”，我敬畏！棒极了！*

 *所以我潜入了一些，找到了一些教程之类的。我自己将其转换为具有数十个选项的可自定义插件，并输出此（或基于选项的类似内容）：

```
function copyCopyright() {
    var theBody = document.getElementsByTagName("body")[0];
    var selection;
    selection = window.getSelection();
    var copyrightLink = '<br /><br />Read more at: '+document.location.href+'<br /> &copy;2012  ';
    var copytext = selection + copyrightLink;
    var extraDiv = document.createElement("div");
    extraDiv.style.position="absolute";
    extraDiv.style.left="-99999px";
    theBody.appendChild(extraDiv);
    extraDiv.innerHTML = copytext;
    selection.selectAllChildren(extraDiv);
    window.setTimeout(function() {
        theBody.removeChild(extraDiv);
    },0);
}
document.oncopy = copyCopyright;​ 
```

在 Chrome 和 Firefox 等中工作得很好。但当然它在 IE 中不起作用（甚至是 IE9！）。我对 Javascript 相当陌生，尤其是寻找 IE 的问题。

是否有IE无法识别的功能或方法或其他东西，我必须找到另一种方法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T04:48:03.773

IE需求

```
document.body.oncopy=copyCopyright 
```

添加到您的 onload 事件。（主体在加载之前不存在）*

# php - Multiple instances of code work perfectly in PHP 5.2.13 but not in PHP 5.4.6

> ID：12048480
> 
> 赞同：1
> 
> 时间：2012-08-21T04:33:00.350
> 
> 标签：php

I have a number of PHP websites that are right now working perfectly fine running on PHP 5.2.13\. But when I copy the code to my local development server running PHP 5.4.6 the lots of different pieces of code break with errors...

Parse error: syntax error, unexpected end of file in jobadd.php on line 1604

or

Parse error: syntax error, unexpected '}' in jobadd.php on line 236

It seams the common suggestion is having \<\? instead of \<\?php but all the pieces of code are free of these things and all the open brackets have matching closed brackets. I'm assuming something has changed between 5.2 and 5.4 but I can't find it when I search for it and to my discerning eye the code is correct. I don't want to include a portion of the code as they are all significantly large and unwieldy if I can find a small portion that errors I will post it. Another possibility is that there is a missing or superfluous semi-colon, but again to my eye everything checks out.

Has anyone else come across something like this? If I ever upgrade our production server are we going to have to rewrite a lot of our code because of something inconsequential.

The last thought is that 5.4 is more strict about syntax than 5.2 was I am seeing a lot of mistakes is the HTML code just not the PHP code.

Thanks everyone please let me know if you have any insights in to this. Russ

```
<?php
/*
 * Created on 12/03/2012 4:12:27 PM , by richard
 *
 * mybidswap
 *
 */
?>

<h3>Categories</h3>

<table class="category-list">
<tbody>
<?php

$counter = 1;

foreach($category_list as $row)
{ ?>
        <?php if($counter == 1){ ?><tr><? } ?>
                <td>
                <a href='<?php echo base_url('auctions/?category_id='.$row['auction_category_id']); ?>'>
                <img width="80" height="80" src="<?php echo base_url() . 'images/category-images/'. $row['category_image']; ?>" /><br />
                        <span><?php echo $row['category_title']; ?></span>
            </a>
                </td>
        <?php if($counter == 5){ ?><tr><? } ?>
    <?php $counter++; if($counter >= 5){ $counter = 1; } ?>
<?php }
?>
<tbody>
</table>
<?php //new dBug($category_list); ?> 
```

This is a small snippet of code that produces an error....

Parse error: syntax error, unexpected $end in category_list.php on line 33

```
PHP Version 5.3.16

System  Linux compaqqy-RHEL.329ncle.stockhammer.id.au 2.6.18-194.el5 #1 SMP Tue Mar 16 21:52:43 EDT 2010 i686
Build Date  Aug 21 2012 16:08:12
Configure Command    './configure' '--with-pdo-mysql=/usr/local/mysql' '--with-mysqli=/usr/local/mysql/bin/mysql_config' '--with-mysql=/usr/local/mysql' '--with-apxs2=/usr/local/apache2/bin/apxs' '--enable-zip' '--with-mcrypt=/usr/local/bin/mcrypt' '--with-zlib-dir' '--enable-mbstring'
Server API  Apache 2.0 Handler
Virtual Directory Support   disabled
Configuration File (php.ini) Path   /usr/local/lib
Loaded Configuration File   /usr/local/lib/php.ini
Scan this dir for additional .ini files (none)
Additional .ini files parsed    (none)
PHP API 20090626
PHP Extension   20090626
Zend Extension  220090626
Zend Extension Build    API220090626,NTS
PHP Extension Build API20090626,NTS
Debug Build no
Thread Safety   disabled
Zend Memory Manager enabled
Zend Multibyte Support  disabled
IPv6 Support    enabled
Registered PHP Streams  compress.zlib, php, file, glob, data, http, ftp, phar, zip
Registered Stream Socket Transports tcp, udp, unix, udg
Registered Stream Filters   zlib.*, convert.iconv.*, mcrypt.*, mdecrypt.*, string.rot13, string.toupper, string.tolower, string.strip_tags, convert.*, consumed, dechunk

This program makes use of the Zend Scripting Language Engine:
Zend Engine v2.3.0, Copyright (c) 1998-2012 Zend Technologies

PHP Credits

Configuration

apache2handler

Apache Version  Apache/2.2.22 (Unix) PHP/5.3.16
Apache API Version  20051115
Server Administrator    russgrue@localhost
Hostname:Port   devel.mybidswap.com:0
User/Group  apache(48)/48
Max Requests    Per Child: 10000 - Keep Alive: on - Max Per Connection: 100
Timeouts    Connection: 300 - Keep-Alive: 5
Virtual Server  Yes
Server Root /usr/local/apache2
Loaded Modules  core mod_authn_file mod_authn_default mod_authz_host mod_authz_groupfile mod_authz_user mod_authz_default mod_auth_basic mod_include mod_filter mod_log_config mod_env mod_setenvif mod_version prefork http_core mod_mime mod_status mod_autoindex mod_asis mod_info mod_cgi mod_negotiation mod_dir mod_actions mod_userdir mod_alias mod_rewrite mod_so mod_php5

Directive   Local Value Master Value
engine  1   1
last_modified   0   0
xbithack    0   0

Apache Environment

Variable    Value
HTTP_HOST   devel.mybidswap.com
HTTP_CONNECTION keep-alive
HTTP_USER_AGENT Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.79 Safari/537.1
HTTP_ACCEPT text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
HTTP_ACCEPT_ENCODING    gzip,deflate,sdch
HTTP_ACCEPT_LANGUAGE    en-GB,en-US;q=0.8,en;q=0.6
HTTP_ACCEPT_CHARSET ISO-8859-1,utf-8;q=0.7,*;q=0.3
HTTP_COOKIE cisession=a%3A5%3A%7Bs%3A10%3A%22session_id%22%3Bs%3A32%3A%22100bfd166f29043305c35bfd7a1a9a39%22%3Bs%3A10%3A%22ip_address%22%3Bs%3A11%3A%22192.168.0.7%22%3Bs%3A10%3A%22user_agent%22%3Bs%3A106%3A%22Mozilla%2F5.0+%28Windows+NT+6.1%3B+WOW64%29+AppleWebKit%2F537.1+%28KHTML%2C+like+Gecko%29+Chrome%2F21.0.1180.79+Safari%2F537.1%22%3Bs%3A13%3A%22last_activity%22%3Bi%3A1345530365%3Bs%3A9%3A%22user_data%22%3Bs%3A0%3A%22%22%3B%7D42f2217d5511a7cd57955aceddb30f42; __unam=80130ed-13942c61c34-58d4de10-8
HTTP_DNT    1
PATH    /sbin:/usr/sbin:/bin:/usr/bin
SERVER_SIGNATURE    no value
SERVER_SOFTWARE Apache/2.2.22 (Unix) PHP/5.3.16
SERVER_NAME devel.mybidswap.com
SERVER_ADDR 192.168.0.49
SERVER_PORT 80
REMOTE_ADDR 192.168.0.7
DOCUMENT_ROOT   /home/russgrue/Russell/ftp.mybidswap.com/www.mybidswap.com/web/content
SERVER_ADMIN    russgrue@localhost
SCRIPT_FILENAME /home/russgrue/Russell/ftp.mybidswap.com/www.mybidswap.com/web/content/blah.php
REMOTE_PORT 61997
GATEWAY_INTERFACE   CGI/1.1
SERVER_PROTOCOL HTTP/1.1
REQUEST_METHOD  GET
QUERY_STRING    no value
REQUEST_URI /blah.php
SCRIPT_NAME /blah.php

HTTP Headers Information

HTTP Request Headers
HTTP Request    GET /blah.php HTTP/1.1
Host    devel.mybidswap.com
Connection  keep-alive
User-Agent  Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.79 Safari/537.1
Accept  text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Encoding gzip,deflate,sdch
Accept-Language en-GB,en-US;q=0.8,en;q=0.6
Accept-Charset  ISO-8859-1,utf-8;q=0.7,*;q=0.3
Cookie  cisession=a%3A5%3A%7Bs%3A10%3A%22session_id%22%3Bs%3A32%3A%22100bfd166f29043305c35bfd7a1a9a39%22%3Bs%3A10%3A%22ip_address%22%3Bs%3A11%3A%22192.168.0.7%22%3Bs%3A10%3A%22user_agent%22%3Bs%3A106%3A%22Mozilla%2F5.0+%28Windows+NT+6.1%3B+WOW64%29+AppleWebKit%2F537.1+%28KHTML%2C+like+Gecko%29+Chrome%2F21.0.1180.79+Safari%2F537.1%22%3Bs%3A13%3A%22last_activity%22%3Bi%3A1345530365%3Bs%3A9%3A%22user_data%22%3Bs%3A0%3A%22%22%3B%7D42f2217d5511a7cd57955aceddb30f42; __unam=80130ed-13942c61c34-58d4de10-8
DNT 1
HTTP Response Headers
X-Powered-By    PHP/5.3.16
Keep-Alive  timeout=5, max=100
Connection  Keep-Alive
Transfer-Encoding   chunked
Content-Type    text/html

Core

PHP Version 5.3.16

Directive   Local Value Master Value
allow_call_time_pass_reference  On  On
allow_url_fopen On  On
allow_url_include   Off Off
always_populate_raw_post_data   Off Off
arg_separator.input &   &
arg_separator.output    &   &
asp_tags    Off Off
auto_append_file    no value    no value
auto_globals_jit    On  On
auto_prepend_file   no value    no value
browscap    no value    no value
default_charset no value    no value
default_mimetype    text/html   text/html
define_syslog_variables Off Off
disable_classes no value    no value
disable_functions   no value    no value
display_errors  On  On
display_startup_errors  On  On
doc_root    no value    no value
docref_ext  no value    no value
docref_root no value    no value
enable_dl   Off Off
error_append_string no value    no value
error_log   no value    no value
error_prepend_string    no value    no value
error_reporting 30719   30719
exit_on_timeout Off Off
expose_php  On  On
extension_dir   /usr/local/lib/php/extensions/no-debug-non-zts-20090626 /usr/local/lib/php/extensions/no-debug-non-zts-20090626
file_uploads    On  On
highlight.bg    #FFFFFF #FFFFFF
highlight.comment   #FF8000 #FF8000
highlight.default   #0000BB #0000BB
highlight.html  #000000 #000000
highlight.keyword   #007700 #007700
highlight.string    #DD0000 #DD0000
html_errors On  On
ignore_repeated_errors  Off Off
ignore_repeated_source  Off Off
ignore_user_abort   Off Off
implicit_flush  Off Off
include_path    .:/usr/local/lib/php    .:/usr/local/lib/php
log_errors  On  On
log_errors_max_len  1024    1024
magic_quotes_gpc    On  On
magic_quotes_runtime    Off Off
magic_quotes_sybase Off Off
mail.add_x_header   On  On
mail.force_extra_parameters no value    no value
mail.log    no value    no value
max_execution_time  30  30
max_file_uploads    20  20
max_input_nesting_level 64  64
max_input_time  60  60
max_input_vars  1000    1000
memory_limit    128M    128M
open_basedir    no value    no value
output_buffering    4096    4096
output_handler  no value    no value
post_max_size   8M  8M
precision   14  14
realpath_cache_size 16K 16K
realpath_cache_ttl  120 120
register_argc_argv  Off Off
register_globals    Off Off
register_long_arrays    On  On
report_memleaks On  On
report_zend_debug   On  On
request_order   GP  GP
safe_mode   Off Off
safe_mode_exec_dir  /usr/local/php/bin  /usr/local/php/bin
safe_mode_gid   Off Off
safe_mode_include_dir   no value    no value
sendmail_from   no value    no value
sendmail_path   /usr/sbin/sendmail -t -i    /usr/sbin/sendmail -t -i 
serialize_precision 17  17
short_open_tag  Off Off
SMTP    localhost   localhost
smtp_port   25  25
sql.safe_mode   Off Off
track_errors    On  On
unserialize_callback_func   no value    no value
upload_max_filesize 2M  2M
upload_tmp_dir  no value    no value
user_dir    no value    no value
user_ini.cache_ttl  300 300
user_ini.filename   .user.ini   .user.ini
variables_order GPCS    GPCS
xmlrpc_error_number 0   0
xmlrpc_errors   Off Off
y2k_compliance  On  On
zend.enable_gc  On  On

ctype

ctype functions enabled

date

date/time support   enabled
"Olson" Timezone Database Version   2012.3
Timezone Database   internal
Default timezone    Australia/Sydney

Directive   Local Value Master Value
date.default_latitude   31.7667 31.7667
date.default_longitude  35.2333 35.2333
date.sunrise_zenith 90.583333   90.583333
date.sunset_zenith  90.583333   90.583333
date.timezone   Australia/Sydney    Australia/Sydney

dom

DOM/XML enabled
DOM/XML API Version 20031129
libxml Version  2.6.26
HTML Support    enabled
XPath Support   enabled
XPointer Support    enabled
Schema Support  enabled
RelaxNG Support enabled

ereg

Regex Library   Bundled library enabled

fileinfo

fileinfo support    enabled
version 1.0.5-dev

filter

Input Validation and Filtering  enabled
Revision    $Id: 2b8c730d7dfaa8485d07cd792f0c82852ffe4113 $

Directive   Local Value Master Value
filter.default  unsafe_raw  unsafe_raw
filter.default_flags    no value    no value

hash

hash support    enabled
Hashing Engines md2 md4 md5 sha1 sha224 sha256 sha384 sha512 ripemd128 ripemd160 ripemd256 ripemd320 whirlpool tiger128,3 tiger160,3 tiger192,3 tiger128,4 tiger160,4 tiger192,4 snefru snefru256 gost adler32 crc32 crc32b salsa10 salsa20 haval128,3 haval160,3 haval192,3 haval224,3 haval256,3 haval128,4 haval160,4 haval192,4 haval224,4 haval256,4 haval128,5 haval160,5 haval192,5 haval224,5 haval256,5

iconv

iconv support   enabled
iconv implementation    glibc
iconv library version   2.5

Directive   Local Value Master Value
iconv.input_encoding    ISO-8859-1  ISO-8859-1
iconv.internal_encoding ISO-8859-1  ISO-8859-1
iconv.output_encoding   ISO-8859-1  ISO-8859-1

json

json support    enabled
json version    1.2.1

libxml

libXML support  active
libXML Compiled Version 2.6.26
libXML Loaded Version   20626
libXML streams  enabled

mbstring

Multibyte Support   enabled
Multibyte string engine libmbfl
HTTP input encoding translation disabled

mbstring extension makes use of "streamable kanji code filter and converter", which is distributed under the GNU Lesser General Public License version 2.1.

Multibyte (japanese) regex support  enabled
Multibyte regex (oniguruma) backtrack check On
Multibyte regex (oniguruma) version 4.7.1

Directive   Local Value Master Value
mbstring.detect_order   no value    no value
mbstring.encoding_translation   Off Off
mbstring.func_overload  0   0
mbstring.http_input pass    pass
mbstring.http_output    pass    pass
mbstring.http_output_conv_mimetypes ^(text/|application/xhtml\+xml) ^(text/|application/xhtml\+xml)
mbstring.internal_encoding  no value    no value
mbstring.language   neutral neutral
mbstring.strict_detection   Off Off
mbstring.substitute_character   no value    no value

mcrypt

mcrypt support  enabled
mcrypt_filter support   enabled
Version 2.5.8
Api No  20021217
Supported ciphers   cast-128 gost rijndael-128 twofish arcfour cast-256 loki97 rijndael-192 saferplus wake blowfish-compat des rijndael-256 serpent xtea blowfish enigma rc2 tripledes
Supported modes cbc cfb ctr ecb ncfb nofb ofb stream

Directive   Local Value Master Value
mcrypt.algorithms_dir   no value    no value
mcrypt.modes_dir    no value    no value

mysql

MySQL Support   enabled
Active Persistent Links 0
Active Links    0
Client API version  5.5.27
MYSQL_MODULE_TYPE   external
MYSQL_SOCKET    /tmp/mysql.sock
MYSQL_INCLUDE   -I/usr/local/mysql/include
MYSQL_LIBS  -L/usr/local/mysql/lib -lmysqlclient

Directive   Local Value Master Value
mysql.allow_local_infile    On  On
mysql.allow_persistent  On  On
mysql.connect_timeout   60  60
mysql.default_host  no value    no value
mysql.default_password  no value    no value
mysql.default_port  no value    no value
mysql.default_socket    /tmp/mysql.sock /tmp/mysql.sock
mysql.default_user  no value    no value
mysql.max_links Unlimited   Unlimited
mysql.max_persistent    Unlimited   Unlimited
mysql.trace_mode    Off Off

mysqli

MysqlI Support  enabled
Client API library version  5.5.27
Active Persistent Links 0
Inactive Persistent Links   0
Active Links    0
Client API header version   5.5.27
MYSQLI_SOCKET   /tmp/mysql.sock

Directive   Local Value Master Value
mysqli.allow_local_infile   On  On
mysqli.allow_persistent On  On
mysqli.default_host no value    no value
mysqli.default_port 3306    3306
mysqli.default_pw   no value    no value
mysqli.default_socket   no value    no value
mysqli.default_user no value    no value
mysqli.max_links    Unlimited   Unlimited
mysqli.max_persistent   Unlimited   Unlimited
mysqli.reconnect    Off Off

pcre

PCRE (Perl Compatible Regular Expressions) Support  enabled
PCRE Library Version    8.12 2011-01-15

Directive   Local Value Master Value
pcre.backtrack_limit    1000000 1000000
pcre.recursion_limit    100000  100000

PDO

PDO support enabled
PDO drivers mysql, sqlite, sqlite2

pdo_mysql

PDO Driver for MySQL    enabled
Client API version  5.5.27

Directive   Local Value Master Value
pdo_mysql.default_socket    /tmp/mysql.sock /tmp/mysql.sock

pdo_sqlite

PDO Driver for SQLite 3.x   enabled
SQLite Library  3.7.7.1

Phar

Phar: PHP Archive support   enabled
Phar EXT version    2.0.1
Phar API version    1.1.1
SVN revision    $Id: f7d08da4ab9e515975840c28b830edc9437c3026 $
Phar-based phar archives    enabled
Tar-based phar archives enabled
ZIP-based phar archives enabled
gzip compression    enabled
bzip2 compression   disabled (install pecl/bz2)
OpenSSL support disabled (install ext/openssl)

Phar based on pear/PHP_Archive, original concept by Davey Shafik.
Phar fully realized by Gregory Beaver and Marcus Boerger.
Portions of tar implementation Copyright (c) 2003-2009 Tim Kientzle.

Directive   Local Value Master Value
phar.cache_list no value    no value
phar.readonly   On  On
phar.require_hash   On  On

posix

Revision    $Id: c00b7465003bf16b27764ccaea3c159ca2e4419d $

Reflection

Reflection  enabled
Version $Id: 23c90449811cd1a9c860b115456b64946c2823a9 $

session

Session Support enabled
Registered save handlers    files user sqlite
Registered serializer handlers  php php_binary

Directive   Local Value Master Value
session.auto_start  Off Off
session.bug_compat_42   On  On
session.bug_compat_warn On  On
session.cache_expire    180 180
session.cache_limiter   nocache nocache
session.cookie_domain   no value    no value
session.cookie_httponly Off Off
session.cookie_lifetime 0   0
session.cookie_path /   /
session.cookie_secure   Off Off
session.entropy_file    no value    no value
session.entropy_length  0   0
session.gc_divisor  1000    1000
session.gc_maxlifetime  1440    1440
session.gc_probability  1   1
session.hash_bits_per_character 5   5
session.hash_function   0   0
session.name    PHPSESSID   PHPSESSID
session.referer_check   no value    no value
session.save_handler    files   files
session.save_path   no value    no value
session.serialize_handler   php php
session.use_cookies On  On
session.use_only_cookies    On  On
session.use_trans_sid   0   0

SimpleXML

Simplexml support   enabled
Revision    $Id: a379111021e24ef020a2eefd8ca830cb1ab5b280 $
Schema support  enabled

SPL

SPL support enabled
Interfaces  Countable, OuterIterator, RecursiveIterator, SeekableIterator, SplObserver, SplSubject
Classes AppendIterator, ArrayIterator, ArrayObject, BadFunctionCallException, BadMethodCallException, CachingIterator, DirectoryIterator, DomainException, EmptyIterator, FilesystemIterator, FilterIterator, GlobIterator, InfiniteIterator, InvalidArgumentException, IteratorIterator, LengthException, LimitIterator, LogicException, MultipleIterator, NoRewindIterator, OutOfBoundsException, OutOfRangeException, OverflowException, ParentIterator, RangeException, RecursiveArrayIterator, RecursiveCachingIterator, RecursiveDirectoryIterator, RecursiveFilterIterator, RecursiveIteratorIterator, RecursiveRegexIterator, RecursiveTreeIterator, RegexIterator, RuntimeException, SplDoublyLinkedList, SplFileInfo, SplFileObject, SplFixedArray, SplHeap, SplMinHeap, SplMaxHeap, SplObjectStorage, SplPriorityQueue, SplQueue, SplStack, SplTempFileObject, UnderflowException, UnexpectedValueException

SQLite

SQLite support  enabled
PECL Module version 2.0-dev $Id$
SQLite Library  2.8.17
SQLite Encoding iso8859

Directive   Local Value Master Value
sqlite.assoc_case   0   0

sqlite3

SQLite3 support enabled
SQLite3 module version  0.7-dev
SQLite Library  3.7.7.1

Directive   Local Value Master Value
sqlite3.extension_dir   no value    no value

standard

Dynamic Library Support enabled
Path to sendmail    /usr/sbin/sendmail -t -i

Directive   Local Value Master Value
assert.active   1   1
assert.bail 0   0
assert.callback no value    no value
assert.quiet_eval   0   0
assert.warning  1   1
auto_detect_line_endings    0   0
default_socket_timeout  60  60
from    no value    no value
safe_mode_allowed_env_vars  PHP_    PHP_
safe_mode_protected_env_vars    LD_LIBRARY_PATH LD_LIBRARY_PATH
url_rewriter.tags   a=href,area=href,frame=src,input=src,form=fakeentry a=href,area=href,frame=src,input=src,form=fakeentry
user_agent  no value    no value

tokenizer

Tokenizer Support   enabled

xml

XML Support active
XML Namespace Support   active
libxml2 Version 2.6.26

xmlreader

XMLReader   enabled

xmlwriter

XMLWriter   enabled

zip

Zip enabled
Extension Version   $Id$
Zip version 1.11.0
Libzip version  0.10.1

zlib

ZLib Support    enabled
Stream Wrapper support  compress.zlib://
Stream Filter support   zlib.inflate, zlib.deflate
Compiled Version    1.2.3
Linked Version  1.2.3

Directive   Local Value Master Value
zlib.output_compression Off Off
zlib.output_compression_level   -1  -1
zlib.output_handler no value    no value

Additional Modules

Module Name

Environment

Variable    Value
SSH_AGENT_PID   31828
HOSTNAME    compaqqy-RHEL.329ncle.stockhammer.id.au
DESKTOP_STARTUP_ID  no value
TERM    xterm
SHELL   /bin/bash
HISTSIZE    1000
GTK_RC_FILES    /etc/gtk/gtkrc:/root/.gtkrc-1.2-gnome2
WINDOWID    26214480
USER    root
LS_COLORS   no=00:fi=00:di=00;34:ln=00;36:pi=40;33:so=00;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:ex=00;32:*.cmd=00;32:*.exe=00;32:*.com=00;32:*.btm=00;32:*.bat=00;32:*.sh=00;32:*.csh=00;32:*.tar=00;31:*.tgz=00;31:*.arj=00;31:*.taz=00;31:*.lzh=00;31:*.zip=00;31:*.z=00;31:*.Z=00;31:*.gz=00;31:*.bz2=00;31:*.bz=00;31:*.tz=00;31:*.rpm=00;31:*.cpio=00;31:*.jpg=00;35:*.gif=00;35:*.bmp=00;35:*.xbm=00;35:*.xpm=00;35:*.png=00;35:*.tif=00;35:
GNOME_KEYRING_SOCKET    /tmp/keyring-WzhlY3/socket
SSH_AUTH_SOCK   /tmp/ssh-jbDMk31792/agent.31792
SESSION_MANAGER local/compaqqy-RHEL.329ncle.stockhammer.id.au:/tmp/.ICE-unix/31792
MAIL    /var/spool/mail/root
PATH    /sbin:/usr/sbin:/bin:/usr/bin
DESKTOP_SESSION default
GDM_XSERVER_LOCATION    local
INPUTRC /etc/inputrc
PWD /root/Desktop/php-5.3.16
XMODIFIERS  @im=none
LANG    C
TZ  Australia/Sydney
GDMSESSION  default
SSH_ASKPASS /usr/libexec/openssh/gnome-ssh-askpass
SHLVL   4
HOME    /root
GNOME_DESKTOP_SESSION_ID    Default
LOGNAME root
CVS_RSH ssh
DBUS_SESSION_BUS_ADDRESS    unix:abstract=/tmp/dbus-LCFkaQTgCp,guid=88ef7f0ee5b5852e6c41fb0050332257
LESSOPEN    |/usr/bin/lesspipe.sh %s
DISPLAY :0.0
G_BROKEN_FILENAMES  1
COLORTERM   gnome-terminal
XAUTHORITY  /tmp/.gdmVH8EJW
_   /usr/local/apache2/bin/httpd

PHP Variables

Variable    Value
_COOKIE["cisession"]    a:5:{s:10:\"session_id\";s:32:\"100bfd166f29043305c35bfd7a1a9a39\";s:10:\"ip_address\";s:11:\"192.168.0.7\";s:10:\"user_agent\";s:106:\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.79 Safari/537.1\";s:13:\"last_activity\";i:1345530365;s:9:\"user_data\";s:0:\"\";}42f2217d5511a7cd57955aceddb30f42
_COOKIE["__unam"]   80130ed-13942c61c34-58d4de10-8
_SERVER["HTTP_HOST"]    devel.mybidswap.com
_SERVER["HTTP_CONNECTION"]  keep-alive
_SERVER["HTTP_USER_AGENT"]  Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.79 Safari/537.1
_SERVER["HTTP_ACCEPT"]  text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
_SERVER["HTTP_ACCEPT_ENCODING"] gzip,deflate,sdch
_SERVER["HTTP_ACCEPT_LANGUAGE"] en-GB,en-US;q=0.8,en;q=0.6
_SERVER["HTTP_ACCEPT_CHARSET"]  ISO-8859-1,utf-8;q=0.7,*;q=0.3
_SERVER["HTTP_COOKIE"]  cisession=a%3A5%3A%7Bs%3A10%3A%22session_id%22%3Bs%3A32%3A%22100bfd166f29043305c35bfd7a1a9a39%22%3Bs%3A10%3A%22ip_address%22%3Bs%3A11%3A%22192.168.0.7%22%3Bs%3A10%3A%22user_agent%22%3Bs%3A106%3A%22Mozilla%2F5.0+%28Windows+NT+6.1%3B+WOW64%29+AppleWebKit%2F537.1+%28KHTML%2C+like+Gecko%29+Chrome%2F21.0.1180.79+Safari%2F537.1%22%3Bs%3A13%3A%22last_activity%22%3Bi%3A1345530365%3Bs%3A9%3A%22user_data%22%3Bs%3A0%3A%22%22%3B%7D42f2217d5511a7cd57955aceddb30f42; __unam=80130ed-13942c61c34-58d4de10-8
_SERVER["HTTP_DNT"] 1
_SERVER["PATH"] /sbin:/usr/sbin:/bin:/usr/bin
_SERVER["SERVER_SIGNATURE"] no value
_SERVER["SERVER_SOFTWARE"]  Apache/2.2.22 (Unix) PHP/5.3.16
_SERVER["SERVER_NAME"]  devel.mybidswap.com
_SERVER["SERVER_ADDR"]  192.168.0.49
_SERVER["SERVER_PORT"]  80
_SERVER["REMOTE_ADDR"]  192.168.0.7
_SERVER["DOCUMENT_ROOT"]    /home/russgrue/Russell/ftp.mybidswap.com/www.mybidswap.com/web/content
_SERVER["SERVER_ADMIN"] russgrue@localhost
_SERVER["SCRIPT_FILENAME"]  /home/russgrue/Russell/ftp.mybidswap.com/www.mybidswap.com/web/content/blah.php
_SERVER["REMOTE_PORT"]  61997
_SERVER["GATEWAY_INTERFACE"]    CGI/1.1
_SERVER["SERVER_PROTOCOL"]  HTTP/1.1
_SERVER["REQUEST_METHOD"]   GET
_SERVER["QUERY_STRING"] no value
_SERVER["REQUEST_URI"]  /blah.php
_SERVER["SCRIPT_NAME"]  /blah.php
_SERVER["PHP_SELF"] /blah.php
_SERVER["REQUEST_TIME"] 1345530517

PHP License

This program is free software; you can redistribute it and/or modify it under the terms of the PHP License as published by the PHP Group and included in the distribution in the file: LICENSE

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

If you did not receive a copy of the PHP license, or have any questions about PHP licensing, please contact license@php.net.

ABOVE is the output from phpinfo()...   Please note that I down graded the version of PHP to 5.3.16 as this is the version our production server is getting upgraded to in the next few days (I wasn't told this until just now). 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T17:50:02.817

我使用它...在每个受影响的文件中都有一个速记 \<\? 不是一个完整的\<\?php。

我认为更改发生在 PHP 4.x 和 5.x 之间，所以当我确实寻找它们时，我没有检查每一个参考文献，我没有检查每一个，并且至少有一个偷偷摸摸的一个很难看到的地方，因为代码不是很干净。

所以感谢大家的有用答案和评论！！！我们可以将其注销为已解决。

谢谢拉斯

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T04:36:43.607

5.2 is just as strict when it comes to syntax, might just be your "local server" configuration have you tried to put your code on another production server ( i have made the switch and there was nothing that went haywire with my code)

# pentaho - 如何等待前面的步骤完成

> ID：12048481
> 
> 赞同：1
> 
> 时间：2012-08-21T04:33:15.010
> 
> 标签：pentaho, etl, kettle

我正在用 Pentaho 的勺子设计一个 ETL。

![ETL 流程](../Images/31fd1b6e98ea87a80cae2a4d9b2ffe9a.png)

我的目的是在“加载到数据库”和“更新数据库”之后执行“计算值”。

应该用什么步骤来代替'??? 等一下' ?

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T11:46:58.840

代替 ？？？使用虚拟步骤等待。然后在那之后有一个“步骤中的块行”

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-27T09:18:17.270

您可以将“计算值”步骤移动到新的转换中，并在第一次转换完成后创建一个作业来执行此操作。

# java - Hibernate：用户类型与字段/属性访问

> ID：12048484
> 
> 赞同：0
> 
> 时间：2012-08-21T04:33:59.650
> 
> 标签：java, hibernate

在书中`Java Persistence with Hibernate`，它讨论了以下使用 a 的用例`UserType`：

我们需要将货币金额存储在数据库中，但用户可以使用任何货币。因此，我们在将金额存储到数据库之前将其“标准化”为美元，并使用一种`UserType`实现，在存储之前将金额转换为美元，并在从数据库中读取它之后但在将其返回给用户之前将其转换为用户指定的货币。

我可以想到另外两种方法来做到这一点：

1) 使用 Hibernate 的字段访问来存储/读取数据库，并使用公共 getter/setter 进行转换，

2) 为 Hibernate 创建一对将使用 USD 的私有 getter/setter，以及一个用于用户必要转换的公共 getter/setter。

这些方法与 using 相比如何`UserType`？还有其他优点`UserType`吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T08:00:47.997

作为一般的经验法则，我会说这`UserType`适用于相当技术性的问题，而模型中的代码应该关注领域问题。

[Hibernate](http://i-proving.com/2005/08/03/user-types-in-hibernate/)中的Imo用户类型展示了一些很好的例子来解决技术转换问题，比如 int-to-Date 等等，这些都很好地放置在`UserType`.

关于您给出的货币示例，我想说它在很大程度上取决于具体情况，如果 a`UserType`是合适的。货币转换问题可能会变得非常复杂，我宁愿认为这些是领域问题，因此将相应的代码放在模型中，而不是将其埋在`UserType`.

`UserType`上述示例的可能缺点：

*   它错过了转化率的动态特性。考虑一个银行应用程序：当我的账户余额为 75 欧元时，我实际上有该金额为欧元，而不是在给定时间点转换为美元的欧元金额。当欧元兑美元汇率下降时，我将拥有更少的美元，反之亦然。

可能的优势：

*   您可以轻松地在查询级别运行比较，例如查找最高/最低金额的记录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T08:07:58.583

书籍示例通常很差。并不是说这本书本身很差。例如，我认为 Java Persistence with Hibernate 是目前最好的 Hibernate 书籍。但是示例必须简洁且独立，因此与现实世界有些距离。

如果我没记错的话，这个例子只是为了演示如何使用 UserType，它展示了它的很多特性（特别是“回读”部分）。用例本身并不重要。所以，我会完全抽象他们提出的用例。

对于这种特殊情况，如果您需要在数据库中存储货币，我建议您查看[Joda Money](http://joda-money.sourceforge.net/userguide.html)。它们提供了一些现成的 JPA 用户类型，因此您无需担心。是的，您不想在 JPA 实体中保留货币之间的实时转换。我有一个 EJB 服务来做到这一点。

# c - 从 SIMD SSE 内在指令转换为等效的 c 代码

> ID：12048499
> 
> 赞同：1
> 
> 时间：2012-08-21T04:36:21.910
> 
> 标签：c, sse

我得到了将 SIMD SSE 指令转换为等效 C 代码的任务...代码是这样的（I1_block_addr-- 是 uint8_t，esc_offset_1 是 32 位整数。）

```
 __m128i xmm1 = _mm_load_si128((__m128i*)(I1_block_addr+desc_offset_1));
      __m128i xmm6 = _mm_load_si128((__m128i*)(I2_block_addr+desc_offset_1));

       xmm6 = _mm_sad_epu8(xmm1,xmm6); 
```

我所做的是

```
 char *c1;
 char xmm1[16],xmm6[16];
 short xmm6s[16]

 //for loding 16 byte 
  c1=( char* )( I1_block_addr + desc_offset_1 );
  memcpy( xmm1 , c1 , 16 ); 

  c1=( char* )( I2_block_addr + desc_offset_1 );
  memcpy( xmm6 , c1 , 16 ); 

 xmm6s[0] = (short) ( abs(xmm1[0]-xmm6[0]) + abs(xmm1[1]-xmm6[1]) + abs(xmm1[2]-xmm6[2]) + abs(xmm1[3]-xmm6[3]) + abs(xmm1[4]-xmm6[4]) + abs(xmm1[5]-xmm6[5]) + 
            abs(xmm1[6]-xmm6[6]) + abs(xmm1[7]-xmm6[7]) );

xmm6s[1] = 0;   xmm6s[2] = 0;   xmm6s[3] = 0;   

xmm6s[4] = (short) ( abs(xmm1[8]-xmm6[8]) + abs(xmm1[9]-xmm6[9]) +    abs(xmm1[10]-xmm6[10]) + abs(xmm1[11]-xmm6[11]) + abs(xmm1[12]-xmm6[12]) + 
abs(xmm1[13]-xmm6[13]) + abs(xmm1[14]-xmm6[14]) + abs(xmm1[15]-xmm6[15]) );

xmm6s[5] = 0;   xmm6s[6] = 0;   xmm6s[7] = 0; 
```

我没有收到任何错误，但图像质量正在下降。请告诉代码的哪一部分是错误的以及如何纠正它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T05:14:21.063

代码看起来或多或少没问题 - 我认为您只需要将 char/short 类型更改为适当的无符号类型：

```
#include <stdint.h>

uint8_t *c1;
uint8_t xmm1[16], xmm6[16];
uint16_t xmm6s[8];

c1 = I1_block_addr + desc_offset_1;
memcpy(xmm1, c1, 16); 

c1 = I2_block_addr + desc_offset_1;
memcpy(xmm6, c1, 16); 

xmm6s[0] = (uint16_t) ( abs(xmm1[0]-xmm6[0]) + abs(xmm1[1]-xmm6[1]) + abs(xmm1[2]-xmm6[2]) + abs(xmm1[3]-xmm6[3]) + 
                        abs(xmm1[4]-xmm6[4]) + abs(xmm1[5]-xmm6[5]) + abs(xmm1[6]-xmm6[6]) + abs(xmm1[7]-xmm6[7]) );

xmm6s[1] = xmm6s[2] = xmm6s[3] = 0;   

xmm6s[4] = (uint16_t) ( abs(xmm1[8]-xmm6[8]) + abs(xmm1[9]-xmm6[9]) + abs(xmm1[10]-xmm6[10]) + abs(xmm1[11]-xmm6[11]) + 
                        abs(xmm1[12]-xmm6[12]) + abs(xmm1[13]-xmm6[13]) + abs(xmm1[14]-xmm6[14]) + abs(xmm1[15]-xmm6[15]) );

xmm6s[5] = xmm6s[6] = xmm6s[7] = 0; 
```

# mysql - What does #__ mean at the beginning of a table name in a Joomla mysql query?

> ID：12048505
> 
> 赞同：0
> 
> 时间：2012-08-21T04:37:22.587
> 
> 标签：mysql, joomla, query-builder

I have a mysql query that looks like this `$query="SELECT * FROM #__content"`.

What does the `#__` at the start of the table name mean?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T04:42:21.263

`#__`是您的表格的前缀

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T04:50:01.157

`#__`只是数据库表前缀，并在您的 configuration.php 中定义

如果没有定义，人们将不得不手动将他们的前缀输入到每个需要访问数据库的扩展中，你可以想象这会很烦人。

因此，例如，如果您的数据库表前缀是`j25`，那么：

`#__content`=`j25_content`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T06:31:37.787

正如其他人所说，哈希下划线序列“#_”是 Joomla! 的 JDatabase 类用于表名的前缀。（*注意只有一个下划线，第二个下划线保留为表名的可读性。）*

当您第一次设置 Joomla！您可以选择设置前缀或使用当时随机生成的前缀。您可以在此处阅读有关[如何检查前缀的信息](http://docs.joomla.org/How_to_determine_your_database_prefix)。

当您使用 JDatabase 类访问数据库时，它为您提供了一种抽象机制，以便您可以与 Joomla 使用的数据库进行交互，而无需专门为 MySQL、MSSQL 或 PostgreSQL 等编写代码。

当 JDatabase 在执行查询之前准备好查询时，它会使用Joomla! 时设置的前缀替换查询段中的`#_`任何出现。`from`已安装。例如

```
 // Get the global DB object.        
    $db = JFactory::getDBO();
    // Create a new query object.       
    $query = $db->getQuery(true);
    // Select some fields
    $query->select('*');

    // Set the from From segment
    $query->from('#__myComponents_Table'); 
```

稍后当您执行查询时，JDatabase 会将`from`SQL 的段从

`from #__myComponents_Table`至

`from jp25_myComponents_Table`— 如果前缀是`jp25`，在执行之前。

# log4javascript - 如何使用有效负载而不是 log4javascript 的表单数据

> ID：12048507
> 
> 赞同：3
> 
> 时间：2012-08-21T04:37:45.217
> 
> 标签：log4javascript

我受到网络服务的限制：它需要一个 json-payload！

所以，做类似的事情

```
var ajaxAppender = new log4javascript.AjaxAppender("clientLogger");
var jsonLayout = new log4javascript.JsonLayout();
ajaxAppender.setLayout(jsonLayout);
log.addAppender(ajaxAppender); 
```

不起作用，因为它在表单集合（`data`和`layout`）中创建了两个键。

如何使用内置选项获取 json-payload？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-21T04:37:45.217

我创建了一个*JsonAppender*

```
function JsonAppender(url) {
    var isSupported = true;
    var successCallback = function(data, textStatus, jqXHR) { return; };
    if (!url) {
        isSupported = false;
    }
    this.setSuccessCallback = function(successCallbackParam) {
        successCallback = successCallbackParam;
    };
    this.append = function (loggingEvent) {
        if (!isSupported) {
            return;
        }
        $.post(url, {
            'logger': loggingEvent.logger.name,
            'timestamp': loggingEvent.timeStampInMilliseconds,
            'level': loggingEvent.level.name,
            'url': window.location.href,
            'message': loggingEvent.getCombinedMessages(),
            'exception': loggingEvent.getThrowableStrRep()
        }, successCallback, 'json');
    };
}

JsonAppender.prototype = new log4javascript.Appender();
JsonAppender.prototype.toString = function() {
    return 'JsonAppender';
};
log4javascript.JsonAppender = JsonAppender; 
```

像这样使用

```
var logger = log4javascript.getLogger('clientLogger');
var jsonAppender = new JsonAppender(url);
logger.addAppender(jsonAppender); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-10T10:42:46.447

根据 log4javascript 的更改日志，在 1.4.5 版本中，如果 Log4Javascript 发送的详细信息足够，则不再需要编写自定义 appender。

> 1.4.5 (20/2/2013) - 更改 AjaxAppender 以在 content-type 不是“application/x-www-form-urlencoded”时发送原始数据而不是 URL 编码的表单数据 [https://github.com/DECK36 /log4javascript/blob/master/changelog.txt](https://github.com/DECK36/log4javascript/blob/master/changelog.txt)

只需将“Content-Type”标头添加到 AjaxAppender 并将其设置为“application/json”就足够了

```
ajaxAppender.addHeader("Content-Type", "application/json;charset=utf-8"); 
```

使用 fiddler 进行的快速测试显示 log4javascipt 发送了一个对象**集合**。这是有效载荷的示例：

```
[{
    "logger": "myLogger",
    "timestamp": 1441881152618,
    "level": "DEBUG",
    "url": "http://localhost:5117/Test.Html",
    "message": "Testing message"
}] 
```

# java - Java 线程设计

> ID：12048509
> 
> 赞同：1
> 
> 时间：2012-08-21T04:37:47.827
> 
> 标签：java, multithreading

我有处理繁重任务的线程应用程序，我想根据外部标志信息触发强制停止线程。我尝试过以下设计，

```
public class HeavyTaskThread implements Runnable
{
   private boolean forceStop;

   public void run()
   {
     ..
     ..
     ..
     ..
   }
} 
```

另一个事实是我无法控制方法中实现的逻辑流程`run()`；它只是调用一些第三方程序。我正在尝试使用轻型内部线程类并在父线程上调用方法`interrupt()`，但这不起作用。

请建议任何模式....

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T05:17:48.120

处理您无法控制的第三方代码活动的推荐方法是将其作为不同的进程启动。然后在需要强制停止代码时简单地终止进程。它比杀死线程更干净和安全，因为它不会影响父进程并且操作系统会负责清理任务。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T04:51:03.317

如果第三方程序不响应中断或设置条件，一个讨厌的选项是尝试通过将键变量置空、关闭套接字或文件等来杀死它。并希望它优雅地终止。就像我说的，讨厌，但有时你必须做你必须做的事......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T04:44:43.167

如果您调用的任何第三方程序`run()`永远不会返回，那么您就不走运了。如果它定期返回，你可以让它循环，检查一个 volatile`forceStop`布尔值并在它为真时退出循环：

```
private volatile boolean forceStop;

public void run()
{
    while(!forceStop) {
        ..
        ..
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-21T06:17:35.207

虽然我会投票支持都铎王朝的答案，但极端情况下，如果你很绝望：

### 选项 A - 重建问题代码。

*   使用您[最喜欢的 java 反编译器](http://jadclipse.sourceforge.net/wiki/index.php/Main_Page)并重新创建问题类。

*   将检查添加`Thread.currentThread().isInterrupted()`到`run`.

*   编译，将修改后的类放在类路径中的原始库之前。

*   如果原始 jar 已签名，您可能必须消除相关的签名工件。

### 选项 B - 方面 J

*   检查方法的源代码，如有必要`run`，使用您[最喜欢的 java 反编译器。](http://jadclipse.sourceforge.net/wiki/index.php/Main_Page)

*   在内部循环中确定一个合理的点，以便介入和停止。

*   检查代码中的异常处理。有什么漏洞吗？

*   注入代码：根据需要抛出异常、捕获异常等，从`run`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-21T19:49:22.987

这是最终的分析......用于杀死线程。

1.  使用线程来控制程序 B 的执行。但是不允许通过线程停止进程，因为相关方法已被弃用（停止/暂停等）

2.  使用 ThreadGroup（只有一个线程作为其成员）并在组上调用“销毁”。但它再次落在同一轨道上，因为在尝试销毁操作之前应该停止每个线程。

3.  Process/ProcessBuilder via Runtime 似乎是获取进程引用并调用destroy()、waitFor() 等的更好方法，正如用户*@Tudor*提到的那样。

这是我尝试过的确切概述的代码，它无法杀死，注释行 while(isValid()) 代表我的另一个 java 程序调用。

```
 import java.util.ArrayList;
    import java.util.Collection;
    import java.util.Date;
    import java.util.List;
    import java.util.concurrent.Callable;
    import java.util.concurrent.CompletionService;
    import java.util.concurrent.ExecutionException;
    import java.util.concurrent.ExecutorCompletionService;
    import java.util.concurrent.Executors;
    import java.util.concurrent.Future;
    import java.util.concurrent.TimeUnit;

    class TaskWorker implements Callable {
        private final int number;

        public TaskWorker(int number) {
            this.number = number;
        }

        public Boolean call() throws InterruptedException {
            while (!Thread.currentThread().isInterrupted()) {
                myBusyFunction();
            }
            return true;
        }

        private boolean isValid() {
            return true;
        }

        private void myBusyFunction() {
            //while (isValid()) {
            System.out.println(number + ">....Working.....");
            //}
        }
    }

    public class Test {
        public static void main(final String[] args) {
            CompletionService cs = new ExecutorCompletionService(Executors.newFixedThreadPool(1));
            Collection tasks = new ArrayList(10);
            tasks.add(new TaskWorker(1));
            List> futures = new ArrayList>(tasks.size());
            try {
                for (Callable task : tasks) {
                    futures.add(cs.submit(task));
                }
                //----
                for (int t = 0; t  result = cs.poll(10, TimeUnit.SECONDS);
                    if (result == null) {
                        System.out.println(new Date() + ":Worker Timedout:");
                        //So lets cancel the first futures we find that havent completed
                        for (Future future : futures) {
                            System.out.println("Checking future");
                            if (future.isDone()) {
                                continue;
                            } else {
                                future.cancel(true);
                                System.out.println("Cancelled");
                                break;
                            }
                        }
                        continue;
                    } else {
                        try {
                            if (result.isDone() && !result.isCancelled() && result.get()) {
                                System.out.println(new Date() + ":Worker Completed:");
                            } else if (result.isDone() && !result.isCancelled() && !result.get()) {
                                System.out.println(new Date() + ":Worker Failed");
                            }
                        } catch (ExecutionException ee) {
                            ee.printStackTrace(System.out);
                        }
                    }
                }
            } catch (InterruptedException ie) {
            } finally {
                //Cancel by interrupting any existing tasks currently running in Executor Service
                for (Future f : futures) {
                    f.cancel(true);
                }
            }
            System.out.println(new Date() + ":Done");
        }
    } 
```

# c# - 如何查看我的表单当前是否位于其他表单之上？

> ID：12048511
> 
> 赞同：5
> 
> 时间：2012-08-21T04:38:29.100
> 
> 标签：c#, winforms, topmost

基本上，我如何判断我的程序是否在所有其他程序之上？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-21T04:42:21.360

一个相当简单的方法是 P/Invoke [GetForegroundWindow()](http://msdn.microsoft.com/en-us/library/ms633505%28VS.85%29.aspx)并比较返回到应用程序的 form.Handle 属性的 HWND。

```
using System;
using System.Runtime.InteropServices;

namespace MyNamespace
{
    class GFW
    {
        [DllImport("user32.dll")]
        private static extern IntPtr GetForegroundWindow();

        public bool IsActive(IntPtr handle)
        {
            IntPtr activeHandle = GetForegroundWindow();
            return (activeHandle == handle);
        }
    }
} 
```

然后，从您的表格中：

```
if (MyNamespace.GFW.IsActive(this.Handle))
{
  // Do whatever.
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T05:00:07.260

*您可以使用：*

```
if (GetForegroundWindow() == Process.GetCurrentProcess().MainWindowHandle)
{
     //do stuff
} 
```

WINAPI 导入（在类级别）：

```
[System.Runtime.InteropServices.DllImport("user32.dll")] public static extern bool GetForegroundWindow(); 
```

分配一个属性来保存该值，并通过 IDE 或在 InitializeComponent() 之后将检查添加到表单的 GotFocus 事件；

例如：

```
//.....
InitalizeComponent();
this.GotFocus += (myFocusCheck);
//...

private bool onTop = false;

private void myFocusCheck(object s, EventArgs e)
{
    if(GetFore......){ onTop = true; }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-23T07:46:45.503

如果你的窗口继承了表单，你可以检查 Form.Topmost 属性

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-15T19:06:50.360

这个答案给出了一个很好的解决方案： [https ://stackoverflow.com/a/7162873/386091](https://stackoverflow.com/a/7162873/386091)

```
/// <summary>Returns true if the current application has focus, false otherwise</summary>
public static bool ApplicationIsActivated()
{
    var activatedHandle = GetForegroundWindow();
    if (activatedHandle == IntPtr.Zero) {
        return false;       // No window is currently activated
    }

    var procId = Process.GetCurrentProcess().Id;
    int activeProcId;
    GetWindowThreadProcessId(activatedHandle, out activeProcId);

    return activeProcId == procId;
}

[DllImport("user32.dll", CharSet = CharSet.Auto, ExactSpelling = true)]
private static extern IntPtr GetForegroundWindow();

[DllImport("user32.dll", CharSet = CharSet.Auto, SetLastError = true)]
private static extern int GetWindowThreadProcessId(IntPtr handle, out int processId); 
```

如果您的程序显示对话框或具有可拆卸的窗口（例如，如果您使用 Windows 对接框架），Euric 当前接受的解决方案将不起作用。

# c# - MVC + 将 javascript 变量值传递给 Ajax Action 链接

> ID：12048512
> 
> 赞同：0
> 
> 时间：2012-08-21T04:38:35.313
> 
> 标签：c#, asp.net-mvc, facebook

我有一个获取我的 facebook 'uid' 和 'accesstoken' 的 javascript，有没有一种方法可以在触发时将这些值传递给我的 Ajax ActionLink，以便我可以重定向到接受 2 参数的我的 'Publish' 控制器。谢谢。

```
<script type="text/javascript">

    var uid = 0;
    var accesstoken = '';

    function grantPermission() {
        window.FB.login(function (response) {
            if (response.authResponse) {
                uid = response.authResponse.userID;
                accesstoken = response.authResponse.accessToken;
                var postData = { facebookUID: uid, facebookAccessTok: accesstoken };
                $.ajax({
                    url: '@Url.Action("Index","Tab")',
                    type: 'POST',
                    data: postData,
                    dataType: 'json',
                    success: function (response) {
                        // process the results from the controller action
                        // window.location.href = response.Url;
                    }
                });
            } else {
                console.log('User cancelled login or did not fully authorize.');
                alert('User cancelled login');
            }
        }, { scope: 'publish_stream' });
    };
</script>

      <html>
    <head>
        <title>Facebook Login Authentication Example</title>
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"> </script>

    </head>
    <body>

        <h1>Facebook Login Authentication</h1>
        <br/>

        @Ajax.ActionLink("Proceed", "Publish", "Tab",
        new { id = "auth-loginlink" },
        new AjaxOptions{UpdateTargetId = "DynamicContainer",
                        InsertionMode=InsertionMode.Replace,
                        HttpMethod="POST",
                        OnSuccess = "grantPermission()" 
        })

        <br/><br/>

        <div id="DynamicContainer" style="border: 1px solid #C0C0C0; padding: 1px; width: 500px; height: 400px"></div>

    </body>
</html> 
```

发布控制器：

```
public PartialViewResult Publish( string accTok, string fullImgPath)
    {
        if (accTok != null && fullImgPath != null)
        {
             UploadPhoto(accTok, fullImgPath);
            // PostToWall(accTok, fullPath);
             return PartialView("BlurredPhoto");
        }
        return PartialView("Blank");
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T06:09:46.387

This should work, if the IndexAction on the TabController accepts two parameters and they are actually named facebookUID and facebookAccessTok.

# ruby-on-rails - 在 Postgres 迁移后 Heroku “我们很抱歉，但出了点问题”

> ID：12048515
> 
> 赞同：0
> 
> 时间：2012-08-21T04:38:58.150
> 
> 标签：ruby-on-rails, database, heroku, crash, migration

我最近做了 Heroku 请求的从“共享数据库”到 Postgres 的数据库迁移。我仔细按照 Heroku 的指示，一切都很好，直到最后一步：删除旧的共享数据库。那时，我的应用程序因“出现问题”消息而停机，此后一直停机（现在持续两周）。

请注意，在我切换到新数据库的步骤之后，该应用程序仍在工作，并且根据“heroku config”，它正在使用新数据库。它不应该关心旧的消失。日志只说 500 个错误。

我向 Heroku 提交了紧急支持请求，但他们没有帮助。他们只是说我的数据仍然存在，但是，“您的应用程序没有记录，所以不清楚为什么会发生这种情况，但似乎不是由于迁移。” 那是一周前的事了，所以看起来他们不会再做任何事情了。

我同意问题不应该是由于迁移造成的，但鉴于除了迁移之外我没有对应用程序进行任何更改，并且它在我删除旧数据库时就死了，我看不出还有什么可能。

此时我的应用程序可能已经很旧了（Rails 3.0.3），所以我现在唯一的想法是将所有内容更新到最新版本并重新部署。该应用程序用于记录我们当地童子军部队的功绩徽章和排名进步，所以我真的需要让它再次运行。任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T04:44:03.107

我的第一直觉是 db:pull heroku 托管数据库。（复印）。

然后尝试在本地启动您的应用程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-22T16:21:32.207

Heroku 已经解决了这个问题。我的假设是正确的：我的应用程序太旧了，以至于迁移过程实际上并没有更新它以使用新数据库。他们说他们现在将把修复应用到他们的其他旧应用程序中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T16:12:13.520

If the app started failing the moment you removed the shared database, it means that your app was still connected to this database and was never connecting to the new one. It sounds to me like you did not run `heroku pg:promote HEROKU_POSTGRESQL_<color of new database> --app <your-app>`. Can you try that?

Edit:

Based on the further info provided in your comments, it's possible that this is a potential issue in the aspen and bamboo stacks (that only affect a few customers). The thing to try now is a new deploy. Try making a trivial change - maybe a newline in your project README - and deploy the app again. This will force a slug recompile that will write out a new database.yml using the correct DB.

Even better would be to migrate to the cedar stack though

# google-chrome - 管理（订购）chrome 扩展

> ID：12048516
> 
> 赞同：1
> 
> 时间：2012-08-21T04:39:02.813
> 
> 标签：google-chrome, google-chrome-extension

除了 UI 中提供的有限功能之外，还有其他方法可以订购 chrome 扩展吗？问题是在 UI 中，您无法在下拉列表/溢出区域中订购项目。我看过编写扩展，但`management.ExtensionInfo`通过 api 返回的对象`chrome.management`不包含该位置。具有该位置的编辑`~/.config/google-chrome/Default/Preferences`也不起作用。

# iphone - iPhone设备上的奇怪崩溃

> ID：12048518
> 
> 赞同：0
> 
> 时间：2012-08-21T04:39:17.030
> 
> 标签：iphone, objective-c, ios

我只是第一次将我的应用程序上传到设备并且它崩溃了。它不会在 iOS 模拟器上崩溃，但在实际设备上会崩溃，

这是我得到的错误：

```
AudioStreamBasicDescription:  2 ch,  44100 Hz, 'lpcm' (0x00000C2C)
8.24-bit little-endian signed integer, deinterleaved 
2012-08-20 21:27:50.242 OGLGame[11058:707] ( 0   CoreFoundation                  
0x30f588a7 __exceptionPreprocess + 186 1   libobjc.A.dylib            
0x36029259 objc_exception_throw + 32 2   CoreFoundation               
0x30f58789 +[NSException raise:format:] + 0 3   CoreFoundation        
0x30f587ab +[NSException raise:format:] + 34 4   CoreFoundation       
0x30ec568b -[__NSCFDictionary setObject:forKey:] + 234 5   OGLGame    
0x0009bce7 -[SingletonSoundManager loadBackgroundMusicWithKey:fileName:fileExt:] + 130 6   OGLGame       
0x00095df5 -[EAGLView initGame] + 816 7   OGLGame                     
0x00095a05 -[EAGLView initWithCoder:] + 1156 8   UIKit                
0x318f2c13 -[UIClassSwapper initWithCoder:] + 218 9   UIKit           
0x31961b1b UINibDecoderDecodeObjectForValue + 1778 10  UIKit          
0x31961423 -[UINibDecoder decodeObjectForKey:] + 90 11  UIKit         
0x318f2839 -[UIRuntimeConnection initWithCoder:] + 152 12  UIKit      
0x31961b1b UINibDecoderDecodeObjectForValue + 1778 13  UIKit          
0x319616bb UINibDecoderDecodeObjectForValue + 658 14  UIKit           
0x31961423 -[UINibDecoder decodeObjectForKey:] + 90 15  UIKit         
0x318f1fc5 -[UINib instantiateWithOwner:options:] + 664 16  UIKit     
0x318f3861 -[NSBundle(UINSBundleAdditions) loadNibNamed:owner:options:] + 136 17  UIKit                          
0x31829385 -[UIApplication _loadMainNibFileNamed:bundle:] + 36 18 UIKit
0x316b26eb -[UIApplication _loadMainInterfaceFile] + 222 19  UIKit                               
0x316ac72f -[UIApplication _runWithURL:payload:launchOrientation:statusBarStyle:statusBarHidden:] + 234 20  UIKit
0x3167aac3 -[UIApplication handleEvent:withNewEvent:] + 1010 21  UIKit 
0x3167a567 -[UIApplication sendEvent:] + 54 22  UIKit                 
0x31679f3b _UIApplicationHandleEvent + 5826 23  GraphicsServices      
0x312ee22b PurpleEventCallback + 882 24  CoreFoundation               
0x30f2c523 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 38 25  CoreFoundation                      
0x30f2c4c5 __CFRunLoopDoSource1 + 140 26  CoreFoundation                      
0x30f2b313 __CFRunLoopRun + 1370 27  CoreFoundation                   
0x30eae4a5 CFRunLoopRunSpecific + 300 28  CoreFoundation              
0x30eae36d CFRunLoopRunInMode + 104 29  UIKit                         
0x316ab86b -[UIApplication _run] + 550 30  UIKit                      
0x316a8cd5 UIApplicationMain + 1080 31  OGLGame                       
0x00095475 main + 168 32  OGLGame                            
0x000953c8 start + 40 ) 
```

有谁知道这个崩溃是在哪里引起的？

谢谢你。

# java - 如何在java中匹配最大长度的正则表达式

> ID：12048524
> 
> 赞同：1
> 
> 时间：2012-08-21T04:39:49.767
> 
> 标签：java, regex

```
public static void main(String[] args) {

        Pattern compile = Pattern
                .compile("[0-9]{1,}[A-Za-z]{1,}|[A-Za-z][0-9]{1,}|[a-zA-Z][a-zA-Z0-9\\.\\-_/#]{2,}|[0-9]{3,}[A-Za-z][a-zA-Z0-9\\.\\-_/#]*|[0-9][0-9\\-]{4,}|[0-9][0-9\\-]{3,}[a-zA-Z0-9\\.\\-_/#]+");
        Matcher matcher = compile.matcher("i5-2450M");
        matcher.find();
        System.out.println(matcher.group(0));
    } 
```

我认为这应该返回`i5-2450M`，但`i5`实际上返回

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T04:49:00.730

问题是使用了匹配的*第一个*交替。

在这种情况下，第二个交替（`[A-Za-z][0-9]{1,}`匹配`i5`）“阴影”任何后续交替。

```
// doesn't match
[0-9]{1,}[A-Za-z]{1,}|
// matches "i5"
[A-Za-z][0-9]{1,}|
// the following are never even checked, because of the previous match
[a-zA-Z][a-zA-Z0-9\\.\\-_/#]{2,}|
[0-9]{3,}[A-Za-z][a-zA-Z0-9\\.\\-_/#]*|
[0-9][0-9\\-]{4,}|
[0-9][0-9\\-]{3,}[a-zA-Z0-9\\.\\-_/#] 
```

* * *

（请注意，帖子中的正则表达式可能存在严重问题——例如，`0---#`将与最后一条规则匹配——应该解决，但由于不是交替行为。）

要解决此问题，请先安排*最具体*的交替。在这种情况下，它将把第二个交替放在其他交替条目的下方。（还要查看其他的替换和交互；也许整个正则表达式可以简化？）

使用简单的单词边界 ( `\b`) 在这里不起作用，因为`-`它被视为非单词字符。但是，根据正则表达式的含义，锚点 (`$`和`^`) 可以用于交替：例如`^existing_regex$`. 这不会改变交替的行为，但*会*导致回溯初始匹配`i5`，从而导致考虑后续的交替条目，因为无法在交替之后立即匹配输入结束团体。

* * *

来自[Java 正则表达式交替运算符“|” 行为似乎坏了](https://stackoverflow.com/questions/4515309/java-regex-alternation-operator-behavior-seems-broken)：

> Java 使用 NFA 或正则表达式导向风格，如 Perl、.NET、JavaScript 等，与 sed、grep 或 awk 不同。*一旦其中一个备选方案匹配*，预计将退出，而不是坚持最长的匹配。

（此问题中接受的答案使用单词边界。）

从[模式](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html)：

> Pattern 引擎使用Perl 5 中*的有序交替*执行传统的基于 NFA 的匹配。

# iphone - 如何限制平移手势区域？

> ID：12048525
> 
> 赞同：6
> 
> 时间：2012-08-21T04:39:57.567
> 
> 标签：iphone, objective-c, uiimageview, uigesturerecognizer, uipangesturerecognizer

我有我`UIImageView`的另一个`UIView`矩形。通过对`UIView`矩形应用平移手势，它也会超出`UIImageView`。我不想被拖到外面`UIImageView`

我试过下面的代码，但它不是那样工作的

```
-(void)handleMovementView:(UIPanGestureRecognizer *)recognizer
{
    CGPoint movement;

    if(recognizer.state == UIGestureRecognizerStateBegan || recognizer.state == UIGestureRecognizerStateChanged || recognizer.state == UIGestureRecognizerStateEnded)
    {
        CGRect rec = recognizer.view.frame;
        CGRect imgvw = self.imgViewCrop.frame;
        if((rec.origin.x >= imgvw.origin.x && (rec.origin.x + rec.size.width <= imgvw.origin.x + imgvw.size.width)))
        {
            CGPoint translation = [recognizer translationInView:recognizer.view.superview];
            movement = translation;
            recognizer.view.center = CGPointMake(recognizer.view.center.x + translation.x, recognizer.view.center.y + translation.y);
            [recognizer setTranslation:CGPointZero inView:recognizer.view.superview];
            [self handleMovementForHandlers:movement];
        }
    }

} 
```

如果我缓慢应用 Pan 它会应用此条件，但是当我快速应用时它会超出 ImageView

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-10-31T07:32:10.710

而不是手动计算点是否在视图的范围内，使用`CGRectContainsPoint(rect, point)`. 这对我有用，我喜欢它，因为它更短且更具可读性：

```
func handlePan(pan: UIPanGestureRecognizer) {
    switch pan.state {
    case .Began:
        if CGRectContainsPoint(self.pannableView.frame, pan.locationInView(self.pannableView)) {
            // Gesture started inside the pannable view. Do your thing.
        }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T06:31:15.977

试试这个

```
-(void)handleMovementView:(UIPanGestureRecognizer *)recognizer
{
CGPoint movement;

if(recognizer.state == UIGestureRecognizerStateBegan || recognizer.state == UIGestureRecognizerStateChanged || recognizer.state == UIGestureRecognizerStateEnded)
{
    CGRect rec = recognizer.view.frame;
    CGRect imgvw = self.imgViewCrop.frame;
    if((rec.origin.x >= imgvw.origin.x && (rec.origin.x + rec.size.width <= imgvw.origin.x + imgvw.size.width)))
    {
        CGPoint translation = [recognizer translationInView:recognizer.view.superview];
        movement = translation;
        recognizer.view.center = CGPointMake(recognizer.view.center.x + translation.x, recognizer.view.center.y + translation.y);
        rec = recognizer.view.frame;

        if( rec.origin.x < imgvw.origin.x )
            rec.origin.x = imgvw.origin.x;

        if( rec.origin.x + rec.size.width > imgvw.origin.x + imgvw.size.width )
            rec.origin.x = imgvw.origin.x + imgvw.size.width - rec.size.width;

        recognizer.view.frame = rec;

        [recognizer setTranslation:CGPointZero inView:recognizer.view.superview];
        [self handleMovementForHandlers:movement];
    }
}
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-09-17T19:41:11.287

扩展@Matt Quiros 的答案，并在**Swift 3 / 4**中：

```
func shouldRespondToGesture(_ gesture: UIGestureRecognizer, in frame: CGRect) -> Bool {
    return gesture.state == .began && frame.contains(gesture.location(in: self.view))
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-24T13:22:11.940

首先获取识别器（平移手势识别器）的坐标（CGRect），然后获取 ImageView（Your ImageView）的坐标（CGRect）。

然后根据您的要求比较这个坐标。

如果您仍然遇到任何问题，请记录图像视图和识别器的 x 和 y 值。

# css - Internet Explorer 兼容 WebKit 的样式表？

> ID：12048527
> 
> 赞同：1
> 
> 时间：2012-08-21T04:40:11.507
> 
> 标签：css, internet-explorer, webkit

我正在开发基于 WebKit 的浏览器，但在 IE 上无法正确呈现 - 仅限网站。有谁知道我可以注入这些页面以使 WebKit 像 IE6 一样呈现的样式表？有点像反[ie7-js](http://code.google.com/p/ie7-js/)。

我知道正确的解决方案是使网站符合标准，但这不在我的控制之下。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:42:48.160

`!DOCTYPE`如果没有指定，一个好的开始是实现 IE 的 Quirks 模式。除此之外，您还可以支持`X-UA-Compatible`标题以查看该站点是否是为特定版本的 IE 设计的。

除此之外，你无能为力。由网站所有者决定“嘿，我们实际上希望用户能够使用我们的网站”并实际上使其符合标准。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T07:01:22.437

让 IE6 呈现如此不同的三个主要因素：

*   错误
*   缺少功能
*   怪癖模式

您将永远无法（也不应该）尝试在较新的浏览器中复制 IE6 的错误。IE6 的 bug 堪称传奇。无论如何，您可能有技巧和变通方法来处理它们，但很高兴您正在继续前进并远离它们。

IE 缺少的功能对您来说应该不是问题，因为您的代码不会使用它们。没什么可担心的。显然，如果您为较新的浏览器编写站点，但不是为您编写的站点，这将是一个问题。

您要担心的这三个要点是第三个：与其他浏览器相比，Quirks 模式是真正破坏旧版本 IE 中页面呈现的模式。

`<!DOCTYPE>`正确的解决方案是在页面顶部使用有效的。IE 将进入标准模式，并将呈现与所有其他浏览器相同的内容。如果您的页面是为 quirks 模式设计的，那么您可能必须对其进行修复，但这可能是正确的做法，并且至少渲染模式在所有浏览器之间是一致的。

一个好的文档类型是`!<DOCTYPE html>`.

如果您不指定 doctype，那么您将遇到很多兼容性问题。

有一个快速的出路：有一个名为`box-sizing: border-box`. 如果您在您的站点中设置此 CSS 属性，那么 Webkit 和其他浏览器将切换到呈现与 IE 的怪癖模式相同的框。

这听起来像是一个理想的解决方案，也是对您问题的直接回答，那么问题是什么？与往常一样，问题是 IE。尝试在`box-sizing`不修复问题的情况下使用 CSS`<!DOCTYPE>`仍然会给您留下不兼容的区域，如果您确实修复了`<!DOCTYPE>`，那么 IE6 将根本不会以怪癖模式呈现。它应该是解决方案，但实际上，`box-sizing`仍然会给您留下需要解决的问题。

所以我再说一遍，正确的解决方案是添加一个`<!DOCTYPE>`，修复您的网站并继续前进，而不是试图向后拉其他浏览器。

# php - 如何从 XML 文件中解析数组

> ID：12048528
> 
> 赞同：0
> 
> 时间：2012-08-21T04:40:35.607
> 
> 标签：php, xml, api, zend-framework

执行 VAR_DUMP() 后我有一个 XML 文件，这就是它返回的内容

```
["EditorialReviews"]=>
      object(stdClass)#120 (1) {
        ["EditorialReview"]=>
        array(2) {
          [0]=>
          object(stdClass)#121 (3) {
            ["Source"]=>
            string(19) "Product Description"
            ["Content"]=>
            string(610) "Description."
            ["IsLinkSuppressed"]=>
            bool(false)
          }
          [1]=>
          object(stdClass)#118 (3) {
            ["Source"]=>
            string(30) "Product Description"
            ["Content"]=> "Description 2"
          }
        } 
```

我从来没有过这个，这个 XML 文件里面有一个数组，我如何只得到第一个？通常我会做

```
$this->EditorialReviews->EditorialReview->Content 
```

但这会返回 NULL 或者当那里有一个数组时它不会显示出来。

和

```
$this->EditorialReviews->EditorialReview->Content[0] 
```

给我一个错误

另外，我尝试使用 php 的 simpleXML，但它也给了我一个错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:49:59.000

试试这个：

```
$content = is_array($this->EditorialReviews->EditorialReview)?$this->EditorialReviews->EditorialReview[0]->Content:$this->EditorialReviews->EditorialReview->Content;
var_dump($content); 
```

# performance - HTML::FormHandler 表单真的很慢

> ID：12048531
> 
> 赞同：0
> 
> 时间：2012-08-21T04:41:14.557
> 
> 标签：performance, perl, forms, catalyst

我正在将[HTML::FormHandler](https://metacpan.org/module/HTML::FormHandler)用于我正在创建的 Web 应用程序。表单工作正常，唯一的问题是仅加载表单会导致页面加载 2-3 秒。我知道 HTML::FormHandler 使用[Moose](https://metacpan.org/module/Moose)，这个[StackOverflow](https://stackoverflow.com/questions/3162390/is-moose-really-this-slow)让我相信 Moose 是罪魁祸首。我的网络应用程序没有使用[催化剂](https://metacpan.org/module/Catalyst)，因此不仅有加载表单和驼鹿的初始成本；每次加载页面时它都会再次加载。无论如何在非催化剂网络应用程序中合理使用 HTML::FormHandler 吗？还是我应该放弃并寻找另一个表单模块？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T01:43:28.310

这是第一次引入 FastCGI 来解决的问题：基本上是围绕 CGI 程序的一个薄包装器，使其成为一个持久进程。

[CGI::Fast](https://metacpan.org/module/CGI%3a%3aFast)是一个很好的起点。如果您已经在使用 CGI.pm，您应该会发现转换非常简单 - 肯定比将整个 shebang 转换为 Catalyst 或其他框架更容易。

# android - Android：拉起键盘时输入输入文本框的背景挤压

> ID：12048533
> 
> 赞同：1
> 
> 时间：2012-08-21T04:42:14.167
> 
> 标签：android, xml, layout

这是 XML 代码：我有一个滚动窗格，在底部我有一个静态线性布局，它由一个搜索框和一个按钮组成。当我点击搜索框时，背景收缩/挤压。

```
 <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_height="wrap_content" android:layout_width="fill_parent">
    <ScrollView android:layout_marginTop="50dip" android:layout_marginBottom="100dip"                               android:id="@+id/ScrollView01" android:layout_height="wrap_content"       android:layout_width="fill_parent">
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_height="wrap_content" android:layout_width="fill_parent">

            <Button android:id="@+id/American" android:layout_width="130dp"    android:layout_height="wrap_content"     android:layout_marginTop="20dp" android:layout_marginLeft="95dp" android:layout_marginRight="110dp"     android:text="American" android:gravity="center" android:soundEffectsEnabled="true"     android:background="@drawable/mybutton" android:textColor="#45125d" android:textSize="20dp"/> 
            <Button android:id="@+id/Austrailian" android:layout_width="130dp"  android:layout_height="wrap_content" android:layout_marginTop="05dp" android:layout_marginLeft="95dp"   android:layout_marginRight="110dp" android:text="Austrailian" android:layout_below="@id/American"   android:gravity="center" android:soundEffectsEnabled="true" android:background="@drawable/mybutton"     android:textColor="#45125d" android:textSize="20dp" /> 
            <Button android:id="@+id/Burmese" android:layout_width="130dp"  android:layout_height="wrap_content" android:layout_marginTop="05dp" android:layout_marginLeft="95dp"   android:layout_marginRight="110dp" android:text="Burmese" android:layout_below="@id/Austrailian"    android:gravity="center" android:soundEffectsEnabled="true"  android:background="@drawable/mybutton"    android:textColor="#45125d" android:textSize="20dp"/> 
            <Button android:id="@+id/Chinese" android:layout_width="130dp"  android:layout_height="wrap_content" android:layout_marginTop="05dp" android:layout_marginLeft="95dp"       android:layout_marginRight="110dp" android:text="Chinese" android:layout_below="@id/Burmese"    android:gravity="center" android:soundEffectsEnabled="true"  android:background="@drawable/mybutton"    android:textColor="#45125d" android:textSize="20dp"/> 
            <Button android:id="@+id/French" android:layout_width="130dp"   android:layout_height="wrap_content" android:layout_marginTop="05dp" android:layout_marginLeft="95dp"   android:layout_marginRight="110dp" android:text="French" android:layout_below="@id/Chinese" android:gravity="center"    android:soundEffectsEnabled="true"  android:background="@drawable/mybutton" android:textColor="#45125d"     android:textSize="20dp"/> 
            <Button android:id="@+id/Greek" android:layout_width="130dp"    android:layout_height="wrap_content" android:layout_marginTop="05dp" android:layout_marginLeft="95dp"   android:layout_marginRight="110dp" android:text="Greek" android:layout_below="@id/French" android:gravity="center"  android:soundEffectsEnabled="true"  android:background="@drawable/mybutton" android:textColor="#45125d"     android:textSize="20dp"/> 
            <Button android:id="@+id/Indian" android:layout_width="130dp"   android:layout_height="wrap_content" android:layout_marginTop="05dp" android:layout_marginLeft="95dp"   android:layout_marginRight="110dp" android:text="Indian" android:layout_below="@id/Greek" android:gravity="center"  android:soundEffectsEnabled="true"  android:background="@drawable/mybutton" android:textColor="#45125d"     android:textSize="20dp"/> 
            <Button android:id="@+id/Italian" android:layout_width="130dp"  android:layout_height="wrap_content" android:layout_marginTop="05dp" android:layout_marginLeft="95dp"   android:layout_marginRight="110dp" android:text="Italian" android:layout_below="@id/Indian" android:gravity="center"    android:soundEffectsEnabled="true"  android:background="@drawable/mybutton" android:textColor="#45125d"     android:textSize="20dp"/> 
            <Button android:id="@+id/Japanese" android:layout_width="130dp"     android:layout_height="wrap_content" android:layout_marginTop="05dp" android:layout_marginLeft="95dp"   android:layout_marginRight="110dp" android:text="Japanese" android:layout_below="@id/Italian"   android:gravity="center" android:soundEffectsEnabled="true"  android:background="@drawable/mybutton"    android:textColor="#45125d" android:textSize="20dp"/> 
            <Button android:id="@+id/Lebanese" android:layout_width="130dp"     android:layout_height="wrap_content" android:layout_marginTop="05dp" android:layout_marginLeft="95dp"   android:layout_marginRight="110dp" android:text="Lebanese" android:layout_below="@id/Japanese"  android:gravity="center" android:soundEffectsEnabled="true"  android:background="@drawable/mybutton"    android:textColor="#45125d" android:textSize="20dp"/> 
            <Button android:id="@+id/Mexican" android:layout_width="130dp"  android:layout_height="wrap_content" android:layout_marginTop="05dp" android:layout_marginLeft="95dp"   android:layout_marginRight="110dp" android:text="Mexican" android:layout_below="@id/Lebanese"   android:gravity="center" android:soundEffectsEnabled="true"  android:background="@drawable/mybutton"    android:textColor="#45125d" android:textSize="20dp"/> 
            <Button android:id="@+id/Pakistani" android:layout_width="130dp"    android:layout_height="wrap_content" android:layout_marginTop="05dp" android:layout_marginLeft="95dp"   android:layout_marginRight="110dp" android:text="Pakistani" android:layout_below="@id/Mexican"  android:gravity="center" android:soundEffectsEnabled="true"  android:background="@drawable/mybutton"    android:textColor="#45125d" android:textSize="20dp"/> 

    </LinearLayout>   
    </ScrollView>
    <LinearLayout android:orientation="horizontal" android:layout_marginTop="-70dip" android:gravity="bottom"   android:layout_height="wrap_content" android:layout_width="fill_parent">
    <EditText android:id="@+id/Searchbox" 
        android:width="100dp" 
        android:layout_width="wrap_content" 
        android:layout_height="25dp" 
        android:hint="   Search"  
        android:layout_marginTop="10dp" 
        android:layout_marginLeft="130dip"
        android:gravity="center_horizontal"
        android:background="@drawable/search"/>
    <Button 
        android:id="@+id/Search" 
        android:layout_height="wrap_content" 
        android:layout_width="wrap_content" 

        android:background="@drawable/searchbutton"/>

    </LinearLayout>
</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:20:48.367

在滚动视图或第二个线性布局中使用 android:weight=1。

# python - Heroku 上的 PostgreSQL ETL 流程

> ID：12048537
> 
> 赞同：3
> 
> 时间：2012-08-21T04:42:44.277
> 
> 标签：python, django, heroku, postgresql-9.1, pg-dump

我的任务是在 Heroku 上托管的 PostgreSQL 9.1 数据库（我们可以称其为 Master）与另一个应用程序用途的数据副本之间编写 ETL（提取、转换、加载）过程Heroku (Cedar Stack) 托管 PostgreSQL 数据库。我们的主要开发堆栈是 Python 2.7.2、Django 1.3.3 和 PostgreSQL 9.1。你们中的许多人可能都知道，Heroku 中的文件系统的功能有限，我不确定我是否完全理解临时文件系统的规则。

所以，我想弄清楚我的选择是什么。显而易见的是，我可以只编写一个 Django 管理命令并拥有两个独立的数据库连接（以及一个目标和源模型集），然后通过这种方式泵送数据并在此过程中处理 ETL。虽然效果很好，但我最初的测试表明这是一种非常缓慢的方法。显然，更快的方法是使用 PostreSQL COPY 功能。但是，通常如果我这样做，我可以将它写到一个文件中，然后使用 psql 将其拉入。有人在 Heroku 上的两个专用 PostgreSQL 数据库之间做过类似的事情吗？任何建议或提示将不胜感激。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-21T16:19:30.853

一种解决方案可能是在 Postgres 土地上进行整个 ETL 过程。即使用[`dblink`](http://www.postgresql.org/docs/9.1/static/dblink.html)扩展从源数据库拉取数据到目标数据库。这可能足够也可能不够，但值得研究。

您可以在 heroku dyno 上自由使用文件系统，但我认为这不是一个防弹解决方案。它的工作方式是您可以很好地写入文件系统，但是一旦该进程退出，其中的数据就会消失。该文件系统的大小根本无法保证，但它非常大，除非您需要数百 GB 的存储空间。

最后，您可以通过转动一些会话级别的 postgres 旋钮来加快某些过程。与其在此处列出它们，[不如在优秀的 postgres 文档](http://www.postgresql.org/docs/9.1/interactive/populate.html)上阅读它。

编辑：我们现在支持 Postgres FDW，一个更好的替代 dblink：[http ://www.postgresql.org/docs/current/static/postgres-fdw.html](http://www.postgresql.org/docs/current/static/postgres-fdw.html)

# c# - 嵌入 SQL Server CE 数据库

> ID：12048539
> 
> 赞同：0
> 
> 时间：2012-08-21T04:42:47.490
> 
> 标签：c#, sql-server-ce

我正在使用 sql server ce 数据库和 C#，我想知道如何真正嵌入数据库文件，所以当我完成安装应用程序后，我不需要将数据库文件复制粘贴到我在中设置的环境中以下代码：

```
 private void sambung()
    {
        string lokasifile = Environment.CurrentDirectory + "\\compactedition.sdf";
        string stringkoneksi = "Data Source = \"" + lokasifile + "\";Password = 'blablabla'; Encrypt = True";
        koneksi = new SqlCeConnection(stringkoneksi);
    } 
```

你有什么建议让它成为可能吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T08:28:07.707

如果将数据库复制到根目录或上层目录，则可以使用如下相对路径：

```
public static string GetLogicBinDebug()
    {
        string baseDir = AppDomain.CurrentDomain.BaseDirectory;
        return Path.Combine(baseDir, @"..\..\database.sdf");
    } 
```

或者您可以使用相对路径在 app.config 中保留连接字符串：

```
<connectionStrings>
<add name="dbEDMContainer" connectionString="metadata=res://*/dbEDM.csdl|res://*/dbEDM.ssdl|res://*/dbEDM.msl;provider=System.Data.SqlServerCe.4.0;provider connection string=&quot;Data Source=|DataDirectory|\..\..\yourDB.sdf&quot;" providerName="System.Data.EntityClient"/> 
```

Data Source=|DataDirectory|\ 将指向“bin”文件夹

** 如果您询问如何将数据库文件复制到您的应用程序文件夹，您可以使用以下方法：

在 Visual Studio 中将数据库文件包含到您的项目中，打开文件属性并将**构建操作**设置为“**内容**”， **复制到输出目录**-“**如果较新则复制**”或“**始终复制**”

# php - 当字段为空白时使表格消失？（wordpress）

> ID：12048548
> 
> 赞同：0
> 
> 时间：2012-08-21T04:43:29.270
> 
> 标签：php, wordpress, function, html-table

我从我创建的自定义元框中的字段中制作了一个表格，但现在我想知道如果没有填写任何字段，我是否可以让表格消失。

这是不是太复杂了，有没有更好的解决方案，还是我应该尽可能地填写所有字段？

这是我到目前为止所拥有的：

```
<div>
<table class="animetable">
<tr><th>Info</th></tr>
<tr><td><strong>Name: </strong><?php echo get_post_meta($post->ID, 'anime_anname', true); ?></td></tr>
<tr><td><strong>Genre: </strong><?php echo get_post_meta($post->ID, 'anime_angenre', true); ?></td></tr>
<tr><td><strong>Directed by: </strong><?php echo get_post_meta($post->ID, 'anime_andirector', true); ?></td></tr>
<tr><td><strong>Music by: </strong><?php echo get_post_meta($post->ID, 'anime_anmusic', true); ?></td></tr>
<tr><td><strong>Studio: </strong><?php echo get_post_meta($post->ID, 'anime_anstudio', true); ?></td></tr>
<tr><td><strong>Licensed ny: </strong><?php echo get_post_meta($post->ID, 'anime_anlicense', true); ?></td></tr>
<tr><td><strong>Network[s]: </strong><?php echo get_post_meta($post->ID, 'anime_annetwork', true); ?></td></tr>
<tr><td><strong>Original run: </strong><?php echo get_post_meta($post->ID, 'anime_anrun', true); ?></td></tr>
<tr><td><strong>Episodes: </strong><?php echo get_post_meta($post->ID, 'anime_anepisodes', true); ?></td></tr>
</table>
</div> 
```

这是元框的代码：

```
$prefix = 'anime_';

$anime_box = array(
    'id' => 'anime-meta-box',
    'title' => 'Anime Details',
    'page' => 'post',
    'context' => 'normal',
    'priority' => 'high',
    'fields' => array(
        array(
            'name' => 'Name',
            'desc' => 'Add the name of the Anime in either English or Japanese(Romanji).',
            'id' => $prefix . 'anname',
            'type' => 'text',
            'std' => ''
        ),
        array(
            'name' => 'Genre',
            'desc' => 'Is it a thriller, action/adventure, etc...',
            'id' => $prefix . 'angenre',
            'type' => 'text',
            'std' => ''
        ),
        array(
            'name' => 'Directed by',
            'desc' => 'Name of director(s).',
            'id' => $prefix . 'andirector',
            'type' => 'text',
            'std' => ''
        ),
        array(
            'name' => 'Music by',
            'desc' => 'Name of composer(s)',
            'id' => $prefix . 'anmusic',
            'type' => 'text',
            'std' => ''
        ),
        array(
            'name' => 'Studio',
            'desc' => 'Studio which owns the anime.',
            'id' => $prefix . 'anstudio',
            'type' => 'text',
            'std' => ''
        ),
         array(
            'name' => 'Licensed by',
            'desc' => 'Name of both American and Japanese license holders.',
            'id' => $prefix . 'anlicense',
            'type' => 'text',
            'std' => ''
        ),
        array(
            'name' => 'Network(s)',
            'desc' => 'Networks which air the show in both Japan and the United States.',
            'id' => $prefix . 'annetwork',
            'type' => 'text',
            'std' => ''
        ),
         array(
            'name' => 'Original run',
            'desc' => 'Date of when the anime first aired and when it stopped.',
            'id' => $prefix . 'anrun',
            'type' => 'text',
            'std' => ''
        ),
        array(
            'name' => 'Episodes',
            'desc' => 'Number of episodes.',
            'id' => $prefix . 'anepisodes',
            'type' => 'text',
            'std' => ''
        ),

    )
);

add_action('admin_menu', 'anime_add_box');

// Add meta box
function anime_add_box() {
    global $anime_box;

    add_meta_box($anime_box['id'], $anime_box['title'], 'anime_show_box', $anime_box['page'], $anime_box['context'], $anime_box['priority']);
}

// Callback function to show fields in meta box
function anime_show_box() {
    global $anime_box, $post;

    // Use nonce for verification
    echo '<input type="hidden" name="anime_meta_box_nonce" value="', wp_create_nonce(basename(__FILE__)), '" />';

    echo '<table class="form-table">';

    foreach ($anime_box['fields'] as $field) {
        // get current post meta data
        $meta = get_post_meta($post->ID, $field['id'], true);

        echo '<tr>',
                '<th style="width:20%"><label for="', $field['id'], '"><strong>', $field['name'], ':</strong></label></th>',
                '<td>';
        switch ($field['type']) {
            case 'text':
                echo '<input type="text" name="', $field['id'], '" id="', $field['id'], '" value="', $meta ? $meta : $field['std'], '" size="30" style="width:97%" />',
                    '<br /><small>', $field['desc'],'</small>';
                break;

        }
        echo    '<td>',
            '</tr>';
    }

    echo '</table>';
}

add_action('save_post', 'anime_save_data');

// Save data from meta box
function anime_save_data($post_id) {
    global $anime_box;

    // verify nonce
    if (!wp_verify_nonce($_POST['anime_meta_box_nonce'], basename(__FILE__))) {
        return $post_id;
    }

    // check autosave
    if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) {
        return $post_id;
    }

    // check permissions
    if ('page' == $_POST['post_type']) {
        if (!current_user_can('edit_page', $post_id)) {
            return $post_id;
        }
    } elseif (!current_user_can('edit_post', $post_id)) {
        return $post_id;
    }

    foreach ($anime_box['fields'] as $field) {
        $old = get_post_meta($post_id, $field['id'], true);
        $new = $_POST[$field['id']];

        if ($new && $new != $old) {
            update_post_meta($post_id, $field['id'], $new);
        } elseif ('' == $new && $old) {
            delete_post_meta($post_id, $field['id'], $old);
        }
    }
} 
```

最后，主题的创建者做了类似的事情，如果什么都不输入，字段就会消失。这是他所做的：

```
<div class="post-review">

                    <div class="review-thumb"><?php the_post_thumbnail('review-thumb-big'); ?></div>

                    <div class="review-score">

                        <div class="overall-score <?php $send_rate = get_post_meta($post->ID, "leetpress_overallscore", true); rating_color($send_rate); ?>">
                            <span class="the-score"><?php echo get_post_meta($post->ID, "leetpress_overallscore", true); ?></span>
                            <span class="overall-text">Overall Score</span>
                        </div>
                        <div class="other-score">
                            <?php if(get_post_meta($post->ID, "leetpress_criteria1", true)) { ?>
                            <div class="score-item">
                                <span class="score-label"><?php echo get_post_meta($post->ID, "leetpress_criteria1", true); ?>:</span>
                                <span class="score"><?php echo get_post_meta($post->ID, "leetpress_crit1_rating", true); ?>/10</span>
                                <div class="score-bg" style="background:url(<?php echo get_template_directory_uri(); ?>/images/score-<?php echo get_post_meta($post->ID, "leetpress_crit1_rating", true); ?>.png) no-repeat;"></div>
                            </div>
                            <?php } ?>
                            <?php if(get_post_meta($post->ID, "leetpress_criteria2", true)) { ?>
                            <div class="score-item">
                                <span class="score-label"><?php echo get_post_meta($post->ID, "leetpress_criteria2", true); ?>:</span>
                                <span class="score"><?php echo get_post_meta($post->ID, "leetpress_crit2_rating", true); ?>/10</span>
                                <div class="score-bg" style="background:url(<?php echo get_template_directory_uri(); ?>/images/score-<?php echo get_post_meta($post->ID, "leetpress_crit2_rating", true); ?>.png) no-repeat;"></div>
                            </div>
                            <?php } ?>
                            <?php if(get_post_meta($post->ID, "leetpress_criteria3", true)) { ?>
                            <div class="score-item">
                                <span class="score-label"><?php echo get_post_meta($post->ID, "leetpress_criteria3", true); ?>:</span>
                                <span class="score"><?php echo get_post_meta($post->ID, "leetpress_crit3_rating", true); ?>/10</span>
                                <div class="score-bg" style="background:url(<?php echo get_template_directory_uri(); ?>/images/score-<?php echo get_post_meta($post->ID, "leetpress_crit3_rating", true); ?>.png) no-repeat;"></div>
                            </div>
                            <?php } ?>
                        </div>

                    </div>

                    <?php if(get_post_meta($post->ID, "leetpress_good", true)) { ?><div class="pros"><p><?php echo get_post_meta($post->ID, "leetpress_good", true); ?></p></div><?php } ?>
                    <?php if(get_post_meta($post->ID, "leetpress_bad", true)) { ?><div class="cons"><p><?php echo get_post_meta($post->ID, "leetpress_bad", true); ?></p></div><?php } ?>

                </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T13:01:54.987

您可以尝试使用 jQuery，但您需要在字段的标题中添加一个`tbody`和`thead`，因此它们不在您的`<td>`内联元素中。

`thead`为您的桌子调整一个

```
<table class="animetable">

<thead>
    <tr>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
      <th>10</th>
    </tr>
 </thead>

<tbody>
    <tr><td><?php echo get_post_meta($post->ID, 'anime_anname', true); ?></td></tr>
    <tr><td><?php echo get_post_meta($post->ID, 'anime_angenre', true); ?></td></tr>
    <tr><td><?php echo get_post_meta($post->ID, 'anime_andirector', true); ?></td></tr>
    <tr><td><?php echo get_post_meta($post->ID, 'anime_anmusic', true); ?></td></tr>
    <tr><td><?php echo get_post_meta($post->ID, 'anime_anstudio', true); ?></td></tr>
    <tr><td><?php echo get_post_meta($post->ID, 'anime_anlicense', true); ?></td></tr>
    <tr><td><?php echo get_post_meta($post->ID, 'anime_annetwork', true); ?></td></tr>
    <tr><td><?php echo get_post_meta($post->ID, 'anime_anrun', true); ?></td></tr>
    <tr><td><?php echo get_post_meta($post->ID, 'anime_anepisodes', true); ?></td></tr>

</tbody>
</table> 
```

使用 jQuery 函数隐藏空表：

```
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>

 <script>
    $(function() {
        $('.animetable tbody:empty').hide();
    });
 </script> 
```

替代：

```
 <script>
    $(function() {
        var emptyTest = $('.animetable tbody').is(:empty);
        if (emptyTest == true) {
            $('.animetable').hide();
        } else {

        }
    });
 </script> 
```

替代方案是使用 PHP，但我没有足够的信息来说明您如何获取数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T04:52:36.993

这个怎么样？您可以放置​​一个条件语句来检查数据是否可用。如果是这样，请显示该表。

```
<div>

**Edit**
<?php 
   $nameSet = isset(get_post_meta($post->ID, 'anime_anname', true));
   $genreSet = isset(get_post_meta($post->ID, 'anime_angenre', true));
   $directorSet = isset(get_post_meta($post->ID, 'anime_andirector', true));
   /*same for all*/

if($nameSet && $genreSet && $directorSet && ..etc etc){ ?>

<table class="animetable">
<tr><th>Info</th></tr>
<tr><td><strong>Name: </strong><?php echo get_post_meta($post->ID, 'anime_anname', true); ?></td></tr>
<tr><td><strong>Genre: </strong><?php echo get_post_meta($post->ID, 'anime_angenre', true); ?></td></tr>
<tr><td><strong>Directed by: </strong><?php echo get_post_meta($post->ID, 'anime_andirector', true); ?></td></tr>
<tr><td><strong>Music by: </strong><?php echo get_post_meta($post->ID, 'anime_anmusic', true); ?></td></tr>
<tr><td><strong>Studio: </strong><?php echo get_post_meta($post->ID, 'anime_anstudio', true); ?></td></tr>
<tr><td><strong>Licensed ny: </strong><?php echo get_post_meta($post->ID, 'anime_anlicense', true); ?></td></tr>
<tr><td><strong>Network[s]: </strong><?php echo get_post_meta($post->ID, 'anime_annetwork', true); ?></td></tr>
<tr><td><strong>Original run: </strong><?php echo get_post_meta($post->ID, 'anime_anrun', true); ?></td></tr>
<tr><td><strong>Episodes: </strong><?php echo get_post_meta($post->ID, 'anime_anepisodes', true); ?></td></tr>
</table>

<?php } ?> 

</div> 
```

# java - 如何在没有javaee的情况下将邮件发送到gmail smtp java

> ID：12048550
> 
> 赞同：1
> 
> 时间：2012-08-21T04:43:45.507
> 
> 标签：java

> **可能重复：**
> [如何使用 Gmail 从 Java 应用程序发送电子邮件？](https://stackoverflow.com/questions/46663/how-do-you-send-email-from-a-java-app-using-gmail)

如何在没有 javamail 或 javaee 的情况下使用 java（javax.net、javax.net.ssl 和 java.net）将邮件发送到 gmail smtp 服务器？可能是这样开始的：

```
 SSLSocketFactory sf = (SSLSocketFactory)SSLSocketFactory.getDefault();
            Socket smtpsocket = sf.createSocket();
         Socket sslsocket = sf.createSocket(smtpsocket,"smtp.gmail.com",465,true); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T05:13:23.260

您需要连接到 gmail 服务器公开的 SMTP 端口并启动与服务器的 SMTP 对话。此链接描述了对话：[http](http://slett.net/spam-filtering-for-mx/smtpintro.html) ://slett.net/spam-filtering-for-mx/smtpintro.html 。虽然这适用于普通套接字（不需要 JavaMail 包），但您需要处理所有情况以使其达到生产质量。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T05:20:50.503

你可以试试这个：这里有很好的文档[http://www.cs.cf.ac.uk/Dave/PERL/node175.html](http://www.cs.cf.ac.uk/Dave/PERL/node175.html)（我收到一个套接字连接错误，但最终代码看起来或多或少相同的）

```
public class Mailer {
    private static BufferedReader reader;
    private static OutputStream outputStream;

    public static void main(String args[]) {
        args = new String[]{"smtp.gmail.com","my_id@gmail.com","your_id@gmail.com"};
        try {
            if (args.length == 3) {
                Socket socket = new Socket(args[0], 465);
                reader = new BufferedReader(new InputStreamReader(socket.getInputStream()));
                outputStream = socket.getOutputStream();
                smtpCommand("HELO " + args[0]);
                smtpCommand("MAIL From: " + args[1]);
                smtpCommand("RCPT To: " + args[2]);
                smtpCommand("DATA");
                smtpCommand("From: " + args[1] + "\nTo: " + args[2] + "\nContent-Type:text/html;\nSubject: test\n MAIL CONTENT \n.\n");
                System.out.println("\nMessage Sent Successfully to" + args[1].substring(0, args[1].indexOf("@")));
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    private static void smtpCommand(String command) throws Exception {
        System.out.println(command);
        reader.readLine();
        outputStream.write((command + "\r\n").getBytes());
    }
} 
```

# forms - 使用 Data::FormValidator 验证 HTML 表单数组

> ID：12048551
> 
> 赞同：1
> 
> 时间：2012-08-21T04:43:49.877
> 
> 标签：forms, perl, web-applications, validation

问候！

我现在遇到了一些我在使用 Data::FormValidator 时遇到的问题。我将从我目前正在使用的代码开始；这是我用来生成表单的模板文件：

```
 <form method="post" target="/">
            text[] <input type="text" name="text[]" /><br />
            text[] <input type="text" name="text[]" /><br />
            text[] <input type="text" name="text[]" /><br />
            text[] <input type="text" name="text[]" /><br />
            <br />
            abc <input type="radio" name="abc" value="1" /><br />
            abc <input type="radio" name="abc" value="2" /><br />
            abc <input type="radio" name="abc" value="3" /><br />
            abc <input type="radio" name="abc" value="4" /><br />
            abc <input type="radio" name="abc" value="5" /><br />
            <br />
            herp <input type="checkbox" name="herp" value="abc"><br />
            dee <input type="checkbox" name="dee" value="dd"><br />
            derp <input type="checkbox" name="derp" value="beri"><br />
            <br />

            <input type="submit" value="Submit!!!!" name="submit" /><br />
    </form> 
```

这是我用来测试数组验证问题的当前代码：

```
 #!/usr/bin/env perl

    use Carp;
    use Data::Dumper;
    use Template;
    use Data::FormValidator;
    use Data::FormValidator::Constraints qw(:closures);
    use Dancer;

    set logger => "file";
    setting log_path => "./";

    get '/' => sub {
            template 'index.tt';
    };

    post '/' => sub {
            my $self = shift;
            my $par = params;
            print Dumper($par);
            my $profile = {
                    required => [ qw( text[] ) ],
                    optional => [ qw( abc herp dee derp ) ],
                    constraint_methods => {
                            'text[]' => sub {
                                    my $self = shift;
                                    my $val = shift;
                                    print "Hello world. I'm validating text[], value = $val\n";
                                    my $ret;
                                    if($val =~ /^a/i) {
                                            $ret = 1;
                                    } else {
                                            $ret = 0;
                                    }
                                    print "And I got: $ret\n";
                                    return $ret;
                            },
                    },
            };
            print Dumper(Data::FormValidator->check($par,$profile));
            return;
    };

    dance; 
```

我得到的输出显示 text[] 完全无效，这是可以理解的；我想弄清楚是否有任何方法可以将数组作为一个整体进行约束，并且只删除不匹配的元素？我假设使用过滤器可能是可行的，但我想确保我不只是愚蠢。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T15:48:11.410

根据您如何解析和呈现给您的参数，`text[]`确实可能“完全无效”。我自己不会将 HTML 表单字段命名为“文本”，只是为了避免与保留字的潜在交互，并减轻混淆。

话虽如此，我只是将字段称为“文本”而不​​是“文本 []”，并依靠您的参数解析器将 $text 或其等效项呈现为值数组。然后在您的约束方法中迭代它们。

将有几个陷阱，具体取决于您使用的参数解析器。例如，如果提交了多个值，CGI.pm 将在数组中呈现多变量字段，但如果只提交一个值，则将相同的字段呈现为标量。

# python - python 如何找到我的进程 看下

> ID：12048553
> 
> 赞同：-3
> 
> 时间：2012-08-21T04:44:07.223
> 
> 标签：python, string, if-statement

我的数据是snmp取出来的，现在需要找到我要的进程。如果里面的数据打印OK，无进程打印关键。

我的代码 if 语句是错误的。

r_e：数据

val：我的过程

```
r_e=HOST-RESOURCES-MIB::hrSWRunName.384 = STRING: "csrss.exe" HOST-RESOURCES-MIB::hrSWRunName.408 = STRING: "winlogon.exe" HOST-RESOURCES-MIB::hrSWRunName.456 = STRING: "services.exe"
```

```
for i in r_e.split('\n'):
    data = i.split(': ')[-1].strip('"')
    print data
    if a.find(val) >=0:
        print "OK"
    else:
        print "Critical" 
```

结果./t.py

```
 Critical
Critical
Critical
OK
Critical
Critical 
```

我想要结果

```
 ./t.py 
Ok 
not
./t.py
Critical
Critical
Critical
OK
Critical
Critical 
```

这个问题已经解决。

```
如果 r_c != 0:
    打印“严重 - snmpwalk 错误。”

别的：
    进程 = r_e.split('\n')
    程序 = 0
    对于进程中的程序：
        programFile = program.split(':')[-1].strip('"')
        如果 programFile == val.split('!')[0]:
            程序 = 程序 + 1
    如果程序
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:25:28.120

你的意思是以下吗？

```
datas=[i.split(': ')[-1].strip('"') for i in r_e.split('\n')]
print [(d.find(val)>=0 and "ok") or ("my process %s not exist" % val) 
            for d in datas] 
```

# java - 如何像visual studio一样在eclipse中进行分节

> ID：12048554
> 
> 赞同：2
> 
> 时间：2012-08-21T04:44:12.373
> 
> 标签：java, android, eclipse, eclipse-plugin

我想在左侧使代码部分明智，我可以展开或折叠我们的代码

就像我们编写函数时一样，它是展开或折叠的，但我们可以制作我们的自定义部分

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:57:55.560

在 spring 源工具套件中，这是通过使用启用的

选项 Preferences --> Java -->Editor -->Folding 。并选中 Enable folding 选项。

检查此选项是否存在于 Eclipse 中。

# google-app-engine - Guava - gdata 库不兼容

> ID：12048559
> 
> 赞同：0
> 
> 时间：2012-08-21T04:45:05.020
> 
> 标签：google-app-engine, guava, gdata, google-sheets

我在使用谷歌电子表格时从 gdata-java-client/gdata/java/deps/ 复制了 guava-11.0.2，如此处所述[/](https://developers.google.com/google-apps/spreadsheets/)设置您的客户端库（Java 选项卡）。这个版本的番石榴实际上捆绑在 gdata-src.java-1.47.1.zip 中。开发中一切正常但是，一旦我部署到应用程序引擎，我在运行时就遇到了这个错误。

```
Exception in thread "main" java.lang.NoSuchMethodError: com.google.common.collect.ImmutableSet.of([Ljava/lang/Object;)Lcom/google/common/collect/ImmutableSet;
at com.google.gdata.wireformats.AltFormat$Builder.setAcceptableTypes(AltFormat.java:399)
at com.google.gdata.wireformats.AltFormat$Builder.setAcceptableXmlTypes(AltFormat.java:387)
at com.google.gdata.wireformats.AltFormat.<clinit>(AltFormat.java:49)
at com.google.gdata.client.Service.<clinit>(Service.java:558) 
```

...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T04:45:05.020

解决方案：我将 guava 库替换为旧版本 - guava-10.0.1.jar 以解决问题。

# iphone - 在选项卡之间转换时应用程序崩溃，EXC_BAD_ACCESS

> ID：12048563
> 
> 赞同：2
> 
> 时间：2012-08-21T04:45:29.780
> 
> 标签：iphone, uinavigationcontroller

如果有人有经验，我可以使用一些帮助来调试这个问题。我有一个 UITabBarController 作为我的根视图控制器。每个选项卡的第一个视图控制器是 UINavigationController。

选项卡 1：带有地图的视图是第一个 viewController。当您按下标注时，将运行以下代码：

```
- (void)mapView:(MKMapView *)mapView annotationView:(MKAnnotationView *)view calloutAccessoryControlTapped:(UIControl *)control {
    [self performSegueWithIdentifier:@"ShowLocationDetails" sender:self];
} 
```

在情节提要中，我将其连接为`Push`.

在第一个 viewController 上，因为我有一张地图并且不想显示导航栏，所以我这样做：

```
FirstViewController <UINavigationControllerDelegate>

- (void)navigationController:(UINavigationController *)navigationController willShowViewController:(UIViewController *)viewController animated:(BOOL)animated {
    [self.navigationController setNavigationBarHidden:YES animated:NO];
}

- (void)navigationController:(UINavigationController *)navigationController didShowViewController:(UIViewController *)viewController animated:(BOOL)animated {
    [self.navigationController setNavigationBarHidden:YES animated:NO];
} 
```

在我推入堆栈的第二个视图控制器上，我确实想要导航栏，所以我有以下代码：

```
- (void)navigationController:(UINavigationController *)navigationController willShowViewController:(UIViewController *)viewController animated:(BOOL)animated {
    if ([viewController isKindOfClass:[FirstViewController class]]) {
        [self.navigationController setNavigationBarHidden:YES animated:YES];
    }
    else {
        [self.navigationController setNavigationBarHidden:NO animated:YES];
    }
} 
```

选项卡 2：现在只是一个选项卡视图。

如果我执行这些简单的步骤，我可以让我的应用程序崩溃：

按标注以推送 LocationDetails。按返回返回到第一个视图控制器 按选项卡二转到 TableViewController 按选项卡一返回到地图，这会导致 EXC_BAD_ACCESS 崩溃。我尝试运行 Instruments，但我不知道它是什么意思：

![在此处输入图像描述](../Images/953ac4333bc551e1a88bcc9602fb202d.png)

如果我启动应用程序，并且整天在选项卡之间切换而不将新控制器推入选项卡 1 上的堆栈，它不会崩溃。

如果我删除 navigationController willShowViewController 委托方法，它也不会崩溃。但当然，我有导航栏，这不是我想要的。

有什么想法吗？谢谢！

**编辑** 所以我尝试了Nuzhat所说的，我遇到了同样的问题。我都试过了

```
self.navigationController.navigationBar.hidden = YES; 
```

和

```
self.navigationController.navigationBardHidden = YES; 
```

这不是我正在寻找的解决方案。当我推送到下一个视图控制器时，navigationBar 不存在。所以在那个 viewController 的 viewDidLoad 中，我设置

```
self.navigationController.navigationBar.hidden = NO; 
```

然后我弹回到 FirstViewController，然后我切换选项卡，仍然崩溃。隐藏导航栏似乎有问题，然后再次显示。

# perl - perl Find::File 和智能匹配产生损坏的双链表

> ID：12048566
> 
> 赞同：1
> 
> 时间：2012-08-21T04:45:42.447
> 
> 标签：perl, find

我正在尝试编写一个程序，它将所有文件从某个顶点递归地读取到一个数组中，然后从一个单独的文件中读取文件名行，尝试打印这些文件名是否存在于较早的数组中。

我的程序翻阅了目录结构中的 43K 文件，随后通过了文件中 400 行中的大约 300 行，然后为我提供了一个壮观的“ *** glibc 检测到”****perl：损坏的双链表：0x0000000000a30740 ** *"*

 *我对此一无所知..这可能是“内存不足”类型的错误吗？我无法想象它不是因为主机有24G内存。

你知道我哪里错了吗？我试图通过一次将子目录中的整个文件列表读取到一个数组中来节省时间和精力，然后使用给定为 ARGV[0] 的文件名中的较短文件列表与之匹配。

这是我的代码：

```
 #!/usr/bin/perl
  use warnings;
  use strict;
  use diagnostics;

  use File::Find;
  use 5.010001;

  ## debug subroutine
  my $is_debug = $ENV{DEBUG} // 0;
  sub debug { print "DEBUG: $_[0]\n" if $is_debug };

  ## exit unless properly called with ARGV
  die "Please provide a valid filename: $!" unless $ARGV[0] && (-e $ARGV[0]);

  my @pic_files;
  my $pic_directory="/files/multimedia/pictures";

  find( sub {
     push @pic_files, $File::Find::name
        if -f && ! -d ;
     }, $pic_directory);

  open LIST, '<', $ARGV[0] or die "Could not open $ARGV[0]: $!";

  while(<LIST>) {
     chomp;
     debug "\$_ is ->$_<-";

     if ( @pic_files ~~ /.*$_/i ) {
        print "found: $_\n";
     } else {
        print "missing: $_\n";
     }
  }
  close LIST or die "Could not close $ARGV[0]: $!"; 
```

这是该文件的示例：

```
DSC02338.JPG  
DSC02339.JPG  
DSC02340.JPG  
DSC02341.JPG  
DSC02342.JPG  
DSC02343.JPG  
DSC02344.JPG  
DSC02345.JPG  
DSC02346.JPG  
DSC02347.JPG 
```

和强制性错误：

```
missing: DSC02654.JPG   
DEBUG:  is ->DSC02655.JPG<-   
missing: DSC02655.JPG   
DEBUG:  is ->DSC02656.JPG<-   
missing: DSC02656.JPG   
*** glibc detected *** perl: corrupted double-linked list: 0x0000000000a30740 ***   
======= Backtrace: =========   
/lib/libc.so.6(+0x71bd6)[0x7fb6d15dbbd6]   
/lib/libc.so.6(+0x7553f)[0x7fb6d15df53f] 
```

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T08:53:48.040

这是一个非常低效的算法。您正在运行 21,500 * n 个正则表达式，其中 n 是 LIST 中的文件数。我的猜测是，这会让您面临某种潜在的内存问题或错误。

这是一种替代方法，无需太多更改即可更有效。首先，将文件读入哈希而不是数组（我添加`lc`以使所有内容都小写，因为您需要不区分大小写的匹配）：

```
 my %pic_files;

  find( sub {
     $pic_files{lc $File::Find::name}++
        if -f && ! -d ;
     }, $pic_directory); 
```

*编辑：*其次，不是使用正则表达式来搜索目录中的每个文件，而是在输入行上使用正则表达式来智能地查找潜在的匹配项。

```
my $path_portion = lc $_;
my $found = 0;
do {
     if (exists $pic_files{$path_portion} or exists $pic_files{'/' . $path_portion} )
     {
         $found = 1;
     }
} while (!found and $path_portion =~ /\/(.*)$/ and $path_portion = $1);

if ($found) { print "found: $_"; }
else { print "not found: $_\n"; } 
```

这将检查输入文件中的路径，然后每次不匹配时删除路径中的第一个目录并再次检查。它应该更快，并且希望这个奇怪的错误会消失（尽管弄清楚发生了什么会很好；如果它是 Perl 中的错误，那么您的版本就变得非常重要，因为智能匹配是一项新功能有很多最近的更改和错误修复）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T11:33:53.703

虽然我以前没有见过这样的错误，但我怀疑它是由生成一个包含 43,000 个元素的文件列表并在智能匹配中使用它引起的。您使用的是 64 位 perl 吗？

当您只需要匹配基本文件名时，您还可以通过存储每个文件的完整路径来使事情变得更加困难。

这确实不是智能匹配适合的事情，我建议您应该在输入文件中创建文件名的哈希，并在`find`遇到它们时将它们一一标记

这个程序显示了这个想法。我手头没有 perl 安装，所以我无法测试它，但它看起来不错

```
use strict;
use warnings;

use File::Find;

my $listfile = shift;
die "Please provide a valid filename" unless $listfile;
open my $list, '<', $listfile or die "Unable to open '$listfile': $!";

my %list;
while (<$list>) {
  chomp;
  $list{$_} = 0;
}
close $list;

my $pic_directory = '/files/multimedia/pictures';

find( sub {
  if (-f and exists $list{$_}) {
    print "found: $_\n";
    $list{$_}++;
  }
}, $pic_directory);

for my $file (keys %list) {
  print "missing: $_\n" unless $list{$file};
} 
```*

# jquery - 意外调用第三页时，changePage 事件立即调用第二页

> ID：12048568
> 
> 赞同：0
> 
> 时间：2012-08-21T04:46:10.533
> 
> 标签：jquery, jquery-mobile

我在带有 phonegap 的 jquery 移动应用程序中有三个单个 html 页面。从一个页面 onChange 事件调用第二个页面。但是第二页 pageinit 在该页面关闭后立即调用并转到第三页。我没有在页面初始化或其他一些元素中调用第三页。在 jquery mobile changepage 事件中是否存在类似这样的已知问题？

```
//called from first page link button 
function mysubmit()
{
    $.mobile.changePage("secondpage.html",{reloadPage:true,transition: "none"});
}

//This event fired
$(document).delegate("#secondpage_id", "pageinit", function() {
  alert('secondpage_id was just created by jQuery Mobile!');
}); 
```

触发后，它关闭了第二页并显示了第三页。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-25T07:04:35.483

`data-rel=back`这是通过从第一页链接按钮中删除属性来解决的。

# java - 如何从固定宽度的文本文件创建 .avro 文件？

> ID：12048572
> 
> 赞同：0
> 
> 时间：2012-08-21T04:47:10.797
> 
> 标签：java, fixed-width, avro

我想从具有固定线宽的文本文件生成 .avro 文件。我是 java 和 .avro 的初学者，所以请帮我解决这个问题。

如何从 Java 中的固定宽度文本文件创建 .avro 文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T07:52:25.750

我使用 JRecord 包从固定宽度文件创建了一些 Avro 文件来读取固定宽度文件。在我的例子中，我使用 Cobol Copybook 来描述固定宽度文件。JRecord 也可以使用 Xml 文件描述而不是 Cobol，Java 代码实际上是相同的

**示例：** [http ://avroeditor.svn.sourceforge.net/viewvc/avroeditor/Source/AvroEditor/src/net/sf/RecordEditor/Avro/Test/IO/WriteSales.java?revision=4&view=markup](http://avroeditor.svn.sourceforge.net/viewvc/avroeditor/Source/AvroEditor/src/net/sf/RecordEditor/Avro/Test/IO/WriteSales.java?revision=4&view=markup)

**Avro 定义：** [http ://avroeditor.svn.sourceforge.net/viewvc/avroeditor/IDL/Sales.genavro?revision=5&view=markup](http://avroeditor.svn.sourceforge.net/viewvc/avroeditor/IDL/Sales.genavro?revision=5&view=markup)

**JRecord：http:** [//jrecord.sourceforge.net/JRecord04.html](http://jrecord.sourceforge.net/JRecord04.html)

或者，您可以使用其他平面文件阅读器之一来读取固定宽度的文件，例如[http://sourceforge.net/projects/flatpack/?source=directory](http://sourceforge.net/projects/flatpack/?source=directory)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-12-15T12:55:50.903

用 Javascript + jQuery 试试这个

```
$( "#btn1" ).click(function() {
    $( "table" ).remove();
    var text1 = document.getElementById('text').value;
    var text1=text1.replace(/(\r\n|\n|\r)/gm,"");
    var sep = document.getElementById('sep').value;
    var aray = text1.split(sep);
    var formato = '<select class="form"><option value="string">string</option><option value="int">int</option><option value="date">date</option><option value="datetime">datetime</option><option value="float">float</option><option value="varchar(50)">varchar</option></select>';
    var univoco = '<input id="checkbox" type="checkbox" name="univoco" value="true" > <br>';
    var null1 = '<input id="null" class="null11" type="checkbox" name="univoco" value="null" checked> <br>';
    var html = '<table id="tbl" class="table table-sm  table-striped table-centered .thead-dark "><thead class="thead-dark"><tr class="table-primary"><th scope="col">ColumnName</th><th scope="col">Format</th>  <th scope="col">Null</th>   </tr>  </thead> <tbody>';
    $.each(aray, function(i, val) {
        html += '<tr><td id = "val">' + val + '</td><td id = "form">' + formato + '</td><td id = "nul">' + null1 + '</td></tr>';
    });
    html += '</tbody></table>'; 
    $("#table").append(html);
});

$( "#btn2").click(function() {
    $( "#avro" ).empty();
    var myRows = {myRows:[]};
    var $th = $('#tbl th');
    $('#tbl tbody tr').each(function(i, tr){
        var obj = {}, 
        $tds = $(tr).find('td');
        $td1 = $(tr).find('select.form').children("option:selected");
        $tds2 = $(tr).find('#checkbox');
        $tds3 = $(tr).find('#null');
        $th.each(function(){
            obj['name'] = $tds.eq(0).text();
            var type=$td1.eq(0).val();
            var nullv=$tds3.eq(0).is(':checked');
            if (type=='date') {
                type={type:"int", logicalType:"date"};
            }else if (nullv == true) {
                type = [type ,'null' ];
            }
            else{
                type;
            }
            obj['type'] = type;
            // obj['univoco'] = $tds2.eq(0).is(':checked');
            // obj['null'] = $tds3.eq(0).is(':checked');
        });
        myRows.myRows.push(obj);        
    }); 
    console.log(JSON.stringify(myRows));
    var header = '{ <br> &nbsp &nbsp "type": "record"  ,  <br>   &nbsp &nbsp "namespace": "Mezzora" ,  <br>  &nbsp &nbsp "name": "ReportDSL" ,  <br>   &nbsp &nbsp  "fields": [ <br>';
    $('#avro').append(header);
    text ='&nbsp &nbsp &nbsp &nbsp &nbsp '+JSON.stringify(myRows.myRows[0])  +"<br>";
    $('#avro').append(text);
    var i;
    for (i = 1; i < myRows.myRows.length; i++) {
        text ='&nbsp &nbsp &nbsp &nbsp &nbsp  ,'+ JSON.stringify(myRows.myRows[i])  +"<br>";
        $('#avro').append(text);
    }
    var footer = '&nbsp &nbsp &nbsp &nbsp  ] <br> }';
    $('#avro').append(footer);  
});

$( "#btn3").click(function() {
    $( "#sql" ).empty();
    var myRows = {myRows:[]};
    var $th = $('#tbl th');
    $('#tbl tbody tr').each(function(i, tr){
        var obj = {}, 
        $tds = $(tr).find('td');
        $td1 = $(tr).find('select.form').children("option:selected");
        $tds2 = $(tr).find('#checkbox');
        $tds3 = $(tr).find('#null');
        $th.each(function(){
            obj['name'] = $tds.eq(0).text();
            var type=$td1.eq(0).val();
            var nullv=$tds3.eq(0).is(':checked');
            if (nullv == false) {
                type= type +' not null';
            }else if (nullv == true) {
                type = type +' null' ;
            }else{
                if (type == 'string') {
                    type = 'varchar(50)';
                }else{
                    type;
                }
            }           
            obj['type'] = type;
            // obj['univoco'] = $tds2.eq(0).is(':checked');
            // obj['null'] = $tds3.eq(0).is(':checked');
        });
        myRows.myRows.push(obj);        
    }); 
    console.log(JSON.stringify(myRows));
    var header = 'CREATE TABLE [schema].[tblName] &nbsp ( <br>';
    $('#sql').append(header);
    var i;
    for (i = 0; i < myRows.myRows.length; i++) {
        text ='&nbsp &nbsp &nbsp &nbsp &nbsp '+ JSON.stringify(myRows.myRows[i].name).replace('\"',' ').replace('\"',' ') +JSON.stringify(myRows.myRows[i].type).replace('\"',' ').replace('\"',' ')   +", <br>";
        $('#sql').append(text);
    }
    var footer = ');';
    $('#sql').append(footer);   
});
```

```
.parent {
    display: grid;
    grid-template-columns: repeat(10, 1fr);
    grid-template-rows: repeat(12, 1fr);
    grid-column-gap: 20px;
    grid-row-gap: 0px;
    }

    .div1 { grid-area: 1 / 2 / 2 / 11; }
    .div2 { grid-area: 5 / 6 / 6 / 7; }
    .div3 { grid-area: 3 / 1 / 5 / 12; }
    .div4 { grid-area: 2 / 1 / 3 / 2; }
    .div5 { grid-area: 6 / 1 / 13 / 4; }
    .div6 { grid-area: 6 / 4 / 13 / 8; }
    .div7 { grid-area: 6 / 8 / 13 / 12; }

    .div6 , .div7{

        border: 1px solid black;
        margin-right: 10px;
    }

    #btn1{
        margin-bottom: 30px;
    }
```

```
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
  <script  src="https://code.jquery.com/jquery-3.4.1.js"  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="   crossorigin="anonymous"> </script>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>
    <h2>Insert the text and the separator and press the button: </h2>
    <div class="parent">
        <div class="div1"></div>
        <div class="div2 btn btn-alert"></div>
        <div class="div3">
      <textarea name="text" id="text" cols="120" rows="4" placeholder="ColumnName1,ColumnName2,ColumnName3,ColumnName4,............"></textarea>
      <input type="button"  value="Convert to Table" id="btn1" class="btn btn-primary"> 
    </div>
        <div class="div4">Separatetor<input type="text" name="sep" id="sep" value=","> </div>
        <div class="div5">
            <input type="button" value="Convert to Avro" class="btn btn-success" id="btn2">
            <input type="button" value="Convert to SQL Create" class="btn btn-info" id="btn3">
            <div id="table"></div>
        </div>
        <div class="div6 card">
            <div class="card-header font-weight-bolder">Avro Format</div>
            <div class="card-body" id='avro'>
            </div>
        </div>
        <div class="div7 card">
            <div class="card-header font-weight-bolder">SQL Create</div>
            <div class="card-body" id='sql'>
            </div>
        </div>
    </div>
</body>
</html>
```

：

[https://codepen.io/GentjanLikaj/pen/dyPXXLX](https://codepen.io/GentjanLikaj/pen/dyPXLXX)

# c# - 点击事件后，列表框项目的文本颜色更改为当前的重点颜色

> ID：12048575
> 
> 赞同：0
> 
> 时间：2012-08-21T04:47:49.093
> 
> 标签：c#, xml, silverlight, windows-phone-7

问题在这里说明： [http ://www.youtube.com/watch?v=EPyYIRvYhSI](http://www.youtube.com/watch?v=EPyYIRvYhSI)

我不知道是什么导致了这个问题，在 a`ScrollView`而不是 a中使用了相同的 XML`ListBox`没有任何问题，当我切换到`ListBox`时，问题出现了。

这是 XML 的一部分（实际上有 114 个网格，由于帖子的字符限制，我现在只显示其中的一些）：

```
<Grid x:Name="ContentPanel" Grid.Row="1" Margin="12,0,12,0">
    <ListBox Name="SV1"   FlowDirection="LeftToRight" Grid.Column="1" >
        <Grid Margin="0" Width="416">

            <Grid Name="grid1" Margin="0,0,0,9120" Tap="grid1_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="1"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="1"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid2" Margin="0,80,0,9040" Tap="grid2_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="2"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="2"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid3" Margin="0,160,0,8960" Tap="grid3_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="50"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="3"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid4" Margin="0,240,0,8880" Tap="grid4_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="77"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="4"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid5" Margin="0,320,0,8800" Tap="grid5_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="106"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="5"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid6" Margin="0,400,0,8720" Tap="grid6_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="128"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="6"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid7" Margin="0,480,0,8640" Tap="grid7_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="151"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="7"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid8" Margin="0,560,0,8560" Tap="grid8_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="177"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="8"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid9" Margin="0,640,0,8480" Tap="grid9_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="187"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="9"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid10" Margin="0,720,0,8400" Tap="grid10_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="208"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="10"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid11" Margin="0,800,0,8320" Tap="grid11_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="221"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="11"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid12" Margin="0,880,0,8240" Tap="grid12_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="235"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="12"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid13" Margin="0,960,0,8160" Tap="grid13_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="249"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="13"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid14" Margin="0,1040,0,8080" Tap="grid14_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="255"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="14"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid15" Margin="0,1120,0,8000" Tap="grid15_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="262"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="15"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid16" Margin="0,1200,0,7920" Tap="grid16_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="267"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="16"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid17" Margin="0,1280,0,7840" Tap="grid17_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="282"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="17"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid18" Margin="0,1360,0,7760" Tap="grid18_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="293"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="18"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>

            <Grid Name="grid19" Margin="0,1440,0,7680" Tap="grid19_Tap" Grid.Column="2">
                <TextBlock Height="80" HorizontalAlignment="Left"  VerticalAlignment="Top" Margin="0,10,0,0" Text="305"  Width="87" TextAlignment="Center" FontSize="50" FontStretch="Normal" />
                <TextBlock Height="80" HorizontalAlignment="Right"  VerticalAlignment="Center" Margin="0,10,0,0" Text="19"  Width="55" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="51" HorizontalAlignment="Right"  VerticalAlignment="Top" Margin="0,3,55,3" Text="XXXX"  Width="324" FlowDirection="RightToLeft" FontSize="40" />
                <TextBlock Height="40" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Margin="0,3,55,3" Text="XXX"  Width="324" FlowDirection="RightToLeft" />

            </Grid>
        </Grid>
    </ListBox>
</Grid> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T05:54:31.027

那是因为您有一个网格作为列表框中的单个列表框项。因此，当您点击列表框时，内部网格显然会被选中。默认情况下，列表框中的选定项目会突出显示。

# c - 如何通过 fscanf 找到 EOF？

> ID：12048576
> 
> 赞同：23
> 
> 时间：2012-08-21T04:47:57.803
> 
> 标签：c, scanf

我在 fscanf() 的帮助下通过文件读取矩阵。我怎样才能找到EOF？即使我尝试在 arr[] 中捕获的每个字符串之后找到 EOF，我也无法找到它。

在计数的帮助下，我正在读取输入文件

-12 23 3

1 2 4

```
int main()
{
    char arr[10],len;
    int count=0;

    FILE *input= fopen("input.txt", "r");

    while(count!=7)
    {   
           fscanf(input,"%s",arr);
          //storing the value of arr in some array.
                   len=strlen(arr);
           count++;

           if(arr[len+1]==EOF)
           printf("\ni caught it\n");//here we have to exit.
    }
return 0;
} 
```

而不是 count 我想通过 EOF 退出循环。怎么解决？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-08-21T04:51:45.113

`fscanf`- “成功时，该函数返回成功读取的项目数。此计数可以匹配预期的读数数，或者在匹配失败的情况下小于 - 甚至为零。在输入失败的情况下，任何数据都可以成功读取，返回EOF。”

因此，与其像现在这样对返回值不做任何事情，您可以检查它是否为`== EOF`.

您应该在调用时检查 EOF `fscanf`，而不是检查 EOF 的数组槽。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-08-21T04:53:25.003

```
while (fscanf(input,"%s",arr) != EOF && count!=7) {
  len=strlen(arr); 
  count++; 
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-02-12T22:53:09.317

如果您的文件中有整数，则 fscanf 返回 1，直到出现整数。例如：

```
FILE *in = fopen("./task.in", "r");
int length = 0;
int counter;
int sequence;

for ( int i = 0; i < 10; i++ ) {
    counter = fscanf(in, "%d", &sequence);
    if ( counter == 1 ) {
        length += 1;
    }
} 
```

要找出带有符号的文件末尾，您可以使用 EOF。例如：

```
char symbol;
FILE *in = fopen("./task.in", "r");

for ( ; fscanf(in, "%c", &symbol) != EOF; ) {
    printf("%c", symbol); 
} 
```

# ruby - Globbing 不适用于 Minitest - 仅运行一个文件

> ID：12048579
> 
> 赞同：3
> 
> 时间：2012-08-21T04:48:31.640
> 
> 标签：ruby, ruby-on-rails-3, minitest

我已将所有规格放入`specs/*.rb`.

但是，当我使用 运行 Minitest 时`ruby spec/**/*_spec.rb`，只运行一个文件。

是什么赋予了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T05:23:08.130

这不是 minitest 特定的，而是 Ruby。您正在有效地运行一个 ruby​​ 程序，它对正在运行的程序一无所知。

Ruby 不支持一次运行多个文件 afaik，因此如果您想获得类似的结果，您可以尝试以下操作：

```
for file in spec/**/*_spec.rb; do ruby $file; done 
```

**更新**：对于您想要的，您可能应该按照[此处所述创建一个 Rake 任务](https://stackoverflow.com/questions/4788288/how-to-run-all-the-tests-with-minitest)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-08-15T22:00:12.790

您可以使用[testrbl](https://github.com/grosser/testrbl)第三方 gem 在命令行上运行多个 Minitest 文件。您还可以使用[maxitest](https://github.com/grosser/maxitest)扩展中的`mtest`bin 。

在 bash 中使用`for`循环会产生为您通过的每个测试加载应用程序/库的开销。如果您只有 10 个测试，并且您正在测试一个需要 5 秒才能启动的 Rails 应用程序，那么这完全是不必要的加载时间超过一分钟。

# asp.net - SMTP 负载问题？

> ID：12048581
> 
> 赞同：1
> 
> 时间：2012-08-21T04:48:41.407
> 
> 标签：asp.net, smtp

我正在制作一个新的 ASP.NET MVC，我只是好奇是否需要仔细选择一个 SMTP 提供程序。我正在考虑在 Azure 或 Amazon 上启动，并可能使用他们的 SMTP 解决方案之一。但是如果我不去云，我想知道 SMTP 负载有多大问题？

这根本不是问题吗？IE 如果我说每分钟发出 10 封电子邮件，我是否需要具有一定容量、排队等的 SMTP 服务器？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T05:01:29.897

每分钟 10 封电子邮件（甚至每分钟 100 封电子邮件）对于工厂 SMTP 服务器的运行来说可能不是问题。

但是，使用 SMTP 转发解决方案有充分的理由。（我使用 dyndns SMTP 中继解决方案效果很好）。

本质上，您关心的是可交付性。将一个可以达到 80% 目标的电子邮件服务器组合在一起非常容易……获得 99.9999% 的交付解决方案会变得有点复杂。

有很多小事情：原始 IP 是否在任何 RBL 站点上被列入黑名单，您是否在该 IP 上设置了正确的反向 DNS，您是否对所有外发电子邮件进行病毒/网络钓鱼扫描（不这样做可能会导致您的 IP在黑名单上，然后清除它很乏味）。

简而言之，面对管理自己的服务器的琐碎麻烦时，每月 10 美元（或其他费用）是很划算的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T04:51:24.113

如果您每分钟大约有 10 封电子邮件，那么负载将不是问题。

可交付性可能是一个更大的问题。如果您从 Amazon 云中运行自己的 SMTP 服务器，您可能会发现 AWS IP 范围被某些收件人服务器用作计算垃圾邮件概率时的负面因素。

无论您选择哪种解决方案，都应该为您的流量提供理想的稳定 IP 地址。如果其他人从同一 IP 地址发送垃圾邮件，也会影响您的发件人声誉。

我没有使用过诸如[Amazon 的 Simple Email Service](http://aws.amazon.com/ses/)或[SendGrid](http://www.windowsazure.com/en-us/develop/net/how-to-guides/sendgrid-email-service/)之类的服务（我们在 Return Path 的帮助下直接管理 SMTP 服务器和我们的发件人声誉），但希望他们能够很好地维护客户的发件人声誉.

# ruby-on-rails - 如何为 erb 中的复选框分配值？

> ID：12048583
> 
> 赞同：6
> 
> 时间：2012-08-21T04:48:54.723
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, view, helper

```
<%= f.check_box:TYPE %> AB <br><br> 
```

我在我的代码中使用了上面提到的内容，当我单击提交时，它需要`1`if`checked`和`0`if`not checked`并且它存储在`db`. 我如何存储`string`类似`AB`if`checked`和`nil`if`not checked`并且我想存储该字符串`db`而不是`0 and 1`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-21T04:54:41.737

这是此辅助方法的定义：

```
check_box (object_name, method, options = {}, checked_value = "1", unchecked_value = "0") 
```

所以我想你需要类似的东西：

```
<%= check_box :type, {}, "AB", "nil" %> AB <br><br> 
```

但是在您的 rails 应用程序中，您会得到 string`'AB'`和 string `'nil'`，它是如何工作的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-08-21T04:56:50.267

Rails 3.2 @ [http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html](http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html) check_box(object_name, method, options = {}, checked_value = "1", unchecked_value = "0")

前任。<%= f.check_box(:type, {}, "yes", "no") %>

# c# - 如何使用 vb.net 或 C# 为 xmlDocument 中的节点集提供/添加父节点

> ID：12048586
> 
> 赞同：1
> 
> 时间：2012-08-21T04:49:39.793
> 
> 标签：c#, vb.net, xmldocument

如何使用 vb.net 为 xmlDocument 中的一组节点添加或提供父节点。

我有以下 xml 节点

```
<books>
   <title>title</title>
   <isbn>123456</isbn>
   <surname>surname</surname>
   <givenname>givenname</givenname>
</books> 
```

现在我想`<author>`为`<surname>`和添加父节点，`<givenname>`如下所示。

```
 <books>
   <title>title</title>
   <isbn>123456</isbn>
   <author>
      <surname>surname</surname>
      <givenname>givenname</givenname>
   </author>
 </books> 
```

谁能告诉我如何在 vb.net 的 xmlDocument 中做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T07:10:19.307

您可以通过调用 来识别节点[`XPathSelectElements`](http://msdn.microsoft.com/en-us/library/bb342176#Y600)，然后将它们从树中移除并将它们添加到新`author`节点。

* * *

**例子：**

```
Dim xml = <books>
            <title>title</title>
            <isbn>123456</isbn>
            <surname>surname</surname>
            <givenname>givenname</givenname>
          </books>

Dim author = <author />
xml.Add(author)
For Each node in xml.XPathSelectElements("./givenname|./surname")
    node.Remove()
    author.Add(node)
Next 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T12:09:54.433

你需要：

1.  获取要修改的父节点（书籍）。
2.  添加新的子元素（作者）。
3.  获取要移动的子元素（姓氏和名字）。
4.  对于您要移动的每个节点，将其从其父节点（书籍）中删除，然后将其作为子节点添加到新的父节点（作者）。

例如：

```
Dim doc As New XmlDocument()
doc.Load(xmlFilePath)
Dim bookToModify As XmlNode = doc.SelectSingleNode("/books")
Dim author As XmlNode = doc.CreateElement("author")
bookToModify.AppendChild(author)
For Each node As XmlNode In bookToModify.SelectNodes("surname | givenname")
    node.ParentNode.RemoveChild(node)
    author.AppendChild(node)
Next 
```

# android - URL解码器不工作

> ID：12048587
> 
> 赞同：1
> 
> 时间：2012-08-21T04:49:46.087
> 
> 标签：android

我正在尝试解码包含撇号的名称字符串。这个名称字符串正在 XML 解析器中解析，所以我想要做的是撇号应该正常显示，而不是显示为`&#039;`. 我尝试使用`URLDecoder.decode(myString, "UTF-*");`解码它，但无济于事。从 StackOverflow 上发布的一个解决方案中，我发现我们需要使用`URLDecoder.decode()`两次。但是，即使这样也行不通。我正在使用的代码是：

```
try {
        temp = URLDecoder.decode("Wing&#039;s", "UTF-8");
        nameOrg = URLDecoder.decode(temp, "UTF-8");
    } 
catch (UnsupportedEncodingException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
```

最后它应该显示`Wing&#039;s`为`Wing's`，但它显示的是相同的字符串。任何帮助都会很棒。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-21T05:08:09.520

你为什么不只是`decode`使用它 `Html.fromHtml(String source)`，

```
Spanned temp = Html.fromHtml("Wing&#039;s");
Log.d("decoded", temp.toString()); 
```

`Output`- 翼的

# c - 在结构上使用 size_t 的类型转换无效

> ID：12048593
> 
> 赞同：0
> 
> 时间：2012-08-21T04:50:35.457
> 
> 标签：c, type-conversion

我正在尝试做这样的事情，

```
#include <stdio.h>

typedef struct Id {
    int _age;
    char _name[10];
} Id;

int main()
{
    Id id = {10, "logan"};
    printf("%u\n", (size_t)id);  // Here is the problem.
} 
```

上面的代码无法编译`gcc`，有什么问题吗？

**我这样做的原因**

好吧，说实话，我正在阅读其他人编写的代码，而我在帖子中所做的几乎就是某人在我正在阅读的代码中所做的。我什至不敢相信这会奏效，所以我自己尝试一下。此外，我只是使用从代码编译的库，我根本没有编译代码。所以我想知道是否设置了一些编译标志？

**更新**

应某人的要求，我发布了我看到的代码的屏幕截图，在这里。 ![在此处输入图像描述](../Images/7d702032a617d68a26ea550c6457ffa7.png)

在此`template`，我说`_Key`的可能是用户定义的`struct`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T06:56:22.160

您发布的屏幕截图`struct xhash`代码是 C++ 代码，而不是 C 代码。

然而，虽然通常可以使它适用于 C++ 中的类类型，但我仍然非常怀疑这个 C++ 代码是否应该与类类型一起使用。我猜想发布的 C++`struct xhash`实现仅用作*标量类型*的“后备”实现，而类类型需要为散列函子提供自己的实现（例如，通过使用模板专业化机制，或通过完全定义不同的散列函子自己）。

同时，在 C 中，这些都没有意义。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T04:54:58.950

我认为，如果您想要该结构的大小，您可能想要使用`sizeof(id)`，它返回一个 type 的值`size_t`。

您目前正在尝试做的是将该结构转换为一种`size_t`类型，如果有的话，它不会真正工作得那么好:-)

换句话说：

```
printf("%zu\n", sizeof(id));  // Here is the solution. 
```

此外（您会注意到），打印`size_t`值的标准方式是使用`z`修饰符：

> **z**：指定后面的 d、i、o、u、x 或 X 转换说明符适用于 size_t 或相应的有符号整数类型参数；或者后面的 n 转换说明符适用于指向对应于 size_t 参数的有符号整数类型的指针。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T05:27:07.720

`struct Id`是一种结构类型。 `size_t`是整数类型。没有从结构类型到整数类型的转换。请参阅[N1570](http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf) 6.5.4p2，“演员”：

> 除非类型名称指定 void 类型，否则类型名称应指定原子的、合格的或不合格**的标量类型，并且操作数应具有标量类型。**

（强调补充。）

可以想象，编译器可能会支持语言扩展等转换，但不太可能；我想不出任何合理的语义。

重新检查您正在使用的代码。要么它不编译（你需要解决这个问题），要么它编译了，因为它并没有真正进行那种转换。

哦，不要定义以下划线开头的标识符；其中大部分保留给实现。`age`并且`name`是非常好的名字；无需打电话给他们`_age`和`_name`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-21T05:00:00.787

更新基思的评论：

如果你想打印年龄，你可以（但行为没有定义，只是实现特定的黑客）

```
 int main() 
{     Id id = {10, "logan"}; 
    printf("%u\n", *((size_t*)((void*)&id)));  
} 
```

打印ID的大小，（返回类型为size_t）

```
 int main() 
{     Id id = {10, "logan"}; 
    printf("%u\n",sizeof(id));  
} 
```

在标题中包含**stddef.h 。**

C 将 size_t 定义为：-

> **size_t 是 sizeof 运算符结果的*无符号整数*类型；**

# android - Android 4.0 长按上的PhoneGap html5 应用

> ID：12048601
> 
> 赞同：4
> 
> 时间：2012-08-21T04:51:57.293
> 
> 标签：android, html, cordova

嗨，我有一个使用 PhoneGap 构建的 android 应用程序。因此，用户界面构建为 HTML5 页面。直到我在 Android 4.0 上测试它之前它工作得很好，现在当我长按时，android 给了我选择 UI 中的文本的选项，并且还给了我顶部的选项来共享书签等。谁能帮我把它关掉？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-21T05:59:41.867

更新您的应用程序类：

```
public class MainActivity extends DroidGap {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    super.loadUrl("file:///android_asset/www/index.html");

    super.appView.setOnLongClickListener(new View.OnLongClickListener() {

        public boolean onLongClick(View v) {
            return true;
        }
    });
}} 
```

# mysql - 将 INDEX 应用于外键的正确方法

> ID：12048602
> 
> 赞同：1
> 
> 时间：2012-08-21T04:52:05.477
> 
> 标签：mysql, sql, indexing

我有一个带有 2 个外键的表。我对 MySQL 有点陌生，有人能告诉我将 INDEX 应用于表的正确方法是什么吗？

```
# Sample 1
CREATE  TABLE IF NOT EXISTS `my_table` (
  `topic_id` INT UNSIGNED NOT NULL ,
  `course_id` INT UNSIGNED NOT NULL ,
  PRIMARY KEY (`topic_id`, `course_id`) ,
  INDEX `topic_id_idx` (`topic_id` ASC) ,
  INDEX `course_id_idx` (`course_id` ASC) )
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_general_ci;

# Sample 2
CREATE  TABLE IF NOT EXISTS `my_table` (
  `topic_id` INT UNSIGNED NOT NULL ,
  `course_id` INT UNSIGNED NOT NULL ,
  PRIMARY KEY (`topic_id`, `course_id`) ,
  INDEX `topic_id_idx` (`topic_id`, `course_id`) ,
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_general_ci; 
```

我想我真正要问的是，将两者定义为单独的索引和将另一个定义为组合有什么区别？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T05:50:20.593

您可能想要其中一个而不是另一个的原因与您计划如何查询数据有关。做出正确的决定可能有点技巧。

例如，在文件柜中查找学生的文件夹时考虑组合键，首先按学生的姓氏，然后按他们的名字。

Now, in the case of the two single indexes in your example, you could imagine, in the student example, having two different sets of organized folders, one with every first name in order, and another with ever last name in order. In this case, you'll always have to work through the greatest amount of similar records, but that doesn't matter so much if you only have one name or the other anyway. In such a case, this arrangement gives you the greatest flexibility while still only maintaining indexes over two columns.

In contrast, if given both first and last name, it's a lot easier for us as humans to look up a student first by last name, then by first name (within a smaller set of potentials). However, when the last name is not known, it makes it very difficult to find the student by first name alone because the students with the same first-name are potential interleaved with every veration of last name (table scan). This is all true for the algorithms the computer uses to look up the information too.

So, as a rule of thumb, add the extra key to a single index if you are going to be filtering the data by both values at once. If at times you will have one and not the other, make sure which ever value that is, it's the leftmost key in the index. If the value could be either, you'll probably want both indexes (one of these could actually have both key for the best of both words, but even that comes at a cost in terms of writes). Getting this stuff right can be pretty important, as this often amounts to an all or nothing game. If all the data the dbms requires to preform the indexed lookup isn't present, it will probably resort to a table scan. Mysql's `explain` feature is one tool which can be helpful in checking your configuration and identifying optimizations.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T04:57:20.960

如果您使用一个键创建索引，那么当搜索数据时，它将仅通过该键找到。

```
 INDEX `topic_id_idx` (`topic_id` ASC) ,

 INDEX `course_id_idx` (`course_id` ASC) 
```

在这种情况下，数据将分别搜索 topic_id 和 course_id。但是如果你将它们结合起来，就会搜索结合它们的数据。

例如，如果您有如下一些数据：

```
topic_id       course_id

----------

abc               1
pqr               2
abc               3 
```

如果你想搜索 abc - 3 如果你放置单独的索引，那么它将分别搜索这两列并找到结果。但如果将它们组合起来，它将直接搜索 abc+3。

# ios - MWPhotoBrowser：为每张照片显示标题

> ID：12048604
> 
> 赞同：3
> 
> 时间：2012-08-21T04:52:08.740
> 
> 标签：ios

我在我的 iOS 应用程序中使用 MWPhotoBrowser。我希望控件和标题保持可见，直到用户点击以关闭控件和标题。当我滑动移动到下一张照片时，标题和工具栏消失了。我希望它在用户点击照片时在可见和隐藏之间切换。如果用户点击以显示标题，然后滑动以查看下一张照片，则标题会再次消失。我希望它保持可见

我在 MWPhotoBrowser 的公共界面中看不到任何允许我控制此行为的内容。有几个相关的私有方法，但我想知道是否有适当的方法来控制这种行为。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:32:59.087

我不知道这个答案是否为时已晚，但您仍然需要编辑`MWPhotoBrowser`类并查找`- (void)hideControlsAfterDelay;`方法调用只需评论它以使其始终可见，或者您可以将此方法添加到委托并可以从您的结尾。

# .htaccess - .htaccess 部分重定向索引请求

> ID：12048607
> 
> 赞同：1
> 
> 时间：2012-08-21T04:53:19.697
> 
> 标签：.htaccess, webserver

我在他们的网站上为朋友做一些工作，当我们在新网站上工作时，我想设置他们的 .htaccess 文件以使用以下规则重定向用户：

*   将任何对 / 或 /index.html 的请求重定向到子目录（例如，两者都`http://example.com/`应该`http://example.com/index.html`重定向到`http://example.com/legacy/index.html`）
*   允许对 index.php 的直接请求在没有重定向的情况下通过（例如`http://example.com/index.php`）
*   如果可能，对第二个子目录的请求会被重定向到 index.php（例如`http://example.com/beta/`重定向到`http://example.com/index.php`）

这可能是一个简单的请求，但我对 .htaccess 使用的规则语言没有经验。

提前致谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T05:13:09.597

*   将任何请求重定向到`/`或重定向`/index.html`到子目录（例如，两者都`http://example.com/`应该`http://example.com/index.html`重定向到`http://example.com/legacy/index.html`）

    ```
    RewriteEngine On
    RewriteRule ^(index\.html)?$ /legacy/index.html [L] 
    ```

*   允许对 index.php 的直接请求在没有重定向的情况下通过（例如`http://example.com/index.php`）

    ```
    RewriteRule ^index\.php$ - [L] 
    ```

*   如果可能，对第二个子目录的请求会被重定向到 index.php（例如[http://example.com/beta/](http://example.com/beta/)重定向到`http://example.com/index.php`）

    ```
    RewriteRule ^beta/?$ /index.php [L] 
    ```

这些都将放在文档根目录中的 htaccess 文件中。如果您确实想重定向浏览器以使地址栏中的 URL 发生变化，`R=301`请在方括号中包含 a: `[L,R=301]`。如果当您说“*对第二个子目录的请求被重定向到 index.php* ”时，意思是“任何子目录”，则需要将规则更改为：

```
RewriteRule ^([^/]+)/?$ /index.php [L] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:03:07.170

我用codeigniter做了相反的事情......

```
 RewriteEngine On    
    RewriteBase /myproject
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php/$1 [L]

    $config['base_url'] = 'http://localhost/myproject/';
    $config['index_page'] = ''; 
```

希望这可以帮助

# java - 为什么 iText 的 PdfWriter 在导出为可运行 jar 时打印 JTextFields 黑色？

> ID：12048610
> 
> 赞同：2
> 
> 时间：2012-08-21T04:53:25.183
> 
> 标签：java, swing, pdf, itext, jtextfield

我有一个奇怪的难题。我目前正在尝试为我正在处理的 Eclipse 项目制作一个可运行的 Jar，其中有许多 JTextField 和 JFormattedTextField 都很好地排列在 JPanel 中。然后我将这些JPanel 打印出来，使用iText 的漂亮PdfWriter。

问题是这样的：在 Eclipse 中，这打印得很好。当我将项目导出到可运行的 jar 中时，我得到以下信息：

![我的问题](../Images/335791d6655b3a89af8052816dfdd30b.png)

所有这些黑色矩形都是我的 JTextField 和 JFormattedTextField 所在的位置。

有谁知道可能是什么原因造成的？这就是我打印东西的方式，记住，它在 Eclipse 中工作，但在导出为可运行 jar 时不能：

```
private void print() throws DocumentException, IOException {
    Document document = new Document(PageSize.LETTER, 0, 0, 0, 0);
    File file = new File(System.getProperty("user.home") + File.separator
            + "Desktop" + File.separator + "temp.pdf");
    if (!file.exists()) {
        file.createNewFile();
    }
    PdfWriter writer = PdfWriter.getInstance(document,
            new FileOutputStream(file));
    document.open();
    PdfContentByte contentByte = writer.getDirectContent();
    int x = (int) document.getPageSize().getWidth() / 2 - 250;
    int y = (int) document.getPageSize().getHeight() - 375;
    for (int i = 0; i < jobs.size(); i++) {
        jobs.get(i).setFocusable(false);
        contentByte.moveTo(0, y + 235);
        contentByte.lineTo(document.getPageSize().getWidth(), y + 235);
        contentByte.closePathStroke();
        y += 5;
        PdfTemplate template = contentByte.createTemplate(600, 250);
        @SuppressWarnings("deprecation")
        Graphics2D g2 = template.createGraphics(600, 250);
        jobs.get(i).print(g2);
        g2.dispose();
        contentByte.addTemplate(template, x, y);
        y -= 105;
        jobs.get(i).setFocusable(true);
    }
    contentByte.moveTo(0, y + 235);
    contentByte.lineTo(document.getPageSize().getWidth(), y + 235);
    contentByte.closePathStroke();

    y = 25;
    PdfTemplate template = contentByte.createTemplate(600, 25);
    @SuppressWarnings("deprecation")
    Graphics2D g2 = template.createGraphics(600, 25);
    total.setFocusable(false);
    totalPanel.setOpaque(false);
    totalPanel.print(g2);
    g2.dispose();
    contentByte.addTemplate(template, x - 65, y);
    total.setFocusable(true);
    totalPanel.setOpaque(true);

    document.close();
} 
```

感谢您所有的帮助！

# visual-studio-2012 - 从 Web 平台安装程序中的何处获取 Visual Studio LightSwitch 2012 服务器运行时？

> ID：12048611
> 
> 赞同：0
> 
> 时间：2012-08-21T04:53:39.863
> 
> 标签：visual-studio-2012, visual-studio-lightswitch

我已将我的 2011 Lightswitch 应用程序升级到 2012 RTM，它在本地运行良好。但是，当我尝试将其发布到我的网络服务器时，它失败了（[http://blogs.msdn.com/b/bethmassi/archive/2011/03/23/deployment-guide-how-to-configure-a-web -server-to-host-lightswitch-applications.aspx](http://blogs.msdn.com/b/bethmassi/archive/2011/03/23/deployment-guide-how-to-configure-a-web-server-to-host-lightswitch-applications.aspx)）。

我检查了实时服务器上的 Web 平台安装程序，它没有“**没有本地 SQL 的 Visual Studio LightSwitch 2012 服务器运行时**”（[http://msdn.microsoft.com/en-us/library/Gg481779(v=vs.110 ).aspx](http://msdn.microsoft.com/en-us/library/Gg481779%28v=vs.110%29.aspx) ) - 它只有 2011 版本。

我从哪里获得**2012**版？网上关于它的信息很少。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-22T23:05:28.850

好的，我将在这里总结我的经验，因为它可能会帮助其他正在升级的人。我的应用程序使用 Telerik RadgridView 控件和表单身份验证。它运行 OOB：

1）首先，我升级到 RTM LS2012 版本并重建我的应用程序 - 在 Dev 上一切正常。

2）然后我尝试部署到我的 Win2008 服务器而不做任何更改（注意：它运行的是 LS2011 版本，没有任何问题）。这在发布过程中失败并显示“未知”消息。为了解决这个问题，我取消了发布向导上的标记“IIS 服务器具有 Lightswitch 部署先决条件”。

3) 下一个问题：Silverlight 应用程序会显示“正在加载”，然后显示一个空白屏幕。有一次我收到一条消息，说“**调试资源字符串不可用**”。这里的问题是发布向导创建的 IIS 站点具有 Windows 和 Forms 身份验证（在 IIS 身份验证图标下）。禁用 Windows Auth 解决了这个问题。我终于能够登录到我的应用程序。

4）最难的问题：应用程序将登录并正常工作约 20 秒。然后它会抛出一个 Silverlight 未处理的异常：“ **sllauncher.exe 中 0x5ceed700 处的未处理异常：0xC0000 094：整数除以零**”。经过大量谷歌搜索后，有人问我是否使用虚拟机——服务器是虚拟机，他们建议我作为单处理器运行（即这是一个线程错误）。我没有尝试这个，而是尝试从另一台 PC 作为客户端 OOB 运行（我在服务器上进行测试）。然后这奏效了。

毕竟，我的应用程序现在已启动并作为 Lightswitch 2012 运行......希望这对某人有所帮助！

**注意**：我没有在服务器上安装 .NET 4.5（我的项目针对 .NET 4）或 Lightswitch 2012 必备组件。它适用于 Silverlight 4 Telerik dll。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T12:10:10.243

我认为您需要的只是将应用程序目录中的 .NET 框架从 4.0 更改为 4.5。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-04T15:24:19.590

它被称为“LightSwitch for Visual Studio 2012 - 带有（不）本地 SQL Express 的服务器配置”，可在 Web 平台安装程序中获得。

# asp.net-mvc - 在 MVC3 中制作 .edmx 文件以使用 web.config 连接字符串

> ID：12048612
> 
> 赞同：0
> 
> 时间：2012-08-21T04:53:42.047
> 
> 标签：asp.net-mvc, asp.net-mvc-3, entity-framework, web-config

我正在尝试使用 MVC3 架构开发 Web 应用程序。

我有用于所有数据库相关操作的 DAL 库，我的 Web 应用程序是一个单独的应用程序。

现在，如果我通过在 DAL 库中拖放来更新我的 .edmx 文件，则该库的 app.config 文件将得到更新。

这在我开发时很好，但是在部署时，我不希望我的应用程序使用 app.config 文件中的连接字符串，而是使用我的 Web 应用程序中的 web.config 文件。

谁能给我一个想法如何实现这一目标？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T04:59:39.157

您可以将连接字符串传递给 DataContext。

例如

```
using (var context = new DataContext(Setting.MyConnectionString))
{
   var query = context.MyTable.Where(s => s.Id == 1);
} 
```

# startupscript - 创建用于运行 VNUML 的启动脚本

> ID：12048613
> 
> 赞同：0
> 
> 时间：2012-08-21T04:53:59.360
> 
> 标签：startupscript

为了创建包含特定设备数量的 VNUML 模拟，我们使用 vnumlparser.pl -t -u root -w 100

但是我无法使用我在位置 /etc/rcS.d/ 目录中创建的启动脚本来运行它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-30T07:06:08.297

谢谢大家，我明白了。为了使用启动脚本创建 VNUML 模拟，我只需要添加以下内容：

**/usr/local/bin/vnumlparser.pl -t -u root -w 100**

如果在脚本文件中使用此命令行并将其放置在 /etc/rcS.d/ 目录中，则将在 PC 启动期间创建模拟。

# javascript - 获取字符串的所有组合

> ID：12048621
> 
> 赞同：7
> 
> 时间：2012-08-21T04:55:20.707
> 
> 标签：javascript, combinations

我正在尝试在 JavaScript 中创建一个函数，给定一个字符串将返回一个包含所有可能字母组合的数组，每个字母最多使用一次，从最短的开始。例如，对于字符串 ABC，它将返回：

```
A
B
C
AB
AC
ABC 
```

我可以像这样使用循环：

```
for(i=0; i<string.length; i++) {
   //add string[i]
}
for(i=0; i<string.length; i++) {
    for(a=i; a<string.length; a++) {
            //add string[i]+string[a]
    }
}
for(i=0; i<string.length; i++) {
    for(a=i; a<string.length; a++) {
        for(b=a; b<string.length; b++) {
            //add string[i]+string[a]+string[b]
        }
    }
} 
```

但我不知道字符串的长度，所以不知道要使用多少个循环。

有任何想法吗？

编辑：我不是要求排列，不应同时返回 abc 和 acb 。同样，最短的排在第一位也很重要。

这不是家庭作业。这是一个解决“熄灯”类型游戏的程序。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-21T05:36:38.463

这是一个我认为很容易理解的递归解决方案。

```
var tree = function(leafs) {
  var branches = [];
  if (leafs.length == 1) return leafs;
  for (var k in leafs) {
    var leaf = leafs[k];
    tree(leafs.join('').replace(leaf, '').split('')).concat("").map(function(subtree) {
      branches.push([leaf].concat(subtree));
    });
  }
  return branches;
};
console.log(tree("abc".split('')).map(function(str) {
  return str.join('')
}))
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2018-02-19T14:52:13.930

您可以使用一个讨厌的技巧并增加一个计数器并将其二进制表示用作标志：

```
function combine(str){
   const result = [];
   for(let i = 1; i < Math.pow(2, str.length) - 1; i++)
      result.push([...str].filter((_, pos) => (i >> pos) & 1).join(""));
  return result;
}
console.log(combine('abcd'));
```

[杰宾](http://jsbin.com/kufomiqeve/edit?console)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-05-19T20:16:45.893

这就是我最终使用的。

```
var combinations = function (string)
{
    var result = [];

    var loop = function (start,depth,prefix)
    {
        for(var i=start; i<string.length; i++)
        {
            var next = prefix+string[i];
            if (depth > 0)
                loop(i+1,depth-1,next);
            else
                result.push(next);
        }
    }

    for(var i=0; i<string.length; i++)
    {
        loop(0,i,'');
    }

    return result;
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2017-08-09T09:18:56.127

这是使用循环，正如你所期望的最简单的方法..祝你好运

```
 function mixString() {
            var inputy = document.getElementById("mixValue").value
            var result = document.getElementById("mix-result")
            result.innerHTML=""

            for (var i = 0 ; i < inputy.length; i++) {

                for (var b = 0 ; b < inputy.length; b++) {

                    if (i == b) {

                        result.innerHTML += inputy.charAt(i) + ","
                    }
                    else
                    {
                        result.innerHTML += inputy.charAt(i) + inputy.charAt(b) + ","
                    }

                }

            }
        }
```

```
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <div class="container">
        <div class="panel panel-default">
            <div class="panel-heading">JavaScript string combination
</div>
            <div class="panel-body">
                <input id="mixValue" class="form-control" />
                <input type="button" onclick="mixString()" value="click" />
                <div id="mix-result"></div>
            </div>
        </div>
    </div>
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-12-01T16:01:10.793

```
function combinations(var1) {

    var temp;

    for (var i = 0; i < var1.length; i++) {
        var2 = "";

        temp = i;

        while (temp < var1.length) {

            var2 = var2.concat(var1.charAt(temp));
            // console.log(var2)
            if (i == var1.length - 1)
                document.getElementById('result').innerHTML += var2;

            else
                document.getElementById('result').innerHTML += var2 + ',';
            temp++;
        }
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-02-19T15:00:56.220

您可以通过使用或不使用给定键处的字符来采用迭代和递归方法。

```
function combine(string) {
    function iter(i, temp) {
        if (i >= string.length) {
            result.push(temp);
            return;
        }
        iter(i + 1, temp + string[i]);
        iter(i + 1, temp);
    }

    var result = [];
    iter(0, '');
    return result;
}

console.log(combine('jump'));
```

```
.as-console-wrapper { max-height: 100% !important; top: 0; }
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-07-29T17:00:49.767

截至 2019 年 7 月 29 日，公认的解决方案允许在数组中返回重复的字符串。以下调整通过向推送添加条件来解决这个小问题。

```
 // however, we don't want duplicates so...
            if (!result.includes(next)) {
                result.push(next);    
            } 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-07-22T16:03:55.000

生成器允许非常干净的实现：

```
// Very short generator produces all possible strings composed of the given chars!
let allStrings = function*(chars) {
  yield '';
  for (let prefix of allStrings(chars)) for (let c of chars) yield `${prefix}${c}`;
};

// Render the first 1000 strings
document.body.style.fontFamily = 'monospace';
let count = 0;
for (let str of allStrings('abcd')) {
  let div = document.createElement('div');
  div.innerHTML = `${(count + 1).toString().padStart(4, '0')}: ${str}`;
  document.body.appendChild(div);
  if (count++ > 1000) break;
}
```

请注意，第一个结果`allStrings`是空字符串。如果避免这种情况至关重要，可以使用以下实现：

```
let allStrings = function*(chars, includeEmpty=false) {
  if (includeEmpty) yield '';
  for (let prefix of allStrings(chars, true)) for (let c of chars) yield `${prefix}${c}`;
}; 
```

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2021-05-29T07:24:17.483

//字符串的所有组合 // dog => d,do,dog,og,g

```
function combinationString(){
    let str = 'dog';
    let combinationArray = [];

    for(i=0; i< str.length; i++){
        for(j=i+1; j<=str.length; j++){
            combinationArray.push(str.slice(i,j));
        }
    }
    console.log("Combination ", combinationArray);
}
combinationString() 
```

# android - android app和web service之间的数据交换

> ID：12048622
> 
> 赞同：0
> 
> 时间：2012-08-21T04:55:37.167
> 
> 标签：android, ruby-on-rails

我有一个带有一些数据（由纬度和经度组成）的 Android 应用程序和一个带有 MySQL 数据库的 RAILS Web 服务......我想知道如何将这些数据发送到我的数据库

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T05:30:37.263

您需要一个具有逻辑实现的 Web 服务器，以使用 Java/PHP 等从 mysql 服务器接受/更新/删除数据......您需要在清单文件中指定互联网权限。并按照下面的链接了解更多详细信息[如何使 PHP 服务器向 Android 设备发送数据](https://stackoverflow.com/questions/6387212/how-to-make-php-server-sends-data-to-an-android-device)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:04:01.677

对您的网络服务进行 REST post/put 调用。您可以使用 Android httpclient 建立连接。该 api 可在此处获得

[http://developer.android.com/reference/android/net/http/AndroidHttpClient.html](http://developer.android.com/reference/android/net/http/AndroidHttpClient.html)

与往常一样，不要忘记打开您的 Internet 权限并在 AsyncTask 或其他线程中执行网络任务，以防止 UI 线程阻塞。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T05:01:25.073

Rails 公开了 REST API，您可以使用这些 API 将数据发送到您的服务器。应该有一个 api 可以接受 post 请求并更新 Web 应用程序数据库中的数据。向您的 Rails 开发人员询问网址。

# objective-c - 为什么设置断点时我的 xcode 会跳转到汇编视图？

> ID：12048625
> 
> 赞同：14
> 
> 时间：2012-08-21T04:56:24.143
> 
> 标签：objective-c, xcode, debugging, ios5, breakpoints

当我尝试使用断点进行调试时，无论哪一行代码，它都会像这样跳转到汇编视图。我想要当前源代码的亮点回来！！

我该如何配置它？

![在此处输入图像描述](../Images/6da4b1264d0233f5d60a94c627e03568.png)

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-08-23T11:54:01.590

有时这是一个有用的功能，但很容易关闭：

`Debug > Debug Workflow > Always Show Disassembly`

在旧版本的 Xcode (<6.1) 中：

`Product > Debug Workflow > Show Disassembly When Debugging`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-10-21T15:14:37.793

我在 Xcode 6.1 中遇到了同样的问题，并通过执行以下操作解决了它：

调试 -> 调试工作流程 -> 取消选中始终显示反汇编

确保未选中“始终显示反汇编”

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T05:08:04.153

你可以试试这个

产品 > 调试 > 创建符号断点

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-09T16:59:36.603

我同意 humphriesj 关于 Xcode 6.1 中“始终显示反汇编”的观点，它确实工作了一段时间。

但对我来说，它似乎已经**重新打开了，**即使它在菜单**中仍未选中。**我打开它，然后又关闭它，终于又可以看到源代码了。

# html - 如何使用 iframe 进行单点登录 (SSO)

> ID：12048626
> 
> 赞同：2
> 
> 时间：2012-08-21T04:56:29.290
> 
> 标签：html, asp.net-mvc, forms, asp.net-mvc-4, watin

我想做这样的事情：

*   我将有一个带有我的应用程序按钮的栏的框架
*   我将有一个带有应用程序的框架

我喜欢的是，当我单击第一帧中的按钮时，它会将凭据发送到应用程序。我应该采取哪种方法？

发出http post请求？使用类似 watin 的用户模拟点击？

在第一个中，我看到它很复杂，因为 cookie。在第二种方法中，我理解 watin 不起作用，因为我们需要它在服务器端工作。

# javascript - 使用 JavaScript 验证 HTML 表单输入

> ID：12048632
> 
> 赞同：1
> 
> 时间：2012-08-21T04:57:09.537
> 
> 标签：javascript, html

> **可能重复：**
> [在 Javascript 中验证电子邮件地址？](https://stackoverflow.com/questions/46155/validate-email-address-in-javascript)

我有一个使用 PHP/MySQL 发布到数据库的 HTML 表单。在表单的电子邮件部分，如果用户键入的电子邮件地址不是有效的电子邮件地址格式，我希望向用户显示一条错误消息。我正在模拟这样的代码，但我无法让它工作。

请注意，每当我点击表单上的提交按钮时，表单都会提交，并且 PHP 操作工作正常。问题是我可以在表格中输入任何我喜欢的东西，它会通过的。我希望它显示错误消息“不是有效的电子邮件地址”。我知道我也可以通过 PHP 进行验证，但我也想在客户端进行验证。

有人可以帮忙吗？

```
 <script type="text/javascript">
function validateEmail()
{
var x=document.forms["test"]["email"].value;
var atpos=x.indexOf("@");
var dotpos=x.lastIndexOf(".");
if (atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length)
 {
alert("Not a valid e-mail address");
return false;
 }
 }
  </script>

  <form name"test" action="roads.php" onsubmit="return validateEmail();" method="post">

  <input type="text" name="email" placeholder="Enter your e-mail" />

   <input type="submit" value="Show Me!" />

   </form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T05:11:05.930

您`=`在 html 中缺少一个，它不会形成名称测试..并且 javascript 找不到名称测试的形式，并引发错误...检查**控制台日志**以查找 javascript 错误..

```
<form name"test" action="roads.php" onsubmit="return validateEmail();" method="post">

<form name="test" action="roads.php" onsubmit="return validateEmail();" method="post"> 
```

[工作代码](http://jsfiddle.net/VJuU2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:23:39.343

这是访问表单及其字段的更好方法 - 还记得返回 true

假设`<form id="testform" action="roads.php" method="post">`

我们可以使用不显眼的脚本

```
<script>
window.onload=function() {
  document.getElementById("testform").onsubmit=function () {
    var email=this.email.value;
    var atpos=x.indexOf("@");
    var dotpos=x.lastIndexOf(".");
    if (atpos<1 || dotpos<atpos+2 || dotpos+2>=email.length) {
      alert("Not a valid e-mail address");
      return false;
    }
    return true;
  }
}
</script> 
```

# sql - SQL查询以查找ID不在另一个表中的记录

> ID：12048633
> 
> 赞同：163
> 
> 时间：2012-08-21T04:57:13.317
> 
> 标签：sql, database, postgresql

我在数据库中有两个具有绑定主键的表，我希望在它们之间找到一个不相交的集合。例如，

*   `Table1`有列 ( `ID, Name`) 和样本数据：`(1 ,John), (2, Peter), (3, Mary)`
*   `Table2`有列 ( `ID, Address`) 和样本数据：`(1, address2), (2, address2)`

那么如何创建一个 SQL 查询，以便我可以从中获取 ID`table1`不在的行`table2`。在这种情况下，`(3, Mary)`应该退货吗？

**PS：** ID 是这两个表的主键。

* * *

## 回答 #1

> 赞同：257
> 
> 时间：2012-08-21T05:01:18.750

尝试这个

```
SELECT ID, Name 
FROM   Table1 
WHERE  ID NOT IN (SELECT ID FROM Table2) 
```

* * *

## 回答 #2

> 赞同：127
> 
> 时间：2012-08-21T05:00:51.207

利用`LEFT JOIN`

```
SELECT  a.*
FROM    table1 a
            LEFT JOIN table2 b
                on a.ID = b.ID
WHERE   b.id IS NULL 
```

* * *

## 回答 #3

> 赞同：32
> 
> 时间：2019-04-04T23:47:23.930

基本上有 3 种方法`not exists`：`not in`和`left join / is null`。

## IS NULL 左连接

```
SELECT  l.*
FROM    t_left l
LEFT JOIN
        t_right r
ON      r.value = l.value
WHERE   r.value IS NULL 
```

## 不在

```
SELECT  l.*
FROM    t_left l
WHERE   l.value NOT IN
        (
        SELECT  value
        FROM    t_right r
        ) 
```

## 不存在

```
SELECT  l.*
FROM    t_left l
WHERE   NOT EXISTS
        (
        SELECT  NULL
        FROM    t_right r
        WHERE   r.value = l.value
        ) 
```

哪一个更好？这个问题的答案可能最好分解为主要的特定 RDBMS 供应商。一般来说，`select ... where ... in (select...)`当子查询中的记录数大小未知时，应避免使用。一些供应商可能会限制尺寸。例如，Oracle 的[限制为 1,000](http://www.dba-oracle.com/t_maximum_number_of_sql_in_list_values.htm)。最好的办法是尝试所有三个并显示执行计划。

`NOT EXISTS`具体形成 PostgreSQL ，其执行计划`LEFT JOIN / IS NULL`是一样的。我个人更喜欢这个`NOT EXISTS`选项，因为它更好地显示了意图。毕竟语义是*您想在 A 中查找其 pk**不存在**于 B*中的记录。

旧但仍然是黄金，虽然特定于 PostgreSQL：[https ://explainextended.com/2009/09/16/not-in-vs-not-exists-vs-left-join-is-null-postgresql/](https://explainextended.com/2009/09/16/not-in-vs-not-exists-vs-left-join-is-null-postgresql/)

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2016-08-23T14:04:20.607

## 快速替代

我使用两个表进行了一些测试（在 postgres 9.5 上），每个表都有约 2M 行。下面的这个查询比提出的其他查询至少好 5*：

```
-- Count
SELECT count(*) FROM (
    (SELECT id FROM table1) EXCEPT (SELECT id FROM table2)
) t1_not_in_t2;

-- Get full row
SELECT table1.* FROM (
    (SELECT id FROM table1) EXCEPT (SELECT id FROM table2)
) t1_not_in_t2 JOIN table1 ON t1_not_in_t2.id=table1.id; 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2016-12-20T13:42:33.953

请记住上面@John Woo 的评论/链接中提出的观点，这就是我通常会如何处理它：

```
SELECT t1.ID, t1.Name 
FROM   Table1 t1
WHERE  NOT EXISTS (
    SELECT TOP 1 NULL
    FROM Table2 t2
    WHERE t1.ID = t2.ID
) 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2015-12-08T21:17:50.577

```
SELECT COUNT(ID) FROM tblA a
WHERE a.ID NOT IN (SELECT b.ID FROM tblB b)    --For count

SELECT ID FROM tblA a
WHERE a.ID NOT IN (SELECT b.ID FROM tblB b)    --For results 
```

# sql - 显示来自两个字段的日期

> ID：12048638
> 
> 赞同：1
> 
> 时间：2012-08-21T04:57:34.987
> 
> 标签：sql, sql-server-2008, tsql, date

我有一个有两列`startdate`和`enddate`（类型`DATETIME`）的表。当我传递开始日期和结束日期这两个参数时，我需要显示两列中两个日期之间的所有日期。

IE。我有这张桌子：

```
 startdate  enddate
 ---------------------
 6/1/2012   6/7/2012
 6/5/2012   6/9/2012
 6/10/2012  6/15/2012 
```

当我传递两个日期时`6/3/2012`，`6/20/2012`我想显示这个结果集：

```
 6/5/2012
  6/7/2012
  6/9/2012
  6/10/2012
  6/15/2012 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T05:04:49.100

`UNION`中的所有日期`SubQuery`。尝试，

```
SELECT allDates
FROM
(
    SELECT startdate as allDates
    FROM table
    UNION
    SELECT endDate as allDates
    FROM table
) a
WHERE allDates BETWEEN '6/3/2012' AND '6/20/2012' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:17:54.297

MySql 示例语法：

```
CREATE TABLE TEST(STARTDATE DATE,ENDDATE DATE);

INSERT INTO TEST VALUES (NOW(), NOW());
INSERT INTO TEST VALUES ('2012-08-19', '2012-08-15');
INSERT INTO TEST VALUES ('2012-08-17', '2012-08-10');
INSERT INTO TEST VALUES ('2012-08-23', '2012-08-21');

SELECT STARTDATE FROM TEST WHERE STARTDATE BETWEEN '2012-08-15' AND '2012-08-23' 
UNION SELECT ENDDATE FROM TEST WHERE ENDDATE BETWEEN '2012-08-15' AND '2012-08-23' 
ORDER BY STARTDATE; 
```

# windows-phone-7 - 异常“在 IsolatedStorageFileStream 上不允许操作。”

> ID：12048643
> 
> 赞同：0
> 
> 时间：2012-08-21T04:58:01.613
> 
> 标签：windows-phone-7

我正在尝试从 IsolatedStorage 中保存图像。我收到错误消息：“Operation not allowed on IsolatedStorageFileStream。”。我的代码如下所示。我该如何克服这个问题？

```
 public HomePage()
        {
            InitializeComponent();
            // Create a filename for JPEG file in isolated storage.
            String tempJPEG = "/Images/homescreenmap.png";

            // Create virtual store and file stream. Check for duplicate tempJPEG files.
            using (IsolatedStorageFile myIsolatedStorage = IsolatedStorageFile.GetUserStoreForApplication())
            {
                if (myIsolatedStorage.FileExists(tempJPEG))
                {
                    myIsolatedStorage.DeleteFile(tempJPEG);
                }

                IsolatedStorageFileStream fileStream = myIsolatedStorage.CreateFile(tempJPEG);

                StreamResourceInfo sri = null;
                Uri uri = new Uri(tempJPEG, UriKind.Relative);
                sri = Application.GetResourceStream(uri);

                BitmapImage bitmap = new BitmapImage();
                bitmap.SetSource(sri.Stream);
                WriteableBitmap wb = new WriteableBitmap(bitmap);

                // Encode WriteableBitmap object to a JPEG stream.
                Extensions.SaveJpeg(wb, fileStream, wb.PixelWidth, wb.PixelHeight, 0, 85);

                //wb.SaveJpeg(fileStream, wb.PixelWidth, wb.PixelHeight, 0, 85);
                fileStream.Close();
            }

        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:27:20.323

隔离存储异常意味着它找不到您设置的位置的路径，在您的情况下，这是文件夹图像。只需在创建文件之前添加以下代码：

```
if (!myIsolatedStorage.DirectoryExists("Images"))
{
    myIsolatedStorage.CreateDirectory("Images");
} 
```

# javascript - 如何让突变观察者检测文本区域的值变化？

> ID：12048645
> 
> 赞同：9
> 
> 时间：2012-08-21T04:58:17.340
> 
> 标签：javascript, mutation-observers

我见过突变观察者在修改doms时用于获取doms的属性，例如使用google chrome开发者工具。`textarea`但是，当由于用户键入或粘贴而导致文本更改时，我无法找到如何调用函数。在我的代码中，当用户键入回调时，即使所有观察选项都设置为 true，也不会调用回调。这个代码是什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-19T13:03:16.260

变异观察者监听 DOM 的变化。然而，表单元素的当前状态并没有被 DOM 反映。

例如，创建一个输入元素*input*而不设置 value 属性。在输入字段中输入文本时，*input.value 会*反映此文本。另一方面，*input.getAttribute('value')*仍然返回*null*。

因此，突变观察者无法观察到表单字段状态的这种变化。

（提议的 ECMAScript 第 6 版的 Object.observe 也无济于事。虽然在最近的 Chrome 版本中可以监听宿主对象的变化，但没有观察到宿主对象属性的变化，如上面的*输入**值。）*

 ** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:11:52.613

请参阅此链接[Textarea onchange detection](https://stackoverflow.com/questions/2823733/textarea-onchange-detection)。您将需要编写 onkeyup 和 onchange 函数。

顺便说一句，上面的答案不适用于输入法。我的解决方案是`setInterval`检测文本是否每 50 毫秒更改一次。*

# javascript - 根据浏览器显示 DIV 并根据浏览器版本添加类

> ID：12048646
> 
> 赞同：0
> 
> 时间：2012-08-21T04:58:19.850
> 
> 标签：javascript, jquery, html, browser

我正在构建一个页面，该页面将允许简单用户检查他们的浏览器版本，然后根据浏览器*和*操作系统将显示某个 div。然后根据版本将某个类添加到标签中。

我[找到了这段代码](http://www.quirksmode.org/js/detect.html)来检测浏览器、版本和操作系统。代码如下：

```
// Detect Browser and OS
var BrowserDetect = {
 init: function () {
    this.browser = this.searchString(this.dataBrowser) || "An unknown browser";
    this.version = this.searchVersion(navigator.userAgent)
        || this.searchVersion(navigator.appVersion)
        || "an unknown version";
    this.OS = this.searchString(this.dataOS) || "an unknown OS";
},
searchString: function (data) {
    for (var i=0;i<data.length;i++) {
        var dataString = data[i].string;
        var dataProp = data[i].prop;
        this.versionSearchString = data[i].versionSearch || data[i].identity;
        if (dataString) {
            if (dataString.indexOf(data[i].subString) != -1)
                return data[i].identity;
        }
        else if (dataProp)
            return data[i].identity;
    }
},
searchVersion: function (dataString) {
    var index = dataString.indexOf(this.versionSearchString);
    if (index == -1) return;
    return parseFloat(dataString.substring(index+this.versionSearchString.length+1));
},
dataBrowser: [
    {
        string: navigator.userAgent,
        subString: "Chrome",
        identity: "Chrome"
    },
    {   string: navigator.userAgent,
        subString: "OmniWeb",
        versionSearch: "OmniWeb/",
        identity: "OmniWeb"
    },
    {
        string: navigator.vendor,
        subString: "Apple",
        identity: "Safari",
        versionSearch: "Version"
    },
    {
        prop: window.opera,
        identity: "Opera",
        versionSearch: "Version"
    },
    {
        string: navigator.vendor,
        subString: "iCab",
        identity: "iCab"
    },
    {
        string: navigator.vendor,
        subString: "KDE",
        identity: "Konqueror"
    },
    {
        string: navigator.userAgent,
        subString: "Firefox",
        identity: "Firefox"
    },
    {
        string: navigator.vendor,
        subString: "Camino",
        identity: "Camino"
    },
    {       // for newer Netscapes (6+)
        string: navigator.userAgent,
        subString: "Netscape",
        identity: "Netscape"
    },
    {
        string: navigator.userAgent,
        subString: "MSIE",
        identity: "Explorer",
        versionSearch: "MSIE"
    },
    {
        string: navigator.userAgent,
        subString: "Gecko",
        identity: "Mozilla",
        versionSearch: "rv"
    },
    {       // for older Netscapes (4-)
        string: navigator.userAgent,
        subString: "Mozilla",
        identity: "Netscape",
        versionSearch: "Mozilla"
    }
],
dataOS : [
    {
        string: navigator.platform,
        subString: "Win",
        identity: "Windows"
    },
    {
        string: navigator.platform,
        subString: "Mac",
        identity: "Mac"
    },
    {
        string: navigator.userAgent,
        subString: "iPhone",
        identity: "iPhone/iPod/iPad"
    },
    {
        string: navigator.platform,
        subString: "Linux",
        identity: "Linux"
    }
]

  };
BrowserDetect.init(); 
```

我不知道从哪里开始使用 javascript 来显示某些 div。

我的想法是，根据上面的代码显示，它会根据版本号和 DIV 显示红色或绿色按钮。例如，如果浏览器是 Internet Explorer 并且版本是 8，那么它将显示一个红色按钮和一个带有某些选项的 div。

代码思路：

```
<div style="width:400px;" class="center">
<script type="text/javascript">
document.write('<p class="[insert either red or green based on version   number]-button">You\'re using ' + BrowserDetect.browser + ' ' + BrowserDetect.version + ' on ' + BrowserDetect.OS + '</p>');
</script>   
</div>   

<!-- Show either Outdated DIV or Up to Date Div based on version number I specify. -->
<div id="outdated">
<!-- Content -->
</div>
<div id="up-to-date">
<!-- Content -->
</div>

<!-- Show if Windows -->
<div id="windows">
<!-- Content -->
</div>

<!-- Show if MAC -->
<div id="mac">
<!-- Content -->
</div>

<!-- Show if Linux -->
<div id="linux">
<!-- Content -->
</div>

<!-- Show if Unknown or Other -->
<div id="other">
<!-- Content -->
</div> 
```

***例子***

假设用户访问该页面并在 Windows 上运行 Firefox 10。以下代码将显示：

```
<div style="width:400px;" class="center">
<script type="text/javascript">
document.write('<p class="red-button">You\'re using ' + BrowserDetect.browser + ' ' + BrowserDetect.version + ' on ' + BrowserDetect.OS + '</p>');
</script>   
</div>   

<div id="outdated">
<p>You are using an outdated browser.</p>
</div>

<div id="windows">
<!-- Links to update browser. -->
</div> 
```

我希望这很清楚，我会回答所有问题。到目前为止，我还没有尝试过任何代码，因为除了检测 bowser、版本和操作系统之外，我不知道从哪里开始。

我*不能*使用任何服务器端脚本。我正在使用托管 CMS，并且没有服务器端访问权限。我在我的页面上使用 jQuery 1.8，但我不想使用它，`$.browser`因为它已被弃用。（话虽如此，如果它更容易或者唯一的方法是在 JS 中执行此操作，那么我愿意使用它并将为此页面维护旧版本的 jQuery。）另外我假设我必须手动指定什么版本已过时而不是。（IE 如果版本低于 14，则浏览器已过时。）如果有办法告诉脚本最新发布的版本是什么，那么很好但不是必需的。

**重要说明：**我是 JS 的新手，我愿意接受任何和所有适用于我的目的的代码，这些代码为我的服务/站点的用户创建一个简单易用的页面，以检查他们的浏览器和浏览器版本。虽然通常我会同意在这种情况下应该避免用户代理嗅探，但我看不到绕过它的方法来做我想做的事。由于我是新手，请提供示例。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T05:35:34.030

很公平。我可以看到你被迫使用 JS，老实说，这个脚本已经达到了它所能达到的水平。

有了上面的代码，你会想在那个脚本**之后**使用我提供给你的东西。

```
BrowserDetect.init(); 
```

假设我们有一个 div。

```
<div id="userInfo"></div> 
```

现在我们需要为版本/平台写出条件语句。这将是一个很长的列表，因为不幸的是，您需要对这段代码进行逆向工程才能按您的意愿工作。

```
var a = BrowserDetect.browser,
b = BrowserDetect.version,
c = BrowserDetect.OS;
if(a == "Firefox" && b >= "14" && c == "Windows"){
    //firefox greater then or equal to 14, on windows
    $("#userInfo").text(a +' '+ b + ' - ' + c);
}else if(a == "Explorer" && b == "9" && c == "Windows"){
    //ie9 on windows
    $("#userInfo").text(a +' - '+ b + ' - ' + c);   
}else if(a == "Chrome" && b > "19" && c == "Mac"){
    //chrome greater than 19 on a mac
    $("#userInfo").text(a +' - '+ b + ' - ' + c); 
}
//more conditionals here 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T05:09:54.227

无需使用 div，只需使用 innerHtml 和 innerText 属性从表中动态获取值。

将代码以表格格式放置并在每个中放置代码，并在检测时将值提取到下一列并相应地操作内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-21T05:18:34.083

您可以使用 jQuery 在一行中完成此操作。

```
<!DOCTYPE html>
<html>
<head>
<style>
p { color:green; font-weight:bolder; margin:3px 0 0 10px; }
div { color:blue; margin-left:20px; font-size:14px; }
 span { color:red; }
</style> 
```

```
<p>Browser info:</p>

 <script>
jQuery.each(jQuery.browser, function(i, val) {
  $("<div>" + i + " : <span>" + val + "</span>")
            .appendTo( document.body );
});</script>

</body>
</html> 
```

访问此链接以获取更多信息.. [Jquery](http://api.jquery.com/jQuery.browser/)

**编辑**

如果你想要纯 JavaScript，你可以使用 window.navigator.userAgent

例如：

```
<html><div id="a"></div><div id="b"></div></html> 
```

你的脚本在这里

```
<script>
var ua=window.navigator.userAgent;
if(ua.indexOf('Mozilla')!=-1){document.getElementById('a').style.display='none'}
if(ua.indexOf('Safari')!=-1){document.getElementById('b').style.display='none'}
</script> 
```

# c# - 有没有办法在 Visual Studio 2012 中更改解决方案资源管理器的背景颜色？

> ID：12048649
> 
> 赞同：5
> 
> 时间：2012-08-21T04:58:38.667
> 
> 标签：c#, visual-studio, visual-studio-2012, visual-studio-sdk

在 Visual Studio 2010 中，我可以使用`SendMessage`更改解决方案资源管理器的背景颜色，就像在[这个问题](https://stackoverflow.com/questions/189043/change-background-color-of-solution-explorer-in-visual-studio)中一样。由于 Visual Studio 2012 使用 WPF，这种方法不再适用于我。我可以使用其他窗口（例如类视图、数据源和服务器资源管理器）执行此操作，但解决方案资源管理器不会出现在 Spy++ 中。

我查看了 SDK，但没有找到任何可以让我更改此窗口样式的内容。使用`DTE2`我可以获得对解决方案资源管理器的引用，但这看起来仅适用于层次结构项，而不是实际的树视图控件或窗口窗格。

我遇到了一个示例，该[示例](http://msdn.microsoft.com/en-us/library/ee818135.aspx)显示了如何使用`IWpfTextViewCreationListener`界面更改文本编辑器颜色，但顾名思义，它仅适用于文本编辑器。除了解决方案资源管理器等其他窗口外，有没有办法做同样的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-07T06:22:00.093

查看这个问题：[如何在 Visual Studio 2012 中更改解决方案资源管理器的背景颜色？](https://stackoverflow.com/questions/12096368/how-do-you-change-the-background-colour-for-solution-explorer-in-visual-studio-2)

> 使用此实用程序
> 
> [http://bchavez.bitarmory.com/archive/2012/08/27/modify-visual-studio-2012-dark-and-light-themes.aspx](http://bchavez.bitarmory.com/archive/2012/08/27/modify-visual-studio-2012-dark-and-light-themes.aspx)
> 
> 使用类别树视图

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T04:22:46.700

颜色主题编辑器出来了 [http://visualstudiogallery.msdn.microsoft.com/366ad100-0003-4c9a-81a8-337d4e7ace05](http://visualstudiogallery.msdn.microsoft.com/366ad100-0003-4c9a-81a8-337d4e7ace05)

# r - 1个数据框中的多个ggplot2

> ID：12048650
> 
> 赞同：1
> 
> 时间：2012-08-21T04:58:47.400
> 
> 标签：r, ggplot2

df

```
 primer timepoints         mean          sde
   Acan          0 1.000000e+00 0.000000e+00
   Acan         20 9.547922e-01 1.729115e-01
   Acan         40 1.936454e+00 9.934593e-01
   Acan         60 1.261360e+00 2.232165e-01
   Acan        120 2.219807e+00 5.915425e-01
   Acan        240 2.540490e+00 5.651534e-01
   Acan        360 1.518923e+00 1.522455e-01
   Actb          0 1.000000e+00 0.000000e+00
   Actb         20 1.061931e+00 4.362860e-02
   Actb         40 8.835103e-01 1.196449e-01
   Actb         60 8.889279e-01 1.401378e-01
   Actb        120 1.001135e+00 7.770563e-02
   Actb        240 8.551348e-01 1.884853e-01
   Actb        360 7.343955e-01 1.824412e-01 
```

这将数据视为每个引物在 1 df 中，但我想使用 ggplot2 为每个唯一引物制作散点图（y 轴是列平均值，x 轴是时间点），我可以在这里工作吗?

如果我能以某种方式应用一个理想的函数，一个绘图列表。

这是我一直用于 ggplot 的代码，我试图循环这个

```
 plot_gg  <-  function(x){

    ggplot(df,aes(x=timepoints,mean)) + 
            geom_point() + 
            geom_line() +
            scale_x_continuous(name='x axis') +
            scale_y_continuous(name='y axis') +
            geom_errorbar(aes(ymin=mean-sde,ymax=mean+sde),width=2) +
            opts(title = primer)    
    }

   desired_list <- lapply(unique(df$primer),plot_gg,df) 
```

这是非常错误的，但是，我不确定是否应该根据每个单独的引物首先对 df 进行子集化。或者如果在数据所在的结构中使用 ggplot 会更容易

如果你能帮我指导一下就好了

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T06:13:39.180

我认为缺少的部分是需要重做参数的定义`geom_errorbar`并添加`facet_wrap`. 如果您在布局中指定列数和行数，`facet_warp`您可以获得多个页面。另一种打印多页的方法是使用该`grid::grid.newpage()`功能。

```
 ggplot(df, aes(x = timepoints, y = mean, ymin = mean - sde, 
    ymax = mean + sde)) + 
 geom_errorbar() + geom_point() + geom_line() + 
 facet_wrap(~ primer) + 
 xlab('x axis') + ylab('y axis') + opts(title = "primer") 
```

对于在下面的评论中添加并使用@Thierry 的编辑的多页请求：

```
pdf("twopage.pdf", onefile=TRUE)
   for ( i in unique(df$primer) ) { 
       g <- ggplot(df[df$primer == i, ], aes(x = timepoints, y = mean, ymin = mean - sde, 
       ymax = mean + sde)) + 
       geom_errorbar() + geom_point() + geom_line() + 
       facet_wrap(~ primer, ncol=1, nrow=1) + 
       xlab('x axis') + ylab('y axis') + opts(title = "primer") 
       print(g) ; cat(paste("printing", i, "\n"))}
   dev.off() 
```

# javascript - 咖啡脚本作业

> ID：12048654
> 
> 赞同：2
> 
> 时间：2012-08-21T04:58:57.717
> 
> 标签：javascript, coffeescript

我对此代码有疑问：

```
getContent: (index) ->
  content = @get('content')
  element = content.objectAt(index)
  if element?
    [type, clientId] = element
    store = @get('store')

    if clientId?
      store.findByClientId(type, clientId) 
```

我特别在谈论这一行：

```
[type, clientId] = element 
```

我不明白如何从一个变量中分配两个值。

元素是否必须是一个数组才能使上述内容成功地将值分配给左侧数组？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T05:29:08.607

> 我不明白如何从一个变量中分配两个值。

CoffeeScript 实现了它所谓的[解构赋值](http://wiki.ecmascript.org/doku.php?id=harmony%3adestructuring)。[请参阅http://coffeescript.org/#destructuring](http://coffeescript.org/#destructuring)上的完整说明，但我已经从中提取了一些示例以在此处显示。

它可以用于简单的列表分配。

```
weatherReport = (location) ->
  # Make an Ajax request to fetch the weather...
  [location, 72, "Mostly Sunny"]

[city, temp, forecast] = weatherReport "Berkeley, CA" 
```

解构赋值语句编译为

```
_ref = weatherReport("Berkeley, CA"), city = _ref[0], 
temp = _ref[1], forecast = _ref[2]; 
```

> 元素是否必须是一个数组才能使上述内容成功地将值分配给左侧数组？

不，它也可以用于对象。来自 CoffeeScript 文档“解构赋值可以用于任何深度的数组和对象嵌套，以帮助提取深度嵌套的属性。”

```
futurists =
  sculptor: "Umberto Boccioni"
  painter:  "Vladimir Burliuk"
  poet:
    name:   "F.T. Marinetti"
    address: [
      "Via Roma 42R"
      "Bellagio, Italy 22021"
    ]

{poet: {name, address: [street, city]}} = futurists 
```

解构赋值语句编译为

```
_ref = futurists.poet, 
name = _ref.name, (_ref1 = _ref.address, street = _ref1[0], city = _ref1[1]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:08:12.113

那是语法糖，这意味着：

```
type = element[0], clientId = element[1]; 
```

另外，你应该知道，有一个地方可以看到咖啡脚本的编译内容：[http](http://coffeescript.org/) : //coffeescript.org/（试试咖啡脚本标签）

javascript中的所有coffeescript代码：

```
getContent: function(index) {
  var clientId, content, element, store, type;
  content = this.get('content');
  element = content.objectAt(index);

  if (element != null) {
    type = element[0], clientId = element[1];
    store = this.get('store');

    if (clientId != null) {
      return store.findByClientId(type, clientId);
    }
  }
} 
```

# apache - 使用带有一、二或三变量的 .htaccess 重定向

> ID：12048655
> 
> 赞同：0
> 
> 时间：2012-08-21T04:59:05.070
> 
> 标签：apache, .htaccess, mod-rewrite

如何使用一个、两个或三个变量制作干净的 URL？

我希望 domain.com/mypage 指向 index.php?page=mypage 和 domain.com/mypage/myproduct 重定向到 index.php?page=mypage&var2=myproduct 和 domain.com/mypage/myproduct/detail 重定向到index.php?page=mypage&var2=myproduct&var3=detail. 所以有些页面有三个变量，有些页面只有一两个。

这是我正在使用的 .htaccess （它包括我在[htaccess rewrite 找到的一部分，传递两个变量或一个取决于两者是否可用？](https://stackoverflow.com/questions/9869006/htaccess-rewrite-pass-two-variables-or-one-depending-if-both-are-available)）：

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-s 
RewriteRule ^([^/]+)(/([^/]+))? index.php?page=$1&var1=$3 [L,QSA] 
```

它适用于具有一两个变量的链接。我怎样才能使它适用于三个（或更多）变量。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:05:27.700

单独做每一个可能是最简单的：

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-s
RewriteRule ^([^/]+)/([^/]+)/([^/]+)/?$ /index.php?page=$1&var1=$2&var2=$3 [L,QSA]
RewriteCond %{REQUEST_FILENAME} !-s
RewriteRule ^([^/]+)/([^/]+)/?$ /index.php?page=$1&var1=$2 [L,QSA]
RewriteCond %{REQUEST_FILENAME} !-s
RewriteRule ^([^/]+)/?$ /index.php?page=$1 [L,QSA] 
```

# jquery-mobile - 嵌套列表拆分按钮列表

> ID：12048657
> 
> 赞同：1
> 
> 时间：2012-08-21T04:59:49.833
> 
> 标签：jquery-mobile, nested-lists, split-button

我正在尝试使用 jQ Mobile (1.2 Alpha1) 实现以下目标，但经过几个小时的反复试验后无法实现：

我有一个嵌套的类别列表（项目容器）和项目，其中也可以包含子项目。

因此，每个项目列表都可能有 2 个点击操作 a。查看列表详细信息 b. 查看子项目（这是嵌套列表的用途）。为了实现 2 动作效果，每当列表包含子项时，我都会使用拆分按钮。

这是我的挑战：

默认情况下，嵌套列表使主要单击操作“查看子列表”，同时使拆分按钮成为继承您在 li 中定义的“附加”锚点的锚点。因此，在我的情况下，列表的主要操作将是“查看子列表”和拆分按钮“查看详细信息”。但我想在它们之间切换动作，使拆分按钮执行“查看子列表”。

我不确定如何达到效果。如果有人有任何想法，请与我分享。

# javascript - 如何在 IE9 中点击透明 PNG？

> ID：12048665
> 
> 赞同：3
> 
> 时间：2012-08-21T05:00:15.117
> 
> 标签：javascript, html, css, internet-explorer, internet-explorer-9

所以我想在透明PNG下面有一个可点击的区域。

我有一个 200x200px 的 PNG 图像放在 200x300px 的 div 上。div 是鲑鱼色。只有 div 右侧的 100px 是可点击的。

**jsFiddle在这里：http:** [//jsfiddle.net/xhAVU/1/](http://jsfiddle.net/xhAVU/1/)

**在现代浏览器中：**通过取消注释`pointer-events: none;`，您可以看到 PNG 是如何被忽略的，并且可以在任何地方单击鲑鱼 div。

**在 IE9 中：**无法单击图像。

有没有办法强制 IE9 点击透明 PNG？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T15:52:47.353

[https://stackoverflow.com/a/10968016](https://stackoverflow.com/a/10968016)的副本：

代替

```
<img width="200" height="200" style="pointer-events: none" src="..."> 
```

和

```
<svg width="200" height="200" pointer-events="none"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
  <image x="0" y="0" width="200" height="200"
      xlink:href="..." />
</svg> 
```

因为 IE 支持[SVG 指针事件属性](http://www.w3.org/TR/SVG/interact.html#PointerEventsProperty)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:25:47.433

您是否尝试过使用较低的 z-index 值将 png 图像发回，比如说 10，并使用高 z-index 值来提升可点击区域，比如说 20。

这可能会奏效。看下面的代码。

```
 .container {
    width: 500px;
    height: 500px;
    background-color: #eeeeee;
}
.container img {
    width: 200px;
    height: 200px;
    position: absolute;
    z-index:10;
   /* pointer-events:none; */
}

.clickable {
    width: 300px;
    height: 200px;
    background-color: salmon;
    cursor: pointer;
    z-index:20;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T05:26:13.163

如果 PNG 文件可以移动到 CSS 中，那么我发现您可以在所有浏览器中以这种方式实现它：http: [//jsfiddle.net/CkmH6/](http://jsfiddle.net/CkmH6/)

使用 CSS：

```
.container {
    width: 500px;
    height: 500px;
    background: #eeeeee;
}
.overlay {
    background: url(http://ima.gs/transparent/none/36f/transparent-png-200x200.png) no-repeat;
    width: 200px;
    height: 200px;
    position: absolute;
}
.clickable {
    width: 300px;
    height: 200px;
    background-color: salmon;
    cursor: pointer;
}
​ 
```

# apache - 具有 SSL (https) 和粘性会话的 HAProxy

> ID：12048667
> 
> 赞同：1
> 
> 时间：2012-08-21T05:00:27.603
> 
> 标签：apache, ssl, nginx, haproxy

我需要设置负载均衡器作为亚马逊 ELB 的替代品，因为它们在连接超时方面存在问题。

目前，我正在使用 HAProxy，它工作正常。但是，对于想要在 https（端口 443）中连接到后端 apache 服务器和粘性会话的用户，我需要使用 SSL。

配置会是什么样子？我听说 HAProxy 在本机中不支持 SSL，可以使用 stunnel 或 nginx / apache 来处理 SSL 终止。

我会感谢任何人分享他们的知识和经验。

谢谢。詹姆士

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-23T15:17:23.083

要 http 使用类似的东西。将 XXX.XXX.XXX.XXX 更改为您的 IP 地址。

```
listen  example-cluster XXX.XXX.XXX.XXX:80
        mode    http
        stats   enable
        stats   auth    user:password
        stick store-request src
        stick-table type ip size 200k expire 2m
        balance source
        cookie  JSESSIONID prefix
        option  httplog
        option  httpclose
        option  forwardfor
        option  persist
        option  redispatch
        option  httpchk HEAD    /check.txt      HTTP/1.0
        server  example-webl XXX.XXX.XXX.XXX:80 cookie A check
        server  example-web2 XXX.XXX.XXX.XXX:80 cookie B check
        server  example-web3 XXX.XXX.XXX.XXX:80 cookie C check
        server  example-web4 XXX.XXX.XXX.XXX:80 cookie D check
        server  example-web5 XXX.XXX.XXX.XXX:80 cookie E check 
```

对于您的 SSL，请使用带有 balance source 的模式 tcp：

```
listen  example-cluster-ssl XXX.XXX.XXX.XXX:443
        mode   tcp
        reqadd X-Forwarded-Proto:\ https
        stick  store-request src
        stick-table type ip size 200k expire 2m
        option persist
        option redispatch
        option ssl-hello-chk
        balance source
        server  example-webl XXX.XXX.XXX.XXX:443 check
        server  example-web2 XXX.XXX.XXX.XXX:443 check
        server  example-web3 XXX.XXX.XXX.XXX:443 check
        server  example-web4 XXX.XXX.XXX.XXX:443 check
        server  example-web5 XXX.XXX.XXX.XXX:443 check 
```

另一种方法是将您的 haproxy 升级到 1.5 版，在该版本中支持 ssl 但还不稳定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-25T07:31:02.677

看看 github 上的 Stud 项目，它与 haproxy 结合得非常好，性能非常好，可扩展，而且使用的资源非常少。许多用户现在正在切换到它，因为它简单高效。

# r - R：修剪数据框

> ID：12048668
> 
> 赞同：0
> 
> 时间：2012-08-21T05:00:32.487
> 
> 标签：r

不知道如何命名，所以请更改它:)

如果我有这样的数据并且我想修剪它，以便如果 V5 中有多个值中的任何一个，则只保留 V4 中具有最高值的行。例如，对于 V5=7200，行 ID 为 25，行 ID 为 20，但我只想保留行 ID 20，因为它的 V4 更高。

```
 V4   V5
29  9.94 5900
28 10.56 5100
27 11.34 6200
26 11.42 8300
25 13.16 7200
24 13.78 7500
23 14.16 6200
22 14.26 7500
21  14.6 7400
20 14.64 7200
19 15.86 8800 
```

至：

```
 V4   V5
29  9.94 5900
28 10.56 5100
26 11.42 8300
23 14.16 6200
22 14.26 7500
21  14.6 7400
20 14.64 7200
19 15.86 8800 
```

有没有办法以矢量化方式或一些聪明的捷径做到这一点？如果我必须为很多不同的矩阵做这件事，那么简单的结构（for 循环等）可能需要一段时间。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T05:08:10.930

```
df<-read.table(header=T,text="      V4   V5
29  9.94 5900
28 10.56 5100
27 11.34 6200
26 11.42 8300
25 13.16 7200
24 13.78 7500
23 14.16 6200
22 14.26 7500
21  14.6 7400
20 14.64 7200
19 15.86 8800")

df1<-df[with(df,order(V4,decreasing=T)),]
df1<-df1[!duplicated(df1$V5),]
> df1
      V4   V5
19 15.86 8800
20 14.64 7200
21 14.60 7400
22 14.26 7500
23 14.16 6200
26 11.42 8300
28 10.56 5100
29  9.94 5900

df1<-df1[with(df1,order(V4)),] # if your order is important

> df1
      V4   V5
29  9.94 5900
28 10.56 5100
26 11.42 8300
23 14.16 6200
22 14.26 7500
21 14.60 7400
20 14.64 7200
19 15.86 8800 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T05:12:18.767

```
df <- data.frame(V4=c(9,10,11,12,13,14,15,16),V5=c(1,2,3,3,4,5,6,6))

df
  V4 V5
1  9  1
2 10  2
3 11  3
4 12  3
5 13  4
6 14  5
7 15  6
8 16  6

df2 <- aggregate(list(V4=df$V4),by=list(V5=df$V5),function(x){max(x)})

df2
  V5 V4
1  1  9
2  2 10
3  3 12
4  4 13
5  5 14
6  6 16 
```

# html - 如何将样式应用于仅使用 CSS 选中复选框的标签？

> ID：12048672
> 
> 赞同：6
> 
> 时间：2012-08-21T05:00:49.190
> 
> 标签：html, css, checkbox, styles

假设我有一个基本网页：

```
<LABEL ID="THE_LABEL" FOR="THE_CHECKBOX"><INPUT TYPE=checkbox ID="THE_CHECKBOX"/> Blue when checked!</LABEL> 
```

现在假设我希望标签文本在未选中时为红色，在选中时为蓝色。我该怎么做？我想要一些基本的东西，如下所示。在这里，我使用了一个假设的运算符“ `<`”，这意味着“有孩子”，但当然它不会起作用，因为没有这样的运算符：

```
#THE_LABEL{
  color:red;
}
#THE_LABEL < #THE_CHECKBOX[checked]{
  color:blue;
} 
```

除了理论上的 " `<`" 之外的所有东西都是有效的 CSS，这让我想知道是否有真正的方法来实现这种行为。**有谁知道基于复选框状态设置标签样式的有效 CSS 3（或更低版本）方法，而不使用 JavaScript？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T05:10:00.767

您不应该将输入字段放在标签内。

由于标签的内容出现在复选框之后，只需这样制作您的 HTML：

```
 <INPUT TYPE=checkbox ID="THE_CHECKBOX"/> 
    <LABEL ID="THE_LABEL" FOR="THE_CHECKBOX">Blue when checked!</LABEL>

​ 
```

然后使用这个 CSS：

```
#THE_LABEL {
    color: red;
}

#THE_CHECKBOX:checked + #THE_LABEL {
    color: blue;
}​ 
```

[**现场演示**](https://jsfiddle.net/LZNxD/50/)

是`+`兄弟选择器。IE8 及以下版本不支持。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T05:08:34.923

抱歉，请看：

[有 CSS 父选择器吗？](https://stackoverflow.com/questions/1014861/is-there-a-css-parent-selector)和[活动孩子的父母的复杂 CSS 选择器](https://stackoverflow.com/questions/45004/complex-css-selector-for-parent-of-active-child)

有关此主题的更多讨论，但这似乎是不可能的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-06T11:49:53.570

我相信这将适用于[**CSS4**](https://www.w3.org/TR/selectors4/#idref-combinators)，但现在这只是理论上的：

```
#THE_LABEL{
  color:red;
}
#THE_LABEL /for/ :checked {
  color:blue;
} 
```

^([JSFiddle测试](https://jsfiddle.net/9k82cu31/))

## 浏览器支持

我每隔几个月就会回来检查一次。**以下是以下布局引擎的现代版本**的支持状态：

*   WebKit：**否**（Safari、iOS 网络视图）
    *   Blink：**否**（Chrome、基于 Chromium 的浏览器、许多开源项目、Android Web 视图）
*   Gecko：**否**（Firefox，许多开源项目）
*   三叉戟：**否**（IE、Windows 网络视图、Steam）
    *   EdgeHTML：**否**（Microsoft Edge）

# java - 在 Heroku 上部署 Java，在 target\dependency 中找不到主类

> ID：12048675
> 
> 赞同：1
> 
> 时间：2012-08-21T05:01:13.810
> 
> 标签：java, heroku

我尝试在 Heroku 上部署 java。我按照[Heroku](https://devcenter.heroku.com/articles/java#srcmainjavahelloworldjava)上的步骤进行操作 ，但出现错误

`java -cp target\classes;"target\dependency\*" HelloWorld`

错误是： `Error: Could not find or load main class HelloWorld`

我该如何解决？是否区分大小写？

我在 pom.xml 中找到了 helloworld 关键字，所以我尝试将其更改为 HelloWorld。它仍然不起作用。顺便说一句，我正在使用 jdk1.7.0_05 运行 Windows 7（64 位）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-03T02:36:38.207

看起来您正在为`-cp`标志使用 Windows 样式的路径。Heroku 在 Linux 上运行，因此您可能需要`java -cp target/classes:"target/dependency/*" HelloWorld`在`Procfile`部署到 Heroku 时将其更改为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-03T11:27:17.970

*对于任何尝试遵循 Heroku 入门教程并尝试在本地部署并收到此错误的狂热读者...*

很可能您还没有在本地构建目标类（它们在教程中没有很好地解释它）。

如果您遵循 Maven 入门指南，则在项目根文件夹中执行以下 maven 命令以在本地构建目标：

```
mvn clean install 
```

之后，本地部署命令如下：

```
heroku local web -f Procfile.windows 
```

应该按预期工作。（显然，如果您不在 Windows 下部署，请替换`Procfile.windows`为`Procfile`）

然后，您应该会看到如下内容：

```
Started ServerConnector@4d29c891{HTTP/1.1}{0.0.0.0:5000} 
```

并且可以通过在显示的端口上导航到 localhost 在本地访问您的应用程序：

```
localhost:5000 
```

# android - 如何仅通过我的 android 应用程序中的电子邮件客户端发送邮件

> ID：12048678
> 
> 赞同：0
> 
> 时间：2012-08-21T05:01:21.177
> 
> 标签：android

如何仅通过我的 android 应用程序中的电子邮件客户端发送邮件。

我在我的应用程序中使用以下代码，但它`opeing messeges`也是`bluetooth`。我只需要像`Gmail`或这样的电子邮件客户端`yahoo`。

```
 Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);
    emailIntent.setType("text/rfc822");
    emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL, "mailto@gmail.com");
    emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, "My subject");
    startActivity(Intent.createChooser(emailIntent, "Email:")) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T05:05:46.697

继续使用此代码...它将始终调用您的默认电子邮件客户端。

```
Intent intent = new Intent(Intent.ACTION_VIEW);
Uri data = Uri.parse("mailto:?subject=" + subject + "&body=" + body);
intent.setData(data);
startActivity(intent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:10:57.193

这有什么帮助吗？这个似乎正在使用 gmail 客户端。

[启动 Gmail 应用程序的意图 URI](https://stackoverflow.com/questions/3470042/intent-uri-to-launch-gmail-app)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-01T09:21:07.693

我使用这种方式来避免选择其他应用程序，但默认电子邮件客户端。

```
Intent it = new Intent(Intent.ACTION_SEND);
it.setType("text/plain");
it.putExtra(Intent.EXTRA_EMAIL, new String[]{emailAddr});
it.putExtra(Intent.EXTRA_SUBJECT, emailSubject);
it.putExtra(Intent.EXTRA_TEXT, emailContent);
it.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);

Intent emailIntent = new Intent(Intent.ACTION_SENDTO, Uri.parse("mailto:" + emailAddr));
emailIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
ActivityInfo info = emailIntent.resolveActivityInfo(mContext.getPackageManager(), PackageManager.MATCH_DEFAULT_ONLY);
if (info != null) {
    it.setPackage(info.packageName);
}

mContext.startActivity(it); 
```

希望对你有帮助~

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-21T05:09:13.823

我使用它使它工作：

```
final Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);
emailIntent.setType("mp3/3gp");
emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, "recording voice");
Uri eri=Uri.parse(rlm.getPlayList().get(position).get("songPath"));
emailIntent.putExtra(Intent.EXTRA_STREAM,eri);
emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, "hello, it is the recorded file of our conversassion");
emailIntent.putExtra(Intent.EXTRA_STREAM,rlm.getPlayList().get(position).get("songPath") );
RecordedList.this.startActivity(Intent.createChooser(emailIntent, "Send Email")); 
```

# html - 我们可以用 css 改变 ListBox 吗？

> ID：12048683
> 
> 赞同：3
> 
> 时间：2012-08-21T05:01:38.370
> 
> 标签：html, css

我有一个下拉列表框。有没有一种方法可以用 css 设置它的样式，使其“看起来更像按钮”？显然这将是一些设计工作，我只是不确定我们有哪些 CSS 属性（如果有的话）（截图示例）：

![下拉示例](../Images/51ad4ebfd5da87a4cef8822b47a3b865.png)

在哪里可以找到列表框的所有 CSS 属性？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-21T05:04:45.293

看一下这个：

[仅使用 CSS 为选择框设置样式](http://bavotasan.com/2011/style-select-box-using-only-css/)

# iphone - 在 iPhone 中从 PDF 中搜索单词

> ID：12048684
> 
> 赞同：4
> 
> 时间：2012-08-21T05:01:38.213
> 
> 标签：iphone, objective-c, ios

全部

我正在使用此链接[https://github.com/KurtCode/PDFKitten](https://github.com/KurtCode/PDFKitten)进行 pdf 搜索功能进行单页搜索，此代码将正常工作，但当移动到多个

滚动页面后的页面搜索功能它没有通过第二页的 CGPDFDocumentRef

并且页面将为第二页传递空值

如何在整个pdf和页面列表中搜索应该重新运行......？？？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T06:11:26.263

Try following sample .

[https://github.com/mobfarm/FastPdfKit](https://github.com/mobfarm/FastPdfKit)

# ios - 无法标记用户生成的照片

> ID：12048690
> 
> 赞同：0
> 
> 时间：2012-08-21T05:02:58.197
> 
> 标签：ios, facebook-graph-api

我已为我的应用提交了一项操作，并获得了 user_generated_photos 的批准。我想使用图形 API /{photo_id}/tags?tags={user id array} 标记这些照片

在我调用一个操作并获得我刚刚提交回来的照片的照片 ID 后，该照片会显示在我的时间轴上。但是，我无法通过图形 API 标记照片。我尝试通过浏览器标记它们并且它有效，但是如果我调用图形 API，它只会给我“无效的照片 ID”。

我拥有“publish_stream”和“user_photos”权限。我是否需要对应用程序执行任何操作才能使其照片可标记？

谢谢你。

# c# - 从日期时间获取小时部分和时区部分

> ID：12048702
> 
> 赞同：1
> 
> 时间：2012-08-21T05:04:58.790
> 
> 标签：c#

我在配置文件中有一个字符串，用时区定义日期时间。从配置文件中读取值时，我无法获取此值。

在配置文件中：

```
Setting name="abcdefgh" value="2012-08-10T22:00:00-08:00" 
```

在 C# 中，我正在阅读以下内容：

```
 DateTime StartDate;

 StartDate = DateTime.ParseExact(RoleEnvironment.GetConfigurationSettingValue("abcdefgh"), "yyyy-MM-dd HH:mm:ss", null);
            Configuration.Instance.abcdefgh= StartDate; 
```

在开始日期，我得到 2012 年 8 月 11 日 11:30:00，没有时区。

我想按原样阅读。还告诉我，我在配置文件中写入日期时间的格式是否正确

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:18:06.020

DateTime 不保留有关时区的信息。要解析字符串并保留有关时区的信息 - 您应该使用[DateTimeOffset](http://msdn.microsoft.com/en-us/library/system.datetimeoffset.aspx)结构。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:18:36.937

MSDN 链接到[DateTimeOffset](http://msdn.microsoft.com/en-us/library/system.datetimeoffset.aspx)。

> 每当您指的是确切的时间点时，请使用 DateTimeOffset。例如，用它来计算“现在”、事务时间、文件更改时间、记录事件时间等。如果不知道时区，则将其与 UTC 一起使用。这些用法比首选 DateTime 的场景更常见，因此应将其视为默认设置。

```
var date = DateTimeOffset.Parse("2012-08-10T22:00:00-08:00");
date.Offset // -08:00:00,  offset from Coordinated Universal Time (UTC)
date.DateTime // 10/08/2012 22:00:00, 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T05:19:53.037

如果要存储时区信息，请使用[DateTimeOffset](http://msdn.microsoft.com/en-us/library/system.datetimeoffset.aspx "日期时间偏移")结构（和）。`DateTimeOffset.ParseExact`

您的 ParseExact 格式也与设置值不完全匹配：它的末尾应该有一个 zz 用于时区信息。您也可以使用`DateTimeOffset.Parse`，因为您的设置字符串是标准格式。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-21T05:35:23.420

这是一种标准格式，因此不需要 ParseExact，请尝试：

```
StartDate = DateTime.Parse(RoleEnvironment.GetConfigurationSettingValue("abcdefgh")); 
```

我将您提供的硬编码值替换为我的时区 (GMT-4) 的正确结果

> 2012 年 8 月 11 日凌晨 2:00

**注意：**正如其他人提到的，时区不会保留，因此您将获得与字符串中的任何时区信息相对应的正确本地化时间，但您将无法找出那个时区。该`DateTime.Kind`属性将反映这是当地时间。

# iphone - iPhone推送通知不起作用

> ID：12048707
> 
> 赞同：1
> 
> 时间：2012-08-21T05:05:23.767
> 
> 标签：iphone, push-notification

我正在尝试在 iPhone 中实现推送通知。几个月前我已经做过了。那时，在安装 aps_development.cer 证书后，我将它从钥匙串导出为 .p12 文件。然后使用终端使用该 .p12 文件创建 .pem 证书。此 .pem 证书在服务器中用于推送实现。

但是现在，当我检查推送实现的教程时，我看到 .cer 和 .p12 文件都必须转换为 .pem。然后必须使用终端组合两个 .pem。

请确认所需的步骤。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T05:51:49.817

使用此 [链接](http://blog.serverdensity.com/how-to-build-an-apple-push-notification-provider-server-tutorial/)，我总是使用此链接命令来创建**PEM**文件。如有任何疑问，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:07:53.483

您必须仅在服务器端为 APN 使用 .p12 文件

# javascript - 从 Javascript 进行外部 API 调用。

> ID：12048713
> 
> 赞同：0
> 
> 时间：2012-08-21T05:06:13.690
> 
> 标签：javascript, xml, ajax, xmlhttprequest

我是否允许使用 XMLHttpRequest 对象直接从 Javascript 向外部 API（在我的情况下为[http://isbndb.com/docs/api/20-structure.html ）进行 API 调用？](http://isbndb.com/docs/api/20-structure.html)如果不是，我该如何从这个来源获取数据？我是否必须添加一个 PHP 后端来进行 API 调用，然后将数据返回到前端 JS？有没有其他方法可以在不需要后端代码的情况下获取数据？我在网上做了一些研究，发现如果数据格式是 JSON，这在 jQuery 中是可能的。但是我该如何处理 XML 数据呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:14:06.423

如果你使用 jquery 的 ajax 方法，你可以将它作为参数传递一个 dataType，它可以是 json、xml、html 或 script。当它在你的成功回调中设置为 xml 时，第一个参数将是来自服务器的 XML 作为你可以使用的 XML 文档

# android - 创建动态规则

> ID：12048714
> 
> 赞同：0
> 
> 时间：2012-08-21T05:06:18.617
> 
> 标签：android, resize, android-imageview

我正在尝试使用代码动态调整相对布局中的图像大小

```
int height = v.getHeight();
   int width = v.getWidth();
height += 50;
width += 50; 
RelativeLayout.LayoutParams layout = new RelativeLayout.LayoutParams(height, width);
layout.setMargins(200, 200, 200, 200);
layout.addRule(RelativeLayout.CENTER_IN_PARENT);
    v.setLayoutParams(layout); 
```

这里的 v 是一个视图（在这种情况下是一个 imageView）规则完美地工作。图像被放置在中心，但我想要得到的是图像应该放在它所在的位置。也就是说，如果图像位于 (100,100) 位置，则应增加其大小，并且应将图像放置在同一位置或我需要放置它的位置。任何人都可以建议我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-22T08:50:37.073

你所问的，不能简单地通过创建规则来完成。您需要为这种对齐做额外的工作。

1）使用 addRule 对齐父级左对齐父级顶部，然后设置左侧和顶部边距以将图像对齐到您想要的任何位置 100,100 或 200、50 等，之后您可以在不更改位置的情况下调整图像大小。

2）如果你保持图像对齐 CENTER_IN_PARENT 那么图像调整大小有点典型。您需要根据增加的尺寸增加左侧和顶部填充以使图像居中对齐。

假设图像尺寸为 100x100，新尺寸为 150x150，
现在您需要将布局参数设置为宽度 x 高度为 200x200，并将图像的左侧和顶部填充设置为 50。

我希望它清楚

# jquery - 我的 tinyMCE 文本区域位于 jQuery UI 选项卡中。tinyMCE 加载，但不允许我输入。为什么？

> ID：12048718
> 
> 赞同：1
> 
> 时间：2012-08-21T05:08:00.007
> 
> 标签：jquery, jquery-ui, tinymce

假设我已经调用了 jQuery UI、jQuery 和 tinyMCE 的必要代码：

初始化 tinyMCE（包含在 main.html 中）：

```
tinyMCE.init({
    mode : "specific_textareas",
    editor_selector: "tinyMCE",
    theme: "simple"
}); 
```

jQuery UI 选项卡的代码段（包含在 main.html 中）：

```
<div id="myTab">
    <ul>
        <li><a href="#tabs-1">Tab 1</a></li>
        <li><a href="#tabs-2">Tab 2</a></li>
    </ul>
    <div id="tabs-1">Tab 1 content</div>
    <div id="tabs-2">
        <textarea class="tinyMCE">Textarea content</textarea>
    </div>
</div> 
```

用于制作选项卡的 jQuery UI 代码（包含在单独的文件中：functions.js）：

```
$("#myTab").tabs(); 
```

tinyMCE 文本区域成功加载，但问题是，我无法在其中输入任何内容。按钮也无法正常工作。这里可能是什么问题，应该有什么解决方案？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T08:20:31.433

我试图用你的代码创建一个[jsfiddle](http://jsfiddle.net/vandalo/Zzum9/)，它可以工作。
我已经使用了所有东西的最新版本。
您使用的是哪些版本？
你能创建一个jsfiddle测试吗？

# jquery - :nth-child() 选择器使用 jQuery

> ID：12048725
> 
> 赞同：0
> 
> 时间：2012-08-21T05:08:26.513
> 
> 标签：jquery, html

HTML：

```
<div class="classMilestone" id="milestoneForm2">

               <li>
                <div class="label1">Project :</div>
                <div class="input1">
<select id="status" name="status">
    <option label="Select One" value="">Select One</option>
    <option label="df" value="52">df</option>
    <option label="dfgd" value="41">dfgd</option>
    <option label="dgg" value="6">dgg</option>
    <option label="ere" value="4">ere</option>
    <option label="erege" value="43">erege</option>
    <option label="erege" value="44">erege</option>
    <option label="erege" value="45">erege</option>
    <option label="erege" value="46">erege</option>
    <option label="estrest" value="19">estrest</option>
    <option label="gdg" value="48">gdg</option>
    <option label="ryhf" value="53">ryhf</option>
    <option label="test project" value="1">test project</option>
    <option label="tgreg" value="8">tgreg</option>
</select><span class="validation_star">*</span></div>
            </li>
            <li>
                <div class="label1">Name :</div>
                <div class="input1">
<input type="text" class="input_1" value="" id="milestoneName" name="milestoneName[]"><span class="validation_star">*</span></div>
            </li>

             <li>
                <div class="label1">Start Date :</div>
                <div class="input1">
<input type="text" class="input_1" value="" id="startDate" name="startDate[]"><span class="validation_star">*</span></div>
            </li>

             <li id="name2" name="name2">
                <div class="label1">End Date :</div>
                <div class="input1">
<input type="text" class="input_1" value="" id="endDate" name="endDate[]"><span class="validation_star">*</span></div>
            </li>

             <li>
                <div class="label1">Estimated Hours :</div>
                <div class="input1">
<input type="text" class="input_1" value="" id="estimatedHours" name="estimatedHours[]"><span class="validation_star">*</span></div>
            </li>

             <li>
                <div class="label1">Description :</div>
                <div class="input1">
<textarea class="input_1" cols="24" rows="5" id="description" name="description[]"></textarea><span class="validation_star">*</span></div>
            </li>   
</div>

 <input type="button" name="button" id="button" value="SAVE" onclick="javascript:m.add();">&nbsp;&nbsp;
                <input type="button" name="button" id="addform" value="+" >&nbsp;&nbsp;
                <input type="button" name="button" id="delform" value="--" > 
```

当我们点击addform按钮时，它会克隆milestoneForm div并存储在newElem中，然后在millstone div之后显示整个表单。当时我想为每个输入元素添加一个id。我该怎么做？

jQuery：

```
var num     = $('.classMilestone').length; // how many "duplicatable" input fields we currently have
    var newNum  = new Number(num + 1);      // the numeric ID of the new input field being added

  var newElem = $("#milestoneForm1").clone()
  newElem.children(':nth-child(4)').attr('id', 'name' + newNum).attr('name', 'name' + newNum); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T05:12:26.000

嘿，简单点你可以这样写：

```
$('input').each(function(index){$(this).attr('id','name'+index)}); 
```

而不是所有的 jQuery 代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T06:18:39.237

添加id的另一种方法

```
 $("input").attr("id", function (arr) {
  return "name" + arr;
}) 
```

# php - 构建在线 php 游戏的数据库。如何在 mySQL db 中找到 2 人之间的游戏

> ID：12048733
> 
> 赞同：2
> 
> 时间：2012-08-21T05:10:08.113
> 
> 标签：php, mysql, database, database-design

我有一个我正在使用 PHP 编写的游戏。就我的问题而言，我们可以将我的游戏与 iPhone 上的“Words with Friends”进行比较，对于那些不熟悉该游戏的人来说，它是一款在线/移动拼字游戏。游戏包括3个主要步骤：

*   第一个两个用户决定开始游戏。
*   第二，在保存两个用户的游戏数据的数据库表“DATA”中创建一个新行。
*   第三，也是最后，两人被重新定位到他们玩游戏的新页面。当游戏结束时，“DATA”表中的行被删除，赢/输被保存并反映在“USER”表中。就像 Words with Friends 一样，用户可以随时拥有多个“打开的游戏”。这意味着他们不必在另一场比赛开始之前完成一场比赛。

**背景：** 在 MySQL 数据库中，我将至少有两个表，一个用于标记通用玩家数据：USER，另一个用于保存当前正在进行的游戏的统计数据，称为：DATA。每个用户在创建帐户时都将获得一个唯一的 9 位 ID 主键。

我需要一些关于用于完成此类事情的最佳实践的建议。我有一些想法，在我看来相当原始，它们会起作用，但我想使用更专业的东西。

我的一个想法是取两个用户 ID 中的较小数字并将其连接到较大 ID 的开头并将其保存在数据库中。一个例子。我们有 2 个用户：adam 和 alan。他们的 ID 分别是`123456789`和`223456789`。这两个开始一个游戏，在 DATA 表中创建一个新行，其中`GAMEID`等于`123456789223456789`。他们在游戏进行到一半时退出。第二天，他们尝试开始新游戏。数据库检查哪个用户的 ID 较小，并将它们连接在一起以检查游戏记录是否已经存在。它注意到`123456789223456789`游戏已经开始，而不是创建一个全新的游戏，而是让他们回到他们已经在进行的游戏。

我觉得这肯定过头了，应该有一个更简单的方法来解决这个问题。请我感谢和建议或提示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T06:07:52.283

将游戏与用户关联起来的简单`user_games`表格就足够了。您甚至可以为活动添加标志或为上次活动添加日期时间。

```
CREATE TABLE user_games (
  user_id INT NOT NULL,
  game_id INT NOT NULL,
  UNIQUE KEY index_user_games_on_user_game (user_id, game_id),
  KEY index_user_games_on_game (game_id)
); 
```

不要通过组成无法正确索引的键来过度复杂化。索引是防止您的表变得无法查询的混乱。可以通过查询此表`user_id`来查找他们的游戏列表，通过`game_id`查找游戏中的用户，或同时查找用户是否存在于游戏中。

# django - 错误：未能将一些参考推送到 'git@heroku.com:dry-plains-3718.git'

> ID：12048736
> 
> 赞同：0
> 
> 时间：2012-08-21T05:10:21.657
> 
> 标签：django, heroku, github

这是我得到的：

```
Counting objects: 10, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (8/8), done.
Writing objects: 100% (10/10), 3.60 KiB, done.
Total 10 (delta 0), reused 0 (delta 0)

-----> Heroku receiving push
 !     Heroku push rejected, no Cedar-supported app detected

To git@heroku.com:dry-plains-3718.git
 ! [remote rejected] master -> master (pre-receive hook declined)
error: failed to push some refs to 'git@heroku.com:dry-plains-3718.git' 
```

早些时候我认为这是 .gitignore 文件的问题，但也可以正常工作。我忽略了文档中给出的虚拟环境和 *.pyc。我试过了 ：

```
heroku create --stack cedar 
```

我还必须将我的 pub 密钥添加到 heroku。

```
heroku keys:add ~/.ssh/id_rsa.pub 
```

这也不能解决我的问题。我对heroku的实现不太了解。我应该检查或尝试任何具体的事情吗？

请帮助我，因为我参考了许多文件，但仍然遇到同样的错误。提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T07:35:07.533

我相信 cedar 通过 requirements.txt 文件的存在来识别 django 应用程序。

Pleaee 检查是为了确保您在被推送的源代码树的根目录中创建了“requirements.txt”和“Procfile”。名称区分大小写。

本教程包括有关创建它们的说明：

[https://devcenter.heroku.com/articles/django](https://devcenter.heroku.com/articles/django)

# .htaccess - htaccess如何仅重定向根而不是其他页面

> ID：12048738
> 
> 赞同：2
> 
> 时间：2012-08-21T05:10:52.083
> 
> 标签：.htaccess, redirect

我有一个问题，我需要只重定向根站点（主页）而不是流量到其他页面。

例子：

主域：（`www.misite.com`重定向到 another.com）

来自 http 的请求：（`www.misite.com/?other-page`不重定向）

来自 http 的请求：（`www.misite.com/?another-page`不重定向）

我只是将所有流量从`www.misite.com`/`misite.com`到其他地方，而不是其他页面、内部等。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T05:17:33.563

在 misite.com 站点的 htaccess 或 vhost 配置中使用 mod_alias。

```
RedirectMatch 301 ^/$ http://another.com/? 
```

# hadoop - 分布式计算最常见的用途是什么？

> ID：12048741
> 
> 赞同：1
> 
> 时间：2012-08-21T05:11:05.570
> 
> 标签：hadoop, mapreduce, cluster-computing, distributed-computing, hpc

我写了一个非常简单的分布式计算平台（基于 Map/Reduce 范式），我正在编写一些演示和展示。我有一个非常小的团队，必须优先考虑我将首先编写哪些演示。

为了确定优先级，我需要对演示进行相应的排序，大约 70% 是分布式计算的相关、常见、重要的用例，30% 易于编写。

到目前为止，我已经这样订购了：

1.  用 Monte Carlo 发现 pi 数字
2.  与蒙特卡洛的数值积分
3.  大矩阵乘法（密集矩阵）
4.  线性回归
5.  大矩阵求逆
6.  多元回归
7.  排序
8.  聚类（K-均值）
9.  聚类（分层）

排名第一是因为它花了 10 分钟来写，虽然它完全没用（我不确定，但我认为没有很多人试图找到更多的 pi 数字）。

由于我的平台的性质，它会在那些当然是令人尴尬的并行的事情上更加闪耀，而不是 I/O 受限或减少主导。

你会如何改变我的名单？你会添加什么？排序在企业世界中是否有用，还是仅用于对分布式计算平台进行基准测试？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T07:06:43.557

您的列表表明您没有区分并行计算和分布式计算。这不一定是错误的，但是在看到并行计算（例如您的项目 2-5）正在执行时，寻找分布式计算平台卓越性演示的人可能会不温不火。

排序在任何有数据的地方都很有用：大企业，小企业，在你的办公桌抽屉里，在整个谷歌领域。搜索也是如此，这是您列表中令人惊讶的遗漏。另一个让我印象深刻的遗漏是任何类型的数据融合，合并大型数据集以从它们的交叉点获取信息，而不仅仅是从数据集中单独提取的信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T12:00:02.830

我第二个马克，你正在混合分布式计算和 HPC。以下是对您的每个主题的一些评论：

(1) 有人试图尽可能多地计算 Pi 的位数，但 Monte Carlo 算法在那里完全没用，因为它的精度与试验次数的平方根成反比，所以为了多得到一位小数精确度大约需要 100 倍以上的试验。还有其他算法 - 看看你是否可以使用 Map/Reduce 来实现其中的一些。

（2）这个很好，虽然很少使用 - 与（1）一样的精度问题。

(5) 很少进行纯矩阵求逆，主要是因为数值不稳定。如何解决一个密集的线性方程组呢？

我想说您现在缺少 M/R 处理的主要用途之一，即*图形处理*（阅读：社交和其他网络/流分析）。还有一些更一般的优化问题可能会很好，例如遗传算法。

# sharepoint-2010 - 检查给定日期的现有时间段以避免预订冲突

> ID：12048743
> 
> 赞同：0
> 
> 时间：2012-08-21T05:11:15.320
> 
> 标签：sharepoint-2010

我有用于预订活动的 Sharepoint 日历列表现在我想检查给定日期的现有时间段以避免预订中的冲突。例如，假设我现在预订了 2011 年 7 月 27 日上午 10:00 到 2011 年 7 月 27 日上午 11:30，如果用户尝试在上午 10:00 到上午 11:30 之间的任何时间预订活动我想拒绝它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T07:18:46.330

您必须为列表使用 ItemAdding 事件接收器。

我希望这些会有所帮助。

[链接 1](https://stackoverflow.com/questions/5672862/check-if-datetime-instance-falls-in-between-other-two-datetime-objects)

[链接 2](https://stackoverflow.com/questions/3227927/getting-all-datetimes-between-two-datetime-in-c-sharp)

# continuous-integration - 詹金斯无法重新启动

> ID：12048747
> 
> 赞同：0
> 
> 时间：2012-08-21T05:11:30.967
> 
> 标签：continuous-integration, jenkins

我正在为 Jenkins 授予权限，我编辑了 org.jenkins-ci.plist 文件以授予权限。然后使用重新启动Jenkins`java -jar jenkins-cli.jar -s https://localhost:8080`

网页给了我这个错误。

```
org.jvnet.hudson.reactor.ReactorException: java.lang.Error: java.lang.reflect.InvocationTargetException
    at org.jvnet.hudson.reactor.Reactor.execute(Reactor.java:246)
    at jenkins.InitReactorRunner.run(InitReactorRunner.java:43)
    at jenkins.model.Jenkins.executeReactor(Jenkins.java:889)
    at jenkins.model.Jenkins.<init>(Jenkins.java:794)
    at hudson.model.Hudson.<init>(Hudson.java:81)
    at hudson.model.Hudson.<init>(Hudson.java:77)
    at hudson.WebAppMain$2.run(WebAppMain.java:217)
Caused by: java.lang.Error: java.lang.reflect.InvocationTargetException
    at hudson.init.InitializerFinder.invoke(InitializerFinder.java:124)
    at hudson.init.InitializerFinder$TaskImpl.run(InitializerFinder.java:184)
    at org.jvnet.hudson.reactor.Reactor.runTask(Reactor.java:259)
    at jenkins.model.Jenkins$7.runTask(Jenkins.java:878)
    at org.jvnet.hudson.reactor.Reactor$2.run(Reactor.java:187)
    at org.jvnet.hudson.reactor.Reactor$Node.run(Reactor.java:94)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:680)
Caused by: java.lang.reflect.InvocationTargetException
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at hudson.init.InitializerFinder.invoke(InitializerFinder.java:120)
    ... 8 more
Caused by: java.lang.NullPointerException
    at org.jenkinsci.main.modules.sshd.SSHD.init(SSHD.java:144)
    ... 13 more 
```

从那时起，我什至不能使用 Jenkins-CLI 或 jenkins 本身。

我应该怎么做才能解决这个问题？

当我将来需要更改权限并重新启动jenkins时，我应该怎么做才能避免出现同样的错误？

提前致谢

PS 我正在使用 Mac OS Mountain Lion 10.8，并使用 Jenkins 1.474

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T05:23:00.467

可能在 jenkins 中报告了错误。[在这里](https://issues.jenkins-ci.org/browse/JENKINS-12338)检查，您可以恢复您的更改和/或尝试使用旧版本的詹金斯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-29T18:07:37.560

我在 Debian 上遇到了类似的错误...对于 Jenkins 添加和授予 Jenkins 用户权限在 jenkins 上启用安全性时，请确保选中 - “启用注册”或类似的 - 存储用户的选项，例如“jenkins自己的数据库” - 确保匿名用户具有最低读取权限

在 PC 上授予 Jenkins 权限 必须说我不知道​​ Mac 上的目录结构，但如果它与 Linux 类似... - 你应该有一个名为 jenkins 的文件，在 Linux 上位于 /etc/sysconfig 或 /etc/default并在此文件中将 JENKINS_USER 更改为您想要的任何用户。但您必须确保该用户存在于 PC 上，在 Linux 上，该用户必须位于 /etc/passwd

*   在 Linux 上更改 Jenkins 主页、webroot 和日志的权限： chown -R user:user /var/lib/jenkins chown -R user:user /var/cache/jenkins chown -R user:user /var/log/jenkins

PS：我给出了 Linux 的例子，因为它很容易解释，同样我没有在 Mac 上的经验。

但它应该工作......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-10T03:34:31.327

[![尝试删除然后使用您的本地主机地址刷新网站](../Images/6ff89ba9aad571883acc302a65a53ec0.png)](https://i.stack.imgur.com/ti4ne.png)

尝试删除文件夹内容，然后使用您的本地主机地址刷新您的网站，然后您会在终端中看到一些带有密码的解锁提示。然后继续重新安装您的插件。希望能帮到你！

# android - 如何使用蓝牙设备查找物体的距离/长度/大小？

> ID：12048752
> 
> 赞同：-1
> 
> 时间：2012-08-21T05:12:05.713
> 
> 标签：android, bluetooth, triangulation

> **可能重复：**
> [如何使用 Android 测量对象的距离和高度？](https://stackoverflow.com/questions/11932920/how-to-measure-distance-and-height-of-an-object-using-android)

如何使用android使用蓝牙设备的无线电波检测物体并计算物体的距离请给我一些想法。不使用传感器设备来检测或仅使用蓝牙设备计算物体的距离....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:14:55.823

蓝牙 API 不返回纬度、经度或海拔坐标，如果没有这些信息，您将无法满足您的要求。您可以假设的唯一方法是，如果未发现该设备，您可以假设该设备超出了蓝牙的正常范围 10 米。没有其他信息可以获取。

但是，是的，如果您的设备是智能蓝牙设备，它会按照您的要求发送自己的信息，那么您肯定可以获取它。

# c# - 自动按下 iframe 中的按钮

> ID：12048754
> 
> 赞同：0
> 
> 时间：2012-08-21T05:12:17.153
> 
> 标签：c#, javascript, jquery, html

我有一个带有 iframe 的 HTML 页面。这个 iframe 有一个按钮。按下该按钮的可能方式之一是哪一种？

我试过用javascript，但我没有解决它......提前谢谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T05:14:57.763

嘿，您可以尝试找到该按钮 id 并处理单击事件。它看起来像这样。

```
$('#youriframeid').contents().find('#yourbuttonid').click(function(){}); 
```

**编辑** 包含 iframe 的主 html 页面。

```
<html>
<head>
<script src="http://code.jquery.com/jquery-1.8.0.min.js" type="text/javascript">   </script>
<script>
 $('#a').contents().find('#iframbtn').click(function(){alert("It Worked!")});
 $('#a').contents().find('#iframbtn').trigger('click');
</script>
</head>
<iframe id="a" source="a.html">

</iframe>
</html> 
```

您的第二个包含 iframe 标记的 html 页面

```
<html>
<input type="button" id="iframbtn"  value="clickme"/> 
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:16:09.510

尝试使用这个：

```
 $("#mainiframe").contents().find("someID").trigger("click"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T06:09:17.290

Sample1.html

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
    <HTML>
    <HEAD>
    <TITLE> New Document </TITLE>
    <META NAME="Generator" CONTENT="EditPlus">
    <META NAME="Author" CONTENT="">
    <META NAME="Keywords" CONTENT="">
    <META NAME="Description" CONTENT="">
    </HEAD>
    <script>
    function call(){
    try{
    document.frm.but.click();
    }catch(e){
    }
    }
    </script>
    <BODY onload ="call()">
    <iframe src="Sample2.html" name="frm" width=100 height=100 />
    </BODY>
    </HTML> 
```

Sample2.html

```
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
    <HTML>
    <HEAD>
    <TITLE> New Document </TITLE>
    <META NAME="Generator" CONTENT="EditPlus">
    <META NAME="Author" CONTENT="">
    <META NAME="Keywords" CONTENT="">
    <META NAME="Description" CONTENT="">
    </HEAD>
    <script>
    function called(){
    alert("---DONE--");
    }
    </script>
    <BODY>
    <input type="button" name="but" value="submit" id="but" width=60 height=60 onclick="called()" />
    </BODY>
    </HTML> 
```

希望这对您有所帮助。

# android - 从 Android 调用 Rest Web 服务？

> ID：12048757
> 
> 赞同：0
> 
> 时间：2012-08-21T05:12:41.567
> 
> 标签：android, web-services, rest

我是非常新的 Android REST Web 服务。现在我想使用 Restful Web 服务连接我的 Web 服务器，为此我编写以下代码来打开 wsdl 文件，但我想从该服务器连接到一个服务我该怎么做安卓 ：

```
package com.example.restservices;

import java.io.IOException;
import java.io.InputStream;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.protocol.BasicHttpContext;
import org.apache.http.protocol.HttpContext;

import android.app.Activity;
import android.os.AsyncTask;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;

public class RestExampleActivity extends Activity implements OnClickListener {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        findViewById(R.id.my_button).setOnClickListener(this);
    }

    @Override
    public void onClick(View arg0) {
        Button b = (Button)findViewById(R.id.my_button);
        b.setClickable(false);
        new LongRunningGetIO().execute();
    }

    private class LongRunningGetIO extends AsyncTask <Void, Void, String> {

        protected String getASCIIContentFromEntity(HttpEntity entity) throws IllegalStateException, IOException {
           InputStream in = entity.getContent();
             StringBuffer out = new StringBuffer();
             int n = 1;
             while (n>0) {
                 byte[] b = new byte[4096];
                 n =  in.read(b);
                 if (n>0) out.append(new String(b, 0, n));
             }
             return out.toString();
        }

        @Override
        protected String doInBackground(Void... params) {
             HttpClient httpClient = new DefaultHttpClient();
             HttpContext localContext = new BasicHttpContext();
             HttpGet httpGet = new HttpGet("http://*************:8000/sap/bc/srt/wsdl/srvc_14DAE9C8D79F1EE196F1FC6C6518A345/wsdl11/allinone/ws_policy/document?sap-client=800&sap-user=***********&sap-password=************");
             String text = null;
             try {
                   HttpResponse response = httpClient.execute(httpGet, localContext);
                   HttpEntity entity = response.getEntity();
                   text = getASCIIContentFromEntity(entity);
             } catch (Exception e) {
                 return e.getLocalizedMessage();
             }
             return text;
        }   

        protected void onPostExecute(String results) {
            if (results!=null) {
                EditText et = (EditText)findViewById(R.id.my_edit);
                et.setText(results);
            }
            Button b = (Button)findViewById(R.id.my_button);
            b.setClickable(true);
        }
    }
} 
```

通过上面的代码，我在文本区域中打开 wsdl 文件，我的要求是连接到 Wsdl 中的单个服务，请告诉我如何实现它

提前致谢......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T06:28:47.457

```
try {
    URL sourceUrl = new URL(url);
    is = sourceUrl.openStream();
} catch (Exception e) {
    e.printStackTrace();
}

try {
    StringBuilder out = new StringBuilder();
    BufferedReader br = new BufferedReader(new InputStreamReader(is));
    String tempStr = "";

    while ((tempStr = br.readLine()) != null) {
        out.append(tempStr);
    }
    result = out.toString();
} catch (Exception e) {
    e.printStackTrace();
} 
```

最后，您将在字符串结果中得到响应。

# asp.net - 在asp.net中重新加载浏览器时如何停止在数组中添加相同的项目？

> ID：12048760
> 
> 赞同：-1
> 
> 时间：2012-08-21T05:12:54.127
> 
> 标签：asp.net, browser

在我的 ASP.NET 项目中，我在查询字符串的帮助下添加了一个新的数组项。添加数组项后，我的客户端会重新加载浏览器。所以同一个项目再添加一次。它发生在每个重新加载时间。

但我不想要这个。是否有可能停止此浏览器重新加载或停止相同的数组项？

我的网址是 -

```
51402/ItemGrid.aspx?id=3035 
```

然后将`id=3035`项目添加到数组中。

我在页面加载事件中的代码

```
string query ="";
            int array_no;
            if (Convert.ToUInt32(GlobalClass.GlobalarrayNo.ToString()) == 0)
            {
                array_no = 0;
                Array.Clear(roomno, 0, roomno.Length);
            }
            else
            {
                array_no = Convert.ToInt32(GlobalClass.GlobalarrayNo.ToString());
            }
            id = Convert.ToInt32(Request.QueryString["id"]);
            if (!Page.IsPostBack)
            {               
                // ******* Happy Status ************

                decimal happyfromtime = 0;
                string happyper="";             
                string happytotime = "";
                query = "SELECT Parameters_Parameter3,Parameters_Parameter2,Parameters_Parameter1,Parameters_Parameter4 FROM MCS_Parameters WHERE Parameters_TYPE ='HAPHOU'";
                MySqlConnection connection = new MySqlConnection(GlobalClass.GlobalConnString.ToString());
                MySqlCommand command = new MySqlCommand(query, connection);
                connection.Open();
                MySqlDataReader Reader = command.ExecuteReader();
                while (Reader.Read())
                {
                    happyfromtime= Convert.ToDecimal(Reader[0].ToString());
                    happyper=Reader[1].ToString();
                    happystatus= Convert.ToInt32(Reader[2].ToString());
                    happytotime = Reader[3].ToString();
                }
                connection.Close();

                string t = GlobalClass.GlobalserverTime.ToString();
                t= t.Substring(0,5);
                t = t.Replace(":",".");

                //ALLTRIM(CurCate.Fb_Item_Creation_HappyhoursStatus)='Yes'
                if ((Convert.ToDecimal(t) > Convert.ToDecimal(happyfromtime)) && (Convert.ToDecimal(t) < Convert.ToDecimal(happytotime)) && (happystatus == 1))                
                {
                    tHappy_Status = 1;
                }

                if (GlobalClass.GlobalservedAt == "RST")
                {
                    query = "select a.Fb_Item_Creation_ItemDescription, a.Fb_Item_Creation_RestaurantPrice, a.Fb_Item_Creation_ItemCode, a.Fb_Item_Creation_TaxStatus, "
                            + "a.Fb_Item_Creation_VatPercentage, a.Fb_Item_Creation_ServicechargeStatus, a.Fb_Item_Creation_SurchargeStatus, a.Fb_Item_Creation_DiscountStatus,"
                            + "a.FB_Item_ID, b.Fb_Category_Stock, b.Fb_Category_Name,a.Fb_Item_Creation_ModifierStatus,a.Fb_Item_Creation_HappyhoursStatus from fb_item_creation a, fb_category b "
                            + "where a.FB_Item_ID = '" + id + "' and a.Fb_Item_Creation_DeleteStatus=0 and "
                            + "a.Fb_Item_Creation_OutletId='" + GlobalClass.GlobaloutletId + "' "
                            + "and a.Fb_Item_Creation_ItemGroupId='" + GlobalClass.GlobalitemGroupId + "' and b.Fb_Category_DeleteStatus=0 and "
                            + "b.Fb_Category_Id = a.Fb_Item_Creation_ItemCategoryId";
                }
                else if (GlobalClass.GlobalservedAt == "BAR")
                {
                    query = "select a.Fb_Item_Creation_ItemDescription, a.Fb_Item_Creation_BarPrice, a.Fb_Item_Creation_ItemCode, a.Fb_Item_Creation_TaxStatus, "
                            + "a.Fb_Item_Creation_VatPercentage, a.Fb_Item_Creation_ServicechargeStatus, a.Fb_Item_Creation_SurchargeStatus, a.Fb_Item_Creation_DiscountStatus,"
                            + "a.FB_Item_ID, b.Fb_Category_Stock, b.Fb_Category_Name,a.Fb_Item_Creation_ModifierStatus,a.Fb_Item_Creation_HappyhoursStatus,a.Fb_Item_Creation_HappyhoursStatus from fb_item_creation a, fb_category b "
                            + "where a.FB_Item_ID = '" + id + "' and a.Fb_Item_Creation_DeleteStatus=0 and "
                            + "a.Fb_Item_Creation_OutletId='" + GlobalClass.GlobaloutletId + "' "
                            + "and a.Fb_Item_Creation_ItemGroupId='" + GlobalClass.GlobalitemGroupId + "' and b.Fb_Category_DeleteStatus=0 and "
                            + "b.Fb_Category_Id = a.Fb_Item_Creation_ItemCategoryId";
                }
                else
                {
                    query = "select a.Fb_Item_Creation_ItemDescription, a.Fb_Item_Creation_RoomPrice, a.Fb_Item_Creation_ItemCode, a.Fb_Item_Creation_TaxStatus, "
                            + "a.Fb_Item_Creation_VatPercentage, a.Fb_Item_Creation_ServicechargeStatus, a.Fb_Item_Creation_SurchargeStatus, a.Fb_Item_Creation_DiscountStatus,"
                            + "a.FB_Item_ID, b.Fb_Category_Stock, b.Fb_Category_Name,a.Fb_Item_Creation_ModifierStatus from fb_item_creation a, fb_category b "
                            + "where a.FB_Item_ID = '" + id + "' and a.Fb_Item_Creation_DeleteStatus=0 and "
                            + "a.Fb_Item_Creation_OutletId='" + GlobalClass.GlobaloutletId + "' "
                            + "and a.Fb_Item_Creation_ItemGroupId='" + GlobalClass.GlobalitemGroupId + "' and b.Fb_Category_DeleteStatus=0 and "
                            + "b.Fb_Category_Id = a.Fb_Item_Creation_ItemCategoryId";
                }
                connection = new MySqlConnection(GlobalClass.GlobalConnString.ToString());

                command = new MySqlCommand(query, connection);
                connection.Open();
                Reader = command.ExecuteReader();
                while (Reader.Read())
                {
                    roomno[array_no, 0] = Reader[0].ToString(); // Fb_Item_Creation_ItemDescription
                    if (GlobalClass.GlobalopenCode == "OPEN")
                    {

                        roomno[array_no, 0] = GlobalClass.GlobalopenDes.ToString(); // Fb_Item_Creation_ItemDescription
                        roomno[array_no, 1] = GlobalClass.GlobalopenRate.ToString(); // Fb_Item_Creation_RoomPrice
                        roomno[array_no, 2] = GlobalClass.GlobalopenQty.ToString();                // Qty
                        roomno[array_no, 3] = Reader[2].ToString(); // Fb_Item_Creation_ItemCode
                        roomno[array_no, 4] = Reader[3].ToString(); // Fb_Item_Creation_TaxStatus
                        roomno[array_no, 5] = Reader[4].ToString(); // Fb_Item_Creation_VatPercentage
                        roomno[array_no, 6] = Reader[5].ToString(); // Fb_Item_Creation_ServicechargeStatus
                        roomno[array_no, 7] = Reader[6].ToString(); // Fb_Item_Creation_SurchargeStatus
                        roomno[array_no, 8] = Reader[7].ToString(); // Fb_Item_Creation_DiscountStatus
                        roomno[array_no, 9] = Reader[8].ToString(); // FB_Item_ID
                        roomno[array_no, 10] = Reader[9].ToString(); // Fb_Category_Stock
                        roomno[array_no, 11] = Reader[10].ToString(); // Fb_Category_Name
                        roomno[array_no, 12] = Reader[1].ToString();  // Total = rate * qty
                        roomno[array_no, 13] = Reader[11].ToString(); //Fb_Item_Creation_ModifierStatus
                        roomno[array_no, 14] = ""; //Fb_Kot_Item_TouchLine
                        roomno[array_no, 15] = ""; // UserModifier
                        roomno[array_no, 16] = Reader[12].ToString(); // HappyHours

                        array_no++;
                        GlobalClass.GlobalarrayNo = array_no;
                    }
                    else if (roomno[array_no, 0] == "OPEN")
                    {
                        Response.Redirect("OpenItem.aspx" + "?id=" + id);
                    }
                    else
                    {
                        roomno[array_no, 1] = Reader[1].ToString(); // Fb_Item_Creation_RoomPrice
                        roomno[array_no, 2] = "1";                  // Qty
                        roomno[array_no, 3] = Reader[2].ToString(); // Fb_Item_Creation_ItemCode
                        roomno[array_no, 4] = Reader[3].ToString(); // Fb_Item_Creation_TaxStatus
                        roomno[array_no, 5] = Reader[4].ToString(); // Fb_Item_Creation_VatPercentage
                        roomno[array_no, 6] = Reader[5].ToString(); // Fb_Item_Creation_ServicechargeStatus
                        roomno[array_no, 7] = Reader[6].ToString(); // Fb_Item_Creation_SurchargeStatus
                        roomno[array_no, 8] = Reader[7].ToString(); // Fb_Item_Creation_DiscountStatus
                        roomno[array_no, 9] = Reader[8].ToString(); // FB_Item_ID
                        roomno[array_no, 10] = Reader[9].ToString(); // Fb_Category_Stock
                        roomno[array_no, 11] = Reader[10].ToString(); // Fb_Category_Name
                        roomno[array_no, 12] = Reader[1].ToString();  // Total = rate * qty
                        roomno[array_no, 13] = Reader[11].ToString(); //Fb_Item_Creation_ModifierStatus
                        roomno[array_no, 14] = ""; //Fb_Kot_Item_TouchLine
                        roomno[array_no, 15] = ""; // UserModifier                        
                        roomno[array_no, 16] = Reader[12].ToString(); // HappyHours

                        if ((tHappy_Status == 1) && (roomno[array_no, 16].ToString()=="Yes"))
                        {
                            roomno[array_no, 8] = "Yes";
                        }

                        array_no++;
                        GlobalClass.GlobalarrayNo = array_no;

                        //var nameValues = HttpUtility.ParseQueryString(Request.QueryString.ToString());
                        //nameValues.Set("sortBy", "4");
                        //string url = Request.Url.AbsolutePath;
                        //string updatedQueryString = "?" + nameValues.ToString();
                        //Response.Redirect(url + updatedQueryString);
                    }
                }
                connection.Close();

                ViewState["btn"] = "1";
                ViewState["tot"] = "0";
                ViewState["happystatus"] = happystatus;
                btn_click = Convert.ToInt32(ViewState["btn"].ToString());
                int len = array_no;
                while (len > 8)
                {
                    len = len - 8;
                    tot++;
                }

                if (len != 0) tot++;
                ViewState["tot"] = tot;
                fun();
                //CreatingTmpModdbf1();

                // Modifier Text
                int seq = Convert.ToInt32(Request.QueryString["seq"]);
                string text = Request.QueryString["text"];
                if (text != null)
                {
                    roomno[seq - 1, 15] = text;
                }
            } 
```

!postback 无助于避免我的问题。

```
static class GlobalClass
    {
        private static string myConnString1 = "";
        private static int userId = 0;
        private static string userName = "";
        private static int outletId = 0;
        private static int itemGroupId = 0;
        private static DateTime serverDate;
        private static string serverTime = "";
        private static string tableName = "";
        private static string serverdAt = "";
        private static int arrayNo = 0;
        private static int waiterId = 0;
        private static int covers = 0;
        private static string kotno = "";

        public static string GlobalConnString
        {
            get { return myConnString1; }
            set { myConnString1 = value; }                     
        }

        public static int GlobaluserId
        {
            get { return userId;}
            set { userId = value; }
        }

        public static string GlobaluserName
        {
            get { return userName; }
            set { userName = value; }
        }

        public static int GlobaloutletId
        {
            get { return outletId; }
            set { outletId = value; }
        }

        public static DateTime GlobalserverDate
        {
            get { return serverDate; }
            set { serverDate = value; }
        }

        public static string GlobalserverTime
        {
            get { return serverTime; }
            set { serverTime = value; }
        }

        public static string GlobaltableName
        {
            get { return tableName; }
            set { tableName = value; }
        }

        public static int GlobalitemGroupId
        {
            get { return itemGroupId; }
            set { itemGroupId = value; }
        }

        public static string GlobalservedAt
        {
            get { return serverdAt; }
            set { serverdAt = value; }
        }

        public static int GlobalarrayNo
        {
            get { return arrayNo; }
            set { arrayNo = value; }
        }

        public static int GlobalwaiterId
        {
            get { return waiterId; }
            set { waiterId = value; }
        }

        public static int Globalcovers
        {
            get { return covers; }
            set { covers = value; }
        }

        public static string GlobalkotNo
        {
            get { return kotno ; }
            set { kotno = value; }
        }

        public static string staffId = "";
        public static string staffCategoryId = "";

        public static string GlobalstaffId
        {
            get { return staffId; }
            set { staffId = value; }
        }

        public static string GlobalstaffCategoryId
        {
            get { return staffCategoryId; }
            set { staffCategoryId = value; }
        }

        public static string openCode = "";
        public static string openDes = "";

        public static string GlobalopenCode
        {
            get { return openCode; }
            set { openCode = value; }
        }

        public static string GlobalopenDes
        {
            get { return openDes; }
            set { openDes = value; }
        }

        public static string openQty = "";
        public static string openRate = "";

        public static string GlobalopenQty
        {
            get { return openQty; }
            set { openQty = value; }
        }

        public static string GlobalopenRate
        {
            get { return openRate; }
            set { openRate = value; }
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:30:37.590

我假设您的数组是静态/共享的。静态变量在整个应用程序域和所有线程中共享。因此，每个用户都使用相同的变量。

不要为此使用静态变量，而不是持久化数组，您应该再次使用查询字符串。

[如果这是一个错误的假设，您应该向我们展示您的代码]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:36:57.620

添加项目后，您可以重定向到另一个页面。例如 51402/ItemGrid.aspx

同样使用 get 请求来保存/编辑/删除数据也不是好主意，最好使用 post。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T05:37:20.600

如果要将项目添加到 Page_Load 内的数组中，您可能需要将添加项目的代码包装在以下内容中：

```
If Not Page.IsPostBack Then
    //Your array item adding code here
End If 
```

如果用户刷新页面，这将防止再次添加项目。不过，我想回应 Tim 并说如果我假设不正确，您应该发布您的代码。

# java - 如何根据按钮文本访问 JButton

> ID：12048776
> 
> 赞同：-1
> 
> 时间：2012-08-21T05:14:42.403
> 
> 标签：java, swing, awt, jbutton, gettext

我有一组按 GridLayout 排列的按钮。我想根据其文本访问特定按钮。有没有办法根据其文本检索按钮？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-21T05:16:07.560

您必须遍历面板中的组件并查找它。就像是：

```
for (Component comp : panel.getComponents())
    if (comp instanceof JButton && searchText.equals(((JButton) comp).getText()))
        return (JButton) comp; 
```

`Map<String, JButton> buttonMap`但是，我建议您在创建和添加按钮时填充 a 。然后你只需`buttonMap.get(searchText)`抓住你的按钮：

```
JPanel panel = new JPanel(new GridLayout(3, 3));
for (int i = 1; i <= 9; i++) {
    JButton button = new JButton("Button " + i);
    panel.add(button);

    // save it to a map for easy retrieval
    buttonMap.put(button.getText(), button);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T05:18:43.397

遍历面板中的组件并简单地过滤结果。

```
for (Component component : getComponents()) {
    if (component instanceof JButton &&
       ((JButton) component).getText().equals(searchText)) {
        return component;
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-21T05:22:11.760

**您可以创建 JButton 名称到 JButton 对象的映射**

`Map<String, JButton> mbutt = new HashMap<String, JButton>();`

**您可以通过像这样迭代它来访问 String 和 JButton。**

```
for(Map.Entry<String,JButton> map : mbutt.entrySet()){

       String k = map.key();  // Key 

       JButton bu = map.value();  // JButton

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-22T06:52:31.550

```
public void actionPerformed(ActionEvent e) {
String name= e.getActionCommand();
} 
```

将 actionListener 添加到所有按钮后。上面代码中的名称字符串获取写在文本上的文本字符串。之后，您可以根据其文本处理按钮。

# android - Google API 未显示在 Ubuntu 的 Android SDK 管理器中

> ID：12048777
> 
> 赞同：0
> 
> 时间：2012-08-21T05:14:51.093
> 
> 标签：android, ubuntu, sdk, proxy

我有 Android SDK 管理器修订版 20.0。我有 Ubuntu 12.04。我在我的办公室，有一个代理配置 URL 链接到一个“.pac”文件，通过该文件连接 Internet。

在 Android SDK Manager 中，只有 Android SDK 工具显示为“已安装”，没有显示其他包或 API。我尝试重新加载它很多次，但它没有来。

我已经下载了“.pac”文件并在 Android SDK Manager 中更新了代理并尝试了它。还有“强制'https://'到'http://'。但没有任何效果。

请建议我该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:22:41.520

代理通常并不难使用，您只需要设置一个 IP/URL 和一个端口。

您可以在中为您的 android sdk 管理器设置代理

```
Tools > Options 
```

或者只是[单独下载 SDK 组件](http://qdevarena.blogspot.it/2010/05/download-android-sdk-standalone-for.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-22T05:14:33.680

行。问题解决了。我去了 .android/androidtools.cfg 文件并手动更新了代理端口和代理地址。它不能在 Tools->Options 中正确修改。所以，很方便。

# javascript - 如何获取dom元素的代码行号？

> ID：12048783
> 
> 赞同：2
> 
> 时间：2012-08-21T05:15:12.537
> 
> 标签：javascript, html, dom

如何找到特定 DOM 元素的代码行号？

所以我在 JS 变量中有一个 DOM 元素，我需要一个函数来返回代码行号和文件名（路径）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:36:16.230

这是不可能的，因为您可以操纵 dom。

两个原因：

1.  浏览器在解析 dom 时添加 dom 元素（就像`<tbody>`大多数人忘记它一样）浏览器还具有未关闭标签等的自动更正功能，因此查看不可能定义 wich dom 节点在哪一行。
2.  您可以使用 javascript 添加/追加/操作/删除 dom 节点。dom 不是静态的。只要您执行以下操作：`var foo = document.createElement("div");`并将其附加到正文中，例如：`document.body.firstChild.appendChild(foo);`行号将在逻辑上发生变化。

您还可以在树中移动 dom 节点，例如更改元素的父级等。您也可以创建 dom 节点而不将它们附加到树中，但您可以在以后的过程中附加它们。

简单地说：除非您安装了检查器，否则您无法确定 dom 节点在哪一行（例如右键单击可视浏览器窗口中的节点并在 chrome 中选择“检查元素”之类的内容）

每个浏览器对 html / dom 的解释都不同，因此不可能有相同的结果树。

您唯一能做的就是添加一个`<script>`引发异常的标签。在大多数浏览器中，您可以通过警告框显示当前行号。（因为我认为那是“不是一个好主意”，所以我不会详细说明）

# apache-flex - 使用 flex 隐藏 Adob e Flash 播放器设置对话框

> ID：12048784
> 
> 赞同：1
> 
> 时间：2012-08-21T05:15:19.953
> 
> 标签：apache-flex, webcam, flash

在我的网络应用程序中，我使用 flex 加载了相机。打开相机时，它会显示 adobe flash player 设置对话框以供用户接受或拒绝。我想在不询问用户的情况下打开相机（没有对话框），当用户登录我们的网站时，我必须自动捕获用户。请帮我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T05:33:47.337

这是不可能的。你能想象如果任何网站都可以在未经你许可的情况下访问你的相机会发生什么吗？

阻止对话框出现的唯一方法是让用户接受一次，然后单击“记住”选项。

如果您尝试在不做任何事情的情况下访问相机，用户将看到一个简单的对话框，其中只有“允许”和“拒绝”选项。

但是，您可以触发“隐私”对话框，该对话框可以选择记住未来会话的“允许”或“拒绝”：

```
Security.showSettings(SecurityPanel.PRIVACY); 
```

当您执行此操作时，它会显示一个不同的面板，该面板可以选择记住该设置，以便他们下次访问您的网站时根本不会看到该对话框（前提是他们第一次单击“允许”）。许多网站喜欢编排此过程，以便在尝试访问相机之前显示此对话框。

然后，他们使用[这个众所周知](https://stackoverflow.com/questions/6945055/flash-security-settings-panel-listening-for-close-event)的 hack 来了解对话框何时关闭，然后访问相机。请注意，页面有一个鲜为人知的 hack，它是一种更清洁的解决方案，我从未尝试过，但如果你走这条路，我建议你这样做。

# android - 列表视图复选框未在不可见行中选中

> ID：12048789
> 
> 赞同：1
> 
> 时间：2012-08-21T05:16:12.363
> 
> 标签：android, android-widget

我正在创建一个列表视图，每行都有自定义布局。每个自定义布局都有一个复选框。我有一个复选框，单击时必须单击列表视图中的所有复选框。我可以单击可见行中的复选框，但我面临不可见行的问题。我尝试在列表适配器中检查所有内容，但它不起作用。

MainActivity.java

```
public class MainActivity extends Activity implements OnItemClickListener{

    ListView listView;
    ArrayAdapter<Model> adapter;
    static List<Model> list = new ArrayList<Model>();
    public static int count = 0;

    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        setContentView(R.layout.main);

        listView = (ListView) findViewById(R.id.my_list);
        adapter = new MyAdapter(this,getModel());
        listView.setAdapter(adapter);
        listView.setOnItemClickListener(this);
        count = listView.getCount();
    }

    @Override
    public void onItemClick(AdapterView<?> arg0, View v, int position, long arg3) {
        TextView label = (TextView) v.getTag(R.id.label);
        CheckBox checkbox = (CheckBox) v.getTag(R.id.check);
        Toast.makeText(v.getContext(), label.getText().toString()+" "+isCheckedOrNot(checkbox), Toast.LENGTH_LONG).show();
    }

    private String isCheckedOrNot(CheckBox checkbox) {
        if(checkbox.isChecked())
            return "is checked";
        else
            return "is not checked";
    }

    private List<Model> getModel() {
        list.add(new Model("Linux"));
        list.add(new Model("Windows7"));
        list.add(new Model("Suse"));
        list.add(new Model("Eclipse"));
        list.add(new Model("Ubuntu"));
        list.add(new Model("Solaris"));
        list.add(new Model("Android"));
        list.add(new Model("iPhone"));
        list.add(new Model("Java"));
        list.add(new Model(".Net"));
        list.add(new Model("PHP"));
        list.add(new Model("U1"));
        list.add(new Model("S1"));
        list.add(new Model("A1"));
        list.add(new Model("i1"));
        list.add(new Model("J1"));
        list.add(new Model(".N1"));
        list.add(new Model("PP1"));
        return list;
    }
} 
```

我的适配器.java

```
public class MyAdapter extends ArrayAdapter<Model> {

    private final List<Model> list;
    private final Activity context; 

    TextView text;
    CheckBox checkbox;
    boolean flag;

    public MyAdapter(Activity context, List<Model> list) {
        super(context, R.layout.row, list);
        this.context = context;
        this.list = list;
    }

    static class ViewHolder {
        protected TextView text;
        protected CheckBox checkbox;
    }

    @Override
    public View getView(final int position, View convertView, final ViewGroup parent) {

        final CheckBox c = (CheckBox) ((ViewGroup) parent.getParent()).getChildAt(0);

        if (convertView == null) {
            LayoutInflater inflator = context.getLayoutInflater();
            convertView = inflator.inflate(R.layout.row, null);
        }

            text = (TextView) convertView.findViewById(R.id.label);
            checkbox = (CheckBox) convertView.findViewById(R.id.check);
            checkbox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {

                        @Override
                        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
                            int getPosition = (Integer) buttonView.getTag(); 
                            list.get(getPosition).setSelected(buttonView.isChecked());
                        }
                    });

        checkbox.setTag(position); 

        text.setText(list.get(position).getName());

        c.setOnCheckedChangeListener(new OnCheckedChangeListener() {

            @Override
            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
                for (int i = 0; i < parent.getChildCount(); i++) {

                    RelativeLayout r = (RelativeLayout) parent.getChildAt(i);

                    CheckBox check1 = (CheckBox) r.getChildAt(1);

                    if(check1 instanceof CheckBox){

                        check1.setChecked(true);
                    }
                }
            }
        });

        if(flag){

            list.get(position).setSelected(flag);

        }

        checkbox.setChecked(list.get(position).isSelected());   

        return convertView;
    }
} 
```

主要的.xml

```
 <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >
        <CheckBox
            android:id="@+id/check"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_alignParentRight="true"
            android:layout_marginLeft="4dip"
            android:layout_marginRight="10dip"
            android:focusable="false"
            android:focusableInTouchMode="false" >
        </CheckBox>

        <ListView
            android:id="@+id/my_list"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent" />

    </LinearLayout> 
```

行.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >

    <TextView
        android:id="@+id/label"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@+id/label"
        android:textSize="30sp" >
    </TextView>

    <CheckBox
        android:id="@+id/check"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_marginLeft="4dip"
        android:layout_marginRight="10dip"
        android:focusable="false"
        android:focusableInTouchMode="false" >
    </CheckBox>

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T05:55:22.753

列表视图只有您可以看到的尽可能多的孩子，因此`getChildCount()`只会返回可见的内容。

您将需要在您的`Model`类中有一个字段来存储其`checked`状态。所以在你的适配器的`getView`方法中，你会做类似的事情

```
Model myModel = getItem(position);
checkBox.setChecked(myModel.isChecked()); 
```

`Select all`应该循环遍历列表并将所有`Model`对象标记为选中并更新列表视图中的可见视图。下次滚动复选框时，将从相关模型对象中读取其选中状态，从内部`getView()`

# c - 如何使用回调函数获取 Tizen 中区域变量的值？

> ID：12048793
> 
> 赞同：9
> 
> 时间：2012-08-21T05:16:26.767
> 
> 标签：c, linux, tizen, tizen-native-app

我想用 c 编写一个本机应用程序来获取 Tizen 中区域的值。编译后的 c 代码必须在 Tizen 手机上运行，​​我需要获取语言区域的值。我从 Tizen 源获得的回调函数是

```
int app_cb_broker_appcore_region_changed(void *data)
{
    app_region_format_changed_cb region_changed_cb;

    region_changed_cb = app_context.callbacks->region_format_changed;

    if (region_changed_cb != NULL)
    {
            region_changed_cb(app_context.user_data);
    }

    return 0;
} 
```

如何使用该函数获取当前区域的值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T15:36:01.757

我不熟悉 Tizen，但据我在代码中看到的，有一个结构变量 ( **app_context** ) 具有一个属性 ( **callbacks** )，它应该是一个指向回调函数指针结构的指针。这些函数指针之一是**region_format_changed**。因此，您应该定义您的函数并将其传递给该指针，以便它被调用（返回）并且您可以处理传递的参数（**app_context.user_data**）。

例如。

第 1 步：定义并编写回调函数

```
void my_region_changed_cb(typeof(app_context.user_data) data)
{
     //The code of your handler here
} 
```

步骤 2\. 在初始化代码的某处设置回调属性

```
//...
app_context.callbacks->region_format_changed = (&my_region_changed_cb);
//... 
```

希望能帮助到你。

# nlog - NLog 存档设置不正确

> ID：12048795
> 
> 赞同：1
> 
> 时间：2012-08-21T05:16:35.013
> 
> 标签：nlog

我已经尝试过有关同一主题的已接受答案中建议的内容，但无法使存档功能正常工作。

这些是我的设置：

```
<variable name="verbose" value="${longdate} | ${level} | ${message} | ${exception:format=tostring,message,method:maxInnerExceptionLevel=5:innerFormat=shortType,message,method}"/>

<targets>
  <target name="logfile" xsi:type="File"
    fileName="${basedir}/Logs/errorlog.log"
    layout="${verbose}"
    archiveFileName="${basedir}/Logs/errorlog.#.log"
    archiveEvery="Day"
    archiveNumbering="Rolling"
    maxArchiveFiles="2"
    concurrentWrites="true"              
          />
</targets>

<rules>
  <logger name="*" minlevel="Info" writeTo="logfile"/>
</rules> 
```

如果有人能识别出我需要的难以捉摸的设置组合，请告诉我。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T13:42:33.850

您的存档文件的模式不正确。代替

```
archiveFileName="${basedir}/Logs/errorlog.#.log" 
```

它应该是

```
archiveFileName="${basedir}/Logs/errorlog.{#}.log" 
```

# javascript - HTML 表单 - 按“Enter”时执行脚本，而不提交

> ID：12048796
> 
> 赞同：5
> 
> 时间：2012-08-21T05:16:44.940
> 
> 标签：javascript, jquery, html, forms, submit

> **可能重复：**
> [jQuery 事件按键：按下了哪个键？](https://stackoverflow.com/questions/302122/jquery-event-keypress-which-key-was-pressed)

好的，这是我的情况*（我过去已经解决了这个问题，但是由于我不确定我的方法是最好的，所以我全心听取一些建议）*：

*   我有一个简单的 HTML 表单
*   此表格的目的不是永远提交
*   用户正常单击（伪）`Submit`按钮，并执行所需的操作（通过 Javascript/Ajax 等）

事情是 ：

*   如果用户点击**enter ，****则**提交表单，这是我们绝对不想要的。
*   我们想要的是*捕捉*那个特定的按键，在这种情况下，触发通常在单击按钮时执行的操作。

你会怎么做？

* * *

### 我的方法

* * *

**表格**

```
<form id="someId" action="#" method="post" 
      onsubmit="return false;" onkeypress="return enterSub(this,event);">
...
</form> 
```

**编码**

```
function enterSub(inField, e) 
{ 
        var charCode;

        if(e && e.which)
        {
            charCode = e.which;
        }
        else if (window.event)
        {
            e = window.event;
            charCode = e.keyCode;
        }

        if (charCode == 13) 
        {
            performThatAction; // My Main action
        }
 } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-21T05:20:15.130

绑定到表单的提交而不是单击按钮，然后阻止默认操作。

```
$("#myform").submit(function(e){
    e.preventDefault();
    alert("The action has occurred without submitting the form!");
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T05:20:26.630

```
$('#form_id').submit(function(){
  //do something
}); 
```

每当用户尝试提交表单时，此函数都会触发（您必须返回 false 或阻止默认值）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-08-21T05:24:32.497

如果您还想在用户按 Enter 时执行特定操作，您可以执行以下操作：

```
$(document).keypress(function(e) {
        if(e.which == 13) {
           e.preventDefault();
           // Do something         
        }
    }); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-21T05:28:21.210

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE> New Document </TITLE>
<META NAME="Generator" CONTENT="EditPlus">
<META NAME="Author" CONTENT="">
<META NAME="Keywords" CONTENT="">
<META NAME="Description" CONTENT="">
</HEAD>
<script>
document.attachEvent("onkeydown", win_onkeydown_handler);
function win_onkeydown_handler()
{
alert(event.keyCode);
switch (event.keyCode){
case 13 : // 'enter'
event.returnValue = false;
event.keyCode = 0;
alert("Enter Blocked");// If need show this alert else comment it
break;

}
}
</script>
<BODY>
</BODY>
</HTML> 
```

请使用上面的脚本找到输入键，您可以根据需要处理输入。希望您的疑问已解决，否则请发帖给我。

# java - 将 http 更改为 https

> ID：12048798
> 
> 赞同：0
> 
> 时间：2012-08-21T05:17:10.687
> 
> 标签：java, google-app-engine, http, ssl, https

我正在学习使用 Google Apps Engine。我的代码部分为`JAVA`. 在 Google Apps Engine 中，我创建了一个应用程序作为`http://sampleown.appspot.com`. 如何将 URL 从`http://sampleown.appspot.com`to`https://sampleown.appspot.com`和 redirect `http`and to更改为`https`. 如何使用 SSL 来避免`http`连接。我不知道避免连接的概念`SSL`以及如何使用。`SSL``http`

给我任何想法/示例代码/指导我。

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T05:27:59.183

[https://developers.google.com/appengine/kb/general](https://developers.google.com/appengine/kb/general)

Google App Engine 是否支持 SSL (HTTPS)？

Google App Engine 允许您通过您的 appspot.com 域提供 SSL (HTTPS) 流量。只需将“secure”参数添加到您希望通过其支持安全流量的 URL 的 app.yaml 处理程序。有关如何配置应用程序以实现安全流量的完整信息，请参阅应用程序配置文档。

Java 文档：[https ://developers.google.com/appengine/docs/java/config/webxml#Secure_URLs](https://developers.google.com/appengine/docs/java/config/webxml#Secure_URLs)

# ios - 如何使用 fetchedResultsController 只返回某些实体？

> ID：12048803
> 
> 赞同：0
> 
> 时间：2012-08-21T05:17:40.027
> 
> 标签：ios, xcode, core-data

现在，我的程序中的 setupFetchedResultsController 返回所有“食物”类型的实体，但我只想要“食物”类型的实体，它们也由我当前显示的“列表”实体持有。

holdBy 定义了“Food”和“List”之间的关系

有没有办法做到这一点？

我的 setupFetchedResultsController

```
- (void)setupFetchedResultsController
{
    // 1 - Decide what Entity you want
    NSString *entityName = @"Food"; // Put your entity name here
    NSLog(@"Setting up a Fetched Results Controller for the Entity named %@", entityName);

    // 2 - Request that Entity
    NSFetchRequest *request = [NSFetchRequest fetchRequestWithEntityName:entityName];

    // 3 - Filter it if you want
    //request.predicate = [NSPredicate predicateWithFormat:@"Role.name = Blah"];

    // 4 - Sort it if you want
    request.sortDescriptors = [NSArray arrayWithObject:[NSSortDescriptor sortDescriptorWithKey:@"name"
                      ascending:YES
                      selector:@selector(localizedCaseInsensitiveCompare:)]];
    // 5 - Fetch it
    self.fetchedResultsController = [[NSFetchedResultsController alloc] initWithFetchRequest:request
                      managedObjectContext:self.managedObjectContext
                      sectionNameKeyPath:nil
                      cacheName:nil];
    [self performFetch];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:41:38.637

我认为您可以使用您注释掉的谓词。

```
request.predicate = [NSPredicate predicateWithFormat:@"heldBy.name = name_of_list"]; 
```

# json - 找不到 Java 类型、net.sf.json.JSONObject 类和 MIME 媒体类型 application/json 的消息正文编写器

> ID：12048804
> 
> 赞同：10
> 
> 时间：2012-08-21T05:17:41.007
> 
> 标签：json, rest, jersey

我正在使用泽西客户端来调用休息网络服务。

我的网络服务正在使用 json，所以我需要将 json 用于调用我的网络服务提供商。

我正在按照以下方式进行操作。

```
 JSONObject object=new JSONObject();
    object.put("name", employee.getName());
    object.put("empId", employee.getEmpId());
    object.put("organizationName", employee.getOrganizationName());

ClientResponse response = service.path("rest").path("vtn").path("addEmplyee")
            .type(MediaType.APPLICATION_JSON_TYPE).post(ClientResponse.class, object); 
```

但我得到以下例外：

> 09:52:01,625 错误 [[mvc-dispatcher]] Servlet.service() for servlet mvc-dispatcher 抛出异常 **com.sun.jersey.api.client.ClientHandlerException：Java 类型的消息正文编写器，类 net.sf。未找到 json.JSONObject 和 MIME 媒体类型 application/json** 在 com.sun.jersey.api.client.RequestWriter.writeRequestEntity(RequestWriter.java:288) 在 com.sun.jersey.client.urlconnection.URLConnectionClientHandler._invoke(URLConnectionClientHandler.java:204) 在 com.sun.jersey.client .urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:147) 在 com.sun.jersey.api.client.Client.handle(Client.java:648) 在 com.sun.jersey.api.client.WebResource.handle(WebResource .java:670) 在 com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74) 在 com.sun.jersey.api.client.WebResource$Builder.post(WebResource.java:563)在 com.nec.jp.pflow.unc.service.EmployeeService.addEmployee(EmployeeService.java:44) 在 com.nec.jp.pflow.unc.controller.EmployeeController.addCustomer(EmployeeController.java:29) 在 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 在 sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 在 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)

但是，如果我将我的 json 转换为字符串表示形式，例如：

```
String input = "{\"name\" : \"" + employee.getName() + "\",\"empId\" : \"" + employee.getEmpId() + "\",\"organizationName\" : \"" + employee.getOrganizationName() + "\"}";

ClientResponse response = service.path("rest").path("vtn").path("addEmplyee")
            .type(MediaType.APPLICATION_JSON_TYPE).post(ClientResponse.class, input); 
```

然后它工作正常。

请建议我如何在不出现上述异常的情况下放置我的 JSON 对象。什么是最好的方法？

提前致谢。

* * *

我得到了上述的解决方案。现在我正在使用 jackson-mapper api 将 POJO 转换为 json。

下面是代码片段。

```
ObjectMapper mapper = new ObjectMapper();
ClientResponse response = resource.path("rest").path("vtn").path("addEmplyee")
        .type(MediaType.APPLICATION_JSON_TYPE).post(ClientResponse.class, mapper.writeValueAsString(employee)); 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2014-10-15T11:55:30.130

更好的方法是告诉`jersey-client`它可以`jackson`用于序列化： [https ://stackoverflow.com/a/2580315/516188](https://stackoverflow.com/a/2580315/516188)

粘贴设置：

```
ClientConfig cc = new DefaultClientConfig();
cc.getClasses().add(JacksonJsonProvider.class);
Client clientWithJacksonSerializer = Client.create(cc); 
```

`JacksonJsonProvider`在`jackson-jaxrs-json-provider`包装中。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-19T10:28:31.737

**只需从上面的问题中复制解决方案，以防万一有人在寻找答案。**

使用 jackson-mapper api 将 POJO 转换为 json，如下面的代码片段所示：

```
ObjectMapper mapper = new ObjectMapper();
ClientResponse response = resource.path("rest").path("vtn").path("addEmplyee")
        .type(MediaType.APPLICATION_JSON_TYPE).post(ClientResponse.class, mapper.writeValueAsString(employee)); 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-05-25T19:32:40.017

添加 .toString() 对我有用：

```
JSONObject object=new JSONObject();
object.put("name", employee.getName());
object.put("empId", employee.getEmpId());
object.put("organizationName", employee.getOrganizationName());

ClientResponse response = service.path("rest").path("vtn").path("addEmplyee").type(MediaType.APPLICATION_JSON_TYPE).post(ClientResponse.class,object.toString()); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-04T05:21:44.710

```
JSONObject object=new JSONObject(); 
```

需要提供`@XMLrootElement`Annotation....如果您从远程访问Web 服务....即XML Mapping..for Model 类。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-05-07T09:43:26.263

经过大量阅读后，我得到了解决方案：

如果您使用的 JERSEY-CLIENT 如下指定的 1.9 或更高版本

```
<dependency>
    <groupId>com.sun.jersey</groupId>
    <artifactId>jersey-client</artifactId>
    <version>1.9.1</version>
</dependency> 
```

然后使用下面指定的 MOXY Jar 2.19 或更高版本

```
<dependency>
    <groupId>org.glassfish.jersey.media</groupId>
    <artifactId>jersey-media-moxy</artifactId>
    <version>2.19</version>
</dependency> 
```

然后在 Class of Client 配置中添加 MOXyJsonProvider.class 如下所示：

```
ClientConfig cc = new DefaultClientConfig();
cc.getClasses().add(MOXyJsonProvider.class);
Client client = Client.create(cc); 
```

现在对客户端对象进行所需的配置以连接到服务器并执行请求：

```
WebResource webResource = client.resource(*restFulPath*);
Builder builder = webResource.accept(MediaType.APPLICATION_JSON);

builder.header("Content-Type", "application/json");
builder.header("Accept ", "application/json");
builder.accept(MediaType.APPLICATION_JSON);

try
{
    String requestData = "*requestInJson*";
    ClientResponse response = null;
    response = builder.post(ClientResponse.class, requestData);
    if (response.getStatus() == 200)
    {
        MappedJsonReportOut res = response.getEntity(MappedJsonReportOut.class);
    }
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-09-19T14:08:54.687

我得到的错误有点不同，但最终解决方案对我有用

```
 Caused by: com.sun.jersey.api.client.ClientHandlerException: com.sun.jersey.api.client.ClientHandlerException: A message body writer for Java type, class com.siemens.spring.model.User, and MIME media type, application/json, was not found
    at com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:149)
    at com.sun.jersey.api.client.Client.handle(Client.java:648)
    at com.sun.jersey.api.client.WebResource.handle(WebResource.java:670)
    at com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)
    at com.sun.jersey.api.client.WebResource$Builder.post(WebResource.java:563)
    at com.siemens.controller.UserRegistration.process(UserRegistration.java:156)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:606)
    at org.apache.el.parser.AstValue.invoke(AstValue.java:278)
    at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:274)
    at javax.faces.event.MethodExpressionActionListener.processAction(MethodExpressionActionListener.java:153) 
```

这是对我有用的解决方案：

```
 Client client = Client.create();
    WebResource webResource = client
            .resource("http://localhost:8080/NewsTickerServices/Siemens/CreateJUser");
    // value added

    ClientResponse response = webResource.type(MediaType.APPLICATION_JSON).post(ClientResponse.class,mapper.writeValueAsString(user));//user is object of User Pojo class 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-21T08:50:43.453

您也可以使用 entity() 方法来实现这一点，如下所示：

```
 ClientResponse response = resource.path("rest").path("vtn").path("addEmplyee")
    .entity(employee, MediaType.APPLICATION_JSON_TYPE)
    .post(ClientResponse.class); 
```

或者

```
 ClientResponse response = resource.path("rest").path("vtn").path("addEmplyee")
    .type(MediaType.APPLICATION_JSON_TYPE)
    .entity(employee)
    .post(ClientResponse.class); 
```

# windows - if 和 else 批量处理

> ID：12048808
> 
> 赞同：0
> 
> 时间：2012-08-21T05:17:59.467
> 
> 标签：windows, cmd

我正在尝试制作一个脚本，该脚本将搜索插入计算机的所有设备并找到通用文件，然后在找到或未找到设备时回显。

```
 for %%d in (c d e f g h i j k l m n o p q r s t u v w x y z) do (
          if exist "%%d:\common\" echo Device was found on %%d: 
          )else(
          echo Device was not found
          )
      pause 
```

这段代码似乎不起作用，但有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T06:38:38.650

你打错了：使用`else`而不是`esle`。

而且你缺少一些括号。尝试 ：

```
for %%d in (c d e f g h i j k l m n o p q r s t u v w x y z) do (
          if exist "%%d:\common\" (
              echo Device was found on %%d: 
          ) else (
             echo Device was not found
          )
)
pause 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T06:44:08.757

您的代码中有几个语法问题：

*   您错过了 if 条件之后的左大括号（或者应该在 之前摆脱相应的右大括号`else`）。
*   你拼错了`else`（正如@dystroy 已经提到的）
*   您需要在 . 之后的大括号之前有一个空格`else`。
*   你错过了 for 语句的右括号。

提示：正确的格式和缩进会暗示一些问题。

您的代码应如下所示：

```
for %%d in (c d e f g h i j k l m n o p q r s t u v w x y z) do (
      if exist "%%d:\common\" ( 
          echo Device was found on %%d: 
      ) else (
          echo Device was not found
      )
)
pause 
```

# c++ - 如何让我的程序等待键盘输入？

> ID：12048814
> 
> 赞同：0
> 
> 时间：2012-08-21T05:18:19.980
> 
> 标签：c++, input, keyboard

好的，所以当我遇到以前从未遇到过的问题时，我只是在做一些练习。

```
#include <iostream>

using namespace std;

int main()
{
string empname = "";
int empage = 0;
char yes = 'y';

cout << "Please enter employee name:" << endl;
cin >> empname;
cin.get();
cout << "Your name is " + empname + " is this correct? (yes/no):" << endl;

if (yes)
{
    cout << "good" << endl;
}
else
{
    cout << "Please try again" << endl;
}

cout << "Please enter employee age:" << endl;
cin >> empage;
cin.get();
cout << "Your age is " + empname + " is this correct? (yes/no):" << endl;
if (yes)
{
    cout << "good" << endl;
}
else
{
    cout << "Please try again" << endl;
}
} 
```

这作为控制台程序执行，但在第 11 行 [包括空格] (cout << "请输入员工姓名：\t" << endl;) 之后，它只是跳过所有内容，并说按 ENTER 继续。我究竟做错了什么。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-21T05:28:36.957

我假设这个“按 ENTER 继续”部分来自您的环境（批处理脚本、编辑器等），因为它不在您的代码中。

问题是 cin （通常为 istream ）用所有空格分隔输入，而不仅仅是换行符。所以`cin >> empname`实际上只存储了员工姓名直到第一个空格的部分，即名字。`cin.get()`只得到一个字符，所以它不会等待换行符出现。

您应该使用`std::getline`(in <string>) 来获取整行输入。

例子：

```
string empname = "";
cout << "Please enter employee name:" << endl;
getline(cin, empname); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T06:41:38.940

您正在同时使用 cin 和 cin.get() 。正如 nnoneo 正确指出的那样，最好在此处使用 getline。除此之外，让我告诉您，每当您背靠背使用格式化和未格式化的输入时，都会出现这种错误（请记住 cin 已格式化，而 cin.get 和 getline 未格式化）。这是因为格式化输入会从流中删除空格或结束符。该字符保留在流中，下次当您尝试未格式化的输入时，该字符将进入流并进入您的变量。

为避免此字符进入其中，您可以在格式化和未格式化输入之间使用 cin.clear () 或 cin.ingore()。希望有帮助

# android - 在 android 的 Sqlite 数据库中检查数据是否存在的查询是什么？

> ID：12048818
> 
> 赞同：0
> 
> 时间：2012-08-21T05:18:39.100
> 
> 标签：android, sqlite

我解析了 json 数据并将这些值放入数据库（Sqlite 数据库）中。下次当我打开活动时，它会再次解析数据并将这些值放入数据库中。所以我想先检查数据是否在 sqlite 中？如果是，那么我需要跳过解析。只需从数据库中获取这些值。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T05:22:29.717

试试这个。

```
public int isDataAvailable()
    {
        int total = 0;
        try
        {
            Cursor c = null;
            c = db.rawQuery("select id from mycoupon", null);

            if(c.getCount() != 0)
                total = c.getCount();

            c.close();
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }
        return total; 
    } 
```

**如果表中没有记录，则返回 0，否则返回无记录。**

# excel - excel 宏 Visual Basic if 语句

> ID：12048820
> 
> 赞同：0
> 
> 时间：2012-08-21T05:18:49.567
> 
> 标签：excel, vba

我在 Excel 的宏中有这段代码。
代码是：

```
If Sheets("Summary of Quantities").Range(ColARange).Value = "Y" And Sheets("Formatted SOQ").Range("ColXRange"). = Sheets("Summary of Quantities").Range("ColDRange") Then 
```

我得到错误：

> 运行时错误“1004”：
> 应用程序定义的或对象定义的错误

当我添加以下内容时，问题就开始了：

```
And Sheets("Formatted SOQ").Range("ColXRange"). = Sheets("Summary of Quantities").Range("ColDRange") Then 
```

请帮忙！谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:24:58.593

看起来`.`在 `Range("ColXRange") 之后有一个额外的内容。不确定这些值指的是什么，但不妨试试这个：

```
If Sheets("Summary of Quantities").Range(ColARange).Value = "Y" And Sheets("Formatted SOQ").Range("ColXRange") = Sheets("Summary of Quantities").Range("ColDRange") Then 
```

# android - 如何扫描连接到安卓设备的打印机

> ID：12048824
> 
> 赞同：1
> 
> 时间：2012-08-21T05:19:27.290
> 
> 标签：android, printing, device

如何扫描连接到设备的打印机并打印当前屏幕。任何可用于扫描和打印操作的第三方库。它应该扫描并连接打印机的 IP。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T06:47:01.280

[Roy Samuel](https://stackoverflow.com/users/461269/roy-samuel)建议有一个 SO question Bluetooth [and WIFI Printing for Android](https://stackoverflow.com/questions/4656199/bluetooth-and-wifi-printing-for-android?rq=1)

> 目前无法在 Android 上通过蓝牙进行打印，因为 Android 不支持蓝牙“配置文件”，例如 BPP、HCRP BIP 等，这些是蓝牙打印使用的常见配置文件。目前，Android 支持 OPP（Object Push Profile），用于通过蓝牙发送文件。

然而扫描打印机可以通过[如何检测蓝牙设备如何检测蓝牙设备并从android应用程序获取检测到的设备的蓝牙地址来实现](https://stackoverflow.com/a/12048935/432903)

# java - 在java中刷新GUI元素

> ID：12048833
> 
> 赞同：6
> 
> 时间：2012-08-21T05:20:27.103
> 
> 标签：java, swing, user-interface

我是 Java 中的 GUI 新手。

例如，我只需要更新 1 个元素（例如，`JLabel`）。在 Tkinter 我会使用类似的东西`root.update()`or `root.update_idletasks()`。我想知道用 swing 制作的应用程序中是否存在类似的简单功能。我已经尝试过`gui_element.SetVisible(false)`和`gui_element.SetVisible(true)`类似的东西，但不是很成功。我怀疑`javax.swing.Timer`应该工作，但不知道如何。

**编辑**这是代码。如果您发现其他错误，请告诉我。谢谢

```
import java.awt.Color;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.BorderFactory;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;

public class sof_sample{

    /**
     * @param args
     */

    private static JFrame frame1 = new JFrame("Fractal Geometry");
    public static JButton quit_button = new JButton("Quit");
    private static JButton run_button = new JButton("Run");
    private static JLabel label1 = new JLabel();
    public static JLabel label_iter = new JLabel(); 
    private static GridLayout layout1 = new GridLayout(2,20);
    private JOptionPane msg1 = new JOptionPane();
    private static int counter;

    public static void main(String[] args) {
        // TODO Auto-generated method stub
        AuxClass1 inst1 = new AuxClass1();
        quit_button.addActionListener(inst1);
        run_button.addActionListener(inst1);
        label1.setText("Iteration");
        label1.setVerticalTextPosition(JLabel.CENTER);
        label1.setHorizontalAlignment(JLabel.CENTER);
        label_iter.setText("0");
        label_iter.setBorder(BorderFactory.createLineBorder(Color.BLACK));      
        label_iter.setVerticalTextPosition(JLabel.CENTER);
        label_iter.setHorizontalAlignment(JLabel.CENTER);

        //add widgets to the frame
        frame1.add(label1);
        frame1.add(label_iter);
        frame1.add(run_button);
        frame1.add(quit_button);

        frame1.setLayout(layout1);
        frame1.setLocationRelativeTo(null);
        //frame1.pack();
        frame1.setSize(250, 75);
        frame1.setVisible(true);

    }

}

class AuxClass1 implements ActionListener{
    sof_sample inst2 = new sof_sample();

    public void actionPerformed(ActionEvent event1){

        if (event1.getSource()==inst2.quit_button){
            System.exit(0);

        }
        else{
            for (int i=0;i<20000;i++){

                inst2.label_iter.setText(Integer.toString(i));

            }
            //msg1.showMessageDialog(frame1, "Not yet!");

        }

    }

} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-21T05:23:36.303

Swing 是事件驱动的。所有组件都通过 MVC 模式工作。您不需要通过隐藏/显示来显式地重新绘制它以更新它在屏幕上的表示。

您只需执行`yourLabel.setText("your new text")`此操作，新文本就会出现在标签上。

请记住，大多数 GUI 更新（这`setText`是一个例外）需要在 EDT 上执行，因此`SwingUtilities.invokeLater`如果您的更新是由网络消息触发的，请使用 etc。

如果您对 GUI 进行结构更改，您将不得不`revalidate()`/`repaint()`不过。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T13:53:59.267

通过使用 Javax.swing.Timer，您可以实现您的目标。

```
 timer = new Timer(100,new ActionListener() {
        @Override
        public void actionPerformed(ActionEvent e) {
            label.setText(String.valueOf(i));
            if(i==100){
                timer.stop();
            }
            i++;
        }
    }); 
```

当您要更改 JLabel 上的值时，此时只需使用 启动计时器`timer.start()`，因此标签上的值将一直更改到 100。当`i`值达到 100 时，`timer.stop()`将停止计时器。

这是 javax.swing.timer 教程。看看这个。 [http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/Timer.html](http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/Timer.html)

从下面的链接下载工作示例...

[https://docs.google.com/open?id=0B9U-BwYu62ZaQWZMWloxdHp0YWs](https://docs.google.com/open?id=0B9U-BwYu62ZaQWZMWloxdHp0YWs)

我认为它对你有用..

# linux - apache http服务器上符号链接的权限问题

> ID：12048836
> 
> 赞同：0
> 
> 时间：2012-08-21T05:20:57.937
> 
> 标签：linux, apache, symlink, chmod

我有以下文件权限。

```
lrwxrwxrwx。1 根 20 年 8 月 37 日 14:35 xxx -> /disk2/xxx

drwxrwxrwx。3 根根 4096 Aug 18 17:55 xxx

-rwxrwxrwx。1 个根 41 Aug 18 17:55 自述文件

```

访问[http://yy.yyy.yyy.yyy/xxx/README](http://yy.yyy.yyy.yyy/xxx/README)时 出现以下错误：您无权访问此服务器上的 /xxx/README。为什么？我怀疑符号链接 xxx 引起了一些问题，但不知道如何解决。

# objective-c - Objective-C 块，如何保留上下文值？

> ID：12048837
> 
> 赞同：5
> 
> 时间：2012-08-21T05:21:04.100
> 
> 标签：objective-c, ios, closures, objective-c-blocks, block

这是一个棘手的问题，我无法解决。

我知道 Obj-C 块本身不是闭包，它们的实现在某种程度上与 Javascript 闭包不同，但我仍然会使用 Javascript 示例来展示我想要完成的事情（熟悉 Javascript 的人会明白） .

在 Javascript 上，您可以创建如下所示的“函数工厂”：

```
//EXAMPLE A
var _arr = [], i = 0;
for(;i<8;++i) {
  _arr[i] = function() {
    console.log('Result:' + i);
  };
}
//BY THE END OF THIS LOOP i == 7
_arr[0]();
_arr[1]();
_arr[2]();
...
_arr[7](); 
```

它用相应的函数填充一个名为 _arr 的数组，然后评估所有这些。请注意，上述代码的结果将输出...

```
Result: 7
Result: 7
Result: 7
...
Result: 7 
```

... '7' 在所有函数中，这是正确的，因为当函数被评估时 i 的值等于 8，即使在它们被创建时 i 的值是 0...7，这里我们得出结论 i 是通过引用而不是值传递的。

如果我们想“修复”这个问题并让每个函数在创建时使用 i 的值，我们可以编写如下代码：

```
//EXAMPLE B
var _arr = [], i = 0;
for(;i<8;++i) {
  _arr[i] = (function(new_i){
    return function() {
      console.log(new_i);
    };
  })(i); //<--- HERE WE EVALUATE THE FUNCTION EACH TIME THE LOOP ITERATES, SO THAT EVERYTHING INSIDE OF THIS 'RETAINS' THE VALUES 'AT THAT MOMENT'
}
//BY THE END OF THIS LOOP i == 7, BUT IT DOESN'T MATTER ANYMORE
_arr[0]();
_arr[1]();
_arr[2]();
...
_arr[7](); 
```

它不是直接创建最终函数，而是使用中间闭包返回最终函数，其中正确的值“固定”在其中；因此将返回：

```
Result: 0
Result: 1
Result: 2
...
Result: 7 
```

现在...

我试图通过使用 Objective-C 块来做同样的事情。

这是示例 A 的代码（在 Obj-C 中）：

```
NSMutableArray *_arr = [NSMutableArray arrayWithCapacity:0];
int i = 0;
for(;i<8;++i) {
    [_arr addObject:^{
        NSLog(@"Result: %i", i);
    }];
}
//BY THE END OF THIS LOOP i == 7
[_arr enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {
    ((void (^)())obj)();
}]; 
```

这将输出...

```
Result: 7
Result: 7
...
Result: 7 
```

...这也是正确的，因为该函数实际上包含对 i 的引用。

问题是，**我应该如何重写上面的循环以模拟示例 B 中显示的行为？**（我保留了它在创建函数时的价值）

我试过这样写循环：

```
for(;i<8;++i) {
    [_arr addObject:^(int new_i){
        return ^{
            NSLog(@"Result: %i", new_i);
        };
    }(i)];
} 
```

但是它在编译时给出了以下错误：*Returning block that lives on the local stack*

谢谢，最好的;D！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-08-21T08:40:14.747

您说 Objective-C 阻止通过引用捕获是不正确的。他们实际上是按价值捕获的。（除了`__block`变量，我们不会在这里讨论。）你可以在这里验证：

```
int x = 42;
void (^foo)() = ^ { NSLog(@"%d", x); };
x = 17;
foo(); // logs "42" 
```

您遇到的问题是块从堆栈开始，并且堆栈块仅对块表达式的本地范围有效。在这种情况下，您的块表达式位于 for 循环内。这意味着块对象在 for 循环的迭代结束后不再有效。但是您将指向此块对象的指针放入数组中。

与 for 循环中的局部变量一样，堆栈帧中的内存位置随后在循环的下一次迭代中被重新使用（在这种情况下发生，但由编译器决定）用于堆栈块。因此，如果您检查存储在数组中的值，您会发现所有对象指针都是相等的。因此，不是有 8 个指向 8 个块对象的指针，而是有 8 个指向同一个块对象的指针。这就是为什么您认为它是“通过引用”捕获它的原因。但真正发生的是堆栈上的块在每次迭代时都会被覆盖，因此您的数组包含指向该位置的指针的多个副本，因此您一遍又一遍地看到同一个块（在最后一次迭代中创建的块）再次。

答案是您需要先复制块，然后再将其放入数组中。复制的块在堆上并且具有动态生命周期（像其他对象一样管理内存）。

```
NSMutableArray *_arr = [NSMutableArray arrayWithCapacity:0];
int i = 0;
for(;i<8;++i) {
    [_arr addObject:[[^{
        NSLog(@"Result: %i", i);
    } copy] autorelease]];
}
[_arr enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {
    ((void (^)())obj)();
}]; 
```

您不需要像在 JavaScript 中那样在 Objective-C 中包装立即执行的第二个闭包来执行此操作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T05:50:14.683

如果你想返回一个块，你需要先复制它，通过发送`copy`消息或使用`Block_copy`函数。为了避免泄漏内存，您必须稍后释放复制的块，例如使用`autorelease`

```
for(;i<8;++i) {
    [_arr addObject:^(int new_i){
        return [[^{
            NSLog(@"Result: %i", new_i);
        } copy] autorelease];
    }(i)];
} 
```

# asp.net-mvc-3 - 隐藏日期的默认值

> ID：12048838
> 
> 赞同：4
> 
> 时间：2012-08-21T05:21:05.110
> 
> 标签：asp.net-mvc-3, datetime, html.textboxfor

我的视图模型：

```
public partial class FileTransferFilterCriteriaViewModel
{
    public string Fice { get; set; }
    public string SourceEmail { get; set; }
    public string TargetEmail { get; set; }
    public DateTime FromDate { get; set; }
    public DateTime ToDate { get; set; }
    public string Status { get; set; }
    public string Category { get; set; }
} 
```

（没有任何东西来自数据库。）

我的控制器：

```
return View(new FileTransferFilterCriteriaViewModel()) 
```

以下是`FromDate`和显示的内容`ToDate`：

```
1/1/0001 12:00:00 AM 
```

我的 HTML：

```
@Html.TextBoxFor(x =>x.Criteria.FromDate) 
```

**问题：**

1.  如果日期是`null`，我怎样才能抑制默认日期值的显示？
2.  如果日期*不是* `null`，我如何将日期格式化为`MM/dd/yyyy`？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-21T05:25:18.613

在 ViewModel 中使用可为空的日期：

```
public DateTime? FromDate { get; set; } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T06:06:19.473

我创建了一个编辑器模板，这对我有用。

视图模型的更改：

```
[UIHint(UiHintConstants.DateCalendar)]
        public DateTime? FromDate { get; set; }

        [UIHint(UiHintConstants.DateCalendar)]
        public DateTime? ToDate { get; set; } 
```

之后，在 Views/Shared/EditorTemplate 文件夹中创建了一个名为 DateCalendar.chtml 的编辑器模板：

```
@using System.Globalization
@model DateTime?

@Html.TextBox("", (Model.HasValue && !Model.Value.ToString(CultureInfo.InvariantCulture).Contains("1900") && !Model.Value.ToString(CultureInfo.InvariantCulture).Contains("0001") ? Model.Value.ToString("MM/dd/yyyy") : string.Empty), new { @class = "datePicker", maxlength = "12", size = "12" }) 
```

然后将其用作：

```
@Html.EditorFor(x =>x.FromDate)
@Html.EditorFor(x => x.ToDate) 
```

这是源代码：

```
<input class="datePicker" id="Criteria_FromDate" maxlength="12" name="Criteria.FromDate" size="12" type="text" value="" />

<input class="datePicker" id="Criteria_ToDate" maxlength="12" name="Criteria.ToDate" size="12" type="text" value="" /> 
```

希望这对其他人有帮助。

我无法弄清楚其中的一部分，将尺寸和最大长度从模板中移出。在这种情况下，它不相关，但可能会在某些其他情况下变得像我可能锁定文本框或不想要 jquery 日历。一旦我掌握了这个，我会尽快发布。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T05:23:46.793

一切正常。但是，您没有从数据库中获取任何数据（通过传入一个新实例化的视图模型来证明`return View(new FileTransferFilterCriteriaViewModel())`）。您应该考虑在控制器的操作方法中执行此操作。要获得较短的日期格式，请使用`@Html.TextBoxFor(x =>x.Criteria.FromDate.ToShortDateString())`

# android - 如何在 Android 应用程序中以泰卢固语或任何其他印度语言显示文本？

> ID：12048843
> 
> 赞同：2
> 
> 时间：2012-08-21T05:22:06.517
> 
> 标签：android, unicode, localization

我想在 Android 应用程序中显示文本。我研究过 Android 中的本地化 API。关于那个 API，我知道我们只能用日语、法语、英语等国际语言显示文本。但我已经尝试过这样的事情。

我从 Google 复制了泰卢固语文本并将其粘贴到字符串文件中。问题是泰卢固语文本显示在高配置的 Android 手机中，但不显示在低配置的 Android 手机中。在泰卢固语中显示文本是否有任何替代解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T06:04:43.690

简单的。您只需将 TTF 文件放入 assets 文件夹中，它就会显示在所有设备上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-19T06:14:22.987

[我在这里](https://stackoverflow.com/questions/22495332/how-to-display-south-indian-languages-in-android/22497074#22497074)分享了如何以多种语言显示一个文本的整个应用程序代码，尤其是卡纳达语和泰卢固语。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-08-21T07:33:31.497

您可以尝试嵌入自定义字体：

[http://www.barebonescoder.com/2010/05/android-development-using-custom-fonts/](http://www.barebonescoder.com/2010/05/android-development-using-custom-fonts/)

使用此处给出的泰卢固语字体进行测试：

[http://salrc.uchicago.edu/resources/fonts/available/telugu/](http://salrc.uchicago.edu/resources/fonts/available/telugu/)

# java - Eclipse 错误：javax.imageio.IIOException：无法读取输入文件

> ID：12048848
> 
> 赞同：7
> 
> 时间：2012-08-21T05:22:33.200
> 
> 标签：java, eclipse, javax.imageio

以下代码在 BlueJ IDE 中成功运行，但在 Eclipse 中没有。

```
String path="images/pic1.jpg";

BufferedImage myPicture = null;
    try {
        myPicture = ImageIO.read(new File(path));
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
```

我的图像路径在两个 IDE 中都是相同的。另外，我观察到 *.class 文件和图像文件的目录结构相同。

为什么这只发生在eclipse中？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T15:25:03.777

你必须使用

```
System.getProperty("user_dir")+File.separator+"image"+File.separator+"im0001.jpg"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-09T16:29:48.520

这不是 Eclipse 错误。您需要将图像文件复制到 Eclipse 项目主文件夹（不是 src 子文件夹）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-21T02:31:53.620

Eclipse 将默认文件位置设置为根 bin 文件夹，而不是根目录或包文件夹。确保您的文件位于 bin 文件夹中。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-21T05:35:03.730

请确保您的图像文件夹是资源文件夹（这意味着它在 CLASSPATH 上）并写入

```
 BufferedImage myPicture = null;
   try {
      myPicture = ImageIO.read("images/pic1.jpg");
   } catch (IOException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
   } 
```

或使用替代方案。

```
 BufferedImage myPicture = null;
   try {
      myPicture = ImageIO.read(this.getClass().getResource("/images/pic1.jpg"));
   } catch (IOException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
   } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-26T17:26:33.273

just check your image path with `System.out.println(System.getProperty("user.dir"));`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-10-28T04:27:29.047

eclipse 中的默认库不支持“ImageIO”。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-08-21T05:31:03.190

尝试这个..

```
String path="d:\\images\\pic1.jpg";

BufferedImage myPicture = null;
    try {
        myPicture = ImageIO.read(new File(path));
    } catch (IOException e) {
        e.printStackTrace();
    } 
```

# android - 显示键盘时布局扭曲android

> ID：12048849
> 
> 赞同：3
> 
> 时间：2012-08-21T05:22:39.683
> 
> 标签：android, layout

我有一个显示文本视图、编辑文本、按钮的相对布局。但是每当显示键盘时，布局就会被破坏，因为布局覆盖了整个屏幕。这是我的 xml 文件。

```
<?xml version="1.0" encoding="utf-8"?>

<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="19dp"
        android:text="@string/medhist"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <EditText
        android:id="@+id/editText1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_below="@+id/textView1"
        android:layout_marginRight="50dp"
        android:layout_marginTop="34dp"
        android:ems="8"
        android:inputType="textNoSuggestions" >

        <requestFocus />
    </EditText>

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/editText1"
        android:layout_toLeftOf="@+id/textView1"
        android:text="@string/medhistname"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <TextView
        android:id="@+id/TextView01"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView2"
        android:layout_below="@+id/textView2"
        android:layout_marginTop="22dp"
        android:text="@string/medhistage"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <EditText
        android:id="@+id/EditText01"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/TextView01"
        android:layout_alignLeft="@+id/editText1"
        android:ems="8"
        android:inputType="textNoSuggestions" />

    <TextView
        android:id="@+id/TextView02"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/TextView01"
        android:layout_below="@+id/TextView01"
        android:layout_marginTop="25dp"
        android:text="@string/medhistweight"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <EditText
        android:id="@+id/EditText02"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/TextView02"
        android:layout_alignLeft="@+id/EditText01"
        android:ems="8"
        android:inputType="textNoSuggestions" />

    <TextView
        android:id="@+id/TextView03"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/TextView02"
        android:layout_centerVertical="true"
        android:text="@string/medhistheight"
        android:textAppearance="?android:attr/textAppearanceSmall" />

    <EditText
        android:id="@+id/EditText03"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/TextView03"
        android:layout_alignLeft="@+id/EditText02"
        android:ems="8"
        android:inputType="textNoSuggestions" />

    <Button
        android:id="@+id/editBtn"
        style="?android:attr/buttonStyleSmall"
        android:layout_width="70dp"
        android:layout_height="45dp"
        android:layout_alignParentBottom="true"
        android:layout_marginBottom="15dp"
        android:layout_toRightOf="@+id/TextView01"
        android:text="@string/editbtn" />

    <Button
        android:id="@+id/deleteBtn"
        style="?android:attr/buttonStyleSmall"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBaseline="@+id/editBtn"
        android:layout_alignBottom="@+id/editBtn"
        android:layout_alignRight="@+id/textView1"
        android:text="@string/deletebtn" />

    <EditText
        android:id="@+id/EditText04"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/deleteBtn"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="60dp"
        android:ems="10"
        android:gravity="top|left"
        android:inputType="textNoSuggestions"
        android:lines="8"
        android:maxLines="10"
        android:minLines="6"
        android:scrollHorizontally="false"
        android:scrollbars="vertical"
        android:singleLine="false" />

    <TextView
        android:id="@+id/TextView04"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_above="@+id/EditText04"
        android:layout_alignLeft="@+id/TextView03"
        android:layout_marginBottom="17dp"
        android:text="@string/medhist"
        android:textAppearance="?android:attr/textAppearanceSmall" />

</RelativeLayout> 
```

如果您有任何建议/解决方案，请这样做，我是 android 开发的新手。谢谢！

# macos - OSX 在 Expect 脚本中使用变量

> ID：12048855
> 
> 赞同：1
> 
> 时间：2012-08-21T05:23:36.800
> 
> 标签：macos, bash, ssh, alias, expect

使用 OSX 我想在 Expect 中访问 $(pbpaste)。

因此，例如，这个别名连接到一个复制的 IP 地址（假设我在执行它之前复制了它）——让我输入密码：

```
alias s='ssh $(pbpaste) -l root' 
```

此脚本将我连接到脚本中列出的特定主机，为我输入密码：

```
#!/usr/bin/expect
spawn  ssh hostname -l username
expect "password:"
send "secret\n"
interact 
```

我想将 $(pbpaste) 合并到期望脚本中，以便访问复制的主机并为我输入密码。如何？

附带说明一下，我知道 ssh 密钥，而将密码以纯文本形式输入的形式通常很差。在我的情况下，这并不重要并且对我没有帮助 - 让上述 EXPECT 脚本使用 $(pbpaste) 变量作为主机名的实用程序对我来说更重要。

此外，我也希望能够将主机作为参数而不是 $(pbpaste) 传递。虽然这是原始问题的次要问题 - 每个脚本一个？或者如果没有提供主机参数，则默认为 $(pbpaste)？哪个更容易编写/理解。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T17:36:35.497

我无法测试它，但这应该有效：

```
spawn ssh [exec pbpaste] -l username 
```

或者使用命令行参数：

```
#!/usr/bin/expect
if {$argc == 0} {
  set hostname [exec pbpaste]
} else {
  set hostname [lindex $argv 0]
}
spawn ssh $hostname -l username 
```

# cakephp - 蛋糕相关php

> ID：12048858
> 
> 赞同：0
> 
> 时间：2012-08-21T05:23:40.023
> 
> 标签：cakephp, cakephp-2.1

我有以下警告

> 警告 (2)：非法偏移类型 [CORE/Cake/Model/Model.php，第 2667 行]
> 
> 警告 (2)：非法偏移类型 [CORE/Cake/Model/Model.php，第 2643 行]

型号代码如下：

```
`<?
class Register extends AppModel
{
    var $name = 'Register';
    var $useTable = 'registers';
function validateLogin($data)
    {
        $user = $this->find(array('username' => $data['username'], 'password' => $data['password']), array('id', 'username'));
        if(empty($user) == false)
            return $user['Register'];
        return false;
    } 
public $validate = array(
        'first_name' => array(
        'rule' => 'notEmpty',
    'required' => true ,
    'message' => 'this field can not be set empty'
    ),
        'username' => array(
        'rule' => 'notEmpty'
        ),
    'password'=>array(
    'rule'=>'notempty'
    ),
    'cnfrmpassword'=>array(
    'rule'=>'notempty'
    )
    );
}
?>` 
```

查看代码是 **reg.ctp**

```
`<h2>Registration Form</h2>
<?php echo $this->Html->link('Register',array( 'action' => 'login')); 

echo $this->form->create('Register', array('action' => 'register'));
echo $this->form->input('first_name');
echo $this->form->input('username');
echo $this->form->input('password');
echo $this->form->input('cnfrmpassword', array('type' => 'password'));
echo $this->form->submit();
echo $this->form->end();
?>` 
```

**登录.ctp**

```
`<h1>Sign in form</h1>
    <?php
    echo $this->form->create('Register',array('action'=>'login'));
    echo $this->form->input('username');
    echo $this->form->input('password');
    echo $this->form->end('Sign in');
    ?>

<?php echo $this->Html->link('Logout', array('controller' => 'Registers', 'action' => 'logout')); ?>
<br/><br/>` 
```

控制器**代码是**

```
`<?
class RegistersController extends AppController
{
var $name = 'Register';
 var $helpers = array('Html', 'Form');
public function reg() {
      if (!empty($this->data))
         {

              $this->Register->create();
             // $this->Register->save($this->data);
              $this->redirect(array('action' => 'reg'));

      }
  }

public function register() {
        if ($this->request->is('post')) {
            if ($this->Register->save($this->request->data)) {
                $this->Session->setFlash('Your are registered');
                $this->redirect(array('action' => 'reg'));
            } else {
                $this->Session->setFlash('Unable to register');
        $this->redirect(array('action' => 'reg'));
            }
        }
    }
 function beforeFilter()
    {
        $this->__validateLoginStatus();
    } 
function login()
    {
        if(empty($this->data) == false)
        {
            if(($user = $this->Register->validateLogin($this->data['Register'])) == true)
            {
                $this->Session->write('Register', $user);
                $this->Session->setFlash('You\'ve successfully logged in.');
                $this->redirect('reg');
                exit();
            }
            else
            {
                $this->Session->setFlash('Sorry, the information you\'ve entered is incorrect.');
                exit();
            }
        }
    }

    function logout()
    {
        $this->Session->destroy('Register');
        $this->Session->setFlash('You\'ve successfully logged out.');
        $this->redirect('reg');
    } 

function __validateLoginStatus()
    {
        if($this->action != 'login' && $this->action != 'logout')
        {
            if($this->Session->check('User') == false)
            {
                $this->redirect('login');
                $this->Session->setFlash('The URL you\'ve followed requires you login.');
            }
        }
    }

}
?>` 
```

您已访问秘密安全位置！`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-01T05:27:15.163

对不起小错误。

这是经过调整的答案。

更改此行：

```
$user = $this->find(array('username' => $data['username'], 'password' => $data['password']), array('id', 'username')) 
```

至：

```
$user = $this->find('first', array('conditions' => array('username' => $data['username'], 'password' => $data['password'])), array('id', 'username')) 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-01T05:24:04.977

更改此行：

**`$user = $this->find(array('username' => $data['username'], 'password' => $data['password']), array('id', 'username'))`**

至：

**`$user = $this->find(array(conditions => array('username' => $data['username'], 'password' => $data['password'])), array('id', 'username'))`**

希望这可以帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-01T07:12:50.053

您的代码中有多个错误：

我只更正了控制器的登录功能：

```
 <?php 
    class RegistersController extends AppController
    {
    var $name = 'Register';
    var $helpers = array('Html', 'Form');
    public function reg() {
          if (!empty($this->data)){
                  $this->Register->create();
                 $this->redirect(array('action' => 'reg'));
          }
      }
    public function register() {
            if ($this->request->is('post')) {
                if ($this->Register->save($this->request->data)) {
                    $this->Session->setFlash('Your are registered');
                    $this->redirect(array('action' => 'reg'));
                } else {
                    $this->Session->setFlash('Unable to register');
            $this->redirect(array('action' => 'reg'));
                }
            }
        }
     function beforeFilter(){
            $this->__validateLoginStatus();
        } 
     function login(){
            if(!empty($this->data))
            {
                if($user = $this->Register->validateLogin($this->data['Register']))
                {
                    $this->Session->write('Register', $user);
                    $this->Session->setFlash('You\'ve successfully logged in.');
                    $this->redirect('reg');
                    exit();
                }
                else
                {
                    $this->Session->setFlash('Sorry, the information you\'ve entered is incorrect.');
                    exit();
                }
            }
        }
     function logout(){
            $this->Session->destroy('Register');
            $this->Session->setFlash('You\'ve successfully logged out.');
            $this->redirect('reg');
        }
     function __validateLoginStatus(){
            if($this->action != 'login' && $this->action != 'logout')
            {
                if($this->Session->check('User') == false)
                {
                    $this->redirect('login');
                    $this->Session->setFlash('The URL you\'ve followed requires you login.');
                }
            }
        }
   }
?> 
```

型号代码：

```
<?
class Register extends AppModel
{
    var $name = 'Register'; 

    public $validate = array(
        'first_name' => array(
        'rule' => 'notEmpty',
    'required' => true ,
    'message' => 'this field can not be set empty'
    ),
        'username' => array(
        'rule' => 'notEmpty'
        ),
    'password'=>array(
    'rule'=>'notempty'
    ),
    'cnfrmpassword'=>array(
    'rule'=>'notempty'
    )
    );
    function validateLogin($data)
    {
        $user = $this->find('first',array(
                     'conditions'=> array('username' => $data['username'], 
                                          'password' => $data['password']),
                     'fields'=>array('id', 'username')));
        if(!empty($user))
            return $user['Register'];
        return false;
    }
}
?> 
```

请参阅 $useTable 不是必需的，因为您遵循蛋糕命名约定，您的 find 语句不正确。

# android - 创建一个包含两行文本的自定义按钮，每行都有不同的字体

> ID：12048862
> 
> 赞同：3
> 
> 时间：2012-08-21T05:23:52.967
> 
> 标签：android, android-layout

我有点卡在这里，真的可以使用一些帮助。在我看来，向按钮添加两行单独的文本应该很容易。但事实并非如此。有一种方法可以使用 html 标记，但这不允许您指定超出“大”和“小”的字体或文本大小。

这是我的按钮，它被称为“clicky”：

```
 <?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:drawable="@drawable/buttondown"
          android:state_pressed="true" />
    <item android:drawable="@drawable/buttonup" />
</selector> 
```

这是它出现在其中一个布局文件中的位置：

```
 <?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
 android:orientation="vertical" 
 android:layout_width="fill_parent"
  android:layout_height="fill_parent">

<Button
        android:id="@+id/clicky"
        android:layout_width="137.5dip"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="2dip"
        android:layout_marginBottom="2dip"
        android:layout_marginRight="1dip"
        android:textSize="20dip"
        android:background="@drawable/clicky"
  />

  <ListView 
    android:id="@+id/ListView01" 
    android:layout_height="wrap_content"
    android:layout_width="fill_parent"
    android:divider="#000000"
    android:dividerHeight="2dip"
    android:layout_below="@+id/separator"/>

</RelativeLayout> 
```

这是我在 onCreate() 方法中的内容：

```
Typeface customFont = Typeface.createFromAsset(getAssets(),"fonts/zooper.ttf");
 Button mButton=(Button)findViewById(R.id.clicky);
        mButton.setText("Hi There");
        TextView clicky = (TextView)findViewById(R.id.clicky);
        clicky.setTypeface(customFont); 
```

按钮中的文本是动态创建的，所以我必须从这里开始（现在它是静态的，但稍后“Hi There”将被替换为变量）。另一行文本将小得多，是静态的，并位于“Hi There”下方。我在谷歌上浏览了所有与我的问题很相似的东西，但我找不到一个可以适应我的问题的答案。

所以再一次，我需要一个带有两行单独文本的按钮，一个在另一个之上。顶行很大，动态创建并使用自定义字体。下面的文本行会小得多，是静态的，并且可以使用系统字体。

仅仅在按钮中嵌套一个 LinearLayout 真的很难吗？

任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-08-21T05:57:45.277

```
String s1;
String s2;
int n = s1.length();
int m = s2.length;

Typeface customFont = Typeface.createFromAsset(getAssets(),"fonts/zooper.ttf");
Spannable span = new SpannableString(s1 + "\n" +  s2);
//Big font till you find `\n`
span.setSpan(new CustomTypefaceSpan("", customFont), 0, n, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
//Small font from `\n` to the end
span.setSpan(new RelativeSizeSpan(0.8f), n, (n+m+1), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
yourButton.setText(span); 
```

![在此处输入图像描述](../Images/28341dc17ee6af55365ff35cb23188a9.png)

# javascript - 无法访问变量

> ID：12048863
> 
> 赞同：0
> 
> 时间：2012-08-21T05:23:54.473
> 
> 标签：javascript, variables, global-variables

我有两个外部 Javascript 文件。我在一个文件中声明了一个变量，并试图从另一个文件中访问该变量。当我尝试访问它时，它会返回`undefined`.

```
<script src="script1.js"></script>
<script src="script2.js"></script> 
```

**脚本1**：

```
$(function(){

    var myvar=35;
}); 
```

**脚本2**：

```
$(function(){

    alert(myvar); //this line causing error undefined.

}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T05:31:19.820

你的变量不是全局的。您已在函数内声明它，因此它是该函数的本地函数。您需要将`var`语句移到文档就绪功能*之外：*

```
var myvar=35;

$(function(){
    // other document ready stuff here, including
    // using or assigning a value to myvar if needed
}); 
```

然后它将是全局范围的，并且可以从其他脚本文件访问（只要它们包含在声明它的文件之后）。

如果您在文档准备好之前不知道要分配的值，请执行以下操作：

```
var myvar;       // declare variable

$(function(){
    myvar = 35;  // assign value
}); 
```

由于在其他脚本的文档就绪处理程序运行之前您不会尝试使用该值，所以这很好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T05:40:00.417

Script1.js

```
 var i=10; 
```

Script2.js

```
 function call(){
      alert(i);
  } 
```

示例.html

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE> New Document </TITLE>
<META NAME="Generator" CONTENT="EditPlus">
<META NAME="Author" CONTENT="">
<META NAME="Keywords" CONTENT="">
<META NAME="Description" CONTENT="">
</HEAD>
<script type="text/javascript" charset="utf-8" src="Script1.js" ></script>
<script type="text/javascript" charset="utf-8" src="Script2.js" ></script>
<script>
</script>
<BODY onload='call();'>
</BODY>
</HTML> 
```

希望这可以帮助你

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-21T07:05:35.263

添加到答案中，如果您在第一个 javascript 文件中删除了 'var' 关键字，您的代码将起作用。. . .

删除 'var' 会将值分配给全局变量，如果不存在，则会创建一个全局变量。. .so，它将与全局 myvar 相同

```
 <script src="script1.js"></script>
  <script src="script2.js"></script> 
```

脚本1：

```
$(function(){

myvar=35;

}); 
```

脚本2：

```
$(function(){

alert(myvar); //this will work

}); 
```

# java - 重置 JComboBox 的值

> ID：12048864
> 
> 赞同：3
> 
> 时间：2012-08-21T05:24:05.207
> 
> 标签：java, swing, netbeans, jcombobox

我有一个`JComboBox`包含一些员工 ID 号（它们是整数值）。

我想将“选择员工”设置为 JComboBox 作为默认值。由于该值是字符串格式，因此它向我抛出了一个异常，例如“java.lang.NumberFormatException：对于输入字符串：“Select Employee””。我该怎么做呢？

我的代码是：

```
public void clear()
 {
    cmb_emp_id.setSelectedItem("Select Employee");
    txt_emp_name.setText("");
    txt_department.setText("");
    txt_designation.setText("");
    joining_date.setDate(new Date());
    resign_date.setDate(new Date());
    txt_description.setText("");
 } 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-21T05:29:14.970

很难准确地说出你在追求什么，特别是因为你在谈论数字格式异常。

但是，要将 a 重置`JComboBox`为其原始选择，您只需执行

```
cmb_emp_id.setSelectedIndex(0); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-21T05:29:53.150

试试这个方法：[`setSelectedIndex(int anIndex)`](http://docs.oracle.com/javase/6/docs/api/javax/swing/JComboBox.html#setSelectedIndex%28int%29)

> anIndex - 一个整数，指定要选择的列表项，其中 0 指定列表中的第一项，-1 表示没有选择

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-07-26T00:34:55.510

首先你必须把你的组合框写在一个数组中，这样你就可以调用索引的数量。

```
String[] array= { "name1","name2" };
    for (int i = 0; i < countries.length; i++) {
        comboBox.addItem(countries[i]); 
```

然后，如果您想重置组合框，则必须再次调用数组，然后使用以下代码：

```
for (int i = 0; i < array.length; i++) {
                                     //here you can give your combo the number of index
                comboBox.setSelected Index(0);
                comboBox.add Item(countries[i]);
            } 
```

# iphone - NSUserDefaults 错误？

> ID：12048868
> 
> 赞同：-2
> 
> 时间：2012-08-21T05:24:36.567
> 
> 标签：iphone, objective-c, ios, nsuserdefaults

我正在使用 NSUserDefaults 来保存我的分数，但是当我杀死我的应用程序（在多任务处理中）并重新打开时，NSUserDefaults 不会保存分数。以下是 NSUserDefaults 中涉及的所有代码：

> 分数 = [NSUserDefaults 标准用户默认值];
> 
> [scores setInteger: currentHighScore forKey:@"currentHighScore"];
> 
> -（无效）checkHighScore {
> 
> ```
> int checkHighScore = [scores integerForKey:@"currentHighScore"];
> 
> if(finalScore >= checkHighScore){
>     currentHighScore = finalScore;
>     [scores setInteger: currentHighScore forKey: @"currentHighScore"];
> } 
> ```
> 
> }

然后我在死亡屏幕的更新方法中调用检查高分。我是用错了还是这是一个小故障？

谢谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T05:28:29.090

在这里将其保存在 NSUserDefaults 中的最后保存数据中，只需写下这一行

```
scores = [NSUserDefaults standardUserDefaults];

[scores setInteger: currentHighScore forKey:@"currentHighScore"];
[scores synchronize]; /// just add this line 
```

我希望这对你有帮助:)

# python - 为什么我不能用python登录这个网站

> ID：12048869
> 
> 赞同：-1
> 
> 时间：2012-08-21T05:24:36.587
> 
> 标签：python, authentication, urllib2

这是我的python代码。我想用python登录这个网站，但无法实现。

```
 import sys, time, os, re
 import urllib, urllib2, cookielib

 loginurl = 'https://auth.dxy.cn/login?null'
 #loginurl = 'https://www.douban.com/accounts/login'

 cookie = cookielib.CookieJar()
 opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cookie))
 urllib2.install_opener(opener)

 params = {
         'username' : 'XXXX',
         'password' : 'XXXX',
         'lt' : '_c573C07C4-AD13-CD25-85E9-CC917AF0433F_k42B35CAA-C2E7-7B2C-A7A1-9FD4E6CBE30F',
         '_eventId' : 'submit'
         }

 req = urllib2.Request(loginurl,urllib.urlencode(params))
 res = urllib2.urlopen(req).read()
 m = re.search(r'\s+(.+?)\s+',str(cookie))
 jsession=re.sub(r'\s+', '', m.group(0))
 #print jsession

 header={'Cookie':jsession}
 #response=opener.open(req).read()
 req1 = urllib2.Request(loginurl,urllib.urlencode(params),header)
 res1 = urllib2.urlopen(req1)
 print res1.geturl()

 response1=opener.open(res1.geturl())
 print response1.read() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T08:46:52.713

由于用户代理问题，我以前也遇到过类似的问题。尝试正常登录（通过您选择的浏览器）并查看发送的任何标题信息。尝试在你的脚本中模仿它。

如果您不知道如何设置标头，请查看：[如何将标头添加到 urllib2 开启程序？](https://stackoverflow.com/questions/6259489/how-do-i-add-a-header-to-urllib2-opener)

# android - 如何检测蓝牙设备并从安卓应用程序获取检测到设备的蓝牙地址

> ID：12048872
> 
> 赞同：1
> 
> 时间：2012-08-21T05:25:03.040
> 
> 标签：android, printing, bluetooth

我想检测蓝牙设备并从我的 android 应用程序中获取检测到设备的蓝牙地址。我的任务是使用我的 android 应用程序中的蓝牙打印机打印账单。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-21T05:32:28.810

对于蓝牙搜索活动，您需要以下内容，

在您的 AndroidManifest.xml 中添加权限

```
<uses-permission android:name="android.permission.BLUETOOTH_ADMIN" />
<uses-permission android:name="android.permission.BLUETOOTH" /> 
```

需要最低 API 级别 7 和 Android 2.1 版本。

活动类、`onCreate()`方法

```
private static BluetoothAdapter mBtAdapter;

// Register for broadcasts when a device is discovered
IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);
this.registerReceiver(mReceiver, filter);

// Register for broadcasts when discovery has finished
filter = new IntentFilter(BluetoothAdapter.ACTION_DISCOVERY_FINISHED);
this.registerReceiver(mReceiver, filter);

filter = new IntentFilter( BluetoothAdapter.ACTION_DISCOVERY_STARTED );
this.registerReceiver( mReceiver, filter );

// Get the local Bluetooth adapter
mBtAdapter = BluetoothAdapter.getDefaultAdapter();

if ( !mBtAdapter.isEnabled()) 
{
    Intent enableBtIntent = new Intent( BluetoothAdapter.ACTION_REQUEST_ENABLE );
    startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT );
} 
```

`BroadCastReceiver`同样创建`Activity`

```
private final BroadcastReceiver mReceiver = new BroadcastReceiver() 
{
    @Override
    public void onReceive(Context context, Intent intent) 
    {
        try
        {
            String action = intent.getAction();

            // When discovery finds a device
            if ( BluetoothDevice.ACTION_FOUND.equals(action) ) 
            {
                // Get the BluetoothDevice object from the Intent
                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);

                String deviceName = device.getName();
                String deviceAddress = device.getAddress();

                            System.out.println ( "Address : " + deviceAddress );
            } 
        }
        catch ( Exception e )
        {
            System.out.println ( "Broadcast Error : " + e.toString() );
        }
    }
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-28T03:38:26.137

一旦找到设备，我希望您需要连接到它。

下面是一个与上面发布的示例类似的示例，但它还会打印出每台设备上的服务。

[http://digitalhacksblog.blogspot.com/2012/05/android-example-bluetooth-discover-and.html](http://digitalhacksblog.blogspot.com/2012/05/android-example-bluetooth-discover-and.html)

我没有任何连接到打印机的示例，但我确实有一个连接到设备和发送数据的示例，这可能会有所帮助。第一个是连接到运行 SPP 服务器的 Windows PC，第二个是连接到 Arduino。

[http://digitalhacksblog.blogspot.com/2012/05/android-example-bluetooth-simple-spp.html](http://digitalhacksblog.blogspot.com/2012/05/android-example-bluetooth-simple-spp.html) http://digitalhacksblog.blogspot.com/2012/05/arduino-to-android-turning-led-on -and.html

希望这可以帮助。

# gwt - addSelectHandler() 没有按预期工作

> ID：12048874
> 
> 赞同：1
> 
> 时间：2012-08-21T05:25:25.083
> 
> 标签：gwt, gwt-visualization

以下是我编写的启动代码，用于在堆叠条形图中的数据之间切换，以便当用户单击任何列时，数据会重新排序并显示在图表中：

```
package com.test.visualization.client;

import com.google.gwt.core.client.EntryPoint;
import com.google.gwt.user.client.ui.Panel;
import com.google.gwt.user.client.ui.RootPanel;
import com.google.gwt.visualization.client.AbstractDataTable;
import com.google.gwt.visualization.client.VisualizationUtils;
import com.google.gwt.visualization.client.DataTable;
import com.google.gwt.visualization.client.Selection;
import com.google.gwt.core.client.JsArray;
import com.google.gwt.user.client.Window;
import com.google.gwt.visualization.client.events.SelectHandler;
import com.google.gwt.visualization.client.AbstractDataTable.ColumnType;
import com.google.gwt.visualization.client.visualizations.corechart.BarChart;
import com.google.gwt.visualization.client.visualizations.corechart.Options;

@SuppressWarnings("deprecation")
public class TestVisualization implements EntryPoint {

    static int increment = 1;

    public void onModuleLoad() {
        Runnable onLoadCallback = new Runnable() {
            public void run() {
                Panel panel = RootPanel.get();
                BarChart bar = new BarChart(createTable(increment), createOptions());
                bar.addSelectHandler(createSelectHandler(bar));
                panel.add(bar);
            }
        };

        VisualizationUtils.loadVisualizationApi(onLoadCallback,BarChart.PACKAGE);
    }

    private SelectHandler createSelectHandler(final BarChart bar){
        return new SelectHandler(){
            public void onSelect(SelectEvent event){
                String message = "";
                JsArray<Selection> selections = bar.getSelections();
                for (int i = 0; i < selections.length(); i++) {
                    // add a new line for each selection
                    message += i == 0 ? "" : "\n";

                    Selection selection = selections.get(i);

                    if (selection.isColumn()){
                        int column = selection.getColumn();
                        message += "column " + column + " selected";
                        increment = column;
                        Window.alert(message);
                    }
                }

            }
        };
    }

    private Options createOptions() {
        Options options = Options.create();
        options.setIsStacked(true);
        options.setWidth(400);
        options.setHeight(240);
        options.setTitle("My Daily Activities");
        return options;
    }

    private AbstractDataTable createTable(int input) {
        // Underlying data
        int rowsadded = 3;
        DataTable data = DataTable.create();
        data.addColumn(ColumnType.STRING, "Item");
        data.addColumn(ColumnType.NUMBER, "item per sec");
        data.addColumn(ColumnType.NUMBER, "item per minute");
        data.addRows(rowsadded);
        if (input == 2){
            data.setValue(0, 2, 10);
            data.setValue(1, 2, 10);
            data.setValue(2, 2, 10);
            } else {
            data.setValue(0, 0, "Nits");
            data.setValue(0, 1, 10);
            data.setValue(1, 0, "Gnats");
            data.setValue(1, 1, 4);
            data.setValue(2, 0, "Pits");
            data.setValue(2, 1, 8);
        }
        return data;
    }
} 
```

目前发生的情况是第一列的数据显示正常，但是当我点击这些列时，其他数据没有显示在屏幕上。但是当我单击该列时，windows.alert 显示事件处理程序正在工作，但数据没有在 UI 上重绘。我通过代码进行了调试，发现一旦在客户端（浏览器）上加载了 JScript，控件就永远不会返回到 onModuleLoad（）。

我是否应该进行 RPC 调用以创建表数据，即我应该将 createTable(int input) 移动到服务器并通过异步调用来填充数据？我之所以这样，是因为我认为一旦 JScript 移动到客户端，就无法重绘 UI。

这个你能帮我吗。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T06:59:02.480

您需要重新绘制可视化。像这样的东西：

```
@SuppressWarnings("deprecation")
public class TestVisualization implements EntryPoint {

static int increment = 1;
BarChart bar = null;

public void onModuleLoad() {
    Runnable onLoadCallback = new Runnable() {
        public void run() {
            Panel panel = RootPanel.get();
            bar = new BarChart(createTable(increment), createOptions());
            bar.addSelectHandler(createSelectHandler(bar));
            panel.add(bar);
        }
    };

    VisualizationUtils.loadVisualizationApi(onLoadCallback,BarChart.PACKAGE);
}

private SelectHandler createSelectHandler(final BarChart bar){
    return new SelectHandler(){
        public void onSelect(SelectEvent event){
            String message = "";
            JsArray<Selection> selections = bar.getSelections();
            for (int i = 0; i < selections.length(); i++) {
                // add a new line for each selection
                message += i == 0 ? "" : "\n";

                Selection selection = selections.get(i);

                if (selection.isColumn()){
                    int column = selection.getColumn();
                    message += "column " + column + " selected";
                    increment = column;
                    Window.alert(message);
                    // and now redraw
                    bar.draw(createTable(increment), createOptions());
                }
            }

        }
    };
}

private Options createOptions() {
    Options options = Options.create();
    options.setIsStacked(true);
    options.setWidth(400);
    options.setHeight(240);
    options.setTitle("My Daily Activities");
    return options;
}

private AbstractDataTable createTable(int input) {
    // Underlying data
    int rowsadded = 3;
    DataTable data = DataTable.create();
    data.addColumn(ColumnType.STRING, "Item");
    data.addColumn(ColumnType.NUMBER, "item per sec");
    data.addColumn(ColumnType.NUMBER, "item per minute");
    data.addRows(rowsadded);
    if (input == 2){
        data.setValue(0, 2, 10);
        data.setValue(1, 2, 10);
        data.setValue(2, 2, 10);
        } else {
        data.setValue(0, 0, "Nits");
        data.setValue(0, 1, 10);
        data.setValue(1, 0, "Gnats");
        data.setValue(1, 1, 4);
        data.setValue(2, 0, "Pits");
        data.setValue(2, 1, 8);
    }
    return data;
}
} 
```

# java - 有没有像 JRebel 这样的其他程序？

> ID：12048877
> 
> 赞同：3
> 
> 时间：2012-08-21T05:25:43.103
> 
> 标签：java, jrebel

好吧，我每天都在我拥有的服务器上使用 JRebel，我喜欢添加新功能而无需重新启动服务器的能力。现在 JRebel 社交已经消失了，他们的 JRebel 的其他免费替代品是否与 JRebel 所做的完全相同？对于 Java 7+

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T05:50:00.607

你可以考虑使用这个： [Dynamic Code Evolution VM](http://ssw.jku.at/dcevm/)

我猜我在使用 Java 6 时使用过它，但不知道它是否也适用于 Java 7

# android - m_mainFrame->editor()->hasComposition 没有问题

> ID：12048881
> 
> 赞同：45
> 
> 时间：2012-08-21T05:26:40.137
> 
> 标签：android, android-webview

在我的应用程序中，我在 android webview 中加载了 MVC 页面。MVC 页面有两个用于用户名和密码的文本编辑器。在专注于文本框时，我收到警告：`m_mainFrame->editor()->hasComposition not`.

为什么我会收到此警告？

**注意**：将 android 从**2.1**升级到**2.3.6后出现此错误**

**日志：**

```
08-21 12:10:21.269: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:21.669: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:21.699: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:21.709: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:22.169: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:22.199: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:22.209: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:22.239: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:22.259: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:22.739: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:22.769: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:22.939: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:22.959: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:23.429: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:23.459: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:23.479: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:23.799: V/webview(2928):  singleCursorHandlerTouchEvent -getEditableSupport  FASLE 
08-21 12:10:23.929: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:23.949: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:24.149: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:24.239: V/webview(2928): OnSizeChanged: Enter 
08-21 12:10:24.269: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:24.319: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:24.339: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:24.469: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:24.479: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:26.969: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:26.989: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:27.139: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:27.299: V/webview(2928):  singleCursorHandlerTouchEvent -getEditableSupport  FASLE 
08-21 12:10:27.319: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:27.349: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:27.379: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
08-21 12:10:27.539: D/CONTEXT(2928): m_mainFrame->editor()->hasComposition not 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-14T15:33:14.000

这不是警告也不是错误，只是每次调用 drawContentComposition 时显示的调试消息。我想它表明 hasComposition 的值是错误的。

你不能做任何事情来避免它，所以它不应该打扰你......好吧，显然，在我看来。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-26T11:44:15.473

由于底层 WebKit 逻辑，您会将此消息发送到您的日志 - 应该有一些成员函数检查主框架中是否有任何组合并将其结果发布到日志，就是这样。你不应该担心它。

# regex - “！”有什么用？在perl正则表达式中标记？

> ID：12048882
> 
> 赞同：1
> 
> 时间：2012-08-21T05:26:45.720
> 
> 标签：regex, boost-regex

我正在使用 boost 库进行正则表达式。

“！”有什么用？在 Perl 正则表达式中标记？

它表示什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-21T05:30:47.050

就其本身而言，它没有什么特别的意义，它只是匹配`!`. 它可以与其他符号组合以表示其他含义：

*   `(?!...)`是负前瞻 - 如果以下字符与“...”部分不匹配，则匹配
*   `(?<!...)`是一个否定的lookbehind - 如果前面的字符与“...”部分不匹配，则匹配

# android - 为 AlertDialog 的入口和出口设置动画

> ID：12048886
> 
> 赞同：11
> 
> 时间：2012-08-21T05:27:13.740
> 
> 标签：android, animation, android-alertdialog, android-dialogfragment

我必须`AlertDialog`在它进入时滑入并在它被关闭时将其滑出，但它没有动画。

那么如何让动画工作呢？

这是我所拥有的，

```
public class SlideDialogFragment extends DialogFragment {
     @Override
     public Dialog onCreateDialog(Bundle savedInstanceState) {
              return  new AlertDialog.Builder(new ContextThemeWrapper(getActivity(),R.style.SlidingDialog))
                      .setTitle("Sliding dialog")
                      .create()
     } 
```

*主题.xml*

```
<?xml version="1.0" encoding="utf-8"?>
<resources xmlns:android="http://schemas.android.com/apk/res/android">
    <style name="SlidingDialog" parent="@android:style/Theme.DeviceDefault.Dialog">
        <item name="android:windowAnimationStyle">@style/SlidingDialogAnimation</item>
    </style>
    <style name="SlidingDialogAnimation">
        <item name="android:windowEnterAnimation">@android:anim/slide_in_left</item>
        <item name="android:windowExitAnimation">@android:anim/slide_out_right</item>
    </style>
</resources> 
```

我参考了太多资源，似乎没有一种适合我的正确方法，可能是我遗漏了什么

我在用

*   安卓 ICS
*   应用程序是为 API 15+ 构建的

以下是一些我无法得到答案的相关资源

*   [在关闭时为对话框片段设置动画](https://stackoverflow.com/q/10409533/492561)
*   [https://groups.google.com/d/msg/android-developers/0oCWqQC4Pww/CmUM7iNHUGgJ](https://groups.google.com/d/msg/android-developers/0oCWqQC4Pww/CmUM7iNHUggJ)
*   [https://groups.google.com/d/msg/android-developers/a2pUV0Sigf4/WiJNg_vMQWwJ](https://groups.google.com/d/msg/android-developers/a2pUV0Sigf4/WiJNg_vMQWwJ)
*   [https://stackoverflow.com/a/3870997/492561](https://stackoverflow.com/a/3870997/492561)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2018-11-26T11:52:06.817

这是使用上述参考和代码的工作代码。

```
// Declare a Builder.
AlertDialog.Builder builder = new AlertDialog.Builder(context);

// You can even inflate a layout to the AlertDialog.Builder, if looking to create a custom one.
// Add and fill all required builder methods, as per your need.

// Now create object of AlertDialog from the Builder.
final AlertDialog dialog = builder.create();

// Let's start with animation work. We just need to create a style and use it here as follows.
if (dialog.getWindow() != null)
    dialog.getWindow().getAttributes().windowAnimations = R.style.SlidingDialogAnimation;

dialog.show(); 
```

关于样式，我使用了与问题相同的样式（在styles.xml 中）。

```
<style name="SlidingDialogAnimation">
        <item name="android:windowEnterAnimation">@android:anim/slide_in_left</item>
        <item name="android:windowExitAnimation">@android:anim/slide_out_right</item>
</style> 
```

但是您可以通过将动画 XML 文件放在 res/anim 文件夹中来使用任何其他自定义文件。

谢谢。

# php - php日期和时间按时间顺序排序

> ID：12048887
> 
> 赞同：2
> 
> 时间：2012-08-21T05:27:17.153
> 
> 标签：php, mysql, date, sorting, time

我尝试了以下查询以获取最新的评论。

```
SELECT u.id, comments, DATE_FORMAT(comment_date, '%h:%i%p on %m-%d-%Y') AS comment_date_time FROM mytable m INNER JOIN users u ON m.added_by = u.id

UNION

SELECT c.id comments, DATE_FORMAT(comment_date, '%h:%i%p on %m-%d-%Y') AS comment_date_time FROM mytable m INNER JOIN contacts c ON m.added_by = c.id
ORDER BY comment_date_time desc; 
```

但是我得到了“comment_date”，例如：

2012 年 8 月 16 日上午 12:58

2012 年 8 月 21 日上午 12:05

2012 年 8 月 20 日晚上 11:54

2012 年 8 月 16 日上午 01:38

这里的comment_date 是DATETIME。

目前正在分别对日期和时间进行排序，例如，

```
DATE_FORMAT(comment_date, '%h:%i%p') AS comment_time
DATE_FORMAT(comment_date, '%m-%d-%Y') AS comment_date 
```

有没有更好的解决方案？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T05:29:17.997

您的查询是正确的。但是您需要将其排序到原始列 ( `comment_date`)，因为它的数据类型是`datetime`. 你所做的是你用你的名字订购的`alias`现在`string`。尝试这个，

```
SELECT id, comments, comment_date_time
FROM
(
SELECT u.id, comments, 
       DATE_FORMAT(comment_date, '%h:%i%p on %m-%d-%Y') AS comment_date_time,
       comment_date
FROM mytable m INNER JOIN users u ON m.added_by = u.id
UNION
SELECT c.id comments, 
       DATE_FORMAT(comment_date, '%h:%i%p on %m-%d-%Y') AS comment_date_time,
       comment_date
FROM mytable m INNER JOIN contacts c ON m.added_by = c.id
) x
ORDER BY x.comment_date desc; 
```

# c++ - 何时不将 std::forward 与 r 值一起使用？

> ID：12048889
> 
> 赞同：7
> 
> 时间：2012-08-21T05:27:26.320
> 
> 标签：c++, c++11, parameter-passing, perfect-forwarding

什么情况下 `std::forward`不需要？它用于包装内部函数参数，即模板右值（即，它可以是左值或命名右值）。像：

```
template<class T>
void outer(T&& t) { 
    inner(std::forward<T>(t)); 
} 
```

我猜一种情况是内部函数参数按值传递。还有其他情况吗？我在写`std::begin(std::forward<Ct>(ct))`Ct 是模板右值引用的地方时遇到了这个问题。

**编辑**关于可能的重复

如果我没记错的话，这是第三次尝试关闭这个 4 年的老问题，因为一些不懂这个问题的新手重复了这个问题。

“使用前锋的好处？” 和“什么时候不使用带有 r 值的 std::forward？” 是非常不同的问题。首先是为初学者介绍 r 值，其次是为高级 C++ 用户讨论完美转发。我是[元模板库](http://volnitsky.com/project/ro/index.html)和 lambda 库的作者，他们不需要对基础知识进行详细描述。答案中的信息与其他问题非常不同。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-21T05:47:54.307

当模板参数类型包含值类别时，可以进行完美转发。（如果这句话没有意义，请花一点时间[熟悉手头的问题](https://stackoverflow.com/questions/3582001/advantages-of-using-forward/3582313#3582313)。）

鉴于：

```
template <typename T>
void foo(T&& x); 
```

在 的体内`foo`，`T`将采用`U`或的形式`U&`。前者意味着我们传递了一个右值，后者意味着我们传递了一个左值。我们可以这样*转发*这个事实：

```
template <typename T>
void foo(T&& x)
{
    bar(std::forward<T>(x));
} 
```

将左值传递给`foo`，`bar`得到相同的左值。将右值传递给`foo`，`bar`获取右值。

如果你不能区分一个值类别，那么转发是没有用的。只有当您有一个以与上面相同的方式推导出的模板参数时，它才有用。所以是的，它在这里没有用：

```
template <typename T>
void foo(const T& x)
{
    // if this was called as foo(1), we're none the wiser
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-26T05:42:10.133

我正在回答我自己的问题，因为到目前为止我还没有得到满意的答案。如果我会对此进行哪怕很小的改进/补充 - 我会选择您的答案作为已接受。

*如果能达到完美转发*的效果，一般`std::forward`对内部功能是有利的。否则是多余的。

 *`std::forward`仅当以下任何一项为真时，才用于包装内部函数 arg ：

*   内部函数参数是templated-rvalue-ref（现在称为“转发引用”）；
*   内部函数具有多个重载，这些重载根据参数 r/l 值进行区分；
*   内部函数具有多个重载，这些重载根据 const 区分左值参数；

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-10-29T23:37:07.460

使用 std::forward （在模板化函数的形式参数上，其类型为 T&& 形式，T 是模板的类型参数）：

*   当内部函数调用是外部函数中参数的最后一次使用时，并且
*   内部函数的可能重载可能会将参数作为右值引用，也可能不会。

基本原理是，当一个对象可能通过右值引用作为参数传递时（这是您使用 std::forward 所允许的），它的信息内容可能会被破坏。因此，只有当您确定不再使用该信息内容时，您才想这样做。

例子：

```
#include <utility>

template <class T> void f(T &&t);
template <class T> void g(const T &t);

template <class T>
void outer(bool f_first, T &&t)
  {
    if (f_first)
      {
        f(t);
        g(t);
      }
    else
      {
        g(t);
        f(std::forward<T>(t));
      }
  }

#include <string>

void foo(std::string s)
  {
    outer(true, s);
    outer(true, s + "x");
    outer(false, s);
    outer(false, std::move(s));
  } 
```*

# html - 我如何将一个元素分层在另一个元素之下？

> ID：12048897
> 
> 赞同：0
> 
> 时间：2012-08-21T05:28:18.407
> 
> 标签：html, css

[http://jsfiddle.net/pzRV8/](http://jsfiddle.net/pzRV8/)

在该代码片段的底部，有一个名为`container`. 现在，我试图将阴影覆盖在它上面，而不是在它下面。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T05:31:46.733

基于定位和 z-index 的 DOM 元素层。z-index 越高，元素越高（想象一副牌，其中 0 是底牌，51 是顶牌 - 数字也可以是负数）。要使 z-index 正常工作，元素必须具有绝对位置。

绝对位置

```
position: absolute; 
```

Z指数

```
z-index: 0; 
```

要进行更改（尽管它们是静态的，而且我不喜欢静态内容），请尝试以下操作：

将此添加到您的容器定义中：

```
position: absolute;
z-index: -1; 
```

将您`header definition`的边距底部更改为：

```
margin-bottom: 352px; 
```

示例：http: [//jsfiddle.net/wh8tX/](http://jsfiddle.net/wh8tX/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:34:55.997

您可以通过`z-index`属性实现您想要的结果，但请记住`z-index`只使用定位，因此我在`.spotlight`&`.container` 类中定义了定位。

检查它的演示

我希望你看起来像这样：- [http://jsfiddle.net/pzRV8/6/](http://jsfiddle.net/pzRV8/6/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T06:26:57.723

你需要`zindex`那个。记住`zindex`只会与`position`. 位置可以是相对的、固定的、绝对的

```
<div style="zindex:1; position:relative">first</div>
<div style="zindex:2; position:relative">second</div> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-21T08:01:51.097

由于堆叠是按`html`文档标签排序的（除非更改）然后`header`自动将获取`z-index:1` 并且`.container`将获取`z-index:2`

您需要按如下方式覆盖它：

给`header` `position:relative`和`z-index:1`

给`.container` `z-index:-1`

查看工作示例：http: [//jsfiddle.net/pzRV8/9/](http://jsfiddle.net/pzRV8/9/)

# bash - 在 bash 脚本中将 SSH 输出捕获为变量

> ID：12048906
> 
> 赞同：23
> 
> 时间：2012-08-21T05:29:19.867
> 
> 标签：bash, ssh, stdout

在编写 bash 脚本时，我一直在努力解决这个问题。基本上，我想测量远程服务器上的程序的时间，所以我使用命令： `/usr/bin/time -f %e sh -c "my command > /dev/null 2>&1"`执行程序。但是，似乎我根本无法将命令 (SSH) 的输出捕获到变量中。事实上，结果（时间）不断被打印到标准输出。

完整的代码是：

```
respond=$(ssh ${fromNode} /usr/bin/time "-f" "%e" "'sh' '-c' 'virsh migrate --live ${VM} qemu+ssh://${toNode}/system --verbose > /dev/null 2>&1'") 
```

响应的值只是空的，尽管时间被打印到标准输出。

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2012-08-21T05:39:16.533

“时间”命令将结果打印到标准错误，而不是标准输出。因此，它不会通过管道传输到您的变量中。

您应该将 stderr 重新路由到 stdout 以实现您想要的：

```
 result=$(ssh host time "command" 2>&1) 
```

您的完整代码可能如下所示：

```
 respond=$(ssh ${fromNode} /usr/bin/time "-f" "%e" "'sh' '-c' 'virsh migrate --live ${VM} qemu+ssh://${toNode}/system > /dev/null 2>&1'" 2>&1) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T05:37:45.680

尝试交换您的重定向顺序（到`2>&1 >/dev/null`）。您当前的代码将 stdout 和 stderr 都发送到 /dev/null （所以我有点好奇为什么会打印*任何东西*）。

为什么这是必要的？语法`2>&1`意味着“将标准输出（描述符 1）复制为标准错误（描述符 2）”；实际上，stderr 被制作成当前标准输出的副本。如果`>/dev/null`先放，那么stdout首先重定向到/dev/null，然后stderr指向当前的stdout，即/dev/null。

但是如果你把它放在`>/dev/null`第二位，stderr 将首先成为当前 stdout（正常输出流）的副本，然后再重定向 stdout。所以命令的 stderr 打印到 tty（或解释器），就好像它来自 stdout，而 stdout 被静音。这是你想要的行为。

来自`man bash`：

> 请注意，重定向的顺序很重要。例如，命令
> 
> ```
> ls > dirlist 2>&1 
> ```
> 
> 将标准输出和标准错误都指向文件 dirlist，而命令
> 
> ```
> ls 2>&1 > dirlist 
> ```
> 
> 仅将标准输出定向到文件 dirlist，因为在将标准输出重定向到 dirlist 之前，标准错误被复制为标准输出。

# post - 错误 400 删除记录的 YII 请求无效

> ID：12048915
> 
> 赞同：5
> 
> 时间：2012-08-21T05:29:40.310
> 
> 标签：post, yii, delete-row

我正在尝试删除 Yii 中的一条记录，这会引发错误 400。请不要再次重复此请求。它正在检查 post 变量，我的控制器文件
`if(Yii::app()->request->isPostRequest)`
有

```
echo CHtml::link(CHtml::encode('Delete image'), array('image/delete', 'id'=>$image->id), array('class' => 'delete','confirm'=>'This will remove the image. Are you sure?')); 
```

访问规则已删除经过身份验证的用户，这是正确的。也用 * 尝试过。我也尝试将其作为隐藏变量发送，但效果不佳。

无法弄清楚我应该如何在 Yii 中发布表单。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-08-21T06:28:04.710

发生这种情况是因为它不是发布请求。`CHtml::link`有一种方法可以使用 post 方法，而不是 get。这要求`submit`您[`clientChange`](http://www.yiiframework.com/doc/api/1.1/CHtml#clientChange-detail)在`htmlOptions`.

有点像这样：

```
echo CHtml::link(CHtml::encode('Delete image'), array('image/delete', 'id'=>$image->id),
  array(
    'submit'=>array('image/delete', 'id'=>$image->id),
    'class' => 'delete','confirm'=>'This will remove the image. Are you sure?'
  )
); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-01-03T14:28:13.410

Curd 的默认设置是这样的

```
/**
 * @return array action filters
 */
public function filters()
{
    return array(
        'accessControl', // perform access control for CRUD operations
        'postOnly + delete', // we only allow deletion via POST request
    );
} 
```

删除动作只能通过 POST 访问；你可以检查一下。

因此，您需要删除此行才能使用“postOnly + delete”，

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-03-17T18:51:01.270

根据我的经验，这是由 jquery 之后加载的一些 javascript 文件引起的。如果文档末尾有 jQuery 链接，请将其删除。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-21T06:11:52.867

I think your actionDelete() contains the code that throws this, and I guess it depends on AJAX call or not. Check your relevant actionDelete()

# android - 如何在android的ListFragment中设置所选项目的颜色？

> ID：12048921
> 
> 赞同：3
> 
> 时间：2012-08-21T05:30:38.737
> 
> 标签：android, listview, android-listfragment

我有一个从适配器填充`listview`的`ListFragment`其中，我想突出显示列表中单击（或选择）的项目，并根据选择执行一些操作。我能够处理该事件，但如何设置列表中所选项目的颜色。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-11T18:10:58.087

如果您使用的是 a`ListFragment`那么您可能没有`ListView`在 XML 中指定 a ，这意味着您需要设置`listSelector`in 代码。注意不要在活动生命周期中设置得太早，因为你最终会得到一个`IllegalStateException`.

level_list_selector.xml

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_selected="false" android:state_pressed="false" android:drawable="@drawable/level_gradient_bg" />

    <item android:state_pressed="true" android:drawable="@drawable/level_gradient_bg_hover" />

    <item android:state_selected="true" android:state_pressed="false" android:drawable="@drawable/level_gradient_bg_hover" />
</selector> 
```

分段：

```
public class LevelFragment extends ListFragment {
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
       //Create view 
       ...
    }

    @Override
    public void onActivityCreated(Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);

        getListView().setSelector(R.drawable.level_list_selector);
    }
} 
```

注意：如果您对单元格行使用自定义布局，则还需要在其上设置列表选择器。

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:background="@drawable/level_list_selector"
    android:padding="5dip" >
...
</RelativeLayout> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T05:37:47.473

只需使用您需要的状态创建一个选择器文件。这将为您提供解决方案。例如 -

**选择器.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android"> 

  <!-- Selected --> 
  <item 
    android:state_focused="true" 
    android:state_pressed="false" 
    android:drawable="@drawable/bg_list_item_highlighted" /> <!--  @drawable/tab_focus -->

  <!-- Pressed -->
  <item 
    android:state_pressed="true" 
    android:drawable="@drawable/bg_list_item_pressed" /> <!--  @drawable/tab_press -->

</selector> 
```

在您`ListView`将此选择器设置为列表选择器。前任，

```
<ListView
    android:id="@+id/listView1"
    android:width="wrap_content"
    android:height="wrap_content"
    android:listSelector="@drawable/selector" /> 
```

看看这些例子——

1.  [ListSelector 适用于整个列表](https://stackoverflow.com/q/2183447/940096)

2.  [带选择器的 ListView](http://brainflush.wordpress.com/2009/03/15/understanding-android-themes-and-styles/)

3.  [Listview_and_list_selector](http://www.anddev.org/listview_and_list_selectorurgent-t1594.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-30T11:10:33.520

如果您希望 ListFragment 中的标准 ListView 行为，您可以将列表项行布局设置为使用 ?android:attr/activatedBackgroundIndicator 作为背景。像这样：

**列表项.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="?android:attr/activatedBackgroundIndicator" <!--This is the important bit-->
    android:orientation="horizontal">
    <ImageView
        android:id="@+id/icon"
        android:layout_width="wrap_content"
        android:layout_height="?android:attr/listPreferredItemHeight" />
    <TextView
        android:text=""
        android:id="@+id/text"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        android:minHeight="?android:attr/listPreferredItemHeight" />
</LinearLayout> 
```

**ListFragment.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">
    <ListView xmlns:tools="http://schemas.android.com/tools"
        android:id="@id/android:list"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:divider="@drawable/divider"
        android:dividerHeight="0.5dp" />
    <TextView
        android:id="@id/android:empty"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:gravity="center"
        android:textAppearance="?android:attr/textAppearanceLarge"
        android:text="No data" />
</LinearLayout> 
```

在您的 ListFragment 片段代码中，使用自定义布局（这是单声道代码，但不要绝望）：

```
 public override View OnCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
                base.OnCreateView(inflater, container, savedInstanceState);
                View view = inflater.Inflate(Resource.Layout.ListFragment, container, false);
                //... do stuff
    } 
```

在您要创建适配器的代码中的某个位置，使用 ListItem 布局。在这种情况下，SimpleAdapter 将数据映射到图标和文本视图。ListItem.xml (?android:attr/activatedBackgroundIndicator) 中的背景使项目的行为与您在普通列表中看到的一样：

```
var list = new List<IDictionary<string, object>>(listOfStuff.Count);
foreach (AMap map in listOfStuff) {
        var dictionary = new JavaDictionary<string, object> {
            {"text", map.Text}, {"icon", Resource.Drawable.SomeIcon}
        };
        list.Add(dictionary);
}
SimpleAdapter _adapter = new SimpleAdapter(Activity, list,
                                         Resource.Layout.ListItem,
                                         new string[] { "text", "icon" },
                                         new int[] { Resource.Id.text,
                                         Resource.Id.icon }); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-08-21T05:44:48.223

为此，您必须将可绘制对象作为列表项的背景。并从lisView“选择”任何项目后，将drawable设置为透明或#000。所以当项目选择选择器时，您的女仆将显示。

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://meta.android.com/apk/res/android">
<item android:drawable="@color/transparent" />
<item android:state_pressed="false" android:drawable="@color/BackgroundColor" />
</selector> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-21T05:40:47.167

在获取视图方法（）中的适配器类中，您可以将其作为..

```
@Override
        public View getView(int position, View convertView, ViewGroup parent) {

            View view = super.getView(position, convertView, parent);
            view.setTag(position);

            if(ur condition){
                view.setBackgroundColor(Color.TRANSPARENT);

            }else {
                view.setBackgroundColor(Color.GREEN);
            }
            return view;
        } 
```

# jquery - 在 jQuery 成功事件上填充 html 表

> ID：12048922
> 
> 赞同：12
> 
> 时间：2012-08-21T05:30:40.740
> 
> 标签：jquery, html, ajax, html-table

这是我的问题。

我有这个 html 表：

```
<table class="flexme" id="table" border="1">
  <thead>
    <tr>
      <th width="100">Usuario</th>
      <th width="100">Nombre</th>
      <th width="100">Apellido</th>
      <th width="100">Cedula/Rif</th>
      <th width="140">Direccion</th>
      <th width="100">E-mail</th>
      <th width="100">Telefono1</th>
      <th width="100">Telefono2</th>
      <th width="100">Status</th>
      <th width="150">Acci&oacute;n</th>
    </tr>
  </thead>
  <tbody>
    <tr id="test">
      <td></td>
    </tr>
   </tbody>
</table> 
```

我有这个ajax请求：

```
$.ajax({ 
   type    : "POST",
   url     : "service.php",
   dataType: "json",
   data: {
       action:"search",
       type: 'users',
       parameter: parameter,
       parameterContent: parameterContent,
   },           
   success:function(data) {
       $('#searchResults').show();
       var len = data.length;
       for (var i = 0; i< len; i++) {
       var username  = data[i].username;
       var name  = data[i].uname;
       var lastname  = data[i].lastname;

   }
}) 
```

用来自 JSON 的信息填充 html 表的正确方法是什么？我一直在尝试没有成功。我已经完成了测试`append()` `html()`但根本没有成功，有人可以指出我正确的方向吗？

我想要的是获取通过 JSON 提供的信息并使用此信息动态填充表。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-08-21T05:45:46.633

你可以试试这个：

```
 var table = $("#table tbody");
    $.each(data, function(idx, elem){
        table.append("<tr><td>"+elem.username+"</td><td>"+elem.name+"</td>   <td>"+elem.lastname+"</td></tr>");
    }); 
```

更多信息可以在这里找到：http: [//api.jquery.com/jQuery.each/](http://api.jquery.com/jQuery.each/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-21T05:39:37.880

尝试这个：

```
for (var i = 0; i < len; i++) {
   var username = data[i].username;
   var name  = data[i].name;
   var lastname = data[i].lastname;
   $('#table tbody').append('<tr><td>'+username+'</td><td>'+name+'</td><td>'+lastname+'</td></tr>')
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-21T12:57:15.550

谢谢，最后我这样做了：

```
 $.ajax({ 
                        type    : "POST",
                        url     : "service.php",
                        dataType: "json",
                        data: {
                        action:"search",
                        type: 'users',
                        parameter: parameter,
                        parameterContent: parameterContent,
                        },          
                            success:function(data) {

                                $('#searchResults').show();

                                    var len = data.length;
                                    for (var i = 0; i< len; i++) {

                                    var username  = data[i].username;
                                    var name  = data[i].name;
                                    var lastname  = data[i].lastname;
                                    var idnumber  = data[i].idnumber;
                                    var address  = data[i].address;
                                    var email  = data[i].email;
                                    var phone1 = data[i].phone1;
                                    var phone2 = data[i].phone2;
                                    var active = data[i].active;

                                    $("#generated").append("<tr><td>"+ username +"</td><td>"+ name +"</td><td>"+ lastname +"</td><td>"+ idnumber +"</td><td>"+ address +"</td><td>"+ email +"</td><td>"+ phone1 +"</td><td>"+ phone2 +"</td><td>"+ active +"</td></tr>");

                                }

                            } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-08-11T10:51:22.560

**JS**

```
$(document).ready(function() {
  $.ajax({
    type: 'GET',
    headers: {
      'Accept': 'application/json',
      'Content-Type': 'application/json',
      'Access-Control-Allow-Origin': '*'
    },
    url: 'https://localhost:44387/api/employee/employeelist',
    dataType: "json",
    success: function(data) {
      var employeeTable = $('#tblEmployee tbody');
      employeeTable.empty();
      $('#tblEmployee').show();
      var len = data.length;
      for (var i = 0; i < len; i++) {
        var EmpId = data[i].EmpId;
        var FirstName = data[i].FirstName;
        var LastName = data[i].LastName;
        var Contact = data[i].Contact;
        var Address = data[i].Address;
        var Gender = data[i].Gender;
        var Salary = data[i].Salary;
        var Gender = data[i].Gender;
        var ActiveHours = data[i].ActiveHours;
        var Remark = data[i].Remark;
        var IsAvailable = data[i].IsAvailable;
        var Hiredate = data[i].Hiredate;
        var IsActive = data[i].IsActive;
        employeeTable.append('<tr><td>' + EmpId + '</td><td>' +
          FirstName + '</td><td>' + LastName + '</td><td>' + Contact +
          '</td><td>' + Address + '</td><td>' + Gender +
          '</td><td>' + Salary + '</td><td>' + ActiveHours +
          '</td><td>' + Remark + '</td><td>' + IsAvailable +
          '</td><td>' + Hiredate + '</td><td>' + IsActive +
          '</td><td><button type="button" class="btn btn-sm btn-primary editingTRbutton fas fa-pencil-alt noUnderlineCustom text-white" data-toggle="modal" data-target="#editModal">' + 'Edit' + '</button>' + '</td></tr>');
      }

    },
    error: function(err) {
      alert(err);
    }
  })
}); 
```

**HTML**

```
<form id="Employeeform">
  <div class="container">
    <table id="tblEmployee" class="paginated table table-bordered">
      <thead class="bg-primary text-white">
        <tr>
          <th>ID</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Contact</th>
          <th>Address</th>
          <th>Gender</th>
          <th>Salary</th>
          <th>ActiveHours</th>
          <th>Remark</th>
          <th>IsAvailable</th>
          <th>Hiredate</th>
          <th>IsActive</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="tabldata"></tbody>
    </table>
  </div>
</form> 
```

# c# - 如何使用外键属性的自定义名称映射相关对象，例如 PostId 而不是 Post_Id

> ID：12048926
> 
> 赞同：3
> 
> 时间：2012-08-21T05:31:10.353
> 
> 标签：c#, entity-framework, ef-code-first, entity-framework-5, entity-framework-migrations

因此，我将使用带有帖子和评论的博客数据库模型的陈词滥调示例。

```
public class Post {
  public int Id { get; set; }
  public string Title { get; set; }
  public string Body { get; set; }
  public virtual ICollection<Comment> Comments { get; set; }
}

public class Comment {
  public int Id { get; set; }
  public string Body { get; set; }
  public virtual Post Post { get; set; }
} 
```

当然，`Post`与 有一对多的关系`Comment`。

如果我让 Entity Framework 为我创建数据库，它会在表中添加一`Post_Id`列`Comments`。我想改为命名列`PostId`，但我不想`PostId`向我的`Comments`类添加属性。有没有办法通过[DataAnnotations](http://msdn.microsoft.com/en-us/library/system.componentmodel.dataannotations.aspx)，[DbModelBuilder](http://msdn.microsoft.com/en-us/library/system.data.entity.dbmodelbuilder%28v=vs.103%29.aspx)，[migrations](http://blogs.msdn.com/b/adonet/archive/2012/02/09/ef-4-3-code-based-migrations-walkthrough.aspx)，我不知道的其他东西来实现这一点？

如果这个问题已经得到解答，我深表歉意，但我无法在 SO 甚至谷歌上找到它。谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-21T05:55:13.027

在我发布这个之后，我找到了答案。

在派生自 DbContext 的类上声明此方法。

```
protected override void OnModelCreating(DbModelBuilder modelBuilder)
{
  modelBuilder.Entity<Comment>()
    .HasRequired(t => t.Post)
    .WithMany(t => t.Comments)
    .Map(m => m.MapKey("PostId"));
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-07T18:39:41.770

你也可以用注解来做到这一点：

```
public class Comment {
  public int Id { get; set; }
  public string Body { get; set; }

  public virtual Post Post { get; set; }
  [ForeignKey("Post")]
  public int PostId { get; set; }
} 
```

接受一个参数，即该`ForeignKeyAttribute`列作为外键的导航属性的名称。

# email - 如何在android中发送带有附加文件的电子邮件

> ID：12048929
> 
> 赞同：0
> 
> 时间：2012-08-21T05:31:30.500
> 
> 标签：email, android-intent, email-attachments

我已经创建了文件 myown.txt，从文件 explorer.path 中查看它是 data->data->com.contacts->files->myown.txt.我想发送包含联系人详细信息的文件作为我的电子邮件 ID 的附件我的代码是这样的：

btn=(按钮)findViewById(R.id.button1);
btn.setOnClickListener(new OnClickListener() {

```
 @Override
                public void onClick(View v) {

                    // TODO Auto-generated method stub
                    sendEmail();
                }

            public void sendEmail(){
                String strfile = Environment.getExternalStorageDirectory().getAbsolutePath()+"/sdcard/myown.txt";
                File f=new File(Environment.getExternalStorageState(),strfile);

                 EditText textTo =(EditText)findViewById(R.id.editTextTo);
                 EditText textSubject =(EditText)findViewById(R.id.editTextSubject);
                 TextView tv=(TextView)findViewById(R.id.textView1);
                 if(!textTo.getText().toString().trim().equalsIgnoreCase("")){
                  final Intent emailIntent = new Intent(android.content.Intent.ACTION_SEND);
                  emailIntent.setType("plain/text");
                  emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL, new String[]{ textTo.getText().toString()});
                  emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, textSubject.getText());
                  //emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, tv.getText());
                 emailIntent.putExtra(Intent.EXTRA_STREAM,Uri.fromFile(f));
                  ContactsbackupActivity .this.startActivity(Intent.createChooser(emailIntent, "Send mail..."));
                }
                else{
                    Toast.makeText(getApplicationContext(), "Please enter an email address..", Toast.LENGTH_LONG).show();
                }

        }
            });

working on android 2.2\. i can only get the textview in email  but not the file. so please do let me know how to solve this problem.thanking you 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T18:22:24.277

嘿，它起作用了，我不知道如何。我在一个系统中开发了程序，我在另一个系统上执行。配置有一些变化，这就是它显示错误的原因。谢谢很多。hv 美好的一天

# objective-c - “-copy”和“-copyWithZone:”有什么区别？

> ID：12048931
> 
> 赞同：8
> 
> 时间：2012-08-21T05:31:56.683
> 
> 标签：objective-c, ios, cocoa, foundation, nscopying

我知道 copy 创建一个对象的不可变副本，但我只想知道 copywithzone 是如何工作的，以及 copy 和 copywithzone 之间的基本区别是什么

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-21T05:39:14.130

`copy`只是 的缩写`copyWithZone:`，使用默认区域。

您很少会`copyWithZone:`直接调用，尽管需要定义/实现它才能采用`@protocol NSCopying`. 所以你通常`copyWithZone:`只会在`copyWithZone:`. 同样，您通常会避免实现`copy`，而只是让 call 的默认实现`copy`通过`copyWithZone:`。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-08-21T05:37:32.683

`NSZone`是一个与 iOS 无关的遗留概念。默认情况下`-copy`，`NSObject`将调用`-copyWithZone:`默认区域。

# powershell - 如何从unix系统在windows系统中调用powershell脚本

> ID：12048932
> 
> 赞同：0
> 
> 时间：2012-08-21T05:31:56.020
> 
> 标签：powershell

如何在 Windows 系统中从 unix 系统调用 Powershell 脚本。我有一个 Windows 系统，必须在其中运行 Powershell 脚本。此 Powershell 脚本必须仅在从另一个系统（即 unix 系统）调用/调用时运行。是否可以从 unix 系统调用类似的 powershell 脚本。请帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-13T17:06:18.577

你可以试试[winexe](http://sourceforge.net/projects/winexe/)。

```
winexe -U 'user%pass' //hostname 'powershell.exe my_power_script' 
```

这假定您的 powershell 脚本位于远程 Windows 系统上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T10:10:38.687

Powershell over ssh 是一种方法 - [http://www.powershellinside.com/powershell/ssh/download.aspx](http://www.powershellinside.com/powershell/ssh/download.aspx)

# mysql - mysql从一张表中删除一条语句，但与多张表相关

> ID：12048934
> 
> 赞同：0
> 
> 时间：2012-08-21T05:32:06.770
> 
> 标签：mysql, join, sql-delete

我需要删除用户（消息所有者、发件人）必须来自澳大利亚且 21 岁以上的所有公共消息。

我收到一个错误：

> ***#1064 - 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以获取正确的语法，以便在第 2 行的 'inner join User inner join City inner join Country where Message.messa' 附近使用 ***。

我的文字甚至没有涵盖一半的任务，所以如果有人可以在这里帮助我。

这是我的代码：

```
delete 
from Message
     inner join User 
     inner join City 
     inner join Country
where Message.message_type=0 and 
      datediff(curdate(),Message.posted) >366 and 
      User.user_id=Message.owner_id and 
      datediff(User.date_of_birth, 
               str_to_date('1/01/1991', '%m/%d/%Y')) < 366 and            
      City.city_id=User.city_id  and 
      Country.country_id=City.country_id and 
      Country.name='Australia' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T05:37:59.223

试试这个：

当您对两个表进行内部连接时，您必须给出一个条件以在 on 条件下连接两个表。

```
delete M
 from  Message M inner join User U
    on U.user_id=M.owner_id 
 inner join City C
    on City.city_id=U.city_id 
 inner join Country CT
    on CT.country_id=C.country_id
 where M.message_type=0 
 and   datediff(curdate(),M.posted) >366 
 and   datediff(U.date_of_birth, str_to_date('1/01/1991', '%m/%d/%Y')) < 366
 and   CT.name='Australia' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T05:39:15.800

这是因为`User` 它是 MySQL 中的保留关键字，因此您需要用引号将其背光`User`：

```
DELETE Message
FROM Message
     INNER JOIN `User`
        ON `User`.user_id = Message.owner_id
     INNER JOIN City
        ON City.city_id = `User`.city_id
     INNER JOIN Country
        ON Country.country_id = City.country_id
WHERE Message.message_type = 0 AND
      DATEDIFF(CURDATE(), Message.posted) > 366 AND
      ROUND(DATEDIFF(CURDATE(), `User`.date_of_birth)/365) < 21 AND
      Country.name = 'Australia'; 
```

或者，如果您将加入条件放在`WHERE`子句中，则无需使用`INNER JOIN` ：

```
delete Message
from Message, `User`, City, Country
where `User`.user_id=Message.owner_id and
      City.city_id=`User`.city_id and
      Message.message_type=0 and
      Country.country_id=City.country_id and
      datediff(curdate(),Message.posted) >366 and
      datediff(`User`.date_of_birth,
      str_to_date('1/01/1991', '%m/%d/%Y')) < 366 and
      Country.name='Australia'; 
```

# c# - 无需打开即可打印文档

> ID：12048936
> 
> 赞同：1
> 
> 时间：2012-08-21T05:32:37.807
> 
> 标签：c#, printing

我必须从网格打印多个文档。

我已经使用**ProcessInfo**类来完成这项任务，它工作正常，但问题是每个文档每次都打开和关闭文档。那是我不想要的。

请不要建议`office automation`，因为我还有其他文件格式，比如`.pdf, .rtf, .txt`等等。

代码：

```
Process P = new Process();
P.StartInfo.FileName = filePath;//e.g. "c:/test.docx"
P.StartInfo.WindowStyle = ProcessWindowStyle.Hidden;
P.StartInfo.Verb = "PrintTo";
P.StartInfo.CreateNoWindow = true; 
P.StartInfo.UseShellExecute = true;
P.Start(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T06:16:58.733

一种解决方案可以`ProcessWindowStyle.Hidden`像这样使用：

```
ProcessStartInfo info = new ProcessStartInfo(yourDocumentFilename);
info.Verb = "Print";
info.CreateNoWindow = true;
info.WindowStyle = ProcessWindowStyle.Hidden;
Process.Start(info); 
```

[您可以在MSDN 网站](http://msdn.microsoft.com/en-us/library/system.diagnostics.processwindowstyle)上找到有关它的更多信息。

# javascript - 无法使用 ajax 调用将值传递给 Web 服务

> ID：12048943
> 
> 赞同：0
> 
> 时间：2012-08-21T05:33:48.360
> 
> 标签：javascript, jquery, html, json

我不知道我的数据语法是否错误，但是当没有传递参数时这个相同的脚本正在工作，但是当传递参数时，它就不起作用了。为什么？

```
 <script type="text/javascript" src="jquery-1.7.2.min.js"> 
      <script type="text/javascript">
       function GetAge() {
           var StrYear = document.getElementById("StringYear").value;
           var StrMonth = document.getElementById("StringMonth").value;
           var StrDay = document.getElementById("StringDay").value;
           jQuery.support.cors = true;
           $.ajax({
               type: "POST",
               contentType: "application/json; charset=utf-8",
               dataType: "json",
               jsonp: 'jsonp_callback',
               async: false,
               url: 'http://localhost:50113/Service1.asmx/GetAge',
               data: "{ StrYear: "+StrYear+", StrMonth:"+ StrMonth+"  , StrDay: "+StrDay+"  }",
               success: function (msg) {
                   $('#divToBeWorkedOn').html(msg.d);
               },
               error: function (e) {
                   $('#divToBeWorkedOn').html("Unavailable");
               }
           });
         }
        </script> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-21T05:38:27.360

可能您应该将数据作为对象传递，因此您可能不需要

```
data: "{ StrYear: "+StrYear+", StrMonth:"+ StrMonth+"  , StrDay: "+StrDay+"  }", 
```

但

```
data: { StrYear: StrYear, StrMonth: StrMonth, StrDay: StrDay }, 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-21T05:37:53.450

以这种格式传递您的数据

```
 data: '{ "StrYear": "' + StrYear+ '","StrMonth":"' + StrMonth+ '" ,"StrDay": "' + StrDay+ '" }', 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-08-21T05:58:24.993

尝试`dataType: "jsonp",`代替`dataType: "json",`

和

```
data: { StrYear: StrYear, StrMonth: StrMonth, StrDay: StrDay }, 
```

# c# - EntityCollection 与 List 上的 except()

> ID：12048945
> 
> 赞同：3
> 
> 时间：2012-08-21T05:34:24.790
> 
> 标签：c#, entity-framework, linq-to-entities, out-of-memory

使用 EntityFramework 4。我有一个`EntityCollection<SomeEntity> currentEntities`~500k 实体和一个`List<SomeEntity> importedEntities`也有 ~500k 记录。我想要列出所有`currentEntities`不存在的记录的列表`importedEntities`。

调用`currentEntities.Select(x => x.ID).Except(importedEntities.Select(x => x.ID))`以获取出现记录的唯一 ID 会导致 a `System.OutOfMemoryException`，因为它显然会将所有实体加载到内存中。

调用`currentEntities.Where(x => !importedEntities.Any(y => y.ID == x.ID))`失败并显示`NotSupportedException`（“在此上下文中仅支持原始类型（'例如 Int32、String 和 Guid'）”）。

`currentEntities`在 SQL Server 2008 R2 数据库上，而`importedEntities`在内存中。

这在 L2E 中甚至可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-21T19:02:40.583

对内存中的`except`两个“大”整数列表进行处理并不是重点。如果我这样做`Enumerable.Range(0, 500000).Except(Enumerable.Range(500, 500000)).Count()`，它会在我说 OutOfMemoryException 之前返回 500。所以我认为将你的问题减少到`except`整数应该对你有用：

```
var newIds = importedEntities.Select(x => x.ID).ToArray()
             .Except(currentEntities.Select(x => x.ID).ToArray()).ToArray(); 
```

因此，只有整数会被加载到内存中，没有实体对象。

现在你可以这样做：

```
importedEntities.Where(x => newIds.Contains(x.ID)) 
```

前提`newIds`是不要太长。什么是太长了？linq 语句生成一个`IN`子句，它可以轻松包含数千个项目，但如果它比 10,000 长，您可能应该以块的形式处理 ID。

顺便说一句（1）。我在这里假设两个列表都在不同的上下文中，甚至可能是不同的数据库。但是，如果它们在相同的上下文中，您可能会成功：

```
importedEntities.Where(x => !currentEntities.Select(y => y.ID)
                           .Any(id => id == x.ID)) 
```

这会产生一个`NOT EXISTS`sql 查询。`OutOfMemoryException`如果有“许多”新项目，您可能仍然会遇到问题。如果是这样，您可以使用分页机制 ( `Skip`- `Take`) 以块的形式处理新项目。

顺便说一下（2），我交换了 currentEntities 和 importentities，因为我假设您对新导入的项目感兴趣，如果我错了，请撤消。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:41:12.203

试试这个。

以下是importedEntities 是内存中集合而不是数据库中的集合时的情况。

```
var importedEntityIds = importedEntities
    .Select(x => x.ID).ToList(); // Convert to a list of some value type.
var result = currentEntities
    .Where(x => !importedEntityIds.Contains(x.ID))
    .ToList(); 
```

以下是importedEntities 是数据库中的集合时的情况。

```
var importedEntityIds = importedEntities
    .Select(x => x.ID); // This will be translated in SQL to a NOT IN (...)
var result = currentEntities
    .Where(x => !importedEntityIds.Contains(x.ID))
    .ToList(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T13:17:56.587

我假设您正在尝试找出需要添加到某个系统或其他东西的新条目。这种情况并不少见。因为你的数据集太大了，要么两者不能同时存在于内存中，要么各种 LINQ 扩展方法在内存中创建集合的副本，这些副本超过了内存最大值，因为你现在在内存中有 3 或 4 个列表副本。

您可能可以使用结果将位于 IEnumerable 中的事实，该 IEnumerable 在迭代来自 sql server 的结果时只会加载记录块。

试试这个

```
foreach (var current in currentEntities)
{
    if (importedEntities.Contains(current))
    {
        importedEntities.Remove(current);
    }
} 
```

该代码假定 Equals 和 GetHashCode 方法被覆盖以通过属性比较对象，而不是对象基类中的默认方法，后者仅比较指针或一些低级的东西。

注意：如果您要执行以下操作

```
foreach (var current in currentEntities.ToList())
{
    if (importedEntities.Contains(current))
    {
        importedEntities.Remove(current);
    }
} 
```

那么您将得到 System.OutOfMemoryException，因为现在整个数据库表都在内存中，而不仅仅是您要比较的行。所以不要做 ToList 或类似的事情。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-21T06:09:15.143

从导入的实体中选择所有 id：

`var importedids = importedEntities.Select(entity => entity.ID).ToList();`

创建一个哈希集：

`var importedidshashset = new HashSet<int>(importedids);`

过滤当前实体：

`currentEntities.Where(entity => !importedidshashset.Contains(entity.ID)).ToList().`

# junit - junit 方法 assertLinkPresentWithText

> ID：12048946
> 
> 赞同：0
> 
> 时间：2012-08-21T05:34:33.990
> 
> 标签：junit, htmlunit, case-sensitive

此方法检查具有作为参数传递的字符串的链接。我怀疑它是否区分大小写匹配。

示例：我在锚标记中有一个链接，其中“sample123”作为锚标记内的文本。如果我将此方法用作 assertLinkPresentWithText("Sample");

这会匹配作为小写文本示例的链接吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T09:23:54.883

根据[源代码](http://htmlunit.svn.sourceforge.net/viewvc/htmlunit/trunk/htmlunit/src/main/java/com/gargoylesoftware/htmlunit/WebAssert.java?revision=7303&content-type=text%2Fplain)：

```
/**
 * Verifies that the specified page contains a link with the specified text. The specified text
 * may be a substring of the entire text contained by the link.
 *
 * @param page the page to check
 * @param text the text which a link in the specified page is expected to contain
 */
public static void assertLinkPresentWithText(final HtmlPage page, final String text) {
    boolean found = false;
    for (final HtmlAnchor a : page.getAnchors()) {
        if (a.asText().contains(text)) {
            found = true;
            break;
        }
    }
    if (!found) {
        final String msg = "The page does not contain a link with text '" + text + "'.";
        throw new AssertionError(msg);
    }
} 
```

我会**说不**。

# php - 用另一个数组php过滤一个数组

> ID：12048951
> 
> 赞同：2
> 
> 时间：2012-08-21T05:35:08.897
> 
> 标签：php, arrays, filter

我有一个看起来像这样的数组：

```
Array
(
    [333824-00A-BLK-10] => Array
        (
            [classId] => 44
            [inv] => 0.000
            [onOrder] => 0
            [code] => 333824-00A-BLK-10
        )
    [333824-00A-BLK-10.5] => Array
        (
            [classId] => 44
            [inv] => 0.000
            [onOrder] => 0
            [code] => 333824-00A-BLK-10.5
        )
) 
```

我想使用另一个如下所示的数组来过滤它：

```
Array
(
    [0] => 333824-00A-BLK-10
    [1] => 333824-00A-BLK-10.5
    [2] => 333824-00A-BLK-11
    [3] => 333824-00A-BLK-11.5
    [4] => 333824-00A-BLK-12
) 
```

我想将结果保留在数组中并删除不匹配的键。我尝试了一个用 foreach 过滤数组的函数，但没有运气。请问有什么帮助吗？谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-08-21T05:37:52.547

```
$result = array_intersect_key($data, array_flip($keys)); 
```

你的主数组在哪里`$data`，并且`$keys`是一个带有过滤键的数组

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:42:57.957

我会制作一个虚拟数组并在 foreach 中过滤它，我不知道你的 foreach 看起来如何，但我的看起来像

```
$arr = array();

$filter_array = array ('333824-00A-BLK-10',
     '333824-00A-BLK-10.5',
     '333824-00A-BLK-11',
    '333824-00A-BLK-11.5',
     '333824-00A-BLK-12');

$array_to_filter = array('333824-00A-BLK-10' => array
        (
            'classId' => 44,
            'inv' => 0.000,
            'onOrder' => 0,
            'code' => '333824-00A-BLK-10'
        ),
    '333824-00A-BLK-10.5' => array
        (
            'classId' => 44,
            'inv' => 0.000,
            'onOrder' => 0,
            'code' => '333824-00A-BLK-10.5'
        )
);

foreach($array_to_filter as $filter) {

    if(array_key_exists($filter, $array_to_filter)) {
        $arr[] = $array_to_filter[$filter];
    }
} 
```

在 $arr 你现在应该在你的数组中拥有所有现有的键

# linq-to-entities - Linq 到一组 ICollection 计数的实体总和

> ID：12048956
> 
> 赞同：0
> 
> 时间：2012-08-21T05:35:36.090
> 
> 标签：linq-to-entities, aggregate

我正在尝试使用 linq 到实体按站点创建聚合数据列表。

代码优先模型有一个 TrialParticipant 类，该类包含一个表示一对多关系 StudyCentre 的属性和一个 AdverseEvents 的 ICollection，表示多对一关系。

除其他细节外，我想知道每个 StudyCentre 的 AdverseEvents 数量。

编码

```
var returnVal =
    (from participant in _db.TrialParticipants
     group participant by participant.StudyCentreId into centre
     select new StudyCentreStatistic
     { 
        TotalNo = centre.Count(),
        ...
        AdverseEventNo = centre.Sum(participant=>participant.AdverseEvents.Count)
     }).ToList(); 
```

但这会产生一个错误：

解析查询时出错。[ 令牌行号 = 72，令牌行偏移量 = 4，错误令牌 = SELECT

任何关于如何做到这一点的想法将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T18:07:32.010

如果有导航属性`StudyCentre.Participants`，您可以执行以下操作：

```
from s in _db.StudyCentres
select new
{ 
    s.StudyCentreId,
    AdverseEventCount = s.Participants.SelectMany(p => p.AdverseEvents).Count()
} 
```

# graph - 如何使用 DirectShow 默认的“视频渲染器”渲染 NV12

> ID：12048961
> 
> 赞同：0
> 
> 时间：2012-08-21T05:36:18.603
> 
> 标签：graph, directshow, h.264, color-space

我正在尝试开发一个视频源 DirectShow 过滤器。

以下图表有效：

[h264 源]->[Elecard H264 解码器]->[视频渲染器]
[h264 源]->[MS DTV-DVD 解码器]->[DMO 颜色转换器]->[视频渲染器]

我的过滤器输出 h264，它将被解码为 NV12，然后使用默认的基本视频渲染器以某种方式渲染，该渲染器只接受 RGB32。

视频渲染器是我无法解决的限制。当我尝试将过滤器自动连接到渲染器时，会自动加载“AVI 解压缩器”但不起作用。

我现在的解决方案是安装可以输出 RGB32 的 Elecard H264 解码器。我需要安装某种具有高 MERIT 值的颜色转换器。默认的 DMO 颜色转换器可以为我做到这一点，但它的 MERIT 似乎不够高。我不想依赖昂贵的第 3 方解决方案。

我可以弄乱 DMO 颜色转换的优点来强制它加载，但这似乎不是一个好的解决方案。我可能会影响系统上的其他应用程序。另一种可能性是开发我的颜色转换器过滤器，它也可能与已安装的应用程序发生冲突。

我不确定如何进行。

# tcl - 字符串和矩阵

> ID：12048963
> 
> 赞同：0
> 
> 时间：2012-08-21T05:36:40.500
> 
> 标签：tcl

什么是 needleString 和 haystackString？它们是如何使用的？

还需要编写一个包含乘法和逆过程的矩阵包。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T06:26:18.173

我猜你的第一个问题是指[`string first`](http://www.tcl.tk/man/tcl8.5/TclCmd/string.htm#M8). needleString是要*搜索*的（可能很短的）字符串，而*haystackString*是要在其中搜索的（可能较长的）字符串。这些名称的选择参考了“大海捞针”（一个惯用的英语短语，表示搜索困难——尽管计算机系统会做得更好），并且比*string1 string2*更容易记住。（毕竟，谁会在大海捞针呢？）

在第二个问题中，请考虑使用[Tcllib中的](http://tcllib.sourceforge.net/)[math::linearalgebra](http://tcllib.sourceforge.net/doc/linalg.html)包。尤其相关。`::math::linearalgebra::matmul`

矩阵的逆是一个相当复杂的操作，并且（当前）没有单一的高质量实现。我建议要么编写基于 Gauss-Jordan 消元法的代码，要么使用[Tcler's Wiki 的数学页面中的求逆运算](http://wiki.tcl.tk/778)（但要注意矩阵是否很大；Wiki 代码*不是*最优的）。

# php - 按孩子排序数组？

> ID：12048965
> 
> 赞同：2
> 
> 时间：2012-08-21T05:36:44.800
> 
> 标签：php, arrays, recursion, multidimensional-array

我有一个看起来像这样的数组

```
array(
    1 => array(
        'id'     => 1,
        'name'   => 'first',
        'parent' => null
    ),
    2 => array(
        'id'     => 2,
        'name'   => 'second',
        'parent' => null
    ),
    3 => array(
        'id'     => 3,
        'name'   => 'third',
        'parent' => 1
    ),
    4 => array(
        'id'     => 4,
        'name'   => 'fourth',
        'parent' => 3
    ),
    5 => array(
        'id'     => 5,
        'name'   => 'fifth',
        'parent' => 1
    ),        
); 
```

但我想将任何“子”项移动到数组下的“子”键。所以，我想结束

```
array(
    1 => array(
        'id'       => 1,
        'name'     => 'first',
        'parent'   => null,
        'children' => array(
            3 => array(
                'id'       => 3,
                'name'     => 'third',
                'parent'   => 1,
                'children' => array(
                    4 => array(
                        'id'       => 4,
                        'name'     => 'fourth',
                        'parent'   => 3,
                        'children' => array()
                    ),
                )
            ),
            5 => array(
                'id'       => 5,
                'name'     => 'fifth',
                'parent'   => 1,
                'children' => array()
            )
        )
    ),
    2 => array(
        'id'       => 2,
        'name'     => 'second',
        'parent'   => null,
        'children' => array()
    )
); 
```

但老实说，我完全不知道从哪里开始。

我在想也许循环遍历数组中的每个项目，然后随着我一起构建新数组`$new_array[$current['parent']]['children'][$current['id']] = $current;`

但是，一旦我遇到嵌套项目，我就会遇到问题。

我可以构建一个函数，该函数采用当前数组和整个数组并递归地向上移动树以找到所有父级，从而找到整个路径，但如果其中一个父级尚未创建，我会再次遇到问题。

我能想到的唯一选择是构建一个不同级别的父母的数组映射并递归地循环并以这种方式获取所有元素，但这似乎有点低效？

任何人都可以提出解决方案吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T05:46:38.893

你对 foreach 循环有正确的想法。但是，您想要做的事情需要引用的“魔力”。

```
foreach($oldArray as $key => &$item) {
    if($item["parent"] == null) $newArray[$key] = &$item;
    else $oldArray[$item["parent"]]["children"][$key] = &$item;
}

unset($item); 
```

这将输出'$oldArray'

```
Array
(
[1] => Array
    (
        [id] => 1
        [name] => first
        [parent] => 
        [children] => Array
            (
                [3] => Array
                    (
                        [id] => 3
                        [name] => third
                        [parent] => 1
                        [children] => Array
                            (
                                [4] => Array
                                    (
                                        [id] => 4
                                        [name] => fourth
                                        [parent] => 3
                                    )

                            )

                    )

                [5] => Array
                    (
                        [id] => 5
                        [name] => fifth
                        [parent] => 1
                    )

            )

    )

[2] => Array
    (
        [id] => 2
        [name] => second
        [parent] => 
    )

[3] => Array
    (
        [id] => 3
        [name] => third
        [parent] => 1
        [children] => Array
            (
                [4] => Array
                    (
                        [id] => 4
                        [name] => fourth
                        [parent] => 3
                    )

            )

    )

[4] => Array
    (
        [id] => 4
        [name] => fourth
        [parent] => 3
    )

[5] => Array
    (
        [id] => 5
        [name] => fifth
        [parent] => 1
    )

) 
```

对于 newArray （“纯化”版本）

```
Array
(
[1] => Array
    (
        [id] => 1
        [name] => first
        [parent] => 
        [children] => Array
            (
                [3] => Array
                    (
                        [id] => 3
                        [name] => third
                        [parent] => 1
                        [children] => Array
                            (
                                [4] => Array
                                    (
                                        [id] => 4
                                        [name] => fourth
                                        [parent] => 3
                                    )

                            )

                    )

                [5] => Array
                    (
                        [id] => 5
                        [name] => fifth
                        [parent] => 1
                    )

            )

    )

[2] => Array
    (
        [id] => 2
        [name] => second
        [parent] => 
    )

) 
```

现在，为什么会这样：通过将 &item 放入 foreach 循环，我们使用对项目的引用，而不是副本。这意味着，无论我们对该项目进行什么更改，我们也会在相应的数组元素处进行更改。

通过将 &$item 传递给 $newArray[$key] 或 children 数组，我们将引用传递……所以无论我们对“原始对象”（即 [3]）做什么，我们也会对所有参考。

unset($item) 是必要的，因为它删除了 $item 的最后一个实例和变量之间的绑定。否则，只要我们再次更改 $item 变量，我们也会更改最后一个变量。在这个脚本中不是完全必要的，但仍然是一个需要记住的好习惯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:47:53.997

您可以将它们从数组转换为对象。这很容易做到，你几乎已经有了一个对象结构。

`__construct()`不同之处在于您可以在每个对象中设置一个函数，将其`ID`编号作为参数传递，并在`__construct()`函数内部查看子数组的主数组并将它们添加进去。当它添加一个新的子项时，它再次触发`__construct()`这个孩子中的函数，它将再次在数组中搜索它自己的孩子。

你很可能最终得到一个几乎没有工作的美妙物体。如果你希望它们在最后作为一个数组，你可以有一个函数将整个 heirachy 作为一个数组返回 - 但无论如何对象对你来说不是更好吗？

# python - 当通过不允许的方法（如 PUT、DELETE ...）请求应用程序时，如何返回 json 输出？

> ID：12048969
> 
> 赞同：2
> 
> 时间：2012-08-21T05:37:07.923
> 
> 标签：python, api, flask

我正在使用 Flask 实现 API。
问题是当通过不允许的方法请求 api 时，API 返回错误 html 页面。我想为此返回 json 值。我怎样才能在 Flask 中做到这一点？

提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-08-21T05:48:05.880

只需使用[`errorhandler`](http://flask.pocoo.org/docs/api/#flask.Flask.errorhandler)装饰器或[`register_error_handler`](http://flask.pocoo.org/docs/api/#flask.Flask.register_error_handler)方法返回适当的 JSON：

```
@app.errorhandler(404)
def error_404():
    return jsonify(error="This resource does not exist"), 404 
```

# java - 机器人代码是如何工作的？

> ID：12048970
> 
> 赞同：0
> 
> 时间：2012-08-21T05:37:17.020
> 
> 标签：java, eclipse, robocode

在我的大学课程中，我们获得了编程游戏 robocode 的代码，我们需要为游戏添加功能以改变游戏的玩法。

为此，我需要更多地了解 robocode 的工作原理。那么首先运行什么代码，它做什么以及它调用什么其他代码等等。但是，我在互联网上找不到任何真正详细介绍机器人代码游戏不同领域的好页面。一切都是关于如何构建自己的机器人。

我想确切地知道 robocode 中的每个包的作用。以及他们被召唤的顺序，谁召唤他们，他们召唤谁。以及其他任何可以让我更好地理解 robocode 及其工作原理的东西。

如果有人可以帮助我，将不胜感激:)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T06:10:46.407

假设你是一名学生，我会让自己给你一些看起来很有用的技巧。

首先，您并不需要了解该程序的所有内部结构才能了解如何使用它。您只需要了解什么是公开的 API。通常一个 API + 入门教程就足够开始了。

入门教程有点像[这里](http://robowiki.net/wiki/Robocode_Basics)（我承认我从未使用过这个应用程序）Java API 在[这里](http://robocode.sourceforge.net/docs/robocode/)（也有一个 .NET，但我假设你对 Java API 更感兴趣）

阅读入门指南，然后（甚至在深入研究 API 之前）尝试运行您的第一个机器人。[就像这里描述的一样](http://robowiki.net/wiki/Robocode/My_First_Robot)

你会意识到你驱动你的机器人是你发送给它的一系列命令。成功运行机器人后，您可以研究 API 并了解可以用机器人做的其他事情。

我知道这个答案很模糊，但坦率地说，他们的网站非常好，据我所知，它提供了您需要的所有信息，我只是想帮助您“稍微整理一下”，并分享我过去是如何学习新的项目

希望这有帮助，祝你好运！

# .htaccess - 使用 .htaccess 在 php 中重写 URL

> ID：12048973
> 
> 赞同：1
> 
> 时间：2012-08-21T05:37:23.213
> 
> 标签：.htaccess

需要根据页面更改`URL`。我`Title`有一个类似的 URL `http://yourdomain.com/showBest.html?id=42`，我需要在`http://yourdomain.com/how-to-feel-cosmic-energy.html`此处设置它，因为它是如何感受`Title`页面的宇宙能量的。所有人都可以说，我需要`Title`使用从页面连接 Web URl`.htaccess`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:43:47.907

如果您没有执行此操作的框架，您将不得不编写脚本来获取页面标题并将它们转换为页面 ID（使用数据库中的查找或其他方式），或者使用[RewriteMap 创建一个标题-> id 映射](http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html#rewritemap)。

这不是几个简单的重写规则的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:48:42.260

从[http://www.cyberdesignz.com/blog/website-design/url-rewriting-top-5-ways-of-php-url-rewriting/](http://www.cyberdesignz.com/blog/website-design/url-rewriting-top-5-ways-of-php-url-rewriting/)，以下是一种不太理想的编写方式。然而，这需要最少的工作。在您的 .htaccess 中，您使用：

```
RewriteEngine on

RewriteRule ^([a-zA-Z0-9_-]+)/([0-9]+)\.html$ showBest.html?id=$2 
```

这转换`how-to-feel-cosmic-energy/12.html`为`showBest.html?id=12`.

而且您不必更改 PHP 代码。简化是因为此规则通过包含页面标题和 id 来作弊。因此，重写规则不必在数据库中查找。

* * *

更好的方法是：

```
RewriteEngine On

RewriteRule ^([a-zA-Z0-9_-]+)$ showBest.html?title=$1

RewriteRule ^([a-zA-Z0-9_-]+)/$ showBest.html?title=$1 
```

这转换`how-to-feel-cosmic-energy.html`为`showBest.html?title=how-to-feel-cosmic-energy`.

但是，使用这种方法，您必须更改您的 PHP。因此，您必须按标题搜索，而不是按 id 搜索记录。

例如。改变

```
mysql_query("SELECT * FROM pages WHERE id = " + mysql_escape_string($id)) 
```

到

```
mysql_query("SELECT * FROM pages WHERE title = '"
            + mysql_escape_string($title) + "'") 
```

或类似的（取决于您的确切 PHP 代码）。

# android - 如何使用 sax 解析器解析像这样丑陋的结构化 XML

> ID：12048974
> 
> 赞同：1
> 
> 时间：2012-08-21T05:37:28.633
> 
> 标签：android, xml-parsing

嗨，我对 webserices 和 xml 解析非常陌生。我使用[http://www.mysamplecode.com/2011/11/android-parse-xml-file-example-using.html](http://www.mysamplecode.com/2011/11/android-parse-xml-file-example-using.html)这个链接作为我的参考。但我认为在这个链接中，xml 是一个简单的。如何解析像这样的复杂 xml。任何人都可以建议我一种方法来解析这个。我想从每个 MenuEntry 中读取 <A>、<B>、<C>、<D> 标签的值

```
 <Menu>
         <MenuEntries>

           <MenuEntry>
           <A>--AAAAA---</A>
           <B>--BBBB---</B>
           <MenuEntries/>
           <C>--CCCC---</C>
           <D>--DDDD---</D>
           </MenuEntry>

            <MenuEntry>
            <B>--BBBB---</B>
            <menuEntries/>
            <C>--CCCC---</C>
            <D>--DDDD---</D>
            </MenuEntry>

            <MenuEntry>
            <A>--AAAAA---</A>
            <B>--BBBB---</B>
             <MenuEntries>

                <MenuEntry>
                <A>--AAAAA---</A>
                <B>--BBBB---</B>
                <MenuEntries/>
                <C>--CCCC---</C>
                <D>--DDDD---</D>
                </MenuEntry>

                <MenuEntry>
                <A>--AAAAA---</A>
                <B>--BBBB---</B>
                <MenuEntries/>
                <C>--CCCC---</C>
                <D>--DDDD---</D>
                </MenuEntry>

             </MenuEntries>
           <C>--CCCC---</C>
           <D>--DDDD---</D>
             </MenuEntry>

        <MenuEntry>
        <B>--BBBB---</B>
        <MenuEntries/>
        <C>--CCCC---</C>
        <D>--DDDD---</D>
          </MenuEntry>

        <MenuEntry>
        <A>--AAAAA---</A>
        <B>--BBBB---</B>
        <MenuEntries>

            <MenuEntry>
            <A>--AAAAA---</A>
            <B>--BBBB---</B>
            <MenuEntries/>
            <C>--CCCC---</C>
            <D>--DDDD---</D>
            </MenuEntry>

        </MenuEntries>
        <C>--CCCC---</C>
        <D>--DDDD---</D>
          </MenuEntry>

        </MenuEntries>
        </Menu> 
```

这是我用于解析 xml 的 xmlHandler 类

```
 public class ItemXMLHandler extends DefaultHandler {

        Boolean currentElement = false;
        String currentValue = "";
        Menu item = null;
         static ArrayList<Menu> menuList = new ArrayList<Menu>();

        public static ArrayList<Menu> getMenuListz() {

            Log.e("in getMenulist()", String.valueOf(menuList.size()));
            return menuList;
        }

        // Called when tag starts
        @Override
        public void startElement(String uri, String localName, String qName,
                Attributes attributes) throws SAXException {

            currentElement = true;
            currentValue = "";
            if (localName.equals("MenuEntry")) {
                //Log.e("menuENtry found ", "menuENtry found");
                item = new Menu();

            }

        }

        @Override
        public void endElement(String uri, String localName, String qName)
                throws SAXException {

            currentElement = false;

            /** set value */
            if (localName.equalsIgnoreCase("A")) {
                item.setA(currentValue);
            } else if (localName.equalsIgnoreCase("B")) {
                item.setB(Long.parseLong(currentValue));
            } else if (localName.equalsIgnoreCase("C")) {
                    item.setC(currentValue);
            } else if (localName.equalsIgnoreCase("menuEntry"))

                menuList.add(item);

        }

        // Called to get tag characters
        @Override
        public void characters(char[] ch, int start, int length)
                throws SAXException {

            if (currentElement) {
                currentValue = currentValue + new String(ch, start, length);
            }

        }

    } 
```

这是我的菜单 java 类

```
 public Class Menu{
        private long B;
        private String A;
        private String C;

        public long getB() {
            return B;
        }
        public void setB(long B){
            this.B = B;
        }
        public String getA() {
            return A
        }
        public void setA(String A){
            this.A = A
        }
        public String getC() {
            return C
        }
        public void setC(String C) {
            this.C = C;
        }
    } 
```

我得到重复和空值。我知道我的编码可能是错误的，任何人都可以帮助我回复或任何有用的链接来解析这种复杂的xml（对我来说它很复杂:)）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T06:44:21.023

Looking at the original XML file, the problem is that the sample code you have chosen assumes there is no nesting of the XML data, so the lines of code here:

```
 if (localName.equals("MenuEntry")) {
            //Log.e("menuENtry found ", "menuENtry found");
            item = new Menu();
        } 
```

将意味着当您遇到诸如外部`<MenuEntry> ... <MenuEntries> ...<MenuEntry>`挂起之类的序列时会被覆盖。一种快速而肮脏（未经测试！）的解决方案是：`item``MenuEntry`

```
public class ItemXMLHandler extends DefaultHandler {

    Boolean currentElement = false;
    String currentValue = "";
    /*DELETE Menu item = null; */
    static ArrayList<Menu> menuList = new ArrayList<Menu>();

    /*NEW*/ Stack<Menu> items;

    public static ArrayList<Menu> getMenuListz() {

        Log.e("in getMenulist()", String.valueOf(menuList.size()));
        return menuList;
    }

    // Called when tag starts
    @Override
    public void startElement(String uri, String localName, String qName,
            Attributes attributes) throws SAXException {

        currentElement = true;
        currentValue = "";
        if (localName.equals("MenuEntry")) {
            //Log.e("menuENtry found ", "menuENtry found");
            /*UPDATE*/ items.push(new Menu());

        }

    }

    @Override
    public void endElement(String uri, String localName, String qName)
            throws SAXException {

        currentElement = false;
        /*NEW*/ Menu item = items.peek();
        /** set value */
        if (localName.equalsIgnoreCase("A")) {
            item.setA(currentValue);
        } else if (localName.equalsIgnoreCase("B")) {
            item.setB(Long.parseLong(currentValue));
        } else if (localName.equalsIgnoreCase("C")) {
                item.setC(currentValue);
        } else if (localName.equalsIgnoreCase("menuEntry"))
            /*NEW*/ items.pop();
            menuList.add(item);
    }

    // Called to get tag characters
    @Override
    public void characters(char[] ch, int start, int length)
            throws SAXException {

        if (currentElement) {
            currentValue = currentValue + new String(ch, start, length);
        }
    }
} 
```

这应该维护一堆挂起的`Menu`结构。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-15T08:02:50.397

[http://simple.sourceforge.net/](http://simple.sourceforge.net/) 帮助我解析了这个 xml

# sql-server - 什么SQL Server数据类型可以准确的划分和重构

> ID：12048980
> 
> 赞同：1
> 
> 时间：2012-08-21T05:37:51.977
> 
> 标签：sql-server

考虑下面的 T-SQL 代码。我想将 10 个单位分配给 a、b、c，并根据 a、b、c 的当前值按比例分配。

对于这种情况，

```
select @a + @b + @c 
```

计算后正如预期的那样正好是 10。

但是，在我的客户端应用程序中，这些值是从存储过程返回的

```
4.72222222222222, 4.72222222222222, 0.555555555555556 
```

加起来就是 9.999999999999996

粗略地说，问题似乎是 4.72222222222222 值的末尾都缺少 2，如果我手动添加它们，结果 = 10 符合预期。

相反，如果 0.555555555555556 减去 5，例如 0.55555555555556，则总和结果 = 10。

谁能建议如何优雅地处理这件事？每个结果的精度并不那么重要，但重要的是它们总是总和回到原来的`@adjustby`.

```
declare @totalOwned float
declare @adjustby float
declare @a float
declare @b float
declare @c float

set @adjustby = 10
set @a = 85
set @b = 85
set @c = 10

set @totalOwned = @a + @b + @c 

select @a = @adjustby * (@a/@totalOwned)
select @b = @adjustby * (@b/@totalOwned)
select @c = @adjustby * (@c/@totalOwned)

select @a + @b + @c,@a,@b,@c 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T06:11:26.993

Instead of `float`, use the `decimal` data type. A decimal is declared:

```
declare @d decimal(p,s) 
```

`p` is the precision, or total number of decimal digits that can be stored, both to the left and to the right of the decimal point.

`s` is the scale, or number of decimal digits that can be stored to the right of the decimal point.

So to store `4.72222222222222`, you'd need at minimum `decimal(15,14)`. 15 decimals, of which 14 are behind the decimal point.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T06:08:13.253

这与 SQL Server 无关。这是 IEEE 浮点数的正常行为。它们是近似值而不是精确值——例如阅读[floating-point-guide](http://floating-point-gui.de)。

您可以通过对最终结果进行四舍五入来获得预期的结果，但这也不能保证正确的结果。如果您需要返回原始结果，则需要避免使用浮点数。

# android - 如何以编程方式为布局设置半透明背景？

> ID：12048984
> 
> 赞同：7
> 
> 时间：2012-08-21T05:38:15.950
> 
> 标签：android, android-layout

我的应用程序有一个扩展相对布局的类。我想知道是否有任何方法可以以编程方式使该课程的背景变为半透明。由于它不是一个活动，我无法将 Manifest 文件中的样式属性设置为“半透明”，并且我也无法使用 setAlpha() 方法，因为 setAlpha() 方法适用于 API 级别 11 以后，并且我的应用程序的 API 级别为11 并且由于某些限制，我无法将其更改为 API 级别 11。请您指导我解决这个问题吗？

谢谢你。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-08-21T05:46:27.943

使用`setBackgroundResource`或`setBackgroundColor`。我认为首先很简单。

第二个以 a`int`作为参数。因此，只需将您的十六进制颜色（例如`#55000000`）转换为十进制，它也可以正常工作。

但是，最好使用`setBackgroundResource`，因为在这种情况下，您将颜色存储在单独的文件中：

```
setBackgroundResource(R.color.mycolor);
setBackgroundResource(android.R.color.transparent);
//etc 
```

# android - Eclipse 3.7 Android R.java 不见了？

> ID：12048988
> 
> 赞同：1
> 
> 时间：2012-08-21T05:39:01.603
> 
> 标签：android, eclipse, r.java-file, eclipse-adt

我的问题是即使在创建新的 android 应用程序项目之后`eclipse`也没有生成文件，所以我的文件`R.java`中应该没有错误。`xml`

我仔细检查了文件是否有任何错误`xml`。我还手动清理并重建了我的项目。

我正在使用`eclipse 3.7`和`adt 20.0.3.v201208082019-427395`

**编辑：** 这是来自 Eclipse 的屏幕 ![在此处输入图像描述](../Images/16015eb46a45c052893f788333997819.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-21T05:45:30.003

如果您认为您的布局 xml 和 manifest.xml 是正确的，那么您的 Android 插件可能已损坏。尝试重新安装 ADT 插件。它发生在我身上一次。谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:45:35.367

您确实确认您的源代码中没有“import android.R”行吗？我很早就遇到过这种情况，解决它的唯一方法是知道手动删除该导入行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T05:49:08.220

**1.**首先清理你的项目，从项目--->清理。

**2.**检查xml文件是否有错误。

**3.永远不要**导入android.R

**////// 已编辑 //////////////**

在你的下面去`Problem tab`......

**删除其中的所有错误，并删除所有警告......**

我正在显示警告删除

![PIC](../Images/7a45409450c88dfb8729ff94cc35c907.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-06-27T10:30:05.100

我曾经遇到过这个问题。就我而言，问题是工作空间。只需在 Eclipse 中创建一个新工作区并尝试创建一个新项目。它对我有用。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-01-15T02:21:38.387

我昨天遇到了同样的问题，终于解决了。尤其是在重新启动 IDE 时会出现问题。因为重新加载项目时会重新生成 R.java。我尝试清理项目并重建。但没有运气。如果您确实确定布局 xml 是正确的，您可以尝试删除该项目并重新导入它。顺便说一句，我发现 Google 提供的 Android 开发 IDE 的 Google adt 包没有 R.java 缺失问题。eclipse+adt_plugin 中的同一个源总是有 R.java 缺失的问题。但是相同的来源在 adt bundle 中没有问题。

# android - 如何通过html的select标签关闭android打开的对话框

> ID：12048991
> 
> 赞同：2
> 
> 时间：2012-08-21T05:39:13.180
> 
> 标签：android, jquery, html

我正在为 android 和 Iphone 创建一个 Web 应用程序。现在我的 html 页面是一个选择标签，当我在 android 浏览器上选择它时，它会打开带有上一个下一个和完成按钮的 android 的默认微调器对话框。

```
 <select  id="select-choice-presence" data-role="none"  

                 onChange="onUserStatusChange(this.value)"
                 style="width:150px;border:2px solid #333;"> 
            <option value="Online">Online</option>                                
            <option value="Away">Away</option>
            <option value="BeRightBack">Be Right Back</option>
            <option value="Busy">Busy</option>
            <option value="OutToLunch">Out To lunch</option>
            <option value="InAMeeting">In A Meeting</option>
            <option value="Offline">Appear Offline</option>
            <option value="Logout">Logout</option>
        </select> 
```

![在此处输入图像描述](../Images/3b65a9e79f879cb3b52255d03f0b9828.png)

我正在捕获 onChange 事件以在选择标记的值发生更改但未关闭微调器对话框时获取事件。所以我想在用户通过按下完成按钮关闭对话框或当用户选择任何选项对话框将自行关闭时捕获事件。

寻求帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-29T08:09:10.463

```
$('select').change(function() {
    // DO SOMETHING

    // close the android select dialog
    $(this).blur();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T05:54:02.953

```
$('#menu_options').change(function() 
                    {
                        var id = $(this).children(":selected").attr("id");
                         console.log(id);
                        console.log($(this)[0].selectedIndex);
                        desck = descriptions[$(this)[0].selectedIndex];
                        console.log(desck);
                        loadMenuDetail($(this).val(),subTempId,id,desck);
                    }); 
```

以上代码适用于 jQuery Mobile。这在我的 android webview 中运行良好。“menu_options”是您在 HTML 中选择标签的 ID

# javascript - 对于语句，<=，javascript

> ID：12048996
> 
> 赞同：1
> 
> 时间：2012-08-21T05:39:36.110
> 
> 标签：javascript, for-loop

我正在 CodeAcademy 上做一个项目，这部分需要一个 for 语句。这是我的代码：

```
for(i = 1; i <= 20; i++)
console.log(i); 
```

基本上，我只是想知道，既然第二个条件“ `i <=20`”告诉它何时停止重复代码，为什么它不立即停止。因为 1 小于 20。

我认为它应该是`i = 20`以及何时`i = 20`停止。但情况似乎并非如此。这真的让我很困惑。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-21T05:42:00.877

中间的语句不是告诉什么时候停止循环，而是告诉它什么时候应该*继续*。只要它的计算结果为真，循环就会重复。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-21T05:48:52.220

你很困惑，因为你假设第二个参数告诉它何时停止，这是不正确的，它告诉循环运行多长时间，所以在你的情况下，
**只要 i 小于或等于 20，它就会告诉循环运行**

有关更多信息，请参见[http://www.w3schools.com/js/js_loop_for.asp](http://www.w3schools.com/js/js_loop_for.asp)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-08-21T05:46:28.493

`for`在这里对一个循环进行了很好的总结：

```
for ( variable = startvalue; variable < endvalue; variable = variable + increment) {
    // code to be executed
} 
```

第一部分是循环计数器/索引应该开始的基线。

中间部分是说*while* 'variable < endvalue' - 继续循环。

`variable = variable + increment`写了很多，就像`variable++;`保持循环向前一样。随着变量的增加。（当然你可以增加/减少，这完全取决于你想要做什么）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-08-21T05:42:14.400

因为 i 在 i++ 中递增，并且~~它会发生直到 i++ 达到满足条件 i<=20 的点。~~

读为

只要 i <=20，就将 i 递增为 i++

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-08-21T05:56:18.483

为了帮助您阅读`for`循环，请考虑始终像这样阅读它们：

```
for( initialization_expression; termination_expression; increment_expression ) {
  statements;
} 
```

*   intialization_expression 初始化循环；它在循环开始时执行一次。
*   当 terminate_expression 计算结果为 false 时，循环终止。
*   在循环的每次迭代之后调用 increment_expression；这个表达式增加或减少一个值是完全可以接受的。

所以要“阅读”它，你可以说：

1.  执行`initialization_expression`
2.  为真则执行，`statements`否则`termination_expression`退出
3.  执行`increment_expression`
4.  转到 2。

# java - 从 getInstalled 应用过滤 SystemApp

> ID：12048998
> 
> 赞同：0
> 
> 时间：2012-08-21T05:39:46.200
> 
> 标签：java, android

我正在开发一个应用程序，其中我从系统中获取已安装的应用程序。并成功显示在列表视图中。我成功地得到了每一件事。但现在它也让我得到了我不想要的系统应用程序。像这样的系统应用程序...浏览器，设置，闹钟这样我就不需要了。那么我该怎么做才能过滤呢？你能帮我解决这个...

**代码 ：：**

```
private ArrayList<PInfo> getInstalledApps(boolean getSysPackages) {
        ArrayList<PInfo> res = new ArrayList<PInfo>();
        List<PackageInfo> packs = getPackageManager().getInstalledPackages(0);

        for (int i = 0; i < packs.size(); i++) {
            PackageInfo p = packs.get(i);
            // Fill PackageInfo
            if ((!getSysPackages) && (p.versionName == null)) {
                continue;
            }

            PInfo newInfo = new PInfo();
            newInfo.appname = p.applicationInfo.loadLabel(getPackageManager())
                    .toString();

            newInfo.pname = p.packageName;
            newInfo.versionName = p.versionName;
            newInfo.versionCode = p.versionCode;

            PackageManager pm = getPackageManager();

            ApplicationInfo appInfo;
            try {
                // Get all app information in Application info
                appInfo = pm.getApplicationInfo(newInfo.pname, 0);

                String appFile = appInfo.sourceDir;
                newInfo.size = String.valueOf(new File(appFile).length());

                long installed = new File(appFile).lastModified();
                newInfo.date = String.valueOf(installed);

                Date dtappdate = new Date(installed);
                newInfo.instdate = String.valueOf(dtappdate.toString());

            } catch (NameNotFoundException e) {
                e.printStackTrace();

            }catch (Exception e) {
                e.printStackTrace();
            }
            newInfo.icon = p.applicationInfo.loadIcon(getPackageManager());
            res.add(newInfo);
        }
        return res;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T06:24:11.393

试试这个：

```
 PackageManager packageManager = getPackageManager();
        List<PackageInfo> packageList = packageManager.getInstalledPackages(0);
        for (PackageInfo pi : packageList) {
            ApplicationInfo ai = pi.applicationInfo;
            if ((ai.flags & ApplicationInfo.FLAG_SYSTEM) == 1){
                Log.d("APP_NAME", ai.loadLabel(packageManager).toString());
                Log.d("PACKAGE_NAME", pi.packageName);
                Log.d("APP_VERSION", pi.versionName);
            }
        } 
```