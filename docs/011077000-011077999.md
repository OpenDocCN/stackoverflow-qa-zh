# StackOverflow 问答 11077000-11077999

# dynamics-crm-2011 - 在电子邮件模板 Crm 2011 online 中仅显示修改日期

> ID：11077001
> 
> 赞同：0
> 
> 时间：2012-06-18T04:41:52.883
> 
> 标签：dynamics-crm-2011

我想问一个与 crm 2011 在线电子邮件模板有关的问题。在电子邮件模板中，我显示修改日期。但它显示日期和时间。我只想显示日期。怎样才能做到这一点？请让我知道任何想法。谢谢....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T12:53:59.930

没有支持的方法来执行此操作，但是如果您真的需要它，可能值得尝试一下（注意：我没有尝试过这个！）。

将您的模板添加到解决方案（或现在的测试解决方案），将其导出为非托管并编辑`customizations.xml`文件。在 XML 中，您将看到带有日期的模板表示。查找`body`模板的节点，您会在其中看到类似的内容（xml，在 xml 中编码）：

```
<body>&lt;?xml version="1.0" ?&gt;
&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"&gt;
&lt;xsl:output method="text" indent="no"/&gt;
&lt;xsl:template match="/data"&gt;
&lt;![CDATA[&lt;font size=2 face="Tahoma, Verdana, Arial"&gt;
&lt;p&gt;Value of Created On: ]]&gt;
&lt;xsl:choose&gt;&lt;xsl:when test="systemuser/createdon"&gt;
&lt;xsl:value-of select="systemuser/createdon" /&gt;
&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;
&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;
&lt;![CDATA[&lt;/p&gt;
&lt;p&gt;Value of Modified On: ]]&gt;
&lt;xsl:choose&gt;&lt;xsl:when test="systemuser/modifiedon"&gt;
&lt;xsl:value-of select="systemuser/modifiedon" /&gt;
&lt;/xsl:when&gt;&lt;xsl:otherwise&gt;
&lt;/xsl:otherwise&gt;&lt;/xsl:choose&gt;
&lt;![CDATA[&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;/font&gt;]]&gt;
&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;</body> 
```

尝试更改任何这样的引用（注意我在这里使用解码值）：

```
<xsl:value-of select="systemuser/createdon" /> 
```

对此

```
<xsl:value-of select="ms:format-date('systemuser/createdon', 'dd MMM yyyy')"/> 
```

完成后，将您的自定义 xml 保存回您的解决方案 zip 并上传。即使它在合并时有效，但如果您尝试通过 CRM UI 对其进行编辑，它也可能无法正常工作。

这是[阅读本文的一个想法](http://msdn.microsoft.com/en-us/library/ms256099.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2022-03-01T10:32:22.427

您需要执行以下操作：

1.  下载解决方案
2.  提取压缩文件
3.  **按逻辑名称**搜索您的字段。所以修改后的字段是`modifiedon`.
4.  在每场比赛中，`/@date`在比赛之后添加。之前：`modifiedon`。后：`modifiedon/@date`
5.  保存文件，重新压缩解决方案文件夹，将其导入系统并发布所有自定义项。

# haskell - 错误单子变压器的使用或滥用

> ID：11077007
> 
> 赞同：4
> 
> 时间：2012-06-18T04:43:24.060
> 
> 标签：haskell, styles

**背景**

我正在使用由一堆变压器组成的单子，其中一个是 ErrorT。因此，我的 monad 实现了`MonadError`该类并且`throwError`是一个有效的语句。我只想在满足特定条件时抛出错误。我倾向于做以下事情：

```
if badCondition
  then throwError "You did a bad, bad thing..."
  else return ()
doGoodThings
[...] 
```

在看这个时，我认为我什至可以将其概括为以下内容：

```
throwErrorWhen :: (MonadError e m) => Bool -> e -> m ()
throeErrorWhen cond err = if cond then throwError e else return () 
```

事实上，这似乎很明显，以至于我很惊讶它不是 MonadError 库。

**问题**：

只有满足某些条件，是否有更好/更正确的方法来引发错误？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-18T04:55:25.887

如果布尔值为真，则该`when`函数会评估其第二个参数：`Control.Monad`

```
when :: Monad m => Bool -> m () -> m () 
```

所以你得到，

```
throwErrorWhen cond e = when cond (throwError e) 
```

# sql - 在 Oracle 中获取截至今天或截至某个日期的记录

> ID：11077011
> 
> 赞同：-3
> 
> 时间：2012-06-18T04:43:52.207
> 
> 标签：sql, database, oracle

有人可以推荐查询以检索到今天或某些日期的记录吗？

我需要生成一个 Oracle 报告，其中用户需要输入一个日期并显示截至该日期的记录。

我试过了

```
select * from the_table where the_date <= sysdate 
```

但是，它似乎会产生不准确的结果。对此有什么更好的查询。现在我只是在玩 sysdate。稍后我将需要使用用户键入的某个日期，并且需要显示该日期之前的所有记录。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T04:57:11.017

有时，当两个日期具有相同的日/月/年时，由于分钟和秒等微小差异，您会得到不准确的记录。尝试以下

```
select * from the_table where TRUNC(the_date) <= sysdate 
```

删除分钟和`TRUNC`秒。有时你会得到不准确的记录而不使用它

# android - android有没有类似于IOS的范围栏？

> ID：11077014
> 
> 赞同：5
> 
> 时间：2012-06-18T04:44:04.323
> 
> 标签：android, searchbar

android有像IOS一样的scopebar吗？知道如何构建它吗？我能想到的唯一选择是手动使用xml绘制布局

构建搜索范围栏或选项的任何更时尚、更方便的方法？我希望通过某些列进行搜索，而不是全部搜索。

谢谢

# java - selenium.keyUpNative()

> ID：11077015
> 
> 赞同：1
> 
> 时间：2012-06-18T04:44:11.930
> 
> 标签：java, selenium

我需要按退出键来关闭灯箱。

由于我的应用程序和 selenium rc 驻留在不同的 ips 上，

```
selenium.keyUpNative("27") 
```

没有按预期工作。在远程机器上工作的 selenium 中是否有任何此类事件？

# android - 在返回按钮上退出 Android 应用程序

> ID：11077020
> 
> 赞同：1
> 
> 时间：2012-06-18T04:45:26.267
> 
> 标签：android, android-activity

我有一个应用程序，其中我有不同的活动。在 1 个活动中，我希望当用户按下后退按钮时，我希望关闭应用程序并显示主屏幕

代码

```
public boolean onKeyDown(int keyCode, KeyEvent event) 
        {
            //Handle the back button
            if(keyCode == KeyEvent.KEYCODE_BACK) 
                {
                    //Ask the user if they want to quit
                    new AlertDialog.Builder(this)
                    .setIcon(android.R.drawable.ic_dialog_alert)
                    .setTitle("Exit")
                    .setMessage("Really Exit ?")
                    .setPositiveButton("Yes", new DialogInterface.OnClickListener() 
                        {
                            public void onClick(DialogInterface dialog, int which) 
                                {
                                 Intent intent = new Intent(Intent.ACTION_MAIN);
                                intent.addCategory(Intent.CATEGORY_HOME);
                                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                                startActivity(intent);
                                }
                        })
                    .setNegativeButton("No", null)
                    .show();
                    return true;
                }
            else 
                {
                return super.onKeyDown(keyCode, event);
                }
        } 
```

当我运行它并按下后退按钮时，将显示主屏幕，但是当我第二次运行它时，我得到一个控制台输出为

> ActivityManager：警告：Activity 没有启动，它的当前任务已经被带到了前面。

并显示按下后退按钮的活动。我认为应用程序不会被杀死并在后台运行。顺便提一下，这不是我的应用程序的启动活动。

谁能帮帮我，我是初学者。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T04:54:17.677

试试这个代码：

```
@Override
public void onBackPressed()
{
      moveTaskToBack(true);
} 
```

还要检查这个[链接](https://stackoverflow.com/questions/8254055/android-close-app-when-back-button-is-pressed)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T05:11:18.003

对于您用于进入其他活动的每个**Intent**，您必须按照这种方式传递 Intent，只需将**标志**传递 给每个 Intent，如下所示，在使用**startActivity()启动****Activity**后，您必须在该演示代码之后添加**finish()**如下所示

 ****```
Intent i=new Intent(firstActivity.this,secondActivity.class);
i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
startActivity(i);
finish(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-18T04:48:24.017

您不能随意终止您的应用程序。android 操作系统会在它希望释放分配给它的资源时执行此操作。您实际上无法在 android 中实现**退出应用程序的概念。**用户可以简单地离开您`Activity`并返回到它。如果它必须从第一个重新启动`Activity`或从它离开的地方恢复，取决于安卓操作系统，而不是你。

阅读这篇文章以了解应如何设计 android 应用程序的理念以及为什么您不想随意退出： [退出应用程序是否令人不悦？](https://stackoverflow.com/questions/2033914/quitting-an-application-is-that-frowned-upon/2034238#2034238)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T04:50:04.480

`finish();`在该行之后添加`startActivity(intent)`它会完成您的活动。

谢谢

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-18T05:08:47.440

你需要在你的代码中包含这个类............

```
 public abstract class AppBaseActivity extends Activity {
public static final String FINISH_ALL_ACTIVITIES_ACTIVITY_ACTION =    "com.hrupin.FINISH_ALL_ACTIVITIES_ACTIVITY_ACTION";
private BaseActivityReceiver baseActivityReceiver = new BaseActivityReceiver();
public static final IntentFilter INTENT_FILTER = createIntentFilter();

private static IntentFilter createIntentFilter(){
    IntentFilter filter = new IntentFilter();
    filter.addAction(FINISH_ALL_ACTIVITIES_ACTIVITY_ACTION);
    return filter;
}

protected void registerBaseActivityReceiver() {
    registerReceiver(baseActivityReceiver, INTENT_FILTER);
}

protected void unRegisterBaseActivityReceiver() {
    unregisterReceiver(baseActivityReceiver);
}

public class BaseActivityReceiver extends BroadcastReceiver{
    @Override
    public void onReceive(Context context, Intent intent) {
        if(intent.getAction().equals(FINISH_ALL_ACTIVITIES_ACTIVITY_ACTION)){
            finish();
        }
    }
} 

protected void closeAllActivities(){
    sendBroadcast(new Intent(FINISH_ALL_ACTIVITIES_ACTIVITY_ACTION));
}
  } 
```

然后你需要从这个类扩展所有其他类，就像下面的例子一样：

```
 public class FirstActivity extends AppBaseActivity implements OnClickListener {
/** Called when the activity is first created. */

private Button buttonOpenNextActivity;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.first);
    registerBaseActivityReceiver();
    buttonOpenNextActivity = (Button)findViewById(R.id.buttonOpenNextActivity);
    buttonOpenNextActivity.setOnClickListener(this);
}

@Override
protected void onDestroy() {
    super.onDestroy();
    unRegisterBaseActivityReceiver();
}

@Override
public void onClick(View v) {
    /* OPEN SECOND ACTIVITY.*/
    startActivity(new Intent(this, SecondActivity.class));
}
  } 
```

另一类：

```
 public class SecondActivity extends AppBaseActivity implements OnClickListener {
private Button buttonOpenNextActivity;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.second);
    registerBaseActivityReceiver();
    buttonOpenNextActivity = (Button)findViewById(R.id.buttonOpenNextActivity);
    buttonOpenNextActivity.setOnClickListener(this);
}

@Override
protected void onDestroy() {
    super.onDestroy();
    unRegisterBaseActivityReceiver();
}

@Override
public void onClick(View v) {
    /* OPEN THIRD ACTIVITY.*/
    startActivity(new Intent(this, ThirdActivity.class));
}
            } 
```

最后一课：

```
 public class ThirdActivity extends AppBaseActivity  implements OnClickListener  {
private Button buttonCloseAllActivities;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.third);
    registerBaseActivityReceiver();
    buttonCloseAllActivities = (Button)findViewById(R.id.buttonCloseAllActivities);
    buttonCloseAllActivities.setOnClickListener(this);
}

@Override
protected void onDestroy() {
    super.onDestroy();
    unRegisterBaseActivityReceiver();
}

 @Override
protected void onBackPressed() {
    closeAllActivities();
    super.onBackPressed();
}
} 
```

现在，当您在第三个活动中按下后退按钮时，所有其他活动也将完全完成。

1/ 不要忘记在 onCreate 中注册接收者并在 ondestroy() 中取消注册（）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-18T04:51:26.167

亲爱的，你的问题不清楚。

据我所知，您应该使用广播接收器来完成应用程序并将意图传递到主屏幕。

MoreOver 警告没什么，在运行您的应用程序之前，只需在您的代码中按 Enter 或给 sm 空间并保存它并重新运行您的应用程序。它会正常工作....

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-18T04:52:18.210

如果您想在后按时退出您的应用程序，那么您必须在按该屏幕上的后退按钮时完成所有先前的活动，为此您应该使用**BROADCAST RECIEVER**的概念......意味着您已经广播了一个意图在将完成所有先前活动的背压上。****

# c - How to find the biggest number in an array

> ID：11077022
> 
> 赞同：0
> 
> 时间：2012-06-18T04:45:34.870
> 
> 标签：c

I have an array with a size that I dont know(mostly a size of a 10), that most of it has 1's and 2's, but sometimes 3's and 4's... I cant buble sort, because the order is importhan, but other then that, I can do everything

Thanks :)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T04:49:40.970

Iterate over the array until you hit your break condition.

While iterating (use the `for` or `while` loop), remember the highest value so far and compare against current.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T05:10:49.360

I don't have access to a compiler that supports this right now, but here's a concise example of how to do it in C++11:

```
#include <iostream>

constexpr int array[10] = { 1, 0, 2, 3, 0, 2, 7, 1, 9, 2 };

template<int maxest, int index>
struct find_biggest_r {
  enum { value = find_biggest_r<(array[index] > maxest ? array[index]:maxest),index-1>::value };
};

template<int maxest>
struct find_biggest_r<maxest,0> {
 enum { value = (array[0] > maxest ? array[0] : maxest) };
};

template<int index>
struct find_biggest {
  enum { value = find_biggest_r<array[index],index-1>::value };
};

int main()
{
    std::cout << find_biggest<9>::value;
}

// 
```

Now that I'm done trolling, in C, you would do:

```
int array[4] = { 2, 1, 0, 2 };
int biggest = array[0];
for (int i = 1; i < 4; i++) { // we've already used array[0] so we start at array[1]
  if (array[i] > biggest) biggest = array[i];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T04:52:29.820

I will give only the pseudocode

```
max := array[0];

for i = 1 to size
    if(array[i] > max)
     {
        max := array[i]
     } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T04:54:38.007

start traversing the array in a for loop. Take a variable and by default put the first element in it and assume as the highest. while you traverse,when ever you find an element greater than the value in the variable just replace it. at the end of the loop the value contains the highest number.

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-18T06:48:24.997

You can try this:-

```
int max = array[0];    
for (int j = 1 to size)
{
    if(array[j] > max)
     {
        max = array[j];
     }
} 
```

# python - Python 中的 Pandas 和 NumPy+SciPy 有什么区别？

> ID：11077023
> 
> 赞同：202
> 
> 时间：2012-06-18T04:45:48.650
> 
> 标签：python, numpy, scipy, pandas

它们看起来都*非常*相似，我很好奇哪个软件包对财务数据分析更有利。

* * *

## 回答 #1

> 赞同：327
> 
> 时间：2012-06-18T05:11:17.927

pandas 提供了基于 NumPy 构建的高级数据操作工具。NumPy 本身是一个相当低级的工具，类似于 MATLAB。另一方面，pandas 提供了丰富的时间序列功能、数据对齐、NA 友好的统计、groupby、合并和连接方法，以及许多其他便利。近年来，它在金融应用中变得非常流行。在我即将出版的书中，我将有一章专门介绍如何使用 pandas 进行财务数据分析。

* * *

## 回答 #2

> 赞同：61
> 
> 时间：2012-06-18T04:51:10.193

pandas（以及几乎所有 Python 数值工具）都需要 Numpy。Pandas 并不严格要求 Scipy，但它被列为“可选依赖项”。我不会说 pandas 是 Numpy 和/或 Scipy 的替代品。相反，它是一个额外的工具，它提供了一种在 Python 中处理数字和表格数据的更简化的方式。您可以使用 pandas 数据结构，但可以自由地使用 Numpy 和 Scipy 函数来操作它们。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-11-11T01:11:56.070

Pandas 提供了一种操作表格的好方法，因为您可以轻松进行分箱（[在 Python 中将数据框分箱到 pandas 中](https://stackoverflow.com/questions/16947336/binning-a-dataframe-in-pandas-in-python)）并计算统计数据。pandas 中另一个很棒的地方是 Panel 类，您可以将一系列具有不同属性的图层连接起来，并使用 groupby 函数将其组合起来。

# c++ - 从模板类调用方法的问题

> ID：11077024
> 
> 赞同：0
> 
> 时间：2012-06-18T04:46:06.143
> 
> 标签：c++

我有一个这样的模板类方法：

```
template<class T>
static tmpClass<T>* MakeInstance(T value)
{

  tmpClass<T> *pointer = new tmpClass<T>(value);

  return pointer;
} 
```

我使用了各种方法来调用这个方法：

方式一：

```
MakeInstance<int>(val); // This is OK. 
```

方式二：

```
MakeInstance(int val); // ERROR: Expected '(' for function-style cast or type construction 
```

方式3：

```
MakeInstance(int (val)); // This is also OK. 
```

方式四：

```
MakeInstance(int, (val)); // The same issue with way 2 
```

方式5：

```
MakeInstance((int), (val)); // ERROR: Expect expression with "," 
```

方式6：

```
MakeInstance((int) val); // This is also OK. 
```

方式7：

```
MakeInstance<int val>; // ERROR: Expected ">" 
```

那么方式1、3、6有什么区别吗？为什么我们不能用“，”来分割“T”和“值”，仅仅因为我们必须严格遵循模板？但是为什么“<>”中也可以有“T”呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T04:50:31.130

在`#1`您***明确指定***要调用具有指定类型的模板函数时。

在`#3`&`#6`中，要调用的函数由***函数模板参数推导***确定。转换告诉编译器寻找一个函数，该函数需要一个，`int`因为编译器找不到它使用模板函数来生成一个。

请注意，c 风格的演员表：

```
T(val); 
```

和

```
val(T); 
```

两者都是相同的并且意思相同。

# clojure - Eclipse 下的 Noir 和 Lein

> ID：11077030
> 
> 赞同：4
> 
> 时间：2012-06-18T04:47:08.027
> 
> 标签：clojure, leiningen, noir

我正在尝试将 CCW + lein 用于 clojure devl。我构建了一个小型 Noir 应用程序，其中包含 / 命令行 lein run 页面，我可以在 localhost 看到输出

但是eclipse下怎么在CCW+Lein里面运行，我按Run，然后打开浏览器，就不行了..？有什么问题 ？如何在 Eclipse 中调试 Web 应用程序。即测试服务器是否正在运行，是否有其他与网络相关的调试？谢谢苏尼尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T08:41:06.483

您可以从 Eclipse REPL 启动应用程序。打开上下文对话框（右键单击），导航到 Clojure，然后单击 REPL 中的加载文件。之后写入`(-main)`（或手动`(server-start ...)`在 REPL.

我主要使用 Emacs 进行 Clojure 开发，因此可能有更好的方法来实现这一点。

# asp.net-mvc-3 - MultiSelectList 不突出显示以前选择的项目

> ID：11077032
> 
> 赞同：0
> 
> 时间：2012-06-18T04:47:27.030
> 
> 标签：asp.net-mvc-3, razor, listbox

在 ASP.NET MVC (Razor) 项目中，我`ListBox`在编辑视图中使用了多选选项，

**控制器**

```
 public ActionResult Edit(int id)
    {
        Post post = db.Posts.Find(id);
        string selectedValues = post.Tags; //This contains Selected values list (Eg: "AA,BB")
        ViewBag.Tagslist = GetTags(selectedValues.Split(','));
        return View(post);
    }

    private MultiSelectList GetTags(string[] selectedValues)
    {
        var tagsQuery = from d in db.Tags
                        orderby d.Name
                        select d;
        return new MultiSelectList(tagsQuery, "Name", "Name", selectedValues);

    } 
```

**HTML**

```
 <div class="editor-field">
        @Html.ListBox("Tags", ViewBag.Tagslist as MultiSelectList)
    </div> 
```

这会将项目（标签列表）加载到 中`ListBox`，但不会突出显示`Selected Values`列表中的项目。

如何解决这个问题？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:00:11.173

我怀疑你的`Post`类（你的视图是强类型的）有一个名为`Tags`. 您还可以用作助手`Tags`的第一个参数。`ListBox`这意味着助手将首先查看此属性并忽略您传递给`MultiSelectList`. 因此，设置选定值的正确方法如下：

```
public ActionResult Edit(int id)
{
    Post post = db.Posts.Find(id);
    ViewBag.Tagslist = GetTags();
    return View(post);
}

private MultiSelectList GetTags()
{
    var tagsQuery = from d in db.Tags
                    orderby d.Name
                    select d;
    return new MultiSelectList(tagsQuery, "Name", "Name");

} 
```

在视图中：

```
<div class="editor-field">
    @Html.ListBoxFor(x => x.Tags, ViewBag.Tagslist as MultiSelectList)
</div> 
```

* * *

这是一个应该说明的完整示例：

```
public class HomeController : Controller
{
    public ActionResult Index()
    {
        var post = new Post
        {
            Tags = new[] { "AA", "BB" }
        };
        var allTags = new[]
        {
            new { Name = "AA" }, new { Name = "BB" }, new { Name = "CC" },
        };
        ViewBag.Tagslist = new MultiSelectList(allTags, "Name", "Name");
        return View(post);
    }
} 
```

另外，我建议您使用视图模型，而不是将域实体传递给视图。所以在你的`PostViewModel`你将有一个名为`AllTags`type的属性`MultiSelectList`。这样你就可以摆脱弱类型`ViewBag`。

# microsoft-metro - 如何检测是否在 Metro 的 WebView 中单击了超链接？

> ID：11077034
> 
> 赞同：1
> 
> 时间：2012-06-18T04:47:31.373
> 
> 标签：microsoft-metro

无论如何，我可以通过 Metro 中的超链接值在 webview 中单击我的 c# 中的超链接吗？我正在使用 WebView..NavigateToString() 来生成内容？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-21T19:49:22.410

您可以`InvokeScript`使用自己的一些 Javascript 调用来设置侦听器，以便在用户离开您的页面时进行监听。这在 C# 中类似于以下内容：

```
var navigationListenerString = @"
(function() {
  function leavingPage() {
    window.external.notify("LEAVING PAGE");
  }
  window.onbeforeunload = leavingPage;
})()";

webView.InvokeScript("eval", new string[] { navigationListenerString }); 
```

然后您可以使用`ScriptNotify`监听您的特定消息来确定页面正在卸载并且用户正在离开。不幸的是，您无法检测到用户的去向。此外，如果超链接在新窗口中打开并且 web 视图未卸载，您也无法检测到。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T08:20:48.877

Since WebView in windows 8 doesn't support Navigating() events like the Silverlight WebBrowser control, thus it is not possible to get hyperlink or cancel navigation.

But since you're using NavigateToString() method, you can write some manual javascript code and achieve same with the help of WebView.ScriptNotify() event.

# jquery - 在调用该 ajax 调用后，页面首先得到回发

> ID：11077036
> 
> 赞同：0
> 
> 时间：2012-06-18T04:47:50.227
> 
> 标签：jquery, ajax

我的脚本中有一个 jquery 函数

```
function test(){

$.ajax({
                                    url: '/Customer/test' + '?clientId=' + val,

                                    success: function (available) {
                                        alert(available + 'success i am in the ajax');
                                        if (available == 1) {
                                            alert('no postback');
                                            return false;
                                        }
                                        else if (available == 2) {
                                            alert('no postback');
                                            return false;
                                        }
                                        else {
                                            alert('Ok,postback');
                                            return true;
                                        }

                                    }
                                }); 
```

}

我叫它

`onclick="test();"`按钮的

问题是该页面在调用 ajax 调用之后首先得到回发。但是应该在该 posback 之后调用第一个 ajax 调用

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T05:25:44.233

在你的 ajax 调用中使用**async: false**

尝试以下代码，

```
var output = $.ajax({   
                    type: "POST",                                  
                    url: "/Customer/test",
                    async: false,
                    data: "clientId="+val                                
                });    
if (output == 1) {
                  alert('no postback');
                  return false;
                  }
else if (output == 2) {
       alert('no postback');
       return false;
    }
else {
     alert('Ok,postback');
     return true;
    }                                    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T04:56:02.970

尝试将 onclick 更改为：

```
onclick="javascript:return test();" 
```

然后在其中返回 false 。

# java - MyClass.class 和 Class.forName("className") 之间的区别

> ID：11077038
> 
> 赞同：7
> 
> 时间：2012-06-18T04:47:52.207
> 
> 标签：java, reflection

我们可以通过 3 种方法获取类 Class 对象：

*   MyClass.class
*   obj.getClass
*   Class.forName("className")

我不明白:`MyClass.class`和之间的区别`Class.forName("className")`。

因为两者都需要类名。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-18T04:49:34.267

```
Class.forName("className"); 
```

forName 是类“Class”的静态方法。我们需要提供所需类的完全限定名称。这可以在运行时知道类的名称时使用。

```
ClassName.class; 
```

.class 不是方法，它是关键字，可以与 int 等原始类型一起使用。当提前知道类的名称并将其添加到项目中时，我们使用 ClassName.class

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-18T04:53:25.500

> 我不明白:`MyClass.class`和之间的区别`Class.forName("className")`。
> 
> 因为两者都需要类名。

最大的区别在于他们*何时*需要它。由于`Class.forName`接受*string*，因此可以在运行时确定类名。而当然，`MyClass.class`是在编译时确定的。这`Class.forName`对于基于配置动态加载类非常有用（例如，根据配置文件的设置加载数据库驱动程序）。

四舍五入：`obj.getClass()`很有用，因为您可能不知道对象的实际类 - 例如，在您使用接口而不是类接受参数的方法中，例如 in `foo(Map m)`。你不知道 的类`m`，只是它是实现的东西`Map`。（而且 99% 的情况下，你不应该关心它的类是什么，但那 1% 偶尔会出现。）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-08-28T06:31:58.287

一个重要的区别是：A.class 将执行类 A 的加载和链接。 Class.forName("A") 将执行类 A 的加载、链接和初始化。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T05:35:37.913

```
Class.forName("className"); 
```

它根据完全限定的类名字符串动态加载类。

```
obj.getClass 
```

返回表示对象的运行时类的 java.lang.Class 对象。

```
MyClass.class: 
```

字面量是由类、接口、数组或原始类型或伪类型 void 的名称组成的`class`表达式，后跟`a`“.”。和令牌类。的类型`C.class`，其中 C 是类、接口或数组类型的名称是`Class<C>`。

[http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf](http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf)

# javascript - 为什么有些网页的源代码都在一行？

> ID：11077039
> 
> 赞同：9
> 
> 时间：2012-06-18T04:48:03.220
> 
> 标签：javascript, html, css

在查看大量网页的源代码（如 JS、CSS、HTML）时，我会在一行中找到它们。他们是怎么做到的？他们是否使用一些工具来制作它？我们可以重构它吗？

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-18T04:52:03.410

**它是缩小的 HTML，即去掉了空格。**

有很多工具可以做到这一点，你可以通过谷歌搜索[**缩小 HTML**](https://www.google.co.nz/search?q=minify%20html&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla%3aen-GB%3aofficial&client=firefox-a)找到它们。

如他们所说，要**取消缩小**或***美化它，您可以谷歌搜索***[**美化 HTML**](https://www.google.co.nz/search?q=prettyify%20html&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla%3aen-GB%3aofficial&client=firefox-a#hl=en&client=firefox-a&hs=pS&rls=org.mozilla%3aen-GB%3aofficial&sclient=psy-ab&q=beautify%20html&oq=beautify%20html&aq=f&aqi=&aql=&gs_l=serp.3...2200.3174.1.3293.9.9.0.0.0.6.515.2291.2-1j3j1j1.6.0...0.0.0WzmVS3p0Jg&pbx=1&bav=on.2,or.r_gc.r_pw.r_qf.,cf.osb&fp=6c1b33bf8ec2cb87&biw=1440&bih=777)。

**这同样适用于 CSS。**它可以被[*缩小*](https://www.google.co.nz/search?q=minify%20css&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla%3aen-GB%3aofficial&client=firefox-a)和[*美化*](https://www.google.co.nz/search?q=minify%20css&ie=utf-8&oe=utf-8&aq=t&rls=org.mozilla%3aen-GB%3aofficial&client=firefox-a#hl=en&gs_nf=1&pq=minify%20css&cp=3&gs_id=w&xhr=t&q=beautify%20css&pf=p&client=firefox-a&hs=pd&rls=org.mozilla%3aen-GB%3aofficial&sclient=psy-ab&oq=beacss&aq=0c&aqi=g-c4&aql=&gs_l=&pbx=1&bav=on.2,or.r_gc.r_pw.r_qf.,cf.osb&fp=6c1b33bf8ec2cb87&biw=1440&bih=777)。

* * *

**[Javascript 也可以被缩小](http://www.refresh-sf.com/yui/)**，但是现在大多数工具都会混淆符号，这意味着虽然你可以美化它，但之后会更难理解。

*Javascript 缩小的替代方案是[Javascript Packer](http://dean.edwards.name/packer/)*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T04:52:03.127

使用缩小技术

一些免费工具也可用

[http://developer.yahoo.com/yui/compressor/](http://developer.yahoo.com/yui/compressor/)

[http://www.minifycss.com/minify-tools/minify-css-tools.php](http://www.minifycss.com/minify-tools/minify-css-tools.php)

[http://jscompress.com/](http://jscompress.com/)

[http://www.minifycss.com/css-compressor/](http://www.minifycss.com/css-compressor/)

[http://code.google.com/p/htmlcompressor/](http://code.google.com/p/htmlcompressor/)

它结合了多个 CSS 或 Javascript 文件，删除了不必要的空格和注释，并为它们提供 gzip 编码和最佳客户端缓存标头。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T04:52:54.720

这是使用 g 缩小工具的结果。目的是使 JavaScript 尽可能小，以便它可以尽快下载。

YUI 压缩器是其中之一，还有更多可用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T04:53:57.960

JavaScript、CSS 等代码是一种专门“压缩”**以从代码中删除多余空格的**衬里。**这减少了文件的大小，从而减少了 css 或 javaScript 文件的加载时间**......

有许多工具可用于压缩代码，例如[http://javascriptcompressor.com/](http://javascriptcompressor.com/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T05:01:01.110

我认为 uglify.js 是缩小 js 代码的好工具。参考这个链接[https://github.com/mishoo/UglifyJS](https://github.com/mishoo/UglifyJS)，值得学习。。

# math - 为什么 OpenGL 中使用了多种可能的投影矩阵定义？

> ID：11077040
> 
> 赞同：0
> 
> 时间：2012-06-18T04:48:09.667
> 
> 标签：math, opengl, glsl

我刚刚阅读[了 www.songho.ca 上的一篇文章，](http://www.songho.ca/opengl/gl_projectionmatrix.html)其中指出投影矩阵由以下内容定义：

```
[2n/(r-l) 0        (r+l)/(r-l)  0            ]
[0        2n/(t-b) (t+b)/(t-b)  0            ]
[0        0        -(f+n)/(f-n) -2*n*f/(f-n) ]
[0        0        -1           0            ] 
```

在哪里：

```
n: near
f: far
l: left
r: right
t: top
b: bottom 
```

我还在[www.geeks3d.com](http://www.geeks3d.com/20090729/howto-perspective-projection-matrix-in-opengl/)上阅读了由以下给出的替代定义：

```
[w 0 0  0]
[0 h 0  0]
[0 0 q -1]
[0 0 qn 0] 
```

在哪里：

```
w=(2*near)/(width * aspect)
h = 2near/height
q=-(far+near)/(far-near)
qn=-2*(far*near) / (far-near) 
```

`M[0][2]`为什么和`M[1][2]`（不包括一个是另一个的转置）有差异？它们产生相同的结果吗？哪一个可以在没有任何转置的情况下在 GLSL 中使用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:52:00.607

第一个矩阵允许您任意定位左侧、右侧、顶部和底部剪辑平面位置。第二个总是给你一个居中的、对称的平截头体，这是一种限制。例如，当您进行立体渲染时，您希望稍微移动左右平面。

> 顺便说一句，哪一个可以在没有任何转置的情况下在 GLSL 中使用？

这与 GLSL 无关。你可以使用任何一个。您所指的转置源于 OpenGL 内部表示矩阵的方式以及与外部世界的接口。

无论如何，您不应该将矩阵硬编码到着色器源代码中，而是通过*Uniform*提供它们。

### 更新

OpenGL对其矩阵列进行排序，即

```
0 4 8 c
1 5 9 d
2 6 a e
3 7 b f 
```

# html - 如何使超链接转到另一个网站上的页面？

> ID：11077042
> 
> 赞同：1
> 
> 时间：2012-06-18T04:48:22.217
> 
> 标签：html, hyperlink

在为我的网站创建 html 文件时，我完全理解如何创建链接以便用户可以在页面之间导航。例如，这可以很好地将某人发送到 about 页面：

```
<a href="about.html">ABOUT</a> 
```

我在将 html 文件上传到我的网络服务器时遇到问题。

如何获得关于链接以将用户发送到：www.blahblahblah.com/about？

我的登录页面已重命名为 index.html。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T04:52:00.287

您需要添加`http://`以`href`转到外部站点上的页面：

```
<a href="http://www.blahblahblah.com/about">About page on blahblahblah.com</a> 
```

这是因为当您在没有`http://`前面（超文本传输​​协议）的情况下简单地链接到它时，它正试图转到页面“www.blahblahblah.com”，这显然不在您的服务器上。当您添加 时`http://`，浏览器知道它是另一个网站，因此会将您带到外部网站。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T04:53:48.660

您的 Web 服务器将配置一个“文档根”目录。通常这是 index.html 所在的目录。将您的 about.html 放在同一目录中，*如果*您提供的链接是从相同的 URL 路径提供的（也就是说，它不在子文件夹中），则您提供的链接将链接到它。如果您的文件确实位于文档根目录中，您可以在链接 href 属性前面加上正斜杠，这表明路径是相对于文档根目录的。

如上一条评论所述，此技术仅适用于在同一主机上彼此托管在同一目录中的页面。如果文件位于不同的目录中，则*必须*以斜杠开头，如果它们位于不同的主机上，则必须包含完整的域和路径。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T05:37:50.780

他的意思是这样的：

```
<input type="button" value="SampleText" onClick="window.location='http://www.blahblahblah.com/about';"> 
```

这将在新窗口中打开它：

```
<input type="button" value="SampleText" onclick="window.location='http://www.blahblahblah.com/about';" target="_blank"> 
```

# jquery - Jquery Mobile - 我可以在没有 rel=external 的情况下触发 javascript 吗？

> ID：11077045
> 
> 赞同：0
> 
> 时间：2012-06-18T04:48:42.207
> 
> 标签：jquery, jquery-mobile

我正在使用 Jquery Mobile 构建移动网站。我还想实现一个基于 javascript 的跟踪系统，就像 Google Analytics 一样。但是使用 Jquery Mobile，缓存非常可靠，除非我在每个链接上放置 rel=external，否则它链接到的页面不会执行页面上的 javascript，因此不会进行跟踪。由于性能问题，我想利用移动缓存，但我还需要跟踪页面。有没有办法做到这一点？

感谢您提供的任何建议。

示例：[http](http://wec.gfx.com) ://wec.gfx.com （移动端）

第一个页面是启动页面，如果不添加 rel=external 到链接，菜单页面（第 2 页）不会被跟踪。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:08:43.400

`pagebeforeshow`您可以在每个页面的事件中调用您的 JS 。

# c++ - WM_COMMAND 未传递到主窗口

> ID：11077048
> 
> 赞同：0
> 
> 时间：2012-06-18T04:49:16.577
> 
> 标签：c++, winapi, windows-messages

我想在静态控件 (WC_STATIC) 上放置一个编辑控件 (WC_EDIT)。不幸的是，当我这样做时，我没有从 windows 回调函数中的编辑控件收到任何 WM_COMMAND 消息。是否有可能告诉静态控件将这些消息转发给它的父级？

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:02:22.640

如果我理解正确，编辑控件的父级是静态控件。如果是这种情况，您将需要使用带有 GWLP_WNDPROC 标志的*SetWindowLongPtr*对静态控件进行子类化，然后将消息转发到您想要的任何位置。

# url - 需要找到直接下载地址

> ID：11077056
> 
> 赞同：0
> 
> 时间：2012-06-18T04:50:13.067
> 
> 标签：url, download, social

在我的一个社交网站中，我确实有下载文件的链接，当我登录到我的帐户时我可以下载。[http://sitename.com/mysocial/file/download/20192](http://sitename.com/mysocial/file/download/20192)

因此，当我登录帐户后单击它时，它可以让我下载。从下载对话框，我复制了下载网址，网址还是“http://sitename.com/mysocial/file/download/20192”，我下载的文件是greatshot.jpg，并尝试与朋友分享下载链接，但是我的朋友不能全部下载。他们可能需要下载到帐户。

如何找到直接下载链接，文件在哪里，我需要找到完整路径和文件位置，例如[http://sitename.com/mysocial/file/greatshoot.jpg](http://sitename.com/mysocial/file/greatshoot.jpg)。但我根本找不到文件。下载时如何轻松找到直接文件位置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:03:38.490

如果您使用的网站足够安全 - 您将无法共享链接：
创建一个动态页面（例如在 PHP 或 JSP 中）检查会话并且仅在它验证您是登录后，它可以让您访问数据，例如图像文件。

如果您仍想共享图片，您可以自己将其上传到 picasa/dropbox 或任何其他文件共享网站，并将您的朋友指向那里。

# php - Jquery - 需要使用帮助

> ID：11077059
> 
> 赞同：-1
> 
> 时间：2012-06-18T04:50:42.253
> 
> 标签：php, jquery

这是在 jquery 函数中使用 php 脚本的正确方法吗？pathToTabImage 变量

```
<script type="text/javascript">
    $(function(){
        $('.slide-out-div').tabSlideOut({
            tabHandle: '.handle',                     //class of the element that will become your tab
            pathToTabImage: '<?php echo $this->baseurl ?>/templates/<?php echo $this->template; ?>/images/ack.jpg';, //path to the image for the tab //Optionally can be set using css
            alert(pathToTabImage);
            imageHeight: '122px',                     //height of tab image           //Optionally can be set using css
            imageWidth: '125px',                       //width of tab image            //Optionally can be set using css
            tabLocation: 'right',                      //side of screen where tab lives, top, right, bottom, or left
            speed: 600,                               //speed of animation
            action: 'click',                          //options: 'click' or 'hover', action to trigger animation
            topPos: '600px',                          //position from the top/ use if tabLocation is left or right
            leftPos: '550px',                          //position from left/ use if tabLocation is bottom or top
            fixedPosition: false                      //options: true makes it stick(fixed position) on scroll
        });

    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T04:51:59.307

删除分号。

`/images/ack.jpg';,`

至

`/images/ack.jpg',`

此外，这`alert`对你也没有任何好处，需要去。

`alert(pathToTabImage);`

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-18T05:37:07.850

它是注入 PHP 代码的可用方法之一，以 HTML、CSS 或 JS 文档/片段的形式注入。但是，从语法上讲，几乎没有错误。

**PHP 错误**

```
<?php echo $this->baseurl ?> 
```

结束语句上没有分号

**JavaScript 错误**

```
pathToTabImage: '...';, //... 
```

不需要的分号，以不正确的方式结束语句

```
alert(pathToTabImage); 
```

在另一个语句中注入一个独立语句

# playframework - How do you access static variables in the Global object

> ID：11077063
> 
> 赞同：0
> 
> 时间：2012-06-18T04:51:31.140
> 
> 标签：playframework, playframework-2.0

So I have created a global class which extends globalsettings:

```
public class Global extends GlobalSettings {
private Thread thread = new Thread();

@Override
public void onStart(Application app) {
    ....
public void write(byte[] bytes) {
    .... 
```

Which has a Thread in it as I am listening to a socket, so I need it up and running all the time. I tried to use Actors and had a class that extends UntypedActor but it seemed to be very hackish and I had to at the end of the call to the actor make it call itself.

I also need to write to the socket. which I have a method called write which writes to the socket. What I would like to do is from one of my methods call the global objects write method. Is there a way I can do this? Atm my Global object is not in a package. Do I need to put it into a package to get it to work?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T23:51:46.400

Ok so I solved my problem using the singleton pattern. Created an object called ThreadSingleton so that I could access it from anywhere.

For more information check out this link: [http://en.wikipedia.org/wiki/Singleton_pattern](http://en.wikipedia.org/wiki/Singleton_pattern)

# java - 自动将文件从 Windows 机器上传到 Linux 服务器？

> ID：11077064
> 
> 赞同：1
> 
> 时间：2012-06-18T04:51:33.107
> 
> 标签：java, linux, file-upload

我有一个 Web 应用程序，它处理从不同客户端机器（1000-1500 台客户端机器）收集的数据并以图形格式显示结果。

客户端机器会定期生成一个 Excel 表，该 Excel 表需要每 30 分钟后传输到服务器。

我希望您帮助确定编写此客户端组件 (Windows) 的正确方法，该组件将在指定的持续时间后自动生成并上传 Excel 表。我还想帮助确定服务器组件的正确方法，该组件将接收并保存客户端上传的数据。

我们应该为服务器端组件使用类似 FTP 的实现吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T04:58:27.947

由于您已经有一个 Web 应用程序，那么使用 HTTP 协议会更容易，因为您可以（可能）轻松创建一个新的请求处理程序来接受文件。

创建一个接受对 URI 的 POST 请求并将请求正文作为 Excel 电子表格的新路由。此路由的处理程序将处理文件的存储和处理。客户端只需要知道正确的路由并正确提交 HTTP 请求。

由于更好的安全性和对 SCP/SFTP 和 HTTP 等较新协议的库支持，FTP 是一种有点过时的协议。

# android - 通过设备的分辨率定义 xml 布局

> ID：11077066
> 
> 赞同：0
> 
> 时间：2012-06-18T04:51:48.683
> 
> 标签：android, android-layout

我的任务是为设备提供 < 1024x800 分辨率的一组布局和 >=1024x800 - 另一个。

下面是我正在使用的一些代码。关于 _isTablet 标志应用程序可以决定它应该使用哪个布局。

你认为这是一个不错的策略还是我应该考虑另一种功能来实现***基于分辨率***的设计布局隔离？谢谢。

```
Display display = ((WindowManager) getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();
    final int height = display.getHeight();
    final int width = display.getWidth();

    _leadingSideResolution = Math.max(height, width);
    if (_leadingSideResolution <= HANDSET_LAYOUT_RESOLUTION) {
            _isTablet = false;
    } else if(_leadingSideResolution > HANDSET_LAYOUT_RESOLUTION 
                && _leadingSideResolution <= TABLET_LAYOUT_RESOLUTION) {
            _isTablet = true;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:09:32.010

试试这个代码来检查设备是否是平板电脑

```
 public  boolean onTablet()
   {
     int intScreenSize = context.getResources().getConfiguration().screenLayout &   Configuration.SCREENLAYOUT_SIZE_MASK;

     return (intScreenSize == Configuration.SCREENLAYOUT_SIZE_LARGE) // LARGE
     || (intScreenSize == Configuration.SCREENLAYOUT_SIZE_LARGE + 1); // Configuration.SCREENLAYOUT_SIZE_XLARGE
    }  

    if(!onTablet())
    {
        setContentView(R.layout.not_tablet_layout);
    }
     else
    {
       setContentView(R.layout.tablet_layout); 
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:25:16.873

对于支持安卓移动设备和平板，安卓提供了一个非常简单的解决方案。您可以从以下网址获取：http: [//developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)

从这里请阅读：

```
 1\. How to Support Multiple Screen
 2\. Designing alternative layouts and drawables
 3\. Declaring Tablet Layouts for Android 3.2
 4\. Configuration examples 
```

# php - 通过 postgres 中的单个查询访问一组值

> ID：11077074
> 
> 赞同：0
> 
> 时间：2012-06-18T04:52:20.553
> 
> 标签：php, javascript, ajax, postgresql

我第一次尝试使用 postgres .. 我想从名为 testArray 的数组中的值中检索值公司名称

我写的ajax请求是

```
$(document).ready(function()
{

var testArray=[0001001871, 0001001843, 0001001853];

        $.ajax({
        type:'GET',
        url: 'php/databaseAccess.php',
        data: {'CIKs': testArray},
        success: function(success)
            {
            document.write(success);
            }

    });
 }); 
```

我用来访问 db 的 PHP 文件是

```
<?php
 $link = pg_connect("host=hostname dbname=dbNAme user=username password=password");
 if(!$link)
 {
 //echo "Connection cannot be established";
 exit;
  }

 else
 {
 $cik_array = $_GET['CIKs'];
 $safe_ciks = array();
 foreach($cik_array as $cik)
 {
$safe_ciks[] = pg_escape_string($cik);
}
$in_string = "'" . implode("','", $safe_ciks) . "'";

 $result = pg_exec($link, "select company_name from company_names where cik=".$in_string);

 if (!$result) {
 //echo "<br> Could not successfully run query from DB";
exit;
}

else
{
 echo "<br> Query Executed Successfully<br>";

 echo pg_result($result, 0);
 }
 }
 ?> 
```

此代码只会输出带有cik 0001001807的公司名称，我想通过单个查询本身获取数组“testArray”中所有值的公司名称。这怎么可能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:05:45.227

SQL 查询应该是

```
SELECT 
    company_name
FROM
    company_names
WHERE
    cik= IN('0001001807','0001001843', '0001001853') 
```

这将返回该列表中带有 CIK 的所有公司名称。IN 参数接受逗号分隔的值列表。

在传递 CIK 数组方面，您可以更改 Ajax 请求的“数据”参数以发送 CIK。

```
 data: {'CIKs': testArray}, 
```

我相信这会将所有 CIK 传递给 databaseAccess.php，然后可以通过以下命令访问

```
$cik_array = $_GET['CIKs'];
//escape the CIKs, to prevent SQL injection
$safe_ciks = array();
foreach($cik_array as $cik)
{
    $safe_ciks[] = pg_escape_string($cik);
}
//get the CIKs in a format compatible with the IN function
$in_string = "'" . implode("','", $safe_ciks) . "'"; 
```

这将产生 $in_string，它可以与上面的 SQL 查询一起使用。

# ios - 旋转后移动子视图，无法正常工作

> ID：11077075
> 
> 赞同：2
> 
> 时间：2012-06-18T04:52:24.743
> 
> 标签：ios, uiimageview, rotation, subview

我在 中添加了一个`UIImageView`作为子视图`UIView`，然后在 中使用以下代码移动此子视图`UITouchesBegan`。

```
CGPoint newTouch = [[touches anyObject] locationInView:self]; 
     CGPoint lastTouch = [[touches anyObject] previousLocationInView:self];

    float xDif = newTouch.x - lastTouch.x; 
    float yDif = newTouch.y - lastTouch.y;
    translate = CGAffineTransformMakeTranslation(xDif, yDif);
    [self setTransform: CGAffineTransformConcat([self transform], translate)]; 
```

然后我用下面的代码旋转这个子视图。

```
self.transform=CGAffineTransformRotate(self.transform, RADIANS(180)); 
```

在这个阶段，一切都很好..但是当我再次尝试移动我的子视图时，它会向相反的方向移动，即当我想向上移动它时，它会向下移动。

有任何想法吗？建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:17:00.997

为什么要使用翻译变换移动子视图？只需更新`center`属性。使用平移变换的问题在于，如果它被旋转，它确实会在相对于当前旋转的方向上平移（这可能不是您所期望的，正如您所发现的那样）。如果您想坚持使用平移变换（再次，为什么？），那么您需要确保您旋转回 0（中性），进行位置平移，然后旋转回您想要的旋转。

转换顺序很重要。

# c# - 如何将控制台应用程序更改为 Windows 窗体应用程序？

> ID：11077081
> 
> 赞同：11
> 
> 时间：2012-06-18T04:53:07.200
> 
> 标签：c#, windows, console

我一直在开发一个控制台应用程序，直到我们的项目需要一个花哨的 UI 来配合它，所以我们决定将项目类型更改为 windows 窗体应用程序。我们尝试将下面的代码放入我们的入口点：

```
 Application.EnableVisualStyles();
        Application.SetCompatibleTextRenderingDefault(false);
        Application.Run(new UI()); 
```

它有点工作，但原来的控制台窗口仍然存在。

我已经用谷歌搜索了一些像[这样](http://social.msdn.microsoft.com/Forums/eu/csharpgeneral/thread/ea8b0fd5-a660-46f9-9dcb-d525cc22dcbd)的有用信息，但他们所做的实际上是在创建窗口后将其杀死，而不是解决问题的根源。那么有没有更优雅的方法来做到这一点？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-18T05:01:31.500

在解决方案资源管理器中右键单击您的项目并选择属性。然后，在“应用程序”选项卡下，将项目的“输出类型”从“控制台应用程序”更改为“Windows 应用程序”。</p>

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T05:01:53.307

项目类型需要在项目属性中设置为`Winexe`（取决于 IDE，也称为*Windows 应用程序*）而不是`Exe`（取决于 IDE，也称为*控制台应用程序*）。

# linq - Linq 在给定日期前 7 天获取

> ID：11077097
> 
> 赞同：0
> 
> 时间：2012-06-18T04:55:20.007
> 
> 标签：linq

请问是否可以使用 linq 查询获取给定日期的所有 7 天？

我可以使用其他方法来填充列表，但如果可能的话，我认为使用 2 行 LINQ 是明智的。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:01:26.857

哈克但

```
IEnumerable<DateTime> getDays(DateTime date) {

    return Enumerable.Range(0, 7).Select(n => date.AddDays(-1 * n));
} 
```

注意：没有测试并且对日期方法不积极。

# c# - C#中的谷歌地图网络服务

> ID：11077102
> 
> 赞同：0
> 
> 时间：2012-06-18T04:56:11.703
> 
> 标签：c#, asp.net, web-services, google-maps-api-3

是否可以将谷歌地图 API v3(javascript) 包装在 .net 网络服务中？我希望用户调用从此 Web 服务公开的功能以在网页上显示地图。此 Web 服务将在远程 Web 服务器上运行。几个（比如说 20 个）网站可以使用相同的服务来显示/交互地图。如果我们希望在网站中添加任何功能/特性，Web 服务将很有帮助。我们只需要在一个地方（服务）更改代码，新功能将反映在每个使用该服务的网站上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:14:03.397

上次我检查你只能在浏览器中直接使用谷歌地图（通过他们的 Java 脚本 API）。我认为做你想做的事需要你直接访问他们的地图图块，据我所知，这是不允许的。

如果你真的需要使用谷歌地图和网络服务，你可以做的是让网络服务为你提供一组点，你可以使用某种标签来识别点之间，因此应用不同的标记（这应该使您的应用程序更易于维护）。这些点将采用 GPS 坐标的形式，然后由 Google Maps 通过 Google 的 v3 GoogleMaps API 直接呈现。

# c++ - 何时使用移动构造函数/分配

> ID：11077103
> 
> 赞同：9
> 
> 时间：2012-06-18T04:56:20.283
> 
> 标签：c++, c++11, move-semantics

我已经搜索但找不到“何时”使用它们的答案。我只是一直听说它很好，因为它为我节省了额外的副本。我到处把它放在我上过的每一堂课中，但是对于某些课来说这似乎没有意义：S 我已经阅读了无数关于 LValues 和 RValues 以及 std::move vs. std::copy vs. memcpy 的教程与 memmove 等相比，甚至还阅读了 throw()，但我也不确定何时使用它。

我的代码如下所示：

```
struct Point
{
    int X, Y;

    Point();
    Point(int x, int y);
    ~Point();

    //All my other operators here..
}; 
```

然后我有一个类似的类数组（RAII sorta thing）：

```
class PA
{
    private:
        std::vector<Point> PointsList;

    public:
        PA();
        //Variadic Template constructor here..
        ~PA();
        //Operators here..
 }; 
```

我应该使用移动构造函数和复制构造函数吗？我在 Point Class 有它，但感觉很奇怪，所以我把它删除了。然后我在 PA 课上有了它，但我认为它不会做任何事情，所以我也删除了它。然后在我的位图类中，我的编译器抱怨有指针成员但没有重载，所以我做了：

```
//Copy Con:
BMPS::BMPS(const BMPS& Bmp) : Bytes(((Bmp.width * Bmp.height) != 0) ? new RGB[Bmp.width * Bmp.height] : nullptr), width(Bmp.width), height(Bmp.height), size(Bmp.size), DC(0), Image(0)
{
    std::copy(Bmp.Bytes, Bmp.Bytes + (width * height), Bytes);
    BMInfo = Bmp.BMInfo;
    bFHeader = Bmp.bFHeader;
}

//Move Con:
BMPS::BMPS(BMPS&& Bmp) : Bytes(nullptr), width(Bmp.width), height(Bmp.height), size(Bmp.size), DC(0), Image(0)
{
    Bmp.Swap(*this);
    Bmp.Bytes = nullptr;
}

//Assignment:
BMPS& BMPS::operator = (BMPS Bmp)
{
    Bmp.Swap(*this);
    return *this;
}

//Not sure if I need Copy Assignment?

//Move Assignment:
BMPS& BMPS::operator = (BMPS&& Bmp)
{
    this->Swap(Bmp);
    return *this;
}

//Swap function (Member vs. Non-member?)
void BMPS::Swap(BMPS& Bmp) //throw()
{
    //I was told I should put using std::swap instead here.. for some ADL thing.
    //But I always learned that using is bad in headers.
    std::swap(Bytes, Bmp.Bytes);
    std::swap(BMInfo, Bmp.BMInfo);
    std::swap(width, Bmp.width);
    std::swap(height, Bmp.height);
    std::swap(size, Bmp.size);
    std::swap(bFHeader, Bmp.bFHeader);
} 
```

它是否正确？我做了什么坏事或错事吗？我需要 throw() 吗？我的赋值和移动赋值运算符真的应该是一样的吗？我需要复印作业吗？啊这么多问题：c 我问的最后一个论坛无法回答所有问题，所以我很困惑。最后我应该使用 unique_ptr 作为字节吗？（这是一个字节/像素数组。）

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-18T05:27:55.717

[Scott Meyer 的博客](http://scottmeyers.blogspot.in/2012/04/stdstring-sso-and-move-semantics.html)上有一些很棒的想法：

> 首先，并不是所有的复制请求都可以被移动代替。只有右值的复制请求才有资格进行优化。其次，并非所有类型都支持比复制操作更有效的移动操作。一个例子是 std::array。第三，即使是支持高效移动操作的类型也可能仅在某些时候支持它们。恰当的例子：std::string。它支持移动，但在使用 SSO（小字符串优化）实现 std::string 的情况下，小字符串的移动与复制一样昂贵！

也许，您可以相应地对您的类型进行分类，然后决定哪些都*需要*移动语义。请注意，编译器自动生成移动 ctors/赋值运算符存在限制，因此建议您牢记这些限制。当您*明确*指定移动成员时，这会有所帮助。

对于没有明确指定移动成员的类，有一些麻烦。还有一个显式/隐式*删除*的移动成员的问题，它禁止从*rvalues*复制。可以在 Stroustrup 的题为[To Move 或 Not to Move](http://www.stroustrup.com/move.pdf)的论文中找到关于隐式生成 move 成员的一个非常有价值的问题来源。

关于移动语义的异常处理，我建议 Dave Abraham 的帖子[Exceptionally Moving](http://cpp-next.com/archive/2009/10/exceptionally-moving/)。

*当我有时间时，我会尝试通过一些示例回到这个答案。希望上述链接暂时可以帮助您入门。*

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2018-10-19T08:07:09.190

**首先也是最重要的：**尽可能使用“**零规则”。**参见“[三/五/零规则](https://en.cppreference.com/w/cpp/language/rule_of_three)”和“ [C-20](https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#Rc-zero) ”。

因此：您的“奇怪”感觉是正确的：`Point`并且`PA`不需要明确的复制/移动运算符。否则，[dirkgently](https://stackoverflow.com/a/11077345/6159921)和[dirvine](https://stackoverflow.com/a/11087912/6159921)的答案及其参考文献是很好的阅读材料，可以更深入地理解。

至于`BMPS`提供显式移动运算符当然是个好主意。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-18T17:24:34.403

虽然移动是包中的一个非常好的工具，但它允许的不仅仅是速度。使用 move 您正在移动对象（显然）并且没有留下任何东西（除了空的尸体，或者更准确地说是默认构造的对象）。这会迫使您在喜欢移动对象时更仔细地考虑程序的所有权和设计。移动不是对某些对象的多次访问或共享，而是清楚地迫使您考虑谁拥有该对象以及何时拥有该对象。

正如 Bjarne Stroustrup 之前所说，我们应该停止分享所有内容并停止到处提供指针。如果使用指针，则使用 unique_ptr 而不是 shared_ptr，除非您绝对想要共享所有权（在许多情况下您不想共享所有权）。Unique_ptr 和它只是移动（无论如何都删除了副本）构造函数是一个很好的例子，它应该提供移动而不是复制的对象。

移动很棒，编写移动构造函数是一个非常好的主意，当 msvc 赶上并允许在其他编译器生成（复制/分配等）构造函数上删除/默认装饰器时更好。尝试访问以前删除的成员之类的错误在这里非常有用，只是将一些构造函数设为私有对代码维护者来说不太明显。在复制可以但首选移动的情况下，编译器希望尽可能选择移动（即使用 vector.push_back 进行测试，如果合理，一些编译器将移动或 emplace_back，购买即时性能提升），*因此即使在复制构造函数对象中可以自动选择定义的移动构造函数以提高性能*（忽略目前正在激烈的所有 SSO 讨论）。[这是一个体面的细读答案](https://stackoverflow.com/questions/3106110/can-someone-please-explain-move-semantics-to-me)

在 boost 邮件列表中有一些关于移动/复制和传递值/引用的优势/劣势的非常重要的线程，如果您正在寻找更多信息，它们都在谈论类似的问题。

# mongodb - 如何在mongodb中查询特定的内部对象？

> ID：11077104
> 
> 赞同：-1
> 
> 时间：2012-06-18T04:56:29.300
> 
> 标签：mongodb

我有一个这样的“测试用例”集合，测试构建有很多测试用例日志，测试用例日志有很多标签。例如，我有一个查询，其中标签应该有“tag1”。

```
db.test_builds.find({"logs.tags" : "tag1"}) 
```

问题是它获取了测试构建的所有测试用例日志。但我只想要存在“tag1”的测试用例日志。

例如：

```
{
  "name" : "TestBuild1"
  "logs: [
    {"name" : "Log1"
    "tags" : ["tag1","tag2"]},
    {"name" : "Log2"
    "tags" : ["tag3","tag4"]}
  ]
} 
```

上面的查询返回整个测试版本，但我只想使用“Log1”而不是“Log2”来获取测试版本。这怎么可能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:40:37.770

在 MongoDB 中，您不能从数组中提取部分元素。您需要在客户端将其过滤掉或按照[此处的说明进行映射/减少](https://stackoverflow.com/questions/3985214/mongodb-extract-only-the-selected-item-in-array)

# c# - 使用 EPPlus (asp.net) 在 Excel 中转换为整数

> ID：11077106
> 
> 赞同：5
> 
> 时间：2012-06-18T04:56:35.233
> 
> 标签：c#, asp.net, vb.net, excel, epplus

我正在使用`LoadFromDataTable`方法将数据从数据表加载到 excel 中，然后将单元格格式更改为整数，但仍然显示错误**“此单元格中的数字被格式化为文本或前面带有撇号”**。

单元格仅显示在右侧，仅在单元格属性上显示数字格式。

我仍然不明白为什么我会收到这个错误？？？。

```
Dim wsManufacturing As ExcelWorksheet = pck.Workbook.Worksheets.Add("Manufacturing")
wsManufacturing.Cells("A1").LoadFromDataTable(dtManufacturing, True)
 Using col As ExcelRange = wsManufacturing.Cells(2, 2, 2 + dtManufacturing.Rows.Count, 2)
    col.Style.Numberformat.Format = "#,##0"
    col.Style.HorizontalAlignment = ExcelHorizontalAlignment.Right
 End Using 
```

![在此处输入图像描述](../Images/7f908beff375ec7729a8dea098a41e2c.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-05T09:51:34.123

你可以这样做：

```
//strValue="98.5%";
double realValue=double.Parse(strValue.Replace("%", string.Empty));
Worksheet.Cells[row + 1, col].Style.Numberformat.Format = "#0\\.00%";
Worksheet.Cells[row + 1, col].Value = realValue; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-19T01:07:21.763

将格式从文本更改为数字不会更改格式更改之前单元格中条目的性质。

更改最初是数字文本表示的条目

1.  将单元格格式更改为数字
2.  在某个单元格中输入 1
3.  编辑/复制
4.  选择带有文本编号的单元格
5.  选择性粘贴/相乘
6.  删除原来的 1

# java-me - 在 j2me 中创建 Jar

> ID：11077108
> 
> 赞同：2
> 
> 时间：2012-06-18T04:56:51.473
> 
> 标签：java-me, executable-jar

我在 j2me 中开发了一个应用程序，为该应用程序创建了一个 jar。现在我希望这个 jar 可以在另一个应用程序中使用。我在我的第一个应用程序中导入了该 jar，但是当我尝试在我的类（代码）中导入该 jar（例如`import.org`：）时，该 jar 文件未显示为选项。创建要在另一个项目中使用的 jar 时有什么要做的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T04:18:23.160

你可以试试这个，效果很好：

> 1.  创建没有任何 midlet 的新项目。
> 2.  在图书馆中创建您想要的课程。
> 3.  编译所有类。
> 4.  右键单击项目并选择属性。
> 5.  单击创建 Jar 并为 Jar & Jad 命名
> 6.  现在清理并构建您的项目。
> 7.  您的库已准备好在 jar 文件中使用。

请参阅[在 j2me 中创建库](https://stackoverflow.com/questions/9495340/create-library-in-j2me/9495719#9495719)。

# facebook - Facebook 应用程序：查看您应用程序的所有分数？

> ID：11077112
> 
> 赞同：1
> 
> 时间：2012-06-18T04:57:12.783
> 
> 标签：facebook, facebook-graph-api, facebook-apps

我的游戏存在问题，让人们很容易伪造他们的分数。作为管理员，我如何查看所有分数以便删除违规分数？我不想删除所有分数，我知道这是可能的。

我浏览了我的应用程序页面，包括洞察力，但在任何地方都看不到分数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:02:44.143

据我所知，如果不查询每个用户的分数，就无法做到这一点（如果您从 /your_app_id/scores 获得访问令牌，您也可以查询用户朋友的分数）。

我也为此寻找了一个 API（即使是为了获得最高的全球分数），但一直找不到。

# python - 使用 Python 的 CLI 前端：如何将字符串传递给正在运行的进程？

> ID：11077117
> 
> 赞同：0
> 
> 时间：2012-06-18T04:58:00.133
> 
> 标签：python, process, fork, subprocess, stdin

如何将字符串/数据发送到 python 中正在运行的进程的 STDIN？

我想为 CLI 程序创建一个前端。例如。我想将多个字符串传递给这个 Pascal 应用程序：

```
program spam;
var a,b,c:string;
begin
while e <> "no" do
begin
    writeln('what is your name?');
    readln(a);
    writeln('what is your quest?');
    readln(b);
    writeln('what is your favorite color?');
    readln(c);
    print(a,b,c);
end;
end. 
```

我如何从 python 将字符串传递给这个程序（使用 python 中的子进程模块）。谢谢你。对不起我的英语不好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:56:08.167

如果您想控制另一个交互式程序，可能值得尝试[Pexpect 模块](http://www.noah.org/python/pexpect/)来执行此操作。它旨在寻找提示信息等，并与程序进行交互。请注意，它目前不能直接在 Windows 上工作 - 它在 Cygwin 下工作。

一个可能的非 Cygwin Windows 变体是[WinPexpect](https://bitbucket.org/geertj/winpexpect/wiki/Home)，我通过[这个问题](https://stackoverflow.com/q/1042778)找到了它。该问题的一个答案表明最新版本的 WinPexpect 位于[http://sage.math.washington.edu/home/goreckc/sage/wexpect/](http://sage.math.washington.edu/home/goreckc/sage/wexpect/)，但查看修改日期我认为是 BitBucket（第一个链接) 实际上是最新的。

由于 Windows 终端与 Unix 终端有些不同，我认为没有直接的跨平台解决方案。但是，WinPexpect 文档说它和 pexpect 在 API 上的唯一区别是 spawn 函数的名称。您可能可以执行以下（未经测试）代码以使其在两者中都可以工作：

```
try:
    import pexpect
    spawn = pexpect.spawn
except ImportError:
    import winpexpect
    spawn = winpexpect.winspawn

# NB. Errors may occur when you run spawn rather than (or as
# well as) when you import it, so you may have to wrap this 
# up in a try...except block and handle them appropriately.
child = spawn('command and args') 
```

# c# - 无法访问数据库，用户拒绝访问

> ID：11077123
> 
> 赞同：0
> 
> 时间：2012-06-18T04:59:29.553
> 
> 标签：c#, .net, mysql

将我的应用程序与我网站上的数据库连接时收到此错误消息。如果我尝试在我的计算机上使用 XAMPP，它运行良好。

仅供参考，用户名和密码与我使用 XAMPP 创建的用户名和密码相同。并授予特权。

这是连接字符串。比如服务器是174.125.80.140，数据库名是myDB，Uid是alfred，密码是Alfred111。

```
MySqlConnection conn = new MySqlConnection("Server=174.125.80.140; Database=myDB;Uid=alfred;Pwd=Alfred111;"); 
```

我正在使用 MySQL 客户端版本：4.1.22。我仍然无法访问数据库。有什么解决办法吗？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-04T04:37:02.920

如果您使用的是 MySQL 工作台，1）启动工作台 2）单击“安全”下的“用户和权限”选项 3）单击添加用户（针对特定用户），这更安全，因为它可以让您处理谁有权访问通过您的数据库并让您控制访问。

但是，如果您想授予对诸如 c# 应用程序之类的应用程序的大量用户的访问权限，则从您在上面设置的用户权限中硬编码应用程序中的用户名和密码。

希望这有帮助（^_^）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:31:14.577

是的，您可能已经正确提供了用户名和密码，但是您是否将服务器（*新服务器*）配置为接受`Uid=alfred;Pwd=Alfred111;`？

**[在 MySQL 服务器中添加用户](http://dev.mysql.com/doc/refman/4.1/en/adding-users.html)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T05:31:30.157

如果您的应用程序与 MySQL 服务器位于不同的主机上，那么您很可能需要添加一个新用户来授予该主机的权限。您的`alfred`用户可能被允许`localhost`，仅此而已。尝试`CREATE USER 'altred@'%' identified by 'password';`然后授予该用户权限`myDB`。

您也可以替换`%`为特定的 IP 地址或主机名，`%`允许来自不一定安全的任何主机的连接。

您可以尝试以下查询以查看允许的用户/主机组合：

```
SELECT `User`, `Host` FROM `mysql.user` 
```

希望有帮助。

# image-processing - 是左对齐还是右对齐数据？

> ID：11077125
> 
> 赞同：1
> 
> 时间：2012-06-18T04:59:33.033
> 
> 标签：image-processing, opencv, pixel

我使用以太网相机拍摄了一张图像。图像为 12 位。我通过在十六进制编辑器中打开原始数据确认了这一点。为了获得饱和值，我将一张白纸放在白光下并拍摄了图像。数据是这样来的：

```
 (FF)(0F)(FF)(0F)(FF)(0F)(FF)(0F)(FF)(0F)(FF)(0F)(FF)(0F)(FF)(0F)(FF)(0F)(FF)(0F)(FF)(0F) 
```

等等。

是左对齐还是右对齐？在此图像的某些处理过程中，我是否需要处理溢出问题？如果是怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T16:07:41.083

标准成像器约定是数据从左到右从上到下。我的猜测是，虽然您的成像器是 12 位传感器，但它会以 16 位格式对齐输出数据，以便于查看数据，这样您就不必执行任何数据移位等...

我认为您的实际值是： 0x0FFF 因此您需要进行字节交换才能获得真正的 16 位值。

# javascript - 用于设置初始比例的 JavaScript 是否可以在之前有一个 JavaScript 函数  设置比例数字，以正确定位每个移动设备的宽度？例如在我们的 JavaScript 中 问问题 问问题 2012-06-18T04:59:50.520 4114 次 This question shows research effort; it is useful and clear 0 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 是否可以在之前有一个 JavaScript 函数  设置比例数字，以正确定位每个移动设备的宽度？例如在我们的 JavaScript 中 if (window.devicePixelRatio == 0.75) 我们制作元标记：  和 if (window.devicePixelRatio == 1.5) 我们制作元标记：  所以页面加载时，它会放大或缩小，以完全适合设备宽度。 如果可能的话，请您发布一个示例。 好的，经过长时间的研究，我找到了解决这个问题的方法。我没有找到通过 JavaScript 控制比例的方法，但我找到了另一种实用的方法。我希望它对其他编码员有用。 假设您的页面宽度为 250 像素，并且您想为 android 做一个 webview 应用程序。而且您的页面没有响应，因此您的宽度固定。你也试过 <元名称=“视口”内容=“宽度=250”> 它不适合你。 使用它将 .css 添加到您的页面，并根据需要调整数字。 @media screen and (max-width: 320px) { html { zoom: 120%; } } @media screen and (max-width: 400px) { html { zoom: 150%; } } @media screen and (max-width: 800px) { html { zoom: 220%; } } @media screen and (min-width: 801px) { html { zoom: 230%; } } 所以页面与他们的元素很好地缩放，以适应打开你的 webview 应用程序的 android 设备。我通过 android 获得的大多数宽度是 240 320 400 480 533 600 800 或者你可以为每 50 或 100 计算它，你有一个缩放值 250 300 350 400 .. 等等 javascripthtmlmobileviewport 4 1 回答 1 This answer is useful 1 好的，经过长时间的研究，我找到了解决这个问题的方法。我没有找到通过 JavaScript 控制比例的方法，但我找到了另一种实用的方法。我希望它对其他编码员有用。 假设您的页面宽度为 250 像素，并且您想为 android 做一个 webview 应用程序。而且您的页面没有响应，因此您的宽度固定。你也试过 <元名称=“视口”内容=“宽度=250”> 它不适合你。 使用它将 .css 添加到您的页面，并根据需要调整数字。 @media screen and (max-width: 320px) { html { zoom: 120%; } } @media screen and (max-width: 400px) { html { zoom: 150%; } } @media screen and (max-width: 800px) { html { zoom: 220%; } } @media screen and (min-width: 801px) { html { zoom: 230%; } } 所以页面与他们的元素很好地缩放，以适应打开你的 webview 应用程序的 android 设备。我通过 android 获得的大多数宽度是 240 320 400 480 533 600 800 或者你可以为每 50 或 100 计算它，你有一个缩放值 250 300 350 400 .. 等等 于 2013-02-06T09:24:26.420 回答 Related 5 java - 一次更新HashMap中的所有值 1 ide - phpstorm：更改当前搜索匹配的颜色 0 jpa - 没有名为 MyUnit 的 EntityManager 的持久性提供程序，但有一个 1 c# - 无法连接到 SQL 数据库 - C#、VS2012、SQL Server 2012 2 android - 有什么方法可以通过代码获取我的 android 手机的余额？ 1 php - Uncaught SyntaxError: Unexpected token ) 解析带有 HTML 的 JSON 字符串时 1 plugins - 如何手动将 Fancybox 之类的插件添加到 Rails 应用程序 3 android - Android Spinner 动态更改项目 1 android - AndroidStudio - 每次部署应用程序 3 ruby-on-rails - 如何使用 bootstrap-modal 制作全屏模式？ Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：11077128
> 
> 赞同：0
> 
> 时间：
> 
> 标签：javascript, html, mobile, viewport

是否可以在之前有一个 JavaScript 函数

```
<meta name="viewport" content="width=device-width; initial-scale=1.0; "> 
```

设置比例数字，以正确定位每个移动设备的宽度？例如在我们的 JavaScript 中

`if (window.devicePixelRatio == 0.75)`

我们制作元标记：

```
<meta name="viewport" content="width=device-width; initial-scale=1.4; "> 
```

和

```
 if (window.devicePixelRatio == 1.5) 
```

我们制作元标记：

```
<meta name="viewport" content="width=device-width; initial-scale= 0,75; "> 
```

所以页面加载时，它会放大或缩小，以完全适合设备宽度。

如果可能的话，请您发布一个示例。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T09:24:26.420

好的，经过长时间的研究，我找到了解决这个问题的方法。我没有找到通过 JavaScript 控制比例的方法，但我找到了另一种实用的方法。我希望它对其他编码员有用。

假设您的页面宽度为 250 像素，并且您想为 android 做一个 webview 应用程序。而且您的页面没有响应，因此您的宽度固定。你也试过

<元名称=“视口”内容=“宽度=250”>

它不适合你。

使用它将 .css 添加到您的页面，并根据需要调整数字。

```
@media screen and (max-width: 320px) { 
html { zoom: 120%; } 
}

@media screen and (max-width: 400px) { 
html { zoom: 150%; } 
}

@media screen and (max-width: 800px) { 
html { zoom: 220%; } 
}

@media screen and (min-width: 801px) { 
html { zoom: 230%; } 
} 
```

所以页面与他们的元素很好地缩放，以适应打开你的 webview 应用程序的 android 设备。我通过 android 获得的大多数宽度是 240 320 400 480 533 600 800 或者你可以为每 50 或 100 计算它，你有一个缩放值 250 300 350 400 .. 等等

# php - 记录 Amazon SES 消息 ID

> ID：11077134
> 
> 赞同：4
> 
> 时间：2012-06-18T05:00:49.623
> 
> 标签：php, sdk, amazon-web-services, amazon-ses

这可能是一个简单的问题，但我已经搜索和搜索并找不到答案。

我想记录发送的每封电子邮件的消息 ID，以便更准确地进行退回处理。

我正在使用 AWS PHP SDK 发送我的电子邮件。发送电子邮件后如何获取消息 ID？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-19T01:20:22.423

找到了答案...

我可以从使用 SES 发送电子邮件时获得的响应对象中检索 MessageID。

`$response->body->SendEmailResult->MessageId`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-28T04:31:49.060

更新的答案： sendEmail 返回[Guzzle\Service\Resource\Model](http://docs.aws.amazon.com/aws-sdk-php/latest/class-Aws.Ses.SesClient.html#_sendEmail)。

您可以通过以下方式获取 MessageId 的值`$response->get('MessageId')`

更多信息：[http ://docs.aws.amazon.com/aws-sdk-php/guide/latest/feature-models.html](http://docs.aws.amazon.com/aws-sdk-php/guide/latest/feature-models.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T05:10:58.533

Amazon SES 更改消息 ID，请参阅第一条评论

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-27T18:27:02.663

您可以将来自亚马逊的响应转换为变量，然后解析 xml；

```
$res = $this->amazon_ses->send();
$xml = new SimpleXMLElement($res);
$email_id = (string) $xml->SendEmailResult[0]->MessageId; 
```

这对我很有效

# c# - 更改 .resx 文件运行时会导致会话过期

> ID：11077135
> 
> 赞同：0
> 
> 时间：2012-06-18T05:00:53.610
> 
> 标签：c#, asp.net, resx

我已创建页面以由网站管理员动态更改资源文件。但是现在当用户更改 resx 文件中的值时，它会正确保存，但会导致会话过期。我该如何克服呢？有没有人知道它，我试图搜索但只是发现当我们更改 .resx 文件时，它会再次编译网站并导致应用程序池重新启动。

项目是网站及其 4.0

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T17:12:05.553

当您更改 resx 文件时，工作进程将被回收。如果您使用的是进程内会话状态，则会话将丢失。可能的解决方法：使用进程外会话存储，或将您的资源存储在虚拟目录之外（并自行管理更新它们）。

参考：[http ://weblogs.asp.net/owscott/archive/2006/02.aspx](http://weblogs.asp.net/owscott/archive/2006/02.aspx)

# c# - c# 委托和事件

> ID：11077138
> 
> 赞同：-1
> 
> 时间：2012-06-18T05:01:26.180
> 
> 标签：c#, events, c#-4.0, delegates

我试图在 C# 中学习委托和事件，我知道事件是委托的某种包装，委托是函数/方法的指针......

下面是我的代码，但是当我运行它时，什么都没有显示......可能是什么问题？

```
public class ClassHandler
{
    public delegate void DoProcesses();
    public event DoProcesses DoProcessesEvent;
}

public class Class1
{
    public void Func1()
    {
        Console.WriteLine("Class 1 doing function 1");
    }
    public void Func2()
    {
        Console.WriteLine("Class 1 doing function 2");
    }

}

public class Class2
{
    public void Func1()
    {
        Console.WriteLine("Class 2 doing function 1");
    }
    public void Func2()
    {
        Console.WriteLine("Class 2 doing function 2");
    }

}

class Program
{
    static void Main(string[] args)
    {
        Class1 cs1 = new Class1();
        Class2 cs2 = new Class2();
        ClassHandler main = new ClassHandler();
        main.DoProcessesEvent += new ClassHandler.DoProcesses(cs1.Func1);
        main.DoProcessesEvent += new ClassHandler.DoProcesses(cs1.Func2);
        main.DoProcessesEvent += new ClassHandler.DoProcesses(cs2.Func1);
        main.DoProcessesEvent += new ClassHandler.DoProcesses(cs2.Func2);
        main.DoProcessesEvent += new ClassHandler.DoProcesses(ff); // this line here is causing an error: An object reference is required for the non-static field, method, or property 'TryDelegatesAndEvents.Program.ff()'    

        Console.Read();
    }
    public void ff()
    {
        Console.WriteLine("gggg");
    }
} 
```

**更新**：我如何引发事件以便它已经执行方法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T05:05:27.240

这条线的问题：`main.DoProcessesEvent += new ClassHandler.DoProcesses(ff)`

那是因为您的方法`ff()`是非静态方法，您不能像从静态方法那样直接访问它。

将您的方法`ff`设为静态，或创建包含类的对象并为其分配一个实例。

**评论：**您没有看到任何内容的原因是因为您只是将它们绑定到一个事件`DoProcessesEvent`，但您没有在任何地方引发该事件。您只是定义事件的处理程序。

**编辑：** 将您的课程更改`ClassHandler`为：

```
public class ClassHandler
{
    public delegate void DoProcesses();
    public event DoProcesses DoProcessesEvent;

    public void OnDoProcessEvent()
    {
        if (DoProcessesEvent != null)
            DoProcessesEvent();
    }
} 
```

在 Console.Read(); 之前的 Main 方法中 类型：

```
main.OnDoProcessEvent(); 
```

这将引发事件，它将从应用程序处理，并将为您提供以下输出。

```
Class 1 doing function 1
Class 1 doing function 2
Class 2 doing function 1
Class 2 doing function 2
gggg 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T05:06:38.913

更改`main.DoProcessesEvent += new ClassHandler.DoProcesses(ff);`为`main.DoProcessesEvent += new ClassHandler.DoProcesses(new Program().ff);` 或使 ff 静态

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T05:10:12.260

好吧，由于以下行，它无法编译：

```
main.DoProcessesEvent += new ClassHandler.DoProcesses(ff); 
```

VS吐出的错误是：

```
An object reference is required for the non-static field, method, or property 'ConsoleApplication2.Program.ff()' 
```

只需将您的 ff() 方法更改为静态即可绕过它。

例如：

```
public static void ff()
{
    Console.WriteLine("gggg");
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T05:17:02.910

除了前面评论中指出的问题外，您还必须触发事件。

在检查它是否为空并触发它之前制作一个事件的副本。这将消除线程在您检查 null 和触发事件之间的位置处事件变为 null 的潜在问题：

```
// Copy the event delegate before checking/calling

EventHandler copy = DoProcessesEvent ;  
if (copy != null)     
   copy(this, EventArgs.Empty); // Call any handlers on the copied list 
```

这将确保您的事件触发并且您将获得结果。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T05:47:48.950

只是为了添加@Habib的答案，将实例类方法订阅为可能在另一个范围内的对象的事件处理程序是相当不寻常的（例如，如果 Class1 超出范围，但 main() 仍然有订阅会发生什么？）。更常见的情况是在同一范围内订阅（和取消订阅）处理程序，通常以异步方式（以下事件仍然同步引发）。

```
namespace ConsoleApplication1
{
    public delegate void ProcessCompletedEvent(string description);

    public class Class1
    {
        public void Func1()
        {
            // Do Func1 work
            Thread.Sleep(500);
            RaiseEvent("Func1 completed");
        }
        public void Func2()
        {
            // Do Func2 work
            Thread.Sleep(1000);
            RaiseEvent("Func2 completed");
        }
        private void RaiseEvent(string description)
        {
            if (ProcessCompleted != null)
            {
                ProcessCompleted(description);
            }
        }

        public event ProcessCompletedEvent ProcessCompleted;
    }

    class Program
    {
        static void Main(string[] args)
        {
            Class1 cs1 = new Class1();

            // Wire up event handler
            cs1.ProcessCompleted += new ProcessCompletedEvent(MyHandler);

            cs1.Func1();
            cs1.Func2();

            Console.Read();
            // Remove the subscription
            cs1.ProcessCompleted -= MyHandler;
        }

        // *** Is in the same scope as main, which subscribes / desubscribes
        public static void MyHandler(string description)
        {
            Console.WriteLine(description);
        }
    }
} 
```

# c++ - 在非静态成员函数中使用 c++11 lambda 并调用同一类的静态成员函数

> ID：11077140
> 
> 赞同：3
> 
> 时间：2012-06-18T05:01:29.183
> 
> 标签：c++, lambda, c++11

> **可能重复：**
> [lambdas 需要捕获“this”来调用静态成员函数？](https://stackoverflow.com/questions/4940259/c11-lambdas-require-capturing-this-to-call-static-member-function)

我想在非静态成员函数中使用 c++11 lambda 并调用同一类的静态成员函数：

```
class A {
    static void a() {}
public:
    void x() {
        [] () { A::a(); }();
    }
}; 
```

但是 gcc4.6 和 gcc4.7 都得到了一个错误：错误：没有为这个 lambda 函数捕获'this'

为什么 lambda 需要 'this' 因为 'a' 是静态成员函数。

如果'x'是静态的或'a'是其他类的静态成员函数，'this'不是必需的，为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:10:08.470

```
class A {
    static void a() {}
public:
    void x() {
        [] () { A::a(); }();
    }
};

int main() { A a; a.x(); } 
```

这与 clang 3.2 编译得很好。此外，没有理由不编译它。根据注释，这是 GCC 中的一个[错误](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=51494)。这应该在 4.7.1 中修复。请注意，gcc 起步较早，但在支持某些 C++11 特性方面落后于 clang。

编辑：有一个类似的[SO question](https://stackoverflow.com/questions/4940259/c11-lambdas-require-capturing-this-to-call-static-member-function)，您可能想查看。

# java - 完全避免验证/提交 p:selectOneListbox 的值

> ID：11077149
> 
> 赞同：0
> 
> 时间：2012-06-18T05:02:39.550
> 
> 标签：java, jsf

我正在 `p:selectOneListbox`使用请求范围的 bean 为 via ajax 获取 selectItems 列表。因此，在提交回表单时，我收到了这个错误：

```
j_idt153:j_idt159:j_idt184:j_idt194: Validation Error: Value is not valid 
```

我不想将值提交`p:selectOneListbox`给任何 bean 属性，这就是为什么该组件的值 EL 被省略但 JSF 仍在验证所选选项并且它不存在，因为我的 bean 是请求范围的。现在我想完全跳过验证这个组件，因为这`p:selectOneListbox`只是为了演示目的，并且在提交表单过程之后不使用它的值。如何完全避免验证/提交`p:selectOneListbox`的价值

```
 <p:ajax event=".." listener="#{pim.retrieveProjects()}" update="usrProjctsList" />

        <p:selectOneListbox id="usrProjctsList" onchange="jsfElmnt('#{cc.clientId}:selUsrProjct').val($(this).val());">
            <f:selectItems value="#{pim.projects}" var="project" itemLabel="#{project.title}" itemValue="#{project.id}"/> 
        </p:selectOneListbox>

        <h:inputHidden id="selUsrProjct" value="#{bean.underProject}"/> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:22:28.357

我不认为`j_idt153:j_idt159:j_idt184:j_idt194: Validation Error: Value is not valid`所指的错误`<p:selectOneListbox id="usrProjctsList"`导致它`id`根本不存在于`j_idt153:j_idt159:j_idt184:j_idt194`id 中......

`view source`在您的浏览器中执行并查找id`j_idt153:j_idt159:j_idt184:j_idt194`并尝试找出它属于谁

您也可以尝试添加`immediate="true"`到您`<p:ajax`的跳过验证或尝试添加`<p:ajax`到那个麻烦的组件`j_idt153:j_idt159:j_idt184:j_idt194`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:46:06.557

正如丹尼尔所说，id也不匹配。但是对于跳过验证，您也可以`process=@this (and other stuff, except the listBox)`在您的 ajax 事件上使用。由于您使用的是 primefaces，这将只处理那里编写的内容并跳过其余部分。

# c# - 获取数组中两个元素之间的所有元素

> ID：11077152
> 
> 赞同：0
> 
> 时间：2012-06-18T05:02:47.363
> 
> 标签：c#, arrays, element

我在 c# 中有一个数组。

```
public string[] alphabet = new string[] { "A","B","C",.......} 
```

我想返回两个提到的元素之间的每一个元素。

前任：

```
I want to return all elements in between "A" and "D". It should return {A,B,C,D} as result. 
```

我怎样才能做到这一点？是否有任何支持或我们是否应该自己编写？请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:08:13.277

如果它只是关于 Alphabet 数组，那么我们可以调用一个循环，然后将其变量转换为 char。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T05:11:55.903

试试这个：

```
alphabetList = alphabet.ToList();
string[] range = (alphabetList.GetRange(alphabetList.IndexOf("A"), alphabetList.IndexOf("D") + 1)).ToArray(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T05:13:15.253

```
var fist = Array.IndexOf(alphabet, "A");
var second = Array.IndexOf(alphabet, "D");
var newArray = alphabet.Skip(fist).Take(second - fist + 1).ToArray(); 
```

或者

```
var newArray2 = alphabet.ToList().GetRange(fist, second - fist + 1).ToArray(); 
```

# wolfram-mathematica - 检查 Mathematica 中的绘图是否为空

> ID：11077154
> 
> 赞同：3
> 
> 时间：2012-06-18T05:03:03.917
> 
> 标签：wolfram-mathematica, mathematical-expressions

Mathematica 有没有办法检查绘图是否为空？

空，我的意思是它只显示轴而不是任何数据点。我有一个函数，根据它的输入，给出一些数据点（稍后绘制）或没有，但我不知道它是否会产生任何有效的数据点，除非我绘制它。如果没有，当我绘制它时，它将返回一个空图。我想区分空图和带有数据点的图。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T20:14:26.523

我将生成一个空的 Plot 来探索表单。

```
empty = Plot[{}, {x, 0, 1}];
FullForm[%] 
```

显示 Plot[] 返回一个包含两部分的 Graphics 对象 - 1.) 内容，以及 2.) 选项。在这种情况下，第一个是一个空列表，所以设置一个条件

```
empty[[1]] == {} 
```

对于这种特殊类型的空虚，应该返回 True。它适用于其他地块

```
Plot3D[{}, {x, -3, 3}, {y, -2, 2}][[1]] == {}

True 
```

但是您可能必须确定示例的完整形式。

# android - 如何在发布时为图像添加描述

> ID：11077155
> 
> 赞同：0
> 
> 时间：2012-06-18T05:03:05.517
> 
> 标签：android, facebook-graph-api

我应该在代码中添加什么以便它将描述添加到图像

```
Bitmap bi = BitmapFactory.decodeFile("/sdcard/viewitems.png");

ByteArrayOutputStream baos = new ByteArrayOutputStream();
bi.compress(Bitmap.CompressFormat.JPEG, 100, baos);
data = baos.toByteArray();

Bundle params = new Bundle();
params.putString(Facebook.TOKEN, facebook.getAccessToken());
params.putString("method", "photos.upload");
params.putByteArray("picture", data);

AsyncFacebookRunner mAsyncRunner = new AsyncFacebookRunner(facebook);
mAsyncRunner.request(null, params, "POST", new SampleUploadListener(), null); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:06:11.670

添加以下行，

```
params.putString("caption", "your Caption message goes here");
params.putString("description", "your Description text goes here"); 
```

因此，键表示参数类型，值表示实际消息。

# php - 当用户点击浏览器的后退按钮时将用户重定向到一个页面

> ID：11077157
> 
> 赞同：2
> 
> 时间：2012-06-18T05:03:13.777
> 
> 标签：php, javascript, button, browser, back

当用户单击浏览器的后退按钮时，是否可以将用户重定向到页面？如果是，那么我该如何实现呢？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T05:13:44.817

为了避免“确认表单重新提交”消息，您可以使用[PRG](http://en.wikipedia.org/wiki/Post/Redirect/Get)模式。这样，当单击“返回”按钮时，用户将按预期返回到搜索表单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-10T18:32:55.127

我已经为这个问题苦苦挣扎了一段时间。今天下午，我一直在尝试允许用户有目的地重新提交表单。互联网上的人们已经发布了很多关于如何解决表单提交错误的内容，但这些内容都不适用于我的特殊情况。我终于在上面找到了来自 MMK 的这条消息。他的解决方案效果很好，如果您必须允许用户返回搜索或类似的内容，即使您习惯使用 POST，我也完全建议使用 GET 方法。如果您不确定如何准确，只需在互联网上进行一些搜索 - 相信我，值得花时间。

# android - 带 MIC 的 Android AudioRecord 耳机

> ID：11077161
> 
> 赞同：1
> 
> 时间：2012-06-18T05:03:59.380
> 
> 标签：android, recording, audiorecord, android-audiorecord

我对 AudioRecord 类有一些问题。我有一个应用程序可以在有人通过耳机收听音频时录制音频。在这种情况下，它工作正常。用户可以毫无问题地录制。任何使用带有内置麦克风的耳机的用户都无法进行录音。我的班级从 PCM 数据创建 .wav 文件，但没有从麦克风输入音频。它全是寂静。

我使用以下初始化我的 AudioRecorder：

```
extAudioRecorder = new ExtAudioRecorder(true, 
AudioSource.MIC, 
44100, 
AudioFormat.CHANNEL_IN_MONO, 
AudioFormat.ENCODING_PCM_16BIT); 
```

尝试在 Android 中使用带麦克风的耳机进行录制是否有问题？

编辑：

刚刚发现耳机甚至不必有麦克风，并且内部麦克风仍然被禁用。有谁知道如何解决这个问题？

[http://code.google.com/p/android/issues/detail?id=4095](http://code.google.com/p/android/issues/detail?id=4095)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-21T02:08:04.600

发现有些手机在插入耳机时会禁用内置麦克风。主要是三星设备。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-05T10:14:54.500

要强制使用内置麦克风（至少在三星设备上），您可以使用 MediaRecorder.AudioSource.CAMCORDER 作为源

# sql-server - SQL Server 存储过程避免游标

> ID：11077162
> 
> 赞同：1
> 
> 时间：2012-06-18T05:04:01.250
> 
> 标签：sql-server

我有以下 SQL Server 存储过程：

```
BEGIN TRAN
CREATE TABLE #TempTable (
                            SampleOrderID int,
                            SampleOrderNo varchar(512),
                            ChallanNoAndChallanDate varchar(MAX)
                        )
CREATE NONCLUSTERED INDEX #IX_Temp2_1 ON #TempTable(SampleOrderID)

DECLARE 
@SQL as varchar(MAX)
SET @SQL='      SELECT  SampleOrderID,  SampleOrderNo FROM SampleOrder WHERE SampleOrderID IN (37808,37805,37767,37571,37745,37772,37843,37394,37909,37905,37903) '
INSERT INTO #TempTable  (SampleOrderID, SampleOrderNo)
EXEC (@SQL)

DECLARE 
@SampleOrderID as int,
@ChallanNoAndChallanDate as varchar(max)

DECLARE Cur_AB1 CURSOR GLOBAL FORWARD_ONLY KEYSET FOR           
SELECT  SampleOrderID FROM #TempTable
OPEN Cur_AB1
FETCH NEXT FROM Cur_AB1 INTO @SampleOrderID
WHILE(@@Fetch_Status <> -1)
    BEGIN--2
        SET @ChallanNoAndChallanDate=''
        SELECT @ChallanNoAndChallanDate= COALESCE(@ChallanNoAndChallanDate+ ',', '') + CONVERT(VARCHAR(12),ChallanDate,106)+':'+ChallanNo  FROM Challan WHERE OrderID =@SampleOrderID AND OrderType=2

        UPDATE #TempTable SET ChallanNoAndChallanDate=@ChallanNoAndChallanDate WHERE SampleOrderID=@SampleOrderID   
        FETCH NEXT FROM Cur_AB1 INTO @SampleOrderID
    END--2
CLOSE Cur_AB1
DEALLOCATE Cur_AB1

SELECT * FROM #TempTable
DROP TABLE #TempTable
COMMIT TRAN 
```

输出 ：

```
SamID       SamNo    ChallanNoAndDaet
37394   37394   ,31 May 2012:151592
37571   37571   ,31 May 2012:151580
37745   37745   ,31 May 2012:151582
37767   37767   ,30 May 2012:151507,31 May 2012:151576
37772   37772   ,31 May 2012:151587
37805   37805   ,31 May 2012:151574
37808   37808   ,31 May 2012:151573
37843   37843   ,31 May 2012:151588
37903   37903   ,31 May 2012:151597
37905   37905   ,31 May 2012:151596
37909   37909   ,31 May 2012:151593 
```

它适用于少量数据，但是当我尝试在大量数据（即超过 500,000 条记录）上执行它时，我的 C# 接口会引发超时异常。

谁能帮我编辑我的存储过程以避免光标？

感谢您的回复。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-09-02T08:55:56.753

**我用它来避免光标出现在我需要的任何地方**

```
DECLARE @num_rows     int
DECLARE @cnt          int
DECLARE @selected     int

DECLARE @table1 TABLE (Id int not null primary key identity(1,1), col1 int )  
INSERT into @table1 (col1) SELECT col1 FROM table2
SET @num_rows=@@ROWCOUNT

SET @cnt=0
WHILE @cnt<@num_rows
BEGIN
    SET @cnt=@cnt+1
    SELECT 
        @selected=col1
        FROM @table1
        WHERE Id=@cnt

    --do your stuff here--

END 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T05:11:31.327

我通常使用以下内容：

```
SELECT @SampleOrderID = MIN (SampleOrderID) FROM #TempTable
WHILE @SampleOrderID IS NOT NULL
BEGIN

   SET @ChallanNoAndChallanDate=''
   SELECT @ChallanNoAndChallanDate= COALESCE(@ChallanNoAndChallanDate+ ',', '') + CONVERT(VARCHAR(12),ChallanDate,106)+':'+ChallanNo  FROM Challan WHERE OrderID =@SampleOrderID AND OrderType=2

   UPDATE #TempTable SET ChallanNoAndChallanDate=@ChallanNoAndChallanDate WHERE SampleOrderID=@SampleOrderID   

   SELECT @SampleOrderID = MIN (SampleOrderID) FROM #TempTable WHERE SampleOrderID > @SampleOrderID 

END 
```

此代码将替换您拥有的光标内容。

# wix - 使用 WiX 在自定义操作中传递文件名

> ID：11077165
> 
> 赞同：1
> 
> 时间：2012-06-18T05:04:35.337
> 
> 标签：wix, custom-action, wix3.6

我想在自定义操作的参数中传递一个文件名。这些文件正在安装到系统中。我可以传递这些文件的组件 ID 而不是传递硬编码名称吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-28T13:14:47.437

由于 Wix 提供了 Session 变量来与 C# 自定义操作进行通信 ....在某些 Session 变量中分配您的文件路径并在自定义操作中使用它...

确保变量名称应为 CAPS

# r - R：如何计算矩阵列之间的距离？

> ID：11077168
> 
> 赞同：3
> 
> 时间：2012-06-18T05:04:51.160
> 
> 标签：r

R 函数`dist`“计算并返回通过使用指定的距离度量计算出的距离矩阵，以计算数据矩阵的行之间的距离”。

但是，我希望计算数据矩阵的*列*之间的距离度量，而不是行！我怎样才能做到这一点？

我需要旋转矩阵吗？如果是这样，怎么做？如果不是，我应该使用不同的功能吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-18T05:42:40.897

也许你可以使用 R 功能`t`？ `t(x)`将转置矩阵`x`。

# c# - 为什么我在根域中收到此消息 (Sys.WebForms.PageRequestManagerServerErrorException: 405)？

> ID：11077174
> 
> 赞同：0
> 
> 时间：2012-06-18T05:05:34.480
> 
> 标签：c#, asp.net, telerik

我使用带有 Telerik Tool 的 ASP.NET 4.0 编写了一个基于 Web 的应用程序。该应用程序在本地运行良好；在运行 Windows Server 2008 R2 32 位的服务器上一切正常。当我将应用程序移动到在 Windows Server 2008 R2 64 位上运行的 IIS 7.5 时，当我尝试使用以下链接浏览网站时遇到以下错误： [http://ServerName.AppName](http://ServerName.AppName)

![在此处输入图像描述](../Images/252e4c7e94b4355b3beb97b63aa19dba.png)

但是，通过将地址栏指向完整的 URL（即：“ [http://ServerName.AppName/Default.aspx](http://ServerName.AppName/Default.aspx) ”）解决了这个问题。但这不是一个解决方案，因为应用程序应该浏览而不写这部分（default.aspx），那么如何解决这个问题呢？

这是 web.config 文件：

```
<?xml version="1.0" encoding="UTF-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>
  <connectionStrings>
    <add connectionString="Data Source=localhost\sqlexpress;Initial Catalog=PMODServices;Integrated Security=True" name="PMODServicesConnectionString" providerName="System.Data.SqlClient" />
  </connectionStrings>
  <system.web>
    <customErrors mode="Off" />
    <compilation debug="true" targetFramework="4.0">
      <assemblies>
        <add assembly="System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A" />
        <add assembly="System.Windows.Forms, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
        <add assembly="System.Speech, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
        <add assembly="System.Runtime.Serialization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
        <add assembly="System.ServiceModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
        <add assembly="System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
        <add assembly="System.Xml.Linq, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
        <add assembly="System.Data.DataSetExtensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
        <add assembly="Microsoft.ReportViewer.WebForms, Version=10.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A" />
        <add assembly="Microsoft.ReportViewer.Common, Version=10.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A" />
        <add assembly="Microsoft.Build.Framework, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A" />
        <add assembly="System.Management, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A" />
        <!--  <add assembly="office, Version=14.0.0.0, Culture=neutral, PublicKeyToken=71E9BCE111E9429C"/>  -->
        <add assembly="stdole, Version=7.0.3300.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A" />
      </assemblies>
      <buildProviders>
        <add extension=".rdlc" type="Microsoft.Reporting.RdlBuildProvider, Microsoft.ReportViewer.WebForms, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
      </buildProviders>
    </compilation>
    <!--
            The <authentication> section enables configuration 
            of the security authentication mode used by 
            ASP.NET to identify an incoming user. 
        -->
    <authentication mode="Windows" />
    <httpHandlers>
      <add path="Telerik.Web.UI.WebResource.axd" verb="*" type="Telerik.Web.UI.WebResource" validate="false" />
      <add path="ChartImage.axd" verb="*" type="Telerik.Web.UI.ChartHttpHandler" validate="false" />
      <add path="Telerik.Web.UI.SpellCheckHandler.axd" verb="*" type="Telerik.Web.UI.SpellCheckHandler" validate="false" />
      <add path="Telerik.Web.UI.DialogHandler.aspx" verb="*" type="Telerik.Web.UI.DialogHandler" validate="false" />
      <add path="Telerik.RadUploadProgressHandler.ashx" verb="*" type="Telerik.Web.UI.RadUploadProgressHandler" validate="false" />
      <add path="Reserved.ReportViewerWebControl.axd" verb="*" type="Microsoft.Reporting.WebForms.HttpHandler, Microsoft.ReportViewer.WebForms, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" validate="false" />
    </httpHandlers>
    <pages controlRenderingCompatibilityVersion="3.5" clientIDMode="AutoID">
      <controls>
        <add tagPrefix="telerik" namespace="Telerik.Web.UI" assembly="Telerik.Web.UI" />
      </controls>
    </pages>
    <httpModules>
      <add name="RadUploadModule" type="Telerik.Web.UI.RadUploadHttpModule" />
      <add name="RadCompression" type="Telerik.Web.UI.RadCompression" />
    </httpModules>
  </system.web>
  <system.webServer>
    <validation validateIntegratedModeConfiguration="false" />
    <handlers>
      <remove name="ChartImage_axd" />
      <remove name="Telerik_Web_UI_SpellCheckHandler_axd" />
      <remove name="Telerik_Web_UI_DialogHandler_aspx" />
      <remove name="Telerik_RadUploadProgressHandler_ashx" />
      <remove name="Telerik_Web_UI_WebResource_axd" />
      <add name="Telerik_Web_UI_WebResource_axd" path="Telerik.Web.UI.WebResource.axd" type="Telerik.Web.UI.WebResource" verb="*" preCondition="integratedMode" />
      <add name="ChartImage_axd" path="ChartImage.axd" type="Telerik.Web.UI.ChartHttpHandler" verb="*" preCondition="integratedMode" />
      <add name="Telerik_Web_UI_SpellCheckHandler_axd" path="Telerik.Web.UI.SpellCheckHandler.axd" type="Telerik.Web.UI.SpellCheckHandler" verb="*" preCondition="integratedMode" />
      <add name="Telerik_Web_UI_DialogHandler_aspx" path="Telerik.Web.UI.DialogHandler.aspx" type="Telerik.Web.UI.DialogHandler" verb="*" preCondition="integratedMode" />
      <add name="Telerik_RadUploadProgressHandler_ashx" path="Telerik.RadUploadProgressHandler.ashx" type="Telerik.Web.UI.RadUploadProgressHandler" verb="*" preCondition="integratedMode" />
      <add name="ReportViewerWebControlHandler" preCondition="integratedMode" verb="*" path="Reserved.ReportViewerWebControl.axd" type="Microsoft.Reporting.WebForms.HttpHandler, Microsoft.ReportViewer.WebForms, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
    </handlers>
    <modules runAllManagedModulesForAllRequests="true">
      <remove name="RadUploadModule" />
      <remove name="RadCompression" />
      <add name="RadUploadModule" type="Telerik.Web.UI.RadUploadHttpModule" preCondition="integratedMode" />
      <add name="RadCompression" type="Telerik.Web.UI.RadCompression" preCondition="integratedMode" />
    </modules>
        <defaultDocument>
            <files>
                <clear />
                <add value="default.aspx" />
                <add value="Default.htm" />
                <add value="Default.asp" />
                <add value="index.htm" />
                <add value="index.html" />
                <add value="iisstart.htm" />
            </files>
        </defaultDocument>
  </system.webServer>
  <appSettings>
    <add key="Telerik.ScriptManager.TelerikCdn" value="Enabled" />
    <add key="Telerik.StyleSheetManager.TelerikCdn" value="Enabled" />
  </appSettings>
  <!-- I added the following to solve (asp.net ajax client-side framework failed to load) error that I especially faced on the Test Server only -->
  <location path="WebResource.axd">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="ScriptResource.axd">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
  <location path="Telerik.Web.UI.WebResource.axd">
    <system.web>
      <authorization>
        <allow users="*" />
      </authorization>
    </system.web>
  </location>
</configuration> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-21T17:56:31.030

当我收到此错误时，我删除了 rad ajax 面板（但保留了脚本管理器）。完成后，我能够看到错误来自哪里。修复错误后，我添加了 rad ajax 面板，一切都按预期工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:47:05.160

这可能与 IIS 服务器中的默认页面配置有关

查看本文以在 IIS 中设置默认页面

[http://technet.microsoft.com/en-us/library/cc771439(WS.10).aspx](http://technet.microsoft.com/en-us/library/cc771439(WS.10).aspx)

Alternateveley，如果您只想为当前应用程序设置默认文档：

```
<configuration>
   <system.webServer>
       <defaultDocument>
           <files>
               <add value="~/Default.aspx"/>
           </files>
       </defaultDocument>
   </system.webServer>
 </configuration> 
```

# php - 在 php 中触发 shell_exec 方法

> ID：11077175
> 
> 赞同：0
> 
> 时间：2012-06-18T05:05:40.633
> 
> 标签：php, pdf, adobe, shell-exec

shell_exec 方法中的命令显然可以在命令行上运行。我在网络服务器上尝试过这种方法，但它不起作用。有没有关于如何触发它的额外语法？

```
echo shell_exec("'C:\Program Files\Adobe\Reader 10.0\Reader>AcroRd32.exe' /t C:\Documents and Settings\cgcuser\My Documents\Downloads\Documents\sample.pdf \\myserver\myprinter"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:08:24.540

看起来你需要逃避你的反斜杠。

此外，您的第二个参数看起来需要作为字符串括起来。

```
echo shell_exec("'C:\\Program Files\\Adobe\\Reader 10.0\\Reader>AcroRd32.exe' /t 'C:\\Documents and Settings\\cgcuser\\My Documents\\Downloads\\Documents\\sample.pdf' \\\\myserver\\myprinter"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:07:22.730

使用 \\ 而不是 \ ，因为您使用 " 而不是 ';

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-02-17T02:27:51.313

我会采用一种在 Windows 10 中运行良好的不同方法

```
$WshShell   = new COM("WScript.Shell");
$oExec      = $WshShell->Run("AcroRd32.exe /t my.pdf", 0, true); 
```

# ios - iOS 通用应用默认图片

> ID：11077178
> 
> 赞同：0
> 
> 时间：2012-06-18T05:05:53.417
> 
> 标签：ios, xcode, ipad, ios-universal-app

在一个通用应用程序中，当我为 iPhone 放置启动图像时，iPad 也采用相同的方式并显示警告，我给出的名称类似于 Default.png (iPhone) Default@2x.png (retina) 和 Default~ipad.png (对于 iPad ）。请帮我解决这个问题。提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:17:18.507

转到 XCode，在左侧的 Project Navigator 中单击项目名称，在屏幕中间的列表中单击您的应用程序目标，然后选择“Summary”选项卡。

现在将图像拖放到 iPhone 和 iPad 版本的应用程序图标上（从取景器中）。XCode 将负责正确命名和放置您的图标文件。

# google-chrome - webkit-transition 效果让 chrome 19 崩溃

> ID：11077185
> 
> 赞同：1
> 
> 时间：2012-06-18T05:07:26.107
> 
> 标签：google-chrome

chrome稳定版升级到19后，简单的html页面导致浏览器崩溃。我将页面上传到网络服务器，你可以看到源代码：

[http://libragon.sinaapp.com/m/index.html](http://libragon.sinaapp.com/m/index.html)

我发现代码`-webkit-transition: all 0.5s;`是根本原因。为什么会这样，我该如何避免？

# vb6 - 如何对数组进行排序

> ID：11077187
> 
> 赞同：0
> 
> 时间：2012-06-18T05:07:43.323
> 
> 标签：vb6

使用 VB6.0，我有一个包含“英语”字段的学校数据库，我使用 SQL 创建记录集并按 Desc 顺序排列英语。我的问题是我想对这些学生进行排名，以便在平局之后，下一个学生在平局计数后获得排名，如下所示：

英：45、48、67、67、67、80、80、91。

英语排名 91 - 1 80 - 2 80 - 2, 67 - 4, 67 - 4, 67 - 4, 48 - 7, 45 - 8,

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:33:55.403

你的问题不太清楚，但我想你想要这样的东西？

```
select Eng, rank() over (order by Eng desc) EnglishRank from somewhere 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:56:44.397

我猜您的意思类似于以下代码。我只使用一种从程序中获取数据的方法。你可能会做一些不同的事情。

```
Option Explicit

Private Type RankedScores
    Rank                As Long
    Score               As Long
End Type

Private Sub RankValues(ByRef the_rs As ADODB.Recordset, ByRef out_auRankedScores() As RankedScores)

    Dim nIndex                                  As Long
    Dim nRank                                   As Long
    Dim nScore                                  As Long
    Dim nLastScore                              As Long

    nRank = 0
    nIndex = 0

    ' Resize the output buffer to its maximum size (won't work on some types of recordsets).
    ReDim out_auRankedScores(1 To the_rs.RecordCount)

    Do Until the_rs.EOF

        nIndex = nIndex + 1

        ' Pull score out of the recordset. If it is not the same as the last score, then increment the rank.
        nScore = CLng(the_rs.Fields.Item("English"))
        If nScore <> nLastScore Then
            nRank = nIndex
        End If

        ' Write into output buffer.
        With out_auRankedScores(nIndex)
            .Rank = nRank
            .Score = nScore
        End With

        ' Reset last score.
        nLastScore = nScore

        ' Next row.
        the_rs.MoveNext
    Loop

End Sub 
```

# r - lm 拟合 data.frame 的多个子集

> ID：11077189
> 
> 赞同：0
> 
> 时间：2012-06-18T05:08:11.543
> 
> 标签：r, plyr, lm, reshape2

我正在运行一些模拟，我想将线性模型拟合到我的数据子集：

```
library(reshape2)
library(plyr)

all <- mutate(iris, mean_width = ave(Petal.Width, Petal.Length))
str(all)

## want to minimise sum(|y*polynomial(x) - z|^2) for each id
## in the region where x != exclude

weighted_difference <- function(d, n=4, exclude = c(2.5, 3), ...){

  sub <- subset(d, !(Sepal.Width > exclude[1] &
                     Sepal.Width < exclude[2]))
  fit <-  lm(mean_width ~ I(poly(Petal.Length, n, raw=TRUE)*Petal.Width) + Petal.Width - 1, data = sub)
  mutate(d, predict = predict(fit, d),
         difference = Petal.Width - predict )
}

results <- ddply(all, "Species", weighted_difference) 
```

这行得通，但我想使用一种更简单的方法，首先为适合的数据创建一个新的 data.frame，

```
 exclude <- c(3, 6)
  sub <- subset(all, !(x > exclude[1] & x < exclude[2])) 
```

适合所有情况，

```
 fits <- lm(z ~ I(poly(x, n, raw=TRUE)*y) + y - 1 | id, data = sub) 
```

（这`... | id`显然是无效的语法）

并立即对完整数据使用预测，

```
all <- mutate(all, predict = predict(fits, all), difference = y - predict ) 
```

有没有`lm()`像这样使用的技巧？还是更好的解决方案？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T10:02:37.097

`lmList`(from )做`nlme`你想做的事吗？

```
library(nlme)
fits <- lmList(z ~ I(poly(x, n, raw=TRUE)*y) + y - 1 | id, data = sub) 
```

# android - Android中的多个TOC

> ID：11077192
> 
> 赞同：1
> 
> 时间：2012-06-18T05:08:15.367
> 
> 标签：android, android-viewpager

我正在尝试在 Android 应用程序上实现 iPad 的这种 TOC 风格。

![iPad应用程序中的多个目录分层导航](../Images/c51e6eae676e989752d618f525363346.png)

目录可以滑回屏幕，一次可见多个级别。我认为新的 Evernote 应用程序也有类似的概念——但我不知道如何开始。我怎样才能做到这一点？是否像多个浏览器一样简单？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T23:00:13.213

这就是您正在寻找的，它正是您所需要的：

[https://github.com/Mapsaurus/Android-PanesLibrary](https://github.com/Mapsaurus/Android-PanesLibrary)

# ios - 如何使用日历，ios的图像执行动画

> ID：11077194
> 
> 赞同：1
> 
> 时间：2012-06-18T05:08:24.853
> 
> 标签：ios, image, animation, calendar

我对 iphone 应用程序的动画非常陌生。我遇到了关于动画的问题。我想做的是，在我的屏幕上，我拍摄了一张图像，然后我使用 NSCalender 控件实现了日历控件。我的要求是如果我选择任何一个日期，图像都必须朝最短的方向移动。例如，如果我的日期为

```
sun mon tue wed thu fri sat
                     1   2
 3   4   5   6   7   8   9
10  11  12  13  14  15  16
17  18  19  20  21  22  23 
24  25  26  27  28  29  30 
```

如果我选择日期 29，则放置在屏幕顶部的图像必须从 1、8、15、22 和 29 移动。同样，如果我选择日期 19，图像必须从 5 移动， 12 和 19。同样，图像必须移动。如何为这种类型的屏幕执行动画。请帮助我或提供任何示例。图像必须根据最近的日期单元格位置移动。我做了很多谷歌搜索但我没有找到解决方案。将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T09:01:58.760

[这个很酷的动画日历](https://github.com/freesuraj/Animated-Calendar)怎么样？它是应用程序[“每日乐队”中](https://itunes.apple.com/us/app/band-of-the-day/id459664402?mt=8)使用的著名动画日历的克隆？

可能这就是你要找的东西！

# c - 从“char x[n]”转换为“char* x”后，有效/简单的方法来保护 NULL？

> ID：11077197
> 
> 赞同：0
> 
> 时间：2012-06-18T05:09:05.897
> 
> 标签：c

我最近对一些使`char name`字段动态的代码进行了更改。

所以原来是这样的

```
struct boo 
{
    char name[100];
    ...
} 
```

我已将其更改为

```
struct boo
{
    char *name;
    ...
} 
```

所以这使得 name 动态分配存储名称实际需要的内存量。

无论如何..这种更改的结果将要求我`if(boo->name)`在代码中的大约 1000 个位置添加空指针检查。

所以只是想知道是否有任何智能或有效的方法（减少程序员的开发时间）来进行这种空指针检查。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T05:19:00.527

确保在创建结构时分配缓冲区比在使用结构的任何地方检查它要容易得多。一开始就不要让它为NULL！

如果在获得相关数据之前需要将指针值放置在结构中，则可以保留一个全局空字符串以专门用于此任务。在尝试访问`free`内存之前与此指针进行比较。

如果这是 C++ 而不是 C，请认真考虑使用 a`std::string`而不是指针。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T05:18:34.053

if (name) 有效，但总是存在您的指针可能未初始化为 NULL 开始的问题。

如果您正在动态分配结构，为确保发生这种情况，请执行以下操作：

```
mystruct foo = calloc(sizeof(foo)); 
```

calloc 将内存归零。

编辑：此外，如果您只想在调试版本中检查名称，您可以执行以下操作：

```
assert(name); 
```

如果名称为 NULL，这将在该行退出程序，但在“发布”版本中优化为无。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:42:52.313

你的问题是当你检查返回分配成功时`malloc`。

有些人喜欢使用`xmalloc`包装器来`malloc`从`libiberty`库：

> — 替换： void* xmalloc (size_t) 分配内存不会失败。如果 malloc 失败，这将向 stderr 打印一条消息（使用 xmalloc_set_program_name 设置的名称，如果有的话），然后调用 xexit。请注意，因此程序在其源代码中包含#define malloc xmalloc 是安全的。

[http://gcc.gnu.org/onlinedocs/libiberty/Functions.html](http://gcc.gnu.org/onlinedocs/libiberty/Functions.html)

您还可以轻松编写自己的`xmalloc`函数：

```
void *xmalloc(size_t size)
{
    char *p = malloc(size);

    if (!p) {
         fprintf(stderr, "Error: allocation failure\n");
         exit(EXIT_FAILURE);
    }        

    return p;
} 
```

# paypal - 如何跳过贝宝感谢页面？

> ID：11077199
> 
> 赞同：1
> 
> 时间：2012-06-18T05:09:34.677
> 
> 标签：paypal, paypal-sandbox

在paypal中，是否可以跳过“感谢您的订单页面”并直接返回我们的商店？在这里，我附上了“立即付款”页面之后的页面截图，这是我要跳过的页面，我需要直接转到我的网站，从那里启动该过程。![在此处输入图像描述](../Images/fdf0a995a171ecfb8a314061d0d835cd.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:45:53.100

在您的贝宝帐户中检查这些设置——

1.  单击您的贝宝帐户中的编辑个人资料选项卡。
2.  点击“销售偏好”下的“网站支付偏好”</li>
3.  点击“开启” `auto-return`。
4.  输入返回 URL。
5.  节省。

如果您在配置时遇到任何问题，请告诉我。

**新编辑**

你也可以这样通过——

```
<INPUT TYPE="hidden" NAME="return" value="URLspecificToThisTransaction"> 
```

# mysql - Sales 和 Item 之间的简单关系数据库

> ID：11077200
> 
> 赞同：0
> 
> 时间：2012-06-18T05:09:38.143
> 
> 标签：mysql, relational-database

我正在为我的项目构建一个简单的销售点系统。该系统有一个名为 Sales 的表和另一个名为 Item 的表。在 Item 表中将有一个名为 itemcode 的列，它是一个主键。在 Sales 表中将有一个名为 itemcode 的列，它是引用 Item 表中 itemcode 的外键。

问题是我应该让 Sales 表中的 itemcode 成为引用 Item 表中 itemcode 的外键吗？

如果它是一个外键，如果这个特定项目有销售，我无法从 Item 表中删除该特定项目。这是因为 Sales 表中有外键引用 Item 表中的主键。

如果它不是外键，则在我更新 Item 表中的 itemcode 时不会更新 itemcode。

有关解决此问题的任何提示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:13:03.900

如果您的项目代码将在数据库中的给定项目的整个生命周期内发生变化，那么它不适合作为主键。在这种情况下，我们通常会生成自增且适当的任意 ID 作为主键，然后在外键关系中使用它们。你也吃蛋糕吗……它只是花费了一个索引良好且高效的专栏。:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:19:50.370

您可以将 entity_id 作为 item 表的主键，这将从 sales 表中引用。项目代码将是仅在项目表中的另一列。

# java - 即使在单击后退按钮时从应用程序注销后，它也会登录到以前登录浏览器的用户？

> ID：11077201
> 
> 赞同：2
> 
> 时间：2012-06-18T05:09:55.600
> 
> 标签：java, jsf

在应用程序中，当用户注销并按下浏览器后退按钮时，它会将特定用户带到上一页（**以前一个用户身份登录**）。

当用户在索引（登录）页面中注销时，我尝试了以下代码来清除缓存

```
<%
response.setHeader("Pragma", "no-cache");
response.setHeader("Cache-Control", "no-store");
response.setHeader("Expires", "0");
response.setDateHeader("Expires", -1);
%> 
```

上面的代码在 IE 和 firefox 中运行良好，但在 google chrome 中不行，

谁能帮助我用谷歌浏览器解决这个问题。

提前致谢 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T12:29:39.697

这里有2个错误：

1.  标题`Cache-Control`不完整。完整的正确标题集是：

    ```
    response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); // HTTP 1.1.
    response.setHeader("Pragma", "no-cache"); // HTTP 1.0.
    response.setDateHeader("Expires", 0); // Proxies. 
    ```

    确保在测试之前清除浏览器缓存。

2.  必须在受限页面的响应中设置这些标头，而不仅仅是在登录页面上。最简单的方法是创建一个 servlet 过滤器，该过滤器映射到与受限页面相同的 URL 模式，并在`doFilter()`方法中设置这些标题。

    ```
    public class NoCacheFilter implements Filter {

        @Override
        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {
            HttpServletResponse response = (HttpServletResponse) res;
            response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); // HTTP 1.1.
            response.setHeader("Pragma", "no-cache"); // HTTP 1.0.
            response.setDateHeader("Expires", 0); // Proxies.
            chain.doFilter(req, res);
        }

        // ...
    } 
    ```

    如果您已经在受限页面的 URL 模式上使用了自定义过滤器，该过滤器需要检查登录用户的存在并处理重定向到登录页面，那么您也可以在同一个过滤器中完成这项工作反而。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T05:15:04.120

您需要更改以下内容：

```
response.setHeader("Cache-Control", "no-store"); 
```

至：

```
response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); 
```

阅读[这篇](https://stackoverflow.com/questions/49547/making-sure-a-web-page-is-not-cached-across-all-browsers)文章以获得进一步的描述。

# mongodb - 在 MongoDB 中，将帖子的所有评论保存在一个文档中是否可行？

> ID：11077202
> 
> 赞同：14
> 
> 时间：2012-06-18T05:10:01.750
> 
> 标签：mongodb

我已经阅读了基于文档的数据库的描述，例如，如果您愿意，可以将所有评论嵌入到与帖子相同的文档中的帖子下：

```
{
   _id = sdfdsfdfdsf,
   title = "post title"
   body = "post body"
   comments = [
      "comment 1 ......................................... end of comment"
           .
           .
           n
   ]
} 
```

我有类似的情况，每条评论可能高达 8KB，每个帖子可能有多达 30 条评论。

尽管在同一个文档中嵌入注释很方便，但我想知道大型文档是否会影响性能，尤其是当 MongoDb 服务器和 http 服务器在不同的机器上运行并且必须通过 LAN 通信时？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-18T11:28:55.040

在其他人之后发布这个答案，所以我将重复提到的一些事情。请接受第一个合适的答案，而不是这个。

也就是说，有一些事情需要考虑。考虑这三个问题：

1.  每次查询帖子时都会要求所有评论吗？
2.  您想直接查询评论（例如查询特定用户的评论）吗？
3.  您的系统使用率会相对较低吗？

如果所有问题都可以用“是”回答，那么您可以嵌入评论数组。在所有其他情况下，您可能需要一个单独的集合来存储您的评论。

首先，您实际上可以以并发安全的方式自动更新和删除注释（请参阅使用位置运算符的更新），但有些事情您不能做，例如基于索引的插入。

对任何类型的大型集合使用嵌入式数组的主要问题是移动更新问题。MongoDB 为每个文档保留一定数量的填充（请参阅 参考资料`db.col.stats().paddingFactor`）以允许它根据需要增长。如果它用完了这个填充（它通常会出现在你的用例中），它将不得不在磁盘上移动那个不断增长的文档。这使得更新速度变慢了一个数量级，因此对高带宽服务器来说是一个严重的问题。一个相关但不太重要的问题是带宽。如果您别无选择，只能查询整个帖子及其所有评论，即使您只显示前 10 条，您将浪费相当多的带宽，这在云环境中尤其是一个问题（您可以使用 $切片以避免其中一些）。

如果您确实想嵌入这里是您的基本操作：

添加评论 ：

```
db.posts.update({_id:[POST ID]}, {$push:{comments:{commentId:"remon-923982", author:"Remon", text:"Hi!"}}}) 
```

更新评论：

```
 db.posts.update({_id:[POST ID], 'comments.commentId':"remon-923982"}, {$set:{'comments.$.text':"Hello!"}}) 
```

删除评论

```
db.posts.update({_id:[POST ID], 'comments.commentId':"remon-923982"}, {$pull:{comments:{commentId:"remon-923982"}}}) 
```

所有这些方法都是并发安全的，因为更新标准是（进程范围的）写锁的一部分。

综上所述，您可能想要一个专门的评论收藏集，但这有第二个选择。您可以将每条评论存储在专用文档中，也可以使用评论桶，例如，每条评论 20-30 条（在此处详细描述[http://www.10gen.com/presentations/mongosf2011/schemascale](http://www.10gen.com/presentations/mongosf2011/schemascale)）。这有优点和缺点，所以由你决定哪种方法最适合你想做的事情。如果您每篇文章的评论可能超过几百条，我会选择存储桶，因为您需要分页它们的 skip(N) 游标方法的 o(N) 性能。在所有其他情况下，只需使用每个文档的评论方法。这对于查询其他用例的评论也是最灵活的。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-18T08:44:41.927

这在很大程度上取决于您要允许的操作，但单独的集合通常更好。

例如，如果您想允许用户编辑或删除评论，将评论存储在单独的集合中是一个非常好的主意，因为这些操作很难或不可能单独使用原子修饰符来表达，并且状态管理变得痛苦。该文档[也涵盖了这一点](http://www.mongodb.org/display/DOCS/Atomic+Operations)。

嵌入评论的一个关键问题是您将拥有不同的作者。通常，博客文章只能由博客作者修改。可以这么说，通过嵌入的评论，读者还可以获得对该对象的写访问权。

像这样的代码会很危险：

```
post = db.findArticle( { "_id" : 2332 } );
post.Text = "foo";
// in this moment, someone does a $push on the article's comments
db.update(post);
// now, we've deleted that comment 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-18T10:55:06.183

For performance reasons it is best to avoid documents that can grow in size over time:

Padding Factors:

> "When you update a document in MongoDB, the update occurs in-place if the document has not grown in size. If the document did grow in size, however, then it might need to be relocated on disk to find a new disk location with enough contiguous space to fit the new larger document. This can lead to problems for write performance if the collection has many indexes since a move will require updating all the indexes for the document."

[http://www.mongodb.org/display/DOCS/Padding+Factor](http://www.mongodb.org/display/DOCS/Padding+Factor)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T08:32:02.383

如果您总是检索包含所有评论的帖子，为什么不呢？

如果您不这样做，或者您在查询中检索评论而不是通过帖子（即查看用户页面上的所有用户评论），那么可能不会，因为查询会变得更加复杂。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T07:35:31.203

简短的回答：是和不是。

假设您正在写一个基于 mongoDB 的博客。您会将您的评论嵌入到您的帖子中。

原因：查询很容易，您只需执行一个请求并获取您需要显示的所有数据。

现在，您知道您将获得带有子文档的大型文档。由于您需要通过 LAN 为它们提供服务，我强烈建议您将它们存储在不同的集合中。

原因：通过网络发送大型文档需要时间。我想，在某些情况下您不需要每个子文档。

**TL;DR：**两种变体都有效。我建议您将评论存储在单独的表格中。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-11-16T06:34:07.010

我正在做一个需要帖子和评论的类似项目，让我列出两者的要点：

如果您： - 需要删除帖子的特定评论 - 想要显示任何帖子的最新评论（通常在博客的侧边栏中），请保留在单独的文档中

如果您： - 不需要上述任何内容 - 需要在同一查询中获取帖子的所有评论（单独的文档方法将需要从不同文档中获取评论），请保留在同一个文档中

# jsp - 创建jsp文件出错

> ID：11077203
> 
> 赞同：1
> 
> 时间：2012-06-18T05:10:05.350
> 
> 标签：jsp, struts

```
<%@taglib uri="http://jakarta.apache.org/struts/tags-html" prefix="html"%>
<%@taglib uri="http://jakarta.apache.org/struts/tags-bean" prefix="bean" %> 
```

我在 Eclipse 中创建 jsp 文件，它在指令中显示错误，它不接受我上面提到的 uri。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:20:36.827

从你使用的问题

**Struts 标签库自动配置**

这是应该怎么做的

[Struts 标签库配置自动和手动](http://www.mkyong.com/struts/configure-the-struts-tag-libraries/)

这是一种简单的方法，仅在 Struts 1.2、1.3 和 Servlet 2.3/2.4 容器中使用。您不再需要在 web.xml 中定义“tlds”详细信息，只需在项目类路径中包含 struts-taglib.jar 或将其复制到 WEB-INF/lib 文件夹。

所有“tld”细节都在“struts-taglib.jar\META-INF\tld”文件夹中定义。在部署期间，struts-bean.tld、struts-html.tld、struts-logic.tld 和 struts-tiles.tld 将自动部署。但是，您只能通过以下“预先固定的 uri”名称访问它。在此方法中，您不允许更改“taglib uri”名称。

```
<%@ taglib uri="http://struts.apache.org/tags-bean" prefix="bean" %>
<%@ taglib uri="http://struts.apache.org/tags-html" prefix="html" %>
<%@ taglib uri="http://struts.apache.org/tags-logic" prefix="logic" %>
<%@ taglib uri="http://struts.apache.org/tags-tiles" prefix="tiles" %> 
```

# wso2 - 如何将多个 BPEL 流程从同一个 BPEL 项目添加到 CApp

> ID：11077217
> 
> 赞同：0
> 
> 时间：2012-06-18T05:11:29.937
> 
> 标签：wso2, bpel

当我试图创建一个包含多个 BPEL 流程的 CApp 时，我们没有提供在 CApp 中选择 BPEL 流程的规定。请参阅下面的屏幕截图。我们怎样才能摆脱这个..

![在此处输入图像描述](../Images/218392c0be39f04a3c8c515ed7985c64.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T09:17:19.727

根据您的屏幕截图，您需要列出 Carbon Application POM Editor 上的所有过程。让我解释一下 Carbon Application POM Editor 的用途，它用于列出所有可部署的工件，以便用户可以决定应该打包什么到汽车和什么不。所以小编无意一一展示流程。在目前的 DSS 场景中，您不能在单个数据服务项目中拥有多个数据服务。

# php - MySQL + PHP 选择日期在今天和提前两周之间的所有行

> ID：11077222
> 
> 赞同：0
> 
> 时间：2012-06-18T05:12:23.507
> 
> 标签：php, mysql, date

我有一个看起来像这样的 MySQL 表：

```
+-----+------------+
| id  | enddate    |
+------------------+
| 1   | 2012-06-30 |
+------------------+
| 2   | 2012-07-05 |
+------------------+
| 3   | 2012-07-02 |
+------------------+ 
```

在我的网站上，我想打印出日期介于以下范围之间的所有行：

*今天的日期*（我的意思不是固定的，而是查询运行的日期）和*提前 2 周*。

因此，使用上面的示例只会打印第 1 行和第 3 行。

有人对此有解决方案吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T05:16:07.487

我认为您需要 BETWEEN 比较运算符和一些简单的日期函数：

```
WHERE enddate BETWEEN CURDATE() AND ADDDATE(CURDATE(), INTERVAL 14 DAY); 
```

[http://dev.mysql.com/doc/refman/5.5/en/comparison-operators.html#operator_between](http://dev.mysql.com/doc/refman/5.5/en/comparison-operators.html#operator_between)

[http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_adddate](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_adddate)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T05:23:13.867

您可以使用

```
WHERE enddate BETWEEN CURDATE() AND ADDDATE(CURDATE(), INTERVAL 2 WEEK); 
```

[`Reference`](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date-add)

# configuration - 读取配置值的顺序是什么？

> ID：11077223
> 
> 赞同：17
> 
> 时间：2012-06-18T05:12:31.237
> 
> 标签：configuration, environment-variables, command-line-arguments, configuration-files

对于我正在编写的 python 程序，我想提供以三种不同方式配置它的机会。环境变量、配置文件和命令行参数。

从逻辑上讲，我认为命令行参数应该始终具有最高优先级。我有点怀疑环境变量是否应该优先于配置文件？配置文件是系统范围的、特定于用户的还是作为命令行参数给出的？

（注意我的平台是 Unix/Linux）

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-06-18T05:20:25.703

我知道的标准是首先查找命令行参数，如果没有找到环境变量，然后是本地配置文件，然后是全局配置文件。

因此，当某个软件包安装在某处时。它将有一个默认的配置文件。这可以通过本地配置文件进行更改。可以使用 environ 参数覆盖，然后命令行参数具有最高优先级。

如果在命令行上声明了配置文件，则其内容将优先于环境参数或任何其他配置文件。但是命令行参数将优先于它。但请记住，搜索路径仍然存在。如果包正在寻找它寻找的 var。

```
Command line.
Config file thats name is declared on the command line.
Environment vars
Local config file (if exists)
Global config file (if exists) 
```

我认为许多命令行编译器和 Boost 库 config pak 以类似的方式工作

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-02-15T11:27:18.480

[AWS CLI](https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html)符合公认的答案：

> 选项的优先级：
> 
> *   如果您使用本主题中描述的环境变量之一指定选项，它将覆盖从配置文件中的配置文件加载的任何值。
>     
>     
> *   如果您在 CLI 命令行上使用参数指定选项，它会覆盖相应环境变量或配置文件中的配置文件中的任何值。

# java - 如何仅将 servlet 过滤器应用于具有 HTTP POST 方法的请求

> ID：11077225
> 
> 赞同：26
> 
> 时间：2012-06-18T05:12:48.203
> 
> 标签：java, servlets, servlet-filters

在我的应用程序中，我想应用一个过滤器，但我不希望所有请求都必须转到该过滤器。

这将是一个性能问题，因为我们已经有了一些其他过滤器。

我希望我的过滤器仅适用于 HTTP POST 请求。有什么办法吗？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-06-18T06:00:45.733

没有现成的功能。A`Filter`在应用于所有 HTTP 方法时没有开销。但是，如果您在`Filter`代码中有一些有开销的逻辑，则不应将该逻辑应用于不需要的 HTTP 方法。

这是示例代码：

```
public class HttpMethodFilter implements Filter
{
   public void init(FilterConfig filterConfig) throws ServletException
   {

   }

   public void doFilter(ServletRequest request, ServletResponse response,
       FilterChain filterChain) throws IOException, ServletException
   {
       HttpServletRequest httpRequest = (HttpServletRequest) request;        
       if(httpRequest.getMethod().equalsIgnoreCase("POST")){

       }
       filterChain.doFilter(request, response);
   }

   public void destroy()
   {

   }
} 
```

# java - 通过分割区域实现 HBase 负载均衡

> ID：11077228
> 
> 赞同：3
> 
> 时间：2012-06-18T05:13:13.263
> 
> 标签：java, hadoop, hbase

我有一个 5 节点的 HBase 集群，并且主要有获取顺序数据的输入请求。

为了优化存储，我在高负载区域上运行了手动区域分割，但它并没有优化太多，因为它分割了区域，但主要是在同一个区域服务器上。

如何以这种方式控制区域分割

```
r-1(k1 to k2) on server s1,
r-2(k2 to k3) on server s2,
r-3(k3 to k4) on server s3,
r-4(k4 to k5) on server s4,
r-5(k5 to k6) on server s5,
r-6(k6 to k7) on server s1, 
```

即拆分后，没有连续的区域进入同一台服务器来控制同一台服务器上的负载。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T10:29:52.253

我假设服务器是指 RegionServer。区域是随机分配的区域服务器，所以如果你的集群足够大，这种情况不应该发生（或者应该很少发生）。这个想法是你不应该为此烦恼。另外，请了解 regionserver 只是数据的网关。它依赖 HDFS 来获取实际数据，而数据的来源由 HDFS 决定。

此外，即使连续区域最终由同一个 RS 提供服务，您也应该能够使用多线程来更快地获取数据。HBase 已经在内部为每个区域 AFAIK 运行了一个单独的线程。通常，它不会导致过多的负载。您是否看到实际上因此导致负载过大？您是否进行了任何分析以查看导致负载的原因？

所以，确实应该没有必要这样做，但在特殊情况下，你可以使用[`HBaseAdmin.move`](http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/HBaseAdmin.html#move%28byte%5B%5D,%20byte%5B%5D%29)方法来实现这一点。您可以使用 编写一些代码来遍历表的所有区域[`HTable.getRegionLocations()`](http://hbase.apache.org/apidocs/org/apache/hadoop/hbase/client/HTable.html#getRegionLocations%28%29)，根据开始键对区域进行排序，并手动 ( `using HBaseAdmin.move()`) 确保所有连续区域位于单独的区域服务器上。但我强烈怀疑这实际上是一个问题，我建议您在采用这种方法之前确认这一点。

# vb6 - VB6 使用列表视图进行分页

> ID：11077230
> 
> 赞同：2
> 
> 时间：2012-06-18T05:13:35.680
> 
> 标签：vb6, paging

我在想是否有办法（组件或参考）来分解 adodb.recordlist（例如在 sql 数据库中选择的记录）由大量记录组成。

然后一个文本框可以被用户用来跳转到他想要查看的页面。

只是想了解如何在代码中编写它。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T07:18:55.417

您可以通过该属性设置页面大小，`.PageSize`并通过设置该属性跳转到特定页面`.AbsolutePage`。

[这](http://msdn.microsoft.com/en-us/library/windows/desktop/ms676157%28v=vs.85%29.aspx)是一个例子。

# java - 由于哪个版本是 Java 中可用的条件运算符

> ID：11077233
> 
> 赞同：0
> 
> 时间：2012-06-18T05:13:54.193
> 
> 标签：java, conditional-operator

我在我的 Java 应用程序中的许多地方都使用了条件运算符。现在我怀疑它是否与所有 Java 版本兼容。换句话说，我想知道条件运算符是从哪个版本开始在 Java 中可用的。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T05:16:46.533

它从 Java 的第一个版本开始就可用。我的意思是java 1.0

# wpf - 如何在 WPF 中获取 Tooltip 的文本更改事件

> ID：11077234
> 
> 赞同：0
> 
> 时间：2012-06-18T05:13:54.117
> 
> 标签：wpf, wpf-controls

我需要获取工具提示的文本更改事件。但我看不到任何这样的事件。

我怎样才能得到这个事件或使我能够得到这个事件的事件？

任何帮助将不胜感激。

易卜拉欣

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:11:51.890

您通常会将 ToolTip 的值绑定到视图模型的属性。但是，如果你真的需要一个事件，你会这样做：

```
 SomeMethod()
 {
    ...
    var descriptor = DependencyPropertyDescriptor.FromProperty(
                     ToolTipService.ToolTipProperty, typeof (UIElement));

    // we're interested in a TextBox called textBox
    descriptor.AddValueChanged(textBox, TooltipChanged);
    ...

    textBox.ToolTip = "Hello";
}

private void TooltipChanged(object sender, EventArgs eventArgs)
{
    // output's "Hello"
    Debug.WriteLine(textBox.ToolTip);
} 
```

# c# - 透明窗口层，可点击并始终位于顶部

> ID：11077236
> 
> 赞同：34
> 
> 时间：2012-06-18T05:14:04.403
> 
> 标签：c#, .net, winforms

这是我尝试实现的一些代码。它的目的是创建一个透明的、全屏的、无边界的、可点击的并且始终位于其他窗口之上的表单层。然后，它允许您在其顶部使用 directx 进行绘制，否则保持透明。

不起作用的部分是点击部分和directx 渲染。当我运行它时，我基本上在所有其他窗口前面都有一个不可见的力场，并且必须在 Visual Studio 周围使用 alt-tab 才能快速按下 ALT F5 并结束调试（所以至少总是在顶部和透明度有效）。我一直在试图弄清楚为什么这些部分不起作用，但是我的新手 c# 技能让我失望了。希望有人能找出原因并提供修改。

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Text;
using System.Windows.Forms;
using System.Diagnostics;
using System.Runtime.InteropServices;
using System.Globalization;
using Microsoft.DirectX;
using Microsoft.DirectX.Direct3D;
using System.Threading;

namespace MinimapSpy
{
public partial class Form1 : Form
{

    private Margins marg;

    //this is used to specify the boundaries of the transparent area
    internal struct Margins
    {
        public int Left, Right, Top, Bottom;
    }

    [DllImport("user32.dll", SetLastError = true)]

    private static extern UInt32 GetWindowLong(IntPtr hWnd, int nIndex);

    [DllImport("user32.dll")]

    static extern int SetWindowLong(IntPtr hWnd, int nIndex, IntPtr dwNewLong);

    [DllImport("user32.dll")]

    static extern bool SetLayeredWindowAttributes(IntPtr hwnd, uint crKey, byte bAlpha, uint dwFlags);

    public const int GWL_EXSTYLE = -20;

    public const int WS_EX_LAYERED = 0x80000;

    public const int WS_EX_TRANSPARENT = 0x20;

    public const int LWA_ALPHA = 0x2;

    public const int LWA_COLORKEY = 0x1;

    [DllImport("dwmapi.dll")]
    static extern void DwmExtendFrameIntoClientArea(IntPtr hWnd, ref Margins pMargins);

    private Device device = null;

    public Form1()
    {

        //Make the window's border completely transparant
        SetWindowLong(this.Handle, GWL_EXSTYLE,
                (IntPtr)(GetWindowLong(this.Handle, GWL_EXSTYLE) ^ WS_EX_LAYERED ^ WS_EX_TRANSPARENT));

        //Set the Alpha on the Whole Window to 255 (solid)
        SetLayeredWindowAttributes(this.Handle, 0, 255, LWA_ALPHA);

        //Init DirectX
        //This initializes the DirectX device. It needs to be done once.
        //The alpha channel in the backbuffer is critical.
        PresentParameters presentParameters = new PresentParameters();
        presentParameters.Windowed = true;
        presentParameters.SwapEffect = SwapEffect.Discard;
        presentParameters.BackBufferFormat = Format.A8R8G8B8;

        this.device = new Device(0, DeviceType.Hardware, this.Handle,
        CreateFlags.HardwareVertexProcessing, presentParameters);

        Thread dx = new Thread(new ThreadStart(this.dxThread));
        dx.IsBackground = true;
        dx.Start();  
        InitializeComponent();

    }

   protected override void OnPaint(PaintEventArgs e)
   {
        //Create a margin (the whole form)
      marg.Left = 0;
     marg.Top = 0;
      marg.Right = this.Width;
      marg.Bottom = this.Height;

        //Expand the Aero Glass Effect Border to the WHOLE form.
        // since we have already had the border invisible we now
        // have a completely invisible window - apart from the DirectX
        // renders NOT in black.
     DwmExtendFrameIntoClientArea(this.Handle, ref marg);  

  }
    private void Form1_Load(object sender, EventArgs e)
    {

    }
    private void dxThread()
    {
        while (true)
        {
            //Place your update logic here
            device.Clear(ClearFlags.Target, Color.FromArgb(0, 0, 0, 0), 1.0f, 0);
            device.RenderState.ZBufferEnable = false;
            device.RenderState.Lighting = false;
            device.RenderState.CullMode = Cull.None;
            device.Transform.Projection = Matrix.OrthoOffCenterLH(0, this.Width, this.Height, 0, 0, 1);
            device.BeginScene();

            //Place your rendering logic here

            device.EndScene();
            //device.Present();
        }

        this.device.Dispose();
        Application.Exit();
    }  

} 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-22T08:25:51.373

这是一个完善的完整示例代码，用于制作最顶部的窗口 - 单击 - 透明（= alpha 混合）。该示例制作了一个使用 DirectX 或实际上使用 XNA 4.0 渲染的旋转色轮，因为我相信 Microsoft 已经停止开发托管的 directx 并支持 XNA。

```
using System;
using System.Windows.Forms;
using System.Runtime.InteropServices;
using Microsoft.Xna.Framework.Graphics;

namespace ClickThroughXNA
{
    public partial class Form1 : Form
    {
        // Directx graphics device
        GraphicsDevice dev = null;        
        BasicEffect effect = null;     

        // Wheel vertexes
        VertexPositionColor[] v = new VertexPositionColor[100];

        // Wheel rotation
        float rot = 0;

        public Form1()
        {
            InitializeComponent();

            StartPosition = FormStartPosition.CenterScreen;   
            Size = new System.Drawing.Size(500, 500);
            FormBorderStyle = System.Windows.Forms.FormBorderStyle.None;  // no borders

            TopMost = true;        // make the form always on top                     
            Visible = true;        // Important! if this isn't set, then the form is not shown at all

            // Set the form click-through
            int initialStyle = GetWindowLong(this.Handle, -20);
            SetWindowLong(this.Handle, -20, initialStyle | 0x80000 | 0x20);

            // Create device presentation parameters
            PresentationParameters p = new PresentationParameters();
            p.IsFullScreen = false;
            p.DeviceWindowHandle = this.Handle;
            p.BackBufferFormat = SurfaceFormat.Vector4;
            p.PresentationInterval = PresentInterval.One;

            // Create XNA graphics device
            dev = new GraphicsDevice(GraphicsAdapter.DefaultAdapter, GraphicsProfile.Reach, p);

            // Init basic effect
            effect = new BasicEffect(dev);

            // Extend aero glass style on form init
            OnResize(null);
        }

        protected override void OnResize(EventArgs e)
        {
            int[] margins = new int[] { 0, 0, Width, Height };

            // Extend aero glass style to whole form
            DwmExtendFrameIntoClientArea(this.Handle, ref margins);  
        }

        protected override void OnPaintBackground(PaintEventArgs e)
        {
            // do nothing here to stop window normal background painting
        }

        protected override void OnPaint(PaintEventArgs e)
        {                
            // Clear device with fully transparent black
            dev.Clear(new Microsoft.Xna.Framework.Color(0, 0, 0, 0.0f));

            // Rotate wheel a bit
            rot+=0.1f;

            // Make the wheel vertexes and colors for vertexes
            for (int i = 0; i < v.Length; i++)
            {                    
                if (i % 3 == 1)
                    v[i].Position = new Microsoft.Xna.Framework.Vector3((float)Math.Sin((i + rot) * (Math.PI * 2f / (float)v.Length)), (float)Math.Cos((i + rot) * (Math.PI * 2f / (float)v.Length)), 0);
                else if (i % 3 == 2)
                    v[i].Position = new Microsoft.Xna.Framework.Vector3((float)Math.Sin((i + 2 + rot) * (Math.PI * 2f / (float)v.Length)), (float)Math.Cos((i + 2 + rot) * (Math.PI * 2f / (float)v.Length)), 0);

                v[i].Color = new Microsoft.Xna.Framework.Color(1 - (i / (float)v.Length), i / (float)v.Length, 0, i / (float)v.Length);
            }

            // Enable position colored vertex rendering
            effect.VertexColorEnabled = true;
            foreach (EffectPass pass in effect.CurrentTechnique.Passes) pass.Apply();

            // Draw the primitives (the wheel)
            dev.DrawUserPrimitives(PrimitiveType.TriangleList, v, 0, v.Length / 3, VertexPositionColor.VertexDeclaration);

            // Present the device contents into form
            dev.Present();

            // Redraw immediatily
            Invalidate();            
        }

        [DllImport("user32.dll", SetLastError = true)]
        static extern int GetWindowLong(IntPtr hWnd, int nIndex);

        [DllImport("user32.dll")]
        static extern int SetWindowLong(IntPtr hWnd, int nIndex, int dwNewLong);

        [DllImport("dwmapi.dll")]
        static extern void DwmExtendFrameIntoClientArea(IntPtr hWnd, ref int[] pMargins);

    }
} 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-06-22T08:42:59.643

对 Jaska 的代码进行一点扩展/修改，表单是透明的

```
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();

        this.TopMost = true; // make the form always on top
        this.FormBorderStyle = System.Windows.Forms.FormBorderStyle.None; // hidden border
        this.WindowState = FormWindowState.Maximized; // maximized
        this.MinimizeBox = this.MaximizeBox = false; // not allowed to be minimized
        this.MinimumSize = this.MaximumSize = this.Size; // not allowed to be resized
        this.TransparencyKey = this.BackColor = Color.Red; // the color key to transparent, choose a color that you don't use
    }

    protected override CreateParams CreateParams
    {
        get
        {
            CreateParams cp = base.CreateParams;
            // Set the form click-through
            cp.ExStyle |= 0x80000 /* WS_EX_LAYERED */ | 0x20 /* WS_EX_TRANSPARENT */;
            return cp;
        }
    }

    protected override void OnPaint(PaintEventArgs e)
    {
        base.OnPaint(e);
        // draw what you want
        e.Graphics.FillEllipse(Brushes.Blue, 30, 30, 100, 100);
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-25T05:43:51.843

将扩展窗口样式更改为仅 WS_EX_LAYERED，将窗口样式更改为仅 WS_POPUP（无 WS_SIZEBOX）并确保将 DwmExtendFrameIntoClientArea 与所有 -1 一起使用，这将生成具有分层支持的透明窗口：缺点是您需要从屏幕外直接使用 GDI 进行 bltbit渲染。不是最佳的，但它有效。这提供了鼠标点击 + directx 渲染 + 透明度。缺点是您需要随时通知 GDI，拉出 directx 缓冲区（全部或只是损坏的部分）并使用 bltbit 将它们写入屏幕。

将扩展窗口样式设置为 WS_EX_COMPOSITED 和全为 -1 的 DwmExtendedFrameIntoClientArea（类似于上面，常规窗口样式上的 WS_POPUP）。您可以从中运行directx，但没有鼠标点击。此时，您可以为命中蒙版定义不规则路径并将其传递给窗口，这并不完美，但如果您知道可以通过的一般（非规则）区域，它将起作用。

仍在尝试找到一种在 mac 或 windows 平台上使用 opengl/directx 的真正方法，该方法可以通过鼠标单击而无需对旧版渲染系统进行 bitblt。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-07-27T09:32:48.070

我有一个简单的方法使用TransparentKey 属性和一个1x1 像素标签，其颜色为Form TransparentKey。对 Form 和所有控件的 MouseMouse 事件进行控制。将标签位置设置为鼠标位置。

```
private void MoveHole()
{
    var newLocation = PointToClient(MousePosition);
    lblHole.Location = newLocation;
} 
```

# android - Android通过php远程连接Mysql DB - 登录认证

> ID：11077243
> 
> 赞同：0
> 
> 时间：2012-06-18T05:14:53.603
> 
> 标签：android, login, http-post, httpclient, httpresponse

我正在开发一个小型应用程序，并且需要进行身份验证。我正在尝试通过 php 连接到 MYsql db 来进行开发。

*添加 uname/pw --> 日志记录 --> 发送到 php --> 检查 db --> ok 发送回 android --> 已验证。/ 错误发送回重新登录。*

到目前为止，我已经发展了，我认为应该是这样，但我不确定，因为我对绳索真的很陌生。
请善意地帮助我进行接线。谢谢你。

```
public class Loging extends Activity{

    TextView txt;
    EditText uname,pwd;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);

        setContentView(R.layout.loging);
        Button b = (Button)findViewById(R.id.log);
        uname = (EditText)findViewById(R.id.uname);
        pwd = (EditText)findViewById(R.id.pwd);

        b.setOnClickListener(new View.OnClickListener() {

            public void onClick(View arg0) {
                // TODO Auto-generated method stub

                ArrayList<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();

                    nameValuePairs.add(new BasicNameValuePair("name", uname.getText().toString()));
                    nameValuePairs.add(new BasicNameValuePair("Pass", pwd.getText().toString()));

                    try 
                    {
                     HttpClient httpclient = new DefaultHttpClient();
                     HttpPost httppost = new HttpPost("http://www.helloworld.com/report.php");
                     httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
                     HttpResponse response = httpclient.execute(httppost);
                     HttpEntity entity = response.getEntity();
                     InputStream is = entity.getContent();
                    }
                    catch(Exception e)
                    {
                            Log.e("log_tag","Error in http connection"+e.toString());
                    }   
            }
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T05:36:18.240

```
public class Loging extends Activity{

    TextView txt;
    EditText uname,pwd;
    final Loging login = this; 
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);

        setContentView(R.layout.loging);
        Button loging = (Button)findViewById(R.id.log);
        Button adduser = (Button)findViewById(R.id.adduser);
        uname = (EditText)findViewById(R.id.uname);
        pwd = (EditText)findViewById(R.id.pwd);

        loging.setOnClickListener(new View.OnClickListener() {

            public void onClick(View arg0) {
                // TODO Auto-generated method stub

                // Create a new HttpClient and Post Header
                HttpClient httpclient = new DefaultHttpClient();

                /* login.php returns true if username and password is equal to saranga */
                HttpPost httppost = new HttpPost("http://www.xoxoxoxox.com/login.php");

                try {
                    // Add user name and password
                 EditText uname = (EditText)findViewById(R.id.uname);
                 String username = uname.getText().toString();

                 EditText pword = (EditText)findViewById(R.id.pwd);
                 String password = pword.getText().toString();

                    List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
                    nameValuePairs.add(new BasicNameValuePair("username", username));
                    nameValuePairs.add(new BasicNameValuePair("password", password));
                    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

                    // Execute HTTP Post Request
                    Log.w("SENCIDE", "Execute HTTP Post Request");
                    HttpResponse response = httpclient.execute(httppost);

                    String str = inputStreamToString(response.getEntity().getContent()).toString();
                    Log.w("SENCIDE", str);

                    if(str.toString().equalsIgnoreCase("true"))
                    {
                     Log.w("SENCIDE", "TRUE");
                     //result.setText("Login successful");   

                     Intent in = new Intent();
                        in.setClass(login, MappingActivity.class);
                                startActivity(in);
                    }else
                    {
                     Log.w("SENCIDE", "FALSE");
                     AlertDialog alertDialog = new AlertDialog.Builder(Loging.this).create();
                        alertDialog.setTitle("Credentials Missing");
                        alertDialog.setMessage("Please add UserName and Password");
                        alertDialog.setButton("OK", new DialogInterface.OnClickListener() {
                           public void onClick(DialogInterface dialog, int which) {
                              // here you can add functions
                               Intent i = new Intent();
                                i.setClass(login, MappingActivity.class);
                                        startActivity(i);
                           }
                        });
                        alertDialog.show();            
                    }

                } catch (ClientProtocolException e) {
                 e.printStackTrace();
                } catch (IOException e) {
                 e.printStackTrace();
                }

            }

            private Object inputStreamToString(InputStream is) {
                // TODO Auto-generated method stub
                String line = "";
                 StringBuilder total = new StringBuilder();
                 // Wrap a BufferedReader around the InputStream
                 BufferedReader rd = new BufferedReader(new InputStreamReader(is));
                 // Read response until the end
                 try {
                  while ((line = rd.readLine()) != null) { 
                    total.append(line); 
                  }
                 } catch (IOException e) {
                  e.printStackTrace();
                 }
                 // Return full string
                 return total;
            }
        });

        adduser.setOnClickListener(new View.OnClickListener() {

            public void onClick(View v) {
                // TODO Auto-generated method stub
                Intent in = new Intent();
                in.setClass(login, Adduser.class);
                        startActivity(in);
            }
        });

    }

} 
```

# javascript - Javascript按值编号从列表框中选择项目

> ID：11077246
> 
> 赞同：-1
> 
> 时间：2012-06-18T05:15:12.647
> 
> 标签：javascript, select

我在页面上有一个列表框：

```
<select id="user_list" name="user_list" size="21" style="width:200px;">
  <option value=1>User 1</option>
  <option value=2>User 2</option>
  <option value=3>User 3</option>
  <option value=5>User 5</option>
  <option value=6>User 6</option>
</select> 
```

如果我选择一个项目，我可以使用以下代码获取当前值：

```
var el = document.getElementById("user_list");
var val = el[el.selectedIndex].value;
alert(val); 
```

但是，我遇到的问题是我希望能够在 user_list （从 1 开始）中搜索下一个可用数字（在我上面的示例中，它会提醒 4，因为它丢失了）

但我尝试过使用：

```
var el = document.getElementById("user_list");
var val = el[4].value;
alert(val); 
```

但它不起作用，有谁知道我做错了什么？

我的猜测是 var val = el[4].value; 是错的.. ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:25:53.360

它运作良好。 [http://jsfiddle.net/ubpn7/](http://jsfiddle.net/ubpn7/)

# reporting-services - SSRS 2008 报告在从打印机打印时缩小/挤压，但如果我导出则可以正常工作

> ID：11077249
> 
> 赞同：0
> 
> 时间：2012-06-18T05:15:28.727
> 
> 标签：reporting-services, printing, formatting, ssrs-2008

我有一个**SSRS 2008 RDL**报告，我部署在我们的报告服务器上。直到今天，一切都很好，当直接从报表服务器打印的所有报表都出现压缩和收缩时。报表服务器中的报表预览完全没问题。**但是将其打印到打印机和 xps 文件会改变报告的外观。**

但是，如果我将报告导出到 Word 或 Adob​​e，似乎不会发生。

我非常确定这份报告和所有其他报告之前都可以正确打印，直到我们今天才弄清楚。

我注意到这不是在一台电脑上，我尝试通过网络在两台不同的电脑上运行同一组报告，结果仍然相同，SHRUNK 报告。

可惜我不能上传图片。

任何帮助表示赞赏。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T21:53:36.170

我已经解决了这个问题。我尝试了很多东西，例如边距和字体，但没有帮助。

因此，重新启动托管这些报告的服务器将它们全部修复。我不知道如何以及为什么，但我的所有报告都在打印，如预览中所示。

谢谢

# python - Python 语音转文本的模块或库 (2.7)

> ID：11077252
> 
> 赞同：3
> 
> 时间：2012-06-18T05:16:07.910
> 
> 标签：python, python-2.7, speech-to-text

所以我一直在寻找一个语音到文本模块，我找到了一些，比如蜻蜓和pyspeech，但是，它们适用于python 2.4和2.5，但是，我需要一个用于2.7的。有谁知道这个库或模块？预先感谢您的回复

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:25:22.583

我认为您还可以将 python 绑定用于语音识别引擎，例如[pocketsphinx](http://cmusphinx.sourceforge.net/wiki/tutorialpocketsphinx)和[cmusphinx3](http://cmusphinx.sourceforge.net/)（例如；[python-pocketsphinx](http://maemo.org/packages/view/python-pocketsphinx/)和 cmusphinx3-python）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:33:22.660

根据文档：[Dragonfly 需要 python 2.5 或更高版本。](http://pythonhosted.org/dragonfly/installation.html#installation). Python 2.7 适用于 Dragonfly。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T06:26:35.283

[Gohlke 的Base 包](http://www.lfd.uci.edu/~gohlke/pythonlibs/)中有一个用于 py2.7 的 Speech0.5.2 发行版。
Base 包最近也为 py3k（相同链接）准备了，但我不确定是否包含语音。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-31T07:39:25.487

如果您只安装了包管理器，dragonfly 0.6.5 可以在 py2.7 上运行：
按：`WIN`+ `R`；
按：`CMD` `ENTER`；
类型：`pip install dragonfly`

通过键入以下内容检查是否已安装：pip list（它将显示所有已安装的软件包）

# java - 使用多个求和查找有序集合的组合数

> ID：11077253
> 
> 赞同：1
> 
> 时间：2012-06-18T05:16:11.070
> 
> 标签：java, c++, sum, combinations, combinatorics

这是关于查找有序集合的多个组合的问题，其中元素具有约束。

举个例子：

a+b+c+d+e=635，可能是……

[0-90] + [1-120] + [50-150] + [20-200] + [30-250] = 635

一种解决方案使用多个求和，正如数学堆栈交换中所回答的那样。

[https://math.stackexchange.com/questions/159197/combinatorics-using-constraints-and-ordered-set](https://math.stackexchange.com/questions/159197/combinatorics-using-constraints-and-ordered-set)

有人可以大致了解解决此类问题的过程或伪代码吗？

非常感谢你！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:06:21.860

查看数学交换页面上发布的解决方案。每个 sigma 符号都是一个嵌套`for`循环。最里面的项 ,`x`给出为`if`。因此，您的算法应该是围绕 if 的四个嵌套循环。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:20:47.627

一堆嵌套的 for 循环是最简单的方法。

伪代码：

```
let combinations = 0;
for a = 0 to 90
    for b = max(a+1, 1) to 120
        for c = max(b+1, 50) to 150
            for d = max(c+1, 20) to 200
                let e = 635 - a - b - c - d;
                if max(d+1, 50) <= e <= 250
                    let combinations = combinations + 1 
```

**更新**

上面可以稍微优化一下，但你最终会得到一个特定的，而不是一般的解决方案。

您可以观察到这`(a+1) >= 1`始终是正确的，因此我们可以摆脱对 的`max`调用`b`。同样，`(c+1) >= 20`总是正确的，因此`d`可以简化分配给。

您还可以看到 的最大可能值为`a + b + c + d`540，这给出了 95 的最小可能值`e`。这大于规定的下限`e`，所以我们只需要检查一下`e >= (d+1)`。

我们最终得到：

```
let combinations = 0;
for a = 0 to 90
    for b = a+1 to 120
        for c = max(b+1, 50) to 150
            for d = c+1 to 200
                let e = 635 - a - b - c - d;
                if d+1 <= e <= 250
                    let combinations = combinations + 1 
```

# ruby-on-rails - 观察者内部的 url_for（用于 Facebook Open Graph）

> ID：11077254
> 
> 赞同：1
> 
> 时间：2012-06-18T05:16:34.903
> 
> 标签：ruby-on-rails, observers, url-for

我想使用观察者将内容发送到 Facebook Open Graph。

粗略地说，类似：

```
class ItemObserver < ActiveRecord::Observer
  observe :item
  def after_create(item)
    FbGraph::User.me(item.user.fb_token).og_action!('blah:add', :item => ...)
  end
end 
```

在控制器或视图中，很明显我可以使用`url_for`or `item_url`。但是如何在观察者内部获取 URL？观察者绝对是放置此代码的正确位置，因为可以在许多地方创建项目，并且将调用放在控制器中的每个操作上听起来是错误的。

好吧，这听起来像是“违反 MVC”，但在那种情况下，我认为它是必要的。

任何想法如何在没有黑客的情况下制作它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:41:32.983

好吧，包括这个：

`include Rails.application.routes.url_helpers`

有帮助。审判来临时我会找借口的。

更多应该添加的东西：

在所有环境文件中（config/environments/ENV_NAME.rb）

```
routes.default_url_options = { host: "host-for-that-env.com" } 
```

必须添加主机，因为在常规请求中，主机是从 HTTP 请求本身中计算出来的。

无论您在哪里包括，请添加：

```
include Rails.application.routes.url_helpers
default_url_options[:host] = ::Rails.application.routes.default_url_options[:host] 
```

规格：

```
RSpec.configure do |config|
  config.include Rails.application.routes.url_helpers 
```

# javascript - eval 拒绝在 Javascript 中将字符串更改为对象

> ID：11077264
> 
> 赞同：1
> 
> 时间：2012-06-18T05:17:54.413
> 
> 标签：javascript, eval

我尝试使用 eval 将字符串更改为对象但失败了。

```
var obj ="{a:0, b:-1}";
eval(obj); 
```

错误消息说“无效标签”，但即使这样也不起作用

```
var obj="{'a':'0', 'b':'-1'}"; 
```

代码有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:25:29.243

当`eval`输入 json 时，你必须在它周围加上大括号，所以它应该看起来像（否则它不是一个完整的 javascript 语句）：

```
eval('('+obj+')'); 
```

这解决了错误，但生成的对象没有保存到任何变量 - 所以你可能想得到其他东西，比如：

```
eval('obj = '+obj); 
```

这也是一个完整的陈述，此外，`obj`现在是一个“真实的”对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:32:13.093

你也可以尝试这样的事情。

```
var obj=eval(" [{'a':'0', 'b':'-1'}] ");
alert(obj); 
```

# c++ - 如何强制派生类比较

> ID：11077269
> 
> 赞同：2
> 
> 时间：2012-06-18T05:18:58.967
> 
> 标签：c++, inheritance

我有一个 virtual`class Element`强制它的派生类有一个 == 运算符：

所以，我有实现该运算符的派生类（整数、字）。

我有一个`class Group`基本上是一个元素列表。

在一个函数中，我想比较一个组中的一个元素是否等于另一个组的一个元素，所以我使用：

```
if(actual == lookingfor) 
```

实际和查找都是指向元素的指针......但是比较是在指针级别进行的，所以两个指针总是不同的。

如何强制使用派生类元素的运算符 == ？

编辑：

```
class Element 
{ 
  virtual int operator==(Elemento *)=0; 
}

class Word : public Element { ... } 

int Word::operator==(Element * element) 
{ 
  Element * ptr = element; 
  Word * wordPtr = dynamic_cast< Word * >(ptr); 
  int equal = 0; 
  if(wordPtr)
  { 
    equal = strncmp(this->ptr,wordPtr->ptr,49)==0; 
  } 
  return igual; 
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:30:20.533

我不知道 == 运算符会在这里做你想要的，但你总是可以定义一个虚拟方法：

```
class Element {
[...]
   virtual IsEqualTo(const Element & rhs) const = 0;
}; 
```

...然后对于每个子类，实现如下方法：

```
class Word : public Element {
[...]
   virtual IsEqualTo(const Element & rhs) const
   {
      const Word * wrhs = dynamic_cast<const Word *>(&rhs);
      return ((wrhs)&&(*wrhs == *this));
   }
}; 
```

...然后您的 Group 方法可以根据需要直接在 Groups 中的各种元素上调用 IsEqualTo() ，或者如果您希望使其“漂亮”，您可以实现 Element::operator==(const Element &)改为在内部调用 IsEqualTo()，并让您的 Group 方法（等）调用它，例如

```
bool Element :: operator == (const Element & rhs) const
{
   return IsEqualTo(rhs);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:34:38.257

^(请注意，下面的实现使用引用而不是指针作为参数来定义`operator==`为*纯抽象*。`struct Element`这就是通常的做法，我建议您在代码中也这样做。)

```
#include <iostream>

struct Element {
  virtual ~Element () {}
  virtual bool operator== (Element&) const =0; 
};

struct Integer : Element {
  bool operator== (Element&) const {
    return false; /* dummy impl */
  }
};

struct Word : Element {
  bool operator== (Element&) const {
    return false; /* dummy impl */
  }
}; 
```

* * *

不可能重载 中的指针比较`C++`，您必须取消引用您的指针，以便获得可以以正常方式比较的有效对象，并且您自己的对象`operator==`将被调用。

```
int
main (int argc, char *argv[])
{
  Element * e1 = new Integer;
  Element * e2 = new Word;

  if (*e1 == *e2)
    ;   

  delete e2; 
  delete e1; 
} 
```

* * *

另一种方法是通过您的指针直接调用您`operator==`，例如在下面的示例中。

```
if (e1->operator== (*e2))
  ; 
```

* * *

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T05:23:05.697

首先，示例代码会很好......

从您的代码的信息位派生看起来像这样

```
Group* group1 = new Group();
Group* group2 = new Group();

if ( group1 == group2 ) 
```

这是一个指针比较。您必须比较实例：

```
if ( *group1 == *group2 ) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T05:25:45.360

> 如果（实际 == 寻找）
> 
> 实际和查找都是指向元素的指针......但是比较是在指针级别进行的，所以两个指针总是不同的。

你不能。只有当至少一个参数是用户定义类型时，C++ 中的运算符才能被重载。编译器将标记其他任何错误。

如果您想在这种情况下进行比较，则必须使用：

```
if(*actual == *lookingfor) //for element-comparison 
```

如果你想比较一个指针数组，或者类似的东西，你必须求助于使用循环编写自己的代码。

我在这里建议的是，为什么不使用`std::vector<Element>`或任何其他合适的 STL 容器？

# asp.net-mvc-4 - 使用 ASP.NET 将多个基于声明的身份提供者与一个用户相关联

> ID：11077271
> 
> 赞同：6
> 
> 时间：2012-06-18T05:19:12.147
> 
> 标签：asp.net-mvc-4, claims-based-identity, .net-4.5, acs

在使用 .NET 4.5 框架和 Azure 访问控制服务 (ACS) 的 ASP.NET MVC 4 应用程序中，我想为用户提供多种身份验证可能性（即 Google、Facebook、Windows Live 等）。将单个用户与多个身份提供者相关联的“最佳实践”是什么？

例如，假设用户一天使用 Google 登录，然后第二天转到另一个浏览器并使用 Facebook 登录。我怎么知道将 Facebook 登录与以前的 Google 登录关联到同一用户？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T14:45:11.563

看看 stackoverflow 本身就是一个很好的例子。单击您的用户配置文件，然后选择“我的登录”。

当用户创建他们的帐户时，他们会选择您要使用哪个身份提供商来登录。在后台，您的应用程序会创建一个新的特定于站点的唯一用户 ID，并将其与第三方提供的唯一 ID 链接。（您可能会使用电子邮件，但大多数身份提供商也会提供不会更改的唯一用户 ID 声明，即使用户更改了他们的电子邮件）

现在，在用户登录后，他们有一个帐户管理控制面板，他们可以通过它建立与其他身份提供者的附加链接。

我看到了实现这一目标的两种选择：

1.  让您的 MVC 应用程序保留帐户链接。当用户登录时，您使用第 3 方唯一 ID 声明查询您的帐户链接存储并解析您的站点特定的唯一用户 ID。

2.  使用 ACS 规则引擎。您将为每个帐户链接创建一个规则。例如，假设我可以使用 gmail 或 liveid 登录，并且我的唯一 ID 是 1234。两条规则如下所示：

    *   google + me@gmail.com --> 输出用户 ID 声明 1234

    *   liveId + me@live.com --> 输出用户 ID 声明 1234

对于唯一 ID 输出声明类型，您可以从可用声明类型中进行选择或指定您自己的声明类型。ACS 有一个[基于 OData 的管理服务](http://msdn.microsoft.com/en-us/library/windowsazure/gg185972.aspx)，您可以使用它从您的 MVC 应用程序中以编程方式创建这些规则。这是一个[代码示例](http://msdn.microsoft.com/en-us/library/windowsazure/gg185970)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T14:52:06.363

如果您使用的是 ACS，您可以使用 ACS 上的声明转换将来自每个 IdP（例如 Gogle、Yahoo!、FB 等）的信息转换为通用句柄。人们使用的常用句柄是用户电子邮件。但是，如果您想接受映射到同一用户的许多电子邮件，那么您需要引入自己的唯一 ID（作为声明）并将 IdP 提供的声明映射到其中：

*   myemail@gmail.com (e-mail - Google) -> (UserId - YourApp) user_1234
*   myotheremail@yahoo.com (email - Yahoo!) -> (UserId - YourApp) user_1234
*   64746374613847349 (NameIdentifier - LiveId) -> (UserId - YourApp) user_1234

您可以通过 ACS API 自动执行此操作。您可能还应该处理用户第一次登录到您的站点（例如，要求用户提供电子邮件并发送将触发映射的确认消息）。

据推测，您正在使用此信息从应用程序的本地数据库中检索数据，否则，您可以只在声明中编码所有内容，而不必担心任何等价。声明通常是编码常见配置文件数据的好地方。（例如角色等）

# android - 如何使用 dd 将图像写入我的 android 手机 SD 卡？

> ID：11077275
> 
> 赞同：1
> 
> 时间：2012-06-18T05:19:40.833
> 
> 标签：android, android-sdcard, dd, nook

我正在尝试使用我的 android 手机代替读卡器将`.img`文件写入其外部（可移动）sd 卡（`/mnt/emc`）但是当我尝试从手机上的终端执行此操作时（`dd if=foobar.img of=/mnt/emmc`）dd 抱怨我写入目录。Galaxy s2 将其内部存储`/mnt/sdcard`挂载到 ，然后将外部 sd 卡挂载为其中的目录。显然，从通过 USB 安装 SD 的计算机上使用 DD 会在写入时静默损坏图像，因为设备如何以某种方式保护它的存储。我想要做的甚至可能吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-11T14:26:43.673

您可以“dd”到一个设备，而不是它的挂载点。`/mnt/emc`是挂载点，而不是设备。
`dd if=foobar.img of=/dev/mydevice` 相反会工作。
请使用命令`mount`查看该挂载点对应的设备

# php - 美德 2.0.X 产品添加到购物车自定义如何

> ID：11077278
> 
> 赞同：1
> 
> 时间：2012-06-18T05:19:53.827
> 
> 标签：php, joomla, virtuemart, joomla2.5

我正在尝试开发美德玛特定制的基于移动的组件。为此，我使用了 2.0.6。我完成了类别和产品列表，但在购物车中添加产品时出现了一些问题。意味着当我单击按钮 addtocart 时，然后从 ddermart 哪个功能用于在购物车中添加产品。
我认为功能已`add`打开，`helper/cart.php`但我无法调用此功能。

如何从我的页面调用此函数？

问题在`helper/cart.php`文件中。`__construct`是私有的，这就是为什么我不能使用`add`该页面中的功能或任何其他功能。那么，我怎样才能使用`__constuct`其他页面的私有其他功能。

# c# - linq 查询将 3 个表连接到一个表中

> ID：11077280
> 
> 赞同：4
> 
> 时间：2012-06-18T05:20:17.500
> 
> 标签：c#, entity-framework

我有一个名为 M1 的主表，它由三个单独的表 T1、T2 和 T3 的 ID 组成。

我需要使用它们的 ID 将 3 个表连接到 M1 并显示它们的名称为此我使用以下查询：

```
 var query= (from i in dbContext.M1
             join j in dbContext.T1 on i.Mt1_id  equals j.Mt1_id
             join l in dbContext.T2 on i.Mt2_id equals l.Mt2_id
             join s in dbContext.T3 on i.Mt3_id equals s.Mt3_id
             where i.Mid >= 1
             select new
             {
               a=j.name,
               b=l.name,
               c=s.name
             }).ToArray(); 
```

我用过这种方式，但我收到一条错误消息，指出“ `Type inference failed in call to Join`”

谁能告诉我我哪里出错了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T04:57:50.517

请检查列的数据类型以避免“调用加入时类型推断失败”异常

# google-maps - Google Maps API v3 不透明度重叠

> ID：11077284
> 
> 赞同：2
> 
> 时间：2012-06-18T05:20:37.243
> 
> 标签：google-maps, google-maps-api-3

我正在尝试使用谷歌地图为客户创建一个销售区域。该地区有三个主要枢纽，每个枢纽都有一些重叠。该示例可在[http://citytosurfwhitegoods.com.au/map.php上找到](http://citytosurfwhitegoods.com.au/map.php)

我所追求的是关闭 alpha 组合功能。是否有一些标志或属性会发生这种情况？或者有人有什么建议吗？

# android - 如何获取动态添加到Android上的图像的图像资源？

> ID：11077287
> 
> 赞同：0
> 
> 时间：2012-06-18T05:20:51.057
> 
> 标签：android, image

我有点卡住了。首先，我将发布屏幕截图，然后问我的问题。

![输出](../Images/7a6e2f07f0330f0abe331a708076ba1a.png)

* * *

您可以看到一些椭圆被选中。我所做的是维护 2 组图像，当用户单击时，白色图像变为黑色。
现在，我需要从这个答题卡中收集答案，并想知道如何。我尝试了一种名为`getImageResource()`但不存在的方法。请帮助我如何去做。

**代码：**

```
 public class QuizActivity extends Activity implements OnClickListener {
/** Called when the activity is first created. */
RelativeLayout r2;
// Global variable(s)
int[][] quizData; // Storing the quiz specifications in an integer array
int[][] questionImages = {
        { R.drawable.a, R.drawable.b, R.drawable.c, R.drawable.d,
                R.drawable.e, R.drawable.f, R.drawable.g, R.drawable.h,
                R.drawable.i, R.drawable.j },
        { R.drawable.a_checked, R.drawable.b_checked, R.drawable.c_checked,
                R.drawable.d_checked, R.drawable.e_checked,
                R.drawable.f_checked, R.drawable.g_checked,
                R.drawable.h_checked, R.drawable.i_checked,
                R.drawable.j_checked },
        { R.drawable.zero, R.drawable.one, R.drawable.two,
                R.drawable.three, R.drawable.four, R.drawable.five,
                R.drawable.six, R.drawable.seven, R.drawable.eight,
                R.drawable.nine, R.drawable.decimal },
        { R.drawable.zero_checked, R.drawable.one_checked,
                R.drawable.two_checked, R.drawable.three_checked,
                R.drawable.four_checked, R.drawable.five_checked,
                R.drawable.six_checked, R.drawable.seven_checked,
                R.drawable.eight_checked, R.drawable.nine_checked,
                R.drawable.decimal_checked } };

// End
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    // Beginning of variable declarations
    ScrollView s1 = new ScrollView(this);
    RelativeLayout r1 = new RelativeLayout(this);
    r2 = r1;
    File quizSpecs = new File("mnt/sdcard/teacher_1.csv"); // Read the file
    BufferedReader csvReader = null;
    String line = ""; // Storing each line in a string
    StringTokenizer currentLine = null;
    int noOfQuestions = 0; // Number of questions in the quiz
    int time = 0; // Duration of the quiz
    int i = 0, j = 0, k = 0; // Loop variables
    int previd = 0;
    // End of variable declarations

    try {
        csvReader = new BufferedReader(new FileReader(quizSpecs));
    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    try {
        line = csvReader.readLine();
    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    currentLine = new StringTokenizer(line, ",");
    noOfQuestions = Integer.parseInt(currentLine.nextToken());
    time = Integer.parseInt(currentLine.nextToken());
    // System.out.println(noOfQuestions + " " + time);
    while (currentLine.hasMoreTokens()) {
        currentLine.nextToken();
    }
    quizData = new int[noOfQuestions][6];
    for (i = 0; i < noOfQuestions; i++) {
        try {
            line = csvReader.readLine();
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        currentLine = new StringTokenizer(line, ",");
        for (j = 0; j < 6; j++) {
            quizData[i][j] = Integer.parseInt(currentLine.nextToken());
            // System.out.println(quizData[i][j]);
        }
    }
    try {
        csvReader.close();
    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    for (i = 0; i < noOfQuestions; i++) {
        TextView questionNo = new TextView(this);
        questionNo.setText(String.valueOf(i + 1));
        questionNo.setId(1000 * (i + 1));
        questionNo.setTextSize(18);
        RelativeLayout.LayoutParams p1 = new RelativeLayout.LayoutParams(
                RelativeLayout.LayoutParams.WRAP_CONTENT,
                RelativeLayout.LayoutParams.WRAP_CONTENT);
        p1.addRule(RelativeLayout.BELOW, previd);
        previd = (1000 * (i + 1));
        questionNo.setLayoutParams(p1);
        r1.addView(questionNo, p1);
        switch (quizData[i][1]) {
        case 1:
        case 2:
            for (j = 0; j < quizData[i][2]; j++) {
                ImageView option = new ImageView(this);
                option.setImageResource(questionImages[0][j]);
                option.setId((1000 * (i + 1)) + j + 1);
                option.setOnClickListener(this);
                /*
                 * if (j >= quizData[i][2]) {
                 * option.setVisibility(View.INVISIBLE);
                 * option.setEnabled(false); }
                 */
                RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(
                        RelativeLayout.LayoutParams.WRAP_CONTENT,
                        RelativeLayout.LayoutParams.WRAP_CONTENT);
                params.addRule(RelativeLayout.BELOW, ((1000 * i) + 1));
                params.addRule(RelativeLayout.RIGHT_OF,
                        ((1000 * (i + 1)) + j));
                previd = ((1000 * (i + 1)) + j);
                option.setLayoutParams(params);
                r1.addView(option, params);
            }
            break;
        case 3:
            for (j = 0; j < (quizData[i][3] == 0 ? quizData[i][2]
                    + quizData[i][3] : quizData[i][2] + quizData[i][3] + 1); j++) {
                for (k = 10; k > -1; k--) {
                    ImageView num = new ImageView(this);
                    num.setImageResource(questionImages[2][10 - k]);
                    num.setId((1000 * (i + 1)) + (100 * j) + k + 1);
                    num.setOnClickListener(this);
                    RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(
                            RelativeLayout.LayoutParams.WRAP_CONTENT,
                            RelativeLayout.LayoutParams.WRAP_CONTENT);
                    if (j == 0) {
                        params.addRule(RelativeLayout.RIGHT_OF,
                                (1000 * (i + 1)));
                    } else {
                        params.addRule(RelativeLayout.RIGHT_OF,
                                (1000 * (i + 1)) + (100 * (j - 1)) + k + 1);
                    }
                    if (k == 10) {
                        params.addRule(RelativeLayout.BELOW, (1000 * i) + 1);
                    } else {
                        params.addRule(RelativeLayout.BELOW,
                                ((1000 * (i + 1)) + (100 * j) + k + 2));
                    }
                    num.setLayoutParams(params);
                    r1.addView(num, params);
                }
            }
            previd = (1000 * (i + 1)) + 1;
            break;
        case 4:
        case 5:
            for (j = quizData[i][2] - 1; j > -1; j--) {
                for (k = 0; k < quizData[i][3]; k++) {
                    ImageView match = new ImageView(this);
                    match.setImageResource(questionImages[0][k]);
                    match.setId((1000 * (i + 1)) + (100 * j) + k + 1);
                    match.setOnClickListener(this);
                    RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(
                            RelativeLayout.LayoutParams.WRAP_CONTENT,
                            RelativeLayout.LayoutParams.WRAP_CONTENT);
                    if (k == 0) {
                        params.addRule(RelativeLayout.RIGHT_OF,
                                (1000 * (i + 1)));
                    } else {
                        params.addRule(RelativeLayout.RIGHT_OF,
                                (1000 * (i + 1)) + (100 * j) + k);
                    }
                    if (j == quizData[i][2] - 1) {
                        params.addRule(RelativeLayout.BELOW, (1000 * i) + 1);
                    } else {
                        params.addRule(RelativeLayout.BELOW,
                                (1000 * (i + 1)) + (100 * (j + 1)) + k + 1);
                    }
                    match.setLayoutParams(params);
                    r1.addView(match, params);
                }
            }
            previd = (1000 * (i + 1)) + 1;
            break;
        }
    }
    s1.addView(r1, new LayoutParams(LayoutParams.FILL_PARENT,
            LayoutParams.FILL_PARENT));
    this.setContentView(s1);
}

public void onClick(View v) {
    // TODO Auto-generated method stub
    // Beginning of variable declarations
    int clickedButton = v.getId();
    int questionNo = clickedButton / 1000; // Finding the question number
    int i = 0; // Loop variable
    int rowNo = (clickedButton / 100) % 10;
    // System.out.println(questionNo);
    // System.out.println(quizData[questionNo - 1][1]);
    switch (quizData[questionNo - 1][1]) {
    case 1:
        for (i = 0; i < quizData[questionNo - 1][2]; i++) {
            ImageView option = new ImageView(this);
            option.setImageResource(questionImages[0][i]);
            option.setId((1000 * questionNo) + i + 1);
            option.setOnClickListener(this);
            /*
             * if (i >= quizData[questionNo - 1][2]) {
             * option.setVisibility(View.INVISIBLE);
             * option.setEnabled(false); }
             */
            RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(
                    RelativeLayout.LayoutParams.WRAP_CONTENT,
                    RelativeLayout.LayoutParams.WRAP_CONTENT);
            params.addRule(RelativeLayout.BELOW,
                    ((1000 * (questionNo - 1)) + 1));
            params.addRule(RelativeLayout.RIGHT_OF,
                    ((1000 * questionNo) + i));
            option.setLayoutParams(params);
            r2.addView(option, params);
        }
        ImageView option = new ImageView(this);
        option.setImageResource(questionImages[1][(clickedButton % 10) - 1]);
        option.setId((1000 * questionNo) + (clickedButton % 10));
        option.setOnClickListener(this);
        RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(
                RelativeLayout.LayoutParams.WRAP_CONTENT,
                RelativeLayout.LayoutParams.WRAP_CONTENT);
        params.addRule(RelativeLayout.BELOW,
                ((1000 * (questionNo - 1)) + 1));
        params.addRule(RelativeLayout.RIGHT_OF, ((1000 * questionNo)
                + (clickedButton % 10) - 1));
        option.setLayoutParams(params);
        r2.addView(option, params);
        break;
    case 2:
        ImageView checked = new ImageView(this);
        checked.setImageResource(questionImages[1][(clickedButton % 10) - 1]);
        checked.setId((1000 * questionNo) + (clickedButton % 10));
        checked.setOnClickListener(this);
        RelativeLayout.LayoutParams params_checked = new RelativeLayout.LayoutParams(
                RelativeLayout.LayoutParams.WRAP_CONTENT,
                RelativeLayout.LayoutParams.WRAP_CONTENT);
        params_checked.addRule(RelativeLayout.BELOW,
                ((1000 * (questionNo - 1)) + 1));
        params_checked.addRule(RelativeLayout.RIGHT_OF,
                ((1000 * questionNo) + (clickedButton % 10) - 1));
        checked.setLayoutParams(params_checked);
        r2.addView(checked, params_checked);
        break;
    case 3:
        for (i = 10; i > -1; i--) {
            ImageView num = new ImageView(this);
            num.setImageResource(questionImages[2][10 - i]);
            num.setId((1000 * questionNo) + (100 * rowNo) + i + 1);
            num.setOnClickListener(this);
            RelativeLayout.LayoutParams params_num = new RelativeLayout.LayoutParams(
                    RelativeLayout.LayoutParams.WRAP_CONTENT,
                    RelativeLayout.LayoutParams.WRAP_CONTENT);
            if (rowNo == 0) {
                params_num.addRule(RelativeLayout.RIGHT_OF,
                        (1000 * questionNo));
            } else {
                params_num.addRule(RelativeLayout.RIGHT_OF,
                        (1000 * questionNo) + (100 * (rowNo - 1)) + i + 1);
            }
            if (i == 10) {
                params_num.addRule(RelativeLayout.BELOW,
                        (1000 * (questionNo - 1)) + 1);
            } else {
                params_num.addRule(RelativeLayout.BELOW,
                        ((1000 * questionNo) + (100 * rowNo) + i + 2));
            }
            num.setLayoutParams(params_num);
            r2.addView(num, params_num);
        }
        ImageView num = new ImageView(this);
        num.setImageResource(questionImages[3][11 - (clickedButton % 100)]);
        num.setId((1000 * questionNo) + (100 * rowNo)
                + (clickedButton % 100));
        num.setOnClickListener(this);
        RelativeLayout.LayoutParams params_num = new RelativeLayout.LayoutParams(
                RelativeLayout.LayoutParams.WRAP_CONTENT,
                RelativeLayout.LayoutParams.WRAP_CONTENT);
        if (rowNo == 0) {
            params_num
                    .addRule(RelativeLayout.RIGHT_OF, (1000 * questionNo));
        } else {
            params_num.addRule(RelativeLayout.RIGHT_OF, (1000 * questionNo)
                    + (100 * (rowNo - 1)) + (clickedButton % 100));
        }
        if (((clickedButton % 100) - 1) == 10) {
            params_num.addRule(RelativeLayout.BELOW,
                    (1000 * (questionNo - 1)) + 1);
        } else {
            params_num.addRule(RelativeLayout.BELOW, ((1000 * questionNo)
                    + (100 * rowNo) + (clickedButton % 100) + 1));
        }
        num.setLayoutParams(params_num);
        r2.addView(num, params_num);
        break;
    case 4:
        for (i = 0; i < quizData[questionNo - 1][3]; i++) {
            ImageView match = new ImageView(this);
            match.setImageResource(questionImages[0][i]);
            match.setId((1000 * questionNo) + (100 * rowNo) + i + 1);
            match.setOnClickListener(this);
            RelativeLayout.LayoutParams params_match = new RelativeLayout.LayoutParams(
                    RelativeLayout.LayoutParams.WRAP_CONTENT,
                    RelativeLayout.LayoutParams.WRAP_CONTENT);
            if (i == 0) {
                params_match.addRule(RelativeLayout.RIGHT_OF,
                        (1000 * questionNo));
            } else {
                params_match.addRule(RelativeLayout.RIGHT_OF,
                        (1000 * questionNo) + (100 * rowNo) + i);
            }
            if (rowNo == quizData[questionNo - 1][2] - 1) {
                params_match.addRule(RelativeLayout.BELOW,
                        (1000 * (questionNo - 1)) + 1);
            } else {
                params_match.addRule(RelativeLayout.BELOW,
                        (1000 * questionNo) + (100 * (rowNo + 1)) + i + 1);
            }
            match.setLayoutParams(params_match);
            r2.addView(match, params_match);
        }
        ImageView match = new ImageView(this);
        match.setImageResource(questionImages[1][(clickedButton % 10) - 1]);
        match.setId((1000 * questionNo) + (100 * rowNo)
                + (clickedButton % 10));
        match.setOnClickListener(this);
        RelativeLayout.LayoutParams params_match = new RelativeLayout.LayoutParams(
                RelativeLayout.LayoutParams.WRAP_CONTENT,
                RelativeLayout.LayoutParams.WRAP_CONTENT);
        if (((clickedButton % 10) - 1) == 0) {
            params_match.addRule(RelativeLayout.RIGHT_OF,
                    (1000 * questionNo));
        } else {
            params_match.addRule(RelativeLayout.RIGHT_OF,
                    (1000 * questionNo) + (100 * rowNo)
                            + (clickedButton % 10) - 1);
        }
        if (rowNo == quizData[questionNo - 1][2] - 1) {
            params_match.addRule(RelativeLayout.BELOW,
                    (1000 * (questionNo - 1)) + 1);
        } else {
            params_match.addRule(RelativeLayout.BELOW,
                    (1000 * (questionNo)) + (100 * (rowNo + 1))
                            + (clickedButton % 10));
        }
        match.setLayoutParams(params_match);
        r2.addView(match, params_match);
        break;
    case 5:
        ImageView match_checked = new ImageView(this);
        match_checked
                .setImageResource(questionImages[1][(clickedButton % 10) - 1]);
        match_checked.setId((1000 * questionNo) + (100 * rowNo)
                + (clickedButton % 10));
        match_checked.setOnClickListener(this);
        RelativeLayout.LayoutParams params_mc = new RelativeLayout.LayoutParams(
                RelativeLayout.LayoutParams.WRAP_CONTENT,
                RelativeLayout.LayoutParams.WRAP_CONTENT);
        if (((clickedButton % 10) - 1) == 0) {
            params_mc.addRule(RelativeLayout.RIGHT_OF, 1000 * questionNo);
        } else {
            params_mc.addRule(RelativeLayout.RIGHT_OF, (1000 * questionNo)
                    + (100 * rowNo) + (clickedButton % 10) - 1);
        }
        if (rowNo == quizData[questionNo - 1][2] - 1) {
            params_mc.addRule(RelativeLayout.BELOW,
                    (1000 * (questionNo - 1)) + 1);
        } else {
            params_mc.addRule(RelativeLayout.BELOW, (1000 * (questionNo))
                    + (100 * (rowNo + 1)) + (clickedButton % 10));
        }
        match_checked.setLayoutParams(params_mc);
        r2.addView(match_checked, params_mc);
        System.out.println(match_checked.getDrawable());
        break;
    }
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:01:47.213

与其跟踪当前正在使用的图像，不如从**数据模型**的角度考虑问题。数据模型保存应用程序的状态。在我看来，您拥有的是一组问题，每个问题都有不同的可能答案，然后是选定的答案/答案。如果您对数据进行适当的建模，则可以将所需的任何类型的视图逻辑应用于模型的状态。这直接来自 MVC（模型视图控制器）范例。

我怀疑你的应用程序现在是否会扩展，因此你应该定义某种模型，这可以很容易地用几个类（问题类、答案类）来完成，你可以用几种不同的方式定义关系。从那里您只需根据模型的当前状态写出视图。在android中，这是通过[Adapters](http://developer.android.com/reference/android/widget/Adapter.html)和[AdapterView](http://developer.android.com/reference/android/widget/AdapterView.html)完成的。通常，您不会直接使用这些，在您的情况下，您可能会使用带有[ListAdapter的](http://developer.android.com/reference/android/widget/ListAdapter.html)[ListView](http://developer.android.com/reference/android/widget/ListView.html)。您要做的是当用户单击某些内容时，您将捕获该事件，然后更新模型。您的 ListAdapter 将通过[DataSetObserver侦听模型的更改](http://developer.android.com/reference/android/widget/Adapter.html#registerDataSetObserver%28android.database.DataSetObserver%29)，但是您可以只收听点击并直接在 onclick 侦听器中进行更改，而不是像观察者一样走完全程。

除非您真正熟悉所有这些事情，否则这显然不是您可能在一两个小时内完成的事情，但 IMO 它将使您的应用程序更清洁、更容易调试、更容易测试和更健壮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:33:39.323

下面是名称为“bt.xml”的 CheckBox 的选择器，并将此文件放入您的可绘制文件夹

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">

    <item android:state_checked="true" android:drawable="@drawable/chceked_image"/>
    <item android:drawable="@drawable/unchceked_image"/>

</selector> 
```

并在布局文件夹中使用 CheckBox 而不是 ImageView，例如名称为“row.xml”

```
<CheckBox 
        android:layout_height="30dp"
        android:layout_width="30dp"
        android:button="@drawable/bt"
        android:focusable="false"
        android:id="@+id/ch"/> 
```

按钮属性用自己的图片改变 Checkbox 的图片

如果您将使用 ChcekBox，它有两种状态已选中和未选中，那么您很容易获得答案状态。

现在使用布局充气器来充气 xml，例如你有任何问题的三个答案，

```
 ChcekBox ch[] = new CheckBox[3];

 layout = findViewById(R.id.main_layout);
 LayoutInflater layoutInflater = LayoutInflater.from(this);

 for(int i = 0; i<3; i++)
 {
   View rowView = layoutInflater.inflate(R.layout.row, layout);
   ch[i] = (CheckBox)rowView.findViewById(R.id.ch);
   ch[i].setId(assign_new_id);
 } 
```

# c++ - 联合中结构的编译器特定实现的标准替代方案

> ID：11077289
> 
> 赞同：0
> 
> 时间：2012-06-18T05:21:09.997
> 
> 标签：c++

在 Codeblocks 中，它允许匿名结构，它非常有用，因为我尝试过 Unions，但它的工作方式并不相同。

现在我的问题是，既然它不是标准的，那么标准相当于：

```
typedef union Alpha
{
    uint32_t OuterInt;
    struct
    {
        unsigned char a, b, c, d, e, f;
    };
} *pAlpha; 
```

请参阅我无法用联合替换该匿名结构，因为它的工作方式不同。并且如果我定义了结构，并用 StructName.a、StructName.b 等替换了对它的每个调用。

还有其他方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:47:19.200

> 什么是标准等价物？

就像是 ：

```
struct MyData
{
    unsigned char a, b, c, d, e, f;
};
union Alpha
{
    uint32_t OuterInt;
    MyData   data;

} *pAlpha; 
```

# eclipse - 即使类可用，Eclipse 仍显示“找不到类”

> ID：11077292
> 
> 赞同：0
> 
> 时间：2012-06-18T05:21:20.697
> 
> 标签：eclipse, m2eclipse

在 Eclipse UI 中，我遇到了以下问题，

![在此处输入图像描述](../Images/9a375ccd754d3e880c0308af5dffc76f.png)

如果您看到左侧，则课程可用。我能够使用 Maven 构建并成功运行它。但是这个 Eclipse 错误高亮真的很烦人。

我正在使用 Eclipse Indigo SR2 并安装了 Spring Tool Suite。请帮我解决这个问题。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:37:19.520

尝试导入 com.beatle.model.* 看看会发生什么

# android - 停止安卓服务

> ID：11077294
> 
> 赞同：1
> 
> 时间：2012-06-18T05:21:28.397
> 
> 标签：android, android-asynctask, android-service

我编写了一个程序，用于使用in*从网络下载图像* 。下载过程正常进行。我使用的是指示下载进度的，我还有*两个按钮用于开始下载和停止下载*。但是当我单击停止按钮时，正在进行的下载无法停止。通知管理器继续相同。`AsyncTask``service``notification`

 ***主要活动：**

```
public class ServicedownloadActivity extends Activity implements
        OnClickListener {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        b1 = (Button) findViewById(R.id.button1);
        b2 = (Button) findViewById(R.id.button2);
        b1.setOnClickListener(this);
        b2.setOnClickListener(this);
    }

    @Override
    public void onClick(View v) {

        if (v.getId() == R.id.button1) {
            Intent intent = new Intent(ServicedownloadActivity.this,
                    Myclass.class);
            startService(intent);

        }
        if (v.getId() == R.id.button2) {

            Intent intent = new Intent(ServicedownloadActivity.this,
                    Myclass.class);
            stopService(intent);
        }
    }
} 
```

* * *

**类包含服务和异步任务**

```
public class Myclass extends Service {

    URLConnection connection;
    private final Random mGenerator = new Random();

    @Override
    public IBinder onBind(Intent intent) {
        return null;
    }

    public int getRandomNumber() {
        return mGenerator.nextInt(100);
    }

    @Override
    public void onCreate() {
        super.onCreate();
        Log.d("df", "From oncreate");
        Toast.makeText(this, "on create", Toast.LENGTH_SHORT).show();

    }
    class DownloadWebPageTask extends AsyncTask<String, String, String> {
        String responseTextt;
        NotificationManager notificationManager;
        Notification notification;
        CharSequence contentText;
        Context context;
        CharSequence contentTitle;
        PendingIntent contentIntent;
        int HELLO_ID = 1;
        long time;
        int icon;
        CharSequence tickerText;

        public void downloadNotification() {
            String ns = Context.NOTIFICATION_SERVICE;
            notificationManager = (NotificationManager) getSystemService(ns);
            icon = R.drawable.ic_launcher;
            tickerText = "Downloading...";
            time = System.currentTimeMillis();
            notification = new Notification(icon, tickerText, time);
            context = getApplicationContext();
            contentTitle = "Your download is in progress";
            contentText = "0% complete";
            Intent notificationIntent = new Intent(Intent.ACTION_VIEW);
            notificationIntent.setType("audio/*");
            contentIntent = PendingIntent.getActivity(context, 0,
                    notificationIntent, 0);
            notification.setLatestEventInfo(context, contentTitle,
                    contentText, contentIntent);
            notificationManager.notify(HELLO_ID, notification);

        }

        @Override
        protected String doInBackground(String... urls) {

            try {

                Log.d("trys:", "try");
                URL url = new URL(
                        "http://www.zapiture.com/resources/IMG_6812.JPG");
                connection = url.openConnection();
                connection.connect();
                int fileLength = connection.getContentLength();
                InputStream input = new BufferedInputStream(url
                        .openStream());
                OutputStream output = new FileOutputStream(Environment
                        .getExternalStorageDirectory()
                        + "/img23.jpg");

                byte data[] = new byte[1024];
                long total = 0;
                int count;
                int previousProgress = 0;
                while ((count = input.read(data)) != -1) {
                    total += count;
                    if ((int) (total * 100 / fileLength) > previousProgress) {
                        previousProgress = (int) (total * 100 / fileLength);
                        publishProgress(""
                                + (int) (total * 100 / fileLength));
                        output.write(data, 0, count);
                    }
                }

                output.flush();
                output.close();
                input.close();

            } catch (Exception e) {
                e.printStackTrace();
            }

            return null;
        }

        @Override
        protected void onPreExecute() {
            downloadNotification();

            super.onPreExecute();
            ;
        }

        @Override
        public void onProgressUpdate(String... progress) {

            contentText = Integer.parseInt(progress[0]) + "% complete";
            notification.setLatestEventInfo(context, contentTitle,
                    contentText, contentIntent);
            notificationManager.notify(HELLO_ID, notification);
            super.onProgressUpdate(progress);
        }
    }

    @Override
    public void onStart(Intent intent, int startId) {
        // TODO Auto-generated method stub
        super.onStart(intent, startId);
        Log.d("sf", "On Start");
        Toast.makeText(this, "on start", Toast.LENGTH_SHORT).show();
        DownloadWebPageTask task = new DownloadWebPageTask();

        task.execute();
    }

    @Override
    public void onDestroy() {
        stopSelf();
        super.onDestroy();
        Log.d("df", "From on Destroy");
        Toast.makeText(this, "on destroy", Toast.LENGTH_SHORT).show();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:40:26.103

你真的不应该`AsyncTask`在服务中使用，它是在活动中使用。如果您需要自动启动工作线程的服务，请使用`IntentService`. 完成后它也会自动停止。发送进度更新可能需要更多的工作，但它会比`AsyncTask`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:25:50.880

当您`AsyncTask`用于下载时，您可以尝试通过取消 AsyncTask 本身[`cancel(boolean)`](http://developer.android.com/reference/android/os/AsyncTask.html#cancel%28boolean%29)，

```
task.cancel(true); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T05:38:08.080

永远记住，即使你调用 stopService，AsyncTask 也不会停止，如果它在某些处理过程中，除非你在服务的 onDestroy 的实现中调用任务的取消方法，否则它只会在完成后结束

因此，在代码中进行以下修改。

你基本上需要添加这个。

```
@Override
public void onDestroy() {
    task.canel();
    super.onDestroy();
} 
```

此外，您`DownloadWebPageTask task = new DownloadWebPageTask();`在开始时在内部创建，因此您不能在 onDestroy 中调用 task.cancel。而是在`DownloadWebPageTask task;` 外部定义，因此`task.cancel`可以在`onDestroy`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T06:51:41.650

我建议您`Boolean`最初制作一个标志变量`true`，然后`onDestroy()`将其更改为`false`

现在`doInBackground`检查变量状态，如果为真，如果为假则继续你的任务，然后停止它并调用`return;`

由于`AsyncTask`在它们的单独运行中运行，`process`因此即使 Activity/Service 被破坏，它们也会继续执行。*

# iphone - 转换时间戳 - iPhone

> ID：11077295
> 
> 赞同：-1
> 
> 时间：2012-06-18T05:21:47.467
> 
> 标签：iphone, timestamp

我试图找出如何转换时间戳日期和时间（格式 - 2012-06-14T13:15:21Z）以将其显示在屏幕上，如“1 小时前”/“2 天前”/“2 秒前”等。谁能帮我这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:53:42.600

尝试这个：

```
NSCalendar *cal = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];
[cal setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]];
NSDate *date1 = yourDate;
NSDate *date2 = [NSDate date];//Current Date
unsigned int unitFlags = NSDayCalendarUnit|NSYearCalendarUnit|NSMonthCalendarUnit|NSHourCalendarUnit|NSMinuteCalendarUnit|NSSecondCalendarUnit;                   
NSDateComponents *diffComps = [cal components:unitFlags fromDate:date2 toDate:date1 options:0];
[diffComps month] //gives you month
[diffComps day] //gives you day
[diffComps year] // gives you year
[cal release]; 
```

# php - session.gc_maxlifetime 是否指定了自上次更改单个会话变量以来的最大生命周期？

> ID：11077296
> 
> 赞同：2
> 
> 时间：2012-06-18T05:22:07.227
> 
> 标签：php, session

我正在使用基于 java 的上传结构[http://www.javaatwork.com/java-upload-applet/details.html](http://www.javaatwork.com/java-upload-applet/details.html)，我尝试在夜间运行。

1.  它基本上将所有内容存储在服务器的硬盘上（/var/www/private/$userId）
2.  确保数据格式正确
3.  然后将其传递到永久存储 (Amazon S3)。

第 1 步完成后，我运行以下代码：

```
if($_SESSION['userId'])
    {//Makes sure that data is well-formed} 
else
    {echo 'you are not logged in';} 
```

我尝试运行它四个小时才发现`you are not logged in`打印到屏幕上。

以下是 cgi php.ini 文件中的相应指令（我使用的是 ubuntu 12.04 和 apache2。）

```
session.gc_probability = 0
session.gc_divisor = 1000
session.gc_maxlifetime = 14400 //this is 30 hours, which is far greater than the 4 hours it was running
session.cache_expire = 1800
session.cookie_lifetime = 0 
```

这些指令中的大多数都是默认的，除了`session.gc_probability`和`session.gc_maxlifetime`。

我试图解决这个问题，并遇到了 Jeff 的一个非常有用的博客，我从中推断，如果浏览器内的网站出现一段时间不活动，浏览器可能会导致存储在浏览器中的 PHPSESSID cookie 被删除。他建议

*“在浏览器中创建一个后台 JavaScript 进程，定期向服务器发送心跳。例如，每隔 5 或 10 分钟重新生成一个具有定时到期的新 cookie。”* [http://www.codinghorror.com/blog/2008/04/your-session-has-timed-out.html](http://www.codinghorror.com/blog/2008/04/your-session-has-timed-out.html)

所以我决定这样做。

```
function myTimeoutFunction()
{
    $.ajax({
        url: "heartbeat.php",                    
        success: function() {
        }
    });
    setTimeout(myTimeoutFunction, 15*60*1000);
}
myTimeoutFunction(); 
```

**心跳.php** `<?php session_start(); ?>`

我将要测试这个需要大约 4 小时的上传。但是我刚刚阅读了以下内容

*一般来说，您可以说 session.gc_maxlifetime 指定自上次更改会话数据以来的最大生命周期（**不是**上次调用 session_start 的时间）*

[https://stackoverflow.com/a/1516338/784637](https://stackoverflow.com/a/1516338/784637)

如果我有 3 个会话变量，`$_SESSION['userId'] $_SESSION['firstName'] $_SESSION['lastName']`我是否需要重置它们的所有值`heartbeat.php`

```
session_start(); 
$_SESSION['userId'] = $_SESSION['userId'];
$_SESSION['firstName'] = $_SESSION['firstName'];
$_SESSION['lastName'] = $_SESSION['lastName']; 
```

或者我可以只重置一个值吗

```
session_start(); 
$_SESSION['lastHeartbeat'] = time(); 
```

这样其他三个就不会过期了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T05:51:58.467

PHP 会话保持为一个整体；$_SESSION 中的任何更改都会更新更改时间，并通过扩展保留整个会话。

关于实际问题：PHP 不应该在达到最大时间之前 GC 会话，但这并不意味着 PHP 总是清除它。默认情况下，会话保存在 /tmp（或其他）目录中，并且某些 Linux 发行版将具有可能不时清理文件夹的 cron 作业。检查 crons 或其他可能清除独立于 PHP 的会话的东西。

# javascript - 如何使用phonegap file api在该目录中创建目录和文件？

> ID：11077303
> 
> 赞同：17
> 
> 时间：2012-06-18T05:22:47.417
> 
> 标签：javascript, cordova, ipad, phonegap-build

我正在使用phonegap文件api创建一个目录并在创建的目录中创建一个文件。正在创建目录，但未在目录中创建文件。

我正在使用的代码是：

```
document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
    window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, gotFS, fail);
}

function gotFS(fileSystem) {
    var dataDir = fileSystem.root.getDirectory("data", {create: true});
    var file = dataDir.getFile("lockfile.txt", {create: true, exclusive: true});
} 
```

目录数据已创建但未`lockfile.txt`创建。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-06-18T13:36:22.273

您需要以异步方式调用代码：

```
document.addEventListener("deviceready", onDeviceReady, false);

function onDeviceReady() {
    window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, gotFS, fail);
}

function gotFS(fileSystem) {
   fileSystem.root.getDirectory("data", {create: true}, gotDir);
}

function gotDir(dirEntry) {
    dirEntry.getFile("lockfile.txt", {create: true, exclusive: true}, gotFile);
}

function gotFile(fileEntry) {
    // Do something with fileEntry here
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:31:05.480

这是工作吗？

```
var file = fileSystem.root.getFile("data" + "lockfile.txt", {create: true, exclusive: true}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-21T06:53:38.097

使用 phonegap 将文件从 url 下载到您的设备

它适用于 iOS 和 android 3.0 及以上版本

```
var folderName = 'xyz';
var fileName;

function downloadFile(URL) {
    //step to request a file system 
    window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, fileSystemSuccess, fileSystemFail);

    function fileSystemSuccess(fileSystem) {
        var download_link = encodeURI(URL);
        fileName = download_link.substr(download_link.lastIndexOf('/') + 1); //Get filename of URL
        var directoryEntry = fileSystem.root; // to get root path of directory
        directoryEntry.getDirectory(folderName, {
            create: true,
            exclusive: false
        }, onDirectorySuccess, onDirectoryFail); // creating folder in sdcard
        var rootdir = fileSystem.root;
        var fp = fileSystem.root.toNativeURL(); // Returns Fullpath of local directory

        fp = fp + "/" + folderName + "/" + fileName; // fullpath and name of the file which we want to give
        // download function call
        filetransfer(download_link, fp);
    }

    function onDirectorySuccess(parent) {
        // Directory created successfuly
    }

    function onDirectoryFail(error) {
        //Error while creating directory
        alert("Unable to create new directory: " + error.code);

    }

    function fileSystemFail(evt) {
        //Unable to access file system
        alert(evt.target.error.code);
    }
}

function filetransfer(download_link, fp) {
    var fileTransfer = new FileTransfer();
    // File download function with URL and local path
    fileTransfer.download(download_link, fp,
        function(entry) {
            alert("download complete: " + entry.fullPath);
        },
        function(error) {
            //Download abort errors or download failed errors
            alert("download error source " + error.source);
        }
    );
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-26T12:54:28.287

```
function download(URL, fileName){
   var folderName = 'xyz';
   var uri = encodeURI(URL);

        window.requestFileSystem(LocalFileSystem.PERSISTENT, 0,
            function (fileSystem) {
                var directoryEntry = fileSystem.root; // to get root path of directory
                directoryEntry.getDirectory(folderName, {
                    create: true,
                    exclusive: false
                }, onDirectorySuccess, onDirectoryFail); 
                var filename = fileSystem.root.toURL() + folderName + "/" + uri.substr(uri.lastIndexOf("/") + 1);

                var fileTransfer = new FileTransfer();
                fileTransfer.download(uri, filename,
                    function(entry) { // download success
                        var path = entry.toURL(); //**THIS IS WHAT I NEED**
                        window.plugins.toast.showLongBottom("Download Completed: " + entry.fullPath, function (a) {
                        }, function (b) {
                        });
                    },
                    function(error) {
                        console.log("error")
                    } // irrelevant download error
                );`enter code here`
            },
            function(error) {
                console.log("error2")
            } // irrelevant request fileSystem error
        );

        function onDirectorySuccess(parent) {
            // Directory created successfuly
            console.log("Directory created successfuly: " + JSON.stringify(parent));
            var fp = (parent.nativeURL) + fileName;
            filetransfer(download_link, fp);
        }

        function onDirectoryFail(error) {
            //Error while creating directory
            alert("Unable to create new directory: " + error.code);
        }
    } 
```

# php - 如何为每个浏览器制作标准的网站设计

> ID：11077309
> 
> 赞同：-4
> 
> 时间：2012-06-18T05:24:13.653
> 
> 标签：php, html

我正在使用 WYSIWYG Web builder 使用 php amd mysql 设计我的网站。我已将默认页面大小分辨率设置为 1024x768。这些页面在 chrome 浏览器中运行良好，但在 mozilla（最新版本）中页面扭曲看起来很明智。问题还在于屏幕尺寸，当我在笔记本电脑（15 英寸屏幕）上打开网页时，我无法查看正确的网站这次即使在 chrome 中。

请建议任何快速解决我的问题的方法！

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:30:14.927

我知道这不是您正在寻找的那种“答案”，但我想把它作为“答案”放在这里，希望它会成为一个合法的建议。

如果跨浏览器支持对您的项目的成功很重要，您应该权衡您的技能和时间与聘请专业人士的选择。它非常复杂，但是几乎每个市场都有专门从事跨浏览器设计的人才。

# sql - 引用 select 语句的结果

> ID：11077310
> 
> 赞同：0
> 
> 时间：2012-06-18T05:24:31.317
> 
> 标签：sql, sql-server, rdbms

我正在研究一个需要比较两个值的存储过程。这是我的sql代码

```
SELECT customer_id, max_rentals
FROM accounting inner join rental_plans
ON accounting.rental_plan_id = rental_plans.rental_plan_id
WHERE customer_id = 0 
```

这返回：

```
customer_id max_rentals
----------- -----------
0           3 
```

我想写一个声明，如果客户 0 的最大租金值是 3，那么就做点什么。如何在条件语句中引用该值？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:16:07.707

这会按您的预期工作吗？

```
UPDATE <table>
SET <update field>=<value>
WHERE <table>.Customer_id IN (
    SELECT customer_id
    FROM accounting inner join rental_plans
    ON accounting.rental_plan_id = rental_plans.rental_plan_id
    WHERE max_rentals=3
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:49:59.947

我认为您正在尝试实现这样的目标。

使用 case 语句，您可以检查 max_rentals = 3 是否然后执行某些操作。

```
SELECT customer_id, max_rentals,
case   when max_rentals=3 then 'do something' else max_rentals end
FROM   accounting inner join rental_plans
ON     accounting.rental_plan_id = rental_plans.rental_plan_id
WHERE  customer_id = 0; 
```

# mongodb - 使用 _id 时，在 MongoDb chsarp 中删除失败

> ID：11077311
> 
> 赞同：0
> 
> 时间：2012-06-18T05:24:37.183
> 
> 标签：mongodb, mongodb-.net-driver

在示例程序中，当我想使用 id 时，从 mongo db 中删除项目不起作用。我假设问题是我的班级有一个 Id 属性，但 mongo 使用一个 _id ？

因此，当我在以下代码中触发删除时，没有任何变化。将 remove 与使用名称或值的查询一起使用，一切都按预期工作，并且项目被删除。

有什么提示吗？

```
MongoServer server = MongoServer.Create(@"mongodb://localhost/?safe=true");
server.Connect();
var db = server.GetDatabase("data");
var collection = db.GetCollection<Foo>("foo");

string id = Guid.NewGuid().ToString();
Foo a = new Foo();
a.Id = id;
a.name = "Boas";
a.Value = 1;

collection.Insert<Foo>(a);
Console.WriteLine(collection.Count()+ " items"); // Count is 1
collection.Remove(Query.EQ("_id",id));
Console.WriteLine(collection.Count() + " items"); // Count is still 1 :-( should be 0
Console.ReadLine(); 
```

另外：当我对 Find() 使用相同的查询时，找到了该项目。所以我不明白为什么 find 确实找到了元素并且 remove 没有删除它。

```
collection.Find(Query.EQ("_id",id)).Count() // returns 1 element 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T12:05:57.080

我一遍又一遍地这样做，它不断地打印出 1 个项目，然后是 0 个项目。您确定您的收藏中还没有项目吗？

在您的 collection.Insert(a) 之后，添加一个 collection.RemoveAll()。

# android - 如何将位图图像传递给 Android 中的分段 ListView

> ID：11077313
> 
> 赞同：0
> 
> 时间：2012-06-18T05:25:04.470
> 
> 标签：android, android-listview, android-imageview, textview

我已经成功实现了**分段列表视图**，但现在我面临一个问题，即每一行`ListView`都有一些`Textview`加号`ImageView`。仅当我使用ie 分配*整数 id*时才会显示
图像。但是当我实际分配位图或可绘制对象时它不起作用。基本上这些位图是从互联网上下载的，我怎样才能让它们出现在分段中。`ImageView``R.drawalbe.myimage` *`ListView`*

 *```
 // this works
      security.add(createItem(v1, v2, v3, v4, v6, R.drawable.add));                 

     // this doesnt work
     Bitmap b; // loaded from somewhere
      security.add(createItem(v1, v2, v3, v4, v6, b));

   public Map<String, ?> createItem(String title, String caption, String date, String hrs, String lnk, int obj)
{
    Map<String, Object> item = new HashMap<String, Object>();
    item.put(ITEM_TITLE, title);
    item.put(ITEM_CAPTION, caption);
    item.put(ITEM_DATE, date);
    item.put(VISIBLE_DATE, hrs);
    item.put(LINK, lnk);
    item.put(IMAGE, obj);

    return item;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-07T08:16:26.473

使用这个 String.valueOf 而不是你现在使用的，如果你使用当前代码，它总是会失败。*

# c++ - 如何使用 C++ 在 Windows 和 Linux 中获取 iSCSI Initiator 名称

> ID：11077315
> 
> 赞同：0
> 
> 时间：2012-06-18T05:25:12.533
> 
> 标签：c++, windows, linux, iscsi

通过我的 C++ 代码，我想在 Windows 和 Linux 系统（当前 iSCSI 启动器所在的系统）上获取 iSCSI 启动器名称。

在 Windows 上，我发现**Iscsidsc.dll**库似乎具有获取 iSCSI 启动器名称的功能。

所以我想知道

*   是否有一些适用于 Windows 和 Linux 的通用库可以返回 iSCSI 发起程序名称？

*   如果没有这样的公共库，那么如何在 Windows 上获取 iSCSI 启动器名称？Iscsidsc.dll**是**正确的库吗？

*   如果没有这样的公共库，那么如何在**Linux**上获取 iSCSI 启动器名称？

请帮助我找到上述问题的答案。

谢谢，

尼丁

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-23T19:43:28.960

#2。是的，iscsidsc.dll 是适用于 Windows 的正确库。调用 GetIscsiInitiatorNodeName（参见[http://msdn.microsoft.com/en-us/library/windows/desktop/bb870785(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb870785(v=vs.85).aspx)）。

# yii - 根据 CGridView 中的列值更改行颜色

> ID：11077325
> 
> 赞同：9
> 
> 时间：2012-06-18T05:25:58.633
> 
> 标签：yii

在 Yii 中，CGridView 在行中有它自己的背景颜色。但我想做的是根据其中一列的值突出显示特定的行。

例如，我有三列，id，name，status。现在，如果状态的值为 Inactive 或 0，我应该用某种颜色突出显示该行。

我简要阅读了课程参考并搜索了这个网站。但找不到相关的解决方案。如果有一些例子或一些朝着正确解决方案的方向，那将不胜感激。

谢谢， 乌杰瓦尔

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-18T07:37:06.683

CGridView ['rowCssClassExpression'](http://www.yiiframework.com/doc/api/1.1/CGridView#rowCssClassExpression-detail)是获得你想要的东西的方式。

```
$this->widget('zii.widgets.grid.CGridView', array(
    'dataProvider'=>$dataProvider,
    'rowCssClassExpression'=>'($data->myFlag==0)?"normal":"especial"',
    'columns'=>array(
    ...
    ),
)); 
```

您还可以调用自定义 php 函数，并将 $data 变量传递给它。该函数应该返回给定行的类名:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T05:44:20.510

为您的功能使用 rowCssClass 和 rowCssClassExpression。我没有测试此代码，但您可以使用该技巧来获得解决方案。

```
$this->widget('zii.widgets.grid.CGridView', array(
    'dataProvider'=>$dataProvider,
    'rowCssClass'=>array('odd','even'),
    'rowCssClassExpression'=>($data->status==0)?even:odd,
    'columns'=>array(
    ),
)); 
```

# domain-driven-design - 域对象和服务在 DDD 中如何交互？

> ID：11077327
> 
> 赞同：2
> 
> 时间：2012-06-18T05:26:03.813
> 
> 标签：domain-driven-design, domainservices

*'所以正是在这种情况下，我们创建了一个`Order.adjust()`方法，将调用委托给`OrderAdjust Service`. 有`Order.adjust()`一个优势，它使`Order`自己的调整操作。*

这是怎么做到的？是否注入了域服务？

```
$order = new Order();
$order->adjust(???); 
```

域服务在无状态的情况下如何对域实体进行操作？如果将域服务注入实体，则只能在引用上调用方法，因此必须存在状态？

```
$service = DomainService();

$entity = DomainEntity();
$entity->operation($service);

// Inside DomainEntity
public function operation(DomainService &$service)
{
    // Operations are delegated to the domain service reference
    $service->operation();
    $service->operation2();
}

$another_entity = AnotherDomainEntity();

// What happened in the first object must be known here
// otherwise what's the point?
$another_entity->operation($service); 
```

不应该像这样或在应用程序服务中完成吗？

```
$domain_service = new DomainService();
$entity = new DomainEntity();
$another_entity = new AnotherDomainEntity();

$domain_service->performOperation($entity, $another_entity); 
```

域实体/对象之间的操作是如何完成的？域对象通常如何通信？它们在哪里实例化？

代码示例将不胜感激。

*来源：* [http ://stochastyk.blogspot.no/2008/05/domain-services-in-domain-driven-design.html](http://stochastyk.blogspot.no/2008/05/domain-services-in-domain-driven-design.html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T06:56:08.737

这个问题类似于这个问题：[https](https://softwareengineering.stackexchange.com/a/62193/19252) ://softwareengineering.stackexchange.com/a/62193/19252 。

您引用的博客文章很好地解决了您的问题。简而言之：**如果可以在模型中完成（并且经过单元测试！），请在模型中完成。域服务是例外而不是规则。**

让我引用那个帖子：

*“- 服务不坏吗？我们不应该按照 OO 使用所有对象吗？*

*是的，服务往往与面向对象设计正交。[...] 建模界存在使用过多服务的巨大趋势”*

对我来说，这种趋势来自 .NET/Java 持久性架构的缺陷，比如无法将业务逻辑放入 setter 方法中。

# warnings - openjpa 现有列不兼容

> ID：11077328
> 
> 赞同：2
> 
> 时间：2012-06-18T05:26:16.433
> 
> 标签：warnings, openjpa

我是 openjpa 的新手并收到此警告。

```
Existing column ... is incompatible with the same column name in the given schema definition. 
```

它列出了差异，并且使用字段（varchar）大小不同，即显示 150 和 255。150 是我在 db 中指定为大小的大小，但我不确定 255。在实体类中String 类型的对应字段。

请帮我解决一下这个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-24T13:53:07.337

OpenJPA 假设数据库中的字符串列将是 255。由于您的列不是，您可以使用 @javax.persistence.Column 注释指定该非默认值。

```
@Column(name = "BOOYA_MSG", length = 150)
protected String message; 
```

# c# - Metro 应用 Frame.Back() 使应用崩溃

> ID：11077331
> 
> 赞同：0
> 
> 时间：2012-06-18T05:26:39.710
> 
> 标签：c#, frame, microsoft-metro

`Frame.Back()`在我使用崩溃应用程序升级到 VS2012 后。当您添加基本页面时，VS 创建的后退按钮也会发生这种情况。

# javascript - 如何使用javascript控制标签当前效果

> ID：11077332
> 
> 赞同：0
> 
> 时间：2012-06-18T05:26:44.497
> 
> 标签：javascript, html, css

我有一个包含标签菜单的html表单，代码是

```
<ul id="menu">
    <li><a href="f?p=&APP_ID.:1:&SESSION.:" class="active">Home</a></li>
    <li>
        <a href="f?p=&APP_ID.:400:&SESSION.:" class="current">Leave Eligibility</a>

    </li>
    <li><a href="f?p=&APP_ID.:450:&SESSION.:" class="current2">Apply Leave</a></li>
    <li><a href="f?p=&APP_ID.:300:&SESSION.:" class="current3">Change Password</a></li>
    <li><a href="f?p=&APP_ID.:11:&SESSION.:" class="current4">Applied Leaves</a></li>
        <li><a href="f?p=&APP_ID.:25:&SESSION.:" class="current4">Holidays</a></li>
        <li><a href="f?p=&APP_ID.:445:&SESSION.:" class="current4">Contact</a></li>
</ul> 
```

这个html的css是

```
#menu{

    margin: 0;
    padding: 10px 0 0 0;
    list-style: none;
    background: #111;
    background: -moz-linear-gradient(#444, #111);
        background: -webkit-gradient(linear,left bottom,left top,color-stop(0, #111),color-stop(1, #444));
    background: -webkit-linear-gradient(#444, #111);
    background: -o-linear-gradient(#444, #111);
    background: -ms-linear-gradient(#444, #111);
    background: linear-gradient(#444, #111);
    -moz-border-radius: 10px;
    border-radius: 10px;
    -moz-box-shadow: 0 2px 1px #9c9c9c;
    -webkit-box-shadow: 0 2px 1px #9c9c9c;
    box-shadow: 0 2px 1px #9c9c9c;
}

#menu li{
    float: left;
    padding: 0 0 10px 0;
    position: relative;
}

#menu a{
    float: left;
    height: 25px;
    padding: 0 25px;
    color: #999;
    text-transform: uppercase;
    font: bold 12px/25px Arial, Helvetica;
    text-decoration: none;
    text-shadow: 0 1px 0 #000;
}

#menu li:hover > a{
    color: #fafafa;
}

*html #menu li a:hover{ /* IE6 */
    color: #fafafa;
}

#menu li:hover > ul{
    display: block;
}

/* Sub-menu */

#menu ul{
    list-style: none;
    margin: 0;
    padding: 0;
    display: none;
    position: absolute;
    top: 35px;
    left: 0;
    z-index: 99999;
    background: #444;
    background: -moz-linear-gradient(#444, #111);
    background: -webkit-gradient(linear,left bottom,left top,color-stop(0, #111),color-stop(1, #444));
    background: -webkit-linear-gradient(#444, #111);
    background: -o-linear-gradient(#444, #111);
    background: -ms-linear-gradient(#444, #111);
    background: linear-gradient(#444, #111);
    -moz-border-radius: 5px;
    border-radius: 5px;
}

#menu ul li{
    float: none;
    margin: 0;
    padding: 0;
    display: block;
    -moz-box-shadow: 0 1px 0 #111111, 0 2px 0 #777777;
    -webkit-box-shadow: 0 1px 0 #111111, 0 2px 0 #777777;
    box-shadow: 0 1px 0 #111111, 0 2px 0 #777777;
}

#menu ul li:last-child{
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
}

#menu ul a{
    padding: 10px;
    height: auto;
    line-height: 1;
    display: block;
    white-space: nowrap;
    float: none;
    text-transform: none;
}

*html #menu ul a{ /* IE6 */
    height: 10px;
    width: 150px;
}

*:first-child+html #menu ul a{ /* IE7 */
    height: 10px;
    width: 150px;
}

#menu ul a:hover{
        background: #0186ba;
    background: -moz-linear-gradient(#04acec,  #0186ba);
    background: -webkit-gradient(linear, left top, left bottom, from(#04acec), to(#0186ba));
    background: -webkit-linear-gradient(#04acec,  #0186ba);
    background: -o-linear-gradient(#04acec,  #0186ba);
    background: -ms-linear-gradient(#04acec,  #0186ba);
    background: linear-gradient(#04acec,  #0186ba);
}

#menu ul li:first-child a{
    -moz-border-radius: 5px 5px 0 0;
    -webkit-border-radius: 5px 5px 0 0;
    border-radius: 5px 5px 0 0;
}

#menu ul li:first-child a:after{
    content: '';
    position: absolute;
    left: 30px;
    top: -8px;
    width: 0;
    height: 0;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    border-bottom: 8px solid #444;
}

#menu ul li:first-child a:hover:after{
    border-bottom-color: #04acec;
}

#menu ul li:last-child a{
    -moz-border-radius: 0 0 5px 5px;
    -webkit-border-radius: 0 0 5px 5px;
    border-radius: 0 0 5px 5px;
}

/* Clear floated elements */
#menu:after{
    visibility: hidden;
    display: block;
    font-size: 0;
    content: " ";
    clear: both;
    height: 0;
}

* html #menu             { zoom: 1; } /* IE6 */
*:first-child+html #menu { zoom: 1; } /* IE7 */
ul#menu li a.active{
        color: #fafafa;
    } 
```

因此，默认情况下，主页选项卡在页面加载时悬停。当我单击休假资格选项卡时，主页选项卡的悬停效果将被禁用，休假资格选项卡将悬停。我想使用 javascript/jquery 来控制它。所以请任何人告诉我该怎么做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:12:22.557

如果您使用的是记事本，请尝试使用代码段。

在您的主页上，设计应该是这样的

```
 <li><a href="f?p=&APP_ID.:1:&SESSION.:" class="active">Home</a></li>
    <li>
        <a href="f?p=&APP_ID.:400:&SESSION.:" class="current">Leave Eligibility</a>

    </li> 
```

在您的休假资格页面上

```
 <li><a href="f?p=&APP_ID.:1:&SESSION.:" class="current">Home</a></li>
    <li>
        <a href="f?p=&APP_ID.:400:&SESSION.:" class="active">Leave Eligibility</a>

    </li> 
```

以此类推其他页面。

我把它放在你的快速参考...

尝试这个

```
$("a").live('click', function() {
  $("a").removeClass("active");
  $(this).addClass("active");
  return false;
}); 
```

在此处检查输出[http://jsfiddle.net/Hn54A/3/](http://jsfiddle.net/Hn54A/3/)

# objective-c - 在 Objective C 中，是否可以使用类外部的选择器？

> ID：11077334
> 
> 赞同：1
> 
> 时间：2012-06-18T05:27:06.527
> 
> 标签：objective-c, ios, selector

例如我有一个看起来像这样的方法

```
[self performSelectorOnMainThread:@selector(someMethod) 
                       withObject:data
                    waitUntilDone:YES]; 
```

其中“someMethod”来自另一个类。如果有可能，我该怎么做？另外，我想知道如何传递参数。

假设 someMethod 被定义为：

```
- (void)someMethod:(NSData *)data otherArg:(NSString *)arg; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T05:29:54.750

您需要替换`self`为定义该方法的类的实例。否则你会得到一个无法识别的选择器错误。另外，如果您要向其发送参数，请不要忘记在其`:`后面加上一个冒号 ( ) 。`someMethod`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T05:31:01.717

是的，您也可以调用另一个类的选择器。

如果选择器是类方法 -

```
[ClassName performSelectorOnMainThread:@selector(someMethod:) 
                   withObject:data
                waitUntilDone:YES]; 
```

和方法签名是这样的 -

```
+ (void)someMethod:(returntype)somearg 
```

如果选择器是实例方法 -

```
[classInstance performSelectorOnMainThread:@selector(someMethod:) 
                   withObject:data
                waitUntilDone:YES]; 
```

和方法签名是这样的 -

```
- (void)someMethod:(returntype)somearg 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T05:35:48.487

这取决于。如果 'self' 继承自实现的类`someMethod`，那么您当然可以这样做。但是您不能向其类（或祖先类）未实现该方法的对象发送消息。（嗯，你可以，但期待一个错误。）

您显示的代码段类似于：

```
[self someMethod:data]; 
```

除了`someMethod:`将在主线程上运行，而不是当前正在执行的任何线程。以这种方式看待它可能会帮助您记住接收者（`self`在这种情况下，但它可能是指向任何对象的指针）必须实现您正在发送的消息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T05:30:02.093

而不是 self，你用你想要执行选择器的类的实例替换它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T06:02:31.457

您要发送的消息带有两个参数，并且没有变体`performSelectorOnMainThread:...`将两个参数与消息一起传递。

最简单的方法是使用 Grand Central Dispatch 和块。如果您**确定**不会在主线程上执行此**操作**，则可以执行以下操作：

```
dispatch_sync(dispatch_get_main_queue(), ^{
    [otherObject someMethod:myData otherArg:@"my argument"];
}); 
```

但是，如果您在主线程上运行该代码，该代码将死锁——您的应用程序将挂起。

如果您可能想在**已经**在主线程上时执行此操作，则必须更加小心以避免死锁。我会这样做：

```
dispatch_block_t block = ^{
    [otherObject someMethod:myData otherArg:@"my argument"];
};

if (dispatch_get_current_queue() == dispatch_get_main_queue()) {
    block();
} else {
    dispatch_sync(dispatch_get_main_queue(), block);
} 
```

# android - 是否可以在android中为下载的图像生成资源ID

> ID：11077335
> 
> 赞同：2
> 
> 时间：2012-06-18T05:27:11.363
> 
> 标签：android, imageview

我是从互联网上下载的图像，是否可以为下载的图像生成资源 ID。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T05:28:50.920

不可以。资源 ID 仅适用于与 .apk 文件中的应用程序的其余部分一起打包的资源。您必须使用其他 I/O 方法来访问图像。您可以保存图像[`Environment.getExternalStorateDirectory()`](http://developer.android.com/reference/android/os/Environment.html#getExternalStorageDirectory%28%29)用于获取`File`目录，然后您可以保存并稍后使用普通文件 I/O 操作读取图像。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T05:28:40.683

不，这是不可能的。资源 id 由系统分配给使用 apk 添加的文件。它不能用于任何外部文件。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-18T05:30:24.857

通过资源 ID，我假设您的意思是 R. *。*ID。这是不可能的，因为 R.java 类是在您编译应用程序时由编译器生成的。要使用从 Internet 下载的图像，您必须使用标准 Java IO。

# sharepoint - 将沙盒解决方案 Webpart 添加到 Sharepoint 2010 中的页面时出错

> ID：11077336
> 
> 赞同：1
> 
> 时间：2012-06-18T05:27:13.483
> 
> 标签：sharepoint, web-parts, sandbox-solution

我已经编译了一个沙盒 webpart 并将其部署到 Sharepoint 2010 服务器。但是，当我尝试将其添加到页面时，出现以下错误

部分信任应用程序域中的沙盒代码包装器的 Execute 方法引发了未处理的异常：$Resources:core,ImportErrorMessage

我在下面包含了我的沙盒 Webpart 代码。我不知道如何解决此错误，或找出导致问题的原因

```
using System;
using System.ComponentModel;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Web.UI.WebControls.WebParts;
using Microsoft.SharePoint;
using Microsoft.SharePoint.WebControls;
using System.Web.UI.HtmlControls;
using System.Collections.Generic;
using System.Text;

namespace Competency_Assessment.wp_selectRatings
{
[ToolboxItemAttribute(false)]
public class wp_selectRatings : WebPart
{

    [Serializable]
    private class Rating
    {
        public String rating;
        public String competency;
        public String accountname;
        public String revieweraccount;
        public String itemid;
        public Boolean updatable;
    }

    //Start by declaring ASP.NET controls in the class scope
    SPWeb thisWeb = SPContext.Current.Web;
    SPList ratingsList;
    SPList competencyList;
    Panel hiddenPanel;
    Button submitRatingsButton;
    RadioButtonList exampleRadioButtonList;
    TextBox t1;
    //TextBox t2;
    Button refreshPersonButton;
    String cuser = "";
    String cusername = "";
    List<Rating> ratings = new List<Rating>();
    System.Web.Script.Serialization.JavaScriptSerializer js = new System.Web.Script.Serialization.JavaScriptSerializer();

    protected override void OnInit(EventArgs e)
    {
        ratingsList = thisWeb.Lists["Competency Ratings"];
        competencyList = thisWeb.Lists["Competencies"];
        LoadRatings();
        base.OnInit(e);
    }

    //protected override void RenderContents(HtmlTextWriter writer)
    //{
    //    StringBuilder js = new StringBuilder();

    //    js.AppendLine("  var head = document.getElementsByTagName(\"head\")[0];");
    //    js.AppendLine("  if(document.createStyleSheet)");
    //    js.AppendLine("  {");
    //    js.AppendLine("    document.createStyleSheet('" + SPContext.Current.Site.Url + "/Lists/Assets/Styles1.css" + "');");
    //    js.AppendLine("  } else {");
    //    js.AppendLine("    var css = document.createElement('link');");
    //    js.AppendLine("    css.type = 'text/css';");
    //    js.AppendLine("    css.rel = 'stylesheet';");
    //    js.AppendLine("    css.href = '" + SPContext.Current.Site.Url + "/Lists/Assets/Styles1.css" + "';");
    //    js.AppendLine("    head.appendChild(css);");
    //    js.AppendLine("  }");

    //    base.RenderContents(writer);

    //    writer.AddAttribute(HtmlTextWriterAttribute.Type, "text/javascript");
    //    writer.RenderBeginTag(HtmlTextWriterTag.Script);
    //    writer.WriteLine(js.ToString());
    //    writer.RenderEndTag();
    //}

    protected override void CreateChildControls()
    {

        //Testing textboxes
        t1 = new TextBox();
        //t2 = new TextBox();

        this.Controls.Add(t1);
        //this.Controls.Add(t2);

        refreshPersonButton = new Button();
        refreshPersonButton.Text = "Search";
        refreshPersonButton.Click += new EventHandler(refreshPersonButton_Click);
        this.Controls.Add(refreshPersonButton);

        //Set up the panel control
        hiddenPanel = new Panel();
        hiddenPanel.GroupingText = "Competency Ratings";
        //We'll hide it by default.
        hiddenPanel.Visible = false;
        this.Controls.Add(hiddenPanel);

        hiddenPanel.Controls.Add(new LiteralControl("<br/>"));
        hiddenPanel.Controls.Add(new LiteralControl("<table id='table-6'>"));

        //iterate the matching entries
        string prevname = "";
        string currentname = "";
        foreach (Rating rating in ratings)
        {
            currentname = rating.accountname;
            if (!currentname.Equals(prevname))
            {
                //Table Heading
                hiddenPanel.Controls.Add(new LiteralControl("<tr>"));
                hiddenPanel.Controls.Add(new LiteralControl("<td colspan='2' class='namestyle'>" + currentname.ToUpper() + "</td>"));
                hiddenPanel.Controls.Add(new LiteralControl("</tr>"));
            }
            prevname = rating.accountname;

            hiddenPanel.Controls.Add(new LiteralControl("<tr>"));

            hiddenPanel.Controls.Add(new LiteralControl("<td>"));

            Label l1 = new Label();
            l1.Text = rating.competency;
            hiddenPanel.Controls.Add(l1);

            hiddenPanel.Controls.Add(new LiteralControl("</td><td>"));

            //Set up the radio button list
            exampleRadioButtonList = new RadioButtonList();

            exampleRadioButtonList.ID = rating.itemid;

            exampleRadioButtonList.RepeatDirection = RepeatDirection.Horizontal;

            exampleRadioButtonList.Items.Add("1");
            exampleRadioButtonList.Items.Add("2");
            exampleRadioButtonList.Items.Add("3");
            exampleRadioButtonList.Items.Add("4");
            exampleRadioButtonList.Items.Add("5");
            exampleRadioButtonList.SelectedValue = rating.rating;
            exampleRadioButtonList.Enabled = rating.updatable;

            hiddenPanel.Controls.Add(exampleRadioButtonList);

            hiddenPanel.Controls.Add(new LiteralControl("</td>"));
            hiddenPanel.Controls.Add(new LiteralControl("</tr>"));
        }
        hiddenPanel.Controls.Add(new LiteralControl("</table>"));

        //Set up the Submit Ratings button
        submitRatingsButton = new Button();
        submitRatingsButton.Text = "Submit ratings";
        //handle the button's click event
        submitRatingsButton.Click += new EventHandler(submitRatingsButton_Click);
        hiddenPanel.Controls.Add(submitRatingsButton);
    }

    private void LoadRatings()
    {
        //clear ratings
        ratings.Clear();

        //Set the query to search for existing ratings
        SPQuery query = new SPQuery();
        query.ViewFields = "<FieldRef Name='Rating'/>" + "<FieldRef Name='Title'/>" + "<FieldRef Name='Employee'/>";
        if (cuser.Equals(""))
        {
            query.Query = "<OrderBy><FieldRef Name='Employee' /></OrderBy>";
        }
        else
        {
            query.Query = "<Where><Contains><FieldRef Name='Title' /><Value Type='Text'>" + cuser + "</Value></Contains></Where>" + "<OrderBy><FieldRef Name='Employee' /></OrderBy>";

        }

        SPListItemCollection collListItems = ratingsList.GetItems(query);

        foreach (SPListItem item in collListItems)
        {
            Rating thisrating = new Rating();
            SPFieldUser field = item.Fields["Employee"] as SPFieldUser;

            if (field != null)
            {
                SPFieldUserValue fieldValue = field.GetFieldValue(item["Employee"].ToString()) as SPFieldUserValue;
                if (fieldValue != null)
                {
                    thisrating.accountname = fieldValue.User.Name;
                }
                else
                {
                    thisrating.accountname = "";
                }
            }
            else
            {
                thisrating.accountname = "";
            }
            //thisrating.accountname = cuser;
            thisrating.rating = ((double)item["Rating"]).ToString();
            thisrating.competency = item.Title;
            thisrating.itemid = item.ID.ToString();
            thisrating.revieweraccount = "SHAREPOINT\\system";
            if (canPersonRate(thisrating.competency))
            {
                thisrating.updatable = true;
            }
            ratings.Add(thisrating);
        }

    }

    private Boolean canPersonRate(string competencyname)
    {
        Boolean canrate = false;
        SPQuery query = new SPQuery();
        query.Query = "<Where><Eq><FieldRef Name='Title'/><Value Type='Text'>" + competencyname + "</Value></Eq></Where>";
        query.ViewFields = "<FieldRef Name='Owner'/>";

        SPListItemCollection collListItems = competencyList.GetItems(query);

        foreach (SPListItem item in collListItems)
        {

            SPFieldUser field = item.Fields["Owner"] as SPFieldUser;

            if (field != null)
            {
                SPFieldUserValue fieldValue = field.GetFieldValue(item["Owner"].ToString()) as SPFieldUserValue;
                if (fieldValue != null)
                {
                    string str = fieldValue.User.LoginName;
                    if (str  == SPContext.Current.Web.CurrentUser.LoginName)
                    {
                        canrate = true;
                    }
                }
            }
        }
        return canrate;
    }

    protected override object SaveViewState()
    {
        object[] state = new object[4];
        state[0] = cuser;
        state[1] = cusername;
        state[2] = js.Serialize(ratings);
        state[3] = base.SaveViewState();
        return state;
    }

    protected override void LoadViewState(object savedState)
    {
        if (savedState != null)
        {
            object[] state = (object[])savedState;
            cuser = (string)state[0];
            cusername = (string)state[1];
            //Rating[] myArray = (Rating[])state[2];
            //ratings = (List<Rating>)state[2];
            //ratings = new List<Rating>(myArray);
            ratings = js.Deserialize<List<Rating>>((string)state[2]);
            base.LoadViewState(state[3]);
        }
        else
        {
            base.LoadViewState(savedState);
        }
    }

    void refreshPersonButton_Click(object sender, EventArgs e)
    {

        Controls.Clear();
        ClearChildViewState();
        ChildControlsCreated = false;

        //Refresh ratings display
        cuser = t1.Text;
        //cusername = t2.Text;
        LoadRatings();

        EnsureChildControls();
        t1.Text = cuser;
        //t2.Text = cusername;
        //Show the hidden panel
        hiddenPanel.Visible = true;

    }

    void submitRatingsButton_Click(object sender, EventArgs e)
    {
        //hiddenPanel.Visible = false;

        foreach (Rating rating in ratings)
        {
            //get current value of control to check if value has changed
            Control ratingctrl = (FindControl(rating.itemid));
            if (ratingctrl == null)
            {
                //No matching rating control found
            }
            else
            {
                String cval = ((RadioButtonList)ratingctrl).SelectedValue;
                //Only update List item if the rating has changed!
                if (cval != rating.rating)
                {
                    SPItem itemtoupdate = ratingsList.GetItemById(Convert.ToInt32(rating.itemid));
                    itemtoupdate["Rating"] = cval;
                    itemtoupdate.Update();

                }
            }

        }
    }
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-25T20:42:08.160

`JavaScriptSerializer`需要`ReflectionPermission`运行。[根据这篇](http://msdn.microsoft.com/en-US/library/gg615454.aspx)关于*SharePoint 2010 中沙盒解决方案限制的*文章，我不认为沙盒解决方案被授予此权限。

# javascript - 如何在不同的屏幕分辨率上居中 swf 文件？

> ID：11077337
> 
> 赞同：0
> 
> 时间：2012-06-18T05:27:13.877
> 
> 标签：javascript, html, flash

有谁知道如何将一个 swf 文件居中，该文件从每一侧裁切，而不仅仅是将其以不同的屏幕分辨率居中？

我希望它类似于本网站的横幅[http://www.mondoliving.com.au/](http://www.mondoliving.com.au/)如果您更改屏幕分辨率或浏览器窗口大小，图像将保持在中心但不会缩放，仅显示的宽度似乎会发生变化通过在每一侧进行裁剪。

我尝试使用适用于不同屏幕分辨率的 javascript，但首先在左侧加载 swf，然后将其居中，这似乎跳到了中心。我想知道是否有人新的不同，更顺畅的方式来做到这一点？我想知道是否可以使用 swf 中的 Action 脚本来完成？

我使用的javascript是：

```
<script type="text/javascript">
function centerSWF()
{
 var sw;
 if(parseInt(navigator.appVersion)>3)
 {
  if(navigator.appName=="Netscape"){sw = window.innerWidth-17;}
  if(navigator.appName.indexOf("Microsoft")!=-1){sw = document.body.offsetWidth-0;}
  }
 var w = (sw-1500)/2;
 document.getElementById("flashbg").style.width = sw+"px";
 document.getElementById("flash").style.marginLeft = w+"px";
}
</script>

</head>

<body onload="centerSWF()"> 
```

然后我嵌入了瑞士法郎。

嵌入代码：

```
<div id="flash_box">
<div id="flashbg" class="flashbg">
 <div id="flash" class="flash">
      <object id="FlashID" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1500" height="250">
        <param name="movie" value="img/top14.swf" />
        <param name="quality" value="high" />
        <param name="wmode" value="opaque" />
        <param name="scale" value="noborder" />
        <param name="swfversion" value="9.0.45.0" />
        <!-- This param tag prompts users with Flash Player 6.0 r65 and higher to download the latest version of Flash Player. Delete it if you don’t want users to see the prompt. -->
        <param name="expressinstall" value="Scripts/expressInstall.swf" />
        <!-- Next object tag is for non-IE browsers. So hide it from IE using IECC. -->
        <!--[if !IE]>-->
        <object type="application/x-shockwave-flash" data="img/top14.swf" width="1500" height="250">
          <!--<![endif]-->
          <param name="quality" value="high" />
          <param name="wmode" value="opaque" />
         <param name="swfversion" value="9.0.45.0" />
         <param name="expressinstall" value="Scripts/expressInstall.swf" />
         <!-- The browser displays the following alternative content for users with Flash Player 6.0 and older. -->
          <div>
           <h4>Content on this page requires a newer version of Adobe Flash Player.</h4>
            <p><a href="http://www.adobe.com/go/getflashplayer"><img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" width="112" height="33" /></a></p>
          </div>
          <!--[if !IE]>-->
        </object>
        <!--<![endif]-->
      </object>
  </div>
</div>
</div>
<!--End flash_box --> 
```

和CSS：

```
#flash_box {
margin:auto;
padding:0px 0px 5px 0px;
border-bottom:double #e9e8e8 thin;
border-collapse:collapse;
height:250px;
overflow:hidden;
}

.flashbg{position:absolute;overflow:hidden;}
.flash{width:1500px;} 
```

谢谢任何帮助非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:47:20.127

在 CSS 中进行这些更改 -

```
#flash_box {
margin: 0 auto;
padding:0px 0px 5px 0px;
border-bottom:double #e9e8e8 thin;
border-collapse:collapse;
height:250px;
overflow:hidden;
text-align: center;
}
.flashbg{/*position:absolute;overflow:hidden;*/}
.flash{width:1500px; text-align: center;} 
```

# ruby - 使用迁移将列从可空更改为非空的有效方法？

> ID：11077338
> 
> 赞同：1
> 
> 时间：2012-06-18T05:27:14.280
> 
> 标签：ruby, ruby-on-rails-3

我有一个模型，它有几个可以为空的列，由于额外的工作，现在需要一些列是非空的。

我遇到的问题是有外键约束。有可选的关联现在不是可选的。

我有很多需要关联的空白关联数据。建议？

从：

```
 t.integer :user_id,  :null => true
  t.integer :place_id, :null => true 
```

至：

```
change_column :hotel, :user_id, :integer,     :null => false
change_column :hotel, :place_id, :integer,    :null => false 
```

我知道我可以使用 :default => val 选项，但是在此切换期间我还应该考虑其他什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T10:54:26.043

创建一个单独的迁移，将关联数据链接到现有记录，并确保为迁移命名，以便它在添加约束的迁移*之前运行。*`:null => false`

# java - 无法使用支持代理的 httpclient 上传文件

> ID：11077339
> 
> 赞同：0
> 
> 时间：2012-06-18T05:27:20.050
> 
> 标签：java, file-upload, apache-httpclient-4.x, proxy-classes

我正在开发一个上传器类，它将使用系统的代理设置来上传文件。在 IE 中，如果我启用代理设置，则不会发生上传。它停留在以下行

```
 System.out.println("Now uploading your file into bayfiles.com");
            HttpResponse response = httpclient.execute(httppost); 
```

如果我禁用代理设置，则文件已成功上传。我不知道帽子是什么原因。谁能解释我为什么会这样？

然后又是一个疑问。如果我禁用代理设置，虽然上传工作正常，但无法登录到该站点。代码有什么问题吗？如果我错了，请纠正我，

谢谢。

我的代码如下，

```
public class BayFilesUploaderPlugin {

    private static URL u;
    private static HttpURLConnection uc;
    private static BufferedReader br;
    private static String tmp;
    private static String postURL;
    private static File file;
    private static String uploadresponse;
    private static String downloadlink;
    private static String deletelink;
    private static String sessioncookie;
    private static boolean login = false;
    private static String proxy_address;
    private static String proxy_host = "myproxy.mydomain.com";
    private static String proxy_port = "8080";

    public static void main(String[] args) throws Exception {

//        java.net.ProxySelector.setDefault(new MyProxySelector(ProxySelector.getDefault()));
        System.setProperty("java.net.useSystemProxies", "true");
//        Proxy next = ProxySelector.getDefault().select(new URI("http://www.google.com/")).iterator().next();
//
//        if (next.address() != null) {
//            proxy_address = next.address().toString();
//            proxy_host = proxy_address.substring(0, proxy_address.indexOf(":"));
//            proxy_port = proxy_address.substring(proxy_address.indexOf(":") + 1);
//
//            System.out.println("Host : " + proxy_host);
//            System.out.println("Port : " + proxy_port);
//            System.setProperty("https.proxyHost", proxy_host);
//            System.setProperty("http.proxyHost", proxy_host);
//            System.setProperty("https.proxyPort", proxy_port);
//            System.setProperty("http.proxyPort", proxy_port);
//        }

        // 

        System.setProperty("https.proxyHost", proxy_host);
        System.setProperty("http.proxyHost", proxy_host);
        System.setProperty("https.proxyPort", proxy_port);
        System.setProperty("http.proxyPort", proxy_port);

        initialize();
//        loginBayFiles();
//        System.exit(0);
        fileUpload();

    }

    private static void initialize() throws Exception {
        System.out.println("Getting upload url from bayfiles.com");
        System.setProperty("java.net.useSystemProxies", "true");
        u = new URL("http://bayfiles.com/ajax_upload?_=" + new Date().getTime());
        uc = (HttpURLConnection) u.openConnection();
        if (login) {
            uc.setRequestProperty("Cookie", sessioncookie);
        }
        br = new BufferedReader(new InputStreamReader(uc.getInputStream()));
        String k = "";
        while ((tmp = br.readLine()) != null) {
            k += tmp;
        }
        postURL = parseResponse(k, "\"upload_url\":\"", "\"");
        postURL = postURL.replaceAll("\\\\", "");
        System.out.println("Post URL : " + postURL);
    }

    public static String parseResponse(String response, String stringStart, String stringEnd) {

        response = response.substring(response.indexOf(stringStart));
        response = response.replace(stringStart, "");
        response = response.substring(0, response.indexOf(stringEnd));
        return response;
    }

    private static void fileUpload() throws Exception {

        DefaultHttpClient httpclient = new DefaultHttpClient();

//        httpclient.getCredentialsProvider().setCredentials(
//                new AuthScope("myproxy.mydomain.com", 80),
//                new UsernamePasswordCredentials("", ""));

        //    HttpHost targetHost = new HttpHost("www.verisign.com", 443, "https");
        HttpHost proxy = new HttpHost("myproxy.mydomain.com", 80);

        httpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);

        HttpPost httppost = new HttpPost(postURL);
        file = new File("C:\\Dinesh\\naruto.txt");
        System.out.println(file.getName());
        MultipartEntity mpEntity = new MultipartEntity(HttpMultipartMode.BROWSER_COMPATIBLE);
        ContentBody cbFile = new FileBody(file);
        mpEntity.addPart("file", cbFile);
        httppost.setEntity(mpEntity);
        System.out.println("executing request " + httppost.getRequestLine());
        System.out.println("Now uploading your file into bayfiles.com");
        HttpResponse response = httpclient.execute(httppost);
        System.out.println("after exe");
        HttpEntity resEntity = response.getEntity();

        System.out.println(response.getStatusLine());
        if (resEntity != null) {
            uploadresponse = EntityUtils.toString(resEntity);
        }
//  
        System.out.println("Upload response : " + uploadresponse);
        downloadlink = parseResponse(uploadresponse, "\"downloadUrl\":\"", "\"");
        downloadlink = downloadlink.replaceAll("\\\\", "");
        deletelink = parseResponse(uploadresponse, "\"deleteUrl\":\"", "\"");
        deletelink = deletelink.replaceAll("\\\\", "");
        System.out.println("Download link : " + downloadlink);
        System.out.println("Delete link : " + deletelink);
    }

    public static void loginBayFiles() throws Exception {
        HttpParams params = new BasicHttpParams();
        params.setParameter(
                "http.useragent",
                "Mozilla/5.0 (Windows; U; Windows NT 6.1; en-GB; rv:1.9.2) Gecko/20100115 Firefox/3.6");
        DefaultHttpClient httpclient = new DefaultHttpClient(params);

        httpclient.getCredentialsProvider().setCredentials(
                new AuthScope(proxy_host, Integer.valueOf(proxy_port)),
                new UsernamePasswordCredentials("", ""));

        //    HttpHost targetHost = new HttpHost("www.verisign.com", 443, "https");
        HttpHost proxy = new HttpHost(proxy_port, Integer.valueOf(proxy_port));

        httpclient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, proxy);
        System.out.println("Trying to log in to bayfiles.com");
        HttpPost httppost = new HttpPost("http://bayfiles.com/ajax_login");
        List<NameValuePair> formparams = new ArrayList<NameValuePair>();
        formparams.add(new BasicNameValuePair("action", "login"));
        formparams.add(new BasicNameValuePair("username", "myusername"));
        formparams.add(new BasicNameValuePair("password", "mypwd"));
        UrlEncodedFormEntity entity = new UrlEncodedFormEntity(formparams, "UTF-8");
        httppost.setEntity(entity);
        HttpResponse httpresponse = httpclient.execute(httppost);
        System.out.println("Getting cookies........");
        Iterator<Cookie> it = httpclient.getCookieStore().getCookies().iterator();
        Cookie escookie = null;
        while (it.hasNext()) {
            escookie = it.next();
            if (escookie.getName().equalsIgnoreCase("SESSID")) {
                sessioncookie = "SESSID=" + escookie.getValue();
                System.out.println(sessioncookie);
                login = true;
                System.out.println("BayFiles.com Login success :)");
            }
        }
        if (!login) {
            System.out.println("BayFiles.com Login failed :(");
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:12:57.940

我使用默认代理选择器解决了类似的问题：

```
DefaultHttpClient httpclient = new DefaultHttpClient();

ProxySelectorRoutePlanner routePlanner = new ProxySelectorRoutePlanner(
     httpclient.getConnectionManager().getSchemeRegistry(),
     ProxySelector.getDefault());

httpclient.setRoutePlanner(routePlanner); 
```

# java - 我可以在没有 XML 文件的情况下执行 TestNG 吗？

> ID：11077349
> 
> 赞同：1
> 
> 时间：2012-06-18T05:28:38.367
> 
> 标签：java, testng

大多数测试框架都可以在不添加配置文件的情况下执行。例如，执行所有测试、命名空间或类。我还没有找到在没有 testNG.xml 的情况下执行 testNG 的方法

澄清：

我想从命令行执行 TestNG - 手动或从 rake 脚本，使用最少（理想情况下没有）XML。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:07:52.963

如果您使用的是 Eclipse，您可以右键单击包或类并选择“运行方式”->“TestNG 测试”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T17:41:42.307

是的，您有很多选择，从在命令行上指定类、方法和组开始，或者使用 ant 或使用 maven。

但是，您可以通过这种方式执行的操作相当有限，如果您想使用 TestNG 的高级功能，则必须使用`testng.xml`文件。

就个人而言，我喜欢将所有测试信息收集在一个中央文件中，而不是将其分散在我的各种构建文件中。我不想在需要更改测试运行方式时更改构建。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:30:10.680

您还可以使用 ant 批量执行测试用例。您只需要在构建文件中编写一个用于执行 testng 测试用例的目标。

# php - 使用 file_get_contents 确定弹出值

> ID：11077350
> 
> 赞同：2
> 
> 时间：2012-06-18T05:28:39.137
> 
> 标签：php

我试图在使用`file_get_contents`.

```
<?php

$word = 'delete';
$page_content = file_get_contents($url);

if(strstr($page_content, $word)):
$result = 'YES';
else:
$result = 'NO';
endif;

?> 
```

我的代码检测页面中是否有特定的单词。但是，它无法在 javascript 弹出窗口中获得价值。

让我们假设有一个网站有一个 javascript 弹出窗口。

`file_get_contents($the_website_url)`只会获取网站的html数据。

我也试图通过使用 php 脚本来获取 javascript 弹出值。

有没有办法获取外部网页的 javascript 值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:34:22.683

它充其量是复杂的，否则是不可能的。

如果弹出窗口是从外部 javascript 资源生成的，您可能能够解析加载 URL 的内容并加载它引用的 javascript 文件，检查每个文件。

但是，文本可能来自用户，或者来自事后的动态加载，这将使您难以解析。

# php - json_encode 不响应正确的 json 数据

> ID：11077354
> 
> 赞同：0
> 
> 时间：2012-06-18T05:29:01.237
> 
> 标签：php, jquery, header, json

假设我有 2 个 .php 文件：index.php 和 ajax.php

这是 index.php：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<META http-equiv=Content-Type content="text/html; charset=utf-8">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Website title</title>
<link href="css.css" rel="stylesheet" type="text/css" />
<script type="text/javascript"  src="jquery.js"></script>

</head>
<body>

<script type="text/javascript">
    ajax_register = function(){
        $.ajax({
            type: "post",
            url: 'ajax.php',
            dataType: 'json',
            data: "act=register",
            success: function(data){
                //var json = $.parseJSON(data);
                //alert(json);
                alert(data.result);

            },
            error: function(e){
                alert("Error : " + e);
            }
        });
    };

</script>

<form name="myForm" id="myForm" method="post">
    Your name :
    <input type="text" name="name" id="name" /> 
    <a href="javascript:void(0)" onclick="ajax_register()">Register</a>
</form>

</body>
</html> 
```

这是 ajax.php：

```
<?php
$result = array("result"=>"Success");
echo json_encode($result);
exit; 
```

但我总是有“错误”警报对话框。

查看 Firebug，我看到响应数据包含所有 html 元素，而不仅仅是 json 数据。

尝试通过编辑 ajax.php 将标头作为“json”发送：

```
<?php
header("Content-type: application/json");
    $result = array("result"=>"Success");
    echo json_encode($result);
exit; 
```

但它不起作用。响应头总是： Content-Type:text/html;

**更新**

这是 ajax.php 的响应：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">

    <META http-equiv=Content-Type content="text/html; charset=utf-8">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Website title</title>
    <link href="css.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript"  src="jquery.js"></script>

    </head>
    <body>

    <script type="text/javascript">
        ajax_register = function(){
            $.ajax({
                type: "post",
                url: 'ajax.php',
                dataType: 'json',
                data: "act=register",
                success: function(data){
                    //var json = $.parseJSON(data);
                    //alert(json);
                    alert(data.result);

                },
                error: function(e){
                    alert("Error : " + e);
                }
            });
        };

    </script>

    <form name="myForm" id="myForm" method="post">
        Your name :
        <input type="text" name="name" id="name" /> 
        <a href="javascript:void(0)" onclick="ajax_register()">Register</a>
    </form>
{"result":"Success"} 
```

我在这里错了什么？

谢谢你的时间！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:38:36.707

我只将此 LOC 更改`<script type="text/javascript" src="jquery.js"></script>`为

```
<script type="text/javascript"  src="http://code.jquery.com/jquery-latest.js"></script> 
```

检查您的代码并在我的最后一切正常..检查 JS 错误可能是 JS 冲突的情况。（提醒我成功）。让我知道问题是否仍然存在

`index.php`代码 -

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<META http-equiv=Content-Type content="text/html; charset=utf-8">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Website title</title>
<link href="css.css" rel="stylesheet" type="text/css" />
<script type="text/javascript"  src="http://code.jquery.com/jquery-latest.js"></script>

</head>
<body>

<script type="text/javascript">
    ajax_register = function(){
        $.ajax({
            type: "post",
            url: 'ajax.php',
            dataType: 'json',
            data: "act=register",
            success: function(data){
                //var json = $.parseJSON(data);
                //alert(json);
                alert(data.result);

            },
            error: function(e){
                alert("Error : " + e);
            }
        });
    };

</script>

<form name="myForm" id="myForm" method="post">
    Your name :
    <input type="text" name="name" id="name" /> 
    <a href="javascript:void(0)" onclick="ajax_register()">Register</a>
</form>

</body>
</html> 
```

`ajax.php`代码 - -

```
<?php
$result = array("result"=>"Success");
echo json_encode($result);
exit; 
```

`Success`单击注册时发出警报。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-18T05:41:20.607

我想你可以改变这条线

```
 data: "act=register", 
```

到

```
 data: " act : register ", 
```

# elf - 打印精灵的部分

> ID：11077355
> 
> 赞同：1
> 
> 时间：2012-06-18T05:29:10.643
> 
> 标签：elf

我需要编写函数 write_file：这个函数 write_file(int fdOut, char *start1, char *start2) 接收输出文件的文件描述符和两个指向映射到内存的 ELF 文件结构的指针。遍历节头表中的所有节头，将相关字段（节名、偏移量和长度）打印到标准输出（用于调试），并将相应的节内容写入输出文件。

我如何“将相应的部分内容写入输出文件”？它总是复制 0 个字节...

这就是我写的：void write_file(int fdOut, char *start_a, char *start_b) {

```
 char *start1=start_a;
 Elf32_Ehdr *header;
 Elf32_Shdr *curr;
 char *curr_name;
 int i;
 int c;

write(fdOut , start1 , 52);
start1=start_a;

header = (Elf32_Ehdr *)start1;

for(i=0 ; i< header->e_shnum ; i++){
  start1=start_a;
 curr= get_shdr_from_index(i, start1); /*returns a pointer to the requested section header**/
 curr_name=get_section_name(i, start1); /*returns a pointer into the section header string table.**/

 printf("[ %d ] %20s %20x %20x\n", i ,
           curr_name , curr->sh_offset , curr->sh_size);

 if (c=write(fdOut, curr, curr->sh_size)<0) {
  perror("error");
  exit(-1);
}
printf("%d" , c);

} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-24T04:07:45.537

您的第一个错误在这里：

```
if (c=write(fdOut, curr, curr->sh_size)<0) { ... 
```

[在此处](http://en.wikipedia.org/wiki/Operators_in_C_and_C++)阅读运算符优先级。你的意思是写：

```
if ((c = write(fdOut, curr, curr->sh_size)) < 0) { ... 
```

您的第二个错误是您被要求将*部分内容*写入fd。但是您正在编写 section *header*，而不是内容。内容可以在原始文件中的 offset 处找到`curr->sh_offset`。该数据可能根本不存在于内存中，因此您可能需要`lseek`将原始文件中`read`的数据和来自那里的数据，然后才能`write`将数据输出到输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:34:57.570

使用`-O binary`输出格式：

```
objcopy -O binary --only-section=.text foobar.elf foobar.text 
```

# phpunit - 在 Symfony 中运行 Phpunit 测试时出错

> ID：11077357
> 
> 赞同：1
> 
> 时间：2012-06-18T05:29:20.287
> 
> 标签：phpunit, symfony-1.4

我正在尝试`./symfony phpunit:test-unit`为我的 symfony 项目运行此命令，但出现以下错误：

> 警告：require_once(Phactory/lib/Phactory.php)：无法打开流：第 34 行的 /home/shivalibari/repos/hpadvise/advisestream/test/phpunit/bootstrap/unit.php 中没有这样的文件或目录

那么有人可以告诉我我错过了什么或出了什么问题吗？

# javascript - 访问位于代码后面的 .cs 文件中的 javascript 变量的值？

> ID：11077366
> 
> 赞同：1
> 
> 时间：2012-06-18T05:30:27.807
> 
> 标签：javascript, asp.net, html, json, c#

我想访问java脚本的返回值，它在一个变量和一个标签中，我想在.cs文件中使用它，我该怎么做？我已经在一个变量中获取了 javascript 的输出，还有一个 asp.net 的标签控件......我两种方式都得到了值，但是需要它.cs 文件来将它保存在我的数据 bsae 中，请帮助我。 。 感谢你

```
<script language=Javascript>
    function setup_ip(json) {
        var htmlx = " Your IP Address: <b>" + json.IP;
        htmlx += "</b> | Country: " + json.countryName;
        if (json.cityName != "Unknown" || json.regionName != "Unknown") {
            htmlx += " | City: " + json.cityName + " / " + json.regionName;
            var s = " | City: " + json.cityName + " / " + json.regionName;
        } else {
            htmlx += " | Your Time: " + json.localTimeZone;
        }

        $("#myipx").html(htmlx);
     //   $('#<%= lbl1.ClientID %>').text(htmlx);
        $('#<%= lbl1.ClientID %>').text(s);

       // var txtCountry = document.getElementById('<%=lbl1.ClientID %>');        

    }

    $(document).ready(function() {

        EasyjQuery_Get_IP("setup_ip", "full");

    });
    </script>
</head>
<body>
    <form id="form1" runat="server">
    <div>
    <div class="inner">
<p class="welcome-message">
<a href="http://www.easyjquery.com/detect-get-clients-ip-address-country-using-javascript-php/"id="topid" title="Javascript, PHP jQuery API Detect Clients IP Address and Country - Geo Location"   >
<asp:Label ID="myipx" runat="server"  ClientIDMode="Static"></a></asp:Label>Detecting Clients IP Address - Country - City</span>
<br />
<asp:Label ID="lbl1" runat="server"  ClientIDMode="Static"></asp:Label>
                </p>
                 <asp:TextBox ID="txtCountry" runat="server"></asp:TextBox>

            <!-- END #footer-texture -->
            </div>

    </div>
    </form>
</body> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:34:20.003

要将客户端信息（JavaScript 结果/变量）发送到服务器，您必须...将信息发送到服务器。:-) 您可以通过多种方式做到这一点，最适合更新数据库的两种方式是：

*   [Ajax](http://en.wikipedia.org/wiki/Ajax_%28programming%29) - 一种无需刷新页面即可将数据从客户端发送到服务器的方法
*   表单提交 - 标准表单提交

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T05:35:21.500

创建一个服务器端隐藏字段，在其中放置 javascript 值。并在服务器端从隐藏字段中读取值。

html

```
<input type="hidden" id="myhidden" runat="server"> 
```

使用 JavaScript 访问

```
 document.getElementById("myhidden").value="jsvalue"; 
```

在后面的代码中访问

```
myhidden.Value 
```

或者

您可以使用ajax 向服务器发送数据。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-18T05:37:33.090

要使用此值，您有以下选项：

1.）由于标签是您的服务器端控件，因此您可以轻松访问 .cs 文件中的标签文本值，因此此处的 javascript 变量的主要问题可以将此值分配给 asp:hidden 字段，因此您也可以在 .cs 文件中访问它，例如：

```
<script language=Javascript>
function setup_ip(json) {

$("#hdn").val('your javascript variable');
}
</script>
 <asp:ScriptManager ID="ScriptManager1" runat="server" EnablePageMethods="true" ScriptMode="Release">
</asp:ScriptManager>
<asp:UpdatePanel ID="UpnlHidden" runat="server">
    <ContentTemplate>
        <input runat="server" type="hidden" id="hdn" value="0" />
    </ContentTemplate>
</asp:UpdatePanel> 
```

cs 文件：

```
 string str = hdn.value//Where ever you want to store value 
```

2.）另一个选项，您可以在此处使用 pagemethod 并将两个值作为参数传递给 .cs 文件。

javascript：

```
 PageMethods.getValue(parameter1,parameter2, OnSucceeded, OnFailed);
function OnSucceededID(result, methodName)
{
   //get result back if you want after successfully execution of pagemethod on server side  
}

 function OnFailedID(error, methodName) {
        if (error !== null) {
           alert(error.get_message());
        }
    } 
```

CS文件：

```
 [WebMethod(enableSession: true)]
    public static returntype getValue(parameter type parameter1,parameter type parameter2)
    {
        do what you want to do with these values.

    } 
```

希望它可以帮助你。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-18T06:59:36.937

这是 javascript 和 aspx 页面

```
<script language="Javascript" type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

<script language="Javascript" type="text/javascript" src="http://api.easyjquery.com/easyjquery.js"></script>

<script language=Javascript>
    function setup_ip(json) {
        var htmlx = " Your IP Address: <b>" + json.IP;
        htmlx += "</b> | Country: " + json.countryName;
        var s = " | City: " + json.cityName + " / " + json.regionName;

      $("#hdn").val(s);

        if (json.cityName != "Unknown" || json.regionName != "Unknown") {
            htmlx += " | City: " + json.cityName + " / " + json.regionName;

           s = " | City: " + json.cityName + " / " + json.regionName;
        } else {
            htmlx += " | Your Time: " + json.localTimeZone;
        }

    }

    $(document).ready(function() {

        EasyjQuery_Get_IP("setup_ip", "full");

    });

function testValue() {
    $('#hdn').val();
}
    </script>

</head>
<body>
    <form id="form1" runat="server">
    <div>
 <asp:ScriptManager ID="ScriptManager1" runat="server" EnablePageMethods="true" ScriptMode="Release">
</asp:ScriptManager>
<asp:UpdatePanel ID="UpnlHidden" runat="server">
    <ContentTemplate>
        <input runat="server" type="hidden" id="hdn" value="0" />
    </ContentTemplate>
</asp:UpdatePanel>
    <div class="inner">
<p class="welcome-message">
<a ><href="http://www.easyjquery.com/detect-get-clients-ip-address-country-using-javascript-php/"id="topid" title="Javascript, PHP jQuery API Detect Clients IP Address and Country - Geo Location"   ></a>

                <asp:TextBox ID="loc" runat="server"></asp:TextBox>

                </p>

<asp:Button ID="Button1" runat="server" Text="Button" OnClientClick="setup_ip(json);" onclick="Button1_Click" />

            </div>

    </div>
    </form>
</body>
</html> 
```

这是 .cs 代码

```
protected void Page_Load(object sender, EventArgs e)
    {

        loc.Text = hdn.Value;
    }

  protected void Button1_Click(object sender, EventArgs e) 
{ 
string str = hdn.Value; 
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T05:53:26.013

您可以使用 ajax 请求将数据发布到服务器。这相当简单，因为您已经在使用 jquery。请参阅 api 参考[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)。

```
$.ajax({
    type: "POST",
    url: "Page.aspx/method_name",
    data: { name: "some data", id: "some more data" }
}).done(function( msg ) {
    alert( "Data Saved: " + msg );
}); 
```

对于此示例，在 Page.aspx 的代码隐藏中，您将有一个名为 method_name 的方法，它采用两个参数：字符串名称、字符串 id。该方法将使用该`[WebMethod]`属性进行装饰。然后，您可以在该方法中随意使用这些。

# oracle - APEX：以编程方式导出 *only* 应用程序组件 - 如何？

> ID：11077367
> 
> 赞同：1
> 
> 时间：2012-06-18T05:30:31.267
> 
> 标签：oracle, svn, plsql, oracle-apex

在更高级别上，我的任务是在 Subversion 存储库中维护我的 APEX 应用程序，因此，我需要实现一组一致（并且易于导入）的文件。

我的第一个选择是使用 Oracle 基于 Java 的实用程序（APEXExport 和 Apexsplitter）。

导出工作得很好，但我不想保留大型应用程序文件，并且拆分器部分似乎容易出错（由于某些约束违规，我无法重新导入拆分的应用程序，我没有t 调查）。

另一种选择，我尝试使用 WWV_FLOW_UTILITY 的 API。这对于我目前拥有的应用程序和页面导出都很好，但我也想将应用程序组件保留为单独的文件。

我实际上不想使用 APEX Web 界面导出任何内容；我对系统包做了一些额外的研究，发现 WWV_FLOW_GEN_API2，它似乎能够单独导出组件，但它似乎不直观（至少与 WWV_FLOW_UTILITY 相比）并且没有记录。

所以......任何将组件导出到单独文件的简单方法的机会，或者我在这里唯一的方法是尝试使用 gen_api2 或（大声笑，实际上，不）尝试模拟 Web 界面并重现这些生成的 HTTP POST 请求任何给定组件集的.sql？

谢谢。

**更新**：这是我尝试导入拆分的应用程序时遇到的错误：

```
......Button Template 572358005406745047
begin
*
ERROR at line 1:
ORA-00001: unique constraint (APEX_040100.WWV_FLOW_BUTTON_TEMP_PK) violated 
ORA-06512: at "APEX_040100.WWV_FLOW_API", line 6711 
ORA-06512: at line 3 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:59:09.473

将 APEX 应用程序放入 Subversion 存储库的方法是使用 APEXExport 和 APEXExportSplitter。对于我的家庭应用程序和工作项目，我使用这种方法。这并不总是一帆风顺，但我总是能够让它发挥作用。您可能需要在设置中的包[APEX_APPLICATION_INSTALL](http://docs.oracle.com/cd/E23903_01/doc/doc.41/e21676/apex_app_inst.htm#AEAPI530)和[APEX_INSTANCE_ADMIN](http://docs.oracle.com/cd/E23903_01/doc/doc.41/e21676/apex_instance.htm#CACGJEDD)中使用一些程序才能使其正常工作。这里有[一篇博文](http://joelkallman.blogspot.nl/2010/07/apexapplicationinstall.html)可能有助于这个过程。

请让我们在导入期间查看错误消息。

**更新**

我曾经收到一位同事的导出，导致相同的错误消息。install.sql 多次调用同一个拆分的源文件。这似乎也是这种情况。我仍然不知道原因 - 也许是由于版本不同 - 但调整 install.sql 并删除重复的调用，然后再次导出和拆分解决了我们的问题。

问候，
罗布。

# iphone - 自定义图像选择器/ UIScrollView 未出现在视图中

> ID：11077368
> 
> 赞同：0
> 
> 时间：2012-06-18T05:30:33.947
> 
> 标签：iphone, ios, xcode

这里是新开发人员，我使用的是 ray wenderlich 的自定义图像选择器。但我想要做的不是通过按下按钮而是在视图加载时显示选择器。我似乎无法让它出现。这是我所做的，我不知道似乎有什么问题。谢谢你的帮助。

```
- (void)addImage:(UIImage *)image {
    [_images addObject:image];
    [_thumbs addObject:[image imageByScalingAndCroppingForSize:CGSizeMake(120, 120)]];
}

- (void) createScrollView {
    UIScrollView *view = [[UIScrollView alloc] initWithFrame:CGRectMake(0.0f,0.0f,300.0f,200.0f)];

    int row = 0;
    int column = 0;
    for(int i = 0; i < _thumbs.count; ++i) {

        UIImage *thumb = [_thumbs objectAtIndex:i];
        UIButton * button = [UIButton buttonWithType:UIButtonTypeCustom];
        button.frame = CGRectMake(column*140+24, row*150+10, 100, 100);
        [button setImage:thumb forState:UIControlStateNormal];
        [button addTarget:self 
                   action:@selector(buttonClicked:) 
         forControlEvents:UIControlEventTouchUpInside];
        button.tag = i; 
        [self.view addSubview:view];
        [view addSubview:button];

        if (column == 6) {
            column = 0;
            row++;
        } else {
            column++;
        }

    }

    [view setContentSize:CGSizeMake(1024, (row+1) * 150 + 10)];
}
- (IBAction)buttonClicked:(id)sender {
    UIButton *button = (UIButton *)sender;
}

- (void)viewDidLoad
{
    [self createScrollView];
    _images =  [[NSMutableArray alloc] init];
    _thumbs =  [[NSMutableArray alloc] init];

    for(int i = 0; i <= 100; i++) 
    { 
        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
        NSString *documentsDir = [paths objectAtIndex:0];

        NSString *savedImagePath = [documentsDir stringByAppendingPathComponent:[NSString stringWithFormat:@"images%d.png", i]]; 
        NSLog(@"savedImagePath=%@",savedImagePath);
        if([[NSFileManager defaultManager] fileExistsAtPath:savedImagePath]){ 
            [_images addObject:[UIImage imageWithContentsOfFile:savedImagePath]]; 

            NSLog(@"file exists");
        } 
        NSLog(@"file does not exist");
    }
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T05:45:42.047

第一次在滚动视图中添加按钮，最后在 for 循环之后在 self.view 中添加滚动视图。

```
- (void) createScrollView {
    UIScrollView *view = [[UIScrollView alloc] initWithFrame:CGRectMake(0.0f,0.0f,300.0f,200.0f)];

    int row = 0;
    int column = 0;
    for(int i = 0; i < _thumbs.count; ++i) {

        UIImage *thumb = [_thumbs objectAtIndex:i];
        UIButton * button = [UIButton buttonWithType:UIButtonTypeCustom];
        button.frame = CGRectMake(column*140+24, row*150+10, 100, 100);
        [button setImage:thumb forState:UIControlStateNormal];
        [button addTarget:self 
                   action:@selector(buttonClicked:) 
         forControlEvents:UIControlEventTouchUpInside];
        button.tag = i; 

        [view addSubview:button];

        if (column == 6) {
            column = 0;
            row++;
        } else {
            column++;
        }

    }

    [view setContentSize:CGSizeMake(1024, (row+1) * 150 + 10)];

  [self.view addSubview:view];
} 
```

我希望它对你有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:34:49.233

您首先创建滚动视图，然后初始化图像数组，因此它不会出现。

宁可使用 -

```
- (void)viewDidLoad
{
_images =  [[NSMutableArray alloc] init];
_thumbs =  [[NSMutableArray alloc] init];

for(int i = 0; i <= 100; i++) 
{ 
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDir = [paths objectAtIndex:0];

    NSString *savedImagePath = [documentsDir stringByAppendingPathComponent:[NSString stringWithFormat:@"images%d.png", i]]; 
    NSLog(@"savedImagePath=%@",savedImagePath);
    if([[NSFileManager defaultManager] fileExistsAtPath:savedImagePath]){ 
        [_images addObject:[UIImage imageWithContentsOfFile:savedImagePath]]; 

        NSLog(@"file exists");
    } 
    NSLog(@"file does not exist");
}

[self createScrollView];

[super viewDidLoad];
// Do any additional setup after loading the view from its nib.
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T05:44:51.553

请注意注释行

```
[super viewDidLoad];
// Do any additional setup after loading the view from its nib. 
```

`[super viewDidLoad];`在调用之后你应该做任何事情。

其次，在您的`createScrollView`方法中，您将滚动视图添加到`self.view` `_thumbs.count`时间（认为您只使用一个滚动视图，如果这样添加一次就足够了）。

所以把这段代码

```
 [self.view addSubview:view]; 
```

在 for 循环之上。

也按照rishi的回答做。

希望这对您有所帮助。

# dynamics-crm - FetchXML - GeoCode 按距离搜索距离

> ID：11077376
> 
> 赞同：-4
> 
> 时间：2012-06-18T05:31:57.677
> 
> 标签：dynamics-crm, geocoding, dynamics-crm-2011, fetchxml

我有一个具有纬度和经度字段的实体。

现在我有一个地址，我知道这个地址的经纬度，我想检索 3 英里内的记录。

如何使用 FetchXML 做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T10:12:58.680

您将无法直接通过 FetchXml 执行此操作，因为地理编码不作为一项功能提供。

这意味着你需要开始用手滚动一些东西，这并不容易。[这个网站](https://maurus.net/resources/distance-queries/)很好地概述了您需要做什么（即使语言与您可能用于 CRM 的语言不同）。

一种选择可能是放宽您的要求，只使用 FetchXml 来查找经度 +/- 1.5 英里**和**纬度 +/- 1.5 英里的记录（这当然会查询形状像正方形而不是半径的区域）。

如果您需要更严格，您可以尝试重写以下**MySQL**（即不是 MSSQL！）查询并将其与某种 QueryExpression 一起使用？因此，例如，一个查询表达式来确定一个粗略的数据子集，如上所述（例如，经度和纬度在中心点 1.5 英里处），然后在返回这些结果后，为每个计算它是否在所需的半径范围内...

```
SELECT id, X(gm_coor) AS latitude, Y(gm_coor) AS longitude,
  ATAN2(
    SQRT(
      POW(COS(RADIANS(__LAT__)) *
           SIN(RADIANS(Y(gm_coor) - __LNG__)), 2) + 
      POW(COS(RADIANS(X(gm_coor))) * SIN(RADIANS(__LAT__)) - 
          SIN(RADIANS(X(gm_coor))) * COS(RADIANS(__LAT__)) * 
          COS(RADIANS(Y(gm_coor) - __LNG__)), 2)), 
    (SIN(RADIANS(X(gm_coor))) * SIN(RADIANS(__LAT__)) + 
     COS(RADIANS(X(gm_coor))) * COS(RADIANS(__LAT__)) * 
     COS(RADIANS(Y(gm_coor) - __LNG__)))
  ) * 6372.795 AS distance 
FROM geocoded
HAVING distance < [RANGE IN KILOMETRES] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-21T17:49:47.597

我可以想到两个选项

1）使用SQL中的过滤视图并计算大圆距离公式。这是最干净的方式，但不是获取。

2) 获取所需点的 lat/lng +/- .02 范围内的所有结果。然后使用大圆距离公式（和 javascript）来磨练你想要的项目。所以在这种情况下，Fetch 将返回一些额外的结果（但会排除大多数），然后 JavaScript 将过滤剩余的结果。

选项 #2 效果很好，但是是 2 次通过的方法。

[http://www.meridianworlddata.com/Distance-Calculation.asp](http://www.meridianworlddata.com/Distance-Calculation.asp)

# javascript - 更改选择列表的选定值

> ID：11077378
> 
> 赞同：0
> 
> 时间：2012-06-18T05:32:26.510
> 
> 标签：javascript, jquery

我正在使用`selectmenu plugin`我的选择列表。我想使用 jquery 更改选择列表的选定值。我试过 ：

```
 $('select').val("new selected value");
               $('select').selectmenu("value", "new selected value"); 
```

但是以上两个都不起作用。请帮帮我好吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T05:50:56.577

医生说如下

```
// read
$('select#speedA').selectmenu("value")
// write
$('select#speedA').selectmenu("value", "VALUE") 
```

这也有效。[看一下这个](http://jsfiddle.net/KtEaK/78/)

**编辑**

问题可能是，您的“新值”不能与您对选择列表的选项列表匹配。文本应完全匹配。

在我的示例中，尝试将此行更改 `$('select').selectmenu("value", "An Army")` 为

```
$('select').selectmenu("value", "An Army1") 
```

并且看到这也行不通

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:46:18.787

`$('select').selectmenu("value", "new selected value")`应该可以，但您必须使用选项索引而不是“新选定值”

# c - 在 Visual Studio 2010 中使用 conio2

> ID：11077381
> 
> 赞同：1
> 
> 时间：2012-06-18T05:33:13.813
> 
> 标签：c, visual-studio, conio

我正在尝试`conio2.h`为大学作业制作游戏，但我找不到如何在 Windows 7 中将它与 Visual Studio 2010 Professional 一起使用。我找到的所有指南都指导我使用 DevCPP 或其他编译器/ IDE，但这不是我的选择。

我将不胜感激任何帮助。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:34:59.863

conio 已被弃用，在视觉工作室中无用。你可以试试 PDcurses。

# c# - 去除非数字、非小数、重复小数

> ID：11077384
> 
> 赞同：2
> 
> 时间：2012-06-18T05:34:16.493
> 
> 标签：c#, regex

我正在使用以下方法删除所有非数字和非十进制值：

```
Regex.Replace("A1B2C3.D4E5F6.G7H8I9", @"[^-?\d+\.]", ""); 
```

> 输出：123.456.789

问题是重复的小数。我需要删除除第一个小数之外的所有内容。

所以输出变成：123.456789

我找到了模式`"\.(?=.*\.)"`，但它输出 123456.789。这是最后一个小数而不是第一个。

任何人都可以将这两种模式组合成一个模式，同时删除第一个小数点后的重复小数点吗？泰

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T05:41:43.573

您可以进行正则表达式比较，然后在小数位上拆分字符串

```
 string newval = Regex.Replace("A1B2C3.D4E5F6.G7H8I9", @"[^-?\d+\.]", "");
        string[] tempsplit = newval.Split('.'); 
```

然后通过放置一个“。”将它们重新组合在一起。在 tempsplit[0] 和 tempsplit[1] 之间，然后是数组中的其余字符串。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T05:37:03.123

您可以`.`通过替换以下内容来替换除第一个之外的所有内容：

```
(?<=\.[^.]*)\. 
```

您可以轻松地将其集成到您的正则表达式中：

```
[^-?\d+\.]|(?<=\.[^.]*)\. 
```

如果前面有另一个点，这只会匹配一个点。请注意，此正则表达式不适用于大多数其他正则表达式引擎，因为它使用可变宽度的lookbehind。

# c# - xpath 获取特定的孩子

> ID：11077390
> 
> 赞同：0
> 
> 时间：2012-06-18T05:34:56.650
> 
> 标签：c#, xpath

假设我有一个这样的html结构->（注意：在我的代码中没有ID，我只是把它们放在这里，这样更容易解释）

```
 <body>
    <table id=a>
      <tr>
        <td>
          <table id=b>
            <tr>
              <td>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
    <table id=c>
      <tr>
        <td>
        </td>
      </tr>
    </table>
  </body> 
```

使用 XPath，`//body/table[1]`给了我 ID 为“b”的内部表，但我真正想要的是它的第一个孩子（“c”）。一些类似的东西，`$("body >table").eq(1)`但我使用的是 c#。我如何使用 XPath 做到这一点？

天呐！

编辑：我不能选择 [2] 元素，因为这只是对我遇到的问题的简化解释......

安德烈

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:37:05.117

元素选择器从索引 1 开始（而不是从 0 开始）。因此，您将不得不使用 xpath 查询`//body/table[2]`

**这是屏幕截图的解释。**

对于基于 0 的索引节点将为空；

![在此处输入图像描述](../Images/cc0810ee1cbce2af8ef56442f5bfe57b.png)

但是由于索引从 1 开始，对于索引 1 和 2，这些节点将被返回

![在此处输入图像描述](../Images/fbc7e3c0d4c544b03a26386c031077b6.png)

![在此处输入图像描述](../Images/0cb665cd9af6381e1af5cc798ca3668a.png)

还是不服气？让我们检查一下内部表格​​元素。

首先让我们检查基于 0 的索引（再次它将为空）

![在此处输入图像描述](../Images/e3ebbef04b819e4ac643222090f02dc5.png)

但是，当索引为 1 时，它将返回正确的节点

![在此处输入图像描述](../Images/119ef4f0e9241ef895ee5a7f2e152415.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:50:18.640

尝试

```
//body/table[not(ancestor::td)] 
```

# php - 增加浏览器中允许的重定向？

> ID：11077395
> 
> 赞同：0
> 
> 时间：2012-06-18T05:35:23.023
> 
> 标签：php, redirect, browser

我有一个使用大量重定向的脚本。大约进行到一半的过程中，我在浏览器中收到一条错误消息：

```
This webpage has a redirect loop
The webpage at http://localhost/....... has resulted in too many redirects. Clearing your cookies for this site or allowing third-party cookies may fix the problem. If not, it is possibly a server configuration issue and not a problem with your computer.
Here are some suggestions:
Reload this webpage later.
Learn more about this problem.
Error 310 (net::ERR_TOO_MANY_REDIRECTS): There were too many redirects. 
```

有没有办法增加浏览器中允许的重定向？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T05:38:00.137

在 Firefox 中，导航到`about:config`地址栏中的 。搜索`network.http.redirection-limit`并将值增加到您想要的值。

Firefox 中的此设置控制在停止跟踪之前它将接受多少重定向。

# ios - segue 无法识别 segue 标识符

> ID：11077397
> 
> 赞同：0
> 
> 时间：2012-06-18T05:35:29.227
> 
> 标签：ios, xcode, uistoryboard, uistoryboardsegue

我想我一定在这里遗漏了一些简单的东西，但我不知道它是什么。

我必须支持来自同一个视图控制器的多个转场，所以我自然想使用转场标识符。我的代码由于某种原因无法正常工作，让我举个例子：

这段代码如下：

```
-(void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {

    NSString *segueID = @"createBuildSegue";

    if (segue.identifier == @"createBuildSegue") {
        UINavigationController *navController = segue.destinationViewController;
        CreateBuildTableViewController *rootController = [navController.viewControllers objectAtIndex:0];
        [rootController setOptionsDictionary:[[DataManager sharedDataManager]optionsDictionary]];

        NSLog(@"Worked");
    }
    NSLog(@"segue identifier = %@", segue.identifier);
    NSLog(@"segueID = %@", segueID);

} 
```

这是控制台的输出：

```
2012-06-17 22:32:06.921 RubiconMobile[26943:f803] segue identifier = createBuildSegue
2012-06-17 22:32:06.922 RubiconMobile[26943:f803] segueID = createBuildSegue 
```

这不起作用，我不知道为什么。真的烦我

有任何想法吗？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T05:44:06.583

`isEqualToString:`使用, not比较字符串`==`。后者检查指针是否相等，前者检查字符串是否实际上是相同的字符串。

```
if ([segue.identifier isEqualToString: @"createBuildSegue"]) 
```

# javascript - 有什么方法可以知道是否从 js 启用或禁用了 .net 必填字段验证器？

> ID：11077398
> 
> 赞同：2
> 
> 时间：2012-06-18T05:35:32.937
> 
> 标签：javascript, .net, requiredfieldvalidator

我正在尝试在 .aspx 文件中获取“必填字段验证器”的状态。

当我说状态时，我并不是说它在内容方面是有效还是无效，而是它是否启用。

我知道可以使用 `ValidatorEnable(control, true);`或 设置启用/禁用状态`ValidatorEnable(control, false);`

那么有没有办法知道它是启用还是禁用？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:20:29.850

您可以在客户端执行此操作。所以让我们假设你有一个必填字段验证器：

```
<asp:TextBox ID="txtName" runat="server" ClientIDMode="Static"></asp:TextBox>

<asp:RequiredFieldValidator ID="reqValName" ControlToValidate="txtName" runat="server"
    CssClass="validation" ErrorMessage="*Required">
</asp:RequiredFieldValidator> 
```

然后 ASP.NET 4.0 为您生成以下 JavaScript：

```
var reqValName = document.all ? document.all["reqValName"] : document.getElementById("reqValName");
reqValName.controltovalidate = "txtName";
reqValName.errormessage = "*Required";
reqValName.enabled = "False";   // <---- HERE. Set to false on server side.
reqValName.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
reqValName.initialvalue = ""; 
```

如您所见，`reqValName.enabled = "False";`如果您禁用验证器，则会生成 ，但如果启用它，则不会显示该行。

因此，您可以检查该变量的值以确定它是否启用。请注意，它的值是一个字符串值，您可能需要将检查 JavaScript 放在页面底部。事实上，将所有 JavaScript 放在页面底部（[在关闭 body 标签之前](http://developer.yahoo.com/performance/rules.html#js_bottom)）是一件好事。

仅供参考，如果您使用的是 ASP.NET 4.5，则可以更轻松地检查它，因为该属性被放入`span`元素的`data-val-enabled`属性而不是 JavaScript 变量属性中。请参阅 ASP.NET 4.5 上生成的 HTML。

```
<span class="validation" id="reqValName" style="visibility: hidden;" data-val-initialvalue="" 
data-val-evaluationfunction="RequiredFieldValidatorEvaluateIsValid" data-val="true" data-val-enabled="False" 
data-val-errormessage="*Required" data-val-controltovalidate="txtName"> 
```

# git - 为什么“git 分支”在我的新 BitBucket 克隆中不显示任何内容？

> ID：11077401
> 
> 赞同：9
> 
> 时间：2012-06-18T05:35:44.247
> 
> 标签：git, bitbucket

我的同事在 Bitbucket 中创建了一个存储库。我首先在我的计算机中创建了一个文件夹并键入`git init`. 之后，我使用以下命令从存储库克隆到我的计算机：`git clone address`.

但是当我输入时`git branch`，没有回复。它不表明我在哪个分支。

```
git init
Initialized empty Git repository in /Users/IMAC/GsAdmin/.git/
git clone address
Cloning into 'gsadmin'...
Password: 
remote: Counting objects: 32, done.
remote: Compressing objects: 100% (24/24), done.
remote: Total 32 (delta 3), reused 0 (delta 0)
git branch
git status
# On branch master
#
# Initial commit
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#   .DS_Store
#   gsadmin/
nothing added to commit but untracked files present (use "git add" to track) 
```

我的错误是什么？需要一些指导。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-06-18T05:46:40.837

有两种方法可以创建 git 存储库。您可以`git init`用来创建一个新的，也可以`git clone`用来克隆一个现有的。如果两者都运行`init`，`clone`那么 git 将首先在当前目录中创建一个新的空存储库，然后将远程存储库克隆到空存储库的子目录中。

如果您`git branch`在当前目录中运行，那么它将不返回任何分支，因为存储库是空的，并且将在第一次提交时创建主分支。如果您进入子目录，那么`git branch`应该列出从远程存储库的默认分支创建的一个分支。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T05:50:46.610

### 问题

您实际上在顶级目录中创建了一个未跟踪的子模块。根据您的描述，您初始化了一个空目录，然后将您的 BitBucket 存储库克隆到新初始化存储库的子目录中。

### 解决方案

从您的当前目录，将目录更改为您当前的克隆。

```
cd gsadmin
git status 
```

您可以移动 gsadmin 目录，或将其重新克隆到其他地方。无论哪种方式，解决方案都不是在现有的 git 目录中克隆，除非您使用[submodules](http://git-scm.com/book/en/Git-Tools-Submodules)。

### 也可以看看

[为什么“git 分支”在新存储库中保持沉默？](https://stackoverflow.com/questions/11077919/why-is-git-branch-silent-in-new-repositories)

# php - 使用php动态创建多个html文件

> ID：11077412
> 
> 赞同：0
> 
> 时间：2012-06-18T05:37:50.547
> 
> 标签：php, javascript

我的网站是 php，当我点击“保存 HTML”链接时，我希望我的动态报告文件转换为 html 文件。

当我单击“保存 HTML”链接时，我想创建一个新的 html 文件，其中包含从数据库中获取的报告。

当我点击另存为 html 链接日期和时间时，我需要动态名称。

我的代码是针对一个文件而不是动态文件，我想要动态的 html 页面。

```
$SaveFile = "weeklyreport.htm";
$fh = fopen($SaveFile, "w") or die("can't open file");
fwrite($fh, $htmlbodycontent);
fclose($fh); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:58:47.900

在 PHP 中使用 fOpen 根据需要传递带有任何变量的整个 URL，以限制正在生成的文档的范围，同时将输出的 HTML 解析为将提示用户下载的“文本”文件。

如果您只有一段自己生成报告的 PHP 代码，请直接指向它以阻止用户保存任何额外的菜单结构或站点包装。

fOpen 请求的处理方式与普通的 http 请求完全相同，因此可以完美地解析为 html 文件。您还可以将 CSS 写在 header/inline 中，这样 html 文档就可以很好地独立存在。但是，您将在图像方面遇到更多问题。

# ios - iOS模拟器拒绝保存截图

> ID：11077416
> 
> 赞同：5
> 
> 时间：2012-06-18T05:38:22.993
> 
> 标签：ios, ios-simulator

也许这是安装新的 4.5 测试版的效果，但我的模拟器不会保存屏幕截图（至少不会保存到桌面）。是否有任何设置告诉模拟器在哪里保存？我在 Xcode 4.3 中尝试了 5.0 和 5.1 并且菜单闪烁，就像它正在做某事但没有图片出来。Spotlight 中也没有出现任何内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:46:05.113

我也在运行 4.5，而**⌘ + S**只是将屏幕截图保存到桌面。

您是否尝试过“复制屏幕”选项？然后，您可以将图像粘贴到任何照片编辑软件中。

编辑：在 4.3 中仍然有效

# c++ - 如何取出放入 ostream 对象的最后一个字符

> ID：11077417
> 
> 赞同：0
> 
> 时间：2012-06-18T05:38:25.743
> 
> 标签：c++, iostream

我在做编程工作，是这样的

```
vector<Member> members;
stringstream ss;
stringstream ss1;
for (vector<Member>::iterator it = members.begin; it != members.end(); it++){
     ss << it->name << ",";
     if (check(it->id)){
         ss1 << it->name << ",";
     }
} 
```

所以，最后，会有一个我不需要的“，”，我想从ss中得到它，怎么做，我知道我可以使用一些变量来控制它，但我认为直接操纵ss会更方便这里有朋友提供的方法不能处理ss1的情况，如何控制ss1的“，”。
谁能告诉我为什么 ostream 不能返回任何数据，但 istream 可以放回数据

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:56:09.150

ostream，顾名思义，是一个*输出流*：它的设计目的不是为您返回任何数据。

但是，即使这样做了，您的代码也会使用一个简单的条件变得更加简洁：

```
vector<Member> members;
stringstream ss;
for (vector<Member>::iterator it = members.begin(); it != members.end(); it++) {
    if (it != members.begin()) ss << ", ";
    ss << it->name;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:56:24.123

您可以在每个下一个元素之前编写第一个元素和分隔符，而不是检查您是否正在编写最后一个元素：

```
vector<Member> members;
stringstream ss;

vector<Member>::iterator it = members.begin;
if(it != members.end()){
    ss << it->name;
    for (it++; it != members.end(); it++){
         ss << ", " << it->name;
    }
} 
```

# android - Android中surfaceView回调调用surfaceChanged时尺寸不一致

> ID：11077421
> 
> 赞同：1
> 
> 时间：2012-06-18T05:38:37.003
> 
> 标签：android, surfaceview, android-canvas, surfaceholder

我正在使用 SurfaceView 绘制到屏幕的一部分，从而使用后台线程更新绘图。surfaceview 实现了一个 SurfaceView.callback。

在 onDraw 方法中，我使用 canvas.drawpont(x,y,paint) 并逐个像素地绘制到几乎整个画布，因此在大屏幕上可能会非常密集。无论如何，如果我在横向和反向横向之间快速旋转手机，我会得到一个非法参数异常。如下：

```
06-18 15:03:05.853: E/AndroidRuntime(29969): FATAL EXCEPTION: Thread-45
06-18 15:03:05.853: E/AndroidRuntime(29969): java.lang.IllegalArgumentException
06-18 15:03:05.853: E/AndroidRuntime(29969):    at Android.view.Surface.unlockCanvasAndPost(Native Method)
06-18 15:03:05.853: E/AndroidRuntime(29969):    at android.view.SurfaceView$3.unlockCanvasAndPost(SurfaceView.java:793)
06-18 15:03:05.853: E/AndroidRuntime(29969):    at com.enhancement.SpecGuageUpdate.run(SpecGuageUpdate.java:313) 
```

在 313 的 SpecGugaeupdate 上，我有：

```
mHolder.unlockCanvasAndPost(canvas); 
```

mHolder 是我的 SurfaceHolder。当然，在调用 onDraw 之前我也锁定了画布。

如果我在各个方向缓慢旋转，此方法将完美无缺，但是，当我在两个景观状态之间快速旋转 180 度时，它会触发此非法ArgumentException。在监控surfaceChanged中的宽度和高度时，我注意到当我快速旋转时，横向的宽度与纵向的高度配对。例如，在我的手机 (Motorola atrix) 上，SurfaceView 的纵向尺寸为 540x307 (WidthxHeight)，横向尺寸为 960x172。当我在横向和反向横向之间快速旋转时会发生这种情况：

慢慢旋转到横向：

```
960x172 
```

快速旋转以反转景观，表面变化被调用两次。

```
960x307 - 1st
960x172 - 2nd 
```

我尝试过覆盖 onMeasure，宽度和高度与 SurfaceChanged 的​​相同。因此，我似乎正在尝试在尚未准备好但已准备好将其锁定到我的 Holder 的画布上进行绘制。任何想法都会很棒，谢谢你的时间。

此外，在我的 surfacedestroyed 中，我正在处理我的线程，如下所示：

```
boolean retry = true;

            thread.setRunning(false);
              while (retry) {
                    try {
                        specupdate.join();
                        retry = false;
                    } catch (InterruptedException e) {
                    }
                } 
```

这会阻止线程执行 onDraw。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-17T01:09:37.613

我在制作动态壁纸时遇到了同样的问题。我通过强制我的画布成为屏幕大小来解决这个问题。在我的 onSurfaceChanged 上，我创建了一个全局矩形，我用它来在我的画布上疼痛。如果我不这样做，我会遇到与原作者相同的问题。

解决它的代码：

在 Surface Changed 上，我初始化了用于绘图的所有变量。注意我创建 _screenRectangle。这些变量是全局变量并在整个应用程序中使用。

```
@Override
public void onSurfaceChanged(SurfaceHolder holder, int format, int width, int height) {
    super.onSurfaceChanged(holder, format, width, height);

    System.out.println("===============================================");
    System.out.println("SURFACE CHANGED");
    System.out.println("===============================================");

    //Get Screen Sizes
    _centerX = width/2.0f;
    _centerY = height/2.0f;

    _screenRectangle = new Rect(0, 0, width, height);
    _screenOrient = getResources().getConfiguration().orientation; 

    System.out.println("===============================================");
    System.out.println("WIDTH: " + width + " HEIGHT: " + height + " ORIEN: " + _screenOrient);
    System.out.println("===============================================");

    _resetSurface = true;
    _redrawStatic = true; 
} 
```

然后在我的绘画方法中，我使用背景颜色绘制整个屏幕：

```
try
{            
    canvas = holder.lockCanvas(_screenRectangle);

    System.out.println("===============================================");
    System.out.println("PAINT BACKGROUND: " + canvas.getWidth() + " " + canvas.getHeight());
    System.out.println("===============================================");

    if (canvas != null) 
    {
        canvas.drawColor(PreferencesHelper.ScreenColor);
        _resetSurface = false;
    }
}
finally 
{
    System.out.println("===============================================");
    System.out.println("BACKGROUND PAINTED");
    System.out.println("===============================================");
    if (canvas != null) holder.unlockCanvasAndPost(canvas);
} 
```

在使用 _screenRectangle 锁定画布之前，它会随机绘制整个屏幕失败。调试窗口将显示画布尺寸与当前屏幕不匹配，但会出现与 OP 指出的相同的问题 这似乎已经解决了这个问题。这会强制锁定的画布与 onSurfaceChanged 方法报告的大小相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T09:17:29.293

在我深夜的故障排除中，我设法整理了一个解决方法。结果是在surfacechanged 稳定到它的最后一个状态之前什么都不会被绘制，所以用户不知道发生了什么。

基本上我会检查返回的高度是否格式错误，如果是我什么都不做，当它是我期望的时候我绘制到表面。我需要的是我的高度和宽度的参考值，我通过在我的主要活动中的 SetContentView() 之前放置以下代码来做到这一点：

```
WindowManager w = getWindowManager();
   Display d = w.getDefaultDisplay();
   int Meausredwidth = d.getWidth();
   int Measuredheight = d.getHeight(); 
```

根据我测量的高度和宽度，我计算出我需要多少 SurfaceView，并将这些值作为全局变量传递给我的 SurfaceView（这些现在是我想要的尺寸）。确保我也在我的主要活动中调用 onconfigurationchanged() 中的上述代码，以便每次都重新计算这些值。在实现 SurfaceHolder.Callback 的 SurfaceView 上，我将 surfacechanged() 更改为如下所示：

```
@Override
public void surfaceChanged(SurfaceHolder mholder, int format, int width,
        int height) {

    if (width != mWidth) {
        MalFormed = true;
        thread.setRunning(false);
        count++;

    } else if (width == mWidth) {

        if (MalFormed) {
            MalFormed = false;

            Log.d("ROTATE", "ReDraw");

            thread = new DrawingThread(this, holder, mHandler);
            thread.setRunning(true);
            thread.start();

        }

    }

} 
```

其中 mWidth 是所需的宽度。在我的表面视图中，MalFormed 是一个全局布尔值。通过实验，我发现 SurfaceChanged() 在 SurfaceCreated 之前被调用，这意味着我们可以轻松修改任何尝试与线程交互的代码以适应我们的上述更改。

因此，在我尝试加入或启动该背景绘图线程的其他任何地方，我都需要首先检查表面是否为 MalFormed。例如

```
if (thread.getState() == State.TERMINATED){

            if(!MalFormed){
               holder.removeCallback(this);
               holder = getHolder();
               holder.addCallback(this);

               thread = new DrawingThread(this, holder,mHandler);
               thread.setRunning(true);

               thread.start();
            }

        }else{
            if(!MalFormed){
                thread.setRunning(true);

                try {
                    thread.join();
                } catch (InterruptedException e) {

                    e.printStackTrace();
                }
            }

        } 
```

无论如何，这似乎可以解决问题，也许其他人知道更好的事情。但我把我的答案放在这里给有同样问题的其他人。谢谢。

# c++ - 从文件中读取大量数据并以有效的方式解析日期。如何提高海量数据的性能？

> ID：11077423
> 
> 赞同：4
> 
> 时间：2012-06-18T05:38:44.900
> 
> 标签：c++, c, performance, optimization

我正在从文件中读取大量数据：

//abc.txt

```
10  12  14  15  129

-12 14 -18  -900 -1234

145 12 13
12

32 68 51 76 -59 -025 

- - - - etc

fun(char *p, int x, int y, int z) {

} 
```

我尝试使用`atoi`, `strtok`，但是当数组太大并且`sscanf`速度也很慢时，它们会非常耗时。

如何提高海量数据的性能？

我`strtok`用于解析。我正在寻找解析每一行的快速方法。

我正在阅读每一行，然后将每一行解析为：

```
 char * ptr;
 ptr = strtok (str," ");
 while (ptr != NULL)
 {
    int value1 = atoi(ptr) ;
    ptr = strtok (NULL, " ");
 } 
```

*   有什么快速的方法可以将字符串解析成`int`?
*   有没有比上面的代码更快的替代方法？我正在使用`atoi`转换`char *`为`int`.
*   我可以使用其他快速方法转换`char *`为`int`吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T09:22:10.240

你找错地方了。问题不在于解析，除非您正在做一些*真正*奇怪的事情。在现代 N Ghz CPU 上，每行所需的周期很小。影响性能的是物理 I/O。旋转的东西往往以 10 秒 / 秒的速度运行。

我也怀疑问题在于文件的物理读取，因为这将有效地缓存在文件系统缓存中。

不，正如**samy.vilar 所**暗示的，这个问题几乎可以肯定是虚拟内存问题：

> ...数组太大了...

使用系统监视器/psinfo/top 查看您的应用程序。几乎可以肯定，它正在增加一个大型工作集，因为它构建了一个内存阵列，并且您的操作系统正在将其分页到磁盘。

所以忘记阅读作为一个问题。您真正的问题是如何操作内存中的庞大数据集。这里的方法是多种多样的：

*   不。批量处理数据和操作批次。
*   使用节省空间的存储（例如紧凑的元素）。
*   分配更多的内存资源。

SO上有很多关于这个的讨论。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T06:06:06.063

要将 ASCII 字符串转换为整数值，您不能比`atoi`正在执行的操作快得多，但您可以通过实现内联使用的转换函数来加快速度。下面的版本将指针递增超过扫描的数字，因此它与语义不匹配`atoi`，但它应该有助于提高解析器效率，如下图所示。（显然缺少错误检查，所以如果需要，请添加它。）

```
static inline int my_parsing_atoi(const char *&s) {
    if (s) {
        bool neg = false;
        int val = 0;
        if (*s == '-') { neg = true; ++s; }
        for (;isdigit(*s);++s) val = 10*val + (*s - '0');
        return neg ? -val : val;
    }
    return 0;
}

const char *p = input_line;
if (p) {
    p += strspn(p, " ");
    while (*p) {
        int value1 = my_parsing_atoi(p);
        p += strspn(p, " ");
    }
} 
```

确保您已经正确地分析了您的代码，以便您知道您的例程受计算限制而不是 I/O 限制。大多数情况下，您会受到 I/O 限制，下面的建议是缓解这种情况的方法。

如果您正在使用 C 或 C++ 文件读取例程，例如`fread`or `fstream`，您应该会获得已经非常有效的缓冲读取，但您可以尝试使用底层操作系统调用（例如 POSIX `read`）来读取更大块中的文件同时加快文件读取效率。真正花哨的是，您可以在处理文件时执行文件的异步读取，可以使用线程，也可以使用`aio_read`. 您甚至可以使用`mmap`，这将消除一些数据复制开销，但如果文件非常大，您将需要管理地图，以便您`munmap`扫描文件`mmap`的部分和要扫描的新部分。

我使用如下代码对上面的解析例程和 OP 的例程进行了基准测试：

```
clock_t before_real;
clock_t after_real;
struct tms before;
struct tms after;
std::vector<char *> numbers;
make_numbers(numbers);
before_real = times(&before);
for (int i = 0; i < numbers.size(); ++i) {
    parse(numbers[i]);
}
after_real = times(&after);
std::cout << "user: " << after.tms_utime - before.tms_utime
          << std::endl;
std::cout << "real: " << after_real - before_real
          << std::endl; 
```

和之间的区别在于`real`，`user`这`real`是挂钟时间，`user`而是操作系统运行进程所花费的实际时间（因此上下文切换不计入运行时间）。

我的测试让我的例程运行速度几乎是 OP 例程的两倍（`g++ -O3`在 64 位 Linux 系统上编译）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T09:44:52.063

If your file is truly huge, then the IO is what's killing you, and not the parsing. Every time you read a line, you're executing a system call, which can be quite expensive.

A more efficient alternative may be to use [Memory-Mapped File IO](http://en.wikipedia.org/wiki/Memory-mapped_file). If you're working on a POSIX system such as Linux, you can use the [`mmap`](http://www.kernel.org/doc/man-pages/online/pages/man2/mmap.2.html) command which loads the file all at once and returns a pointer to its location in memory. The memory manager then takes care of reading and swapping the file in/out as you access data through that pointer.

This would look something like this

```
#include <sys/mman.h>
int fd = open( 'abc.txt' , O_RDONLY );
char *ptr = mmap( NULL , length , PROT_READ , MAP_PRIVATE , fd , 0 ); 
```

but I would strongly advise you to read the man page and find the best options for yourself.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T05:57:11.007

1.  如果您的文件包含 int 数字，则可以使用[operator>>](http://www.cplusplus.com/reference/iostream/istream/operator%3E%3E/)，但这是 c++ 唯一的解决方案。就像是 ：

    ```
    std::fstream f("abc.txt");
    int value = 0;
    f >> value 
    ```

2.  如果您将文件转换为包含二进制数字表示，您将有更多选项来提高性能。它不仅避免将数字从字符串解析为类型，而且您还有其他选项来访问您的数据（例如使用[mmap](http://en.wikipedia.org/wiki/Mmap)）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T06:11:55.880

首先，一般建议是始终使用分析来检查它实际上是缓慢的翻译，而不是其他东西，例如从磁盘物理读取文件。

您可以通过编写自己的最小数字解析函数来提高性能。strtok 修改字符串，所以它不会是最佳速度，如果您知道所有数字都是十进制整数，并且您不需要任何错误检查，您可以稍微简化翻译。

一些没有 strtok 的代码可能会加速一行的处理，如果它实际上是翻译而不是（例如）I/O 问题。

```
void handle_one_number(int number) {
    // ....
}

void handle_numbers_in_buffer(char *buffer) {
    while (1) {
        while (*buffer != '\0' && isspace(*buffer))
            ++buffer;
        if (*buffer == '\0')
            return;
        int negative = 0;
        if (*buffer == '-') {
            negative = 1;
            ++buffer;
        }
        int number = 0;
        while (isdigit(*buffer)) {
            number = number * 10 + *buffer - '0';
            ++buffer;
        }
        if (negative)
            number = -number;
        handle_one_number(number);
    }
} 
```

我实际上去运行了一些基准测试。我曾预计 I/O 会占主导地位，但事实证明（通常需要注意的是“在我的特定系统上，使用我的特定编译器”）解析数字需要相当多的时间。

通过从 strtok 版本更改为我上面的代码，我设法将翻译 1 亿个数字（文本已经在内存中）的时间从 5.2 秒缩短到 1.1 秒左右。从慢速磁盘（Caviar Green）读取时，我测量到从 5.9 秒到 3.5 秒的改进。从 SSD 读取数据时，我测量到从 5.8 秒到 1.8 秒的改进。

我还尝试使用 直接读取文件`while (fscanf(f, "%d", ....) == 1) ....`，但结果要慢得多（10 秒），可能是因为 fscanf 是线程安全的，并且更多的调用需要更多的锁定。

（Ubuntu 11.04 上的 GCC 4.5.2 具有 -O2 优化，每个版本的多次执行，在运行之间刷新磁盘缓存，i7 处理器。）

# ldap - 在 Windows 上打开 LDAP

> ID：11077424
> 
> 赞同：5
> 
> 时间：2012-06-18T05:39:01.453
> 
> 标签：ldap, openldap

我们计划使用*OpenLDAP*进行用户管理，即：在 OpenLDAP 中维护所有用户信息，从我们的 Java Web 应用程序调用 LDAP 服务以进行用户身份验证，稍后也计划使用 ACL。我对这个 OpenLDAP 完全陌生，因此我有以下基本问题：

1.  在 OpenLDAP 站点中，它说 OpenLDAP 软件是独立于平台的，并且可用于所有操作系统。但是，当我开始查看文档和常见问题解答 ( [http://www.openldap.org/faq/data/cache/8.html](http://www.openldap.org/faq/data/cache/8.html) ) 时，没有特定于 Windows 平台的文档，并且在某处我读到 OpenLDAP 2.x 是仅适用于 Unix 系统。现在我的问题是：我们没有基于 Windows 的 OpenLDAP 2.x 版本软件吗？如果是，我应该从哪里下载？

2.  我发现其中一个网站提到了适用于 Windows 的 OpenLDAP：[http](http://www.userbooster.com/en/download/openldap-for-windows.aspx) ://www.userbooster.com/en/download/openldap-for-windows.aspx 。我可以下载它并将其用于我的应用程序吗？它是免费的还是 userbooster 专有的，因为它不是来自 OpenLDAP.org

3.  您是否有任何文档或有用的链接来讨论如何调用 OpenLDAP 服务器以从 Java Web 应用程序进行用户身份验证？Java Web 应用程序和 OpenLDAP 端的必要设置？

有人可以给我一些建议吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T06:29:12.417

(a) 见 (b)。

(b) Userbooster 提供适用于 Windows 的 OpenLDAP 端口的条款可在其网站上找到。这是问这个问题的错误地方。但是，我是他们端口的非常满意的用户，我可以推荐它。

(c) 这种文档到处都是，但如果您使用的是 Tomcat，您可以从阅读 Tomcat Realm 文档开始，或者您的容器的 Container Managed Security 文档。还有 JAAS 包；还对您要使用的 LDAP 模式进行思考和调查。这是一个很大的主题，你有很多调查要做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-07-05T19:26:09.357

我不知道您的要求是什么，但您也许可以使用 Active Directory。或者，您可以使用带有 linux 的 vm 或 docker 容器并在其中运行它。您甚至可以在 Raspberry Pi 上运行它。有一个 35 美元的 2G 型号应该可以工作。

# ios - 查找 CLLocationCoordinate2D 点之间的距离

> ID：11077425
> 
> 赞同：45
> 
> 时间：2012-06-18T05:39:04.163
> 
> 标签：ios, iphone, core-location

`CLLocation`我从文档中知道我们可以使用函数找到两点之间的距离， `distanceFromLocation:`. 但我的问题是我没有 CLLocation 数据类型，我有 CLLocationCoordinate2D 点。那么如何找到两个 CLLocationCoordinate2D 点之间的距离。我看过[帖子](https://stackoverflow.com/questions/3905896/distancefromlocation-calculate-distance-between-two-points)，但对我没有帮助。

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-06-18T05:42:02.287

您应该使用创建 CLLocation 的对象，

```
- (id)initWithLatitude:(CLLocationDegrees)latitude
    longitude:(CLLocationDegrees)longitude; 
```

然后，您应该能够使用计算距离

```
[location1 distanceFromLocation:location2]; 
```

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2015-02-23T21:10:13.183

**斯威夫特 5：**

```
extension CLLocation {

    /// Get distance between two points
    ///
    /// - Parameters:
    ///   - from: first point
    ///   - to: second point
    /// - Returns: the distance in meters
    class func distance(from: CLLocationCoordinate2D, to: CLLocationCoordinate2D) -> CLLocationDistance {
        let from = CLLocation(latitude: from.latitude, longitude: from.longitude)
        let to = CLLocation(latitude: to.latitude, longitude: to.longitude)
        return from.distance(from: to)
    }
} 
```

* * *

## 回答 #3

> 赞同：33
> 
> 时间：2015-05-25T16:06:44.933

如果您可以以米为单位获得点之间的距离，那么

```
CLLocationCoordinate2D coordinate1 = <some value>
CLLocationCoordinate2D coordinate2 = <some value>
…
MKMapPoint point1 = MKMapPointForCoordinate(coordinate1);
MKMapPoint point2 = MKMapPointForCoordinate(coordinate2);
CLLocationDistance distance = MKMetersBetweenMapPoints(point1, point2); 
```

将返回两点之间的距离。无需`CLLocation`通过给定创建`CLLocationCoordinate2D`。此定义自 iOS 4.0 起可用

* * *

## 回答 #4

> 赞同：24
> 
> 时间：2017-12-14T11:21:09.163

**Swift4：**结合以上想法

```
extension CLLocationCoordinate2D {
    //distance in meters, as explained in CLLoactionDistance definition
    func distance(from: CLLocationCoordinate2D) -> CLLocationDistance {
        let destination=CLLocation(latitude:from.latitude,longitude:from.longitude)
        return CLLocation(latitude: latitude, longitude: longitude).distance(from: destination)
    }
} 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2015-08-03T14:12:38.713

```
 let point1 = MKMapPointForCoordinate(myLocation)
    let point2 = MKMapPointForCoordinate(friendLocation)
    let distance = MKMetersBetweenMapPoints(point1, point2)/1000
    let distanceStr = NSString(format: "%.3f", distance) 
```

瓦莱里答案的简单版本。除以 1000 得到 KM，然后转换为字符串。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2020-10-19T20:12:19.123

**Swift 5**：计算距离的 CLLocationCoordinate2D 扩展：

```
extension CLLocationCoordinate2D {
    /// Returns distance from coordianate in meters.
    /// - Parameter from: coordinate which will be used as end point.
    /// - Returns: Returns distance in meters.
    func distance(from: CLLocationCoordinate2D) -> CLLocationDistance {
        let from = CLLocation(latitude: from.latitude, longitude: from.longitude)
        let to = CLLocation(latitude: self.latitude, longitude: self.longitude)
        return from.distance(from: to)
    }
} 
```

用法：

```
let coordinate = CLLocationCoordinate2D(latitude: 11, longitude: 39)
let from = CLLocationCoordinate2D(latitude: 30, longitude: 43)
let distance = coordinate.distance(from: from) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-08-27T19:18:22.830

`CLLocationCoordinate2D+Distance.swift`对于 Swift 5.5，基于`MapKit`：

```
import MapKit

extension CLLocationCoordinate2D {

    /// Returns the distance between two coordinates in meters.
    func distance(to: CLLocationCoordinate2D) -> CLLocationDistance {
        MKMapPoint(self).distance(to: MKMapPoint(to))
    }

} 
```

版本基于`CLLocation`：

```
import CoreLocation

extension CLLocationCoordinate2D {

    /// Returns the distance between two coordinates in meters.
    func distance(to: CLLocationCoordinate2D) -> CLLocationDistance {
        CLLocation(latitude: latitude, longitude: longitude)
            .distance(from: CLLocation(latitude: to.latitude, longitude: to.longitude))
    }

} 
```

这两个扩展都有性能开销，如果处理大量坐标，这可能是相关的。在这些情况下：

[Euclid 包](https://github.com/timsearle/Euclid)中有一个对 CLLocationCoordinate2D 的扩展，它直接执行计算，请参阅：[distance(to:)](https://github.com/timsearle/Euclid/blob/master/Sources/Euclid.swift#L159)

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2019-05-02T01:59:23.280

`CLLocationDistance`是以米为单位的测量值。

```
let point1 = CLLocationCoordinate2D(latitude: lat1, longitude: lon1)
let point2 = CLLocationCoordinate2D(latitude: lat2, longitude: lon2)
let distance = point1.distance(to: point2) 
```

# ruby - ruby hash group by id 并对金额执行求和

> ID：11077426
> 
> 赞同：0
> 
> 时间：2012-06-18T05:39:36.407
> 
> 标签：ruby, hash, merge

我有一个像这样的红宝石哈希

```
[{user_id：3，购买：{金额：2，type_id：3，名称：“巧克力”}，
 {user_id：4，购买：{数量：1，type_id：3，名称：“巧克力”}，
 {user_id：5，购买：{数量：10，type_id：4，名称：“penny-candy”}]

```

我想获取数组并按 type_id 合并，对金额求和，将用户连接到金额，所以最终结果是

```
[{type_id: 3, name: "巧克力", total_amounts:3, user_purchases[{user_id:3, amount:2},user_id:4,amount:1}],
{type_id:4, name: "penny-candy", total_amounts: 10, [{user_id:5,amount:2}]}]

```

我将如何从一种类型的输出转到另一种类型的输出？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:51:23.670

这是一个 group_by 问题。我给你2个：

```
new_array = old_array.group_by{|x| x[:purchase][:type_id]}.values.map do |group|
  {:type_id => group[0][:purchase][:type_id], :total_amounts => group.map{|g| g[:purchase][:amount]}.reduce(&:+)}
end 
```

剩下的两个留作练习

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:27:27.753

我将首先简化它：

```
old_arr =  [
 {user_id: 3, purchase: {amount: 2, type_id:3, name:"chocolate"}},
 {user_id: 4, purchase: {amount: 1, type_id:3, name: "chocolate"}},
 {user_id: 5, purchase: {amount: 10, type_id:4, name: "penny-candy"}}]

intermediate_arr = old_arr.map{ |h| [h[:user_id], h[:purchase][:amount], h[:purchase][:type_id], h[:purchase][:name]]} 
```

这将创建以下数组：

```
[[3, 2, 3, "chocolate"], [4, 1, 3, "chocolate"], [5, 10, 4, "penny-candy"]] 
```

现在您可以按照自己的方式对其进行格式化。我选择这样格式化：

```
new_hash = {}
intermediate_arr.each do |arr|
  if new_hash[arr[2]]
    new_hash[arr[2]][:purchase] += [{user_id: arr[0], amount: arr[1]}]
  else
    new_hash[arr[2]] = {name: arr[3], purchase: [{user_id: arr[0], amount: arr[1]}]}
  end
end 
```

给予：

```
{3=>{:name=>"chocolate", :purchase=>[{:user_id=>3, :amount=>2}, {:user_id=>4, :amount=>1}]}, 4=>{:name=>"penny-candy", :purchase=>[{:user_id=>5, :amount=>10}]}} 
```

# vb.net - 用户控件VB2010 express

> ID：11077427
> 
> 赞同：0
> 
> 时间：2012-06-18T05:39:51.797
> 
> 标签：vb.net, visual-studio-2010, user-controls, composite-controls

我正在创建一个应用程序，它显示来自 4 个或更多站的数据。要显示的数据是文本，其中可以有可变数量的子站。所以我计划创建 2 个级别的用户控件。UserControl1 用于显示分站数据，它是一行文本框的集合。一个子站的文本框数量是固定的。工作站的第二个用户控件 UserControl2 由在运行时添加到它的多个 UserControl1 和其他数据组成。

我在 VB2010 Express 版工具中创建应用程序。我已经编写了代码，但是当我尝试运行它时，Usercontrol 1 无法加载。那么这种嵌入用户控件是否可行？

# c# - ERROR {“发生与网络相关或特定于实例的错误..”}

> ID：11077428
> 
> 赞同：-2
> 
> 时间：2012-06-18T05:40:19.690
> 
> 标签：c#, asp.net

我在 myconn.Open(); 行遇到错误 如何解决它。

```
 {"A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error:}

SqlConnection myconn = new SqlConnection();
        String connection = "Data Source=SQLEXPRESS;AttachDbFilename=C:\\Users\\Winer\\Documents\\Visual Studio 2008\\WebSites1\\App_Data\\Database.mdf";
        myconn.ConnectionString = connection;
        myconn.Open(); 
```

任何人都可以说一下吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T05:43:38.190

这只是意味着`SQLEXPRESS`找不到服务器。我认为你有一个拼写错误。如果可行，试试这个：（`Data Source=.\SQLEXPRESS;`）

```
String connection = "Data Source=.\\SQLEXPRESS;AttachDbFilename=C:\\Users\\Winer\\Documents\\Visual Studio 2008\\WebSites1\\App_Data\\Database.mdf"; 
```

**更新 1：**

`.`意味着或等同于`localhost`

`Data Source=.\SQLEXPRESS;`是相同的`Data Source=localhost\SQLEXPRESS;`

或尝试

`Data Source=YOURCOMPUTERNAME\SQLEXPRESS;`

**更新 2**

为什么不使用这种连接字符串格式？

```
Data Source=myServerAddress;Initial Catalog=myDataBase;Integrated Security=SSPI; 
```

或者

```
Data Source=myServerAddress;Initial Catalog=myDataBase;User Id=myUsername;Password=myPassword; 
```

在哪里

**myServerAddress**是您的服务器地址
**myDataBase**是您的数据库的名称
**myUsername**是用户名以及
**myPassword**您的密码。

**[此链接上的更多 ConnectionString 格式。](http://connectionstrings.com/sql-server-2005)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:48:47.460

确保您的连接字符串有效。我倾向于向学生推荐这个：

1.  在“服务器资源管理器”面板中，使用向导创建与数据库的连接。
2.  On the new connection, in the 'Data Connections' section, right-click on the connection to display the context menu.
3.  Select 'Properties'. Copy and paste the 'Connection String' value in place of your existing string.

There are better ways to do this, but this is relatively simple, I think. HTH.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T06:27:23.480

```
SqlConnection myconn = new SqlConnection();         
String connection = @"Data Source=.\SQLEXPRESS;AttachDbFilename=C:\Users\Winer\Documents\Visual Studio 2008\WebSites1\App_Data\Database.mdf";         
myconn.ConnectionString = connection;         
myconn.Open(); 
```

# asp.net-mvc-3 - 在 kendoui 中动态将网格插入到面板栏中

> ID：11077447
> 
> 赞同：0
> 
> 时间：2012-06-18T05:42:48.743
> 
> 标签：asp.net-mvc-3, visual-studio-2010, kendo-ui

我正在使用剑道用户界面。我能够动态加载面板栏。现在我想将网格插入面板栏。如果我单击面板栏标题，在标题内我必须显示网格并且我想动态加载网格。

有什么建议么..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-15T20:34:53.700

您可以将回调绑定到 PanelBar 中的适当事件，例如`select`or `expand`，并在回调中加载网格。

像这样的东西（没有时间测试......）：

```
var panelBar = $("#panelBar").data("kendoPanelBar");
// bind the error ajax event
panelBar.bind("expand", function(e) {
    $(e.item).kendoGrid();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T13:41:35.620

我在[这里](http://jsfiddle.net/OnaBai/rQZNr/21/)做了这个，虽然手风琴在小提琴中不起作用，但当我在本地运行编码时它起作用。我认为某些东西只是链接错误，但编码有效！

例如，我计算了 dataSource 中出现的次数，然后我创建了一个循环来运行该次数，我在循环内创建了一个网格。

这与循环相同：

```
$(doc).find("component").each(function (x, component) 
{
    $("#gridGenerate" + x).kendoGrid({
    dataSource: {
        transport: {
            read: function (op) {
                console.log("read");
                return op.success(gridDataArray);
            }
        },
        pageSize : 9
    }
}); 
```

希望这是有用的。

# javascript - 在一个提示框中进行多个输入？

> ID：11077448
> 
> 赞同：2
> 
> 时间：2012-06-18T05:43:07.987
> 
> 标签：javascript, jquery

我正在使用 javascript 开发一个简单的 Web 应用程序。我想知道如何使用 javascript 在单个提示框中添加多个输入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-07-23T06:09:54.097

访问这个网站，他们有完整的代码、解释和示例供您学习如何实现您想要的。

> [https://www.w3schools.com/howto/howto_css_contact_form.asp](https://www.w3schools.com/howto/howto_css_contact_form.asp)

你应该做的总结：

1.  像往常一样创建一个表单
2.  使用 display:none 隐藏表单
3.  然后创建一个按钮
4.  创建一个 JS 脚本，按钮上的“onclick”将取消隐藏表单。

就如此容易

# java - 如何在java中将一个枚举转换为另一个枚举？

> ID：11077451
> 
> 赞同：37
> 
> 时间：2012-06-18T05:43:23.167
> 
> 标签：java, enums

我有;

```
public enum Detailed {
    PASSED, INPROCESS, ERROR1, ERROR2, ERROR3;
} 
```

并需要将其转换为以下内容；

```
public enum Simple {
    DONE, RUNNING, ERROR;
} 
```

所以首先`PASSED`->`DONE`和`INPROCESS`-> `RUNNING`，但所有错误都应该是：`ERROR`. 显然可以为所有值编写案例，但可能有更好的解决方案？

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2012-06-18T05:49:47.093

就我个人而言，我只会创建一个`Map<Detailed, Simple>`并明确地执行它 - 甚至`switch`可能使用一个语句。

另一种选择是将映射传递给构造函数——当然，你只能这样做：

```
public enum Detailed {
    PASSED(Simple.DONE),
    INPROCESS(Simple.RUNNING),
    ERROR1(Simple.ERROR),
    ERROR2(Simple.ERROR),
    ERROR3(Simple.ERROR);

    private final Simple simple;

    private Detailed(Simple simple) {
        this.simple = simple;
    }

    public Simple toSimple() {
        return simple;
    }
} 
```

（我发现这比 Ted 使用多态的方法更简单，因为我们并没有真正尝试提供不同的*行为*——只是不同的简单映射。）

虽然您*可能*会用序数值做一些狡猾的事情，但它会不那么明显，并且需要更多的代码 - 我认为没有任何好处。

* * *

## 回答 #2

> 赞同：31
> 
> 时间：2012-06-18T05:48:12.630

一种方法是`asSimple()`在`Detailed`枚举中定义一个方法：

```
public enum Detailed {
    PASSED {
        @Override
        Simple asSimple() {
            return DONE;
        }
    },
    INPROCESS {
        @Override
        Simple asSimple() {
            return RUNNING;
        }
    },
    ERROR1,
    ERROR2,
    ERROR3;
    public Simple asSimple() {
        return Simple.ERROR; // default mapping
    }
} 
```

然后，您可以在想要进行映射时简单地调用该方法：

```
Detailed code = . . .
Simple simpleCode = code.asSimple(); 
```

它具有将映射知识与`Detailed`枚举（它可能属于的位置）放在一起的优点。它的缺点是`Simple`与代码混在一起的知识`Detailed`。这可能是也可能不是坏事，具体取决于您的系统架构。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2014-12-05T08:22:02.353

使用[枚举映射](https://docs.oracle.com/javase/7/docs/api/java/util/EnumMap.html)

我通过实现转换服务将外部 xml 接口与内部域模型分离。这包括将枚举从 jaxb 生成的代码映射到域模型枚举。

使用静态 EnumMap 将转换的关注点封装在负责转换的类中。它的凝聚力。

```
@Service
public class XmlTransformer {

    private static final Map<demo.xml.Sense, Constraint.Sense> xmlSenseToSense;
    static {
        xmlSenseToSense = new EnumMap<demo.xml.Sense, Constraint.Sense> (
            demo.xml.Sense.class);
        xmlSenseToSense.put(demo.xml.planningInterval.Sense.EQUALS, 
            Constraint.Sense.EQUALS);
        xmlSenseToSense.put(demo.xml.planningInterval.Sense.GREATER_THAN_OR_EQUALS, 
            Constraint.Sense.GREATER_THAN_OR_EQUALS);
        xmlSenseToSense.put(demo.xml.planningInterval.Sense.LESS_THAN_OR_EQUALS, 
            Constraint.Sense.LESS_THAN_OR_EQUALS);
    }
    ...
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2019-01-25T12:31:27.593

# 番石榴`Enums.getIfPresent()`开着`Enum.name()`

我们的案例是这个案例的一个特殊专业。我们确实有两个`Enum`：一个在应用程序中使用，另一个在核心库中使用。核心库被不同团队的少数应用程序使用。每个应用程序都查看整个功能的一个子集。整个功能都使用枚举进行配置，以便打开和关闭、加速或减速、选择策略等。

所以我们最终得到：

1.  库的一个枚举，包含所有可能的配置，从应用程序可见，还有一些特定于库的
2.  每个应用程序一个枚举，包含与应用程序在库中可以看到/触摸的内容相对应的文字，以及一些特定于应用程序的

然后，当我们将数据向下传递到库时，我们会调整所有数据以及这些配置。我们拥有所有枚举，因此我们可以选择在不同的枚举中使用相同的文字调用相同的配置。

```
Enum LibraryConfig {
    FUNCTION_ONE,
    FUNCTION_TWO,
    FUNCTION_THREE,
    FUNCTION_FOUR;
}

Enum Aplication1Config {
    FUNCTION_ONE,
    FUNCTION_TWO,
    FUNCTION_THREE,
    APPL1_FUNCTION_ONE,
    APPL1_FUNCTION_TWO;
}

Enum Aplication2Config {
    FUNCTION_ONE,
    FUNCTION_TWO,
    FUNCTION_FOUR;
    APPL2_FUNCTION_ONE;
} 
```

当我们需要从一种类型转换为另一种类型（app --> lib 或 lib --> app）时，我们以这种方式使用`getIfPresent()`from`com.google.common.base.Enums`方法：

```
Aplication1Config config1App1 = FUNCTION_TWO;
LibraryConfig configLib = Enums.getIfPresent(LibraryConfig.class, config1App1.name()).orNull(); 
```

我们检查`configLib`值`null`以查看是否成功转换。我们使用这最后一步是因为 APPX_FUNCTION_YYY，它是特定于应用程序的，*并且*用于方向 lib --> app 上的转换，而不是传递特定于库的配置值（`FUNCTION_FOUR`在示例中）。

## maven的依赖管理：

以防万一有人需要它：

```
 <dependency>
        <groupId>com.google.guava</groupId>
        <artifactId>guava</artifactId>
        <version>20.0</version>
    </dependency> 
```

## 国产版：

您可以使用 Enum 方法进行自己的转换，但您必须注意异常以检测何时转换不成功：

```
try {
    Aplication1Config config1App1 = FUNCTION_TWO;
    LibraryConfig configLib = LibraryConfig.valueOf(config1App1.name());
} catch (IllegalArgumentException iae) {
    // if the conversion did not succeed
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-18T05:52:39.187

Ted 的回答非常Javaly，但表达式

```
passed == PASSED ? DONE : ERROR 
```

也会做这项工作。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-18T05:54:29.773

对我来说，这听起来更像是一个概念问题而不是编程问题。为什么不直接删除“简单”枚举类型并在程序的所有位置使用另一种类型呢？

只是为了让另一个例子更清楚：你真的会尝试为一周中的工作日（周一到周五）定义一个枚举类型，并为一周中的所有天（周一到周日）定义另一个枚举吗？

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-01-15T21:30:46.923

这是带有测试的简单枚举映射器：

- 执行

-- 枚举

```
public enum FirstEnum {

A(0), B(1);

private final int value;

private FirstEnum(int value) {
    this.value = value;
}

public int getValue() {
    return value;
}
}

public enum  SecondEnum {

C(0), D(1);

private final int valueId;

private SecondEnum(int valueId) {
    this.valueId = valueId;
}

public int getValueId() {
    return valueId;
}

} 
```

--映射器

```
import java.lang.reflect.InvocationTargetException;
import java.util.HashMap;
import java.util.Map;

import org.apache.commons.beanutils.PropertyUtils;
import org.apache.commons.lang3.Validate;

import com.google.common.collect.Sets;

public class EnumPropertyMapping {

private final Map<?, ?> firstMap;
private final Map<?, ?> secondMap;

private final Class<?> firstType;
private final Class<?> secondType;

private EnumPropertyMapping(
        Map<?, ?> firstMap, Map<?, ?> secondMap, Class<?> firstType, Class<?> secondType) {

    this.firstMap = firstMap;
    this.secondMap = secondMap;
    this.firstType = firstType;
    this.secondType = secondType;
}

public static Builder builder() {
    return new Builder();
}

@SuppressWarnings("unchecked")
public <R> R getCorrespondingEnum(Object mappedEnum) {
    Validate.notNull(mappedEnum, "Enum must not be NULL");
    Validate.isInstanceOf(Enum.class, mappedEnum, "Parameter must be an Enum");

    if (firstType.equals(mappedEnum.getClass())) {
        return (R) firstMap.get(mappedEnum);
    }

    if (secondType.equals(mappedEnum.getClass())) {
        return (R) secondMap.get(mappedEnum);
    }

    throw new IllegalArgumentException("Didn't found mapping for enum value: " + mappedEnum);
}

public static class Builder {

    private final Map<Object, Object> firstEnumMap = new HashMap<>();
    private final Map<Object, Object> secondEnumMap = new HashMap<>();
    private Class<?> firstEnumType;
    private Class<?> secondEnumType;

    public <T extends Enum<T>> Builder addFirst(Class<T> enumType, String propertyName) {
        firstEnumType = enumType;
        initMap(firstEnumMap, enumType.getEnumConstants(), propertyName);
        return this;
    }

    public <T extends Enum<T>> Builder addSecond(Class<T> enumType, String propertyName) {
        secondEnumType = enumType;
        initMap(secondEnumMap, enumType.getEnumConstants(), propertyName);
        return this;
    }

    private void initMap(Map<Object, Object> enumMap, Object[] enumConstants, String propertyName) {
        try {
            for (Object constant : enumConstants) {
                enumMap.put(PropertyUtils.getProperty(constant, propertyName), constant);
            }
        } catch (InvocationTargetException | NoSuchMethodException | IllegalAccessException ex) {
            throw new IllegalStateException(ex);
        }
    }

    public EnumPropertyMapping mapEnums() {
        Validate.isTrue(firstEnumMap.size() == secondEnumMap.size());
        Validate.isTrue(Sets.difference(firstEnumMap.keySet(), secondEnumMap.keySet()).isEmpty());

        Map<Object, Object> mapA = new HashMap<>();
        Map<Object, Object> mapB = new HashMap<>();

        for (Map.Entry<Object, Object> obj : firstEnumMap.entrySet()) {
            Object secondMapVal = secondEnumMap.get(obj.getKey());
            mapA.put(obj.getValue(), secondMapVal);
            mapB.put(secondMapVal, obj.getValue());
        }
        return new EnumPropertyMapping(mapA, mapB, firstEnumType, secondEnumType);
    }
}

} 
```

- 测试

```
import org.junit.Test;

import com.bondarenko.common.utils.lang.enums.FirstEnum;
import com.bondarenko.common.utils.lang.enums.SecondEnum;

import static junit.framework.TestCase.assertEquals;

public class EnumPropertyMappingTest {

@Test
public void testGetMappedEnum() {
    EnumPropertyMapping mapping = EnumPropertyMapping.builder()
                                                                                                     .addSecond(SecondEnum.class, "valueId")
                                                                                                     .addFirst(FirstEnum.class, "value")
                                                                                                     .mapEnums();

    assertEquals(SecondEnum.D, mapping.getCorrespondingEnum(FirstEnum.B));
    assertEquals(FirstEnum.A, mapping.getCorrespondingEnum(SecondEnum.C));
}

} 
```

# iphone - 如何在 iPhone 中找到正在运行的进程名称的 iTunes 应用程序名称

> ID：11077454
> 
> 赞同：0
> 
> 时间：2012-06-18T05:43:37.363
> 
> 标签：iphone, itunes

我想在iPhone中找到正在运行的进程名称的iTunes应用程序名称。因为我的应用程序名称与iTunes应用程序名称不同。例如我的应用程序名称是abc plus。但捆绑显示名称是abc +。

我的应用程序是 iPhone 应用程序，在此捆绑包中显示名称与产品名称不同。

在我的项目中，我正在收集 iPhone 中正在运行的进程，并且我想用所有进程的 iTunes 应用程序名称替换正在运行的应用程序名称。

如果有人不理解他们可以提出的问题。请不要给负分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-13T09:45:45.327

您的问题引出了一个非常有趣的事实：**“Music~iphone”过程不仅会在您听到音乐时开始 - 如果您使用 Google 应用程序或任何其他 Google 应用程序（如地图）进行搜索，它也会开始 - 即使您从来没听过音乐！！**

而且它不会在后台被杀死。因此，每当您使用 Google（应用程序）或任何其他 Google 应用程序（例如地图）搜索某些内容时，都会在后台启动此过程，直到它被主动杀死或您的 iPhone 重新启动——它会使用您的资源。这在我所有的 iPhone 和不同的 iOS 版本（最新的 5.1.1）上始终可以重现。

我根本不喜欢那样，并将进一步调查......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T09:58:12.417

似乎音乐应用程序启动了一些进程，这些肯定来自 iTunes：

*   音乐~iphone
*   iTunes云

像这样找到它们：

*   杀死所有应用程序（双主页按钮并按住一个应用程序图标）
*   我使用 Carat 应用程序获取进程列表
*   启动音乐应用
*   查看 Carat 应用程序中出现了哪些流程 :)

# android - 启动我的活动时出现Android ActivityNotFoundException

> ID：11077458
> 
> 赞同：-2
> 
> 时间：2012-06-18T05:43:52.813
> 
> 标签：android, android-activity, android-intent

我正在尝试通过意图将数据从一项活动发送到另一项活动。但面临**强制关闭**错误`button click`。

**第一个活动：**

```
btn1= (Button) findViewById(R.id.Next);
et = (EditText) findViewById(R.id.edit); 
btn1.setOnClickListener(new Button.OnClickListener(){
   public void onClick(View v)
   {
       Intent intent = new Intent();
       intent.setClass(ViewchangerActivity.this, DisplayActivity.class);
       intent.putExtra("Name", et.getText().toString());

       startActivity(intent);
   }
}); 
```

* * *

**第二个活动：**

```
public void onCreate(Bundle savedinstanceState)
    {
        super.onCreate(savedinstanceState);
        setContentView(R.layout.main2);
        TextView tv = (TextView) findViewById(R.id.Name);
        Bundle b = getIntent().getExtras();
        String str =b.getString("Name");

         tv.setText(str);
    } 
```

* * *

**日志猫：**

```
android.content.ActivityNotFoundException: Unable to find explicit activity class
{org.android/org.android.DisplayActivity}; have you declared this activity in your AndroidManifest.xml? 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T05:44:26.027

确保您已在 Manifast.xml 中将**DisplayActivity注册为：**

```
<activity android:name=".DisplayActivity"></activity> 
```

并请在 Eclipse IDE 上从**Project->Clean...清理您的项目**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T05:50:23.597

您的活动未添加到清单中............

```
<activity android:name=".DisplayActivity"></activity> 
```

# javascript - 有没有办法在文本区域中关闭拼写检查？

> ID：11077463
> 
> 赞同：11
> 
> 时间：2012-06-18T05:44:44.163
> 
> 标签：javascript, html, google-chrome

我遇到了这个问题。我有一个文本区域，我只想在它处于焦点时使用拼写检查。

```
<textarea id="editor"></textarea>

$('#editor').focusin(function(){
    $(this).attr('spellcheck', true);
});

$('#editor').focusout(function(){
    $(this).attr('spellcheck', false);
}); 
```

在 chrome 中，如果单词拼写错误，单词下方会出现一条红线。即使我关闭拼写检查器，红线仍然存在。如何删除此标记？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T06:14:41.277

我用这个问题来回答你的问题：[Force spell check on a textarea in WebKit](https://stackoverflow.com/questions/1884829/force-spell-check-on-a-textarea-in-webkit)

HTML：

```
<textarea id="editor" spellcheck="true"></textarea> 
```

Javascript：

```
$('#editor').focusin(function(){
    $(this).attr('spellcheck', true);
});

$('#editor').focusout(function() {
    $(this).attr('spellcheck', false);
    forceSpellcheck($(this));
});

    var canCheck = true;
    function forceSpellcheck($textarea) {
  if (canCheck) {
    canCheck = false;

    $textarea.focus();
    $textarea.attr('spellcheck', false);
    var characterCount = $textarea.val().length;

    var selection = window.getSelection();
    for (var i = 0; i < characterCount; i++ ) {
      selection.modify("move", "backward", "character");
    }

    // Remove focus from the element, since the word under
    // the cursor won't have a misspelling marker.
    $textarea.blur();
  } else {
    canCheck = true;
  }
}​ 
```

演示：http: [//jsfiddle.net/QgsRU/13/](http://jsfiddle.net/QgsRU/13/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T07:33:35.517

弄明白了

```
function bindEditorFocus() {
    var $editor = $('#editor');
    $editor.focusin(function(){
        $(this).attr('spellcheck', true);
        toggleSpellingcheck(); // loop through all words to add marker
    }); 

    $editorblur(function(){
        $editor.attr('spellcheck', false);
        $editor.unbind();    // I need to unbind all function to avoid a loop 
        toogleSpellingcheck(); // loop through all words to remove marker
        $editor.blur();     //get out of text area
        bindEditorFocus();  // rebind all functions 
    });
}

function toogleSpellingcheck(){ 
    //this will loop through all words
    var $editor = $('#editor'); 
    var text = $editor.val();       
    for (var i = 0; i < text.length; i++) {
        $editor.caret({start:i,end:i});
    }
} 
```

togleSpellingcheck 方法循环遍历所有单词，它可以优化为遍历单词而不是字符，但这需要 jquery caret 插件

有点乱，但是很有效，有人有改进的建议请告诉我

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-11-12T18:17:17.783

虽然在 < textarea > 标签中指定*spellcheck="false"*肯定会禁用该功能，但能够在页面加载后根据需要打开和关闭该功能很方便。*因此，这是一种以编程方式设置拼写检查*属性的非 jQuery 方法：

：

```
<textarea id="my-ta" spellcheck="whatever">abcd dcba</textarea> 
```

：

```
function setSpellCheck( mode ) {
    var myTextArea = document.getElementById( "my-ta" )
        , myTextAreaValue = myTextArea.value
    ;
    myTextArea.value = '';
    myTextArea.setAttribute( "spellcheck", String( mode ) );
    myTextArea.value = myTextAreaValue;
    myTextArea.focus();
} 
```

：

```
setSpellCheck( true );
setSpellCheck( 'false' ); 
```

函数参数可以是布尔值或字符串。

无需遍历 textarea 内容，我们只需剪切粘贴那里的内容，然后设置焦点。

在*闪烁*引擎（Chrome(ium)、Edge 等）中测试

# php - 将 CSV 值作为单个 $variables 检索

> ID：11077467
> 
> 赞同：1
> 
> 时间：2012-06-18T05:45:01.760
> 
> 标签：php, ajax, post, csv

我正在努力做到这一点：

```
174,myfilename.jpg 
```

在 php post process 页面上进入这个：

```
$id = 174
$filename = myfilename.jpg 
```

问题是**id=174,myfilename.jpg**

我获取值的方式是使用 ajax post 函数。

```
<a href="javascript:void(0)" id="<?php echo $id ;?>,<?php echo $filename;?>" onclick="deleteFile(id,name)" ><img border="0" src="images/close.png"></a>

function deleteFile(id,name) {

if (confirm("..."))
{

var txt = $.ajax({
url: 'deletefile.php',
async: true,
type:'POST',
data:({
id:id,
lid: <?php echo $_GET['id'];?>
}) 
}).success;
$('.successRemoveFile').slideDown('slow');
//setTimeout(function(){ window.top.location.reload();}, 2000);
}

} 
```

提前致谢。强尼

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T05:58:10.540

听起来像[`explode`](http://de2.php.net/manual/en/function.explode.php)并且[`list`](http://de2.php.net/manual/en/function.list.php)是您正在寻找的东西：

```
list($id, $filename) = explode(",", $_POST['id']); 
```

# c# - 用于视频广播的 wpf 应用程序

> ID：11077470
> 
> 赞同：4
> 
> 时间：2012-06-18T05:45:28.780
> 
> 标签：c#, wpf, mediaelement, expression-encoder, broadcasting

我有一个使用 Microsoft.expression.encoder 和 framework 4.0 广播视频的 WPF 应用程序，但是在广播时我有 15 秒的延迟。有什么建议可以减少广播时的延迟。

下面是代码

```
using Microsoft.Expression.Encoder.Live; 
using Microsoft.Expression.Encoder;

private void button1_Click(object sender, RoutedEventArgs e)
{ 
    try 
    { 
        EncoderDevice video = null; 
        EncoderDevice audio = null;
        GetSelectedVideoAndAudioDevices(out video, out audio);
        StopJob();

        if (video == null)
        {
            return;
        }

        StopJob();
        _job = new LiveJob();

        if (video != null && audio != null)
        {
            //StopJob();
            _deviceSource = null;
            _deviceSource = _job.AddDeviceSource(video, audio);
            _job.ActivateSource(_deviceSource);

            // Finds and applys a smooth streaming preset        
            //_job.ApplyPreset(LivePresets.VC1HighSpeedBroadband4x3);

            // Creates the publishing format for the job
            PullBroadcastPublishFormat format = new PullBroadcastPublishFormat();
            format.BroadcastPort = 9090;
            format.MaximumNumberOfConnections = 50;

            // Adds the publishing format to the job
            _job.PublishFormats.Add(format);

            // Starts encoding
            _job.StartEncoding();
        }
        //webCamCtrl.StartCapture();
    }
    catch (Exception ex)
    {
        WriteLogFile(this.GetType().Name, "button1_Click", ex.Message.ToString());
    }

} 
```

我正在使用 MediaElement 在我的服务器和客户端系统上显示网络摄像头。

在客户端

```
try
            {

                theMainWindow.getServerIPAddress();
                IP = theMainWindow.machineIP;
                MediaElement1.Source = new Uri("http://" + IP + ":9090/");
            }
            catch (Exception ex)
            {
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-03T14:00:01.493

您可以适当地使用 IIS Smooth Streaming 以较低的比特率材料开始播放，并随着您的客户端缓冲区填满逐渐增加它。Silverlight 具有对平滑流的内置支持，并且可以在 WPF 中手动实现（至少在理论上）。

有什么特别的事情阻止您在客户端使用 SL 吗？

# javascript - 如何获得网络浏览器窗口主体的确切高度？

> ID：11077475
> 
> 赞同：5
> 
> 时间：2012-06-18T05:45:54.720
> 
> 标签：javascript, html, css

我想获得 webbrowser 窗口主体的确切高度。我尝试了在谷歌搜索时获得的所有其他解决方案的 innerHeight、clientHeight。但他们都没有给出确切的高度。我必须通过从这些函数提供的高度中减去一些值来调整高度？怎样才能摆脱这个问题。我想我错过了一些东西。请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-18T06:17:58.343

~~一些浏览器以不同的方式错误地~~报告窗口高度- 特别是具有不同视口概念的移动浏览器。我有时使用一个函数来检查几个不同的值，返回最大的那个。例如

```
function documentHeight() {
    return Math.max(
        window.innerHeight,
        document.body.offsetHeight,
        document.documentElement.clientHeight
    );
} 
```

**编辑：**我只是看看 jQuery 是如何做到的，它确实使用了 Math.max 和一系列属性 - 但是它检查的列表与我上面的示例中的列表略有不同，因为我通常相信 jQuery 团队会更好在这件事上比我更；这是非 jQuery jQuery 解决方案（如果有意义的话）：

```
function documentHeight() {
    return Math.max(
        document.documentElement.clientHeight,
        document.body.scrollHeight,
        document.documentElement.scrollHeight,
        document.body.offsetHeight,
        document.documentElement.offsetHeight
    );
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T05:50:46.593

您可以使用 Jquery 来实现这一点...

```
$(document).ready(function(){
    browserWindowheight = $(window).height();
    alert(browserWindowheight);
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T05:53:44.063

您是否尝试过使用：

```
window.outerHeight (this is for IE9 and other modern browser's height) 
```

对于具有向后兼容模式的 Internet Explorer，请使用

```
document.body.offsetHeight 
```

此外，Internet Explorer（标准模式，document.compatMode=='CSS1Compat'）：

```
document.documentElement.offsetHeight 
```

请查看以下内容以获取更多信息：

*   [http://www.javascripter.net/faq/browserw.htm](http://www.javascripter.net/faq/browserw.htm)
*   [http://everyday-tech.blogspot.com.au/2009/07/js-calculate-browser-window-height.html](http://everyday-tech.blogspot.com.au/2009/07/js-calculate-browser-window-height.html)

# c# - “类未注册（HRESULT 异常：0x80040154 (REGDB_E_CLASSNOTREG)）”

> ID：11077477
> 
> 赞同：26
> 
> 时间：2012-06-18T05:46:02.620
> 
> 标签：c#

我正在尝试使用应用程序，该应用程序运行良好，我正在尝试编辑应用程序中的现有项目。单击编辑时出现以下错误，

```
System.Runtime.InteropServices.COMException was unhandled
  Message="Class not registered (Exception from HRESULT: 0x80040154 (REGDB_E_CLASSNOTREG))"
  Source="System.Windows.Forms"
  ErrorCode=-2147221164
  StackTrace:
       at System.Windows.Forms.UnsafeNativeMethods.CoCreateInstance(Guid& clsid, Object punkOuter, Int32 context, Guid& iid)
       at System.Windows.Forms.AxHost.CreateWithoutLicense(Guid clsid)
       at System.Windows.Forms.AxHost.CreateWithLicense(String license, Guid clsid)
       at System.Windows.Forms.AxHost.CreateInstanceCore(Guid clsid)
       at System.Windows.Forms.AxHost.CreateInstance()
       at System.Windows.Forms.AxHost.GetOcxCreate()
       at System.Windows.Forms.AxHost.TransitionUpTo(Int32 state)
       at System.Windows.Forms.AxHost.CreateHandle()
       at System.Windows.Forms.Control.CreateControl(Boolean fIgnoreVisible)
       at System.Windows.Forms.Control.CreateControl(Boolean fIgnoreVisible)
       at System.Windows.Forms.AxHost.EndInit()
       at bulk_lister.frm_edititem.InitializeComponent() in New Bulklister\new bulklister\bulk_lister\bulk_lister\frm_edititem.designer.cs:line 4248
       at bulk_lister.frm_edititem..ctor(Int32 userid, Int32 intListingId) in New Bulklister\new bulklister\bulk_lister\bulk_lister\frm_edititem.cs:line 187
       at bulk_lister.parent_form.funEditItem_fromrghtclktoolStrip_edititm() in New Bulklister\new bulklister\bulk_lister\bulk_lister\parent_form.cs:line 1313
       at bulk_lister.parent_form.rghtclktoolStrip_edititm_Click(Object sender, EventArgs e) in New Bulklister\new bulklister\bulk_lister\bulk_lister\parent_form.cs:line 1233
       at System.Windows.Forms.ToolStripItem.RaiseEvent(Object key, EventArgs e)
       at System.Windows.Forms.ToolStripButton.OnClick(EventArgs e)
       at System.Windows.Forms.ToolStripItem.HandleClick(EventArgs e)
       at System.Windows.Forms.ToolStripItem.HandleMouseUp(MouseEventArgs e)
       at System.Windows.Forms.ToolStripItem.FireEventInteractive(EventArgs e, ToolStripItemEventType met)
       at System.Windows.Forms.ToolStripItem.FireEvent(EventArgs e, ToolStripItemEventType met)
       at System.Windows.Forms.ToolStrip.OnMouseUp(MouseEventArgs mea)
       at System.Windows.Forms.Control.WmMouseUp(Message& m, MouseButtons button, Int32 clicks)
       at System.Windows.Forms.Control.WndProc(Message& m)
       at System.Windows.Forms.ScrollableControl.WndProc(Message& m)
       at System.Windows.Forms.ToolStrip.WndProc(Message& m)
       at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
       at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
       at System.Windows.Forms.NativeWindow.DebuggableCallback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)
       at System.Windows.Forms.UnsafeNativeMethods.DispatchMessageW(MSG& msg)
       at System.Windows.Forms.Application.ComponentManager.System.Windows.Forms.UnsafeNativeMethods.IMsoComponentManager.FPushMessageLoop(Int32 dwComponentID, Int32 reason, Int32 pvLoopData)
       at System.Windows.Forms.Application.ThreadContext.RunMessageLoopInner(Int32 reason, ApplicationContext context)
       at System.Windows.Forms.Application.ThreadContext.RunMessageLoop(Int32 reason, ApplicationContext context)
       at System.Windows.Forms.Application.Run(Form mainForm)
       at bulk_lister.Program.Main() inNew Bulklister\new bulklister\bulk_lister\bulk_lister\Program.cs:line 17
       at System.AppDomain._nExecuteAssembly(Assembly assembly, String[] args)
       at System.AppDomain.nExecuteAssembly(Assembly assembly, String[] args)
       at System.Runtime.Hosting.ManifestRunner.Run(Boolean checkAptModel)
       at System.Runtime.Hosting.ManifestRunner.ExecuteAsAssembly()
       at System.Runtime.Hosting.ApplicationActivator.CreateInstance(ActivationContext activationContext, String[] activationCustomData)
       at System.Runtime.Hosting.ApplicationActivator.CreateInstance(ActivationContext activationContext)
       at System.Activator.CreateInstance(ActivationContext activationContext)
       at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssemblyDebugInZone()
       at System.Threading.ThreadHelper.ThreadStart_Context(Object state)
       at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
       at System.Threading.ThreadHelper.ThreadStart()
  InnerException: 
```

它与我在我的应用程序中使用的 Dll 文件一起使用。我曾尝试使用 regsvr32 注册此 dll 文件，但我无法成功。

```
DLL:AxInterop.DHTMLEDLib.dll & Interop.DHTMLEDLib.dll 
```

有人知道这个例外吗？

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-05-15T16:55:28.820

您的应用程序的目标平台是什么？我认为您应该将平台设置为`x86`，不要设置为`Any CPU`。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-06-18T05:51:49.357

这可能不是您的问题的解决方案，而是一个建议以防万一（我知道我之前遇到过类似的问题，但不是 .NET 应用程序）。

如果您在 64 位机器上，则有**2 个** `regsvr32.exe`文件；一个在`\Windows\System32` 里面，另一个在里面`\Windows\SysWOW64`。

您不能将 64 位 COM 对象注册到 32 位版本，但反之亦然。我会尝试使用这两个文件显式注册您的 DLL `regsvr32.exe`（即键入“ `C:\Windows\System32\regsvr32.exe /i mydll.dll`”，然后键入“ `C:\Windows\SysWOW64\regsvr32.exe /i mydll.dll`”）并查看是否有帮助...

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-08-08T00:02:56.640

当我将框架从 4.5 更改为 4 时，vlc 组件出现了同样的错误。但是当我将平台从 Any CPU 更改为 x86 时，它对我有用。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2016-03-09T14:40:02.860

我今天偶然发现了一个我知道在我的 VS2013 项目中运行良好的 DLL，但不适用于 VS2015：

去：`Project -> XXXX Properties -> Build -> Uncheck "Prefer 32-bit"`

这个答案已经过期了，可能不会有任何好处，但是如果你。但我希望有一天这会对某人有所帮助。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-05-27T17:07:36.693

我的解决方法是在 Visual Studio 的配置管理器中创建平台，并设置为 x64

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-01-11T06:20:57.793

[HRESULT：0x80040154（REGDB_E_CLASSNOTREG））

仅查看消息，听起来您引用的一个或多个组件，或者它们的一个或多个依赖项未正确注册。

如果您知道它是哪个组件，您可以使用 regsvr32.exe 注册它，只需打开命令提示符，进入组件所在的目录并输入 regsvr32 filename.dll（假设它是一个 dll），如果它有效，请尝试再次运行代码，否则返回错误。

如果您不知道它是哪个组件，请尝试重新安装/修复 GIS 软件（我假设您已经安装了一些包含您尝试使用的组件的 GIS 软件）。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-18T05:52:05.563

您需要注册 DHTMLED.ocx

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-03-30T12:57:33.067

经过一系列的尝试，我找到了一个简单的解决方案。您可以尝试重新安装 Adob​​e flashplayer 的 ActiveX 插件。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-09-10T07:51:38.353

以管理员身份打开 cmd 然后尝试在这两个位置注册

# jquery - 谷歌地图 V3、Wordpress 和 jQuery

> ID：11077479
> 
> 赞同：0
> 
> 时间：2012-06-18T05:46:07.340
> 
> 标签：jquery, wordpress, google-maps, jquery-plugins, google-maps-api-3

我正在尝试在 wordpress 插件（帖子上的 metabox）上实现这个示例[http://jsfiddle.net/gzF6w/1/](http://jsfiddle.net/gzF6w/1/)（来自另一个问题，这里是 stak）。

由于某种原因，该框未按应有的方式显示地图。

到目前为止，这是我的代码

```
// Put the script on the head after jQuery is loaded        
function map_script_one($hook) {
        wp_deregister_script('googlemapsapi3');
        wp_enqueue_script('googlemapsapi3', 'http://maps.google.com/maps/api/js?sensor=false', false, '3', false);
        wp_enqueue_script( 'gmap3', get_site_url().'/wp-content/plugins/maps/gmap3-3.4-min.js', array('jquery'));
        wp_enqueue_script( 'autocomplete', get_site_url().'/wp-content/plugins/maps/jquery-autocomplete.min.js', array('jquery'));
    }

add_action( 'admin_enqueue_scripts', 'map_script_one' );

// Include some css and jQuery script for the maps
function map_script_two() { ?>
    <link rel="stylesheet" type="text/css" href="'.get_site_url().'/wp-content/plugins/maps/jquery-autocomplete.css"/>
        <style>
          .gmap3{
            margin: 20px auto;
            border: 1px dashed #C0C0C0;
            width: 1000px;
            height: 500px;
          }
          .ui-menu .ui-menu-item{
            text-align: left;  
            font-weight: normal;
          }
          .ui-menu .ui-menu-item a.ui-state-hover{
            border: 1px solid red; 
            background: #FFBFBF; 
            color: black;
            font-weight:bold;
          }
        </style>

        <script type="text/javascript">
          jQuery(function(){

              jQuery('#test').gmap3();

              jQuery('#address').autocomplete({
                source: function() {
                  jQuery("#test").gmap3({
                    action:'getAddress',
                    address: jQuery(this).val(),
                    callback:function(results){
                      if (!results) return;
                      jQuery('#address').autocomplete(
                        'display', 
                        results,
                        false
                      );
                    }
                  });
                },
                cb:{
                  cast: function(item){
                    return item.formatted_address;
                  },
                  select: function(item) {
                    jQuery("#test").gmap3(
                      {action:'clear', name:'marker'},
                      {action:'addMarker',
                        latLng:item.geometry.location,
                        map:{center:true}
                      }
                    );
                  }
                }
              })
              .focus();

          });
        </script><?php 
    }
add_action( 'admin_head', 'map_script_two' );

// Create the box    
function set_map_box() {
    add_meta_box('addressmap', 'Address Map', 'address_map', 'post', 'normal', 'default');
    }
add_action('admin_init','set_map_box');

// Content of the box
function address_map() {
        global $post; ?>
        <input type="text" id="address" size="60">
    <div id="test" class="gmap3"></div>
<?php } // more code after. 
```

到目前为止，我试图在脚本上将“$”更改为 jQuery，从 wordpress 中注销原始 jquery 并使用另一个版本，禁用所有插件并删除此自定义插件上不必要的代码，但到目前为止似乎没有任何效果:(

知道可能是什么问题吗？

基本上，该示例所做的是显示一个框，用户可以在其中输入地址，并且地图会更新为该地址。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T12:40:00.313

您可能正在尝试在`#test`创建 div 之前绘制地图。尝试使用

```
jQuery(document).ready(function($){ 
```

在您的`map_script_two()`函数中延迟地图的绘制，直到整个文档加载完毕。

您还可以在您的div之后将该 jQuery 包含在您的`address_map()`函数中。`#test`

# file - 使用来自批处理文件的输入来创建一个新的，另存为不同名称的批处理文件

> ID：11077483
> 
> 赞同：0
> 
> 时间：2012-06-18T05:46:40.727
> 
> 标签：file, batch-file

我正在尝试创建一个批处理文件来输入 3 条数据并使用该数据创建另一个批处理文件。只需创建它，然后停止。该批处理为不知道如何操作的用户映射了几个网络驱动器。
我有一个“master.bat”并使用记事本使用“替换”来填写“用户名”“密码”和“驱动器路径”。我想我会尝试将变量输入到“master.bat”中，为该用户创建一个“custom.bat”。
我在这里得到了很多帮助，直到最后一步。除了最后一部分，一切都在工作。现在我有了所有的变量以及一个可以放入它们的模板，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:50:22.093

一种方法是以文件形式使用您的模板，并用您的实际值替换其中的占位符：

```
setlocal enabledelayedexpansion
for /f %%L in (template.cmd) (
    set "Line=%%L"
    set "Line=!Line:[username]=!username!"
    ...
    >network-drives.cmd echo !Line!
) 
```

这假定`[username]`模板中的占位符和定义的相应变量。

但是，如果我使用从文件中批量读取的数据，我总是会有点焦虑。当我最近不得不从另一个创建批处理文件时，我采用了以下路线：

```
(
  echo @echo off
  echo net use !drivepath! \\server\share "/user:!username!" "!password!"
  echo net use !drivepath2! \\server\share2 "/user:!username!" "!password!"
) > network_drives.cmd 
```

必须注意诸如右括号和为生成的批处理文件中可能需要的语法保留的几个字符之类的事情。但是这种方法是完全独立的，尽管维护起来有点困难。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T12:12:05.420

在批处理文件中嵌入模板很简单。有多种方法可以做到这一点。一种是简单地在每个模板行前加上`:::`. 我之所以选择该序列，是因为`:`它已经用作批标签，并且`::`经常用作批注释。

延迟扩展可用于自动搜索和替换！

如果要将它们包含在输出中，则只需担心 3 个特殊字符。原始问题可能不需要这些特殊字符。但最好知道如何在一般意义上处理它们。

感叹号文字`!`必须被转义或替换

如果插入符号文字`^`出现在带有感叹号的行上，则可以对其进行转义或替换。但是如果没有感叹号就一定不能转义。插入符号替换总是安全的。

使用替换来开始一行`:`

```
@echo off
setlocal

::The following would be set by your existing script code
set drivePath=x:
set username=rumpelstiltskin
set password=gold

::This is only needed if you want to include ! literals using substitution
set "X=!"

::This is only needed if you want to include ^ literal on same line
::containing ! literal
set "C=^"

::This is only needed if you want to start a line with :
set ":=:"

::This is all that is needed to write your output
setlocal enableDelayedExpansion
>mapDrive.bat (
  for /f "tokens=* delims=:" %%A in ('findstr "^:::" "%~f0"') do @echo(%%A
)

::----------- Here begins the template -----------
:::@echo off
:::net use !drivePath! \\server\share "/user:!username!" "!password!"
:::!:!: Use substitution to start a line with a :
:::!:!: The following blank line will be preserved
:::
:::echo Exclamation literal must be escaped ^! or substituted !X!
:::echo Caret with exclamation must be escaped ^^ or substituted !C!
:::echo Caret ^ without exclamation must not be escaped 
```

# java - 为什么我的组件没有获得焦点？

> ID：11077486
> 
> 赞同：0
> 
> 时间：2012-06-18T05:46:54.887
> 
> 标签：java, focus

我正在运行一个小程序，并试图专注于 init 方法之外的组件。我尝试过使用 requestFocus 和 requestFocusInWindow。这两个都返回 true，isDisplayable、isVisible 和 isFocusable 也是如此，但在此之后立即调用 hasFocus 会返回 false。该组件只是没有显示在小程序中。

这是事件监听器调用的方法（当用户单击“开始战斗”时），试图关注组件：

```
private void beginBattle(){
    BattleSequence bs = new BattleSequence(..);
    remove(pnlInit);
    remove(pnlOOB);
    remove(pnlBattle);
    add(bs);
    bs.setVisible(true);
    bs.requestFocusInWindow(); //this returns 'true'
    bs.setBounds(0, 0, bs.getSize().width, bs.getSize().height);
    bs.init();
    }

public class BattleSequence extends RavelSequence

public abstract class RavelSequence extends Applet implements KeyListener, FocusListener 
```

为什么焦点请求被拒绝？如果有更多相关的代码，我可以发布！

* *** *编辑：添加鼠标侦听器可以使组件获得焦点，但我不希望用户需要鼠标来控制游戏。我更改了 RavelSequence 的声明以扩展 Container 而不是 Applet，并且一切正常。
bs.hasFocus 仍然返回 false，但关键事件得到了适当的处理。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:53:14.830

尝试在事件调度线程上调用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:57:34.173

尝试将 MouseListener 添加到相关组件，并在 mouseClicked() 方法中请求焦点。

# iphone - 与 Json 一起使用的 Google Api

> ID：11077489
> 
> 赞同：0
> 
> 时间：2012-06-18T05:47:27.107
> 
> 标签：iphone, json

当我调用 Google API 获取地址并在这里调用 api 时。

```
-(void)searchviews:(NSString*)EditString selector:(SEL)sel
{  
    NSLog(@"Welcome To Search views");

    searchviews=sel;
     NSString *path =[NSString stringWithFormat:@"http://maps.google.com/maps/api/geocode/json?address=%@&sensor=false",EditString]; 

    NSURL *url=[NSURL URLWithString:path];
    NSLog(@"hiii---%@",url);
    ASIFormDataRequest *request=[ASIFormDataRequest requestWithURL:url];
    [request setRequestMethod:@"POST"];
    [request setDelegate:self];
    [request startAsynchronous];
    [drkSignUp showWithMessage:nil];
    NSLog(@" Complet--------------- "); 
```

对于我称之为请求方法的请求方法。

```
- (void)requestFinished:(ASIHTTPRequest *)request {

    //NSLog(@"%@",[request responseString]);

    NSString *func = [self getFunc:[request url]];

    NSLog(@"%@\n%@",func,[request responseString]);

 if ([func isEqual:@"json?address=%@&sensor=false"]) 
            {
                NSDictionary *resDict = [parser objectWithString:[request responseString] error:nil];
                NSLog(@"---- ResData%@",resDict);
                NSString *result = [resDict objectForKey:@"successful"];
                NSLog(@"hiiiii google api calling............");

                [drkSignUp hide];
                [self.delegate performSelector:searchviews withObject:[resDict objectForKey:@"results"]]; 
```

就是这样，但问题在乐趣中产生。当我打电话时

```
if ([func isEqual:@"json?address=%@&sensor=false"]) 
```

它不是调用 cos 而是动态字符串。那么我应该在 func 中放置什么来代替 %@ ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:56:52.817

您可以填写如下的 userInfo`ASIFormDataRequest`字典

```
//After this line
ASIFormDataRequest *request=[ASIFormDataRequest requestWithURL:url];
//Add 
request.userInfo = [NSDictionary dictionaryWithObject:@"EditString" forKey:@"request"]; 
```

然后在

```
- (void)requestFinished:(ASIHTTPRequest *)request {
    //Get the request userInfo
    NSString *str = [request.userInfo objectForKey:@"request"];
    //now fill the request string
    NSString *requestString = [NSString stringWithFormat:@"json?address=%@&sensor=false", str];
    //Check it with func
    if ([func isEqual:requestString]) 
    {
        //Continue your procedure
    }
} 
```

# android - AsyncTask 运行 5 次然后不运行 doInBackground 方法

> ID：11077495
> 
> 赞同：0
> 
> 时间：2012-06-18T05:48:39.673
> 
> 标签：android, android-asynctask

单击按钮调用此方法：

```
private void goRegister(final boolean isUsername) {
    new Loading.LoadTast(ctx) {

        @Override
        protected String doInBackground(Integer... params) {
            Looper.prepare();
            String msg=doRegister(isUsername);
            closeProgressDialog();
            if(msg == null || msg.length() == 0) {
                SmartNgApplication.getInstance().exit();
            } else {
                BaseHelper.showToast(ctx, msg);
            }
            Looper.loop();
            return null;
        }

    }.execute();
} 
```

这是 LoadTast 类：

```
public abstract static class LoadTast extends AsyncTask &lt;Integer, Integer, String &gt; {

    private ProgressDialog progressDialog;

    private Context ctx;

    public LoadTast(Context ctx) {
        this.ctx=ctx;
    }

    protected abstract String doInBackground(Integer... params);

    public void onPreExecute() {
        super.onPreExecute();
        progressDialog=ProgressDialog.show(ctx, "", "loading...", true, false);
    }

    public void onPostExecute(String result) {
        super.onPostExecute(result);
        progressDialog.dismiss();
        BaseHelper.showToast(ctx, result);
    }

    public void closeProgressDialog() {
        if(progressDialog != null) {
            progressDialog.dismiss();
        }
    }
} 
```

我的程序是：当我点击 5 次按钮时不调用`doInbackground`方法并且屏幕总是运行加载。我猜代码是 run`onPreExecute`而不是 run `doInbackground`。为什么？？在`AsyncTask`有一个线程池，`CORE_POOL_SIZE=5`. 程序如何解决，帮帮我，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:58:44.363

asyncTask 不应该多次运行它的 doInBackground ，也不应该是一个循环线程。

asyncTask 应该是你一次性运行的东西，你只能假设如果多个 asyncTask 已经执行，至少有一个会同时运行。

我注意到的另一件事：您`closeProgressDialog`从内部调用`doInBackground`，但这是一个与 UI 相关的操作，而在`doInBackground`非 UI 线程上运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T20:01:39.813

我自己也遇到过这个问题。我通过执行`AsyncTasks`in解决了它`thread pool`，而不是`serial`.

为此，您必须像这样调用 AsyncTasks：

```
YourAsyncTask task = new YourAsyncTask();
task.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR); 
```

那应该可以解决您遇到的问题。

# java - Java：无法为对象堆保留足够的空间

> ID：11077501
> 
> 赞同：6
> 
> 时间：2012-06-18T05:49:45.727
> 
> 标签：java

我正在尝试使用以下代码行将 2 gigs 的 ram 分配给从 bat 文件启动的 java 应用程序：

```
 @echo off
    "%ProgramFiles(x86)%\Java\jre6\bin\java.exe" -Xmx2G -Xms1G -jar craftbukkit-1.2.5-R4.0.jar
    pause 
```

但是，当我尝试像这样运行它时，它会吐出一条错误消息：

```
 Error occurred during initialization of VM
    Could not reserve enough space for object heap
    Could not create teh Java virtual machine
    Press any key to continue . . . 
```

我目前在我的计算机中有 8 gig 的 ram，我知道我一直最多使用 3 gig（我让计算机大部分时间只运行这个服务器文件）。我有 2x4gig 的 ram 棒，所以我知道它没有分开，而且我知道我有足够的空闲 ram 来分配，为什么它不让我分配呢？我能够分配 1536M（1.5 gigs）及以下，但如果我跳到 2G，它会给我这个错误。任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T05:57:11.187

您应确保您使用的是 64 位版本的 java - 32 位版本即使在 64 位 Windows 上也无法分配那么多

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-31T11:46:39.020

你只需要为tomcat提供更多空间。为此，您必须转到“bin”中的tomcat目录而不是转到setenv.bat文件，然后增加“MaxPermSize = 256m”的大小512m就足够了

# php - 隐藏abc之间的文本- 删除“abc”

> ID：11077503
> 
> 赞同：-3
> 
> 时间：2012-06-18T05:49:47.943
> 
> 标签：php, javascript, jquery

我有一个标签标签，我想删除之间的文本 `<label> </label>`

**我的字符串（html代码）是**

```
<label style="cursor: pointer; " for="31">
<img src="/joomla_1.7/images/stories/virtuemart/product/resized/black4_90x90.png" alt="the"/>
<span class="vm-img-desc" style="display: none; ">the</span>
$12.93
</label> 
```

我想删除`$12.93`，我只想图像和跨度`<label> </label>`标记

我正在使用`php`和`jQuery`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T05:57:12.147

对于这种特定情况只是为了删除`$12.95`你可以做

```
$('label').contents().last().remove(); 
```

演示：http: [//jsfiddle.net/joycse06/gFgF3/](http://jsfiddle.net/joycse06/gFgF3/)

阅读更多关于[.contents()](http://api.jquery.com/contents/)

As it's not inside any tag it's a `textNode` `.contents()` returns all child elements including textnodes and in this case `$12.95 textNode` is the last child of label, So it will just remove that text( Price in this case).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:52:45.143

```
empty() 
```

但是您应该为此确定您的跨度或使用 css 选择器:) [http://api.jquery.com/empty/](http://api.jquery.com/empty/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T05:53:03.307

给你的标签一些类或id，我喜欢这个吗

```
$('#labelid').text('');
OR
$('.labelclass').text(''); 
```

# c# - 如何使用内联查询在 SQL Server 中插入 unicode 字符

> ID：11077507
> 
> 赞同：0
> 
> 时间：2012-06-18T05:50:12.820
> 
> 标签：c#, asp.net, sql, sql-server, database

我在 asp.net 中使用内联查询，但问题是我现在不知道如何正确使用 N 后缀请指导....

```
 cn.Open();
    SqlCommand cmd = new SqlCommand("insert into newsactivity VALUES(@newstitle, @newsdetails ,@dated,@type)",cn);
    cmd.Parameters.AddWithValue("@newstitle",txtnewstitle.Text);
    cmd.Parameters.AddWithValue("@newsdetails",N'txtnewsdetails.Text'); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T05:59:42.473

应该说够了

```
cmd.Parameters.AddWithValue("@newsdetails", txtnewsdetails.Text); 
```

编辑：如果失败，那么这应该工作：

```
cmd.Parameters.Add("@newsdetails", SqlDbType.NVarChar, 1024).Value = txtnewsdetails.Text; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T05:57:37.060

你不需要。.NET 字符串已经是 unicode。N 只是告诉查询分析器*N*之后的字符串文字是 Unicode。

例如

```
cmd.Parameters.AddWithValue("@newsdetails","मैं stackoverflow प्यार है"); 
```

只需确保表中的`newsdetails`字段`newsactivity`是`NVARCHAR(..)`

**编辑** 这很奇怪。可能 AddWithValue 没有正确推断出参数的类型。您可以明确指定它：

```
SqlParameter param = cmd.Parameters.AddWithValue("@newsdetails",txtnewsdetails.Text);
param.SqlDbType = SqlDbType.NVarChar; 
```

明确指定类型和长度的另一个好理由是，如果您在 WHERE 子句过滤器中使用参数。请参阅[不带 DBType 的 AddWithValue 导致查询运行缓慢](https://stackoverflow.com/questions/345323/addwithvalue-without-dbtype-causing-queries-to-run-slowly)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T06:30:08.873

`SqlDbType.NVarChar`在您的参数中使用。

# visual-c++ - 自定义构建步骤的“TEMP”文件夹在哪里？

> ID：11077512
> 
> 赞同：0
> 
> 时间：2012-06-18T05:50:27.910
> 
> 标签：visual-c++, batch-file, custom-build-step

Visual Studio 2010，在我的项目中，我做了一个自定义构建步骤，重命名一个 dll 文件并将其复制到其他文件夹。所以，Alt+F7，Config props，Custom Build Step / General，命令行：

```
 copy /y $(TargetPath) $(TargetName).node 
```

它什么也没做。然后我还添加了

```
 ping bat.femei.ro -n 1 -w 5000 
```

它仍然没有做任何事情。它只是闪现一个命令提示符窗口一瞬间然后窗口消失了。我尽可能多地搜索，得出的结论是生成批处理文件的文件夹可能存在问题。

我尽我所能用命令提示符截取那一瞬间，在无聊的 F7-PrintScreen-PasteInPaint 会话之后，我终于得到了

`C:\Users\FURAT\AppData\Local\Temp\blablablablablablablablabla.exec.cmd is not recognized as internal or external...`

我仔细检查了目录。它的`Everyone`权限设置为允许读取和写入操作。怎么了？我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T09:08:59.563

我找不到任何旋钮来调整临时文件夹路径。它不是 Env，也不在配置中。

然而，真正起作用的是以管理员身份运行 VS2010。现在自定义构建步骤有效。

# mysql - MySQL 用值更新外键

> ID：11077521
> 
> 赞同：0
> 
> 时间：2012-06-18T05:51:28.153
> 
> 标签：mysql

我有两张桌子：

```
ANIMALS
---------
id
name
specie_name
id_specie

SCPECIE
---------
id
specie_name 
```

在动物表中，我有除 id_specie 之外的所有值。如何通过比较两个表中的 specie_name 来更新动物中的行以从表 Specie 中获取 id？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T05:55:53.630

连接两个表。试试这个：

```
UPDATE Animals a INNER JOIN SPECIE b
        on a.specie_name =  b.specie_name
SET    a.id_specie = b.id 
```

**[以供参考](http://blog.ookamikun.com/2008/03/mysql-update-with-join.html)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T06:00:18.073

`UPDATE ANIMALS SET id_specie = (SELECT id FROM SPECIE WHERE specie_name = ANIMALS.specie_name)`

# perl - 在 perl 中创建一个表

> ID：11077522
> 
> 赞同：0
> 
> 时间：2012-06-18T05:51:48.097
> 
> 标签：perl, selenium-rc

```
use Text::Table; 
my $tb = Text::Table->new(“Planet”,”Radius\nkm”,”Density\ng/cm^3”);
$tb->load(
[ “Mercury”,2360,3.7],
[ “Mercury”,2360,3.7],
[ “Mercury”,2360,3.7],
);
Print $tb; 
```

我正在执行上面的 perl 片段来创建包含数据的表。但我收到一个错误

```
Can't locate Text/Table.pm in @INC (@INC contains: C:/Perl64/site/lib C:/Perl64/
lib .) at table.pl line 1.
BEGIN failed--compilation aborted at table.pl line 1. 
```

我正在使用 Activeperl，Selenium RC。我是否需要为该表下载任何软件包？或除此之外创建表格的任何其他更好的方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T05:56:25.827

Perl 找不到模块的最常见原因是它没有安装。尝试

```
ppm install Text::Table 
```

或者如果失败了，

```
cpan Text::Table 
```

* * *

请注意，您的代码无效。您尝试使用

```
“, U+201C, LEFT DOUBLE QUOTATION MARK, and
“, U+201D, RIGHT DOUBLE QUOTATION MARK 
```

但您需要使用的引号字符是

```
", U+0022, QUOTATION MARK 
```

# jquery - jQuery附加属性内容

> ID：11077523
> 
> 赞同：0
> 
> 时间：2012-06-18T05:51:48.447
> 
> 标签：jquery

我正在创建一个使用 html 属性以交互方式显示链接信息的系统，并使用 jQuery 来移动一些 HTML。我被困在试图将标题属性附加到 div 中。我从来没有用属性做到这一点，并且正在撞墙。

这很难解释，但是当你看到 JS 时，你就会明白我在追求什么。 [http://jsfiddle.net/KvAwa/](http://jsfiddle.net/KvAwa/)

感谢您提前提供任何帮助

的HTML

```
<div id="navtool">
    <ul id="menu">
        <li id="1">
            <a href="location1.html" title="this is the decription1">This is the link1</a>
        </li>
        <li id="2">
            <a href="location2.html" title="this is the decription2">This is the link2</a>
        </li>
        <li id="3">
            <a href="location3.html" title="this is the decription3">This is the link3</a>
        </li>
    </ul>
</div>
<a href="#" class="prev nav">prev</a>
<a href="#" class="next nav">next</a>
<div id="linkdesciption"></div>
<a href="#" id="execute">Execute link</a>​ 
```

JS

```
// Cycles Menu   
$('#menu > li:first').addClass('active');
$('.next').click(function(){
    $('.active').next().addClass('active').prev().removeClass('active');        
    $('#menu > li:last').after($('#menu > li:first'));
});
$('.prev').click(function(){
    $('.active').prev().addClass('active').next().removeClass('active');
    $('#menu > li:first').before($('#menu > li:last'));
});

// Collects the link  
var executeLink = $('#menu > li.active > a').attr("href");
$('#execute').attr("href", executeLink); 
$('#execute').click(function(){
   alert(executeLink);
});

// Collects title and inject into description
$('.nav').click(function(){
    var description = $('.active > a').attr('title'); 
    $(description).appendTo('#linkdesciption');
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T05:57:35.327

如果我理解正确，试试这个小提琴：http: [//jsfiddle.net/arvind07/KvAwa/1/](http://jsfiddle.net/arvind07/KvAwa/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:58:06.777

我*认为*该代码的相关部分是：

```
$('.nav').click(function(){
    var description = $('.active > a').attr('title'); 
    $(description).appendTo('#linkdesciption');
}); 
```

你想扭转局面：

```
$('.nav').click(function(){
    var description = $('.active > a').attr('title'); 
    $('#linkdesciption').append(description);
}); 
```

[更新的小提琴](http://jsfiddle.net/KvAwa/2/)

或者，如果您想用新的链接标题*替换*以前的链接标题，请使用`html`or`text`而不是`append`：

```
$('.nav').click(function(){
    var description = $('.active > a').attr('title'); 
    $('#linkdesciption').text(description);
}); 
```

[更新的小提琴](http://jsfiddle.net/KvAwa/3/)

# android - 如何更改 Android 中 DatePicker 和 TimePicker 对话框的默认颜色？

> ID：11077530
> 
> 赞同：33
> 
> 时间：2012-06-18T05:52:06.627
> 
> 标签：android, android-layout, datepicker, timepicker

有什么办法可以改变对话框`DatePicker`的默认颜色吗？`TimePicker`

这是我试过的代码

```
<DatePicker
                    style="@style/date_picker"
                    android:background="#6495ED"
                    android:id="@+id/DatePicker"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="5dp"
                    android:layout_marginBottom="5dp"
                    android:layout_marginLeft="5dip"
                    android:layout_marginRight="5dip" />

<TimePicker
                    android:id="@+id/TimePicker"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="5dp"
                    android:layout_marginBottom="5dp"
                    android:layout_marginLeft="5dip"
                    android:layout_marginRight="5dip" /> 
```

* * *

下面两行只更改背景颜色，我想更改日期和时间选择器的默认银色。
请提供任何帮助。

```
style="@style/date_picker"
android:background="#6495ED" 
```

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2016-09-09T08:43:35.930

更改选择器对话框的最佳方法是为其添加自定义样式。

```
<style name="TimePickerTheme" parent="Theme.AppCompat.Light.Dialog">
    <item name="colorAccent">@color/color_primary</item>
    <item name="android:layout_width">wrap_content</item>
    <item name="android:layout_height">wrap_content</item>
</style>

TimePickerDialog timePicker = new TimePickerDialog(mContext, R.style.TimePickerTheme, fromListener, hour, min, false); 
```

非常适合我。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-12-03T11:41:41.730

You have to create a custom theme and save it in some directories to finally set this theme as the default one for the app

First, in values add a themes.xml like this:

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="MyAppTheme" parent="@android:style/Theme.Light.NoTitleBar">
        <!-- Any customizations for your app running on pre-3.0 devices here -->
    </style>
</resources> 
```

Then, create a directory with the name "values-v11" (Android 3.0+ ) in the res directory and put a themes.xml like this

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="MyAppTheme" parent="@android:style/Theme.Holo.Light">
        <!-- Any customizations for your app running on 3.0+ devices here -->
    </style>
</resources> 
```

Finally, create a directory with the name "values-v14" (Android 4.0+) in the res directory and create a themes.xml

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="MyAppTheme" parent="@android:style/Theme.DeviceDefault.Light.NoActionBar">
        <!-- Any customizations for your app running on 4.0+ devices here -->
    </style>
</resources> 
```

Finally in your manifest.xml

```
<application
        ...
        android:theme="@style/MyAppTheme"> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-12-09T08:28:49.503

您可以通过像这样更改主题来更改日期选择器的主题。

根据您更改项目。

```
<style name="date_picker" parent="@android:style/Widget.DeviceDefault.DatePicker">
<item name="android:divider">@drawable/dialog_divider</item> 
```

根据您更改项目。并将此主题设置为您的数据选择器样式

```
style="@style/date_picker" 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-12-08T14:16:27.623

我认为没有办法在 XML 中轻松更改旧的原生选取器小部件的灰色。

我建议你使用[HoloEverywhere](https://github.com/Prototik/HoloEverywhere)库，这样 DatePicker 和 TimePicker 在所有 Android 平台 2.1+ 上看起来都非常好。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2018-12-19T22:19:23.467

对于日期选择器，将此代码添加到 color.xml

```
 <color name="mdtp_accent_color">#070B82</color>
  <color name="mdtp_accent_color_dark">#0D105E</color> 
```

对于两者，您都可以在 style.xml 中定义样式

```
 <style name="TimePickerTheme" parent="Theme.AppCompat.Light.Dialog">
    <item name="colorPrimary">@color/colorPrimary</item>
    <item name="colorPrimaryDark">@color/colorPrimaryDark</item>
    <item name="colorAccent">@color/blue</item>
</style> 
```

并在 xml 中设置样式：

```
 android:theme="@style/MyAppTheme" 
```

或以编程方式：

TimePickerDialog timePicker = new TimePickerDialog(mContext, R.style.TimePickerTheme, fromListener, hour, min, false);

# asp.net - 中继器中的 ASP.NET RadioButtonList？

> ID：11077534
> 
> 赞同：3
> 
> 时间：2012-06-18T05:52:57.043
> 
> 标签：asp.net, repeater, checkboxlist, radiobuttonlist

.aspx 文件：

```
<asp:Repeater ID="Repeater_sorular" runat="server">
   <HeaderTemplate>
   </HeaderTemplate>
   <ItemTemplate>
      <div class="div_soru">
         <div class="div_soru_wrapper">
             <%#Eval("Subject")%>
             <asp:RadioButtonList ID="RadioButtonList_secenekler" runat="server" Visible='<%# Eval("TypeId").ToString() == "1" %>'
                DataSource='<%#Eval("Secenekler")%>' DataTextField='<%#Eval("OptionName")%>' DataValueField='<%#Eval("OptionId")%>'>
             </asp:RadioButtonList>
             <asp:CheckBoxList ID="CheckBoxList_secenekler" runat="server" Visible='<%# Eval("TypeId").ToString() == "2" %>'
                DataSource='<%#Eval("Secenekler")%>' DataTextField='<%#Eval("OptionName")%>' DataValueField='<%#Eval("OptionId")%>'>
             </asp:CheckBoxList>
         </div>
      </div>
   </ItemTemplate>
   <FooterTemplate>
   </FooterTemplate>
</asp:Repeater> 
```

和代码隐藏：

```
SpAnketDataContext db = new SpAnketDataContext();

protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
        BindRepeaterSorular();
    }
}

protected void ImageButton_kaydet_OnCommand(object source, CommandEventArgs e)
{

}

private void BindRepeaterSorular()
{
    int anket_id = 3;

    var sorular = from soru in db.TableSurveyQuestions
                  where soru.SurveyId == anket_id
                  select new
                  {
                      soru.TypeId,
                      soru.Subject,
                      soru.QuestionId,
                      soru.SurveyId,
                      soru.QueueNo,
                      SurveyTitle = soru.TableSurvey.Title,
                      TypeName = soru.TableSurveyQuestionType.TypeName,

                      Secenekler = from secenekler in soru.TableSurveyOptions
                                   select new
                                   {
                                       secenekler.OptionId,
                                       secenekler.OptionName,
                                       secenekler.QuestionId,
                                   }
                  };

    Repeater_sorular.DataSource = sorular;
    Repeater_sorular.DataBind();
} 
```

我的问题：

我无法绑定 datavaluefield 和 datatextfiled。如果我按照上面的定义写。我得到了这个错误。

```
DataBinding: '<>f__AnonymousType1`8[[System.Nullable`1[[System.Int32, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]], mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089],[System.String, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089],[System.Int32, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089],[System.Nullable`1[[System.Int32, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]], mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089],[System.Nullable`1[[System.Int32, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]], mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089],[System.String, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089],[System.String, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousT...' does not contain a property with the name 'OptionName'. 
```

如何绑定值和文本。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:12:14.167

该错误清楚地解释了自己：

```
does not contain a property with the name 'OptionName' 
```

只需更改它（在两者中，您的`RadioButtonList`和声明`CheckBoxList`）：

```
DataTextField='<%#Eval("OptionName")%>' DataValueField='<%#Eval("OptionId")%>' 
```

到：

```
DataTextField="OptionName" DataValueField="OptionId" 
```

就是这样，您不需要评估绑定，只需指定属性的名称。您的其余代码看起来不错

# 已编辑

根据要求，从以下位置获取所选项目`RadioButtonList`：

```
<asp:GridView runat="server" OnRowCommand="grdProducts_RowCommand" ID="grdProducts">
    <Columns>
        <asp:TemplateField ShowHeader="False">
            <ItemTemplate>
                <asp:LinkButton ID="LinkButton1" runat="server" CausesValidation="false" 
                    CommandName="myLink" CommandArgument='<%# DataBinder.Eval(Container, "RowIndex") %>' Text="Button"></asp:LinkButton>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField>
            <ItemTemplate>
                <asp:RadioButtonList DataTextField="NestedValue" DataValueField="ID" runat="server" DataSource='<%# Eval("Nested") %>' ID="radios">
                </asp:RadioButtonList>
            </ItemTemplate>
        </asp:TemplateField>
    </Columns>
</asp:GridView>

<asp:Label runat="server" ID="lblMessage" /> 
```

后面的代码：

```
 protected void grdProducts_RowCommand(object sender, GridViewCommandEventArgs e)
    {
        switch (e.CommandName)
        {
            case "myLink":
                var row = this.grdProducts.Rows[int.Parse(e.CommandArgument.ToString())];
                var radios = row.FindControl("radios") as RadioButtonList;
                this.lblMessage.Text += "<br/>" + radios.UniqueID;
                this.lblMessage.Text += "<br/> dedede " + radios.SelectedValue;
                break;
        }
    } 
```

# jquery - Jquery 使用 Struts2 UI 标签选择框值

> ID：11077536
> 
> 赞同：0
> 
> 时间：2012-06-18T05:53:12.687
> 
> 标签：jquery, struts2, jquery-selectbox

在一个 jsp 页面中，我有一个选择输入，它从 Struts2 操作中获取值，并且我正在使用 Struts2 迭代器标记来获取这些值。

```
<select id="package-type-input" name="packageTypeId">
    <gs:iterator var="package" value="" id="test-iterator">
       <option value='<gs:property value="#package.id"/>'  
       <gs:property value="#package.packagename"/></option>
    </gs:iterator>
</select> 
```

我从 struts2 操作中获取值作为 List packagesList。我正在尝试使用以下行将这些值添加到迭代器中。但它不工作

```
$("#test-iterator").val(packageList). 
```

ajax 调用是

```
_getAccountDetails: function () {
    var self = this;
    var organizationId = self.id;
    $.ajax({
        type: "POST",
        url: self.url.getOrgPackageDetails,
        dataType: 'json',
        traditional: true,
        data: "organizationId=" + organizationId,
        success: function (response) {
            self._setData(response.data,response.packageList);
        },
        error: function (response) {}
    });
}, 
```

response.packageList 是 java Array 列表的 jsonified 形式。setData 方法将 response.data 中的数据设置到其各自的字段中。

```
_setData: function (data, packageList) {
    var self = this;
    self.dom.currentPackageType.val(data.CurrentPackage);
    self.dom.currentUsersLimit.val(data.Users);
    self.dom.currentEntityLimit.val(data.Entities);
    self.dom.CurrentRenewalDate.val(moment(data.RenewDate).calendar());
    self.dom.currentQEntityLimit.val(data.QEntity);
    self._bindGUIEvents()
}, 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T09:51:13.590

您可以使用 s2 select 标签轻松完成，此处不需要迭代器标签

```
<gs:select
       id="package-type-input" 
       name="packageTypeId"
       list="packageList"
       listKey="id"
       listValue="packagename"
/> 
```

看一下[选择标签说明](http://struts.apache.org/2.x/docs/select.html)

此外，如有疑问，请遵循[标签参考。](http://struts.apache.org/2.x/docs/tag-reference.html)

至于您编辑的帖子：在您的`_setData`功能中

```
$.each(packageList, function(i,package){
    var option = $("<option value="+package.id+">"+package.packagename+"</option>");
    $("#package-type-input").append(option);
}); 
```

# knockout.js - KnockoutJs，第三方模板库，JsRender

> ID：11077539
> 
> 赞同：2
> 
> 时间：2012-06-18T05:53:20.477
> 
> 标签：knockout.js, jsrender

Knockout 是否与最新的 JsRender 版本兼容`template binding`？

//丹尼尔

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T13:07:09.957

Knockout 的模板目前与 jsRender 不兼容。

如果您有兴趣尝试的话，我在[这里](http://jsfiddle.net/rniemeyer/MvCjB/)尝试了一个 jsRender 模板引擎。

# jquery - 默认情况下使用 jquery 隐藏子菜单，单击子菜单后显示和隐藏

> ID：11077546
> 
> 赞同：1
> 
> 时间：2012-06-18T05:53:57.380
> 
> 标签：jquery

这是我的 html 代码

```
<ul class="list">
    <li class="pagenav">
    <a title="Government" href="#">Government</a>
        <ul>
            <li class="page_item page-item-14"><a href="#">Code of Ordinances</a></li>
            <li class="page_item page-item-5267"><a href="#">Finance</a>
                <ul class="children">
                    <li class="page_item page-item-16"><a href="#">Fiscal Year</a></li>
                    <li class="page_item page-item-5280"><a href="#">Comprehensive</a></li>
                </ul>
            </li>
            <li class="page_item page-item-5267"><a href="#">Finance year</a>
                <ul class="children">
                    <li class="page_item page-item-16"><a href="#">Year</a></li>
                    <li class="page_item page-item-5280"><a href="#">Comprehensive year</a></li>
                </ul>
            </li>
        </ul>
    </li>
</ul> 
```

**默认显示这样**

```
Government

Code of Ordinances

Finance

Finance year 
```

**然后点击像这样的金融节目**

```
Government

Code of Ordinances

Finance

Fiscal Year

Comprehensive

Finance year 
```

我的意思是说我想默认隐藏财务和财务年度的子菜单，然后单击财务和财务年度该时间子菜单显示和隐藏

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:05:46.760

```
$('.page_item .children').hide(0);

$('.page_item').click(function(){
  if($('.children').hasClass('vis')){
    $('.children', this).removeClass('vis');
    $('.children', this).hide();       
  }else{
    $('.children', this).addClass('vis');
    $('.children', this).show();
  }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:04:41.753

```
<style>
  li.pageitem ul.children {
  display:none;
}
</style>

<script>
$('li.pageitem').click(function(){
  $(this).find('ul.children').toggle();
});
</script> 
```

# javascript - 如何在 JSP 页面中使用 Javascript 读取下拉值

> ID：11077552
> 
> 赞同：0
> 
> 时间：2012-06-18T05:55:40.743
> 
> 标签：javascript, jsp

我想知道如何从 JSP 中读取 DropDown 列表值。下面是我的 JSP 的代码。

```
 <fieldset>
   <s:form theme="simple" enctype="multipart/form-data"  name="uploadDocument" method="POST" action="?">
   <table>
   <tr>
   <td wrap>Select The Type of Letter to Upload:</td><td><s:select id="letters" list="letterList" name="ListofLetters" headerKey="-1" headerValue="--Select The Letter Type--"/></td>
    <tr>
    <td nowrap ><s:file name="userFile" label="userFile" size="25" id="upload" /></td>
    <td  class="button-blue"><s:submit action="Upload" value="Attach File" onclick=" return validateFile()"/></td>
    </tr>
    </table>
    </s:form>
    </fieldset> 
```

从数据库动态填充列表的位置。我想知道如何获取 Dropdownlist 值而不是键。因为当我使用

```
document.getElementById('letters').value 
```

它返回我的键值，如“0,1,2 等”我怎样才能获得与单个键关联的值，以便我可以执行正确的检查。提前致谢 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:02:45.593

使用它来获取当前选择的选项的文本：

```
var sel = document.getElementById('letters');
var selText = sel.options[sel.selectedIndex].text; 
```

[**小提琴**](http://jsfiddle.net/ult_combo/3M9qV/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T06:04:08.427

```
document.getElementById('letters').value; // returns the value ie 1 / 2 / 3 etc

var dropdown=document.getElementById('letters');
dropdown.options[dropdown.selectedIndex].text; // returns the text 
```

希望这可以帮助。

# c# - 单独装配和路由中的控制器

> ID：11077554
> 
> 赞同：38
> 
> 时间：2012-06-18T05:55:43.563
> 
> 标签：c#, asp.net, .net, asp.net-mvc

在同一个解决方案中，还有一个 ASP.NET MVC4 应用程序`Slick.App`和类库`Awesome.Mvc.Lib`。Awesome.Mvc.Lib 包含一个控制器类。

```
public class ShinnyController : Controller
{
    [HttpGet]
    public string Index()
    {
        return "Hello, from Awesome.Mvc.Lib";
    }
} 
```

如果我只是将 Slick.App 的引用添加到 Awesome.Mvc.Lib，运行应用程序并将浏览器指向`/shinny`，我实际上会看到响应“你好，来自 Awesome.Mvc.Lib”。

这是我完全没想到的。我一直认为 ASP.NET MVC 尊重放置控制器的命名空间。因此，来自另一个命名空间的控制器没有暴露，至少在我没有要求之前。

我试图更改默认路由注册，以使用命名空间参数。

```
 routes.MapRoute(
        name: "Default",
        url: "{controller}/{action}/{id}",
        defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional },
        namespaces: new [] { "Slick.App.Controllers" }
    ); 
```

尽管如此，ShinnyController 路由仍然匹配 '/shinny'。

我担心这是正确的默认行为。我的问题是，如何明确说明暴露了哪些控制器并防止默认路由匹配单独的类库中的控制器？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-06-18T08:32:22.473

路由上的命名空间列表仅将某些命名空间***优先***于其他未列出的命名空间：

```
new [] {"Namespace1", "Namespace2"} 
```

没有像人们期望的那样给予 Namespace1 更高的优先级，而只是将两个命名空间优先于其他命名空间。

这意味着首先在列表中的命名空间中搜索控制器，然后，如果未找到匹配项，则使用具有该名称的其余可用控制器。

您可以通过执行以下操作来禁止使用非优先控制器：

```
var myRoute  = routes.MapRoute(
        name: "Default",
        url: "{controller}/{action}/{id}",
        defaults: new { controller = "Home", action = "Index", id = UrlParameter.Optional },
        namespaces: new [] { "Slick.App.Controllers" }
    );

myRoute.DataTokens["UseNamespaceFallback"] = false; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-25T16:41:06.463

您可以像这样从 DefaultControllerFactory 继承：

```
public class CustomControllerFactory : DefaultControllerFactory
{
    protected override Type GetControllerType(System.Web.Routing.RequestContext requestContext, string controllerName)
    {
        var type = base.GetControllerType(requestContext, controllerName);

        if (type != null && IsIngored(type))
        {
            return null;
        }

        return type;
    }

    public static bool IsIngored(Type type)
    {
        return type.Assembly.GetCustomAttributes(typeof(IgnoreAssemblyAttribute), false).Any() 
            || type.GetCustomAttributes(typeof(IgnoreControllerAttribute), false).Any();
    }
} 
```

然后对 Global.asax 进行一些更改

```
 protected void Application_Start()
    {
        AreaRegistration.RegisterAllAreas();

        RegisterGlobalFilters(GlobalFilters.Filters);
        RegisterRoutes(RouteTable.Routes);

        ControllerBuilder.Current.SetControllerFactory(new CustomControllerFactory());
    } 
```

你在这里！任何标有 IgnoreControllerAttribute 的类型都将不可见。您甚至可以隐藏整个程序集。

如果您需要一些基于配置的行为，那么进行所有必要的更改并不是一件大事；）

# jquery - JQuery：将选择框值分配给输入字段

> ID：11077558
> 
> 赞同：1
> 
> 时间：2012-06-18T05:56:05.907
> 
> 标签：jquery, forms, input

我想将选择框中的值分配给输入字段（只读）...

从选择框中选择项目时，如何自动填充此输入字段？？？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-18T06:25:09.197

简单，使用“选择”事件并填充文本框

试试这个，[演示 - 点击这里](http://jsfiddle.net/PbjLV/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T05:58:03.860

```
$('select[name=cars]').change(function()
{
   $('input[name=selected-cars]').val($(this).find('option:selected').html()) // text
   $('input[name=selected-cars]').val($(this).val()) // value
}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T06:19:34.833

你可以试试这个

```
$('#selectoption ').change(function(){
    $("input[type='text']").val($("#selectoption option:selected").val());
}); 
```

您可以用特定的输入字段替换 here(input[type='text']) ...

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T06:08:20.953

尝试：

```
$("YourSelectBoxIDOrClass").live("change", function() {
var SelectedValue=$("YourSelectBoxIDOrClass option:selected").text();
 $('#YourTextBoxID').val(SelectedValue).attr('readOnly', 'true');

}); 
```

我使用的是 jQuery 1.4，所以我使用`live`.As 从 jQuery 1.7 开始，不推荐使用 .live() 方法。所以如果你想使用.on()。详情：
[http ://api.jquery.com/live/](http://api.jquery.com/live/)

# android - 为什么我会收到更新线程空指针异常 (Android AndEngine)？

> ID：11077560
> 
> 赞同：4
> 
> 时间：2012-06-18T05:56:15.267
> 
> 标签：android, nullpointerexception, andengine, modifier

我是新手`AndEngine`，正在*尝试让精灵在触摸时增加尺寸*。它有点工作，但有时会突然出现这个错误。有任何想法吗？在这一点上，我只需要足够的文字，所以 SO 会让我发布我的问题。如果有人需要更多信息，请告诉我，我会发布。我对想法非常开放。如果您有更好的方法或发现我的代码有问题，请告诉我。在这一点上，物理世界甚至不起作用。

```
06-17 22:44:25.809: E/AndroidRuntime(20526): FATAL EXCEPTION: UpdateThread
06-17 22:44:25.809: E/AndroidRuntime(20526): java.lang.NullPointerException
06-17 22:44:25.809: E/AndroidRuntime(20526):    at org.andengine.util.modifier.ModifierList.onUpdate(ModifierList.java:66)
06-17 22:44:25.809: E/AndroidRuntime(20526):    at org.andengine.entity.Entity.onManagedUpdate(Entity.java:1392)
06-17 22:44:25.809: E/AndroidRuntime(20526):    at org.andengine.entity.Entity.onUpdate(Entity.java:1167)
06-17 22:44:25.809: E/AndroidRuntime(20526):    at org.andengine.entity.Entity.onManagedUpdate(Entity.java:1402)
06-17 22:44:25.809: E/AndroidRuntime(20526):    at org.andengine.entity.scene.Scene.onManagedUpdate(Scene.java:284)
06-17 22:44:25.809: E/AndroidRuntime(20526):    at org.andengine.entity.Entity.onUpdate(Entity.java:1167)
06-17 22:44:25.809: E/AndroidRuntime(20526):    at org.andengine.engine.Engine.onUpdateScene(Engine.java:591)
06-17 22:44:25.809: E/AndroidRuntime(20526):    at org.andengine.engine.Engine.onUpdate(Engine.java:586)
06-17 22:44:25.809: E/AndroidRuntime(20526):    at org.andengine.engine.Engine.onTickUpdate(Engine.java:548)
06-17 22:44:25.809: E/AndroidRuntime(20526):    at org.andengine.engine.Engine$UpdateThread.run(Engine.java:820) 
```

这是我的代码：

```
public class TestGFX2Activity extends SimpleBaseGameActivity implements IAccelerationListener, IOnSceneTouchListener {
/** Called when the activity is first created. */

    private static final int CAMERA_WIDTH = 720;
    private static final int CAMERA_HEIGHT = 480;
    private final FixtureDef FIXTURE_DEF = PhysicsFactory.createFixtureDef(1, 0.5f, 0.5f);
    private BitmapTextureAtlas mBitmapTextureAtlas;
    private TextureRegion circleTR;
    private Scene scene;
    boolean down=false;
    float scale;
    final float growRate = (float) .0001;

    private PhysicsWorld mPhysicsWorld;

    @Override
    public EngineOptions onCreateEngineOptions() {
        final Camera camera = new Camera(0, 0, CAMERA_WIDTH, CAMERA_HEIGHT);
        return new EngineOptions(true, ScreenOrientation.LANDSCAPE_FIXED, new RatioResolutionPolicy(CAMERA_WIDTH, CAMERA_HEIGHT), camera);
    }

    @Override
    public void onCreateResources() {

    /*Line 66*/ this.mBitmapTextureAtlas = new BitmapTextureAtlas(this.getTextureManager(), 64, 128, TextureOptions.BILINEAR); //Line 66
        this.circleTR = BitmapTextureAtlasTextureRegionFactory.createFromAsset(this.mBitmapTextureAtlas, this, "circle.png", 0, 0); // 64x32

        this.mBitmapTextureAtlas.load();
    }

    @Override
    public Scene onCreateScene() {
        this.mEngine.registerUpdateHandler(new FPSLogger());

        this.scene = new Scene();
        this.scene.setBackground(new Background(0, 1, 0));
        Log.e("Tag","Got to background");
        this.scene.setOnSceneTouchListener(this);

        this.mPhysicsWorld = new PhysicsWorld(new Vector2(0, SensorManager.GRAVITY_EARTH), false);

        final VertexBufferObjectManager vertexBufferObjectManager = this.getVertexBufferObjectManager();
        final Rectangle ground = new Rectangle(0, CAMERA_HEIGHT - 2, CAMERA_WIDTH, 2, vertexBufferObjectManager);
        final Rectangle roof = new Rectangle(0, 0, CAMERA_WIDTH, 2, vertexBufferObjectManager);
        final Rectangle left = new Rectangle(0, 0, 2, CAMERA_HEIGHT, vertexBufferObjectManager);
        final Rectangle right = new Rectangle(CAMERA_WIDTH - 2, 0, 2, CAMERA_HEIGHT, vertexBufferObjectManager);

        final FixtureDef wallFixtureDef = PhysicsFactory.createFixtureDef(0, 0.5f, 0.5f);
        PhysicsFactory.createBoxBody(this.mPhysicsWorld, ground, BodyType.StaticBody, wallFixtureDef);
        PhysicsFactory.createBoxBody(this.mPhysicsWorld, roof, BodyType.StaticBody, wallFixtureDef);
        PhysicsFactory.createBoxBody(this.mPhysicsWorld, left, BodyType.StaticBody, wallFixtureDef);
        PhysicsFactory.createBoxBody(this.mPhysicsWorld, right, BodyType.StaticBody, wallFixtureDef);

        this.scene.attachChild(ground);
        this.scene.attachChild(roof);
        this.scene.attachChild(left);
        this.scene.attachChild(right);

        this.scene.registerUpdateHandler(this.mPhysicsWorld);

        return this.scene;
    }

    @Override
    public boolean onSceneTouchEvent(final Scene pScene, final TouchEvent pSceneTouchEvent) {
        Sprite face;
        Body body;
        scale = 1;

        if(this.mPhysicsWorld != null) {
            if(pSceneTouchEvent.isActionDown()) {
                //this.addFace(pSceneTouchEvent.getX(), pSceneTouchEvent.getY());
                down = true;
                face = new Sprite(pSceneTouchEvent.getX(), pSceneTouchEvent.getY(), circleTR, this.getVertexBufferObjectManager());
                body = PhysicsFactory.createBoxBody(this.mPhysicsWorld, face, BodyType.DynamicBody, FIXTURE_DEF);

                new Thread(new Grow(face)).start();

                return true;
            } else if(pSceneTouchEvent.isActionUp()){
                down = false;
            }
        }
        return false;
    }

    @Override
    public void onAccelerationAccuracyChanged(final AccelerationData pAccelerationData) {

    }

    @Override
    public void onAccelerationChanged(final AccelerationData pAccelerationData) {
        final Vector2 gravity = Vector2Pool.obtain(pAccelerationData.getX(), pAccelerationData.getY());
        this.mPhysicsWorld.setGravity(gravity);
        Vector2Pool.recycle(gravity);
    }

    @Override
    public void onResumeGame() {
        super.onResumeGame();

        this.enableAccelerationSensor(this);
    }

    @Override
    public void onPauseGame() {
        super.onPauseGame();

        this.disableAccelerationSensor();
    }

    private class Grow implements Runnable{
        Sprite s;
        ScaleModifier mod;

        public Grow(Sprite sprite){
            s = sprite;
            scene.attachChild(s);
        }
        public void run(){
            while(down){
                //Log.e("Tag",Float.toString(scale));
                s.clearEntityModifiers();
                mod = new ScaleModifier((float) .1,scale,scale+growRate);
                scale+=growRate;
                s.registerEntityModifier(mod);
                /*s.detachSelf();
                s.setScale(scale);
                scale += growRate;
                try{
                    Thread.sleep(100);
                }catch(InterruptedException e){}
                scene.attachChild(s);*/
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T16:44:01.787

而不是在单独的线程中调用它，您可能应该调用它

```
new Grow(face)).start(); 
```

在 runOnUpdate() 块中，如

```
myActivity.runonUpdateThread(new Grow(face))); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-03T20:13:37.810

just replace

```
new Thread(new Grow(face)).start(); 
```

with

```
TestGFX2Activity.runonUpdateThread(new Grow(face))); 
```

# c++ - 这段代码是否颠覆了 C++ 类型系统？

> ID：11077566
> 
> 赞同：20
> 
> 时间：2012-06-18T05:57:07.137
> 
> 标签：c++, constants, const-correctness, pointer-aliasing

我知道`const`在 C++ 中有一个方法意味着一个对象通过该方法是只读的，但它可能仍然会改变。

然而，这段代码显然是通过`const`引用（即通过`const`方法）改变了一个对象。

这段代码在 C++ 中合法吗？

如果是这样：它是否破坏`const`了类型系统的-ness？为什么/为什么不？

如果不是：为什么不呢？

### 注意 1：我已经对示例进行了一些编辑，因此答案可能是指较旧的示例。

### 编辑 2：显然你甚至不需要 C++11，所以我删除了那个依赖。

```
#include <iostream>

using namespace std;

struct DoBadThings { int *p; void oops() const { ++*p; } };

struct BreakConst
{
    int n;
    DoBadThings bad;
    BreakConst() { n = 0; bad.p = &n; } 
    void oops() const { bad.oops(); }  // can't change itself... or can it?
};

int main()
{
    const BreakConst bc;
    cout << bc.n << endl;   // 0
    bc.oops();              // O:)
    cout << bc.n << endl;   // 1

    return 0;
} 
```

### 更新：

我已将 lambda 迁移到构造函数的初始化列表，因为这样做可以让我随后说`const BreakConst bc;`，这 - 因为`bc` *它本身*现在是 const （而不仅仅是指针） - 似乎暗示（[由 Stroustrup](https://stackoverflow.com/a/2271055/541686)）`bc`以任何方式修改构造后应该导致未定义的行为，即使构造函数和调用者在没有看到彼此的定义的情况下无法知道这一点。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-18T06:20:34.007

oops() 方法不允许更改对象的常量。此外，它不这样做。它是你的匿名函数。这个匿名函数不在对象的上下文中，而是在允许修改对象的 main() 方法的上下文中。

您的匿名函数不会更改 oops() 的 this 指针（定义为 const ，因此无法更改），也不会从 this 指针派生一些非常量变量。它本身没有任何this-pointer。它只是忽略 this 指针并更改主上下文的 bc 变量（它作为参数传递给您的闭包）。此变量不是 const，因此可以更改。您还可以传递任何匿名函数来更改完全不相关的对象。这个函数不知道，它改变了存储它的对象。

如果您将其声明为

```
const BreakConst bc = ... 
```

那么主函数也将其作为 const 对象处理并且无法更改它。

编辑： **换句话说： const 属性绑定到访问对象的具体左值（引用）。它不绑定到对象本身。**

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T06:20:49.713

您的代码是正确的，因为您**不使用 const 引用来修改 object**。lambda 函数使用完全不同的引用，它恰好指向同一个对象。

一般来说，这种情况不会颠覆类型系统，因为 C++ 中的类型系统并没有正式保证不能修改 const 对象或 const 引用。然而 const 对象的修改是未定义的行为。

*来自 [7.1.6.1] 的 cv-qualifiers*：

> 指向 cv 限定类型的指针或引用不需要实际指向或引用 cv 限定对象，但它被视为就好像它确实指向或引用了一个 cv 限定对象；const 限定的访问路径不能用于修改对象，即使引用的对象是非 const 对象并且可以通过其他访问路径进行修改。
> 
> 除了可以修改任何声明为 mutable 的类成员（7.1.1）外，任何在 const 对象的生命周期（3.8）期间修改它的尝试都会导致未定义的行为。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-18T06:31:17.180

我已经看到了类似的东西。基本上，您调用了一个成本函数，该函数调用了在不知情的情况下修改对象的其他内容。

也考虑一下：

```
#include <iostream>
using namespace std;

class B;

class A
{
    friend class B;
    B* pb;
    int val;
public:
    A(B& b); 
    void callinc() const;
    friend ostream& operator<<(ostream& s, const A& a)
    { return s << "A value is " << a.val; }
};

class B
{
    friend class A;
    A* pa;
public:
    void incval() const { ++pa->val; }
};

inline A::A(B& b) :pb(&b), val() { pb->pa = this; }
inline void A::callinc() const { pb->incval(); }

int main()
{
    B b;
    const A a(b);  // EDIT: WAS `A a(b)`
    cout << a << endl;
    a.callinc();
    cout << a << endl;
} 
```

这不是 C++11，但也是一样的：关键是**const 不是传递性**的。

`callinc()`不会改变自己`a`，`incval`也不会改变`b`。请注意，`main`您甚至可以声明`const A a(b);`而不是`A a(b);`所有内容都编译相同。

这从几十年开始就有效，在您的示例中，您只是在做同样的事情：只需将 B 类替换为 lambda。

**编辑**

更改了 main() 以反映评论。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-18T08:10:48.483

问题是逻辑 const 与按位 const 之一。编译器对程序的逻辑含义一无所知，只强制执行按位 const。由你来实现逻辑常量。这意味着在你展示的情况下，如果指向的内存在逻辑上是对象的一部分，你应该避免在 const 函数中修改它，即使编译器允许你（因为它不是按位图像的一部分对象）。这也可能意味着，如果对象的按位图像的一部分不是对象的逻辑值的一部分（例如，嵌入式引用计数或缓存值），则您可以创建它 `mutable`，甚至丢弃 const，在以下情况下您修改它而不修改对象的逻辑值。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T08:56:26.427

The const feature merely helps against accidental misuse. It is not designed to prevent dedicated software hacking. It is the same as private and protected membership, someone could always take the address of the object and increment along the memory to access class internals, there is no way to stop it.

So, yes you can get around const. If nothing else you can simply change the object at the memory level but this does not mean const is broken.

# android - 应用程序启动时的蓝牙可发现状态

> ID：11077570
> 
> 赞同：0
> 
> 时间：2012-06-18T05:57:19.610
> 
> 标签：android, bluetooth, onstart, discoverability

我们如何在应用程序启动时获得蓝牙可发现状态

我有一个用于显示状态的图像视图，但它在应用程序开始时未显示适当的图像

在 oncreate() 我有以下代码

```
 mBtAdapter = BluetoothAdapter.getDefaultAdapter();

    if(mBtAdapter.isDiscovering()){
        bt_strength.setImageResource(R.drawable.bt);

    }
    else if (!mBtAdapter.isDiscovering()){
        bt_strength.setImageResource(R.drawable.bt_grey);
    } 
```

即使这段代码也不起作用

```
 mBtAdapter = BluetoothAdapter.getDefaultAdapter();

     int status = mBtAdapter.getState();
    if(status == mBtAdapter.SCAN_MODE_CONNECTABLE_DISCOVERABLE){
        bt_strength.setImageResource(R.drawable.bt);

    }
    else if (status == mBtAdapter.SCAN_MODE_NONE){
        bt_strength.setImageResource(R.drawable.bt_grey);
    } 
```

我怎样才能解决这个问题？任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:01:59.303

使用下面的代码

```
 mBtAdapter = BluetoothAdapter.getDefaultAdapter();

    if(mBtAdapter.getScanMode() == BluetoothAdapter.SCAN_MODE_CONNECTABLE_DISCOVERABLE)
    {
        bt_strength.setImageResource(R.drawable.bt);

    }
    else 
    {
        bt_strength.setImageResource(R.drawable.bt_grey);
    } 
```

# wordpress-theming - 如何开发像 wwe.com 菜单这样的 wordpress 菜单？

> ID：11077571
> 
> 赞同：0
> 
> 时间：2012-06-18T05:57:33.800
> 
> 标签：wordpress-theming, drop-down-menu

我想设计和开发像 wwe.com 菜单这样的 wordpress 菜单，它在下拉菜单中有多列和图像和视频部分。

在wordpress中可以吗？

我可以创建多列菜单，但不确定如何显示图像和视频。我希望我的客户能够在菜单中添加/删除视频、图像。就像 wwe.com 网站上的菜单一样。

任何帮助都将是非常可观的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T03:31:03.937

我会看一下[UberMenu](http://wpmegamenu.com/)插件，我认为这正是您正在寻找的。

# jquery - 从 ajax 响应中删除嵌入式和内联 css？

> ID：11077575
> 
> 赞同：1
> 
> 时间：2012-06-18T05:57:47.740
> 
> 标签：jquery

如何使用 jQuery 从 ajax 响应中删除嵌入式和内联 css？有没有办法从ajax响应中过滤css？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:43:22.690

```
$.post("someURL",data, function(response){
   var newElement = $(response).removeAttr("style");
   $("#someContainer").append(newElement);
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T05:59:37.090

你可以使用这个 Jquery 来从元素中删除任何已知的样式。

```
$(element).removeAttr('style');​ /*this will remove any inline style from the element.*/ 
```

# ruby-on-rails - has_many 通过 Ruby on Rails 应用程序

> ID：11077576
> 
> 赞同：1
> 
> 时间：2012-06-18T05:58:00.953
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

在我的 Rails 应用程序中，用户可以创建课程和学校（组）。每次用户创建课程或学校时，他们的 user_id 都会存储在课程或学校的数据库表中，因此用户 has_many :schools 和 :courses 以及学校或课程 belongs_to :user。此外，用户可以通过关系模型使用 has_many 参加课程和加入学校（作为学生或教授）（对于具有 :user_id、school_id 和 :role [string] 的学校的学校组，以及对于课程 student_users（和professor_users）它有一个：user_id、course_id 和：role [string]。我的问题是，在用户模型中，我可以只指定一次：

```
has_many :schools, :dependent => :destroy
has_many :courses, :dependent => :destroy
has_many :schoolgroups, :dependent => :destroy
has_many :student_users, :dependent => :destroy
has_many :professor_users, :dependent => :destroy 
```

还是我必须有一个看起来像这样的用户模型：

```
has_many :schools, :dependent => :destroy
has_many :courses, :dependent => :destroy
has_many :schoolgroups, :dependent => :destroy
has_many :schools, :through => :schoolgroups
has_many :student_users, :dependent => :destroy
has_many :courses, :through => :student_users
has_many :professor_users, :dependent => :destroy
has_many :courses, :through => :professor_users 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T15:02:13.243

您需要更详细地考虑模型的所有权。`has_many`意味着多对一的关系，所以说`Professor has_many Courses`意味着教授*拥有*课程，而课程只有一位教授（或者有吗？）。所以你会做这样的事情：

```
has_many :school, :dependent => :destroy
has_many :courses, :dependent => :destroy
has_many :schoolgroups, :dependent => :destroy 
```

另一方面，您将拥有与用户关联的事物，但其他用户也可能以相同的方式关联。例如，用户可以是课程中的学生，但许多其他学生也可以。为此，您需要使用`has_and_belongs_to_many`代表多对多关系的或 HABTM：

```
has_and_belongs_to_many :courses_as_student, :class_name => "Course",
                                             :join_table => "student_users" 
```

然后在`Course`课堂上：

```
belongs_to :user

# or even better:
# belongs_to :professor, :class_name => "User", :foreign_key => "professor_id"

has_and_belongs_to_many :students, :class_name => "User",
                                   :join_table => "student_users" 
```

您可以阅读[Rails 文档](http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html)中的所有详细信息。

# objective-c - 从 UIViewController 导航到 UITableViewController

> ID：11077577
> 
> 赞同：0
> 
> 时间：2012-06-18T05:58:04.063
> 
> 标签：objective-c, ios5, ios4, xcode4.2

我正在尝试通过单击右栏按钮项目（我编写的按钮操作事件）移动到`UITableView`命名购物车`UIView`

```
Cart *crtObj=[[Cart alloc]initWithNibName:@"Cart" bundle:nil];
[self.navigationController presentModalViewController:crtObj animated:YES];
[crtObj release]; 
```

通过单击左栏按钮从同一个栏中，我正在导航上`tableView`一个正常工作的，相同的代码是

`self dismissModalViewControllerAnimated:YES];`

我尝试了很多，请提出一些建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:26:55.393

我想知道为什么你必须使用 [self.navigationController presentModalViewController] 而不是 [self.navigationController pushViewController:crtObj animated:YES]。

它们不一样。

[self.navigationController presentModalViewController:ControllerA] 将简单地从您的屏幕底部拉出 ControllerA 的视图。ControllerA 不会与您正在导航的控制器相关联。（我不确定这种方法是否有效）

[self.navigationController pushViewController:ControllerA animated:YES] 将 ControllerA 推送到 navigationController 并与您按顺序导航的控制器一起存储。

我建议使用第二个，因为你的应用程序的结构会更简单。

但如果你仍然想使用第一种方式。也许你可以这样尝试：

假设您现在已经导航到 ControllerA，并且想要显示 Controller B 调用 [ControllerA presentModalViewController:ControllerB]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:04:42.517

//[self.navigationController presentModalViewController:crtObj animated:YES];

//presentModalViewController

尝试这个

```
 [self.navigationController pushViewController:crtObj animated:YES] 
```

# android - 安卓的广告？

> ID：11077579
> 
> 赞同：6
> 
> 时间：2012-06-18T05:58:05.187
> 
> 标签：android

首先，我不知道在哪里问这个问题。嗯，这是编程 QA 网站。所以很明显这是一个错误的地方。但我希望这里的人能回答它。如果有它的网站，关于 Android 随机问题，请提供一个 url。

我在不同的论坛（包括 SO）上看到人们谈论他们正在使用适用于 Android 的 iAds，但没有人说如何使用？我的意思是Apple的iAds，他们甚至允许Android用户使用他们的广告吗？我搜索了整个谷歌，但没有发现任何关于它的信息。这些家伙只是在胡闹还是什么？

这是一个例子： [http](http://answers.onstartups.com/questions/33530/how-to-increase-ad-revenue) ://answers.onstartups.com/questions/33530/how-to-increase-ad-revenue（user20715回答）

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-18T06:05:32.233

**`iAds`只支持 iOS 不支持安卓。支持 iOS、Android、Windows Mobile 操作系统的
`iAds`替代方案！`Admob`**

[这是有关Admob](http://www.admob.com)的更多详细信息

欢迎..！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T06:04:32.700

**iAd 在安卓上不可用**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-03T06:03:09.030

iAd 只支持 IOS 不支持 Android。

选择一个可以为您提供更好 eCPM 的优质 AdNetwrok。有很多 AdNetwork 可用，但我认为 AdMob 不适合 Android。

# android - 警报对话框大小

> ID：11077582
> 
> 赞同：3
> 
> 时间：2012-06-18T05:58:12.173
> 
> 标签：android, android-layout, android-alertdialog

当手机需要从 Web 服务检索一些数据时，我正在制作一个对话框以覆盖在屏幕上，问题是它的行为真的很奇怪：

![对话框的大小问题](../Images/f0dcb92541f4aa25fe22e44ae451a8ba.png)

**为什么`imageView`（*宽度*和*高度*设置为 **fill_parent**）**没有**填满分配给警报的整个空间？**

* * *

这是显示警报的代码：

```
public class WaitDialog {

private static AlertDialog dialog;

public static void show(Activity pariente) {
    WindowManager.LayoutParams sizeParams = new WindowManager.LayoutParams();
    parametrosTamano.height = 128;
    parametrosTamano.width = 128;
    LayoutInflater inflater = (LayoutInflater)pariente.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    View content = inflater.inflate(R.layout.waitingdialog, null);
    ImageView animation = (ImageView)contenido.findViewById(R.id.waitpic);
    animacion.startAnimation(AnimationUtils.loadAnimation(pariente, R.anim.animacionespera));
    AlertDialog.Builder builder = new AlertDialog.Builder(pariente);
    builder.setView(content);
    builder.setCancelable(false);
    dialog = constructor.create();
    dialog.show();
    //sizeParams.copyFrom(dialog.getWindow().getAttributes());
    dialog.getWindow().setAttributes(sizeParams);
    //dialog.getWindow().setLayout(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
}

public static void hide() {
    dialog.hide();
    dialog.dismiss();
    dialog = null;
}
} 
```

* * *

这是被夸大的 XML：

```
<ImageView 
    android:id="@+id/imagenEspera"
    android:layout_height="fill_parent"
    android:layout_width="fill_parent"
    android:src="@drawable/animespera"
    android:scaleType="fitXY"
    android:layout_centerInParent="true"
    android:contentDescription="@string/espera"/> 
```

难道我做错了什么？有一个更好的方法吗？

注意：有人可以解决上述混乱吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:27:15.063

你好 Drknezz，

```
 Please make the Layout for showing Alert and through Layout inflater show the alert. Like this

final Dialog _contiDialog=new Dialog(Qualify2.this,android.R.style.Theme_Translucent_NoTitleBar);
_contiDialog.setContentView(R.layout.continuedilog); 
```

继续ilog.xml

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
<TextView android:id="@+id/TextView01" 
              android:layout_width="wrap_content"
              android:layout_height="wrap_content" 
              android:text="Submit Your Score" 
              android:textStyle="bold"
              android:paddingTop="10dip"
              android:textColor="#000"/>

<LinearLayout 
              android:gravity="center" 
              android:layout_gravity="center_vertical|center_horizontal"
              android:layout_height="wrap_content"
              android:layout_width="fill_parent"
              android:paddingTop="10dip"
              android:orientation="vertical">

<RelativeLayout 
               android:paddingLeft="20dip"
               android:paddingRight="20dip"
               android:layout_height="wrap_content"
               android:layout_width="fill_parent">

   <TextView android:id="@+id/TextView02" 
             android:layout_width="wrap_content"
             android:layout_height="wrap_content" 
             android:layout_below="@+id/TextView01"
             android:textColor="#000" 
             android:text="Initial:"
              android:layout_alignParentLeft="true"
             android:textStyle="bold"/>

    <EditText 
              android:layout_width="150dip" 
              android:layout_height="35dip" 
              android:id="@+id/initials"
              android:layout_alignParentRight="true"
              android:textSize="12dip"
              android:singleLine="true" />

</RelativeLayout>

<RelativeLayout 
              android:gravity="center_horizontal|center_vertical"
              android:paddingLeft="20dip"
              android:paddingRight="20dip"
              android:layout_height="wrap_content"
              android:layout_width="fill_parent">

    <TextView android:id="@+id/TextView03" 
              android:layout_width="wrap_content"
              android:layout_height="wrap_content" 
              android:textColor="#000"
              android:textStyle="bold"
              android:layout_alignParentLeft="true"
              android:text="Email: "/>

    <EditText 
              android:id="@+id/emails" 
              android:layout_width="150dip"
              android:layout_height="35dip"
              android:singleLine="true" 
              android:layout_alignParentRight="true"
              android:textSize="12dip"/>

</RelativeLayout>
<RelativeLayout 
             android:gravity="center_horizontal|center_vertical" 
              android:layout_height="wrap_content"
              android:layout_width="fill_parent"
               android:paddingLeft="20dip"
              android:paddingRight="20dip">

    <TextView android:id="@+id/TextView04" 
              android:layout_width="wrap_content"
              android:layout_height="wrap_content" 
              android:layout_below="@+id/TextView03"
              android:textColor="#000"
              android:text="Smartphone:"
               android:layout_alignParentLeft="true"
              android:textStyle="bold"/>

    <Spinner android:prompt="@string/planet_prompt"
             android:id="@+id/smart_phone"
             android:layout_width="150dip" 
             android:layout_height="35dip"
              android:layout_alignParentRight="true"
             android:layout_below="@+id/emails"/>

</RelativeLayout>                         

<RelativeLayout 
             android:gravity="center_horizontal|center_vertical" 
              android:layout_height="wrap_content"
              android:layout_width="fill_parent"
               android:paddingLeft="20dip"
              android:paddingRight="20dip">

    <TextView android:id="@+id/TextView05" 
              android:layout_width="wrap_content"
              android:layout_height="wrap_content" 
              android:textColor="#000" 
              android:text="Country: " 
               android:layout_alignParentLeft="true"
              android:textStyle="bold"/>

    <Spinner android:prompt="@string/planet_prompt1"
             android:id="@+id/country"
             android:layout_width="150dip" 
              android:layout_alignParentRight="true"
             android:layout_height="35dip"/>          
</RelativeLayout>

<CheckBox android:id="@+id/term1" android:layout_width="wrap_content"
    android:background="@drawable/checkbox_background"
    android:button="@drawable/checkbox"
    android:text="I accept the Terms and Conditions of this service. I know I will be sending my initials,email address, my handset model details,and my score to QuickNimble."
    android:textColor="#000" 
    android:layout_height="wrap_content" 
    android:textSize="12sp" 
    android:layout_marginLeft="9dip"></CheckBox>

<TextView android:layout_width="wrap_content"
              android:layout_height="10dip"/>

<CheckBox android:id="@+id/term2" 
          android:layout_width="wrap_content"
          android:layout_height="wrap_content" 
          android:background="@drawable/checkbox_background"
          android:button="@drawable/checkbox"
          android:text="I would like to receive more information and offers from QuickNimble."
          android:textColor="#000" 
          android:textSize="12sp"
          android:layout_marginLeft="9dip"/> 
```

# dotnetnuke - DNN中的本地化用什么

> ID：11077583
> 
> 赞同：0
> 
> 时间：2012-06-18T05:58:14.713
> 
> 标签：dotnetnuke, dotnetnuke-5

我想将我的 Dotnetnuke 本地化为德语.. 任何包或给我一个线索，所以最好直接安装任何包

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T05:59:07.053

您可以在管理面板中使用语言。并使用 Delidoft 包。很容易

# python - 为什么 Pycharm 会生成 .bak 文件

> ID：11077595
> 
> 赞同：4
> 
> 时间：2012-06-18T06:00:15.220
> 
> 标签：python, pycharm

我的 Pycharm 开始生成 .bak 文件，例如文件 views.py 的 views.py.bak 这些文件是备份文件，所以我猜测应该有一些选项可以禁用/激活 bak 文件。解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2019-10-25T13:57:05.533

第三方模块将创建 .bak 文件。示例 - WinMerge：[winmerge 文档](https://manual.winmerge.org/en/Configuration.html)
此外，开发人员过去常常将备份副本命名为“.bak、.old、.new 等”。
Wiki 链接：[Bak 文件](https://en.wikipedia.org/wiki/Bak_file)

* * *

（根据下面的 win Merge 文档指南）
**备份文件页面**
此页面允许您控制 WinMerge 如何创建备份文件。

1.  在指定 WinMerge 应何时创建备份文件中创建备份文件。您可以单独启用或禁用以下每个选项：

文件夹比较（默认禁用）：只要文件被覆盖（复制），就会创建备份文件。

文件比较（默认启用）：每次保存文件时都会创建备份文件。

2.  Create backup files into 指定创建备份文件的位置。只能启用以下选项之一：

原始文件的文件夹（默认启用）：备份文件创建在与源文件相同的文件夹中。这通常是一个不错的选择。不利的一面是清理大文件夹中的备份文件可能需要大量工作。

全局备份文件夹（默认禁用）：所有备份文件都创建在一个全局文件夹中。这使它们易于清理。但是，如果有多个具有相同文件名的源文件，则最近的备份文件会覆盖之前的同名文件。

3.  备份文件名 WinMerge 创建备份文件时，会将扩展名附加到源文件名。您可以选择以下扩展方案中的一个或两个：

附加 .bak -extension（默认启用）：例如，file.txt 备份到 file.txt.bak。

文件比较（默认启用）：时间戳几乎总是唯一的，因此此选项通常可以避免在源文件具有相同名称时重复备份文件名。

此外，每次保存文件时都存储一份文件副本提供了一种跟踪文件更改的方法。但是，您应该考虑到此选项会创建大量文件。

* * *

# jquery - jQuery 插件：使 jQuery 变量可在所有插件函数中访问

> ID：11077600
> 
> 赞同：0
> 
> 时间：2012-06-18T06:00:45.697
> 
> 标签：jquery, scope

我在 jQuery 插件中缺少一些基本的变量范围。以下是一个 jQuery 插件存根（主要基于 jQuery.com 文档）。

我想让变量 (`$test`和`test`) 可用于插件中的所有函数。

在下面的示例代码中，变量 test 按预期将“hello”写入控制台。

但是，该变量`$test`将 jQuery() 写入控制台。

问题：(a) 为什么不`$test`将 jQuery(div#test) 写入控制台？(b) 使 jQuery 变量（或任何其他变量）在所有函数中可用的最佳实践是什么。例如，类似于 .net 类中的类级别变量。

```
(function ($) {

var settings = {
};

var methods = {
    init: function (options) { if (options) { $.extend(settings, options); } return init(this, settings); }
};

$.fn.scopetest = function (method) {
    // Method calling logic
    if (methods[method]) {
        return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));
    } else if (typeof method === 'object' || !method) {
        return methods.init.apply(this, arguments);
    } else {
        $.error('Method ' + method + ' does not exist on jQuery plugin');
    }
};

var $test = $('#test');
var test = 'hello';

var init = function (object, settings) {
    return object.each(function () {

        console.log($test);
        console.log(test);
    });
}

})(jQuery); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:26:45.880

*   为什么 $test 不将 jQuery(div#test) 写入控制台？

    `test`因为，在 DOM中没有带有 id 的元素。因此，jQuery 返回空集合`jQuery()`。

*   使 jQuery 变量（或任何其他变量）在所有函数中可用的最佳实践是什么？

    我不确定最佳实践，但如果我必须使变量可全局访问，我会将变量与`window`对象关联。喜欢，

    `window.$test = $('#test');`
    `window.test = 'Hello';`

并使用`window`对象（例如：）`alert(window.$test);`或仅使用变量名访问它们`alert($test);`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T14:38:01.893

有趣的是，保留 var $test 语句但将赋值移至 init 函数似乎可行。因此，除非它在函数内部，否则使用 $ 似乎存在问题。将使用此作为解决方法，直到找到更好的解决方案。

```
(function ($) {

var settings = {
};

var methods = {
    init: function (options) { if (options) { $.extend(settings, options); } return init(this, settings); }
};

$.fn.scopetest = function (method) {

    // Method calling logic
    if (methods[method]) {
        return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));
    } else if (typeof method === 'object' || !method) {
        return methods.init.apply(this, arguments);
    } else {
        $.error('Method ' + method + ' does not exist on jQuery plugin');
    }
};

var $test;
var test;

var init = function (object, settings) {

    return object.each(function () {

        $test = $('#test');
        test = 'hello';
        testfunc();
    });
}

var testfunc = function () {
    console.log($test);
    console.log(test);
}

})(jQuery); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T06:08:22.230

尝试使用选项：

```
(function ($) {

var options = {
        option1: "some_value",
        option2: "another_value",
        ...
    }
var settings = {
    }; 
```

从你的函数中引用这样的：

```
var self = this;
alert( self.options.option1 ); 
```

或者：

```
var self = this,
    o = self.options;
alert( o.option1); 
```

还可以查看 Jquery[小部件工厂插件布局](http://ajpiano.com/widgetfactory/#slide1)，它与您的接近，但我更喜欢它。

```
(function( $, window) {

    $.widget("widge_name", $.widget, {

        options: {
        ...
        },
        init: function(param_1, param_2) {
        ...
        },
        _create: function() {
        ...
        },
        some_function_A: function(param3, param4) {
        ...
        }
        some_function_B: function(param3, param4) {
        var self = this;
        // run some_function_A 
        self.some_function_A("foo","bar");
        }
  });
}) (jQuery,this); 
```

这样你就可以像上面一样使用*self调用其他函数。*

# android - 在确定的位置将 Textview 添加到 FrameLayout

> ID：11077602
> 
> 赞同：7
> 
> 时间：2012-06-18T06:01:02.670
> 
> 标签：android, textview, android-framelayout

我正在尝试将 a 添加`textView`到`frameLayout`. `TextView`具有`wrap_content`属性，因此它会随着文本的增长而增长。我`FrameLayout`用这个函数将它添加到一个：

```
((FrameLayout) findViewById(R.id.mainLayout)).addView(mEditText); 
```

* * *

这是框架布局的 xml：

```
<FrameLayout  
xmlns:android="http://schemas.android.com/apk/res/android" 
android:id="@+id/mainLayout"
android:layout_width="wrap_content"  
android:layout_height="wrap_content"> 
</FrameLayout> 
```

textView 总是出现在屏幕的左上角。我想把它放在中间，或者顶部中间。如何才能做到这一点？
我查看了[如何在 Android 中动态设置视图位置？](https://stackoverflow.com/questions/6535648/how-can-i-dynamically-set-the-position-of-view-in-android)他们并没有太大帮助:(主要导致崩溃..

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-18T06:07:11.560

试试这个：

```
FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT, Gravity.CENTER);

((FrameLayout) findViewById(R.id.mainLayout)).addView(mEditText, params); 
```

更改[重力](http://developer.android.com/reference/android/view/Gravity.html)以满足您的需要。

顺便说一句，框架布局`fill_parent`应用于宽度和高度

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:07:55.407

尝试重力或布局重力到您的 Framelayout 或 Textview。它使您的布局位于屏幕的中心。像这样使用，

```
android:layout_gravity="center" 
```

或者

```
android:gravity="center" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T06:08:21.153

您可以通过设置文本的重力来尝试它，就像使用它一样 -

```
textview.setGravity(Gravity.center); 
```

否则，`xml`将重力设置为中心，这样它就会在中心显示你，如果你要使用`centerinparents`它，它总是会出现在屏幕的中心。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T06:09:00.133

设置`FrameLayout`properties`android:layout_width`和`android:layout_height`to`fill_parent`并设置`TextView`property `LayoutGravity`。比如`Center`，`Right`或`Top`。

谢谢

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T06:19:15.190

添加`android:layout_gravity="center"`你的框架布局

```
<FrameLayout  
    xmlns:android="http://schemas.android.com/apk/res/android" 
    android:id="@+id/mainLayout"
    android:layout_width="wrap_content"  
    android:layout_height="wrap_content"
    android:layout_gravity="center" > 
</FrameLayout> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-01-14T05:20:09.830

以编程方式设置重力绝对有效 请在 xml TextView.setGravity(Gravity.RIGHT); 中将 layout_gravity 设置为正确；

# javascript - 如何在 apache-php-mysql 机器上实现“服务器推送”？

> ID：11077611
> 
> 赞同：1
> 
> 时间：2012-06-18T06:02:02.340
> 
> 标签：javascript

这是一个问题：当一个用户将某些内容上传到服务器（apache）时。服务器会将请求数据“推送”给所有用户。而且我不想使用“ajax”或javascript“超时重载”。成本很高，有没有javascript lib可以实现“服务器推送”技术？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:19:28.500

您可以使用[WebSockets](http://www.websocket.org/)。一方面，我正在通过 XMPP 使用长池，但我认为 WebSockets 看起来很有前途（也许我的下一个产品版本将使用 WebSockets）。

有关 WebSockets 支持的一些详细信息，请参阅[这个StackOverflow 问题。](https://stackoverflow.com/questions/1253683/what-browsers-support-html5-websocket-api)

在实现方面，您可以结合使用[Socket.IO](http://socket.io/)和[node.js](http://nodejs.org/)来实现 WebSockets“服务器推送”。可以在[此处](http://www.gianlucaguarini.com/blog/?p=272)找到执行此操作的示例。

# xcode - XCode + Phonegap + Sencha 可以部署到其他平台吗？

> ID：11077619
> 
> 赞同：0
> 
> 时间：2012-06-18T06:03:12.203
> 
> 标签：xcode, cordova, extjs, multiplatform

我必须开始处理电话间隙的工作。到目前为止，我发现 Sencha 是开发 ui 的好方法，因此我选择使用 Phonegap + Sencha。我知道如果我使用 Phonegap，我可以将“www”文件夹导出到 eclipse 以在 android 上部署应用程序。所以我的问题是，如果我也将 Sencha 与 Phonegap 一起使用，我还能在 android 上部署它吗？如果是这样，怎么做？我正在关注这个在 iOS 中开发的 url：

> [http://www.sencha.com/learn/a-sencha-touch-mvc-application-with-phonegap/](http://www.sencha.com/learn/a-sencha-touch-mvc-application-with-phonegap/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:09:12.583

为任何平台使用电话差距构建服务，例如

1) 安卓 2) iphone 等等

对于 Eclipse 中的 android，您将获得 .apk 文件

对于使用 phoneGap 构建服务（免费），您可以获得 .apk 文件

[电话差距建立服务](https://build.phonegap.com/)

# excel - Powershell脚本循环输出到txt文件

> ID：11077620
> 
> 赞同：1
> 
> 时间：2012-06-18T06:03:20.257
> 
> 标签：excel, powershell, text

我正在使用 Powershell 脚本写入文本文件。一位客户向我展示了这个 Powershell 脚本，用于替换我曾经使用的 excel 宏...

```
$computers= gc "C:\Users\Powershell\DeviceList.txt"
foreach ($computername in $computers)
{
write-output "<$computername>
      active = yes
      group = 
      interval = 5min
      name = $computername
      host = $computername
      community = 
      version = 1
      timeout = 0
      retries = default
      port = 161
      qos_source = 1
</$computername>"  | Out-File -filepath "C:\Users\Powershell\Cisco_Mon.txt" -append
} 
```

它工作得很好，但现在我想在它的基础上添加额外的变量。在一个完美的世界里，我希望它从一个 excel 电子表格中读取，抓取每一行数据，每一列都被定义为一个变量。现在使用另一个文本文件也很好。这是我开始的（它不起作用），但你可以看到我要去哪里......

```
$computers= gc "C:\Users\Powershell\devicelist.txt"
$groups= gc "C:\Users\Powershell\grouplist.txt"
foreach ($computername in $computers) + ($groupname in $groups)
{
write-output "<$computername>
      active = yes
      group = $groupname
      interval = 5min
      name = $computername
      host = $computername
      community = 
      version = 1
      timeout = 0
      retries = default
      port = 161
      qos_source = 1
</$computername>"  | Out-File -filepath "C:\Users\Powershell\Cisco_Mon.txt" -append
} 
```

当然它不起作用。从本质上讲，如果我可以将上述每个选项定义为来自 excel 电子表格的变量，例如 $community、$interval、$active 等，我会喜欢它。

对此的任何帮助都会非常感激。如果有人可以向我展示如何使用 Excel 电子表格，将每列定义为变量，并用变量编写上述文本，那就太好了！！！。

谢谢，

smt1228@gmail.com

这方面的一个例子如下......

Excel 数据：（以“|”分隔的列

```
IP | String | Group
10.1.2.3 | Public | Payless 
```

期望的输出：

```
<10.1.2.3>
      active = yes
      group = Payless
      interval = 5min
      name = 10.1.2.3   
      host = 10.1.2.3   
      community = 
      version = 1
      timeout = 0
      retries = default
      port = 161
      qos_source = 1
</10.1.2.3> 
```

添加：

从 CSV 中提取 IP、String、Group 的数据，其中 CSV 中的数据如下...

```
10.1.2.3,public,group1
10.2.2.3,default,group2
10.3.2.3,public,group3
10.4.2.3,default,group4 
```

写入 .txt 文件为

```
IP = 10.1.2.3.
String = public
Group = Group1 
```

并在 CSV 中查找每一行

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:22:30.967

好的，现在有了新的答案。最简单的方法是将您的 Excel 文档另存为 CSV，使其看起来像这样（即与您在上面呈现数据的方式非常相似）：

```
IP,String,Group
10.1.2.3,Public,Payless 
```

您仍然可以在 Excel 中打开它（并且您不必使用 Office 互操作来尝试解析值）。

PowerShell 可以很好地解析 CSV：使用`Import-Csv`：

```
Import-Csv grouplist.csv | ForEach-Object {
  "<{0}>
    active = yes
    group = {1}
    interval = 5min
    name = 10.1.2.3   
    host = 10.1.2.3   
    community = 
    version = 1
    timeout = 0
    retries = default
    port = 161
    qos_source = 1
  </{0}>" -f $_.IP, $_.Group
} 
```

我在这里使用格式字符串，其中`{0}`等是占位符。`-f`then 是格式运算符，它在左侧采用格式字符串，在右侧采用占位符的参数。由于 Import-Csv，您还可以看到可以按名称访问各个列。

# ruby-on-rails - 如何在控制器的 response_to 中设置自定义类型/格式？

> ID：11077623
> 
> 赞同：0
> 
> 时间：2012-06-18T06:03:43.407
> 
> 标签：ruby-on-rails, ruby, controller, format, mime

## 环境

*   导轨 3.2.6
*   红宝石 1.9.3p194

## 我发现了什么

```
class ThemesController < ApplicationController
  def show
  end
end 
```

`/views/themes/show.html.erb`无论 URL 扩展名是什么，此设置都将始终呈现页面。例如：

```
http://localhost/themes/1.json
http://localhost/themes/1.xxx
http://localhost/themes/1.custom_ext
... 
```

## 遇到

我想`render :json=>@theme`在扩展名时运行`json`，否则，渲染`show.html.erb`页面，所以我改变了我的代码：

```
respond_to do |format|
  format.json { render :json => @theme}
  format.any {render}
end 
```

`render :json=>@theme`当 URL 扩展为 时 ，它将正确运行，并在,等中`.json`呈现。`show.html.erb``.xml``.html`

但是，我进入`406 Not Acceptable`, `.xxx`, `.ooo`，`.custom_ext`发现这是因为只允许支持的 MIME 类型。

## 临时解决方案

```
class ThemesController < ApplicationController
  def show
    if params[:format].present? && params[:format] == "json"
      render :json => @theme
    end
  end
end 
```

它工作正常，并且在提供超过 2 种格式时，例如`.xml`, `.json`,`.yaml`等：

```
class ThemesController < ApplicationController
  def show
    case params[:format]
    when "json" then render :json => @theme
    when "xml" then render :xml => @theme
    ...
    else render
    end
  end
end 
```

它看起来很干净，不比`respond_to`风格差：D

## 问题

1.  我想知道是否还有其他更好的解决方案？
2.  如果`case`语句可以做所有`respond_to`可以做而不能做的事情`respond_to`，我为什么要使用`respond_to`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:23:51.037

非常有用的东西，就像通常发生的那样，可以在[API 文档](http://api.rubyonrails.org/classes/ActionController/Renderers.html#method-c-add)中找到。

请注意那里的注释：*请注意，我们使用 Mime::CSV 作为 Rails 附带的 csv mime 类型。对于自定义渲染器，您需要使用 Mime::Type.register 注册 mime 类型。*

你必须把这些东西放在 config/initializers/mime_types.rb 中。您会发现很少有注册非默认类型的示例。

预定义类型在[这里](https://github.com/lifo/docrails/blob/master/actionpack/lib/action_dispatch/http/mime_types.rb)。

# php - 获取 id 列表的所有字段的值而不在 mysql 查询中指定它们的 id？

> ID：11077631
> 
> 赞同：0
> 
> 时间：2012-06-18T06:04:34.947
> 
> 标签：php, mysql, group-by, aggregate-functions

我有一个 sql 查询，从中我得到链接到代理的所有答案的权重总和。当我指定代理 id 例如 1 时，它对我有用。

但我想知道

*   是否有可能在不指定代理 ID 的情况下获得与我在 db 中拥有的所有代理相关的所有答案我不知道如何使用 zend 来做到这一点？

*   如果我有一个代理数组并使其返回所有代理的所有权重，以便以数组形式返回特定问题的代理权重，是否可以循环 sql 查询。

**表的表结构**

**表代理的表结构**

agent_id // 所有代理 ID 1 2 3

**表格答案的表格结构**

answer_id // 所有答案 id 权重 // 要添加的每个代理都有总和 11 1 12 0 13 -1

**表客户调查表结构**

// 客户 ID // 故障 ID // 调查 ID 1 1 4 2 3 5

**表故障的表结构**

fault_id agent_id

// 3 3

//4 5 // 所有这些都是随机数据

**表响应的表结构**

// 响应 id 调查 id customer_id 回答 id response_id sq_id cs_id answer_id

**表survey_question的表结构**

调查 ID 问题 ID

**每个答案都与一个故障相关联。和代理的错误。客户接受调查。客户反应错误。客户响应 cs_id 到 response 。问题与特定调查相关联。而且你有点困惑，花了我两天时间**

*   我有 20 个随机代理 id，我需要在 mysql 中循环遍历它们并获得每个代理 id 的结果。目前，我正在为一名代理服务。

* * *

```
SELECT SUM( weightage )
FROM answer a
WHERE a.answer_id
  IN (
    SELECT r.answer_id
    FROM response r, survey_question sq
    WHERE r.sq_id = sq.sq_id
      AND sq.survey_id =4
      AND sq.question_id =28
      AND r.cs_id
        IN (
          SELECT cs.cs_id
          FROM customer_survey cs, faults f
          WHERE cs.fault_id = f.fault_id
            AND agent_id =1
        )
  )` 
```

此查询对单个代理的输出是

```
Array
(
    [0] => Array
    (
       [SUM( weightage )] => 2
    )
) 
```

我希望输出是基于代理 id 的

```
Array
(
//  agent id 1
     [1] => Array 
     (
         [SUM( weightage )] => 2
     )
// agent id 2
    [2] => Array 
    (
        [SUM( weightage )] => -1
    )
// agent id 3
    [3] => Array 
    (
        [SUM( weightage )] => 5
    )
// agent id 4
    [4] => Array 
    (
        [SUM( weightage )] => 4
    )
// agent id 5
    [5] => Array 
    (
        [SUM( weightage )] => 11
    )
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:58:09.723

不知道你的计划很难给你一个好的建议。让您了解更多信息的基本关键字是[JOINS](http://dev.mysql.com/doc/refman/5.1/de/join.html)和[GROUP BY](http://dev.mysql.com/doc/refman/5.1/de/group-by-modifiers.html)。

然后，您的查询应如下所示：

```
SELECT cs.agent_id, SUM (a.weightage) AS sum_weightage
 FROM customer_survey cs
  JOIN faults f ON cs.fault_id = f.fault_id
  JOIN response r ON r.cs_id = cs.cs_id
  JOIN answer a ON a.a.answer_id ON r.answer_id
  JOIN survey_question sq ON r.sq_id = sq.sq_id
 WHERE sq.survey_id = 4 AND sq.question_id =28 
 GROUP BY cs.agent_id 
```

输出将类似于：

```
array(
   array('agent_id' => 1, 'sum_weightage' => 12),
   array(...)
   ...
) 
```

这不完全是您想要的，但应该最接近您的期望。

# mysql - 在 Rails 中计算关联记录

> ID：11077632
> 
> 赞同：16
> 
> 时间：2012-06-18T06:04:40.113
> 
> 标签：mysql, ruby-on-rails, activerecord

我正在尝试从数据库中的每个帖子中获取评论数。但是，以下内容：

```
Post.includes(:comments).group("posts.id").count("comments.id") 
```

引发mysql错误“未知列comments.id”，因为生成的sql似乎完全忽略了includes()：

```
SELECT COUNT(comments.id) AS count_comments_id, posts.id AS posts_id
FROM `posts` GROUP BY posts.id 
```

有趣的是，将 includes() 替换为 joins() 将产生有效的 sql：

```
Post.joins(:comments).group("posts.id").count("comments.id")

SELECT COUNT(comments.id) AS count_comments_id, posts.id AS posts_id
FROM `posts` INNER JOIN `comments` ON `comments`.`post_id` = `posts`.`id`
GROUP BY posts.id 
```

但是上面的查询排除了所有评论为 0 的帖子，这不是我想要的。我需要的是产生以下SQL（但不写SQL，嘿嘿嘿）

```
SELECT COUNT(comments.id) AS count_comments_id, posts.id AS posts_id
FROM `posts` LEFT OUTER JOIN `comments` ON `comments`.`post_id` = `posts`.`id`
GROUP BY posts.id 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-18T08:02:00.820

该`includes`方法不会在所有情况下都进行连接，而是出于性能原因批量获取关联（参见[Rails :include 与 :joins](https://stackoverflow.com/questions/1208636/rails-include-vs-joins)）。

你需要做的是一个连接，你几乎在正确的路径上，但组子句有点错误：

```
Post.select("posts.*, COUNT(comments.id) as comment_count").joins("LEFT OUTER JOIN comments ON (comments.post_id = posts.id)").group("posts.id") 
```

请注意，此解决方案具有好处或实际返回 Post 对象（使用`.count()`在我的 Rails 3.2 上返回 Hash），因此您可以在视图中遍历实际的 post 对象并访问 property `comment_count`。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2017-11-30T05:44:11.173

现在这个问题实际上要简单得多：

```
Comment.joins(:post).group(:post_id).count(:post_id) 
```

这会给你一张地图`{<post_id> => <count of comments>}`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-18T06:12:52.527

试试这个：

```
Post.select("COUNT(comments.id) AS count_comments_id, posts.id AS posts_id").
  includes(:comments).group("posts.id") 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-19T06:36:39.063

如果您只需要帖子计数的哈希值：`{post_id1 => cnt1, post_id2 => cnt2, ...}`那么强制对关联进行左连接将起作用：

```
 Post.joins("LEFT OUTER JOIN comments on posts.id=comments.post_id").
  group("posts.id").count("comments.id") 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-12-08T08:43:05.950

对于**rails 5 或更高**版本，我们有一个 activerecord 方法`left_outer_joins`，我们不需要手动编写连接逻辑。

```
Post.left_outer_joins(:comments)
    .distinct
    .select('posts.*, COUNT(comments.*) AS comments_count')
    .group('posts.id') 
```

产生：

```
SELECT DISTINCT posts.*, COUNT(comments.*) AS comments_count FROM posts 
LEFT OUTER JOIN comments ON comments.post_id = posts.id GROUP BY posts.id 
```

# mysql - sql查询错误，

> ID：11077635
> 
> 赞同：0
> 
> 时间：2012-06-18T06:04:46.093
> 
> 标签：mysql, sql, database, phpmyadmin

没有找到与我的查询类似的答案

这是一个朋友的俚语词典应用程序，所以请不要被愚蠢的语言冒犯

SQL查询：

```
(
'A',  'Assc',  'Assclown', 'Assclown - verb, adjective - one who makes a complete fool of themselves or is just generally a moron. Closely related to asshat. ALT. SPELLING:ass clown. USAGE: Listen up assclown, you my friend are an untalented hack!'
); 
```

MySQL 说：

> `#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''A', 'Assc', 'Assclown','Assclown - verb, adjective - one who makes a complete f' at line 1`

```
 --
    -- Dumping data for table `countries`
    --

    INSERT INTO `dictionary` (`Letter`, `ID`, `Word`, `Definition`) VALUES
    ('A', 'As', 'Ass Out','Ass Out - verb, adjective - to be poor, have no money.                                            USAGE: Man I am ass out this month. I 

    aint got no kinda funds coming through here.');
    ('A', 'Assc', 'Assclown','Assclown - verb, adjective - one who makes a complete                 fool of themselves or is just 

    generally a moron. Closely related to asshat. ALT. SPELLING:ass clown. USAGE:         Listen up assclown, you my friend are 

    ('A', 'Autob', 'Autoburial','Autoburial - noun - the state of being given the antithesis of         autopush; that is to 

    receive no favoritism at all. ANT: autopush SYN: baller-blocking, hatred USAGE: My         instructor was hating and gave 

    the entire class massive autoburial on our midterm grades.') 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T06:07:27.193

`;`问题是您用来分隔值集的分号 ( )。您必须改用逗号 ( `,`)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T06:08:30.703

问题出在语法上，替换**；**，**分离**INSERT 数据集

# sql - 在触发器中使用两个表的 PL/SQL 条件语句

> ID：11077637
> 
> 赞同：0
> 
> 时间：2012-06-18T06:04:54.450
> 
> 标签：sql, oracle, join, plsql, triggers

我正在开发一个简单的触发器，在添加新发票行时更新产品的现有数量。我的工作正常；但我开始认为，在实际应用中，在允许更新之前验证 QOH 是否足够是谨慎的做法。我确定我可以为此编写一个单独的触发器，但我想看看是否可以在触发器中为条件语句连接两个表。

这是据我所知；在那里的任何地方添加一个 SELECT 语句会导致所有的地狱都崩溃，所以我有点难过如何在调用条件之前声明 PRODUCT.P_QOH。

```
CREATE OR REPLACE TRIGGER trg_prod_QOH_on_line_add
    BEFORE INSERT ON LINE
    FOR EACH ROW
    BEGIN
        IF :NEW.LINE_UNITS > PRODUCT.P_QOH THEN
            RAISE_APPLICATION_ERROR(-20202, 'Insufficient quantity on hand');
        ELSE
            UPDATE PRODUCT
                SET P_QOH = P+QOH - :NEW.LINE_UNITS;
                WHERE PRODUC.P_CODE = :NEW.P_CODE;
        END IF;
    END;
/ 
```

这对我来说不是什么大问题，因为我说过可能有不同的方法；我刚开始学习这些东西，想看看有什么可能。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T10:04:25.833

你进入了危险的领域，试图通过触发器来执行这样的规则。您要求的解决方案是：

```
create or replace trigger trg_prod_qoh_on_line_add
    before insert on line
    for each row
    declare
        v_qoh product.p_qoh%type;
    begin
        select p_qoh
        into   v_qoh
        from   product
        where  product.p_code = :new.p_code;

        if :new.line_units > v_qoh then
            raise_application_error(-20202, 'Insufficient quantity on hand');
        else
            update product
                set p_qoh = p_qoh - :new.line_units
                where product.p_code = :new.p_code;
        end if;
    end; 
```

但是，在具有多个并发用户的系统中，这**不是一个安全的解决方案。**假设产品“X”的 p_qoh=10，然后有 2 个用户这样做：

```
user1> insert into line (p_code, line_units) values ('X', 7);

user2> insert into line (p_code, line_units) values ('X', 8);

user1> commit;

user2> commit; 
```

两个会话都会看到 'X' 的 p_qoh = 10，因此两者都会成功，product.p_qoh 最终会变为 -5。一切都是腐败的！

安全的解决方案是对产品创建一个检查约束：

```
alter table product add constraint prod_qoh_chk check (p_qoh >= 0); 
```

现在您的触发器可以很简单：

```
create or replace trigger trg_prod_qoh_on_line_add
    before insert on line
    for each row
    begin
        update product
        set p_qoh = p+qoh - :new.line_units;
        where produc.p_code = :new.p_code;
    end; 
```

这会引发一个不太友好的错误消息，例如：

```
ORA-02290: check constraint (MYSCHEMA.PROD_QOH_CHECK) violated 
```

您可以在触发器中捕获它并给出您想要的消息：

```
create or replace trigger trg_prod_qoh_on_line_add
    before insert on line
    for each row
    begin
        update product
        set p_qoh = p+qoh - :new.line_units;
        where produc.p_code = :new.p_code;
    exception
        when others then
            if sqlerrm like 'ORA-02291:%(MYSCHEMA.PROD_QOH_CHECK)%' then
                raise_application_error(-20202,'Insufficient quantity on hand');
            else
                raise;
            end if;
    end; 
```

Now if we re-run the 2 user scenario above:

```
user1> insert into line (p_code, line_units) values ('X', 7);

user2> insert into line (p_code, line_units) values ('X', 8);

user1> commit; 
```

At this point user2's insert fails with the error message:

```
ORA-20202: Insufficient quantity on hand 
```

# php - fb.ui 贴到墙上不起作用

> ID：11077639
> 
> 赞同：-1
> 
> 时间：2012-06-18T06:05:19.337
> 
> 标签：php, facebook, fb.ui

所以，我正在使用 FB API 将消息发布到用户的墙上。我的代码如下：

```
<script type="text/javascript">
    FB.ui({ 
        method: 'post', 
        message: 'Testing Message',
        caption: 'This is the Caption value.',
        name: 'Testing JS feed dialog on Antoher Feed',
        link: 'http://anotherfeed.com?ref=link',
        description: 'Testing property links, and action links via Feed Dialog Javascript SDK',
        picture: 'https://shawnsspace.com/ShawnsSpace.toon.nocolor..png',
        properties: 
        [
            { 
                text: 'Link Test 1', href: 'http://anotherfeed.com?ref=1'
            },
            { 
                text: 'Link Test 2', href: 'http://anotherfeed.com?ref=2'
            },
        ],
        actions: 
        [
            { 
                name: 'Shawn', link: 'http://anotherfeed.com'
            }
        ]       
    });
</script> 
```

不起作用...有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:36:54.420

尝试改变

```
FB.ui({ 
        method: 'post', 
```

到

```
FB.ui({ 
        method: 'feed', 
```

[例子](https://developers.facebook.com/docs/reference/dialogs/feed/)

# objective-c - 从 UIimage 清除文本

> ID：11077640
> 
> 赞同：1
> 
> 时间：2012-06-18T06:05:21.087
> 
> 标签：objective-c, ios, ocr

在我的应用程序中，我试图从捕获的图像中获取文本。我正在使用 lib Tesseract 进行转换过程。我能够将捕获的图像转换为文本，但问题是左右两端的文本似乎是一个损坏的字符。以下是播种我捕获的图像的图像， ![在此处输入图像描述](../Images/86f2806fe9fd1bba3a35c0556c2f8610.png)

左端和右端的捕获图像似乎如下图所示， ![在此处输入图像描述](../Images/d057f3a45d346452c842ffceb41c0709.png)

如何让所有这些文本完美无缺，当我通过谷歌搜索时，我发现一个应用程序正在执行相同的过程。此外，他们正在清理捕获的图像，如下图所示， ![在此处输入图像描述](../Images/e2a69c1a09c0bfe4122ec1449155d227.png)

我怎样才能清理这样的图像？

# iphone - 所有商品的单一产品标识符

> ID：11077641
> 
> 赞同：0
> 
> 时间：2012-06-18T06:05:26.593
> 
> 标签：iphone, ios, ios4, in-app-purchase

我正在为我的应用程序在应用程序购买中实现 iPhone 以销售歌曲。

歌曲将被添加并从我的网络服务器传送到 iPhone 应用程序。我希望允许用户购买单曲或订阅特定类别，如爱情、友谊等。所有单曲购买的费用为 0.99 美元。

一些链接/参考表明，如果我想销售 100 种产品/歌曲意味着，我必须在 iTunes 门户中添加 100 个条目。

在这里我想知道一件事：由于我以相同的成本出售所有单首诗歌，我可以在应用程序购买项目/条目中只创建一个并为所有歌曲使用相同的产品 ID 吗？

**当用户在我的应用程序中点击“购买”单曲时，我查询相同的产品 ID 并显示“你想以 0.99 美元购买这首歌吗”，当用户点击“确定”时，付款过程完成并我用歌曲 ID 调用我的网络服务，并为我们**er 提供歌曲内容。

> 对 iTunes 中的所有歌曲（单独购买的歌曲）使用相同的产品 ID 是否会有任何不利/不利影响。

我认为非消耗品与购买这首单曲有关。但我想知道使用消耗品/非消耗品的正确类型是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:10:24.237

我认为您应该为每首歌曲设置不同的产品标识符，因为每首歌曲将代表不同的功能，并且为了区分用户购买了哪首歌曲，您应该有一些标识符。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-08T11:09:04.803

不可以，对于需要单独购买的商品，您不能使用相同的商品 ID。

如果您将已购买的非消耗品添加到支付队列，您会弹出该产品已购买的弹窗，并询问用户是否要免费重新下载该产品. 因此，每个非消耗品只能购买一次。

但是，使用消耗品ID是可以的，因为它可以在交易中多次使用，并且只要您自己处理购买历史的维护，就可以在您的情况下有效地使用它。

# codeigniter - codeigniter 表单验证配置错误

> ID：11077644
> 
> 赞同：1
> 
> 时间：2012-06-18T06:05:45.843
> 
> 标签：codeigniter

控制器功能：

```
function signup()
        {

            $bool1 = $this->form_validation->run('username');
            $bool2 = $this->form_validation->run('email');
            $bool3 = $this->form_validation->run('pass');

            var_dump($bool1);
            var_dump($bool2);
            var_dump($bool3);

            $this->load->view('myform');

        } 
```

视图代码：

```
<?php $this->load->view('includes/header'); ?>

<?php

    $data_username = array(

        'name' => 'username',
        'onBlur' => 'username_val()',
        'maxlength' => 50,

    );

    $data_email = array(

        'name' => 'email',
        'onBlur' => 'email_val()',
        'maxlength' => 50

    );

    $data_pass = array(

        'name' => 'pass',
        'onBlur' => 'pass_val()',
        'maxlength' => 50,
        'autocomplete' => 'off'

    );

?>

    <div id="body">

        <div id="bodycontent">

            <table class="login_table">

            <?php $attr = array( 'onsubmit' => 'return final_val()' ); echo form_open('signup',$attr); ?>

            <tr><td>Username: </td><td><?php echo form_input($data_username); ?><span name="username_error" >&nbsp;&nbsp;<?php echo form_error('username'); ?></span></td></tr>

            <tr><td>Email: </td><td><?php echo form_input($data_email); ?><span name="email_error">&nbsp;&nbsp;<?php echo form_error('email'); ?></span></td></tr>

            <tr><td>Password: </td><td><?php echo form_password($data_pass); ?><span name="pass_error">&nbsp;&nbsp;<?php echo form_error('pass'); ?></span></td></tr>

            <tr><td><input type="submit" value="SIGN UP!" name="signup"/></td></tr>

                <?php echo form_close(); ?>

            </table>

        </div>

    </div>

<?php $this->load->view('includes/footer'); ?> 
```

表单验证配置：

```
<?php
$config = array(
                 'username' => array(

                                    array(
                                            'field'   => 'username',
                                            'label' => 'nama',
                                            'rules' => 'required|min_length[1]|max_length[50]|strip_tags|encode_php_tags|htmlspecialchars'
                                         )

                                    ),
                 'email' => array(
                                    array(
                                            'field'   => 'email',
                                            'label' => 'EMAIL',
                                            'rules' => 'required|min_length[1]|max_length[50]|valid_email|strip_tags|encode_php_tags|htmlspecialchars'
                                         )
                                    ),     

                'pass' => array(
                        array(
                                'field'   => 'pass',
                                'label' => 'PASSWORD',
                                'rules' => 'required|min_length[6]|max_length[256]|strip_tags|encode_php_tags|htmlspecialchars'
                        )
                ),/*

                'passconf' => array(
                        array(
                                'field'   => 'passconf',
                                'label' => 'PASS_CONF',
                                'rules' => 'required|min_length[6]|max_length[32]|matches[pass]|strip_tags|encode_php_tags|htmlspecialchars'
                        )
                ),*/

    'title' => array(

        array(
            'field'   => 'title',
            'label' => 'Title field',
            'rules' => 'required|min_length[1]|max_length[60]|strip_tags|encode_php_tags|htmlspecialchars'
        )

    )

               );

?> 
```

***Javascript 已关闭。***

**问题：**一旦用户名字段被提交了任何值，都返回true。如果除了用户名字段之外的所有值都被赋予，则所有值都返回 false。

代码有什么问题？谢谢。

**更新：**

感谢@TheSwiftExchange 指出这一点：您不会通过验证运行每个变量-您通过验证一次运行整个表单。

因此，我将配置文件更改为：

```
$config = array(
                 'signup' => array(

                                    array(
                                            'field'   => 'username',
                                            'label' => 'nama',
                                            'rules' => 'required|min_length[1]|max_length[50]|strip_tags|encode_php_tags|htmlspecialchars'
                                         ),

                                     array(
                                         'field'   => 'email',
                                         'label' => 'EMAIL',
                                         'rules' => 'required|min_length[1]|max_length[50]|valid_email|strip_tags|encode_php_tags|htmlspecialchars'
                                     ),

                                     array(
                                         'field'   => 'pass',
                                         'label' => 'PASSWORD',
                                         'rules' => 'required|min_length[6]|max_length[256]|strip_tags|encode_php_tags|htmlspecialchars'
                                     )

                                  )
) 
```

现在效果很好。;)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:23:45.593

您不会通过验证运行每个变量 - 您通过验证一次运行整个表单。

```
function signup()
    {

        if ($this->form_validation->run())
        {
            echo "ok";
        }
        else
        {
            echo validation_errors();
        }

        $this->load->view('myform');

    } 
```

# java - 用于 XML 模式到实例转换的 Java 库

> ID：11077645
> 
> 赞同：1
> 
> 时间：2012-06-18T06:05:46.023
> 
> 标签：java, xml, type-conversion, xmlbeans

我需要将给定的 XML 实例转换为它的 Schema。

我还需要将给定的 XML 模式转换为相应的实例。

此外，如果用户给 XML 实例提供了数据，我需要将其转换为适当的实例。（适当的实例是指将多个元组的出现减少为单个条目的实例。）

目前正在使用 Apache XMLBeans 库（xbean.jar）。但是当我给出一个 12k 行的巨大 xml 时，它花费了太多时间。此外，它为少数实例生成多个模式节点，而不是一个。

是否有任何其他 Java 库执行此转换？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:39:05.453

您将问题表述为好像对于任何 XML 实例都有一个模式，并且对于任何模式都有一个实例。模式描述了一类文档。描述给定实例的模式有无数个，对于大多数模式来说，将有无数个对那个模式有效的实例。因此，您将获得的最好的结果是给定实例的“合理”模式，以及给定模式的“典型样本”实例。我认为您会在许多 XML IDE（例如 oXygen）中找到提供这些的工具。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:29:41.147

我不确定这是否对您有帮助..我的任务是从 XMLfile 中提取数据..我使用过 JAXB

# import - PyDev 交互式控制台：使用项目文件

> ID：11077647
> 
> 赞同：1
> 
> 时间：2012-06-18T06:05:49.597
> 
> 标签：import, console, pydev, interactive

关于 PyDev（Eclipse 的 Python 编辑器）及其交互式控制台，我有两个问题。

这是我目前的情况：每当我运行交互式控制台（ctrl + alt + enter）时，控制台要求我将文件导入项目中以使用该文件中的任何功能。此外，调用函数时，我必须将文件名放在它前面。因此，例如：我转到项目的属性，转到 PyDev PYTHONPATH，并为我当前正在处理的项目添加一个源文件夹。通过这样做，我可以将一个文件（我们称之为“家庭作业”）导入交互式控制台。如果我的文件有一个名为“calculate”的函数，我必须先键入“import homework”，然后键入“homework.calculate()”才能使用该函数。否则，它将不起作用（我不能简单地称为“计算”）。

这就引出了我的第一个问题**（#1）**：为什么这不适用于导入的模块，例如“数学”等？为什么我需要为本地项目文件做这么多工作？

我的第二个问题是相关的**（#2）**：如何设置我的 PyDev 以便它自动将当前项目的文件导入交互式控制台？或者，即使我必须手动添加我的项目文件，我该如何制作，这样我就不必调用“文件名”+“函数名”来使用该函数？

很多帮助将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T11:33:23.417

实际上，在 PyDev 中，只要您正确设置了 PYTHONPATH，您应该能够做到（考虑您的示例：homework.calculate()）：

calcu <- 请求代码完成并选择：计算（作业）

然后它应该为您添加导入以及您选择的功能。

除此之外，您必须编写一些代码来迭代所有模块，为此进行导入并在当前上下文下加载令牌（这通常不是一个好主意，因为您的模块会覆盖其他模块的名称）。

另请注意，您可以编辑交互式控制台在以下位置执行的初始命令集：

窗口 > 首选项 > pydev > 交互式控制台 > 初始解释器命令

因此，您可以在其中添加更多您希望默认拥有的导入。

# java - 将数组加载到Android中的多列网格中

> ID：11077648
> 
> 赞同：0
> 
> 时间：2012-06-18T06:05:57.723
> 
> 标签：java, android, gridview, multidimensional-array

我有一些从不同数据库中检索的数据，我需要在 android 平板电脑上的网格中显示它们。我到处搜索，但大多数网格问题都是关于图像的。我在网格中有四列，前三列是字符串，最后一列是美元金额。我很困惑如何将它加载到数组中，然后将数组放入网格中。我是老 Pascal 程序员，在 Pascal 中我会创建一个数组 myArray[4][]，但我找不到任何这样的示例。我知道如何获取数据。任何帮助将不胜感激，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:19:26.300

你好，金，

```
 You need to make your customised row. 
```

表示采用图像视图和文本视图来显示图像和文本。根据您的外观和感觉。并根据您的数组列表设置图像和文本。

有关更多信息，请参阅此链接[单击此处](https://stackoverflow.com/questions/4531104/how-to-add-text-view-in-gridview-in-android-xml)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:11:38.860

您需要为此使用自定义适配器。

示例如下：

[点击这里](http://oudomvilla.wordpress.com/2010/08/23/create-icon-with-text-using-gridview-and-layout-inflater/)

如果你有任何疑问，问我。我会帮你

# mysql - 没有mysqldump的mysql备份

> ID：11077655
> 
> 赞同：0
> 
> 时间：2012-06-18T06:06:57.083
> 
> 标签：mysql

我遇到了无法执行 mysqldump 的问题（服务器重启、错误等）

有人尝试过在不停止 mysql 服务器的情况下在实时服务器上进行 rsync 或复制原始数据吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-06T09:15:48.840

选择 MySQL 企业备份

# javascript - JQuery 弹出窗口未呈现

> ID：11077661
> 
> 赞同：0
> 
> 时间：2012-06-18T06:07:31.937
> 
> 标签：javascript, jquery, html, css

我正在尝试使用 Jquery 制作一个可拖动的弹出窗口，并且我正在遵循我在这里得到的建议。 [使用 JQuery 进行弹出窗口/对话框的最佳方式？](https://stackoverflow.com/questions/11047584/best-way-of-doing-popups-dialogs-with-jquery) 但它根本不起作用。

的HTML

```
<body id="content" onload="if(document.getElementById('beroende') != null) { ingVar(document.getElementById('beroende').value); }">
<div class='newpopup'></div> 
```

CSS

```
.newpopup 
{
    display:none;
    position:absolute;
} 
```

Javascript

```
 function popup(){
    // for the draggable you may want to specify the drag handle like only the title of the popup
    alert('i popup');
    var popup = $('.newpopup');

    popup.draggable();
    popup.resizable();

    $.get('/PandoraArendeWeb/arendeprocess_grunduppgifter.jsp', function(data) {        
        popup.html(data);
        popup.show('fast');
    }); 
```

我已将该操作附加到一个按钮，它激活了警报，但没有呈现弹出窗口。这有什么问题？

我已将其减少到一页，但没有任何效果：

```
<html>
<head>  <link href="css_js/styles.css" rel="stylesheet" type="text/css">
    <script language="JavaScript1.2" src="css_js/jquery-1.7.1.min.js" type="text/javascript"></script>
        <script language="JavaScript1.2" src="css_js/jquery-ui-1.8.17.custom.min.js" type="text/javascript"></script>   
    <script language="JavaScript1.2" type="text/javascript">
function popup() {
    var popup = $('.newpopup');
    popup.draggable();
    popup.resizable();
    popup.html('<p>Where is pancakes house?</p>');
    popup.show('fast');
}
$('button').click(popup);
    </script>
</head>
<body>
<div class='newpopup'></div>
<button>popup</button>  
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:23:02.850

您尚未将 js 代码包装在 onready 事件中。请参阅[http://api.jquery.com/ready/](http://api.jquery.com/ready/)

```
jQuery(function($){

    function popup() {
        var popup = $('.newpopup');
        popup.draggable();
        popup.resizable();
        popup.html('<p>Where is pancakes house?</p>');
        popup.show('fast');
    }
    $('button').click(popup);
}); 
```

本质上，您的代码中发生的事情是`$('button')`返回一个空集，并且您将处理程序附加到一个空集，因此您根本没有附加处理程序。jQuery 不会为此引发错误。

# php - 如何为 HTML 选择定义变量

> ID：11077662
> 
> 赞同：0
> 
> 时间：2012-06-18T06:07:43.933
> 
> 标签：php, html, arrays, html-select

我使用 PHP 数组进行 HTML 选择，然后将代码放入名为 data.php 的模板中。我将 data.php 链接到 index.php。所以我想为我的 HTML 选择定义一个变量，`<select name="color">`以便我可以`<select name="color">`在整个主题中使用它定义的变量来调用它。

```
$color=array(
     "R" => 'red',
     "Y" => 'yellow',
     "B" => 'blue', 
     "G" => 'green',
     "P" => 'purple',
     "O" => 'orange', 
     "B" => 'black',
     "G" => 'gray'
           );

<select name="color">
   <option value="">-----------------</option>
  <?php
  foreach($color as $key => $value):
  echo '<option value="'.$key.'">'.$value.'</option>'; //close your tags!!
  endforeach;
   ?>
</select> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:14:07.763

如果我正确理解了您的问题，这是您需要的吗？

```
<?php
  $ColorOtions = "<option value=''>...</option>"; 
  foreach($color as $key => $value):
  $ColorOtions .= '<option value="'.$key.'">'.$value.'</option>'; //close your tags!!
  endforeach;
?> 
```

现在你可以调用`<select name="color">echo $ColorOtions;</select>`

希望有帮助..

# ruby-on-rails - rails jbuilder添加根节点

> ID：11077664
> 
> 赞同：1
> 
> 时间：2012-06-18T06:07:54.087
> 
> 标签：ruby-on-rails, jbuilder

我有以下 jbuilder 视图：

```
json.array!(@users) do |json, user_object|
    json.partial! "api/v1/users/show", user: user_object
end 
```

为了显示每个用户数据，我渲染了部分显示以避免重复。这一切都很好，但我还想在结果中添加一个根节点以指示一些分页数据：

```
{
    total_pages: 1,
    total_records: 1000,
    users: {
        [ ...users here... ]
    }
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-19T15:08:42.860

这应该为您提供 users 数组的根节点：

```
json.users do |json|
    json.array!(@users) do |json, user_object|
        json.partial! "api/v1/users/show", user: user_object
    end
end 
```

它应该产生：

```
users: [
    { ...user here... },
    { ...user here... },
    etc
] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-10T17:35:38.720

试试这个

```
json.total_pages 1
json.total_records 100
json.users do |usersElement|
  usersElement.array!(@users) do |parent, user|
    parent.partial! "api/v1/users/show", user: user
  end
end 
```

# joomla - Joomla 不使用别名？

> ID：11077667
> 
> 赞同：3
> 
> 时间：2012-06-18T06:08:04.563
> 
> 标签：joomla, seo, http-status-code-404, joomla-sef-urls, broken-links

我刚刚将一个 Joomla 网站转移到一个新服务器上，由于某种原因，我无法访问任何链接 - 它们导致 404 / index.php not found。我启用了我的 SEF 和 URL 重写，并且我在我的菜单等中使用别名。如果我使用菜单中的预览链接来查看文章 - 显示效果很好。无论我将哪个页面设为默认 - 它都会显示得很好，但是当我浏览菜单时，我会得到 404。我首先想到的是我的可能有问题，`.htaccess`但看起来也很好：

**.htaccess**

```
##
# @package      Joomla
# @copyright    Copyright (C) 2005 - 2012 Open Source Matters. All rights reserved.
# @license      GNU General Public License version 2 or later; see LICENSE.txt
##

##
# READ THIS COMPLETELY IF YOU CHOOSE TO USE THIS FILE!
#
# The line just below this section: 'Options +FollowSymLinks' may cause problems
# with some server configurations.  It is required for use of mod_rewrite, but may already
# be set by your server administrator in a way that dissallows changing it in
# your .htaccess file.  If using it causes your server to error out, comment it out (add # to
# beginning of line), reload your site in your browser and test your sef url's.  If they work,
# it has been set by your server administrator and you do not need it set here.
##

## Can be commented out if causes errors, see notes above.
Options +FollowSymLinks

## Mod_rewrite in use.

RewriteEngine On

## Begin - Rewrite rules to block out some common exploits.
# If you experience problems on your site block out the operations listed below
# This attempts to block the most common type of exploit `attempts` to Joomla!
#
# Block out any script trying to base64_encode data within the URL.
RewriteCond %{QUERY_STRING} base64_encode[^(]*\([^)]*\) [OR]
# Block out any script that includes a <script> tag in URL.
RewriteCond %{QUERY_STRING} (<|%3C)([^s]*s)+cript.*(>|%3E) [NC,OR]
# Block out any script trying to set a PHP GLOBALS variable via URL.
RewriteCond %{QUERY_STRING} GLOBALS(=|\[|\%[0-9A-Z]{0,2}) [OR]
# Block out any script trying to modify a _REQUEST variable via URL.
RewriteCond %{QUERY_STRING} _REQUEST(=|\[|\%[0-9A-Z]{0,2})
# Return 403 Forbidden header and show the content of the root homepage
RewriteRule .* index.php [F]
#
## End - Rewrite rules to block out some common exploits.

## Begin - Custom redirects
#
# If you need to redirect some pages, or set a canonical non-www to
# www redirect (or vice versa), place that code here. Ensure those
# redirects use the correct RewriteRule syntax and the [R=301,L] flags.
#
## End - Custom redirects

##
# Uncomment following line if your webserver's URL
# is not directly related to physical file paths.
# Update Your Joomla! Directory (just / for root).
##

RewriteBase /

## Begin - Joomla! core SEF Section.
#
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
#
# If the requested path and file is not /index.php and the request
# has not already been internally rewritten to the index.php script
RewriteCond %{REQUEST_URI} !^/index\.php
# and the request is for something within the component folder,
# or for the site root, or for an extensionless URL, or the
# requested URL ends with one of the listed extensions
RewriteCond %{REQUEST_URI} /component/|(/[^.]*|\.(php|html?|feed|pdf|vcf|raw))$ [NC]
# and the requested path and file doesn't directly match a physical file
RewriteCond %{REQUEST_FILENAME} !-f
# and the requested path and file doesn't directly match a physical folder
RewriteCond %{REQUEST_FILENAME} !-d
# internally rewrite the request to the index.php script
RewriteRule .* index.php [L]
#
## End - Joomla! core SEF Section. 
```

接下来，我检查了我上传的 sql 文件（我确实更改了 DB-Prefix），但一切看起来都很好。我的配置看起来不错 - 无论我选择什么默认菜单项，它都能打开默认页面。还有哪些其他问题可能导致 404？

**编辑**

404页内容如下：

```
Not Found

The requested URL /index.php was not found on this server.

Additionally, a 404 Not Found error was encountered while trying to use an ErrorDocument to handle the request. 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-22T00:01:49.483

查看 URL 和 .htaccess，您链接到的网站实际上位于子目录中。

如果是这种情况，则该`RewriteBase /`行将成为问题，因为它指向服务器根目录而不是 Joomla！安装根目录。尝试使用正确的路径修复该行，然后请求实际上应该通过 Joomla！`index.php`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-11T10:23:30.700

我的 joomla 安装在`/var/www/test`，并且 RewriteBase（在 .htaccess 中）指向`/`（即`/var/www`）。在我将其更改为`/test`.

# c# - 如何使用 c# 在 asp.net 中使用数据绑定将类别与子类别相关联并在 gridview 中显示？

> ID：11077669
> 
> 赞同：0
> 
> 时间：2012-06-18T06:08:20.093
> 
> 标签：c#, asp.net

如何将类别与子类别相关联，并在网格视图中显示数据，并在 asp.net 中的数据库中绑定数据？

```
 protected void Page_Load(object sender, EventArgs e)
    {
        {
            if (Page.IsPostBack == false)
                bind();
        }
    }

private void bind()
{
    string subcat1 = "" + Session["subcat"];
    SqlDataAdapter adp = new SqlDataAdapter("select * from catsubcat where subcategory='" + subcat1 + "' and category='electronics'", Class1.getconnectionstring());
    DataSet ds = new DataSet();
    adp.Fill(ds);
    GridView1.DataSource = ds;
    GridView1.DataBind();

} 
```

# playframework-2.0 - 向另一个演员播放 2.0 管道承诺

> ID：11077674
> 
> 赞同：2
> 
> 时间：2012-06-18T06:08:40.267
> 
> 标签：playframework-2.0, akka

在 Akka 中，您可以将未来传递给演员。在 Play 2.0 的承诺下怎么可能做到？

[http://doc.akka.io/docs/akka/current/scala/actors.html#Ask__Send-And-Receive-Future](http://doc.akka.io/docs/akka/current/scala/actors.html#Ask__Send-And-Receive-Future)

```
final Future<Result> transformed = aggregate.map(new Mapper<Iterable<Object>, Result>() {
  public Result apply(Iterable<Object> coll) {
    final Iterator<Object> it = coll.iterator();
    final String s = (String) it.next();
    final int x = (Integer) it.next();
    return new Result(x, s);
  }
});

pipe(transformed).to(actorC); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-18T23:21:06.363

您需要将其包装`Future<Result>`在 a`Promise<Result>`中以在 Play 中的异步请求处理程序中使用它。这是一个例子：

```
public static F.Promise<Result> foo() {

    ActorRef fooActor = Akka.system().actorOf(Props.create(FooActor.class));

    Future<Object> response = ask(fooActor, "message", 5000);

    Future<Result> result = response.map(new Mapper<Object, Result>() {
        @Override
        public Result apply(Object message) {
            return ok("whatever");
        }
    }, HttpExecution.defaultContext());

    return F.Promise.wrap(result);
} 
```

# java - 从 java 和 sql 查询生成 xml

> ID：11077676
> 
> 赞同：3
> 
> 时间：2012-06-18T06:08:45.337
> 
> 标签：java, xml, oracle, dom4j

我正在使用以下查询：

```
SELECT inst.*
FROM
  (SELECT ROWNUM AS r,
    b.name INSTNAME,
    ICC.INSTITUTE_ID,
    ICC.COURSE_ID,
    c.name INSTCOURSE
  FROM INSTITUTE_COURSE_CATEGORY ICC,
    INSTITUTE a,
    MEMBER b,
    INSTITUTE_COURSE c
  WHERE ICC.CATEGORY_ID = 47
  AND ICC.INSTITUTE_ID  = a.id
  AND ICC.INSTITUTE_ID  = c.institute_id
  AND ICC.COURSE_ID     = c.id
  AND a.member_id       = b.id
  )inst
WHERE inst.r BETWEEN 1 AND 10 
```

产生以下结果：

```
 R     INSTNAME                             INSTITUTE_ID   COURSE_ID   INSTCOURSE                                                                 
    1   Asia Pacific Institute Of Mangement     167           1134      Post Graduate Diploma in Management                                        
    2   Asia Pacific Institute Of Mangement     167           1135      Post Graduate Diploma in Management (Marketing)                      
    3   Asia Pacific Institute Of Mangement     167           1136      Post Graduate Diploma in Management (International Business)             
    4   Asia Pacific Institute Of Mangement     167           1138      Post Graduate Diploma in Management (Banking & Financial Services)   
    5   University of Delhi                     182           4283      Bachelor of Business Studies                                     
    6   University of Delhi                     182           4285      Bachelor of Commerce (Pass)                                      
    7   University of Delhi                     182           4291      Bachelor of Commerce (Honours)                                   
    8   University of Delhi                     182           4366      Master of Commerce                                           
    9   Acharya Narendra Dev College            183            812      B.Com. (Hons)                                                    
    10  Aditi Mahavidyalaya                     184            829      B.Com (Pass) 
```

从上面的查询结果中，我不得不在java中制作以下xml：

```
<Root>
  <INSTITUTE>
    <ID>167</ID>
    <NAME>Asia Pacific Instiute Of Mangement</Name>  
    <COURSES>
        <COURSE>
           <ID>1134</ID>
           <NAME>Post Graduate Diploma in Management</NAME>
        </COURSE>
         ..more
    </COURSES>
   </INSTITUTE>
    ..more
</Root> 
```

例如：

```
There are 4 Courses that belongs to InstituteID(167). 

The problem I am facing is how to make 4 child nodes (Courses Nodes(1134,1135,1136,1138)) under a single `<INSTITUTE>`  node 
```

并随后将其他课程节点置于各自的

`<INSITUTE>`

节点。

请提供建议...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T10:04:00.027

您可以使用 Oracle 的 XMLQuery 功能一次性生成 XML。为了说明这一点，我首先通过创建四个表来模拟您的设置：

```
SQL> create table member (id,name)
  2  as
  3  select 1, 'Asia Pacific Institute Of Management' from dual union all
  4  select 2, 'University of Delhi' from dual union all
  5  select 3, 'Acharya Narendra Dev College' from dual union all
  6  select 4, 'Aditi Mahavidyalaya' from dual
  7  /

Table created.

SQL> create table institute (id, member_id)
  2  as
  3  select 167, 1 from dual union all
  4  select 182, 2 from dual union all
  5  select 183, 3 from dual union all
  6  select 184, 4 from dual
  7  /

Table created.

SQL> create table institute_course (id,institute_id,name)
  2  as
  3  select 1134, 167, 'Post Graduate Diploma in Management' from dual union all
  4  select 1135, 167, 'Post Graduate Diploma in Management (Marketing)' from dual union all
  5  select 1136, 167, 'Post Graduate Diploma in Management (International Business)' from dual union all
  6  select 1137, 167, 'Post Graduate Diploma in Management (Banking & Financial Services)' from dual union all
  7  select 4283, 182, 'Bachelor of Business Studies' from dual union all
  8  select 4285, 182, 'Bachelor of Commerce (Pass)' from dual union all
  9  select 4291, 182, 'Bachelor of Commerce (Honours)' from dual union all
 10  select 4366, 182, 'Master of Commerce' from dual union all
 11  select  812, 183, 'B.Com. (Hons)' from dual union all
 12  select  829, 184, 'B.Com (Pass)' from dual
 13  /

Table created.

SQL> create table institute_course_category (category_id,institute_id,course_id)
  2  as
  3  select 47, 167, 1134 from dual union all
  4  select 47, 167, 1135 from dual union all
  5  select 47, 167, 1136 from dual union all
  6  select 47, 167, 1137 from dual union all
  7  select 47, 182, 4283 from dual union all
  8  select 47, 182, 4285 from dual union all
  9  select 47, 182, 4291 from dual union all
 10  select 47, 182, 4366 from dual union all
 11  select 47, 183,  812 from dual union all
 12  select 47, 184,  829 from dual
 13  /

Table created. 
```

我创建了这四个表，以便您的查询给出与您的问题相同的结果集：

```
SQL> SELECT inst.*
  2    FROM ( SELECT ROWNUM AS r
  3                , b.name INSTNAME
  4                , ICC.INSTITUTE_ID
  5                , ICC.COURSE_ID
  6                , c.name INSTCOURSE
  7             FROM INSTITUTE_COURSE_CATEGORY ICC
  8                , INSTITUTE a
  9                , MEMBER b
 10                , INSTITUTE_COURSE c
 11            WHERE ICC.CATEGORY_ID  = 47
 12              AND ICC.INSTITUTE_ID = a.id
 13              AND ICC.INSTITUTE_ID = c.institute_id
 14              AND ICC.COURSE_ID    = c.id
 15              AND a.member_id      = b.id
 16         ) inst
 17   WHERE inst.r BETWEEN 1 AND 10
 18  /

  R INSTNAME                             INSTITUTE_ID  COURSE_ID INSTCOURSE
--- ------------------------------------ ------------ ---------- ------------------------------------------------------------------
  1 Asia Pacific Institute Of Management          167       1137 Post Graduate Diploma in Management (Banking & Financial Services)
  2 Asia Pacific Institute Of Management          167       1136 Post Graduate Diploma in Management (International Business)
  3 Asia Pacific Institute Of Management          167       1135 Post Graduate Diploma in Management (Marketing)
  4 Asia Pacific Institute Of Management          167       1134 Post Graduate Diploma in Management
  5 University of Delhi                           182       4366 Master of Commerce
  6 University of Delhi                           182       4291 Bachelor of Commerce (Honours)
  7 University of Delhi                           182       4285 Bachelor of Commerce (Pass)
  8 University of Delhi                           182       4283 Bachelor of Business Studies
  9 Acharya Narendra Dev College                  183        812 B.Com. (Hons)
 10 Aditi Mahavidyalaya                           184        829 B.Com (Pass)

10 rows selected. 
```

现在 XML 查询是：

```
SQL> select xmlelement
  2         ( "Root"
  3         , xmlelement
  4           ( "INSTITUTE"
  5           , xmlagg(xmlforest(id,name,courses))
  6           )
  7         ).extract('/') your_xml
  8    from ( select i.id
  9                , m.name
 10                , xmlagg
 11                  ( xmlelement
 12                    ( "COURSE"
 13                    , xmlforest(ic.id,ic.name)
 14                    )
 15                  ) courses
 16             from institute i
 17                  inner join member m on (i.member_id = m.id)
 18                  inner join institute_course ic on (ic.institute_id = i.id)
 19                  inner join institute_course_category icc on (icc.institute_id = ic.institute_id and icc.course_id = ic.id)
 20            where icc.category_id = 47
 21            group by i.id
 22                , m.name
 23         )
 24  /

YOUR_XML
--------------------------------------------------------------------------------------------------------------------------------------
<Root>
  <INSTITUTE>
    <ID>167</ID>
    <NAME>Asia Pacific Institute Of Management</NAME>
    <COURSES>
      <COURSE>
        <ID>1137</ID>
        <NAME>Post Graduate Diploma in Management (Banking &amp; Financial Services)</NAME>
      </COURSE>
      <COURSE>
        <ID>1136</ID>
        <NAME>Post Graduate Diploma in Management (International Business)</NAME>
      </COURSE>
      <COURSE>
        <ID>1135</ID>
        <NAME>Post Graduate Diploma in Management (Marketing)</NAME>
      </COURSE>
      <COURSE>
        <ID>1134</ID>
        <NAME>Post Graduate Diploma in Management</NAME>
      </COURSE>
    </COURSES>
    <ID>182</ID>
    <NAME>University of Delhi</NAME>
    <COURSES>
      <COURSE>
        <ID>4366</ID>
        <NAME>Master of Commerce</NAME>
      </COURSE>
      <COURSE>
        <ID>4291</ID>
        <NAME>Bachelor of Commerce (Honours)</NAME>
      </COURSE>
      <COURSE>
        <ID>4285</ID>
        <NAME>Bachelor of Commerce (Pass)</NAME>
      </COURSE>
      <COURSE>
        <ID>4283</ID>
        <NAME>Bachelor of Business Studies</NAME>
      </COURSE>
    </COURSES>
    <ID>183</ID>
    <NAME>Acharya Narendra Dev College</NAME>
    <COURSES>
      <COURSE>
        <ID>812</ID>
        <NAME>B.Com. (Hons)</NAME>
      </COURSE>
    </COURSES>
    <ID>184</ID>
    <NAME>Aditi Mahavidyalaya</NAME>
    <COURSES>
      <COURSE>
        <ID>829</ID>
        <NAME>B.Com (Pass)</NAME>
      </COURSE>
    </COURSES>
  </INSTITUTE>
</Root>

1 row selected. 
```

以下是使用的函数的文档：

[XMLElement](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions242.htm)
[XMLForest](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions244.htm#SQLRF06169)
[XMLAgg](http://docs.oracle.com/cd/E11882_01/server.112/e26088/functions235.htm#sthref1764)

请注意，我`.extract('/')`仅用于漂亮的打印。你可以把它关掉。

而且，仅仅因为您当前的查询只有两个级别，您可以通过使用下面的查询来稍微缩短查询。但是，当您有两个以上的级别时，您必须使用可以轻松扩展的内联变体。

```
SQL> select xmlelement
  2         ( "Root"
  3         , xmlelement
  4           ( "INSTITUTE"
  5           , xmlagg
  6             ( xmlforest
  7               ( i.id
  8               , m.name
  9               , xmlagg
 10                 ( xmlelement
 11                   ( "COURSE"
 12                   , xmlforest(ic.id,ic.name)
 13                   )
 14                 ) as "COURSES"
 15               )
 16             )
 17           )
 18         ).extract('/') your_xml
 19    from institute i
 20         inner join member m on (i.member_id = m.id)
 21         inner join institute_course ic on (ic.institute_id = i.id)
 22         inner join institute_course_category icc on (icc.institute_id = ic.institute_id and icc.course_id = ic.id)
 23   where icc.category_id = 47
 24   group by i.id
 25       , m.name
 26  / 
```

希望这可以帮助。

问候，
罗布。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T07:17:11.610

您可以构造一个 POJO，然后使用 JAXB API 将其转换为 XML。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-18T06:49:12.663

为了或多或少地获得这个结果：

```
<?xml version="1.0" encoding="UTF-8"?>

<institute>
  <id>167</id>
  <name>Asia Pacific Institute Of Mangement</name>
  <courses>
    <course>
      <id>1136</id>
      <name>Post Graduate Diploma in Management (International Business)</name>
    </course>
    <course>
      <id>1138</id>
      <name>Post Graduate Diploma in Management (Banking &amp; Financial Services)</name>
    </course>
  </courses>
  <id>182</id>
  <name>University of Delhi</name>
  <courses>
    <course>
      <id>4283</id>
      <name>Bachelor of Business Studies</name>
    </course>
  </courses>
</institute> 
```

您可以执行以下操作：

```
import java.io.IOException;
import java.io.UnsupportedEncodingException;
import java.util.ArrayList;
import java.util.List;

import org.dom4j.Document;
import org.dom4j.DocumentHelper;
import org.dom4j.Element;
import org.dom4j.io.OutputFormat;
import org.dom4j.io.XMLWriter;

public class Dom4JTest {

    // DATA SET ORDERED BY INSTITUTE, COURSE (COULD BE THE ID)

    // 3 Asia Pacific Institute Of Mangement 167 1136 Post Graduate Diploma in Management
    // (International Business) New Delhi Delhi India
    // 4 Asia Pacific Institute Of Mangement 167 1138 Post Graduate Diploma in Management (Banking &
    // Financial Services) New Delhi Delhi India
    // 5 University of Delhi 182 4283 Bachelor of Business Studies New Delhi Delhi India

    private static List<String[]> data = new ArrayList<String[]>();
    static {
        data.add(new String[] { "3", "Asia Pacific Institute Of Mangement", "167", "1136",
                "Post Graduate Diploma in Management (International Business)", "New Delhi", "Delhi", "India" });
        data.add(new String[] { "4", "Asia Pacific Institute Of Mangement", "167", "1138",
                "Post Graduate Diploma in Management (Banking & Financial Services)", "New Delhi", "Delhi", "India" });
        data.add(new String[] { "5", "University of Delhi", "182", "4283", "Bachelor of Business Studies", "New Delhi", "Delhi", "India" });

    }

    public static void main(String[] args) throws IOException {
        Document document = DocumentHelper.createDocument();
        Element root = document.addElement("institute");

        String id = null;
        Element coursesElement = null;

            // here the iteration over dataset, of course the result will not be just string but the idea will be the same...
        for (String[] strs : data) {
            if (id == null || !id.equals(strs[2])) {
                id = strs[2];
                root.addElement("id").addText(id);
                root.addElement("name").addText(strs[1]);
                coursesElement = root.addElement("courses");
            }
            Element course = coursesElement.addElement("course");
            course.addElement("id").setText(strs[3]);
            course.addElement("name").setText(strs[4]);
        }

        OutputFormat format = OutputFormat.createPrettyPrint();
        XMLWriter writer = new XMLWriter(System.out, format);
        writer.write(document);
    }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T07:54:41.727

Oracle 可以从本机查询创建 XML

[http://docs.oracle.com/cd/B19306_01/appdev.102/b14259/xdb13gen.htm](http://docs.oracle.com/cd/B19306_01/appdev.102/b14259/xdb13gen.htm)

我想这将是最快的方法

# gcc - Cmake 更改编译标志

> ID：11077679
> 
> 赞同：4
> 
> 时间：2012-06-18T06:09:05.650
> 
> 标签：gcc, configuration, cmake, flags

我想为我的 cmake 项目运行自动优化标志基准。项目正在交叉编译，基本的 c/cxx 标志设置在工具链文件中，可分配`-DCMAKE_TOOLCHAIN_FILE=<...>`.

我想在基准测试期间更改 c/cxx 标志，但我不想在每次基准测试迭代时更改工具链文件。我只想将一些从工具链设置的标志更改为其他值（例如，`-mtune=cortex-a8`更改为`-mtune=cortex-a9`）。我认为最好的方法是使用`-DMY_TUNE_FLAG=<..>`.

但是我怎样才能改变以前设置的标志呢？（不将标志附加到 c/cxx 标志）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T10:41:36.877

我自己找到了解决方案。`string`有用的功能在哪里。例如，我可以使用变量 BENCH_ARCH 来更改 ARM 拱门。在所有默认 C/C++ 标志定义之后，我在工具链文件中写入。首先，为缓存添加变量：

```
...
set(BENCH_ARCH "${BENCH_ARCH}" CACHE STRING "Arch" FORCE)`
... 
```

之后，检查是否设置了变量并替换标志变量

```
if(BENCH_ARCH)
    string(REGEX REPLACE "-march=[A-Za-z_0-9/-]*" "-march=${BENCH_ARCH}"          <variable, which set flags> ${<variable, which set flags>})
endif()
... 
```

例如：

```
string(REGEX REPLACE "-march=[A-Za-z_0-9/-]*" "-march=${BENCH_ARCH}" CMAKE_CXX_FLAGS ${CMAKE_CXX_FLAGS}) 
```

现在，我可以`cmake -DBENCH_ARCH=armv5te -DCMAKE_TOOLCHAIN_FILE=<...> ...`用于启用`-march=armv5te`和`cmake -DCMAKE_TOOLCHAIN_FILE=<...> ...`用于启用默认工具链设置。希望这不仅对我有帮助。

# android - Android相机图像文件大小

> ID：11077680
> 
> 赞同：0
> 
> 时间：2012-06-18T06:09:06.257
> 
> 标签：android, image, camera

我有一个相机工具类，我用它从相机意图中获取图像，还调整所拍摄图像的大小。

但是拍摄的图像约为 100K（调整大小后），如何在保持质量的情况下使其更小。质量只需要以尺寸显示在屏幕上 - x,y min 320 像素。

下面是类中的压缩方法：

```
/*
 * quality Hint to the compressor, 0-100\. 0 meaning compress for small size,
 * 100 meaning compress for max quality. Some formats, like PNG which is
 * lossless, will ignore the quality setting 
 */
private boolean c( final String i_ImageFileName, final String i_OutputImageFileName )
{
    BitmapFactory.Options bitmapOptions = new BitmapFactory.Options();

bitmapOptions.inJustDecodeBounds = true;

try 
{
        BitmapFactory.decodeStream( new FileInputStream( i_ImageFileName ),
                                    null,
                                    bitmapOptions );
    }
catch( FileNotFoundException e ) 
{
    Log.e( mTAG, "c()- decodeStream- file not found. " + e.getMessage() );
    return false;
    }

//Find the correct scale value. It should be the power of 2.
final int REQUIRED_SIZE = 320;
int width_tmp   = bitmapOptions.outWidth;
int height_tmp  = bitmapOptions.outHeight;
int scale       = 1;

while( true )
{
    if( width_tmp  < REQUIRED_SIZE || 
        height_tmp < REQUIRED_SIZE )
    {
        break;
    }

    width_tmp   /= 2;
    height_tmp  /= 2;
    scale       *= 2;
}

// Decode with inSampleSize
BitmapFactory.Options newBitmapOptions = new BitmapFactory.Options();

newBitmapOptions.inSampleSize=scale;

Bitmap newBitmap = null;

    newBitmap = BitmapFactory.decodeFile( /*getImageFile*/(i_ImageFileName)/*.getPath()*/ , newBitmapOptions); 

    ByteArrayOutputStream os = new ByteArrayOutputStream();

newBitmap.compress( CompressFormat.PNG, 
                        100, 
                        os );

    byte[] array = os.toByteArray();

    try 
    {
        FileOutputStream fos = new FileOutputStream(getImageFile( i_OutputImageFileName ));
        fos.write(array);
    } 
    catch( FileNotFoundException e ) 
    {
        Log.e(mTAG, "codec- FileOutputStream failed. " + e.getMessage() );
        return false;
    } 
    catch( IOException e ) 
    {
        Log.e(mTAG, "codec- FileOutputStream failed. " + e.getMessage() );
        return false;
    }

    return true;
} 
```

我认为我正在“按规定”做所有事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:19:20.670

嗯，当然，尺寸和质量是你权衡的两件事。您不能同时拥有最小的文件大小和最高的质量。您在这里要求最高质量，但尺寸对您来说太大了。所以，拒绝质量。

对于 PNG，我不知道质量设置有什么作用（？）。出于此处的目的，它是一种无损格式。（例如，设置为 100 甚至可能会禁用压缩。）

这些是什么类型的图像？如果它们是线条艺术，例如徽标（不是照片），那么如果压缩的 PNG 有那么大，我会感到惊讶；这种图像数据压缩得很好。（假设压缩是打开的！）

对于照片，它不会很好地压缩。320 x 320 图像的 100KB 大约是每个像素 1 个字节。如果您缩小到该文件大小，那是 PNG 的 8 位颜色表，而 256 色甚至无法提供出色的图像质量。

如果它们是照片，您肯定要使用 JPG。再合适不过了。即使使用高质量设置，它的有损编码也应该很容易低于 100KB。

# iphone - 如何将数据库的值存储在数组中，以及如何从该数组中获取最后插入的记录？

> ID：11077683
> 
> 赞同：1
> 
> 时间：2012-06-18T06:09:24.120
> 
> 标签：iphone, objective-c, ios5

我制作了一个 iphone 应用程序，例如翻转卡片，其中卡片的值随机来自数据库。我已经制作了点击“下一步”按钮转到下一张卡片的功能。再次随机卡值随机来自数据库。

我已将代码用作-

```
//On ViewDidLoad()

[self databaseOpen];

    NSString *query_wordData = [NSString stringWithFormat:@"select * from tbl_flashcards order by random() limit 1"];
    NSArray *wordData = [database executeQuery:query_wordData];
    NSLog(@"WORD DATA : %@",wordData);

    NSString *str = [[wordData objectAtIndex:0] valueForKey:@"Term"];
    NSString *str1 = [[wordData objectAtIndex:0] valueForKey:@"Definition"];

    [btnBackCard  setTitle:str forState:UIControlStateNormal];

    [btnFrontCard setTitle:str1 forState:UIControlStateNormal];

    [database close];
    [database release];

//on Next button

    -(IBAction) nextButtonPressed
{
   isBack = YES;

    btnFrontCard.userInteractionEnabled = YES;

    [self frontButtonAnimation];

} 
```

现在我想实现“返回”按钮功能，其中显示的卡片可以以“最后显示的卡片首先显示”的方式再次显示。

我知道我必须将那些最后访问的卡存储在一个数组中，然后在单击“返回”按钮时从该数组中调用最后一个索引卡。但我不知道该怎么做。

请帮我。

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:25:13.083

不要使用`limit 1`. 以随机顺序检索所有卡片（通过省略查询中的限制）并使用数组上的索引在您分别按下按钮时在卡片之间来回切换

**编辑 ：**

将您的数组定义为视图控制器的成员。比在初始化控制器时使用此成员从数据库接收记录并在控制器方法中需要的任何地方使用它。

# php - “私人”网站真正需要多少安全性？

> ID：11077685
> 
> 赞同：5
> 
> 时间：2012-06-18T06:09:36.290
> 
> 标签：php, mysql, security

我在为相当孤立的一群人（不超过 80 人）维护一个小型网站时提出这个问题。它目前具有简单的登录功能（电子邮件、密码），“受保护”的数据仅仅是我们会员的联系信息（电话、地址、电子邮件）。该网站是用 PHP 编写的并使用 My SQL。

最近几天，我一直在阅读有关网站安全的论坛和其他网站，因为我想在我们的网站上增强它。目前，安全性包括存储在数据库中的 SQL 注入保护和 MD5 哈希密码。这感觉有点不足，但我也觉得很容易把它走得太远。我的意思是这里不完全是核发射代码，但人们通常觉得在网上显示数据有点不舒服。该网站本身由一个相当知名的网络主机托管。

我现在能看到的唯一威胁是恶作剧者跌跌撞撞地穿过网站并尝试一些他们自制的混合物？

所以我认为中间的某个地方就足够了。喜欢

*   SQL 注入保护（根据需要增强）
*   使用盐的更强的哈希方法
*   XSS 保护
*   DDoS 防护
*   访问会员区时的 SSL

那些更有经验的人怎么看？

更新：我想补充一点，我自己做所有事情，没有购买花哨的加密技术或聘请专业程序员的预算。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:16:37.130

要增强**SQL 注入**的安全性，您必须看到：

*   [防止 SQL 注入的最佳方法](https://stackoverflow.com/questions/60174/best-way-to-prevent-sql-injection-in-php)

它会告诉您使用`PDO`参数化查询。

要了解**一般安全问题**，请参阅这篇文章，其中涵盖了很多内容：

*   [PHP 安全指南（由 PHP 安全联盟提供）](http://phpsec.org/projects/guide/)

**使用以下方式审核**您的站点的安全性：

*   [OWASP](https://www.owasp.org/index.php/Main_Page)

和

*   [PHPSec](http://phpsec.xqus.com/)

> phpSec 是一个开源 PHP 安全库，负责处理 Web 开发人员面临的常见安全任务。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T06:11:59.690

将 CSRF 漏洞保护添加到您的安全列表中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T06:16:27.597

您也可以添加[远程文件包含](http://en.wikipedia.org/wiki/Remote_file_inclusion)。

# css - 我们如何固定移动网站的图像尺寸？

> ID：11077687
> 
> 赞同：3
> 
> 时间：2012-06-18T06:09:52.340
> 
> 标签：css, image, html, mobile

我们如何将相同的图像调整为iphone纵向和横向模式和ipad纵向和横向模式？

我有一个 320px 宽度的网站，标题图像也是 320px，所以当我在横向模式下看到这个网站时，它看起来有点小，在 ipad 中它甚至更小，所以我该如何修复它以获得相同的宽度设备。我已经使用媒体查询来执行此操作并根据设备宽度固定图像宽度，例如：对于 ipad，我已将图像大小写为 780px，对于移动横向 380px .. 这是正确的做法，或者有没有更好的方法?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:24:07.563

您使用的程序不是完美的方法......它正在创建一些垃圾 css 代码。只需在样式表的默认部分中使用以下代码即可。无需将其嵌套在不同大小的媒体查询中。

```
img { max-width: 100%; height: auto} 
```

你也可以通过[这个链接](http://webdesignerwall.com/tutorials/5-useful-css-tricks-for-responsive-design)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:31:35.370

使用您的框架或 php（用户代理中的 strstr）检测您的设备，并为您的站点设置和设备特定的样式表。此解决方案适合仅加载使用过的 css 文件。

针对所有解决方案和设备优化您的网站的最佳方式是使用响应式网页设计。这是一种与分辨率相关的布局设计方法。

以下是一些示例的列表：

[http://designmodo.com/responsive-design-examples/](http://designmodo.com/responsive-design-examples/)

# asp.net-mvc-3 - 使用 AJAX 响应将数据绑定到 Telerik Grid

> ID：11077688
> 
> 赞同：0
> 
> 时间：2012-06-18T06:09:55.677
> 
> 标签：asp.net-mvc-3, telerik-grid, telerik-mvc

我正在使用 Telerik 网格控制。

程序：

我将从组合框中选择任何一个表名，并且在此组合框的 onchange 事件中，我正在执行 ajax 请求，现在我想使用 Ajax 响应将数据绑定到 Telerik Grid。

除了使用此 Ajax 响应将数据绑定到网格之外，一切正常。

任何人都可以让我重新审视这个......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T18:57:47.257

在组合框的更改事件中，使用网格 ID 获取“tGrid”并使用 DataBind() 设置数据源

```
$('#comboboxId').change(  function () {
    var grid = $("#theGrid").data("tGrid");
    var url= 'http://yourUrlGoesHere?Type=' + $('#comboboxId').val()
    $.getJSON(url, function (data) {grid.dataBind(data);});

    }); 
```

# c - 为什么 open mp 不并行化此代码？

> ID：11077690
> 
> 赞同：2
> 
> 时间：2012-06-18T06:10:10.373
> 
> 标签：c, openmp

此代码不会使计算 4 个总和的代码更快。相反，它甚至需要更多时间。输出也不如预期。

```
#include <stdio.h>
#include <omp.h>
int main()
{
    int i,j,k,l;
    int sum = 0,sum1 = 0,sum2 = 0,sum3 = 0;
    #pragma omp parallel
    {
        #pragma omp sections
        {
            #pragma omp section
            {
                printf("%d",omp_get_thread_num());
                for(i = 0; i < 500000000; i++) sum = sum + 1;
            }
            #pragma omp section
            {
                printf("%d",omp_get_thread_num());
                for(i = 0; i < 500000000; i++) sum1 = sum1 + 1;
            }
            #pragma omp section
            {
                printf("%d",omp_get_thread_num());
                for(i = 0; i < 500000000; i++) sum2 = sum2 + 1;
            }
            #pragma omp section
            {
                printf("%d",omp_get_thread_num());
                for(i = 0; i < 500000000; i++) sum3 = sum3 + 1;
            }
        }
    }
    printf("sum is %d %d %d %d",    sum,sum1,sum2,sum3);
} 
```

输出是`sum is 218748707 222052401 239009041 196849489`

请让我知道在这里使用 openmp 的缺陷。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T08:41:21.943

减速源于这样一个事实，即,`sum`和是共享变量，因此编译器必须为每个增量生成获取/更新/存储指令，而不是像串行版本那样仅将中间和保存在寄存器中。`sum1``sum2``sum3`

您应该将每个总和设置为使用它的线程的本地。最简单的方法是减少每个总和：

```
#pragma omp parallel private(i) reduction(+:sum,sum1,sum2,sum3)
{
    // Rest of the code goes unchanged
} 
```

`private(i)`将解决结果不正确的问题。`reduction(+:sum,sum1,sum2,sum3)`将使每个线程累积自己的、和副本`sum`，最后本地副本将相加形成最终值。`sum1``sum2``sum3`

以下是一些性能数据：

串行版本 - 3.812 秒：

```
$ gcc -o mp.x mp.c -lgomp
$ time ./mp.x
0000sum is 500000000 500000000 500000000 500000000
./mp.x  3.81s user 0.00s system 99% cpu 3.812 total 
```

具有共享变量的 OpenMP 版本 - 7.982 秒：

```
$ gcc -fopenmp -o mp.x mp.c
$ time OMP_NUM_THREADS=4 ./mp.x
0132sum is 500000000 500000000 500000000 500000000
OMP_NUM_THREADS=4 ./mp.x  21.88s user 0.86s system 284% cpu 7.982 total 
```

OpenMP 版本减少 - 1.226 秒：

```
$ gcc -fopenmp -o mp.x mp.c
$ time OMP_NUM_THREADS=4 ./mp.x
0321sum is 500000000 500000000 500000000 500000000
OMP_NUM_THREADS=4 ./mp.x  4.53s user 0.00s system 370% cpu 1.226 total 
```

还有另一个代码转换也会减慢速度，事实上,`sum`和位于主程序的堆栈上，而部分代码由 OpenMP 处理器提取并放入单独的函数中，然后由并行团队中的每个线程。该函数提供了一个数据结构，其中包含指向四个共享和的指针，并且代码使用这些指针进行操作。您可以比较两种情况下的汇编程序输出并亲自查看 - 如果您想更深入地研究并行性能的东西，这样做非常有指导意义。`sum1``sum2``sum3`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T06:20:43.473

使用并发并不总是免费的。可能会涉及到您看不到的开销，例如创建新线程、锁定内存区域等。您不能总是期望琐碎任务的性能提升。

您没有得到预期输出的原因是因为所有线程都使用相同的循环变量 ( `i`)。这会导致数据竞争，这也是您的总和不等于 500000000 的原因。

# c - C - 递归函数、排列、堆空间和神秘的错误

> ID：11077707
> 
> 赞同：1
> 
> 时间：2012-06-18T06:12:01.093
> 
> 标签：c, recursion, stack, permutation

提前感谢您抽出宝贵时间阅读我的帖子。我将是第一个承认这段代码有点复杂的人。

这个周末我的项目一直在制作一个程序，该程序将格式化的字符串作为参数并吐出该字符串的所有可能排列。格式化字符串看起来类似于 printf 格式化字符串。常量保存在字符串中，变量部分如下所示： %[number-of-chars][type-of-permuation] where

[type-of-permutation] 可以是“d”表示整数，“u”表示大写字母字符，“l”表示小写字母，“a”表示所有字母字符，“n”表示字母数字。

有一种特殊情况“%w”，它从单词列表中读取单词，而不是递增每个单独的字符。

事情通常按照我想要的方式进行。但是，在使用 gdb 进行测试和调试时，我发现了两个我无法解释的错误。

错误 #1：字符串部分最初填充的是该类型的最小字符（例如，%5d 将填充为“00000”）但是，在执行任意命令（fopen）之后，部分包含任意字符，通常在值大于 0x09。这发生在我在源代码中标记的第 143 行。

错误 #2：当我像这样运行程序时：“./Permute %w%2d -w words”，其中“words”是 Ubuntu 单词列表，程序在到达第 4,200 行后抛出分段错误词汇表。这也令人费解。因为数字 4,200 是如此随机，所以我只能假设程序的堆栈内存不足或类似情况。

我将此代码分解为几个头文件。我将首先发布主要代码，然后是下面包含的头文件。

```
#include <stdio.h>
#include "../Libraries/permute.h"
#include <malloc.h>
#include <string.h>

void main (int argc, char * argv[]) {

  //Allocate ten base pointers to be inserted into our master string.
  struct base * part[10];

  //Allocate a character string on the heap to be manipulated by our program.
  char * master = malloc(100);

  //Organize arguments
  if(argc < 2) {
      printf("Usage:\n./Permute [Format String] -p -w [word-list] -o [output-file]\n");
      printf("Format string with the general form %%[number-of-chars][type]\n");
      printf("Where [number-of-chars] is between 1 and 9\n");
      printf("And [type] is d for integer, a for ALPHA, n for ALPHA_NUMERIC, u for UPPERCASE, l for LOWERCASE\n");
      printf("-p increments all parts in parallel. \n");    
      printf("-w Reads words for %%w from [word-list]\n");
      return;
  }

    int count;
    int parallel = 0;
    char * wordlist = NULL;
    FILE * file = NULL;
    char * output = NULL;
    FILE * out = NULL;
    for(count = 1; count < argc; count++){
      char first = *argv[count];
      int second = *(argv[count] + 1);  
      if (first == '-') {
        switch (second) {
            case 'p':
                parallel = 1;
                break;
            case 'w':
                wordlist = argv[count+1];
                break;
            case 'o':
                output = argv[count+1];
                break;
        }
    }
}

  //Parse format string
  int i = 0;
//This is the counter for the current base struct we're operating on.
int x;
int size;
int type;
//Create a pointer that points to a position inside our master string.
char * current = master;
//Cycle through each character in the format string.
for(count = 0; count < strlen(argv[1]); count++) {

    //If the character is a constant, set the current character in the master string to the character in the format string. 
    if (*(argv[1] + count) != '%') {
        *current = *(argv[1] + count);
        current++;
    }

    //Otherwise, initialize a base structure using one of the pointers in the array declared above.
    //Fill the structure according to the format string with rules specified above.
    else {
        size = *(argv[1] + count + 1) - '0';

        //If the base part is a wordlist, do special things.
        if (*(argv[1] + count + 1) == WORDLIST) {
            type = WORDLIST;
            part[i] = malloc(sizeof(int) * 3 + sizeof(FILE *) + MAX_WORD_SIZE);
            memset(part[i], 0, sizeof(int) * 3 + sizeof(FILE *) + MAX_WORD_SIZE);
            part[i]->file = fopen(wordlist, "r");
            if (part[i]->file == NULL)
                perror("Could not open file");
            fgets(part[i]->guts, MAX_WORD_SIZE, part[i]->file);
            part[i]->size = StripChar(part[i]->guts, strlen(part[i]->guts), '\n');
        }

        //Otherwise, fill out the base structure like normal.
        else {
            type = (int)*(argv[1] + count + 2);
            part[i] = malloc(sizeof(int) * 3 + sizeof(FILE *) + size);          
            part[i]->size = size;
        }
        part[i]->type = type;
        part[i]->offset = (int)(current - master);

        //If the base part is not a wordlist (its size does not vary), move the position in the master string forward
        //based on the size of the part. Move the position in the format string forward 2 places.
        if (type != WORDLIST) {
            current += size;
            count += 2;
        }

        //If the base part is a wordlist (meaning its size varies), keep the pointer inside the master string where it is.
        //We will move things around later to make everything fit.
        else {
            count += 1;
        }

        //Set all characters inside the base part to their minimum value.
        for (x = 0; x < size; x++) {
            switch (type) {
                case NUMERIC:
                    part[i]->guts[x] = '0';
                    break;              
                case ALPHA:
                    part[i]->guts[x] = 'A';
                    break;
                case ALPHA_NUMERIC:
                    part[i]->guts[x] = '0';
                    break;
                case UPPERCASE:
                    part[i]->guts[x] = 'A';
                    break;
                case LOWERCASE:
                    part[i]->guts[x] = 'a';
                    break;
            }
        }

        //Move on to the next base structure.
        i++;
    }
}
//Terminate the masterstring with a null character.
*current = '\0';
//Calculate the size of the master string. (Without wordlist parts)
size_t mastersize = (size_t)(current - master);
//Keep track of the number of characters we've inserted into the master string for each wordlist part.
int wordsize = 0;
//Record the number of parts to cycle through in the master string
int max = i;

if (output != NULL) {
    out = fopen(output, "w+");
}
/*BUG #1: THIS IS WHERE THE STRING GETS CHANGED. NO IDEA WHY. part[i]->guts was something like "AAAA", now it's something like 0x0002000200020002*/

while (1) { 
    wordsize = 0;

    //If parallel flag is set, increment all parts at once.
    if (parallel) {
        for (i = 0; i < max; i++) {
            Increment(part[i]->guts, part[i]->size, 0, part[i]->type);

            //Copy the incremented part into the master string at offset
            strncpy(master + part[i]->offset, part[i]->guts, part[i]->size);
        }

        //Then, once all parts are copied into the master, insert the words from the wordlist into the master string,
        //moving the rest of the string around as needed.
        for (i = 0; i < max; i++) {
            if (part[i]->type == WORDLIST) {
                memmove(master + part[i]->offset + part[i]->size + wordsize, master + part[i]->offset + wordsize, mastersize - part[i]->offset); 
                strncpy(master + part[i]->offset + wordsize, part[i]->guts, part[i]->size); 
                wordsize += part[i]->size;          
            }       
        }
    }

    //Otherwise, just increment the rightmost part.
    else {
        IncrementC(part, max - 1, wordlist);

        //Copy the incremented part into the master string at offset
        for (i = 0; i < max; i++) {
            if (part[i]->type != WORDLIST)
                strncpy(master + part[i]->offset, part[i]->guts, part[i]->size);        
        }

        //Then, once all parts are copied into the master, insert the words from the wordlist into the master string,
        //moving the rest of the string around as needed.       
        for (i = 0; i < max; i++) {
            if (part[i]->type == WORDLIST) {
                memmove(master + part[i]->offset + part[i]->size + wordsize, master + part[i]->offset + wordsize, mastersize - part[i]->offset); 
                strncpy(master + part[i]->offset + wordsize, part[i]->guts, part[i]->size); 
                wordsize += part[i]->size;          
            }       
        }
    }

    //Terminate the master string with a zero again (In case we overwrote it)
    *(master + mastersize + wordsize) = '\0';

    //Print the master string   
    if (out != NULL) {
        fwrite(master, mastersize + wordsize, 1, out);
        fwrite("\n", 1, 1, out);
    }
    printf("%s\n", master);
    for (i = 0; i < max; i++) {
        if (part[i]->type == WORDLIST) {
            memmove(master + part[i]->offset, master + part[i]->offset + part[i]->size, mastersize - part[i]->offset);      
        }       
    }
}
} 
```

//PERMUTE.H

```
#define NUMERIC 100
#define ALPHA 97
#define ALPHA_NUMERIC 110
#define LOWERCASE 108
#define UPPERCASE 117
#define WORDLIST 119
#define MAX_WORD_SIZE 50
#include <stdio.h>
#include "files.h"

//Used for multipart strings
struct base {
    int type;   //Determines which set of values the character should cycle through.
    int offset; //The offset of the part from the beginning of the multipart string.
    int size;   //Size of the part.
    FILE * file;    //File pointer used for cycling through word lists
    char guts[];    //The actual part to be inserted into the string.
};

//Recursive function Increment takes a string of length len and increments the character found [offset] number of chars
//left of the end of the string. Type determines which values the character should cycle through. (A-Z, a-z, 0-9, etc.)
int Increment(char * start, size_t len, int offset, int type) {
    char * stop = start + len - 1;
    char * place = stop - offset;
    int min, max, count;

    //Setup break points to determine if incremented char is at the end of its cycle for a given type.
    switch (type) {
        case NUMERIC:
            min = (int)'0';
            max = (int)'9';
            break;
        case ALPHA:
            min = (int)'A';
            max = (int)'z';
            break;
        case ALPHA_NUMERIC:
            min = (int)'0';
            max = (int)'z';
            break;
        case UPPERCASE:
            min = (int)'A';
            max = (int)'Z';
            break;
        case LOWERCASE:
            min = (int)'a';
            max = (int)'z';
            break;
        default:
            return -1;
    }

    //If our specified character is not greater than its maximum value, increment the character based on
    //the type of incrementation specified.
    if (*place < max) {
        switch (type) {
            case NUMERIC:
                *place += 1;        
                return 1;
                break;
            case ALPHA:
                if (*place == 'Z')
                    *place = 'a';
                else
                    *place += 1;
                return 1;
                break;
            case ALPHA_NUMERIC:
                if (*place == '9')
                    *place = 'A';
                if (*place == 'Z')
                    *place = 'a';
                else
                    *place += 1;
                return 1;
                break;
            case UPPERCASE:
                *place += 1;        
                return 1;
                break;
            case LOWERCASE:
                *place += 1;        
                return 1;
                break;
            default:
                return -1;
        }
    }

    //If the character is greater than the maximum value, set it to it's minum and Increment() the next character
    //to the left. If there is no character to the left, set all characters to zero and return 0.
    else {
        if(place == start) {
            for (count = 0; start + count < stop; count++)
                *(start + count) = (char)min;
            *start = (char)min;
            return 0;
        }
        else {
            *place = (char)min;
            return Increment(start, len, offset + 1, type);
        }
    }
}

//IncrementC() stands for Increment Combined. Takes an array of pointers to base structures, an offset, and a string
//with the filename of a wordlist. 
int IncrementC (struct base * part[], int offset, char * wordlist) {        
    //If the type of permutation is anything but a wordlist.    
    if (part[offset]->type != WORDLIST) {   
        //Call Increment() on the base structure determined by offset.
        //If Increment() returns 0, the function calls itself on the next base structure to the left.       
        if ( Increment(part[offset]->guts, part[offset]->size, 0, part[offset]->type) == 0) {
            if (offset == 0)
                return 0;
            else
                IncrementC(part, offset - 1, wordlist);
        }
    }

    //If the type of permutation is a wordlist
    else {
        //Check to see if the base structure has an open file descriptor associated with it.
        //If not, open the file specified by wordlist.
        if (part[offset]->file == NULL) {
            if (wordlist != NULL)
                part[offset]->file = fopen(wordlist, "r");
            if (part[offset]->file == NULL)
                perror("Could not open word list");
        }

        //Get the next line from the wordlist file. If at EOF, reopen the file and get the first line of the new file descriptor.
        if(fgets(part[offset]->guts, MAX_WORD_SIZE, part[offset]->file) == NULL) {
            fclose(part[offset]->file);
            part[offset]->file = fopen(wordlist, "r");
            if (part[offset]->file == NULL)
                perror("Could not open word list");
            fgets(part[offset]->guts, MAX_WORD_SIZE, part[offset]->file);   

            //If the base structure is the farthest to the left in the string, return 0\. Otherwise, call this
            //function on the base structure to the left.           
            if (offset == 0) {
                part[offset]->size = StripChar(part[offset]->guts, strlen(part[offset]->guts), '\n');
                return 0;
            }
            else {
                IncrementC(part, offset - 1, wordlist);
            }
        }
        //Strip the new line character from the string.
        part[offset]->size = StripChar(part[offset]->guts, strlen(part[offset]->guts), '\n');
    }   
} 
```

//文件.H

```
#include <stdio.h>
#include <malloc.h>
#include <string.h>

int ReadFile(char * filename, char * output) {
  //Open file and store in packet
  FILE *input;
  input = fopen(filename, "r");
  int count = 0;
  char c = fgetc(input);
  for(count = 0; c != '\0' && c != EOF; c = fgetc(input)) {
      *(char *)(output + count) = c;
      count++;
}
  fclose(input);

  printf("Read: %s from %s\n", output, filename);
  return (count - 1);
}

  int StripChar (char * in, size_t len, char strip) {
  int count;
  int outcount = 0;
  char * out = malloc(len);

  for (count = 0; count < len; count++) {
      if(*(in + count) != strip) {
        *(out + outcount) = *(in + count);
        outcount++;
    }
}

  *(out + outcount) = '\0';

  strcpy(in, out);

  return outcount;

} 
```

//结尾

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T06:20:16.510

如果我发现，我会继续编辑和添加更多错误。

首先，有一个错误：

1.  `argv`s 是字符串：`argv`是字符串的一维数组。您不能将指针直接类型转换为`int`. 如果这样做，您只会将该字符串的第一个字符转换为`int`

    ```
    int second = *(argv[count] + 1); 
    ```

您必须使用`atoi`某种功能将整数字符串参数转换为整数。

```
 int seecond = atoi ( argv[count] ); 
```

2\. 您的代码中绝对***没有或极少的错误处理***会导致很多问题。这是**堆栈损坏的可能根本原因**

在`Permute.h`函数中

```
int Increment(char * start, size_t len, int offset, int type){
char * stop = start + len - 1;
char * place = stop - offset;
<snip..> 
```

在这里，如果这 `(stop - offset)`是`<`您的`start`指针，则**可能存在内存损坏。**

记住规则：`You can dodge a million bullets. But it takes just one !`。如果程序崩溃，您编写程序的所有辛勤工作和努力都将付诸东流。当你进入一个行业环境时，代码的质量很重要，而不仅仅是功能。只有在代码中进行更多的错误检查才能提高质量。

我非常重视错误检查，因为作为开发人员，您的印象是基于代码的崩溃频率。

3\. 您需要确保正确分配内存。

```
//Allocate a character string on the heap to be manipulated by our program.
char * master = malloc(100); 
```

在这种情况下，你的意思是`100`什么？它们应该是`100`字节吗？还是`100 ints`？

适当的分配将是

```
char * master = malloc(100 * sizeof(char)); 
```

4\. 你在你的函数`malloc`中编辑了一堆内存。`main`但是你在哪里`free`呢？我没有看到一个呼叫`free`？记住您从系统中获取的任何资源（文件、线程句柄、内存等），您必须返回。否则会导致资源泄漏......！

# javascript - KineticJS 使文本垂直对齐

> ID：11077708
> 
> 赞同：1
> 
> 时间：2012-06-18T06:12:12.403
> 
> 标签：javascript, kineticjs

我正在尝试用 KineticJS 绘制一些东西。我想让文本垂直对齐，但没有找到一个属性让它像我想要的那样呈现。

我尝试了“align”、“verticalAlign”，但这些都不符合我的要求。

我想要这样的文字显示：

```
吨
乙
X
吨
```

但它不起作用并且总是这样显示：

```
文本
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-20T00:46:20.937

我想最好的办法是单独创建文本并将其添加到一个组中，也许是一个类似的函数：

```
function(text){
   group = new Kinetic.Group();
   letters=text.split("");
   for(foo in letters){
    window['text' + foo] = new Kinetic.Text({config}) // use the foo incrementaly to change the Y axis of the text and pass letters[foo] as text argument
    group.add(window['text' + foo]);

   }
   layer.add(group);
   layer.draw();
} 
```

它可以写得更优雅（不使用窗口对象，但这是我知道创建动态变量的唯一方法），但这应该可以完成工作（我认为）；

# c# - TimeSpan ToString 格式

> ID：11077711
> 
> 赞同：109
> 
> 时间：2012-06-18T06:12:23.870
> 
> 标签：c#, .net

只是好奇，有没有可以用来输出“5h 3m 30s”之类的格式字符串？

例如。（显然错了）

```
myTimeSpan.ToString("hh mm ss") 
```

* * *

## 回答 #1

> 赞同：154
> 
> 时间：2012-06-18T06:13:48.733

尝试：

```
myTimeSpan.ToString("h'h 'm'm 's's'") 
```

（请注意，即使是空格也需要引用 - 这就是我第一次尝试的问题。）

当然，我假设您使用的是 .NET 4 - 在此之前，`TimeSpan`不支持自定义格式字符串。

编辑：如前所述，这不会超过 24 小时。另请注意，也可以通过[Noda Time](http://nodatime.org)获得替代方案:)

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2013-03-30T15:57:05.813

使用 Jon Skeet 的答案时请注意这一点，代码如下：

```
// 12 days, 23 hours, 24 minutes, 2 seconds.
TimeSpan span = new TimeSpan(12, 23, 24, 2);
// 27 hours, 24 minutes, 2 seconds
TimeSpan span2 = new TimeSpan(27,24,2);

string format = span.ToString("h'h 'm'm 's's'");
string format2 = span2.ToString("h'h 'm'm 's's'");
Console.WriteLine(format);
Console.WriteLine(format2);
Console.ReadLine(); 
```

你会得到这样的结果：

```
23h 24m 2s
3h 24m 2s 
```

小时格式最多可以显示 23 小时。它不会显示 27 小时或将 12 天转换为小时，它只会将它们切断，就好像它们从未存在过一样。

解决此问题的一种方法是创建一个扩展来检查 TimeSpan 的长度并根据时间跨度是否超过一年、一天等来创建格式。或者您也可以简单地始终显示日期，因为它们从不中断：

```
string newFormat = span.ToString("d'd 'h'h 'm'm 's's'"); 
```

请注意我是编程的初学者。这仅来自于我有幸在假设它会显示所有小时后注意到这一点之后的观察。我这么说是因为我不知道是否有更好的解决方案，比如另一种可以显示无限小时的小时格式。

然而，我确实认为这种格式正在发挥其预期的功能。你只需要意识到它。于是有了这个帖子。Jon Skeet 的回答从未表明此格式仅显示日期类型格式的小时属性，其中小时数最多为 23。

* * *

## 回答 #3

> 赞同：21
> 
> 时间：2013-08-23T16:23:15.330

如果你很不幸没有使用 .NET4：

```
string.Format("{0}h{1}m{2}s",
    myTimeSpan.Hours,
    myTimeSpan.Minutes,
    myTimeSpan.Seconds); 
```

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2017-03-10T15:14:28.083

使用`Xamarin`并且`.NET Portable 4.5`这是我在这里尝试所有其他答案后得到的唯一格式：

```
timespan.ToString("hh':'mm':'ss"); 
```

本质上，我将单引号放在`:`单引号中以逃避它们。

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2014-11-07T16:22:09.357

这个小代码示例应该可以帮助您解析和反向解析 TimeSpan：

```
var t = TimeSpan.FromMilliseconds(450780);
double d1 = t.TotalSeconds;
string t3 = t.ToString(@"hh\:mm\:ss\.f",null);
var tt = TimeSpan.ParseExact(t3, @"hh\:mm\:ss\.f",null);
double d2 = tt.TotalSeconds; 
```

参考：[自定义 TimeSpan 格式字符串](http://msdn.microsoft.com/en-us/library/ee372287(v=vs.110).aspx)

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2012-06-18T06:14:40.590

如何连接：

```
String oTime = myTimeSpan.ToString("h") + "h " +
               myTimeSpan.ToString("m") + "m " +
               myTimeSpan.ToString("s") + "s " 
```

更新 1：

你可以用单引号转义它：`h'h 'm'm 's's'`

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2018-07-31T12:00:40.517

我有时会发现格式字符串有点像正则表达式，因为当我稍后回到代码时，我已经忘记了细微差别。因此，我选择了以下内容，这不太可能将文档寄回给我：

```
string FormatTimeSpan(TimeSpan timeSpan) =>
    $"{Math.Floor(timeSpan.TotalHours)}h {timeSpan.Minutes}m {timeSpan.Seconds}s"; 
```

C# 6 中引入的字符串插值使这一点比其他方式更清晰。

# python - 如何向电子邮件 python 添加多个附件

> ID：11077712
> 
> 赞同：-4
> 
> 时间：2012-06-18T06:12:26.550
> 
> 标签：python

我需要添加多个附件以通过 python 脚本自动发送电子邮件..

我是 python 脚本的新手。所以请帮忙。提前致谢..

下面是代码片段。

请让我知道我必须对以下代码进行哪些更改。

```
themsg = MIMEMultipart()
themsg['Subject'] = Subject
themsg['To'] =','.join(Email_ID)
themsg['From'] =email_from
themsg.preamble = 'I am not using a MIME-aware mail reader.\n'
msg = MIMEBase('application', 'zip')
msg.set_payload(zf_csv.read())
zf_csv.close()
msg.set_payload(zf_pdf.read())
zf_pdf.close()
Encoders.encode_base64(msg)
print 'csv attachment is'+str(os.path.basename(current_dirs+csv_to_mail))
print 'pdf attachment is'+str(os.path.basename(current_dirs+pdf_to_mail))
msg.add_header('Content-Disposition', 'attachment; filename="(%s,%s)"' %(os.path.basename(current_dirs+csv_to_mail),os.path.basename(current_dirs+pdf_to_mail)) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:25:14.580

这是一个例子：

```
msg = MIMEMultipart()
msg['Subject'] = subject
msg['From'] = from_addr
msg['To'] = COMMASPACE.join(to_addrs_list) 
msg['Date'] = formatdate(localtime = True)
msg['Cc'] = COMMASPACE.join(cc_addrs_list)
msgAlternative = MIMEMultipart('alternative')
msg.attach(msgAlternative)
msgAlternative.attach(MIMEText(content, 'plain'))

#add mutiple attachments to an Email
#attachment_paths is a list, like this:['/home/x/a.pdf', '/home/x/b.txt']
for file_path in attachment_paths:
    ctype, encoding = mimetypes.guess_type(file_path)
    if ctype is None or encoding is not None:
        ctype = dctype
    maintype, subtype = ctype.split('/', 1)
    try:
        with open(file_path, 'rb') as f:
            part = MIMEBase(maintype, subtype)
            part.set_payload(f.read())
            Encoders.encode_base64(part)
            part.add_header('Content-Disposition', 'attachment', filename=os.path.basename(file_path))
            print os.path.basename(file_path)
            msg.attach(part)
    except IOError:
         print "error: Can't open the file %s"%file_path 
```

有**[完整的代码](https://gist.github.com/2780008)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:16:57.920

我不知道使用 python 发送邮件比使用 lamsonproject (lamsonproject.org) 更好的方法。

他们的 API 还包括向邮件添加附件 - 没有什么能阻止您向邮件添加多个附件。只需查找有关 MailResponse 及其附加方法的 API。

# grails - 在启动时创建新架构

> ID：11077717
> 
> 赞同：0
> 
> 时间：2012-06-18T06:12:58.340
> 
> 标签：grails, grails-orm

我有一个带有自定义模式映射的域类：

```
class Book {
    String title
    static mapping = {
        table name: 'table_book', schema: 'books'
    }
} 
```

我现在在启动时遇到错误（`table_book`无法创建，因为架构`books`不存在）。GORM 是否应该意识到这一点并创建`books`模式？如果没有，我怎样才能在启动时创建这个模式（我猜来自一个事件）？

# c# - .Net 同一个项目中的不同框架

> ID：11077718
> 
> 赞同：0
> 
> 时间：2012-06-18T06:13:03.900
> 
> 标签：c#, .net, frameworks

我有一个很少 dll 的项目。我想将其中一个更改为框架 4.0，而不是其他的。结果将是框架 2.0 dll 正在使用框架 4.0 dll。可以吗，还是有问题？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T06:21:33.250

不 - 以 .NET 2 为目标的项目不能引用以 .NET 4 为目标的库。想象一下，您试图将它部署在仅支持 .NET 2 的机器上 - 无论如何，您实际上无法使用您的 .NET 2 程序集，那么首先让它以 .NET 2 为目标有什么意义呢？

从 .NET 4 项目中定位 .NET 2 库是有意义的，但反之则不然。

# buffer - 玉的缓冲技术（感叹号）

> ID：11077724
> 
> 赞同：3
> 
> 时间：2012-06-18T06:14:00.000
> 
> 标签：buffer, pug

在github的jade文档中，它谈到了缓冲技术：

为安全起见，由 = 缓冲的代码默认转义，但是要输出未转义的返回值，您可以使用 !=：

```
p!= aVarContainingMoreHTML 
```

我不太明白这里感叹号的使用，我的意思是，为什么不直接使用：

```
p= aVarContainingMoreHTML 
```

其实buffer技术的使用我不是很了解，文档里面也没有太多相关

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T09:10:04.787

没有`!`,`p= aVarContainingMoreHTML`会将括号呈现为`&gt;`，`&lt`而`p!= aVarContainingMoreHTML`将 var 呈现为 HTML。你应该只`!`在你真正需要的时候使用。

# .htaccess - htaccess 只显示网址没有目录

> ID：11077737
> 
> 赞同：0
> 
> 时间：2012-06-18T06:15:01.103
> 
> 标签：.htaccess, mod-rewrite

我有`foo.com`一个用户登录并被重定向到的网站`foo.com/boo/foo.php`。`foo.com`无论用户访问哪个目录，都可以只显示吗？不确定他们的问题是否清楚......在此先感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:33:22.143

通过启用 mod_rewrite 和 .htaccess `httpd.conf`，然后将此代码放在您`.htaccess`的`DOCUMENT_ROOT`目录下：

```
Options +FollowSymLinks -MultiViews
# Turn mod_rewrite on
RewriteEngine On
RewriteBase /

RewriteCond %{HTTP_HOST} ^(www\.)foo\.com$ [NC]
RewriteRule ^$ boo/foo.php [L] 
```

# wordpress - wordpress 本地化

> ID：11077741
> 
> 赞同：1
> 
> 时间：2012-06-18T06:15:38.953
> 
> 标签：wordpress

我正在使用`.mo`我的语言目录中的一个文件`wp-content`。但它不会翻译网站的某些单词和所有数字内容。如何将这些添加到`.mo`文件中？或者有没有其他方法可以翻译这些内容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T21:48:48.963

您可以为此使用 Poedit [http://www.poedit.net/](http://www.poedit.net/)（开源）。您编辑 .po 文件，然后将其另存为 .mo 文件。

您可以在此处找到一些解释： [向 Wordpress 添加语言](http://themekraft.com/add-your-own-language-files-to-wordpress-plugins-with-poedit/)

# mpi - 带有 valgrind 的 openmpi（我可以在 Ubuntu 发行版中使用 MPI 进行编译吗？）

> ID：11077746
> 
> 赞同：0
> 
> 时间：2012-06-18T06:16:22.823
> 
> 标签：mpi, valgrind, openmpi

我有一个天真的问题：我编译了一个版本的 Openmpi 1.4.4。与 Valgrind ：

```
./configure --prefix=/opt/openmpi-1.4.4/ --enable-debug --enable-memchecker --with-valgrind=/usr.... 
```

我想做内存检查。

通常用于调试（和运行），我在 Ubuntu 分发版中使用 OpenMPI 编译它

```
CC =            mpic++
CCFLAGS =   -g 
```

问题是，我可以只用 Ubuntu 发行版 MPI 1.4.3 编译我的代码，然后用这个`modified`（valgrind）mpirun 版本运行：

```
mpirun -np 8 valgrind .... 
```

?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:27:21.977

你总是可以`mpirun -np 8 valgrind ...`用任何 MPI 实现和任何 valgrind 来做这件事。但是您（当然）不会获得内置于 OpenMPI 安装中的 memchecker 的全部好处，您在启用 memcheck 并指向您的 valgrind 的情况下构建。

还要注意，如果你这样做，你可能会在 MPI 例程中从 valgrind 得到很多误报；您可以通过为您的库存 Ubuntu OpenMPI 构建 valgrind MPI 包装器来改进它，如[Valgrind 手册](http://valgrind.org/docs/manual/mc-manual.html#mc-manual.mpiwrap)中所述。

但是，对于使用一个 MPI 发行版编译代码并使用另一个发行版运行它，这只会导致问题，而不管整个有/没有 valgrind 的事情。在实践中，OpenMPI 1.4.3 和 1.4.4 非常相似，它可能会工作，但我不推荐它，因为它只会引入不确定性——而且你运行 valgrind 的原因是为了追踪问题，对？引入一个可能出现问题的新地方是没有意义的。

# ruby - 正则表达式，测试电话号码红宝石

> ID：11077750
> 
> 赞同：0
> 
> 时间：2012-06-18T06:16:40.250
> 
> 标签：ruby, regex

以这些范围开头的任何电话号码都是正确的：例如：**772123322**

长度很重要，最后应该包含 6 位数字

```
550-559
700-709
770-779 
```

所以，到目前为止我已经这样做了：

```
\A(55[0-9])|(70[0-9])|(77[0-9])\d{6}\z 
```

如何修改这个正则表达式才能正常工作？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T06:47:31.033

更简单的是：

```
/^(55|70|77)\d{7}$/ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T06:29:59.770

```
\A(55[0-9]|70[0-9]|77[0-9])\d{6}\z 
```

# jquery - jquery动画（运行过程中再次调用动画如何处理

> ID：11077755
> 
> 赞同：0
> 
> 时间：2012-06-18T06:17:30.937
> 
> 标签：jquery, animation, jquery-animate

```
var messageSpan;
function createFlashMessage = function(message, type, time) {
    messageSpan || (messageSpan = $("<span>").hide().appendTo("body"));
    messageSpan && (messageSpan.stop().removeClass().addClass("message-mask  label"));
    messageSpan.html(message).addClass("label-" + (type || "success"));
    var left = Math.abs($(document).width() / 2 - (messageSpan.width() + 30) / 2);
    messageSpan.css({
        left: left + 'px'
    }).fadeIn(200, function() {
        $(this).delay(time || 5000).fadeOut();
    });
}; 
```

它有效，但不是我所期望的。

第一次调用这个函数是正常的，但是在它运行的时候调用它，你会发现message span会fadeOut(with the new message)又fadeIn。

这不是我想要的，我只是想要如果它在运行时被调用，只需将文本替换为新消息，并重新计算时间（新的 5s）。

如何解决？

似乎这与jquery动画计时器机制有关，有人可以帮我一个忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:49:08.440

`.delay()`清除队列时播放效果不佳。

# .stop（真，真）

使用`messageSpan.stop(true,true)`而不是`messageSpan.stop()`. 将立即将动画跳到末尾，并将清除所有排队的动画。这通常会发生得如此之快，以至于用户不会注意到它。

# 设置超时和清除超时

这是我认为最好的方法。

```
var messageSpan;
var createFlashMessage = function(message, type, time) {
  messageSpan || (messageSpan = $("<span>").hide().appendTo("body"));
  messageSpan && clearTimeout(messageSpan.data("timeout"));
  messageSpan && (messageSpan.stop(true,true).removeClass().addClass("message-mask  label"));
  messageSpan.html(message).addClass("label-" + (type || "success"));
  var left = Math.abs($(document).width() / 2 - (messageSpan.width() + 30) / 2);
  messageSpan.css({
    left: left + 'px'
  }).fadeIn(200, function() {
    messageSpan.data("timeout", setTimeout(function(){
      messageSpan.fadeOut();
    }, time || 5000));
  });
}; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-18T06:23:51.773

尝试这个：

```
var messageSpan;
var AnimationRunning = false;

function createFlashMessage = function(message, type, time) {
    messageSpan || (messageSpan = $("<span>").hide().appendTo("body"));
    messageSpan && (messageSpan.stop().removeClass().addClass("message-mask  label"));
    messageSpan.html(message).addClass("label-" + (type || "success"));
    var left = Math.abs($(document).width() / 2 - (messageSpan.width() + 30) / 2);
    if (AnimationRunning)
    {
      messageSpan.html('I love Michael Jackson')
    } else {
      AnimationRunning = true
      messageSpan.css({
          left: left + 'px'
      }).fadeIn(200, function() {
          $(this).delay(time || 5000).fadeOut(200, function(){AnimationRunning = false});
      });
  }

}; 
```

# c++ - 交换 DWORD 中的字节

> ID：11077759
> 
> 赞同：1
> 
> 时间：2012-06-18T06:18:17.387
> 
> 标签：c++

我有一个`DWORD`，例如：`0x0A0B0C0D`。我想获得`0x0D0C0B0A`.

我通常使用`BSWAP`汇编指令，但我使用的编译器不支持内置汇编。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T06:45:02.310

这个编译器是什么？如今，大多数*体面的*编译器都支持 bswap 内在函数，GCC 在[这里](http://patches.libav.org/patch/2529/)有一些解决方案，或者[普通的内置列表](http://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html)。

MSVC`_byteswap_*`在其[RTL](http://msdn.microsoft.com/en-us/library/a3140177.aspx)中具有（已优化为内在形式），而 ICC 包括内在形式`_bswap*`。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-18T06:21:52.633

[`htonl`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms738556%28v=vs.85%29.aspx)如果您不想自己动手，可以使用例如。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-06-18T06:47:07.657

```
new_dword = (dword & 0x000000ff) << 24 | (dword & 0x0000ff00) << 8 |
    (dword & 0x00ff0000) >> 8 | (dword & 0xff000000) >> 24; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T07:07:34.020

[http://www.cplusplus.com/forum/beginner/2563/](http://www.cplusplus.com/forum/beginner/2563/)

考虑一个手动重新排序位的例程。
与可能不适合您需求的替代方案相比，这几乎可以保证最大程度地降低速度。

```
#include <iostream>
#include <limits.h>

unsigned int rearrange(unsigned int val);

int main() {
    unsigned int a = 0xa0b0c0d0;
    std::cout << std::hex << std::showbase
              << a << '\n'
              << rearrange(a) << std::endl;
}

unsigned int rearrange(unsigned int val) {
    return (val & 0xff000000) >> CHAR_BIT * 3 |
           (val & 0x00ff0000) >> CHAR_BIT |
           (val & 0x0000ff00) << CHAR_BIT |
           (val & 0x000000ff) << CHAR_BIT * 3;
} 
```

输出

```
0xa0b0c0d0
0xd0c0b0a0 
```

# php - 无法访问 Cookie

> ID：11077764
> 
> 赞同：1
> 
> 时间：2012-06-18T06:18:57.237
> 
> 标签：php

我面临另一个问题。我用php构建了一个项目。url 就像'www.mysite.com' 我`setcookie()`在根目录下的 example1.php 页面中使用方法创建了一个 cookie，页面的路径是......`www.mysite.com/in/example1.php`

现在我想检索页面'indix.php'中cookie的值，其url`www.mysite.com/index.php`位于文件夹'in'之外。

但是在这个`index.php`页面中没有找到 cookie。我使用`print_r()`但没有找到 cookie。

我做错了什么？请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:22:47.367

[http://php.net/manual/en/function.setcookie.php](http://php.net/manual/en/function.setcookie.php)

cookie 的范围是第四个变量（“路径”） - 默认为当前路径。听起来您需要将其设置为服务器根目录或“/”。

```
setcookie('mycookie', 'myvalue', 0, '/'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:23:26.627

当你设置 cookie

```
setcookie ( string $name [, string $value [, int $expire = 0 [, string $path [, string $domain [, bool $secure = false [, bool $httponly = false ]]]]]] ) 
```

您必须将`$path`参数设置为“/”，这样它就会在您页面的任何地方都可见。还要检查你的`$expire`参数。

# json - 关于基于 REST 的 WCF 服务的困惑

> ID：11077765
> 
> 赞同：0
> 
> 时间：2012-06-18T06:18:58.090
> 
> 标签：json, wcf

如果我实现了一个基于 REST 的 WCF 服务，那么作为一个请求，我将只使用我的 http url 比如说 fr example [http://www.example.com/createuser/user1](http://www.example.com/createuser/user1)

现在，我需要发布到服务器的数据将作为 HttpRequest 对象的一部分，如果我使用 post 方法，这是否正确？

同样作为响应的一部分，我得到了什么，我得到的只是 JSON，这是我想要的响应还是 HttpResponse 对象，它有 json 作为它的主体的一部分？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:36:03.200

首先，您的 URL 仍然看起来像 RPC 样式。方法名称在 URL (createuser/user1) 中有异味。

相反，如果您的用户作为资源，那么用户集合可以显示为以下 **http://www.example.com/users**（使用 HTTP get），这将为您提供所有用户。

对于具有 HTTP 获取方法的特定用户 **http://www.example.com/Users/User_Id**

如果你想创建一个特定的用户，那么 **http://www.example.com/Users**和 HTTP Post。

现在，HTTP Post 在表单集合中发送数据，因此创建用户的信息将作为表单数据发送。

至于响应，服务器可以向您发送多种形式的响应。客户端必须在接受标头中告诉他他想要特定资源的哪种表示形式（它可以在 url 中被 sepcified 也像 twitter apis）。服务器然后可以考虑客户端请求并将响应以内容类型提供给服务器。除了 JSON、XML 和纯文本之外，还有其他媒体类型

至于您的 HTTResponse 对象，这将取决于您使用哪种技术来进行请求。如果您使用的是 C#，那么您将获得一个 HTTPResponse 对象。如果是 Javascript，那么你会得到响应，嵌入在 XMLHttpRequest 正文中（通过 responseXML 或 responseText）

**编辑** 您可以将 Rest StarterKit 用于 WCF，甚至可以使用 WebAPI。在 WCF 中，在声明您的操作合同时，您将使用以下属性注释您的方法

```
[OperationContract]
[WebInvoke(Method="GET", UriTemplate="/GetData", 
           ResponseFormat=WebMessageFormat.Json)]
string GetData(); 
```

它说明了什么

Method = "GET" 用于此资源的 http 方法

UriTemplate = 用于将方法映射到 URL。特定的 URL 需要调用特定的方法。

ResponseFormat = 服务器以这种格式返回响应。

[你可以在这里](http://channel9.msdn.com/shows/Endpoint/endpointtv-Screencast-Building-RESTful-Services-with-WCF/)和[这里](http://msdn.microsoft.com/en-us/magazine/dd315413.aspx)找到更多细节

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:56:35.730

我不知道您将如何实现 RESTful 服务，但我会推荐 WebAPI。您可以查看显示如何执行此操作的[示例，并且您可以在那里看到客户端（Web 浏览器）显示响应的方式。](http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api)

如果您的意思是作为客户端您想向服务发送请求并且您想知道如何做到这一点，那么您有几个选择。

我猜您正在使用 .net 来执行此操作，因此您可以使用两个选项：

1.  使用“ [WebClient](http://msdn.microsoft.com/en-us/library/system.net.webclient%28v=vs.80%29.aspx) ”类将允许您以字符串或字节数组的形式获取响应。
2.  使用 HttpWebRequest 和 HttpWebResponse 然后你需要做更多的工作。

# jsf-2 - UI:repeat 不会增加表行的 id

> ID：11077771
> 
> 赞同：1
> 
> 时间：2012-06-18T06:19:28.557
> 
> 标签：jsf-2, uirepeat

在 JSF 2 (SUN RI) UI:repeat 在添加新行时不会增加表行的 id。它确实在浏览器上显示所有行。但是，查看源代码仅显示一行。

```
<ui:repeat id="repeat1" value="#{b.items}" var="itemBean" varStatus="status1">
<table>
 <ui:repeat id="repeat2" value="#{a.locations}" varStatus="status2" var="loc">
  <tr>
   <td> <h:inputText    id="date" size="10" maxlength="10"</td>
  </tr>
 </ui:repeat>
</table>
</ui:repeat> 
```

身份证->`myForm:repeat1:0:repeat2:0:date`

我希望它会`myForm:repeat1:0:repeat2:1:date`添加一个新行。但我得到相同的行 id `myForm:repeat1:0:repeat2:0:date`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T19:20:41.963

这是可以识别为较旧的 Mojarra 错误之一。升级到当前为 2.0.9 / 2.1.9的最新[Mojarra 。](http://javaserverfaces.java.net)

顺便说一句，从 2007 年 12 月的 1.2_08 版本开始，“Sun RI”这个名字就不再存在了。它变成了“Mojarra”。JSF 2 中从未使用过“Sun RI”这个名称。

# java - 我们如何验证使用 selenium rc mouseOver 事件显示的链接

> ID：11077776
> 
> 赞同：2
> 
> 时间：2012-06-18T06:19:59.793
> 
> 标签：java, selenium-rc

我的应用程序有太多链接。我需要在每个**元素上做一个****mouseOver**并且需要验证页面底部显示的链接。我已经尝试使用**硒**，如下所示，

 ****```
selenium.mouseOver("id=logo");
assertTrue(selenium.isVisible("//*[contains(text(), '/webshop')]")); 
```

但它没有成功。

我尝试过搜索，但没有找到任何与**selenium rc**匹配的帮助。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T17:36:02.447

根据您的评论，您正在寻找的不是鼠标悬停问题，您想知道链接指向什么。因此，您需要使用 getAttribute 函数并获取 href 属性，该属性将为您提供出现在浏览器状态栏上的链接...类似于 selenium.getattribute("/@href")，将属性存储在字符串中并执行字符串与预期结果的比较。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:48:41.717

> 我需要在每个元素上做一个 mouseOver 并且需要验证页面底部显示的链接。

底部意味着您从哪里获得这些链接？您可以将链接粘贴到您测试此代码的网页吗？这样就很容易解决了。****

# android - Android JUnit 报告生成

> ID：11077783
> 
> 赞同：1
> 
> 时间：2012-06-18T06:20:36.490
> 
> 标签：android, code-coverage, junit4, emma

我已经阅读了答案

*   [为android测试项目生成代码覆盖率报告](https://stackoverflow.com/questions/8295834/generating-code-coverage-report-for-android-test-project)
*   [无法获得适用于 Android 的 Emma Coverage](https://stackoverflow.com/questions/8473852/unable-to-get-emma-coverage-for-android)。

* * *

我收到以下错误：

```
BUILD FAILED
Target "emma" does not exist in the project. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-03T21:42:12.523

从您发布的日志和您已经查看的帖子来看，我假设您正在运行以下命令：

```
ant emma debug install 
```

您的问题可能取决于许多因素，包括您安装的 android-sdk。如果您的版本为 13 或更低，则需要运行：

```
ant coverage 
```

请提供更多信息，包括您正在运行的 sdk 版本、正在运行的确切命令以及运行位置（项目、lib-project、test-project）

# android - usb调试未连接到电脑

> ID：11077790
> 
> 赞同：2
> 
> 时间：2012-06-18T06:21:30.430
> 
> 标签：android, usb

我有 android 设备，它的`samsung galaxy GT-S5300`版本是*2.3.6*。我想将我的设备与计算机连接，以便通过 eclipse 将应用程序直接运行到设备上。

我已经`samsung kies`在我的系统上安装了，我在手机上进行了以下设置，但我**无法连接到 pc 以进行调试模式（开发）**。**但是sd卡是挂载到pc上的。**

1）设置 -> 应用程序 -> 未知来源 -> 启用该选项。

2）设置->应用程序->开发->USB调试->启用该选项。
但仍然没有将我的设备与电脑连接以进行调试模式。

如何将设备与 PC 连接以进行 USB 调试模式？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:34:47.743

嘿，murali_ma，

```
 Do this...

1\. Open command prompt and type adb kill-server
2\. then again type adb start-server
3\. then adb install path of apk 
```

我相信你会成功的。

# qt - Qt 中是否有可折叠面板的标准组件？

> ID：11077793
> 
> 赞同：19
> 
> 时间：2012-06-18T06:21:41.743
> 
> 标签：qt, user-interface

我正在尝试创建一个类似于 Qt Designer 中的可折叠侧面板（参见随附的屏幕截图）。它们似乎是放置在某种可折叠小部件中的 QListView。

![在此处输入图像描述](../Images/804f44d4fa6b9f7b974688663b792435.png)

我用谷歌搜索“Qt 可折叠面板”，似乎没有标准组件，或者至少没有这个名称。那么，有谁知道任何标准 Qt 组件是否具有相同的行为？如果没有，任何人都可以建议我如何构建它吗？

谢谢。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-19T10:35:43.677

我决定遵循 Joey 提供的链接中列出的一般方法。

具体来说，我为每个可折叠列表创建了一个小部件。这个小部件由顶部的 QPushButton 和底部的 QListView 组成。

然后，我将按钮单击信号连接到一个处理程序，以在 QListView 的几何图形在隐藏时的高度为 0 和重新出现时的原始高度之间切换。

我发现与 Claudio 建议的自定义绘制事件相比，这种方法要简单得多。此外，我可以使用 QAnimationProperty 对几何图形的变化进行动画处理，以使列表看起来“滑入”和“滑出”。

但无论如何感谢您的回复！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-05-24T11:28:25.927

我创建了可折叠面板。这是代码：

```
import os
import sys 
from pathlib import Path
from PySide2.QtWidgets import QPushButton, QVBoxLayout, QApplication ,QListWidget, QListView, QLabel, QWidget, QAbstractItemView, QSplitter 
from PySide2.QtGui import QStandardItemModel, QStandardItem, QIcon, Qt, QDrag
from PySide2 import QtCore

PATH = os.path.join('.','img_src')
print('LayerSelector Loaded with path:' , PATH)

class CustomQStandardItem(QStandardItem):
    def __init__(self, icon, text):
        super().__init__(icon, text)

    def dropMimeData(self, data, action, row, column, parent):
        pass

class LayersList(QWidget):
    '''
    LayerList class which acts as collapsable list.
    '''
    def __init__(self, name, layers, expand = True):
        super().__init__()
        self.currently_expanded = True
        self.main_layout = QVBoxLayout()
        self.main_layout.setMargin(0)
        self.main_layout.setSpacing(0)
        self.main_layout.setContentsMargins(0, 0, 0, 0)
        self.expand_button = QPushButton(name)
        self.expand_button.setToolTip(f"List of {name} Layers")
        self.expand_button.setIcon(QIcon(os.path.join(PATH,'LayersList_Up.png')))
        self.layer_list = QListView()
        self.layer_list.setDragEnabled(True)
        self.container_model = QStandardItemModel()
        for l in layers:
            qs = CustomQStandardItem(QIcon(os.path.join(PATH,'LayersList_Layer_Icon.png')),l)
            self.container_model.appendRow(qs)
        self.layer_list.setModel(self.container_model)
        self.layer_list.setEditTriggers(QAbstractItemView.NoEditTriggers)
        self.main_layout.addWidget(self.expand_button,0, Qt.AlignTop)
        self.main_layout.addWidget(self.layer_list, 0, Qt.AlignTop)
        self.expand_button.clicked.connect(self.expand)
        self.setLayout(self.main_layout)
        self.resized_size = 16.5 * len(layers)
        self.set_styling()
        if not expand:
            self.expand()

    @QtCore.Slot()
    def expand(self):
        if self.currently_expanded:
            self.layer_list.setMaximumHeight(0)
            self.expand_button.setIcon(QIcon(os.path.join(PATH,'LayersList_Down.png')))
            self.currently_expanded = False
        else:
            self.layer_list.setMaximumHeight(self.resized_size)
            self.expand_button.setIcon(QIcon(os.path.join(PATH,'LayersList_Up.png')))
            self.currently_expanded = True

    def set_styling(self):
        self.setStyleSheet("background-color:aliceblue ;")
        self.expand_button.setStyleSheet("text-align:left;")
        self.layer_list.setStyleSheet("background-color:aliceblue; border:1px solid;border-style: ridge;")

class LayersSelectorWidget(QWidget):
    '''
    LayerChoiceWidget class provide widget plugin for picking layers.
    '''
    def __init__(self):
        super().__init__()
        names = ['Core Layers',
                 'Convolution Layers',
                 'Pooling Layers',
                 'Recurrent Layers',
                 'Preprocessing Layers',
                 'Attention Layers',
                 'Reshaping Layers',
                 'Locally-Connected Layers'
                 ]
        layers = [
            ['Dense', 'Activation', 'Embedding', 'Masking', 'Lambda'],
            ['Conv1D', 'Conv2D', 'Conv3D', 'SeparableConv1D', 'SeparableConv2D', 'DepthwiseConv2D', 'Conv2DTranspose', 'Conv3Dtranspose'],
            ['MaxPooling1D', 'MaxPooling2D', 'MaxPooling3D', 'AveragePooling1D', 'AveragePooling2D', 'AveragePooling3D', 'GlobalMAxPooling1D', 'GlobalMAxPooling2D', 'GlobalMAxPooling3D', 'GlobalAveragePooling1D', 'GlobalAveragePooling2D', 'GlobalAveragePooling3D'],
            ['LSTM', 'GRU', 'SimpleRNN', 'TimeDistributed', 'BiDirectional', 'ConvLSTM2D'],
            ['TextToVector', 'Normalization'],
            ['Attention', 'AdditiveAttention'],
            ['Reshape', 'Flatten', 'Cropping1D', 'Cropping2D', 'Cropping3D', 'UpSampling1D', 'UpSampling2D', 'UpSampling3D', 'ZeroPadding1D', 'ZeroPadding2D', 'ZeroPadding3D'],
            ['LocallyConnected1D', 'LocallyConnected2D']
        ]
        self.main_layout = QVBoxLayout()
        for i in range(len(names)):
            if i > 3:
                self.main_layout.addWidget(LayersList(names[i], layers[i], False))
            else:
                self.main_layout.addWidget(LayersList(names[i], layers[i]))                
        self.main_layout.setSpacing(0)
        self.main_layout.setAlignment(Qt.AlignTop)        
        self.main_layout.setMargin(0)
        self.main_layout.setSpacing(0)
        self.main_layout.setContentsMargins(0, 0, 0, 0)
        self.setLayout(self.main_layout)
        del(names)
        del(layers)
        self.set_styling()

    def set_styling(self):
        self.setStyleSheet("background-color:aliceblue; border:0px solid;border-style: solid;") 
```

以下是上述代码的结果：

[![结果](../Images/ceb505b56647d184ce60fad0be833a5a.png)](https://i.stack.imgur.com/r79qS.png)

你也可以玩`set_styling`来改变外观和感觉。

# ruby - 如何在 gsub 替换字符串中转义反向引用

> ID：11077800
> 
> 赞同：3
> 
> 时间：2012-06-18T06:22:32.483
> 
> 标签：ruby

gsub 有一些替代方法可以将一个字符串替换为另一个字符串吗？

根据文档“如果替换是一个字符串，它将被替换为匹配的文本。它可能包含对模式捕获组的反向引用，形式为 \d，其中 d 是组号，或 \k，其中 n 是团队名字。”

我不想要这个功能..

简化示例：

```
"abc".gsub("b", "\\7") -> "ac" 
```

我想要`"a\7c"`..

**问题是用户询问了替换字符串**（实际上它是一个包含路径的路径`"xxx\7.0\yyy"`），如果它是一个简单的固定字符串，我可以自己转义它。

我知道这行得通：`"abc".gsub("b") { |x| "\\\7" }`.. 但是到目前为止，我认为 ruby​​ 是一种美丽的语言，我相信应该有一个简单的替代方案，我在文档中忽略了这一点。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T07:49:28.253

~~您可以使用~~（**编辑**：不，您不能）`Regexp.escape`转义用户提供的字符串：

```
user_input = '\7'
puts "abc".gsub("b", Regexp.escape(user_input))
a\7c 
```

否则使用单引号而不是双引号进行转义：

```
puts "abc".gsub("b", '\\\7')
a\7c 
```

...或使用双引号，您只需要更多转义：

```
puts "abc".gsub("b", "\\\\7")
a\7c 
```

...或块表示法，但您可以跳过块变量就好了：

```
puts "abc".gsub("b") { '\7' }
a\7c 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T06:46:32.307

```
$ irb 
irb(main):001:0> replace='xxx\7.0\yyy'
=> "xxx\\7.0\\yyy"
irb(main):002:0> puts  "abc".gsub("b", replace.dump[1..-2])
axxx\7.0\yyyc
=> nil 
```

# mysql - 如何将 CSV 文件导入 MySQL 表

> ID：11077801
> 
> 赞同：99
> 
> 时间：2012-06-18T06:22:34.210
> 
> 标签：mysql, csv, import, load-data-infile, database-table

如何将 CSV 文件导入 MySQL 表？我想将第一行数据用作列名。

我阅读了[如何将 CSV 文件导入 MySQL 表？](https://stackoverflow.com/questions/3635166/how-to-import-csv-file-to-mysql-table)，但唯一的答案是使用 GUI 而不是 shell？

* * *

## 回答 #1

> 赞同：150
> 
> 时间：2012-06-18T06:38:38.197

您可以直接将 MYSQL 链接到它并使用以下 SQL 语法上传信息，而不是编写脚本来从 CSV 文件中提取信息。

要将 Excel 文件导入 MySQL，首先将其导出为 CSV 文件。从生成的 CSV 文件中删除 CSV 标头以及 Excel 可能放在 CSV 文件末尾的空数据。

然后，您可以通过运行将其导入 MySQL 表：

```
load data local infile 'uniq.csv' into table tblUniq fields terminated by ','
  enclosed by '"'
  lines terminated by '\n'
    (uniqName, uniqCity, uniqComments) 
```

继续阅读：[将 CSV 文件直接导入 MySQL](http://www.tech-recipes.com/rx/2345/import_csv_file_directly_into_mysql/)

## 编辑

对于您的情况，您需要先编写一个解释器，以查找第一行并将它们分配为列名。

* * *

## 编辑-2

[来自关于`LOAD DATA`语法](https://dev.mysql.com/doc/refman/5.1/en/load-data.html)的MySQL 文档：

> 该`IGNORE number LINES`选项可用于忽略文件开头的行。例如，您可以使用`IGNORE 1 LINES`跳过包含列名的初始标题行：
> 
> ```
> LOAD DATA INFILE '/tmp/test.txt' INTO TABLE test IGNORE 1 LINES; 
> ```

因此，您可以使用以下语句：

```
LOAD DATA LOCAL INFILE 'uniq.csv'
INTO TABLE tblUniq
FIELDS TERMINATED BY ','
    ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 LINES
(uniqName, uniqCity, uniqComments) 
```

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2013-01-28T15:34:40.310

这是一个简单的 PHP 命令行脚本，可以满足您的需要：

```
<?php

$host = 'localhost';
$user = 'root';
$pass = '';
$database = 'database';

$db = mysql_connect($host, $user, $pass);
mysql_query("use $database", $db);

/********************************************************************************/
// Parameters: filename.csv table_name

$argv = $_SERVER[argv];

if($argv[1]) { $file = $argv[1]; }
else {
    echo "Please provide a file name\n"; exit; 
}
if($argv[2]) { $table = $argv[2]; }
else {
    $table = pathinfo($file);
    $table = $table['filename'];
}

/********************************************************************************/
// Get the first row to create the column headings

$fp = fopen($file, 'r');
$frow = fgetcsv($fp);

foreach($frow as $column) {
    if($columns) $columns .= ', ';
    $columns .= "`$column` varchar(250)";
}

$create = "create table if not exists $table ($columns);";
mysql_query($create, $db);

/********************************************************************************/
// Import the data into the newly created table.

$file = $_SERVER['PWD'].'/'.$file;
$q = "load data infile '$file' into table $table fields terminated by ',' ignore 1 lines";
mysql_query($q, $db);

?> 
```

它将基于第一行创建一个表并将剩余的行导入其中。这是命令行语法：

```
php csv_import.php csv_file.csv table_name 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-06-02T16:07:26.060

如果您有能力安装 phpadmin 有一个导入部分，您可以在其中将 csv 文件导入数据库，甚至还有一个复选框可以将标题设置为文件的第一行包含表列名称（如果未选中，则第一行将成为数据的一部分

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-07-04T06:34:44.127

首先在数据库中创建一个表，其列数与 csv 文件中的列数相同。

然后使用以下查询

```
LOAD DATA INFILE 'D:/Projects/testImport.csv' INTO TABLE cardinfo
FIELDS TERMINATED BY ',' ENCLOSED BY '"'
LINES TERMINATED BY '\r\n' 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2015-10-05T13:34:23.020

如果您以“mysql -u -p --local-infile”启动mysql，它将正常工作

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2014-05-13T12:46:56.183

要从文本文件或 csv 文件加载数据，命令是

```
load data local infile 'file-name.csv'
into table table-name
fields terminated by '' enclosed by '' lines terminated by '\n' (column-name); 
```

在上面的命令中，在我的情况下，只有一列要加载，因此没有“终止于”和“封闭于”，所以我将其保持为空，否则程序员可以输入分隔符。例如。,（逗号）或“或；或任何东西。

**适用于使用mysql 5及以上版本的人**

在将文件加载到 mysql 之前，必须确保在侧面添加以下拖链线`etc/mysql/my.cnf`

编辑 my.cnf 命令是

`sudo vi /etc/mysql/my.cnf`

```
[mysqld]  
local-infile

[mysql]  
local-infile 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2017-10-20T16:32:01.483

我写了一些代码来做到这一点，我会放几个片段：

```
$dir = getcwd(); // Get current working directory where this .php script lives
$fileList = scandir($dir); // scan the directory where this .php lives and make array of file names 
```

然后获取 CSV 标头，以便您可以告诉 mysql 如何导入（注意：确保您的 mysql 列与 csv 列完全匹配）：

```
//extract headers from .csv for use in import command
$headers = str_replace("\"", "`", array_shift(file($path)));
$headers = str_replace("\n", "", $headers); 
```

然后将您的查询发送到 mysql 服务器：

```
mysqli_query($cons, '
        LOAD DATA LOCAL INFILE "'.$path.'"
            INTO TABLE '.$dbTable.'  
            FIELDS TERMINATED by \',\' ENCLOSED BY \'"\'
            LINES TERMINATED BY \'\n\'
            IGNORE 1 LINES
            ('.$headers.')
            ;
        ')or die(mysql_error()); 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2015-03-02T04:34:19.350

我为此挣扎了一段时间。问题不在于如何加载数据，而在于如何构造表来保存它。在导入数据之前，您必须生成 DDL 语句来构建表。

如果表有大量列，则特别困难。

这是一个（几乎）完成这项工作的python脚本：

```
#!/usr/bin/python    
import sys
import csv

# get file name (and hence table name) from command line
# exit with usage if no suitable argument   
if len(sys.argv) < 2:
   sys.exit('Usage: ' + sys.argv[0] + ': input CSV filename')
ifile = sys.argv[1]

# emit the standard invocation
print 'create table ' + ifile + ' ('

with open(ifile + '.csv') as inputfile:
   reader = csv.DictReader(inputfile)
   for row in reader:
      k = row.keys()
      for item in k:
         print '`' + item + '` TEXT,'
      break
   print ')\n' 
```

它要解决的问题是最终的字段名称和数据类型声明以逗号结尾，而 mySQL 解析器不会容忍这种情况。

当然，它也有一个问题，就是每个字段都使用 TEXT 数据类型。如果表有几百列，那么 VARCHAR(64) 会使表太大。

这似乎也打破了 mySQL 的最大列数。如果可以的话，那就是迁移到 Hive 或 HBase 的时候了。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2016-04-13T01:09:52.943

以下是我在 Python 中使用[csv](https://docs.python.org/library/csv.html)和[MySQL 连接器](https://dev.mysql.com/doc/connector-python/en/connector-python-connectargs.html)的方法：

```
import csv
import mysql.connector

credentials = dict(user='...', password='...', database='...', host='...')
connection = mysql.connector.connect(**credentials)
cursor = connection.cursor(prepared=True)
stream = open('filename.csv', 'rb')
csv_file = csv.DictReader(stream, skipinitialspace=True)

query = 'CREATE TABLE t ('
query += ','.join('`{}` VARCHAR(255)'.format(column) for column in csv_file.fieldnames)
query += ')'
cursor.execute(query)
for row in csv_file:
    query = 'INSERT INTO t SET '
    query += ','.join('`{}` = ?'.format(column) for column in row.keys())
    cursor.execute(query, row.values())

stream.close()
cursor.close()
connection.close() 
```

关键点

*   对 INSERT 使用准备好的语句
*   `'rb'`以二进制打开 file.csv
*   某些 CSV 文件可能需要[调整](https://docs.python.org/library/csv.html#csv-fmt-params)，例如`skipinitialspace`选项。
*   如果`255`不够宽，您将在 INSERT 上遇到错误，并且必须重新开始。
*   调整列类型，例如`ALTER TABLE t MODIFY `Amount` DECIMAL(11,2);`
*   添加[主键](https://stackoverflow.com/a/9070808/673991)，例如`ALTER TABLE t ADD `id` INT PRIMARY KEY AUTO_INCREMENT;`

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-02-13T07:01:07.970

将 CSV 文件导入 mysql 表

```
LOAD DATA LOCAL INFILE 'd:\\Site.csv' INTO TABLE `siteurl` FIELDS TERMINATED BY ',' ENCLOSED BY '"' LINES TERMINATED BY '\r\n';

Character   Escape Sequence
\0      An ASCII NUL (0x00) character
\b      A backspace character
\n      A newline (linefeed) character
\r      A carriage return character
\t      A tab character.
\Z      ASCII 26 (Control+Z)
\N      NULL 
```

访问： [http ://www.webslessons.com/2014/02/import-csv-files-using-php-and-mysql.html](http://www.webslessons.com/2014/02/import-csv-files-using-php-and-mysql.html)

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2016-06-22T00:07:21.880

正如其他人所提到的，加载数据本地 infile 工作得很好。我尝试了 Hawkee 发布的 php 脚本，但它对我不起作用。而不是调试它，这就是我所做的：

1) 将 CSV 文件的标题行复制/粘贴到 txt 文件中，并使用 Emacs 进行编辑。在每个字段之间添加一个逗号和 CR，以使每个字段占一行。
2) 将该文件另存为 FieldList.txt。
3) 编辑文件以包含每个字段的定义（大多数是 varchar，但也有不少是 int(x)。将 create table *tablename*（到文件的开头和）添加到文件的末尾。保存它作为 CreateTable.sql。
4) 使用来自 Createtable.sql 文件的输入启动 mysql 客户端以创建表。
5）启动mysql客户端，复制/粘贴大部分'LOAD DATA INFILE'命令，替换我的表名和csv文件名。粘贴到 FieldList.txt 文件中。在粘贴到字段列表之前，请务必包含“IGNORE 1 LINES”。

听起来工作量很大，但使用 Emacs 很容易......

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2019-11-23T13:59:17.703

使用 TablePlus 应用程序：右键单击右侧面板中的表名 选择 Import... > From CSV 选择 CSV 文件 查看列匹配并点击 Import All 完成！

* * *

## 回答 #13

> 赞同：-3
> 
> 时间：2015-09-30T22:39:31.657

我在谷歌上搜索了许多将 csv 导入 mysql 的方法，包括“加载数据 infile”、使用 mysql 工作台等。

当我使用mysql工作台导入按钮时，首先你需要自己创建空表，自己设置每个列类型。注意：你必须在末尾添加 ID 列作为主键，而不是 null 和 auto_increment，否则稍后将看不到导入按钮。但是，当我开始加载 CSV 文件时，没有加载任何内容，这似乎是一个错误。我放弃。

幸运的是，到目前为止我发现的最简单的方法是使用 Oracle 的 mysql for excel。你可以从这里下载它[mysql for excel](http://dev.mysql.com/doc/mysql-for-excel/en/mysql-for-excel-export.html)

这就是你要做的：在 excel 中打开 csv 文件，在“数据”选项卡上，找到 mysql for excel 按钮

选择所有数据，点击导出到mysql。注意将 ID 列设置为主键。

完成后，去mysql工作台修改表，比如货币类型应该是十进制（19,4）大额小数（10,2）经常使用。其他字段类型可以设置为 varchar(255)。

# php - 从 qcodo 中的函数调用中查找类文件路径

> ID：11077802
> 
> 赞同：0
> 
> 时间：2012-06-18T06:22:39.287
> 
> 标签：php, qcodo

我是 qcodo 框架的新手，正在尝试调试一些代码。

```
$variable=ClassName::FunctionName($this->obj); 
```

有什么方法可以找到在这里工作的类文件“ClassName”的路径吗？我想检查正确的类文件是否正在工作。有什么办法找到这个吗？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-25T08:09:40.727

从我的研究中，我们可以找到正在运行的课程路径，

```
$abstractClass = new ReflectionClass('ClassName');
echo dirname($abstractClass->getFileName()); 
```

如果我们想检查这个路径中类文件的内容，请使用下面的代码，

```
$file =  dirname($abstractClass->getFileName()). "/ClassName.php";  
$contents = file($file);
$string = implode($contents);
$string = str_replace('<?php','"',$string);
$string = str_replace('?>','"',$string);
echo "<pre>";
echo $string;
echo "</pre>"; 
```

# d - 读取文本文件数据

> ID：11077803
> 
> 赞同：1
> 
> 时间：2012-06-18T06:22:42.740
> 
> 标签：d

在 C++ 中，`istream& operator>>`可用于“以文本形式”读取数据。D中的等价物是什么？

我的尝试：

**输入.txt**

```
c 1033
90.432 
```

**input_test.d**

```
import std.stdio;
import std.stream;

void main()
{
    auto inputFile = new BufferedFile("input.txt");
    char c;
    int i;
    double d;

    inputFile.read(c);
    inputFile.read(i);
    inputFile.read(d);
    writeln(c, '\t', i, '\t', d);
} 
```

**输出**

```
c   858796320   4.90559e-62 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T16:00:39.260

D 有很多从文件中读取数据的方法，以方便各种用例。这里有一些：

*   [std.file.read](http://dlang.org/phobos/std_file.html#read)用于将文件的内容读入无类型的字节数组。
*   [std.file.readText](http://dlang.org/phobos/std_file.html#readText)用于将文件内容读入字符串。
*   您已经发现的[InputStream](http://dlang.org/phobos/std_stream.html#InputStream)接口的成员。
*   [std.stdio.file:readln](http://dlang.org/phobos/std_stdio.html#readln)用于从文件中读取行。另请参阅相同结构中的 readf 。
*   [std.stdio.file:byLine](http://dlang.org/phobos/std_stdio.html#byLine)（也是 byChunk）用于读取行或任意大小的 blob。

根据您的具体情况，您可能需要使用[slurp](http://dlang.org/phobos/std_file.html#slurp)或[readf](http://dlang.org/phobos/std_stdio.html#readf)。您的另一个选择是读取行并将它们拆分为您想要的字段，然后使用 std.conv.to 来解析文本表示：

```
double d = to!double(somestring); 
```

总之，如果每一行都有相同的格式，slurp 是最好的方法。否则，您将不得不决定什么对您最方便。

# wordpress - Wordpress 添加新示例？

> ID：11077804
> 
> 赞同：0
> 
> 时间：2012-06-18T06:22:45.507
> 
> 标签：wordpress

我对 wordpress 插件编码有点陌生。我一直在研究一个非常大的插件，并且包含许多自定义数据结构。

我知道这是一个非常笼统的问题，但我的选项页面上有一个项目（组）列表。我希望整个选项页面只使用设置 api，但是这个列表需要添加/编辑/删除项目。有没有人有一个很好的例子来说明如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T10:15:17.427

虽然我以前看过一个例子——我不记得在哪里。但是我在上面试图向您解释的是，首先您需要使用 jQuery append 添加元素，如下所示：使用 jQuery[动态添加 HTML 表单字段](https://stackoverflow.com/questions/6099301/dynamically-adding-html-form-field-using-jquery)然后，对于选项，只需创建一个数组，如下所述：[http： //wordpress.org/support/topic/dynamic-options](http://wordpress.org/support/topic/dynamic-options)。

# javascript - .width() 返回 4 像素太多

> ID：11077807
> 
> 赞同：2
> 
> 时间：2012-06-18T06:23:01.230
> 
> 标签：javascript, jquery

我有一个 div：

```
<div class="frame" id="layer1"> ... </div> 
```

与样式：

```
.frame {
    position: absolute;
    width: 380px;
    height: 280px;
    overflow: hidden;
    padding: 0;
    margin: 0;
    border: 0;
}
#layer1  { background-color: red; color: #fff; } 
```

但这些是我的结果：

```
$(".frame").filter(":first").width(); // 384
$(".frame").filter(":first").outerWidth();  // 384
$(".frame").filter(":first").innerWidth();  // 384 
```

我知道它们都是一样的，因为我的填充和边距都是 0，但是这个默认的 4px 是从哪里来的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:43:08.207

已解决，谢谢您的回复-它有帮助！

有其他东西可以对等式进行加法。即使问这个也觉得很愚蠢，但你的回答和问题确实帮助我深入了解它！我应该发布整个脚本：

```
var layers = $(".frame");
console.log(layers);

var totalWidth = layers.size() + layers.filter(":first").innerWidth();
console.log(totalWidth); 
```

如您所见，问题在于`layers.size() +`，它应该是乘法而不是加法，我应该早点看到它。

# ios - 如何为特定部分标题设置背景颜色？

> ID：11077808
> 
> 赞同：0
> 
> 时间：2012-06-18T06:23:05.027
> 
> 标签：ios, xcode, uitableview, header

我有一个`TableView`从 plist 文件加载的 10 个部分，并且我有一些可以关闭部分部分的开关。我需要为每个部分设置特定的背景颜色，因为可以禁用该部分。

例子：

对于`Black`我需要设置的部分`black background`

对于`Red`我需要设置的部分`red background`

等等...

```
-(UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section
{
    UIView *tempHeaderView=[[UIView alloc]initWithFrame:CGRectMake(0,0,320,44)];
     tempHeaderView.backgroundColor=[UIColor blackColor];

     [tempHeaderView addSubView: tempHeaderLabel];
     return tempHeaderView;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:28:25.483

将一个对象作为类`NSArray`的`UIColor`实例变量（充当委托/数据源的视图控制器），假设您调用它`sectionColors`。您可以从 plist 中的值初始化此数组中的颜色，或对颜色进行硬编码。

然后，使用以下代码：

```
-(UIView *)tableView:(UITableView *)tableView viewForHeaderInSection:(NSInteger)section
{
    UIView *tempHeaderView=[[UIView alloc]initWithFrame:CGRectMake(0,0,320,44)];

    // This changed:
    tempHeaderView.backgroundColor = [sectionColors objectAtIndex:section];

    [tempHeaderView addSubView: tempHeaderLabel];

    return tempHeaderView;
    // Use 'return [tempHeaderView autorelease];' in a non-ARC environment
} 
```

这是您可以初始化数组的方式：

```
// Assuming your table has three sections (indices 0 through 2)

UIColor* colorForSection0 = [UIColor colorwithRed:redValue0 green:greenValue0 blue:blueValue0 alpha:1.0];
// redValue0, etc. are floats between 0.0 and 1.0 that you can read from a .plist
// Alternatively, store them as integers between 0 and 255, and divide them by 255.0 
// and store on CGFloat variables before creating color.

// ...Do the same for the other colors...

// Now that you have the colors, create array and store in ivar 'sectionColors'
sectionColors = [[NSArray alloc] initWithObjects: 
    ColorforSection0, ColorForSection1, colorForSection2, nil]; 
```

（上面的代码应该放在表视图数据源的初始化程序中）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T06:29:21.927

您将需要使用传入的部分并将其与 plist 文件中的部分之一相关联。您可能会加载 plist 中存在的“部分”的字典（可能基于它在与部分相同的数组中的位置加载），然后在 if() 中使用 valueForKey:@"enabled" 或类似内容检查并相应地设置您的状态。

# apache - Apache 需要 20 秒才能开始运行 CGI 脚本

> ID：11077809
> 
> 赞同：4
> 
> 时间：2012-06-18T06:23:06.933
> 
> 标签：apache, cgi, cgi-bin

关于为什么我的 Apache/2.0.49 服务器从接收使用 cgi-bin 脚本执行的请求到开始运行该脚本总是等待 20 秒的任何想法？

服务器立即响应仅使用静态文件的普通 HTTP 请求，但始终需要 20 秒才能响应 cgi-bin 请求。我使用 tcpdump 来计算请求到达的时间，并在脚本开头打印时间以确定延迟在这两个事件之间。

我在配置中看不到任何与 20 秒相关的内容。该服务器运行 Red Hat Linux 3.3.3-7，我很确定它曾经立即响应 cgi 脚本，但我不确定它什么时候开始变慢以及可能发生了什么变化。

提前感谢您提供的任何帮助/建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-22T09:02:50.917

我们在运行 PHP 的 Apache 服务器上遇到了类似的问题，但只有一个特定的客户端，最后发现问题是 PHP 试图从远程服务器获取文件但在 20 秒后没有连接PHP“放弃”，流程完成。您应该尝试在您的代码中搜索类似的内容。

# objective-c - 通过 Cocos2d 将 GameOver 截图发布到 Facebook

> ID：11077821
> 
> 赞同：1
> 
> 时间：2012-06-18T06:24:11.650
> 
> 标签：objective-c, facebook, facebook-graph-api, cocos2d-iphone

我搜索了很多关于在 facebook 上发布屏幕截图的论坛和线程。我找到了要在`CCDirector`其中创建屏幕截图的功能。我还看到了将屏幕截图发布到相册或墙上的 Facebook 的方法。但这对我不起作用。

```
UIImage *tempImage = [[CCDirector sharedDirector] screenshotUIImage];

NSMutableDictionary* params = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                                   tempImage,@"message",
                                   nil];

[facebook requestWithGraphPath:@"me/photos"
                         andParams:params
                     andHttpMethod:@"POST"
                       andDelegate:self]; 
```

screenshotUIImage 是制作屏幕截图的功能，它工作正常。 `requestWithGraphPath`不为我做任何事情。我在参数中使用了不同的关键字，例如“tempImage, @"source"," 和 "tempImage, @"image"," 但没有任何反应。

然而，在墙上张贴文本，比如带有预定义图像链接的高分是正常的。

```
NSMutableDictionary* params = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                               imageSrc, @"picture",
                               serverLink, @"link",
                               postName, @"name",
                               customMessage, @"caption",
                               nil];

// Post on Facebook.
[_facebook dialog:@"feed" andParams:params andDelegate:self]; 
```

谁能指导我如何进行图片发布？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T09:28:01.070

在您的参数中，您可以尝试为键“图片”指定一个 UIImage：

```
UIImage *tempImage = [[CCDirector sharedDirector] screenshotUIImage];

NSMutableDictionary *params = [NSMutableDictionary dictionary];    
[params setObject:myCaption forKey:@"caption"];
[params setObject:myMessage forKey:@"message"];
...
// UIImage object goes here
[params setObject:tempImage forKey:@"picture"];

[facebook requestWithGraphPath:@"me/photos" andParams:params andHttpMethod:@"POST" andDelegate:self]; 
```

# c# - 如何根据先前的选择过滤下拉列表

> ID：11077823
> 
> 赞同：4
> 
> 时间：2012-06-18T06:24:44.340
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3

我有两个表格，即州和国家。这两个是我的视图页面中的下拉列表。我正在使用独立查询显示它们每个的下拉值。在表格状态中，我有 stateid 和 countryid。我需要根据国家/地区选择过滤州值。我什至有一个名为 Table 的主表，其中包含州和国家/地区的 id 以下是我用来显示的方式，

```
enter code here 
```

//获取状态值

```
var query = (from i in dbContext.countries

                     join j in dbContext.States on i.Country_id equals j.Country_id

                     where j.State_id >= 0
                     select new
                     {
                         state = j.State_name}).ToArray//To get state values 
```

在此处输入代码

```
 var str = (from li in dbContext.countries

                           where li.Country_id >= 1
                           select new
                           {

                               country = li.Country_name}).ToArray();//To get country 
```

价值观

我如何查询用于过滤主表“表”中的值。我在编写过滤查询时遇到问题这可能使用 linq 查询吗？请建议我如何做到这一点谢谢

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-19T14:04:45.573

这可以通过不同的方式来实现。一种方法是让服务器在第一个下拉列表更改时通过 Ajax 返回过滤的有效选项列表。

例如，假设这种情况：一个 View 有两个 DropDownLists；一个与国家有关，另一个与国家有关。带有状态的 DropDownList 是空的，默认情况下禁用，直到选择了一个国家。

所以你可以在你的控制器中有这个动作：

```
public ActionResult Index()
{
    ViewBag.Country = new [] {
        new SelectListItem() { Text = "Venezuela", Value = "1" },
        new SelectListItem() { Text = "United States", Value = "2" }
    };
    return View();
} 
```

而这个观点：

```
<div class="editor-field">
    @Html.DropDownList("Country")
    @Html.DropDownList("State", Enumerable.Empty<SelectListItem>(), "States", new { @disabled = "disabled" })
</div> 
```

现在在您的控制器中添加一个 POST 操作。它接收所选国家的 ID 并返回包含过滤状态列表的 JSON：

```
[HttpPost]
public ActionResult StatesByCountry(int countryId)
{
    // Filter the states by country. For example:
    var states = (from s in dbContext.States
                  where s.CountryId == countryId
                  select new
                  {
                      id = s.Id,
                      state = s.Name
                  }).ToArray();

    return Json(states);
} 
```

最后一件事是客户端代码。此示例使用 jQuery 并在国家下拉列表中设置更改事件侦听器，该侦听器通过 Ajax 调用新的控制器操作。然后它使用返回的值来更新“状态”DropDownList。

```
$(document).ready(function () {
    $('#Country').change(function () {
        $.ajax({
            url: '/Home/StatesByCountry',
            type: 'POST',
            data: { countryId: $(this).val() },
            datatype: 'json',
            success: function (data) {
                var options = '';
                $.each(data, function () {
                    options += '<option value="' + this.id + '">' + this.state + '</option>';
                });
                $('#State').prop('disabled', false).html(options);
            }
        });
    });
}); 
```

# perl - 在 perl 中进行交互的正确流

> ID：11077825
> 
> 赞同：0
> 
> 时间：2012-06-18T06:25:03.583
> 
> 标签：perl, bash, stdout, out

我的 perl 脚本需要询问用户密码才能下载一些文件：

```
print "Your password please: \n";
ReadMode('noecho');
$password = ReadLine(0);
$password =~ s/\n//;
ReadMode(0);

system("wget --user=user --password=\"$password\" http://some.server/data.xml");
do_something(); 
```

如果我调用脚本`$> ./script.pl`一切正常。但是，如果我想将输出通过管道传输到一个文件`$> ./script.pl > text.txt`，密码问题也将通过管道传输到该文件，并且 ReadLine 不再工作。

这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:32:19.277

将提示打印到`STDERR`：

```
print STDERR "Your password please: "; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T08:24:59.547

直接从键盘读取密码所带来的安全性收益通过使用 来取消`wget`，在其环境中密码对系统上的每个用户都是清晰可见的。如果安全性无关紧要，您可以重写程序以[获取用户/密码的命令行参数](https://stackoverflow.com/a/10957826/46395)。

# linux - 杯子pdf打印的自定义参数

> ID：11077831
> 
> 赞同：0
> 
> 时间：2012-06-18T06:25:45.170
> 
> 标签：linux, pdf, printing, ghostscript, cups

我想实现从 Windows 机器到 Linux 的 pdf 打印。我在 linux 中使用 CUPS pdf 并在 Windows 中安装驱动程序。

此外，我想传递一些带有打印的自定义参数，例如发送者的全名、接收者名称、手机号：在到达 Pdf 时发送 SMS 等。（我将使用自定义打印对话框通过 pint 对话框获取这些参数。）怎么做我把这些和印刷一起传了吗？我如何在 linux 端处理这个问题？什么是简单的方法？

我不擅长 PostScript 或 Ghostscript。如果那是唯一的解决方案，那么我会尝试。也欢迎任何将自定义变量从 Windows 传递到 linux 打印机的替代解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-04T06:21:55.763

我没有得到确切的帮助，但我实现了这一点 2 打印。最初打印自定义参数，参考下一个文档。然后打印下一个文档。Linux 端使用 shell 脚本解析 pdf。

# c# - Outlook 中的错误邮件格式，但在 Gmail 中正常

> ID：11077832
> 
> 赞同：1
> 
> 时间：2012-06-18T06:25:45.673
> 
> 标签：c#, email

我创建了一个函数，它发送一封包含大量 HTML 数据的电子邮件，其中包含许多内嵌样式和图像。

HTML 正文设置为 true。

电子邮件在 GMAIL 中看起来很好，具有所有样式和图像，但在 Outlook 中格式被分散了。

Outlook 是否需要更多东西才能像在 Gmail 中一样制作电子邮件？

谢谢你的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T06:57:03.320

谢谢@Me.Name

您的链接帮助我解决问题，下面链接中提到的步骤有助于为 Outlook 视图创建 HTML

[http://robcubbon.com/create-html-email-newsletters-outlook/](http://robcubbon.com/create-html-email-newsletters-outlook/)

# php - 验证多个文件输入mysql查询

> ID：11077833
> 
> 赞同：0
> 
> 时间：2012-06-18T06:26:03.657
> 
> 标签：php, mysql

我的场景是这样的：

```
<input type="file" name="image[]" />
<input type="file" name="image[]" />
<input type="file" name="image[]" />
<input type="file" name="image[]" /> 
```

我的数据库字段表是：

```
ID = 1
image1 = image1.jpg
image2 = image2.jpg
image3 = image3.jpg
image4 = image4.jpg 
```

假设行 id = 1 之前已经插入了值，如果用户想要更新 image1 和 image 4，那么他们将浏览并选择所需的图像文件，并将 image2 和 image3 留空。

这是执行mysql查询后的概念：

```
ID = 1
image1 = newimage1.jpg
image2 = image2.jpg
image3 = image3.jpg
image4 = newimage4.jpg 
```

如何进行验证查询？

目前我的代码是这样的，我不知道如何从这里继续，因为我还是 PHP/mysql 的新手。

```
foreach ($_FILES['product_image']['name'] as $key => $value) {
if(!empty($value)) {
                `$upt=mysql_query("update products_list set` `image1='$pic1',image2='$pic2',image3='$pic3',image4='$pic4' where id='$id'");`
}
} 
```

希望这对你们来说很清楚。提前致谢。=)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:32:55.203

您可以使用计数器来更新正确的字段：

```
 foreach ($_FILES['product_image']['name'] as $key => $value) {
   if(!empty($value)) {
        // field names starts from 1
        $field = 'image'.($key+1);
        mysql_query("UPDATE product_list ".
                    "SET $field = '$value' ".
                    "WHERE id = $id");
   }
 } 
```

当然，这意味着您必须根据表单发送的内容将同一记录最多更新四次。此外，您应该使用类似`mysql_escape_string()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:32:23.893

我想你最好有`product_images`桌子。这样，一个产品可以有 1 个或多个图像。您的表单可以保持不变，但您只需将`products.id`与新图像表中的每条记录相关联。

添加新产品时，您将创建产品，然后为他们在表单中上传的每个图像插入一个图像记录。

编辑产品时，您可以轻松删除照片或添加新照片。

```
// remove an image
mysql_query("delete from product_images where product_id=$pid and id=$iid");

// add a new image
mysql_query("insert into product_images (product_id, image) values ($pid, '$filename')"); 
```

* * *

注意：不应直接使用这些查询。确保您采取了适当的预防措施来防止 SQL 注入。

# ios5 - iPhone 设备之间的屏幕共享

> ID：11077836
> 
> 赞同：3
> 
> 时间：2012-06-18T06:26:19.853
> 
> 标签：ios5, screensharing

我可以通过 app 与另一台 iOS 设备共享一台 iOS 设备的屏幕吗？是否可以使用 iOS SDK 实现上述功能？苹果允许这种类型的应用程序吗？如果有人知道这件事，请告诉我。提前致谢。

# jquery - 除以 Ids 以获得新结果

> ID：11077846
> 
> 赞同：-1
> 
> 时间：2012-06-18T06:27:20.353
> 
> 标签：jquery, divide

我有 2 个 ID **#totalcbm**和**#gross**，我想使用 jquery 划分这两个值并将结果存储在一个新的 ID **#result**中。

我如何使用 jQuery 来做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:30:38.313

```
var result = parseFloat(('#totalcbm').val()) / parseFloat(('#gross').val());
$('#result').val(result); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T06:29:34.190

如果 div 包含文本，这非常简单。

```
var result = parseFloat($('#totalcbm').text()) / parseFloat($('#gross').text());
$('result').text(result); 
```

如果这些是文本框/文本区域，请参见：

```
var result = parseFloat($('#totalcbm').val()) / parseFloat($('#gross').val());
$('result').val(result); 
```

请试着把自己的努力放在这样简单的事情上。

# android - 如何更新Sqlite中的数据？

> ID：11077850
> 
> 赞同：0
> 
> 时间：2012-06-18T06:27:30.950
> 
> 标签：android, sqlite

在我的 android 应用程序中，我使用的是 sqlite 数据库。我使用以下代码更新数据，但数据未更新。

```
public int setCurrentLevel(int level)
{
  //update table level set currentlevel = level;
  int slevel = level;
  Log.d("QUIZ APP", "inside on setcreatelevel is "+slevel);
  ContentValues args = new ContentValues();
  args.put("currentlevel", slevel);

  return db.update("level", args, "currentlevel" + ">=" + slevel, null);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:44:00.233

干得好

```
db.update("level",args,"currentlevel>= ?", new String[] { String.valueOf(level) }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-17T09:05:18.047

尝试这个，

```
ContentValues cv = new ContentValues();
cv.put("Field", value);
db.update("Table", cv, "Field='value'", null); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T06:33:31.033

使用这个查询............还提到你想要触发这个更新的一些条件

```
 db.execSQL("UPDATE "+tableName+" SET "+columnNameValue+" WHERE "+condition+""); 
```

您的查询将类似于：

```
 db.execSQL("UPDATE level SET currentlevel="+slevel +" WHERE currentlevel \\>=" + slevel+""); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T06:32:24.340

尝试这个

```
 public int setCurrentLevel(int level)
   {
            //update table level set currentlevel = level;
            int slevel = level;
            Log.d("QUIZ APP", "inside on setcreatelevel is "+slevel);
            ContentValues args = new ContentValues();
            args.put("currentlevel", slevel);
             return db.update("level", args, 
                 "currentlevel" + ">=" + slevel, null)>0;

      } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T06:31:05.607

在你的函数中使用这种代码

```
public boolean updateTitle(long rowId, String isbn,
String title, String publisher)
{
ContentValues args = new ContentValues();
args.put(KEY_ISBN, isbn);
args.put(KEY_TITLE, title);
args.put(KEY_PUBLISHER, publisher);
return db.update(DATABASE_TABLE, args,
KEY_ROWID + "=" + rowId, null) > 0;
} 
```

# php - 将值从一个字段传递到另一个字段

> ID：11077851
> 
> 赞同：0
> 
> 时间：2012-06-18T06:27:31.367
> 
> 标签：php

我是编程语言的新手。我想知道我可以从其他字段获取值并以相同的形式传递给其他字段而不使用 javascript 吗？有人可以向我解释吗？感谢你。

这是我的表单页面

```
<form id="leave_form">
<table><tr>
<td width="70"><b>*</b> Date From:</td>
<td width="120"><span id="lv_date_from_btn"><input readonly class="field_required control" onchange="validateLeave('from')" id="lv_date_from" name="date_from" value="<?php echo $start_date?>" size="10" maxlength="10"/> <img src="images/calendar.gif"/></span></td>
</tr>
<tr>
<td width="70"><b>*</b> Date To:</td>
<td width="120"><span id="lv_date_to_btn"><input  readonly class="field_required control" onchange="validateLeave('to')" id="lv_date_to" name="date_to" value="<?php echo $end_date?>"  size="10"  maxlength="10"/> <img src="images/calendar.gif"/></span></td>
</tr>

<?php if ($userid == '609'):?>
<tr>
<td><b>*</b> Relief Staff: </td>
<td>

<select name="userid" id="frm_userid2" class="field_required control" onchange="validateLeave('relief')" >      
<?php
$leavefrom = $_REQUEST['from'];
$leaveto = $_REQUEST['to'];
if (empty($leavefrom))
{
echo '<option value="" selected disabled>Select...</option>';
}
else{
echo '<option value="" selected disabled>Select...</option>';                   
$sql = "
SELECT distinct fullname FROM core_user LEFT JOIN lms_tran ON lms_tran.userid = core_user.userid where core_user.userid NOT IN (SELECT userid  FROM lms_tran WHERE date_from BETWEEN '$leavefrom' AND '$leaveto' AND app_status = 'Approved') AND core_user.userid != 609 AND core_user.status = 'Y' ORDER by fullname ASC
                ";

$result = mysql_query($sql);

while ($row = mysql_fetch_assoc($result)) 
{                       
echo '<option value="'.$row["userid"].'">'.$row["fullname"].'</option>';                    
}
}?>
</select>
</td>
</tr>
<?php endif; ?> 
    </table>
    </form> 
```

这是javascript

```
function validateLeave(type)
{
    var days= jQuery('#frm_days').val();
    var from = jQuery('#lv_date_from').val();
    var to = jQuery('#lv_date_to').val();
    var relief = jQuery('#frm_userid2').val();

    if (type != 'check')
    {
        days_incorrect = true;
    }       
    if (type == 'days' || type == 'from')
    {
        to = '';
        relief = '';
    }   
    if (type == 'to')
    { 
        days = '';
    }       

    if ( 
        (
        (days == '' ? 0 : 1) + 
        (to == '' ? 0 : 1) + 
        (from == '' ? 0 : 1)        
        ) < 2
    )
    {
        days_correct = false;
        return;
    }

    days = parseFloat(days);
    jQuery('#frm_days').val(days);
    jQuery('.control').attr('disabled', true);
    jQuery('#lv_loading').show();       
    jQuery.post('index.php?_m=lms&_a=leave_validate&from='+from+'&to='+to, {from:from,to:to,days:days}, function(res){
        eval('var r = '+res+';');
        if (r.status == 'OK')
        {
            days_incorrect = false;
            if (r.to)
            {
                jQuery('#lv_date_to').val(r.to);
            }
            if (r.from)
            {
                jQuery('#lv_date_from').val(r.from);
            }
            if (r.days)
            {
                jQuery('#frm_days').val(r.days);
            }
        }           
        else if (r.status == 'HOLIDAYERROR')
        {
            alert('Incorrect leave start date. Leave start date can not fall into Weekend or Public Holidays');
            days_incorrect = true;
        }
        else 
        {
            alert('Incorrect leave  period. Please check back Leave Start, Leave End and Leave Days')
            days_incorrect = true;
        }
        jQuery('.control').attr('disabled', false);
        jQuery('#lv_loading').hide();
    }); 

} 
```

我无法在 php 代码中返回值，因为我通过 jQuery 传递值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:31:09.040

不，你不能。做一些交互的唯一方法是用 javascript 来做，如果你想看到的话。如果没关系，您可以在服务器上通过为第二个变量分配第一个变量的值来执行此操作。

# android - PhoneGap - 在 phonegap 中检测设备类型

> ID：11077853
> 
> 赞同：51
> 
> 时间：2012-06-18T06:27:42.330
> 
> 标签：android, cordova, phonegap-plugins

我正在为三个不同的平台在 phonegap 中构建一个应用程序：Android、iOS 和 Blackberry。这样做时，我必须检测设备类型，以便我可以在不同平台和不同设备上管理我的应用程序的高度和宽度，如 Android 手机、Android 平板电脑、iPhone、iPad 和黑莓......

* * *

## 回答 #1

> 赞同：95
> 
> 时间：2013-01-18T10:21:30.577

Phonegap 的新功能和最简单的功能是您可以使用 device.platform：

```
// Depending on the device, a few examples are:
//   - "Android"
//   - "BlackBerry"
//   - "iOS"
//   - "webOS"
//   - "WinCE"
//   - "Tizen"
//   - "browser"
var devicePlatform = device.platform; 
```

* * *

## 回答 #2

> 赞同：55
> 
> 时间：2012-06-18T06:59:52.197

如果你想在 onDeviceReady 之前获取设备类型，你可以这样。

```
var deviceType = (navigator.userAgent.match(/iPad/i))  == "iPad" ? "iPad" : (navigator.userAgent.match(/iPhone/i))  == "iPhone" ? "iPhone" : (navigator.userAgent.match(/Android/i)) == "Android" ? "Android" : (navigator.userAgent.match(/BlackBerry/i)) == "BlackBerry" ? "BlackBerry" : "null";

alert(deviceType); 
```

* * *

## 回答 #3

> 赞同：37
> 
> 时间：2015-06-12T10:16:07.537

```
cordova.platformId 
// "android" 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-06-18T06:38:48.847

您可以使用 device.name 属性来获取有关设备的详细信息。

```
 function onDeviceReady() {
    var name=device.name ;
       } 
```

或仅获取可以使用 device.platform 属性的平台。

```
 function onDeviceReady() {
    var name=device.name ;
    var plat=device.platform;
       } 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-06-18T06:48:53.953

将此代码用作您的 html 文件

设备属性示例

```
<script type="text/javascript" charset="utf-8" src="phonegap-1.0.0.js"></script>
<script type="text/javascript" charset="utf-8">

// Wait for PhoneGap to load
//
document.addEventListener("deviceready", onDeviceReady, false);

// PhoneGap is ready
//
function onDeviceReady() {
    var element = document.getElementById('deviceProperties');

    element.innerHTML = 'Device Name: '     + device.name     + '<br />' + 
                        'Device PhoneGap: ' + device.phonegap + '<br />' + 
                        'Device Platform: ' + device.platform + '<br />' + 
                        'Device UUID: '     + device.uuid     + '<br />' + 
                        'Device Version: '  + device.version  + '<br />';
}

</script> 
```

正在加载设备属性...

我建议您在设备 Best Of Luck Aamirkhan I 中进行检查。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-06-18T06:39:52.937

您可以查看以下链接： [http ://docs.phonegap.com/en/1.0.0/phonegap_device_device.md.html](http://docs.phonegap.com/en/1.0.0/phonegap_device_device.md.html)

有几种方法可以从 phonegap 获取设备信息。

另一种选择是查看浏览器类型。（IE = WP7，Safari = iOS，...）

我不确定您是否能够检测到您使用的是 Android 手机还是平板电脑……无论如何，您的 html 应用程序应该能够处理任何屏幕分辨率。您也可以在手机上拥有不同的分辨率！

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-26T20:46:07.653

如果您因为尝试正确格式化屏幕而需要此信息 - 您应该使用 CSS @media 查询来确定适当的屏幕布局并相应地应用 CSS。

使用 Google 查找有关“使用 CSS 进行响应式设计”的信息

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-06-18T06:44:28.783

```
function onDeviceReady()
{
// ***IMPORTANT: access device object only AFTER "deviceready" event    
document.getElementById("name").innerHTML = device.name;
document.getElementById("pgversion").innerHTML = device.cordova ? device.cordov:device.phonegap;
document.getElementById("platform").innerHTML = device.platform;
document.getElementById("uuid").innerHTML = device.uuid;
document.getElementById("version").innerHTML = device.version;

} 
```

[有关device.platform](http://docs.phonegap.com/en/1.0.0/phonegap_device_device.md.html#device.platform)，请参见此处

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2016-07-15T12:33:11.203

我肯定不会在布局页面时使用设备类型，布局应该仅基于屏幕大小

您可以使用 javascript 属性：

```
width = window.innerWidth
height = window.innerHeight 
```

或使用 CSS：

```
.element{   
    height: 50vh;  //(height = 50 percent of screen)
} 
```

见 vmin,vmax, vh, vw

# asp.net-mvc-3 - EF 和 ASP.NET 成员资格

> ID：11077856
> 
> 赞同：1
> 
> 时间：2012-06-18T06:28:06.917
> 
> 标签：asp.net-mvc-3, entity-framework

我有一个关于在 asp 中关联会员资格的问题。我如何拥有在我的网站上注册的用户的表（由 asp 创建）的外键？我正在尝试为此使用代码优先，并想知道如何为此创建 POCO？我使用的字段类型是什么？我认为它是关闭类型的 GUID？我正在使用 VS2012 RC 和 EF 4.5（我认为）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:37:15.513

我将从在本地服务器上创建实际的成员资格数据库开始，并通过 SQL Server Management Studio（或其他实用程序，如果您不使用 MS SQL Server）探索它的结构。可以[在此 SO 答案](https://stackoverflow.com/a/929646/625594)以及同一问题的其他答案中找到有关如何执行此操作的说明。

此外[，这篇博](http://superpatrick.wordpress.com/2007/11/21/aspnet-membership-schema/)文还展示了标准 ASP.NET Membership 数据库中的 EF 关系[图](http://superpatrick.files.wordpress.com/2007/11/aspnet_membership_schema_updated.png)- 不幸的是，它不包含数据类型，但它显示了 Membership 表和关系的大致复杂程度。

# php - 什么是长轮询、Websocket、服务器发送事件 (SSE) 和 Comet？

> ID：11077857
> 
> 赞同：1139
> 
> 时间：2012-06-18T06:28:08.643
> 
> 标签：php, websocket, comet, long-polling, server-sent-events

我已经尝试阅读一些文章，但我对这些概念还不是很清楚。

有人想向我解释一下这些技术是什么：

1.  长轮询
2.  服务器发送的事件
3.  网络套接字
4.  彗星

我每次遇到的一件事是，服务器保持连接打开并将数据推送到客户端。连接如何保持打开状态，客户端如何获取推送的数据？（客户如何使用数据，也许一些代码可能会有所帮助？）

现在，我应该将其中哪一个用于实时应用程序。我听说过很多关于 websockets（使用 socket.io [一个 node.js 库]）的信息，但为什么不是 PHP 呢？

* * *

## 回答 #1

> 赞同：2211
> 
> 时间：2012-10-12T08:57:44.533

*在下面的示例中，客户端是浏览器，服务器是托管网站的网络服务器。*

在了解这些技术之前，您必须先了解*经典*的HTTP Web 流量。

## 常规 HTTP：

1.  客户端向服务器请求网页。
2.  服务器计算响应
3.  服务器将响应发送给客户端。

![HTTP](../Images/ceda341b4aacd7cb92397826982a2777.png)

## Ajax 轮询：

1.  客户端使用常规 HTTP 从服务器请求网页（参见上面的 HTTP）。
2.  客户端接收到请求的网页，并在页面上执行 JavaScript，以定期（例如 0.5 秒）从服务器请求文件。
3.  服务器计算每个响应并将其发送回，就像正常的 HTTP 流量一样。

![Ajax 轮询](../Images/fde80dd51464418271ac2409a55fa91f.png)

## Ajax 长轮询：

1.  客户端使用常规 HTTP 从服务器请求网页（参见上面的 HTTP）。
2.  客户端接收到请求的网页，并在页面上执行向服务器请求文件的 JavaScript。
3.  服务器不会立即响应请求的信息，而是等待有**新**信息可用。
4.  当有新信息可用时，服务器会用新信息进行响应。
5.  客户端收到新信息并立即向服务器发送另一个请求，重新启动该过程。

![Ajax 长轮询](../Images/1f37bb6da6dc02824b5127d4f960454d.png)

## HTML5 服务器发送事件 (SSE) / 事件源：

1.  客户端使用常规 HTTP 从服务器请求网页（参见上面的 HTTP）。
2.  客户端接收请求的网页并在打开与服务器的连接的页面上执行 JavaScript。
3.  当有新信息可用时，服务器会向客户端发送一个事件。

    *   从服务器到客户端的实时流量，主要是你需要的
    *   您需要使用具有事件循环的服务器
    *   [只有正确的 CORS 设置](https://developer.mozilla.org/en-US/docs/Web/API/EventSource/EventSource)才能与来自其他域的服务器建立连接
    *   如果您想阅读更多内容，我发现这些非常有用：[(article)](https://developer.mozilla.org/en-US/docs/Server-sent_events/Using_server-sent_events) , [(article)](http://html5doctor.com/server-sent-events/#api) , [(article)](http://www.html5rocks.com/en/tutorials/eventsource/basics/) , [(tutorial)](http://jaxenter.com/tutorial-jsf-2-and-html5-server-sent-events-42932.html)。

![HTML5 上交所](../Images/2f95995b06766c219b512696f4ce3ac6.png)

## HTML5 网络套接字：

1.  客户端使用常规 http 从服务器请求网页（参见上面的 HTTP）。
2.  客户端接收请求的网页并在打开与服务器的连接的页面上执行 JavaScript。
3.  服务器和客户端现在可以在新数据（在任何一方）可用时相互发送消息。

    *   **从服务器到客户端以及**从客户端到服务器的实时流量
    *   您需要使用具有事件循环的服务器
    *   使用 WebSockets 可以连接来自另一个域的服务器。
    *   也可以使用第三方托管的 websocket 服务器，例如[Pusher](http://pusher.com/)或[其他](http://www.leggetter.co.uk/real-time-web-technologies-guide)。这样你只需要实现客户端，这很容易！
    *   如果您想阅读更多内容，我发现这些非常有用：（[文章](http://www.developerfusion.com/article/143158/an-introduction-to-websockets/)）、[（文章）](https://developer.mozilla.org/en-US/docs/WebSockets/Writing_WebSocket_client_applications)（[教程](http://net.tutsplus.com/tutorials/javascript-ajax/start-using-html5-websockets-today/)）。

![HTML5 网络套接字](../Images/2b1e4d4c2039100f7bb5c6029b32966d.png)

## 彗星：

Comet 是 HTML5 之前的技术集合，它使用流式传输和长轮询来实现实时应用程序。阅读更多关于[维基百科](http://en.wikipedia.org/wiki/Comet_%28programming%29)或[这篇](http://www.ibm.com/developerworks/web/library/wa-reverseajax1/index.html)文章。

* * *

> 现在，我应该将其中哪一个用于实时应用程序（我需要编码）。我听说过很多关于 websockets（使用 socket.io [a node.js library]）的消息，但为什么不是 PHP 呢？

您可以将 PHP 与 WebSockets 一起使用，请查看[Ratchet](http://socketo.me/)。

* * *

## 回答 #2

> 赞同：42
> 
> 时间：2014-10-14T07:11:26.410

Tieme 为他的出色回答付出了很多努力，但我认为 OP 问题的核心是这些技术与 PHP 的关系，而不是每种技术的工作原理。

除了明显的客户端 HTML、CSS 和 Javascript，PHP 是 Web 开发中最常用的语言。然而，当涉及到实时应用程序时，PHP 有两个主要问题：

1.  PHP 最初是一个非常基本的 CGI。PHP 自其早期阶段以来已经取得了很大的进步，但它是在小步骤中发生的。当 PHP 成为今天的可嵌入且灵活的 C 库时，它已经拥有数百万用户，其中大多数用户都依赖于其早期的执行模型，因此它还没有做出切实的尝试来逃避内部 CGI 模型。甚至命令行界面也会调用 PHP 库（`libphp5.so`在 Linux、`php5ts.dll`Windows 等上），就好像它仍然是一个处理 GET/POST 请求的 CGI。它仍然执行代码，就好像它只需要构建一个“页面”然后结束它的生命周期。结果，它对多线程或事件驱动编程（在 PHP 用户空间内）的支持非常少，使其目前对于实时的多用户应用程序不实用。

请注意，PHP 确实具有在 PHP 用户空间中提供事件循环（例如`libevent`）和线程（例如`pthreads`）的扩展，但是很少有应用程序使用这些。

2.  PHP 在垃圾收集方面仍然存在重大问题。尽管这些问题一直在不断改善（可能是如上所述结束生命周期的最大步骤），但即使是创建长时间运行的 PHP 应用程序的最佳尝试也需要定期重新启动。这也使得它对于实时应用程序不实用。

PHP 7 也将是解决这些问题的重要一步，并且作为实时应用程序平台似乎很有希望。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2021-05-30T06:27:00.180

## 轮询

基本上，轮询是一种在定期间隔后从服务器请求信息的技术。此连接通过遵循 HTTP 协议进行。有两种类型的轮询：

1.  短轮询
2.  长轮询

### 短轮询

简而言之，客户端向服务器请求信息。服务器处理请求。如果数据可用于请求，则服务器使用所需信息响应请求。但是，如果服务器没有可用于客户端的数据，则服务器返回空响应。在这两种情况下，连接都会在返回响应后关闭。即使服务器发送空响应，客户端也会继续发出新请求。这种机制增加了服务器的网络成本。

### 长轮询

在长轮询中，客户端可以向服务器请求信息，但期望服务器可能不会立即响应。当服务器接收到请求时，如果它没有新的数据给客户端，而不是返回一个空响应，服务器保持请求打开并等待数据到达。当服务器接收到新数据时，它立即将响应传递给客户端，完成打开请求。然后，客户端可以在从服务器获得答案后发送另一个新更新请求。长轮询通过减少空响应的数量来降低成本。

## 网络套接字

WebSocket 是一种通过单个 TCP 连接提供双向（双向）通信通道的协议。Websocket 促进了客户端和服务器之间的持久连接，允许双方随时开始传输数据。WebSocket 握手是客户端创建 WebSocket 连接的过程。如果操作成功，服务器和客户端可以随时发送和接收数据。主要用于实时网络应用程序，例如 WhatsApp、Uber。

## 服务器发送事件 (SSE)

与 WebSockets 不同，我们不能使用 SSE 从客户端向服务器发出请求，因为它是单向连接。当我们需要从服务器到客户端的**“近实时”**传输，或者如果服务器循环生成数据，SSE 是理想的选择。

## 彗星

Comet 是一种 Web 应用程序设计范例，它描述了使用本机 HTTP 方法在服务器和 Web 浏览器之间进行连续的双向交互。彗星是一个总称。Ajax Push、HTTP Streaming 和 HTTP Server Push 是一些可用于提供这种事件驱动交互的 HTTP 机制。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-04-14T16:38:16.260

您可以轻松地在 Web 应用程序中使用 Node.JS，仅用于实时通信。当涉及到 WebSockets 时，Node.JS 真的很强大。因此“通过 Node.js 的 PHP 通知”将是一个很棒的概念。

请参阅此示例： [使用 PHP 和 Node.js 创建实时聊天应用程序](https://developer.hyvor.com/php/chat-app-with-php-nodejs)

# ruby - 红宝石空格

> ID：11077860
> 
> 赞同：1
> 
> 时间：2012-06-18T06:28:47.577
> 
> 标签：ruby, ruby-on-rails-3

ruby 中对空格有不同的敏感性/设置吗？

我有一个 RoR 项目，其中一个活动记录调用有很多组件：

```
 max_stuff = FooSummary.select("max(stuff) as stuff")
                        .joins(:foo => :bar)
                        .where("user_id = ? and record_date < ?", r.user_id, r.record_date)
                        .group("user_id")
                        .first 
```

1.9.3 在我的 mac 上可以正常工作，但在它运行的 ubuntu 服务器上，它抱怨 .joins 在单独的行上（意外。期待 kEND）

是什么赋予了？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T07:40:09.723

这种语法是在 Ruby 1.9.1中[引入的：](http://svn.ruby-lang.org/repos/ruby/tags/v1_9_1_0/NEWS)

> ## 语言核心变化
> 
> *   新的语法和语义
>     *   …</li>
>     *   在三元冒号运算符 (:) 和方法调用点运算符 (.) 之前允许换行

很可能您的服务器运行的是较旧的 Ruby 版本，即 1.9.0 或 1.8.x。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-18T06:42:44.650

将句点移到前一行。如果逐行解析，

```
foo = bar 
```

看起来像一个完整的语句，而下一行单独来看是一个语法错误：

```
.baz 
```

但是，这不能是一个声明：

```
foo = bar. 
```

并且解析器知道它还必须附加下一行：

```
baz 
```

`foo = bar.baz`（正如预期的那样，它给出了与 相同的解析）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T06:30:48.930

也许

```
max_stuff = FooSummary.select("max(stuff) as stuff") \
                    .joins(:foo => :bar) \
                    .where("user_id = ? and record_date < ?", r.user_id, r.record_date) \
                    .group("user_id") \
                    .first 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T08:10:19.663

在行尾加点

```
max_stuff = FooSummary.select("max(stuff) as stuff").
                       joins(:foo => :bar).
                       where("user_id = ? and record_date < ?", r.user_id, r.record_date).
                       group("user_id").
                       first 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T06:48:55.287

您还可以尝试以下的各种组合，或者`(`结束行，或者`)`开始行。在这里，我将两者都显示，您可以根据自己的喜好进行调整。

```
max_stuff = FooSummary.select(
                              "max(stuff) as stuff"
                     ).joins(
                             :foo => :bar
                     ).where(
                             "user_id = ? and record_date < ?", r.user_id, r.record_date
                     ).group(
                             "user_id"
                     ).first 
```

# windows-phone-7 - phone7中的闪烁图像动画

> ID：11077863
> 
> 赞同：0
> 
> 时间：2012-06-18T06:28:59.463
> 
> 标签：windows-phone-7, windows-phone-7.1

在 wp7 中创建闪烁图像动画的最佳方法是什么？是否有可用的源代码示例？（或）我有一组 4 张图像，每张图像都可以在几分之一秒内更改为其他图像，这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T09:25:53.320

我已经为你制定了这段代码。试试看

在 xaml 中，添加一个带有图像控件和按钮的画布，其中有一个故事板

```
 <Canvas Height="220" HorizontalAlignment="Left" Margin="79,29,0,0" Name="canvas1" VerticalAlignment="Top" Width="401" Grid.Row="1" >
        <Canvas.Resources>

            <Storyboard x:Name="myStoryboard">
                <DoubleAnimation
    Storyboard.TargetName="image"
    Storyboard.TargetProperty="Opacity"
    From="1.0" To="0.0" Duration="0:0:1" 
     />
            </Storyboard>

        </Canvas.Resources>

        <Image Name="image" Width="200" Height="173"></Image>
        <Button Content="Button" Height="54"   HorizontalAlignment="Left" Margin="388,113,0,0" Name="button1" VerticalAlignment="Top" Width="97" Grid.Row="1" Click="button1_Click" Canvas.Left="-97" Canvas.Top="-26"/>
        </canvas> 
```

在代码隐藏事件中启动故事板事件

```
Set the image source to the first image when main page initialize. after that when click the button the blinking starts and change the images

private void button1_Click(object sender, RoutedEventArgs e)
    {
        myStoryboard.Begin();
        myStoryboard.Completed +=new EventHandler(myStoryboard_Completed);
    }

   int count = 0;

   public void myStoryboard_Completed(object sender, EventArgs e)
   {

       count++;

       (if you are adding the images in a loop, try to pass the counter value in the source setter of image or else, here you said 4 images so for each counter value using if condition set the image source in whatever way use to set)

       if(count == 1)
         {
            image.source = img.jpg
         }

       if(count == 2)
         {
            image.source = img2.jpg
         }
       if(count == 3)
         {
            image.source = img3.jpg
         }
       if(count > 3)
         {
           count ==0;
         }

       //start the story board again.the blink starts

         myStoryboard.Begin();

        }

        Any doubts further kindly ask 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T04:25:48.357

可以制作单张图片的闪烁动画。

```
<Ellipse x:Name="light1" Grid.Column="1" Grid.Row="1" Fill="#FFF7810A" HorizontalAlignment="Left" Margin="109,9,0,8" Stroke="Black" Width="100" d:LayoutOverrides="GridBox"/>

<Ellipse x:Name="light2" Grid.Row="1" Fill="#FFF7810A" Margin="0,9,106,8" Stroke="Black" HorizontalAlignment="Right" Width="100" d:LayoutOverrides="GridBox"/> 
```

在第二步中，我将动画应用于这两个相反方向的圆圈，所以当一个淡入另一个淡出时（有点像道路工作的两个闪烁灯的错觉）

```
<Grid.Triggers>
<EventTrigger RoutedEvent="Canvas.Loaded">
<BeginStoryboard>
    <Storyboard>
        <DoubleAnimation Storyboard.TargetName="light1"        Storyboard.TargetProperty="Opacity" From="0.5" To="1" Duration="0:0:1.5"  AutoReverse="True" RepeatBehavior="Forever" />
        <DoubleAnimation Storyboard.TargetName="light2"  Storyboard.TargetProperty="Opacity" From="1" To="0.5" Duration="0:0:1.5" AutoReverse="True" RepeatBehavior="Forever" />
    </Storyboard>
</BeginStoryboard>
  </EventTrigger>
</Grid.Triggers> 
```

# android - 如何在android的一个活动中拥有两个布局xml文件

> ID：11077864
> 
> 赞同：0
> 
> 时间：2012-06-18T06:29:01.817
> 
> 标签：android

我正在android中开发应用程序。我想要的是，我的活动应该代表两个xml布局文件。概念就像，->当活动启动时它应该显示一个布局（屏幕）->当我点击按钮时存在第一个布局，它应该在屏幕底部显示第二个布局，保持第一个布局可见。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T06:34:16.373

将两种布局都放在一个 XML 中。将第二个布局的可见性保持为`secondLayoutObject.setVisibility(View.GONE)`最初，然后单击按钮将其可见性更改为`secondLayoutObject.setVisibility(View.Visible)`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-16T07:39:06.760

在活动中调用两个 xml 文件的方法是使用 layoutmanager 并为两个 xml 文件分配屏幕比例。在两个 xml 中使用相对布局。小代码片段是

```
RelativeLayout layleft = (RelativeLayout)inf.inflate(R.layout.firstxml,null);
        RelativeLayout layright = (RelativeLayout)inf.inflate(R.layout.secondxml,null); 
```

获取详细信息[布局重用帮助](http://developer.android.com/training/improving-layouts/reusing-layouts.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T06:36:35.447

为此，您必须使用可见性的概念。最初将第二个布局的可见性设置为 GONE，当您按下按钮时将其可见性设置为 True。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T06:38:02.253

您可以尝试使用以下示例：

[https://github.com/AdilSoomro/Iphone-Tab-in-Android](https://github.com/AdilSoomro/Iphone-Tab-in-Android)

这个源代码改变布局像按钮点击加载另一个布局！

# objective-c - iOS KVC DRY 突变

> ID：11077866
> 
> 赞同：0
> 
> 时间：2012-06-18T06:29:13.923
> 
> 标签：objective-c, ios, mutation, kvc

我正在尝试将字符串字典从 JSON 提取映射到符合 KVC 的 NSManagedObject，我可以成功使用`setValue: forKey:`，但我看不到如何映射类型。

例如，我不应该将日期设置为任何随机字符串：`Printing description of myDate: asdfsadf` 但是它起作用了。

我查看了[https://stackoverflow.com/a/5345023/828859](https://stackoverflow.com/a/5345023/828859)，它提供了一些有用的答案。我可以进入并为每个属性创建验证......但这似乎不是很干燥，因为每次我有一个日期时我都必须验证每个日期并分别设置输出值。

我更愿意在使用之前按类型进行变异，`setValue: forKey:`但我不知道如何区分属性类型。

我想做的事：

```
switch([object typeforkey:key]){
   case @"NSDate":
   //...
   value = mutatedDate
   //...
}
[object setValue:value forKey:key]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-14T11:13:01.550

我最终使用另一个字典进行属性类型映射。然后对象映射对象检查要映射的对象是否遵守此特定协议，并在使用之前使用属性类型字典转换每个属性`setValue:forKey:`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:40:37.550

你可以询问一个对象它被实例化为什么样的类。因此，您可以执行以下操作：

```
id myObject = [myDictionary objectForKey:key];

if ([myObject isKindOfClass:[NSDate class]]) {
    // Do stuff
}
else if ([myObject isKindOfClass:[NSString class]]) {
    // Do other stuff
} 
```

这是因为对象是包含一个指针的结构，该指针的 ivar 名称`isa`指向一个类型的对象`Class`，所以你总是可以询问一个对象它来自什么类型的类。

# grails - 属于多个域

> ID：11077871
> 
> 赞同：2
> 
> 时间：2012-06-18T06:29:38.697
> 
> 标签：grails, grails-orm, grails-plugin, grails-domain-class, grails-2.0

我有 4 个课程、事件、问题、请求，另一个是附件。

每个域看起来像......

```
 Class Incidents
    {
    // other fields
       static hasOne = [attachment: Attachment]

       static constraints = [attachment nullable:true]
    }

    Class Problems
    {
    // other fields
       static hasOne = [attachment: Attachment]

       static constraints = [attachment nullable:true]
    }

    Class Requests
    {
    // other fields
       static hasOne = [attachment: Attachment]

       static constraints = [attachment nullable:true]
    }

    Class Attachment
    {
    // other fields
       static belongsTo= [
                   incident: Incidents, 
                   problem: Problems,
                   requests: Requests
]

   static constraints = {
        incident nullable: true
        problem nullable: true
        requests nullable: true
} 
```

当我保存事件对象时，它会抛出异常，如列'problem_id'不能为空。该怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T08:43:21.317

尝试删除 Class Incidents, Problems, Requests 上的 hasOne 并将其替换为

```
 Attachment attachment
   static constraints = {attachment: unique: true, nullable:true}       
   static mapping = {
    attachment  cascade: "delete"
    } 
```

# django - 如何基于 UserProfile 在 Django 中进行本地化

> ID：11077873
> 
> 赞同：0
> 
> 时间：2012-06-18T06:29:45.767
> 
> 标签：django, localization

我想根据用户 UserProfile 中设置的国家代码/语言环境在 Django 中进行本地化，而不是使用浏览器/会话/网络服务器认为的语言环境。

有没有办法在 django 模板中做到这一点？

例如如何改变行为

```
{% load l10n %}
{{ value|time|localize }} 
```

以便它根据配置文件中存储的内容而不是基于某些请求上下文来格式化日期？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:58:13.720

Django 提供了[LocaleMiddleware](https://docs.djangoproject.com/en/1.4/ref/middleware/#django.middleware.locale.LocaleMiddleware)来完成你所追求的大部分工作：

> 根据请求中的数据启用语言选择。它为每个用户定制内容。请参阅国际化文档。

它用来猜测语言的方法与翻译机器使用的方法相同；也就是说，它`django_language`在会话中查找变量，如果存在并且是有效语言，它将为请求设置该语言。看看[django 如何发现语言偏好](https://docs.djangoproject.com/en/1.4/topics/i18n/translation/#how-django-discovers-language-preference)。

一旦您在登录视图中从用户的个人资料启用`LocaleMiddleware`和设置，一切都应该工作。`django_language`

# iphone - 如何判断服务器应用程序已从 iphone 中删除或卸载？

> ID：11077875
> 
> 赞同：0
> 
> 时间：2012-06-18T06:29:53.290
> 
> 标签：iphone, ios, xcode

如何通知服务器应用程序已从 iPhone 中卸载或删除。以便它删除服务器记录的所有事件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:33:30.567

我不认为你可以。绝对不是来自代码（删除时您的应用程序未运行）。

除非 Apple 提供此功能，例如作为通知/电子邮件给开发人员（他们现在不提供），否则不可能知道。不要屏住呼吸...

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T06:40:44.200

好吧，您的服务器可以运行清除例程来检查用户是否在过去 x 个月左右没有产生流量......如果是这样，请删除他的记录。（当然，明智的做法是通知用户）

# visual-c++ - 在windows VC++中为同一个exe创建多个进程

> ID：11077878
> 
> 赞同：0
> 
> 时间：2012-06-18T06:30:17.727
> 
> 标签：visual-c++

我有一个要求，我需要为同一个 exe 创建多个进程。我知道我可以使用 createprocess(""myapp.exe,,,,,,,,,) 函数来创建一个进程，这将创建一个进程使用名称“myapp.exe”并运行该 exe。

现在我只需要为相同的 exe 创建进程。让我们说诸如“myapp1.exe”、“myapp2.exe”......等进程。

请帮助我如何在 VC++ 中执行此操作。

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:39:16.183

进程没有名称。`CreateProcess("myapp.exe", ...)`不会创建名为“myapp.exe”的进程。它会创建一个匿名进程，运行 myapp.exe。

# jquery - CKEditor 模板插件窗口内容为空

> ID：11077882
> 
> 赞同：0
> 
> 时间：2012-06-18T06:30:50.130
> 
> 标签：jquery, ckeditor

我有一个奇怪的问题。每当我单击 CKEditor 模板按钮时，模板窗口就会打开而没有任何内容。问题似乎与我的设置有关，因为这在 CKEditor 示例中运行良好。但我无法找出原因，因为控制台和萤火虫中没有错误。以前有人遇到过这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:50:33.930

**工作演示** [http://jsfiddle.net/ffP2K/1/](http://jsfiddle.net/ffP2K/1/) **或** [http://jsfiddle.net/ffP2K/1/show/](http://jsfiddle.net/ffP2K/1/show/)

我希望你有正确的脚本参考，下面的示例应该会有所帮助。

如果我错过了什么，请告诉我。

好链接：[http ://ckeditor.com/blog/CKEditor_for_jQuery](http://ckeditor.com/blog/CKEditor_for_jQuery)

希望这可以帮助，

**脚本**

```
 <script type='text/javascript' src="http://ckeditor.com//apps/ckeditor/3.5.2/ckeditor.js"></script> 
```

**代码**

```
var editor = CKEDITOR.replace( 'editor' );

$('#click').click(function(){
    // Find outer div
    var div = document.getElementById('outer');

    // Get value from height textbox
    var height = document.getElementById('height').value;

    // Uses jQuery framework to set the height of the div
    $(div).css('height', height + 'px');

    // Tells CKEDITOR to resize to the desired height, and width
    editor.resize($(div).width(),height);
    return false;
})

​ 
```

**工作图像**

![在此处输入图像描述](../Images/1e0ee2f796b12b32d3e885d6650a5ec2.png)

# java - Java 类应该拥有的实例变量的最大数量是多少？

> ID：11077885
> 
> 赞同：4
> 
> 时间：2012-06-18T06:31:07.930
> 
> 标签：java, oop

在 JAVA 类中有 20-25 个实例变量及其 getter/setter 是否是好的 OO 设计？
所有变量都是完全独立的。
由于我在 HBase 中使用一个类，它代表一个列族，因此该列族的每一行可以有不同数量的列。所以我必须把这么多的变量放在那个类中。我很想知道，理想情况下，一个 JAVA 类应该有多少个实例变量和方法？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-18T06:39:03.157

想要做好OO，找类有单一职责就好了。所以如果你有这么多不相关的变量，听起来这个类做的太多了。

这将是一种“代码气味”，您应该考虑将其重新分解为多个类。

太好了，您对好的 OO 感兴趣。我建议阅读重构和代码气味。

[http://c2.com/cgi/wiki?OneResponsibilityRule](http://c2.com/cgi/wiki?OneResponsibilityRule)在这里是相对的..

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-18T06:33:12.990

[只要您确保低耦合](http://en.wikipedia.org/wiki/Coupling_%28computer_programming%29)，这并不重要。将这么多变量分配给一个类可能会增加高耦合的机会。

此外，这可能是班级[凝聚力](http://en.wikipedia.org/wiki/Cohesion_%28computer_science%29)低的标志，而不是理想的高凝聚力情况。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-18T06:36:05.480

在 20-25 个实例变量中，您应该在限制范围内，但是，我认为 20-25 可能太多了。您可以尝试将它们分组到不同的类中，并减少实例变量的数量。

通常具有大量实例变量会使类的范围受到限制，这在您希望维护解决方案的情况下并不理想。分解它（如果做得好）应该会增加一些类的可重用性。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T06:37:34.280

Java 对类可以拥有的 java 实例变量没有任何限制。根据您的要求，您可以拥有任意数量的实例变量。

要记住的关键点是只能通过 getter 和 setter 方法访问。用户不应该能够使用实例变量的名称直接访问它们。

意味着实例变量应该用私有修饰符声明，并且必须提供公共方法来访问和操作它们。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T06:53:18.453

好吧，如果你的类代表数据持有者对象，那么就可以了。这种设计在 java bean 中很常见。

例如，如果你有一个代表公司员工的类，那么如果一个员工有 20-25 个属性，这是很常见的。

但是，如果您将这么多的实例变量与业务方法混为一谈，那么您将面临困难，因为您将无法获得集中和集中的业务组件。

为了使其在架构方面更好，您可以考虑继承（子类）或组合（内部类）

# axapta - 从两个表中查找

> ID：11077888
> 
> 赞同：2
> 
> 时间：2012-06-18T06:31:20.200
> 
> 标签：axapta, x++

我需要在销售表中创建一个发票帐户查找。在查找中，我需要包括发票帐户和地址表字段。

我如何实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:20:38.810

看看[Axaptapedia](http://axaptapedia.com/index.php?title=Lookups)。那里还有其他好东西。

两个表将需要使用显示方法或使用内连接或外连接。

# php - 如何重命名或覆盖php函数？

> ID：11077897
> 
> 赞同：2
> 
> 时间：2012-06-18T06:32:13.343
> 
> 标签：php, runkit

我如何使用runkit重新定义php中的函数？

```
$helloWorld = 'echo "Call require_once";';
runkit_function_redefine('require_once', '$word', $helloWorld);
require_once("abc.php"); 
```

我在 php.ini 中设置

```
runkit.internal_override=1 
```

当我运行时，它显示：

```
Warning: runkit_function_redefine() [function.runkit-function-redefine]: require_once() not found in hhd_debug.php on line 2

Warning: require_once(abc.php) [function.require-once]: failed to open stream: No such file or directory in hhd_debug.php on line 3

Fatal error: require_once() [function.require]: Failed opening required 'abc.php' (include_path='.;xampp\php\PEAR') in hhd_debug.php on line 3 
```

我该如何解决？请帮我！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T06:36:09.617

我猜这是行不通的，因为`require_once`它是一种语言结构，而不是一个函数。
我不知道是否还有其他可能覆盖它，我认为没有。

# php - 访问用户令牌时出错 OAuthException：必须使用活动访问令牌来查询有关当前用户的信息

> ID：11077904
> 
> 赞同：1
> 
> 时间：2012-06-18T06:32:36.680
> 
> 标签：php, facebook, oauth, facebook-php-sdk

我一直在寻找这个错误，但我仍然没有找到任何阻止它发生的东西，问题是它有时只会发生，而且我的错误日志上还有另一个错误

```
There exists a cookie that we wanted to clear that we couldn't clear because headers was already sent. Make sure to do the first API call before outputing anything
PHP Fatal error:  Uncaught OAuthException: An active access token must be used to query information about the current user. thrown in /...fb_sdk/base_facebook.php on line 1106 
```

这是我在 config.php 上使用的代码，我在我的应用程序内的所有页面上使用它

```
<?php
    header('P3P:CP="IDC DSP COR ADM DEVi TAIi PSA PSD IVAi IVDi CONi HIS OUR IND CNT"');

    require 'fb_sdk/facebook.php';

   $app_id = 'XXXXXXXXXXXX';
   $app_secret = 'XXXXXXXXXXXX';
   $app_namespace = 'minstagram';
   $app_url = 'https://apps.facebook.com/' . $app_namespace . '/';
   $scope = 'email,publish_actions,user_photos,friends_photos';

   // Init the Facebook SDK
   $facebook = new Facebook(array(
     'appId'  => $app_id,
     'secret' => $app_secret,
     'cookie' => true
   ));

   // Get the current user
   $user = $facebook->getUser();

   // If the user has not installed the app, redirect them to the Auth Dialog
   if (!$user) {
     $loginUrl = $facebook->getLoginUrl(array(
       'scope' => $scope,
       'redirect_uri' => $app_url,
     ));

     print('<script> top.location.href=\'' . $loginUrl . '\'</script>');
   }

?> 
```

所以这是我的问题，希望任何人都可以在这里帮助我，如果我目前拥有的acces_token无效，或者anythi.g。

# android - 解析 Android 应用程序的 RSS 提要？jsoup 是答案吗？

> ID：11077905
> 
> 赞同：0
> 
> 时间：2012-06-18T06:32:50.777
> 
> 标签：android, xml-parsing, jsoup, android-parser

我正在阅读 Head First Android 开发书。在第三章中，他们尝试从[此处](http://www.nasa.gov/rss/image_of_the_day.rss)的 NASA RSS 提要制作应用程序。
在本书中作者`SAX parser`用于 Java。我在网上查看了一些关于 SO 的答案表明*SAX 已经过时*并且有更新的解决方案。

但是我不确定Java更容易使用的是什么。我用过`Nokogiri`，`Ruby`类似的东西会很棒。我看了看，`jsoup`它看起来还不错，但我想知道你们可能有什么建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-23T04:11:53.463

第 3 章的代码停止了，因为 Android 的主线程不支持网络。

因此，您可以使用任何解析器，例如 XmlPullParser，但请确保您在其主线程之外进行网络连接（下载提要等）。您可以使用 AsyncTask 将网络连接到主线程之外.. 或创建一个新的 Thread() 并在该线程中进行网络连接（推荐）

实际上，在第 4 章中，他们实际上确实创建了一个新线程来进行网络连接。因此，如果您改用第 4 章代码，它将起作用。

您可能面临的另一个问题是 OutOfMemoryError，因为如今美国宇航局的每日图像真的很大。因此，您必须使用 inSampleSize 对图像进行解码。您可以检查有关正确解码图像的其他问题以获得您想要的内容。祝你好运。))

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:06:52.257

我是《Head First Android Development》的作者，所以只是想谈谈一些想法。SAX 确实有点麻烦，但很简单，并且内置在 Android 中一段时间​​（因此决定在书中使用它）。我也是一名 Rails 开发人员，我是 nokogiri 的忠实粉丝，并且经常使用它。看着 jsoup，我绝对可以看到它很有用。也就是说，我还没有尝试过，所以我无法提供任何第一手经验。

另一个值得关注的选项是Android 中内置的[XML PullParser 。](http://developer.android.com/reference/org/xmlpull/v1/XmlPullParser.html)它仍然很像 SAX，但功能更全。

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-26T02:38:23.300

我是 Jsoup 的忠实粉丝。我最近才开始使用它，它令人惊叹。我曾经写过一些超级毛茸茸的正则表达式模式来进行模式匹配，因为我想避免像瘟疫一样的 SAX ......你可以想象这非常乏味。Jsoup 让我只需几行代码就可以从 <table> 中解析出特定项目。

假设我想要获取 <tr class=...> 为 GridItem 或 GridAltItem 的表的前 7 行。然后，假设我们要将第一、第二和第三列打印为文本，然后是行中出现的第一个 <a href> 链接。听起来很傻，但我必须这样做，而且我可以很容易地做到这一点：

```
String page = "... some html markup fetched from somewhere ...";
Document doc = Jsoup.parse(page);
for(int x=0; x< 7; x++) {
  Element gridItem = doc.select("tr[class$=Item]").select("tr").get(x);
  System.out.println("row: " + gridItem.select("td").get(0).text() + " " + gridItem.select("td").get(1).text() + " " + gridItem.select("td").get(4).text() + " " + gridItem.select("a").get(0).attr("href"));
} 
```

使用 Jsoup 就这么简单。确保将 Jsoup jar 文件作为库添加到项目中并导入所需的类：您不想导入错误的 Document 或 Element 类...

```
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element; 
```

享受！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-01T04:09:49.830

从[1.6.2 版本](http://jsoup.org/news/release-1.6.2)开始，Jsoup 官方也支持 XML 解析。因此，这允许您使用类似 jQuery 的 CSS 选择器来解析 XML 和选择元素。要使用 Jsoup 创建 XML 文档，您需要以下方法而不是`Jsoup#parse()`方法：

```
Document document = Parser.xmlParser().parseInput(xmlString, "");
// ... 
```

这样输入就不会被隐式地视为 HTML5（因此，没有自动包含的`<html><head>`标签等）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T06:34:46.247

我认为 SAX 是实现它的默认方式，但没有限制尝试新事物:)

# json - 为什么这个 JSON 无效？

> ID：11077906
> 
> 赞同：0
> 
> 时间：2012-06-18T06:32:51.060
> 
> 标签：json, validation

我一直在尝试但无法弄清楚为什么这个 JSON 无效（当我把它放在 www.jsonlint.com 上时）有人可以帮忙吗？这是JSON：

```
 [
    {
        "title": "COFA NEW SOUTH WALES ",
        "img": "images/uni/cofa.png",
        "desc": "One of the Best University",
        "url": "http://127.0.0.1:8888/ilets/app/col.html"
    },
    {
        "title": "MIDDLESEX UNIVERSITY ",
        "img": "images/1339977840.jpg",
        "desc": "Well this is Testi",
        "url": "http://127.0.0.1:8888/ilets/app/MIDDLESEX UNIVERSITY.html"
    },
    {
        "title": "ROYAL COLLEGE OF ARTS ",
        "img": "images/uni/1339978144.png",
        "desc": "This is One of the best University",
        "url": "http://127.0.0.1:8888/ilets/app/ROYAL COLLEGE OF ARTS.html"
    },
    {
        "title": "UNIVERSITY OF SCOTLAND ",
        "img": "images/uni/1339996882.gif",
        "desc": "SCOTLAND OWNS THIS UNIVERSITY",
        "url": "http://127.0.0.1:8888/ilets/app/UNIVERSITY OF SCOTLAND.html"
    }
] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:48:43.943

您在问题中显示的 JSON 是有效的。另一方面，您在评论部分 ( `http://www.syedmujahidali.com/ilets/retrive.php`) 中提到的脚本返回 HTML，而不是 JSON，因此如果您尝试使用 JSON 解析器解析此脚本的结果，您显然会失败。以下是响应的外观：

```
<head>

<meta charset="UTF-8"></head><body onload="abc()">
<script>
function abc(){
document.getElementById('copy').innerHTML = document.getElementById('content').innerHTML;
var ab=  document.getElementById('content').innerHTML;
}
</script>

<div id="content" style="display:none;">

[{"title":"COFA NEW SOUTH WALES "  ,"img":"images/uni/cofa.png","desc":"One of the Best University","url":"http://127.0.0.1:8888/ilets/app/col.html"},<br>{"title":"MIDDLESEX UNIVERSITY "  ,"img":"images/1339977840.jpg","desc":"Well this is Testi","url":"http://127.0.0.1:8888/ilets/app/MIDDLESEX UNIVERSITY.html"},<br>{"title":"ROYAL COLLEGE OF ARTS "  ,"img":"images/uni/1339978144.png","desc":"This is One of the best University","url":"http://127.0.0.1:8888/ilets/app/ROYAL COLLEGE OF ARTS.html"},<br>{"title":"UNIVERSITY OF SCOTLAND "  ,"img":"images/uni/1339996882.gif","desc":"SCOTLAND OWNS THIS UNIVERSITY","url":"http://127.0.0.1:8888/ilets/app/UNIVERSITY OF SCOTLAND.html"}]</div>

<div id="copy">

</div>

</body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:44:56.070

> 好吧，这很奇怪。JSON 在这里生成：syedmujahidali.com/ilets/retrive.php 从这里复制粘贴到 JSONlint 上，它说无效。

仅查看来自该页面的响应的显示文本（请参阅[Darin 的回答](https://stackoverflow.com/a/11078069/157247)了解我为何做出这种区分），问题是您的响应以[BOM](http://en.wikipedia.org/wiki/Byte_order_mark)打开。BOM 使 JSON 无效。我去了那个链接，全选并复制，然后将其粘贴到 jsonlint.com，并得到了你得到的“无效令牌”错误。于是我把它粘贴到vim中，vim给我看了正文开头的FE FF。

所以解决方法是找出为什么 PHP 页面以 BOM 开头并修复它。您不需要带有 UTF-8 的 BOM。

# android - android中使用的Parcelable和Serialization有什么区别

> ID：11077907
> 
> 赞同：33
> 
> 时间：2012-06-18T06:32:52.270
> 
> 标签：android, serializable, parcelable

我想知道确切的，

1.  我是否应该使用`parcelable`或`serialization`技术将数据从一个活动发送到另一个活动？
2.  是否必须使用其中之一将数据从一个发送到另一个？
3.  我什么时候应该使用它们？
4.  以及它们之间的确切区别以及它们在java方面的性能。

提前致谢。

* * *

```
 public class GetSetClass implements Serializable {
    private int dt = 10;

    /** pass any object, drwabale */
    public int getDt() {
        return dt;
    }

    public void setDt(int dt) {
        this.dt = dt;
    }
} 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-12-04T12:57:52.217

这些概念与进程间通信 (IPC) 有关。

在两个应用程序之间发送数据时，我们必须确保两个应用程序都应该了解正在发送的数据的格式。

特别是当您在两个应用程序之间发送非原始数据类型值（如类和对象）时，我们必须将它们转换为操作系统可理解的格式。操作系统只理解原始类型（整数、字符等）。转换的原因是我们必须通过 OS 通信通道来传输数据。

这种将非原始类型转换为原始类型并通过某个通信通道发送到其他应用程序的过程称为序列化。逆过程称为反序列化。

在 Java 中，IPC 严重依赖于 Serializable 进行序列化。但是序列化是通过牢记桌面应用程序来设计的。当您在移动应用中进行 IPC 时，我们必须确保 IPC 的过程不会太繁重。

简单来说，序列化对于 IPC 来说是一个沉重的概念。因此代替序列化，Android 选择了 Binder 来实现轻量级的进程间通信。Binder 在内部很大程度上依赖于包裹，来做 IPC。包裹是轻量级的可序列化对象。最好使用包裹将对象编组为字节流。

注意：Binder IPC 很大程度上依赖于共享内存的概念，以确保在应用程序之间共享时没有太多的数据重复。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-06-18T06:41:40.813

> 我是否应该使用可打包或序列化技术将数据从一个活动发送到另一个活动。

如果您通过 将非原始类型数据/对象发送到另一个活动，则`intent`您必须为该对象`Serialize`实现或实现。`Parcelable`首选技术是`Parcelable`因为它不会影响性能。

> 是否必须使用其中之一将数据从一个发送到另一个。/ 我什么时候应该使用它们。

它只是强制/用于发送非原始类型数据对象。

> 以及它们之间的确切区别以及它们在java方面的性能。

序列化确实会影响性能。有关更多详细信息，请查看此链接[Android Parcelable and Serializable](https://stackoverflow.com/questions/9323044/android-parcelable-and-serializable)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-06-19T07:43:15.940

很好地解释了 Parcelable 和 Serialization 之间的区别。

从你的问题开始，虽然它已经很长时间了，它可能会帮助其他人：

> 1.  我是否应该使用可打包或序列化技术将数据从一个活动发送到另一个活动？

Ans: Parcelable 是最好的选择（为什么稍后解释）。

> 2.  是否必须使用其中之一将数据从一个发送到另一个？

回答：是的，因为从一个发送数据（对象）到另一个需要写入和检索字节流，这可以通过可打包或序列化来完成。

> 3.  我什么时候应该使用它们？

回答：这部分你已经回答了，即将数据从一个活动传递到另一个活动。

> 4.  以及它们之间的确切区别以及它们在java方面的性能。

Ans: 1\. Parcelable 在 Android SDK 中有很好的记录；另一方面，序列化在 Java 中可用。

2.  在 Parcelable 中，开发人员编写用于编组和解组的自定义代码，因此与序列化相比，它创建的垃圾对象更少。由于这种自定义实现，Parcelable over Serialization 的性能显着提高（大约快两倍）。

3.  序列化是一个标记接口，这意味着用户不能根据他们的要求编组数据。在序列化中，使用 Java 反射 API 在 Java 虚拟机 (JVM) 上执行封送操作。这有助于识别 Java 对象的成员和行为，但最终也会创建大量垃圾对象。因此，与 Parcelable 相比，序列化过程很慢。

答案来自： [此链接](http://www.3pillarglobal.com/insights/parcelable-vs-java-serialization-in-android-app-development)

另见：[序列化解释](https://stackoverflow.com/a/2232828/2035885)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-12-04T11:34:09.770

**Java Serializable**：- Serializable 来自标准 Java，实现起来要容易得多，您需要做的就是实现 Serializable 接口并添加覆盖两个方法。
**Serializable 的问题**在于它试图适当地处理阳光下的一切，并使用大量反射来确定正在序列化的类型。所以它变成了一个强壮的对象。

**Androids Parcelable** :- Android 进程间通信 (AIPC) 文件告诉 Android 应该如何编组和解组您的对象。它不太通用并且不使用反射，因此它应该有更少的开销并且更快。

阅读更多来自[http://www.3pillarglobal.com/blog/parcelable-vs-java-serialization-android-app-development](http://www.3pillarglobal.com/blog/parcelable-vs-java-serialization-android-app-development)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-08-01T20:32:59.637

打包和序列化都是编组和解组数据的方法。在 android 中，这用于在组件和进程之间传递非原始数据类型。通常，android 允许可序列化或可打包的对象，因此您可以选择您的方法。AIDL 接口除外。对象必须是可包裹的才能被传递/返回。

序列化使用反射来自动编组和解组数据。在大多数情况下，实现标记接口就足以使其正常工作。使用 parceling，您必须自己编写代码来编组和解组数据。

因此，这就是包裹速度更快的原因。对象不需要被反射来发现字段。是反射使它变慢。

序列化还具有内置版本控制……如果您尝试解组到已编组的对象类的不同版本，则该过程将以可预测的方式失败。使用 parceling，您可以做同样的事情，但您需要自己实现它，方法是向您的对象添加“版本”字段，以及在解组时检查版本的代码。

话虽如此，我通常使用序列化。对于简单的对象，您不会注意到差异。如果您发现性能问题，您可以随时更改为在开发后期使用 parceling。

# java - 在 Facebook 身份验证的对话框参数中删除 display=wap 对话框的替代解决方案是什么？

> ID：11077915
> 
> 赞同：5
> 
> 时间：2012-06-18T06:33:31.427
> 
> 标签：java, facebook, sharing, facebook-authentication

目前我正在验证我的 facebook 应用程序传递参数 display=wap 以及我的身份验证 url。但它显示一条错误消息：“**移动设备上的“应用程序”发生错误。请稍后再试。API 错误代码：11 API 错误描述：不推荐使用此方法错误消息：不推荐使用 Display=wap 对话框。您可以暂时通过禁用“july_2012”迁移来启用它们。它们将在 2012 年 7 月 1 日永久停止工作。** “当我禁用“july_2012”迁移时，身份验证工作正常。那么我如何在 7 月之后处理我的应用程序，以及针对此问题的正确和永久解决方案是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-16T10:15:26.893

嗨`display=touch`必须工作，如果它不起作用使用`Display=page`，这会自动转换为移动网站的 facebook 身份验证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-29T01:09:07.307

您只需要更新到 PHP SDK 3.0

# git - 为什么“git 分支”在新存储库中保持沉默？

> ID：11077919
> 
> 赞同：2
> 
> 时间：2012-06-18T06:34:28.930
> 
> 标签：git, git-branch

当您创建一个新的存储库并运行`git branch`时，它会静默退出。例如：

```
$ mkdir /tmp/foo; cd /tmp/foo; git init
Initialized empty Git repository in /tmp/foo/.git/

$ git branch 
```

为什么该命令不提供任何输出或显示主分支？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T06:34:29.820

### TL;博士

还没有分支头。

### 详细说明

在您进行第一次提交之前，Git 存储库没有分支。一个新初始化的存储库将 HEAD 设置为 refs/heads/master，但 refs/heads/master 在第一次提交之前不会存在或包含提交指针。

在提交期间，Git 取消引用符号引用 HEAD 以查找当前分支的头部，然后使用 git-commit-tree 提供的提交哈希更新该头部。

最终结果是`git branch`在新的存储库中没有什么可报告的。在没有分支头的情况下，它只是以零退出状态静默终止。

### 也可以看看

*   git 分支(1)
*   git-commit-tree(1)
*   git-symbolic-ref(1)。
*   git-update-ref(1)
*   gitcore 教程(7)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T07:55:05.163

请注意，分支只是指向提交的指针。
由于一个空的仓库（带有它的[空树](https://stackoverflow.com/questions/9765453/gits-semi-secret-empty-tree)）没有提交，所以你没有分支。

第一次提交将创建一个名为 ' `master`' 的分支，因为`HEAD`引用`refs/heads/master`. *如果您想在不同*的分支
上创建第一个提交（而不是），则需要首先更改 HEAD 的符号引用（如[本线程](http://git.661346.n2.nabble.com/how-to-start-with-non-master-branch-td3284326.html)中所述）：*`master`*

 *```
git symbolic-ref HEAD refs/heads/non-master 
```

然后进行第一次提交。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T06:45:06.100

是的，您首先需要执行

```
$ git add .
$ git commit -m 'first commit' 
```

命令。*

# android - 两个带有单独触摸事件的图像视图

> ID：11077920
> 
> 赞同：0
> 
> 时间：2012-06-18T06:34:28.927
> 
> 标签：android, imageview, android-imageview

在我的 xml 文件中，我声明了两个`imageview`，然后我通过使用`setImageBitmap()`方法在其中添加了图像，并应用了单独的触摸事件。

但是这里的问题是，当添加第二张图像时我无法移动第一张图像，`setImageBitmap()`现在只有第二张图像可以移动。
在此先感谢，对不起英语。

```
working_bitmap = BitmapFactory.decodeFile(file_location+"cropped_image.jpg");  
outBitmap=Bitmap.createBitmap(
working_bitmap.getWidth(),
working_bitmap.getHeight(),Bitmap.Config.ARGB_8888);    
Canvas canvas1 = new Canvas(outBitmap);
canvas1.drawBitmap(working_bitmap, new Matrix(), null);
if(downloaded_shirt_image != null)
{
    int width = downloaded_shirt_image.getWidth();
    int height = downloaded_shirt_image.getHeight();
    int halfWidth = width/3;
    int halfHeight = height/3;
    //Half Scaled
    Bitmap bmHalf = Bitmap.createScaledBitmap(downloaded_shirt_image,
        halfWidth, halfHeight, false);
    proimg =(ImageView)findViewById(R.id.pro_img);
    proimg.setDrawingCacheEnabled(true);
    proimg.setImageBitmap(bmHalf);
    proimg.setVisibility(View.VISIBLE);
    proimg.setOnTouchListener(new View.OnTouchListener()
    {
      public boolean onTouch(View v, MotionEvent event) {
      ImageView view = (ImageView) v;
      int rotation = 25;
      // Dump touch event to log
      dumpEvent(event);
      // Handle touch events here...
      switch (event.getAction() & MotionEvent.ACTION_MASK) {
      case MotionEvent.ACTION_DOWN:
        savedMatrix.set(matrix);
        start.set(event.getX(), event.getY());
        Log.d(TAG, "mode=DRAG");
        mode = DRAG;
        proimg.invalidate();
        break;
      case MotionEvent.ACTION_MOVE:
        if (mode == DRAG) { 
// ...
                                                                                           matrix.set(savedMatrix);                                                            
        matrix.postTranslate(event.getX() - start.x,
        event.getY() - start.y);
       }
      else if (mode == ZOOM) {
         float newDist = spacing(event);
         Log.d(TAG, "newDist=" + newDist);
        if (newDist > 10f) {
        matrix.set(savedMatrix);
        float scale = newDist / oldDist;
        matrix.postScale(scale, scale, mid.x, mid.y);
        }
     }
    proimg.invalidate();
    break;
 }
      view.setImageMatrix(matrix);
    return true; // indicate event was handled
  }
 });
  canvas1.drawBitmap(downloaded_shirt_image, 50, 192, null);
 }

 if(downloaded_pant_image != null)
 {
  int width = downloaded_pant_image.getWidth();
  int height = downloaded_pant_image.getHeight();
  int halfWidth = width/3;
  int halfHeight = height/3;
  //Half Scaled
  Bitmap bmHalf = Bitmap.createScaledBitmap(downloaded_pant_image,
                  halfWidth, halfHeight, false);
  pantimg =(ImageView)findViewById(R.id.pro_img_down);
  pantimg.setDrawingCacheEnabled(true);
  pantimg.setImageBitmap(bmHalf);
  pantimg.setVisibility(View.VISIBLE);
  pantimg.setOnTouchListener(new View.OnTouchListener()
  {
   public boolean onTouch(View v, MotionEvent event) {
   ImageView view = (ImageView) v;
   int rotation = 25;
   // Dump touch event to log
   dumpEvent(event);
  // Handle touch events here...
  switch (event.getAction() & MotionEvent.ACTION_MASK) {
  case MotionEvent.ACTION_DOWN:
  savedMatrix.set(matrix);
  start.set(event.getX(), event.getY());
  Log.d(TAG, "mode=DRAG");
  mode = DRAG;
  pantimg.invalidate();
  break;
 case MotionEvent.ACTION_MOVE:
  if (mode == DRAG) {
  // ...

 matrix.set(savedMatrix);                                              matrix.postTranslate(event.getX() - start.x,
 event.getY() - start.y);
 }
else if (mode == ZOOM) {
float newDist = spacing(event);
Log.d(TAG, "newDist=" + newDist);
if (newDist > 10f) {
matrix.set(savedMatrix);
float scale = newDist / oldDist;
matrix.postScale(scale, scale, mid.x, mid.y);
}
}
pantimg.invalidate();
break;
}
view.setImageMatrix(matrix);
return true; // indicate event was handled
}
}                            
);
canvas1.drawBitmap(downloaded_pant_image, 110, 565, null);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:23:00.280

另请参阅以下链接的答案和评论，它可能会对您有所帮助。

[拖放两个图像](https://stackoverflow.com/questions/11027792/android-drag-and-drop-images-on-the-screen/11028521#11028521)

# django - django：反向相关领域的奇怪错误

> ID：11077921
> 
> 赞同：0
> 
> 时间：2012-06-18T06:34:29.347
> 
> 标签：django

这是我的模型

```
class UserAward(models.Model):
    user = models.ForeignKey(User, related_name='awards')
    award = models.CharField(max_length=255)
    week = models.SmallIntegerField(default=0)
    year = models.IntegerField(default=0)
    points_gained = models.IntegerField(default=0)
    timestamp = models.DateTimeField(auto_now=True) 
```

当我给这个时：

`users = User.objects.filter(awards__award='level up', awards__week=prev_wk, awards__year=prev_year).order_by('-profiles__level')`

我收到此错误：

`Related Field has invalid lookup: year`

如果我删除`filter(awards__year=prev_year)`查询工作正常。

哪里有问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T07:00:04.720

试试这个：

```
users = User.objects.filter(awards__award='level up').filter(awards__week=prev_wk).filter(awards__year__exact=prev_year).order_by('-profiles__level') 
```

基本上django用来`__year`从它认为你想要那个字段的年份的日期对象中提取年份字段

# postgresql - 如何在 ODBC 中使用单点登录？

> ID：11077923
> 
> 赞同：3
> 
> 时间：2012-06-18T06:34:42.917
> 
> 标签：postgresql, oauth, odbc, single-sign-on, cas

我正在寻找一种用于 ODBC 连接到 Postgres 数据库的单点登录方法。

计划是登录到 Web 应用程序，然后使用单点登录方案（例如 oauth 或 CAS）自动登录到客户端应用程序。

客户端应用程序本身并不验证凭据，而是通过 ODBC 使用它们连接到 Postgres 数据库服务器。与 Web 应用程序不同，我们不能在这里使用单个数据库用户，但出于安全原因需要单独的数据库帐户。

理论上 Postgres 确实支持 PAM，而 PAM 同时支持 CAS 和 oauth。但我找不到任何关于此的文档。特别是我不清楚如何在 ODBC 中指定令牌的部分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-07T15:05:59.270

使用 PAM 身份验证，请记住，这是一个广泛的领域，可以写有关它的书籍。我做了一些类似于你所做的事情，并且可以回答关于 ODBC 的部分。以下提供了可能对您有所帮助的相关服务的演练：

[http://www.wikidsystems.com/support/wikid-support-center/how-to/how-to-secure-postgresql-using-two-factor-authentication-from-wikid](http://www.wikidsystems.com/support/wikid-support-center/how-to/how-to-secure-postgresql-using-two-factor-authentication-from-wikid)

要记住的重要一点是，使用 PAM 提供的密码会传递给 PAM 模块，因此您必须传入用户名和密码。这被发送到 PAM，就好像用户正在登录系统一样。除此之外，您可以为您的服务适当地配置 PAM。

# java - 从文本中提取协议特征

> ID：11077924
> 
> 赞同：3
> 
> 时间：2012-06-18T06:34:43.970
> 
> 标签：java, nlp, stanford-nlp, opennlp

我正在完成一项任务，我必须提取文本中名词的一致特征......一致特征如：

```
number = singular, plural
person = first, second, third
gender = male, female, neuter
animacy = animate, inanimate 
```

无论如何要从文本中提取这些特征....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T13:27:34.143

如果您的数据是英语，正如您的评论所暗示的那样，那么名词将永远不会包含人信息，因此我们可以打折扣。

正如其他人所提到的，数字很容易：许多词性标注器区分单数和复数名词。

性别和活力更有趣。在英语中，这些是名词的语义而非句法属性。例如，采取句子*The princess is in the tower*。我们知道*公主*是女性化的和有生命力的不是因为屈折信息，而是因为我们知道这个词的含义。通过获取大量旧数据并分析其中的代词和照应词来构建本体是可行的。你的算法会寻找这样的例子：

*公主看着镜子里的自己。*

*公主在塔里。她很伤心。*

它会（不知何故）证明*公主*是*她自己*和*她*的先行词，并从代词的已知属性中推断出名词的属性。当然，现在问题变成了参考解析，这不是微不足道的。以下是最近爱丁堡大学关于该主题的讲座课程的一些参考资料：

*   Denis, Pascal 和 Baldridge, Jason, 2008。“共指解析的专用模型和重新排序”。在*自然语言处理经验方法会议论文集中*。ACL，650-69。
*   Haghighi, Aria 和 Klein, Dan, 2010。“模块化、以实体为中心的模型中的共指解析”。在*人类语言技术中：计算语言学协会北美分会 2010 年年会*。加利福尼亚州洛杉矶，385-93。
*   Lappin，Shalom 和 Leass，Herbert，1994 年。“代词照应解析算法”。*计算语言学*二十：535-61。
*   Ng, Vincent, 2010。“监督名词短语共指研究：前 15 年”。在*ACL '10：计算语言学协会第 48 次会议论文集。*1396-411。

# ruby-on-rails - 将闪存哈希从一个控制器传递到另一个控制器

> ID：11077925
> 
> 赞同：1
> 
> 时间：2012-06-18T06:34:44.760
> 
> 标签：ruby-on-rails, ruby

我`create`在一个控制器中有一个方法，在这个控制器的末尾我想要`redirect_to`另一个控制器/视图。`flash[:notice]`在第一个控制器完成并呈现下一个视图后，我将如何显示`redirect_to`？

这是第一个控制器中的代码：

```
if @list.save
        redirect_to root_path, :notice => "Created!" 
```

我还注意到它在这里也不起作用：

```
if @list.save
    redirect_to root_path, :alert => "Created!" 
```

这是路由文件：

```
root :to => 'sessions#new' 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T07:51:12.137

要在您可以使用的附加请求上保留 Flash 消息`flash.keep`- 来自[Rails Guides 上的 Flash 部分](http://guides.rubyonrails.org/action_controller_overview.html#the-flash)：

> 假设此操作对应于 root_url，但您希望此处的所有请求都重定向到 UsersController#index。如果一个动作在这里设置了 flash 和重定向，当另一个重定向发生时，这些值通常会丢失，但你可以使用 'keep' 让它持续到另一个请求。

**澄清：**此解决方案仅适用于由于双重重定向而丢失闪存的情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:37:01.347

你试过这个吗？

```
redirect_to(whatever_path, :notice=>"hello world") 
```

此外，您可以使用`:error`

```
redirect_to(whatever_path, :error=>"hello error") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T08:32:24.033

你在哪个版本的 Rails 上？您使用的语法是一个相对较新的功能。尝试长期这样做：

```
flash[:notice] = 'Created'
redirect_to root_path 
```

# php - PHP过滤并按最小数量排序

> ID：11077932
> 
> 赞同：0
> 
> 时间：2012-06-18T06:35:23.313
> 
> 标签：php, mysql

我用 php 和 mysql 创建了一个显示包页面。表格顶部有 10 个按钮用于重新过滤输出。我如何重新过滤器是使用`$_GET['command']`which is equal to ' `AND lock_in_period = '1yr'`。我试图`$_GET['command']`在会话下保存，但它不起作用。现在的问题是，在重新过滤输出后，我无法获得按 asc 或 desc 排序的最低贷款金额。

**输出**

![在此处输入图像描述](../Images/a90e44c9570dc5991354f0c9c394bcc5.png)

**mysql查询：**

```
if($property_type_search == 'HDB'){
    $find=mysql_query("SELECT*FROM package_creation WHERE property_type IN ('HDB','HDB,Private') $newcommand ORDER BY $columnname $order");
} 
```

**最小贷款金额排序按钮：**

```
<a class="link_style" href="<?php echo $_SERVER['PHP_SELF']; ?>?command=<?php echo $_GET['command']?>&columnname= min_loan_amount&<?php if($_GET['sort']== "asc"){echo "sort=desc"; $_GET['sort']="asc";}elseif($_GET['sort']=="desc"){echo "sort=asc";$_GET['sort']="desc";}elseif($_GET['sort']==""){echo "sort=asc";}?>"><img src="images/arrow_sort.png"></a> 
```

**重新过滤按钮：**

```
<?php
session_start();
if($_GET['FC']=='1'){
header("location:rates_results.php?command=AND lock_in_period = 'N.A' AND interest_rate_type IN ('Floating Rate(Sibor/Sor Rate)','Floating Rate(Sibor Rate)')");
}
if($_GET['FC']=='2'){
header("location:rates_results.php?command=AND lock_in_period = '1yr' AND interest_rate_type IN ('Floating Rate(Sibor/Sor Rate)','Floating Rate(Sibor Rate)')");
}
if($_GET['FC']=='3'){
header("location:rates_results.php?command=AND lock_in_period = '2yrs' AND interest_rate_type IN ('Floating Rate(Sibor/Sor Rate)','Floating Rate(Sibor Rate)')");
}
if($_GET['FC']=='4'){
header("location:rates_results.php?command=AND lock_in_period = '3yrs' AND interest_rate_type IN ('Floating Rate(Sibor/Sor Rate)','Floating Rate(Sibor Rate)')");
}
if($_GET['FC']=='5'){
header("location:rates_results.php?command=AND yrs_of_fixed_rate = '1yr' AND interest_rate_type = 'Fixed Rate'");
}
if($_GET['FC']=='6'){
header("location:rates_results.php?command=AND yrs_of_fixed_rate = '2yrs' AND interest_rate_type = 'Fixed Rate'");
}
if($_GET['FC']=='7'){
header("location:rates_results.php?command=AND yrs_of_fixed_rate = '3yrs' AND interest_rate_type = 'Fixed Rate'");
}
if($_GET['FC']=='8'){
header("location:rates_results.php?command=AND yrs_of_fixed_rate = '4yrs' AND interest_rate_type = 'Fixed Rate'");
}
if($_GET['FC']=='9'){
header("location:rates_results.php?command=AND yrs_of_fixed_rate = '5yrs' AND interest_rate_type = 'Fixed Rate'");
}
if($_GET['FC']=='10'){
header("location:rates_results.php?command=AND installation_mode IN ('Saving offset interest','Interest and Principle,Saving offset interest','Interest only, Saving offset interest','Interest and Principle,Interest only,Saving offset interest')");
}
?> 
```

**注入mysql查询：**

```
$columnname ="";
if($_GET['columnname']){
$columnname = $_GET['columnname'];  
}

if($columnname==""){
$columnname="first_year";   
}
if($order==""){
$order = "desc";    
}
$order=$_GET['sort'];

$newcommand = "";
if($_GET['command'] !=""){
$newcommand = $_GET['command']; 
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:39:03.963

检查这个 LOC——

```
command=$_GET['command'] and make it as command=<?php echo $_GET['command'] ?> 
```

# java - Java - 检查序列化对象结构的简单方法？

> ID：11077934
> 
> 赞同：5
> 
> 时间：2012-06-18T06:35:28.273
> 
> 标签：java, serialization

我有一个类，我想看看当这个类的对象被序列化时哪些子对象占用的空间最多。除了查看代码并手动分析之外，有没有什么好的工具/方法可以做到这一点？

例如，我想让工具说“成员 a 占 20%，b 30%，成员 c 占 50%”。

谢谢

PS我发现了一些相关的问题，但没有找到我的具体问题的答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:26:58.530

计算对象大小的唯一相对较快的方法是首先写入整个对象，计算使用情况（例如，写入 ByteArrayOutputStream），然后写入每个引用的对象。

有几点需要考虑：

*   ObjectOutputStream 确实做了一些缓存，以便能够用一个简单的指针引用以前写入的对象。使用 reset() 方法清除此缓存。
*   编写的每个新对象类型首先具有类描述。其开销取决于您所指的相同类型对象的数量。
*   初始化 ObjectOutputStream 有一个（小的，4 字节）开销。

有关协议的说明，请阅读[此说明](http://docs.oracle.com/javase/7/docs/platform/serialization/spec/protocol.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:48:41.263

好吧，我从来没有听说过这样的工具。但我认为内存中的对象大小和序列化对象大小之间存在某种关系。因此，您可以尝试使用分析器：[VisualVM](http://visualvm.java.net)，它包含在 JDK 或我最喜欢的[YourKit Profiler](http://www.yourkit.com)中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-11T14:21:24.190

[DbVisualizer](http://www.dbvis.com/)提供了[Serialized Java Objects Viewer](http://www.dbvis.com/doc/7.0/doc/ug/editData/editData.html#mozTocId646511)。

`serialysis`在 Eclipse 是否有用于 java 序列化文件的编辑器/查看器中还提到了一个工具[？](https://stackoverflow.com/questions/4889761/does-eclipse-have-an-editor-viewer-for-java-serialized-files)

# c++ - 如何从尾到头反向strtok C++字符串？

> ID：11077935
> 
> 赞同：6
> 
> 时间：2012-06-18T06:35:45.573
> 
> 标签：c++, strtok

我想我需要一个**反向**版本的 strtok，比如：

```
char* p = rstrtok(str, delimeters); 
```

例如，在字符串“hello+stack_over-flow”中使用分隔符集“+_-”依次获取和的*位置*`'-'``'_'``'+'`

我只关心*分隔符*和它们的*位置*，（而不是之间的内容），所以我猜`boost::split_iterator`这里不合适。

我可以利用任何现有的实用功能吗？或任何解决这种情况的解决方案？
此外，由于我正在使用 C++，是否有任何方便的方法来避免这种老式 C？

（我搜索了“反向 strtok”，但只是得到“堆栈溢出”到“堆栈溢出”的东西......）

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T06:40:39.833

您可以使用[`strrchr`](http://www.cplusplus.com/reference/clibrary/cstring/strrchr/).

如果你使用 C++ 风格`std::string`，你可以利用[`string::find_last_of`](http://www.cplusplus.com/reference/string/string/find_last_of/).

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T06:42:01.063

你可以这样做`strpbrk`：

```
char string[] = "hello+stack_over-flow";

char *pos = string;
while (*pos != '\0' && (pos = strpbrk(pos, "+-_")) != NULL)
{
    /* Do something with `pos` */

    pos++;  /* To skip over the found character */
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-04T17:24:30.807

strtok 在最基本的版本中非常简单——最多几百行。如果你用谷歌搜索“strtok filetype:c”，你可以看到它是如何在各种库中实现的。

一个非常幼稚的解决方案是先反转字符串，然后执行 strtok()。虽然这对长字符串不利，但如果您需要性能，请使用您自己的 strtok()。

像这样的东西：

```
void reverse(char* dest, const char* src)
{
    int len = strlen(src);
    int i;
    for(i = 0; i < len; ++i)
        dest[len-i-1] = src[i];
} 
```

编辑：

巧合的是，我昨天在谷歌搜索的标签中打开了这个 Dobbs 博士页面：[http ://www.drdobbs.com/conversations-al-go-rithms/184403801](http://www.drdobbs.com/conversations-al-go-rithms/184403801)

# http - 如何通过发送到 Tomcat WebApp 的 HTTP 请求传递一些参数？

> ID：11077939
> 
> 赞同：2
> 
> 时间：2012-06-18T06:36:05.077
> 
> 标签：http, tomcat, servlets, http-headers

我想通过 HTTP 请求将这些参数传递给托管在 Tomcat 容器中的 WebApp、用户名、密码、此请求查询的资源、发送的请求类型

那么有没有办法将这些添加到 HTTP 标头？我听说我们可以使用 HTTP Basic 身份验证方式发送用户名和密码。有没有办法发送其他参数呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:14:44.543

您可以使用具有身份验证详细信息的 Authorization 标头创建一个，以便进一步的请求加入会话并且不需要身份验证。

**以下是添加授权标头的方法：**

**创建标头值。**

```
byte[] authBytes = Encoding.UTF8.GetBytes("user:password".ToCharArray());
String authHeaderValue = "Basic " + Convert.ToBase64String(authBytes); 
```

**添加具有上述值的授权标头**

```
Authorization: authHeaderValue 

String webPage = "10.100.3.83:9764/example/servlets/servlet/…";; 
URL url = new   URL(webPage); 
HttpURLConnection urlConnection = (HttpURLConnection)url.openConnection();    
urlConnection.addRequestProperty("Name","andunslg");   

//Username : andunslg
//Password : admin  
byte[] authBytes = Encoding.UTF8.GetBytes("andunslg:admin".ToCharArray());
String authHeaderValue = "Basic " + Convert.ToBase64String(authBytes);

urlConnection.addRequestProperty("Authorization",authHeaderValue ); 
```

# c# - 在 web 请求期间 WinRT 超时以检测慢速 Internet 连接

> ID：11077941
> 
> 赞同：0
> 
> 时间：2012-06-18T06:36:05.903
> 
> 标签：c#, xaml, asynchronous, windows-8

是否有在线示例代码可以让 WinRT 在网络请求调用的第一秒内确定其互联网连接是否缓慢，以便我可以取消请求并在程序开始时切换到本地文件。Metro 要求要求应用程序在 5 秒内启动，我需要我的网络请求（300kb）在此之前返回。它通常在 WiFi 上很快，但 3G 速度可能会有所不同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:53:51.283

[您可以使用connectioncost](http://msdn.microsoft.com/en-us/library/windows/apps/windows.networking.connectivity.connectioncost.aspx) api查看您是在 3G 还是 WiFi 连接上运行。

当您使用 3G 时，您可以考虑使用本地文件，然后尝试在后台更新它。此外，您可以通过检查用户当前是否正在漫游，或者即使他或她正在接近他或她的数据限制来进一步增加您的逻辑，所有这些都可能会影响您决定从哪里加载。所有这些都可以通过相同的 API 完成。

在应用程序启动的 5 秒内，您还混淆了一些东西。您的应用程序实际上可能需要 15 秒的时间来提供或提供某些东西，而在您被强行切断之前只需 5 秒即可暂停。如果 15 秒还不够开始，您还可以用您自己的启动屏幕替换默认启动屏幕 .. 并继续加载，只要您愿意。请记住，您的用户可能不喜欢它。

为什么不加载本地文件，然后尝试在后台更新它？我不确定您的用例。

# android-intent - Android Activity 需要 3 秒才能显示

> ID：11077943
> 
> 赞同：3
> 
> 时间：2012-06-18T06:36:12.267
> 
> 标签：android-intent, android

当我单击开始按钮时，大约需要 3 秒才能显示下一个 UI。

我在没有第二个活动的线程的情况下进行了测试，但结果是相同的。显示需要 3 秒和 552 毫秒。第二个活动包含 7个字段的 7`TextChangeListner`秒。`EditText`

这是一款主要用于 Galaxy Tab 10.1 的 Android 平板电脑应用程序。我正在使用 Android 3.2 来构建这个应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T04:02:06.663

我找到了性能低下的原因。因为模拟器。当我检查真实设备时，它工作正常。

# asp.net - 在 Web 上访问 Windows 应用程序

> ID：11077944
> 
> 赞同：0
> 
> 时间：2012-06-18T06:36:16.150
> 
> 标签：asp.net, wcf

我有由许多表单组成的 Windows 应用程序。

现在我遇到了一种情况，我想让这个应用程序在线可用。如何达到这样的效果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:37:51.190

实际上，这似乎不是可能的原因，因为这两个域是不同的并且用于不同的目的。浏览器被开发用于显示 HTML 而不是呈现 Windows 表单。其次，HTML 将适用于所有操作系统，甚至非窗口。

此外，即使您成功执行此操作，它也只能在服务器上工作，并且您无法通过浏览器向用户显示 Windows 表单。

您可能想考虑将其转换为 Silverlight 2.0。

# blackberry - 无法将 BlackBerry 手机与蓝牙 SPP 设备连接

> ID：11077945
> 
> 赞同：1
> 
> 时间：2012-06-18T06:36:27.227
> 
> 标签：blackberry, bluetooth, spp

我正在尝试使用以下代码从黑莓 9900 手机连接到蓝牙设备；

```
public final class AppMainScreen extends MainScreen {
private BluetoothspInfo[] spInfo;
    private StreamConnection bConn;
    private DataInputStream diStream;
    private String text;

    public AppMainScreen() {

        spInfo = BluetoothSerialPort.getSerialPortInfo();

        try {
            bConn = (StreamConnection) Connector.open(
                    spInfo[0].toString(), Connector.READ);
        } catch (IOException e) {
            e.printStackTrace();
        } catch (Exception e) {
            e.printStackTrace();
        }

        UiApplication.getUiApplication().invokeLater(new TextScanner());
    }

    // ...
    // ...
    // ...
} 
```

但它总是抛出异常`java.io.IOException: Unable to connect.`，我无法获得完整的跟踪。这里有什么问题，谁能指出我正确的方向。我在平台版本 4.5 的 BlackBerry Eclipse 插件上使用 BlackBerry Java。

# ios - 选择日期时如何获取日期单元格的位置，ios

> ID：11077946
> 
> 赞同：1
> 
> 时间：2012-06-18T06:36:29.413
> 
> 标签：ios, date, calendar, position

我已经使用`NSCalenderController`. 现在，当我选择特定日期时，我试图获取日期单元格的位置。用户选择日期时如何获取日期单元格的位置？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T09:36:18.853

这是我的 Util 类 getHexColorCode 是 Util 类中的一个方法。-（减号）表示它是一个静态方法。

```
 @interface Util : NSObject
    {

    }
+ (UIColor *) getHexColorCode: (NSString *) colorName; 
```

我将函数称为

```
[Util getHexColorCode:@"Red"] 
```

希望这可以帮助..

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T09:33:04.780

```
for(int i=0;i<6;i++)
{
for(int j=0;j<7;j++)
{
int buttonNumber = i*7 + j;
DayButton *button = [dayButtons objectAtIndex:buttonNumber];
NSLog(@"the position of the date cells are========> %d",buttonNumber); 
```

buttonNumber 将显示该日历的日期单元格的位置。

# apache - 如何将我的域名附加到我的服务器 IP 地址 (Apache)

> ID：11077954
> 
> 赞同：13
> 
> 时间：2012-06-18T06:37:18.027
> 
> 标签：apache, dns, hosting

例如我有一个域名 www.example1.com

我在我的 apache conf 中有这段代码：

```
<VirtualHost 109.201.175.107:80>
 DocumentRoot /home/localname/www
 ServerName www.example1.com

 # Other directives here

 </VirtualHost> 
```

在虚拟主机中我写了我的 ip 然后我将它附加到 ServerName 是吗？但是无论如何当我打开 www.example1.com 时它显示我的错误 404，或者我可能需要更改 IP 地址附上域名，你能告诉我一步一步我需要做什么吗，我已经搜索了所有的谷歌但不明白。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T07:06:35.073

```
<VirtualHost 109.201.175.107:80>
    ServerName   example1.com:80
    ServerAlias  www.example1.com

    //other options 
    ServerAdmin  Email Id

    DocumentRoot /home/localname/www

     # Other directives here
     ErrorLog Physical path to error log folder
</VirtualHost> 
```

请检查此以获取详细信息 [http://bytes.com/serveradministration/webservers/apache/virtual-hosting/app/dynamic_static_router.html](http://bytes.com/serveradministration/webservers/apache/virtual-hosting/app/dynamic_static_router.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T06:41:29.327

您的域名应该与您的服务器公共 IP 地址进行映射，这是您进行配置后所必需的。询问您的 dns 提供商。

在命令提示符下 ping yourdomainname.com，它应该解析您的公共 IP 地址 (109.201.175.107)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-09-28T12:53:28.827

为 Ubuntu 15.04 解决，我找到了合适的解决方案，希望它也能帮助你。

```
<VirtualHost *:80>
    ServerAdmin admin@example.com
    ServerName example.com
    ServerAlias www.example.com
    ServerAlias *.example.com
    DocumentRoot /var/www/example.com/public_html
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost> 
```

[资源](https://rohitsalunke.wordpress.com/2015/09/28/domain-name-mapping-in-apache-ubuntu-15-04-without-www-solved/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T06:46:40.220

我相信您还需要修改您的主机文件。

你是在 Mac 还是 PC 上？

在我的 Mac 上，我在 /etc/hosts 下有这个

# ssl - 带有自签名证书的 Amazon Beanstalk Web 服务器？

> ID：11077955
> 
> 赞同：1
> 
> 时间：2012-06-18T06:37:27.490
> 
> 标签：ssl, amazon, amazon-elastic-beanstalk

是否可以使用自签名证书以 SSL 模式启动 Amazon Beanstalk Web 服务器？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-23T14:04:14.910

对的，这是可能的。

您首先需要先创建一个自签名证书，如以下文章所述 [http://www.akadia.com/services/ssh_test_certificate.html](http://www.akadia.com/services/ssh_test_certificate.html)

然后您需要使用 aws iam 命令行工具 (http://aws.amazon.com/developertools/4143) 上传证书：

iam-servercertupload --aws-credential-file ./aws-credential.txt -b www.example.com.crt -k www.example.com.key -s www.example.com-2012 -v

# linux - 内核模块编译和 KBUILD_NOPEDATIC

> ID：11077957
> 
> 赞同：14
> 
> 时间：2012-06-18T06:37:38.133
> 
> 标签：linux, makefile, linux-kernel, linux-device-driver

我注意到最近的内核（从 2.16.24 开始？）不喜欢`CFLAGS`外部模块 Kbuild 文件中是否更改。如果`CFLAGS`更改，Linux 内核 Kbuild 系统将发出以下错误：

```
scripts/Makefile.build:46: *** CFLAGS was changed in "/some/path". Fix it to use EXTRA_CFLAGS.  Stop. 
```

从[这里](http://www.mail-archive.com/git-commits-head@vger.kernel.org/msg26519.html)：

> 外部模块在少数情况下通过修改 CFLAGS 来修改 gcc 选项。这从未被记录在案，是一种不好的做法。

`email`来自 LKML 的附加信息。

为什么这是个坏主意？什么是理性？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-28T03:45:58.950

首先，值得一提的是，它`EXTRA_CFLAGS`已在不久前被弃用并被`ccflags-y`. 您可以阅读第 3.7 节`ccflags-y`中的意图。`Documentation/kbuild/makefiles.txt`

基本上，此变量允许您在仅分配它的文件范围内将设置附加到 C 编译标志集。您不应该更改全局标志，因为这*可能会*产生超出您自己的 makefile 的全局影响，这被认为是不好的做法。您提到的检查验证确实，包含的生成文件没有更改全局标志。

查看`ccflags-y`以前称为 的`EXTRA_CFLAGS`最终在构建过程中如何使用是很有趣的。跟踪一些相关点（但不是全部，因为这是留给读者的练习;-)）显示以下内容：

`EXTRA_CFLAGS`照样可以用`scripts/Makefile.lib`

```
1 # Backward compatibility
2 asflags-y  += $(EXTRA_AFLAGS)
3 ccflags-y  += $(EXTRA_CFLAGS) 
```

同一个文件显示了如何`ccflags-y`在 C 编译标志中结束（并且还显示您可以使用另一个变量，称为`CFLAGS_<filename>.o`）：

```
104 orig_c_flags   = $(KBUILD_CPPFLAGS) $(KBUILD_CFLAGS) $(KBUILD_SUBDIR_CCFLAGS) \
105                  $(ccflags-y) $(CFLAGS_$(basetarget).o)
106 _c_flags       = $(filter-out $(CFLAGS_REMOVE_$(basetarget).o), $(orig_c_flags))
...
133 __c_flags       = $(_c_flags)
...
147 c_flags        = -Wp,-MD,$(depfile) $(NOSTDINC_FLAGS) $(LINUXINCLUDE)     \
148                  $(__c_flags) $(modkern_cflags)                           \
149                  -D"KBUILD_STR(s)=\#s" $(basename_flags) $(modname_flags) 
```

然后在 中`scripts/Makefile.build`，定义编译规则：

```
234 cmd_cc_o_c = $(CC) $(c_flags) -c -o $@ $< 
```

请注意，这些都是递归扩展的变量， using`=`和 not `:=`，这意味着`ccflags-y`当您在自己的 makefile 中定义它时，您自己的值被插入到 C 标志中。

最后 about `KBUILD_NOPEDANTIC`，您在标题中提到但在实际问题中没有提到。`CFLAGS`可以通过给出`KBUILD_NOPEDANTIC`任何值来禁用对更改值的测试- 请参阅`scripts/Makefile.build`

```
47 ifeq ($(KBUILD_NOPEDANTIC),)
48         ifneq ("$(save-cflags)","$(CFLAGS)")
49                 $(error CFLAGS was changed in "$(kbuild-file)". Fix it to use ccflags-y)
50         endif
51 endif 
```

这个答案中引用的文件今天都被检索到了。

现在......不是这方面的专家，并且在写下整个故事之后进一步研究了makefile，还有一件事我也不明白。在我看来，`CFLAGS`构建系统中没有使用（不是隐式的，也不是显式的），而是`KBUILD_CFLAGS`。所以我想知道这种对变化`CFLAGS`的检查是否实际上应该是对变化的检查`KBUILD_CFLAGS`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T12:55:36.117

Linux makefile`CFLAGS`以适合内核的方式构建。
覆盖`CFLAGS`意味着您添加一些标志并可能删除一些标志。一些已删除的标志对于正确编译可能很重要。

# jquery - 在 jquery 中声明静态变量

> ID：11077960
> 
> 赞同：2
> 
> 时间：2012-06-18T06:38:12.797
> 
> 标签：jquery, variables, static

请指导我在以下程序中声明静态变量。我想通过单击按钮来增加静态变量 lists.counter 的值。但它不起作用。

```
 <%@ Page Title="Home Page" Language="C#" MasterPageFile="~/Site.master" AutoEventWireup="true"
    CodeBehind="Default.aspx.cs" Inherits="finalspecific2_list._Default" %>

   <asp:Content ID="HeaderContent" runat="server" ContentPlaceHolderID="HeadContent">
    <script src="Scripts/jquery-1.4.1-vsdoc.js" type="text/javascript"></script>
    <script src="Scripts/jquery-1.4.1.js" type="text/javascript"></script>
    <script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"></script>

<script type="text/javascript">

    $(document).ready(function lists() {

        var list = $('#myList li:gt(0)');

        list.hide();
        lists.counter = 0;
        var username = $("#<%= uname.ClientID %>").val();
        var pwd = $("#<%= pwd.ClientID %>").val();

        $("#<%= Login.ClientID %>").click(function () {

            lists.counter++;

            alert(lists.counter);
            lists.counter++;

        });

        $("#<%= Button1.ClientID %>").click(function () {

            {

                    alert(lists.counter);

                    }

                });
    });

  </script>

</asp:Content>
<asp:Content ID="BodyContent" runat="server" ContentPlaceHolderID="MainContent">

<asp:Button ID="Login" runat="server" Text="Login" />
<asp:Button ID="Button1" runat="server" Text="Login" />

</ul>

</asp:Content> 
```

当单击任何按钮时，lists.counter 应该增加，并且应该在随后的点击中增加。请指导此事。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T07:07:43.590

您可以在此处使用闭包：

```
$(document).ready(function() {
    // The actual counter is contained in the counter closure.
    // You can create new independent counters by simply assigning 
    // the function to a new variable
    function makeCounter() {
        var count = 0;
        return function() {
            count++;
            return count;
        };
    };

    // This variable contains a counter instance
    // The counter is shared among all calls regardless of the caller
    var counter = makeCounter();

    // The handler is bound to multiple buttons separated by commas
    $("#button, #another_button, #yet_another_button").click(function () {
       var i = counter();
       console.log("The counter now is at " + i);

       // Probably update your counter element
       // $("#counter").text(i);
    });
});​ 
```

[你可以在这个](http://jsfiddle.net/zGeQA/6/)小提琴中找到代码。

如果您有兴趣，可以[在此处](https://developer.mozilla.org/en/JavaScript/Guide/Closures)阅读有关闭包的更多信息。

**更新：** [这个小提琴](http://jsfiddle.net/zGeQA/15/)使用多个按钮共享同一个计数器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:46:24.103

在JQuery中声明变量时，请不要在中间使用DOT，而是可以使用camel格式来区分两个单词，所以`list.counter`应该是`listCounter`

更改代码：

```
$(document).ready(function lists() {

    listsCounter = 0;

    $("#<%= Login.ClientID %>").click(function () {

        listsCounter++;

    });

}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T06:41:21.283

替换`lists.Counter`为`this.Counter`并检查它是否有效

或试试这个 -

```
<input id="button" type="button" value="button" />

var counter = 0;

$("#button").click(function () {
   console.log(counter++);
}); 
```

演示：http: [//jsfiddle.net/AxD7c/](http://jsfiddle.net/AxD7c/)

# java - Java中有没有好的X12解析器？

> ID：11077963
> 
> 赞同：6
> 
> 时间：2012-06-18T06:38:45.837
> 
> 标签：java, edi, x12

Java中有没有可以处理Walmart 810规范的好的X12解析器？

EDI 示例：

```
ISA*00*          *00*          *16*102096559TEST  *14*PARTNERTEST    *071214*1406*U*00040*810000263*1*T*>
  GS*IN*102096559TEST*PARTNER*20071214*1406*810000263*X*004010
    ST*810*0001
      BIG*20050205*6463367*20050202*3376103367
      REF*IA*123456170*X5T
      REF*DP*00017
      REF*MR*0020
      N1*SU*SUPPLIER NAME
      N1*ST*WAL-MART 100*UL*0078742000992
        N3*406 SOUTH WALTON BLVD
        N4*BENTONVILLE*AR*72712 
      ITD*05*15*****45
      DTM*011*20050205
      FOB*CC
      IT1**1080*EA*3.61**IN*001719653*UP*022108955228*UK*            00221089552284       
        PID*F****ITEM DESCRIPTION
        SAC*A*I410***2350*******02
      TDS*387530
      CAD*T***RDWT*ROADWAY**BM*123456789
      ISS*1080*EA*100*LB
      CTT*1
    SE*19*0001
  GE*1*810000263
IEA*1*810000263 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-18T06:47:29.343

试试这个，[编辑器](http://edireader.sourceforge.net/)

解析器通过检查区分 ANSI X.12 和 EDIFACT EDI 标准，并使用工厂模式来构造适当的解析器子类。

解析器可以像 XML 解析器一样嵌入到 Java 应用程序中，避免了传统 EDI 翻译器经常使用的基于文件的专有接口。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T06:43:45.013

尝试使用[Smooks](http://www.smooks.org)。从页面：

> Smooks 是一个可扩展的框架，用于构建使用 Java 处理 XML 和非 XML 数据（CSV、**EDI**、Java 等）的应用程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-12T14:46:53.510

你可以试试机器人：[http](http://bots.sourceforge.net) ://bots.sourceforge.net 它不是java，而是python。它不是一个“图书馆”，而是一个应用程序。处理 x12 OK，包括 810。您可以将其翻译成您需要的格式（xml、csv、平面文件）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-24T03:25:25.447

如果您对商业产品持开放态度，请查看[Oakland Data Transformer](http://oaklandsoftware.com/data-transformer)。它是用 Java 编写的，有一个基于 Eclipse 的设计器，以及一个 Java API 或与 Apache Camel、Mule ESB 和 OSGi 蓝图的集成。您可以轻松地将其以图形方式映射到 XML、数据库、Java 对象或其他东西。

下载时需要联系 Oakland Software 以获取您正在使用的 X12 4010 810 的规格。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-07-15T06:15:33.630

我们可以使用 apache camel，camel 是非常简单且可扩展的解决方案，

这将给出一个 json 对象，然后我们可以解析 json 对象然后获取值。

```
XmlJsonDataFormat xmlJsonFormat = new XmlJsonDataFormat();
        xmlJsonFormat.setEncoding("UTF-8");
        xmlJsonFormat.setForceTopLevelObject(true);
        xmlJsonFormat.setTrimSpaces(true);
        xmlJsonFormat.setRootName("newRoot");
        xmlJsonFormat.setSkipNamespaces(true);
        xmlJsonFormat.setRemoveNamespacePrefixes(true);
    //  xmlJsonFormat.setExpandableProperties(Arrays.asList("d", "e"));

          from("file:sftpdata/x12files")
            .log("Before unmarshal with SmooksDataFormat:").log("${body}")
            .unmarshal(new SmooksDataFormat("smooks-config1.xml"))
            .log("After unmarshal with SmooksDataFormat:").log("${body}")
           .marshal(xmlJsonFormat)
             .log("After marshalling with Json library:").log("${body}")
             .process(new X12Processor()).log("X12 file processed")
            .to("mock:result"); 
```

# c++ - 有什么办法可以修复VC6.0中“DwmEnableBlurBehindWindow”的副作用？

> ID：11077972
> 
> 赞同：0
> 
> 时间：2012-06-18T06:39:23.870
> 
> 标签：c++, windows, api, dwm

我遇到了 MSDN 主题中提到的一个确切问题：[DWM Blur Behind Overview](http://msdn.microsoft.com/en-us/library/aa969537.aspx)。

调用 DwmEnableBlurBehindWindow 后，客户区变成了漂亮的玻璃，但不幸的是，控件（按钮、编辑、静态等）上的所有黑色文本也变得透明，就像[MSDN 上的主题](http://msdn.microsoft.com/en-us/library/aa969537.aspx)一样。

有任何解决这个问题的方法吗？

顺便说一句，我的开发环境是VC++ 6.0，我必须用DrawThemeTextEx API绘制一些发光的文本，所以我不能简单地使用DwmExtendFrameIntoClientArea。我必须使用 DwmEnableBlurBehindWindow 来启用客户区域的玻璃效果。

非常感谢！

2012/6/19 更新：通过使用“SetLayeredWindowAttributes”将窗口的透明键颜色更改为非黑色，然后使用“DwmExtendFrameIntoClientArea”可以解决玻璃窗口上的CONTROLS（BUTTONs，EDITs等）的标题文本问题.

但这样一来，“DrawThemeTextEx”就无法正常工作。看起来 DrawThemeTextEx 只能使用 RGB(0,0,0) 作为其透明键颜色。

那么，是否有任何 API 可以更改“DrawThemeTextEx”中使用的透明键颜色？

我的最终目标是在没有 MSDN 主题中提到的“DwmEnableBlurBehindWindow”副作用的玻璃（Aero）窗口上绘制一些发光的文本：DWM Blur Behind Overview，http://msdn.microsoft.com/en-us/library /aa969537.aspx。如果还有其他方法可以做到，我很高兴听到:)

非常感谢，再次！:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-10-04T11:30:26.107

看看在 MSDN中[绘制标题标题：](https://msdn.microsoft.com/en-us/library/windows/desktop/bb688195(v=vs.85).aspx#appendixb)

找到`HBITMAP hbmOld = (HBITMAP)SelectObject(hdcPaint, hbm);`示例中的行。

然后，在其后面添加这一行：

```
// You should have set RGB(200,201,202) as the transparency key
FillRect(hdcPaint,&rcClient,CreateSolidBrush(RGB(200,201,202))); 
```

虽然效果看起来不是很完美，但是解决了问题。

参考：[SetLayeredWindowAttributes 和 BitBlt 之间的 C++ WinAPI 冲突](https://stackoverflow.com/questions/32564457/c-winapi-conflict-between-setlayeredwindowattributes-and-bitblt/32908695#32908695)

# gcc - 使用 Clang 进行基本的源到源转换

> ID：11077973
> 
> 赞同：3
> 
> 时间：2012-06-18T06:39:25.060
> 
> 标签：gcc, llvm, clang, llvm-gcc, llvm-clang

我已成功构建[示例代码](http://eli.thegreenplace.net/2012/06/08/basic-source-to-source-transformation-with-clang/)

现在我有一个要求，如果我有如下示例代码：

```
int inc(int& p)
{
        p++;
        printf("In inc [%d]\n", p);
        return p;
}
int main()
{
        int i = 0;
        int y,z;
        if(y == 0)
                print(inc(i) , inc(i));
        else
        {
                print(inc(i) , inc(i));
        }
        printf("y = [%d] z = [%d]\n", y , z);
        return 0;
} 
```

代码应转换为

```
int inc(int& p)
{
        p++;
        printf("%s %d", __FILE__, __LINE__);
        printf("In inc [%d]\n", p);
        printf("%s %d", __FILE__, __LINE__);
        return p;
}

int main()
{
        int i = 0;
        printf("%s %d", __FILE__, __LINE__);
        int y,z;
        printf("%s %d", __FILE__, __LINE__);
        if(y == 0)
                print(inc(i) , inc(i));
        else
        {
                print(inc(i) , inc(i));
                printf("%s %d", __FILE__, __LINE__);
        }
        printf("y = [%d] z = [%d]\n", y , z);
        printf("%s %d", __FILE__, __LINE__);
        return 0;
} 
```

我尝试了以下代码更改：

```
bool VisitStmt(Stmt *s) {
    // Only care about If statements.
    if (isa<CompoundStmt>(s)) {
        CompoundStmt *Statement = cast<CompoundStmt>(s);
        TheRewriter.InsertText(Statement->getLocStart(),
                               "printf(\"%s %d\", __FILE__, __LINE__);\n",
                               true, true);
    } 
```

但输出如下：

```
// Begin function inc returning int
int inc(int& p)
printf("%s %d", __FILE__, __LINE__);
{
        p++;
        printf("In inc [%d]\n", p);
        return p;
}
// End function inc

// Begin function main returning int
int main()
printf("%s %d", __FILE__, __LINE__);
{
        int i = 0;
        int y,z;
        if(y == 0)
                print(inc(i) , inc(i));
        else
        {
                print(inc(i) , inc(i));
        }
        printf("y = [%d] z = [%d]\n", y , z);
        return 0;
}
// End function main 
```

请让我知道如何实现目标？

我也得到如下输出：

```
test.cpp:4:26: error: use of undeclared identifier 'p'
        printf("In inc [%d]\n", p);
                                ^
test.cpp:5:9: error: use of undeclared identifier 'p'
        return p; 
```

如何停止代码呈现相同的内容？只是复合块中的语句应该添加额外的语句。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-20T00:33:40.517

如果您查看生成的代码，这是一个非法的混乱。奇迹编译器不会让你的耳朵尖叫;-)

显然 LLVM（使用您的 VisitStmt）仅将“{...}”视为“复合语句”，并且输出发生在语句本身之前。仔细检查这些穿插的动作何时完成（我怀疑是在之前或之后，而不是在中间）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-04T20:04:48.387

如果我理解正确并添加到@vonbrand，您不应该使用复合语句的开始和结束，因为它们代表语句块。相反，您应该在通用的 VisitStmt 正文中插入文本（打印语句）来替换上面的内容。请注意，我不清楚您要完成什么，因为您在 if/else 语句之后没有立即打印语句。我认为，如果您只是列出要处理的语句，然后在您的访问者实现中使用“isa”条件来处理每种情况，这会有所帮助。这样，您实际上就正确地使用了访问者模式。希望有帮助！

# jquery - 两种形式一次提交 - 提交、延迟、提交

> ID：11077974
> 
> 赞同：0
> 
> 时间：2012-06-18T06:39:26.153
> 
> 标签：jquery, timeout

我正在尝试一次提交两个表单（一个去 db，另一个去 fpdf 制作标签）。我使用 jquery 将变量从第一个表单复制到第二个表单的隐藏输入。我在这里看到这个问题问了几次，但没有一个答案有帮助。我使用“假”ajax 方法——即：我将表单目标设置为同一页面上的隐藏 iframe。所以我想提交一个表格，然后使用延迟然后提交第二个表格（因为没有延迟就无法工作！）

那么如何在此代码中添加延迟：

```
 $('#insert').submit(function() {
    //Delay here please, or is it timeout I need?
    $('#print').submit();
    });

<form id="insert" action="insert.php" target="hiddeniframe">
// a bunch of inputs
<input type="submit" value="submit">
</form>

<form id="print" action="pdf.php" target="hiddeniframe">
// a bunch of inputs
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:59:12.500

目前尚不清楚您的脚本正在做什么/返回，但您始终可以将 ajax 用于第一个请求，然后将 iframe 用于第二个请求。例如：

```
$('#insert').on('submit', function(e) {
  e.preventDefault();

  $.ajax({
    url: $(this).attr('action'),
    type: 'POST',
    data: $(this).serialize(),
    success: function() {
      // duplicate fields from first form into second form
      // as per whatever code you've already written

      // submit second form
      $('#print').submit();
    })
  });
}); 
```

这样第二个表单在第一个表单成功响应后提交。

# php - 如何在 PHP 中使用 Authorize.net 以编程方式退款？

> ID：11077976
> 
> 赞同：2
> 
> 时间：2012-06-18T06:39:32.577
> 
> 标签：php, cakephp, cakephp-2.0, payment-gateway, authorize.net

我在我的 cakephp 框架中使用 Authorize.net 支付模块（AIM）。支付功能运行良好。现在我需要用我的框架做一个**退款功能。**我检查了他们的 Api，但我什么也得不到。根据他们的 API 指南，如果我通过了他们询问 exp 日期，则需要以下参数。在我的数据库中，我们只存储 CC 的最后 4 位数字。无论如何，我尝试传递所有 16 位数字，但响应不正确。只是我需要一个用于 Authorize.net Refund 的示例 PHP 代码。

> **x_type=信用**
> 
> **x_trans_id=此处的交易 ID**
> 
> **x_card_num=完整的信用卡号或最后四位数字**

我正在传递以下参数

```
 "x_type"                => 'CREDIT',

        "x_trans_id"            => $x_trans_id,

        "x_card_num"            => '4111111111111111',

       "x_exp_date"            => '' ,

        "x_amount"                => $x_amount,

        'x_test_request' => TRUE 
```

现在我收到以下错误消息：

> (TESTMODE) 需要有效的引用事务 ID。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T14:03:34.203

即使*不需要*过期日期，您似乎仍然需要传递密钥，因为它在所需的 Authorize.net 密钥列表中。只要通过`x_exp_date => ''`，你应该很好！

# javascript - 选择 在使用 jQuery 的 div 中

> ID：11077977
> 
> 赞同：9
> 
> 时间：2012-06-18T06:39:36.870
> 
> 标签：javascript, jquery

我想选择第二个`<p>`标签并在`itemize`类 div 中设置它的样式。这是示例 HTML：

```
<div class="itemize">
    <p> Order Summery</p>
    <div>
        <p><strong>Packages:</strong> </p> <!-- i want to select this P tag-->
        <p><strong>Date:</strong> </p>
        <p><strong>Style:</strong> </p>
    </div>
</div> 
```

我想选择`<p>`紧随第二个之后的第一个并设置样式`<div>`。第二个`<p>`没有 ID 或类。

如何通过 jQuery 选择它？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-18T06:43:23.307

```
$('.itemize div p:first').html() 
```

检查此链接：http: [//jsfiddle.net/QJTYx/](http://jsfiddle.net/QJTYx/1/)

如果要向该 p 标签添加类：

```
$('.itemize div p:first').addClass('selected'); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-18T06:43:15.837

你可以这样做：

```
$('.itemize > div > p:eq(0)') 
```

`.itemize > div`一直到：

```
<div class="itemize">
    <p> Order Summery</p>
</div> 
```

和

`.itemize > div > p:eq(0)`

```
<div class="itemize">
    <p> Order Summery</p>
    <div>
        <p><strong>Packages:</strong> </p>
    </div>
</div> 
```

`>`允许以直接孩子为目标，而用于`eq(index)`首先获得`p`您想要的。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-06-18T06:42:32.297

```
var test = $('.itemize')​.find('div:first')​.find(​'p:first')​​​.html();
alert(test);
​ 
```

在这里试试：http: [//jsfiddle.net/arvind07/H8vwA/](http://jsfiddle.net/arvind07/H8vwA/)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-18T06:41:55.700

```
$('.itemize>div>p:first').addClass('someClass'); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-18T06:42:58.427

这应该可以解决问题

```
$('.itemize div p').first().addClass('hello'); 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-06-18T06:46:39.127

你可以试试这个。。

```
$(".itemize div p:first").text(); 
```

希望它会工作..

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-06-18T06:45:13.370

`$('.itemize>div>p').first().css(styles go here)`上面的大多数也可以工作

jQuery 选择器的工作方式有点像 css 选择器，请查看本[教程](http://docs.jquery.com/Tutorials%3aGetting_Started_with_jQuery)以获取更多信息。

# java - android菜单代码不起作用

> ID：11077982
> 
> 赞同：-2
> 
> 时间：2012-06-18T06:40:13.157
> 
> 标签：java, android, android-menu

我一直试图弄清楚为什么当我按下按钮时我的布尔值没有改变，当我手动更改它时它起作用了，但它没有做任何事情。我试图按照这个词的教程进行操作，但它们不起作用。谁能指出我哪里出错了？

```
public boolean onOptionsItemSelected(MenuItem menu) 
{
    MenuItem freeze = (MenuItem)findViewById(R.id.freeze);  
    // Handle item selection 
    switch (menu.getItemId()) { 
        case R.id.freeze: 
            if (freze == false){
                freze = true;
            } else {
                freze = false;
            }
            return true; 
        case R.id.toggleVolCount: 
            if (toggleVol == true){
                toggleVol = false;
            } else {
                toggleVol = true;
            }
            return true; 
        default: return super.onOptionsItemSelected(menu); 
    } 
```

感谢您的所有帮助，当我尝试建议的代码但它不起作用时，我回去更改了菜单。以前我制作了一个带有 onClick 的按钮来创建菜单，当使用代码创建图标时，我之前编写的代码运行良好。希望这对我以外的人有所帮助，所以我不觉得自己像个白痴。}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T08:49:29.673

在 res 文件夹中创建一个文件夹菜单，如 drawable

在该文件夹中创建新的 xml 文件 optionmenu.xml。

```
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:id="@+id/menuitem" 
        android:title="Prefs">
    </item>
         <item android:id="@+id/menuitem1" 
        android:title="Prefs1">
    </item>

</menu> 
```

在 onCreate 方法中编写此代码....

```
setOptionMenu(R.menu.optionmenu); 
```

并在菜单的覆盖方法中编写此代码.....

```
@Override
    public boolean onOptionsItemSelected(MenuItem menu) {
        switch (menu.getItemId()) {
        case R.id.menuitem:
            startActivity(new Intent(this, Prefs.class));
            break;

case R.id.menuitem1:
            startActivity(new Intent(this, Prefs1.class));
            break;
        default:
            break;
        }

        return true;
    } 
```

# java - 无法捕获 AxisFault 异常

> ID：11077988
> 
> 赞同：4
> 
> 时间：2012-06-18T06:40:46.557
> 
> 标签：java, web-services, webservice-client

我有一个代码，它是围绕 Web 服务的 java 包装器，在异常时它会引发 AxisFault 异常（如下所示）

```
org.apache.axis2.AxisFault: Policy enforcement failed to authenticate the request.
    at org.apache.axis2.util.Utils.getInboundFaultFromMessageContext(Utils.java:446)
    at org.apache.axis2.description.OutInAxisOperationClient.handleResponse(OutInAxisOperation.java:371)
    at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:417)
    at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
    at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
    at com.tibco.n2.de.services.EntityResolverServiceStub.lookupUser(EntityResolverServiceStub.java:261)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source) 
```

代码如下所示，

```
try {
                lookupUserResponse = myIntializedObject.lookupUser("someuser", null, null, true);
            } catch (InvalidServiceRequestFault e) {
                // TODO Auto-generated catch block
                //e.printStackTrace();
            } catch (InternalServiceFault e) {
                // TODO Auto-generated catch block
                //e.printStackTrace();
            } catch (SecurityFault e) {
                // TODO Auto-generated catch block
                //e.printStackTrace();
            }
            finally{
                if(lookupUserResponse==null)
                    return false;
            } 
```

我也尝试用 Exception e 的单个块替换所有 catch 块，但它仍然没有捕获异常

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-27T21:30:16.997

我能够通过以下方式捕获 AxisFault 错误：

```
try {
    ...
} catch (RemoteException ex) {
    if(ex instanceof AxisFault){
        logger.error("Axis Fault error: " + ((AxisFault)ex).getFaultString());
    }
} 
```

`AxisFault`是 的子类`java.rmi.RemoteException`。您可以通过查看[API 文档](http://axis.apache.org/axis2/java/core/api/org/apache/axis2/AxisFault.html)来了解这一点。类层次结构显示在页面的左上角。

至于为什么`java.lang.Exception`在`catch`语句中使用时没有捕获到，也许您可​​以发布相关代码？

# c++ - 返回本地实例时未调用析构函数

> ID：11077994
> 
> 赞同：8
> 
> 时间：2012-06-18T06:41:25.307
> 
> 标签：c++, return, destructor

> **可能重复：**
> [为什么没有为函数返回的对象调用析构函数？](https://stackoverflow.com/questions/697868/why-is-the-destructor-not-called-for-the-returned-object-from-the-function)

我写了一些 C++ 代码（如下），用 GCC 4.6 编译它并成功运行。但我不知道为什么`classA`从`createA()`.

由于`ca`是一个局部变量`createA()`（即在堆栈上），我认为从函数返回时应该调用它的析构函数。但实际上，析构函数只在`main`函数返回时被调用一次。

此外，在此测试中返回本地实例总是可以正常工作。我想知道在返回后弹出框架时在堆栈框架上返回本地实例是否安全。

这是我的代码：

```
#include <iostream>
#include <string.h>

class classA
{
public:
    classA() { len = 0; v = 0; }

    classA(int a)
    {
        len = a;
        v = new int[a];
        for (int i = 0; i < a; i++)
            v[i] = 2*i;
    }

    ~classA()
    {
        if (v)
            {
            memset(v, 0, len * sizeof(int));
            delete [] v;
        }
    }

    int *v;
    int len;
};

classA createA(int a)
{
    classA ca(a);
    return ca;
}

using namespace std;

int main()
{
    int a = 10;
    classA ca = createA(a);
    classA *pca = &ca;
    for (int i = 0; i < a; i++)
        cout << pca->v[i];
    cout << endl;
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-18T06:42:29.127

这称为**返回值优化**。

简而言之，编译器不必返回对象的副本来优化代码。

> 因为 ca 是一个局部变量，即在堆栈上 [...]

不必要。`ca`可以直接在调用上下文中创建以防止额外的副本。**复制省略**是编译器可以自由执行的唯一可以改变预期行为的优化。

# javascript - Javascript访问参数而不传递

> ID：11077995
> 
> 赞同：0
> 
> 时间：2012-06-18T06:41:25.573
> 
> 标签：javascript, arguments

我是 javascript 新手，我写过这样的代码

```
file myclass.js
//----------------------------------------------

function myclass () {
     this.functionA = function (value) { 
       var _this = this;
       _this.functionB ();

      }

    this.functionB = function () { 
     // here I am using the value passed to functionA when it is called.
        alert(value);
      }
} 
```

//------------------------------------------------ ------------------

```
file main.js
//-----------------------------------------   
    mc = new myclass();
    mc.functionA (45);
//------------------------------------- 
```

在这里，我完全混淆了我是我的主文件，我调用了一个函数A，传递了一个参数，当我在函数A 中调用函数B 时，我没有在函数B 中传递参数，但我仍然可以访问它。任何人都可以解释一下这怎么可能？

PS 值不是全局的，也没有在其他任何地方使用

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:58:28.117

我无法重现您的行为，但我假设您在外部范围中定义了另一个变量，该变量作为参数`value`传递给。`functionA`所以你看到的不是一个，而是*两个*具有相同名称和值的变量。

像这样的东西：

```
function SomeConstructor() {
    var value = 'Surprise'; // * VALUE_1

    this.functionA = function (value) { // VALUE_2
        var _this = this;
        _this.functionB ();
    }

    this.functionB = function () { 
        // Here you're using the value from starred line above
        // VALUE_1
        alert(value);
    }

    // Here you also pass the same value and later assumes that 
    // functionB sees it as a parameter (VALUE_2)
    functionA(value);
} 
```

请注意，如果您重命名`value`参数 for`functionA`和`value`外部范围内的变量，所有混淆都会消失：

```
function SomeConstructor() {
    var value1 = 'Surprise';

    this.functionA = function (value2) {
        var _this = this;
        _this.functionB ();
    }

    this.functionB = function () { 
        // Here you're using the value from starred line above
        alert(value1);
    }

    // Here it's clear that the parameter you're passing is not used at all
    functionA(value1);
} 
```

检查您的代码，看看是否是这种情况。

* * *

**编辑**：在您编辑完您的问题后，我仍然无法重现您的案例。检查这是否是页面上唯一的脚本。也许，您安装了一些浏览器插件或扩展程序，将代码添加到您的页面。在 Chrome 开发工具中，我得到：

```
"ReferenceError: value is not defined" 
```

# ios - 'UIView' 可能不会响应 'addSubview:withAnimation:'

> ID：11077996
> 
> 赞同：1
> 
> 时间：2012-06-18T06:41:26.427
> 
> 标签：ios, cocoa-touch

我收到了这个警告：

```
'UIView' may not respond to 'addSubview:withAnimation:' 
```

产生该警告的代码行是这样的：

```
[self.masterView addSubview:self.detailImage withAnimation:def]; 
```

而我的相关代码是这样的：

```
ExUIViewAnimationDefinition *def = [[ExUIViewAnimationDefinition alloc] init];
    def.type = ExUIAnimationTypeTransition;
    def.direction = ExUIAnimationDirectionMoveUp;
    [self.masterView addSubview:self.detailImage withAnimation:def];
    [def release]; 
```

我查看了`UIView`文档，我认为 addSubview 可能已被弃用，但它仍然是这样的。

有谁知道如何解决这个警告？提前谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T06:42:59.550

`addSubview`是 UIView 将响应的方法。`addSubview:withAnimation:`不是 UIView 将响应的方法。

如果你想添加一个带有淡入淡出或类似的子视图，试试这个：

```
self.detailImage.alpha = 0.0;
[self.masterView addSubview:self.detailImage];

[UIView animateWithDuration:0.3 animations:^{
    self.detailImage.alpha = 1.0;
}]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:04:48.037

要将子视图添加到父视图，请调用父视图的 addSubview: 方法。此方法将子视图添加到父级子视图列表的末尾。要在父视图列表的中间插入子视图，请调用父视图的任何 insertSubview:... 方法。在列表中间插入一个子视图在视觉上将该视图置于列表后面的任何视图之后。

```
[self.masterView addSubView:self.def];
[def release]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-13T18:17:57.023

这帮助我通过从父视图的边框向下滑出来为子视图设置动画

```
 -(void) addAnimatadView:(UIView *) animatedView toView:(UIView *)aView {
        CGRect frame = animatedView.frame;
        float origin = frame.origin.y;
        frame.origin.y = aView.frame.size.height;
        [animatedView setFrame:frame];
        [aView addSubview:animatedView];
        frame.origin.y = origin;
        [UIView animateWithDuration:0.4 animations:^{[animatedView setFrame:frame];}];
    } 
```

只需更改框架原点即可实现自由滑动