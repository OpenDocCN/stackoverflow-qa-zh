# StackOverflow 问答 12470000-12470999

# c# - 让实体框架急切加载 Group By

> ID：12470002
> 
> 赞同：8
> 
> 时间：2012-09-18T03:29:39.623
> 
> 标签：c#, linq, entity-framework, group-by, ef-code-first

我知道更改查询的形状会导致 Entity Framework 忽略包含调用，但是当我执行 select many 和 group by 时，有没有办法让它加载子属性。在下面的示例中，我想通知在特定时间段内预订工作的所有员工。在 where 之后调用 .ToArray() 只会访问数据库一次，但我正在内存中执行 SelectMany 和 GroupBy。有没有办法让 SelectMany 和 GroupBy 在 SQL 服务器上发生，并且仍然包括 ServiceType 和 Ship 以及 Employee 详细信息？

我正在寻找一种方法来对数据库进行一次 SQL 调用，并最终得到一份在该时间段内有工作的员工列表以及他们被分配到的工作。

```
var employeeJobs = DataContext.Jobs.
    Include("ServiceType").
    Include("Ship").
    Include("JobEmployees.Employee").
    Where(j => j.Start >= now && j.Start <= finish).
    OrderBy(j => j.Start).
    ToArray().
    SelectMany(j => j.JobEmployees, (j, je) => new { 
        Job = j, 
        Employee = je.Employee 
    }).GroupBy(j => j.Employee); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-02-19T11:44:41.630

The following should work:

```
var q = from e in DataContext.Employees
  where e.Job.Start > ....
  order by e.Job.Start
  select new {Employee = e, Job = e.Job, Ship = e.Job.Ship, ServiceType = e.Job.ServiceType}; // No db hit yet.

var l = q.GroupBy(item=>item.Employee) // no db hit yet.
    .ToList(); // This one causes a db hit. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-19T11:27:19.313

为什么不创建一个视图，然后从 EF 引用它？，这还有一个额外的好处，那就是数据库服务器完成工作，而不是应用程序服务器。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-03-18T21:16:37.487

尝试在您的 groupby 之后将 Include() 移动到最后。

# spring - 最佳实践 - Struts2 / Spring 集成应用程序启动过程 - 用于在应用程序上下文中添加默认查找值

> ID：12470007
> 
> 赞同：2
> 
> 时间：2012-09-18T03:30:06.520
> 
> 标签：spring, struts2, initialization, applicationcontext

我是 Struts2 和 Spring 新手，正在寻找一些见解。当我们加载一个 Web 应用程序时，我们通常希望缓存一些默认的查找数据。例如，如果我们想存储不经常更改的状态或其他数据并将其添加到应用程序上下文中，我们可以在应用程序中访问它。在与 Spring 集成的 Struts2 应用程序中实现这一点的最佳方法是什么？我阅读了一些关于使用 @PostConstruct 进行注释的内容，这意味着我定义了自己的类/方法，该类/方法将通过调用 ServletActionContext.getServletContext() 来获取上下文的句柄，然后使用 setAttribute 添加一些东西。这是处理事情的好方法还是有更好的选择？还是简单地实现一个 ServletContextListener 是理想的？

感谢您的任何意见。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T06:39:56.880

如果要使用`ServletContext`，请使用 Spring 的`ServletContextAware`接口，然后使用`@PostConstruct`or`afterPropertiesSet`方法将项目添加到 servlet 上下文。

这比监听器使用起来更简单，并且与 Spring 无缝集成，让您可以访问在 Spring 和任何其他 bean 中声明的属性文件。

# php - 基于预定义变量打印图像

> ID：12470008
> 
> 赞同：0
> 
> 时间：2012-09-18T03:30:07.283
> 
> 标签：php, image, e-commerce

我对 PHP 很陌生，我想知道如何编写这样的代码，对不起，我无法弄清楚我最终如何找到相关答案的搜索词

具体来说，这将通过使用总数来检查购物车是否为空

```
if PHP $var = 0
then $printsrc='http://localhost/images/image1.jpg'
elseif $var > 0
then $printsrc='http://localhost/images/image2.jpg' 
```

然后更改图像标签中的图像，例如

```
<img src="<php $printsrc ?>" id="hello"> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T03:31:55.060

你需要这样设置-->

```
<img src="<php $printsrc ?>" id="hello"> 
```

至

```
<img src="<?php echo $printsrc ?>" id="hello"> 
```

# html - 最初在 youtube iframe 中显示任何点

> ID：12470009
> 
> 赞同：1
> 
> 时间：2012-09-18T03:30:11.807
> 
> 标签：html, iframe, youtube, youtube-api

我知道我可以使用嵌入参数，例如 &start=10，但我想知道是否有一个选项可以加载 iframe，在视频中显示不同的时间以用于图像目的，并且可能仍然从头开始。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T23:48:38.823

YouTube 不允许您将自定义帧设置为静止图像 - 我认为它在您上传视频时为您提供了一些选择，请在此处查看更多信息：[http ://www.squidoo.com/youtubeframe](http://www.squidoo.com/youtubeframe)

# python - for循环后的Python ascii错误

> ID：12470010
> 
> 赞同：0
> 
> 时间：2012-09-18T03:30:34.117
> 
> 标签：python

当我在 python 中运行这个简单的程序时，我在“for line in file”之后得到一个 ascii 错误。我尝试了许多更改但没有成功。为什么我会遇到这个问题？

代码：

```
flashcards = {}

def Gaelic():
    file = open ("gaelic_flashcard_mode.txt", "r")
    for line in file:
        print("clear4")
        line1 = line.rstrip().split("=")
        key = line1[0]
        trans = line1[1]
        PoS = line1[2]
        flashcards[key] = [trans, PoS]
    print(flashcards) 
```

正在读取的文本文件（gaelic_flashcard_mode.txt）：

```
I=mé=(pron) (emphatic)
I=mise=(n/a)
you=tú=(pron) (subject)
you=tusa=(emphatic)
y'all=sibh=(plural)
y'all=sibhse=(emphatic)
he=sé=(pron)
he=é=(n/a)
he=seisean=(emphatic)
he=eisean=(n/a)
she=sí=(pron)
she=í=(n/a)
she=sise=(emphatic)
she=ise=(emphatic)
him=é=(pron)
him=eisean=(emphatic)
her=í=(pron)
her=ise=(emphatic)
her=a=(adj) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T06:33:06.550

你在使用 Python 3.X 吗？您的印刷声明似乎表明了这一点。

使用`encoding`参数 of`open`指定源文件的编码。

此外，由于您有多个“键”，因此字典不能保存 , 等的各种版本`him`，`her`因此您可能需要一个列表：

```
def Gaelic():
    with open('gaelic_flashcard_mode.txt','r',encoding='utf8') as f:
        return [tuple(line.rstrip().split('=')) for line in f]

print(Gaelic()) 
```

输出：

```
[('I', 'mé', '(pron) (emphatic)'), ('I', 'mise', '(n/a)'), ('you', 'tú', '(pron) (subject)'), ('you', 'tusa', '(emphatic)'), ("y'all", 'sibh', '(plural)'), ("y'all", 'sibhse', '(emphatic)'), ('he', 'sé', '(pron)'), ('he', 'é', '(n/a)'), ('he', 'seisean', '(emphatic)'), ('he', 'eisean', '(n/a)'), ('she', 'sí', '(pron)'), ('she', 'í', '(n/a)'), ('she', 'sise', '(emphatic)'), ('she', 'ise', '(emphatic)'), ('him', 'é', '(pron)'), ('him', 'eisean', '(emphatic)'), ('her', 'í', '(pron)'), ('her', 'ise', '(emphatic)'), ('her', 'a', '(adj)')] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T03:36:09.567

因为您`open()`用于打开非 ASCII 文本文件。改为使用[`codecs.open()`](http://docs.python.org/library/codecs.html#codecs.open)，将其传递给适当的编码。并[阅读此](http://farmdev.com/talks/unicode/)。

# vb.net - ExecuteNonQuery() 返回正值但没有插入记录

> ID：12470011
> 
> 赞同：0
> 
> 时间：2012-09-18T03:30:46.980
> 
> 标签：vb.net, winforms, sql-server-ce, executenonquery

我已将本地 sqlceserver 数据库（版本 3.5.8080.0）与我的 Windows 窗体应用程序项目（vb）附加在一起。当我尝试使用以下代码插入数据时，

```
infoReader = My.Computer.FileSystem.GetFileInfo(i)
cmd.CommandText = "insert into log(filename,filesize,cdate) values('" & i & "'," &     infoReader.Length & ",'" & Now.ToString(("yyyy-MM-dd")) & "')"
cmd.Connection = cs
cs.Open()
cmd.ExecuteNonQuery()
cs.Close() 
```

cs 是具有以下声明的 sqlceconnection 对象：

```
Dim strconnection As String = "Data Source=|DataDirectory|\Database1.sdf"
Dim cs As New SqlCeConnection(String.Format("{0}", strconnection)) 
```

我已经添加了所有必需的程序集并导入了所需的命名空间。cmd.ExecuteNonQuery() 返回 1，这意味着插入命令没有问题。但是当我尝试通过服务器资源管理器查看数据时，我没有插入任何行。任何帮助都将受到高度欢迎。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T03:54:31.090

好的，当您使用 SqlCe 时，数据库是一个添加到应用程序输出文件夹的文件。您在解决方案的同一文件夹中有一个 DataDirectory。但是，如果您查看 Debug 文件夹，您将看到 .exe 和另一个 DataDirectory。服务器资源管理器连接到解决方案文件夹，而不是调试文件夹，这就是您看不到新行的原因

# php - 下拉菜单中的两个循环

> ID：12470014
> 
> 赞同：-3
> 
> 时间：2012-09-18T03:31:46.980
> 
> 标签：php, mysql, html

下拉菜单仅显示第一个循环及其数据库中的第一个项目，然后显示第一个循环中显示的第一个项目的每个项目。第一个循环没有列出第二个项目。有什么想法可以帮助我完成这个循环？？？

```
<ul class="pureCSSMenum">
    <li class="pureCssMenui"><a href="epolicy.php?page=epolicy" target="_self">E-Policy</a>
        <ul class="pureCssMenum">
                    <?
                        $sql = "SELECT * FROM e_category";
                        $result = mysql_query($sql);
                        while ($epolicy = mysql_fetch_array($result)) {     
                    ?>
                        <li class="pureCssMenui"><a class="pureCssMenui" href="#"><?=$epolicy['e_cat_name']?></a>
                            <ul class="pureCssMenum">
                                <?php
                                $sql = "SELECT * FROM e_subcategory";
                                $result = mysql_query($sql);
                                while ($epolicysub = mysql_fetch_array($result)) {      
                                ?>
                                <li class="pureCssMenui"><a class="pureCssMenui" href="#"><?=$epolicysub['e_subcat_name']?></a></li>
                                <? } ?>

                            </ul>
                       <? } ?>  

                    </li>
                </ul>    
            </li>
   </ul> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:00:16.903

您必须对外部变量和内部变量使用两个结果变量`$result1, $result2`，我认为其余的一切都很好。

希望这会有所帮助

# regex - 2个文件之间的比较并以顺序方式打印它们之间的差异

> ID：12470017
> 
> 赞同：2
> 
> 时间：2012-09-18T03:32:25.223
> 
> 标签：regex, perl, compare

我有2个文件，即

```
**a.txt**
cars
bikes
bus 
vehicle
atv

**b.txt**
hawk
hero
atv
bus

***result.txt***
cars
bikes
vehicle
hawk
hero 
```

我想打印两个文件之间的差异。现在我尝试了一个代码，但它以随机的方式给了我差异；我希望它以正确的顺序方式显示它。任何人都可以帮我解决这个问题。

```
use strict;
my %results = ();  

open FILE1, "<a.txt"
    or die "Could not open file: $! \n"; 
while (my $line = <FILE1>) {

    $results{$line}=1; 
} 
close FILE1;  

open FILE2, "<b.txt" 
    or die "Could not open file: $! \n"; 
while (my $line = <FILE2>) {

    $results{$line}++; 
} 
close FILE2;

open OUTFILE, ">>result.txt" 
    or die "Cannot open $outfile for writing \n";
foreach my $line (keys %results) { 

    print OUTFILE $line if $results{$line} == 1; 
} 

close OUTFILE; 
close OUTFILE1; 
```

我用这段代码得到的输出是

```
***result.txt***
cars
hawk
bikes
hero
vehicle 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T04:44:11.943

哈希以随机顺序存储它们的元素，因此我们必须随身携带位置信息。在下面的解决方案中，我使用*哈希值*来携带唯一的 ID。

### 代码

```
#!/usr/bin/perl
use strict; use warnings; use Data::Dumper;

my @a = qw( cars bikes bus vehicle atv );
my @b = qw( hawk hero atv bus );

my $i = 0;
my %ahash = map {$_ => ++$i} @a;
my %bhash = map {$_ => ++$i} @b;

my %different = map {
  ($ahash{$_} and $bhash{$_})
    ? ()
    : ($_ => ($ahash{$_} or $bhash{$_}))
} (keys %ahash, keys %bhash);

my @sorted = sort {$different{$a} <=> $different{$b}} keys %different;

print Dumper(\@sorted); 
```

### 讨论

出于演示的目的，我没有使用文件，而是将记录存储在数组`@a`和`@b`.

我从这些数组构建散列`%ahash`，`%bhash`使用数组元素作为键并使用唯一的数字作为值。在 的情况下`%ahash`，这些 ID 与*行号*相同。您可以将其中的 ID`%bhash`视为带有偏移量的行号。

然后我收集哈希之间不同的所有键值对。为此，我列出了`%ahash`和中的所有键`%bhash`。对于这些键中的每一个，我在两个散列中测试该键的存在（我不使用`exists`，而是针对该值进行测试，因为我可以保证没有分配具有 false 值的 ID - 除了`0`评估为 true之外的所有数字）。如果密钥在两个哈希中都存在，则返回空列表`()`。如果键仅存在于其中一个哈希中，则返回一个包含键和值的二元素列表，该列表位于 in`%ahash`或中`%bhash`。

在下一步中，我按关联值对所有不同的键进行升序排序，并将这些键按此顺序存储在`@sorted`. 您可以将它们打印到文件中，我只是将它们转储，然后得到以下输出：

```
$VAR1 = [
      'cars',
      'bikes',
      'vehicle',
      'hawk',
      'hero'
    ]; 
```

我相信这符合您的标准。

基本上，您有一个非常优雅的算法来查找差异，但是您没有合并排序数据，就像我对行号之类的 ID 所做的那样。

### 风格注释

在大多数情况下，使用词法文件句柄 with`my`优于使用全局文件句柄。此外，三参数形式的`open`更灵活，值得习惯。例如，我会把你的第三行写成

```
my $filename1 = "a.txt";
open my $file1, '<', $filename1 or die qq{Could not open "$filename1": $!\n}; 
```

但话又说回来，TIM TOWTDI。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:02:53.547

```
perl -lne '$X{$_}++;if(eof){$a++;}if($a==2){foreach (keys %X){if($X{$_}==1){print $_}}}' file1 file2 
```

测试如下：

```
> cat temp
cars
bikes
bus
vehicle
atv
> cat temp2
hawk
hero
atv
bus
> perl -lne '$X{$_}++;if(eof){$a++;}if($a==2){foreach (keys %X){if($X{$_}==1){print $_}}}' temp temp2
cars
hawk
hero
vehicle
bikes
> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T03:42:59.153

由于数据存储为哈希引用，因此不保留顺序。请参阅[如何按特定顺序打印 Perl 哈希？](https://stackoverflow.com/questions/3703911/how-can-i-print-a-perl-hash-in-specific-order)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-20T10:11:53.247

```
$ diff a.txt b.txt 
```

$ 不是代码的一部分，它用于表示 bash 命令提示符。

comm 也可能对您有用。

# php - PHP 套接字问题 - 内存泄漏

> ID：12470025
> 
> 赞同：1
> 
> 时间：2012-09-18T03:33:35.110
> 
> 标签：php, stream-socket-client

```
<?php

require_once('PEAR.php');

$GLOBALS['Net_EPP_Client_Version'] = '0.0.3';

class Net_EPP_Client {

    var $socket;

    function connect($host, $port=700, $timeout=1, $ssl=true, $sslcertpath, $sslpassphrase) {
        $context = @stream_context_create(); 
        $result = stream_context_set_option($context, 'ssl', 'allow_self_signed', 'true');
        $result = stream_context_set_option($context, 'ssl', 'local_cert', $sslcertpath); 
        $result = stream_context_set_option($context, 'ssl', 'passphrase', $sslpassphrase);

        $target = sprintf('%s://%s:%d', ($ssl === true ? 'ssl' : 'tcp'), $host, $port);
        if (!$this->socket = @stream_socket_client($target, $errno, $errstr, $timeout, STREAM_CLIENT_CONNECT, $context)) {
            return new PEAR_Error("Error connecting to $target - $errstr (code $errno)");
        } else {
            return $this->getFrame();
        }
    }

    function getFrame() {
        //stream_set_blocking($this->socket, 1);
        //stream_set_timeout($this->socket, 30);
        if (@feof($this->socket)) return new PEAR_Error('connection closed by remote server');

        //$hdr = @fread($this->socket, 4);
        $hdr = @fgets($this->socket, 5);
        //print_r($hdr); 
        //return new PEAR_Error($hdr);

        if (empty($hdr) && feof($this->socket)) {
            return new PEAR_Error('connection closed by remote server');

        } elseif (empty($hdr)) {
            //return new PEAR_Error('Error reading from server: '.$php_errormsg);
            $php_errormsg = isset($php_errormsg) ? $php_errormsg : "";
            return new PEAR_Error('Error reading from server: '. $php_errormsg);
        } else {
            /*
            $unpacked = unpack('N', $hdr);
            $answer = fread($this->socket, ($unpacked[1] - 4));
            return $answer;
            */
            $unpacked = unpack('N', $hdr);
            $length = $unpacked[1];

            if ($length < 5) {
                return new PEAR_Error(sprintf('Got a bad frame header length of %d bytes from server', $length));
            } else {

                //'|'.fread($this->socket, ($length - 4)).'|'; //not sure why, but this fixed some part here..
                //return '<'.fread($this->socket, ($length));
                return fread($this->socket, ($length));
            }
        }
    }

    function sendFrame($xml) {
        fwrite($this->socket, pack('N', (strlen($xml)+4)).$xml);
    }

    function request($xml) {
        $this->sendFrame($xml);
        return $this->getFrame();
    }

    function disconnect() {
        return @fclose($this->socket);
    }

}

?> 
```

我遇到了一个问题，我将从这一行中获取内存泄漏

```
return fread($this->socket, ($length)); 
```

你能告诉我这条线有什么问题吗

```
if(!$this->socket = @stream_socket_client($target, $errno, $errstr, $timeout, STREAM_CLIENT_CONNECT, $context)) 
```

我搜索`stream_socket_client()`了服务器未关闭打开的连接的问题，套接字将保留来自服务器的数据。有什么解决办法吗？另一位软件工程师替换了这条线

```
return fread($this->socket, ($length)); 
```

到下面的代码。他们说他们不知道为什么会发生这个错误。

```
'|'.fread($this->socket, ($length - 4)).'|';
return '<'.fread($this->socket, ($length)); 
```

我想知道它是否有任何替代解决方案？

# javascript - insertBefore 不起作用

> ID：12470026
> 
> 赞同：0
> 
> 时间：2012-09-18T03:33:36.110
> 
> 标签：javascript

我正在使用此代码尝试在另一个元素之前添加新内容：

```
 var form = document.getElementsByClassName('commentresponse')[0],
     newcomment = '<div><span></span><span><p class="author">'+author+'</p><p class="content">'+comment+'</p></span></div>' ;
 form.insertBefore(newcomment, form); 
```

2 vars 工作正常并返回我所期望的。但是 Chrome 给了我这个错误：`Uncaught Error: NOT_FOUND_ERR: DOM Exception 8`

不知何故， insertBefore 行阻塞了代码。我究竟做错了什么？

谢谢你们的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T03:36:58.070

`insertBefore`接受一个 DOM 节点，而不是 HTML。

改为这样做：

```
var form = document.getElementsByClassName('commentresponse')[0],
    newcomment = document.createElement('div');
newcomment.innerHTML = '<span></span><span><p class="author">'+author+'</p><p class="content">'+comment+'</p></span>';
form.parentNode.insertBefore(newcomment, form); 
```

您将希望将`author`and转义`comment`为包含`'<'`,的字符串`'>'`，并且`'&'`会搞砸。

为了完整起见，以下是您可以完全使用 DOM 节点的方法（不使用`innerHTML`-- 尽管在现代网络上做这样的事情似乎是一种失传的艺术）：

```
var form = document.getElementsByClassName('commentresponse')[0],
    newcomment = document.createElement('div'),
    el, el2;
newcomment.appendChild(document.creatElement('span'));
el = document.createElement('span');
el2 = document.createElement('p');
el2.className = 'author';
el2.appendChild(document.createTextNode(author));
el.appendChild(el2);
el2 = document.createElement('p');
el2.className = 'content';
el2.appendChild(document.createTextNode(content));
el.appendChild(el2);
newcomment.appendChild(el);
form.parentNode.insertBefore(el, form); 
```

这种方式不需要转义，因为`author`和`content`被显式添加为文本节点。

# ruby-on-rails - 如何让图像以格式显示：radio，：collection？

> ID：12470028
> 
> 赞同：0
> 
> 时间：2012-09-18T03:33:53.850
> 
> 标签：ruby-on-rails, radio-button, formtastic

我无法使用单选按钮以 Formtastic 形式显示图像。这是我的表格。:activity_id, :as => 收音机是问题所在：

```
<%= semantic_form_for @event do |f| %>
  <%= f.inputs do %>
    <%= f.input :date, :as => :string, :input_html => { :class => 'jquery-ui-date'} %>
    <%= f.input :date, :as => :hidden, :input_html => { :id => 'date-alt'} %>
    <%= f.input :activity_id, :as => :radio, :collection => Activity.all %>
  <% end %>
  <%= f.actions do %>
    <%= f.action :submit, :as => :button %>
    <%= f.action :cancel, :as => :link %>
  <% end %>
<% end %> 
```

就显示单选按钮、活动名称和在提交时正确保存而言，这工作得很好。但是我需要展示与活动相关的图像，因为我的大多数用户无法阅读并且必须依赖图像和 TTS。我的其他视图中显示了图像。

我已经尝试了几十种组合：hint、:wrapper_html 和 image_tag 等等。如此多的变化我已经在大脑中变得混乱。

示例尝试：

```
<%= f.input :activity_id, :as => :radio, :collection => Activity.all, :hint => f.template.image_tag(f.object.image_url(:thumb)) %> 
```

这给了我一个“未定义的方法`image_url'”错误。然而，这 :hint 在其他地方工作得很好。

如果有帮助，我将切换回标准 html.erb 视图，但我的问题是我无法解决的“stringify_keys”错误。

一定有办法的。请？非常感谢。. .

# git - 如何提交无更改和新消息？

> ID：12470029
> 
> 赞同：186
> 
> 时间：2012-09-18T03:33:57.637
> 
> 标签：git, commit

如果没有对文件进行更改，我如何`commit`创建新消息并创建新消息？

这是不可能的，因为提交的代码（SHA？）将是相同的？

* * *

## 回答 #1

> 赞同：228
> 
> 时间：2012-09-18T03:38:07.303

这样做很少有充分的理由，但该参数`--allow-empty`用于空提交（没有文件更改），与`--allow-empty-message`空提交消息相反。您还可以通过键入`git help commit`或访问[在线文档](http://www.kernel.org/pub/software/scm/git/docs/git-commit.html)来阅读更多内容。

虽然树对象（有自己的哈希）是相同的，但提交实际上会有不同的哈希，因为它可能有不同的时间戳和消息，并且肯定会有不同的父提交。所有这三个因素都集成到`git`的对象哈希算法中。

* * *

有*几个*原因你可能想要一个空的提交（包含一些评论）：

*   作为“声明性提交”，添加旁白或文档（通过[DavidNeiss](https://stackoverflow.com/users/640243/davidneiss)），包括关于通过测试或 lint 的事后数据（通过[Robert Balicki](https://stackoverflow.com/users/2338813/robert-balicki)）。
*   `git`在不产生任意更改的情况下测试命令（通过[Vaelus](https://stackoverflow.com/users/2640937/vaelus)）。
*   `gitolite`使用（通过[Tatsh](https://stackoverflow.com/users/374110/tatsh) ）重新创建已删除的裸存储库。
*   任意创建一个新的提交，例如重新触发构建工具（通过[mattLummus](https://stackoverflow.com/users/3287927/mattlummus)）或为了个人日志记录或指标（通过[DynamiteReed](https://stackoverflow.com/users/457586/dynamitereed)）。但是，请三思：根据您的分支/合并结构，提交可能会持续很长时间，因此“不提交任何内容”策略可能会无意中用临时工作流工件污染团队的存储库，并且难以将代码修订与昙花一现。

将元数据添加到提交树的其他策略包括：

*   单独的分支或轻量级标签始终指向特定状态的提交（例如“最后接受的提交”或“当前暂存提交”）。
*   [带注释的标签](https://git-scm.com/book/en/v2/Git-Basics-Tagging)，用于记录时间戳、提交者和消息，指向现有提交，而无需在提交树本身中添加条目。
*   [`git notes`](http://git-scm.com/docs/git-notes)在现有的不可变提交之上关联可变注释。

* * *

## 回答 #2

> 赞同：69
> 
> 时间：2017-11-06T15:36:35.613

带有消息的空提交

```
git commit --allow-empty -m "Empty test commit" 
```

带有空消息的空提交

```
git commit --allow-empty --allow-empty-message 
```

* * *

## 回答 #3

> 赞同：53
> 
> 时间：2012-09-18T03:38:21.307

如果我理解正确，您想进行空提交。在这种情况下，您需要：

```
git commit --allow-empty 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-09-18T09:06:38.510

也许作为更明智的选择，您可以创建一个带[注释的标签](https://git-scm.com/book/en/v2/Git-Basics-Tagging)（带有消息的命名提交）。查看`git tag -a`选项。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-04-28T17:13:49.100

如果你使用的是像[gitversion](https://github.com/GitTools/GitVersion)这样的系统，那么做这种提交是很有意义的。您可以有一个专门用于使用 +semver: 主要注释来提升主要版本的提交。

# sql - 如何使用 where 条件从 7 个以上的表中获取字段值

> ID：12470031
> 
> 赞同：-1
> 
> 时间：2012-09-18T03:34:37.500
> 
> 标签：sql

我有一个平面文件，其中包含一个手机号码列表及其活动或非活动状态。所以我的工作是编写一个 SQL 查询，这样我需要为特定的 msisdn 获取 7 个表的列表，我必须得到msisdn 的状态。所以任何建议如何写。

我不能使用连接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:03:40.170

第 1 步：执行[BULK INSERT 以加载文本文件](http://www.sqlteam.com/article/using-bulk-insert-to-load-a-text-file)

第 2 步：从特定表的所有表中获取记录`msisdn`

第 3 步：在第 1 步和第 2 步之间加入特定的`msisdn`

**伪代码**

```
CREATE TABLE TempTable
(
 MSISDN INT,
 MobileNumber VARCHAR (50) NOT NULL,
 TheStatus varchar (10) NOT NULL
)

--Step 1: 
BULK INSERT TempTable FROM 'D:\InputMobileNumbers.txt' WITH (FIELDTERMINATOR = '","') 

-- Step 2:
INSERT INTO #TEMP 
SELECT * FROM 
(
SELECT MSISDN,MobileNumber FROM Table1 WHERE MSISDN = @MSISDN UNION All
SELECT MSISDN,MobileNumber FROM Table2 WHERE MSISDN = @MSISDN UNION All
.............................................................................
.............................................................................
SELECT MSISDN,MobileNumber FROM Table7 WHERE MSISDN = @MSISDN UNION All
)X

-- Step 3
SELECT tt.MSISDN,tt.MobileNumber,tt.TheStatus
FROM TempTable tt
JOIN #TEMP t ON tt.MSISDN = t.MSISDN
WHERE tt.MSISDN = @MSISDN

DROP TABLE #TEMP
DROP TABLE TempTable 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T03:37:41.050

也许你会使用`UNION`这个。

```
SELECT *
FROM
(
    SELECT mobileNo, moileStatus FROM table1
    UNION 
    SELECT mobileNo, moileStatus FROM table2
    UNION 
    SELECT mobileNo, moileStatus FROM table3
    UNION 
    SELECT mobileNo, moileStatus FROM table4
    UNION 
    SELECT mobileNo, moileStatus FROM table5
    UNION
    SELECT mobileNo, moileStatus FROM table6
    UNION 
    SELECT mobileNo, moileStatus FROM table7
) allMobile
WHERE allMobile.mobileNo = '' 
      -- OR something like that 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T04:23:46.210

```
select t1.column1,t1.column2,...,t2.column4,..
from table1 t1 
left outer join table2 t2 on t1.column1=t2.column3
left outer join table2 t3 on t2.column1=t3.column2
.....
where t1.active=1 and t2.column2>0 ....
order by t1.column1,..... 
```

# google-tv - 谷歌电视模拟器邮政编码字段已禁用

> ID：12470032
> 
> 赞同：0
> 
> 时间：2012-09-18T03:34:44.903
> 
> 标签：google-tv

我正在尝试在 googletv 开发网站上运行[ChannelChanging 示例](https://developers.google.com/tv/android/docs/gtv_demo_samples#ChannelChanging)，它正在返回并清空频道列表。我继续尝试在模拟器的视频输入设置中配置模拟器视频源，但它现在允许我输入邮政编码。该字段似乎已禁用。有没有人遇到过这个问题？我在配置了 kvm 的 ubuntu 64 位安装上运行 x86 模拟器。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T20:22:37.527

当前版本的模拟器确实有一些错误，但它们在即将发布的版本中得到修复。很快就会有一个新的模拟器版本来解决这个问题和其他问题。

# asp.net - 如何在 ASP.NET 中有效地使用 Web 用户控件

> ID：12470034
> 
> 赞同：0
> 
> 时间：2012-09-18T03:34:46.637
> 
> 标签：asp.net, user-controls, ascx

目前，我在单个 aspx 页面上放置了 7 个用户控件，其中一些创建为菜单、页脚或页眉等。

我只是想知道始终利用 Web 用户控件来分隔不同的页面组件是否是一种好习惯。如果在 aspx 页面上使用相对大量的控件，是否会对性能产生任何实际影响，例如页面加载或服务器响应等？

我还注意到这`@ OutputCache`是一个缓存用户控件的选项，那么为页眉、页脚和那些类型的用户控件应用 @OutputCache 是个好主意吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T03:38:35.737

> 过早的优化是万恶之源
> 
> - 唐纳德·克努斯。

不要使用输出缓存或任何其他形式的优化，除非您从分析中获得证据表明您需要使用它。输出缓存实际上更多是为了防止需要为经常访问的非个性化网页（如高流量首页）访问数据库后端。

使用 UserControls 在性能方面没有任何本质上的错误 - 一切都在幕后编译成一个高性能程序集，该程序集直接通过输出缓冲区写入器返回文本。使用控件的唯一“成本”是对函数的额外 vtable 调用`Render`，以及每个控件的状态在内存中使用的额外字节。即它可以忽略不计。

在页面的生命周期中，使用时间最多的步骤总是访问数据库或外部 Web 服务。渲染一个完整的页面大约需要一毫秒或更短的时间。如果您不相信我，请启用输出跟踪。

也就是说，我质疑您为什么将 UserControls 用于常见的站点区域，例如页眉和页脚 - 这就是 MasterPages 的用途。

# c++ - 当我尝试将一对插入地图时 Qt 程序段错误

> ID：12470039
> 
> 赞同：0
> 
> 时间：2012-09-18T03:35:51.063
> 
> 标签：c++, map, qt4, segmentation-fault

我正在开发我的第一个 Qt 应用程序，实际上是小部件，当我尝试用一`<int, QString>`​​对填充标准库映射时出现段错误。我的目标是用 int 键和 QString 值填充地图。我不知道pair是否是最好的方法，所以任何建议都会很棒。

这是除主文件之外的唯一源文件。

```
#include "linuxtips.h"
#include "ui_linuxtips.h"

LinuxTips::LinuxTips(QWidget *parent) :
  QWidget(parent),
  ui(new Ui::LinuxTips)
{
  loadRandTip();
  ui->setupUi(this);
}

LinuxTips::~LinuxTips()
{
  delete ui;
}

void LinuxTips::on_learnMore_clicked()
{

}

void LinuxTips::on_viewAll_clicked()
{

}

void LinuxTips::loadRandTip()
{
  int i = 0;
  std::map<int, QString>::iterator it;

  QString line;
  QFile inputFile(":/tipFile.txt");
  inputFile.open(QIODevice::ReadOnly);

  QTextStream in(&inputFile);
  do{
    line = in.readLine();
  //  this->TipMap.insert(it, std::pair<int, QString >(i,line));
    i++;
  }while(!in.atEnd());
} 
```

如果我取消注释`this->TipMap.insert(it, std::pair<int, QString >(i,line));`，那么它将运行。由于这是一个段错误，我确定它是内存溢出或空指针，但我不确定它是什么。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T03:44:35.770

我将假设您的崩溃是由于以下几行：

```
std::map<int, QString>::iterator it;
this->TipMap.insert(it, std::pair<int, QString >(i,line)); 
```

您正在尝试使用无效（未初始化）迭代器插入地图。您是在调试还是发布中运行它？你应该在调试中得到一个断言。

# asp.net - W3C 验证器错误

> ID：12470041
> 
> 赞同：0
> 
> 时间：2012-09-18T03:36:04.233
> 
> 标签：asp.net, html, image, xhtml, w3c-validation

当我使用 W3c 验证器检查我的网站时，它显示

**“未指定所需的属性“alt””** 以及

**" 上面给出的属性对于您使用过的元素是必需的，但您已经省略了它。例如，在大多数 HTML 和 XHTML 文档类型中，“script”元素和“alt”元素都需要“type”属性“img”元素需要属性。type 的典型值是 type="text/css" for 和 type="text/javascript" for 。"**

我该如何解决这个问题？

截屏：

![在此处输入图像描述](../Images/a835f361cee6b342544950f693f2c636.png)

这是我的编码：

```
protected string GetImageStyle(ImageStub image)
    {
        if (!image.ImageID.IsNull)
        {
            image = image.ScaleOptimalWidth(75, 75);
            return String.Format("width:75px;height:75px;align='left';-moz-border-radius: 6px;-webkit-border-radius: 6px;border-radius: 6px; padding-left: 2px;alt='img';");
        }

        return "width:75px;height:75px;align='left';alt='img'";
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T03:41:44.007

为您的标签添加`alt`属性。`<img />`

# c - 线程池销毁线程的问题

> ID：12470045
> 
> 赞同：1
> 
> 时间：2012-09-18T03:36:17.673
> 
> 标签：c, linux, pthreads, threadpool

我在Linux环境下使用C编程语言实现了一个线程池。有一个阻塞任务队列，我们​​可以把任务放到任务队列中，线程池中的线程从任务队列中获取任务，如果任务队列为空，它缠绕块等待表示任务队列不为空的条件信号。线程池中的线程运行的函数是：

```
 static void *do_worker(void *arg)
    {
        printf("new thread %d\n", pthread_self());
        ThreadPool *pool = (ThreadPool *)arg;
        while (1) {
           printf("thread %d try to get new task\n", pthread_self());
           Task task;
           //printf("before get_task\n");
           task = get_task(&pool->task_queue);
           printf("thread %d get_task\n", pthread_self());
           if (task.ftn == NULL ) {
               break;
           }
           task.ftn(task.arg);
           //printf("finish new task\n");
           //printf("I'm thread %d\n", pthread_self());
        }
        printf("thread %d exit\n", pthread_self());
        pthread_exit(NULL);
    } 
```

当我将普通任务添加到队列时似乎很好，但是当我尝试使用毒任务破坏线程池时，就像这样：

```
 void destroy_threadpool(ThreadPool *pool)
    {
     int i;
     /* put poison to let the threads exit */
     for (i = 0; i < pool->t_cnt; i++) {
         Task null_task;
         null_task.ftn = NULL;
         null_task.arg = NULL;
         printf("insert poison task\n");
         insert_task(pool, null_task);
     }

     for (i = 0; i < pool->t_cnt; i++) {
         pthread_join(pool->tids[i], NULL);
     }
    } 
```

它不起作用。当我测试这个实现时，我首先让线程池中的线程在等待非空条件时阻塞，然后调用destroy_threadpool函数。但是，有的线程可以退出，有的不能，仍然阻塞在等待条件中，导致主线程在pthread_join中阻塞。什么是问题？

get_task 和 put_task 的代码是：

```
 Task get_task(TaskQueue *queue)
    {
     Task task;

     pthread_mutex_lock(&queue->mutex);

     while (queue->front == queue->back) {

         printf("thread %d blocks!\n", pthread_self());
         pthread_cond_wait(&queue->no_empty, &queue->mutex);

     }

     /* get the front task in the queue */
     memcpy(&task, &queue->tasks[queue->front], sizeof(Task));
     if (++queue->front == MAXTASK) {
         queue->front = 0;
     }
     pthread_cond_signal(&queue->no_full);
     pthread_mutex_unlock(&queue->mutex);

     return task;
    }

    void put_task(TaskQueue *queue, Task task)
    {
     pthread_mutex_lock(&queue->mutex);

     while (((queue->back + 1) == queue->front) || (queue->back - queue->front == MAXTASK - 1)) {
         pthread_cond_wait(&queue->no_full, &queue->mutex);
     }

     memcpy(&queue->tasks[queue->back], &task, sizeof(task));
     if (++queue->back == MAXTASK) {
         queue->back = 0;
     }

     pthread_cond_signal(&queue->no_empty);

     pthread_mutex_unlock(&queue->mutex);

    } 
```

ThreadPool和TaskQueue的定义是：

```
 typedef struct {
        void *(*ftn)(void *arg);
        void *arg;
    } Task;

    typedef struct {
        Task tasks[MAXTASK];
        int front;
        int back;
        pthread_mutex_t mutex;
        pthread_cond_t no_empty;
        pthread_cond_t no_full;
    } TaskQueue;

    typedef struct {
        pthread_t tids[MAXTHREAD];
        int t_cnt;
        TaskQueue task_queue;
    } ThreadPool; 
```

# javascript - 更改背景图像的javascript函数

> ID：12470046
> 
> 赞同：0
> 
> 时间：2012-09-18T03:36:46.263
> 
> 标签：javascript, css, select, element, onchange

我正在尝试编写一个 js 函数来更改由 select 元素的 onchange() 函数触发的一类 html 元素的背景图像，但我似乎无法让它工作。这是我的js函数...

```
 function changePic() {
    var square = document.getElementByClass("square");
    var selectBox = document.getElementById("selectBox");
    var selectedItem = selectBox.options[selectBox.selectedIndex].value;
    square.style.backgroundImage = url(value);
} 
```

...我的 CSS 课...

```
.square{
    border:2px solid black;
    position:absolute;
    width:100px;
    height:100px;
    cursor:pointer;
    background-image:url("house.jpg");
    color:red;
    font-size:32pt;
    font-family:Arial,Helvetica,sans-serif;
    text-align: center;
} 
```

...以及 html 文件的相关部分...

```
 <div id="puzzle_container">
    <div class="square" id="puzzletile0"><p>1</p></div>
    <div class="square" id="puzzletile1"><p>2</p></div>
    <div class="square" id="puzzletile2"><p>3</p></div>
    <div class="square" id="puzzletile3"><p>4</p></div>
    <div class="square" id="puzzletile4"><p>5</p></div>
    <div class="square" id="puzzletile5"><p>6</p></div>
    <div class="square" id="puzzletile6"><p>7</p></div>
    <div class="square" id="puzzletile7"><p>8</p></div>
    <div class="square" id="puzzletile8"><p>9</p></div>
    <div class="square" id="puzzletile9"><p>10</p></div>
    <div class="square" id="puzzletile10"><p>11</p></div>
    <div class="square" id="puzzletile11"><p>12</p></div>
    <div class="square" id="puzzletile12"><p>13</p></div>
    <div class="square" id="puzzletile13"><p>14</p></div>
    <div class="square" id="puzzletile14"><p>15</p></div>
    <div class="square" id="puzzletile15"><p></p></div>
</div>
<input class = "button1" type="button" value = "Reset" onclick = "reset()" />
<input class = "button2" type="button" value = "Shuffle" onclick = "shuffle()" />
<br/>
<div id="picselect">
    Select an option to change background image
    <select id="selectBox" onchange="changePic();">
        <option value="Forest.jpg">Forest</option>
        <option value="House.jpg">House</option>
        <option value="Night.jpg">Night</option>
        <option value="City.jpg">City</option>
    </select>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T04:16:18.773

在脚本中进行以下更改，

```
 function changePic() {
        var square = document.getElementsByClassName("square");//had invalid markup
        var selectBox = document.getElementById("selectBox");
        var selectedItem = selectBox.options[selectBox.selectedIndex].value;
        square[0].style.backgroundImage  = "url("+selectedItem+")";//url should be inside quotes,added first element of the array
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T03:50:04.263

在您`changePic()`进行以下更正`var square = document.getElementsByClassName("square");` 时，这将返回一个包含所有具有 css 类的元素的数组，`square`并且作为一个数组，您还需要更改它以`square[0].style.backgroundImage = selectBox.value;` 更改具有此类的所有元素，您需要遍历数组希望能帮助到你 ：）

# ruby-on-rails-3 - Radiant 现在支持 Rails 3 吗？

> ID：12470048
> 
> 赞同：0
> 
> 时间：2012-09-18T03:36:57.693
> 
> 标签：ruby-on-rails-3, radiant

我`gem install radiant`以前安装radiant，发现不支持Rails 3。但是，我发现Github上Radiant的源代码中有一个名为“GemfileRails3”的文件，不知道为什么。Radiant真的不支持Rails3吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-24T21:23:08.847

Radiant 目前仍然不支持 Rails 3。已经为此做了很多工作，但是该项目缺乏动力，因此很难说何时可以发布。

# mod-security - 国防部安全响应/请求正文大小？

> ID：12470051
> 
> 赞同：6
> 
> 时间：2012-09-18T03:37:38.333
> 
> 标签：mod-security

如何在 Mod Security 中获取响应/请求正文的大小？

例如，我不断收到此错误：

```
[Mon Sep 17 23:34:38 2012] [error] [client 192.168.1.1] ModSecurity: Output filter: Response body too large (over limit of 1000, total not specified). [hostname "example.com"] [uri "/index.php"] [unique_id "asdf"] 
```

它没有告诉我总数；我怎样才能算出总数？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-18T03:44:33.910

看看[`SecResponseBodyLimit`文档](http://www.modsecurity.org/documentation/modsecurity-apache/2.1.0/html-multipage/03-configuration-directives.html)：

> **SecResponseBodyLimit**
> 
> 描述：配置将被接受用于缓冲的最大响应正文大小。
> 
> 语法：SecResponseBodyLimit NUMBER_IN_BYTES
> 
> 示例用法：SecResponseBodyLimit 524228
> 
> 处理阶段：不适用
> 
> 范围：任何
> 
> 依赖项/注释：超过此限制的任何内容都将被拒绝，状态码为 500 内部服务器错误。此设置不会影响未标记为缓冲的 MIME 类型的响应。硬限制为 1 GB。
> 
> 默认情况下，此限制配置为 512 KB：
> 
> `# Buffer response bodies of up to 512 KB in length`
> `SecResponseBodyLimit 524288`

出于某种原因，您将其设置为“1000”并且`/index.php`的输出大于 1000 字节。

# python - Django 验证（）和登录（）

> ID：12470054
> 
> 赞同：0
> 
> 时间：2012-09-18T03:38:00.433
> 
> 标签：python, django, authentication, django-registration

我正在尝试使用 login() 和 authenticate() 方法在 Django 中对用户进行身份验证。完成后，我重定向到经过身份验证的登录页面。当我尝试访问 request.user 对象时，我总是得到匿名使用对象，即使我正在正常验证用户。知道为什么吗？这是 login.FYI 的代码，我正在使用 Django 注册。并在 DB 中创建用户（连同他们的用户名和密码）。

```
def login_my_user(request):
    name = request.POST.get('username', '')
    pwd = request.POST.get('password', '')
    user = authenticate(username=name, password=pwd)
    if user is not None:
        if user.is_active:
            login(request, user)
            #redirect to authenticated page 
```

Settings.py 文件信息

```
# Middleware Settings

MIDDLEWARE_CLASSES = (
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
)

# apps

INSTALLED_APPS = (
    'django.contrib.contenttypes',
    'django.contrib.staticfiles',
    'django.contrib.sessions',
    'django.contrib.auth',
    'test'
)

#Template
TEMPLATE_LOADERS = (
    'django.template.loaders.filesystem.Loader',
    'django.template.loaders.app_directories.Loader',
)
TEMPLATE_DIRS = (
    PROJECT_DIR + "/templates",
)
TEMPLATE_CONTEXT_PROCESSORS = (
    'django.contrib.auth.context_processors.auth',
    'django.core.context_processors.debug',
    'django.core.context_processors.i18n',
    'django.core.context_processors.media',
    'django.core.context_processors.static',
    'django.contrib.auth.context_processors.auth',
) 
```

检查用户某些仪表板的用户凭据

```
def user_dashboard(request):
    user = request.user
    print user 
```

现在这里给出了 AnonymousUser 问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:41:17.167

你`AUTHENTICATION_BACKENDS`用什么？

如果您不知道，请在您的`settings.py`:

```
AUTHENTICATION_BACKENDS = ('django.contrib.auth.backends.ModelBackend',) 
```

# jquery - 使用 jQuery 监听复选框的多个值

> ID：12470058
> 
> 赞同：0
> 
> 时间：2012-09-18T03:38:23.483
> 
> 标签：jquery

我有一个 jQuery 挂钩，它侦听名称`wantProdTy`为“Mobile”或“Broadband”的复选框。我该怎么写这个？

值为“移动”的复选框：

```
$('input[type="checkbox"][name="wantProdTy"][value="Mobile"]').change(function() {
    // do something
} 
```

**编辑** 接受的答案：

```
$('input[type="checkbox"][name="wantProdTy"]').filter(function(){
        return /(Mobile|Broadband)/i.test(this.value);
    }).change(function() {
        <% // check that the checkbox is checked %>
        if($(this).is(':checked')) {
            <% // check that mobile or broadband has not reached the maximum limit %>
            maximumServiceLimitListener();
        }
    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T03:47:31.040

你可以使用`filter`：

```
$('input[name=wantProdTy]').filter(function(){
  return /(mobile|broadband)/i.test(this.value);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T04:02:51.613

在一组复选框上放一个类，然后听：

```
$(".myCheckboxClass").change(function(){
    // do something
}); 
```

# java - JAVA：IO 异常：原因流已关闭

> ID：12470059
> 
> 赞同：2
> 
> 时间：2012-09-18T03:38:35.110
> 
> 标签：java, file, io, filewriter, bufferedwriter

为什么我会收到以下异常？我正在做的是逐行将一个巨大的 ArrayList 写入磁盘上的文件。生成的文件大约 >700MB。逐行编写时似乎有一些问题。文件的大小可能是一个原因吗？为什么要关闭流？顺便说一句，我正在使用 Windows 操作系统。

```
FileWriter evaluated_result = 
    new FileWriter(path_output+this.algorithm+"/"+query_type+"/"+"queries.eval");
BufferedWriter out = new BufferedWriter(evaluated_result);
out.write(Myobject);
out.newLine();
evaluated_result.close();
out.close(); 
```

例外情况如下：

```
java.io.IOException: Stream closed
    at sun.nio.cs.StreamEncoder.ensureOpen(StreamEncoder.java:45)
    at sun.nio.cs.StreamEncoder.write(StreamEncoder.java:118)
    at java.io.OutputStreamWriter.write(OutputStreamWriter.java:207)
    at java.io.BufferedWriter.flushBuffer(BufferedWriter.java:129)
    at java.io.BufferedWriter.close(BufferedWriter.java:264)
    at Assignment_1.Query_Evaluator.write100BestDocumentsEvalFormat(Query_Evaluator.java:85)
    at Assignment_1.Experiment.ConductExperiment(Experiment.java:54)
    at Assignment_1.Main.main(Main.java:78) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T03:43:25.780

您应该`BufferedWriter` *在*关闭`FileWriter`.

而且，结束电话应该在 finally 块中。这是一种方法（最后一种）：

```
FileWriter evaluated_result = new FileWriter(path_output+this.algorithm+"/"+query_type+"/"+"queries.eval");
BufferedWriter out = new BufferedWriter(evaluated_result);
try {
  out.write(Myobject);
  out.newLine();
}
finally {
  if (out != null) out.close();
  if (evaluated_result != null) evaluated_result.close();
} 
```

（[在这里](https://stackoverflow.com/questions/884007/best-way-to-close-nested-streams-in-java)查看更多选项）

另请注意，正如@oldrinb 所述，您不必关闭嵌套流。但我认为无论如何这是一个很好的做法。

在 Java 7 中，您可以使用[try-with-resources](http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)语句。

# lighttpd - 使用 Lighttpd mod_proxy 代理子文件夹

> ID：12470062
> 
> 赞同：4
> 
> 时间：2012-09-18T03:38:41.540
> 
> 标签：lighttpd, mod-proxy

我在让 mod_proxy 正确地将流量转发到在同一台机器上为预定义子文件夹运行的不同网络服务器时遇到问题。理想情况下，domain.com/docs 应该转发到 127.0.0.1:3000，所有其他流量都应该保留在 domain.com 上。此处的重写规则适用于在 domain.com 上运行的 wordpress 安装：

```
$HTTP["host"] =~ "(^|\.)domain\.com" {
 $HTTP["url"] =~ "^/docs" {
  proxy.server  = ( "" => (( "host" => "127.0.0.1", "port" => 3000 )))
 } 
 $HTTP["url"] !~ "^/docs/(.*)" {
  url.rewrite = (
   "^/(.*)\.(.+)$" => "$0",
   "^/wp/(.*)$" => "$0",
   "^/(.+)/?$" => "/index.php/$1"
  )
  server.document-root = "/mnt/webroot/html"
 }
} 
```

我已经有一段时间反对这个了，所以欢迎任何建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-25T19:15:20.483

我最终找出了导致它无法像我预期的那样工作的问题。

lighttpd 的 rewrite mod 的工作方式是在评估 $HTTP["url"] 条件之前评估所有 url.rewrite 命令，这意味着放置在 $HTTP["url"] 条件中的任何 url.rewrite 命令都将无效.

由于此限制，我无法为我正在寻找的实现找到一个好的解决方案，而是最终将一些重写向下游推送到我正在代理流量的另一台服务器（在本例中为节点）。

[这在 lighttpd 的ModRewrite](http://redmine.lighttpd.net/projects/1/wiki/Docs_ModRewrite)文档中用这一行粗略地引用：

```
NOTE: url rewriting does not work within a $HTTP["url"] conditional. 
```

# android - 如何自动移动到android中的下一个编辑文本

> ID：12470067
> 
> 赞同：40
> 
> 时间：2012-09-18T03:39:28.573
> 
> 标签：android

我在一行上有几个编辑文本框。在用户在第一个输入特定数量的字符后，我想自动移动到下一个编辑文本。我如何实现这一目标？

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2012-09-18T04:20:32.823

您可以通过使用`Text Watcher`该类来实现这一点，然后将焦点设置在TextWatcher`EditText`的方法中的 next 上。`OnTextChanged()`

在您的情况下，因为您有两个编辑文本，所以说`et1`和`et2`。您可以尝试以下代码：-

```
et1.addTextChangedListener(new TextWatcher() {

    public void onTextChanged(CharSequence s, int start,int before, int count) 
    {
        // TODO Auto-generated method stub
        if(et1.getText().toString().length()==size)     //size as per your requirement
        {
            et2.requestFocus();
        }
    }
    public void beforeTextChanged(CharSequence s, int start,
                    int count, int after) {
                // TODO Auto-generated method stub

    }

    public void afterTextChanged(Editable s) {
                // TODO Auto-generated method stub
    }

}); 
```

我自己没有检查过代码，但我希望这能帮助您解决问题。

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2017-01-29T18:46:02.430

有一种更简单的方法可以做到这一点，它不涉及 EditText 视图的 id 知识。用于 android:maxLength="1"。

```
// onTextChanged
@Override
public void onTextChanged(CharSequence s, int start, int before, int count)
{
    TextView text = (TextView)getCurrentFocus();

    if (text != null && text.length() > 0)
    {
        View next = text.focusSearch(View.FOCUS_RIGHT); // or FOCUS_FORWARD
        if (next != null)
            next.requestFocus();

        doSearch(); // Or whatever
    }
}

// afterTextChanged
@Override
public void afterTextChanged(Editable s) {}

// beforeTextChanged
@Override
public void beforeTextChanged(CharSequence s, int start,
                              int count, int after) {} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2017-04-20T03:29:24.027

接受的答案很好。

如果您使用 RxJava + RxBinding 库，我会提供新方法。

编码表示 4 输入编辑文本需要验证（我的情况是通过电话激活代码短信 - 电话验证）

```
// Show button Active code when enough fields active code
    Observable<Boolean> mObsPhoneVerify1 = RxTextView.textChanges(db.etPhoneVerify1)
            .observeOn(AndroidSchedulers.mainThread())
            .map(charSequence -> {
                        db.etPhoneVerify2.requestFocus();
                        return charSequence != null && !charSequence.toString().equals("");
                    }
            );
    Observable<Boolean> mObsPhoneVerify2 = RxTextView.textChanges(db.etPhoneVerify2)
            .observeOn(AndroidSchedulers.mainThread())
            .map(charSequence -> {
                db.etPhoneVerify3.requestFocus();
                return charSequence != null && !charSequence.toString().equals("");
            });
    Observable<Boolean> mObsPhoneVerify3 = RxTextView.textChanges(db.etPhoneVerify3)
            .observeOn(AndroidSchedulers.mainThread())
            .map(charSequence -> {
                db.etPhoneVerify4.requestFocus();
                return charSequence != null && !charSequence.toString().equals("");
            });
    Observable<Boolean> mObsPhoneVerify4 = RxTextView.textChanges(db.etPhoneVerify4)
            .observeOn(AndroidSchedulers.mainThread())
            .map(charSequence -> {
                db.etPhoneVerify1.requestFocus();

                hideKeyboard();
                return charSequence != null && !charSequence.toString().equals("");
            });

    disposable = Observable
            .combineLatest(mObsPhoneVerify1, mObsPhoneVerify2, mObsPhoneVerify3, mObsPhoneVerify4,
                    (PhoneVerify1, PhoneVerify2, PhoneVerify3, PhoneVerify4)
                            -> PhoneVerify1 && PhoneVerify2 && PhoneVerify3 && PhoneVerify4)
            .compose(regisObserver(false))
            .subscribe(aBoolean -> {
                db.btnActiveCode.setEnabled(aBoolean);
            });
    busDisposables.add(disposable); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-08-25T23:17:03.783

如果您有一个要转移焦点的 TextView 列表（例如获取 OTP 输入），那么以下代码将有助于以更少的行数实现它

```
TextView otp1 = (TextView) root.findViewById(R.id.edit_verify_otp1);
TextView otp2 = (TextView) root.findViewById(R.id.edit_verify_otp2);
TextView otp3 = (TextView) root.findViewById(R.id.edit_verify_otp3);
TextView otp4 = (TextView) root.findViewById(R.id.edit_verify_otp4);

/* Assign the TextViews in the array in the order in which you want to shift focus */
TextView[] otpTextViews = {otp1, otp2, otp3, otp4}; 

    for (TextView currTextView : otpTextViews) {
        currTextView.addTextChangedListener(new TextWatcher() {
            @Override
            public void beforeTextChanged(CharSequence s, int start, int count, int after) {
            }

            @Override
            public void onTextChanged(CharSequence s, int start, int before, int count) {
                nextTextView().requestFocus();
            }

            @Override
            public void afterTextChanged(Editable s) {
            }

            public TextView nextTextView() {
                int i;
                for (i = 0; i < otpTextViews.length - 1; i++) {
                    if (otpTextViews[i] == currTextView)
                        return otpTextViews[i + 1];
                }
                return otpTextViews[i];
            }
        });
    } 
```

# ruby-on-rails - 具有现有设计模型（不是 user.rb）的 RefineryCMS

> ID：12470068
> 
> 赞同：1
> 
> 时间：2012-09-18T03:39:35.337
> 
> 标签：ruby-on-rails, devise, refinerycms

我正在尝试将refinerycms 与我现有的rails 应用程序集成，并且我希望refinery 共享一个名为“员工”而不是“用户”的现有设计模型。这可以做到吗？

本[指南暗示这是可能的](http://refinerycms.com/guides/with-an-existing-rails-31-devise-app)，但没有解释如何。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T01:58:03.160

我可以[使用本教程](http://www.synaptian.com/blog/posts/integrating-refinery-rails-3-2-into-your-existing-rails-app)进行工作。在整个教程中，我基本上将“用户”替换为“员工”并且它有效。

# wordpress - 来自 Apache 服务器上远程机器的错误相对路径

> ID：12470070
> 
> 赞同：1
> 
> 时间：2012-09-18T03:39:47.840
> 
> 标签：wordpress, apache, path, xampp, relative-path

我在 win 7 电脑上安装了最新版本的 xampp 1.8.0。我使用 apache、mysql 和 wordpress 3.4.2

我在 htdocs 上建立了一个新网站，并且在本地运行良好（作为 localhost，192.168.1.10）。但是当我尝试从局域网上的另一台电脑访问 192.168.1.10 我的网站时，它只显示一个没有图像的主页，并且所有路径都链接到本地​​主机而不是 192.168.1.10。

谁能帮我解决这个问题？我的配置有什么运气？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T03:48:48.433

在您的 wordpress 管理仪表板中，确保在**"General Settings"**下，**站点地址 (URL)**和**WordPress 地址 (URL)**都显示为*"192.168.1.10"*而不是 " *localhost"*。

# php - 在 PHP 类中建立变量范围？

> ID：12470071
> 
> 赞同：2
> 
> 时间：2012-09-18T03:40:19.923
> 
> 标签：php, mysql, class, pdo

这是一个非常简单的问题，似乎没有直接在 php.com 上解决 - 至少通过查看该部分。

无论如何，我在这里有一个具有特定功能的类：

```
class CheckOut extends DB_MySQL{

public $fName;
public $lName;
public $numberOut;
public $p_id;

    /.../

    protected function publisherCheck($lName, $fName)
    {
        $this->lName = $lName;
        $this->fName = $fName;

        //Execute test
        $this->checkConnect();
        $stmt = $this->dbh->prepare("SELECT p_id FROM People WHERE lastName = :param1 AND firstName = :param2");
        $stmt->bindParam(':param1', $this->lName);
        $stmt->bindParam(':param2', $this->fName);
        $stmt->execute();

        //Determine value of test
        if($stmt == FALSE)
        {
            return FALSE;
        }
        else
        {
            $p_id = $stmt->fetch();
        }

    } 
```

只需忽略这样一个事实，即没有发布缺少函数等的构造函数。它们在这个类中 - 只是与我的问题无关。

在最后一条语句中设置 $p_id 会影响最初在类头中声明的变量吗？本质上，它会在班级内是全球性的吗？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T03:42:02.707

不，不会。你*总是*需要`$this->`告诉 PHP 你说的是类属性，而不是局部变量。

```
// Always assignment of a local variable.
$p_id = $stmt->fetch();

// Always assignment of a class property.
$this->p_id = $stmt->fetch(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T03:45:05.350

不，这是你函数的局部变量。如果你这样做了`$this->$p_id = 'blah';`，它会影响它。您在类中定义的变量是一个属性，因此必须使用 访问/更改它`$this->....`，而您在函数中拥有的变量只是一个局部变量（您可以通过简单地使用它来玩`$p_id='....'`）。

所以，

```
$this->$p_id = '';//will alter the class property 
```

和

```
$p_id = '';//will alter the local var defined/used in the function 
```

# ios - -lsqlite3 导致 Apple Mach-O 链接器错误

> ID：12470072
> 
> 赞同：1
> 
> 时间：2012-09-18T03:40:25.357
> 
> 标签：ios, xcode, facebook, linker-errors, mach-o

我安装了 Facebook SDK 并遵循他们的教程之一，以便为我的应用程序提供一些非常基本的 FB 功能。该应用程序和 FB 集成似乎工作得很好，所以我认为我在本教程中做得不错。当我尝试存档项目以便我可以在 TestFlight 上进行构建时，由于 15 个链接器错误，我得到了一个失败，看起来像下面的文本（我从应用程序日志中复制了它）。它似乎与 lsqlite3.0 有关，FB tute 说将其添加到“其他链接”下的构建设置中。我不太确定该怎么做才能解决。我能得到一些建议吗？那将是超级棒的，谢谢！以下是错误：

架构 armv7 的未定义符号：“_sqlite3_reset”，引用自：FacebookSDK 中的 _initializeStatement(FBCacheIndex.o) “_sqlite3_prepare_v2”，引用自：FacebookSDK 中的_initializeStatement(FBCacheIndex.o) “_sqlite3_open_v2”，引用自：___36-[FBCacheIndex initWithCacheFolder:] FacebookSDK(FBCacheIndex.o) 中的_block_invoke_0 "_sqlite3_bind_text"，引用自：FacebookSDK(FBCacheIndex.o) 中的-[FBCacheIndex _updateEntryInDatabaseForKey:entry:] -FacebookSDK(FBCacheIndex.o) 中的[FBCacheIndex _writeEntryInDatabase:] -[FBCacheIndex _readEntryFromDatabase:] FacebookSDK(FBCacheIndex.o) -[FBCacheIndex _removeEntryFromDatabaseForKey:] in FacebookSDK(FBCacheIndex.o) "_sqlite3_step"，引用自：-[FBCacheIndex _updateEntryInDatabaseForKey:entry:] 在 FacebookSDK(FBCacheIndex.o) -[FBCacheIndex _writeEntryInDatabase:] 在 FacebookSDK(FBCacheIndex.o) -[FBCacheIndex _readEntryFromDatabase:] 在 FacebookSDK(FBCacheIndex.o) -[FBCacheIndex _fetchCurrentDiskUsage] 在 FacebookSDK(FBCacheIndex .o) -[FBCacheIndex _removeEntryFromDatabaseForKey:] 在 FacebookSDK(FBCacheIndex.o) -[FBCacheIndex _dropTrimmingTable] 在 FacebookSDK(FBCacheIndex.o) -[FBCacheIndex _trimDatabase] 在 FacebookSDK(FBCacheIndex.o) ... "_sqlite3_bind_double"，引用自： -FacebookSDK(FBCacheIndex.o) 中的[FBCacheIndex _updateEntryInDatabaseForKey:entry:] -FacebookSDK(FBCacheIndex.o) 中的[FBCacheIndex _writeEntryInDatabase:] "_sqlite3_bind_int"，引用自：-FacebookSDK(FBCacheIndex.o) 中的[FBCacheIndex _updateEntryInDatabaseForKey:entry:] -FacebookSDK(FBCacheIndex.o) 中的[FBCacheIndex _writeEntryInDatabase:] -FacebookSDK(FBCacheIndex.o) 中的[FBCacheIndex _trimDatabase] “_sqlite3_finalize”，引用自：FacebookSDK 中的_releaseStatement (FBCacheIndex.o) "_sqlite3_column_text"，引用自：-[FBCacheIndex _readEntryFromDatabase:] in FacebookSDK(FBCacheIndex.o) -[FBCacheIndex _trimDatabase] in FacebookSDK(FBCacheIndex.o) "_sqlite3_exec"，引用自：___36-[FBCacheIndex initWithCacheFolder: ]_block_invoke_0 in FacebookSDK(FBCacheIndex.o) "_sqlite3_errmsg"，引用自：FacebookSDK(FBCacheIndex.o) 中的_releaseStatement -[FBCacheIndex _updateEntryInDatabaseForKey:entry:] 在 FacebookSDK(FBCacheIndex.o) 中的 _initializeStatement 在 FacebookSDK(FBCacheIndex.o) -[FBCacheIndex _writeEntryInDatabase:] 在 FacebookSDK(FBCacheIndex.o) -[FBCacheIndex _readEntryFromDatabase:] 在 FacebookSDK(FBCacheIndex.o) -[FBCacheIndex _fetchCurrentDiskUsage] 在 FacebookSDK( FBCacheIndex.o) -[FBCacheIndex _removeEntryFromDatabaseForKey:] in FacebookSDK(FBCacheIndex.o) ... "_sqlite3_column_int"，引用自： -[FBCacheIndex _readEntryFromDatabase:] in FacebookSDK(FBCacheIndex.o) -[FBCacheIndex _fetchCurrentDiskUsage] 在 FacebookSDK(FBCacheIndex. o) -[FBCacheIndex _trimDatabase] in FacebookSDK(FBCacheIndex.o) "_sqlite3_close"，引用自：___23-[FBCacheIndex dealloc]_block_invoke_0 in FacebookSDK(FBCacheIndex.o) "_sqlite3_column_double"，引用自：-[FBCacheIndex _readEntryFromDatabase:] in FacebookSDK(FBCacheIndex.o) ld：未找到架构 armv7 clang 的符号：错误：链接器命令失败，退出代码为 1（使用 -v 查看调用）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:15:20.743

存档默认使用发布版本，并且您的链接器设置仅用于调试。检查您的链接器设置对于发布版本是否有效。

# magento - Magento Enterprise 1.12 中的高 CPU 使用率

> ID：12470073
> 
> 赞同：0
> 
> 时间：2012-09-18T03:40:36.157
> 
> 标签：magento

我们在 magento 中遇到了非常高的 CPU 使用率。该进程被列为 php。如果单个用户访问网站主页 CPU 会飙升至 30-40%。我们尝试了在数据库中没有任何内容的全新 magento 安装，但它仍然执行相同的操作。

我们有 PHP 5 和 PHP 5 处理程序 Suphp。我们在带有远程 mysql 的专用服务器上。

正常吗？

史蒂夫

已编辑

我现在切换到 Nginx 并注意到该网站超级快，CPU 使用率下降到过去使用 Apache 的 1/4。现在正在努力安装 Varnish 以获得更好的速度。我对所有人的建议是不要浪费时间迁移到 Nginx。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T15:35:21.813

Magento can be very intensive, it would depend on the specs of your server on how much strain you would get as a percentage.

Once you enable caching, and add in something like APC / EAccelerator it should drop a bit though.

A Good solution would be to scrap SuPHP and Apache and use Nginx as your webserver, this will greatly reduce the memory footprint and CPU load on your server.

Alternatively you can look into adding Varnish or Squid caching proxies which would also reduce CPU load by quite a bit.

# javascript - 计算数组排序

> ID：12470074
> 
> 赞同：0
> 
> 时间：2012-09-18T03:40:44.923
> 
> 标签：javascript, knockout.js

我有一个这样的计算数组，

```
self.weapons = ko.observableArray(
  []
  );

self.wings = ko.observableArray(
  []
  );

 self.itemList = ko.computed( function()
 {
     return self.weapons().concat(self.wings());
 }
 },
 this ); 
```

我想对这个数组进行排序。

我可以毫无问题地对 ko.observableArray 进行排序。

我认为这里的问题是， ko.computed 在排序完成后再次计算。

另外：有没有更好的方法将多个 observableArrays 连接在一起？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:57:35.543

只需对连接的数组进行排序。

```
self.itemList = ko.computed(function () {
    var weapons = self.weapons(),
        wings = self.wings();
    return weapons.concat(wings).sort();
}); 
```

每次数组更改时都必须使用它，但您对此无能为力。

如果您要连续进行许多更改，请考虑在计算的 observable 上使用[`rateLimit`](http://knockoutjs.com/documentation/rateLimit-observable.html)扩展器（或在淘汰 3.1.x 之前）。[`throttle`](http://knockoutjs.com/documentation/throttle-extender.html)这将通过折叠在特定时间段内发出的所有通知来限制可观察对象发送通知的次数。

```
self.itemList = ko.computed(function () {
    ...
}).extend({ rateLimit: 500 }); // wait at least 500ms before first notification 
```

# haskell - 无意义编程时 readFile 和 IO monad 之间没有合作

> ID：12470078
> 
> 赞同：4
> 
> 时间：2012-09-18T03:41:26.597
> 
> 标签：haskell, io, monads, pointfree

为什么 countInFile1 和 countInFile3 有编译器错误，而 countInFile0 和 countInFile2 没有。这四个都是一样的。

```
count :: String -> String -> Int
count w = length . filter (==w) . words

present :: String -> String -> IO String
present w = return . show . count w

-- VALID: pointed readFile, regular present
countInFile0 :: String -> FilePath -> IO ()
countInFile0 w f = putStrLn =<< present w =<< readFile f

-- INVALID: pointless readFile, regular present
countInFile1 :: String -> FilePath -> IO ()
countInFile1 w = putStrLn =<< present w =<< readFile

-- VALID: pointed readFile, inline present
countInFile2 :: String -> FilePath -> IO ()
countInFile2 w f = putStrLn =<< (return . show . count w) =<< readFile f

-- INVALID: pointless readFile, inline present
countInFile3 :: String -> FilePath -> IO ()
countInFile3 w = putStrLn =<< (return . show . count w) =<< readFile

main = do
  countInFile0 "bulldogs" "bulldogs.txt"
  countInFile1 "bulldogs" "bulldogs.txt"
  countInFile2 "bulldogs" "bulldogs.txt"
  countInFile3 "bulldogs" "bulldogs.txt" 
```

还有为什么 countInFile3 有这个 countInFile1 没有的附加错误：

```
example_one.hs:21:27:
    No instance for (Monad ((->) FilePath))
      arising from a use of `=<<'
    Possible fix:
      add an instance declaration for (Monad ((->) FilePath))
    In the expression:
        putStrLn =<< (return . show . count w) =<< readFile
    In an equation for `countInFile3':
        countInFile3 w
          = putStrLn =<< (return . show . count w) =<< readFile 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T04:05:26.217

使用`countInFile1`和`countInFile3`，因为你正在组合形式的三个东西，所以`a -> IO b`你正在考虑所谓的 Kleisli 组合，即`<=<`from `Control.Monad`。尝试

```
 countInFile1 w = putStrLn <=< present w <=< readFile
 countInFile3 w = putStrLn <=< return . show . count w <=< readFile 
```

或者你可以写`countInFile3 w file = ... =<< readFile file`，就像你在其他地方做的那样。`readFile file`（带参数）是一个`IO String`，所以它可以被传递`>>=`或传递`=<<`给任何`String -> IO b`。但这并不像你想要的那样时髦。 `readFile`just 本身就是 a`FilePath -> IO String`所以它可以`>=>`用 any`String -> IO b`来做 a`FilePath -> IO b`等等`b -> IO c`，在你的情况下以 a 结尾`FilePath -> IO ()`

第二个错误来自 ghc 试图读取`=<< readFile`，为此它需要`readFile`mb 用于某些 monad m，所以它会解决`Monad ((->) FilePath)`（这实际上对 是有意义的`Control.Monad.Instances`，但只会延迟获得第一个错误。）

如果您将`file`参数添加到这些参数中，它将是这样的，

```
 countInFile1 w file = (putStrLn <=< present w <=< readFile) file 
```

并且您可能正在以这种方式进行解析`countInFile2`，`countInFile0`同时将它们解释`=<<`为`<=<`实际上是这样的：

```
 countInFile0 w file = putStrLn =<< present w =<< (readFile file) 
```

区别与之间的相同

```
 f n = (even . (+1) . (*3)) n 
```

或等效地

```
 f   = even . (+1) . (3*) 
```

另一方面

```
 f n = even $ (+1) $ 3 * n  -- cp. your 0 and 2 
```

如果您`n`从此处删除双方

```
 f   = even $ (+1) $ (3*)  -- cp. your 1 and 3 
```

您将收到类似于您看到的类型错误：

```
 No instance for (Integral (a0 -> a0)) arising from a use of `even' 
```

你在哪里使用`$`你需要参数`n`——就像你在哪里使用`>>=`或者`=<<`你需要参数一样`file`。和`.`一样`<=<`，你没有。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-18T04:03:27.690

函数应用的优先级高于中缀`=<<`运算符。

所以`f =<< g a`等价于`f =<< (g a)`而不是`(f =<< g) a`。

# visual-studio-2010 - Visual Basic 代码问题

> ID：12470079
> 
> 赞同：0
> 
> 时间：2012-09-18T03:41:33.917
> 
> 标签：visual-studio-2010

有人可以解释为什么这不起作用吗？（意味着变量 colorChange 在整个函数中保持不变）

每个数组（leftRing 和 rightRing 具有从 1 到 4 的整数值）

```
 Private Sub Solve_Click(sender As System.Object, e As System.EventArgs) Handles Solve.Click

    countColorChangesInRings(colorChanges)
    RotateLeftRingClockwise()
    countColorChangesInRings(colorChanges)

    End Sub

    Sub countColorChangesInRings(ByRef var As Integer)

    Dim colorChangesLeft As Integer = 0
    Dim colorChangesRight As Integer = 0
    Dim totalChanges As Integer = 0
    ' Count Color Changes in Left Ring
    For i = 1 To 20
        If (i = 20) Then
            If (leftRing(i) <> leftRing(1)) Then
                colorChangesLeft += 1
            End If
        Else
            If (leftRing(i) <> leftRing(i + 1)) Then
                colorChangesLeft += 1
            End If
        End If
    Next

    ' Count Color Changes in Right Ring
    For i = 1 To 20
        If (i = 20) Then
            If (rightRing(i) <> rightRing(1)) Then
                colorChangesRight += 1
            End If
        Else
            If (rightRing(i) <> rightRing(i + 1)) Then
                colorChangesRight += 1
            End If
        End If
    Next
    totalChanges = colorChangesLeft + colorChangesRight
    var = totalChanges
End Sub

 Sub RotateLeftRingClockwise()
    Dim temp As Integer = leftRing(1)
    ' Rotates Rings clockwise direction
    For i = 1 To 20
        If (i = 20) Then
            leftRing(i) = temp
        Else
            leftRing(i) = leftRing(i + 1)
        End If
    Next
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T03:48:52.927

据我所见，它将*保持*不变。

您基本上有一个值的循环缓冲区（由于您的特殊句柄 when `i = 20`），并且您计算值从索引更改为索引的次数。

如果您只是通过循环缓冲区旋转值，则该数字不会改变。

以数组为例`{1, 2, 2, 2, 3, 4}`。那里有四个过渡，`1-2`，`2-3`，`3-4`和`4-1`。

如果你然后顺时针旋转列表，你会得到转换`{4, 1, 2, 2, 2, 3}`是`4-1`,`1-2`和。`2-3``3-4`

换句话说，转换的*顺序*可能会改变，但*数量*不会改变。

* * *

根据您添加的`RotateLeftRingClockwise`代码，这就是您的问题所在。

因为它只是旋转左环，所以您没有正确处理匈牙利环的交点。旋转左环，以及围绕左环移动值，*改变*右环中的两个数组元素（反之亦然），如下图所示：

```
 array element 1 (in a 32-element array)
          |
      +---+---+
      |       |
      V       V
     LLL     RRR
   LL   LL RR   RR
  L       *       R      <- shared cell is left(29)/right(5)
 L       R L       R
 L       R L       R
L       R   L       R
L       R   L       R
L       R   L       R
 L       R L       R
 L       R L       R
  L       *       R      <- shared cell is left(21)/right(13)
   LL   LL RR   RR
 \   LLL     RRR   /
  \               /
   \----->>>-----/
     Direction of
       increasing
         array index 
```

因为您的旋转代码不*这样*做，所以两个环的转换计数将保持相同，因此它们的总和不会改变。

例如，假设顶部中间的单元格是数组元素 1（如图所示）并且它以逆时针方向增加（因为您的代码似乎表明顺时针旋转从`ring[i+1]`到的事实`ring[i]`）。

您的代码需要做的是首先旋转左环，然后将`*`单元格的新值强制进入右环，例如：

```
Sub RotateLeftRingClockwise()
    Dim temp As Integer = leftRing(1)
    For i = 1 To 19
        leftRing(i) = leftRing(i + 1)
    Next
    leftRing(20) = temp

    rightRing( 5) = leftRing(29)
    rightRing(13) = leftRing(21)
End Sub 
```

最后两行中的那些数组索引特定于我上面的图表（32 个单元格而不是 20 个），您需要根据自己的谜题调整它们。

如果您进行这些更改（以及与其他三个旋转函数类似的更改），您应该会发现该函数开始返回不同的值。具体来说，旋转左环将保持左值不变，但应随着不同球进入交点而改变右值。

# android - 从android中的字节数组加载bmp图像？

> ID：12470080
> 
> 赞同：0
> 
> 时间：2012-09-18T03:41:39.830
> 
> 标签：android, android-layout, android-intent, bmp

我是 android 新手，我开发了一个示例应用程序，它从 sd 卡加载图像并使用图像视图控件显示为位图图像。现在我想修改我的应用程序，比如从字节数组加载 bmp 我有原始图像、宽度和高度，有人有这个示例吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T05:22:39.080

使用以下代码将字节数组转换为位图并将此位图显示到 ImageView 中。

```
Bitmap bmp = BitmapFactory.decodeByteArray(byteArray, 0, byteArray.length);
ImageView image = (ImageView) findViewById(R.id.imageView1);
image.setImageBitmap(bmp); 
```

有关更多信息，请参见下面的 SO 链接。

[将字节数组转换为位图](https://stackoverflow.com/questions/11519691/passing-image-from-one-activity-another-activity/11519855#11519855)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T03:50:23.953

我认为你可以使用`BitmapFactory`.

```
public static Bitmap decodeByteArray (byte[] data, int offset, int length) 
```

欲了解更多信息，[请看这里](http://developer.android.com/reference/android/graphics/BitmapFactory.html#decodeByteArray%28byte%5B%5D,%20int,%20int,%20android.graphics.BitmapFactory.Options%29)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T04:06:11.880

如果您的图像在 Drawable 文件夹中，请尝试此代码

```
 Drawable drawable= getResources().getDrawable(R.drawable.yourimage);

    //Type cast to BitmapDrawable
    Bitmap bitmap = ((BitmapDrawable)drawable).getBitmap();

    //Write a compressed version of the bitmap to the specified outputstream via compress method.    
    ByteArrayOutputStream out = new ByteArrayOutputStream();

    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);
    byte[] buffer  = stream.toByteArray(); 
```

# jquery - 仅将功能绑定到单击的链接而不使用 id

> ID：12470085
> 
> 赞同：0
> 
> 时间：2012-09-18T03:42:47.567
> 
> 标签：jquery, twitter-bootstrap

我在锚标记上使用数据属性，但是当触发以下事件时，它会更改具有该属性的所有链接，*显然*我猜。我不想使用 id 我只想将事件绑定到单击的链接...应该超级简单，但我无法解决这个问题。**这与 Twitter Bootstrap 折叠一起**用于阅读更多/阅读更少的摘录功能。

```
//Excerpt functions
$('.collapse').on('shown', function () {
  $('[data-target]').click(function() {
    $(this).html('&raquo More');
  });
});
$('.collapse').on('hidden', function () {
  $('[data-target]').click(function() {
    $(this).html('&laquo Less');
  });
}); 
```

我的 html 看起来像这样

```
<a href="#" data-toggle="collapse" data-target="#more1">&raquo; More</a>
<div id="more1" class="collapse"></div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T03:45:36.457

改为使用`$(this).find('[data-target]').click(...`。

检查您在评论中发布的 html 后，您应该执行以下操作：

```
$(this).prev('[data-target]').click(... 
```

# mysql - MySQL COUNT 来自 2 个表

> ID：12470090
> 
> 赞同：3
> 
> 时间：2012-09-18T03:43:07.947
> 
> 标签：mysql, sql, group-by

我在我确信我以前做过的事情上画了一个巨大的空白，而且可能很简单。唉，无论如何，我都会寻求帮助。

我有 2 张桌子： `tbl_admins_groups` `tbl_admins`

我正在对管理员组表进行查询：

SELECT groupid, groupname, groupdesc FROM`tbl_admins_groups`

现在我想添加另一列来计算与该 groupid 关联的管理记录数。

这是我的尝试：

```
SELECT g.groupid, g.groupname, g.groupdesc, COUNT(a.adminid) AS `admincount`
FROM `tbl_admins_groups` g, `tbl_admins` a
WHERE g.groupid = a.groupid
AND a.adminstatus = 1 
GROUP BY g.groupid 
```

出于某种原因，我只得到一个结果。我的 GROUP BY 不正确吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T03:48:20.223

您可以获取他们的`COUNT`内部子查询并将其加入`tbl_admins_groups`

```
SELECT g.groupid, g.groupname, g.groupdesc,
        a.totalCount
FROM   tbl_admins_groups g
       LEFT JOIN 
       (
            SELECT groupid, COUNT(*) totalCount
            FROM tbl_admins
            WHERE adminstatus = 1
            GROUP BY groupid
       ) a
            ON g.groupid = a.groupid 
```

# embedded - 嵌入式软件的历史

> ID：12470093
> 
> 赞同：0
> 
> 时间：2012-09-18T03:43:34.827
> 
> 标签：embedded

据我了解，嵌入式软件只是软件（在通用 CPU 上运行），几乎没有用户输入或配置。嵌入式软件为 IP 路由器、汽车、电脑鼠标等提供动力。

我的问题是：什么时候（大致）是嵌入式软件首次被认为对某些应用程序具有成本效益（而不是不涉及嵌入式软件的同等技术解决方案）的历史时刻？哪些应用程序以及为什么？

细节：显然，在足够快的 CPU 成本以在软件中执行 X 与设计执行 X 的硬件的成本之间存在权衡。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T09:07:05.763

嵌入式系统可以追溯到阿波罗登月。特别是[Apollo 制导计算机](http://en.wikipedia.org/wiki/Apollo_Guidance_Computer)(AGC) - 被广泛认为是嵌入式系统的首批示例之一。

在 1970 年代初期，早期的微处理器在商业上被用于产品中，著名的是用于 Busicom 141-PF的 4 位[Intel 4004 。](http://en.wikipedia.org/wiki/Intel_4004)[比尔·盖茨和保罗·艾伦在微软之前的Traf-O-Data](http://en.wikipedia.org/wiki/Traf-O-Data)流量调查计数器中很早就看到了嵌入式微处理器的潜力。

所以我建议在 1971/72 年左右推出英特尔 4004 和更强大的 8 位 8008。请注意，与激发第一台自制微型计算机和 MITS Altair 的更强大的英特尔 8080 不同，4004 和 8008几乎不适合使用通用“计算机”，因此嵌入式计算系统早于通用微型计算机。

我会质疑您对嵌入式系统的描述；如果您要问这个问题[，这是我](https://stackoverflow.com/questions/11425729/what-is-an-embedded-system-can-mobile-be-considered-as-an-embedded-product/11478877#11478877)对类似问题的回答。

# python - 比较未排序数据的快速算法

> ID：12470094
> 
> 赞同：1
> 
> 时间：2012-09-18T03:43:37.437
> 
> 标签：python, sql, dna-sequence, genome

我有数据需要保持在输入的确切序列（基因组测序）中，我想搜索大约 10 亿个节点，每个节点约有 18 个成员来定位模式。

显然，对于这么大的数据集，速度是一个问题，实际上我目前没有任何数据可以用作离散键，因为搜索的基础是定位和隔离（但不是删除）重复项。

我正在寻找一种可以在相对较短的时间内遍历数据以定位这些模式和相似性的算法，并且我可以计算出正则表达式进行比较，但我不确定如何获得更快的搜索比 O(n)。

任何帮助，将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T09:58:32.720

*   可能您想要的称为“从头组装”
*   一种方法是计算 N-mers，并在索引中使用它们
*   如果您需要部分匹配/不匹配，nmers 将变得更加重要
*   如果十亿 := 1E9，python 可能太弱了
*   还要注意 18 个碱基* 2 位 := 36 位信息来枚举它们。这暂时接近 32 位，可以放入 64 位。散列/比特摆弄*可能*是一种选择

# java - 使用 Apache Lucene 进行休眠搜索

> ID：12470103
> 
> 赞同：0
> 
> 时间：2012-09-18T03:45:06.507
> 
> 标签：java, hibernate-search

我的休眠搜索有问题。

我已经包含了所需的 jar 文件，但是我不知道如何调用休眠搜索注释以及是否需要为休眠搜索创建另一个 XML 文件。

另外，我如何使用这个 Hibernate Search，这个插件的优缺点是什么，你能给我任何参考，比如关于如何使用它的教程。顺便说一句，我也在使用 Apache Lucene。似乎这两个都需要出现在我的工作站上才能使用 Hibernate Search。我在 Mr.G(google) 中查找过，但找不到我能真正理解的好教程。谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T05:25:54.280

您必须在**hibernate.cfg.xml**文件中为**hibernate.search.default.directory_provider**和**hibernate.search.default.indexBase**添加属性 您可以参考[此链接](http://docs.jboss.org/hibernate/search/3.2/reference/en/html_single/#d0e146)，它可以让您了解...

# r - 脚本返回 NULL 值

> ID：12470109
> 
> 赞同：0
> 
> 时间：2012-09-18T03:45:56.537
> 
> 标签：r

我有这个脚本：

```
dat <- read.csv(file="Task_vs_Files_Whirr2.csv", header=T, sep=",",
                row.names=1) 
(sapply(1:nrow(dat), function(x) {
    if (dat[x,2]==1) { 
         write.csv(dat[ (dat[[2]]==1 ) & (1:nrow(dat) >= x) , ] , 
                   file = paste("fil_", x, ".csv") )
    } else {
         NULL
 })) 
```

但脚本返回 NULL 值，如下所示：

```
[[1]]
NULL

[[2]]
NULL

[[3]]
NULL

[[4]]
NULL

[[5]]
NULL

[[6]]
NULL

[[7]]
NULL 
```

以下是其他细节：

```
> str(dat) 
'data.frame':   7 obs. of  7 variables:
 $ pom.xml.         : int  1 1 0 0 0 1 1
 $ ZooKeeper.java   : int  0 0 0 0 0 1 0
 $ HBase.java       : int  1 1 1 0 1 1 0
 $ Hadoop.java.     : int  0 0 0 0 0 0 1
 $ BasicServer.java.: int  1 0 0 0 0 0 0
 $ Abstract.java.   : int  1 1 0 1 0 1 1
 $ HBaseRegion.java : int  1 0 0 0 0 1 1

> dput(dat)
structure(list(pom.xml. = c(1L, 1L, 0L, 0L, 0L, 1L, 1L), ZooKeeper.java = c(0L, 
0L, 0L, 0L, 0L, 1L, 0L), HBase.java = c(1L, 1L, 1L, 0L, 1L, 1L, 
0L), Hadoop.java. = c(0L, 0L, 0L, 0L, 0L, 0L, 1L), BasicServer.java. = c(1L, 
0L, 0L, 0L, 0L, 0L, 0L), Abstract.java. = c(1L, 1L, 0L, 1L, 0L, 
1L, 1L), HBaseRegion.java = c(1L, 0L, 0L, 0L, 0L, 1L, 1L)), .Names = c("pom.xml.", 
"ZooKeeper.java", "HBase.java", "Hadoop.java.", "BasicServer.java.", 
"Abstract.java.", "HBaseRegion.java"), class = "data.frame", row.names = c("WHIRR-25", 
"WHIRR-28", "WHIRR-55", "WHIRR-61", "WHIRR-76", "WHIRR-87", "WHIRR-92"
))

> sessionInfo()
R version 2.13.1 (2011-07-08)
Platform: i386-pc-mingw32/i386 (32-bit)

locale:
[1] LC_COLLATE=English_Australia.1252  LC_CTYPE=English_Australia.1252    LC_MONETARY=English_Australia.1252 LC_NUMERIC=C                      
[5] LC_TIME=English_Australia.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:38:18.177

试图挽救一些东西....（请参阅我上面关于为什么返回 NULL 的评论）

如果你只对 where 的那些数据感兴趣`dat[,2]==1`，不妨使用`which`find 那些`rows`

```
interested <- which(dat[,2]==1) 
```

现在，您真的想要包含相同数据的单独文件，每次都重复没有标题行吗？这就是你的代码现在正在做的事情。

写一个`for`循环，因为它*更容易*理解

```
row_index <- seq.int(nrow(dat))
for(.row in interested){

  write.csv(dat[(dat[[2]] == 1) & (row_index >=.row),], 
            file = sprintf('fil_%s.csv',.row))
} 
```

使用您当前的数据，这将创建一个`fil_6.csv` 包含数据框第 6 行的文件（这*是*`x[,2]==1`.

这个脚本是否会扩展到更大的数据集还不清楚，因为不清楚你想做什么。

# javascript - 下划线js扩展方法

> ID：12470110
> 
> 赞同：11
> 
> 时间：2012-09-18T03:46:52.770
> 
> 标签：javascript, underscore.js, extend

看起来下划线库不会将 JSON 中的函数视为一等公民。为什么这个小提琴不起作用？

[http://jsfiddle.net/anV28/](http://jsfiddle.net/anV28/)

```
var a = { 'f1': function(){var s='success';} };
var b = {'foo' : 'bar'};
var c = _.extend(b, a);
alert(JSON.stringify(c));

var d = _.extend({name : 'moe'}, {age : 50});
alert(JSON.stringify(d)); 
```

为什么不是`c`正确的值？

`d`如果我们只使用字符串作为键和值，似乎具有正确的值。

我怎样才能绕过这个限制？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-18T04:06:14.213

`c`确实有正确的价值：

```
{
    f1: function () {var s='success';},
    foo: "bar"
} 
```

您的问题是您`JSON.stringify`用于为 生成字符串`alert`，因此 JSON 中没有函数的表示形式，因此`JSON.stringify(c)`省略`f1`了。如果你`console.log`用来查看你的结果，你会有更好的运气：http: [//jsfiddle.net/ambiguous/7j7hu/](http://jsfiddle.net/ambiguous/7j7hu/)

顺便说一句，您应该记住使用[`_.extend`](http://underscorejs.org/#extend)这种方式：

```
var c = _.extend(b, a); 
```

也会修改`b`，这可能不是你的意图。

# php - 通过 MySQL 的 Fullcalendar 动态事件颜色

> ID：12470114
> 
> 赞同：2
> 
> 时间：2012-09-18T03:46:59.980
> 
> 标签：php, mysql, events, colors, fullcalendar

这是我的第一篇文章，所以要温柔:)

我是 PHP、MySQL 和 JQUERY 的新手，但我有很多使用 AS3、Java 和 C++ 编程的经验，所以我对这些东西的工作原理有一些参考框架......

这是我正在尝试做的事情：

*   我正在为我的教堂创建一个网站，并为我们的调度程序使用 Fullcalendar 类
*   注意：谷歌日历不是一个选项
*   我需要能够设置重复事件，并根据每个事件是否已被取消为每个事件着色

这是我已经走了多远：

*   我有一个包含 8 个字段的 MySQL 数据库：p_id（仅供我使用）、id、title、start、end、allDay、url、cancel
*   我有一个包含以下代码的 PHP 文件：

.

```
//--------------------------------------------------------------------------
// Example php script for fetching data from mysql database
//--------------------------------------------------------------------------
$host = "fakehost";
$user = "fakeuser";
$pass = "fakepwd";

$databaseName = "fake_db";
$tableName = "tbl_calendar";

//--------------------------------------------------------------------------
// 1) Connect to mysql database
//--------------------------------------------------------------------------
$con = mysql_connect($host,$user,$pass);
$dbs = mysql_select_db($databaseName, $con);

//--------------------------------------------------------------------------
// 2) Query database for data
//--------------------------------------------------------------------------
$query = "SELECT id,title,start, DATE_FORMAT(start, '%Y-%m-%d %H:%i' ) AS startDate, end, url FROM $tableName ORDER BY startDate DESC";
$result = mysql_query($query) or die(mysql_error());

$array = array();
while($row = mysql_fetch_assoc($result)){
$array[] = $row; 
}  

//--------------------------------------------------------------------------
// 3) echo result as json 
//--------------------------------------------------------------------------
echo json_encode($array);

?> 
```

*   我的 HTML 文件中还有以下代码：

    ```
    <script type='text/javascript'>

    $(document).ready(function() {

    var date = new Date();
    var d = date.getDate();
    var m = date.getMonth();
    var y = date.getFullYear();
    $('#calendar').fullCalendar({
        header: {
            left: 'prev,next today',
            center: 'title',
            right: 'month,agendaWeek,agendaDay'
        },
        editable: false,

        allDayDefault: false,

        url: true,

        timeFormat: 'h(:mm)t', // uppercase H for 24-hour clock
        agenda: 'h(:mm)t' , // 5:00 - 6:30
        '': 'h(:mm)t', // for all other views

        events: "../data/get_calendar.php",
        eventDrop: function(event, delta) {
            alert(event.title + ' ha sido movido ' + delta + ' dias\n' + '(should probably update your database)');

        },

        loading: function(bool) {
            if (bool) $('#loading').show();
            else $('#loading').hide();
        },

        eventClick: function(calEvent, jsEvent, view) {

             //alert('Event: ' + calEvent.title);
             //alert('Url: ' + calEvent.url);
             //alert('View: ' + view.name);

             window.open(calEvent.url, blank);
             return false;

        }

    });

    }); 
    ```

就使用我在数据库中的事件并将它们放在它们所属的日历上而言，这一切都很好。

问题是我正在尝试为每个事件添加特定的 CSS 类。例如，我希望取消的事件是红色的（而不是删除它们）。

我浏览了很多材料。阅读了很多关于事件源的内容，但我就是不明白......我无法让它工作。理想情况下，我想在我的数据库中添加另一个字段，并让它自动应用类名或颜色。我可以通过硬代码应用颜色，但我只是不明白如何通过数据库来实现。

任何人都可以帮忙吗？请给我很多简单的步骤，因为显然，我没那么聪明:-S

**编辑：** 我尝试添加一个名为“className”的字段，并编写了相应的 CSS 规则。我认为这样做可以，但是当我检查元素时，我在任何地方都看不到 className ...我认为它不会从 MySQL 数据库中自动应用它。我还在下面尝试了 Brotherli 的建议，但也无法使其正常工作（可能是用户错误）。也许我需要更改一些完整的日历 jquery 代码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T14:18:30.397

您可以基于每个事件定义 CSS 类。[请参阅http://arshaw.com/fullcalendar/docs/event_data/Event_Object/](http://arshaw.com/fullcalendar/docs/event_data/Event_Object/)中的属性“className”

将您的 PHP 代码更改为类似

```
while($row = mysql_fetch_assoc($result)){
    if ($row['deleted'])
        $row['className'][] = 'deleted';
    if ($row['canceled'])
        $row['className'][] = 'canceled';
    $array[] = $row; 
} 
```

或者，您也可以使用[eventRender](http://arshaw.com/fullcalendar/docs/event_rendering/eventRender/)回调在客户端上添加 CSS 类。

# c - 编译简单的 hello world ZeroMQ C 示例，编译标志？

> ID：12470117
> 
> 赞同：14
> 
> 时间：2012-09-18T03:47:36.103
> 
> 标签：c, linker, osx-mountain-lion, zeromq, dylib

尝试从 zeromq 教程编译示例 hello_world.c：http://zguide.zeromq.org/page:all#Ask-and-Ye-Shall-Receive [很](http://zguide.zeromq.org/page:all#Ask-and-Ye-Shall-Receive) 确定我已经在 OSX Mountain Lion 中安装了所有东西。

```
clang -Wall hwserver.c -o hwserver 
```

给我一个错误：

```
Undefined symbols for architecture x86_64:  
"_zmq_bind", referenced from:  
  _main in hwserver-OgrEe6.o  
"_zmq_ctx_new", referenced from:  
  _main in hwserver-OgrEe6.o  
"_zmq_msg_close", referenced from:  
  _main in hwserver-OgrEe6.o  
"_zmq_msg_data", referenced from:  
  _main in hwserver-OgrEe6.o  
"_zmq_msg_init", referenced from:  
  _main in hwserver-OgrEe6.o  
"_zmq_msg_init_size", referenced from:  
  _main in hwserver-OgrEe6.o  
"_zmq_msg_recv", referenced from:  
  _main in hwserver-OgrEe6.o  
"_zmq_msg_send", referenced from:  
  _main in hwserver-OgrEe6.o  
"_zmq_socket", referenced from:  
  _main in hwserver-OgrEe6.o  
ld: symbol(s) not found for architecture x86_64  
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

我不是最有经验的 C。不确定我是否确定要为 zmq dylib 或标头添加编译器标志，或者我的 $PATH 是否关闭。

在 /usr/local/lib 中：

```
libzmq.3.dylib
libzmq.a
libzmq.dylib
libzmq.la 
```

在 /usr/local/include 中：

```
zmq.h
zmq_utils.h 
```

并回显 $PATH：

```
/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/lib/:/usr/local/include/ 
```

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2012-09-18T05:16:38.730

您在问题中列出了 ZeroMQ 库，但实际上并未与它们*链接。*将命令行更改为：

```
clang -Wall hwserver.c -o hwserver -L/usr/local/lib -lzmq 
```

额外参数的解释：

*   `-L/usr/local/lib`告诉链接器将路径 ( `/usr/local/lib`) 添加到库搜索路径。
*   `-lzmq`告诉库与库链接`zmq`。

环境变量与此`$PATH`无关，它只是告诉 shell 在哪里查找命令。

# c++ - 使用 Boost 和 OSX 的 malloc 错误

> ID：12470118
> 
> 赞同：2
> 
> 时间：2012-09-18T03:47:49.130
> 
> 标签：c++, macos, boost, malloc, iostream

我正在尝试将 OSX 中的 Boost iostream 库与 gcc 4.7 一起使用（因为我将使用 C++11 功能）。以下代码编译和链接，但在运行时失败：

```
#include <iostream>
#include <fstream>
#include <boost/iostreams/device/file.hpp>
#include <boost/iostreams/filtering_stream.hpp>
#include <boost/iostreams/filter/gzip.hpp>

int main(int argc, char** argv) {

  std::string fname(argv[1]);

  std::ifstream file(fname.c_str(), std::ios_base::in | std::ios_base::binary);
  try {
    boost::iostreams::filtering_istream in;
    in.push(boost::iostreams::gzip_decompressor());
    in.push(boost::iostreams::file_source(fname));
    for( std::string str; std::getline(in, str); ) {
      std::cout << "Processed line " << str << '\n';
    }
   }
   catch(const boost::iostreams::gzip_error& e) {
   std::cout << e.what() << '\n';
  }
} 
```

出现以下错误：

```
MapProbesToGenes(70632) malloc: *** error for object 0x100168860: pointer being freed    was not allocated
*** set a breakpoint in malloc_error_break to debug 
```

在GDB下运行这个，stackframe如下

```
Program received signal SIGABRT, Aborted.
0x00007fff8b0d0d46 in __kill ()
(gdb) bt
#0  0x00007fff8b0d0d46 in __kill ()
#1  0x00007fff88f52e1c in abort ()
#2  0x00007fff88f26989 in free ()
#3  0x00007fff84365e7c in std::string::reserve ()
#4  0x00007fff8436606e in std::string::push_back ()
#5  0x00007fff8436602d in std::string::operator+= ()
#6  0x000000010006f307 in boost::iostreams::detail::gzip_header::process (this=0x113e8, c=6 '\006') at gzip.cpp:100
#7  0x000000010000f435 in boost::iostreams::basic_gzip_decompressor<std::allocator<char> >::read<boost::iostreams::detail::linked_streambuf<char, std::char_traits<char> > > ()
#8  0x000000010000f13e in boost::iostreams::detail::read_filter_impl<boost::iostreams::multichar_tag>::read<boost::iostreams::basic_gzip_decompressor<std::allocator<char> >, boost::iostreams::detail::linked_streambuf<char, std::char_traits<char> > > ()
#9  0x000000010000edd7 in boost::iostreams::read<boost::iostreams::basic_gzip_decompressor<std::allocator<char> >, boost::iostreams::detail::linked_streambuf<char, std::char_traits<char> > > ()
#10 0x000000010000e557 in boost::iostreams::detail::flt_wrapper_impl<boost::iostreams::input>::read<boost::iostreams::basic_gzip_decompressor<std::allocator<char> >, boost::iostreams::detail::linked_streambuf<char, std::char_traits<char> > > ()
#11 0x000000010000e1d8 in boost::iostreams::detail::concept_adapter<boost::iostreams::basic_gzip_decompressor<std::allocator<char> > >::read<boost::iostreams::detail::linked_streambuf<char, std::char_traits<char> > > ()
#12 0x000000010000d020 in boost::iostreams::detail::indirect_streambuf<boost::iostreams::basic_gzip_decompressor<std::allocator<char> >, std::char_traits<char>, std::allocator<char>, boost::iostreams::input>::underflow ()
#13 0x00000001000be63a in std::getline<char, std::char_traits<char>, std::allocator<char> > () 
```

我在网上做了很多搜索，但我找不到一个令人满意的解决方案来解决这个问题。

# android - 无法在设备上安装 apk

> ID：12470120
> 
> 赞同：1
> 
> 时间：2012-09-18T03:48:00.063
> 
> 标签：android, eclipse

> **可能重复：**
> [Android 错误：无法在设备上安装 *.apk *：超时](https://stackoverflow.com/questions/4775603/android-error-failed-to-install-apk-on-device-timeout)
> [无法在设备“emulator-5554”上安装 *.apk：EOF](https://stackoverflow.com/questions/6376722/failed-to-install-apk-on-device-emulator-5554-eof)

我无法在设备上安装 apk。所以让我知道如何解决。

**

```
Failed to install MY.Mobile.DMS.apk on device 'emulator-5554!
[2012-09-18 11:33:41 - MY.Mobile.DMS] (null)
[2012-09-18 11:33:41 - MY.Mobile.DMS] Failed to install MY.Mobile.DMS.apk on device 'emulator-5554': EOF
[2012-09-18 11:33:41 - MY.Mobile.DMS] com.android.ddmlib.InstallException: EOF
[2012-09-18 11:33:41 - MY.Mobile.DMS] Launch canceled! 
```

**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T06:26:41.600

检查 AVD 是否是正确的 android 设备，即它是 2.2 还是 2.1，并且该项目也在同一平台上。否则将整个代码复制到一个新项目中并
在模拟器上再次运行，但时间等到模拟器设置完成。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T04:12:13.640

等待模拟器完全设置，然后测试您的应用程序。另外，我会让你打开 AVD，这样你每次运行应用程序时都不必等待很长时间。

当它显示红色文字时，不要关闭任何东西 - 将其保留在那里，然后再次按下运行按钮。像魅力一样工作。

（或者）

在 AVD Manager 中创建另一个模拟器并尝试在新模拟器中运行您的应用程序。

希望，这会对你有所帮助。

# php - 将 PHP 项目转换为桌面应用程序

> ID：12470131
> 
> 赞同：2
> 
> 时间：2012-09-18T03:50:08.880
> 
> 标签：php, cross-platform, html-parsing, desktop-application

大约一年半以来，我一直在为私人洪流跟踪器开发一个元搜索引擎。它是用 PHP（OOP 中的某些部分）和 JS 编写的，仅仅是因为这就是我所知道的。
现在我想做一个桌面版本，一个独立的跨平台应用程序。

基本上，该应用程序的作用是：

*   将登录数据发送到跟踪器。(file_get_contents())
*   接收生成的 cookie。($http_response_header)
*   使用生成的 cookie 访问搜索 URL。(file_get_contents())
*   使用正则表达式解析 HTML 响应。(preg_match())
*   显示所有跟踪器的结果。

主要适用于远程站点。

该程序现在的工作方式允许用户添加跟踪器进行搜索，而无需触及主程序代码。它们用作插件。这是正则表达式部分，也是最重要的部分。我将维护这两个代码（PHP 和桌面），因此能够在两个应用程序中以相同的方式实现正则表达式非常重要。

所以，我需要帮助来选择正确的语言，就像我用 PHP 做的一样。

我离开程序页面是为了帮助您更好地了解它的内容。
[官方网站](http://btfind.mvitz.com.ar/)
[SourceForge](https://sourceforge.net/projects/btfind/)

对不起，如果这是一个愚蠢的问题，但我需要指导。
在此先感谢 azeós。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T04:30:33.100

这可能是学习一些 Java 的好机会，但您也可以考虑使用一个库来让 PHP 访问 GUI 框架，例如[http://gtk.php.net/](http://gtk.php.net/)。

有一个关于 SO 的[相关问题](https://stackoverflow.com/questions/6870289/php-powered-gui-applications-for-windows)也可能给你一些想法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T04:55:01.513

在不分叉开发过程的情况下分发应用程序的一种偷偷摸摸的方法是将大部分代码保留为 PHP，并包含 PHP 的副本和轻量级 Web 服务器（例如 nginx）。这两个是根据 BSD 风格的许可证获得许可的，这似乎与分发兼容。此时，您的“桌面应用程序”将是一个本地 Web 服务器，用户可以在他们最喜欢的 Web 浏览器中通过“http://localhost:12345”（或您选择的端口）访问该服务器。

如果这个想法还不够荒谬，您还可以考虑使用 Mozilla XULRunner，这是一个运行 Firefox 的跨平台桌面应用程序引擎。您可能需要将其与上面列出的服务器结合使用。根据您愿意学习多少 XUL，您可能会发现额外的 Javascript 权限使您有足够的能力单独在 XUL 中运行整个应用程序。

# sql - 根据 IF OR 语句选择集合

> ID：12470132
> 
> 赞同：0
> 
> 时间：2012-09-18T03:50:21.700
> 
> 标签：sql, ssas, mdx, data-warehouse

```
如果 [销售].[零售] > 0 或 [销售].[经销商] > 0
      SELECT [Measures].[Revenue] on 0 FROM [Cube]
别的
      什么都不退

```

以上是我想要的行为类型的伪代码表示。有没有办法根据 IF X OR Y 布尔表达式在 MDX 中进行有条件选择？我查看了 if/else 语句和 case 语句，但是我看到的所有示例都使用了常量，并且我一直在努力混合这些函数和 select 语句（来自 MSDN 文章，我不确定这是否可能）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:03:35.980

怎么样 ：

```
SELECT
  IIF( [Sales].[Retail] > 0 OR [Sales].[Reseller] > 0 , { [Measures].[Revenue] } , {} ) on 0 
  FROM [Cube] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:10:52.940

```
select (case when ([Sales].[Retail] > 0 OR [Sales].[Reseller] > 0) 
              then  [Measures].[Revenue] else 'nothing' end) as 'Revenue' from [Cube] 
```

# perl - Perl 哈希：while-each-loop 陷入无限循环

> ID：12470137
> 
> 赞同：2
> 
> 时间：2012-09-18T03:50:44.787
> 
> 标签：perl, loops, hash, each, infinite-loop

下面的 Perl 代码运行到一个无限循环中。它看起来像`each`在子例程调用后自行重置。为什么呢？

```
#!/usr/bin/perl
use warnings;
use strict;

my %h = ( "a" => "b" );
while ( my ($x, $y) = each %h ) {
    &do_something( \%h );
}

sub do_something(){
    my %tmp  = %{$_[0]};
} 
```

有趣的是，这有效：

```
while ( my ($x, $y) = each %h ) {
    &do_something( \%h );
}

sub do_something(){
} 
```

虽然这不会：

```
while ( my ($x, $y) = each %h ) {
    &do_something( %h );
}

sub do_something(){
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T03:52:57.027

通过在列表上下文中评估它来获取哈希的内容使用与`each`//相同的迭代`keys`器`values`，导致它被重置。

最小演示：

```
>perl -E"%h=(a=>4); while (($k) = each(%h)) { say $k; keys %h }"
a
a
a
...

>perl -E"%h=(a=>4); while (($k) = each(%h)) { say $k; %t=%h }"
a
a
a
... 
```

由于您仅在第一个和第三个片段的列表上下文中评估哈希，因此迭代器仅在这两个片段中重置。

* * *

PS——为什么你使用不正确的原型（`()`）然后告诉 Perl 忽略它（`&`）？

# java - 服务器返回 HTTP 响应码：400

> ID：12470141
> 
> 赞同：3
> 
> 时间：2012-09-18T03:51:17.157
> 
> 标签：java

我正在从网络服务读取数据。如果我将链接放在浏览器上，问题就可以正常工作。当我这样运行时，会给我错误。我怀疑是不是因为我发送参数的方式。我的参数列表有这个`dID=1,5,7,11,14,18,26&FromDate=18 Sep 2012 00:00 am&ToDate=18 Sep 2012 10:00 am`。我需要在这里做一些编码吗？

```
URL xmlURLDM = new URL(urlDM);
InputStream xml2 = xmlURLDM.openStream(); 
```

我收到这个错误

```
java.io.IOException: Server returned HTTP response code: 400 for URL: 
 at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1612)
        at java.net.URL.openStream(URL.java:1035)
        at xmlreader.main(xmlreader.java:172) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T03:57:44.537

您确实需要编码，很可能是您的 URL 中的空格导致了问题。使用内置 url 编码的 Java。例如：

```
String encoded = URLEncoder.encode(myUrl, "UTF-8"); 
```

...调用编码为 URL 的 Web 服务

状态码为 400 可能还有其他原因，但此编码问题可能是您的第一个绊脚石。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:12:44.863

URL 的文档[说](http://docs.oracle.com/javase/6/docs/api/java/net/URL.html)，

> URL 类本身并不根据 RFC2396 中定义的转义机制对任何 URL 组件进行编码或解码。调用者有责任对在调用 URL 之前需要转义的任何字段进行编码，并对从 URL 返回的任何转义字段进行解码。此外，由于 URL 不知道 URL 转义，因此它无法识别同一 URL 的编码或解码形式之间的等价性。

所以请`URLEncoder.encode()`在调用之前使用`URL()`

# java - 没有任何抽象方法的抽象类的目的是什么？

> ID：12470148
> 
> 赞同：3
> 
> 时间：2012-09-18T03:53:09.717
> 
> 标签：java, abstract-class

Java 允许您将一个类指定为抽象类，即使它没有抽象方法。这种抽象类的目的是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T03:54:42.337

抽象类可用于**强制派生**和**禁止创建实例**，即使它没有任何抽象方法。它可能是某个概念的抽象表示，其方法具有*默认*实现。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:11:48.320

正如 Jordão 所指出的，抽象类可用于防止为抽象概念创建实例；想象一个 Window 类在其构造函数中创建一个系统级窗口，但只允许 ModalWindow、ModelessWindow 或 DialogWindow 的实例。

抽象类可能需要构造函数变量并为子类公开受保护的方法和字段。这些方法甚至可以引用抽象类上的私有实例变量。

虽然“优先组合优于继承”是一个[有争议](https://softwareengineering.stackexchange.com/questions/65179/where-does-this-concept-of-favor-composition-over-inheritance-come-from)的建议，但我的观点是确保没有抽象方法的抽象类不仅仅是方便子类的方法的方便容器，而是每个子类都可以代表它的超类.

# c# - 检查所有登录并注销到网络中的本地系统

> ID：12470152
> 
> 赞同：0
> 
> 时间：2012-09-18T03:54:07.903
> 
> 标签：c#, networking, logging, windows-services

任何人都可以告诉我通过网络中的所有帐户获取所有系统的所有登录/注销的最佳方法是什么？

1- 在 Windows 服务中使用 OnSessionChange 事件

或者

2-在windows服务中使用api函数

我需要登录/注销帐户的时间和用户名。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T07:55:30.783

我已经使用 ISensLogon2 的方法成功地完成了它。

# automapper - AutoMapper 自定义类型转换器不起作用

> ID：12470156
> 
> 赞同：9
> 
> 时间：2012-09-18T03:54:32.117
> 
> 标签：automapper, automapper-2

我正在使用[Troy Goode 的 PagedList](https://github.com/TroyGoode/PagedList)在我的 WebApi 中提供分页信息。他的包返回一个 IPagedList，它实现了 IEnumerable，但还包含自定义属性，例如 IsLastPage、PageNumber、PageCount 等。

当您尝试从 WebApi 控制器方法（例如 GET）返回此类时，将序列化 Enumerable，但不会序列化自定义属性。所以，我想我会使用 AutoMapper 并编写一个自定义类型转换器来转换为这样的类：

```
public class PagedViewModel<T>
{
    public int FirstItemOnPage { get; set; }
    public bool HasNextPage { get; set; }
    public bool HasPreviousPage { get; set; }
    public bool IsFirstPage { get; set; }
    public bool IsLastPage { get; set; }
    public int LastItemOnPage { get; set; }
    public int PageCount { get; set; }
    public int PageNumber { get; set; }
    public int PageSize { get; set; }
    public int TotalItemCount { get; set; }
    public IEnumerable<T> rows { get; set; }
} 
```

由于我将 Enumerable 移动到一个不同的属性中，因此序列化可以完美地处理它。所以，我坐下来写了一个这样的自定义类型转换器：

```
public class PagedListTypeConverter<T> : ITypeConverter<IPagedList<T>, PagedViewModel<T>>
{
    public PagedViewModel<T> Convert(ResolutionContext context)
    {
        var source = (IPagedList<T>)context.SourceValue;
        return new PagedViewModel<T>()
        {
            FirstItemOnPage = source.FirstItemOnPage,
            HasNextPage = source.HasNextPage,
            HasPreviousPage = source.HasPreviousPage,
            IsFirstPage = source.IsFirstPage,
            IsLastPage = source.IsLastPage,
            LastItemOnPage = source.LastItemOnPage,
            PageCount = source.PageCount,
            PageNumber = source.PageNumber,
            PageSize = source.PageSize,
            TotalItemCount = source.TotalItemCount,
            rows = source
        };
    }
} 
```

然后像这样在我的配置中设置它：

```
Mapper.CreateMap<IPagedList<Department>, PagedViewModel<Department>>().ConvertUsing(new PagedListTypeConverter<Department>()); 
```

但是，当我尝试这样称呼它时：

```
var x = Mapper.Map<IPagedList<Department>, PagedViewModel<Department>>(departments); 
```

我收到此错误：

> 缺少类型映射配置或不支持的映射。
> 
> 映射类型：IPagedList `1 -> PagedViewModel`1 PagedList.IPagedList `1[[Provision.DomainObjects.Department, Provision.DomainObjects, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> Provision.DomainObjects.PagedViewModel`1[[Provision.DomainObjects.Department, Provision.DomainObjects, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
> 
> 目标路径：PagedViewModel`1
> 
> 源值：PagedList.StaticPagedList`1[Provision.DomainObjects.Department]

我怎样才能使这项工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-21T21:47:43.537

拔掉头发后，我终于想出了这个。代码没有任何问题。结果是一个线程问题，配置的映射被清除了。上面的代码是做我想做的事情的正确方法。我把这个留在这里，以便我可以为需要做同样事情的其他人指出另一个问题。

# jsf-2 - 如何在 HTML 上显示 javascript 值

> ID：12470160
> 
> 赞同：2
> 
> 时间：2012-09-18T03:54:54.333
> 
> 标签：jsf-2

在 JSF 中，我使用：rich:popupPanel 来显示一些由 Javascript 计算的信息。通常我经常使用 h:outputText 来显示值，但我不知道如何在 HTML 上显示 javascript 值。我可以用 h:outputText 显示它吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:49:46.393

忽略 JSF，只使用普通的 JavaScript/HTML DOM 方式。JSF 对他们来说仅仅是一个 HTML 代码生成器。JS 对 JSF 源代码一无所知，它所能访问的只是其生成的 HTML 源代码（正如您通过右键单击并在 web 浏览器中*查看源*代码所看到的那样）。

想象一下，JSF 生成了以下 HTML，例如，通过`<h:outputText id="foo">`或只是按原样硬编码（您可以在 JSF 页面中编写纯 HTML，你知道吗？）：

```
<span id="foo"></span> 
```

然后你可以使用 JS 来用一个 JS 变量填充它的节点值：

```
var foo = "some value";
document.getElementById("foo").innerHTML = foo; 
```

这最终将在 HTML DOM 中动态显示，如下所示，它也会在 UI 中直观地反映出来：

```
<span id="foo">some value</span> 
```

# c++ - 将字符串形式的 char 指针复制到 char 指针

> ID：12470164
> 
> 赞同：0
> 
> 时间：2012-09-18T03:55:23.443
> 
> 标签：c++, pointers

```
char * p_one = "this is  my first char pointer";
char * p_two= "this is second";
strcpy(p_one ,p_two); 
```

考虑上面的代码。这给出了访问冲突错误。所以请帮助理解

1.  当前`"this is my first char pointer"`字符串存储在内存中的什么位置？堆或栈
2.  为什么我需要在调用之前为 p_one 分配内存`strcpy`，即使它已经存储了第一个字符串。为什么`"this is second"`字符串不能复制到同一位置？
3.  如果我在调用之前为 p_one 分配内存，那么 p_one指向的字符串`strcpy`会发生什么？`"this is my first char pointer"`它会留在记忆中吗？
4.  如何`strcpy`知道特定指针是否已分配内存？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T03:56:55.940

1.  实现定义的（通常是只读的）内存。^([参考 1])
2.  只要您不修改源字符串文字，就不需要这样做。
3.  如果将内存分配给`p_one`，那么它将指向新分配的内存区域，字符串文字可能/可能不会留在内存中，但它保证在程序的整个生命周期内都处于活动状态。字符串文字具有静态持续时间生命周期。^([参考 2])
4.  它没有。用户有责任确保这一点。

**好读：**
^([Ref 1]) [char a[] = ?string?; 之间有什么区别？和 char *p = ?string?;?](https://stackoverflow.com/questions/9460260/what-is-the-difference-between-char-a-string-and-char-p-string)
^([参考 2]) [C 中字符串文字的“生命周期”](https://stackoverflow.com/questions/9970295/life-time-of-string-literal-in-c)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:00:43.643

首先，您的编译器应该警告 p_one 和 p_two 实际上是`const char *`因为编译器在编译时分配了该字符串的存储空间。

您无法修改它们的原因是因为理论上您可以在它们之后覆盖内存，这就是导致使用 stackoverflow 进行黑客攻击的原因。

编译器也可能很聪明，并意识到你在 10 个地方使用了这个字符串，但注意到它是相同的，所以从一个地方修改它会改变它——但这会破坏其他 9 个使用它的地方的逻辑

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-05-24T04:53:32.850

按顺序回答所有问题

1.  您的 char 指针始终存储在堆栈中，这有点直截了当。**请记住**，即使您正在使用内存分配，它也仅用于确定字符串的长度并附加 '\0' 字符。

根据您提到的代码，这将是一种解决方案：

```
int main()
{
   char * p_one = "this is  my first char pointer";
   char * p_two= "this is second";
   size_t keylen=strlen(p_two);
   p_one=(char *)malloc(keylen*sizeof(char));
   strncpy(p_one ,p_two,strlen(p_one));
   printf("%s",p_one);

   return 0;
} 
```

2.  当您声明一个 char 指针时，它仅指向内存分配。所以字符串复制不指向字符的结尾。因此，在这种情况下，最好使用 strncpy。

3.  是的，它正在分配内存。

4.  强制转换 malloc 的结果是一种不好的做法，因为您将抑制可能引发的运行时错误，感谢 Gewure

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T04:03:28.803

当您的代码中有这样的字符串文字时，您需要将其视为临时常量值。当然，您将其分配给 a `char*`，但这并不意味着您可以修改它。C 规范中没有任何内容表明这是合法的。

另一方面，这没关系：

```
const size_t MAX_STR = 50;
char p_one[MAX_STR] = "this is  my first char pointer";
const char *p_two = "this is second";
strcpy( p_one, p_two ); 
```

# javascript - 验证AES字符串的Javascript函数？

> ID：12470166
> 
> 赞同：0
> 
> 时间：2012-09-18T03:55:25.707
> 
> 标签：javascript, validation, aes

> **可能重复：**
> [Javascript AES 加密](https://stackoverflow.com/questions/793812/javascript-aes-encryption)

有没有办法使用 javascript 或 jquery 验证 AES 加密字符串？

```
function ValidAES(str)
{
    ...
}
ValidAES("U2FsdGVkX1/pnQDBvA08BSX5Dx4X8KdIervCIte1JcU=");//true
ValidAES("@·$$%");//false 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T04:05:09.307

如果你的字符串只是简单的 AES 加密，就没有办法真正验证它们——每个字符串都可以用 AES 解密。大多数结果都是垃圾。

在这种情况下，您的字符串看起来好像是 Base64 文本。执行一些简单的检查以确保其中没有任何无效字符并不难：

```
return !str.match(/[^A-Za-z0-9+\/=]/); 
```

请注意，尽管如此，这仍将允许大多数随机用户输入。这是不可避免的，因为就 Javascript 而言，其中一些用户输入将是“有效的”。如果您期望有特定长度的 AES 字符串，检查`string.length`可能会有所帮助。

# jsf - 在 jsf 中使用 nginX 上传模块来上传图像/文件？

> ID：12470170
> 
> 赞同：0
> 
> 时间：2012-09-18T03:55:52.663
> 
> 标签：jsf, nginx, primefaces

我们的 web 应用程序主要建立在 primefaces、JSF 上。我们想集成 naginx 上传模块来上传图片或任何附件。我们想在单独的盒子中运行 Nginx 服务器，因此它将作为我们的任何 Web 应用程序服务器使用的内容服务器（用于上传和下载文件）。如果我在 xhtml 中使用 JSF forms ()，我想提一下将请求定向到 nginx 服务器而不是我们的主服务器。

```
<p:fileUpload fileUploadListener="#{fileUploadController.handleFileUpload}"
                .....  /> 
```

我需要在 web.xml 中更改什么？这样可以吗？

# sql - 使用 to_char 在 oracle 中搜索日期和时间

> ID：12470171
> 
> 赞同：0
> 
> 时间：2012-09-18T03:55:57.413
> 
> 标签：sql, oracle, timestamp, to-char

在 oracle 中，当我使用以下查询进行搜索时，它正在获取错误的记录（检查随附的屏幕截图），有人可以建议 12 小时的正确格式。

```
to_char(a.created, 'MM/DD/YYYY HH12:MI:SS') >='05/23/2012 12:00:00' 
```

谢谢，基兰。![在此处输入图像描述](../Images/2d0128eddc1e767837763dd8ee87fef6.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T04:08:26.163

不要基于字符串进行搜索。根据日期搜索。如果你搜索一个字符串，你会得到不是你想要的字符串比较语义。字符串“06/01/1900”按字母顺序排在字符串“05/23/2012”之后，尽管它表示的日期要早得多。

```
a.created >= to_date('05/23/2012 12:00:00', 'mm/dd/yyyy hh24:mi:ss' ) 
```

或使用 12 小时制

```
a.created >= to_date('05/23/2012 03:15:00 pm', 'mm/dd/yyyy hh:mi:ss am' ) 
```

# c++ - 在从 Qt 切换到 Visual C++ 之前，我需要了解什么？

> ID：12470177
> 
> 赞同：1
> 
> 时间：2012-09-18T03:57:18.060
> 
> 标签：c++, visual-studio, qt

自从我开始学习 C++ 以来，我一直在使用 Qt。这是教授推荐的SDK，所以我没有尝试其他。现在我想学习使用 Visual C++，这让我很困惑这两个 SDK 之间的区别是什么。我对 Qt 的所有信号和插槽的东西感到非常满意。我想知道是否可以在 Visual C++ 中找到类似的功能。如果有机会，是否有任何教程可以教您如何使用 Visual C++？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T04:13:07.197

Qt 是一个用 C++ 编写的用户界面库，可在多个平台上使用；Visual C++ 是 Microsoft 生产的 Windows IDE。它们并没有真正的可比性——事实上，我很确定，如果你愿意，你可以在 Visual C++ 中开发一个使用 Qt 的应用程序。

如果您真正想到的是本机 Windows UI 库，那就是 MFC（Microsoft 框架类）。它现在大约有 20 年历史了（！！），并且包含很多历史怪癖（包括上面 Neel Basu 提到的 STRING 怪癖）；除非您特别需要学习它，否则我强烈建议您学习其他东西。如果您想学习 Windows 的本机 UI 库之一，WinForms 和 WPF 是最新的，但基于 .NET，而不是 C++。如果你想学习另一个基于 C++ 的 UI 库，你可能想试试 wxWidgets；与 Qt 一样，wxWidgets 是跨平台的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T04:05:56.913

是的，有 Visual C++ 帮助和关于 MFC 和 MS 提供的其他组件框架的 MS 文档

# java - 无论添加到布局中的顺序如何，都使布局适合视图？

> ID：12470180
> 
> 赞同：0
> 
> 时间：2012-09-18T03:58:02.460
> 
> 标签：java, android

我有一个`LinearLayout`垂直方向，我正在尝试向它添加三个子视图。一个视图是一个 50px 高的小视图，只在其中绘制了一个框，第二个视图是单选按钮的水平列表，第三个视图是图表。

如果我最后添加图表，一切都适合屏幕，但如果我先添加图表，它会将所有内容推离屏幕并成为屏幕上的唯一视图。该图是我的一个自定义控件，它希望尽可能大（它的`onMeasure`函数只返回提供的宽度和高度），我认为这就是问题所在。但我想保持它尽可能大，并且无论添加的顺序如何，布局都适合视图。

这可能吗？如果是这样，我该如何完成它？最终，我试图将图表放在顶部，将其他两个控件放在其下方，但如果我先添加图表，它会占用整个屏幕。

这是我用来创建视图的代码。这是一项学校作业，我不能为此使用 XML 布局。我被分配做一个控制，我已经完成了。我只是想做一个简单的活动来展示控件。

```
public class MainActivity extends Activity {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        LinearLayout layout = new LinearLayout(this);
        layout.setOrientation(LinearLayout.VERTICAL);

        layout.addView(new MovingBox(this));

        RadioGroup radioGroup = new RadioGroup(this);
        radioGroup.setOrientation(RadioGroup.HORIZONTAL);
        radioGroup.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT));

        RadioButton button = new RadioButton(this);
        button.setText("Light");
        button.setLayoutParams(new RadioGroup.LayoutParams(RadioGroup.LayoutParams.MATCH_PARENT, RadioGroup.LayoutParams.WRAP_CONTENT, 1));
        radioGroup.addView(button);

        button = new RadioButton(this);
        button.setText("Dark");
        button.setLayoutParams(new RadioGroup.LayoutParams(RadioGroup.LayoutParams.MATCH_PARENT, RadioGroup.LayoutParams.WRAP_CONTENT, 1));
        radioGroup.addView(button);

        button = new RadioButton(this);
        button.setText("Colorful");
        button.setLayoutParams(new RadioGroup.LayoutParams(RadioGroup.LayoutParams.MATCH_PARENT, RadioGroup.LayoutParams.WRAP_CONTENT, 1));
        radioGroup.addView(button);

        layout.addView(radioGroup);

        // If I move these next to lines just below layout.setOrientation(...) it becomes the only thing visible
        TweenerControl tw = new TweenerControl(this);
        layout.addView(tw);

        setContentView(layout);
    }
} 
```

**最后添加图表：（**一切都合适，但我想要顶部的图表）

![最后添加图表](../Images/2d3c180f55f7944b77a0cb9467214ae6.png)

**先加图：（**只有图可见）

![首先添加图表](../Images/fd65e85e5566cf3bc6a2e30a5797a734.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T17:08:57.580

我在这方面做了更多的工作，我想出的解决方案是不使用`LinearLayout`，`RelativeLayout`而是使用。`RelativeLayout`尝试定位和调整事物的大小以使其适合，而`LinearLayout`只是获取事物的大小并将它们按从上到下的顺序排列，其中较高的项目`LinearLayout`不关心较低项目的大小`LinearLayout`。

# visual-studio-2010 - 如何组织 DataClasses.dbml 文件

> ID：12470182
> 
> 赞同：1
> 
> 时间：2012-09-18T03:58:24.280
> 
> 标签：visual-studio-2010, linq, visual-studio, linq-to-sql

我想了解人们如何以更具可扩展性的方式管理 dbml 文件？

您是否只有一个 DataClasses1.dbml 并将每个表都拖入其中？

您是否有单独的文件用于单独的逻辑分组，例如帐户、人力资源？如果是这样，当一个表链接到另一个 dbml 文件中的表时，您如何直观地查看外键关系？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:02:00.107

更好的是为所有表格使用一个`DBML`文件，这样你就可以看到所有的关系，例如等等。但这`Foreign Key`完全取决于你的要求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:03:24.183

使用实体框架（与 linq-to-sql 相同） 我喜欢为数据库的不同部分使用单独的上下文类。

但什么是“与众不同”？

在大多数情况下，与应用程序的核心业务相关的所有内容都过于相互关联，以至于单独的上下文没有意义。但几乎每个应用程序都有横向任务，如授权、翻译、审计等。这些是单独上下文的良好候选者。

尽管如此，仍然会有与业务逻辑的连接。您可能知道，您不能以将连接转换为 SQL 的方式从不同的上下文连接类。只存在于记忆中。因此，在多个上下文中复制一些实体很有用。因此，例如，业务上下文和授权上下文都将包含`User`实体。一个上下文应该负责实体的维护，而另一个上下文应该以只读方式使用它。

**编辑**

通过实体的重复，我的意思是两个（或更多）上下文可以有一个实体映射到数据库中的同一个表。喜欢`User`。如果您愿意，业务上下文可以用于创建和更新用户，授权上下文（例如）用于向特定用户添加角色，而不修改用户本身。

# frame - 结构 CGRect 中没有名为“框架”的成员

> ID：12470186
> 
> 赞同：0
> 
> 时间：2012-09-18T03:59:08.717
> 
> 标签：frame, cgrect

我收到错误“结构 CGRect 中没有名为 'frame' 的成员”。

```
 UITouch *touch = [[event2 allTouches] anyObject];
CGPoint touchlocation = [touch locationInView:self.view];
if ( CGRectContainsPoint( enemy.frame, touchlocation ) ) {
    MedalGo = 0;
    // inside imgView
} else {
    // outside imgView Now we will found out is it within proximityImgViewRect
    CGRect proximityImgViewRect = CGRectMake( enemy.frame.origin.x-25,enemy.frame.origin.y - 25, enemy.frame.size.width+50,enemy.frame.size.height+50);
    if ( CGRectContainsPoint( proximityImgViewRect.frame, touchlocation ) ) {
        // inside proximityImgViewRect
        MedalGo = 1;

    } else {
        //outside proximityImgViewRect
        MedalGo = 0;
    }
} 
```

任何帮助，将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T04:03:21.117

CGRect 是框架。

```
 if ( CGRectContainsPoint( proximityImgViewRect.frame, touchlocation ) ) 
```

不

```
 if ( CGRectContainsPoint( proximityImgViewRect, touchlocation ) ) 
```

是的

# iphone - UIView中的UIButton不可点击

> ID：12470188
> 
> 赞同：5
> 
> 时间：2012-09-18T03:59:10.043
> 
> 标签：iphone, ios, uiviewcontroller, uibutton

我有点卡在这个上，我有一个`UIButton`内部 a `UIViewController`，但由于某种原因`UIButton`没有响应。

```
_downloadButton = [[DownloadButtonViewController alloc] init];
_downloadButton.issue = _issue;
_downloadButton.view.frame = CGRectMake(self.descriptionLabel.frame.origin.x, self.descriptionLabel.frame.origin.y + self.descriptionLabel.frame.size.height + 20, 200, 27);
[self.view addSubview:_downloadButton.view];

UIButton *tmpButton = [UIButton buttonWithType:UIButtonTypeRoundedRect];
tmpButton.titleLabel.text = @"test";
tmpButton.frame = CGRectMake(_downloadButton.view.frame.origin.x, _downloadButton.view.frame.origin.y - 30, _downloadButton.view.frame.size.width, _downloadButton.view.frame.size.height);
[self.view addSubview:tmpButton]; 
```

为了查看是否没有任何东西与它重叠，我添加了`UIButton`一个稍微低一点的东西，即使我将它添加到相同的位置它仍然有效。

我的应用程序的结构是这样的

```
- UIViewController
    - UIScrollView
        - ThumbCover
            - UIImageView
            - DownloadButton --> NOT WORKING
            - UIButton --> WORKING
            - UILabel
        - ThumbCover
            - UIImageView
            - DownloadButton --> NOT WORKING
            - UIButton --> WORKING
            - UILabel
        - ThumbCover
            - UIImageView
            - DownloadButton --> NOT WORKING
            - UIButton --> WORKING
            - UILabel
        - ThumbCover
            - UIImageView
            - DownloadButton --> NOT WORKING
            - UIButton --> WORKING
            - UILabel 
```

这`DownloadButton`只是一个简单的`UIButton`，没有什么特别的。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-18T04:09:22.160

您已将 viewcontroller 视图的高度指定为 27

```
_downloadButton.view.frame = CGRectMake(self.descriptionLabel.frame.origin.x, self.descriptionLabel.frame.origin.y + self.descriptionLabel.frame.size.height + 20, 200, 27); 
```

如果您的按钮框架在其父视图（视图控制器的视图）的框架之外，即上述框架，它不会响应您的触摸

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T04:36:27.607

你真的为按钮设置了一些目标吗？（问，因为在提供的代码中，我看不到！）否则，它当然不会响应。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T05:32:44.290

我把你的代码，但改变了覆盖的两行，所以试试这个代码......

```
_downloadButton = [[DownloadButtonViewController alloc] init];
_downloadButton.issue = _issue;
_downloadButton.view.frame = CGRectMake(self.descriptionLabel.frame.origin.x, self.descriptionLabel.frame.origin.y + self.descriptionLabel.frame.size.height + 20, 200, 27);

UIButton *tmpButton = [UIButton buttonWithType:UIButtonTypeRoundedRect];
tmpButton.titleLabel.text = @"test";
tmpButton.frame = CGRectMake(_downloadButton.view.frame.origin.x, _downloadButton.view.frame.origin.y - 30, _downloadButton.view.frame.size.width, _downloadButton.view.frame.size.height);
[self.view addSubview:tmpButton];
[self.view addSubview:_downloadButton.view]; 
```

希望这可以帮助你...

:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-03T06:56:27.913

就我而言，我的动画过渡似乎尚未完成。我忘了`completeTransition:Bool`在我的方法的末尾 `animateTransition:context`放置我的视图控制器中的所有按钮禁用而不是`userinteractionEnabled`。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-09-18T04:10:43.940

看着你这段代码

```
_downloadButton = [[DownloadButtonViewController alloc] init]; 
```

并不是我的意思是你的命名方式是错误的，但我怀疑你的 DownloadButtonViewController 是否是 UIButton。只是为了确保打开你的**DownloadButtonViewController.h**并检查你是否有这个

```
@interface DownloadButtonViewController : UIButton 
```

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2012-09-18T05:40:18.903

```
replace this line.. 

tmpButton.titleLabel.text = @"test"; 
```

作为

```
[tmpButton setTitle: @"test" forState:UIControlStateNormal]; 
```

# php - 如何优化这个 PHP 脚本？

> ID：12470192
> 
> 赞同：0
> 
> 时间：2012-09-18T04:00:21.807
> 
> 标签：php, mysql

所以我有一个通过 Cron Job 执行的 PHP 脚本，它花费的时间太长（每次大约 25 秒），我需要优化它。脚本运行时，它滞后于我的服务器（在脚本完成之前不允许任何人访问任何其他页面），我想减少它滞后的时间或优化它，使其接近零滞后.

我知道很难优化，因为脚本在做什么，但我的代码概述如下：

1.  从数据库中选择所有用户并获取他们的令牌 (LIMIT 0, 200)
2.  遍历所有用户并将该令牌存储在数组中
3.  对于数组中的每个标记
    1.  创建 API 对象
    2.  发出 http 请求以从 API 获取新的用户详细信息
    3.  检查接收来自 HTTP 请求的响应时是否发生错误
        1.  如果没有错误，则使用来自 API 的最新数据的 http 响应更新用户
        2.  如果出现错误，则将用户帐户设置为非活动状态

这个逻辑的问题是我正在发送一个 HTTP 请求，然后等待响应，然后我继续循环。我想做的是一次发送所有请求，然后有一个回调函数可以在收到数据时处理数据并相应地进行更新。但是我遇到了麻烦。

PHP代码：

```
<?php
require('functions.php');

global $mysqli;

$select = $mysqli->prepare("SELECT `token` FROM `users` ORDER BY `last_updated` ASC LIMIT 0, 200");
$select->execute();
$select->bind_result($cur_token);

$tokens = array();

while($select->fetch())
{
    array_push($tokens, $cur_token);
}

foreach($tokens as $token)
{
    $api = Instaphp\Instaphp::Instance();
    $api = Instaphp\Instaphp::Instance($token);
    $info = $api->Users->Info();

    if(empty($info->error))
    {
        $info->data->token = $token;
        $update = $mysqli->prepare("UPDATE `users` SET `a` = ?, `b` = ?, `c` = ?, `d` = ?, `e` = ?, `f` = ?, `g` = ?, `h` = ?, `i` = ?, `j` = NOW() WHERE `k` = ?");
        $update->bind_param('isssssiiii', $info->data->id, $info->data->username, $info->data->bio, $info->data->website, $info->data->profile_picture, $info->data->full_name, $info->data->counts->media, $info->data->counts->followed_by, $info->data->counts->follows, $info->data->id);

        $update->execute();

    } else if($info->error->code == 400) {
        $update = $mysqli->prepare("UPDATE `users` SET `active` = 0, `last_updated` = NOW() WHERE `token` = ?");
        $update->bind_param('s', $token);
        $update->execute();
    }
}

?> 
```

# asp.net-mvc-3 - 页面刷新时的自定义显示模板行为

> ID：12470193
> 
> 赞同：1
> 
> 时间：2012-09-18T04:00:24.537
> 
> 标签：asp.net-mvc-3

刷新页面时，我的自定义模板出现问题。我的场景是要显示多个地址记录，其中我选择使用自定义模板，因此我不必使用 foreach() 来显示每条记录。这是我的自定义模板代码：

```
@model Address

<div>
@Html.LabelFor(model => model.AddressLine)
@Html.DisplayFor(model => model.AddressLine)
<br />
</div> 
```

假设我有 2 个地址记录要显示。发生的情况是，在初始页面加载时，它将正确显示 2 条记录，但是当刷新页面时，它将再次显示 2 条记录，现在我最终在屏幕上显示 4 条记录。随后的页面刷新将在屏幕上显示更多重复项。我的问题是，我需要处理那个页面刷新事件吗？还是我只是在这里做一些非常明显的错误？

**更新**

按照这里的要求是我的视图和操作代码，

看法：

```
@model Patient
<div id="editDetails">
@using(Html.BeginForm("Edit", "Patient"))
{
    @Html.DisplayFor(m => m.Addresses)
    <input type="submit" value="Submit" />
}
</div> 
```

行动：

```
public ActionResult Details(string id)
{
    Patient patient = patientRepository.GetPatientData(id);
    if (patient != null)
    {
        patientData.GetOtherDetails(patient);
        return View(patient);
    }
    else
        return View();
} 
```

# jakarta-ee - 我应该选择哪个 lucene 包？当我在 nexus 中搜索时，有很多包

> ID：12470194
> 
> 赞同：1
> 
> 时间：2012-09-18T04:00:30.697
> 
> 标签：jakarta-ee, maven, lucene, nexus

是否有任何教程可以帮助我在这些包之间进行选择？

![由于选择太多，我不知道我应该选择哪一个](../Images/73cb1b556ef8bdc64cc60b617040e2f1.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:17:37.657

你可能想要`lucene-core`. 根据需要安装其他。

对于你不熟悉的人，我建议使用谷歌。

这就是其他人所做的:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:44:46.390

如果您将它与 java 一起使用，我会使用[Solr](http://lucene.apache.org/solr/)，它是一种 lucene 的风格，支持本地保存基本的 java 类型。

我已经在几个项目中使用它，总是非常成功。

# php - 重新排列主键

> ID：12470197
> 
> 赞同：0
> 
> 时间：2012-09-18T04:00:51.847
> 
> 标签：php, mysql, primary-key

我有一个 PHP 页面，它与这个结构简单的小型 MySQL 数据库表进行交互。`ID`, `Name`,`Address`是字段。`ID`是主键。

```
+------+------------+-------------+
|  ID  |   Name     |   Country   |
|______|____________|_____________|
| E001 |  Stephen   |   America   |
| E002 |  John      |   Britain   |
| E003 |  Kate      |   Canada    |
| E004 |  Carlos    |   Spain     |
| E005 |  James     |   Australia |
|______|____________|_____________| 
```

如果我删除**E003**处的记录，它看起来像这样。

```
+------+------------+-------------+
|  ID  |   Name     |   Country   |
|______|____________|_____________|
| E001 |  Stephen   |   America   |
| E002 |  John      |   Britain   |
| E004 |  Carlos    |   Spain     |
| E005 |  James     |   Australia |
|______|____________|_____________| 
```

**E002**和**E004**之间出现间隙。

有没有办法*填补*这个空白？像这样

```
+------+------------+-------------+
|  ID  |   Name     |   Country   |
|______|____________|_____________|
| E001 |  Stephen   |   America   |
| E002 |  John      |   Britain   |
| E003 |  Carlos    |   Spain     |
| E004 |  James     |   Australia |
|______|____________|_____________| 
```

较早的有**E004**的记录，落入**E003**的位置。前**E005**得到编号**E004**等等。喜欢记录*退后一步*。

有没有办法以编程方式做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:10:07.020

您是否有理由需要重新编号？关键值应该不重要。如果他们这样做（即，它们用于外部目的），请考虑让外部键成为表中的常规列，并让主键成为自动增量整数字段。即使你这样做了，你仍然可能不应该重新编号键。这意味着所有外部依赖项也需要更新。这样做并没有太大的价值。

但是，如果必须...

如果键是自动递增的（应该是），你可以这样做：

```
ALTER TABLE MyTable DROP ID;
ALTER TABLE MyTable ADD COLUMN ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT FIRST; 
```

如果不是，那么您可以做几件事，但最简单的可能是使用变量作为计数器。为了使这更容易，请不要使用字符串主键，而是使用纯数字主键。

```
SET @id = 0;

UPDATE MyTable
SET ID = (@id := @id + 1)
ORDER BY ID; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:12:28.337

在您的数据库中，表 ID 是主键，它是字母数字。

我不认为这是在表中重新排列主键的好方法。它与其他表的所有关系都会被搞砸。

尝试使用数字主键而不是字符串。

如果您使用数字主键，您可以通过删除并重新创建具有自动增量的主键列来重新排列它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T04:21:07.970

由于您的`ID`字段不是一个`integer`字段，因此您不能仅通过一个查询来完成它，您需要在间隙后对所有记录进行循环并更新 ID 字段。

但更好的方法可能是将`ID`字段类型更改为自动递增无符号整数，然后通过知道`ID`间隙等于之前的最后一个，`gID`您可以执行如下查询：

```
UPDATE table_name SET `ID` = (`ID` - 1) WHERE `ID` > gID; 
```

然后你只需要更新你的 auto_increment 值：

```
ALTER TABLE `table_name` AUTO_INCREMENT = (SELEC `ID` FROM `table_name` ORDER BY `ID` DESC LIMIT 1); 
```

由于您的`ID`字段中的所有记录都有字母“E”，因此可以去掉这个字母并将字段类型更改为`AUTO INCREMENT UNSIGNED INTEGER`

# settings - Ubuntu 64 位 12.04 上 sublimeText 2.0.1 的配置文件在哪里？

> ID：12470199
> 
> 赞同：12
> 
> 时间：2012-09-18T04:02:03.877
> 
> 标签：settings, sublimetext2

我正在尝试根据默认设置将我的 python 版本更改为 /usr/bin/python3 我会进行更改：

```
// Settings may also be placed in file type specific options files, for
// example, in Packages/Python/Python.sublime-settings for python files. 
```

我根本找不到 Packages/Python/ 或 Python.sublime-settings 目录或文件。 [在 Sublime Text2 中设置 Python 版本时遇到问题](https://stackoverflow.com/questions/12342004/trouble-setting-python-version-in-sublime-text2)

我验证了新下载也缺少此文件夹结构。Ubuntu 64 位软件包的用户定义设置的目录和/或文件在哪里？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-09-18T10:34:28.620

`Packages/Python/`目录应该位于

```
~/.config/sublime-text-2/Packages/Python 
```

查找`Packages`目录所在位置的提示：从菜单中打开默认设置`Preferences/Settings-Default`并查看文件的完整路径：

![在此处输入图像描述](../Images/22dfe0417dec3d9eb1ddf00db314fcca.png)

# android - Android中shell命令“find”的源代码

> ID：12470206
> 
> 赞同：-3
> 
> 时间：2012-09-18T04:02:46.013
> 
> 标签：android, android-shell

`find`我试图在 github 上的 Android 源代码中查找，但在任何地方都没有找到该命令的实现。

~~谁能告诉我它在哪里。~~

~~谢谢。~~

编辑：开箱即用的 Android 不提供任何`find`命令。需要的是一些实现的源代码，`find`以便它可以在 Android 上运行。理想情况下，答案应该为我们提供一些可以在必要时修改的源代码，但指向已编译二进制文件的指针也是相关的。也欢迎替换脚本。

有用的链接：[`man find`](http://unixhelp.ed.ac.uk/CGI/man-cgi?find)（find 命令的手册页）。Android 是一个 Linux，其命令行 shell 可通过`adb shell`. Shell 脚本编写者通常假设该`find`命令可用（在大多数平台上都是如此，但在 Android 上则不然）。

EDIT2（事实上，这应该是可能的答案之一，但问题已经结束）：

`find` [可以在这里找到](https://stackoverflow.com/a/28449946/755804)一个轻量级的实现。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:08:04.550

android中没有`find`命令。

您可以尝试使用[busybox](http://www.busybox.net/)。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-18T04:36:58.430

我将假设您了解如何使用 Linux`find`命令，并且您只需要在 Android 中运行 linux 命令的帮助。

[su 进程中的读取命令输出](https://stackoverflow.com/questions/6896618/read-command-output-inside-su-process)之类的东西可能会对您有所帮助。

此外，您可以使用[http://code.google.com/p/roottools/](http://code.google.com/p/roottools/)运行命令行进程。它大大简化了它，并且您实际上不必在我上次检查时以 root 身份运行进程。

如果我完全不符合您的要求，请说明您的需求，我会尽力提供帮助。

# macos - 在 Mac OS X 终端中，如何更改注释行的字体颜色？

> ID：12470208
> 
> 赞同：1
> 
> 时间：2012-09-18T04:02:56.687
> 
> 标签：macos, terminal

我不知道如何在终端中仅更改注释行的字体颜色（以 # 开头）。

当我可以很容易地看到哪些行是注释而哪些行不是时，我发现它更清楚了。

**编辑**：我正在使用 Nano，我想通过 SSH 从 Mac OS X 的终端连接到我的远程 Ubuntu 机器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:24:53.180

我认为，它与 mac osx 或终端没有任何关系。

你可以为 nano 设置语法高亮。请参阅此页面，例如：[Syntax highlighting on nano](https://askubuntu.com/q/90013)。

# ruby - erb & HTML，我应该输入什么名称，名称和值？

> ID：12470209
> 
> 赞同：3
> 
> 时间：2012-09-18T04:03:15.707
> 
> 标签：ruby, sinatra, erb

我已经有几年没有编程了，我正在创建一个小测验来帮助我练习一些用于功课的词汇。

![测验将如下所示](../Images/29a561d8d8cbcc2142f19ddaae66852a.png)

在我的文件 quiz.erb 中，我有以下内容：

*   <%= 问题 %>" type="text" name="<%= @name %>" value="<%= @value %>" />

在我的主文件 it_quiz.rb 中，我有这样的问题（顺便说一下，我使用的是 Sinatra）：

```
get '/' do
  @title = 'Italian Quiz'
  @questions = Hash.new
  @questions["a dog"] = ["un cane"]
  @questions["a cat"] = ["un gatto"]
  @questions["hello"] = ["ciao", "salve"]
  @id, @name, @value =
  erb :quiz
end 
```

如您所见，我没有将@id、@name 或@value 设置为任何值。我应该把它设置成什么？这个项目可能有点超出我的想象，（而且我知道有很多测验程序就足够了），但我真的很想学习这个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:29:13.653

梅兰妮，

很高兴你在这方面工作，当我看到初学者挑战自己学习更多知识并用代码解决自己的问题时，这总是让我感到鼓舞。

我想了想，并决定最好的方法是用视频来回答这个问题，因为一些决定中有一些背景和想法，所以我认为如果它们被捕获会更有帮助。这使得答案不太有用（人们无法快速扫描某些文本来找到答案），但无论如何这是一个非常具体的问题，因此它可能只会对与您的情况非常相似的人有所帮助，这意味着该视频可能对他们也更有帮助。

**[更改](https://github.com/JoshCheek/IQ.git)在github 上。**

**[这](https://vimeo.com/49660128)是视频。**

如果我制作课程的内容超出了您所熟悉的范围，那么您可能会发现[Ruby Kickstart](http://ruby-kickstart.com/)很有用，这是我为初学者教授 Ruby 的网站（对于初学者来说它可能会有点快，但鉴于您的问题，我'希望你有能力和坚韧跟随）。它是免费的，所有材料都是开源的并且易于访问。

看起来你也在芝加哥，我们在芝加哥有一个丰富的 Ruby 社区：

*   您可以随时参加[ChicagoRuby](http://www.meetup.com/ChicagoRuby/)活动（尤其是黑客之夜）并寻求帮助或反馈。
*   我们每周二早上都有[代码和咖啡](https://twitter.com/mikelikesbikes/status/247806316725288961)，当我可以早起时去（比我想承认的要少）它是非结构化的，但人们很友好并且乐于提供帮助。
*   我也在11 月 28 日针对你的经验水平的人做一个[演讲，它是关于如何获得有效的反馈，这样你就可以解决这些问题。](http://8th-light.gathers.us/events/8lu-understand-all-the-things-recipes-for-responsive-feedback)

希望这对您有所帮助。坚持下去，你做得很好，编码是你能学到的最有价值的东西之一:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:27:25.990

从您所做的事情来看，我相信您希望在评估结果的答案后填充 Sinatra 的参数以在您的视图中使用。因此，对于 id，也许问题的索引是合适的。您可能会更改代码以显示 each.with_index 或 each_with_index 以便您可以分配该值。

您也可以自由地使用其他东西而不是名称和值作为名称。这是您的表单，根据您的需要创建它们来传达您的代码。

不过，我不会从你到目前为止所拥有的情况中推测过去。

# sql - 十进制值不同范围（区间）的不同计算

> ID：12470219
> 
> 赞同：1
> 
> 时间：2012-09-18T04:04:04.110
> 
> 标签：sql, tsql

十进制类型字段需要拆分为范围（区间），以不同方式计算，然后求和。

这个问题涉及字段值，而不是行。因此，对于表中每一行中的某个字段（fieldX）：

```
FieldX <  0.013           <----remain just FieldX
FieldX >= 0.013 to 0.026  <----be multiplied with 50%.
FieldX >  0.026           <----be omitted. 
```

*编辑评论：*`[0.013, 0.026]`下面的示例显示了表达式为封闭封闭范围内的值：

*   `0.013 + (FieldX - 0.013) * 0.5`

然后这些范围（间隔）或部分需要相加。

示例案例：

```
FieldX     Result
-0.12      -0.12
-0.05      -0.05
+0.05      +0.05                                 — mismatch with specification
+0.011     +0.011
+0.014     +0.0135 = (0.013 + (0.014-0.013)*50%)
+0.021     +0.017  = (0.013 + (0.021-0.013)*50%)
+0.026     +0.0195 = (0.013 + (0.026-0.013)*50%)
+0.031     +0.0195 = (0.013 + (0.026-0.013)*50%) — mismatch with specification 
```

我将颁发诺贝尔奖给解决它的天才！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:07:20.273

您应该能够使用[CASE 语句执行此操作](http://msdn.microsoft.com/en-us/library/ms181765.aspx)

```
SELECT  *,
        CASE 
            WHEN FieldX < 0.013
                THEN FieldX
            WHEN FieldX >= 0.013 and FieldX < 0.026 
                THEN 0.013 + (FieldX - 0.013 ) * .5
            ... and so on
        END
FROM    [Table] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:56:06.757

```
SELECT SUM(CASE
           WHEN FieldX <  0.013 THEN FieldX
           WHEN FieldX <= 0.026 THEN 0.013 + 0.5 * (FieldX - 0.013)
           ELSE                     NULL
           END)
  FROM YourTable 
```

聚合忽略 NULL，相当于忽略它。请注意，对于 SUM()，您可以使用 0.0 代替 NULL，但不能用于 COUNT 或 AVG。忽略行的另一种方法是使用 WHERE 子句将它们过滤掉，当然：

```
SELECT SUM(CASE
           WHEN FieldX <  0.013 THEN FieldX
           WHEN FieldX <= 0.026 THEN 0.013 + 0.5 * (FieldX - 0.013)
           END)
  FROM YourTable
 WHERE FieldX <= 0.026 
```

# android - 如何对列表进行排序 在安卓中

> ID：12470227
> 
> 赞同：2
> 
> 时间：2012-09-18T04:05:30.720
> 
> 标签：android, arraylist

我有一个`List<Size> list1`来自`parameters.getSupportedPreviewSizes()` 我想按升序对其进行排序的内容`(width * height)`。
我试过了`Collection.sort`，但似乎不起作用。
对列表进行排序的最佳方法是什么？谢谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T04:09:45.913

使用自定义[`Comparator`](http://developer.android.com/reference/java/util/Comparator.html).

> A`Comparator`用于比较两个对象以确定它们相对于彼此的顺序。在给定的情况下`Collection`，a`Comparator`可用于获得*完全有序*`Collection`的排序。

 *```
final Camera camera = ...;
final List<Camera.Size> sizes = camera.getParameters().getSupportedPreviewSizes();
Collections.sort(sizes, new Comparator<Camera.Size>() {

  public int compare(final Camera.Size a, final Camera.Size b) {
    return a.width * a.height - b.width * b.height;
  }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:07:34.220

您需要实现一个`Comparable`接口来指定如何对一个对象进行评估，然后使用`Collections.sort()`方法按所需的顺序进行排序。

```
class Size implements Comparable<Size>{

    Integer width;
    Integer height;

    public Integer getArea(){
        return width*height;
    }

    @Override
    public int compareTo(Size o) {
        return getArea().compareTo(o.getArea());
    }
} 
```*

# osx-lion - 第一个小部件在 Dashcode 中不起作用，但在部署时起作用。我可以解决这个问题吗？

> ID：12470232
> 
> 赞同：0
> 
> 时间：2012-09-18T04:06:21.180
> 
> 标签：osx-lion, dashboard, dashcode

我是 Dashcode 的新手。我使用倒计时模板创建了教科书“仪表板小部件教程”。当我告诉 Dashcode 运行小部件时，小部件窗口会短暂出现。（它在不到一秒钟后消失。）小部件消失后，dashcode 报告它正在运行。如果我让 Dashcode 暂停，它会通过日志消息“下次机会暂停”来确认。在我通常在几分钟后告诉 Dashcode 停止之前，没有进一步的反馈。

如果我部署到仪表板，小部件可以正常工作。这是我目前的解决方法，尽管我不确定当我想调试小部件时会怎样。

我在 Lion (10.7.4) 上使用 Dashcode 3.0.5。

Stack Overflow [First 小部件在 Dashcode 中有效，但在部署时无效](https://stackoverflow.com/questions/1431061/first-widget-works-in-dashcode-but-not-when-deployed)。这不是发生在我身上的事情，我有“相反”的问题。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-08T16:05:15.940

我有同样的问题。我猜版本 3.0.5 不适用于 Lion。

我解决了下载 3.0.4 版（[Xcode 的 DashCode - 2012 年 3 月](http://adcdownload.apple.com/Developer_Tools/dashcode_for_xcode__march_2012/dashcode_for_xcode.dmg)）

# iphone - 方法的返回值

> ID：12470233
> 
> 赞同：0
> 
> 时间：2012-09-18T04:06:43.550
> 
> 标签：iphone, ios, nsmutablearray

我有一个返回 NSMutableArray 的方法。我从另一个类调用此方法，我想知道如何将返回的 NSMutableArray 放入调用它的类中的接收对象中。

**我的班级.m**

```
- (NSMutableArray *)getMutableArray
{
    // Do some stuff

    return myMutableArray
} 
```

**调用类.m**

```
- (void)getMeMyMutableArray {

  // not really sure what to do here.. but something like.....

  // initialize class
  myClass *mc = [[myClass alloc] init];

  // call myClass method
  [mc getMutableArray]; // how do I get the returning value into a mutableArray in this class?
} 
```

希望这是有道理的..任何帮助将不胜感激

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:08:24.637

NSMutableArray *myArray = [myClass getMutableArray];

# arrays - 大型数组的自动完成

> ID：12470234
> 
> 赞同：3
> 
> 时间：2012-09-18T04:07:13.090
> 
> 标签：arrays, jquery-ui, autocomplete, jquery-ui-autocomplete

我正在构建一个网络应用程序，用户可以在其中搜索一个位置，并且可能的位置是从一个数量约为 10,000 的数据库中提取的。我想为此使用 jQuery UI 自动完成插件，并且想知道将 10,000 个站点加载到它搜索的数组中是否现实。如果不是，我该怎么做才能使其工作并加快速度。

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T04:25:30.097

您可能不想向每个浏览器发送 10,000 个位置。退房：http: [//jqueryui.com/demos/autocomplete/#remote](http://jqueryui.com/demos/autocomplete/#remote)

jquery 将在传递 2 个字符后将部分字符串发送到服务器（在该示例中）。然后你发回10个左右的比赛。随着用户输入更多字符，匹配会更加精确，直到用户看到他们想要的。

我也使用子字符串匹配来完成此操作，尽管快速且典型的方法是匹配字符串的开头。

在服务器端，您可能希望以某种方式缓存匹配项。

# iphone - 检查日期是否在 iPhone 中的两天之间

> ID：12470236
> 
> 赞同：1
> 
> 时间：2012-09-18T04:07:22.440
> 
> 标签：iphone, ios, nsdateformatter, date-comparison

我知道如何比较日期。在我的情况下，让 Date1 = 2011-10-14 & Date2 =2011-10-20 。我想检查 10 月 15 日是否在 Date1 和 Date2 之间。我为此使用以下代码：

```
if ( [date compare:Date1] == NSOrderedDescending && [date compare:Date2] == NSOrderedAscending) {   
            //write codes

        } 
```

但这不会检查 10 月 15 日是否位于 10 月 14 日至 20 日之间。而是检查整个日期。那么，我将如何实现这一点。提前谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T04:24:36.570

我希望以下代码对您有所帮助。假设 Date1 和 Date2 你有，

```
NSCalendar *calendar = [NSCalendar currentCalendar];
NSInteger desiredComponents = (NSDayCalendarUnit | NSMonthCalendarUnit);

NSDateComponents *firstComponents = [calendar components:desiredComponents fromDate:Date1];
NSDateComponents *secondComponents = [calendar components:desiredComponents fromDate:Date2];

NSDate *firstWOYear = [calendar dateFromComponents:firstComponents];
NSDate *SecondWOYear = [calendar dateFromComponents:secondComponents];

NSComparisonResult result = [firstWOYear compare:SecondWOYear];
if (result == NSOrderedAscending) {
    //Date1 is before Date2
} else if (result == NSOrderedDescending) {
    //Date1 is after Date2
}  else {
    //Date1 is the same day/month as Date2
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T04:33:57.733

其中**date1** = 2011-10-14 和**date2** =2011-10-20 并且**date**是您要检查的日期。

做这个

```
if([date timeIntervalSince1970] >= [date1 timeIntervalSince1970] && [date timeIntervalSince1970] <= [date2 timeIntervalSince1970])
{
    NSLog(@"%@ lies between and including %@ and %@",date,date1,date2);
   // if you just wanna check for between (not including) two dates just remove the equal signs above in condition check
}
else
    NSLog(@"%@ does not lie between %@ and %@",date,date1,date2); 
```

上面的代码将检查日期是否介于给定的两个极端日期之间（包括），但如果您只想检查（但不包括）极端日期之间，那么只需从 if 条件检查中删除等号。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T04:53:14.883

**比较->**

```
NSString *dateString1 = @"2011-10-14";
NSDateFormatter *formatter = [[NSDateFormatter alloc]init];
formatter.dateFormat = @"yyyy-MM-dd";

NSDate *date1 = [formatter dateFromString:dateString1];

NSString *dateString2 = @"2011-10-20";    
NSDateFormatter *formatter2 = [[NSDateFormatter alloc]init];
formatter2.dateFormat = @"yyyy-MM-dd";

NSDate *date2 = [formatter2 dateFromString:dateString2];

NSString *dateString3 = @"2011-10-15";
NSDateFormatter *formatter3 = [[NSDateFormatter alloc]init];
formatter3.dateFormat = @"yyyy-MM-dd";

NSDate *date3 = [formatter3 dateFromString:dateString3];

if ([date3 compare:date1] == NSOrderedDescending && [date3 compare:date2] == NSOrderedAscending) 
{
    NSLog(@"%@ lies b/w %@ and %@",dateString3,dateString1,dateString2);
}
else
{
    NSLog(@"Doesn't lie!");
} 
```

# jquery - 如何在 jQuery 中动态添加锚点/href

> ID：12470240
> 
> 赞同：8
> 
> 时间：2012-09-18T04:07:50.093
> 
> 标签：jquery

我是 jQuery 新手，我正在尝试将我的所有电话类转换为带有 h​​ref 的锚点：

**我有的**

```
<div class="phone">111-111-1111</div>
<div class="phone">666-555-4444</div> 
```

**我想要的是**

```
<div class="phone"><a href="tel:111-111-1111">111-111-1111</a></div>
<div class="phone"><a href="tel:666-555-4444">666-555-4444</a></div> 
```

我正在尝试做这样的事情，但我很迷茫：

```
$('.phone').each(function(){
  $(this).wrapInner('<a name="???' + $(this).html() + '" />');
}); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T04:16:02.780

我认为解决方案仅存在于您的问题中...

看看这个。

```
$('.phone').each(function(){
    $(this).wrapInner('<a href="tel:' + $(this).html() + '" />');
});​ 
```

**[小提琴](http://jsfiddle.net/2c2cU/)**希望这是你想要的。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-18T04:11:39.343

```
$(".phone").each(function(index, element){
    $(element).html($("<a></a>").attr("href", $(element).text()).text($(element).text()));
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T04:11:53.197

像这样试试

```
$('.phone').each(function(){
   $(this).append('<a href="' + $(this).html() + '">'+$(this).html()+'</a>');
}); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-18T04:15:52.030

像这样写这段代码：

```
$('.phone').each(function(){
    $(this).html('<a href="tel:' + $(this).html() + '">'+$(this).html()+'</a>');
}); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-18T04:12:11.177

尝试这个：

```
$('.phone').each(function(){
  $(this).html('<a name="???' + $(this).html() + '" href="tel:'+$(this).html()+'">'+$(this).html()+'</a>');
}); 
```

# javascript - fadeIn() 使用 jQuery 的不可见列表项

> ID：12470241
> 
> 赞同：0
> 
> 时间：2012-09-18T04:07:53.287
> 
> 标签：javascript, jquery

我有一个无序列表，其`li`s 一开始是不可见的 ( `display:none`)。

我想使用 JS 函数使特定`li`可见。我怎样才能做到这一点？

我已经尝试过`$("#my-list li:nth-child(1)").fadeIn()`，但这只有`ul`在开始时才有效。

这是我的代码：

```
ul.hide > li {
    display: none;
} 
```

```
<ul class="hide" id="my-list">
    <li>1</li>
    <li>2</li>
    <li>3</li>
</ul> 
```

我试图回答[这个问题](https://bountify.co/i)。随意尝试一下！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:14:56.493

使用这种方式：

~~`$("#my-list").show(0).children("li:nth-child(1)").fadeIn();`~~

`$("#my-list").show().children("li:nth-child(1)").fadeIn();`

~~让我解释一下为什么`.show(0)`比`.show()`. 当您使用`.show()`时，它会提供一个过渡，这可以缓解不需要的 DOM 元素。这就像显示一个隐藏的元素并顺利隐藏它，这是不被接受的。~~

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T06:51:54.327

就像 bdares 所说，一个不可见的元素不能有一个可见的子元素。所以你所说的关于代码是真的： ul 必须从一开始就可见。

查看 html 代码，您可能只需删除`class="hide"`这将使 ul 可见。

但是，如果您不能这样做，另一种方法是使用 Javascript 使 ul 即时可见。而不仅仅是：

```
$("#my-list li:nth-child(1)").fadeIn(); 
```

做

```
$("#my-list").show();
$("#my-list li:nth-child(1)").fadeIn(); 
```

# delphi - Crystal 8.5 具有 ChangeDatabaseDriver 功能 - 如何在 Delphi Code 中做同样的事情？

> ID：12470244
> 
> 赞同：0
> 
> 时间：2012-09-18T04:08:09.327
> 
> 标签：delphi, crystal-reports, delphi-7, crystal-reports-8.5

我们创建了大量使用 BDE 驱动程序的报告。

我们的应用程序已迁移到可以通过 ODBC 访问的数据库。所有表格、字段等都是可比较的。

由于存在许多 Crystal 报表（包括一些由第三方开发/为第三方开发的报表），我们希望能够从我们的 Delphi-7 应用程序在运行时动态更改报表使用的数据库驱动程序。

在 Crystal 中有一个菜单项来更改报告的驱动程序（ - 如果手动转换报告，这正是我们想要的。

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:09:56.847

在我的 CrystalReportWrapper 中，我发送了我的 TAdoConnection 的连接字符串，以更改水晶报表报告中的连接。

```
<TCrpe>.Connect.ServerName:= AServerName;
<TCrpe>.Connect.UserID:= AUserID;
<TCrpe>.Connect.Password:= APassWord;
<TCrpe>.Connect.DatabaseName:= ADataBaseName;
<TCrpe>.Connect.Propagate := False;
<TCrpe>.Connect.Test; 
```

# c# - 提示用户在数组中输入数字并在满足条件时退出程序

> ID：12470247
> 
> 赞同：0
> 
> 时间：2012-09-18T04:08:23.157
> 
> 标签：c#

我希望这是一件小事，而不是一个大问题。我正在编写一个程序（通过书籍自学），它将要求一个运算符，然后是一组数字，然后应用运算符来获得结果。该程序没有提示我输入数字并假定一个空数组。我想我明白出了什么问题，只是不知道如何重新编码，以便它会要求我将数字输入数组。

我很好奇的另一件事是，如果运算符无效，我可以强制程序在类代码的第一个开关中退出吗？我找到了 Application.Exit() 但这似乎只适用于 WinForms。是否有等效的 C# 代码？

我的主要方法如下：

```
 static void Main(string[] args)
    {
        MathMethodClass mathMethods = new MathMethodClass();

        int[] intArray = new int[] { };

        Console.Write("Choose an Operator + or *: ");
        string whichOp = Console.ReadLine();

        Console.WriteLine("Thank you.  You chose {0}.", mathMethods.OperatorName(whichOp));

        Console.WriteLine("Please enter an array of numbers: ");

        for (int i=0;i<intArray.Length;i++)
        {
            intArray[i] = Int32.Parse(Console.ReadLine());
        }

        Console.WriteLine("Thank you.  You entered the numbers {0}", intArray);

        Console.WriteLine("The answer is: {0}.", mathMethods.MathMethod(whichOp, intArray));

        Console.ReadLine();
    } 
```

我的班级如下：

```
class MathMethodClass
{
    public string OperatorName(string whichOp)
    {
        switch (whichOp)
        {
            case "+":
                whichOp = "addition";
                break;
            case "*":
                whichOp = "multiplication";
                break;
            default:
                Console.WriteLine("Error: Unknown Operator. Exiting ...");
                Console.ReadLine();
                break;
        }

        return whichOp;
    }

    public int MathMethod(string whichOp, params int[] theNums)
    {
        int theAnswer = 0;

        switch (whichOp)
        {
            case "+":
                for (int ct = 0; ct < theNums.Length; ct++)
                {
                    theAnswer += theNums[ct];
                }
                break;

            case "*":
                for (int ct = 0; ct < theNums.Length; ct++)
                {
                    theAnswer *= theNums[ct];
                }
                break;

            default:
                Console.WriteLine("Error. Something went wrong in the MathMethod. Exiting ...");
                Console.ReadLine();
                break;
        }

        return theAnswer;
    }
} 
```

让我知道哪里出错的任何帮助都会很棒。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:13:29.537

我想你的问题就在这里

```
int[] intArray = new int[] { }; 
```

您正在指定一个空数组，长度为 0

因此这个陈述

```
for (int i=0;i<intArray.Length;i++) 
```

永远不会进入循环。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:14:17.210

您需要指定一个数组大小，您当前正在创建一个空数组。用一些大小定义它，例如：

```
 int[] intArray = new int[5]; 
```

或者更好的方法是询问用户数组大小。在 for 循环之前添加以下代码

```
Console.Write("Enter Number of elements in Array: ");
arraySize = int.Parse(Console.ReadLine());
intArray = new int[arraySize];

Console.WriteLine("Please enter an array of numbers: ");

for (int i = 0; i < intArray.Length; i++)
{
    intArray[i] = Int32.Parse(Console.ReadLine());
} 
```

在您的原始代码中，您在循环中指定`0`大小数组，`int[] intArray = new int[] { };`稍后您将根据长度检查它，因此不会进入循环。这就是你有问题的原因。除了那个代码似乎很好。更好的方法是使用[int.TryParse](http://msdn.microsoft.com/en-us/library/system.int32.tryparse.aspx)而不是`int.Parse`，以便您可以检查有效`int`输入。

# php - imagesx() 期望参数 1 是资源，给定的布尔值

> ID：12470251
> 
> 赞同：4
> 
> 时间：2012-09-18T04:08:30.747
> 
> 标签：php, apache, laravel

我正在使用一个图像缩略图库（Laravel 的 resizer [bundle](http://bundles.laravel.com/bundle/resizer)），它从一个目录中获取一个 jpg 并用于`imagesx()`将该图像保存为不同的大小。这在大多数情况下都可以正常工作。

**问题：**但是有时当有一批图像要处理时，我会收到以下错误。在调试时，我做了

```
....
print_r($this->image);
imagesx($this->image);
.... 
```

**PHP 输出**

```
Resource id #64Resource id #67Resource id #73Resource id #76Resource id #82Resource id #85Resource id #91Resource id #94Resource id #100Resource id #103Resource id #109Resource id #112Resource id #118Resource id #121Resource id #127Resource id #130Resource id #136Resource id #139Resource id #145Resource id #148Resource id #154Resource id #157Resource id #163Resource id #166

Unhandled Exception

Message:

imagesx() expects parameter 1 to be resource, boolean given
Location:

/home/dev/public_html/bundles/resizer/resizer.php on line 69
Stack Trace:

#0 /home/dev/public_html/laravel/laravel.php(40): Laravel\Error::native(2, 'imagesx() expec...', '/home/dev/publi...', 69)
#1 [internal function]: Laravel\{closure}(2, 'imagesx() expec...', '/home/dev/publi...', 69, Array)
#2 /home/dev/public_html/bundles/resizer/resizer.php(69): imagesx(false)
#3 /home/dev/public_html/bundles/resizer/resizer.php(81): Resizer->__construct('/home/photos/pu...')
#4 /home/dev/public_html/application/controllers/crawl/cl.php(369): Resizer::open('/home/photos/pu...')
#5 /home/dev/public_html/application/controllers/crawl/cl.php(315): Crawl_CL_Controller->save_photos(Array, 2516533, '2012-09-17 18:4...')
#6 [internal function]: Crawl_CL_Controller->action_crawl_next_item()
#7 /home/dev/public_html/laravel/routing/controller.php(325): call_user_func_array(Array, Array)
#8 /home/dev/public_html/laravel/routing/controller.php(285): Laravel\Routing\Controller->response('crawl_next_item', Array)
#9 /home/dev/public_html/laravel/routing/controller.php(165): Laravel\Routing\Controller->execute('crawl_next_item', Array)
#10 /home/dev/public_html/laravel/routing/route.php(153): Laravel\Routing\Controller::call('crawl.cl@(:1)', Array)
#11 /home/dev/public_html/laravel/routing/route.php(124): Laravel\Routing\Route->response()
#12 /home/dev/public_html/laravel/laravel.php(165): Laravel\Routing\Route->call()
#13 /home/dev/public_html/public/index.php(34): require('/home/dev/publi...')
#14 {main} 
```

连同上面的堆栈跟踪，您可以看到`$this->image`它就`false`在它的`Resource id #166`.

知道是什么原因造成的吗？我不明白为什么有时会这样`false`。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T21:43:29.323

发生这种情况是因为该文件的 mime 类型未被识别或不是 jpg/jpeg/png/gif。

$this->image 在 resizer.php 的第 196 行被设置为 false。

如果你不能让它工作，请在 Github 上创建一个问题，以便我可以跟进 :-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-01-17T10:12:03.953

您可以使用**list($width, $height, $type, $attr) = getimagesize($imagesource);**而不是使用**imagesx()**来获取图像的*宽度*和**imagesy()**来获取图像的*高度*

# c# - 在 c++ 中使用 c# com 包装的 dll 会抛出未注册的类

> ID：12470254
> 
> 赞同：1
> 
> 时间：2012-09-18T04:09:15.017
> 
> 标签：c#, c++, com

当我尝试使用 CreateInstance 调用实例化由 com 包装的 ac# dll 时，出现“类未注册”异常。

以下是堆栈跟踪：

```
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\ntdll.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\kernel32.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\KernelBase.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\ole32.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\msvcrt.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\gdi32.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\user32.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\advapi32.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\sechost.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\rpcrt4.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\sspicli.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\cryptbase.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\lpk.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\usp10.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\oleaut32.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\msvcr110d.dll'. Symbols loaded.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\msvcp110d.dll'. Symbols loaded.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\imm32.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\msctf.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\uxtheme.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Program Files (x86)\FlashGet\fgmgr.dll'. Module was built without symbols.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\comdlg32.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\shlwapi.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\winsxs\x86_microsoft.windows.common-controls_6595b64144ccf1df_5.82.7601.17514_none_ec83dffa859149af\comctl32.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\shell32.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\version.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\wininet.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\normaliz.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\iertutil.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\urlmon.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\clbcatq.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\mscoree.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\Microsoft.NET\Framework\v4.0.30319\mscoreei.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\sxs.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\Microsoft.NET\Framework\v2.0.50727\mscorwks.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\winsxs\x86_microsoft.vc80.crt_1fc8b3b9a1e18e3b_8.0.50727.6195_none_d09154e044272b9a\msvcr80.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\SysWOW64\profapi.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Loaded 'C:\Windows\assembly\NativeImages_v2.0.50727_32\mscorlib\acfc1391e45fedd2a359778ea57d914c\mscorlib.ni.dll'. 
'Test.exe' (Win32): Loaded 'C:\Windows\Microsoft.NET\Framework\v2.0.50727\Culture.dll'. Cannot find or open the PDB file.
'Test.exe' (Win32): Unloaded 'C:\Windows\Microsoft.NET\Framework\v2.0.50727\Culture.dll'
First-chance exception at 0x75E7B9BC in Test.exe: Microsoft C++ exception: EEFileLoadException at memory location 0x004BDACC.
First-chance exception at 0x75E7B9BC in Test.exe: Microsoft C++ exception: [rethrow] at memory location 0x00000000.
First-chance exception at 0x75E7B9BC in Test.exe: Microsoft C++ exception: [rethrow] at memory location 0x00000000.
First-chance exception at 0x75E7B9BC in Test.exe: Microsoft C++ exception: [rethrow] at memory location 0x00000000. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:44:59.903

好吧，C# COM 类没有注册。使用 RegAsm.exe 注册 C# COM DLL。

# c# - Windows 8 和 Windows Server 2012 抛出错误“未安装 .Net Framework 3.5”

> ID：12470255
> 
> 赞同：3
> 
> 时间：2012-09-18T04:09:17.827
> 
> 标签：c#, installshield

当我尝试安装设置时，Windows 8 和 Windows Server 2012 抛出错误“.Net Framework 3.5 未安装”。我的设置是使用 InstallShield 2011 创建的，所有 dll 都是使用 .Net Framework 4.0 构建的，并且不依赖于 .Net Framework 3.5。安装程序中的先决条件检查是“.NET Framework 4.0 Full Package”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T04:34:46.123

是的，当您安装 win 8 时，您安装了 .net 4.0，但没有 .net 3.5，因此您必须下载并安装它。我自己也做了同样的事情，它运行良好:) 这是因为 .net 4.0 不完全包含 .net 3.5，这很奇怪但确实如此。

# scala - 使用锌增量编译器（scala maven插件）作为服务运行maven时Javac不在路径上

> ID：12470262
> 
> 赞同：2
> 
> 时间：2012-09-18T04:10:31.497
> 
> 标签：scala, maven, sbt, javac

我是 maven scala 插件使用的锌增量编译器的忠实粉丝，但我发现每次弹出笔记本电脑时都必须手动启动它很烦人。我编写了一个脚本来在 Ubuntu 中将它作为服务运行 - 它启动正常，但是当我运行 mvn install 时，我收到一个错误，指出它找不到程序 javac。下面是我在 /etc/init.d 中的脚本 - 注意：我指定了 $JAVA_HOME 并将其添加到 /etc/bash.bashrc 中的路径中，该路径在此脚本中明确引用。

```
#!/bin/bash

### BEGIN INIT INFO
# Provides:          zinc
# Required-Start:    $remote_fs $network
# Required-Stop:     $remote_fs $syslog
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Start compiler at boot time
# Description:       Starts and stops the zinc incremental compiler
### END INIT INFO

source /etc/bash.bashrc
PROG_PATH="/opt/zinc/bin"
PROG="zinc" 

start() {
    su - gary "-c $PROG_PATH/$PROG -start 2>&1 >/dev/null &"
    echo "$PROG started"
}

stop() {
    su - gary "-c $PROG_PATH/$PROG -shutdown 2>&1 >/dev/null &"   
    echo "$PROG stopped"
}

## Check to see if we are running as root first.
if [ "$(id -u)" != "0" ]; then
    echo "This script must be run as root" 1>&2
    exit 1
fi

case "$1" in
    start)
        start
        exit 0
    ;;
    stop)
        stop
        exit 0
    ;;
    reload|restart|force-reload)
        stop
        start
        exit 0
    ;;
    **)
        echo "Usage: $0 {start|stop|reload}" 1>&2
        exit 1
    ;;
esac 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-04T07:34:09.670

Zinc 带有 -java-home 命令参数。你试过那个吗？

# vim - 查看光标下元素的颜色（#xxxxxx）

> ID：12470266
> 
> 赞同：0
> 
> 时间：2012-09-18T04:11:27.280
> 
> 标签：vim

*查看光标当前所在的突出显示元素的颜色值（guifg 和 guibg）的最简单方法是什么？*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:41:58.223

数字，在帮助中找到它。万一有人需要这个...

```
nmap <F11> :call <SID>SynColour()<CR>

function! <SID>SynColour()
echo "guibg = ".synIDattr(synIDtrans( synID(line("."), col("."), 1) ), "bg#").", guifg = ".synIDattr(synIDtrans( synID(line("."), col("."), 1) ), "fg#")
endfunction 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T06:37:16.570

对于语法脚本开发（为什么还需要编辑器颜色？），您还需要语法组和链接的突出显示组名称。SyntaxAttr[插件](http://www.vim.org/scripts/script.php?script_id=383)在一个很好的映射中提供了这个，例如：

```
group: vimUserFuncName guifg=DarkCyan(#008b8b) gui=bold 
```

# php - 将 MySQL 结果组合成基于同一制造商的 PHP

> ID：12470270
> 
> 赞同：0
> 
> 时间：2012-09-18T04:12:08.457
> 
> 标签：php, mysql, arrays, e-commerce

我一直在电子商务网站 www.lady-elegance.co.uk 工作，它的主要产品是鞋子。该网站可以很好地显示类别等中的所有产品，但我想要做的是能够在后端将每种尺寸的每只鞋作为单独的产品保存，以记录库存水平。

例如：尺寸 10 的“shoe 1”的 ID 为 00001，尺寸 11 的“shoe 1”的 ID 为 00002，依此类推。

创建每个产品很容易，但我想要的是能够显示“鞋子 1”一次，并带有与每个产品 ID 对应的每个尺寸的下拉菜单，只显示那些有库存的尺寸。

每种鞋型显然都有自己的制造商产品 ID，我可以使用它来识别组，但如何将相同的鞋组合在一起。

我无法理解它的逻辑。有人可以帮忙吗！

我发现这个答案看起来很相似，但需要一些帮助来理解它（[点击这里](https://stackoverflow.com/questions/5839492/combining-multiple-rows-or-results-with-the-same-title-to-form-drop-down-menus-w)）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:58:34.023

我不确切知道您的数据库是什么样的，但是您可以执行以下操作：

```
function getShoes($manufacturer, $name=''){
    $manufacturer = mysqli_real_escape_string($manufacturer);
    $sql = 'SELECT id, name, size FROM shoes WHERE manufacturer = "'.$manufacturer'" AND in_stock > 0 ';
    if($name){
        $name = mysqli_real_escape_string($name);
        $sql .= 'AND name = "'.$name.'" ';
    }
    $sql .= 'ORDER BY name, size';
    $result = mysqli_query($sql);  //Results like this: id:00001, name:shoe1, size:10
    while($row = mysqli_fetch_array($result)){       // id:00002, name:shoe1, size:11
        $rows[$row['name']][] = $row;  //group them by name (assuming you have more
    }                                  //than one shoe type per manufacturer)

    foreach($rows as $name=>$shoes){
        echo('<select name="'.$name.'">');
        foreach($shoes as $shoe){
            echo('<option value="'.$shoe['id'].'">'.$shoe['name'].' - '.$shoe['size'].'</option>');
        }
        echo('</select>');
    }
} 
```

现在在你的 HTML 中，如果你调用这个函数，你会得到你指定的制造商生产的所有鞋子。例如，`getShoes('nike');`将获取所有耐克制造的鞋子，并为您提供所有选择框。您可能希望使其更具体一些，因为您不希望在耐克制造的 Shoe1 的页面设置上为耐克制造的每只鞋选择选项。所以你可以这样做`getShoes('nike', 'shoe1');`，这只会给你耐克的 Shoe1 的选择框。希望这可以帮助。:)

# asp.net-mvc-3 - 如何对 ASP.NET MVC 视图进行单元测试？

> ID：12470278
> 
> 赞同：0
> 
> 时间：2012-09-18T04:13:03.407
> 
> 标签：asp.net-mvc-3, unit-testing

谁能给我一个对 ASP.NET MVC 视图进行单元测试的示例？是否可以对视图页面进行单元测试？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T04:22:45.603

视图的单元测试没有意义，因为它是一个表示对象，不应该有应该进行单元测试的逻辑。

要测试表示，最好选择其他测试技术，如功能测试。为此有不同的工具，例如 Selenium 和 Cucumber。

# android - 在android中使用url登录时出错

> ID：12470283
> 
> 赞同：0
> 
> 时间：2012-09-18T04:14:01.317
> 
> 标签：android, url, login, httpclient

我遵循本教程并[使用 HttpClient 得到错误 Android 登录屏幕](http://sarangasl.blogspot.com/2011/06/android-login-screen-using-httpclient.html)

为什么我无法登录？我的 targetversion 是 targetSdkVersion 15 和 minSdkVersion 12。这是按下按钮登录时的错误。

主要活动

```
public class MainActivity extends Activity implements OnClickListener {

Button ok, back, exit;
TextView result;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    ok = (Button) findViewById(R.id.btn_login);
    ok.setOnClickListener(this);
    result = (TextView) findViewById(R.id.lbl_result);
}

public void postLoginData() {
    HttpClient httpclient = new DefaultHttpClient();
    HttpPost httppost = new HttpPost("http://www.sencide.com/blog/login.php");

    try {
        EditText uname = (EditText) findViewById(R.id.txt_username);
        String username = uname.getText().toString();

        EditText pword = (EditText) findViewById(R.id.txt_password);
        String password = pword.getText().toString();

        List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
        nameValuePairs.add(new BasicNameValuePair("username", username));
        nameValuePairs.add(new BasicNameValuePair("password", password));
        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

        Log.w("SENCIDE", "Execute HTTP Post Request");
        HttpResponse response = httpclient.execute(httppost);

        String str = inputStreamToString(response.getEntity().getContent()).toString();
        Log.w("SENCIDE", str);

        if (str.toString().equalsIgnoreCase("true")) {
            Log.w("SENCIDE", "TRUE");
            result.setText("Login successful");
        } else {
            Log.w("SENCIDE", "FALSE");
            result.setText(str);
        }

    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
}

private StringBuilder inputStreamToString(InputStream is) {
    String line = "";
    StringBuilder total = new StringBuilder();
    BufferedReader rd = new BufferedReader(new InputStreamReader(is));
    try {
        while ((line = rd.readLine()) != null) {
            total.append(line);
        }
    } catch (IOException e) {
        e.printStackTrace();
    }
    return total;
}

public void onClick(View view) {
    if (view == ok) {
        postLoginData();
    }
  }
} 
```

错误

```
09-18 10:50:40.531: E/AndroidRuntime(23081): FATAL EXCEPTION: main
09-18 10:50:40.531: E/AndroidRuntime(23081): android.os.NetworkOnMainThreadException
09-18 10:50:40.531: E/AndroidRuntime(23081):    at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1099)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at java.net.InetAddress.lookupHostByName(InetAddress.java:391)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at java.net.InetAddress.getAllByNameImpl(InetAddress.java:242)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at java.net.InetAddress.getAllByName(InetAddress.java:220)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:137)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at com.example.login.MainActivity.postLoginData(MainActivity.java:63)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at com.example.login.MainActivity.onClick(MainActivity.java:101)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at android.view.View.performClick(View.java:3558)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at android.view.View$PerformClick.run(View.java:14157)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at android.os.Handler.handleCallback(Handler.java:605)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at android.os.Handler.dispatchMessage(Handler.java:92)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at android.os.Looper.loop(Looper.java:137)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at android.app.ActivityThread.main(ActivityThread.java:4514)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at java.lang.reflect.Method.invokeNative(Native Method)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at java.lang.reflect.Method.invoke(Method.java:511)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:790)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
09-18 10:50:40.531: E/AndroidRuntime(23081):    at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:17:45.003

仅供参考， API 11 提供[NetworkOnMainThreadException](http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html)，如果您在主线程本身内执行长时间运行的任务，则不允许您这样做。

为了解决上述问题，请尝试在[**AsyncTask**](http://developer.android.com/reference/android/os/AsyncTask.html)**`doInBackground()`**方法中进行 webservice 调用或长时间运行的任务。仅供参考，它在 Android 中的[无痛线程。](http://android-developers.blogspot.in/2009/05/painless-threading.html)[](http://developer.android.com/reference/android/os/AsyncTask.html)

 ***例如：*

在 doInBackground() 中调用您的postData **(** **)**方法，并根据按钮单击执行此 AsyncTask 类。

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T04:33:31.443

不要在主 UI 线程中编写网络调用。取而代之的是使用 asynctask 或另一个 theread。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T05:17:43.347

这个问题的两个解决方案。

1）不要在主 UI 线程中编写网络调用，为此使用异步任务。

2) 之后将以下代码写入您的 MainActivity 文件`setContentView(R.layout.activity_main);`

```
if (android.os.Build.VERSION.SDK_INT > 9) {
    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
    StrictMode.setThreadPolicy(policy);
} 
```****

# django - Django中StringIO内容的HttpResponse

> ID：12470289
> 
> 赞同：1
> 
> 时间：2012-09-18T04:14:47.463
> 
> 标签：django, nginx

我现在有奇怪的行为。比如说，我在**StringIO**中有 zip 存档二进制数据。如果我将**HttpResponse的****内容**参数设置为**StringIO.getvalue()**，我会在客户端得到截断的文件。**StringIO.read()**和**FileWrapper(StringIO)**的结果相同。截断文件的大小每次都不同......如果我从磁盘**FileWrapper(file('/home/user1/tempfile.zip'))**读取文件，我会得到正确的文件。但我需要即时生成 zip 文件！

 *******Django 1.4，Nginx 1.1.19*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-19T18:50:48.913

看看这个：

```
import zipfile
from cStringIO import StringIO
from contextlib import closing
from django.http import HttpResponse

def foo(request):
    ...
    with closing(StringIO()) as ff:
        zipped = zipfile.ZipFile(ff, 'a')
        for i, wb in enumerate(workbooks):
            with closing(StringIO()) as f:
                wb.save(f)
                zipped.writestr('%s.xls' % (i + 1), f.getvalue())
        zipped.close()
        foo = ff.getvalue()
    filename = 'foo.zip'
    response = HttpResponse(mimetype="application/zip")
    response['Content-Disposition'] = "attachment;filename=%s" % filename
    response.write(foo)
    return response 
```******

# jquery - 用 jQuery 修改元素的 html 最安全的方法是什么？

> ID：12470294
> 
> 赞同：0
> 
> 时间：2012-09-18T04:15:21.810
> 
> 标签：jquery

很久以前我用过

```
$("#someid").html( $("#someid").html() + "Something added" ); 
```

在知道 .append() 存在之前。上面的代码有时也表现得很奇怪。

但现在我想修改 HTML 内容，而不是使用`replace()`命令。现在我能想到的修改代码的唯一方法是

```
$("#someid").html( $("#someid").html().replace("XXX","YYY")); 
```

有没有更好的办法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:39:13.373

最好的办法是将要更改的文本放入它自己的

```
<span id="something">text here</span> 
```

然后，您可以仅在单个对象上操作 HTML，而不会影响所有其他对象。

```
$("#something").html("something new"); 
```

或取决于您要替换的内容：

```
$("#something").text("new text"); 
```

这比在包含许多对象的大块 HTML 上使用更安全、更有效，`.html()`这将断开您在该 HTML 上已有的任何事件处理程序，并导致浏览器必须重新解析、重新格式化和重新显示大量HTML。

# python - 将矩阵行与字符串进行比较

> ID：12470301
> 
> 赞同：1
> 
> 时间：2012-09-18T04:16:08.383
> 
> 标签：python, string, matrix, compare, row

您如何将矩阵行（即列表列表）与给定字符串进行比较？

```
index = 99999
for i in range(len(text)):
    if (matrix[i][0:len(text)] == text):
        index = i 
```

我希望“索引”是“行 == 文本”的行数，但上面的代码输出 99999。

我确信其中一行包含该字符串。例如，矩阵是

```
 ['a', 'i', 'n', 'e', 'm']
 ['e', 'm', 'a', 'i', 'n']
 ['i', 'n', 'e', 'm', 'a']
 ['m', 'a', 'i', 'n', 'e']
 ['n', 'e', 'm', 'a', 'i'] 
```

我想知道哪一行是“缅因州”（在这种情况下是第 3 行）。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T04:34:13.943

```
for idx,row in enumerate(matrix):
  if ''.join(row) == text:
    print idx 
```

或者，作为单行：

`idx = [''.join(x) for x in matrix].index(text)`

至于为什么你的尝试没有成功，原因是这个测试：

`matrix[i][0:len(text)] == text`

在您期望它成功的时候，您实际上是在比较一个列表和一个字符串，但是`['m', 'a', 'i', 'n', 'e'] != 'maine'`. 但是，`matrix[i][0:len(text)] == list(text)`应该工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T04:35:01.897

尝试

```
try:
    index = matrix.index(list(text))
except IndexError:
    index = 99999 
```

`list(text)`将字符串转换为字符列表。`list.index`搜索您指定的项目（`==`用作相等比较）并在找到时返回其索引，`IndexError`如果未找到则引发。

我也不建议将`99999`其用作“未找到”值；使用 -1 之类的值会更安全，或者（更好的是）只保留异常，除非您打算处理它。

如果您知道字符串必须在矩阵中，那么`index = matrix.index(list(text))`您只需要。

# r - xtable 只剩下

> ID：12470306
> 
> 赞同：4
> 
> 时间：2012-09-18T04:17:02.670
> 
> 标签：r, xtable

默认`xtable`值为`\begin{center}`. 我想做到：`\begin{left}`而且`\end{left}`也是。

代码：

```
library(xtable)
xtable(anova(lm(mpg~hp, data=mtcars))) 
```

期望的结果：

```
\begin{table}[ht]
\begin{left}
\begin{tabular}{lrrrrr}
  \hline
 & Df & Sum Sq & Mean Sq & F value & Pr($>$F) \\ 
  \hline
hp & 1 & 678.37 & 678.37 & 45.46 & 0.0000 \\ 
  Residuals & 30 & 447.67 & 14.92 &  &  \\ 
   \hline
\end{tabular}
\end{left}
\end{table} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T04:25:51.417

```
print(xtable(anova(lm(mpg~hp, data=mtcars))) , booktabs=TRUE, caption.placement = "top",
    latex.environments = "left") 
```

解决方案也是如此`latex.environments = "left"`。

# c# - 需要帮助在 Windows 窗体应用程序上显示对象

> ID：12470308
> 
> 赞同：0
> 
> 时间：2012-09-18T04:17:19.753
> 
> 标签：c#, polymorphism, windows-forms-designer

我希望能够单击 Compute Pay 按钮来浏览员工对象并显示每个对象的薪水。问题是它不会超过第一个。对不起，如果答案很明显。

```
namespace WindowsFormsApplication1
{
    public partial class Form1 : Form
    {
        private const int SIZE = 4; // the size of the array
        // create array to hold employee references
        Employee[] employees = new Employee[SIZE];

        public Form1()
        {
            InitializeComponent();

            // Create some employee objects
            employees[0] = 
                new Hourly(1, "H. Potter", 
                           "Privet Drive", "201-9090", 40, 12.00);
            employees[1] = 
                new Salaried(2, "A. Dumbledore", 
                             "Hogewarts", "803-1230", 1200);
            employees[2] = 
                new Hourly(3, "R. Weasley", 
                           "The Burrow", "892-2000", 40, 10.00);
            employees[3] = 
                new Salaried(4, "R. Hagrid", 
                             "Hogwarts", "910-8765", 1000);

        }

        private void buttonCalcPay_Click(object sender, EventArgs e)
        {
            int index = 0;
            string ostring = ("Fluffshuffle Electronics check no.");
            ostring += string.Format("{0}", index);
            ostring += Environment.NewLine;
            ostring += Environment.NewLine;
            ostring += "       pay to the order of";
            ostring += employees[index].Name;
            ostring += Environment.NewLine;
            ostring += string.Format("{0:C}", employees[index].CalcPay());
            ostring += Environment.NewLine;
            ostring += Environment.NewLine;
            ostring += "             First National Bank";
            textBoxCheck.Text = ostring;

            textBoxName.Text = employees[index].Name;
            textBoxAddress.Text = employees[index].Address;
            textBoxPhone.Text = employees[index].PhoneNum;
            textBoxEmpNum.Text = string.Format("{0}", employees[index].EmpNum);
            index++;

            //see if object is hourly
            Hourly someEmp1 = employees[index] as Hourly;
            if (someEmp1 != null)
            {
                textBoxHours.Text = 
                    string.Format("{0:F2}", someEmp1.HoursWorked);
                textBoxWage.Text = 
                    string.Format("{0:F2}", someEmp1.HourlyWage);
                textBoxSalary.Clear();

            }
            //not hourly, must be salary
            Salaried someEmp2 = employees[index] as Salaried;
            if (someEmp2 != null)
            {
                textBoxHours.Clear();
                textBoxWage.Clear();
                textBoxSalary.Text = string.Format("{0:F2}", someEmp2.Salary);

            }

            else
            {
                buttonCalcPay.Enabled = false;
                textBoxName.Clear();
                textBoxAddress.Clear();
                textBoxEmpNum.Clear();
                textBoxPhone.Clear();
                textBoxHours.Clear();
                textBoxWage.Clear();
                textBoxSalary.Clear();
            }

        }

}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:25:34.140

将 index 作为类变量并在 buttonCalcPay_Click 的末尾增加它。如果要循环该索引，则在递增时检查它是否大于 3 - 如果是，则再次将其设置为 0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:57:05.217

始终当您单击“buttonCalcPay”按钮时，您将索引设置为零，这是您始终获得第一个员工的原因。在您声明**SIZE**变量的地方声明它，如下所示：

```
private const int SIZE = 4; // the size of the array
private int index = 0; 
```

然后在您的按钮单击事件中编写以下代码：

```
 private void buttonCalcPay_Click(object sender, EventArgs e)
    {
        if(index < SIZE)
        {
             //Your code goes here
        }
        index++;
    } 
```

而且我认为您应该使用 System.Text.StringBuilder 而不是字符串。利用

```
 System.Text.StringBuilder sBuilder = new StringBuilder();
    sBuilder.Append("Your text goes here");
    sBuilder.Append("\nAnother text"); 
```

附加文本。然后在需要时将其转换为字符串：

```
 sBuilder.ToString(); 
```

希望能帮助到你。

# python - Pycurl 致力于开发而不是生产。为什么？

> ID：12470312
> 
> 赞同：0
> 
> 时间：2012-09-18T04:17:56.193
> 
> 标签：python, django, curl, pycurl

以下函数连接到 API 并返回一个 json 对象。虽然它只适用于开发。在生产服务器中，它只返回 False。

任何想法为什么它不能在不同的服务器上工作？

```
def request_api(api_call, post_fields, authentication_data = None):
    try:
        log.debug("Connecting To API: " + settings.API_URL + api_call)
        curl = pycurl.Curl()
        curl.setopt(pycurl.URL, settings.API_URL + api_call)
    except:
        log.debug("Can't connect To API: " + settings.API_URL + api_call)
    if post_fields:
        try:
            log.debug("Post Fields: " + post_fields)
            curl.setopt(curl.POSTFIELDS, str(post_fields))
        except:
            log.debug("Error setting post fields.")
    if authentication_data:
        try:
            log.debug("Authentication Fields: " + authentication_data)
            curl.setopt(pycurl.USERPWD, authentication_data)
        except:
            log.debug("Error during authentication.")
    try:
        contents = StringIO.StringIO()
        curl.setopt(pycurl.WRITEFUNCTION, contents.write)
        curl.perform()
    except:
        log.debug("Error on curl.")
    try:
        responseCode = curl.getinfo(pycurl.HTTP_CODE);
        log.debug("Response Code: " + str(responseCode))
    except:
        log.debug("Response Code: Error")
    try:
        log.debug("Response: " + contents.getvalue())
    except:
        log.debug("Response: Error")
    try:
        pyobj = json.loads(contents.getvalue())
        log.debug("Response In Json Format: " + str(pyobj))
    except:
        log.debug("Response In Json Format: Error")
    return pyobj 
```

错误：

```
Exception Type:     UnboundLocalError
Exception Value:    

local variable 'pyobj' referenced before assignment 
```

日志文件：

```
[18/Sep/2012 04:07:52] DEBUG [contests.views:29] Connecting To API: https://my-api/v1/token
[18/Sep/2012 04:07:52] DEBUG [contests.views:39] Authentication Fields: test@user.com:test@user.com
[18/Sep/2012 04:49:32] DEBUG [contests.views:51] Error on curl.
[18/Sep/2012 04:49:32] DEBUG [contests.views:54] Response Code: 0
[18/Sep/2012 04:49:32] DEBUG [contests.views:58] Response: 
[18/Sep/2012 04:49:32] DEBUG [contests.views:65] Response In Json Format: Error 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:17:00.693

导致立即错误的原因是：

```
try:
    pyobj = json.loads(contents.getvalue())
    log.debug("Response In Json Format: " + str(pyobj))
except:
    log.debug("Response In Json Format: Error")
return pyobj 
```

`try`正如您在日志中看到的那样，该子句失败了，这意味着`pyobj`没有被定义。当您在函数末尾尝试`return`它时，它不存在，因此您得到一个`UnboundLocalError`.

*Why* this section is failing will have to do with either `contents.getValue` crashing or passing something inappropriate to `json.loads`. However, because you are catching *all* exceptions and returning your own less than helpful error messages, **you are hiding all of the relevant traceback information that would help you realise where the problem really lies**. The traceback will tell you *exactly* what the error is and where it occurred down to the file & line of code, which will be of much more use to you than `Response In Json Format: Error`.

# iphone - 通过在 ios 中传递两个值从 sqlite 检索两个连续的记录

> ID：12470315
> 
> 赞同：0
> 
> 时间：2012-09-18T04:18:08.670
> 
> 标签：iphone, objective-c, ios, sqlite

我试图通过传递两个值来获取两个连续的记录，一个值用于第一条记录，另一个值用于第二条记录。

我的表名是 Extractor，它包含三列 1)wordText 2)wordID 3)rowID(primary key)

**问题：**

1）我们可以编写单个查询通过传递参数来获取两个连续的行吗？2）如果上面的查询是可能的，我们怎么能做到这一点？

**我的方法：**到目前为止，我尝试使用以下查询

SELECT * FROM Extractor where wordText LIKE "firstWord"

在使用上述查询获取所有记录后，我再次查询其他记录，我知道这种顺序方法不适用于从 10000 行中获取少量记录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:16:48.017

```
SELECT * FROM Extractor WHERE wordText IN ('firstWord', 'secondWord') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T04:22:11.170

SQL 查询不关心检索连续记录。他们关心的是根据标准将记录检索到离散的结果中。

如果您想要一行和下一个连续行，您可以为每一行分配合成键并查询第一个 ID，然后请求下一个 ID。

此外，RDMS 中行的存储顺序不一定是排序的或保证随着时间的推移保持不变。

# php - 列的选择值不存在

> ID：12470319
> 
> 赞同：0
> 
> 时间：2012-09-18T04:18:30.423
> 
> 标签：php, mysql, database, opencart

我有这个 php 查询；

```
$sql = "SELECT * 
        FROM store AS s 
        LEFT JOIN setting as set ON (s.store_id = set.store_id)";
$sql .= " WHERE (set.key = 'config_template' OR set.key IS NULL)";    
$sql .= " ORDER BY url";

$query = $this->db->query($sql); 
```

我想做的是返回`key`等于“config_template”的所有行。但是，如果没有与“config_template”匹配的键，我仍然想返回该行，除非该列为`key`空。

我考虑过使用`NOT IN`or`NOT EXIST`但我不确定在这种情况下如何使用这些？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T06:05:15.663

问题就在这里。

```
$sql .= " WHERE (set.key = 'config_template' OR set.key IS NULL)"; 
```

在此`where`子句中，两个条件都为真或假，但当两个条件都为假时，它将失败。

试试这个，

```
$sql .= " WHERE (set.key = 'config_template' OR set.key IS NULL) OR/AND SECOND_CONDITION "; 
```

这样你一定会得到结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T06:16:52.773

将键的条件移动到 JOIN 条件中应该可以解决问题：

```
SELECT * 
FROM store AS s 
  LEFT JOIN setting as set 
         ON s.store_id = set.store_id AND set.key = 'config_template'
ORDER BY url 
```

# search - 使用localReader绑定网格数据时搜索不起作用

> ID：12470331
> 
> 赞同：0
> 
> 时间：2012-09-18T04:21:21.440
> 
> 标签：search, jqgrid

我正在使用 localReader 为来自服务器的数据设置 totalRecords、totalPages 和 CurrentPage。但正因为如此，我的搜索不起作用。

有人可以解释一下 jqgrid 中的搜索是如何工作的吗？postData 是否需要任何东西？我需要在某处明确设置 postData 吗？

如果我没有使用 localReader，搜索工作正常。

先感谢您。

问候，杰伊

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T07:57:36.633

它现在对我有用。我实现了非常适合我的服务器端搜索。

# c# - 如何将可选参数传递给 ActionResult

> ID：12470332
> 
> 赞同：9
> 
> 时间：2012-09-18T04:21:26.010
> 
> 标签：c#, asp.net-mvc-3

这有效：

```
public ActionResult Edit(int id, CompPhone cmpPhn)
{
  var vM = new MyViewModel();
  if (cmpPhn != null) { vM.CmpPhnF = cmpPhn; }
  ...
} 
```

如果我将 cmpPhn 设为可选：

```
public ActionResult Edit(int id, CompPhone? cmpPhn) 
```

我收到“错误 1 ​​类型‘MyProject.Models.CompPhone’必须是不可为空的值类型，才能将其用作泛型类型或方法‘System.Nullable’中的参数‘T’。

如何将此输入参数设置为方法可选？

这是视图模型

```
public class MyViewModel : IValidatableObject
{
...
public CompPhone CmpPhnF { get; set; }    
...
} 
```

调用方法

```
[HttpPost, ValidateAntiForgeryToken]
public ActionResult PhoneTest(MyViewModel vM)
{
  if (ModelState.IsValid)
  { var cmpPhn = vM.CmpPhnF;
  return RedirectToAction("Edit", new { id = vM.AcntId, cmpPhn });
  }
  ...
} 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-18T04:22:25.543

你不是让它成为可选的，你是让它成为可选的`nullable`。要使其成为可选，您需要为参数定义一个默认值。（仅适用于 C# 4.0 或更高版本）：

```
public ActionResult Edit(int id, CompPhone cmpPhn = null) 
```

您当前的代码指定为`Nullable`，它似乎`CompPhone` **是一个类而不是值类型**，并且不能`Nullable`。

`CompPhone? cmpPhn`相当于`Nullable<CompPhone>`where `CompPhone`should be a`struct`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:43:38.290

我同意 Habib，您正在制作参数`nullable`。

为了使参数可选定义两个相同的方法，一个有参数，一个没有。没有的人必须为其使用预定义的默认值。

```
public ActionResult Edit(int id)
{
  var vM = new MyViewModel();
  vM.CmpPhnF = defaultValue;
  ...
} 
```

和

```
public ActionResult Edit(int id, CompPhone cmpPhn)
{
  var vM = new MyViewModel();
  if (cmpPhn != null) { vM.CmpPhnF = cmpPhn; }
  ...
} 
```

# html - 使用CSS的文本上的图像边框？

> ID：12470333
> 
> 赞同：1
> 
> 时间：2012-09-18T04:21:36.697
> 
> 标签：html, text, css

我见过使用 text-shadow 使文本具有纯色轮廓的代码，就像这篇文章描述的那样：[CSS Font Border？](https://stackoverflow.com/questions/2570972/css-font-border)但我想使用图像作为边框。当我添加

```
border-image: url (  ); 
```

到这段代码：

```
.mytext {
background: url( ); 
-webkit-text-fill-color: transparent; 
-webkit-background-clip: text; 
} 
```

它在整段文本周围添加了一个图像边框，而不是一个与字母轮廓相呼应的边框。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:27:50.923

像这样的阴影并在单个 div 中赋予多个边框

```
.imgtag{
background:url(http://www.gravatar.com/avatar/1e8f64b9e6549d2664907753f7df05e3?s=32&d=identicon&r=PG) no-repeat 0 0;
  width:100px;
  height:100px;
  border:solid 10px red;
  box-shadow:0 0 0 4px green, 0 0 0 10px yellow , 0 0 0 15px pink , 0 0 0 20px black ;
  margin:100px;
} 
```

***[现场演示](http://tinkerbin.com/XD66zpv8)***

# java - JTextPane 中的 JScrollPane 中的 JPanel 中的 JFrame

> ID：12470334
> 
> 赞同：3
> 
> 时间：2012-09-18T04:21:37.773
> 
> 标签：java, swing, jpanel, jscrollpane, layout-manager

我想要做的是让 JTextPane 在 JPanel 中占用尽可能多的空间。对于我的 UpdateInfoPanel，我正在使用：

```
public class UpdateInfoPanel extends JPanel {
private static final long serialVersionUID = 257125249175323679L;

private JTextPane textPane;

public UpdateInfoPanel(){
    textPane = new JTextPane();
    textPane.setBackground(Color.DARK_GRAY);
    textPane.setEditable(false);
    textPane.setMargin(null);
    textPane.setContentType("text/html");
    textPane.setText("<html><body style=\"font: Arial; color: white; padding: 5px; padding-top: 0;\"><h1 style=\"padding-top: 0;\">News</h1></body></html>");
    JScrollPane scrollPane = new JScrollPane(textPane);
    add(scrollPane);
    setBackground(Color.DARK_GRAY);
    textPane.setBorder(BorderFactory.createLineBorder(Color.BLACK));
}
} 
```

对于我的框架，我只需创建一个实例并将其放在 BorderLayout.CENTER 中。目前这是它的外观。白色边框是滚动窗格，黑色是文本窗格。**我想要做的是让边框位于面板的边缘。** ![][1]

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T04:52:38.593

您是否正在设置面板的布局？

```
 setLayout(new BorderLayout());
    add(scrollPane,BorderLayout.CENTER); 
```

如果您不需要文本窗格的边框，请`textPane.setBorder(null);`
不要扩展`JPanel`. 您可以像创建`JTextPane`.

# java - 如何安装 Microsoft SQL Server for linux (fedora)？

> ID：12470335
> 
> 赞同：7
> 
> 时间：2012-09-18T04:21:42.543
> 
> 标签：java, sql-server, linux, fedora

如何安装*Microsoft SQL Server* for linux (fedora)？我阅读了有关[适用于 Linux 的 Microsoft® SQL Server® ODBC Driver 1.0，](http://www.microsoft.com/en-us/download/details.aspx?id=28160)但不明白它是什么。我想为在 linux 上运行的 java 应用程序连接到 sql server。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-18T04:29:50.600

[Microsoft® SQL Server® ODBC Driver 1.0 for Linux](http://www.microsoft.com/en-us/download/details.aspx?id=28160)是一个 Linux 驱动程序，用于与 MSSQL Server 数据库进行本机连接。

MSSQL[只能在 Windows 上运行](http://msdn.microsoft.com/en-us/library/ms143506.aspx)。MSSQL 2017 以后可以安装在 linux 服务器上。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-09-18T04:28:46.337

您可以在 Linux 和 Windows 上安装 MSSQL。解决方案是将 Windows 安装为虚拟机并使用您在 linux 中找到并使用的 ODBC 驱动程序（帮助您以编程方式连接到 MSSQL）。

[https://social.technet.microsoft.com/wiki/contents/articles/52294.sql-server-installation-on-ubuntu.aspx](https://social.technet.microsoft.com/wiki/contents/articles/52294.sql-server-installation-on-ubuntu.aspx)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-11-18T23:01:48.110

现在您可以在 linux 上安装 SQL Server，但目前，仅适用于 Red Hat 和 Ubuntu，并且仍处于 Beta 版。

下面的链接告诉你

> 如何在 Ubuntu 和 Red Hat 中安装 SQL Server

[在红帽上安装 SQL Server](https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup-red-hat)

[在 Ubuntu 上安装 SQL Server](https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup-ubuntu)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-01-02T11:31:10.537

您可以在 Fedora 上安装 mssql。参考以下链接： [https ://youtu.be/EZw_fWLr93Y](https://youtu.be/EZw_fWLr93Y)

# php - 在 ModX Revo 中运行自定义数据库查询

> ID：12470336
> 
> 赞同：1
> 
> 时间：2012-09-18T04:22:00.830
> 
> 标签：php, mysql, content-management-system, modx, modx-revolution

我正在尝试在 ModX Revo 的片段中查询数据库：

```
<?php

$leadersql = "SELECT * FROM `modx_menus`";

$result = mysql_query($leadersql);

while ($row = mysql_fetch_array($result)) {
  echo "hello";
};

?> 
```

在 Evo 上，这工作正常，但在 Revo 中没有返回任何内容。

我需要进行不同的设置吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T12:20:30.563

Christian 的代码确实有效，您可能需要先定义 $rows 数组：

```
$leadersql = "SELECT * FROM `modx_menus`";

$query = $modx->query($leadersql);

$rows = array();

if ($query) {
    // loop through the result set and inspect one row at a time
    while ($row = $query->fetch(PDO::FETCH_ASSOC)) {

        array_push($rows, $row);

    }
}

echo '<br /><br /><pre>';
        print_r($rows);
echo '</pre>'; 
```

如果没有： - 您是否定义了菜单项？- 你在调用你的片段未缓存？

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-18T05:16:43.783

理想情况下，您将使用[xPDO](http://rtfm.modx.com/display/xPDO20/Home)方法来构建数据库查询。它自动转义提供的参数，创建跨数据库类型（当前为 mysql 和 mssql）转换的查询，并具有许多其他好处。但是，设置起来也比较棘手，因为您需要为自定义表创建类和映射。[Bob 的指南和](http://bobsguides.com/custom-db-tables.html)[Lazylegs](http://lazylegs.info/lazybook-of-xpdo/)一样有很好的信息

但当然，您可以实现您的特定查询，而无需使用 XPDO：

```
$leadersql = "SELECT * FROM `modx_menus`";
$query = $modx->query($leadersql);
if ($query) {
    // loop through the result set and inspect one row at a time
    while ($row = $query->fetch(PDO::FETCH_ASSOC)) {
        array_push($rows, $row);
    }
} 
```

还有[Rowboat](http://rtfm.modx.com/display/ADDON/Rowboat)插件，用于跨数据库表行进行迭代 - 如果您的要求很简单。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-20T08:33:17.193

为什么不使用内置的 xPDO 方法：

```
$menus = $modx->getCollection('modMenu');
if ($menus) {
    foreach ($menus as $menu) {
        echo $menu->get('text');
    }
} 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2015-10-27T15:28:09.290

你可以试试这段代码：

```
<?php
include './core/config/config.inc.php';

$con=mysqli_connect($database_server,$database_user,$database_password,$dbase);
// Check connection
mysqli_set_charset($con, "utf8");
if (mysqli_connect_errno()) {
    //echo "Failed to connect to MySQL: " . mysqli_connect_error();
    return "DB error";
}

$result = mysqli_query($con,"SELECT id, pagetitle, uri FROM `modx_site_content` WHERE parent = ".$parentId); 
while($row = mysqli_fetch_array($result))
{
  //do something with $row['pagetitle'];
} 
```

其中 $parentId 是来自 Snippet 调用的示例参数。

# php - 使用 PHP 通过 href 传递变量

> ID：12470340
> 
> 赞同：-4
> 
> 时间：2012-09-18T04:22:40.793
> 
> 标签：php, html

```
<a href= \"edit_form.php?id = $row[ID]\">Edit</a> 
```

如何在href中传递变量？我的代码语法正确吗？我想将变量传递给另一个 PHP 文件。

有人可以帮忙吗？谢谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T04:29:03.353

您快到了。网址中不允许有空格..所以你需要删除这些。更不用说这个 html 不在 echo 中，你需要将`$row`变量包含在 php 语法中：

```
<a href="edit_form.php?id=<?php echo $row['ID']; ?>">Edit</a> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T04:31:09.127

通过 url 传递值的最简单方法（不是最安全的方法）-

```
<a href="edit_form.php?id=<?php echo $row[id] ;?> " >Edit</a> 
```

或者

```
echo '<a href="edit_form.php?id='. $row[id] .'" >Edit</a>'; 
```

任何适合您的脚本...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T04:30:33.163

像这样试试

```
echo '<a href="edit_form.php?id='. $row[id] .'" >Edit</a>'; 
```

如果你想通过锚发送值

# php - Sendgrid 和 PHP 5.2.6

> ID：12470342
> 
> 赞同：1
> 
> 时间：2012-09-18T04:22:46.163
> 
> 标签：php, sendgrid

我有旧版本的 PHP (5.2.6)。SendGrid SMTP API 至少需要 PHP 5.3

我还有哪些其他选项可以使用 SendGrid 服务批量发送电子邮件（~1k）？

WebAPI 是否足以满足我的情况？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T15:34:57.820

PHP 5.3 的限制与 SendGrid 的 API 没有任何关系，只是我们的官方库只支持 5.3 及更高版本。您可以轻松地将其换成任何通用 SMTP 库。

例如，[Swift Mailer](http://swiftmailer.org/)支持 PHP 5.2 及更高版本。

是的，Web API 足以满足您的用例。它与 SMTP API 相同，只是它通过 HTTP。

# php - MySQL Select 内部函数以访问其他地方的变量

> ID：12470343
> 
> 赞同：0
> 
> 时间：2012-09-18T04:23:05.400
> 
> 标签：php, mysql, sql, function

基本上我正在创建一个从数据库中提取信息的动态谷歌地图，连接很好，查询很好 - 但我无法从我的函数访问我的变量（$row）。

我应该从 php 函数本身解析所有 javascript 吗？或者我可以让它在我的页面上静态并通过直接在 javascript 上方调用函数 (getCurrentMapData) 来访问变量？

```
function getCurrentMapData( $select ) 
{
    global $mysqli;

    $sql = $mysqli->query($select);

    if(!$sql) {
       printf("%s\n", $mysqli->error);
       exit();
    }   

    $row = $sql->fetch_array(); 

} 
```

这是我们的开始：

```
<?php

    $select = "SELECT `id`, `title`, `address`, `lat`, `lng`, `date` FROM `globalmap` ORDER BY `id` desc "; 

    getCurrentMapData( $select );

?>

                <h3>
                    I'm Currently Playing @ 
                <?php echo $row['title'] ?>
                </h3>
                <div id="map">
                    <div id="ps_map_1" class="mapCon">
                    </div>
                </div>
                <script src="http://maps.google.com/maps/api/js?sensor=false"></script> <script>
                    // <![CDATA[

                        var psGlobals = {
                            address: "<?php echo $row['address'] ?>",
                            lat: <?php echo $row['lat'] ?>,
                            lon: <?php echo $row['lng'] ?>,
                            zoomlevel: 13
                        };

                        function initialize() 
                        {
                            psGlobals.latlng = new google.maps.LatLng(psGlobals.lat, psGlobals.lon);
                            buildMap();
                            psGlobals.dirRenderer = new google.maps.DirectionsRenderer();
                            psGlobals.dirService = new google.maps.DirectionsService();
                        }

                        function buildMap()
                        {
                            var myOptions, marker;
                            myOptions = {
                                  navigationControl: true,
                                  navigationControlOptions: {
                                      style: google.maps.NavigationControlStyle.ZOOM_PAN
                                    },

                                  mapTypeControl: true,
                                  scaleControl: false,
                                  zoom: psGlobals.zoomlevel,
                                  center: psGlobals.latlng,
                                  mapTypeId: google.maps.MapTypeId.HYBRID
                            };
                            psGlobals.map = new google.maps.Map(document.getElementById("ps_map_1"), myOptions);
                            psGlobals.marker = new google.maps.Marker({
                                position: psGlobals.latlng, 
                                map: psGlobals.map,
                                title: "<?php echo $row['title'] ?>"
                            });

                        }

                        $(document).ready(function(){
                            initialize()
                        });

                    // ]]>

                    </script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:27:26.433

在您的 php 函数中在最后添加：

```
return $row; 
```

这将输出你`$row`的功能，然后在你的代码中，改变

```
getCurrentMapData( $select ); 
```

对此：

```
$row = getCurrentMapData($select); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:29:26.987

您应该返回获取的数组

```
function getCurrentMapData( $select )  
{ 
    global $mysqli; 

    $sql = $mysqli->query($select); 

    if(!$sql) { 
       printf("%s\n", $mysqli->error); 
       exit(); 
    }    

    return $sql->fetch_array();  

} 
```

然后你应该将此函数的结果分配给`$row`变量

`$row = getCurrentMapData($select);`

# iphone - 使用 iPhone 中的 WIFI 与其他手机进行数据交易

> ID：12470353
> 
> 赞同：0
> 
> 时间：2012-09-18T04:25:27.370
> 
> 标签：iphone, objective-c, ios, ipad, wifi

我是一名`iOS`开发人员，我需要在我的新应用程序中将数据从**iPhone**传输到其他手机`wifi`，反之亦然。在 iOS 中可以吗？. 是否有任何示例代码`Objective C`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:28:21.517

[我做了一个 Cydia 调整，它就是这样做的。](https://github.com/H2CO3/FileTransfer)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T04:37:46.077

使用 bonjour 搜索设备。然后使用[CocoaAsyncSocket](https://github.com/robbiehanson/CocoaAsyncSocket)发送和接收数据。

# c - 如何使用 C 仅将更改的字符打印到控制台

> ID：12470356
> 
> 赞同：0
> 
> 时间：2012-09-18T04:25:34.150
> 
> 标签：c, printing, console

目前我有一些 C 代码，每次按下箭头键时，它都会将一组字符重新打印到屏幕上，并且只改变玩家的位置。我想知道如何只重新打印实际变化的两个字符，而不是重新打印整个字符数组。

我的代码当前所做的示例 sudo 代码是：

```
for i < width
   for j < height
      printf("%c", board[i][j]); 
```

相反，我想在某个位置访问命令行，`[i][j]`当按下箭头键说“向上”时，只更改控制台中的`[i][j]`字符和`[i][j-1]`字符，而不将整个数组重新打印到屏幕上。

任何图书馆或想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T04:59:03.123

`ncurses`是一个很好的可移植库，可以处理终端图形；我绝对会为您的目的推荐它。

# internet-explorer - 强制 IE 退出兼容模式

> ID：12470357
> 
> 赞同：6
> 
> 时间：2012-09-18T04:25:37.050
> 
> 标签：internet-explorer, ie8-compatibility-mode, group-policy

我已阅读以下 MSDN 页面：

[http://msdn.microsoft.com/en-en/library/cc817574.aspx](http://msdn.microsoft.com/en-en/library/cc817574.aspx)

还有很多关于 SO 的问题，但我并不完全相信我有我想要的答案。

我们目前正在处理一个问题，即我们的客户正在将所有计算机从 IE6 升级到 IE8，但通过组策略他们强制 IE8 在兼容模式下运行。

我假设这样做是为了让遗留的内部应用程序继续工作。然而，这会破坏我们的网站，因为我们不支持 IE7 100%

正在使用 Meta 标签：

```
<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
```

要覆盖他们的兼容模式设置并强制我们的网站使用 IE8，证明他们的组策略未设置为 8888？

> 8888：无论指令如何，页面始终以 IE8 模式显示。（这绕过了前面列出的例外情况。）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T09:02:52.870

我通常在 http 标头中执行此操作，因此浏览器在实际看到 html 之前就知道了。这确保它处于正确的模式。

在 IIS 上，位于 web.config 文件中：

```
<httpProtocol>
  <customHeaders>
    <clear />
    <add name="X-UA-Compatible" value="IE=edge" />
  </customHeaders>
</httpProtocol> 
```

在apache上，我不知道。但是谷歌搜索 X-UA-Compatible IE=edge 应该会有所帮助。

您也可以使用 IE=IE9 来修复特定版本。

老实说，我不知道这是否会覆盖组策略。但它适用于我必须强制 IE 到特定版本的任何情况，包括在 localhost 上的公司网络内部。

# android - 如何使用复选框将 Android 联系人添加到列表视图中

> ID：12470363
> 
> 赞同：1
> 
> 时间：2012-09-18T04:25:58.770
> 
> 标签：android, android-listview, android-contacts, android-checkbox

> **可能重复：**
> [如何为填充的列表视图中的每个联系人链接一个复选框？](https://stackoverflow.com/questions/10544821/how-do-i-link-a-checkbox-for-every-contact-in-populated-listview)

我是初学者`android`。

> 我想获取电话联系人，然后将它们放入`listview` 带有复选框的复选框中，以便用户可以选择多个联系人，然后获取选定的联系人。

有没有`tutorial`呢？？？？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T04:40:42.170

这是使用复选框获取所有联系人的代码：

```
ContentResolver cr = getContentResolver();
Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);

if (cur.getCount() > 0) {
  while (cur.moveToNext()) {
    String id = cur.getString(cur.getColumnIndex(ContactsContract.Contacts._ID));
    String name = cur.getString(cur.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
    if (Integer.parseInt(cur.getString(cur.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) > 0) {
      // This inner cursor is for contacts that have multiple numbers.
      Cursor pCur = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, ContactsContract.CommonDataKinds.Phone.CONTACT_ID + " = ?", new String[] { id }, null);
      while (pCur.moveToNext()) {
        phoneContactList.add(name);
        Log.i("Contact List", name);
      }
      pCur.close();
    }
  }

  Collections.sort(phoneContactList);
  cnt = phoneContactList.size();

  listView.setAdapter(new ArrayAdapter<String>(this, R.drawable.multiple_contact_selector, phoneContactList));
  listView.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);

}
cur.close(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T04:28:10.613

我认为这可以帮助您： [自定义 Android ListView 以读取手机联系人](http://vikasdp.wordpress.com/2011/02/06/custom-android-listview-to-read-phone-contacts/)。

首先检查这个

1）在清单文件中添加权限。

```
<uses-permission android:name="android.permission.READ_CONTACTS"/> 
```

# openstack - Openstack 的 Essex 和 Folsom 版本有什么区别？

> ID：12470367
> 
> 赞同：4
> 
> 时间：2012-09-18T04:27:21.200
> 
> 标签：openstack

我是 Openstack 的新手。

我必须在 Essex 和 Folsom 发布 API 中找到任何 API 更改。API更改意味着新版本中是否添加了任何参数？或者 API 的返回值是否在新版本中发生了变化？

我在网上搜索，我从网上了解到的是（如果我错了，请纠正我）：

*   Essex 和 Folsom 是 Openstack 的两个版本。
*   Essex 和 Folsom 不是版本更改。（意味着 Essex 是 2.0，Folsom 是 3.0）
*   Nova（计算）、Horizo​​ne（仪表板）、Keystone（身份服务）、Glance（图像服务）和 Swift（对象存储）是 Openstack 的不同组件。
*   Essex 已发布，Folsom 是下一个版本。
*   [http://api.openstack.org/](http://api.openstack.org/)中描述的 API与 Essex 版本有关。

如果您能帮助我指导这个方向，那将对我有所帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T21:36:45.523

它们是 OpenStack 的两个不同版本。

Essex 于 2012 年春季发布（发布号 2012.1），Folsom 将于本月发布（将发布 2012.3）。

主要更改将包含在发行说明中，记录在此处的项目中：[http](http://wiki.openstack.org/ReleaseNotes/Folsom) ://wiki.openstack.org/ReleaseNotes/Folsom 。这些发行说明仍在由各个项目负责人填写。

在高层次上，最大的变化是卷组件/功能已被分解到它自己的项目（cinder）中，向 OpenStack 核心添加了一个新项目。我个人并不了解所有更改的最新情况，但我相信 API 在大多数服务上几乎保持相同。我知道它适用于 Keystone（身份组件），因为我们仍在为 keystone 开发“v3”api。

# jquery - 如何向用户显示一次内容

> ID：12470369
> 
> 赞同：0
> 
> 时间：2012-09-18T04:27:26.620
> 
> 标签：jquery, cookies

我想知道如何执行以下操作。- 我的网站上有一个 Vimeo 视频，这是我网站的介绍视频。- 我希望视频仅向用户显示一次，或者如果不可能，则每 5 到 10 次加载页面。

我怎样才能做到这一点？我是 JS 的新手。欢迎任何提示！

我找到了这个脚本，我将如何操作/使用它来做到这一点？

[https://github.com/carhartl/jquery-cookie](https://github.com/carhartl/jquery-cookie)

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T06:02:06.573

您找到的 jQuery cookie 插件可以做到这一点。

此代码将帮助您入门。我不知道你想如何加载视频，但这会让你开始。

```
$(document).ready(function() {
  var video_cookie = $.cookie('have_seen_video'); // read the cookie
  if (video_cookie == null) {
    // user has not seen the video
    // TODO: show the video

    // save a cookie to indicate this user has seen the video
    $.cookie('have_seen_video', true);
  } else {
    // user has seen video, don't show it again.
  }
}); 
```

# encryption - key_derivation 和 key_verification 函数是如何实现 7-zip 压缩包的加密机制的？

> ID：12470378
> 
> 赞同：10
> 
> 时间：2012-09-18T04:28:29.937
> 
> 标签：encryption, cryptography, 7zip, password-recovery, cryptanalysis

我很好奇密码恢复如何用于受密码保护的文件。`And I want to know the exact flow of the 7-zip encryption mechanism.`

`7-zip`在CBC模式下使用AES-256加密算法，对文件或文件夹进行加密。密钥是根据用户提供的基于 SHA-256 哈希函数的密码生成的。SHA-256 被执行 2 ^(19) (524,288) 次以增加穷举搜索的成本。此外，为了帮助降低字典攻击的风险，盐会在生成哈希之前附加到原始密码短语中。

我的第一个问题是`how does key_derivation function work to generate a 256-bit key`？IV 对于 AES CBC 模式的重要性以及它是如何生成的？

我的第二个问题`most important question`是如何验证密钥以解密 7-zip 存档？我的意思是它的 key_verification 功能是如何工作的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T08:47:10.430

密钥推导函数在 file 的源代码中`7zAes.cpp`，它被称为：

```
void CKeyInfo::CalculateDigest() 
```

它使用专有的（相当枯燥的）机制创建密钥。

我还没有找到该`key_verification`方法，如果它存在的话。如果我找到它，我会告诉你的。

# php - 用于发送到 PHP 的 Javascript 对象到数组转换

> ID：12470383
> 
> 赞同：0
> 
> 时间：2012-09-18T04:28:46.487
> 
> 标签：php, javascript, arrays, object

我有一个 javascript 动态数组创建者代码，如下所示

```
function createArray() {

    var myArr = new Object();
    myArr[0] = createSubArray('apple');
    myArr[1] = createSubArray('Mango');
    myArr[2] = createSubArray('Pineapple');
    myArr[3] = createSubArray('Grape');
    document.getElementById("a").innerHTML = JSON.stringify(myArr);
    return myArr;

}

function createSubArray(name){
    var arr = new Object();
    elems = document.getElementsByName(name);
    for (var i=0;i<elems.length;i++){
        if (elems[i].checked){
            arr[name] =  elems[i].value;
            arr['price'] =  elems[i].getAttribute('data-price');
        }
    }
    return arr;
   } 
```

在此代码中，我需要将值作为`array`not 发送`object`。我尝试将函数更改`new Object();`为`new Array();`in ， `createArray`但是当`json_decode`我得到如下结果时

```
array
  0 => 
    object(stdClass)[1]
      public 'apple' => string 'light' (length=5)
      public 'price' => string '10' (length=2)
  1 => 
    object(stdClass)[2]
      public 'Mango' => string 'light' (length=5)
      public 'price' => string '30' (length=2)
  2 => 
    object(stdClass)[3]
      public 'Pineapple' => string 'light' (length=5)
      public 'price' => string '50' (length=2)
  3 => 
    object(stdClass)[4]
      public 'Grape' => string 'dark' (length=4)
      public 'price' => string '80' (length=2) 
```

如果我在 createSubArray 函数中更改新对象，我不会得到任何值.. 请检查下面

[新对象在 createArray 函数中更改为新数组](http://jsfiddle.net/sC2LC/7/)

[new Object 在 createArray 和 createSubArray 函数中改为 new Array](http://jsfiddle.net/sC2LC/8/)

我如何将对象更改为数组？

请帮我解决这个问题

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T04:32:48.517

```
$array = json_decode($json, true); 
```

将第二个参数设置为`true`强制[`json_decode`](http://php.net/manual/en/function.json-decode.php)返回关联数组而不是`stdClass`.

# c# - 在 C# 中重命名文件组（Windows 窗体应用程序）

> ID：12470385
> 
> 赞同：1
> 
> 时间：2012-09-18T04:29:07.233
> 
> 标签：c#, winforms

环境：Visual Studio 2010，Windows 窗体应用程序。

你好！我想重命名（批量）一些文件... 1\. 我有（大约 50 000 个文件）：abc.mp3、def.mp3、ghi.mp3 我想要：abc1.mp3、def1.mp3、ghi1.mp3

2\. 我有（大约 50 000 个文件）：abc.mp3、def.mp3、ghi.mp3 我想要：1abc.mp3、1def.mp3、1ghi.mp3

相似的东西...

```
 FolderBrowserDialog folderDlg = new FolderBrowserDialog();
    folderDlg.ShowDialog();

    string[] mp3Files = Directory.GetFiles(folderDlg.SelectedPath, "*.mp3");
    string[] newFileName = new string[mp3Files.Length];

    for (int i = 0; i < mp3Files.Length; i++)
    {
        string filePath = System.IO.Path.GetDirectoryName(mp3Files[i]);
        string fileExt = System.IO.Path.GetExtension(mp3Files[i]);

        newFileName = mp3Files[i];

        File.Move(mp3Files[i], filePath + "\\" + newFileName[1] + 1 + fileExt);
    } 
```

但是这段代码不起作用。这里有错误...`newFileName = mp3Files[i];` 而且我无法正确转换它。谢谢你！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T04:43:46.053

最快的选择是使用直接操作系统重命名功能。使用进程对象通过 /C 开关运行 shell CMD。使用“ren”命令行重命名。

```
Process cmd = new Process()
{
    StartInfo = new ProcessStartInfo()
    {
        FileName = "cmd.exe",
        Arguments = @"/C  REN c:\full\path\*.mp3 c:\full\path\1*.mp3"
    }
};

cmd.Start();
cmd.WaitForExit();

//Second example below is for renaming with file.mp3 to file1.mp3 format
cmd.StartInfo.Arguments = @"/C  REN c:\full\path\*.mp3 c:\full\path\*1.mp3";
cmd.Start();
cmd.WaitForExit(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T04:52:24.563

试试这个代码：

```
Directory.GetFiles(folderDlg.SelectedPath, "*.mp3")
    .Select(fn => new
    {
        OldFileName = fn,
        NewFileName = String.Format("{0}1.mp3", fn.Substring(fn.Length - 4))
    })
    .ToList()
    .ForEach(x => File.Move(x.OldFileName, x.NewFileName)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T04:47:48.047

正如朋友在评论中讨论的那样，您可以将 newFileName 声明为一个简单的字符串（而不是字符串数组），或者如果您打算使用数组，请使用下面的代码：

```
newFileName[i] = mp3Files[i]; 
```

并且由于您使用的是 for 循环，因此最好使用字符串而不是字符串数组。

# c# - 无法访问 Web 控件的 Page_Load 事件中的公共方法

> ID：12470394
> 
> 赞同：2
> 
> 时间：2012-09-18T04:30:22.773
> 
> 标签：c#, asp.net

我想`Public String Function(...)`从我`.ascx`的`Page_Load`事件中调用我的方法。该函数和包含类位于与 Web 控件相同的代码中。但我无法访问该功能。我该如何解决这个问题？

例子：

```
public class Controls_WebApp : System.Web.UI.UserControl, IAttributeAccessor, IUserControlDesignerAccessor
{
    protected void Page_Load(object sender, EventArgs e)
    {
        // Call Function
    }
}

public class A
{
    public string Function(string path)
    {

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:44:19.063

就目前而言，您将需要一个实例`A`来调用该方法

```
using namespaceOfA;
...
string result = new A().Function("Hello world"); 
```

或者，如果函数不依赖 A 的状态，您可以将函数设为静态 ( `public static string Function`)

```
string result = A.Function("Hello world"); 
```

# javascript - 使用 jquery 切换 div

> ID：12470399
> 
> 赞同：0
> 
> 时间：2012-09-18T04:30:58.520
> 
> 标签：javascript, jquery, html, css

当用户单击添加照片链接时，我希望 div`#share-sub-bottom`在显示和隐藏之间切换。出于某种原因，我无法让它工作，我做错了什么？

Jsfiddle 演示 [http://jsfiddle.net/Jzp5H/1/](http://jsfiddle.net/Jzp5H/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:34:24.613

看看这个[jsfiddle](http://jsfiddle.net/Jzp5H/2/)。你给了`Add photo`链接类`class=".show_hide"`，这是不正确的。你应该给它`show_hide`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:34:33.957

从你的类定义中删除点，它就像魅力一样

你有这个

`<p> <a href="#" class=".show_hide"> Add Photo </a> </p>`

这个你应该有

`<p> <a href="#" class="show_hide"> Add Photo </a> </p>`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T04:35:14.027

您好现在演示 [http://jsfiddle.net/Jzp5H/8/](http://jsfiddle.net/Jzp5H/8/)

```
<a href="#" class=".show_hide"> Add Photo </a> 
```

**进入这个**

```
<a href="#" class="show_hide"> Add Photo </a> 
```

**不要在前面** `class=".show_hide"`简单地使用一个点`class="show_hide"`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-18T04:58:39.063

更改此行的 html 文件：

```
<a href="#" class=".show_hide"> Add Photo </a> 
```

对此：

```
<a href="#" class="show_hide"> Add Photo </a> 
```

不要在前面使用点（。）。

# java - Wowza ModuleLiveStreamRecord 空指针异常

> ID：12470404
> 
> 赞同：0
> 
> 时间：2012-09-18T04:31:27.810
> 
> 标签：java, video-streaming, wowza, video-recording

我已经下载了 LiveStreamRecord 库，并尝试使用该库给出的示例，它工作正常。现在我想做的是，我想使用 web 服务开始录制特定的流。

我已经编写了 wowza 网络服务，除了录音之外它工作正常。当我输入以下代码开始录制特定流时，它会抛出 NULL POINTER EXCEPTION。代码片段如下所示。请让我知道如何克服这个问题。

**代码 ：**

```
String streamname="12";
ModuleLiveStreamRecord lsr=new ModuleLiveStreamRecord();
lsr.recordStream(streamname, 1, true, "", true, true, true); 
```

**得到的错误。**

```
ERROR server comment - invoke(onStreamCreate): java.lang.NullPointerException: com.wowza.wms.plugin.livestreamrecord.ModuleLiveStreamRecord.recordStream(ModuleLiveStreamRecord.java:28)
java.lang.NullPointerException
    at com.wowza.wms.plugin.livestreamrecord.ModuleLiveStreamRecord.recordStream(ModuleLiveStreamRecord.java:28)
    at com.media.modules.OnlineVideoStream.onStreamCreate(OnlineVideoStream.java:128)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at com.wowza.wms.module.ModuleFunction.invoke(Unknown Source)
    at com.wowza.wms.module.ModuleFunctions.a(Unknown Source)
    at com.wowza.wms.module.ModuleFunctions.onStreamCreate(Unknown Source)
    at com.wowza.wms.stream.MediaStreamMap.getStream(Unknown Source)
    at com.wowza.wms.module.ModuleCore.createStream(Unknown Source)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at com.wowza.wms.module.ModuleFunction.invoke(Unknown Source)
    at com.wowza.wms.module.ModuleFunctions.invoke(Unknown Source)
    at com.wowza.wms.request.RequestProcessFunctions.processFunctions(Unknown Source)
    at com.wowza.wms.client.ClientWorker.processNextReq(Unknown Source)
    at com.wowza.wms.request.RTMPRequestAdapter.service(Unknown Source)
    at com.wowza.wms.server.ServerHandler.a(Unknown Source)
    at com.wowza.wms.server.ServerHandler.a(Unknown Source)
    at com.wowza.wms.server.ServerHandler.messageReceived(Unknown Source)
    at com.wowza.wms.server.ServerHandlerThreadedSession.run(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source) 
```

我试图弄清楚这个问题两天，但找不到哪里出了问题。但 Flash 示例运行良好，没有任何错误。

如果我使用了错误的库，请向我推荐用于此类操作的正确代码示例。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T20:51:27.850

我不确定“使用网络服务开始录制特定流”是什么意思。使用此处的内置 http 提供程序[http://www.wowza.com/forums/content.php?123](http://www.wowza.com/forums/content.php?123)将允许您向 Wowza 服务器发出发布请求以开始和停止录制。如果你想创建自己的记录特定流的 Wowza 模块，你需要参考 wms-plugin-integrationrecord.jar。下面是一个例子：

```
LiveStreamRecorderMP4 recorder = new LiveStreamRecorderMP4();
 recorder.setRecordData(true);
 // Set to true if you want to version the previous file rather than overwrite it
 recorder.setVersionFile(true);
 // If recording only audio set this to false so the recording starts immediately
 recorder.setStartOnKeyFrame(true);
 boolean append = false;    
 //stream is a valid IMediaStream retrieved from Wowza API, outputPath a string 
 recorder.startRecording(stream, outputPath, append); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T07:17:13.443

从这里下载模块 v3 [http://www.wowza.com/forums/content.php?123](http://www.wowza.com/forums/content.php?123)。然后请阅读 readme.html，大部分 readme.html 包含不必要的信息，但这个自述文件不同，相信我 :)。此外，您无需编辑 java 并重新 jar 并将其复制并粘贴到 wowza 的 lib 文件夹中。如果您下载集合插件@wowza，它包括每个模块{如果您不需要进行一些服装化}。无论你可以用它录制流，flash 应用程序都不会抛出任何 exc，而是单击立即保存流@flash，然后查看 wowza 服务器 cmd 行，你会看到错误 count find method 或其他 exc。

# c++ - 如何在 C++ 中的类中声明字符串成员

> ID：12470407
> 
> 赞同：-1
> 
> 时间：2012-09-18T04:31:46.987
> 
> 标签：c++

我有一个任务，我正在尝试读取一个文件并计算它有多少行。我正在尝试使用类，但我不知道如何在类中声明字符串成员。这是代码：

```
#include<iostream>
#include<cmath>
#include<fstream>
#include<istream>
#include<string>
#include<iomanip>

using namespace std;

// Clase Nodo 
class Nodo {

    Nodo* next;

public:
    Nodo() {};
    string strLinea;
string strAux1; // = "//p.";  
string strAux2; // = "//i.";  
string strAux3; // = "//d.";  
string strAux4; // = "//m.";

void SetVariables(string data)
{
       strLinea = data;
    }

//void SetData(float EPS, float DH)
void SetData(string S)
{ 
    strLinea = S;
};

void SetNext(Nodo* aNext) 
{ 
    next = aNext;
};

String Data() 
{ 
    return(strLinea);
};

Nodo* Next() 
{ 
    return next; 
};
};

class Lista {
    Nodo *head;

public:
    Lista() { head = NULL; };
    void Print();
    void Append(string strLinea);
    void Delete(string strLinea);
};

void Lista::Print() {

// ... Apuntador temporal ...
Nodo *tmp = head;

// ... No hay Nodos ...
if ( tmp == NULL ) {
cout << "EMPTY" << endl;
return;
}

// ... Existe un Nodo in the Lista ...
if ( tmp->Next() == NULL ) {
cout << tmp->Data();
cout << " --> ";
cout << "NULL" << endl;
}
else {
// ... Recorre la lista y la imprime ...
do {
    cout << tmp->Data();
    cout << " --> ";
    tmp = tmp->Next();
}
while ( tmp != NULL );

cout << "NULL" << endl;
}
}

 void Lista::Append(string strLinea){
 // ... Aquí crea a Nodo nuevo ...
 Nodo* newNodo = new Nodo();

 newNodo->SetData(strLinea);
 newNodo->SetNext(NULL);

 // ... Crea un apuntador temporal ...
 Nodo *tmp = head;

 if ( tmp != NULL ) {
 // ... El Nodo está en la Lista ...
 // ... Recorre la Lista ...
 while ( tmp->Next() != NULL ) {
     tmp = tmp->Next();
 }
 // ... El último Nodo de la lista ...
 tmp->SetNext(newNodo);
 }
 else {
 // ... Nuevo Nodo de la lista ...
 head = newNodo;
 }
}

void Lista::Delete(string strLinea){
    // ... Crea un Nodo temporal ...
    Nodo *tmp = head;

   // ... No hay Nodos ...
   if ( tmp == NULL )
      return;

   // ... Último Nodo de la Lista ...
   if ( tmp->Next() == NULL ) {
        delete tmp;
        head = NULL;
   }
   else {
    // ... Recorre los nodos ...
    Nodo *prev;
    do {

     if(tmp->Data() == strLinea) break;

         prev = tmp;
         tmp = tmp->Next();
    } while ( tmp != NULL );

    // ... Ajusta los Nodos ...
    prev->SetNext(tmp->Next());

    // ... Borra el Nodo actual ...
   delete tmp;
   }
  }

 int main(int argc, char* argv[])
 {
        string L;
        int intLineCounter = 0;

        Lista lista;

        ifstream infile;
        infile.open(argv[1], ios::in);
        if(argc != 2)
        {
             cout << "ERROR.\n";
             return 1;
        }
       if(infile.fail())
       {
            cout << "ERROR\n";
            return 1;
       }
       else
       {
            while(!infile.eof())
            {
                   getline(infile,L);
                   intLineCounter++;
                   cout<< L + "\n";
                   lista.Append(L);
            }
            infile.close();
            cout << "Total lines: " << intLineCounter << endl;
           return 0;
      }
   } 
```

问题出在声明 String Data() 中的类中。如何申报？如何解决？有任何想法吗 ？有什么建议么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T04:33:40.547

```
String Data() 
{ 
    return(strLinea);
}; 
```

C++ 区分大小写...并`std::string`以小写字母开头`s`。您已经在此文件的许多其他位置正确声明了它，不知道为什么这个会挂断您。

此外，函数定义后不需要分号。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T04:40:49.277

它应该是

```
string Data() 
{ 
    return(strLinea);
}; 
```

C++ 是一种区分大小写的语言。

# java - 如何从一个类到另一个类中获取变量以在包装器中使用

> ID：12470410
> 
> 赞同：0
> 
> 时间：2012-09-18T04:32:15.097
> 
> 标签：java, android, android-intent

我按照对此处发现的问题的检查标记响应中的说明进行操作： [如何从 Java 方法返回 2 个值？](https://stackoverflow.com/questions/2832472/how-to-return-2-values-from-a-java-function)为了从单个函数中获取两个值。下面是我的主类的一部分，我在其中设置了需要传递给另一个类的两个变量。我想要的变量是 searchURL 和 searchURLTwo。我也许可以有目的地发送它们，但我只用来发送在另一个活动中使用的数据，不确定谁使用它来发送到另一个不启动新活动的类。

```
 @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.totlayout);

    //set the UI elements
    searchOne = (EditText) findViewById(R.id.searchOne);
    searchTwo = (EditText) findViewById(R.id.searchTwo);

    findMovies = (Button) findViewById(R.id.findMovies);

    searchOne.setOnKeyListener(new View.OnKeyListener() {

        @Override
        public boolean onKey(View v, int keyCode, KeyEvent event) {
            // TODO Auto-generated method stub
            //make person search url1
            final StringBuilder personSearchURLOne = 
                     new StringBuilder(getName.getName1(searchOne)); 
            searchURLOne = personSearchURLOne.toString();

            return false;
        }
    });

    searchTwo.setOnKeyListener(new View.OnKeyListener() {

        @Override
        public boolean onKey(View v, int keyCode, KeyEvent event) {
            // TODO Auto-generated method stub
            //make person search url2
            final StringBuilder personSearchURLTwo = 
                   new StringBuilder(getName.getName2(searchTwo));
            searchURLTwo = personSearchURLTwo.toString();

            return false;
        }
    }); 
} 
```

我想在 jSon = new JSONParser 下面的代码中使用 searchURLOne：

```
public class getIDs extends AsyncTask<String, Void, Void> {

public static String TAG_ID = "id";
public static String TAG_RESULTS = "results";

JSONArray results;
JSONObject jSon;
JSONObject jSon2;
public String firstID;
public String secondID;

@Override
protected Void doInBackground(String... personSearchURLOne) {
    // TODO Auto-generated method stub
    Log.d("params 0 in getIDs", personSearchURLOne[0]);
    try{
        jSon = new JSONParser().execute(personSearchURLOne[0]).get();

        results = jSon.getJSONArray(TAG_RESULTS);

        for(int i=0; i<results.length(); i++){
            JSONObject r = results.getJSONObject(i);
            firstID = r.getString(TAG_ID);
            Log.d("firstID", firstID);

        jSon2 = new JSONParser().execute(personSearchURLOne[1]).get();

        results = jSon2.getJSONArray(TAG_RESULTS);

        for(int j=0; j<results.length(); j++){
            JSONObject r2 = results.getJSONObject(j);
            secondID = r2.getString(TAG_ID);

            }
        }

    }catch(InterruptedException e1){
        e1.printStackTrace();
    }catch(ExecutionException e1){
        e1.printStackTrace();
    }catch(JSONException e){
        Log.e("Error", e.toString());
    }
    return null;

}
  ublic String getFirstID(){
  return firstID;
  }
  public String getSecondID(){
  return secondID;
  }

} 
```

我更新了 getIDs 代码以显示整个代码，并且 doInBackground 不返回值，而是有两个 getter 方法。正确的 URL 在 personSearchURL[0] 和 [1] 中传入。从我的主函数中，我调用 getData，其中包含用于从 api 获取搜索结果的所有执行逻辑，它在我称为 getIDs 的 getData 中。下面是相关的getData代码：

```
 public class getData extends AsyncTask<String, Void, ArrayList<String> > {

String idOne;
String idTwo;
ArrayList<String> titleOne;
ArrayList<String> titleTwo;
ArrayList<String> myCommonFilms;

public static getIDs getMyIds(){

    return new getIDs();
}

/*public static Titles getMyTitles(String title){
    return new Titles();
}*/

protected ArrayList<String> doInBackground(String... params) {
    Log.d("params in doinbackground contains", params[0]);
    Log.d("params in doinbackground contains", params[1]);

    new getIDs().execute(params[0], params[1]);

    //get ID 1 
    /*getIDs idholder = new getIDs().execute(params[0], params[1]);*/
    getIDs id1 = getMyIds();
    idOne = id1.getFirstID(); 
```

我需要知道如何从 getIDs 获取 firstID 的返回值到我的 getData 类中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T19:16:45.277

在您的 getData 类中尝试以下操作 [http://developer.android.com/reference/android/os/AsyncTask.html#onPostExecute%28Result%29](http://developer.android.com/reference/android/os/AsyncTask.html#onPostExecute%28Result%29)

这将给出 AsncTask 的执行结果

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:19:58.507

您尚未在任何地方创建类 getID 的实例。我假设它将在具有两个 EditText 的同一活动中的某个事件处理函数上创建。现在您已经在这个类中拥有了 searchURLOne 和 searchURLTwo。

> 您需要调用 new getIDs().execute(searchURLOne,searchURLTwo);

您还可以按如下方式访问变量

```
protected Void doInBackground(String... personSearchURLOne) {
    // TODO Auto-generated method stub
    try{
            String searchURLOne = personSearchURLOne[0];
            String searchURLTwo = personSearchURLOne[1];
            /*this needs to be reference to searchURLOne*/
        jSon = new JSONParser().execute().get();

       }       
} 
```

# .net - 如何在 XAML 中实现圆形按钮

> ID：12470412
> 
> 赞同：29
> 
> 时间：2012-09-18T04:32:18.933
> 
> 标签：.net, wpf, xaml

如何在 XAML 中实现如下图所示的圆形按钮，无需外部图像。中间的黑线是不需要的。

![在此处输入图像描述](../Images/a5bf1548b1a1490e1c02bed95f0abdf4.png)

* * *

## 回答 #1

> 赞同：53
> 
> 时间：2012-09-18T05:46:19.653

这是一种非常快速的方法。它可以更改为样式，并且可以通过创建 TemplatedControl 使其更加灵活，从而使设计人员可以轻松更改颜色和其他属性。

```
<Button Width="100"
        Height="100">
    <Button.Template>
        <ControlTemplate TargetType="Button">
            <Grid>
                <Ellipse Stroke="Black"
                         StrokeThickness="2">
                    <Ellipse.Fill>
                        <RadialGradientBrush>
                            <GradientStop Offset="0"
                                          Color="Lime" />
                            <GradientStop Offset="1"
                                          Color="Lime" />
                            <GradientStop Offset="1"
                                          Color="Gold" />
                            <RadialGradientBrush.Transform>
                                <TransformGroup>
                                    <ScaleTransform ScaleY="0.65" />
                                </TransformGroup>
                            </RadialGradientBrush.Transform>
                        </RadialGradientBrush>
                    </Ellipse.Fill>
                </Ellipse>
                <ContentPresenter HorizontalAlignment="Center"
                                  VerticalAlignment="Center"/>
            </Grid>
        </ControlTemplate>
    </Button.Template>
</Button> 
```

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2012-09-18T05:47:01.987

```
 <Button  Width="100" Height="100" Content="Abcd">
        <Button.Template>
            <ControlTemplate TargetType="{x:Type Button}">
                <Grid>
                <Ellipse Fill="Red"/>
                    <ContentPresenter Content="{TemplateBinding Content}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Grid>
            </ControlTemplate>
        </Button.Template>
    </Button> 
```

您必须将按钮的高度和宽度设置为相同的圆形。

# php - 连接MYSQL数据库到Public_HTML PHP

> ID：12470415
> 
> 赞同：1
> 
> 时间：2012-09-18T04:33:19.837
> 
> 标签：php, mysql, phpmyadmin, cpanel

因此，我正在尝试为我的工作场所构建一个小型 CMS。我们当前的站点是通过 hostGator 托管的，所以我使用 cpanel 创建了一个新的 mysql 数据库和一个简单的“用户”表来存储用户名和密码。

我将如何打开从 php 文件到我创建的数据库的连接，该文件将是位于同一服务器上的子域的根目录？

我想我主要对 php 文件中的正确路径（$host ？）应该是什么样子感到困惑？

```
<?php
$host="localhost"; // Host name
$username="energyto_user"; // Mysql username
$password="*****"; // Mysql password
$db_name="test"; // Database name
$tbl_name="users"; // Table name

// Connect to server and select database.
mysql_connect("$host", "$username", "$password")or
die("cannot connect");
mysql_select_db("$db_name")or die("cannot select DB");

// username and password sent from form
$myusername=$_POST['myusername'];
$mypassword=$_POST['mypassword'];

// To protect MySQL injection (more detail about MySQL injection)
$myusername = stripslashes($myusername);
$mypassword = stripslashes($mypassword);
$myusername = mysql_real_escape_string($myusername);
$mypassword = mysql_real_escape_string($mypassword);

$sql="SELECT * FROM $tbl_name WHERE username='$myusername' and
password='$mypassword'";
$result=mysql_query($sql);

$count=mysql_num_rows($result);

if($count==1){
session_register("myusername");
session_register("mypassword");
header("location:login_success.php");
}
else {
echo "Wrong Username or Password";
}
?> 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:47:58.307

我真的不认为你这样做会有很多麻烦..只需在所有页面中包含这个 php 配置文件的相对地址，如果两个文件都在同一个文件夹中并且没有“.htaccess”文件，它应该可以理想地工作阻塞连接。

我通常建议人们做的最好的方法是定义类..如果这只是您项目的开始，强烈建议使用类并定义数据库类并使用这些类的对象..它是安全的，一旦你得到它就更容易用过...

干杯..

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-18T04:40:07.497

我认为您的数据库名称应该是`energyto_test`

# python - 在pyglet中使用gl_points滚动星空

> ID：12470417
> 
> 赞同：2
> 
> 时间：2012-09-18T04:33:30.110
> 
> 标签：python, opengl, pyglet

对于我正在开发的游戏，我想实现一个滚动星空。到目前为止，所有游戏都是从 OpenGL 原语中绘制的，我想继续这个，gl_points 似乎很合适。

我正在使用 pyglet (python) 并且知道我可以存储一大堆的位置或点更新它们并手动移动它们，但我希望有一个更整洁的选择。

**编辑：** 在回答 Ian Mallett 时，我想我想问的是，如果我生成一堆点，有没有办法可以将这些点粘贴到某种表面或缓冲区上，并在后台滚动它。

此外，至于我在这个阶段想要生成什么样的星空，我正在尝试为自上而下的游戏创建一个简单的单层，几乎就像你在小行星中所拥有的那样

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T16:15:20.570

* * *

# 无限的程序星场模式

（*特色：视差滚动*）

基本配方是：

*   种子随机生成器（每帧相同的种子）
*   生成 N 个随机点 (X,Y) 和一个“Z”值（比如每个点 0.5 ... 2）

*   翻译每个点的位置：`(X,Y) += scrollXY * Z`
    这是棘手的部分。**每个点都有不同的 Z 值，因此它们以不同的速度滚动。**这称为“视差滚动”并产生惊人的效果。

*   包裹点（以屏幕大小为模）。

每帧使用相同的种子会给你一个随机的星场模式，但每帧都是持久的（仅由滚动值改变）。

## 有趣的事实

该算法可以很容易地修改，因此**您不必将所有 N 个位置实际存储在内存中**。您只需要一个生成器，它可以为您提供随机的基础 (X,Y) 坐标（和深度），并由一个常数值加上一些星号作为种子。

伪代码：

```
for (int i=0; i<1000; ++i) {

    RandomGenerator rnd;
    rnd.seed(SomeConstantSeed + i*10293);

    // determine i-th star's position
    var basePosition = vec2(rnd.next(800), rnd.next(600));
    var depth = rnd.next(0.5, 2);

    // parallax scrolling and wrapping
    var realPosition = basePosition + scrollXY * depth; 
    var wrappedPosition = realPosition modulo vec2(800, 600);

    // these are our coordinates! let's draw
    renderStar(wrappedPosition);
} 
```

在这里，每颗星都是按需生成的，我们不必在帧之间将其值保存在内存中。随机生成器种子保持不变就足以在每一帧生成相同的（但动画的）星场。

您可以使用相同的技术为每颗星分配不同的随机（但持久）颜色。

* * *

# 如何使用OpenGL高效实现？

最简单和最有效的方法是在顶点着色器中动态生成位置。

*   在 VBO 中准备你的星形几何。它可以是你想要的任何东西：一个顶点（对于一个点精灵），一个带纹理的四边形，任何东西。

*   使用 渲染它[`glDrawArraysInstanced`](http://www.opengl.org/sdk/docs/man4/xhtml/glDrawArraysInstanced.xml)，`primcount`您想要的星数在哪里

*   在您的顶点着色器中，从上面的伪代码中实现循环体，替换`gl_InstanceID`为`i`. 然后通过滚动值（作为变量传递）改变每个顶点的输入 XY 屏幕位置（VS 中的属性变量），`uniform vec2`如上所述。

一些脚注：

*   您将需要在顶点着色器中使用随机生成器。使用 1D 噪声纹理实现它或[查看这里](https://stackoverflow.com/questions/4200224/random-noise-functions-for-glsl)。
*   如果您的星星的几何图形多于一个点（即您使用四边形，而不是点精灵），您需要更加小心屏幕环绕以避免出现星形环绕的某些顶点而其他顶点没有环绕的情况。这有点棘手，但可行。使用点精灵更简单。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:55:17.447

你能澄清一下是什么样的星空吗？2D 滚动（对于侧面或顶部滚动游戏，可能有不同的层）或 3D（就像在难以置信的快速宇宙飞船中真正飞过星空）？

在前者中，纹理（或叠加混合的纹理层）可能是最干净和最快的方法。[编辑：纹理是迄今为止最好的方法，但如果你真的不想使用纹理，你可以执行以下操作，这是下一个最好的方法：

*   制作一个静态 VBO 或显示点列表，其大小可能是滚动方向所需的六倍（例如，如果您正在运行 800x600 屏幕并且您正在水平滚动，则在 4800x600 网格上生成点）。
*   绘制这些点两次，偏移宽度和滚动变量。例如，让 x 成为您的滚动变量（它从 0 开始，然后递增直到达到 4800（点的宽度），然后回绕并从 0 重新开始）。每一帧，用 glTranslatef(x,0,0) 绘制你的点。然后用 glTranslatef(x+4800,0,0) 再次绘制它们。
*   通过这种方式，您的积分将看似连续滚动过去。常数（我在上面选择了六个）对算法并不重要。值越大，重复次数越少，但性能越慢。
*   您也可以尝试使用不同的滚动常数多次执行上述所有操作，以产生深度错觉（具有多层）。

]

在后者中，我能想到很多聪明的算法，但我建议只使用原始点（如果你喜欢的话，点精灵）；如果将 GPU 放在静态 VBO 或显示列表中，GPU 可以处理此问题。如果您的积分很小，您可能一次可以抛出几千个，而不会对性能造成任何明显影响。

# javascript - 防止滚动超出 div

> ID：12470423
> 
> 赞同：0
> 
> 时间：2012-09-18T04:34:05.797
> 
> 标签：javascript, scroll, hover

有两个div：

# 标题和#blog。

单击（a href="# blog" - 向下或 a href="# header" - 返回顶部）后会从一个页面滚动到另一个页面我需要防止滚动超出每个 div（如果悬停） , 转换仅在链接上进行。但我需要把卷轴留在里面。

试过这个不起作用：

```
$("#header").hover(function(){
$("body").css("overflow","hidden");}); 
```

`$("body").hover(function()`- 此功能有效 `$("#header").hover(function()`- 此无效

我还能如何实现这个想法？

# java - 安卓安装细节

> ID：12470429
> 
> 赞同：0
> 
> 时间：2012-09-18T04:34:31.647
> 
> 标签：java, android, android-layout, operating-system

我是 android 新手，我想知道一些基本的东西，经过大量的谷歌搜索后我无法找到。在安装android时，我发现了三个东西，Android SDK，Eclipse，ADT插件......我想知道android SDK与ADT插件的关系......我想知道我是否在Eclipse中安装了ADT插件那么是什么需要安装Android SDK。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T04:39:35.767

ADT 插件是整个 Android SDK 的一部分。

它使您可以从 Eclipse 直接访问作为 SDK 一部分的工具，并且可以通过命令行访问这些工具。

无论如何，如果你想开发Android应用程序，你需要安装SDK。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T09:36:53.573

这是 ADT [http://developer.android.com/tools/sdk/eclipse-adt.html](http://developer.android.com/tools/sdk/eclipse-adt.html)上的文档， 因为它指出您还需要安装 SDK 和 Eclipse。它是一个插件，允许 Eclipse 执行某些功能，例如“快速设置新的 Android 项目、创建应用程序 UI、添加基于 Android 框架 API 的包、使用 Android SDK 工具调试您的应用程序，甚至导出已签名的（或unsigned) .apk 文件，以便分发您的应用程序。” 否则，您将通过命令行完成所有操作，而不是通过像 Eclipse 这样的良好环境。

老实说，设置 Eclipse / SDK / ADT 等最初有点障碍。我的第一次设置花了很长时间，但是一旦我得到了我应该做的事情，它就变得更有意义了。祝你好运。

编辑：Eclipse 允许您在一个不错的环境中编写代码。Android 调试工具 (ADT) 允许您在 Eclipse 中编写 ANDROID 项目。SDK允许你编译你的代码，运行它，模拟器等。

# ios5 - UIView 销毁时的通知

> ID：12470435
> 
> 赞同：0
> 
> 时间：2012-09-18T04:34:53.253
> 
> 标签：ios5, uiview, uitableview

我有一个自定义 UITableViewCell （子类），效果很好。单元格的一部分是 UITextField，我将其作为@property 对外公开。但是，所有内容都在单元格内部进行管理，包括在 initWithStyle 函数中分配 + 设置 UITextField。

我注意到的是，当我创建一个大小合适的表格（比一次在页面上显示的单元格多）然后选择一个 UITextField 的，键入一点，最后向下滚动并选择另一个单元格时，我的程序崩溃了。

当我执行以下操作时，我的程序不会*崩溃*：

*   重复上述步骤减去输入原始单元格
*   输入 UITextField，然后滚动并输入 close by 文本字段。
*   直接跳到任何特定的文本字段并开始输入

现在，我目前没有重复使用单元格，但是一旦所有的错误都出来了。

查看崩溃堆栈，这似乎正在发生，因为程序正试图让原始文本字段的第一响应者辞职。此文本字段是否被意外释放？我不这么认为，因为我可以选择一个单元格，滚动离开屏幕，开始输入，然后一直向上滚动并查看我刚刚输入的内容。内部 *textfield 指针是否已更改？它不应该是我只在重载的 UITableViewCell 的 initWithStyle:reuseIdentifier: 函数中分配给它的——即使是这样，辞职的不是我；我什至没有在我的代码中的任何地方调用 resignFirstResponder 。

那么有没有一种方法可以识别我的 UIView（例如 UITableViewCell）是否已经滚动到屏幕外（从 UITableViewCell 中——最好是通过重载某些方法）？我想到了 viewDidUnload，但那是针对 viewControllers 的。如果我有这样的方法，我会利用它在文本字段上 resignFirstResponder 以及我想要处理的任何其他处理。

一些代码：

```
// In the .h
@interface mycell:UITableViewCell <UITextFieldDelegate>;
@property (nonatomic, retain) UITextField *textfield;
@end

// In the .m
- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier {
    self = [super initWithStyle:style reuseIdentifier:reuse];
    if (!self) return self;

    self.textfield = [[UITextField alloc] initWithFrame:CGRectZero];
    [self.textfield setDelegate:self];
    [self addSubview:self.textfield];
    return self;
} 
```

欢迎提出建议。

# ruby-on-rails - 收到错误消息无法将符号转换为整数

> ID：12470437
> 
> 赞同：1
> 
> 时间：2012-09-18T04:35:04.183
> 
> 标签：ruby-on-rails, database

我的 twilio 应用程序的控制器中有以下代码，您将在“id = user ...”行中看到错误：

```
class CallsController < ApplicationController
def play
    user = Refugee.find_all_by_cell_number(params[:id]) && Student.find_all_by_cell_number(params[:id])
    id = user[:last_class].to_i
    lesson = RecordedLesson.find(id).next
    user[:last_class] = lesson.id
    user.save
    @audio_lesson_url = lesson.sound_file.url
    render :action => "play.xml.builder", :layout => false
end
end 
```

然后我收到以下错误消息

```
 app/controllers/calls_controller.rb:7:in `play'=2012-09-18T04:00:13+00:00 app[web.1]: TypeError (can't convert Symbol into Integer): 
```

尽管我运行了以下迁移

```
 class ChangeLastClassOfStudents < ActiveRecord::Migration
      def change
        change_column :students, :last_class, :integer, :null => true

      end
    end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:45:29.383

假设您的用户对象是有效的并响应 last_class 方法。你试过这样做吗？

```
id = user.last_class 
```

由于您的 last_class 已经是一个属性和一个整数，因此没有理由对其进行转换。

# r - 替换列中的行数据

> ID：12470440
> 
> 赞同：0
> 
> 时间：2012-09-18T04:35:12.847
> 
> 标签：r, replace

我正在使用的数据集将缺失值视为 -99，现在我需要将所有这些 -99 替换为同一行但不同列中的数字。

这是示例

```
V1   V2    V3  V4       V5            V6        V7
1   1958    3 1958.208 315.71       315.71    314.62    -1
2   1958    4 1958.292 317.45       317.45    315.29    -1
3   1958    5 1958.375 317.50       317.50    314.71    -1
4   1958    6 1958.458 **-99.99**   *317.10*  314.85    -1 
```

我想用 (V6, 4) 替换 (V5, 4)。

V5 中有几个缺失的数据，我们想用 V6 中的同一行替换。

如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:07:36.550

`NA`在读取数据时指定值会更明智。

您可以通过在（或此类的某些变体）中指定`na.string` 参数来做到这一点。`read.table()`

对于您的特定数据，尚不清楚您是否有定义的方案（如始终替换为下一列中的值），但用于将列中的“缺失”值替换`V5`为它们各自的值`V6`并假设您的数据被调用`DF`

```
 DF <- within(DF, V5 <- replace(V5, V5 == -99.99, V6[V5== -99.99]) 
```

会工作。

如果您已正确地将 -99.99 指定为缺失值 (NA)，则

```
DF <- within(DF, V5 <- replace(V5, is.na(V5), V6[is.na(V5)]) 
```

# android - 何时在 Android 上使用本地存储，推荐使用哪一种？

> ID：12470443
> 
> 赞同：1
> 
> 时间：2012-09-18T04:35:49.133
> 
> 标签：android, json, sqlite, storage, pojo

我正在开发一个应用程序，我需要在应用程序会话期间处理一些数据。应用程序被杀死或用户手动注销应用程序后，我不需要数据。

我正在使用 POJO 来保存数据。POJO 就像帐户、用户、校园等。我从 REST API 调用中以 JSON 的形式获取所有这些数据。

由于我是相当新的 Android 开发人员，因此我试图了解在这种情况下推荐哪种存储方法。（SQLite、SharedPreferences、ApplicationContext、Bundles、ArrayList、Maps 等）

性能很重要，在用户会话期间对这些数据执行搜索。

我需要经常构造 JSON 对象并回发到 API。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:43:23.153

**将数据放在应用程序上**

如果你不需要持久化你的数据并且它的生命周期很短，你可能想要创建一些 Application 的子类来保存它。这是在 Android 平台中拥有一些内存中全局数据的方式 - > [How-to？](http://androidcookbook.com/Recipe.seam?recipeId=1218)

**将数据放在内存 SQLite 表/数据库中**

或者，如果这将帮助您查询数据，您可能需要一些内存中的 SQLite 表。在 Android 中也可以使用内存表。[如何？](http://attakornw.wordpress.com/2012/02/25/using-in-memory-sqlite-database-in-android-tests/)

**注意事项**

第一种方法可能会给你最好的表现。所有数据都在内存中，因此很容易访问。但是如果数据的结构非常复杂，查询也很复杂，你可能想使用 SQLite 让查询数据更容易数据。性能将取决于您的数据和查询的复杂程度。性能仍然会非常好，因为事情在内存中。

但是你必须小心。如果你最终使用了太多的内存，你将使你的应用程序更有可能被 Android 框架杀死。您的数据将丢失。（5MB 可能没问题，10MB 可能太多了。你必须测试看看会发生什么。）

如果内存压力很高，那么您应该卸载到磁盘。性能会更差，特别是当存储快满时。在这种情况下，访问可能会很慢。存储和检索数据的最简单方法是 SharedPreferences。您可以将 JSON 编写为 String 首选项。同样，如果数据太复杂并且像数据库一样查询它很方便，您可以使用 SQLite。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T06:19:19.383

如果您需要随机访问和查询数据，SQLite 是一个不错的选择，但您必须自己实现 CRUD 或某种 SQL 数据绑定。

如果您需要将所有数据集中在一起，您可以将它们作为 JSON 存储在本地存储中，然后对其进行解析（我编写了小型 databindung 库使其更容易：[https](https://github.com/ko5tik/jsonserializer) ://github.com/ko5tik/jsonserializer ）

如果您的数据是有限数量的偏好，您可能会启用偏好存储（我还为此编写了小型库： [https](https://github.com/ko5tik/andject) ://github.com/ko5tik/andject将允许您轻松地将偏好编组和汇总到对象中）

# c# - 在 32 位应用程序中使用 3Gb 内存

> ID：12470446
> 
> 赞同：1
> 
> 时间：2012-09-18T04:36:09.090
> 
> 标签：c#, .net, memory

我正在开发一个在一些并行线程中导入大量数据的应用程序。

有时我得到 OutOfMemoryException（当我使用 1.5、1.7GB 的内存时）。

没什么大不了的，我想我会把它做成一个 64 位的程序（因为它不是那么大）。但是由于一个.Net错误（不能有一个64位的十进制主键），我不能制作一个64位程序。（[问题的描述，](https://stackoverflow.com/questions/5480972/clr-detected-an-invalid-program-with-entity-framework)我发现了许多其他情况。我只是不能改变任何东西这个数据库，甚至没有一个类型或添加一个视图）。

我只需要 1.5-1-7GB 的 RAM。如果我能达到 2.5GB，我会很高兴。

我读了一些关于“LARGEADDRESSAWARE”的东西，但我没有找到在我的视觉工作室上设置它的地方，以及大多数其他提示我应该修改 boot.ini 文件。

但由于我的计算机已经是 64 位计算机（具有 8GB 的​​内存），我认为我不必在这里做任何事情。

那么我应该怎么做才能访问那些 3GB 的内存呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T04:46:36.850

使用 editbin 设置 LARGEADDRESSAWARE 标志，如[我可以从 Visual Studio 中设置 LARGEADDRESSAWARE 吗？](https://stackoverflow.com/questions/2597790/can-i-set-largeaddressaware-from-within-visual-studio).

```
editbin /largeaddressaware $(TargetPath) 
```

您需要运行 x64 版本的 Windows，或者如您提到的 32 位系统更改 Boot.ini 以允许应用程序使用 3Gb 的地址空间和[/3GB](http://msdn.microsoft.com/en-us/windows/hardware/gg487508.aspx)开关。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:01:32.920

一个 32 位应用程序有 4GiB 的虚拟地址空间。如果我没记错的话，Windows 默认将其拆分为 2GiB 用于应用程序（包括代码、堆栈、数据）和 2GiB 用于系统。

应该有一种方法可以将应用程序更改为 3 GiB，系统更改为 1 GiB，但我认为无论如何您都无法超越。

# c++ - VS 2010 中的 C++ 调试访问冲突

> ID：12470450
> 
> 赞同：1
> 
> 时间：2012-09-18T04:37:24.267
> 
> 标签：c++, visual-studio-2010, debugging, access-violation

我是 Visual Studio 的新手，在 VS 2010 C++ 项目中遇到访问冲突错误。访问冲突错误有时将我指向“free.c”微软文件，有时指向项目代码片段。问题是，代码不是我的，但我必须在其中实现一两件事。所以问题是：如何追踪访问冲突根源的确切代码段？

如果有人感兴趣：我正在使用 OSG 和 Qt，尝试创建新线程以在后台运行 OSG 渲染。在简单的例子中（只是 3d 模型 + qt 按钮）一切正常，但是当我尝试在项目中实现 Qt 按钮时，它不断给我访问冲突

感谢您的时间！

编辑：

*   *这是黄色箭头指向*ntdll.dll!77972c39() 的地方
*   [下面的帧可能不正确和/或丢失，没有为 ntdll.dll 加载符号]
*   kernel32.dll!7776c3d4()
*   *这是绿色箭头指向的地方*msvcr100.dll!free(void * pBlock) 第 51 行 C
*   osg75-osg.dll!52f245f1()
*   osg75-osg.dll!52f2785e()
*   osg75-osgQtd.dll!osgQt::QGraphicsViewAdapter::assignImage(unsigned int i) 第 565 行 + 0x59 字节 C++
*   osg75-osgQtd.dll!osgQt::QGraphicsViewAdapter::setFrameLastRendered(const osg::FrameStamp * frameStamp) 第 477 行 C++
*   osg75-osgQtd.dll!osgQt::QWidgetImage::setFrameLastRendered(const osg::FrameStamp * frameStamp) 第 54 行 C++
*   osg75-osgViewer.dll!545b5a2e()
*   osg75-osgUtil.dll!52c8b6a3()
*   msvcr100.dll!malloc(unsigned int size) 第 89 行 + 0x3b 字节 C
*   msvcr100.dll!operator new(unsigned int size) 第 59 行 + 0x8 字节 C++
*   osg75-osg.dll!52eac085()
*   *..blah blah 调用 osg dll 和其他东西..*

同时发现问题不仅出现在我尝试创建新线程时，而且出现在更多不同的情况下（即使我尝试向根组添加一些东西），所以我真正需要的是捕捉导致访问冲突的原因

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-21T03:51:05.590

> 您是否有可能在同一个应用程序中混合调试和发布？请记住，在调试应用程序中使用发布 dll 或在发布应用程序中使用调试 dll 通常并不安全，因为 Visual Studio 发布和调试堆不兼容。

这就是解决方案，感谢 Drescherjm。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T06:28:10.567

听起来像一个无效的指针。发生这种情况时要做的第一件事是上堆栈，直到您进入项目代码（您通常可以假设“免费”之类的东西可以正常工作），这可能会告诉您哪个指针被弄乱了。除此之外，它正在弄清楚它是如何获得无效值的。

当然，情况可能会更糟。访问冲突几乎是一种通用的“一些错误”类型；例如，一个无效指针也可能是由一些代码丢弃随机内存并命中该指针而创建的。很难找到罪魁祸首，因为它从来没有真正解决过指针。如果它看起来确实“可靠”地击中了指针，您可以尝试在指针上设置数据修改断点，该断点会在修改数据时中断。

当然，可能还有许多其他事情出错。没有简单的“点击这里，点击那里，它会告诉你断线”。

# android - 向报警管理器广播接收器发送数据

> ID：12470453
> 
> 赞同：16
> 
> 时间：2012-09-18T04:37:44.720
> 
> 标签：android, broadcastreceiver, alarmmanager

我在这里遗漏了一些东西，我希望有人可以帮助我。我正在使用以下方法设置警报：

```
 AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);

    Intent broadcast_intent = new Intent(this, AlarmBroadcastReceiver.class);
    PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0,  broadcast_intent, 0);

    broadcast_intent.putExtra("test", "ValueReceived"); //data to pass
    Date date = someVariable.getDateTime();

    long triggerAtTime = date.getTime();

    alarmManager.set(AlarmManager.RTC_WAKEUP, triggerAtTime, pendingIntent); 
```

和广播接收器使用以下内容：

```
public class AlarmBroadcastReceiver extends BroadcastReceiver{

    @Override
    public void onReceive(Context context, Intent intent) {

        Toast.makeText(context, "Alarm has been received "+intent.getStringExtra("test"), Toast.LENGTH_LONG).show();

    }

} 
```

然而意图显然是“空的”。我看到 getStringExtra 的空值。所以数据没有被传递给广播接收器。我究竟做错了什么？我怎样才能传递数据。

非常感谢

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-09-19T14:43:24.757

在将附加内容传递给 PendingIntent**之前**，您需要将附加内容添加到 Intent中：

```
Intent broadcast_intent = new Intent(this, AlarmBroadcastReceiver.class);
broadcast_intent.putExtra("test", "ValueReceived"); //data to pass

PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0,  broadcast_intent, 0); 
```

# ruby - 有没有一种简单的方法可以使用 ruby gem 获得 Twitter 提及？

> ID：12470455
> 
> 赞同：2
> 
> 时间：2012-09-18T04:37:58.493
> 
> 标签：ruby, twitter, sinatra, tweetstream, grackle

我尝试使用 gem [twitter](https://github.com/sferik/twitter)、[grackle](https://github.com/intridea/tweetstream)和 TweetStream ，[但](https://github.com/ntreadway/grackle)我不知道如何获取用户@mentions 流。

我只是不知道如何将一些代码放在一起，上面写着“让所有提及用户”。（我想利用@提及，而不仅仅是在推特上搜索用户名）

我正在使用 Sinatra :: 我已经全部启动并正在运行 :: 我可以发布到提要，获取特定状态等等。获得@mentions 让我望而却步。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:04:42.057

我只使用[oauth](https://github.com/oauth/oauth-ruby) gem，但这是你可以做到的。既然你可以发布提要，我猜你有这个过程直到 access_token。

```
>> response = access_token.get('http://api.twitter.com/1/statuses/mentions.json')
>> JSON.parse(response.body)
#=> Array of Hashes with all the info 
```

顺便说一句，我看到[Twitter gem](https://github.com/sferik/twitter/blob/master/lib/twitter/tweet.rb)源代码中已经包含了一个函数。

**推文.rb**

```
# @note Must include entities in your request for this method to work
# @return [Array<Twitter::Entity::UserMention>]
def user_mentions
  @user_mentions ||= entities(Twitter::Entity::UserMention, :user_mentions)
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-16T21:16:24.760

您可以使用 Twitter 中的搜索/推文 API 并设置 q: "@USERNAME"，它将查找提及您的用户的推文。

# jquery - css - 几次翻转后菜单失去高度

> ID：12470458
> 
> 赞同：0
> 
> 时间：2012-09-18T04:38:28.837
> 
> 标签：jquery, css

我们有一个实时站点和一个使用相同菜单的开发人员皮肤，但由于某种原因，开发版本的顶部下拉菜单存在一个特殊问题，即如果您将其滚动几次，它就会开始失去高度。

开发版： http: [//ithea.jwgecko.com/index.cfm](http://ithea.jwgecko.com/index.cfm) 直播网站：http: [//ithea.vic.edu.au/](http://ithea.vic.edu.au/)

任何想法可能是什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T05:16:14.133

似乎是**jQuery**库版本 (1.7.1) 问题。

**将您的jQuery**库版本更改为大于 1.7.1

[**看一个例子**](http://jsfiddle.net/akhurshid/mN6Hk/)- ^([*使用 jQuery 库 1.7.2* ])

**补充笔记：**

您在现场使用的菜单是**超级鱼菜单**，而在开发站点上是自定义菜单。所以两个菜单都不一样。

# c++ - C++用括号声明一个对象

> ID：12470459
> 
> 赞同：6
> 
> 时间：2012-09-18T04:39:02.500
> 
> 标签：c++, constructor

> **可能重复：**
> [使用空括号调用默认构造函数时出错](https://stackoverflow.com/questions/180172/error-on-calling-default-constructor-with-empty-set-of-brackets)

我附上了一个测试程序。问题：

如果我像下面这样声明，则不会创建任何对象，并且不会调用默认构造函数。'grCell c3();' // 坏的

但是，这样声明是可以的。创建一个对象并调用它的构造函数。'grCell c1;' // 好的

'grCell c3()' 和 'grCell c1' 有什么区别？

谢谢！

托德

// - - 开始 - - - -

```
#include <iostream>
#include <cstdio>

typedef unsigned int uint;
using namespace std; 

//
class grCell {
 public:
  grCell()      { printf("HERE_0\n"); };
  grCell(int i) { printf("HERE_1\n"); };
  ~grCell() {};

  void setX(int x) { _x = x; }
  //
  //
private:

  int  _x:22;
};

int main()
{

  grCell c1;  // good
  c1.setX(100);

  grCell c3();  // bad
  c3.setX(100);

  grCell c2(5);
  c2.setX(10);

} 
```

// - - - 结尾 - - -

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T04:40:05.500

> **`grCell c3()`和 和有什么不一样`grCell c1`？**

第一个声明一个函数，而第二个创建一个名为`c1`type的对象`grCell`。

```
grCell c3(); 
```

它不创建对象，而是声明一个名称`c3`为不带参数并返回类型对象的函数`grCell`。
它是 C++ 中**[最令人头疼的解析](http://en.wikipedia.org/wiki/Most_vexing_parse)**。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-18T04:41:11.367

你遇到[了最令人头疼的 parse](http://en.wikipedia.org/wiki/Most_vexing_parse)。

`grCell c3()`声明一个名为的**函数**`c3`，它返回一个`grCell`.

`grCell c3``grCell`声明一个名为的实例`c3`。

在 C++ 中，有一句谚语，“任何看起来像函数的东西都是函数”。

**关于评论**

`grCell()`被称为值初始化，如果它是类类型，则调用默认构造函数`grCell()`。`grCell`然而，`int()`不同`int`的是，第一个版本零初始化对象。

# jquery - 在 iframe 中使用 ajax 就绪函数

> ID：12470464
> 
> 赞同：0
> 
> 时间：2012-09-18T04:39:58.243
> 
> 标签：jquery, iframe, ready

我正在 iframe 中加载网页。当页面“准备好”时，该页面使用 jquery .ready 函数加载内容。.ready 函数似乎启动得太快了。

我在搜索时找到的所有解决方案都涉及在主页（而不是 iframe 页面）上触发的事件。我可以在 iframe 内加载的页面源代码中执行什么操作以使 .ready 函数稍后触发，或者我可以使用其他一些可以使用的函数或事件吗？我不希望使用任意超时功能，因为这可能会导致不必要的延迟，或者在某些情况下可能等待的时间不够长。

编辑：我在 iframe 中加载的页面，当它直接在浏览器中加载时工作得很好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T05:53:46.290

使用 jquery.load() 方法，该方法将触发仅加载整个页面（包括所有内容）。

样本

```
$(window).load(function(){

}); 
```

注意：如果你打算使用 .load() 函数，那么你不应该使用 .ready() 函数。

# machine-learning - 使用文本分类的垃圾邮件过滤

> ID：12470471
> 
> 赞同：0
> 
> 时间：2012-09-18T04:40:36.527
> 
> 标签：machine-learning, email-spam, spam-prevention

我正在尝试使用文本分类构建垃圾邮件过滤应用程序。我应该从哪里开始学习算法？我应该首先实现哪个算法？任何人都可以推荐任何好的材料吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:40:48.270

最容易开始的是朴素贝叶斯。

[http://nlp.stanford.edu/IR-book/html/htmledition/naive-bayes-text-classification-1.html](http://nlp.stanford.edu/IR-book/html/htmledition/naive-bayes-text-classification-1.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T09:56:47.713

我发现[这篇文章](http://ats.cs.ut.ee/u/kt/hw/spam/spam.pdf)[PDF] 很好地概述了可用的机器学习技术及其垃圾邮件过滤的性能。

[在这里](http://www.esp.uem.es/jmgomez/spam/index.html)您可以找到有关该主题的更多信息以及培训数据！

不得不说，网上资料很多，简单的谷歌搜索“垃圾邮件过滤机器学习技术”就足够了。

# jakarta-ee - 如何在玻璃鱼服务器中部署 Web 应用程序

> ID：12470472
> 
> 赞同：2
> 
> 时间：2012-09-18T04:40:36.337
> 
> 标签：jakarta-ee, web-applications, glassfish

我已将 glassfish 服务器作为 windows 服务启动，谁能描述我如何在 glassfish 服务器中部署应用程序

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T04:44:48.697

几种方式。

您可以连接您的 IDE（其中一些支持 Glassfish）。

您可以使用管理员身份：

```
asadmin deploy youapp.war 
```

您可以使用 Glassfish 网络控制台：

```
http://localhost:4848/ login/pw are likely admin/adminadmin 
```

您可以将 WAR 文件复制到 glassfish_instal_dir/domain1/autodeploy 目录。

我认为这涵盖了主要的实现方式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:05:11.323

有几种方法可以在 glassfish 服务器中部署 web 应用程序，

在以下[链接](http://www.bullraider.com/java/ejb3/tutorials/39-how-to-deploy-in-glasshfish3)中，将为您提供在 glassfish 服务器中部署 web 服务的方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T04:43:21.653

Glassfish 是一个 servlet 容器，因此它的工作方式与几乎所有其他 servlet 容器一样。只需将一个有效的可部署文件（通常是一个`.war`文件）放到正确的位置，剩下的就自己处理了。

您可以在此处找到更具体的详细信息（以及一些替代部署选项）： [https ://blogs.oracle.com/chengfang/entry/seriously_deploying_apps_to_glassfish](https://blogs.oracle.com/chengfang/entry/seriously_deploying_apps_to_glassfish)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T04:45:42.823

在 Glassfish中[安装、配置和部署应用程序。](https://tazlambert.wordpress.com/2008/07/19/install-configure-and-deploy-war-application-in-glassfish/).这里部署简单的Hello world[应用程序](http://docs.oracle.com/cd/E19879-01/821-0186/geyvr/index.html)。

# javascript - 谷歌地图：限制

> ID：12470477
> 
> 赞同：0
> 
> 时间：2012-09-18T04:41:05.620
> 
> 标签：javascript, google-maps-api-3

是否可以将自动完成搜索结果限制在一个国家内的某些省（州）？例如，我试图将我的结果限制在约翰内斯堡 (ZA) 的范围内。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T15:17:20.677

在另一个stackoverflow线程上有非常详细的回答您的问题：

[如何将 Google Maps Places Library 的自动填充功能限制为仅推荐一个城市的地点？](https://stackoverflow.com/questions/10637183/how-can-i-restrict-the-google-maps-places-librarys-autocomplete-to-suggestions)

目前，您只能使用两个字母的国家/地区代码进行过滤，或者通过使用边界来解决此问题。

有一个功能请求来扩展它： [http ://code.google.com/p/gmaps-api-issues/issues/detail?id=4433](http://code.google.com/p/gmaps-api-issues/issues/detail?id=4433)

如果您想收到更新，请加注星标。

# python - 在python中，有没有办法让线程在不再引用它们时死亡？

> ID：12470479
> 
> 赞同：5
> 
> 时间：2012-09-18T04:41:16.150
> 
> 标签：python, multithreading

有时我想要一个由它在创建时产生的工作线程不断更新的类。基本上是这样的：

```
class MyWidget:
    def __init__(self):
        self.blah = None
        self.thread = MyThread(self)
        self.thread.start()

    def update(self, blah):
        self.blah = blah

class MyThread(threading.Thread):
    def __init__(self, widget):
        self.widget = widget

    def run(self):
        while True:
            time.sleep(1)
            blah = poll()
            self.widget.update(blah) 
```

我想要一种安全的方法来设计它，这样我就可以确定线程在`MyWidget`不再需要时会死掉。上面代码的问题是它`MyWidget`永远不会死，因为它被`MyThread`. 我可以通过将`MyThread`a提供`weakref.ref`给 the`MyWidget`并在引用死亡时打破循环来解决这个问题，但我犯了过去不这样做的错误。

我真正想要的是与其他所有东西一起收集垃圾的线程。IE。当它的参考图和主线程的参考图不相交时被杀死的线程。有可能写出这样的野兽吗？它们已经存在了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:59:31.860

如果修改`MyThread`为提供`stop`方法：

```
class MyThread(threading.Thread):
    def __init__(self, widget):
        self.widget = widget
        self.is_running = False
        super(MyThread, self).__init__()

    def run(self):
        self.is_running = True
        while self.is_running:
            time.sleep(1)
            blah = poll()
            self.widget.update(blah)

    def stop(self):
        self.is_running = False 
```

如果在`MyWidget`不再需要您的实例时可以调用`widget.thread.stop()`，这将终止线程并允许所有内容都被 GC 处理。

# licensing - 我可以按 GPL 发布代码，但根据要求在 LGPL 下提供相同的代码吗？

> ID：12470480
> 
> 赞同：0
> 
> 时间：2012-09-18T04:41:28.247
> 
> 标签：licensing, gpl, lgpl, software-distribution

我见过一些许可证的例子，它们使用的条款是“根据 GPL 获得许可，但可以根据要求提供 LGPL”。作为软件的唯一所有者，这是一个可行的许可方案吗？

我主要是因为我想在 GPL 下发布软件，以鼓励人们做出贡献，并使这些贡献成为开源的。但是，在此过程中，我不会完全阻止任何人将代码用于有用的应用程序。我想如果我要求他们必须首先与我联系，大多数人会很懒惰并且 GPL 他们的软件（假设它是要发布的东西）。

我不确定这个许可证有多现实，因为这似乎也是第一次有人要求他们提供他们的 LGPL 代码，然后他们可以根据 LGPL 许可证重新分发这些代码，从而绕过与我联系的要求。

想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:13:21.313

首先，虽然您可能拥有您编写的代码的版权（因此可以根据您想要的任何许可发布它），但您不一定拥有其他贡献者作品的版权，除非他们专门将版权签署给当他们提交更改时。也就是说，如果你想鼓励其他人为你的项目做出贡献，你应该选择一个许可证并坚持下去。双重许可主要来自较大的组织，它们要么承担提交的版权，要么根本不接受外部贡献。

其次，用户在将代码用于特定目的之前必须与您联系的心态与 GPL 和 LGPL 的理念完全背道而驰。这些许可证的重点是，作者除了要求在重新分发二进制文件时提供源代码之外，对软件的使用方式*没有发言权。*

IMO，您可能应该尝试评估您在这里真正想要完成的工作。如果您希望鼓励人们为开源项目做出贡献，那么 GPL 并没有垄断鼓励贡献的权利。许多项目在 Apache、BSD、LGPL 和其他开源许可下都取得了成功。修改开源软件的个人和组织通常非常乐意贡献他们的更改——除了在大多数情况下这样做是体面的事情之外，维护单独的分支是一件令人头疼的事情。（GPL 中没有任何内容强制任何人将他们的贡献发回给你。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T00:04:35.477

您的软件许可证是 GPL 或 LGPL。当然，作为版权所有者/唯一作者，您可以提供不同的条款，但这通常是众所周知的，因此无论如何都不需要添加“可能”句子。

那句额外的句子只会让你看起来像，你是出于战术原因在 GPL 下获得许可。但是 GPL 不是战术性的，而是战略性的。按照设计，我们通过 GPL 强制执行我们的软件用户的权利。作为作者，我们付出了很多。

为什么你担心你的慷慨提议不会被你的软件用户所接受？

也许你的软件没用？好吧，为什么要关心？在 GPL 下发布你不会做错任何事。如果将来有某个用户在那里，她会知道究竟传递了哪些权限。此外，她可能会通过再次扩展软件并传递它来回馈。

因此，在跳入此类句子之前，最好先讨论 GPL 和/或 LGPL 是否适合您的软件类型。你还没有分享任何关于你的软件的细节，那么应该如何提供有用的反馈呢？

您还知道 GPL v3 系列以及为某些用户/项目添加例外的可能性吗？

# facebook - 脸书应用程序错误

> ID：12470484
> 
> 赞同：0
> 
> 时间：2012-09-18T04:42:14.750
> 
> 标签：facebook, facebook-graph-api

我的脸书应用程序是[http://apps.facebook.com/reelreview/](http://apps.facebook.com/reelreview/)，但是当我点击任何一张图片时，它显示为“moviereviewforyou 发生错误。请稍后再试。' . 这里的moviereviewforyou是我的旧脸书应用名称。我真的很困惑。我已将 facebook id 和 secrete id 更改为我的新应用名称

```
$facebook = new Facebook(array(
  'appId'  => '*******',
  'secret' => '******',
)); 
```

我无法找出其中的错误。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:55:40.580

我已经解决了，这是由于代码中存在旧的应用程序 ID。

谢谢

# php - 如何在 codeigniter 站点中添加多种语言

> ID：12470485
> 
> 赞同：1
> 
> 时间：2012-09-18T04:42:25.400
> 
> 标签：php, codeigniter, multilingual

我正在使用 codeigniter 开发一个站点，我想在该站点中包含多种语言。那是我的主页包含一个包含多种语言的下拉列表。通过选择每种语言，整个站点应更改为所选语言。在codeigniter中如何实现。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T04:45:02.730

[Codeigniter 语言类](http://codeigniter.com/user_guide/libraries/language.html)

> 语言类提供了检索语言文件和文本行以实现国际化的功能。
> 
> 在您的 CodeIgniter 系统文件夹中，您会找到一个名为 language 的包含语言文件集的语言。您可以根据需要创建自己的语言文件，以便以其他语言显示错误和其他消息。
> 
> 语言文件通常存储在您的系统/语言目录中。或者，您可以在应用程序文件夹中创建一个名为 language 的文件夹并将它们存储在那里。CodeIgniter 将首先在您的应用程序/语言目录中查找。如果该目录不存在或指定的语言不存在，CI 将改为在您的全局系统/语言文件夹中查找。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:41:30.103

请阅读[本教程](http://sumonbd.wordpress.com/2009/09/16/develop-multilingual-site-using-codeigniter-i18n-library/)。希望它会有所帮助。

# android-layout - 如何在 ICS 样式的 EditText 中更改线条的颜色

> ID：12470487
> 
> 赞同：4
> 
> 时间：2012-09-18T04:42:46.823
> 
> 标签：android-layout, actionbarsherlock, android-edittext, android-theme

我在我的应用程序中将 ABS 和主题全息一起使用，并且我得到了 EditText 样式，就像在 ICS 中一样。

但 EditText 的线条颜色默认为蓝色，对于我的设计，我需要 EditText 的白色线条。

我尝试更改背景，但它不起作用。

有什么办法可以让我以编程方式将颜色从蓝线更改为白色？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-05T10:57:13.640

我在这个[链接](https://stackoverflow.com/questions/8211929/styling-edittext-view-with-shape-drawable-to-look-similar-to-new-holographic-the)中找到了他们使用 LayerList的答案

我使用了一个图层列表来创建一个`ICS styled edittext`，因为它只在一个地方需要。

它工作得很好，并且没有发现不同屏幕分辨率的问题。它不会接受透明背景，但可以根据我的需要工作！

**完全定制：**

此外，这些是我们可以自定义 ICS 样式的其他链接。

**1\. [ActionBar Sherlock 风格生成器](http://jgilfelt.github.io/android-actionbarstylegenerator/#name=example&compat=holo&theme=light&actionbarstyle=solid&texture=0&hairline=0&backColor=E4E4E4,100&secondaryColor=D6D6D6,100&tabColor=33B5E5,100&tertiaryColor=F2F2F2,100&accentColor=33B5E5,100&cabBackColor=FFFFFF,100&cabHighlightColor=33B5E5,100)**

**2\. [Holo 样式生成器](http://android-holo-colors.com/)**

**3\. [Holo 主题自定义 UI 库](http://www.androidviews.net/)**

快乐编码..!! **:)**

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2014-03-17T07:39:52.577

尝试 **android:background="#00000000"** 这仅适用于白色（或简单地隐藏底线）

# html - 为什么是 块元素？

> ID：12470488
> 
> 赞同：19
> 
> 时间：2012-09-18T04:42:48.713
> 
> 标签：html, forms

元素 IMO的目的`<form>`是语义而不是表示 - 元素在那里定义一个区域，其中包含可以发送到服务器的元素。

那么，为什么浏览器（并且，我在规范中假设）会在用户代理样式表中指定 display:block 呢？当然，如果你想让表单成为一个块，你可以把它包装在一个 div 元素中？

通常，我只是将表单 { display: inline } 放入我的 css 以覆盖它。不过，我想知道是否有充分的理由将`<form>`显示默认设置为块，或者是否出于遗留原因而保持这种方式。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-18T04:49:18.877

我认为这是因为 a`<form>`将经常包含其他块级元素（用于结构的 div，或者尽管我对此感到畏缩，但表格可以帮助组织表单字段等）。并且有一个包含块元素的内联元素，虽然完全有可能，但在语义上是有问题的。

我完全同意你关于`<form>`不具表现力的观点，但同时考虑到标签的一般使用方式，这对我来说是一个块元素是有道理的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T04:50:36.893

[HTML 3.2](http://www.w3.org/TR/REC-html32#block)将`<FORM>`元素定义为块级元素。浏览器当前关于这个元素的行为肯定是为了向后兼容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T04:51:24.130

A`<form>`意味着语义和表象。它本质上是语义的，但也禁止将一个表单嵌入到另一个表单中，这意味着它是其所有内容（表单控件和其他块/内联内容）的明确容器。此外，内联节点不能包含块级节点，至少不是按照规范，`<form>`默认情况下会限制标签。

# php - 在主页上显示一个父页面的子页面（Wordpress）

> ID：12470489
> 
> 赞同：0
> 
> 时间：2012-09-18T04:43:08.817
> 
> 标签：php, wordpress

所以我有一个循环在我的主页上显示所有页面（不是帖子）。我想修改循环，使其只显示单个父页面的子页面（页面ID号为116，仅供参考）。我应该如何修改下面的代码来做到这一点？

```
<?php query_posts('post_type=page&posts_per_page=-1'); ?>
<?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?>

    <a href="<?php the_permalink() ?>"
    rel="bookmark"  title="Permanent Link to <?php the_title_attribute(); ?>">
    <div>  

        <?php echo get_the_post_thumbnail($page->ID, 'thumbnail'); ?>

            <div ><?php the_title(); ?>
        </div>  <!-- headlines-title -->

    </div></a>

<?php  endwhile; endif; ?> 
```

还想补充一点，显示孙子也可以...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T05:01:43.527

试试这个

```
<?php query_posts('static=true&child_limit=10&child_of='.$id.'&order=ASC'); ?>
<?php if(have_posts()) : while (have_posts()) : the_post(); ?>
<a href="<?php the_permalink();?>"><?php the_title();?>:</a><?php the_excerpt(); ? >
<?php endwhile; endif; ?> 
```

$id 是你的页面 id

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:38:35.930

改变路线并以这种方式得到我想要的结果：

```
<?php
$pages = get_pages('child_of=129&sort_column=post_date&sort_order=desc');
$count = 0;
foreach($pages as $page)
{
$content = $page->post_content;
?>

<a href="<?php echo get_page_link($page->ID) ?>" >
    <div >  

        <?php echo get_the_post_thumbnail($page->ID, 'thumbnail'); ?>

    <div><?php echo $page->post_title ?>
        </div>
    </div></a>

<?php } ?> 
```

# javascript - 如何修复javascript弹出“窗口弹出已在DOM中注册！”？

> ID：12470490
> 
> 赞同：0
> 
> 时间：2012-09-18T04:43:12.873
> 
> 标签：javascript, dom, prototype

我的窗口弹出窗口总是说：“窗口弹出窗口已在 DOM 中注册！确保在构造函数中使用 setDestroyOnClose() 或 destroyOnClose: true”

我已经阅读了其他论坛，但我还没有找到解决我的问题的方法。

```
 <script>   
     var win1 = null;
                function openPopupProduct(width,height,image1, image2, image3,image4, header) {
                    if(win1==null){
                        win1 = new Window('popup', {className: "alphacube", maximizable:false, minimizable:false, showEffectOptions: {duration:0.2}, hideEffectOptions: {duration:0.2} } ); 
                        }
                        width = width+150;
                        height = height+150;
                        newHTML = '<div class="noborder_preview" style="width:'+  width +'px;height:'+ height +'px">';
                        newHTML = newHTML + '<div class="preview_temp_load">';
                        newHTML = newHTML + header + '<br />';
                        newHTML = newHTML + '<img src="' + image1 + '" border="0">';

                        if(image2 != '') {
                            newHTML = newHTML + '&nbsp;<img src="' + image2 + '" border="0">';
                        }

                        if(image3 != '') {
                            newHTML = newHTML + '&nbsp;<img src="' + image3 + '" border="0">';
                        }

                        if(image4 != '') {
                            newHTML = newHTML + '&nbsp;<img src="' + image4 + '" border="0">';
                        }

                        newHTML = newHTML + '<\/div>';
                        newHTML = newHTML + '<\/div>';
                        win1.getContent().update(newHTML);
                        win1.setSize(width,height);
                        win1.showCenter();
                }
    </script> 
```

我希望有人能在这方面帮助我。

提前谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T12:25:50.933

我也遇到了这个问题，所以我用 safari 浏览器而不是 Internet Explorer 打开 Internet，它打开网页很好，所以只是尝试用 Internet Explorer 之外的其他浏览器打开！您可能必须自己安装它是唯一的事情，希望这对您有帮助:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-08-10T23:39:12.043

命令**new Window**，在我的例子中运行下面的代码

所以不要在 JQuery 中使用这个命令，它总是会出错

参考：[JQuery 和原型](https://learn.jquery.com/using-jquery-core/avoid-conflicts-other-libraries/)

```
id = "window_" + new Date().getTime();
if ($(id))
        alert("Window " + id + " is already registered in the DOM! Make sure you use setDestroyOnClose() or destroyOnClose: true in the constructor"); 
```

# java - 正则表达式从java中的字符串中删除空格，逗号，空格？

> ID：12470496
> 
> 赞同：1
> 
> 时间：2012-09-18T04:43:36.023
> 
> 标签：java, regex

我有一个字符串 s "hello,sa n.txt"

但我想要字符串 s="hellosan.txt" 没有逗号，没有空格，没有分号，应该在那里我如何在 java 中使用正则表达式来做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T04:46:10.947

```
String input = "hello,sa n.txt";
String clean = input.replaceAll("[, ;]", ""); // replace any of ", ;" with "nothing" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T04:48:42.877

试试这个来替换字符串中的所有逗号、分号和空格：

```
replaceAll("[,;\\s]", ""); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T04:50:38.007

```
 System.out.println("hello,sa n.txt".replaceAll("[, ;]", "")); 
```

# c# - 如何读取 .pfx 文件？

> ID：12470498
> 
> 赞同：0
> 
> 时间：2012-09-18T04:43:38.277
> 
> 标签：c#, asp.net, pdf, itextsharp, digital-signature

我正在使用 ASP.NET、C# 和 iTextSharp 5.3.0 来创建和数字签名 PDF。然后我需要在签名时使用 pfx 文件。有人可以解释它将包含什么吗？

**编辑：**

谢谢，所以它有密钥对。

我确实使用了这段代码。

```
FileStream fs = new FileStream(CERT_PATH, FileMode.Open);
Pkcs12Store ks = new Pkcs12Store(fs, CERT_PASSW.ToCharArray());
string alias = null;
foreach (string al in ks.Aliases) 
{
if (ks.IsKeyEntry(al) && ks.GetKey(al).Key.IsPrivate) 
  {
    alias = al;
    break;
  }
}
  Certificate[] x = ks.getCertificateChain(alias)
  X509Certificate[] chain=new X509Certificate[x.length]
  for(int k=0;k<x.length;k++)
  {
      chain[k]=x[k].Certificate;
  } 
```

谢谢，现在工作正常。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:59:11.727

请阅读 iText 和数字签名的白皮书：http: [//itextpdf.com/book/digitalsignatures](http://itextpdf.com/book/digitalsignatures)

PFX 文件是一种旧类型的文件，其中包含私钥和公钥对。您可以像使用 P12 文件一样使用它。这在文档中进行了解释。请注意，Stackoverflow 上的旧答案不再适用。数字签名功能已完全重写。

如果您不知道如何在 C# 中创建 KeyStore：

```
FileStream fs = new FileStream(CERT_PATH, FileMode.Open);
Pkcs12Store ks = new Pkcs12Store(fs, CERT_PASSW.ToCharArray());
string alias = null;
foreach (string al in ks.Aliases) {
    if (ks.IsKeyEntry(al) && ks.GetKey(al).Key.IsPrivate) {
        alias = al;
        break;
    }
} 
```

# logging - grep -f 使用 -i 选项

> ID：12470500
> 
> 赞同：1
> 
> 时间：2012-09-18T04:43:46.593
> 
> 标签：logging, sed, awk, grep, qmail

我想将 grep 与 -f、-i 和 -v 选项一起使用。我有一个包含以下内容的模式文件：

vchkpw-pop3 vchkpw-
提交
user_unknown
unknown_user
address_rejected
no_such_user
does_not_exist
invalid_recipient
mailbox_unavailable
user_not_found
no_mailbox_here

当我处理我的 qmail 邮件日志文件时，我想排除上述所有条款。

使用 Grep 2.5.1，它似乎不适用于从第 3 个位置开始的任何模式。

我正在使用一行 bash 代码来解析我的邮件日志文件。请参阅下面的行：

```
cat /var/log/maillog | tai64n2tai | awk '{$1="";$2="";$3="";$4="";$5="";print}'
| grep -v vchkpw-pop3 | grep -v vchkpw-submission | awk '{sub(/^[ \t]+/,"")};1'
| qlogselect start $STARTDAY end $ENDDAY | matchup > $QMAILSTATS 5>/dev/null 
```

而不是在管道中使用多个 grep -v "sometext" ，我想在它们的位置使用 grep -vif patterns.txt 。

但是，我的问题是，在我的 grep 版本中，如果模式中包含下划线 (_)，则不允许我同时使用 f 和 i 选项。如果我删除下划线，那么模式会按预期匹配。

这是我在解析邮件日志时要省略的示例行：

```
Sep 20 15:46:50 m qmail: 1348123610.323831 delivery 11150428: failure: 204.119.19.51_does_not_like_recipient./Remote_host_said:_550_5.1.1_User_unknown/Giving_up_on_204.119.19.51./ 
```

由于错误消息取决于我正在联系的邮件服务器，因此模式 user_unknown 有时有大写字母，有时没有。

有人有更好的解决方案吗？

我喜欢不必每次都编辑一行 bash 命令，而只需从文件中添加/删除模式的想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T14:11:27.060

这是使用 的一种方法`GNU awk`，假设您将模式保存在名为`patterns.txt`. 这是的内容`script.awk`：

```
BEGIN {
    IGNORECASE=1
}

FNR==NR {
    patterns[$0]++
    counter++
    next
}

{
    $1=$2=$3=$4=$5=""
    sub(/^[ \t]+/,"")

    for (i in patterns) {
        if ($0 !~ i) {
            count++
        }
    }

    if (counter == count \
        && !/^$/) {
            print
    }

    count = 0
} 
```

像这样运行：

```
< /var/log/maillog | tai64n2tai | awk -f script.awk patterns.txt - | qlogselect start $STARTDAY end $ENDDAY | matchup > $QMAILSTATS 5>/dev/null 
```

或者，如果您不想使用脚本，您会发现这一行很有用：

```
< /var/log/maillog | tai64n2tai | awk 'BEGIN { IGNORECASE=1 } FNR==NR { patterns[$0]++; counter++; next } { $1=$2=$3=$4=$5=""; sub(/^[ \t]+/,""); for (i in patterns) { if ($0 !~ i) { count++ } } if (counter == count && !/^$/) { print } count = 0 }' patterns.txt - | qlogselect start $STARTDAY end $ENDDAY | matchup > $QMAILSTATS 5>/dev/null 
```

# android - 单击列表视图时如何显示警报对话框

> ID：12470507
> 
> 赞同：-1
> 
> 时间：2012-09-18T04:44:31.507
> 
> 标签：android, listview, android-alertdialog

当我点击我的活动的列表视图时，我想显示 alertdialog，我有一个显示 alertdialog 的代码，但我知道我的代码有问题，我不知道如何修复它，警报没有显示我想要，但在 DDMS 中得到我想要的结果。这是我的代码：

```
@Override
protected void onListItemClick(ListView l, View v, int position, long id) {

new bike_type_dao(responsetype).view_bike_type();

final Entity_Brand brand = adapterBrand.getItem(position);

LayoutInflater li = (LayoutInflater) this
        .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
View view = li.inflate(R.layout.listview_activity, null, false);
AlertDialog.Builder builder = new AlertDialog.Builder(this);
builder.setTitle(brand.getBrand_name());
builder.setView(view);

ListView listtype = (ListView) view.findViewById(R.id.list_sepeda);
listtype.setOnClickListener((OnClickListener) this);
listtype.setAdapter(new ArrayAdapter<Entity_Bike_Type>(this,
        android.R.layout.simple_list_item_1, arrayList));
listtype.setOnItemClickListener((OnItemClickListener) this);

builder.create().show();

} 
```

谢谢。

那是我的原木猫：

> 09-18 11:52:07.819: E/HttpResponse(25866): {"result":1,"data":[{"0":"1","id_brand":"1","1":" Polygon","brand_name":"Polygon"},{"0":"2","id_brand":"2","1":"United Bike","brand_name":"United Bike"},{" 0":"3","id_brand":"3","1":"WimCycle","brand_name":"WimCycle"}]} 09-18 11:52:09.669: D/AndroidRuntime(25866): 关闭关闭 VM 09-18 11:52:09.669: W/dalvikvm(25866): threadid=1: 线程退出未捕获异常 (group=0x40018578) 09-18 11:52:09.679: E/AndroidRuntime(25866): FATAL EXCEPTION : 主要 09-18 11:52:09.679: E/AndroidRuntime(25866): java.lang.ClassCastException: com.wilis。hellotabwidget.Tab_Brand_ListView_Activity 09-18 11:52:09.679: E/AndroidRuntime(25866): at com.wilis.hellotabwidget.Tab_Brand_ListView_Activity.onListItemClick(Tab_Brand_ListView_Activity.java:158) 09-18 11:52:09.679: E/AndroidRuntime(25866) ): 在 android.app.ListActivity$2.onItemClick(ListActivity.java:319) 09-18 11:52:09.679: E/AndroidRuntime(25866): 在 android.widget.AdapterView.performItemClick(AdapterView.java:284) 09 -18 11:52:09.679: E/AndroidRuntime(25866): 在 android.widget.ListView.performItemClick(ListView.java:3755) 09-18 11:52:09.679: E/AndroidRuntime(25866): 在 android.widget .AbsListView$PerformClick.run(AbsListView.java:1964) 09-18 11:52:09.679: E/AndroidRuntime(25866): 在 android.os.Handler.handleCallback(Handler.java:587) 09-18 11:52 :09.679: E/AndroidRuntime(25866): 在 android.os.Handler。dispatchMessage(Handler.java:92) 09-18 11:52:09.679: E/AndroidRuntime(25866): at android.os.Looper.loop(Looper.java:130) 09-18 11:52:09.679: E/ AndroidRuntime(25866): 在 android.app.ActivityThread.main(ActivityThread.java:3687) 09-18 11:52:09.679: E/AndroidRuntime(25866): 在 java.lang.reflect.Method.invokeNative(Native Method) 09-18 11:52:09.679: E/AndroidRuntime(25866): 在 java.lang.reflect.Method.invoke(Method.java:507) 09-18 11:52:09.679: E/AndroidRuntime(25866): 在com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867) 09-18 11:52:09.679: E/AndroidRuntime(25866): at com.android.internal.os.ZygoteInit.main(ZygoteInit .java:625) 09-18 11:52:09.679: E/AndroidRuntime(25866): at dalvik.system.NativeStart.main(Native Method) 09-18 11:52:09.809: E/HttpResponse(25866): { “结果”：1，"data":[{"0":"1","id_type":"1","1":"Cross Country (XC)","type_name":"Cross Country (XC)"},{"0 ":"2","id_type":"2","1":"BMX","type_name":"BMX"},{"0":"3","id_type":"3","1 ":"搭便车 (FR)","type_name":"搭便车 (FR)"},{"0":"4","id_type":"4","1":"DownHill (DH)" ,"type_name":"DownHill (DH)"},{"0":"5","id_type":"5","1":"DirtJump (DJ)","type_name":"DirtJump (DJ) "},{"0":"6","id_type":"6","1":"公路自行车","type_name":"公路自行车"}]}

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T05:16:56.870

这可能会帮助你

```
 listview.setOnItemClickListener(new OnItemClickListener(){

        @Override
        public void onItemClick(AdapterView<?> parent, View view,
                int position, long rowId) {

            AlertDialog.Builder adb = new AlertDialog.Builder(
                    MainActivity.this);
                    adb.setTitle("List");
                    adb.setMessage(" selected Item is="
                    +parent.getItemAtPosition(position));
                    adb.setPositiveButton("Ok", null);
                    adb.show();    

        }

    }); 
```

在这里用你的类名更改 MainActivity.this

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-05-21T04:04:53.580

这是来自[Android 开发人员](http://developer.android.com/guide/topics/ui/dialogs.htm)：
首先我创建了这个类，

```
@SuppressLint("NewApi") 
public class ChangeLanguageDialog extends DialogFragment{

    public Dialog onCreateDialog(Bundle savedInstanceState) {
        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());
        builder.setMessage(R.string.app_name)
               .setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {
                   public void onClick(DialogInterface dialog, int id) {
                   }
               })
               .setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {
                   public void onClick(DialogInterface dialog, int id) {
                   }
               });
        return builder.create();
    }

} 
```

然后把它放在你想调用对话框的地方

```
ChangeLanguageDialog dialog = new ChangeLanguageDialog();
FragmentManager fm = getFragmentManager();
dialog.show(fm, "language"); 
```

# list - Haskell：调用其他函数+递归

> ID：12470509
> 
> 赞同：2
> 
> 时间：2012-09-18T04:44:45.913
> 
> 标签：list, function, haskell, recursion

我无法启动它，例如，我不确定这个函数到底发生了什么。它应该做的是接受两个参数，一个字符和一个字符串，然后输出一个由该字符分隔的字符串列表。

例如，

```
break ',' "abc,def,ghi" 
```

应该输出 ["abc","def","ghi"]

我得到了代码，我应该填写“？”

```
break ? [] = ?
break n xs = brk n xs ?
 where
 brk n xs acc
  | xs == [] = ?
  | n == ? xs = ? ++ break n (? xs)
  | ? = brk n (? xs) (acc ++ ?) 
```

我不确定如何解决这个问题或 acc 如何帮助解决这个问题。我唯一的想法是第一行应该是

```
break _ [] = [] 
```

如果有人可以帮助我开始解决这个问题，那就太好了！谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T05:10:53.247

`acc`是“累加器”的缩写——你在递归时用它来累加你的结果。查看类型`break`和`brk`一些线索：

```
break :: (Eq a) => a -> [a] -> [[a]]
brk   :: (Eq a) => a -> [a] -> [[a]] -> [[a]] 
```

或者更具体地说：

```
break :: Char -> String -> [String]
brk   :: Char -> String -> [String] -> [String] 
```

这里有一些问题可以帮助您弄清楚如何实施`brk`：

*   最初的结果集应该是什么？

*   拆分空列表时应该得到什么？

*   当拆分字符出现在字符串的开头时，您应该怎么做？

*   否则你应该怎么做？

# spring - @Scope（“请求”）不起作用

> ID：12470512
> 
> 赞同：3
> 
> 时间：2012-09-18T04:44:46.160
> 
> 标签：spring, jsf-2, scope, request

我正在试验 JSF 和 Primefaces（JSF 2.0.2，PrimeFaces 3.0.5，Spring 3.0.0）。看来我无法从 xhtml 页面访问托管 bean，例如

```
<h:inputText  id="lastName" value="#{personalBean.personal_Basic.firstName}"  label="Last Name"  required="true" /> 
```

请求从命令链接对 bean 方法、服务的调用开始，并返回页面。我可以在服务器控制台 Bean 中看到，服务方法被执行。当我尝试使用上述 bean 属性时，我什么也没看到。但是，我能够访问用于用户会话管理的会话范围 bean。

对不起，如果这个问题太天真了。非常感谢任何解决问题的意见。

下面是我的代码片段。这就是我所说的bean：

```
<h:form>
    <p:commandLink id="ajax" actionListener="#{personalBean.getPersonalInfo}" style="margin-left:5px;">  
        <h:outputText value="Personal Info" />  <br/>
    </p:commandLink>  
</h:form> 
```

下面是请求范围的托管 bean。

```
package com.test.model;
@ManagedBean
@Scope("request")
public class PersonalBean  implements Serializable {

private static final long serialVersionUID = 199L;
private Personal_Basic personal_Basic;
private IPersonalService personalService;

@Inject
public PersonalBean(final IPersonalService personalService) {
    this.personalService = personalService;
}
public String getPersonalInfo() {
    System.out.println("\n\nPersonalBean#getPersonalInfo called...**");
    User user = null;
    Personal_Basic personal_Basic = personalService.getPersonalBasic();
    this.setPersonal_Basic(personal_Basic);
    System.out.println("personal_Basic data:"+personal_Basic);
    System.out.println("PersonalBean#getPersonalInfo ended...");
    return "/page/personal.html";
}
// Getters/setters for class members followed
} 
```

PersonalService 实现使用@Service 进行注释。

下面是 spring 配置 xml 的摘录。

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:aop="http://www.springframework.org/schema/aop"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="
       http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
       http://www.springframework.org/schema/tx
       http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
       http://www.springframework.org/schema/aop
       http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context-3.0.xsd">
    <context:annotation-config/> 
    <context:component-scan base-package="com.test"/>
...................
...................
</beans> 
```

以下是 faces-config.xml 的摘录

```
<?xml version="1.0"?>
<faces-config xmlns="http://java.sun.com/xml/ns/javaee"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://java.sun.com/xml/ns/javaee     http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
              version="2.0">
  <application>
    <el-resolver>org.springframework.web.jsf.el.SpringBeanFacesELResolver</el-resolver>
        <resource-bundle>
            <base-name>Messages</base-name>
            <var>msg</var>
        </resource-bundle>
        <locale-config>
            <default-locale>en</default-locale>
        </locale-config>
  </application>
...........................
</faces-config> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T14:40:05.387

默认情况下，该`<context:component-scan base-package="com.test"/>`元素扫描并注册使用@Component、@Repository、@Service 或@Controller 注释的所有bean。

Spring 还提供对`javax.annotation.ManagedBean`(not `javax.faces.bean.ManagedBean`) 和 JSR-330 标准注解的支持，Spring 也会扫描这些注解，但您需要将以下依赖项添加到您的项目中。

```
<dependency>
    <groupId>javax.inject</groupId>
    <artifactId>javax.inject</artifactId>
    <version>1</version>
</dependency> 
```

[您可以在此处](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/htmlsingle/spring-framework-reference.html#beans-standard-annotations)查看 Spring 注释的所有等效注释，因为您可以看到 @Component 的等效项是 @Named 并且对于范围使用 Springs @Scope 注释而不是`javax.inject.scope`如上所述。因此，如果您希望**Spring 管理**应用程序中的所有 bean，您可以使用`@Component`,`@Named`和`javax.annotation.ManagedBean`注解并使用 @Autowired 或 @Inject 注入它们。

对于您的问题，为什么注释的 bean`javax.faces.bean.ManagedBean`似乎已初始化但不起作用是因为正如 @BalusC 所述，JSF 不支持 @Inject 您必须使用 @ManagedProperty 注释。

关于如何与 Spring 和 JSF 一起工作的一些背景知识：

实际上，当应用程序启动时，您的应用程序中现在有两个带有 JSF 和 Spring 的 IOC 容器。首先，在 faces-config.xml 中配置的 org.springframework.web.jsf.el.SpringBeanFacesELResolver 委托给 Spring 根 WebApplicationContext，首先解析对 Spring 定义的 beans 的名称引用，然后是底层 JSF 实现的默认解析器。

现在，当第一次查找 JSF bean 时，它会被构造，然后通过 setter 方法设置托管属性，因此您可以使用 @ManagedProperty 注释注入 Spring bean，如下所示：

```
package com.test.model;
@ManagedBean
@RequestScoped
public class PersonalBean  implements Serializable {
@ManagedProperty(value="#{personalService}")
private IPersonalService personalService;
public IPersonalService getPersonalService() {
    return personalService;
}

public void setPersonalService(IPersonalService personalService) {
    this.personalService= personalService;
} 
```

或者您也可以使用手动获取 Spring bean

`org.springframework.web.context.support.WebApplicationContextUtils`像这样：

```
private Object getSpringBean(String name){
        WebApplicationContext ctx = WebApplicationContextUtils.getRequiredWebApplicationContext(
                (ServletContext) FacesContext.getCurrentInstance().getExternalContext().getContext());
        return ctx.getBean(name);
} 
```

并像这样使用它：

```
Personal_Basic personal_Basic = ((IPersonalService) getSpringBean("personalService")).getPersonalBasic(); 
```

但是，您可以使用 Spring 容器通过使用 @Component 注释 JSF bean 来管理所有 bean，而不是在您的应用程序中使用两个容器，并且没有任何含义，我知道并且应该完全可以使用 Spring 注释。

也可以看看：

*   [<context:annotation-config> 与 <context:component-scan> 之间的区别](https://stackoverflow.com/questions/7414794/difference-between-contextannotation-config-vs-contextcomponent-scan)
*   [JSR-330 对组件检测的支持不一致](https://jira.springsource.org/browse/SPR-6465)
*   [Spring 文档 - JSF 集成](http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/web-integration.html)
*   [使用 Spring 管理 JSF bean](http://cagataycivici.wordpress.com/2007/09/10/using-spring-to-manage-jsf-beans/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-02-04T13:34:40.383

您不能将@ManagedBean 与弹簧范围混合，您必须在@ManagedBean 和@RequestScope 或@Componenet 和@Scope("session") 之间进行选择

# c# - GridView 不能正确划分组

> ID：12470517
> 
> 赞同：1
> 
> 时间：2012-09-18T04:45:28.447
> 
> 标签：c#, xaml, windows-8, winrt-xaml

我有一个显示分组数据的网格视图。我得到具有此特征的数据显示：每个组接收相同数量的水平空间，由最大的组确定。

为了澄清，我最大的数据组显示了一个 3 行 x 4 列项目的数组。每列是 300 个像素，为组分配 1200 个像素。其他组只有一项。但该组的宽度不是 300 像素，而是系统分配 1200 像素。包含项目的 300 像素，以及 900 像素的空白空间。

任何解释为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-19T13:06:42.507

I had the same problem with grouping. I added a StackPanel with horizontal orientation as ItemsPanel.

```
<GridView.ItemsPanel>
    <ItemsPanelTemplate>
        <StackPanel Orientation="Horizontal" />
    </ItemsPanelTemplate>
</GridView.ItemsPanel> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:56:54.450

您使用的是 dataTemplateSelector 吗？因为我在使用 dataTemplateSelector 时遇到了同样的问题。我所做的是使用 VariableSizedWrapGrid，它允许您在网格中拥有不同的项目大小。它适用于 GroupedList。您可以点击那些解释一切的链接：

[http://blogs.u2u.be/diederik/post/2012/03/07/Databinding-to-the-VariableSizedWrapGrid-in-Windows-8-Metro.aspx](http://blogs.u2u.be/diederik/post/2012/03/07/Databinding-to-the-VariableSizedWrapGrid-in-Windows-8-Metro.aspx)

这是一个示例：[https ://skydrive.live.com/?cid=3a5ca8204ec61147&id=3A5CA8204EC61147!35841](https://skydrive.live.com/?cid=3a5ca8204ec61147&id=3A5CA8204EC61147!35841)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-09T14:53:16.540

我有同样的问题：

第一个组的宽度决定了所有其他组的宽度。

```
<GridView
                x:Name="resultsGridView"
                AutomationProperties.AutomationId="ResultsGridView"
                AutomationProperties.Name="Search Results"
                TabIndex="1"
                Grid.Row="1"
                Margin="0,-238,0,0"
                Padding="110,240,110,46"
                SelectionMode="None"
                IsSwipeEnabled="false"
                ItemClick="resultsGridView_ItemClick_1"
                IsItemClickEnabled="True"
                ItemsSource="{Binding Source={StaticResource resultsViewSource}}"
                ItemTemplate="{StaticResource StandardSmallIcon300x70ItemTemplate}">

                <GridView.ItemContainerStyle>
                    <Style TargetType="Control">
                        <Setter Property="Height" Value="150"/>
                        <Setter Property="Margin" Value="0,0,38,8"/>
                   </Style>
                </GridView.ItemContainerStyle>

                <GridView.GroupStyle>
                    <GroupStyle>
                        <GroupStyle.HeaderTemplate>
                            <DataTemplate>
                                <Grid Margin="1,0,0,6">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <!--<Button
                                AutomationProperties.Name="Group Title"                                    
                                Style="{StaticResource TextPrimaryButtonStyle}" >-->
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="{Binding Title}" Margin="3,-7,10,10" Style="{StaticResource GroupHeaderTextStyle}" />
                                        <!--<TextBlock Text="{StaticResource ChevronGlyph}" FontFamily="Segoe UI Symbol" Margin="0,-7,0,10" Style="{StaticResource GroupHeaderTextStyle}"/>-->
                                    </StackPanel>
                                    <!--</Button>Click="Header_Click"-->
                                </Grid>
                            </DataTemplate>
                        </GroupStyle.HeaderTemplate>
                        <GroupStyle.Panel>
                            <ItemsPanelTemplate>
                                <VariableSizedWrapGrid Orientation="Vertical" Margin="0,0,80,0"/>
                            </ItemsPanelTemplate>
                        </GroupStyle.Panel>
                    </GroupStyle>
                </GridView.GroupStyle>
            </GridView> 
```

# doctrine-orm - 如何配置 Doctrine 来读取命名空间注解？

> ID：12470528
> 
> 赞同：2
> 
> 时间：2012-09-18T04:47:05.757
> 
> 标签：doctrine-orm

```
<?php
use Doctrine\ORM\Mapping as ORM;
/**
 * @ORM\Table(name="games")
 * @ORM\Entity
 */
class Games
{
    /**
     * @ORM\Column(name="id", type="bigint", nullable=false)
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="IDENTITY")
     */
    private $id;

    .......
} 
```

我收到此致命错误：消息：“类游戏不是有效实体或映射的超类。”

但是如果我删除@ORM，那么它就可以工作。我如何配置它与命名空间 ORM 一起使用。

这是我的学说配置：[https](https://gist.github.com/a14bb5eb08073fa74857) ://gist.github.com/a14bb5eb08073fa74857 ，我使用学说 2.2

# php - 使用 PHP Simple HTML DOM Parser 时遇到错误

> ID：12470529
> 
> 赞同：2
> 
> 时间：2012-09-18T04:47:21.743
> 
> 标签：php, parsing

我正在使用 PHP Simple HTML DOM Parser 来获取 url，但在获取链接时出现错误。看看这个脚本：

```
$result = str_get_html($result);
foreach($result->find('a') as $element)
$result = str_get_html($result);
$result = str_replace('http://', '', $result);
foreach($result->find('a') as $elementa)
echo $element->href;
echo $elementa->href; 
```

在这里，我想获取所有链接两次，第一次 url`$element->href`将获取以开头的链接，`http://`并且 in`$elementa->href`将获取没有`http://`.

但这仅显示一个空白页。任何的想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:15:44.333

```
$result = str_get_html($result);
$arrWithPrefix = array();
$arrWithoutPrefix = array();
foreach ($result->find('a') as $link) {
    $arrWithPrefix[] = $link->href;
    $arrWithoutPrefix[] = str_replace('http://', '', $link->href);
}
var_dump($arrWithPrefix);
var_dump($arrWithoutPrefix); 
```

没测试，看看好不好:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T12:06:30.120

您也可以使用此代码，它将 http:// 站点名称设置为链接，并将返回所有链接和一个链接

```
foreach ($html->find('a') as $e) {
   $cssHrefs = $e -> href;
   preg_match_all('~' . SITE_NAME . '~is', $cssHrefs, $match);
   if (count($match[0]) == 0) {
        $loadedHrefs[] = SITE_NAME . $cssHrefs;
   } else {
        $loadedHrefs[] = $cssHrefs;
}
var_dump($loadedHrefs); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T18:04:25.863

你也可以试试这个

```
$result = str_get_html($result);
foreach($result->find('a') as $element){
$result = str_get_html($result);
$result = str_replace('http://', '', $result);
}
foreach($result->find('a') as $elementa){
echo $element->href;
echo $elementa->href;
} 
```

# android - 比较从 NFC 标签读取的数据

> ID：12470530
> 
> 赞同：0
> 
> 时间：2012-09-18T04:47:40.193
> 
> 标签：android, nfc

嗨，我正在从 NFC 标签读取数据并尝试将其与字符串进行比较，但在比较字符串时 if 循环失败。我用于读取 NFC 数据并将其与字符串进行比较的代码为 as。谢谢你。

```
 Parcelable[] messages = intent.getParcelableArrayExtra(NfcAdapter.EXTRA_NDEF_MESSAGES);
                //NdefMessage message = ndef.getNdefMessage();
                if (messages != null) {
                    NdefMessage[] ndefMessages = new NdefMessage[messages.length];
                    for (int i = 0; i < messages.length; i++) {
                        ndefMessages[i] = (NdefMessage) messages[i];
                    }
                NdefRecord record = ndefMessages[0].getRecords()[0];

                byte[] payload = record.getPayload();
                String text = new String(payload);
                txtRead.setText(text);

                                if(text.equalsIgnoreCase("silent")){
                    Toast.makeText(getApplicationContext(), text, Toast.LENGTH_LONG).show();
                    AudioManager audiomanage = (AudioManager)getSystemService(Context.AUDIO_SERVICE);  
                    audiomanage.setRingerMode(AudioManager.RINGER_MODE_SILENT); 
                } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:27:46.397

如果问题仅与 if 条件有关，请尝试此代码

```
if(text.toLowerCase().contains("silent")){
...
...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:55:02.357

NDEF 文本记录在实际文本之前包含有关文本语言的信息，更重要的是，包含文本编码（使用的字符集）。您应该检查这些字节以了解实际文本是以 UTF-8 还是 UTF-16 编码的（并将其用于将字节转换为字符串）。

# mysql - 2 个 HTTP 请求同时检查记录是否存在，如果不存在则创建它 = 重复记录

> ID：12470538
> 
> 赞同：3
> 
> 时间：2012-09-18T04:48:57.633
> 
> 标签：mysql, ruby-on-rails, ruby

我有这个应用程序，在第一次启动时，它会在我的服务器后端调用 2 个不同的 API 端点（两者的目的都非常不同）。但是，这两种方法都有一个使用标头中传递的信息（设备标识符 + api 密钥）`before_filter`对调用进行身份验证的方法。`HTTP_AUTH`

如果它无法从我的设备表中找到具有提供的标识符的行，它会自动创建一个具有该标识符的新行。我的问题是，有时这两个调用似乎是同时进行的，以至于两个请求都找不到任何记录，因此它们都创建了一个新的设备行（结果是具有相同设备标识符的重复行）。

我的身份验证方法如下所示：

```
def current_user      
    authenticate_with_http_basic do |udid, secret|
        if secret == APP_SECRET
            @device = Device.find_by_udid(udid)

            if !@device
                @device = Device.new
                @device.udid = udid
                @device.created_on = DateTime.now.utc
            end

            // set a bunch of properties on @device
            @device.connected_at = DateTime.now.utc
            @device.save
        end
    end
end 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-18T04:53:52.953

这就是发明唯一索引的原因。放置一个唯一索引`udid`（以便每个 udid 只能存在一个设备），然后您的代码可能如下所示（伪代码）：

```
def process
  device = Device.find

  unless device
    device = Device.create
  end

  # do your work with the device

rescue ActiveRecord::RecordNotUnique
  retry # this is an actual ruby keyword. It means "run this begin..end block 
        # again". In this case, there's an implicit begin..end block, which is 
        # the method body.
end 
```

如果第二个工作人员尝试插入具有已存在 udid 的设备，它将收到错误并应再次尝试搜索。

# django - django 模板 URL 标签错误

> ID：12470539
> 
> 赞同：0
> 
> 时间：2012-09-18T04:49:04.770
> 
> 标签：django, templates, url, django-templates, templatetag

模板：

```
 <!-- Images slide as a row starts -->             
            <!-- power.views.IMAGE_SLIDES_ROW returns image_slider_row/   -->
                {% url power.views.IMAGE_SLIDES_ROW %}            
            <!-- Images as a row Ends --> 
```

网址配置：

```
url(r'^image_slider_row/', views.images_slider_row_func, name='image_slider_row'), 
```

看法 ：

```
def images_slider_row(request):     
    print "Debug-1"    
    return render_to_response('images_slider_row.html', {}) 
```

实际上我期待“images_slider_row_func”会在 url 标签执行时被调用，但它没有发生，它在浏览器中显示以下字符串

> `/images_slider_row/`

我错过了什么还是我误解了这个概念？请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T04:57:42.227

[`{% url ... %}`](https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs#url)不调用 url 而是放置文本以从命名 url 或视图路径等创建该 url。

# php - 如何删除PHP目录中匹配模式的文件？

> ID：12470544
> 
> 赞同：3
> 
> 时间：2012-09-18T04:49:29.240
> 
> 标签：php

我创建了一个 PHP 脚本来生成 CSV 文件。我只想保留脚本创建的最新文件。如何`*.csv`使用 PHP 删除目录中的所有旧文件？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-18T04:51:38.420

```
// Get a list of all CSV files in your folder.
$csv = glob("*.csv");

// Sort them by modification date.
usort($csv, function($a, $b) { return filemtime($a) - filemtime($b); });

// Remove the newest from your list.
array_pop($csv);

// Delete all the rest.
array_map('unlink', $csv); 
```

如果您的 CSV 扩展名可能是任何情况，请`csv`使用`[cC][sS][vV]`. 这是一个全局模式。

# jquery - 将 0.05 变成 5% jquery 或 javascript

> ID：12470546
> 
> 赞同：1
> 
> 时间：2012-09-18T04:49:43.390
> 
> 标签：jquery, html, percentage

嗨，我想知道如何将 0.05 或任何 0.xx 转换为百分比，例如如果 0.1 它应该是 10% 如果 0.04 它是 4%

它也应该四舍五入，我知道如何从 b 中获取 a 并以这种方式获得百分比，但我不确定如何让它发挥作用。我曾尝试使用`parseFloat`，但没有奏效，任何人都可以建议这样做的方法

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T04:53:36.997

对于这样一个简单的操作，您根本不需要 jQuery。

```
Number.prototype.percent = function() {
    // Round number up: Math.ceil
    // Round number: Math.round
    // Round number down: Math.floor
    return Math.ceil(this*100) + "%";
} 
```

通过使用此功能，您可以修改`Number`原型。然后，您可以在任何地方使用它，如下所示：

```
console.log((0.04).percent()); // 4%
console.log((1).percent());    // 100%
var number = 0.1;
console.log(number.percent()); // 10% 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:51:50.937

乘以 100，然后将`%`.

`(num * 100).toFixed(2) + '%'`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T04:54:00.970

尝试关注

```
parseInt(num*100)+"%" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T04:57:12.323

```
var decimal2percent = function (num) {
    return parseInt(parseFloat(num) * 100).toString() + "%";
}; 
```

# android - 从 Android SDK 设置软键盘示例得到错误

> ID：12470548
> 
> 赞同：1
> 
> 时间：2012-09-18T04:50:05.520
> 
> 标签：android, android-softkeyboard, sample

我已经尝试了所有可以在网上找到的方法来使用 SDK 中的 softKeyboard 示例。我尝试了几种不同的 API。

我努力了`File -> New -> Other... -> Android Sample Project`

我努力了`File -> New -> Other... -> Android Project from Existing Code`

我尝试创建一个新项目并将文件复制到

无论我做了什么，生成的代码都会加载错误。例如：

1.  import android.view.inputmethod.InputMethodSubtype 无法解析
2.  对于 InputMethodInfo 类型，方法 getSubtypeCount() 未定义
3.  new Preference.OnPreferenceClickListener(){} 类型的方法 onPreferenceClick(Preference) 必须覆盖超类方法

还有很多。我已经让其他样品正常工作。在导入这些样本时我遗漏了一些东西。它是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-04T03:51:42.907

我也遇到了同样的错误。

您必须从中选择它`File -> New -> Other...Android -> Android Sample Project`

确保您选择了正确的 API 级别。尝试进行清洁和构建，它会正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-28T07:53:58.167

通过右键单击项目 > 属性 > Android > 选择超过 4.0 的版本而不是应用，将您的 android 版本更改为 4.0 以上。并更改 AdroidManifest.xml 文件中的 api 级别

# postfix-mta - 为不同的端口重新配置 Postfix

> ID：12470551
> 
> 赞同：-1
> 
> 时间：2012-09-18T04:50:37.390
> 
> 标签：postfix-mta

因此，默认情况下 cox 处的 @$$holes 会阻止端口 25。考虑到我正在尝试使用小型 sinatra 应用程序发送邮件，这很麻烦，因为 postfix 在端口 25 上工作。是否有解决方法可以使 postfix 在不同的端口上工作？我已经看到在旧操作系统和 LINUX 上执行此操作的各种方法，但在 OS X Lion 10.8 上却没有。我的 main.cf 和 master.cf 是默认的。这可以做到吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T04:55:11.450

> 有没有办法让 postfix 在不同的端口上工作？

是的，更改`master.cf`为如下所示的行：

```
smtp      inet  n       -       n       -       500       smtpd 
```

或者

```
25      inet  n       -       n       -       500       smtpd 
```

改为：

```
26      inet  n       -       n       -       500       smtpd 
```

本质上将`smtp`or更改`25`为`26`.

# sharepoint - 将 Sharepoint 数据源添加到 Lucidworks

> ID：12470554
> 
> 赞同：1
> 
> 时间：2012-09-18T04:50:46.963
> 
> 标签：sharepoint, solr, web-crawler

我正在使用 Lucidworks 2.1v

当我尝试添加新的 Sharepoint 数据源时。

我收到以下错误。

> 创建该数据源时出现问题：无法访问数据：无法使用提供的域/用户名/密码连接到给定的 SharePoint 站点 URL。原因：(404) 未找到

但我可以通过浏览器访问 Sharepoint URL。

谁能帮帮我吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T10:23:36.867

完全按照步骤操作，它工作正常。

[http://lucidworks.lucidimagination.com/display/help/Create+a+New+SharePoint+Data+Source](http://lucidworks.lucidimagination.com/display/help/Create+a+New+SharePoint+Data+Source)

请检查**安装 SharePoint 附加 Web 服务**是否已正确添加且可访问。

# sql - 使用带有连接的 Select SUM 语句

> ID：12470557
> 
> 赞同：1
> 
> 时间：2012-09-18T04:51:13.807
> 
> 标签：sql

有人编写了以下存储过程查询（我删除了所有不相关的代码以使事情更容易阅读）

```
 SELECT           
   CRL.ClientNum ,    
            ..."A lot of columns"...,
   ISNULL((SELECT SUM(Amount) FROM db..History dh (nolock) WHERE dh.id = dd.Id AND ActivityId = 11), 0.00) AS [Some Amt],    
            ..."A lot more columns"...        
   FROM db..[SomeLog] SL  
            ..."A lot of inner joins and left joins"...             
   where clause
   order by clause 
```

这一切都好，但是，现在我需要放入一个 Case 语句来选择/比较“db..History”表中的列。问题是此表上没有现有联接。

*   我已经尝试在“db..History”表上放置一个内部连接，但这会返回比它应该的多得多的行。很可能是因为它加入的表有多个“历史记录”。
*   我曾考虑在开始时使用临时表来存储“db..History”表值，但这需要执行大量内部连接来获取数据并且会影响性​​能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:42:01.513

也许您的内部联接不正确，但是，您可以[创建](http://programming4.us/database/3850.aspx)必要表和字段的视图并在其上实施联接。在大多数情况下，使用可视化工具（如上链接所示）创建视图比编写代码更容易且更好。

大多数连接问题是因为不正确地创建表。如果您创建的表格分布真实而清晰，它将对您有很大帮助。

# arrays - Matlab将txt文件读入数组

> ID：12470561
> 
> 赞同：4
> 
> 时间：2012-09-18T04:51:39.003
> 
> 标签：arrays, matlab, multidimensional-array, text-files, fopen

我有一个具有以下信息格式的文本文件：

```
Name1 34 25 36 46
Name1 23 53 15 86
Name1 25 25 87 35
Name2 76 22 44 55
Name2 88 88 88 88
Name3 11 11 11 11
Name3 55 66 88 88
Name3 88 88 88 88
Name3 00 00 00 00 
```

有不同的“名称”，我必须将每个名称排列到一个数组槽中。然后，我需要另一种方法来将与每一行关联的日期分配到该特定位置。例如，第一个 Name1 可能有数组 {0}，但我还需要以某种方式关联 34、24、36 和 46。我还需要区分不同的名称。做这个的最好方式是什么？2x2 阵列似乎不是解决方案。

到目前为止，我所拥有的是这样的：

```
%# read the whole file to a temporary cell array
fid = fopen(filename,'rt');
tmp = textscan(fid,'%s','Delimiter','\n');
fclose(fid);

%# remove the lines starting with headerline
tmp = tmp{1};
idx = cellfun(@(x) strcmp(x(1:10),'headerline'), tmp);
tmp(idx) = [];

%# split and concatenate the rest
result = regexp(tmp,' ','split');
result = cat(1,result{:});

%# delete temporary array (if you want)
clear tmp 
```

礼貌：[在 Matlab 中读取 txt 文件](https://stackoverflow.com/questions/9195716/read-txt-file-in-matlab)

有人可以告诉我安排信息的最佳方式吗？谢谢，非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T05:03:33.080

从代码来看，你为什么不使用

```
fid = fopen(filename,'rt');
tmp = textscan(fid, '%s %d %d %d %d', 'Headerlines', 10);
fclose(fid); 
```

`textscan`默认使用空格和换行符作为分隔符。如果显式地将换行符作为分隔符，则会失去作为分隔符的空格和可移植性（Windows 通常`\r\n`用作单个换行符，而 Unix 派生的操作系统使用`\n`）。因此，鉴于您的数据，请忽略它。

然后你跳过箍来删除 10 个标题，同时`textscan`已经有一个很好的烘焙选项。因此，不需要这些步骤。您继续通过`regexp`以空格作为分隔符的传递来拆分内容，但由于`textscan`已经在空间上拆分，因此也不需要。

所以，使用上面的三行，你会得到

```
tmp = 
    {9x1 cell}    [9x1 int32]    [9x1 int32]    [9x1 int32]    [9x1 int32] 
```

现在，现在更方便地存储数据。我可以想到两种方法：

1.  元胞数组
2.  结构

对于这两者，您必须先找到唯一的名称：

```
[names, inds] = unique(tmp{1}); 
```

## 使用元胞数组

这将为您提供按名称排序的数据的元胞数组：

```
data = [tmp{2:end}];
results = arrayfun(@(x) data(strcmp(tmp{1},x),:), ...
            names, 'uniformoutput', false); 
```

现在你可以索引`results`如下：

```
results{3}(1,4)   %# for the 4th '11' for 'Name3' 
```

请记住，Matlab 是基于 1 的，因此`a(3)`表示 的第 3 个元素`a`，**而不是**第 4 个元素。

命令分解：

1.  该函数`arrayfun`遍历输入数组的元素，对每个元素应用一个函数，并将结果收集到常规数组（如果可能）或元胞数组（当不可能（错误）和给定时`'uniformoutput', false`）中。这有点像`foreach`- 构造。

2.  使输入数组等于`names`第一步中找到的唯一值，诀窍在于应用于每个名称的函数。该函数首先使用 . 在（包含所有名称的数组）中`@(x) data(strcmp(tmp{1},x),:)`查找给定名称的索引。这些索引然后用于索引，即所有其他数组。`tmp{1}``strcmp``data = [tmp{2:end}]`

3.  然后将每个唯一名称的结果存储在 cell-array`results`中。

## 使用结构

您可以更进一步，使用元胞数组`results`来获得更易于人类阅读的数据结构。应用所有前面的步骤后，执行以下操作：

```
for ii = 1:numel(names)
    output.(names{ii}) = results{ii}; end 
```

现在您可以按名称引用您的数据：

```
output.Name3(1,4)   %# to index the 4th '11' from 'Name3' 
```

该语法`your_struct.('someString')`称为*动态结构引用*。它在名为的结构中引用*或创建*一个字段。`your_struc``someString`

现在，如果`names{ii}`包含你想摆脱的下划线，那么你可以定义

```
camelCase = @(x) regexprep(x, '_+(\w?)', '${upper($1)}') 
```

或者

```
camelCase = @(x) regexprep(x, ' +(\w?)', '${upper($1)}') 
```

对于空间。然后使用

```
for ii = 1:numel(names)
    output.( camelCase(names{ii}) ) = results{ii}; end 
```

最后一个感谢[这些家伙](http://blogs.mathworks.com/loren/2008/03/27/a-way-to-automate-regular-renaming/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T09:08:36.817

首先，您绝对应该使用 Rody 建议的方法读取数据（Rody 指出时 +1），所以我假设您已经做到了这一点，并且有一个名为 tmp 的变量，就像在 Rody 的代码示例中一样。

现在，如果我正确理解了这个问题，您需要能够将示例数据集的每一行与其他行区分开来（使用日期？），但同时您还需要轻松区分不同的名称，其中一些名称将在几行中是相同的（同样，我从您的示例数据集中得到这个）。

解决这个问题的一种可能方法（确实有一个缺点）是使用结构。我将假设您已经在罗迪的回答中获得了变量 tmp ，我们将从那里开始。使用代码：

```
NameVec = unique(tmp{1, 1});
for i = 1:1:size(NameVec, 1)
    Index = ismember(tmp{1, 1}, NameVec{i, 1});
    Struct.(NameVec{i, 1}).Data = ...
       [tmp{1, 2}(Index), tmp{1, 3}(Index), tmp{1, 4}(Index), tmp{1, 5}(Index)];
end
Struct.NameVec = NameVec; 
```

此代码将创建一个结构，其中结构中的第一级具有数据集中每个唯一名称的字段名称（我还在代码中包含`NameVec`结构第一级中的变量，因此它可用于引用后面有一个循环的各个字段）。然后在每个字段（本例中的 Name1、Name2 和 Name3）中，我保存了一个数据矩阵，其中包含与该名称关联的数据（其中保留了各个行）。

这种方法的缺点是，如果要将所有数据返回到一个大数组中，则需要遍历 Struct.NameVec 的元素并检索与每个唯一名称关联的数据矩阵。并且循环在matlab中很慢。所以说真的，这取决于你打算如何使用这些数据。

希望这可以帮助！

ps，如果你不熟悉matlab结构，运行这段代码：

```
tmp = cell(1, 5);
tmp{1, 1} = {'Name1'; 'Name1'; 'Name1'; 'Name2'; 'Name2'; 'Name3'; ...
'Name3'; 'Name3'; 'Name3';};
tmp{1, 2} = [34;23;25;76;88;11;55;88;00];
tmp{1, 3} = [25;53;25;22;88;11;66;88;00];
tmp{1, 4} = [36;15;87;44;88;11;88;88;00];
tmp{1, 5} = [46;86;35;55;88;11;88;88;00]; 
```

然后运行我上面提供的代码`tmp`。然后看看在`Struct`matlab 变量编辑器中调用的结果结构。这应该让您对它们的工作方式有所了解。

# iphone - 如何在目标 C 中缩短 URL

> ID：12470563
> 
> 赞同：4
> 
> 时间：2012-09-18T04:51:43.200
> 
> 标签：iphone, objective-c, ios, ios4

我发现了几个缩短`URL`. 但没有一个对我不起作用。如果有人有工作示例，请分享。我尝试过的，

```
 NSString *apiEndpoint = [NSString stringWithFormat:@"http://tinyurl.com/api-create.php?url=%@",strUrl];
NSString *shortURL = [NSString stringWithContentsOfURL:[NSURL URLWithString:apiEndpoint]
                                              encoding:NSASCIIStringEncoding
                                                 error:nil];
NSLog(@"Long: %@ - Short: %@",strUrl,shortURL);

NSString *shortenedURL = [NSString stringWithContentsOfURL:[NSURL URLWithString:[NSString stringWithFormat:@"http://api.bit.ly/v3/shorten?login=%@&apikey=%@&longUrl=%@&format=txt", @"smartsanja@gmail.com", @"R_2db6e96aad348b8c993acf6ba80884c4", strUrl]] encoding:NSUTF8StringEncoding error:nil];

NSLog(@"Shoted url %@", [shortenedURL JSONValue]); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T04:55:30.703

只需尝试下面的短网址代码..

1.先试试这个..

```
NSString *urlstr = yourURL ;///here put your URL in string
[urlstr retain];
NSString *apiEndpoint = [NSString stringWithFormat:@"http://ggl-shortener.appspot.com/?url=%@",urlstr];
[apiEndpoint retain];

NSLog(@"\n\n APIEndPoint : %@",apiEndpoint);
NSString *shortURL = [NSString stringWithContentsOfURL:[NSURL URLWithString:apiEndpoint]
                                              encoding:NSASCIIStringEncoding
                                                 error:nil];
shortURL = [shortURL stringByReplacingOccurrencesOfString:@"{\"short_url\":\"" withString:@""];
shortURL = [shortURL stringByReplacingOccurrencesOfString:@"\",\"added_to_history\":false}" withString:@""];
[shortURL retain];
NSLog(@"Long: %@ - Short: %@",urlstr,shortURL); 
```

2.第二种方式如下

```
NSString *urlstr =[yourURL stringByReplacingOccurrencesOfString:@" " withString:@""];///your url string 
            [urlstr retain];
            NSString *apiEndpoint = [NSString stringWithFormat:@"http://tinyurl.com/api-create.php?url=%@",urlstr];
            [apiEndpoint retain];

            NSLog(@"\n\n APIEndPoint : %@",apiEndpoint);
            NSString *shortURL = [NSString stringWithContentsOfURL:[NSURL URLWithString:apiEndpoint]
                                                          encoding:NSASCIIStringEncoding
                                                             error:nil];
[shortURL retain];
    NSLog(@"Long: %@ - Short: %@",urlstr,shortURL); 
```

希望这可以帮助你...

:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T04:58:49.690

[我的这个 NSURL 类别](https://github.com/H2CO3/Shortener/blob/master/NSURL+Shortener.m)直接返回一个缩短的 NSURL。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-04-23T09:25:32.597

试试这个，它对我来说很好用。

```
NSString *apiEndpoint = [NSString stringWithFormat:@"http://tinyurl.com/api-create.php?url=%@",shareUrlString]; // The shareUrlString is NSString, which having URl

shortenUrl = [NSString stringWithContentsOfURL:[NSURL URLWithString:apiEndpoint] encoding:NSASCIIStringEncoding error:nil]; //ShortenUrl is NSString 
```

# android - 如何实现：单击一个按钮，然后用户可以向 EditText 输入一些内容

> ID：12470565
> 
> 赞同：0
> 
> 时间：2012-09-18T04:51:52.730
> 
> 标签：android, ime

屏幕上有一个 EditText( `edit`) 和一个 Button( `btn`)。

用户可以单击 EditText 输入内容，我还希望当用户单击按钮时，用户也可以向 EditText 输入内容。

我试过了：

```
btn.setOnClickListener(new View.OnclickListener() {
   public void onClick(View v) {
       edit.requestFocus();
       edit.performClick();
   }
}); 
```

但它不起作用。虽然`edit`获得焦点，但 IME 不显示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:27:29.007

`performClick()`仅当您`onClickListener`为该特定视图实现时才有效。

所以，在`onClick`你的`EditText`或`Button`

```
edit.requestFocus();
InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
imm.showSoftInput(edit, InputMethodManager.SHOW_IMPLICIT); 
```

# ios - 在 Facebook/Twitter 上分享后解锁关卡

> ID：12470567
> 
> 赞同：0
> 
> 时间：2012-09-18T04:52:13.263
> 
> 标签：ios, xcode, facebook, twitter, sharekit

我正在创建一个具有多个关卡的 iPhone 游戏，我希望在玩游戏的人连接到 Facebook 或 Twitter 并分享应用程序后解锁其中一个关卡。有没有办法相对容易地设置它？我也在考虑设置一个人在喜欢某个页面或查看应用程序后解锁的级别。

我目前的想法是创建一个 sqlite 数据库，其中包含一个表示关卡是否解锁的字段。在用户连接到 Facebook 并发布内容后，该字段会发生变化，因此该级别实际上已在应用程序中解锁。

您能否使用适当的 API/起始示例代码指导我正确的方向？太感谢了。如果某个地方有一个示例应用程序来演示此方法的工作原理，那就太好了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:08:04.127

> 我希望在玩它的人连接到 Facebook 或 Twitter 并分享应用程序后解锁其中一个级别。

它认为这将违反[Facebook 平台政策](https://developers.facebook.com/policy/)，

> 四。应用程序集成点
> 
> 1.  您不得激励用户使用 Facebook 社交渠道（或限制使用内容背后的内容），或暗示激励与使用我们的渠道直接相关。

# matlab - MATLAB 地平线图像处理

> ID：12470573
> 
> 赞同：1
> 
> 时间：2012-09-18T04:52:44.100
> 
> 标签：matlab, image-processing

我需要使用 MATLAB 处理图像。这是一项简单的任务，除了一个部分，我几乎完成了所有工作。

基本上，我有一个城市地平线的形象。我使用[Hough 变换](http://en.wikipedia.org/wiki/Hough_transform)和[Canny 边缘检测](http://en.wikipedia.org/wiki/Canny_edge_detector)处理图像。接下来，边缘检测会检测到许多不同的线条，并将它们绘制出来。但是，我需要使用边缘检测给出的点在主地平线上绘制一条新线。我已经想出了如何让第一个点在真实的地平线上画线，但我无法让第二个点画出那条线。

它需要扫描右侧的图像，当它在 Canny 边缘检测坐标上检测到一个点时，它会将坐标存储起来，并将其作为第二个点来绘制线条。我怎样才能做到这一点？

我相信它使用了一个简单的“for”循环或“ismember”，但我不确定该怎么做。对于左侧的第一个坐标，我使用了数组中的最小值，这很容易。但是对于第二个坐标，它需要做的是从上到下扫描最右边的图像。当它检测到一个坐标时，它实际上会存储这个坐标，并用它来创建跨越真实地平线的线。

我的代码如下。

```
 I = imread('Picture9.jpg'); % Input image file here
    dim = size(I); % Get size of the image and store in an array called 'dim'.
    %size array matrix; 1 is height, 2 is width
    height = dim(1);
    width = dim(2);
end

I = rgb2gray(I); % Convert to grayscale
BW = edge(I,'canny',[]); % Edge detection using Canny
imshow(BW);
[H,T,R] = hough(BW);

%  figure, imshow(H,[], 'XData', T, 'YData', R, 'InitialMagnification', 'fit');
%  xlabel('\theta'), ylabel('\rho');
axis on, axis normal, hold on;
P  = houghpeaks(H,50,'threshold',ceil(0.1*max(H(:))));

% Set houghpeaks parameters, threshold unsure
x = T(P(:,2));
y = R(P(:,1));
plot(x,y,'s','color','white');

% Apply median filtering
I = medfilt2(I);

% Find lines and plot them
lines = houghlines(BW,T,R,P,'FillGap',5,'MinLength',7);
figure, imshow(I),imagesc(I), hold on
max_len = 0;
for k = 1:length(lines)
    xy = [lines(k).point1; lines(k).point2];
    plot(xy(:,1),xy(:,2),'LineWidth',2,'Color','green');

    % plot beginnings and ends of lines
    plot(xy(1,1),xy(1,2),'x','LineWidth',2,'Color','yellow');
    plot(xy(2,1),xy(2,2),'x','LineWidth',2,'Color','red');
end

showlines = struct(lines);
cellData = struct2cell(showlines);

% X-coordinates are for width
% Y-coordinates are for height
%point1(x y) etc
for i = 1:280
    % 'A' stores all 'x' coordinates of point 1
    A([i,i+1])= [cellData{1,i}];
    % 'B' stores all 'x' coordinates of point 2
    B([i,i+1])= [cellData{2,i}];
    % 'C' stores all 'y' coordinates of point 1
    C([i,i])= [cellData{1,i}];
    % 'D' stores all 'y' coordinates of point 2
    D([i,i])= [cellData{2,i}];
end 
```

这是我试图让第二点画线的部分。但这是错误的。还有其他更适合的方法吗？

```
for height = 1:dim(1)
    for width = 635:dim(2)
        if X(height,width) == J(D,B)
            newpos = J(C,A);
        end
    end
end

plot( [((min(A)+min(B))/2),max(B)], [((min(C)+min(D))/2),newpos], 'LineWidth', 2, 'Color', 'red'); 
```

# architecture - 练习 ATM 用例图

> ID：12470580
> 
> 赞同：0
> 
> 时间：2012-09-18T04:53:26.973
> 
> 标签：architecture, diagram, use-case

我目前是一名软件开发人员，我希望将来成为一名软件架构师。作为实践，我决定为人为的 ATM 创建一个用例图。我过去了解过用例图，我希望你们可以看看我的图并给我一些提示和/或建设性的反馈。

*   图表中是否有任何错误？
*   图表是否太详细/不够详细？
*   我怎样才能改进这个图表？
*   你有什么书推荐给正在努力成为软件架构师的人吗？

这是我的图表的链接：

![](../Images/e6338e6546b6d272270c3570e10d6153.png)

提前感谢您的时间和帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-16T14:59:27.633

交易包括插入卡和输入密码，如果该用户被授权，则只有它可以选择任务。我希望这会对你有所帮助.. ATM 使用序列图而不是 UML 图

# jquery-ui - 我无法在 IE9 上使用 JQuery 实现通过鼠标调整 div 的大小

> ID：12470583
> 
> 赞同：1
> 
> 时间：2012-09-18T04:53:42.217
> 
> 标签：jquery-ui, internet-explorer, cross-browser, internet-explorer-9

JQuery 浏览器兼容性问题：我无法在 IE9 上使用 JQuery 实现通过鼠标调整 div 的大小，任何人都可以帮忙。它适用于其他浏览器。我已经检查了 Chrome、FF、IE8。我正在使用 Jquery 1.7 版本。

```
<script> 
    $(function() {$( "#AccountTree" ).resizable(); }); 
</script> 
<div class="scrolling grey_panel_border" 
        style="width:100%;height:90%;float:left;" 
        align="center" id="AccountTree"> 
    <tiles:insertAttribute name="Accounttree" />     
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-21T15:54:07.790

试试这个jsfiddle：

[http://jsfiddle.net/KEQyf/8/](http://jsfiddle.net/KEQyf/8/)

我使用的是 IE9 版本 9.0.8112.16421，它工作正常。

# django - Django 管理操作 - 未找到覆盖操作

> ID：12470584
> 
> 赞同：2
> 
> 时间：2012-09-18T04:53:43.270
> 
> 标签：django, django-admin, django-permissions

我需要你们的帮助，我有一些模型：

```
class VerificableAdmin(admin.ModelAdmin):

    def get_actions(self, request):
        actions = super(VerificableAdmin, self).get_actions(request)
        op = Operador.get_by_user(request)
        if not op is None:
            del actions['delete_selected']
        return actions

class CallcenterAdmin(VerificableAdmin):

    list_display    = ['id']
    search_fields   = ['ani']
    actions         = ['baja']

    def baja(self, request, queryset):
        print "hola"
    baja.short_description = 'Baja'

    def get_actions(self, request):
        actions = super(VerificableAdmin, self).get_actions(request)
        if not request.user.is_superuser and request.user.groups.filter(name='Personal').count() and 'delete_selected' in actions:
            del actions['delete_selected']
        return actions

    def queryset(self, request):
        qs = super(CallcenterAdmin, self).queryset(request)
        if not request.user.is_superuser and request.user.groups.filter(name='Personal').count():
            qs = qs.filter(ani=request.GET.get('q'))
            if qs.count() and qs[0].accion == 'baja':
                self.actions = None 
```

因此，当用户（管理员和“个人”组中的某个用户）在视图上进行交互时，我无法查看 action_checkbox ...

我不知道有什么问题。

我们的想法是只为管理员用户或个人组中的用户和 qs.count > 1 提供操作“baja”。

# android - 使用按钮 onClick() 将数字添加到 textView

> ID：12470586
> 
> 赞同：-5
> 
> 时间：2012-09-18T04:53:55.170
> 
> 标签：android

所以这看起来很简单，而且很可能就是这样。

我有一个 textView 和一个 Button

每次我点击我想添加的按钮，比如说，数字 10

像这样：

(文本视图) = 0

（用户点击按钮）

（文本视图）= 10

（用户点击按钮）

（文本视图）= 20

等等...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T04:56:21.877

```
private int i = 0;// Declare i as private 
```

......

```
TextView tv = (TextView)findViewById(R.id.tv01);
Btn.setOnClickListener(new OnClickListener() {

        public void onClick(View v) 
        {
            i = i+10;
            tv.setText( String.valueOf(i)); 
        }
    }); 
```

# java - 如何在 Eclipse 中编写 Java 代码来访问存储在 Domino 数据库中的数据？

> ID：12470590
> 
> 赞同：1
> 
> 时间：2012-09-18T04:54:30.823
> 
> 标签：java, eclipse, import, eclipse-plugin, lotus-domino

我想以编程方式将多米诺数据库项目（nsf）导入到 Eclipse 中。

有没有办法做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:03:07.490

根据您的问题，您需要将 NSF 导出到 DXL。这将为您提供整个数据库的 XML 表示。之后，您可以在eclipse中访问它。

以下示例 LotusScript 代码将导出数据库（仅示例）

```
Sub Initialize
    Dim nsn As New NotesSession
    Dim ndb As NotesDatabase
    Dim ndc As NotesDocumentCollection
    Dim ndo As NotesDocument
    Dim ndxle As NotesDXLExporter
    Dim nst As NotesStream

    On Error Resume Next

    Set ndb = nsn.CurrentDatabase
    Set ndc = ndb.UnprocessedDocuments
    Set ndo = ndc.GetFirstDocument

    Set nst = nsn.createStream

    If (Not(nst.Open( "c:\DATA.xml" ))) Then
        Print "Open File DATA.xml Failed" 
    End If

    nst.truncate

    Set ndxle = nsn.CreateDXLExporter (ndo, nst)
    Call ndxle.Process()
    Msgbox ndxle.Log
    Call nst.Close()
End Sub 
```

尽管我建议您阅读信息中心中的 DXL，因为在执行此操作时需要考虑大量选项。

[http://publib.boulder.ibm.com/infocenter/domhelp/v8r0/topic/com.ibm.designer.domino.main.doc/H_EXPORTING_AND_IMPORTING_DXL_JAVA.html](http://publib.boulder.ibm.com/infocenter/domhelp/v8r0/topic/com.ibm.designer.domino.main.doc/H_EXPORTING_AND_IMPORTING_DXL_JAVA.html)

请注意，Domino Designer 实际上是基于 Eclipse 构建的。因此，您可以右键单击任何设计元素和“查看源代码”以查看 DXL 格式。

此外，如果您使用 Team 功能，它会将 NSF 转换为 DXL，以便可以轻松地将其集成到源代码控制系统中。

这里有更多细节：

[http://www-10.lotus.com/ldd/ddwiki.nsf/dx/3.7_Source_control](http://www-10.lotus.com/ldd/ddwiki.nsf/dx/3.7_Source_control)

# c# - Irony .NET - 作为运算符的字符

> ID：12470593
> 
> 赞同：0
> 
> 时间：2012-09-18T04:54:37.823
> 
> 标签：c#, .net, irony

[我正在尝试使用Irony .NET](http://irony.codeplex.com/)创建一个简单的 DSL 来处理相当复杂的掷骰子指令。基本的计算器功能很容易实现（加法、减法等）。然而，当我终于可以添加滚动表达式时，我遇到了麻烦。理想情况下，我希望滚动表达式采用以下形式： ndm 其中 n 是要滚动的骰子数，m 是每个骰子的面数。

我的问题是我想要 d 旁边的表达式，如果我这样做， Irony 会抱怨 d 是一个无效字符。它周围的空格有效（1 d 6），用非字母数字字符代替它有效（1%6）。目前，我只需将源中的每个 d 替换为“ d ”即可工作，但这显然在我处理变量时不起作用（我计划在前面加上 '$' 以将它们分开）。

问题是，我怎样才能让它在没有空格（1d6）的情况下工作，最好不要对语法进行任何重大改变？（注意：如果它仍然适用于空格，那是完全可以的，我只是不希望它们是必需的。）

```
expression = new NonTerminal("expression");
add = new NonTerminal("add");
subtract = new NonTerminal("subtract");
multiply = new NonTerminal("multiply");
divide = new NonTerminal("divide");
roll = new NonTerminal("roll");

expression.Rule = number | add | subtract | multiply | divide | roll;
add.Rule = expression + "+" + expression;
subtract.Rule = expression + "-" + expression;
multiply.Rule = expression + "*" + expression;
divide.Rule = expression + "/" + expression;
roll.Rule = expression + "d" + expression;

RegisterOperators(1, "+", "-");
RegisterOperators(2, "*", "/");
RegisterOperators(3, "d");

MarkPunctuation("+", "-", "*", "/", "d");
MarkTransient(expression);

this.Root = expression; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T00:13:48.097

问题是您需要某种方式来判断令牌的开始和结束位置。如果不能首先将字符串分解为标记，语法就无法弄清楚是什么。

I do believe Irony does support this, have a look at AssignWhitespaceAndDelimiters(), it looks like "d" needs to be added to the list of key terms, or could be added as a delimiter itself.

# javascript - 显示/隐藏 jQuery 菜单

> ID：12470595
> 
> 赞同：0
> 
> 时间：2012-09-18T04:54:58.453
> 
> 标签：javascript, jquery, html, show-hide

我想要我的网站的显示/隐藏菜单。

当您单击站点底部的时，我希望它能够像[www.nicolaspopupshop.com上的那样运行。](http://www.nicolaspopupshop.com)`"Partners"`

我整天都在尝试这样做，我只是对它的工作原理感到困惑。

我很擅长 HTML，但是一旦 javascript 开始发挥作用，我就一无所知。我想这对专家来说是一个烦人的问题，但如果有人能帮助我，这对我来说意味着世界。

谢谢！

这是我在样式标签中的内容：

```
 ```
#footer .bottom #partners_trigger {
      cursor: pointer;
      margin-left: 170px; }
    #footer .bottom #partner_list {
      width: 320px;}
    #footer .bottom #partner_list ul {
      position: fixed;
      text-align:center;
      font-size:11px;
      text-transform: uppercase;
      bottom: 40px;
      left: 50%;
      width: 320px;
      margin: 0 0 0 -160px;
      background: #FA9313;
      background: rgba(250, 147, 19, 0.85);
      padding: 10px 0;
      -webkit-border-radius: 6px;
      -moz-border-radius: 6px;
      border-radius: 6px;
      z-index: 300;
      line-height: 18px;
      display: none; }
      #footer .bottom #partner_list ul a {
        color: white; 
        font-family: Arial, Helvetica;}
      #footer .bottom #partner_list ul a:hover {
        color: #e9118c; }
      #footer .bottom #partner_list ul.active {
        display: block; } 
``` 我试图将我拥有的内容放入 body 标签中，但无法正确显示。

            回答 #1

赞同：0

时间：2012-09-18T05:08:57.850

首先创建一个 div 并将其样式设置为 display:none。我假设你的合作伙伴链接有一个 id Partners 然后写下面的代码

```
$(document).ready(function() {
    $("#Partners").bind('click', function() {
      $("#your_div").slideToggle(); //your_div is the id of the div with display none
    })
}); 
```

            回答 #2

赞同：0

时间：2012-09-18T05:02:40.203

```
$(document).ready(function() {
    var $list = $("#your-ul");
    $("#your-toggle-link").bind('click', function() {
       $list.slideToggle();
    })
}); 
```

```

# job-scheduling - 将 Quartz.Net 与 UI 相结合

> ID：12470599
> 
> 赞同：12
> 
> 时间：2012-09-18T04:55:15.757
> 
> 标签：job-scheduling, quartz.net-2.0

我一直在从事 MVC3 项目。我刚刚在我的应用程序中使用 Quartz.Net 创建了示例电子邮件发送作业。这一次，我需要在我的 MVC3 项目中构建一个作业调度系统。该场景完全基于 UI。这意味着，系统的用户必须通过 UI 输入调度频率，如定义作业、调度时间。我试过 Quartz.Net 2.0.1。我不知道将 Quartz.Net 与 UI 结合起来进行调度。

是否有可能将调度程序附加到 UI。请建议我该怎么做。

谢谢，

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-09-19T09:16:10.437

有一些开源项目可以帮助您。

ASP.NET MVC 应用程序：

[石英网管理员](http://code.google.com/p/quartznet-admin/)

可插拔：

[Quartz.Net Web 控制台](https://github.com/mausch/QuartzNetWebConsole)

[Crystal Quartz](https://github.com/guryanovev/CrystalQuartz)（它不安排作业）

[Quartzmin](https://github.com/jlucansky/Quartzmin)（创建和调度作业）

Windows 窗体

[QuartzNetManager](https://github.com/adometry/QuartzNetManager)

# ruby-on-rails - Minitest 和 Rspec

> ID：12470601
> 
> 赞同：50
> 
> 时间：2012-09-18T04:55:23.267
> 
> 标签：ruby-on-rails, ruby, testing, rspec, minitest

我刚刚观看了Minitest 的[Railscast](http://railscasts.com/episodes/327-minitest-with-rails)。

使用 RSpec 与 Minitest 测试 Rails 应用程序的优缺点是什么？从 RSpec 转换到 Minitest 会丢失哪些功能？

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2012-09-18T16:00:24.597

我是 RSpec 开发人员之一，从未使用过 minitest，因此在阅读此答案时要考虑到我的偏见。

总的来说，RSpec 的强大之处在于它将如此多的测试概念具体化为一流的对象。其中 Test::Unit 和 Minitest 使用简单的方法进行断言，RSpec 使用支持否定、自我描述等的一流匹配器对象。RSpec 的示例是支持丰富元数据的一流对象；minitest/spec 将`it`块编译成简单的方法，这些方法不支持相同类型的丰富元数据。RSpec 支持使用接受参数的一流构造（共享示例组）来指定共享行为；w/ minitest 您可以使用[继承或 mixin 来重用测试](http://wojtekmach.pl/blog/2012/07/17/liskov-principle-and-minitest/)，但它没有同类的一流支持。RSpec 有一个明确的格式化程序 API（并且有许多第三方格式化程序使用它）；我不知道 minitest 具有相同类型的一流格式化程序 API。

作为一个整天不断地运行测试和练习 TDD 的人，我发现 RSpec 赋予我的力量非常有用。然而，许多人发现它是多余的，而且额外的抽象会增加认知成本。

以下是我认为 minitest 缺乏的 RSpec 的一些特定功能：

*   `before(:all)`钩子（注意这是 RSpec 的一个高级用户功能，应该很少使用；在使用 RSpec 的多年中，我只在少数场合使用过它）
*   `around(:each)`挂钩
*   共享示例组
*   共享上下文
*   丰富的元数据支持，可用于控制运行哪些示例、包含哪些示例组共享上下文、哪些示例组模块混入等等。
*   使用 rspec-mocks 集成了对各种模拟功能的支持；相比之下，Minitest::Mock 更简单，也更受限制。
*   RSpec 有[rspec-fire](https://github.com/xaviershay/rspec-fire)，这太棒了。

使用 Minitest 的好处：

*   它内置在标准库中，因此您无需安装任何额外的东西。
*   它既可以用于样式，`def test_blah`也可以用于`it 'blah'`样式。
*   代码库非常小而且简单。RSpec，由于它的年龄和附加功能，相比之下更大。
*   Minitest 加载速度比 RSpec 快（它大约需要 4 个代码文件，而 RSpec 有许多文件分布在 3 个 gem 中）——但请注意，RSpec 绝不慢；这些天来，在我的大多数项目中，我会在不到一秒（通常不到 500 毫秒）内从 RSpec 获得测试反馈。

总的来说，它有点像 Sinatra vs. Rails，我认为 Minitest 和 RSpec 都是不错的选择，具体取决于您的需求。

最后一件事：如果您更喜欢 Minitest 的某些特定方面，但您更喜欢 RSpec 的其他方面，它们可以很容易地混合和匹配。我[写了一篇关于这个的博客文章](http://myronmars.to/n/dev-blog/2012/07/mixing-and-matching-parts-of-rspec)，如果你有兴趣的话。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-18T05:07:09.580

`Test/Unit`我从with转换为规范风格的 Minitest `shoulda`，它得到了回报。它取消了样板文件，他们说它也提高了速度。我从来没有真正使用过 RSpec。相反，我编写了自己的原始测试和模拟框架（只是为了理解模拟，我在切换到 Minitest 时放弃了它）。我认为 RSpec 中的 stubbing/mocking 可能更高级，所以如果你已经学会了，就继续使用它。否则，坚持使用 Minitest，这将使您能够与不了解 RSpec 的人合作，例如我。

# android - 谷歌地图未显示在 Android 设备上。

> ID：12470607
> 
> 赞同：5
> 
> 时间：2012-09-18T04:55:53.277
> 
> 标签：android, google-maps, google-maps-api-3

所以我的问题是谷歌地图没有显示在我使用 3.2 API 的 android 设备上

在寻找这个问题的解决方案时，我已经尝试过大部分我在网上找到的建议。

我的清单里确实有`<uses-permission android:name="android.permission.INTERNET"/>`。

我已经按照谷歌书面程序生成了一个签名密钥（[http://developer.android.com/tools/publishing/app-signing.html#setup](http://developer.android.com/tools/publishing/app-signing.html#setup)）并获得了所述密钥并将其放入布局中`android:apiKey="0R8lbu8yQL1Wgw-13s5sUBXZXusi4mEY3EhqWWw"`我仍然看到灰色瓷砖而不是地图。

我知道调试密钥适用于 AVD 但不适用于 android 设备，而签名密钥应该适用于设备而不是 AVD。

我愿意尝试另一个循序渐进的程序来完成这项工作，如果成功，我将永远感激不尽。

请帮忙！谢谢！

**解决方案：**

正在向设备安装错误的 apk。不得不做：

`adb install <your-file-name>.apk`

在控制台中

**编辑：**

`Manifest File`

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.googlemaps"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="15" />
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme">

    <uses-library android:name="com.google.android.maps" />

    <activity
        android:name=".StartActivity"
        android:label="@string/title_activity_start">

        <intent-filter>
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>

    </activity>

    <activity
        android:name=".MainActivity"
        android:label="@string/title_activity_main" >

    </activity>

    <service
      android:name=".WorldWideMapService"
      android:process=":remote">
      <intent-filter>
        <action
          android:name="com.example.googlemaps.WorldWideMapService" />
      </intent-filter>
    </service>

</application> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T05:12:44.100

我想更正您有关应用程序签名和映射 api 密钥的问题。

没有这样的事情，比如默认的 api 密钥只能与 avd 一起使用，而不是与设备一起使用。问题是，map api key 与 Signature KeyStore 相关联，由哪个应用程序签名，所以如果您使用 Default Key 签署应用程序，那么您应该使用默认 api 密钥。但是，如果您使用自己的密钥库签署应用程序，则应将新的密钥库注册到 google map api，并获取 api 密钥。要在 Google Play 上上传，我们需要使用其他密钥库而不是默认密钥库对应用程序进行签名，因此我们需要获取发布地图 API 密钥。

在您的情况下，我认为您正在使用默认密钥库对您的应用程序进行签名，而使用不同商店的 map api 密钥。

是的，问题可能就像@Raju 提到的那样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:10:42.217

在活动之前的清单文件和应用程序标签内添加这个

```
<uses-library android:name="com.google.android.maps" /> 
```

# sql - WHERE 子句中 SQL 查询中的 IF 条件

> ID：12470609
> 
> 赞同：-2
> 
> 时间：2012-09-18T04:56:18.447
> 
> 标签：sql, oracle, where-clause

我有这样的 Oracle sql 查询

```
SELECT *
FROM test
WHERE 1 =1
AND req_no IN
  (SELECT req_no
  FROM test
  WHERE date1 IS NOT NULL
  AND date1 BETWEEN '1-JUN-12' AND '30-JUN-12'
  ) 
```

问题是`WHERE`条件不能正常工作。在上述情况下，如果 'date1' 不为 NULL，那么我想在 'FROM' 和 'TO' 日期之间检查 'date1'。 ****编辑**** 我添加了示例表数据

```
Test table
From date: 1-JUN-2012
To date: 30-JUN-2012

record      date1          date2            date3
1       12-JUN-2012     13-JUN-2012         12-JUN-2012
2       null            null                12-JUN-2012
3       null            3-JUN-2012          null
4       12-JUN-2012     null                null
5       12-JUN-2012     13-JUL-2012         12-JUN-2012
6       null                null             null 
```

在上面的记录中，它将返回记录号=1,2,3,4 而不是第 6 条记录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T05:12:17.413

我认为您不需要子查询，您可以使用单个查询直接选择相关记录，就像您不需要检查是否`date1`为空一样

```
SELECT *  FROM test
  WHERE TO_DATE('12/2/2003','MM/DD/YYYY') <= date1 
AND TO_DATE('12/5/2003','MM/DD/YYYY') >= date1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T04:57:30.293

你可以`OR`这样使用：

```
WHERE date1 IS NULL
  OR date1 BETWEEN '1-JUN-12' AND '30-JUN-12' 
```

您的整个查询应该是：

```
SELECT *
FROM test
WHERE 1 =1
AND req_no IN
  (SELECT req_no
  FROM test
  WHERE date1 IS NULL
  OR date1 BETWEEN '1-JUN-12' AND '30-JUN-12'
  ) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T06:52:48.553

找到了一些解决方法，但它很长

```
 SELECT *
FROM dates
WHERE 1  =1
AND( 
  no IN
  ( SELECT no FROM dates WHERE date1 BETWEEN '1-JUN-12' AND '30-JUN-12'
  and date2 is null and date3 is null ) 
  or 
   no IN
  ( SELECT no FROM dates WHERE date2 BETWEEN '1-JUN-12' AND '30-JUN-12'
  and date1 is null and date3 is null ) 
  or 
   no IN
  ( SELECT no FROM dates WHERE date3 BETWEEN '1-JUN-12' AND '30-JUN-12'
  and date1 is null and date2 is null ) 
   or 
   no IN
  ( SELECT no FROM dates WHERE date3 BETWEEN '1-JUN-12' AND '30-JUN-12'
  and date1 BETWEEN '1-JUN-12' AND '30-JUN-12' and date2 BETWEEN '1-JUN-12' AND '30-JUN-12' )
   or 
   no IN
  ( SELECT no FROM dates WHERE date1 BETWEEN '1-JUN-12' AND '30-JUN-12'
  and date1 BETWEEN '1-JUN-12' AND '30-JUN-12' and date3 is null )
    or 
   no IN
  ( SELECT no FROM dates WHERE date3 BETWEEN '1-JUN-12' AND '30-JUN-12'
  and date3 BETWEEN '1-JUN-12' AND '30-JUN-12' and date2 is null )
   or 
   no IN
  ( SELECT no FROM dates WHERE date2 BETWEEN '1-JUN-12' AND '30-JUN-12'
  and date3 BETWEEN '1-JUN-12' AND '30-JUN-12' and date1 is null )

  ) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T05:04:34.947

`1=1`是多余的。既然您说您想检查 date1 是否在日期范围之间，或者它是否为 null 也可以，请尝试：

```
SELECT *
FROM test
WHERE req_no IN
  (SELECT req_no
  FROM test
  WHERE date1 BETWEEN to_date('06/01/2012','mm/dd/yyyy') 
         AND to_date('06/30/2012','mm/dd/yyyy') 
        OR date1 is null
  ) 
```

# ios - 在 iOS 中压缩 json 到 json 覆盖

> ID：12470614
> 
> 赞同：0
> 
> 时间：2012-09-18T04:57:16.273
> 
> 标签：ios, json

我可以在 iOS 中获取 json 对象形式的压缩 json 吗？有什么办法可以转换吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T13:56:53.150

如果是gzip压缩的，会自动转换。看看这个线程：

[iPhone 和 GZip](https://stackoverflow.com/questions/2159575/iphone-and-gzip)

基本上，只是：

```
NSData *data = [NSData dataWithContentsOfURL:URL]; 
```

# c++ - 简单的计算器程序有什么问题？

> ID：12470615
> 
> 赞同：0
> 
> 时间：2012-09-18T04:57:23.323
> 
> 标签：c++, visual-studio-2010

```
#include <iostream>
#include <iomanip>
using namespace std;

int calculate ()
{
double a;
double b;
a =(3.0);
b =(5.0);
cout << "  " << fixed << setprecision (1) << a << "\n" << endl;
cout << "* " << fixed << setprecision (1) << b << "\n" << endl;
cout << "------" << endl;
cout << fixed << setprecision (2) << a*b << "\n" << endl;
system("PAUSE");

return 0;
}
int calculate(int a, int b, int c)
{
double a;
double b;
double c;
a =(7.1);
b =(8.3);
c =(2.2);
cout << "  " << fixed << setprecision (1) << a << "\n" << endl;
cout << "* " << fixed << setprecision (1) << b << "\n" << endl;
cout << "- " << fixed << setprecision (1) << c << "\n" << endl;
cout << "------" << endl;
cout << fixed << setprecision (2) << (a*b)-c << "\n" << endl;
system("PAUSE");

return 0;
} 
```

问题：为什么我必须改变双打--->整数？有什么突出的错误吗？

这里是输出： 1>----- Build started: Project: HW1-2, Configuration: Debug Win32 ------ 1> HW1-2.cpp 1>c:\users\asus\desktop\ hw1-2\hw1-2\hw1-2.cpp(21): 错误 C2082: 重新定义形参 'a' 1>c:\users\asus\desktop\hw1-2\hw1-2\hw1-2。 cpp(22): 错误 C2082: 重新定义形参 'b' 1>c:\users\asus\desktop\hw1-2\hw1-2\hw1-2.cpp(23): 错误 C2082: 重新定义形参'c' 1>c:\users\asus\desktop\hw1-2\hw1-2\hw1-2.cpp(24): 警告 C4244: '=' : 从 'double' 转换为 'int', 可能丢失数据 1>c:\users\asus\desktop\hw1-2\hw1-2\hw1-2.cpp(25): 警告 C4244: '=' : 从 'double' 转换为 'int'，可能丢失数据 1>c:\users\asus\desktop\hw1-2\hw1-2\hw1-2.cpp(26): 警告 C4244: '=' :从 'double' 到 'int' 的转换，可能丢失数据 ========== 构建：0 成功，1 失败，0 最新，0 跳过 ========= =

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:00:06.587

你有两个函数都命名为`main()`. 我不确定您要完成什么，但函数必须在命名空间中具有唯一名称。

你可以随意命名你的函数。`main()`不过很特别——它是程序的入口点，程序运行时被调用的入口点。`main()`如果你有另一个函数，如果你想执行它，你需要自己从内部调用它：

```
int foo(int c)
{
    return c + 2;
}

int main()
{
    int a = 1;
    int b = foo(a);
    return b;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:13:19.943

就像迦勒说的，你有两个`main()`声明。没有第二个 main 函数的代码编译得很好：

```
#include <iostream>
#include <iomanip>

int main()
{
    double a;
    double b;
    double c;
    a = (7.1);
    b = (8.3);
    c = (2.2);
    std::cout << std::fixed << std::setprecision(1) << std::endl;
    std::cout << "  " << a << "\n" << std::endl;
    std::cout << "* " << b << "\n" << std::endl;
    std::cout << "- " << c << "\n" << std::endl;
    std::cout << "------" << std::endl;
    std::cout << std::setprecision(2) << (a * b) - c << "\n" << std::endl;

    return 0;
} 
```

如果您希望这是一个单独的函数，您可以将其重命名为其他名称，例如`int calculator()`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T05:07:53.103

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T05:02:01.183

你的问题很可能在这条线上：

```
(a*b)c 
```

你想在这里完成什么？您的编译器应该抱怨缺少分号。它不是有效的 C++。您需要在和之间指定另一个操作数（+、-、* 等`(a*b)`）`c`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-18T05:02:18.110

`(a*b)c`<-- 错误

如果你想乘，它应该是`(a*b)*c`

**编辑 -**好像你想这样做`(a*b) - c`，也可以写`a*b - c`。

# rss - Google 新闻 RSS - 获取超过 10 个项目

> ID：12470621
> 
> 赞同：1
> 
> 时间：2012-09-18T04:57:49.710
> 
> 标签：rss, google-reader, google-news

我正在尝试从 Google 新闻 RSS 获取新闻并将其显示在应用程序中。问题是 Google 新闻 RSS 只给了我 10 项，我不知道如何获取下一页和/或获取超过 10 项。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-19T14:54:16.197

将 &num=100 附加到提要 URL 的末尾。

[https://groups.google.com/forum/?fromgroups=#!topic/google-reader-howdoi/bL3iyVFtcLg](https://groups.google.com/forum/?fromgroups=#!topic/google-reader-howdoi/bL3iyVFtcLg)

# javascript - 如何检查不包含提交按钮的 HTML5 表单的有效性？

> ID：12470622
> 
> 赞同：35
> 
> 时间：2012-09-18T04:57:51.530
> 
> 标签：javascript, jquery, html, validation

我有以下代码示例适用于浏览器，当他们在此处的电子邮件之类的输入中看到 HTML5“必需”时进行检查：

```
<form id='myForm'>
    <div>
    <label>Email:
      <input name=email type=email required title="enter your email">
    </label>
    <input type=submit>
    </div>
</form>​ 
```

这是上面的[小提琴](http://jsfiddle.net/E6jhE/)。

但是，在我的应用程序**中，我在表单之外使用了一个按钮**，并将以下代码附加到该按钮的单击事件中：

```
if (!$form.valid || $form.valid()) {
    $submitBt
        .disableBt();
    $modal
        .removeBlockMessages()
        .blockMessage('Contacting Server, please wait ... ', {
            type: 'loading'
        });
    $.ajax({
        url: href,
        dataType: 'json',
        type: 'POST',
        data: $form.serializeArray()
    })
        .done(onDone)
        .fail(onFail);
} 
```

我在这里有两个问题：

*   以下代码做了什么： (!$form.valid || $form.valid())
*   如何使用新的 HTML5 检查检查我的表单有效性？

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2012-09-18T05:09:30.697

假设您已将表单元素设置为一个名为 的对象`$form`，那么`if (!$form.valid || $form.valid())`这是一种聪明的语法，它意味着“如果`$form`没有调用的方法`valid`，或者如果`valid()`返回 true”。通常到那时您已经安装并初始化了 jQuery Validation 插件，但这会防止表单在未加载验证插件时被禁用。

您可以使用 HTML5 方法进行类似的测试`checkValidity`，如下所示：

```
if (!$form.checkValidity || $form.checkValidity()) {
  /* submit the form */
} 
```

**编辑**： checkValidity 是[HTML5 表单规范中的一个函数](http://www.whatwg.org/specs/web-apps/current-work/multipage/forms.html#dom-form-checkvalidity)。截至 2016 年 2 月，CanIUse.com 报告[超过 95% 的浏览器支持它](http://caniuse.com/#feat=form-validation)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:20:59.537

在 HTML5 中，您可以在元素上使用“form”属性来显式地将其与 Form 元素相关联，而不管它在页面结构中的位置：http: [//developers.whatwg.org/association-of-controls-and -forms.html#attr-fae-form](http://developers.whatwg.org/association-of-controls-and-forms.html#attr-fae-form)

在兼容的浏览器中，您应该能够将 input[type=submit][form=id] 元素放在任何地方，并且仍然可以正确触发验证和提交过程。

我倾向于将应该拦截提交过程的代码放在表单的“提交”事件处理程序中，这样它是由用户按下 Enter 键以及我拥有的任何 input[type=submit] 按钮触发的。

# queue - 如何实现一个只有堆栈实现的队列？

> ID：12470626
> 
> 赞同：1
> 
> 时间：2012-09-18T04:58:34.850
> 
> 标签：queue

我知道有 2 个堆栈。但是如何使用一个？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-18T05:07:36.430

您可以通过使用递归函数调用来“作弊”来弹出堆栈，然后推送正在排队的项目，然后随着递归调用展开，您推送弹出的内容。但这实际上是两个堆栈，因为系统程序计数器是一个堆栈。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-12-22T19:56:32.127

递归就是答案

```
 public class QueueWithStack
    {
      private static Stack stackQueue;

      public QueueWithStack()
      {
        stackQueue = new Stack();
      }

      public void enqueue(int entry)
      {
        stackQueue.add(entry);
      }

      //dequeue a particular element from queue
      public void dequeue(int entry)
      {
        int popInt;

        if (!stackQueue.isEmpty())
        {
          popInt = stackQueue.pop();
          if (popInt != entry)
          {
            dequeue(entry)
            stackQueue.push(popInt);
          }
        }
        return;
      }

      public void dequeueFIFO()
      {
        if (!stackQueue.isEmpty())
        {
          int popInt = stackQueue.pop();
          if (!stackQueue.isEmpty())
          { 
            deququeFIFO();
            stackQueue.push(popInt);
          }
        }
      }
    } 
```

调用一个 main，创建一个 QueueWithStack 对象，并从这个“队列”中添加和删除整数将允许用户将项目推送到队列中，并随时访问队列中的任何项目，以及从队列中删除项目按先进先出顺序。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-04-04T17:31:31.110

以下是java的实现：

*   在 Enqueue 操作期间，我们可以直接将元素压入堆栈。

*   在出队操作期间，

    *   递归弹出主栈中的所有元素，直到栈大小等于 1。
    *   如果 Stack size = 1，则从 Stack 中弹出项目，并返回相同的项目。
    *   将所有弹出的元素推回堆栈。

下面是相同的测试程序。

```
public class QueueUsingSingleStack {

    Stack<Integer> stack = new Stack<>();

    private void enqueue(int i) {
        stack.push(i);
    }

    private int dequeue() throws Exception {
        if (stack.size() == 0)
            throw new Exception("Queue is Empty");

        if (stack.size() == 1)
            return stack.pop();

        int data = stack.pop();
        int retVal = dequeue();
        stack.push(data);
        return retVal;
    }

    public static void main(String[] args) throws Exception {
        QueueUsingSingleStack queue = new QueueUsingSingleStack();
        queue.enqueue(10);
        queue.enqueue(20);
        queue.enqueue(30);
        queue.enqueue(40);

        System.out.println(queue.dequeue());
        System.out.println(queue.dequeue());
        System.out.println(queue.dequeue());
        System.out.println(queue.dequeue());

    }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-05-10T09:07:40.373

```
#include<stdio.h>
#define SIZE 100
int stack[SIZE],top=-1;
void enqueue()
{
  int data1;
  printf("Enter the element to enqueue");
  scanf("%d",&data1);
  if(isEmptyStack()) 
    push(data1);
  else
    enqueue1(data1);
}
 int enqueue1(int data1)
{
  int data;
  if(isEmptyStack())
    return;
  data=pop();
  enqueue1(data1);
  push_bottom(data,data1);
   return ;
 }
int push_bottom(int data,int data1)
 { 
    if(isEmptyStack())
    {
     push(data1);
     push(data);
    }
   else
   {
    push(data);
   }
   return;
}
int isEmptyStack()
{
 if(top==-1)
  return 1;
  return 0;
}
int push(data)
{
  top++;
  stack[top]=data;
   return ;
}
void dequeue()
 {
  int a;
  a=pop();

}
 int pop()
 {
   int a=stack[top];
    top--;
  return a;
 }
 void print()
  {
     int i;
     printf("Stack elements are:");
    for(i=top;i>-1;i--)
   {
      printf("\n%d",stack[i]);
   } 
 }
 void main()
 {
   int choice;
   clrscr();
   printf("----Queue implementation using only one stack---");
   while(1)
    {
     printf("\n1.Enqueue \n2.Dequeue \n3.Print \n4.Exit");
     scanf("%d",&choice);
     switch(choice)
     {
      case 1:
      enqueue();
      break;
       case 2:
            dequeue();
            break;
       case 3:
         print();
        break;
       case 4:
         exit(0);
      }
     }
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-07-11T17:16:57.493

```
//Implementing queue using a single stack

#include<stdio.h>
#define SIZE 10
int stack[10];
int top = -1;

int pop() {
    if(top != -1) return stack[top--];
}
void push(int data) {
    if(top < SIZE) stack[++top] = data;
}
void enqueue(int data) {
    push(data);
}
int dequeue() {
    if(top == 0) return pop();
    int data = pop();
    int value = dequeue();
    push(data);
    return value;
}

int main(void) {

    int i;

    //Enqueue
    enqueue(1);
    enqueue(2);
    enqueue(3);
    enqueue(4);
    for(i=0;i<=top;i++) printf("%d ",stack[i]);
    printf("\n");

    //Dequeue
    printf("Dequeue --> %d\n",dequeue());
    printf("Dequeue --> %d\n",dequeue());
    for(i=0;i<=top;i++) printf("%d ",stack[i]);
    printf("\n");

    return 0;

} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-09-15T10:36:02.980

```
public T DeQueue()
{
    T retval = default(T);
    T current = Pop();

    if (stackInternal.Count >= 1)
    {
        retval = DeQueue();
    }

    if (stackInternal.Count == 0 && retval.Equals( default(T)))
    {
        retval = current;
        return retval;
    }
    else
    {
        Push(current);
    }

    return retval;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-08-26T20:00:28.253

虽然使用递归可能会作弊，但我不完全确定下面的代码是否可以解决问题，尤其是 peek() 的部分。

```
public class Main {
    Stack<Integer> s1 = new Stack<Integer>();

    /**
     * Push element x to the back of queue.
     */
    public void push(int x) {
        s1.push(x);
    }

    /**
     * Removes the element from in front of queue and returns that element.
     */
    public int pop() {
        int top = s1.pop();
        if (s1.isEmpty())
            return top;

        int result = pop();
        s1.push(top);
        return result;
    }

    /**
     * Get the front element.
     */
    public int peek() {
        int top = s1.pop();
        if (s1.isEmpty()) {
            s1.push(top);
            return top;
        }

        int result = peek();
        s1.push(top);
        return result;
    }

    public boolean empty() {
        return s1.isEmpty();
    }
} 
```

# actionscript-3 - 调整我从公共闪烁源加载的图像大小

> ID：12470628
> 
> 赞同：1
> 
> 时间：2012-09-18T04:58:46.603
> 
> 标签：actionscript-3, flicker

我正在尝试调整从闪烁的公共照片提要中加载的照片的大小。我可以获取照片并使用添加子项查看它们，但是如果我尝试调整它们的大小，它们将不会加载，并且我没有收到任何错误。

这是代码：

```
 public function onClick(e:MouseEvent):void{
        urlloader=new URLLoader();
        var req=new URLRequest("http://api.flickr.com/services/feeds/photos_public.gne" );
        var urlvars:URLVariables=new URLVariables();
        urlvars.format ="rss_200";
        urlvars.tags="cat";
        req.data=urlvars;
        urlloader.addEventListener(Event.COMPLETE, onXMLLoaded);
        urlloader.load(req);
    }
    public function onXMLLoaded(e:Event):void{
        trace(urlloader.data);
        var xml:XML = new XML (urlloader.data);
        urls=[];
        var mediaNS:Namespace=new Namespace("http://search.yahoo.com/mrss/" );
        for(var i:int =0; i<xml.channel.item.length();i++){
            urls.push(xml.channel.item[i].mediaNS::content.@url);
        }
        //trace(xml.channel.item[i].guid.height.mediaNS::content.@url);
        loadPhotos();
        trace(urls.length);
        trace(urls[1]);

    }
    public function loadPhotos():void{
        var ldr:Loader = new Loader();
        var req:URLRequest=new URLRequest(urls[1]);
        ldr.load(req);
        trace("image loaded");
        addChild(ldr);
        ldr.width=200;
        ldr.height=200;

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:14:21.657

您需要在完成加载*后调整图像大小。*目前，您正在尝试调整尚未加载的图像大小（并且宽度/高度为 0,0）。

`Event.COMPLETE`可以帮助你解决这个问题，示例：

```
var request:URLRequest = new URLRequest("http://www.gravatar.com/avatar/e6420234b202a900e8d57d4e714aa184?s=128&d=identicon&r=PG");
var loader:Loader = new Loader();

loader.load(request);
loader.contentLoaderInfo.addEventListener(Event.COMPLETE, resizeImage);

function resizeImage(e:Event):void
{
    loader.width = 500;
    loader.height = 400;

    addChild(loader);
} 
```

# python - Django 网站，基本的 2d python 游戏

> ID：12470633
> 
> 赞同：11
> 
> 时间：2012-09-18T04:59:49.173
> 
> 标签：python, django, web-applications

我对 Web 开发和 Django 还很陌生，所以请多多包涵。我打算在 Django 中创建一个相当简单的网站，我可以管理这部分。

然后我希望在其中构建一些基本的 2d 游戏，我非常感谢您可以轻松地在 flash 中或作为 java web 应用程序管理它，但我希望在 python 中实现它们。我已经做了一些研究，但我一无所获，有没有一种简单的方法来创建可以轻松与 django 集成的 2d python web 游戏？

我希望用 Python 构建这些游戏，以便用户可以为游戏编写自己的个人 AI，再次使用 Python，并相互竞争。作为一个竞赛/学习练习。

在此先感谢，如果这是一个愚蠢的问题，我们深表歉意。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T05:45:49.233

由于浏览器（除[Grail](http://grail.sourceforge.net/)之外的所有浏览器）不运行 python 代码，因此在 python 中构建您想要的游戏相当困难。从理论上讲，您可以将一些客户端 Javascript 与一些在服务器端运行的 python 代码混合在一起，但这不是一个非常好的主意，因为浏览器必须与服务器进行通信以实现“游戏中的每一步”。你也可以让服务器端 python 渲染 html，但这不会是一个很好的游戏。

您可以尝试为 Grail 用户创建一个游戏网站，但我想没有很多 :)

**更严重的是：**

你也可以看看[pyjs](http://pyjs.org/)。甚至还有一个游戏[示例](http://pyjs.org/examples/Space.html)。[你可以在这里](http://rumsey.org/blog/2009/11/i-made-asteroids/)找到小行星游戏的源代码。我可以想象 pyjs 几乎是你让它工作所需要的一切。

之前有人问过你[类似的问题，你应该检查答案。](https://stackoverflow.com/questions/2899907/can-i-use-python-to-create-flash-like-browser-games)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T06:10:29.307

我认为这篇文章就是你要找的：[如何构建一个可以玩网页游戏的 Python 机器人](http://active.tutsplus.com/tutorials/workflow/how-to-build-a-python-bot-that-can-play-web-games/)。但如果不是，请尝试实现 pygame - 它是用 python 制作 2d 游戏的最流行的库。如果可以，请搜索并下载：“使用 Python 和 Pygame 制作游戏”。

但就像上面的答案一样，我相信在 Web 中构建和实现 2d 游戏的最简单方法是在客户端使用带有 javascript 的 html5 画布。《HTML5 Canvas Core》是开始学习它的最佳书籍。我希望这对你有帮助。祝你好运。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T05:02:04.917

游戏很可能必须在客户端运行。你应该看看 Javascript 和 AJAX。

# database - 在休眠查询语言中加入两个具有多对一关系的表

> ID：12470637
> 
> 赞同：0
> 
> 时间：2012-09-18T05:01:08.350
> 
> 标签：database, hibernate, join, hibernate-mapping

我有两个域对象，如下所示

用户.java

```
Public class User{

     private int userId;

     private String emailId;  

    private Product product; 

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "PRODUCT_ID")
    public Product getProduct() {
        return this.product;
    } 
} 
```

产品.java

```
public class Product{

    @Id
    @GeneratedValue 
    @Column(name = "PRODUCT_ID", unique = true, nullable = false)
    private productid;
} 
```

在这种情况下，用户到产品具有多对一关系。多个用户可以订阅同一个产品。我想使用 productId 查询 User 表中的用户电子邮件 ID，productId 是 Product 表中的主键和外键通过加入这两个表的用户表..如何通过加入这两个表来使用休眠查询语言或条件来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:35:43.873

在 hql 中，您不需要像在 sql 中那样使用“on”关键字定义连接列。您已经在映射中定义了连接键，因此 hibernate 将根据它们进行连接。

因此，在您的情况下，从用户 u 中选择 u.emailid，其中 u.product.productid = 您的产品 ID。

For more read on [hql](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html) and you also should read about named queries

# iphone - 使用 IOS 保存 Plist 以外的其他类型

> ID：12470638
> 
> 赞同：0
> 
> 时间：2012-09-18T05:01:09.363
> 
> 标签：iphone, objective-c, ios, nsmutablearray, plist

这就是我实际保存可变数组的方式。

```
[myMutableArray writeToFile:@"/Users/myUserIdentifier/Desktop/results.plist" atomically:YES]; 
```

该数组基本上包含许多单词，我希望 Windows 用户能够阅读它们，并且我需要它们为每个单词返回一个新行。

我尝试在每个单词的末尾添加标签，然后将文件保存在 .html 中：

```
[myMutableArray writeToFile:@"/Users/myUserIdentifier/Desktop/results.html" atomically:YES]; 
```

实际上该文件是可读的，但太糟糕了，标签的格式如下：

```
 &lt;br&gt; 
```

因此 Chrome 不将其理解为“换行”。

好吧，解释得很混乱，希望我能找到一个头脑混乱的灵魂伴侣来理解所有这些东西！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T06:28:55.933

您尝试将 NSMutableArray 保存为数组，然后读取但均无效：

```
 - (void)saveState
{
NSString *filePath = [[NSBundle mainBundle] pathForResource:@\"Layers\" ofType:@\"plist\"];  
NSMutableDictionary* layersDict = [[NSMutableDictionary alloc] initWithContentsOfFile:filePath];

[layersDict setValue:layers forKey:@\"Layers\"];
[layersDict writeToFile:filePath atomically: YES];
}

- (void)loadLastState;
{
NSString *filePath = [[NSBundle mainBundle] pathForResource:@\"Layers\" ofType:@\"plist\"];
NSMutableDictionary* layersDict = [[NSMutableDictionary alloc] initWithContentsOfFile:filePath];

NSArray *layersArray = [layersDict objectForKey:@\"Layers\"];

NSMutableArray *layersMutable = [[NSMutableArray alloc] initWithArray:layersArray];

[self recoverFromLayers:layersMutable];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T06:34:51.730

嗯不是真的。一切正常。我只是想格式化我的结果，以便在启动保存的文件时让 Windows 用户更清楚一些。到目前为止，html 是最好的。但我被那些标签困住了。也许还有另一种简单的方法来获取一个文本文件，其中每个单词都进入下一行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T11:05:38.360

您只想将包含字符串的数组写入文件？那时不需要什么花哨的东西。例如：

```
#import <Foundation/Foundation.h>

int main(int argc, char *argv[]) {
    NSAutoreleasePool *p = [[NSAutoreleasePool alloc] init];
    NSMutableArray *words = [NSMutableArray arrayWithObjects:@"fluffy",@"furball",@"scratcher",nil];
    FILE *filePointer = fopen("/Volumes/Weinberg/Users/alan/Desktop/cats.txt","w");
    [words enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {
        fprintf(filePointer,"%s\n",[obj UTF8String]);
    }];
    fclose(filePointer);
    [p release];
} 
```

# javascript - jQuery - 如何在 IE 和 Firefox 中将值推送到全局数组中？

> ID：12470639
> 
> 赞同：1
> 
> 时间：2012-09-18T05:01:19.897
> 
> 标签：javascript, jquery, internet-explorer, firefox

**编辑：**至少部分问题是因为`history`已经存在（我不知道）。谢谢大家。

**原来的：**

我有一个函数将 an 的值推送到一个名为然后清除输入`<input>`的初始空全局数组中。`history`

推送值的代码在 Chrome 21 和 Opera 12 中运行良好，但在 IE9 和 Firefox 15 中却不行。

我一直在研究这个，发现如果数组是本地的（在 pr() 而不是 $(document).ready as 中创建`var history = []`），它工作得很好。我还尝试在文件顶部的所有内容之外声明它。

IE错误：`SCRIPT438: Object doesn't support property or method 'push'`

FF 错误：`TypeError: history.push is not a function`

如何将值推送到 IE 和 Firefox 中的空全局数组？

这是我的代码：

```
<input type="text" id="command" /> 
```

然后在我的 JS 文件中：

```
$(document).ready(function() {
    history = []; // no var because that makes it global, right?
)};

$(document).keypress(function(e) {  
    if(e.which == 13) { // if enter     
        e.preventDefault();

        if($("#command").val() !== "") {
            pr();
        }
    }
});

function pr() {
    var text = $("#command").val();

    text = text.replace(/<(?:.|\n)*?>/gm, "");    // these two are supposed to
    text = text.replace(/[<>]/gi, "");            // sanitize the input

    history.push(text); // this where it gets hairy
    alert(history); // doesn't display anything in IE/FF because .push failed

    // do a bunch of other stuff that isn't relevant
} 
```

先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:03:45.643

您必须在 $(document).ready() 之外声明 var 并且还请注意，历史记录已经是浏览器中的全局变量。

```
// I changed the variable name. from history to historyVar
var historyVar = []; // this makes it global

$(document).ready(function() {
    // FIX: declaring it here will not make it global to your js.
    // history = []; // no var because that makes it global, right?
}); // **NOTE: was not properly closed, I added some ); to do the fix**

$(document).keypress(function(e) {  
    if(e.which == 13) { // if enter     
        e.preventDefault();

        if($("#command").val() !== "") {
            pr();
        }
    }
});

function pr() {
    var text = $("#command").val();

    text = text.replace(/<(?:.|\n)*?>/gm, "");    // these two are supposed to
    text = text.replace(/[<>]/gi, "");            // sanitize the input

    historyVar.push(text);

    // do a bunch of other stuff that isn't relevant
} 
```

# iphone - 如何在 prepareForSegue 之前进行内部修饰

> ID：12470641
> 
> 赞同：2
> 
> 时间：2012-09-18T05:01:30.920
> 
> 标签：iphone, objective-c

我正在使用自定义`UITableViewCell`，并且此单元格包含圆形矩形。这个圆形矩形绑定到内部的动作修饰，并且相同的按钮用于对另一个视图执行 segue。

先调用 prepareForSegue，然后调用 touch up inside 方法。

有什么办法可以扭转这种局面吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:57:21.353

您显然已经将您的 segue 从按钮链接到下一个视图控制器。删除它并创建一个新的 segue，但从视图控制器到视图控制器（从黄色视图控制器图标开始）并为其命名。

现在 segue 不会自动调用。您使用此代码自己调用它 `[self performSegueWithIdentifier:@"segue identifier" sender:self];`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:20:27.450

从 StoryBoard 中删除 segue。

＆在您的按钮操作中编写此代码。

```
UIStoryboard *storyBoard = [UIStoryboard storyboardWithName:@"MainStoryboard" bundle:nil];
UIViewController *vc = [storyBoard instantiateViewControllerWithIdentifier:@"viewId"];
[self.navigationController pushViewController:vc animated:YES]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T07:23:51.023

您可以在内部调用一种方法进行修饰，
为您确切想要做的事情编写代码，
然后您可以通过使用以下代码调用您的视图控制器来执行 segue 操作
`[self performSegueWithIdentifier:@"your segue identifier" sender:self];`
希望这会有所帮助。

# c# - 在 C# 中将字符串转换为 long 以进行内存编辑

> ID：12470643
> 
> 赞同：0
> 
> 时间：2012-09-18T05:01:37.957
> 
> 标签：c#, process, long-integer, memory-editing

从[这个问题](https://stackoverflow.com/questions/4623029/how-can-i-write-on-another-process-memory)开始，我需要将一些内存值设置为字符串，而不是 long。我在使用作弊引擎时注意到，如果我通过浏览内存区域将地址的值设置为字符串，则会出现一个整数值，例如“6513249”为“abc”。

我将如何将字符串转换为这种形式，以用作长字符串？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:05:52.057

[使用Encoding.GetBytes](http://msdn.microsoft.com/en-us/library/ds4kkd55.aspx)将字符串转换为具有正确编码的字节数组，而不是直接写入字节，毕竟您可能不需要转换为 long。

如果您必须转换为长整数 - 请确保您了解[字节序](http://en.wikipedia.org/wiki/Endianness)以知道应该首先使用哪些字节，再次计算编码并将字符（可能包括代理对）转换为使用 Encoding.GetBytes 的字节数组并组合每 8 个长值通过对字节使用移位运算符 (`>>`和`<<`) 来计算字节。在 MemeoryStream 中包装生成的字节数组可能比[BinaryReader](http://msdn.microsoft.com/en-us/library/system.io.binaryreader.readuint64.aspx)和读取长值更容易。

# jquery - 向下滚动 1000px 后更改 CSS 类

> ID：12470645
> 
> 赞同：5
> 
> 时间：2012-09-18T05:01:44.820
> 
> 标签：jquery, css, scroll, fixed

一旦用户向下滚动 1000 像素，我希望在我的网站的左栏中出现一个固定菜单，但我对 jQuery/JS 不是很有经验。我认为这样的事情会起作用，但它没有做任何事情：

HTML：

```
<div id="menu">[MENU_WILL_GO_HERE]</div> 
```

风格：

```
#menu{display:none;}​ 
```

JQ:

```
var fixed = false;
 ​$(document).scroll(function() {
    if( $(this).scrollTop() > 100 ) {
        if( !fixed ) {
           fixed = true;
           $('#menu').css({position:'fixed', display:'block'});
        }
        } else {
           if( fixed ) {
               fixed = false;
               $('#menu').css({display:'none'});
        } 
    } 
});​ 
```

问：

有没有理由这不起作用？[该代码是http://jsfiddle.net/roXon/psvn9/1/](http://jsfiddle.net/roXon/psvn9/1/)上的一个示例，即使我将该示例完全复制/粘贴到空白 html 页面中，并带有最新 jquery 库的链接，它仍然不能像在那个 jsfiddle 页面上那样工作。我可以忽略什么？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-18T05:07:02.930

您的示例中的大括号是错误的，但无论如何，您都可以简化代码：

**CSS**：

```
#menu {
    display : none;
    position : fixed;
} 
```

**JS**：

```
 $(document).scroll(function() {
    $('#menu').toggle($(this).scrollTop()>1000)
 });​ 
```

**演示**：http: [//jsfiddle.net/elclanrs/h3qyV/1/](http://jsfiddle.net/elclanrs/h3qyV/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:10:48.357

像这样编辑

```
if( $(this).scrollTop() > 1000 ) 
```

您正在寻找 1000px 滚动，但由于这个原因，它显示为 100px，来自您的代码

# iphone - 图像在 iPhone 3GS 上不清晰

> ID：12470650
> 
> 赞同：0
> 
> 时间：2012-09-18T05:02:20.817
> 
> 标签：iphone, objective-c, ios

我有一张图像（512 x 512 像素 299.98 像素/英寸）。我用来在按钮中显示图像的代码是

```
UIImage *cameraImage = [UIImage imageNamed:@"image.png"];
[cameraButton setImage:cameraImage forState:UIControlStateNormal];
if(IS_IPAD)
    cameraButton.frame = CGRectMake(self.view.frame.size.width*0.04,self.view.frame.size.height*0.75,cameraImage.size.width*0.5,cameraImage.size.height*0.5);
else
    cameraButton.frame = CGRectMake(self.view.frame.size.width*0.04,self.view.frame.size.height*0.75,cameraImage.size.width*0.25,cameraImage.size.width*0.25); 
```

现在图像在 iPad（Retina 和普通）、iPhone Retina 上显示效果很好。但图像在 iPhone 3GS 上显示非常笨拙。看看附上的截图。

请帮我找出问题所在。

![截屏](../Images/9f20f285d4ea02294985726db0cd9185.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T05:50:25.430

这是由 iOS 的图形框架的行为引起的——它们会插入图像，这会导致质量下降。您需要生成一个较小的图像（原始图像分辨率的一半）并将其包含在您的项目中。

# iphone - [self.window addSubview:[_viewController view]]; 在较低版本的 iphone 中向上移动视图

> ID：12470651
> 
> 赞同：0
> 
> 时间：2012-09-18T05:02:22.200
> 
> 标签：iphone, objective-c, ios, xcode, ios3.0

我正在开发一个通用应用程序。我正在使用

`self.window.rootViewController = self.SecondViewController`

在`AppDelegate`方法中加载 viewcontroller 类。这行代码适用于 ios 版本 4 及更高版本，但是当我在我的 ios 3.1.3 上运行它时它崩溃了。

因此，我用它替换了该代码，`[self.window addSubview:[SecondViewController view]]`它工作正常，但最初在我们第一次加载应用程序时视图会向上移动（如屏幕截图所示）。

所以请帮我解决这个问题谢谢![在此处输入图像描述](../Images/0df713b115e89da60deadfc9364d4352.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T05:40:07.003

该`rootViewController`属性是在 iOS 4.0 中引入的，这就是在 iOS 3.1.3 中崩溃的原因。

如果您使用`[self.window addSubview:[SecondViewController view]]`，则可能会发生视图控制器视图未针对状态栏进行调整的情况。请参阅[UIWindow addSubview](https://stackoverflow.com/questions/2247647/offset-on-uiwindow-addsubview)上的 Offset 以获得很好的解释。

解决方案是在您的情况下分配视图的框架

```
self.SecondViewController.view.frame = [UIScreen mainScreen].applicationFrame; 
```

在将其添加为子视图之前。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T06:05:23.863

```
SecondViewController.view.frame = CGRectMake(0, 20, 320, 460);
[self.window addSubview:[SecondViewController view]] 
```

# uiscrollview - MonoTouch UIScrollView 不以动态 UILabel 高度滚动

> ID：12470653
> 
> 赞同：0
> 
> 时间：2012-09-18T05:02:45.473
> 
> 标签：uiscrollview, xamarin.ios, height, uilabel

我有一个 UILabel（名为 contentLbl），它会在 UIScrollView 中动态变化。上面是另一个 UILabel（名为 contentTitleLbl），它是一个标题，不包含动态内容。要成功滚动，我知道我必须至少将 UIScrollView 的 ContentSize 设置为内容视图的。我还看到应该设置框架。我都试过了，但它仍然不滚动。

在我的示例代码中，contentView 包含 contentLbl 和 contentTitleLbl。scrollView 是对我当前尝试使用的 UIScrollView 的引用。

这是我当前的代码：

```
public override void ViewDidLoad ()
{
    base.ViewDidLoad ();
    //contentLbl is to have dynamic text, and currently stores a large lorem ipsum paragraph
    //contentTitleLbl is the title and is not dynamic
    this.contentLbl.SizeToFit();
    this.scrollView.ContentSize = new SizeF(this.contentView.Frame.Width, this.contentLbl.Frame.Size.Height + this.contentTitleLbl.Frame.Size.Height);
    this.scrollView.Frame = new RectangleF(this.scrollView.Frame.X, this.scrollView.Frame.Y, this.scrollView.ContentSize.Width, this.scrollView.ContentSize.Height);
    this.scrollView.AddSubview(this.contentView);
} 
```

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T23:23:47.813

快速提问：您是否打算让标题与您的文本一起滚动？在这个解决方案中，我已经这样做了，因为这是我的解释。如果您愿意，我会调整它，以使标题不滚动。我通过在 XCode 中创建此层次结构重新创建了您的示例

*   UIView（视图控制器的主视图）
    *   界面视图（内容视图）
        *   UILabel (contentTitleLbl)
            *   帧 = (20,15,160,21)
        *   UILabel (contentLbl)
            *   行数 = 100
            *   帧 = (20,43,160,190)
            *   Text = "Lorem ipsum..."（长段）
    *   UIScrollView（滚动视图）
        *   帧 = (20,20,140,​​140)

我将所有项目的背景颜色设置为不同的值，以便我可以看到所有组件的尺寸。

首先，我需要确保标签的所有自动调整大小都已关闭。您可以在 XCode 中或以编程方式执行此操作：

```
contentLbl.AutoresizingMask = UIViewAutoresizing.None;
contentTitleLbl.AutoresizingMask = UIViewAutoresizing.None; 
```

我更喜欢将via XCode 放在`contentView`里面`scrollView`，但看起来你将它们作为兄弟姐妹放在 main 下`View`。所以我们将`contentView`其重新放置在`scrollView`

```
scrollView.AddSubview( contentView ); 
```

然后使标题与 的宽度相同`scrollView`，将其定位在原点并保持 XCode 中设计的高度

```
var f = contentTitleLbl.Frame;
f.X = 0;
f.Y = 0;
f.Width = scrollView.Frame.Width;
contentTitleLbl.Frame = f; 
```

然后是第一个主要问题：调整 a 的大小`UILabel`以动态适应您的内容。`SizeToFit`将标签调整为单行文本（或至少为我做了）。您真正想要的是在 MonoTouch`NSString.sizeWithFont`中[显示为 UIView.StringSize](https://stackoverflow.com/questions/1449804/sizewithfont-with-monotouch)。请小心，因为其中一些会返回单行文本的大小。在这里，我将宽度限制为滚动视图的宽度，但使用`float.MaxValue`.

```
SizeF sz = this.View.StringSize(
    contentLbl.Text,
    contentLbl.Font,
    new SizeF( scrollView.Frame.Width, float.MaxValue),
    UILineBreakMode.WordWrap ); 
```

然后调整标签的大小并将其放置在标题下方：

```
f = contentLbl.Frame;
f.X = 0;
f.Y = contentTitleLbl.Frame.Bottom; // nudge the contentLbl right up against the title
f.Width = sz.Width;    // size matches the measured values from above
f.Height = sz.Height;
contentLbl.Frame = f; 
```

然后调整大小`contentView`以容纳标题和内容。此视图将放置在滚动视图的原点。大小由上面的代码动态确定。我在底部添加了一个小边距，因此我可以看出整个内容已被渲染

```
f = contentView.Frame;
f.X = 0;
f.Y = 0;
f.Width = scrollView.Frame.Width;
f.Height = contentLbl.Frame.Bottom + 20;
contentView.Frame = f; 
```

然后将`ContentSize`滚动视图的大小设置为 contentView 的大小。如果大小 *大于滚动视图的大小（* [Lorem Ipsum](http://www.lipsum.com/)文本应该是这种情况），您将获得滚动。

```
scrollView.ContentSize = contentView.Frame.Size; 
```

干杯。

[编辑：修复了“宽度”与“高度”的错字]

**[编辑：最简单的滚动视图]**

这是我能想到的最简单的滚动视图。在红色区域上下拖动应显示滚动条。当你到达底部时，滚动视图的绿色背景应该会显示出来。

```
var v =  new UIView( new RectangleF(0,0,200,1000));
v.BackgroundColor = UIColor.Red;

var sv = new UIScrollView( new RectangleF(20,20,200,300));
sv.BackgroundColor = UIColor.Green;
sv.ContentSize = v.Frame.Size;

View.AddSubview(sv);
sv.AddSubview(v); 
```

**[编辑：更简单的滚动视图]** 我在 XCode 中创建了一个滚动视图，并简单地将背景颜色和内容大小设置为大于滚动视图的大小。在蓝色滚动视图上拖动时，应该会出现滚动条。

```
designerScrollView.BackgroundColor = UIColor.Blue;
designerScrollView.ContentSize = new SizeF(1000,1000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-10T18:19:46.410

只需添加此方法扩展。完成添加子视图后调用它。此方法将计算新的内容高度并分配给滚动视图。

```
public static void RecalculateContentSize (this UIScrollView scrollView)
        {
            float sizeOfContent = 0;
            float height = 0;
            for (int i = 0; i < scrollView.Subviews.Length; i++) {
                UIView view = scrollView.Subviews [i];
                height = view.Frame.Location.Y + view.Frame.Size.Height;
                if (height > sizeOfContent)
                    sizeOfContent = height;
            }

            // Set content size for scroll view
            scrollView.ContentSize = new System.Drawing.SizeF (scrollView.Frame.Size.Width, sizeOfContent);
        } 
```

# java - Java - 同一视图上的两个不同 @ModelAttribute 占用相同的值

> ID：12470656
> 
> 赞同：0
> 
> 时间：2012-09-18T05:03:12.090
> 
> 标签：java, spring, jsp, modelattribute

这可能是某个地方的一个非常简单的错误。请帮忙。我有一个带有两个`<form:form>`标签的 home.jsp 页面：

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<%@ taglib uri="/META-INF/c.tld" prefix="c"%>
<%@ taglib uri="/META-INF/fmt.tld" prefix="fmt"%>
<%@ taglib uri="/META-INF/spring-form.tld" prefix="form"%>

<html>

<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">

<head>
    <title>Home Page</title>
</head>

<body>

<div>
    <form:form name="loginForm" modelAttribute="loginUser" action="login" method="post">

        <c:if test="${loginMsg != null}"><c:out value="${loginMsg}"></c:out></c:if>
        <br/>

        Email: <form:input name="loginEmail" id="loginEmail" value=""   path="email"/>
        <form:errors path="email" cssClass="error" />
        <br/>

        password: <form:password name="loginPassword" Id="loginPassword" value="" path="password" />
        <form:errors path="password" />
        <br/>

        <input type="submit" id="id_login" value="Login">

    </form:form>
</div>

<div>
    <form:form name="SignUpForm" modelAttribute="signUpUser" action="signup" method="post">

        <c:if test="${signupMsg != null}"><c:out value="${signupMsg}"></c:out></c:if>   
        <br/>

        Full Name: <form:input name="name" id="name" value=""   path="name"/>
        <form:errors path="name" cssClass="error" />
        <br/>

        Email: <form:input name="signupEmail" id="signupEmail" value="" path="email"/>
        <form:errors path="email" cssClass="error" />
        <br/>

        password: <form:password name="signUpPassword" Id="signUpPassword" value="" path="password" />
        <form:errors path="password" />
        <br/>

        <input type="submit" id="id_signUp" value="Sign Up">

    </form:form>
</div>

</body>

</html> 
```

每个表单都由不同的控制器处理。问题是，当我（仅）填写其中一个表单并单击提交按钮时，两个`ModelAttribute`s 都填充了相同的值

我的控制器没有什么特别之处：

```
@RequestMapping("/login")
public String login(@ModelAttribute("loginUser") User user,
        BindingResult result, @ModelAttribute("signUpUser") User signUpUser,
        BindingResult signUpResult, ModelMap model, HttpServletRequest request,
        HttpServletResponse response) {

    // Here, both user and signUpUser have the same value (WHY?)
    // But I dint fill the sign up form at all

    loginFormValidator.validate(user, result);

    if(Errors in `result`)
        return "forward:/home";

    // Authentication Logic
    request.getSession().setAttribute("s_user_obj", some_variable);
    return "forward:/home";

} 
```

**更新：**

这是生成的 HTML。行动前`login`：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>

<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">

<head>
    <title>Welcome to m0m0</title>
</head>

<body>

<div>
    <form id="loginUser" name="loginForm" action="login" method="post">

        <br/>                           
        Email: <input id="loginEmail" name="email" name="loginEmail" type="text" value=""/>

        <br/>
        password: <input id="password" name="password" name="loginPassword" Id="loginPassword" type="password" value=""/>

        <br/>
        <input type="submit" id="id_login" value="Login">

    </form>
</div>

<div>
    <form id="signUpUser" name="SignUpForm" action="signup" method="post">

        <br/>
        Full Name: <input id="name" name="name" name="name" type="text" value=""/>

        <br/>                   
        Email: <input id="signupEmail" name="email" name="signupEmail" type="text" value=""/>

        <br/>
        password: <input id="password" name="password" name="signUpPassword" Id="signUpPassword" type="password" value=""/>

        <br/>
        <input type="submit" id="id_signUp" value="Sign Up">

    </form>
</div>

</body>

</html> 
```

行动后`login`：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>

<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">

<head>
    <title>Welcome to m0m0</title>
</head>

<body>

<div>
    <form id="loginUser" name="loginForm" action="login" method="post">

        <br/>                           
        Email: <input id="loginEmail" name="email" name="loginEmail" type="text" value="a@b.com"/>

        <br/>
        password: <input id="password" name="password" name="loginPassword" Id="loginPassword" type="password" value=""/>

        <br/>
        <input type="submit" id="id_login" value="Login">

    </form>
</div>

<div>
    <form id="signUpUser" name="SignUpForm" action="signup" method="post">

        <br/>
        Full Name: <input id="name" name="name" name="name" type="text" value=""/>

        <br/>                   
        Email: <input id="signupEmail" name="email" name="signupEmail" type="text" value="a@b.com"/>

        <br/>
        password: <input id="password" name="password" name="signUpPassword" Id="signUpPassword" type="password" value=""/>

        <br/>
        <input type="submit" id="id_signUp" value="Sign Up">

    </form>
</div>

</body>

</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:24:16.553

spring 将参数绑定到两个模型，因为它不考虑绑定模型名称（顺便说一句。请求中没有关于模型名称的信息）

> 每个表单都由不同的控制器处理。

但是这种方法可以同时处理吗？

```
@RequestMapping("/login")
public String login(@ModelAttribute("loginUser") User user,
    BindingResult result, @ModelAttribute("signUpUser") User signUpUser,
    BindingResult signUpResult, ModelMap model, HttpServletRequest request,
    HttpServletResponse response) {

// Here, both user and signUpUser have the same value (WHY?)
// But I dint fill the sign up form at all

loginFormValidator.validate(user, result);

if(Errors in `result`)
    return "forward:/home";

// Authentication Logic
request.getSession().setAttribute("s_user_obj", some_variable);
return "forward:/home"; 
```

}

编辑：

```
public class Form {
    private User loginUser;
    private User signupUser;
    .....
} 
```

那么您可以执行以下操作

```
<form:input path="loginUser.name" /> 
```

和

```
<form:input path="signupUser.name" /> 
```

在这种情况下，您将只有 1 个模型属性，而不是 2 个

# python - 如何在文件中写入 YAML 格式的数据？

> ID：12470665
> 
> 赞同：159
> 
> 时间：2012-09-18T05:04:54.537
> 
> 标签：python, formatting, yaml, pyyaml

我需要使用 Python 将以下数据写入 yaml 文件：

```
{A:a, B:{C:c, D:d, E:e}} 
```

即，字典中的字典。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：239
> 
> 时间：2012-09-18T06:09:04.583

```
import yaml

data = dict(
    A = 'a',
    B = dict(
        C = 'c',
        D = 'd',
        E = 'e',
    )
)

with open('data.yml', 'w') as outfile:
    yaml.dump(data, outfile, default_flow_style=False) 
```

该`default_flow_style=False`参数是生成您想要的格式（流样式）所必需的，否则对于嵌套集合，它会生成块样式：

```
A: a
B: {C: c, D: d, E: e} 
```

* * *

## 回答 #2

> 赞同：91
> 
> 时间：2013-08-13T13:41:25.873

[链接](http://pyyaml.org/wiki/PyYAMLDocumentation#FrequentlyAskedQuestions)到显示参数差异的 PyYAML 文档`default_flow_style`。以块模式将其写入文件（通常更具可读性）：

```
d = {'A':'a', 'B':{'C':'c', 'D':'d', 'E':'e'}}
with open('result.yml', 'w') as yaml_file:
    yaml.dump(d, yaml_file, default_flow_style=False) 
```

产生：

```
A: a
B:
  C: c
  D: d
  E: e 
```

# c# - C# 将工具提示设置为或一个

> ID：12470667
> 
> 赞同：8
> 
> 时间：2012-09-18T05:05:03.203
> 
> 标签：c#, asp.net

从 C# ASP.NET 站点的代码后面将工具提示添加到标签或文字的最佳方法是什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-18T05:07:38.113

使用[WebControl.ToolTip 属性](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.webcontrol.tooltip.aspx)在标签控件上设置工具提示。

```
Label1.ToolTip = "Your text as tooltip"; 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-09-18T05:27:22.103

我建议不要使用 WebControls，而是提倡使用 HtmlControls，因为它们可以更直接地表示生成的输出 HTML。

请注意`asp:Literal`，尽管它位于`WebControls`命名空间中，但它不是 WebControl，因此它缺少许多基于表单的属性，例如`ToolTip`.

`ToolTip`属性实际上是 HTML 属性的前端，`title=""`可以应用于任何可见元素。如果您正在使用`Literal`，那么只需确保`title="tip text goes here"`您的标记中有该属性。

如果您使用的是 HtmlControls，那么您可以使用该`Attributes`集合，如下所示：

```
HtmlControl div = new HtmlGenericControl("div");
div.Attributes["title"] = "tooltip text here"; 
```

# opencl - 移动英特尔(R) 965 Express 芯片组系列上的 OpenCL

> ID：12470670
> 
> 赞同：0
> 
> 时间：2012-09-18T05:05:18.063
> 
> 标签：opencl, gpu, intel

我有一个 Mobile Intel(R) 965 Express 芯片组系列作为我在 Dell Inspiron 上的显卡。

我想使用它在 GPU 上运行 OpenCL 程序。这个显卡支持吗？我在网上看了很多，但我仍然没有得出结论。

如果没有，除了更换我的电脑之外，还有其他解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T15:00:04.763

您将无法在 965 芯片组的 GPU 上运行 OpenCL。此处有一个适用于 OpenCL 应用程序的英特尔 SDK 的硬件支持矩阵：http: [//software.intel.com/en-us/articles/opencl-sdk-frequently-asked-questions](http://software.intel.com/en-us/articles/opencl-sdk-frequently-asked-questions)。

# javascript - 如何在 MVC App 中自动滚动屏幕？

> ID：12470675
> 
> 赞同：0
> 
> 时间：2012-09-18T05:05:56.403
> 
> 标签：javascript, asp.net-mvc-3

我正在开发 MVC3 应用程序并使用剃刀语法。

在这个应用程序中，我提供评论功能。

应该填写表格或阅读表格的用户也可以在该表格/信息上发表评论。

它的样子是这样的……

![在此处输入图像描述](../Images/a7ae8a2dfb8ae72fe80c726d5cd38831.png)

（红线显示评论框，蓝线显示屏幕结束。）

现在的问题是，当用户单击评论按钮时，评论框被打开，但用户只能看到该框的一半，因此用户必须滚动才能看到完整。

所以，我想写一些代码，所以当用户点击“评论”链接时，屏幕应该会自动滚动到评论框视图。

怎么做 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:17:50.600

请使用`window.location = "#writeYourCommentBox"`和`$("#writeYourCommentBox").focus()`

请参阅此网站以获取更多信息和示例[http://www.ezineasp.net/post/Javascript-Location-Hash-with-Example.aspx](http://www.ezineasp.net/post/Javascript-Location-Hash-with-Example.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:10:44.887

你可以在点击评论链接后使用滚动顶部属性这将允许评论框显示在前面你也可以使用顶部属性

# perl - 下面的代码有什么问题吗？

> ID：12470676
> 
> 赞同：1
> 
> 时间：2012-09-18T05:06:01.817
> 
> 标签：perl

我正在尝试使用单个查询将多个值插入到同一字段中。下面的代码有错误吗？

```
my $dbh =  DBI->connect("DBI:mysql:accounting:localhost", 'username', 'password',
      {RaiseError => 1});
my @id = [1,18,976,90];
my @name = ['ss','dc','ws','rd'];
my @data = ([@id],[@name]);
my $ab = $dbh->prepare("insert into table (id,name) values (?,?)";);
for my $datam (@data) {
  $ab->execute(@$datam);
}
$ab->finish(); 
```

我收到以下错误：`DBI::st=HASH(0*a16f774)`对于准备语句。这可能是什么原因造成的？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T05:15:38.213

由于您实际上没有给出错误，因此无法真正回答您的问题，但我发现您的代码存在问题。你正在做的

```
$ab->execute([1,18,976,90]);
$ab->execute(['ss','dc','ws','rd']); 
```

当你明显想做的时候

```
$ab->execute(  1, 'ss');
$ab->execute( 18, 'dc');
$ab->execute(976, 'ws');
$ab->execute( 90, 'rd'); 
```

使固定：

```
my @id = (1,18,976,90);
my @name = ('ss','dc','ws','rd');

for my $i (0..$#id) {
   $ab->execute($id[$i], $name[$i]);
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T05:18:16.027

我注意到你的结构：

```
my @id = [1, 18, 976, 90]; 
```

是具有一个元素的数组，即数组引用。您可以按模块检查变量的结构`Data::Dumper`。所以你只需要简单的数组：

```
my @id = (1, 18, 976, 90); 
```

**使用数据::Dumper**

```
use Data::Dumper;
print Dumper( \@id );

$VAR1 = [
      [
        1,
        18,
        976,
        90
      ]
    ]; 
```

**解决方案**

```
use List::MoreUtils qw(each_array);

my @id   = (1, 18, 976, 90);
my @name = ('ss', 'dc', 'ws', 'rd');

my $data = each_array(@id, @name);

...
while (my ($id, $name) = $data->()) {

    $ab->execute($id, $name);
} 
```

# mysql - WHERE (option1 || option2 || ...) LIKE '%key%'

> ID：12470679
> 
> 赞同：-4
> 
> 时间：2012-09-18T05:06:14.013
> 
> 标签：mysql, sql, syntax

我想使用 LIKE 进行查询。

我不知道什么是正确的语法

```
WHERE ( (option1 || option2 || option3) LIKE '%key%' ) AND field = 'option4') 
```

谁能帮我解决这个问题？

我需要查询 WHERE option1 or option2 or option3 are LIKE with key

在那个 LIKE 条件之后，我需要另一个 WHERE which field = option4

注意：option1,2,3... 是字段

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T05:08:33.600

你需要这样的东西：

```
where (option1 like '%key%' or option2 like '%key%' or option3 like '%key%')
  and field = 'option4' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:12:08.483

查看[Manual (Pattern matching)](http://dev.mysql.com/doc/refman/5.0/en/pattern-matching.html)和[Like 运算符](http://dev.mysql.com/doc/refman/5.0/en/string-comparison-functions.html#operator_like) 并查看[这个答案](https://stackoverflow.com/a/12399682/395659)，它一般来说 Like 运算符是如何工作的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-23T02:30:45.107

```
WHERE CONCAT_WS(' ', option1, option2, option3) LIKE '%key%'
  AND field = 'option4' 
```

可以是您喜欢的`' '`任何分隔符，并且可能应该避免任何可能导致错误读数的`key`.

```
INDEX(field) 
```

可能是最好的索引。等上的索引`option1`是无用的。

我`CONCAT`的可能比`OR`建议快一点。

# mysql - 如何在mysql中连接字符串？

> ID：12470680
> 
> 赞同：0
> 
> 时间：2012-09-18T05:06:33.427
> 
> 标签：mysql

我想要的是将静态字符串连接到数据集，我想将字符串作为 min、avg、max 添加到获取的数据中。当我尝试给出一些错误时？

我的查询

```
select m.medTitle, 
min(TIMESTAMPDIFF(SECOND, s.dmtViewStart, s.dmtViewEnd)) playtime
from tbldoctormediatracktest s
left join tblmedia m on s.dmtMedId = m.medId
group by m.medTitle
union all
select m.medTitle, 
avg(TIMESTAMPDIFF(SECOND, s.dmtViewStart, s.dmtViewEnd)) playtime
from tbldoctormediatracktest s
left join tblmedia m on s.dmtMedId = m.medId
group by m.medTitle
union all
select m.medTitle, 
  max(TIMESTAMPDIFF(SECOND, s.dmtViewStart, s.dmtViewEnd)) playtime
from tbldoctormediatracktest s
left join tblmedia m
  on s.dmtMedId = m.medId
group by m.medTitle
order by medTitle,  playtime; 
```

我正在尝试什么。

```
select concat(m.medTitle,'minimum'), 
  min(TIMESTAMPDIFF(SECOND, s.dmtViewStart, s.dmtViewEnd)) playtime
from tbldoctormediatracktest s
left join tblmedia m
  on s.MedId = m.MedId
group by m.medTitle
union all

select concat(m.medTitle,'average'), 
  avg(TIMESTAMPDIFF(SECOND, s.dmtViewStart, s.dmtViewEnd)) playtime
from tbldoctormediatracktest s
left join tblmedia m
  on s.MedId = m.MedId
group by m.medTitle
union all

select concat(m.medTitle,'maximum'),  
  max(TIMESTAMPDIFF(SECOND, s.dmtViewStart, s.dmtViewEnd)) playtime
from tbldoctormediatracktest s
left join tblmedia m
  on s.MedId = m.MedId
group by m.medTitle
order by medTitle,  playtime 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:55:18.177

尝试这个：

```
select playtime,type 
from(
select m.MedId, 
  min(TIMESTAMPDIFF(SECOND, s.dmtViewStart, s.dmtViewEnd)) playtime,
  concat(m.medTitle,' (minimum)') as type
from tbldoctormediatracktest s
left join tblmedia m
  on s.MedId = m.MedId
group by m.MedId
union all

select m.MedId, 
  avg(TIMESTAMPDIFF(SECOND, s.dmtViewStart, s.dmtViewEnd)) playtime,
  concat(m.medTitle,' (average)') as type
from tbldoctormediatracktest s
left join tblmedia m
  on s.MedId = m.MedId
group by m.MedId
union all

select m.MedId,  
  max(TIMESTAMPDIFF(SECOND, s.dmtViewStart, s.dmtViewEnd)) playtime,
  concat(m.medTitle,' (maximum)') as type 
from tbldoctormediatracktest s
left join tblmedia m
  on s.MedId = m.MedId
group by m.MedId)a
order by MedId,  playtime 
```

# [SQL 小提琴 domo 1](http://sqlfiddle.com/#!2/cf37a/29)

# [SQL 小提琴演示 2](http://sqlfiddle.com/#!2/cf37a/30)

# [SQL 小提琴演示 3](http://sqlfiddle.com/#!2/cf37a/31)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:13:40.950

```
select concat(m.medTitle, 'min') medTitle,
  min(TIMESTAMPDIFF(SECOND, s.dmtViewStart, s.dmtViewEnd)) playtime
from tbldoctormediatracktest s
left join tblmedia m
  on s.MedId = m.MedId
group by m.medTitle

union all

select concat(m.medTitle, 'avg') medTitle, 
  avg(TIMESTAMPDIFF(SECOND, s.dmtViewStart, s.dmtViewEnd)) playtime
from tbldoctormediatracktest s
left join tblmedia m
  on s.MedId = m.MedId
group by m.medTitle

union all

select m.medTitle || 'max' medTitle, 
  max(TIMESTAMPDIFF(SECOND, s.dmtViewStart, s.dmtViewEnd)) playtime
from tbldoctormediatracktest s
left join tblmedia m
  on s.MedId = m.MedId
group by m.medTitle
order by medTitle, playtime 
```

从链接更新了您的查询。我注意到您需要在连接后为 m.medTitle 提供别名。

任何一个`concat(m.medTitle, 'min')`或`m.medTitle || 'min'`都可以用于连接。

# ruby-on-rails - 使用 $ rails server 时在终端中获取“无法加载此类文件 - 设计（LoadError）”

> ID：12470681
> 
> 赞同：3
> 
> 时间：2012-09-18T05:06:53.947
> 
> 标签：ruby-on-rails, ruby, devise

我是 Rails新手，在我正在完成`devise`的[教程中遇到了麻烦。](http://railsapps.github.com/tutorial-rails-prelaunch-signup.html)

在尝试测试应用程序（之前运行良好）并启动`$ rails s`时，我得到以下堆栈跟踪：

```
Patricks-MacBook-Air:rails-prelaunch-signup patrickvihtelic$ rails s
/Users/patrickvihtelic/code/rails-prelaunch-signup/config/application.rb:13:in `require': cannot load such file -- devise (LoadError)
    from /Users/patrickvihtelic/code/rails-prelaunch-signup/config/application.rb:13:in `<top (required)>'
    from /Users/patrickvihtelic/.rvm/gems/ruby-1.9.3-p194@rails326/gems/railties-3.2.8/lib/rails/commands.rb:53:in `require'
    from /Users/patrickvihtelic/.rvm/gems/ruby-1.9.3-p194@rails326/gems/railties-3.2.8/lib/rails/commands.rb:53:in `block in <top (required)>'
    from /Users/patrickvihtelic/.rvm/gems/ruby-1.9.3-p194@rails326/gems/railties-3.2.8/lib/rails/commands.rb:50:in `tap'
    from /Users/patrickvihtelic/.rvm/gems/ruby-1.9.3-p194@rails326/gems/railties-3.2.8/lib/rails/commands.rb:50:in `<top (required)>'
    from script/rails:6:in `require'
    from script/rails:6:in `<main>' 
```

任何提示或建议将不胜感激 - 谢谢！

# ruby-on-rails - 我应该如何命名我的车把？

> ID：12470682
> 
> 赞同：1
> 
> 时间：2012-09-18T05:06:54.367
> 
> 标签：ruby-on-rails, ember.js, handlebars.js

在我的 emberjs + ruby​​ on rails 应用程序中，我有一个文件夹，用于保存我的车把。

```
 app/assets/javascript/templates 
```

我想知道命名包含车把的文件的约定是什么？以下是我能想到的几个例子：

*   `my_cool.handlebars`
*   `myCool.handlebars`
*   `my-cool.handlebars`

其中哪一个真的很酷？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T11:04:34.100

最佳会议实践：

**命名你的变量：（如果它是一个类或对象）** CamelCaps

**命名你的变量：（如果它是一个实例）** camelCase

**命名你的文件：** snake_case.extension

**命名您的 CSS 类或 ID：**使用连字符

PS：当然没有这样的规则，但是好的编程习惯

# html - 单击时不会重定向

> ID：12470686
> 
> 赞同：-2
> 
> 时间：2012-09-18T05:07:15.457
> 
> 标签：html, hyperlink

我在脚本中有以下代码：

```
<a href="http://apps.facebook.com/reelreview">Home</a> 
```

当我左键单击链接（单击）时，它不会重定向。当我通过右键单击并选择“在新窗口中打开”转到目标时，它将重定向。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:16:24.217

```
<?php
    echo '<a href="http://apps.facebook.com/reelreview">Home</a>';
?> 
```

上面的代码对我来说工作得很好。我需要登录应用程序页面。请检查您的鼠标设置。希望这可以帮助你。

问候

# php - 在循环中使用 PHP mail()

> ID：12470687
> 
> 赞同：-3
> 
> 时间：2012-09-18T05:07:17.953
> 
> 标签：php, email

这是关于使用 PHP 发送大量电子邮件。我必须发送大约 10000 封电子邮件，并且我在循环中使用 PHP mail() 函数。我的服务器每小时发送 500 封邮件。我想知道 500 之后的电子邮件会发生什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T05:40:20.140

尝试在发送几封邮件并以相同方式发送剩余邮件后给出一些“睡眠时间”......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:41:13.630

你需要问你的主人。

您的主机可能有一些干预脚本，例如 milter-limit (http://www.milter.info/sendmail/milter-limit/)，它有一系列选项：包括拒绝（您可能会收到一条消息），丢弃（无消息）或稍后（临时拒绝）。

我怀疑共享主机稍后会排队。此限制实际上是为了阻止可能入侵您帐户的垃圾邮件发送者 - 为什么他们会在某些自动化系统中将垃圾邮件发送者的电子邮件排队 - 他们想要干预并删除垃圾邮件以保存服务器的声誉？所以我猜是“拒绝”或“丢弃”。

或者，他们可能根本没有任何系统并监控邮件队列 - 如果队列太长，他们会进行调查，找到罪魁祸首并删除他们所有的电子邮件（以及如果重复冒犯的帐户/新帐户）。这就是我的主人所做的。

但只有一个猜测 - 请与您的主机核对。

如果他们没有自动化的东西并且他们确实依靠“删除帐户”选项，我不会冒险。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T05:44:23.210

您的服务器每小时发送 500 封邮件通常意味着您的主机让您在 1 小时间隔内只发送 500 封邮件。

这就是为什么您应该使用发送 500 封邮件而不是停止发送的 cronjob，并且在一小时后再发送 500 封邮件，直到没有要发送的邮件。

在回答您的问题时，这是来自网络托管公司的官方回答：

*在尝试发送邮件时，如果您收到一条错误消息，上面写着“Policy Rejection- Quota Exceeded”，这意味着您已经超过或试图超过该特定帐户的邮件发送限制。此外，如果您尝试发送消息但未使用正确的 FROM 地址，系统也会给您此错误并且不会发送您的消息。*

# javascript - 在画布上绘制的图形出现片刻，然后消失

> ID：12470692
> 
> 赞同：1
> 
> 时间：2012-09-18T05:07:40.963
> 
> 标签：javascript, canvas, coffeescript

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T05:46:32.613

**想要更好的答案**

路人给了我一个很好的建议。

以下是旧来源：

```
<form name="fm" onsubmit="star()"> 
```

以下是新来源：

```
<form name="fm" action="javascript:star()"> 
```

这很好用。谢谢你，路人甲。说实话，我不明白为什么这段代码运行良好，而最后一个代码却没有......

[![スクリーンショット（2012-09-18 14.44.34）"></a></p>     </div>
    <div class=](../Images/afe786cbc13a924ab78d5c7b7c7493f2.png)](http://www.flickr.com/photos/weed_77777/7998799197/ "スクリーンショット（2012-09-18 14.44.34） by weed_7777, on Flickr")

[于 2012-09-18T05:46:32.613 回答](http://www.flickr.com/photos/weed_77777/7998799197/ "スクリーンショット（2012-09-18 14.44.34） by weed_7777, on Flickr")[](http://www.flickr.com/photos/weed_77777/7998799197/ "スクリーンショット（2012-09-18 14.44.34） by weed_7777, on Flickr")

# sql - 在一张表上合并两个 SQL 查询

> ID：12470700
> 
> 赞同：9
> 
> 时间：2012-09-18T05:08:29.043
> 
> 标签：sql, sql-server

我有一个`tableA`不同的价值观：

```
 data
------
 10
 15
 20
 40
 40000
 50000
 60000 
```

此外，我需要获取有关该数据的一些统计信息（我想在一个查询中完成），例如：

```
select count(data) from tableA where data < 100
union all
select count(data) from tableA  where data >= 100 
```

结果，我收到

```
(No column name)
----------------
4
3 
```

但我想连续收到结果，如下所示：

```
Small | Big
---------
4     | 3 
```

怎么做？是否可以？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-18T05:13:01.977

尝试子查询而不是`UNION ALL`这样：

```
SELECT
  (SELECT COUNT(data) FROM tableA WHERE data < 100) AS Small,
  (SELECT COUNT(data) FROM tableA WHERE data >= 100) AS Big 
```

[看到这个 SQLFiddle](http://sqlfiddle.com/#!3/d97e9/4)

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-09-18T05:16:28.477

```
select count(case when data < 100 then 1 end) as Small,
       count(case when data >= 100 then 1 end) as Big
from TableA 
```

平均而言，它看起来像这样。

```
select avg(case when data < 100 then data end) as Small,
       avg(case when data >= 100 then data end) as Big
from TableA 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-09-18T05:15:02.893

```
DECLARE @tst TABLE (
   val INT

)

INSERT INTO @tst (val)
SELECT 10
UNION
SELEcT 15
UNION 
SELECT 20
UNION 
SELECT 40
UNION
SELECT 40000
UNION
SELECT 50000
UNION 
SELECT 60000

;WITH Smalls AS (
SELECT COUNT(val) Small FROM @tst WHERE val < 100 
), Bigs AS(
select count(val) Big from @tst where val >= 100
)
SELECT Small, Big
 FROM Smalls, Bigs 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T09:38:52.387

```
create table datatable
(
  data int
)

insert into datatable values(10) 

insert into datatable values(15)

insert into datatable values(20)

insert into datatable values(40)

insert into datatable values(40000)

insert into datatable values(50000)

insert into datatable values(60000)

create table outputtable 
( 
  small int , 
  big int 
)

insert into outputtable 
(
  small,
  big
)

select (select count(data) from datatable where data<100),
       (select count(data) from datatable where data>=100)

select * from datatable

select * from outputtable 
```

# iphone - 头文件中包含头文件

> ID：12470702
> 
> 赞同：0
> 
> 时间：2012-09-18T05:08:34.883
> 
> 标签：iphone, objective-c, ios, c, cocoa-touch

这个问题可能看起来很傻，但是我不清楚我会毫不犹豫地问这个问题。在一个头文件中包含头文件，这是一个好习惯。通常我猜这不是一个好方法。在某些情况下，它需要包含头文件。

```
eg: @property (strong, nonatomic) AVAudioPlayer *audio_player; 
```

考虑我有这样的属性，当我在 .mm 文件中包含其相应的头文件时，Xcode 在 .h 文件中显示未声明的错误，所以我在这里被迫将其头文件包含在 .h 文件本身中。因此，无论我在哪里包含此类，我也间接包含音频播放器头文件，该类中可能不需要它。我们怎样才能避免这种情况。或者我可以这样继续……？请提供建议。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T05:17:03.390

包含来自其他头文件的头文件是很常见的。

对于 C 和 C++，通常将标头内容包装到一个`#ifdef` `#endif`块中以避免多次声明（查看任何常见的 c/c++ 标头，包括标准库中的标头）。

在 Objective-C 中，`#ifdef` `#endif`通常不需要括号，因为在 Objective C 中，您通常使用`import`而不是`include`导入文件，并且无论执行多少次，都保证只发生一次。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:10:21.530

你不必避免这种情况。这是完全合法和惯用的。

这背后的逻辑是你可能想`audio_player`从另一个类访问你的类实例的属性，如果你不这样做，那么属性的类型将是未声明的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-27T08:09:56.480

我发现前向声明是首选，因为它们减少了更改头文件时的编译时间，特别是对于较大的项目，受影响的 .m 文件的数量似乎随着修改的 .h 文件数量的每线性增加而呈几何增长。

前向声明还促进了代码重用，因为如果您尝试将一个项目分成两个单独的项目，您会发现所有通过简单地在方便的地方引入导入来“保存”的所有时间都会被您现在必须这样做的事实所抵消添加/删除导入以反映新的程序结构。使用前向声明，链接更清晰，维护也最小化。基本上过度的#importing 会促进不必要的耦合。

# java - getter 和 setter 与普通函数有何不同？

> ID：12470707
> 
> 赞同：4
> 
> 时间：2012-09-18T05:09:04.113
> 
> 标签：java, properties, getter-setter

```
private String gg;
public void setgg(String gg) 
  {
   this.gg = gg; 
  } 
public String getgg()
  {
    return gg;
  } 
```

考虑到上面的代码，setter 和 getter 用于作用于类的私有成员。

问题1。如果 setter 再接受一个参数，我猜它不会是 setter 吗？

问题2。对于设置私有数据成员值的普通公共成员函数，它们有何不同？

我知道我们可以在 setter 中实现验证以实现可重用代码并抛出异常，但仍然无法理解真正的目的

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T05:11:12.693

> 问题1。如果 setter 再接受一个参数，我猜它不会是 setter 吗？

它将设置值，但它不是许多框架正在寻找的标准设置方法来设置值

> 问题2。对于设置私有数据成员值的普通公共成员函数，它们有何不同？

它们是具有标准命名约定的普通公共成员方法

* * *

**看**

*   [JavaBeans 规范](http://www.oracle.com/technetwork/java/javase/documentation/spec-136004.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-18T05:14:32.650

Getter 和 setter 只是一种面向对象的约定。许多框架会寻找名为“getX()”和“setX(type)”的方法

它们与任何其他方法没有什么不同，但是在方法标头中添加或删除任何内容都会违反约定。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-19T14:32:48.263

Getter 和 setter 已成为 Java 世界中事实上的封装标准：对象对关联类隐藏其内部实现的想法。这是面向对象编程的总体原则。

以下面的类为例：

```
// boilerplate

public class A {
    public String b;
} 
```

这是一个完全有效的 Java 类，只有一个字段。如果另一个类希望读取 A 的 B 属性，它只需要：

```
A a;
String val = a.b; 
```

并写：

```
a.b = val; 
```

这里的问题是 A 不再控制对其内部状态的写入。假设我们了解到 b 的最大长度为 1024 个字符。现在必须更新写入 b 的每个实例以适应新要求。根据代码库的大小，这可能非常昂贵。

或者，假设我们使用 getter 和 setter 约定来封装 b：

```
// boilerplate

public class A {
    private String b;

    public void setB(String val) {
        this.b = val;
    }

    public String getB() {
        return this.b;
    }
} 
```

现在看起来像：

```
A a;
String val = a.getB(); 
```

并写道：

```
a.setB(val); 
```

这在短期内需要更长的时间来编写，但全面的更改更容易集成，只需更改设置器即可。

封装受到高度重视，正如许多其他评论者所指出的那样，许多 Java 框架都期待这一点。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-18T05:14:58.573

首先，按照惯例，您的 getter setter 实现是错误的。它应该是 setGg 和 getGg。

回答你的问题。

1.  Getter setter 方法已成为向对象注入值的标准方式，并被许多框架所遵循。因此，您需要遵循之前指出的命名约定。

2.  只要它接受相同的参数并设置相同的值。但是，如果您不遵循命名约定，那么大多数框架将无法向对象注入值。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-18T05:20:13.733

正如其他人已经解释了 getter 和 setter 的目的。我想指出您的代码片段中的语法不适合 java bean 标准。

```
private String value;
public void setValue(String value) {
   this.value=value;
 }
 public String getValue() {
   return value;
 } 
```

对于布尔值

```
private boolean val;

public void setVal(boolean val) {
  this.val= val;
 }
 public boolean isVal() {
  return val;
  } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-12-17T17:23:53.103

这是很久以前被问和回答的，但仍然发布答案以帮助未来的读者。添加到其他成员已经回答的内容。
Getter 和 setter 与普通函数的区别如下：

1.  与普通方法不同，它们通常不包含业务逻辑。
2.  getter 没有任何参数传递给它
3.  设置器应该只有一个参数传递给它
4.  仅用于设置和检索可以是 POJO、DAO、bean 等的类的属性。
5.  正如其他人已经提到的，这些被 Hibernate、Spring 等框架用于持久化、检索数据和执行许多其他操作。
6.  用于实现封装和抽象两个基本概念。

# css - 背景渐变 - 填充页面没有滚动条或重复

> ID：12470709
> 
> 赞同：2
> 
> 时间：2012-09-18T05:09:09.747
> 
> 标签：css, gradient

我有一个背景渐变，它看起来很棒，但我有一个问题，在短页面上，背景太长并导致不必要的滚动条，而在长页面上，背景将开始重复而不是拉伸以填充整个页面。

这是我正在使用的 CSS：

```
html, body{
font-size:1em;
font-family: "ff-dagny-web-pro", Helvetica, Arial, sans-serif;
line-height:1.438em;
color:#222;
margin: 0;
padding: 0;
text-align: justify;
background: rgb(0,0,0); /* Old browsers */
background: -moz-linear-gradient(top, rgba(0,0,0,1) 25%, rgba(209,209,209,1) 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(25%,rgba(0,0,0,1)), color-stop(100%,rgba(209,209,209,1))); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top, rgba(0,0,0,1) 25%,rgba(209,209,209,1) 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top, rgba(0,0,0,1) 25%,rgba(209,209,209,1) 100%); /* Opera 11.10+ */
background: -ms-linear-gradient(top, rgba(0,0,0,1) 25%,rgba(209,209,209,1) 100%); /* IE10+ */
background: linear-gradient(to bottom, rgba(0,0,0,1) 25%,rgba(209,209,209,1) 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#000000', endColorstr='#d1d1d1',GradientType=0 ); /* IE6-9 */

} 
```

当我添加`height: 100%;`它时，它会导致短页面上的滚动条。我试图通过使用来删除它们，`overflow: hidden;`但这会导致长页面上的任何内容都无法显示！此外，如果我不使用`height: 100%;`，那么渐变只会填充大约一半的页面并重复。

我对要做什么或尝试解决此问题感到有些困惑。

注意：虽然我更喜欢 CSS 解决方案，但如果有一个可行的 javascript 解决方案（使用 jQuery），我愿意尝试让它工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T22:23:10.573

导致此问题的原因是我尝试实施“粘滞页脚”。我删除了所有高度要求（IE:`min-height`和`height`），浏览器相应地调整没有问题。

作为旁注，我使用以下代码来解决我的粘页脚问题：

```
$(function() {
    var height = $(window).height() - ($("header").outerHeight() + $("footer").outerHeight() );
    $("#page-content").css("min-height",height+"px");
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:15:03.563

…………………………………………………………………………………………

你好现在习惯了`min-height:100%`

***[现场演示](http://tinkerbin.com/NhB9kCCY)***

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T05:15:18.313

添加`height: 100%;`到您的 CSS 规则中，它将被修复。

# ios - 如何以编程方式调用带有 id sender 的 IBAction 方法？

> ID：12470710
> 
> 赞同：2
> 
> 时间：2012-09-18T05:09:16.167
> 
> 标签：ios, selector, ibaction

我的代码中有以下 IBAction 方法。

```
-(IBAction)handleSingleTap:(id)sender
{
    // need to recognize the called object from here (sender)
}

UIView *viewRow = [[UIView alloc] initWithFrame:CGRectMake(20, y, 270, 60)];
// Add action event to viewRow
UITapGestureRecognizer *singleFingerTap = 
[[UITapGestureRecognizer alloc] initWithTarget:self 
                                        action:@selector(handleSingleTap:)];
[self.view addGestureRecognizer:singleFingerTap];
[singleFingerTap release];
//
UILabel *infoLabel = [[UILabel alloc] initWithFrame:CGRectMake(5,30, 100, 20)];
infoLabel.text = @"AAAANNNNVVVVVVGGGGGG";
//[viewRow addSubview:infoLabel];
viewRow.backgroundColor = [UIColor whiteColor];

// display the seperator line 
UILabel *seperatorLablel = [[UILabel alloc] initWithFrame:CGRectMake(0,45, 270, 20)];
seperatorLablel.text = @" ___________________________";
[viewRow addSubview:seperatorLablel];
[scrollview addSubview:viewRow]; 
```

如何调用 IBAction 方法，同时允许它接收该方法的调用者对象？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T05:16:04.227

方法签名对于手势识别器和 UIControls 是通用的。两者都将在没有警告或错误的情况下工作。要确定发件人，首先要确定类型...

```
- (IBAction)handleSingleTap:(id)sender
{
// need to recognize the called object from here (sender)
    if ([sender isKindOfClass:[UIGestureRecognizer self]]) {
        // it's a gesture recognizer.  we can cast it and use it like this
        UITapGestureRecognizer *tapGR = (UITapGestureRecognizer *)sender;
        NSLog(@"the sending view is %@", tapGR.view);
    } else if ([sender isKindOfClass:[UIButton self]]) {
        // it's a button
        UIButton *button = (UIButton *)sender;
        button.selected = YES;
    }
    // and so on ...
} 
```

要调用它，直接调用它，让它连接的 UIControl 调用它，或者让手势识别器调用它。他们都会工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:14:47.940

您不必调用它，因为您使用与 一样的方法`Selector`，`UITapGestureRecognizer`因此当点击应用程序时它会自动调用。另外，如果你能认出 中方法名后面的冒号`action:@selector(handleSingleTap:)`，则表示向`UITapGestureRecognizer`方法发送了一个类型的对象。如果您不想发送任何对象，您只需`(id)sender`从方法中删除冒号和 。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T05:15:08.470

如你所愿：

```
[self handleSingleTap:self.view]; 
```

`sender`可以随心所欲，它的`id`类型。您还可以发送带有标签的 UIButton 实例。

# html - Twitter Bootstrap 水平表单内联帮助文本问题

> ID：12470715
> 
> 赞同：2
> 
> 时间：2012-09-18T05:10:20.183
> 
> 标签：html, forms, twitter-bootstrap

我正在使用 Twitter Bootstrap 制作一个表单，并且在对齐“help-inline”元素时遇到了一个小问题。

这是代码：

```
<form class="form-horizontal" action="purchase.php" method="post" >
    <fieldset>

    <div class="control-group">
        <label class="control-label" for="date">Details</label>
        <div class="controls controls-row">

            <input class="span2" type="text" id="date" data-date-format="dd/mm/yyyy" title="Enter Date in DD/MM/YYYY Format Only" placeholder="DD/MM/YYYY" value="<?php echo $dateToday;?>" required>

            <input class="span2" type="text" name="resin" id="resin" title="Resin Name" placeholder="Resin Name" required/>

            <input class="span2" type="text" name="kg" id="kg" title="Enter Quantity in 00.0 format only" placeholder="Enter Quantity" pattern="\d+(\.\d{1})?" required/>

            <!-- Below is the problem in question-->
            <span class="help-inline">Error Text Here.</span>

        </div>
    </div>

    </fieldset>
</form> 
```

“此处的错误文本”出现未对齐的屏幕截图：[https ://dl.dropbox.com/u/128104/Random/mia.png](https://dl.dropbox.com/u/128104/Random/mia.png)

任何想法如何解决这一问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T11:30:31.307

我认为最快的解决方法是`line-height`在有问题的跨度上设置 CSS 属性。如果你增加它，它应该向下移动一点并且更好地对齐到文本框的中心。

如果您将所有这些都放在一个[fiddle](http://jsfiddle.net/)中，StackOverflow 的用户将更容易为您提供更好的解决方案，因为他们将能够更改代码并查看行为。

PS 日期`input`字段缺少结束`/`。

# python - 如何从 Django 中的子目录导入包

> ID：12470717
> 
> 赞同：0
> 
> 时间：2012-09-18T05:10:25.963
> 
> 标签：python, django

我知道有很多类似的问题和答案，但我真的做不到。我将`views.py`,`models.py`和`forms.py`拆分为相应文件夹中的几个文件。所以文件夹结构如下：

```
myapp
  \__init__.py
  \admin.py
  \forms
     \__init__.py
     \my_forms.py
  \views
     \__init__.py
     \my_views.py
  \models
     \__init__.py
     \my_models.py 
```

在我添加的相应`__init__.py`文件中：

```
 from my_file import * 
```

其中`my_file`对应于`my_forms`和。`my_views``my_models`

现在我正在尝试从以下位置导入表单`my_views.py`：

```
 from myapp.forms import MyForm 
```

结果，我收到以下错误：

```
 No module named forms 
```

有人可以指出我做错了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T07:47:40.997

我解决了这个问题。这是我愚蠢的错误。实际上目录结构是这样的：

```
myapp
 |--__init__.py
 |--admin.py
 |--forms
     |--__init__.py
     |--myapp.py
 |--views
     |--__init__.py
     |--myapp.py
 |--models
     |--__init__.py
     |--myapp.py 
```

即我将表单、视图和模型文件命名为与应用程序名称相同的名称（例如，应用程序名称为“contacts”，模型文件为“contacts.py”）。这导致我遇到了有问题的错误。

所以不要将内部文件命名为与应用程序相同的名称。尽量避免使用相同的名称；）

非常感谢所有试图提供帮助的人。

# performance - 基于 <, >, 等实数运算符的快速检索数据结构

> ID：12470723
> 
> 赞同：0
> 
> 时间：2012-09-18T05:10:47.083
> 
> 标签：performance, data-structures, language-agnostic, hashmap

像 HashMap 这样的数据结构将根据键的相等性检索数据。

如果我想根据比较结果检索数据，我应该使用什么数据结构？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:12:15.250

通常，您应该使用平衡二叉树。在 C++ 中，您可以通过`std::map`. 在 Java 中，它被称为 TreeMap。可悲的是，Python 在标准库中没有任何内容。

对于不寻常的情况，其他结构（例如 Splay Tree 甚至简单的链表）可能会更好。这仅取决于您的需求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:24:43.977

正如已经回答的那样，平衡树是好的。

不过，您没有提及任何有关插入速度或内存要求的信息。排序数组的搜索速度也很快（二分搜索），但插入速度很慢。

我假设正在谈论使用字符串进行索引。最快的查找是字典（在我的基准测试中，是 C++ 映射的两倍），但它的存储量很大。

使用字典，每个节点都有一个指针数组（指向节点）：每个可能的字符串字符都有一个指针。要插入，您遍历字符串中的每个字符，并为该字符添加一个节点（如果尚不存在），遍历该节点并继续，直到您位于字符串的末尾。然后，您将数据存储在该节点上。这个数据结构还有一个额外的好处，就是当你有一个部分完成的键时，你可以选择构建单词完成列表。

# java - 转换错误

> ID：12470731
> 
> 赞同：2
> 
> 时间：2012-09-18T05:11:50.697
> 
> 标签：java, php, android, magento

我正在尝试从 Magento Store 上的 Android 客户端调用 Web 服务。
到目前为止，我取得了很好的成功，但问题不大。

我希望将此数组转换为适当的 java 对象。

```
$arrProducts = array(
array(
    "product_id" => "1",
    "qty" => 2
),
array(
    "sku" => "testSKU",
    "quantity" => 4
)
);
$resultCartProductAdd = $proxy->call($sessionId, "cart_product.add", 
                                        array($shoppingCartId, $arrProducts)); 
```

上面的 php 代码取自[**`here`**](http://www.magentocommerce.com/wiki/doc/webservices-api/api/cart#example_php)

我已经尝试过。

```
Object []addtocart=null;
Log.i("Product Id ", Utils.product_list.get(rowid).getp_Id());
Object[] productdetails1=new Object[]{Utils.product_list.get(rowid).getp_Id(),2};
//Object[] productdetails2=new Object[]{productdetails1};
Object param1[]=new Object[]{Utils.shoppingCartId,productdetails1};
Object param[]=new Object[]{Utils.sessionId,"cart_product.add",param1};
try {
    addtocart=(Object[])client.callEx("call", param);
} catch (XMLRPCException e) {
    e.printStackTrace();
} 
```

但它会导致错误，如：

```
org.cws.magentoAnd.xmlrpc.XMLRPCFault: XMLRPC Fault: One item of products do not have identifier or sku [code 1022]
at org.cws.magentoAnd.xmlrpc.XMLRPCClient.callEx(XMLRPCClient.java:228)
at org.cws.magentoAnd.ProductModule.productdetails$CartFunctions.doInBackground(productdetails.java:245)
at org.cws.magentoAnd.ProductModule.productdetails$CartFunctions.doInBackground(productdetails.java:1)
at android.os.AsyncTask$2.call(AsyncTask.java:185)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
at java.util.concurrent.FutureTask.run(FutureTask.java:138)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
at java.lang.Thread.run(Thread.java:1019) 
```

如果有 php 和 Java 双重知识的人能帮助我解决这个问题，我会很高兴。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:42:06.753

如果您检查堆栈跟踪，您将看到 > 一项产品没有标识符或 sku

所以找不到 sku 的映射。为什么找不到映射也很明显。由于 php 对象是一个关联数组。与之对应的 Java 版本是 Map。

现在，如果我使用像 ksoap 这样的库进行 RPC（基于 WebService）调用，我会使用像 PropertyInfo(http://ksoap2.sourceforge.net/doc/api/org/ksoap2/serialization/PropertyInfo.html) 这样的东西来做属性名称与其值之间的映射。因此，这取决于您使用的客户端库。

在您使用的代码中

```
addtocart=(Object[])client.callEx("call", param); 
```

从代码片段中看不出什么是客户端的类型，所以我无法猜测您正在使用什么库，但是该库尝试在哪些工具类上寻找一些实用程序类行 PropertyInfo

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T09:55:33.473

好的，从[**`@ sharadendu sinha's`**](https://stackoverflow.com/questions/12470731/convertion-error#answer-12472476)答案中获得一些想法，我`Associative Array`在 Java 中做了一个类似的东西，可以得到所需的结果。

代码如下。

```
Map map = new HashMap();
map.put("product_id", 1);
map.put("quantity", 1);
Object[] productdetails1=new Object [] {map};
Object param1[]=new Object[]{Utils.shoppingCartId,productdetails1};
Object param[]=new Object[]{Utils.sessionId,"cart_product.add",param1};
try {
    Object addtocart=client.callEx("call", param);
    Log.i("Out Put of Adding", addtocart.toString());
} catch (XMLRPCException e) {
    e.printStackTrace();
} 
```

# ruby - 是否可以将 ActiveModel 与 Sinatra 一起使用？

> ID：12470735
> 
> 赞同：2
> 
> 时间：2012-09-18T05:12:23.337
> 
> 标签：ruby, mongodb, sinatra, activemodel

我想在我的 Sinatra 模型中使用 ActiveModel 来使用 mongodb 的 Ruby 驱动程序。这是一个直接的练习还是会有问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T13:22:08.570

要将 MongoDB 与 ORM 一起使用，您可能需要考虑使用[Mongomapper](http://mongomapper.com/)或 [Mongoid](http://mongoid.org/en/mongoid/index.html)。他们将为您提供像 ORM 这样的 Active Record。

# ios - 检索 GKLeaderboard 中的所有分数

> ID：12470736
> 
> 赞同：1
> 
> 时间：2012-09-18T05:12:38.047
> 
> 标签：ios, leaderboard

如何检索 GKLeaderboard 的所有分数？（我正在制作自己的排行榜图形）。我需要知道某个排行榜中的分数数量，但似乎没有办法轮询 GC 来获取此类信息？

[http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/GameKit_Guide/LeaderBoards/LeaderBoards.html#//apple_ref/doc/uid/TP40008304-CH6-SW14](http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/GameKit_Guide/LeaderBoards/LeaderBoards.html#//apple_ref/doc/uid/TP40008304-CH6-SW14)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T13:53:28.477

我感觉答案是 GKLeaderboard 的 maxRange 属性。文档：

> 在调用 loadScoresWithCompletionHandler: 完成之前，此属性无效。之后，它包含给定您应用于查询的过滤器可返回到您的游戏的条目总数。

[http://developer.apple.com/library/ios/documentation/GameKit/Reference/GKLeaderboard_Ref/Reference/Reference.html#//apple_ref/occ/instp/GKLeaderboard/maxRange](http://developer.apple.com/library/ios/documentation/GameKit/Reference/GKLeaderboard_Ref/Reference/Reference.html#//apple_ref/occ/instp/GKLeaderboard/maxRange)

所以这将是排行榜表视图中的行数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-09T16:16:45.590

为了获得所有分数，您需要使用 Scar 详细说明的范围分块请求它们。通常在游戏中，您会显示 100 个子集，并为用户提供查看较低子集或较高子集的选项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T06:20:11.117

在苹果文档中，有一个名为**Retrieving Leaderboard Scores**的部分，他们使用了一个如何检索前 10 名分数的示例：

```
- (void) retrieveTopTenScores
{
    GKLeaderboard *leaderboardRequest = [[GKLeaderboard alloc] init];
    if (leaderboardRequest != nil)
    {
        leaderboardRequest.playerScope = GKLeaderboardPlayerScopeGlobal;
        leaderboardRequest.timeScope = GKLeaderboardTimeScopeAllTime;
        leaderboardRequest.range = NSMakeRange(1,10);
        [leaderboardRequest loadScoresWithCompletionHandler: ^(NSArray *scores, NSError *error) {
            if (error != nil)
            {
                // handle the error.
            }
            if (scores != nil)
            {
                // process the score information.
            }
            }];
    }
} 
```

我们可以编辑 的范围`leaderboardRequest`，以检索更多分数，苹果在文档中说：

> 范围
> 
> 从搜索返回的数字分数排名。
> 
> `@property(nonatomic, assign) NSRange range`
> 
> 讨论范围
> 
> 如果使用 initWithPlayerIDs: 方法初始化排行榜请求，则忽略该属性。否则，范围属性用于过滤哪些分数返回到您的游戏。例如，如果您指定范围为 [1,10]，则搜索完成后，您的游戏将获得前十名的分数。默认范围是 [1,25]。
> 
> 最小索引为 1。最大长度为 100。

# apache - 如何使 haproxy 将 https 请求传递给后端服务器？

> ID：12470737
> 
> 赞同：0
> 
> 时间：2012-09-18T05:12:39.143
> 
> 标签：apache, tomcat6, tomcat7, haproxy, stunnel

我使用 HAproxy 进行负载平衡，并使用 Stunnel 进行 SSL 。我使用 tomcat 作为容器（后端服务器）。在我的配置中，Stunnel + HAproxy 在一台机器上（ubuntu 12.04），而 tomcat 在另一台机器上。部署在 tomcat 上的 Web 应用程序仅对登录页面使用 HTTPS 请求。当我尝试使用 HTTPS 请求登录时，侦听端口 443 的 Stunnel 解密请求并转发到 HAproxy，HAproxy 将其传递给 HTTP 格式的 Tomcat。由于我对登录页面的 tomcat 配置请求必​​须采用 HTTPS 格式，因此我的 tomcat 重定向请求并要求以 HTTPS 格式发出相同的请求。在这种情况下，创建了无限循环......

如何配置 HAproxy 或 Stunnel 将 HTTPS 请求传递给 Tomcat……

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-24T23:05:41.433

看看 haproxy 1.5-dev12，它在两边都提供 SSL，你不再需要 stunnel。

# opencv - 修改网络摄像头流

> ID：12470744
> 
> 赞同：5
> 
> 时间：2012-09-18T05:13:30.857
> 
> 标签：opencv, virtual, webcam, gstreamer

目前我正在做一个项目，我需要修改一个正在流式传输到 Skype 的网络摄像头流。本质上，我想做一些事情，比如模糊面部和做其他匿名技术。

然而，在做这个项目时，我遇到了几个问题。首先，我使用 opencv 进行修改，直到我尝试将其与 skype 接口（由于 opencv 接管了网络摄像头，然后 skype 无法使用它，所以它不会），它开始运行良好。然后我被一位朋友引导到 GStreamer 库，他们似乎可以工作，但我不断收到其他人似乎没有收到的错误。目前我正在研究 DirectShow。我已经能够制作一个虚拟网络摄像头供 Skype 观看，但虚拟网络摄像头只接受来自文件的输入。我在 Windows 和/或 Linux 中工作，这取决于我在哪个方面取得了更大的进步。

所以我基本上有2个问题

1.  如果你做过一个项目或类似于我正在做的事情，你能告诉我你是怎么做的吗

2.  由于我仍在使用 Gstreamer+Opencv 和 Directshow 方法，有谁知道如何将来自 opencv 或其他网络摄像头的输入提供给虚拟网络摄像头（我查看了虚拟网络摄像头的输入引脚，但不明白如何使用它们）

另外，是的，我已经搜索了答案，但是由于这些对我来说是一个陡峭的学习曲线，而且大多数答案都是非代码的，所以我对某些答案感到很困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T13:29:42.173

在 linux 上，gstreamer 提供了一个“v4l2sink”元素，允许您将视频流写入[v4l2loopback](https://github.com/umlaeute/v4l2loopback)设备，该设备可以通过（某些版本的）skype 打开（skype 的 v4l2 支持非常糟糕）

# c#-4.0 - BigQuery API - 无法连接远程服务器

> ID：12470746
> 
> 赞同：0
> 
> 时间：2012-09-18T05:13:31.083
> 
> 标签：c#-4.0, google-bigquery

我能够访问 bigquery api 并能够通过 C# 运行查询来获取数据，但是当我从其他机器尝试相同的操作时无法获取数据。我得到了访问令牌，但是在执行查询时我得到了异常消息 - “无法连接远程服务器”和内部异常 - “所引用的对象类型不支持尝试的操作”。

在开发过程中我需要做些什么来从多台机器访问 API。我尝试为两台机器使用两个不同的 clentId 和 Secret 密钥，但仍然没有工作。

请帮忙。

堆栈跟踪

```
at System.Net.HttpWebRequest.EndGetRequestStream(IAsyncResult asyncResult, TransportContext& context)
   at System.Net.HttpWebRequest.EndGetRequestStream(IAsyncResult asyncResult)
   at Google.Apis.Requests.Request.EndAttachBody(IAsyncResult asyncResult)
   at System.Net.LazyAsyncResult.Complete(IntPtr userToken)
   at System.Net.ContextAwareResult.CaptureOrComplete(ExecutionContext& cachedContext, Boolean returnContext)
   at System.Net.ContextAwareResult.FinishPostingAsyncOp()
   at System.Net.HttpWebRequest.BeginGetRequestStream(AsyncCallback callback, Object state)
   at Google.Apis.Requests.Request.AttachBody(WebRequest request, Action`1 onRequestReady)
   at Google.Apis.Requests.Request.CreateWebRequest(Action`1 onRequestReady)
   at Google.Apis.Requests.Request.ExecuteRequestAsync(Action`1 responseHandler)
   at Google.Apis.Requests.ServiceRequest`1.GetAsyncResponse(Action`1 responseHandler)
   at Google.Apis.Requests.ServiceRequest`1.GetResponse()
   at Google.Apis.Requests.ServiceRequest`1.Fetch() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:10:38.177

不——一般来说，在多台机器上进行测试时，您不需要做任何事情。

尝试从无法连接的机器浏览到[https://bigquery.cloud.google.com 。](https://bigquery.cloud.google.com)这使用相同的底层 API。或者尝试使用 API 资源管理器：[https](https://developers.google.com/apis-explorer/#p/) ://developers.google.com/apis-explorer/#p/ 。

检索访问令牌和执行查询是在不同的主机上完成的。最可能的情况是您有防火墙阻止对未知服务器的出站请求。

# c# - 如何解决以下情况？

> ID：12470747
> 
> 赞同：2
> 
> 时间：2012-09-18T05:13:38.187
> 
> 标签：c#, .net-2.0

我需要创建 2 个逗号分隔的文件。一个将采用以下格式：

A, 23, 10, 100, 1
A, 23, 11, 50, 1
A, 23, 12, 200, 1
A, 23, 10, 25, 2
A, 23, 11, 25, 2
A, 23, 12 , 200, 2

另一个是：

B、23、44、350、1
B、23、50、250、2

我将通过存储过程检索初始数据并填充强类型数据集。我不知道该怎么做的部分是解析数据并生成正确的文件。有几件事需要发生。每个文件中的最后一个数字必须匹配，因此在上面的示例中，1 是第一个文件中的最后一个数字，1 是第二个文件中第一行的最后一个数字。在第一个文件中，2 是下一个，2 是第二个文件中的下一个。基本上，文件 1 是对文件 2 的深入了解。最重要的是，第二个文件中的第 4 列是第一个文件的第 4 列中具有相同最后一个数字的所有值的总和。例如，在第二个文件中，第 4 列是 350（因为第一个文件的值是 100 + 50 + 200）。

我在想我可以获得与更详细的文件（文件 1）相对应的数据并即时构建文件 2。这是否有更有效或更准确的方法？我想我必须保留某种运行总计，并且当我移动到下一个数字时我会知道何时重置运行总计（这部分我不清楚），例如，只要我在 1，我不断添加，但一旦我达到 2，我将总数重置为 0，等等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T05:47:47.963

我假设你目前有一些类似的东西：

```
class MyType
{
    public string Col1 { get; set; }
    public int Col2 { get; set; }
    public int Col3 { get; set; }
    public int Col4 { get; set; }
    public int Col5 { get; set; }
}

IEnumerable<MyType> firstDataSet = GetStuffFromDB(); 
```

从您的第一个数据集中，您希望通过将条目分组并对`Col5`的值求和来构造第二个数据集`Col4`。您可以使用 LINQ 轻松完成此操作：

```
var secondDataSet = firstDataSet.GroupBy(entry => entry.Col5).Select
(
    group => new MyType
    {
        Col1 = "B",
        Col2 = <whatever>,
        Col3 = <whatever>,
        Col4 = group.Sum(entry => entry.Col4),
        Col5 = group.Key
    }
); 
```

`GroupBy`使用给定的表达式将条目收集到组中（因此将有一个包含所有条目 where `Col5`is`1`的组，一个包含所有`2`'s 的组，等等），然后通过对 的值求和来为每个组`Select`选择一个新的实例。`MyType``Col4`

我不知道第二列和第三列中的值是什么，但如果它们也来自第一个数据集中的条目，您应该能够提出合适的表达式来代替`<whatever>`.

# asp.net - 使用 LINQ 匹配非特定数量的记录

> ID：12470749
> 
> 赞同：1
> 
> 时间：2012-09-18T05:13:57.593
> 
> 标签：asp.net, linq-to-sql

我正在构建的 ASP.NET 网站上有一个功能，允许用户在特定事件中注册多个类别。站点管理员需要能够添加这些类别，并且还需要添加规则来管理哪些类别组吸引折扣。

我的解决方案是创建一个名为 CategorySelectionRule 的表头，如下所示：

```
CREATE TABLE CategorySelectionRules (
RuleId INTEGER IDENTITY PRIMARY KEY,
RuleDescription VARCHAR(100),
RuleMessage VARCHAR(255),
Discount DECIMAL
) 
```

...和一个名为 CategorySelectionRuleDetail 的详细信息表，如下所示：

```
CREATE TABLE CategorySelectionRuleDetail (
RuleCategoryId INTEGER IDENTITY PRIMARY KEY,
RuleId INTEGER REFERENCES CategorySelectionRules(RuleId),
CategoryId INTEGER REFERENCES EntryCategory(CategoryId)
} 
```

因此，如果有人输入类别 1 和 4，代码会检查包含这些类别（并且仅包含这些类别）的规则，然后返回适用的折扣和消息。我的问题是代码失控了，因为我需要在规则中允许任意数量的类别，但是如果没有将详细信息表重新连接到自身的选择案例，我无法弄清楚如何做到这一点，像这样，它只适用于具有两个类别的规则（哦，它实际上不起作用）：

```
categoryRuleId = (From r1 In _db.CategorySelectionRuleDetail _
                  Join r2In _db.CategorySelectionRuleDetail _
                    On r1.RuleId Equals r2.RuleId _
                  Where ((r1.CategoryId = matchCategory1 _
                  AndAlso r2.CategoryId = matchCategory2) _
                  OrElse (r1.CategoryId = matchCategory2 _
                  AndAlso r2.CategoryId = matchCategory1)) _
                  AndAlso !(From r3 In _db.CategorySelectionRuleDetail  _
                            Group r3 By r3.RuleId Into g_
                            Where g.Count(RuleId) > 2).Contains(r1.RuleId) _
                  Select r1.RuleId).FirstOrDefault() 
```

有没有更好的方法来做到这一点，我没有看到？我觉得数据结构是正确的，但我确信有一种更简单的方法可以匹配我想要的数据，而无需为每个类别数量使用单独的 LINQ 语句。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-02T17:07:00.493

这个 Linq 语句会做你想做的事：

```
var rules = from r in db.CategorySelectionRules
                   where r.CategorySelectionRuleDetails.Count() == selectedCategories.Count &&
                         r.CategorySelectionRuleDetails.Where(cr => selectedCategories.Contains(cr.CategoryId.Value)).Count() == selectedCategories.Count
                   select r; 
```

如果有两个具有相同类别要求的不同规则，这也会传回多个规则。

**完整程序：**

**用于生成数据库结构的 SQL**

```
CREATE TABLE EntryCategory ( 
CategoryId INTEGER IDENTITY PRIMARY KEY, 
CategoryDescription VARCHAR(100)
) 

CREATE TABLE CategorySelectionRules ( 
RuleId INTEGER IDENTITY PRIMARY KEY, 
RuleDescription VARCHAR(100), 
RuleMessage VARCHAR(255), 
Discount DECIMAL 
) 

CREATE TABLE CategorySelectionRuleDetail ( 
RuleCategoryId INTEGER IDENTITY PRIMARY KEY, 
RuleId INTEGER REFERENCES CategorySelectionRules(RuleId), 
CategoryId INTEGER REFERENCES EntryCategory(CategoryId) 
) 
```

**C# 程序（控制台应用程序）**

```
namespace StackOverFlowTesting
{
  using System;
  using System.Collections.Generic;
  using System.Linq;

  class Program
  {
    static void Main(string[] args)
    {
      //Load Data
      using (var db = new DatabaseDataContext())
      {
        //Check to see if the data has already been loaded
        if (db.EntryCategories.Count() == 0)
        {
          //Load in inital categories
          db.EntryCategories.InsertOnSubmit(new EntryCategory() { CategoryDescription = "Category1" });
          db.EntryCategories.InsertOnSubmit(new EntryCategory() { CategoryDescription = "Category2" });
          db.EntryCategories.InsertOnSubmit(new EntryCategory() { CategoryDescription = "Category3" });

          //Load in inital rules
          db.CategorySelectionRules.InsertOnSubmit(new CategorySelectionRule() { RuleDescription = "Rule1", RuleMessage = "Rule1 Message", Discount = .5M });
          db.CategorySelectionRules.InsertOnSubmit(new CategorySelectionRule() { RuleDescription = "Rule2", RuleMessage = "Rule2 Message", Discount = .5M });
          db.CategorySelectionRules.InsertOnSubmit(new CategorySelectionRule() { RuleDescription = "Rule3", RuleMessage = "Rule3 Message", Discount = .5M });
          db.CategorySelectionRules.InsertOnSubmit(new CategorySelectionRule() { RuleDescription = "Rule4", RuleMessage = "Rule4 Message", Discount = .5M });
          db.CategorySelectionRules.InsertOnSubmit(new CategorySelectionRule() { RuleDescription = "Rule5", RuleMessage = "Rule5 Message", Discount = .5M });
          db.CategorySelectionRules.InsertOnSubmit(new CategorySelectionRule() { RuleDescription = "Rule6", RuleMessage = "Rule6 Message", Discount = .5M });

          //Link up the categories and rules
          db.CategorySelectionRuleDetails.InsertOnSubmit(new CategorySelectionRuleDetail() { CategoryId = 1, RuleId = 1 });
          db.CategorySelectionRuleDetails.InsertOnSubmit(new CategorySelectionRuleDetail() { CategoryId = 1, RuleId = 2 });
          db.CategorySelectionRuleDetails.InsertOnSubmit(new CategorySelectionRuleDetail() { CategoryId = 2, RuleId = 2 });
          db.CategorySelectionRuleDetails.InsertOnSubmit(new CategorySelectionRuleDetail() { CategoryId = 1, RuleId = 3 });
          db.CategorySelectionRuleDetails.InsertOnSubmit(new CategorySelectionRuleDetail() { CategoryId = 2, RuleId = 3 });
          db.CategorySelectionRuleDetails.InsertOnSubmit(new CategorySelectionRuleDetail() { CategoryId = 3, RuleId = 3 });
          db.CategorySelectionRuleDetails.InsertOnSubmit(new CategorySelectionRuleDetail() { CategoryId = 1, RuleId = 4 });
          db.CategorySelectionRuleDetails.InsertOnSubmit(new CategorySelectionRuleDetail() { CategoryId = 3, RuleId = 4 });
          db.CategorySelectionRuleDetails.InsertOnSubmit(new CategorySelectionRuleDetail() { CategoryId = 2, RuleId = 5 });
          db.CategorySelectionRuleDetails.InsertOnSubmit(new CategorySelectionRuleDetail() { CategoryId = 3, RuleId = 5 });
          db.CategorySelectionRuleDetails.InsertOnSubmit(new CategorySelectionRuleDetail() { CategoryId = 3, RuleId = 6 });

          //Populate the database with our temp records
          db.SubmitChanges();
        }

        /** Different ways of testing **/
        //var selectedCategories = new List<int>() { 1 }; //Rule 1
        var selectedCategories = new List<int>() { 1, 2 }; //Rule 2
        //var selectedCategories = new List<int>() { 1, 2,3 }; //Rule 3
        //var selectedCategories = new List<int>() { 1, 3 }; //Rule 4
        //var selectedCategories = new List<int>() { 2, 3 }; //Rule 5
        //var selectedCategories = new List<int>() { 3 }; //Rule 6

        var rules = from r in db.CategorySelectionRules
                   where r.CategorySelectionRuleDetails.Count() == selectedCategories.Count &&
                         r.CategorySelectionRuleDetails.Where(cr => selectedCategories.Contains(cr.CategoryId.Value)).Count() == selectedCategories.Count
                   select r;

        if (rules.Count() == 0)
        {
          Console.WriteLine("No rule found");
        }
        else
        {
          Console.WriteLine(rules.Count().ToString() + " Rules Found");
          foreach (var rule in rules)
          {
            Console.WriteLine(rule.RuleDescription);
          }          
        }
        Console.ReadLine();
      }
    }
  }
} 
```

# php - 警告：number_format() 期望参数 1 为双倍

> ID：12470764
> 
> 赞同：4
> 
> 时间：2012-09-18T05:15:15.397
> 
> 标签：php, double

我正在`Warning: number_format() expects parameter 1 to be double error`使用我的代码

```
$tbl->addRow();
$tbl->addCell($name);
$tbl->addCell('$' . number_format(doubleval($price), 2,',', ' ') ); 
```

我知道 $price 是一个值 15,00，它是一个数字。怎么可能修好？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:24:44.740

doubleval() 可能会返回某种错误，因为数字“15,00”是欧洲格式而不是标准格式。您是否尝试过使用“15.00”代替？

# c++ - Win32 - 确定路径是否有可用的巨型图标

> ID：12470766
> 
> 赞同：5
> 
> 时间：2012-09-18T05:15:21.893
> 
> 标签：c++, windows, winapi, windows-shell

我有一些代码可以从文件中获取巨型图标：

```
// Get the image list index of the icon
SHFILEINFO sfi;
if (!SHGetFileInfo(pszPath, 0, &sfi, sizeof(sfi), SHGFI_SYSICONINDEX)) return NULL;

// Get the jumbo image list
IImageList *piml;
if (FAILED(SHGetImageList(SHIL_JUMBO, IID_PPV_ARGS(&piml)))) return NULL;

// Extract an icon
HICON hico;
piml->GetIcon(sfi.iIcon, ILD_SCALE|ILD_TRANSPARENT, &hico); 
```

现在，问题是，如果路径没有与之关联的*256x256*图标，我不希望*ImageList*返回的图标。（它将有助于将 32x32 放入 256x256 图标中，我无法使用）。

那么，有没有办法找出（将）与路径相关联的图标是否有一个巨型图标，或者确实只是一个缩放的 32x32？如果没有，我只会得到常规的系统图标。

## 笔记：

受乔纳森启发的最终解决方案如下：

```
HBITMAP hbitmapForFile(LPCWSTR path, int w, int h)
{
    IShellItemImageFactory *pif;    
    HBITMAP hbm;

    SIZE sz = { w, h };
    SHCreateItemFromParsingName(path, NULL, IID_PPV_ARGS(&pif));
    pif->GetImage(sz, SIIGBF_RESIZETOFIT, &hbm);
    pif->Release();
    return hbm;
} 
```

我将结果`HBITMAP`放入*STATIC*控件中`SS_BITMAP`。

我学到了一件重要的事情：你*不能*`IShellItemImageFactory`在*HookProc*中使用from 。已知的 Windows 限制；我不得不到`PostMessage`窗口然后使用它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T23:12:47.760

我相信正确的方法是不使用`SHGetFileInfo`，而是使用`IShellItemImageFactory::GetImage`带有`SIIGBF_THUMBNAILONLY`标志的方法。

# c# - 重定向运行 Shell 命令的进程的输出时，C# 日志文件始终为空白

> ID：12470768
> 
> 赞同：1
> 
> 时间：2012-09-18T05:15:35.873
> 
> 标签：c#, process, cmd, redirectstandardoutput

我有下面的代码，我使用 DevCon.exe 捕获某些内容并将其写入文件中。我根据需要解析这个文件。

```
Process p = new Process();
p.StartInfo.FileName = "cmd.exe";
p.StartInfo.Arguments = "/C devcon.exe find = port *monitor* >> monitor_Details.txt";
p.StartInfo.CreateNoWindow = true;
p.StartInfo.UseShellExecute = false;
p.StartInfo.Verb = "runas";
p.StartInfo.RedirectStandardOutput = true;
p.StartInfo.RedirectStandardInput = true;
p.StartInfo.RedirectStandardError = true;
p.Start();
p.WaitForExit();

StreamReader sr = p.StandardOutput;
string log = sr.ReadToEnd();
StreamWriter sw = p.StandardInput;
sw.WriteLine("hi.txt");
p.Close(); 
```

在这里，我看到 txt 文件一直是空白的。文本文件中没有写入任何内容。有什么问题吗？我还检查了分配给的变量日志

> sr.ReadToEnd()

即使这样，日志也总是空白。

请帮助为什么 shell 命令没有被执行：

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:31:57.760

```
port *monitor* >> monitor_Details.txt 
```

Process 对象中的 CMD shell 输出重定向与在控制台 shell 中的工作方式不同。和在流程上下文`">>"`中`"|"`不起作用。

您将需要`devcon.exe`直接在 Process 对象中运行，而不是在 CMD.EXE 下包装。然后从 Process 对象的缓冲区捕获您的输出，如果需要日志，将其保存到 txt 文件中。`find = port *monitor*`只需像您在示例中所做的那样将必要的参数传递为“ ”。

MSDN 有关于输出缓冲区捕获的详细示例和最佳实践。[在这里阅读](http://msdn.microsoft.com/en-us/library/system.diagnostics.processstartinfo.redirectstandardoutput.aspx)。[在](http://msdn.microsoft.com/en-us/library/system.diagnostics.process.standardoutput.aspx)这里。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:24:09.663

我有一个类似的程序，但将输出重定向到我的应用程序的面板。

我要补充

```
 P.EnableRaisingEvents = true;
            P.OutputDataReceived += proc_OutputDataReceived;
            P.ErrorDataReceived  += proc_ErrorDataReceived;

            P.Start();

            P.BeginOutputReadLine();
            P.BeginErrorReadLine(); 
```

这意味着您从缓冲区读取数据，并可以选择将其重定向到文件

```
 void proc_OutputDataReceived(object sender, DataReceivedEventArgs e)
    {
        //e.Data contains the console output. You can redirect it where ever you like
    } 
```

希望能帮助到你

# c# - C# 将子窗体添加到我的主窗体

> ID：12470771
> 
> 赞同：-2
> 
> 时间：2012-09-18T05:15:48.043
> 
> 标签：c#, forms, menustrip, subforms

我需要帮助添加一个新表格，我将被要求输入三个数字。

问题是当我单击主窗体上的菜单条时，新窗体将打开，但主窗体不会关闭，它必须处于活动状态！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T07:48:07.877

您可以创建一个新表单来获取三个数字并通过实例化对象然后从菜单项的 _Click() 事件中显示它来显示它。

如果您希望能够同时与主窗体和子窗体交互，请使用 Show() 方法。

```
MySubForm form = new MySubForm();
form.Show(); 
```

如果您希望子窗体是模态的（用户必须在返回之前对其做出响应），请使用 ShowDialog() 方法。

```
MySubForm form = new MySubForm();
form.ShowDialog(); 
```

有关使用 ShowDialog 的更多详细信息，[请参阅 MSDN 文档](http://msdn.microsoft.com/en-us/library/c7ykbedk.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:20:17.167

只需创建一个表单对象并显示它，看看我的代码它可以帮助你。这`MyCustomForm`是我的表单名称，您可以使用自己的名称。

```
private void Button1_Click(object sender, EventArgs e)
{
    var myForm = new MyCustomForm();
    myForm.Show();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T05:22:25.920

您将需要[激活](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.activate.aspx)您想要显示的第二个表单，或者通过调用[Show](http://msdn.microsoft.com/en-us/library/szcefbbd.aspx)方法或显式设置[Visible](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.visible.aspx)标志来设置其 Visible 标志。事件。如果需要，您可以隐藏主要的。

# jquery - 如何使用任何滑块将字幕移动到整个滑块下方

> ID：12470774
> 
> 赞同：1
> 
> 时间：2012-09-18T05:16:16.457
> 
> 标签：jquery, captions

我正在使用[任何滑块](http://css-tricks.com/anythingslider-jquery-plugin/)。我想让标题出现在整个滑块下方，也许在它自己的 div 中，与滑块分开。有人对如何做到这一点有任何想法吗？我曾想过在 jQuery 更改标题时尝试复制标题，但无济于事。

有人有什么主意吗？或者甚至有可能做到这一点？

# javascript - 如何在asp.net中逐行跟踪java脚本程序

> ID：12470775
> 
> 赞同：0
> 
> 时间：2012-09-18T05:16:18.977
> 
> 标签：javascript, asp.net

请让我知道如何在 Visual Studio 2008 和 2010 中跟踪或调试 java 脚本和 jquery。因为我有 java 脚本和 jquery 程序。请让我知道该怎么做。

感谢 PBN

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:20:09.373

IE8 及更高版本具有内置的 Javascript 调试器，因此您不再需要单独的调试器/IDE。

也就是说，IE 支持使用 Active Scripting 调试器（至少从 IE4 开始就已经这样做了），因此您可以使用任何合适的 Windows 调试器（包括 Visual Studio）在 IE 中调试 Javascript。

假设您要使用 VS，请执行以下操作：

1.  Internet选项>高级>选中“启用脚本调试”
2.  启动 VS 并在要调试的脚本中启动 IE
3.  在 VS 中，转到“调试”>“附加到进程”（或“工具”>“附加到进程”，具体取决于您是否加载了项目）
4.  `iexplore.exe`从进程列表中选择，它应该在“类型”列中显示“脚本”，这样你就知道它的工作原理了。
5.  使用新出现的“脚本资源管理器”窗口来检查、设置断点和调试当前 IE 会话中当前加载的脚本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:21:01.720

您必须在 Visual Studio 中执行此操作吗？

我在浏览器的控制台窗口中执行此操作。您通常可以通过 F12 访问它。在 IE 中，您可以查看开发人员工具。在 Chrome 中， ctrl+shift+J 将打开控制台。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T05:23:19.810

可以使用 Firebug 在 Firefox 中调试，在 Chrome 中使用 Firebug lite，在 Internet Explorer 中使用 IE web developer。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T06:10:03.983

这可以通过在**Internet Explorer中使用****F12**来完成。如果您将 IE 作为调试的默认浏览器。如果您使用的是**Google chrome**，那么**cntrl+Shift+j**将启动调试器，它的显示效果也很好，而且它也很容易理解，因为它也可以跟踪鼠标的移动。

# singleton - 每次从@EJB 调用时都会创建单例对象

> ID：12470782
> 
> 赞同：1
> 
> 时间：2012-09-18T05:16:55.000
> 
> 标签：singleton, ejb

```
@Singleton
public class EntityManagerFactoryUtil implements Serializable {

private static final long serialVersionUID = -5769561190804055727L;

/**
 * This attribute mClassname is for logging the Class Name
 */
private final static String mClassName = "EntityManagerFactoryUtil";

/**
 * This attribute mLog used for write to log.
 */
private static Logger mLog = Logger.getLogger(EntityManagerFactoryUtil.class.getName());

/**
 * This method is used to create an instance of Entity Manager Factory.
 * @throws Exception
 * @return entityManagerFactory
 * @author ashokkumar_ks@solartis.net
 * @since  06-Sep-2012
 */
public  EntityManagerFactory getEntityManagerFactory() throws Exception {
    final String methodName = "getEntityManagerFactory";
    mLog.debug("Entered Class Name ::" + mClassName + " Method Name ::" + methodName);
    EntityManagerFactory entityManagerFactory=null;
    try {
        entityManagerFactory =Persistence.createEntityManagerFactory("StudentManagementSystem");
    } catch (Exception creationError) {
        mLog.error("Entered ::" + mClassName + "Error ::" +creationError.getMessage());
        throw new ExceptionInInitializerError(creationError);
    }
    mLog.debug("Exited Class Name ::" + mClassName + "Method Name ::" + methodName + " Object Reference :: " +entityManagerFactory);
    return entityManagerFactory;
} 
```

}

* * *

这是我的商业Logi

```
@EJB 
private EntityManagerFactoryUtil mEntityManagerFactory;

public StudentDetail save(StudentDetail studentInformation) {
    final String methodName = "Save";
    mLog.debug("Entered  ClassName::" + mClassName + " MethodName :: " + methodName);
    EntityManager entityManager = null;
    EntityTransaction entityTransaction = null;
    try { 
        entityManager = mEntityManagerFactory.getEntityManagerFactory().createEntityManager();
        if (entityManager != null && entityManager.isOpen()) {
            entityTransaction = entityManager.getTransaction();
            if(entityTransaction!=null) {
                entityTransaction.begin();
                if(entityTransaction.isActive()) {

                    // save student information into relation model
                    entityManager.persist(studentInformation);  
                    entityTransaction.commit();
                }
            }
        }
    } catch (Exception saveException) {
        try {
            if (entityManager != null && entityManager.isOpen()) {
                if(entityTransaction!=null  && entityTransaction.isActive()) {
                    entityTransaction.rollback();
                }
            }
        }catch (Exception transactionException) {
            mLog.warn("Exception in ClassName :: " + mClassName+ " MethodName::" + methodName + " warn :: "
                    + transactionException.getMessage() + "Student ID :: "+studentInformation.getId());
        }
            mLog.error("Exception in ClassName :: " + mClassName+ " MethodName::" + methodName + " Error :: "
                + saveException.getMessage() + "Student ID :: "+ studentInformation.getId());
    } finally {
        try {
            if (entityManager != null && entityManager.isOpen()) {
                entityManager.close();
            }
        } catch (Exception nullException) {
            mLog.warn("Exception in ClassName :: " + mClassName+ " MethodName::" + methodName + " warn :: "
                    + nullException.getMessage() + " Student ID :: "+ studentInformation.getId());
        }
        mLog.debug("Exited  ClassName::" + mClassName + " MethodName :: "+ methodName + "Student ID :: "+ studentInformation.getId());
    }
    return studentInformation;
} 
```

每当我调用 Save 方法时……每次创建新对象并访问业务逻辑时……?? 但是单例意味着......一次实例创建？？？？

10:31:49,413 INFO [stdout] (http--0.0.0.0-8080-2) 22754 [http--0.0.0.0-8080-2] 调试 com.dms.util.EntityManagerFactoryUtil - 退出类名 ::EntityManagerFactoryUtil 方法名::getEntityManagerFactory 对象参考 :: org.hibernate.ejb。**EntityManagerFactoryImpl@130df8**

10:31:56,232 INFO [stdout] (http--0.0.0.0-8080-3) 29573 [http--0.0.0.0-8080-3] 调试 com.dms.util.EntityManagerFactoryUtil - 退出类名 ::EntityManagerFactoryUtil 方法名::getEntityManagerFactory 对象参考 :: org.hibernate.ejb。**EntityManagerFactoryImpl@5170a8**

每次创建不同的对象时.. :(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:21:07.167

[@Singleton](http://docs.oracle.com/javaee/6/api/javax/ejb/Singleton.html)注解适用于会话 bean，而不适用于实用程序类

`Component-defining annotation for a singleton session bean.`

您可以使用[@PersistenceContext](http://docs.oracle.com/javaee/6/api/javax/persistence/PersistenceContext.html)注解来指定实体管理器工厂并注入EntityManager。

```
 @PersistenceContext(unitName = "StudentManagementSystem")
 private EntityManager entityManager; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:36:04.393

Singleton 类`EntityManagerFactoryUtil`仍然是唯一的，但它会在每次调用时创建一个新的 EntityManagerFactory 实例。

使用 PersistenceContext 的注入，以便让容器在您的应用程序中传播它。

链接：[Java EE 6 教程](http://docs.oracle.com/javaee/6/tutorial/doc/bnbqw.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T09:08:09.440

最后我得到了解决方案..请让我知道，有什么问题

```
@Startup

@Singleton

public EntityManagerFactory getEntityManagerFactory() throws Exception {
    final String methodName = "getEntityManagerFactory";
    mLog.debug("Entered Class Name ::" + mClassName + " Method Name ::" + methodName);
    try {
        if (!mEntityManagerFactory.isOpen()) {
            createEntityManagerFactory();
        }
    } catch (Exception creationException) {
        mLog.error("Entered ::" + mClassName + " Method Name :: " + methodName + " Error ::" + creationException.getMessage());
        throw new ExceptionInInitializerError(creationException);
    }
    mLog.debug("Exited Class Name ::" + mClassName + " Method Name :: " + methodName);
    return mEntityManagerFactory;
}

 /**
  * This method is used to create Entity Manager Factory to look the persistence unit name.
  * @author ashokkumar_ks@solartis.net
  * @since  08-Sep-2012
  */
@PostConstruct
public void createEntityManagerFactory() {
    final String methodName = "createEntityManagerFactory";
    mLog.debug("Entered Class Name ::" + mClassName + " Method Name ::"+ methodName);
    try {
        mEntityManagerFactory = Persistence.createEntityManagerFactory("StudentManagementSystem");
    } catch (Exception exception) {
        mLog.error("Entered ::" + mClassName +" Method Name :: "+ methodName + " Error ::" +exception.getMessage());
    }
    mLog.debug("Exited Class Name ::" + mClassName + " Method Name ::" + methodName + " Object Reference :: " +mEntityManagerFactory);
}

/**
 * This method is used to destroy the instance of entityManagerFactory.
 * @author ashokkumar_ks@solartis.net
 * @since 08-Sep-2012
 */
@PreDestroy
public void destroyEntityManagerFactory() {
    final String methodName = "destroyEntityManagerFactory";
    mLog.debug("Entered Class Name ::" + mClassName + " Method Name :: "+ methodName);
    try {
        if (mEntityManagerFactory != null && mEntityManagerFactory.isOpen()) {
            mEntityManagerFactory.close();
        }
    } catch (Exception exception) {
        mLog.error("Entered ::" + mClassName +" Method Name :: "+ methodName + " Error ::" +exception.getMessage());
    }
    mLog.debug("Exited Class Name ::" + mClassName + " Method Name :: " + methodName);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T05:29:13.980

单例是一种[设计模式](http://en.wikipedia.org/wiki/Singleton_pattern)，这意味着您必须以这样的方式实现您想要的单例类，以防止重复它的多个实例。

示例实现例如：

```
public class Singleton {
        private static volatile Singleton instance = null;

        private Singleton() {   }
        // Each time get Instance is called the actuall one is checked,
        // if exists no new one is created. Only if doesnt a new one is created       
        public static Singleton getInstance() { 
                if (instance == null) {
                        synchronized (Singleton.class){
                                if (instance == null) {
                                        instance = new Singleton();
                                }
                      }
                }
                return instance;
        }
} 
```

在您的示例中，Methode`getEntityManagerFactory`等效于`getInstance`Methode

# cocos2d-iphone - 在 Cocos2d 中，如何移动背景精灵图像？

> ID：12470785
> 
> 赞同：1
> 
> 时间：2012-09-18T05:17:05.047
> 
> 标签：cocos2d-iphone, xcode4.2

我正在做汽车游戏，我想以纵向模式移动背景图像（图像大小为 320 × 1024），为此我不想使用 CCParallaxNode 移动背景图像，甚至没有 TiledMap。有没有在纵向模式下移动背景的其他方式。

2分钟后，我想提高背景精灵的速度，谁能帮我做这件事。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T09:06:09.860

只需在预定更新方法上设置背景精灵的位置即可。

```
-(void) anUpdate:(ccTime)dt {

    bgSprite.position = ccp(<new x coordinate>, <new y coordinate>); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T14:37:43.037

在更新方法中定位您的 bgImage：

```
-(void) update:(ccTime)dt{
    total_time_ += dt;
    if(total_time_> 2*60)
      speed_ *=2;
    bgSprite.position = ccp(bgSprite.position.x, bgSprite.position.y+speed_*dt);
} 
```

# plugins - 如何为 Web 浏览器编写 Kinect 插件

> ID：12470789
> 
> 赞同：0
> 
> 时间：2012-09-18T05:17:29.140
> 
> 标签：plugins, web, kinect

我是网络开发的新手。我能否获得一些关于如何在 Web 浏览器中开发 kinect 应用程序的指示？

理想情况下，它应该是跨平台的。我不想使用 Zigfu 之类的付费第三方插件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:23:17.337

通过浏览器访问 Kinect 需要用户在您的客户端（PC 或 Mac）上安装某种服务。然后，该服务将通过 TCP 网络堆栈公开自己，以便浏览器插件可以在本地主机上回调它。Flash 或 Silverlight 将本机使用 TCP。如果您想使用 HTML5，您可以使用 Web 套接字或返回 JSON 数据的 AJAX 样式服务公开此服务。

总而言之，这是一个复杂的解决方案，永远不会为网站提供全球支持，因为在让人们使用硬件/服务/安装程序启动和运行方面没有一致的用户体验。我只会在受控环境中使用它；而是查看富客户端应用程序以获得更好的 Kinect 体验。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-19T04:33:11.143

Zigfu 使用[http://www.firebreath.org/](http://www.firebreath.org/)

我创建了 Zigfu。

# windows-phone-7 - 获取 dropbox access_token 在 Windows 上有效，但在 Windows Phone 上无效

> ID：12470791
> 
> 赞同：3
> 
> 时间：2012-09-18T05:17:30.823
> 
> 标签：windows-phone-7, oauth, token, dropbox

从 Dropbox 请求 access_token 时，我遇到了一个奇怪的问题。相同的代码在 Windows 上完美运行。我得到请求令牌，打开网页，然后得到访问令牌。

在 Windows Phone 上，完全相同的顺序不起作用。取回请求令牌后，我可以打开网页并登录，但是 oauth\access_token 每次都会失败，并显示以下内容

> WebException: Message="远程服务器返回错误：NotFound.StatusCode=System.Net.HttpStatusCode.Forbidden StatusDescription=Forbidden

只是为了好玩，我尝试并排调试 Windows Phone 和 Windows 代码，并在两者之间交换请求令牌密钥和令牌秘密。我发现在 Windows Phone 上登录 Dropbox 是问题的根源。如果从手机上的浏览器登录，我永远无法获得访问令牌，但它在桌面上运行良好。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T18:53:56.613

解决方案非常简单。就在打开保管箱页面之前，我添加了一行：

> myBrowserControl.IsScriptEnabled = true;

起初，我在我的应用页面上使用 Web 浏览器控件，并且只设置了用于 Dropbox 登录的 URL。该控件的所有其他设置都是默认设置，这意味着默认情况下该控件上的脚本被禁用。Dropbox 需要 javascript 才能登录，所以没有启用脚本的登录页面就无法正常工作。

# java - 使用 POI 导出到 XLS

> ID：12470797
> 
> 赞同：1
> 
> 时间：2012-09-18T05:18:05.250
> 
> 标签：java, apache-poi, xls

我想使用浏览器将超过 200000 行和 60 列从数据库导出到客户端计算机。我正在使用 Servlet 和 POI 3 .8 版本的 jar 和以下代码。

```
ServletOutputStream servletOutputStreamObj = response.getOutputStream();
HSSFWorkbook workBook =  new HSSFWorkbook ();
response.setContentType("application/vnd.ms-excel");
response.setHeader("Content-Disposition", "attachment; filename=\"" + strFileName + ".xls\"");
workBook.write(servletOutputStreamObj); 
```

此代码最多可运行 65535 行。如何使其获得更多记录。（xls/xlsx 两种格式都可以）。

谁能帮我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T10:03:01.330

您正在使用一个[HSSFWorkbook](http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html)对象，该对象创建一个限制为 65,535 行的 Excel **xls文件。**

相反，您应该使用创建 Excel **xlsx文件的**[XSSFWorkbook](http://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFWorkbook.html) ，该文件又支持 1,048,576 行。在这种情况下，您还应该更改 ContentType 和文件扩展名。

 **如果您使用 XSSFWorkbook 内存不足，请尝试[SXSSFWorkbook](http://poi.apache.org/spreadsheet/how-to.html#sxssf)。

这是来自 Apache POI 网站的 3 个类的[背景。](http://poi.apache.org/spreadsheet/index.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:27:26.167

可能您可以根据需要查看此示例。此示例代码尝试创建多达 100000 条记录的 excel 文档。

[演示可用于生成大型工作簿并避免 OutOfMemory 异常的解决方法](http://www.docjar.org/html/api/org/apache/poi/xssf/usermodel/examples/BigGridDemo.java.html)**

# php - div中的PHP回显变量

> ID：12470798
> 
> 赞同：-6
> 
> 时间：2012-09-18T05:18:08.823
> 
> 标签：php, echo

请帮助我:)我有这个代码......

```
while($row = mysql_fetch_array($result))
{   
$pid=$row ['pid'];
 echo '<div class="single"><div class="wrap">

 <div style="text-align:center;">
     <a href="http://localhost/wordpress/wp-content/themes/snarfer.php?id=<?php echo $pid ?>">Comments</a>

 </br>
<a href="MyOnlineStore/product.php?id=<?php echo $pid?>">View Details</a>
 </div>
 <a href="'.$path.$row['filename'].'" rel="lightbox[plants]" title="'.$row['alttext'].'"><img src="'.$path.$row['filename'].'" alt="Plants: image 1 0f 4 thumb" /></a>
 </div>
</div>';
} 
```

我只是想知道如何回应这个 $pid ?? tnx :)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-18T05:24:51.447

在 HTML 中回显 PHP 而不是在 PHP 中回显 HTML 被认为是一种更好的做法，如下所示：

```
<?php while($row = mysql_fetch_array($result)): $pid = $row ['pid']; ?>
<div class="single">
    <div class="wrap">
        <div style="text-align:center;">
            <br />
            <a href="MyOnlineStore/product.php?id=<?php echo $pid; ?>">View Details</a>
        </div>
        <a href="<?php echo $path.$row['filename']; ?>" rel="lightbox[plants]" title="<?php echo $row['alttext']; ?>"><img src="<?php echo $path.$row['filename']; ?>" alt="Plants: image 1 0f 4 thumb" /></a>
    </div>
</div>
<?php endwhile; ?> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T05:20:44.450

回答您的问题“如何回显 $pid？” 答案是`echo $pid;`

您还在 php 中使用 php open-close 标签打开`<?php ?>`，这将不起作用。

让我建议您阅读[http://php.net/manual/en/function.echo.php](http://php.net/manual/en/function.echo.php)并熟悉 php 的基本原理。

此外，正如@Juanid Bhura 所写

`Its considered a better practice to echo PHP within HTML and not HTML within PHP`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T05:20:42.157

您的语法错误；你有 php 语法 -in- php 语法。将您的代码更改为以下内容，它应该可以工作：

```
echo '<div class="single"><div class="wrap">

<div style="text-align:center;">
 <a href="http://localhost/wordpress/wp-content/themes/snarfer.php?id=' . $pid . '">Comments</a>

</br>
<a href="MyOnlineStore/product.php?id=' . $pid . '">View Details</a>
</div>
<a href="'.$path.$row['filename'].'" rel="lightbox[plants]" title="'.$row['alttext'].'"><img src="'.$path.$row['filename'].'" alt="Plants: image 1 0f 4 thumb" /></a>
</div>
</div>'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T05:20:22.360

希望这可以帮助，

`<a href="MyOnlineStore/product.php?id='.$pid.'">View Details</a>`

`<?php echo $pid?>`内引号作为普通字符串被忽略并且不被解析。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-18T05:23:18.413

尝试这个：

```
while($row = mysql_fetch_array($result))
{
    $pid=$row ['pid'];
    echo '<div class="single"><div class="wrap">

 <div style="text-align:center;">
     <a href="http://localhost/wordpress/wp-content/themes/snarfer.php?id='. $pid .'">Comments</a>

 </br>
<a href="MyOnlineStore/product.php?id='.$pid.'">View Details</a>
 </div>
 <a href="'.$path.$row['filename'].'" rel="lightbox[plants]" title="'.$row['alttext'].'"><img src="'.$path.$row['filename'].'" alt="Plants: image 1 0f 4 thumb" /></a>
 </div>
</div>';
} 
```

# c# - 使用母版页 ASP.net 时的 DefaultButton

> ID：12470801
> 
> 赞同：2
> 
> 时间：2012-09-18T05:18:50.963
> 
> 标签：c#, asp.net, .net-3.5

我在我的解决方案中使用母版页。在该母版页中有一个名为“保存”的图像按钮，用作我所有页面的保存选项，在母版页中设置为默认按钮。问题是，在我的一个页面中，我有一个 textchanged 事件，我想在按下“Enter”键时工作。但是当我按下“Enter”键时，“保存”功能在 textchanged 事件之后起作用。我不想在“Enter”键按下时发生“保存”功能。我不希望我的页面上有任何默认按钮

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:36:21.413

我认为您在文本框中工作时必须防止输入键，只需将此功能放在您的页面中即可。

只需将`onkeydown`事件添加到您的文本框

```
<input type='text' onkeydown="return (event.keyCode!=13);" /> 
```

这个功能需要的另一个`jquery`

```
$('input').keypress(function(event) {
    if (event.keyCode == 13) {
        event.preventDefault();
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:39:10.230

您可以设置按钮的**UseSubmitBehavior = "false"**

类似的问题在这里[Canceling the default submit button in ASP.NET](https://stackoverflow.com/questions/1473388/asp-net-canceling-the-default-submit-button)

# xslt - 为 umbraco XSLT 创建垂直多级导航

> ID：12470802
> 
> 赞同：1
> 
> 时间：2012-09-18T05:19:00.627
> 
> 标签：xslt, nested, umbraco

我正在尝试使用 XSLT 为 Umbraco 创建一个垂直的多级导航，它将自动添加嵌套列表。目前，我不得不继续手动将每个嵌套列表添加到 XSLT 中（这不是一个好习惯）。

我创建了以下菜单，但我需要帮助，因为它没有正确创建嵌套列表：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE xsl:stylesheet [ <!ENTITY nbsp "&#x00A0;"> ]>
<xsl:stylesheet
  version="1.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:msxml="urn:schemas-microsoft-com:xslt"
  xmlns:umbraco.library="urn:umbraco.library"
  exclude-result-prefixes="msxml umbraco.library">

<xsl:output method="xml" omit-xml-declaration="yes"/>

<xsl:param name="currentPage"/>

<xsl:template match="/">
<xsl:variable name="level1" select="$currentPage/ancestor-or-self::* [@level = 2 and string(umbracoNaviHide) != '1' and string(hideFromSideNavigation) != '1']" />  
<xsl:variable name="level" select="2"/>

<div class="subnav">
    <!-- LEVEL 1 -->
    <p><xsl:value-of select="$level1/@nodeName"/></p>

    <ul>
        <xsl:call-template name="drawNodes">
            <xsl:with-param name="parent" select="$currentPage/ancestor-or-self::* [@isDoc][@level=2]"/>
        </xsl:call-template>
    </ul>
</div>
</xsl:template>

<xsl:template name="drawNodes">
    <xsl:param name="parent"/>
    <xsl:for-each select="$parent/ancestor-or-self::* [@level=2]/* [@isDoc and string(umbracoNaviHide) != '1' and string(@template) != '0']">
        <li>
            <xsl:if test="descendant-or-self::*[@id = $currentPage/@id]">
                <xsl:attribute name="class">current</xsl:attribute>
            </xsl:if>

            <xsl:if test="count(./* [@isDoc and string(umbracoNaviHide) != '1' and string(@template) != '0']) = 0">
                <a href="{umbraco.library:NiceUrl(@id)}">
                    <xsl:value-of select="@nodeName"/>
                </a>
            </xsl:if>

            <xsl:if test="count(./* [@isDoc and string(umbracoNaviHide) != '1' and string(@template) != '0']) > 0">
                <a href="{umbraco.library:NiceUrl(@id)}">
                    <xsl:value-of select="@nodeName"/>
                </a>
                <ul>
                    <xsl:choose>
                        <xsl:when test="./umbracoNaviHide != '1'">
                            <li>
                                <xsl:if test="descendant-or-self::*[@id = $currentPage/@id]">
                                    <xsl:attribute name="class">current</xsl:attribute>
                                </xsl:if>
                                <a href="{umbraco.library:NiceUrl(@id)}">
                                    <xsl:value-of select="@nodeName"/>
                                </a>
                            </li>
                        </xsl:when>
                    </xsl:choose>
                    <xsl:call-template name="drawNodes">
                        <xsl:with-param name="parent" select="."/>
                    </xsl:call-template>
                </ul>
            </xsl:if>
        </li>
    </xsl:for-each>
</xsl:template>

</xsl:stylesheet> 
```

这是手动添加的嵌套列表 XSLT：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE xsl:stylesheet [ <!ENTITY nbsp "&#x00A0;"> ]>
<xsl:stylesheet
  version="1.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:msxml="urn:schemas-microsoft-com:xslt"
  xmlns:umbraco.library="urn:umbraco.library"
  exclude-result-prefixes="msxml umbraco.library">

<xsl:output method="xml" omit-xml-declaration="yes"/>

<xsl:param name="currentPage"/>

<xsl:template match="/">
<xsl:variable name="level1" select="$currentPage/ancestor-or-self::* [@level = 2 and string(umbracoNaviHide) != '1' and string(hideFromSideNavigation) != '1']" />  
<xsl:variable name="level" select="2"/>

<div class="subnav">
    <!-- LEVEL 1 -->
    <p><xsl:value-of select="$level1/@nodeName"/></p>
    <!-- LEVEL 2 -->
    <ul>
        <xsl:for-each select="$currentPage/ancestor-or-self::* [@level=$level]/* [@isDoc and string(umbracoNaviHide) != '1' and string(@template) != '0']">
            <li>
                <xsl:if test="descendant-or-self::*[@id = $currentPage/@id]">
                    <xsl:attribute name="class">current</xsl:attribute>
                </xsl:if>
                <a href="{umbraco.library:NiceUrl(@id)}">
                    <xsl:value-of select="@nodeName"/>
                </a>
                <!-- LEVEL 3 if any more nodes are Visible -->
                <xsl:if test="*[@isDoc][not(umbracoNaviHide = 1)]">
                    <ul>
                        <xsl:for-each select="./* [@isDoc and string(umbracoNaviHide) != '1' and string(@template) != '0']">
                            <li>
                                <xsl:if test="descendant-or-self::*[@id = $currentPage/@id]">
                                    <xsl:attribute name="class">current</xsl:attribute>
                                </xsl:if>
                                <a href="{umbraco.library:NiceUrl(@id)}">
                                    <xsl:value-of select="@nodeName"/>
                                </a>
                                <!-- LEVEL 4 if any more nodes are Visible -->
                                <xsl:if test="*[@isDoc][not(umbracoNaviHide = 1)]">
                                    <ul>
                                        <xsl:for-each select="./* [@isDoc and string(umbracoNaviHide) != '1' and string(@template) != '0']">
                                            <li>
                                                <xsl:if test="descendant-or-self::*[@id = $currentPage/@id]">
                                                    <xsl:attribute name="class">current</xsl:attribute>
                                                </xsl:if>
                                                <a href="{umbraco.library:NiceUrl(@id)}">
                                                    <xsl:value-of select="@nodeName"/>
                                                </a>
                                                <!-- LEVEL 5 if any more nodes are Visible -->
                                                <xsl:if test="*[@isDoc][not(umbracoNaviHide = 1)]">
                                                    <ul>
                                                        <xsl:for-each select="./* [@isDoc and string(umbracoNaviHide) != '1' and string(@template) != '0']">
                                                            <li>
                                                                <xsl:if test="descendant-or-self::*[@id = $currentPage/@id]">
                                                                    <xsl:attribute name="class">current</xsl:attribute>
                                                                </xsl:if>
                                                                <a href="{umbraco.library:NiceUrl(@id)}">
                                                                    <xsl:value-of select="@nodeName"/>
                                                                </a>
                                                            </li>
                                                        </xsl:for-each>
                                                    </ul>
                                                </xsl:if>
                                            </li>
                                        </xsl:for-each>
                                    </ul>
                                </xsl:if>
                            </li>
                        </xsl:for-each>
                    </ul>
                </xsl:if>
            </li>
        </xsl:for-each>
    </ul>
</div>
</xsl:template>

</xsl:stylesheet> 
```

任何人都可以提出解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T03:53:01.520

在 Umbraco 论坛上发布相同的问题后，我收到了以下链接： http: [//our.umbraco.org/projects/website-utilities/cogworks-flexible-navigation](http://our.umbraco.org/projects/website-utilities/cogworks-flexible-navigation)

它很完美，希望能帮助其他人。一个伟大的包，允许垂直和水平导航类型。

# windows-phone-7.1 - 如何获取 Windows Phone 的唯一 ID？

> ID：12470804
> 
> 赞同：1
> 
> 时间：2012-09-18T05:19:07.903
> 
> 标签：windows-phone-7.1, mac-address, imei, unique-id

我想在我的应用程序中获取我的 Windows Phone 的 IMEI 号码。如何以编程方式访问它？如果IMEI无法进入我的应用程序，那么如何访问我的手机的MAC地址。在我的应用程序中，管理员可以使用唯一 ID 阻止某些设备访问服务器资源。所以我想以编程方式和手动从电话中获取 UniqueID。

现在我可以从我的应用程序中访问 DeviceUniqueID，但不要在手机中显示它。我可以通过编程方式和手动方式访问 FirmwareVersion 和 HardwareVersion。它们在手机中显示为固件版本号和硬件版本号。它们是独一无二的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T08:06:43.487

您可以通过以下方式获取设备 ID：

```
DeviceExtendedProperties.GetValue("DeviceUniqueId") 
```

（在 Microsoft.Phone.Info 命名空间中）

请记住文档中的警告：

> 设备的唯一哈希。此值将在所有应用程序中保持不变，并且如果手机使用新版本的操作系统更新，则不会更改。**应用程序不应使用它来识别用户，因为即使设备的所有权转移，设备 ID 也将保持不变。**

您还需要在清单中声明您需要功能`ID_CAP_IDENTITY_DEVICE`

# c++ - QDialog exec() 并获取结果值

> ID：12470806
> 
> 赞同：27
> 
> 时间：2012-09-18T05:19:16.647
> 
> 标签：c++, qt, qdialog

我已经进行了子类`QDialog`化以实现类似于`QMessageBox`（我需要这个来允许定制）的功能。它有一条短信和确定、取消按钮。我正在显示`exec()`用于使其阻塞的对话框。现在，当用户单击 OK/Cancel 时，如何返回 true/false 值？

我尝试将按钮连接到`setResult()`然后，单击时返回结果值，但是

1.  单击按钮不会关闭对话框
2.  返回值不正确。以下是我编写的代码。我认为我在执行/结果部分错了 - 但我不确定如何解决它。

```
class MyMessageBox : public QDialog {
    Q_OBJECT

private slots:

    void onOKButtonClicked() { this->setResult(QDialog::Accepted); }
    void onCancelButtonClicked() { this->setResult(QDialog::Rejected); }

public:
    MyMessageBox(QMessageBox::Icon icon, const QString& title,
        const QString& text, bool showCancelButton = true,
        QWidget* parent = 0);

    virtual void resizeEvent(QResizeEvent* e);

    QDialog::DialogCode showYourself()
    {
        this->setWindowModality(Qt::ApplicationModal);
        this->exec();
        return static_cast<QDialog::DialogCode>(this->result());
    }
}; 
```

用户将实例化类并调用`showYourself()`预期返回值并关闭（并删除）对话框。

我已经发布了部分代码。如果您需要更多信息，请告诉我，我将发布完整版本。

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2012-09-18T08:21:25.493

几点：

1.  `setResult()`与其使用自己，不如使用[QDialog::accept()](http://qt-project.org/doc/qt-4.8/qdialog.html#accept)和[QDialog::r​​eject()](http://qt-project.org/doc/qt-4.8/qdialog.html#reject)。
2.  看来您没有充分利用信号和插槽。您需要创建对话（或另一个）的对象来收听对话的信号。
3.  在您的代码中，您也没有将信号连接到插槽。
4.  用我的修复`onOKButtonClicked`，`onCancelButtonClicked`是不必要的。
5.  用我的修复你不需要`showYourself()`. 只需调用`exec`，事件信息就会流动。

您需要在显示对话框之前添加此代码（`this`假设它在对话框方法中）：

```
QObject::connect(acceptButton, SIGNAL(clicked()), this, SLOT(accept()));
QObject::connect(rejectButton, SIGNAL(clicked()), this, SLOT(reject())); 
```

在您拥有的调用者对象中

```
void someInitFunctionOrConstructor(){
   QObject::connect(mydialog, SIGNAL(finished (int)), this, SLOT(dialogIsFinished(int)));
}

void dialogIsFinished(int){ //this is a slot
   if(result == QDialog::Accepted){
       //do something
       return
   }
   //do another thing
} 
```

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2014-04-27T11:36:55.420

另一种解决方案：

```
 // set signal and slot for "Buttons"
    connect(YesButton, SIGNAL(clicked()), dlg, SLOT(accept()));
    connect(NoButton, SIGNAL(clicked()), dlg, SLOT(reject()));

    // show modal window event loop and wait for button clicks
    int dialogCode = dlg->exec();

    // act on dialog return code
    if(dialogCode == QDialog::Accepted) { // YesButton clicked }
    if(dialogCode == QDialog::Rejected) { // NoButton clicked } 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-09-18T05:42:25.080

**案例 1**单击按钮不会关闭对话框。

为此，您必须关闭相应的对话框`SLOTS`，因此使用

```
void onOKButtonClicked(){ this->setResult(QDialog::Accepted); this->close();}
void onCancelButtonClicked(){ this->setResult(QDialog::Rejected);this->close();} 
```

*注意：只有在标准 QMessageBox 中单击了 Ok 按钮或 Cancel 按钮后，才会触发 setResult() 函数并更改状态。反之亦然，效果不一样。*

**情况2**返回值不正确。

我认为只有在您的对话框关闭后，您才能在`result()`函数中获得结果。因此，我想在您进行案例 1 中指定的更改后，它会得到解决。

如果仍然存在，请使用您自己的私有成员函数来解决它。

# alert - TFS 自定义项目警报

> ID：12470807
> 
> 赞同：2
> 
> 时间：2012-09-18T05:19:21.597
> 
> 标签：alert, tfs-workitem, team-project

我在配置 TFS 2010 时遇到问题。我的问题是 Team Web Access 中的默认“项目警报”不足以满足我们的要求。我们需要更详细的警报。

所以我的问题是：如何创建一个警报模板，如“项目警报”（Visual Studio -> 团队 -> 项目警报）列表中所示，所有用户（也通过 Web 访问）都可以访问，而无需安装TFS 电动工具。

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T20:29:39.437

我不相信这是可能的（至少不容易做到，您可以使用 Web 访问扩展来做一些事情，以在标准项目警报功能之外公开自定义控件）。

但是，如果您愿意，您可以使用 Power Tools 为您以外的人订阅警报。不理想，但通常足够了。

当然，任何人都可以安装 Team Explorer + Power Tools 并使用警报资源管理器创建自己的警报。

# android - Android Junit如何点击对话框项？

> ID：12470808
> 
> 赞同：0
> 
> 时间：2012-09-18T05:19:35.333
> 
> 标签：android, junit, dialog

正如标题一样，我必须对带有列表的对话框进行 Junit 测试。我想通过这种方式单击该项目，但它不起作用。我得到了对话框的位置并发送了一个触摸事件。

```
 Rect outRect = new Rect();
    dialogTmp.getWindow().getDecorView().getHitRect(outRect);
    int x = outRect.left + ((outRect.right - outRect.left) / 2);
    int y = outRect.top + ((outRect.bottom - outRect.top) / 2);
    MotionEvent ev = MotionEvent.obtain(SystemClock.uptimeMillis(),
            SystemClock.uptimeMillis(), MotionEvent.ACTION_DOWN,
            (float) x, (float) y, (float) 0.0125, 0, 0, 0, 0, 4, 0);
    dialogTmp.dispatchTouchEvent(ev);
    ev.setAction(MotionEvent.ACTION_UP);
    dialogTmp.dispatchTouchEvent(ev); 
```

我得到了这个错误：

```
09-18 13:35:31.211: I/TestRunner(16493): ----- begin exception -----
09-18 13:35:31.211: I/TestRunner(16493): junit.framework.AssertionFailedError: java.lang.NullPointerException
09-18 13:35:31.211: I/TestRunner(16493):    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:829)
09-18 13:35:31.211: I/TestRunner(16493):    at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1755)
09-18 13:35:31.211: I/TestRunner(16493):    at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1152)
09-18 13:35:31.211: I/TestRunner(16493):    at android.app.Dialog.dispatchTouchEvent(Dialog.java:642)
09-18 13:35:31.211: I/TestRunner(16493):    at java.lang.reflect.Method.invokeNative(Native Method)
09-18 13:35:31.211: I/TestRunner(16493):    at java.lang.reflect.Method.invoke(Method.java:507)
09-18 13:35:31.211: I/TestRunner(16493):    at android.test.InstrumentationTestCase.runMethod(InstrumentationTestCase.java:204)
09-18 13:35:31.211: I/TestRunner(16493):    at android.test.InstrumentationTestCase.runTest(InstrumentationTestCase.java:194)
09-18 13:35:31.211: I/TestRunner(16493):    at android.test.ActivityInstrumentationTestCase2.runTest(ActivityInstrumentationTestCase2.java:186)
09-18 13:35:31.211: I/TestRunner(16493):    at junit.framework.TestCase.runBare(TestCase.java:127)
09-18 13:35:31.211: I/TestRunner(16493):    at junit.framework.TestResult$1.protect(TestResult.java:106)
09-18 13:35:31.211: I/TestRunner(16493):    at junit.framework.TestResult.runProtected(TestResult.java:124)
09-18 13:35:31.211: I/TestRunner(16493):    at junit.framework.TestResult.run(TestResult.java:109)
09-18 13:35:31.211: I/TestRunner(16493):    at junit.framework.TestCase.run(TestCase.java:118)
09-18 13:35:31.211: I/TestRunner(16493):    at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:169)
09-18 13:35:31.211: I/TestRunner(16493):    at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:154)
09-18 13:35:31.211: I/TestRunner(16493):    at android.test.InstrumentationTestRunner.onStart(InstrumentationTestRunner.java:529)
09-18 13:35:31.211: I/TestRunner(16493):    at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1473)
09-18 13:35:31.211: I/TestRunner(16493):    at junit.framework.Assert.fail(Assert.java:47)
09-18 13:35:31.211: I/TestRunner(16493):    at java.lang.reflect.Method.invokeNative(Native Method)
09-18 13:35:31.211: I/TestRunner(16493):    at java.lang.reflect.Method.invoke(Method.java:507)
09-18 13:35:31.211: I/TestRunner(16493):    at android.test.InstrumentationTestCase.runMethod(InstrumentationTestCase.java:204)
09-18 13:35:31.211: I/TestRunner(16493):    at android.test.InstrumentationTestCase.runTest(InstrumentationTestCase.java:194)
09-18 13:35:31.211: I/TestRunner(16493):    at android.test.ActivityInstrumentationTestCase2.runTest(ActivityInstrumentationTestCase2.java:186)
09-18 13:35:31.211: I/TestRunner(16493):    at junit.framework.TestCase.runBare(TestCase.java:127)
09-18 13:35:31.211: I/TestRunner(16493):    at junit.framework.TestResult$1.protect(TestResult.java:106)
09-18 13:35:31.211: I/TestRunner(16493):    at junit.framework.TestResult.runProtected(TestResult.java:124)
09-18 13:35:31.211: I/TestRunner(16493):    at junit.framework.TestResult.run(TestResult.java:109)
09-18 13:35:31.211: I/TestRunner(16493):    at junit.framework.TestCase.run(TestCase.java:118)
09-18 13:35:31.211: I/TestRunner(16493):    at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:169)
09-18 13:35:31.211: I/TestRunner(16493):    at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:154)
09-18 13:35:31.211: I/TestRunner(16493):    at android.test.InstrumentationTestRunner.onStart(InstrumentationTestRunner.java:529)
09-18 13:35:31.211: I/TestRunner(16493):    at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1473)
09-18 13:35:31.211: I/TestRunner(16493): ----- end exception ----- 
```

任何提示将不胜感激。谢谢！

# python-requests - Python 请求记录到文件

> ID：12470810
> 
> 赞同：1
> 
> 时间：2012-09-18T05:19:49.327
> 
> 标签：python-requests

如何将日志记录配置为文件请求的获取或发布？

```
my_config = {'verbose': sys.stderr}
requests.get('http://httpbin.org/headers', config=my_config) 
```

我应该在详细中使用什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:39:26.937

您是否尝试过简单地打开文件？

```
>>> import sys
>>> type(sys.stderr)
file
>>> f = open('test.log', 'w')
>>> type(f)
f 
```

所以上面的例子看起来像这样：

```
my_config = { 'verbose': open('/path/to/file', 'w') }
requests.get('http://httpbin.org/headers', config = my_config) 
```

高温高压

# iphone - NSOperationQueue、weakSelf 和 blocks 的问题

> ID：12470820
> 
> 赞同：0
> 
> 时间：2012-09-18T05:20:43.993
> 
> 标签：iphone, objective-c, ios, ipad

我有以下代码：

```
 [[AHPinterestAPIClient sharedClient] getPath:requestURLPath parameters:nil 
             success:^(AFHTTPRequestOperation *operation, id response) {

                 [weakSelf.backgroundQueue_ addOperationWithBlock:^{
                     [self doSomeHeavyComputation];                    

                     [[NSOperationQueue mainQueue] addOperationWithBlock:^{
                           [weakSelf.collectionView_ setContentOffset:CGPointMake(0, 0)];
                     [weakSelf.collectionView_ reloadData];
                     [weakSelf.progressHUD_ hide:YES];
                     [[NSNotificationCenter defaultCenter] performSelector:@selector(postNotificationName:object:) withObject:@"UIScrollViewDidStopScrolling" afterDelay:0.3];
                     [weakSelf.progressHUD_ hide:YES];

                      }];

                  }];

             }
             failure:^(AFHTTPRequestOperation *operation, NSError *error) {
                [weakSelf.progressHUD_ hide:YES];
                [weakSelf.collectionView_.pullToRefreshView stopAnimating];
                 NSLog(@"Error fetching user data!");
                 NSLog(@"%@", error);
             }]; 
```

出于某种原因，这在 iOS 5 中工作得很好，但在 iOS 6 中却不行（它崩溃了）。现在我不打算询问 iOS 6，因为它仍处于保密协议之下。我想知道的是，上面的代码是否错误？如果是，我该如何解决。

如果我将代码放在 mainQueue 之外的块内，那就没问题了。我在这里要做的是仅在 [self doSomeHeavyComputation] 完成后才执行 NSOperationQueue mainQueue 。所以这是一个依赖，我应该如何添加这个依赖？

更新：

如果有帮助，这是崩溃日志：

![在此处输入图像描述](../Images/1aaed60a9bb945b69e20334c0f8d6fba.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:32:37.073

建议“展开”块中的弱引用，因此请尝试以下操作：

```
__weak id weakSelf = self;
[client getPath:path parameters:nil success:^(id op, id response) {
    id strongSelf = weakSelf;
    if (strongSelf == nil) return;

    __weak id internalWeakSelf = strongSelf;
    [strongSelf.backgroundQueue_ addOperationWithBlock:^{
        id internalStrongSelf = internalWeakSelf;
        if (internalStrongSelf == nil) return;

        [internalStrongSelf doSomeHeavyComputation];                    

        __weak id internalInternalWeakSelf = internalStrongSelf;
        [[NSOperationQueue mainQueue] addOperationWithBlock:^{
            id internalInternalStrongSelf = internalInternalWeakSelf;
            if (internalInternalStrongSelf == nil) return;

            [internalInternalStrongSelf reloadCollectionView];
        }];
    }];
}
failure:^(id op, NSError *error) {
    id strongSelf = weakSelf;
    if (strongSelf == nil) return;

    [strongSelf stopProgress];
    NSLog(@"Error fetching user data: %@", error);
}]; 
```

# asp.net-mvc - 在 MVC3 中发布表单接收模型

> ID：12470828
> 
> 赞同：0
> 
> 时间：2012-09-18T05:21:08.127
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我有以下模型：

```
public class Person
{
    public int ID{get;set;}
    public string Name {get;set;}
    public string Address{get;set;}
} 
```

另一方面，我有以下称为索引的视图：

```
@model List<Person>
@{

   foreach(Person person in Model)
   {
     <a href="#" id="@person.ID">@person.Name</a>
   }
} 
```

最后我有以下动作：

```
public ActionResult Index()
{
     List<Person> persons=new List<Person>();
     persons.Add(new Person(){ID=1,Name="John"});
     persons.Add(new Person(){ID=2,Name="Tom"});
     persons.Add(new Person(){ID=2,Name="Derek"});
} 
```

我正在考虑创建一个表单（因为由于某些要求我不能为此应用程序使用 ajax），以发布用户选择的人的实例（当单击我的视图的锚点时）。我想知道如何将 Person 实例发布到下面描述的另一个操作中（因为我的视图被输入到一个通用的人员列表中）。

```
[HttpPost]
public ActionResult Index(Person person)
{
     ... Do whatever
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:25:00.123

**POST解决方案：**

为了与`POST`您合作，您必须放置一个表格并种植隐藏字段，例如

```
@model List<Person>
@{

   foreach(Person person in Model)
   { 
     <form action="/controller/actionresult">
     <input type="submit" value=person.Name />
     <input type="hidden" name="ID" value="@person.ID"
     <input type="hidden" name="Name" value="@person.Name"
     </form>
   }
} 
```

在服务器端

```
[HttpPost]
public ActionResult Index(Person person)
{
     ... Do whatever
} 
```

**解决方案`GET`：**

`a`标签通常不适用于 POST，默认行为是通过请求服务器获取资源，`GET`尽管您可以使用 javascript 覆盖此行为，但在您的情况下，这不是一个选项，因此您可以尝试

```
@model List<Person>
    @{

       foreach(Person person in Model)
       {
         @Html.ActionLink(persno.Name,"Index","home",new{ID=person.ID,Name=person.Name,null);      
       }
    } 
```

唯一的缺点是您必须使用提交按钮而不是`a`标签，您可以使用 css 样式来设置按钮的样式，就像`a`标签一样。此外，如果您没有为此类请求设置自定义路由，则 uri 将具有查询字符串参数，例如

```
http://yourdomain/home/index?ID=1&Name=john 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T05:36:28.670

你从错误的角度接近它。由于您没有提供任何编辑 a 的方法，`Person`因此您应该通过引用传递它（即`PersonId`）。

因此，只需使用直接链接：

// 看法：

```
Html.ActionLink( person.Name, "ViewPerson", new { personId = person.ID } ); 
```

// 控制器动作：

```
public ActionResult ViewPerson(String personId) {
    Person person = GetPersonFromDatabase( personId );
} 
```

# android - /proc/slabinfo 提供什么信息？

> ID：12470829
> 
> 赞同：2
> 
> 时间：2012-09-18T05:21:14.033
> 
> 标签：android, linux, memory, memory-leaks, linux-kernel

应用程序正在消耗内存。在顶部被视为“使用的内存”。我想知道它对应的驱动程序是否在分配内存而不是在应用程序退出时释放它。/proc/slabinfo 会帮我找出答案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T10:23:43.637

`/proc/slabinfo`提供有关平板级别的内存使用情况的信息。Linux 内核使用slab 池来管理页面级别以上的内存。常用的对象都有自己的slab pool。

[http://unixfoo.blogspot.co.il/2008/11/what-is-procslabinfo.html](http://unixfoo.blogspot.co.il/2008/11/what-is-procslabinfo.html)

# android - 如果彼此相等，则更改 textViews

> ID：12470832
> 
> 赞同：1
> 
> 时间：2012-09-18T05:21:30.913
> 
> 标签：android, android-layout, android-intent, android-widget

所以我很早就问了一个关于如何通过单击按钮来更改文本视图的问题，效果很好！

所以现在......我将如何做到这一点，如果我有 1 个 textview 作为计数器，另一个作为限制，并且当计数器达到限制时，textview1 将返回 0 并且限制会增加。

我试过这个：

```
If (textViewCounter==textViewLimit);
textViewCounter.setText(0);
textViewLimit.setText(textViewLimit.getText().toString() + 100); 
```

但这不起作用......我还能怎么做呢？

**编辑**我的问题只是一个例子。我打算用它来操纵我的价值观。但这就是一切：问题代码位于 btnBattle onClick 的底部

```
package com.example.intent_buttontests;

import android.app.Activity;
import android.content.Intent;
import android.content.res.ColorStateList;
import android.graphics.Color;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.Spinner;
import android.widget.TextView;

public class PlayScreen extends Activity {

private int i = 0;

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.play_screen);

    String Name = getIntent().getStringExtra("strName");
    TextView textview5 = (TextView) findViewById(R.id.textView5);
    textview5.setText(Name);
    textview5.setTextColor(Color.CYAN);

    String Race = getIntent().getStringExtra("strRace");
    TextView textViewStrRace = (TextView) findViewById(R.id.textViewStrRace);
    textViewStrRace.setText(Race);

    String Class = getIntent().getStringExtra("strClass");
    TextView textViewStrClass = (TextView) findViewById(R.id.TextViewStrClass);
    textViewStrClass.setText(Class);

    String Alliance = getIntent().getStringExtra("strAlliance");
    TextView textViewStrAlliance = (TextView) findViewById(R.id.textViewStrAlliance);
    textViewStrAlliance.setText(Alliance);

    Button btnInventory = (Button) findViewById(R.id.button1);
    btnInventory.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            Intent intent = new Intent(v.getContext(), Inventory.class);
            startActivityForResult(intent, 0);

        }
    });

    Button btnEquipment = (Button) findViewById(R.id.button2);
    btnEquipment.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            Intent intent = new Intent(v.getContext(), Equipment.class);
            startActivityForResult(intent, 0);

        }
    });

    Button btnStats = (Button) findViewById(R.id.button3);
    btnStats.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            Intent intent = new Intent(v.getContext(), Statistics.class);
            startActivityForResult(intent, 0);

        }
    });

    Button btnShop = (Button) findViewById(R.id.Button01);
    btnShop.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            Intent intent = new Intent(v.getContext(), Shop.class);
            startActivityForResult(intent, 0);

        }
    });

    Button btnCrafting = (Button) findViewById(R.id.button4);
    btnCrafting.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            Intent intent = new Intent(v.getContext(), Crafting.class);
            startActivityForResult(intent, 0);

        }
    });

    Button btnClassTraining = (Button) findViewById(R.id.button5);
    btnClassTraining.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            Intent intent = new Intent(v.getContext(), ClassTraining.class);
            startActivityForResult(intent, 0);

        }
    });

    Button btnBattle = (Button) findViewById(R.id.btnBattle);
    btnBattle.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method
            // Definitions

            Spinner spinnerMonsters = (Spinner) findViewById(R.id.spinnerMonsters);
            TextView textViewBattleResults = (TextView) findViewById(R.id.textViewBattleResults);
            TextView textViewXPValue = (TextView) findViewById(R.id.textViewXPValue);
            TextView textViewXpNextLevel = (TextView) findViewById(R.id.textViewXpNextLevel);

            // When XP limit is reached, increases by 100 and sets back to 0

            if (textViewXPValue.getText().toString().equals(textViewXpNextLevel.getText().toString())); {
            textViewXPValue.setText("0");
            int newLimit = Integer.parseInt(textViewXpNextLevel.getText().toString()) + 100;
            textViewXpNextLevel.setText(newLimit+"");

            }

            if (spinnerMonsters.getItemAtPosition(0).toString().equals("(0) Training Dummy")); {
            textViewBattleResults.setText("You have killed Training Dummy for 10 experience points!");
            i = i+10;
            textViewXPValue.setText(String.valueOf(i));
            }

        }

    });

} 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:23:16.947

而不是只比较两个文本视图的文本（字符串），

**更新：**

```
If (textViewCounter.getText().toString().equals(textViewLimit.getText().toString()));
{
 textViewCounter.setText(0);
 int newLimit = Integer.parseInt(textViewLimit.getText().toString()) + 100;
 textViewLimit.setText(newLimit+"");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:34:46.550

当然不行，不能直接比较textView的内容。你应该做的是创建一个字符串来保存文本视图的内容。

```
String stextViewCounter = textViewCounter.getText().toString();
String stextViewLimit = textViewLimit.getText().toString();

if(stextViewCounter.equal(stextViewLimit)){
     textViewCounter.setText(0);
     textViewLimit.setText(stextViewLimit + 100);
} 
```

除非您使用整数，否则您必须使用 parse int 解析它

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T05:31:44.027

```
If (textViewCounter.getText().toString().equals(textViewLimit.getText().toString()));
{
textViewCounter.setText("");
int n = Integer.parseInt(textViewLimit.getText().toString()) + 100;
textViewLimit.setText("" + n);
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-18T05:23:17.470

尝试使用这个

```
If (textViewCounter.getText().toString().equals(textViewLimit.getText().toString()))
textViewCounter.setText(0);
textViewLimit.setText(textViewLimit.getText().toString() + 100); 
```

这可能会帮助你

# c# - 我在哪里可以了解递归到引用类型的 EF 迁移功能？

> ID：12470837
> 
> 赞同：0
> 
> 时间：2012-09-18T05:22:37.440
> 
> 标签：c#, entity-framework, ef-code-first, entity-framework-migrations

我刚刚遇到了一个我没有意识到的代码优先迁移功能，这几乎是因为我所知道的一切都来自一些入门博客文章。

是否有关于以下行为的更深入的信息（我觉得这很酷，因为我似乎可以将它与 AutoMapper 结合起来以简化我的 Web 服务 ETL 生活）？

例如我有：

```
public class foo
{
  [Key]
  public int id { get; set; }
  public bar { get; set; }
}

public class bar
{
  public int id { get; set; }
  public string name { get; set; }
}

public class Context : DbContext
{
  public DbSet<foo> Foos { get; set; }
} 
```

然后我运行迁移命令：

```
Enable-Migrations
Add-Migration FirstMigration 
```

我得到：

```
public partial class FirstMigration : DbMigration
{
    public override void Up()
    {
        CreateTable(
            "dbo.foos",
            c => new
                {
                    id = c.Int(nullable: false, identity: true),
                    name = c.String(),
                    bar_id = c.Int(nullable: false),
                    bar_name = c.String(),
                })
                .PrimaryKey(t => t.id);
    }
    public override void Down()
    {
        DropTable("dbo.foos");
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:19:14.917

检查这两个博客文章。他们将为您提供迁移功能的概述：

*   [自动迁移](http://blogs.msdn.com/b/adonet/archive/2012/02/09/ef-4-3-automatic-migrations-walkthrough.aspx)
*   [基于代码的迁移](http://blogs.msdn.com/b/adonet/archive/2012/02/09/ef-4-3-code-based-migrations-walkthrough.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-25T02:12:34.493

我不是 C# 专家，这可能是一个错字，但 bar 导航属性的 foo 类中是否缺少属性名称？

# c# - 我的 XPath 有什么问题？

> ID：12470846
> 
> 赞同：3
> 
> 时间：2012-09-18T05:23:44.913
> 
> 标签：c#, .net, xml, xpath, xml-parsing

我尝试解析这个 XML 文件（来自[Chirpy](http://chirpy.codeplex.com/)的配置文件）：

```
<?xml version="1.0" encoding="utf-8" ?>
<root xmlns="urn:ChirpyConfig" 
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="urn:ChirpyConfig http://www.weirdlover.com/chirpy/chirp.xsd">
     <FileGroup Name="Built.debug.js" Minify="false">
        <File Path="jquery/jquery-1.7.2.js"/>
        <File Path="jquery.address/jquery.address-1.4.js"  />
    </FileGroup>
</root> 
```

使用此代码：

```
var path = Server.MapPath("~/Scripts/ScriptfilesMashup.chirp.config");
var file = new XPathDocument(path);
var nav = file.CreateNavigator();
var nodes = nav.Select("/root/FileGroup/File"); 
```

但`nodes`始终为空，无论我如何调用该`nav.Select`方法。我以前几乎没有使用过 XPath，所以也许我做错了——但是什么？只有选择器`*`给了我根节点。

获取所有节点的`Path`属性的选择器是什么？`File`

**编辑：解决方案**

感谢 Kirill，最终的解决方案如下所示：

```
var path = Server.MapPath("~/Scripts/ScriptfilesMashup.chirp.config");
var file = new XPathDocument(path);
var nav = file.CreateNavigator();
var ns = "urn:ChirpyConfig";

XmlNamespaceManager nsMgr = new XmlNamespaceManager(nav.NameTable);
nsMgr.AddNamespace("x", ns);

var nodes = nav.Select("/x:root/x:FileGroup/x:File/@Path", nsMgr);    
while(nodes.MoveNext())
{
    var path = nodes.Current.Value;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T05:28:04.887

这是因为元素`root`，`FileGroup`并且`File`是在命名空间中定义的`urn:ChirpyConfig`。

用这个：

```
XPathDocument xmldoc = new XPathDocument(xmlFile);
XPathNavigator nav = xmldoc.CreateNavigator();
XmlNamespaceManager nsMgr = new XmlNamespaceManager(nav.NameTable);
nsMgr.AddNamespace("x", "urn:ChirpyConfig");
XPathNavigator result = nav.SelectSingleNode("/x:root/x:FileGroup/x:File", nsMgr); 
```

# sql - 基于多列的查询

> ID：12470847
> 
> 赞同：-1
> 
> 时间：2012-09-18T05:24:06.947
> 
> 标签：sql

我有一个数据表，其中包含取决于年龄、性别和邮政编码的健康保险费率。我想创建一个查询，通过特定的计划名称/性别/邮政编码组合为我提供最低的溢价。

例如，最低价格是多少？

```
 Zip           Gender      Age    Lowest_price_rate
   ======================================================
   10001           F         90            ?
   90210           M         65            ? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:49:16.043

我假设您正在使用某种形式的 SQL，并且您已经在表中找到了费率。

按您想要的任何内容对条目进行分组，然后选择最小的一个。查询可能如下所示：

```
SELECT Zip,Gender,Age,MIN(rate) AS Lowest_price_rate FROM MyTable GROUP BY Gender,Age,Zip 
```

当然，如果您只想查看某些标准，您可以`WHERE`在该部分之后放置一个标准条款。`FROM MyTable`该查询未经测试，但它应该可以工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:56:09.737

`SELECT MIN(Lowest_price_rate) FROM TABLE_NAME WHERE plan_name ='' AND gender = '' AND Age = ''`

将上述查询与必要的值一起使用。（字段的表名和值）

# magento - Magento 重新索引问题

> ID：12470855
> 
> 赞同：7
> 
> 时间：2012-09-18T05:25:18.443
> 
> 标签：magento

![在此处输入图像描述](../Images/6959cfea43a72b582c7fd82f43a811f9.png)我在 Magento 中面临一个问题。我有一个具有多网站功能的 Magento 商店，其中包含大约 4500 种产品。我想重新索引产品。

我通过 magento 默认功能通过 csv 导入了 4500 个产品。导入产品后，更改未显示在前端所以我去索引管理，我发现有两个索引处于处理状态

1 产品属性 2 产品平面数据

我已经完成了以下步骤：

1 尝试从管理端系统->索引管理重新索引它

2尝试通过调用php脚本手动执行

```
require_once 'app/Mage.php';
umask( 0 );
Mage :: app( "default" );
$process = Mage::getSingleton('index/indexer')->getProcessByCode('catalog_product_flat');
$process->reindexAll(); 
```

或者

```
$indexingProcesses = Mage::getSingleton('index/indexer')->getProcessesCollection(); 
foreach ($indexingProcesses as $process) {
    $process->reindexEverything();
} 
```

还将 var/locks 文件夹权限更改为 777 并重命名该文件夹，并尝试删除在此锁定文件夹中创建但未获得解决方案的 .lock 文件。

我没有 SSH 权限。那么有没有其他解决方案可以帮助我解决重新索引问题。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T06:01:09.760

**注意：根据我的经验，虽然以下答案与此类问题有关，但它似乎不是提问者当前遇到的情况的原因**

`Processing`表示以下两种情况之一：

*   索引实际上可能仍在运行，在这种情况下，请坐等它们完成。Magento 索引可能需要很长时间（对于 4500 个产品，“小时”是可能的，具体取决于服务器）。

*   一个索引器进程可能已经死亡，留下过时的锁。同时，失效的索引器可能已由其他用户运行。最常见的情况是`cron`被错误地配置为将索引器运行为`root`或普通用户帐户，而不是作为网站使用的同一用户（例如：`apache`或`www`）。

真正`Processing`的意思是“Magento 未能为这些索引器作业获取锁”。第一个案例是微不足道且无趣的。等待几个小时，如果**相同**的索引器仍然列为`Processing`，那么您可能遇到第二种情况。

检查锁定文件的权限，`var/locks`在您的 magento 根目录下找到。它们是否与运行 Web 服务器的用户相同？如果没有，**并且您绝对确定索引不再运行**，则删除锁是安全的。下一步是首先找出锁具有错误权限的原因。如果您没有`ssh`访问权限，那么与您的主机进行对话可能会更好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T17:31:43.050

默认情况下，来自索引器的错误将被捕获且不记录。典型的解决方法是使用 CLI 重新索引工具；这将是非常冗长的任何错误。

例如。

```
php shell/indexer.php --reindex ... 
```

但是如果您没有 SSH 访问权限 - 您可以查看`indexer.php`文件以了解它们如何生成错误，或者您可以启动一个`shell_exec`或`exec`从一个模拟 CLI 的基于 Web 的 PHP 脚本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T07:58:57.310

**原因**

在 catalog_product_flat_% 表中有对不存在/已删除产品的引用。

**解决方案**

尝试在 MySQL 控制台或通过 phpMyAdmin 截断“catalog_product_flat_%”表（catalog_product_flat_1、catalog_product_flat_2、catalog_product_flat_3 等）：

```
mysql > truncate table ´catalog_product_flat_1´;
mysql > truncate table ´catalog_product_flat_2´;
mysql > truncate table ´catalog_product_flat_3´; 
```

然后重新索引。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-09T05:30:46.517

我无法重新索引`catalog_product_flat`索引过程。花了一天时间在互联网上尝试了几种解决方案。我能够解决这个问题。下面是步骤。

1.  创建面临索引问题的 Magento Db 的克隆。
2.  将数据库转储到新创建的数据库中。
3.  截断`catalog_product_flat_1`单个商店的表，对于多个商店，将有多个表`catalog_product_flat_*`，其中`*`商店 id 是。这里截断所有的表。
4.  将 mangento 运行实例指向新创建的数据库并配置数据库，以便该站点正常运行。
5.  现在运行命令`php document_root/shell/indexer.php --reindex catalog_product_flat`或尝试从管理员重新索引。`php document_root/shell/indexer.php --reindexall`用于重新索引所有过程。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-10-31T09:47:35.730

我遇到了同样的问题，在创建新客户组时我无法重新索引价格。

在这里找到解决方案[http://www.magikcommerce.com/blog/how-to-resolve-magento-reindexing-errors-in-your-magento-store/](http://www.magikcommerce.com/blog/how-to-resolve-magento-reindexing-errors-in-your-magento-store/)

这里的程序：

1.  找到 var/locks 目录并删除该目录下的所有文件。这将清除所有锁定，以便再次进行重新索引。

2.  现在，登录到您的 MysQSL/phpMyAdmin 以运行以下 MySQL 查询（确保在提交此 MySQL 查询之前已进行完整备份）

    DELETE cpop.* FROM catalog_product_option_price AS cpop INNER JOIN catalog_product_option AS cpo ON cpo.option_id = cpop.option_id WHERE cpo.type = 'checkbox' OR cpo.type = 'radio' OR cpo.type = 'drop_down'；

    ```
    DELETE cpotp.* FROM catalog_product_option_type_price AS cpotp
    INNER JOIN catalog_product_option_type_value AS cpotv
    ON cpotv.option_type_id = cpotp.option_type_id
    INNER JOIN catalog_product_option AS cpo
    ON cpotv.option_id = cpo.option_id
    WHERE
    cpo.type <> 'checkbox' AND
    cpo.type <> 'radio' AND
    cpo.type <> 'drop_down'; 
    ```

3.  重新登录到您的 Magento 管理面板并转到系统选项卡 > 索引管理再次点击索引，您会注意到不会再次出现此类错误。如果将来停止重新索引以解决`Magento` `ReIndexing`问题，您可以再次执行这些相同的步骤。

# iphone - CoreGraphics，内存释放，返回值

> ID：12470856
> 
> 赞同：1
> 
> 时间：2012-09-18T05:25:24.683
> 
> 标签：iphone, ios, cocoa-touch, memory-management, core-graphics

当我从一个方法返回时，我似乎总是在使用 CoreGraphics 管理内存时遇到很多麻烦。采取以下情况：

```
- (id) init
{
    CGMutablePathRef mutablePath = CGPathCreateMutable();

    //mutable path gets loaded with some hard data

    return [self initWithMutablePath:mutablePath];
}

- (id) initWithMutablePath:(CGMutablePathRef)mutablePath
{
    self = [super init];

    if (self) 
    {
        _mutablePath = (CGMutablePathRef) CGPathRetain(mutablePath);
    }

    return self;  
} 
```

我从仪器收到此消息：

```
Potential leak of an object allocated on line 38 and stored into 'mutablePath' 
```

我确实希望 initWithMutablePath:(CGMutablePathRef)mutablePath 初始化程序保留 mutablePath，因为它可能会从需要它的其他地方调用。然而，我也希望 init 方法能够毫无意外地将 mutablePath 传递给它。如何实现？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:23:51.913

似乎我想做的事情是不可能的，所以我最终只是摆脱了 initWithMutablePath （这是基类的构造函数），我最终没有在基类中实现构造函数。我有继承它的子类实现初始化程序并加载路径。

# c# - 是否可以使用 C# 在外部浏览器（即 firefox）中返回网站的 URL？

> ID：12470864
> 
> 赞同：0
> 
> 时间：2012-09-18T05:27:16.720
> 
> 标签：c#, url, firefox, return

我正在尝试通过返回当前页面的 URL 然后在字符串中搜索某些关键字来制作一个限制某些网站的程序。但是，由于我不习惯使用任何在 C# 环境之外监视系统活动的 C# 功能，因此我不知道这是否可以远程实现。任何人都可以对此有所了解吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T05:54:29.120

在评论讨论之后，可以使用 HtmlAgilityPack ( [http://html-agility-pack.net/](http://html-agility-pack.net/) ) 轻松处理（甚至损坏和格式错误的）HTML 文档。例如，您可以遍历 DOM 树并修改`href=""`属性，这听起来像是解决您的问题的一半。

# c# - 如何使用 Microsoft Office Interop 和 C# 从 Powerpoint 表中删除指定行

> ID：12470865
> 
> 赞同：0
> 
> 时间：2012-09-18T05:27:16.667
> 
> 标签：c#, powerpoint

是否可以使用带有 C# 的 office Interop 从 Powerpoint 表中删除任何行？

```
PowerPoint.Application objApp;
PowerPoint.Presentations objPresSet;
PowerPoint._Presentation objPres;
PowerPoint.Slides objSlides;
PowerPoint._Slide objSlide;
PowerPoint.TextRange objTextRng;
PowerPoint.Table objTable;

objApp = new PowerPoint.Application();

//objApp.Visible = MsoTriState.msoTrue;

objPresSet = objApp.Presentations;
objPres = objPresSet.Open(strTemplate,
MsoTriState.msoFalse, MsoTriState.msoFalse, MsoTriState.msoFalse);
objSlides = objPres.Slides;
objSlide = objSlides[1];

for (int i=0;i<5;i++)
{
    objTable.Rows.Add(objTable.Rows.Count);
{           

// How to delete any rows ??? 
```

`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:26:34.787

PowerPoint 中的 Rows 集合有点奇怪，即要删除一行，您必须告诉该行删除自己。这意味着您必须`Delete()`在一行上使用该方法（您可以从 获取它`Add`，或者使用`Item[]`Rows 集合上的属性）。

请注意，当您尝试删除表中唯一的行时，Delete 会引发异常。在这些情况下，您应该删除表。

# c# - 在 C#.Net 中查找和替换

> ID：12470871
> 
> 赞同：-2
> 
> 时间：2012-09-18T05:27:51.567
> 
> 标签：c#, asp.net, visual-studio-2010

我有一个字符串，例如 Date，其值为 Dates。下面是一个示例值：

```
string Date = 05; 
```

当 Date 介于 01 和 09 之间时，Date 值应忽略“0”。例如，它应该是“5”。如果是“20”的意思，那么它不应该忽略“0”。

如何在 C# 中做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:29:52.290

好像您正在尝试将字符串转换为整数？

Try `Convert.toInt32(date);`which will return an int... 然后调用`ToString()`将在必要时为您提供字符串表示形式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:35:12.647

您可以使用[String.Replace()](http://msdn.microsoft.com/ru-ru/library/fk49wtc1.aspx)或[Regex.Replace()](http://msdn.microsoft.com/ru-ru/library/xwewhkd1.aspx)。但是如果没有更多细节/代码，很难理解如何有效地解决您的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T05:36:09.620

你知道你可以为此使用一个 int ......

```
int month = 5; //is 5 and not 05 as an example 
```

为什么你有一个字符串？

此外，在 c# Dates 中有一个特殊的变量[DateTime](http://msdn.microsoft.com/en-us/library/system.datetime.aspx/%20%22DateTime)。您可以在其中存储月、日、年、小时等。这可能与您正在寻找的内容有关。

# c# - 尝试对数据集/数据表执行查询时遇到问题

> ID：12470873
> 
> 赞同：1
> 
> 时间：2012-09-18T05:28:14.047
> 
> 标签：c#, asp.net, sql-server

我有一个数据集“ds”，我从一个名为 tran_dtls 的表中填充它，现在我想为此数据集（或数据集“dt”中的表）编写一个方法，它可以有效地为我检索一个标量与此查询具有相同输出的值：

```
 select sum(amt) from TRAN_DTLS 
 where GL_CODE='" + row["gl_code"].ToString() + "' 
 and SUB_CODE='" + row["sub_code"].ToString() + "' 
 and DBCR='C'" 
```

这里 amt,GL_code,SUb_code,DBCR 是 tran_dtls 表中的列，所以我想做的是选择具有各种条件的金额的总和，我以前从未做过这样的事情，所以我不知道这是否可能或不

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T06:17:54.240

我认为您不能针对 DataSet 编写 SQL。但是你可以使用 LINQ：

```
var ds = new DataSet();
var tranDtls = new DataTable("tran_dtls");
tranDtls.Columns.Add("gl_code", typeof(string));
tranDtls.Columns.Add("amt", typeof(int));
var row = tranDtls.NewRow();
row["gl_code"] = "a";
row["amt"] = 1;
tranDtls.Rows.Add(row);
ds.Tables.Add(tranDtls);

var result = ds.Tables["tran_dtls"].AsEnumerable()
    .Where(r => (string)r["gl_code"] == "a")
    .Select(r => (int)r["amt"])
    .Sum(); 
```

# asp.net-mvc - RenderPartial 和 Partial 方法的区别

> ID：12470874
> 
> 赞同：4
> 
> 时间：2012-09-18T05:28:22.267
> 
> 标签：asp.net-mvc

> **可能重复：**
> [Html.Partial vs Html.RenderPartial & Html.Action vs Html.RenderAction](https://stackoverflow.com/questions/5248183/html-partial-vs-html-renderpartial-html-action-vs-html-renderaction)

我有 3 个问题。

1-RenderPartial 和 Partial 方法之间到底有什么区别？

1-RenderAction 和 Partial RenderPartial 之间到底有什么区别？

2-什么是RendePage方法？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-18T06:44:04.840

**RenderPartial**将结果直接写入响应，从技术上讲，直接写入调用对象的 TextWriter。RenderPartial 更快一些，因此开发人员更喜欢在循环结构和相关场景中使用它。

**另一方面，**Partial将 HTML 标记作为字符串返回，用于缓冲内容。**它通过创建和使用单独的 TextWriter 来实现。**

 ****RenderAction**调用指定的子操作方法并将结果内联呈现在父视图中。换句话说，允许您从视图中调用 Action。

**RenderPage**将指定的视图（由路径和文件名而不是视图名标识）直接呈现到响应流，如 Html.RenderPartial()。

一切视情况而定。**

# c# - Microsoft Solver Foundation 变量限制

> ID：12470875
> 
> 赞同：2
> 
> 时间：2012-09-18T05:28:37.210
> 
> 标签：c#, visual-studio-2010, linear-programming, ms-solver-foundation

您好我正在使用 Microsoft Solver Foundation 解决线性规划问题，但变量已超过 1000，并提示以下错误：{“此版本产品已超出模型大小限制。请联系 Microsoft Corporation 获取许可选项。\ r\n限制：NonzeroLimit = 100000，MipVariableLimit = 2000，MipRowLimit = 2000，MipNonzeroLimit = 10000，CspTermLimit = 25000，Expiration = none。"}

有没有更好的高效求解器，可以接受超过 1000 个可以在 Visual Studio IDE 中工作的变量？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T06:40:47.403

不确定您的确切含义：求解器“可以在 Visual Studio IDE 中工作？”

但是，如果您想要一个具有功能 C# 接口的大型（开源）LP 求解器，我会推荐[lp_solve](http://lpsolve.sourceforge.net/)，下载地址在[这里](http://sourceforge.net/projects/lpsolve/)。求解器是用 C/C++ 编写的，但有一个全面且易于使用的 C# 包装器，它使用 P/Invoke 来调用各种*lpsolve*方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T13:35:30.420

Hans Mittelmann 的[基准](http://plato.asu.edu/bench.html)提供了几个 LP 求解器的比较。如果您正在寻找高性能的免费求解器，我推荐[CLP](http://www.coin-or.org/Clp/)或[IPOPT](https://projects.coin-or.org/Ipopt)。它们都有 C++ 接口，因此在 Visual C++ 中使用它们应该没有问题。好的商业求解器是[CPLEX](http://www-01.ibm.com/software/integration/optimization/cplex-optimizer/)和[Gurobi](http://www.gurobi.com/)。

正如 Marc Gravell 所说，您可以购买不受限制的企业版 Microsoft Solver Foundation，但请注意它已[停产](https://stackoverflow.com/a/11337594/471164)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-07T11:45:08.177

Solver Foundation 似乎已被放弃——我怀疑我们是否会看到它的任何新版本。对于许多问题来说，变量限制太小了。我发现 Google OR Tools 很有用——他们在 GLPK 和 CBC 求解器（以及其他）周围放置了 .NET 包装器，并将其作为源代码发布。搜索“谷歌或工具”。这些求解器不如商业求解器快（请参阅上面的 vitaut 帖子中链接的基准） - 但商业求解器的价格通常在 6-12k 英镑的价格范围内。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-07T17:27:53.407

我不知道您目前有多少约束，但是（如果您的约束少于 1000 个）您可以采用对偶并有 1000 个约束而不是变量，然后仍然使用您当前的 Microsoft Solver Foundation 版本。采取双重自动化应该不会太难。

# hql - 在 HQL 中对 3 个表使用左连接

> ID：12470876
> 
> 赞同：13
> 
> 时间：2012-09-18T05:28:44.250
> 
> 标签：hql

我有三个表 AB 和 C。现在我想在 HQL 中执行这个 sql 查询：

```
select * from A as a 
left join 
B as b 
on 
a.id = b.id 
left join 
C as c 
on 
b.type=c.type; 
```

在编写等效的 HQL 时需要帮助。我试过用这个 HQL ......

```
Query q = session.createQuery(
    "FROM A as a 
     LEFT JOIN 
     B as b 
     on 
     a.id=b.id 
     LEFT JOIN 
     C as c 
     on 
     b.type=c.type"); 
```

这个查询抛出异常......

> org.hibernate.hql.ast.QuerySyntaxError：意外令牌：第 1 行附近的 LEFT，第 23 列 [从 com.admin.A 作为 LEFT JOIN B 作为 b where a.Id=b.Id LEFT JOIN C as c where b. type=c.type] 在 org.hibernate.hql.ast.ErrorCounter.throwQueryException(ErrorCounter.java:74) 在 org.hibernate.hql.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:214) 在 org.hibernate.hql .ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:127) 在 org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:83) 在 org.hibernate.impl.SessionFactoryImpl.getQuery(SessionFactoryImpl.java:414)

我还尝试使用“with”和“on”子句而不是 where...我在“on”或“with”上得到了相同的意外标记

异常 qith ON .....

> org.hibernate.hql.ast.QuerySyntaxError：意外令牌：在第 1 行，第 41 列附近打开 [FROM com.admin.A 作为 LEFT JOIN B 作为 b on a.Id=b.Id LEFT JOIN C 作为 c onb.type =c.type] 在 org.hibernate.hql.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:214) 在 org.hibernate.hql 的 org.hibernate.hql.ast.ErrorCounter.throwQueryException(ErrorCounter.java:74)。 ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:127) 在 org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:83) 在 org.hibernate.impl.SessionFactoryImpl.getQuery(SessionFactoryImpl.java:414)

我还尝试使用“with”子句而不是 where...我在“with”或“with”上得到了相同的意外标记

例外 qith WITH .....

> org.hibernate.hql.ast.QuerySyntaxError：意外令牌：在第 1 行，第 41 列附近打开 [FROM com.admin.A 作为 LEFT JOIN B 作为 b on a.Id=b.Id LEFT JOIN C 作为 c onb.type =c.type] 在 org.hibernate.hql.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:214) 在 org.hibernate.hql 的 org.hibernate.hql.ast.ErrorCounter.throwQueryException(ErrorCounter.java:74)。 ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:127) 在 org.hibernate.hql.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:83) 在 org.hibernate.impl.SessionFactoryImpl.getQuery(SessionFactoryImpl.java:414)

请帮忙。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-01T07:26:44.580

我想您已经在配置中定义了所有需要的关联。如果是这样，在 HQL 中它看起来像这样：

```
from A as a left join a.B as b left join b.C as c 
```

HQL 中没有“ON”语句，hibernate 会根据您的映射和定义的关联自动执行。

注意**aB**和**bC**。

您根据已定义的别名 a 和 c 引用 B 和 C。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-02-24T06:04:48.137

使用此查询

```
from A as a
left join fetch a.B as b 
left join fetch b.C as c 
```

# css - magento 站点底部是更多的空白区域

> ID：12470877
> 
> 赞同：1
> 
> 时间：2012-09-18T05:28:51.050
> 
> 标签：css, magento, space

我的 magento 网站底部有更多的空白空间。我无法删除它。请帮我删除它。我认为这个错误来自。这`<div class="menu-wrapper">`是网址[http://classichotrodshop.qubitwebtechnologies.com/index.php/performance/heidts/heidts-df-208-red-front-disc-brake-kits.html](http://classichotrodshop.qubitwebtechnologies.com/index.php/performance/heidts/heidts-df-208-red-front-disc-brake-kits.html)

显示此空白区域的所有页面。请任何人帮我解决这个问题

谢谢，莫汉

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T06:36:34.850

...................您好，现在给

`#nav ul, #nav div` **CSS**

`overflow:hidden;`

像这样

```
#nav ul, #nav div{
overflow:hidden;
} 
```

***[现在结果是](http://i.stack.imgur.com/L5i7U.png)***

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-30T21:49:05.040

今天我也遇到了同样的情况，但找到了一个也有效的替代方案。对于 Magento 响应式案例的未来问题。

当响应式手动包装器在底部溢出时，会出现此问题（或可能的原因之一）。正如[Rohit Azad](https://stackoverflow.com/users/1365428/rohit-azad)之前所说，他的解决方案是正确的。

在 Magento 1.9 中，您可以在页脚中找到这个 HTML 标签：

```
<nav id="yt-screennav"></nav> 
```

这个由名为**ytc-bootstrap-responsive.css的 CSS 文件控制**

你必须检查下一点：**.yt_ressidebar_screennav #yt_screennav**并且只添加前面帖子中所说的子句。

```
.yt_ressidebar_screennav #yt_screennav {
    background: none repeat scroll 0% 0% #222;
    left: 0px;
    top: 0px;
    margin: 0px 0px 0px -220px;
    position: absolute;
    width: 220px;
    overflow: hidden;
    height: 100%;
    box-shadow: -5px 0px 5px rgba(0, 0, 0, 0.2) inset;
} 
```

# iphone - 常量复选标记

> ID：12470878
> 
> 赞同：1
> 
> 时间：2012-09-18T05:28:52.073
> 
> 标签：iphone, ios, uitableview

在我的 UItableview 中，我只想让前四行默认勾选？我怎样才能做到这一点？这是我的代码

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{

UITableViewCell *thisCell = [tableView cellForRowAtIndexPath:indexPath];
[am.genar addObject:[ar objectAtIndex:indexPath.row]];
NSLog(@"array content%@",[ar objectAtIndex:indexPath.row]);   
if (thisCell.accessoryType == UITableViewCellAccessoryNone) 
{
    thisCell.accessoryType = UITableViewCellAccessoryCheckmark;
}
else
{
    thisCell.accessoryType = UITableViewCellAccessoryNone;
}    
}
- (UITableViewCellAccessoryType)tableView:(UITableView *)tableView accessoryTypeForRowWithIndexPath:(NSIndexPath *)indexPath 
{
   return UITableViewCellAccessoryNone;
} 
```

细胞战指数路径法

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

static NSString *CellIdentifier = @"Cell";

UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
}
cell.selectionStyle=UITableViewCellSelectionStyleNone;
cell.textLabel.text = [ar objectAtIndex:indexPath.row];        // Configure the cell...

if(indexPath.row<4)
{
    cell.accessoryType = UITableViewCellAccessoryCheckmark;
}
return cell;
} 
```

请帮我解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T05:52:10.723

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

static NSString *CellIdentifier = @"Cell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];
    }
    if(indexPath.row < 4) //considering that you need FIRST four rows to be checkmarked by default
        cell.accessoryType = UITableViewCellAccessoryCheckmark;

return cell;
} 
```

如果我没有正确理解您的查询，请告诉我。我会做相应的修改。快乐编码:)

# javascript - 带有 jQ uery 和 Javascript 的 for 循环内的函数

> ID：12470879
> 
> 赞同：3
> 
> 时间：2012-09-18T05:28:52.077
> 
> 标签：javascript, jquery, web, nested, scope

我有以下代码：

```
$(document).ready(function () {
    for (i = 1; i <= number_of_banners; i++) {
    var selector = "#link_" + i;
    $(selector).click(function () {
        alert(i);
        });
    }
}); 
```

但是 alert() 无法从 for 循环中获取“i”变量。如何在 .click 函数中使用 for 循环的 i 变量？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-24T06:06:45.573

您可以使用此代码：

```
$(document).ready(function () {
    for (var i = 1; i <= number_of_banners; i++) {
        var selector = "#link_" + i;
        $(selector).on('click', {id: i}, function (e) {
            alert(e.data.id);
        });
    }
}); 
```

您应该使用`on`方法并在其中使用 click 参数而不是使用`onclick`方法

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-18T05:53:30.450

使用 jQuery ***[.on(event, data, handler)](http://api.jquery.com/on)***您可以轻松完成。

```
$(document).ready(function () {
    for (var i = 1; i <= number_of_banners; i++) {
        var selector = "#link_" + i;
        $(selector).on('click', {id: i}, function (e) {
            alert(e.data.id);
        });
    }
}); 
```

***[工作样本](http://jsfiddle.net/QYBjz/6/)***

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-18T05:54:57.727

这可能是由于[~~JavaScript 提升~~](http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting)JavaScript 范围机制的事实吗？

例如：

*   [错误的循环变量绑定示例](http://jsfiddle.net/juristr/QYBjz/1/light/)

不起作用，因为 JavaScript 使用*函数范围*而不是*块范围*，因为我们通常习惯于其他语言，如 Java 和 C#。为了使它工作，必须通过显式创建一个新的匿名函数来创建一个新的范围，然后*绑定*相应的变量：

*   [正确的循环变量绑定示例](http://jsfiddle.net/juristr/QYBjz/2/)

我知道这并不能直接回答上面的问题，但对于其他在这个问题上绊倒的人来说可能仍然有用。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-18T05:33:58.530

我认为您可以将它作为参数传递给匿名函数，只要该函数是在可以访问 i 的范围内声明的。

```
function (i) {
   alert(i);
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-18T05:34:35.457

一个快速的解决方案是使用 eventData 并将当前存储`i`在其中：

```
$(document).ready(function () {
    for (var i = 1; i <= number_of_banners; i++) {
        var selector = "#link_" + i;
        $(selector).bind('click', i, function (e) {
            alert(e.data);
        });
    }
}); 
```

如果您使用的是 jquery 1.7+，则使用[on](http://api.jquery.com/on/)而不是 bind

# java - 将 Perl 正则表达式转换为 POSIX 正则表达式

> ID：12470881
> 
> 赞同：2
> 
> 时间：2012-09-18T05:29:04.137
> 
> 标签：java, regex, perl

我已经尝试过[Fire/J 正则表达式](http://www.dmst.aueb.gr/dds/pubs/jrnl/2007-SPANDE-FIRE/html/KS07.html)库，结果非常棒。Fire/J 使用符合 POSIX 的正则表达式，但我们当前的库使用不符合 POSIX 的 Perl5Matcher。我们有数百个正则表达式要转换，那么是否有任何工具可以将 Perl 兼容的正则表达式转换为 POSIX 兼容？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:32:06.203

这可能很困难，具体取决于您的正则表达式使用的功能。Perl 有*很多*在非常受限的 POSIX 正则表达式环境中不起作用的正则表达式特性。

但是，如果可以进行翻译，那么有一个工具可以做到这一点：[RegexBuddy](http://www.regexbuddy.com)

另一方面，Java 本身支持 Perl 的正则表达式功能的更大子集，那么为什么不使用 RegexBuddy 将正则表达式转换为 Java 风格呢？

# c++ - 表达式必须具有整数或枚举类型

> ID：12470884
> 
> 赞同：0
> 
> 时间：2012-09-18T05:29:28.990
> 
> 标签：c++, visual-c++

好的，所以我正在尝试做一个简单的程序来读取 2 个输入文件（名称和等级），然后将它们显示并打印到输出文件中。到目前为止，我有这个：

```
#include <iostream>
#include <fstream>
#include <string>
#include <iomanip>
#include <sstream>
using namespace std;

void ReadNames();
void ReadGrades();

void ReadNames()
{
char names [15][5];

ifstream myfile("names.txt");

if(myfile.is_open())
{
    while(!myfile.eof())
    {
        for (int i = 0; i < 11; i++)
        {
            myfile.get(names[i],15,'\0');
            cout << names[i];
        }
    }
    cout << endl;
}
else cout << "Error loadng file!" << endl;
}

void ReadGrades()
{
char grades [15][5];

ifstream myfile2("grades.txt");

if(myfile2.is_open())
{
    while(!myfile2.eof())
    {
        for (int k = 0; k < 11; k++)
        {
            myfile2.get(grades[k],15,'\0');
            cout << grades[k];
        }
    }
    cout << endl;
}
else cout << "Error loadng file!" << endl;
}

int main()
{

char Name [10];
int  grade [10][10];

ReadNames();
ReadGrades();

for (int i = 0;i < 5; i++)
{
    cout << Name[i];
    for ( int j = 0; j < 5; j++)
    grade [i][j] << " ";
    cout << endl;
}

cout << endl;

system("pause");
return 0;
} 
```

当我尝试编译 Visual Studio 时出现两个错误：

> 非法，右操作数的类型为“const char [1]”
> 
> > 运营商没有影响；具有副作用的预期运算符

我知道这很简单，但我不知道问题是什么。该错误似乎源于该`grade [i][j] << " ";` 行。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T05:31:22.177

这些错误告诉你你需要类似的东西

```
std::cout << grade [i][j] << " "; 
```

`grade [i][j]`is a `char`, `" "`is a `const char[1]`, 并且没有`operator<<`在这样的 RHS 和 LHS 组合上运行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T05:32:39.777

您正在尝试输出 的值，`grade[i][j]`但您没有使用`std::cout`. 试试这样：

```
std::cout << grade [i][j] << " "; 
```

是[左移运算](http://msdn.microsoft.com/en-us/library/336xbhcz%28v=vs.80%29.aspx)`<<`符。由于它没有为 char 定义（例如），因此您会收到错误消息。`grade[i][j]`

# c# - 在应用程序工作时关闭应用程序时，有时我会因为不释放对象而出现异常，为什么？

> ID：12470887
> 
> 赞同：1
> 
> 时间：2012-09-18T05:29:54.023
> 
> 标签：c#

ObjectDisposedException 被捕获。

无法访问已处置的对象。对象名称：'Form1'。

那是当后台工作人员正在工作时，我单击右上角的 X 红色 X 以关闭应用程序，当它处于工作中间时，有时它会抛出此异常。

```
System.ObjectDisposedException was caught
  Message=Cannot access a disposed object.
Object name: 'Form1'.
  Source=System.Windows.Forms
  ObjectName=Form1
  StackTrace:
       at System.Windows.Forms.Control.MarshaledInvoke(Control caller, Delegate method, Object[] args, Boolean synchronous)
       at System.Windows.Forms.Control.Invoke(Delegate method, Object[] args)
       at System.Windows.Forms.Control.Invoke(Delegate method)
       at GatherLinks.Form1.test(String url, Int32 levels, DoWorkEventArgs eve) in D:\C-Sharp\GatherLinks\GatherLinks\GatherLinks\Form1.cs:line 126
  InnerException: 
```

在这种情况下，第 126 行是：

```
this.Invoke(new MethodInvoker(delegate { Texts(richTextBox1, " Done " + Environment.NewLine, Color.Red); })); 
```

我应该如何修复/修复此异常以及退出应用程序时应该释放/关闭哪些对象或变量？

测试功能：

```
private List<string> test(string url, int levels,DoWorkEventArgs eve)
        {
            levels = levelsToCrawl;
            HtmlWeb hw = new HtmlWeb();
            List<string> webSites;
            List<string> csFiles = new List<string>();

            csFiles.Add("temp string to know that something is happening in level = " + levels.ToString());
            csFiles.Add("current site name in this level is : " + url);

            try
            {
                this.Invoke(new MethodInvoker(delegate { Texts(richTextBox1, "Loading The Url:   " + url + "..." , Color.Red); }));
                HtmlAgilityPack.HtmlDocument doc = GetHtmlDoc(url, reqOptions, null);
                if (timeOut == true)
                {
                    this.Invoke(new MethodInvoker(delegate { Texts(richTextBox1, " There Was A TimeOut" + Environment.NewLine , Color.Red); }));
                    timeOut = false;
                    return csFiles;
                }
                else
                {
                    this.Invoke(new MethodInvoker(delegate { Texts(richTextBox1, " Done " + Environment.NewLine, Color.Red); }));
                }
                currentCrawlingSite.Add(url);
                webSites = getLinks(doc);
                removeDupes(webSites);
                removeDuplicates(webSites, currentCrawlingSite);
                removeDuplicates(webSites, sitesToCrawl);
                if (removeExt == true)
                {
                    removeExternals(webSites);
                }
                if (downLoadImages == true)
                {
                    retrieveImages(url);                 }

                if (levels > 0)
                    sitesToCrawl.AddRange(webSites
                this.Invoke(new MethodInvoker(delegate { label7.Text = sitesToCrawl.Count.ToString(); }));
                this.Invoke(new MethodInvoker(delegate { label3.Text = currentCrawlingSite.Count().ToString(); }));

                if (levels == 0)
                {
                    return csFiles;
                }
                else
                {

                    for (int i = 0; i < webSites.Count(); i++)//&& i < 20; i++)                     {
                        int mx = Math.Min(webSites.Count(), 20); 

                            string t = webSites[i];
                            if ((t.StartsWith("http://") == true) || (t.StartsWith("https://") == true)) 
                            {

                                csFiles.AddRange(test(t, levels - 1, eve));
                            }

                    }
                    return csFiles;
                }

            }
            catch
            {
                return csFiles;
            }

        } 
```

以及后台工作者 DoWork 和 ProgressReport 事件：

```
private void backgroundWorker1_DoWork(object sender, DoWorkEventArgs e)
        {

                this.Invoke(new MethodInvoker(delegate { label2.Text = "Website To Crawl: "; }));
                this.Invoke(new MethodInvoker(delegate { label4.Text = mainUrl; }));
                test(mainUrl, levelsToCrawl, e);

        }

private void backgroundWorker1_ProgressChanged(object sender, ProgressChangedEventArgs e)
        {

        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:37:11.750

看起来您的表单正在被处置，然后您的 BackgroundWorker 正在尝试更新属于已处置表单的控件。

您可以处理表单的`FormClosing`事件并停止工作人员，或等待它完成。

或者，您的 BackgroundWorker 可以`IsDisposed`在尝试写出状态之前检查表单的属性。

但实际上，您应该使用[`ReportProgress`](http://msdn.microsoft.com/en-us/library/a3zbdb1t.aspx), 而不是`Invoke`- 这也可以避免该问题。

# android - 当我们在 AlertDialog.Builder 中编写 getApplicationContext() 作为参数时，为什么 android 会出错？

> ID：12470889
> 
> 赞同：1
> 
> 时间：2012-09-18T05:30:02.107
> 
> 标签：android, android-alertdialog

我只想知道为什么android在我们写的时候会报错

```
AlertDialog.Builder builder = new AlertDialog.Builder(getApplicationContext()); 
```

是否正确。以及为什么它仅在我们`this`作为参数时才有效。

```
AlertDialog.Builder builder = new AlertDialog.Builder(this); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T05:49:18.667

`Application`是一个全局对象，它的`Context`. 应用程序上下文应仅用于需要`Context`不与当前运行的组件绑定的事物，例如`Activity`.

在这种情况下，`AlertDialog`是在`Activity`（我假设的）内部创建的，它只需要那个上下文`Activity`- 因此你应该使用`this`. 理由是`AlertDialog`在其父级之外没有生命`Activity`。

# graphics - 如何构造点光源？

> ID：12470890
> 
> 赞同：0
> 
> 时间：2012-09-18T05:30:26.787
> 
> 标签：graphics, lighting

我正在使用 Java 编写一个非常原始的 3D 图形引擎，该引擎基于 1995 年的 3D 游戏编程的黑色艺术。我已经到了可以在屏幕上绘制单色多边形并在“场景”周围移动相机的地步。我什至有一个 Z 缓冲区，它可以通过按 Z 对这些像素进行排序来正确处理半透明对象，只要我一次不显示太多半透明像素。我正处于要添加照明的地步。我想保持简单，环境光看起来很简单，定向光也应该相当简单。但我真的想要点光源，它能够移动光源并投射出非常原始的阴影（大多数情况下我不希望光线穿过墙壁）。

我的问题是我不知道解决这个问题的最佳方法。我想象一个点光源以规则的角度投射光线，如果这些光线与多边形相交，它将照亮该多边形并停止向前移动。但是，当我考虑一个具有多个光源和多个多边形以及所有这些光线的场景时，我想它会变得非常慢。我也不知道如何处理多边形距离光源足够远而落在两条光线之间的情况。我会给每个光源一个最大距离，如果我给它足够的光线，那么在这个距离内不应该有任何两条光线相距太远而错过多边形的点，但这只会增加我的问题数量要执行的计算。

我的问题是：是否有一些技巧可以点光源来加快它们的速度，或者只是为了更好地组织它？恐怕我只会做一个嵌套 for 循环的噩梦。我不能使用 openGL 或 Direct3D 或任何其他作弊，因为我想自己编写。

如果你想看我到目前为止的结果，这里是一个 youtube 视频。我已经修复了坏的相机旋转。[http://www.youtube.com/watch?v=_XYj113Le58&feature=plcp](http://www.youtube.com/watch?v=_XYj113Le58&feature=plcp)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T21:43:29.223

实时 3D 应用程序的照明（或者更确切地说，过去通常是）通过非常简单的近似值完成 - 请参阅[http://en.wikipedia.org/wiki/Shading](http://en.wikipedia.org/wiki/Shading)。阴影很昂贵——通常在光栅化 3d 引擎中是通过[阴影贴图](http://en.wikipedia.org/wiki/Shadow_mapping)和[阴影体积](http://en.wikipedia.org/wiki/Shadow_volume)来完成的。点光源使阴影更加昂贵。

动态实时光源直到最近才成为游戏中的常见功能——仅仅是因为它们给渲染系统带来了如此沉重的负担。这些游戏利用专用显卡。因此，我认为如果您决定包含动态阴影投射点光源，您可能很难从引擎中获得良好的性能。

如今，照明通常以两种方式应用：

1.  传统上这是“前向渲染”。在这种方法中，对于每个顶点（如果您正在为每个顶点进行照明）或片段（如果您正在按像素进行），您将计算每个光源的贡献。
2.  最近，“延迟”光照变得流行，其中几何和额外数据（如法线和颜色信息）都被渲染到中间缓冲区 - 然后用于计算光照贡献。这样，照明计算不依赖于几何数。但是，它确实有很多其他开销。

有很多选择。然而，实现比过去几年专用显卡使用的一些基本模型更复杂的东西将是一项挑战！

我的建议是从简单的东西开始——没有阴影的基本照明。从那里您可以扩展和优化。

* * *

你在做射线三角相交测试是为了什么？您是否只想照亮光线可以到达的三角形？我认为每盏灯与每一个多边形的光线三角形交叉点将非常昂贵。对于没有阴影的照明，通常您只需遍历每个面（或者如果您是按顶点执行，则遍历每个顶点）并计算并添加每个灯光的照明贡献 - 您将在开始光栅化之前执行此操作，因为您必须无论如何都要通过所有多边形。

您可以通过使用任何照明模型来计算照明，非常简单，例如 [朗伯反射率](http://en.wikipedia.org/wiki/Lambertian_reflectance)- 根据表面法线和从表面到光线的方向矢量的点积对表面进行着色。确保您的向量在相同的空间中！这可能就是你得到奇怪结果的原因。如果您的表面法线在世界空间中，请务必计算世界空间光矢量。在某些空间计算光照有很多好处，你可以稍后再看，现在我建议你先把基础知识开始运行。也看看 [Blinn-phong](http://en.wikipedia.org/wiki/Blinn%E2%80%93Phong_shading_model) - 这是多年来使用的着色模型显卡。

对于带阴影的照明 - 查看我发布的链接。它们的开发是因为逼真的照明计算起来非常昂贵。

顺便说一句，LaMothe 有一本名为 Tricks of the 3D Game Programming Gurus-Advanced 3D Graphics and Rasterization 的后续书。
这将带您完成对 3d 引擎进行编程的每一步。我不确定黑色艺术书的内容。

# oracle - Oracle 10g：启动挂载命令问题（ORA-24324、ORA-01041）

> ID：12470893
> 
> 赞同：1
> 
> 时间：2012-09-18T05:30:33.560
> 
> 标签：oracle, oracle10g, sqlplus

我想禁用我的 oracle 数据库中的存档日志。但是当我关闭并尝试挂载数据库时，我收到以下错误。

```
C:\>sqlplus scott/tiger@ORCL as sysdba

SQL*Plus: Release 10.2.0.1.0 - Production on Tue Sep 18 10:44:17 2012

Copyright (c) 1982, 2005, Oracle.  All rights reserved.

Connected to:
Oracle Database 10g Enterprise Edition Release 10.2.0.1.0 - Production
With the Partitioning, OLAP and Data Mining options

SQL> shutdown immediate
Database closed.
Database dismounted.
ORACLE instance shut down.
SQL> startup mount
ORA-12514: TNS:listener does not currently know of service requested in connect
descriptor
SQL> startup mount
ORA-24324: service handle not initialized
ORA-01041: internal error. hostdef extension doesn't exist 
```

任何人都可以帮我解决这个问题。

编辑1：- Listener.ora

```
# listener.ora Network Configuration File:    E:\oracle\product\10.2.0\db_1\network\admin\listener.ora
# Generated by Oracle configuration tools.

SID_LIST_LISTENER =
  (SID_LIST =
    (SID_DESC =
     (SID_NAME = PLSExtProc)
     (ORACLE_HOME = E:\oracle\product\10.2.0\db_1)
     (PROGRAM = extproc)
    )
  )

LISTENER =
  (DESCRIPTION_LIST =
    (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = INHOS.dg.server.com)(PORT = 1521))
    (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC0))
  ) 
```

)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T06:17:05.967

不确定这是否是根本原因，但在关机后和启动前，请尝试退出并重新进入 SQL*Plus。

第一次编辑：好的，所以，两个不同的问题。当您尝试从您关闭的同一个 SQL*Plus 会话启动时，会发生“ *hostdef 扩展不存在”错误。*解决方案是在关机和启动之间退出并重新进入 SQL*Plus。

ORA-12514“*侦听器当前不知道连接描述符中请求的服务*”是由于尝试远程启动（您的 SQL*Plus 连接字符串`scott/tiger@ORCL as sysdba`指定`@ORCL`）实例，并且侦听器仅配置为动态服务注册。如果您的侦听器仅配置为动态服务注册，那么尝试远程启动实例会给您一个 ORA-12514。这有点像第 22 条规则。问题是，在实例启动之前，它无法向侦听器注册。如果它没有注册到监听器，你就不能启动它。有两种可能的解决方案：

1.  您可以将静态侦听器配置添加到 listener.ora 文件并反弹侦听器。
2.  您可以直接以Oracle软件所有者的身份登录到安装数据库的服务器，并设置`ORACLE_HOME`和`ORACLE_SID`，然后连接为`/ as sysdba`。

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-14T17:57:06.410

ORA-24324 可能意味着数据库根本没有启动，因此解决方法是首先启动数据库和侦听器（如果有）

# python - 在 Python 中随机化字典时出现类型错误

> ID：12470894
> 
> 赞同：1
> 
> 时间：2012-09-18T05:31:13.670
> 
> 标签：python, dictionary, typeerror

我正在制作一个简单的闪存卡程序来构建我的词汇量，因此需要随机化一个字典我在这个网站上找到了很多有用的答案，很多不在这个网站上，并注意到随机播放是一种选择（我知道有 random.choice，但我选择了随机播放）但有些东西我没有掌握。看起来像这样：

```
import random

vocab_dict = {'word1':'def1',
           'word2':'def2',
           'etc.':'etc.'}

vocab_dict_rand = vocab_dict.keys()  
random.shuffle(vocab_rand)           **#<--This is where problem occurs**

for key in vocab_rand:
      print word
      input ""
      print definition
      input ""

input exit 
```

因此程序崩溃并使用 random.shuffle(vocab_rand)... 指向该行

我在壳里得到这个

```
 File "C:\Python31\lib\random.py", line 270, in shuffle
    x[i], x[j] = x[j], x[i]
TypeError: 'dict_keys' object does not support indexing 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:38:21.607

在 Python 3 中，返回一个只像列表一样`dict.keys()`的特殊对象——它不是一个真正的列表，所以你不能索引到它或打乱它（它应该只用于迭代）。`dict_keys`

相反，使用`vocab_rand = list(vocab_dict.keys())`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:36:38.600

在 Python 3 中，`keys`返回一个迭代器，而不是一个列表。你需要有一个随机播放列表。使用`vocab_dict_rand = list(vocab_dict.keys())`.

# windows-7 - 文件未发送到笔式驱动器

> ID：12470895
> 
> 赞同：-1
> 
> 时间：2012-09-18T05:31:16.427
> 
> 标签：windows-7, usb-drive

我有一个 32Gb 笔式驱动器。当我尝试发送大于 4GB 的文件时，它会显示一条消息，指出该文件对于目的地来说太大了。为什么会显示此消息？我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:36:06.440

将其重新格式化为 NTFS 而不是 FAT。

并查看“stackexchange”的其他站点，其中此类非编程（！）问题是合适的。

# c++ - Allegro 全屏模式下的颜色变化

> ID：12470899
> 
> 赞同：1
> 
> 时间：2012-09-18T05:31:30.000
> 
> 标签：c++, colors, fullscreen, allegro

我现在正在学习使用 allegro 库，并且在使用该`set_gfx_mode`函数时，如果我将`GFX_AUTODETECT_FULLSCREEN`其用于第一个参数，则在运行编译的应用程序时窗口将全屏显示，但在运行的大约第一秒后，所有颜色都会发生变化。使用任何其他图形模式都不会发生这种情况，但在两台单独的机器上，颜色会在更改为全屏模式后发生变化。以前有没有其他人看到过这种情况？我根本找不到关于这个问题的任何讨论。

我正在为 Visual Studio 2010 使用预编译的 allegro 4.4.2 库并运行 Windows 7。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T23:07:05.517

Allegro 4 已经过时，并且使用了现代操作系统不再很好支持的 API。全屏模式会有问题，尤其是在 8 位图形上。获得可靠全屏的最佳方式是尊重用户当前的桌面设置：

```
int w, h;
get_desktop_resolution(&w, &h);

set_color_depth(desktop_color_depth());
set_gfx_mode(GFX_AUTODETECT_FULLSCREEN, w, h, 0, 0); 
```

然后您的应用程序将需要居中/缩放绘图。这并不难，只需将所有内容绘制到一个中间缓冲区，即您的本机游戏的宽度/高度，然后将 blit 拉伸到适当的屏幕尺寸。

话虽如此，您真的应该学习 Allegro 5，因为它旨在适用于当今的硬件和操作系统，包括 iOS 和 Android。

# php - 设置 2000 个 Http 重定向的最佳实践

> ID：12470900
> 
> 赞同：1
> 
> 时间：2012-09-18T05:31:33.677
> 
> 标签：php, .htaccess, seo, http-redirect

我有一个旧网站 ( `www.example.com`)，其中包含大约 2000 个文档（PDF、Word doc、Excel）。所有 2000 个文档（PDF 和 Word 文档）都使用这些现有链接相互引用。

我创建了另一个站点 ( `www.example.net`)，具有不同的文档路径。我想将旧 URL 映射到新 URL，这样我就不会丢失访问，并且具有旧链接的旧文件的用户仍然可以从新站点获取文档。

旧文档路径：`http://www.example.com/sites/docs/abc.pdf`

新文档路径：`http://www.example.net/files/resources/def.pdf`

（注意域名变了，文档的路径变了，文档名本身也变了。文档名的变化没有规律。）

常见解决方案：

1.  `.htaccess`重定向，但有 2000 个文档，所以工作量很大

2.  在文件中使用硬编码 URL 进行正常重定向`.php`，其工作方式与`.htaccess`

还有比这些更好的解决方案吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T05:48:53.683

如果文档是完全唯一的，例如：`abcd.pdf`被重定向到`pqrs5000_foo.pdf`（即两者之间根本没有相关性），那么就无法明确重定向所有 2000 个文档。这只是您是否要将它们全部放入 htaccess/vhost/server 配置文件或另一个文件并使用 a[`RewriteMap`和 txt map type 的](http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewritemap)问题。您需要在 vhost 或服务器配置中定义映射，它在 htaccess 文件中不起作用，但您可以在 htaccess 文件中使用映射本身。

如果文件名相同，只有路径名不同，则根本不需要 2000 次重定向，只需：

```
RewriteEngine On
RewriteCond %{HTTP_HOST} ^(www\.)?example\.com$ [NC]
RewriteRule ^sites/docs/(.*)$ http://www.example.net/files/resources/$1 [L,R=301] 
```

或者使用 mod_alias：

```
Redirect /sites/docs http://www.example.net/files/resources 
```

# c# - 从列表中获取唯一值 >

> ID：12470901
> 
> 赞同：2
> 
> 时间：2012-09-18T05:31:39.623
> 
> 标签：c#, .net, linq, list, dictionary

我有`List<Dictionary<string, string>>`一个包含一些数据的对象。

```
/* Values in the list will be like
   [0] - 
         aaa - aaaValue1   (Key, Value)
         bbb - bbbValue1
         ccc - cccValue1
         ddd - dddValue1 
   [1] - 
         aaa - aaaValue2   (Key, Value)
         bbb - bbbValue2
         ccc - cccValue2
         ddd - dddValue2 

    and so on */ 
```

我想`List<string>`在键等于“ccc”并且键“bbb”的值等于“bbbValue1”的字典中获取不同的值（）。

**预期结果：**

返回一个包含字典值的字符串列表，其中键等于“ccc”，键“bbb”的值等于“bbbValue1” `List<Dictionary<string, string>>`。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T05:35:39.497

我想你想要：

```
var result = testData.Where(dict => dict.ContainsKey("EmpNo"))
                     .Select(dict => dict["EmpNo"])
                     .Distinct()
                     .ToList(); 
```

或者，如果您希望将结果作为一组：

```
var result = new HashSet<string>(from dict in testData       
                                 where dict.ContainsKey("EmpNo")        
                                 select dict["EmpNo"]); 
```

**编辑**：您已经完全改变了您的问题，这不是一件好事（而是问一个新问题），而是在当前状态下回答它：

```
var result = testData.Where(dict => dict.ContainsKey("ccc") 
                                 && dict.ContainsKey("bbb")
                                 && dict["bbb"] == "bbbValue1")
                     .Select(dict => dict["ccc"])
                     .Distinct()
                     .ToList() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T18:22:39.067

我认为这会给你正确的结果：

```
var result = testData.SelectMany(dict => dict)
                     .Where(dict => dict.Key.Equals("ccc") || (d.Key.Equals("bbb") && d.Value.Equals("bbbValue1")))
                     .Select(d => d.Value).Distinct().ToList(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T05:47:20.777

认为像这样展平列表会更好：

```
testData.SelectMany(x => x)
        .Where(x => x.Key == "EmpNo")
        .Select(x => x.Value)
        .Distinct()
        .ToList(); 
```

# c++ - 使用堆设置堆栈中的值

> ID：12470903
> 
> 赞同：0
> 
> 时间：2012-09-18T05:31:46.410
> 
> 标签：c++, class, variables, pointers, stack

> **可能重复：**
> [为什么使用“新”会导致内存泄漏？](https://stackoverflow.com/questions/8839943/why-does-the-use-of-new-cause-memory-leaks)

我想知道是否，

```
Foo bar = *(new Foo()); 
```

可以这样做，还是我在浪费内存，因为在将值分配给`bar`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:32:51.757

这是一个即时内存泄漏，因为您在堆上丢失了对它的引用。

不过我不得不问，当您可以简单地调用堆栈上的构造函数时，为什么要为自己添加工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:34:38.523

这与您预期的不同：

1.  您在永远不会被破坏的堆上创建临时=内存泄漏

2.  然后，您在堆栈上创建临时对象的 COPY。

所以这种方法没有给你任何东西..也许你需要[智能指针](https://stackoverflow.com/questions/106508/what-is-a-smart-pointer-and-when-should-i-use-one)？

# validation - 如何关闭 TinyMCE 的 HTML 验证？

> ID：12470904
> 
> 赞同：3
> 
> 时间：2012-09-18T05:31:49.483
> 
> 标签：validation, tinymce, code-cleanup

[这](http://fiddle.tinymce.com/pecaab/6)是我的配置。我有

```
verify_html : false 
```

那里。但是，例如，以下代码：

```
<ul>
    <h3>h3</h3>
    <li>el1</li>
    <li>el2</li>
</ul> 
```

转换为：

```
<h3>h3</h3>
<ul>
    <li>el1</li>
    <li>el2</li>
</ul> 
```

这是**TinyMCE 3.5.6**。`cleanup`选项已弃用。所以我不知道如何关闭它。

我知道在`h3`下面很奇怪`ul`。但是有些人对这种清理有很多副作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:19:36.943

您可能无法禁用验证。但是您可以定义 tinymce 将如何处理 html 标签。这是一个设置，它将保留`h3`您想要的位置，但您需要配置`h3`-tags 可能是`ul`-tags 的子项：

[http://fiddle.tinymce.com/mfcaab](http://fiddle.tinymce.com/mfcaab)

# javascript - 如何使此代码与Firefox浏览器兼容

> ID：12470905
> 
> 赞同：0
> 
> 时间：2012-09-18T05:31:53.223
> 
> 标签：javascript

我有一个关于多浏览器兼容性的问题。我想在以下代码中使用 event.target 而不是 event.srcElement 以使其适用于 firefox。

我用过 target = event.target || 事件.srcElement。它不工作。任何帮助将不胜感激。

```
function jumptoPopupMenuItem(theMenuID) 
{                
  if (event.srcElement.className == "RightClickMenuItems") 
  {
    if (event.srcElement.getAttribute("url") != null)
    {        
      var strParameters = "";                                    
      if (theMenuID == "mnuAppointmentMenu")
      {
        strParameters = "AppointmentNumber=" + m_strAppointmentTypeYearNumber;
      }
      else if (theMenuID == "mnuAvailableHourMenu")
      {
        strParameters = "PreFillLanguageID=" + m_nLanguageID;
        strParameters = strParameters + "&PreFillInterpreterID=" + m_nInterpreterID;
        strParameters = strParameters + "&PreFillDateOfService=" + m_dtDateOfService;
      }
      if (event.srcElement.getAttribute("target") != null)
      {
        var PopupWindow = window.open(
            event.srcElement.url + strParameters, 
            event.srcElement.getAttribute("target"));
        PopupWindow.focus();
      }
      else
      {
        window.location = event.srcElement.url;
      }
    }
    hidePopupMenu(theMenuID);
  }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T06:20:55.503

注册具有兼容性的事件处理程序的一些标准方法（非常简化的代码）：

HTML：

```
<button onclick="eventHandlerFunc(event)" />
<!-- better to register as: -->
<button onclick="eventHandlerFunc.call(this,event)" /> 
```

JavaScript（addEventListener 或 attachEvent）：

```
if (window.addEventListener) someElem.addEventListener("click",eventHandlerFunc,false);
else if (window.attachEvent) someElem.attachEvent("onclick",eventHandlerFunc); 
```

JavaScript（元素属性）：

```
someElem.onclick = eventHandlerFunc; 
```

其中`eventHandlerFunc()`函数定义为：

```
function eventHandlerFunc(event) { // or var eventHandlerFunc = function(event) {
  event = event||window.event; // can be needed only for IE6-IE8
                               // because `event` parameter hide `event` global
                               // variable (`window.event`)
  var target = event.target||event.srcElement
} 
```

*注意：如果需要，`this`必须添加变量附加代码的兼容性。*

如果需要在其他函数中使用`event`变量（在内部定义`eventHandlerFunc()`为参数），则必须将其发送到这些函数：

```
function eventHandlerFunc(event) {
  event = event||window.event; // can be needed only for IE6-IE8
  /*
  ...
  */
  jumptoPopupMenuItem(event,theMenuID);
}

function jumptoPopupMenuItem(event,theMenuID) {
} 
```

# ecl - 关于 newlisp 中的阶乘

> ID：12470908
> 
> 赞同：0
> 
> 时间：2012-09-18T05:31:59.633
> 
> 标签：ecl, newlisp

我使用 ECL 和 newlisp 运行面部函数。

电汇：

```
>(defun fac (n) (if (= n 1) 1 (* n (fac (- n 1)))))
>(fac 20)
22432902008176640000
>(fac 30)
2265252859812191058636308480000000
>(fac 40)
815915283247897734345611269596115894272000000000
... 
```

新利斯普

```
>(define (fac n) (if (= n 1) 1 (* n (fac (- n 1)))))
>(fac 20)
22432902008176640000
>(fac 30)
-8764578968847253504 
```

为什么 newlisp 使用 ecl 返回不同的结果？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T10:39:33.647

newLISP 中最大的 64 位整数是 9,223,372,036,854,775,807。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-10-19T03:07:25.037

从 10.4.8 版本开始，newLISP 内置了对无限精度整数的支持 (bigint)。这使得 GNU GMP 模块 gmp.lsp 过时了。但是由于 bigint 的工作方式，您会看到与典型的递归函数完全不同的阶乘函数：

```
(define (fac n) (apply * (map bigint (sequence 1 n)) 2))
(fac 1000)

> 
(lambda (n) (apply * (map bigint (sequence 1 n)) 2))
402387260077093773543702433923003985719374864210714632543799910429938512398629020592044208486969404800479988610197196058631666872994808558901323829669944590997424504087073759918823627727188732519779505950995276120874975462497043601418278094646496291056393887437886487337119181045825783647849977012476632889835955735432513185323958463075557409114262417474349347553428646576611667797396668820291207379143853719588249808126867838374559731746136085379534524221586593201928090878297308431392844403281231558611036976801357304216168747609675871348312025478589320767169132448426236131412508780208000261683151027341827977704784635868170164365024153691398281264810213092761244896359928705114964975419909342221566832572080821333186116811553615836546984046708975602900950537616475847728421889679646244945160765353408198901385442487984959953319101723355556602139450399736280750137837615307127761926849034352625200015888535147331611702103968175921510907788019393178114194545257223865541461062892187960223838971476088506276862967146674697562911234082439208160153780889893964518263243671616762179168909779911903754031274622289988005195444414282012187361745992642956581746628302955570299024324153181617210465832036786906117260158783520751516284225540265170483304226143974286933061690897968482590125458327168226458066526769958652682272807075781391858178889652208164348344825993266043367660176999612831860788386150279465955131156552036093988180612138558600301435694527224206344631797460594682573103790084024432438465657245014402821885252470935190620929023136493273497565513958720559654228749774011413346962715422845862377387538230483865688976461927383814900140767310446640259899490222221765904339901886018566526485061799702356193897017860040811889729918311021171229845901641921068884387121855646124960798722908519296819372388642614839657382291123125024186649353143970137428531926649875337218940694281434118520158014123344828015051399694290153483077644569099073152433278288269864602789864321139083506217095002597389863554277196742822248757586765752344220207573630569498825087968928162753848863396909959826280956121450994871701244516461260379029309120889086942028510640182154399457156805941872748998094254742173582401063677404595741785160829230135358081840096996372524230560855903700624271243416909004153690105933983835777939410970027753472000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000L
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T16:35:46.710

尝试浮点：

```
(define (fac n) (if (= n 1) 1 (mul n (fac (sub n 1)))))

(fac 20) => 2.432902008e+18 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-10-28T13:49:10.853

从 10.4.8 版本开始，newLISP 内置了对无限精度整数的支持 (bigint)。

bigint 递归阶乘：

```
> (define (fac n) (if (= n 1) 1 (* (bigint n) (fac (- n 1)))))
> (fac 20)
2432902008176640000L
> (fac 30)
265252859812191058636308480000000L
> (fac 40)
815915283247897734345611269596115894272000000000L 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-19T07:52:02.390

newLISP 被设计为很小（~260K），默认情况下您不会得到的一件事是支持真正的大整数，以及普通大小和大整数之间必要的自动转换。如果您经常需要整数，例如 1000！在你的工作中，那么你可能选择了错误的语言。但是，如果你因为其他原因想使用 newLISP，并且真的需要计算 100！，那么安装 GMP 库，编写代码如下：

```
(load "gmp.lsp")
(define (factorial-gmp num)
 (if (= num 0)
  "1"
  (GMP:* (string num) (factorial-gmp (- num 1))))) 
```

# ios - objective-c 访问动态表视图的数组中的键值

> ID：12470911
> 
> 赞同：0
> 
> 时间：2012-09-18T05:32:08.110
> 
> 标签：ios

我在循环中有这样的数据结构，生成的名为 self.practice 的数组的内容应该在 tableviewController 中填充动态表视图

```
 // new NSDictionary
    NSDictionary *highway = [[NSDictionary alloc] initWithObjectsAndKeys:@"Highway", @"description",
                              @"H", @"namekey",
                              [NSString stringWithFormat:@"%i", aHours], @"hours",
                              aHoursDefault.stringValue, @"hoursdefault",
                              [self.classlist objectAtIndex:i], @"driverclass",
                              nil];
    NSDictionary *freeway = [[NSDictionary alloc] initWithObjectsAndKeys:@"Freeway", @"description",
                              @"F", @"namekey",
                              [NSString stringWithFormat:@"%i", fHours], @"hours",
                              fHoursDefault.stringValue, @"hoursdefault",
                              [self.classlist objectAtIndex:i], @"driverclass",
                              nil];

    NSDictionary *stateHigway = [[NSDictionary alloc] initWithObjectsAndKeys:@"stateHighway", @"description",
                              @"S", @"namekey",
                              [NSString stringWithFormat:@"%i", sHours], @"hours",
                              sHoursDefault.stringValue, @"hoursdefault",
                              [self.classlist objectAtIndex:i], @"driverclass",
                              nil];

    // Values of Dictionary assign to array

    [self.practiceOverviewData addObject:highway];
    [self.practiceOverviewData addObject:freeway];
    [self.practiceOverviewData addObject:stateHighway];

    // put those arrays in the "Big Array" for my tableview
    [self.practice addObject:self.practiceOverviewData]; 
```

现在在我的 cellForRowAtIndexPath: 我无法通过内部数组访问键值

```
 cell.textLabel.text = [[self.practice objectAtIndex:indexPath.row] objectForKey:@"description"]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T05:42:54.410

您的`self.practice`contains 数组，即`practiceOverviewData`您的`practiceOverviewData`contains 字典：

> [self.practice objectAtIndex: n] = practiceOverviewData
> 
> [[self.practice objectAtIndex: n] objectAtIndex: n] = 高速公路/高速公路/州高速公路

像这样访问数据：

```
[[[self.practice objectAtIndex: n] objectAtIndex:indexPath.row] objectForKey:@"description"]; 
```

编辑：

```
[self.practiceOverviewData addObject:highway];
[self.practiceOverviewData addObject:freeway];
[self.practiceOverviewData addObject:stateHighway];

NSDictionary *newDictionary = [NSDictionary dictionaryWithObjectAndKey:
                               self.practiceOverviewData,@"roads_data",nil];

[self.practice addObject:newDictionary];

NSArray *data = [NSArray array];
for (int i = 0; i < [practice count]; i++) {
    if ([[self.practice objectAtIndex:i] isKindOfClass:[NSDictionary class]]) {
        data = [(NSDictionary*)[self.practice objectAtIndex:i]objectForKey:@"road_data"];
    }
} 
```

在 cellForRowAtIndexPath:..

```
 //of course you want to declare data in your header file to access it in your cellForRow..
cell.textLabel.text = [(NSDictionary*)[data objectAtIndex:indexPath.row] objectForKey:@"description"]; 
```

编辑：此代码假定您`self.practice`可能包含不同类型的数据。

# javascript - 字符串化数组时出现 JSON.stringify 问题

> ID：12470916
> 
> 赞同：0
> 
> 时间：2012-09-18T05:32:40.247
> 
> 标签：javascript, json, html

我在从 HTML5 本地存储中获取值时遇到问题。当我使用 JSON.stringify 为键设置值时，回调将被删除。我被这个问题困住了。下面是代码片段。

```
var topics = {};
var subscribe = function (topic, fn) 
{  
if (!topics[topic]) 
{         
topics[topic] = [];}
topics[topic].push({ callback: fn,context: this  });
window.localStorage.setItem('myArray', JSON.stringify(topics[topic]));
return this;
};
var publish = function (topic) {
var args;args = Array.prototype.slice.call(arguments, 1);
var myArray = JSON.parse(window.localStorage.getItem('myArray'));
for (var i = 0, l = myArray.length; i < l; i++) {var subscription = myArray[i];
        subscription.callback.apply(subscription.context, args);
    }
    return this; 
```

};

任何帮助将不胜感激。

干杯，萨杰什·南比亚尔

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T05:36:01.150

目前没有用于存储函数的 JSON 实现。

这就是回调被删除的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:49:04.437

正如 Adam 正确解释的那样，JSON 用于表示纯数据而不是代码逻辑。这是一个关注点分离的问题。

“正确”的方法可能是从本地存储中检索数据，将其包装在您的自定义 JavaScript 对象中，然后该对象已经附加了用于操作数据的功能。我正在考虑类似的事情

```
var MyDataObj = function(){
    //constructor
    //load the data from the local storage and associate it to this object like
    this.data = JSON.parse(window.localStorage.getItem('myArray'));
};

MyDataObj.prototype.executeAction = function(){
   //peform your operations like invoking the subscriptions
}; 
```

然后的用法是

```
var dataObj = new MyDataObj();
dataObj.executeAction(); 
```

我不太确定您调用回调方法背后的意图是什么，在我看来，您的对象封装了要调用的内容和方式。

希望能帮助到你

# java - 匹配器没有找到重叠的单词？

> ID：12470918
> 
> 赞同：0
> 
> 时间：2012-09-18T05:32:47.797
> 
> 标签：java, overlapping, matcher

我正在尝试使用字符串：

```
String s = "This is a String!"; 
```

并返回该字符串中的所有 2 字对。即：

```
{"this is", "is a", "a String"} 
```

但现在，我能做的就是返回：

```
{"this is", "a String"} 
```

如何定义我的 while 循环，以便我可以解释这种缺少重叠词的情况？我的代码如下：（真的，我很高兴它只返回一个表示它找到多少个字符串子集的 int ......）

```
int count = 0;
while(matcher.find()) {
    count += 1;
} 
```

谢谢大家。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T05:47:29.680

我喜欢已经发布的两个答案，计算单词并减去一个，但如果您只需要一个正则表达式来查找重叠匹配：

```
Pattern pattern = Pattern.compile('\\S+ \\S+');
Matcher matcher = pattern.matcher(inputString);
int matchCount = 0;
boolean found = matcher.find();
while (found) {
  matchCount += 1;
  // search starting after the last match began
  found = matcher.find(matcher.start() + 1);
} 
```

实际上，您需要比简单地加 1 更聪明一点，因为在 "the force" 上尝试此操作将匹配 "he force" 然后 "e force"。当然，这对于计算单词来说是多余的，但如果正则表达式比这更复杂，这可能会很有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:38:12.837

运行从 i = 0 到单词数 - 2 的 for 循环，然后单词 i 和 i+1 将组成一个 2 单词字符串。

```
String[] splitString = string.split(" ");
for(int i = 0; i < splitString.length - 1; i++) {
    System.out.println(splitString[i] + " " + splitString[i+1]);
} 
```

一个句子中的两个单词字符串的数量就是单词数减一。

```
int numOfWords = string.split(" ").length - 1; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T05:38:56.843

总对数 = 总字数 - 1

而且您已经知道如何计算总字数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-04-04T10:45:33.003

我尝试了一组模式。

```
String s = "this is a String";

Pattern pat = Pattern.compile("([^ ]+)( )([^ ]+)");
Matcher mat = pat.matcher(s);
boolean check = mat.find();
while(check){
    System.out.println(mat.group());
    check = matPOS.find(mat.start(3));
} 
```

从模式`([^ ]+)( )([^ ]+)`
......................|_______________|
.....................组（0）
...... .............|| `([^ ]+)`| <--组(1)
....................................| `( )`| <--组（2）
...................................... .| `([^ ]+)`| <--组(3)

# javascript - 是否可以在 Ext JS 中将一个 xtype 附加到另一个 xtype

> ID：12470926
> 
> 赞同：1
> 
> 时间：2012-09-18T05:33:56.013
> 
> 标签：javascript, extjs, extjs3

有没有办法在单个中附加两个 xtype。我的意思是我有一个 xtype 作为文本字段，另一个作为按钮。在这里，我给出了文本字段旁边的按钮及其工作的代码。但现在我需要单个文本字段和按钮。

```
 {
        layout: "column",
        anchor: "0",
        items: [{
            columnWidth: .5,
            layout: "form",
            items: {
                xtype: "textfield",
                name: "agent",
                fieldLabel: "Representant",
                anchor: "0"
            }
        },{
            columnWidth: .5,
            items: {
                xtype: 'button',
                text: 'Click me'
            }
        }]
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:40:23.740

对于您的要求，正如 sra 所说，最好使用 triggerfield （如果您有两个按钮，则使用 twinTriggerField ）。

对于组合其他字段，您还可以查看[compositeField](http://docs.sencha.com/ext-js/3-4/#!/api/Ext.form.CompositeField)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T06:22:07.467

**xtype 或小部件**

xtype 是类的一种短构造函数。您可以在类中嵌套的内容取决于类。至于文本字段，您不能附加任何子项。如果您想了解有关任何类的更多信息，您应该查看[API 。](http://docs.sencha.com/ext-js/3-4/#!/api/)基本上你可以像在你的问题中那样嵌套它们

**为了你想要的**

为了使它真正干净，您可以扩展文本字段，使用触发器字段（这个已经有可以更改布局的按钮）或编写一个插件，然后可以将其附加到任何适当的字段。

**评论答案**

您可以尝试以下未经测试的代码！除了复合字段，您还可以将 a`container`与应用`hbox`布局一起使用。但这感觉更适合我。

```
{
    xtype: 'compositefield',
    labelWidth: 120
    items: [
        {
            xtype     : 'textfield',
            fieldLabel: 'Title',
            flex      : 1,
            ref       : '../myTextfieldRef' // set a selfreference to the ownerCt
        },
        {
            xtype     : 'button',
            iconCls   : 'icon-class-name',
            text      : 'My Button Text',
            width     : 20,
            ref       : '../myButtonRef', // set a selfreference to the ownerCt
            handler   : function(btn) {
                console.log(btn.ownerCt.myTextfieldRef.value);
            }
        }
    ]
} 
```

# jsp - 用于国际化和本地化的 JSTL 资源包

> ID：12470928
> 
> 赞同：12
> 
> 时间：2012-09-18T05:34:09.823
> 
> 标签：jsp, localization, internationalization, jstl, resourcebundle

我们有一个使用基本 JSP/servlet 的应用程序，当前所有英文文本都硬编码在 JSP 页面中。我们正在考虑应用程序的国际化，因此我们需要某种方法将文本提取到属性文件中。

这是我到目前为止所做的：
1）创建一个名为的文件`XXXXX-messages_en.properties`，将键/值对添加到属性文件中，例如`AAAAA = Hello World`

2）将JSTL相关的taglibs加载到JSP页面中

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt" %> 
```

3) 将前面的文字替换为

```
<fmt:message key="AAAAA" bundle="${XXXXX}"/> 
```

4）在JSP页面中添加setBundle标签：

```
<fmt:setBundle basename="XXXXX-messages" var="XXXXX"/> 
```

并重新启动服务器，一切都正确显示。

但是，关于 JSTL 国际化库的使用，我的问题是：

问题 1) 看来我必须在`<fmt:setBundle>`每个 JSP 页面中添加标签，这有点难看，如果将来需要更改（更改名称？）这将使生活更加困难。

我考虑过也许我可以创建一个单独的页面并将其放入`<fmt:setBundle>`其中，然后使用`<jsp:include>`. 或者我可以通过 servlet 过滤器注入它？我会说我对这两种选择都不太满意。

有什么推荐的方法吗？

问题2）如果那里没有匹配的属性文件，如何指定默认语言？我在我的情况下进行了测试，如果我`<fmt:setLocale>`用法语放入JSP页面，页面仍然可以正确加载。这是否意味着英文版本始终是默认版本，或者仅仅是因为我的操作系统/浏览器是英文的？

如果一个中文/日文用户打开我的页面并且我有英文和法文属性文件，会发生什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-18T05:47:03.290

好的，我找到了解决自己问题1的方法。基本上我需要做的就是将其放入web.xml中：

```
<context-param>
    <param-name>javax.servlet.jsp.jstl.fmt.localizationContext</param-name>
    <param-value>XXXXX-messages</param-value>
</context-param> 
```

通过这样做，我可以将 setBundle 的标签保存在每个 jsp 页面中。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-18T08:41:53.173

您可以使用后备语言环境来解决您的第二个问题：

> 如果未找到匹配项，格式化操作会查找所谓的 fallback-locale 配置设置。配置设置是由应用程序的 web.xml 文件中的上下文参数或由 JSP 范围之一中的 JSTL 操作或 Java 代码设置的值。要在 web.xml 文件中设置后备语言环境，请包含以下元素：

```
<context-param>
  <param-name>javax.servlet.jsp.jstl.fmt.fallbackLocale</param-name>
  <param-value>en</param-value>
</context-param> 
```

[http://onjava.com/onjava/2002/09/11/jstl2.html](http://onjava.com/onjava/2002/09/11/jstl2.html)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-28T16:10:21.243

下面是使用 JSTL 创建的 JSP 模板，可以帮助某人合并 JSTL 资源包以实现国际化和本地化。

*模板标签*

```
<%@tag description="UI Template" pageEncoding="UTF-8"%>
<%@taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>           
<%@attribute name="header" fragment="true"%>
<%@attribute name="footer" fragment="true"%>
<fmt:setLocale value="en" scope="session" />
<fmt:setBundle basename="resources.labels" var="label" scope="session" />
<fmt:setBundle basename="resources.messages" var="msg" scope="session" />
<html>
    <body>
        <div id="pageHeader">
            <jsp:invoke fragment="header"/>
        </div>
        <div id="body">            
            <jsp:doBody/>
        </div>
        <div id="pageFooter">            
            <jsp:invoke fragment="footer"/>
        </div>
    </body>
</html> 
```

下面是*home.jsp*文件，显示了与正文一起包含的*header.jsp*和*footer.jsp 。*

*主页.jsp*

```
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<%@taglib prefix="t" tagdir="/WEB-INF/tags"%>
<%@taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>
<!DOCTYPE html>
<t:template>
    <jsp:attribute name="header">
        <jsp:include page="../header.jsp" />
    </jsp:attribute>
    <jsp:attribute name="footer">
        <jsp:include page="../footer.jsp" />
    </jsp:attribute>
    <jsp:body>        
        <font style="font-family: Arial; font-size: 10pt; color: blue; font-weight: bold">
            <fmt:message bundle="${msg}" key="message.loginSuccess" />
        </font>
        <br/>
        <font style="font-family: Arial; font-size: 10pt; font-weight: bold">
            <fmt:message bundle="${label}" key="label.home" />
        </font>
    </jsp:body>
</t:template> 
```

*web.xml 文件*

```
<context-param>
    <param-name>javax.servlet.jsp.jstl.fmt.localizationContext</param-name>
    <param-value>resources.labels</param-value>
    <param-value>resources.messages</param-value>
</context-param> 
```

# jquery - 为什么 appendTo 在另一个 DIV 中的 DIV 上不起作用

> ID：12470930
> 
> 赞同：0
> 
> 时间：2012-09-18T05:34:23.063
> 
> 标签：jquery, html, appendto

我想在鼠标悬停时在其他 DIV 之间移动“菜单 DIV”。但是，当我将鼠标移到某个 DIV 之外时，“菜单 DIV”就会消失。

**JSFIDDLE 演示：http:** [//jsfiddle.net/ynternet/HhzVC/](http://jsfiddle.net/ynternet/HhzVC/)

HTML

```
 <div id="menu">
    <a href="#">Link</a>
    <a href="#">Link</a>
 </div>
 <div id="container">
    <div id="divA"><br>&nbsp;</div>
    <br>
    <div id="divB"><br>&nbsp;</div>
    <br>
    <div id="divC"><br>&nbsp;</div>
    <br>
    <div id="divD"><br>&nbsp;</div>
 </div> 
```

CSS

```
#menu{
   position: absolute;
   background-color: yellow;
}
#divA{
   background-color: blue;
}
#divB{
   background-color: red;
}
#divC{
   background-color: cyan;
}
#divD{
   background-color: brown;
} 
```

查询

```
$("#container div").live({
     mouseover: function() {
         $('#menu').appendTo($($(this)));
     }
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T05:42:37.390

`#menu``$("#container div")`只要鼠标悬停在这样的匹配元素上，就会移动到选择器的结果。`#menu`本身，作为一个 div，`$("#container div")`一旦它被移动到这样的元素内部，它也会匹配。

有几个选项可以避免这种情况，但最直接的方法是在匹配的选择器是`#menu`.

```
$("#container div").live({
        mouseover: function() {
            if( $(this).closest("#menu").length ){ return; }
            $('#menu').appendTo($(this));
        }
});​ 
```

请注意，如果没有 javascript，可能会更好地完成整个操作，只需`:hover`使用 CSS 隐藏/显示现有菜单，而不是在文档中移动单个菜单。

# cocoa - 可可中的 GridBagLayout

> ID：12470931
> 
> 赞同：0
> 
> 时间：2012-09-18T05:34:26.897
> 
> 标签：cocoa, autolayout

可可中是否有任何与“GridBagLayout as in swing”等效的功能？花了一些时间寻找没有运气。

感谢您在可可中创建类似 GridBagLayout 的任何帮助或建议:) 谢谢:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T05:35:57.657

没有。`GridBagLayout`在 Java 中最接近的可能是将`NSCollectionView`内容数组显示为视图网格：

[https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/NSCollectionView_Class/Introduction/Introduction.html](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/NSCollectionView_Class/Introduction/Introduction.html)

[https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/NSCollectionView_Class/Introduction/Introduction.html#//apple_ref/occ/cl/NSCollectionView](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/NSCollectionView_Class/Introduction/Introduction.html#//apple_ref/occ/cl/NSCollectionView)

# javascript - 如果 gridview 为空，则在回发时进行验证

> ID：12470933
> 
> 赞同：0
> 
> 时间：2012-09-18T05:34:38.160
> 
> 标签：javascript, asp.net

我正在尝试提供一个确定取消弹出窗口“如果”gridview 没有行，并且我认为这将像客户端脚本一样工作，但是当我点击确定时，控件会跳过该方法的其余部分。无论如何我可以执行此验证或警报并将控件移动到下一条语句吗？

```
protected void btnRunD_Click(object sender, EventArgs e)
 {
       try
        {
            int iESStatus = 0;
            int iRunStatus = 0;
            ApplicationUser au = (ApplicationUser)Session["ApplicationUser"];
            if (UploadFileGrid.Rows.Count <= 0)
            {
               ScriptManager.RegisterStartupScript(this.Page, this.Page.GetType(),     "err_msg", "confirm('No new data files have been uploaded. Are you sure you want to run EYDS Processing Module?');",
           //true);
            }

            if (au.RoleID != 2) //RoleID is not Admin!
            {
                ScriptManager.RegisterStartupScript(this.Page, this.Page.GetType(), "err_msg", "alert('You do not have enough privileges to use this functionality!');",
           true);
           }
           else
           {.........}
} 
```

我遇到困难的部分在这里：
我正在尝试提供一个好的取消弹出窗口'如果'gridview没有行

```
if (UploadFileGrid.Rows.Count <= 0)
    {
        ScriptManager.RegisterStartupScript(this.Page, this.Page.GetType(), "err_msg", "confirm('No new data files have been uploaded. Are you sure you want to run?');",       
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T05:55:40.137

假设您的按钮是这样的：

```
<asp:Button ID="btnDoSomething" runat="server" Text="Do Something" OnClientClick="return GetConfirmation();"  OnClick="btnDoSomething_Click" /> 
```

然后添加一个javascript函数如下：

```
function GetConfirmation() {
    var rowscount = document.getElementByID(<%=UploadFileGrid.ClientID%>).rows.length;
    return rowscount > 0 || confirm('No new data files have been uploaded. Are you sure you want to run?');
} 
```

然后它会在显示确认按钮时用户按下 ok 时被回发。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T06:10:28.480

您可以使用 javascript 或 jquery 来完成：

```
$("#<%=btnApprove.ClientID %>").click(function () {
            if ($("#<%=UploadFileGrid.ClientID %> ").find("tr").length == 0) {
                if (confirm('No new data files have been uploaded. Are you sure you want to run?')) {
                    return true;
                }
                else {
                    return false;
                }
            }

        }); 
```

当用户按下确定时，您的页面将被回发，您可以编写您想要执行的代码。我希望这段代码对你有帮助。

# magento - Magento：如何在产品页面中获取制造商名称？

> ID：12470938
> 
> 赞同：13
> 
> 时间：2012-09-18T05:34:50.033
> 
> 标签：magento

我想在 product/view.phtml 中显示制造商名称。我都使用过各种功能，例如

```
<?php echo $_product->getAttributeText('manufacturer');?>
<?php echo $this->htmlEscape($_product->getData('manufacturer'));
<?php echo $_product->getData('manufacturer'); ?> 
```

但是他们都没有帮助。那么如何在产品视图页面中获取制造商名称。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-09-18T08:04:25.833

如上所述，您需要执行几个步骤：

1）转到属性集，并确保将“制造商”分配给您正在使用的属性集。

2）确保您已将一些制造商添加到属性选项中。

3) 为您的产品分配一个选项。

根据您的 magento 版本，这应该可以工作：

```
<?php echo $_product->getAttributeText('manufacturer') ?> 
```

我可以看到您收到的错误：

```
gives error Call to a member function getManufacturer() on a non-object in 
```

**您确定要将此代码放在此行之后：**

```
<?php $_product = $this->getProduct(); ?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:20:26.983

确保以下事项 1\. 您的属性代码是“制造商”。2.“制造商”属性被添加到您的属性集中。3\. 您在管理目录产品中选择了属性值。4.相应的产品在前端可见。

如果所有 4 点都是肯定的，那么您的代码应该可以工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T06:30:53.313

你可以使用这样的东西来获取制造商名称

```
$_product->getResource()->getAttribute('manufacture')->getFrontend()->getValue($_product); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-17T16:46:40.133

制造商（和所有其他属性）是选项列表的一部分，可由`getOptionsList`.

试试这个片段：

```
<?php
     $_options = $this->getOptionList();
     echo $_options['manufacturer']['value'];
?> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-18T07:01:31.863

尝试：

`$_procuct->getManufacturer();`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-11-13T04:02:46.753

```
<?php 
  echo $_helper->productAttribute($_product, $_product->getManufacturer(), 'manufacturer') 
?> 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-09-18T07:14:00.793

确保制造商属性的“用于产品列表”选项已设置为“是”。

之后你应该可以做

```
$_product->getManufacturer(); 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2014-02-23T20:32:20.000

$_product->getAttributeText('country_of_manufacture');

# php - PHP 计数数组数量

> ID：12470939
> 
> 赞同：0
> 
> 时间：2012-09-18T05:35:11.017
> 
> 标签：php, arrays, shopping-cart

我在 $_SESSION["cart_array"] 中设置了一个数组，当商品在购物车中时，输出就是这样。

```
Array ( [0] => Array ( [item_id] => 1 [quantity] => 6 ) [1] => Array ( [item_id] => 2 [quantity] => 1 ) ) 
```

我正在尝试创建一个 foreach 循环来遍历并计算“数量”值以获得购物车项目的总计数，到目前为止我有以下内容，但我只是不知道如何将其放入字符串变量中，所以我可以在其他页面上显示。

```
 $cartCount = array();
if (!isset($_SESSION["cart_array"]) || count($_SESSION["cart_array"]) < 1) {
    $cartCount = 0;
} else {
    foreach ($_SESSION["cart_array"] as $each_item) {
        //$cartCount += $each_item['quantity']; <-- commented out as not working.
        //$cartCount[$each_item['item_id']] += $each_item['quantity']; <-- commented out as not working.
    }
    //Print array for debugging purposes
    print_r($_SESSION["cart_array"]);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:38:57.053

这必须工作：

```
<?php

session_start();

$cartCount = 0;
if(isset($_SESSION['cart_array']) AND is_array(@$_SESSION['cart_array'])){
    foreach($_SESSION['cart_array'] AS $each_item){
        $cartCount = $cartCount + $each_item['quantity'];
    }
}

echo $cartCount;

?> 
```

# php - print_r 显示 POST 的空结果

> ID：12470946
> 
> 赞同：0
> 
> 时间：2012-09-18T05:35:44.180
> 
> 标签：php

为什么是`$email`而`$pass`不是打印出来，他们张贴为空。我得到以下结果`print_r()`

```
 [email] => 
    [password] => 
```

下面是我的代码。我究竟做错了什么

```
<?php
$email = $_POST["data[User][email]"];
$pass = $_POST["data[User][password]"];
$base = 'https://api.whatever.com/Api?';

$params = array(
    'Format' => 'json'
    ,'email' => "$email"
    ,'password' => "$pass"

);

$url = $base . http_build_query( $params );
$result = file_get_contents( $url );

echo '<pre>';
print_r( json_decode( $result ) );
echo '</pre>';
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:08:39.313

从评论扩展：

如果你发布类似的东西

```
<input name="data[User][email]" value="test@test.com" /> 
```

你必须使用

```
$_POST["data"]["User"]["email"] 
```

检索相应的值。

# jquery - jQuery TableSorter 过滤器不适用于 AJAX 动态表

> ID：12470951
> 
> 赞同：1
> 
> 时间：2012-09-18T05:36:07.750
> 
> 标签：jquery, ajax, joomla, filter, tablesorter

我在 Joomla 框架中为我的报告组件使用 jQuery TableSorter 过滤器。

我管理创建通过基于用户数据库表选择调用 AJAX 构建的动态表。TableSorter 功能（例如排序和分页器）运行良好，但过滤器仅适用于页面加载时构建的默认表，而不适用于 AJAX 构建的动态表。

这是我的摘录代码：

```
component/com_report/views/report/tmpl/default.php

<script type="text/javascript">
    jQuery.noConflict();
    jQuery(document).ready(function($) {
        $("#tblReportMain")
            .tablesorter({debug: false, widthFixed: true, widgets: ['zebra']})
            .tablesorterFilter({filterContainer: $("#filter-box"),
                                filterClearContainer: $("#filter-clear-button"),
                                filterCaseSensitive: false})
            .tablesorterPager({container: $('#pager')});

        $(function(){
            . //some codes to be hidden for simplicity 
            .

            $('#buttonGenerateReport').live('click', function() {
                . //some codes to be hidden for simplicity 
                .

                if (aryColTableChecked.length > 0) {
                    $.ajax({
                            type: "POST",
                            url: "index.php?option=com_report&view=report&format=raw&task=showSelectedReport",
                            data: {
                                dbTableName: selectedDBTable,
                                dbTableColumns: aryColTableChecked
                            },
                            success: function(result) {
                                        $("#tblReportMain").remove();
                                        $("#divReportContent").html(result);
                                        $("#tblReportMain")
                                            .tablesorter({debug: false, widthFixed: true, widgets: ['zebra']})
                                            .tablesorterFilter({filterContainer: $("#filter-box"),
                                                                filterClearContainer: $("#filter-clear-button"),
                                                                filterCaseSensitive: false})
                                            .tablesorterPager({container: $('#pager')});
                                        // let the plugin know that we made a update 
                                        $("#tblReportMain")
                                            .trigger("update")
                                            .trigger("appendCache")
                                            .trigger("applyWidgets");
                                    },
                            error: function(xhr, textStatus, errorThrown) {
                                        if (textStatus !== null) {
                                            alert("error: " + textStatus);
                                        } else if (errorThrown !== null) {
                                            alert("exception: " + errorThrown.message);
                                        }
                                        else {
                                            alert ("AJAX error undefined");
                                        }
                            }
                    });
    . //some codes to be hidden for simplicity 
    .
    .          

    <table width="100%">
        <tr>
            <td align="left" width="50%">
                Search: <input name="filter" id="filter-box" value="" maxlength="30" size="30" type="text">
                        <input id="filter-clear-button" type="submit" value="Clear"/>

            </td>
            <td align="right" valign="right" width="50%">
                Export: <button id="buttonExportCSV" type="button" onclick="return false;"><?php echo JText::_('COM_REPORT_BUTTON_EXPORT_CSV'); ?></button>
                        <button id="buttonExportXLS" type="button" onclick="return false;"><?php echo JText::_('COM_REPORT_BUTTON_EXPORT_XLS'); ?></button>
            </td>
        </tr>
    </table> 
```

在我的组件控制器文件中构建动态表如下：

```
component/com_report/controller.php

    /*
     * Process to showSelectedReport
     * This function is called by JQuery Ajax function at object Report View default.php
     */
    public function showSelectedReport()
    {
        $dbTableName = JRequest::getVar('dbTableName', '', 'post', 'string');
        $dbTableColumns = JRequest::getVar('dbTableColumns', '', 'post', 'array');

        if (!empty($dbTableName)) {
            $model =  $this->getModel();

            if (!($model->showSelectedReport($dbTableName, $dbTableColumns, $rows, $pageNav, $lists))) {
                if (count($errors = $this->get('Errors'))) {
                    JError::raiseError(500, implode('<br />', $errors));
                    return false;
                }
            }

            echo '<table id="tblReportMain" class="tablesorter">';
            echo '<thead>';
            echo '<tr>';

            foreach($dbTableColumns as $dbTabColNames)
               echo '<th>' . JText::_($dbTabColNames) . '</th>';

            echo '</tr>';
            echo '</thead>';

            echo '<tbody>';

            $k = 0;

            for($i=0, $n=count($rows); $i < $n ; $i++){
                $row = &$rows[$i];

                echo '<tr class="row' . $k . '">';

                foreach($row as $rowVal) {
                    echo '<td>' . $rowVal . '</td>'; 
                }

                echo '</tr>';

                $k = 1 - $k;
            }

            echo '</tbody>';

            echo '<tfoot>';
            echo '<tr>';

            foreach($dbTableColumns as $dbTabColNames)
               echo '<th>' . JText::_($dbTabColNames) . '</th>';

            echo '</tr>';
            echo '</tfoot>';
            echo '</table>';
        } else
            echo '<table><tr><td>Cannot get the selected Table Information</tr></td></table>';
    } 
```

每当我将字符放入“过滤器框”输入时，动态表中没有响应，但默认表将被过滤。当我单击“filter-clear-button”按钮时，它将刷新整个页面并返回默认表。

正如你可以看到我上面的代码，我尝试使用在[这个主题](https://stackoverflow.com/questions/247305/using-jquery-tablesorter-on-dynamically-modified-table) 和[这个讨论](https://stackoverflow.com/questions/2124235/how-to-fire-event-handlers-after-ajax-content-has-loaded-in-jquery)中讨论的解决方案，但它仍然无法工作。

预先感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T15:09:14.027

我解决了我的问题！:-) 只是为了与你分享我所做的一切，以防你遇到和我一样的问题。

```
component/com_report/views/report/tmpl/default.php

                    $.ajax({
                            type: "POST",
                            url: "index.php?option=com_report&view=report&format=raw&task=showSelectedReport",
                            data: {
                                dbTableName: selectedDBTable,
                                dbTableColumns: aryColTableChecked
                            },
                            success: function(result) {
                                        $("#tblReportMain").remove();
                                        $("#divReportContent").html(result);

                                        $("#tblReportMain")
                                            .tablesorter({debug: false, widthFixed: true, widgets: ['zebra']})
                                            .tablesorterFilter({filterContainer: $("#filter-box"),
                                                                filterClearContainer: $("#filter-clear-button"),
                                                                filterCaseSensitive: false})
                                            .tablesorterPager({container: $('#pager')});
                                        // let the plugin know that we made a update 
                                        $("#tblReportMain")
                                            .trigger("update")
                                            .trigger("appendCache")
                                            .trigger("applyWidgets");
                                    }, 
```

变成：

```
 $.ajax({
                            type: "POST",
                            url: "index.php?option=com_report&view=report&format=raw&task=showSelectedReport",
                            data: {
                                dbTableName: selectedDBTable,
                                dbTableColumns: aryColTableChecked
                            },
                            success: function(result) {
                                        //$("#tblReportMain").remove();
                                        //$("#divReportContent").html(result);
                                        $("#tblReportMain").html(result);

                                        $("#tblReportMain")
                                            .tablesorter({debug: false, widthFixed: true, widgets: ['zebra']})
                                            .tablesorterFilter({filterContainer: $("#filter-box"),
                                                                filterClearContainer: $("#filter-clear-button"),
                                                                filterCaseSensitive: false})
                                            .tablesorterPager({container: $('#pager')});
                                        // let the plugin know that we made a update 
                                        $("#tblReportMain")
                                            .trigger("update")
                                            .trigger("appendCache")
                                            .trigger("applyWidgets");
                                    }, 
```

在我的 Component controller.php 中，我不再需要返回“table”HTML 标记。因此，我注释了以下代码行：

```
 // echo '<table id="tblReportMain" class="tablesorter">';
       // echo '</table>'; 
```

我还为按钮“filter-clear-button”添加了 JQuery 事件，如下所示：

```
 $('#filter-clear-button').live('click', function() {
            if ((typeof selectedDBTable == 'undefined') || selectedDBTable == 'None') {
                return true;
            } else {
                $('#buttonGenerateReport').click();
                return false;
            }

        }); 
```

# javascript - JavaScript：将 ex 转换为 px

> ID：12470954
> 
> 赞同：3
> 
> 时间：2012-09-18T05:36:21.667
> 
> 标签：javascript

所以我正在阅读 elem.style.width，并得到类似“3.1415926ex”的内容。

我想将其转换为“px”。

JavaScript 是否有内置函数来执行此操作？我更喜欢砍掉字符串的最后两个字母，将其读取为数字，然后将其乘以一个魔术常数。

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T05:44:57.547

没有“神奇常数”，因为没有从`ex`到的直接转换`px`（与将英寸转换为厘米不同）。

`ex`单位是当前字体中小写“x”字符的高度（其中“字体”是字体系列（例如 Times New Roman）、大小（例如 14 像素或 72 pt）和样式（常规、粗体）的组合，斜体））。

...所以 72pt Impact Bold 中的“1ex”大于 8pt Helvetica Regular 中的“1ex”。

如果您知道这些详细信息，则可以从`ex`to转换。`px`当然，听起来你真的只想要“计算样式”，它总是以像素为单位。阅读本文：[如何获得计算样式？](https://stackoverflow.com/questions/5910004/how-do-i-get-a-computed-style)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-12-09T07:46:55.780

没有为此目的的内置函数。给定一个可以在 JavaScript 中使用变量 访问的元素`elem`，您可以使用表达式 获得它的宽度（以像素为单位，四舍五入为整数）[`elem.clientWidth`](https://developer.mozilla.org/en-US/docs/Web/API/Element.clientWidth)。为了使它不圆整，精度因浏览器而异，原则上您可以`elem.getBoundingClientRect().width`改用它，尽管它实际上会在许多浏览器中产生一个四舍五入的结果或不准确的结果。– 如果元素的水平填充为零，则适用。

如果你设置一个元素的宽度，`1ex`然后将上面的内容应用到它，你将得到一个整数或实数，它告诉你`ex`以像素为单位的值。但这不是一个神奇的常数：它取决于字体系列和字体大小。

注意：一些旧浏览器，例如 IE 7，错误地将单位实现为`ex`单位的一半`em`，而不是正确使用字体的 x-height。

# c# - 使用uploadify检查文件夹代码中现有文件的C# java脚本代码

> ID：12470963
> 
> 赞同：0
> 
> 时间：2012-09-18T05:37:06.720
> 
> 标签：c#, javascript, asp.net

我可以使用uploadify control（www.uploadify.com）将文件从系统上传到服务器。一切正常，但问题是我不知道如何检查服务器中是否存在文件。我需要您的帮助，了解如何在将文件上传到服务器之前使用 java 脚本或 C# 检查现有文件。我有用于在 php 中检查存在的代码，但我想要在 C# 或 java 脚本中，所以请做必要的事情。

感谢 PBN

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T06:17:37.870

不确定您在问什么，但可以使用 C# 检查文件是否存在：

```
string path = @"C:\yaddayadda\file.txt";
bool fileExists = File.Exists(path); 
```

MSDN：http: [//msdn.microsoft.com/en-us/library/system.io.file.exists.aspx](http://msdn.microsoft.com/en-us/library/system.io.file.exists.aspx)

但也许你在问别的？在这种情况下，请澄清。

# .net - 是否可以使用 NHibernate 使用 Oracle 的更改通知？

> ID：12470965
> 
> 赞同：2
> 
> 时间：2012-09-18T05:37:19.780
> 
> 标签：.net, oracle, nhibernate, change-notification

我的项目使用 NHibernate 来访问数据库表 (Oracle)。是否可以在 NHibernate中使用 Oracle[更改通知功能？](http://www.oracle.com/technetwork/issue-archive/2006/06-mar/o26odpnet-093584.html)或者我必须为此使用 Oracle DataClient 吗？如果是这样，知道如何干净地结合起来吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T20:07:00.563

NHibernate 中没有任何东西可以利用 Oracle 的变更通知。

从我在您的链接中读到的内容来看，它最糟糕的问题是它需要连接保持打开状态。

# php - 如何获取选定的无线电类型输入并将其用作变量？

> ID：12470966
> 
> 赞同：0
> 
> 时间：2012-09-18T05:37:20.310
> 
> 标签：php, javascript, html, radio-button

如何在 php 脚本中获取选定的无线电输入类型值并将其定向到不同的目录以检索选定的文件。我尝试编写代码，但由于我是 php 世界的新手，所以无法正确编写代码。

我为显示单选按钮编写的代码是

```
<input type="radio" name="radio<?php echo $orderby1[0]; ?>"  
id="<?php echo $orderby1[0]; ?>" value="<?php echo $orderby1[0]; ?>"  
/><?php echo $orderby1[0]; ?> 
```

现在如何从中获取选定的值并将其定向到包含文件的目录？

我写的代码是，这似乎不起作用

```
<script type="text/javascript">
var element = document.getElementById("<?php echo $orderby1[0]; ?>");
jmolApplet(400, "load  /jmol/'element.value'.txt");  
</script> 
```

我不想包含任何 for 循环...这使我的脚本以不同的方式工作。请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T05:41:22.540

`$_REQUEST`您将在表单中使用方法，例如：

```
<?php 
  if ($_REQUEST['radiotest']) {
    echo "You chose ".$_REQUEST['radiotest'];
  }
?>
<form>
  <div><input type='radio' name='radiotest' value='1' /> Option 1</div>
  <div><input type='radio' name='radiotest' value='2' /> Option 2</div>
  <div><input type='radio' name='radiotest' value='3' /> Option 3</div>
  <div><input type='submit' value='Submit' /></div>
</form> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:40:23.163

您需要先在收音机渲染后执行，然后不要将值放在引号内

```
function someEvent() {
  var element = document.getElementById("<?php echo $orderby1[0]; ?>");
  jmolApplet(400, "load  /jmol/"+element.value+".txt");  
} 
```

# android - 如何使应用程序在android中连续运行？

> ID：12470967
> 
> 赞同：6
> 
> 时间：2012-09-18T05:37:26.260
> 
> 标签：android

我正在创建一个将位置信息发送到服务器的应用程序。但是，当单击返回或主页按钮时，应用程序将停止。有没有办法让应用程序在后台连续运行并将数据发送到服务器？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T05:43:45.893

使用后台[服务](http://developer.android.com/reference/android/app/Service.html)。服务是无需用户交互即可在后台运行的应用程序组件。`Service`一个很好的关于android 的教程来自[this](http://www.vogella.com/articles/AndroidServices/article.html)。

您可能希望在启动时启动服务`Activity`，或者您可以注册系统广播，例如`BOOT_COMPLETE`让您的服务在启动时运行。

但是，在用户不知情的情况下让您的服务始终运行是个坏主意，而且还会消耗电池电量。您可能希望使用 唤醒服务`AlarmManager`、进行处理、安排下次重新启动并退出。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T05:40:31.060

您需要为您自己的应用程序运行一个服务类。

有关更多信息，请参阅[文档](https://developer.android.com/reference/android/app/Service.html)。

# sql-server - 将 SSRS 与 Visual Studio 2010 集成

> ID：12470969
> 
> 赞同：3
> 
> 时间：2012-09-18T05:38:19.590
> 
> 标签：sql-server, visual-studio-2010, reporting-services

有没有办法将 SSRS 与 Visual Studio 2010 集成？

如果没有，在我的项目中使用 SQL Server 2012、MS Report Builder 3.0 和 Visual Studio 2010 时，是否还有其他方法可以使用 SQL Server Reporting Services？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T13:54:12.530

您可能正在使用 SQL Server 2008 R2 并启动您将用于在 SSRS 中创建报告的工具，您可以转到开始 > 所有程序 > Microsoft SQL Server 2008 R2 > SQL Server Development Studio。在那里，您可以使用报表向导创建项目以在 SSRS 中使用。您需要启动 Reporting Services 服务和其他东西，但这是另一个问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-08-03T22:11:56.483

由于最初提出这个问题，MS 发布了[SQL Server Data Tools – Business Intelligence for Visual Studio 2012](http://www.microsoft.com/en-us/download/details.aspx?id=36843)，它允许您从 VS 2012 创建 SSRS 报告。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T14:33:17.890

如果您希望在 winform/webform 应用程序中使用报告服务报告，您可以使用报告查看器控件执行此操作：[http ://www.gotreportviewer.com/](http://www.gotreportviewer.com/)

您无法在 Visual Studio 2010 中创建 SSRS 2008/2008 R2 报表，您需要使用 Visual Studio 2008/Business Intelligence Development Studio 或 Report Builder 3.0。

只有 SQL Server 2012 支持在 Visual Studio 2010 中开发 SSRS 报表。

# svn - SVN：更新文件列表时出错

> ID：12470982
> 
> 赞同：2
> 
> 时间：2012-09-18T05:39:30.153
> 
> 标签：svn

我在 SVN 上遇到了这个奇怪的错误：

> 更新文件列表时出错（路径“/path/”似乎是 Subversion 1.7 或更高版本工作副本的一部分。请升级您的 Subversion 客户端以使用此工作副本。）

这对我来说听起来很奇怪：

1.  我的 svn 服务器版本是 1.6.11（不是 1.7）
2.  我的 svn 本地客户端是 16.17

我试图使用的命令是：

```
svn log -v 
```

任何的想法 ？我正在将我的客户端更新到 1.7 以查看它是否修复它

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T05:42:18.033

在某些时候，您必须使用 SVN 1.7 来签出副本，或者您从使用 SVN 1.7 的人那里获得了工作副本文件。

您必须将客户端升级到 SVN 1.7 才能使用工作副本——目前无法将工作副本从 1.7 降级回 1.6。

# algorithm - 打印每个顶点的入度和出度

> ID：12470989
> 
> 赞同：2
> 
> 时间：2012-09-18T05:40:27.717
> 
> 标签：algorithm, graph, graph-theory, graph-algorithm, directed-graph

我正在努力解决这个算法问题：

我将如何编写一个`theta(m+n)`算法来打印 m 边、n 顶点有向图中每个顶点的入度和出度，其中有向图使用邻接表表示。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-19T18:01:01.147

**注意：**为简洁起见，我使用“O”代替 theta。

不需要 BFS。

如果您的邻接列表包含有向边列表，请维护两个顶点计数映射，一个用于入度，一个用于出度。每个顶点最初应映射为零。然后遍历每条边，`u,v`并递增出度（u）和入度（v）。在遍历所有边之后，您可以遍历每个顶点，并从映射中打印其结果。遍历每条边是 O(m)，遍历每个顶点（一次初始化映射，一次实际打印它们）是 O(n)。它们的总和是 O(m+n)。

示例代码：

```
#python-ish, untested

V = set([1,2,3,4,5])
#{(u,v}
E = set([(1,2),(1,3),(2,3)])

in_degree_count = {}
out_degree_count = {}

#initialize the mappings to 0
#O(n)
for u in V:
  in_degree_count[u] = 0
  out_degree_count[u] = 0

#iterate through each edge, incrementing the respective mappings for u,v
#O(m)
for u,v in E:
  out_degree_count[u] += 1
  in_degree_count[v] += 1

#iterate through each vertex to print them
#O(n)
for u in V:
  print 'out_degree({0}):'.format(u), out_degree_count[u]
  print 'in_degree({0}):'.format(u), in_degree_count[u] 
```

您可以将任何关联映射用于顶点计数映射。如果您使用哈希图，您将获得摊销的常数时间操作，并且不会影响整个算法的复杂性。但是，如果您知道顶点在没有间隙的范围内，例如 [1,n]，那么您可以使用计数数组，索引表示具有其值的顶点。所以：

```
in_degrees = [0] * (n + 1) #array/list of zeros, of size n,
                           # index 0 is disregarded since there is no vertex named 0
in_degree[1] = 0 # will mean that vertex `1` has an in-degree of zero.
etc. 
```

这显然为您提供了恒定的时间映射操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T06:59:46.323

为每个节点维护一个哈希表并将其初始化为零。做BFS，当你在哈希表中击中一个与当前顶点增量值相邻的顶点时（即被击中）。上述方法是针对顶点的入度。对于出度做同样的事情（即，当你有节点连接到它时，它的值加一并迭代 (BFS)) 。

# android - Android将文件保存到缓存目录

> ID：12470990
> 
> 赞同：4
> 
> 时间：2012-09-18T05:40:28.237
> 
> 标签：android, xml-serialization, android-xml, java-io, android-file

我正在尝试做一些简单的事情，例如将文件保存到 Android 的缓存目录中，但我遇到了很多问题。我正在使用简单的序列化程序将我的文件写入 xml。

这是我的代码：

```
public void testWrite(ListDefinitions ld)
{
    Serializer serializer = new Persister();

    String fileName = "sampleExport.xml";
    try {
        File file = new File(mContext.getCacheDir(), fileName);
        file.createNewFile();
        serializer.write(ld, file);
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

而且我不断收到以下错误：

```
09-18 00:35:06.229: W/System.err(4442): java.io.FileNotFoundException: /data/data/com.main/cache/sampleExport.xml: open failed: EISDIR (Is a directory) 
```

感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T06:30:52.823

可能您之前用错误的调用创建了目录。尝试在设置中清理应用数据。

# c# - 知道线程数

> ID：12470991
> 
> 赞同：0
> 
> 时间：2012-09-18T05:40:30.593
> 
> 标签：c#, multithreading

我开发了使用线程来完成任务的应用程序，我想在进程中间关闭正在运行的应用程序，它关闭但线程在后台运行。

现在我想显示创建我的应用程序的活动线程。但困难是，当我从 vs 线程启动应用程序时，任务管理器中会显示 14-19 个线程而不运行应用程序。

你能告诉我只显示那些由我的应用程序而不是系统创建的线程吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T05:48:50.007

为什么不使用[Process.Threads](http://msdn.microsoft.com/library/system.diagnostics.process.threads%28v=VS.90%29.aspx)？以下应该为您提供在您的进程下运行的所有线程。

```
var myProcess = Process.GetCurrentProcess();
var myThreads = myProcess.Threads; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:56:06.060

这一行可能会帮助你。

```
System.Diagnostics.Process.GetCurrentProcess().Threads.Count 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-06T22:32:00.943

我会稍微不同地处理这个问题。我会跟踪我自己启动的线程数量。

我希望我假设你应该有 1 个 UI 线程，然后在你启动它们时有 x 个新线程是正确的。如果您想要已启动的线程总数，可能会在您的应用程序某处随每个启动的线程递增一个静态 int，并随每个停止的线程递减该 int。

您可能需要锁定静态 int 的递增和递减代码，以确保两个线程不会同时更改值。

.Net 有很多库可以做到这一点。如果您有时间，我建议您阅读[这篇文章](http://www.albahari.com/threading/)，因为它可能会推动您朝着正确的方向前进。

# php - 对大量相似变量进行排序的最佳方法？

> ID：12470996
> 
> 赞同：0
> 
> 时间：2012-09-18T05:40:58.313
> 
> 标签：php, database, pdo

我将获得**大量**的简单数据。

它基本上会在一个网页上，并且用户将对应于应该加载哪个（相同的）iFrame（EXTERNAL - (site.com/this) / (site.com/that)） - 其中 this/that 是相同的，但在页面中有不同的名称。

最好将它们插入数据库，然后通过这样的方式撤回它们？（伪代码）

```
// username to be replaced by a parameter
$query = "select url from table where user = 'username'";

//run query against the database
$url = $query[url];
echo "<iframe src='".$url."' />"; 
```

或者最好做一些非常基本的PHP（我期待成千上万的组合）

```
if($_POST['query'] == 'John Doe') { $url = 'site.com/this' }
if($_POST['query'] == 'Jane Flo') { $url = 'site.com/that' } 
```

在任何一种情况下，都会有人提交一个非常简单的带有名字/姓氏的表格，或者也可能是一个城市/州（不确定）。

我认为数据库会“更好”，但严格的无数据库 PHP 似乎更易于管理，但它会导致问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T06:18:39.960

在任何情况下，您都不想将它们存储在数据库中：

```
$data['John Doe'] = 'site.com/this';
$data['Jane Flo'] = 'site.com/that';

echo '<iframe src="' . $data[$_POST['query']] . '" />'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T05:50:57.043

您将希望将其存储在数据库中是的。SQL 数据库通常无论如何都会排序，因此对大量数据进行排序非常便宜。

使用 MySQL，这种查询看起来像这样：

```
SELECT * FROM table ORDER BY sort; 
```

目前尚不清楚您到底在做什么，但通常 iframe 中的外部站点是不可以的，因为它们无法管理，您无法使用 JavaScript 或任何其他方式访问它们。

# c - 命令行参数读取 C 中的标志和文件名

> ID：12470998
> 
> 赞同：1
> 
> 时间：2012-09-18T05:41:07.267
> 
> 标签：c, command-line, command-line-arguments, word-count

您好，我正在做一个项目，我需要我的程序从命令行运行，并且能够读取将在程序中使用的标志和文件名。

这是我当前的代码。它在不输入任何标志的情况下编译。我不认为我的 GetArgs 有任何作用。我对那部分代码有帮助。

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define MAX 1024
#define IN 1 /* inside a word */ 
#define OUT 0 /* outside a word */
/* count lines, words, and characters in input */

int numInputArgs;
int idx;
void GetArgs (int argc, char **argv){

for (idx = 1; idx < 4;  idx++) {
    if (strcmp(argv[idx], "-c") == 0) {
        printf("Flag -c passed\n");
        break;
    }
    else if (strcmp(argv[idx], "-w") == 0) {
        printf("Flag -w passed\n");
        break;
    }
    else if (strcmp(argv[idx], "-l") == 0) {
        printf("Flag -l passed\n");
        break;
    }
    else if (strcmp(argv[idx], "-L") == 0) {
        printf("Flag -L passed\n");
        break;
    }
    else {
        printf("Error: unknown flag\n");
        exit(-1);
    }
}
 }// end GetArgs

void lineWordCount ( ) {

int c, nl, nw, nc, state;

    state = OUT; nl = nw = nc = 0; 
    while ((c = getchar()) != EOF) {
            ++nc;

        if (c == '\n')
            ++nl; 

        if (c == ' ' || c == '\n' || c == '\t')
            state = OUT; 

        else if (state == OUT) {
            state = IN; ++nw;
        } 
        printf("%d %d %d\n", nl, nw, nc);
    }
 }// end lineWordCount

 int main(int argc, char **argv){

GetArgs(argc, argv);
lineWordCount();
printf("Hello");

//fclose( src );
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T05:57:52.630

您可以使用`getopt()`@Joachim 提到的标准函数，如果它在您的系统上可用，或者您可以自己编写代码。如果您有复杂的命令行语法，`getopt()`可能更适合 - 如果您只需要检查一组有限的标志，那么自己编写代码可能更容易，例如：

```
void GetArgs (int argc, char **argv){
   int idx = 0;

   for (idx = 1; idx < argc;  idx++) {
       if (strcmp(argv[idx], "-a") == 0) {
          printf("Flag -a passed\n");
       } else if (strcmp(argv[idx], "-b") == 0) {
          printf("Flag -b passed\n");
       } else if (strcmp(argv[idx], "-c") == 0) {
          printf("Flag -c passed\n");
       } else {
          printf("Error: unknown flag %s\n");
       }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T06:02:43.787

我建议您使用[argtable2](http://argtable.sourceforge.net/)库。我已经使用了很长时间，我认为它很棒。有教程可以了解它的强大和易用性。