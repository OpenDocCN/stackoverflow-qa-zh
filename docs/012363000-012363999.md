# StackOverflow 问答 12363000-12363999

# ajax - extjs 中的异步 Ajax 请求

> ID：12363000
> 
> 赞同：0
> 
> 时间：2012-09-11T04:58:03.240
> 
> 标签：ajax

在我的应用程序中，我有 7 个网格编辑器。并且用户可以一次保存或更新所有网格编辑器。

为了保存和更新，我向不同的 JSP 发出了 Ajax 请求。

但问题是数据没有按照用户将输入输入到网格的顺序保存。

如果我在任何此功能之间发出警报，则它正在正确保存。

早些时候，当我使用 JavaScript 时，我使用 xmlhttp 对象发出了 Ajax 请求，并且在传递参数时有一个选项：

```
xmlhttp.open("POST","ajaxCode/PMS/pmsInputScreen/SavePipeGroup.jsp",false); 
```

如果我们将此 false 更改为 true，则会发生相同的问题。有这样的楼盘`Ext.ajax.request`吗？

# dynamics-crm - 使用 Javascript 在 CRM 2011 中设置额外的查询字符串参数

> ID：12363002
> 
> 赞同：0
> 
> 时间：2012-09-11T04:58:12.523
> 
> 标签：dynamics-crm, dynamics-crm-2011, dynamics-crm-online

帐户主页中有一个自定义功能区按钮。单击此按钮，我需要在额外的查询字符串中传递一些值。当我们打开账户记录时，这个查询字符串值必须是可访问的。我们如何在 CRM 2011 中使用 Javascript 实现此功能..？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T08:42:15.507

因此，您正在使用帐户主页上的自定义功能区按钮打开一个空白帐户表单，但还传递了一些额外的查询字符串参数？

确切的解决方案将取决于参数是静态的还是动态的，但是我会：

*   使用功能区按钮单击触发 JScript 函数，该函数将地址编译为[URL 可寻址的空白帐户表单](http://msdn.microsoft.com/en-us/library/gg328483.aspx)（例如 http://myserver:5555/MyOrg/main.aspx?etc=1&pagetype=entityrecord）。如果您使用的是 UR8 或更高版本，则可以使用[`Xrm.Utility.openEntityForm()`](http://msdn.microsoft.com/en-us/library/72a66f93-92df-42b9-a8fd-b6125c7fe83b#BKMK_OpenEntityForm)

*   您的 JScript 函数还可以将值编译为自定义查询字符串以传递到`openEntityForm()`或附加到上述 URL

*   您需要[配置您的帐户表单以接受自定义查询字符串参数](http://msdn.microsoft.com/en-gb/library/gg334436.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-20T15:13:49.710

看看这个， http: [//msdn.microsoft.com/en-us/library/gg334375.aspx](http://msdn.microsoft.com/en-us/library/gg334375.aspx)

您可以使用上面 SDK 链接中描述的 extraqs 查询字符串方法，或者如果您运行的任何内容晚于 CRM 2011 UR8，您可以将参数数组传递给 Xrm.Utility.openEntityForm

# php - table2CSV 和 picnet.table.filter 在 CSV 导出中显示奇怪的字符

> ID：12363004
> 
> 赞同：1
> 
> 时间：2012-09-11T04:58:19.120
> 
> 标签：php, javascript, jquery, ajax

我有一个使用下面的插件工作的 CSV 工作 HTML 表。

```
http://www.kunalbabre.com/projects/table2CSV.php 
```

我也在使用 jquery 表排序器和表过滤器

```
jquery.tablesorter.js
picnet.table.filter.min.js 
```

我现在的问题是，当我在启用 picnet.table.filter 的情况下导出 CSV 时，CSV 在标题下方的顶部有一些奇怪的字符。看起来这是来自过滤器输入框。

```
", <=, ",", <=, ",", <=, ",", <=, ",", <=, ",", <=, ",", <=, ",", <=, ",", <=, ",", <=, ",", <=, ",", <=, ",", <=, ",", <=, ",", <=, " 
```

如果我禁用 picnet.table.filter，CSV 就可以了，它会显示标题和数据。

样本数据是：

```
"Name","Address","Email","Comment"
", <=, ",", <=, ",", <=, ",", <=, "
"John Smith","USA","john@john.net","No Comment" 
```

任何人都知道如何用字符消除第二行，因为我不想放弃过滤器。

谢谢。

# magento - Magento addColumn() 在每个产品记录的末尾添加一个“查看”链接

> ID：12363009
> 
> 赞同：2
> 
> 时间：2012-09-11T04:59:05.360
> 
> 标签：magento

我想在目录 -> 管理产品的产品列表中的每个产品记录的末尾添加一个指向产品显示页面的链接。

到目前为止，我发现我应该编辑 Grid.php 并提出以下代码：

```
$this->addColumn('view',
            array(
                'header'    => Mage::helper('catalog')->__('View'),
                'width'     => '50px',
                'type'      => 'action',
                'getter'     => 'getId',
                'actions'   => array(
                    array(
                        'caption' => Mage::helper('catalog')->__('View'),
                        'url'     => array(
                            'base'=>'*/*/view',
                            'params'=>array()
                        ),
                        'field'   => 'id'
                    )
                ),
                'filter'    => false,
                'sortable'  => false,
                'index'     => 'stores',
        )); 
```

现在我很茫然如何获取当前产品（行）的产品页面 URL。

知道如何更改上述代码以获得我想要的吗？只需一个指向当前产品行的产品页面的链接......就像一个 wordpress 帖子，它有一个 View Post 链接来打开前端帖子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:55:26.197

我自己刚拿到这个。在此处查看详细说明：

[http://magengoreview.lisabuy.com/add-view-product-page-link-to-products-list-at-catalog-manage-products~280](http://magentogoreview.lisabuy.com/add-view-product-page-link-to-products-list-at-catalog-manage-products~280)

# html - 非常基本的两列布局。为什么第二列跨越第一列？

> ID：12363013
> 
> 赞同：0
> 
> 时间：2012-09-11T04:59:33.257
> 
> 标签：html, css

我有一个非常基本的两列布局。第一列的背景颜色为白色，第二列为绿色。我通过以下方式非常简单地做到这一点：

```
#col1 { 
  background-color: white; 
  float: left; 
}

#col2 { 
  background-color: green
}

<div id="col1">

</div>
<div id="col2">
  <!-- green background, and needs to fill up the remaining width, so i can't float left */ 
</div> 
```

为什么第二列跨越页面的整个宽度并位于第一列后面？我只想要两列，一列固定宽度，第二列用完页面的其余部分。

看起来很简单。有一个更好的方法吗？

这是一个小提琴：http: [//jsfiddle.net/yrkrJ/1/](http://jsfiddle.net/yrkrJ/1/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:04:57.933

嗨，现在给`overflow:hidden`

像这样

```
#header-banner {
    overflow:hidden;
} 
```

***[演示](http://jsfiddle.net/yrkrJ/3/)***

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:06:04.160

因为您将**float**定义为您的第一个 DIV。因此，第二个 div 无法识别高度。像这样写

```
#col2 {
    overflow:hidden;
} 
```

检查这个[http://jsfiddle.net/yrkrJ/4/](http://jsfiddle.net/yrkrJ/4/)

阅读更多[http://www.quirksmode.org/css/clearing.html](http://www.quirksmode.org/css/clearing.html)

# php - 集成 DoDirect Paypal API 代码

> ID：12363021
> 
> 赞同：1
> 
> 时间：2012-09-11T05:00:12.477
> 
> 标签：php, paypal

我正在将 DoDirect Paypal API 代码集成到我的网站，但出现以下错误。

```
DoDirectPayment failed: 
Array ( [TIMESTAMP] => 2012%2d09%2d11T04%3a56%3a46Z 
        [CORRELATIONID] => e293002f805d 
        [ACK] => Failure     
        [L_ERRORCODE0] => 10001 
        [L_SHORTMESSAGE0] => Internal%20Error 
        [L_LONGMESSAGE0] => Timeout%20processing%20request 
      ) 
```

我正在使用沙盒凭据。任何错误帮助将不胜感激。

# php - 数组循环问题

> ID：12363022
> 
> 赞同：3
> 
> 时间：2012-09-11T05:00:34.973
> 
> 标签：php, arrays

我有以下数组

```
Array(
Array
(
    [Segment] => Array
        (
            [id] => 738
    )
),
Array
(
    [Segment] => Array
        (
            [0] => array([id] => 740),
            [1] => array([id] => 750)
    )
)
) 
```

我怎样才能循环数组。第二个值需要内部循环。

我需要输出为

第一个循环为 id->738

第二个循环为 id->740, id->750

问候， 尼桑特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:08:51.357

你可以这样做：

```
foreach($array as $a) {
    foreach($a as $segment => $array) {
        if(isset($array['id'])) {
           echo $array['id']; //if there is an `id` index echo it
        } else {
           foreach($array as $k => $v) { //or else.. start looping again
               echo $v['id'];
           }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:25:21.877

您可以使用[array_walk_recursive](http://php.net/manual/en/function.array-walk-recursive.php)来收集所有 id 值。

尝试：

```
$ids = array();
array_walk_recursive($arr, function($v, $k) use (&$ids) {
  $ids[] = $v;
});
var_dump($ids); 
```

# java - 使用 log4j 记录流数据

> ID：12363027
> 
> 赞同：0
> 
> 时间：2012-09-11T05:01:11.197
> 
> 标签：java, logging, stream, log4j

我正在从 http 连接获取流数据。我想使用 log4j 将流记录到日志文件中。

我需要这个流进一步做一些其他的操作（必须保留）

我怎样才能做到这一点？

```
HttpURLConnection connection = (HttpURLConnection) url.openConnection();
connection.setRequestMethod("GET");
connection.setRequestProperty("Accept", "application/xml");
InputStream xml = connection.getInputStream(); 
```

我试过这个：

`StreamUtils.copy(xml, new LogOutputStreamUtil(log, Level.INFO));`

其中 LogOutputStreamUtil 来自[http://www.java2s.com/Open-Source/Java/Testing/jacareto/jacareto/toolkit/log4j/LogOutputStream.java.htm](http://www.java2s.com/Open-Source/Java/Testing/jacareto/jacareto/toolkit/log4j/LogOutputStream.java.htm)

但是一旦它被记录下来。流即将关闭:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:44:46.243

简单的解决方案是编写自己的 inputStream 包装器

就像是：

```
class LogingInputStream extends BufferedStream {
    ByteArrayOutputStream copy4log = new ByteArrayOutputStream();
    InputStream source;

    public LogingInputStream( InputStream source ) { this.source = source; }

    public int read() {
        int value = source.read()
        logCopy.write( value );
        return value;
    }

    public void close() {
        source.close();
        StreamUtils.copy(xml, new LogOutputStreamUtil(copy4log, Level.INFO));
        copy4log.close();
    }

    .....more code here
} 
```

无论如何，一般的想法是您需要拦截输入流读取方法。

还有其他方法可以完成此操作，例如将源 inputStream 复制到缓冲区（字节数组、字符串或任何适合您的东西），记录该缓冲区，并在缓冲区周围创建另一个 inputStream 并将其返回给调用者而不是源 inputStream。这样做更简单，但它是否正确的解决方案取决于您的用例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-12-11T23:17:42.970

这是一个非常古老的问题，但是现在这样做的另一个选择是使用[log4J IOStreams](https://logging.apache.org/log4j/2.0/log4j-iostreams/index.html)类。这些允许您呈现流式接口，但将结果转到您选择的日志文件。

# go - 从 Go 中的初始标准输入读取？

> ID：12363030
> 
> 赞同：34
> 
> 时间：2012-09-11T05:01:16.030
> 
> 标签：go

我想阅读`stdin`Go 程序的原件。例如，如果我这样做了`echo test stdin | go run test.go`，我希望能够访问“测试标准输入”。我已经尝试从 中读取`os.Stdin`，但如果其中没有任何内容，那么它将等待输入。我也尝试先检查大小，但`os.Stdin.Stat().Size()`即使传入输入也是 0。

我能做些什么？

* * *

## 回答 #1

> 赞同：73
> 
> 时间：2012-09-11T12:26:25.417

使用 stdin 读取`os.Stdin`应该按预期工作：

```
package main

import "os"
import "log"
import "io/ioutil"

func main() {
    bytes, err := ioutil.ReadAll(os.Stdin)

    log.Println(err, string(bytes))
} 
```

执行`echo test stdin | go run stdin.go`应该打印'test stdin'就好了。

如果您附上用于识别您遇到的问题的代码，将会有所帮助。

对于基于行的阅读，您可以使用`bufio.Scanner`：

```
import "os"
import "log"
import "bufio"

func main() {
    s := bufio.NewScanner(os.Stdin)
    for s.Scan() {
        log.Println("line", s.Text())
    }
} 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-09-12T08:37:25.013

我认为您的问题本身没有明智的答案，因为没有“初始标准输入”之类的东西。类 Unix 操作系统和 Windows 实现了[“标准流”](http://en.wikipedia.org/wiki/Stdin)的概念，其工作原理如下（简化）：当创建一个进程时，它会自动打开三个文件描述符（Windows 中的句柄）——stdin、stdout 和 stderr。毫无疑问，你熟悉这个概念，但我想强调“流”这个词的含义——在你的例子中，当你打电话时

```
$ echo 'test stdin' | ./stdin 
```

shell 创建一个[pipe](http://linux.die.net/man/2/pipe)，生成两个进程（一个用于`echo`二进制文件，一个用于二进制文件）并使用它创建的管道：管道的写入 FD 连接到`echo`的标准输出，管道的读取 FD 连接到二进制的标准输入。然后，无论`echo`进程喜欢写入其标准输出的任何内容，都会通过管道（原文如此！）传输到您进程的标准输入。（实际上，当今的大多数 shell`echo`都是作为内置原语实现的，但这不会以任何方式改变语义；您也可以尝试一下`/bin/echo`，这是一个真正的程序。还要注意，我只是用来`./stdin`指代您的程序 -这是为了清楚起见，`go run stdin.go`最终也会这样做。）

请注意这里的几个关键事项：

*   写入过程（`echo`在您的情况下）没有义务向其标准输出写入任何内容（例如，`echo -n`不会向其标准输出写入任何内容并成功退出）。
*   它还能够任意延迟写入其数据（或者因为它想要做出这样的延迟，或者因为它已被操作系统抢占或在某些系统调用中休眠，等待某些繁忙的系统资源等）。
*   操作系统缓冲区通过管道传输。这意味着写入过程发送到管道的内容可能会在读取端以任意块的形式出现。¹
*   只有两种方法可以知道写入端没有更多数据要通过管道发送：
    *   以某种方式将其编码在数据本身中（这意味着在编写器和读取器之间使用商定的数据传输协议）。
    *   写入器可能会关闭管道的一侧，这将导致读取器侧出现“文件结束”情况（但只有在缓冲区耗尽并`read`尝试再次调用之后，才会失败）。

让我们总结一下：您观察到的行为是正确且正常的。如果您希望从标准输入中获取任何数据，则不能期望它随时可用。如果您也不想阻塞标准输入，那么创建一个 goroutine 将在无限循环中阻止从标准输入读取（但检查 EOF 条件）并通过通道向上传递收集的数据（可能在某些处理之后，如果需要）。

¹这就是为什么通常出现在管道中的两个管道之间的某些工具（例如`grep`）可能具有特殊选项以使它们在写入每一行后刷新其标准输出 - 阅读[手册页](http://linux.die.net/man/1/grep)中的一个示例`--line-buffered`中的选项。不了解这种“默认情况下完全缓冲”语义的人会感到困惑，为什么当受监控的文件明显更新时似乎停止并且不显示任何内容。[`grep`](http://linux.die.net/man/1/grep)`tail -f /path/to/some/file.log | grep whatever | sed ...`

* * *

附带说明：如果您要“按原样”运行二进制文件，例如

```
$ ./stdin 
```

这并不意味着生成的进程没有标准输入（或“初始标准输入”或 whaveter），相反，它的标准输入将连接到您的 shell 接收键盘导入的同一流（因此您可以直接在进程的标准输入中键入一些内容）。

让进程的标准输入无处连接的唯一可靠方法是使用

```
$ ./stdin </dev/null 
```

在类 Unix 操作系统和

```
C:\> stdin <NUL 
```

在 Windows 上。这个[“空设备”](http://en.wikipedia.org/wiki/Null_device)使进程首先`read`从其标准输入中看到 EOF。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-05-25T20:54:52.710

您无法检查标准输入的内容，但您可以检查标准输入是否与终端或管道相关联。IsTerminal 只接受标准的 unix fd 数字 (0,1,2)。syscall 包分配了变量，因此如果您喜欢命名它们，您可以执行 syscall.Stdin。

```
package main

import (
    "code.google.com/p/go.crypto/ssh/terminal"
    "fmt"
    "io/ioutil"
    "os"
)

func main() {
    if ! terminal.IsTerminal(0) {
        b, _ := ioutil.ReadAll(os.Stdin)
        fmt.Print(string(b))
    } else {
        fmt.Println("no piped data")
    }
} 
```

# web-services - 如何在 AWS 中获得第二页的响应？

> ID：12363032
> 
> 赞同：2
> 
> 时间：2012-09-11T05:01:54.047
> 
> 标签：web-services, api, rest, webservice-client

我是 AWS 新手。我得到了这样的 AWS 响应。

```
<Items>
<Request>
  <IsValid>True</IsValid>
  <ItemSearchRequest>
    <Brand>Levi's</Brand>
    <Keywords>Men</Keywords>
    <ResponseGroup>Large</ResponseGroup>
    <SearchIndex>Apparel</SearchIndex>
  </ItemSearchRequest>
</Request>
*<TotalResults>282</TotalResults>
<TotalPages>29</TotalPages>*
 ***<Item>***
  <ASIN>B004A7YLN6</ASIN>
  <DetailPageURL>http://www.amazon.com/Levis-Extra-Capacity-Slimfold-Wallet/dp/B004A7YLN6%3FSubscriptionId%3DAKIAIETT7RP2RAFF4UUQ%26tag%3Dws%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB004A7YLN6</DetailPageURL>
  <SmallImage>
    <URL>http://ecx.images-amazon.com/images/I/51z7oqZYgoL._SL75_.jpg</URL>
    <Height Units="pixels">71</Height>
    <Width Units="pixels">75</Width>
  </SmallImage>
  <MediumImage>
    <URL>http://ecx.images-amazon.com/images/I/51z7oqZYgoL._SL160_.jpg</URL>
    <Height Units="pixels">152</Height>
    <Width Units="pixels">160</Width>
  </MediumImage>
   <ItemAttributes>
    <Binding>Apparel</Binding>
    <Brand>Levi's</Brand>
    <Department>mens</Department>
    <FabricType>100% Genuine Leather</FabricType>
    <Feature>Natural fold construction</Feature>
    <Feature>9 Credit card pockets</Feature>
    <Feature>Top entry mesh ID window pocket</Feature>
    </ItemAttributes>
    </Item>
     <Items> 
```

现在，我每页有十个项目。我需要得到第二页的响应。我怎样才能得到第二页的响应。这里总页数为 29。如果您需要更多信息，请告诉我。我在 Asp.net 应用程序中使用 REST。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:06:18.980

看起来这与 AWS 关系不大，更多的是与您正在交谈的应用程序有关。例如，在带有 S3 的 AWS 中，您会得到一个`isTruncated`带有结果的标志，表明您可以请求更多结果（通过发送“start from”类型的参数）。您正在调用的应用程序需要为您提供一些执行此操作的方法。如果应用程序是您自己编写的应用程序，则需要实现此功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-02T15:25:02.853

该`ItemPage`参数使您能够返回指定页面的结果。可以返回的最大 ItemPage 编号为 10（如果使用 'All' as 则为 5 `SearchIndex`）。

*   有关更多信息，请参阅亚马逊文档：http: [//docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html](http://docs.aws.amazon.com/AWSECommerceService/latest/DG/ItemSearch.html)

*   供您参考，Amazon ECS PHP 库版本 1.3 包含一个 page() 函数。请注意，该库不再维护：[https ://github.com/Exeu/Amazon-ECS-PHP-Library](https://github.com/Exeu/Amazon-ECS-PHP-Library)

# mysql - 通过 ssh 访问 Mysql（不允许隧道）

> ID：12363033
> 
> 赞同：0
> 
> 时间：2012-09-11T05:01:54.953
> 
> 标签：mysql, linux, bash, ssh

当我想访问只允许本地访问的 Mysql 服务器时，首先我需要 SSH 到该服务器，然后运行“mysql”命令。但是我想通过一个命令运行它。

当我执行此命令时，终端停止并且光标在 5 或 10 秒后冻结。

```
ssh arash@10.0.3.1 "/usr/bin/mysql -u db_username -pdfdasdfCASDF -D db_12dgj 
```

有谁知道哪一部分是错的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:01:36.517

你需要确保你有一个 pty for readline。使用 的`-t`选项`ssh`。

```
 ssh -t -t user@server '/usr/bin/mysql -u{mysqlUser} -p{mysqlPassword} {mysqlDB} -e "select * from table"' 
```

人 ssh(1):

```
     -t 强制伪 tty 分配。这可以用来执行仲裁
             将基于屏幕的程序放在远程机器上，可以是
             非常有用，例如在实现菜单服务时。多个 -t
             即使 ssh 没有本地 tty，选项也会强制分配 tty。
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:52:08.777

您的 MySQL 用户是否有足够的权限来执行此操作？

您的 MySQL 用户是否具有远程访问权限以远程连接并对此数据库进行操作？

简而言之，您是否先测试了经典方式，然后再进一步，例如

*   首先连接，
*   第二次输入你的mysql命令
*   第三验证它是否有效。

没有隧道：

```
ssh user@server '/usr/bin/mysql -u{mysqlUser} -p{mysqlPassword} {mysqlDB} -e "select * from table"' 
```

您可以使用`-e`开关转义命令，默认转义字符为`~`.

如果它不起作用，那么我建议您查看dba.stackexchange.com上的[这些线程](https://dba.stackexchange.com/q/3489)

# ios - UIImageView 拖拽触摸

> ID：12363035
> 
> 赞同：1
> 
> 时间：2012-09-11T05:02:16.683
> 
> 标签：ios

我想检测 uiimageview 上的拖动和触摸。我怎么做？我需要在图像翻转事件中实现这样的代码。 [iOS 4.2：使用块动画翻转图像](https://stackoverflow.com/questions/3737878/ios-4-2-flip-image-using-block-animations)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:12:58.133

对于您的图像视图的拖动和触摸，您必须分配 GestureRecognizer

```
//drag your object
UIPanGestureRecognizer *panRecognizer = [[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(panDetected:)];
[self.imageSubVw addGestureRecognizer:panRecognizer];

// scale your object
UIPinchGestureRecognizer *pinchRecognizer = [[UIPinchGestureRecognizer alloc] initWithTarget:self action:@selector(pinchDetected:)];
[self.imageSubVw addGestureRecognizer:pinchRecognizer];

// rotate your object
UIRotationGestureRecognizer *rotationRecognizer = [[UIRotationGestureRecognizer alloc] initWithTarget:self action:@selector(rotationDetected:)];
[self.imageSubVw addGestureRecognizer:rotationRecognizer];

panRecognizer.delegate = self;
pinchRecognizer.delegate = self;
rotationRecognizer.delegate = self; 
```

# algorithm - 二叉树高度正确吗？

> ID：12363037
> 
> 赞同：-6
> 
> 时间：2012-09-11T05:02:29.863
> 
> 标签：algorithm, binary-tree

![在此处输入图像描述](../Images/492c6fda9cff98eec8ff080022f22635.png)

各位大佬，上面那棵树的高度是多少？它的3对吗？

我老师设计的测试用例期望它是2。

这是我用来获取高度的代码；

```
public int height(TreeNode t){

if (t == null)
return 0;
int heightLeft = height(t.leftChild);
int heightRight = height(t.rightChild)

if( heightLeft > heightRight )
return heightLeft +1;
else
return heightRight +1;
} 
```

你为什么要关闭这个线程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T05:03:54.730

[http://en.wikipedia.org/wiki/Binary_tree](http://en.wikipedia.org/wiki/Binary_tree)

> 树的深度（或高度）是从根到树中最深节点的路径长度。只有一个节点（根）的（有根）树的深度为零。

# selenium - Selenium Webdriver - 点击隐藏元素

> ID：12363038
> 
> 赞同：24
> 
> 时间：2012-09-11T05:02:53.430
> 
> 标签：selenium, webdriver, hidden-field

我正在尝试在 Google Drive 中自动上传文件功能。

用于传递参数的元素被隐藏，高度为 0px。

任何用户操作都不会使该元素可见。因此，我需要解决方法以在不可见时单击该元素。

```
<input type="file" style="height: 0px; visibility: hidden; position: absolute; width: 340px; font-size: inherit;" multiple=""/> 
```

上述元素的 xpath 是 -

```
//*[@class='goog-menu goog-menu-vertical uploadmenu density-tiny']/input 
```

我在用

```
WebDriver.findElement(By.xpath(<xpath>).sendKeys(<uploadFile>) 
```

例外 -

```
org.openqa.selenium.ElementNotVisibleException 
```

*   元素当前不可见，因此可能无法与之交互。

我尝试过使用 JavascriptExecutor。但无法找到确切的语法。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-09-11T06:50:01.247

试试这个：

```
WebElement elem = yourWebDriverInstance.findElement(By.xpath("//*[@class='goog-menu goog-menu-vertical uploadmenu density-tiny']/input"));
String js = "arguments[0].style.height='auto'; arguments[0].style.visibility='visible';";

((JavascriptExecutor) yourWebDriverInstance).executeScript(js, elem); 
```

上面的一堆会改变你的文件输入控件的可见性。然后，您可以继续执行文件上传的常规步骤，例如：

```
elem.sendKeys("<LOCAL FILE PATH>"); 
```

请注意，通过更改输入字段的可见性，您正在干预被测应用程序。注入脚本来改变行为是侵入性的，不建议在测试中使用。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2014-05-28T02:53:42.693

简单的解决方案：

```
WebElement tmpElement = driver.finElement(ElementLocator);
JavascriptExecutor executor = (JavascriptExecutor)driver;
executor.executeScript("arguments[0].click();", tmpElement); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-01-31T08:57:00.930

试试这个示例代码：

```
JavascriptExecutor executor= (JavascriptExecutor)driver;
executor.executeScript("document.getElementById('ID').style.display='block';");
Select select = new Select(driver.findElement(By.id("ID")));
select.selectByVisibleText("value");
Thread.sleep(6000); 
```

通过使用 java 脚本执行器并使元素可见，然后通过 ID 单击元素。希望它有帮助..

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-04-09T09:47:36.253

试试这个：

```
WebElement elem = yourWebDriverInstance.findElement(
   By.cssSelector(".uploadmenu > input"));
String js = 
  "arguments[0].style.height='auto'; arguments[0].style.visibility='visible';";
((JavascriptExecutor) yourWebDriverInstance).executeScript(js, elem); 
```

在这里，我用 CSS 选择器替换了 XPath。让我知道上述脚本是否有效。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-04-09T10:16:52.073

您可以尝试以下方法：

```
((JavascriptExecutor)driver).executeScript("$('.goog-menu.uploadmenu > input').click();"); 
```

# vb6 - 禁用列表框VB6中的选定项目

> ID：12363042
> 
> 赞同：3
> 
> 时间：2012-09-11T05:04:16.140
> 
> 标签：vb6, listbox

我正在编写一个代码来禁用 LISTBOX 中的选定项目。即我想在列表中显示项目但不希望用户选择它。如下图所示。[或链接](http://www.codeproject.com/Articles/34776/A-listbox-with-disabled-items)中的类似图像。VB6可以吗？请帮忙。

![列表框](../Images/194d1289d1ed7825d47087df4db9f2e1.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T12:09:41.940

尝试切换到 ListView 控件，然后将特定的 ListItems 设置为 Ghosted。还有其他第 3 方列表或网格控件，尽管现在 VB6 控件越来越难找到。

祝你好运！

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T12:11:16.273

如果没有认真的所有者绘制乐趣，您无法使用 ListBox 做到这一点。但是，您可以使用列表视图控件来实现。

我所做的最接近此的是更改禁用列表项的前景色，并拦截项目单击事件，以便取消选择该项目。列表项的 Tag 属性用于存储“禁用”状态。

我应该提一下，当鼠标按钮完成时，我无法获取此代码来防止该项目被“选中”。为此，您必须进行一些子类化。

应将以下类“ListViewWrapper”添加到项目中：

```
Option Explicit

Private Const m_ksDisabled                  As String = "D"

Private WithEvents m_oListView              As ListView

Public Sub Initialise(ByRef the_oListView As ListView)

    Set m_oListView = the_oListView

End Sub

Public Property Let ListItemEnabled(ByVal the_oListItem As ListItem, ByVal the_bEnabled As Boolean)

    If Not the_oListItem Is Nothing Then
        If the_bEnabled Then
            the_oListItem.Tag = Empty
            the_oListItem.ForeColor = vbWindowText
        Else
            the_oListItem.Tag = m_ksDisabled
            the_oListItem.ForeColor = vbGrayText
        End If
    End If

End Property

Public Property Get ListItemEnabled(ByVal the_oListItem As ListItem) As Boolean

    If Not the_oListItem Is Nothing Then
        ListItemEnabled = (the_oListItem.Tag <> m_ksDisabled)
    End If

End Property

Private Sub m_oListView_ItemClick(ByVal Item As MSComctlLib.ListItem)

    If Item.Tag = m_ksDisabled Then
        Set m_oListView.SelectedItem = Nothing
    End If

End Sub 
```

它应该像这样使用：

```
Private m_oListViewWrapper              As ListViewWrapper

Private Sub Form_Load()

    Set m_oListViewWrapper = New ListViewWrapper
    m_oListViewWrapper.Initialise ListView

End Sub

Private Sub Command_Click()

    With m_oListViewWrapper
        .ListItemEnabled(ListView.SelectedItem) = Not .ListItemEnabled(ListView.SelectedItem)
    End With

End Sub 
```

# javascript - 使用 javascript 设置 iframe 的高度

> ID：12363046
> 
> 赞同：1
> 
> 时间：2012-09-11T05:04:45.527
> 
> 标签：javascript, html, css

嗨，我想根据屏幕的大小设置 iframe 的 css 高度，但我不知道该怎么做。

CSS：

```
#iframeplate{
  width:100%;
  height:200px;
} 
```

HTML：

```
<body onload="setGround()">
  <iframe id="iframeplate" class="idIframe"  frameborder=0 border=0   width="100%"  scrolling-y="no"  src="#">
  </iframe>
</body> 
```

JS：

```
<script type="text/javascript">

function setGround() { 
  var groundElement = document.getElementById('iframeplate'); 
  groundElement.style.height = getWindowHeight() + 'px'; 
} 
}

</script> 
```

谁能明白为什么这行不通？或者关于更好的方法的任何想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T05:57:25.277

错误是方法`getWindowHeight`，没有输出。

试试这个：

```
groundElement.style.height = window.screen.availHeight + 'px'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T05:14:18.210

语法错误。试试这个：

```
<iframe id="iframeplate" class="idIframe" frameborder=0 border=0 width="100%" scrolling-y="no" src="#"></iframe>

<script type="text/javascript">
function setGround() { 
    var groundElement = document.getElementById('iframeplate'); 
    groundElement.style.height = getWindowHeight() + 'px'; 
}
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T05:10:49.633

你可以试试看

```
<body onload="setGround()">
<iframe id="iframeplate" class="idIframe"  frameborder=0 border=0   width="100%"  scrolling-y="no"  src="#"
    </iframe> 
```

像使用 JQuery

```
$("iframe[id='iframeplate']").height(getWindowHeight()); 
```

# sql-server - 如何根据条件从另一个表中更新表中的列？

> ID：12363047
> 
> 赞同：12
> 
> 时间：2012-09-11T05:04:51.320
> 
> 标签：sql-server, subquery, sql-update, multiple-tables

我有两张桌子

1.  它包含的学生表 (Student_id,school_code,name,year,...)
2.  它包含的学校表（school_id、School_code、School_name、year 等.....）

我想根据学校代码和年份用学校代码表中的 school_id 列更新学生表中的 school_code 列。我有五年的数据。所以 school_id 每年都不同。

我的查询是

```
UPDATE Master.Student
   SET school_code=( select school_id from Master.school as sc
  JOIN master.student as st
    ON st.school_code=sc.school_code
 WHERE sc.year=x)
 WHERE st.year=x; 
```

但它没有更新。我收到错误`subquery returns more than one value`。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-09-11T05:13:41.297

当您可以直接使用子查询时，为什么要使用子查询？

```
UPDATE st
  SET st.school_code = sc.school_id 
FROM master.student AS st
  JOIN Master.school AS sc
ON st.school_code = sc.school_code
WHERE sc.year=x
  AND st.year=x; 
```

有关详细信息，请参阅[更新 (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms177523.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T05:10:14.557

```
UPDATE Master.Student
  SET school_code = sc.school_id 
FROM Master.school as sc
WHERE school_code = sc.school_code
  AND year = x
  AND st.year = x; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T05:26:11.410

试试这个查询

```
UPDATE student SET school_code = c.school_id  
FROM student t
  INNER JOIN school c 
    ON t.school_code = c.school_code AND t.year = c.year
WHERE c.year=x 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2020-09-04T08:08:36.350

```
Update Table B set column name (of table b) =x.column name (from Table A) from    
(    
Select column name from Table A a,Table B b    
where a.Column name=b.column name            
)x    
where Table b.Column name=x.Column name(of Table b) 
```

# browser - Safari 找不到服务器。网站在所有其他浏览器上都正常

> ID：12363050
> 
> 赞同：2
> 
> 时间：2012-09-11T05:05:14.707
> 
> 标签：browser, web, safari, router

我有一个客户无法再在 Safari 中查看她的网站。它只是显示错误：

```
Safari can't find the server. 
```

该网站在我的 PC 和 Mac 上都可以在所有浏览器上正常工作，但在客户端 Mac 上使用 Safari 时就不行。这和她的路由器有关系吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T05:27:50.530

原来客户已经改变了ISP。

发现这个修复了它：

[https://discussions.apple.com/thread/4120215?start=0&tstart=0](https://discussions.apple.com/thread/4120215?start=0&tstart=0)

> 打开系统偏好设置/网络。双击您的连接类型，或在下拉菜单中选择它，然后在标有“DNS 服务器”的框中添加以下两个数字：
> 
> 208.67.222.222
> 
> 208.67.220.220

# regex - 在检查哈希值是否存在时“存在”函数

> ID：12363053
> 
> 赞同：0
> 
> 时间：2012-09-11T05:05:28.053
> 
> 标签：regex, perl

我试图用“# EXECUTE func-name。*后跟一个哈希值*”替换每次出现的“EXECUTE func-name”，前提是该 func-name 存在。我下面的正则表达式似乎不同意我的看法。

```
s/EXECUTE ([\w-]+)\.?/"#  EXECUTE $1.\n" . $hash{$1}/eg if (exists($hash{$1})); 
```

请指教。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-11T05:26:51.050

好吧，您的代码`if`在实际的正则表达式之前执行 -condition，因此在执行代码时您可能会收到警告。

使用`e`-modifier 时，您可以直接在“替换部分”中使用 perl 代码：

```
s/EXECUTE\s+([\w-]+)\.?/
    if(exists($hash{$1})) {
        "#  EXECUTE $1.\n" . $hash{$1}
    } else {
        $&
    }/xeg; 
```

我添加了 /x，因此您可以格式化正则表达式以使其真正可读 - 但现在您必须明确匹配空格（这就是我在和组`\s+`之间添加的原因`EXECUTE`）。表示整个`$&`匹配项（因此，如果 没有哈希条目`$1`，则不会发生任何变化）。

* * *

也就是说，`$&`在整个程序中没有捕获的情况下，使用会减慢每次匹配和替换的速度。这是一个改进：

```
s/(EXECUTE\s+([\w-]+)\.?)/
    if(exists($hash{$2})) {
        "#  EXECUTE $2.\n" . $hash{$2}
    } else {
        $1
    }/xeg; 
```

# android - Android 如何在我的 Android 应用程序中获取和显示 Picasa/Instagram 图片？

> ID：12363054
> 
> 赞同：5
> 
> 时间：2012-09-11T05:05:28.710
> 
> 标签：android, picasa

我想`Picasa/Instagram`在我的 Android 应用程序中显示图像。如何获取`picasa/Instagram`相册图像并显示我的应用程序我没有得到任何示例。Picasa/Instagram 如何获取图像。

有没有人找到一些好的图书馆/例子？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T06:50:28.247

这是Romian Guy的完整文章和android图像下载器完整源代码

[罗曼盖伊文章](http://android-developers.blogspot.com/2010/07/multithreading-for-performance.html)

[Android 图片下载器源代码](http://code.google.com/p/android-imagedownloader/)

[快照图像下载器](http://i.stack.imgur.com/GjKzS.png)

仅供您查看我在此处粘贴代码，您可以从上面给出的 URL 浏览或下载代码。

> ImageAdapter.java

```
/*
 * Copyright (C) 2010 The Android Open Source Project
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.example.android.imagedownloader;

import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.ImageView;

public class ImageAdapter extends BaseAdapter {

    private static final String[] URLS = {
        "http://lh5.ggpht.com/_mrb7w4gF8Ds/TCpetKSqM1I/AAAAAAAAD2c/Qef6Gsqf12Y/s144-c/_DSC4374%20copy.jpg",
        "http://lh5.ggpht.com/_Z6tbBnE-swM/TB0CryLkiLI/AAAAAAAAVSo/n6B78hsDUz4/s144-c/_DSC3454.jpg",
        "http://lh3.ggpht.com/_GEnSvSHk4iE/TDSfmyCfn0I/AAAAAAAAF8Y/cqmhEoxbwys/s144-c/_MG_3675.jpg",
        "http://lh6.ggpht.com/_Nsxc889y6hY/TBp7jfx-cgI/AAAAAAAAHAg/Rr7jX44r2Gc/s144-c/IMGP9775a.jpg",
        "http://lh3.ggpht.com/_lLj6go_T1CQ/TCD8PW09KBI/AAAAAAAAQdc/AqmOJ7eg5ig/s144-c/Juvenile%20Gannet%20despute.jpg",
        "http://lh6.ggpht.com/_ZN5zQnkI67I/TCFFZaJHDnI/AAAAAAAABVk/YoUbDQHJRdo/s144-c/P9250508.JPG",
        "http://lh4.ggpht.com/_XjNwVI0kmW8/TCOwNtzGheI/AAAAAAAAC84/SxFJhG7Scgo/s144-c/0014.jpg",
        "http://lh6.ggpht.com/_lnDTHoDrJ_Y/TBvKsJ9qHtI/AAAAAAAAG6g/Zll2zGvrm9c/s144-c/000007.JPG",
        "http://lh6.ggpht.com/_qvCl2efjxy0/TCIVI-TkuGI/AAAAAAAAOUY/vbk9MURsv48/s144-c/DSC_0844.JPG",
        "http://lh4.ggpht.com/_TPlturzdSE8/TBv4ugH60PI/AAAAAAAAMsI/p2pqG85Ghhs/s144-c/_MG_3963.jpg",
        "http://lh4.ggpht.com/_4f1e_yo-zMQ/TCe5h9yN-TI/AAAAAAAAXqs/8X2fIjtKjmw/s144-c/IMG_1786.JPG",
        "http://lh6.ggpht.com/_iFt5VZDjxkY/TB9rQyWnJ4I/AAAAAAAADpU/lP2iStizJz0/s144-c/DSCF1014.JPG",
        "http://lh5.ggpht.com/_hepKlJWopDg/TB-_WXikaYI/AAAAAAAAElI/715k4NvBM4w/s144-c/IMG_0075.JPG",
        "http://lh6.ggpht.com/_OfRSx6nn68g/TCzsQic_z3I/AAAAAAABOOI/5G4Kwzb2qhk/s144-c/EASTER%20ISLAND_Hanga%20Roa_31.5.08_46.JPG",
        "http://lh6.ggpht.com/_ZGv_0FWPbTE/TB-_GLhqYBI/AAAAAAABVxs/cVEvQzt0ke4/s144-c/IMG_1288_hf.jpg",
        "http://lh6.ggpht.com/_a29lGRJwo0E/TBqOK_tUKmI/AAAAAAAAVbw/UloKpjsKP3c/s144-c/31012332.jpg",
        "http://lh3.ggpht.com/_55Lla4_ARA4/TB6xbyxxJ9I/AAAAAAABTWo/GKe24SwECns/s144-c/Bluebird%20049.JPG",
        "http://lh3.ggpht.com/_iVnqmIBYi4Y/TCaOH6rRl1I/AAAAAAAA1qg/qeMerYQ6DYo/s144-c/Kwiat_100626_0016.jpg",
        "http://lh6.ggpht.com/_QFsB_q7HFlo/TCItd_2oBkI/AAAAAAAAFsk/4lgJWweJ5N8/s144-c/3705226938_d6d66d6068_o.jpg",
        "http://lh5.ggpht.com/_JTI0xxNrKFA/TBsKQ9uOGNI/AAAAAAAChQg/z8Exh32VVTA/s144-c/CRW_0015-composite.jpg",
        "http://lh6.ggpht.com/_loGyjar4MMI/S-InVNkTR_I/AAAAAAAADJY/Fb5ifFNGD70/s144-c/Moving%20Rock.jpg",
        "http://lh4.ggpht.com/_L7i4Tra_XRY/TBtxjScXLqI/AAAAAAAAE5o/ue15HuP8eWw/s144-c/opera%20house%20II.jpg",
        "http://lh3.ggpht.com/_rfAz5DWHZYs/S9cstBTv1iI/AAAAAAAAeYA/EyZPUeLMQ98/s144-c/DSC_6425.jpg",
        "http://lh6.ggpht.com/_iGI-XCxGLew/S-iYQWBEG-I/AAAAAAAACB8/JuFti4elptE/s144-c/norvig-polar-bear.jpg",
        "http://lh3.ggpht.com/_M3slUPpIgmk/SlbnavqG1cI/AAAAAAAACvo/z6-CnXGma7E/s144-c/mf_003.jpg",
        "http://lh4.ggpht.com/_loGyjar4MMI/S-InQvd_3hI/AAAAAAAADIw/dHvCFWfyHxQ/s144-c/Rainbokeh.jpg",
        "http://lh4.ggpht.com/_yy6KdedPYp4/SB5rpK3Zv0I/AAAAAAAAOM8/mokl_yo2c9E/s144-c/Point%20Reyes%20road%20.jpg",
        "http://lh5.ggpht.com/_6_dLVKawGJA/SMwq86HlAqI/AAAAAAAAG5U/q1gDNkmE5hI/s144-c/mobius-glow.jpg",
        "http://lh3.ggpht.com/_QFsB_q7HFlo/TCItc19Jw3I/AAAAAAAAFs4/nPfiz5VGENk/s144-c/4551649039_852be0a952_o.jpg",
        "http://lh6.ggpht.com/_TQY-Nm7P7Jc/TBpjA0ks2MI/AAAAAAAABcI/J6ViH98_poM/s144-c/IMG_6517.jpg",
        "http://lh3.ggpht.com/_rfAz5DWHZYs/S9cLAeKuueI/AAAAAAAAeYU/E19G8DOlJRo/s144-c/DSC_4397_8_9_tonemapped2.jpg",
        "http://lh4.ggpht.com/_TQY-Nm7P7Jc/TBpi6rKfFII/AAAAAAAABbg/79FOc0Dbq0c/s144-c/david_lee_sakura.jpg",
        "http://lh3.ggpht.com/_TQY-Nm7P7Jc/TBpi8EJ4eDI/AAAAAAAABb0/AZ8Cw1GCaIs/s144-c/Hokkaido%20Swans.jpg",
        "http://lh3.ggpht.com/_1aZMSFkxSJI/TCIjB6od89I/AAAAAAAACHM/CLWrkH0ziII/s144-c/079.jpg",
        "http://lh5.ggpht.com/_loGyjar4MMI/S-InWuHkR9I/AAAAAAAADJE/wD-XdmF7yUQ/s144-c/Colorado%20River%20Sunset.jpg",
        "http://lh3.ggpht.com/_0YSlK3HfZDQ/TCExCG1Zc3I/AAAAAAAAX1w/9oCH47V6uIQ/s144-c/3138923889_a7fa89cf94_o.jpg",
        "http://lh6.ggpht.com/_K29ox9DWiaM/TAXe4Fi0xTI/AAAAAAAAVIY/zZA2Qqt2HG0/s144-c/IMG_7100.JPG",
        "http://lh6.ggpht.com/_0YSlK3HfZDQ/TCEx16nJqpI/AAAAAAAAX1c/R5Vkzb8l7yo/s144-c/4235400281_34d87a1e0a_o.jpg",
        "http://lh4.ggpht.com/_8zSk3OGcpP4/TBsOVXXnkTI/AAAAAAAAAEo/0AwEmuqvboo/s144-c/yosemite_forrest.jpg",
        "http://lh4.ggpht.com/_6_dLVKawGJA/SLZToqXXVrI/AAAAAAAAG5k/7fPSz_ldN9w/s144-c/coastal-1.jpg",
        "http://lh4.ggpht.com/_WW8gsdKXVXI/TBpVr9i6BxI/AAAAAAABhNg/KC8aAJ0wVyk/s144-c/IMG_6233_1_2-2.jpg",
        "http://lh3.ggpht.com/_loGyjar4MMI/S-InS0tJJSI/AAAAAAAADHU/E8GQJ_qII58/s144-c/Windmills.jpg",
        "http://lh4.ggpht.com/_loGyjar4MMI/S-InbXaME3I/AAAAAAAADHo/4gNYkbxemFM/s144-c/Frantic.jpg",
        "http://lh5.ggpht.com/_loGyjar4MMI/S-InKAviXzI/AAAAAAAADHA/NkyP5Gge8eQ/s144-c/Rice%20Fields.jpg",
        "http://lh3.ggpht.com/_loGyjar4MMI/S-InZA8YsZI/AAAAAAAADH8/csssVxalPcc/s144-c/Seahorse.jpg",
        "http://lh3.ggpht.com/_syQa1hJRWGY/TBwkCHcq6aI/AAAAAAABBEg/R5KU1WWq59E/s144-c/Antelope.JPG",
        "http://lh5.ggpht.com/_MoEPoevCLZc/S9fHzNgdKDI/AAAAAAAADwE/UAno6j5StAs/s144-c/c84_7083.jpg",
        "http://lh4.ggpht.com/_DJGvVWd7IEc/TBpRsGjdAyI/AAAAAAAAFNw/rdvyRDgUD8A/s144-c/Free.jpg",
        "http://lh6.ggpht.com/_iO97DXC99NY/TBwq3_kmp9I/AAAAAAABcz0/apq1ffo_MZo/s144-c/IMG_0682_cp.jpg",
        "http://lh4.ggpht.com/_7V85eCJY_fg/TBpXudG4_PI/AAAAAAAAPEE/8cHJ7G84TkM/s144-c/20100530_120257_0273-Edit-2.jpg"
    };

    private final ImageDownloader imageDownloader = new ImageDownloader();

    public int getCount() {
        return URLS.length;
    }

    public String getItem(int position) {
        return URLS[position];
    }

    public long getItemId(int position) {
        return URLS[position].hashCode();
    }

    public View getView(int position, View view, ViewGroup parent) {
        if (view == null) {
            view = new ImageView(parent.getContext());
            view.setPadding(6, 6, 6, 6);
        }

        imageDownloader.download(URLS[position], (ImageView) view);

        return view;
    }

    public ImageDownloader getImageDownloader() {
        return imageDownloader;
    }
} 
```

> ImageDownloader.java

```
/*
 * Copyright (C) 2010 The Android Open Source Project
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.example.android.imagedownloader;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.HttpStatus;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;

import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.Color;
import android.graphics.drawable.ColorDrawable;
import android.graphics.drawable.Drawable;
import android.net.http.AndroidHttpClient;
import android.os.AsyncTask;
import android.os.Handler;
import android.util.Log;
import android.widget.ImageView;

import java.io.FilterInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.lang.ref.SoftReference;
import java.lang.ref.WeakReference;
import java.util.HashMap;
import java.util.LinkedHashMap;
import java.util.concurrent.ConcurrentHashMap;

/**
 * This helper class download images from the Internet and binds those with the provided ImageView.
 *
 * <p>It requires the INTERNET permission, which should be added to your application's manifest
 * file.</p>
 *
 * A local cache of downloaded images is maintained internally to improve performance.
 */
public class ImageDownloader {
    private static final String LOG_TAG = "ImageDownloader";

    public enum Mode { NO_ASYNC_TASK, NO_DOWNLOADED_DRAWABLE, CORRECT }
    private Mode mode = Mode.NO_ASYNC_TASK;

    /**
     * Download the specified image from the Internet and binds it to the provided ImageView. The
     * binding is immediate if the image is found in the cache and will be done asynchronously
     * otherwise. A null bitmap will be associated to the ImageView if an error occurs.
     *
     * @param url The URL of the image to download.
     * @param imageView The ImageView to bind the downloaded image to.
     */
    public void download(String url, ImageView imageView) {
        resetPurgeTimer();
        Bitmap bitmap = getBitmapFromCache(url);

        if (bitmap == null) {
            forceDownload(url, imageView);
        } else {
            cancelPotentialDownload(url, imageView);
            imageView.setImageBitmap(bitmap);
        }
    }

    /*
     * Same as download but the image is always downloaded and the cache is not used.
     * Kept private at the moment as its interest is not clear.
       private void forceDownload(String url, ImageView view) {
          forceDownload(url, view, null);
       }
     */

    /**
     * Same as download but the image is always downloaded and the cache is not used.
     * Kept private at the moment as its interest is not clear.
     */
    private void forceDownload(String url, ImageView imageView) {
        // State sanity: url is guaranteed to never be null in DownloadedDrawable and cache keys.
        if (url == null) {
            imageView.setImageDrawable(null);
            return;
        }

        if (cancelPotentialDownload(url, imageView)) {
            switch (mode) {
                case NO_ASYNC_TASK:
                    Bitmap bitmap = downloadBitmap(url);
                    addBitmapToCache(url, bitmap);
                    imageView.setImageBitmap(bitmap);
                    break;

                case NO_DOWNLOADED_DRAWABLE:
                    imageView.setMinimumHeight(156);
                    BitmapDownloaderTask task = new BitmapDownloaderTask(imageView);
                    task.execute(url);
                    break;

                case CORRECT:
                    task = new BitmapDownloaderTask(imageView);
                    DownloadedDrawable downloadedDrawable = new DownloadedDrawable(task);
                    imageView.setImageDrawable(downloadedDrawable);
                    imageView.setMinimumHeight(156);
                    task.execute(url);
                    break;
            }
        }
    }

    /**
     * Returns true if the current download has been canceled or if there was no download in
     * progress on this image view.
     * Returns false if the download in progress deals with the same url. The download is not
     * stopped in that case.
     */
    private static boolean cancelPotentialDownload(String url, ImageView imageView) {
        BitmapDownloaderTask bitmapDownloaderTask = getBitmapDownloaderTask(imageView);

        if (bitmapDownloaderTask != null) {
            String bitmapUrl = bitmapDownloaderTask.url;
            if ((bitmapUrl == null) || (!bitmapUrl.equals(url))) {
                bitmapDownloaderTask.cancel(true);
            } else {
                // The same URL is already being downloaded.
                return false;
            }
        }
        return true;
    }

    /**
     * @param imageView Any imageView
     * @return Retrieve the currently active download task (if any) associated with this imageView.
     * null if there is no such task.
     */
    private static BitmapDownloaderTask getBitmapDownloaderTask(ImageView imageView) {
        if (imageView != null) {
            Drawable drawable = imageView.getDrawable();
            if (drawable instanceof DownloadedDrawable) {
                DownloadedDrawable downloadedDrawable = (DownloadedDrawable)drawable;
                return downloadedDrawable.getBitmapDownloaderTask();
            }
        }
        return null;
    }

    Bitmap downloadBitmap(String url) {
        final int IO_BUFFER_SIZE = 4 * 1024;

        // AndroidHttpClient is not allowed to be used from the main thread
        final HttpClient client = (mode == Mode.NO_ASYNC_TASK) ? new DefaultHttpClient() :
            AndroidHttpClient.newInstance("Android");
        final HttpGet getRequest = new HttpGet(url);

        try {
            HttpResponse response = client.execute(getRequest);
            final int statusCode = response.getStatusLine().getStatusCode();
            if (statusCode != HttpStatus.SC_OK) {
                Log.w("ImageDownloader", "Error " + statusCode +
                        " while retrieving bitmap from " + url);
                return null;
            }

            final HttpEntity entity = response.getEntity();
            if (entity != null) {
                InputStream inputStream = null;
                try {
                    inputStream = entity.getContent();
                    // return BitmapFactory.decodeStream(inputStream);
                    // Bug on slow connections, fixed in future release.
                    return BitmapFactory.decodeStream(new FlushedInputStream(inputStream));
                } finally {
                    if (inputStream != null) {
                        inputStream.close();
                    }
                    entity.consumeContent();
                }
            }
        } catch (IOException e) {
            getRequest.abort();
            Log.w(LOG_TAG, "I/O error while retrieving bitmap from " + url, e);
        } catch (IllegalStateException e) {
            getRequest.abort();
            Log.w(LOG_TAG, "Incorrect URL: " + url);
        } catch (Exception e) {
            getRequest.abort();
            Log.w(LOG_TAG, "Error while retrieving bitmap from " + url, e);
        } finally {
            if ((client instanceof AndroidHttpClient)) {
                ((AndroidHttpClient) client).close();
            }
        }
        return null;
    }

    /*
     * An InputStream that skips the exact number of bytes provided, unless it reaches EOF.
     */
    static class FlushedInputStream extends FilterInputStream {
        public FlushedInputStream(InputStream inputStream) {
            super(inputStream);
        }

        @Override
        public long skip(long n) throws IOException {
            long totalBytesSkipped = 0L;
            while (totalBytesSkipped < n) {
                long bytesSkipped = in.skip(n - totalBytesSkipped);
                if (bytesSkipped == 0L) {
                    int b = read();
                    if (b < 0) {
                        break;  // we reached EOF
                    } else {
                        bytesSkipped = 1; // we read one byte
                    }
                }
                totalBytesSkipped += bytesSkipped;
            }
            return totalBytesSkipped;
        }
    }

    /**
     * The actual AsyncTask that will asynchronously download the image.
     */
    class BitmapDownloaderTask extends AsyncTask<String, Void, Bitmap> {
        private String url;
        private final WeakReference<ImageView> imageViewReference;

        public BitmapDownloaderTask(ImageView imageView) {
            imageViewReference = new WeakReference<ImageView>(imageView);
        }

        /**
         * Actual download method.
         */
        @Override
        protected Bitmap doInBackground(String... params) {
            url = params[0];
            return downloadBitmap(url);
        }

        /**
         * Once the image is downloaded, associates it to the imageView
         */
        @Override
        protected void onPostExecute(Bitmap bitmap) {
            if (isCancelled()) {
                bitmap = null;
            }

            addBitmapToCache(url, bitmap);

            if (imageViewReference != null) {
                ImageView imageView = imageViewReference.get();
                BitmapDownloaderTask bitmapDownloaderTask = getBitmapDownloaderTask(imageView);
                // Change bitmap only if this process is still associated with it
                // Or if we don't use any bitmap to task association (NO_DOWNLOADED_DRAWABLE mode)
                if ((this == bitmapDownloaderTask) || (mode != Mode.CORRECT)) {
                    imageView.setImageBitmap(bitmap);
                }
            }
        }
    }

    /**
     * A fake Drawable that will be attached to the imageView while the download is in progress.
     *
     * <p>Contains a reference to the actual download task, so that a download task can be stopped
     * if a new binding is required, and makes sure that only the last started download process can
     * bind its result, independently of the download finish order.</p>
     */
    static class DownloadedDrawable extends ColorDrawable {
        private final WeakReference<BitmapDownloaderTask> bitmapDownloaderTaskReference;

        public DownloadedDrawable(BitmapDownloaderTask bitmapDownloaderTask) {
            super(Color.BLACK);
            bitmapDownloaderTaskReference =
                new WeakReference<BitmapDownloaderTask>(bitmapDownloaderTask);
        }

        public BitmapDownloaderTask getBitmapDownloaderTask() {
            return bitmapDownloaderTaskReference.get();
        }
    }

    public void setMode(Mode mode) {
        this.mode = mode;
        clearCache();
    }

    /*
     * Cache-related fields and methods.
     * 
     * We use a hard and a soft cache. A soft reference cache is too aggressively cleared by the
     * Garbage Collector.
     */

    private static final int HARD_CACHE_CAPACITY = 10;
    private static final int DELAY_BEFORE_PURGE = 10 * 1000; // in milliseconds

    // Hard cache, with a fixed maximum capacity and a life duration
    private final HashMap<String, Bitmap> sHardBitmapCache =
        new LinkedHashMap<String, Bitmap>(HARD_CACHE_CAPACITY / 2, 0.75f, true) {
        @Override
        protected boolean removeEldestEntry(LinkedHashMap.Entry<String, Bitmap> eldest) {
            if (size() > HARD_CACHE_CAPACITY) {
                // Entries push-out of hard reference cache are transferred to soft reference cache
                sSoftBitmapCache.put(eldest.getKey(), new SoftReference<Bitmap>(eldest.getValue()));
                return true;
            } else
                return false;
        }
    };

    // Soft cache for bitmaps kicked out of hard cache
    private final static ConcurrentHashMap<String, SoftReference<Bitmap>> sSoftBitmapCache =
        new ConcurrentHashMap<String, SoftReference<Bitmap>>(HARD_CACHE_CAPACITY / 2);

    private final Handler purgeHandler = new Handler();

    private final Runnable purger = new Runnable() {
        public void run() {
            clearCache();
        }
    };

    /**
     * Adds this bitmap to the cache.
     * @param bitmap The newly downloaded bitmap.
     */
    private void addBitmapToCache(String url, Bitmap bitmap) {
        if (bitmap != null) {
            synchronized (sHardBitmapCache) {
                sHardBitmapCache.put(url, bitmap);
            }
        }
    }

    /**
     * @param url The URL of the image that will be retrieved from the cache.
     * @return The cached bitmap or null if it was not found.
     */
    private Bitmap getBitmapFromCache(String url) {
        // First try the hard reference cache
        synchronized (sHardBitmapCache) {
            final Bitmap bitmap = sHardBitmapCache.get(url);
            if (bitmap != null) {
                // Bitmap found in hard cache
                // Move element to first position, so that it is removed last
                sHardBitmapCache.remove(url);
                sHardBitmapCache.put(url, bitmap);
                return bitmap;
            }
        }

        // Then try the soft reference cache
        SoftReference<Bitmap> bitmapReference = sSoftBitmapCache.get(url);
        if (bitmapReference != null) {
            final Bitmap bitmap = bitmapReference.get();
            if (bitmap != null) {
                // Bitmap found in soft cache
                return bitmap;
            } else {
                // Soft reference has been Garbage Collected
                sSoftBitmapCache.remove(url);
            }
        }

        return null;
    }

    /**
     * Clears the image cache used internally to improve performance. Note that for memory
     * efficiency reasons, the cache will automatically be cleared after a certain inactivity delay.
     */
    public void clearCache() {
        sHardBitmapCache.clear();
        sSoftBitmapCache.clear();
    }

    /**
     * Allow a new delay before the automatic cache clear is done.
     */
    private void resetPurgeTimer() {
        purgeHandler.removeCallbacks(purger);
        purgeHandler.postDelayed(purger, DELAY_BEFORE_PURGE);
    }
} 
```

> ImageListActivity.java

/* * 版权所有 (C) 2010 Android 开源项目 * * 根据 Apache 许可证 2.0 版（“许可证”）获得许可；* 除非遵守许可，否则您不得使用此文件。[* 您可以从 * * http://www.apache.org/licenses/LICENSE-2.0](http://www.apache.org/licenses/LICENSE-2.0) * *获得许可证的副本 * * 除非适用法律要求或书面同意，否则根据许可证分发的软件 * 在“原样”基础，* 不提供任何明示或暗示的保证或条件。* 请参阅许可证以了解许可证下的特定语言管理权限和 * 限制。*/

包 com.example.android.imagedownloader；

导入android.app.ListActivity；导入android.os.Bundle；导入android.widget.RadioGroup；

公共类 ImageListActivity 扩展 ListActivity 实现 RadioGroup.OnCheckedChangeListener {

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.imagelist);

    RadioGroup radioGroup = (RadioGroup) findViewById(R.id.radioGroup);
    radioGroup.setOnCheckedChangeListener(this);

    setListAdapter(new ImageAdapter());
}

@Override
public void onCheckedChanged(RadioGroup group, int checkedId) {
    ImageDownloader.Mode mode = ImageDownloader.Mode.NO_ASYNC_TASK;

    if (checkedId == R.id.correctButton) {
        mode = ImageDownloader.Mode.CORRECT;
    }else if (checkedId == R.id.randomButton) {
            mode = ImageDownloader.Mode.NO_DOWNLOADED_DRAWABLE;
    }

    ((ImageAdapter) getListAdapter()).getImageDownloader().setMode(mode);
} 
```

}

> 图像列表.xml

```
<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (C) 2010 The Android Open Source Project

     Licensed under the Apache License, Version 2.0 (the "License");
     you may not use this file except in compliance with the License.
     You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

     Unless required by applicable law or agreed to in writing, software
     distributed under the License is distributed on an "AS IS" BASIS,
     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     See the License for the specific language governing permissions and
     limitations under the License.
-->

<merge xmlns:android="http://schemas.android.com/apk/res/android">

 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
         android:orientation="vertical"
         android:layout_width="match_parent"
         android:layout_height="match_parent">

    <RadioGroup android:id="@+id/radioGroup"
                android:layout_width="match_parent" 
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:gravity="center"
                android:checkedButton="@+id/noTasksButton">

      <RadioButton android:id="@+id/noTasksButton"
                   android:layout_width="wrap_content"
                   android:layout_height="fill_parent"
                   android:layout_weight="1"
                   android:text="@string/noTasks"/>

      <RadioButton android:id="@+id/randomButton"
                   android:layout_width="wrap_content"
                   android:layout_height="fill_parent"
                   android:layout_weight="1"
                   android:text="@string/random"/>

      <RadioButton android:id="@+id/correctButton"
                   android:layout_width="wrap_content"
                   android:layout_height="fill_parent"
                   android:layout_weight="1"
                   android:text="@string/correct"/>

    </RadioGroup>

    <ListView
        android:id="@android:id/list"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />

    <TextView android:id="@android:id/empty"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:gravity="center"
        android:text="@string/empty"
        android:visibility="gone" />

</LinearLayout>

</merge> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T22:48:46.420

我目前正在使用 PhotoPickerPlus，它有一个很好的教程，可以连接到 facebook、flickr、instagram 和 picasa 以及原生照片。

更多信息@： http: [//picture.io/photopickerplus](http://picture.io/photopickerplus)

来源@： [https ://github.com/chute/photo-picker-plus](https://github.com/chute/photo-picker-plus)

# java - @Singleton @Startup @PostConstruct 方法允许阻塞吗？

> ID：12363057
> 
> 赞同：1
> 
> 时间：2012-09-11T05:05:38.787
> 
> 标签：java, jakarta-ee, ejb-3.1

根据 Java EE 6 规范，单例启动 bean 上的 @PostConstruct 方法是否允许阻塞，还是必须尽快返回？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:07:51.073

不禁止阻塞，但我认为容器启动过程也会阻塞。

规范只是在第 4.8.1 节“单例初始化”中说：

> 在任何外部客户端请求（即源自应用程序外部的客户端请求）被传递到应用程序中的任何企业 bean 组件之前，容器必须初始化所有此类启动时单例。

因此，如果该`@PostConstruct`方法没有退出，则容器还没有准备好为客户端请求提供服务。

# asp.net - ASP.NET 递归

> ID：12363062
> 
> 赞同：0
> 
> 时间：2012-09-11T05:05:59.963
> 
> 标签：asp.net

我有一个名为 Product 的表（ProductCode 字段数据类型为 varchar ）：

```
ID     ProductName    ProductCode
1       aaa              0001
2       bbb              0002
3       ccc              0004
4       ddd              0006
5       eee              0007
6       fff              0008 
```

我的问题是：如果当前 ProductCode 字段值为 '0006'。我想生成一个值为 '0009' 的值。

```
public string GenerateNumber(string codeNumber)
{

    StringBuilder strSql = new StringBuilder();
    strSql.Append("select count(1) from Product");
    strSql.Append(" where ProductCode=@codeNumber");
    SqlParameter[] parameters = {
        new SqlParameter("@codeNumber", SqlDbType.NChar,8)
    };
    parameters[0].Value = codeNumber;
    bool existInDatabase = SQLHelper.Exists(strSql.ToString(), parameters);
    if (existInDatabase)
    {
        this.GenerateNumber((Convert.ToInt32(codeNumber) + 1).ToString().PadLeft(4, '0'));
    }
    return (Convert.ToInt32(codeNumber) + 1).ToString().PadLeft(4, '0');
} 
```

调用这个函数，比如：GenerateNumber("0006")

结果应该返回0009，但不是！

谁能帮帮我？谢谢，我是新手！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:16:16.823

为此在 asp.net 中使用递归似乎开销太大。

您可以通过向 GenerateNextProductCode 编写一个使用[公用表表达式](http://msdn.microsoft.com/en-us/library/ms190766%28v=sql.105%29.aspx)生成此值的存储过程来做到这一点。

此代码失败的原因是您没有返回递归结果。

像这样更正它：

```
public string GenerateNumber(string codeNumber)
{

        StringBuilder strSql = new StringBuilder();
        strSql.Append("select count(1) from Product");
        strSql.Append(" where ProductCode=@codeNumber");
        SqlParameter[] parameters = {
                new SqlParameter("@codeNumber", SqlDbType.NChar,8)
        };
        parameters[0].Value = codeNumber;
        bool existInDatabase = SQLHelper.Exists(strSql.ToString(), parameters);
        if (existInDatabase)
        {
           return this.GenerateNumber((Convert.ToInt32(codeNumber) + 1).ToString().PadLeft(4, '0'));
        }
        return (Convert.ToInt32(codeNumber) + 1).ToString().PadLeft(4, '0');
} 
```

# java - 在本地主机中测试时如何模拟不同的位置？

> ID：12363063
> 
> 赞同：2
> 
> 时间：2012-09-11T05:06:01.630
> 
> 标签：java, web-applications, localhost, playframework-2.0, ip-address

如何在测试 localhost 时模拟不同的位置？

我正在使用 java play 框架，当他发布表单时，我会在其中获取用户 IP 地址。在测试时，我保存了地址，我得到的只是 localhost `0:0:0:0:0:0:0:1%0`。我希望能够在**各种位置对此进行测试，并使用不同的 IP 地址**进行测试并从 IP 地址中获取用户的位置。

解决此问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:28:26.020

如果您知道从中读取 IP 的结构，则可以对此进行模拟并使用您设置的不同 IPS 对其进行测试。但是你为什么需要那个？如果您的测试本地主机及其工作，您似乎可以以正确的方式读取 IP。

如果您对 IP 进行任何操作，例如确定其来自的国家/地区，您可以使用恒定 IP 进行测试，但使用不同主机测试 IP 是为了测试获取 IP 的功能，这实际上是我不会做的基本事情亲自测试。

## **从评论：**

你可以使用这样的东西：[hostip.info/use.html](http://www.hostip.info/use.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T01:10:48.293

问题的答案首先取决于您如何检索 IP 地址。如果您使用反向代理（例如负载均衡器），则原始 IP 可能位于 HTTP 标头中。如果是这样，您可以进行如下测试：

```
Result result = callAction(routes.ref.YourController.yourMethod(),
            new FakeRequest().withHeader(IP_ADDRESS, testIPAddress)); 
```

# mysql - 如何像 MyISAM 一样快地将数据导入 InnoDB 表

> ID：12363066
> 
> 赞同：7
> 
> 时间：2012-09-11T05:06:15.860
> 
> 标签：mysql, innodb, myisam

我是 MySQL 新手，对它知之甚少。

我面临的问题如下所述：

以前我有以 MyISAM 作为其 MySQL 引擎的数据，过去在任何机器上导入大约需要 15 分钟。但是，当我将引擎更改为 InnoDB 时，几乎需要 90 分钟才能在任何机器上导入。请给我同样的建议。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-11T05:16:05.160

Innodb 表对于并发插入更快。请参阅[Innodb 性能优化基础知识](http://www.mysqlperformanceblog.com/2007/11/01/innodb-performance-optimization-basics/)

为了获得最佳性能，您需要在文件中调整`INNODB`引擎。`my.cnf`

假设，如果您`4GB RAM`尝试将`my.cnf`文件配置为：

```
#Innodb
innodb_buffer_pool_size = 1G
innodb_additional_mem_pool_size = 512M
innodb_log_file_size = 1G
innodb_log_buffer_size = 8M
innodb_flush_log_at_trx_commit = 1
innodb_lock_wait_timeout = 30
innodb_file_per_table=1
innodb_file_format=barracuda
innodb_strict_mode=1
innodb_autoinc_lock_mode = 0 
```

然后重启 MySQL 服务器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-03-01T16:46:19.333

@Omesh 有一些很棒的技巧，我认为这是我最近导入 3600 万行的 4.5GB 和 5.0GB SQL 成功的部分原因。我想在其他一些额外的提示有帮助的地方找到一个位置。

1.  遵循@Omesh MySQL 配置建议。

2.  接下来，查看您尝试导入的实际 SQL 文件。我们用来转储数据的工具在 `INSERT`语句之前添加了这些行：

    `/*!40000 ALTER TABLE `table_name` DISABLE KEYS */;`

    我所做的是取消注释该行。它在插入期间禁用对主键的检查，从而使其运行得更快。如果您没有该行，则可以手动添加它：

    `ALTER TABLE `table_name` DISABLE KEYS;`

    如果这是一个正在使用的实时数据库，请谨慎使用。

3.  在语句之后`INSERT`，该工具还立即添加了这一行。删除注释以重新启用主键：

    `/*!40000 ALTER TABLE `table_name` ENABLE KEYS */;`

    同样，它应该如下所示：

    `ALTER TABLE `table_name` ENABLE KEYS;`

4.  在实际运行插入语句之前，关闭`autocommit`, `unique_checks`, 并`foreign_key_checks`使用查询：

    `set autocommit=0; set unique_checks=0; set foreign_key_checks=0;`

5.  现在运行您的导入：

    `source /path/to/your/file.sql`

6.  导入成功完成后，您需要提交然后重新启用`unique_checks`和`foreign_key_checks`：

    `commit; set unique_checks=1; set foreign_key_checks=1;`

您可能需要考虑进行导入的其他一些注意事项：

*   如果您使用的是虚拟机，请增加 VM 的可用资源（RAM、CPU 核心数），直到导入完成

*   如果您使用的是物理机器，则可能从另一台机器借一些 RAM 足够长的时间来完成导入

*   如果可能，请使用 2 个不同的磁盘：1 个专用于读取（SQL 文件的源）和一个专用于写入（DB 或 VM 所在的位置）

希望这对其他人有帮助！

# c++ - 多线程中的关键部分使用？

> ID：12363071
> 
> 赞同：1
> 
> 时间：2012-09-11T05:06:33.623
> 
> 标签：c++, multithreading, winapi

我在网上找到了这个关于多线程和下载代码的教程，以便在 Visual Studio 2010 上试用。[http://www.codeproject.com/Articles/14746/Multithreading-Tutorial](http://www.codeproject.com/Articles/14746/Multithreading-Tutorial)

我在下面复制的与“线程本地存储”相关的程序之一供您参考。它看起来很简单，因为 2 个线程，都增加了类数据成员 'm1'、'm2'、'm3'。在这个例子中，'m2' 是一个静态类变量，两个线程都可以访问。

请注意，在代码中，临界区在文件开头使用“#define WITH_SYNCHRONIZATION”启用。我的理解是，由于 'TMain()' 中的 'for 循环' 受临界区保护，因此首先到达 'TMain()' 的线程将完成 50,000 增量作为一个整体，而不会与另一个线程交错，打印输出'50,020 for m2'，另一个线程将继续其余部分并稍后打印出'100,020 for m2'。

但是不，m2 的打印结果看起来根本没有关键部分。'm2' 值使用以下值打乱：

螺纹 t2: ... m2=50376 ...
螺纹 t1: ... m2=63964 ...

我一定错过了一些基本的东西。它是什么？

以下代码来自网页，数值变化不大，可以在 VStudio 中轻松编译。

```
#include <stdio.h>
#include <windows.h>
#include <process.h>
#include <string>

using namespace std;

#define WITH_SYNCHRONIZATION

class ThreadX
{
private:
  int        m1;
  static int m2;                       // shared variable
  static  __declspec(thread)  int m3;  // thread local variable

#ifdef WITH_SYNCHRONIZATION
  CRITICAL_SECTION m_CriticalSection; 
#endif

public:
  string threadName;

  ThreadX()
  {
      m1 = 10;
#ifdef WITH_SYNCHRONIZATION
        InitializeCriticalSection(&m_CriticalSection);
#endif
  }

  virtual ~ThreadX()
  {
#ifdef WITH_SYNCHRONIZATION
       // Release resources used by the critical section object.
       DeleteCriticalSection(&m_CriticalSection);
#endif
  }

  void TMain(void) 
  {
#ifdef WITH_SYNCHRONIZATION
    EnterCriticalSection( &m_CriticalSection );
#endif

    for ( int i = 1; i <= 50000; i++ )
    {
        ++m1;  // init value 10
        ++m2;  // init value 20
        ++m3;  // init value 30
    }

    printf( "Thread %s: m1 = %d, m2 = %d, m3 = %d\n", threadName.c_str(), m1, m2, m3 );

#ifdef WITH_SYNCHRONIZATION
    LeaveCriticalSection( &m_CriticalSection );
#endif

  } 

  static unsigned __stdcall ThreadStaticTMain(void * pThis)
  {
      ThreadX * pthX = (ThreadX*)pThis;
      pthX->TMain();

      return 1;
  }

};

int ThreadX::m2 = 20;
int ThreadX::m3 = 30;

int main()
{
    // In this program we create 2 threads and request that their
    // entry-point-function be the TMain() function of the ThreadX
    // class.  Because _beginthreadex() cannot accept a class member
    // function we must employ a 2 step process involving a tricky
    // cast to accomplish this.

    ThreadX * o1 = new ThreadX();

    HANDLE   hth1;
    unsigned  uiThread1ID;

    hth1 = (HANDLE)_beginthreadex( NULL,         
                                   0,            
                                   ThreadX::ThreadStaticTMain,
                                   o1,           
                                   CREATE_SUSPENDED, 
                                   &uiThread1ID );

    if ( hth1 == 0 )
        printf("Failed to create thread 1\n");

    DWORD   dwExitCode;

    GetExitCodeThread( hth1, &dwExitCode );
    printf( "initial thread 1 exit code = %u\n", dwExitCode );

    o1->threadName = "t1";

    ThreadX * o2 = new ThreadX();

    HANDLE   hth2;
    unsigned  uiThread2ID;

    hth2 = (HANDLE)_beginthreadex( NULL,         
                                   0,            
                                   ThreadX::ThreadStaticTMain,
                                   o2,           
                                   CREATE_SUSPENDED, 
                                   &uiThread2ID );

    if ( hth2 == 0 )
        printf("Failed to create thread 2\n");

    GetExitCodeThread( hth2, &dwExitCode ); 
    printf( "initial thread 2 exit code = %u\n", dwExitCode );

    o2->threadName = "t2";

    ResumeThread( hth1 );   
    ResumeThread( hth2 );   

    WaitForSingleObject( hth1, INFINITE );  
    WaitForSingleObject( hth2, INFINITE );  

    GetExitCodeThread( hth1, &dwExitCode );
    printf( "thread 1 exited with code %u\n", dwExitCode );

    GetExitCodeThread( hth2, &dwExitCode );
    printf( "thread 2 exited with code %u\n", dwExitCode );

    // The handle returned by _beginthreadex() has to be closed
    // by the caller of _beginthreadex().

    CloseHandle( hth1 );
    CloseHandle( hth2 );

    delete o1;
    o1 = NULL;

    delete o2;
    o2 = NULL;

    printf("Primary thread terminating.\n");
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T05:22:39.037

`CRITICAL_SECTION m_CriticalSection;`是`ThreadX`类中的成员（实例）变量。这意味着每次你创建一个实例`ThreadX`（你做了两次），你正在创建一个新的`CRITICAL_SECTION`. 这没有什么好处，因为每个实例都将进入自己的关键部分，没问题，然后继续丢弃您试图保护的变量。

如果您查看 的文档[`EnterCriticalSection`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms682608.aspx)，您会看到它提到只创建一个`CRITICAL_SECTION`，每个线程都会尝试输入。

相反，您只需要创建一个`CRITICAL_SECTION`所有实例都`ThreadX`将使用的。[理想](http://msdn.microsoft.com/en-us/library/b1b5y48f.aspx)情况下，这将是`ThreadX`. 但是，[C++ 没有静态构造函数](https://stackoverflow.com/questions/5803953/static-constructor-in-c)（如 C#），因此您必须以`InitializeCriticalSection`其他方式调用 to。你总是可以把它变成一个你初始化的静态变量`main()`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T05:18:23.027

m_CriticalSection 成员对于 ThreadX 类的每个实例都是不同的。因此，每个 ThreadX 对象都使用自己的临界区——这就是为什么它不会相互影响。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T05:19:10.847

这是因为您为每个线程定义了一个临界区。您需要在 main 中定义一个全局临界区并将该临界区传递给每个线程类。

# r - 如何生成测量相同变量的两组箱线图？

> ID：12363074
> 
> 赞同：-1
> 
> 时间：2012-09-11T05:06:52.833
> 
> 标签：r, boxplot

我正在尝试生成美国和日本之间收入的并排箱线图，两者都在第三列 V# 下。第一列 V1 是收入变量。

我正在粘贴我的 data.frame 对象的 dput 输出。

```
structure(list(V1 = c(5252525L, 4545352L, 4242424L, 5235252L, 
5353532L, 5234242L, 5252525L, 4535352L, 5774636L, 9743643L, 2342553L, 
5352323L), V2 = c(3L, 4L, 5L, 6L, 3L, 2L, 3L, 1L, 4L, 6L, 7L, 
8L), V3 = structure(c(3L, 2L, 2L, 2L, 2L, 1L, 1L, 1L, 3L, 3L, 
3L, 2L), .Label = c("CHINA", "JAPAN", "USA"), class = "factor")), .Names = c("V1", 
"V2", "V3"), class = "data.frame", row.names = c(NA, -12L)) 
```

我不希望中国被包含在箱线图中。我怎样才能做到这一点？？

提前非常感谢！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T05:13:52.560

```
boxplot(V1 ~ factor(V3), data=dat[ dat$V3 != "CHINA", ] ) 
```

如果要减少子集因子变量中的级别数，则需要对其进行重构。您可以在公式规范中的这种情况下执行此操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T05:15:18.400

使用 droplevels 和子集并假设您的数据被调用`dat`

```
boxplot(V1~droplevels(V3),subset(dat, V3 != 'CHINA')) 
```

请注意，`droplevels.factor(x,...)`简单地调用`factor(x,...)`所以@Dwins 解决方案更清洁。具体调用`droplevels` *可能*有助于提高可读性。

您还可以应用于`droplevels`data.frame，这将从每个因子变量中删除未使用的级别

```
boxplot(V1 ~ V3, droplevels(subset(dat, V3 != 'CHINA'))) 
```

# java - 向 DatagramSocket 添加超时-receive()

> ID：12363078
> 
> 赞同：23
> 
> 时间：2012-09-11T05:07:11.637
> 
> 标签：java, sockets, networking, network-programming, timeout

我需要在这部分代码上创建 10 秒超时

> DatagramPacket getack = new DatagramPacket(incoming, incoming.length);
> socket.receive(getack);

我需要它列出 10 秒的传入数据包，如果它在 10 秒之前收到一个数据包，它将跳到 if 语句，以防它达到 10 秒，它会跳到 else 并重新发送数据包。这可能吗？我怎么能这样做？我对此很陌生。

```
private static void sendDATA() {
    outgoing = new byte[512]; // Empty array
    try {
        ByteBuffer sDATA = ByteBuffer.allocate(516);
        // 512 - 2 byte opcode, 2 byte block #, 512 data

        DatagramPacket data = new DatagramPacket(outgoing, outgoing.length, InetAddress.getByName(clientip), clientport);
        InputStream fis = new FileInputStream(new File(FILE));

        int a;
        int block = 1; 

        while((a = fis.read(outgoing,0,512)) != -1)
        {
            data.setLength(a);
            sDATA.put((byte)3);
            sDATA.put((byte)block);
            sDATA.put(outgoing);
            socket.send(data); 

            while(true) {
                DatagramPacket getack = new DatagramPacket(incoming, incoming.length);
                socket.receive(getack);

                if(incoming[0] == 3 && incoming[1] == block) {
                    break;
                } else {
                    socket.send(data);
                }
            }

        }       
    } catch (Exception e) {

    }

} 
```

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-09-11T05:49:20.607

这应该适用于您的示例。

```
socket.setSoTimeout(10000);
while(true) {
    DatagramPacket getack = new DatagramPacket(incoming, incoming.length);
    try {
        socket.receive(getack);
    } catch (SocketTimeoutException e) {
       // resend
       socket.send(data);
       continue;
    }
    // check received data...
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-12-09T08:00:01.400

```
socket.setSoTimeout(10000);
socket.receive(getack);
socket.setSoTimeout(0); 
```

# c#-4.0 - 如何使用预填充的附件打开 Outlook 的新邮件窗口

> ID：12363079
> 
> 赞同：13
> 
> 时间：2012-09-11T05:07:15.583
> 
> 标签：c#-4.0, outlook, office-interop, outlook-addin, outlook-2010

当用户单击我的应用程序中的某个按钮或链接时，我需要打开一个带有预填充附件的新电子邮件窗口。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2015-11-04T08:39:12.980

老问题，但我也遇到了这个问题，所以这里有一个复制和粘贴解决方案：

```
Microsoft.Office.Interop.Outlook.Application oApp = new Microsoft.Office.Interop.Outlook.Application();
Microsoft.Office.Interop.Outlook.MailItem oMsg = (Microsoft.Office.Interop.Outlook.MailItem)oApp.CreateItem(Microsoft.Office.Interop.Outlook.OlItemType.olMailItem);

oMsg.Subject = "subject something";
oMsg.BodyFormat = Microsoft.Office.Interop.Outlook.OlBodyFormat.olFormatHTML;
oMsg.HTMLBody = "text body"; //Here comes your body;
oMsg.Attachments.Add("c:/temp/test.txt", Microsoft.Office.Interop.Outlook.OlAttachmentType.olByValue, Type.Missing, Type.Missing);
oMsg.Display(false); //In order to display it in modal inspector change the argument to true 
```

您需要 `Microsoft.Office.Interop.Outlook`在项目中添加对组件的引用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T05:13:50.553

您可以使用 Outlook 的互操作服务来完成

```
using Outlook = Microsoft.Office.Interop.Outlook;

 Outlook.MailItem mail = Application.CreateItem(
        Outlook.OlItemType.olMailItem) as Outlook.MailItem;
    mail.Subject = "Quarterly Sales Report FY06 Q4";
    Outlook.AddressEntry currentUser =
        Application.Session.CurrentUser.AddressEntry;
    if (currentUser.Type == "EX")
    {
        Outlook.ExchangeUser manager =
            currentUser.GetExchangeUser().GetExchangeUserManager();
        // Add recipient using display name, alias, or smtp address
        mail.Recipients.Add(manager.PrimarySmtpAddress);
        mail.Recipients.ResolveAll();
        mail.Attachments.Add(@"c:\sales reports\fy06q4.xlsx",
            Outlook.OlAttachmentType.olByValue, Type.Missing,
            Type.Missing);
        mail.Send();
    } 
```

工作示例可以在[这里](http://msdn.microsoft.com/en-us/library/bb644320.aspx)找到..

# java - jvmti for jdk 6 - 参考和教程

> ID：12363083
> 
> 赞同：0
> 
> 时间：2012-09-11T05:07:39.253
> 
> 标签：java, jvmti, javaagents

有谁知道学习编写 jvmti 代理的好起点。

我正在为此寻找书籍或在线教程。

我查看了[http://docs.oracle.com/javase/6/docs/platform/jvmti/jvmti.html](http://docs.oracle.com/javase/6/docs/platform/jvmti/jvmti.html)

但它似乎没有提供一个明确的方法大纲。

任何参考将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:22:35.777

几年前我用过[这个（java.sun.com） ，它似乎还在那里。](http://java.sun.com/developer/technicalArticles/Programming/jvmti/)您可能还需要了解平台文档（您的链接）中的内容。

# android - 如何将视频文件上传到android中的网络服务器？

> ID：12363084
> 
> 赞同：2
> 
> 时间：2012-09-11T05:07:41.620
> 
> 标签：android, video, android-camera, android-mediaplayer, android-video-player

嗨，我想将我的视频文件上传到 Android 中的网络服务器。我遵循了本教程：

[**在 Android 上使用 POST 将文件上传到 HTTP 服务器。**](http://reecon.wordpress.com/2010/04/25/uploading-files-to-http-server-using-post-android-sdk/)

但。我在我的 logcat 中遇到了这个错误。我也收到了来自服务器的消息。

```
 09-11 10:20:55.088: D/dalvikvm(284): GC_FOR_MALLOC freed 1137 objects / 74200 bytes in 70ms
 09-11 10:20:55.768: I/dalvikvm-heap(284): Grow heap (frag case) to 3.611MB for 1048592-byte allocation
 09-11 10:20:55.918: D/dalvikvm(284): GC_FOR_MALLOC freed 202 objects / 10144 bytes in 142ms
 09-11 10:20:56.178: D/dalvikvm(284): GC_FOR_MALLOC freed 86 objects / 3424 bytes in 91ms
 09-11 10:20:56.568: I/dalvikvm-heap(284): Grow heap (frag case) to 5.601MB for 2097364-byte allocation
 09-11 10:20:56.868: D/dalvikvm(284): GC_FOR_MALLOC freed 2 objects / 56 bytes in 304ms
 09-11 10:20:57.178: D/dalvikvm(284): GC_FOR_MALLOC freed 4 objects / 1120 bytes in 48ms
 09-11 10:20:57.748: I/dalvikvm-heap(284): Grow heap (frag case) to 11.600MB for 6291668-byte allocation
 09-11 10:20:57.918: D/dalvikvm(284): GC_FOR_MALLOC freed 0 objects / 0 bytes in 168ms
 09-11 10:21:24.827: I/uploadFile(284): HTTP Response is : OK: 200
 09-11 10:21:24.847: E/Debug(284): Server Response There was an error uploading the file, please try again!
 09-11 10:21:24.858: I/System.out(284): RES : 200
 09-11 10:21:24.997: WARN/InputManagerService(59): Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@44ff6cc8
 09-11 10:23:34.277: DEBUG/SntpClient(59): request time failed: java.net. Socket Exception: Address family not supported by protocol 
```

按照这个过程，我想将视频文件上传到 wowza 媒体服务器。我该如何解决这个问题。我怎样才能在 wowza 服务器上进行？任何人都可以帮助我实现这一目标吗？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-16T10:06:05.603

从 byte[] 向服务器发送视频可能会导致 outOfMemoryError，因此最好从 MultiPart 发布视频。您可以从此链接下载 jar 文件。[http://hc.apache.org/downloads.cgi](http://hc.apache.org/downloads.cgi)。下载 httpmime-4.2.jar 并将其添加到您的项目中。

```
public void uploadVideo(Context context, String videoPath) {
        try {
            HttpClient httpClient = new DefaultHttpClient();
            HttpPost postRequest = new HttpPost(context.getString(R.string.url_service_fbpost));
            MultipartEntity reqEntity = new MultipartEntity(HttpMultipartMode.BROWSER_COMPATIBLE);
            if(!videoPath.isEmpty()){

                FileBody filebodyVideo = new FileBody(new File(videoPath));
                reqEntity.addPart("uploaded", filebodyVideo);
            }
            postRequest.setEntity(reqEntity);
            HttpResponse response = httpClient.execute(postRequest);

            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    response.getEntity().getContent(), "UTF-8"));
            String sResponse;
            StringBuilder s = new StringBuilder();

            while ((sResponse = reader.readLine()) != null) {
                s = s.append(sResponse);
            }

            Log.e("Response: ", s.toString());
            return true;

        } catch (Exception e) {
            Log.e(e.getClass().getName(), e.getMessage());
            return false;
        }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:35:54.063

its just because of large size of video. Use chunk upload approach for large file/video.

Here is sample code to post chunk data on server.

```
public void upload(String filename, byte[] image) {
     // 1MB of chunk
    byte[][] divideByte = divideArray(image, ((1024 * 1024)/2));
    int length = divideByte.length;
    String token = "" + (int)System.currentTimeMillis();
    Log.i("System out", "divideByte:" + length);
    Log.i("System out", "token:" + token);

    for (int i = 0; i < length; i++) {
        List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();

        String link = "<your link>";

        nameValuePairs.add(new BasicNameValuePair("filename", filename));// filename
        HttpClient httpclient = new DefaultHttpClient();
        HttpPost httppost = new HttpPost(link);
        Log.i("System out", "divideByte[" + i + "] length :"
                + divideByte[i].length);
        String img = Base64.encodeBytes(divideByte[i]);
        nameValuePairs.add(new BasicNameValuePair("file64", img));

        nameValuePairs.add(new BasicNameValuePair("token", new String(""
                + token)));
        nameValuePairs.add(new BasicNameValuePair("chunksize", new String(""+
                divideByte[i].length)));
        nameValuePairs.add(new BasicNameValuePair("chunkcount", new String(
                "" + length)));
        nameValuePairs.add(new BasicNameValuePair("index", new String(""
                + i)));
        try {
            httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
            HttpResponse response = httpclient.execute(httppost);
            HttpEntity httpEntity = response.getEntity();
            if (httpEntity != null) {
                String res = EntityUtils.toString(httpEntity).toString();
                Log.i("System out", "response is :" + res);                 
            }
            httpEntity = null;
            response = null;
        } catch (Exception e) {
            e.printStackTrace();
        }finally{
            httppost = null;
            httpclient = null;
        }           
    }
}

public static byte[][] divideArray(byte[] source, int chucksize) {

    byte[][] ret = new byte[(int) Math.ceil(source.length
            / (double) chucksize)][chucksize];

    Log.i("System out","ret: "+ret.length);
    int start = 0;

    for (int i = 0; i < ret.length; i++) {
        if (start + chucksize > source.length) {
            System.arraycopy(source, start, ret[i], 0, source.length
                    - start);
        } else {
            System.arraycopy(source, start, ret[i], 0, chucksize);
        }

        start += chucksize;
    }

    return ret;
} 
```

and on server side get the all chunks index wise and compose one video file.

Hope help to you.

# cassandra - 为什么我可以在 cassandra 上使用带有节俭客户端 API 的 cql 选择已删除的行？

> ID：12363089
> 
> 赞同：4
> 
> 时间：2012-09-11T05:08:43.243
> 
> 标签：cassandra, cql

Cassandra 版本是 1.1.1，thrift 客户端版本是 1.0。首先，我使用 cql（调用方法`Cassandra.client.execute_cql_query()`）将四行插入 Cassandra。然后我用 cql 删除一个，然后我用 Cassandra Cluster Admin（PHP 客户端）查询该行已被删除的日期。

但是当我用 cql 查询日期时，`SELECT * FROM mycolumnfamily`该行仍然存在！有人能说出为什么会这样吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T15:52:38.263

请参阅[http://wiki.apache.org/cassandra/FAQ#range_ghosts](http://wiki.apache.org/cassandra/FAQ#range_ghosts)和[https://issues.apache.org/jira/browse/CASSANDRA-3982](https://issues.apache.org/jira/browse/CASSANDRA-3982)

# android - getString() 使已发布的应用程序崩溃

> ID：12363092
> 
> 赞同：0
> 
> 时间：2012-09-11T05:09:04.300
> 
> 标签：android, xml, localization, crash

我在文件夹中有一些带有字符串的本地化文件，例如

```
values
values-ru
values-es
etc. 
```

在每个文件夹中都有一个 strings.xml 文件，其键相同但值不同。

在调试模式下它可以完美运行。`Resources$NotFoundException`但是当我从 Play Market 下载应用程序时，它会在每个语言环境中崩溃。

另外，我愿意

```
Locale locale = getBaseContext().getResources().getConfiguration().locale; 
        Locale.setDefault(locale);
        Configuration config = new Configuration();
        config.locale = locale;
        getBaseContext().getResources().updateConfiguration(config,                                 getBaseContext().getResources().getDisplayMetrics()); 
```

在初始化期间。可能是这个原因吗？

有什么建议么？

从开发日志。安慰：

```
android.content.res.Resources$NotFoundException: String resource ID #0x7f080010
at android.content.res.Resources.getText(Resources.java:201)
at android.content.res.Resources.getString(Resources.java:254)
at android.content.Context.getString(Context.java:182)
at com.companyName.appName.menuActivity.onWindowFocusChanged(menuActivity.java:115)
at com.android.internal.policy.impl.PhoneWindow$DecorView.onWindowFocusChanged(PhoneWindow.java:1986)
at android.view.View.dispatchWindowFocusChanged(View.java:3788)
at android.view.ViewGroup.dispatchWindowFocusChanged(ViewGroup.java:658)
at android.view.ViewRoot.handleMessage(ViewRoot.java:1921)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:123)
at android.app.ActivityThread.main(ActivityThread.java:4627)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:521)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:878)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:636)
at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:47:45.383

我删除了这部分

```
Locale locale = getBaseContext().getResources().getConfiguration().locale; 
        Locale.setDefault(locale);
        Configuration config = new Configuration();
        config.locale = locale;
        getBaseContext().getResources().updateConfiguration(config,                                 getBaseContext().getResources().getDisplayMetrics()); 
```

它有效。正如我可以建议的那样，无需修复语言环境，系统将按预期使用所需的资源。

# css - CSS - 这些额外的 10 像素来自哪里？

> ID：12363096
> 
> 赞同：1
> 
> 时间：2012-09-11T05:09:13.650
> 
> 标签：css, space, pixels

[指定的_net_testpage002](http://www.designated.net.au/testbed/testpage002/)

你可以在页面上看到，中间有三十个白色像素，我要二十个。您还可以看到边界不加入。
知道为什么会有那些额外的 10 个像素吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:21:37.710

试试这个

添加

```
spotlight-feature-top {
  -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    -moz-box-sizing: border-box;
    background-color: #FFFFFF;    //edited 
    border-color: #333333;
    border-image: none;
    border-style: solid;
    border-width: 10px 0 0;
    float: left;                  //edited 
    height: 40px;
    position: relative;
    width: 100%;

}

#spotlight-feature-bottom {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    -moz-box-sizing: border-box;
    background-color: #FFFFFF;     //edited 
    border-color: #333333;
    border-image: none;
    border-style: solid;
    border-width: 0 0 10px;
    float: left;                      //edited 
    height: 40px;
    position: relative;
    width: 100%;
}

#spotlight-feature-bottom-title {
    height: 30px;
    margin: 0 auto;            //edited 
    position: relative;
    width: 200px;
    z-index: 3;
} 
```

同样的结果可以通过

```
#spotlight-feature-bottom-right {right: -50px;}

#spotlight-feature-bottom-left {left: -50px;}

#spotlight-feature-bottom-title {margin: 0 auto;} 
```

**原因**是

```
 #spotlight-feature-bottom-title {      margin: 10px auto 0;
                                               ^^^^^
                                              this is the extra 10 px you getting 
```

结果

![在此处输入图像描述](../Images/9569441f3479ff2f4f165024b9ebad68.png)

# jquery - kendo-ui web：如何更改详细信息列的位置

> ID：12363098
> 
> 赞同：1
> 
> 时间：2012-09-11T05:09:40.323
> 
> 标签：jquery, asp.net-mvc, telerik, kendo-ui

情况：我已经用 kendo-ui web（在 ASP.NET MVC 3 中）构建了一个带有详细信息功能的网格。因此，第一列具有显示/打开或隐藏/关闭详细信息视图的控件。这工作正常，没有问题。任务/问题：我必须移动第一列，使其成为第三或第四列。但是在我开始更改kendo-ui web的源代码之前：有没有人知道如何在不更改源代码的情况下做到这一点？

仅供参考：我只有开源的 kendo-ui 网络！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T07:40:47.097

开箱即用不支持更改切换展开/折叠图标的位置。我认为无需修改源代码即可轻松实现。您需要处理`dataBound`网格事件并移动展开/折叠列（`<col>`和`<th>`）`<td>`。这是一个演示：http: [//jsbin.com/exawot/1/edit](http://jsbin.com/exawot/1/edit)

# java - 在java中，使用“new”初始化数组有什么好处？

> ID：12363099
> 
> 赞同：1
> 
> 时间：2012-09-11T05:09:41.817
> 
> 标签：java, arrays, constructor

例如，可以将一个字符数组初始化为：

```
char[] myArray = new char[3];
myArray = {'a', 'b', 'c'}; 
```

或者可以将字符数组初始化为：

```
char[] myArray = {'a','b', 'c'}; 
```

使用“新”方法有什么好处？

顺便说一句，在第一个示例中，为什么我还允许分配 { ... } 集而不将其传递给构造函数方法（在括号中）？

```
char[] myArray = new char[] {'a', 'b', 'c'}; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T05:13:29.133

`{and}`是一种快捷语法，这里数组的长度由 . 之间提供的值的数量决定`{ and }`。

来自[数组 Oracle 文档](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)

> 创建数组的一种方法是使用 new 运算符。ArrayDemo 程序中的下一条语句为一个数组分配了足够存储十个整数元素的内存，并将该数组分配给 anArray 变量。

```
// create an array of integers
anArray = new int[10]; 
```

> 或者，您可以使用快捷语法来创建和初始化数组：

```
int[] anArray = { 
100, 200, 300,
400, 500, 600, 
700, 800, 900, 1000
}; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T06:00:20.440

这个声明是不合法的Java：

```
 myArray = {'a', 'b', 'c'}; 
```

该`{ ... }`语法只能用作声明或数组`new`表达式中的初始值设定项。正如[JLS 部分§10.6](http://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.6)所说：

> *“可以在声明中指定数组初始值设定项（第 8.3 节、第 9.3 节、第 14.4 节），或作为数组创建表达式的一部分（第 15.10 节）来创建数组并提供一些初始值。”*

所以选择实际上是在

```
char[] myArray = {'a','b', 'c'}; 
```

和

```
char[] myArray = new char[] {'a', 'b', 'c'}; 
```

这两种形式之间的区别纯粹是句法上的。他们的意思是一样的，我希望他们在这个例子中编译成相同的代码。唯一的实际区别是具有显式的形式`new`可以在另一个不能使用的上下文中使用。

* * *

> 顺便说一句，在第一个示例中，为什么我还允许分配 { ... } 集而不将其传递给构造函数方法（在括号中）？

因为 Java 数组类型没有构造函数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T05:12:37.547

如果您在编译时不知道长度，则不能使用文字语法。

```
char[] buffer = new char[bufferSize]; 
```

此外，如果默认值 (0) 很好，则不需要文字语法。

```
// hard to read, and I probably got the number of entries wrong
char[] buffer = { 0,0,0,0,0,0,0,0,0,0,0,0 };

// easier on the eyes
char[] buffer = new char[10]; 
```

至于为什么允许您跳过“构造函数”上的类型声明（不确定这是否是数组的正确术语），那是因为编译器可以推断它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-11T05:13:32.050

您的第一条语句是非法的 - 您不能在不同的行上使用该快捷方式实例化和填充数组。

至于使用`new`- 这允许您在获取值时填写它们。您唯一知道的是数组的至少一维长度。使用方括号意味着您知道维度以及实例化时将放入数组中的内容。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-11T05:13:34.177

将 new 与数组一起使用的主要好处是，当您知道数组的大小但您想稍后使用元素进行初始化时。在第二个示例中，您知道要在数组中存储什么，因此当时不需要 new。这些基本上是声明数组的两种合法方式。HTH，本

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-09-11T05:17:04.293

我认为即使更简洁的语法是合法的，使用这种`new`语法也是更可取的，因为它清楚地表明每次执行语句时都会创建一个新对象。

# android - Android GridView 无法正确缩放

> ID：12363101
> 
> 赞同：0
> 
> 时间：2012-09-11T05:10:00.180
> 
> 标签：android, gridview

我在这上面花了几个小时，查看了我在没有解决方案的情况下可以找到的每一个相关的 SO 问题。

这是我的问题：

我有图像的网格视图。我需要 3 列（以匹配 iOS 版本和美学）。如果我将 numColumns 设置为 3，我会在每一行的图像行的顶部和底部之间获得很多额外的空间。如果我将宽度设置为自动调整，我总是得到 2，它们看起来更好，但更喜欢 3 列。

我错过了什么？

布局：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:gravity="top" >

<LinearLayout 
    android:id="@+id/llayout"       
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentTop="true"
    android:layout_centerHorizontal="true"
    >
    <ImageView
        android:id="@+id/header"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="#666666"
        android:clickable="false"
        android:contentDescription="@string/title_card_collection"
        android:src="@drawable/sportscard2x" />
</LinearLayout>

<GridView
    android:id="@+id/cardGrid"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_above="@+id/llayout"
    android:gravity="center"
    android:horizontalSpacing="2dip"
    android:numColumns="3"
    android:stretchMode="columnWidth"
    android:layout_alignParentBottom="true"
    android:verticalSpacing="2dip" >
</GridView> 
```

![截屏](../Images/17244e897cf2be12110837ca03dddb13.png)

我希望这是一件容易的事，我只是想念。提前致谢。

更新：添加截图。问题是只显示了 1 行，如果向下滚动，您会看到其他 3 行，但两者之间有很大的空间。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-01T12:05:38.783

***<编辑>***

请在下面找到“提示 3”。可以在[此处](http://www.jayway.com/2012/10/04/how-to-make-the-height-of-a-gridview-wrap-its-content/)找到带有代码的示例。

***</编辑>***

我认为问题在于您将您的`layout_height`设置`<GridView>`为`wrap_content`. 网格视图似乎无法正确计算它的总包裹高度，因此，它只显示一行。

您可以将其设置`layout_height`为`match_parent`（或任何其他固定高度 - 比如`120dp`或其他），或者您可以尝试扩展`GridView`Java 对象并进行一些自己的计算（然后您需要在 XML 布局中使用自定义网格视图对象作为好吧：）`<com.package.to.MyCustomGridView>`。

不过，我确实需要强调，在 API 11 之前，没有任何明确定义的方法可以从 Java 代码中的网格视图中获取列数（您需要这样做以计算数据的行数适配器会产生）。是在 API 11 中引入的`getNumColumns`。也没有找到行间距的正确方法（`getHorizontalSpacing()`and`getVerticalSpacing()`方法是在 API 16 中引入的）。

供您参考：http: [//developer.android.com/reference/android/widget/GridView.html](http://developer.android.com/reference/android/widget/GridView.html)

**提示1：** 我自己没有测试过，但你可以尝试这样的事情：

```
<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">

    <ImageView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        ...
        />

    <GridView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1.0"
        ...
        />

</LinearLayout> 
```

即在线性布局中包含您的网格视图，并在布局图像视图后为其添加所有可用空间。

**提示 2：** 您可以编写自己的列表视图。索尼移动教程网站上似乎有一些不错的糖果（不，我没有受雇于索尼移动:-)，不过；好教程就是好教程）：http: [//developer.sonymobile.com/2010/05/20/android-tutorial-making-your-own-3d-list-part-1/](http://developer.sonymobile.com/2010/05/20/android-tutorial-making-your-own-3d-list-part-1/)

**提示 3：** 您可以扩展 Java`GridView`对象并覆盖`onMeasure`以下示例中的方法。`GridView`请记住在 Android 布局 XML 文件中引用您的扩展类（如`<com.package.MyGridView android:layout_width="match_parent" android:layout_height="wrap_content" ... />`）

```
@Override
protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
    int heightSpec;

    // The great Android "hackatlon" (in order to enable "wrap_content" on grid views).
    if (getLayoutParams().height == LayoutParams.WRAP_CONTENT) {
        heightSpec = MeasureSpec.makeMeasureSpec(
                Integer.MAX_VALUE >> 2, MeasureSpec.AT_MOST);
    }
    else {
        heightSpec = heightMeasureSpec;
    }

    super.onMeasure(widthMeasureSpec, heightSpec);
} 
```

希望你能从中找到一些灵感:-)

干杯，--dbm

# asp.net-mvc - 使用 Syncfusion 时出现空引用异常

> ID：12363102
> 
> 赞同：0
> 
> 时间：2012-09-11T05:10:09.903
> 
> 标签：asp.net-mvc, visual-studio, telerik, syncfusion

我已使用 asp.net MVC4 从 vs 2010 更改为 2012。我已使用 Telerik open Access 将我的应用程序连接到数据库。

我正在我的应用程序中实现同步融合。我有两个问题，

1.Getting Null Reference Exception(Object does not set to an instance of an object) at

```
@Html.Syncfusion().CaptchaControl("Captcha1").EnableRefreshImage(true).RequestMapper("RefreshCaptcha"). 
```

2.使用 Telerik 开放访问将我的 apln 连接到数据库时，它显示错误“未找到 ModelContext”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T09:58:47.183

查询 1：获取空引用异常（对象未设置为对象的实例）

报告的问题是由于您的应用程序中没有 Syncfusion.Theme.Base dll 导致的。Syncfusion 在最新版本 10.3.0.43 中引入了一个新的程序集“Syncfusion.Theme.Base”，用​​于主题支持。因此请参考您的应用程序中的 Syncfusion.Theme.Base dll 并在 web.config 中添加 Syncfusion.Theme.Base 程序集以克服此 NullReference 异常问题。请参考下面的代码片段，

```
 [Web.Config]
    <assemblies>
    <add assembly="Syncfusion.Theme.Base, Version=10.304.0.43, Culture=neutral, PublicKeyToken=3d67ed1f87d44c89" />
    </assemblies> 
```

查询 2：在使用 Telerik 开放访问将我的 apln 连接到数据库时，它显示“未找到 ModelContext”的错误。

在提供此查询的解决方案之前，我想了解有关此问题的更多详细信息。请告诉我们您在应用程序中使用的 Syncfusion 控件列表，以便我分析问题并为您提供更好的解决方案。

# cakephp - 在 CakePHP 中保存非关联数据

> ID：12363105
> 
> 赞同：1
> 
> 时间：2012-09-11T05:10:40.867
> 
> 标签：cakephp, cakephp-2.1

我正在编写一个安装程序，因此我需要将多种类型的数据保存在不同的表中，即使没有关联。理想情况下，我想一次性处理好这一切。这是我到目前为止的简要介绍。

这是我的蛋糕数组，准备保存所述数据。

```
$initialData = array(
    array( 'Option' => array( 'name' => 'version', 'value' => '1.0.0', )),
    array( 'Option' => array( 'name' => 'non-version', 'value' => '1.0.2', )),
    array( 'User' => array( 'username' => 'skyler', 'password' => 'hi', )),
); 
```

我使用以下内容尝试保存它。

```
$this->Option->saveMany($initialData) 
```

它只保存`Option`行，而不是`User`行。想法？

**注意：这不是关联数据。选项和用户没有关联，但需要同时保存。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T22:47:08.937

这`$this->Option->saveMany`将起作用，因为您正在为单个表保存多个记录。但是，由于 User 未与 Option 关联，因此它不知道如何处理数据。你需要打电话`$this->User->save($initialData)`。

如果您希望有多个用户记录，您可以调用`$this->User->saveMany($initialData)`.

一定不要忘记打电话`$this->User->create()`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T09:12:43.253

我通常只是在我的包中发布一个 SQL 脚本，它创建和填充数据库表。

有关如何在 CakePHP 中读取和执行文件的示例，请参阅[多个 SQL 查询未在 Cakephp中执行。](https://stackoverflow.com/questions/10924441/multiple-sql-query-not-executing-in-cakephp)

# android - 在内部使用 imageView 时，gridView 高度太高

> ID：12363106
> 
> 赞同：7
> 
> 时间：2012-09-11T05:10:40.967
> 
> 标签：android, android-imageview, android-gridview

我对 GridView 内的单元格的高度有疑问。我的每个单元格内部都会有一个 imageView，如下所示：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
          android:orientation="vertical"
          android:layout_width="fill_parent"
          android:layout_height="fill_parent">

<GridView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:verticalSpacing="10dp"
        android:horizontalSpacing="10dp"
        android:id="@+id/eventGridView" android:numColumns="2"/>
</LinearLayout> 
```

这是每个单元格的 ImageView

```
<com.example.scheduling_android.view.RoundedCornerImageView
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:maxWidth="150dp"
        android:maxHeight="150dp"
        xmlns:android="http://schemas.android.com/apk/res/android" android:id="@+id/eventImageView"
        android:adjustViewBounds="false"/> 
```

我正在为我的 imageView 使用不同的图像大小。我得到的是，每当我的图像变大（例如，400 x 400 像素）时，单元格的高度就会变得非常高（大约是宽度的两倍，请注意我将网格设置为使用 2 列）。但是，当我将图像保存为较小尺寸（例如 160 x 160 像素）时，gridView 会正确显示。高度和宽度匹配。

这是一个屏幕截图：

![在此处输入图像描述](../Images/b1d9ed8d3ca4217de9f9a5c75ae14817.png)

似乎是什么问题？难道是大图像导致gridView错误地计算其单元格的高度？我能做些什么来解决这个问题？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2014-06-17T15:24:08.520

我认为您尚未将adjustViewBounds 设置为true。可以设置如下吗？

```
imageView.setAdjustViewBounds(true); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-11T05:23:08.230

在这里，我每行都有用户 3 列，它工作正常。图库视图在运行时设置列宽，

```
mPhotoGalleryGridView.setColumnWidth(display.getWidth() / 3); 
```

在布局中

```
<GridView android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:id="@+id/photogallerygridview"      
    android:padding="5dp"
    android:verticalSpacing="5dp"
    android:horizontalSpacing="5dp"
    android:stretchMode="columnWidth"
    android:numColumns="3"
    android:gravity="center">    
</GridView> 
```

在适配器中：设置 imageview 的高度和宽度，

```
imageview.setMaxHeight(150);
        imageview.setMinimumHeight(150); 
```

希望对你有用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:10:25.433

试试下面的代码。宽度应该是倾斜的

```
 android:adjustViewBounds="true"
 android:maxWidth="150dip"
 android:maxHeight="150dip" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-11T05:15:44.987

使用`wrap_content`而不是使用`fill_parent`.

因为 fill_parent 实际上会取图像的原始高度并尝试将其填充到屏幕中。即使您使用 400x400 图像并设置 `layout_width = "160dp"`和`layout_height = "160dp"`，它也会起作用，因为我们不允许图像显示更多。

# java - 在android的textview中保留空格

> ID：12363110
> 
> 赞同：2
> 
> 时间：2012-09-11T05:11:36.250
> 
> 标签：java, android, html, whitespace

我正在尝试使用 html 将某些文本格式化（添加样式）并将其设置为 textview 的文本

```
Spanned text =Html.fromHtml(""+newAllText);
hello.setText(text, TextView.BufferType.SPANNABLE); 
```

但是 Html() 方法返回 Spanned 字符串，其中删除了所有空格。我试过使用这样的html标签，`<pre>`但它没有帮助..

它应该像[这样](http://i.imgur.com/pXX4y.png)很好地显示（html标签后来用 from Html() 方法删除）但是所有的空格都被删除了，它看起来像[这样](http://i.imgur.com/Ww0AZ.png)（当它在 ui 中设置为文本时看起来像一个大的连续段落）。

有人对此有任何线索吗？

以防万一有人想查看完整代码：

```
String SelectedSentence =allText.substring(lastPoint, nextPoint);
String highlighted = "<font color='red'>"+SelectedSentence+"</font>";
StringBuilder newAllText = new StringBuilder(allText);
newAllText.delete(lastPoint, nextPoint+1);
newAllText.insert(lastPoint,highlighted);
newAllText = new StringBuilder("<pre>"+newAllText+"</pre>");

Spanned text =Html.fromHtml(""+newAllText);
hello.setText(text, TextView.BufferType.SPANNABLE); 
lastPoint = nextPoint; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T01:27:26.537

好吧，我放弃了 HTML 文本样式的整个方法，只是使用 SpannableStringBuilder 来获得我想要的相同效果

```
 highlighted = new SpannableStringBuilder(sb);
            highlighted.removeSpan(new BackgroundColorSpan(Color.YELLOW));
            highlighted.setSpan(new BackgroundColorSpan(Color.YELLOW),lastPoint, nextPoint, 0); 
```

# cakephp - 打印所有功能 - cakephp

> ID：12363111
> 
> 赞同：0
> 
> 时间：2012-09-11T05:11:42.987
> 
> 标签：cakephp, printing

我刚刚为客户建立了一个在线系统，在系统中我有一个报告部分。我的客户现在希望能够设置打印所有功能，他们基本上单击一个按钮，它将一次打印 4 个单独的报告，而无需全部进入。

它们的设置如下：

/报告/快照

/报告/查询

/报告/前景

/报告/销售

等等....

变量也传递到这些报告中，例如开始日期和结束日期，但它们都接受相同的变量，只是显示不同的图表和图形。

无论如何我可以编写一个打印所有函数来调用每个控制器和视图，而无需创建一个单独的全包页面。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T09:17:50.243

您可以创建一个 allReports() 方法：

```
public function all_reports() {

    $this->snapshot();
    $this->enquiries();
    $this->prospects();
    $this->sales();
    // and so on

} 
```

它的相关视图：

```
all_reports.ctp

echo $this->Element('../Reports/snapshot.ctp');
echo $this->Element('../Reports/enquiries.ctp');
echo $this->Element('../Reports/prospects.ctp');
echo $this->Element('../Reports/sales.ctp');
// and so on 
```

基本上， all_reports() 运行所有报告方法，它们将填充视图变量，然后您的视图一个接一个地包含每个报告。

为此，您需要确保您在各种报告中设置的变量不会相互覆盖。

# c#-4.0 - GDI+ selenium webdriver 中出现一般错误

> ID：12363112
> 
> 赞同：11
> 
> 时间：2012-09-11T05:11:44.987
> 
> 标签：c#-4.0, selenium, webdriver

我在 GDI+ 中发生了 selenium webdriver 的一般错误。昨天它还可以正常工作，但突然我得到了这个错误。

```
 public string TakeScreenshot(IWebDriver driver, string SnapFolderPath, string TCID, string KeyFunction)
    {
        try
        {
            //  driver.Manage().Window.Maximize();
            ITakesScreenshot ssdriver = driver as ITakesScreenshot;
            Screenshot screenshot = ssdriver.GetScreenshot();
            string filePath = testReport + "\\" + TCID + "_" + KeyFunction + "_" + GetDateTimeforFilePath() + ".png";
            screenshot.SaveAsFile(filePath, ImageFormat.Png);

            return filePath;
        }
        catch (Exception ex)
        {
            return string.Empty;
        }
    } 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-11T09:29:50.957

解决了这个问题。我们需要对要存储图像的文件夹授予完全访问权限。如果我们不授予完全权限，我们会收到此错误

# java - Birt 中基于字符的报告

> ID：12363116
> 
> 赞同：0
> 
> 时间：2012-09-11T05:12:11.527
> 
> 标签：java, jsf, jakarta-ee, birt

我已经完成了基于字符的报告的任务。我将 BIRT 与 JSF 和 Hibernate 一起用于我的项目。谁能告诉我“基于字符的报告”是什么？我也用谷歌搜索了这个词，但结果是假的。

BIRT 是否支持基于字符的报告或仅支持基于文本的报告引擎？

我真的很感谢您的回复和评论

问候瓦哈吉

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:18:39.177

我想文本只是基于字符的。没有像基于字符的报告这样的术语。有诸如本地化报告之类的术语，并且都不是基于字符的。您能否更广泛地详细说明您的问题领域？

有字符模式报告。请看看这个

[http://www.orafaq.com/forum/t/127921/2/](http://www.orafaq.com/forum/t/127921/2/)

我也找到了这个链接

[迁移基于字符的 Oracle 表单](https://stackoverflow.com/questions/205304/migrating-a-character-based-oracle-form)

本

# java - Web 应用程序中的随机反馈

> ID：12363118
> 
> 赞同：0
> 
> 时间：2012-09-11T05:12:39.310
> 
> 标签：java, javascript, jsp, web-applications

我们显示对我们应用程序的反馈，但我们只想显示 10% 的用户。例如：如果用户总数为 1000 并且反馈应该只显示给 100 个用户。

有什么想法实现它的逻辑吗？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T05:17:14.323

尝试使用以下`random`方法：

```
if(Math.random()<0.1) {
    // show feedback
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:23:39.490

此代码生成一个从 0 到 9 的随机数，如果随机数为 0（10% 的机会），则可以添加反馈代码。

```
var randomnumber=Math.floor(Math.random()*10)
if (randomnumber == 0)
{  
   // do something
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T05:32:10.287

如果您真的非常需要它精确到 10%，而不是大约 10%，您可以保留一个静态计数器变量，每次新会话开始时都会增加该变量。当它达到 10 时，询问用户反馈并将计数器重置为 1。

但是，您可能需要同步对变量的访问，以防止不同线程上的请求同时对其进行操作，如果您要处理大量请求，这可能是性能瓶颈。

除非您有充分的理由，否则使用其他人建议的随机数方法可能要容易得多。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-11T05:34:25.293

我认为你需要考虑清楚这一点——在路上，你可能希望你做的不仅仅是“随机显示到 10%”。

如果您正在谈论使用经过身份验证的用户的应用程序，并且如果有任何潜在需要分析/理解那 10% 的响应，那么您应该执行以下操作：

1.  在您的数据库中创建一个新的列或表，为您的反馈显示分配每个用户在 (true) 或 out (false) 中
2.  将其用作查询的基础，以确定向谁显示消息
3.  确保将该反馈请求的结果写回您的数据库。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-11T05:19:34.057

在您的数据库中，您可以进行如下查询

```
SELECT TOP X PERCENT select list
FROM TableName 
```

这样，您只能从 DB 中获取 10% 的记录并将它们显示在反馈模块上。

希望这就是你要找的。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-11T05:21:04.527

我以前发现有用的一种模式是在会话开始时“标记”一些用户（根据您所需的分布随机）。然后详细记录标记用户对您的应用程序所做的一切。他们给出的任何反馈都可以放在上下文中。至于机制，我会为初始会话标记使用过滤器，然后在屏幕顶部为标记的用户显示一个不显眼的栏，提示他们（很好地）提供反馈。确保栏有一个关闭按钮。

# mysql - 在 DB 中存储距离矩阵

> ID：12363119
> 
> 赞同：3
> 
> 时间：2012-09-11T05:12:48.803
> 
> 标签：mysql, database, database-design

我需要在我的网页上显示一个城市附近所有位置的距离矩阵。

我想从网络服务中获取所有这些数据并提前保存在我的数据库中。我试图找出最好的关系数据库设计来保存这样的数据。

我想避免冗余数据以及提供最佳性能的设计。

我知道关系 DB 不是最好的选择，但在这一点上我无能为力。

问题：那么存储此类信息的最佳数据库模式设计是什么。我需要查询仅提供一个城市的数据库，并且必须显示一个包含 5 个或 10 个最近城市的矩阵。

旅行时间并不那么重要，我主要关心的是距离。

![这种矩阵减去持续时间](../Images/cc41420e1816942e1caa1cf09d812245.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T12:05:06.223

为了性能，假设您使用的是 InnoDB，我可能会对数据进行一些非规范化，如下所示：

```
CREATE TABLE CITY (
    CITY_ID INT PRIMARY KEY
);

CREATE TABLE CITY_DISTANCE (
    CITY1_ID INT,
    CITY2_ID INT,
    DISTANCE NUMERIC NOT NULL,
    PRIMARY KEY (CITY1_ID, DISTANCE, CITY2_ID),
    FOREIGN KEY (CITY1_ID) REFERENCES CITY (CITY_ID),
    FOREIGN KEY (CITY2_ID) REFERENCES CITY (CITY_ID)
); 
```

每对城市在 CITY_DISTANCE 中有 2 行包含相同的 DISTANCE（每个方向一个）。这显然会使其变得非常大并可能导致数据不一致（数据库不会保护自己免受同一城市之间不匹配的 DISTANCE 值的影响），并且 DISTANCE 在逻辑上不属于 PK，但请耐心等待...

[InnoDB 表是 clustered](http://www.ovaistariq.net/521/understanding-innodb-clustered-indexes/)，这意味着通过以这种特殊方式声明 PK，我们将整个表放在特别适合如下查询的 B-Tree 中：

```
SELECT CITY2_ID, DISTANCE
FROM CITY_DISTANCE
WHERE CITY1_ID = 1
ORDER BY DISTANCE
LIMIT 5 
```

该查询返回与 标识的城市最近的 5 个城市`1`，可以通过对上述 B-Tree 的简单范围扫描来满足：

```
id  select_type table           type    possible_keys   key     key_len ref     rows    Extra
1   SIMPLE      CITY_DISTANCE   ref     PRIMARY         PRIMARY 4       const   6       "Using where; Using index" 
```

顺便说一句，由于第二个 FK，InnoDB 将自动再创建一个索引（在 CITY2_ID 上），它还将包括 CITY1_ID 和 DISTANCE，因为聚集表中的二级索引必须覆盖 PK。您也许可以利用它来避免重复的 DISTANCE（在 {CITY2_ID, DISTANCE, CITY1_ID} 上显式创建索引并让 FK 重用它，并检查 (CITY1_ID < CITY2_ID)），但 MySQL 查询优化器可能不够聪明，无法处理这种结构所需的查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:43:57.910

最简单的方法是存储一对城市以及距离和您希望能够显示的任何其他数据。我会将城市本身存储在一个单独的表中，并且只将两个键和距离信息存储在距离表中。

我确定您最多只想显示最接近的 5 或 10 个，您可以从仅添加这些记录开始。这意味着对于 N 个城市，您只会在数据库中获得 N*10 条记录，这应该是相当可扩展的。

即使有大量记录，如果添加适当的索引，性能也应该不错。

# php - JSON.parse(xmlhttp.responseText) 意外字符

> ID：12363132
> 
> 赞同：1
> 
> 时间：2012-09-11T05:14:07.220
> 
> 标签：php, javascript, ajax

我在该行的控制台中不断收到意外的字符错误

```
var a = JSON.parse(xmlhttp.responseText); 
```

我不知道为什么。这可能是我的文本框没有填充解析数据的原因吗？

主页代码：

```
function loadDoc()
{
   var xmlhttp;

   // code for IE7+, Firefox, Chrome, Opera, Safari
   if (window.XMLHttpRequest)
   {
      xmlhttp=new XMLHttpRequest();
   }
   // code for IE6, IE5
   else
   {
      xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
   }

   xmlhttp.onreadystatechange=function()
   {
      if (xmlhttp.readyState==4 && xmlhttp.status==200)
      {
         var doc = window.document.createElement("doc");
         var a = JSON.parse(xmlhttp.responseText);
         document.getElementById("textbox").innerHTML=a.first;
         document.getElementById("textbox2").innerHTML=a.second;
      }
   }

   xmlhttp.open("GET","loadTextBox.php?id=4",true);
   xmlhttp.send();
} 
```

loadTextBox.php 代码：

```
<?php
---Placeholder for correct DB login info---

$result = $mysql->query(---Placeholder for correct SQL query---);

while ($row = $result->fetch_object())
{
   $queryResult[] = $row->present_tense;
}
$textboxValue = $queryResult[0];
$textboxValue2 = $queryResult[2];
echo json_encode(array('first'=>$textboxValue,'second'=>$textboxValue2));
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T05:38:56.247

您的`loadTextBox.php`文件不应包含任何 HTML，因为该`JSON.parse`方法只需要 JSON：

```
<?php 
    header("Content-type: application/json");

    $db_username = placeholder; 
    $db_password = placeholder; 
    $db_host = placeholder; 

    $result = $mysql->query(---Placeholder for correct SQL query---);

    while ($row = $result->fetch_object())
    {
       $queryResult[] = $row->present_tense;
    }
    $textboxValue = $queryResult[0];
    $textboxValue2 = $queryResult[2];
    echo json_encode(array('first'=>$textboxValue,'second'=>$textboxValue2));
?> 
```

如果您的数据库登录信息在一个单独的文件中，那么应该没有 HTML 或 BODY 标记，只有 PHP 标记。

# iphone - 呈现新控制器时取消所有模态转换

> ID：12363134
> 
> 赞同：4
> 
> 时间：2012-09-11T05:14:21.863
> 
> 标签：iphone, ios, crash, modal-dialog, transition

我正在寻找一种方法来取消所有正在进行的模态转换。

我需要在我的应用程序生命周期的任何时候推送一个新的视图控制器，因此我不能依赖*viewDidAppear*委托来开始这个新视图的呈现。

当一个模态转换已经发生并且我尝试（使用动画）推送一个新控制器时，我得到“由于未捕获的异常`NSInternalInconsistencyException', reason: 'Attempting to begin a modal transition from to while a transition is already in progress. Wait for viewDidAppear/viewDidDisappear to know the current transition has completed`崩溃而终止应用程序。

我唯一的选择是在没有动画的情况下推送新控制器，或者找到一种方法来取消所有待处理的模态转换。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:49:05.217

我使用了您建议的方法：

> “推新控制器没有动画”

推送或呈现允许您不使用动画，所以我认为它已经足够好了。至于@Spynet 的建议：

> 更好的是，你只需 addSubView 并做你的动画，你真的不想要模态或推动类似的手段......

你不应该混入`UIViewController's` `UIViews`other(s) `UIViewController('s)`。例如，旋转的逻辑就丢失了。`UIView`也失去了逻辑和行为。如果需要，您可以轻松创建一个`UIViewController`容器并使用它。WWDC 视频中有一个[很棒的视频。](https://developer.apple.com/videos/wwdc/2011/?id=102)

# php - PHP - 如何从 XML 中读取子项的递归子项并正确显示？

> ID：12363137
> 
> 赞同：1
> 
> 时间：2012-09-11T05:14:48.197
> 
> 标签：php, xml, recursion, simplexml, children

我正在连接到一个为我提供用户列表的系统，数据将以“树格式”显示，因此您可以看到父/子关系，它几乎就像一个经销商树..

无法确定如何递归地遍历 XML、检索父 ID 和记录子 ID 记录。问题是一些子 ID 也可以是父 ID。

我也不确定如何从 XML 中直接访问某个 UserID，因为每条记录仅包含属性。

我已将 XML 的示例副本上传到以下 URL： [http ://www.fluffyduck.com.au/sampleXML.txt](http://www.fluffyduck.com.au/sampleXML.txt)

我正在尝试使用 SimpleXML 来做到这一点，但是我无法弄清楚如何遍历孩子的孩子，这几乎看起来像。

任何帮助表示赞赏！因为这让我完全难过。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:51:27.203

这项工作并返回一个包含 147 个 SimpleXMLElement 的数组（可以像数组一样使用）。

```
$content = file_get_contents('http://www.fluffyduck.com.au/sampleXML.txt');
$xml = new SimpleXMLElement($content);
$users = myUserReader($xml->user);

function myUserReader($node)
{
    $users = array ();
    $users[] = $node->attributes();
    foreach ($node as $user)
    {
        $users[] = $user->attributes();
        if (isset($user->user))
        {
            $users = array_merge($users, myUserReader($user->user));
        }
    }
    return $users;
}

// displays 147 children
var_dump($users);

// displays 147
echo count($users); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:29:58.313

```
$xml = new SimpleXMLElement($xml_str);
$user = $xml->user;

while($curr_user = $curr_user->children('user'))
{
    // do some code
    $attr = array(
        $curr_user['id'],
        $curr_user['username'],
        $curr_user['firstname'],
        // ...etc
        );
} 
```

因此，这只是使用和查找子节点的示例。要遍历所有数组，您可以使用像此代码这样的递归函数。

编辑：
很抱歉复制 Ninsuo 代码，但它是完美的:)

```
$content = file_get_contents('http://www.fluffyduck.com.au/sampleXML.txt');
$xml = new SimpleXMLElement($content);
$users = myUserReader($xml->user);

function myUserReader($node,$str)
{
    $users = array ();
    $users[] = $node->attributes();
    foreach ($node as $user)
    {
        $users[] = $user->attributes();
        if (isset($user->user))
        {
            $str .= '<ul>'.$user['fisrt_name'];
            $users = array_merge($users, myUserReader($user->user));
            $str .= '</ul>';
        }
        else $str .= '<li>'.$user['fisrt_name'].'</li>';
    }
    return $users,$str;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T07:56:42.740

要获得一系列父母/孩子，您可以使用：

```
<?php

$content = file_get_contents('http://www.fluffyduck.com.au/sampleXML.txt');
$xml = new SimpleXMLElement($content);

$users = array ();
myUserReader($xml->user, $users);

function myUserReader($node, &$users)
{
    if (array_key_exists("{$node['id']}", $users) === false)
    {
        $users["{$node['id']}"] = array ();
    }
    if (isset($node->user))
    {
        for ($key = 0; ($key < $node->user->count()); $key++)
        {
            $user = $node->user[$key];
            if (!in_array("{$node['id']}", $users["{$node['id']}"]))
            {
                $users["{$node['id']}"][] = "{$user['id']}";
            }
            myUserReader($user, $users);
        }
    }
}

foreach ($users as $parent => $children)
{
    echo "{$parent}: " . implode(", ", $children) . "\n";
}
?> 
```

这将输出：

```
41: 61, 62, 69, 89, 127, 204, 323, 340, 341
61: 
62: 64, 78, 80, 116, 120
64: 66
66: 67
67: 68, 114, 161, 162, 166, 203
68: 70
70: 72, 77, 104, 118, 135, 138, 143, 154, 156, 171, 172, 173, 174
72: 73, 86, 163, 165, 167
73: 75
75: 
86: 92, 103, 108, 112, 117, 119, 121, 124, 125, 137, 144
92: 107, 110, 111, 142
107: 
110: 
111: 
142: 
103: 
108: 
112: 
117: 
119: 
121: 
124: 
125: 
137: 
144: 
163: 
165: 
167: 
77: 79, 113
79: 
113: 
104: 106
106: 
118: 
135: 
138: 
143: 
154: 
156: 
171: 
172: 
173: 
174: 
114: 
161: 
162: 
166: 169, 175, 176, 178, 179, 180, 183, 184, 205, 206
169: 
175: 
176: 
178: 
179: 
180: 
183: 
184: 
205: 
206: 
203: 
78: 136
136: 
80: 101
101: 
116: 122, 126, 129, 130, 131, 133, 139, 140, 141
122: 
126: 
129: 
130: 
131: 
133: 
139: 
140: 
141: 
120: 145, 146, 147, 148, 149, 150, 151, 157, 160, 168
145: 
146: 
147: 
148: 
149: 
150: 152, 153, 155, 159
152: 
153: 
155: 
159: 
151: 
157: 
160: 
168: 
69: 
89: 
127: 
204: 207
207: 208, 209, 210, 211, 212, 227, 254, 300
208: 213, 214, 215, 226, 228, 234, 255, 294, 295, 297, 299, 320
213: 
214: 
215: 
226: 
228: 
234: 
255: 274, 275
274: 
275: 
294: 
295: 
297: 
299: 
320: 
209: 
210: 217, 218, 222
217: 
218: 
222: 
211: 
212: 
227: 
254: 
300: 
323: 
340: 
341: 
```

# javascript - 没有鼠标悬停的jQuery悬停触发

> ID：12363138
> 
> 赞同：3
> 
> 时间：2012-09-11T05:14:53.787
> 
> 标签：javascript, jquery

我有一个 id=message1mark 的元素。以下代码将在页面加载时运行两个警报，而不管鼠标的位置如何。任何帮助，将不胜感激。

```
<script type="text/javascript">
jQuery(document).ready(function(){

jQuery("#message1mark").hover(alert("on"), alert("off"));
}); 
</script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T05:17:21.163

您需要将这些警报包装在函数中：

```
$(document).ready(function(){
    $("#message1mark").hover(function(){alert("on");}, function(){alert("off");});
}); 
```

**工作示例：http: [//jsfiddle.net/eJzKr/](http://jsfiddle.net/eJzKr/)**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T05:17:26.733

您尝试的内容将被解释为

1.  尝试调用一个函数（这就是为什么`alert()`在绑定时执行
2.  并将其结果绑定为处理程序（在这种情况下什么都不是）

* * *

```
 $("#message1mark").hover(function(){

    alert("on")

}, function(){

    alert("off")

});
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T05:23:52.347

我相信 alert() 函数会在每一页上自动触发。因此，即使您尝试使其依赖于悬停功能，它也不在乎。

听起来您想要的基本上是工具提示功能。这些资源中列出的一些技术可能是处理事情的更好方法。

[http://jquery.bassistance.de/tooltip/demo/](http://jquery.bassistance.de/tooltip/demo/)

[http://www.roseindia.net/tutorial/jquery/PopupOnHover.html](http://www.roseindia.net/tutorial/jquery/PopupOnHover.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-11T05:18:59.773

正确的方法是：

```
jQuery("#message1mark").hover(function() {
        alert("on");
    }, 
       function() {
        alert("off")) 
    };
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-11T07:10:03.330

您可以包含在一个函数本身中，而不是编写两个不同的函数。以下是供参考的代码。

```
$(document).ready(function(){
        $("#message1mark").hover(function(){alert("on");alert("off");});
}); 
```

# c# - webresponse 不更新 XML

> ID：12363141
> 
> 赞同：0
> 
> 时间：2012-09-11T05:15:11.047
> 
> 标签：c#, windows-phone-7, httpwebrequest, webresponse

我面临 WebResponse 属性的问题，它没有在我的 Windows phone 7 应用程序中正确更新。

```
 ReceiveData()  // I m calling this Function recursively, With Timer.
   {

        strurl = "http://www.***Mylivedatawebsite.com/api/rates.php";
        webRequest = (HttpWebRequest)WebRequest.Create(strurl);

        webRequest.BeginGetResponse(new AsyncCallback(FinishWebRequest), null);
    }

    FinishWebRequest(IAsyncResult result)    
    {
        WebResponse resp = webRequest.EndGetResponse(result);
        StreamReader objReader = new StreamReader(resp.GetResponseStream());

        XDocument Doc = XDocument.Load(objReader); 
    } 
```

Doc 解析后包含相同的值。请帮帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T05:39:24.687

在 Windows Phone 7 中，通常会缓存 Web 服务响应。您可以在 url 的属性中使用增量方法。这是下面的示例。

```
static int increment= 0;
strurl = "http://www.***Mylivedatawebsite.com/api/rates.php"+ "id =" + (increment++).ToString(); 
```

这样，当 web 服务将看到不同的属性 id 时，它将向服务器发出重新请求。

# ruby - rvm 无法再在 Mac OS X Mountain Lion 上安装 1.8.7-p352

> ID：12363142
> 
> 赞同：14
> 
> 时间：2012-09-11T05:15:11.580
> 
> 标签：ruby, rvm, osx-mountain-lion

我将 rvm 升级到 1.15.8，然后在 zsh 出现一些问题后又降到 1.15.7。降级后，我的 Ruby 1.9+ 版本恢复正常，但 1.8.7 不会再次安装。

发生了两个错误：

```
Error running 'patch -F 25 -p1 -N -f <"/Users/me/.rvm/patches/ruby/1.8.7/stdout-rouge-fix.patch"', please read /Users/me/.rvm/log/ruby-1.8.7-p352/patch.apply.stdout-rouge-fix.log 
```

该文件的内容是：

```
[2012-09-11 01:05:59] patch -F 25 -p1 -N -f <"/Users/me/.rvm/patches/ruby/1.8.7/stdout-rouge-fix.patch"
patching file lib/mkmf.rb
Hunk #1 FAILED at 201.
1 out of 1 hunk FAILED -- saving rejects to file lib/mkmf.rb.rej 
```

和：

```
Error running 'make ', please read /Users/me/.rvm/log/ruby-1.8.7-p352/make.log 
```

运行 make 时出现错误。停止安装。

并且该文件的内容是（仅以错误开头的前几行）：

```
Fail to find [tclConfig.sh, tkConfig.sh]
Use MacOS X Frameworks.

Find Tcl/Tk libraries. Make tcltklib.so which is required by Ruby/Tk.
gcc-4.2 -I. -I../.. -I../../. -I../.././ext/tk -DHAVE_RB_SAFE_LEVEL -DHAVE_RB_HASH_LOOKUP -DHAVE_RB_PROC_NEW -DHAVE_RB_OBJ_TAINT -DHAVE_ST_PTR -DHAVE_ST_LEN -DRUBY_VERSION=\"1.8.7\" -DRUBY_RELEASE_DATE=\"2011-06-30\"  -D_XOPEN_SOURCE -D_DARWIN_C_SOURCE   -DWITH_TCL_ENABLE_THREAD=0 -fno-common -g -O2  -fno-common -pipe -fno-common   -c stubs.c
In file included from stubs.c:10:
/usr/include/tk.h:78:23: error: X11/Xlib.h: No such file or directory
In file included from stubs.c:10:
/usr/include/tk.h:549: error: expected declaration specifiers or ‘...’ before ‘Window’
/usr/include/tk.h:549: error: ‘Window’ declared as function returning a function
/usr/include/tk.h:552: error: expected declaration specifiers or ‘...’ before ‘XEvent’
/usr/include/tk.h:561: error: expected specifier-qualifier-list before ‘Tk_ClassCreateProc’
/usr/include/tk.h:655: error: expected specifier-qualifier-list before ‘Bool’
/usr/include/tk.h:677: error: expected specifier-qualifier-list before ‘Bool’
/usr/include/tk.h:756: error: expected specifier-qualifier-list before ‘Display’
/usr/include/tk.h:902: error: expected declaration specifiers or ‘...’ before ‘XPoint’
/usr/include/tk.h:996: error: expected declaration specifiers or ‘...’ before ‘Display’ 
```

我支持的应用程序之一是 1.8.7。我死在水里。这看起来可能是 Mountain Lion 与 rvm 的问题。谁能指出我正确的方向？

更新：

我通过“重新安装”而不是“安装”来克服第一个错误。即使 1.8.7-p352 不在命令“rvm list rubies”给出的红宝石列表中。

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-09-11T12:02:14.760

ruby 1.8.7 检测 tcl/tk 有问题，解决方法是禁用它：

```
rvm reinstall 1.8.7 --without-tcl --without-tk 
```

需要 tcl/tk 时的其他解决方案：[https ://stackoverflow.com/a/11666019/497756](https://stackoverflow.com/a/11666019/497756)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-11T13:30:06.600

我想我在这里遇到了两个关于 sf 的类似问题。我的主要问题是 Mountain Lion 上的 tcl.h 包含文件（位置：/usr/include/tcl.h 符号链接）无法解析它必须对“X11/Xlib.h”的内部引用。我认为通过自制软件安装 tcl 和 tk 可以通过生成可以解决的 Xlib.h 路径来解决问题。所以我跑了：

```
brew install tcl 
```

和：

```
brew install tk 
```

和：

```
rvm remove 1.8.7-p352
rvm install 1.8.7-p352 
```

它奏效了。但是我认为上面的 Michal 的回答会很有效。这个答案将有助于帮助需要 tcl 和 tk 的人构建它。

# sql - ROW_NUMBER with partition by 返回重复行的结果

> ID：12363149
> 
> 赞同：5
> 
> 时间：2012-09-11T05:15:42.020
> 
> 标签：sql, oracle

当我运行此查询时，我得到更多行，然后在没有 ROW_NUMBER () 行的情况下进行查询：

```
SELECT DISTINCT id, value,  
ROW_NUMBER ()   over (partition by  (id)   ORDER BY  value  desc NULLS LAST  ) max  
FROM TABLE1 
WHERE id like '%1260' ORDER BY id ASC 
```

VS

```
SELECT DISTINCT id, value
FROM TABLE1 
WHERE id like '%1260' ORDER BY id ASC 
```

为什么会发生以及如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T05:19:54.877

可以这样想：如果您有两行具有相同的 id 和值，则第二个查询会为您提供具有不同 id、值对的行。第一个给你两行，一行 row_number() 为 1，另一行 row_number() 为 2。

对于以下数据：

```
ID   VALUE
--   -----
1    XXX
1    XXX 
```

查询 1 将返回

```
ID  VALUE   MAX
--  -----   ---
1   XXX      1
1   XXX      2 
```

查询 2 将返回

```
ID  VALUE
--  -----
1   XXX 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-11T05:20:01.677

行不再相同，因为您添加了行号，因此`DISTINCT`不执行任何操作。避免这种情况的一种方法是在使用*后*`DISTINCT`添加行号。

```
SELECT id, value, ROW_NUMBER ()   over (partition by  (id)   ORDER BY  value  desc NULLS LAST  ) max
FROM (
    SELECT DISTINCT id, value
    FROM TABLE1 
    WHERE id like '%1260'
) AS subquery
ORDER BY id ASC 
```

（我不确定语法是否适合 Oracle，可能需要稍作调整。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T05:26:50.850

如果您使用的是 Oracle 11g R2，请尝试此操作。

```
WITH DistinctRow 
AS
(
     SELECT DISTINCT id, value
     FROM TABLE1 
     WHERE id like '%1260'
)
SELECT id, value,  
       ROW_NUMBER() over (partition by (id) ORDER BY value desc NULLS LAST) max  
FROM DistinctRow 
ORDER BY max ASC 
```

# iphone - Instagram“喜欢”动画iOS

> ID：12363151
> 
> 赞同：2
> 
> 时间：2012-09-11T05:16:03.583
> 
> 标签：iphone, ios, xcode, ios5

当您在我的 iOS 应用程序中双击图片时，我想实现 Instagram 使用的“点赞”动画。这是一个非常漂亮的功能，并且认为它会为我的应用程序增添一点味道。我发布了双击前后的照片。心脏在大约两秒钟内淡入淡出。我想不明白。让我知道！

![前](../Images/57b3b9ce7c5c0f178549036eff9641ac.png)

![后](../Images/09d2c3687397884ffffc753c6c743595.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:32:05.070

好吧，如果你想使用动画方法，你可以使用帧序列来做到这一点。

Toast（就像在 android 中一样）方法也是完美的，为此您可以在此处[查看适用于 iOS 的重复问题 Growl/toast 样式通知库](https://stackoverflow.com/questions/6026273/growl-toast-style-notifications-library-for-ios)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:11:12.680

```
#define LIKED 100 //change as per your requirement
#define UNLIKE 200 //change as per your requirement

- (void) likeUnlike:(UIGestureRecognizer *)sender
{
    [imageViewSub setHidden:NO];

    UIImageView *imageView = (UIImageView *)sender.view;

    if(imageView.tag==LIKED)
    {
        [imageViewSub setImage:[UIImage imageNamed:@"unlike.png"]];
        [imageView setTag:UNLIKE];
    }
    else
    {
        [imageViewSub setImage:[UIImage imageNamed:@"like.png"]];
        [imageView setTag:LIKED];
    }

    //here, your like/unlike update call to server for store selection.

    //set the frame exactly you want or
    //implement some other way to hide `imageViewSub` after like/unlike
    [imageViewSub setFrame:CGRectMake( 110, 180, 100, 100)];
    [UIView beginAnimations:@"anim" context:nil];
    [UIView setAnimationDuration:1.0];
    [imageViewSub setFrame:CGRectMake(200, 200, 0, 0)]; 
    [UIView commitAnimations];
}

//Add below code where you're added/showing your images. There's always two `UIImageView`s one is `main` and other one is `sub`.

[imageViewSub bringSubviewToFront:imageViewMain];

UITapGestureRecognizer *doubleTap = [[UITapGestureRecognizer alloc] init];
[doubleTap setNumberOfTapsRequired:2];
[doubleTap addTarget:self action:@selector(likeUnlike:)];
[imageViewMain addGestureRecognizer:doubleTap];
[doubleTap release]; 
```

PS`imageViewMain`最初会带有标签，并且`UNLIKED`应该被隐藏。`imageViewSub``unlike.png`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:24:38.577

在我的一些项目中，我一直在使用[MBProgressHUD](https://github.com/jdg/MBProgressHUD)。您可以设置标准图像/进度圈，或自定义图像，还可以自定义标签的字体。我很喜欢。如果您将它与 performBlockAfterDelay 一起使用[（选中此类别）](https://gist.github.com/1896002)，它可以为您节省大量时间，让您的生活更轻松。

# ios - 开发者应用程序是自签名的吗？

> ID：12363154
> 
> 赞同：3
> 
> 时间：2012-09-11T05:16:19.790
> 
> 标签：ios, jailbreak

我有一个关于在 iOS 5.1.1 上的 //Applications 文件夹中运行应用程序的问题。首先，我知道这听起来像是一个盗版问题，但事实并非如此。请听我说完。

我有一个使用 Apple 开发者计划为我的企业设计的应用程序。这是一个我不想发布到野外的内部应用程序。在 iPod touch 上测试应用程序后，我能够将 appname.app 目录复制到另一个越狱的 iPod touch。修复权限后，应用程序运行良好。我已经在四个 iPod 上完成了此操作，并且行为是相同的。

好奇的是，我将 iPhone 上的付费应用程序复制到了 iPod touch 上并更改了权限。不过，这一次，它没有启动。我的问题是：这两个应用程序有什么区别？我的应用程序是否可以工作，因为它是自签名的？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-11T07:03:15.927

越狱消除了对应用程序进行正确签名以实际运行的要求。这就是为什么您可以在没有 Apple 的 iOS 开发者计划的情况下将应用程序发布到 Cydia 和其他“商店”。

AppStore 应用程序的签名方式与开发人员的应用程序几乎相同，但它们也有单独的复制保护层，越狱不会删除。

因此，即使证书过期或无效，将开发人员的应用程序（调试和临时构建）复制到越狱设备也可以正常工作。复制生产应用程序根本不起作用。

不，开发者应用程序不是自签名的。自签名意味着在没有受信任的证书颁发机构的情况下使用您自己创建的证书进行签名，因此 iOS 设备不会接受它，因为其系统中没有该证书颁发机构的受信任根证书。开发人员应用程序由您从 Apple 获得的证书签名，这些证书使用`Apple Worldwide Developer Relations Certification Authority`根证书进行签名，该证书在所有 iOS 设备上都存在并受信任。

# java - 警报生成器我错过了什么

> ID：12363157
> 
> 赞同：1
> 
> 时间：2012-09-11T05:17:06.460
> 
> 标签：java, android, android-alertdialog

我正在尝试在单击按钮下的 BaseAdapter 内添加警报生成器。这是我的代码

```
 Button btn=(Button)vi.findViewById(R.id.btnAdd);
 btn.setOnClickListener(new OnClickListener(){

                             AlertDialog.Builder dialogBox=new AlertDialog.Builder(this);
                 dialogBox.setPositiveButton("Yes", new DialogInterface.OnClickListener(){
                       public void onClick(DialogInterface dialog, int which) {
                          String facebookFriendName = friendsName.getText().toString();
                                String FACEBOOKID = FBID;
                               Log.i("AKO SI: ", ""+facebookFriendName + FACEBOOKID);
                       }
                    });
                    dialogBox.setNegativeButton("No", new DialogInterface.OnClickListener(){

                           public void onClick(DialogInterface dialog, int which) {

                           }
                        });
                    dialogBox.show(); 
```

现在我在这部分出现错误**alert_box.show();**

似乎是什么问题？

**根据您的建议和评论进行**编辑我更改了上面的代码并在我的 Activity 上添加了 getter 和 setter****

 **```
private Context context;  
/////////
            public Context getContext() {
        return context;
    }

    public void setContext(Context context) {
        this.context = context;
    } 
```

在我的活动类下绑定

```
 adapter2 =new LazyAdapterGetFriends(this, songsList);   
             adapter2.getContext();    
             list.setAdapter(adapter2); 
```

但我仍然收到一条错误消息：

```
*09-11 13:48:49.298: E/AndroidRuntime(1226):    at com.fb.connect.LazyAdapterGetFriends$1.onClick(LazyAdapterGetFriends.java:95)

*pointing at AlertDialog.Builder dialogBox=new AlertDialog.Builder(context); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:26:13.890

试试这个

```
 Button btn=(Button)vi.findViewById(R.id.btnAdd);
  btn.setOnClickListener(new OnClickListener(){

    public void onClick(View arg0) {
            // TODO Auto-generated method stub

        AlertDialog.Builder ab=new AlertDialog.Builder(MainActivity.this);
        ab.setPositiveButton("Yes", new DialogInterface.OnClickListener(){
           @Override 
           public void onClick(DialogInterface dialog, int which) {
              String facebookFriendName = friendsName.getText().toString();
                    String FACEBOOKID = FBID;
                   Log.i("AKO SI: ", ""+facebookFriendName + FACEBOOKID);
           }
        });
        ab.setNegativeButton("No", new DialogInterface.OnClickListener(){
               @Override 
               public void onClick(DialogInterface dialog, int which) {

               }
            });
        ab.show();                       
    }                
}); 
```

希望帮助

**编辑**

试试[这个。](https://stackoverflow.com/questions/11917003/how-to-show-alertdialog-when-clicking-on-button-in-item-in-list-view/11917023#11917023)

AlertDialogs 只能使用 Activity 上下文创建，因此 getApplicationContext() 将不起作用。相反，将以下全局变量添加到您的 Activity 文件中：

```
Context mContext; 
```

然后将以下内容添加到您的 onCreate() 中：

```
mContext = this; 
```

现在，改变：

```
AlertDialog.Builder builder = new AlertDialog.Builder(getApplicationContext()); 
```

到

```
AlertDialog.Builder builder = new AlertDialog.Builder(mContext); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:19:56.943

**在显示对话框之前，您必须创建一个警报对话框。**

// 创建警报对话框

```
AlertDialog alertDialog = alert_box.create(); 
```

// 展示下

```
alertDialog.show(); 
```

请检查此[链接](http://www.mkyong.com/android/android-alert-dialog-example/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T05:20:26.513

愿这能解决你的问题

```
AlertDialog alertDialog = alertDialogBuilder.create(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-11T05:25:55.607

您的问题在于以下行

```
AlertDialog.Builder alert_box = new AlertDialog.Builder(activity.getApplicationContext()); 
```

而不是使用`activity.getApplicationContext()`您应该使用本地存储的上下文变量。**AlertDialog.Builder**的 getApplicationContext失败。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-11T05:55:04.200

尝试使用以下代码，因为它需要 Activity 上下文而不是 Application 上下文

```
 AlertDialog.Builder alert_box = new AlertDialog.Builder(activity.this); 
```**

# c# - 获取 Excel 行范围的最快方法

> ID：12363163
> 
> 赞同：10
> 
> 时间：2012-09-11T05:17:26.413
> 
> 标签：c#, excel, vsto, office-interop

在 VSTO C# 项目中，我想从一组行索引中获取一系列行。

行索引可以例如像“7,8,9,12,14”。

然后我想要范围“7：9,12,14”行。

我现在这样做：

```
Range rng1 = sheet.get_Range("A7:A9,A12,A14", Type.Missing);
rng1  = rng1.EntireRow; 
```

但由于范围规范中的字符串处理，它有点低效。

```
sheet.Rows["7:9"] 
```

工作，但我不能给这个

```
sheet.Rows["7:9,12,14"] // Fails 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-11T09:58:06.520

试试这个：

```
Sheet.Range("7:9,12:12,14:14") 
```

编辑：抱歉，如果在 C# 中使用 VSTO，它应该是：

```
sheet.get_Range("7:9,12:12,14:14", Type.Missing) 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-12T13:04:39.287

这是您要查找的代码：

```
int startRow, endRow, startCol, endCol, row,col;
var singleData = new object[col];
var data = new object[row,col];
//For populating only a single row with 'n' no. of columns.
var startCell = (Range)worksheet.Cells[startRow, startCol];
startCell.Value2 = singleData;
//For 2d data, with 'n' no. of rows and columns.
var endCell = (Range)worksheet.Cells[endRow, endCol];
var writeRange = worksheet.Range[startCell, endCell];
writeRange.Value2 = data; 
```

您可以拥有整个范围，无论是一维还是二维单元格数组。

在循环遍历整个 Excel 工作表并在需要的地方和时间填充数据时，此方法特别有用。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-11T11:44:16.317

我不是 C# 方面的专家，但 AFAIK 你必须像上面所做的那样使用 EntireRow。您正在寻找的字符串可以从`.Address`属性中获得。例如

```
 private void button1_Click(object sender, EventArgs e)
    {
        Microsoft.Office.Interop.Excel.Application xlexcel;
        Microsoft.Office.Interop.Excel.Workbook xlWorkBook;
        Microsoft.Office.Interop.Excel.Worksheet xlWorkSheet;
        Microsoft.Office.Interop.Excel.Range xlRange;

        object misValue = System.Reflection.Missing.Value;
        xlexcel = new Excel.Application();

        xlWorkBook = xlexcel.Workbooks.Add();

        // Set Sheet 1 as the sheet you want to work with
        xlWorkSheet = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(1);

        xlRange = xlWorkSheet.get_Range("A7:A9,A12,A14", misValue);

        MessageBox.Show(xlRange.EntireRow.Address);

        xlRange = xlWorkSheet.get_Range(xlRange.EntireRow.Address, misValue);

        MessageBox.Show(xlRange.Address);
    } 
```

所以你可以把上面写成

```
 private void button1_Click(object sender, EventArgs e)
    {
        Microsoft.Office.Interop.Excel.Application xlexcel;
        Microsoft.Office.Interop.Excel.Workbook xlWorkBook;
        Microsoft.Office.Interop.Excel.Worksheet xlWorkSheet;
        Microsoft.Office.Interop.Excel.Range xlRange;

        object misValue = System.Reflection.Missing.Value;
        xlexcel = new Excel.Application();

        xlWorkBook = xlexcel.Workbooks.Add();

        // Set Sheet 1 as the sheet you want to work with
        xlWorkSheet = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(1);

        xlRange = xlWorkSheet.get_Range("$7:$9,$12:$12,$14:$14", misValue);

        MessageBox.Show(xlRange.Address);
    } 
```

见部分

```
 xlRange = xlWorkSheet.get_Range("$7:$9,$12:$12,$14:$14", misValue); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-10-23T17:31:35.640

[Reafidy 编辑过的答案是一个很好的开始](https://stackoverflow.com/a/12367179/3626160)，但我想扩展它而不是发表评论。`sheet.get_Range(rangeselect)`比逐行进行要快得多，但我还没有看到提到的一件事是**get_Range 参数有 255 个字符的限制。**

为了解决这个限制，像往常一样构造一组范围，如“8:8,10:13,14:55”，然后使用以下代码的变体：

```
string rangeSelectPart;
while (rangeSelect.Length >= 255)
{
    rangeSelectPart = rangeSelect.Substring(0, rangeSelect.Substring(0,255).LastIndexOf(','));
    Range multiRangePart = sheet.get_Range(rangeSelectPart, Type.Missing);

    //do something with the range here using multiRangePart 

    rangeSelect= rangeSelect.Substring(rangeSelectPart.Length + 1);
}
Range multiRange = sheet.get_Range(rangeSelect, Type.Missing);
// do the same something with the last part of the range using multiRange 
// now that the remaining rows are described in less than 255 characters 
```

这将比对单个行执行操作要快得多，但在呈现大型非连续行集时也不会失败。

* * *

请注意，[SutharMonil 的答案是](https://stackoverflow.com/a/12388844/3626160)在连续矩形范围内更快地设置 IFF 值。从 C# 到 excel 的瓶颈通常是通过 COM 对象的重复调用，这些对象在创建和更新时阻塞，他的回答很好地整合了调用。

不幸的是，到目前为止，在我的测试中，尝试使用它来处理非字符串类型的非字符串属性会导致类型错误。例如：

```
object[,] colors;
//use C# to set appropriate colors to each location in array...
for(int i = 0; i < colors.get_Length(0); i++){
    for(int j = 0; j < colors.get_Length(1); j++){
        colors[i,j] = XlThemeColor.xlThemeColorAccent6;
    }
}

//below causes a type error
formatRange.Interior.ThemeColor = color; 
```

如果我让它工作，我会尽量记住更新。

* * *

最后为重复操作设置 `Globals.ThisAddIn.Application.ScreenUpdating = false;`，然后在完成后将其设置为 true。如果没有这个，Excel 会在每组范围属性更新后停止更新屏幕，这会增加操作的大量时间。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-03-12T11:42:09.323

此代码根据条件为范围单元格分配颜色：

```
using Microsoft.Office.Interop.Excel;

(...)

var excel = new Application { Visible = true };
Workbook workbook = excel.Workbooks.Add(XlSheetType.xlWorksheet);
Worksheet sheet = workbook.Sheets[1];

var i = 2;
foreach (Data d in this.Datos)
{
    sheet.Cells[i, 1].Value = d.Fecha;
    sheet.Cells[i, 2].Value = d.Ubicacion;
    sheet.Cells[i, 3].Value = d.Lote;
    sheet.Cells[i, 4].Value = d.ArticuloId;
    sheet.Cells[i, 5].Value = d.Articulo;
    sheet.Cells[i, 6].Value = d.ColorId;
    sheet.Cells[i, 7].Value = d.Color;
    sheet.Cells[i, 8].Value = d.StockOriginal;
    sheet.Cells[i, 9].Value = d.Diferencia;
    sheet.Cells[i, 10].Value = d.StockFinal;
    if (d.BackGroundColor == "#FFA061")
        sheet.Range[sheet.Cells[i, 1], sheet.Cells[i, 10]].Interior.Color = System.Drawing.ColorTranslator.ToOle(System.Drawing.Color.FromArgb(255, 160, 97));
    i++;
}
```

# javascript - Mouseenter 不能在带有 YUI 的 chrome 中工作

> ID：12363164
> 
> 赞同：1
> 
> 时间：2012-09-11T05:17:30.693
> 
> 标签：javascript, google-chrome, yui, mouseenter

```
 YAHOO.util.Event.on("divName", "mouseenter", function (e) {    } 
```

此代码适用于除 chrome 之外的所有浏览器。YUI 2.x for chrome 有什么问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:17:30.693

作为替代方案，当我使用以下代码时，它适用于所有浏览器。

```
document.getElementById("divName").onmouseover = function() {
      // code to run when the user hovers over the div

    }; 
```

# java - docx4j：“没有合适的 JAXB 实现可用”运行时错误 Java 1.5

> ID：12363169
> 
> 赞同：1
> 
> 时间：2012-09-11T05:18:11.780
> 
> 标签：java, jaxb, docx4j

我正在使用 docx4j 来解析 docx 文件。[我从 docx4j 站点docx4j downloads](http://www.docx4java.org/downloads.html)下载了所有 JAR 。

当我在代码中使用它时，它会在代码的第一行给出运行时错误：-

```
WordprocessingMLPackage template = WordprocessingMLPackage.load(new FileInputStream(new File("Global_OPO_Profile_EN.docx"))); 
```

例外是：

```
INFO org.docx4j.utils.Log4jConfigurator .configure line 45 - Since your log4j configuration (if any) was not found, docx4j has configured log4j automatically.
ERROR org.docx4j.jaxb.Context .<clinit> line 64 - PANIC! No suitable JAXB implementation available
javax.xml.bind.JAXBException: Unable to locate jaxb.properties for package org.docx4j.relationships
    at javax.xml.bind.ContextFinder.searchcontextPath(ContextFinder.java:205)
    at javax.xml.bind.ContextFinder.find(ContextFinder.java:149)
    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:281)
    at org.docx4j.jaxb.NamespacePrefixMapperUtils.getPrefixMapper(NamespacePrefixMapperUtils.java:47)
    at org.docx4j.jaxb.Context.<clinit>(Context.java:56)
    at org.docx4j.openpackaging.contenttype.ContentTypeManager.parseContentTypesFile(ContentTypeManager.java:658)
    at org.docx4j.openpackaging.io.LoadFromZipNG.process(LoadFromZipNG.java:206)
    at org.docx4j.openpackaging.io.LoadFromZipNG.get(LoadFromZipNG.java:193)
    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:301)
    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:245)
    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:195)
    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:178)
    at org.docx4j.openpackaging.packages.WordprocessingMLPackage.load(WordprocessingMLPackage.java:172)
    at com.atos.docx4jtest.Docx4iTest.main(Docx4iTest.java:15)
INFO org.docx4j.jaxb.Context .<clinit> line 76 - loading Context jc
ERROR org.docx4j.jaxb.Context .<clinit> line 102 - Cannot initialize context
javax.xml.bind.JAXBException: Unable to locate jaxb.properties for package org.docx4j.wml
    at javax.xml.bind.ContextFinder.searchcontextPath(ContextFinder.java:205)
    at javax.xml.bind.ContextFinder.find(ContextFinder.java:149)
    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:281)
    at org.docx4j.jaxb.Context.<clinit>(Context.java:77)
    at org.docx4j.openpackaging.contenttype.ContentTypeManager.parseContentTypesFile(ContentTypeManager.java:658)
    at org.docx4j.openpackaging.io.LoadFromZipNG.process(LoadFromZipNG.java:206)
    at org.docx4j.openpackaging.io.LoadFromZipNG.get(LoadFromZipNG.java:193)
    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:301)
    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:245)
    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:195)
    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:178)
    at org.docx4j.openpackaging.packages.WordprocessingMLPackage.load(WordprocessingMLPackage.java:172)
    at com.atos.docx4jtest.Docx4iTest.main(Docx4iTest.java:15)
ERROR org.docx4j.openpackaging.contenttype.ContentTypeManager .parseContentTypesFile line 690 - java.lang.NullPointerException
org.docx4j.openpackaging.exceptions.InvalidFormatException: Bad [Content_Types].xml
    at org.docx4j.openpackaging.contenttype.ContentTypeManager.parseContentTypesFile(ContentTypeManager.java:691)
    at org.docx4j.openpackaging.io.LoadFromZipNG.process(LoadFromZipNG.java:206)
    at org.docx4j.openpackaging.io.LoadFromZipNG.get(LoadFromZipNG.java:193)
    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:301)
    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:245)
    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:195)
    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:178)
    at org.docx4j.openpackaging.packages.WordprocessingMLPackage.load(WordprocessingMLPackage.java:172)
    at com.atos.docx4jtest.Docx4iTest.main(Docx4iTest.java:15)
Caused by: java.lang.NullPointerException
    at org.docx4j.openpackaging.contenttype.ContentTypeManager.parseContentTypesFile(ContentTypeManager.java:658)
    ... 8 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T05:37:13.880

Java 1.5 does not include JAXB, so you need to download the JAXB reference implementation, and add it to your class path.

# java - 从以前的活动中解析值并显示在android中的当前活动微调器字段上

> ID：12363171
> 
> 赞同：1
> 
> 时间：2012-09-11T05:18:34.673
> 
> 标签：java, android, android-spinner

我开发了一个应用程序。在这里我必须将值从一个活动解析到下一个活动。解析值显示在 textview 上表示成功显示。但解析值显示在微调器上意味着该值未显示在此应用程序中。

这是我的代码：

```
public class InsertionExample extends Activity {
private final String NAMESPACE = "http://xcart.com";
private final String URL = "http://192.168.1.168:8089/XcartLogin/services/update?wsdl";

private final String SOAP_ACTION = "http://xcart.com/insertData";
private final String METHOD_NAME = "insertData";
Button btninsert;
String selectedItem;

static final String KEY_NAME = "orderid";
static final String KEY_STATUS = "status";
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.change_status);
    TextView tv = (TextView) findViewById(R.id.textView1);
    tv.setText(getIntent().getExtras().getString("status"));

    Spinner spinner = (Spinner) findViewById(R.id.spinner1);
    btninsert = (Button)findViewById(R.id.btn_insert1);
    btninsert.setOnClickListener(new View.OnClickListener() {
        public void onClick(View v) {
             Intent in = getIntent();
             String orderid = in.getStringExtra(KEY_NAME);
             String status = in.getStringExtra(KEY_STATUS);

            SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
            PropertyInfo unameProp =new PropertyInfo();
            unameProp.setName("Status");//Define the variable name in the web service method
            unameProp.setValue(selectedItem);//Define value for fname variable
            unameProp.setType(String.class);//Define the type of the variable

            request.addProperty(unameProp);
            PropertyInfo idProp =new PropertyInfo();
            idProp.setName("Orderid");//Define the variable name in the web service method
            idProp.setValue(orderid);//Define value for fname variable
            idProp.setType(String.class);//Define the type of the variable
            request.addProperty(idProp);

              SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
              envelope.setOutputSoapObject(request);
              HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

              try{
               androidHttpTransport.call(SOAP_ACTION, envelope);
                  SoapPrimitive response = (SoapPrimitive)envelope.getResponse();

                 TextView result = (TextView) findViewById(R.id.textView2);
                  result.setText(response.toString());
             }
           catch(Exception e){

           }
              }
    });

    //attach the listener to the spinner
    spinner.setOnItemSelectedListener(new MyOnItemSelectedListener());
    //Dynamically generate a spinner data 
    createSpinnerDropDown();

}

//Add animals into spinner dynamically
private void createSpinnerDropDown() {

    //get reference to the spinner from the XML layout
    Spinner spinner = (Spinner) findViewById(R.id.spinner1);

    //Array list of animals to display in the spinner
    List<String> list = new ArrayList<String>();

    list.add("Q");
    list.add("P");
    list.add("F");
    list.add("I");
    list.add("C");

    //create an ArrayAdaptar from the String Array
    ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
            android.R.layout.simple_spinner_item, list);
    //set the view for the Drop down list
    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
    //set the ArrayAdapter to the spinner
    spinner.setAdapter(adapter);
    adapter.notifyDataSetChanged();
    //attach the listener to the spinner
    spinner.setOnItemSelectedListener(new MyOnItemSelectedListener());

}

public class MyOnItemSelectedListener implements OnItemSelectedListener {

    public void onItemSelected(AdapterView<?> parent, View view, int pos, long id) {

         selectedItem = parent.getItemAtPosition(pos).toString();

       }

    @Override
    public void onNothingSelected(AdapterView<?> arg0) {
        // TODO Auto-generated method stub

    }

    }

    public void onNothingSelected(AdapterView<?> parent) {
        // Do nothing.
    }
} 
```

这里的状态是从以前的活动中解析出来的，并使用 TextView 显示在当前活动上意味着它运行良好......但我希望需要在 spinner 上显示解析的值。我该如何管理上面的代码。请帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:47:54.390

您必须维护下拉列表。如果解析的值是新项目，则必须添加到列表中并通知适配器。如果解析的值是现有值，您可以在列表中找到项目位置并设置微调器选定项目位置。

```
// to set the spinner selected item
spinner.setSelection(position); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:34:04.530

试试这个：

```
Spinner.setOnTouchListener(new OnTouchListener() {
        public boolean onTouch(View v, MotionEvent event) {
Spinner.setAdapter(new ArrayAdapter<String>(InsertionExample.this, android.R.layout.simple_spinner_item,list);;
}}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T05:03:08.163

嗨，我使用了下面的代码。它对我有用。

```
 Intent in = getIntent();
    String status = in.getStringExtra(KEY_STATUS);

    //Array list of animals to display in the spinner
    List<String> list = new ArrayList<String>();
    list.add(status); 
```

是的，我必须在列表中添加状态。

# css - 如何在 Webkit 中使用 CSS3 过渡和垂直滚动条避免无限循环？

> ID：12363172
> 
> 赞同：2
> 
> 时间：2012-09-11T05:18:40.143
> 
> 标签：css, webkit, responsive-design, media-queries, css-transitions

**背景：**

我正在尝试使用媒体查询和 CSS3 过渡在我的网站的各种演示文稿之间平滑过渡。到目前为止，一切似乎都很糟糕，但是，我在包含垂直滚动条的演示文稿和**不****包含垂直滚动条**的演示文稿之间转换时遇到了障碍。我认为使用媒体查询来改变网站宽度是很常见的，所以当 Stack 上没有关于此的任何消息时，我感到很惊讶。

 ****问题**

当转换导致垂直滚动条的存在或不存在发生变化时，Webkit 浏览器似乎进入了无限循环/闪烁。***[这是该行为的演示](http://jsfiddle.net/nsUbc/embedded/result/)***。要触发它，只需在 Chrome 或 Safari PC 中将窗口的大小慢慢调整到 700px 宽标记附近。

**问题/我尝试过的**

我想知道 Webkit 的解决方法是什么？Firefox 没有问题。我已经尝试过消除缓和并更快地过渡（不是首选）。我意识到我可以简单地移除垂直过渡并简单地过渡宽度，但是，对我的设计来说，同时过渡高度和宽度是很重要的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:32:48.150

我认为最简单的解决方案是强制滚动条始终存在。最简单的方法是使用这个小片段：

```
html {
    overflow-y: scroll; 
} 
```

这是添加了上述代码段的示例：http: [//jsfiddle.net/joshnh/8XW4v/show](http://jsfiddle.net/joshnh/8XW4v/show)

我不确定这是否是一个 webkit 错误，因为如果你仔细想想，这是预期的行为（这很奇怪，Firefox 做了一件聪明的事来确保它不会发生）。基本上，当媒体查询开始时，元素会缩小，父元素不再需要滚动条。这样做的问题是，一旦滚动条消失，媒体查询就不再相关，因为现在可用的额外像素很少。所以对象再次增长，父级带回滚动条，再次启动媒体查询，等等......**

# delphi - 在结构窗格中选择时将控件置于最前面

> ID：12363176
> 
> 赞同：1
> 
> 时间：2012-09-11T05:19:04.000
> 
> 标签：delphi

我想构建一个向导组件，我可以在其中引导用户浏览不同的页面。当到达最后一页时，执行一个动作。该组件的工作方式应该与 类似`TPageControl`，我可以在设计时创建工作表。创建“工作表”已经完成，但我的问题是，最后添加的工作表总是在其他工作表之上，我不能再选择另一个工作表（在后面）。在`TPageControl`组件中，我可以在结构窗格中选择一个工作表，它来到最前面，我可以在哪里放置控件。

这是我的问题：如何将控件（我的向导表）放在前面，当它在结构窗格中被选中时？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T07:09:27.247

我必须覆盖该`TWinControl.ShowControl`功能。当您单击子控件上的结构窗格时，将触发该函数。然后，我只需要调用`BringToFront`那个孩子的函数。

# ruby - 无效的多字节字符（UTF-8）

> ID：12363177
> 
> 赞同：0
> 
> 时间：2012-09-11T05:19:06.093
> 
> 标签：ruby, character-encoding, jruby

我正在尝试使用选项编译此 Ruby 代码`--1.9`：

```
\# encoding: utf-8                        
module Modd               
  def cpd          
    #"_¦+?" mySQL         
    "ñ,B˜"        
  end    
end 
```

我使用 GVim 编辑器并编译然后得到以下错误：

```
SyntaxError: f3.rb:6: invalid multibyte char (UTF-8) 
```

之后，我使用 Notepad++ 并更改为`Encode as UTF-8`并使用此选项进行编译：

```
jruby --1.9 f3.rb 
```

然后我得到：

```
SyntaxError: f3.rb:1: \273Invalid char `\273' ('╗') in expression 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T07:58:54.980

我已经看到当[BOM](http://www.unicode.org/faq//utf_bom.html#BOM)在字符集转换过程中出现混乱时会发生这种情况（八进制的 BOM 是`357 273 277`）。如果您使用十六进制编辑器 ( `:%!xxd`on `vi`) 打开文件，您很可能会在文件开头看到字符，在第一个`#`.

如果您直接在 utf-8 中重新创建该文件，或者摆脱这些虚假字符，这应该可以解决您的问题。

# matlab - 查找范围内的值：Matlab

> ID：12363181
> 
> 赞同：2
> 
> 时间：2012-09-11T05:19:34.890
> 
> 标签：matlab

我有一个矩阵 A = [1 2 -3; 4 5 -2]。现在不使用 for 循环，我想以这样一种方式过滤数组，以便任何小于 0 的值都将返回 0。因此，输出矩阵将为 RES = [1 2 0; 4 5 0]。

任何解决问题的链接/示例代码将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T05:41:16.327

```
RES = A;
RES(RES<0)=0 
```

`RES<0`产生一个逻辑数组，在这种情况下`[false false true; false false true]`. 然后符号`RES(RES<0)=`允许您将所有值设置为某个值的真实值。

这是一个非常典型且有用的 Matlab 习语。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T13:27:59.380

如其他人所示，有几种方法可以做到这一点。您需要欣赏的是您拥有的选择，因为有时一种或另一种解决方案将是最好的。所以试试这个：

```
RES = max(A,0); 
```

结果中的每个元素取 0 或 A(i) 中的较大者。一件好事是这个解决方案只需要一行，因为您不需要预先分配结果。

# android - 适用于 Android 的更小/定制的通话拨号盘（三星 S3）

> ID：12363190
> 
> 赞同：1
> 
> 时间：2012-09-11T05:20:21.347
> 
> 标签：android, security, galaxy, keypad

前言：我从一部带有小键盘的旧翻盖手机搬到了 S3，我可以用它轻松地输入电话银行密码之类的东西，一边打字一边用另一只手遮住。

对于S3智能手机，拨号盘很大，很难用另一只手遮挡，所需的手指动作太大，太容易观察到。

问题：有没有办法：（A）通过任何方式，甚至是屏幕缩放器或分割器，缩小 S3 使用的“通话中”拨号盘的大小，或者（B）使用自定义拨号器实现类似的目的?

如果我将手机旋转到横向模式，最初我确实会得到一个大小合适、更小的拨号器，但是一旦我进入通话（比如语音信箱），它就会跳回纵向模式和普通拨号器。从我已经对自定义拨号器进行的研究来看，一旦通话开始，它们似乎就不起作用了，所以我不太抱有希望。

唯一的解决方案是让手机根深蒂固并破解它吗？（显然，如果你知道自己在做什么，任何事情都可以用有根电话完成。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T07:03:50.920

除非手机提供这样的设置，否则不会。通常，您不能更改/影响除您自己的应用程序以外的应用程序，唯一正确的方法是纠正自定义拨号程序并替换系统拨号程序。一种稍微简单的方法可能是将拨号键盘图像替换为具有较小字体的自定义图像等，然后重新打包应用程序，但这不会改变整体布局。

好多了：不要使用电话银行，使用他们的网站、智能手机应用程序等（如果可用，如果没有，请让他们创建一个:)

# jquery - 如何在移动网站中嵌入外部内容？

> ID：12363192
> 
> 赞同：1
> 
> 时间：2012-09-11T05:20:44.713
> 
> 标签：jquery, html, jquery-mobile, html5-video

我正在开发一个移动应用程序，我想在我的移动网页中使用其他网站。但是我无法控制 iframe，因为它会自动增加其宽度和高度。

如何控制 iframe 或者是否有任何替代解决方案可以在我的移动网页中包含其他网站？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:11:32.827

iFrame 支持以下**JS 属性**，

1.  对齐
2.  内容文件
3.  内容窗口
4.  框架边框
5.  高度
6.  长描述
7.  边距高度
8.  边距宽度
9.  姓名
10.  不调整大小
11.  滚动
12.  源代码
13.  宽度

您可以通过 JS 设置这些值。要设置固定的高度和宽度，CSS 就足够了。

**检查此链接**

[http://www.w3schools.com/jsref/dom_obj_frame.asp](http://www.w3schools.com/jsref/dom_obj_frame.asp)

# authentication - 在 glassfish 中启动服务器时禁用身份验证

> ID：12363203
> 
> 赞同：0
> 
> 时间：2012-09-11T05:21:38.443
> 
> 标签：authentication, glassfish, solaris

在**solaris**中启动*sunglassfish v2.1.1*中的域时，系统提示输入管理员用户名、管理员用户密码和主密码。

 **有没有办法禁用提示并启动？

TIA Banu glassfish 用户

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T20:25:16.837

主密码是 glassfish/domains/domainX/config/ 中密钥库的密码

**将主密码存储在文件中**（gf docs 建议不要这样做，我认为它们意味着生产机器）：[http ://docs.oracle.com/cd/E19879-01/820-4332/6nfq988p5/index.html](http://docs.oracle.com/cd/E19879-01/820-4332/6nfq988p5/index.html)

```
glassfish/bin/asadmin change-master-password --domain-dir domain1 --savemasterpassword=true 
```

**将管理员密码存储在文件中： http:** [//docs.oracle.com/cd/E19879-01/820-4332/6nfq988uv/index.html](http://docs.oracle.com/cd/E19879-01/820-4332/6nfq988uv/index.html)

```
glassfish/bin/asadmin login --host localhost --port 4848 
```

另请查看为生产机器创建密码别名：http: [//docs.oracle.com/cd/E19879-01/820-4332/6nfq988qe/index.html](http://docs.oracle.com/cd/E19879-01/820-4332/6nfq988qe/index.html)

```
glassfish/bin/create-password-alias --interactive=true --host=localhost --port 4848 --user admin --passwordfile .asadmin_password 
```

对于生产机器，保护您存储密码的目录（即您登录的用户主目录）。**

# plone - plone.app.iterate 中的@@iterate_diff 视图是否适用于 plone.app.stagingbehavior？

> ID：12363205
> 
> 赞同：2
> 
> 时间：2012-09-11T05:21:52.020
> 
> 标签：plone, dexterity

我有一个使用[灵巧](http://plone.org/products/dexterity/)和[plone.app.stagingbehavior](https://github.com/plone/plone.app.stagingbehavior)安装的自定义类型。我可以签入并签出我的自定义类型，但尝试查看差异会导致堆栈跟踪，因为[plone.app.iterate.browser.diff.DiffView](https://github.com/plone/plone.app.iterate/blob/master/plone/app/iterate/browser/diff.py)似乎不知道如何获取基线和工作副本版本使用灵巧/粘贴行为制作的对象。

我确实尝试覆盖 DiffView 并将其更改为使用来自[plone.app.stagingbehavior.utils](https://github.com/plone/plone.app.stagingbehavior/blob/master/plone/app/stagingbehavior/utils.py)的 get_baseline 和 get_working_copy ，但差异视图仍然不起作用（有一个不同的例外，Products.Archetypes 中的一万级深，所以我假设它不太可能工作）。在这一点上，也许collective.dexteritydiff 会有所帮助。

这有点令人困惑，因为 Pastagingbehavior 在其[plone.app.iterate.checkout_info](https://github.com/plone/plone.app.stagingbehavior/blob/master/plone/app/stagingbehavior/browser/info_baseline.pt) portlet 版本中包含指向 @@iterate_diff 的链接，这让我认为它可以正常工作，也许我的设置已损坏或我做错了什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-28T09:08:59.677

问题是由于`plone.app.iterate.browser.diff.DiffView`尚未与 Dexterity 兼容。diff-view 调用`context.getReferences`会在灵巧对象上引发 AttributeError。由于这发生在一个`__init__`方法中，所以追溯被吞没了。它应该使用`__call__`和代码来获取引用`plone.app.stagingbehavior.utils`。

# service - 预编译的applescript服务？

> ID：12363206
> 
> 赞同：0
> 
> 时间：2012-09-11T05:21:54.140
> 
> 标签：service, applescript, finder

我为运行 AppleScript 的 finder 创建了一个自动化服务。我将不得不经常使用这项服务。我注意到在运行该服务后，在我收到来自脚本的任何弹出窗口之前有一个非常大的（大约十秒）延迟。这太长了。我几乎肯定这种延迟来自每次运行时都会编译我的脚本的自动机......

所以，我有一个问题——有没有办法预编译一个applescript，然后将该applescript 安装为finder 服务？通过 automator 是我能想到的将脚本安装为服务的最简单方法，但如果有更好的方法 - 特别是**预编译**我的 applescript 的方法，那就太好了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T14:48:33.157

我不确定这是否是“编译”问题。我有时也会看到很长的延迟，即使是编译好的脚本也是如此。Automator 操作由“automator runner”应用程序运行，applescripts 由“applescript runner”应用程序运行（除非它们被创建为独立应用程序）。我有时会注意到，在第一次启动期间它需要额外的时间，但在随后的启动中它的运行速度更快......也许是因为运行器应用程序在后续运行期间启动并运行。所以我更有可能相信它是运行器应用程序中的东西，而不是脚本本身。

但是，如果您愿意，您可以运行“已编译”脚本。只需将脚本创建为单独的文件。然后在你的自动化操作的applescript部分使用这个......

```
run script file "path:to:script.scpt". 
```

话虽如此，您甚至可以将applescript创建为应用程序，然后从automator运行它......

```
tell application "MyApplescript" to activate 
```

也许其中一种解决方案会帮助您加快速度。如果您确实实现了加速，请告诉我们。

# c++ - C++ - 传递给线程的数据应该是易失性的吗？

> ID：12363211
> 
> 赞同：5
> 
> 时间：2012-09-11T05:22:30.643
> 
> 标签：c++, visual-c++, thread-safety, volatile

在 Microsoft Visual C++ 中，我可以调用 CreateThread() 来通过一个`void *`参数启动一个函数来创建一个线程。我将一个指向结构的指针作为该参数传递，我看到很多其他人也这样做。

我的问题是，如果我传递一个指向我的结构的指针，我怎么知道结构成员在调用 CreateThread() 之前是否已经实际写入内存？有没有保证它们不会被缓存？例如：

```
struct bigapple { string color; int count; } apple;
apple.count = 1;
apple.color = "red";
hThread = CreateThread( NULL, 0, myfunction, &apple, 0, NULL );

DWORD WINAPI myfunction( void *param )
{
    struct bigapple *myapple = (struct bigapple *)param;

    // how do I know that apple's struct was actually written to memory before CreateThread?
    cout << "Apple count: " << myapple->count << endl; 
} 
```

今天下午，当我阅读时，我在这个网站上看到了很多 Windows 代码以及其他将非易失性数据传递给线程的代码，并且似乎没有任何内存障碍或其他任何东西。我知道 C++ 或至少旧版本不是“线程感知”的，所以我想知道是否还有其他原因。我的猜测是编译器看到我在调用 CreateThread() 时传递了一个指针 &apple，所以它知道在调用之前写出成员`apple`。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-11T07:16:06.483

不。相关的 Win32 线程函数都负责必要的内存屏障。之前的所有写入`CreateThread`对新线程都是可见的。显然，新创建的线程中的读取不能在调用之前重新排序`CreateThread`。

`volatile`不会在编译器上添加任何额外有用的约束，只会减慢代码速度。不过，在实践中，与创建新线程的成本相比，这并不明显。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-11T06:36:43.443

不，不应该`volatile`。同时，您指出了有效的问题。缓存的详细操作在 Intel/ARM/etc 论文中有描述。

不过，您可以放心地假设数据**将**被写入。否则会破坏太多东西。几十年的经验告诉我们确实如此。

如果线程调度程序将在同一个内核上启动线程，则缓存状态良好，否则，内核将刷新缓存。否则，什么都行不通。

永远不要`volatile`用于线程之间的交互。它是关于如何仅在线程内处理数据的指令（使用寄存器副本或始终重新读取等）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T05:41:34.127

首先，我认为优化器不能以牺牲正确性为代价来改变顺序。CreateThread() 是一个函数，函数调用的参数binidng 发生*在*调用之前。

其次，*volatile*对于您想要的目的不是很有帮助。[看看这篇文章](http://www.drdobbs.com/parallel/volatile-vs-volatile/212701484)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-11T06:50:23.277

你正在努力解决一个非问题，并且正在创造至少另外两个......

1.  不要担心给 CreateThread 的参数：如果它们在创建线程时存在，它们会一直存在，直到 CreateThread 返回。而且由于创建它们的线程不会破坏它们，因此它们也可用于其他线程。
2.  现在的问题变成了它们将被销毁的对象和时间：您使用它们创建它们，`new`因此它们将一直存在，直到`delete`调用 a （或直到进程终止：良好的内存泄漏！）
3.  该进程在其主线程终止时终止（并且所有其他线程也将被操作系统终止！）。您的 main 中没有任何内容可以等待其他线程完成。
4.  使用低级 API 时要小心，比如`CreateThread`表单语言，它们有自己的库也与线程接口。C 运行时具有`_beginthreadex`. 它还为您将错过的 C++ 库调用`CreateThread`并执行其他初始化任务。如果没有这些初始化，某些 C（和 C++）库函数可能无法正常工作，这也是在终止时正确释放运行时资源所必需的。Unsing`CreateThread`就像在用于清理`malloc`的上下文中使用。`delete`

正确的主线程行为应该是

```
// create the data
// create the other thread
// // perform othe task
// wait for the oter thread to terminate
// destroy the data 
```

win32 API 文档没有说清楚的是 every `HANDLE`is *waitable*，并在释放关联资源时发出信号。要等待其他线程终止，您的主线程只需调用

```
WaitForSingleObject(hthread,INFINITE); 
```

所以主线程会更合适：

```
{
    data* pdata = new data;
    HANDLE hthread = (HANDLE)_beginthreadex(0,0,yourprocedure, pdata,0,0);
    WaitForSingleObject(htread,INFINITE);
    delete pdata;
} 
```

甚至

```
{
    data d;
    HANDLE hthread = (HANDLE)_beginthreadex(0,0,yourprocedure, &d,0,0);
    WaitForSingleObject(htread,INFINITE);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-11T07:37:02.213

我认为这个问题在另一种情况下是有效的。正如其他人指出的那样，使用结构并且内容是安全的（尽管对数据的访问应该是同步的）。

但是，我认为如果您有一个可以在线程外更改的原子变量（或指向一个的指针），那么这个问题是有效的。在这种情况下，我的意见是在这种情况下应该使用 volatile 。

**编辑：** 我认为 wiki 页面上的示例是一个很好的解释[http://en.wikipedia.org/wiki/Volatile_variable](http://en.wikipedia.org/wiki/Volatile_variable)

# c# - 如何向ffmpeg提供登录用户名和密码？

> ID：12363214
> 
> 赞同：0
> 
> 时间：2012-09-11T05:22:39.387
> 
> 标签：c#, asp.net, ffmpeg

如何向 ffmpeg 提供用户名和密码以使其能够将数据写入 ftp 服务器中的某个文件夹？该文件夹受密码保护，如果可能的话，我不想删除该密码。那么，我可以简单地将密码传递给ffmpeg吗？还是有其他解决方案？

从视频文件创建缩略图的 ffmpeg 进程示例

```
string thumbpath, thumbname, videofile;
videofile = "Video Source path";
thumbpath = "thumbnail path";
thumbname = thumbpath + "20120910160600.mjpeg";

string thumbargs = "-i \"" + videofile + "\" -vframes 1 -s 60*30 -ss 00:00:00 -f image2 \"" + thumbname + "\"";

Process process = new Process();

process.StartInfo.FileName = Server.MapPath("~\\ffmpeg\\bin\\ffmpeg.exe");
process.StartInfo.Arguments = thumbargs;

process.StartInfo.UseShellExecute = false;
process.StartInfo.RedirectStandardOutput = true;
process.StartInfo.RedirectStandardInput = false;
process.StartInfo.RedirectStandardError = true;
process.StartInfo.CreateNoWindow = false;
process.StartInfo.WindowStyle = ProcessWindowStyle.Hidden; 
```

新手，请指导我......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T17:21:42.973

如果您可以对要让 ffmpeg 写入的文件夹设置权限，则可以设置运行 ASP.NET 进程的帐户以具有写入权限。您可以通过配置应用程序池或[使用模拟](http://support.microsoft.com/kb/306158)来控制在哪个帐户下运行 ASP.NET 。这是最简单的方法。

应用程序级别的模拟是通过将其放入 web.config 来完成的：

```
<identity impersonate="true" userName="accountname" password="password" /> 
```

这将导致 Web 应用程序始终以提供的用户身份运行。

如果要加强安全性，可以只让运行 ffmpeg 的进程在具有写入权限的用户下运行。您可以使用代码级模拟来实现这一点（如上面的模拟链接中所述）。

无论采用何种方法，ffmpeg 都不需要知道它以哪个用户身份运行。

# c++ - 发送鼠标点击消息

> ID：12363215
> 
> 赞同：7
> 
> 时间：2012-09-11T05:22:42.747
> 
> 标签：c++, visual-c++

我们如何在不移动鼠标的情况下在某个位置制作鼠标点击事件（我的意思是让计算机认为一个位置是用鼠标点击的）用 C++

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-11T05:42:00.803

Windows API 中的`SendInput`函数将帮助您入门。请查看以下链接以了解该方法的定义、其输入参数和返回值： http:
[//msdn.microsoft.com/en-us/library/windows/desktop/ms646310(v=vs.85)。 aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms646310(v=vs.85).aspx)

您可以点击页面中的链接以了解有关函数中使用的结构和数据类型的更多信息。

更新：你可以从这样的事情开始

```
#include<Windows.h>
int main()
{
    INPUT input;
    input.type=INPUT_MOUSE;
    input.mi.dx=0;
    input.mi.dy=0;
    input.mi.dwFlags=(MOUSEEVENTF_ABSOLUTE|MOUSEEVENTF_MOVE|MOUSEEVENTF_RIGHTDOWN|MOUSEEVENTF_RIGHTUP);
    input.mi.mouseData=0;
    input.mi.dwExtraInfo=NULL;
    input.mi.time=0;
    SendInput(1,&input,sizeof(INPUT));
    return 0;
} 
```

这将自动将您的鼠标移动到屏幕的左上角并单击鼠标右键。现在，如果您想在不移动鼠标的情况下单击屏幕上的某个位置，我认为使用 SendInput() 是不可能的。您无需担心移动鼠标，因为您的程序会自行完成。这就是“MOUSEEVENTF_MOVE”标志告诉程序要做的事情。如果您不使用该标志，则单击将发生在鼠标的当前位置。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T05:43:24.697

您可以使用`SendInput()` [函数](http://msdn.microsoft.com/en-us/library/ms646310.aspx)来模拟鼠标点击和键盘敲击：

> SendInput 函数将 INPUT 结构中的事件串行插入到键盘或鼠标输入流中。这些事件不会与由用户（使用键盘或鼠标）或通过调用 keybd_event、mouse_event 或对 SendInput 的其他调用插入的其他键盘或鼠标输入事件相互穿插。

您还可以使用`SendMessage()`或`PostMessage()`发送按钮按下消息，例如

```
SendMessage(hWnd, WM_LBUTTONDOWN, MK_LBUTTON, MAKELPARAM(mousePosX, mousePosY)); 
```

，但可靠性较低。请注意，通过这种方式，您可能还需要`WM_LBUTTONUP`稍后发送，具体取决于您在应用程序中处理事件的方式。

还要检查[这个](https://stackoverflow.com/questions/7492529/how-to-simulate-a-mouse-movement)问题，接受的答案非常详细。

# haskell - 尝试安装插件包的问题

> ID：12363216
> 
> 赞同：2
> 
> 时间：2012-09-11T05:22:46.557
> 
> 标签：haskell

所以我打算尝试重新加载运行时代码，而 IIRC 插件是要走的路。

但是在我的 msys 终端上，编译失败。这是一个包错误还是我缺少依赖项？

我的 GHC 来自最新的 Haskell 平台 7.4.1。

提前致谢。

```
Mdx@Bhmt ~
$ cabal install plugins
Resolving dependencies...
Configuring plugins-1.5.2.3...
configure: WARNING: unrecognized options: --with-compiler, --with-gcc
checking build system type... i686-pc-mingw32
checking for ghc... ghc
checking for value of __GLASGOW_HASKELL__... 704
checking for ghc library directory... C:\Program Files (x86)\Haskell Platform\20
12.2.0.0\lib
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.exe
checking for suffix of executables... .exe
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking for arc4random... no
checking for a BSD-compatible install... /usr/bin/install -c
configure: creating ./config.status
config.status: creating config.mk
config.status: creating testsuite/makewith/io/TestIO.conf
config.status: creating testsuite/makewith/unsafeio/Unsafe.conf
config.status: creating config.h
configure: WARNING: unrecognized options: --with-compiler, --with-gcc
Building plugins-1.5.2.3...
Preprocessing library plugins-1.5.2.3...
[ 1 of 12] Compiling System.Plugins.Process ( src\System\Plugins\Process.hs, dis
t\build\System\Plugins\Process.o )
[ 2 of 12] Compiling System.Plugins.Parser ( src\System\Plugins\Parser.hs, dist\
build\System\Plugins\Parser.o )
[ 3 of 12] Compiling System.Plugins.LoadTypes ( src\System\Plugins\LoadTypes.hs,
 dist\build\System\Plugins\LoadTypes.o )
[ 4 of 12] Compiling System.Plugins.Consts ( src\System\Plugins\Consts.hs, dist\
build\System\Plugins\Consts.o )

src\System\Plugins\Consts.hs:39:23:
    lexical error in string/character literal at character 'P'
cabal.exe: Error: some packages failed to install:
plugins-1.5.2.3 failed during the building phase. The exception was:
ExitFailure 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:43:43.720

您应该更新您`ghc`的`7.0.4`版本。

# mysql - 使用例程和过程进行数据库备份

> ID：12363224
> 
> 赞同：0
> 
> 时间：2012-09-11T05:24:16.357
> 
> 标签：mysql, database

我想备份我的 MySQL 数据库，我可以使用过程或例程来完成吗？我的意思是，如果我调用一个过程，并将要导出文件的路径传递给该过程，那么该过程将进行备份。我怎样才能写出这样的程序或例程。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:06:45.027

MySQL 本身无法进行备份，您应该从外部进行备份，例如运行[mysqldump](http://dev.mysql.com/doc/refman/5.5/en/mysqldump.html)或其他客户端程序。但是对于您的情况（...使用例程和程序），您可以尝试使用[用户定义的函数](http://dev.mysql.com/doc/refman/5.5/en/create-function-udf.html)，它可以帮助您运行备份过程。

# android - 如何以编程方式在android和java me中获取来电的移动网络代码

> ID：12363227
> 
> 赞同：-2
> 
> 时间：2012-09-11T05:24:26.150
> 
> 标签：android, blackberry, java-me

我正在做一个项目，要求我在拨打电话时获取 SIM 卡的 MNC（移动网络代码），以便知道拨打电话的 SIM 卡属于哪个运营商。当我拨打号码时，我也想知道 MNC。请帮我。它可以是 Android 或 BlackBerry 或 Java ME。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T11:11:38.703

在黑莓中：[RadioInfo.getMNC(int)](http://www.blackberry.com/developers/docs/5.0.0api/net/rim/device/api/system/RadioInfo.html#getMNC%28int%29)；但[之前有人问过](https://stackoverflow.com/q/7090052/813951)。

在 Android 中：[之前有人问过](https://stackoverflow.com/a/890945/813951)。

在 JavaME 中：[之前有人问过](https://stackoverflow.com/a/6213402/813951)。

您只需在 SO 中搜索即可轻松获得此信息。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-24T09:18:31.140

据我所知，这是不可能的，因为电话没有关于拨打号码的信息。该信息可通过查询 MNP 数据库获得，该数据库仅限移动网络运营商和其他注册机构访问。
同样可能不适用于来电，通过GSM网络发送到手机的信息可能包括MCC / MNC信息，我不记得了。

# php - 如何使用phpcassa获取cassandra中一行的所有列名？

> ID：12363230
> 
> 赞同：4
> 
> 时间：2012-09-11T05:25:08.713
> 
> 标签：php, cassandra, phpcassa

我想在 cassandra 中获取一行的所有列名，我该如何在 phpcassa 中做到这一点？

如果 phpcassa 不支持，有其他语言，libs 可以吗？

就我而言，列名很短，但行很长（大约 1000+），数据很大（大约 100K）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-17T23:47:21.293

您的意思是直接使用 phpCassa 获取名称吗？我不知道有什么方法可以直接做到这一点，但我曾经通过获取所有行然后对列族中的数组执行 foreach 循环来做到这一点，如下所示：

1.- 一个可以随处使用的小功能（如果需要，可以自己构建；））：

```
function f_get_data_as_array($p_pool, $p_cf, $p_key, $p_col_count = 100, $p_column_names = NULL, $p_range_start = '', $p_range_end = '', $p_inverted_sort = false)
{
    try{
        $lv_slice = new ColumnSlice($p_range_start, $p_range_end, $p_col_count, p_inverted_sort);
        $lv_cf =    new ColumnFamily($p_pool, $p_cf);
        $lv_cf->insert_format = ColumnFamily::ARRAY_FORMAT;
        $lv_cf->return_format = ColumnFamily::ARRAY_FORMAT;         
        $lv_result = $lv_cf->get($p_key, $lv_slice, $p_column_names);
    }catch(Exception $lv_e)
    {
        return false;   
    }
    return $lv_result; 
```

2.-我使用前四个参数调用它，设置池、列族名称、我需要的键和我想要获取的列数（根据需要设置数字）。

3.- 对返回的数组进行 foreach 循环以获取每个列名。或者，如果您知道从列族中获得的结构，您只需要使用正确的索引，可能是：$lv_result[0][0]、$lv_result[0][1]，等等...

希望能帮助到你。对不起我的英语！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-27T16:31:04.037

你有一个很好的问题。尝试这样的事情：

```
$pool = new ConnectionPool('feed', array('127.0.0.1'));
$raw = $pool->get();
$rows = $raw->client->execute_cql_query("SELECT * FROM posts", cassandra_Compression::NONE);
var_dump($rows); 
```

也许它会有所帮助...

# sql - 需要在一个临时表中获取 2 个游标的输出

> ID：12363234
> 
> 赞同：0
> 
> 时间：2012-09-11T05:25:58.820
> 
> 标签：sql, plsql, cursor, oracle11g, procedure

这是我的第一个程序（示例）

```
CREATE OR REPLACE PROCEDURE GPTOWNER_CORP_AMF.testt1
AS
po_status VARCHAR2(100);
po_cur_1 SYS_REFCURSOR;
po_cur_2 SYS_REFCURSOR;
BEGIN
OPEN po_cur_1 FOR
select app_var_row_seq,app_var_name,app_var_value,app_var_description,r_date
 from TMP_PMT_APP_VARIABLES_REF
where ROWNUM < 5;

OPEN po_cur_2 FOR
select config_to_lob_row_seq,config_row_seq,lobref_row_seq,r_date
 from  TMP_PMT_CONFIG_TO_LOB_DAT 
 where ROWNUM < 6;
 TESTT2(po_cur_1,po_cur_2,po_status);
 DBMS_output.put_line(po_status);
EXCEPTION
    WHEN OTHERS THEN
        DBMS_OUTPUT.PUT_LINE(SQLERRM||SQLCODE);
END; 
```

这是我的第二个程序（示例）

```
CREATE OR REPLACE procedure GPTOWNER_CORP_AMF.testt2 (pi_cur_1 IN sys_refcursor, pi_cur_2 IN sys_refcursor,po_status OUT VARCHAR2)
AS
app_var_row_seq NUMBER;
app_var_name VARCHAR2(100);
app_var_value VARCHAR2(1000);
app_var_description VARCHAR2(1000);
r_date1 DATE;
config_to_lob_row_seq NUMBER;
config_row_seq VARCHAR2(100);
lobref_row_seq NUMBER;
r_date2 DATE;
BEGIN
    LOOP
        FETCH pi_cur_1 into app_var_row_seq,app_var_name,app_var_value,app_var_description,r_date1;
        FETCH pi_cur_2 into config_to_lob_row_seq,config_row_seq,lobref_row_seq,r_date2;

        EXIT WHEN (pi_cur_2%NOTFOUND AND pi_cur_1%NOTFOUND ) ; 

        INSERT INTO testt1testt2 (colid,col1,col2,col3,col4,col5,col6,col7,col8,col9) 
                    VALUES(colid.nextval,app_var_row_seq,app_var_name,app_var_value,app_var_description,r_date1,config_to_lob_row_seq,config_row_seq,lobref_row_seq,r_date2);
    END LOOP;
    DBMS_OUTPUT.PUT_LINE ('rows inserted:' || pi_cur_1%ROWCOUNT || 'and' || pi_cur_2%ROWCOUNT);   
EXCEPTION
    WHEN OTHERS THEN
       DBMS_OUTPUT.PUT_LINE(SQLERRM||SQLCODE);
END; 
```

* * *

我的问题陈述是，从第一个过程我得到两个 refcursor 作为输出，在第二个过程中我试图读取它们并将它们放入一个临时表中，该表将由另一个过程使用。不能合并这两个 select 语句，因为它们具有不同的输出集。有没有更好的机制可以这样做，就像我的方法一样，当我运行第一个过程时（比如第一个选择返回 4 行，第二个选择返回 6 行），需要将 6 行插入到临时表中但是当现在有行获取时，从第一个选择中读取的列将作为 NULL 插入，但在我的情况下，重复的行被插入。任何帮助，将不胜感激。如果有人需要更多信息，请发布。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T07:40:46.207

如果我对您的理解正确，那么您实际上并不需要将它们联合起来-而是加入它们。
由于这两个表之间没有真正的关系，并且您需要“双方”中的空值，因此您需要`full outer join`它们。

我不会问你，如果它们之间没有关系，为什么你希望它们都在同一个临时表上。但是，如果您这样做，为什么不只使用`insert-select`?

```
INSERT INTO testt1testt2 (colid,col1,col2,col3,col4,col5,col6,col7,col8,col9) 
SELECT colid.nextval, app_var_row_seq,app_var_name,app_var_value,app_var_description, t1.r_date,
                      config_to_lob_row_seq,config_row_seq,lobref_row_seq, t2.r_date
FROM (select app_var_row_seq,app_var_name,app_var_value,app_var_description,r_date
      from TMP_PMT_APP_VARIABLES_REF
      where ROWNUM < 5) t1 
FULL OUTER JOIN (select config_to_lob_row_seq,config_row_seq,lobref_row_seq,r_date
                 from  TMP_PMT_CONFIG_TO_LOB_DAT 
                 where ROWNUM < 6) t2 on 1=2 
```

* * *

**更新：**
如果要求是获得 2 个 refcursors，那么我的方法是不相关的......
但你可以做的是有 2 个插入命令，如下所示：

```
INSERT INTO testt1testt2 (colid,col1,col2,col3,col4,col5,col6,col7,col8,col9) 
     VALUES (colid.nextval,app_var_row_seq,app_var_name,app_var_value,app_var_descript‌​ion,r_date1,null,null,null,null); 
```

和其他像：

```
INSERT INTO testt1testt2 (colid,col1,col2,col3,col4,col5,col6,col7,col8,col9)
     VALUES (colid.nextval,null,null,null,null,null,config_to_lob_row_seq,config_row_s‌​eq,lobref_row_seq,r_date2); 
```

如果您真的想做得很好，可以使用`bulk insert`性能，请参见[此处的示例](https://stackoverflow.com/a/2431606/1083652)

# silverlight - 网格内的 XAML 路径可单击

> ID：12363235
> 
> 赞同：0
> 
> 时间：2012-09-11T05:26:06.507
> 
> 标签：silverlight, xaml, path, cursor

我有一个由 Syncfusion Metro Studio 创建的路径，并将其放入网格中。对于这个网格，我为点击事件设置了一个手形光标和一个交互触发器。

```
<Grid Grid.Column="2"
                  Cursor="Hand"
                  Margin="0,0,7,0">
                <Path Data="M34.201,35.752792L36.154999,37.072937 36.154999,61.028999 26.27,61.028999 26.27,58.465 34.201,58.465z M18.94405,30.222998C17.962244,30.222998 17.167,31.018967 17.167,32.00045 17.167,32.982033 17.962244,33.778 18.94405,33.778 19.925556,33.778 20.721001,32.982033 20.721001,32.00045 20.721001,31.018967 19.925556,30.222998 18.94405,30.222998z M44.257435,25.653L44.257435,29.183289 51.842999,29.183289 51.842999,35.705292 44.257435,35.705292 44.257435,39.237999 34.201,32.444984z M26.27,3.8619995L36.154999,3.8619995 36.154999,27.81745 34.201,29.137484 34.201,6.2989998 26.27,6.2989998z M24.27,0L24.27,64 0,60 0,4.0000029z" 
                      Stretch="Uniform" 
                      Fill="#FFFFFFFF" 
                      Width="26" 
                      Height="26" 
                      Margin="0,0,0,0" 
                      RenderTransformOrigin="0.5,0.5">
                    <Path.RenderTransform>
                        <TransformGroup>
                            <TransformGroup.Children>
                                <RotateTransform Angle="0" />
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                            </TransformGroup.Children>
                        </TransformGroup>
                    </Path.RenderTransform>

                </Path>
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="MouseLeftButtonUp">
                        <cmd:EventToCommand Command="{Binding Path=Close}" />
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </Grid> 
```

光标仅变为手形，wgen 我将鼠标悬停在路径上，而不是路径之间的空格。我希望整个路径（包括之间的空格）都是可点击的。

我希望任何人都可以为我提供解决方案；）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:28:48.293

只有已经绘制的东西才能被点击，所以你必须绘制间隙。

幸运的是，您可以使用透明颜色绘制间隙，例如，`#00FFFFFF`

您可以简单地将矩形或椭圆添加到同一个网格单元中，然后将路径堆叠在上面。

# java - Java 错误缺少返回语句

> ID：12363239
> 
> 赞同：0
> 
> 时间：2012-09-11T05:26:33.857
> 
> 标签：java

好吧，我正在尝试编写这段代码，但我不断收到这个愚蠢的错误。我不知道我做错了什么，所以也许你们中的一位专家可以帮助我。

```
import java.util.*;

public class School
{
Random randQuest = new Random();

int userAnswer;

public void createQuestion()
{

    int range = 10; // range of numbers in question

    int num1 = randQuest.nextInt( range );
    int num2 = randQuest.nextInt( range );

    userAnswer = num1 * num2;

    System.out.printf( "How much is %d times %d?\n",
        num1, num2 );

}

// prompt comment
public String promComm( boolean answer )
{
    if ( answer )
    {
        switch ( randQuest.nextInt( 1 ) )
        {

        case 0:
            return( "Very Good!" );

        }

        switch ( randQuest.nextInt( 1 ) )
        {

        case 0:                 
            return( "No. Please try again." );

        }
    }
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:29:36.700

在方法中`promComm`，如果`answer`是`false`该方法不返回任何值。相同如果`randQuest.nextInt(1) != 0.`

应该是这样的：

```
public String promComm( boolean answer ){
    if (answer){

        switch (randQuest.nextInt(1)){    
           case 0:
               return("Very Good!");
        }

        switch (randQuest.nextInt(1) ){
           case 0:                 
               return( "No. Please try again." );
        }

        return "Some value";

    }else

        return "Some value";
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T05:29:44.413

**您的方法`promComm`应该在任何情况下都返回一个字符串，而不是返回一个字符串。**修复它的最简单方法是添加默认返回语句。

```
public String promComm( boolean answer ){
    if ( answer ){
        //...
    }
    return "default value when answer is false.";
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T05:29:51.707

promComm 方法返回字符串，但如果切换值不为 0，那么您的函数将不返回任何内容 - 没有默认返回语句。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-11T05:33:48.887

试着写这个

```
 public String promComm( boolean answer )
    {
        if ( answer )
        {
            switch ( randQuest.nextInt( 1 ) )
            {
               case 0:  return( "Very Good!" );
            }
            switch ( randQuest.nextInt( 1 ) )
            {
                case 0: return( "No. Please try again." );
            }
        }
        return "";
    } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-11T05:49:41.987

在 if-else 语句之后返回一个字符串结果

```
public String promComm( boolean answer ){

   if(answer){
       ...

   }else{

      ...
   }

return ""; //empty string <-- you are missing a default return statement
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-09-11T05:52:03.653

当一个方法有一个返回类型时，它的所有代码流都必须返回一个值。在您的代码中，如果答案为假 promComm() 不会遇到 if 块并且永远不会返回值！

除了它不建议在一个方法中使用多个返回！

例如，您可以通过以下方式避免这种情况：

```
public String promComm( boolean answer ) {
    String returnValue = "Answer is false"; //or = ""
if ( answer )
{
    switch ( randQuest.nextInt( 1 ) )
    {

    case 0:
        returnValue = "Very Good!";

    }

    switch ( randQuest.nextInt( 1 ) )
    {

    case 0:                 
         returnValue = "No. Please try again.";

    }
 }
return returnVal;
} 
```

# iphone - UIImagePicker 的视图被意外调整大小

> ID：12363240
> 
> 赞同：1
> 
> 时间：2012-09-11T05:26:41.013
> 
> 标签：iphone, objective-c, uiimagepickercontroller, presentmodalviewcontroller

我用来`UIImagePickerController`拍照。 我在*MainViewController中为***UIApplicationDidBecomeActiveNotification**和**UIApplicationWillResignActiveNotification**注册了一个通知中心

 *```
NSNotificationCenter *nc = [NSNotificationCenter defaultCenter];
    [nc addObserver:self
           selector:@selector(applicationUIDidBecomeActive:)
               name:UIApplicationDidBecomeActiveNotification
             object:nil];

    [nc addObserver:self
           selector:@selector(applicationUIWillResignActive:)
               name:UIApplicationWillResignActiveNotification
             object:nil]; 
```

我有*CamController*，它是`UIImagePickerController`

```
@interface CamController : UIImagePickerController <UIImagePickerControllerDelegate, UINavigationControllerDelegate> 
```

当应用程序确实激活时，我将根据 MainViewContrller 中的代码显示模态视图控制器。

```
- (void) applicationUIDidBecomeActive: (NSNotification *) aNotification {
    // camController is a instance of CamController
    [camController displayModalWithController:parentViewController animated:NO];
    [camController performSelector:@selector(takePicture) withObject:nil afterDelay:1.5];
} 
```

下面的代码在 CamController 中，它是`UIImagePickerController`

```
- (void) displayModalWithController: (UIViewController*) aController animated: (BOOL) aAnimated {   
    if (aController) 
        [aController presentModalViewController:self animated:aAnimated];       
}

- (void) takePicture {
    [super takePicture];
}

- (void)imagePickerController: (UIImagePickerController *) aPicker didFinishPickingMediaWithInfo: (NSDictionary *) aInfo {  
    [self performSelector:@selector(takePicture) withObject:nil afterDelay:[self mCapturingInterval]];
} 
```

当应用程序将退出活动时，我根据 MainViewController 中的代码关闭模式视图控制器。

```
- (void) applicationUIWillResignActive: (NSNotification *) aNotification {
    [parentViewController dismissModalViewControllerAnimated:NO];
} 
```

我在 iphone 4 ios 4.2.1 上测试此代码，有时在我重新启动应用程序后，UIImagePicker 的视图（显示我们要捕获的图像的视图）被调整为更小，而不是全屏。我已经将属性 wantFullScreenLayout 设置为 YES。当我单击主页按钮将其置于后台，然后单击应用程序图标再次启动应用程序时，屏幕可能是全屏或调整大小。这个问题的原因是什么？*

# ios - 更好地使用调整大小的小图像或真实大小的图像作为 UITableViewCell 背景？

> ID：12363243
> 
> 赞同：-1
> 
> 时间：2012-09-11T05:26:52.903
> 
> 标签：ios, uitableview

我正在尝试解决使用带有自定义背景单元格的 UITableView 的缓慢滚动和缓慢加载的 UIViewController。

当我不使用图像设置单元格的背景视图时，性能非常好。所以我想知道为 backgroundView 提供我的 tableview 行的实际大小的图像是否更高效，或者使用调整大小以适应行尺寸的较小图像是否更好？

这些图像都是本地的，并且已经包含在应用程序中 - 不涉及远程获取。

[改进具有自定义背景图像的单元格的 UITableView 的加载时间](https://stackoverflow.com/questions/12361190/improving-viewcontroller-load-speed-with-custom-uitableviewcells-a-broken-recor)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:54:47.180

尝试使用[NSOperationQueue](http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/NSOperationQueue_class/Reference/Reference.html)来处理图像的延迟加载和自定义 tableviewcell。Google for tweetie custom tableviewcell 这应该会让你朝着正确的方向前进。

Apple 有一个用于在 tableViews 中下载图像的示例项目：[LazyTableImages](http://developer.apple.com/library/ios/#samplecode/LazyTableImages/Introduction/Intro.html#//apple_ref/doc/uid/DTS40009394-Intro-DontLinkElementID_2)

# iis - iis管理控制台

> ID：12363244
> 
> 赞同：0
> 
> 时间：2012-09-11T05:26:53.963
> 
> 标签：iis, dotnetnuke

我在 win 7 Ultimate 中安装 IIS 管理控制台：

![IIS 管理控制台](../Images/5e9e56035549360444a9ffbf21a0d83b.png)

当我在几分钟后单击“确定”按钮时，我收到此错误：

![错误](../Images/4a04d8a97b619fb12aef99ab40a87812.png)

并且在重新启动操作系统后不会安装此功能。

当我在运行框中使用 INETMGR 命令时，出现找不到服务错误。inetmgr.exe 在其位置不存在。如何解决这个问题呢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:46:32.053

仔细阅读这两页，请注意不要搞砸一切，因为你不知道答案，这只会让一切变得更糟。完全按照他们说的去做，一切都会好起来的。也请让我知道结果。

在我看来，检查下的相关值`"Internet Information Services"`。当你没有检查`"IIS Management Service"`你想要什么的时候`"IIS Management Console"`？！如果没有服务控制台，只能将您连接到远程 IIS 服务器，不会发生其他任何事情。

干杯

[http://technet.microsoft.com/en-us/library/cc754865(v=ws.10).aspx](http://technet.microsoft.com/en-us/library/cc754865(v=ws.10).aspx)

[http://technet.microsoft.com/en-us/library/cc725762.aspx](http://technet.microsoft.com/en-us/library/cc725762.aspx)

您也可以以管理员身份运行此命令，如第二个文档所述：

```
start /w pkgmgr /iu:IIS-WebServerRole;IIS-WebServer;IIS-CommonHttpFeatures;IIS-StaticContent;IIS-DefaultDocument;IIS-DirectoryBrowsing;IIS-HttpErrors;IIS-HttpRedirect;IIS-ApplicationDevelopment;IIS-ASPNET;IIS-NetFxExtensibility;IIS-ASP;IIS-CGI;IIS-ISAPIExtensions;IIS-ISAPIFilter;IIS-ServerSideIncludes;IIS-HealthAndDiagnostics;IIS-HttpLogging;IIS-LoggingLibraries;IIS-RequestMonitor;IIS-HttpTracing;IIS-CustomLogging;IIS-ODBCLogging;IIS-Security;IIS-BasicAuthentication;IIS-WindowsAuthentication;IIS-DigestAuthentication;IIS-ClientCertificateMappingAuthentication;IIS-IISCertificateMappingAuthentication;IIS-URLAuthorization;IIS-RequestFiltering;IIS-IPSecurity;IIS-Performance;IIS-HttpCompressionStatic;IIS-HttpCompressionDynamic;IIS-WebServerManagementTools;IIS-ManagementConsole;IIS-ManagementScriptingTools;IIS-ManagementService;IIS-IIS6ManagementCompatibility;IIS-Metabase;IIS-WMICompatibility;IIS-LegacyScripts;IIS-LegacySnapIn;IIS-FTPPublishingService;IIS-FTPServer;IIS-FTPManagement;WAS-WindowsActivationService;WAS-ProcessModel;WAS-NetFxEnvironment;WAS-ConfigurationAPI 
```

# android - Android：如何启用或禁用 ADB？

> ID：12363247
> 
> 赞同：1
> 
> 时间：2012-09-11T05:27:30.547
> 
> 标签：android, android-intent, android-emulator, adb

我非常清楚启用和禁用 ADB 属于 Android 安全性。正常的应用程序将无法实现这一点。但我的情况不同。

我可以完全访问 Android 系统。我拥有所有超级用户权限，可以从我的任何应用程序中执行所有操作。我只想实现一个需要启用和禁用 ADB 的功能。如果有人知道如何实现这一点，请与我分享。

# wcf - 在 HTTPS 中为 WCF 服务使用 AES

> ID：12363252
> 
> 赞同：1
> 
> 时间：2012-09-11T05:28:15.133
> 
> 标签：wcf, security, https

我创建了一个 WCF 服务，它使用安全模式设置为“传输”的 basicHttpBinding，将证书绑定到端口。因此客户端可以通过 https 使用服务。

现在，经理让我在 https 中使用 AES128，我不知道该怎么做。如何使该 https 通道被 AES 加密？有可能还是有意义？

约翰尼

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T01:42:50.190

HTTPS 传输安全性实际上是在 WCF 本身之外处理的，或者在 IIS（如果托管在其中）中，或者当您将证书绑定到端口时。

HTTPS（SSL 或 TLS）支持多种密码算法（例如 AES、3DES、RC4），客户端和服务器将根据各自支持的内容协商将哪一种用于 HTTPS 连接（完整的密码列表[http://msdn .microsoft.com/en-us/library/windows/desktop/aa374757(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa374757%28v=vs.85%29.aspx)）。

IIS（我假设将证书绑定到端口时）使用 Schannel 安全提供程序来处理 HTTPS。不幸的是，IIS 或 web.config 中没有任何内置设置可用于控制允许使用哪些密码。

因此，如果您只想强制使用 AES128，则必须编辑 Windows 注册表并禁止 Schannel 使用其他密码 ( [http://support.microsoft.com/kb/245030](http://support.microsoft.com/kb/245030) )。

这意味着转到注册表位置：

```
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\SecurityProviders\Schannel\Ciphers 
```

并禁用其中的所有密码（将“已启用”REG_DWORD 设置为 0x00000000），同时仅启用“AES 128/128”密码（如果缺少，请添加“AES 128/128”子项，然后添加启用值为 0xffffffff 的 DWORD）

# xcode - 为什么 Xcode 自动缩进如此糟糕？我怎样才能让它变得更好？

> ID：12363253
> 
> 赞同：29
> 
> 时间：2012-09-11T05:28:16.463
> 
> 标签：xcode, indentation, code-formatting

我发现自己浪费了很多时间来处理 Xcodes 自动缩进，我不得不问我的设置是否有什么问题？基本上，如果我花时间在一个方法中缩进代码，然后复制整个方法并粘贴它，新粘贴的方法不会保留我应用于原始方法的任何空白......

例如，这是一个截图，上面的方法我缩进了一个数组的所有对象，以便它们正确排列......然后我选择了整个方法，复制并粘贴，你可以看到下面的方法有所有的缩进弄乱。

![在此处输入图像描述](../Images/09a07c5e23a42ede6810c26f3960e24c.png)

我正在使用 Xcode 4.4.1，这是我的设置：

![我的缩进设置](../Images/2370074c319466e6386414aef5836fe2.png)

* * *

## 回答 #1

> 赞同：-4
> 
> 时间：2012-11-09T22:39:02.030

按预期工作。

`…Objects:`并且`forKeys:`应该对齐，因为它们构成相同方法签名的一部分。

如果使用新的对象字面量语法，格式化代码可能会更容易：

```
- (int)minBrokenPieces {
   NSDictionary *mapping = [NSDictionary dictionaryWithObjects:@[@"3", @"4", @"4", @"5", @"6", @"7", @"8"]
                                                       forKeys:[Note types]];
  [(NSString *)mapping[self.note.type] integerValue];
} 
```

至于代码本身，在一个地方定义这些常量并在其他地方定义注释类型似乎有点危险。另外，当 NSNumbers 就足够时，为什么要使用字符串？

（此代码假定仅从一个线程调用此函数）。

```
- (int)minBrokenPieces {
    static NSDictionary *mappings;
    if (!mappings) {
        mappings = @{
            noteType1  : @3,
            noteType2  : @4,
            noteType3  : @4,
            noteType4  : @5,
            noteType5  : @6,
            noteType6  : @7,
            noteType7  : @8,
        };
    }
    NSAssert(mappings[self.note.type] != nil, @"Used a note type for which there is no minBrokenPieces defined");
    return [mappings[self.note.type] intValue];
} 
```

# gtk - 来自我的代码外部的分段错误

> ID：12363255
> 
> 赞同：0
> 
> 时间：2012-09-11T05:28:34.453
> 
> 标签：gtk, arm, debian, wxwidgets

我有一个运行良好的基于​​ wxWidgets/GTK 的应用程序 - 除了在 Debian Squeeze ARM 系统上安装一个。当用户刚刚激活它的主窗口时，它就会崩溃。为了找到原因，我向应用程序添加了一个信号处理程序，并从该信号处理程序中使用 libunwind 来查找崩溃的来源。在运行良好的测试期间，当软件写入例如地址 0x0 libunwind 时，会正确地将我指向发生这种情况的函数。

但是意外出现崩溃的系统的结果有点奇怪，它们似乎发生在我的应用程序之外。一个崩溃来自一个没有名称的函数（这里 libunwind 返回一个空字符串），一个是由“malloc_usable_size”引起的，一个永远不会以这种方式死掉的系统函数。

那么……接下来该怎么办？欢迎所有想法，建议或任何其他提示，因为我不确定如何继续解决该问题......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:34:28.777

*   检查缓冲区溢出或意外覆盖某些内存以查找库函数返回的项目的任何结构、指针、内存位置。
*   检查代码中的无效指针释放是否为您正在使用的库分配指针。
*   可能使用 valgrind 也会有所帮助。

# entity-framework - 在实体框架中没有导航属性的情况下从详细导航到主导航

> ID：12363256
> 
> 赞同：1
> 
> 时间：2012-09-11T05:28:41.090
> 
> 标签：entity-framework, linq-to-entities

给定以下（简化的）类：

```
public class Master
{
    public int Id { get; set; }
    public string UniqueName { get; set; }
    public virtual List<Detail> Details { get; set; }
}

public class Detail
{
    public int Id { get; set; }
    public string UniqueCode { get; set; }
} 
```

如何使用 Linq to Entities 选择一个特定的 Detail 实例，给 Master 一个 UniqueName，Detail 一个 UniqueCode？

请注意，从 Detail 到 Master 没有导航属性。

如果有导航属性，我想我可以这样做：

```
Detail detail = (from m in ctx.Master.Include(p=>p.Details)
                 join d in ctx.Details
                 on m.Id = d.MasterId
                 where m.UniqueName == "Something" && d.UniqueCode == "Else"
                 select d).SingleOrDefault(); 
```

如果没有从 Detail 到 Master 的导航属性，如果不首先获取 Master 包括该 Master 的所有 Detail 实例，然后迭代 Detail 实例，我看不到如何继续。如果给定的 Master 有许多 Detail 实例，那可能会非常低效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:40:35.277

尝试

```
var detail = ctx.Master.Where(m => m.UniqueName == "Something")
    .Select(m => m.Details.Where(d => d.UniqueCode == "Else").FirstOrDefault())
    .SingleOrDefault(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T11:44:51.423

我不完全确定您使用 linq 到对象或 linq 到实体。如果只涉及您的课程，请尝试以下查询：

```
 var mst = new List<Master> { 
        new Master { Id = 1, UniqueName = "Something", Details = new List<Detail> { 
            new Detail { Id = 10, UniqueCode = "Else" }, new Detail { Id = 11, UniqueCode = "det1" }} 
        } ,
        new Master { Id = 2, UniqueName = "mast2", Details = new List<Detail> { new Detail { Id = 20, UniqueCode = "det2" } } } 
    };

    var detail = (from d in
                        ((from m in mst
                            where m.UniqueName == "Something"
                            select m.Details).SingleOrDefault())
                where d.UniqueCode == "Else"
                select d).SingleOrDefault(); 
```

如果您有数据表，那么 Detail 表可能有一个 MasterID (int) 列，所以我会尝试以下查询：

```
 var detail = (from d in ctx.Detail
                    where d.MasterID == (
                        (from m in ctx.Master
                         where m.UniqueName == "Something"
                         select m.Id).SingleOrDefault())
                    && d.UniqueCode == "Else"
                    select d).SingleOrDefault(); 
```

# objective-c - UISearchDisplayController 显示未过滤的数据

> ID：12363258
> 
> 赞同：3
> 
> 时间：2012-09-11T05:28:57.097
> 
> 标签：objective-c, ios, uisearchdisplaycontroller

感谢您阅读我的问题。我有一个有趣的问题，我无法弄清楚，希望社区能够提供帮助。我有一个`UITableViewController`(LibraryViewController)`UISearchDisplayController`作为变量。我还有另外两个对象。首先，它的一个子类`NSObject`定义了我的数据对象（两个`NSString`对象），称为 LibraryDataObject。第二个，它的子类`NSObject`有两个`NSMutableArray`对象并实现了`UITableViewDataSource`名为 LibraryDataModel 的协议。

LibraryViewController 还拥有一个名为 libraryDataSource 的 LibraryDataModel 实例。它已正确初始化。此外，LibraryViewController 和 的委托`UISearchDisplayController`都设置为 LibraryDataModel。未搜索的视图正确填充。而且，当我搜索时，列表会根据搜索词填充正确的项目。该代码基于 TableSearch 文档代码。

这是我的问题变得明显的地方。搜索时，表格将缩小为搜索框中的术语。但是，当我滚动表格并超出搜索词的范围时，它开始`tableView:cellForRowAtIndexPath:`与 base 的 tableview 进行消息传递`UITableViewController`。

以前有没有人遇到过这种特殊情况？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T04:07:06.913

我向苹果公司开了一个案子，他们帮助了我。这种行为不是我想要的，但它解释了这个问题。我通过使用 [self.parentViewController.view addSubview:searchBar] 将其推入堆栈来添加搜索栏；但是，我应该使用 self.tableView.tableHeaderView = searchBar; 添加搜索栏 这个问题消失了，但是搜索栏位于 tableview 的顶部，而不是视图上的静态。看看能不能改。

# android - 在 Web 视图中单击 url 时呈现的 Html 代码

> ID：12363266
> 
> 赞同：0
> 
> 时间：2012-09-11T05:29:43.500
> 
> 标签：android, android-intent, httpclient, android-webview

我想开发一个可以在 webView 中打开 url 的 android 应用程序，使用 webViewClient 中的 shouldInterceptRequest 方法。我必须使用 HttpClient 获取数据。所以我构建了应用程序，但是当我运行应用程序时，main.xml 被加载，然后当我点击按钮时，就会看到 url 的 html 代码。

主要的.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
      android:orientation="vertical"
      android:layout_width="fill_parent"
      android:layout_height="fill_parent"
>
<Button
    android:id="@+id/buttonurl"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="visit     www.stackoverflow.com"
    />

</LinearLayout> 
```

webview.xml

```
<?xml version="1.0" encoding="utf-8"?>

<WebView xmlns:android="http://schemas.android.com/apk/res/android"
      android:id="@+id/webView1"
      android:layout_width="fill_parent"
      android:layout_height="fill_parent"/> 
```

AndroidManifest.xml

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
  package="com.example"
  android:versionCode="1"
  android:versionName="1.0">
<uses-sdk android:minSdkVersion="16"/>
<application android:label="@string/app_name" android:icon="@drawable/ic_launcher">
<activity android:name="MyActivity"
          android:label="@string/app_name">
    <intent-filter>
        <action android:name="android.intent.action.MAIN"/>
        <category android:name="android.intent.category.LAUNCHER"/>
    </intent-filter>
</activity>
<activity android:name=".WebViewActivity" android:label="@string/app_name">
    <intent-filter android:label="@string/app_name">
        <action android:name="android.intent.action.SEND" />
        <action android:name="android.intent.action.VIEW"/>
        <action android:name="android.intent.action.GET_CONTENT"/>
        <category android:name="android.intent.category.DEFAULT" />
        <!--    <data android:mimeType="image/png" /> -->
    </intent-filter>
</activity>

</application>

<uses-permission android:name="android.permission.INTERNET"></uses-permission>
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"></uses-permission>
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"></uses-permission>
</manifest> 
```

我的活动.java

```
package com.example;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;

public class MyActivity extends Activity {

private Button button;

//String strURL="www.facebook.com";

/**
 * Called when the activity is first created.
 */
@Override
public void onCreate(Bundle savedInstanceState) {

final Context context=this;
super.onCreate(savedInstanceState);
setContentView(R.layout.main);

button =(Button) findViewById(R.id.buttonurl);

button.setOnClickListener(new View.OnClickListener() {
    @Override
    public void onClick(View view) {
        Intent intent = new Intent(context,WebViewActivity.class);
        startActivity(intent);
    }
});

}
} 
```

WebViewActivity.java

```
package com.example;

import android.app.Activity;
import android.os.Bundle;

import android.webkit.WebView;
public class WebViewActivity extends Activity{

  String url="http://www.stackoverflow.com";
public void onCreate(Bundle savedInstanceState){

super.onCreate(savedInstanceState);
setContentView(R.layout.webview);

WebView webView=  (WebView)findViewById(R.id.webView1);

//MyWebViewClient myWebViewClient=new MyWebViewClient();
webView.setWebViewClient(new MyWebViewClient());

webView.loadUrl(url);

   // myWebViewClient.shouldOverrideUrlLoading(webView,url);

}
} 
```

MyWebViewClient.java

```
package com.example;

import android.webkit.WebResourceResponse;
import android.webkit.WebViewClient;
import android.webkit.WebView;
import android.net.Uri;
import android.content.Intent;
import android.app.Activity;
import android.widget.Toast;
import org.apache.http.client.HttpClient;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.HttpResponse;
import org.apache.http.HttpEntity;
import java.io.*;
import org.apache.http.protocol.BasicHttpContext;
import org.apache.http.protocol.HttpContext;
import org.apache.http.client.ClientProtocolException;

public class MyWebViewClient extends WebViewClient {

                public InputStream httpcall(WebView view,String url) {

                HttpClient httpClient = new DefaultHttpClient();
                HttpContext localContext = new BasicHttpContext();
                HttpGet httpGet = new HttpGet("http://www.stackoverflow.com");

                BufferedReader reader = null;
                String result = null;
                try {
                    HttpResponse response = httpClient.execute(httpGet, localContext);
                    result = "";

                    reader = new BufferedReader(
                            new InputStreamReader(
                                    response.getEntity().getContent()
                            )
                    );

                    String line = null;
                    while ((line = reader.readLine()) != null) {
                        result += line + "\n";
                    }
                } catch (ClientProtocolException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();

                } catch (IOException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();

                } finally {
                    if (reader != null) {
                        try {
                            reader.close();
                        } catch (IOException e) {
                            // TODO Auto-generated catch block
                            e.printStackTrace();
                        }
                    }
                }
                    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream( result.getBytes());

                    return byteArrayInputStream;

                //String webData = result.toString();

                 //   return webData;
                //view.loadDataWithBaseURL("http://www.stackoverflow.com", webData, "text/html", "UTF-8", "about:blank");

            }

@Override
   public WebResourceResponse shouldInterceptRequest(WebView view,String url){

   return new WebResourceResponse("text/json","utf-8",httpcall(view,url));
   }

 } 
```

# jquery - 为单独的 jquery 函数为 $(this) 设置全局变量

> ID：12363270
> 
> 赞同：1
> 
> 时间：2012-09-11T05:29:54.537
> 
> 标签：jquery, variables

我正在将 jquery 用于输入占位符的跨浏览器解决方案，但我不明白如何设置全局变量，`$(this)`以便我可以在这两个部分函数的第二部分中使用它。我首先获取输入的值并将其存储为，`$value`但我需要在第二个函数中再次使用它来用它替换空值。我该怎么做呢？我应该提到的是，这需要以一种形式处理多个文本输入。

```
 $(document).ready( function() {
        $('input[type=text]')
         .on('focus', function(){
            var $this = $(this);
            var $value = $(this).val();
            globalVar = $value;
            if($this.val() == $value){
             $this.val('');
            }
         })
         .on('blur', function(){
            var $this = $(this);
            if($this.val() == ''){
             $this.val($value);
            }
         });
       }); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T05:35:28.060

您可以使用这两个函数范围之外的变量.. 但最好将其`data`用作存储位置：

```
$(document).ready( function() {
        $('input[type=text]')
         .on('focus', function(){
            var $this = $(this);
            if ($this.val()) {
              $this.data('myval', $this.val());
            }
            $this.val('');
         })
         .on('blur', function(){
            var $this = $(this);
            if($this.val() == ''){
             $this.val($this.data('myval'));
            }
         });
}); 
```

### 编辑：

添加了这个：

```
 if ($this.val()) {
     $this.data('myval', $this.val());
   } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-11T05:34:23.477

您必须`$value`在两个函数之外声明，使用所谓的*闭包*。这样，$value 在同一调用中创建的两个函数之间共享`ready`。（备注：由于`ready`很可能只调用一次，您也可以使用全局变量。但是，这可能会污染全局命名空间，所以我宁愿不这样做。）

```
$(document).ready( function() {
        var $value;
        $('input[type=text]')
         .on('focus', function(){
            var $this = $(this);
            $value = $(this).val();
            globalVar = $value;
            if($this.val() == $value){
             $this.val('');
            }
         })
         .on('blur', function(){
            var $this = $(this);
            if($this.val() == ''){
             $this.val($value);
            }
         });
       }); 
```

请注意，如果有多个`'input[type=text]`元素，这将不会（或只是偶然）产生正确的结果，因为所有这些元素将共享相同的`$value`变量。在这种情况下，您应该使用`this.data`其他帖子中提到的解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T05:33:08.233

试试这个，

```
var $value;
$(document).ready( function() {
        $('input[type=text]')
         .on('focus', function(){
            var $this = $(this);
            $value = $(this).val();
            globalVar = $value;
            if($this.val() == $value){
             $this.val('');
            }
         })
         .on('blur', function(){
            var $this = $(this);
            if($this.val() == ''){
             $this.val($value);
            }
         });
       }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-11T05:33:50.463

在函数外部定义变量，然后为其分配所需的值。

```
var $value = null;
$(document).ready( function() {
        $('input[type=text]')
         .on('focus', function(){
            var $this = $(this);
            $value = $(this).val();
            globalVar = $value;
            if($this.val() == $value){
             $this.val('');
            }
         })
         .on('blur', function(){
            var $this = $(this);
            if($this.val() == ''){
             $this.val($value);
            }
         });
       }); 
```

# c# - 如何在水晶报表中添加带有文本点的序列号？

> ID：12363274
> 
> 赞同：0
> 
> 时间：2012-09-11T05:30:01.893
> 
> 标签：c#, .net, crystal-reports, crystal-reports-xi

我想设计一个带有序列号的文本的水晶报告（就像项目符号一样）

我还需要在数字和文本之间留出间距，但我不知道如何管理它。我的文本不是来自数据库，它可以是文本对象或参数。请告诉我怎么做？

请在此处查看示例图片[http://www.picupine.com/7871d07x](http://www.picupine.com/7871d07x)

![在此处输入图像描述](../Images/e0b576de197d5854ae0b508051c1edde.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T11:00:58.930

创建具有运行总计的组

> [] = 文本字段 {} = 数据库、公式、运行总计字段

```
>Group Header {#Head_Count} {Head_Desc} 
>Group Header [{#Head_Count}.{#Head_Count2}]  {Head_2_Desc} 
>Detail
>Group Footer Suppressed
>Group Footer Suppressed 
```

我不确定是否可以在 CR 中创建 alpha 项目符号，但希望这能让您走上正确的轨道

# javascript - 在jQuery灯箱中制作循环

> ID：12363275
> 
> 赞同：1
> 
> 时间：2012-09-11T05:30:04.420
> 
> 标签：javascript, jquery, loops, lightbox

您好，我正在尝试在 jquery 灯箱插件[http://leandrovieira.com/projects/jquery/lightbox/](http://leandrovieira.com/projects/jquery/lightbox/)中为图片库创建循环。（当它到达最后一张图像时，显示第一张图像的下一个按钮，或者当它显示第一张图像时，显示最后一张图像的上一个按钮）到目前为止，我发现我需要更改这些行：

```
 // Show the prev button, if not the first image in set
        if ( settings.activeImage != 0 ) {
            if ( settings.fixedNavigation ) {
                $('#lightbox-nav-btnPrev').css({ 'background' : 'url(' + settings.imageBtnPrev + ') left 15% no-repeat' })
                    .unbind()
                    .bind('click',function() {
                        settings.activeImage = settings.activeImage - 1;
                        _set_image_to_view();
                        return false;
                    });
            } else {
                // Show the images button for Next buttons
                $('#lightbox-nav-btnPrev').unbind().hover(function() {
                    $(this).css({ 'background' : 'url(' + settings.imageBtnPrev + ') left 15% no-repeat' });
                },function() {
                    $(this).css({ 'background' : 'transparent url(' + settings.imageBlank + ') no-repeat' });
                }).show().bind('click',function() {
                    settings.activeImage = settings.activeImage - 1;
                    _set_image_to_view();
                    return false;
                });
            }
        }

        // Show the next button, if not the last image in set
        if ( settings.activeImage != ( settings.imageArray.length -1 ) ) {
            if ( settings.fixedNavigation ) {
                $('#lightbox-nav-btnNext').css({ 'background' : 'url(' + settings.imageBtnNext + ') right 15% no-repeat' })
                    .unbind()
                    .bind('click',function() {
                        settings.activeImage = settings.activeImage + 1;
                        _set_image_to_view();
                        return false;
                    });
            } else {
                // Show the images button for Next buttons
                $('#lightbox-nav-btnNext').unbind().hover(function() {
                    $(this).css({ 'background' : 'url(' + settings.imageBtnNext + ') right 15% no-repeat' });
                },function() {
                    $(this).css({ 'background' : 'transparent url(' + settings.imageBlank + ') no-repeat' });
                }).show().bind('click',function() {
                    settings.activeImage = settings.activeImage + 1;
                    _set_image_to_view();
                    return false;
                });
            }
        } 
```

我在 jquery 方面的知识是基本的，所以也许有人可以帮忙？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:41:11.767

我不确定灯箱是否支持循环。顺便说一句，您可以使用两种方法来做同样的事情。

**方法一**：使用[Fancy Box 插件](http://fancybox.net/)

在此您的图像也将在弹出窗口中打开，并且它还支持循环，如您所愿。它是高度可定制的。

**方法二**：使用[Jquery Cycle Plugin](http://jquery.malsup.com/cycle/)和 lightbox 这个插件支持循环功能。

对于此类实现，我**更喜欢方法 1**，但如果您必须使用 lightbox，您可以使用方法 2，而不是编写可能包含错误的自己的代码。

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-06-22T15:48:24.067

对于弹出循环，magnifix 以[这种](https://dimsemenov.com/plugins/magnific-popup/)方式弹出：

```
for (i = 1; i <= 2; i++) {

  console.log(i);

  $('.popup-gallery' + i).magnificPopup({
    delegate: 'a',
    type: 'image',
    tLoading: 'Loading image #%curr%...',
    mainClass: 'mfp-img-mobile',
    gallery: {
      enabled: true,
      navigateByImgClick: true,
      preload: [0, 1] // Will preload 0 - before current, and 1 after the current image
    },
    image: {
      tError: '<a href="%url%">The image #%curr%</a> could not be loaded.',
      titleSrc: function(item) {
        return item.el.attr('title') + '<small>by PNG City Builder</small>';
      }
    }
  });

}
```

# iphone - iPhone：Objective C 中的默认编译器指令

> ID：12363276
> 
> 赞同：0
> 
> 时间：2012-09-11T05:30:12.457
> 
> 标签：iphone

如果重复这个问题，请忽略它。但我找不到它重复。在目标 C 中，对于类实例变量，默认编译器指令是 @protected 而不是 @public，对吗？如果我错了，请纠正我。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:41:06.843

> [默认情况下，实例变量在类及其子类的所有实例方法中都是可见的。这在 Objective-C 中称为@protected 范围。

*   [Objective-C 星期二：实例变量](http://blog.ablepear.com/2010/04/objective-c-tuesdays-instance-variables.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:32:58.950

所有没有显式作用域指令的实例变量都具有@protected 作用域

# php - 除了使用 $_SERVER['DOCUMENT_ROOT'] 之外，有没有更好的方法可以返回到根目录？

> ID：12363278
> 
> 赞同：6
> 
> 时间：2012-09-11T05:30:57.493
> 
> 标签：php, document-root

我正在尝试学习一种更好的方法来返回根目录。我听说使用 $_SERVER 不是最安全的方法。我想知道是否有更好的方法。所以我可以在 url example.com/exp/my.php 上得到类似的东西

这就是我得到的。

```
include ($_SERVER['DOCUMENT_ROOT'].'/cpages/cmain/func/init.php');
include($_SERVER['DOCUMENT_ROOT'].'/cpages/toppart.php');
include($_SERVER['DOCUMENT_ROOT'].'/cpages/boxes/image.php');
include($_SERVER['DOCUMENT_ROOT'].'/cpages/bottonpart.php'); 
```

我把它改成

```
define ('DOCUMENT_ROOT', dirname(__FILE__));
include (DOCUMENT_ROOT.'/cpages/cmain/func/init.php');
include(DOCUMENT_ROOT.'/cpages/toppart.php');
include(DOCUMENT_ROOT.'/cpages/boxes/image.php');
include(DOCUMENT_ROOT.'/cpages/bottonpart.php'); 
```

但现在它给了我一个错误

```
Warning: include(C:\xampp\htdocs\backbone\image/cpages/cmain/func/init.php) 
```

并`($_SERVER['DOCUMENT_ROOT']`没有告诉我错误是他们修复它的方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T06:39:20.077

问题是你不能依赖 $_SERVER 数组中的东西，因为你可能会得到各种各样的值。

所以你需要以下规则：

1.  如果编写公共代码，请将路径放在配置文件中。然后，如果 $_SERVER 在用户的服务器上不正确，他们可以覆盖它。`DOCUMENT_ROOT`如果您喜欢使用一些简单的规则（见下文），您可以帮助预先完成他们的配置。

2.  如果编写代码供自己使用，并且只会在一两台服务器之间跳转，那么假设`DOCUMENT_ROOT`是正确的，如果您移动服务器并且需要，则 rwwrite 它。

* * *

`DOCUMENT_ROOT`如果预编译配置变量，如何提供默认值。

1.  在 Apache 上，检查`CONTEXT_DOCUMENT_ROOT`. `DOCUMENT_ROOT`几乎总是安全的，但有几个地方可能是错误的 - 您提供的链接就是这种情况。如果 apache 使用 mod_alias 或 mod user_dir。在这些情况下，您需要使用`CONTEXT_DOCUMENT_ROOT`哪个更安全。但请注意，Apache 仅添加`CONTEXT_DOCUMENT_ROOT`了一个月左右，因此除非您安装了最新版本，否则您需要重新使用`DOCUMENT_ROOT`.
2.  `DOCUMENT_ROOT`- 看上面
3.  使用`PATH_TRANSLATED`（减去 的长度`PHP_SELF`）来构建当前工作目录的路径。
4.  使用`SCRIPT_FILE_NAME`（减去 的长度`PHP_SELF`）来构建当前工作目录的路径。
5.  使用全局变量`__DIR__` 到当前工作目录

然后，当您拥有这些详细信息时，请检查您知道该目录中存在的文件 - 如果存在，您可能已经找到了正确的路径。如果没有，请尝试下一个。

# azure - 带有启动任务的 Windows Azure 网站

> ID：12363279
> 
> 赞同：1
> 
> 时间：2012-09-11T05:31:04.500
> 
> 标签：azure, azure-web-roles, azure-web-app-service

我知道 Azure 网站很容易，没有角色配置等......但我仍然想知道，有没有办法在使用网站时创建启动任务？

我问是因为我想通过 FTP 或 GIT 简化现有网站的部署（不重新编译源等），然后使用 Startup Task 将额外的 IIS 提供程序部署到 GAC？

亲切的问候，弗拉丹

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:39:27.527

在“共享实例”部署模型的情况下，我认为这是不可能的，因为您的应用程序正在与许多其他租户（应用程序）共享 VM。因此，您将无权访问 GAC。不确定在整个 VM 可供您使用的“预留实例”部署模型的情况下这将如何工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-20T12:42:35.717

其实是可以的。看看：[Windows Azure 网站，使用 Webmatrix 3 或类似的启动任务（不使用 Visual Studio）](https://stackoverflow.com/questions/17863618/windows-azure-website-with-a-startup-task-using-webmatrix-3-or-similar-without)

但是，您不能以提升的权限运行它。

# nhibernate - 关联引用未映射 - 每个子类策略按表映射的对象集合

> ID：12363283
> 
> 赞同：2
> 
> 时间：2012-09-11T05:31:52.883
> 
> 标签：nhibernate, mapping, table-per-subclass

我在使用 NHibernate 映射时遇到问题，我不确定我是否犯了一个菜鸟错误，或者我是否遇到了 NHibernate 的限制

我有三个域对象与关联的映射 hbm.xml 文件
Person
SpecialPerson
PersonCategory

```
public class Person
{
    public virtual int Id { get; set; }
    public virtual string Name { get; set; }
}

<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2">
  <class name="Person"
         table="Person">
    <id name="Id" column="PersonID">
      <generator class="native" />
    </id>
    <property name="Name" />
  </class>
</hibernate-mapping> 
```

SpecialPerson 派生自 Person

```
public class SpecialPerson : Person
{
    public virtual string MagicString { get; set; }
    public virtual PersonCategory PersonCategory { get; set; }
}

<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2">
  <joined-subclass name="SpecialPerson"
                   extends="Person">
    <key column="PersonID" />
    <property name="MagicString" />
    <many-to-one name="PersonCategory" column="PersonCategoryID" cascade="save-update" />
  </joined-subclass>
</hibernate-mapping> 
```

并且 PersonCategory 拥有一组 SpecialPersons <== 这就是让我感到悲伤的原因

```
public class PersonCategory
{
    public virtual int Id { get; set; }
    public virtual ICollection<SpecialPerson> Persons { get; set; } 
}

<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2">
  <class name="PersonCategory"
         table="PersonCategory">
    <id name="Id" column="PersonCategoryID">
      <generator class="native" />
    </id>
    <set name="Persons" table="SpecialPerson" inverse="true">
      <key column="PersonCategoryID" />
      <one-to-many class="SpecialPerson"/>
    </set>
  </class>
</hibernate-mapping> 
```

当我尝试创建会话时，我得到一个 NHibernate.MappingException 说“关联引用未映射的类：SpecialPerson”

要么我没有使用正确的语法，因为我不应该指定 table 属性，但是当我尝试引用派生类型或
NHibernate 不允许对象保存派生的集合时类型，除非该派生类型根据具体的类继承映射策略映射到表中。任何人都可以启发我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T07:48:29.350

我能够在[这里找到答案](http://www.thebestcsharpprogrammerintheworld.com/blogs/nhibernate-mappingexception-association-references-unmapped-class.aspx)

所以总结是这与我试图引用派生类型的事实无关。集合的一对多元素中的类属性需要一个完全签名的名称。所以这行得通

```
<set name="Persons" table="SpecialPerson">
  <key column="PersonCategoryID" />
  <one-to-many class="NHibernateTest.Domain.Test.SpecialPerson, NHibernateTest, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"/>
</set> 
```

我不知道为什么在这种情况下它需要一个完全签名的名称，而我在其他任何地方都使用了简化的名称而没有任何问题。

所以这不是 NHIbernate 的限制，当我正在考虑重写我们现有的许多映射的令人讨厌的任务时，这是一个很大的解脱。

# android - 如何在 Android 应用中同步 Google 电子表格并从中读取行

> ID：12363287
> 
> 赞同：4
> 
> 时间：2012-09-11T05:32:10.917
> 
> 标签：android, google-docs, google-sheets, google-spreadsheet-api

我的 Google Drive 中有一个电子表格文件，我想从 Android 应用程序同步它。成功同步后，我的应用中有一些搜索条件，我希望从我同步的文件中获得基于此条件的结果。我是第一次这样做，并没有得到好的资源。

**1) 如何在 Android App 中同步 Google Drive 文件？**

**2) 如何从我已同步的电子表格中检索特定数据？**

**注意**- 我也对**Google Docs API 和 Google Drive SDK**感到困惑。

在我的应用程序中使用什么？

我每次只有一个文件要同步，而不是所有文件。并且该文件使用私钥对所有人开放。

**我已经实现了一些代码，但它不工作。下面是我想在我的 android 应用程序中同步的电子表格公共 url。**

我正在按照[这里](https://developers.google.com/google-apps/spreadsheets/)的步骤进行操作。

[我的测试电子表格 URL](https://docs.google.com/spreadsheet/pub?key=0AlJeYFlqqMqrdGxOaHh3czVocmEtRlFsTDNiWno4VWc&output=html)

```
try {
    String USERNAME = "xxxxx";
    String PASSWORD = "xxxxx";

    SpreadsheetService service =
        new SpreadsheetService("Testing");
    service.setUserCredentials(USERNAME, PASSWORD);
    // TODO: Authorize the service object for a specific user (see other sections)

    // Define the URL to request.  This should never change.
    URL SPREADSHEET_FEED_URL = new URL(
            "https://spreadsheets.google.com/feeds/spreadsheets/private/full");

    // Make a request to the API and get all spreadsheets.
    SpreadsheetFeed feed = service.getFeed(SPREADSHEET_FEED_URL,
            SpreadsheetFeed.class);
    List<SpreadsheetEntry> spreadsheets = feed.getEntries();

    if (spreadsheets.size() == 0) {
        // TODO: There were no spreadsheets, act accordingly.
    }

    // TODO: Choose a spreadsheet more intelligently based on your
    // app's needs.
    SpreadsheetEntry spreadsheet = spreadsheets.get(0);
    System.out.println(spreadsheet.getTitle().getPlainText());

    // Make a request to the API to fetch information about all
    // worksheets in the spreadsheet.
    List<WorksheetEntry> worksheets = spreadsheet.getWorksheets();

    // Iterate through each worksheet in the spreadsheet.
    for (WorksheetEntry worksheet : worksheets) {
        // Get the worksheet's title, row count, and column count.
        String title = worksheet.getTitle().getPlainText();
        int rowCount = worksheet.getRowCount();
        int colCount = worksheet.getColCount();

        // Print the fetched information to the screen for this worksheet.
        System.out.println("\t" + title + "- rows:" + rowCount + " cols: " + colCount);
    }
} catch (Exception e) {
    e.printStackTrace();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-09T09:02:53.923

我得到了它。我没有添加权限，这就是它给我错误的原因。我们需要添加以下权限进行授权。

```
<uses-permission android:name="android.permission.ACCOUNT_MANAGER" />
<uses-permission android:name="android.permission.AUTHENTICATE_ACCOUNTS" /> 
```

# android - 客户端/服务器通信

> ID：12363288
> 
> 赞同：0
> 
> 时间：2012-09-11T05:32:20.623
> 
> 标签：android, client-server

我是 android 新手，我需要开发一个将位置信息存储在服务器中的应用程序。现在另一个应用程序应该从服务器接收它并在 textview 中显示它。有没有办法做到这一点。请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T05:39:33.580

您可以使用网络服务来做到这一点。您必须从您的应用程序中获取您的 gps 位置并通过 Web 服务将其发送到服务器。在服务器端，您必须将其存储在数据库中。之后，另一个应用程序检查数据库中是否有新数据可用。如果有新数据可用，它会通过 Web 服务获取数据并将其显示在文本视图中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T05:39:25.170

要与其他设备/服务器通信，您需要一些协议。您可以使用自己的套接字，也可以使用 Http 协议。通过使用 HttpProtocol，您可以调用 url，将一些数据发布到 url，从 url 获取一些数据。现在，如果你决定去Http Connection，你需要一些webservices，通过它你可以从url 发送和接收数据，webservices 的类型有很多种，其中主要使用两种。1\. Rest 服务 2\. Soap Web 服务

并且您可以发送和接收数据，无论是 xml 还是 json，因为两者都非常标准化且易于使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T05:43:42.683

好吧，您首先需要了解的是客户端/服务器架构，并且不了解使用和访问 Web 服务的逻辑。

[这](http://www.codeproject.com/Articles/112381/Step-by-Step-Method-to-Access-Webservice-from-Andr)是完整的指南。

希望这可以帮助。

# sql - SQL查询查找没有子记录的父记录。子记录和父记录都在同一个表上

> ID：12363292
> 
> 赞同：0
> 
> 时间：2012-09-11T05:32:53.600
> 
> 标签：sql, parent-child

我需要一个 SQL 查询来查找没有任何子记录的父记录。子记录和父记录都在同一个表上

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:43:55.820

如下表中的一个`SELF JOIN`将给没有孩子的父母。

```
-- relations (record_id, parent_id)
SELECT parents.record_id 
FROM 
    relations parents
    LEFT JOIN relations children
    ON parents.record_id = children.parent_id
WHERE 
    children.record_id IS NULL 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:42:34.093

假设：“mytable”是您的表，parent_id 是对父级 PK 的引用，顶级父级的 parent_id 为空：

```
SELECT * FROM mytable
WHERE id IN (SELECT parent_id FROM mytable WHERE parent_id IS NOT NULL) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T05:42:48.130

你可以试试这个：

```
SELECT * FROM Nodes N
WHERE NOT EXISTS (SELECT ID FROM Nodes WHERE Nodes.ParentID = N.ID) 
```

# javascript - HTML 5 和 three.js 代码在网页上不显示任何内容

> ID：12363295
> 
> 赞同：0
> 
> 时间：2012-09-11T05:33:02.807
> 
> 标签：javascript, html, html5-canvas, three.js

```
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>3d cylinder</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no,minimum-scale=1.0, maximum-scale=1.0">
        <style>
            body {
                font-family: Monospace;
                background-color: #f0f0f0;
                margin: 0px;
                overflow: hidden;
            }
        </style>
    </head>
    <body>

        <script src="three.min.js" type="text/javascript"></script>

        <script src="Stats.js" type="text/javascript"></script>

        <script>

            var container, stats;

            var camera, scene, renderer;

            var cylinder;

            var targetRotation = 0;
            var targetRotationOnMouseDown = 0;

            var mouseX = 0;
            var mouseXOnMouseDown = 0;

            var windowHalfX = window.innerWidth / 2;
            var windowHalfY = window.innerHeight / 2;

            init();         

            function init() {

                container = document.createElement( 'div' );
                document.body.appendChild( container );

                var info = document.createElement( 'div' );
                info.style.position = 'absolute';
                info.style.top = '10px';
                info.style.width = '100%';
                info.style.textAlign = 'center';                
                container.appendChild( info );              

                camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
                camera.position.y = 150;
                camera.position.z = 500;

                scene = new THREE.Scene();

                // cylinder
                var materials = [];
                for ( var i = 0; i < 6; i ++ ) {

                    materials.push( new THREE.MeshBasicMaterial( { color: Math.random() * 0xffffff } ) );

                }
                cylinder = new THREE.Mesh(new THREE.CylinderGeometry(100, 100, 400, 50, 50, false), materials);
                    cylinder.overdraw = true;
                    scene.add(cylinder);

                renderer = new THREE.CanvasRenderer();
                renderer.setSize( window.innerWidth, window.innerHeight );

                container.appendChild( renderer.domElement );

                stats = new Stats();
                stats.domElement.style.position = 'absolute';
                stats.domElement.style.top = '0px';
                container.appendChild( stats.domElement );   

                window.addEventListener( 'resize', onWindowResize, false );

            }

            function onWindowResize() {

                windowHalfX = window.innerWidth / 2;
                windowHalfY = window.innerHeight / 2;

                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();

                renderer.setSize( window.innerWidth, window.innerHeight );

            }

        </script>

    </body>
</html> 
```

我正在尝试通过以下代码使用 HTML5 和 three.js 绘制 3d 圆柱体。我正在使用 Canvas 渲染并在 google chrome 浏览器上对其进行测试。在控制台上显示“Three.CanvasRenderer 50”。可能是什么原因，这条消息是什么意思？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T20:46:22.513

尝试以下“Hello world”示例之一：

[mrdoob.com](http://mrdoob.com/)

[你好世界](http://stemkoski.github.com/Three.js/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T23:28:06.957

问题在于材料的初始化。看起来您正试图将多种材料映射到圆柱体上。也许您从一个多维数据集示例中获取了这个片段：

```
var materials = [];
for ( var i = 0; i < 6; i ++ ) {
    materials.push( new THREE.MeshBasicMaterial( { color: Math.random() * 0xffffff } ) );
} 
```

有问题的“6”适用于立方体，但不适用于圆柱体。我不完全确定圆柱体的阵列结构，但我认为 6 不是用 2500 (50x50) 面创建的圆柱体的正确材料数量。您将不得不研究气缸材料格式。 [这是 github 上的讨论，](https://github.com/mrdoob/three.js/issues/901)可以帮助您入门。

通过做这个：

```
cylinder = new THREE.Mesh(new THREE.CylinderGeometry(100, 100, 400, 10, 10, false), new THREE.MeshBasicMaterial( { color: Math.random() * 0xffffff } ));
cylinder.overdraw = true;
scene.add(cylinder); 
```

你应该看到你的气缸。

请注意，您还应该将相机添加到场景中：

```
scene.add( camera ); 
```

# javascript - 向 Asp.net gridview 添加新行而不刷新整个网格

> ID：12363297
> 
> 赞同：-3
> 
> 时间：2012-09-11T05:33:10.667
> 
> 标签：javascript, asp.net, jquery

我有一个用于数据输入的 ASP.Net 网格视图。我想要以下功能：当焦点位于最后一行的最后一个单元格时，按 Tab 键时，应将新行添加到网格视图中。添加新行时，不应刷新整个网格，即最后一行下方应仅出现一个新的空白行。此外，在完成所有数据输入后，单击“保存”按钮（位于网格视图之外）我希望将行中输入的所有数据保存到数据库中。请帮助我使用此功能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:41:44.843

在 Grid-view 上检查此[代码项目示例](http://www.codeproject.com/Articles/417693/Insert-Update-Delete-in-ASP-NET-Gridview-DataSourc)。

希望这篇文章可以帮助您建立有关您的应用程序的想法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:27:01.483

这是可能的，但要实现这一点需要非常讨厌的黑客攻击，为什么？Microsoft 将 ASP.NET GridView 控件设计为在服务器端呈现的控件，然后将其 HTML 标记发送到客户端浏览器。如果您需要在客户端启用插入，我建议以下替代方案：

1.  （最便宜的时间成本）保持网格视图，并通过在页面上具有单独的容器来启用新记录插入：例如具有创建新记录所需的输入控件的隐藏面板。面板可以使用普通的 JaveScript 在客户端轻松显示或隐藏。当点击“保存”时，输入数据将被发送回服务器并添加到您的数据存储中。

2.  （中等时间成本）迁移到 ASP.NET [Repeater](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.repeater.aspx)控件。在中继器中，您可以控制可以包含表格最后一行的 FooterTemplate。用任何输入控件填充该行，用一个容器围绕该行，如果用户在最后一行触发 tab 键，您可以简单地显示/隐藏它。

3.  （较大的时间成本）迁移到基于客户端的网格控件，例如[jqGrid](http://www.trirand.com/blog/)。

# ruby-on-rails - 收不到邮件但在终端显示

> ID：12363298
> 
> 赞同：0
> 
> 时间：2012-09-11T05:33:14.690
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我已按照教程[http://guides.rubyonrails.org/action_mailer_basics.html](http://guides.rubyonrails.org/action_mailer_basics.html)进行操作，邮件显示在终端中，邮件中不显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:38:38.260

Set `config.action_mailer.perform_deliveries = true` in config/environments/development.rb.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:10:49.340

假设您`Mail`使用如下声明的动作邮件程序创建了邮件程序类

```
class Mail < ActionMailer::Base
  default :from => "notifications@example.com"

  def welcome_email() 
    @url  = "http://example.com/login"
    mail(:to => "email@email.com", :subject => "Welcome to My Awesome Site")
  end
end 
```

对于发送邮件，您可以使用

```
Mail.welcome_email().deliver 
```

此命令将使用操作邮件程序发送邮件。

要测试上述语句是否正常工作，请使用 rails c 打开 rails 控制台，然后输入上述命令。您将收到反对发送给谁以及使用什么主题的邮件。

# c# - 在 SQL 中将数据插入到两个表中

> ID：12363299
> 
> 赞同：1
> 
> 时间：2012-09-11T05:33:29.880
> 
> 标签：c#, asp.net, sql

可以同时向两个表中插入数据吗？在我当前的页面中，只有一个命令只在一张表中插入数据，CarTab。

```
 SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["Connection"].ConnectionString);
    SqlCommand cmd = new SqlCommand("Insert into CarTab(Manufacture,Model,Plate,Color,Year,Service,Roadtax) Values (@manufactures,@models,@plates,@colors,@years,@services,@roadtaxs)", conn);

    cmd.CommandType = CommandType.Text;
    cmd.Parameters.AddWithValue("@manufactures", Label1.Text);
    cmd.Parameters.AddWithValue("@models", Label2.Text);
    cmd.Parameters.AddWithValue("@plates", Label3.Text);
    cmd.Parameters.AddWithValue("@colors", Label4.Text);
    cmd.Parameters.AddWithValue("@years", Label5.Text);
    cmd.Parameters.AddWithValue("@services", Label6.Text);
    cmd.Parameters.AddWithValue("@roadtaxs", Label7.Text);

    conn.Open();
    cmd.ExecuteNonQuery(); 
```

如果我想放另一个表，TempTab 是什么命令？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T05:36:01.740

You can write 2 insert queries inside text you passing to SQL command or you can write a store procedure and call it instead.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:36:03.033

You repeat the same code as the one shown in your question but modify the query and parameters for the second table. Also I would recommend you wrapping IDisposable resources such as database connections and commands in a `using` statement.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T05:36:47.540

Multi-table inserts are an extension to INSERT..SELECT. Syntax is of the following form:

```
INSERT ALL|FIRST
[WHEN condition THEN] INTO target [VALUES]
[WHEN condition THEN] INTO target [VALUES]
...
[ELSE] INTO target [VALUES]
SELECT ...
FROM   source_query; 
```

Source: [http://www.oracle-developer.net/display.php?id=209](http://www.oracle-developer.net/display.php?id=209)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-11T05:37:50.320

There are many possible solution to your answer. First, I would suggest that you create a `TRIGGER` on every insert on table `CarTab`.

Second, why not change the `CommandText` of your command object and call `ExecuteNonQuery()` again?

```
using (SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["Connection"].ConnectionString))
{
    string QueryA = "Insert into CarTab(Manufacture,Model,Plate,Color,Year,Service,Roadtax) Values (@manufactures,@models,@plates,@colors,@years,@services,@roadtaxs";
    string QueryB = "Insert into TempTab(Manufacture,Model,Plate,Color,Year,Service,Roadtax) Values (@manufactures,@models,@plates,@colors,@years,@services,@roadtaxs";

    using (SqlCommand cmd = new SqlCommand("", conn))
    {
        cmd.CommandType = CommandType.Text;
        cmd.CommandText = QueryA;
        cmd.Parameters.AddWithValue("@manufactures", Label1.Text);
        cmd.Parameters.AddWithValue("@models", Label2.Text);
        cmd.Parameters.AddWithValue("@plates", Label3.Text);
        cmd.Parameters.AddWithValue("@colors", Label4.Text);
        cmd.Parameters.AddWithValue("@years", Label5.Text);
        cmd.Parameters.AddWithValue("@services", Label6.Text);
        cmd.Parameters.AddWithValue("@roadtaxs", Label7.Text);

        try
        {
            conn.Open()
            cmd.ExecuteNonQuery();

            cmd.CommandText = QueryB;
            cmd.ExecuteNonQuery();
        }
        catch (SqlException e)
        {
            // put error here
        }
        finally
        {
            conn.Close();
        }
    }
} 
```

and Lastly create a `Stored Procedure`

```
CREATE PROCEDURE InsertRecord
@manufactures varchar(50),
@models varchar(50),
@plates varchar(50),
@colors varchar(50),
@years varchar(50),
@services varchar(50),
@roadtaxs varchar(50)
AS
BEGIN
        Insert into CarTab(Manufacture,Model,Plate,Color,Year,Service,Roadtax) 
        Values (@manufactures,@models,@plates,@colors,@years,@services,@roadtaxs)

        Insert into CarTab(Manufacture,Model,Plate,Color,Year,Service,Roadtax) 
        Values (@manufactures,@models,@plates,@colors,@years,@services,@roadtaxs)
END
GO 
```

and in your C# code,

```
using (SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings["Connection"].ConnectionString))
{

    using (SqlCommand cmd = new SqlCommand("InsertRecord", conn))
    {
        cmd.CommandType = CommandType.StoredProcedure;
        cmd.CommandText = QueryA;
        cmd.Parameters.AddWithValue("@manufactures", Label1.Text);
        cmd.Parameters.AddWithValue("@models", Label2.Text);
        cmd.Parameters.AddWithValue("@plates", Label3.Text);
        cmd.Parameters.AddWithValue("@colors", Label4.Text);
        cmd.Parameters.AddWithValue("@years", Label5.Text);
        cmd.Parameters.AddWithValue("@services", Label6.Text);
        cmd.Parameters.AddWithValue("@roadtaxs", Label7.Text);

        try
        {
            conn.Open()
            cmd.ExecuteNonQuery();
        }
        catch (SqlException e)
        {
            // put error here
        }
        finally
        {
            conn.Close();
        }
    }
} 
```

# c# - 如何使用 C# 自动检测连接的 SSID

> ID：12363303
> 
> 赞同：2
> 
> 时间：2012-09-11T05:34:00.647
> 
> 标签：c#, wifi

我想知道在使用 C# 时是否有任何方法可以自动检测我是否连接到特定网络的 SSID。

我看到了这样的[例子](https://stackoverflow.com/questions/2331570/how-to-get-ssid-and-rssi-for-win7-using-c-sharp)，[这个](https://stackoverflow.com/questions/9428873/how-do-i-know-if-my-computers-not-connected-to-a-network)和[这个](https://stackoverflow.com/questions/431755/get-ssid-of-the-wireless-network-i-am-connected-to-with-c-sharp-net-on-windows)。

我真正想要的是让我的应用程序能够自动检测到我已连接或断开连接到该 SSID 以针对每种情况执行一些功能。

请并感谢您的帮助

# android - 无法通过从 android 传递两个参数来使用 dot net web 服务

> ID：12363312
> 
> 赞同：0
> 
> 时间：2012-09-11T05:34:53.237
> 
> 标签：android, web-services, xml-parsing

现在我正在通过 SOAP 方法在 android 中使用 dot net web 服务。这就是我要使用的确切 web 服务。

“http://54.251.60.177/TMSOrdersService/TMSDetails.asmx”这个web服务实际上是在获取xml格式的数据

此 Web 服务的输入值是

**FromDate : 01/01/2012**

**截止日期 : 07/07/2012**

将这些输入值输入编辑文本框后，当我单击“调用”按钮显示空白屏幕时，我在 logcat 上也找不到任何东西..

**日志猫**

```
09-11 11:11:41.314: D/AndroidRuntime(442): Shutting down VM
09-11 11:11:41.323: D/dalvikvm(442): Debugger has detached; object registry had 1 entries
09-11 11:11:41.374: I/AndroidRuntime(442): NOTE: attach of thread 'Binder Thread #3' failed
09-11 11:11:41.844: D/AndroidRuntime(450): >>>>>>>>>>>>>> AndroidRuntime START      <<<<<<<<<<<<<<
09-11 11:11:41.844: D/AndroidRuntime(450): CheckJNI is ON
09-11 11:11:41.974: D/AndroidRuntime(450): --- registering native functions ---
09-11 11:11:42.034: I/jdwp(450): Ignoring second debugger -- accepting and dropping
09-11 11:11:42.524: I/ActivityManager(75): Starting activity: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.example.test_webservice/.Test_webservice }
09-11 11:11:42.584: D/AndroidRuntime(450): Shutting down VM
09-11 11:11:42.604: D/dalvikvm(450): Debugger has detached; object registry had 1 entries
09-11 11:11:42.714: I/AndroidRuntime(450): NOTE: attach of thread 'Binder Thread #3' failed
09-11 11:11:48.973: D/dalvikvm(178): GC_EXPLICIT freed 438 objects / 20576 bytes in 100ms 
```

请问有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T07:13:59.897

我不知道你是否使用 ksoap2，但我编写并测试了这个函数，它工作正常，我得到了值。希望能帮助到你：

```
import org.ksoap2.SoapEnvelope;
import org.ksoap2.serialization.SoapObject;
import org.ksoap2.serialization.SoapSerializationEnvelope;
import org.ksoap2.transport.HttpTransportSE;

public void getTMSChart(String FromDate, String ToDate)
{
    System.setProperty("http.keepAlive", "false");        
    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);        
    envelope.dotNet = true;
    String namespace = "http://tempuri.org/";
    String url = "http://54.251.60.177/TMSOrdersService/TMSDetails.asmx";
    String method = "GetTMSChart";

    SoapObject request = new SoapObject(namespace, method);        
    request.addProperty("FromDate", FromDate);               
    request.addProperty("ToDate", ToDate);

    envelope.setOutputSoapObject(request);
    HttpTransportSE androidHttpTransport = new HttpTransportSE(url);

    try {
        androidHttpTransport.call(namespace + method, envelope);
        SoapObject result = (SoapObject) envelope.bodyIn;
        SoapObject root =  (SoapObject) ((SoapObject)(result).getProperty(0)).getProperty("NewDataSet");
        int tablesCount = root.getPropertyCount();
        for (int i = 0; i < tablesCount; i++)
        {
            SoapObject table = (SoapObject) root.getProperty(i);
            int propertyCount = table.getPropertyCount();
            for (int j = 0; j < propertyCount; j++)
            {           
                String orderNo =  table.getPropertyAsString("Order_No");
                int freightRate = Integer.parseInt(table.getPropertyAsString("Freight_Rate"));
                int marginPercent = Integer.parseInt(table.getPropertyAsString("Margin_Percent"));
                // whatever you do with these values
            }                   
        }
    }   
    catch (Exception e) {

    }   
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:17:21.393

Web 服务实际上没有返回所有提交日期的有效输出。由于试错，Web 服务返回了有效的输出

FromDate: 01/09/2012

截止日期：2012 年 5 月 9 日

**编辑：**

使用上述值，我可以获得以下 xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
 <soap:Body>
  <GetTMSChartResponse xmlns="http://tempuri.org/">
     <GetTMSChartResult>
        <NewDataSet xmlns="">
           <Table>
              <Order_No>OR00000004</Order_No>
              <Freight_Rate>225</Freight_Rate>
              <Margin_Percent>87</Margin_Percent>
           </Table>
        </NewDataSet>
     </GetTMSChartResult>
  </GetTMSChartResponse> 
```

# scala - 依赖的类和类型

> ID：12363313
> 
> 赞同：1
> 
> 时间：2012-09-11T05:34:56.207
> 
> 标签：scala

假设我想创建一个简单的图形表示，它们的类型`Vertex`和`Edge`它们的类型相互依赖。具体实现可能如下所示：

```
case class Edge(id: Int, label: String, endpoints: (Vertex, Vertex))
case class Vertex(id: Int, data: Data, edges: Map[Int, Edge]) 
```

`Edge`取决于，`Vertex`反之亦然。我真正想要的是`id`等`data`具有泛型类型。我想知道如何设计这个最好的方式？

```
trait Vertex[A, B] {
  def id: A
  def data: B
  // What about types for the edges etc?
}

trait Edge[A, ...] {
  def id: A
  def label: String
  def endpoints: (Vertex[...], Vertex[...])
} 
```

一个简单的例子将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T08:59:37.530

重用类型参数有什么问题？

```
trait Vertex[A, B] {
  def id: A
  def data: B
  def edges: Map[A, Edge[A, B]]
} 
```

然后在`Edge`：

```
trait Edge[A, B] {
  def id: A
  def label: String
  def endpoints: (Vertex[A, B], Vertex[A, B])
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T06:27:53.067

由于 Vertex 和 Edge 可以有不同的 ID 类型，您可能希望 Vertex 和 Edge 成为 Graph trait 的内部特征，它具有所有类型参数。这样，Vertex 可以知道 Edge trait 的 ID 类型，Edge 可以知道 Vertex trait 的 ID 和 Data 类型。

```
trait Graph[VertexID, EdgeID, Data] {

  trait Vertex {
    def id: VertexID
    def data: Data
    def edges: Map[EdgeID, Edge]
  }

  trait Edge {
    def id: EdgeID
    def label: String
    def endpoints: (Vertex, Vertex)
  }

} 
```

顺便说一下，由于路径依赖类型，Edge 只能有在同一个 Graph 中的端点，而 Vertex 只能有在同一个 Graph 中的边。

# c++ - 当我使用可变参数时，它适用于 int 和 double，但是当涉及到 float 时，会发生错误

> ID：12363314
> 
> 赞同：0
> 
> 时间：2012-09-11T05:35:25.437
> 
> 标签：c++, c, visual-studio-2008, visual-c++, c++11

当我使用可变参数时，它适用于 int 和 double，但是当涉及到 float 时，就会发生错误。

这是代码。

```
void vaParamTest(int a, ...)
{
    va_list ap;
    va_start(ap, a);
    for (int  i = 0; i < a; i++)
        printf("%f\t", va_arg(ap, float));
    putchar('\n');
    va_end(ap);
} 
```

我传递这样的参数。

```
vaParamTest(3, 3.5f, 8.3f, 5.1f); 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-11T05:41:30.913

作为可变参数函数参数传递的变量是**default-promoted**，这使得所有`float`s 都成为`double`s。你永远不能`float`争论（就像[你永远不能`char`争论](https://stackoverflow.com/q/11985774/596781)一样）。在`printf`，`%f`总是意味着`double`。

# android - Android.View.InflateException in yFiles Android library

> ID：12363318
> 
> 赞同：0
> 
> 时间：2012-09-11T05:35:58.513
> 
> 标签：android

I am working on Yfiles for Android 2.2\. When i imported the tutorial, given by the library owners. It is showing me the following error and application is not running. If some one can understand the following exception please do me correct.

```
09-11 10:28:50.478: E/AndroidRuntime(11938): FATAL EXCEPTION: main
09-11 10:28:50.478: E/AndroidRuntime(11938): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.yworks.android/com.yworks.android.SampleApplication}: android.view.InflateException: Binary XML file line #8: Error inflating class com.yworks.yfiles.ui.GraphControl
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1872)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1893)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.app.ActivityThread.access$1500(ActivityThread.java:135)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1054)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.os.Handler.dispatchMessage(Handler.java:99)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.os.Looper.loop(Looper.java:150)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.app.ActivityThread.main(ActivityThread.java:4389)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at java.lang.reflect.Method.invokeNative(Native Method)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at java.lang.reflect.Method.invoke(Method.java:507)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:849)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:607)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at dalvik.system.NativeStart.main(Native Method)
09-11 10:28:50.478: E/AndroidRuntime(11938): Caused by: android.view.InflateException: Binary XML file line #8: Error inflating class com.yworks.yfiles.ui.GraphControl
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:581)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.view.LayoutInflater.rInflate(LayoutInflater.java:623)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.view.LayoutInflater.inflate(LayoutInflater.java:408)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:250)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.app.Activity.setContentView(Activity.java:1742)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at com.yworks.android.SampleApplication.onCreate(SampleApplication.java:28)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1072)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1836)
09-11 10:28:50.478: E/AndroidRuntime(11938):    ... 11 more
09-11 10:28:50.478: E/AndroidRuntime(11938): Caused by: java.lang.ClassNotFoundException: com.yworks.yfiles.ui.GraphControl in loader dalvik.system.PathClassLoader[/data/app/com.yworks.android-1.apk]
09-11 10:28:50.478: E/AndroidRuntime(11938):    at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:240)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at java.lang.ClassLoader.loadClass(ClassLoader.java:551)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at java.lang.ClassLoader.loadClass(ClassLoader.java:511)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.view.LayoutInflater.createView(LayoutInflater.java:471)
09-11 10:28:50.478: E/AndroidRuntime(11938):    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:570)
09-11 10:28:50.478: E/AndroidRuntime(11938):    ... 20 more 
```

The java file is:

```
package com.yworks.android;

import android.app.Activity;
import android.os.Bundle;
import com.yworks.yfiles.ui.GraphControl;
import com.yworks.yfiles.ui.model.GraphExtension;
import com.yworks.yfiles.ui.model.IGraph;

/**
 * Getting Started - 01 Creating the View
 *
 * This demo simply introduces class {@link GraphControl}, the
 * central UI element for working with graphs in @PRODUCT@,
 * and {@link GraphExtension}, which provides convenience
 * methods for working with IGraphs.
 */
public class SampleApplication extends Activity {

  private GraphControl graphControl;
  private GraphExtension graphExtension;

  @Override
  protected void onCreate( final Bundle savedInstanceState ) {

        super.onCreate(savedInstanceState);
        // Sets the content view to the main layout loaded from
        // res/layout/main.xml
        setContentView(R.layout.main);
        // The GraphControl is declared in the loaded layout,
        // so now we can retrieve a reference to it
        graphControl = (GraphControl) findViewById(R.id.graphControl);
        // GraphExtension provides convenience methods
        // which are used in the following demos.
        graphExtension = new GraphExtension(graphControl.getGraph());

    // We'll initialize the app here in the following demos.
  }

  /**
   * Convenience property for getting the GraphControl's Graph
   * @return The GraphControls Graph
   */
  public IGraph getGraph() {
    return graphControl.getGraph();
  }

} 
```

Thanks Regards iambilloo

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:40:15.747

在您的应用程序目录中创建一个名为“libs”的文件夹，并将您的外部 jar 放在那里。在 Eclipse 中更正 Java 构建路径，然后重建（清理+构建）您的应用程序！我有一个类似的问题，就这样消失了。

# ios - Error running 'Cedar' unit tests from command line

> ID：12363319
> 
> 赞同：4
> 
> 时间：2012-09-11T05:36:00.040
> 
> 标签：ios, xcode, unit-testing, cedar-bdd

I'm using the cedar testing framework and trying to run the tests from command line. The build crashes with this error:

```
Unresolved error Error Domain=NSCocoaErrorDomain Code=512 "The operation couldn’t be completed. (Cocoa error 512.)" UserInfo=0x6c5c6c0 {reason=Failed to create file; code = 2}, {
reason = "Failed to create file; code = 2";
} 
```

The tests run from xcode without any problems, I just can't get them to work from command line. Any ideas? Thanks

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-11T08:12:51.420

我对单元测试和核心数据有同样的问题：

首先我遇到了“找不到商店的模型”。我使用这个线程解决了这个问题：[Error running 'Cedar' unit tests from command line](https://stackoverflow.com/questions/12363319/error-running-cedar-unit-tests-from-command-line)

其次，我遇到了同样的错误：“无法创建文件；代码 = 2”

然后我查看了 URL 并看到：

NSPersistentStoreCoordinator 和 NSManagedObjectModel 的 URL 完全不同。但只有当我进行单元测试并且只有在修复第一个错误之后。

通常模型在 "/some/path/<DataModelFile>.app/<DataModel>.momd/
sqlite 在 "some/path/Documents/<SQLiteFile>.sqlite

因此，我使用以下代码在测试和运行中获取正确的 URL：

```
NSBundle *bundle = [NSBundle bundleForClass:[self class]];
NSURL *modelURL = [bundle URLForResource:@"WinNav" withExtension:@"momd"];

basePath = @"";
NSArray *arr = [modelURL pathComponents];
for (int i=0; i<[arr count]-2; i++) {
    basePath = [basePath stringByAppendingString:[arr objectAtIndex:i]];
    if (i > 0) basePath = [basePath stringByAppendingString:@"/"];
}
NSLog(@"modelURL: %@", modelURL);

NSURL *storeUrl = [NSURL fileURLWithPath:[basePath stringByAppendingString:@"/Documents/Locations.sqlite"]]; 
```

如果我没记错的话，我必须创建存储 sqlite 文件的“文档”文件夹。

如果这对您有用或如何做得更好，我们将不胜感激。

# c# - AppointmentId of meeting item deleted or cancelled from Calendar

> ID：12363322
> 
> 赞同：1
> 
> 时间：2012-09-11T05:36:02.333
> 
> 标签：c#, vba, outlook, outlook-addin, exchange-server-2010

I am developing an Add-In that needs to do a function when I delete / cancel a meeting.

I used the code:

```
Application app = Globals.ThisAddIn.Application;
Folder calendarFolder = app.GetNamespace("MAPI").GetDefaultFolder(OlDefaultFolders.olFolderCalendar) as Folder;
 _calcitems.ItemRemove += CalcitemsItemRemove; 
```

The event CalcItemsRemove is called every time something is removed from the CalenderFolder.

Strangely this event is called even if the meeting item got accepted.

My question is how to identify

-> If an appointment is deleted from the calender Item. -> If an appointment is cancelled

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-05T18:30:17.413

当您收到会议约会时，Outlook 会自动在日历中创建一个暂定约会。当您在收件箱中明确接受邀请时，Outlook 会删除暂定约会并创建一个全新的项目。这样做是为了解决当用户在一台机器上接受会议，然后从连接到同一个 Exchange 邮箱的另一台机器上删除邀请时出现的问题（我刚刚接受了，对吗？让我们摆脱邀请） - 如果邀请被删除, Outlook 删除用户刚刚从另一台计算机接受的约会。

重新创建约会时，将触发 Items.ItemAdd 事件。您可以将其视为全新的约会。

# scala - Astyanax / Cassandra InstantiationException when reading column / columnlist (Scala)

> ID：12363327
> 
> 赞同：2
> 
> 时间：2012-09-11T05:36:31.460
> 
> 标签：scala, cassandra, astyanax

Stuck for hours on this one! Thanks so much for any insight :)

*   Scala 2.9.2
*   Astyanax 1.0.6 (also tried 1.0.5)
*   Cassandra 1.1.4
*   Using CompositeRowKey, CompositeColumnName
*   No problem inserting into Cassandra
*   Can read a row, ColumnList.size() returns correct count however any attempt to access ColumnList (i.e. iterate, access iterate ColumnList, getColumnByIndex(), getColumnByName(), etc) will throw the following exception:

Exception:

java.lang.RuntimeException: java.lang.InstantiationException

relevant stack trace:

```
java.lang.RuntimeException: java.lang.InstantiationException: shops.integration.db.scalaquery.ReportingDao$MetricsLogFileCompositeColumn
        at com.netflix.astyanax.serializers.AnnotatedCompositeSerializer.fromByteBuffer(AnnotatedCompositeSerializer.java:136)
        at com.netflix.astyanax.serializers.AbstractSerializer.fromBytes(AbstractSerializer.java:40)
        at com.netflix.astyanax.thrift.model.ThriftColumnOrSuperColumnListImpl.constructMap(ThriftColumnOrSuperColumnListImpl.java:201)
        at com.netflix.astyanax.thrift.model.ThriftColumnOrSuperColumnListImpl.getColumn(ThriftColumnOrSuperColumnListImpl.java:189)
        at com.netflix.astyanax.thrift.model.ThriftColumnOrSuperColumnListImpl.getColumnByName(ThriftColumnOrSuperColumnListImpl.java:103) 
```

Specifically:

```
at java.lang.Class.newInstance0(Class.java:357)
at java.lang.Class.newInstance(Class.java:325)
at com.netflix.astyanax.serializers.AnnotatedCompositeSerializer.createContents(AnnotatedCompositeSerializer.java:167) 
```

Relevant sample code:

```
class TestCompositeColumn(@(Component @field) var logFileId: Long, @(Component @field) var dt: String, @(Component @field) var dk: String) extends Ordered[TestCompositeColumn] {
    def this() = this(0l, "", "")
    //equals, hashCode, compare all implemented
} 
```

I've also tried this variation on the class:

```
class TestCompositeColumn(idIn: Long, key1In: String, key2In: String) extends Ordered[TestCompositeColumn] {
    @Component(ordinal = 0) var id: Long = idIn
    @Component(ordinal = 1) var key1: String = key1In
    @Component(ordinal = 2) var key2: String = key2In

    def this() = this(0, null, null)
    //equals, hashCode, compare all implemented
} 
```

* * *

```
val TEST_COLUMN_FAMILY = new ColumnFamily[TestRowKey, TestCompositeColumn](
    "test_column_family",
    new AnnotatedCompositeSerializer[TestRowKey](classOf[TestRowKey]),
    new AnnotatedCompositeSerializer[TestCompositeColumn](classOf[TestCompositeColumn]),
    BytesArraySerializer.get());

var columnList = keyspace.prepareQuery(TEST_COLUMN_FAMILY)
    .getKey(TestRowKey(1l, 2012090100))
    .execute().getResult()

    // OK - will return 6 for example, also verified via cassandra-cli
    println(columnList.size())         

    // ERROR - will throw exception above.  Iterating, or any type of access will also throw same exception
    println(columnList.getColumnByIndex(0).getStringValue()) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-16T05:06:50.823

事实证明，TestCompositeColumn 不能定义为内部类。

# c++ - Unhandled exception in working with cstrings

> ID：12363328
> 
> 赞同：0
> 
> 时间：2012-09-11T05:36:42.207
> 
> 标签：c++, c, char

> **Possible Duplicate:**
> [Why do I get a segmentation fault when writing to a string?](https://stackoverflow.com/questions/164194/why-do-i-get-a-segmentation-fault-when-writing-to-a-string)
> [What is the difference between char a[] = “string”; and char *p = “string”;](https://stackoverflow.com/questions/9460260/what-is-the-difference-between-char-a-string-and-char-p-string)

I have find the fault ,but I don't know why. so would you help me ?

If I define the `char str[]` instead the `char * str` in the main function , it can work normally , else the line of `*pSlow = *pFast;` will crash with `"Unhandled exception at 0x012314f3 in shanchu.exe: 0xC0000005: Access violation writing location 0x0123583c."`

Thanks

```
#include <stdio.h>     
#include <string.h>       
#include <iostream>

char * delChar(char *s,int iLen)    
{    
    if((s == NULL) || iLen <= 0)    
    {    
        return NULL;    
    }    
    int i;    

    const int MAXLEN = 26;    

    unsigned int min,hashTable[MAXLEN];    

    for(i = 0;i < MAXLEN;i ++)    
    {    
        hashTable[i] = 0;    
    }    

    for(i = 0;i < iLen;i ++)    
    {    
        hashTable[*(s + i) - 'a'] ++;    
    }    

    while(hashTable[i] == 0)    
    {    
        i ++;    
    }    
    min = hashTable[i];    

    for(i = 0;i < MAXLEN;i ++)    
    {    
        if(hashTable[i] != 0)    
        {    
            if(hashTable[i] < min)    
            {    
                min = hashTable[i];    
            }    
        }               
    }    

    char *pSlow = s;  
    char *pFast = s;      
    while(*pFast != '\0')    
    {    
        if(hashTable[*pFast - 'a'] != min)    
        {    
            *pSlow = *pFast;     
            pSlow ++;  
        }           
        pFast ++;  
    }    
    *pSlow = '\0';  

    return s;    
}    
int main()    
{    
    char* str = "abadccdehigiktk";    
    int iLen = strlen(str)/sizeof(char);    
    char *tmp = delChar(str,iLen);    
    printf("%s\n",tmp); 
system("pause");

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T05:39:29.010

```
char* str = "abadccdehigiktk"; 
```

`string-literal`不应修改。在您的功能`delChar`中，您试图修改`string-literal`. 这是未定义的行为。

你应该使用

```
char[] str = "abadccdehigiktk"; 
```

或 mb `std::string`（因为您使用 C++ 编写）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T05:41:12.017

这条线

```
char* str = "abadccdehigiktk"; 
```

定义了一个指向*常量*字符串的指针，即该字符串*不能*被修改。如果将其声明为数组 ( `char str[]`)，则它是堆栈上的数组，因此可以修改。

至于字符的删除，为什么不用eg`memmove`来代替呢？

```
// "Delete" the fourth character of a string
memmove(str + 3, str + 4, strlen(str) - 3); 
```

如果你改用`std::string`它，它会突然*变得*更容易使用[`std::string::erase`](http://en.cppreference.com/w/cpp/string/basic_string/erase)：

```
std::string str = "abadccdehigiktk";

// Remove the fourth character
str.erase(3, 1); 
```

您也不必担心指针与数组。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T05:40:28.340

这部分是完全错误的：

```
while(hashTable[i] == 0)    
{    
    i ++;    
}    
min = hashTable[i];    

for(i = 0;i < MAXLEN;i ++)    
{    
    if(hashTable[i] != 0)    
    {    
        if(hashTable[i] < min)    
        {    
            min = hashTable[i];    
        }    
    }               
} 
```

首先`i`尚未初始化，因此它将超出范围（由于之前的“for”循环，它最初将等于“iLen”）。其次，逻辑是一团糟，你可以在一个循环中做到这一点。我认为您可能在这里尝试做的是：

```
min = UINT_MAX;
for (i = 0; i < MAXLEN; i++)    
{
    if (hashTable[i] > 0 && hashTable[i] < min)
    {
        min = hashTable[i];
    }
} 
```

即在哈希表中找到最小的非零值。

# symfony - If else hiding div

> ID：12363331
> 
> 赞同：0
> 
> 时间：2012-09-11T05:36:47.827
> 
> 标签：symfony, if-statement, doctrine, symfony-forms, symfony-2.1

I having a problem on hiding `div`..... All I wan't to do if the `query` is `NULL` then the `div` will not show, but if the `query` is not `NULL` the `div` will show.

**here is my code:**

```
 <?php
     $q = Doctrine_Query::create()
         ->select('m.MemberNo')
         ->from('Membership m')
         ->where('m.EntityID = ?',$entity->getId());
         $eMemberships = $q->fetchArray();
         $ctr == 0;

       if(!$eMemberships){
       }
       else{

  ?>
<div class="largeform" style="height: 370px; width: 906px; background-color: #FFFFFF;">
    <!--h2>Customer Cards Associated to Entity <?php echo $entity->getFirstName()." ".$entity->getLastName() ?></h2-->
    <h2>Customer Chorva <?php echo $gfUtil->transLang($_SESSION["lang"], 'CustomerassocEntity')?> <?php echo $entity->getFirstName()." ".$entity->getLastName() ?></h2>
    <table cellpadding="2" cellspacing="0">
        <thead>
            <tr>
                <th style="color: gray"><?php echo $gfUtil->transLang($_SESSION["lang"], 'membershipid')?></th>
                <th style="color: gray"><?php echo $gfUtil->transLang($_SESSION["lang"], 'cardno')?></th>
                <th style="color: gray"><?php echo $gfUtil->transLang($_SESSION["lang"], 'carduid')?></th>
                <th style="color: gray"><?php echo $gfUtil->transLang($_SESSION["lang"], 'type')?></th>
                <th style="color: gray"><?php echo $gfUtil->transLang($_SESSION["lang"], 'membershipid')?></th>
                <th style="color: gray"><?php echo $gfUtil->transLang($_SESSION["lang"], 'rebatepercent')?></th>
                <th style="color: gray"><?php echo $gfUtil->transLang($_SESSION["lang"], 'activationdate')?></th>
            </tr>
        </thead>

        <tbody>

        <?php foreach($eMemberships as $eMembership):?>
        <?php
            $q = Doctrine_Query::create()
                ->select('c.id as cID, c.CardNo as cNo, c.CardUID as cUID, c.Type as cType, c.Status as cStatus, c.MembershipID as cMID, c.RebatePercent as cPercent, c.ActivationDate as cDate')
                ->from('Card c')
                ->where('c.MemberNo = ? AND c.Type = 4',$eMembership["id"]);
                $eCards = $q->fetchArray();
        ?>
        <?php foreach($eCards as $ecard): ?>
            <tr>
                <td><?php echo $eMembership["id"] ?></td>
                <td><?php echo $ecard["cNo"] ?></td>
                <td><?php echo $ecard["cUID"] ?></td>
                <td><?php echo $ecard["cType"] ?></td>
                <td><?php echo $ecard["cMID"] ?></td>
                <td><?php echo $ecard["cPercent"] ?></td>
                <td><?php echo $ecard["cDate"] ?></td>
                <!--?php $ctr++; ?-->
            </tr>
        <?php endforeach ?>
        <?php endforeach ?>
        <!--?php if($ctr==0): ?-->
         <!--tr><td colspan="7"><?php  echo "No Record(s) found!"; ?></td></tr-->
        <!--?php endif ?-->
        </tbody>
    </table>
</div>
<?php
    }
?> 
```

by the way I'm using symfony/doctrine..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:42:37.960

我认为您需要检查从 fetchArray() 返回的数组是否没有元素

# ruby-on-rails - 将 Rails 2.3.2 升级到 Rails 2.3.14

> ID：12363337
> 
> 赞同：0
> 
> 时间：2012-09-11T05:38:02.737
> 
> 标签：ruby-on-rails, json, rabl

我被赋予了一个相当大的遗留 Rails 2.3.2 应用程序的责任，并且我被要求向这个以 JSON 格式输出数据的应用程序添加一个相当复杂的 RESTful API。

经过研究，我得出的结论是，考虑到 API 调用的性质，使用 RABL gem 可能是最好的计划。但是，我看到 RABL 的依赖项需要 ActiveSupport 2.3.14。

现在，我假设我不能让 ActiveSupport 2.3.2 和 ActiveSupport 2.3.14 都在同一个应用程序中工作，如果我理解正确，如果我升级 ActiveSupport，那么我需要升级其余的 Rails 包由于依赖要求。

谁能告诉我 Rails 2.3.2 和 Rails 2.3.14 之间的区别，或者我可以在哪里找到这些信息，以便我了解我是否可能会破坏某些现有功能？

或者，如果两个版本的 Rails 之间存在一些严重差异，任何人都可以推荐 RABL 的替代品吗？我看过很多其他的，例如 Jsonify、JBuilder、Tequila 等，但 RABL 真正吸引人的是它通过视图而不是像其他一些控制器那样在控制器中构造响应。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-30T08:10:44.417

好吧，最后我不能使用 RABL gem，或者其他任何一个。

ActiveSupport 的两个版本之间的差异导致应用程序在 I18n 方法中中断。

我不能 100% 确定这是否是适用于所有应用程序的内在差异，或者这是否是这个遗留应用程序特有的东西，因为原始开发人员在构建应用程序时做了一些非常非传统的事情，我怀疑，已经破解了几个地方的基础 Rails 代码。

但是，我最终使用 json 和 json_pure gems 生成了我需要的 JSON，它们非常简单地允许您从散列生成 JSON。它们工作得很好，不需要许多其他 gem 所需的许多依赖项。

这确实意味着您必须在控制器内部组装散列，这对我的思维方式不太理想，因为它应该只是另一个视图。

# sed - Replacing a string using sed command

> ID：12363338
> 
> 赞同：0
> 
> 时间：2012-09-11T05:38:19.417
> 
> 标签：sed

How to use sed command to match strings starting with &# in my html file and replace it with space ?

*   Example: `&#192`
*   Result: space
*   Should be completely replaced by space

It should work for all the HTML codes with three or 4 digits trailing `&#`.

Basically HTML codes: [http://webdesign.about.com/library/bl_htmlcodes.html](http://webdesign.about.com/library/bl_htmlcodes.html)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T07:30:25.990

```
$ sed 's/\&#[0-9]*/ /g' your 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:54:47.370

```
> echo "&#192" | sed -e 's_&#_ _g'
 192 
```

在 perl 中：

```
> echo "&#192" | perl -pe 's/&#/ /g'
 192 
```

在 awk 中：

```
> echo "&#192" | awk '{gsub(/&#/," ");print}'
 192 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T05:41:18.817

您可以像这样替换

```
abc="&#192"
echo $abc | sed 's/\&\#/ /g' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-11T07:39:15.707

是的，明白了`sed -e 's_&#[0-9]*_ _g'`

# php - Is it possible to use Activex in PHP?

> ID：12363340
> 
> 赞同：2
> 
> 时间：2012-09-11T05:38:20.803
> 
> 标签：php, activex

Is it possible to use ActiveX in PHP? I want to use an ActiveX in my server-side PHP code.

* * *

I'm trying to load an Activex in my PHP code, As I know this can be done with COM function in PHP, so I try to access my methods as below:

```
<?PHP
$active = new COM("sswATL.crypto");
//------------------------

$pass = "pincode";

$ret = $active->init( $pass , $retVal);

if($retVal == 0){ 
   print "Login successfully";
}
elseif($retVal == 4){

   print "Token is not present";
} 
else
{
   $errMsg = "Login failed : "; 
   print $errMsg;
  }
?> 
```

but I got this error:

```
Fatal error: Uncaught exception 'com_exception'
with message '<b>Source:</b> Unknown<br/><b>Description:</b> Unknown'
in C:\my\php\file\path.php
Stack trace:
#0 C:\my\php\file\path.php: com->init('pincode', NULL)
#1 {main}
thrown in C:\my\php\file\path.php on line 7 
```

init method is declared as:

```
int init(string s,int &num); 
```

any ideas?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:39:54.793

您可以使用[COM 函数使用 ActiveX](http://www.php.net/manual/en/ref.com.php)

可以在**[此处](http://php.net/manual/pt_BR/class.com.php)**找到有关 COM 类的良好文档。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T05:41:56.757

使用 COM 类调用 ActiveX：[http ://cn.php.net/manual/en/book.com.php](http://cn.php.net/manual/en/book.com.php)

```
function clsMSWord($Visible = false) { 
    $this->handle = new COM("word.application") or die("Unable to instanciate Word"); 
    $this->handle->Visible = $Visible; 
} 
```

# gps - How to convert integer number to latitude and longitude

> ID：12363343
> 
> 赞同：1
> 
> 时间：2012-09-11T05:38:45.687
> 
> 标签：gps, hex, blob, latitude-longitude

Initially the data was in BLOB field of SQLite database then -> hex data -> decimal data.

```
(ëÑ·,Êz¾5)->(14EBD1B7, CA7ABE35)->(350998860, 3397041663) 
```

Finally, I got a set like this:

```
longitude

350998860
350998914
350998914
350998914
350999021
350998967
350998967
350998967
350998914
350998967
350999021

Latitude

3397041663
3397041717
3397041663
3397041556
3397041610
3397041610
3397041556
3397041610
3397041610
3397041663
3397041610
3397041663 
```

I know the data was taken close to the university of Memphis with `Latitude:N 35° 7' 6.9956" Longitude:W 89° 56' 13.204"`. But I have not found any way to obtain a similar values from this dataset. Any ideas?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-04T16:59:55.913

从[这个链接](https://stackoverflow.com/questions/19408447/longitude-reading-measured-in-degrees-with-a-1x10-7-degree-lsb-signed-2-s-comp)参考我写了以下函数，它运行良好：

```
Private Function ConvertHexToLatLng(h As String) As Double
    Dim intDec As Integer
    intDec = Convert.ToInt32(h, 16)
    Dim dblLatOrLng As Double
    If intDec < Convert.ToInt32("7FFFFFFF", 16) Then
        dblLatOrLng = intDec * 0.0000001
    Else
        dblLatOrLng = 0 - ((Convert.ToInt32("FFFFFFFF", 16) - intDec) * 0.0000001)
    End If
    Return dblLatOrLng
End Function 
```

# c# - 在 Com 应用程序 (VB6) 中使用 Click-Once 部署的应用程序

> ID：12363344
> 
> 赞同：0
> 
> 时间：2012-09-11T05:38:47.667
> 
> 标签：c#, deployment, com, vb6, clickonce

我有一个 VB6 应用程序，它引用了一个 COM 可见的 .Net 应用程序，.Net 应用程序是一个包含一些表单的 windows 窗体项目。

VB6 应用程序从 .Net 应用程序调用一个方法来显示一些表单并保存数据。

问题是：如何使 .Net 应用程序被部署、使用 Click-once 自动更新并且仍然可以从 VB6 访问？因为 .Net 程序集应该在部署后使用 (RegAsm.exe) 注册！并且程序集应该在 VB6 应用程序 exe 文件旁边。

这里来自 VB6 的代码片段

```
Dim a As HISIntegration.HIS
Set a = New Rims_HISIntegration.HIS
a.Show 
```

这是.Net代码：

```
[Guid("C79963CC-0284-4848-BAED-F24FC19433F9"), ClassInterface(ClassInterfaceType.AutoDual)]
public class HIS
{
 public bool Show()
    {
        /// ...... some code.
        return (frm.ShowDialog() == DialogResult.OK);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T19:44:55.140

除非您使用 ClickOnce 部署 VB6 应用程序，否则您不会在“VB6 应用程序 exe 旁边”获得 .NET 程序集。而且您不能使用 ClickOnce 直接部署 VB6 应用程序，因为 ClickOnce 应用程序的入口点必须是 .NET exe。

您*可以*创建一个 .NET 存根应用程序，该应用程序只需启动您的 VB6 应用程序，然后使用 ClickOnce 部署所有文件（存根、VB6、.NET 程序集）。这似乎是最干净的解决方案。

# java - 如何通过RMI从另一个应用程序调用已部署应用程序的数据对象的方法？

> ID：12363347
> 
> 赞同：0
> 
> 时间：2012-09-11T05:39:01.817
> 
> 标签：java, gwt, servlets, rmi, gwt-rpc

我在 apache tomcat 上部署了两个 java 应用程序，在我的第一个应用程序的一个阶段需要与其他应用程序通信，即我想调用具有其他应用程序数据对象的 servlet 或方法。可以使用 RMI 吗？我想将一些数据发送到处理它的远程方法，并将一些结果返回给调用应用程序。那么我怎样才能与其他应用程序通信......？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T18:48:45.190

Servlet 只能进行或理解 HTTP 调用。如果你愿意直接调用一些方法，你可以使用 RMI。创建一个对象，在某个端口向 rmi 注册表注册它，在另一端获取序列化对象并将类型转换为同一类并使用它。常规 RMI 类型

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T07:04:16.897

我不确定为什么要使用 RMI 在 Servlet 之间进行通信。有更好/更干净的方法来做到这一点，比如通过它的 URL 调用 Servlet。您可以使用[URLConnection](http://docs.oracle.com/javase/tutorial/networking/urls/readingWriting.html) / [HttpClient](http://hc.apache.org/httpclient-3.x/tutorial.html)进行相同的操作。

# javascript - 如何显示存在于给定范围内的所有素数

> ID：12363349
> 
> 赞同：1
> 
> 时间：2012-09-11T05:39:19.493
> 
> 标签：javascript

创建一个 HTML 页面，它接受用户在文本字段中输入的 10 到 120 之间的整数。当用户按下“显示”按钮时，您在 JavaScript 中创建的函数应该能够显示 1 到 120 之间的所有素数。

**例子**

输入整数：20

该函数应返回： `1, 2, 3, 5, 7, 11, 13, 17, 19`

```
function primeNumbers(){
var p;
var n = document.primeForm.primeText.value;
var d;
var x;
var prime;
var displayAll = 2 + " ";
for(p = 3; p <= n; p = p+2){
    x = Math.sqrt(p);
    prime=1;
    for(d = 3; prime && (d <= x); d = d+2)
    if((p%d) == 0)
        prime = 0;
    else
        prime = 1;
    if(prime == 1){ 
        displayAll = displayAll + p + " ";
    }
}
document.primeForm.primeArea.value = displayAll; 
```

}​</p>

但它可以显示超过 120 :(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T05:56:04.873

`for`循环是一切发生的地方。因此，如果该值超出您想要的范围，则不要让`for`循环执行。为此，请在循环`if`周围放置一个语句。`for`

由于您只打算使用这些数字一次，因此无论您是直接在`if`语句中输入 min/max 还是创建一个变量来保存该值都没有关系。大多数人建议将所有变量保留在顶部，以防您需要更改范围：更容易找到它们。

关于`if`语句：`n`是决定是否执行`for`循环的因素。这是声明：`if (n >= 10 && n <= 120) { insert the for loop here }`。您所做的只是检查输入是否大于或等于 10 并检查输入是否小于或等于 120。

注意：如果您不希望显示任何内容，则在语句`for`中输出结果的循环之后包含该行。`if`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:12:17.870

虽然 Rhyono 的建议会奏效，除非`n`在 10 到 120 之间，否则什么都不会发生，请记住这是在交互式页面上，因此给用户适当的反馈**非常重要**。

当人们点击网页上的按钮时，他们期望会发生一些事情。出于这个原因，我建议您在这里采取不同的方法，如下所示：

```
function displayClicked()
{
    var n = document.primeForm.primeText.value;

    if (n < 10 || n > 120)
    {
        // Display an appropriate error to the user like:
        // "n must be between 10 and 120."
    }
    else
    {
        primeNumbers(n);
    }
} 
```

使用这种方法，用户在输入无效数字时会收到有用的反馈，而不是什么都没有发生。

# java - 无法将值从 Java 中的命令行参数推入堆栈

> ID：12363357
> 
> 赞同：0
> 
> 时间：2012-09-11T05:39:30.300
> 
> 标签：java, math, main, evaluate, infix-notation

我在java中有一个奇怪的问题。我正在尝试制作一个数学表达式计算器，它将评估一个中缀数学表达式并在屏幕上返回最终结果。我已经使用堆栈来完成任务，到目前为止，我使用的是硬编码字符串作为输入，但后来我将其更改为命令行参数以达到同样的目的。我的问题是，尽管数据类型和字符串完全相同，但我正在使用的堆栈不会从命令行输入将值推入自身。

这是将数据压入堆栈的代码。

```
public class Expression 
{
    public static void main(String argv[]){

        Stack<String> operator = new Stack<String>();
        Stack<String> operand = new Stack<String>();

        /*
        String push[] = new String[argv.length];
        for (int i = 0; i<push.length; i++){
            push[i] = argv[i];
        }
        */

        for(int i = 0; i<argv.length; i++){
            if(argv[i] == "+" || argv[i] == "-" || argv[i] == "*" 
               || argv[i] == "/" || argv[i] == "^") {
                operator.push(argv[i]);
            } else if(argv[i] == "0" || argv[i] == "1" || argv[i] == "2" 
                      || argv[i] == "3" || argv[i] == "4" || argv[i] == "5" 
                      || argv[i] == "6" || argv[i] == "7" || argv[i] == "8" 
                      || argv[i] == "9") {
                operand.push(argv[i]);
            }
        }

        System.out.println(operand);
        System.out.println(operator);

        Stack<String> result = evaluateStack(operand, operator);
        System.out.println(result.toString());
    }
} 
```

当我使用使用硬编码字符串的调试器时，它显示堆栈已正常填充，但使用命令行参数时，即使 for 循环完成，它也始终显示具有 0 个元素的堆栈。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:51:30.380

理想情况下，您没有将任何东西压入堆栈，因为您使用了相等运算符。您将您的修改`argv[i] == "<any_str>"`为`argv[i].equals("<any_str>")`. 然后它应该工作。同样在字符串比较期间，请始终使用`equals()`方法，因为您永远不会知道字符串是否被留存

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T05:54:43.017

你这里有两个问题。首先是`String`Java中的 a 应该使用`equals`. 在 Java 中使用`==`实际上比较的是字符串的地址，而不是它们的内容。第二个问题是，当你调用你的程序之类的`java Expression 1*2+3`，`argv[0]`在这种情况下会是总的`1*2+3`。要解决此问题，您需要遍历字符串中的每个字符。

编辑：发布后我意识到参数可能是空格分隔的，如`1 * 2 + 3`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T06:00:38.007

确定何时使用“==”以及何时使用“equals”......

```
 "==" will be used to check the equality of the String objects 
```

和

```
 "equals(...)" will be used to the check the content of the String objects. 
```

当您使用 equals(...) 方法检查操作数时，您的问题将得到解决

运营商

# wpf - 如何将列表框绑定到 WPF 应用程序中的数据表/

> ID：12363369
> 
> 赞同：0
> 
> 时间：2012-09-11T05:40:31.953
> 
> 标签：wpf, binding, listbox

我正在尝试将一列表的内容放入`listbox`. 我使用这段代码来做到这一点。

```
listBox1.DataContext = ds.Tables[0]; 
```

我也尝试使用此代码

```
listBox1.ItemsSource = ds.Tables[0]; 
```

两者都没有工作。

知道我该怎么做吗？

```
 namespace itinventory
    {
       /// <summary>
      /// Interaction logic for MainWindow.xaml
      /// </summary>
     public partial class MainWindow : Window
     {
         SqlConnection con ;
         SqlDataAdapter da ;
         DataSet ds;

        public MainWindow()
        {
            InitializeComponent();
            con = new SqlConnection("Server=myserver\\sqlexpress;" + "Database=ITINVENTORY;User ID=sa;" + "Password=mypassword");
            con.Open();
        }

        private void button1_Click(object sender, RoutedEventArgs e)
        {
            SqlDataAdapter da = new SqlDataAdapter("select DISTINCT orgcode from Employees", con);
            DataSet ds = new DataSet();
            da.Fill(ds,"orgcode");
            listBox1.DataContext = ds.Tables[0];
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:37:04.667

这是优化的代码和一些建议。

```
string constring = @"Data Source=.\SQLEXPRESS;AttachDbFilename='D:\TEMPX\Projects X\ODataClient\ODataClient\Data\northwnd.mdf';Integrated Security=True;User Instance=True";
        void button1_Click(object sender, RoutedEventArgs e)
        {
            DataTable dt = new DataTable();
            using (SqlConnection con = new SqlConnection(constring))
            {
                con.Open();
                SqlDataAdapter da = new SqlDataAdapter("select * from Employees", con);

                da.Fill(dt);
                con.Close();
            }

            listBox1.ItemsSource = dt.AsDataView();
        } 
```

我不会告诉你如何编写查询。但是对于您的问题，这里有几点。

如果您使用的是绑定，那么 dataContext 就可以了。DataContext 意味着您正在传递一个可以进一步绑定到其子属性的对象。并且您需要绑定 ListBox 的 ItemsSource 属性。作为

ItemsSource={绑定}。

```
 <ListBox x:Name="listBox1">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding FirstName}" />
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox> 
```

但是，如果您只是将数据传递给列表，您需要做的是将数据分配到 ItemsSource 属性中，这将只显示对象类型全名而不是显示数据。使用上面的模板来显示数据。

另一件事是，当您将 DataTable 对象分配给 itemsssource/DataContext 时，源必须是 Enumrable，因此将其用作 DataView。它继承自 Ilist ， IEnumrable。等等

# java - 使用反射访问成员变量

> ID：12363370
> 
> 赞同：3
> 
> 时间：2012-09-11T05:40:32.813
> 
> 标签：java, reflection

我有一个 A 类，它有一个私有的 final 成员变量，它是另一个 B 类的对象。

```
Class A {
  private final classB obj;
}

Class B {
   public void methodSet(String some){
   }

} 
```

我知道 A 类是一个单例。我需要使用 B 类中的方法“methodSet”设置一个值。我尝试访问 classA 并访问 classA 中的 ClassB 实例。

我这样做：

```
Field MapField = Class.forName("com.classA").getDeclaredField("obj");
MapField.setAccessible(true);
Class<?> instance = mapField.getType(); //get teh instance of Class B.
instance.getMethods()
//loop through all till the name matches with "methodSet"
m.invoke(instance, newValue); 
```

在这里我得到一个例外。

我不擅长反射。如果有人可以提出解决方案或指出问题所在，我将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-11T05:50:13.190

我不确定“远程”反射是什么意思，即使对于反射，您也必须拥有该对象的实例。

您需要在某个地方获取 A 的实例。B 的实例也是如此。

这是您要实现的目标的工作示例：

```
package reflection;

class  A {
     private final B obj = new B();
}

class B {
    public void methodSet(String some) {
        System.out.println("called with: " + some);
    }
}

public class ReflectionTest {
    public static void main(String[] args) throws Exception{
       // create an instance of A by reflection
       Class<?> aClass = Class.forName("reflection.A");
       A a = (A) aClass.newInstance();

       // obtain the reference to the data field of class A of type B
       Field bField = a.getClass().getDeclaredField("obj");
       bField.setAccessible(true);
       B b = (B) bField.get(a);

       // obtain the method of B (I've omitted the iteration for brevity)
       Method methodSetMethod = b.getClass().getDeclaredMethod("methodSet", String.class);
       // invoke the method by reflection
       methodSetMethod.invoke(b, "Some sample value");

} 
```

}

希望这可以帮助

# .net - 将 HL7 消息解析或转换为 HTML 页面

> ID：12363373
> 
> 赞同：0
> 
> 时间：2012-09-11T05:40:43.143
> 
> 标签：.net, html, xml, xslt, hl7

假设我有一条 HL7 消息 V 2.x 或 v3.x，我需要将其转换为漂亮的 HTML 页面以在阅读模式下显示其内容。

是否有可以提供帮助的 XSLT 模板（或库）？

有可以做到这一点的.NET 库吗？

这是一个示例 HL7 消息：

```
MSH|^~\&|NES|NINTENDO|TESTSYSTEM|TESTFACILITY|20010101000000||ADT^A04|Q123456789T123456789X123456|P|2.3
EVN|A04|20010101000000|||^KOOPA^BOWSER^^^^^^^CURRENT
PID|1||123456789|0123456789^AA^^JP|BROS^MARIO^^^^||19850101000000|M|||123 FAKE STREET^MARIO \T\ LUIGI BROS PLACE^TOADSTOOL KINGDOM^NES^A1B2C3^JP^HOME^^1234|1234|(555)555-0123^HOME^JP:1234567|||S|MSH|12345678|||||||0|||||N
NK1|1|PEACH^PRINCESS^^^^|SO|ANOTHER CASTLE^^TOADSTOOL KINGDOM^NES^^JP|(123)555-1234|(123)555-2345|NOK|||||||||||||
NK1|2|TOADSTOOL^PRINCESS^^^^|SO|YET ANOTHER CASTLE^^TOADSTOOL KINGDOM^NES^^JP|(123)555-3456|(123)555-4567|EMC|||||||||||||
PV1|1|O|ABCD^EFGH^|||^^|123456^DINO^YOSHI^^^^^^MSRM^CURRENT^^^NEIGHBOURHOOD DR NBR^|^DOG^DUCKHUNT^^^^^^^CURRENT||CRD|||||||123456^DINO^YOSHI^^^^^^MSRM^CURRENT^^^NEIGHBOURHOOD DR NBR^|AO|0123456789|1|||||||||||||||||||MSH||A|||20010101000000 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T05:46:17.293

我这样做的方法是从这条消息中创建一个数据结构（你可以为此使用 NHAPI），然后将此结构序列化为 JSON。然后，您可以使用像 mustache.js 模板这样简单的东西来创建一个带有嵌入 HL7 标记的 HTML 页面：

```
<b>Results</b>: <li>{{OBX-5-10}} 
```

# php - 与 Cron 作业有关的问题

> ID：12363374
> 
> 赞同：2
> 
> 时间：2012-09-11T05:40:51.313
> 
> 标签：php, email, cron

最近我的一项 cron 工作遇到了问题，而对于我的一生，我似乎无法弄清楚。

每隔一段时间，我就会收到一封关于此错误的电子邮件：

```
strpos(): Empty delimiter in
/home/.sites/28/site1/web/includes/localization.php on line 119 
```

带有这个主题的标题：

```
Cron <vps> cd /home/.sites/28/site1/web/ && /home/php/bin/php -f dat/cron.php 
```

很简单，我去查看第 119 行的代码行，如下所示：

```
if (strpos($pageName, $webRoot) === 0). 
```

现在，我假设 cron.php 文件正在调用上面的代码行。它被这样称呼：

```
SendSMS(translate("cancel_sms", $request['languageID']), $request['phone']); 
```

我假设问题出在所说的部分是否正确`$request['languageID']`？还是我完全错过了重点？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:43:46.960

`$webRoot`为空时会发生此类错误。例如，如果您设置，`$webRoot = ""`您可以重现此错误。您可能需要在逻辑中添加一些条件检查来处理`$webRoot`为空的情况。

# android - 应用程序在按下 android 中的主页按钮后被杀死时未打开主要活动

> ID：12363375
> 
> 赞同：7
> 
> 时间：2012-09-11T05:40:59.120
> 
> 标签：android

在我的应用程序中，活动 A 是启动器活动，从 A 调用 B，从 B 调用 C，我有超过 5 个活动。在 C 中，当我按下主页按钮并再次打开我的应用程序时，它会打开 C，这在我的情况下很好。但是在C中按下主页按钮后，当它空闲一段时间并且应用程序被杀死后，当我打开我的应用程序时它会打开C。但我想在那个时候打开主启动器活动。我怎样才能做到这一点？

**A > B > C > HOME 按钮 > 空闲一段时间 > 应用程序被终止 > 打开应用程序 > C.**

**在这种情况下，我想打开主要活动 A 而不是 C。**

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2017-04-20T09:55:55.300

您将需要检测 Android 已经杀死了您的进程，然后用户返回到应用程序（导致 Android 创建一个新进程）。我已经在许多答案中描述了如何做到这一点：

[https://stackoverflow.com/a/29802601/769265](https://stackoverflow.com/a/29802601/769265)

[https://stackoverflow.com/a/27276077/769265](https://stackoverflow.com/a/27276077/769265)

[https://stackoverflow.com/a/11249090/769265](https://stackoverflow.com/a/11249090/769265)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:56:40.063

您可以`android:clearTaskOnLaunch="true"`为活动 A 放入清单，以使启动器始终进入该活动。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-22T13:39:14.897

您是否尝试过在 onBackPressed 中启动一个线程并休眠一段特定时间，之后它会调用finish()，或者停止线程（从调用finish），并重新获得相同的活动。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-11-20T15:15:52.170

我知道这是一篇旧帖子，正如[大卫瓦瑟的](https://stackoverflow.com/a/43516172/468360)上述回答是过去最好的解决方案......现在有一种更好的做事方式。

使用 来完成所有这些工作的更好方法`ProcessLifecycleOwner`，它就是为此而设计的。简而言之，来自 JavaDoc：

*“为整个应用程序过程提供生命周期的类。”*

如果您的应用程序被终止，应用程序生命周期 onDestroy 将被调用，这使您可以创造性地按照自己的意愿进行跟踪。它可以像设置一个 SharedPreference 标志一样简单，您可以在应用程序重新启动不正确时检查该标志。

> **请注意，您需要添加适当`android.arch`的依赖项以利用新`LifecycleObserver`的 ,`ProcessLifecycleOwner`等。**

下面是如何处理整个应用程序的每个 LifecycleEvent 的示例。

```
public class MyApplication extends Application implements LifecycleObserver {

    @Override public void onCreate() {
        super.onCreate();
        ProcessLifecycleOwner.get().getLifecycle().addObserver(this);
    }

    @OnLifecycleEvent(Lifecycle.Event.ON_CREATE)
    public void onCreate(){
        // ... Awesome stuff
    }

    @OnLifecycleEvent(Lifecycle.Event.ON_START)
    public void onStart(){
        // ... Awesome stuff
    }   

    @OnLifecycleEvent(Lifecycle.Event.ON_RESUME)
    public void onResume(){
        // ... Awesome stuff
    }   

    @OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)
    public void onPause(){
        // ... Awesome stuff
    }   

    @OnLifecycleEvent(Lifecycle.Event.ON_STOP)
    public void onStop(){
        // ... Awesome stuff
    }   

    @OnLifecycleEvent(Lifecycle.Event.ON_DESTROY)
    public void onDestory(){
        // ... Awesome stuff
    }   

    @OnLifecycleEvent(Lifecycle.Event.ON_ANY)
    public void onAny(){
        // ... Awesome stuff
    }
} 
```

这是一篇不错的文章，我通过 Kotlin 示例了解了这一点，并在这篇文章之外提供了一些技巧：[Background and Foreground events with Android Architecture Components](https://medium.com/@arturogdg/background-and-foreground-events-with-android-architecture-components-233fdd9fa855)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-12-02T08:40:19.060

应用程序被杀死和活动被杀死是两件不同的事情。要测试您的活动是否被终止（不终止应用程序），请激活开发者模式并在离开时设置终止活动。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-09-11T05:43:11.647

> 按下主页会将您从应用程序切换到主屏幕，同时让您的应用程序在后台运行。
> 
> 除了当您的手机内存等资源不足时，它会开始关闭在后台运行的应用程序，以便您的手机有足够的资源来完成您现在尝试执行的操作。游戏通常是手机为了节省资源而“杀死”的第一批应用程序之一，因为它们通常比其他应用程序使用更多的内存和 CPU。这就是为什么有时您的游戏仍然处于暂停状态，而有时 Android 会为您关闭它。

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2012-09-11T06:16:21.640

if your app is killed by the system i dont think it will start from c. If you are killing it through an task killer app then its a mistake. Force stop it from the app settings and then check.However if killed by task killer app and then from C if you get back to B and it is crashing then check for result code. if resultcode != RESULT_OK then you can handle your code here and save app from crash. if you have not started you activity for result then finish B and A before launching B and c.

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2012-09-11T05:46:00.093

在按下主页时，你还没有完成活动它仍然存在于堆栈中。只有它会暂停所以使用它。

如果您从活动 A 中调用活动 B，从 B 中调用 C

A->B

使用来自 A 的 startactivityforresult

又是 B->C

使用 B 的 startactivityforresult

并且当您想从 C 退出然后 setResult(即 RESULT_OK) 并完成 C.and 在 B 中的 OnActivityResult() 中，检查 resultcode == RESULT_OK 然后再次完成 B 和 setresult(RESULT_OK) 为 A.same 过程将遵循完成一个。

这将使您退出应用程序。应用程序将从 A 而不是从 C 开始。

# c# - c#中的按位移位

> ID：12363392
> 
> 赞同：0
> 
> 时间：2012-09-11T05:41:59.300
> 
> 标签：c#, bit-manipulation, bits

我有一个关于在无符号整数内移动位的问题。我有两个无符号整数，比如说`var1`and `var2`。我需要取最左边的`var1`位`var2`并将它们移动到最右边的位置。所以 if `var1`is`12`和`var2`is`0x13ac8d08`那将导致`var2`成为`0xc8d0813a`。谁能帮助我如何在 C# 中做到这一点？

谢谢

迈克尔

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T05:48:35.160

试试这个：

```
var2 = (var2 << var1) | (var2 >> (32 - var1)); 
```

方法形式：

```
uint CyclicShiftLeft(uint input,int countBits)
{
   return (input << countBits) | (input >> (32 - countBits))
} 
```

**编辑**

请参阅注释以了解`32`上述代码中的意义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T05:55:11.843

首先，我不明白你的问题中 var1 的功能。我也没有指定要移位或更正确地旋转的位数。在示例中，我假设您要将 12 个最高有效位移动到最低有效位置。（这就是 var1 的用途吗？）

```
 unsigned int var2 = 0x13ac8d08;
 unsigned int temp = (var2 >> 20) & 0xfff; // store and mask 12 bits in least significant position 
  var2 <<= 12; // shift left
  var2 &= 0xfffff00; // mask to make sure no bits dragged from lsb by shift
  var2 |= temp; 
```

掩蔽可能不是绝对必要的，但确保它永远不会受到伤害。机器语言中的移位命令有时可能会扩展最高或最低有效位，而您不希望这样。

# php - Yii 身份验证在服务器上失败在 localhost 上工作

> ID：12363397
> 
> 赞同：1
> 
> 时间：2012-09-11T05:42:32.283
> 
> 标签：php, yii

我正在使用 Yii 框架并创建了`UserIdentity`组件来验证正常工作的用户，但是当我将代码放在服务器上时，它给了我错误提示：

> 数组（[user_id] => 数组（[0] => 用户不能为空。）[logout_time] => 数组（[0] => 注销时间不能为空。））

任何有助于我找到问题根源的评论都是有益的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T13:54:28.367

由于某种原因，您的模型规则将 user_id 和 logout_time 标记为必需。您应该只声​​明规则来验证**用户提交**的数据。查看[指南](http://www.yiiframework.com/doc/guide/1.1/en/form.model#declaring-validation-rules)以获取更多信息。

# javascript - 使用 jquery 或 javascript 为图像着色

> ID：12363404
> 
> 赞同：0
> 
> 时间：2012-09-11T05:43:02.957
> 
> 标签：javascript, jquery

我想像这个演示一样为图像的各个部分着色`http://www.nickjr.com/kids-games/color-with-dora.html`。此演示使用闪存。在javascript或jquery中有没有可能做到这一点？

请提供任何参考。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T15:53:44.153

听起来您在问如何重新创建一个完整的小型应用程序，因此为了将这个答案保持在可管理的长度，我将其简化为两个基本需求：（1）能够单击调色板进行选择一种颜色，（2）用该颜色填充图片的一部分。由于问题相当笼统，因此我对您想要什么做出了很多假设。

示例： [**jsfiddle 演示**](http://jsfiddle.net/s7MQH/)

（免责声明：我不知道演示的跨浏览器兼容性如何——它适用于 Chrome 21.0.1180.89 m，这就是我所知道的）。

两个基本部分是这样的：

1.  使用[SVG 元素](http://www.w3schools.com/svg/default.asp)来表示您的图片。图片的各个部分可以通过更改 SVG 元素的“填充”属性来填充。（您可以直接从 Inkscape 或 Adob​​e Illustrator 等绘图应用程序导出 SVG。）

2.  使用 jQuery 将鼠标[单击事件](http://api.jquery.com/click/)与颜色选择相关联，并在更改填充时应用该颜色。

演示中的代码是相当基本的 jQuery 和 SVG。希望这足以让您朝着更具体需要的方向前进。

# mysql - MySQL 巨大的表，迁移到 NoSQL 会提高性能吗？

> ID：12363408
> 
> 赞同：0
> 
> 时间：2012-09-11T05:43:11.037
> 
> 标签：mysql, mongodb, database-design, relational-database, nosql

我们的 MySQL 数据库中有几个非常大的表（3 个表，每个 2 ~ 5 GB）。我们正在运行物流应用程序，其中我们结合了路线、时间表、容量、位置、价格规则等实体，这些巨大的表格包含来自上述实体的“连接”数据。

我们必须拥有这些表，因为在运行时执行 JOINS 会完全破坏性能。我们确实有索引 ;)、缓存机制、高效的准备好的语句、适当的事务管理设置，但性能不够（〜数千名客户，〜数百名或 VIP 客户）。

我们的客户主要进行**99% 的只读**操作，例如搜索连接、时间表、定价，然后有时会有**1-2% 的 UPDATE/INSERT 操作，例如预订一些**旅程、容量等。

我们的想法是使用一些无 SQL 数据库（可能是 MongoDB）作为第二个数据库，我们会将所有*预生成*的只读数据放入一些键值或树结构中。我们相信性能会更好，这个解决方案的注意事项是什么？您对此类任务有亲身经历吗？

*我们计划制作快速原型，但没有人真正拥有 NoSQL 的实际经验。*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T05:57:33.577

大家应该都熟悉memcache的kv结构吧？站在你的团队中，NoSQL 可以被认为是一个带有存储的内存缓存。您可以像使用内存缓存一样将数据重组为 NoSQL。

然后你会发现一切都变得容易了。

总之，忽略高级功能，迈出第一步。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T08:15:35.000

当你的数据模型中有大量 JOINed 数据时，MongoDB 绝对**不是**正确的选择，因为它不支持连接。您并没有对您的数据模型说太多，但是当您可以将其转换为大多数数据嵌入到其他实体中而不是存储在单独的集合中时，那么 MongoDB 可以为您工作。由于分片和副本集，它可以很好地扩展，尤其是对于写访问。

或者您是否考虑过使用 Memcached 缓存您的三个大表？3 x 5 GB = 15 GB - 这对于服务器来说并不多。

# actionscript-3 - AS3 变量故障

> ID：12363412
> 
> 赞同：1
> 
> 时间：2012-09-11T05:43:32.783
> 
> 标签：actionscript-3, flash, variables

我有一些与此类似的代码，但它不起作用。

```
var sensor:Number;
var toucher:Number;

fixtureB.GetBody().SetUserData("sensortouched-0";
var sensorArray:Array = fixtureB.GetUserData().split("-", 2);
sensor=sensorArray[1];

fixtureA.GetBody().SetUserData("sensortouched-0";
var sensorArray:Array = fixtureA.GetUserData().split("-", 2);
toucher=sensorArray[1];

if (toucher==0 && sensor==0)
{
trace("test");
} 
```

跟踪传感器或触摸器确实等于“0”，但似乎没有进入 if 语句？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T14:26:35.640

它不会进入`if`语句，因为您尝试比较字符串和数字。`Split`函数返回一个字符串数组。你应该这样比较：

```
if (toucher == "0" && sensor == "0")
{
   trace("test");
} 
```

我什至不知道您如何将 a 分配`String`给 a `Number`。那是那里的一些不好的做法。我建议阅读更多关于[Casting](http://en.wikipedia.org/wiki/Type_conversion)的内容。

顺便说一句，你应该这样分配它：

```
sensor = parseInt(sensorArray[1]); 
```

# c# - 您如何汇总数据库中列的每一行的总数以显示在下面的标签中

> ID：12363413
> 
> 赞同：1
> 
> 时间：2012-09-11T05:43:34.853
> 
> 标签：c#

```
private void tblPointsBindingNavigatorSaveItem_Click(object sender, EventArgs e)
{
    this.Validate();
    this.tblPointsBindingSource.EndEdit();
    this.tableAdapterManager.UpdateAll(this._9thXIPointsDataSet1);

    int test = 0;
    test += Convert.ToInt32(pointsTextBox.Text);
    label1.Text = test.ToString();
} 
```

现在是我的代码，但它只显示 1 行的值，但我希望它显示每一行并为添加的每个新行加起来

# .net - 绕过代理添加服务引用

> ID：12363432
> 
> 赞同：1
> 
> 时间：2012-09-11T05:45:20.813
> 
> 标签：.net, proxy, service-reference

我需要向我的`.Net`项目添加服务引用，但代理锁定了我的操作（错误：需要代理身份验证）。我怎样才能做到这一点？

# c++ - 设计一个环绕的菜单？C++/面向对象编程

> ID：12363433
> 
> 赞同：1
> 
> 时间：2012-09-11T05:45:23.567
> 
> 标签：c++, oop, class, menu, containers

我是一名新程序员，试图自学 C++ 和 OOP。现在我正在从事一个具有多个状态的项目，这是我第一次尝试更大的编程任务/挑战。现在我正在尝试处理一个简单的菜单状态类，但我不确定如何设计它来做我想要的。具体来说，我是一名初级程序员，我不确定要使用哪些数据类型或模板。

**以下是我想要制作的菜单屏幕类型的简要说明：**

我正在尝试制作一个简单的菜单屏幕，其中列出了*多个“菜单元素” 。**每个“菜单元素”都包含一个字符串（用于显示元素或项目的名称）和一个函数（用于更改状态、屏幕、执行任务等）。*- 我想要的菜单系统的另一个“功能”是*选择环绕的能力*。例如，如果菜单有 3 个项目，我希望用户能够按上下键来切换当前选择的元素，如果用户在最后一个元素（#3）上并再次按下，他们会回滚围绕元素＃1。（反之亦然..）

现在，我〜认为〜这将需要我创建一个名为“MenuElement”的新类，以及一个名为“MenuState”的类，它包含并允许用户在特定元素之间切换和选择。

作为一名新的、自学成才的 C++ 程序员，我对一些更高级的容器的经验有限，而且我对简单的 c 样式数组更加熟悉。我对向量有一点经验，对链表、映射和树也有一点了解，但我不确定在这种情况下使用哪种容器类型。我以前见过使用指针创建循环链表的例子，但是这个例子是用 C 语言编写的，看起来有点笨拙。***是否有最适合我的问题的特定类型的包含？还是我想多了，我应该选择一个并运行它？***

*我想我最终可以使用带有一系列条件语句的 MenuElements 数组来启动并运行这个系统。但是，我真的很想学习如何改进我的编程和设计，不仅让我的代码运行得更快，而且让我的代码干净且逻辑结构合理。*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:10:34.503

环绕可以用模算术完成，即给定一个名为`idx_`活动光标的私有成员索引变量到菜单元素数组中，你可以有一个成员函数`page_down()`，`page_up()`就像这样

```
void CompositeMenu::page_down()
{
    // idx_ will always remain in the interval [0, num_elements() )
    // when idx_ equals num_elements() - 1, page_down() will yield 0 (i.e. wrap-around)
    idx_ = (idx_ + 1) % num_elements(); 
}

void CompositeMenu::page_up()
{
    // idx_ will always remain in the interval [0, num_elements() )
    // when idx_ equals 0, page_up() will yield num_elements() - 1 (i.e. wrap-around) 
    idx_ = (idx_ - 1 + num_elements() ) % num_elements() ;
} 
```

`num_elements()`当前菜单的大小在哪里。

对于您的一般设计问题，您的类层次结构草图将使用**复合设计模式**（[维基百科](http://en.wikipedia.org/wiki/Composite_pattern)）。这定义了一个抽象的菜单接口，并将其`IMenu`派生为具体的类。这允许**任意级别**的嵌套子菜单。`CompositeMenu``LeafMenu`

 **```
class IMenu
{
public:
    virtual void SomeOperation() = 0;
};

class CompositeMenu
:
    public IMenu
{
public:
    virtual void SomeOperation() 
    { 
        // your implementation 
    }

    void page_down();  // use implementation above      
    void page_up();    // use implementation above
    int num_elements { return subMenus_.size(); }

private:
    std::vector<IMenu*> subMenus_; // list of subMenus, which can also have nested menus themselves
    int idx_; // active menu element
};

class LeafMenu
:
    public IMenu
{
public:
    virtual void SomeOperation()
    {
        // your implementation
    }
}; 
```

请注意，since`num_elements()`是一个允许对子菜单进行动态更新的成员函数（即，它允许拖放菜单项）。**

# apache - Apache 重写 .php 和之后的所有内容

> ID：12363435
> 
> 赞同：0
> 
> 时间：2012-09-11T05:45:45.133
> 
> 标签：apache, rewrite

```
Options +FollowSymLinks -MultiViews
# Turn mod_rewrite on
RewriteEngine On
RewriteBase /

# To externally redirect /dir/foo.php to /dir/foo
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteRule ^ %1 [R,L,NC]

## To internally redirect /dir/foo to /dir/foo.php
RewriteCond %{REQUEST_FILENAME}.php -f [NC]
RewriteRule ^ %{REQUEST_URI}.php [L] 
```

上述内容可以`.php`从我的所有网址中删除。如果存在，是否可以删除 url 之后的所有参数？例如，重写`site.com/index.php?id=24`为`site.com/index`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:27:51.207

`?`在 %1 之后添加一个：

```
# To externally redirect /dir/foo.php to /dir/foo
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.php [NC]
RewriteRule ^ %1? [R,L,NC]
# here ---------^ 
```

当重写规则的目标 URI 中有 a 时，除非有标志`?`，否则该规则不会附加查询字符串。`QSA`

# format - 验证字段值格式

> ID：12363437
> 
> 赞同：1
> 
> 时间：2012-09-11T05:46:09.990
> 
> 标签：format, field, lotus-notes

我在一个名为“PartNumber”的表单上有一个字段。我想要做的是：尊重一些标准/验证的字段值：

数字,数字,数字,信,数字,数字,数字,数字,数字

所以，3位1字母5位。另外，我有一个“保存”按钮。例如，如果用户输入 123F45156 然后保存 => OK。但是如果用户输入 1565515156 然后 Save => 会出现一个消息框。

我会感谢你的帮助！谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T09:04:38.507

@Matches 是一个更好的解决方案，因为您可以检查字符、数字和标点符号的精确模式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T14:57:13.780

您可能想查看此博客条目： http: [//www.bleedyellow.com/blogs/texasswede/entry/regular_expressions_in_notes_lotusscript](http://www.bleedyellow.com/blogs/texasswede/entry/regular_expressions_in_notes_lotusscript)

它解释了如何在 Lotusscript 中使用正则表达式。您可以简单地为 QuerySave 事件以及该字段的 Exiting 事件添加一个检查。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T07:29:03.800

您可以将代码放在字段输入验证事件中，该事件将检查值是否为@IsNumeric，如果是则@Prompt 用户

或者您可以在查询保存事件中使用 lotusscript 来完成。使用 isnumeric 并使用 msgbox() 提示用户

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-09-12T13:10:04.610

在输入验证公式中输入：

```
@If( @Matches( @ThisValue; "{0-9}{0-9}{0-9}{A-Z}{0-9}{0-9}{0-9}{0-9}{0-9}" );
    @Success;
    @Failure("Please use format ###@##### where # is a digit and @ is a letter.")
); 
```

# java - 为 JAX-RPC Web 服务生成 JAX-WS 客户端存根？

> ID：12363438
> 
> 赞同：4
> 
> 时间：2012-09-11T05:46:10.177
> 
> 标签：java, web-services, wsdl, jax-ws, jax-rpc

我能否使用 JAX-WS (wsimport) 生成的客户端存根连接到 JAX-RPC Web 服务？使用 JAX-WS 客户端使用 JAX-RPC Web 服务有什么影响？有什么优点和缺点吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-11T06:15:03.857

1.  该工具`wsimport`适用于一个`WSDL`文件，该文件是描述 Web 服务的 XML 文档。
2.  该工具`wsimport`不关心 WSDL 中描述的服务 (RPC/DOCUMENT) 的样式。
3.  如果 WSDL 具有 RPC 样式，它将生成用于使用 RPC 样式 Web 服务的客户端存根，类似地用于文档样式。
4.  `JAX-WS`（它提供`wsimport`）提供（或者更确切地说能够生成）Web 服务的样式（RPC/文档），并且两者都可以与各自类型的服务端点一起很好地工作。
5.  [这是一个](http://www.mkyong.com/webservices/jax-ws/jax-ws-hello-world-example/)用于`wsimport`生成 JAX-RPC 客户端的示例。

希望这可以帮助。

# c# - 我如何在 Web 应用程序 c#.net 中打印条形码标签打印

> ID：12363440
> 
> 赞同：1
> 
> 时间：2012-09-11T05:46:24.117
> 
> 标签：c#, javascript

如何在 Web 应用程序 c#.net 中打印条形码标签打印。我正在使用斑马 TLP 2844 打印机。打印将在客户端机器上使用这是标签“IC220612BLR-VIE114432”

```
public class RawPrinterHelper
{
    // Structure and API declarions:
    [StructLayout(LayoutKind.Sequential, CharSet = CharSet.Ansi)]
    public class DOCINFOA
    {
        [MarshalAs(UnmanagedType.LPStr)]
        public string pDocName;
        [MarshalAs(UnmanagedType.LPStr)]
        public string pOutputFile;
        [MarshalAs(UnmanagedType.LPStr)]
        public string pDataType;
    }
    [DllImport("winspool.Drv", EntryPoint = "OpenPrinterA", SetLastError = true, CharSet = CharSet.Ansi, ExactSpelling = true, CallingConvention = CallingConvention.StdCall)]
    public static extern bool OpenPrinter([MarshalAs(UnmanagedType.LPStr)] string szPrinter, out IntPtr hPrinter, IntPtr pd);

    [DllImport("winspool.Drv", EntryPoint = "ClosePrinter", SetLastError = true, ExactSpelling = true, CallingConvention = CallingConvention.StdCall)]
    public static extern bool ClosePrinter(IntPtr hPrinter);

    [DllImport("winspool.Drv", EntryPoint = "StartDocPrinterA", SetLastError = true, CharSet = CharSet.Ansi, ExactSpelling = true, CallingConvention = CallingConvention.StdCall)]
    public static extern bool StartDocPrinter(IntPtr hPrinter, Int32 level, [In, MarshalAs(UnmanagedType.LPStruct)] DOCINFOA di);

    [DllImport("winspool.Drv", EntryPoint = "EndDocPrinter", SetLastError = true, ExactSpelling = true, CallingConvention = CallingConvention.StdCall)]
    public static extern bool EndDocPrinter(IntPtr hPrinter);

    [DllImport("winspool.Drv", EntryPoint = "StartPagePrinter", SetLastError = true, ExactSpelling = true, CallingConvention = CallingConvention.StdCall)]
    public static extern bool StartPagePrinter(IntPtr hPrinter);

    [DllImport("winspool.Drv", EntryPoint = "EndPagePrinter", SetLastError = true, ExactSpelling = true, CallingConvention = CallingConvention.StdCall)]
    public static extern bool EndPagePrinter(IntPtr hPrinter);

    [DllImport("winspool.Drv", EntryPoint = "WritePrinter", SetLastError = true, ExactSpelling = true, CallingConvention = CallingConvention.StdCall)]
    public static extern bool WritePrinter(IntPtr hPrinter, IntPtr pBytes, Int32 dwCount, out Int32 dwWritten);

    // SendBytesToPrinter()
    // When the function is given a printer name and an unmanaged array
    // of bytes, the function sends those bytes to the print queue.
    // Returns true on success, false on failure.

    public static bool SendBytesToPrinter(string szPrinterName, IntPtr pBytes, Int32 dwCount)
    {
        Int32 dwError = 0, dwWritten = 0;
        IntPtr hPrinter = new IntPtr(0);
        DOCINFOA di = new DOCINFOA();
        bool bSuccess = false; // Assume failure unless you specifically succeed.

        //di.pDocName = "My C#.NET RAW Document";
        //di.pDataType = "RAW";

        // Open the printer.
        if (OpenPrinter(szPrinterName.Normalize(), out hPrinter, IntPtr.Zero))
        {
            // Start a document.
            if (StartDocPrinter(hPrinter, 1, di))
            {
                // Start a page.
                if (StartPagePrinter(hPrinter))

                {
                    // Write your bytes.
                    bSuccess = WritePrinter(hPrinter, pBytes, dwCount, out dwWritten);
                    EndPagePrinter(hPrinter);
                }
                EndDocPrinter(hPrinter);

            }
            ClosePrinter(hPrinter);
        }
        // If you did not succeed, GetLastError may give more information
        // about why not.
        if (bSuccess == false)
        {
            dwError = Marshal.GetLastWin32Error();
        }
        return bSuccess;
    }

    public static bool SendFileToPrinter(string szPrinterName, string szFileName)
    {
        // Open the file.
        FileStream fs = new FileStream(szFileName, FileMode.Open);
        // Create a BinaryReader on the file.
        BinaryReader br = new BinaryReader(fs);
        // Dim an array of bytes big enough to hold the file's contents.
        Byte[] bytes = new Byte[fs.Length];
        bool bSuccess = false;
        // Your unmanaged pointer.
        IntPtr pUnmanagedBytes = new IntPtr(0);
        int nLength;

        nLength = Convert.ToInt32(fs.Length);
        // Read the contents of the file into the array.
        bytes = br.ReadBytes(nLength);
        // Allocate some unmanaged memory for those bytes.
        pUnmanagedBytes = Marshal.AllocCoTaskMem(nLength);
        // Copy the managed byte array into the unmanaged array.
        Marshal.Copy(bytes, 0, pUnmanagedBytes, nLength);
        // Send the unmanaged bytes to the printer.
        bSuccess = SendBytesToPrinter(szPrinterName, pUnmanagedBytes, nLength);
        fs.Close();
        // Free the unmanaged memory that you allocated earlier.
        Marshal.FreeCoTaskMem(pUnmanagedBytes);
        return bSuccess;
    }

    public static bool SendStringToPrinter(string szPrinterName, string szString)
    {
        IntPtr pBytes;
        Int32 dwCount;
        // How many characters are in the string?
        dwCount = szString.Length;
        // Assume that the printer is expecting ANSI text, and then convert
        // the string to ANSI text.
        pBytes = Marshal.StringToCoTaskMemAnsi(szString);
        // Send the converted ANSI string to the printer.
        SendBytesToPrinter(szPrinterName, pBytes, dwCount);
        Marshal.FreeCoTaskMem(pBytes);
        return true;
    }
} 
```

例如 szString='IC220612BLR-VIE114432' 当我单击打印命令时正在调用以下方法'SendStringToPrinter'。我只能在 Windows 应用程序中打印。任何人都可以帮助我在 Web 应用程序中实现相同的功能吗？打印机名称取自我们编码中安装的打印机的打印文档并填写在下拉框中，但这里的打印机名称仅取自服务器。我需要从客户端机器上取打印机名称

请帮助我.....提前谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:29:31.187

条形码打印机可以像任何其他打印机一样安装，使用打印机制造商提供的适当打印机驱动程序。它们具有通用打印机设置（如纸张尺寸）和一些特定于条形码打印的自定义设置。

通常，使用已安装的打印机打印条码有两种方法。

方法 #1 是呈现包含条形码的文档（在您的情况下为 HTML 页面），然后像处理任何其他文档一样将其发送到打印机。事实上，这个假设是，条形码打印机被用作普通的 Windows 打印机——您正在以编程方式绘制条形码。主要好处是统一 - 您可以将这种方法用于*任何*打印机。主要缺点是打印速度稍慢（您正在打印图像）。但是这个缺点对于慢速连接（例如，RS-232）来说是实际的。

方式#2 基于条码打印机命令的使用。这些命令使打印机使用其内部软件打印条形码。就目前而言，由于您不能直接使用这些命令（尤其是从 Web 应用程序），打印机制造商通常会提供一些特殊的字体，这些字体与打印机驱动程序一起安装。您仍然需要渲染文档，但是，您需要使用该特殊字体绘制一些字符串，而不是自己绘制条形码。主要好处是打印速度，无论打印机连接类型如何。主要缺点是使用了特定于打印机的字体。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-01T00:51:44.610

这是老学校，您可以使用它。

```
// Create the printer server and print queue objects
LocalPrintServer localPrintServer = new LocalPrintServer();
PrintQueue defaultPrintQueue = LocalPrintServer.GetDefaultPrintQueue();

// Call AddJob
PrintSystemJobInfo myPrintJob = defaultPrintQueue.AddJob();

// Write a Byte buffer to the JobStream and close the stream
Stream myStream = myPrintJob.JobStream;
Byte[] myByteBuffer = UnicodeEncoding.Unicode.GetBytes("This is a test string for the print job stream.");
myStream.Write(myByteBuffer, 0, myByteBuffer.Length);
myStream.Close(); 
```

微软

# c# - 如何将 SQL Server 2005 从 Windows 身份验证更改为 SQL 身份验证？

> ID：12363441
> 
> 赞同：0
> 
> 时间：2012-09-11T05:46:24.977
> 
> 标签：c#, sql-server-2005

我已经在 Windows 身份验证中安装了 SQL Server 2005，现在我想将其更改为 SQL 身份验证。但是，我无法再次重新安装 SQL SERVER 和 Management，因为它会丢失其中的数据。另外我想知道我需要在我的 Connection 类中进行哪些更改才能打开连接，因为我目前是

```
public SqlConnection con= new sqlConnection("server=.\\SQLEXPRESS;database=Restaurant;integrated security=sspi"); 
```

只需要再问一件事，我可以在 WIndows Auth 和 SQL auth 中看到我的数据库，那么我该如何更改，以便任何其他用户在窥视我的数据库之前都需要登录。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T05:55:15.193

**使用 SQL Server Management Studio** **更改安全身份验证模式**

在 SQL Server Management Studio 对象资源管理器中，右键单击服务器，然后单击“属性”。

在“安全”页面的“服务器身份验证”下，选择新的服务器身份验证模式，然后单击“确定”。

在 SQL Server Management Studio 对话框中，单击确定以确认重新启动 SQL Server 的要求。

在对象资源管理器中，右键单击您的服务器，然后单击重新启动。如果 SQL Server 代理正在运行，它也必须重新启动。

**启用 sa 登录**

在对象资源管理器中，展开安全，展开登录，右键单击 sa，然后单击属性。

在“常规”页面上，您可能必须创建并确认登录密码。

在“状态”页面的“登录”部分中，单击“启用”，然后单击“确定”。

**使用 Transact-SQL 启用 sa 登录**

在对象资源管理器中，连接到数据库引擎实例。

在标准栏上，单击新建查询。

将以下示例复制并粘贴到查询窗口中，然后单击执行。以下示例启用 sa 登录并设置新密码。

```
ALTER LOGIN sa ENABLE ;
GO
ALTER LOGIN sa WITH PASSWORD = '<enterStrongPasswordHere>' ;
GO 
```

您可以在连接对象中传递以下示例（更改适当的 UID 和 PWD）连接字符串

```
Data Source=myServerAddress;Initial Catalog=myDataBase;User Id=myUsername;Password=myPassword; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T05:51:55.767

要使用 SQL Server 身份验证，请更改以下行：

```
public SqlConnection con= new sqlConnection("server=.\\SQLEXPRESS;database=Restaurant;integrated security=sspi"); 
```

到

```
public SqlConnection con= new sqlConnection("server=.\\SQLEXPRESS;database=Restaurant;user id=#USERID#;password=#PASSWORD#;Trusted_Connection=False"); 
```

其中 "#USERID#" 和 #PASSWORD# 分别是特定的用户 ID 和密码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:00:37.787

更改服务器安全类型：您只需要打开 SQL Server 管理对象资源管理器，右键单击服务器，进入属性，安全页面，在服务器身份验证下，选择您想要的模式。

修改连接字符串： 1\. 您需要先有一个 SQL 用户。仍然在 SQL Server 管理对象资源管理器中，右键单击安全节点下的用户，单击新建，然后您可以创建一个。2\. 将“用户 ID”和“密码”段添加到连接字符串中。

# javascript - 如何使用phonegap2.0在iphone上创建文件

> ID：12363442
> 
> 赞同：1
> 
> 时间：2012-09-11T05:46:26.963
> 
> 标签：javascript, ios, html

我也是 iphone 和 phonegap 的新手。现在我想`file`使用phonegap在iphone中创建。我按照以下链接：

```
 "http://docs.phonegap.com/en/2.0.0/cordova_file_file.md.html#File" 
```

在此链接中有一个带有 javascript 的 html 文件。所以我跟着编码。当我运行该编码时，我仅在 html 标记内容中得到输出。

```
I have attach that coding with my output.
    <!DOCTYPE html>
<html>
  <head>
    <title>FileReader Example</title>![enter image description here][1]

    <script type="text/javascript" charset="utf-8" src="cordova-2.0.0.js"></script>
    <script type="text/javascript" charset="utf-8">

    // Wait for Cordova to load
    //
    function onLoad() {
        document.addEventListener("deviceready", onDeviceReady, false);
    }

    // Cordova is ready
    //
    function onDeviceReady() {
        window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, gotFS, fail);
    }

    function gotFS(fileSystem) {
        fileSystem.root.getFile("readme.txt", null, gotFileEntry, fail);
    }

    function gotFileEntry(fileEntry) {
        fileEntry.file(gotFile, fail);
    }

    function gotFile(file){
        readDataUrl(file);
        readAsText(file);
    }

    function readDataUrl(file) {
        var reader = new FileReader();
        reader.onloadend = function(evt) {
            console.log("Read as data URL");
            console.log(evt.target.result);
        };
        reader.readAsDataURL(file);
    }

    function readAsText(file) {
        var reader = new FileReader();
        reader.onloadend = function(evt) {
            console.log("Read as text");
            console.log(evt.target.result);
        };
        reader.readAsText(file);
    }

    function fail(error) {
        console.log(error.code);
    }

    </script>
  </head>
  <body>
    <h1>Example</h1>
    <p>Read File</p>
  </body>
</html>

"TestPhonegapApp[9589:707] CDVPlugin class CDVDevice (pluginName: Device) does not exist.
2012-09-11 12:02:13.719 TestPhonegapApp[9589:707] ERROR: Plugin 'Device' not found, or is not a CDVPlugin. Check your plugin mapping in Cordova.plist.
2012-09-11 12:02:13.722 TestPhonegapApp[9589:707] FAILED pluginJSON = {"className":"Device","methodName":"getDeviceInfo","arguments":["Device1"]}" 
```

![在此处输入图像描述](../Images/9928eda71153d68ede140bae107f5125.png)

![在此处输入图像描述](../Images/a028c14a28355bc63ccc6bb85b4d377d.png)

# sql - 从右侧获取字符串 10 char

> ID：12363457
> 
> 赞同：1
> 
> 时间：2012-09-11T05:47:55.143
> 
> 标签：sql, oracle

我的桌子在甲骨文蟾蜍中。表格包含列名电话号码 varchar2 数据类型。它包含一组电话号码。有些数字超过 10 个字符。我想从右侧 10 个字符中过滤该数字。

```
data's in the table
-------------------
phone number

9948184759
9948220955
994823298612
9948249815
99482599971234
9948277935
9948288258
99483015076789
9948335085
9948337552
9948338134

the above column values are phone numbers.but some numbers are more than 10 char length

that numbers are
----------------
 994823298612
 99482599971234
 99483015076789

 expected output for the above numbers
----------------------------------------
4823298612
2599971234
3015076789

Help me to do this? am new to oracle toad 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T07:06:18.440

更简单：

```
select substr(phone_number, -10) from ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:08:17.083

例如，您可以通过使用 Substr 函数来实现

```
with T1 as 
( 
  select 99482599971234  n from dual union all
  select 99483015076789 n from dual union all
  select 994823298612 n from dual
) 

select substr(n, Length(n) - 9, 10) nn
  from t1

 Nn 
-------------------
4823298612 
2599971234 
3015076789 
```

# php - 如何根据if语句指示html文件处理不同的php文件

> ID：12363459
> 
> 赞同：2
> 
> 时间：2012-09-11T05:47:59.553
> 
> 标签：php, html, post, if-statement

我想根据用户在前端给出的条件（即在同一个 html 文件本身中）来引导我的 html 文件。

就像如果用户输入代码 789 它应该指向特定文件夹 u57.php，如果用户输入 783 它应该指向文件夹 u38.php

我写了一个代码，但它不能正常工作......

```
$a = 57;
$b = 38;
$residue = $_POST["residue"];

<?php if($residue == "$a") { ?>
     <form method="POST" action="u57.php" enctype="multipart/form-data">
<?php } ?>

<?php if ($residue == "$b") { ?>
       <form method="POST" action="u38.php" enctype="multipart/form-data">
    <?php } ?> 
```

如果用户输入 38 或任何其他数字，如 40, 45, 1 ,2 ，则它仅指向同一页面 u57.php 。请告诉我我的代码有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:05:08.367

**希望这有效，（刚刚删除了条件检查的双引号）**

```
$a = 57;
$b = 38;
$residue = $_POST["residue"];

<?php if($residue == $a) { ?>
     <form method="POST" action="u57.php" enctype="multipart/form-data">
<?php } ?>

<?php if ($residue == $b) { ?>
       <form method="POST" action="u38.php" enctype="multipart/form-data">
    <?php } ?> 
```

*   **更新**

这是我做的样本，

**索引.PHP**

```
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title></title>
    </head>
    <body>
        <form method="POST" action="redirect.php">
            Value : <input type="text" name="residue" value=""/>
            <input type="submit" name="submit" value="Submit"/>
        </form>
    </body>
</html> 
```

**重定向.PHP**

```
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title></title>
    </head>
    <body>
        <?php
        $a = 57;
        $b = 38;
        $residue = $_POST["residue"];
        ?>
        <?php if ($residue == $a) {
            ?>
            <form method="POST" action="u57.php" enctype="multipart/form-data">
                <input type="text" name="sample" value=""/>
            </form>
        <?php } ?>

        <?php if ($residue == $b) { ?> 
```

**这对我有用....**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T09:38:00.767

为什么不使用 include 关键字，而不是为您创建的每个页面分别使用 form 方法和操作？我想使用 switch 语句或“if else if”条件可能会产生有效的结果。

# silverlight - Rich TIFF 格式的 TIFF 转换问题

> ID：12363460
> 
> 赞同：1
> 
> 时间：2012-09-11T05:48:04.670
> 
> 标签：silverlight, tiff, libtiff.net

我正在使用[LibTiff.Net](http://bitmiracle.com/libtiff/)将 TIFF 图像转换为可写位图以显示在我的 siverlight 应用程序中。

对于以下标题格式，我能够成功转换：

```
static byte[] tiff = new byte[] { 73, 73, 42 };         // TIFF     
static byte[] tiff2 = new byte[] { 77, 77, 42 };         // TIFF 
```

如果 TIFF 标头类似于 { 60, 63, 120 }，则库无法读取图像。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T17:21:10.410

`{ 60, 63, 120 }`是ASCII `{ 0x3C, 0x3F, 0x78 }`_`<?x`

看起来您正试图打开一个 XML 文件（从 开始`<?xml`）。或者您正在尝试打开损坏的 TIFF 而没有必需的标题。

# c++ - 我应该什么时候设置 GL_TEXTURE_MIN_FILTER 和 GL_TEXTURE_MAG_FILTER？

> ID：12363463
> 
> 赞同：10
> 
> 时间：2012-09-11T05:48:11.120
> 
> 标签：c++, opengl, textures

根据定义，当被纹理化的像素映射到大于一个纹理元素的区域时，使用**GL_TEXTURE_MIN_FILTER 。**

假设我有一个分辨率为 1024*768 的纹理，我想将它映射到一个矩形。投影矩阵使用以下方法设置：

```
glOrtho(0, 1024, 0, 768, 0, 1); 
```

并且矩形设置为：

```
glTexCoord2f(0.0f, 0.0f); glVertex3f(0.0f, 0.0f, 0.0f);
glTexCoord2f(1.0f, 0.0f); glVertex3f(1024.0f, 0.0f, 0.0f);
glTexCoord2f(1.0f, 1.0f); glVertex3f(1024.0f, 768.0f, 0.0f);
glTexCoord2f(0.0f, 1.0f); glVertex3f(0.0f, 768.0f, 0.0f); 
```

在当前配置下，我的理解是矩形上的每个像素都映射到纹理中的一个像素。

然而经过测试，我发现**MIN_FILTER**正在为此配置工作。即使我将矩形的大小加倍，即 2048*1536 并且视口中只显示左下角，它仍然是 MIN_FILTER 起作用。

在这种情况下，我个人的理解是，视口中的每个像素只映射到纹理中的四分之一像素，为什么**MIN_FILTER**还在工作？

为了测试哪个过滤器在工作，我只是注释掉设置过滤器的行，看看结果是否错误。如果我注释掉**MIN_FILTER**设置行，结果将是完全黄色的，因为我没有设置纹理的最大级别以符合其级别。但是如果我注释掉**MAG_FILTER**行，结果仍然是正确的。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-11T09:54:50.473

据我了解，您将设置注释掉`GL_TEXTURE_MIN_FILTER`并且纹理不再起作用。由此得出结论，在纹理化期间使用了最小过滤器。正是这种推论是错误的。

当不设置最小过滤器时，它不会神奇地*不起作用*。取而代之的`GL_NEAREST_MIPMAP_LINEAR`是使用默认值，并且由于您没有为其他 mipmap 图层指定纹理图像，因此它不起作用（我认为您自己猜到了）。但这并不是说只有在 min filter 实际用于某个像素的情况下，结果才会出错。无论使用什么过滤器，纹理都不会起作用，因为它是不完整的（即使用 mipmaping 而没有每个 mipmap 级别的有效图像）。所以它也不适用于磁过滤。坏掉的不是滤镜，而是整个质感。

另一方面，`GL_TEXTURE_MAG_FILTER`没有 mipmapping 模式，当你不设置它时，它使用默认的`GL_LINEAR`. 因此，无论您是否设置了磁过滤器，纹理始终是完整且有效的。

因此，您检查是否使用了某个过滤器的方法是垃圾，并且您的实现可能完全按照您理论上的想法进行。

所以得出结论：

1.  您不需要为纹理对象设置 min 和 mag 过滤器。如果您不这样做，他们将使用默认值。但默认情况下，min-filter 使用 mipmapping 并要求您为每个 mipmap 级别指定图像，否则纹理是不完整的（即无法工作），无论对特定片段使用什么过滤器。

2.  始终为每个纹理对象显式设置过滤器模式以不依赖于您可能不确定的任何默认值是一个好主意。

3.  当一个像素的大小恰好（在这个上下文中*“究竟”*是什么？）与一个纹素的大小相匹配时，很难说使用了两种过滤模式中的哪一种，但是没有简单的方法来检查使用了哪一种对于特定的片段。但是，如果您无论如何都需要像素完美的纹理（例如仅将位图绘制到 2D 屏幕），那么`GL_NEAREST`同时使用 min 和 mag 过滤器可能是最好的主意，并且让您不必考虑实际使用哪个过滤器。

# image-processing - 使用 HSI 的亮度算法

> ID：12363464
> 
> 赞同：0
> 
> 时间：2012-09-11T05:48:19.963
> 
> 标签：image-processing, colors, computer-vision

有人知道使用 HSI 模型非线性改变亮度的算法吗？

我目前正在做这样的事情。新强度=旧强度^（1/4）它增加了深色的亮度而不是亮色的亮度。
问题是在增强之前，如果我有一些像素因为亮度非常低而看起来像黑色，增强后它们的亮度增加并且它们的实际颜色出现，这使得照片的黑色区域具有不同的颜色（例如：灰色，蓝色）。我已经尝试了很多方法来通过降低黑点的新亮度来解决它，但到目前为止我还没有运气。

无论如何要解决它还是有更好的算法？问题仅在于在增强之前看起来是黑色的颜色。

请帮忙。非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T11:55:23.050

暗像素的 HSI 值通常是退化的。这是因为，例如，完全饱和的最大深蓝色 = 黑色，在外观上与完全去饱和（灰色）像素的最暗 = 黑色相同（这就是 3D 空间形状通常具有尖端的原因在退化/奇异的颜色）。

您不应该在某个阈值下增强像素，或者使用某些加权函数来抑制在非常暗的值处的增强。

# asp.net-mvc-3 - 如何在 MVC3 中重写 URL

> ID：12363465
> 
> 赞同：2
> 
> 时间：2012-09-11T05:48:21.020
> 
> 标签：asp.net-mvc-3, url, url-routing

我有这个网址[http://example.com/Book/Details?Bookid=15](http://example.com/Book/Details?Bookid=15)这个网址

我想重写这样的网址[http://example.com/Book/Details/BlackBook/](http://example.com/Book/Details/BlackBook/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-03T11:12:06.317

将以下路由添加到 global.asax.cs RegisterRoutes：

```
routes.MapRoute(
            "Book By Name",
            "Book/Details/{bookName}",
             new { controller = "Book", action = "BookDetails" }
        ); 
```

你需要一个`BookController`带有以下 Action 的方法：

```
public Book BookDetails(string bookName)
{
    // Your logic here to get a book by name and return it
} 
```

或者，您可以使用默认路由并`Details(string id)`在 a 中创建一个操作方法`BookController`以实现相同的结果

# java - urlConnection.getInputStream() 抛出 EOFException

> ID：12363468
> 
> 赞同：1
> 
> 时间：2012-09-11T05:48:36.707
> 
> 标签：java, android

我正在执行以下代码，并且总是在 urlConnection.getInputStream() 中获得 EOFException。我知道网络服务器没有返回正确的标头，但是如果我在网络浏览器中使用相同的 url，我会得到预期的内容。

```
URL url1;
try
{
    url1 = new URL("http://63.255.173.242/get_public_tbl.cgi?A=1");
    HttpURLConnection urlConnection = (HttpURLConnection) url1.openConnection();
    try 
    {
        InputStream in = new BufferedInputStream(urlConnection.getInputStream());
        readStream(in);
    }
    catch(Exception e)
    {
        e.printStackTrace();
    }
    finally
    {
        urlConnection.disconnect();
    }
}
catch (MalformedURLException e)
{
    e.printStackTrace();
}
catch (IOException e)
{
    e.printStackTrace();
} 
```

有任何想法吗？

**编辑1：**

我以为我正在寻找一个可能的解决方案。我发现使用 Android 2.3 我可以通过调用 getHeaderFields() 来读取响应（即使没有标头），但是如果我使用 Android 4.1 getHeaderFields() 返回 null。有任何想法吗？

```
url1 = new URL("http://63.255.173.242/get_public_tbl.cgi?A=1");
URLConnection urlConnection = url1.openConnection();
Map<String, List<String>> fields = urlConnection.getHeaderFields(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-04T01:53:49.917

由于您的服务器没有使用正确的 HTTP，因此您不能使用 URL.openConnection，但您仍然可以使用到 63.255.173.242 端口 80 的普通套接字连接并发送字符串来访问它：

GET /get_public_tbl.cgi?A=1 HTTP/1.0\r\n \r\n

然后读取结果流。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-04T01:44:34.670

您的服务器没有响应任何 HTTP 标头，请尝试使用[`getErrorStream`](http://developer.android.com/reference/java/net/HttpURLConnection.html#getErrorStream%28%29).

```
emil$ curl -v http://63.255.173.242/get_public_tbl.cgi?A=1
* About to connect() to 63.255.173.242 port 80 (#0)
*   Trying 63.255.173.242... connected
* Connected to 63.255.173.242 (63.255.173.242) port 80 (#0)
> GET /get_public_tbl.cgi?A=1 HTTP/1.1
> User-Agent: curl/7.21.4 (universal-apple-darwin11.0) libcurl/7.21.4 OpenSSL/0.9.8r zlib/1.2.5
> Host: 63.255.173.242
> Accept: */*
> 
<?xml version="1.0" encoding="UTF-8"?>
<record table="public" stationID="1" timestamp="19:49:40  11/03/2012" record_number="18372">
<value>
<name>SaveSite</name>
<data>0.00</data>
</value>
<value>
<name>Latitude</name>
<data>-111.00</data>
... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T10:54:52.847

尝试阅读这样的响应：

```
BufferedReader in = new BufferedReader(new InputStreamReader(
    response.getEntity().getContent(), "UTF-8"));

char[] buf = new char[1000];
int l = 0;
while (l >= 0) 
{
    builder.append(buf, 0, l);
    l = in.read(buf);
} 
```

我的获取 xml 代码类 GetXMLTask.java 的示例代码

```
public class GetXMLTask
{
    public ArrayList<JSONObject> getOutputFromUrl(String url) 
    {
        ArrayList<JSONObject> output = new ArrayList<JSONObject>();
        HttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);
        HttpResponse response;
        StringBuilder builder= new StringBuilder();
        JSONObject myjson ;
        JSONArray the_json_array;
        try 
        {
            response = httpClient.execute(httpPost);
            BufferedReader in = new BufferedReader(new InputStreamReader(response.getEntity().getContent(), "UTF-8"));
            char[] buf = new char[1000];
            int l = 0;
                while (l >= 0) 
                {
                    builder.append(buf, 0, l);
                    l = in.read(buf);
                }
            myjson = new JSONObject("{child:"+builder.toString()+"}");
            the_json_array = myjson.getJSONArray("child");
            //System.out.println("json array length()===>>>"+the_json_array.length());//shows no of child
            for (int i = 0; i < the_json_array.length(); i++) 
            {
                JSONObject another_json_object =  the_json_array.getJSONObject(i);//the_json_array.getJSONObject(i);
                //System.out.println("json object length()"+another_json_object.length());
                    output.add(another_json_object);
            }
        } catch (ClientProtocolException e) {
            System.out.println("ClientProtocolException :"+e);
            e.printStackTrace();
        } catch (IOException e) {
            System.out.println("IOException :"+e);
            e.printStackTrace();
        } catch (JSONException e) {
            System.out.println("JSONException hussain :"+e);
            e.printStackTrace();
        }
        //System.out.println(output);
        //System.out.println(output.toString());
        return output;
    }
} 
```

# c# - 使用 LINQ 构造列表 C#

> ID：12363470
> 
> 赞同：1
> 
> 时间：2012-09-11T05:48:47.610
> 
> 标签：c#, linq, list, group-by, using

```
 ProductCategory = "A"
 Public Class ProdCat
 {
     public   int productId,
     public string  productCategory
} 
```

我有一个这样的清单

```
List<ProdCat> ProdCatList = new List<ProdCat>();
ProdCatList.Add( new ProdCat{ productId= 1, productCategory= "A" } );
ProdCatList.Add( new ProdCat{ productId= 2, productCategory= "B" } );
ProdCatList.Add( new ProdCat{ productId= 3, productCategory= "A" } );
ProdCatList.Add( new ProdCat{ productId= 4, productCategory= "C" } );
ProdCatList.Add( new ProdCat{ productId= 5, productCategory = "A" } );
ProdCatList.Add( new ProdCat{ productId = 6, productCategory= "B" } ); 
```

我需要拿出一个这样的清单。请注意 ProductCatList 是一个列表，它有两个属性，即 Product Category 是一个字符串，productIds 是 ProductCatList 中的另一个列表

```
ProductCatList
     ProductCategory = "A"
         productId = 1
         productId = 3
         productId = 5
   ProductCategory = "B"
         productId = 2
         productId = 6
   ProductCategory = "C"
         productId = 4 
```

类实现如下

```
Public Class ProductCatGroup
{
   string      ProductCategory ,
   IList <int> ProdcutId 

} 
```

如何使用 LINQ 实现上述目标

* * *

我有两个课程如下

```
 public class product
            {

                public int productId { get; set; }
                public string productName { get; set; }
            }

            public class ProductCat
            {

                public int productId { get; set; }
                public string productName { get; set; }
                public int productCatId { get; set; }
                public string ProductCatName { get; set; }
            } 
```

名单如下

```
 List<ProdCat> ProdCatList = new List<ProdCat>();
    ProdCatList.Add( new ProdCat{ productId= 1, productCatId = "1", productName="PA", ProductCatName = "PC1"});
    ProdCatList.Add( new ProdCat{ productId= 2, productCatId = "2", productName="PB", ProductCatName = "PC2"});
    ProdCatList.Add( new ProdCat{ productId= 3, productCatId = "2", productName="PC", ProductCatName = "PC2"});
    ProdCatList.Add( new ProdCat{ productId= 4, productCatId = "1", productName="PD", ProductCatName = "PC1"});
    ProdCatList.Add( new ProdCat{ productId= 5, productCatId = "1", productName="PE", ProductCatName = "PC1"}); 
```

我需要想出类似下面的东西

```
 ProductCatGroup
      productCatId = "1"
      ProductCatName = "PC1"
           productId = 1
           productName = "PA"
           productId = 4
           productName = "PD"
           productId = 5
           productName = "PE"
      productCatId = "2"
      ProductCatName = "PC2"
             productId = 2
             productName = "PB"
             productId = 3
             productName = "PC" 
```

类实现如下

```
public class ProductCatGroup
{
           public int productCatId { get; set; }
            public int productCatName{ get; set; }
            public IList<Product> ProductList = new List<Product>();

} 
```

我认为这现在很清楚了

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T05:56:30.433

您可以像这样初始化`ProductCatGroup`：

```
 ProductCatGroup g = new ProductCatGroup
        {
            ProductCategory = "A",
            ProductID = (new int[] { 1, 3, 5 }).ToList()
        }; 
```

您可以使用如下方式`ProductCatGroup`从示例列表中生成s 列表：`GroupBy`

```
 IEnumerable<ProductCatGroup> groups = ProdCatList
            .GroupBy(item => item.productCategory)
            .Select(g => new ProductCatGroup
            {
                ProductCategory = g.Key,
                ProductID = g.Select(x => x.productId).ToList()
            }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T07:10:45.763

```
var grouped = ProductCatList.GroupBy(g => new{g.productCatId,g.productCatName})
                     .Select(g => new ProductCatGroup()
                                  {
                                      productCatId = g.Key.productCatId,
                                      productCatName = g.Key.productCatName,
                                      ProductList = g.Select(p => new Prroduct()
                                                    {
                                                         productid = p.productId,
                                                         productName = p.productName
                                                     }
                                  }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:10:54.043

如果对您有帮助，请查找以下代码

```
public class ProdCat
{
    public int productId;
    public string productCategory;
}

public class ProductCatGroup
{
    public string ProductCategory;
    public IList<int> ProdcutId;

}
public Form1()
{
    List<ProdCat> ProdCatList = new List<ProdCat>();
    ProdCatList.Add(new ProdCat { productId = 1, productCategory = "A" });
    ProdCatList.Add(new ProdCat { productId = 2, productCategory = "B" });
    ProdCatList.Add(new ProdCat { productId = 3, productCategory = "A" });
    ProdCatList.Add(new ProdCat { productId = 4, productCategory = "C" });
    ProdCatList.Add(new ProdCat { productId = 5, productCategory = "A" });
    ProdCatList.Add(new ProdCat { productId = 6, productCategory = "B" });

    var productCatList = from pc in ProdCatList
        group pc by pc.productCategory into pcGroup
        select new ProductCatGroup { ProductCategory = pcGroup.Key, ProdcutId = pcGroup.Select(x => x.productId).ToList() }; 
} 
```

谢谢。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-11T07:11:40.317

```
var grouped = ProductCatList.GroupBy(g => g.ProductCategory )
                 .Select(g => new ProductCatGroup()
                              {
                                  ProductCategory = g.Key,
                                  ProductList = g.Select(p =>  p.productId)
                                                 .ToList()
                              }); 
```

# processor - 用于可扩展 RAM 的寻址方案？

> ID：12363472
> 
> 赞同：0
> 
> 时间：2012-09-11T05:49:20.090
> 
> 标签：processor, computer-architecture

大家好，我想知道操作系统用于可扩展 RAM 的称为寻址方案的东西。让我们考虑一个例子来阐明这一点。

“如果我们的计算机有 32 位架构，那么这意味着我们有一个 32 位长的计算机地址，相当于 2^32 个可寻址内存位置，大约 4GB 数据。”

但是，如果我们添加另外 4GB 的主存，现在实际上是 8GB 的​​ RAM，那么计算机如何寻址额外的主存位置，因为这个额外的数量超出了 32 位地址的范围，即 2^32。

任何人都可以对这个问题有所了解。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T00:49:27.250

基本上，你不能只用 32 位来处理 8GB。在使用 32 位的任何给定时间点，您只能从 4G 内存位置中进行选择。

[一种流行的解决方法是在页表](http://en.wikipedia.org/wiki/Page_table)中使用大于 32 位的物理地址。这允许操作系统定义程序能够访问 8GB 的​​哪个子集。但是，这个子集永远不能大于 4GB。[x86 PAE](http://en.wikipedia.org/wiki/Physical_Address_Extension)就是一个例子，但也有[其他](http://en.wikipedia.org/wiki/PowerPC_e500)的例子。

使用这种解决方法，操作系统本身只能通过更改它自己的页表来访问整个 8GB。例如，要访问一个内存位置，它首先必须通过更改页表将该内存位置映射到自己的地址空间，然后才能开始访问该内存位置。当然，这非常麻烦（至少可以这么说）。如果在不考虑这种类型的内存扩展的情况下编写操作系统的某些部分，也会导致问题，设备驱动程序就是一个典型的例子。

这个问题并不新鲜。像 Commodores C64 这样的 8 位计算机使用[银行切换](http://en.wikipedia.org/wiki/Bank_switching)来访问超过 64KB 的 16 位地址。早期的 PC 使用[扩展内存](http://en.wikipedia.org/wiki/Expanded_Memory_System)来解决 640KB 的限制。正确的事情（TM）当然是在你不得不求助于丑陋的解决方案之前切换到更大的地址。

# asp.net - Webservice 和 WCF 的区别？

> ID：12363475
> 
> 赞同：1
> 
> 时间：2012-09-11T05:49:51.127
> 
> 标签：asp.net, wcf, silverlight, wcf-ria-services

有没有区别

1.  Web服务和WCF
2.  WCF 和 WCF RIA 数据服务

似乎是一样的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T06:07:33.340

WCF 和 Web Service 的区别主要在于性能和安全性，以及灵活性和可移植性。正确列出了 10 个最重要的差异：[这里](http://codebalance.blogspot.se/2011/01/10-differences-between-wcf-services-and.html)看看！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T06:47:00.390

> Web 服务是可通过标准 Web 协议访问的可编程应用程序逻辑。这些 Web 协议之一是简单对象访问协议 (SOAP)。SOAP 是 W3C 提交的说明（截至 2000 年 5 月），它使用基于标准的技术（用于数据描述的 XML 和用于传输的 HTTP）来编码和传输应用程序数据。
> 
> Web 服务的消费者不需要知道用于实现服务的平台、对象模型或编程语言的任何信息；他们只需要了解如何发送和接收 SOAP 消息（HTTP 和 XML）。

* * *

> WCF 服务
> 
> Windows Communication Foundation (WCF) 是用于构建面向服务的应用程序的框架。使用 WCF，您可以将数据作为异步消息从一个服务终结点发送到另一个服务终结点。服务端点可以是 IIS 托管的持续可用服务的一部分，也可以是应用程序中托管的服务。端点可以是从服务端点请求数据的服务的客户端。消息可以像以 XML 形式发送的单个字符或单词一样简单，也可以像二进制数据流一样复杂。

检查此[链接](http://www.codeproject.com/Articles/139787/What-s-the-Difference-between-WCF-and-Web-Services)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-28T06:49:11.090

```
Asp.net web services are homogenous.
Asp.net web services can use only HTTP chanenel.
Not supports msmq and tcp binding...

WCF is flexible because its services can be hosted in 
different types of applications. The following lists 
several common scenarios for hosting WCF services:
IIS
WAS
Self-hosting
Managed Windows Service

WCF = Web services + .Net Remoting + MSMQ + (COM+)

http://www.codeproject.com/KB/webservices/WCFVSWebService/WCFVsWebService.pdf 
```

# c# - EF Code First - 如何防止在 Table-Per-Hierarchy 映射上创建的表上出现重复列

> ID：12363477
> 
> 赞同：0
> 
> 时间：2012-09-11T05:50:10.527
> 
> 标签：c#, entity-framework, ef-code-first

我有如下实体

```
public abstract class MyBaseClass
{
    public int Id { get; set; }
}

public class MyConcrete : MyBaseClass
{
    public int TemplateName { get; set; }
    public int Total { get; set; }
}

public class MyOtherConcrete : MyBaseClass
{
    public int TemplateName { get; set; }
    public int MyProperty { get; set; }
    public string OtherProperty { get; set; }
} 
```

使用默认初始化，EF 将创建具有如下列的表：

```
Id
TemplateName
TemplateName1 // <-- this is the problem
Total
MyPorperty
MyOtherProperty 
```

现在我的问题是如何配置 EF，以便派生类上的所有 TemplateName 属性自动映射到 TemplateName 列而不创建另一列。是否可以在`OnModelCreating`方法上配置它？

**编辑**

实际上上面是我的问题的简化版本。我还有 10 个实体，某些属性可能在各处重复，我不想添加任何抽象层。

我已经尝试手动映射列，`OnModelCreating`但具有“**类型中的每个属性名称必须是唯一的。属性名称'TemplateName'已被定义**”异常知道吗？

**编辑 2**

所以，我在[这里](https://stackoverflow.com/a/4390032/212706)发现，说在 EF 中不可能像上面那样做这样的事情，这对我来说很奇怪..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T05:51:59.713

将 TemplateName 移动到 MyBaseClass 以避免此问题。

如有必要，您可以使用中间基类来保存仅由类的子集共享的属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-03T07:01:28.630

在网上搜索后，到目前为止，这是不可能的。因为我意识到我的继承树是错误的。

所以在我的情况下，我应该更改我的代码以匹配 EF 要求，这听起来很奇怪.. 因为在许多情况下 ENTITY 是不能更改的，我们通常创建一个在多个项目中使用的实体。如果我们发现我们的实体错误，我们不会更新它，因为更新它需要对其他项目进行大量更改。

到目前为止，我认为我的问题没有确切的答案。EF 支持后会尽快更新。

# c# - 需要访问更新面板内的动态控件 ID

> ID：12363479
> 
> 赞同：0
> 
> 时间：2012-09-11T05:50:19.430
> 
> 标签：c#, asp.net, page-lifecycle

我正在更新面板中填充动态控件。步骤是

第 1 步：动态控件填充在动态表中，就像在面板内

```
<asp:Panel ID="pnlShowDDF" runat="server" Visible="False" ViewStateMode="Enabled">
</asp:Panel> 
```

第2步：

```
 protected void loadTable()
            {
                HtmlTable tblDDF = new HtmlTable();
                var objDDF = new ddf();

            var dsDdfDetail = "DataSet Loaded"
            if (dsDdfDetail.Tables[0].Rows.Count > 0)
            {
                int RowsCount = dsDdfDetail.Tables[0].Rows.Count;
                for (int i = 0; i < RowsCount; i++)
                {
                    HtmlTableRow tblNewRow = new HtmlTableRow();
                    HtmlTableCell tblDdfCell = new HtmlTableCell();
                    tblDdfCell1.Controls.Add(addCheckbox(dsDdfDetail.Tables[0].Rows[i][0].ToString()));
    //The addCheckbox function returns the checkbox with its text

        tblNewRow.Controls.Add(tblDdfCell);
                    tblDDF.Controls.Add(tblNewRow);
                }
            HtmlTableRow htFooterRow = new HtmlTableRow();
            HtmlTableCell htFooterCell = new HtmlTableCell();

            htFooterCell.Controls.Add(DelButton());
//DelButton() is written in below
                htFooterCell.Attributes.Add("class", "pnlFooterRow");
                htFooterCell.ColSpan = 2;
                htFooterRow.Cells.Add(htFooterCell);
                tblDDF.Controls.Add(htFooterRow);
                }
            pnlShowDDF.Controls.Add(tblDDF);
            pnlShowDDF.Visible = true;
        }
protected Button DelButton()
    {
        var btnDelete = new Button();
        btnDelete.ID = "btnDelete";
        btnDelete.Text = "De-Allocate";
        btnDelete.Click += new EventHandler(btnDelete_Click);
        btnDelete.Attributes.Add("class", "button");
        btnDelete.ViewStateMode = ViewStateMode.Enabled;
        return btnDelete;
    } 
```

第 3 步需要从 btnDelete 访问动态复选框 id

```
void btnDelete_Click(object sender, EventArgs e)
    {
        //Need to access the checkbox id's here
        foreach(Control chk in pnlShowDDF.Controls)
        {
            if(chk is CheckBox)
            {
               CheckBox chkbx= chk as CheckBox;
                if(chkbx.Checked)
                {
                   //Here i need to access the id's which i can't right now
                }
            }
        }
    } 
```

第 4 步：我在 OnInit 上调用了 loadTable 函数，但没有任何收获

```
protected override void OnInit(EventArgs e)
    {
       base.OnInit(e);
        loadTable();
    } 
```

应该怎么做才能访问复选框ID？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T07:31:44.003

每当您添加动态控件时，您必须在`Page_Init`事件中添加它们并为其分配适当的 ID，以便在发生回发时，这些动态添加的控件连同它们的值一起被再次创建，并且在您的情况下可以在其他事件中访问`btnDelete_Click`。

因此，您缺少的是为表格单元格和行分配 ID，我希望您将 ID 分配给复选框。

**========================== 编辑======================== ====**

这是与我一起工作的代码，其中`btnDelete_Click`有足够好的更改。我得到了我添加的复选框，如果我选中其中任何一个，我得到的值为 true。

```
protected void loadTable()
    {
        HtmlTable tblDDF = new HtmlTable();
        //var objDDF = new ddf();

        //DataSet dsDdfDetail = new DataSet();
        //if (dsDdfDetail.Tables[0].Rows.Count > 0)
        //{
            //int RowsCount = dsDdfDetail.Tables[0].Rows.Count;
            for (int i = 0; i < 5; i++)
            {
                HtmlTableRow tblNewRow = new HtmlTableRow();
                HtmlTableCell tblDdfCell = new HtmlTableCell();
                tblDdfCell.Controls.Add(addCheckbox(i.ToString()));
                //The addCheckbox function returns the checkbox with its text

                tblNewRow.Controls.Add(tblDdfCell);
                tblDDF.Controls.Add(tblNewRow);
            }
            HtmlTableRow htFooterRow = new HtmlTableRow();
            HtmlTableCell htFooterCell = new HtmlTableCell();

            htFooterCell.Controls.Add(DelButton());
            //DelButton() is written in below
            htFooterCell.Attributes.Add("class", "pnlFooterRow");
            htFooterCell.ColSpan = 2;
            htFooterRow.Cells.Add(htFooterCell);
            tblDDF.Controls.Add(htFooterRow);
        //}
        pnlShowDDF.Controls.Add(tblDDF);
        pnlShowDDF.Visible = true;
    }
protected Button DelButton()
    {
        var btnDelete = new Button();
        btnDelete.ID = "btnDelete";
        btnDelete.Text = "De-Allocate";
        btnDelete.Click += new EventHandler(btnDelete_Click);
        btnDelete.Attributes.Add("class", "button");
        //btnDelete.ViewStateMode = ViewStateMode.Enabled;
        return btnDelete;
    }
protected CheckBox addCheckbox(string id)
    {
        CheckBox chk = new CheckBox();
        chk.ID = id;
        return chk;
    }
void btnDelete_Click(object sender, EventArgs e)
    {
        //Need to access the checkbox id's here
        foreach (Control chk in pnlShowDDF.Controls)
        {
            if (chk is HtmlTable)
            {
                HtmlTable tbl = (HtmlTable)chk;

                foreach (HtmlTableRow row in tbl.Rows)
                {
                    foreach (HtmlTableCell cell in row.Cells)
                    {
                        foreach (Control chk1 in cell.Controls)
                        {
                            if (chk1 is CheckBox)
                            {
                                CheckBox chkbx = chk1 as CheckBox;
                                if (chkbx.Checked)
                                {
                                    //Here i need to access the id's which i can't right now
                                }
                            }
                        }
                    }
                }
            }
        }
    } 
```

# ajax - Ajax 文件上传控制 (Asp.net 4.0)

> ID：12363494
> 
> 赞同：0
> 
> 时间：2012-09-11T05:51:50.277
> 
> 标签：ajax

我正在asp.net 中开发一个网站。在一个页面上，我放置了 5 个 Ajax 文件上传控件。但我无法在每个控件中获取上传文件的“文件名”。请帮助我提前谢谢......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-03T11:50:45.253

您可以在文件上传完成时触发的 UploadComplete 事件中获取文件名。

例子：

```
protected void AjaxFileUpload1_UploadComplete(object sender, AjaxControlToolkit.AjaxFileUploadEventArgs e)
{
    string filePath = MapPath("~/upload/") + Path.GetFileName(e.FileName);
    AjaxFileUpload1.SaveAs(filePath);

} 
```

参考这里：[http ://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/AjaxFileUpload/AjaxFileUpload.aspx](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/AjaxFileUpload/AjaxFileUpload.aspx)

# android - 将自定义对象从一个活动传递到另一个 Parcelable vs Bundle

> ID：12363503
> 
> 赞同：6
> 
> 时间：2012-09-11T05:52:23.280
> 
> 标签：android, android-intent, android-activity

我想将自定义对象从一个活动传递到另一个活动，该对象由一个字符串和另一个自定义对象的列表组成，该对象由一个字符串数组和一个整数数组组成。我读过 [https://stackoverflow.com/a/2141166/830104](https://stackoverflow.com/a/2141166/830104)，但后来我找到了这个答案[https://stackoverflow.com/a/7842273/830104](https://stackoverflow.com/a/7842273/830104)。使用 Bundle 或 Parcelable 哪个更好？有什么不同？我应该什么时候使用这个？
谢谢你的回复，
丹

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-11T06:20:24.930

`Parcelable`并且`Bundle`不是排他性的概念；您甚至可以同时在您的应用程序上部署两者。

[1] 术语`Parcelable`在 Java（和其他高级语言，如 C#、Python 等）中带有序列化概念。它确保此类的对象（保留在 RAM 存储中）`Parcelable`可以**保存**在文件流中，例如文本或内存（离线状态），然后可以在运行时重构以在程序中使用（在线状态）。

**在 Android 应用程序**中，在 2 内`independent activities`（仅运行 - 一个启动，然后另一个必须停止）：

当前活动将没有指向前一个活动及其成员的指针 - 因为先前的活动已停止并清除了表单内存；为了**保持传递给下一个活动**（从调用`Intent`）的对象的值，对象需要是`parcelable`（`serializable`）。

[2] While**`Bundle`**通常是Android的概念，表示一个变量或一组变量。如果往下看，可以认为是键值对的HashMap。

**结论：**

*   **`Bundle`**就是用相关键存储很多对象，它可以保存任何原生类型的对象，但是它**不知道**如何保存一个**复杂的对象**（例如包含一个ArrayList）

*   **`Parcelable`**class 是为了确保它的复杂实例可以在运行时**`serialized`**。**`de-serialized`**该对象可以包含复杂类型，例如 ArrayList、HashMap、array 或 struct，...

**[更新] - 示例：**

```
//Class without implementing Parcelable will cause error 
//if passing though activities via Intent
public class NoneParcelable
{
    private ArrayList<String> nameList = new ArrayList<String>();
    public NoneParcelable()
    {
        nameList.add("abc");
        nameList.add("xyz");            
    }
}

//Parcelable Class's objects can be exchanged 
public class GoodParcelable implements Parcelable
{
    private ArrayList<String> nameList = new ArrayList<String>();
    public GoodParcelable()
    {
        nameList.add("Can");
        nameList.add("be parsed");          
    }
    @Override
    public int describeContents()
    {
        return 0;
    }
    @Override
    public void writeToParcel(Parcel dest, int flags)
    {
        // Serialize ArrayList name here            
    }
} 
```

**在源活动中：**

```
NoneParcelable nonePcl = new NoneParcelable();
GoodParcelable goodPcl = new GoodParcelable();
int count = 100;

Intent i = new Intent(...);
i.putExtra("NONE_P",nonePcl);
i.putExtra("GOOD_P",goodPcl);
i.putExtra("COUNT", count); 
```

**在目的地活动中：**

```
Intent i = getIntent();

//this is BAD:
NoneParcelable nP = (NoneParcelable)i.getExtra("NONE_P"); //BAD code

//these are OK:
int count = (int)i.getExtra("COUNT");//OK
GoodParcelable myParcelableObject=(GoodParcelable)i.getParcelableExtra("GOOD_P");// OK 
```

# visual-studio - 创建生成 XAML 的基本交互式 GUI 编辑器

> ID：12363504
> 
> 赞同：1
> 
> 时间：2012-09-11T05:52:38.503
> 
> 标签：visual-studio, xaml, user-interface, ide, visual-editor

我创建了一个读取 XAML 文件并为游戏生成 HUD 的库。因此，现在任何人都可以使用 Visual Studio 中的 WPF 项目来设计和创建简单的 HUD。之后将 XAML 文件加载到我的库中，并使用 directX 创建 HUD。这就是它的基本思想。

现在我想让用户使用我们自己的 GUI 编辑器项目创建 XAML 文件，而无需创建 WPF 项目并从那些 WPF 项目中复制粘贴 XAML 文件以实现 HUD。所以用户必须能够，

*   打开 Visual Studio 并创建项目类型（项目模板）“Easy HUD Designer”项目的新项目
*   使用可视化 GUI 编辑器设计 HUD。
*   构建项目，使其生成 XAML 文件。（或者可以在编辑 GUI 时生成/修改 XAML，就像在 WPF 项目中一样）

这该怎么做？

我在想我是否可以使用 Visual Studio SDK 来做到这一点，但找不到任何关于使用它创建可视 GUI 编辑器的信息。目前我有VS2008和VS2010。

如果这不可能或不可行，我想我应该考虑创建我们自己的 HUD 设计软件。一个全新的应用程序。也欢迎任何关于此的建议和信息。

我发现了一个有点相似的问题：[Using the visual studio wpf editor to create an gui not for windows gui](https://stackoverflow.com/questions/8243363/using-the-visual-studio-wpf-editor-to-create-an-gui-not-for-windows-gui)

- 编辑 -

我通过实验发现了一些这样做的提示，

*   创建空 C# 项目
*   添加`Presentation Core`,`Presentation Framework`和`Windows Base`到引用
*   将项目类型设置为库（以便构建项目不会产生构建错误）
*   添加 XAML 文件。（我复制了一个 XAML 文件并`x:Class="bla bla.."`从窗口标记中删除了该属性。）

这个东西可以作为项目模板原型。但我还想控制用户编辑此项目时工具箱上显示的内容。我还想将文件类型 XAML 添加到“*添加新项目*”窗口，以便它将一个新的 xaml 文件添加到具有以下代码的项目中

```
<Window
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    >

</Window> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T13:25:58.540

找到解决方案 :) 确保安装了 .Net Framework 3.0 或更高版本。（不需要安装 C# 编译器。）

1.  创建您的 C++ 项目。（我想这也适用于其他项目类型）
2.  以您通常的方式添加一个新项目（有很多方法，所以只需使用您喜欢的方式）并且该项目应该是扩展名为**.xaml的****文本文件**（例如“myFile.xaml”）
***   在 Visual Studio 中打开它（看到*设计*区域可用但它给出错误）*   暂时忽略消息/警告/错误，然后将以下代码添加到您的 xaml 文件中，**

 **`````
<Window
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    >

</Window> 
````  `1.  关闭文件并再次打开它。转到 xaml 文件的*设计*区域，看看它现在具有 GUI 编辑器功能。

ps
如果您不熟悉 WPF，请记住在此窗口标签内添加一个*Grid*标签。否则，您将无法添加任何矩形或其他东西并正确编辑它们。``**

# wpf - WCF 和 WPF 有什么区别？

> ID：12363506
> 
> 赞同：20
> 
> 时间：2012-09-11T05:52:47.327
> 
> 标签：wpf, wcf

我是一个天真的开发人员，我正在构建我的概念，我被要求在 wcf 中创建一个示例应用程序，所以我在这里问了一个有点主观的问题。我想知道以上两者的区别和功能，在哪些方面我们更喜欢其中一个？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-09-11T05:57:49.413

WCF = Windows 通信基础

WPF = Windows 演示基础。

WCF 处理通信（简单来说——发送和接收数据以及涉及的格式化和序列化），WPF 处理表示（UI）

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-09-11T15:10:47.227

快速回答是：Windows Presentation Foundation (WPF) 基本上是一种显示用户界面的方式。（[见此](http://msdn.microsoft.com/en-us/library/ms754130.aspx)）

Windows Communication Foundation (WCF) 是用于创建面向服务的应用程序的框架。（[见此](http://msdn.microsoft.com/en-us/library/ms731082.aspx)）

至于你应该使用哪一个，这取决于你的要求。通常用 WPF、ASP.NET..etc 编写的应用程序调用 WCF 服务在服务器端进行一些处理，然后服务将结果返回给调用它的应用程序。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-01-29T06:40:11.940

**Windows 演示基础 (WPF)**

下一代用户体验。Windows Presentation Foundation WPF 提供了一个统一框架，用于在 Windows Vista 中构建应用程序和高保真体验，融合了应用程序 UI、文档和媒体内容。WPF 为开发人员提供 2D 和 3D 图形支持、硬件加速效果、不同外形尺寸的可扩展性、交互式数据可视化和卓越的内容可读性。

**Windows 通信基础 (WCF)**

Windows Communication Foundation (WCF) 是 Microsoft 用于构建面向服务的应用程序的统一编程模型。它使开发人员能够构建跨平台集成并与现有投资互操作的安全、可靠、交易的解决方案。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2016-04-07T06:40:47.450

*   WPF 是您的前端（演示文稿：.htm、.xaml 和 .css，..）
*   WCF 是您的后端应用程序（涉及服务器连接以获取数据以供您传递到前端以呈现的服务）。您可以为 RESTful 模型编写 WCF。
*   WebAPI 用于为 4.+ 框架构建 RESTful 模型的服务。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-10-14T08:13:48.737

基本上，如果您正在开发客户端-服务器应用程序。您可以使用 WCF -> 来建立客户端和服务器之间的连接，WPF -> 作为客户端来呈现数据。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-05-01T08:59:53.543

WCF = Windows Communication Foundation 用于构建面向服务的应用程序。WPF = Windows Presentation Foundation 用于编写独立于平台的应用程序。

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2017-03-23T10:43:03.720

Windows 通信基金会（WCF）用于连接不同的应用程序并使用端点在它们之间传递数据。

Windows Presentation Foundation 用于设计 xaml 格式的富 Internet 应用程序。

# iphone - 从另一个类创建超级视图的子视图不起作用

> ID：12363508
> 
> 赞同：1
> 
> 时间：2012-09-11T05:53:02.587
> 
> 标签：iphone, ios, uiviewcontroller, uiscrollview, parent-child

嗨，我是 iOS 新手。

我有 2 个类，一个是父类，另一个是子类。我在父类中有一种方法将创建一个 UIScrollView。我试图通过创建父类的对象从子类调用该父类方法。当我从子类调用时调用该方法，但如果我在父类中使用 self 调用相同的方法，它不会创建 UIScrollView，它会创建 UIScrollView。

我不知道我在哪里制造问题。请指导我

//父类中的scrollview创建方法//

```
 -(void)creatingScroll
{
UIScrollView * propertyScrl = [[UIScrollView alloc]initWithFrame:CGRectMake(10, 200, 320, 160)];
propertyScrl.scrollEnabled = YES;
propertyScrl.showsHorizontalScrollIndicator = YES;
propertyScrl.contentSize = CGSizeMake(600, 60);
propertyScrl.backgroundColor = [UIColor redColor];
[self.view addSubview:propertyScrl];

} 
```

//从子类调用上面的方法//

```
 ParentViewController *vc = [[ParentViewController alloc]init];

    [vc creatingScroll]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T05:57:48.563

您正在创建另一个对象`ParentViewController`并在该对象上调用`creatingScroll`方法，这不是推送到您的 viewController 上的视图。

你可以通过使用协议和委托来调用父类方法。

请参考[http://mobiledevelopertips.com/objective-c/the-basics-of-protocols-and-delegates.html](http://mobiledevelopertips.com/objective-c/the-basics-of-protocols-and-delegates.html)

希望能帮助到你。快乐编码:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:11:23.437

既然你已经继承了你的所有方法`superclass`，`subclass`那么你只需要`[self creatingScroll]`在子类中调用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:52:41.903

```
-(UIScrollView *)creatingScroll
{
UIScrollView * propertyScrl = [[UIScrollView alloc]initWithFrame:CGRectMake(10, 200, 320, 160)];
propertyScrl.scrollEnabled = YES;
propertyScrl.showsHorizontalScrollIndicator = YES;
propertyScrl.contentSize = CGSizeMake(600, 60);
propertyScrl.backgroundColor = [UIColor redColor];
 //[self.view addSubview:propertyScrl];  // don't add here

return propertyScrl;

}

//calling above method from child class or any class//
probably in viewDidLoad of child class 

 ParentViewController * vc = [[ParentViewController alloc]init];

  UIScrollView * scrollView = (UIScrollVIew * ) [vc creatingScroll];

    [self.view addSubView:scrollView]; 
```

# grails - 向 cloudfoundry 发布启动 Grails 项目

> ID：12363511
> 
> 赞同：1
> 
> 时间：2012-09-11T05:53:36.323
> 
> 标签：grails, cloud-foundry

我在将我的 (grails) 项目启动到 Cloud Foundry 时遇到问题。我已经启动了`cf-push`，但我不断收到此错误

```
I/O error: Connection reset; nested exception is java.net.SocketException: Connection reset 
```

当我跑步时`cf-update`。

我也看不到我的日志文件`cf-crashlogs`。我在终端窗口中得到这个：

```
grails> cf-crashlogs
|   Checking for available resources:..... 
```

如果我尝试访问该页面，我会得到一个`404 Not Found`页面。

我完全错过了什么吗？有没有其他人看到这个或知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T07:05:33.953

请检查您使用的是哪个版本的 cf grails 插件。尝试使用以下命令列出插件更新：

```
grails list-plugin-updates 
```

之后尝试通过以下方式获取云代工厂连接信息：

```
grails cf-info 
```

我想你知道如何配置登录信息，这里列出了所有配置属性：http: [//grails-plugins.github.com/grails-cloud-foundry/docs/manual/guide/3%20Configuration.html](http://grails-plugins.github.com/grails-cloud-foundry/docs/manual/guide/3%20Configuration.html)

要访问您的应用程序日志，最常用的命令是

```
grails cf-logs [destination] [--appname] [--instance] [--stderr] [--stdout] [--startup] 
```

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T11:04:23.983

很久以前我就在尝试测试 Cloud Foundry。不记得了，但也有一些我无法使用默认工具克服的问题。但是后来我使用[了 Cloud Foundry Integration](http://grails.org/plugin/cloud-foundry)。正如我之前提到的那样，所以我不会提供详细信息，但插件按预期工作并且我能够部署。也许你也会成功:)

# javascript - 使用javascript在鼠标单击时动态添加p元素

> ID：12363513
> 
> 赞同：0
> 
> 时间：2012-09-11T05:53:46.000
> 
> 标签：javascript

我需要一个代码来使用 JavaScript 在按钮的每个 onclick 事件上显示一些消息

`enter code here`

```
 <!DOCTYPE>
  <html>
     <head>
         <script>
             function addElement() {
 var ni = document.getElementById('myDiv');
 var numi = document.getElementById('theValue');
 var num = (document.getElementById('theValue').value -1)+ 2;
  numi.value = num;
 var newdiv = document.createElement('div');
 var divIdName = 'my'+num+'Div';
 newdiv.setAttribute('id',divIdName);
 newdiv.innerHTML = 'Element Number '+num+' has been added! <a href=\'#\'       onclick=\'removeElement('+divIdName+')\'>Remove the div "'+divIdName+'"</a>';
 ni.appendChild(newdiv);
 }
        </script>
    </head>
    <body>
        <div id='myDiv'>
            <input type="button" value="click" onclick="addelement()">
                <p id='theValue'></p>
        </div>
    </body>
  </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:00:02.233

检查你的函数名替换这个

```
onclick="addElement()" 
```

# android - 如何在android的默认播放器中隐藏url详细信息

> ID：12363514
> 
> 赞同：3
> 
> 时间：2012-09-11T05:53:56.947
> 
> 标签：android

我使用意图调用默认音频播放器。它的播放正确，但想隐藏播放 URL 的详细信息显示在 play.its 我的编码

```
String extension = MimeTypeMap.getFileExtensionFromUrl(url);
String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(extension);
Intent mediaIntent = new Intent(Intent.ACTION_VIEW);
mediaIntent.setDataAndType(Uri.parse(url), mimeType);
startActivity(mediaIntent); 
```

![在此处输入图像描述](../Images/494653e49dd274c999ff3b8d616c3ac8.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:09:51.930

像这样的隐含意图是无法实现的。这是因为您无法控制用于播放内容的 UI。为了解决您的问题，您必须使用框架中可用的特定类播放文件。

# python - 传递 QObject 时 QtWebkit 段错误

> ID：12363515
> 
> 赞同：0
> 
> 时间：2012-09-11T05:53:59.507
> 
> 标签：python, segmentation-fault, pyqt4, pyside

`QtWebkit`每当我`QObject`从 another 的方法返回 a 时，segfaults `QObject`。

这是我能想到的最简单的测试用例（它适用于 PySide 和 PyQt4）：

```
#!/usr/bin/env python2

import sys

try:
  from PyQt4.QtCore import QObject, QVariant, pyqtProperty
  from PyQt4.QtGui import QApplication
  from PyQt4.QtWebKit import QWebView

  Property = pyqtProperty
except ImportError:
  from PySide.QtCore import QObject, Property
  from PySide.QtGui import QApplication
  from PySide.QtWebKit import QWebView

class TestObject(QObject):
  @Property(str)
  def property(self):
    return 'foo'

class TestObjectContainer(QObject):
  @Property(QObject)  # Swapping QObject with TestObject doesn't fix it
  def object(self):
    return TestObject()

if __name__ == '__main__':
  application = QApplication(sys.argv)

  browser = QWebView()
  frame = browser.page().mainFrame()

  frame.addToJavaScriptWindowObject('container', TestObjectContainer())
  frame.addToJavaScriptWindowObject('test_object', TestObject())

  browser.show()

  #frame.evaluateJavaScript('test_object.property')
  frame.evaluateJavaScript('container.object.property')

  sys.exit(application.exec_()) 
```

这是奇怪的部分：

```
test_object.property;       // This doesn't segfault
container.object.property;  // This does 
```

有没有办法`QObject`像这样返回 s ？我做错了什么，还是这是一个错误？

* * *

我最终在[@HYRY 的回答](https://stackoverflow.com/a/12363609/464744)的帮助下创建了一个简单的包装类：

```
class WebkitQObject(QObject):
  def __init__(self):
    super(WebkitQObject, self).__init__()
    self.__cache__ = []

  def store(self, item):
    self.__cache__.append(item)

    return self.__cache__[-1] 
```

现在，此代码稍作修改即可工作：

```
class TestObjectContainer(WebkitQObject):
  @Property(QObject)
  def object(self):
    return self.store(TestObject()) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:01:54.820

您需要对 QObject 的 Python 引用才能使其保持活动状态。您可以通过如下更改代码来测试它，

```
class TestObjectContainer(QObject):
  @Property(QObject)
  def object(self):
    self.tmp = TestObject()
    return self.tmp 
```

# javascript - 读取字符串，直到特定字符出现在 javascript 中

> ID：12363516
> 
> 赞同：4
> 
> 时间：2012-09-11T05:54:07.150
> 
> 标签：javascript

我正在从这样的字符串列表中读取：

> 2012 年 4 月 9 日 (2012-04-09) 编号 0 2012 年 4 月 16 日 (2012-04-16) 编号 0 2012 年 4 月 23 日 (2012-04-23) 编号 0 2012 年 4 月 30 日 (2012-04-30)数字 0 2012 年 5 月 7 日 (2012-05-07) 数字 0 2012 年 5 月 14 日 (2012-05-14) 数字 0 2012 年 10 月 8 日 (2012-10-08)[126] 数字 0 2012 年 10 月 15 日 (2012 -10-15)[126] 编号 0 2012 年 10 月 22 日 (2012-10-22)[126] 编号 0 2012 年 10 月 29 日 (2012-10-29)[126] 编号 0

我想阅读日期，直到第一个括号'（'我试过：

```
console.log( $(this).text().substring(0,16) ); 
```

但这仅适用于较长的月份，其余的（如可能或六月）返回字符串其余部分的一部分。有没有一种方法可以用来做到这一点？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-11T05:59:35.897

你在找`indexof(str)`方法

```
myStr.substring(0, myStr.indexOf('(')) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T06:04:53.290

试试这个：

```
var a=$(this).text();
console.log( a.substr(0, a.indexOf('(')) ) ); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:06:53.683

尝试`console.log( $(this).text().substring(0, $(this).text().indexOf('(') );`

# android - 将值插入到 android 设备中的 sqlite 表中

> ID：12363517
> 
> 赞同：0
> 
> 时间：2012-09-11T05:54:07.200
> 
> 标签：android, android-sqlite

我是 Android 和 Java 的新手。我正在创建一个 Android 应用程序，我将在其中收集数据并将数据从服务器导入到 Android。

我希望将导入的数据存储到 SQLite 表中。所以我根据我的要求创建了两个表。应在打开应用程序时创建此表，并应在关闭未切换应用程序时清理此表。为此，我将表放在 onOpen() 中，它在模拟器中运行良好。我能够看到`DDMS-Data`.

现在我正在尝试在 android mobile 上实现它，并且正在查看`DDMS`设备中的数据文件夹。但我没有看到任何桌子。该文件夹仍然是空的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:01:19.440

您无法通过 ddms 实用程序从设备检查数据库表。因为它不会在此处列出，但您可以通过应用选择查询来检查数据，无论您想在哪里调试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:01:34.823

某些设备需要“root”才能访问数据文件夹。[您可以在 wikipedia http://en.wikipedia.org/wiki/Rooting_%28Android_OS%29](http://en.wikipedia.org/wiki/Rooting_%28Android_OS%29)上阅读有关此过程的更多信息但是，如果您只需要它来查看您的表格，则不建议这样做。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:02:40.083

有时，默认情况下，它仅限于查看设备作为制造商的数据文件夹内的表格，并没有授予查看权限。但是您的表格确实存在于您的数据文件夹中。

如果您想确认，可以通过在您的应用程序中打开它来检查。你绝对可以放下你的桌子，当应用程序关闭时它会被清理，不用担心。您必须 root 设备才能获得许可，这将取消您的设备保修。

# php - 关于计数 %

> ID：12363519
> 
> 赞同：3
> 
> 时间：2012-09-11T05:54:29.930
> 
> 标签：php

我在数据库中有 3 个字段

```
Total_Points 
Earned_Point
Progress 
```

让我们说有一个游戏

我从 1000 得到 800 点

```
Total_Points = 1000
Earned_Point = 800
Progress = 80% 
```

我手动计算进度 (( 80% ))

如何使用 PHP 自动计数？

自动获取`%`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-11T05:56:37.010

嗯，这就是数学的基础……

```
Earned_Point * 100 / Total_Points 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-11T05:56:57.447

首先，您需要从数据库中获取它，然后您可以进行计算并存储在数据库中

计算使用这个

```
(Earned_Point * 100) / Total_Points 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-11T05:57:14.607

试试喜欢

```
Progress = 100 * (Earned_Point / Total_Points) 
```

# c# - Console.Writeline 停止我的程序... C#

> ID：12363520
> 
> 赞同：4
> 
> 时间：2012-09-11T05:54:38.897
> 
> 标签：c#, console

我刚刚在我的 Windows Froms C# 应用程序中遇到了最奇怪的问题

我的代码中有一些`Console.WriteLine`用于调试，但突然停止工作。例如

```
try{
   line(of.code);
   Console.WriteLine("HERE");
   other.line(of.code);
}
catch (Exception e)
{
   logger.logg(e.ToString());
} 
```

我不会`other.line(of.code);`排队，也没有在控制台中看到“这里”。

代码中有几个地方，所有地方都发生了同样的情况。它只是停止，它没有抓住...

最糟糕的是，它工作得更早。我在应用程序上工作了很长时间，从来没有见过这样的事情。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T06:13:57.463

如果您仅需要它进行调试，请尝试

```
System.Diagnostics.Debug.Writeline("HERE"); 
```

反而。

这会将输出写入您的开发环境的输出窗口，更重要的是，无论您正在开发的应用程序类型如何（控制台应用程序、win 表单、Web 应用程序等），它都能正常工作。

一旦您更改为“发布”，调试信息将被忽略并且不会编译到代码中。如果你也需要它，你应该尝试 Trace.Writeline。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T06:05:02.323

我可以想到一些会导致 Console.WriteLine 失败的场景：

1.  输出流已设置为无效对象或行为不端的对象（在您的情况下停止程序）。

2.  您在不允许您使用控制台的环境中运行*。

3.  它不是 System.Console.WriteLine 而是另一个同名的方法，由于一些 using 指令而被调用。

*：我想不出这样的环境，但可能是一些插件系统？

如果您正在制作一个 Windows Froms 应用程序并且没有为您的控制台设置输出流，那么 Console.WriteLine 应该什么都不做。因此，如果您需要调试，请遵循[Matt 的建议](https://stackoverflow.com/a/12363739/402022)。

# c# - 如何在 C# 中获取 HTML 的一部分

> ID：12363526
> 
> 赞同：0
> 
> 时间：2012-09-11T05:55:06.807
> 
> 标签：c#, asp.net, html, parsing, c#-4.0

请考虑这种情况：

我们有两个网页。一个简单的页面，其中包含一些控件和另一个页面，`Execute`第一页并获得输出`HTML`。例如：

```
StringWriter textWriter = new StringWriter();
HttpContext.Current.Server.Execute("Blinker.aspx", textWriter);
Label1.Text= Server.HtmlEncode(textWriter.ToString()); 
```

它返回这个（例如）：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head>
    <title> </title> 
</head> 
<body> 
<form method="post" action="Blinker.aspx" id="form1"> 
    <div class="aspNetHidden"> 
        <input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTE2MTY2ODcyMjlkZKwUTjEtU7qJweOD/x+Op0ROdM+jDqyILuizFGhjOJQj" /> 
    </div> 
    <div class="blink"> Some Test</div> 
</form> 
</body> 
</html> 
```

问题是如果我只想：

```
<div class="blink"> Some Test</div> 
```

如何从 C# 中的输出 html 中获取它？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T06:04:22.403

[试试](http://html-agility-pack.ne)HTMLAgilityPack 。

这是一个可爱的 HTML 解析器，通常为此推荐。它将采用格式错误的 HTML 并将其转换为 XHTML，然后是可遍历的 DOM，例如 XML 类。因此，对于您在野外找到的代码非常有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T06:53:02.240

```
HtmlElementCollection tData = wb.Document.GetElementsByTagName("div");

            foreach (HtmlElement td in tData)
            {
                string name = "";
                if (td.GetAttribute("classname") == "blink")
                {
                    name = td.InnerText;
                }
            } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T06:04:31.170

以下是选项

1.  应用正则表达式从响应 HTML 中提取此文本
2.  制作 XML 文档，遍历所有的潜水标签。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-11T06:19:01.423

我们在我们的一个项目中遇到了同样的情况。我建议`Regex`两者`HTMLAgilityPack`

*   使用 Agilitypack，您可以使用 C# 代码从网页中过滤掉特定内容，并且您也`LINQ`有

*   然后，如果您需要获取 Div 中的任何特定文本或任何单个值，您可以使用 Regex。

希望这可以帮助

# selenium - Selenium 测试用例在运行时出错

> ID：12363530
> 
> 赞同：0
> 
> 时间：2012-09-11T05:55:17.910
> 
> 标签：selenium

使用 Selenium IDE，我记录了一个包含 的测试用例`click url`，然后提供用户名和密码，然后单击按钮导航到下一页。

在渲染页面中，如果我单击任何链接，错误将显示为`Element link=linkname not found`.

为什么会出现这个错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-09T11:52:00.303

您可以通过不同的方式处理此类问题。问题可能是呈现为用户名和密码单击很好，因为当您在这些测试框中输入值时，您将停留在同一页面上。

*   但是，一旦您单击提交按钮，应用程序就必须使用您刚刚添加的凭据加载一个新页面。
*   因此，就硒而言，这需要一些时间。您可以做的是您可以在此操作之后放置一些等待。到目前为止，selenium 提供了两种类型的等待显式和隐式等待。
*   您可以尝试 thread.sleep() ，它是一种 java 类型的方法，也是一种等待。但是在 Selenium 编码中强烈建议使用隐式和显式等待。

> 您可以参考此博客以获取有关等待的更多知识（[http://khyatisehgal.wordpress.com/2013/05/09/how-to-handle-timeouts-implicit-and-explicit-waits-in-selenium/](http://khyatisehgal.wordpress.com/2013/05/09/how-to-handle-timeouts-implicit-and-explicit-waits-in-selenium/)）

恰蒂·塞加尔

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T07:15:42.210

执行该命令时页面已完全加载？如果不只是放置`waitForPageToLoad`或`pause`命令。

```
waitForPageToLoad | timeout 
```

或者

```
pause  | 5000 
```

`clickAndWait`您也可以在输入用户名和密码后使用按钮命令

# vbscript - 如何使用批处理文件或 vbscript 读取 xml 数据？

> ID：12363537
> 
> 赞同：0
> 
> 时间：2012-09-11T05:56:04.527
> 
> 标签：vbscript, batch-file

我对批处理编码或 vbscript 不太了解。无论如何，我现在要问的是如何使用批处理脚本或 vbscript 读取 xml 文件中的特定数据？该脚本想读取 xml 中的空标签或自终止标签。如果脚本发现空标签，它应该在日志文件中输出错误。

我在这里有我的 XML：

```
<author>
<fname>John</fname>
<lname>Doe</lname>
</author>
<institution>
<name/>
<city>Pork</city>
<country>Plate</country>
</institution> 
```

假设，名称标签是一个错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T09:58:57.653

您可以使用[MSXML](http://msdn.microsoft.com/en-us/library/windows/desktop/ms760399%28v=vs.85%29.aspx)从 VBScript 解析 XML。示例代码主要使用 C++ 或 JScript，但[这里有一个页面](http://msdn.microsoft.com/en-us/library/windows/desktop/ms756007%28v=vs.85%29.aspx)可以帮助您将这些示例转换为 VBScript。这是一个老问题，可能可以用作阅读 XML 的开始：[Traversing all nodes in an XML file with VBScript](https://stackoverflow.com/questions/1908526/traversing-all-nodes-in-an-xml-file-with-vbscript)

并且要将数据写入文件，可以使用[FSO](http://msdn.microsoft.com/en-us/library/2z9ffy99%28v=vs.84%29.aspx) (FileSystemObject)。

# php - 如何使用 PHP 和 Jquery ajax 从 foreach 循环语句中检索这种类型的代码行？

> ID：12363539
> 
> 赞同：1
> 
> 时间：2012-09-11T05:56:15.700
> 
> 标签：php, jquery

如何将这行回显代码从我的 php 文件中检索到我的 jquery 中，并且我期望值行。

我的 php 文件

```
foreach($stmt as $warrior){
            echo '<td>'.$warrior['warrior_id'].'</td><td>'.$warrior['warrior_name'].'</td><td>'.$warrior['warrior_type'].'</td>';
        } 
```

我的js脚本

```
<script>
    function createWarrior() {
        $.post( "create_warrior.php", { 
        "wname": $("#txtWname").val(),
        "wtype": $("#txtWtype").val()           
        }, 
        function(msg){
            //What should I put here
        });
        return false;
    }
</script> 
```

我的html代码

```
<table>
        <tr>
            <th colspan="3">Warrior</th>
        </tr>
        <tr>
            <th>Warrior ID</th>
            <th>Warrior Name</th>
            <th>Warrior Type</th>
        </tr>
        <tr>
            //the output should be here
        </tr> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:13:36.913

`<tr>`在开头和结尾添加标签

```
foreach($stmt as $warrior){
            echo '<tr><td>'.$warrior['warrior_id'].'</td><td>'.$warrior['warrior_name'].'</td><td>'.$warrior['warrior_type'].'</td></tr>';
        } 
```

结果将是

```
<tr><td>warrior_id_1</td><td>warrior_name_1</td><td>warrior_type_1</td></tr>
<tr><td>warrior_id_2</td><td>warrior_name_2</td><td>warrior_type_2</td></tr>
.... 
```

这个答案你需要在 js 中获取并附加到 html：

```
<script>
  $.ajax({
    url: 'create_warrior.php',
    //Send data to php if you need. In php use $_POST['wname'] to read this data.
    data: {wname: $("#txtWname").val(),wtype: $("#txtWtype").val() },
    success: function(data) {
      $('#dataTable').append(data);
    }
  });

</script> 
```

HTML

```
<table id = "dataTable">
        <tr>
            <th colspan="3">Warrior</th>
        </tr>
        <tr>
            <th>Warrior ID</th>
            <th>Warrior Name</th>
            <th>Warrior Type</th>
        </tr>
</table> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:01:56.897

类似的东西（注意添加`<tr></tr>`）

```
foreach($stmt as $warrior){
    echo '<tr><td>'.$warrior['warrior_id'].'</td><td>'.$warrior['warrior_name'].'</td><td>'.$warrior['warrior_type'].'</td></tr>';
} 
```

和

```
<script>
function createWarrior() {
    $.post( "create_warrior.php", { 
    "wname": $("#txtWname").val(),
    "wtype": $("#txtWtype").val()           
    }, 
    function(msg){
        $('#mytable').append(msg);
    });
    return false;
}
</script> 
```

和

```
<table id="mytable">
    <tr>
        <th colspan="3">Warrior</th>
    </tr>
    <tr>
        <th>Warrior ID</th>
        <th>Warrior Name</th>
        <th>Warrior Type</th>
    </tr>
</table> 
```

我相信应该可以工作，没有尝试过。

# asp.net-mvc-3 - 无法在 iis 7 中托管的 mvc3 应用程序中查看图像

> ID：12363548
> 
> 赞同：1
> 
> 时间：2012-09-11T05:56:52.173
> 
> 标签：asp.net-mvc-3, web, web-hosting

我在 iis 服务器 7 中托管了我的 asp .net mvc3 应用程序。我已经将我的应用程序部署在一个虚拟目录下，我的应用程序的 url 就像 www.abc.com/virtualdirname 。应用程序工作正常，我能够浏览页面。但是，我无法查看我的应用程序中使用的任何图像。我已将图像存储在文件夹 public/images 中。其中一张图片的cshtml代码如下 **img id="start" src="../../Public/images/start_button_start.png"**

我收到错误消息代替图像，图像路径是 www.abc.com/public/images 而不是 www.abc.com/virtualdirname/public/images 。

在我的配置文件的应用程序设置中，我定义了虚拟目录。 **添加键=“虚拟目录”值=“/虚拟目录名称”/**

谁能告诉我为什么会发生这个问题，我该如何摆脱这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:01:10.483

永远不要在 ASP.NET MVC 应用程序中对 url 进行硬编码。始终使用 url 助手：

```
<img src="@Url.Content("~/Public/images/start_button_start.png")" alt=""/> 
```

网址助手将考虑虚拟目录。

# ruby-on-rails - 退出后如何在rails中显示flash消息

> ID：12363551
> 
> 赞同：0
> 
> 时间：2012-09-11T05:57:07.317
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我在用户表（状态）中有一个字段，基于此如果 user.status =="S" 我需要注销用户并需要像这样显示我的代码的闪存消息。

```
if current_user.status == "S"

  flash[:message] = "Your account has been suspended."

  flash.keep(:message)

  sign_out

end 
```

注销工作正常，但在 new_user_session_path 上未显示 Flash 消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T06:43:57.237

我得到了我需要在注销后放置 current_user 的解决方案

# iphone - iPhone Adhoc OTA 下载错误

> ID：12363554
> 
> 赞同：2
> 
> 时间：2012-09-11T05:57:25.323
> 
> 标签：iphone, ios, ad-hoc-distribution, ota

我已经开发了一个 OTA 应用程序，我可以通过 Adhoc 无线下载到我的 iPhone 和 iPad 设备（版本 3gs）。但是当我试图下载到我以外的其他设备（4s）时，它显示“应用程序目前无法下载”。我什至在该配置文件中添加了这些设备的 udid。任何人都可以帮助解决确切的问题吗？我正在努力寻找它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:54:33.203

添加每个 UDID 后，您需要重新构建并重新上传您的应用程序。

# matplotlib - Mac OSX 10.8 Mountain Lion 上的 Matplotlib 安装失败

> ID：12363557
> 
> 赞同：27
> 
> 时间：2012-09-11T05:57:35.123
> 
> 标签：matplotlib

我试图在我的 MacBook Air 上安装 matplotlib，但它总是给我这个错误信息：

```
 Processing matplotlib-1.1.1_notests.tar.gz
 Running matplotlib-1.1.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-3jFpXK/matplotlib-1.1.1/egg-dist-tmp-jC7QY3
    basedirlist is: []
    ============================================================================
    BUILDING MATPLOTLIB
                matplotlib: 1.1.1
                    python: 2.7.2 (default, Jun 20 2012, 16:23:33)  [GCC 4.2.1
                            Compatible Apple Clang 4.0
                            (tags/Apple/clang-418.0.60)]
                  platform: darwin

    REQUIRED DEPENDENCIES
                     numpy: 1.6.1
                 freetype2: found, but unknown version (no pkg-config)
                            * WARNING: Could not find 'freetype2' headers in any
                            * of '.', './freetype2'.

    OPTIONAL BACKEND DEPENDENCIES
                    libpng: found, but unknown version (no pkg-config)
                            * Could not find 'libpng' headers in any of '.'
                   Tkinter: Tkinter: version not identified, Tk: 8.5, Tcl: 8.5
                      Gtk+: no
                            * Building for Gtk+ requires pygtk; you must be able
                            * to "import gtk" in your build/install environment
           Mac OS X native: yes
                        Qt: no
                       Qt4: no
                    PySide: no
                     Cairo: no

    OPTIONAL DATE/TIMEZONE DEPENDENCIES
                  datetime: present, version unknown
                  dateutil: 1.5
                      pytz: matplotlib will provide
    adding pytz

    OPTIONAL USETEX DEPENDENCIES
                    dvipng: 1.14
               ghostscript: 9.05
                     latex: 3.1415926

    [Edit setup.cfg to suppress the above messages]

  pymods ['pylab']
    packages ['matplotlib', 'matplotlib.backends', 'matplotlib.backends.qt4_editor', 'matplotlib.projections', 'matplotlib.testing', 'matplotlib.testing.jpl_units', 'matplotlib.tests', 'mpl_toolkits', 'mpl_toolkits.mplot3d', 'mpl_toolkits.axes_grid', 'mpl_toolkits.axes_grid1', 'mpl_toolkits.axisartist', 'matplotlib.sphinxext', 'matplotlib.tri', 'matplotlib.delaunay', 'pytz']
    warning: no files found matching 'KNOWN_BUGS'
    warning: no files found matching 'INTERACTIVE'
    warning: no files found matching 'MANIFEST'
    warning: no files found matching '__init__.py'
    warning: no files found matching 'examples/data/*'
    warning: no files found matching 'lib/mpl_toolkits'
    warning: no files found matching 'LICENSE*' under directory 'license'
    clang: warning: argument unused during compilation: '-mno-fused-madd'
    In file included from src/ft2font.cpp:3:
    src/ft2font.h:16:10: fatal error: 'ft2build.h' file not found

**#include <ft2build.h>
             ^
    1 error generated.
    error: Setup script exited with error: command 'clang' failed with exit status 1** 
```

我尝试使用自制软件安装 freetype 和 libpng，但它不起作用。我怎样才能获得 ft2build.h？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-10-08T23:22:05.023

根据 thegreenroom 的说明安装 python 后，以下内容适用于 matplotlib[安装](http://www.thisisthegreenroom.com/2011/installing-python-numpy-scipy-matplotlib-and-ipython-on-lion/#lion)。安装 Python 后，这些说明对我不起作用。我按照[Scipy.org](http://www.scipy.org/Installing_SciPy/Mac_OS_X#head-9ec15aabd402675e5139a8c9c727e6a23513d56a%20Scipy.org)的说明安装了 numpy 和 scipy。然后我做了（改编自上面的答案）：

```
brew install freetype
brew install libpng 
```

但是，无论我是使用源安装`pip install matplotlib`还是尝试从源安装，我都会收到相同的错误消息，

```
python setup.py build
python setup.py install 
```

在我通过克隆的 matplotlib 目录中`git clone https://github.com/matplotlib/matplotlib.git`。

错误一直存在，直到我跑

```
brew link freetype 
```

然后从克隆的 matplotlib 目录中运行

```
python setup.py build
python setup.py install 
```

并且安装成功。

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2013-02-26T19:54:52.533

这可能有助于寻找非自制解决方案的人们。

我的目标：`pip install`用于为非系统 python 2.7.3 构建构建 matplotlib。

使用截至 2013 年 2 月的最新 X-Code 和 X-Code 命令行工具，无论我尝试什么体操，在使用 gcc 编译 ft2build 时，我总是收到与 C++ ostream 相关的模板错误。

我能够安装 pip 以使用以下环境变量：

```
export CC=clang
export CXX=clang++
export LDFLAGS="-L/usr/X11/lib"
export CFLAGS="-I/usr/X11/include -I/usr/X11/include/freetype2" 
```

我只是强制clang并添加了我的xquartz路径。没有额外的 pkg-config 或 libpng 构建，没有 sudo 编辑的符号链接。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-09-20T23:30:51.983

我认为其他答案都在正确的轨道上，但我遇到了同样的问题并且可以证明：

```
brew install pkg-config
brew install freetype
pip install matplotlib 
```

会产生相同的结果。通常在 Ubuntu 机器上，我的下一个响应是

```
sudo apt-get install libfreetype-dev 
```

或安装接头的一些变体。但是，我找不到这样的自制软件包。此外，我能够在我的系统上非常正常的位置找到有问题的头文件：

```
zoidberg:~ matt$ locate ft2build.h
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/usr/X11/include/ft2build.h
/usr/X11/include/ft2build.h 
```

所以我怀疑我的系统路径或自制打包的matplotlib有问题。由于我很懒，我只是尝试从github安装matplotlib包头：

```
pip install git+git://github.com/matplotlib/matplotlib.git#egg=matplotlib-dev 
```

它对我有用。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-04-11T03:44:42.000

这是我从冷开始就使用的 brew + pip 配方。如果您已经拥有 python 和 gfortran 等，请在需要的地方加入。关键步骤似乎是在做`brew install freetype`之前`brew install libpng``pip install matplotlib`

```
$ ruby -e "$(curl -fsSkL raw.github.com/mxcl/homebrew/go)"
$ brew doctor
$ brew install python
$ export PATH=/usr/local/bin:/usr/local/share/python:$PATH
$ easy_install pip
$ brew install gfortran
$ pip install numpy
$ pip install scipy
$ brew install pkg-config
$ brew install freetype
$ brew install libpng
$ pip install matplotlib
$ python
>>> import numpy
>>> import scipy
>>> import matplotlib 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-09-12T07:03:24.277

你需要自由类型：

```
brew install freetype 
```

请参阅以下内容：

[http://comments.gmane.org/gmane.comp.python.matplotlib.general/31394](http://comments.gmane.org/gmane.comp.python.matplotlib.general/31394)

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-09-11T15:19:06.403

请注意“无 pkg-config”通知。您应该`pkg-config`在搜索路径上有，并且它可能需要是自制版本，以便它知道库的自制版本在哪里。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-06-18T16:23:35.710

我也将 mac air 与 OS X 版本 10.8.2 一起使用。

使用以下命令可以摆脱此故障：
brew install freetype
brew install libpng
pip install matplotlib

就这样。安装过程中可能会有一些警告，但不影响。

使用以下python代码进行测试：

```
import matplotlib.pyplot as plt
plt.plot([1,2,3,4])
plt.ylabel('some numbers')
plt.show() 
```

从网址引用：http: [//matplotlib.org/users/pyplot_tutorial.html](http://matplotlib.org/users/pyplot_tutorial.html)。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-04-22T18:51:09.997

我也在使用 MacOs 10.8，当我尝试安装 matplotlib 时遇到了关于找不到 ft2build.h 标头的相同问题，我为解决报告的问题所做的工作是：

1）在文件“setupext.py”中的以下调用中替换“ft2build.h”：

```
 return self._check_for_pkg_config('freetype2', 
                                 'ft2build.h',
                                  min_version='2.4', 
                                  version=version) 
```

通过 ft2build.h 标头的完整路径，在我的情况下：

```
 return self._check_for_pkg_config('freetype2', 
                               '/usr/local/Cellar/freetype/2.5.2/include/freetype2/ft2build.h',
                                min_version='2.4', 
                                version=version) 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-08-13T01:12:56.550

我发现通过自制软件安装这些包装是最可靠的方法

```
 # if you haven't installed python via brew already:
 brew install python

 # sets up python as default python instead of system python
 brew link python

 # Add more brew formulae so we can install our py libs with brew
 brew tap samueljohn/python
 brew tap homebrew/science

 # install numpy,scipy,matplotlib and dependencies ( gfortran, etc.. )
 brew install numpy
 brew install scipy
 brew insatll matplotlib 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-07-03T14:25:59.300

我认为，但尚未测试，该问题已在 matplotlib 的上游提交中解决。以下是我的理由：

讨论：

[https://github.com/vbraun/sage/commit/5d17ca989eb58559af8f43b43e368c378c1bf6bb](https://github.com/vbraun/sage/commit/5d17ca989eb58559af8f43b43e368c378c1bf6bb)

使固定：

[https://github.com/vbraun/sage/blob/5d17ca989eb58559af8f43b43e368c378c1bf6bb/build/pkgs/matplotlib/patches/pkg-config.patch](https://github.com/vbraun/sage/blob/5d17ca989eb58559af8f43b43e368c378c1bf6bb/build/pkgs/matplotlib/patches/pkg-config.patch)

我用 Cyris 的回答思想解决了这个问题。

* * *

## 回答 #11

> 赞同：-1
> 
> 时间：2013-08-19T07:00:43.873

我也有类似的问题，并使用自制软件以相当简单的方式修复了它。

因此，您不必链接`freetype`库。主要问题是，`freetype`使用自制软件安装后，系统会告诉您添加

```
-I/usr/local/opt/freetype/include 
```

到您的 CPPFLAGS。但是，仅此还不够，您还必须添加`freetype2`子文件夹。

因此，为了安装 matplotlib，请执行以下操作：

```
brew install freetype
brew install libpng
LDFLAGS="-L/usr/local/opt/freetype/lib -L/usr/local/opt/libpng/lib" CPPFLAGS="-I/usr/local/opt/freetype/include -I/usr/local/opt/libpng/include -I/usr/local/opt/freetype/include/freetype2" pip install matplotlib 
```

# c - 文件范围内的可变长度数组？

> ID：12363558
> 
> 赞同：1
> 
> 时间：2012-09-11T05:57:46.240
> 
> 标签：c, scope

例如，我有这个代码。

```
#include <stdlib.h>
#include <stdio.h>
#define array_size 3

typedef struct {
    int array[array_size];
} TEST;

void printout(TEST *p, int element) {
    printf("element: %i\n", p->array[element]);
}

int main(void) {
    TEST *p;
    p = malloc(sizeof(TEST));
    p->array[0] = 5;
    printout(p, 0);

    return 0;
} 
```

但我想`"array_size"`根据用户输入进行分配。

如果我尝试这样做，编译器会说**`"variably modified ‘array_size’ at file scope"`**. 那么，我是否正确，做我想做的唯一方法是将所有内容移至 main()..？

它工作得很好，但保持`structs and functions declarations`在文件范围内似乎，你知道的，很整洁。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T06:02:28.520

最简单的方法是动态分配内存：

```
typedef struct {
    int *array;
    size_t size;
} TEST;

int main() {
    size_t elem_count = /* from user input */
    TEST p;
    p->array = malloc(elem_count * sizeof int);
    if(!p->array)
        return -1;

    p->size = elem_count;
    /* ... */
    free(p->array);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T06:03:18.687

您确实不能在文件范围内定义可变长度数组，但是您可以在文件范围内定义一个指针并对其进行 malloc，只需定义一个全局指针`int* p = NULL;`（丢失整个 TEST 内容）并`p = malloc(sizeof(int) * input_size);`简单地使用`p[x]`.

为了完整起见，您还可以使用 C99 中定义的所谓灵活数组成员：

来自 ISO/IEC 9899:1999，第 6.7.2.1 节，第 16 段：

> 作为一种特殊情况，具有多个命名成员的结构的最后一个元素可能具有不完整的数组类型；这称为灵活数组成员。

```
typedef struct {
    other_type other_data
    int array[];
} TEST;

...

TEST *p = malloc(sizeof(TEST) + sizeof(int) * input_size); 
```

尽管请注意这仅限于单个成员，但如果您有多个不同类型但长度相同的数组，则可以创建一个结构数组。

这最初主要用于带有标题的数据，例如在文件和/或网络 I/O 中经常遇到的数据。

# jquery - mouseover 和 mouseenter 在循环中

> ID：12363561
> 
> 赞同：0
> 
> 时间：2012-09-11T05:57:54.513
> 
> 标签：jquery, tooltip, tiptip

我们使用 jquery tiptip 插件来显示工具提示，页面是动态的。

该代码适用于 ie8 和 firefox，但在 ie7 中，它进入无限循环，并且出现内存不足错误警报。代码是，

```
 $('a[toolTip]').live('mouseover', function(e) {
        $(this).tipTip({attribute:"toolTip"});          
        $(this).trigger('mouseenter'); 

    }); 
```

我们使用 toolTip 作为tiptip 的属性。当我删除触发器 mouseenter 代码行时，它也在 IE7 中工作，但不是在第一次悬停时，只有在第二次悬停时。这就是为什么我添加了以下代码行

```
$(this).trigger('mouseenter'); 
```

请帮助我修复 IE7 中的这种无限循环。

问候哈里

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:50:20.227

工具提示适用于第二次悬停，因为在第一次悬停时未设置属性。发生无限循环是因为您再次在处理程序上触发了不应执行的鼠标事件。在浏览tiptip插件站点时，初始化插件的方法是：

```
 $("a[toolTip]").tipTip({"attribute":"tooltip"}); 
```

当您将鼠标悬停在元素上时，这将反过来自动调用。无需为元素单独附加鼠标事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:52:32.813

看了看文档。似乎实现这一目标的最简单方法是。

`$('a[toolTip]').tipTip({'activation' : 'hover'});`

这将确保所有元素都被悬停功能激活，您不必担心委派事件处理程序。

# facebook-like - 多个项目的单个 facebook like 按钮

> ID：12363563
> 
> 赞同：0
> 
> 时间：2012-09-11T05:58:06.770
> 
> 标签：facebook-like

我有一个在线电子商务商店。我想要做的是，当用户在其购物车中使用多个产品结账时，他将看到一个类似 facebook 的按钮。如果他点击这个按钮，所有选择的产品都应该得到他的 Facebook 个人资料的喜欢。即单个按钮-> 多个喜欢

请告知如何执行此操作。

附言

我将 Drupal 6 与 Ubercart 一起使用。每个产品项目都有自己的页面，因此具有唯一的 URL。

# objective-c - 如何在 Cocoa 应用程序中将 NSView 添加到 NSWindow？

> ID：12363564
> 
> 赞同：19
> 
> 时间：2012-09-11T05:58:09.473
> 
> 标签：objective-c, macos, cocoa, nsview, nswindow

由于 Xcode 中 OS X 应用程序的模板似乎类似于一个空的应用程序模板，因此以下用于添加视图和按钮（暂时不使用 Interface builder）：

```
- (void)applicationDidFinishLaunching:(NSNotification *)aNotification
{       
    NSView *view = [[NSView alloc] initWithFrame:NSMakeRect(100, 100, 100, 100)];

    view.layer.backgroundColor = [[NSColor yellowColor] CGColor];

    [self.window.contentView addSubview:view];

    NSRect frame = NSMakeRect(10, 40, 90, 40);
    NSButton* pushButton = [[NSButton alloc] initWithFrame: frame]; 
    pushButton.bezelStyle = NSRoundedBezelStyle;

    [self.window.contentView addSubview:pushButton];

    NSLog(@"subviews are %@", [self.window.contentView subviews]);   
} 
```

iOS 上的类似代码应该会产生一个黄色框和一个按钮，但上面的代码只产生一个按钮，但视图不会显示。上面的代码有什么问题吗，如何让它以黄色背景显示视图？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-09-11T06:39:13.323

NSView 类的使用`setWantsLayer:`方法。

```
NSView *view = [[NSView alloc] initWithFrame:NSMakeRect(100, 100, 100, 100)];
[view setWantsLayer:YES];
view.layer.backgroundColor = [[NSColor yellowColor] CGColor];

[self.window.contentView addSubview:view];

NSRect frame = NSMakeRect(10, 40, 90, 40);
NSButton* pushButton = [[NSButton alloc] initWithFrame: frame]; 
pushButton.bezelStyle = NSRoundedBezelStyle;

[self.window.contentView addSubview:pushButton];

NSLog(@"subviews are %@", [self.window.contentView subviews]); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-21T11:59:35.157

为了扩展 Kevin Ballard 的建议，执行此操作的经典方法是子类`NSView`化并覆盖该`-drawRect:`方法。`NSRectFill`是一个非常方便的函数，无需创建贝塞尔路径即可填充矩形：

```
- (void)drawRect:(NSRect)rect
{
    [[NSColor yellowColor] set];
    NSRectFill(rect);
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-09-11T06:01:06.303

`NSView`默认情况下，Cocoa 中的 s 不是层支持的。我怀疑如果你输入

```
NSLog(@"%@", view.layer); 
```

你会看到它是`nil`。

在 iOS 中，所有视图都有层。但是在 OS X 上，视图没有层。此外，在 OS X 上还有 2 种 layer-backed view 的“模式”。有所谓的“layer-backed views”和“layer-hosting view”。layer-backed view 使用 CoreAnimation layer 来缓存绘制的数据，但是你不能以任何方式与 layer 交互。图层托管视图使用`CALayer`您明确提供的 a，您可以随心所欲地弄乱该图层。但是，使用图层托管视图，您*可能不会*添加任何子视图，或使用内置的`NSView`绘图机制。层托管视图只能用作 CoreAnimation 层层次结构的根。

鉴于这一切，您可能应该完全避免在视图中使用 CoreAnimation。

an 可能[`NSBox`](http://developer.apple.com/library/mac/#documentation/cocoa/reference/ApplicationKit/Classes/NSBox_Class/Reference/Reference.html)会做你想做的事。您当然可以在那里设置填充颜色，关闭边框并将样式设置为自定义。我只是不能 100% 确定它会画成一个简单的填充颜色矩形。或者，您可以定义自己的`NSView`子类，在`-drawRect:`.

# mysql - 如何在 ruby on rails 中直接从迁移文件中保存数据

> ID：12363567
> 
> 赞同：0
> 
> 时间：2012-09-11T05:58:17.977
> 
> 标签：mysql, ruby-on-rails, database, ruby-on-rails-3, migration

在我的 ROR 项目中，我遇到了一个问题。该项目的先前开发人员已将一组数据保存到特定字段的单个列中。但现在我必须获取这些数据并将其保存到另一个具有当前表 ID 的单独表中。以下是我从数据库获取详细信息的代码：

```
@ar = AResponse.select("id, selected_barriers");
    @ar.each do |p|
      p.selected_barriers.each do |barrier|

      end
    end 
```

我想要的是我必须将`p.id`and保存`barrier`到一个新表中，并且必须在迁移文件中进行。因此，当迁移运行时，它将从中获取所有现有详细信息`AResponse`并将其保存到新的详细信息中。我可以只使用迁移文件吗？如果是这样，我该怎么做？

这是我的完整代码

我试过但它不起作用：以下是我的代码

```
class AnalysisBarriers < ActiveRecord::Migration
  def self.up

  end

  def change
    create_table :analysis_barriers do |t|
      t.integer :analysis_response_id, :null => false
      t.string :barrier
    end
    @analysis_response = AnalysisResponse.select("id, selected_barriers");
    @analysis_response.each do |p|
      p.selected_barriers.each do |barrier|
        AnalysisBarriers.create(:analysis_response_id => p.id, :barrier => barrier)
      end
    end
  end
  def self.down
    drop_table :analysis_barriers
  end
end 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:19:59.313

是的，您可以在迁移后进行数据更改。无论您想做什么数据更改，您都可以在更改功能或向上功能中进行。举个例子

```
class Event < ActiveRecord::Migration
  def change
    create_table events do |t|
      t.datetime :starts_at
      t.datetime :ends_at
      t.timestamps
    end
    Event.create(:starts_at => Time.now, :ends_at => Time.now+1)
  end
end 
```

上面的语句将在创建表后将数据添加到您的表中。

# php - 使用模板有什么好处？

> ID：12363574
> 
> 赞同：1
> 
> 时间：2012-09-11T05:59:04.617
> 
> 标签：php, templates, smarty, laravel

我听说人们谈论使用模板将视图与逻辑分开的优点。但是如果有人在使用框架，那么视图和逻辑已经分离了。我想知道那些使用过模板的人，他们看到使用它的好处是什么，除了视图和逻辑分离，便于设计人员单独工作，漂亮的代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:24:31.027

您似乎自己回答了大部分问题，但我可以补充一点，Smarty 还有一个内置的缓存系统，可以将模板“编译”到 php 中以加快渲染速度。

# ruby - 拖放到控制台窗口

> ID：12363577
> 
> 赞同：0
> 
> 时间：2012-09-11T05:59:27.173
> 
> 标签：ruby, windows, drag-and-drop, console-application

有没有办法使用鼠标将对象拖到我的控制台应用程序上？
例如，来自浏览器的文件或图像。
Windows 7的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:20:16.883

想一想，你的意思是复制文件内容，而不是简单粘贴拖动的对象文件路径？

有[ConEmu](http://sourceforge.net/projects/conemu/)（我是它的作者）和[Far Manager](http://en.wikipedia.org/wiki/FAR_Manager)。此链接允许将文件从其他 GUI 窗口拖到远程管理器面板中，反之亦然。

Far 的简短介绍，您可以[在此处](http://code.google.com/p/conemu-maximus5/wiki/FarManager)阅读。

对于其他控制台程序，在 ConEmu 中运行 - 发生拖动路径的简单粘贴。

**UPD**

关于拖动到您自己的控制台应用程序。Far Manager有一个插件[拖放功能](http://far-drag-n-drop-plugin.googlecode.com/svn/trunk/dragndrop/)，可以在普通控制台中以某种方式工作。诀窍是在控制台和挂钩鼠标事件上创建不可见的窗口（我没有深入挖掘）。

至于拖动对象的 URL - 有 IDataObject::EnumFormatEtc 允许您枚举所有格式。例如，当我从 FireFox 拖动图像时，IDataObject 包含（另外）*.url 文件。您可以查看[ConEmu 源代码](http://conemu-maximus5.googlecode.com/svn/trunk/ConEmu/src/ConEmu/)作为示例。

但是，从 IExplore 拖动图像可能会有些棘手。由于 IExplore 区域限制，它在 ConEmu 中不起作用。不知道如何绕过这个:(

# opencv - 在opencv中实时计算手的距离？

> ID：12363578
> 
> 赞同：-3
> 
> 时间：2012-09-11T05:59:28.997
> 
> 标签：opencv, real-time, distance, gesture-recognition

我是openCV的新手。有没有办法在开放的简历中实时计算到手的距离。我的基本想法是跟踪手并识别手势。使用肤色识别真的很难做到这一点。所以我虽然计算到手的距离并隔离手部区域并进行手势识别。请在这件事上给予我帮助...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T10:06:49.683

以下是您可以使用的一些技术...

1.  如果您的背景静止并且只有手在移动，那么您可以使用帧微分来分割移动的手...I(x,y)diff = absoulute[ I(x,y,n) - I(x,y, n-1) ]....其中 I(x,y,n) 是当前帧的点 x,y 的强度...并且 I(x,y,n-1) 与前一帧相同框架..然后阈值 I(x,y)diff 得到唯一移动的手....

2.  使用 OpenCV 的 goodfeturestotrack 函数来识别一组易于跟踪的点，并使用 calcOpticalFlow 函数来查找该组点在每一帧中的位置...此方法与背景无关...goodfeaturestotrack 将识别一组手上和背景上的点....但是由于您的手与背景相比移动很大，因此在每一帧中，您将获得最初确定的一组点的不同位置，这些点有利于跟踪...所以与帧中的其他点相比，您手上和附近的点将具有最大位移...因此，根据 2 个连续帧之间点的位移幅度，可以分割出手...这个过程称为光流计算...

3.  一旦你分割出手，你就可以对分割区域进行多边形拟合。这样你就可以在手势和多边形的形状之间建立联系......

![例子...](../Images/1a8f52842ce56a9fe43b4639c4425f21.png)

# jquery - 可放置 div 上的 OnDrop 事件？

> ID：12363584
> 
> 赞同：0
> 
> 时间：2012-09-11T05:59:56.213
> 
> 标签：jquery, html

我正在尝试在我的自定义 CMS 上制作拖放导航创建者菜单。我想为此事件创建一个回调函数。

1.  div中有3个链接`#links`（只是`<li><a href="#">Link</a></li>`）
2.  有一个名为 div 的 div `#dropzone`。

我想要一个这样的回调函数：

```
$.("#dropzone").onDrop(function() { alert "Callback"; }); 
```

如何使用 HTML5（如果存在任何关于删除的新功能）和 jQuery 来做到这一点？一旦我得到回调，我可以自己做剩下的事情。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-09-02T15:17:10.913

我刚刚得到这个与我的项目一起工作。对我来说，关键是告诉浏览器`#dropzone`使用事件处理程序接受放置事件`dragover`：

```
$("#dropzone").on("dragenter", function () {
    $(this).addClass("drop-allowed");
});
$("#dropzone").on("dragleave", function () {
    $(this).removeClass("drop-allowed");
});
$("#dropzone").on("dragover", function (e) {
    e.stopPropagation();
    e.preventDefault();
    return true;
});
$("#dropzone").on("drop", function (e) {
    e.stopPropagation();
    e.preventDefault();
    // Handle drop event here.
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T06:35:07.273

您可以使用 jQuery UI 提供的可拖动功能。它有一个停止事件，当元素的拖动停止时触发。通过以下链接 [http://jqueryui.com/demos/draggable/][1] 了解更多详细信息。查看可用事件的事件标签。

# python - 如何查找具有特定名称的 XML 文件

> ID：12363585
> 
> 赞同：-1
> 
> 时间：2012-09-11T05:59:55.927
> 
> 标签：python, regex

我正在使用 Python 并尝试使用正则表达式从文件列表中获取 XML 文件，但直到现在我从未使用过正则表达式。

假设我有一个文件列表：

```
files = ['.bash_logout', '20120910NYP.xml', '.bash_profile', '.bashrc', '.mozilla', 'testfile_248.xml'] 
```

现在我需要获取格式文件，`20120910NYP.xml`所以我决定编写一个正则表达式：

```
import re
feedRegex = # ?
feedFiles = filter((lambda x: re.search(feedRegEx, x) != None), files) 
```

在上面的代码中，我将如何编写一个正则表达式`feedRegex`来从列表中查找该格式的 XML 文件？

编辑代码：

每次我需要这个函数时都需要给这个 `list of files`函数编码`feedregex`

```
import re

def paramikoFetchLatestFeedFile(list_of_files, feedRegEx):

    self.files = list_of_files
    self.feedRegEx = feedRegEx

    feedFiles = filter((lambda x: re.search(self.feedRegEx, x) != None), self.files) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:01:06.557

```
files = [...]
xml_files = [fn for fn in files if fn.endswith('.xml')] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T06:16:40.037

用于[`glob`](http://docs.python.org/library/glob.html)为您进行过滤。

假设你有这个目录：

```
burhan@sandbox:~/t$ ls -l
total 0
-rw-r--r-- 1 burhan burhan 0 Sep 11 09:17 20120101NYP.xml
-rw-r--r-- 1 burhan burhan 0 Sep 11 09:08 20120819ABC.xml
-rw-r--r-- 1 burhan burhan 0 Sep 11 09:09 ABC10234ABC.xml
-rw-r--r-- 1 burhan burhan 0 Sep 11 09:15 bar.txt
-rw-r--r-- 1 burhan burhan 0 Sep 11 09:15 blablah.gif
-rw-r--r-- 1 burhan burhan 0 Sep 11 09:15 foo.txt
-rw-r--r-- 1 burhan burhan 0 Sep 11 09:15 hello.jpg 
```

以下是您将如何过滤它：

```
>>> import glob
>>> glob.glob("[0-9]*NYP.xml")
['20120101NYP.xml'] 
```

针对您的具体要求：

```
>>> import re
>>> file_list = ['20121011NYP.xml','foo.bar','zoo.txt','ABC1234.xml','20120101ABC.XML']
>>> exp = re.compile('^\d{8}NYP\.xml$', re.I)
>>> filtered_list = [x for x in file_list if re.match(exp,x)]
>>> filtered_list
['20121011NYP.xml'] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:15:56.150

显然你想要类似的东西

```
regex = re.compile('^\d{8}.NYP.xml$') 
```

请阅读正则表达式文档。这是真正的正则表达式基础。

# java - Java 远程 MySQL 与 HTTPRequest

> ID：12363590
> 
> 赞同：2
> 
> 时间：2012-09-11T06:00:30.543
> 
> 标签：java, mysql, json, httpwebrequest

我有一个我最近用 Java 编写的程序，它做了一些事情。它主要依赖于使用connector/j从mysql数据库中获取数据。该数据库位于远程服务器（托管在荷兰）上。这会导致一些延迟问题。我最近开始意识到将 JSON 与 Java 结合使用的能力。

所以，我的问题：如果我有某种前端脚本，我发出 http 请求以返回 json，这是一种 API，这是否比在远程服务器上使用直接请求 mysql 更快？他们是这个的缺点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:31:53.360

从技术上讲，答案是“视情况而定”:)

我的一些想法在这里......

我可以说，根据我的经验，主要是出于安全原因，您的数据库向远程连接开放是非常罕见的情况。

另一方面，当进行“头对头”比较时，我希望 JSON 会更慢，因为这里有 http 开销 + JSON 本质上是数据表示的文本协议（与序列化二进制文件相比，读取效率不高）数据）。

此外，此解决方案将需要在数据库和您的 java 客户端代码之间使用某种 HTTP 服务器。您还应该注意数据传输的问题（进程间通信通常很慢），因此如果您将 http 服务器放置在远离 db 服务器的位置，则很可能需要花费大量时间来获取数据。

话虽如此，还有很多事情要提： - 当您使用 json/xml/序列化对象 (RMI)/ 时，您可以“预处理”您的数据 - 这真的很重要，因为有时一般来说，它比 SQL 更灵活。

*   数据缓存。有时您可以预先缓存数据，甚至不转向数据库。

*   弄清楚到数据库的流量实际上是怎样的。例如，当您在 Oracle 中使用普通 JDBC 时，有时它会向数据库发出额外的请求（您可以使用嗅探器查看它）并带来额外的数据块。它发生在著名的循环中：

    while( resultSet.next() ) { ///.... 做你的事 }

它通常发生在大的结果中。

*   也许您可以通过优化查询本身来大大改善总处理时间，但这是另一回事。

对我来说，在数据库和远程客户端之间维护一些东西通常是值得的，这听起来很对。

希望这可以帮助

# bash - 测试文件是否存在，bash脚本

> ID：12363594
> 
> 赞同：3
> 
> 时间：2012-09-11T06:00:46.253
> 
> 标签：bash, shell

> **可能重复：**
> [检查目录是否包含文件](https://stackoverflow.com/questions/91368/checking-if-a-directory-contains-files)

我想查看一个目录是否为空，所以我使用`[`如下：

```
[ -f "./ini/*"] 
```

并且返回值始终为 1，即使目录不为空。有什么想法有什么问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T13:15:31.077

试试这个：

```
$ echo "*"   #With quotes 
```

对比

```
$ echo *    #No quotes 
```

看到不同？当您在字符串周围加上引号时，shell 无法将*星*号替换为匹配的文件。

有很多方法可以得到你想要的。最简单的就是使用`ls`没有 test 命令的命令。该`if`语句采用您给它的***命令的输出结果。***`[...]`只是命令的别名`test`。这两个语句是等价的：

```
$ if test -f foo.txt

$ if [ -f foo.txt ] 
```

基本上，测试命令所做的所有事情都是`0`如果测试为真则返回 a 或如果测试为假则返回非零。如果给出的命令返回退出代码，则该`if`命令所做的只是执行该语句。我经历这一切的原因是说让我们忘记测试并简单地使用命令。`if``0``ls`

假设您有一个文件`foo.txt`，但没有文件`bar.txt`。尝试以下操作：

```
$ ls foo.txt > /dev/null 2>&1
$ echo $?
0
$ ls bar.txt > /dev/null 2>&1
$ echo $?
2 
```

`> /dev/null 2>&1`用于禁止所有输出。请注意，`ls`文件存在时命令的退出代码是，而文件不存在时命令`0`的退出代码不是。（在这种情况下）。现在，让我们使用它来代替 test 命令：`ls``0``2`

```
if ls ./ini/* > /dev/null 2>&1
then
    echo "There are files in that directory!"
else
    echo "There are no files in that directory"
fi 
```

请注意，我什至不关心 test 命令（可以是 word`test`或`[..]`）。

希望这对你有意义。人们有时很难意识到在 BASH shell 中，`if`命令和命令`[...]`是两个独立的命令，`if`所做的只是运行它给出的命令，然后根据它运行的命令的退出代码执行操作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-11T09:23:58.407

当心以'.'开头的文件名，正常的通配符或使用`ls`（*颤抖*）不会检测到这些有几种方法可以做到这一点，我能想到的最简单的是：

```
/home/user1> mkdir ini
/home/user1> cd ini
/home/user1/ini> touch .fred jim tom dick harry
/home/user1/ini> cd ..
/home/user1> declare -a names
/home/user1> names=(./ini/* ./ini/.*)
/home/user1> number_of_files=$(( ${#names[@]} -2 ))
/home/user1> echo $number_of_files
5 
```

`-2`需要从列表 中删除`.`和。`..`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T12:44:09.267

```
if find ./ini/ -maxdepth 0 -empty | read;
then
echo "Not Empty"
else
echo "Empty"
fi 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-11T14:29:51.310

如果以下命令的输出是`0`目录中没有文件（目录为空），则它有文件！

```
$find "/path/to/check" -type f -exec echo {} \;|wc -l 
```

所以对你来说——

```
exist=`find "./ini" -type f -exec echo {} \;|wc -l`
if [ $exist -gt 0 ]
then
   echo "Directory has files"
else
   echo "Directory is empty"
fi 
```

或者

```
if [ `find "./ini" -type f -exec echo {} \;|wc -l` -gt 0 ]
then
   echo "Directory has files"
else
   echo "Directory is empty"
fi 
```

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-09-11T06:06:18.653

这对我有用

```
[ "$(ls -A /path/to/directory)" ] 
```

在你的情况下，它会是

```
[ "$(ls -A ./ini/)" ] 
```

你可以使用它来测试它

```
[ "$(ls -A /tmp)" ] && echo "Not Empty" || echo "Empty" 
```

# c++ - 如何使用 Qt 确定我的互联网 IP 是否属于给定的 IP 列表

> ID：12363596
> 
> 赞同：5
> 
> 时间：2012-09-11T06:00:58.520
> 
> 标签：c++, qt, ip, cidr

我在 TXT 文件中存储了以下 IP 列表（CIDR 格式）：<

```
58.200.0.0/13
202.115.0.0/16
121.48.0.0/15
219.224.128.0/18
... 
```

但是我不知道如何确定我的IP是否属于这个列表。我在 Windows 平台上使用 Qt C++ 框架。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-11T06:15:20.080

First you need to break up each CIDR notation range into a network (the dotted IP address) part, and a number of bits. Use this number of bits to generate the mask. Then, you only need to test if `(range & mask) == (your_ip & mask)`, just as your operating system does:

Some psuedo-C code:

```
my_ip = inet_addr( my_ip_str )            // Convert your IP string to uint32
range = inet_addr( CIDR.split('/')[0] )   // Convert IP part of CIDR to uint32

num_bits = atoi( CIDR.split('/')[1] )     // Convert bits part of CIDR to int
mask = (1 << num_bits) - 1                // Calc mask

if (my_ip & mask) == (range & mask)
    // in range. 
```

You can probably find a library to help you with this. Boost appears to have an [IP4 class](http://www.boost.org/doc/libs/1_43_0/doc/html/boost_asio/reference/ip__address_v4.html) which has `<` and `>` operators. But you'll still need to do work with the CIDR notation.

Ref:

*   [IP falls in CIDR range](https://stackoverflow.com/questions/7559803/ip-falls-in-cidr-range)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-11T19:24:15.940

浏览 Qt 文档时，我遇到了 QHostAddress::parseSubnet(const QString & subnet)，它可以采用 CIDR 样式的 IP 范围，并且是 Qt 4.5 中的新功能。因此我可以编写以下代码来解决它：（假设 myIP 的类型为 QHostAddress）

```
if(myIP.isInSubnet(QHostAddress::parseSubnet("219.224.128.0/18")) {
    //then the IP belongs to the CIDR IP range 219.224.128.0/18
} 
```

至于更好地理解和洞察问题，@Jonathon Reinhart 的回答真的很有帮助。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-09-11T19:23:35.517

前面的答案已经涵盖了从文本到 IP 地址类的转换。您可以使用[QHostAddress::isInSubnet()](http://doc-snapshot.qt-project.org/4.8/qhostaddress.html#isInSubnet-2)检查范围。当您的 IP 地址在提供的地址和掩码范围内时，这将返回 true。

例如，这是一个检查 IP 地址是否为[zeroconfig](http://upe.acm.jhu.edu/websites/Andrew_Pile/)（169.254.1.0 到 169.254.254.255）的示例：

```
bool IsZeroconfig(const QHostAddress &ipAddress)
{
    QPair<QHostAddress, int> rangeZeroconfig = QHostAddress::parseSubnet("169.254.0.0/16");

    if (ipAddress.isInSubnet(rangeZeroconfig))
    {
        QPair<QHostAddress, int> preZeroconfig = QHostAddress::parseSubnet("169.254.1.0/24");
        QPair<QHostAddress, int> postZeroconfig = QHostAddress::parseSubnet("169.254.255.0/24");

        if ((!ipAddress.isInSubnet(preZeroconfig)) && (!ipAddress.isInSubnet(postZeroconfig)))
        {
            return true;
        }
    }

    return false;
} 
```

# ruby-on-rails - 保护 RoR 上的敏感数据（信用卡）

> ID：12363606
> 
> 赞同：5
> 
> 时间：2012-09-11T06:01:40.783
> 
> 标签：ruby-on-rails, ruby, encryption, security

在我的 RoR 应用程序中存储客户的信用卡和账单信息的最佳做法是什么？

实际上我正在使用 ruby​​ 1.9.2、Rails 3.2.3 并且我正在考虑在 Heroku 中部署我的应用程序。

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-11T06:29:37.993

最佳做法是永远不要在您的应用程序中存储用户的信用卡和账单信息。此信息将由您为应用程序选择的支付处理器存储。支付处理器或支付网关可以是[Autorize.net](http://www.authorize.net/)、[PayFlow Pro](https://www.paypal.com/cgi-bin/webscr?cmd=_payflow-pro-overview-outside)、[Stripe](http://stripe.com/)等。阅读[本文](https://stackoverflow.com/questions/51094/payment-processors-what-do-i-need-to-know-if-i-want-to-accept-credit-cards-on)以了解有关您网站上的付款集成的所有信息。

# android - Android：父组中带有按钮的可扩展列表

> ID：12363611
> 
> 赞同：3
> 
> 时间：2012-09-11T06:02:05.680
> 
> 标签：android, button, customization, expandablelistview, expandablelistadapter

我正在尝试制作一个可扩展的列表视图，其中父组上有一个按钮，按下该按钮时将允许用户将项目添加到子组。但是我在添加按钮时遇到问题，父下拉子列表功能停止工作。（理想情况下，单击按钮会添加一个元素，单击其他任何地方会导致菜单下拉）我复制了一个可扩展的列表模板并在尝试其他任何操作之前让它工作。

```
<!--?xml version="1.0" encoding="utf-8"?-->
<LinearLayout android:id="@+id/groupname" 
xmlns:android="http://schemas.android.com/apk/res/android" 
android:layout_width="fill_parent" 
android:layout_height="40dip">
     <TextView android:id="@+id/tvGroupName" 
        android:layout_width="225dp" 
        android:layout_height="40dip" 
        android:textSize="16sp" 
        android:textStyle="bold" 
        android:paddingLeft="30dip" 
        android:gravity="center_vertical">
     </TextView>

     <Button
     android:id="@+id/addPhrase"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:text="+" />

</LinearLayout> 
```

这就是父组的 xml（我全部更改）。

设置展开器和折叠器的 onCreate 方法。（组和儿童已预先填充）

```
@Override
public void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    Drawable d = getResources().getDrawable(R.drawable.group_indicator);

    expList = getExpandableListView();
    metrics = new DisplayMetrics();
    getWindowManager().getDefaultDisplay().getMetrics(metrics);
    width = metrics.widthPixels;
    //this code for adjusting the group indicator into right side of the view
    expList.setIndicatorBounds(width - GetDipsFromPixel(50), width -   GetDipsFromPixel(10));
    expList.setGroupIndicator(d);
    expList.setAdapter(new ExpAdapter(this));

expList.setOnGroupExpandListener(new OnGroupExpandListener()
{
@Override
public void onGroupExpand(int groupPosition) 
{
 Log.e("onGroupExpand", "OK");
}
});

expList.setOnGroupCollapseListener(new OnGroupCollapseListener()
{
@Override
public void onGroupCollapse(int groupPosition) 
{
 Log.e("onGroupCollapse", "OK");
}
});

expList.setOnChildClickListener(new OnChildClickListener()
{
@Override
public boolean onChildClick(ExpandableListView parent, View v,
  int groupPosition, int childPosition, long id) {
 Log.e("OnChildClickListener", "OK");
 return false;
}
});
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-05-15T21:49:18.487

我遇到了同样的问题，当我按下按钮时它终于起作用了（在你的情况下，addPhrase，因为不可聚焦。

这是我在 ExpandableListAdapter 的 getGroupView 中的代码：

```
@Override
public View getGroupView(int groupPosition, boolean isExpanded,
                         View convertView, final ViewGroup parent) {

    String headerTitle = (String) getGroup(groupPosition);
    if (convertView == null) {
        LayoutInflater infalInflater = (LayoutInflater) this._context
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        convertView = infalInflater.inflate(R.layout.list_pathologies_header, null);
    }

    TextView lblListHeader = (TextView) convertView
            .findViewById(R.id.lblListPathologiesHeader);
    lblListHeader.setTypeface(null, Typeface.BOLD);
    lblListHeader.setText(headerTitle);
    lblListHeader.setCompoundDrawablePadding(30);
    lblListHeader.setPadding(20, 0, 0, 0);
    lblListHeader.setCompoundDrawablesWithIntrinsicBounds(isExpanded ? R.drawable.up50 : R.drawable.down50, 0, 0, 0);

    FloatingActionButton fabDrug = (FloatingActionButton) convertView.findViewById(R.id.fab_drug);
    fabDrug.setFocusable(false);
    if (isExpanded) {
        fabDrug.setVisibility(View.VISIBLE);
        fabDrug.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                NewDrugDialogFragment newFragment = NewDrugDialogFragment.newInstance(_patientId);
                newFragment.show(((Activity) _context).getFragmentManager(), "Title");
            }
        });
    } else {
        fabDrug.setVisibility(View.GONE);
    }

    return convertView;
} 
```

它工作正常，现在组崩溃和扩展应该。

# android - 如何在android应用程序中同时播放视频和音频

> ID：12363612
> 
> 赞同：0
> 
> 时间：2012-09-11T06:02:20.390
> 
> 标签：android, audio, video-processing

我是安卓新手。我想在 android 应用程序中一起播放音频和视频。

更具体地说，在我的 android 应用程序中，我想播放带有其他音频的视频（无音频）。有谁知道如何做到这一点？使用哪个 android 类和方法来创建这个应用程序？我在 stackoverflow.com 中找到了很多与 ios 相关的帖子，但没有找到与 android 相关的帖子

感谢并期待您的回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:05:48.553

您要查找的类是[MediaPlayer](http://developer.android.com/reference/android/media/MediaPlayer.html)类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:19:25.950

您必须同时使用 VideoView 和 MediaController 类来播放视频和音频。例如导入android.widget.VideoView；导入 android.widget.MediaController；

# html - 单击超链接，应用程序需要在 Xcode 中移动到另一个视图

> ID：12363613
> 
> 赞同：-2
> 
> 时间：2012-09-11T06:02:24.917
> 
> 标签：html, xcode

我在 Web 视图中显示 HTML 文件。当用户单击超链接时，我想在同一个应用程序中移动另一个视图。我该怎么做？

" href = "新视图控制器""

“新视图控制器”的 URL 是什么？

怎么找？？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T09:49:23.263

这很简单。如果您正在创建 html，那么您应该知道链接是什么样的。如果是这样，在加载 webview 之前检查链接是一件简单的事情。您应该将 webview 的委托设置为 self ，然后执行以下操作：

```
-(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType
{
NSString *urlString = [NSString stringWithFormat:@"%@", request.URL];
if([urlString isEqualToString:@"http://www.myCustomHyperLink"])
{
 [self.navigationController pushViewController:myNextViewController];
 return NO;
}
return YES;
} 
```

在上面的例子中，如果 url 是你需要打开下一个视图的 url，导航控制器会推送下一个视图控制器并返回 NO，这样 webview 就不会被重新加载。否则 webview 会重新加载页面。

您可以将 if 语句更改为适合您需要的任何内容。

我在这样的应用程序中使用它：

我在一个视图中有多个链接。所以，如果链接是我自己的，我会在第二个视图控制器中打开它。否则，我会打开 Safari。这是因为我不想将我的应用程序变成浏览器。所以我有类似的东西：

```
if([urlString rangeOfString:@"www.myDomain.com"].location == NSNotFound)
{
 [[UIApplication sharedApplication] openURL:request.Url];
}
else 
...push the next view controller how I showed you above. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T08:08:55.197

没有用于视图控制器的地址，但您可以添加事件来捕获锚点的点击。

这是一个例子：

在 HTML 文件中：

```
<a href="#HELLO">Hello World</a> 
```

在您的 .m 文件（xCode）中：

```
- (BOOL)webView:(UIWebView*)webView shouldStartLoadWithRequest:(NSURLRequest*)request   navigationType:(UIWebViewNavigationType)navigationType{

NSURL * URL = [request URL];

if ([URL rangeOfString:@"#HELLO"].location != NSNotFound) {
// Do whatever you want here.
}

return YES;
} 
```

每次更改 webview 的位置时，shouldStartLoadWithRequest 都会激活，当您单击锚点时，位置将为例如：file.html#HELLO

# php - 自动完成以及拼写检查和复数检查文本字段

> ID：12363615
> 
> 赞同：4
> 
> 时间：2012-09-11T06:02:33.040
> 
> 标签：php, javascript, ajax, drupal-6, jquery-autocomplete

您好我正在为我的自定义文本字段之一使用 Drupal 的 6 个默认 jQuery 自动完成功能。

现在我想添加**拼写检查**以及**复数检查**。

**例如**

```
Word: Potatos

Spellchecker suggestions (including plural check): Potato, Potatoes 
```

有什么方法可以实现此功能，以便当用户键入**Potatos**时。首先，拼写检查脚本会运行，它会建议正确的替代方案，一旦用户选择了正确的单词，自动完成脚本就会运行吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-13T14:37:14.000

我认为解决方案应该是由ajax调用的服务器端。

**选项 1 - soundex mysql**

简单快捷

如果您使用 mysql 并且您的数据语言是英语 SOUNDEX 可能是您的选择。

[http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_soundex](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_soundex)

例子：

```
mysql> select SOUNDEX('potato'), SOUNDEX('potatos'), SOUNDEX('potatoes');
+-------------------+--------------------+---------------------+
| SOUNDEX('potato') | SOUNDEX('potatos') | SOUNDEX('potatoes') |
+-------------------+--------------------+---------------------+
| P300              | P320               | P320                |
+-------------------+--------------------+---------------------+ 
```

现在，在您的数据库中搜索基于 soundex 算法的相同或具有微小差异的单词。

**选项 2 - 狮身人面像搜索**

它更难安装、配置和学习，但支持多种语言、词干算法、高级查询（布尔模式等）、改进的性能......

如果您想要更高级的系统，支持词干提取的全文搜索引擎将对您有很大帮助。看看[http://sphinxsearch.com/docs/current.html#conf-morphology](http://sphinxsearch.com/docs/current.html#conf-morphology)。

使用词干，当你搜索土豆时，土豆和土豆搜索引擎配置了 morpohology=en 将返回相同的结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:57:07.033

您需要做的是首先安装用于执行拼写检查的服务器端解决方案，例如，您可以使用[PSpell](http://php.net/manual/en/book.pspell.php)。如果您无法安装 PSpell，您可以使用 Googlespell（请务必查看使用条款）还有一些可用的客户端实现（尽管不如服务器端解决方案可靠）。

有很多插件可以帮助您进行拼写检查，但对于您的任务 Id，请选择更轻量级的东西，例如[jQuery 拼写检查器](https://github.com/badsyntax/jquery-spellchecker/wiki/Documentation)。

使用所需的选项启动您的拼写检查器，并为您的文本字段创建一个事件侦听器，一个简单的示例是：

```
var spellchecker = new $.SpellChecker('textarea', {
    lang: 'en',
    parser: 'text',
    webservice: {
       path: '../../webservices/php/SpellChecker.php',
       driver: 'pspell'
    },
    suggestBox: {
       position: 'above'
    }
});

$('textarea').keyup(function() {
        //you would probably want to add a timer looking to see if user is finished typing
        spellchecker.check();
    }); 
```

然后你会想要为 Spellchecker 事件添加一个监听器`replace.word`：

```
spellchecker.on('replace.word', function() {
      //ie: submit the form
   }); 
```

如果你想做一些更高级的事情，你也可以尝试覆盖 Drupals 内置的自动完成`Drupal.jsAC`事件`.keyup()`并查看该事件`check.success`是否被触发（没有拼写错误的单词）。如果没有拼写错误的单词，则对 onkeyup 事件使用 drupal 自动完成实现。如果有拼写错误的单词，则对这些事件无能为力。

```
var misspelledWord = false;
spellchecker.on('check.success', function() { misspelledWord = false; });
spellchecker.on('check.fail', function() { misspelledWord = true; });

jQuery(document).ready(function(){
    Drupal.jsAC.prototype.onkeyup = function (input, e) {
      if(misspelledWord) {
          if (!e) {
          e = window.event;
        }
        switch (e.keyCode) {
          case 16: // shift
          case 17: // ctrl
          case 18: // alt
          case 20: // caps lock
          case 33: // page up
          case 34: // page down
          case 35: // end
          case 36: // home
          case 37: // left arrow
          case 38: // up arrow
          case 39: // right arrow
          case 40: // down arrow
            return true;

          case 9:  // tab
          case 13: // enter
          case 27: // esc
            this.hidePopup(e.keyCode);
            return true;

          default: // all other keys
            if (input.value.length > 0)
              this.populatePopup();
            else
              this.hidePopup(e.keyCode);
            return true;
        }
      }
    };
}); 
```

然而，通过在拼写检查器 replace.word 事件中使用 jQuery 的 AJAX 功能来实现您自己的自动完成对我来说更有意义 - 您也可以使用/自定义其中一个 jQuery 自动完成插件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-24T19:40:55.843

我使用 Levenshein 距离算法为 jQuery UI 默认自动完成添加了拼写检查功能。查看github上的代码：

[https://github.com/martintaleski/spellcheckAutocomplete](https://github.com/martintaleski/spellcheckAutocomplete)

它被包装成一个 jquery 插件。您需要做的就是：

```
$('.your-selector').spellcheckAutocomplete(); 
```

# google-maps - 确定谷歌地图

> ID：12363619
> 
> 赞同：0
> 
> 时间：2012-09-11T06:02:57.090
> 
> 标签：google-maps

我对谷歌地图有疑问。已经实现了谷歌地图 API。无论如何要找出它是免费的谷歌地图 API 还是用于商业用途的谷歌地图 API。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:09:51.447

google map api 不是完全免费的 使用这个有最大限制 检查这个页面[比较 Google Maps API for Business 和 Google Maps API 标准版](http://www.google.com/enterprise/earthmaps/maps-compare.html)

# batch-file - 如何更改目录然后运行命令批处理文件？

> ID：12363620
> 
> 赞同：6
> 
> 时间：2012-09-11T06:02:59.450
> 
> 标签：batch-file

您将如何更改批处理文件中的目录，然后在新目录中运行命令？我有批处理文件来更改目录，但不会运行命令。它不是一个exe，它是一个带有-options的文件。所以基本上我需要更改目录，然后运行一个保存在字符串中的命令。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-09-11T08:53:32.927

尝试使用

```
pushd yourdir
filetorun -options 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-11T06:35:20.373

我在下面给出了一个示例代码来更改目录并在此之后运行命令。

```
cd C:\    #Will change the directory to C:
ipconfig  #Will return IP address details(any command can be used here)
pause     #Will prevent command prompt from closing and waits for a keypress 
```

将此保存为批处理文件**filename.bat**，您将获得所需的输出。但请确保输入的命令正确。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T06:19:33.123

`"cd"`代表`"ChangeDirectory"`。使用`"cd"`命令，您可以更改目录。

另见：[http](http://en.wikipedia.org/wiki/Cd_(command) ://en.wikipedia.org/wiki/Cd_(command )

干杯

# javascript - 目的 ＃ 没有“完成”的方法

> ID：12363625
> 
> 赞同：5
> 
> 时间：2012-09-11T06:03:30.623
> 
> 标签：javascript, jquery, ajax

我试图实现简单的 ajax GET 请求。在回调部分我想调用一些函数。代码如下

```
$.ajax({
          url: "<?php echo SITE_URL?>ajax_pages/ajx_getcard.php?id="+obj.value,
          context: document.body
        }).done(function() { 
          $(this).addClass("done");
        }); 
```

但它显示异常

未捕获的类型错误：对象 # 没有方法“完成”replace_entry.php:105 getCardno replace_entry.php:105 onblur replace_entry.php:118

我正在使用谷歌浏览器

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-11T06:07:31.437

您可能正在使用旧版本的 jQuery - 新版本返回一个[jqXHR](http://api.jquery.com/jQuery.ajax/#jqXHR)对象，它确实有`done`.
您可以通过查看源代码或`$().jquery`在控制台中输入来快速检查您的版本。

如果不能升级，降级的代码应该是：

```
$.ajax({
      url: "...",
      context: document.body,
      complete: function() { 
           $(this).addClass("done");
      }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:09:08.997

用成功替换完成..??

```
$.ajax({
      url: "<?php echo SITE_URL?>ajax_pages/ajx_getcard.php?id="+obj.value,
      context: document.body
    }).success(function() { 
      $(this).addClass("done");
    }); 
```

# delphi - 查找 psql 命令是否对用户进行身份验证失败

> ID：12363628
> 
> 赞同：2
> 
> 时间：2012-09-11T06:03:40.940
> 
> 标签：delphi, postgresql, psql

使用`Delphi` 如何找出psql脚本已经返回

```
 password authentication has failed for user "myadmin" 
```

运行以下脚本时（psqlRun.bat）

```
 "C:\Program Files\PostgreSQL\9.0\bin\psql.exe"  -h localhost -p 5433 -d TestDB -U myadmin -f someSQLscript.sql 
```

上面的脚本是使用 shellexecute 运行的

```
 ReturnedValue:= ShellExecute(Handle,'open',PChar('C:\psqlRun.bat'), nil, nil, SW_SHOWNORMAL); 
```

返回的值超过 32（[所以它运行成功](http://www.oehive.org/node/528)）但对我来说密码验证失败.. 有没有办法通过 delphi 找到如果密码失败，脚本是否失败？由于`pgpass.conf`可能尚未创建，因此我无法检查文件中的用户密码。用户可能不知道密码或输入了错误的密码。

**那么以编程方式如何检查身份验证是否失败？**

注意：Postgresql 9.0

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T06:27:14.510

> 返回值超过 32（所以运行成功）

不，不是这个意思。[http://msdn.microsoft.com/en-us/library/windows/desktop/bb762153.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb762153.aspx) 这仅意味着它已成功启动。如果完整运行成功与否，MSDN 提示无法知道使用 ShellExecute/ShellExecuteEx。

您应该使用 CreateProcess 来获取正在运行的任务句柄，然后使用 WaitFor 来获取结果或拦截它的输出以查找特定的行。

您可以尝试 Jedi Code Library，其中 JclSysUtils 单元具有 Execute 功能和 TJclCommandLineTool 类来封装它。使用示例是 JCL 安装程序，它调用许多命令行实用程序，如 DCC32.EXE，捕获并将其输出保存到日志并检查返回码。

PS。而且你最好不要使用bat文件。制作命令行并直接运行。现在你把它变成一棵树。

```
 YourProg.exe
 \\-> CMD.EXE /C BAT-FILE-NAME
      \\->pgSQL exe with options 
```

即使 pgSQL.exe 返回一些东西，它也不会返回到您的程序，而是返回到 CMD.exe
之后 CMD.exe 将该代码公开到其内部变量 %ERRORLEVEL%
现在您必须了解它是否可以将该变量传递给您的外部程序。

为什么 ？每个下一个间接级别都会使您的程序更加孤立和脆弱。不用脚本直接调用PG EXE即可。否则你也应该为 CMD.EXE 编程——你真的需要它吗？

# sphinx - 狮身人面像搜索结果给出 0 个匹配项

> ID：12363630
> 
> 赞同：0
> 
> 时间：2012-09-11T06:04:01.927
> 
> 标签：sphinx, java

我总共有 720 个狮身人面像索引，大小为 1.21 GB。这里附有一项服务的所有索引。它需要 800MB 的 RAM。我使用 sql_attr_str2ordinal 来存储字符串，所以 RAM 减少了，现在只需要 17MB。但这里的问题是搜索结果给出 0 个匹配项。使用 sphinx 索引中的 java api 应用搜索。conf文件和java代码如下：

```
searchd{    
 listen         = 516   
 log                =    D:\programs\spinx\spinxexperiment\project\log\searchd.log
query_log       = D:\programs\spinx\spinxexperiment\project\log\query.log
read_timeout    = 5
max_children    = 30
pid_file        = D:\programs\spinx\spinxexperiment\project\log\searchd.pid
max_matches     = 1000
seamless_rotate = 0
preopen_indexes = 0
unlink_old      = 1
ondisk_dict_default = 1
mva_updates_pool   = 1M
workers         = threads # for RT to work}

source webusagedatagroup20120301{
type            = pgsql
    sql_host        = 127.0.0.1
    sql_user        = postgres
sql_pass        = 
sql_db          = iviewdb
sql_port        = 5432
sql_query       = SELECT id,username as username_ord,domain as  domain_ord,application,hits,bytes from webusagedata1        
sql_attr_str2ordinal    = username_ord
sql_attr_str2ordinal    = domain_ord
sql_attr_str2ordinal    = application
sql_attr_bigint     = hits
sql_attr_bigint     = bytes}

  index webusagedatagroup20120301{
source  = webusagedatagroup20120301
path    = D:\programs\spinx\spinxexperiment\project\data\20120301\group\webusagedatagroup20120301
preopen         = 0
docinfo         = inline
ondisk_dict     = 1
charset_type        = sbcs
rt_field        = username
rt_field        = domain
rt_field        = application
rt_attr_bigint      = hits
rt_attr_bigint      = bytes} 
```

**代码：**

```
client = new SphinxClient("127.0.0.1",516);         
client.SetMatchMode(SphinxClient.SPH_MATCH_PHRASE);
query=prepareQuery();
client.SetLimits(0, 20);            
client.SetMaxQueryTime(0);
client.SetConnectTimeout(60000);
client.SetSelect("*, SUM(bytes) as bytes_total");           
client.SetGroupBy("application", SphinxClient.SPH_GROUPBY_ATTR,"username asc");
SphinxResult res = client.Query("divyesh.modi", "webusagedatagroup20120130"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T14:11:40.370

正如在狮身人面像论坛上所讨论的那样。索引需要一个字段才能工作。您的索引没有字段，因此无效。

由于您似乎希望能够按用户名进行搜索，因此需要将用户名同时设为字段和序数属性（这样您就可以进行分组而不必使用字符串属性）

您需要在 sql_query 中记录两次列，一次用于字段，一次用于属性。

# google-api - 如何在 Google Plus 中获取帖子的评论？

> ID：12363634
> 
> 赞同：2
> 
> 时间：2012-09-11T06:04:39.580
> 
> 标签：google-api, oauth-2.0, google-plus, google-api-java-client

如何获取 Google+ 上帖子的评论？

我已经得到了帖子的内容和回复的数量。

```
public class Sample {

  private static Plus unauthenticatedPlus;

  public static void main(String[] args) throws IOException {

    try {
      setupTransport();

      getActivity();
    } catch (HttpResponseException e) {
      /* ... */
    }
  }

  /**
   * Setup the transport for our API calls.
   * @throws java.io.IOException when the transport cannot be created
   */
   private static void setupTransport() throws IOException {
       // Here's an example of an unauthenticated Plus object. In cases where you
       // do not need to use the /me/ path segment to discover the current user's
       // ID, you can skip the OAuth flow with this code.
       unauthenticatedPlus = Plus.builder(Util.TRANSPORT, Util.JSON_FACTORY)
           // When we do not specify access tokens, we must specify our API key instead
           // We do this using a JsonHttpRequestInitializer
           .setJsonHttpRequestInitializer(new JsonHttpRequestInitializer() {
               @Override
               public void initialize(JsonHttpRequest jsonHttpRequest) throws IOException {
                 PlusRequest plusRequest = (PlusRequest) jsonHttpRequest;
                 plusRequest.setKey(Auth.GOOGLE_API_KEY);
               }
       }).build();

      /* Authorization part stripped, as this is not needed in this sample */
      /* ... */
  }

  /**
   * Get the most recent activity for the authenticated user.
   *
   * @throws IOException if unable to call API
   */
  private static void getActivity() throws IOException {
    // A known public activity ID
    String activityId = "z12gtjhq3qn2xxl2o224exwiqruvtda0i";

    /* Get an explicit public activity by ID */
    // We do not need to be authenticated to fetch this activity
    try {
      Activity activity = unauthenticatedPlus.activities().get(activityId).execute();
      show(activity);
    } catch (HttpResponseException e) {
      /* ... */
    }
  }

  /**
   * Print the specified activity on the command line.
   *
   * @param activity the activity to show
   */
  private static void show(Activity activity) {
    System.out.println("id: " + activity.getId());
    System.out.println("url: " + activity.getUrl());
    System.out.println("content: " + activity.getPlusObject().getContent());
    System.out.println("No of replies: " + activity.getPlusObject().getReplies().getTotalItems());
  }
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T06:38:22.070

获取活动评论需要向 Google+ API发出[额外请求。](https://developers.google.com/+/api/latest/comments/list)

创建一个新[`PlusRequest`实例](http://javadoc.google-api-java-client.googlecode.com/hg/apis/plus/v1/index.html)：

```
Plus.Comments.List listComments = plus.comments().list(activityId); 
```

执行请求并将其解析为[`CommentFeed`](http://javadoc.google-api-java-client.googlecode.com/hg/apis/plus/v1/index.html)：

```
CommentFeed commentFeed = listComments.execute(); 
```

获取[`Comment`](http://javadoc.google-api-java-client.googlecode.com/hg/apis/plus/v1/index.html)实例列表：

```
List<Comment> comments = commentFeed.getItems(); 
```

# iis - 在我的 Tridion 2011 应用程序中获取“netrtsn”的 BadImageFormatException 异常

> ID：12363635
> 
> 赞同：1
> 
> 时间：2012-09-11T06:04:47.780
> 
> 标签：iis, tridion, tridion-2011

当我们尝试创建 Component Link 对象时，以下行代码给出异常：

**三重应用代码：**

```
string strUrl = String.Empty;
ComponentLink comp = new ComponentLink(strUrl); 
```

**例外：**

```
System.BadImageFormatException was caught
  Message="An attempt was made to load a program with an incorrect format. (Exception from HRESULT: 0x8007000B)"
  Source="netrtsn"
  StackTrace:
       at Codemesh.JuggerNET.NativeInterface.GetJvmLoader(Int32 ctorVersion, String configFile, String vers, String conf, String reserved, Boolean bEnvOverrides, Boolean bDefaultJvm, Int32 traceFacility, Int32 traceLevel, Int32& error)
       at Codemesh.JuggerNET.JvmLoader.GetJvmLoader(Boolean bEnvOverrides, Boolean bDefaultJvm, TraceFacility fac, TraceLevel level)
       at Codemesh.JuggerNET.JvmLoader.GetJvmLoader()
       at Codemesh.JuggerNET.NativeInterface.ToJavaStringPinning(String str, Int32 length, IntPtr& result)
       at Codemesh.JuggerNET.NativeInterface.ToJavaString(String str)
       at Codemesh.JuggerNET.JavaMethodArguments.Add_string(String str)
       at Codemesh.JuggerNET.JavaMethodArguments.Add(Object obj, Type type)
       at Codemesh.JuggerNET.JavaMethodArguments.Add(Object obj)
       at Com.Tridion.Linking.ComponentLink..ctor(String publicationURI)
       at Tridion.ContentDelivery.Web.Linking.ComponentLink..ctor(String publicationUri)
       at ResxBind.ResolveLink(String strTcmUri) in F:\Share\Rajeev\Tridion2011\IntegrationLayer\Com.Emirates.Pss.Ibe.UILib\CommonAPI.cs:line 2077 
```

根据例外情况，这将与旧 DLL 有关，但是我已经删除了最新的 Tridion 2011 Dll 的所有引用。

求指教，太丢人了！！

谢谢。

最好的祝福，

多发性硬化症

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-11T11:26:05.930

我认为 netrtsn 是使用 AnyCpu 编译的，但它确实依赖于 xmogrt.dll，其中有 32 位或 64 位的特定 DLL

这些可在您的 Tridion 安装介质上的 /Content Delivery/roles/dotNet 下找到

还请检查以下所有内容是 32 位还是 64 位：

*   您的应用程序池（在 32 位的情况下是启用的）
*   您安装的 Java 版本
*   您自己提供的任何 Dll

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-11T06:58:27.253

大多数情况下，这是由 32 - 64 位版本冲突引起的。如果您在 Visual Studio 中运行，请使用所有 dll 的 32 位版本。否则，请确保您使用的是所有 dll、jar、java 版本等的匹配版本。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-11T06:57:21.390

这可能是由于你的java版本。这也是64位吗？检查它指向的 JAVA_HOME 环境变量。如果您同时安装了 32 位和 64 位版本，通过在机器的 RUN 提示符中使用 %JAVA_HOME% 您可以检查 tridion 调用的版本。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T20:27:31.827

您将 64 位 Juggernet DLL 与 32 位 Java 虚拟机混合使用，反之亦然。一种解决方案是重新安装 64 位 JVM（这会设置注册表），然后使用 64 位 Juggernet DLL

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-10-03T16:14:58.470

我在我的机器上安装了 Microsoft Windows 的 JRE 安装来克服这个问题。Windows x64：jre-7-windows-x64.exe

# php - 如何在 CakePHP 中“仅”通过控制器验证文件 mime 类型？

> ID：12363637
> 
> 赞同：2
> 
> 时间：2012-09-11T06:04:53.773
> 
> 标签：php, cakephp, cakephp-2.1

我有一个功能，用户可以发送文档而不在数据库中存储任何内容。所以没有字段可以放入模型。上传后，它会直接将该文档作为附件发送到电子邮件中。

在 Stackoverflow 上找到的所有链接都需要该控制器的“模型”以进行文件验证。所以，这不是重复的。

在发送电子邮件之前，您能否就如何直接发送经过验证的文件（通过 mime 类型和大小）提出建议？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T09:18:37.410

如果您使用的是 CakePHP 2.1

# [文件类](http://api.cakephp.org/class/file)

[＃信息](http://api.cakephp.org/class/file#method-Fileinfo)

将文件信息作为具有以下键的数组返回：

*   目录名
*   基本名称
*   延期
*   文件名
*   文件大小
*   哑剧

# [验证类](http://api.cakephp.org/class/validation)

[#mimeType](http://api.cakephp.org/class/validation#method-ValidationmimeType)

[＃最长长度](http://api.cakephp.org/class/validation#method-ValidationmaxLength)

[#minLength](http://api.cakephp.org/class/validation#method-ValidationminLength)

笔记：

*   CakePHP 1.x 上不存在文件类
*   我不确定您是否可以将此类与 tmp 文件一起使用。测试一下。如果不能，请将其保存到文件夹并调用课程。

# java - 从客户端调用 RMIregistry 的问题

> ID：12363649
> 
> 赞同：0
> 
> 时间：2012-09-11T06:06:12.367
> 
> 标签：java, rmi, rmiregistry

我第一次尝试使用 RMI 注册表进行远程调用。我已经编写了实现它的接口和类。当我试图调用它时，我面临着这个问题。我已经通过 give 在我的 Windows 机器上启动了 rmiregistry `start rmiregistry`，它打开了一个新窗口。

客户端prg看起来像：

```
 String host = "172.27.49.199:1099";
try {
  System.out.println(LocateRegistry.getRegistry());  
  Registry registry = LocateRegistry.getRegistry(host,0);

    Details stub = (Details) registry.lookup("Hello");
    String response = stub.Name();
    System.out.println("response: " + response);
} catch (Exception e) {
    System.err.println("Client exception: " + e.toString());
    e.printStackTrace();
} 
```

我对需要赋予什么价值感到困惑`host`。

我试过给：

(一) `http://localhost` (二)`http://localhost:1099`

它离开了`java.net.UnknownHostException: http://localhost:1099`。

**更新：**

将主机更改为**My_Sys_IP**后，我输了`java.net.UnknownHostException`，但最终得到`Client exception: java.rmi.NotBoundException: Details`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:11:20.913

我不知道你为什么感到困惑。`host`是主机名或 IP 地址。[Javadoc](http://docs.oracle.com/javase/6/docs/api/java/rmi/registry/LocateRegistry.html#getRegistry%28java.lang.String,%20int%29)没有说明使用 URL 。

它也没有说您可以将零作为端口号传递。你不能。如果您不知道它应该是什么，请忽略该参数。

# ninject - ninject 可以拦截私有方法吗？

> ID：12363655
> 
> 赞同：3
> 
> 时间：2012-09-11T06:06:59.077
> 
> 标签：ninject, ninject-interception

我想知道 ninject 是否有可能拦截我班级的私有方法。我试图做一些 aop 编程来动态注入日志机制。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T21:00:05.777

不幸的是，所有要被拦截的方法都必须是`virtual`[因此不是`private`]。

请参阅[@Ian Davis](http://codepyre.com/2010/03/using-ninject-extensions-interception-part-1-the-basics/)的这个博客系列，了解[`Ninject.Extensions.Interception`](https://github.com/ninject/ninject.extensions.interception/wiki)专业的内容。

.NET 平台上更深层次的 AOP 通常是[PostSharp](http://www.sharpcrafters.com/postsharp/documentation)的领域，它提供各种高级和低级 AOP 抽象。

# apache - 虚拟主机和DNS的概念

> ID：12363657
> 
> 赞同：4
> 
> 时间：2012-09-11T06:07:08.473
> 
> 标签：apache, dns, web, virtualhost

我有一个专用服务器和一个 mydomain.com（从托管公司购买）。我想用域 mydomain.com 从我的专用服务器托管一个网站，即当我从浏览器输入 mydomain.com 时，它应该指向专用服务器（以及其中的特定文件夹）的 IP（比如说 XXXX）。我有以下一些疑问：

**在服务器中**

1.  我知道我需要编辑服务器中的一些文件（例如：主机或主机名文件），但我不知道我需要编辑的确切文件。
2.  如何在 apache2 中添加站点启用或站点可用？

**在托管公司控制面板中**

1.  要添加哪些记录（A 或 cname 或其他）？
2.  我应该在哪里添加 DNS（在专用服务器部分或域名部分）？
3.  它将如何影响域的行为？

简而言之，问题是：**虚拟主机如何工作以及如何添加 DNS？**.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:14:04.033

对于服务器，您需要编辑 httpd.conf 文件并添加一个 VirtualHost 条目，请参阅此处：[http](http://httpd.apache.org/docs/2.2/vhosts/examples.html) ://httpd.apache.org/docs/2.2/vhosts/examples.html以获取一些示例。Apache 有很好的文档，请阅读。

它是如何工作的？因为您通过 IP 地址连接到 Apache 服务器，所以 Apache 服务器不知道您用来连接哪个域，除非您告诉它。在 HTTP/1.1 协议中，有一个标头“Host”，它告诉服务器使用哪个域进行连接。然后，Apache 将在其配置文件中查找主机名并提供正确的页面。

在 DNS 中，您可以决定自己的策略。例如，您可以为每个主机创建 A 记录，并为所有子域创建 CNAME。

在互联网上有很多关于这个主题的信息。谷歌是你的朋友。

祝你好运！

# assembly - 如何反汇编movb指令

> ID：12363658
> 
> 赞同：6
> 
> 时间：2012-09-11T06:07:16.800
> 
> 标签：assembly, x86, disassembly, objdump, i386

我正在编写一个反汇编程序，我正在查看指令格式（并手动进行一些反汇编），我遇到了一条我似乎无法解码的指令。

该特定指令的输出（来自 objdump）是：

```
c6 05 14 a0 04 08 01    movb   $0x1,0x804a014 
```

但是，我不明白指令是如何解码的，因为操作码 c6 应该是 MOV Eb Ib (Mod R/M to imm8)。

有人可以告诉我它是如何解码的吗？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-11T06:57:20.030

Alex Frunze 的回答（部分）解释了这一点，但他的回答有点简洁，所以我将在这里提供一些解释：

1.  操作码为 c6/0，表示该指令有 2 个操作数。一个是 r/m 8，表示以 mod/rm 字节编码的操作数和立即操作数。两个操作数都是 8 位宽。
2.  操作码中的 /0 表示操作码的一部分被编码在 mod/rm 字节中。mod/rm 字节中的位 3-5 是操作码的一部分。当您有 c6 后跟一个 mod/rm 字节，其位 3-5 的值为 0 时，您会得到一个 mov 操作码。
3.  值 5（紧跟 c6 的字节）对应于 r/m 字节 00 000 101（二进制）。
4.  r/m 字节的“后三位”（位 0-2）对应于 r/m 字段。r/m 值 101 (5) 表示“使用位移 dword”，因此 mod/rm 字节之后的接下来的 4 个字节形成一个立即地址。
5.  14 a0 04 08 是 0x0804a014 的小端编码
6.  最后一个字节 1 是要加载到地址中的立即值

我希望这有帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T06:19:55.180

好吧，转移*到*即时并不意味着什么。该指令所做的是将常量 1 移入位于 0x804a014 的内存字节中。类似于等效的 C 代码：

```
*(unsigned char *)0x804a014 = 1; 
```

`c6`如您所知，您有 opcode 。您可以将其作为[文档第 2A 卷](http://www.intel.com/content/www/us/en/processors/architectures-software-developer-manuals.html)`MOV`中说明的一部分进行查找。

是`05`ModR/M 字节。您可以使用[第 2A 卷的表 2-2](http://www.intel.com/content/www/us/en/processors/architectures-software-developer-manuals.html)，“使用 ModR/M 字节的 32 位寻址形式”来破译它。`05`在图表的“ModR/M 字节值（十六进制）”部分中查找。从那里开始跟踪，您会看到此 ModR/M 值的有效地址以“disp32”形式给出。那里的脚注说“disp32 命名法表示跟随 ModR/M 字节的 32 位位移”。在这种情况下，这是指令的下四个字节：`14 a0 04 08`.

最后，你有 8 位立即数`01`，完整的指令被解码。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-11T06:21:17.910

c6 - 操作码（Mod/RM 字节中也有一部分操作码，在 /digit(reg) 字段中）
05 - Mod/RM 字节（mod=00b, r/m=101b, /digit(reg)=0 - 部分操作码）
14 a0 04 08 - disp32
01 - imm8

这是一个`mov`从`Ib`到`Eb`。您可能将 objdump 显示反汇编的 AT&T 语法与 Intel/AMD 文档的语法混淆了。AT&T 语法中操作数的顺序与 x86 CPU 手册中的相反。

# iphone - 使用 SBSettings 切换打开或关闭事物

> ID：12363662
> 
> 赞同：0
> 
> 时间：2012-09-11T06:07:37.470
> 
> 标签：iphone, objective-c, jailbreak

我一直在尝试使用 SBSettings 切换来打开或关闭事物——比如飞行模式、WiFi、SSH 等——但我就是不明白为什么我的代码适用于其中一些切换而不是全部。当然，我只是在谈论“简单”的切换；不要使用自己的控件（例如音量或亮度）打开自己的窗口。我已经能够成功打开/关闭 3G、数据、我的铃声、mywi 切换……类似的东西，但我不明白为什么某些切换——飞行模式、蓝牙、WiFi——打开我的手机不会响应与上述其他内容相同的代码。

这是我正在使用的一些代码：

```
//.h
#import <UIKit/UIKit.h>
#import <sys/stat.h>
#include "/usr/include/dlfcn.h"

typedef enum toggleTypes
{
    SIMPLE,
    NOT_SIMPLE
} ToggleTypes;

typedef bool (*BoolFn)();
typedef void (*VoidBoolFn)(bool b);

@interface Toggle : NSObject
@property (strong, nonatomic) NSString *toggleName;
@property (nonatomic) ToggleTypes toggleType;

- (Toggle *) initWithFullPath:(NSString *) togglePath;
- (BOOL) isEnabled;
- (BOOL) isCapable;
- (BOOL) getStateFast;
- (void) setState:(BOOL) state;

@end
//.m
@implementation Toggle {
    @private
    void *_dylibHandle;
    BoolFn _isCapable;
    BoolFn _isEnabled;
    BoolFn _getStateFast;
    VoidBoolFn _setState;
}

@synthesize toggleName = _toggleName;
@synthesize toggleType = _toggleType;

- (Toggle *) initWithFullPath:(NSString *) togglePath
{
    self.toggleName = [[togglePath stringByDeletingLastPathComponent] lastPathComponent];
    const char *fullName = [togglePath UTF8String];
    struct stat fstat;
    if( stat(fullName, &fstat) != 0 )
    {
        NSLog(@"Reading error for file %s", fullName);
        return nil;
    }
    dlerror();

    _dylibHandle = dlopen(fullName, RTLD_LAZY | RTLD_LOCAL );
    if( !_dylibHandle)
    {
        NSLog(@"dlopen encountered an error and did not open file: %s", fullName);
        return nil;
    }

    dlerror();
    _isCapable = dlsym(_dylibHandle, "isCapable");
    char *error = dlerror();
    if( !_isCapable )
    {
        NSLog(@"An error was encountered while loading symbol \"isCapable\"\nFile: %s\nError: %s", fullName, error);
        return nil;
    }

    _isEnabled = dlsym(_dylibHandle, "isEnabled");
    error = dlerror();
    if( !_isCapable )
    {
        NSLog(@"An error was encountered while loading symbol \"isEnabled\"\nFile: %s\nError: %s", fullName, error);
        return nil;
    }

    _getStateFast = dlsym(_dylibHandle, "getStateFast");
    error = dlerror();
    if( !_isCapable )
    {
        NSLog(@"An error was encountered while loading symbol \"getStateFast\"\nFile: %s\nError: %s", fullName, error);
        return nil;
    }

    _setState = dlsym(_dylibHandle, "setState");
    error = dlerror();
    if( !_isCapable )
    {
        NSLog(@"An error was encountered while loading symbol \"getStateFast\"\nFile: %s\nError: %s", fullName, error);
        return nil;
    }

    NSArray *windowsBefore = [[[[UIApplication sharedApplication] windows] objectAtIndex:0] subviews];
    [self setState:[self isEnabled]];
    NSArray *windowsAfter = [[[[UIApplication sharedApplication] windows] objectAtIndex:0] subviews];

    if( [windowsAfter count] > [windowsBefore count] ) {
        self.toggleType = NOT_SIMPLE;
        for (UIView *view in windowsAfter) {
            if( ![windowsBefore containsObject:view] )
                [view removeFromSuperview];
        }
    } else { 
        self.toggleType = SIMPLE;
    }

    return self;
}

- (BOOL) isEnabled
{
    return _isEnabled();
}

- (BOOL) isCapable
{
    return _isCapable();
}

- (BOOL) getStateFast
{
    return _getStateFast();
}

- (void) setState:(BOOL) state
{
    _setState(state);
}

- (void) dealloc
{
    dlclose(_dylibHandle);
}
@end 
```

调用的代码 `initWithFullPath`：

```
if( [directoryToggleNames objectForKey:toggleName] == nil ) {
    if ((strlen(SBTOGGLES_PATH) + strlen([toggleName UTF8String] + strlen("/Toggle.dylib")) + 1) > _POSIX_PATH_MAX) {
        NSLog(@"Toggle %@ has a path name that is too long", toggleName);
        return nil;
    }
    char fullName[_POSIX_PATH_MAX + 1];
    strcpy(fullName, SBTOGGLES_PATH);
    strcat(fullName, [toggleName UTF8String]);
    strcat(fullName, "/Toggle.dylib");

    NSString *fullPath = [NSString stringWithUTF8String:fullName];
    return [[OSToggle alloc] initWithFullPath:fullPath];
}

return [[OSToggle alloc] initWithFullPath:[directoryToggleNames objectForKey:toggleName]]; 
```

使用上述代码和切换类本身的代码：

```
ToggleScanner *scanner = [ToggleScanner getInstance];
NSDictionary *toggleDict = [self getToggleDictionary];
for (ToggleBase *t in [toggleDict allValues] ) {
    OSToggle *toggle = [scanner getToggleByName:t.name];
    if( [t.type isEqualToString:@"simple"] ) {
        NSLog(@"isCapable: %@; isEnabled: %@", ( [toggle isCapable] ? @"YES" : @"NO" ),  ( [toggle isEnabled] ? @"YES" : @"NO" ));

        [toggle setState:t.state.boolValue];
        NSLog(@"Set toggle, %@, to %@; result isEnabled: %@", t.name, ( t.state.boolValue ? @"YES" : @"NO" ), ( [toggle isEnabled] ? @"YES" : @"NO" ) );
    } else {
        NSLog(@"Toggle is not a simple type");
    }
} 
```

ToggleScanner 只是在 SBSettings 切换目录中查找，并根据它在那里找到的切换构建一个字典。getToggleDict 是一种从 CoreData 中取出 NSData 对象并将其转换为一组切换和状态的方法，我可以依次执行这些切换和状态。ToggleBase 只是一个信息保存类；它没有方法。

它很粗糙，但它适用于某些切换。问题是：我在这里做错了什么吗？飞行模式和 3G 切换都是简单的开/关开关，但此代码适用于 3G 切换，但不适用于飞行模式之一。关于为什么会这样的任何想法、评论和/或建议？

* * *

**编辑 1：**添加了调用切换类的代码和一些关于它的描述。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T13:46:57.173

我的想法与您最初的想法相似，我尝试连接到 SBSetting 的每个 toggle.dylib 以打开/关闭 3G、Wi-Fi、MyFi。但是，我只能使它适用于 3G 切换。我不知道如何让它也适用于 MyFi 切换。你用的是什么版本的 MyFi？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-23T11:22:38.847

顺便说一句，我还测试了其他切换，例如位置、数据，它们都有效。当我检查位置切换的源代码时，它只是简单地更改了 locationd.plist 文件的属性，而对于 WiFi 切换情况，它需要使用私有框架 SBWiFimanager，所以这可能是问题所在。当你使用 SB 框架时，你需要有跳板上下文。因此，如果您从应用程序调用切换的方法，它没有跳板上下文。所以认为这是WiFi和飞机切换不起作用的原因。

# android - 在详细信息片段中显示不同的布局

> ID：12363663
> 
> 赞同：1
> 
> 时间：2012-09-11T06:07:38.467
> 
> 标签：android, android-layout, android-fragments, layout-inflater, android-inflate

我在android中有一个片段布局。左侧窗格有一个 listfragment，其中包含选项列表，右侧窗格具有特定于从左侧的 listfragment 窗格中选择的项目的详细信息或表单。现在直到这我已经完成并且它的工作但我想要的是右侧窗格中的表单应该有一些按钮和其他控件并单击一个按钮“查看信息”一个不同的布局应该出现在同一个地方，即细节窗格区域。现在有一件事是，具有“查看信息”按钮布局的详细信息区域是 DetailsFragment 中的膨胀布局。公共视图 onCreateView() 方法。

```
 @Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,Bundle savedInstanceState) {
       if (container == null) {            
        return null;
    }      

       View v = inflater.inflate(R.layout.listviewitems, null);

       ListView lv = (ListView) v.findViewById(R.id.listv);
       TextView tv=(TextView)v.findViewById(R.id.tvtitle);
       Button verify=(Button)v.findViewById(R.id.button1);

       verify.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {

 // I want to write a code for display next screen here.
        }

    });

       Bundle b = getArguments();
       String itemclick = null;
       if(b.getInt("index")==0)
       {
           itemclick="pending order";
       }
       else if(b.getInt("index")==1)
       {
           itemclick="orders recieved today";
       }
       else if(b.getInt("index")==2)
       {
           itemclick="todays orders";
       }
       tv.setText(itemclick);

       populateItemlist();
       lv.invalidateViews();         

       return v;          
} 
```

您可以看到屏幕截图[http://www.freeimagehosting.net/fi878](http://www.freeimagehosting.net/fi878)。在显示我在这里没有提到的下一个 UI 之前，单击按钮还需要执行一些数据库任务。但我的主要问题是如何在按钮单击时在同一位置显示不同的布局。请帮助我，因为我是 android 新手。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:16:30.037

Use FragmentTransaction, and replace the older Fragment with new Fragment.

```
FragmentTransaction ft = getFragmentManager().beginTransaction();

DetailsFragment newFragment = DetailsFragment.newInstance();
ft.replace(R.id.details_fragment_container, newFragment, "detailFragment");
ft.commit(); 
```

# python - ./（点斜杠）运算符在 Python 中代表什么？

> ID：12363665
> 
> 赞同：8
> 
> 时间：2012-09-11T06:07:53.560
> 
> 标签：python

我正在尝试将一段代码从 Python 移植到 PHP。我遇到了一条我不理解符号的线。

```
secLat = 1./cos(lat) 
```

./ 运算符在这种情况下做了什么？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-11T06:09:10.827

他们只是使用小数后跟除号来确保结果是浮点数而不是整数。这样可以避免以下问题：

```
>>> 1/3
0
>>> 1./3
0.3333333333333333 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-09-11T06:09:34.650

恐怕你读错了；它的：

```
(1.)/cos(lat) 
```

因此，将浮点值`1.0`（省略零）除以`cos()`of `lat`。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-11T06:09:27.517

它使 1 成为浮点值。相当于`float(1)`

有两个整数，`/`是一个底函数：

```
>>> 12/5
2 
```

使用一个参数作为浮点数，`/`按您的预期执行：

```
>>> 12.0/5
2.4
>>> 12/5.0
2.4 
```

恕我直言，如果以这种方式编写（在 Python 中），您发布的代码就不会那么模棱两可了

```
secLat = 1.0/cos(lat) 
```

或者

```
secLat = float(1)/cos(lat) 
```

或者

```
secLat = 1/cos(lat) 
```

由于 math.cos() 返回一个浮点数，因此您可以在顶部使用整数。

如果你想让 Python 有一个类似于 Perl / PHP的“[真正的划分”，你可以这样做：](http://www.python.org/dev/peps/pep-0238/)

```
>>> from __future__ import division
>>> 1/2
0.5 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-11T06:09:48.923

`1.`表示浮点数。`/`代表分道扬镳。

# html - div标签有问题

> ID：12363666
> 
> 赞同：4
> 
> 时间：2012-09-11T06:07:56.243
> 
> 标签：html, css

我在我的代码中使用 div 标签。当我使用高度来正常工作时，我已经为此设置了类，但我希望它在不使用高度的情况下扩展

```
<div id="list-div-bg">

 <div class="list-view-photo">
 <img src="images/list-img.png" alt="" width="77" height="63">
 </div>

<div id="list-view-text"> 
 Nissan Pulsar LS Euro Series<br>
<span class="Stock-title">Stock Number: 7407<br>
Transmission: Automatic<br></span>
<a href="#" class="link-text">More Details</a></div>

<div class="price-div"> $9,499
  <br>
  Available<br> 
  <a href="#" class="save-button"> SAVE</a> 
   </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:26:35.380

“在不使用高度的情况下扩展”是什么意思？

将高度设置为自动（默认）。或使用“%”来定义包含块的百分比高度。

# java - Android中的Java本机错误

> ID：12363667
> 
> 赞同：0
> 
> 时间：2012-09-11T06:08:06.100
> 
> 标签：java, android, java-native-interface, native

我在 com.artifex.mupdf.MuPDFCore.getText2Internal(Native Method) 运行时在 Java Native 中遇到错误。这是日志。我似乎无法确定问题所在。我正在尝试在 Mupdf 之上编写一个包装器。如果您需要我显示一些代码，请告诉我。

```
09-11 11:19:43.039: W/dalvikvm(3131): threadid=4: spin on suspend #1 threadid=10 (pcf=0)
09-11 11:19:43.789: W/dalvikvm(3131): threadid=4: spin on suspend #2 threadid=10 (pcf=3)
09-11 11:19:43.789: I/dalvikvm(3131): "Signal Catcher" daemon prio=5 tid=4 RUNNABLE
09-11 11:19:43.789: I/dalvikvm(3131):   | group="system" sCount=0 dsCount=0 obj=0x40510b68 self=0x173a38
09-11 11:19:43.789: I/dalvikvm(3131):   | sysTid=3136 nice=0 sched=0/0 cgrp=default handle=1207328
09-11 11:19:43.789: I/dalvikvm(3131):   at dalvik.system.NativeStart.run(Native Method)
09-11 11:19:43.789: I/dalvikvm(3131): "AsyncTask #2" prio=5 tid=10 RUNNABLE
09-11 11:19:43.789: I/dalvikvm(3131):   | group="main" sCount=1 dsCount=0 obj=0x40511508 self=0x1d3338
09-11 11:19:43.789: I/dalvikvm(3131):   | sysTid=3207 nice=0 sched=0/0 cgrp=default handle=1913968
09-11 11:19:43.859: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getText2Internal(Native Method)
09-11 11:19:43.859: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getText2(MuPDFCore.java:155)
09-11 11:19:43.859: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.gotoPage(MuPDFCore.java:77)
09-11 11:19:43.859: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getPageSize(MuPDFCore.java:84)
09-11 11:19:43.859: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFPageAdapter$1.doInBackground(MuPDFPageAdapter.java:54)
09-11 11:19:43.859: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFPageAdapter$1.doInBackground(MuPDFPageAdapter.java:1)
09-11 11:19:43.859: I/dalvikvm(3131):   at android.os.AsyncTask$2.call(AsyncTask.java:185)
09-11 11:19:43.859: I/dalvikvm(3131):   at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
09-11 11:19:43.859: I/dalvikvm(3131):   at java.util.concurrent.FutureTask.run(FutureTask.java:138)
09-11 11:19:43.859: I/dalvikvm(3131):   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
09-11 11:19:43.869: I/dalvikvm(3131):   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
09-11 11:19:43.869: I/dalvikvm(3131):   at java.lang.Thread.run(Thread.java:1019)
09-11 11:19:44.619: W/dalvikvm(3131): threadid=4: spin on suspend #3 threadid=10 (pcf=3)
09-11 11:19:44.619: I/dalvikvm(3131): "Signal Catcher" daemon prio=5 tid=4 RUNNABLE
09-11 11:19:44.619: I/dalvikvm(3131):   | group="system" sCount=0 dsCount=0 obj=0x40510b68 self=0x173a38
09-11 11:19:44.619: I/dalvikvm(3131):   | sysTid=3136 nice=0 sched=0/0 cgrp=default handle=1207328
09-11 11:19:44.619: I/dalvikvm(3131):   at dalvik.system.NativeStart.run(Native Method)
09-11 11:19:44.619: I/dalvikvm(3131): "AsyncTask #2" prio=5 tid=10 RUNNABLE
09-11 11:19:44.619: I/dalvikvm(3131):   | group="main" sCount=1 dsCount=0 obj=0x40511508 self=0x1d3338
09-11 11:19:44.619: I/dalvikvm(3131):   | sysTid=3207 nice=0 sched=0/0 cgrp=default handle=1913968
09-11 11:19:46.549: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getText2Internal(Native Method)
09-11 11:19:46.549: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getText2(MuPDFCore.java:155)
09-11 11:19:46.549: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.gotoPage(MuPDFCore.java:77)
09-11 11:19:46.549: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getPageSize(MuPDFCore.java:84)
09-11 11:19:46.549: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFPageAdapter$1.doInBackground(MuPDFPageAdapter.java:54)
09-11 11:19:46.549: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFPageAdapter$1.doInBackground(MuPDFPageAdapter.java:1)
09-11 11:19:46.549: I/dalvikvm(3131):   at android.os.AsyncTask$2.call(AsyncTask.java:185)
09-11 11:19:46.549: I/dalvikvm(3131):   at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
09-11 11:19:46.549: I/dalvikvm(3131):   at java.util.concurrent.FutureTask.run(FutureTask.java:138)
09-11 11:19:46.549: I/dalvikvm(3131):   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
09-11 11:19:46.549: I/dalvikvm(3131):   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
09-11 11:19:46.549: I/dalvikvm(3131):   at java.lang.Thread.run(Thread.java:1019)
09-11 11:19:47.299: W/dalvikvm(3131): threadid=4: spin on suspend #4 threadid=10 (pcf=3)
09-11 11:19:47.299: I/dalvikvm(3131): "Signal Catcher" daemon prio=5 tid=4 RUNNABLE
09-11 11:19:47.299: I/dalvikvm(3131):   | group="system" sCount=0 dsCount=0 obj=0x40510b68 self=0x173a38
09-11 11:19:47.299: I/dalvikvm(3131):   | sysTid=3136 nice=0 sched=0/0 cgrp=default handle=1207328
09-11 11:19:47.299: I/dalvikvm(3131):   at dalvik.system.NativeStart.run(Native Method)
09-11 11:19:47.299: I/dalvikvm(3131): "AsyncTask #2" prio=5 tid=10 RUNNABLE
09-11 11:19:47.299: I/dalvikvm(3131):   | group="main" sCount=1 dsCount=0 obj=0x40511508 self=0x1d3338
09-11 11:19:47.299: I/dalvikvm(3131):   | sysTid=3207 nice=0 sched=0/0 cgrp=default handle=1913968
09-11 11:19:47.319: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getText2Internal(Native Method)
09-11 11:19:47.319: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getText2(MuPDFCore.java:155)
09-11 11:19:47.319: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.gotoPage(MuPDFCore.java:77)
09-11 11:19:47.319: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getPageSize(MuPDFCore.java:84)
09-11 11:19:47.319: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFPageAdapter$1.doInBackground(MuPDFPageAdapter.java:54)
09-11 11:19:47.319: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFPageAdapter$1.doInBackground(MuPDFPageAdapter.java:1)
09-11 11:19:47.319: I/dalvikvm(3131):   at android.os.AsyncTask$2.call(AsyncTask.java:185)
09-11 11:19:47.319: I/dalvikvm(3131):   at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
09-11 11:19:47.319: I/dalvikvm(3131):   at java.util.concurrent.FutureTask.run(FutureTask.java:138)
09-11 11:19:47.319: I/dalvikvm(3131):   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
09-11 11:19:47.319: I/dalvikvm(3131):   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
09-11 11:19:47.319: I/dalvikvm(3131):   at java.lang.Thread.run(Thread.java:1019)
09-11 11:19:48.069: W/dalvikvm(3131): threadid=4: spin on suspend #5 threadid=10 (pcf=3)
09-11 11:19:48.069: I/dalvikvm(3131): "Signal Catcher" daemon prio=5 tid=4 RUNNABLE
09-11 11:19:48.069: I/dalvikvm(3131):   | group="system" sCount=0 dsCount=0 obj=0x40510b68 self=0x173a38
09-11 11:19:48.069: I/dalvikvm(3131):   | sysTid=3136 nice=0 sched=0/0 cgrp=default handle=1207328
09-11 11:19:48.069: I/dalvikvm(3131):   at dalvik.system.NativeStart.run(Native Method)
09-11 11:19:48.069: I/dalvikvm(3131): "AsyncTask #2" prio=5 tid=10 RUNNABLE
09-11 11:19:48.069: I/dalvikvm(3131):   | group="main" sCount=1 dsCount=0 obj=0x40511508 self=0x1d3338
09-11 11:19:48.069: I/dalvikvm(3131):   | sysTid=3207 nice=0 sched=0/0 cgrp=default handle=1913968
09-11 11:19:48.069: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getText2Internal(Native Method)
09-11 11:19:48.069: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getText2(MuPDFCore.java:155)
09-11 11:19:48.069: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.gotoPage(MuPDFCore.java:77)
09-11 11:19:48.069: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getPageSize(MuPDFCore.java:84)
09-11 11:19:48.069: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFPageAdapter$1.doInBackground(MuPDFPageAdapter.java:54)
09-11 11:19:48.069: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFPageAdapter$1.doInBackground(MuPDFPageAdapter.java:1)
09-11 11:19:48.069: I/dalvikvm(3131):   at android.os.AsyncTask$2.call(AsyncTask.java:185)
09-11 11:19:48.069: I/dalvikvm(3131):   at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
09-11 11:19:48.069: I/dalvikvm(3131):   at java.util.concurrent.FutureTask.run(FutureTask.java:138)
09-11 11:19:48.069: I/dalvikvm(3131):   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
09-11 11:19:48.069: I/dalvikvm(3131):   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
09-11 11:19:48.069: I/dalvikvm(3131):   at java.lang.Thread.run(Thread.java:1019)
09-11 11:19:48.819: W/dalvikvm(3131): threadid=4: spin on suspend #6 threadid=10 (pcf=3)
09-11 11:19:48.819: I/dalvikvm(3131): "Signal Catcher" daemon prio=5 tid=4 RUNNABLE
09-11 11:19:48.819: I/dalvikvm(3131):   | group="system" sCount=0 dsCount=0 obj=0x40510b68 self=0x173a38
09-11 11:19:48.819: I/dalvikvm(3131):   | sysTid=3136 nice=0 sched=0/0 cgrp=default handle=1207328
09-11 11:19:48.819: I/dalvikvm(3131):   at dalvik.system.NativeStart.run(Native Method)
09-11 11:19:48.819: I/dalvikvm(3131): "AsyncTask #2" prio=5 tid=10 RUNNABLE
09-11 11:19:48.819: I/dalvikvm(3131):   | group="main" sCount=1 dsCount=0 obj=0x40511508 self=0x1d3338
09-11 11:19:48.819: I/dalvikvm(3131):   | sysTid=3207 nice=0 sched=0/0 cgrp=default handle=1913968
09-11 11:19:48.829: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getText2Internal(Native Method)
09-11 11:19:48.829: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getText2(MuPDFCore.java:155)
09-11 11:19:48.829: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.gotoPage(MuPDFCore.java:77)
09-11 11:19:48.829: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFCore.getPageSize(MuPDFCore.java:84)
09-11 11:19:48.829: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFPageAdapter$1.doInBackground(MuPDFPageAdapter.java:54)
09-11 11:19:48.829: I/dalvikvm(3131):   at com.artifex.mupdf.MuPDFPageAdapter$1.doInBackground(MuPDFPageAdapter.java:1)
09-11 11:19:48.829: I/dalvikvm(3131):   at android.os.AsyncTask$2.call(AsyncTask.java:185)
09-11 11:19:48.829: I/dalvikvm(3131):   at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
09-11 11:19:48.829: I/dalvikvm(3131):   at java.util.concurrent.FutureTask.run(FutureTask.java:138)
09-11 11:19:48.829: I/dalvikvm(3131):   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
09-11 11:19:48.829: I/dalvikvm(3131):   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
09-11 11:19:48.829: I/dalvikvm(3131):   at java.lang.Thread.run(Thread.java:1019) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T05:50:40.527

我找到了崩溃的原因，这是由于内存管理不善。我分配了很多内存而没有释放。解决方法是使用方法简单地将本机类型的值传递回 java，而不在 JNI 中分配任何内存

# javascript - 如何使用 jQuery 验证引擎验证组？

> ID：12363671
> 
> 赞同：0
> 
> 时间：2012-09-11T06:08:22.790
> 
> 标签：javascript, jquery, javascript-events

我的网页上有很多按钮。我使用了 jQuery 验证引擎 js。如何通过一个按钮控制所有输入。问题是，当我单击任何按钮时，验证正在触发。

有验证组吗？我现在真的需要这个

```
<asp:TextBox ID="tbyukcins" runat="server" CssClass="listboxb 
validate[required]"></asp:TextBox>
<asp:TextBox ID="tbyukagirlik" runat="server" CssClass="listboxb 
validate[custom[onlyNumber]]"> </asp:TextBox>
<asp:Button ID="btteklif" runat="server" Text="Send" OnClick="Button1_Click"
CssClass="normal button yellow"></asp:Button> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:18:22.687

对 Form 的 OnSumbit 事件执行验证。

检查此[链接](http://encosia.com/asp-net-webforms-validation-groups-with-jquery-validation/)，您可能会发现它很有用。

此外，它不是一个完美的解决方案，但请尝试使用不同的表单或使用链接按钮。

```
<asp:LinkButton ID="LinkButton1" runat="server">LinkButton</asp:LinkButton> 
```

例如，您可以使用 css 类设计链接按钮，[检查一下。](http://www.cssbuttongenerator.com/)

# android - 列表视图的搜索功能

> ID：12363673
> 
> 赞同：5
> 
> 时间：2012-09-11T06:08:41.533
> 
> 标签：android, android-listview, android-edittext, android-button

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-11T06:32:26.107

不久前我问过一个类似的问题。此处：[使用 Baseadapter 过滤 ListView 过滤 text not images](https://stackoverflow.com/q/10764675/450534)。虽然，我的具体问题涉及 GridView，但这个概念（和代码）可以代替 ListView。

注意：这将是一个冗长的帖子，但我认为为了完整起见是必要的（`imports`虽然我省略了）

主要活动（*Friends.java*）

```
public class Friends extends SherlockActivity {

    // BUNDLE OBJECT TO GET DATA FROM EARLIER ACTIVITY
    Bundle extras;

    // INITIAL ALBUM ID AND NAME
    String initialUserID;

    // THE GRIDVIEW
    GridView gridOfFriends;

    // THE ADAPTER
    FriendsAdapter adapter;

    // ARRAYLIST TO HOLD DATA
    ArrayList<getFriends> arrFriends;

    // LINEARLAYOUT TO SHOW THE FOOTER PROGRESS BAR
    LinearLayout linlaProgressBar;

    // THE EDITTEXT TO FILTER USERS
    EditText filterText;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.friends_grid_list);

        extras = getIntent().getExtras();

        if (extras.containsKey("USER_ID"))  {
            initialUserID = extras.getString("USER_ID");
        } else {
            Toast.makeText(
                    getApplicationContext(), 
                    "There was a problem getting your Friends Data. Please hit the back button and try again.", 
                    Toast.LENGTH_SHORT).show();
        }

        ActionBar actionBar = getSupportActionBar();
        actionBar.setDisplayHomeAsUpEnabled(true);
        actionBar.setDisplayShowHomeEnabled(true);
        actionBar.setDisplayShowTitleEnabled(true);
        actionBar.setTitle("Your Friends");

        // CAST THE GRIDVIEW
        gridOfFriends = (GridView) findViewById(R.id.gridFriends);

        // INSTANTIATE THE ARRAYLIST
        arrFriends = new ArrayList<getFriends>();

        // CAST THE ADAPTER
        adapter = new FriendsAdapter(Friends.this, arrFriends);

        // CAST THE LINEARLAYOUT THAT HOLDS THE PROGRESS BAR
        linlaProgressBar = (LinearLayout) findViewById(R.id.linlaProgressBar);
        linlaProgressBar.setVisibility(View.GONE);

        // GET THE LOGGED IN USERS FRIENDS DATA
        if (initialUserID != null)  {
            new getFriendsData().execute();
        } else {
            Toast.makeText(
                    getApplicationContext(), 
                    "There was a problem getting your Friends Data. Please hit the back button and try again.", 
                    Toast.LENGTH_SHORT).show();
        }

        // CAST THE EDITTEXT AND SETUP FILTERING
        filterText = (EditText) findViewById(R.id.editFilterList);
        filterText.addTextChangedListener(filterTextWatcher);
    }

    private class getFriendsData extends AsyncTask<Void, Void, Void>    {

        @Override
        protected void onPreExecute() {

            // SHOW THE BOTTOM PROGRESS BAR (SPINNER) WHILE LOADING THE FRIENDS LIST
            linlaProgressBar.setVisibility(View.VISIBLE);
        }

        @Override
        protected Void doInBackground(Void... params) {

            try {
                String query = 
                        "SELECT name, uid, pic_big " +
                        "FROM user " +
                        "WHERE uid in " +
                        "(SELECT uid2 FROM friend WHERE uid1=me()) " +
                        "order by name";
                Bundle paramGetFriendsList = new Bundle();
                paramGetFriendsList.putString("method", "fql.query");
                paramGetFriendsList.putString("query", query);

                String resultFriendsList = Utility.mFacebook.request(paramGetFriendsList);

                JSONArray JAFriends = new JSONArray(resultFriendsList);

                getFriends friends;

                if (JAFriends.length() == 0)    {

                } else {
                    for (int i = 0; i < JAFriends.length(); i++) {
                        JSONObject JOFriends = JAFriends.getJSONObject(i);

                        friends = new getFriends();

                        // SET FRIENDS ID
                        if (JOFriends.has("uid"))   {
                            friends.setFriendID(JOFriends.getString("uid"));
                        } else {
                            friends.setFriendID(null);
                        }

                        // SET FRIENDS NAME
                        if (JOFriends.has("name"))  {
                            friends.setFriendName(JOFriends.getString("name"));
                        } else {
                            friends.setFriendName(null);
                        }

                        // SET FRIENDS PROFILE PICTURE
                        if (JOFriends.has("pic_big"))   {
                            friends.setFriendProfile(JOFriends.getString("pic_big"));
                        } else {
                            friends.setFriendProfile(null);
                        }

                        arrFriends.add(friends);

                    }
                }

            } catch (Exception e) {
                e.printStackTrace();
            }

            return null;
        }

        @Override
        protected void onPostExecute(Void result) {

            // SET THE ADAPTER TO THE GRIDVIEW
            gridOfFriends.setAdapter(adapter);

            // HIDE THE BOTTOM PROGRESS BAR (SPINNER) AFTER LOADING THE FRIENDS LIST
            linlaProgressBar.setVisibility(View.GONE);
        }

    }

    private TextWatcher filterTextWatcher = new TextWatcher() {

        @Override
        public void onTextChanged(CharSequence s, int start, int before, int count) {

            adapter.getFilter().filter(s.toString().toLowerCase());
            adapter.notifyDataSetChanged();
        }

        @Override
        public void beforeTextChanged(CharSequence s, int start, int count, int after) {

        }

        @Override
        public void afterTextChanged(Editable s) {

        }
    };
} 
```

getFriends.java类*用于*`ArrayList`：

```
public class getFriends {

    String friendID;
    String friendName;
    String friendProfile;

    // SET FRIENDS ID
    public void setFriendID(String friendID) {
        this.friendID = friendID;
    }

    // GET FRIENDS ID
    public String getFriendID() {
        return friendID;
    }

    // SET FRIENDS NAME
    public void setFriendName(String friendName) {
        this.friendName = friendName;
    }

    // GET FRIENDS NAME
    public String getFriendName() {
        return friendName;
    }

    // SET FRIENDS PROFILE
    public void setFriendProfile(String friendProfile) {
        this.friendProfile = friendProfile;
    }

    // GET FRIENDS PROFILE
    public String getFriendProfile() {
        return friendProfile;
    }
} 
```

最后，适配器类（*FriendsAdapter.java*）

```
public class FriendsAdapter extends BaseAdapter implements Filterable {

    ProgressDialog dialog;

    Activity activity;

    LayoutInflater inflater = null;
    ImageLoader imageLoader;

    ArrayList<getFriends> arrayFriends;
    List<getFriends> mOriginalNames;

    FriendsAdapter(Activity a, ArrayList<getFriends> arrFriends) {

        activity = a;

        arrayFriends = arrFriends;

        inflater = (LayoutInflater) activity
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        imageLoader = new ImageLoader(activity.getApplicationContext());
    }

    public int getCount() {
        return arrayFriends.size();
    }

    public Object getItem(int position) {
        return arrayFriends.get(position);
    }

    public long getItemId(int position) {
        return position;
    }

    @Override
    public void notifyDataSetChanged() {
        super.notifyDataSetChanged();
    }

    public View getView(final int position, View convertView, ViewGroup parent) {
        View vi = convertView;
        if (convertView == null)
            vi = inflater.inflate(R.layout.friends_grid_items, null);

        ImageView imgProfilePicture = (ImageView) vi.findViewById(R.id.imgProfilePicture);
        TextView txtUserName = (TextView) vi.findViewById(R.id.txtUserName);
        FrameLayout mainContainer = (FrameLayout) vi.findViewById(R.id.mainContainer);

        txtUserName.setText(arrayFriends.get(position).getFriendName());

        if (arrayFriends.get(position).getFriendProfile() != null) {
            imageLoader.DisplayImage(arrayFriends.get(position).getFriendProfile(),imgProfilePicture);
        } else if (arrayFriends.get(position).getFriendProfile() == null) {
            imgProfilePicture.setVisibility(View.GONE);
        }

        mainContainer.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                Intent showFriendsProfile = new Intent(activity.getApplicationContext(), UserProfileNew.class);
                showFriendsProfile.putExtra("USER_ID", arrayFriends.get(position).getFriendID());
                showFriendsProfile.putExtra("NAME", arrayFriends.get(position).getFriendName());
                activity.startActivity(showFriendsProfile);
            }
        });

        return vi;
    }

    @Override
    public Filter getFilter() {

        Filter filter = new Filter() {

            @SuppressWarnings("unchecked")
            @Override
            protected void publishResults(CharSequence constraint,
                    FilterResults results) {

                arrayFriends = (ArrayList<getFriends>) results.values;
                notifyDataSetChanged();
            }

            @Override
            protected FilterResults performFiltering(CharSequence constraint) {

                FilterResults results = new FilterResults();
                ArrayList<getFriends> FilteredArrayNames = new ArrayList<getFriends>();

                if (mOriginalNames == null) {
                    mOriginalNames = new ArrayList<getFriends>(arrayFriends);
                }
                if (constraint == null || constraint.length() == 0) {
                    results.count = mOriginalNames.size();
                    results.values = mOriginalNames;
                } else {
                    constraint = constraint.toString().toLowerCase();
                    for (int i = 0; i < mOriginalNames.size(); i++) {
                        getFriends dataNames = mOriginalNames.get(i);
                        if (dataNames.getFriendName().toLowerCase()
                                .contains(constraint.toString())) {
                            FilteredArrayNames.add(dataNames);
                        }
                    }

                    results.count = FilteredArrayNames.size();
                    // System.out.println(results.count);

                    results.values = FilteredArrayNames;
                    // Log.e("VALUES", results.values.toString());
                }

                return results;
            }
        };

        return filter;
    }
} 
```

您可以在此处使用该概念并替换您的 ListView。我已经在其他地方将它用于 ListView 并且可以正常工作。不幸的是，我不能在公共论坛上泄露该代码。希望这对您有所帮助。同样，毫无疑问，这是一篇很长的帖子，但我相信这是必要的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T06:19:42.653

检查这个[`List View with easy searching in Android`](http://rakhi577.wordpress.com/2012/06/26/buttons-on-list-view-with-easy-searching-in-android/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:26:21.140

您可以将自动完成器与您的 Editext 一起使用，并使用它更新您的列表适配器，另 [请参阅](http://saigeethamn.blogspot.in/2010/05/auto-complete-text-view-android.html)

```
<yourEditText>.addTextChangedListener(new TextWatcher() {

            @Override
            public void onTextChanged(CharSequence s, int start, int before, int count) {
            <requery/filter your adapter then set it to your listview>
            }

            @Override
            public void beforeTextChanged(CharSequence s, int start, int count, int after) {
                // TODO Auto-generated method stub

            }

            @Override
            public void afterTextChanged(Editable s) {
                // TODO Auto-generated method stub

            }
        }); 
```

# apache - Apache无限循环运行，请求URI太长

> ID：12363675
> 
> 赞同：3
> 
> 时间：2012-09-11T06:08:49.467
> 
> 标签：apache, .htaccess, mod-rewrite, reverse-proxy, mod-proxy

我想从 cookie 中读取一个值并将该值作为查询字符串传递，为此我使用了以下规则

```
**1 : "RewriteCond %{HTTP_COOKIE} !^preferenceLocale=([^;]+) [NC] 

RewriteRule ^/*(.*) http://192.168.132.148/cs/Satellite?pagename=YBWrapper&ybdomain=%{HTTP_HOST}&ybpage=$1&%{QUERY_STRING} [P]"**

if cookie value is available then i need to execute fallowing set of condition and rule,  

**2 :"RewriteCond %{HTTP_COOKIE} preferenceLocale=([^;]+) [NC]

RewriteRule ^/*(.*) http://192.168.132.148/cs/Satellite?pagename=YBWrapper&ybdomain=%{HTTP_HOST}&ybpage=$1&preferred_locale=%1&%{QUERY_STRING} [P]"** 
```

这些规则单独工作正常，但如果两个规则都被放置它失败并出现错误请求 UIR 太长，

如果我们看到日志 HTTP_HOST 被一些垃圾值替换

```
192.168.132.148 - - [11/Sep/2012:11:23:15 +0530] "GET /cs/Satellite?pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=192.168.132.148&ybpage=cs/Satellite&preferred_locale=1302157366636&pagename=YBWrapper&ybdomain=test100.fwqae148.yelladworks.in&ybpage= HTTP/1.1" 414 345 "http://test100.fwqae148.yelladworks.in/" "Mozilla/5.0 (Windows NT 5.1; rv:15.0) Gecko/20100101 Firefox/15.0.1" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:13:39.167

你只需要给出一个条件，然后对 Cookie 进行所需的重写。

删除“无 cookie”Rewrite 的条件。首先将 Redirect 与条件放在一起，而不是 Redirect without Condition。

```
 if cookie value is available then i need to execute fallowing set of condition and rule,  

**2 :"RewriteCond %{HTTP_COOKIE} preferenceLocale=([^;]+) [NC]

RewriteRule ^/*(.*) http://192.168.132.148/cs/Satellite?pagename=YBWrapper&ybdomain=%{HTTP_HOST}&ybpage=$1&preferred_locale=%1&%{QUERY_STRING} [P]"**\

 RewriteRule ^/*(.*) http://192.168.132.148/cs/Satellite?pagename=YBWrapper&ybdomain=%       {HTTP_HOST}&ybpage=$1&%{QUERY_STRING} [P]"** 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:56:19.110

如果规则和代理目标位于同一主机上，则每次都将应用规则。例如：

1.  传入请求，应用规则
2.  没有`preferenceLocale`cookie，附加了查询字符串
3.  URL 被发送到 mod_proxy 进行代理
4.  mod_proxy 发出请求
5.  从步骤 1 开始重复。

这就是查询字符串不断重复自身的原因，并注意在第二个到最后一个实例之后，`ybdomain=`参数如何从`test100.fwqae148.yelladworks.in`变为`192.168.132.148`（您要代理到的 IP）。这种情况继续发生，因为 cookie`preferenceLocale`或缺少 cookie 被传递给每个代理请求，因此对 cookie 的检查将始终为真。

您需要添加一些条件来检查查询字符串，以便它不会再次代理请求：

```
RewriteCond %{HTTP_COOKIE} !preferenceLocale=([^;]+) [NC] 
RewriteCond %{QUERY_STRING} !pagename=YBWrapper
RewriteRule ^/*(.*) http://192.168.132.148/cs/Satellite?pagename=YBWrapper&ybdomain=%{HTTP_HOST}&ybpage=$1&%{QUERY_STRING} [P]

RewriteCond %{HTTP_COOKIE} preferenceLocale=([^;]+) [NC]
RewriteCond %{QUERY_STRING} !pagename=YBWrapper
RewriteRule ^/*(.*) http://192.168.132.148/cs/Satellite?pagename=YBWrapper&ybdomain=%{HTTP_HOST}&ybpage=$1&preferred_locale=%1&%{QUERY_STRING} [P] 
```

# java - 使用 openoffice JAVA API 在文档中插入 SECTION 的问题

> ID：12363676
> 
> 赞同：1
> 
> 时间：2012-09-11T06:08:54.037
> 
> 标签：java

我正在使用 openoffice JAVA API 来插入 SECTION。我正在关注以下链接：

[http://www.oooforum.org/forum/viewtopic.phtml?p=519189#519189](http://www.oooforum.org/forum/viewtopic.phtml?p=519189#519189)

执行上述链接中的代码时遇到问题。我无法解析对象“serviceFactory”（如下），谁能告诉我这个对象是什么类型以及如何获取它？

```
xChildNamed = (XNamed) UnoRuntime.queryInterface(
XNamed.class,
serviceFactory.createInstance("com.sun.star.text.TextSection", document1)); 
```

另外，请详细说明以下调用的作用？

```
componentExport(document2, storeProps, tempDoc); 
```

或者，有人可以指点我一个更好的解决方案。

# visual-studio-2010 - 如何在 64 位操作系统中为 Access 数据库创建 DSN

> ID：12363682
> 
> 赞同：0
> 
> 时间：2012-09-11T06:09:29.823
> 
> 标签：visual-studio-2010, ms-access, 64-bit, dsn

如何在 64 位操作系统中为*Windows操作系统的**MS Access*数据库创建*DSN*？

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T07:02:41.910

您是否尝试过从 Access 制作一个？当您选择外部数据源 odbc 时，您有机会从 Access 内部创建 DSN。并且您可以在那个时间点创建一个系统 DSN。（Access 将为您启动正确版本的 ODBC 管理器）。

由于 Access 通常是 32 位版本，因此这些系统 DSN 的位置位于以下标准位置：

HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\ODBC\ODBC.INI\SYSTEM DSN 的名称

而且，您必须启动 32 位版本的 ODBC 管理器，而控制面板中的那个将是 64 位版本。

因此，让 Access 为您启动它真的要容易得多，从那时起，您不必知道或关心您是否运行的是 x64 或 x32 位版本的 Access（x64 版本仅适用于 Access 2010 及更高版本 - 所以如果您使用的是以前的版本，那么在所有情况下都是 x32）。

因此，您需要启动 32 位版本的 ODBC 管理器，它位于以下位置：

C:\Windows\SysWOW64\odbcad32.exe

那么你应该没问题（所以不要使用控制面板中的那个）。

如果您因此使用 32 位版本（来自 sysWOW 的版本）创建系统 DSN，那么当您启动同一个 odbc 管理器时，您应该在 Access 中看到它。**

# algorithm - 如何找到8位二进制数中第一个和最后一个1之间的距离

> ID：12363686
> 
> 赞同：1
> 
> 时间：2012-09-11T06:09:48.457
> 
> 标签：algorithm, assembly, binary

我需要编写一个汇编程序，它可以为我提供内存中最宽的 32 个 8 位数字。我得到了一个内存空间数组，每个地址对应一个 8 位字。我需要将每个数字移动到一个寄存器中，然后找到宽度。在这种情况下，宽度是指第一个和最后一个 1 之间的距离。

前任：

> 00000000 = 0
> 
> 00010000 = 1
> 
> 00101000 = 3
> 
> 10000001 = 8

对于这个程序，我必须创建自己的指令集。每条指令都是 8 位长，所以我也不能有过长的分支。

我的主要问题是弄清楚如何计算“宽度”。一旦我知道如何做到这一点，我应该能够弄清楚如何使用 8 位指令来做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T07:04:26.937

在 x86 (386+) 程序集中有`bsf`（位扫描正向）和`bsr`（位扫描反向）。将`bsf`最低有效位的索引设置为 1，并将`bsr`最高有效位的索引设置为 1。这些加 1 的差是所需的距离或宽度（以位为单位）。我相信这些指令的等价物也可以在您自己的处理器中实现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:20:39.767

我不知道它是否可能在您的处理器上，但在 x86 上，我将旋转直到设置第一个进位（如果您最后一次旋转出 1，进位设置为 1）并存储旋转次数，然后执行相同操作，除非您执行相反的操作边，然后它应该是（8 - 这两个边距的总和）。

# java - Oracle 日期和 EJB 日期

> ID：12363693
> 
> 赞同：0
> 
> 时间：2012-09-11T06:10:19.387
> 
> 标签：java, oracle, date, ejb

我的 Oracle DB 中有一个 DATE 类型的列。06.09.12 是存储在那里的值之一。我还有一个映射到表的 EJB 实体，它有一个 java.util.Date 类型的成员字段“日期”。但是，getter 方法返回存储在表中的日期加上一天，例如 07.09.12 而不是 06.09.12。如何准确获取存储的日期？我应该考虑使用时间戳吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:25:06.117

您可能有不同的时区 - 数据库上的时区与 Java 中设置的时区不同。底层时间实际上是相同的，但是，例如，DB 上的日期被解释为 GMT，而 Java 被解释为东部时间。格林威治标准时间午夜过后，格林威治标准时间提前一天 7 小时左右。

这两个时区都默认为服务器的时区，但可以被 DB 安装和 Java VM 覆盖。

要测试是否是这种情况，在 Oracle 上：

```
select dbtimezone,sessiontimezone from dual; 
```

在 Java 上：

```
TimeZone tz = Calendar.getInstance().getTimeZone();
System.out.println("TimeZone: "+tz.getDisplayName()); 
```

# javascript - node.js 和 express 中的异常处理

> ID：12363701
> 
> 赞同：5
> 
> 时间：2012-09-11T06:11:00.807
> 
> 标签：javascript, node.js, exception-handling, express

我是 javascript 和 node 的新手，并且一直在尝试使用 node.js 和 express 创建一个应用程序。

我已经为错误设置了适当的回调，但它们并没有放在任何地方，有时 node.js 服务器会因为出现一些异常而停止。

建议使用 'upstart' 或 'forever' 来保持 node.js 始终运行并在 node.js 停止时启动它。

似乎 express 通过以下链接[http://expressjs.com/guide.html#error-handling为所有异常提供了全部捕获](http://expressjs.com/guide.html#error-handling)

```
app.use(function(err, req, res, next){
  console.error(err.stack);
  res.send(500, 'Something broke!');
}); 
```

它现在对我有用。但是我在某处读到这样的错误并不是一个好主意，因为它可能会产生副作用并且会使变量处于不一致的状态？同样捕获这样的异常并不适用于所有情况，并且在某些情况下，服务器仍然可以因某些异常而停止。这是真的吗？

我的问题大概是这样的。

1) 像上面这样的异常处理可以让一些变量处于不一致的状态吗？2）是否会有一些异常仍然会停止服务器？

感谢和问候

图科

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-11T11:54:42.277

1）这种异常处理方法是否可以使某些变量处于不一致状态取决于您的实现。

如果您将所有变量的范围限定为特定的请求和函数，并且不访问全局或更高的变量（如全局应用程序对象），那么您会没事的。垃圾收集器在异常发生后立即清理未使用的内存。

2）是的，某些异常可能会停止服务器。因此，您应该为进程设置一个全局异常处理处理程序，如下所示：[http ://nodejs.org/api/process.html#process_event_uncaughtexception](http://nodejs.org/api/process.html#process_event_uncaughtexception)

# search - 将 kaltura 搜索与 alfresco 共享集成？

> ID：12363702
> 
> 赞同：0
> 
> 时间：2012-09-11T06:11:06.217
> 
> 标签：search, alfresco, kaltura

我有一个露天共享，它有自己的简单/高级搜索。我也有 kaltura 视频引擎来管理视频。

我想知道如何自定义我的 alfresco 搜索，以便我可以在 kaltura 中搜索来自 alfresco 共享 UI 的视频，而无需前往 kaltura。

问候。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-07T06:19:52.173

最后我让它工作了。

我使用 kaltura 提供的罐子从 alfresco 调用功能，在其中创建操作/规则以从 alfresco 共享上传 kaltura 中的视频。

实现它很有趣。

问候。

# c - 在ac程序中读取mp3文件的TAG2

> ID：12363706
> 
> 赞同：0
> 
> 时间：2012-09-11T06:11:13.857
> 
> 标签：c, mp3, fread

我编写了一个`c`程序来读取 MP3 文件并打印 TAG2 字段。源代码是：

```
void main(void)
{
   FILE *w;
   char c[10]={0};    
   int ver, flag, size;    
   w=fopen("test.mp3,"rb");   
   fread(c,1,3,w);    
   printf("TAG2 identifier:%s\n",c);
   fread(&ver,1,2,w);    
   printf("TAG2 version:%d\n",ver);    
   fread(&flag,1,1,w);    
   printf("Flags:%d\n",flag);    
   fread(&size,1,4,w);  //????????    
   ..........
} 
```

我知道每个字节大小的最高有效位都设置为 0，应该被忽略。
但似乎在`read()`读取大小的 4 个字节时，字节顺序是相反的。如何以正确的字节顺序读取大小？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:59:52.713

.mp3 文件格式规范应描述数字是先存储最低有效字节（AKA little endian）还是先存储最高有效字节（AKA big endian）。

使用这些知识，您应该能够使用运算符（*（或 <<）、+（或 |））和适当的转换从单个字节重构多字节整数。我在[这个答案](https://stackoverflow.com/a/11380262/968261)中以类似的方式保存了 .wav 文件，使用了相反的方法（使用 / 和 %）。

# android - 如何设置按钮样式的默认布局参数？

> ID：12363711
> 
> 赞同：3
> 
> 时间：2012-09-11T06:11:34.253
> 
> 标签：android, android-layout

我经常不得不手动为我的按钮设置布局参数

```
<Button
    android:id="@+id/signIn"
    android:layout_above="@+id/forgotPassword"
    android:text="@string/button_sign_in" 

<!-- Repetitive part -->
    android:layout_marginLeft="@dimen/button_margin_left"
    android:layout_marginRight="@dimen/button_margin_right"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"/> 
```

我的样式.xml

```
<style name="myButton" parent="android:style/Widget.Button">
    <item name="android:textColor">@color/button_textColor</item>
    <item name="android:background">@drawable/button_background</item>      
    <item name="android:textSize">@dimen/button_textSize</item>
    <item name="android:padding">@dimen/button_padding</item>
    <item name="android:layout_width">fill_parent</item>
    <item name="android:layout_marginLeft">@dimen/button_margin_left</item>
    <item name="android:layout_marginRight">@dimen/button_margin_right</item>
</style> 
```

但是最后三个值似乎没有影响！如果我不能在样式 xml 中设置它，我可以设置 eclipse 来更改它在使用图形布局时创建的默认值吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T08:09:26.607

我在评论部分没有空间，所以这是我的（工作）代码，用于`TextView`

```
<TextView
    android:id="@+id/show_sa_j"
    style="@style/show_title"
    android:text="@string/loading" /> 
```

* * *

```
<style name="show_title">
    <item name="android:textSize">34dp</item>
    <item name="android:textColor">#FFFFFFFF</item>
    <item name="android:gravity">center_horizontal</item>
    <item name="android:paddingLeft">10dp</item>
    <item name="android:paddingRight">10dp</item>
    <item name="android:layout_width">fill_parent</item>
    <item name="android:layout_height">wrap_content</item>
</style> 
```

结果是：

![结果在 Eclipse 布局编辑器中](../Images/5616ecc3120f1b0af2627829959a3aee.png)

如您所见，它`TextView`正在填充其父级的宽度（减去父级的填充）。

为了证明布局边距也有效，我添加`<item name="android:layout_marginLeft">25dp</item>`了我的样式，结果如下：

![在此处输入图像描述](../Images/c2817072d4374195b2f876a7aacef074.png)

# php - 识别一个字符，然后在 php 中突出显示它

> ID：12363712
> 
> 赞同：3
> 
> 时间：2012-09-11T06:11:35.390
> 
> 标签：php, html, css

如何识别字符串中特定字符的出现，然后以不同的颜色突出显示它以获得更好的可见性，因为字符串很长，我需要在网页上从左到右滚动。它是这样的：

```
~$ fname=henry&lastname=ford&age=25&dob=11sep86 
```

所以我想`&`用不同的颜色突出显示`fname`,`lastname`用不同的颜色突出显示，以便更容易调试这个字符串。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:16:23.637

您可以使用 strpos("&",$str) 查找字符串中出现的符号。我相信还有其他功能会更好地满足您的需求。

为了显示，您可以插入`<span>`将定义颜色以将文本转换为的字符串对象：

```
fname=henry<span class="redText">&</span> ... etc. 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-11T06:30:00.023

使用 str_replace() 非常快速的解决方案：

```
$string = 'fname=henry&lastname=ford&age=25&dob=11sep86';
echo str_replace('&','<span style="color:orange">&</span>',$string); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T06:22:38.657

您可以将文本拆分为单个单词，然后执行 in_array()：

```
$text = "your & text";
$words = explode(" ", $text);
if(in_array("&") {echo '<span style="color:red">&</span>';} 
```

或者

```
if (strpos( $text,'&') !== false) {
    echo '<span style="color:red">&</span>';
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-11T06:27:02.613

您可以使用`explode()`：

```
$string = 'fname=henry&lastname=ford&age=25&dob=11sep86';

$url = explode('&', $string);
$result = '';
foreach($url as $num => $one){
    $in = explode('=', $one);
    $result .= '<span style="color:green">'.$in[0].'</span>='.$in[1];
    if($num < count($url)-1){
        $result .= '<span style="color:red">&</span>';
    }
}

echo $result; 
```

或者`preg_replace()`

```
$string = 'fname=henry&lastname=ford&age=25&dob=11sep86';
$result = preg_replace('/(\w+)=(\w+)/i', '<span style="color:green">$1</span>=$2', $string);
$result = preg_replace('/\&/', '<span style="color:red">&</span>', $result);
echo $result; 
```

# c - 用 XOR 交换单个位

> ID：12363715
> 
> 赞同：4
> 
> 时间：2012-09-11T06:11:47.897
> 
> 标签：c, binary

我正在阅读 [这篇文章](http://graphics.stanford.edu/~seander/bithacks.html#SwappingBitsXOR)用 Xor 交换单个位以交换给定数字的位。

作为**交换位范围的示例，假设我们有 b = 00101111（以二进制表示）并且我们希望将 n = 3 个连续位从 i = 1（右起第二位）开始与 3 个连续位交换从 j = 5 开始；结果将是 r = 11100011（二进制）。**但我无法理解它是如何工作的。
给定的代码是

```
unsigned int i, j; // positions of bit sequences to swap
unsigned int n;    // number of consecutive bits in each sequence
unsigned int b;    // bits to swap reside in b
unsigned int r;    // bit-swapped result goes here

unsigned int x = ((b >> i) ^ (b >> j)) & ((1U << n) - 1); // XOR temporary
r = b ^ ((x << i) | (x << j)); 
```

请任何人告诉我这段代码是如何工作的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T06:38:15.553

让我们分步执行此操作： (b >> i) 和 (b >> j) 将要交换的位移动为第一位。

((b >> i) ^ (b >> j)) 然后对它们进行异或。

((1U << n) - 1) 这个表达式只是数字 1111...1 n 次（二进制）

所以总共 x 是 XOR 的结果，所有其他位都是 0。

(x << i) 和 (x << j) 将位移回正确的位置。

使用 ((x << i) | (x << j)) 在任一设置中设置的所有位都在结果中设置。

And b ^ ((x << i) | (x << j)) means we XOR the original with the XOR'd bits of both parts. Note that x ^ x ^ y = y so since in both parts the original appears twice in the xor, but the second part only once, we get bit swapping.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T06:33:02.253

好吧，它使用移位来限制每个操作所影响的位（即，将其他位从图片中移出以完成工作，并且只对我们关心的那些位进行操作）。作为其中的一部分，它使用 xor 翻转这些位，将它们移回，并通过与原始 x-oring 将它们翻转回原始。...因为那像泥一样清澈...

例如。

```
XX...XX001 ^ XX..XX111 = XX..XX110  (xor the 2 sequences together + trash bits)
XX..XX110 & 0...0111 = 110 (keep only those bits we care about)
00101111 ^ 11001100 = 11100011 (and magic!) 
```

# java - Android中的多核编程

> ID：12363716
> 
> 赞同：0
> 
> 时间：2012-09-11T06:11:58.357
> 
> 标签：java, android, multithreading, performance, processor

我正在尝试用 Java 为 android 设备编写一个计算密集型程序。有没有一种方法可以利用 Android 中不同的处理器内核来提高程序的速度？一些有用的文章的链接将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:17:06.463

您可以研究的一件事是 Renderscript。

[http://developer.android.com/guide/topics/renderscript/index.html](http://developer.android.com/guide/topics/renderscript/index.html)

来自开发网站：

> Renderscript 提供了一个独立于平台的计算引擎，在本机级别运行。使用它来加速需要大量计算能力的应用程序。

# c# - 使用类似于 WPF 的 GTK# 最好使用 i18N 的可能性是什么？

> ID：12363723
> 
> 赞同：0
> 
> 时间：2012-09-11T06:12:24.653
> 
> 标签：c#, wpf, internationalization, gtk, gtk#

使用 C# 编写的具有相同业务代码的应用程序应在 Windows (WPF) 和 Linux (GTK#, Mono) 下运行。
UI 将分别使用适用于 Windows 的 WPF 和适用于 Linux 的 GTK# 完成。
两种应用程序的用户语言在任何对话框中的操作期间都应可更改，并更新控件中的所有可翻译文本。
翻译后的文件应可用于这两个部分。WPF 的 i18n 在自己的库中实现，并为当前文化提供单例，其属性包含文本。这些属性用于 XAML 中的绑定。因此存在一个 PropertyChanged 事件，我们也希望在 GTK# 方面也有这个事件。我们还想在 Windows 上的 Monodevelop 中运行该应用程序以进行调试。如果语言可以更改/更改，则只打开一个对话框。

文本文件的编写方式如下：
<Namespace>.<Classname>.<Property> = 翻译文本。
对于每个翻译的控件/UI 项，代码不应扩展太多。
有哪些可能性？

是否有一个很好的链接来描述 i18n 与 GTK# for Windows 和 Linux？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T20:04:44.047

## XSLT 从 UI 定义文件 gui.stetic 生成代码（XAML 的选项）

我们实现了一个想法，效果很好。

GTK# 中的 GUI 定义在 XML 文件中`gtk-gui/gui.stetic`（WPF 有 XAML 文件）。这个想法是通过 XSLT 生成额外的代码文件。

额外生成的代码通过我们的 Translator 类支持 i18n。来自 Translator 的派生类提供属性，如果文化发生变化，这些属性会改变其值。

XML 文件中的每个可以翻译的文本`gtk-gui/gui.stetic`都很容易提取：

```
<?xml version="1.0" encoding="utf-8"?>
<stetic-interface>
  <!-- ... -->
  <widget class="Gtk.Bin" id="NameSpaceXy.MenuWidget" design-size="800 480">
    <!-- ... -->
    <child>
      <widget class="Gtk.VBox" id="MainVBox">
        <!-- ... -->
        <child>
          <widget class="Gtk.Button" id="CJKButton">
                <!-- ... -->
                <property name="Label" translatable="yes" context="yes" comments="commented">context hint|happiness=Ω
㗔㲀䃽䄈䄙䄜礽祉...祿福囍&lt;/property>
                <!-- ... -->
          </widget>
          <!-- ... -->
        </child>
        <!-- ... -->
      </widget>
    <!-- ... -->
 </widget>
 <widget class="Gtk.Button" id="ExitButton">
    <!-- ... -->
    <property name="Label" translatable="yes">Exit</property>
    <!-- ... -->
  </widget>
    <!-- ... -->
          <widget class="Gtk.Button" id="CJKButton">
            <!-- ... -->
            <property name="Label" translatable="yes" context="yes" comments="comment for translator">context hint for translator|happiness=㗔㲀䃽䄈䄙䄜礽祉...祿福囍&lt;/property>
            <!-- ... -->
          </widget>

    <!-- ... -->
      <widget class="Gtk.Image" id="KeyboardImage">
        <!-- ... -->
        <property name="Pixbuf">file:en-us-640x232.png</property>
        <!-- ... -->
      </widget>
    <!-- ... -->
</stetic-interface> 
```

在 GUI 设计器中，所有可以翻译的属性都将在 XML 文件中显示为一个 XML 节点，其名称`property`具有一个名为`translatable`value的属性`yes`。节点的内容是可以翻译的字符串。此外，每个这样的元素都可以用注释和翻译者的上下文提示来装饰——这两个字段可以在 UI 设计器中通过属性窗口进行编辑。（奇怪的是上下文提示以节点内容为前缀，由管道字符分隔。）

*   这样一个节点的父`property`节点总是一个`widget`节点
*   每个`widget`节点的属性中都包含 Widget 的名称和类型。
*   这种节点的父`widget`节点始终是一个`child`节点——除非它不是根节点的子节点。
*   每个`child`节点的父节点又是父`widget`节点。

因此，这个非常简单和智能的结构可以让我们找出哪个 Widget 实例的哪些属性是可翻译的，以及在哪里可以找到它的详细信息。

有了这些信息，我构建了预构建脚本和 XSL 文件：

1.  获取所有类的列表，这些类派生自`Gtk.Bin`, `Gtk.Window`（临时 xml 文件）

2.  从该列表创建一个批处理脚本文件

3.  执行创建的批处理脚本文件，该文件为列表中的每个类执行：

4.  生成的`XXXXXTranslation`类看起来像这样：

    ```
    namespace NameSpaceXy
    {

      public class EntryWidgetTranslation: TranslationTemplate
      {
        [Translation(@"default title")]
        public string TitleLabel_LabelProp { get; set; }
    //.. 
    ```

5.  为每个 Gtk Widget 类生成部分类，它包含一个方法，如下所示：

    ```
     namespace NameSpaceXy
     {
       public partial class EntryWidget: ITranslateMethod
       {
         public void Translate()
         {
           GtkUtility.SetLabel(TitleLabel, Translator.Translation<EntryWidgetTranslation>().TitleLabel_LabelProp);
           GtkUtility.SetImage(KeyboardImage, Translator.Translation<EntryWidgetTranslation>().KeyboardImage_Pixbuf);
           //..
       }
      }
    } 
    ```

6.  最后，这两个生成的代码文件（每个类，派生自`Gtk.Bin`// ... `Gtk.Window`）`Gtk.`必须插入到项目文件中——这是通过附加的 XSLT 完成的。

这行得通。

### 优点：

它的优点是可以自动提取翻译。每个新设计的 UI 类派生自 eg`Gtk.Window`或`Gtk.Bin`在每次构建时自动处理。这种类型的 i18n 可以适应带有适应 XSL 文件的 WPF。

### 坏处：

生成的方法`Translate()`必须在适当的情况下在 Gtk# 中调用，至少在显示元素的位置和更改语言/文化时（如果元素可见）。`Translate`（由于其绑定功能，WPF/XAML 将不需要该方法）。

### 译者

Translator 类是一个自己的公司内部实现，它为当前设置的文化提供正确的字符串 - 这里在内部读取该文化的 XML 文件。由于 Unicode 和添加换行符/多行字符串的优势，我们将语言文件更改为 XML 文件。它现在是一个序列化的 Dictionary 实例。

### 图片

我们还添加了依赖于文化的图片，可以`gui.stetic`使用这个部分 XPath 表达式从调用的 XML 文件中轻松提取这些图片`property[@name='Pixbuf'][../@class='Gtk.Image']`。

### 环境

我在 Windows 中运行 MonoDevelop 并`MsXsl.exe`在批处理脚本中使用，它可能也可以在 Linux 中与其他 XSLT 处理器一起运行。

# c - unsigned int 存储有符号值

> ID：12363724
> 
> 赞同：1
> 
> 时间：2012-09-11T06:12:30.320
> 
> 标签：c

来自无类型语言 (PHP) 我对 C 中的数据类型有点困惑。我面临以下奇怪的行为。

```
//First case
unsigned int a;
a = -1;
printf("a = %u", a); //Outputs a strange number, no problem here

//Second case
unsigned int a;
a = -1;
printf("a = %d", a); //Outputs -1 
```

我不明白的是，`a`在我们明确表示它之后，它是如何“包含”一个有符号值的`unsigned`？

如何仅在第二种情况下格式化输出呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T09:08:14.507

正如其他人已经说过的，您必须始终牢记值与其表示之间的区别，因为在 C 中这两个概念是分开的。

通过赋值，您可以将值放入特定的内存区域；使用 printf() 和类似的方法，您尝试解释这样的值。

为了澄清，请尝试理解这一点：

```
#include <stdio.h>

int main() {   
    int val = 2181448;;
    printf("%s\n", ((char*)&val));   // * Outputs: "HI!"
    return 0;
} 
```

这将打印“嗨！” 因为你在内存的一个连续区域（'int'在这里至少有4个字节宽）分配了数字“2181448”，它的十六进制是0x00214948，即：

*   一个值为 0x00 的字节，即 0
*   一个值为 0x21 的字节，即十进制的 33，即 '!' 在ASCII
*   一个 0x49 的字节，即十进制的 73，即 ascii 中的 'I'
*   最后是一个值为 0x48 的字节，它是十进制的 72，在 ascii 中是“H”。

如果您让 printf 将其解释为字符串（请注意，强制转换只是为了避免编译器警告）（*由于反向字节序）您会看到输出这样的数字作为 4 长度字符串以零结尾的 'H' 'I' '！ ' '\0'

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T06:18:55.823

因为这就是这样`printf`做的。它*不知道所*提供值的类型。因此，它将获取它找到的数据并将其`a`解释为有符号整数，因为您通过给它来告诉它这样做`%d`。

`printf`如果您为格式化代码输入了错误的值，或者完全忽略它们，也可能非常危险。您的程序将在没有任何消息的情况下崩溃。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-11T06:17:53.357

将`-1`被表示为`10000000 00000000 00000000 00000001`（如果`int`在我的情况下有 4 个字节）。当您使用 输出它时`%d`，将其`printf()`解释为*普通 int*，因此它将前导解释`1`为符号，并打印`-1`。如果将其输出为`%u`，`printf()`则知道它是无符号的，并将前导解释`1`为`2^32`，从而导致`4294967295`输出。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-11T06:22:21.047

编译器会将 -1 转换为系统的正确有符号数字格式，在 99.9% 的情况下，这将是二进制补码。在具有 32 位整数的二进制补码系统上，-1 将对应于 0xFFFFFFFF。但如果你将它存储在一个无符号变量中，你将得到 42.9 亿的值。

然后，您尝试使用为负数保留的 %d 格式说明符打印 42.9 亿。然后程序再次将 0xFFFFFFFF 解释为 -1。

总而言之，在二进制级别上没有负数这样的东西。根据您选择显示二进制的方式，您可以形成负数。尽管如此，它只是一个和零：你不能在计算机内存单元中保存一个减号。

# r - 在函数内创建文件夹

> ID：12363726
> 
> 赞同：3
> 
> 时间：2012-09-11T06:12:50.820
> 
> 标签：r, directory

所以我想使用 R 自动为我正在分析的数据集创建一个文件夹。由于懒惰，正在编写一个函数来创建此文件夹，分析数据并将结果存储到该文件夹​​中，以便以后查看。

现在，如果我尝试使用库（robustbase）中的飞机数据：

```
setwd("C:/Users/Admin/Desktop/")
analysis<-function(dataset,other_bit_and_pieces){
paste("dir.create(",dataset,")",sep="")
}

analysis(aircraft) 
```

我收到一条错误消息，指出`aircraft`不存在，或者（如果我加载库），它会吐出`"dir.create(c( all the data from aircraft))"`

我应该如何编写，以便每次更改数据集时都会使用数据集名称创建一个新文件夹？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T07:11:34.263

通用的 R 习惯用法是`deparse(substitute(....))`.

```
analysis <- function(object, create = FALSE){
  dirname <- deparse(substitute(object))
  if(create) {
      dir.create(dirname)
  }
  dirname
}

> mydata <- data.frame(x=1:10)
> analysis(mydata)
[1] "mydata" 
```

请注意，我将函数更改为不自动创建目录，以防人们正在测试并且这会破坏现有目录。为了显示它正在工作，我让它返回`dirname`. 在实践中，您将不再需要任何东西`if()`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T06:29:20.530

据我所知，以下内容将起作用

```
mydata <- data.frame(x=1:10)

analysis <- function(object){
  dir.create(as.character(as.list(match.call())[2]))
}

analysis(mydata)
# will create a directory 'mydata' as a subdirectory of the current working directory. 
```

看看`?match.call`这是如何工作的！

# android - 想在真机上看logcat

> ID：12363729
> 
> 赞同：2
> 
> 时间：2012-09-11T06:13:20.007
> 
> 标签：android, android-emulator

我的应用程序在模拟器上运行良好，没有任何`logcat`错误，但它突然出现`crashed`在真正的 android 设备上。所以我想在真正的安卓平板电脑上看到 logcat。我也失去了我的`usb connector`所以请告诉我一些事情，以便我可以`logcat`在 android 平板电脑上查看。请给我一些想法。提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-11T06:15:01.070

在您的手机中安装 logcat 应用程序[单击此处以获取 android 市场中的应用程序](https://play.google.com/store/apps/details?id=org.jtb.alogcat&feature=search_result#?t=W251bGwsMSwxLDEsIm9yZy5qdGIuYWxvZ2NhdCJd)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-02T10:16:58.710

转到[此处](https://play.google.com/store/apps/details?id=org.jtb.alogcat&feature=search_result)并在您的设备上安装此应用程序。它会非常好用，您可以在手机上看到您的 logcat 错误，而无需连接到您的电脑！

# html - HTML5：点击进度条

> ID：12363737
> 
> 赞同：0
> 
> 时间：2012-09-11T06:13:48.583
> 
> 标签：html, progress-bar

我有一个包含可点击内容的 html 文件

```
<tr onclick="callfn('Afile.jsp?param1=<%= value1%>');" id="contenttr"> 
```

其中 callfn 是加载图像的 javascript 文件中的函数。由于此功能需要时间，因此我必须在加载过程中显示进度条。

我可以添加进度条标签吗？如果是这样，我该怎么做？

帮助！！:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T07:07:57.733

也许这不是您需要的 100%，但我已经创建了一个简单的拖放功能实验以满足我的个人需求。因为这个过程涉及到我在我的网站上发布的大量代码编写。您可以在此处查看源代码并根据您的要求进行调整：http: [//hellopixel.net/experiments/javascript/drag-drop/](http://hellopixel.net/experiments/javascript/drag-drop/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T06:08:11.270

我无法使用进度元素，所以最终使用 gif 图像来显示进度条

[http://ajaxload.info/](http://ajaxload.info/) 帮助我获得了一个好的 gif 图像

# javascript - Touchstart 事件未在 iframe iOS 6 内触发

> ID：12363742
> 
> 赞同：1
> 
> 时间：2012-09-11T06:14:12.297
> 
> 标签：javascript, dom, ios6

我在 IOS 6 中选择文本时遇到问题。在 iOS 6 中，*touchstart*事件没有在 iframe 内触发。在 iOS 5 上，这工作正常。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-18T17:15:11.630

我也有同样的问题，但只在我的一些 iframe 中。为什么只有其中一些，我不知道。

但是我设法通过在包含 iframe 的文档的上下文中显式地在 touchstart 事件上设置一个事件侦听器来使所有事件一致地触发。

因此，为包含 iframe 的文档添加以下代码是我的解决方法。

```
function dummy() {
    // console.log("A bug? Where?");
}

addEventListener("touchstart", dummy, false); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-02T01:16:03.417

我还没有看到这个问题 - touchstart 事件在 iframe 内对我来说触发得很好。我希望你在完成你的 touchstart 事件试图做的任何事情之前得到一个异常。尝试在 iframe 中放置一个警报，或者在 touchstart 处理程序的主体周围放置一个 try catch 块，然后提醒异常是什么。

# gcc - GCC 对 C++/CLI 的支持

> ID：12363745
> 
> 赞同：0
> 
> 时间：2012-09-11T06:14:33.207
> 
> 标签：gcc, mono, c++-cli

有人知道，是否有任何计划或工作将 ECMA 标准化 C++/CLI 语言支持添加到 GCC（会发出 IL 代码）？

这个问题在 SOF（Does [Mono .NET support and compile C++ / CLI?](https://stackoverflow.com/questions/183377/does-mono-net-support-and-compile-c-cli) '我对这个主题的新信息很感兴趣。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:24:25.233

我个人知道没有这样的工作（而且我认为大多数 ECMA 标准在 OOXML 崩溃之后与“stubber ramp”押韵），但是，[GCC 指导委员会可能是](http://gcc.gnu.org/steering.html)[在他们的邮件列表](http://gcc.gnu.org/ml/gcc/)中询问的最佳人选。该特定邮件列表在其描述中包括：

> 所有重大决定和更改，例如放弃端口或前端，都应在此处公布和讨论。

所以我会收集关于即将推出的新前端的问题也将被允许。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T07:41:33.850

已经有针对 GCC 的 CLI 前端和后端的工作：http: [//gcc.gnu.org/projects/cli.html](http://gcc.gnu.org/projects/cli.html) - 但它看起来已经死了（2009 年的最新消息）。

# lisp - SICP 2.42 八皇后。帮助检查我的代码有什么问题？

> ID：12363746
> 
> 赞同：-1
> 
> 时间：2012-09-11T06:14:47.227
> 
> 标签：lisp, scheme, sicp, mit-scheme

该程序将生成八个皇后的所有可能结果。我使用包含行号的列表作为数据结构。但是当我运行它时，我得到了错误的结果。这是我的代码：

```
(define (queens board-size)
  (define (safe? k position)
    (define (iter last-element front-lst col-num k)
      (define (ok? l-e car-lst)
    (and (not (= l-e car-lst))
         (not (= (abs (- l-e car-lst)) (abs (- k col-num))))))
      (if (null? front-lst)
      true
      (and (ok? last-element (car front-lst))
           (iter last-element (cdr front-lst) (++ col-num) k))))
    (let ((l-e (car (my-reverse position)))
      (f-l (my-remove (car (my-reverse position)) position)))
      (iter l-e f-l 1 k)))

  (define empty-board nil)

  (define (adjoin-position new-row k rest-of-queens)
    (append rest-of-queens (list new-row)))

  (define (queen-cols k)
    (if (= k 0)
    (list empty-board)
    (filter
     (lambda (positions) (safe? k positions))
     (my-flatmap
      (lambda (rest-of-queens)
        (map (lambda (new-row)
           (adjoin-position new-row k rest-of-queens))
         (enumerate-interval 1 board-size)))
      (queen-cols (-- k))))))
  (queen-cols board-size)) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T09:52:51.877

我怀疑你的方法太复杂了。你需要做的是：

为下一个皇后找到一个符合两个条件的新行号：1）它尚未包含 2）新行号与任何已使用的行号之间的距离不等于两行的距离。

递归执行此操作。

我的 CL 解决方案供参考：

```
(defun fits (p list)
  (and (not (member p list))
       (loop for i in list as j from 1
            never (eql (abs (- p i)) j))))

(defun backtrack (list)
  (if (eql (length list) 8)
      (print list)
      (loop for i from 1 to 8
         when (fits i list)
           do (backtrack (cons i list))))) 
```

运行

```
(backtrack nil) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-12T17:25:15.937

我今天刚刚在 SICP 中完成了这个问题，所以我会尝试在这里提供帮助：

我用这个 my-remove 测试了你的代码：

```
(define (my-remove num num-list)
    (cond   ((null? num-list) nil)
            ((= num (car num-list)) (cdr num-list))
            (else (cons (car num-list) (my-remove num (cdr num-list)))))) 
```

测试：

```
(let ((result (queens 8)))
(display (length result))(newline)
(map (lambda (possible-solution) (display possible-solution)(newline)) result)
) 
```

返回 92 。. (3 7 2 8 5 1 4 6) (3 7 2 8 6 4 1 5)。.

92个结果，其中一个是书中的解决方案

这是您的代码的一部分（稍微）重构，我摆脱了 my-remove，并使用了 let*。我不打算重构整个事情，但我至少尝试在变量名中添加含义。有了这些变化，速度更快了：（还添加了一些评论）

```
;no major refactoring, essentially removed my-remove and some refactors
(define (queens board-size)
  (define (safe? k position)
    (define (iter last-element front-lst col-num k)
        ;what's ok?
      (define (ok? l-e car-lst)
            (and (not (= l-e car-lst))
                (not (= (abs (- l-e car-lst)) (abs (- k col-num))))))
      (if (null? front-lst)
      true
      (and (ok? last-element (car front-lst))
           (iter last-element (cdr front-lst) (++ col-num) k))))
    ;queens means a list of rows, each representing a queen position
    ;that is, when queens[col] = row  that means there's a queen in row 'row and 
    ;column 'col

    ;reimplementing removing the queen, and the let turned to let*
    (let* ((reverse-column-queens (my-reverse position))
           (last-queen (car reverse-column-queens))
        ;remove that queen from the list
        ;btw 'position is actually 'positions
        (all-other-queens (my-reverse (cdr reverse-column-queens))))
      (iter last-queen all-other-queens 1 k)))
.
.
. 
```

所以，我猜你使用的 my-remove 可能是错误的。

现在，您的变量名称不是很具有描述性，因此它会添加到已经令人困惑的代码中（无意冒犯本练习的作者或您）。

# asp.net - IIS 7.5 默认网站目录被意外删除

> ID：12363747
> 
> 赞同：1
> 
> 时间：2012-09-11T06:14:47.713
> 
> 标签：asp.net, .net, iis

我删除了 IIS 7.5 中的“默认网站”主目录。所以我丢失了本地主机在线 ASP.NET Web 应用程序，当我尝试重新发布时，在“inetpub”目录中看不到“wwwroot”。我现在必须做什么？我必须重新安装IIS，如果是这样，我如何重新安装它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-04-08T14:51:31.867

我回答这个问题有点晚了，但我遇到了这种情况。解决方案是创建已删除的空目录。开始运行 Visual Studio 后，VS 将填充目录中的所有文件。

# ios - 创建日历应用程序：时间存储和表示

> ID：12363749
> 
> 赞同：1
> 
> 时间：2012-09-11T06:14:50.520
> 
> 标签：ios, calendar, nsdate, gregorian-calendar

我一直在为 iOS 开发一个日历应用程序，这让我遇到了很多问题。

我正在使用本地通知进行提醒。存储事件日期、警报日期或其他内容的最佳方式是什么？我的意思是，问题是由时区差异等引起的。我将事件存储在核心数据中。我一直在使用 NSDate 进行日期存储，但我不确定这是在日历视图中查询和表示事件的好方法。由于时区的原因，事件出现在错误的日期（例如距真实日期的前 1 天）。

另外，是否有我可以查看的教程或开源项目？我没有遇到任何全面的东西，只有关于如何使用tapku 日历视图的小教程。

**编辑：**我不是在问关于日历视图的问题。我在询问日历应用程序的基础架构。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T07:11:56.853

您应该使用 NSDate 存储，并使用 NSDateComponents 呈现。

> 由于时区的原因，事件出现在错误的日期（例如距真实日期的前 1 天）。

This happens because NSDate is an absolute point in time. You need to do the proper conversions to display based on the users locale. The NSDateComponents (along with NSCalendar) will take care of this.

[The Date and Time Programming Guide](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/DatesAndTimes/DatesAndTimes.html#//apple_ref/doc/uid/10000039i) will tell you all that you need to know, but the first paragraph sets the tone:

> There are three main classes used for working with dates and times.
> 
> *   NSDate allows you to represent an absolute point in time.
> *   NSCalendar allows you to represent a particular calendar, such as a Gregorian or Hebrew calendar. It provides the interface for most date-based calculations and allows you to convert between NSDate objects and NSDateComponents objects.
> *   NSDateComponents allows you to represent the components of a particular date, such as hour, minute, day, year, and so on.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T06:26:00.673

您可以参考/使用 Github 上提供的以下框架

1.  [塔库图书馆](https://github.com/devinross/tapkulibrary)
2.  [卡尔](https://github.com/klazuka/Kal)
3.  带有配置[教程的](http://www.componentix.com/blog/22)[ios 日历](https://github.com/vgrichina/ios-calendar)。
4.  [GCC日历](http://github.com/guicocoa/calendar)

让您的日历应用程序正常工作。

希望这可以帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:59:44.010

我认为您可以存储日期的时间戳值

[[NSDate 日期] timeIntervalSince1970];

而且我不明白为什么当您存储为 NSDate 值时会出错。还有更多相关信息吗？

# android - ext未定义错误

> ID：12363750
> 
> 赞同：2
> 
> 时间：2012-09-11T06:14:52.327
> 
> 标签：android, cordova, sencha-touch, extjs, sencha-touch-2

我正在使用 Eclipse、PhoneGap 和 Sencha Touch 创建一个 Android 应用程序来处理`assets\www`文件

但是，当我尝试运行应用程序时，我从 logcat 收到此错误：

```
09-11 14:11:01.019: E/Web Console(4700): Uncaught ReferenceError: Ext is not defined at file:///android_asset/www/app.js:16 
```

虽然我已经放置：

*   资产\www\sencha-touch.js
*   资产\www\sencha-touch.css

我从我的*sencha-touch-2.0.1.1*文件夹中复制

我还需要在`assets\www`文件夹中放置哪些其他东西？

这真的很奇怪，因为当我从桌面运行 Sencha Touch 应用程序时，移动应用程序在 Google Chrome 和 Firefox 上运行良好，所以我不确定发生了什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T09:14:02.690

这是 SDK 期望包含完整的 JS、CSS 和 HTML 文件集的默认文件夹。

您还需要将 phonegap.js 保留在 www 文件夹中还尝试从 Sencha-touch-2.0.1.1 文件夹和 sencha-touch-debug.js 复制资源（不是必需的）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T10:17:21.107

你是否在 index.html 文件中添加了 senchatouch.js 和 senchatouch.css 的文件路径。如果没有在 index.html 1 中添加以下行。"<"link rel="stylesheet" href="sencha-touch.css " type="text/css"">" 2."<"link rel="stylesheet" href="sencha-touch.css" type="text/css"">"

# php - 用于动态附加 div 的 Jqueryui 滑块

> ID：12363756
> 
> 赞同：1
> 
> 时间：2012-09-11T06:15:09.537
> 
> 标签：php, jquery-ui, jquery, uislider

我有一组带有分页的数据的滑块，问题是包含滑块的 div 是通过 ajax 从 ajax 请求加载的。所以它不工作。

分页功能：

```
function loadData(page){
                    loading_show();
                    confID = $("#confID").val();
                    verID = $("#confID").attr("v");
                    $.ajax
                    ({
                        type: "POST",
                        url: "paging-offlineTemp.php",
                        data: {page:page, confID: confID, verID:verID},
                        success: function(msg)
                        {
                                loading_hide();
                                $("#container").html(msg);
                                resize_iframe();
                                $(".slider").each(function(){
                                    $(this).slider({ animate: true,
                                        value: parseInt($(this).attr("preRate")),
                                        min: 0,
                                        max: 5,
                                        step: 1
                                    });
                                    if($(this).attr("preRate") == -1) {
                                        $(this).slider({ disabled: true }); 
                                        td = $(this).parent("td");
                                        tr = $(td).parent("tr");
                                        box= $(tr).find(":checkbox");
                                        $(box).attr("checked",true);

                                    }   
                                });
                        }
                    });
                } 
```

pageing-offlineTemp.php 太长但它只是通过限制选择下一组数据

控制滑块的功能：

```
$(".slider").each(function(){
                    $(this).slider({ animate: true,
                        value: parseInt($(this).attr("preRate")),
                        min: 0,
                        max: 5,
                        step: 1,
                        change: function( event, ui ) {
                            $(this).attr("rate", ui.value);
                            rate = $(this).attr("rate");
                            confID = $(this).attr("confID");
                            critID = $(this).attr("criteria");
                            paperID = $(this).attr("paperID");
                            label = $(this).parent("td").find("label");
                            $(label).html("New rate: "+ rate);
                            td = $(this).parent("td");
                            tr = $(td).parent("tr");
                            span = $(tr).find("span");
                            $(span).fadeIn("slow");
                            $.ajax ({
                                data:{rate:rate, confID:confID, critID:critID, paperID:paperID},
                                type: 'POST',
                                url:  'update_rate.php',
                                success: function(response) {
                                    //alert(response)
                                    $(span).delay(500).fadeOut('slow');
                                }
                            });
                        } 
                    }); 
```

滑块 div：

```
<div type="" paperID="'. $paper .'" preRate="'. intval($irate) .'"
                                 criteria="'.$row['rate_id'].'" confID="'.$conf_id.'" rate="" class="slider">
                    </div> 
```

我猜是滑块功能不会触发，因为最初分页容器 div 是空的，并且没有带有类滑块的元素，那么有没有办法在滑块事件触发时保持分页？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:49:32.660

简短的回答：将您的移动`$('.slider').each(`到成功回调中`ajax function`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:26:48.110

使ajax调用同步是一种解决方案，或者在成功回调函数中调用滑块函数也可以

# reflection - 是否可以将反射（使用立方体贴图）与 Three.js 上的材质结合起来？

> ID：12363759
> 
> 赞同：1
> 
> 时间：2012-09-11T06:15:31.080
> 
> 标签：reflection, three.js, textures, opacity

如果我在 three.js 中有一个应用了纹理（彩色纹理）的对象，例如汽车 - 我如何向表面添加部分反射，以便最终的材质可以说是闪亮的红色金属和场景的反射？

我熟悉使用额外的相机和立方体贴图来创建反射，但我不确定如何将其与对象现有材质相结合。

我使用的反射方法的一个例子可以在这里找到：

[https://github.com/mrdoob/three.js/commit/4d1dd95d62ff48b1842bf4e3fe0c393f5bd6f4d6#commitcomment-1832509](https://github.com/mrdoob/three.js/commit/4d1dd95d62ff48b1842bf4e3fe0c393f5bd6f4d6#commitcomment-1832509)

如果可以组合材料，是否可以控制每个部分的不透明度（原始材料与反射）来控制表面的“反射”程度？

非常感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T15:00:11.160

是的，但控制表面反射程度的是 ，而`reflectivity`不是。`opacity`

见这个例子： http: [//mrdoob.github.com/three.js/examples/webgl_materials_cubemap.html](http://mrdoob.github.com/three.js/examples/webgl_materials_cubemap.html)

编辑：此示例未显示应用于材质的纹理，但在上面的示例中，可以像这样添加：

```
var texture = THREE.ImageUtils.loadTexture( 'texture.jpg' );

var cubeMaterial1 = new THREE.MeshLambertMaterial( {
    color: 0xffffff,
    ambient: 0xffffff,
    map: texture,
    envMap: reflectionCube
} ); 
```

（旁注，`cubeMaterial1`在示例中是应用于网格的材料——尽管变量名称的选择不寻常。）

# silverlight - 包括总计数在 RIA 中不起作用

> ID：12363762
> 
> 赞同：0
> 
> 时间：2012-09-11T06:15:48.883
> 
> 标签：silverlight, datagrid, wcf-ria-services, collectionview

我尝试获取 DomainCollectionView，但总计数不包括在查询中：

```
 public DomainCollectionView<sys_log> collView
    {
        get { return (DomainCollectionView<sys_log>)this.GetValue(collViewProperty); }
        set
        {
            this.SetValue(collViewProperty, value);
        }
    }

    public static DependencyProperty collViewProperty = DependencyProperty.Register(
      "collView", typeof(DomainCollectionView<sys_log>), typeof(Journal), new PropertyMetadata(null));

    this._source = this.maindatacontext.sys_logs;
    this._loader = new DomainCollectionViewLoader<sys_log>(this.LoadEntities, this.mdcloaded);
    this._view = new DomainCollectionView<sys_log>(this._loader, this._source);

    private LoadOperation<sys_log> LoadEntities()
    {
        EntityQuery<sys_log> temp = mdc.GetSys_logQuery().OrderBy(order => order.Id).Where(c => c.date > DateFrom.SelectedDate.Value && c.date < DateTo.SelectedDate.Value.AddDays(1).AddTicks(-1)).SortAndPageBy(this._view);
        temp.IncludeTotalCount = true;
        return mdc.Load(temp);
    }

    void mdcloaded(LoadOperation<Web.sys_log> t)
    {
            this.collView = _view;
            //but this _view.TotalItemCount = -1
            dataGrid1.UpdateLayout();
    } 
```

dataGrid1 有 ItemSource = collView。如何设置 TotalItemCount 或将其包含在查询中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T07:46:36.167

您需要覆盖 DomainService 的[Count](http://msdn.microsoft.com/en-us/library/ff422050%28v=vs.91%29)方法以获取查询实体的总数。

```
public class MyDomainService : DomainService{
   protected override int Count<T>(IQueryable<T> query) {
        return query.Count();
   }   
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T07:47:34.020

我认为它不起作用，因为您设置了与查询相关的 mdc 的 IncludeTotalCount。

但是您查看类型为 DomainCollectionView < T > 的依赖属性。

DomainCollectionView 是否由您实现？Silverlight 只需提供 ICollectionView afaik。如果您实施了 DomainCollectionView 检查它。或者只是尝试使用 collView 的 Count 属性。它可能与 ICollectionView 的实现有关。

```
 var qe=dSrvGD.GetGD_COUNTRYQuery();
            qe.IncludeTotalCount = true;
            dSrvGD.Load(qe).Completed += (s, e) =>
                {
                    if ((s as LoadOperation).TotalEntityCount<=0)
                    { 
                        //ASK WHY empty :)
                    }
                }
                ; 
```

上面使用的 TotalEntityCount 的描述在这里，

```
 //
    // Summary:
    //     Gets the total server entity count for the query used by this operation.
    //     Automatic evaluation of the total server entity count requires the property
    //     System.ServiceModel.DomainServices.Client.EntityQuery.IncludeTotalCount on
    //     the query for the load operation to be set to true. 
```

I asked a similar question before [WCF returned TotalCount -1 but there are Entities, How?](https://stackoverflow.com/q/10834160/413032)

Hope helps

# jquery - Peculiar behaviour in play 1.2.4 while using Bootstrap javascript files

> ID：12363764
> 
> 赞同：0
> 
> 时间：2012-09-11T06:15:58.837
> 
> 标签：jquery, playframework, twitter-bootstrap, playframework-1.x

I am using three javascript files: `bootstrap.js`,`jquery.js`,`bootstrap-dropdown.js`.I have implemented a header in every html page in my project that has a dropdown and in one html page I have implemented a modal class. Now whenever I import `bootstrap.js` before `jquery.js` the dropdown works but the modal class doesn't and when I do the reverse the modal works but the dropdown does not.

The list of js files in sequence i have used:

```
<script src="@{'/public/javascripts/bootstrap.js'}" type="text/javascript" charset="${_response_encoding}"></script>
<script src="@{'/public/javascripts/jquery.js'}" type="text/javascript" charset="${_response_encoding}"></script>

<script src="@{'/public/javascripts/sessvars.js'}" type="text/javascript" charset="${_response_encoding}"></script>

<script src="@{'/public/javascripts/jquery-ui-1.7.2.custom.min.js'}" type="text/javascript" charset="${_response_encoding}"></script>
<script src="@{'/public/javascripts/sessvars.js'}" type="text/javascript" charset="${_response_encoding}"></script>
<script src="@{'/public/javascripts/bootstrap-dropdown.js'}" type="text/javascript" charset="${_response_encoding}"></script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T08:36:07.577

bootstrap 依赖 jquery，所以需要在 bootstrap 之前声明 jquery 脚本

下拉代码通常包含在 bootstrap.js 中，因此您不需要两个声明。

如果仍有问题，请打开浏览器错误控制台以查看问题所在

# ruby-on-rails - Ruby on Rails 3 中的 attr_accessible 及其安全隐患

> ID：12363774
> 
> 赞同：2
> 
> 时间：2012-09-11T06:16:31.440
> 
> 标签：ruby-on-rails

我最近陷入了**困境**，在我想用`parent_id`.

为了解决这个问题，每个人都建议将关联的外键添加到`attr_accessbile`列表中。

我可以通过这样做来解决它，但不确定引擎盖下会发生什么。将其列入白名单是否`foreign_key`会带来安全问题？

让我们考虑以下模型场景：

```
class BusinessType < ActiveRecord ::Base
      has_one :business_form
      validates :name, :presence => true
      attr_accesible :name, :enabled  
end

class BusinessForm < ActiveRecord ::Base
      belongs_to :business_type
      validates :name, :presence => true
      validates_associated :business_type, :presence=>true
      attr_accessible :name, :enabled
end 
```

在上述情况下，每当我尝试保存`business_form`没有`business_type_id`在`attr_accessible`列表中时，我都会得到质量分配错误。`business_type`当我将它添加到白名单时，即使选择框为空并且提交了表单，我也没有收到任何错误消息。

我要求任何人在这方面的铁轨上有所了解。请指出任何可以详细解释的链接。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T06:58:55.803

是的，这会带来安全问题。假设有人能够向您的 BusinessFormController#create 发帖，并且他们将“business_type_id”作为帖子的一部分传递。如果您的控制器只是通过执行以下操作来创建记录：

```
def create
  BusinessForm.create(params[:business_form])
end 
```

然后它允许用户为该表单指定任何业务类型。我不知道您的网站是如何工作的，但这可能是个问题，因为某些用户可能被允许创建某些类型的表单。将外键添加到 attr_accessible 的主要问题是它允许黑客（任何了解 Web 编程的人）将这个新创建的记录与任何外键对象相关联。如果在这种情况下你不在乎或者它没有受到限制，那么它可能并不重要。

如果您仍然想遵循人们告诉您的内容，为什么不保留 attr_accessible 没有“business_type_id”，而是像这样编写您的操作：

```
def create
  bf = BusinessForm.new({:business_type_id => params[:business_form][:business_type_id]})
  bf.attributes=(params[:business_form].except(:business_type_id))
  bf.create
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T13:01:14.207

Attr_accessible 非常简单。除非该字段被 attr_accessible 列入白名单，否则您无法分配从 Web 表单发送的值。

至于批量分配给外键的安全隐患，您需要考虑以下场景：

1.  **可以将外键设置为任何可能的值。**大规模分配没有安全威胁。

2.  **外键必须是特定数量的可接受值之一。**在这种情况下，使用过滤器来确保从表单传递的值是可接受的，如果不是，则拒绝它。

3.  **外键将始终是可预测的值。**在这种情况下，不允许批量分配并使用代码分配外键。

# java - 如何在 Eclipse 中将 emma 覆盖率导出到 HTML？

> ID：12363778
> 
> 赞同：6
> 
> 时间：2012-09-11T06:17:03.640
> 
> 标签：java, eclipse, emma, eclipse-juno

我正在使用 Eclipse Juno，我想获得 Emma 代码覆盖率。现在我在 Eclipse 的覆盖窗口中得到了覆盖。但是，如果我想要 HTML 格式的完整覆盖，我应该怎么做。以前，当我使用 indigo 时，我有一个名为将覆盖范围导出到 HTML 的选项。现在我在这里看不到这样的选择。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T06:20:43.840

在覆盖视图中，运行覆盖会话后，我可以右键单击该项目，并且有一个“导出会话...”选项。这给了我一个导出为 HTML 报告的对话框。

*   EclEmma 功能 (2.1.4.201208011137)
*   Eclipse（版本：Juno Release，内部版本号：20120614-1722）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-02-26T13:36:52.423

[如此处](https://stackoverflow.com/questions/21972099/eclemma-not-offering-report-exportation-option)所述

1.  右键单击，然后选择“导出会话”。
2.  键入“report”，您可以找到“coverage report”选项。
3.  点击下一步”
4.  您可以获得导出报告面板，您可以在其中选择报告类型

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T06:20:31.437

我相信你可以用 maven emma 插件做到这一点：

```
http://emma.sourceforge.net/maven-emma-plugin/ 
```

*如果您不熟悉 Maven……这可能不是最简单的解决方案，但据我所知绝对是相当“标准”的。:)

# c# - 如果发生更新，则重复行

> ID：12363780
> 
> 赞同：0
> 
> 时间：2012-09-11T06:17:14.297
> 
> 标签：c#, hibernate, nhibernate

我有以下触发器：

```
 INSERT INTO [BUCHUNG] (BOOKUID, BOOKVERNR, BUCHUNGSART_ID, VERANSTALTER, PERSONAL_ID,
    OPTIONSNUMMER, BUCHUNGSSTATUS, PERSONENZAHL, SERIE, THEMA, STORNO, UPDATE_DATE, UPDATE_USER, BEMERKUNG, V_EMAIL, V_TELEFON,
    KOSTENSTELLE, SERIENBOOKUID, THEMA_ENABLED, ABTEILUNG, LIEFERRAUM, PERSONENZAHLEXTERN, ABRECHNUNG, KSTR, RECHKONTO, RECHKST, RECHDST, URSPRUNG_ORIGINAL, ORIGINAL_ID)

    SELECT i.BOOKUID, '0', i.BUCHUNGSART_ID, i.VERANSTALTER, i.PERSONAL_ID,
    i.OPTIONSNUMMER, i.BUCHUNGSSTATUS, i.PERSONENZAHL, i.SERIE, i.THEMA, i.STORNO, GETDATE(), i.UPDATE_USER, i.BEMERKUNG, i.V_EMAIL, i.V_TELEFON,
    i.KOSTENSTELLE, i.SERIENBOOKUID, i.THEMA_ENABLED, i.ABTEILUNG, i.LIEFERRAUM, i.PERSONENZAHLEXTERN, i.ABRECHNUNG, i.KSTR, i.RECHKONTO, i.RECHKST, i.RECHDST, i.URSPRUNG_ORIGINAL,
    i.ORIGINAL_ID

    FROM INSERTED i
    JOIN DELETED d ON i.ID = d.ID
    WHERE i.BOOKVERNR <> d.BOOKVERNR 
```

如果 BOOKVERNR 发生更新，则触发器会使用新 ID 复制整个行。我的问题是我怎么能在休眠状态下做到这一点？我不想使用数据库触发器。我想直接在 C# 中使用 hibernate 执行此操作。那可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T08:10:58.803

看看 NHibernate 的事件系统，或者可能是旧的 IInterceptor 概念： [http ://nhibernate.info/doc/nh/en/index.html#events](http://nhibernate.info/doc/nh/en/index.html#events)

使用合适的事件处理程序，您应该能够检测到何时将发生更新，并在这种情况下插入包含旧信息的行。

# c++ - 在 C++ 中对文本文件中的整数进行排序

> ID：12363782
> 
> 赞同：1
> 
> 时间：2012-09-11T06:17:43.203
> 
> 标签：c++, sorting

对，所以我已经设法让我的程序连接我的两个文本文件，我现在需要对创建的文本文件进行排序，以便它们按数字顺序显示。例如说 Test1.txt 包含数字 1,2,3,4,5，Test2 包含数字 4,5,6,8，myoutput.txt 应该有 1,2,3,4,4,5,5， 6,8。我对排序算法不是很熟悉。我猜我必须读取输出文件，对它们进行排序并再次写入输出文件。

这是我当前的代码：

```
#include <iostream>
#include <fstream>
#include <ostream>

using namespace std;

int main()
{
    //collecting integers from first text file//
   ifstream file1("test1.txt", ios::in | ios::binary);
   if(!file1)
   {
      cout << "Cannot open input test file 1.\n";
      return 1;
   }

   // collecting integers from second text file//
   ifstream file2("test2.txt", ios::in | ios::binary);
   if(!file2)
   {
      cout << "Cannot open input test file 2.\n";
      return 1;
   }

   //outputting the concactonated file to myoutput.txt//

   ofstream cout("myoutput.txt", ios::out | ios::binary);

   if(!cout)
   {
      cout << "can't open output file ";
      return 1;
   }

   cout << file1.rdbuf();
   cout << " " << flush;
   cout << file2.rdbuf();

   ifstream sortfile("myoutput.txt, )

   return 0;
} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-11T06:20:29.753

将单个数字读入整数，将它们推入[std::vector](http://en.cppreference.com/w/cpp/container/vector)，然后使用[std::sort](http://en.cppreference.com/w/cpp/algorithm/sort)对它们进行排序，然后将它们写入输出文件。这些步骤中的每一个都是微不足道的，并且已包含在许多 SO 问题中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-11T06:21:24.837

您应该使用合并排序来对此类文件中的排序数组进行排序。看看这个[http://www.personal.kent.edu/~rmuhamma/Algorithms/MyAlgorithms/Sorting/mergeSort.htm](http://www.personal.kent.edu/~rmuhamma/Algorithms/MyAlgorithms/Sorting/mergeSort.htm)上的合并排序算法。以及此 [http://www.c.happycodings.com/Beginners_Lab_Assignments/code27.html上的示例源代码](http://www.c.happycodings.com/Beginners_Lab_Assignments/code27.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T07:09:24.417

我认为在这种情况下使用合并排序更好。从两个文件中读取一个数字比较它们并将最小的插入输出文件。通过这种方法，我认为时间复杂度会更低。

# android - 有多少活动与片段？

> ID：12363790
> 
> 赞同：188
> 
> 时间：2012-09-11T06:18:29.410
> 
> 标签：android, android-fragments, android-listfragment

## 介绍：

基本的“片段教程”模式是这样的：

1.  在平板电脑上，左侧有列表，右侧有详细信息。
2.  两者都是 `Fragments`并且都驻留在同一个`Activity`.
3.  在手机上，将列表`Fragment`合二为一`Activity`。
4.  启动一个新`Activity`的细节`Fragment`。

（例如[Dianne Hackborn](http://android-developers.blogspot.com/2011/02/android-30-fragments-api.html)的 Android 3.0 Fragments API 和[Fragments API Guide](http://developer.android.com/guide/components/fragments.html)）

在这两种设备上，功能都在`Fragments`. （简单的）

在**平板**上，整个app是**1`Activity`**，在**手机**上，有**很多`Activities`**。

* * *

## 问题：

*   **是否有理由将电话应用程序拆分为多个`Activities`？**

这种方法的一个*问题*是，您在主 Tablet和单独的 Phone 中*复制了很多逻辑*。`Activity``Activities`

*   **`Fragments`在这两种情况下保留 1 Activity 模型，使用相同的切换进出逻辑（只是使用不同的布局）会不会更容易？**

这样，大部分逻辑都存在于`Fragments`它们自身中，并且只有一个`Activity`更少的代码重复。

另外，我所读到的`ActionBarSherlock`是，它似乎最适合使用`Fragments`而不是`Activities`（但我还没有使用它）。

**教程是否过于简单，或者我错过了这种方法的主要内容？**

* * *

我们已经在办公室成功地尝试了这两种方法——但我即将开始一个更大的项目，并且想让事情对自己来说尽可能简单。

一些相关问题的链接：

*   [困境：何时使用片段与活动：](https://stackoverflow.com/questions/20306091/dilemma-when-to-use-fragments-vs-activities)
*   [何时使用活动转换与动态片段的模式](https://stackoverflow.com/questions/7718242/patterns-when-to-use-activity-transition-vs-dynamic-fragments)
*   [Android - 我需要对片段与活动和视图进行一些说明](https://stackoverflow.com/questions/10478233/android-need-some-clarifications-of-fragments-vs-activities-and-views)
*   [Android中的活动或片段？](https://stackoverflow.com/questions/11794784/activities-or-fragments-in-android)
*   [多片段和活动交互设计](https://stackoverflow.com/questions/11701208/multiple-fragments-and-activities-interaction-design)
*   [那么 Android 3.0 中 Fragments 的确切优势是什么？](https://stackoverflow.com/questions/5695408/so-what-are-the-exact-advantages-of-fragments-in-android-3-0)

* * *

## 更新

在问题上开始赏金 - 仍然不相信为什么我需要在我的平板电脑活动和每个手机活动中复制我的应用程序逻辑。

还发现了 Square 的人写的一篇有趣的文章，非常值得一读：

*   [反对 Android 碎片](http://corner.squareup.com/2014/10/advocating-against-android-fragments.html)

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-09-21T10:06:46.277

我同意教程非常简化。他们只是介绍`Fragments`，但我不同意建议的模式。

我也同意在许多活动中复制应用程序的逻辑不是一个好主意（请参阅[维基百科上的 DRY 原则](http://en.wikipedia.org/wiki/Don%27t_repeat_yourself)）。

* * *

`ActionBarSherlock`我更喜欢Fragments Demo 应用程序使用的模式（[在此处下载](https://play.google.com/store/apps/details?id=com.actionbarsherlock.sample.demos&hl=en)和[源代码](https://github.com/JakeWharton/ActionBarSherlock/zipball/4.1.0)）。与问题中提到的教程最匹配的演示是应用程序中称为“布局”的演示；或`FragmentLayoutSupport`在源代码中。

`Activity`在此演示中，逻辑已从`Fragment`. 实际上包含更改片段的`TitlesFragment`逻辑。这样，每个Activity就很简单了。复制许多非常简单的活动，其中没有任何逻辑在活动内部，这使得它非常简单。

通过将逻辑放入 Fragments 中，**无需多次编写代码**；无论将 Fragment 放入哪个 Activity，它都可用。这使它成为比基本教程建议的模式更强大的模式。

```
 /**
    * Helper function to show the details of a selected item, either by
    * displaying a fragment in-place in the current UI, or starting a
    * whole new activity in which it is displayed.
    */
    void showDetails(int index)
    {
        mCurCheckPosition = index;

        if (mDualPane)
        {
            // We can display everything in-place with fragments, so update
            // the list to highlight the selected item and show the data.
            getListView().setItemChecked(index, true);

            // Check what fragment is currently shown, replace if needed.
            DetailsFragment details = (DetailsFragment) getFragmentManager()
                .findFragmentById(R.id.details);
            if (details == null || details.getShownIndex() != index)
            {
                // Make new fragment to show this selection.
                details = DetailsFragment.newInstance(index);

                // Execute a transaction, replacing any existing fragment
                // with this one inside the frame.
                FragmentTransaction ft = getFragmentManager()
                    .beginTransaction();
                ft.replace(R.id.details, details);
                ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);
                ft.commit();
            }

        }
        else
        {
            // Otherwise we need to launch a new activity to display
            // the dialog fragment with selected text.
            Intent intent = new Intent();
            intent.setClass(getActivity(), DetailsActivity.class);
            intent.putExtra("index", index);
            startActivity(intent);
        }
    } 
```

* * *

[ABS](http://actionbarsherlock.com)模式的另一个优点是您最终不会得到包含大量逻辑的 Tablet Activity，这意味着您可以节省内存。教程模式可以在更复杂的应用程序中导致非常大的主要活动；因为它需要随时处理放置在其中的所有片段的逻辑。

总的来说，不要认为它是被迫使用许多活动。可以将其视为有机会将您的代码拆分为许多片段，并在使用它们时节省内存。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2012-09-11T07:14:11.080

我认为你在正确的轨道上。（是的，教程过于简单）。

在平板电脑布局中，您可以使用单个活动并换入和换出片段（在多个“窗格”中）。在手机布局中，您可以为每个 Fragment 使用新的 Activity。

像这样：

![在此处输入图像描述](../Images/13784e191db8b76cc51e704c25592b59.png)

这似乎是很多额外的工作，但通过为手机使用多个活动，您可以启用基本的活动生命周期和意图传递。这也允许框架处理所有动画和回栈。

为了帮助减少代码，您可以使用 a`BaseActivity`并从中扩展。

因此，如果用户有您会使用的平板电脑`MyMultiPaneFragActivity`或类似的东西。此活动负责管理来自片段的回调并将意图路由到正确的片段（例如搜索意图）

如果用户有电话，您可以使用很少的代码来使用常规活动，并对其进行扩展`MyBaseSingleFragActivity`或类似的东西。这些活动可能非常简单，5-10 行代码（甚至可能更少）。

棘手的部分是路由意图等等。*（编辑：见下文）。

我认为这是推荐方法的原因是节省内存并降低复杂性和耦合性。如果您要换出 Fragment，`FragmentManager`则为 back-stack 维护对该 Fragment 的引用。它还简化了应该为用户“运行”的内容。此设置还将 Fragment 中的视图、布局和逻辑与 Activity 生命周期分离。这样，Fragment 可以存在于单个 Activity 中，与另一个 Fragment 一起（两窗格）或三窗格 Activity 等。

*拥有常规意图路由的好处之一是您可以从后台堆栈中的任何位置显式启动 Activity。一个例子可能是搜索结果。（MySearchResults.class）。

在这里阅读更多信息：

**[http://android-developers.blogspot.com/2011/09/preparing-for-handsets.html](http://android-developers.blogspot.com/2011/09/preparing-for-handsets.html)**

> 这可能需要更多的前期工作，因为每个片段必须在不同的活动中很好地工作，但通常会得到回报。这意味着您可以使用定义不同片段组合的替代布局文件，保持片段代码模块化，简化操作栏管理，并让系统处理所有回栈工作。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-05-14T05:32:58.370

这是 Reto Meier 对此的回答，取自[Udacity 的 Android 基础](https://www.udacity.com/course/developing-android-apps--ud853)课程[视频](https://www.youtube.com/watch?v=xnh8a2Neex8)。

> 有很多原因，你最好把你的应用分成不同的活动。
> 
> *   拥有单一的单体活动会增加代码的复杂性，使其难以阅读、测试和维护。
> *   使创建和管理意图过滤器变得更加困难。
> *   增加了紧密耦合独立组件的风险。
> *   如果单个活动包括敏感信息和可以安全共享的信息，则更有可能引入安全风险。
> 
> 一个好的经验法则是在上下文发生变化时创建一个新的活动。例如，显示不同类型的数据，同时从查看数据切换到输入数据。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-09-24T12:30:42.423

> 这种方法的一个问题是，您在主 Tablet Activity 和单独的 Phone Activity 中复制了很多逻辑。

在主从模式中，有两个活动。一个在大屏幕上显示两个片段，在小屏幕上只显示“主”片段。另一个在较小的屏幕上显示“细节”片段。

您的详细逻辑应绑定在详细信息片段中。因此，活动之间不存在与细节逻辑相关的代码重复——细节活动仅显示细节片段，可能从`Intent`额外的数据中传递数据。

> 另外，我读到的关于 ActionBarSherlock 的内容是，它似乎最适合使用 Fragments 而不是活动（但我还没有使用它）。

ActionBarSherlock 与片段无关，与原生操作栏无关，因为 ActionBarSherlock 纯粹是原生操作栏的向后移植。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-05-24T10:31:22.937

参考第一个问题“是否有理由将手机应用程序拆分为多个活动？” - 是的。它只是归结为可用空间，平板电脑为开发人员提供了更多空间，从而允许开发人员在一个屏幕上放置更多内容。Android 告诉我们，[Activities 可以提供一个屏幕](http://developer.android.com/guide/components/activities.html "这里")。因此，您可以在平板电脑上使用 1 个大屏幕做的事情，可能必须在手机上的多个屏幕上展开，因为没有足够的空间容纳所有片段。

# javascript - Raphael JS 中的文本转换

> ID：12363794
> 
> 赞同：3
> 
> 时间：2012-09-11T06:18:50.067
> 
> 标签：javascript, raphael, transformation

有没有办法用 Raphael 渲染这样的文本？

![](../Images/9caac7493af0ce3837dfc9692fb2fbd4.png)

![](../Images/cc35939378bd3005d9d2282abd476292.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-16T16:42:52.787

我试图找到这样的转换，但似乎拉斐尔没有这样的转换。

我做了[一个例子](https://stackoverflow.com/a/12919399/1691517)，它使透视转换为 SVG 路径。它不使用变换属性，而是将文本作为路径，并且路径是逐点变换的。

# java - 在android中的webview固定高度内显示大内容

> ID：12363796
> 
> 赞同：1
> 
> 时间：2012-09-11T06:19:00.330
> 
> 标签：java, javascript, android, html, webview

我有一个大的 HTML 页面，在 web-view android 中显示它，我希望每当用户单击“填充高度”时，它将完全适合大型 HTML 页面在 web-view 高度内，没有任何垂直滚动条，即完整的网页将显示在网络视图高度（可以改变设备到设备），任何解决方案？

谢谢在高级，请帮助我？？

==>请提出解决此问题的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:36:17.710

尝试设置`mWebView.getSettings().setLoadWithOverviewMode(true)`， `mWebView.getSettings().setUseWideViewPort(true)`看看是否能解决问题。我在我的设置这个`onCreate`，当一个页面被加载时，它完全填满了整个 webview

# android - android：取消后按通知

> ID：12363798
> 
> 赞同：0
> 
> 时间：2012-09-11T06:19:03.187
> 
> 标签：android, notifications, back

单击后退按钮时，我想取消与我的应用程序相关的所有通知。我无法找到方法。你有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:21:34.337

希望有帮助

```
@Override 
```

公共无效 onBackPressed() {

```
// write code for canceling the notification
return; 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T07:01:07.193

这可能会帮助你

```
 @Override
    public void onBackPressed() {    
    stopSelf();
    return;
    } 
```

# asp.net - Asp.net 4.0 - Web.config 文件重构

> ID：12363799
> 
> 赞同：0
> 
> 时间：2012-09-11T06:19:03.653
> 
> 标签：asp.net, asp.net-4.0

在 Asp.net 4.0 中，新功能出现了 web.config 重构，根据此功能，每当我们包含需要配置设置的控件时，因此在早期版本中，VS 用于将这些设置添加到应用程序配置文件中。

在 Web.config 重构功能中，所有内容都进入 machine.config 文件。

我的问题是

1.  由于所有设置都进入机器配置，是否存在任何性能问题？
2.  不需要的设置也会在那里，因为其他应用程序需要这些设置，但我的应用程序不需要这些设置。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:30:40.453

ASP.NET 4 将所有样板代码移至机器配置文件。这有助于使您自己的 web.config 文件更易于阅读。这并不意味着您自己的设置应该移动到 machine.config。适用于您的应用程序的自定义设置应该在您的 web.config 中。

ASP.NET 在运行时构建配置文件的层次结构很聪明。它缓存文件以确保您不会遇到任何性能问题。仅共享常用设置。在 ASP.NET 4 之前，这些设置需要添加到每个应用程序中。

这是 ScottGu 的博客，更详细地解释了它：[清理 web.config 文件](http://weblogs.asp.net/scottgu/archive/2009/08/25/clean-web-config-files-vs-2010-and-net-4-0-series.aspx)

# ios - iOS：CGImageCreateWith[PNG or JPEG]DataProvider 导致分段错误

> ID：12363801
> 
> 赞同：8
> 
> 时间：2012-09-11T06:19:25.963
> 
> 标签：ios, objective-c, core-graphics, jailbreak, zbar-sdk

我面临一个奇怪的问题。我正在使用 libzbar 开发一个 iOS 命令行条形码扫描仪实用程序（是的，这是用于越狱设备的）。一切都很好，除非我尝试使用`CGImageCreateWithPNGDataProvider()`or`CGImageCreateWithJPEGDataProvider()`方法从文件中获取 a `CGImageRef`- 因为这两个函数在我的 5.1.1 iPad 上引发了段错误。问题不在我的自定义类中`ZBarScanner`，因为如果我使用 UIImage 来获取图像数据，使用类似的东西

```
UIImage *uiImage = [UIImage imageWithContentsOfFile:fname];
CGImageRef image = uiImage.CGImage; 
```

然后它工作正常并打印存储在条形码中的数据。此外，PNG 和 JPEG 图像的格式很好——我可以使用设备本身的文件浏览器查看它们，我也尝试了其他几个图像。我什至试图省略所有的`CFRelease()`函数调用和`release`消息，以避免出现悬空指针。这是我的代码：

```
#define LOG() NSLog(@"Reached line %d", __LINE__)

int main(int argc, char **argv)
{
    if (argc != 2)
            return 1;

    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];

    LOG(); // line 21

    NSString *fname = [[NSString stringWithUTF8String:argv[1]] retain]; // added an extra retain just in case

    LOG(); // line 25

    CFDataRef data = (CFDataRef)[NSData dataWithContentsOfFile:fname];
    CGDataProviderRef dProv = CGDataProviderCreateWithCFData(data);
    // I also tried using
    // dProv = CGDataProviderCreateWithFilename(argv[1]);
    // that made no difference either. The data and data provider are
    // valid, but the CGImage constructors always segfault.
    if (dProv == NULL) {
        fprintf(stderr, "Invalid CGDataProvider\n");
        abort();
    }

    LOG(); // line 34

    CGImageRef image = NULL;

    if ([[fname pathExtension] isEqualToString:@"png"]) {
        LOG(); // line 39
        NSLog(@"Function pointer: %p", CGImageCreateWithPNGDataProvider);
        image = CGImageCreateWithPNGDataProvider(dProv, NULL, false, kCGRenderingIntentDefault); // This function segfaults, or...
        LOG();
    } else if ([[fname pathExtension] isEqualToString:@"jpg"]
        || [[fname pathExtension] isEqualToString:@"jpeg"]) {
        LOG();
        image = CGImageCreateWithJPEGDataProvider(dProv, NULL, true, kCGRenderingIntentDefault); // ... or this one.
        LOG();
    } else {
        fprintf(stderr, "File '%s' is neither a PNG nor a JPEG file!\n", argv[1]);
        LOG();
        abort();
    }

    LOG();
    // CFRelease(dProv);
    LOG();
    ZBarScanner *scanner = [ZBarScanner zbarScannerWithCGImage:image];
    // CFRelease(image);
    LOG();
    NSArray *arr = [scanner scan];
    NSLog(@"The result of the scanning is:\n%@", arr);
    LOG();
    [pool drain];

    return 0;
} 
```

如果我在调试器中运行它（为清楚起见，删除了 GDB 和 NSLog 混乱）：

```
gdb ./scanner
(gdb) run ./barcode1.png
Reached line 21
Reached line 25
Reached line 34
Reached line 39
Function pointer: 0x37c5b535

Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_INVALID_ADDRESS at address: 0x00000000
0x00000000 in ?? ()
(gdb) backtrace
#0 0x00000000 in ?? ()
(gdb) 
```

因此，即使回溯也没有显示任何明显错误/有帮助的东西......似乎*有些东西在**某处*是 NULL 。我什至怀疑由于我的工具链是基于 4.0 的非官方构建，这些功能可能在 iOS 5.1.1 中不可用，因此构建成功，因为`CGImageCreateWith[...]DataProvider`符号位于**开发**sysroot 中，但不在 iOS 的**实际**动态库中，但是如果是这种情况，我 NSLogged out 的函数指针将是`NULL`，对吗？但是，NS 和 CG 对象和函数似乎都不是 NULL - 我传递给 CGImage 构造函数的唯一 NULL 是一个`decodeArray`参数，但在 Apple 的文档中明确提到它可以是 NULL ...（*更新*：我尝试传递一个有效的非 NULL 数组来确定文档是否错误，但我仍然遇到相同的错误）。

你能给我关于这次崩溃的任何指示（双关语）吗？我在这里想念什么？到目前为止，我发现的所有教程和参考资料都建议像这样使用 CGDataProvider 和 CGI​​mage 。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-11T06:36:54.377

使用文件名时，苹果文档中的示例代码使用您在评论中提到的尝试的组合，加上值`kCGRenderingIntentPerceptual`而不是默认值：

```
 CGDataProviderRef pngDP = CGDataProviderCreateWithFilename([filePath fileSystemRepresentation]);
    if (pngDP) {
        CGImageRef img = CGImageCreateWithPNGDataProvider(pngDP, NULL, true, kCGRenderingIntentPerceptual); // true for interpolate, false for not-interpolate 
```

这样做应该使您不必将数据本身保留在程序中，并且可以防止您看到的段错误。

（至少，也许获取并尝试在官方 iOS 文档中找到的 CoreTextPageViewer 的示例代码，构建该项目，并尝试弄清楚您所做的事情有何不同。）

# microsoft-metro - 使用 Windbg 调试 Metro 应用程序

> ID：12363803
> 
> 赞同：5
> 
> 时间：2012-09-11T06:19:32.390
> 
> 标签：microsoft-metro, windbg

我正在尝试使用 Windbg 调试 C++ Metro 应用程序。由于 Windbg 在桌面中执行，应用程序在调试会话 5 秒后暂停，我必须切换回 Metro Desktop 以恢复应用程序。

有没有办法使用 Windbg 调试 Metro 应用程序而不是暂停它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-27T03:30:27.757

供将来参考——PLMDebug.exe /disableDebug [包名称] 是实现此目的的方法。有关此处可执行文件的详细信息：http: [//msdn.microsoft.com/en-us/library/windows/hardware/jj680085 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/hardware/jj680085%28v=vs.85%29.aspx)

# winforms - 在 windows 应用程序中调用 web 服务

> ID：12363807
> 
> 赞同：4
> 
> 时间：2012-09-11T06:19:54.187
> 
> 标签：winforms, web-services, c#-4.0

我有一个 Windows 应用程序，我要求用户使用网站中提供给用户的用户名和密码登录应用程序。为此，首先我检查用户是否连接到互联网。如果存在连接，则继续检查凭据是否有效。所以，我需要在 windows 应用程序中调用一个 web 服务。我该如何进行？

欢迎任何解释在 Windows 应用程序中调用 web 服务的过程的示例。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-11T07:06:38.120

在 SO Thread and Code 项目文章中查看此[答案-](https://stackoverflow.com/a/756362/770710) [Webservice with Win Forms and Web Forms](http://www.codeproject.com/Articles/36237/Webservice-with-Win-Forms-and-Web-Forms)以进一步了解。

要在 Visual Studio 中使用 Web 服务，请检查以下步骤...

### 按着这些次序

1.  右键单击 Visual Studio 中的项目
2.  选择添加 Web 参考
3.  输入网址并继续

### 当您没有看到该选项时

1.  右键单击 Visual Studio 中的项目
2.  选择添加服务参考
3.  按“高级”按钮
4.  按“添加网络参考”按钮
5.  输入网址并继续

参考：
[创建 ASP.NET Web 服务并使用 Win Form 使用它](http://www.michaelzammuto.com/writing/wsWinForm1.jsp)

编辑： `System.Net.NetworkInformation.NetworkInterface.GetIsNetworkAvailable()`应该给你你想要检查互联网等的东西。

参考：
[您如何确定您的 WinForms 应用程序是否可以使用 Internet 连接？](https://stackoverflow.com/questions/194742/how-do-you-determine-if-an-internet-connection-is-available-for-your-winforms-ap)
以及
[使用 .NET 检测 Internet 连接的最佳方法是什么？](https://stackoverflow.com/questions/396272/whats-the-best-way-to-detect-an-internet-connection-using-net)

# c# - 将自定义纸张尺寸添加到命名打印机

> ID：12363812
> 
> 赞同：0
> 
> 时间：2012-09-11T06:20:20.440
> 
> 标签：c#

我正在使用上传到[http://www.codeproject.com/Articles/12229/Adding-custom-paper-sizes-to-named-printers](http://www.codeproject.com/Articles/12229/Adding-custom-paper-sizes-to-named-printers)的代码。在网站上它工作正常，但是当我使用共享打印机时，我遇到了这个问题。

```
Failed to open \\shivarajm\EPSON LX -300 +II ESC/P Printer ,System Error 
```

# javascript - 在 log4javascript 中添加自定义日志级别

> ID：12363820
> 
> 赞同：1
> 
> 时间：2012-09-11T06:20:41.607
> 
> 标签：javascript, log4javascript

我在“log4javascript”中添加了自定义级别。使用下面的代码，

```
log4javascript.Level[strLevelName] = new log4javascript.Level(nLevelValue, strLevelName); 
```

比方说，我添加了级别“CUSTLEVEL”，它的 levelValue 是 45000（在 WARN 和 ERROR 之间）。现在，我已将默认日志级别设置为 DEBUG(20000)。

当我使用“BrowserConsoleAppender”时，我得到了自定义日志的所有日志。

但是当我使用“PopUpAppender”时，我没有得到自定义日志级别的日志。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T08:32:10.147

向 log4javascript 添加自定义级别非常容易，但不幸的是要获取附加程序，特别是`PopUpAppender`and`InPageAppender`来处理它们，需要对源代码进行一些摆弄。

如果这对你很重要，那么我会考虑让 1.5 版更容易，如果我有时间完成它，尽管我总是发现现有的六个级别就足够了。

# ruby - Carrierwave，Sequel，Sinatra，通过 irb 导入，更新

> ID：12363824
> 
> 赞同：1
> 
> 时间：2012-09-11T06:20:49.377
> 
> 标签：ruby, sinatra, carrierwave, irb, sequel

这是一个两级问题，希望第一级解决第二级。

1.  我希望能够通过脚本保存一个新对象，例如

    ```
    @file = File.open("/path/to/image.png")
    @user = User.new(:name => "SomeName", :avatar => @file)
    @user.save 
    ```

    但遗憾的是，它只响应一个

    ```
    #<User @values={:name =>"SomeName"}> 
    ```

    所以我尝试了：

    ```
    @user = User.new(:name => "SomeName", :avatar => "/path/to/image.png") 
    ```

    但我得到了：

    ```
    CarrierWave::FormNotMultipart: CarrierWave::FormNotMultipart 
    ```

    我需要让脚本正常工作，因为我需要导入数千个用户：S

    它只有在通过 HTML 表单发布新用户和头像时才能正常工作，而不是在更新时，这让我...

2.  一旦用户存在，我无法通过简单地在我的控制器中更改头像

    ```
    @user.update(params[:user]) 
    ```

我想问题是我没有告诉carrierwave它所需要的一切。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-31T20:49:48.820

所以，这是旧的。但是，仍然希望它可以帮助某人：

```
@user.update(params[:user])
@user.save 
```

更新后运行保存。就是这样！

# android - android画廊：获取所有图像的ID

> ID：12363826
> 
> 赞同：0
> 
> 时间：2012-09-11T06:21:12.217
> 
> 标签：android, image-gallery

> **可能重复：**
> [从 Android 照片库中获取所有图像](https://stackoverflow.com/questions/12121690/fetch-all-images-from-android-photo-gallery)

我想从图库中获取所有图像的 id，然后将其存储在整数数组中。我找到了一个代码，单击它后我可以在其中获取图像的 id，但我不想这样做。我想在不单击图像的情况下获取所有图像的 id，然后将其存储在整数数组中。请有人帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:27:33.137

您可以使用内容解析器来做到这一点：

```
Cursor cur = getContentResolver().query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, new String[] {ImageColumns._ID}, null, null,null); 
```

然后使用在该游标中获得的数据形成 int 数组。

```
if ((cur != null) && cur.moveToFirst()) {
        int[] idsArray = new int[cur.getCount()];
        for (int i = 0; i < cur.getCount(); i++) {
            idsArray[i] = cur.getInt(cur.getColumnIndex(ImageColumns._ID));
            cur.moveToNext();
        }

    }
    cur.close(); 
```

编辑：

```
final Cursor cur = context.getContentResolver().query(CameraConstants.IMAGE_STORAGE_PATH_EXTERNAL, null, null, null, ImageColumns.DATE_TAKEN + " DESC");
    final ArrayList<String> urlList = new ArrayList<String>();

    if ((cur != null) && cur.moveToFirst()) {
        final int count = cur.getCount();
        for (int i = 0; i < count; i++) {
            urlList.add(cursor.getString(cursor.getColumnIndex(MediaColumns.DATA));
            cur.moveToNext();
        }
    }
    cur.close(); 
```

然后使用 urlList 如下：

```
for(String imageUrl: urlList){
 final BitmapFactory.Options options = new BitmapFactory.Options();
    options.inJustDecodeBounds = true;
    InputStream is = null;
    is = new FileInputStream(new File(imageUrl));

    BitmapFactory.decodeStream(is, null, options);
 int width = options.outWidth;
 int height = options.outHeight 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:31:42.060

```
String[] projection = new String[] { ImageColumns._ID,
                    ImageColumns.TITLE, ImageColumns.DATA,
                    ImageColumns.MIME_TYPE, ImageColumns.SIZE };
Cursor cur = getContentResolver().query(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,
            projection, null, null, null);
while (cur.moveToNext()) {
    //fill data
} 
```

我还包括了其他可能感兴趣的领域。

# java - 格式化包含非 ASCII 字符串的 Protobuf 消息

> ID：12363832
> 
> 赞同：7
> 
> 时间：2012-09-11T06:21:40.093
> 
> 标签：java, protocol-buffers

当 protobuf 消息包含非 ASCII 字符的字符串时，`message.toString()`返回类似

```
alarm {
  message: "\320\227\320\260\320\262\320\265\321\200\321\210\320\265\320\275\320\270\320\265 \321\201\320\262\321\217\320\267\320\270 \321\201 mzta1."
} 
```

我希望在日志中看到包含西里尔字符的字符串。有没有一种简单的方法可以做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-20T06:40:29.070

从 2.5.0 开始，有[`TextFormat.printToUnicodeString`](https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/TextFormat#printToUnicodeString%28com.google.protobuf.MessageOrBuilder%29).

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-19T16:19:05.297

我找到的唯一方法 - 复制 com.google.protobuf.TextFormat 的一部分并删除 printFieldValue() 方法中的字符串转义。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-19T14:43:51.563

TextFormat::Printer 类中有 SetUseUtf8StringEscaping 方法：

```
// Set true to output UTF-8 instead of ASCII.  The only difference
// is that bytes >= 0x80 in string fields will not be escaped,
// because they are assumed to be part of UTF-8 multi-byte
// sequences.
void SetUseUtf8StringEscaping(bool as_utf8) 
```

# c# - 如何使用 Resources.resx 链接图像

> ID：12363834
> 
> 赞同：13
> 
> 时间：2012-09-11T06:21:46.213
> 
> 标签：c#, .net, wpf, image, resources

我在 Resources.resx 中包含了一个图标文件，我想在堆栈面板内的 TreeViewItem 上显示该文件。

1) .ico 文件可以用于此目的吗？还是必须是 .bmp 或 jpg？

2）您在 XAML 中将源设置为什么？以下代码对我不起作用

```
<StackPanel Orientation="Horizontal">
    <Image Margin="2" Source="/Resources/Folder_Back.ico" />
    <TextBlock Margin="2" Text="{Binding ProgramName}"
     Foreground="White" FontWeight="Bold"/>
</StackPanel> 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-11T06:38:44.057

这是访问资源文件中图像的技巧：

[从 XAML 标记中的资源文件访问图像](http://www.codeproject.com/Tips/166550/Accessing-image-from-Resource-File-in-XAML-markup)

首先，您需要添加对项目属性的引用，如下所示：

```
xmlns:properties="clr-namespace:MyProject.Properties" 
```

然后像这样通过 XAML 访问它：

```
<image source="{Binding Source={x:Static properties:Resources.ImageName}}" /> 
```

您可以使用 PNG/JPG/BMP 以及 ICO 文件，但每个人都推荐 PNG。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-06-16T08:13:21.547

要使 Qorbani 的解决方案起作用，请在 Image Source.Binding 中添加一个转换器！

XAML - 命名空间

```
 xmlns:properties="clr-namespace:YourNameSpace.Properties"
 xmlns:converter="clr-namespace:YourNameSpace.Converter" 
```

Xaml - 资源（用户控件或窗口）

```
 <UserControl.Resources>
        <ResourceDictionary>
              <converter:BitmapToImageSourceConverter x:Key="BitmapToImageSourceConverter" />
        </ResourceDictionary>
 </UserControl.Resources> 
```

Xaml 代码

```
<StackPanel Orientation="Horizontal">
                    <Image Width="32" Height="32" Source="{Binding Source={x:Static properties:Resources.Import}, Converter={StaticResource BitmapToImageSourceConverter}}" Stretch="Fill" />
                    <TextBlock Margin="5" HorizontalAlignment="Center" VerticalAlignment="Center">Import</TextBlock>
</StackPanel> 
```

BitmapToImageSourceConverter.cs

```
using System;
using System.Collections.Generic;
using System.Drawing;
using System.Drawing.Imaging;
using System.Globalization;
using System.Linq;
using System.Text;
using System.Windows.Data;
using System.Windows.Media;
using System.Windows.Media.Imaging;

namespace YourNameSpace
{
    public class BitmapToImageSourceConverter : IValueConverter
    {
        public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
        {
            var bitmap = value as System.Drawing.Bitmap;
            if (bitmap == null)
                throw new ArgumentNullException("bitmap");

            var rect = new Rectangle(0, 0, bitmap.Width, bitmap.Height);

            var bitmapData = bitmap.LockBits(
                rect,
                ImageLockMode.ReadWrite,
                System.Drawing.Imaging.PixelFormat.Format32bppArgb);

            try
            {
                var size = (rect.Width * rect.Height) * 4;

                return BitmapSource.Create(
                    bitmap.Width,
                    bitmap.Height,
                    bitmap.HorizontalResolution,
                    bitmap.VerticalResolution,
                    PixelFormats.Bgra32,
                    null,
                    bitmapData.Scan0,
                    size,
                    bitmapData.Stride);
            }
            finally
            {
                bitmap.UnlockBits(bitmapData);
            }
        }

        public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
        {
            throw new NotImplementedException();
        }
    }
} 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-09-11T06:29:38.410

你不能那样做。仅在winforms中有效

看到这篇文章了解更多信息

[将图像添加到资源的不同方式](https://stackoverflow.com/questions/4775030/different-way-how-add-image-to-resources)

使用这篇文章中显示的方法

[WPF 图片资源](https://stackoverflow.com/questions/347614/wpf-image-resources)

反而

**引用：**

如果您将在多个地方使用图像，那么值得将图像数据仅加载一次到内存中，然后在所有`Image`元素之间共享它。

为此，请[`BitmapSource`](http://msdn.microsoft.com/en-us/library/system.windows.media.imaging.bitmapsource.aspx) 在某处创建一个资源：

```
<BitmapImage x:Key="MyImageSource" UriSource="../Media/Image.png" /> 
```

然后，在您的代码中，使用类似：

```
<Image Source="{StaticResource MyImageSource}" /> 
```

就我而言，我发现我必须将`Image.png`文件设置为具有构建操作，`Resource`而不仅仅是`Content`. 这会导致图像在您编译的程序集中携带。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2019-07-18T17:24:51.980

接受的答案说这是不可能的，工作解决方案将 GDI+`Bitmap`类型转换为 WPF 图像。但是这些转换是完全没有必要的。解决方案其实很简单：

1.  当您将图像或图标文件添加到资源文件时，设计器默认为它们选择 GDI+ 类型：

[![在此处输入图像描述](../Images/adeb740c32011b60ecdebdb0fb0c54c8.png)](https://i.stack.imgur.com/bkX3K.png)

2.  只需在 XML 编辑器中打开 .resx 文件（在解决方案资源管理器中右键单击，打开方式...），然后更改`Bitmap`并`Icon`键入`MemoryStream`：

```
<!--<value>..\Resources\Undo.png;System.Drawing.Bitmap, System.Drawing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a</value>-->
<value>..\Resources\Undo.png;System.IO.MemoryStream</value>

...

<!--<value>..\Resources\Error.ico;System.Drawing.Icon, System.Drawing, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a</value>-->
<value>..\Resources\Error.ico;System.IO.MemoryStream</value> 
```

3.  保存 .resx 文件。如果您现在打开设计器，您可以在“*其他*”菜单下找到您的资源。

[![在此处输入图像描述](../Images/7ff25bda2f89ef9bf46f26a4f4b12628.png)](https://i.stack.imgur.com/VIftZ.png)

不要为“修复”而烦恼`Resources.cs`。当您保存 .resx 文件时，它将使用正确的类型自动重新生成。生成的返回类型实际上是`UnmanagedMemoryStream`，但不要对此感到困惑。

4.  用法：

```
public static class WpfImages
{
    public static ImageSource Error { get; } = BitmapFrame.Create(Resources.Error);
    // [...]
} 
```

```
<Image Source="{x:Static local:WpfImages.Error}"/> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-11-25T17:33:59.383

首先：添加资源 rsx 然后：将图像作为图像添加到资源文件中，并将图像构建操作设置为 Resource。现在您可以像这样访问图像：

```
<Image Source="pack://application:,,,/Resources/image.png"/> 
```

# java - JDev 代码编辑器的自定义

> ID：12363835
> 
> 赞同：2
> 
> 时间：2012-09-11T06:21:48.923
> 
> 标签：java, oracle, jdeveloper

我在自定义 JDeveloper 的代码编辑器时遇到了一个小问题。我希望能够更改 IDE 用来包装我的 java 代码的灰线的位置。见下图。

![例子](../Images/5cfe2988ca2eeea14a58c15a7ab6978c.png)

我查看了偏好>代码编辑器选项以及周围的任何地方，但没有发现可以改变它的选项。顺便说一句，这条灰线叫什么？

非常感谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-11T09:30:35.040

您可以在“工具->首选项->代码编辑器->显示”下找到此选项，它被称为“右边距列”。当您将代码格式化为应该换行的点时使用它。

# jboss - 会话失效没有在正确的时间发生

> ID：12363837
> 
> 赞同：1
> 
> 时间：2012-09-11T06:21:59.813
> 
> 标签：jboss, jsf-1.2

我正在使用`Jboss AS 5.1.0 GA`. 我已经`JSF 1.2 servlet`在上面运行了。

我有一个扩展的自定义会话侦听器`PortalSessionListener`（正在运行`Liferay 6.0`）

在`web.xml`我的`Jboss AS`中，我已配置`session-timeout`为 3 分钟。当我点击我的`JSF servlet`，并且在 3 分钟内**不做**任何事情时，我的自定义会话侦听器被调用并被`sessionDestroyed(HttpSessionEvent httpSessionEvent)`调用。

如果我在我的 servlet 上执行一些活动，那么在第 3 分钟之前，它`session`会被扩展。那我什么都不会做。这一次，如果我查看日志，我的自定义会话侦听器将在**第 2 分钟而不是第 3 分钟**被调用，并通过调用`sessionDestroyed(HttpSessionEvent httpSessionEvent)`.

**我的第一个问题是为什么在上述情况下会话失效没有在正确的时间发生？**

另外，我已经配置了`session-timeout`我`web.xml`的`Servlet`. 我正在使用`httpServletRequest.isRequestedSessionIdValid()`方法来检查会话是否有效，如此[处](http://www.jroller.com/hasant/entry/jsf_logout_and_redirect_user)所述。在上述情况下`session`，大约在第 2 分钟失效，这一次是在打印会话失效日志之后，如果我点击我的 Servlet 上的任何页面，它仍然会发现它还`session`没有失效。但是，它的发现`session`仅在第 3 分钟后才失效。

**我的第二个问题是为什么在 Jboss AS web.xml 中配置的会话超时和在 Servlet 的 web.xml 中配置的会话超时之间存在差异？**

问候，

维卡斯

# c - memcpy 和取消引用之间的偏好

> ID：12363842
> 
> 赞同：10
> 
> 时间：2012-09-11T06:22:33.937
> 
> 标签：c, memory, memcpy, dereference

在内存中复制已知结构时，您更喜欢使用 memcpy 还是取消引用？为什么？具体来说，在以下代码中：

 ````
#include <stdio.h>
#include <string.h>

typedef struct {
    int foo;
    int bar;
} compound;

void copy_using_memcpy(compound *pto, compound *pfrom)
{
    memcpy(pto, pfrom, sizeof(compound));
}
void copy_using_deref(compound *pto, compound *pfrom)
{
    *pto = *pfrom;
}

int main(int argc, const char *argv[])
{
    compound a = { 1, 2 };
    compound b = { 0 };
    compound *pa = &a;
    compound *pb = &b;

    // method 1
    copy_using_memcpy(pb, pa);
    // method 2
    copy_using_deref(pb, pa);
    printf("%d %d\n", b.foo, b.bar);

    return 0;
} 
```

你喜欢方法一还是方法二？我查看了 gcc 生成的程序集，似乎方法 2 使用的指令比方法 1 少。这是否意味着在这种情况下方法 2 更可取？谢谢你。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-11T06:30:59.050

在复制结构时，我想不出任何使用`memcpy()`而不是赋值的充分理由（只要您不需要进行[深度复制](http://en.wikipedia.org/wiki/Deep_copy#Deep_copy)或涉及[struct hack](http://c-faq.com/struct/structhack.html)或*灵活数组成员*的事情，这些都不适用这个案例）。

它们具有完全相同的语义，并且赋值 (a) 可能为编译器提供了更多优化机会，并且 (b) 出现大小错误的风险较小。

一些*非常*古老的 C 编译器可能不支持结构赋值，但这不再是一个重要的问题。

（还有其他理由更喜欢 C++ 中的赋值，但您的问题是关于 C 的。）

顺便说一句，括号中的

```
(*pto) = (*pfrom); 
```

是不必要的；一元`*`结合得足够紧密，以至于：

```
*pto = *pfrom; 
```

对大多数读者来说既正确又足够清楚。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T06:31:42.157

出于您提到的完全相同的原因，我更喜欢方法 2（取消引用）。Memcpy 进行逐字节复制，并且具有函数调用的开销，而取消引用仅进行复制，并且没有额外的开销。

取消引用和分配也更具可读性（尤其是当您省略多余的括号时：

```
*dest = *src; 
```

)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-11-20T12:17:40.470

我试图用谷歌的[基准](https://github.com/google/benchmark)运行它：

```
#include <benchmark/benchmark.h>
#include <stdio.h>
#include <string.h>

typedef struct {
    int foo;
    int bar;
    int a;
    int b;
    int c;
    int d;
    int e;
    int f;
    int g;
} compound;

static void copy_using_memcpy(benchmark::State& state) {
    compound a = {0, 0, 0, 0, 0, 0, 0, 0, 0};
    compound b = {0, 0, 0, 0, 0, 0, 0, 0, 0};
    compound* pa = &a;
    compound* pb = &b;
    for (auto _ : state) memcpy(pa, pb, sizeof(compound));
}
static void copy_using_deref(benchmark::State& state) {
    compound a = {0, 0, 0, 0, 0, 0, 0, 0, 0};
    compound b = {0, 0, 0, 0, 0, 0, 0, 0, 0};
    compound* pa = &a;
    compound* pb = &b;
    for (auto _ : state) *pa = *pb;
}

BENCHMARK(copy_using_memcpy);
BENCHMARK(copy_using_deref);

BENCHMARK_MAIN(); 
```

结果是这样的：

```
> g++ benchmark.cc -lbenchmark -lpthread && ./a.out
2020-11-20T20:12:12+08:00
Running ./a.out
Run on (16 X 1796.56 MHz CPU s)
CPU Caches:
  L1 Data 32 KiB (x8)
  L1 Instruction 32 KiB (x8)
  L2 Unified 512 KiB (x8)
  L3 Unified 4096 KiB (x1)
Load Average: 0.29, 0.15, 0.10
------------------------------------------------------------
Benchmark                  Time             CPU   Iterations
------------------------------------------------------------
copy_using_memcpy       2.44 ns         2.44 ns    282774223
copy_using_deref        1.77 ns         1.77 ns    389126375 
```

在原始示例中，只有两个字段，时间大致相同。`

# google-chrome - 使用 Google Chrome 嵌入 Talk.to Windows 客户端的包装器

> ID：12363848
> 
> 赞同：1
> 
> 时间：2012-09-11T06:22:50.767
> 
> 标签：google-chrome, google-chrome-extension, chromium, word-wrap, tidesdk

[talk.to](http://talk.to "Talk.to 网站") windows 客户端使用嵌入式 Google Chrome 作为其 GUI。基本上，它将 Google Chrome 与聊天扩展打包在一起。

我只是好奇它是使用哪个包装器构建的？以下任何一项？

*   [CEF](http://code.google.com/p/chromiumembedded/ "Chromium 嵌入式框架")
*   [极品](https://www.awesomium.com/ "极品")
*   [Asterclick WBEA](http://asterclick.drclue.net/WBEA.html "Asterclick WBEA")（非常易于使用，但功能有限*）
*   [潮汐SDK](http://www.tidesdk.org/ "TideSDK 站点")

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-07T18:03:50.317

talk.to 客户端似乎正在使用 chrome，因为我们可以看到 linux 和 osx 客户端是 chrome 应用程序。

如果您对开发桌面应用程序感兴趣.. 您应该查看 TideSDK ( [http://tidesdk.org/](http://tidesdk.org/) )。TideSDK 很有前景，因为它是唯一支持 Windows、Linux、OSx 以及所有最新版本的 SDK，包括 Windows 8、Mountain Lion 和 ubuntu 12.04、12.10。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-02-04T13:07:09.397

它是用 CEF 内置的。在chrome的about页面中说

# websphere - Websphere 7 中 SPNEGO 的登录方法回退

> ID：12363850
> 
> 赞同：0
> 
> 时间：2012-09-11T06:23:04.010
> 
> 标签：websphere, websphere-7, spnego

我正在尝试 Websphere 7 中的 SPNEGO 功能。我想在客户端不支持 SPNEGO 的情况下允许基本身份验证。

在我的 web.xml 中，我有

```
<login-config>
    <auth-method>BASIC</auth-method>
    <realm-name>SampleApp Login</realm-name>
</login-config> 
```

在 Websphere 的管理控制台中，

下`Security -> Global Security -> Web and SIP security -> General settings`，我`"Default to basic authentication when certificate authentication for the HTTPS client fails"`检查过，

在 下`Security -> Global Security -> Web and SIP security -> SPNEGO Web authentication`，我已经“ `Allow fall back to application authentication mechanism`”检查了。

当我使用客户端支持 SPNEGO（例如 IE）来访问我的 Web 应用程序时，它似乎很好。但是，当我切换到不支持 SPNEGO 的客户端（例如 Firefox）时，它只会显示一条消息“此客户端不支持 SPNEGO 身份验证”。，而不提示我进行基本身份验证。

谁能给我一些关于我可能错过的提示？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T00:19:46.490

简而言之，当 SPNEGO 失败时，您需要提供一个 URL。

这就是你的做法：

1.  准备一个您想在 SPNEGO 协商失败时显示的页面，并记下该页面的地址
2.  在 websphere 管理控制台中，转到 Global security > SPNEGO Web authentication
3.  查看“SPNEGO 过滤器”列表，单击列表中的第一项
4.  您现在应该在 Global security > SPNEGO Web authentication > yourhost.domain.com
5.  将地址粘贴到页面以在以下字段中显示 SPNEGO 协商失败时：“SPNEGO 不支持错误页面 URL”
6.  单击确定，保存更改。如果您没有启用“动态更新 SPNEGO”，则需要重新启动。

有关该字段的详细信息，请参阅下一页上的 8e： [使用管理控制台启用和配置 SPNEGO Web 身份验证](http://pic.dhe.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.express.doc/info/exp/ae/tsec_SPNEGO_config.html)

对于不在活动目录中或因其他原因无法使用 SPNEGO 的用户，我自己使用了该功能。它有一个不受欢迎的行为，那就是它不能很好地解释 utf-8 页面。但是，如果您只使用英文字母，您将不会注意到（或者如果您使用 html 实体，例如`&aring;`.

您写道，firefox 不支持 SPNEGO，但这是不正确的，但需要进行一些小调整。有关详细信息，请参阅[配置客户端浏览器以使用 SPNEGO 。](http://pic.dhe.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.express.doc/info/exp/ae/tsec_SPNEGO_configweb_new.html)

# ios - 动态更新 Cordova.plist 文件中的外部主机

> ID：12363851
> 
> 赞同：2
> 
> 时间：2012-09-11T06:23:21.420
> 
> 标签：ios, cordova, cordova-2.0.0

想知道是否有办法在运行时更新 Cordova.plist 文件中的外部主机。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-24T14:21:15.137

我现在不知道有什么方法可以做到这一点。您能否提供有关这种行为的用例的更多信息。

我能想到的唯一用例是 ChildBrowser（或任何其他插件），现在正在发生一些变化。Shazron 在他最新的博文中提到， [Cordova.plist](http://shazronatadobe.wordpress.com/2012/11/21/inappbrowser-based-on-childbrowser-in-cordova-2-3-0/)中的外部主机白名单只会影响主 WebView，而不会影响 2.3.0 的 ChildBrowser。通常会有[插件的白名单异常增强](https://issues.apache.org/jira/browse/CB-1889)。

当然，您始终可以使用`*`通配符来允许任何类型的外部主机。

# .htaccess - 我需要做特定的 301 以及通配符/全部捕获。我该怎么做？

> ID：12363852
> 
> 赞同：0
> 
> 时间：2012-09-11T06:23:30.060
> 
> 标签：.htaccess, wildcard, http-status-code-301

关于.htaccess：

我有一个网站要关闭。它有数以千计的 url，最动态的，不能很好地翻译到我的新网站，因为结构完全不同。

我的 .htaccess 有大约两百个（最重要的）URL 301（手动）到我的新站点。我想遵循一个规则，将除我手动执行的 URL 之外的所有其他 URL 发送到我的新站点的登录页面。我无法让任何工作，因为我尝试过的包罗万象忽略了手册 301s。

任何人都可以帮我制定一个规则吗？

最好的问候， SK

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T20:20:34.477

我不确定，您的其他评论并没有真正说明您到目前为止所拥有的内容。我想如果按以下顺序排列，这对我来说可能是一个不错的主意：

```
Options +FollowSymLinks 
RewriteEngine on 
RewriteRule /this.html http://www.example.com/something/somethingelse/that.html [r=301,L] 
[...299 more static rules...]
RewriteRule (.*) http://www.example.com/$1 [r=301,L] 
```

那应该确实有效。如果不是，通常最好打开重写日志并提高日志级别。（'RewriteLog' 和 'RewriteLogLevel' 命令）。这会将大量信息放入单独的日志文件中。通常它有助于理解发生了什么。

而且，您可以使用 RewriteMap 命令来节省时间，而不是编写 300 条静态规则。

# java - 是否有任何工具可用于动态创建一种描述系统组件之间不同阶段/流程的序列图

> ID：12363853
> 
> 赞同：0
> 
> 时间：2012-09-11T06:23:31.097
> 
> 标签：java

我正在开发一个基于 Java 的 Web 应用程序，该应用程序需要我使用来自 SIP（​​会话启动协议）消息的输入来生成序列图。我必须代表不同电话和相应服务器之间的呼叫流程。有没有我可以利用的工具来实现这种功能。该图必须在运行时生成，因为用户可能会选择多个 SIP 消息。任何帮助将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:27:05.300

也许：

*   [http://yuml.me/](http://yuml.me/)
*   [http://www.websequencediagrams.com/index.php](http://www.websequencediagrams.com/index.php)

这些是在线图表生成器（带有 API）。

# blackberry - Blackberry ButtonField 没有获得焦点，在 TableLayoutManager 中使用

> ID：12363854
> 
> 赞同：1
> 
> 时间：2012-09-11T06:23:32.797
> 
> 标签：blackberry

我正在使用 TableLayoutManager，正如您从下面的代码中看到的那样现在的问题是我无法专注于细节按钮，我只能专注于呼叫按钮，如果我使用的是 Blackberry 9650 模拟器，那么我可以触摸按钮，但它真的很奇怪，我无法专注于按钮，请帮帮我

```
private void addDetailListing(){
    VerticalFieldManager mainManager=new VerticalFieldManager(Manager.USE_ALL_WIDTH);
    HorizontalFieldManager header=new HorizontalFieldManager(Manager.USE_ALL_WIDTH);
    BitmapField headerField=new BitmapField(Bitmap.getBitmapResource("bb_images.png"));
    header.add(headerField);
    mainManager.add(header);

    TableLayoutManager outerTable=new TableLayoutManager(new int[]{
    TableLayoutManager.USE_PREFERRED_SIZE},TableLayoutManager.USE_ALL_WIDTH);
    for(int a=0;a<2;a++){

        TableLayoutManager innerTable = new TableLayoutManager(new int[]{
            TableLayoutManager.USE_PREFERRED_SIZE,
            TableLayoutManager.USE_PREFERRED_SIZE,
            TableLayoutManager.USE_PREFERRED_SIZE
            }, TableLayoutManager.USE_ALL_WIDTH) {

            // overriding the paint method
            public void paint(Graphics graphics){
                Bitmap bgBitmap=Bitmap.getBitmapResource("bd_gray.png");
                graphics.drawBitmap(0, 0, bgBitmap.getWidth(),bgBitmap.getHeight(), bgBitmap,0,0);
                super.paint(graphics);                    
            }// end og the paint ,methos                               
        };

        innerTable.setPadding(01, 0, 01, 0);

        LabelField companyTitleField=new LabelField(" IT SOLUTION"){
            public void paint(Graphics graphics){                    
                graphics.setColor(Color.WHITE);
                super.paint(graphics);
            }            
        };

        LabelField viewDetailButton=new LabelField("View Detail");
        //viewDetailButton.setFont(new Font());

        LabelField featuresField=new LabelField("Featured"){
            public void paint(Graphics graphics){
                graphics.setColor(Color.WHITE);
                super.paint(graphics);                    
            }               
        };

        FontFamily fontFamily[] = FontFamily.getFontFamilies();
        Font font = fontFamily[1].getFont(FontFamily.CBTF_FONT, 15);
        viewDetailButton.setFont(font);
        final Bitmap callBitmap=Bitmap.getBitmapResource("call_image.png");                       

        //BitmapField contactButton=new BitmapField(callBitmap,Field.FOCUSABLE);
        HorizontalFieldManager callAddManager=new       HorizontalFieldManager(Manager.USE_ALL_WIDTH);

        BitmapButtonField contactButton=new BitmapButtonField(callBitmap,callBitmap);
        contactButton.setChangeListener(this);

        contactButton.setLabel("Call");
        contactButton.setFont(font);            

        //contactButton.layout(50, 30);
        /*
        final Bitmap contactBitmap=Bitmap.getBitmapResource("add_contact.png");
        BitmapField  addContact=new BitmapField(contactBitmap,Field.FOCUSABLE){

            protected void layout(int width, int height) {
                setExtent(contactBitmap.getWidth()+10, contactBitmap.getHeight()+10);
        } };

        */

        final Bitmap contactBitmap=Bitmap.getBitmapResource("add_contact.png");
        /*
        BitmapField  addContact=new BitmapField(contactBitmap,Field.FOCUSABLE){

            protected void layout(int width, int height) {
                setExtent(contactBitmap.getWidth()+10, contactBitmap.getHeight()+10);
            }

        };
        */

        BitmapButtonField addContactField=new BitmapButtonField(contactBitmap,contactBitmap);

        addContactField.setFont(font);

        innerTable.add(companyTitleField);
        innerTable.add(new LabelField());

        innerTable.add(viewDetailButton);
        innerTable.add(featuresField);

        callAddManager.add(contactButton);
        callAddManager.add(addContactField);
        innerTable.add(callAddManager);
        outerTable.add(innerTable);
    }        

    mainManager.add(outerTable);
    add(mainManager);                
}// end of the addDetailListing 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T10:56:44.473

您将*详细信息* `Field`称为*button*，但这是您实现它的方式：

```
 LabelField viewDetailButton=new LabelField("View Detail"); 
```

它实际上不是一个真正的按钮，而是一个`LabelField`. 我相信`LabelField`默认情况下对象[是不可聚焦的](http://supportforums.blackberry.com/t5/Java-Development/Focusable-custom-LabelField/td-p/236152)。您可以通过执行以下操作使它们具有焦点：

```
 LabelField viewDetailButton=new LabelField("View Detail", Field.FOCUSABLE); 
```

不过，您可能需要重写`paint()`或`onFocus()`在匿名`LabelField`类中自定义`viewDetailButton`焦点时的外观。

# gwt - 一次在日历上显示两个月

> ID：12363856
> 
> 赞同：1
> 
> 时间：2012-09-11T06:23:33.297
> 
> 标签：gwt, datepicker, datebox

`DateBox`如何使用`DatePicker`GWT在日历中并排显示两个月？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:37:08.947

您可以在面板中并排设置两个 DatePicker 小部件并同步它们的更改（即，当一个向前移动一个月时，另一个也向前移动一个月）。恐怕它会让您的用户感到非常困惑，因为每个 DatePicker 仍然会有自己的控件。

唯一的其他选择是从头开始将此小部件构建为新的复合小部件。

# postgresql - postgresql 从内部函数运行外部 sql 脚本

> ID：12363861
> 
> 赞同：1
> 
> 时间：2012-09-11T06:24:14.263
> 
> 标签：postgresql, plpgsql

从 postgres 的存储函数中运行外部 sql 脚本的最佳方法是什么？

[这个问题](https://stackoverflow.com/questions/129445/postgresql-psql-i-how-to-execute-script-in-a-given-path) 解释了如何从在 psql 中运行的脚本中调用外部脚本，但是我需要在调用周围包装逻辑，所以它必须在存储的函数中完成。

例如。

```
/tmp/scripts$ cat create_db.sql 
CREATE TABLE dbVersion (
        versionNum VARCHAR(10) NOT NULL,
        applied TIMESTAMP
        PRIMARY KEY (versionNum)
);

/tmp/scripts$ cat upgrade_db.sql 
CREATE OR REPLACE FUNCTION UpgradeDB (dbName VARCHAR)
RETURN void AS $$
DECLARE
BEGIN
        IF EXISTS (SELECT datname from pg_database WHERE datname = dbName) THEN
                --Do upgrade code
        ELSE
                --Install Fresh
                \i /tmp/scripts/create_db.sql;
        END IF;
END;
$$ language plpgsql;

SELECT UpgradeDB('foo'); 
```

这（不出所料）给出了一个错误

错误：“\”处或附近的语法错误

我可以使用[plsh](http://plsh.projects.postgresql.org/)来调用，类似于（未经测试）...

```
CREATE FUNCTION callSQLScript(scriptPath text) 
RETURNS void AS $$
    #!/bin/sh
    plsql -f scriptPath
$$ LANGUAGE plsh;

SELECT callSQLScript('/tmp/scripts/create_db.sql'); 
```

但这似乎很笨拙。

只是 plsh 的 RTFM，它指出“shell 脚本可以做任何你想做的事情，但你不能访问数据库”，所以这可能行不通。

注意，我无法复制/粘贴这些代码段，因此可能存在拼写错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:40:55.297

我认为您的 plsh 脚本会起作用，尽管您拼写`psql`错误。它没有访问数据库。它正在调用另一个程序来执行此操作。作为一个重要的警告，这意味着脚本将*在一个单独的事务甚至一个单独的会话*中运行，这可能不是你想要的。

如果我这样做，我会创建一个表：

```
CREATE TABLE sql_jobs (
      job_id serial not null unique, -- machine key
      job_name text primary key,
      sql_to_execute text not null
); 
```

然后你可以选择一个变量并执行。当然要注意安全......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-13T16:37:01.270

\i 不起作用的原因是因为 \i 是 PSQL 命令而不是 Postgresql 命令，因此您不能在函数中使用 \i，因为该函数由服务器评估。

您的解决方案：

1.  在函数中写Sql
2.  在表中写sql并使用EVAL函数
3.  您建议的 plsql（但您应该使用 psql）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-12T15:45:03.537

我发现我在 Fedora 上安装的 rpm 版本的 Postgres 没有 perl 或 sh 语言扩展（如 plperlu），因此该选项已失效。但是，安全地执行此操作的关键是带有 TO PROGRAM 选项的 COPY 函数将执行命令并将 stdin 传递给它。

1.  创建 bash shell 脚本以运行预期的外部函数。确保脚本中的第一行格式为“#!/bin/sh”或“#!/bin/bash”（您在此处的偏好，这是将使用的 shell）；

2）将shell脚本名称更改为单个单词。IOW，没有尾随“.sh” 将权限设置为：chmod u+x

3) 查看您的路径 (echo $PATH)，然后选择一个系统目录来将此脚本文件复制到其中。

4）您的脚本现在将像任何其他脚本一样成为“命令”。您可以使用带有 TO PROGRAM(commandnamehere) 函数的 COPY 函数来执行它。

参考：

将脚本变成命令 [https://docs.fedoraproject.org/ro/Fedora_Draft_Documentation/0.1/html/RPM_Guide/ch14s04s04.html](https://docs.fedoraproject.org/ro/Fedora_Draft_Documentation/0.1/html/RPM_Guide/ch14s04s04.html)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-11-26T08:12:40.980

您可以使用命令：

```
psql -d myDataBase -a -f /tmp/scripts/create_db.sql; 
```

在你的 Else 块内

# java - Java中半结构化数据的贝叶斯分类

> ID：12363862
> 
> 赞同：4
> 
> 时间：2012-09-11T06:24:20.753
> 
> 标签：java, filtering, bayesian, classification

我想针对以下情况训练和使用贝叶斯分类器：

*   半结构化数据 - 基本上是 XML 模式
*   信息包含在多个纯文本字段中
*   架构的某些字段/部分可能会重复任意次数

分类本身相当简单——基本上我需要文档属于特定类别的概率。

设计约束：

*   解决方案必须是开源的，或者在另一个免版税许可下可用
*   必须可以保存/加载分类器以供将来使用
*   必须可以将这个库嵌入到更大的基于 Java 的应用程序中（即必须在 Java/JVM 库中工作）

是否有适合此要求的库/工具？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T20:28:12.463

我不确定您是否已经准备好分类器，但我已经在几个抽屉项目中使用了 Apache 的[UIMA](http://uima.apache.org)框架。UIMA“只是”一个框架，但确实带有一些[逻辑](http://uima.apache.org/sandbox.html#uima-addons-annotators)。一些重型谷歌搜索提出了一个[使用 UIMA 的示例贝叶斯分类器](http://www.koders.com/java/fidFF0777E6B53A391B8BB9D81903EFE3170F8CEAB8.aspx?s=150)。

它具有在运行时修改配置的机制，但我也有点不清楚您所说的“保存和加载分类器”是什么意思。这是否意味着您有一组二进制分类器要在运行时加载（和卸载），或者您是否有不同的模型要加载/卸载？

您的其他问题的答案是：

*   是的，UIMA 是开源的，在 ASLv2 下发布
*   是的，您可以将 UIMA 作为库嵌入到您的应用程序中。

# codeigniter - CodeIgniter 2.xx 的 Paypal_lib

> ID：12363863
> 
> 赞同：2
> 
> 时间：2012-09-11T06:24:23.570
> 
> 标签：codeigniter, paypal

我似乎无法找到下载 Paypal_lib 的位置。CodeIgniter 2.xx 是否已更新？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T11:21:09.287

如果您打算在 CI 中使用 AIO 库，那么这里是另一个库

*   2结帐
*   授权.Net AIM
*   授权.Net SIM
*   DPS PaymentExpress PxPay
*   DPS PaymentExpress PxPost
*   eWay Direct
*   eWay 共享
*   无卡
*   理想的
*   手动的
*   支付流专业版
*   **贝宝快速结帐**
*   **贝宝网站支付专业版**
*   SagePay 直接付款
*   SagePay 服务器
*   条纹
*   WorldPay
*   和更多

CI-Merchant 是一个基于驱动程序的支付处理库，专为在 CodeIgniter Web 应用程序中使用而构建。它允许您使用一致的 API 集成任何受支持的支付网关。

[http://ci-merchant.org/](http://ci-merchant.org/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T07:10:50.520

这是您找到[**Codeigniter 贝宝 IPN的链接**](https://github.com/orderly/codeigniter-paypal-ipn)

或者这里是另一个链接 [**codeigniter paypal**](https://www.x.com/devzone/articles/paypal-library-for-php-codeigniter-framework)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T07:12:06.800

**这里是：**

**[https://github.com/EllisLab/CodeIgniter](https://github.com/EllisLab/CodeIgniter)**

**另一个推荐的库：**

**[用于 PayPal 支付的 CodeIgniter PHP 库](http://www.angelleye.com/download-codeigniter-php-library-for-paypal-payments-pro/)**

# java - 休眠：无法在类上找到适当的构造函数

> ID：12363867
> 
> 赞同：1
> 
> 时间：2012-09-11T06:24:45.627
> 
> 标签：java, hibernate

这是我的课：

```
public class TrainLate {

private int id;
private Date startDate;
private Date endDate;
private Set<TrainSchedule> ts=new HashSet<TrainSchedule>(); 
public TrainLate(){}
public TrainLate(int id, Date startDate, Date endDate) {
    super();
    this.id = id;
    this.startDate = startDate;
    this.endDate = endDate;
}

    // setters and getters...
} 
```

日期类型是`java.sql.Date`

在另一堂课中，我使用 HQL：

```
String hql="SELECT new TrainLate(id,startDate,endDate) FROM TrainLate "+                "WHERE id="+String.valueOf(index); 
```

其中 index 是一个 int 参数。

这是“TrainLate.hbm.xml”：

```
<class name="classes.TrainLate">
    <id name="id">
        <generator class="native"/>
    </id>
    <property name="startDate"/>
    <property name="endDate"/>
    <set name="ts"  lazy="false" cascade="all-delete-orphan" inverse="true">
           <key column="trainLateID" />
           <one-to-many class="classes.TrainSchedule" />
          </set>  
</class> 
```

这是一个例外：

```
Unable to locate appropriate constructor on class [classes.TrainLate] [SELECT new TrainLate(id,startDate,endDate) FROM classes.TrainLate WHERE id=0] 
```

其中“类”是包名。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T06:43:59.077

首先：Hibernate 要求您的实体具有默认的无参数构造函数。

第二：您的 hql 应该是：`"from TrainLate t where t.id = :id"`.

```
String hql = "from TrainLate t where t.id = :id";
List<TrainLate> result = (List<TrainLate>) session.createQuery(hql).setParameter("id", 1).list(); 
```

甚至更好。当您知道实体的 id 时，您无需使用 hql 进行搜索：

```
TrainLate t = session.get(TrainLate.class, 1L); // I assume your id is a Long 
```

`null`如果未找到实体，则返回。

或者

```
TrainLate t = session.load(TrainLate.class, 1L); // I assume your id is a Long 
```

`ObjectNotFoundException`如果未找到实体，则会抛出一个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T06:44:28.403

我知道这听起来很傻，但你试过调试这个东西吗？

我的第一个想法是（如果我是休眠状态 :)）使用 No-OP 构造函数创建一个 TrainLate 对象，然后调用一系列设置器来设置 id、startDate 和 endDate。

我没有在你的代码片段中看到它...

# javascript - 避免输入一些特殊字符

> ID：12363868
> 
> 赞同：0
> 
> 时间：2012-09-11T06:24:49.403
> 
> 标签：javascript, character

我有一个用于证明用户名的文本框。但是我想在他们尝试键入或尝试粘贴单词（以及特殊字符）时限制特殊字符。我怎么能通过js做到这一点。已经编写了一个代码，但只有我可以在打字期间限制那里的特殊字符，但是当我在该文本框上粘贴一些单词时无法限制这些字符。我的代码是这样的：

```
<input type="text" name="bus_uname" id="bus_uname" class="reg-line-input"
  value="<?php echo ($back_uname!='')?$back_uname:'Business Username';?>"
  onblur="if(this.value=='') this.value='Business Username'"
  onFocus="if(this.value=='Business Username') this.value='';"
  onkeypress="return usernameonly(event, false)" /> 
```

在js中

```
function usernameonly(e, decimal) {
    var key;
    var keychar;

    if (window.event) {
       key = window.event.keyCode;
    }
    else if (e) {
       key = e.which;
    }
    else {
       return true;
    }
    keychar = String.fromCharCode(key);

    if ((key==null) || (key==0) || (key==8) ||  (key==9) || (key==13) || (key==27) ) {
       return true;
    }
    else if ((("!@#$%^&*()_+-=?/.><,';:").indexOf(keychar) > -1)) {
       return false;
    }
    //else
    //   return false;
} 
```

请帮助如何解决此问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:33:40.693

```
<input type="text" name="bus_uname" id="bus_uname" class="reg-line-input" value="<?php echo ($back_uname!='')?$back_uname:'Business Username';?>" onblur="if(this.value=='') this.value='Business Username'" onFocus="if(this.value=='Business Username') this.value='';" onkeypress="return usernameonly(event, false)" onpaste="return false" /> 
```

我添加了`onpaste="return false"`这样您的用户将无法粘贴，他们必须输入用户名。

# java - 在eclipse中重构一个字段

> ID：12363876
> 
> 赞同：5
> 
> 时间：2012-09-11T06:25:49.093
> 
> 标签：java, eclipse

当我使用 Ctrl+1 在 Eclipse 中重命名变量时，它不会重命名 getter/setter 方法。有没有办法重命名方法。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-11T06:32:08.210

`Alt+Shift+R`在必填字段上使用。在出现的对话框中选择“打开重命名对话框”并选中相应的复选框

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-09-11T06:33:48.650

*使用Refactor > Rename 重*命名字段，然后在工具提示中选择“打开重命名对话框”。或者，更简单的是，按两次 Ctrl+R。

在重命名对话框中，您可以选择重命名字段的 getter 和 setter。

您在那里应用的设置是持久的，因此在检查*Rename getter*和*Rename setter*之后，下一个 inline-rename 也将遵循该设置并重命名 getter 和 setter。

![Eclipse 3.7 中的重命名对话框](../Images/7fb8b212bcdd43834c4d18b9afe75c84.png)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-09-11T06:27:19.337

`Select Field - > right click - > Refactor-> encapsulate field`.

# parsing - 如何处理来自 AT+CMGL 命令的奇怪消息

> ID：12363879
> 
> 赞同：2
> 
> 时间：2012-09-11T06:26:02.560
> 
> 标签：parsing, gsm, at-command

我有一些代码（顺便在 .net 中，但我认为这并不重要）通过插入 Windows 7 PC 的 USB 端口的 GSM 调制解调器发送和接收 SMS 消息（使用`AT`发送到虚拟串行端口的命令） .

它通常工作得很好（因为我可以理解传入的大部分消息），但是当我发出`AT+CMGL`命令时，我经常收到一条不是我期望看到的消息，或者我可以弄清楚它是什么。

这是一个示例（我更改了地址和正文的值，因为我不知道此消息是否包含我不想公开的任何信息，但我保持值的长度相同并放入字符指示消息）：

```
+CMGL: 0,"REC READ","7700000000000000000000",,"12/09/10,10:25:06+08"
0123456789ABCDEF00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
+CMGL: 1,"REC READ","7700000000000000000000",,"12/09/10,10:25:07+08"
000000000000000000000000000000000000000000000000000000000000000000000000000000090000000000000000000000000000000000000000

OK 
```

让我印象深刻的第一件事是它`address`很长并且不包含a `+`（或开头00），因此看起来并不像电话号码（至少在我对电话号码的有限理解范围内）。因此，我想知道这是否可能是来自我的电信提供商的消息。

其次，消息的主体看起来是十六进制值，所以它可能是一些二进制数据。所以，我的问题是...

**有什么方法可以解码这些消息以找出它们的实际含义吗？**

（我尝试将主体加载到二进制数组中并将其转储到带有 .jpg 扩展名的磁盘中，以查看它是否是图像，但当然这不起作用）。

这感觉可能是参数设置 - 是否有某种标题我可以阅读以找出是否是这种情况？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T22:07:34.917

是的，可以解析这些，并且您对这是十六进制数据的怀疑也是正确的。这可能是由于字符编码而发生的。

我刚刚写了一个关于 UCS-2 字符编码[的答案](https://stackoverflow.com/a/15851012/23118)`AT+CMGL`，以及十六进制编码的情况。从阅读它开始。然后阅读[27.005](http://www.3gpp.org/ftp/Specs/html-info/27005.htm)以了解有关`<data>`格式的详细信息，看看您是否可以弄清楚如何检测它何时是十六进制编码的。

如果您无法弄清楚，或者在任何情况下，您可以将字符编码设置`"HEX"`为始终获取十六进制编码的数据，尽管这并不能神奇地解决您的所有问题，因为您总是会得到十六进制编码的数据，您仍然需要知道您收到的数据的确切字符编码，如果这可能会有所不同，您必须知道何时......

因此，也许使用 UCS-2 并不是一个坏主意，因为这样您就知道所有接收到的数据都将采用完全相同的格式和编码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-12T11:27:13.307

我不确定我解决您的问题的正确程度，但我猜您的调制解调器设置不支持您收到消息的格式。为消息启用了哪种格式？文本还是PDU？

AT+CMGF 命令将返回支持的消息格式。AT+CMGF=1 设置为文本格式。

# linux - 我想用单独的文件夹存储过去 10 天的数据库备份

> ID：12363881
> 
> 赞同：0
> 
> 时间：2012-09-11T06:26:11.077
> 
> 标签：linux, shell

以下用于存储 laste 10 数据库备份的 shell 脚本。但有一个小问题。该脚本创建带有日期和时间的每个数据库的 *.zip 文件并存储在备份文件夹中。所以如果我有 4 个数据库，那么它将创建 4 个 zip 文件。对于最后 10 天的备份，这意味着我总共备份了 40 个数据库。

我想用单独的文件夹存储过去 10 天的数据库备份。这样每个文件夹都包含数据库的备份。

以下是shell脚本。

```
MHOST=localhost
MUSER=backup
MPASS=SECRET
BACKUPDIR="/mnt/backup"

MYSQL="$(which mysql)"
MYSQLDUMP="$(which mysqldump)"
GZIP="$(which gzip)"

DBPREFIX="$(hostname -s).mysqldb"

echo "Run MySQL backup"
DBS="$($MYSQL -u $MUSER -h $MHOST -p$MPASS -Bse 'show databases')"
for db in $DBS
do
    FILE=${BACKUPDIR}/${DBPREFIX}.${db}.`date +%Y%m%d`.gz
    $MYSQLDUMP --no-tablespaces --skip-lock-tables -u $MUSER -h $MHOST -p$MPASS $db | $GZIP -9 > $FILE
done 

find  -name "${BACKUPDIR}/${DBPREFIX}*" -type f -mtime +10 -exec rm -f '{}' ';' 
```

我是 Linux 环境的新手。

请帮助我

最好的问候 Arvind Porlekar

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:40:09.033

```
MHOST=localhost
MUSER=backup
MPASS=SECRET
BACKUPDIR="/mnt/backup"

MYSQL="$(which mysql)"
MYSQLDUMP="$(which mysqldump)"
GZIP="$(which gzip)"

DBPREFIX="$(hostname -s).mysqldb"

# changed
DATE_FOR_FOLDER=`date +%y%m%d`
makedir -p "$BACKUPDIR/$DATE_FOR_FOLDER"

echo "Run MySQL backup"
DBS="$($MYSQL -u $MUSER -h $MHOST -p$MPASS -Bse 'show databases')"
for db in $DBS
do
    # changed
    FILE=${BACKUPDIR}/${DATE_FOR_FOLDER}/${DBPREFIX}.${db}.`date +%Y%m%d`.gz
    $MYSQLDUMP --no-tablespaces --skip-lock-tables -u $MUSER -h $MHOST -p$MPASS $db | $GZIP -9 > $FILE
done 

# changed
find  -name "${BACKUPDIR}" -type d -mtime +10 -exec rm -rf '{}' ';' 
```

# erlang - 哪个更可取？警卫还是箱子？

> ID：12363882
> 
> 赞同：14
> 
> 时间：2012-09-11T06:26:17.343
> 
> 标签：erlang

风格一：

```
a(X) when X>1 -> 
    ...omitted;
a(X) when X ->
    ...omitted. 
```

风格 2

```
a(X) ->
    case X>1 of
        true-> ...ommited;
        false-> ...ommited
    end. 
```

====更新===

正如@rving 所说，我将比较更新如下：

风格一：

```
a(X) when X>1 -> 
    ...omitted;
a(X) ->
    ...omitted. 
```

风格 2

```
a(X) ->
    case X>1 of
        true-> ...ommited;
        false-> ...ommited
    end. 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-11T06:58:57.783

[Learn You Some Erlang 关于函数语法的部分](http://learnyousomeerlang.com/syntax-in-functions)指出，函数子句和 case 语句基本相同，除了一个区别：子句中的模式匹配可以处理多个模式，而 case 语句只能处理一个语句。

除此之外，我相信这是一个品味问题。当案例非常不同时，我倾向于使用不同的函数子句（例如：完整的函数将表现不同），当我希望代码发散并随后再次合并时，我使用案例语句，例如计算 a 的值基于表达式的变量。

**编辑** 正如 RobertAloi 在下面的评论中指出的那样，使用`case .. of`. 此外，正如 rvirding 所写，编译器在将不同的表达式包装在一个元组中以允许匹配它们时进行了一些优化。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-12T04:15:10.357

您还应该考虑测试 BIF 的结果在保护中的行为与在函数中的行为不同。

我最近了解到这一点，例如`(length(L) > -1)`，当 L 是不正确的列表时，函数内部崩溃但守卫不崩溃。

# intellij-idea - TeamCity 服务器看不到正在运行的代理

> ID：12363885
> 
> 赞同：6
> 
> 时间：2012-09-11T06:26:25.300
> 
> 标签：intellij-idea, continuous-integration, teamcity, build-server

我们有几个虚拟机分布在几个数据中心。每个 VM 都有自己的具有不同时区的重启计划。问题是当带有 TeamServer 的 VM 正在重新启动并且具有 buildAgent 的其他 VM 正在运行构建时，然后在重新启动服务器后无法找到代理。它显示为断开连接。问题肯定出在日程安排上，但我没有在日志中找到它。我在`launcher.log`

> [2012-09-09 10:02:06,356] 信息 - ldServer.agent.run.AgentRunner - 代理进程已完成 [2012-09-09 10:02:06,379] 信息 - ldServer.agent.run.AgentRunner - 代理已退出代码：30 [2012-09-09 10:02:06,382] 信息 - ldServer.agent.run.AgentRunner - 启动器正在退出
> 
> ...
> 
> [2012-09-10 12:53:02,826] 信息 - ldServer.agent.run.AgentRunner - 2012 年 9 月 10 日星期一 12:53:02 BST ==> 开始启动

是什么`Agent has exited with code: 30`意思？这是否意味着构建代理当时被杀死或出于某种原因被迫自杀？

# mysql - MySQL 触发器不起作用

> ID：12363888
> 
> 赞同：3
> 
> 时间：2012-09-11T06:26:41.087
> 
> 标签：mysql, triggers

我的触发器有点问题。我创建了一个触发器：

```
BEGIN 

IF((SELECT `Wert` 
    FROM parameter_history 
    WHERE `BusNr` = NEW.BusNr AND `MesswertNr` = NEW.MesswertNr 
    ORDER BY `Timestamp` DESC LIMIT 1) != NEW.Value) 

THEN 
    INSERT INTO parameter_history (`BusNr`, `MesswertNr`, `Value`) 
    VALUES (NEW.BusNr, NEW.MesswertNr, NEW.Value); 
END IF; 

END 
```

触发器的事件是在更新之后。如果已经有一个`New.Value`它真的很好用。但如果`New.Value`我的数据库中没有，它就不起作用，我不知道为什么。问题是，当我的表中实际上没有条目时，我无法从“NEW.Value”中获取值。使用 MySQL-Programm 我得到“0 Rows found”，我想解决这个问题。

有谁能够帮我？

亲切的问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-25T22:34:48.663

当然，如果您的声明中已经有 NEW.value ，它会起作用，

```
 IF((select x) != NEW.Value)  // select x only when it does not equal 
//what the current value of New.Value is.

THEN  // preform my insert statement. 
    INSERT INTO parameter_history (`BusNr`, `MesswertNr`, `Value`) 
    VALUES (NEW.BusNr, NEW.MesswertNr, NEW.Value); 

END IF; 
```

现在考虑New.Value不存在或者为空(null)的情况，你正在运行，只有当它不等于时才选择x???? .

您将返回 0 行。

我不太确定您正在构建什么，但为什么不使用 New.Value 的默认值，然后在需要时运行一个过程来更新它，然后您的触发器将在非空字段上更新后执行？

# visual-studio-2012 - Visual Studio 2012 和接口的代码合同

> ID：12363894
> 
> 赞同：1
> 
> 时间：2012-09-11T06:27:07.470
> 
> 标签：visual-studio-2012, code-contracts

我有一个 Visual Studio 解决方案，其中包含分别用 ContractClass 和 ContractClassFor 装饰的接口和合同的项目。

该解决方案在 Visual Studio 2010 下正确构建，但在 Visual Studio 2012 下无法构建。错误：

> 执行：错误 CC1019：类型“Namespace.Interface”指定类“Namespace.ContractClass”作为其合同类

我更新到最新版本的代码合同工具（1.4.50813.1），运行“devenv /setup”并重新启动机器。

对此有什么帮助吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-25T12:44:03.893

您是否尝试`"Perform Static Contract Checking"`从属性窗口中删除？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-25T15:31:45.410

Visual Studio 允许您通过 Visual Studio 的“项目属性”页面更改 CodeContract 选项。

MSDN 对此有一篇很好的文章，并附有一些屏幕截图来帮助您 ( [http://msdn.microsoft.com/en-us/magazine/hh148151.aspx](http://msdn.microsoft.com/en-us/magazine/hh148151.aspx) )

有一个标有**“执行静态合同检查”**的复选框，这是这些问题的常见原因。

如果这不能解决您的问题，我建议您将 VS2012 中的设置与 VS2010 中的设置进行比较。

# bash - 如何在修复命令中使用调试陷阱而不回显陷阱命令？

> ID：12363901
> 
> 赞同：0
> 
> 时间：2012-09-11T06:27:44.733
> 
> 标签：bash

我开始使用这个[答案](https://stackoverflow.com/a/1862762/1564022)在我的提示符中打印经过的命令时间。但是每当我进入修复模式时，也会回显陷阱命令。这是一个例子：

```
[last: 0s][~]$ sleep 2 && echo hello world
hello world
[last: 2s][~]$ fc
sleep 2 && echo hello world
timer_start
timer_start
hello world 
```

我发现[这个更复杂的提示](http://www.dhampir.no/stuff/bash/bash_prompt.bash)也使用了 DEBUG 陷阱，但没有遇到这个问题——它只是打印命令和结果：

```
...$ sleep 2 && echo hello world
hello world
...$ fc
sleep 2 && echo hello world
hello world 
```

但我无法弄清楚它是如何做到这一点的。如何在不`timer_start`回显每个执行的命令的情况下使用第一个示例？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T09:52:39.993

`set -vx`表明 start_timer 在 stop_timer (PROMPT_COMMMAND) 被调用时被调用，所以它被调用了太多次。

更短的解决方案：

```
trap 'timer=$SECONDS' DEBUG
PS1='[last: $((SECONDS-timer))s][\w]$ ' 
```

甚至更短

```
trap 'SECONDS=0' DEBUG
PS1='[last: ${SECONDS}s][\w]$ ' 
```

另一种解决方案：在提示中使用时间

```
trap 'date "+[%H:%M:%S]"' DEBUG
PS1='[\t][\w]$ ' 
```

# javascript - Jquery-每个循环不更新变量

> ID：12363906
> 
> 赞同：0
> 
> 时间：2012-09-11T06:28:16.867
> 
> 标签：javascript, jquery

有人可以告诉我为什么这不起作用吗？

```
 var items = "<select id=\"orderer_search\" name=\"search\">";
  $.getJSON("https://dev.xxx.com", 
    function(data){
     $.each(data, function(index,item) { 
       items += "<option value='" + item + "'>" + item + "</option>";
     });           
  });

  items += "</select>"; 
```

如果我在之前放置警报（项目）：

```
items += "</select>"; 
```

值为：

```
<select id="orderer_search" name="search"> 
```

但是如果我在每个循环中放置一个警报，每个弹出窗口都会显示从 JSON 请求返回的值。

几乎就像每个循环结束后，它正在删除我`items`在每个循环期间添加到变量中的所有内容。我是 JQuery 的新手，所以我确信这很简单。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:31:05.233

它并没有删除所有内容，当您这样做时，JSON 请求还没有完成`items += "</select>";`！

[`$.getJSON`](http://api.jquery.com/jQuery.getJSON/)异步运行，这意味着该语句开始对给定 URL 的请求，但它不等待答案，然后程序流程继续执行下一条语句（在您的情况下`items += ...`，不等待`$.getJSON`完成！仅当响应到达，调用给定的成功函数。

在如何解决该问题时，您有两种选择。备选方案 1 将推迟`items`字符串的所有组合，直到`$.getJSON`成功：

```
$.getJSON("https://dev.xxx.com", 
    function(data){
       var items = "<select id=\"orderer_search\" name=\"search\">";
       $.each(data, function(index,item) { 
           items += "<option value='" + item + "'>" + item + "</option>";
       });
       items += "</select>";
       alert(items); // or whatever else you have to do with items
    }
); 
```

备选方案 2 是[使`$.getJSON`调用非异步](https://stackoverflow.com/questions/2765411/is-it-possible-to-set-asyncfalse-to-getjson-call)，以便函数等待响应的到来。您必须使用该`$.ajax`功能，如下所示：

```
var items = "<select id=\"orderer_search\" name=\"search\">";
$.ajax({
    url: "https://dev.webshop.restore.net.au/_pag/shop/TEST/?
          bc=TEST&sec=order%2F&pag=get_orderers_list",
    dataType: 'json',
    async: false,
    success: function(data) { 
        $.each(data, function(index,item) { 
            items += "<option value='" + item + "'>" + item + "</option>";
        }
    }
});
items += "</select>";
alert(items); // or whatever else you have to do with items 
```

备选方案 1 有可能使您的脚本更具响应性，如果除了填写此选择之外还有其他事情要做；因为那时请求在后台运行，与您的其他代码准并行。所以我通常会这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T06:31:19.150

试过这样..???

```
var items = "<select id=\"orderer_search\" name=\"search\">";
$.getJSON("https://dev.webshop.restore.net.au/_pag/shop/TEST/?
          bc=TEST&sec=order%2F&pag=get_orderers_list", 
function(data){
 $.each(data, function(index,item) { 
   items += "<option value='" + item + "'>" + item + "</option>";
 }); 
   items += "</select>";
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:32:46.590

$.getJSON() 函数是异步的，这意味着您稍后会得到结果。

所以这部分代码在之前执行：

```
 items += "</select>"; 
```

你所要做的就是在你的 AJAX 请求的答案中执行一切。

```
 var items;
  $.getJSON("https://dev.webshop.restore.net.au/_pag/shop/TEST/?
              bc=TEST&sec=order%2F&pag=get_orderers_list", 
    function(data){
     items = "<select id=\"orderer_search\" name=\"search\">";
     $.each(data, function(index,item) { 
       items += "<option value='" + item + "'>" + item + "</option>";
     });
     items += "</select>";
  }); 
```

# asp.net - 如何从后面的代码中验证 HTML 控件是否存在

> ID：12363908
> 
> 赞同：0
> 
> 时间：2012-09-11T06:28:22.820
> 
> 标签：asp.net, html

我有一个 asp.net 表单。

但是表单内的控件在 1 个文本框和 2 个下拉列表中作为一行。

并且有一个“加号”和“减号”按钮供用户添加和删除行。

提交表单后，我将通过使用从这些控件中获取值`Request.Form["ControlName"]`

但我需要确认是否`["ControlName"]`存在。

我可以把那段代码放进`try catch`去确认这样

```
for(int a=1;a<10;a++)
{
  try 
  {
    Response.Write(Request.Form["ControlName"+a.ToString()]);
  }
  catch {}
} 
```

通过这样做，理论上不存在的控件将被catch语句捕获。

但我正在尝试使用另一种方法进行检查，例如`FindControl("ServerControlID")`

但那是`server controls`唯一的。

我的前面代码将是这样的

```
<input type="text" id="txt1" name="txt1"/>

<input type="text" id="txt2" name="txt2"/>

<input type="text" id="txt4" name="txt3"/> 
```

注意：我无法添加`runat="server"`。如果是这样，我可以使用`FindControl()`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T07:24:11.070

如果要访问服务器端的控件（代码隐藏），则该控件必须是服务器控件甚至是带有`runat = "server"`属性的html控件，通过引入您可以访问HTML控件。

```
<input type="text" id="txt1" name="txt1" runat = "server"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T08:52:30.837

您可以使用`NameValueCollection`返回的`Request.Form.AllKeys`.
这会返回一个`IEnumerable`

使用Linq检查如下：

```
for(int a=1;a<10;a++)
{
  var paramName = "ControlName"+a.ToString();
  if(Request.Form.AllKeys.Contains(paramName ))
  {
    Response.Write(Request.Form[paramName ]);
  }
  else
  {
    //key not present
  }
} 
```

# iphone - 如何使用 CoreData 检索列中最后插入的值？

> ID：12363910
> 
> 赞同：-3
> 
> 时间：2012-09-11T06:28:25.977
> 
> 标签：iphone, ios, core-data

在我的 CoreData 应用程序中，我想显示最后插入`stdId`的`Table`Student。有没有简单的方法来检索列中最后插入的值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T21:59:18.793

如果在您的`Student`实体中添加`NSDate`类似`createdAt`.

插入新的`Student`时，您需要传递该属性的当前日期。

```
[aStudent setValue:[NSDate date] forKey:@"createdAt"]; 
```

或者

```
aStudent.createdAt = [NSDate date]; 
```

如果您创建了`Entity`.

完成后，您可以`Student`使用限制 1 和升序值的排序描述符来获取`NO`。

```
NSFetchRequest* request = [NSFecthRequest fetchRequestWithEntityName:@"Student"];
[request setFetchLimit:1];

NSSortDescriptor *sortDescriptor = [[NSSortDescriptor alloc] initWithKey:@"createdAt" ascending:NO];
NSArray *sortDescriptors = [[NSArray alloc] initWithObjects:sortDescriptor, nil];
[request setSortDescriptors:sortDescriptors];

NSError *error;
NSArray *results = [context executeFetchRequest:request error:&error];

NSManagedObject *latestAddedStudent = [results objectAtIndex:0]; 
```

希望有帮助。

# iphone - 在 UISegmentedControl 中查看多个段

> ID：12363911
> 
> 赞同：0
> 
> 时间：2012-09-11T06:28:27.527
> 
> 标签：iphone, uisegmentedcontrol

我的 UISegmentedControl 中有以下 6 个段

1)目标 2)概念 3)操作方法 4)注意 5)模拟 6)CYU

当我启动我的应用程序时，我只能看到 3 个片段，而其他 3 个片段由于模拟器框架而保持隐藏，我如何显示所有 6 个片段？如何切换其他细分市场？抱歉这个菜鸟问题，我在任何地方都找不到任何解决方案

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T07:16:21.947

一种选择是

```
UIScrollView *scroll = [[UIScrollView alloc] initWithFrame:CGRectMake(0, 0, 320, 60)];
scroll.showsHorizontalScrollIndicator = NO; //disable horizontal scroll
scroll.showsVerticalScrollIndicator = NO; //disable vertical scroll

NSArray *itemArray = [NSArray arrayWithObjects: @"Objective", @"Concept", @"How-to-Do",@"Note",@"Simulation",@"CYU", nil];
UISegmentedControl *segmentedControl = [[UISegmentedControl alloc] initWithItems:itemArray]; //provide array of segment names
segmentedControl.frame = CGRectMake(0, 0, 600, 50);//change accordingly
segmentedControl.segmentedControlStyle = UISegmentedControlStylePlain;
segmentedControl.selectedSegmentIndex = 1; //by default selected index

[scroll addSubview:segmentedControl]; // add segment 
 scroll.contentSize = CGSizeMake(segmentedControl.frame.size.width, segmentedControl.frame.size.height+10); //change accordingly
[segmentedControl release]; 
[self.view addSubview:scroll]; //add scroll view 
```

# hadoop - hadoop 的用例

> ID：12363912
> 
> 赞同：0
> 
> 时间：2012-09-11T06:28:35.610
> 
> 标签：hadoop

最近在学习hadoop，发现只是读取文本数据和计算字数的例子。或多或少所有示例都具有相同的任务。请帮助我理解它是hadoop的唯一用例吗？请为我提供一些更真实用例的参考资料，或者我可以理解和编写可以使用hadoop的地方。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T08:26:51.600

我可以尝试概述一些限制自己使用 MapReduce 的方向： a) ETL - 数据转换。这里 hadoop 大放异彩，因为延迟并不重要，但可扩展性是
b) Hive / Pig。在某些情况下，我们实际上需要在大数据集上使用 SQL 或类似 SQL 的功能，但买不起商业 MPP 数据库
c) 不同类型的日志处理。
d) 深度分析——当我们只想在海量数据上运行 java 代码时。Mahaout 在许多情况下用作机器学习库。

# java - HttpsURLConnection.getInputStream() 会自动重试吗？

> ID：12363913
> 
> 赞同：5
> 
> 时间：2012-09-11T06:28:38.387
> 
> 标签：java, timeout, httpsurlconnection

我正在使用 HttpsURLConnection 向服务器发出服务请求，如下面的代码：

```
URL url = new URL("service/url");
HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();
connection.setConnectionTimeout(300000);
connection.setReadTimeout(300000);
parse (connection.getInputStream()); 
```

服务有时可能需要更长的时间，所以理想情况下我应该期待一个超时异常，但客户端正在重试并再次发送相同的请求。有没有办法明确禁用任何类型的重试？而且我什至不确定设置的超时方法是否有任何区别。

我正在使用 Java 1.6

更新
我尝试了 connect() 和 getResponseCode() 而不是 getInputStream() 但行为相同：

```
URL url = new URL("service/url");
HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();
connection.setConnectionTimeout(300000);
connection.setReadTimeout(300000);
connection.connect();
connection.getResponseCode(); 
```

即使这是提出2个请求。

更新
[HttpClient](http://hc.apache.org/httpclient-3.x/)解决了这个问题。在 HttpClient 中，您可以将重试显式设置为 false

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T08:42:48.960

你不应该打电话`openConnection()`and `connect()`，只是打电话`openConnection()`。

# powershell - 如何在 Powershell 中通过 SNMP 获取 Cisco 端口信息？

> ID：12363915
> 
> 赞同：0
> 
> 时间：2012-09-11T06:28:48.217
> 
> 标签：powershell, snmp

我将获取 Cisco 交换机端口信息，例如 vlan、mac 地址表等。是否可以通过 Powershell 中的 SNMP 获取？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T12:35:26.333

您可以轻松地使用 net-snmp 命令行工具来实现您的目标，但如果您想使用 cmdlet 或本机 .NET API，到目前为止，我认为您做不到。

# bash - if ( ) < /dev/null

> ID：12363916
> 
> 赞同：18
> 
> 时间：2012-09-11T06:28:57.887
> 
> 标签：bash, unix

我无法解决这个问题。为什么会`/dev/null`被用作`if`语句的输入？下面有什么用`< /dev/null`？

```
if ( $PROG --version ) < /dev/null > /dev/null 2>&1; then
        $PROG
else
        echo "failed"
        exit 1
fi 
```

我（认为）我知道这`> /dev/null 2>&1`只是用来抑制`stdout`和的任何输出`stderr`。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-11T06:33:53.967

如果`$PROG`是一个期望来自 输入的程序，那么`stdin`您的脚本可能会永远停止等待您输入某些内容。 的用途`< /dev/null`是为这样的程序提供一个空输入。你是对的`>`and `2>&1`。

此脚本片段正在检查是否`$PROG --version`以 0 状态（成功）退出，然后运行该程序而没有任何标志。如果`$PROG --version`失败，脚本会回显“失败”并退出。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-09-11T07:01:33.743

我想你想知道为什么重定向在括号之外。

在这一行：

```
if ( $PROG --version ) < /dev/null > /dev/null 2>&1; then 
```

括号不是`if`语句语法的一部分；他们只是指定命令分组。（我花了一点时间才想起自己；在 csh/tcsh 中，括号*是*语句语法的一部分`if`。）

例如，这个：

```
( echo one ; echo two ) | tr a-z A-Z 
```

将产生这个输出：

```
ONE
TWO 
```

在这种情况下，由于`$PROG --version`是单个命令，因此括号是不必要的（除非`$PROG`扩展到多个命令，但这不太可能）。

所以重定向不适用于`if`语句；它适用于`$PROG --version`. 目的是不向 提供任何输入（就像从空文件中读取一样）`$PROG`，并丢弃它写入 stdout 或 stderr 的任何内容。如果`$PROG`是从标准输入读取的命令，即使使用 调用`--version`，那么如果没有输入重定向，它可能会挂起等待键盘输入。

该脚本假定只有在不产生错误时才可以安全地调用`$PROG`（无论它可能是什么） 。`$PROG --version`

请注意，您*可以*将重定向应用于 if 语句：

```
if test_command ; then
    something
else
    something_else
fi < /dev/null > /dev/null 2>&1 
```

`test_command`这会重定向、*和*`something`的输入和输出。 *`something_else`*

# c# - 在 asp.net 中通过源代码编写事件之间的区别

> ID：12363918
> 
> 赞同：0
> 
> 时间：2012-09-11T06:29:09.627
> 
> 标签：c#, asp.net, .net

在源页面和后面的代码中编写 onclick 事件有什么区别。

.cs 页面：

```
private void Page_Load(object sender, EventArgs e)
    {
     this.BtnReset.Click += new EventHandler(this.BtnReset_Click);
     this.BtnSave.Click += new EventHandler(this.BtnSave_Click);
} 
```

.aspx 页面：

```
 <asp:Button Text="Save" runat="server" ID="BtnSave" Onclick="BtnSave_Click" />
 <asp:Button Text="Reset" runat="server" ID="BtnReset" Onclick="BtnReset_Click" /> 
```

两者似乎都是一样的。这有什么性能优势。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:32:39.797

在后面的代码中做这件事，对我来说感觉很好！我认为没有性能差异。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:31:09.083

这没有性能优势。它只是将点击事件与 perticalur 事件处理程序绑定，即使您在页面或后面的代码中执行

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:31:18.800

使用第一个或第二个没有明显的性能优势。

我更喜欢第二个，因为您可以在不重新编译整个 Web 应用程序的情况下取消连接事件，而且它更紧凑和可读。

只是一些注释：

1.  过早的优化是邪恶的
2.  性能问题通常来自数据库访问、I/O、线程和糟糕的算法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-11T06:43:16.787

As per my knowledge there is no deference.. only thing is if you write it in your code behind file you have more control over it.

# visual-studio-2012 - 调试器无法继续运行该进程。无法启动调试器

> ID：12363928
> 
> 赞同：76
> 
> 时间：2012-09-11T06:30:01.700
> 
> 标签：visual-studio-2012, visual-studio-lightswitch

我有一个 Lightswitch 2012 应用程序。它已经工作好几个星期了。我做了一些更改，F5 停止工作。当我单击开始（工具栏）时，它会给出此错误消息并且什么也不做。

“调试器无法继续运行进程。无法开始调试”

注意：它会编译文件，只是不运行。

如果我回滚到早期版本，那么它工作正常 - 即它是特定于解决方案的。

这是我解决问题的当前版本的视频：http: [//screencast.com/t/TD4RzLASO](http://screencast.com/t/TD4RzLASO)

这是今天早些时候解决方案的先前版本（不，我不知道我改变了什么）。如您所见，至少它对 F5 或 Start 有作用： http: [//screencast.com/t/wX5fRDPz](http://screencast.com/t/wX5fRDPz)

重新启动没有帮助... ;)

* * *

## 回答 #1

> 赞同：186
> 
> 时间：2012-10-03T15:44:11.860

也许您应该选择可以启动的启动项目。

解决方案资源管理器 -> 在您的可启动项目上单击鼠标右键 -> 设置为启动项目。

当我卸载我的主灯开关项目时遇到这种情况，其他项目是 dll 已被自动选择，当我重新加载我的主项目时“调试器无法继续运行进程。无法开始调试”异常显示，因为调试器正在尝试加载DLL。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-12-15T23:20:28.570

可惜你没有录全屏，所以我无法确认，但我有几次同样的错误......

发生这种情况时，我的“输出面板”不可见，即使我尝试继续菜单 -> 视图 -> 输出面板也不会出现。

我需要重新启动我的 Visual Studio 2013。然后我的输出面板再次可见，一切正常。

我发现原因是我在 Visual Studio 上安装了一个扩展。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-06-27T13:41:21.050

有时您需要启动一个编译为 dll 的项目，例如在测试 WCF 服务时。为此：项目->“设置启动项目...”->选择“多个启动项目”并将每个项目的操作设置为“启动”。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-03-21T03:52:37.723

从解决方案中删除一些项目后，我遇到了这个问题。我无法查明确切的原因，但关闭解决方案，删除解决方案文件，然后打开项目并重新添加支持项目为我解决了这个问题。有点像大锤，但如果你没有很多项目，只需要一分钟。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2014-09-21T03:30:49.533

此外，有些人在您的设置中使用“一键式”认证，您需要确保其设置正确、重新安装或未选中——这种情况是我的问题。我终于让它自己工作了，但也检查一下以防万一。同样，这仅适用于大多数 Visual Studio 版本。我是 2013 Ult。

# javascript - 在 DATE 验证列中创建空值

> ID：12363930
> 
> 赞同：1
> 
> 时间：2012-09-11T06:30:06.107
> 
> 标签：javascript, datetime, google-apps-script

我有一个从电子表格数据创建表格视图的 uiApp，但我在日期列中的空单元格方面遇到了困难。

基本上，一些电子表格单元格是可选的，我还没有弄清楚如何将 no（或 null）值放入表中。现在，如果我将列值设置为：

```
projectDataRaw[i][projectDataKeys[j]]= new Date(); // inserting dummy data 
```

但是我也想在表格视图中将这些单元格留空，但是，当我使用时：

```
projectDataRaw[i][projectDataKeys[j]]= null; // 
```

或者它的一些变体，它会出错，因为列类型设置为 DATE。我可以转换为字符串，但我有点希望能够在日期值可用时相互比较它们。

-- 表视图和空数据问题示例 --

```
// load data from sheet
var _PMsheet = "sheet key";
var sSheet = SpreadsheetApp.openById(_PMsheet);
var projectData = sSheet.getRangeByName("ProjectDateCol").getValues();

var projectDataTable = Charts.newDataTable();
projectDataTable.addColumn(Charts.ColumnType.DATE, "Date Column");

for (var i=0; i < projectData.length; i++) {
  if (projectData[i] == undefined || projectData[i] == "undefined") {
    projectDataTable.addRow([null]);// Object type does not match column type.
    // null fails, "undefined" fails, "" fails, [] fails 
  }
  else {
    projectDataTable.addRow([projectData[i]]); // this cell has a valid date obj
  }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T09:38:16.850

我创建了一个简单的脚本，它将 null 写入 A1 单元格并将当前日期写入 A2 单元格。完整的 A 列被验证为日期时间。脚本执行后，单元格 A1 为空，即使它之前包含一个值并且没有任何警告或错误消息。

```
function myFunction() {
  var sheet = SpreadsheetApp.getActiveSheet();
  var rangeValues = [[null], [new Date()]];
  sheet.getRange("A1:A2").setValues(rangeValues);
} 
```

如果此示例对您没有帮助，请发布尽可能小的工作脚本，该脚本无法按您的预期工作。

**更新，基于作者的澄清：**我写了一个简单的脚本试图找出问题原因并找到解决方法。代码如下。如果取消注释该`data.addRow(['', 2.0]);`行，则该方法抛出异常`addRow`。这是一种预期的行为。如果取消注释该`data.addRow([null, 3.0]);`行，则该`chart.setDataTable(data)`行将引发异常。从我的角度来看，这种行为是不正确的，我认为有必要向[问题跟踪器](http://code.google.com/p/google-apps-script-issues/issues/list)报告问题。

还有一个解决方法是使用[DataTableBuilder.setValue](https://developers.google.com/apps-script/class_datatablebuilder#setValue)方法。代码演示了它。

顺便说一句，`DataTableBuilder.setValue`文档中的描述不正确。它不包含`column`参数。这是问题跟踪器的主题。

```
function doGet(e) {
  var app = UiApp.createApplication();
  var chart = Charts.newTableChart();
  var data = Charts.newDataTable();
  data.addColumn(Charts.ColumnType.DATE, 'Date');
  data.addColumn(Charts.ColumnType.NUMBER, 'Value');
  data.addRow([new Date(), 1.0]);
//  data.addRow(['', 2.0]); // throws the "Object type does not match column type" exception in this line.
//  data.addRow([null, 3.0]); // throws the "We're sorry, a server error occurred. Please wait a bit and try again" exception in the "chart.setDataTable(data)" line.
  data.setValue(1, 1, 3.0);
  chart.setDataTable(data);
  app.add(chart.build());
  return app;
} 
```

# php - 如何防止控制器和动作出现在 cakephp 的 URL 中？

> ID：12363931
> 
> 赞同：7
> 
> 时间：2012-09-11T06:30:09.523
> 
> 标签：php, routing, cakephp-1.2

我有一条如下所示的路线：

```
Router::connect('/Album/:slug/:id',array('controller' => 'albums', 'action' =>    'photo'),array('pass' => array('slug','id'),'id' => '[0-9]+')); 
```

还有一个是这样的：

```
Router::connect('/Album/:slug/*',array('controller' => 'albums','action' => 'contents'),array('pass' => array('slug'))); 
```

对于与第一个不匹配的内容。在“相册”控制器的“内容”操作中，我自己负责分页——这意味着我检索命名参数“页面”。第二条路由的 URL 如下所示： [http ://somesite.com/Album/foo-bar/page:2](http://somesite.com/Album/foo-bar/page:2)

上面的 URL 确实有效，但是当我尝试使用 HTML Helper (url,link) 输出这样的 url 时，它会将控制器和操作附加到开头，如下所示： [http ://somesite.com/albums/内容/专辑/foo-bar/page:2](http://somesite.com/albums/contents/Album/foo-bar/page:2)

我不喜欢。使用 HtmlHelper 的代码如下：

```
$html->url(array('/Album/' . $album['Album']['slug'] . '/page:' . $next)) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T11:46:49.530

请参阅下面的网址，这对您很有帮助

[http://book.cakephp.org/2.0/en/development/routing.html](http://book.cakephp.org/2.0/en/development/routing.html)

**或者阅读它**

**将参数传递给动作**

当使用 Route 元素连接路由时，您可能希望将路由元素传递给参数。通过使用**Router::connect()**的第三个参数，您可以定义哪些路由元素也应该作为传递的参数可用：

```
<?php
// SomeController.php
public function view($articleId = null, $slug = null) {
    // some code here...
}

// routes.php
Router::connect(
    '/blog/:id-:slug', // E.g. /blog/3-CakePHP_Rocks
    array('controller' => 'blog', 'action' => 'view'),
    array(
        // order matters since this will simply map ":id" to $articleId in your action
        'pass' => array('id', 'slug'),
        'id' => '[0-9]+'
    )
); 
```

现在，由于反向路由功能，您可以像下面这样传入 url 数组，Cake 将知道如何形成路由中定义的 URL：

```
// view.ctp
// this will return a link to /blog/3-CakePHP_Rocks
<?php
echo $this->Html->link('CakePHP Rocks', array(
    'controller' => 'blog',
    'action' => 'view',
    'id' => 3,
    'slug' => 'CakePHP_Rocks'
)); 
```

# sql - 父子表 - 确保孩子是完整的

> ID：12363936
> 
> 赞同：2
> 
> 时间：2012-09-11T06:30:32.247
> 
> 标签：sql, database-design, triggers

我正在学习 SQL，并且有一些类似于以下的表：

```
Person (id*, name)
Customer(id*, is_active, ...)
Employee(id*, department_id, ...) 
```

（* 表示主键，在 Customer 和 Employee 的情况下，它既是返回 Person 的 PK 又是 FK）

Customer 和 Employee 都是 Person 类型，我想确保在将记录插入 Person 时，还必须将记录插入 Customer 或 Employee 中，但不能同时插入两者。在此示例的限制范围内，Person 不能既是员工又是客户。

有人告诉我，触发器对于强制执行此约束很有用。有人可以用这个简单的例子解释触发器的用法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T07:29:40.110

您可以使用 INSTEAD OF 触发器。[这篇 MSDN 文章（Designing INSTEAD OF Triggers）](http://msdn.microsoft.com/en-us/library/ms175521%28v=sql.105%29.aspx)完全涵盖了您的问题

.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-11T09:02:07.883

根据您的 DBMS 支持的内容和其他因素，您可以：

*   通过为确保正确行为而实施的存储过程插入。
*   或者在视图上使用触发器（连接具有特定子类型的超类型）使视图“可更新”，然后插入到视图中。
*   或者通过纯粹的声明方式确保子类型的排他性和存在性，如此[处](https://stackoverflow.com/a/12261722/533120)所述。
*   或者使用不同于“单独表中的所有类”的继承实现策略，如此处[所述](https://stackoverflow.com/questions/12032348/interpreting-er-diagram/12037398#12037398)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T06:40:15.227

例如，如果您想确定一个人是客户还是员工，您可以在 Person 表中创建一个名为“Type”的列，它的值可以是“Customer”和“Employee”或“1”和“2” ”。然后按照上面评论的建议，将相关信息插入到 Customer 或 Employee 表中。

# sql - 删除带有文件夹 XP_CMDSHELL 的文件

> ID：12363943
> 
> 赞同：0
> 
> 时间：2012-09-11T06:31:04.230
> 
> 标签：sql, sql-server-2008

我需要使用 sql 删除带有文件夹的文件，所以我使用的是 xp_cmdshell。

我的文件夹结构是

```
 Folder-1
                              |
                              |
Folder 2 ----------------------------------------------Folder -3
|                                                         |
files.csv                                               files.csv 
```

我需要删除 Folder-1，以便它会删除文件夹 2 和文件夹 3 以及包含它的文件。

我尝试使用 set @cmd= 'RMDIR "C:\Folder-1'

```
exec master..xp_cmdshell @cmd 
```

**RMDIR 需要文件夹为空**。所以我们需要先使用 del 命令删除文件。然后使用 RMDIR 删除文件夹 2 和文件夹 3，然后使用 RMDIR 删除文件夹 1

无论如何使用 xp_cmdshell 的单个命令删除带有文件的文件夹

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T07:35:48.637

尝试 RMDIR /S /QC:\Folder-1

/S 删除指定目录/文件夹中的所有文件和目录。/Q 是安静模式，不会询问是否可以删除。

高温高压

# wpf - WPF UserControl - 边距行为不端

> ID：12363947
> 
> 赞同：0
> 
> 时间：2012-09-11T06:31:12.683
> 
> 标签：wpf, visual-studio-2010, xaml, user-controls

我对 WPF 自定义控件相当陌生，并开始使用基本的“LabelEdit” - 基本上是一个标签控件和一个文本框。我绑定了 4 个属性 - Text、Label、TextWidth 和 LabelWidth（可能不是您在生产环境中命名它们的名称，但这只是为了让我可以自学！）。

一切似乎运作良好。我还有一个事件，当标签的大小发生变化并导致“ActualLabelWidth”DependencyProperty 发生变化时触发，因此一系列 LabelEdit 控件都可以具有相同的标签宽度。这是 LabelEdit 的 XAML：

```
<Grid DataContext="{Binding RelativeSource={RelativeSource AncestorType=UserControl}}">
    <Grid.RowDefinitions >
        <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <Grid.ColumnDefinitions>
        <ColumnDefinition Width="{Binding LabelWidth}" />
        <ColumnDefinition Width="{Binding TextWidth}" />
    </Grid.ColumnDefinitions>

    <Label Grid.Column="0" Grid.Row="0" Content="{Binding Label, FallbackValue=LabelEdit}" SizeChanged="Label_SizeChanged" />
    <TextBox Grid.Column="1" Grid.Row="0" Text="{Binding Text}" />
</Grid> 
```

...对于使用它的 MainWindow：

```
<ajdata:LabelEdit Text="{Binding Title}" Label="Title:" LabelWidth="{Binding ElementName=lblForename, Path=ActualLabelWidth}" TextWidth="100" />
                        <ajdata:LabelEdit Text="{Binding Surname}" Label="Surname:" LabelWidth="{Binding ElementName=lblForename, Path=ActualLabelWidth}" TextWidth="300" />
                        <ajdata:LabelEdit Text="{Binding Forename}" Label="Forename(s):" LabelWidth="Auto" TextWidth="300" Name="lblForename" /> 
```

因此，具有最大文本的标签设置了其他标签的宽度。

当我给 Label 一个边距（“0,0,5,0”）以将其与 TextBox 元素隔开时，就会出现问题。在这种情况下，具有“自动”宽度的 LabelEdit 似乎工作正常。然而，装订的版本似乎不尊重页边距。这意味着元素的 TextBox 部分出现在它应该在的位置的左侧。

有谁知道我需要做什么才能使所有标签最终具有相同的宽度并考虑边距？我意识到我可能会在我的事件处理程序中插入一段额外的代码，但如果可能的话，我宁愿让 XAML 完成它的工作。非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T00:14:40.053

我现在已经解决了这个问题（但我可能仍然不确定为什么）。我没有在*label上设置“0,0,5,0”的边距，而是在**TextBox*上设置了“5,0,0,0”的边距。这样，无论标签宽度如何，所有内容都保持整齐排列。

# html - xslt xml到html：如何匹配以'n'开头但不是'name'的东西？

> ID：12363950
> 
> 赞同：2
> 
> 时间：2012-09-11T06:31:18.487
> 
> 标签：html, xml, xslt

这是我遇到的一个问题。

源代码：

```
<n0>Hello1</n0>
<n1>Hello3</n1>
<name>Hello2</name> 
```

我可以用

```
<xsl:template match="*[starts-with(name(),'n')]"> 
```

匹配 n0,n1。但我不想匹配'name'，我该怎么做才能只匹配n0，n1？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T06:39:01.997

最佳匹配取决于您的规则。

例如，如果您只想专门排除“名称”，则使用...

```
*[starts-with(name(),'n')][not(self::name)] 
```

另一方面，如果您想匹配 'n' 后跟一个数字（而不是 n 后跟一个字母或破折号），那么使用...

```
*[starts-with(name(),'n')][number(substring(name(),2,1))>-1] 
```

在您可以明确且严格地定义所需的匹配条件之前，不可能给出最佳解决方案。

此外，如果您只想匹配 n1 和 n2，那么您可以使用**...**

```
n1 | n2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:47:17.817

要匹配所有名为“n”的元素，后跟零个或多个数字，您可以使用

```
*[translate(name(), '0123456789', '') = 'n'] 
```

这会删除名称中的所有数字，然后检查是否只剩下一个“n”。由于 XML 名称不能以数字开头，因此您无需专门检查名称是否以 n 开头。要确保您有一个或多个数字而不是零或多个，只需添加一个额外的检查`name() != 'n'`or `not(self::n)`。

# php - php中的变量引用

> ID：12363951
> 
> 赞同：3
> 
> 时间：2012-09-11T06:31:20.897
> 
> 标签：php, reference

此 PHP 代码的输出是`33`.

```
$b=2;
$a=&$b;
$a=3;
print $a;
print $b; 
```

怎么`$b`变成3了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T06:33:51.970

就像`$a`指向`$b`内存位置一样。

现在，如果您更改它的值，`$a`它实际上会更新`$b`值（`$b`存储的位置）。因为两者都指向相同的内存位置。

或者，您可以说`$a`和`$b`是访问相同内存位置的两种不同方式，因为您分配了`$b`to的引用`$a`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T06:47:32.090

![php中的引用](../Images/c922cdd1dbbe680fb5d86fc071786c8e.png)

从上图中可以看出，当您将一个变量的引用分配给另一个变量时，它们都指向同一个位置，因此一个变量所做的更改也会反映到另一个变量。
谢谢

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T06:34:35.060

您正在将“$b的地址放入$a中，然后更改$a，因此$b地址中的值已更改，因此$b也已更改

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-11T06:34:38.627

一旦你做了一个引用`$a`并且`$b`是同一个变量的两个名字。

另见： http: [//php.net/manual/en/language.references.php](http://php.net/manual/en/language.references.php)（特别是列表中的第一篇文章）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-11T06:35:36.780

`$a=&$b;`这句话就像在说“从现在开始$b，你也是$a”。

```
print $a; // prints 3
print $b; // prints another 3 
```

# android - 可折叠滑出菜单

> ID：12363952
> 
> 赞同：0
> 
> 时间：2012-09-11T06:31:39.023
> 
> 标签：android, slider

关于如何在 android 中实现垂直可折叠滑出菜单的任何建议。类似于 android ExpandableListView

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T07:23:23.883

我设法通过添加动态 LinearLayout 作为 ListView 项目来实现这一点......

# asp.net-mvc-3 - ASP.NET MVC Web 应用程序，由 GoDaddy 托管，对身份验证进行疯狂操作

> ID：12363955
> 
> 赞同：0
> 
> 时间：2012-09-11T06:31:45.810
> 
> 标签：asp.net-mvc-3, session, security, session-cookies, session-cache

我有我开发的这个网站。它表现得很奇怪。我登录了它，现在似乎我无法注销它。它有会话，我不知道它在注销后以及在不同的浏览器中甚至在隐身后仍然可以保持。

最奇怪的是，如果你在浏览器中打开它，你会得到相同的会话状态。你不能用它做任何事情。但它就在那里。

到底是怎么回事？

转到此页面，它显示一些用户已登录。单击添加并再次要求提供凭据。就像一个无限循环。

[http://krninstitute.com/krnitech/Forms](http://krninstitute.com/krnitech/Forms)

然后转到此页面，它显示其他用户已登录。转到页面末尾。

[http://krninstitute.com/krnitech/Gallery](http://krninstitute.com/krnitech/Gallery)

这个问题需要这些外部链接。

但这里有一些图片以防万一：

![隐身窗口中的 cookie 没有记录](../Images/35801a242bba7e0c14bb94c3d5146b4a.png)

![在此处输入图像描述](../Images/d28f65466645910e80340f3a22afa68a.png)

![在此处输入图像描述](../Images/bd1955d42edb218383a2cd247edf69c2.png)

编辑1：

是什么导致每个请求都以会话 cookie 结束？我没有实现任何缓存。这与最近的 GoDaddy 崩溃有关吗？

编辑2：

问题是 1.**你怎么能看到谁在应用程序上登录？**我还没有实现这样的功能。2.**如何有两个人从同一个浏览器窗口登录？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-11T06:46:08.563

会话和身份验证是两个不同的东西。当您使用 FormsAuthentication 登录和注销时，它不会更改会话。除了注销之外，您还必须放弃会话。

```
Session.Abandon(); 
```

请注意，在请求结束之前会话仍然存在，因此您可能应该在之后立即重定向到默认页面。

# c# - 通过它在 linq to xml 中的属性获取节点

> ID：12363958
> 
> 赞同：2
> 
> 时间：2012-09-11T06:32:12.637
> 
> 标签：c#, asp.net, linq, c#-4.0, linq-to-xml

考虑这个 HTML：

```
<table>
  <tr>
    <td width="45%" align="right">
      <h2>1.00 NZD</h2>
    </td> 
    <td valign="top" align="center">
      <h2>=</h2>
    </td> 
    <td width="45%" align="left">
      <h2>0.415528 GBP</h2>
    </td>
  </tr>
</table> 
```

我将此代码用作字符串并将其转换为`XML`文件：

```
string raw = "<table><tr><td width=\"45%\" align=\"right\"><h2>1.00 NZD</h2></td><td valign=\"top\" align=\"center\"><h2>=</h2></td><td width=\"45%\" align=\"left\"> <h2>0.415528 GBP</h2> </td></tr></table>";

XElement info = XElement.Parse(raw); 
```

现在我想获取`All td that have align="right"`并编写以下代码：

```
var elementToChange = (from c in info.Elements("td")
                            where c.Attribute("align").Value == "right"
                            select c);

 Label1.Text = Server.HtmlEncode(elementToChange.First().ToString()); 
```

但我得到这个错误：

> 序列不包含任何元素

问题在哪里？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T06:36:48.830

您查找`"td"`元素，但在节点的顶层您只能找到一个`"tr"`元素。这就是为什么你没有得到任何元素。试试这个：

```
from c in info.Elements("tr").Elements("td") 
```

此外，您应该在调用之前检查序列中是否有任何元素`First()`（如果没有元素，则使用`FirstOrDefault()`which 返回 null ）。

如果您不知道路径并且只想要`"td"`具有该标记值的所有元素，您还可以使用[`Descendants`](http://msdn.microsoft.com/en-us/library/bb353813)扩展方法：

```
from c in info.Descendants("td") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:39:48.987

`Elements`在这种情况下，将为您提供根的*直接子元素*信息。您需要深入到您要查找的元素，然后通过`Where`子句提取它们。在您的情况下，直系子女是`<tr>`s。

# c++ - 如何加载和显示动画 png

> ID：12363959
> 
> 赞同：1
> 
> 时间：2012-09-11T06:32:13.073
> 
> 标签：c++, c, animation, mfc, png

我有一个动画 png，我想将它加载到我的 MFC 项目中以显示它的动画效果。我需要这个，因为它是一个加载动画，我很想知道怎么做。如果你能告诉我这对 png 文件是如何工作的，我会很高兴。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T10:10:20.207

也许这就是你想要的：

[http://www.codeproject.com/Articles/1427/Add-GIF-animation-to-your-MFC-and-ATL-projects-wit](http://www.codeproject.com/Articles/1427/Add-GIF-animation-to-your-MFC-and-ATL-projects-wit)

# sql - 我可以从家里访问我的 Oracle 数据库吗？

> ID：12363960
> 
> 赞同：0
> 
> 时间：2012-09-11T06:32:21.050
> 
> 标签：sql, oracle

我想在家访问我的 Oracle 数据库，这样我就可以在周末工作等。我与我的数据库管理员交谈，他所要做的就是将我的家庭 IP 添加到他的记录中，然后我被允许访问。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:41:01.770

您可以使用[exp](http://docs.oracle.com/cd/B10501_01/server.920/a96652/ch01.htm#1013411)或[数据泵导出](http://docs.oracle.com/cd/E11882_01/server.112/e22490/dp_export.htm#i1007466)（10g 以上）实用程序将架构（用户）的数据和元数据卸载到操作系统文件（转储文件）中，将其带回家并使用[imp](http://docs.oracle.com/cd/B10501_01/server.920/a96652/ch02.htm#1656)或[数据泵导入](http://docs.oracle.com/cd/E11882_01/server.112/e22490/dp_import.htm#i1007653)（10g 以上）实用程序导入那些将以前的数据卸载到新模式的人。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T07:42:40.200

OTN 下载许可证允许我们安装全套 Oracle 软件，前提是它用于自学目的。

因此，实际上这取决于您所说的“在家中处理查询”的意思。如果您正在工作，则需要数据库许可证；如果您正在自学有关 Oracle 的知识，那么您不会。

更大的问题是数据安全：您可能不允许将*数据保存*在笔记本电脑上。关注新闻以了解为什么这是一个坏主意。如果您想自学 Oracle，我们可以从 Internet 下载大量[公开可用的数据集。](http://www.infochimps.com/datasets "Infochimps 数据集")

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T08:19:40.290

如果数据库很小，您还可以使用 Oracle SQL Developer 导出模式的脚本和数据的插入语句。这在第三方工具（例如 TOAD）中也是可能的。

# mysql - 关于 COUNT 的棘手 SQL 查询

> ID：12363962
> 
> 赞同：3
> 
> 时间：2012-09-11T06:32:31.593
> 
> 标签：mysql, sql

这是两个带有架构的表：

> 舰船（名称、发射年份、国家、数量、枪号、位移）
> 战斗（舰船、战斗名称、结果）

一个典型的 Ships 元组是：

> （“新泽西”，1943，“美国”，9、16、46000）

这意味着新泽西号战列舰于1943年下水；它属于美国，携带 9 门 16 英寸（口径或枪管内径）的火炮，重 46,000 吨。

Battles 的典型元组是：

> （“胡德”、“北大西洋”、“沉没”）

也就是说，HMS Hood 在北大西洋海战中沉没。其他可能的结果是“正常”和“损坏”。

这里有一个棘手的问题： **对于苏里高海峡海战，对于参与那场战斗的每个国家（有一艘或多艘战列舰参加），请给出其被击沉的战列舰数量。注意：这个问题非常棘手。特别是，您需要处理一个国家参与战斗但没有任何船只沉没的（历史）案例。**

到目前为止我所尝试的。

```
SELECT country,COUNT(name) 
FROM ships RIGHT JOIN battles 
      ON ships.name=battles.ship 
WHERE battleName='Battle1' AND result='sunk' 
GROUP BY country 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T07:19:10.140

> 参与那场战斗的国家（有一艘或多艘战列舰参加）

意思是在战名为“苏里高海峡”的战斗中至少有一项记录。这意味着一个`INNER JOIN`.

> 给出被击沉的战列舰数量

这是一个条件计数，这就是“技巧”。您可以使用带有条件结束的 SUM，然后您可以计算沉没船只的数量。

```
SELECT country,SUM(CASE WHEN result = 'sunk' THEN 1 ELSE 0 END) AS TotalShipSunk 
FROM ships 
INNER JOIN battles 
      ON ships.name=battles.ship 
WHERE battleName='Surigao Strait'
GROUP BY country 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T06:36:53.413

您需要加入表格，我猜与 is other 的关系是 by `name of the ship`。试试这个，

```
SELECT  a.country, 
        SUM(CASE WHEN b.result = 'SUNK' THEN 1 ELSE 0 END) totalSunkShips,
        SUM(CASE WHEN b.result = 'OK' THEN 1 ELSE 0 END) totalUNSunkShips
FROM    battles a
        INNER JOIN ships b
            ON a.ship = b.name
WHERE   b.battleName = 'Surigao Strait'
GROUP BY a.country 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-11T07:21:49.447

**样本船记录**

```
name                      yearLaunched  country numGuns gunSize displacement
New Jersey                      1943    USA      9       16      46000
Surigao Strait Battle ship USA  1800    USA      9       16      5000
Surigao Strait Battle ship USA  1800    USA      9       16      5000
Surigao Strait Battle ship UK   1800    UK       7       16      27000
Surigao Strait Battle ship France 1800  France   9       16      5000
Surigao Strait Battle ship Urugaya  1800 Urugaya 7       16      27000
New Jersey                       1943    UK      9       16      46000 
```

**样本战斗记录**

```
ship    battleName                                   result
Hood    North Atlantic                                sunk
Surigao Strait Battle ship USA  Surigao Strait        sunk
Surigao Strait Battle ship UK   Surigao Strait        damaged
Surigao Strait Battle ship France   Surigao Strait    ok
Surigao Strait Battle ship Urugaya  Surigao Strait    sunk 
```

这是你想要的

```
SELECT s.country,Count(s.name) AS Cnt
FROM ships s
JOIN (SELECT * 
        FROM Battles
        WHERE battleName='Surigao Strait' AND result='sunk' )b
ON s.name=b.ship 
GROUP BY s.country 
```

**结果**

**国家/地区**

```
Urugaya 1
USA 2 
```

# c - 将头部程序转换为尾部 C

> ID：12363966
> 
> 赞同：0
> 
> 时间：2012-09-11T06:32:56.437
> 
> 标签：c, unix, head, tail

我刚刚运行了一个半功能头程序，我需要帮助将它变成一个尾程序，它将在文件末尾显示 x 行。这是我的头代码。我很难考虑如何让计数器读取整个文件，然后从底部开始并显示文件的最后几行。

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define MAX 1024

int numLines = 0;
int linecount = 0;
FILE *src = NULL;
char ch[MAX];

void GetArgs (int argc, char **argv){
if(argc != 4 || argc != 2) {
    printf("Error not enough arguments to continue \n", argv[0]);
    exit(-1);

}// end if argc doenst = 4 or 2

if(argc == 2){
    src = fopen( argv[1], "r:");
    numLines=10;

}// end argc = 2

if(argc == 4){
    if (strcmp (argv[1], "-n") !=0 ){
        numLines = atoi (argv[2]);
        src = fopen (argv[3], "r");
        if ( src == NULL){
            fputs ( "Can't open input file." , stdout);
            exit (-1);
        }
        while (NULL != fgets(ch, MAX, src)){
            linecount++;
            fputs(ch, stdout);
            if (linecount == numLines){
                break;
            }
        }

    }//end of nested if
     else if (strcmp (argv[2], "-n") !=0 ){
        numLines = atoi (argv[3]);
        src = fopen (argv[1], "r");
        if ( src == NULL){
            fputs ( "Can't open input file." , stdout);
            exit (-1);
        }
        while (NULL != fgets(ch,MAX, src)){
            linecount++;
            fputs(ch, stdout);
            if (linecount == numLines){
                break;
            }
        }            

    }//end of else
}//end if argc == 4

}// end GetArgs

int main(int argc, char **argv){

GetArgs(argc, argv);

   fclose( src );
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T07:00:12.887

您可以保留一个计数器来遍历整个文件并计算总行数（仅调用 fgets 一次读取一行）。假设 N 是总行数，n 是要在屏幕上显示的最后一行数。然后在文件的开头重新开始，通过 N - n 行而不在屏幕上显示它们（即不调用 fputs），然后调用 fputs n 次。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-11T08:52:28.200

我使用了你的变量和风格。如果我理解，您想从文件中打印出最后 [X] 行。[X] - 来自 CLI 的参数

```
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#define MAX 1024

    FILE *src = NULL;
    FILE *src_end = NULL;
    int linecount = 0;
    char ch[MAX];

    int main(int arc, char **argv) {
        int i = 0;
        int letter = 0;

        if (arc != 4) {
            puts("Wrong parameters");
            return 1;
        }

        do {
            src = fopen(argv[1], "r");
            if (src == NULL) {
                puts("Can't open input file.");
                break;
            }

            if (0 != strcmp(argv[2], "-n")) {
                puts("Wrong 2nd parametr");
                break;
            }

            sscanf(argv[3], "%u", &linecount);
            printf("Printout last %u lines, from file:%s\n", linecount,
                    argv[1]);

            src = fopen(argv[1], "r");
            if (src == NULL) {
                fputs("Can't open input file.", stdout);
                return 1;
            }

            for (i = 2; linecount; i++) {
                fseek(src, -i, SEEK_END);
                letter = fgetc(src);
                if (letter == 0x0a) { // 0x0a == "\n"
                    fgets(ch, MAX, src);
                    fputs(ch, stdout);
                    linecount--;
                }
            }
        } while (0);

        fclose(src);
        return 1;
    } 
```

# c++ - C ++中天真的单例类的链接错误

> ID：12363968
> 
> 赞同：1
> 
> 时间：2012-09-11T06:33:23.063
> 
> 标签：c++, singleton

我的代码是：

```
class cMySingleton{
private:
    static bool bInstantiated;
    int mInt;
    cMySingleton(){
        mInt=0;
    }
public:
    cMySingleton(int c){
        if (bInstantiated){
            cout << "you can only instantiated once";
        }
        else {
            cMySingleton();
            mInt=c;
        }
    }
};

int main () {

    cMySingleton s(5);
    cMySingleton t(6);
} 
```

链接器不断抱怨：

```
Undefined symbols for architecture x86_64:
  "cMySingleton::bInstantiated", referenced from:
      cMySingleton::cMySingleton(int) in main.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

到底是怎么回事？C++新手来了~~

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T06:39:20.563

你应该初始化静态字段。

[http://ideone.com/Y1huV](http://ideone.com/Y1huV)

```
#include <iostream>
class cMySingleton{
private:
    static bool bInstantiated;
    int mInt;
    cMySingleton(){
        mInt=0;
    }
public:
    cMySingleton(int c){
        if (bInstantiated){
            std::cout << "you can only instantiated once";
        }
        else {
            cMySingleton();
            mInt=c;
        }
    }
};
bool cMySingleton::bInstantiated = true;
int main () {

    cMySingleton s(5);
    cMySingleton t(6);
} 
```

您可以在这里找到更多信息：

[静态数据成员初始化](https://stackoverflow.com/questions/11300652/static-data-member-initialization)

cout 周围还缺少 include 和 std::。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-11T06:37:02.693

初始化

```
static bool bInstantiated; 
```

在外面`cMySingleton`

```
bool CMySingleton::bInstantiated; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-11T06:40:33.253

不要忘记在 .cpp 文件中的类声明之外初始化静态成员：

```
bool cMySingleton::bInstantiated = false; 
```

# extjs - 类型错误：使用选项卡面板时，EXTJS 4 中的项目为空

> ID：12363970
> 
> 赞同：1
> 
> 时间：2012-09-11T06:33:34.950
> 
> 标签：extjs

我是新手。我正在研究 EXTJS 4，需要您的帮助来解决这个问题。

我遇到错误

“TypeError: item is null item.on(ename, fn, scope, options); ext-all-debug.js (line 13795)”

单击链接时，调用函数 doThis() 并且与函数关联的选项卡面板消失。以下是供您参考的功能。

```
function doThis()
{
    var xxtabPanel = Ext.create('Ext.tab.Panel', {
        renderTo : Ext.fly('content').update(""),
        autoHeight:true,
        id:'xxtabPanel',
        tabHeight:200,
        activeTab:0,
        items : [ {
            id:'tab1',
            itemId:'Tab1',
            frame:true,
            title : 'Tab one Details',
            items :item1    //FormPanel
        }, {
            id:'tab2',
            frame:true,
            itemId:'Tab2',
            title : 'Tab two Details',
            items:item2   //FormPanel
        }, {
            id:'tab3',
            frame:true,
            itemId:'Tab3',
            title : 'Tab three Details',
            items :item3   //FormPanel
        } ],
        listeners: {
            'tabchange': function(tp, p) {

                tp.doLayout();
            }
        }

    });} 
```

在此先感谢..期待收到您的来信。

# perl - 子类中的 perl moose 触发器会破坏方法修饰符

> ID：12363971
> 
> 赞同：5
> 
> 时间：2012-09-11T06:33:37.833
> 
> 标签：perl, moose

我发现如果子类添加触发器，则基类中的方法修饰符不会运行。这似乎是一个 Moose bug，或者至少是不直观的。这是我的例子：

```
package Foo {
    use Moose;

    has 'foo' => (
        is  => 'rw',
        isa => 'Str',
    );

    before 'foo' => sub {
        warn "before foo";
    };
};

package FooChild {

    use Moose;
    extends 'Foo';

    has '+foo' => ( trigger => \&my_trigger, );

    sub my_trigger {
        warn 'this is my_trigger';
    }
};

my $fc = FooChild->new();
$fc->foo(10); 
```

如果你运行这个例子，只有“this is my_trigger”警告运行，“before”修饰符被忽略。我正在使用 Perl 5.14.2 和 Moose 2.0402。

这是正确的行为吗？这似乎不对，尤其是当触发器直接在基类中定义时，触发器将在之前触发。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T07:15:30.410

根据您不应该能够区分继承代码和类中的代码的原则，我将其称为错误。

添加到属性会删除方法修饰符似乎是一个普遍问题。此代码在不涉及触发器的情况下演示了您的错误。

```
package Foo {
    use Moose;

    has 'foo' => (
        is  => 'rw',
        isa => 'Str',
        default => 5,
    );

    before 'foo' => sub {
        warn "before foo";
    };
};

package FooChild {

    use Moose;
    extends 'Foo';

    has '+foo' => ( default => 99 );
};

my $fc = FooChild->new();
print $fc->foo; 
```

[请将此报告给 Moose 人](https://rt.cpan.org/Public/Dist/Display.html?Name=Moose)。

# haproxy - 如何配置stud + haproxy，其中stud for https

> ID：12363973
> 
> 赞同：1
> 
> 时间：2012-09-11T06:33:43.793
> 
> 标签：haproxy

我想为 SSL 配置螺柱和为负载平衡配置 haproxy。据我了解，haproxy 无法处理 HTTPS 请求。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-12T11:57:40.460

最新的 haproxy 1.5 版实际上能够自己处理 HTTPS 请求。请参阅[how-to-get-ssl-with-haproxy 博客条目](http://blog.exceliance.fr/2012/09/10/how-to-get-ssl-with-haproxy-getting-rid-of-stunnel-stud-nginx-or-pound/)。

使用 haproxy 配置螺柱并不难。重要的部分是使用 write-proxy 选项配置 stud 并使用相对较新版本的 haproxy。

我写了[一篇关于这个（德语）](http://giantmonkey.de/blog/2012/ssl-termination-mit-stud-und-haproxy)的博客文章。

这是[使用谷歌翻译的翻译版本](http://translate.google.de/translate?hl=de&sl=de&tl=en&u=http://giantmonkey.de/blog/2012/ssl-termination-mit-stud-und-haproxy)。

# c# - 需要 4 GB 或 5 GB 数字的算法 - 可能吗？

> ID：12363976
> 
> 赞同：4
> 
> 时间：2012-09-11T06:33:48.597
> 
> 标签：c#, memory, biginteger

好吧，这个问题确实是一个挑战！

## 背景

我正在从事一个涉及大于正常数字的基于算术的项目。我是新手，我将使用 4 GB 上限文件大小的最坏情况情景（我什至希望将其扩展到 5 GB 上限，因为我之前看到文件大小大于 4 GB - 特别是图像 *. iso 文件）

## 一般问题

现在，我将应用计算的算法目前并不重要，但加载和处理如此大量的数据 - 数字 - 才是重要的。

*   A`System.IO.File.ReadAllBytes(String)`只能读取 2 GB 的文件数据上限，所以这是我的第一个问题 - 我将如何加载和/或配置访问内存，这样的文件大小 - 两倍，如果不是更多？
*   接下来，我正在编写自己的类来将“流”或字节数组视为一个大数字，并添加多个运算符方法来执行十六进制算术，直到我`System.Numerics.BigInteger()`在线阅读该类 - 但是没有`BigInteger.MaxValue`而且我只能一次最多加载 2 GB 的数据，我不知道它的潜力是什么`BigInteger`——即使与我正在编写的对象相比`Number()`（它确实具有我想要的最小潜力）。可用内存和性能也存在问题，尽管我不太关心速度，而是成功地完成了这个实验过程。

## 概括

*   我应该如何加载 4-5 GB 的数据？
*   加载后的数据应该如何存储和处理？坚持`BigInteger`还是完成我自己的`Number`课程？
*   我应该如何在运行时处理如此大量的内存而不会耗尽内存？我将像处理任何其他数字而不是字节数组一样处理 4-5 GB 的数据 - 执行诸如除法和乘法之类的算术运算。

PS 根据保密协议，我不能透露有关该项目的太多信息。;)

对于那些希望从我的 Number 对象中查看每个字节数组加法器（C#）的示例运算符的人：

```
public static Number operator +(Number n1, Number n2)
{
    // GB5_ARRAY is a cap constant for 5 GB - 5368709120L
    byte[] data = new byte[GB5_ARRAY];
    byte rem = 0x00, bA, bB, rm, dt;
    // Iterate through all bytes until the second to last
    // The last byte is the remainder if any
    // I tested this algorithm on smaller arrays provided by the `BitConverter` class,
    // then I made a few tweeks to satisfy the larger arrays and the Number object
    for (long iDx = 0; iDx <= GB5_ARRAY-1; iDx++)
    {
        // bData is a byte[] with GB5_ARRAY number of bytes
        // Perform a check - solves for unequal (or jagged) arrays
        if (iDx < GB5_ARRAY - 1) { bA = n1.bData[iDx]; bB = n2.bData[iDx]; } else { bA = 0x00; bB = 0x00; }
        Add(bA, bB, rem, out dt, out rm);
        // set data and prepare for the next interval
        rem = rm; data[iDx] = dt;
    }
    return new Number(data);
}
private static void Add(byte a, byte b, byte r, out byte result, out byte remainder)
{
    int i = a + b + r;
    result = (byte)(i % 256); // find the byte amount through modulus arithmetic
    remainder = (byte)((i - result) / 256); // find remainder
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-11T06:38:46.913

通常，您将使用流式 API 处理大文件，可以是原始二进制文件 ( `Stream`)，也可以通过一些协议阅读器 ( `XmlReader`,`StreamReader`等)。在某些情况下，这也可以通过内存映射文件来完成。这里的关键点是您一次只能查看文件的一小部分（一个中等大小的数据缓冲区、逻辑“行”或“节点”等 - 取决于场景）。

奇怪的是，您希望以某种方式将其直接映射到某种形式的大数。坦率地说，如果没有更多信息，我不知道我们如何提供帮助，但*如果*你正在处理这个大小的实际数字，我认为你会很困难，除非二进制协议使这变得方便。而“进行除法和乘法等算术运算”对原始数据毫无意义；这只对定义了自定义操作的解析数据有意义。

另外：请注意，在 .NET 4.5 中，您可以翻转配置开关以扩展数组的最大大小，超过 2GB 限制。它仍然*有*一个限制，但是：它有点大。不幸的是，最大*元素*数仍然相同，因此如果您使用`byte[]`数组，它将无济于事。但是，如果您正在使用`SomeCompositeStruct[]`，您应该能够获得更高的使用率。参见[gcAllowVeryLargeObjects](http://msdn.microsoft.com/en-us/library/hh285054%28v=vs.110%29.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-11T06:38:05.143

使用`FileStream`：http: [//msdn.microsoft.com/en-us/library/system.io.filestream.aspx](http://msdn.microsoft.com/en-us/library/system.io.filestream.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-11T06:42:25.023

`FileStream`是你的开始。

如果您没有足够的内存（我认为它应该至少是您的最大数字大小的 4 倍），您将需要使用硬盘。因此，您宁愿加载部分数据，进行一些计算并将其写回硬盘，而不是将所有数据都保存在内存中。

# jquery - 使用 JQuery 图像滑块进行故障排除

> ID：12363984
> 
> 赞同：0
> 
> 时间：2012-09-11T06:34:16.070
> 
> 标签：jquery, image, model-view-controller, slider

我正在尝试在 jquery 中制作一个基本的图像滑块，尝试了以下代码：

```
<div id="Photos">
    <img alt="First" src="../../Images/9-10-2012 2-59-52 PM.png" class="Show"/>
    <img alt="Scond" src="../../Images/9-10-2012 3-00-20 PM.png" />
    <img alt="Third" src="../../Images/9-11-2012 11-56-09 AM.png" />

</div>

<script type="text/javascript">
    $(document).ready(function () {
        slideshow(); 
    });

    function slideshow() {
        var current = $('#Photos.Show');
        var next = current.next().length ? current.next() :   current.parent().children(':first');
        current.hide().removeClass('Show');
        next.fadeIn().addClass('Show');

        setTimeout(slideshow, 3000);
    }

</script> 
```

它没有滑动，甚至同时显示所有三个图像。请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T06:53:43.967

修改以下行。

```
var current = $('#Photos .Show'); 
```

在中间添加间距。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:36:35.620

编辑喜欢

```
setTimeout(slideshow(), 3000); 
```

它可以工作......？？

# spring - Spring休眠处理大html表单

> ID：12363985
> 
> 赞同：0
> 
> 时间：2012-09-11T06:34:21.997
> 
> 标签：spring, hibernate, persistence, forms

我正在使用 Spring + Hibernate，我将拥有一个包含 100 多个字段的 HTML，我必须将所有这些值存储到数据库中的**单个**表中。

它们都用于一项大型计算。

我应该如何处理这个问题，我想过创建一个具有 100 个字段和 setter、getter 的实体，但是有更好的解决方案吗？

编辑：

每次有人提交表单时，都会添加一个新行，因此最终会有数万行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T06:39:14.820

我相信它不是关于 HTML，而是关于数据建模。想想你的数据，谁是它的消费者，你将如何以及在哪些业务流中查询数据。一般来说，具有 100 个字段的实体不是一个好主意，因为它应该映射到一个具有 100 列的单个表。它只是不可维护。

也许所有的数据都应该被规范化，你可以用外键将它的一部分存储在 db 的不同表中？

希望这会有所帮助，或者至少会给您一些思考的方向

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-11T06:40:32.287

我认为您可以`Map`在这种情况下使用 a ，因为：

*   您只想将字段存储为键值元素。
*   将来添加/删除字段更加灵活。

因此，不是有一个包含 100 个字段的表，而是一个包含 2 个字段（如果要包含表单标识符或类似的东西，则为 3 个）和 100 行的表。

如果许多表单字段为空（稀疏数据），您还可以节省一些存储空间（这取决于您使用的数据库）。

# php - Magento 1.7 REST API nginx 配置

> ID：12363987
> 
> 赞同：0
> 
> 时间：2012-09-11T06:34:26.037
> 
> 标签：php, magento, rest, nginx, magento-1.7

Magento 1.7 有新的 REST API，它也有新的 .htaccess 文件重写规则。如何在 nginx 中重写新规则？

```
############################################
## uncomment next line to enable light API calls processing

#    RewriteRule ^api/([a-z][0-9a-z_]+)/?$ api.php?type=$1 [QSA,L]

############################################
## rewrite API2 calls to api.php (by now it is REST only)

    RewriteRule ^api/rest api.php?type=rest [QSA,L] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-11T10:11:10.720

干得好：

```
location /api {
  rewrite ^/api/rest /api.php?type=rest break;
} 
```

# java - 组合框弹出并使用键盘快捷键选择

> ID：12363990
> 
> 赞同：1
> 
> 时间：2012-09-11T06:34:39.453
> 
> 标签：java, swing, actionlistener, jcombobox, key-bindings

```
 public static void comboBoxActionPerform(JComboBox  comboBox)
    {
        String ACTION_KEY = "myAction";

        Action actionListener = new AbstractAction()
        {   
            @Override
            public void actionPerformed(ActionEvent actionEvent)
            {
                JComboBox source = (JComboBox) actionEvent.getSource();
                source.showPopup();
                source.setFocusable(true);
            }
        };

        KeyStroke ctrlT = KeyStroke.getKeyStroke(KeyEvent.VK_L, InputEvent.CTRL_MASK);
        InputMap inputMap = comboBox.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);
        inputMap.put(ctrlT, ACTION_KEY);
        ActionMap actionMap = comboBox.getActionMap();
        actionMap.put(ACTION_KEY, actionListener);
        locationTypeComboBox.setActionMap(actionMap);
    } 
```

我有一个 com 框，我调用上述方法在按下的键 (Ctrl+L) 上弹出组合框。它弹出组合框。但我无法使用向上/向下键选择其中的项目。当我按下 Ctrl+L 时，组合框没有聚焦。这可能是要解决的问题。如果我手动选择组合框，然后向上/向下工作正常。需要你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-11T07:36:07.250

您正在寻找的方法是 requestFocus，而不是 setFocusable

```
 Action actionListener = new AbstractAction() {
        @Override
        public void actionPerformed(ActionEvent actionEvent) {
            JComboBox source = (JComboBox) actionEvent.getSource();
            source.requestFocus();
            source.showPopup();
            // source.setFocusable(true);
        }
    }; 
```

顺便说一句，重置组件的 actionMap 是不寻常的。

# javascript - 导致内存泄漏的内容脚本

> ID：12363992
> 
> 赞同：0
> 
> 时间：2012-09-11T06:34:44.393
> 
> 标签：javascript, google-chrome-extension

我有一个具有背景页面的 chrome 扩展程序，当您单击内容脚本添加到页面的按钮时，它会创建一个应用程序页面。打开应用程序窗口后，扩展程序会打开一个 iframe 并像机器人一样爬行特定站点，这有助于我的客户获得额外的工作/金钱。这个爬行过程是扩展程序的唯一任务。

随着 iframe 逐页更改，我的 manifest.json 中列出的内容脚本每次都会重新加载。这是意料之中的，但它会导致内存泄漏。在应用程序运行一段时间后，我的员工体验到响应时间非常缓慢。当我查看 DevTools 的脚本部分时，我的清单中列出的每个脚本都有数百次（我猜是每页加载一次），扩展程序本身加载的脚本也是如此。有没有办法防止这种情况发生，这样我就可以为我的客户避免这些内存问题？

# php - PHP 的微框架（如 Flask 或 Sinatra）

> ID：12363993
> 
> 赞同：26
> 
> 时间：2012-09-11T06:34:51.763
> 
> 标签：php

我正在开发一个基于 Backbone 的单页应用程序，它使用 Facebook 的 API 作为后端机制。因此，我需要在两者之间编写一个非常薄的粘合层，使用 PHP。我在 CakePHP、CodeIgniter、Kohana 和 MVC 辉煌时期的所有其他框架方面拥有长期经验，我确信如果我采用其中任何一个，我将不得不消除很多复杂性，而不是从中受益。

我正在寻找的应该是原生 PHP 之上的一个非常薄的层，它为您提供了所有扩展的可能性，但不会将一堆配置和约定推到您面前。

在 Python 世界中，有一个很好的微框架，叫做 Flask。我相信这也是 Ruby 的 Sinatra 所做的。那么如何在 PHP 中创建一个不错的微框架呢？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-09-11T06:47:19.667

**更新 2018-05**，因为这个答案仍然引起了相当多的关注。Silex 已于1 月[停产](https://symfony.com/blog/the-end-of-silex)。

一直在[谈论获得新的维护者](https://github.com/silexphp/Silex/issues/1593)，但在我看来，没有任何结果。

目前，[Slim](https://www.slimframework.com/)和[Lumen似乎是不错的选择，尽管由于新的](https://lumen.laravel.com/)[Flex](https://symfony.com/doc/current/setup/flex.html)系统，Symfony v4 可以设置得相当小。

* * *

[Silex](http://silex.sensiolabs.org/)可能是目前最适合的选择。它拥有对现代 PHP 编程技术的最佳支持，与它的“大”兄弟[Symfony2](http://www.symfony.com)同步开发，经过单元测试，有据可查，并提供了通过非常好的 DI 容器机制引入 3rd 方库的可能性。

就个人而言，我将这个框架用于不需要大量缓存、用户管理、繁重的数据库交互或安全性的任何事情。所以，基本上我写的 95% 的网络应用程序。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-09-11T15:42:26.410

您可能需要考虑其他一些用 PHP 编写的优秀微框架：

*   [苗条的](http://www.slimframework.com/)
*   [利蒙德](http://limonade-php.github.com/)
*   [航班](http://flightphp.com/)

就个人而言，我使用过 Slim，我认为它足以胜任这项工作。它使用简单，并且在他们的网站上有足够的文档。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-11T06:46:35.413

看看PHP 的[Silex](http://silex.sensiolabs.org/)微框架

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-09-11T06:50:02.790

也许你有兴趣先阅读这篇文章[http://mwop.net/blog/2012-08-17-on-microframeworks.html](http://mwop.net/blog/2012-08-17-on-microframeworks.html)

无论如何都存在[Silex](http://silex.sensiolabs.org/)，它是一个基于 Symfony 2 框架的微框架。Silex 由 Symfony 2 的同一个人开发和维护

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-09-11T15:48:17.733

如果您正在寻找一个极其轻量级的 PHP 路由器来构建 REST 应用程序，那么我强烈推荐[ToroPHP](https://github.com/anandkunal/ToroPHP/)。

# android - 对 Android 设备的 UPnP 描述文件和媒体类型支持

> ID：12363994
> 
> 赞同：1
> 
> 时间：2012-09-11T06:34:53.420
> 
> 标签：android, upnp, dlna

我目前正在调查 UPnP 的实施。

首先，我幸运地找到了一个开源应用程序，它实现了

基于 Android 设备中的网络车库库的渲染器（DMR）。

你可以在这里找到它：

[http://code.google.com/p/stream2android/](http://code.google.com/p/stream2android/) （感谢开发人员将此来源作为我的启动材料。）

但是，我有以下一些问题：

1.  描述文件让我很困惑。谁能告诉我如何编写描述文件.xml？我已经搜索过这个主题，但还没有发现任何可以
    全面指导我的东西。描述文件究竟做了什么以及该文件如何与 UPnP 交互？

2.  到目前为止，该项目实现了渲染器（DMR）功能，仅支持视频流。我想做它同时支持图像和音频媒体类型。我应该注意什么/是什么？

提前感谢您的回复和指导。:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-11T10:02:47.873

1.  设备描述文件很好地描述了 UPnP 设备 :-) 任何想要参与 UPnP 网络的设备都必须在众所周知的位置 (URL) 中提供该文件，以便 UPnP 网络中的任何其他设备都可以获取此 XML 并知道什么是设备类型、名称、序列号，最重要的是它实现了哪些服务。我建议您下载[UPnP 规范包](http://upnp.org/resources/upnpresources.zip)并自己导航到**文档/UPnP-arch-DeviceArchitecture** pdf。这是理解 UPnP 的起点。它的编写非常容易理解，并且按照想要加入 UPnP 网络的设备的确切步骤进行。设备描述包含完整的示例和每个条目的说明。

2.  UPnP 中的“流式传输”只是使用 HTTP GET 下载媒体二进制文件。我暂时简化一下，因为我不希望您使用任何其他传输方式，例如 RTSP 或 FireWire。因此，“流式传输”本身不是问题，您只需要通知 UPnP 网络您接受（示例）图像/jpeg 和音频/mpeg，而不仅仅是视频/mpeg。“您应该注意的关键”是您必须能够呈现您要求的所有二进制数据。与其说是“流媒体”，不如说是拥有适当的编解码器并知道如何在您的平台上使用它们。

# php - {$foo|@print_r} 在屏幕上打印“{$foo|@print_r}”

> ID：12363998
> 
> 赞同：4
> 
> 时间：2012-09-11T06:35:10.047
> 
> 标签：php, smarty

我想打印数组变量 `$foo`。所以我做了`{$foo|@print_r}`这个，但它的印刷品就像`"{$foo|@print_r}"`在首页上一样。

我使用的是 Oxied eshop，它使用 smarty 作为模板引擎。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-11T07:26:30.413

至少尝试一下：php 的共同打印数组

```
<?php
     print_r ($foo);
?> 
```

其他尝试类似：

```
<?php
     {$foo|@debug_print_var} 
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-04-11T07:51:11.907

这可能是由于在 smarty 变量中使用 smarty 引起的，`{eval $foo|@debug_print_var}`应该打印输出。

# ios - 在 AVAudioRecorder 之前播放音效

> ID：12363999
> 
> 赞同：1
> 
> 时间：2012-09-11T06:35:10.407
> 
> 标签：ios, core-audio, nsthread, avaudiorecorder

我正在用 录制音频`AVAudioRecorder`。但是，我想在录制开始之前播放一个简短的声音。我正在这样做`AudioServicesCreatSystemSoundId`。我注意到我需要在调用音效后暂停线程，否则它将开始播放，然后被`AVAudioRecord` `record`调用中断，然后在再次停止录制后完成播放。

所以我有这样的事情：

```
AudioServicesCreateSystemSoundID((__bridge CFURLRef) pathURL, &audioEffect);
AudioServicesPlaySystemSound(audioEffect);
[NSThread sleepForTimeInterval:0.7];
[_audioRecorder record]; 
```

问题是人们注意到了延迟。我知道有一些应用程序（比如 Voxer）可以在不延迟实际录音的情况下发出声音。我尝试将前两行拆分为一个块，但这没有帮助。他们是怎么做到的呢？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-12T00:57:35.467

对于低延迟（没有明显的开始延迟）音频录制，请使用预先启动的 RemoteIO 音频单元而不是 AVAudioRecorder API。