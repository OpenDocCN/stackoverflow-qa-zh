# StackOverflow 问答 10895000-10895999

# jquery - 将功能应用于ui对话框按钮单击

> ID：10895009
> 
> 赞同：1
> 
> 时间：2012-06-05T09:42:08.477
> 
> 标签：jquery, jquery-ui

我正在尝试在 ui 对话框按钮的单击事件中创建一个多单击功能。基本上，当用户单击“下一步”按钮时，我想在多个 div 之间切换以在对话框中显示不同的内容。目前我似乎只能让它触发一个事件。

这是我的 js 有效但只触发一个事件。

```
dialog.dialog({
        // add a close listener to prevent adding multiple divs to the document
        close: function(event, ui) {
            // remove div with all data and events
            dialog.remove();
        },
        modal: true,
        resizable: false,
        draggable: false,
        stack: false,
        width: 480,
        buttons: [
            {
                text: "Cancel",
                click: function() { $(this).dialog("close"); }
            },
            {

                id: "cta",
                click: function() {
                    $('.ui-dialog').css('top', '100px');
                    $(this).find('#modal p').remove();
                }
            }
        ]
    }); 
```

主要部分是问题是“按钮”内的最后一次点击。这可能吗？我试图调用一个函数，而不是将其设置在点击本身内，但这也不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:44:28.487

你在寻找这样的东西吗？

[http://jsfiddle.net/rsarika/h7fSf/](http://jsfiddle.net/rsarika/h7fSf/)

# sql-server-2008 - 我需要帮助在 SQL Query 中带来以下输出

> ID：10895016
> 
> 赞同：0
> 
> 时间：2012-06-05T09:42:37.820
> 
> 标签：sql-server-2008, sql-server-2005

请帮助使用 SQL 查询来解决以下问题。

我有一个像这样的表输入值 - 列标题是 X 和 Y

```
 x | y
-------------------
    1 | a1
    1 | a2
    2 | a3
    2 | a4
    2 | a2 
```

我需要这样的输出

```
x | y
----------
1 |a1,a2
2 |a3,a4,a2 
```

请指教！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:43:37.997

```
SELECT nto.x, STUFF((SELECT CAST(',' AS varchar(max)) + nti.y
         FROM mytable AS nti WHERE nti.x = nto.x
         FOR XML PATH('')), 1, 1, '') AS Y
FROM mytable AS nto
GROUP BY nto.x 
```

# ios - iphone中的后台任务或更新位置

> ID：10895017
> 
> 赞同：0
> 
> 时间：2012-06-05T09:42:43.807
> 
> 标签：ios, location, cllocationmanager, background-process

我想制作一个应用程序，每 xx 分钟将用户位置更新到我的远程服务器，即使应用程序在后台我也尝试过以下代码

```
- (void)applicationDidEnterBackground:(UIApplication *)application
{
    i=0;
    UIApplication  *app = [UIApplication sharedApplication];
    bgTask = [app beginBackgroundTaskWithExpirationHandler:^{ 
        [app endBackgroundTask:bgTask]; 
        bgTask = UIBackgroundTaskInvalid;
    }];
    bgTimer = [NSTimer scheduledTimerWithTimeInterval:1.0 target:self selector:@selector(backgroundTask:) userInfo:nil repeats:YES];

}

-(void)backgroundTask:(NSTimer*)timer{

    i++;
    NSLog(@"%s  %d",__func__,i);
} 
```

但是计时器回调在大约 10 分钟后停止如何制作一个不断更新当前位置到我的服务器的应用程序

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T10:08:11.553

您可能在应用的 Info.plist 文件中缺少**Background Modes键：**

```
<key>UIBackgroundModes</key>
    <array>
            <string>location</string>
    </array> 
```

这使您的应用程序可以在后台访问位置服务。

但是，这种事情已经被问过很多次了，所以也稍微浏览一下[其他堆栈溢出问题](https://stackoverflow.com/questions/6347503/how-do-i-get-a-background-location-update-every-n-minutes-in-my-ios-application)以获取更多信息。

[这是另一个](https://stackoverflow.com/questions/5807560/requesting-iphone-location-whilst-in-background)要阅读的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-12-07T12:36:27.330

您只能在后台更新 3 分钟。使用以下代码将 Capabilities-> BackgroundFetch 设置为大于或等于 3 个字段

调用这个 didenterbackground 或 foreground

```
var time = 120
func applicationDidEnterBackground(_ application: UIApplication)
    {
        time = 180
        self.doBackgroundTask()
    }

 var timerBack  = Timer()
    func doBackgroundTask() {

        DispatchQueue.global(qos: DispatchQoS.QoSClass.default).async {
            self.beginBackgroundUpdateTask()

            self.timerBack = Timer.scheduledTimer(timeInterval: 1, target: self, selector: #selector(AppDelegate.displayAlert), userInfo: nil, repeats: true)
            RunLoop.current.add(self.timerBack, forMode: RunLoopMode.defaultRunLoopMode)
            RunLoop.current.run()

            self.endBackgroundUpdateTask()
        }
    }
    var backgroundUpdateTask: UIBackgroundTaskIdentifier!

    func beginBackgroundUpdateTask() {
        self.backgroundUpdateTask = UIApplication.shared.beginBackgroundTask(expirationHandler: {
            self.endBackgroundUpdateTask()
        })
    }

    func endBackgroundUpdateTask() {
        UIApplication.shared.endBackgroundTask(self.backgroundUpdateTask)
        self.backgroundUpdateTask = UIBackgroundTaskInvalid
    } 
```

//做你想做的

```
func displayAlert{

} 
```

# javascript - 点击保存后刷新div

> ID：10895019
> 
> 赞同：1
> 
> 时间：2012-06-05T09:43:00.460
> 
> 标签：javascript, jquery, html, javascript-events

我的布局中有两个 div。我在左边的 div 中写了表格，在右边的 div 中有一个表格。

单击保存按钮后，必须刷新表所在的右侧 div。有人能帮我吗？

这是我的代码

```
//This is my **Left div**, Where i need to enter the **values** and when I click on **save** button, All the values must be displayed in the **right div** and that **right div must be refreshed**

<div align="left"> 

  <div id="bundle_number_text_label"> Bundle Number </div>
  <input id="bundlenumber" style=" padding: 3px 0;" type="text" name="bundle_number"  /><br />

  <div id="date_text_label"> Date </div>
<input type="text" style=" padding: 3px 0;" id="date" READONLY/><br/>

 <div id="length_text_label"> Length </div>
 <input id= "length" style=" padding: 3px 0;" type="text"  name="Length" /> (in mm)

 <input type="radio" name="browser" value="number" checked>
 <label><?=lang('number_txt')?></label>
    <input type="radio" name="browser" value="Balance"/>
    <label><?=lang('balance_txt')?></label></br>
 <input id= "rate" style=" padding: 3px 0;" type="text"  name="Rate" />

 <input type="button" value="Save" name="Save" id="save_id">

 </div> 
```

//这是我**右边的div**，点击**保存按钮**后，所有的值都必须显示在这里，这个div必须刷新。

```
<div id="div_save" align="left">  
 <table align="center !important" width="80%"  border="1px" cellspacing="0" cellpadding="0">
 <tr>
  <th>Select</th>&nbsp;
  <th>Bundle Number</th>&nbsp
  <th>Date</th>&nbsp;
  <th>Length(mm)</th>&nbsp;
  <th>Numbers</th>
  <th style="display:none;">Party id</th>
 </tr>

   <tr>
   <td align="center" valign="top">  
  <input type="radio" /></td> 
  <td align="center" valign="top"></td>   
  <td align="center" valign="top"></td>   
  <td align="center" valign="top"></td>  
  <td align="center" valign="top"></td> 
 </tr>

    <tr>
   <td align="center" valign="top">  
  <input type="radio" /></td> 
  <td align="center" valign="top"></td>   
  <td align="center" valign="top"></td>   
  <td align="center" valign="top"></td>  
  <td align="center" valign="top"></td> 
 </tr>
 </table>
 </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:09:28.610

您可以通过两种或三种时尚的方式做到这一点：

您可以将要刷新的所有内容移动到外部文件中，并使用`<iframe>`标签仅更新该特定框架，或者

您可以使用 Ajax 仅刷新所需的 html 部分，如下例所示：[http](http://www.w3schools.com/Ajax/ajax_example.asp) ://www.w3schools.com/Ajax/ajax_example.asp 。

但也许最简单的方法是利用 jQuery 的强大功能。在 jQuery 中，您可以这样做：

```
$('#first_div').load('test.html', function() {
  alert('Loading completed.'); //callback function
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:05:15.760

您可以将 Ajax 用于此类需求

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-08T02:34:50.420

使用 jQuery 通过 AJAX 发布表单。

```
var formData = $('#MyForm').serialize();
$.post( 'url-to-POST-to.html', 
    formData,
    function(data){
        $('#div_save').html( data);
    }
); 
```

成功后，具有该 ID 的 div 将其内容替换为服务器为响应您的 POST 而发回的任何内容。

PS：左侧 div 中的 FORM 标签在哪里？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-05T09:46:34.837

用于`$('#the_one_div').load('source.html');`在按钮 click() 事件中重新加载 div 的内容。

[http://api.jquery.com/load/](http://api.jquery.com/load/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-05T09:47:21.217

最简单的方法是在您的服务器端提供一些支持以仅呈现您的表格。

然后，做

```
var submittedData = $('#myForm').serialize(); 
$('#myTable').load('http://www.example.com/myPage?renderTable', submittedData); 
```

更高级的版本会得到一个 json 字符串，并在客户端创建表。

# azure-sql-database - 获取 Windows Azure 服务器中的 sql azure 数据库列表

> ID：10895026
> 
> 赞同：0
> 
> 时间：2012-06-05T09:43:20.943
> 
> 标签：azure-sql-database

有没有一种简单的方法可以在 c# 中编码以获取 Windows Azure 服务器中的 Sql Azure 数据库列表？

谢谢马丁

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T02:54:28.033

要列出服务器上的数据库，您可以查询主数据库中的 sys.databases 表。您可以使用任何您喜欢的数据访问框架来查询此表，例如 Entity Framework (http://msdn.microsoft.com/en-us/library/bb399572.aspx)。

您还可以使用管理 API (http://msdn.microsoft.com/en-us/library/windowsazure/gg715269) 列出订阅下的所有服务器。

# java - 如何在 Freemarker 模板中创建列表

> ID：10895027
> 
> 赞同：6
> 
> 时间：2012-06-05T09:43:28.210
> 
> 标签：java, freemarker

我有一组在迭代值列表时生成的函数名称。我想在列表中捕获这些值“functions_names”并将其用于进一步处理。我怎样才能做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T08:57:12.263

FreeMarker 不支持修改集合。但是如果你真的想在 FreeMarker 中（而不是在 Java 中）这样做，你可以使用序列连接：`<#assign myList = myList + [newItem]>`. 在这里，您创建一个包含其他两个序列的新序列。请注意，如果您尝试在以这种方式构造的长列表中进行索引访问，则结果序列很慢。

# python - python追加到json对象中的数组

> ID：10895028
> 
> 赞同：36
> 
> 时间：2012-06-05T09:43:32.933
> 
> 标签：python, arrays, json, append

我在 python 中有以下 json 对象：

```
jsonobj = {
          "a": {
              "b": {
                      "c": var1,
                      "d": var2,
                      "e": [],
                   },

                },
            } 
```

而且我想将键值元素附加到“e”中，但无法弄清楚它的语法。我尝试附加以下内容，但括号和引号不正确：

```
jsobj["a"]["b"]["e"].append("'f':" + var3) 
```

相反，我希望“e”如下：

```
"e":[
       {"f":var3, "g":var4, "h":var5},
       {"f":var6, "g":var7, "h":var8},
    ] 
```

有谁知道附加到这个 json 数组的正确方法？非常赞赏。

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2012-06-05T09:47:04.197

```
jsobj["a"]["b"]["e"].append({"f":var3, "g":var4, "h":var5})
jsobj["a"]["b"]["e"].append({"f":var6, "g":var7, "h":var8}) 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-06-05T09:46:41.343

只需将字典添加为字典对象而不是字符串：

```
jsobj["a"]["b"]["e"].append(dict(f=var3)) 
```

完整来源：

```
var1 = 11
var2 = 32
jsonobj = {"a":{"b":{"c": var1,
                     "d": var2,
                     "e": [],
                    },
               },
           }
var3 = 444
jsonobj["a"]["b"]["e"].append(dict(f=var3)) 
```

jsonobj 将包含：

```
{'a': {'b': {'c': 11, 'd': 32, 'e': [{'f': 444}]}}} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-05T09:48:03.957

```
jsonobj["a"]["b"]["e"] += [{'f': var3, 'g' : var4, 'h': var5}, 
                           {'f': var6, 'g' : var7, 'h': var8}] 
```

# javadoc - Javadoc with Gradle：运行 javadoc 任务时不要获取库

> ID：10895032
> 
> 赞同：9
> 
> 时间：2012-06-05T09:43:40.993
> 
> 标签：javadoc, libraries, gradle

我是 gradle 新手，我正在尝试使用 gradle 运行 javadoc。我已经关注了[gradle javadoc page](http://gradle.org/docs/current/javadoc/org/gradle/api/tasks/javadoc/Javadoc.html)，所以我在 build.gradle 中添加了我的下一个任务：

```
 apply plugin: 'java'

task myJavadocs(type: Javadoc) {
source = sourceSets.main.allJava  } 
```

我的问题是，我的项目的任何库都没有添加，所以我得到了很多错误，比如下一个：

```
MyClass.java:7: package net.sf.oval.constraint does not exist import net.sf.oval.constraint.NotNull; 
```

我究竟做错了什么？

谢谢你的时间，

拉斐尔

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-05T11:10:17.890

您必须配置 Javadoc 任务的类路径。就像是：

```
myJavadocs {
    classpath = configurations.compile
} 
```

有关更多配置选项，请参阅[DSL 参考](http://gradle.org/docs/current/dsl/org.gradle.api.tasks.javadoc.Javadoc.html)。

# javascript - javascript中的数据操作

> ID：10895034
> 
> 赞同：0
> 
> 时间：2012-06-05T09:43:48.347
> 
> 标签：javascript, algorithm, recursion, data-manipulation

我有一个包含如下文件夹的信息数组：

```
[
               {
                  "ACLID" : 0,
                  "ID" : 100,
                  "auditInfoVersion" : 3435973836,
                  "createBy" : 2,
                  "createDate" : "04/12/2012 17:38:46",
                  "isSubFolder" : 0,
                  "name" : "Piyush1",
                  "objectType" : 3,
               -->"parentID" : 3,
                  "policyID" : 2,
                  "sDescription" : "",
                  "updateBy" : 2,
                  "updateDate" : "04/12/2012 17:38:46"
               },
               {
                  "ACLID" : 0,
                  "ID" : 102,
                  "auditInfoVersion" : 3435973836,
                  "createBy" : 2,
                  "createDate" : "05/10/2012 12:38:25",
                  "isSubFolder" : 0,
                  "name" : "New",
                  "objectType" : 3,
               -->"parentID" : 3,
                  "policyID" : 2,
                  "sDescription" : "",
                  "updateBy" : 2,
                  "updateDate" : "05/10/2012 12:38:25"
               },
               {
                  "ACLID" : 0,
                  "ID" : 103,
                  "auditInfoVersion" : 3435973836,
                  "createBy" : 2,
                  "createDate" : "05/14/2012 18:00:22",
                  "isSubFolder" : 0,
                  "name" : "SegFolderWithDiffPolicy",
                  "objectType" : 3,
               -->"parentID" : 3,
                  "policyID" : 39,
                  "sDescription" : "",
                  "updateBy" : 2,
                  "updateDate" : "05/14/2012 18:00:22"
               },
               {
                  "ACLID" : 0,
                  "ID" : 104,
                  "auditInfoVersion" : 3435973836,
                  "createBy" : 2,
                  "createDate" : "05/17/2012 14:13:56",
                  "isSubFolder" : 0,
                  "name" : "New1",
                  "objectType" : 3,
               -->"parentID" : 100,
                  "policyID" : 2,
                  "sDescription" : "",
                  "updateBy" : 2,
                  "updateDate" : "05/17/2012 14:13:56"
               },
               {
                  "ACLID" : 0,
                  "ID" : 105,
                  "auditInfoVersion" : 3435973836,
                  "createBy" : 2,
                  "createDate" : "05/17/2012 14:14:13",
                  "isSubFolder" : 0,
                  "name" : "abcasdna",
                  "objectType" : 3,
               -->"parentID" : 104,
                  "policyID" : 2,
                  "sDescription" : "",
                  "updateBy" : 2,
                  "updateDate" : "05/17/2012 14:14:13"
               },
               {
                  "ACLID" : 0,
                  "ID" : 106,
                  "auditInfoVersion" : 3435973836,
                  "createBy" : 2,
                  "createDate" : "05/18/2012 12:51:39",
                  "isSubFolder" : 0,
                  "name" : "new2",
                  "objectType" : 3,
               -->"parentID" : 100,
                  "policyID" : 2,
                  "sDescription" : "",
                  "updateBy" : 2,
                  "updateDate" : "05/18/2012 12:51:39"
               }
            ] 
```

现在所需的数据类型是：

```
[{
    name:'Piyush1',
    children: [{
        name: 'New1',
        children:[{
            name: 'abcasdna'
        }]
    },{
        name: 'New2'
    }]
},{
    name: 'New'
}] 
```

现在的问题是，可以有任意数量的文件夹和任意级别的层次结构。

那么有没有办法可以实现这种转换？

# objective-c - CoreGraphics 在白色画布上绘制图像

> ID：10895035
> 
> 赞同：6
> 
> 时间：2012-06-05T09:43:56.397
> 
> 标签：objective-c, ios, core-graphics

我有一个具有可变宽度和高度的源图像，我必须在全屏 iPad UIImageView 上显示它，但在图像本身周围添加边框。所以我的任务是创建一个带有白色边框的新图像，但不与图像本身重叠。我目前正在通过此代码进行重叠：

```
- (UIImage*)imageWithBorderFromImage:(UIImage*)source
{
  CGSize size = [source size];
  UIGraphicsBeginImageContext(size);
  CGRect rect = CGRectMake(0, 0, size.width, size.height);
  [source drawInRect:rect blendMode:kCGBlendModeNormal alpha:1.0];

  CGContextRef context = UIGraphicsGetCurrentContext();
  CGContextSetRGBStrokeColor(context, 1.0, 1.0, 1.0, 1.0);
  CGContextSetLineWidth(context, 40.0);
  CGContextStrokeRect(context, rect);
  UIImage *testImg =  UIGraphicsGetImageFromCurrentImageContext();
  UIGraphicsEndImageContext();
  return testImg;
} 
```

谁能告诉我如何首先绘制一个在每个方向上比源图像大 40 像素的白色画布，然后在其上绘制该图像？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-05T09:57:02.847

我调整了您的代码以使其正常工作。基本上它的作用：

1.  将画布大小设置为图像大小 + 2*margins
2.  用背景颜色填充整个画布（在你的情况下为白色）
3.  在适当的矩形中绘制图像（具有初始大小和所需的边距）

结果代码是：

```
- (UIImage*)imageWithBorderFromImage:(UIImage*)source
{
    const CGFloat margin = 40.0f;
    CGSize size = CGSizeMake([source size].width + 2*margin, [source size].height + 2*margin);
    UIGraphicsBeginImageContext(size);

    [[UIColor whiteColor] setFill];
    [[UIBezierPath bezierPathWithRect:CGRectMake(0, 0, size.width, size.height)] fill];

    CGRect rect = CGRectMake(margin, margin, size.width-2*margin, size.height-2*margin);
    [source drawInRect:rect blendMode:kCGBlendModeNormal alpha:1.0];

    UIImage *testImg =  UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return testImg;
} 
```

# maven - maven无法发现workspace项目、junit、其他库

> ID：10895036
> 
> 赞同：1
> 
> 时间：2012-06-05T09:43:59.160
> 
> 标签：maven, windows-xp, m2e

所以不久前我开始使用 maven（使用 eclipse 和 Sonatype 的本地实现），在经历了最初的痛苦之后，我虽然一切正常......显然不是！

我有我的主项目 POM 和我所有的子 POM（我使用的是“平面”层次结构，所以所有子项目都与父 POM 在同一个文件夹中）。这似乎工作正常。

在我开始使用 Maven 之前，所有启动和“发布”和测试的子项目。我去 maven 解决我的“依赖”问题......或者在这种情况下让它们变得更复杂。

大多数“Maven”的东西似乎都可以正常工作，但是我无法解决已发布到本地 ms/repository 中的“子项目”的依赖关系

每天我启动 eclipse 并遇到同样的问题，我的所有个人库以及我用于它们的所有库（例如 Log4j、DDlUtils 等）都“无法解析导入”。

我认为 maven 的全部意义在于我可以为库添加导入声明，将“groupID”和其他内容添加到子 POM（或父 POM）中。然后在我对父级运行 mvn install 时自动下载所有 jar。

但是，每天我发现我必须通过 eclipse 工作区重新插入库（内部和外部）的构建路径，并将它们指向我下载的库的位置，因为 maven 似乎无法在任何地方找到它们。

特别是通过运行 Junit 测试，我可以从工作区运行它们（使用 run as junit）并且它们都通过了。但是，如果我尝试使用 mvn test 运行它们，我会收到一条消息说 java.lang;NoClassDefFoundError: org/junit/Assert （这与在运行 mvn 测试的 eclipse 中或从 CLI 中相同）在输出中出现错误消息未能执行目标 org.apache.maven.plugins:maven.surfire-plugin:2.10:test POM 和 jar 在我的 M2_REPO 中，我在 sonatype 中搜索时可以找到它，为什么 maven 找不到是它自己系统的一部分，存在于它的 repo 中。

但是当我通过 eclipse 运行并将它指向一个独立下载的junit库时，这显然工作得很好。

我不知道您可能需要什么额外信息，而且我显然在 m2e 插件、我的 maven 安装或 sonatype 中遗漏了一些东西。

请帮助我开始松开我的头发！并且可能很快就会被迫回到蚂蚁/常春藤解决方案（但不想学习“另一种工具”（在这种情况下是常春藤）。

提前致谢

大卫。

附言。我在 Windows XP 平台上

编辑...我可以让 maven 构建和发布 jar 和 pom，即使它认为它没有通过测试（这不是我手动做的，它们通过就好了）。

如果我查看父 POM 的“有效 POM”选项卡，上面所述的插件不在那里。我想这意味着它是一个 Maven 配置设置，但是我在哪里添加它，为什么当我运行我的第一组 Maven 测试时它不是自动的？

编辑 2....

我刚刚在 apache 插件评论页面 (http://maven.apache.org/plugins/maven-surefire-plugin/plugin-info.html) 上找到了这个，所以我在 CLI 上运行了代码 mvn surefire:help - Ddetail=true -Dgoal=test 下载了很多东西，现在测试运行了，但是在 maven 中失败了？（请记住，当使用 'run as junit test 从 eclipse 运行时它们会通过）......所以这几乎是一个解决方案......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T00:02:06.540

听起来你需要让 eclipse 知道有问题的项目是 Maven 项目。您可能已经为您的项目设置了 POM，但要使 m2e 插件正常工作，您需要将项目创建为 Maven 项目（'New' -> 'Project...' -> 'Maven' -> 'Maven项目...'），或通过右键单击它然后选择“配置”->“转换为 Maven 项目”将其转换为 Maven 项目。您将知道一个项目已被识别为 Maven 项目，因为它的图标左上角会有一个蓝色的小“M”，如下图所示：

![一些 Maven eclipse 项目](../Images/ccc00be5d6541527fb92c32640070bc4.png)

上图中要注意的主要是“Maven Dependencies”库。这是由 m2e 插件自动设置的。每当您向 POM 添加依赖项时，项目的构建路径将自动配置，尽管有时您可能需要通过右键单击项目并选择“Maven”->“更新 Maven 配置”来强制它这样做。重要的是，如果一切正常，那么您永远不必自己更新构建路径。此外，如果您自己更新它，那么您所做的任何更改都可能会在您下次运行“更新 Maven 配置”命令时被覆盖。

从图片中还值得注意的是，“mavenProjectTest”和“primes”这两个依赖项旁边都有文件夹图标。这意味着它们已被选为工作区项目。为此，项目必须启用“工作区解析”，并且要提取的项目也需要配置为 m2e Maven 项目。

您提到下载外部库。您不需要自己下载任何库 - 通过为外部库添加正确的依赖声明，然后 Maven 将从您配置的远程存储库中下载它（无论如何都是第一次 - 之后它将能够从您的本地存储库中获取它）。默认情况下，这是[Maven 中央存储库](http://search.maven.org/)。要将外部库添加到您的项目，只需点击该链接，在搜索框中输入库，单击您需要的版本的版本链接，然后您将被带到一个页面，其中将包含您的依赖项 XML 声明可以复制并粘贴到您的 POM 中。

另一件可能有帮助的事情是，您应该确保您的源文件夹遵循 Maven 默认目录结构。也就是说，您的测试包应该包含在一个名为“src/test/java”的源文件夹中，主项目包应该放在“src/main/java”中。否则 Maven 将不知道在哪里可以找到您的源代码。可以配置 POM 来告诉 Maven 期望您的源代码位于不同的源文件夹中，但强烈建议您遵循标准的 Maven 目录结构。

因为你有子模块，我的建议是通过从头开始创建一个新的 Maven 项目来简化事情，你可以玩一下。一旦您对此感到满意，然后尝试让 m2e 为您的多模块项目工作。

我记得你第一次接触 Maven 时的痛苦，但一旦你了解它在做什么并且一切正常，那就太好了。我强烈推荐阅读免费的在线书籍[Maven: The Complete Reference](http://www.sonatype.com/books/mvnref-book/reference/) - 它在我开始使用 Maven 时帮助了我很多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T15:54:32.690

感谢我组织的一位 Maven 专家，我遇到了同样的消息并找到了可行的解决方案。

这是我的 pom.xml，它**重现了您的错误：**

```
 <dependencies>
    <dependency>
        <groupId>org.junit4</groupId>
        <artifactId>org.junit4</artifactId>
        <version>4.3.1</version>
    </dependency>
  </dependencies> 
```

有了它，我会收到`package org.junit does not exist`消息和`NoClassDefFoundError: org/junit/Assert`. 与您的经验类似，它在 Eclipse、绿色条和所有方面都表现出色。

这是有效的 pom.xml **：**

```
<dependencies>
    <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.8.1</version>
        <scope>test</scope>
    </dependency>
</dependencies> 
```

[我从这个 Using JUnit 页面](http://maven.apache.org/plugins/maven-surefire-plugin/examples/junit.html)顶部的示例中复制了这个。

# javascript - 在 iscroll4 中同时使用 useTransform:false 和 zoom:true，缩放不起作用

> ID：10895039
> 
> 赞同：0
> 
> 时间：2012-06-05T09:44:02.840
> 
> 标签：javascript, iscroll4, iscroll

这是我的代码，

```
var myScroll;

                                    function scroll() {

                                        myScroll = new iScroll('wrapper', {
                                                               checkDOMChanges: false,
                                                               useTransform: false,
                                                               onBeforeScrollStart: function (e) {
                                                               var target = e.target;
                                                               while (target.nodeType != 1) target = target.parentNode;

                                                               if (target.tagName != 'SELECT' && target.tagName != 'INPUT' && target.tagName != 'TEXTAREA')
                                                               e.preventDefault();
                                                               },
                                                               zoom: true

                                                               });
                                        setTimeout(function () { myScroll.refresh(); }, 0);

                                    }

                                    document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);
                                    document.addEventListener('DOMContentLoaded', scroll); 
```

当我删除 useTransform:false 行时，缩放 iscroll 正在工作。当我尝试上面的代码时，缩放不起作用。但我需要在我的应用程序中对某些操作使用 useTransform:false。如果我使用 useTransform:false 线，如何进行缩放。请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T13:06:56.097

我不是 100% 确定，但我认为 iScroll 需要使用变换来缩放，因为它使用 transform: scale(x) 属性通过缩放内容来模拟缩放。

因此，我认为您无法做到这一点。

# php - 通过 perl 脚本在 Lotus Domino 数据库中创建文档

> ID：10895040
> 
> 赞同：1
> 
> 时间：2012-06-05T09:44:04.203
> 
> 标签：php, perl, e-commerce, http-post, lotus-domino

我见过这样的代码块

```
use Win32::OLE; 
my $Notes = Win32::OLE->new('Notes.NotesSession') 
    or die "Cannot start Lotus Notes Session object.\n"; 
my $database = $Notes->GetDatabase("",'mail\VIMM.nsf'); 
```

但是我的脚本在虚拟 webfusion apache 服务上运行，所以你如何在我的 domino 服务器上建立与数据库的连接，我可以控制它的 acl 和它的网站，所以可以传入用户名和密码。脚本和“POST”数据由第三方网关发送，其中包含我需要捕获的事务结果（成功/失败 + 名称值对等）。我不能直接在 domino 服务器上执行此操作，因为尽管 Domino 支持 PERL 脚本，但它们只有在服务器上也安装了 PERL 时才能工作，这不是一个选项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T12:53:11.067

Lotus Domino 也是一个 Web 应用程序服务器，因此您可以使用来自 Apache 服务器上的 perl 脚本的 HTTP（GET 和 POST）与服务器通信。

这可能需要更改相关的 Domino 应用程序，以便它提供您期望的内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T16:16:04.217

此外，您可以在 Domino 服务器上提供 WebService。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-20T08:51:24.003

要使 OLE/COM 工作，Perl 和脚本必须位于安装了 Notes 和/或 Domino 的服务器上。否则，OLE/COM 类未安装且不可用。

正如 Per 和 Klaus 所提到的，如果您不能将 Notes/Domino 放在装有 Perl 的机器上，那么您必须切换到某种基于 Web 的通信。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-25T13:47:01.117

如果您不限于 COM/OLE，您可以使用[IBM Lotus Domino Data Service](http://www-10.lotus.com/ldd/ddwiki.nsf/xpViewCategories.xsp?lookupName=Domino%20Data%20Service)，它是 Domino Designer 8.5.3 升级包 1 中的新功能：

> IBM® Lotus® Domino® Data Service 是一个 REST API，用于访问 Domino 服务器上的数据库。它是 Domino 访问服务的一部分。
> 
> Domino 数据服务使用带有 JSON 格式正文内容的 HTTP 和 HTTPS 协议接收请求并发送响应。
> 
> Domino 数据服务允许您获取有关数据库、视图、文件夹和文档的信息。您可以更新、添加和删除文档。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-26T21:01:22.600

根本问题是诸如**http://www.mysite.com/thankyou?orderno=123**这样的 URL在 Lotus Domino 网站中不起作用，因为 ? 是 Domino Web 引擎的特殊字符（例如 ?openagent、?opendatabase）。你也不能使用**http://www.mysite.com/(thankyou)?openagent?orderno=456**（我试过），在这两种情况下你得到的都是 404 page not found 错误和一个多米诺日志错误“don'不了解网址”。这个问题最初是寻求 Perl 的帮助来解决问题，但我无法在我的 webfusion 社区服务器上运行 Perl 脚本，但幸运的是，这个简单的 php 脚本很快就成功了：

```
<?php
    $params = "";
    $url = "http://www.mywebsite.co.uk/";
    $path = "wpx/website.nsf/httpagent?openagent";
      if($_GET) {
    $kv = array();
          foreach ($_GET as $key => $value) {
              $kv[] = "$key=$value";
          }
          $params = join("&", $kv);
}
print "<script>window.location.href=\"" . $url . $path . "&" . $params . "\"</script>";
?> 
```

该脚本放置在我的 webfusion 服务器上的子域下，该子域有效地将 url 转换为 Domino 可以处理的格式，格式 ?openagent&orderno=456 很容易由 java 或 Lotusscript 代理处理，参数是从 CGI Request_Content 字段中提取的.

重定向意味着我现在不需要直接操作 domino 数据库中的数据，这也意味着除了 url 翻译脚本之外，所有网站代码都在 domino 数据库中。

# jquery - Phonegap jQuery Mobile 谷歌地图 API 错误

> ID：10895049
> 
> 赞同：0
> 
> 时间：2012-06-05T09:44:49.583
> 
> 标签：jquery, jquery-mobile, cordova, google-maps-api-3

我正在尝试使用 Google Maps API 进行搜索。如果我在浏览器上打开[这个 url](https://maps.googleapis.com/maps/api/place/search/json?location=-26.1443912,28.0261926&radius=5000&name=Pizza&sensor=false&key=API_KEY)（指定我的 API KEY），我会得到一个显示的结果。我正在使用 Phonegap & jQuery，并尝试在此函数中使用它：

```
$("#search").click(function() {
  try {
    $.mobile.showPageLoadingMsg();
    navigator.geolocation.getCurrentPosition(function(position) {
    var radius = $("#range").val() * 1000;
    mapdata = new google.maps.LatLng( position.coords.latitude, position.coords.longitude );
    var url = "https://maps.googleapis.com/maps/api/place/search/json?location=" +
      position.coords.latitude + "," + position.coords.longitude + "&radius=" + radius +
      "&name=" + $("#searchbox").val() + "&sensor=true&key=API_KEY";
    $.getJSON(url,
      function(data) {
        cachedData = data;
        $("#result-list").html("");
        try {
          $(data.results).each(function(index, entry) {
            var htmlData = "<a href=\"#details\" id=\"" + entry.reference +"\"><img src\"" +
              entry.icon + "\" class=\"ui-li-icon\"/img><h3>&nbsp;" + entry.name +
              "</h3><p><strong>&nbsp;vicinity: " + entry.vicinity + "</strong></p></a>";
            var liElem = $( document.createElement( 'li' ) );
            $("#result-list").append(liElem.html( htmlData ));
            $(liElem).bind( "tap",
              function(event){
                event.stopPropagation();
                fetchDetails(entry);
                return true;
            });
          });
          $("#result-list").listview('refresh');
        } catch(err) {
          console.log( "Got error while putting search result on result page " + err );
        }
        $.mobile.changePage("list");
        $.mobile.hidePageLoadingMsg();
      }).error(function(xhr, textStatus, errorThrown) {
        console.log("Got error while fetching search result : xhr.status=" + xhr.status);
      }).complete(function(error) {
        $.mobile.hidePageLoadingMsg();
      });
    },
    function(error) {
      console.log("Got Error fetching geolocation " + error);
    });
  } catch(err){
    console.log("Got error on clicking search button "+ err);
  }
}); 
```

在测试时，我在我的萤火虫控制台上得到了这个响应：

```
GET https://maps.googleapis.com/maps/api/place/search/json?location=-26.1443912,28.0261926&radius=5000&name=Pizza&sensor=false&key=API_KEY 200 OK (colored red with an error icon next to it)<br/> 
```

获取搜索结果时出错：xhr.status = 0

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T06:31:33.913

添加

```
$.mobile.allowCrossDomainPages = true; 
```

就在之前

```
 `$.getJSON()` 
```

和改变

`$.mobile.changePage("list");`

至

```
$.mobile.changePage("#list"); 
```

# ruby-on-rails - 无法使用 JRuby 构建 gem 原生扩展

> ID：10895053
> 
> 赞同：2
> 
> 时间：2012-06-05T09:45:10.223
> 
> 标签：ruby-on-rails, jruby, bundler, jrubyonrails

我使用 ruby​​-build 将 ruby​​ 版本从 ruby​​ 1.9.3-p125 更改为 JRuby 1.7.0- [preview1](https://github.com/sstephenson/ruby-build)。当我`jruby -S bundle install`在我的项目上执行时，有一些错误如下，

```
...
Using bson (1.6.2) 
Installing bson_ext (1.6.2) with native extensions
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

        /Users/joshchang/.rbenv/versions/jruby-1.7.0-preview1/bin/jruby extconf.rb 
NotImplementedError: C extension support is not enabled. Pass -Xcext.enabled=true to JRuby or set JRUBY_OPTS or modify .jrubyrc to enable.

   (root) at /Users/joshchang/.rbenv/versions/jruby-1.7.0-preview1/lib/ruby/shared/mkmf.rb:8
  require at org/jruby/RubyKernel.java:991
   (root) at /Users/joshchang/.rbenv/versions/jruby-1.7.0-preview1/lib/ruby/shared/rubygems/custom_require.rb:1
   (root) at extconf.rb:1
... 
```

有什么建议吗？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-20T22:17:10.167

`JRUBY_OPTS="-Xcext.enabled=true" gem install <your gem>`应该管用！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T19:01:42.393

只需阅读错误消息并按照它所说的尝试：`jruby -Xcext.enabled=true -S bundle install` 虽然它可能不起作用 - 通常 JRuby 不支持 C 扩展。

# jquery - jQuery ajax 加载的 Highcharts IE 问题

> ID：10895056
> 
> 赞同：1
> 
> 时间：2012-06-05T09:45:38.523
> 
> 标签：jquery, ajax, append, highcharts

我正在尝试在单个页面中显示 x 个不同的高图。每个图表都有自己的 .js 选项文件，它可以在其中获取数据并进行配置。这些文件的链接嵌入在图表自己的 HTML 文件中，该文件包含要呈现到的 div。

这些图表 html 文件中的每一个都根据请求通过 jQuery 加载到 id 为“reportsWindow”的 div 中（参见下面的代码）

HTML页面布局：

```
<script type="text/javascript" src="/graf/revenue/revenueGraphScript.js"></script>
<div class="clear">
    <div id="revenue" style="width: 600px; height: 200px;"></div>
</div> 
```

用于加载 html 页面的 jQuery 代码：

```
var graphPaths = {
    'revChart': '/graf/revenue/revenueChart.html',
    'revDisChart': '/graf/revenueDistribution/revenueDistributionChart.html'
}

$.each(graphPaths, function(index, value){  
    $.ajax({url: value, dataType: "html", success: function(data){
        $('#reportsWindow').append(data);
    }});          
}); 
```

问题是，当代码在 IE（所有版本）中运行时，第一个图表未正确加载，就好像加载和附加在中途停止，但是如果我第二次请求加载报告页面，两个图表都是显示。图表在 FF、Chrome 等中完美加载。

到目前为止，我已经尝试在追加之前使用 .delay() 来延迟 $.each()，并尝试在“setTimeout()”内进行 ajax 调用，但没有成功。

OBS：graphPaths 将在以后使用数据库输入填充，这就是我必须动态生成图表的原因。图表对象也有唯一的名称。图表生成代码在 $(document).ready() 中。

我正在寻找这样的东西：[创建六个具有相同渲染、不同数据的图表（highchart）](https://stackoverflow.com/questions/6361631/create-six-chart-with-the-same-rendering-different-data-highchart) 但我使用不同的图表，示例使用相同的图表。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-08T12:44:43.617

显然，在动态加载的一页上有多个图表时，IE 存在问题。通过从库中删除以下代码解决了该问题

```
// setup default css
        doc.createStyleSheet().cssText =
            'hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke' +
            '{ behavior:url(#default#VML); display: inline-block; } '; 
```

# php - Opencart 测试版本是否大于 1.5.1.3

> ID：10895061
> 
> 赞同：2
> 
> 时间：2012-06-05T09:46:04.610
> 
> 标签：php, opencart

如何添加 IF 语句来检查 opencart 版本是否大于 1.5.1.3？

这在 index.php 中定义为：

```
// Version
define('VERSION', '1.5.0'); 
```

我试过了：`if((int)VERSION >= '1.5.1.3'){`虽然当我把它转换成一个 int 时它变成了空的。

我也试过这个，效果相同：

```
$this->data['oc_version'] = (int)str_replace('.', '', VERSION);
if($this->data['oc_version'] >= 1513){ 
```

我是否需要将其转换为 int 才能正确执行大于/小于计算？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-05T13:15:15.130

```
if(version_compare(VERSION, '1.5.1.3', '>')) {
    // CODE HERE IF HIGHER
} else {
    // CODE HERE IF LOWER
} 
```

虽然 1.5.1.3 分支实际上上升到 1.5.1.3.1 所以我猜你希望它是

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-29T23:16:04.777

我最近试过这个，但不能像上面那样工作，也许它是一个 PHP 版本的东西，但我得到了它：

```
if(version_compare(VERSION, '1.5.1.3') > 0) {
    // CODE HERE IF HIGHER
} else {
    // CODE HERE IF LOWER
} 
```

希望对其他人有所帮助。从这里得到代码：http: [//us2.php.net/manual/en/function.version-compare.php](http://us2.php.net/manual/en/function.version-compare.php)

# liferay - 将 Liferay 标签云链接链接到不同的页面

> ID：10895063
> 
> 赞同：4
> 
> 时间：2012-06-05T09:46:08.710
> 
> 标签：liferay, portlet, tag-cloud

将 liferay 标签云 portlet 放在页面上时，当且仅当我在同一页面上有资产发布者 portlet 时，单击标签云中的链接只会在同一页面中呈现结果。

我想要的是，当我单击标签云中的链接时，它应该将我带到显示结果的不同页面，例如。一个搜索结果页面。

有没有办法使用标准组件来做到这一点？还是我必须编写自己的标签云 portlet 来支持此功能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T18:44:00.647

您不必创建新的 portlet。请按照以下步骤操作

1) 通过使用钩子，修改在标签云portlet 中为标签生成的链接。而不是当前布局，重定向到指定页面（例如，如果您在 /web/guest/tag 页面上，那么所有标签链接都将从 /web/guest/tag 开始？..... 将其设置为 /网络/访客/搜索？....）

2）在搜索页面，把资产发布者

所以现在，当你点击任何标签链接时，它会进入搜索页面，因为这个页面有资产发布者，它会从请求 url 和会话中读取所有参数，并将结果显示在搜索页面上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-01-02T15:57:41.523

这个钩子的代码：

文件`liferay-hook.xml`：

```
<hook>
     <custom-jsp-dir>/META-INF/custom_jsps</custom-jsp-dir>
</hook> 
```

文件`/docroot/META-INF/custom_jsps/html/taglib/ui/asset_tags_navigation/page.jsp`：

```
<%@ include file="/html/taglib/ui/asset_tags_navigation/init.jsp" %>
<%@ taglib uri="<http://liferay.com/tld/util>"
prefix="liferay-util" %> 
<%@ page import="com.liferay.portal.kernel.util.StringUtil" %>
<%@ page import="com.liferay.portal.service.LayoutLocalServiceUtil"%>

<liferay-util:buffer var="html">
     <liferay-util:include page="/html/taglib/ui/asset_tags_navigation/page.portal.jsp"/> 
</liferay-util:buffer> 

<% Layout searchLayout =
LayoutLocalServiceUtil.getFriendlyURLLayout(scopeGroupId, false,
"/search"); 

html = StringUtil.replace(html,layout.getRegularURL(request),searchLayout.getRegularURL(request));
%> 
<%= html %> 
```

# silverlight - 向 Silverlight 弧添加文本或标签

> ID：10895069
> 
> 赞同：2
> 
> 时间：2012-06-05T09:46:22.293
> 
> 标签：silverlight

嗨，是否可以像弧一样在 Silverlight 中为 Shape 对象添加文本或标签？目前我创建了一个由多条弧线组成的图表，我需要在弧线的顶部设置一个标签来识别它是谁的数据。![在此处输入图像描述](../Images/dee6f8eff82ac07f753b35a766231fae.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T22:22:14.933

如果要将文本放置在弧上，可以使用 PathListBox。[在 Silverlight 中沿曲率路径（如圆形或弧形）](https://stackoverflow.com/questions/8484118/text-along-curvature-path-like-circular-or-arc-in-silverlight)查看文本

或者，您可以定位自己的 TextBlock 对象。使用极坐标到矩形的转换[http://www.teacherschoice.com.au/maths_library/coordinates/polar_-_rectangular_conversion.htm](http://www.teacherschoice.com.au/maths_library/coordinates/polar_-_rectangular_conversion.htm)

例如，如果你的圆心是 10,20，半径是 30，你想放置文本块的角度是 45，那么

```
double DegreeToRadian(double degree) { return Math.PI / 180 * degree; }
x = 30 * Math.Cos(DegreeToRadian(45)) + 10
y = 30 * Math.Sin(DegreeToRadian(45)) + 20 
```

# c# - ActiveX 控件 - 单线程公寓

> ID：10895070
> 
> 赞同：0
> 
> 时间：2012-06-05T09:46:22.997
> 
> 标签：c#, windows

我下载了 facebook-csharp-sdk/facebook-winforms-sample 项目示例，

当我进行测试时，这个项目运行良好，然后我按照所有步骤创建了新项目。

当我对我的新项目进行测试时，我收到错误消息。

```
Line : webBrowser1 = new System.Windows.Forms.WebBrowser(); 
```

错误信息 ：

ActiveX 控件“8856f961-340a-11d0-a96b-00c04fd705a2”无法实例化，因为当前线程不在单线程单元中。这

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T09:51:32.577

1.  检查你的 main() 函数是否有`[StaThread]`属性

2.  检查您是否在多次调用的 Method 中使用以下行。

`Line : webBrowser1 = new System.Windows.Forms.WebBrowser();`

# nginx - 如何在 nginx 核心中创建自定义错误 502 nginx（不使用重定向到错误页面）？

> ID：10895071
> 
> 赞同：28
> 
> 时间：2012-06-05T09:46:26.040
> 
> 标签：nginx

有时，当 httpd 服务关闭时，我会遇到错误 502 的问题。但仅在 1 分钟内，该网站就回来了。

我需要自定义 502 消息以要求用户等待 1 分钟然后刷新页面，或者嵌入 JavaScript 或元刷新标签以在 1 分钟后自动刷新页面。页面的URL必须相同才能产生刷新效果

请注意，我知道自定义错误页面重定向，例如`location = /502.html`，但这种类型的自定义错误页面会将用户重定向到其他页面，如果他们刷新页面，他们将再次获得错误页面。

任何想法都会非常有帮助。

* * *

**编辑更新以获取更多详细信息 2012 年 10 月 6 日。**

我的 nginx 配置：

```
user  nobody;
# no need for more workers in the proxy mode
worker_processes  24;
error_log  /var/log/nginx/error.log crit;
#worker_rlimit_nofile 20480;
events {
 worker_connections 109024; # increase for busier servers
 use epoll; # you should use epoll here for Linux kernels 2.6.x
}

http {
 server_name_in_redirect off;
 server_names_hash_max_size 2048;
 server_names_hash_bucket_size 256;
 include    mime.types;
 default_type  application/octet-stream;
 server_tokens off;
 sendfile on;
 tcp_nopush on;
 tcp_nodelay on;
 keepalive_timeout  20;

 ignore_invalid_headers on;
 client_header_timeout  50m;
 client_body_timeout 50m;
 send_timeout     20m;
 reset_timedout_connection on;
 connection_pool_size  2048;
 client_header_buffer_size 256k;
 large_client_header_buffers 4 256k;
 client_max_body_size 20M; 
 client_body_buffer_size 300k;
 request_pool_size  32k;
 output_buffers  14 32k;
 postpone_output  1460;
 proxy_temp_path  /tmp/nginx_proxy/;
 proxy_cache_path /dev/shm/nginx levels=1:2 keys_zone=wwwcache:45m inactive=5m max_size=1000m;
 client_body_in_file_only off;
 access_log off;
 open_log_file_cache off;
 #log_format bytes_log "$msec $bytes_sent .";
 include "/etc/nginx/vhosts/*";
} 
```

和虚拟主机配置：

```
server {
 #         error_log /var/log/nginx/vhost-error_log warn;
          listen 123.30.137.66:80;
          server_name xaluan.net mtvvui.com www.daiduong.com.au www.xaluan.net xaluan.com www.xaluan.com www.daiduongrestaurant.net veryzoo.com www.mtvvui.com www.xaluan.org www.veryzoo.com daiduongrestaurant.net xaluan.org daiduong.com.au;
#          access_log /usr/local/apache/domlogs/xaluan.net combined;
          root /home/xaluano/public_html;
          location / {
      if ($http_cache_control ~ "max-age=0") {
                set $bypass 1;
          }

      location 
~.*\.(3gp|gif|jpg|jpeg|png|ico|wmv|avi|asf|asx|mpg|mpeg|mp4|pls|mp3|mid|wav|swf|flv|htm|txt|js|css|exe|zip|tar|rar|gz|tgz|bz2|uha|7z|doc|docx|xls|xlsx|pdf|iso)$ 
{
      #root /home/xaluano/public_html;  
    #proxy_cache wwwcache;
      #proxy_cache_valid  200 15m;
      #proxy_cache_bypass $bypass;
          expires 1d;
          #try_files $uri @backend;
      proxy_pass http://123.30.137.66:8081;
          }
          error_page 405 = @backend;
          add_header X-Cache "HIT from Backend";
      #proxy_set_header Server "Caching-Proxy";
          #add_header X-Cache-Vinahost "HIT from Backend";
      proxy_pass http://123.30.137.66:8081;
          include proxy.inc;

          }

          location @backend {
          internal;
          proxy_pass http://123.30.137.66:8081;
          include proxy.inc;
          }
          location ~ .*\.(php|jsp|cgi|pl|py)?$ {
          #proxy_cache wwwcache;
      #proxy_cache_valid  200 15m;

      proxy_pass http://123.30.137.66:8081;
          include proxy.inc;
          }
          location ~ /\.ht {
          deny all;
          }

     } 
```

==*案例测试..*

如果 Apache httpd 服务停止：`#service httpd stop`

然后在浏览器中打开此链接： [http](http://www.xaluan.com/modules.php?name=News&file=article&sid=123456) ://www.xaluan.com/modules.php?name=News&file=article&sid=123456 您将在浏览器地址上看到具有相同 URL 的 502 错误。

==*自定义错误页面* 我需要在Apache失败时提供帮助的配置，将**显示自定义消息**告诉用户等待1分钟以恢复服务，然后使用相同的URL刷新当前页面（刷新我可以通过JavaScript轻松完成），Nginx不会更改 URL，因此 JavaScript 可以正常工作。

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-06-10T02:37:38.143

我找到了一个适合我的答案。在 vhost 配置文件中，我把**右括号放在块的末尾`server`，然后关闭大括号：**

```
 error_page 502 /502.html;
 location = /502.html {

      root  /home/xaluano/public_html;

  } 
```

当然，我还需要在我的域根目录创建一个文件 502.html，使用元标记刷新和 java-script 自动刷新。

html页面的内容是：

```
<head>
<meta http-equiv="refresh" content="40" /> 
</head>
<body>
<script language="JavaScript" type="text/javascript">
/*<![CDATA[*/
var TimerVal = 40;
var TimerSPan = document.getElementById("CDTimer");
function CountDown(){
   setTimeout( "CountDown()", 1000 );
   TimerSPan.innerHTML=TimerVal;
   TimerVal=TimerVal-1;
   if (TimerVal<0) { TimerVal=0;
   location.reload(true); 
//   window.location.href = "http://www.xaluan.com";
   } //improvement by vivalibre, tq 
}
CountDown();
/*]]>*/ </script> 
</body> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-05T12:20:58.403

[http://nginx.org/r/error_page](http://nginx.org/r/error_page)

请注意，`error_page 502 /502.html;`执行**内部**重定向。它不会更改浏览器地址栏中的 URL。

# javascript - 智能手机书签

> ID：10895073
> 
> 赞同：5
> 
> 时间：2012-06-05T09:46:32.477
> 
> 标签：javascript, android, html, iphone

我在智能手机网站上工作。有没有办法在 Android 和 iPhone 网站（如旧学校网站）上设置“收藏此网站”按钮？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T03:47:42.927

不，没有，我希望没有人实现这一点，这太突兀了。

一些网站最终在 iPhone 上所做的是创建一个指向书签按钮的弹出窗口（请参阅 youtube 移动版），询问用户是否要为其添加书签。

# asp.net-mvc-3 - 在 asp.net mvc3 中重定向到部分弹出视图

> ID：10895078
> 
> 赞同：1
> 
> 时间：2012-06-05T09:46:55.787
> 
> 标签：asp.net-mvc-3, jquery, partial-views, popupwindow

嗨，我在我的应用程序中使用 mvc3！！！！我在单击附加文件的链接时打开一个弹出窗口

在弹出窗口中有 2 个按钮第一个按钮检查一些验证，如大小，并将文件保存在指定路径上

在第二个按钮上，我需要将文件名保存到数据库

直到现在我可以像这样打开弹出窗口

```
 @Ajax.ActionLink("Attach File", "attachFile", new { id = item.ID, size=itemFileSize }, new AjaxOptions { HttpMethod = "GET", UpdateTargetId = "result", InsertionMode = InsertionMode.Replace, OnSuccess = "openPopup" }) 
```

并从同一视图调用这样的函数

```
 <script type="text/javascript">

$("#result").dialog({ autoOpen: false,

    title: 'title',

    width: 800,

    height: 275,

    modal: true
});

function openPopup() {

    $("#result").dialog("open");

} </script> 
```

这运行良好，直到我按下此弹出窗口上的附加按钮并尝试将结果返回到弹出窗口

现在这一次当我调用弹出窗口时

```
 return PartialView("attachFile",cwork); 
```

弹出窗口没有打开，而是在窗口上以正常形式打开

这是我在 attachFile 视图上的代码

```
 <form action="/Coursework/attachFile/" method="post" enctype="multipart/form-data">
  <td>
                    <input type="file" name="file" id="file1"/>
               </td>
               <td> <input type="submit" name="Attach" id="Attach" value="@Resources.prtf_Attach" />
               </td>
 </form>
  ....Below this is a submit button 
```

请告诉我如何在同一个弹出窗口中打开视图而不是正常页面

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T09:59:28.820

您应该在 AjaxOptions 中的 OnBegin 上调用弹出打开函数，而不是 OnSuccess。当 OnSuccess 事件触发时，您应该关闭弹出窗口

# visual-c++ - Qt 4.8.2 + vs2010 + 静态 + 项目构建问题 LNK2019 & LNK2005

> ID：10895080
> 
> 赞同：0
> 
> 时间：2012-06-05T09:46:59.613
> 
> 标签：visual-c++, qt4, linker-errors, static-linking

[我按照这篇文章http://www.holoborodko.com/pavel/2011/02/01/how-to-compile-qt-4-7-with-](http://www.holoborodko.com/pavel/2011/02/01/how-to-compile-qt-4-7-with-visual-studio-2010/)中的说明成功编译了 qt4.8.2 的静态版本[视觉工作室 2010/](http://www.holoborodko.com/pavel/2011/02/01/how-to-compile-qt-4-7-with-visual-studio-2010/)

但是，我在编译我的项目时遇到了一系列错误，它们与 LNK2019 和 LNK2005 相关。

我在底部附上了错误消息。

对于 LNK2005 相关的错误，我在 Linker->Input->Ignore Specific Default Libraries 中包含了 LIBCMT，它的相关错误从错误列表中消失了，但这是正确的方法吗？

对于LNK2019相关的错误，我无法解决，请给我一些指导。

这是我的项目设置：

```
C/C++ -> Code Generation -> Runtime Library: Multi-threaded Debug (/MTd)

C/C++ -> Language -> Treat WChar_t As Built in Type: No ( /Zc:wchar_t- )

Linker-> Input -> Additional Dependencies:

Imm32.lib
Ws2_32.lib
winmm.lib
qtmaind.lib
QtCored.lib
QtGuid.lib
wsock32.lib 
```

LNK2019 相关错误信息：

```
- Error 161 error LNK2019: unresolved external symbol
   "__declspec(dllimport) public: class std::basic_string<char,struct
   std::char_traits<char>,class std::allocator<char> > __thiscall
   QString::toStdString(void)const "
   (__imp_?toStdString@QString@@QBE?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@XZ)
   referenced in function "private: void __thiscall
   MainForm::on_actionConfiguration_triggered(void)"
   (?on_actionConfiguration_triggered@MainForm@@AAEXXZ) C:\Working\ProjLocation\test\mainform.obj   test

 - Error    163 error LNK2019: unresolved external symbol
   "__declspec(dllimport) public: class QString & __thiscall
   QString::append(char const *)" (__imp_?append@QString@@QAEAAV1@PBD@Z)
   referenced in function "private: void __thiscall
   MainForm::summaries_series(struct series const *)"
   (?summaries_series@MainForm@@AAEXPBUseries@@@Z)  C:\Working\ProjLocation\test\mainform.obj   test

 -  Error   162 error LNK2019: unresolved external symbol
   "__declspec(dllimport) public: __thiscall QString::QString(char const
   *)" (__imp_??0QString@@QAE@PBD@Z) referenced in function "private: void __thiscall MainForm::on_actionLogin_triggered(void)"
   (?on_actionLogin_triggered@MainForm@@AAEXXZ) C:\Working\ProjLocation\test\mainform.obj   test 
```

LNK2005相关错误信息：

```
- Error 12 error LNK2005: __set_invalid_parameter_handler already defined in LIBCMTD.lib(invarg.obj) C:\Working\ProjLocation\test\LIBCMT.lib(invarg.obj) test

<more LIBCMT & LIBCMTD related errors…..>

- Error 17 error LNK2005: “void __cdecl _invalid_parameter(unsigned short const *,unsigned short const *,unsigned short const *,unsigned int,unsigned int)” (?_invalid_parameter@@YAXPBG00II@Z) already defined in LIBCMTD.lib(invarg.obj) C:\Working\ProjLocation\test\LIBCMT.lib(invarg.obj) test 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T01:56:52.893

在我重新编译 Qt 源代码后，vs 插件创建的默认 Qt 项目属性已更改。

# sql - 访问数据插入 SQL Server

> ID：10895082
> 
> 赞同：-1
> 
> 时间：2012-06-05T09:47:07.023
> 
> 标签：sql, sql-server-2008, ms-access

我无法将 Access 表中的数据插入 SQL Server 2008。

我正在使用 C# 进行以下操作：

1.  使用连接到 Access 数据库`OleDbConnection`

2.  使用以下语句执行此语句`OleDbCommand`：

    ```
    Insert Into Table1
    In Server=localhost;Database=TEST;Integrated Security=SSPI
    Select * From Tables1 
    ```

我收到错误

> 插入命令中的语法错误

我需要做什么？请指导。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:28:10.730

您需要以下内容：

```
Insert Into
[ODBC;DRIVER=SQL Server;Server=localhost;Database=TEST;Integrated Security=SSPI].Table1
Select * From Table1 
```

获取正确连接字符串的最简单方法是链接表，然后检查连接属性。

您还可以在[http://connectionstrings.com找到连接字符串](http://connectionstrings.com)

# ruby-on-rails-3 - Twitter 获取由我制作或提及我的推文

> ID：10895083
> 
> 赞同：1
> 
> 时间：2012-06-05T09:47:11.143
> 
> 标签：ruby-on-rails-3, twitter, tweets

我正在使用 rails 和 Twitter gem。我想显示我的 Twitter 用户的最新推文或提及的列表，例如 10 条。我看过了，`home_timeline`但这会返回所有内容。如果我单击个人资料的“推文”部分，我想将其限制为所看到的内容。

我应该如何解决这个问题，因为我迷失在无数的开发人员文档中并且不确定如何继续？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T09:51:19.620

您应该使用[`statuses/user_timeline`](https://dev.twitter.com/docs/api/1/get/statuses/user_timeline)API 中的资源：

> 返回验证用户发布的 20 个最新状态。

有关所有可用资源的更多信息，请参阅[Twitter 的](https://dev.twitter.com/docs/api)REST API 文档。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:05:58.893

使用 Twitter GEM for Rails，使用

```
Twitter.user_timeline('stackexchange') 
```

这是 20 种状态。将计数限制为 10。

```
Twitter.user_timeline('stackexchange', :count => 10) 
```

我希望这有帮助。

# python - 如何：通过删除换行符从多行到单行

> ID：10895088
> 
> 赞同：0
> 
> 时间：2012-06-05T09:47:28.553
> 
> 标签：python, newline, multiline

我是python的新手，开始学习它。

我想制作一个脚本来计算文本文件中相同的字母模式。问题是我的文本文件有多行。当他们转到下一行时，我找不到我的一些模式。

我的文件和图案是 DNA 序列。

例子：

```
'attctcgatcagtctctctagtgtgtgagagactctagctagatcgtccactcactgac**ga 
tc**agtcagt**gatc**tctcctactacaaggtgacatgagtgtaaattagtgtgagtgagtgaa' 
```

我正在寻找`'gatc'`。第二个被计算了，但第一个没有。

那么，如何将此文件制作为单行文本文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:45:16.223

```
dnatext = text.replace('\n', '')    // join text lines
gatc_count = dnatext.count('gatc')  // count 'gatc' occurrences 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:36:08.760

当您从文件中读取模式时，您可以加入这些行：

```
 fd = open('dna.txt', 'r')
    dnatext = ''.join(fd.readlines())
    dnatext.count('gatc') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:04:20.163

这应该可以解决问题：

```
dnatext = "".join(dnatext.split("\n")) 
```

# php - 如果点高于特定数量，则从列中获取值

> ID：10895089
> 
> 赞同：1
> 
> 时间：2012-06-05T09:47:31.140
> 
> 标签：php, mysql

好的，这是我的表结构，
名称：奖励
结构：title、point、hasimg、imgurl

我想做的是，当用户的积分等于/超过特定数量时，获取标题和 imgurl（如果 hasimg=1）。

这是一个例子。奖励表中填充了这些值（根据上述顺序）：
*第一行：ace , 1000 , 1 , [http://imglink.com](http://imglink.com)
第二行：elite , 2000 , 0 , none
第三行： pro , 3000 , 1 , [http://imglink.com](http://imglink.com)* 

一个用户有**3258**点，也就是**3000 多**，所以他会有“pro”的称号。那么我如何使用mysql查询来选择“pro”和imgurl（因为hasimg = 1）并将它们存储在php变量中？

如果一个用户有**2450**点，**比 2000 多**，所以他会有标题“2000”，但是，它只得到标题而不得到 imgurl，因为 hasimg=0。

以及如何确保查询选择 1000 和 2000 因为 3000 比它们多？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T09:52:02.310

您基本上需要表中小于（或等于）userPoints 的最高点记录您可以使用如下的 sql 查询

```
select * from rewards where point <= 2300 order by point desc limit 1 
```

获得该行后，您可以检查是否设置了图像位并基于该显示图像。

# android - 如何更改gridView的按钮颜色

> ID：10895091
> 
> 赞同：0
> 
> 时间：2012-06-05T09:47:38.077
> 
> 标签：android, user-interface

我有一个 Gridview 显示按钮，这些按钮从数组中获取其内容，我想在**单击/按下**它们时更改这些按钮的背景颜色。我尝试了onClick和onTouch，它确实进入了方法，但是颜色不是背景没有设置。我的代码有什么问题？请帮忙。

```
private class ImageAdapter extends BaseAdapter {
    private Context mContext;

            btnView.setOnClickListener(new View.OnClickListener() {
                public void onClick(View v) {
                    Log.d("onClick","go");
                    btnView.setBackgroundColor(Color.rgb(12,11,12));
                    btnView.setBackgroundColor(Color.parseColor("#3614B3")); 

                    Intent data = new Intent();
                    data.setData(Uri.parse("PictureStyle" + position));
                    setResult(RESULT_OK, data);

                 }
             });

            btnView.setOnTouchListener(new View.OnTouchListener() {
                public boolean onTouch(View v, MotionEvent event) {
                    Log.d("OnTouch","go2");
                    btnView.setBackgroundColor(Color.parseColor("#3614B3")); 
                    return false;

                 }
             });

            btnView.setOnTouchListener(new View.OnTouchListener() {

                public boolean onTouch(View v, MotionEvent event) {
                    // TODO Auto-generated method stub
                    Log.d("Touch listener",String.valueOf(position));
                    btnView.setBackgroundColor(0xff00ff00); 
                    Log.d("Touch listener","set");
                    if ( event.equals(MotionEvent.ACTION_DOWN) ) {
                        btnView.setBackgroundColor(0xffff0000); 

                                    }
                    return false;
                }
            }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T09:49:15.580

`v.setBackgroundColor(Color.rgb(12,11,12));`在您的 onClick 中尝试

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T09:54:16.840

您最好使用`GridView.setOnItemClickListener`而不是在每个按钮上注册一个 clickListener

# php - MySQL 计数应返回 0，不返回任何内容

> ID：10895092
> 
> 赞同：2
> 
> 时间：2012-06-05T09:47:39.013
> 
> 标签：php, mysql, pdo

我有这个 MySQL 查询，看起来很简单：

```
SELECT users.nick, users.id, COUNT(pm.id) AS pms 
FROM users LEFT JOIN pm ON users.id = pm.touser  
WHERE users.id = :id AND pm.read = 0
GROUP BY users.id 
```

我在这里要做的只是计算所有未读取的 PM（“读取”列中没有“1”）。如果有，查询可以正常工作，但是当没有任何行满足该条件时，它什么也不返回。

我花了最后一个小时寻找解决方案，但它似乎真的很奇怪，它以这种方式工作。它应该只在回显“pms”时打印“0”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:08:09.710

简单地：

```
SELECT users.nick, users.id, COUNT(pm.id) AS pms 
FROM users LEFT JOIN pm ON (users.id = pm.touser AND pm.read = 0)
WHERE users.id = :id
GROUP BY users.id; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T09:52:11.143

试试这个

```
SELECT nick,id, COUNT(id) AS pms 
FROM users LEFT JOIN (Select touser as id from pm where read =0) as pms1  
WHERE id = :id GROUP BY id 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T09:52:30.507

尝试颠倒表格顺序：

```
SELECT users.nick, users.id, COUNT(pm.id) AS pms 
FROM pm 
LEFT JOIN users 
ON users.id = pm.touser  
WHERE users.id = :id AND pm.read = 0
GROUP BY users.id 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-05T09:53:13.047

```
SELECT  users.nick, users.id, COUNT(pm.id) AS pms 
FROM    users
LEFT JOIN
        pm
ON      (pm.touser, pm.read) = (users.id, 0)
WHERE   users.id = :id
GROUP BY
        users.id 
```

`pm.read = 0`应该去`ON`条款。

`WHERE`子句过滤掉所有未命中`NULL`产生的值。`pm`

# javascript - 理解 requirejs 路径

> ID：10895094
> 
> 赞同：15
> 
> 时间：2012-06-05T09:47:41.703
> 
> 标签：javascript, jquery, requirejs

使用 requirejs 我的 main.js 看起来像这样

```
requirejs.config({
    baseUrl: '/javascript/',
    paths: {
        jquery: 'http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min',
        async: 'requirePlugins/async',
            hbs: 'hbs'
    },
    waitSeconds: 7
});
define(['common'], function () {
    loadFonts();
}); 
```

main.js 通过脚本调用包含在页面中

```
<script data-main="/javascript/main.js" src="/javascript/require-2.0.1.js"></script> 
```

Common 是网站的基本功能，jquery doc ready 功能等包装在定义调用中：

```
define(['jquery'], function() {
    //jQuery dependant common code
}); 
```

这很好用，从谷歌 CDN 加载 jQuery 并执行代码。但是当我在加载 main.js 之后添加一个 require 调用

```
<script data-main="/javascript/main.js" src="/javascript/require-2.0.1.js"></script>
require(['jquery'], function ($) {
    //code
}); 
```

jquery 是从 /javascript/jquery.js 请求的，而不是谷歌 cdn 的定义路径。我仍然是 requirejs 的新手，但在我看来，应该在触发任何其他请求之前定义路径，有人可以帮我理解我做错了什么吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-15T20:56:20.803

我认为这可能是由于`data-main`在 RequireJS 脚本标签上使用了该属性；要解析它，RequireJS 本身必须加载和解析。`data-main`在我的测试中（特别是针对 IE9），浏览器会在解析 RequireJS 配置文件（由属性指定的配置文件）之前直接下载并执行 RequireJS 脚本标签之后的任何脚本标签。

为了解决这个问题，我简单地停止使用该`data-main`属性，而是将配置文件作为普通脚本标签直接放在 RequireJS 脚本标签之后，现在一切似乎都很开心。

具体来说，这就是它的样子（使用您的示例）：

```
<script src="/javascript/require-2.0.1.js"></script>
<script src="/javascript/main.js"></script> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-05T10:58:25.297

也许你在加载 require js 之前放置了 config 语句。

您应该先加载 require.js，然后将配置代码放在后面，然后调用 require(['jquery'], ...);

它搜索 /javascript/ 的原因是因为您的 require.js 文件位于那里，并且它是默认的基本 url。

你的配置可能永远不会被 require.js 使用。

请参阅有关要求配置的[本教程。](http://requirejs.org/docs/api.html#config "本教程")

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-13T06:28:56.200

您必须重命名定义为要求

```
require(['common'], function () {
    loadFonts();
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-07T14:10:04.677

我建议使用[`map`](http://www.requirejs.org/docs/api.html#config-map)而不是`paths`配置特定的模块位置。

`paths`更多用于简化/配置包含的快捷方式/前缀，而不是完整的模块路径。

请记住：您需要将要全局应用的映射`*`放在对象中的星号 ( ) 键下`map`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-11-25T19:40:49.987

原因是您`require(['jquery']...`在加载 require.js 模块后立即放置。结果，它会`['jquery']`在读取您的配置设置之前尝试加载。

为什么它试图在其中找到 jquery `/javascript/jquery.js`？那是因为你的`data-main`属性。

> RequireJS 加载所有与 baseUrl 相关的代码。baseUrl 通常设置为与用于为页面加载的顶级脚本的 data-main 属性中的脚本相同的目录。

此链接阐明了 require.js 模块加载过程： [http ://requirejs.org/docs/api.html#jsfiles](http://requirejs.org/docs/api.html#jsfiles)

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2012-06-05T10:06:27.117

我认为您可以将完整的 url 嵌入到 require 块中。喜欢：

```
require(['http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min'], function ($) {
   //code
}); 
```

顺便说一句，您的 jquery 链接无效。

# elasticsearch - 如何对 Facet 值进行脚本计算？

> ID：10895101
> 
> 赞同：0
> 
> 时间：2012-06-05T09:48:28.823
> 
> 标签：elasticsearch, facet

我想在使用 Elasticsearch 0.19 的应用程序中实现脚本。我只能在其“字段术语”上找到术语 Facet 与脚本一起应用。是否可以在“字段值”上应用脚本？

我只能找到在“字段术语”上应用脚本的示例，如下所示：

```
{
    "query" : {
        "match_all" : {  }
    },
    "facets" : {
        "tag" : {
            "terms" : {
                "field" : "tag",
                "size" : 10,
                "script" : "term + 'aaa'"
            }
        }
    }
} 
```

提前致谢！马诺伊

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T12:16:14.253

实现此目的的最佳方法是将该字段[第二次](http://www.elasticsearch.org/guide/reference/mapping/multi-field-type.html)索引为 not_analyzed 字段，并在 facet 中使用此“未触及”版本。这样，您的条款将等于字段值。或者，如果您的索引不是很大并且您的字段已存储，您可以尝试使用[script_field](http://www.elasticsearch.org/guide/reference/api/search/facets/terms-facet.html)。

# java - FileWriter() 损坏文件警告

> ID：10895102
> 
> 赞同：-1
> 
> 时间：2012-06-05T09:48:31.967
> 
> 标签：java, excel, warnings, filewriter, corrupt

我有一个将`jTable`实例转换为 excel 文件的应用程序。在我之前的问题中，我在使用时遇到了问题，`FileOutputStream()`事实证明问题在于 AD 用户访问文件夹/文件的权限。由于我的上级不允许我更改权限，所以我使用了`FileWriter()`，效果很好。唯一的问题是它不断警告用户他们正在打开的文件已损坏。这是警告：

> 您尝试打开的文件“filename.xls”的格式与文件扩展名指定的格式不同。在打开文件之前，请确认文件没有损坏并且来自受信任的来源。您现在要打开文件吗？

我搜索了驻留在 Excel 2007 的文件扩展安全性中的解决方案。信息可以在[这里找到](http://blogs.msdn.com/vsofficedeveloper/pages/Excel-2007-Extension-Warning.aspx)

我在应用程序涵盖的每个工作站的系统注册表中进行了一些配置。

我只是想问一下Office 14中是否有删除损坏文件警告的方法，因为其中一个工作站，即我上级的工作站，有Office 14。系统注册表中的更改并没有阻止他工作站中的损坏文件警告.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T11:28:32.307

我的印象是您沉迷于“巫毒编程”实践；即把你不理解的解决方案应用到你不理解的问题上。

首先，这个：

> 我在使用 FileOutputStream() 时遇到问题，事实证明问题在于 AD 用户访问文件夹/文件的权限。由于我的上级不允许我更改权限，我改用 FileWriter()，效果很好。

坦率地说，这没有任何意义。如果您无法使用 . 打开文件`new FileOutputStream(File)`，那么您应该无法使用`new FileWriter(File)`. 为什么？因为构造函数的源代码是这样的：

```
 public FileWriter(File file) throws IOException {
        super(new FileOutputStream(file));
    } 
```

也就是说，FileWriter构造函数做的第一件事就是调用你说不行的FileOutputStream构造函数！！（这同样适用于这些构造函数的其他重载。）

那么您当前的问题实际上是关于 Excel 不允许您打开 XLS 文件，因为它的文件类型与其后缀不匹配。您提出的解决方案是搞乱注册表。但可以肯定的是，正确的方法是找出文件类型与后缀不匹配的 **原因。**

*   您是否在文件格式中犯了错误（例如，因为您使用 FileWriter 编写了它）？
*   您是否为所使用的电子表格格式选择了错误的文件后缀？
*   您是否使用错误的 MIMEtype 将其下载到用户的机器上？

敲打所有客户端机器上的注册表...仅仅因为您在某个网站上阅读过它...这就是巫毒！

你的老板禁止你乱用 AD 权限，我并不感到惊讶。在这一点上，他可能担心你会造成严重的伤害。

* * *

顺便说一句，您的注册表黑客行为使警告消失实际上是关闭了一项旨在帮助加强用户 PC 免受攻击的安全检查。这对我来说并不是解决您问题的合理解决方案。

# windows - 在 Azure Web 角色中创建线程

> ID：10895107
> 
> 赞同：1
> 
> 时间：2012-06-05T09:48:59.307
> 
> 标签：windows, multithreading, azure, quartz.net

我需要在我的 Azure Web 角色上创建计划任务。删除 SQL Azure DB 中条目的小人。我想到了 Quartz.net。
但我没有找到任何方法在我的 Azure Web 角色上创建线程。如何在我的 Azure Web 角色上创建线程？

谢谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:16:59.323

根据您的用例，您可以设置[启动任务](http://msdn.microsoft.com/en-us/library/windowsazure/gg456327.aspx)（例如，独立安装quartz.net 和要定期运行的所需代码）或从[RoleEntryPoint.OnStart](http://msdn.microsoft.com/en-us/library/microsoft.windowsazure.serviceruntime.roleentrypoint.onstart)启动任务/线程/嵌入式石英.net 实例。还请查看许多类似的相关问题[，](https://stackoverflow.com/questions/9916211/advantages-of-azure-workerrole-vs-starting-a-new-thread)以确定在 WebRole 的 IIS 中运行、在 WebRole 中启动任务或托管单独的 WorkerRole 的优缺点。

# ios - 多个dispatch_after不能正常工作

> ID：10895114
> 
> 赞同：1
> 
> 时间：2012-06-05T09:50:04.753
> 
> 标签：ios, objective-c-blocks, grand-central-dispatch

很容易延迟执行这样的事情

```
double delayInSeconds = 2.0;
dispatch_time_t popTime = dispatch_time(DISPATCH_TIME_NOW, delayInSeconds * NSEC_PER_SEC);
dispatch_after(popTime, dispatch_get_main_queue(), ^(void){
    <#code to be executed on the main queue after delay#>
}); 
```

但是如果再放一个更长的延迟，就会导致上面的代码无法执行

```
double delayInSeconds2 = 3.0;
dispatch_time_t popTime2 = dispatch_time(DISPATCH_TIME_NOW, delayInSeconds2 * NSEC_PER_SEC);
dispatch_after(popTime2, dispatch_get_main_queue(), ^(void){
    <#code to be executed on the main queue after delay#>
}); 
```

为什么只执行较长的而不是两者？还是我完全错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-25T10:15:56.003

它是一个队列，但位置取决于未来的触发时间而不是入队时间。

如果第二个是 1 秒，它将在第一个之前插入。

如果您希望它们同时执行（单核的时间片或多核 cpu 的实际并发），请将它们放在不同的队列中。

# jsf - Primefaces 2.2.1 与 Primefaces 3.0 的 FileUpload

> ID：10895115
> 
> 赞同：0
> 
> 时间：2012-06-05T09:50:05.210
> 
> 标签：jsf, jsf-2, primefaces, file-upload

[关于这个问题](https://stackoverflow.com/questions/5190744/why-is-primefaces-fileupload-not-visible)的最后一条评论，我想知道是否有人设法将 Primefaces 3.0 的 HTML5-Fileupload 与旧的 Primefaces 版本一起使用。

文件上传的旧闪存版本有很多麻烦。我知道最好的选择是将整个项目更新到新的 primefaces 版本，但这个项目不可能。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:07:29.927

那非常困难，我在文件上传方面遇到了很多问题，最后迁移到 3.0 但女巫有问题吗？

如果您想更改文件上传，您可以更改库中的源代码，如果您不知道 jquery ui，您可以使用其他框架或直接使用。

[http://www.matlus.com/html5-file-upload-with-progress/](http://www.matlus.com/html5-file-upload-with-progress/)

祝你好运

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T12:13:57.613

这不会是微不足道的。你已经在问这个问题已经表明这将是一个漫长的旅程。我宁愿使用另一个组件库（例如 Tomahawk 的`<t:inputFileUpload>`. 它只是不支持异步上传，并且您需要将表单的提交按钮设置为非 ajax 按钮，但它可以轻松完成您希望它完成的工作。

您可以在此答案中找到详细的分步说明如何在您的项目中集成和使用它：[JSF 2.0 文件上传](https://stackoverflow.com/questions/5418292/jsf-2-0-file-upload/5424229#5424229)。对于 PrimeFaces，您只需要确保已从 中*删除*PrimeFaces 自己的文件上传过滤器`web.xml`，否则它会在 Tomahawk 自己的过滤器获得机会之前消耗上传的文件。

# php - magento 数据流：如何在处理任何行之前调用一次操作

> ID：10895116
> 
> 赞同：0
> 
> 时间：2012-06-05T09:50:07.777
> 
> 标签：php, xml, magento, import, dataflow

**背景：** Magento 1.7.0.0 版本。我必须使用 magento 数据流高级配置文件导入 csv 数据。我制作了一个实现 Mage_Dataflow_Model_Convert_Adapter_Abstract 的适配器。我已经实现了 saveRow() 方法来处理每一行，好的。

**下一步：**我想在处理任何行之前运行一些代码：类似于 save() 或 beforeSave() 方法......*我该怎么做*？

我想我必须从 Mage_Dataflow_Model_Convert_Adapter_Abstract 实现 save() 方法，并在我的导入配置文件的 Actions XML 部分添加一些内容：

```
<!-- adapter: loading data from local csv file-->
<action type="dataflow/convert_adapter_io" method="load">
    <var name="type">file</var>
    <var name="path">var/import</var>
    <var name="filename"><![CDATA[blabla.csv]]></var>
    <var name="format"><![CDATA[csv]]></var>
</action>

<!-- parsing: transform into database entities -->
<action type="dataflow/convert_parser_csv" method="parse">
    <var name="delimiter"><![CDATA[,]]></var>
    <var name="enclose"><![CDATA[']]></var>
    <var name="fieldnames">true</var>
    <var name="store"><![CDATA[0]]></var>
    <var name="number_of_records">1</var>
    <var name="adapter">mymodule/convert_adapter_blabla</var>
    <var name="method">saveRow</var>
</action> 
```

欢迎任何建议，谢谢！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T11:20:12.247

该`save()`方法每次导入只会触发一次，所以我认为这不是你想要的方式。虽然它可以访问收集数据，但根据您想要执行的操作，它可能适合。
由于您已经实现了 saveRow() 方法，您不能在执行其他任何操作之前在其中包含对某个（私有）方法的调用吗？

```
public function saveRow()
{
    $this->_somePrivateMethod();
    ...
    /** the rest of saveRow() method **/
    ...
}

private function _somePrivateMethod()
{
    /** the code you want to execute before every row is saved **/
} 
```

# ios - 以编程方式更改导航栏标题

> ID：10895122
> 
> 赞同：20
> 
> 时间：2012-06-05T09:50:55.187
> 
> 标签：ios, xcode, uinavigationcontroller

我正在尝试以编程方式更改导航栏的标题，但我使用的代码不起作用。

```
self.navigationController.navigationBar.tintColor = [UIColor redColor];
self.navigationController.navigationItem.title=@"Hello"; 
```

我可以设法更改栏的颜色，但不能更改文本。

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2012-06-05T09:58:34.840

```
self.navigationController.navigationBar.topItem.title = @"YourTitle"; 
```

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2012-06-05T10:24:40.283

或者`self.navigationItem.title = @"Title";`

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2012-06-05T10:00:52.910

首先通过在导航栈上检查当前控制器的索引

```
 NSLog(@"%@", self.navigationController.viewControllers ); 
```

找到当前 ViewController 的索引后，让我们说 1。

```
UINavigationController *navCon  = (UINavigationController*) [self.navigationController.viewControllers objectAtIndex:1];
    navCon.navigationItem.title = @"Hello"; 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2015-06-26T03:03:42.650

您现在可以在 XCode或其viewController中使用内置方法**setTitle**。

`[self setTitle:@"title"]`

`self.title=@"title"`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2016-08-11T09:54:12.657

对于 Swift 2.2

```
navigationController?.navigationBar.topItem?.title = "Superman title" 
```

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2012-06-05T09:53:40.197

试试这个：

```
[navigationController setTitle:@"Title"]; 
```

# jakarta-ee - 无法使网格布局适应屏幕尺寸（Vaadin 6.7.4）

> ID：10895125
> 
> 赞同：3
> 
> 时间：2012-06-05T09:51:19.423
> 
> 标签：jakarta-ee, vaadin

我对适应用户屏幕大小的 gridLayout 有问题，我想创建一个 3 列和 2 行的 gridLayout，第一行将包含一个菜单，第二行将是使用面板的主体，第一列X 第二行将包含一棵树，但我无法得到我想要的结果，此代码显示面板但不是全尺寸这是我的代码，我找不到它为什么不起作用！

```
@Override
public void init() {

    Window main = new Window("My App");
    main.setSizeFull();
    setMainWindow(main);

    VerticalLayout root = new VerticalLayout();
    main.setContent(root);
    main.getContent().setSizeFull();

    GridLayout grid = new GridLayout(3, 2);

    main.addComponent(grid);

    grid.setColumnExpandRatio(0, 0.13f);
    grid.setColumnExpandRatio(1, 0.86f);
    grid.setColumnExpandRatio(2, 0.0f);

    grid.setHeight(100, Sizeable.UNITS_PERCENTAGE);
    grid.setWidth(100,Sizeable.UNITS_PERCENTAGE);

    grid.addComponent(new Label("menu"), 0, 0, 0, 1);
    grid.addComponent(new Label("tree"), 1, 0, 1, 0);

    Panel pan = new Panel();
    pan.setWidth(100, Sizeable.UNITS_PERCENTAGE);
    pan.setHeight(100, Sizeable.UNITS_PERCENTAGE);

    VerticalLayout body = new VerticalLayout();
    body.setSizeFull();

    body.addComponent(pan);

    grid.addComponent(body, 1, 1, 1, 1);

} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-05T17:53:34.190

在详细讨论您的问题之前，我想为您提供一个工具，可以帮助您了解组件在 Vaadin 中的扩展方式：

*   将“?debug”添加到您用于运行应用程序的地址的末尾（例如 localhost/app/?debug”）
*   小窗口将出现，顶部有按钮。
*   按 C 清除，然后按 AL 分析布局
*   结果将出现一棵组件树。您可以按加号浏览该树
*   每次按下组件（标签、面板等）时，该组件都会在屏幕上突出显示。

有了这个你可以看到我下面的代码有一个扩展整个屏幕的布局，一个在网格的最后两个单元格上扩展的面板和扩展宽度的标签

调试模式记录在 Vaadin 的书中

我相信组件正在正确扩展，但在错误的位置。在 vaadin 的书中检查 GridLayout 是如何工作的。以下代码更改了您的坐标并添加了一个标签以向您显示面板确实采用了网格的正确单元格。此外，将 VerticalLayout 添加到面板以进行对齐似乎比其他方式更合乎逻辑：

```
@Override
public void init() {

    Window main = new Window("My App");
    main.setSizeFull();
            setMainWindow(main);

            VerticalLayout root = new VerticalLayout();
    main.setContent(root);
    main.getContent().setSizeFull();

    GridLayout grid = new GridLayout(3, 2);

    main.addComponent(grid);

    grid.setColumnExpandRatio(0, 0.13f);
    grid.setColumnExpandRatio(1, 0.86f);
    grid.setColumnExpandRatio(2, 0.0f);

    grid.setHeight(100, Sizeable.UNITS_PERCENTAGE);
    grid.setWidth(100,Sizeable.UNITS_PERCENTAGE);

            grid.addComponent(new Label("menu"), 0, 0, 2, 0);

            grid.addComponent(new Label("tree"), 0, 1);

            Panel pan = new Panel();
    pan.setWidth(100, Sizeable.UNITS_PERCENTAGE);
    pan.setHeight(100, Sizeable.UNITS_PERCENTAGE);

    VerticalLayout body = new VerticalLayout();
    body.setSizeFull();
    pan.addComponent(body);

    Label bodyLabel= new Label("body panel taking the 2 columns of the last row");
    bodyLabel.setSizeUndefined();

    body.addComponent(bodyLabel);
    body.setComponentAlignment(bodyLabel, Alignment.MIDDLE_CENTER);

    grid.addComponent(pan, 1,1 , 2, 1);

         } 
```

# android - 在安卓手机屏幕上拖放位图图像

> ID：10895131
> 
> 赞同：0
> 
> 时间：2012-06-05T09:51:43.447
> 
> 标签：android

在 android 手机屏幕上拖放位图图像，我有一个画布我正在绘制我的位图，现在我想拖放图像并在将图像拖放到特定位置后实现其动作..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T09:59:52.690

看看[这个](http://developer.android.com/guide/topics/ui/drag-drop.html)。它是Android D&D 框架。

# c# - 触发 System.Net.ServerCertificateValidationCallback 时 Mono 执行了哪些检查？

> ID：10895138
> 
> 赞同：1
> 
> 时间：2012-06-05T09:52:17.503
> 
> 标签：c#, mono, xamarin.ios

我正在尝试保护我与 Mono（实际上是 MonoTouch）应用程序中的服务器的连接。因此，我已经迷上了`System.Net.ServerCertificateValidationCallback(object sender, X509Certificate certificate, X509Chain chain, SslPolicyErrors sslPolicyErrors)`

如果发生中间人攻击，这个回调是否应该触发错误？或者如果假证书的名称与真实证书的名称匹配，则不会检测到这种情况？

检查是否与 Microsoft 的实施方式相同？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T12:03:04.127

回调允许您自定义应用程序 wrt SSL/TLS 结果的行为。本文讨论了常见的自定义：[尊重地使用受信任的根](http://www.mono-project.com/UsingTrustedRootsRespectfully)

基本验证由[System.Net.ServicePointManager](https://github.com/mono/mono/blob/master/mcs/class/System/System.Net/ServicePointManager.cs#L455)完成（链接到 Mono 源）。它们在每个平台上略有不同。对于 MonoTouch，它基本上是调用 iOS 来查看证书是否有效。此外，特定于**HTTPS**的检查是在此之上完成的（以匹配基于 SSL/TLS 的 HTTP 的 RFC 要求）。

> 如果发生中间人攻击，这个回调是否应该触发错误？

任何错误都会被报告。这包括可能用于中间人攻击的证书的无效签名。OTOH 大多数错误都是良性的（例如到期日期）。

> 或者如果假证书的名称与真实证书的名称匹配，则不会检测到这种情况？

HTTPS RFC 要求证书名称（通常是 CN）与网站名称相匹配 - IOW 它将被检测到（只要您可以信任您的 DNS - 但对于每个实现都是如此；-）。

> 检查是否与 Microsoft 的实施方式相同？

微软并没有真正详细记录这一点。但是，它将遵循 X.509 检查和 HTTPS RFC，因此应该非常接近。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T09:57:05.403

根据 msdn，[ServicePointManager.ServerCertificateValidationCallback 属性](http://msdn.microsoft.com/en-us/library/system.net.servicepointmanager.servercertificatevalidationcallback.aspx "ServicePointManager.ServerCertificateValidationCallback 属性")，它用于客户端执行的任何自定义验证。例如，如果您想在开发环境中覆盖自签名证书的验证。

# php - SBJson 从 PHP 解析 JSON

> ID：10895140
> 
> 赞同：0
> 
> 时间：2012-06-05T09:52:26.660
> 
> 标签：php, objective-c, json, three20, sbjson

现在我正在尝试通过 PHP 将 jpeg 文件发布到 MySQL 并从 MySQL 获取到 iOS。

在 GET 方法中，我使用 json_encode() 在 PHP 脚本上将 jpeg（作为 NSData）和一些相关数据（例如标题、时间戳）编码为 JSON。

```
 {"caption":"(captiondata)","img":"(imagedata)","timestamp":"(timestampdata)"} 
```

然后我将数据设置为数组，例如，

```
 [{"caption":"(captiondata)","img":"(imagedata)","timestamp":"(timestampdata)"},
     {"caption":"(captiondata)","img":"(imagedata)","timestamp":"(timestampdata)"},
     .......,
     {"caption":"(captiondata)","img":"(imagedata)","timestamp":"(timestampdata)"}] 
```

我相信我可以通过 PHP 上的 echo (json_encode ()) 和 iOS 上的 SBJsonParser 解析并获取此 JSON，但没有任何内容返回到我的应用程序。这是我在 iOS 中的代码。（我也使用 Three20 的 TTURLRequest）

```
 TTURLRequest* request = [TTURLRequest requestWithURL:url delegate:self];
    request.cachePolicy = cachePolicy;
    TTURLJSONResponse* response = [[[TTURLJSONResponse alloc] init] autorelease];
    request.response = response;
    [request send];

    - (void)requestDidFinishLoad:(TTURLRequest*)request {
        TTURLJSONResponse* response = request.response;
        NSLog(@"%@",response);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:32:27.737

你能打印所有的日志`requestDidFinishLoad:`吗？

响应是`rootObject`的`TTURLJSONResponse`。

```
- (void)requestDidFinishLoad:(TTURLRequest*)request {

    TTURLJSONResponse *response = request.response;
    NSDictionary *dict = response.rootObject;
    NSLog(@"dict : %@",dict);

} 
```

在你的情况下，

```
- (void)requestDidFinishLoad:(TTURLRequest*)request {
    TTURLJSONResponse* response = request.response;
    NSLog(@"%@",response);
} 
```

响应可能看起来像`<TTURLJSONResponse: 0x125398c0>`

如果仍然没有返回，您可以检查`requestDidFinishLoad:`被调用而不是缓存问题。

# oracle - oracle 9i 不支持 aq 订阅者？

> ID：10895143
> 
> 赞同：1
> 
> 时间：2012-06-05T09:52:32.247
> 
> 标签：oracle

我正在尝试制作 oracle aq queue 订阅者（Oracle9i Enterprise Edition Release 9.2.0.8.0 - 64bit Production）。脚本

```
DECLARE
   subs sys.aq$_agent;
BEGIN
   subs :=  sys.aq$_agent('Subscriber_1', NULL, NULL);
   DBMS_AQADM.ADD_SUBSCRIBER(
      queue_name  =>  'queue1',
      subscriber  =>  subs);
END; 
```

运作良好，但我试图查看此队列的订阅者（在 SQL 开发人员中），我看到消息：

> 当前不适用于此数据库版本。

与我试图删除该用户相比，我收到的消息比该用户未订阅相应队列。

如何检查我的 Oracle 9 是否支持 aq 订阅者或启用此支持？

更新：

一切正常，只是这个版本的 SQL Developer 不支持 Oracle 9 的这个特性

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:03:54.767

为什么不看[文档](http://www.oracle.com/pls/db92/homepage)？

该对象[`aq$_agent`](http://docs.oracle.com/cd/B10501_01/appdev.920/a96587/qbascmpt.htm#77328)存在于 9i 中，包也存在[`dbms_aqadm`](http://docs.oracle.com/cd/B10501_01/appdev.920/a96612/d_aqadm.htm#ARPLS005)。后者中的第一个链接指向[Oracle9i Application Developer's Guide - Advanced Queuing](http://docs.oracle.com/cd/B10501_01/appdev.920/a96587/toc.htm)。

这不是典型的 Oracle 错误消息（谷歌搜索它只返回这个问题）。你`trying to see subscribers for this queue`好吗？您是在查询实际的表还是使用内置的 SQL Developer 实现？

# android - 从gridview中的sd卡/文件夹加载图像

> ID：10895145
> 
> 赞同：0
> 
> 时间：2012-06-05T09:52:38.017
> 
> 标签：android, image, gridview, dynamic

我想从 sd 卡或我的 android 应用程序中的任何特定文件夹加载图像并显示一个对话框`onClick`。
我尝试使用下面的代码来执行此操作，但应用程序意外停止。
以及内容将是什么`main.xml`。
请帮助。在此先感谢。

```
public class ImageAdapter extends BaseAdapter {

private Context mContext;
private Bitmap[]mis_fotos;

public ImageAdapter(Context c) {
    mContext = c;    }

public int getCount() {
    get_images();
    return mis_fotos.length;
    }

public Object getItem(int position) {
    return null;    }

public long getItemId(int position) {
    return 0;    }

public View getView(int position, View convertView, ViewGroup parent) {
    ImageView imageView;
    if (convertView == null) {
        imageView = new ImageView(mContext);
        imageView.setLayoutParams(new GridView.LayoutParams(200, 150));
        imageView.setScaleType(ImageView.ScaleType.CENTER_CROP);
        imageView.setPadding(0, 0, 0, 0);
    } else {
        imageView = (ImageView) convertView;
    }
    imageView.setImageBitmap(mis_fotos[position]);
    return imageView;
}

private void get_images(){
    File directory = new File(Variables.PATH_FOTOS);   

    File[] archivos =directory.listFiles();
    mis_fotos= new Bitmap[archivos.length];

    for (int cont=0; cont<archivos.length;cont++){

        File imgFile = new  File(archivos[cont].toString());                
        mis_fotos[cont] = BitmapFactory.decodeFile(imgFile.getAbsolutePath());
    }   
}
} 
```

# android - 视频团队的 Android Webview？

> ID：10895147
> 
> 赞同：1
> 
> 时间：2012-06-05T09:52:39.960
> 
> 标签：android

我正在使用 webview 连接到网络摄像机。当我需要快照时它可以工作，但是当我尝试获取视频流时会出现白屏。我也试过 .getPlugins 。可能的原因是什么？

```
mWebView = (WebView) findViewById(R.id.webView1);
mWebView.getSettings().setJavaScriptEnabled(true);
mWebView.loadUrl("http://<ipaddress>/videostream.cgi?user=&pwd="); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:15:13.747

您可以调用浏览器活动并按意图设置特定的 URL。看看这里：[向浏览器发送意图以打开特定的 URL](https://stackoverflow.com/questions/3004515/android-sending-an-intent-to-browser-to-open-specific-url)

# asp.net - 如何在 ASP.Net 中使用 Spring AOP 记录 RESTful 服务

> ID：10895148
> 
> 赞同：0
> 
> 时间：2012-06-05T09:52:44.667
> 
> 标签：asp.net, spring, rest, logging, aop

我有一个 Restful 服务，它在传递产品代码时返回产品信息。界面看起来像

```
 [OperationContract]
    [WebInvoke(UriTemplate = "Product/{ProductCode}", Method = "GET", BodyStyle = WebMessageBodyStyle.Bare, RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json)]
    Product GetProductInformation(String ProductCode); 
```

我通过输入 URI 从浏览器访问服务。

我正在通过 spring AOP 实现日志。如何使用 Spring AOP 拦截方法。我尝试过使用 NameMatchMethodPointcutAdvisor，但在访问服务之前我没有使用 spring 创建服务对象，它无法拦截。有没有可能的方法来实现这个日志记录？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T10:43:22.450

终于找到答案了。。

对某人有帮助..

通过允许 spring 工厂创建服务对象，可以进行拦截。为此，在服务主机 svc 文件中添加工厂属性，如下所示。

```
<%@ ServiceHost Language="C#" Debug="true" Service="Servicename" Factory="Spring.ServiceModel.Activation.ServiceHostFactory" %> 
```

为了防止 .net 在 web.config 文件中创建服务对象的`handlers`部分 下`<system.webServer>`删除以下内容

```
<modules runAllManagedModulesForAllRequests="true"/> 
```

并添加

```
<remove name="WebServiceHandlerFactory-Integrated"/> 
```

# android - 每个选项卡的菜单不同

> ID：10895149
> 
> 赞同：1
> 
> 时间：2012-06-05T09:52:57.877
> 
> 标签：android, menu, android-tabhost

我读到可以为本[指南](https://stackoverflow.com/questions/5618803/can-i-have-different-menu-for-each-tab-of-tabhost)的每个选项卡显示不同的菜单。

我在 MainActivity 中初始化了 3 个选项卡。即使我调用`onPrepareOptionsMenu()`or`onCreateOptionsMenu()`在每个 include`Activity`中，它们也永远不会被执行。我刚刚成功地在 MainActivity 的初始化上显示了一个菜单......

主要活动：

```
public boolean onCreateOptionsMenu(Menu menu) {
    MenuInflater inflater = getMenuInflater();
    inflater.inflate(R.layout.menu_tab_1, menu);
    return true;
} 
```

显示此菜单。我的 TabActivity 之一：

```
@Override
public boolean onPrepareOptionsMenu(Menu menu) {
    menu.clear();
    MenuInflater inflater = getMenuInflater();
    inflater.inflate(R.layout.menu_tab_2, menu);
    return true;
} 
```

当我更改选项卡时，此菜单不会刷新。但我尝试了多种组合（onCreate / onPrepare、Override ...）但没有成功。

如何正确地做？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:27:22.817

你有两个选择来做到这一点。

首先，您可以重写 onKeyDown 方法，并检测用户何时按下菜单，而不是让主活动处理它，而是将事件分派给活动的选项卡活动。

否则，您可以使用 Fragments 而不是 Tab 主机中的活动。片段机制非常适合组合来自多个来源（通常是一个活动和一个或多个片段）的选项菜单。

# sql - DB2中基于数据类型的表描述

> ID：10895151
> 
> 赞同：0
> 
> 时间：2012-06-05T09:53:08.893
> 
> 标签：sql, db2

我们如何根据 DB2 中表的数据类型查看列的详细信息。就像假设我有一个包含 100 列的表，但我只想查看数据类型时间戳的列。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T14:33:08.350

如果您使用的是 Linux/Unix/Windows DB2，那么您可以使用[`SYSCAT.COLUMNS`](http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/topic/com.ibm.db2.luw.sql.ref.doc/doc/r0001038.html)目录视图：

```
SELECT *
FROM SYSCAT.COLUMNS
WHERE TABSCHEMA= 'YOUR_SCHEMA'
  AND TABNAME  = 'YOUR_TABLE'
  AND TYPENAME = 'TIMESTAMP' 
```

显然，替换`YOUR_SCHEMA`and 。`YOUR_TABLE`如果您使用的是大型机 DB2，那么您将使用类似的[`SYSIBM.SYSCOLUMNS`](http://publib.boulder.ibm.com/infocenter/dzichelp/v2r2/topic/com.ibm.db2z10.doc.sqlref/src/tpc/db2z_sysibmsyscolumnstable.htm)目录视图：

```
SELECT *
FROM SYSIBM.SYSCOLUMNS
WHERE TBCREATOR='YOUR_SCHEMA'
  AND TBNAME   ='YOUR_TABLE'
  AND COLTYPE  ='TIMESTMP' 
```

# java - TicTacToe 游戏中的 ArrayIndexOutOfBounds 异常

> ID：10895152
> 
> 赞同：-1
> 
> 时间：2012-06-05T09:53:10.083
> 
> 标签：java, swt, indexoutofboundsexception

我收到一个我不明白为什么的错误。这是一个tictactoe游戏（nxn）这里是表类

```
public class Table {

private int columns;
private int rows;
private int wincells;
private PieceType[][] table;

public Table() {
}

public Table(int rows, int columns, int wins) {
    this.columns = columns;
    this.rows = rows;
    this.wincells = wins;
    table = new PieceType[rows][columns];
    fillEmpty();
}
public void fillEmpty() {
    for (int i = 0; i < rows; ++i) {
        for (int j = 0; j < columns; ++j) {
            table[i][j] = PieceType.None;
        }
    }
}

public PieceType getElement(int i, int j) {
    return table[i][j];
} 
```

它的 getElement() 方法在我用 game.move(ex, ey) 调用函数后给出错误；

```
public void widgetSelected(SelectionEvent e) {
        Button button = (Button) e.getSource();
        MoveResult moveResult = game.move(e.x, e.y);
        if (game.getCurrentPlayer().getPieceType() == PieceType.Cross)
            button.setText("x");
        else
            button.setText("0");
        switch (moveResult) {
        case ValidMove: {
            buttonTable[gridData.horizontalIndent][gridData.verticalIndent]
                    .setText("X");
            game.changePlayer();
        }
        case WinMatch:
            disableButtons();

        case Draw:
            disableButtons();
        } 
```

这是 x 和 Y 获得值的地方

```
 for (int i = 0; i < rows; ++i)
        for (int j = 0; j < cols; ++j) {

            gridData.heightHint = 45;
            gridData.widthHint = 45;

            Button button = new Button(buttonpanel, SWT.PUSH);
            button.setLayoutData(gridData);
            button.setData(new Cell(i,j));
            buttonTable[i][j] = button;
            buttonTable[i][j]
                    .addSelectionListener(new buttSelectionListener()); 
```

关于问题可能是什么的任何想法？是来自game.move（ex，ey）吗？我没有正确调用它吗？

堆栈跟踪？：

```
Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: 0
at backview.Table.getElement(Table.java:42)
at backview.Game.move(Game.java:56)
at frontview.MainGui$buttSelectionListener.widgetSelected(MainGui.java:159)
at org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)
at org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)
at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)
at org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)
at frontview.MainGui.<init>(MainGui.java:55)
at main.Main.main(Main.java:18) 
```

这是调用的方法

```
if(table.getElement(x, y) != PieceType.None) return MoveResult.InvalidMove; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:23:05.790

您可能想`Cell`从`Button`数据中获取 并使用`i,j`坐标来调用`getElement()`.

注意：关于您的`Table`课程的一些评论。如果您已经知道表的初始大小，则默认构造函数没有意义。如果是这种情况，请 make `columns`，`rows`因此`wincells` `final`它们不能在游戏期间进行修改。另外，检查提供的坐标`getElement()`是否在数组范围内：

```
public PieceType getElement(int i, int j) {
    if ((i < 0) || (i >= rows) ||
        (j < 0) || (j >= columns)) {
        return null;
    }

    return table[i][j];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:00:20.553

和是鼠标点击的坐标，而不是网格`e.x`。您应该从数据中获取，然后将其用于您的游戏移动。您可以像这样修复您的方法：`e.y``SelectionEvent` `e``Cell``Button``widgetSelected`

```
Cell c = (Cell) button.getData();
// Then use i and j of the cell for the game move
game.move(c.i, c.j); // or something similar 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-03-28T21:15:47.580

```
import java.util.Scanner;

public class TicTacToe_Game {

    public static void main(String[] args) {
        Scanner Myinput = new Scanner(System.in);
        char[][] board = new char[3][3];

        boolean Gameover;
        Gameover = CalculateWinner(board);
        while(!Gameover){

        displayBoard(board);
        System.out.println("Enter row and column for player X");
        int rowX, columnX;
        rowX=Myinput.nextInt();
        columnX= Myinput.nextInt();
        boolean successX = setMove(rowX , columnX ,board,'X');
        while(!successX){
            System.out.println("INVALID MOVE FOR PLAYER X");
            System.out.println("Re-Enter row and column for player X");
            rowX=Myinput.nextInt();
            columnX= Myinput.nextInt();
            successX = setMove(rowX , columnX ,board,'X');
        }
        Gameover= CalculateWinner(board);

        displayBoard(board);
        System.out.println();
        System.out.println("Enter row and column for player O");
        int rowO, columnO;
        rowO=Myinput.nextInt();
        columnO= Myinput.nextInt();
        boolean successO= setMove(rowO , columnO ,board,'O');
        while(!successO){
            System.out.println("invalid Move");
            System.out.println("Re-Enter row and column for player O");
            rowO=Myinput.nextInt();
            columnO= Myinput.nextInt();
            successO = setMove(rowO , columnO ,board,'0');
        }
        Gameover=CalculateWinner(board);
        }
    }
    public static boolean setMove(int row, int column,char[][] board,char player){
        if(board[row][column]== 'X' || board[row][column]== 'O' ){
            return false;
            }
            else if (player =='X'){
            board[row][column] = 'X';
            return true;
            }
            else{
            board[row][column] = 'O';
    return true;
            }
    }
    public static void displayBoard(char[][]board){
        System.out.println("-------------------");
        System.out.println("|"+board[0][0]+"|"+board[0][1]+"|"+board[0][2]+"|");
        System.out.println("-------------------");
        System.out.println("|"+board[1][0]+"|"+board[1][1]+"|"+board[1][2]+"|");
        System.out.println("-------------------");
        System.out.println("|"+board[2][0]+"|"+board[2][1]+"|"+board[2][2]+"|");
        System.out.println("-------------------");
    }
    public static boolean CalculateWinner(char[][] board){
        boolean filled =false;
        for(int column=0; column<=2; column++){
            for(int row =0; row<=2; row++){
                if (board[column][row]!='X'&& board[column][row]!='O'){
                    filled = false;

                }
                else
                { filled = true;
            }
        }
    }
        if (filled){
            return true;
        }else {
            return false;
        }
}
} 
```

# ios - CGBitmapContextCreate 返回 NULL

> ID：10895160
> 
> 赞同：12
> 
> 时间：2012-06-05T09:53:49.600
> 
> 标签：ios, core-graphics, cgbitmapcontextcreate

什么情况下CGBitmapContext会分配失败？我有一个表格视图，它有多个视图选项。用户可以看到一个只有预览的小表格单元格、每行一个较大的预览或每行两个并排的预览。前两个渲染得很好，但第三个失败了。CGBitmapContextCreate 没有错误消息，只是在我尝试使用它之后出现错误（即无效上下文 0x0）。

```
CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
//size is a passed parameter
CGContextRef c = CGBitmapContextCreate(NULL, size.width, size.height, 8, size.width*4, colorSpace, kCGImageAlphaNoneSkipLast);
CGColorSpaceRelease(colorSpace); 
```

我的目标是 iOS 5.0，使用 5.1 构建。工作版和非工作版的唯一区别是非工作版尝试做两次（尺寸很小，小于 100x100）。 *只有*右边有这个问题（即第二次尝试）。第一次尝试仍然有效。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-05T10:01:55.237

如果`size.width`和/或为 0，则可能发生这种情况。每次调用此方法时，请使用`size.height`a来检查大小，看看是否是这种情况。`NSLog`

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-09-02T18:27:44.857

对于后代，如果您指定的“bytesPerRow”不足以容纳指定的宽度，也会发生这种情况。

[使用来自https://developer.apple.com/library/ios/qa/qa1702/_index.html](https://developer.apple.com/library/ios/qa/qa1702/_index.html)的 Apple 示例代码

我注意到返回的 CVPixelBufferGetWidth()、CVPixelBufferGetHeight() 和 CVPixelBufferGetBytesPerRow() 分别返回 1280、720 和 1960。此处的“bytesPerRow”值（1960 年）不足以容纳 1280 像素宽的图像的所有字节。似乎这可能是Apple API中的一个错误。

因此，我没有使用 CVPixelBufferGetBytesPerRow() 返回的值，而是使用了“width * 4”，这很好用！

# qt - Qt无法立即响应按键事件

> ID：10895162
> 
> 赞同：0
> 
> 时间：2012-06-05T09:53:51.440
> 
> 标签：qt, ubuntu, block

环境：Ubuntu，Qt Creator

在我的 Qt 应用程序中，我发现有时 Qt 不会立即响应我的按键事件，但如果我等待一段时间，它最终会响应。

我认为有些东西阻止了用户界面。

据我所知，如果 Qt 的组件（`QWidget`等）被破坏，Qt UI 将被阻止。我检查了我的代码，在我按下向上/向下键时没有组件被破坏。我真的很想知道是否有任何其他东西可以阻止 Qt UI。

```
{
    ...
    connect(webViewWidget, SIGNAL(loadfinished()), this, SLOT(addItem()));
    ...
}

void addItem()
{
    delete webViewWidget; // will this delete block UI?
    mListWidget = new ScrollWidget();
    mScrollArea = new ScrollArea(this);
    for(int i=0; i<Datalen; i++)
    {
        mListWidget->addSubItem(itemWidget);
    }
}

void keyPressEvent(QKeyEvent *event)
{
    switch(event->key)
    {
    case UP_KEY:
        scroll up;
        break;
    case DOWN_KEY:
        scroll down;
        break;
    default:
        break;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T12:30:22.167

通常，在处理按键之前放入应用程序事件队列的所有其他事件之前，不会处理您的按键*事件*。

因此，它可能是尚未完成处理的任何类型的事件。也许您可以确定是否有任何事件，例如通过使用[QApplication::hasPendingEvents](http://qt-project.org/doc/qt-4.8/qcoreapplication.html#hasPendingEvents)或通过从 QApplication 继承并在添加或完全处理事件时添加调试输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T15:15:47.763

*   对象的破坏通常不是问题，除非你在析构函数中做了很多工作。销毁 webview 可能需要很长时间。你可能不应该像你那样摧毁它。删除的仪器（参见下面的代码）并查看需要多长时间。

*   您自己的代码可能正在调用阻塞的 API。您是否正在调用任何第三方库？`wait...`您是否在 Qt 自己的 API 中调用任何方法？

    如果您不确定，您可以检测每个*插槽*和每个*重新实现的虚拟方法*，例如`xxxEvent(...)`. 您*只*需要检测插槽和重新实现的 QObject/QWidget 方法，而不是代码中的每个方法。

*   您可能正在产生事件风暴，可能是通过在循环中发布大量事件，或者通过发送大量连接到通过`Qt::QueuedConnection`. 例如，确保你没有`repaint()`从内部打电话`paintEvent()`。

下面的仪器示例使用 RAII，非常易于应用。或者，您可以使用分析器。

```
#include <QElapsedTimer>
#define INSTRUMENT() Instrument instr__ument(__FUNCTION__)
#define INSTRUMENTLIM(lim) Instrument instr__ument(__FUNCTION__, (lim))

class Instrument {
   QElapsedTimer timer;
   int limit;
   const char * function;
public:
   Instrument(const char * name, int timeLimitMs = 20) : 
      function(name), limit(timeLimitMs) { timer.start(); }
   ~Instrument() {
      if (timer.elapsed() > limit) {
         qDebug("%s was slow, took %d ms", function, timer.elapsed());
      }
   }
}

void slot(...)
{
   INSTRUMENT();
   ...

}

void addItem()
{
    INSTRUMENT();
    delete webViewWidget; // will this delete block UI?
    mListWidget = new ScrollWidget();
    mScrollArea = new ScrollArea(this);
    for(int i=0; i<Datalen; i++)
    {
        mListWidget->addSubItem(itemWidget);
    }
} 
```

# mysql - 如何找出 MySQL 的 root 密码

> ID：10895163
> 
> 赞同：192
> 
> 时间：2012-06-05T09:54:03.803
> 
> 标签：mysql, database

我无法弄清楚我的 MySQL 根密码；我怎样才能找到这个？是否有任何文件存储此密码？

我正在关注此[链接](http://www.directadmin.com/forum/showthread.php?t=41793&page=1)，但我在本地没有 directadmin 目录。

* * *

## 回答 #1

> 赞同：155
> 
> 时间：2014-10-07T10:28:47.763

感谢@thusharaK，我可以在不知道旧密码的情况下重置根密码。

在 ubuntu 上，我做了以下事情：

```
sudo service mysql stop
sudo mysqld_safe --skip-grant-tables --skip-syslog --skip-networking 
```

然后在新终端中运行 mysql：

```
mysql -u root 
```

并运行以下查询来更改密码：

```
UPDATE mysql.user SET authentication_string=PASSWORD('password') WHERE User='root';
FLUSH PRIVILEGES; 
```

*在 MySQL 5.7 中，mysql.user 表字段中的密码字段被删除，现在字段名称为 'authentication_string'。*

退出mysql安全模式并通过以下方式启动mysql服务：

```
mysqladmin shutdown
sudo service mysql start 
```

* * *

## 回答 #2

> 赞同：69
> 
> 时间：2014-09-17T03:57:10.387

您无法查看散列密码；你唯一能做的就是重置它！

停止 MySQL：

```
sudo service mysql stop 
```

或者

```
$ sudo /usr/local/mysql/support-files/mysql.server stop 
```

以安全模式启动它：

```
$ sudo mysqld_safe --skip-grant-tables 
```

（上面是整个命令）

这将是一个持续的命令，直到进程完成，因此打开另一个 shell/终端窗口，无需密码登录：

```
$ mysql -u root

mysql> UPDATE mysql.user SET Password=PASSWORD('password') WHERE User='root'; 
```

MySQL 5.7 及以上版本：

```
mysql> use mysql; 
mysql> update user set authentication_string=password('password') where user='root'; 
```

启动 MySQL：

```
sudo mysql start 
```

或者

```
sudo /usr/local/mysql/support-files/mysql.server start 
```

您的新密码是“密码”。

* * *

## 回答 #3

> 赞同：42
> 
> 时间：2016-03-13T14:59:15.337

MySQL 5.7 及更高版本将 root 保存在 MySQL 日志文件中。

请试试这个：

```
sudo grep 'temporary password' /var/log/mysqld.log 
```

* * *

## 回答 #4

> 赞同：35
> 
> 时间：2019-04-20T03:24:07.973

一件事让我在新安装的 mySQL 上绊倒了，想知道为什么我无法让默认密码工作，为什么甚至重置方法都不起作用。事实证明，在 Ubuntu 18 上，最新版本的 mysql 服务器默认情况下根本不为 root 用户使用密码验证。所以这意味着你设置它并不重要，它不会让你使用它。它期望您从特权套接字登录。所以

```
mysql -u root -p 
```

即使您使用正确的密码，也根本无法使用！！！无论您输入什么，它都会拒绝访问。

相反，您需要使用

```
sudo mysql 
```

这将在没有任何密码的情况下工作。然后一旦你进入你需要输入

```
 ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'Password you want to use'; 
```

然后注销，现在该死的东西终于会接受你的密码了

* * *

## 回答 #5

> 赞同：17
> 
> 时间：2012-06-05T09:55:40.527

你找不到它。它存储在数据库中，您需要 root 密码才能访问，即使您确实以某种方式获得了访问权限，它也会使用单向哈希进行哈希处理。您可以重置它：[如何重置根密码](http://dev.mysql.com/doc/refman/5.0/en/resetting-permissions.html)

* * *

## 回答 #6

> 赞同：17
> 
> 时间：2016-07-01T15:13:30.077

按照以下步骤在 Windows 系统中重置密码

1.  从任务管理器停止 Mysql 服务

2.  创建一个文本文件并粘贴以下语句

> MySQL 5.7.5 及更早版本：
> 
> `SET PASSWORD FOR 'root'@'localhost' = PASSWORD('yournewpassword');`

> MySQL 5.7.6 及更高版本：
> 
> `ALTER USER 'root'@'localhost' IDENTIFIED BY 'yournewpassword';`

3.  另存为`mysql-init.txt`并放入`'C' drive`.

4.  打开命令提示符并粘贴以下内容

`C:\> mysqld --init-file=C:\\mysql-init.txt`

* * *

## 回答 #7

> 赞同：8
> 
> 时间：2015-01-17T09:34:11.770

除非包管理器在安装过程中要求您输入 root 密码，否则默认的 root 密码是空字符串。要连接到新安装的服务器，请键入：

```
shell> mysql -u root --password=
mysql> 
```

要更改密码，请取回 unix shell 并键入：

```
shell> mysqladmin -u root --password= password root 
```

新密码是“root”。现在连接到服务器：

```
shell> mysql -u root --password=
ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO) 
```

糟糕，密码已更改。使用新的，`root`：

```
shell> mysql -u root --password=root
...
blah, blah, blah : mysql welcome banner
...
mysql> 
```

答对了！新做一些有趣的事

```
mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
+--------------------+
3 rows in set (0.00 sec) 
```

莫里西

* * *

## 回答 #8

> 赞同：8
> 
> 时间：2015-09-24T07:48:18.100

除了其他答案之外，在 cpanel 安装中，mysql root 密码存储在一个名为`/root/.my.cnf`. （并且 cpanel 服务会在更改时将其重置，因此此处的其他答案无济于事）

* * *

## 回答 #9

> 赞同：7
> 
> 时间：2016-10-28T17:26:09.763

你可以查看mysql root密码，我在mysql 5.5上试过了，所以不知道其他新版本好不好用

```
nano ~/.my.cnf 
```

* * *

## 回答 #10

> 赞同：6
> 
> 时间：2017-02-19T15:35:45.980

这对我有用：

在终端上输入以下内容

`$ sudo mysql -u root -p`

输入密码：//*只需按回车*

mysql>

* * *

## 回答 #11

> 赞同：4
> 
> 时间：2014-09-29T08:43:48.740

立即安装 mysql 服务器后对我有用的默认密码是：`mysql`

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2013-10-31T00:28:14.573

该过程根据 MySql 的版本而变化。完全按照您的版本描述的过程进行操作：

*   提示 - 在您的 MySql 版本的说明页面之前阅读 *

*   在第 5 步中：不要运行 CMD，而是在桌面上创建一个名为 CDM.exe 的快捷方式。然后右键单击快捷方式并选择“以管理员身份执行”。

*   在第 6 步中：跳过第一个建议版本的命令并执行第二个版本，即带有 --defaults-file 参数的版本

*   执行命令后，如果一切正常，CMD 窗口将保持打开状态，步骤 6 的命令将继续执行。只需关闭窗口（单击“x”），然后从任务管理器中强制关闭 MySQl。

*   使用 SQL 命令删除该文件，然后重新启动 MySQL。现在必须更改密码。

5.0 [http://dev.mysql.com/doc/refman/5.0/en/resetting-permissions.html](http://dev.mysql.com/doc/refman/5.0/en/resetting-permissions.html)

5.1 [http://dev.mysql.com/doc/refman/5.1/en/resetting-permissions.html](http://dev.mysql.com/doc/refman/5.1/en/resetting-permissions.html)

...只需更改链接中的版本（5.5、5.6、5.7）

* * *

## 回答 #13

> 赞同：3
> 
> 时间：2016-01-11T05:06:02.033

在 MySQL 工作的数据文件夹内的“hostname”.err 文件中，尝试查找以下开头的字符串：

“为 roor@localhost 生成了一个临时密码”

您可以使用

```
less /mysql/data/dir/hostname.err 
```

然后斜杠命令后跟您要查找的字符串

```
/"A temporary password" 
```

然后按 n，转到下一个结果。

* * *

## 回答 #14

> 赞同：2
> 
> 时间：2019-09-06T18:04:13.533

我以不同的方式解决了这个问题，这对某些人来说可能更容易。

我这样做是因为我尝试以安全模式启动但无法连接错误：ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)

我所做的是以root身份正常连接：

```
$ sudo mysql -u root 
```

然后我创建了一个新的超级用户：

```
mysql> grant all privileges on *.* to 'myuser'@'%' identified by 'mypassword' with grant option;
mysql> quit 
```

然后以 myuser 身份登录

```
$ mysql -u myuser -p -h localhost 
```

尝试更改密码没有给我任何错误，但没有为我做任何事情，所以我放弃并重新创建了 root 用户

```
mysql> drop user 'root'@'localhost;
mysql> mysql> grant all privileges on *.* to 'root'@'localhost' identified by 'mypassword' with grant option; 
```

root 用户现在正在使用新密码

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2022-01-21T09:51:32.937

使用 Debian / Ubuntu mysql 软件包，您可以使用`debian-sys-maint`具有所有预期权限的用户登录，密码存储在文件中`/etc/mysql/debian.cnf`

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2018-05-24T07:19:33.067

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2019-06-24T17:57:17.273

**系统：**

*   CentOS Linux 7
*   mysql Ver 14.14 发行版 5.7.25

**程序：**

1.  打开两个 shell 会话，以 Linux root 用户身份登录一个，另一个以有权访问该`mysql`命令的非 root 用户身份登录。

2.  在您的根会话中，停止正常的 mysqld 侦听器并启动一个绕过密码身份验证的侦听器（*注意：这是一个重大的安全风险*，因为任何有权访问该`mysql` 命令的人都可以在没有密码的情况下访问您的数据库。您可能想要关闭活动的 shell 会话和/或在执行此操作之前禁用 shell 访问）：

    `# systemctl stop mysqld`
    `# /usr/sbin/mysqld --skip-grant-tables -u mysql &`

3.  在非 root 会话中，登录 mysql 并设置 mysql root 密码：

    `$ mysql`
    `mysql> flush privileges;`
    `Query OK, 0 rows affected (0.00 sec)`

    `mysql> SET PASSWORD FOR 'root'@'localhost' = PASSWORD('MyNewPass');`
    `Query OK, 0 rows affected, 1 warning (0.01 sec)`

    `mysql> quit;`

4.  在您的根会话中，终止 mysqld 的无密码实例并将正常的 mysqld 侦听器恢复为服务：

    `# kill %1`
    `# systemctl start mysqld`

5.  在您的非 root 会话中，测试您在上面配置的新 root 密码：

    `$ mysql -u root -p`
    `Enter password:`
    `Welcome to the MySQL monitor. Commands end with ; or \g.`
    `...`
    `mysql>`

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2021-01-28T11:56:18.607

我被这个问题困扰了几分钟，以下是唯一有效的解决方案：
[https ://phoenixnap.com/kb/access-denied-for-user-root-localhost](https://phoenixnap.com/kb/access-denied-for-user-root-localhost)

1.  `sudo mysql`
2.  `ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'insert_password';`
3.  `mysql -u root -p`

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2021-05-04T18:04:56.917

如果您过去已经设置了密码，则该`mysql -uroot -p`解决方案*将不起作用*，

就我而言，我使用上面的一些答案来解决这个问题（Ubuntu 16）。结果是：

```
sudo service mysql stop
sudo mysqld_safe --skip-grant-tables & 
```

如果您在屏幕上看到此文本： ***mysqld_safe Directory '/var/run/mysqld' for UNIX socket file don't exist.*** 然后做：

```
sudo mkdir -p /var/run/mysqld
sudo chown mysql:mysql /var/run/mysqld

sudo mysqld_safe --skip-grant-tables & # Look at the & at the end! 
```

**输入其他终端**设置密码，如下所示：

```
sudo mysql -u root

mysql> use mysql;
mysql> SET PASSWORD FOR 'root'@'localhost'=PASSWORD('__NEW__PASSWORD__');
mysql> flush privileges;
mysql> quit; 
```

然后重启服务并登录

```
# end mysqld_safe in the other terminal
sudo service mysql start
sudo mysql -h 127.0.0.1 -uroot -p 
```

* * *

## 回答 #20

> 赞同：-6
> 
> 时间：2017-10-19T04:39:42.623

转到 phpMyAdmin > config.inc.php > $cfg['Servers'][$i]['password'] = '';

# mysql-workbench - 有什么方法可以在 Mysql Workbench 图中自动整理表格？

> ID：10895164
> 
> 赞同：28
> 
> 时间：2012-06-05T09:54:10.253
> 
> 标签：mysql-workbench

您好已经生成了一个将 mysql 工作台连接到已经存在的数据库的新图表。

现在这些表在一​​个堆栈中，一个在一个之上，所以我应该拖放它们以显示一个很好的模式。但是..有没有办法自动排序？

5.2.38

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-06-05T10:05:48.100

要自动排列表格，请转到菜单`Arrange -> Autolayout`

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2013-02-03T20:41:42.483

去

> 模型-> 图表属性和大小

有按页面增加大小到任何你想要的。然后去

> 排列 -> 自动布局

这应该有帮助！

# regex - 不以点开头的单词的正则表达式

> ID：10895166
> 
> 赞同：0
> 
> 时间：2012-06-05T09:54:17.320
> 
> 标签：regex, c#-4.0

我需要为不以点开头的单词创建正则表达式，它可能包含任何字母、空格和点。

例如：sample,sample.test,sample test

正则表达式不应允许 .sample,sample.,sample .test

如何为此生成正则表达式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T09:57:32.023

这个正则表达式：`^[^.][\p{L} .]+$`应该匹配你所追求的。

这`^`是一个锚点，它将指示正则表达式引擎从字符串的最开头开始匹配。`[^.]`将匹配任何 1 个不是句点 ( `.`) 的字符。`[\p{L} .]+`将匹配一个或多个字符，这些字符可以是字母（在[此处](http://www.regular-expressions.info/unicode.html)显示的任何语言中）、空格或句点。最后，`$`将指示正则表达式在字符串末尾终止匹配。

编辑：根据您的评论问题，类似的东西应该是可测试的：`^[^.][a-zA-Z .]+$`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T09:57:19.467

**用这个**

```
\b\p{L}[\p{L}\s.]*\b 
```

**解释**

```
@"
\b            # Assert position at a word boundary
\p{L}         # A character with the Unicode property “letter” (any kind of letter from any language)
[\p{L}\s.]    # Match a single character present in the list below
                 # A character with the Unicode property “letter” (any kind of letter from any language)
                 # A whitespace character (spaces, tabs, and line breaks)
                 # The character “.”
   *             # Between zero and unlimited times, as many times as possible, giving back as needed (greedy)
\b            # Assert position at a word boundary
" 
```

# javascript - Javascript访问数组数组中的数组元素

> ID：10895171
> 
> 赞同：-2
> 
> 时间：2012-06-05T09:54:41.650
> 
> 标签：javascript, arrays, syntax

```
var outer = new Array();
var inner = new Array();

inner[0] = "target";
outer[0] = inner; 
```

那么在 Javascript 中访问字符串目标的正确语法是什么？

```
var target = outer[0][0];   //correct 
```

或某事。像

```
var target = outer[0].[0];  //false don´t use 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T09:57:04.893

你可以用这个

```
var target = outer[0][0]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:00:03.970

要访问您需要使用的数组

```
var target = outer[0][0]; 
```

您在第二个建议中似乎令人困惑的点表示法用于访问对象属性。所以如果你有

```
var outer = new Object();
var inner = new Object();

inner.item = "target";
outer.item = inner; 
```

你会`outer.item.item`用来访问`"target"`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-05T10:00:04.490

在 JavaScript 中，对象是简单的关联数组。所以以下是等价的：

```
var o = {
    a: "a"
};

alert(o.a === o["a"]); // true 
```

所以以下是不正确的（你不能同时使用点表示法和数组索引表示法 - 只选择一个）：

```
var target = outer[0].[0]; 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-05T09:58:02.113

另一种（恕我直言，更易读）的写法：

```
var outer = [ [ 'target' ] ]
,   inner = outer[0]; 
```

或者也作为

```
var inner = [ 'target' ]
,   outer = [ inner ]; 
```

所以，`target`可以用

```
var target = outer[0][0]; 
```

# java - 如何在非主键列上连接表？

> ID：10895173
> 
> 赞同：3
> 
> 时间：2012-06-05T09:54:55.450
> 
> 标签：java, hibernate, orm

我在 ORM 类层次结构中的对象上的连接表存在问题，由于滞后的数据库结构，连接列不是基类的主键。以下是表格设计的示例：

```
CREATE TABLE "SCH"."FOO"
(
        "OWNERID"       NUMBER(10,0) NOT NULL ENABLE,
        "FOOID"         NUMBER(10,0) NOT NULL ENABLE,
        CONSTRAINT "FOO_PK" PRIMARY KEY ("OWNERID", "FOOID")
        CONSTRAINT "FOO_FK1" FOREIGN KEY ("OWNERID") REFERENCES "SCH"."OWNERS" ("OWNERID") ENABLE
)

CREATE TABLE "SCH"."BAR"
(
        "BARID"             NUMBER(10,0) NOT NULL ENABLE,
        "FOOID"             NUMBER(10,0)
        CONSTRAINT "BAR_PK" PRIMARY KEY ("BARID")
) 
```

这是映射（删除了不必要的信息）

```
@Entity
@IdClass(FooId.class)
@Table(name = "FOO")
public class Foo implements java.io.Serializable
{
    @Id
    @Column(name = "OWNERID")
    private BigInteger ownerId;

    @Id
    @SequenceGenerator(name = "FOO_GENERATOR", sequenceName = "SEQ_FOO")
    @GeneratedValue(generator = "FOO_GENERATOR")
    @Column(name = "FOOID")
    private BigInteger id;

    @OneToMany(fetch = FetchType.LAZY)
    @JoinColumn(name = "FOOID", referencedColumnName = "FOOID")
    @Fetch(value = FetchMode.SUBSELECT)
    @Cascade(value = {CascadeType.ALL})
    private Set<Bar> bar = new LinkedHashSet<Bar>(0);
}

@Entity
@Table(name = "BAR")
public class Bar implements java.io.Serializable
{
    @Id
    @Column(name = "BARID")
    private BigInteger id;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "FOOID", referencedColumnName = "FOOID")
    private Foo foo;
} 
```

这失败了，但有一个例外：

```
Caused by: org.hibernate.AnnotationException: referencedColumnNames(FOOID) of com.package.Bar.foo referencing com.package.Foo not mapped to a single property
    at org.hibernate.cfg.BinderHelper.createSyntheticPropertyReference(BinderHelper.java:204)
    at org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:114)
    at org.hibernate.cfg.Configuration.processEndOfQueue(Configuration.java:1580)
    at org.hibernate.cfg.Configuration.processFkSecondPassInOrder(Configuration.java:1503)
    at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1419)
    at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1375) 
```

你能帮忙解决一下吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-05T10:12:16.983

您不能两次映射双向关联。单面必须标记为多面的反面，使用`mappedBy`属性：

```
@OneToMany(fetch = FetchType.LAZY, mappedBy = "foo")
@Fetch(value = FetchMode.SUBSELECT)
@Cascade(value = {CascadeType.ALL})
private Set<Bar> bar = new LinkedHashSet<Bar>(0);

...

@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "FOOID", referencedColumnName = "FOOID")
private Foo foo; 
```

没有理由告诉 Hibernate 两次关联是由连接列 FOOID 映射的。而且这样做实际上是一个错误，因为它定义了两个不同的单向关联，而不是一个双向关联。

# 编辑

以上应该可以工作，但不是由于以下 Hibernate 错误：这是一个 Hibernate 错误。见[HHH-4284](https://hibernate.atlassian.net/browse/HHH-4284)。

为了规避这个问题，由于`FOOID`足以确保唯一性，因此解决方案是`@Id`从所有者 ID 和注释中删除`@IdClass`注释。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:05:03.643

你可以做如下......它应该工作 -

```
@Entity
@IdClass(FooId.class)
@Table(name = "FOO")
public class Foo implements java.io.Serializable
{
    @Id
    @Column(name = "OWNERID")
    private BigInteger ownerId;

    @Id
    @SequenceGenerator(name = "FOO_GENERATOR", sequenceName = "SEQ_FOO")
    @GeneratedValue(generator = "FOO_GENERATOR")
    @Column(name = "FOOID")
    private BigInteger id;

    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)
    @JoinColumn(name = "FOOID",nullable=false)
    @ForeignKey(name = "fk")     
    private Set<Bar> bar = new LinkedHashSet<Bar>(0);
}

@Entity
@Table(name = "BAR")
public class Bar implements java.io.Serializable
{
    @Id
    @Column(name = "BARID")
    private BigInteger id;

    @ManyToOne(fetch=FetchType.LAZY)
    @JoinColumn(name = "FOOID", updatable = false, insertable = false, nullable=false)  
     private Foo foo;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:51:55.923

您在 FOO 表中使用了复合主键。因此，您应该尝试@EmbeddedId 属性，并且您应该需要 BAR 实体中与 FOO 实体连接的两列“OWNER_ID”和“FOO_ID”。

# ruby-on-rails - 如何实现 twitter-text-rb

> ID：10895174
> 
> 赞同：4
> 
> 时间：2012-06-05T09:55:02.067
> 
> 标签：ruby-on-rails, twitter

嗨，我正在尝试使用[twitter-text-rb](https://github.com/twitter/twitter-text-rb) gem。

在应用程序帮助器中添加了“包括 Twitter::Autolink”，然后在重新启动服务器后出现错误

路由错误

```
uninitialized constant Twitter::Autolink 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-20T01:42:33.263

将此添加到您的 Gemfile 中：

```
gem 'twitter-text' 
```

然后运行：

```
bundle install 
```

# android - 当我想通过 yaourt 在我的 archlinux 64 上安装 android-sdk 时，为什么会出现 404 错误？

> ID：10895175
> 
> 赞同：0
> 
> 时间：2012-06-05T09:55:27.290
> 
> 标签：android, archlinux

我试图在我的archlinux 64上配置我的android开发环境，我在这里关注了[archlinux的wiki](https://wiki.archlinux.org/index.php/Android)，设置了我的multilib，然后是yaourt -S android-sdk。我没有编辑 PKUBUILD 或 android-sdk.install，但是当我尝试下载 android-sdk_r18-linux.tgz 时出现 404 错误。我不知道为什么我会收到这样的错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:00:58.357

看来PKGBUILD中android-sdk的url坏了。您可以找到正确的 url 并将其替换。之后，您可能需要运行`makepkg -g`以生成正确的 md5sum。

# open-source - 开源导航软件和第三方硬件

> ID：10895177
> 
> 赞同：1
> 
> 时间：2012-06-05T09:55:37.457
> 
> 标签：open-source, navigation

我有点厌倦了当前的导航器 (TomTom)，因为它在使用六个月后转向广告软件。“请在 www.tomtom.com 购买新地图，单击此按钮查看您想要做什么”。

是否有任何（好的）OSS 导航软件支持专有硬件？只要我不必将钱交给 TomTom 或 Navigon，我就非常乐意为该软件购买单独的地图和硬件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-10T05:23:28.923

您应该[使用 Open Street Map 检查路由](http://wiki.openstreetmap.org/wiki/Routing)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-08T00:09:43.007

虽然它不是 OSS，但 Waze 是一个众包导航应用程序，可以完成您提到的一些事情。当导航算法没有找到最佳路线时，它允许用户发布改进的路线。我没有使用过这个应用程序，所以我不知道它是否还有你在第一条评论中提到的可用性方面的其他改进。它们是一个新应用程序，因此可能会比 TomTom 或 Navigon 对 UI 建议更敏感。

# web-services - 使用 CXF 编组和解组

> ID：10895183
> 
> 赞同：0
> 
> 时间：2012-06-05T09:55:56.323
> 
> 标签：web-services, jaxb, jax-ws, cxf

在我的服务器中，当客户端尝试访问我的网络服务时，我收到此错误

```
引起：javax.xml.bind.JAXBException：hibernate.SBaraque 对此上下文不知道
    在 com.sun.xml.bind.v2.runtime.JAXBContextImpl.getBeanInfo(JAXBContextImpl.java:619)
    在 com.sun.xml.bind.v2.runtime.ElementBeanInfoImpl$1.serializeBody(ElementBeanInfoImpl.java:145)
    ... 42 更多

```

当我的客户尝试调用此方法时显示此错误：

```
@WebResult(name="listes")
public List findByPropery(@WebParam(name="arg1") String arg1, @WebParam(name="Value1") Object Value1); 
```

调用 DAO 类

```
public List findByPropery(String arg1, Object Value1) {
    // TODO Auto-generated method stub
    System.out.println("findByPropery DAO IN");

    return getSession().createQuery("from SBaraque where "+arg1+" = ?").setParameter(0, Value1).list();
} 
```

这是我的界面：

```
@WebService
public interface InterfaceService  {
    public void save(@WebParam(name="object") Object obj);

    public void modify(@WebParam(name="object") Object obj);

    public void delete(@WebParam(name="object") Object obj);

    @WebResult(name="listes")
    public List findAll();

    @WebResult(name="object")
    public Object findById (@WebParam(name="id") Integer id);   

    @WebResult(name="listes")
    public List findByListPropery(@WebParam(name="arg1") String arg1,
            @WebParam(name="Value1") Object Value1,
            @WebParam(name="arg2") String arg2,
            @WebParam(name="Value2") Object Value2);

    @WebResult(name="listes")
    public List findByPropery(@WebParam(name="arg1") String arg1,
            @WebParam(name="Value1") Object Value1);

    @WebResult(name="listes")
    public List findBySQLRequest(@WebParam(name="request") String request);

    @WebResult(name="listes")
    public List findByHQLRequest(@WebParam(name="request") String request);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T13:54:49.387

您可能需要添加一个 @XmlSeeAlso 注释，该注释将指向服务将接受和返回的所有可能的类。否则，JAXB 对它们一无所知。

# objective-c - Xcode - 将大量整数保存到文件的最精简方式

> ID：10895187
> 
> 赞同：2
> 
> 时间：2012-06-05T09:56:26.837
> 
> 标签：objective-c, xcode, cocoa-touch, nsmutabledictionary, nskeyedarchiver

我目前通过创建 NSMutableDictionary 然后使用 NSKeyedArchiver 将 30 个整数保存到文件中。

```
@interface:
NSInteger highScoreE;
NSInteger highScoreM;
NSInteger highScoreH;
NSInteger highScoreI;

NSInteger highScoreComE;
NSInteger highScoreComM;
NSInteger highScoreComH;
NSInteger highScoreComI;

NSInteger totalGamesWonE;
NSInteger totalGamesWonM;
NSInteger totalGamesWonH;
NSInteger totalGamesWonI;

NSInteger totalGamesLostE;
NSInteger totalGamesLostM;
NSInteger totalGamesLostH;
NSInteger totalGamesLostI;

NSInteger totalPointsForE;
NSInteger totalPointsForM;
NSInteger totalPointsForH;
NSInteger totalPointsForI;

NSInteger totalPointsAgainstE;
NSInteger totalPointsAgainstM;
NSInteger totalPointsAgainstH;
NSInteger totalPointsAgainstI;

NSInteger highScore;
NSInteger highScoreCom;
NSInteger totalGames;
NSInteger totalGamesWon;
NSInteger totalGamesLost;
NSInteger totalPointsFor;
NSInteger totalPointsAgainst;

@property(nonatomic) NSInteger highScoreE;
@property(nonatomic) NSInteger highScoreM;
@property(nonatomic) NSInteger highScoreH;
@property(nonatomic) NSInteger highScoreI;

@property(nonatomic) NSInteger highScoreComE;
@property(nonatomic) NSInteger highScoreComM;
@property(nonatomic) NSInteger highScoreComH;
@property(nonatomic) NSInteger highScoreComI;

@property(nonatomic) NSInteger totalGamesWonE;
@property(nonatomic) NSInteger totalGamesWonM;
@property(nonatomic) NSInteger totalGamesWonH;
@property(nonatomic) NSInteger totalGamesWonI;

@property(nonatomic) NSInteger totalGamesLostE;
@property(nonatomic) NSInteger totalGamesLostM;
@property(nonatomic) NSInteger totalGamesLostH;
@property(nonatomic) NSInteger totalGamesLostI;

@property(nonatomic) NSInteger totalPointsForE;
@property(nonatomic) NSInteger totalPointsForM;
@property(nonatomic) NSInteger totalPointsForH;
@property(nonatomic) NSInteger totalPointsForI;

@property(nonatomic) NSInteger totalPointsAgainstE;
@property(nonatomic) NSInteger totalPointsAgainstM;
@property(nonatomic) NSInteger totalPointsAgainstH;
@property(nonatomic) NSInteger totalPointsAgainstI;

@property(nonatomic) NSInteger highScore;
@property(nonatomic) NSInteger highScoreCom;
@property(nonatomic) NSInteger totalGames;
@property(nonatomic) NSInteger totalGamesWon;
@property(nonatomic) NSInteger totalGamesLost;
@property(nonatomic) NSInteger totalPointsFor;
@property(nonatomic) NSInteger totalPointsAgainst;

@implementation;

NSString *nssTotalPointsFor = [NSString stringWithFormat:@"%i", totalPointsFor];
NSString *nssTotalPointsForE = [NSString stringWithFormat:@"%i", totalPointsForE];
NSString *nssTotalPointsForM = [NSString stringWithFormat:@"%i", totalPointsForM];
NSString *nssTotalPointsForH = [NSString stringWithFormat:@"%i", totalPointsForH];
NSString *nssTotalPointsForI = [NSString stringWithFormat:@"%i", totalPointsForI];
//create dictionary
NSMutableDictionary* myDict = [[NSMutableDictionary alloc] init];

//add things to dictionary (game stats)
[myDict setObject:nssTotalPointsFor forKey:@"totalPointsFor"];
[myDict setObject:nssTotalPointsForE forKey:@"totalPointsForE"];
[myDict setObject:nssTotalPointsForM forKey:@"totalPointsForM"];
[myDict setObject:nssTotalPointsForH forKey:@"totalPointsForH"];
[myDict setObject:nssTotalPointsForI forKey:@"totalPointsForI"];

//get the path
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentPath = [paths objectAtIndex:0];
NSString *path = [documentPath stringByAppendingPathComponent:@"stats.save"];

// save to file
[NSKeyedArchiver archiveRootObject:myDict toFile:path]; 
```

然后我对其他整数进行类似的操作。

然后我必须将这些字符串读回整数：

```
//get the path
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *documentPath = [paths objectAtIndex:0];
NSString *path = [documentPath stringByAppendingPathComponent:@"stats.save"];   

//create dictionary
NSMutableDictionary* myDict = [[NSMutableDictionary alloc] init];

//read from file
myDict = [NSKeyedUnarchiver unarchiveObjectWithFile:path];
NSString *nssPlayerHighScore = [myDict objectForKey:@"playerHighScore"];
highScore = [nssPlayerHighScore intValue];

NSString *nssComputerHighScore = [myDict objectForKey:@"computerHighScore"];
highScoreCom = [nssComputerHighScore intValue];

NSString *nssTotalPointsFor = [myDict objectForKey:@"totalPointsFor"];
totalPointsFor = [nssTotalPointsFor intValue];

NSString *nssTotalPointsAgainst = [myDict objectForKey:@"totalPointsAgainst"];
totalPointsAgainst = [nssTotalPointsAgainst intValue];

NSString *nssTotalGames = [myDict objectForKey:@"totalGames"];
totalGames = [nssTotalGames intValue];

NSString *nssTotalGamesWon = [myDict objectForKey:@"totalGamesWon"];
totalGamesWon = [nssTotalGamesWon intValue];

NSString *nssTotalGamesLost = [myDict objectForKey:@"totalGamesLost"];
totalGamesLost = [nssTotalGamesLost intValue];

NSString *nssPlayerHighScoreE = [myDict objectForKey:@"playerHighScoreE"];
 highScoreE = [nssPlayerHighScoreE intValue];

NSString *nssComputerHighScoreE = [myDict objectForKey:@"computerHighScoreE"];
highScoreComE = [nssComputerHighScoreE intValue]; 
```

然后其他整数也是如此。

我发现这种方式非常麻烦和烦人，但我不知道还有其他保存整数的方法。

一般来说，最精简的保存方式是什么？

我不知道 NSKeyedArchiver 是否有问题，或者我是否应该让字符串包含多个整数（例如 NSString *nssTotalPointsFor = [NSString stringWithFormat:@"%i, %i, ...", totalPointsFor, totalPointsAgainst, ...];.

但是，我如何将字符串中的数字改回整数呢？

还是我以某种方式使用数组？

给我你的想法，我愿意接受很多建议。

谢谢很多我对编程不太了解。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T10:01:50.613

将这些数字存储到“ `NSString`”对象中并用那一大块代码归档它们确实看起来很麻烦。

为什么不使用内置归档功能的[“ `NSNumber`”对象呢？](http://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSNumber_Class/Reference/Reference.html#//apple_ref/occ/instm/NSNumber/initWithInt%3a)您可以将所有这些“ `NSNumber`”对象放入一个数组（例如“ `highScoreENumber = [[NSNumber alloc] initWithInt: highScoreE];`”）并将其写入文件，然后在后续启动时加载该文件。

编辑：

我无法为您移植您的代码，但请检查一下：

```
@interface:
{
    NSNumber * highScore;
    NSNumber * highScoreCom;
}

@property(nonatomic, retain) NSNumber * highScore;
@property(nonatomic, retain) NSNumber * highScoreCom;

@implementation;

//create dictionary
NSMutableDictionary* myDict = [[NSMutableDictionary alloc] init];

if(myDict)
{
    //add things to dictionary (game stats)
    [myDict setObject:highScore forKey:@"highScore"];
    [myDict setObject:highScoreCom forKey:@"highScoreCom"];

    //get the path
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentPath = [paths objectAtIndex:0];
    NSString *path = [documentPath stringByAppendingPathComponent:@"stats.save"];

    BOOL successfulWrite = [myDict writeToFile: path atomically: YES];
    if(successfulWrite == NO)
    {
        NSLog( @"could not write my file to path %@", path );
    }
    // if *not* using ARC, don't forget to release
    [myDict release];
} 
```

# wpf - IEditableObject 与 DataGrid 的用途是什么？

> ID：10895190
> 
> 赞同：2
> 
> 时间：2012-06-05T09:56:43.053
> 
> 标签：wpf, datagrid, ieditableobject

[以下是http://blogs.msdn.com/b/vinsibal/archive/2009/04/07/5-random-gotchas-with-the-wpf-datagrid.aspx](http://blogs.msdn.com/b/vinsibal/archive/2009/04/07/5-random-gotchas-with-the-wpf-datagrid.aspx)的摘录：

> 5.数据源项目应该实现IEditableObject以获得事务编辑功能。
> 
> 如果您不熟悉 IEditableObject，请参阅这篇 MSDN 文章，其中有很好的解释和代码示例。DataGrid 具有通过 IEditableObject 接口进行事务编辑的功能。当您开始编辑单元格时，DataGrid 会进入单元格编辑模式和行编辑模式。这意味着您可以取消/提交单元格以及取消/提交行。例如，我编辑单元格 0 并按 Tab 键转到下一个单元格。按 T​​ab 键时提交单元格 0。我开始在单元格 1 中输入并意识到我想取消操作。我按“Esc”，它会恢复单元格 1。我现在意识到我想取消整个操作，所以我再次按“Esc”，现在单元格 0 恢复到其原始值。

即使没有实现 IEditableObject，我也会得到相同的事务行为。我错过了什么？

```
 public class Person {
    public string FirstName { get; set; }
    public string LastName { get; set; }
    public string Description { get; set; }
  }

  People = new List<Person> {
    new Person(){FirstName = "fname", LastName = "lname", Description = "description"}
  };

  <DataGrid ItemsSource="{Binding Path=People}" /> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:09:17.137

当然，对于内存中的简单字符串来说，这并不重要。但也有用途`IEditableObject`。
例如，假设您想将每条已编辑的记录存储到数据库中。您可能希望在一个事务中提交所有更改，该事务位于`EndEdit()`. 其他接口方法也有类似的用途。

此外，您并不总是直接编辑绑定对象。您的`IEditableObject`实例可能包含另一个类型的变量，它是实际的数据源。`EndEdit()`在这种情况下调用之前，您不会应用编辑`CancelEdit()`的值，并且会从原始数据源恢复值。

# ipython - 在 IPython 笔记本中操作内联图形

> ID：10895195
> 
> 赞同：4
> 
> 时间：2012-06-05T09:57:17.847
> 
> 标签：ipython, matplotlib

我正在使用 IPython 0.12.1 笔记本从 Windows 机器连接到运行 IPython 内核的 Linux 服务器。由于 Linux 机器没有安装 X-Server，所以我使用以下配置：

`IPKernelApp.pylab = 'inline'`

内联显示数字。

一旦在笔记本中绘制了图形，IPython 就会关闭它们。那么如何编辑刚刚绘制的图形呢？就像添加标题一样。对于我的情况，绘制过程需要一段时间，我希望有一种方法可以在保存之前使用该图形而不需要重新绘制它。

我尝试保存图形的句柄并使用它，但我没有成功。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-30T05:28:58.313

我最终在 ipython 笔记本配置文件中设置了以下内容：

```
c.InlineBackend.close_figures = False 
```

这些数字是可编辑的，但我必须自己关闭它们，而不是我这样做`close('all')`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-23T00:23:08.073

你可以输入这个神奇的配置：

```
%config InlineBackend.close_figures = False 
```

# javascript - 如何向 jQuery 对象添加新方法？

> ID：10895199
> 
> 赞同：17
> 
> 时间：2012-06-05T09:57:21.570
> 
> 标签：javascript, jquery-plugins, methods, jquery

有没有办法向 jQuery 的对象添加方法？

例如，我有 jQuery 对象

```
a = $('div') 
```

我希望这样分配的每个对象都有特定的方法（`doSomething()`），所以我可以像这样调用它

```
a = $('.foo')
a.doSomething()

b = $('.bar')
b.doSomething() 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-06-05T09:59:00.597

您必须将函数添加到`$.fn`命名空间。请注意，在函数内部，`this`将引用 jQuery 对象，而不是 DOM 对象。

```
$.fn.doSomething = function () {
    this.css('color', 'red');
};

$('#retk').doSomething(); 
```

​jsFiddle [演示](http://jsfiddle.net/LkPTf/)

请阅读有关[编写 jQuery 插件](http://docs.jquery.com/Plugins/Authoring)的更多指南。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T09:58:53.107

像这样添加

```
$.fn.doSomething = function(data){
    // data is the argument passed to doSomething
    return this.each(function(){
       var elem = $(this);
       //perform operation on elem
       // like to change background color use
       elem.css('background-color','red');

    });
} 
```

# c# - 使用实体框架基于非相关实体列表查询基础对象

> ID：10895200
> 
> 赞同：0
> 
> 时间：2012-06-05T09:57:27.260
> 
> 标签：c#, linq, entity-framework, entity-framework-4, entity-framework-4.1

我有以下模型：

工作流配置有一个品牌，也有一个类型。工作流配置有一组审批者。Approvers 实体具有属性状态和用户名。

在应用程序的另一部分，我们有一个名为 RequestBase 的实体，该实体有一个名为 CurrentStatus 的字符串属性。

我需要使用 linq 或 EF Lambda 表达式进行查询，返回状态与批准者实体上的用户名匹配的所有请求。我知道它有点复杂，或者真的很复杂，哈哈。

这些是我的实体（简体）

```
public class RequestBase
    {
        public int RequestBaseId { get; set; }
        public string CurrentStatus { get; set; }
      }

 public class WorkflowConfiguration
    {
        public int WorkflowConfigurationId { get; set; }
        public WorkflowType WorkflowType { get; set; }
        public Brand Brand { get; set; }
        public virtual ICollection<Approver> Approvers { get; set; }

    }

public class Approver
    {
        public Approver()
        {

        }

        public Approver(string approverUserName)
        {
            Name = approverUserName;
        }

        public int Id { get; set; }
        public string Name { get; set; }
        public string StepName { get; set; }  -----||||>>>>>> Must match status?
        public int Order { get; set; }
    } 
```

和我的查询？显然它甚至没有编译

```
return _context.RequestBases.
                        .Where(a => a.CurrentStatus.Any(workflowconfiguration.Select(b=>b.Approvers.Select(c => c.StepName)))); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:03:01.190

```
_context.RequestBases
.Where(rb => _context.Workflowconfiguration
    .Any(wc => wc.Approvers
        .Any(a => a.StepName == rb.CurrentStatus))); 
```

# php - 将数据上传到数据库中的 PHP 和 Apache 配置

> ID：10895204
> 
> 赞同：1
> 
> 时间：2012-06-05T09:57:46.727
> 
> 标签：php

我在配置我的 php 时遇到了问题，因为并非所有数据都上传到数据库 eventhougn 我的文件不大，只有 KB。我的服务器是apache。我已经编辑了这个：

```
•max_input_time

•memory_limit

•max_execution_time

•post_max_size 
```

但仍然不是所有数据都保存到我的数据库中。我尝试了一切，但没有任何改变。仍然没有全部保存到我的数据库中谢谢

# asp.net - 用于动态生成的下拉控件的 ASP.NET MVC 3 Logic

> ID：10895212
> 
> 赞同：0
> 
> 时间：2012-06-05T09:58:14.047
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3, asp.net-mvc-2

我有一个根据我上传的 Excel 文件中的行数动态生成的表单。我可以在哪里添加查看描述字符串并将动态生成的下拉列表设置为指定值的逻辑，基于描述中的文本？我想添加一个检查列表，例如：如果“blabla”在描述字符串中，请将下拉列表值设置为 4。

我必须在 Javascript 中执行此操作吗？因为这对我来说并不那么干净。我希望我的业务逻辑在我的控制器中处理，但我不确定在这个设计中会如何进行。

我的代码如下所示：

预览页面，它基本上只是链接到我的名为 Transaction 的编辑器模板：

```
@using (Html.BeginForm("Preview", "Import", FormMethod.Post))
{
    <table border="1" style="border-color: #FFFFFF">
    @Html.EditorFor(m => m.Transactions, new { Categories = Model.Categories })
    </table>
    <input id="btnSave" type="submit" value="Opslaan in database" />
} 
```

在此编辑器模板事务中，我显示了一些静态数据，以及我之前在另一个页面中上传的 Excel 中每一行的文本框和下拉列表：

```
<tr>
    <td style="width: 40px; padding: 5px; background-color: @CurrencyHelper.GetCurrencyColor(Model.Amount)" align="right" nowrap="nowrap">@Html.Raw(CurrencyHelper.GetCurrency(Model.Currency, Model.Amount))
    </td>
    <td style="white-space: nowrap; padding: 5px;">@Model.DateTime.ToString("dd-MM-yyyy")
    </td>
    <td style="padding: 5px;">@Model.Description
    </td>
    <td style="padding: 5px;">@Html.EditorFor(m => m.ShortDescription)
    </td>
    <td style="padding: 5px;">@Html.DropDownListFor(m => m.CategoryId, new SelectList(ViewData["Categories"] as IEnumerable<Category>, "CategoryId", "Name"))
    </td>
</tr> 
```

我的控制器，它在视图模型中输入数据：

```
//Attach unique Transactions and Categories to ViewModel
var viewModel = new ImportViewModel()
{
     Transactions = uniqueTransactions.ToList(),
     Categories = categoryRepository.GetCategories().OrderBy(c => c.Name).ToList()
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T14:50:03.270

**静态绑定**

```
public class HomeController : Controller
    {
        public ActionResult Index()
        {
            ViewBag.Message = "Welcome to the Training Courses...";
            List objcourses = new List();
            objcourses.Add("Asp.Net");
            objcourses.Add("MVC");
            objcourses.Add("WCF");
            objcourses.Add("WPF");
            objcourses.Add("C#.Net");
            ViewBag.Courses = new SelectList(objcourses);
            return View();
        }
    }

@{
ViewBag.Title = "Home Page";
}
Index
@using(@Html.BeginForm(“Index”,”Home”,FormMethod.Get)) {
Courses List; @Html.DropDownList(“Courses“)
} 
```

**动态绑定**

```
public class HomeController : Controller
    {
        public ActionResult Index()
        {
            private MovieDBContext db = new MovieDBContext();
            var GenreLst = new List();
            var GenreQry = from d in db.Movies
                           orderby d.Genre
                           select d.Genre;
            GenreLst.AddRange(GenreQry.Distinct());
            ViewBag.Courses = new SelectList(GenreLst);
            return View();
        }
    }
@{
    ViewBag.Title = "Home Page";
}
Index

@using(@Html.BeginForm("Index","Home",FormMethod.Get)) {

Courses List; @Html.DropDownList("Courses")
} 
```

# css - 需要澄清解决下拉菜单在 CSS 中使用横幅或标题的问题

> ID：10895214
> 
> 赞同：0
> 
> 时间：2012-06-05T09:58:17.087
> 
> 标签：css

我已经定制了一个横幅和一个下拉菜单。将鼠标悬停在菜单上时会出现下拉菜单。如果我滚动此菜单不会低于横幅，它会超过写横幅。

![我的 CSS 设计](../Images/049a270abadf6d9bf3d933390e0277d4.png)

我的菜单 css3 代码

```
 #menu ul {
    background: -moz-linear-gradient(#444444, #111111) repeat scroll 0 0 transparent;
    border-radius: 5px 5px 5px 5px;
    display: none;
    float: left;
    left: 0;
    list-style: none outside none;
    margin: 0;
    padding: 0;
    position: absolute;
    top: 30px;
    width: 200px;
    z-index: 99999;
}
style.css (line 305)
ol, ul {
    list-style: none outside none;
    border: 0 none;
    font-size: 100%;
    line-height: 1.2em;
    margin: 0;
    padding: 0;
    vertical-align: baseline;
}

the header or banner css:
#the_header {
    background: -moz-linear-gradient(center top , #000000 0%, #45484D 100%) repeat scroll 0 0 transparent;
    border-bottom: 1px solid #BBBBBB;
    box-shadow: 0 0 10px #000000;
    color: #EEEEEE;
    font-size: 30px;
    font-style: italic;
    height: 30px;
    line-height: 30px;
    padding: 30px;
    position: fixed;
    text-align: center;
    text-shadow: 1px 1px 1px #000000;
    top: 0;
    width: 100%;
    z-index: 1000;
} 
```

这里有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:28:00.527

在您的标题或横幅 css 中尝试插入以下代码片段。

```
max-height:30px; 
```

这应该有效。

# c# - 有什么方法可以动态创建、编译和加载 ASPX 页面

> ID：10895220
> 
> 赞同：0
> 
> 时间：2012-06-05T09:58:45.300
> 
> 标签：c#, asp.net, webforms, .net-assembly, codedom

好的，我想知道是否可以动态创建一个 ASPX 页面。我的意思是，我以前做过*，但我事先知道我正在创建哪个程序集，并且我提前在目标项目中引用了这个程序集（所以我只是用新的替换旧的）。但是现在，我必须创建 ASPX 页面所需的所有文件（aspx、代码隐藏和设计器），并将对这个结果程序集的引用添加到当前正在执行的程序集中，以便我可以从那里导航到这个页面。

到目前为止，多亏了 CodeDom，我已经能够将背后的代码（设计者似乎很容易）编译成一个程序集文件，并设法动态加载这个程序集。但我不知道如何通过这个程序集访问这个动态创建的页面，我想我也必须创建一个 .aspx 文件（我想不可能将 .aspx 附加到生成的程序集） .

这可能是我想要实现的目标的错误方法，所以如果有人能对此有所了解，我会很高兴:)

我添加了一些代码，如果这对任何人都有帮助：

```
CodeDomProvider c = CodeDomProvider.CreateProvider("CSharp");

            Assembly executingAssembly = Assembly.GetExecutingAssembly();

            CompilerParameters cp = new CompilerParameters();
            cp.ReferencedAssemblies.Add("system.dll");
            cp.ReferencedAssemblies.Add("system.web.dll");
            cp.ReferencedAssemblies.Add("system.data.dll");
            cp.ReferencedAssemblies.Add("system.xml.linq.dll");
            cp.ReferencedAssemblies.Add("system.drawing.dll");

            cp.CompilerOptions = "/t:library";

            cp.OutputAssembly = "paginatal.dll";

            cp.GenerateInMemory = false;

            StringBuilder sb = new StringBuilder(""); //Texto del codigo
            sb.Append("using System;\n");
            sb.Append("using System.Collections.Generic;");
            sb.Append("using System.Web;");
            sb.Append("using System.Web.UI;");
            sb.Append("using System.Web.UI.WebControls;");

            sb.Append("namespace NuevaClase{ \n");
            sb.Append("public partial class NuevaClase : System.Web.UI.Page { \n");
            sb.Append("public String Yuhuu(){\n return \"Yuhuuuu\";\n }\n");
            sb.Append("protected void Page_Load(object sender, EventArgs e){\n");
            sb.Append("");
            sb.Append("} \n");
            sb.Append("} \n");
            sb.Append("}\n");

CompilerResults cr = c.CompileAssemblyFromSource(cp, sb.ToString());

            if (cr.Errors.Count > 0)
            {
                Console.WriteLine("Error");
            }

            Assembly a = cr.CompiledAssembly;
            Assembly.LoadFrom(a.Location); 
```

*我所做的是创建三个文件：.aspx、aspx.cs 和 aspx.cs.designer；然后在 .csproj 文件中手动引用它们，这样我就可以使用 msbuild 编译程序集并将其移动以替换目标项目中的前一个程序集。信不信由你，这非常有效，但有人认为这不是正确的方法，现在我正在尝试相反的方法，就像我之前告诉你的那样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:19:29.107

```
It might be a wrong approach to what I'm trying to achieve, 
 so I'll be glad if anyone can shed some light uppon this :) 
```

我认为你错过了你的目标。

目标是什么：显示信息，响应的输出。

为此，我们使用 asp.net 帮助我们以编程方式创建该输出。

您尝试做的是：创建一个页面，创建第二个页面，进行输出。这是为什么 ？为什么不直接使用 asp.net 编程来显示您的输出和信息，为什么要这样做？页面顶部的名称是否要更改？

使您的页面像那样的减号。

1.  您无法处理的可能错误
2.  每次创建新页面时，编译器都可能重新编译整个站点或站点的一部分。
3.  很有可能创建使您的系统崩溃的冲突类。

# mysql - 将结果从 MySQL 过程传递到 Linux 命令行

> ID：10895222
> 
> 赞同：1
> 
> 时间：2012-06-05T09:58:51.800
> 
> 标签：mysql, linux, bash, command-line

我有一个运行以下选择的程序：

```
select distinct concat( 'php /home/rudyerd-systems/frontend/ClientStatementGenerator.php ', left(user(), locate('@',user())-1), space(1), ca.client_id, space(1), date_format( @pTradingPeriodMonth, '%y%m' ), space(1), date_format( @pTradingPeriodMonth, '%y%m' ),
                    ' > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html' )
from   ca_client_account ca,
       ca_tranche tr
where  @pTradingPeriodMonth    between tr.dt_value and ifnull( tr.dt_withdrawal, @pTradingPeriodMonth ) and
       ca.client_account_id   = tr.client_account_id
order  by ca.client_id; 
```

并产生以下结果：

```
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet ATP 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet BLB 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet CAR 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet CDR 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet CSP 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet DGC 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet FDR 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet FVN 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet JLM 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet JRA 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet JRP 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet MJO 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet MPW 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet NTC 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet RJA 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet RMM 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet SJC 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html                                                                                                          |
| php /home/rudyerd-systems/frontend/ClientStatementGenerator.php scorbet UDB 1205 1205 > /home/rudyerd-systems.sco/frontend/bash/new_statement_test.html 
```

我想将该过程的结果直接输出到 Linux 命令行，以便创建一个包含每个变量的 HTML 页面。此过程将从我要在其中创建 HTML 文件的文件夹中的 bash 脚本运行。

为了完整性，这是完整的过程。

```
-- ---------------------------------------------------------------------------------
-- pUIGetCliStmtGenList
--
-- This procedure returns the Clients who statements need to be generated for
--
-- ---------------------------------------------------------------------------------

drop procedure if exists pUiGetCliStmtGenList;
delimiter //

create procedure pUiGetCliStmtGenList(
  IN  pTradingPeriodMonth      DATE,
  IN  pUsername                VARCHAR,
  IN  pPassword                VARCHAR,
  OUT pResult                  INT
)
MODIFIES SQL DATA
COMMENT 'Gathers the list of people a statement needs to be created for'
begin
 --
  declare vClient_id           VARCHAR(3);
  declare vAmtTradedSystemCcy  DECIMAL(13,2);
  declare vCount               INT;
  --
  declare EXIT handler for SQLWARNING, SQLEXCEPTION call pRdHandleError( 10000, 'pUiGetCliStmtGenList', vHint );
  --  ***********************************************************************************************************
  set vHint = pTradingPeriodMonth;
  set pResult = 0;

  SELECT DISTINCT CONCAT( 'php /home/rudyerd-systems/frontend/ClientStatementGenerator.php ', left(user(), locate('@',user())-1), space(1), ca.client_id, space(1), date_format( @pTradingPeriod, '%y%m' ), space(1), date_format( @pTradingPeriod, '%y%m' ),
                    ' > /home/rudyerd-systems.sco/frontend/bash/'ca.client_id''@pTradingPeriod'statement.html' )
  FROM   ca_client_account ca,
         ca_tranche tr
  INTO     
  WHERE  @pTradingPeriodMonth    between tr.dt_value and ifnull( tr.dt_withdrawal, @pTradingPeriodMonth ) and
         ca.client_account_id   = tr.client_account_id
  ORDER BY ca.client_id;
  --
  -- If there are no clients
    if vCount <> 0 then
     call pRdHandleError( 1002, 'pUiGetCliStmtGenFlag', vHint );
    end if; 
  --
  --   
  ELSE
  -- Output to Linux Command Line and Generate the HTML pages

  -- Then Convert the pages to pdf
  -- 
  set pResult = 1;
  --
end;
//

delimiter ; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T13:03:47.010

假设输出 show 旨在成为一个可运行的脚本，并且您将字段值更改`>`为`>>`或将其中一个字段值添加到输出文件名以便它们是唯一的，这*可能*是您所追求的：

```
mysql -B -u username -p dbname < script.sql | sed 's/|//' | sh 
```

该`sed`命令将删除管道字符（如果存在）。将整个事情通过管道`sh`执行使用给定参数运行的每一行`php`并将输出重定向到给定文件。您可能需要更改`mysql`参数以满足您的需要。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T11:19:58.010

如果您有权访问服务器，以便创建文件，则可以将输出导出为 CSV 文件，例如：

```
SELECT field1,field2 FROM table1
INTO OUTFILE '/home/output.csv'
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n' 
```

您可以使用另一种脚本语言/工具编写解析器或修改条目以满足您的需求......

# java - 如何在android中根据章节明智地阅读所有内容

> ID：10895224
> 
> 赞同：2
> 
> 时间：2012-06-05T09:58:57.290
> 
> 标签：java, android

我可以阅读一章的内容，但我想阅读所有章节内容，请告诉我如何阅读页码。

```
public class LogTestBookInfo extends Activity {

    ExpandableListView list;
    TextView txt1;
    WebView web1;
    ImageView img1;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        AssetManager assetsmanger = getAssets();
        try {
            // find InputStream for book
            InputStream epubInputStream = assetsmanger
                    .open("books/INCOME-TAX-ACT-1961.epub");

            // Load Book from inputStream
            Book book = (new EpubReader()).readEpub(epubInputStream);

            // Log the book's authors
            Log.i("epublib", "author(s): " + book.getMetadata().getAuthors());

            // Log the book's title
            Log.i("epublib", "title: " + book.getTitle());

            // String data=new String (book.getContents().get(3).getData());
            // String k=data;
            web1 = (WebView) findViewById(R.id.webView1);

            // txt1=(TextView) findViewById(R.id.textView1);
            // txt1.setText(k);
            // web1.loadData(k," text/html", "utf8");
            Bitmap coverImage = BitmapFactory.decodeStream(book.getCoverImage()
                    .getInputStream());

            Log.i("epublib", "Coverimage is " + coverImage.getWidth() + " by "
                    + coverImage.getHeight() + " pixels");
            // Log the tale of contents
            logTableOfContents(book.getTableOfContents().getTocReferences(), 0);

            // list=(ExpandableListView)findViewById(R.id.expandableListView1);

            // img1=(ImageView)findViewById(R.id.imageView1);
            //
            //
            // img1.setImageBitmap(coverImage);
            //
            //

        } catch (IOException e) {
            // TODO Auto-generated catch block
            Log.e("epublib", e.getMessage());
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    private void logTableOfContents(List<TOCReference> tocReferences, int depth) {
        // TODO Auto-generated method stub

        if (tocReferences == null) {
            return;
        }
        for (TOCReference tocReference : tocReferences) {
            StringBuilder tocstring = new StringBuilder();

            for (int i = 0; i < depth; i++) {
                tocstring.append("\t");
            }

            HashMap<String, String> map = new HashMap<String, String>();
            String k = tocstring.append(tocReference.getTitle()).toString();
            map.put("TOC", k);
            ArrayList<HashMap<String, String>> list1 = new ArrayList<HashMap<String, String>>();
            list1.add(map);
            String t = k;
            Log.i("epublib", tocstring.toString());
            logTableOfContents(tocReference.getChildren(), depth + 1);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-17T01:48:30.740

@user1388681 我遇到了同样的问题，但我解决了。看到我对此的回答[Can't display table of contents or entire book on the screen](https://stackoverflow.com/questions/21106197/cant-display-table-of-contents-or-entire-book-on-the-screen)？

# jquery - Jquery UI Sortable ConnectWith 不工作两种方式

> ID：10895227
> 
> 赞同：3
> 
> 时间：2012-06-05T09:59:08.663
> 
> 标签：jquery, jquery-ui-sortable

我正在为 Web 应用程序使用可排序的 jQuery ui，但我遇到了一个奇怪的问题。这是代码：

```
$(".internal_controlscontainer").each(
    function(index,el){
        $(this).sortable({connectWith:".internal_controlscontainer"})
    }
); 
```

问题是当我尝试从第一个 internal_controlscontainer 中抓取一个元素并将其带到第二个 internal_controlscontainer 时它不起作用，但从第二个到第一个它起作用，为什么？

我阅读了 jquery ui 文档，但似乎找不到问题

罗比

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-19T07:19:25.913

我和你有同样的问题。

宽度真的很重要。

您不能将长元素拖动到短元素。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-03-16T20:29:04.567

将容差设置为指针。默认情况下，可排序的容差为对象的 50%。这意味着，您尝试放置在较小容器上的 50% 必须适合其中。将容差设置为指针意味着只有鼠标需要悬停在放置位置上。

```
$('.column').sortable({
    connectWith:".column",
    tolerance:"pointer"
}); 
```

# iphone - 我想在向 UITableView 添加新单元格时增加 rowHeight

> ID：10895229
> 
> 赞同：0
> 
> 时间：2012-06-05T09:59:15.030
> 
> 标签：iphone, ios

我想要一个单元格，其中 rowHeight 等于 UITableView 的高度。添加我添加新单元格，然后将 roWHeight 除以我拥有的单元格总数。

在我设置默认高度的 viewDidLoad 中。我有：

```
myCellHeightNum = [[NSNumber alloc] initWithInt:100];
//not sure how to get the height of the UITableView so i set it to 100 
```

在我的`-(IBAction) AddCell`方法中，我有：

```
[myTableView beginUpdates];
double value = [myCellHeightNum doubleValue];
myCellHeightNum = [NSNumber numberWithDouble:value * value / numOfCells];
 [myTableView reloadData]; 
```

idk，任何想法。

谢谢，

本

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:00:15.027

使用这个方法

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T12:38:24.870

写这个函数

> ```
> -(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {
>   double value = [myCellHeightNum doubleValue];
>   myCellHeightNum = [NSNumber numberWithDouble:value * value / numOfCells];
>   return [myCellHeightNum floatValue];
> } 
> ```

# node.js - 直接浏览资源

> ID：10895232
> 
> 赞同：0
> 
> 时间：2012-06-05T09:59:30.033
> 
> 标签：node.js

node js应用程序中是否存在“直接浏览资源”攻击的可能性，我该如何预防？

**编辑**：我使用 express 框架

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:02:13.723

Node.js`http`服务器不提供任何静态内容，它们只调用您的代码。如果有任何攻击的可能性，它将在您的代码中，而不是在 Node.js 核心或`http`模块中。

关于您的编辑：Express 提供了一个`static`中间件，如果您将其配置为从包含敏感资源的目录中提供静态文件，它可能会引发直接浏览攻击。如果您为静态内容保留一个专用目录，所有这些都可以安全地直接浏览，并且该目录下没有敏感内容，如果您使用 Express 的`static`中间件提供它，您将是安全的。

# javascript - 滚动子 div 仅在 IE8 中滚动页面

> ID：10895238
> 
> 赞同：3
> 
> 时间：2012-06-05T10:00:09.200
> 
> 标签：javascript, jquery, html, internet-explorer-8

我在页面中有一个具有滚动条的 div，当 div 滚动结束时，页面滚动开始。这是任何浏览器的默认行为，但我仍然想在 div 滚动结束后停止滚动页面。我对此有一个修复，这是我在[小提琴](http://jsfiddle.net/Pongopiprakash/qndjW/106/)中创建的示例。

但上述解决方案适用于 Chrome、Firefox、IE9。但不能在 IE8 中工作。

如果您找到解决方案，请告诉我。

谢谢，戈皮

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-25T18:52:09.290

正如 Andrew 上面所说，您是否尝试过 @amustill 的这个演示（[防止父元素滚动？](https://stackoverflow.com/questions/5802467/prevent-scrolling-of-parent-element)）？

**演示：**

[http://jsbin.com/ixura3/3/](http://jsbin.com/ixura3/3/)

**JS：**

```
$(function() {

  var toolbox = $('#toolbox'),
      height = toolbox.height(),
      scrollHeight = toolbox.get(0).scrollHeight;

  toolbox.bind('mousewheel', function(e, d) {
    if((this.scrollTop === (scrollHeight - height) && d < 0) || (this.scrollTop === 0 && d > 0)) {
      e.preventDefault();
    }
  });

}); 
```

**HTML：**

```
<div id="toolbox">
    Text that scrolls...
</div> 
```

这需要 jQuery 和[jQuery Mousewheel 插件](https://github.com/brandonaaron/jquery-mousewheel/raw/master/jquery.mousewheel.js)。

# c++ - 打印浮点数，保持精度

> ID：10895243
> 
> 赞同：19
> 
> 时间：2012-06-05T10:00:28.973
> 
> 标签：c++, c, string, floating-point, floating-accuracy

我正在编写一个程序，该程序打印要在另一个程序中使用的浮点文字。

为了保持原始浮点数的精度，我需要打印多少位？

由于浮点数具有`24 * (log(2) / log(10)) = 7.2247199`小数位精度，我最初的想法是打印 8 位数字就足够了。但如果我不走运，它们`0.2247199`会分布在 7 个有效数字的左侧和右侧，所以我可能应该打印 9 个十进制数字。

我的分析正确吗？对于所有情况，9 个十进制数字是否足够？喜欢`printf("%.9g", x);`？

在 7 或 8 就足够的情况下，是否有一个标准函数可以将浮点数转换为具有该值所需的最小小数位数的字符串，所以我不打印不必要的数字？

注意：我不能使用十六进制浮点文字，因为标准 C++ 不支持它们。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-05T11:27:16.287

In order to guarantee that a binary->decimal->binary roundtrip recovers the original binary value, [IEEE 754](https://en.wikipedia.org/wiki/IEEE_754-2008#Character_representation) requires

```
 The original binary value will be preserved by converting to decimal and back again using:[10]

    5 decimal digits for binary16
    9 decimal digits for binary32
    17 decimal digits for binary64
    36 decimal digits for binary128

For other binary formats the required number of decimal digits is

    1 + ceiling(p*log10(2)) 

where p is the number of significant bits in the binary format, e.g. 24 bits for binary32. 
```

In C, the functions you can use for these conversions are snprintf() and strtof/strtod/strtold().

Of course, in some cases even more digits can be useful (no, they are not always "noise", depending on the implementation of the decimal conversion routines such as snprintf() ). Consider e.g. [printing dyadic fractions](http://www.exploringbinary.com/print-precision-of-dyadic-fractions-varies-by-language/).

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-05T10:56:44.207

> 24 * (log(2) / log(10)) = 7.2247199

That's pretty representative for the problem. It makes no sense whatsoever to express the number of significant digits with an accuracy of 0.0000001 digits. You are converting numbers to text for the benefit of a *human*, not a machine. A human couldn't care less, and would much prefer, if you wrote

> 24 * (log(2) / log(10)) = 7

Trying to display 8 significant digits just generates random noise digits. With non-zero odds that 7 is already too much because floating point error accumulates in calculations. Above all, print numbers using a reasonable unit of measure. People are interested in millimeters, grams, pounds, inches, etcetera. No architect will care about the size of a window expressed more accurately than 1 mm. No window manufacturing plant will *promise* a window sized as accurate as that.

Last but not least, you cannot ignore the accuracy of the numbers you feed into your program. Measuring the speed of an unladen European swallow down to 7 digits is not possible. It is roughly 11 meters per second, 2 digits at best. So performing calculations on that speed and printing a result that has *more* significant digits produces nonsensical results that promise accuracy that isn't there.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-05T11:40:26.760

If you have a C library that is conforming to C99 (and if your float types have a base that is a power of 2 :) the `printf` format character `%a` can print floating point values without lack of precision in hexadecimal form, and utilities as `scanf` and `strod` will be able to read them.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-05T11:21:35.180

If the program is meant to be read by a computer, I would do the simple trick of using `char*` aliasing.

*   alias `float*` to `char*`
*   copy into an `unsigned` (or whatever unsigned type is sufficiently large) via `char*` aliasing
*   print the `unsigned` value

Decoding is just reversing the process (and on most platform a direct `reinterpret_cast` can be used).

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-05T10:29:54.607

Java 中使用的浮点到十进制转换保证产生的小数点后的十进制位数最少，需要将数字与其邻居（或多或少）区分开来。

您可以从这里复制算法：http: [//www.docjar.com/html/api/sun/misc/FloatingDecimal.java.html](http://www.docjar.com/html/api/sun/misc/FloatingDecimal.java.html) 注意`FloatingDecimal(float)`构造函数和`toJavaFormatString()`方法。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-08-14T12:52:01.787

If you read these papers (see below), you'll find that there are some algorithm that print the minimum number of decimal digits such that the number can be re-interpreted unchanged (i.e. by scanf).

Since there might be several such numbers, the algorithm also pick the nearest decimal fraction to the original binary fraction (I named float value).

A pity that there's no such standard library in C.

*   [http://www.cs.indiana.edu/~burger/FP-Printing-PLDI96.pdf](http://www.cs.indiana.edu/~burger/FP-Printing-PLDI96.pdf)
*   [http://grouper.ieee.org/groups/754/email/pdfq3pavhBfih.pdf](http://grouper.ieee.org/groups/754/email/pdfq3pavhBfih.pdf)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-05T10:31:05.023

您可以使用`sprintf`. 我不确定这是否完全回答了您的问题，但无论如何，这里是示例代码

```
#include <stdio.h>
int main( void )
{
float d_n = 123.45;
char s_cp[13] = { '\0' };
char s_cnp[4] = { '\0' };
/*
* with sprintf you need to make sure there's enough space
* declared in the array
*/
sprintf( s_cp, "%.2f", d_n );
printf( "%s\n", s_cp );
/*
* snprinft allows to control how much is read into array.
* it might have portable issues if you are not using C99
*/
snprintf( s_cnp, sizeof s_cnp - 1 , "%f", d_n );
printf( "%s\n", s_cnp );
getchar();
return 0;
}
/* output :
* 123.45
* 123
*/ 
```

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-06-05T10:58:29.087

With something like

```
def f(a):
    b=0
    while a != int(a): a*=2; b+=1
    return a, b 
```

(which is Python) you should be able to get mantissa and exponent in a loss-free way.

In C, this would probably be

```
struct float_decomp {
    float mantissa;
    int exponent;
}

struct float_decomp decomp(float x)
{
    struct float_decomp ret = { .mantissa = x, .exponent = 0};
    while x != floor(x) {
        ret.mantissa *= 2;
        ret.exponent += 1;
    }
    return ret;
} 
```

But be aware that still not all values can be represented in that way, it is just a quick shot which should give the idea, but probably needs improvement.

# android - 如何为 VoIP 呼叫创建 PhoneStateListener

> ID：10895245
> 
> 赞同：2
> 
> 时间：2012-06-05T10:00:33.703
> 
> 标签：android, voip

如果从 Viper 或 Skype 或任何类似的东西发出 VoIP 呼叫，我正在使用`PhoneStateListener`我想收听，我正在实现侦听器，`PhoneStateListener.LISTEN_DATA_ACTIVITY`但它无法正常工作。这是我的代码

```
public class VoIPDetectionActivity extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        TelephonyManager obj =  (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
       PhoneStateListener listener1 = new PhoneStateListener(){    
       @Override
      public void onDataActivity (int direction){
          String stateString = "N/A";
          switch (direction) {
        case TelephonyManager.DATA_ACTIVITY_NONE:
          stateString = "Idle";
          break;
        case TelephonyManager.DATA_ACTIVITY_IN:
          stateString = "Off Hook";
          break;
        case TelephonyManager.DATA_ACTIVITY_INOUT:
          stateString = "Ringing";
          break;
        case TelephonyManager.DATA_ACTIVITY_OUT:
            stateString = "Ringing";
            break;
          }
       }
       };

       // Register the listener with the telephony manager
       obj.listen(listener1, PhoneStateListener.LISTEN_DATA_ACTIVITY);
      } 
```

我得到了`TelephonyManager.DATA_ACTIVITY_NONE`但没有其他人，有人可以帮我吗？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T22:11:46.933

这可能不起作用的一些原因。大多数情况下，Voip 是通过 wifi 进行的，`PhoneStateListener.LISTEN_DATA_ACTIVITY`根据文档，唯一适用于蜂窝网络。另外，我不确定 Viper，但 skype 使用它自己的 Voip 协议来混合使用另一个扳手。

一种可能的解决方案是轮询 AudioManager 的通信模式。

这是一个链接，显示有人设置它。

[如何使用 android.net.rtp 包实现 VOIP 应用程序](https://stackoverflow.com/questions/11884713/how-implement-the-voip-application-using-android-net-rtp-package)

# applescript - 使用 AppleScript Droplet 在 Photoshop 中打开文件

> ID：10895248
> 
> 赞同：0
> 
> 时间：2012-06-05T10:00:37.233
> 
> 标签：applescript

我有个问题。我是一个完整的 Applescript 新手，我正在尝试使用 droplet 将 3 个文件从我的桌面简单地打开到 Photoshop CS4 中，但是当我删除文件时，我得到了这个错误：

无法获得别名“Macintosh HD:Users:nazkav:Desktop:Kav1_jpg”

这是我正在使用的代码：

```
 on open these_files
      repeat with i from 1 to the count of these_files
        set this_file to item i of these_files
         my image(this_file)
      end repeat
    end open
    on image(the_image)
      tell application "Adobe Photoshop CS4"
        activate
        open the_image as JPEG
      end tell
    end image 
```

我希望有人可以帮助提前谢谢

凯文

# security - 注册用户无法追踪的投票

> ID：10895250
> 
> 赞同：5
> 
> 时间：2012-06-05T10:00:43.593
> 
> 标签：security, voting

我想建立一个无法追踪的投票系统，该系统将允许注册用户以某种方式对某些敏感问题进行投票，这将使得在数据库受损的情况下（包括被过度好奇的数据库“妥协”）无法追踪用户的投票行政）。

详细设置：

1.  每个用户都已注册，没有完全匿名的投票。
2.  Sockpuppets、假账户等不在此问题的范围内——这是注册系统的责任。
3.  每个注册用户只能投一票（可能是任何东西：简单的是/否或重量或其他）。
4.  用户必须能够更改/删除他的投票，直到投票结束。
5.  没有必要让用户查看自己的投票，但可以通过与删除/更改相同的方式来完成。
6.  即使有人可以访问用户身份验证数据库和投票数据库，他们也不能将每个投票跟踪回用户（从某种意义上说，暴力破解或以其他方式破解整个用户帐户的访问权限并不容易）。
7.  系统除了通讯以外的所有部分都是开放的，所以不能有隐藏的钥匙。中间人攻击不在问题范围内，但攻击者可以完全访问源、身份验证和投票数据库。
8.  用户很懒惰。他们不需要任何其他投票专用密钥或密码。系统不得要求用户在本地提供或保留任何内容，除了他们已经用于登录的常用登录名/密码/密钥。
9.  篡改投票和除程序<->数据库通信和不可追踪性之外的任何安全问题都是更广泛的问题，因此也超出了这个问题的范围。

我有一些解决方案，我会在宽限期后发布我自己的答案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:44:42.203

假设 DB Admin 无权访问将具有投票系统的应用程序代码，并假设 DB Admin 查看投票不是问题（只是将投票链接到一个人）

在您存储用户投票的表中，创建一个额外的列，该列将包含来自投票的用户的一些信息的加盐哈希（姓名、用户名、电子邮件、b-day、这些的组合）。这是重要的事情，数据库管理员不应该知道存储在数据库中的用户唯一值是如何首先生成然后加密的。

只需假设您想出的用户令牌（姓名、电子邮件）是密码，并且您想在不知道实际密码是什么的情况下将其存储在数据库中。更多信息可以在这里找到 [在数据库中存储密码的最佳方式](https://stackoverflow.com/questions/1054022/best-way-to-store-password-in-database)

因此，使用您的每用户哈希/加盐算法，每次用户想要投/编辑或删除他们的投票时，您可以先生成哈希，然后尝试在投票表中找到具有该哈希值的记录，并对其采取行动因此。（如果不存在则插入，如果存在则更新，如果用户需要则删除）

一旦投票过程关闭，您甚至可以丢弃该投票过程的答案的哈希值，这样就无法将投票链接到用户

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T14:22:13.767

要求用户在投票/更改他们的不可追踪投票时提供密码，并执行与存储用户身份验证信息（盐+单向哈希）两次相同的操作：一次使用您存储的盐使用散列密码，并再次使用您为这对特定的`{user, poll}`. 设置或更改投票的请求应包含以下部分：

*   用户名
*   身份验证盐 #1 的密码哈希 #1
*   投票特定盐 #2 的密码哈希 #2
*   投票本身

您使用用户名和哈希 #1 来验证您是否从已知用户那里获得投票，然后将哈希 #2 与投票本身一起存储在用户投票表中。hash #2 和 salt #2 的值用于唯一标识投票。

由于密码哈希是单向的，只有知道纯文本密码的人才能产生哈希 #2。当 salt #1 与 salt #2 不同时，即使拥有这两个数据库的人也无法与投票的用户建立连接。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:42:20.173

如果您只想对具有 DB 访问权限的人隐藏它，请使用存储在 DB 外部的密钥的对称加密。

否则，您将需要为所有用户分配一个秘密，并将该秘密与投票而不是用户 ID 一起存储。秘密应该以某种方式由服务器签名，但不以任何方式连接到用户。用户稍后可以使用秘密更改他的投票，并且您可以验证投票，因为它们已签名，但是无法将它们与用户联系起来（除非攻击者有办法观察秘密中的分配过程）。

如果你不想用额外的秘密给用户带来不便，你需要使用他们已经拥有的唯一一个：他们的密码。您可以使用从用户名、密码和随机盐创建的哈希来索引投票。这本质上是不安全的，因为许多密码很容易被猜到；严格的密码策略和非常慢的散列算法（例如 bcrpyt）有所帮助。例如。如果您将 bcrypt 工作因子设置为需要几秒钟来计算哈希，这对于您的服务器来说仍然是可以接受的，但攻击者不太可能获得超过几百万次尝试破坏哈希，这可能还不够即使是字典攻击。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-05T10:54:15.787

你想要的似乎是不可能的，因为条件相互排斥。

要么设置好密钥，要么危及安全。

# android - Android 浏览器页面加载事件

> ID：10895251
> 
> 赞同：1
> 
> 时间：2012-06-05T10:00:47.470
> 
> 标签：android, android-browser

我已经制作了一个应用程序来触发给定 URL 的浏览器。

是否可以检测 Android 浏览器页面加载进度，以便我可以显示一些交互式 toast 消息，直到页面完全加载到浏览器上？

通过网络视图，它可以工作。但我不知道如何检测浏览器的页面加载事件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T14:08:48.173

AFAIK 无法从浏览器获取事件以进行页面加载或任何其他操作。因为它是整个其他应用程序，我们无法跟踪它。

# android - 在给定坐标的某个范围内查找项目

> ID：10895256
> 
> 赞同：4
> 
> 时间：2012-06-05T10:01:13.253
> 
> 标签：android, python, django

我有一个存储位置的基于 django 的网络应用程序。

我有一个 android 移动应用程序，它从 web 应用程序中提取位置并将位置保存到 web 应用程序。返回给我的位置我在我的应用程序的地图覆盖上加载。

我想发送我当前的坐标并返回某个范围内的位置列表。例如，我发送我的位置并取回半径 2 公里内的物品。（类似于 Google Places API 的工作方式，只是搜索我的数据）。

最好发送位置坐标并在我的 python django 应用程序中执行所有这些逻辑，然后返回正确位置列表并在我的地图上显示这些位置。

我不知道从哪里开始做这件事。如何根据给定的一组坐标过滤掉特定半径（km）内的存储位置？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-05T10:30:28.220

[Haversine Equation](http://en.wikipedia.org/wiki/Haversine_formula)是您问题的答案。但是解密有点困难，所以在这里我为您提供一个简单的解释：

简而言之：

这是示例/示例 SQL 语句，它将查找距离 37, -122 坐标 25 英里半径内最近的 20 个位置。它根据该行的纬度/经度和目标纬度/经度（由下面等式中的 lat/lng 给出）计算距离，然后仅询问距离值小于 25 的行，对整个查询进行排序按距离，并将其限制为 20 个结果。要按公里而不是英里搜索，请将 3959 替换为 6371。

```
SELECT id, ( 3959 * acos( cos( radians(37) ) * cos( radians( lat ) ) * cos( radians( lng ) - radians(-122) ) + sin( radians(37) ) * sin( radians( lat ) ) ) ) AS distance FROM markers HAVING distance < 25 ORDER BY distance LIMIT 0 , 20; 
```

您可以将 sql 转换为您想要的任何内容。我的意思是原理保持不变。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:11:13.977

最简单的方法是计算到每个位置的距离并在一定距离内选择点。如果您想更快地进行搜索，您可以使用更复杂的数据结构（例如[kd-tree](http://en.wikipedia.org/wiki/K-d_tree)）来组织您的位置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-05T10:23:32.497

[GeoDjango](http://geodjango.org/)与 Postgres 的优秀 PostGIS 插件集成，免费为您提供所有这些距离查找。

如果您将 LatLong 存储在存储为 Postgres 类型的模型中，则可以运行一个简单的 ORM 查询来获取到当前 LatLong 一定距离内的所有位置。

GeoDjango 非常强大并且有很多选项，如果您只需从列表中找到给定距离内的位置，您可能只需使用简单的数学：距离 = sqrt(dx^2 + dy ^2)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-10T12:54:40.927

我目前正在android应用程序上开发此功能，我遇到了这个，希望这会有所帮助。起初我打算从服务器过滤掉 JSON 结果，然后我意识到 Mysql 比我最初想象的要复杂得多。

[https://www.scribd.com/doc/2569355/Geo-Distance-Search-with-MySQL](https://www.scribd.com/doc/2569355/Geo-Distance-Search-with-MySQL)

上面的评论对我不起作用，但他们与*Haversine Equation*一起赚钱。在服务器端完成大部分工作效率更高，因此手机不会被不会用于任何事情的信息淹没。这就像烤一个完整的 10 英寸蛋糕，只切掉其中的 8 分，其余的就扔掉，为什么不烤一个半径为 2 英寸的小蛋糕呢？可能看起来没有什么太大的不同，但就像任何好的程序一样，除非你需要所有的东西，否则只得到你需要的东西。

要使用实时工作版本对您自己的代码运行小测试，请使用下面的此链接。 [http://sqlfiddle.com/#!2/abba1/2](http://sqlfiddle.com/#!2/abba1/2)

希望这篇文章有所帮助。

# c# - 如何在 C# 中识别具有相似模式的 url？

> ID：10895257
> 
> 赞同：0
> 
> 时间：2012-06-05T10:01:20.590
> 
> 标签：c#, regex, string

我需要一种方法来识别具有相似模式的 url，例如`true`匹配时返回的函数

```
http://mysite.com/page/123
and
http://mysite.com/page/456 
```

或者

```
http://mysite.com/?page=123
and
http://mysite.com/?page=456 
```

或者

```
http://mysite.com/?page=123&param=2
and
http://mysite.com/?page=456&param=3 
```

我不需要在这里检查 url 的有效性，只需找出模式是否相同。我可能需要一个正则表达式，但不知道该怎么做。任何人都可以帮忙吗？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T10:56:20.967

可能你可以试试 levenshtein distance [http://www.dotnetperls.com/levenshtein](http://www.dotnetperls.com/levenshtein)，它用于查找字符串之间的相似性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:03:21.960

使用[最低公共子序列算法](http://en.wikipedia.org/wiki/Longest_common_subsequence_problem)并除以任一字符串的长度。如果它高于任意数字，它们就足够常见了。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-05T11:18:42.503

不是一个具体的答案，但我觉得如果你希望它在一般意义上运作良好，你需要了解内容，即你需要将每个 URL 分成小节：

*   协议
*   领域
*   小路
*   查询字符串

...并分别处理每个。可接受的模糊程度将控制您需要分解 URL 的程度，但每个部分（我觉得）都需要非常具体的检查。协议和域可以是直接字符串匹配，但路径可能会被“/”分割，然后在基本长度检查之后，可以逐个比较元素，只比较相同深度的项目（使用直接相等或“改变距离”，如前面提到的 Levenshtein 距离）。查询字符串可以通过在“&”上的简单拆分然后通过“=”拆分为字典，您可以根据需要对其进行排序和比较。这也将满足@MarcGravell 关于重新排序查询字符串参数的问题。

# algorithm - 没有给定边的最短路径

> ID：10895259
> 
> 赞同：10
> 
> 时间：2012-06-05T10:01:38.620
> 
> 标签：algorithm, shortest-path

假设给定一个加权图 G(V,E)。

该图包含**N**个顶点（*编号从 0 到 N-1*）和*M 个双向边*。

每条*边(vi,vj)*都有正*距离d*（即两个顶点vivj之间的距离为d）

任何两个顶点之间最多有*一条边*，也*没有自环*（即，没有边将顶点连接到自身。）

我们也给定**S**源顶点和**D**目标顶点。

令**Q**为查询数，每个查询包含一条边**e(x,y)**。

**对于每个查询，假设原始图中不存在边 (x,y)**，我们必须找到从源 S 到目标 D 的最短路径。 如果从 S 到 D 不存在任何路径，那么我们必须打印 No。

*约束很高 0<=(N,Q,M)<=25000*

**如何有效地解决这个问题？**

**到目前为止**，我所做的是实现了简单的*Dijakstra 算法。*

对于每个查询 Q，每次我*将 (x,y) 分配给 Infinity* 并*找到 Dijakstra 最短路径*。

但是这种方法会很慢，因为整体复杂度为*Q*（Dijastra Shortes 路径的时间复杂度）*

例子：：

```
N=6,M=9
S=0 ,D=5

(u,v,cost(u,v))
0 2 4
3 5 8
3 4 1
2 3 1
0 1 1
4 5 1
2 4 5
1 2 1
1 3 3

Total Queries =6

Query edge=(0,1) Answer=7
Query edge=(0,2) Answer=5
Query edge=(1,3) Answer=5
Query edge=(2,3) Answer=6
Query edge=(4,5) Answer=11
Query edge=(3,4) Answer=8 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T10:26:47.567

首先，计算从源节点到目的地的最短路径树。

其次，遍历所有查询，并在查询指定的边缘处切割最短路径；这定义了一个最小切问题，其中您有源节点与一个分区的边界以及另一个和目标的边界之间的距离；你最多可以很容易地计算这个问题`O(|E|)`。

因此，当 时，该算法需要`O(Q|E| + |V|log|V|)`比天真的解决方案 渐近地快`|V|log|V| > |E|`。

该解决方案重用了 Dijkstra 的计算，但仍单独处理每个查询，因此通过观察边缘诱导的切割形状，利用在连续查询中先前查询中所做的工作，也许还有改进的空间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T11:51:00.663

对于每个查询，图形变化很小，因此您可以重用大量计算。

我建议采用以下方法：

1.  计算从**S**到所有其他节点的最短路径（Dijkstras 算法已经为您完成了）。这将为您提供最短路径树**T**。
2.  对于每个查询，取这棵树，由查询中的边 (x,y) 修剪。这可能是原始树（如果 (x,y) 不在树上的任何位置）或较小的树**T'**。
    *   如果**D**在**T'**中，则可以取原来的最短路径
    *   否则启动 Dijkstra，但使用**T'**中已有的标签（这些路径已经最小）作为永久标签。

**如果您在步骤 2 中运行 Dijkstra，您可以通过以下方式重用树T**的修剪部分：每次您想要标记一个永久节点（这是不在**T'**中的节点之一）时，您可以附加整个子树将此节点（从原始树**T**）复制到新的最短路径树，并将其所有节点标记为永久。

这样，您可以从第一次最短路径运行中重用尽可能多的信息。

* * *

在您的示例中，这意味着：

计算最短路径树：0->1->2->3->4->5（本例非常简单）

现在假设我们得到查询（1,2）。

我们修剪边缘 (1,2)，留下 0->1

从那里我们开始 Dijkstra 获得 2 和 3 作为下一个永久标记节点。我们在新的最短路径树中连接 1 到 2 和 1 到 3，并从 3 附加旧子树： 2<-0->1->3->4->5

因此，我们只需运行 Dijkstras 算法的一个额外步骤就得到了最短路径。

* * *

算法的正确性源于树**T**中的所有路径最多与来自查询的新图中一样长（其中每条最短路径只能更长）。因此，我们可以重用树中仍然可行的每条路径（即没有删除边的地方）。

如果性能很重要，您可以通过许多实现技巧来提高 Dijkstra 的性能。一个很好的切入点可能是[DIMACS Shortest Path Implementation Challenge](http://www.dis.uniroma1.it/challenge9/papers.shtml)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:15:23.927

一个简单的优化：首先在完整图上运行 Dijkstra（不删除边）。

然后，对于每个查询 - 检查请求的边缘是否属于该最短路径。如果没有 - 删除这个边缘不会有任何区别。

# php - 以 PHP 正则表达式开始和结束

> ID：10895260
> 
> 赞同：1
> 
> 时间：2012-06-05T10:01:43.267
> 
> 标签：php, regex, string

好的，我有以下代码用于将大字符串的某些部分替换为某些内容

```
 $string = 'this <task>post</task> was a <post>post item</post> 
before but now this is now a <task>task item</task> 
and will become like <task>this one</task>';

         $pattern = '^<task>*</task>$';
         $datainmiddle = preg_replace($pattern, $replacement, $string);
         $replacement = strlen(datainmid);
         //I have no idea what to do next...(ノД`)・゜・。 
```

现在我想做的事情如下

1.  我想获取以开头`<task>`和结尾的字符串中的每个子字符串`</task>`
2.  对于我抓取的每个子字符串，我想抓取`<task>`and中间的每个数据`</task>`
3.  在我在标记中间抓取的每个数据中，我想使用 strlen 测量它们的长度
4.  现在我想用它们中间的字符串长度替换每个以字符串开头`<task>`和结尾的子字符串。`</task>`

输出必须是这样的

> 这 4 以前是 9，但现在这是 9，会变成 8

如果你发现它令人困惑。请告诉我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:04:46.540

好的，很简单：

```
preg_replace('#<task>(.*?)</task>#e', "strlen('\\1')", $str); 
```

正则表达式用于`(.*?)`启动一个内存模式，我稍后会使用它传递到`strlen()`.

我`.*?`用来表示非贪婪匹配（否则它匹配第一次`<task>`和最后一次出现`</task>`.

`e`修饰符用于将第二个参数评估为`preg_replace`; 这使得可以`'\\1'`在表达式作为一个整体进行评估之前写入表达式以返回字符串长度。

希望解释有助于理解解决方案。

# c# - 如何更新 DataGrid 中的数据

> ID：10895264
> 
> 赞同：0
> 
> 时间：2012-06-05T10:01:57.617
> 
> 标签：c#, windows-mobile, compact-framework

我正在尝试更新我的 DataGrid，但不幸的是无法更新！我的应用程序有一个从 CSV 文件加载数据的 DataGrid。一些数据需要更新。但我无法找到正确的方法来反映网格上的更新。

这是我到目前为止所拥有的：

```
// Creation of my DataGrid
this.dataSource = new DataSet();
DataTable data = new DataTable("Products");    

data.Columns.Add("Note", System.Type.GetType("System.String"));
data.Columns.Add("Details", System.Type.GetType("System.String"));
data.Columns.Add("Net", System.Type.GetType("System.String"));
data.Columns.Add("Empty Weight", System.Type.GetType("System.String"));
data.Columns.Add("Full Weight", System.Type.GetType("System.String"));
data.Columns.Add("Description", System.Type.GetType("System.String"));
data.Columns.Add("UOM", System.Type.GetType("System.String"));
data.Columns.Add("Item", System.Type.GetType("System.String"));

dataSource.Tables.Add(data);
dataGrid1.DataSource = data; 
```

当用户按下“加载”按钮时，我将数据加载到我的网格中：

```
DataTable vehicle = dataSource.Tables[0];
.
. // data is read from CSV
.
vehicle.Rows.Add("A sample note", "...", full - empty, empty, full, "Test description", "Gr", i); // an example 
```

以下是我尝试更新网格上数据的方法：

```
DataTable vehicle = dataSource.Tables[0];
vehicle.Rows[0].BeginEdit();
vehicle.Rows[0].ItemArray[0] = "TEST COMPLETE";            
vehicle.Rows[0].EndEdit();
vehicle.AcceptChanges();
dataGrid1.Update(); 
```

但是网格没有更新..我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T12:13:59.273

我从来没有得到过像我想要的那样`Update`或`AcceptChanges`按我想要的方式工作的工具。我怀疑他们做的事情与我认为显而易见的事情不同。

Also, I have no knowledge if a separate DataTable is linked (i.e. via an underlying pointer). Making a change to the DataTable may or may not translate to changing the data stored in the DataGridView.

For me, I reassign it.

```
private void UpdateTheDataGrid() {
  DataTable vehicle = (DataTable)dataGrid1.DataSource;
  // vehicle.Rows[0].BeginEdit(); <- Unsure if this is even needed
  vehicle.Rows[0].ItemArray[0] = "TEST COMPLETE";            
  // vehicle.Rows[0].EndEdit();
  vehicle.AcceptChanges();
  dataGrid1.DataSource = vehicle;
} 
```

Another technique would be to work directly with the DataGridView control itself:

```
private void UpdateTheDataGrid() {
  dataGrid1.Rows[0].Cells[0].Value = "TEST COMPLETE";
} 
```

NOTE to Above: I do not have VS running, so I'm not sure if that code is 100% accurate, but it should give you the idea.

As a comment, I am interested to know if there is any difference between your version of adding a column and the version I use:

```
// Yours
data.Columns.Add("Note", System.Type.GetType("System.String"));

// Mine
data.Columns.Add("Note", typeof(string)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-11T07:54:22.277

For developers facing the same issue, here is how I fixed mine:

You can make use of the SetField method to update the data in the Grid's row. Assuming that you have the row index to modify in variable `currentRow`, there is how I modified my data:

```
DataTable vehicle = dataSource.Tables[0];
vehicle.Rows[this.currentRow].SetField(4, "Updating the 5th column in the grid");
vehicle.Rows[this.currentRow].SetField(2, "Updating the 3rd column in the grid"); 
```

If you need to remove the row from the grid, you can make use of the `RemoveAt` method:

```
dataGridTable.Rows.RemoveAt(rowIndexToDelete); 
```

# javascript - 如何将“http：”添加到 img src 以在 javascript 中获取正确的图像 url

> ID：10895265
> 
> 赞同：0
> 
> 时间：2012-06-05T10:02:10.107
> 
> 标签：javascript, wikipedia-api

我有一个 javascript 小部件，它通过 MediaWiki API (http://en.wikipedia.org/w/index.php?title=Main_Page&action=render) 从 Wikipedia 获取文章。这是三星智能电视的应用程序。现在文本部分工作正常，但它不会显示任何图像，因为 img src 的结构如下：

> “//en.wikipedia.org/wiki/File:example.jpg”

我通过使用 PC 模拟器意识到三星固件将其转换为这种类型的完整 url：

> “文件：//本地主机/en.wikipedia.org/wiki/文件：example.jpg”

是否可以在 src 中添加“http:”，以便应用程序指向正确的链接，从而同时显示缩略图和全尺寸图像？

这是js代码的相关部分：

```
UIContents.showImage = function(srcURLFromWikiPage, showHigherResolution) {
//    alert("UIContents.fillDescription()");

    var cutURL = srcURLFromWikiPage;

    //document.getElementById('UIContentsImgFrameiFrame').href = srcURL;
    //window.frames.UIContentsImgFrameiFrame.location.href = srcURL + "#file";

    //prepare link for full-size picture:
    //cutURL = cutURL.replace('thumb/','');
    //cutURL = cutURL.substring(0, cutURL.lastIndexOf('/'));

    //show preview thumb version
    //if (cutURL.match(/\.svg$/)) cutURL = srcURLFromWikiPage;
    alert('img src: ' + cutURL);
    //show preview thumb version
    var elemImg = document.getElementById('UIContentsImgFrameImage');

    document.getElementById('UIContentsImgFrame').style.display = 'block';
    //set image source
    if (showHigherResolution == true) elemImg.onload = 'UIContents.resizeImage()';
    elemImg.alt = 'loading...';
    elemImg.src = cutURL;

    elemImg.style.visibility = 'hidden';
    elemImg.style.visibility = 'visible';

    imageViewIsOpened = true;

    document.getElementById('UISearchField').style.visibility = 'hidden';
    document.getElementById('UISearchTextInput').style.visibility = 'hidden'; 
```

有什么建议么？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:08:56.107

```
var cutURL = srcURLFromWikiPage.replace("file://localhost/","http://"); 
```

# php - 如何处理来自共享公共 ID 的 SQL 查询的多个结果？

> ID：10895268
> 
> 赞同：2
> 
> 时间：2012-06-05T10:02:17.447
> 
> 标签：php, mysql

我很难理解我所知道的应该很简单的事情，并且不确定解决方案是在查询中还是在处理结果中，所以努力寻找我确定在另一篇文章中已经涵盖的内容.

我正在使用单个 MySQL 表，我需要能够从中检索和处理共享公共 ID 的内容。不幸的是，重组数据库不是一种选择。

这是一个简单的`SELECT * WHERE contentID = '2'`查询返回的内容：

```
|contentType|contentID|content       |
--------------------------------------
|title      |2        |<h1>title</h1>|
|intro      |2        |<p>intro</p>  |
|main       |2        |<p>main</p>   | 
```

检索特定“标题”、“介绍”或“主要”内容的正确方法是什么？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:05:17.573

将所有行提取到一个数组中：

```
$data = array();
foreach ($rows as $r) {
  $data[$r['contentType']] = $r['content'];
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:05:53.190

```
 $result = mysql_query("SELECT * WHERE contentID = '2'");
    $array = array();
    while($rows = mysql_fetch_array($result,MYSQLI_ASSOC)){
        $array[$rows['contentType']] = $rows['content'];
    } 
```

您可以为每种内容类型使用 $array

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:06:32.367

您必须将您的内容类型放入 where 子句中。Id 和 type 应该形成一个自然的 ok 并且应该受到这样的约束。如果没有，是时候重新设计了。此外，id 考虑将内容类型作为查找而不是字符串。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-05T10:18:57.257

```
<?php
 function executeQuery($query,$connectionObject)
                {
                queryString=$query;
                        recordSet=mysql_query(queryString,$connectionObject);
                        if(!$recordSet)
                        {
                            $errorString=mysql_error($this->connectionObject);
                            return array("error"=>$errorString);
                        }

                        return recordSet;
                    }
                function getNextRecord($recordSet)
                    {
                        $resultArray =mysql_fetch_assoc($recordSet);
                        if(!empty($resultArray))
                        return($resultArray);
                        else
                        return "false";

                    }

        $result = executeQuery("SELECT * FROM foo WHERE contentID = '2'");

        $nextRecord = getNextRecord($result);
        while($nextRecord!="false")
        {
        $nextRecord = getNextRecord($result);
        //...........Process the record.....

         ->$nextRecord['contentType'];
         ->$nextRecord['contentID'];
         ->$nextRecord['content'];
    //..................................

        } 
```

# jquery - jQuery添加错误

> ID：10895271
> 
> 赞同：2
> 
> 时间：2012-06-05T10:02:40.553
> 
> 标签：jquery

我发生了一个奇怪的错误。这是 jQuery 函数

```
jQuery(document).ready(function(){
  jQuery("#new_customer").delegate(".kool", "keyup", function(event) {  
    var SelectProd = jQuery('.price, .qty',this);
    var price = jQuery('.price', this).val();
    var qty =   jQuery ('.qty', this).val();
    var amount = price + qty;
    var lineItemWrapperElement = SelectProd.parent().parent();
    jQuery("input.amount", lineItemWrapperElement).val(amount);
  });
 }); 
```

而不是添加“+”是连接。即 12+1 即将到来 121 似乎是什么问题？任何指导都可以。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T10:03:40.540

发生这种情况是因为您连接了字符串。您必须将变量转换为数字类型。我假设你的价格可以是浮动的，所以你可以使用[`parseFloat()`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/parseFloat)函数：

```
var amount = parseFloat(price) + parseFloat(qty); 
```

为了固定精度，您还可以[`toFixed()`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Number/toFixed)在以下情况下使用：

```
amount = amount.toFixed(2); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:04:21.490

```
 var amount = parseInt(price, 10) + parseInt(qty, 10); 
```

或者

```
var amount = parseFloat(price).toFixed(2) + parseInt(qty, 10); 
```

因为，`.val()`返回字符串属性并`+`具有字符串的添加和连接的双重滚动。这取决于变量的类型。

如果`parseFloat()`或`parseInt()`取决于你，你想要你的输出。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-05T10:10:15.497

您正在连接字符串，因此您必须先将它们转换为数字

```
var amount = +price + +qty; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-05T10:05:14.780

price 和 qty 是一个字符串，将其解析为 float 或任何数字类型

```
var amount = parseFloat(price) + parseFloat(qty); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-05T10:05:23.457

```
var amount = parseFloat(price).toFixed(2) + parseInt(qty, 10); 
```

# java - SLF4J Java 日志设计

> ID：10895283
> 
> 赞同：4
> 
> 时间：2012-06-05T10:03:22.610
> 
> 标签：java, logging, slf4j

我开始使用 SLF4J 进行日志记录，我首先想到的是以下代码

```
public class MyClass
{
   private static final logger = org.slf4j.LoggerFactory.getLogger(MyClass.class)
} 
```

使用类作为参数来获取记录器实例的设计原则或逻辑是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-05T10:05:00.873

这样做的结果是该记录器生成的每个记录语句都包含类的名称。你想这样做：

1.  在输出中识别该日志消息的来源
2.  有效地过滤这些消息。您可以按类和/或包含的包启用禁用消息。例如，您可能希望禁用所有 DAO 包消息（无论出于何种原因）

以上是日志记录中非常常见的模式。但是请注意，您不仅必须提供一个类，还可以提供自己的字符串，从而自己任意对消息进行分类。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:07:58.567

这只是一个缩短器。请参阅[LoggerFactory 的 javadoc](http://www.slf4j.org/api/org/slf4j/LoggerFactory.html)以了解还有一个`constuctor`that`String`参数。

基本上，在使用记录器时，您几乎总是使用声明记录器的类的名称来命名记录器。

# javascript - 未定义，未定义类型，hasOwnProperty

> ID：10895288
> 
> 赞同：20
> 
> 时间：2012-06-05T10:03:52.940
> 
> 标签：javascript

拿这个片段，

```
var a = {

}

if(typeof a.c === 'undefined'){
 console.log('inside if');
}
if(a.c === undefined){
 console.log('inside if');
} 
```

两者都`if`导致`true`. **特定于某些浏览器的这两种语句有什么区别吗？**

此外，在我的上一个项目中，我已经`typeof a.c == 'undefined'`多次使用过检查`json`数据中的值。

现在，我知道这不是好方法，因为某些价值也可能`undefined`如此，所以我的逻辑将失败。

我应该使用`hasOwnProperty`.

但我确信没有任何价值`undefined`，我可以用`typeof a.c == 'undefined'`它来代替`hasOwnProperty`还是应该`typeof`用`hasOwnProperty`

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-06-05T10:14:03.103

（**更新**：你可能想看看这个问题：[variable === undefined vs. typeof variable === "undefined"](https://stackoverflow.com/questions/4725603/variable-undefined-vs-typeof-variable-undefined/4725697#4725697)）。

在**非常**旧的浏览器（Netscape 2、IIRC 和可能的 IE 4 或更低版本）中，您无法将值与 进行比较`undefined`，因为这会导致错误。然而，在任何（半）现代浏览器中，没有理由检查`typeof value === 'undefined'`而不是`value === undefined`（除了有人可能重新定义了变量的偏执狂`undefined`）。

`hasOwnProperty`服务于不同的目的。它检查对象是否具有给定名称的属性，*而不是它的原型*；即不管继承的属性。如果你想检查一个对象是否包含某个属性，继承与否，你应该使用`if ('c' in a) {`...

但基本上，这些可能都会起作用：

```
if (a.c === undefined) console.log('No c in a!');
if (typeof a.c === 'undefined') console.log('No c in a!');
if (!('c' in a)) console.log('No c in a!');
if (!a.hasOwnProperty('c')) console.log('No c in a!'); 
```

主要区别在于：

*   `a.c === undefined`如果有人做过`undefined = 'defined'`或一些类似的伎俩，会产生意想不到的结果；
*   `!('c' in a)`不是很可读（恕我直言）
*   `!a.hasOwnProperty('c')``false`如果对象`a`不包含属性，将返回`c`，但它的原型包含。

就个人而言，我更喜欢第一个，因为它更具可读性。如果您偏执并希望避免重新定义的风险`undefined`，请将您的代码包装在一个自动执行的匿名函数中，如下所示：

```
(function (undefined) {
  // in here, 'undefined' is guaranteed to be undefined. :-)

  var a = {

  };

})(); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-05T10:22:07.523

如果您检查作为解析 JSON 字符串结果的标准对象，`.hasOwnProperty`则没有明显的好处。当然，除非你或你正在使用的某个库一直在搞乱`Object.prototype`.

一般来说，`undefined`这样可以重新定义，但我自己没有遇到过 - 我也不认为我会这样做。但是，（AFAIK）不可能弄乱`typeof`. 在这方面，后者是最安全的方法。我确实相信一些古老的浏览器也不能很好地使用该`undefined`关键字。

在恢复中：无需去更换每张`typeof`支票。就个人而言：不过，我认为养成使用 . 的习惯是一种好习惯`.hasOwnProperty`。因此，我建议，如果某个属性可能存在但未定义，`.hasOwnPorperty`这是最安全的选择。

* * *

回应您的评论：是的，`typeof`大约 95% 的时间会满足您的需求。`.hasOwnProperty`将工作 99% 的时间。但是，正如名称所示：不会检查继承链更高的属性，请考虑以下示例：

```
Child.prototype = new Parent();
Child.prototype.constructor=Child;//otherwise instance.constructor points to parent

function Parent()
{
    this.foo = 'bar';
}

function Child()
{
    this.bar = 'baz';
}

var kiddo = new Child();
if (kiddo.hasOwnProperty('foo'))
{
    console.log('This code won\'t be executed');
}
if (typeof kiddo.foo !== 'undefined')
{
    console.log('This will, foo is a property of Parent');
} 
```

因此，如果您想检查单个对象是否具有属性，`hasOwnProperty`这就是您所需要的。特别是如果您要更改该属性的值（如果它是原型属性，则可以更改所有实例）。
如果您想知道一个属性是否有值（除 之外`undefined`），无论它位于继承链中的哪个位置，您都需要`typeof`. 我在某处有一个递归函数来确定可以在继承链中找到该属性的位置。一旦我找到它，我也会在这里发布它。

**更新：**

正如所承诺的，在继承链中定位属性的功能。这不是我不久前使用的实际功能，所以我整理了一份工作草案。它并不完美，但它可以很好地帮助您：

```
function locateProperty(obj,prop,recursion)
{
    recursion = recursion || false;
    var current = obj.constructor.toString().match(/function\s+(.+?)\s*\(/m)[1];
    if (!(obj.hasOwnProperty(prop)))
    {
        if (current === 'Function' || recursion === current)
        {
            return false;
        }
        return locateProperty(new window[current](),prop,current);
    }
    return current;
}
//using the object kiddo
locateProperty(kiddo,'foo');//returns 'Parent'
locateProperty(kiddo,'bar');//returns 'Parent', too 
```

为避免最后一个故障，您可以将最后一个`return current;`语句替换为`return obj;`. 或者，更好的是，将以下行添加到上面的代码段中：

```
Child.prototype.constructor=Child; 
```

我在第一次编辑时忘记了...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-16T16:32:05.063

*   将 p 的可枚举属性复制到 o，并返回 o。

*   如果 o 和 p 具有同名的属性，则不保留 o 的属性。

*   此函数不处理 getter 和 setter 或复制属性。

    ```
    function merge(o, p) 
    {
        for(prop in p) 
        {   
            // For all props in p.
            if (o.hasOwnProperty[prop]) continue;  // Except those already in o.
            o[prop] = p[prop];                     // Add the property to o.
        }

        return o;
    } 
    ```

`o.hasOwnProperty[prop]`和 和有什么不一样`o.hasOwnProperty(prop)`？

# android - MediaStore managedQuery 不返回最新文件

> ID：10895290
> 
> 赞同：1
> 
> 时间：2012-06-05T10:03:56.610
> 
> 标签：android

我正在查询 MediaStore 以获取基于持续时间（MAX 15 秒）的视频。

我面临的问题是当我使用图库录制视频时。然后，如果我转到我的应用程序，此视频不会显示在此光标中。但是，如果我去画廊打开视频，下次查询时会返回。

这是我的查询：

```
private Cursor getVideos() {
        _.log("getVideos");
        String[] proj = { MediaStore.Video.Media._ID,
                MediaStore.Video.Media.DATA,
                MediaStore.Video.Media.DISPLAY_NAME,
                MediaStore.Video.Media.SIZE, MediaStore.Video.Media.DATE_TAKEN,
                MediaStore.Video.Media.DURATION };

        return managedQuery(MediaStore.Video.Media.EXTERNAL_CONTENT_URI, proj,
                MediaStore.Video.Media.DURATION + "<=?" + " AND "
                        + MediaStore.Video.Media.DURATION + ">=?" + " AND "
                        + MediaStore.Video.Media.SIZE + ">=?", new String[] {
                        "15000", "1000", "1000" }, null);
    } 
```

* * *

**可能的解决方案**是在查询之前强制刷新。我使用以下使用 MediaScannerConnection 的代码进行了尝试：

```
_.log("new MediaScannerConnection");
msc = new MediaScannerConnection(mContext, new MediaScannerConnectionClient() {

    public void onScanCompleted(String path, Uri uri) {
        _.log("onScanCompleted:"+path);
        msc.disconnect();
        synchronized (lock) {
            lock.notifyAll();
        }
    }

    public void onMediaScannerConnected() {
        _.log("onMediaScannerConnected:" + MediaStore.Video.Media.EXTERNAL_CONTENT_URI.toString());
        msc.scanFile(MediaStore.Video.Media.EXTERNAL_CONTENT_URI.getPath(),
                null);
    }
});
_.log("connect");
msc.connect();
synchronized (lock) {
    try {
        _.log("waiting");
        lock.wait();
    } catch (InterruptedException e) {
        e.printStackTrace();
    }
    _.log("done waiting");
} 
```

然而这并没有解决问题。在某些手机上，我多次调用 onMediaScannerConnected 并且从未调用 onScanCompleted

# clojure - 我们在 clojure 1.4 中需要 clojure-contrib.jar 吗？

> ID：10895291
> 
> 赞同：2
> 
> 时间：2012-06-05T10:04:08.430
> 
> 标签：clojure

我有一个简单的问题，我们是否需要 clojure-contrib.jar 以及 clojure 最新版本 1.4 或者它是否包含所有内容。如果它不包括，那么我可以从哪里获得最新版本的 clojure-contrib.jar。

请帮助

问候 Mohtashim

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-05T10:30:06.510

请不要使用 clojure.contrib。它不被维护。

对于 Clojure 1.3 版本，clojure-contrib 被拆分：一些部分现在是 Clojure 标准库的一部分，一些是 github.com/clojure 下的单独库，一些（质量差或未维护的）库部分未迁移。有关更多信息，请参阅[clojure.contrib 去了哪](http://dev.clojure.org/display/design/Where+Did+Clojure.Contrib+Go "clojure.contrib 去哪儿了")里。

# validation - Backbone.Model 验证和 isValid

> ID：10895292
> 
> 赞同：0
> 
> 时间：2012-06-05T10:04:10.773
> 
> 标签：validation, backbone.js, coffeescript

我已经设置了我的模型验证，如下所示

*   完整的 CoffeeScript 代码： http: [//pastebin.com/3isZZke8](http://pastebin.com/3isZZke8)
*   JS Fiddle 演示：http: [//jsfiddle.net/XKTnb/](http://jsfiddle.net/XKTnb/)

**模型验证**

```
class Todo extends Backbone.Model 
    validate: (attrs) -> 
        errs = {}
        hasErrors = false

        if (attrs.title is "")
            hasErrors = true
            errs.title = "Please specify a todo"

        if hasErrors
            return errs 
```

**View中的错误相关代码**

```
class TodoView extends Backbone.View

    events:
        "keypress .editing input[name=todo]": "saveTodo"
        "keyup .editing input[name=todo]": "closeEdit" 
        "blur input[name=todo]": "clearErrors"

    initialize: -> 
        ...
        @model.bind("change", @render)
        @model.bind("error", @handleError)

    saveTodo: (e) ->
        if e.type is "keypress" and e.charCode isnt 13
            return
        @model.set("title": @$("input[name=todo]").val())
        console.log @$("input[name=todo]").val() + "...", @model.isValid(), @model.get("title")
        if @model.isValid()
            @closeEdit()

    closeEdit: (e) ->
        if (e)
            if e.type is "keyup" and e.keyCode isnt 27 then return
        @$el.removeClass("editing") 

    handleError: (model, errs) ->
        @clearErrors()
        @$("input[name=todo]").after($("<span />", {
            class: "error",
            html: errs.title
        }));
        console.log "error handled"

    clearErrors: ->
        @$el.remove(".error") 
```

在`TodoView.saveTodo`中，我检查模型是否有效，如果是，我希望`save`成功并希望退出编辑编辑模式。但是，它似乎`isValid`总是`true`，也许是因为发生了验证，因此模型没有保存在有效状态？

**更新**

在上面添加了指向 JS Fiddle 的链接。尝试添加待办事项，然后尝试将待办事项设为空白。请注意，它关闭了编辑模式，尽管在我的代码中：

```
saveTodo: (e) ->
    if e.type is "keypress" and e.charCode isnt 13
        return
    @model.set("title", @$("input[name=todo]").val())
    if @model.isValid() # model appears to be valid here!
        @model.save()
        @closeEdit() 
```

现在双击进入编辑模式，注意错误是否存在意味着验证已正确完成

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-26T14:09:48.407

`save()`以与调用相同的方式使用数据调用 Backbone.Model 上的方法`set()`使其成为组合的设置/保存调用。通过您的自定义`validate()`方法进行的验证在 上自动完成`save()`，但在使用时不会`set()`。

我从未真正使用过该`isValid()`方法，因为 Backbone 文档建议改为侦听`invalid`事件并响应那里的验证错误。所做的只是运行您定义的验证方法（如果有`isValid()`），并返回一个布尔值，`invalid`如果您的`validate()`方法返回的不是`null`.

请注意，1.0.0 之前的 Backbone.Model 版本在验证失败时会错误地触发`error`事件而不是事件。`invalid`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-26T13:32:22.737

我不太明白这个问题，但是当我阅读它时，您有一个模型，您可以在其中尝试保存刚刚输入的一些信息。

模型验证方法将在设置模型值时自动返回错误。

例如：

```
var TodoModel = Backbone.Model.extend({ 

    defaults: {
       title: '',
       closed: 'false'
    },

    validate: function(attr) {

        if (attr.title === '') {
            console.log("Title expected");
        }

    }
}); 
```

现在，当您创建此对象的新实例（因此您尚未在模型中保存任何信息）时，模型 isValid 将返回 false：

```
var todo = new TodoModel();
console.log(todo.isValid()); //will be false 
```

我不知道你从哪里得到的保存功能。如果您想将数据放入 todo 模型中，您可以这样做：

```
var todo = new TodoModel();
todo.set({
    'title': 'Figure out Backbone JS'
});

console.log(todo.isValid()); //must now return true 
```

当然，您也可以立即设置这些值：

```
var todo = new TodoModel({
    'title': 'still figuring out'
});

console.log(todo.isValid()); //still returns true 
```

所以这是进行验证检查的方法。

# macos - 无法使用 AVCaptureMovieFileoutput 录制电影

> ID：10895294
> 
> 赞同：1
> 
> 时间：2012-06-05T10:04:14.780
> 
> 标签：macos, avfoundation

我试图录制视频，但我收到了类似的错误

> 无法记录到 URL <#file url>，因为它不是文件 URL。

我将目标网址定义如下：

```
NSString *Path = [[NSString alloc] init];
Path = @"/Users/me/Documents/My fols/recording_try/newMovie.mov";
NSURL *dest = [[NSURL alloc] initWithString:[Path stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]]; 
```

然后在创建会话后，输入和输出对象。我试过这样录音。

```
mMovieFileOutput = [[AVCaptureMovieFileOutput alloc] init] ;
[mSession addOutput:mMovieFileOutput];
[mMovieFileOutput startRecordingToOutputFileURL:dest recordingDelegate:self]; 
```

我已经开始运行会话，尝试使用 begin 和comitconfiguration 等。但每次运行时都会收到如下错误：

```
[AVCaptureMovieFileOutput startRecordingToOutputFileURL:recordingDelegate:] - Cannot record to URL /Users/me/Documents/My%20fols/recording_try/newMovie.mov because it is not a file URL. 
```

我不知道我要去哪里错了......有人可以帮忙吗？

提前致谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-06-29T07:04:42.947

只需更改您的 NSURL 配置以符合文件 URL 类型

像这样的东西：

NSURL *dest = [[NSURL alloc] initFileURLWithPath:<#(NSString *)#>]

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:15:36.187

尝试这样的事情：

```
// variable names should start with lower case letters

// also, let's do as much as we can with auto-released objects
// so we don't have to worry about leaking (if we're not using ARC)
NSString *path = [NSString stringWithString: @"/Users/me/Documents/My fols/recording_try"];
NSURL *dest = [NSURL URLWithString:[path stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]];
if(dest == nil)
{
    NSLog( @"does not appear to be a valid NSURL object" );
    return;
}

NSError * error = nil;
if([[NSFileManager defaultManager] createDirectoryAtURL: dest withIntermediateDirectories: YES attributes: nil error: &error] == YES)
{
    dest = [dest URLByAppendingPathComponent: @"newMovie.mov"];

    // now you can create the session plus input and output objects
    // within this block

} else {
    NSLog( @"was not able to create the directory which contains path %@ - error is %@", path, [error localizedDescription] );
} 
```

# javascript - 输入字段：预填充值不可删除，但可扩展

> ID：10895299
> 
> 赞同：0
> 
> 时间：2012-06-05T10:04:45.607
> 
> 标签：javascript, jquery, input

由于我对 JavaScript 不太熟悉，所以我在网络上做了一些研究以掌握某事。继续，但无法解决我的问题。

我创建了一个[小提琴](http://jsfiddle.net/wf9zX/)来向您展示它的外观。好吧，我的问题是浅灰色的预填充值“电子邮件”不可删除，但该值本身应可扩展为黑色字体颜色。

你知道如何实现它吗？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:32:42.210

试试这个

[http://jsfiddle.net/wf9zX/2/](http://jsfiddle.net/wf9zX/2/)

对该输入字段使用标签并连接输入字段值和标签文本

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:22:46.363

**解决方案 1**

为什么不使用两个样式不同的输入？您可以禁用或将第一个设置为只读，并且仍然连接两个输入 POST 值。

我不认为在输入中设置样式对 W3C 非常友好。

**解决方案 2**

在您的输入中使用背景图像（其中写有“电子邮件”的图像）并带有一些左填充。当您获得 POST 值时，只需将字符串“E-mail”添加到它。就像他们在输入上做自定义搜索按钮图标一样。

查看新的小提琴：http: [//jsfiddle.net/gxY5P/4/](http://jsfiddle.net/gxY5P/4/)

希望这可以帮助。

# windows - 用于 Windows 驱动程序开发的 IDE

> ID：10895303
> 
> 赞同：0
> 
> 时间：2012-06-05T10:04:53.163
> 
> 标签：windows, visual-studio, ide, device-driver, virtual-printer

我打算使用 C/C++ 编写一个 Windows（XP、Vista 和 7）虚拟打印机驱动程序。所以我想知道哪个是我可以使用的最好的 IDE。根据我的阅读，Windows Driver Kit 8(WDK-8) 与新的 Visual Studio 2012 的集成度更高，但 WDK-8 不支持 Windows XP 的驱动程序。所以我希望有人能建议我哪个版本最适合我。

由于 Visual Studio 非常昂贵，所以我不想购买它，除非它在我的情况下比使用 Eclipse 有一些优势。

另外，如果我需要使用 Visual Studio，那么对于像我这样的单个开发人员来说，哪个版本的 Visual Studio 就足够了：Professional、Premium 还是 Ultimate？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:11:19.170

在 VS 2012 之前，Visual Studio 没有 Eclipse 的优势。几乎所有的驱动都是在命令行模式下构建的，并且使用windbg作为调试器，所以VS只是一个编辑器。

在 VS 2012 中，它为 WDF 驱动程序构建模板，从模板创建驱动程序很容易。但我认为这不是昂贵的 VS 的理由。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-12T10:28:33.007

看看 DDKBuild。

[http://www.hollistech.com/Resources/ddkbuild/ddkbuild.htm](http://www.hollistech.com/Resources/ddkbuild/ddkbuild.htm)

我将 Visual Studio 2012 与 DDKBuild 结合使用来编译驱动程序 - 当出现错误时，我可以在错误列表窗口中看到它们，并且可以直接转到驱动程序源中的正确行...节省大量时间！

我已经为我想要的不同驱动程序选项设置了各种解决方案配置，例如运行 PreFast 通道、编译为 32 位、64 位、针对不同的操作系统目标等 - 使得在发布和调试或静态分析工具之间切换非常容易。

基本上，您在 Visual Studio 中创建一个新的 Visual Studio Makefile 项目，然后将 NMAKE|Build 命令行设置为如下所示：

ddkbuild -WIN7 -prefast 检查。-cZ
或
ddkbuild -WIN7XP 检查。-cZ
或
ddkbuild -WIN7XP 免费。-cZ
等

我自己没用过，但是想要更强大的方式来利用Visual Studio做驱动开发，看看VisualDDK

[http://visualddk.sysprogs.org/](http://visualddk.sysprogs.org/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-02T01:57:12.400

Visual Studio 2013 Community Edition 是免费的，可用作驱动程序的 IDE

# android - android-thumbs.db 错误

> ID：10895304
> 
> 赞同：0
> 
> 时间：2012-06-05T10:04:56.823
> 
> 标签：android, adt

我的 ADT 版本是 18.0。清理项目后，我在 drawable 文件夹中获得了 thumbs.db 文件，并在该文件（thumbs.db）处显示错误。删除 thumbs.db 后，它工作正常。为什么会出现这个错误？如何处理这个。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:08:20.927

//在windows中它会创建

```
thumbs.db 
```

删除 thumbs.db 文件并运行它

单击工具，然后单击文件夹选项只需在此处选中不要缓存缩略图[链接：](http://ask-leo.com/what_is_thumbsdb_and_can_i_delete_it.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:14:56.377

`Thumbs.db``Windows`是使用缩略图视图时创建的文件。它是一个隐藏文件，大多数用户不会查看，并且当文件从图像已通过或删除的文件夹中移动时不会更新。这提供了第二次机会，即某人将在其 Windows 文件夹中留下至少部分图像证据。中的缩略图以`Thumbs.db`OLE 复合文件格式存储。它与 Microsoft Office 使用的格式相同。

您可以删除此文件并运行应用程序。

# jquery - 如何访问 JSON 对象名称/值？

> ID：10895306
> 
> 赞同：78
> 
> 时间：2012-06-05T10:05:03.487
> 
> 标签：jquery, ajax, json, asp.net-mvc-3

```
function (data) {
    //add values based on activity type
    //data = JSON.parse(data);
    //alert(abc.Phone1);

    alert(data.myName)

    alert(data.toString());
    if (activityType == "Phone") {
    }
    return;

}, 
```

如您所见，这个从控制器`$.ajax`获取数据的回调函数。`JSON`

例如：

`[{"name":"myName" ,"address": "myAddress" }]`

在这种情况下，我的第一个警报给我未定义和第二个/第三个警报弹出窗口出现：

`[{"name":"myName" ,"address": "myAddress" }]`

如何按名称访问值，以便填写我的第一个警报`myName`值`name`？

* * *

## 回答 #1

> 赞同：115
> 
> 时间：2012-06-05T10:09:34.547

除了解析 JSON，您还可以执行以下操作：

```
$.ajax({
  ..
  dataType: 'json' // using json, jquery will make parse for  you
}); 
```

要访问 JSON 的属性，请执行以下操作：

```
data[0].name;

data[0].address; 
```

* * *

为什么需要`data[0]`，因为 data 是一个数组，所以你需要`data[0]`（第一个元素）检索它的内容，它给你一个 object `{"name":"myName" ,"address": "myAddress" }`。

并且访问对象规则的属性是：

```
Object.property 
```

或者有时

```
Object["property"] // in some case 
```

所以你需要

`data[0].name`等等以获得你想要的。

* * *

### 如果你不

设置`dataType: json`然后你需要使用`$.parseJSON()`和检索数据像上面一样解析它们。

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2012-06-05T10:08:33.010

您收到的 JSON 是字符串。您必须将其转换为 JSON 对象您已注释了最重要的代码行

```
data = JSON.parse(data); 
```

或者，如果您使用的是 jQuery

```
data = $.parseJSON(data) 
```

* * *

## 回答 #3

> 赞同：16
> 
> 时间：2014-11-27T15:19:57.773

如果你的反应是`{'customer':{'first_name':'John','last_name':'Cena'}}`

```
var d = JSON.parse(response);
alert(d.customer.first_name); // contains "John" 
```

谢谢，

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-06-05T10:09:43.883

你应该做

```
alert(data[0].name); //Take the property name of the first array 
```

并不是

```
 alert(data.myName) 
```

即使您没有设置它，jQuery 也应该能够为您嗅探数据类型，因此不需要 JSON.parse。

在这里摆弄

[http://jsfiddle.net/H2yN6/](http://jsfiddle.net/H2yN6/)

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-06-05T10:09:35.787

**试试这个代码..**

```
function (data) {

var json = jQuery.parseJSON(data);
alert( json.name );

} 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-03-26T11:57:23.123

您可能想尝试这种方法：

```
var  str ="{ "name" : "user"}";
var jsonData = JSON.parse(str);     
console.log(jsonData.name)
//Array Object
str ="[{ "name" : "user"},{ "name" : "user2"}]";
jsonData = JSON.parse(str);     
console.log(jsonData[0].name) 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-06-05T10:15:19.160

我认为您应该`dataType: 'json'` 在 ajax 配置中提及并访问该值：

```
data[0].name 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-06-05T10:27:09.400

这是一个友好的建议。使用[Chrome Developer Tools](https://developers.google.com/chrome-developer-tools/docs/overview)或[Firebug](http://getfirebug.com) for Firefox 之类的工具来检查您的 Ajax 调用和结果。

您可能还想花一些时间来了解像[Underscore](http://underscorejs.org/)这样的帮助程序库，它补充了 jQuery，并为您提供了 60 多个有用的函数来使用 JavaScript 操作数据对象。

# php - 如何在不使用 cron 的情况下在一定时间后运行 php 函数

> ID：10895312
> 
> 赞同：0
> 
> 时间：2012-06-05T10:05:18.330
> 
> 标签：php

我有一段代码，想在一定的时间间隔后运行它，比如每 3 秒后运行一次。如果我得到所需的结果，它应该会死，否则将在 3 秒后发送另一个请求。任何想法用 php 来做。

提前感谢您的帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T10:09:08.837

你可以循环睡觉：

```
while (true) {
    $result = doSomething;
    if (resultIsGood) {
        break;
    }
    sleep(3);
} 
```

如果您不想让浏览器等待，您可以`ignore_user_abort()`在 Google 上查找解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:42:31.770

如果您想要执行 MySQL 查询（仅此而已），也许使用 MySQL 事件调度程序可以满足您的需要：
[http ://dev.mysql.md/doc/refman/5.5/en/events-overview.html](http://dev.mysql.md/doc/refman/5.5/en/events-overview.html)

# c# - 在 struct C# 列表中获取最大值

> ID：10895313
> 
> 赞同：0
> 
> 时间：2012-06-05T10:05:18.423
> 
> 标签：c#

我有一个 c# 中的结构列表。该结构有 5 个变量（int doc1、int paragraph1、int doc2、int para2、floatsimilarity）。doc1 , parag1 表示 doc 中的段落索引与 doc2 中的 parag2 通过该相似度值相关。文档中的一个段落可能与许多其他具有不同相似性的段落相关联。我想让 parag2 和 doc2 具有最大相似性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:07:51.227

[覆盖结构上的运算符 ==、>、>=、<、<=、!=](http://msdn.microsoft.com/en-us/library/8edha89s.aspx)，然后使用 LINQ从列表[中获取最大值。](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.max.aspx)

# android - 如何在 Android 的子活动中找到标签主机？

> ID：10895314
> 
> 赞同：0
> 
> 时间：2012-06-05T10:05:20.580
> 
> 标签：android, android-layout, android-emulator, android-widget, android-ndk

我正在创建一个自定义选项卡主机，在每个选项卡规范上打开不同的活动。我想在子活动上获取选项卡主机，以在选项卡主机屏幕上查找线性布局。

**select_item.xml（选项卡主机布局）**

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

<include
    android:id="@+id/include1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    layout="@layout/outcom_actionbar" >
</include>

<TabHost
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/tabhost"
    android:layout_width="fill_parent"        
    android:layout_height="fill_parent" >

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >

        <View
            android:layout_width="fill_parent"
            android:layout_height="0.5dip"
            android:background="#fff" />

        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_marginLeft="0dip"
            android:layout_marginRight="0dip" />

        <View
            android:layout_width="fill_parent"
            android:layout_height="2dip"
            android:background="#696969" />

        <View
            android:layout_width="fill_parent"
            android:layout_height="2dip"
            android:background="#add23b" />

        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent" />
    </LinearLayout>
</TabHost>

</LinearLayout> 
```

* * *

**SelectItem.java**（自定义选项卡主机）

```
public class SelectItem extends TabActivity {   

private TabHost mTabHost;

private void setupTabHost() {
    mTabHost = (TabHost) findViewById(android.R.id.tabhost);
    mTabHost.setup();
}

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.select_item);   
    context=this;       

    setupTabHost();
    mTabHost.getTabWidget().setDividerDrawable(null);
    setupTab(new TextView(this), getString(R.string.Positions),Constants.ActivityName.Positions.toString());
    setupTab(new TextView(this), getString(R.string.Sever),Constants.ActivityName.Sever.toString());

}

private void setupTab(final View view, final String tag,final String activityName) {
    View tabview = createTabView(mTabHost.getContext(), tag);

    TabSpec setContent = mTabHost.newTabSpec(tag).setIndicator(tabview).setContent(new TabContentFactory() {
        public View createTabContent(String tag) {return view;}
    });
    Intent  intent =null;
    if(activityName.compareToIgnoreCase(Constants.ActivityName.Positions.toString())==0)        
        intent = new Intent().setClass(this, Items.class);  
    else if(activityName.compareToIgnoreCase(Constants.ActivityName.Sever.toString())==0)
        intent = new Intent().setClass(this, Sever.class);      
    intent.putExtra(Constants.PROJECT_ID, projectId);
    setContent.setContent(intent);
    mTabHost.addTab(setContent);

}

private static View createTabView(final Context context, final String text) {
    View view = LayoutInflater.from(context).inflate(R.layout.tabs_bg, null);
    TextView tv = (TextView) view.findViewById(R.id.tabsText);
    tv.setText(text);
    return view;
}

} 
```

`LinearLayout`在服务器活动上，我想查看`select_item.xml`文件。但我能够在服务器活动中获取选项卡主机的详细信息。

请建议我可用的链接或示例代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:26:28.853

这是一个可以帮助您的示例。[单击此处](http://adilsoomro.blogspot.no/2011/06/iphone-like-tabs-in-android.html) 查看链接并在 GitHub 上查看他的项目。它真的帮助了我。

# git - 结帐后相同的更改不断重新出现

> ID：10895318
> 
> 赞同：0
> 
> 时间：2012-06-05T10:05:31.687
> 
> 标签：git, changeset

Git 不断添加相同的变更集，如下所示：

```
@@ -1,12 +1,12 @@
-<?xml version="1.0" encoding="utf-8"?>
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    android:layout_width="fill_parent"
-    android:layout_height="fill_parent"
-    android:orientation="vertical" >
-
-    <TextView
-        android:layout_width="fill_parent"
-        android:layout_height="wrap_content"
-       android:text="@string/hello" />
-
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="fill_parent"
+    android:layout_height="fill_parent"
+    android:orientation="vertical" >
+
+    <TextView
+        android:layout_width="fill_parent"
+        android:layout_height="wrap_content"
+        android:text="@string/hello" />
+
 </LinearLayout>
\ No newline at end of file 
```

该文件未在任何编辑器中打开，并且每次我通过执行 a`git checkout`或使用 github 工具丢弃更改时，更改都会重新出现，而我什至没有做任何事情。提交文件没有任何改变，相同的变更集立即重新出现。

我怎样才能让它不这样做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T12:25:45.443

整个文件总是被改变？**行尾！**（将其读作[**LINE ENDINGS**](http://youtu.be/Alw5hs0chj0) !!!）

你可以阅读[git's manual](http://git-scm.com/book/en/Customizing-Git-Git-Configuration#Formatting-and-Whitespace) on [line ending conversion](http://git-scm.com/docs/gitattributes#_end-of-line_conversion)，Github 也作为一个[很好的详细解释](https://help.github.com/articles/dealing-with-line-endings)，但基本上：

*   您的编辑器应该使用预期的行尾（大多数人坚持使用操作系统默认值）
*   您在 gitconfig 中的 core.autocrlf 应该遵循编辑器的选项。

如果您以错误的行结尾提交（即 git repo 应始终位于 LF 中），您可能需要发布修复行问题的提交。

# iphone - iOS - 煎茶触控 - 2

> ID：10895322
> 
> 赞同：1
> 
> 时间：2012-06-05T10:05:47.700
> 
> 标签：iphone, ios, extjs, sencha-2

我真的对这两个命令感到困惑。

```
sencha app build native

[INFO] Deploying your application to /path/to/www/mySenchaApp/build/package 
```

该命令的用途是什么？

```
sencha package run packager.json 
```

该命令的用途是什么？

实际上我可以在模拟器上运行我的应用程序。但我无法在我的设备上运行相同的应用程序......实际上我不确定我需要使用什么命令来使用 iTunes 在我的设备上安装。

```
{
    /**
     * @cfg {String} applicationName
     * @required
     * This is the name of your application, which is displayed on the device when the app is installed. On IOS, this should match
     * the name of your application in the Apple Provisioning Portal.
     */
    "applicationName":"MySenchaApp",

    /**
     * @cfg {String} applicationId
     * This is the name namespace for your application. On IOS, this should match the name of your application in the Apple Provisioning Portal.
     */
    "applicationId":"com.cc2go.keyboard",

    /**
     * @cfg {String} versionString
     * @required
     * This is the version of your application.
     */
    "versionString":"1.0",

    /**
     * @cfg {String} iconName
     * This is file name of your icon. This should be in the same directory of this configuration file.
     *
     * For iOS, please refer to their documentation about icon sizes:
     * https://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/IconsImages/IconsImages.html
     *
     * For Android, please refer to the Google Launcher icons guide:
     * http://developer.android.com/guide/practices/ui_guidelines/icon_design_launcher.html
     */
    "iconName":"resources/icons/Icon~ipad.png",

    /**
     * @cfg {String} inputPath
     * @required
     * This is location of your Sencha Touch 2 application, relative to this configuration file.
     */
    "inputPath":"build/native",

    /**
     * @cfg {String} outputPath
     * @required
     * This is where the built application file with be saved.
     */
    "outputPath":"output",

    /**
     * @cfg {String} configuration
     * @required
     * This is configuration for your application. `Debug` should always be used unless you are submitting your app to an online
     * store - in which case `Release` should be specified.
     */
    "configuration":"Debug",

    /**
     * @cfg {String} platform
     * @required
     * This is the platform where you will be running your application. Available options are:
     *  - iOSSimulator
     *  - iOS
     *  - Android
     *  - AndroidEmulator
     */
    "platform":"iOS",

    /**
     * @cfg {String} deviceType
     * @required
     * This is device type that your application will be running on.
     *
     * If you are developing for Android, this is not necessary.
     *
     * Available options are:
     *  - iPhone
     *  - iPad
     *  - Universal
     */
    "deviceType":"iPhone",

    /**
     * @cfg {String} certificatePath
     * This is the location of your certificate.
     * This is required when you are developing for Android or you are developing on Windows.
     */
     "certificatePath":"/path/to/Certificates.p12",

         "provisionProfile":"/path/to/cc2gokeyboard(3).mobileprovision",

    /**
     * @cfg {String} certificateAlias
     * This is the name of your certificate.
     *
     * IF you do not specify this on OSX, we will try and automatically find the certificate for you using the applicationId.
     *
     * This can be just a simple matcher. For example, if your certificate name is "iPhone Developer: Robert Dougan (ABCDEFGHIJ)", you
     * can just put "iPhone Developer".
     *
     * When using a certificatePath on Windows, you do not need to specify this.
     */
"certificateAlias":"iPhone Developer: First Last (EWEWNP4AYU)",

    /**
     * @cfg {String} sdkPath
     * This is the path to the Android SDK, if you are developing an Android application.
     */
    "sdkPath":"/path/to/android-sdk",

    /**
     * @cfg  androidAPILevel
     * This is android API level, the version of Android SDK to use, you can read more about it here: http://developer.android.com/guide/appendix/api-levels.html.
     * Be sure to install corresponding platform API in android SDK manager (android_sdk/tools/android)
     */
    "androidAPILevel":"15",

    /**
     * @cfg  orientations
     * @required
     * This is orientations that this application can run.
     */
    "orientations": [
        "portrait",
        "landscapeLeft",
        "landscapeRight",
        "portraitUpsideDown"
    ]
} 
```

请告诉我

# magento - 任何用于实现“阻碍”的 Magento 扩展

> ID：10895324
> 
> 赞同：1
> 
> 时间：2012-06-05T10:05:49.353
> 
> 标签：magento, e-commerce

我想知道如何在 Magento 中实现“阻碍”功能？我用谷歌搜索但仍然找不到任何解决方案..

基本上，我想构建一个页面，使用户拥有一个具有固定最大重量的“篮子”。然后，只要物品的总重量不超过篮子的容量，他就可以将任何物品放入篮子。

任何人都可以建议我如何实施它？谢谢！

# android - Android：手机与系统之间的Socket编程

> ID：10895327
> 
> 赞同：1
> 
> 时间：2012-06-05T10:05:54.667
> 
> 标签：android, sockets, networking

我正在尝试编写一个客户端服务器应用程序，其中客户端是一个 android 设备。

我对套接字编程没有信心。

我编写了一个服务器端应用程序和一个在我的模拟器上运行的客户端。

相同的应用程序可以在真正的安卓设备之间运行吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:35:03.840

我已经编辑了你的问题（一旦审查它就会出现）。据我了解，您的问题很笼统。它可以在我的模拟器上运行，它可以在我的设备上运行。

答案是肯定的。模拟器连接到 10.0.2.2 重定向到主机上的 127.0.0.1 对吗？这就是你让它工作的方式。

要让它在设备上工作，您需要执行以下操作

1.  将您的 java 服务器加载到您桌面上的真实 IP 地址上
2.  确保您的桌面在 Internet 上并且 ip 地址对 Internet 可见（打开）
3.  确保您的安卓手机指向您桌面的公共 IP 地址。

现在，我知道你的担心了 :) 打开 IP 地址。因此，您可以使用 ec2（免费的 amazon ubuntu 实例），在其上安装 java 并将您的服务器作为 java -jar 运行。从 Eclipse 中，您可以在 jarfilename_lib 路径中导出带有 lib 的 jar 文件（可运行的 jar 文件）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-14T10:31:21.493

您可以通过 HTTP 请求 使用[spring For android。](http://www.springsource.org/spring-android)[这](http://krams915.blogspot.de/2011/02/spring-3-rest-web-service-provider-and.html)是一个例子。当您在服务器中有静态 ip 时，您应该在实际设备中设置该静态 ip。如果您在模拟器上运行应用程序，则必须设置 10.0.0.2。

# c# - 如何使用从重叠 WSDL 生成的 WCF 代理制作 DRY 代码

> ID：10895330
> 
> 赞同：2
> 
> 时间：2012-06-05T10:06:14.033
> 
> 标签：c#, wcf, wsdl, dry

我有一堆来自客户的 WSDL，描述了我必须在我的应用程序中使用的 Web 服务。

有一个用于创建项目的 Web 服务，一个用于查询它们，一个用于更新它们。这些 WSDL 有很多重叠之处。我必须创建、查询和更新的项目以相同的方式出现在所有三个 WSDL 中。

当我使用 svcutil 时，我可以为三个 WSDL 生成代理，但随后每个代理都会重新定义这些项目。所以我有相同的类，三次，只是在不同的命名空间中。

使用它迫使我复制大量代码（例如，必须以完全相同的方式为每个代理映射一个代理类上的域对象）。

我能想到的唯一解决方案是手动编辑代理并消除重叠。但是，我认为当我重新生成代理时，这将使管理 Web 界面中的更改变得困难。

我想知道是否有可能一次性生成所有代理。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:21:53.810

您可能会考虑编写一个程序来解析所有客户 WSDL 并将操作等存储在某种映射（或多映射）中。然后遍历地图并删除重复项并将结果写入另一个，最终的 WSDL 和代码生成。不过，您必须对命名空间做一些事情。

不过需要考虑的一点是：这样做所需的代码是否会超过您已经复制的额外代码？

另一种选择可能是为重复操作定义一个代理类。您必须通过使用命名空间添加操作来初始化它（创建命名空间字符串映射到操作映射，它本身就是映射到要执行的代码/对象的操作字符串）。然后每次要执行特定操作时，传入命名空间字符串进行操作。

想象一下，我们在命名空间 ns1、ns2 和 ns3 中定义了 Op1，在 ns1 和 ns2 中定义了 Op2。那么伪代码（强烈偏向 C++）可能是这样的：

```
class ProxyOperations
{
    addOperation(string opName, string namespace, OperationBase op);
    // You'll have to figure out what to do with the operation parameters,
    // maybe wrap them in a parameter context
    void doOperation(string opName, string namespace) {
        // lookup operation object and execute it
    }
    typedef map<string, OperationsBase> OperMap;
    typedef map<string, operMap> NamespaceMap;
    NamespaceMap namespaceOperationMap_;
};

{
    ProxyOperations po;

    // Populate it
    po.addOperation("Op1", "ns1", oper1ObjectNs1);
    po.addOperation("Op1", "ns2", oper1ObjectNs2);
    po.addOperation("Op1", "ns3", oper1ObjectNs3);

    po.addOperation("Op2", "ns1", oper2ObjectNs1);
    po.addOperation("Op2", "ns2", oper2ObjectNs2);

    // now use it
    po.doOperation("Op1", "ns2");
} 
```

# html - 如何检查多个单选按钮，具有相同名称的单选按钮？

> ID：10895331
> 
> 赞同：10
> 
> 时间：2012-06-05T10:06:18.043
> 
> 标签：html, radio-button

我想检查多个单选按钮，所有单选按钮名称相同但 ID 不同。

这是我的html代码，

```
 <span style="float:left;margin:0 0 0 10px">Proactivity</span>
        <label for="q11" style="width:auto;margin:0 60px 0 0;padding:0;"><input type="radio" id="qq[]" class="styled" value="Proactivity > Poor" name="q11[]">Poor</label>
        <label for="q11"  style="width:auto;margin:0 18px 0 0;padding:0;"><input type="radio" id="qqa[]" class="styled" value="Proactivity > Good" name="q11[]">Good</label>

        <br/><br/>
        <span style="float:left;margin:0 0 0 10px">Service/support</span>
        <label for="q11" style="width:auto;margin:0 60px 0 0;padding:0;"><input type="radio" id="qq[]" class="styled" value="Service/support > Poor" name="q11[]">Poor</label>
        <label for="q11"  style="width:auto;margin:0 18px 0 0;padding:0;"><input type="radio" id="qqa[]" class="styled" value="Service/support > Good" name="q11[]">Good</label>

        <br/><br/>
        <span style="float:left;margin:0 0 0 10px">Provision of <br />specialist skills</span>
        <label for="q11" style="width:auto;margin:0 60px 0 0;padding:0;"><input type="radio" id="qq[]" class="styled" value="Provision of specialist skills > Poor" name="q11[]">Poor</label>
        <label for="q11"  style="width:auto;margin:0 18px 0 0;padding:0;"><input type="radio" id="qqa[]" class="styled" value="Provision of specialist skills > Good" name="q11[]">Good</label> 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-05T10:07:25.523

你不能。单选按钮**可供选择**。对于多项选择，您需要复选框。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2013-01-30T17:51:13.050

将单选按钮包装在表单标签中将允许具有相同名称的单选按钮组彼此独立运行。

[http://jsfiddle.net/8qB56/](http://jsfiddle.net/8qB56/)

但是看看您要做什么，更改每个逻辑问题的输入名称更适合您，因为您正在使用看起来像单个表单的内容。

因此，也许您可​​以更改`name="q11[]"`为`name="q11[proactivity]"`主动性问题输入、`name="q11[service]"`服务问题输入和`name="q11[provision]"`供应问题输入。

这样做将允许来自这些输入的所有选定响应保留在服务器端的 q11 字段中，然后您可以根据需要按摩数据（我假设 q11 代表“问题 11”或其他东西，这就是为什么您是所以坚持为所有这些输入保持相同的名称）。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-06-05T10:18:02.883

当您对所有无线电输入使用相同的名称时，它们都属于一组。它不允许您进行单独的操作。

您必须为每个无线电组使用不同的名称

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-05T10:10:08.470

使用单选按钮选择多个项目似乎违反了可用性规则。如果这样做，您可以为它们提供不同的名称。

PS：您应该为每个单选按钮提供一个外部样式表。如果您以后想进行调整，那就太好了。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-05-17T07:06:46.443

它有效，请点击链接

```
http://jsfiddle.net/Cwalkdawg/3CxLD/2/ 
```

由于您坚持使用收音机，我会使用 jQuery 库来获取您的值。您可以向收音机添加一个类，它允许您选择该类并遍历它。这是违反直觉和肮脏的，但它会起作用。这个标记：

```
<input type="radio" class="rad" name="None" value="--" />None
<br />
<input type="radio" class="rad" name="Item1" value="Item1" />Item1
<br />
<input type="radio" class="rad" name="Item2" value="Item2" />Item2
<br />
<input type="radio" class="rad" name="Item3" value="Item3" />Item3
<br />
<input type="radio" class="rad" name="Item4" value="Item4" />Item4
<br /> 
```

与这个 jQuery 一起使用：

```
$(document).ready(function () {
    $("#button").click(function () {
        // Radios
        $(".rad:checked").each(function() {
            console.log("Radio: " + $(this).val());
        });
    });
}) 
```

在小提琴中，我也添加了复选框，只是为了向您展示它是多么容易，即以下标记（阅读起来更容易并且不那么模棱两可）：

```
<input name="choices" type="checkbox" value="something1" />Option 1
<br />
<input name="choices" type="checkbox" value="something2" />Option 2
<br />
<input name="choices" type="checkbox" value="something3" />Option 3
<br />
<input name="choices" type="checkbox" value="something4" />Option 4
<br /> 
```

与这个 jQuery 一起使用：

```
$("#button").click(function () {
    //Check boxes
    $("input:checkbox[name=choices]:checked").each(function() {
        console.log("Checkbox: " + $(this).val());
    });
}); 
```

您不能取消选择单选按钮，除非您想使用重置元素取消选择所有单选按钮，这将重置您的整个表单，或者仅为单选创建自定义功能（无论如何都会清除所有选择）。

可以使用以下代码将取消选择路由到您的 name=None 单选按钮：

```
$(".rad[name=None]").click(function() {
    $(".rad").removeAttr("checked");
}); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-12-11T12:22:27.827

您还可以在名称数组中放置一个数字（如果使用 js，则为计数器），如下所示：

主动性： `<input type="radio" name="myradio[0]"><input type="radio" name="myradio[0]">`

服务支持： `<input type="radio" name="myradio[1]"><input type="radio" name="myradio[1]">`

提供
专业技能： `<input type="radio" name="myradio[2]"><input type="radio" name="myradio[2]">`

# android - android：在模拟器上为简单的 hello world 应用程序添加许可证

> ID：10895333
> 
> 赞同：6
> 
> 时间：2012-06-05T10:06:30.720
> 
> 标签：android, emulation, android-lvl

我想为我的应用程序添加许可证（使用 LVL）并在模拟器上进行测试。我是安卓新手。任何人都可以帮助我，并用简单的 hello world 应用程序向我解释。TIA

# java - 如何在java中将字符串映射到数字？

> ID：10895335
> 
> 赞同：-5
> 
> 时间：2012-06-05T10:06:32.410
> 
> 标签：java, string, mapping, numbers

给定一个像“apple”这样的文本字符串，我想获得一个数字。所以每次我用苹果这样做时，我都会得到相同的数字。这怎么能在java中完成？

谢谢你。

**编辑：**好吧，我想我没有很好地解释自己。我的意思是一个现有的 Java 函数，它实现了这样的映射。像这样的函数的一个例子是：a->1, b->2, c->3,...

```
apple -> 11616125 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T10:09:12.247

这就是地图的用途。

```
Map<String, Integer> lookup = new HashMap<String, Integer>();
lookup.put("apple", 1);
lookup.get("apple"); // returns 1 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:09:20.220

```
Map<String, Ingereg> map = new HashMap<String, Ingereg>();
map.put("apple", 10);
map.get("apple"); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-05T10:10:43.373

如果您希望字符串映射到特定数字，则`Map<String, Integer>`使用您的映射创建一个填充它，然后在需要映射字符串时使用它。例如：

```
 Map<String, Integer> map = new HashMap<String, Integer>();
    map.put("Apple", 0);  // A nice round apple
    map.put("Banana", 7); // A nice bent banana
    ...
    System.out.println("The apple is " + map.get("apple")); 
```

如果您只是想每次将字符串映射到相同的数字...而不指定数字...然后调用`hashcode()`字符串对象。这保证在任何给定的 HotSpot Java 平台上返回相同的数字，因为使用的算法是指定和确定的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-05T10:57:49.170

答案是使用 String 的 hashCode 方法。

# arrays - 匹配并标记向量元素沿 numpy 数组的给定轴的位置

> ID：10895337
> 
> 赞同：1
> 
> 时间：2012-06-05T10:06:35.367
> 
> 标签：arrays, numpy

我想沿数组的给定轴标记所有最大值（其形状可能是 n 维的），这在第一个轴上工作正常，但对于其余的我无法弄清楚。我不想在轴上进行迭代，因为它们中可能有很多。

```
>>> A = range(5)*3
>>> A = array(a).reshape([3,5], order='F')
>>> A
array([[0, 3, 1, 4, 2],
       [1, 4, 2, 0, 3],
       [2, 0, 3, 1, 4]])
>>> B = amax(A, axis= 0)
>>> C = amax(A, axis= 1)
>>> B == A
array([[False, False, False,  True, False],
       [False,  True, False, False, False],
       [ True, False,  True, False,  True]], dtype=bool) 
```

这就是我想要它做的：

```
>>> C == A
False 
```

但（当然）它没有。

如何让这个工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T11:37:02.640

针对您的直接示例，当您这样做时：

```
>>>A == C
False 
```

它“不起作用”，因为 numpy 不了解如何广播操作以提供您想要的输出。使用 transpose 两次，您可以获得比您建议的更简单的解决方案：

```
>>>C = amax(A, axis=1)
>>>transpose(C == transpose(A))
array([[False, False, False,  True, False],
       [False,  True, False, False, False],
       [False, False, False, False,  True]], dtype=bool) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-03T09:39:52.513

我终于想出了：

```
def tiletuple(t,axis):
  m = [1]*t.ndim
  m[axis] = t.shape[axis]
  return m

ax = 1
tile(expand_dims(amax(A, axis=ax), axis=ax), tiletuple(A, ax)) == A 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-28T14:48:42.067

派对迟到了，但是这个怎么样：

```
rollaxis(amax(A, ax)[...,newaxis], -1, ax) == A 
```

它基本上是再次插入轴，由于amax，它从数组中掉了出来。然后，广播再次工作。或者，等效地：

```
a = list(A.shape)
a[ax] = 1
amax(A, ax).reshape(a) == A 
```

# c++ - C++，多维数组

> ID：10895340
> 
> 赞同：3
> 
> 时间：2012-06-05T10:07:02.113
> 
> 标签：c++, arrays, multidimensional-array

将多维数组传递给函数时，为什么 C++ 要求在参数 li 中指定除第一个维度之外的所有维度

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-05T10:16:09.480

提出这个问题的更好方法是询问为什么 C++ 不需要指定第一个维度。

原因是对于*所有*数组，您不能将数组按值传递给函数。如果您尝试声明一个采用数组的函数，编译器会将声明调整为相应的指针类型。

这意味着您指定的维度并不重要，因为维度不构成函数签名的一部分。

例如，这些都声明了完全相同的函数。

```
void f(int *p);
void f(int p[]);
void f(int p[10]);
void f(int p[100]); 
```

当导航函数中指向的数组时`p`，编译器需要的唯一信息是数组元素的大小，即`sizeof(int)`在这种情况下。

对于更复杂的数组，情况完全相同。这些都是一样的：

```
void g(Type p[][10][20]);
void g(Type (*p)[10][20]);
void g(Type p[10][10][20]);
void g(Type p[99][10][20]); 
```

但这些都不同于：

```
void g(Type p[][5][20]); 
```

因为调整外部数组维度以外的任何维度都会影响（至少）外部数组元素的大小，这意味着用于导航数组的指针算法必须改变。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:19:13.673

如果你指的是静态分配，这很简单。因为内存块是连续的，这意味着内存单元一个接一个，编译器知道下一个单元在内存中的位置。

对于内存中的一维数组，如下所示：

[http://cplusplus.com/doc/tutorial/arrays/arrays3.gif](http://cplusplus.com/doc/tutorial/arrays/arrays3.gif)

对于内存中的二维数组，如下所示：

[http://i.msdn.microsoft.com/dynimg/IC506192.png](http://i.msdn.microsoft.com/dynimg/IC506192.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:10:15.937

例如`int a[n][m]`一个数组，它的类型是一个`int`长度数组`m`。换句话说，数组的长度是其类型的一部分。而对于所有的函数参数，编译器需要知道它的类型。

在 C++ 中没有多维数组之类的东西。它只是一个看起来像它的语法。in`int a[4]`和`int b[5]`a 和 b 是不同的类型。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-05T12:17:47.143

简而言之：编译器不需要维度，因为数组**衰减**为指针。但是编译器需要任何额外的维度来计算内存中的正确位置。

首先你需要知道 C/C++ 中的数组是内存中的线性连续对象。这是非常有效的。

因为 C/C++ 中的数组是内存中的线性连续对象，所以数组会**衰减**为指针。复制完整的数组将浪费时间和内存，并且不需要。指针是通过数组所需的任何东西。要遍历数组，您可以使用增量运算符或任何计算结果为数组中有效地址的计算。您可以在数组本身中设置分隔符，即字符串中的*“\0”*，或者将长度传递给函数 seperatley 以告诉您的代码数组的末尾在哪里。

对于多维数组，事情会稍微复杂一些。多维数组在内存中仍然只是一个线性连续的对象！但是编译器需要关于附加维度的信息来**计算**正确的内存位置，想象如下：

```
char array[10][10]; // 0 - 99 
```

正确的：

```
// formal argument tells your compiler, that each column is 10 elements long
funca(int array[10][10]) {
    // access to element 25 (2 * 10 + 4, the 10 is known through your formal argument, remember that an array is null based)
    array[2][3] = 'x'; 
} 
```

错误的：

```
// formal argument tells your compiler, that ech colum is 5 elements long
funcb(int array[10][5]) {
    // access to element 15 (2 * 5 * + 4, the 5 is known through your formal argument, remember that an array is null based)
    array[2][3] = 'x'; 
} 
```

注意（或警告）：Java 中的数组，尤其是（不规则的）多维数组是完全不同的。

# php - PHP计算目录和子目录函数中的文件总数

> ID：10895343
> 
> 赞同：6
> 
> 时间：2012-06-05T10:07:26.940
> 
> 标签：php, file, count, directory

我需要获取指定目录中 JPG 文件的总数，包括它的所有子目录。没有子子目录。

结构如下所示：

```
目录1/
2 个文件  
   子目录 1/
       8 个文件

```

总**dir1** = 10 个文件

```
目录2/
    5 个文件  
    子目录 1/
        2 个文件  
    子目录 2/
        8 个文件

```

总**dir2** = 15 个文件

我有这个功能，它不能正常工作，因为它只计算最后一个子目录中的文件，总数是实际文件数量的 2 倍。*（如果我在最后一个子目录中有 40 个文件，将输出 80）*

```
public function count_files($path) { 
global $file_count;

$file_count = 0;
$dir = opendir($path);

if (!$dir) return -1;
while ($file = readdir($dir)) :
    if ($file == '.' || $file == '..') continue;
    if (is_dir($path . $file)) :
        $file_count += $this->count_files($path . "/" . $file);
    else :
        $file_count++;
    endif;
endwhile;

closedir($dir);
return $file_count;
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-05T10:37:26.873

[您可以使用RecursiveDirectoryIterator](http://php.net/manual/en/class.recursivedirectoryiterator.php)这样做

```
<?php
function scan_dir($path){
    $ite=new RecursiveDirectoryIterator($path);

    $bytestotal=0;
    $nbfiles=0;
    foreach (new RecursiveIteratorIterator($ite) as $filename=>$cur) {
        $filesize=$cur->getSize();
        $bytestotal+=$filesize;
        $nbfiles++;
        $files[] = $filename;
    }

    $bytestotal=number_format($bytestotal);

    return array('total_files'=>$nbfiles,'total_size'=>$bytestotal,'files'=>$files);
}

$files = scan_dir('./');

echo "Total: {$files['total_files']} files, {$files['total_size']} bytes\n";
//Total: 1195 files, 357,374,878 bytes 
?> 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-05T10:27:25.443

为了好玩，我把它搅在一起：

```
class FileFinder
{
    private $onFound;

    private function __construct($path, $onFound, $maxDepth)
    {
        // onFound gets called at every file found
        $this->onFound = $onFound;
        // start iterating immediately
        $this->iterate($path, $maxDepth);
    }

    private function iterate($path, $maxDepth)
    {
        $d = opendir($path);
        while ($e = readdir($d)) {
            // skip the special folders
            if ($e == '.' || $e == '..') { continue; }
            $absPath = "$path/$e";
            if (is_dir($absPath)) {
                // check $maxDepth first before entering next recursion
                if ($maxDepth != 0) {
                    // reduce maximum depth for next iteration
                    $this->iterate($absPath, $maxDepth - 1);
                }
            } else {
                // regular file found, call the found handler
                call_user_func_array($this->onFound, array($absPath));
            }
        }
        closedir($d);
    }

    // helper function to instantiate one finder object
    // return value is not very important though, because all methods are private
    public static function find($path, $onFound, $maxDepth = 0)
    {
        return new self($path, $onFound, $maxDepth);
    }
}

// start finding files (maximum depth is one folder down) 
$count = $bytes = 0;
FileFinder::find('.', function($file) use (&$count, &$bytes) {
    // the closure updates count and bytes so far
    ++$count;
    $bytes += filesize($file);
}, 1);

echo "Nr files: $count; bytes used: $bytes\n"; 
```

您传递基本路径、找到的处理程序和最大目录深度（-1 禁用）。找到的处理程序是您在外部定义的函数，它从函数中给定的路径中传递相对路径名`find()`。

希望它有意义并帮助你:)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-05T11:08:59.760

```
error_reporting(E_ALL);

function printTabs($level)
{
    echo "<br/><br/>";
    $l = 0;
    for (; $l < $level; $l++)
        echo ".";
}

function printFileCount($dirName, $init)
{
    $fileCount = 0;
    $st        = strrpos($dirName, "/");
    printTabs($init);
    echo substr($dirName, $st);

    $dHandle   = opendir($dirName);
    while (false !== ($subEntity = readdir($dHandle)))
    {
        if ($subEntity == "." || $subEntity == "..")
            continue;
        if (is_file($dirName . '/' . $subEntity))
        {
            $fileCount++;
        }
        else //if(is_dir($dirName.'/'.$subEntity))
        {
            printFileCount($dirName . '/' . $subEntity, $init + 1);
        }
    }
    printTabs($init);
    echo($fileCount . " files");

    return;
}

printFileCount("/var/www", 0); 
```

刚刚检查，它正在工作。但是结果的对齐不好，逻辑有效

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-06-17T09:48:06.970

开发者的答案实际上很棒！像这样使用它来使它工作：

System("查找 .-type f -print | wc -l");

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-11-28T10:34:04.330

如果有人要计算文件和目录的总数。

显示/计算总目录和子目录计数

```
find . -type d -print | wc -l 
```

显示/计算主目录和子目录中的文件总数

```
find . -type f -print | wc -l 
```

仅显示/计算当前目录中的文件（无子目录）

```
find . -maxdepth 1 -type f -print | wc -l 
```

显示/计算当前目录中的总目录和文件（无子目录）

```
ls -1 | wc -l 
```

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2012-06-05T10:14:38.327

一个 for each 循环可以更快地完成这个技巧;-)

我记得，opendir 是从 SplFileObject 类派生的，它是一个 RecursiveIterator 、 Traversable 、 Iterator 、 SeekableIterator 类，因此，如果您使用 SPL 标准 PHP 库来检索整个图像计数，即使在子目录中也不需要 while 循环.

但是，我已经有一段时间没有使用 PHP，所以我可能会犯错误。

# java - Java扩展一个对象，除了父母的一些属性

> ID：10895348
> 
> 赞同：0
> 
> 时间：2012-06-05T10:07:57.497
> 
> 标签：java, xml, inheritance, cxf

我有一个*C 类扩展 B*。和*B 扩展 A*。A 有一个属性**name**。我*不想在 C 类中看到**name**属性。*

我该怎么做才能忽略？

**PS：**如果在 Java 上不可能：我正在开发一个使用 Apache CXF 并具有 Web 服务功能的 Spring 项目。我想从客户端获取 B 类型对象并将 C 类型对象发送给客户端。由于我的设计问题，我不想改变我的继承机制。如果有办法*我可以忽略 C 类的名称字段*吗？我正在实施为第一代码风格。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:09:22.810

您可以在as中声明`name`字段并将 A 和 B 保留在同一个包中。`A``private`

```
package A;
Class A {

 protected String name;

}

Class B extends A{
   // B can access A's attribute
   }

package C;

    Class C extends B{
       // C cannot access name attribute defined in A.
     } 
```

并且保持 C 在不同的包中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:18:50.543

请阅读关于继承的组合。如果您需要隐藏一些元素，那么您可能没有正确理解面向对象的代码设计。

您提供的示例太窄，无法创建任何更好的答案。但是，当您可以将其强制转换为 A 并仍然使用它时，隐藏在 C 中的意义何在？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:44:18.780

> 我有一个*C 类扩展 B*。和*B 扩展 A*。A 有一个属性 **name**。我*不想在 C 类中看到**name**属性。*

根据您的编辑，您正试图在其子类 (C) 之一的序列化表示中隐藏超类 (A) 的属性。假设您使用的是 JAX-WS/JAX-RS，您可以通过覆盖子类中的属性并应用注释将其标记为不符合序列化条件来做到这一点。要应用的主要注释将是 JAXB 注释 @XmlTransient。如果您提供将对象序列化为 JSON 的选项，您还可以 @JsonIgnore 该属性。伪代码如下所示：

```
@XmlRootElement
public class A implements Serializable {
    private String name;

    // ...
}

@XmlRootElement
public class C extends A {

    @Override
    @XmlTransient
    public String getName() {
        return super.getName();
    }
} 
```

# android - 不知道为什么在单击（查看）上获取重复方法

> ID：10895354
> 
> 赞同：0
> 
> 时间：2012-06-05T10:08:24.033
> 
> 标签：android

我在这里有一项活动是我正在尝试做的。当应用程序启动时显示图像。单击图像时，将显示下一个图像。我已经用 main.xml 和 imageview 完成了所有设置。该应用程序构建并运行并显示第一个图像没有问题。现在尝试为图像设置 onclick，以便显示下一张图像。我已将 android:onClick="onClick" 添加到 main.xml 中的图像视图。我将（this）用于setOnClickListner，并为该类实现了View.onClickListener，但是我设置的开关盒我得到了onClick（View v）的重复方法，我不知道为什么。

还试图找出 findViewById 我认为我拥有它的方式 image1 将始终显示。

在线 public void onClick(View v) 上出现错误，它是一个重复的方法。

这是我的代码。感谢您对此的任何帮助。

main.xml 是一个线性布局，不确定是否重要。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent">

<ImageView
    android:id="@+id/imageView1"
    android:src="@drawable/bear"        
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:onClick="onClick"
    android:contentDescription="@string/desc"/>

<ImageView
    android:id="@+id/imageView2"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:src="@drawable/bear_n"
    android:onClick="onClick"
    android:contentDescription="@string/desc" /> 
```

这是 .java 文件。

```
import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageView;

public class VTFCActivity extends Activity implements View.OnClickListener{

ImageView image;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    image = (ImageView) findViewById(R.id.imageView1);
    ImageView image1 = (ImageView) findViewById(R.id.imageView1);
    ImageView image2 = (ImageView) findViewById(R.id.imageView2);

    image1.setOnClickListener(this);
    image2.setOnClickListener(this);

}
public void onClick(View v) {
    switch (v.getId()){

    case R.id.imageView1:
        image.setImageResource(R.drawable.bear);
        break;
    case R.id.imageView2:
        image.setImageResource(R.drawable.bear_n);
        break;          
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T12:36:05.767

当你使用

```
image1.setOnClickListener(this);
image2.setOnClickListener(this); 
```

您必须覆盖 Android API 中的默认 onClick() 方法：

```
@Override
public void onClick(View v) 
```

也在xml中设置`android:onClick="onClick"`

将让您处理自定义 onClick 方法中的单击事件

这就是向你抛出异常的方式：告诉你有一个重复的方法！

所以你有两个选择：

1.  删除`android:onClick="onClick"`：这就是我要做的

2.  `image1.setOnClickListener(this);` `image2.setOnClickListener(this);`在自定义 onClick() 方法上删除和处理点击

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:12:12.860

> 现在尝试为图像设置 onclick，以便显示下一张图像。我已将 android:onClick="onClick" 添加到 main.xml 中的图像视图。

如果您已将 android:onClick="onClick" 添加到 main.xml 中的两个图像视图中，您应该从代码中删除`image1.setOnClickListener(this);`和`image2.setOnClickListener(this);` ，因为您已经在 main xml 中指定了它。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2015-06-13T09:45:06.053

这是代码...

```
public class MainActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    Button b = (Button) findViewById(R.id.button1);
    b.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View arg0) {

            final Dialog dl = new Dialog(MainActivity.this);

            dl.setContentView(R.layout.cdialog);

            dl.setTitle("Title");

            TextView txt = (TextView) dl.findViewById(R.id.textView1);

            txt.setText("Hi \n How are you \n" +
                    "Where were you \n Good to see you");

            Button btn = (Button) dl.findViewById(R.id.button1);
            btn.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View arg0) {

                    dl.dismiss();

                }
            });
            dl.show();
        }
    });
}
} 
```

# c# - 如何获取数据表的最后 5 行？

> ID：10895359
> 
> 赞同：4
> 
> 时间：2012-06-05T10:08:48.227
> 
> 标签：c#, datatable, take

如何获取数据表的最后 5 行？我试过这样的事情：

```
var Long_bottom = LongSlection.Last(5); 
```

其中 LongSlection 是一个 DataRow。但我有一个错误，你知道吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-05T10:25:07.583

不知道你在这里得到了什么

> var Long_bottom = LongSlection.Last(5);

假设您有一个 DataTable 并且您想要获取最后 5 行，您可以通过

```
datatable1.AsEnumerable().Reverse().Take(5); 
```

`Take`并`Skip`返回特定数量的元素（参数为 int），而`Last`您获得最后一个元素则不是这种情况，或者您需要一个谓词来检查条件或在行内进行检查。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:14:03.740

这应该这样做。但它未经测试！

```
IEnumerable<DataRow> lastRows = table.AsEnumerable().Skip(table.Rows.Count - 2).ToList(); 
```

或者：

```
table.AsEnumerable().Reverse().Take(2); 
```

编辑：根据 OPs 请求，修改为获得最后两个。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:16:51.803

怎么样

```
Datarow[] dr = dt.Rows.Cast<DataRow>().Skip(dt.Rows.Count - 5).ToArray(); 
```

**或者**

```
dt.Rows.Cast<DataRow>().Reverse().Take(5); 
```

这里 5 是最后要占用的行数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-02-19T19:22:48.660

我需要[`CopyToDataTable()`](https://docs.microsoft.com/en-us/dotnet/api/system.data.datatableextensions.copytodatatable?view=netframework-4.8)把事情做好：

```
dt = dt.AsEnumerable().Reverse().Take(5).CopyToDataTable(); 
```

# mysql - MySQL 多对多表：获取结果数量

> ID：10895363
> 
> 赞同：0
> 
> 时间：2012-06-05T10:09:03.703
> 
> 标签：mysql

我有一个包含三个表的数据库：`USERS` `PHOTOS` `LIKES`基本大纲如下：

```
USERS:
user_id
name

PHOTOS:
photo_id
title
url
user_id

LIKES:
user_id
photo_id 
```

我想要做的是让用户喜欢很多照片并拥有很多用户喜欢的照片。

显然，我想按喜欢的数量来排序这些照片，我可以用 a`JOIN`和`COUNT()`

我无法弄清楚我需要做的是返回每张照片的“喜欢”数量。我该怎么做？

我当前的 SQL 是：

```
SELECT 
  photos.photo_id,
  photos.title,
  photos.url,
  users.name
FROM photos
LEFT OUTER JOIN users
ON users.user_id = photos.user_id
LEFT OUTER JOIN likes
ON likes.photo_id = photos.photo_id
GROUP BY likes.photo_id
ORDER BY COUNT(*) DESC
LIMIT 20 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:12:56.077

只需添加`COUNT(*)`到您的选择列表：

```
SELECT 
  photos.photo_id,
  photos.title,
  photos.url,
  users.name,
  COUNT(*)
FROM photos
LEFT OUTER JOIN users
ON users.user_id = photos.user_id
LEFT OUTER JOIN likes
ON likes.photo_id = photos.photo_id
GROUP BY likes.photo_id
ORDER BY COUNT(*) DESC
LIMIT 20 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:25:08.850

试试这个，

```
SELECT 
    photos.photo_id,
    photos.title,
    photos.url,
    users.name, 
    COUNT(*) AS COUNT 
FROM photos, users 
WHERE users.user_id = photos.user_id
LEFT OUTER JOIN likes
ON likes.photo_id = photos.photo_id
GROUP BY likes.photo_id ORDER BY COUNT(likes.photo_id) DESC 
```

# java - 选择并突出显示自定义列表视图项

> ID：10895373
> 
> 赞同：0
> 
> 时间：2012-06-05T10:09:36.003
> 
> 标签：java, android, listview

我想定位自定义列表视图项

```
listView.setSelection(itemIndex); 
```

所选项目定位在列表视图可见部分的顶部。但没有突出显示。如何在不重新创建列表视图的情况下设置列表视图项目的默认突出显示（然后禁用突出显示并选择另一个）

谢谢！

ps 我知道它之前被问过很多次，但我不明白它是如何工作的

**更新** 不适用于我的 android 2.2（adt 模拟器和带有 android 2.2 froyo 的智能手机）

可绘制/列表选择器.xml

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">

<item android:drawable="@color/red" android:state_focused="true"/>
<item android:drawable="@color/yellow" android:state_selected="true"/>
<item android:drawable="@color/red" android:state_pressed="true"/>

</selector> 
```

值/colors.xml

```
<?xml version="1.0" encoding="utf-8"?>
<resources>

    <color name="black">#000000</color>
    <color name="white">#ffffff</color>
    <color name="yellow">#ffff00</color>
    <color name="red">#ff0000</color>
</resources> 
```

布局/list1.xml

```
<ListView
    android:id="@android:id/list"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:background="@drawable/listselector"
    android:clickable="true" >
</ListView> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T10:14:16.223

您将需要一个选择器将其添加到 xml 中的布局中

```
android:clickable="true"
android:background="@drawable/selector" 
```

`selecor.xml`并`drawable`像这样创建一个文件夹

```
<?xml version="1.0" encoding="utf-8"?> 
<selector xmlns:android="http://schemas.android.com/apk/res/android">   
    <item android:state_selected="true" 
        android:drawable="@color/red"/> 
 </selector> 
```

最后在`values`文件夹中`colors.xml`

```
<?xml version="1.0" encoding="utf-8"?>
    <resources>
        <color name="black">#000000</color> 
        <color name="white">#ffffff</color>
        <color name="red">#ff0000</color>
    </resources> 
```

并打电话

```
listView.requestFocusFromTouch(); 
```

前

```
listView.setSelection(itemIndex); 
```

# javascript - 想要附加 URL 以及想要提交带有 HTML 的 Get 请求的表单

> ID：10895374
> 
> 赞同：1
> 
> 时间：2012-06-05T10:09:37.240
> 
> 标签：javascript, model-view-controller, servlets, get

在我的 JSP 页面中，我有一个标签。我在 java 脚本中设置的这个标签的 URL 调用 servlet.so 基本上所有参数都通过 GET 请求传递。

上面的工作很好，因为它生成了当前表单数据的 pdf，因此在 URL 中用户可以看到所有参数。

现在的问题是我已经添加了一个参数来发送到 servlet 获取请求，这个参数很长。所以它给出了错误。“太长的 URI 请求”。我正在 seding 的数据是 javascript 变量。

我无法将其更改为发布，因为我还希望在 URL 中传递一些数据。我添加的参数（大的参数）可以是隐藏变量等等..???

所以你能建议我该怎么做吗？

```
 <div class="pdflink">
 <a id="pdfLinkForGroup" href="" onclick="getPDF('<%=reportID%>','',reportTitle)"> <img src="/images/PdfIcon.jpg" class="pdflink"></img></a></div> 
```

**获取PDF功能：**

```
aTag=document.getElementById("pdfLinkForSingle");
var queryString = "?"+qry+qString+"&offset=" + offset + "&limit=1000"+"&imgwidth="+imgWidth+"&imgheight="+imgHeight+lastorderby+lastordertype+"&path=/tmp/pdf.xml&svgData="+encodeURIComponent(svgData);
var url = conPath+"/pdf/"+encodeURIComponent(reportName)+".pdf" + queryString + searchQuery;
aTag.target="blank";
aTag.href=url; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-26T09:22:48.103

我认为您可以在以下 URL 中找到答案，该 URL 讨论了您可以在浏览器中放置的最大 URL 长度。

问题似乎是你放了一个长 URL，有两种解决方案： - 修改你在 url 中的参数，缩小它们！- 使用 POST 将参数发送到您的服务器

[不同浏览器中 URL 的最大长度是多少？](https://stackoverflow.com/questions/417142/what-is-the-maximum-length-of-a-url-in-different-browsers)

享受 ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T11:01:43.410

这是因为在服务器上启用了 DOS。尝试增加`MAX URI REQUEST SIZE`服务器 DOS 配置中的值。

# http - TCP 终止

> ID：10895383
> 
> 赞同：0
> 
> 时间：2012-06-05T10:10:03.960
> 
> 标签：http, tcp, communication

HTTP 会话结束后 TCP 连接发生了什么？
例如，从网络服务器加载静态网页后

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T11:48:53.540

HTTP 会话通常是指服务器保持与特定用户的关联，并且可能具有任意长度（例如，使用 cookie 作为关联令牌）。

因此，一个 HTTP 会话通常包含多个 TCP 会话。对于非持久 HTTP 连接，每个请求都有自己的 TCP 会话（并在之后关闭）。另一方面，对于持久的 HTTP 连接，可以在 TCP 会话中获取多个 HTTP 资源，并且任何一方都将在任何一方达到超时阈值时关闭它。

[关于持久 HTTP 连接的 Wikipedia 文章](http://en.wikipedia.org/wiki/HTTP_persistent_connection)（Keep-Alive：true）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:15:25.643

一个 TCP 连接中可以有多个 HTTP 请求。因此，如果您将 HTTP 会话称为一组 HTTP 请求/响应，则 TCP 连接将被关闭。

在 TCP 级别，关闭端发送一个设置了 FIN 标志的数据包，另一端用 ACK 确认这一点，然后立即或最终执行自己的 FIN，第一个用 ACK 再次确认。也有可能使用 RST 而不是 FIN 标志放弃连接。发送第一个 FIN 的端口进入 TIME_WAIT 状态。这用于拒绝随后到达的数据包，否则会被误解为新连接的数据包。超时后，端口从 TIME_WAIT 状态变为 CLOSED 状态。

编辑：正常终止由 FIN 标志指示。

# c - 无法理解为什么变量 i 设置为零？

> ID：10895389
> 
> 赞同：1
> 
> 时间：2012-06-05T10:10:16.163
> 
> 标签：c

我不明白为什么在初始化为零之后`i`设置为`0`正确。`array`

该程序运行良好，因为我`reinitialized` `value of k`必须`i`。但我不知道为什么`i`会变成`0`. 为什么`memset()`要清除数组或将数组设置为`0`？

```
#include <stdio.h>
#include <stdlib.h>
#include <windows.h>
int main()
{
    long long int i = 123456789;
    long long int j = 987654321;
    long long int cnt = 0;
    int array[9] ;
    int xyz, k, x, rem, se;
    xyz = 0;

 //   printf("I = %llf", i);
    for (i; (i < j) && (cnt < 100000); i++)
    {
        k = i;
        x = 0;
        for (se = 0; se <= 9; se++)
        {
            array[se] = 0;
        }

/*************************************************/

        i = k;   // Here i becomes zero. Why?

/************************************************/

        //memset(array, 0, 9);   

        while(k != 0)
        {
            rem = k % 10;
            for(se = 0; se <= 9; se++)
            {
                if(rem == array[se])
                {
                    xyz = 1;
                    break;
                }

            }
            if(rem == array[se])
                {
                    xyz = 1;
                    break;
                }
            array[x++] = rem;
            k = k / 10;
        }
        if (xyz != 1)
        {
            cnt++;
        //    printf("Cnt = %d  ", cnt);
        //    printf("The value i is = %lld\n", i);
        //    Sleep(10);
        }
        xyz = 0;
        // printf("The value i is = %lld\n", i);
        // printf("Cnt = %d  \n", cnt);
        fflush(stdin);
    }
    printf("The value i is = %lld \n", i-1);
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T10:15:38.600

你有一个缓冲区溢出；由于缓冲区在堆栈上，它可能被视为堆栈溢出^(†</sup>的一种形式。)

```
int array[9];    // Elements array[0] .. array[8]
...

for (se = 0; se <= 9; se++)
{
    array[se] = 0;
} 
```

一定`k`是被额外的 0 覆盖；`i`赋值为 0，因为这是`k`. 当您在数组边界之外写入时，您会调用“未定义的行为”，就像您在此处所做的那样。未定义的行为意味着任何事情都可能发生并且没关系。有时，它似乎会起作用；有时，会有意想不到的副作用。不惜一切代价避免“未定义的行为”。

惯用的`for`循环是：

```
for (se = 0; se < 9; se++)
    array[se] = 0; 
```

请注意，`<`而不是`<=`.

^(†</sup>*有些人不同意。见评论。*)

* * *

您还询问（已注释掉）调用`memset()`：

```
//memset(array, 0, 9); 
```

第三个参数 to`memset()`是要设置的内存区域的大小（以字节为单位）。您在数组中总共（可能）36 个字节中设置了 9 个字节，这不太可能是您想要的。

在这里，数组是在同一个函数中定义的，所以写起来是安全且明智的：

```
memset(array, 0, sizeof(array)); 
```

如果`array`是传递给函数的参数，那将无法正常工作；你需要一个不同的尺寸。例如：

```
void somefunc(int array[], int num)
{
    ...
    memset(array, 0, num * sizeof(array[0]));
    ...
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:14:52.757

您正在覆盖数组的末尾。

```
int array[9] ;

for(se = 0; se <= 9; se++)
{
    array[se] = 0;
} 
```

在 C 中，数组是从 0 开始索引的，所以循环往前走一步。惯用的语法是：

```
for(se = 0; se < 9; se++) 
```

换句话说，使用`<`元素的数量作为值。通常用来删除可怕的数字常量，如下所示：

```
for(se = 0; se < sizeof array / sizeof *array; se++) 
```

这使用`sizeof`运算符自动（在编译时）计算正确的元素数量，因此如果您更改`array`定义，循环*仍然是正确*的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-05T14:02:40.133

检查这一点的一种方法是通过打印**&x**和**&array[9]**来检查 x 和 array[9] 的指针。

如果它们相同，那么您肯定会如上所述覆盖。

# objective-c - 自动更新订阅：检测差距

> ID：10895390
> 
> 赞同：0
> 
> 时间：2012-06-05T10:10:23.507
> 
> 标签：objective-c, ios, in-app-purchase

我正在开发一个提供数字杂志和其他期刊的应用程序。为了集成自动更新订阅和大量研究，我遇到了检测订阅间隙的问题。

假设用户订阅了一个月，选择退出半年，然后再次订阅。使用苹果推荐的基于服务器的架构来构建审计跟踪和整个收据，跟踪用户的订阅历史将非常简单。但是，如果在取消订阅期间没有用户触发的交易活动，我们将永远不会收到*过期*的返回值。因此，该应用程序将识别有效订阅并解锁在没有实际订阅时发布的任何内容。

我不确定我是否遗漏了重要的一点，因为到目前为止我还没有在网上找到任何有用的信息。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T10:29:10.453

在服务器上安排一个 cron 作业怎么样，它将每天验证所有当前收据一次？或者，也许您为此找到了另一个可行的解决方案？

# json - 这是一个有效的 JSON 对象吗？

> ID：10895391
> 
> 赞同：1
> 
> 时间：2012-06-05T10:10:27.430
> 
> 标签：json, jsonp

这是一个有效的 JSON 对象吗？

```
 serverStatus("amerika": 
   [{
    "server": "1",
    "ah_gold": "1",
    "ah_hardcore": "1",
    "ah_usd": "0",
    "ah_aud": "0",
    "ah_mxn": "0",
    "ah_brl": "0",
    "ah_clp": "0",
    "ah_ars": "0"
   }], "asien": 
   [{
    "server": "1",
    "ah_gold": "1",
    "ah_hardcore": "1"
   }], "europa": 
   [{
    "server": "1",
    "ah_gold": "1",
    "ah_hardcore": "1",
    "ah_eur": "0",
    "ah_gbp": "0",
    "ah_rub": "0"
   }]) 
```

JSONP 请求已成功完成，但在 javascript 中

```
var server = data.asien[0].server; 
```

失败..
有什么解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:12:50.993

`{`您在开头和`}`结尾都缺少 a ：

```
serverStatus({"amerika":[{"server":"1","ah_gold":"1","ah_hardcore":"1","ah_usd":"0","ah_aud":"0","ah_mxn":"0","ah_brl":"0","ah_clp":"0","ah_ars":"0"}],"asien":[{"server":"1","ah_gold":"1","ah_hardcore":"1"}],"europa":[{"server":"1","ah_gold":"1","ah_hardcore":"1","ah_eur":"0","ah_gbp":"0","ah_rub":"0"}]}) 
```

如果你对数字感兴趣，不要把它们放在引号之间，那是没有用的。

最简单的测试对象是打开 chrome 开发者工具并输入

```
console.log(... you object here ...) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:13:52.373

不，它不是一个有效的 JSON 对象：

你可以在这里查看：http: [//jsonlint.com/](http://jsonlint.com/)

```
Parse error on line 1: 
    "amerika":[{"server"
    ^
    Expecting '{', '[' 
```

# php - 包含重复条目的列表

> ID：10895394
> 
> 赞同：0
> 
> 时间：2012-06-05T10:10:29.437
> 
> 标签：php, mysql, zend-framework

我有一个小问题。首先，我有以下表格：“groups”、“pages”和联结表“subcriptions”

这背后的想法是一个组（有用户）可以订阅一个页面。用户可以将页面作为订阅添加到他所在的组。（多对多）。有关信息：一个用户可以在多个组中。

作为 UI 的一部分，我想列出一个关于它的列表。从每个组中，我都想要相关的页面。例如：（组：...页面：-....，-.... | 组：...页面：-....，-.... 等）

SQL 查询不是问题：

```
SELECT Groups.name, pages.name, pages.id
FROM Groups
JOIN subscriptions ON groups.id = subscriptions.group_id
JOIN pages ON subscriptions.page_id = pages.id
WHERE groups.id IN ('1', '2')   // de values 1 & 2 zijn voorbeelden en stellen de groepen id's voor waarin de huidige gebruiker zit. 
```

例如，结果将如下所示：

```
group name ---- page name ---- page id
group1 -------- page1 --------- 1
group1 -------- page2 --------- 2  
group2 -------- page1 --------- 1 
```

我的问题是；我怎样才能得到一个（html）列表，其中我得到一个组名和该组的所有相关页面？（就像我之前提到的例子）。我需要一个 php 解决方案。（我正在使用 Zend 框架，但我在 Zend 中找不到可以实现我想要的技巧的解决方案）

还是必须对每个组进行一次查询？不过我想避免这种情况..

我是这个 mysql 和 php 世界的新手，所以每一个帮助都值得分配！谢谢。:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:21:13.033

一个非常基本的实现如下：

*   遍历mysql结果
*   构建一个二维数组，以组为第一维，相关页面为第二维
*   在您的 html 模板中，获取您的数组并使用外部循环来遍历您的组，并使用内部循环来获取每个组的页面

干杯:)

# android - 线性和相对布局的 Android XML 对齐问题。

> ID：10895397
> 
> 赞同：0
> 
> 时间：2012-06-05T10:10:52.840
> 
> 标签：android, android-xml

我想在 Android XML 中设计这个布局

![在此处输入图像描述](../Images/09b9cbe4a827ce120cb7ae77b1f179db.png)

我编写了 xml 并且没有放置“TEXT VIEW 2”代码就可以正常工作。

这是我没有放置 TEXT VIEW 2 的 XML 文件：-

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:background="@drawable/txtbackground"

    >

<RelativeLayout 
    android:layout_height="wrap_content"
    android:layout_width="wrap_content"
    android:id="@+id/header"
    >

    <!-- This is TEXTVIEW 1 -->
    <TextView 
    android:id="@+id/TEXTVIEW1"
        android:text="ITEM"
        android:layout_alignParentRight="true"
        android:background="@drawable/txtbackground"
        android:layout_alignTop="@+id/list_image"
        android:layout_toRightOf="@+id/list_image"
        android:layout_width="wrap_content"
        android:textSize="18dip"
        android:layout_height="100dip"
        android:textColor="#000000"
        android:textStyle="bold"

    />

    <ImageView     
    android:id="@+id/list_image"   
    android:layout_alignParentLeft="true"
        android:layout_width="100dip"
        android:layout_height="100dip"
        android:src="@drawable/image"
    />

</RelativeLayout>

    <!-- WebView  -->
    <LinearLayout android:id="@+id/thumbnail"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:padding="0dip"
        android:layout_below="@+id/header"
        android:layout_marginTop="5dip"
        > 

        <WebView
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/webkit"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_alignParentLeft="true"

    />

    </LinearLayout>    

</RelativeLayout> 
```

谁能建议我应该把 TEXTVIEW2 代码放在哪里，它就像我给定的图形布局图像一样工作。

TEXTVIEW 2 的代码与 TEXTVIEW 1 相同：-

```
<!-- This is TEXTVIEW 2 -->
        <TextView 
        android:id="@+id/TEXTVIEW2"
            android:text="ITEM"
            android:layout_alignParentRight="true"
            android:background="@drawable/txtbackground"
            android:layout_alignTop="@+id/list_image"
            android:layout_toRightOf="@+id/list_image"
            android:layout_width="wrap_content"
            android:textSize="18dip"
            android:layout_height="100dip"
            android:textColor="#000000"
            android:textStyle="bold"

        /> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:18:37.297

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical" android:layout_width="fill_parent"
    android:layout_height="fill_parent">

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:src="@drawable/icon" />

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_marginLeft="24dp"
        android:layout_toRightOf="@+id/imageView1"
        android:text="Large Text"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/textView1"
        android:layout_below="@+id/textView1"
        android:text="Large Text"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <WebView
        android:id="@+id/webView1"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/textView2" />

</RelativeLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:18:28.753

```
<LinearLayout 
android:layout_height="wrap_content"
android:layout_width="wrap_content"
android:orientation="vertical"
  android:layout_alignParentRight="true"
>
<!-- This is TEXTVIEW 1 -->
<TextView 
android:id="@+id/TEXTVIEW1"
    android:text="ITEM"

    android:background="@drawable/txtbackground"
    android:layout_alignTop="@+id/list_image"
    android:layout_toRightOf="@+id/list_image"
    android:layout_width="wrap_content"
    android:textSize="18dip"
    android:layout_height="100dip"
    android:textColor="#000000"
    android:textStyle="bold"

/>

<!-- This is TEXTVIEW 2 -->
    <TextView 
    android:id="@+id/TEXTVIEW2"
        android:text="ITEM"
        android:layout_alignParentRight="true"
        android:background="@drawable/txtbackground"
        android:layout_alignTop="@+id/list_image"
        android:layout_toRightOf="@+id/list_image"
        android:layout_width="wrap_content"
        android:textSize="18dip"
        android:layout_height="100dip"
        android:textColor="#000000"
        android:textStyle="bold"

    /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:19:42.803

将其放置在`TEXTVIEW1`附加属性之后

```
android:layout_toRightOf="@id/TEXTVIEW1" 
```

* * *

此外，无需`WebView`单独放置`LinearLayout`. 只需在`WebView`声明中添加以下内容：

```
android:layout_below="@id/list_image" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-05T10:22:37.147

你可以把它放在你的代码中的任何地方，RelativeLayout 根据它们的参数而不是它们列出的顺序来布局元素。如果它没有正确显示，那是因为你的 android: 参数，在这种情况下，它具有完全相同的事实作为 TextView1 的参数意味着 Android 会将其转储到 TextView1 的顶部 - 如果将视图放在同一个位置，RelativeLayout 会将视图堆叠在一起。

要在 TextView1 下获取它，您应该使用以下内容：

```
<TextView 
    android:id="@+id/TEXTVIEW2"
        android:text="ITEM"
        android:background="@drawable/txtbackground"
        android:layout_alignLeft="@+id/TEXTVIEW1"
        android:layout_below="@+id/TEXTVIEW1"
        android:layout_width="wrap_content"
        android:textSize="18dip"
        android:layout_height="100dip"
        android:textColor="#000000"
        android:textStyle="bold"

    /> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-05T10:23:11.650

您似乎误解了`RelativeLayout`- 的概念，以避免不必要的`ViewGroup`s 嵌套。

我建议这样的东西（伪XML）：

```
RelativeLayout ->
  ImageView (aligned to top-left corner, with some padding)
  TextView (aligned to right of ImageView and to top, with padding)
  TextView (aligned to right of ImageView and to bottom of previous TextView, with padding)
  WebView (aligned to bottom of ImageView) 
```

看？关键是，当您使用 a`RelativeLayout`作为根元素时，您不需要在彼此内部有很多嵌套`ViewGroup`的 s (like )。`LinearLayout`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-05T10:23:15.767

在你的 Textview 2 中试试这个

```
android:layout_above="textView 1"
android:layout_alignRight="image view" 
```

# javascript - 将 javascript 提示转换为 html 表单

> ID：10895404
> 
> 赞同：0
> 
> 时间：2012-06-05T10:11:34.397
> 
> 标签：javascript, html, forms

我正在尝试将一些为用户提供提示的 javascript 转换为在跨度中显示输出的 html 表单。我一直在网上搜索，但没有找到一种我能理解的方法。

这是我的代码：http: [//jsfiddle.net/nickykw/tMXmj/15/](http://jsfiddle.net/nickykw/tMXmj/15/)

我希望脚本的输出显示在“outp”跨度中。如果有人能指出我正确的方向，我将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:22:33.490

如果您被允许使用 jQuery 并且您为控件命名，这将对您有所帮助。如果您不允许使用 jQuery，我希望您能理解。

```
$(document).ready(function(){
    $('.submit-button').click(function(e){
        e.preventDefault();
        var number = parseInt($('.submit-input').val());
        $('#outp').html(num2Letters(number));       
    });
}); 
```

小提琴：http: [//jsfiddle.net/Q2P7H/](http://jsfiddle.net/Q2P7H/)

# mahout - 使用 lucene.vector 使用 mahout 对 solr 索引进行矢量化

> ID：10895405
> 
> 赞同：2
> 
> 时间：2012-06-05T10:11:35.853
> 
> 标签：mahout, amazon-emr

我正在尝试使用 Mahout 在 Amazon EMR 上运行集群作业。我有一个在 S3 上上传的 solr 索引，我想使用 mahouts lucene.vector 对其进行矢量化。（这是工作流程中的第一步）

该步骤的参数为：

*   罐子：s3n://mahout-bucket/jars/mahout-core-0.6-job.jar
*   MainClass：org.apache.mahout.driver.MahoutDriver
*   Args: lucene.vector --dir s3n://mahout-input/solr_index/ --field name --dictOut /test/solr-dict-out/dict.txt --output /test/solr-vectors-out/vectors

日志中的错误是：

> 选择了未知程序“lucene.vector”。

我已经在本地使用 hadoop 和 Mahout 完成了相同的过程，并且效果很好。我应该如何在 EMR 上调用 lucene.vector 函数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T14:06:14.417

程序名称，lucene.vector 应该紧跟在 bin/mahout 之后

/homes/cuneyt/trunk/bin/mahout lucene.vector --dir /homes/cuneyt/lucene/index --field 0 --output lda/vector --dictOut /homes/cuneyt/lda/dict.txt

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T14:12:19.667

我终于找到了答案。问题是我使用了错误的 MainClass 参数。代替

```
org.apache.mahout.driver.MahoutDriver 
```

我应该使用：

```
org.apache.mahout.utils.vectors.lucene.Driver 
```

因此，正确的论点应该是

*   罐子：s3n://mahout-bucket/jars/mahout-core-0.6-job.jar 主类：
*   org.apache.mahout.utils.vectors.lucene.Driver
*   Args: --dir s3n://mahout-input/solr_index/ --field name --dictOut /test/solr-dict-out/dict.txt --output /test/solr-vectors-out/vectors

# web - 所有主流浏览器允许的最大 HTTP 重定向次数是多少？

> ID：10895406
> 
> 赞同：15
> 
> 时间：2012-06-05T10:11:50.250
> 
> 标签：web, max, http-redirect

我正在设计一个网站，分布在许多服务器上，并且有些页面我需要连续链接多达 4 个重定向。我尝试了一些浏览器（firefox、chrome、IE），它似乎工作正常。

显然，Firefox 的默认限制是连续重定向 20 次，Chrome 的默认似乎是 20 次，而 IE8 的限制似乎是 10 次重定向。

所有主流浏览器允许的最大 HTTP 重定向次数是多少？是10吗？

**编辑**：

为什么我需要 4 个重定向？基本上，用户在一个热点中，她试图去（比如）google.com，有一个本地强制门户网站捕获请求并将用户重定向（#1）到本地服务器。本地服务器检查有关用户的一些信息，但如果它在本地没有数据，它会将用户重定向（#2）到中央网站。如果用户已经登录到这个中央网站，她会被重定向（#3）到另一个服务器（根据用户的不同有不同的门户）。最后，服务器检查用户的权限，如果她有适当的权限，则最终（#4）重定向到本地访问控制器，以便访问适当的服务。相信我，我尽了最大努力删除重定向，但我看不出哪里可以优化。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-05T10:16:23.087

4 重定向应该适用于所有主要浏览器。但是，请考虑减少数量以便为用户提供更快的体验。每个重定向都需要用户和服务器之间的往返行程（如果重定向到不同的服务器，则需要创建新连接）。总的来说，延迟会很显着，可能会惹恼您的用户。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2020-10-08T01:00:43.413

我也对此感到好奇，但没有找到有关每个浏览器的最大重定向次数的信息。因此，我尝试使用此 PHP 代码对我拥有的每个 Web 浏览器自己进行测试：

```
<?php
$count = $_GET["c"] ?? 0;
$next = $count+1;
header('Location:'.$_SERVER['PHP_SELF'].'?c='.$next);
exit; 
```

结果是：

*   20 = 火狐
*   19 = Chrome、Opera、Brave、Opera Mini、Puffin、UC 浏览器等（可能都是基于闪烁的浏览器）
*   16 = 野生动物园

* * *

## 问题：所有主流浏览器允许的最大 HTTP 重定向次数是多少？是10吗？

## 答：根据我的测试，所有主流浏览器允许的最大值是 16。

* * *

但我无法测试 IE/Edge，因为我没有 Windows 操作系统。由于 Microsoft Edge 使用 Blink 引擎，所以我认为最多 19 个。您可以使用您自己的服务器或[此链接](https://redirect.gj.lc)（我的）测试上述代码。显示 ERR_TOO_MANY_REDIRECTS 错误之前的最后一个 URL 查询编号是最大重定向。

# html - 对跨度元素进行排序，与文本方向无关

> ID：10895408
> 
> 赞同：3
> 
> 时间：2012-06-05T10:12:10.350
> 
> 标签：html, css, right-to-left

假设我们有许多将 'dir' 指定为 RTL 的 span 文本元素（2 个或更多）：

```
<div dir="rtl">
<span>First-Element</span>
<span>Second-Element</span>
<span>Third-Element</span>
</div> 
```

我们希望它们按从右到左的顺序出现：

```
Third-Element Second-Element First-Element 
```

如果文本元素具有 RTL 方向性（来自阿拉伯语、波斯语、希伯来语等的文本），或者它们与 RTL 元素交错，则此方法可以正常工作：

```
<div dir="rtl">
<span>First-Element-RTL</span>
<span>Second-Element-RTL</span>
<span>Third Element-RTL</span>
</div> 
```

或者：

```
<div dir="rtl">
<span>First-Element-LTR</span>
<span>Second-Element-RTL</span>
<span>Third Element-LTR</span>
</div> 
```

但是，如果所有元素都是 LTR 方向性的，则使用语言的顺序，我们会得到**不希望的顺序**：

```
First-Element Second-Element Third-Element 
```

我们如何才能实现元素的固定顺序，而与元素中文本的方向性无关——也就是说，技术（无论是 html 还是 css）应该与单个文本元素的语言无关。

当 span 元素的内容是可变的并由用户提供时，就会出现此问题，例如，用户名可以是 RTL 语言或英语。

**编辑**

我必须强调，我们讨论的是相对于彼此对文本跨度进行排序，而不是改变文本本身的流向，因此“English Text”应该按原样显示，而不是“txeT hsilgnE”。

**编辑**

这是一个简单的 HTML 片段，用于测试 Jukka 提供的答案。这显示为向右对齐的“bar foo”。它显示（至​​少在我的浏览器上）不需要`{ unicode-bidi: bidi-override; }`在容器级别获得所需的结果。

```
<html>
<head>
    <style type="text/css">
        span { unicode-bidi: embed; }
    </style>
</head>
<body>
<div dir="rtl">
<span>foo</span>
<span>bar</span>
</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T11:22:04.887

```
div { unicode-bidi: bidi-override; }
span { unicode-bidi: embed; } 
```

第一条规则强制一个特定的方向，在本例中为 HTML 中设置的 RTL，覆盖文本的固有方向性（这取决于字符的方向性属性）。

第二条规则使每个`span`元素在方向性上成为一个“自治岛”，即其中的文本方向不受封闭元素的影响，而仅受元素本身的属性和字符的方向性属性的影响。因此，例如拉丁字母从左到右排列，希伯来字母和阿拉伯字母从右到左排列。

不过有一个问题。如果 a`span`包含，比如说，“foo (2)”，它将被渲染为“(foo (2”)。原因是元素具有 RTL 方向，从父级继承。虽然`dir`属性，以及`direction`属性, 仅设置弱方向性（不影响例如具有强 LTR 方向性的拉丁字母序列），它影响例如涉及括号的情况。括号具有不明确的方向性，因此根据弱方向性设置对其进行处理。

恐怕这部分使用没有简单的方法。您当然可以`span`根据您期望的最常见情况设置元素的方向性，例如`span { direction: ltr; }`如果您期望文本主要是英文。但对于真正的解决方案，您需要根据内容的语言来控制弱方向性设置。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:28:22.977

如果它只是`<span>`您需要按 LTR 顺序拥有的元素，我会简单地`dir="rtl"`从 parent 中删除声明`<div>`，或者如果它设置在更高的父级别，则通过 include 使用它来覆盖`<div>`它`dir="ltr"`。

您也可以通过 CSS 将其强加给孩子：

```
div {direction: ltr;}
div span {direction: ltr;} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-06T23:58:28.490

以下内容不能实现您的目标吗？
请原谅我误解了你的问题，因此是问号。

```
[dir="rtl"] > span {
    display: inline-block;
} 
```

[**Jsfiddle 示例**](http://jsfiddle.net/gR9gR/)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-03-03T18:46:26.093

如果您仍想在每个字符串上使用 LTR，请将您的`span`元素替换为 a`table`和`td`元素。是的，您通常应该避免使用这样的单行表格（人们告诉您使用`div`or`span`代替），但似乎没有其他东西在浏览器之间一致呈现，如果 a`table`在 HTML 中`dir`设置为`RTL`，则 a 中的`td`元素`tr`将被呈现第一个在右边，第二个在左边，依此类推，即使连续`td`的元素`dir`设置为`LTR`. 另一方面，设置为 LTR 的连续`span`元素在非 IE 浏览器中呈现时，如果碰巧在它们之外有一些从左到右的文本，它们似乎会作为单个元素聚集在一起。

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="rtl"> <!--Direction marker in the HTML tag.-->
<head>
    <style type="text/css">
        table.ltrCells {
            border-collapse: collapse; /* Removes extra borders */
            display: inline-table; /* Keeps the table from appearing on its own line. */
            vertical-align: bottom; /* Lines up the table text with previous and next text. */
        }
            table.ltrCells tbody tr td {
                padding-bottom: 0px; /* If not 0, text before and after the table gets pushed down. */
            }
    </style>
    <title>Tester</title>
</head>
<body>
    <span dir="rtl">Here's some stuff before</span>
    <table class="ltrCells">
        <tr>
            <td dir="ltr">first</td>
            <td dir="ltr">(Two) Second.</td>
            <td dir="ltr">שלישי) שלוש)</td>
            <td dir="ltr">ארבעה</td>
            <td dir="ltr">5</td>
            <td dir="ltr">(שישית Six)</td>
        </tr>
    </table>
    <span dir="rtl">and some stuff after.</span>
</body>
</html> 
```

[以下是它在 IE9、Firefox 27 和 Chrome 33 中的呈现方式](http://i.imgur.com/focITDC.png)。我会把图像直接放在这里，但我没有足够的声誉这样做。

出于某种原因，MUST`span`之前和之后的元素都有，否则它们将呈现在表格的错误边上。`table``dir="rtl"`

# android - 为什么文件流需要上下文？

> ID：10895412
> 
> 赞同：0
> 
> 时间：2012-06-05T10:12:19.620
> 
> 标签：android, android-context

在过去的几个月里，我一直在为我的公司开发一个库，并且对每当我将数据存储或加载到内部存储时文件流似乎都需要上下文这一事实感到恼火。

我设计的图书馆是这样工作的：

1.  单例类用于提供和处理钥匙串（包含应用程序密钥和设备 ID）和 authinfo（用户和密码）
2.  每当请求调用 Web 服务时，调用类将尝试获取单例类的实例并通过它获取钥匙串和身份验证信息，如下所示：

    SingletonClass.getInstance().getCredentials(Context ctx);

这样做的结果是，我需要不断地提供调用活动的上下文，因为我的大部分库都围绕着调用以凭据和设备 ID 作为参数的 API 为中心。

我特别指的是这些行：

```
....
          FileOutputStream fos = ctx.openFileOutput(filename,                      
                   Context.MODE_PRIVATE);
          fos.write(buf);
          fos.close(); 
.... 
```

我对为什么需要活动调用的特定上下文感到困惑。任何帮助是极大的赞赏。有没有解决这个设计问题的另一种方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:14:52.920

文件存储 API 由 Context 类提供。所以你需要它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:25:58.313

应用程序上下文应该为此工作 - 您可以考虑使用这种方法：[到处使用应用程序上下文？](https://stackoverflow.com/questions/987072/using-application-context-everywhere)因此您可以轻松获取应用程序上下文，而无需传递它。

# python - 使用保存在本地系统中的 html 抓取文件

> ID：10895419
> 
> 赞同：31
> 
> 时间：2012-06-05T10:12:53.740
> 
> 标签：python, scrapy

例如我有一个站点`"www.example.com"` 实际上我想通过保存到本地系统来抓取该站点的 html。所以为了测试我将该页面保存在我的桌面上`example.html`

现在我已经为此编写了蜘蛛代码，如下所示

```
class ExampleSpider(BaseSpider):
   name = "example"
   start_urls = ["example.html"]

   def parse(self, response):
       print response
       hxs = HtmlXPathSelector(response) 
```

但是当我运行上面的代码时，我收到如下错误

```
ValueError: Missing scheme in request url: example.html 
```

最后，我的意图是抓取`example.html`包含`www.example.com`保存在本地系统中的 html 代码的文件

任何人都可以建议我如何在 start_urls 中分配 example.html 文件

提前致谢

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2014-03-05T19:56:23.510

您可以使用以下形式的 url 抓取本地文件：

```
 file:///path/to/file.html 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-06-05T12:27:23.410

您可以使用 HTTPCacheMiddleware，这将使您能够从缓存中运行蜘蛛。HTTPCacheMiddleware 设置的文档位于[此处](http://doc.scrapy.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings)。

基本上，将以下设置添加到您的 settings.py 将使其工作：

```
HTTPCACHE_ENABLED = True
HTTPCACHE_EXPIRATION_SECS = 0 # Set to 0 to never expire 
```

然而，这需要从网络上运行初始爬虫来填充缓存。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2018-11-20T10:39:50.957

在 scrapy 中，您可以使用以下方法抓取本地文件：

```
class ExampleSpider(BaseSpider):
   name = "example"
   start_urls = ["file:///path_of_directory/example.html"]

   def parse(self, response):
       print response
       hxs = HtmlXPathSelector(response) 
```

我建议你使用 scrapy shell 'file:///path_of_directory/example.html' 检查它

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-05-22T19:08:23.997

只是为了分享我喜欢用本地文件进行这种抓取的方式：

```
import scrapy
import os

LOCAL_FILENAME = 'example.html'
LOCAL_FOLDER = 'html_files'
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))

class ExampleSpider(scrapy.Spider):
    name = "example"
    start_urls = [
        f"file://{BASE_DIR}/{LOCAL_FOLDER}/{LOCAL_FILENAME}"
    ] 
```

我正在使用 f-strings (python 3.6+)( [https://www.python.org/dev/peps/pep-0498/](https://www.python.org/dev/peps/pep-0498/) )，但是您可以根据需要使用 %-formatting 或 str.format() 进行更改.

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-05-01T22:41:13.110

```
scrapy shell "file:E:\folder\to\your\script\Scrapy\teste1\teste1.html" 
```

这适用于我今天在 Windows 10 上。我必须放置不带 //// 的完整路径。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-03-11T05:51:56.157

你可以简单地做

```
def start_requests(self):
    yield Request(url='file:///path_of_directory/example.html') 
```

* * *

## 回答 #7

> 赞同：-6
> 
> 时间：2012-06-05T12:04:49.310

如果您查看 scrapy Request 的源代码，例如[github](https://github.com/scrapy/scrapy/blob/master/scrapy/http/request/__init__.py)。您可以了解scrapy向http服务器发送请求并从服务器获取所需页面作为响应。您的文件系统不是 http 服务器。为了使用scrapy进行测试，您必须设置http服务器。然后你可以将url分配给scrapy

```
http://127.0.0.1/example.html 
```

# sql - 通过parentid删除sql表中的所有子行

> ID：10895421
> 
> 赞同：1
> 
> 时间：2012-06-05T10:13:01.540
> 
> 标签：sql, sql-server, rdbms, cascading-deletes

我有一个表，我从中创建了一个具有多个级别和父级的树。表结构如下所示。

![在此处输入图像描述](../Images/15e8c535fa6131783a96106d49def9bb.png)

当我删除“TitleID”时，我希望删除所有的孩子甚至孙辈。在sql中执行此操作的最简单方法是什么？如果我使用“where ParentID=TitleID”简单地删除，则只会删除具有 1 级深度的子​​项。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-05T10:21:39.740

```
DECLARE @TitleId INT 

SELECT @@TitleId = 2 

;WITH results AS( 
        SELECT  TitleId
        FROM    myTable 
        WHERE   TitleId = @TitleId 
        UNION ALL 
        SELECT  t.TitleId 
        FROM    myTable t 
                INNER JOIN ret r ON t.ParentID = r.TitleId
) 

DELETE FROM myTable WHERE TitleId IN (SELECT TitleId FROM    results ) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:34:57.887

要处理关系数据库中的树结构数据，您可以添加另一列`FullID`，其中包含类似 的值`1.1.3`。`WHERE FullID LIKE '1.1.%'`然后，如果您想删除节点`1.1`及其子节点，您需要的只是一个简单的 where 子句。

的值`FullID`可以由存储过程（针对旧数据）生成，或者更好地由您的应用程序生成（针对新数据）。

# typo3 - DirectMail 标记和 TemplaVoila

> ID：10895424
> 
> 赞同：0
> 
> 时间：2012-06-05T10:13:19.203
> 
> 标签：typo3, templavoila

是否可以使用诸如`###USER_name###`TemplaVoila 模板之类的标记？如果这不可能，是否有替代方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:34:44.090

*（在评论中删除了我的问题，因为我意识到你想要什么）*

DirectMail 的标记可以放置在电视中（它们不会被电视解析），甚至可以放置在某些内容元素中。在 DM 将其用于进一步处理之前，它们只需要在渲染内容中可用。预览您的页面，该页面必须用作 DM 模板，并确保有`###USER_name###`可见（未触及）等标记。

# php - 使用 move_uploaded_file 后如何设置编码？

> ID：10895425
> 
> 赞同：0
> 
> 时间：2012-06-05T10:13:21.053
> 
> 标签：php, character-encoding

我正在保存一个文件，`move_uploaded_file($file['tmp_name'], $save_path . $FileName);`但是当我选择的文件名是阿拉伯文时，该文件以奇怪的字符保存，例如：`ÒíäÈ.pdf`。

所以当我稍后尝试打开上传的文件时，它说找不到文件。（真正的）我该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:05:26.233

您可以对要**转换**为拉丁相似字符的任何字符串使用音译。我**非常自定义的**音译代码如下所示：

```
// convert a utf8-encoded string into latin representative 
function transliterate_string($params=array())
{
   // PARAMS:  "string", "language"

   // 0) fill-in "native" chars by language and their "latin" representative
   $SP_trans = array(
      "ae"=>array("native"=>"ة,بْ,...","latin"=>"a,b,..."),
      ...other langs if you want
   );

   // 1) break "native" & "latin" strings
   $nc = explode(",",$SP_trans[ $params["language"] ]["native"]);
  $lc = explode(",",$SP_trans[ $params["language"] ]["latin"]);
  // 2) convert to lower first
  $string = mb_strtolower($params["string"],"utf-8");
  // 3) loop each character   
  mb_internal_encoding("UTF-8");
  for($x=0,$sz=mb_strlen($string);$x<$sz;$x++) {
     $char = mb_substr($string,$x,1);
     $index = array_search($char,$nc);  
     $out[$x] = ($index===FALSE ? $char : $lc[$index]);
  }
  return trim(implode("",$out));
} 
```

该函数只是扫描一个字符串并以自定义方式将特定字符集的每个字符转换为**拉丁文**。然后您可以`safely`将文件另存为拉丁文。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-05T10:24:23.617

使用时间戳重命名图像名称会更好

```
$imgname = time().'.'.'jpg';
$imgtmpname=$_FILES['file']['tmp_name'];
$fullpath= $path.$imgname;
$filename = $imgname;
move_uploaded_file($imgtmpname,$fullpath); 
```

并将其存储`$imgname`在数据库中，以便我们可以按此名称获取图像。它还可以避免图像之间的名称冲突，因为时间戳会不断变化。

# node.js - JBoss AS 7 和 Node.js 炒作

> ID：10895426
> 
> 赞同：2
> 
> 时间：2012-06-05T10:13:24.340
> 
> 标签：node.js, jboss

我不想将苹果与橙色进行比较，这已经完成，例如：

[http://blog.shinetech.com/2011/06/10/nodejs-from-the-enterprise-java-perspective/](http://blog.shinetech.com/2011/06/10/nodejs-from-the-enterprise-java-perspective/)

[http://adamgent.com/post/10440924094/does-java-have-an-answer-to-node-js](http://adamgent.com/post/10440924094/does-java-have-an-answer-to-node-js)

实际上，我对 JBoss AS 7 没有并发问题，但如果我有，我该怎么办？

我是不是该：

**解决方案一：**

*   水平/垂直比例

*   在 JBoss AS 前面使用 HTTPD

*   对所有任务使用 @Asynchrounous 或消息系统（例如 AKKA）

*   ...

**解决方案二：**

*   使用 node.js (rhino.js)

谁能提供 JBoss AS 7 无法扩展的实际经验？我自己从来没有过这样的经历。

例如，想象一个 Web 应用程序*在单台机器上具有***10.000.000 个并发请求*** （使用单个 jboss-as-instance 或单个 node.js-instance）。

 *结果会是什么？

**JBoss AS 7 崩溃时 node.js 会正常工作吗？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-10T10:15:52.443

一般来说，Java EE 主要针对大规模应用程序，并且大多数设计决策都遵循这一点，从会话持久性和缓存复制到视图层。

虽然 Node.js 可能适用于某些任务，但如果您想将 Java EE 6 用于整个堆栈，Java EE 6 (IMO) 就很好。

还有更多关于可扩展性的消息，例如 JSR-352。所以Java EE还有待改进。

关于您的问题 - “当 JBoss AS 7 崩溃时” - 它通常不会崩溃。通常是有缺陷或写得不好的应用程序导致崩溃。Node.js 提供了特定的 API。Java EE 提供了大量的 API，这些 API 有时会被误用或在概念上被误解，从而导致诸如 OutOfMemoryException 之类的问题。使用适当设计的应用程序，水平缩放应该没有问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T16:46:13.037

There are few proven examples of node.js supporting a large and popular application as of yet. Like any new technology of this type, it will get tested and if it scales will garner support. Nobody can truly answer your question from a technical standpoint.*

# javascript - Jquery 进度条：如何在文档加载/启动时激活它

> ID：10895428
> 
> 赞同：1
> 
> 时间：2012-06-05T10:13:39.067
> 
> 标签：javascript, jquery, html

下面我有一个 jquery 进度条（见代码）。现在它使用开始/停止按钮功能加载。我希望它在我网站的所有其他元素加载之前自动加载，因为它毕竟是一个进度条。我希望它在网页开始加载的那一刻开始，我希望它在网页内容开始显示的那一刻停止。（只是为了在那个白屏等待期间显示进度......）

我的代码：

```
<script type="text/javascript">
var pct=0;
var handle=0;
function update(){
    $("#progressbar").reportprogress(++pct);
    if(pct==100){
            clearInterval(handle);
            $("#run").val("start");
            pct=0;
    }
}
jQuery(function($){
    $("#run").click(function(){
            if(this.value=="start"){
                    handle=setInterval("update()",100);
                    this.value="stop";
            }else{
                    clearInterval(handle);
                    this.value="start";
            }
    });
    $("#reset").click(function(){
            pct=0;
            $("#progressbar").reportprogress(0);
    });
});
</script> 
```

HTML：

```
<div id="progressbar"></div>
<input type="button" id="run" value="start"></input>
<input type="button" id="reset" value="reset"></input> 
```

CSS：

```
#progressbar{
    border:1px solid black;
    width:200px;
    height:20px;
    position:relative;
    color:black;
}
/* color bar */
#progressbar div.progress{
    position:absolute;
    width:0;
    height:100%;
    overflow:hidden;
    background-color:#369;
}
/* text on bar */
#progressbar div.progress .text{
    position:absolute;
    text-align:center;
    color:white;
}
/* text off bar */
#progressbar div.text{
    position:absolute;
    width:100%;
    height:100%;
    text-align:center;
} 
```

将不胜感激任何帮助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:17:04.053

那么你应该使用

```
$(window).load(function () {

                //write you progress bar function here..

    }); 
```

# email - AWS 自己的电子邮件域和一些通用问题

> ID：10895429
> 
> 赞同：0
> 
> 时间：2012-06-05T10:13:49.583
> 
> 标签：email, amazon-web-services, dns, amazon, host

我开始使用 Amazon Web Services，但有几个问题我不确定。作为每个（公司）网页，我想使用“office@companyname.com”电子邮件地址，但这是如何完成的？我查看了 godaddy.com（用于域名注册），它提供给我一个我想要的电子邮件地址，但每月 3 美元。

这对 AWS 可行吗？因为在 AWS，您只有一个复杂的域，它对用户不是很友好或很严肃。

我也想在亚马逊云上托管我的动态网页，但我不确定我是否做得对。我已经阅读了很多指南，我只知道我必须购买弹性计算云和简单存储服务……而且每个指南都使用基本的 linux 包，为什么不使用 Windows？它更贵吗？我只想为通过普通域访问的动态网页托管一个 mySQL Server。

最后一个问题，如果我注册一个 AWS 账户，它会要求我提供一个电子邮件账户。但是我发现在那里写我的免费网络邮件地址有点不认真......它是如何以正常方式完成的？

提前致谢！最好的问候，约翰。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T15:32:47.250

您有很多非特定的非技术问题，最好在亚马逊论坛之一 ( [https://forums.aws.amazon.com/index.jspa?categoryID=1](https://forums.aws.amazon.com/index.jspa?categoryID=1) ) 上提问。

根据您暗示的缺乏经验，您最好从像 Godaddy 这样的共享托管服务开始。Amazon AWS 增加了一层您可能不需要的技术复杂性...

也就是说，这里有一些关于亚马逊问题的一般性答案：

*   Amazon AWS 为 Windows 和 Linux 提供一般可比的托管服务。
*   Amazon Simple Email Service (SES) 将发送批量电子邮件，但不会接收电子邮件。要在亚马逊生态系统中做到这一点，您需要在邮件服务器上运行。

# java - 将文件读到最后

> ID：10895430
> 
> 赞同：0
> 
> 时间：2012-06-05T10:13:51.523
> 
> 标签：java, file

> **可能重复：**
> [整个文本文件到 Java 中的字符串](https://stackoverflow.com/questions/3849692/whole-text-file-to-a-string-in-java)

如何将文本文件读到最后？

实际上我需要将整个文件输出到屏幕上，因此我认为我需要将文件中的整个数据作为`String`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:15:51.823

使用[FileUtils](http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html)的[`readFileToString()`](http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#readFileToString%28java.io.File%29)方法。

```
String content = FileUtils.readFileToString(new File("file.txt"), "utf-8"); 
```

# java - 在 Guava 中，如何创建具有单个元素和 n 次出现的 Multiset

> ID：10895436
> 
> 赞同：0
> 
> 时间：2012-06-05T10:14:31.417
> 
> 标签：java, guava, multiset

我想在 Guava 中创建一个（不可变的）Multiset，它有一个`element`带有events 的条目`occurrences`，这两个条目在编译时都是未知的。

我想出的是：

```
ImmutableMultiset.<X>builder().addCopies(element, occurrences).build() 
```

我想我正在寻找这样的方法：

```
public static ImmutableMultiset<X> ImmutableMultiset.nOccurrencesOf(
X element, int occurrences){} 
```

或者：

```
public static ImmutableMultiset<X> Multisets.singletonMultiset(
X element, int occurrences){} 
```

有没有我忽略的方法可以使上面的代码更短？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-10T18:45:43.953

这是一个不使用构建器的单行解决方案。

```
ImmutableMultiset<X> multiset = 
  ImmutableMultiset.copyOf(Collections.nCopies(occurrences, element)); 
```

然而，这有一个缺点：它的运行时间随出现次数而变化。为了获得更好的性能，请使用其他方法之一。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:23:47.033

这是另一个选项，但它似乎不如您提供的构建器选项好：

```
Multiset<X> set = HashMultiset.create();
set.add(element, occurrences);
ImmutableMultiset<X> immutableSet = ImmutableMultiset.copyOf(set); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-05T14:43:50.393

番石榴贡献者在这里。

坚持建设者。它已经非常简单地解决了这个问题，并且在一行中；这可能不是一个常见的情况，需要自己的特殊方法。

# encoding - TinyMCE 和实体编码 - 一个额外的分号

> ID：10895440
> 
> 赞同：3
> 
> 时间：2012-06-05T10:14:41.073
> 
> 标签：encoding, tinymce, entity

我的 CMS（使用 tinyMCE）出现问题，无法将分号附加到 & 和 ® 等实体。每次我保存文档（使用 tinyMCE）时，都会添加一个额外的分号。

我的页面使用 UFT-8 字符集，我使用的是 tinyMCE 的最新 jquery 版本，并且我已经尝试过 - 但可能在此过程中感到困惑 - 将 tinyMCE 配置中的 entity_encoding 选项从“raw”更改为“named”到“数字”并再次返回 - 没有任何明显的解决方案。

任何对解决方案途径的见解将不胜感激。

谢谢/布鲁斯

# asp.net - 网格视图 - 使用单选按钮和多选复选框（测验应用程序的种类）

> ID：10895445
> 
> 赞同：0
> 
> 时间：2012-06-05T10:15:00.573
> 
> 标签：asp.net, c#-4.0, gridview

我在我的 sql 表中有一些问题，其中需要动态使用单选按钮和复选框来在网格中显示问题和选择。我的sql数据表

```
question_id(int) | choice1 | choice 2 | choice3 | choice4 | correctanswer. 
```

这里的假设是，如果正确答案长度 = 1，那么它是单选按钮控件类型，否则如果是`correctanswer > 1`，那么它是复选框类型。基于此，有人可以帮助我如何使用适当的单选按钮和复选框控件在网格中显示这些问题，并在单击提交按钮时获得选中的答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:41:10.690

在 gridview 行数据绑定事件中，您必须检查正确的答案长度并基于它显示或隐藏单选按钮或复选框

您必须将两者放在同一行中，但要根据您的情况设法查看，并且在将结果保存到数据库时必须做同样的事情。

# java - 休眠@Transactional 会话

> ID：10895451
> 
> 赞同：1
> 
> 时间：2012-06-05T10:15:15.003
> 
> 标签：java, hibernate, transactional

对不起，我重复了这里很多次的问题。我有事务注释的问题。我有Dao、DaoImpl和Service、ServiceImpl这样的类和接口。这是我的conf文件

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:tx="http://www.springframework.org/schema/tx" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd"
    default-lazy-init="true">

<!-- <tx:annotation-driven transaction-manager="txManager" /> -->
<tx:annotation-driven />

<bean id="configProperties" class="com.dataart.masternoy.utils.PropertiesUtil">
    <property name="ignoreUnresolvablePlaceholders" value="true" />
    <property name="locations">
        <list>
            <value>classpath:/config.properties</value>
            <value>classpath:/jdbc.properties</value>
        </list>
    </property>
</bean>

<bean id="dataSource"
    class="org.springframework.jdbc.datasource.DriverManagerDataSource">
    <property name="driverClassName" value="com.mysql.jdbc.Driver" />
    <property name="url" value="jdbc:mysql://localhost:3306/shop" />
    <property name="username" value="root" />
    <property name="password" value="root" />
</bean>
<bean id="dataSourceNew"
    class="org.springframework.jdbc.datasource.DriverManagerDataSource">

    <!-- <property name="driverClassName" value="org.hsqldb.jdbcDriver" /> -->
    <property name="url" value="jdbc:mysql://localhost:3306/shop" />
    <property name="username" value="root" />
    <property name="password" value="root" />

</bean>

<bean class="org.springframework.jdbc.core.JdbcTemplate" id="jdbcTemplate">
    <constructor-arg ref="dataSource" />
</bean>

<bean id="txManager"
    class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
    <property name="dataSource" ref="dataSource" />
</bean>

<bean id="transactionManager"
    class="org.springframework.orm.hibernate3.HibernateTransactionManager">
    <property name="sessionFactory" ref="sessionFactory" />
</bean>

<bean id="sessionFactory"
    class="org.springframework.orm.hibernate3.LocalSessionFactoryBean"
    lazy-init="true">
    <property name="dataSource" ref="dataSourceNew" />

    <property name="configLocation">
        <value>classpath:hibernateConfig.xml</value>
    </property>
    <property name="configurationClass">
        <value>org.hibernate.cfg.AnnotationConfiguration</value>
    </property>

    <property name="hibernateProperties">
        <props>
            <prop key="hibernate.connection.driver_class">org.hsqldb.jdbcDriver</prop>
            <prop key="hibernate.show_sql">true</prop>
            <prop key="hibernate.dialect">org.hibernate.dialect.MySQLInnoDBDialect</prop>
            <prop key="hibernate.connection.charSet">UTF-8</prop>
            <prop key="current_session_context_class">thread</prop>

            <prop key="format_sql">true</prop>
        </props>
    </property>
</bean> 
```

当我将 @Transactional 注释添加到 DaoImpl 时，所有测试都可以正常工作，并且 Maven 编译我的应用程序。但是当我将它部署到 Tomcat 并尝试从浏览器中使用 Dao 方法时，我有 Stack Trace。

```
 org.hibernate.HibernateException: No Hibernate Session bound to thread, and configuration does not allow creation of non-transactional one here
        org.springframework.orm.hibernate3.SpringSessionContext.currentSession(SpringSessionContext.java:63)
        org.hibernate.impl.SessionFactoryImpl.getCurrentSession(SessionFactoryImpl.java:622)
        com.dataart.masternoy.dao.imp.UserDAOImpl.existUserByLoginEmail(UserDAOImpl.java:35)
        com.dataart.masternoy.service.imp.UserServiceImpl.existUserByLoginMail(UserServiceImpl.java:44)
        com.dataart.masternoy.controller.FirstPageController.isValid(FirstPageController.java:46)
        com.dataart.masternoy.controller.FirstPageController.ConfirmRegister(FirstPageController.java:101)
        sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        java.lang.reflect.Method.invoke(Method.java:597)
        org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:176)
        org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:426)
        org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:414)
        org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)
        org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)
        org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)
        org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:560)
        javax.servlet.http.HttpServlet.service(HttpServlet.java:641)
        javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:368)
        org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:109)
        org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)
        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:97)
        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:100)
        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:78)
        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)
        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:35)
        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:187)
        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)
        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:79)
        org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:380)
        org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:169)
        org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:237)
        org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)
        org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
        org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
        com.opensymphony.sitemesh.webapp.SiteMeshFilter.obtainContent(SiteMeshFilter.java:129)
        com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:77) 
```

当我将 @Transactional 注释添加到 ServiceImpl 时，它不会编译我的应用程序，因为

```
java.lang.IllegalStateException: Failed to load ApplicationContext
    at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:308)
    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:109)
    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:75)
    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:321)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:220)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:301)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:303)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:240)
    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:180)
    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firstPageController': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.dataart.masternoy.service.imp.UserServiceImpl com.dataart.masternoy.controller.FirstPageController.userSereviceImpl; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No matching bean of type [com.dataart.masternoy.service.imp.UserServiceImpl] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=userService)}
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:527)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:580)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)
    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:84)
    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:1)
    at org.springframework.test.context.TestContext.loadApplicationContext(TestContext.java:280)
    at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:304)
    ... 24 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'firstPageController': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.dataart.masternoy.service.imp.UserServiceImpl com.dataart.masternoy.controller.FirstPageController.userSereviceImpl; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No matching bean of type [com.dataart.masternoy.service.imp.UserServiceImpl] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=userService)}
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:285)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1074)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)
    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1075)
    at org.springframework.web.servlet.handler.AbstractUrlHandlerMapping.registerHandler(AbstractUrlHandlerMapping.java:383)
    at org.springframework.web.servlet.handler.AbstractUrlHandlerMapping.registerHandler(AbstractUrlHandlerMapping.java:362)
    at org.springframework.web.servlet.handler.AbstractDetectingUrlHandlerMapping.detectHandlers(AbstractDetectingUrlHandlerMapping.java:82)
    at org.springframework.web.servlet.handler.AbstractDetectingUrlHandlerMapping.initApplicationContext(AbstractDetectingUrlHandlerMapping.java:58)
    at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:119)
    at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:72)
    at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:73)
    at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:106)
    at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:85)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:394)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1413)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
    ... 36 more
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.dataart.masternoy.service.imp.UserServiceImpl com.dataart.masternoy.controller.FirstPageController.userSereviceImpl; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No matching bean of type [com.dataart.masternoy.service.imp.UserServiceImpl] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=userService)}
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:502)
    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:84)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:282)
    ... 56 more
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No matching bean of type [com.dataart.masternoy.service.imp.UserServiceImpl] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=userService)}
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoSuchBeanDefinitionException(DefaultListableBeanFactory.java:920)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:789)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:703)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:474)
    ... 58 more 
```

我的控制器

```
@Controller
@RequestMapping(value = "/")
public class IndexController {
    public static final Logger LOG = Logger.getLogger(IndexController.class);
    @Autowired
    @Qualifier(value = "userService")
    UserService userService; 
```

我的服务

```
@Service(value = "userService")
public class UserServiceImpl implements UserService {
    @Autowired
    @Qualifier("UserDAO")
    UserDAO userDAO;    

    @Transactional      
    public void addNewUser(User user) {
        userDAO.insertNewUser(user);
    } 
```

我的测试

```
public class UserDAOTest extends BaseTest {

    @Autowired
    @Qualifier(value = "userService")
    UserService userServiceImpl;

    @Test
    public void daoTests() { 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T12:53:49.963

我认为当 @Transactional 在 UserServiceImpl 类上时出现错误的原因是因为控制器在应该引用接口时直接引用了 UserServiceImpl 类（因为你有它）。这会导致一个问题，因为 Spring 构造的类实际上是一个代理，而不是 UserServiceImpl 的实例。

至于为什么你在单元测试之外得到一个无会话错误，那么我唯一的猜测可能是你的 UserDAOImpl 不是由 Spring 构建的。如果您查看堆栈跟踪，您的 UserService 或 UserDAO 周围都没有代理。

您确定要使用 Spring 构建 UserDAOImpl 吗？你确定它会被 Spring 注入到用户服务中吗？你确定你有Tomcat使用的应用程序上下文中的元素吗？

# android - 如何直接从 SD 卡显示位图而不占用 VM 预算

> ID：10895457
> 
> 赞同：0
> 
> 时间：2012-06-05T10:15:25.847
> 
> 标签：android, bitmap, sd-card

在为这个问题苦苦挣扎了几天之后，我终于找到了解决办法。

Q：如何在不消耗虚拟机预算的情况下通过转动手机或第二次打开Activity来显示一个大的位图？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:24:13.533

```
 BitmapFactory.Options option = new BitmapFactory.Options();
            option.inSampleSize = 2;
    bm = BitmapFactory.decodeFile(new File(path)); 

           ImageView imageview =(ImageView)findViewById(R.id.imageView1);
            imageview .setImageBitmap(bm); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:25:41.037

使用位图后总是调用 bitmap.recycle() 方法。调用GC不是解决办法，不保证会被调用。而且，如果不调用回收方法，位图在使用后不会被释放。

```
options.inScaled = true;
options.inPurgeable = true;
options.inInputSharable = true; 
```

如果这也不能解决您的问题，请尝试使用 Wea​​kReferences：[Bitmap、Bitmap.recycle()、WeakReferences 和 Garbage Collection](https://stackoverflow.com/questions/4959485/bitmap-bitmap-recycle-weakreference-and-garbage-collector)

如果这也不起作用，那么您的代码中可能存在其他一些内存泄漏。在 Eclipse 中使用 MAT 找出代码中的内存泄漏。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:15:25.987

A: 在显示图片之前，您必须先对图片进行一些压缩：

```
BitmapFactory.Options options = new BitmapFactory.Options();

    options.inSampleSize = 3; // If number equals 3, it is only showing one third of all pixels. May crash if you are using 2, but 2 works in most cases. 

    Bitmap bMap = BitmapFactory.decodeFile((sdcard/exaple_file)), options);

 Drawable d =new BitmapDrawable(bMap);
   myLinearLayout.setBackgroundDrawable(d); 
```

在 onPause 中：

```
@Override
    protected void onPause() {
    super.onPause();

   System.gc();
    }

// Some say that you should never call system gc your self, but for me it helps with stability. 
```

这解决了我的问题，但可能不是 100% 最佳的。但它会阻止应用程序在 VM 预算上崩溃。

# c# - 在运行时在gridview模板字段中动态添加一个链接按钮和一个标签控件

> ID：10895460
> 
> 赞同：0
> 
> 时间：2012-06-05T10:15:33.223
> 
> 标签：c#, asp.net, user-interface

我的表格中有一个gridview。我正在处理`RowDataBound`网格事件。现在我在gridview的列中有一个模板字段。已在模板字段中获取标签。我想`RowDataBound`在运行时在事件上添加指向此标签的链接，但`.System.Web.UI.WebControls.LinkButton` 显示的是链接按钮而不是链接按钮。如何在网格视图中添加带有标签文本的链接按钮？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:02:55.643

只需在模板字段中添加一个链接按钮

```
<asp:GridView runat="server" ID="gridView">
        <Columns>
            <asp:TemplateField>
                <ItemTemplate>
                    <asp:LinkButton runat="server" ID="lnkTest"></asp:LinkButton>
                </ItemTemplate>
            </asp:TemplateField>
        </Columns>
    </asp:GridView> 
```

然后在您的 rowdatabound 事件中，您可以找到它并做任何您想做的事情

```
void gridView_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            Entity entity = e.Row.DataItem as Entity;

            LinkButton lnkTest = e.Row.FindControl("lnkTest") as LinkButton;
            lnkTest.CommandArgument = entity.ID.ToString();
            lnkTest.Text = entity.Name;
        }
    } 
```

然后，您可以订阅 gridview Command 事件，并在单击链接按钮时传递正确的 CommandArgument。希望这可以帮助。

# javascript - 如何将两种方法合并为一个（.style + .getcomputed 样式）

> ID：10895461
> 
> 赞同：0
> 
> 时间：2012-06-05T10:15:35.097
> 
> 标签：javascript, selenium, ide

我有某种形式。我需要检查此表单中所有元素的背景颜色。但在某些元素中，颜色由 定义`<style>`，而另一些元素颜色由 css 定义。我需要将两种方法合二为一（在 Selenium IDE 中）

这是我的方法：

1（.style）：

```
var form = window.document.forms[0]; 
elements = form.elements; 
for (var i = 0, len = elements.length; i < len; i++) {
    color = elements[i].style.backgroundColor;
} 
```

2（.getcomputedstyle）：

```
var form = window.document.forms[0]; 
elements = form.elements; 
for (var i = 0, len = elements.length; i < len; i++) {
var color = window.document.defaultView.getComputedStyle(elements[i])
        .getPropertyValue('background-color');
var colorArr = color.replace(/[\\rrgb\\(\\)]/g, '').split(','); 
var hexString = '#'
        + parseInt(colorArr[0]).toString(16)
        + parseInt(colorArr[1]).toString(16)
        + parseInt(colorArr[2]).toString(16);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:41:26.663

第二种方法是获取浏览器中实际显示的颜色（它们可能来自内联样式，或内部和/或外部 css），因此您根本不需要第一种（颜色可能已被覆盖）。第二种方法已经将 rgb 值转换为十六进制（您可能需要反过来吗？）

# html - 如何在 JAVA 中解析谷歌趋势 HTML 页面

> ID：10895465
> 
> 赞同：-2
> 
> 时间：2012-06-05T10:15:43.663
> 
> 标签：html, html-parsing

[http://www.google.co.in/trends/?q=+indian+Rs](http://www.google.co.in/trends/?q=+indian+Rs)

是链接。

任何机构都可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:55:12.897

您可以使用 Jericho HTML 解析器，您可以从此链接下载它，它比 DOM 解析器和 SAX 解析器要好得多[http://www.softpedia.com/get/Programming/Components-Libraries/Jericho-HTML-Parser.shtml](http://www.softpedia.com/get/Programming/Components-Libraries/Jericho-HTML-Parser.shtml)尝试搜索一些你发现的教程会发现很多关于这个的教程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:37:21.267

谷歌没有提供官方 API 来访问谷歌趋势，但有几个非官方的 API 漂浮在网络上。

GitHub 上的这个 Python 实现例如：[https ://github.com/suryasev/unofficial-google-trends-api](https://github.com/suryasev/unofficial-google-trends-api)

# iphone - GameKit WiFi 可以在模拟器上运行，但不能在设备上运行

> ID：10895467
> 
> 赞同：2
> 
> 时间：2012-06-05T10:15:55.893
> 
> 标签：iphone, wifi, p2p, gamekit, gksession

在使用 GameKit 时，我遇到了一个无法解释的问题。通过 WiFi ( `picker.connectionTypesMask = GKPeerPickerConnectionTypeOnline;`) 建立连接时，设备无法互相看到。当模拟器看到一切时，他们什么也看不到，它可以看到任何设备或模拟器在不同的机器上工作。几天来，我一直在努力研究它，我已经试图理解为什么它可以在模拟器上运行，但不能在设备上运行。谁能帮帮我吗？

这就是我创建会话的方式

```
 if (type == GKPeerPickerConnectionTypeOnline) 
{
    picker.delegate = nil;
    [picker dismiss];
    [picker autorelease];

    [alert setTitle:@"\n\n\n"];
    [alert setMessage:@"Looking for other iPads, iPhones or iPod touches..."];
    [alert addButtonWithTitle:@"Cancel"];

    UIActivityIndicatorView *progress   = [[UIActivityIndicatorView alloc] initWithFrame:CGRectMake(125, 50, 30, 30)];
    progress.activityIndicatorViewStyle = UIActivityIndicatorViewStyleWhiteLarge;
    [alert addSubview:progress];
    [progress startAnimating];
    [alert show];

    self.gameSession = [[GKSession alloc] initWithSessionID:kSessionID displayName:nil sessionMode:GKSessionModePeer];
    self.gameSession.available = YES;
    self.gameSession.delegate = self;
    self.gameSession.disconnectTimeout = 0;
    [self.gameSession setDataReceiveHandler:self withContext:nil];
} 
```

# jsf - 在 JSF 中过滤 javax.faces.resource

> ID：10895469
> 
> 赞同：4
> 
> 时间：2012-06-05T10:15:59.260
> 
> 标签：jsf, glassfish, richfaces

我的项目使用 JSF 2.1、RichFaces 4.1 和 GlassFish 3.1.2。我在 web.xml 中注册了一个过滤器。
问题：如何过滤自动包含在项目中的 JSF 和 RichFaces（例如 javax.faces.resource/richfaces-queue.js.xhtml）的资源？

**web.xml**

```
 <?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
         version="3.0">

    <!-- configuration of the session -->
    <session-config>
        <session-timeout>15</session-timeout>
        <cookie-config>
            <http-only>true</http-only>
        </cookie-config>
    </session-config>

    <welcome-file-list>
        <welcome-file>index.xhtml</welcome-file>
    </welcome-file-list>

    <context-param>
        <param-name>org.richfaces.skin</param-name>
        <param-value>myskin</param-value>
    </context-param>

    <!-- The runtime must interpret each entry with  Facelet tag library-->
    <context-param>
        <param-name>facelets.LIBRARIES</param-name>
        <param-value>/WEB-INF/tags/taglib.xml</param-value>
    </context-param>

    <!-- Alternate suffix for JSF pages -->
    <context-param>
        <param-name>javax.faces.DEFAULT_SUFFIX</param-name>
        <param-value>.xhtml</param-value>
    </context-param>

    <!-- XML comments in the Facelets source page are not delivered to the client -->
    <context-param>
        <param-name>javax.faces.FACELETS_SKIP_COMMENTS</param-name>
        <param-value>true</param-value>
    </context-param>

    <!-- Project Stage for JSF (Production | Development | UnitTest | SystemTes | Extension) -->
    <context-param>
        <param-name>javax.faces.PROJECT_STAGE</param-name>
        <param-value>Development</param-value>
    </context-param>

    <filter>
        <filter-name>AuthenticationFilter</filter-name>
        <filter-class>ru.axetta.utils.web.JSFAuthenticationFilter</filter-class>
        <init-param>
            <param-name>includes</param-name>
            <param-value>/index.xhtml, /login.xhtml</param-value>
        </init-param>
        <init-param>
            <!--
                Relational to context root, must start from "/".
                Example to be excludes: /javax.faces.resource/jquery.position.js.xhtml, /resource/images/logo.png, /rfRes/toolbar.ecss.xhtml
             -->
            <param-name>excludes</param-name>
            <param-value>^(/rfRes/)(.+)(\u002E[a-zA-Z]+)(\u002Exhtml)$,
                ^(/javax.faces.resource/)(.+)(\u002E[a-zA-Z]+)(\u002Exhtml)$,
                ^(/resources/)([a-zA-Z]+/)(\w+)(\u002E)([a-zA-Z]+)$, /services, /cryptopro/applet
            </param-value>
        </init-param>
        <init-param>
            <param-name>loginPage</param-name>
            <param-value>/login.xhtml</param-value>
        </init-param>
        <init-param>
            <param-name>loginPageReplacement</param-name>
            <param-value>/index.xhtml</param-value>
        </init-param>
    </filter>

    <filter-mapping>
        <filter-name>AuthenticationFilter</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>

    <!-- Faces Servlet -->
    <servlet>
        <servlet-name>Faces Servlet</servlet-name>
        <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <!-- Faces Servlet Mapping -->
    <servlet-mapping>
        <servlet-name>Faces Servlet</servlet-name>
        <url-pattern>*.xhtml</url-pattern>
    </servlet-mapping>

    <!-- Page for errors -->
    <error-page>
        <error-code>404</error-code>
        <location>/include/error/ErrorPage.xhtml</location>
    </error-page>

    <error-page>
        <error-code>500</error-code>
        <location>/include/error/ErrorPage.xhtml</location>
    </error-page>

    <error-page>
        <error-code>503</error-code>
        <location>/include/error/ErrorPage.xhtml</location>
    </error-page>

    <error-page>
        <exception-type>java.lang.Throwable</exception-type>
        <location>/include/error/ErrorPage.xhtml</location>
    </error-page>

</web-app> 
```

**JSFAuthenticationFilter**

```
public class JSFAuthenticationFilter implements Filter {

    // ... variables

    @Override       //initialize
    public void init(FilterConfig filterConfig) throws ServletException {
        // ... do something
    }

    @Override      //filtering URI
    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)
            throws IOException, ServletException {
        HttpServletRequest httpRequest = (HttpServletRequest) request;
        HttpSession httpSession = httpRequest.getSession(true);
        HttpServletResponse httpResponse = (HttpServletResponse) response;
        String servletPath = httpRequest.getServletPath();

        //excluded data for the filtration (/javax.faces.resource/richfaces-queue.js.xhtml and other)
        if (isURLExcluded(servletPath)) {
            chain.doFilter(request, response);
            return;
        }

        //processed data to filter (/login.xhtml and /index.html)
        if (isURLIncluded(servletPath)) {
            // ... do something
        } else {    //for errors page
            httpResponse.sendError(HttpServletResponse.SC_NOT_FOUND, MessageFormat.format("Error message: page:{0} not found", servletPath));//404
            chain.doFilter(request, response);
            return;//redirect -> errorPage.xhtml
        }
    }

    @Override
    public void destroy() {
        // nothing to do here
    }
} 
```

**问题#1：**如果浏览器地址栏输入路径 *http:///myapp/javax.faces.resource/richfaces-queue.js.xhtml* 窗口会打印包含资源的所有文本

**问题#2：**为了检查排除的资源，我使用正则表达式。如果输入有效地址，例如*http:///myapp/javax.faces.resource/richfaces2-queue.js.xhtml* 窗口将打印：

> 解析 XML 时出错：找不到元素地址：http:///myapp/javax.faces.resource/richfaces2-queue.js.xhtml 第 1 行，字符 1：

不重定向到页面*ErrorPage.xhtml*并且 GlassFish 日志中没有信息。请告诉我，让我过滤资源并切换到错误页面？

PS：类似的问题（[https://forums.oracle.com/forums/thread.jspa?threadID=1717040](https://forums.oracle.com/forums/thread.jspa?threadID=1717040)）

# css - 侧边滚动查看 CSS 下拉菜单并不总是有效

> ID：10895470
> 
> 赞同：2
> 
> 时间：2012-06-05T10:16:01.670
> 
> 标签：css

我在使用以下 CSS 时遇到了一些问题。当滚动到下拉菜单时，它并不总是显示下拉菜单。有时我必须多次尝试才能使其正常工作。

任何帮助表示赞赏，谢谢。

请[在这里](http://jsfiddle.net/GWcnK/1/)查看实时视图。

我的代码如下：

```
#navMenu{

    margin:0;
    padding:0;

}

#navMenu ul{
    margin:0;
    padding:0;
    line-height:30px;

}

#navMenu li {
    margin:0;
    padding:0;
    /*removes the bullet point*/
    list-style:none;
    float:left;
    position:relative;
    background: #fff;

}

/*for top level */
#navMenu ul li a{
    text-align:center;
    font-family:"calibri";
    text-decoration:none; /*remove underline*/

    margin:-1px;
    /*height width for all links*/
    height:30px;
    width:150px;
    display:block;
    /*border-bottom: 1px solid #ccc;*/

    color: #777;

}

/* hiding inner ul*/
#navMenu ul ul{
    position:absolute;
    visibility:hidden;
    /*must match height of ul li a*/
    top:32px;

}
/*selecting top menu to display the submenu*/

#navMenu ul li:hover ul{
    visibility:visible;

}

#navMenu li:hover{
    /*background-color: #F9F9F9;*/
    background-color: #596C56;
    }

#navMenu ul li:hover ul li a:hover{

   /* color: E2144A;*/
      color:blue;

}

#navMenu ul li a:hover{
        /*color: E2144A;*/
        color:#FFE303;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:23:43.487

尝试减少#navMenu ul ul 的顶部。

```
#navMenu ul ul{
    position:absolute;
    visibility:hidden;
    /*must match height of ul li a*/
    top:29px;
    background:#333;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:35:18.487

而不是给出一个固定的宽度，而是尝试在你的中给出一些边距和填充，`#navMenu ul li a`并将它垂直居中对齐，`line-height`给`height`. 并尝试在你的ul显示中给予`display:none`而 `#navMenu ul ul`不是和：块可见性：可见；``visibility:hidden``#navMenu ul li:hover``try`

# php - 无法修改标题

> ID：10895483
> 
> 赞同：0
> 
> 时间：2012-06-05T10:16:59.897
> 
> 标签：php, codeigniter

> **可能重复：**
> [无法修改标头信息，标头已发送 标头](https://stackoverflow.com/questions/3234349/cannot-modify-header-information-headers-already-sent)
> [已由 PHP 发送](https://stackoverflow.com/questions/8028957/headers-already-sent-by-php)

我试图弄清楚为什么当我加载这个控制器时我得到一个无法修改标题信息的错误。当它到达 if 语句时，它会重定向到登录控制器，但实际上并没有重定向。它只是在加载仪表板控制器的情况下加载该消息。

```
<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed'); 

class Dashboard extends CI_Controller { 

public function index()
{
    //Config Defaults Start
    $msgBoxMsgs = array();//msgType = dl, info, warn, note, msg
    $cssPageAddons = '';//If you have extra CSS for this view append it here
    $jsPageAddons =  '';//If you have extra JS for this view append it here
    $metaAddons = '';//Sometimes there is a need for additional Meta Data such in the case of Facebook addon's
    $siteTitle = '';//alter only if you need something other than the default for this view.
    //Config Defaults Start

    //examples of how to use the message box system (css not included).
    //$msgBoxMsgs[] = array('msgType' => 'dl', 'theMsg' => 'This is a Blank Message Box...');

    /**********************************************************Your Coding Logic Here, Start*/

    if ($this->session->userdata('xtr') == 'yes') 
    {                                   
        $bodyContent = $this->config->item('defaultTemplate') .'/cpanel/dashboard';//which view file
        $bodyType = 'full';//type of template       
    } 
    else
    {
        redirect('login');
    }

    /***********************************************************Your Coding Logic Here, End*/

    //Double checks if any default variables have been changed, Start.
    //If msgBoxMsgs array has anything in it, if so displays it in view, else does nothing.      
    if(count($msgBoxMsgs) !== 0)
    {
        $msgBoxes = $this->msgboxes->buildMsgBoxesOutput(array('display' => 'show', 'msgs' =>$msgBoxMsgs));
    }
    else
    {
        $msgBoxes = array('display' => 'none');
    }

    if($siteTitle == '')
    {
        $siteTitle = $this->metatags->SiteTitle(); //reads 
    }

    //Double checks if any default variables have been changed, End.

    $this->data['msgBoxes'] = $msgBoxes;
    $this->data['cssPageAddons'] = $cssPageAddons;//if there is any additional CSS to add from above Variable this will send it to the view.
    $this->data['jsPageAddons'] = $jsPageAddons;//if there is any addictional JS to add from the above variable this will send it to the view.
    $this->data['siteTitle'] = $siteTitle;//defaults can be changed via models/metatags.php
    $this->data['bodyType'] = $bodyType;
    $this->data['bodyContent'] = $bodyContent;
    $this->load->view($this->config->item('defaultTemplate') .'/cpanel/index', $this->data);
}

}

/* End of file dashboard.php */ 
/* Location: ./application/controllers/dashboard.php */ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:32:46.313

你在做一个非常愚蠢的错误

您正在重定向但没有退出，因为即使在重定向之后页面的执行也会继续。

通过放置 die() 或 exit ；

第一个选项 // if else 中应该是这样的

```
 redirect('login'); //  or try ("location : login.php"); 
```

第二个选项或尝试重定向

```
 header('Location: http://login.php');     // specify the url you wanna redirect 

                          die();   //  or you can have exit(); 
```

# c# - 如果我不等待异步任务，您能否解释为什么没有捕获异常？

> ID：10895484
> 
> 赞同：3
> 
> 时间：2012-06-05T10:17:00.503
> 
> 标签：c#, exception, async-await, uncaught-exception

从我在代码中遇到的问题开始，我创建了这个简单的应用程序来重现问题：

```
private async void button1_Click(object sender, EventArgs e)
{
    Task task = Task.Run(() =>
    {
        TestWork();
    });
    try
    {
        await task;
        MessageBox.Show("Exception uncaught!");
    }
    catch (Exception) { MessageBox.Show("Exception caught!"); }
}

private async void button2_Click(object sender, EventArgs e)
{
    Task task = TestWork();
    try
    {
        await task;
        MessageBox.Show("Exception uncaught!");
    }
    catch (Exception) { MessageBox.Show("Exception caught!"); }
}

private async Task TestWork()
{
    throw new Exception();
} 
```

的代码`button1_Click`不会捕获异常。我已经验证这是因为我没有等待`TestWork`异步方法。事实上，我收到了来自 Visual Studio 的警告消息，通知我我没有等待该方法。但是，解决方案可以编译，如果我广泛使用 async/await，我担心这会发生在我的代码中的其他地方。那么，您能否解释一下原因，并给出一些避免它的黄金法则？

PS：如果在`button1_Click`我写的代码中它可以工作：

```
Task task = Task.Run(async () =>
{
    await TestWork();
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:25:42.073

在您的第一个`button1_Click`实现中，您忽略了`Task`by 返回的结果`TestWork`。

在您的修改版本中，`await`检查异常并传播它以供您捕获。

事实上，您看到的编译器警告通常很重要。如果`TestWork`实际上在不同的线程上运行了某些东西，那么因为`Task`您的第一个实现中的包装器不会等待`TestWork`完成，它会`TestWork`在启动后立即完成。

这样写会更清楚：

```
Task task = Task.Run( () =>
    {
        Task t = TestWork();
        // ignore t
    }
); 
```

# dotnetnuke - 如何在 MathJax 的 DNN 中给出相对路径

> ID：10895486
> 
> 赞同：0
> 
> 时间：2012-06-05T10:17:01.937
> 
> 标签：dotnetnuke, mathjax

我已经在我的计算机上本地安装了 DNN (C:\inetpub\wwwroot\DNN) 和 MathJax(C:\inetpub\wwwroot\DNN\MathJax)。我在默认 DNN 皮肤中添加了我的自定义 html 页面（使用 MathJax）。

现在...为了渲染 MathML，我正在使用以下 CDN 链接

但我想使用本地安装在 C:\inetpub\wwwroot\DNN\MathJax 的 Math Jax。我试图给出相对路径，但没有任何效果。

我理解的问题是 DNN 是 CMS，它动态保存了页面，所以我如何在我的自定义 html 文件中给出 MathJax 的相对路径？

或者

是否可以在 DNN 中托管 MathJax，以便我可以在脚本标签中提供该 url？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T04:20:21.353

您的主要问题是 DNN 中的虚拟网址在尝试映射时会导致不同的相对网址。

最简单的解决方案是使用库的绝对路径。

但是，如果您想要一个相对路径（并且您正在使用 text/html 模块 - 我假设这是因为您没有指定），那么您可以使用该模块中可用的文本替换。

基本上，您可以使用门户主目录并从那里构造一个相对路径（使用 ../..）

请参阅这篇解释 html 模块中的文本替换的文章： [http ://www.datasprings.com/resources/articles-information/dnn-text-html-token-replacement-options](http://www.datasprings.com/resources/articles-information/dnn-text-html-token-replacement-options)

或者，如果您正在编写自己的模块，那么您可以使用框架的属性，这将为您提供网站的根路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-09T14:21:19.873

是的，因为我猜 MathJax 最终是一个 javascript，你可以简单地在你的脚本中引用`<script src="/MathJax/..."`它，它会正常工作。你对此有什么确切的问题？

# qt - 嵌入式 Qt GraphicsScene 坐标

> ID：10895497
> 
> 赞同：0
> 
> 时间：2012-06-05T10:17:43.487
> 
> 标签：qt, embedded, coordinates, qgraphicsscene

**解决。**我正在使用 C++ 和 Qt 创建一个全屏应用程序。在屏幕中 l 有一个 graphicsScene （和它的一个视图），它取出屏幕的一部分。*我不知道如何获得正确的坐标。*

我希望视图大小与容器的大小相匹配。l 可以创建一个比容器大的视图，因此有滚动条（*最初不需要*）但点 (0,0) 位于左上角（*我想要这个）*或者一个较小但点 (0,0) 不再位于左上角，有“边距”。我希望 (0,0) 点位于左上角，以便我可以以编程方式绘制网格。

```
scene = new NoteMatrix(LayoutB2);
view = new QGraphicsView(scene);
scene->setSceneRect(0,0,view->frameSize().width(), view->frameSize().height());
view->fitInView(view->sceneRect());
view->setAlignment(Qt::AlignLeft);
scene->addRect(0, 0, scene->width(), scene->height()); //visualize boundaries
QWidget *widget = new QWidget(parent);
widget->setLayout(LayoutB2);
mainLayout->setStretchFactor(widget, 1);
setCentralWidget(widget); 
```

**我解决了我最初的问题。坐标没有错。在这种情况下，我需要将对齐设置到我希望的任何一侧。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:57:17.057

如果你想在 QGraphicsview 中适合一个场景

```
view->setScene(YourScene);
view->setSceneRect(0,0,view->frameSize().width(),view->frameSize().height()); 
```

使用它来设置场景矩形。如果你设置矩形的宽度和高度小于或等于视图的宽度和高度。否则不会显示滚动条。

也试试[QGraphicsView::fitInView()](http://qt-project.org/doc/qt-4.8/qgraphicsview.html#fitInView)。

# antlr - Java.g：模棱两可的“声明”规则？（断言）

> ID：10895498
> 
> 赞同：1
> 
> 时间：2012-06-05T10:17:46.803
> 
> 标签：antlr, antlr3

在[Java.g](http://openjdk.java.net/projects/compiler-grammar/antlrworks/Java.g)中，我们可以找到以下规则（为清楚起见删除了空格）：

```
statement 
     :   block
         |   ('assert') expression (':' expression)? ';'
         |   'assert'  expression (':' expression)? ';'            
         |   'if' parExpression statement ('else' statement)?          
         (...)
         ; 
```

我有两个问题：

1.  真的需要两个“断言”子规则吗？
2.  如果不是，为什么 ANTLR 不抱怨歧义，因为它们似乎定义了完全相同的输入？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:43:36.557

> ***佩德罗 F. 写道：***
> 
> 真的需要两个“断言”子规则吗？

不，它们是等价的。但是，通过查看语法[Java.g](http://openjdk.java.net/projects/compiler-grammar/antlrworks/Java.g)的格式化方式：

```
statement 
    :   block

    |   ('assert'
        )
        expression (':' expression)? ';'
    |   'assert'  expression (':' expression)? ';'     
    |   ... 
```

我怀疑（通过查看空格）语法最初嵌入了代码：

```
statement 
    :   block     { /* embedded code */
        }    
    |   ('assert' { /* embedded code */ }
        )
        expression (':' expression)? ';'
    |   'assert'  expression (':' expression)? ';'     
    |   ... 
```

并且可能更多的规则/令牌被剥离（当然，所有的猜测！）。

> ***佩德罗 F. 写道：***
> 
> 如果不是，为什么 ANTLR 不抱怨歧义，因为它们似乎定义了完全相同的输入？

因为启用了全局回溯（`backtrack=true;`选项中的）。

# dns - 如何更改服务器名称？

> ID：10895500
> 
> 赞同：0
> 
> 时间：2012-06-05T10:17:55.797
> 
> 标签：dns, windows-server-2008-r2

我是一家网络开发公司的新员工。我的公司在开发基于 Web 的应用程序方面有以下政策：数据库应驻留在由 IT 控制的公司服务器上，基于 Web 的应用程序文件应托管在我拥有管理员权限的另一台不同的服务器上。我们有 Windows Server 2008 R2。要访问这些应用程序之一，我们应该将服务器名称作为链接，例如：

```
http://ServerName.myapplication 
```

**我想输入一个有意义的名称（或别名）而不是服务器名称，但我不知道该怎么做。那么你能告诉我怎么做吗？**

顺便说一句，我在互联网上搜索了它以及所有关于 DNS 的资源，但没有明确的步骤。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T16:03:39.680

您可以编辑本地计算机`hosts`文件以使用仅适用于您的工作站的自定义 DNS。

文件：`C:\Windows\System32\drivers\etc\hosts`

格式：`<ip address to resolve to> <custom dns name>`

例子：`192.168.1.2 meaningfulalias.com`

现在你可以去`meaningfulalias.com`你的工作站，它会去你真正想要的任何IP。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:40:27.597

要更改服务器/计算机名称，请执行以下步骤：

1.  转到我的电脑 --> 属性
2.  点击“更改设置”——>打开“系统属性”窗口
3.  单击“更改”-> 打开“计算机名称/域更改”窗口
4.  在此处更改“计算机名”，然后单击“确定”

# c++ - 有没有办法在我的简单 2D DirectX 游戏中减少 CPU 和 GPU 负载？

> ID：10895504
> 
> 赞同：2
> 
> 时间：2012-06-05T10:18:06.813
> 
> 标签：c++, timer, load, directx

我想我有一些解释要做：

*   我对游戏编程相当陌生，所以如果我不立即理解一个概念，请不要生气
*   该游戏使用 DirectX 10 并用 C++ 编写
*   这是非常简单的2D游戏

情况：尽管游戏逻辑和图形都非常简单，但它仍然需要我的 CPU 和 GPU 负载到 100%。甚至菜单也以每秒超过 2000 帧的速度显示。

我的**问题不是**游戏运行太快。我已经使用 QueryPerformanceCounter 函数对精灵动画和游戏逻辑进行了计时。

实际的**问题**是，游戏多次计算相同的代码，而屏幕上没有发生任何事情，因此给我的硬件带来了巨大的负担。

***我可以通过哪些方式减少游戏的硬件负载？***我觉得使用睡眠是“作弊”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T14:35:53.803

感谢 Damon 为我指明了正确的方向，我研究了当前的功能。（[http://msdn.microsoft.com/en-us/library/windows/desktop/bb174576(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb174576(v=vs.85).aspx)）

解决 CPU 和 GPU 负载问题所需的一切都在改变

```
swapChain->Present(0, 0); 
```

至

```
swapChain->Present(1, 0); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:26:28.787

只是一个快速的建议：

每次进入游戏循环时，计算自上次进入以来经过的时间。如果这个时间低于给定的阈值，则返回而不处理任何内容。

# wpf - 我可以在 DataGrid 上拖放文件吗？

> ID：10895513
> 
> 赞同：0
> 
> 时间：2012-06-05T10:18:30.487
> 
> 标签：wpf, file, datagrid

我有一个包含文件信息的 datgrid。名称、文件类型、大小...等。

我想做以下事情：

1.- 在 Windows 的文件资源管理器中选择一些文件，一个或多个。2.- 将文件放到数据网格中。3.- 通过文件的路径，我可以将此信息转换为 dataGrid 的项目类型，因此我可以创建一个对象 myFile，使用信息设置属性并将对象添加到 dataGrid 用作的集合中项目来源。4.- dataGrid 中的所有信息之一，我使用我的存储库将dataGrid 中的新项目保存在数据库中。

我的问题是我是否可以将文件放入数据网格中，如果可能的话，我可以知道文件的路径。

我查看了 drop 事件的 e 参数，但没有看到我在事件中收到的信息。

谢谢。戴姆洛克。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T11:31:37.277

[你可以试试这个解决方案............](http://www.telerik.com/community/forums/wpf/draganddrop/drag-and-drop-with-windows-explorer.aspx)

# android - android 数据库不返回任何记录，但 sqlitebrowser 包含数据

> ID：10895516
> 
> 赞同：0
> 
> 时间：2012-06-05T10:18:37.617
> 
> 标签：android, sqlite, android-assets

我有一个数据库文件没有被读取的问题我已经在名为 mydb 的资产中添加了数据库文件，但是当我运行我的代码时它说它没有被定位。它正在调用这个 toast Toast.makeText(this, "No contact found", Toast.LENGTH_LONG).show(); 之所以调用它，是因为没有返回任何记录。我也知道它正在查找文件，因为没有 FileNotFoundException 异常。这是一个示例形式的 Android 应用程序开发书。

```
public class DatabaseActivity extends Activity {
    /** Called when the activity is first created. */
    TextView quest, response1, response2;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        TextView quest = (TextView) findViewById(R.id.quest);

        try {           
            String destPath = "/data/data/" + getPackageName() + "/databases/MyDB";
            File f = new File(destPath);            
            if (!f.exists()) {          
                CopyDB( getBaseContext().getAssets().open("mydb"), 
                    new FileOutputStream(destPath));
            }
        } catch (FileNotFoundException e) {         
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        DBAdapter db = new DBAdapter(this); 

        //---get a contact---
        db.open();
        Cursor c = db.getContact(2);
        if (c.moveToFirst())        
            DisplayContact(c);
        else
            Toast.makeText(this, "No contact found", Toast.LENGTH_LONG).show();
        db.close();

    }

    public void CopyDB(InputStream inputStream, OutputStream outputStream) 
    throws IOException {
        //---copy 1K bytes at a time---
        byte[] buffer = new byte[1024];
        int length;
        while ((length = inputStream.read(buffer)) > 0) {
            outputStream.write(buffer, 0, length);
        }
        inputStream.close();
        outputStream.close();
    }

    public void DisplayContact(Cursor c)
    {
    quest.setText(String.valueOf(c.getString(1)));      
        //quest.setText(String.valueOf("this is a text string"));    
    } 
} 
```

有没有更好的上传数据的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T12:25:30.633

这里想到了几件事......

1.  由于`!f.exists()`检查，一旦数据库存在（并且可能为空），它将永远不会再次复制它。所以也许现在，一直复制它，直到你解决扭结然后添加`!f.exists()`

2.  我的结果好坏参半`e.printStackTrace()`，也许改成`Log.e(TAG, "message", e)`，看看你是否开始看到 LogCat 中出现错误

至于更好的方法......我已经用几种不同的方式做到了...... 1.是创建一个文件（json，cvs等）然后处理并加载它，如果数据库是空的2.类似于第一个，除了我创建一个 java 序列化对象数组并将其加载到数据库，如果数据库是空的。

另外我不知道是什么`DBAdapter`样子的，因为它包装了数据库，所以问题可能就在那里。

# analytics - GA utm_campaign “未设置”并作为 utm_source

> ID：10895517
> 
> 赞同：0
> 
> 时间：2012-06-05T10:18:38.787
> 
> 标签：analytics, utm

在我每天发送的一封电子邮件 mkt 中，utm_parameters 定义如下

```
www.mydomain.com{/page}#utm_source=newsletter&utm_medium=textlink&utm_campaign=actividad 
```

所有链接都以相同的方式定义，但是当我看到广告系列的统计数据时，自 2 周前以来，它出现了大约 10% 的广告活动，使用以下来源/媒体

```
Source / medium

newsletter&utm_medium=textlink&utm_campaign=actividad / (not set) 
```

而其他 90% 看起来像这样

```
Source / medium

newsletter / textlink 
```

看起来如果在第一种情况下，GA 将整个字符串作为 Source 而没有其他任何东西作为媒介。

我已经查看了源代码中的所有内容以检查链接，并且它们都是相同的。我真的不知道该怎么办。

我感谢任何帮助，因为我即将投降。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-06T19:03:38.547

我可能是错的，但看起来你的语法不正确。`#`应该是`?`：

改变这个：

```
www.mydomain.com{/page}#utm_source=newsletter&utm_medium=textlink&utm_campaign=actividad 
```

对此：

```
www.mydomain.com{/page}?utm_source=newsletter&utm_medium=textlink&utm_campaign=actividad 
```

一旦你解决了这个问题，GA 应该会自动将你的数据分类到正确的广告系列中，并列出你的媒介。

希望这有效。

# javascript - 如何最好地跨 ajax 选项卡传递输入文本字段？

> ID：10895518
> 
> 赞同：1
> 
> 时间：2012-06-05T10:18:45.720
> 
> 标签：javascript, asp.net-mvc, jquery, razor

经验丰富的 .Net 开发人员，但也是一个完整的 ASP MVC（以及一般的 Web 开发人员）新手。我正在寻找关于我应该如何完成以下任务的最佳实践架构建议。

我有三个 jQuery-UI 选项卡：第一个有一个输入文本框：`<input type="text" name="username" \>`. 其他人正在通过 AJAX（隐式使用 jQuery）加载不同的页面，但需要知道此输入字段的值。如何从选项卡 2 或 3 的 ASP MVC 控制器中检索此值？这从根本上来说是一个坏方法吗？

~/Views/Shared/_Layout.cshtml：

```
<!DOCTYPE html>
<html>
<head>
    @Styles.Render("~/Content/themes/base/css", "~/Content/css")
    @RenderSection("head", required: false)
</head>
<body>
    @RenderBody()
</body>
</html> 
```

~/Views/Demo/Index.cshtml：

```
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section head
{
    <link rel="stylesheet" href="@Url.Content("~/Content/themes/base/jquery.ui.all.css")" />
    <script src="@Url.Content("~/Scripts/jquery-1.6.2.js")"></script>
    <script src="@Url.Content("~/Scripts/jquery-ui-1.8.11.js")"></script>
    <script>
        $(function() {
            $("#tabs").tabs();
        });
    </script>
}

<div id="tabs">
    <ul>
        <li><a href="#Tab1">Tab 1</a></li>
        <li><a href="/Tab2">Tab 2</a></li>
        <li><a href="/Tab3">Tab 3</a></li>
    </ul>
    <div id="Tab1">
        <p>Want to be able to get the value of the input field below from Tab2 and Tab3</p>
        <input type="text" name="username" />
    </div>
</div> 
```

~/Controller/Tab2Controller.cs：

```
using System.Web.Mvc;

namespace MvcApplication1.Controllers
{
    public class Tab2Controller : Controller
    {
        public ActionResult Index()
        {
            //  I want to replace this line with one that takes the value of
            //  the input text box and queries the model for the real data
            ViewBag.MyList = new[] { "1", "2", "3" };
            return View();
        }
    }
} 
```

~/Views/Tab2/Index.cshtml

```
@{
    Layout = null;
}

<ul>
    @foreach (var obj in ViewBag.MyList)
    {
        <li>@obj</li>
    }
</ul> 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T11:52:55.677

更改控制器操作以接收`username`.

```
public class Tab2Controller : Controller
{
   public ActionResult Index(string userName)
   {
       //  I want to replace this line with one that takes the value of
       //  the input text box and queries the model for the real data
        ViewBag.MyList = new[] { "1", "2", "3" };

        return View();
    }
} 
```

更新事件`href`的选项卡（2 和 3）`select`。

```
$(function() {
   $("#tabs").tabs({
      select: function(event, ui) {
          if(ui.index == 1 || ui.index == 2) // if the tab is 2 or 3.
          {
            // select the user name
            var username = $("#Tab1 input[name='username']").val();                                

            if(username){
                var url = "/Tab" + (ui.index + 1) + "?userName=" + username;
                $("#tabs").tabs( "url" , ui.index , url );
            }
          }
      }
   });
}); 
```

# android - 单选按钮更改文本颜色

> ID：10895526
> 
> 赞同：0
> 
> 时间：2012-06-05T10:19:19.267
> 
> 标签：android, android-text-color

我无法更改单选按钮中的文本颜色：

```
 <RadioGroup
                        android:gravity="center"
                        android:layout_width="fill_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:color = "#000000"
                    >

                        <RadioButton 
                            android:id="@+id/contact_yes"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:color = "#000000"
                            android:text="@string/yes" />

                        <RadioButton 
                            android:id="@+id/contact_no"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:color = "#000000"
                            android:text="@string/no" />
                </RadioGroup> 
```

它总是白色的，我想换成黑色的？

先感谢您

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:21:27.780

该属性`textColor="#ffff00ff"` 例如

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:21:48.203

```
android:textColor="#000000" 
```

**或者**

```
android:textColor="@android:color/black" 
```

用于`textColor` 改变文本颜色

```
<RadioButton android:id="@+id/contact_yes"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:color = "#000000"
android:text="@string/yes" /> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-05T10:22:49.233

试试这个：

```
<RadioButton 
android:id="@+id/contact_yes"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:textColor="#000000"
android:text="@string/yes" /> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-19T13:16:55.630

> 您可以使用 android:textColor 方法来做到这一点。

一个例子是 android:textColor="#00000000"

在#00000000 中，左边的两个位是透明位。#00（**透明**）00（**红色**）00（**绿色**）00（**蓝色**）。它们是十六进制的。

**有关透明位的更多详细信息，请参阅[设置透明背景](https://stackoverflow.com/questions/1492554/set-transparent-background-of-an-imageview-in-android)。**

# jquery - jquery formvalidation引擎添加方法

> ID：10895531
> 
> 赞同：0
> 
> 时间：2012-06-05T10:19:42.977
> 
> 标签：jquery, ajax, validation

如果验证器找到“@”符号，如何创建检查电子邮件是否有效的方法？（输入文本仅为姓名或电子邮件地址）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T10:23:07.647

```
function checkMail(email){
    var filter  = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
    if (filter.test(email)) {
        return true;
    }
    return false;
}

checkMail('me@domain.com'); // return true or false if invalid. 
```

如果写入了有效域，这将另外检查电子邮件地址。

me@something --> 无效
的@something.com --> 无效的
me@.com --> 无效
的 me@something.com --> 有效

[正则表达式库 -->](http://regexlib.com)

如果您想使用 jQuery 验证引擎验证邮件地址，只需添加：

```
data-validation-engine="validate[required,custom[email]]" 
```

到输入字段。

* * *

**从表单验证引擎 1.6.4**开始，**可以添加自己**的验证功能：[http ://www.position-absolute.com/news/form-validation-engine-1-6-4/](http://www.position-absolute.com/news/form-validation-engine-1-6-4/)

您可以用这个替换示例中的代码，然后它应该可以工作：

```
<input value="" data-validation-engine="validate[required,funcCall[nameOrMail]]" class="text-input nameOrMail" type="text" name="req" id="req" /> 
```

JS（给你的`<head>`）：

```
jQuery(document).ready(function(){
    jQuery("#formID").validationEngine({
        "nameOrMail": {
            "nname":"nameOrMail"
        }
    });
});

function checkMail(email){
    var filter  = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
    if (filter.test(email)) {
        return true;
    }
    return false;
}

function nameOrMail(){
    if($(".nameOrMail").val().indexOf('@') >= 0){
        if(!checkMail($(".nameOrMail").val())) {
            return "Please enter a valid mail address or name!";
        }
    } else {
        if($(".nameOrMail").val() === '') {
            return "Please enter a valid mail address or name!";
        }
    }
} 
```

**现场演示**：http: [//jsfiddle.net/4dUyX/](http://jsfiddle.net/4dUyX/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:26:31.590

使用拆分功能，那么您将不需要正则表达式

```
<script>
function check(email){
    if (email.split("@").length>0) {
        return true;
    }
   else return false;
}

check('jfvh@yahoo.com'); </script> 
```

# android - 什么是可接受的 android 内存消耗？

> ID：10895534
> 
> 赞同：0
> 
> 时间：2012-06-05T10:20:06.677
> 
> 标签：android, memory

我的相对较小的 Android 应用程序具有漂亮的图形，主要由 9 个可绘制对象组成，消耗大约 10MB 的内存。

你觉得这样好吗？或者我应该以某种方式优化它？小型应用程序可接受的内存消耗是多少？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:30:38.793

要获得任何设备的每个应用程序的近似内存限制，您可以使用[Activity 成员函数](http://developer.android.com/reference/android/app/ActivityManager.html#getMemoryClass%28%29)

```
 public int getMemoryClass () 
```

在 android 中运行的应用程序有 16/24MB 的内存限制。[该](https://groups.google.com/group/android-developers/browse_thread/thread/dad5be8ca26c1c51?pli=1)线程为您提供更多信息..

[本](http://blog.gorges.us/2010/07/developing-apps-within-androids-16mb-memory-limit/)教程讨论了一些良好的内存管理实践。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:31:42.733

没有规定小应用程序不应占用超过 x mb 的内存。Dalvik VM 为每个应用程序分配的内存默认值为 16 MB，使用 Android 1.6 操作系统或更高版本。只要您的应用程序使用的内存低于此限制，就可以了。

如果您真的想优化您的代码，请始终确保您的应用程序中没有任何内存泄漏，并且在使用后清除您的资源。那只是诀窍。:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:30:11.853

根据我的经验，10MB 很好。你可能遇到的最小的最大堆大小是 16MB，现在很多设备都比这个大。

我不确定为什么drawables占用了这么多内存。如果您还没有，也许可以尝试使用 zipaligned APK。eclipse 中的导出签名 APK 向导是一种简单的获取方法 - 开发版本通常不是压缩对齐的。

# xpages - 重复控制 - Tabindex

> ID：10895538
> 
> 赞同：0
> 
> 时间：2012-06-05T10:20:39.650
> 
> 标签：xpages

我使用重复控件来注册数据。根据一些测试，我希望光标移动到不同的字段。当我为重复控件中的字段设置 tabindex 时，tab 顺序会发生变化。光标现在在 tabindex 最低的列中的所有字段中移动，然后在下一列中的所有字段中移动。有没有办法改变标签顺序，使光标移动“行”？如果我必须以编程方式管理光标移动，那么在重复控件中获取光标位置的最简单方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T06:00:40.640

如果您使用的是 Domino 8.5.3，则可以创建一个 tabindex 自定义属性并使用 indexVar 作为 tabindex 的前缀，这样您就可以逐行跳转。可以在所有属性下创建自定义属性 - attrs。

我认为您必须使用自定义属性，因为标准属性只能在页面加载时计算，并且看起来 indexVar 在页面加载时不可用。

例如

```
<xp:inputText>
    <xp:this.attrs>
        <xp:attr name="tabindex" value="#{javascript:return rowIndex + '1';}" />
    </xp:this.attrs>
</xp:inputText> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T13:34:07.013

看起来你最好使用客户端脚本。使用 dojo.query 获取所有字段，然后对它们进行排序。

# templates - 使用带有淘汰赛的外部模板的最佳方法

> ID：10895541
> 
> 赞同：2
> 
> 时间：2012-06-05T10:20:56.330
> 
> 标签：templates, knockout.js, knockout-2.0

我用一些内部模板构建了一个 html 页面。见网址 jsfiddle：

[http://jsfiddle.net/hoven002/jQTDH/](http://jsfiddle.net/hoven002/jQTDH/)

使模板外部化的最佳方法是什么以及如何？

问候，肯尼斯

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-05T13:11:02.430

在我看来，最好的方法是使用这个插件：[https](https://github.com/ifandelse/Knockout.js-External-Template-Engine) ://github.com/ifandelse/Knockout.js-External-Template-Engine 。

它启用了一个新的模板引擎，该引擎将从外部文件中提取模板。它还有一些配置选项来确定从哪里提取模板。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-12-19T08:47:13.060

我编写了一个加载模板的函数，除了 jQuery 之外没有任何依赖项。您必须`<script>`使用属性标记要动态加载的每个标签`data-template-src`，并将 HTML 文件的路径放在那里。以下是代码和示例。

警告：因为它使用 AJAX 加载模板，所以它需要一个 HTTP 服务器（它不能在本地使用`file://`协议）

# /main.js

```
// Loads all the templates defined with the tag data-template-src.
// Returns a promise that fulfills when all the loads are done.
function loadTemplates() {
    var templateLoads = [];

    $('[data-template-src]').each(function () {
        var templateElement = $(this);
        var templateUrl = templateElement.attr('data-template-src');

        // Load the template into the element and push the promise to do that into the templateLoads array
        templateLoads.push(
            $.get(templateUrl)
            .done(function (data) {
                templateElement.html(data);
            })
        );
    });

    return $.when.apply($, templateLoads);
}

// When all templates are loaded, apply bindings
loadTemplates().done(function () {
    ko.applyBindings({}, document.getElementById("htmlDoc"));
}); 
```

# /index.html

```
<html id="htmlDoc">
  <body>
    <div data-bind="template: { name: 'exampleTemplate' }"></div>
    <script type="text/html" id="exampleTemplate" data-template-src="/assets/exampleTemplate.html"></script>

    <script src="/jquery.js"></script>
    <script src="/knockout.js"></script>
    <script src="/main.js"></script>
  </body>
</html> 
```

# /assets/exampleTemplate.html

```
<h1>Hello world</h1>

<div data-bind="template: { name: 'exampleSubTemplate' }"></div> 
```

# /assets/exampleSubTemplate.html

```
<h2>How do you do?</h2> 
```

# c# - 防止在 Json.NET Serializer 中获取整个上下文值

> ID：10895545
> 
> 赞同：0
> 
> 时间：2012-06-05T10:21:06.117
> 
> 标签：c#, asp.net, json, json.net

我正在使用 Json.NET 序列化程序来发送数据。

```
public string GetAllBuildingType()
  {
    IEnumerable<Model.BuildingType> getAll = CEEPMSContext.BuildingType_Repository.GetAll();
    return JsonConvert.SerializeObject(getAll);
   } 
```

在存储库**GetAll**函数中

```
public IEnumerable<BuildingType> GetAll()
{
    return context.BuildingTypes.ToList();           
} 
```

我只想要**BuildingType**数据，但要在其中获取整个上下文的数据。我怎样才能只获得**BuildingType**数据？是我在 Json.NET 中遗漏了某些东西，还是以错误的方式实现了它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T08:54:26.810

在对这个问题进行了大量研究之后，我无法找出它获取整个上下文数据的原因:(但是我通过从上下文中解析所需的表来解决了这个问题。

```
BuildingType building = new BuildingType();
building.id = context.BuildingType.Id;
building.name = context.BuildingType.name;
.....

return JsonConvert.SerializeObject(building); 
```

这样它发送正确的数据。

# twitter-bootstrap - 当已经显示一个模态时，无法打开模态

> ID：10895546
> 
> 赞同：0
> 
> 时间：2012-06-05T10:21:11.770
> 
> 标签：twitter-bootstrap, modal-dialog

我无法得到：当我从登录模式打开 sign_up 模式时 - 一切正常，但是当我试图在 sign_up 模式中做同样的事情时 - 它不起作用。

这是我的视图和部分代码：

```
 Buttons
<a class="btn" data-toggle="modal" href="#login">Login</a>
<a class="btn" data-toggle="modal" href="#sign_up" >Sign Up</a>
-------------------------------
 <div class="modal hide" id="login">
   <%= render :template => "devise/sessions/new" %> 
 </div>
 <div class="modal hide" id="sign_up">
  <%= render :template => "devise/registrations/new" %>
 </div>
------------------------------
         My redirection links
<%= link_to('or Sign Up', "#sign_up", "data-toggle" => "modal") %>
<%= link_to('or Login', "#login", "data-toggle" => "modal") %> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-22T06:13:46.803

从sign_up打开登录模式时，我使用此代码解决了问题：

```
 $("#signup").click(function() {//signup - link id
$("#login").removeAttr("static");
$('#login').modal('hide');
$('body').removeClass('modal-open');
$('.modal-backdrop').remove();
}); 
```

并从登录模式打开 sign_up：

```
 $("#signin").click(function() {
 $("#sign_up").removeAttr("static");
 $('#sign_up').modal('hide');
 $('body').removeClass('modal-open');
 $('.modal-backdrop').remove();
 }); 
```

# django - Django 模板不工作 - 不呈现 {{ }}

> ID：10895548
> 
> 赞同：0
> 
> 时间：2012-06-05T10:21:16.387
> 
> 标签：django, templates, views, blogs

我遵循了制作博客引擎的教程并成功集成了它。只是这个模板不起作用，我不知道为什么。可能是什么问题？

这是模板：

```
{% extends "base.html" %}

{% block title %}{% post.title %}{% endblock %}

{% block content %}

<h3>{{ post.title }}</h3>
<p>Posted on {{ post.published|date:"F j, Y" }}<p>

{{ post.description|safe }}
<br>
{{ post.body|safe }}
<br>

{% if previous_post %}
<a href="{{ previous_post.get_absolute_url }}" title="{{ previous_post.title }}">
&laquo;&nbsp;Previous Post:&nbsp;&nbsp;{{ previous_post.title }}
</a>{% endif %}

{% if previous_post and next_post %}&nbsp;|&nbsp;{% endif %}

{% if next_post %}
<a href="{{ next_post.get_absolute_url }}" title="{{ next_post.get_absolute_url }}">
Next Post:&nbsp;&nbsp;{{ next_post.title }}&nbsp;&raquo;
</a>
{% endif %}

{% endblock content %} 
```

这是views.py：

```
def detail(request, sl):
try:
     post = Post.objects.filter(slug=sl)[0]
     try:
          previous_post = post.get_previous_by_published()
     except:
          previous_post = ""
     try:
          next_post = post.get_next_by_published()
     except:
          next_post = ""
except:
     next_post = ""
     previous_post = ""
     post = ""
return render_to_response('blog/detail.html', {'post':post,
                                        'next_post':next_post,
                                        'previous_post':previous_post,
                                                               },) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T15:23:10.673

好的，所以我发现并解决了我的问题。只是想把它贴在这里，以便有人可以使用它。这实际上是一个 n00b 错误。

所以 {{}} 没有渲染，因为“sl”中没有我在函数中作为参数调用的任何内容。它是空的，因为我正在学习一个教程，而该教程没有解释关于 Django 的一个非常重要的事情，那就是命名组可以作为参数添加到函数中，我没有名为“sl”的命名组urlconf 在适当的位置。所以通过添加这个：

```
(r'^([0-9]{4}/\d{1,2})/(?P<sl>.*)/$', detail), 
```

在 urlconf 中问题已解决。

感谢所有的指导。

# jquery - 带有连接列表的jQuery交换项目

> ID：10895549
> 
> 赞同：0
> 
> 时间：2012-06-05T10:21:22.260
> 
> 标签：jquery, jquery-ui, jquery-ui-sortable

我正在使用默认的 jQueryUI 连接的可排序列表。但我需要一些（据我所知）不是默认功能。我希望这里有人知道一种简单的方法来完成我想要的事情（也许使用插件？）。我找不到任何直接的解决方案。

就像我说的，我正在使用默认的可排序连接：http: [//jsfiddle.net/KLvdn/](http://jsfiddle.net/KLvdn/)

这一切都有效。我可以将项目从一个列表拖放到另一个列表。但我真正想要的是能够从一个列表中拖动一个项目，将其放在另一个列表中的另一个项目的顶部并让它们交换。

所以逐步;

*   我从左侧列表中拖动“项目 1”
*   我将它放到右侧列表中的“项目 3”上
*   “项目 1”将定位在“项目 3”的位置
*   “Item3”将移动到“Item 1”所在位置的左侧列表中。

这是否已经成为可能？

* * *

**我的解决方案**

这就是我最终所做的。

我需要一种方法将一个列表中的项目放到另一个列表中的项目之上。放下时，其下方的项目应自动放置在另一个列表中。因此，交换这两个项目。

首先，我在连接列表中添加了三个属性：

```
var _index = null;
$("#field-mylist, #test-mylist").sortable({
    connectWith: ".mylist",
    placeholder: 'ui-placeholder', // <-- VERY IMPORTANT
    change: function (event, ui) {
        markForReplacement('mylist', ui);
    },
    update: function (event, ui) {
        updateConnectedLists('mylist');
    }
}).disableSelection(); 
```

**以及change**和**update**事件调用的两个函数：

```
function markForReplacement(position, ui) {
    var total = 0;
    $('#field-' + position + ' .player').each(function (index) {
        $(this).removeClass("selected-item");
        total++;
    });

    var index = ui.placeholder.index();
    if (total < (index + 2)) {
        $('#field-' + position + ' div:eq(' + (index - 1) + ')').addClass("selected-item");
        _index = (index - 1);
    } else {
        $('#field-' + position + ' div:nth-child(' + (index + 2) + ')').addClass("selected-item");
        _index = (index + 2);

    }
}

function updateConnectedLists(position) {
    if (_index === null)
        return;

    $('#field-' + position + ' div:nth-child(' + (_index) + ')').insertAfter($("#test-" + position + " .player"));
    _index = null;

    // Reset class styles
    $('#test-' + position + ' .player').each(function (index) {
        $(this).removeClass("selected-item");
    });

    $('#test-' + position).sortable('refresh');
} 
```

要添加的另一件重要的事情是以下 CSS 样式：

```
.ui-placeholder {
    float: left;
}

.selected-item{
    border-color: #FF6600 !important;
} 
```

使用*ui-placeholder*您实际上可以将一个项目放在另一个项目的顶部（在释放它之前）。.selected *-item*类为即将移动到另一个列表的元素（即底层项目）提供边框。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:29:20.920

尽管在线演示似乎已关闭，但您可以检查此插件以进行[交换。](http://www.eslinstructor.net/test/jquery/swapable_list.html)

免责声明我自己没有尝试过这个插件。

[SO](https://stackoverflow.com/questions/2263687/jquery-sortable-obtain-2-elements-being-swapped)上的这篇文章是在同一条线上。

[这](https://stackoverflow.com/questions/4956039/jquery-sortable-change-event-element-position/)对于移动元素的索引也很有帮助。

# bash - 如何添加shell脚本？

> ID：10895553
> 
> 赞同：1
> 
> 时间：2012-06-05T10:21:42.330
> 
> 标签：bash, unix

假设变量 a 的值为 42，

```
b=18+$a
The value of b should be 60 
```

但我没有得到 60 的值。而是打印 18+42。我该怎么做 ？

新查询：

```
grep -F "$name" -A1000 filename | sed -n '1p;19p;24p' 
```

假设让 a=10,b=20,c=30。在上面的 grep 命令中我可以使用 '$ap;$bp;$cp' 而不是 '1p;19p;24p' 吗？

另一件事，我给出了-A1000。这意味着从 1p 开始考虑到 1000 行，对吗？我需要在不提供数字的情况下搜索整个文件。何

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-05T10:25:35.683

### 重击：

```
b=$((18+a))
echo "value of b is $b" 
```

或者

```
let b=18+a
echo "value of b is $b" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:33:52.573

Bash 中的任何数学运算都涉及使用 $(())

所以，除了，你会做： -

```
b=$((18 + a)) 
```

请注意，a 之前的“$”不是必需的。Bash 中数学运算的更多示例是：-

```
a=$((17+1))
b=$((100-a))
c=$((a*b))
d=$((c/b))
echo $((10 * 1024 * 1024)) # Echoes the number bytes in 10 MB 
```

# database - 图和超图数据库之间的区别？

> ID：10895556
> 
> 赞同：7
> 
> 时间：2012-06-05T10:22:03.867
> 
> 标签：database, graph, nosql, definition

图和超图数据库之间有区别吗？

每个超图数据库系统也是一个图数据库系统吗？

我要求并排比较。如果可以在一行中显示：

```
Graph support:       No/Graph/Hypergraph 
```

或者如果最好使用两行：

```
Graph support:       No/Yes
Hypergraph suppport: No/Yes 
```

还是在数据库上下文中表示“图形”和“超图”相同？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-05T12:51:42.543

某个图数据库如何处理其边缘是一个实现细节。因此，关于“[hyper] graph databases in general”无法真正给出答案。

然而，从数学图论的角度来看，这是有区别的：

*   ***从标准* **图**模型（有向或无向）`1:1`连接 中已知的**边。****
***   **从超**图模型（有向或无向）连接中已知的**超边。**`n:n`**

 ****图**与**超图**：

> 一个**简单的图**可以被认为是**超图的一个特例**，即**2-uniform 超图**。但是，当没有任何限定条件时，总是假定一条边最多由 2 个顶点组成，并且永远不会将图与超图混淆。 ^(（[来源](http://en.wikipedia.org/wiki/Glossary_of_graph_theory#Basics)）)

**无向超边**：

> A[n] [无向] 超边是允许具有**任意数量的顶点的边**，可能超过 2 个。允许任何超边的图称为超图。 ^(（[来源](http://en.wikipedia.org/wiki/Glossary_of_graph_theory#Basics)）)

**有向超边**：

> 有向超图（Ausiello 等人，1985 年；Gallo 等人，1993 年）是有向图（有向图）的概括，它们可以**对给定集合的子集之间的二元关系建模**。 ^(（[来源](http://www.scielo.br/scielo.php?script=sci_arttext&pid=S0101-74382005000300005)）)**

# cookies - IE9 用于第三方请求的单独 cookie

> ID：10895558
> 
> 赞同：0
> 
> 时间：2012-06-05T10:22:20.350
> 
> 标签：cookies, internet-explorer-9, php-5.3, p3p

尽管我的 P3P 标头是正确的，但 IE9 似乎为第三方请求保留了一个单独的列表。

我添加了以下 P3P

```
header('P3P:CP="NOI DSP COR CURa ADMa DEVa PSAa PSDa OUR BUS IND UNI COM NAV INT", policyref="http://domain/w3c/p3p.xml"') 
```

当然，正确设置域。它由 IBM 工具创建。接下来，我创建了 p3p xml 文件并使用 p3p 验证对其进行了测试。

一旦我调用了一个测试文件，说明什么都没有

```
 <?php

    header ('P3P:CP="NOI DSP COR CURa ADMa DEVa PSAa PSDa OUR BUS IND UNI COM NAV INT", policyref="http://padrichem.ds1.nl.dev/w3c/p3p.xml"');

    session_start();

    var_dump($_COOKIE); 
```

它说 $_COOKIE 是空的，刷新它说 $_COOKIE[PHPSESSID] = 'id'

现在我从 iframe 中的远程位置调用同一个文件，它说 $_COOKIE 是空的，刷新它说 $_COOKIE[PHPSESSID] = 'DIFFERENT id'

当我禁用保护模式时，情况并非如此。然而，并非所有域都如此。

在硬盘上，我只能找到 iFrame（第三方）调用设置的 cookie。

有谁知道为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-02T04:19:35.733

您的问题很可能是因为 IE 在跨区域场景中如何处理 cookie：

请参阅以下内容：

[IE9 - asp.net 无法访问第三方站点为我的域创建的 cookie](https://stackoverflow.com/a/16330218/400011)
[小心跨区域场景中的 Cookie 共享](http://blogs.msdn.com/b/ieinternals/archive/2011/03/10/internet-explorer-beware-cookie-sharing-in-cross-zone-scenarios.aspx)

# python - 在字典中查找最长（字符串）键

> ID：10895567
> 
> 赞同：7
> 
> 时间：2012-06-05T10:22:53.833
> 
> 标签：python

这个问题类似于[Python——在字典中查找最长（最多的词）键](https://stackoverflow.com/questions/4321160/python-find-longest-most-words-key-in-dictionary)——但我需要纯字符数。

示例输入：

```
d = {'group 1': 1, 'group 1000': 0} 
```

输出：

```
10 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-05T10:33:20.233

```
>>> max(len(x) for x in d) 
```

或者

```
>>> max(map(len, d)) 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-06-05T11:15:11.073

替代方案，与@jamylak 的解决方案一样快，而且更 Pythonic：

```
from itertools import imap
max(imap(len, d)) 
```

看比较：

```
$ python -m timeit -s "d = {'group 1': 1, 'group 1000': 0}" "len(max(d,key=len))"
1000000 loops, best of 3: 0.538 usec per loop

$ python -m timeit -s "d = {'group 1': 1, 'group 1000': 0}" "max(len(x) for x in d)"
1000000 loops, best of 3: 0.7 usec per loop

$ python -m timeit -s "d = {'group 1': 1, 'group 1000': 0}; from itertools import imap" \
  "max(imap(len, d))"
1000000 loops, best of 3: 0.557 usec per loop 
```

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-06-05T10:28:17.237

```
>>> d = {'group 1': 1, 'group 1000': 0}
>>> len(max(d, key=len))
10 
```

这个解决方案是最快的，但我更喜欢@eumiro 和@ms4py 的解决方案，因为它们不会重复该`len`功能两次，而且更像是pythonic imo。

# java - 如何纠正这个程序？

> ID：10895569
> 
> 赞同：0
> 
> 时间：2012-06-05T10:22:54.220
> 
> 标签：java, swing, jfreechart

这是一个显示饼图的程序。我也有一个按钮。但是我编写的程序创建了两个单独的框架，一个框架用于饼图，另一个用于按钮。如何将按钮和饼图放在同一个框架上？你能纠正我的程序吗？

```
import java.awt.*;

import org.jfree.chart.*;

import org.jfree.chart.title.*;

import org.jfree.data.general.DefaultPieDataset;

import org.jfree.ui.*;

import java.io.*;

import javax.swing.*;

import java.awt.event.*;

import javax.swing.filechooser.*;

public class Pie{

 public static void getFile(File f)
{

    System.out.println("File is: "+f.getName());

}

public static void main(String[] args)
{

   JPanel panel=new JPanel();

    panel.setLayout(null);

    JButton b=new JButton("Open File");

    b.addActionListener(new ActionListener()

 {

        public void actionPerformed(ActionEvent e)

  {

        JFileChooser chooser=new JFileChooser();

        int ret = chooser.showDialog(null, "Open file");

        if (ret == JFileChooser.APPROVE_OPTION)

        {

        File file = chooser.getSelectedFile();

        getFile(file);

        }

       }

    }
);
       b.setBounds(50,40,100,35);

       panel.add(b);

    DefaultPieDataset pieDataset = new DefaultPieDataset();

  ieDataset.setValue("A", new Integer(10));

  pieDataset.setValue("B", new Integer(20));

  pieDataset.setValue("C", new Integer(30));

  pieDataset.setValue("D", new Integer(10));

  pieDataset.setValue("E", new Integer(20));

  pieDataset.setValue("F", new Integer(10));

  FreeChart chart = ChartFactory.createPieChart("Pie Chart using JFreeChart", pieDataset, true,true,true);

  ChartFrame frame1=new ChartFrame("Pie Chart",chart);

  frame1.add(panel);

  frame1.setVisible(true);

  frame1.setSize(600,600);

 }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T11:00:04.983

1.  除非真的有必要，否则不要使用绝对布局。依靠布局管理器、首选项/最小/最大尺寸以及对尺寸和位置组件的约束。这也意味着您不应该在组件上调用 setBounds/setSize/setLocation，让布局管理器为您执行此操作。
2.  从 EDT 初始化 UI（事件调度程序）
3.  您目前没有对 FileChooser 执行任何操作
4.  尽量避免`static`使用`new Something()`
5.  不要使用`new Integer()`而是使用`Integer.valueOf()`（这对所有原始包装类都有效，Boolean、Short、Long ......）

我不确定你是如何得到两个帧的，但我通过这种方式修改了你的代码。

```
import java.awt.BorderLayout;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.File;

import javax.swing.JButton;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;

import org.jfree.chart.ChartFactory;
import org.jfree.chart.ChartPanel;
import org.jfree.chart.JFreeChart;
import org.jfree.data.general.DefaultPieDataset;

public class Pie {

    private static void initUI() {
        JPanel panel = new JPanel(new FlowLayout());
        final JButton b = new JButton("Open File");
        b.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                JFileChooser chooser = new JFileChooser();
                int ret = chooser.showDialog(b, "Open file");
                if (ret == JFileChooser.APPROVE_OPTION) {
                    File file = chooser.getSelectedFile();
                    // Don't know what you want to do
                }
            }

        });
        panel.add(b);
        DefaultPieDataset pieDataset = new DefaultPieDataset();
        pieDataset.setValue("A", Integer.valueOf(10));
        pieDataset.setValue("B", Integer.valueOf(20));
        pieDataset.setValue("C", Integer.valueOf(30));
        pieDataset.setValue("D", Integer.valueOf(10));
        pieDataset.setValue("E", Integer.valueOf(20));
        pieDataset.setValue("F", Integer.valueOf(10));
        JFreeChart chart = ChartFactory.createPieChart("Pie Chart using JFreeChart", pieDataset, true, true, true);
        JFrame frame1 = new JFrame();
        frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        ChartPanel chartPanel = new ChartPanel(chart);
        // chartPanel.setPreferredSize(new Dimension(600, 600));
        frame1.getContentPane().add(chartPanel, BorderLayout.CENTER);
        frame1.getContentPane().add(panel, BorderLayout.SOUTH);
        frame1.pack();
        frame1.setVisible(true);
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                initUI();
            }
        });
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T11:03:33.363

有一个类叫`ChartPanel`. 它是类的子`JPanel`类。

```
JPanel chartPanel = new ChartPanel(chart); 
```

然后您可以将此面板添加到框架中。希望这可以帮助........

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:36:53.247

替换此行

```
 ChartFrame frame1=new ChartFrame("Pie Chart",chart); 
```

和

```
 panel.add(chart) 
```

请让我知道结果

# php - php，拥有小文件管理器而不是 FTP。好主意？

> ID：10895575
> 
> 赞同：2
> 
> 时间：2012-06-05T10:23:22.420
> 
> 标签：php, ftp, httprequest

我计划添加文件管理器（非常基本的一次），因为我从未使用过 FTP 功能，而且看起来更容易（脚本完成后 FTP 连接丢失）。我会简单地使用 POST 请求（或者我应该使用什么？）而不是 FTP 功能。这是个好主意吗？有谁知道限制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:33:14.683

我不会推荐它，但最好使用 3rd 方工具，而不是自己编写。

*   [PHP 文件管理器](http://phpfm.sourceforge.net/)
*   [PHPfileNavigator2](http://pfn.sourceforge.net/index.php?opc=4&lg=ing)
*   [文件管理器](http://www.gerd-tentler.de/tools/filemanager/)
*   ...

请记住，PHP 和您的网络服务器都可以对您可以传输的文件大小设置某些限制，当然可以在配置文件中更改这些限制。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:30:04.507

据我所知，只有 FTP 功能是发布和接收文件。

您需要做的是添加动态表单，您可以在其中选择多个文件并将它们上传到您选择的特定目录。
您将需要获取其中的所有可用目录和文件，可能使用某种递归函数。更优化的方法是获取当前文件夹的目录/文件，当您单击文件夹时，它将获取文件/文件夹。

能做到吗——当然。这是个好主意吗 - 不。人们将有权上传恶意文件，我们这里不是在谈论图像、php 脚本、shell 脚本、可执行病毒等等......

如果您只是为自己这样做，对于文件发布和接收，我建议您使用 FTP 客户端。

# iphone - Ant如何在远程机器上创建目录

> ID：10895576
> 
> 赞同：0
> 
> 时间：2012-06-05T10:23:23.263
> 
> 标签：iphone, ios5, ant

我想在远程机器上创建一个目录。远程机器在 Windows 操作系统上运行。我的机器是Mac。我通过以下方式尝试过

```
<mkdir dir="//172.21.3.21/Projects/BoardApp/Releases"/> 
```

然后该目录是在我自己的机器的根目录中创建的，而不是在远程机器中。我怎么解决这个问题？

# java - 要执行指定时间量的线程。

> ID：10895578
> 
> 赞同：0
> 
> 时间：2012-06-05T10:23:29.717
> 
> 标签：java, android, multithreading

每*30 秒*，记录就会存储到*SQLite DB*中。

我想在*30 秒*内执行一个线程，将记录数发布到我们的服务器。

如果线程超过*30 秒*，则自行终止线程。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T10:29:15.320

使用定时器如下：

```
Timer t = new Timer();
  t.schedule(new TimerTask() {

      @Override
      public void run() {                   //timer

          System.out.println("done");
          this.cancel();

      }
  }, 30000L); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:28:50.093

看看[Handlers](http://developer.android.com/reference/android/os/Handler.html)，特别是`postDelayed(Runnable, long)`方法。

这是一种指定将来运行的代码的轻量级方法，在您的情况下，您可以将其设置为`30 seconds`并检查有问题的代码是否仍在运行。

（例如，通过在代码运行时将布尔值设置为 true）并通过您可用的任何方式终止它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-05T10:29:33.170

1.  用于`thread.sleep(30000);`使线程休眠 30 秒。
2.  在 run() 方法中实现将数据存储在 DB 中的代码。
3.  完成存储记录的数据后使用`thread.interrupt();`

注意：不要使用`thread.stop();`，因为它是不推荐使用的方法。

# ruby-on-rails - 使用 Nginx 在一个 VPS 内为各种站点提供服务

> ID：10895587
> 
> 赞同：1
> 
> 时间：2012-06-05T10:24:06.420
> 
> 标签：ruby-on-rails, deployment, nginx, vps, unicorn

我遵循了 Rails Casts 中的教程：[#335 Deploying to a VPS](http://railscasts.com/episodes/335-deploying-to-a-vps)。我有一个使用 Ubuntu 10.04 映像设置的 linode VPS，我可以部署到它。现在它正在服务：

```
/home/user0/first-rails-app/public (domain1.com) 
```

我想使用 nginx 为另一个 rails 应用程序和一个 php 应用程序提供服务，假设它们存储在这里：

```
/home/user1/php-app/public (domain2.com)
/home/user2/another-rails-app/public (subdomain.domain1.com) 
```

我的 nginx.conf

```
upstream unicorn {
  server unix:/tmp/unicorn.blog.sock fail_timeout=0;
}

server {
  listen 80 default deferred;
  # server_name example.com;
  root /home/user0/first-rails-app/public;

  location ^~ /assets/ {
    gzip_static on;
    expires max;
    add_header Cache-Control public;
  }

  try_files $uri/index.html $uri @unicorn;
  location @unicorn {
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header Host $http_host;
    proxy_redirect off;
    proxy_pass http://unicorn;
  }

  error_page 500 502 503 504 /500.html;
  client_max_body_size 4G;
  keepalive_timeout 10;
} 
```

所有域和子域都指向服务器（xxxx）。即使我在 nginx.conf 中正确设置了虚拟主机，我也不确定如何在同一服务器中使用 unicorn 和两个 rails 应用程序。

有什么建议从哪里开始寻找或修改什么？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:47:50.030

你只需要在你的conf中声明多个上游

```
upstream app1 { server unix:/tmp/app1.sock; }
upstream app2 { server unix:/tmp/app2.sock; }

server {
  server_name http://www.example.com
  location /foo {proxy_pass http://app1; break;}
  location /bar {proxy_pass http://app2; break;}
} 
```

# visual-c++ - 在 32 位 MS ODBC (C++) 应用程序中访问超过 40 亿行

> ID：10895588
> 
> 赞同：0
> 
> 时间：2012-06-05T10:24:11.017
> 
> 标签：visual-c++, 64-bit, odbc, 32-bit

我有一个 32 位应用程序，它必须同时连接到 32 位和 64 位 ODBC 数据库。我看到一些 MS ODBC 函数对于 32 位和 64 位版本具有不同的签名。这似乎意味着只有 64 位应用程序可以使用 64 位索引。是这样吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T11:00:29.333

在 64 位 ODBC API 中，一些参数现在是 8 个字节，以前是 4 个字节。然而，很少与行数有关，而更多与字段的大小有关（例如，一个 lob）。您引用的 API 返回受影响的行数，并且我所知道的没有驱动程序在选择时为 SQLRowCount 设置除 -1 以外的任何内容。因此，对于 SQLRowCount，您只需要担心是否要一次更新/删除 20 亿行并且需要对这些行更改/删除的计数。如果您真的要一次更新/删除 20 亿行，您可能会遇到比是否使用 32 位/64 位 ODBC API 更大的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T15:33:29.747

首先，您不会一次获取 40 亿行。如果你这样做，奇怪的事情就会发生。第二，你说的日期类型是SLQLEN。对于 32 位驱动程序，它是一个 4 字节的 int，对于 64 位驱动程序，它是一个 8 字节的整数。但是，并非所有 64 位驱动程序都有 8 字节 SQLLEN。我亲自使用过十几个 64 位 odbc 驱动程序，其中大约 40% 仍然使用 4 字节 SQLLEN（同时，驱动程序管理器也应该有 4 字节 SQLLEN，否则，您将看到损坏的数据和内存在某些平台上到处都有错误）。

# ruby - 如何以更 Ruby 的方式从文本文件制作单词列表？

> ID：10895590
> 
> 赞同：1
> 
> 时间：2012-06-05T10:24:16.413
> 
> 标签：ruby, syntax, split

我想使用 Ruby 从文本文件中获取单词列表。[我在这里](https://stackoverflow.com/questions/3538640/regular-expression-to-strip-everything-but-words)找到了如何使用正则表达式来仅解析单词，因此我制作了如下脚本：

```
src = File.open("text.txt")
word_list = []
src.each do |line|
  word_list << line.downcase.split(/[^[:alpha:]]/).delete_if {|x| x == ""}
end
word_list.flatten!.uniq!.sort!
p word_list 
```

以下是一个示例文本文件`text.txt`：

> TextMate 可能是开发 Ruby on Rails 应用程序的最新热潮，但 Vim 是永恒的。该插件为 Ruby on Rails 应用程序开发提供以下功能。
> 
> 1.  自动检测包含来自 Rails 应用程序的文件的缓冲区，并将设置应用于这些缓冲区（并且仅应用于这些缓冲区）。您也可以使用自动命令来应用您自己的自定义设置。
>     
>     
> 2.  不打扰。只有 Rails 应用程序中的文件应该受到影响；常规的 Ruby 脚本保持不变。即使启用，如果您不使用它的功能，插件也应该远离您。
>     
>     
> 3.  Rails 目录结构的轻松导航。gf 考虑上下文并了解部分、固定装置等。有两个命令，:A（备用）和 :R（相关）用于在文件之间轻松跳转，包括模型到迁移、模板到帮助器和控制器到功能测试等收藏夹。对于更高级的用法，提供了:Rmodel、:Rview、:Rcontroller 和其他几个命令。

作为一名 Ruby 新手，我想为这个问题学习更好的（更清晰、简洁和遵循惯例）的解决方案。

感谢您的任何建议和更正。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-05T10:41:42.297

更惯用的代码是：

```
word_list = open("text.txt")
  .lines
  .flat_map { |line| line.downcase.split(/[^[:alpha:]]/).reject(&:empty?) }
  .uniq
  .sort 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-05T10:32:19.027

```
# I suppose you want each line and collect the results
word_list = File.open("text.txt").each_line.collect do |line|
   # collecting is done via collect above, no need anymore
   # .reject(&:empty?) calls .empty? on each element
   line.downcase.split(/[^[:alpha:]]/).reject(&:empty?)
# you can chain on blocks as well
end.flatten!.uniq!.sort!

p word_list 
```

# ios - 如何使用 iPhone 应用程序缓存 Facebook 好友列表

> ID：10895598
> 
> 赞同：0
> 
> 时间：2012-06-05T10:25:21.417
> 
> 标签：ios, facebook, caching, indexing, fb-graph

我正在开发包含 facebook 连接的 iPhone 应用程序。我正在使用第三方 API`FBGraph`来检索 Facebook 好友列表。

目前我的问题是，当列表中有大量朋友时，加载它们需要很长时间。当我浏览页面并再次访问时，它会一次又一次地加载。

为了避免这种情况，我正在尝试使用缓存概念。但我目前坚持这一点。我不知道如何缓存 Facebook 好友列表。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:32:10.837

有多种方法可以在 IOS 中缓存数据。

*   您可以将响应存储在文件中，并在需要时使用该文件。
*   您可以使用核心数据/独立存储它 sqlite db

还有很多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:15:29.480

只需在应用启动时加载用户朋友，然后一直使用它。

# android - 下载图片并实现gridview

> ID：10895602
> 
> 赞同：0
> 
> 时间：2012-06-05T10:25:43.803
> 
> 标签：android, gridview

我有几个字符串数组，用于将文本数据从 mysql 服务器下载到 android 客户端应用程序。我能够将标题文本（F_NAME）显示为 listview。如何为保存在服务器上单独文件夹中的每个文本下载相应的图像（该文件夹的正确路径可用，让它成为我的网址）。我需要将所有图像以及来自 F_NAME[] 的标题名称显示为 gridview。我应该进行哪些更改？请编辑我的代码并向我显示确切的代码，谢谢提前。我的 java 类和 xml 文件：

```
public class MainMenu extends ListActivity {
InputStream is;
@Override
public void onCreate(Bundle savedInstanceState) {
  super.onCreate(savedInstanceState);
  String result = "";
try{
    HttpClient httpclient = new DefaultHttpClient();
    HttpPost httppost = new HttpPost(my url);
    HttpResponse response = httpclient.execute(httppost); 
    HttpEntity entity = response.getEntity();
    is = entity.getContent();
    Log.e("log_tag", "connection success ");
 }catch(Exception e){
    Log.e("log_tag", "Error in http connection "+e.toString());}

try{
    BufferedReader reader = new BufferedReader(new InputStreamReader(is,"iso-8859-1"),8);
    StringBuilder sb = new StringBuilder();
    String line = null;
    while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
    }
    is.close();
result=sb.toString();}
catch(Exception e){
   Log.e("log_tag", "Error converting result "+e.toString());
Toast.makeText(getApplicationContext(), "fail1", Toast.LENGTH_SHORT).show();}
try{
    JSONArray jArray = new JSONArray(result);
    int arrayLength=jArray.length();
    String F_NAME[]=new String[arrayLength];
    String F_ID[]=new String[arrayLength];
    String F_AVAIL[]=new String[arrayLength];
    String F_DESCP[]=new String[arrayLength];
    String F_COST[]=new String[arrayLength];
    for(int i=0;i<arrayLength;i++){
           JSONObject json_data = jArray.getJSONObject(i);
           F_ID[i]=json_data.getInt("F_ID")+"";
           F_NAME[i]=json_data.getString("F_NAME");
           F_DESCP[i]=json_data.getString("F_DESCP");
           F_AVAIL[i]=json_data.getString("F_AVAIL");
           F_COST[i]=json_data.getInt("F_COST")+"";}
setListAdapter(new ArrayAdapter<String>(this, R.layout.menu, F_NAME));
ListView lv = getListView();
lv.setTextFilterEnabled(true);lv.setOnItemClickListener(new OnItemClickListener() {

public void onItemClick(AdapterView<?> parent, View view,
  int position, long id) {
Toast.makeText(getApplicationContext(), ((TextView) view).getText(),
    Toast.LENGTH_SHORT).show();}});}
    catch(JSONException e){
        Log.e("log_tag", "Error parsing data "+e.toString());
        Toast.makeText(getApplicationContext(), "fail"+e.toString(), Toast.LENGTH_SHORT).show();
} }} 
```

# iphone - 如果设备具有 Facebook 应用程序，Facebook API 不会调用委托（请求）方法

> ID：10895603
> 
> 赞同：1
> 
> 时间：2012-06-05T10:25:54.023
> 
> 标签：iphone, objective-c, ios

在我的应用程序中使用 Facebook api，在我的设备中也有 Facebook 应用程序（FBApp）。在我的应用程序中，当我们单击按钮时，我提供了一个登录按钮，它正在打开 FBApp 登录屏幕，然后它会进入我的应用程序。这里以下方法不触发

**-(void)request:(FBRequest *)request didReceiveResponse:(NSURLResponse *)response -(void)request:(FBRequest *)request didLoad:(id)result**

这是按钮动作

```
- (IBAction)LoginOrLogout 
{
// If the user is not connected (logged in) then connect.  Otherwise logout.
if (!isConnected)
{
    [messageTextField setHidden:NO];
    [facebook authorize:permissions];
    // Change the lblUser label's message.
    **[lblUser setText:@"Please wait..."];** //struck here only not firing delegate response methods above
}
else 
{
    [facebook logout:self];
    [messageTextField setHidden:YES];
    [lblUser setText:@"Tap on the Login to connect to Facebook"];
}
isConnected = !isConnected;
[self setLoginButtonImage];
} 
```

如果没有 FBApp，它会成功调用委托方法。我们如何解决这个问题。任何人都可以提供帮助或建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:10:15.030

实际上，当您点击授权时，它将打开 safari，或者如果设备上有 facebook 应用程序，那么它将打开 facebook 应用程序，否则它将在 safari 中打开 facebook。如果您不想打开 safari 和 facebook 应用程序，那么在**facebook.m**中将它调用为 NO 的任何地方更改此语句。

```
[self authorizeWithFBAppAuth:NO safariAuth:NO]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T12:20:05.443

我只能在 AppDelegate 类上收到这些通知。我尝试创建一个可以插入到每个项目中的 util 类，以便它可以帮助人们使用 Facebook API。问题是即使我将委托设置为我的 util 类，委托的方法也从未被调用。尝试将其放在 AppDelegate 上..

# java - 如何在java中模拟单个方法

> ID：10895605
> 
> 赞同：38
> 
> 时间：2012-06-05T10:26:01.903
> 
> 标签：java, mocking

是否可以模拟 Java 类的单个方法？

例如：

```
class A {
    long method1();
    String method2();
    int method3();
}

// in some other class
class B {
    void someMethod(A a) {
       // how would I mock A.method1(...) such that a.method1() returns a value of my
       // choosing;
       // whilst leaving a.method2() and a.method3() untouched.
    }
} 
```

* * *

## 回答 #1

> 赞同：79
> 
> 时间：2012-06-05T10:29:14.100

使用`Mockito's`间谍机制：

```
A a = new A();
A aSpy = Mockito.spy(a);
Mockito.when(aSpy.method1()).thenReturn(5l); 
```

对于任何未存根的方法，使用 spy 调用包装对象的默认行为。

[Mockito.spy()](http://javadoc.io/page/org.mockito/mockito-core/latest/org/mockito/Mockito.html#spy(T)) / [@Spy](http://javadoc.io/page/org.mockito/mockito-core/latest/org/mockito/Spy.html)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-05T10:31:39.473

使用[`spy()`Mockito 中的方法](http://mockito.googlecode.com/svn/branches/1.5/javadoc/org/mockito/Mockito.html#spy%28T%29)，并像这样模拟您的方法：

```
import static org.mockito.Mockito.*;

...

A a = spy(new A());
when(a.method1()).thenReturn(10L); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-04-09T15:54:03.867

根据 Mockito 的文档，接受的答案不是间谍真实对象的正确方法。

正确的方法是使用以下模式：
`doReturn("foo").when(spy).get(0);`

您可以在下面找到 Mockito 关于 Spy [on real objects](https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#13)的片段。

> 监视真实物体的重要问题！
> 
> 有时使用 when(Object) 来存根间谍是不可能或不切实际的。因此，当使用间谍时，请考虑 doReturn|Answer|Throw() 系列方法进行存根。例子：
> 
> ```
> List list = new LinkedList();    
> List spy = spy(list);
> 
> //Impossible: real method is called so spy.get(0) throws IndexOutOfBoundsException (the list is yet empty)   
> when(spy.get(0)).thenReturn("foo");
> 
> //You have to use doReturn() for stubbing   
> doReturn("foo").when(spy).get(0); 
> ```
> 
> Mockito*不会*将调用委托给传递的真实实例，而是实际创建它的副本。因此，如果您保留真实实例并与之交互，请不要期望间谍知道这些交互及其对真实实例状态的影响。推论是，当*在 spy*而*不是在真实实例上*调用未存根的方法*时*，您不会看到对真实实例的任何影响。注意最终方法。Mockito 不模拟最终方法，因此底线是：当您监视真实对象时+您尝试存根最终方法=麻烦。您也将无法验证这些方法。

 *** * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-05T10:31:29.607

假设您使用的是 jmockit：

```
public void testCase(@Mocked("methodToBeMocked") final ClassBoBeMocked mockedInstance) {
           new Expectations() {{
                   mockedInstance.methodToBeMocked(someParameter); returns(whateverYouLikeItToReturn);
           }}

   mockedInstance.callSomemethod();
} 
```

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2012-06-05T10:32:49.980

您可以简单地创建一个`A`overrides的子类`method1()`。**

# php - 带有 HTML5 的 php/javascript 应用程序

> ID：10895606
> 
> 赞同：-1
> 
> 时间：2012-06-05T10:26:06.770
> 
> 标签：php, include

我正在开发一个应用程序（javascript 和 php）。我在索引顶部使用了 include 命令，所以它已经成为 [www.mypage.php] 。

现在我想知道这是否与 HTML5 兼容？

**编辑**

好的，我还没有使用 HTML5，但只是想知道我将来会使用。

我的索引：

```
<?php 
include_once("../config.php"); 
?>
<html>
<head>
.
.
. 
```

所以它的 url 应该是 www.mypage.php 而不是 www.mypage.html

使用 HTML5 时会产生任何冲突吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T10:37:10.350

PHP include() 如何与 HTM5 兼容或不兼容？
由于 PHP 在服务器端运行，然后将一些内容发送回浏览器，因此浏览器永远不知道这些内容是如何生成的。
你的问题不相关。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:43:31.003

include 不会更改任何文件名，只是将逻辑实现到所述文件。php 将始终与 html 兼容，因为它拥有大量的活跃用户群。

你可能犯了一些错误

对 php 进行更多研究 扩展名为 .php 的文件运行 html 很好，你不应该得到任何错误

因为我认为您有一个带有 .html 扩展名的页面，因此 php 代码将不会运行，然后就

```
 simple just save your file has .php not with html extension 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T17:40:46.110

PHP 是一种服务器端语言，所以基本上 php 在服务器上运行，在网页上看到的是 php 代码的输出，这就是为什么当你拉取网站的源代码时，你看不到任何 php 代码（否`<?php`或`?>`）。

因此，要回答您的问题，应该没有兼容性问题，但是，要澄清 php 命令： `include()`并且`include_once`不要更改页面名称...它仅在加载的 php 文件中包含一个文件（在您的情况下，它会加载 config .php），但重要的是文件以`include`或`include_once`的文件结尾是 .php 而不是 .html。

这是关于 include_once() 的 php 文档，包括：

**include_once()：** [http ://www.php.net/manual/en/function.include-once.php](http://www.php.net/manual/en/function.include-once.php)

**包括（）：** [http ://www.php.net/manual/en/function.include.php](http://www.php.net/manual/en/function.include.php)

希望这可以帮助您更好地理解 php :)

# java - 将 jconsole 与 mysql 5.1 连接

> ID：10895607
> 
> 赞同：-1
> 
> 时间：2012-06-05T10:26:07.100
> 
> 标签：java, mysql, jconsole

我想将 jconsole 与 mysql 5.1 连接起来，就像数据库分析器一样。有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:36:15.493

JConsole 不是数据库分析器。它根本不是分析器。它只是一个 JMX 可视化工具。由于每个 JVM 都有一个“内置”JMX 服务器，您可以将它连接到任何 Java 应用程序。但是 MySQL 不是 java 应用程序。它是用 C 语言编写的，并编译为本机可执行文件。所以 JConsole 在这里是无关紧要的。

但是，如果您无法将 JConsole 连接到与 MySQL DB 一起使用的 Java 应用程序（或应用程序服务器），则您可以访问连接池和 MYSQL JDBC 驱动程序。

# c#-4.0 - 使用 WS_EX_COMPOSITED 激活双缓冲时 100% CPU 负载

> ID：10895608
> 
> 赞同：1
> 
> 时间：2012-06-05T10:26:16.613
> 
> 标签：c#-4.0, cpu-usage, doublebuffered

为了阻止我的应用程序闪烁，我尝试为我的所有控件和子控件激活 DoubleBuffering。

为此，我在主窗体中添加了以下代码片段：

```
protected override CreateParams CreateParams
    {
        get
        {
            CreateParams cp = base.CreateParams;
            cp.ExStyle |= 0x02000000; //WS_EX_COMPOS

            return cp;
        }
    } 
```

问题是，在 WindowsXP 中，cpu 负载几乎达到 100% 并保持不变。在 Windows7 上没有问题。

它寻找我，因为它与这个[问题](https://stackoverflow.com/questions/10604359/ws-ex-composited-high-cpu)中的问题完全相同。C# 中是否有“简单”的解决方案？或者以不同的方式询问 -> 通常是什么导致这种行为？所以我可以在我的应用程序中找出问题所在。

**更新：**也许有更多信息可以帮助你们帮助我。我想要做的是在主窗体的顶部显示一个带有进度条的半透明窗体。这个“progressBarForm”在第二个线程中运行这个进度条。在 Win7 上一切正常，正如上面提到的 WinXP（.net4，激活的桌面主题）在进度条显示一次后有 100% 的 cpu 负载 - 而且实际有效负载功能需要更长的时间才能完成 - 可能是因为高 - cpu-load 由进度条完成。我应该在哪里和什么地方再次检查？一些想法？

顺便说一句：我不认为线程有问题，因为当我在主线程中显示表单并且不刷新任何内容时，结果（高 cpu 负载）是一样的......

# listview - JqMobile中Listview的居中对齐文本

> ID：10895609
> 
> 赞同：0
> 
> 时间：2012-06-05T10:26:25.230
> 
> 标签：listview, jquery-mobile

我想借助 jquery mobile css 中的特定类将列表视图中的文本居中对齐...

我有以下代码...

```
<li><a href="index.html" data-icon="false" class="">Home</a></li> 
```

或者我使用我的自定义 css 为它构建一个新类...？？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-05T19:37:59.300

您需要在您的 custom.css 中覆盖以下内容

```
#myList .ui-btn-inner {
    text-align: center;
} 
```

虽然您可以在 jqm.css 中添加以上内容；将您的自定义/覆盖保存在单独的 css 文件中将是一种更好的方法。

对于 JQM 1.4.5（截至 2014 年 11 月 26 日的最新版本）

```
.ui-listview>.ui-li-static {
    text-align: center;
} 
```

# android - 将 IntPtr 蓝牙套接字实例转换为原生 monodroid BlueToothSocket？

> ID：10895614
> 
> 赞同：0
> 
> 时间：2012-06-05T10:26:34.350
> 
> 标签：android, java-native-interface, xamarin.android

我正在使用 JNI 将 IntPtr 获取到蓝牙连接方法。代码是：

```
IntPtr createRfcommSocket = JNIEnv.GetMethodID(device.Class.Handle, "createRfcommSocket", "(I)Landroid/bluetooth/BluetoothSocket;");
IntPtr socket = JNIEnv.CallObjectMethod(device.Handle, createRfcommSocket, new JValue(1)); 
```

有没有办法将 IntPtr 套接字转换为原生的 monodroid BlueToothSocket？

我需要它来为创建蓝牙套接字方法提供单个接口。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-15T17:15:42.287

> 有没有办法将 IntPtr 套接字转换为原生的 monodroid BlueToothSocket？

如果“本机 monodroid BlueToothSocket”是指[BluetoothSocket](http://androidapi.xamarin.com/?link=T:Android.Bluetooth.BluetoothSocket)，那么您使用[Java.Lang.Object.GetObject<T>()](http://androidapi.xamarin.com/?link=M%3aJava.Lang.Object.GetObject%7b;T%7d;(System.IntPtr%2cAndroid.Runtime.JniHandleOwnership))方法：

```
var msocket = Java.Lang.Object.GetObject<Android.Bluetooth.BluetoothSocket>(socket, JniHandleOwnership.TransferLocalRef); 
```

# javascript - 如何将事件绑定到 ember.js 中动态创建的实例

> ID：10895617
> 
> 赞同：1
> 
> 时间：2012-06-05T10:26:55.670
> 
> 标签：javascript, ember.js

我创建了一个自定义组件，它将包含对视图的引用（绑定到车把模板）。我的模板有一个按钮，我想给它附加一个点击处理程序。

我将动态创建组件的实例并将其附加到不同的 div。但我的问题是如何将视图挂钩到相应组件实例中定义的事件处理程序。

```
 App.ImageView = Ember.View.extend({
        "templateName" : "image-template",
        "imagePath" : null,
        "controller" : null
    });

    App.ImageSwitcher = Ember.Object.extend({
        renderTo : null,
        init: function(){
            this.set("view",App.ImageView.create());
        }
        renderOnScreen: function(){
            this.get("view").appendTo(renderTo);
        }
        clickHandler : function(evt){
        }
    })

<script type="text/x-handlebars" data-template-name="image-template">
    <img {{bindAttr src="imagePath"}} />
    <input type="button" value="Change image" />
</script> 
```

组件实例创建：

```
var component = App.ImageSwitcher.create({renderTo:"#div"});
component.renderOnScreen()

var component1 = App.ImageSwitcher.create({renderTo:"#div1"});
component1.renderOnScreen() 
```

现在我希望按钮调用在相应的 App.ImageSwitcher 实例中定义的 clickHandler。有什么办法吗。我试图在视图中引用 App.ImageSwitcher 实例。但这不是一种干净的方式。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T14:00:19.283

您可以将 Ember.TargetActionSupport 混入您的视图中，然后在其上添加一个单击处理程序，如下所示：

```
App.ImageView = Ember.View.extend(Ember.TargetActionSupport, {
    templateName: "image-template",
    action: "clickHandler",
    imagePath: null,
    controller: null,
    click: function() {
         this.triggerAction();
    }
});

App.ImageSwitcher = Ember.Object.extend({
    renderTo : null,
    init: function(){
        this.set("view",App.ImageView.create({target: this));
    }
    renderOnScreen: function(){
        this.get("view").appendTo(renderTo);
    }
    clickHandler : function(evt){
    }
}) 
```

# hibernate - 使用带注释的类在构建 hibernate-4 期间创建模式

> ID：10895622
> 
> 赞同：1
> 
> 时间：2012-06-05T10:27:22.790
> 
> 标签：hibernate, maven, schema

我正在尝试升级到 Hibernate 4.1.3（从 3.6.9）。该模型是基于注解的（也就是说，持久化类是用@Entity 和@Column 注解定义的）

maven 构建使用 hibernate3-maven-plugin 为模式创建 sql 脚本，但该插件不适用于 4.1.3。我想过使用 SchemaExportTask vi antrun，但是我的理解是我需要显式配置要分析的类，我不知道如何在 maven 中获取它们。那么如何为任务提供类？

创建模式的任何其他帮助都会很棒。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-17T02:04:12.713

Juplo[为 Hibernate 4 创建了 Maven 插件](http://juplo.de/hibernate4-maven-plugin/index.html)。该插件会自动扫描您的项目以查找带注释的类，并支持包括 Envers 在内的模式导出。工作示例如下。查看[官方插件配置文档](http://juplo.de/hibernate4-maven-plugin/export-mojo.html)以获取有关使用选项的更多信息。

该插件在目标上`schema.sql`的 Maven`/target`目录中生成文件。`test`或者您可以手动运行`hibernate4:export`目标来更新文件。

```
<project>
    <build>
        <plugins>
            <plugin>
                <groupId>de.juplo</groupId>
                <artifactId>hibernate4-maven-plugin</artifactId>
                <version>1.0.3</version>
                <executions>
                    <execution>
                        <goals>
                            <goal>export</goal>
                        </goals>
                    </execution>
                </executions>
                <configuration>
                    <envers>true</envers>
                    <format>true</format>
                    <delimiter>;</delimiter>
                    <force>true</force>
                    <type>CREATE</type>
                    <target>SCRIPT</target>
                    <hibernateDialect>org.hibernate.dialect.PostgreSQL9Dialect</hibernateDialect>
                </configuration>
            </plugin>
        </plugins>
    </build>
</project> 
```

# java - 减少 if else 以确定 dataType

> ID：10895624
> 
> 赞同：0
> 
> 时间：2012-06-05T10:27:27.470
> 
> 标签：java

如何减少这种使用反射

```
private static Object determineDataType(final String value, String dataType)
{
    System.out.println("Name--->>" + dataType);
    if(dataType.equals(Boolean.class.getName()))
    {
       return new Boolean(value);
    }
    else if(dataType.equals(String.class.getName()))
    {
        return new String(value);
    }
    else if(dataType.equals(Character.class.getName()))
    {
        return new String(value);
    }
    else if(dataType.equals(Byte.class.getName()))
    {
        return new Byte(value);
    }
    else if(dataType.equals(Short.class.getName()))
    {
        return new Short(value);
    }
    else if(dataType.equals(Integer.class.getName()))
    {
        return new Integer(value);
    }
    else if(dataType.equals(Long.class.getName()))
    {
        return new Long(value);
    }
    else if(dataType.equals(Float.class.getName()))
    {
        return  new Float(value);
    }
    else if(dataType.equals(Double.class.getName()))
    {
        return  new Double(value);
    }
    //defualt return the String value, Lets' AOPI do the Validation
    return new String(value);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:40:17.947

我也想知道为什么你会这样做。但是，搁置一分钟，这里有一些未经测试的代码：

```
List<Class<?>> types = Arrays.asList(Long.class, Integer.class, ... );
for (Class<?> type : types) {
    if (type.getName().equals(dataType))
        return type.getConstructor(String.class).newInstance(value);
    // TODO: catch exceptions and probably re-throw wrapped
}
return new String(value); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:47:40.573

您可以使用[Class.forName](http://docs.oracle.com/javase/tutorial/reflect/member/ctorInstance.html)和方法`getConstructor`（[这里](http://www.rgagnon.com/javadetails/java-0351.html)是一个例子）：

```
Object instance = Class.forName(dataType)
         .getConstructor(new Class[] {String.class})
         .newInstance(new Object[]{value}); 
```

顺便说一句，它不适用于 Character 和 Boolean，因为您对它们进行了特殊处理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:50:29.270

我认为您不能在这里通过反射减少代码量。首先，反射 API 非常冗长。其次，您在某些块中做的事情略有不同。特别是，布尔块不仅仅调用构造函数。

# javascript - 如何使用 jquery sortable 对表格所有行中的表格单元格进行排序？

> ID：10895625
> 
> 赞同：2
> 
> 时间：2012-06-05T10:27:31.577
> 
> 标签：javascript, jquery, jquery-ui

我想制作一个可排序的表并使用 jquery sortable 我可以对表中的行或一行中的单元格进行排序，但我不能在行之间移动单元格。我怎样才能做到这一点？

例如。在这里：http: [//jsfiddle.net/dado_eyad/mKaFe/2/](http://jsfiddle.net/dado_eyad/mKaFe/2/)

我想`Second row: 2`搬到`First row: 1`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-02-27T07:10:43.270

我有一个 CSS 技巧可以让可排序的表格单元格
像可排序的网格示例一样工作：
[https ://jqueryui.com/sortable/#display-grid](https://jqueryui.com/sortable/#display-grid)

Javascript 部分很简单：

```
$('table').sortable({
    items: 'td', 
}); 
```

关键是要利用 CSS`display`属性。

当你将一个单元格从 row2 拖到 row1 时，
row1 会变成 4 个单元格，row2 只剩下 2 个单元格，
并且宽度会缩小以匹配表格宽度。

如果我们`display: inline;`在样式表中使用 tr，
让`td`显示为`inline-block`.
布局渲染的行为更像是一个内联块列表。
忽略 tr 的限制。

对于现场演示，请参阅下面的小提琴：http:
[//jsfiddle.net/elin/4Q6Qn/](http://jsfiddle.net/elin/4Q6Qn/)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-05T10:28:18.733

`< tr >`将您的 '包装在 a 中`< tbody >`并将您的代码更改为：

```
 $("table tbody tr").sortable({
    items: 'td',
  }).disableSelection(); 
```

**[演示](http://jsfiddle.net/thecodeparadox/QStkd/142/)**

您必须指定包含要排序的元素的容器，而不是实际元素。

### 我想将第二行：2 移动到第一行：1 的位置

```
 $("table tbody").sortable({
    items: 'tr',
  }).disableSelection(); 
```

**[演示](http://jsfiddle.net/thecodeparadox/mKaFe/1/)**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-06-29T14:01:43.447

只需使用 connectWith 参数和一些脚本：

[演示](http://jsfiddle.net/s5nx7exh/2/)

```
$('table tr').sortable({
items: 'td',
connectWith:'table tr',
stop:function(e,prop){
  var id = prop.item;
  const colNum=3;
  $('table tr').not(':last').each(function(){
    var $this=$(this);
    if($this.children().length<colNum)
    {
      $this.append($this.next().children(':first'));
    }
    else if($this.children().length>colNum)
    {
      $this.next().prepend($this.children(':last'));
    }
  });} 
```

})

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2017-09-16T16:56:19.390

javascript中的简单可排序表

```
<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  <title>Bootstrap extras: Table sort indicator</title>

  <link rel='stylesheet prefetch' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'>
<link rel='stylesheet prefetch' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css'>

   <style>
   /* Table sort indicators */

th.sortable {
  position: relative;
  cursor: pointer;
}

th.sortable::after {
  font-family: FontAwesome;
  content: "\f0dc";
  position: absolute;
  right: 8px;
  color: #999;
}

th.sortable.asc::after {
  content: "\f0d8";
}

th.sortable.desc::after {
  content: "\f0d7";
}

th.sortable:hover::after {
  color: #333;
}

/* Heading styles */

h1.age-header {
  margin-bottom: 0px;
  padding-bottom: 0px;
}
h2.page-header {
  margin-top: 0px;
  padding-top: 0px;
  line-height: 15px;
  vertical-align: middle;
}
h1 > .divider:before,
h2 > .divider:before,
h3 > .divider:before,
h4 > .divider:before,
h5 > .divider:before,
h6 > .divider:before,
.h1 > .divider:before,
.h2 > .divider:before,
.h3 > .divider:before,
.h4 > .divider:before,
.h5 > .divider:before,
.h6 > .divider:before {
  color: #777;
  content: "\0223E\0020";
}
   </style>
<script>

function sortTable(n) {
  var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
  table = document.getElementById("myTable");
  switching = true;
  //Set the sorting direction to ascending:
  dir = "asc"; 
  /*Make a loop that will continue until
  no switching has been done:*/
  while (switching) {
    //start by saying: no switching is done:
    switching = false;
    rows = table.getElementsByTagName("TR");
    /*Loop through all table rows (except the
    first, which contains table headers):*/
    for (i = 1; i < (rows.length - 1); i++) {
      //start by saying there should be no switching:
      shouldSwitch = false;
      /*Get the two elements you want to compare,
      one from current row and one from the next:*/
      x = rows[i].getElementsByTagName("TD")[n];
      y = rows[i + 1].getElementsByTagName("TD")[n];
      /*check if the two rows should switch place,
      based on the direction, asc or desc:*/
      if (dir == "asc") {
        if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
          //if so, mark as a switch and break the loop:
          shouldSwitch= true;
          break;
        }
      } else if (dir == "desc") {
        if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
          //if so, mark as a switch and break the loop:
          shouldSwitch= true;
          break;
        }
      }
    }
    if (shouldSwitch) {
      /*If a switch has been marked, make the switch
      and mark that a switch has been done:*/
      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
      switching = true;
      //Each time a switch is done, increase this count by 1:
      switchcount ++;      
    } else {
      /*If no switching has been done AND the direction is "asc",
      set the direction to "desc" and run the while loop again.*/
      if (switchcount == 0 && dir == "asc") {
        dir = "desc";
        switching = true;
      }
    }
  }
}

</script>

</head>

<body>

  <table class="table table-bordered table-hover" id="myTable">
    <thead>
      <tr>

        <th class="sortable" onclick="sortTable(0)">Field 1</th>
        <th class="sortable" onclick="sortTable(1)">Field 2</th>
        <th class="sortable" onclick="sortTable(2)">Field 2</th>
      </tr>
    </thead>
    <tbody>
        <tr><td>1</td><td>Data 1</td><td>Data 4</td></tr>
        <tr><td>2</td><td>Data 2</td><td>Data 5</td></tr>
        <tr><td>3</td><td>Data 3</td><td>Data 6</td></tr>
    </tbody>
  </table>

</div>
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

    <script  src="js/index.js">
    /*
    Use this below code in a separated file(index.js)

    var $sortable = $('.sortable');

$sortable.on('click', function(){

  var $this = $(this);
  var asc = $this.hasClass('asc');
  var desc = $this.hasClass('desc');
  $sortable.removeClass('asc').removeClass('desc');
  if (desc || (!asc && !desc)) {
    $this.addClass('asc');
  } else {
    $this.addClass('desc');
  }

});
    */
    </script>

</body>
</html> 
```

# html - Tumblr 主题帮助：我已经把这个想法记下来了，但我不确定我在编码内容时哪里出错了

> ID：10895627
> 
> 赞同：0
> 
> 时间：2012-06-05T10:27:39.827
> 
> 标签：html, css, tumblr

我第一次尝试“从头开始”创建一个 Tumblr 主题。我对html有一些了解。我不确定我哪里出错了，但我觉得这与将其放置在错误的位置有关。

网址是[http://www.87Ninety.tumblr.com](http://www.87Ninety.tumblr.com)，密码：1212。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T11:06:03.810

我想我知道问题是什么。

在您的模板中，`<div class="post">`缺少它的结束`</div>`标记。

正因为如此，每个帖子都包含在上一个帖子中，事情就会中断。

所以重新添加。

# android - 使我的布局与 29 种不同的语言兼容

> ID：10895629
> 
> 赞同：0
> 
> 时间：2012-06-05T10:27:44.193
> 
> 标签：android, android-layout

我正在开发一个使用 29 种不同语言的 android 应用程序。我在资源文件夹中根据英语创建了布局，但是当语言更改时，文本视图 n 文本大小会发生变化和重叠。有没有办法让所有语言的布局保持不变，以便文本视图和文本的对齐保持不变？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:32:27.993

是的，很容易。您为每种语言创建一个值文件夹，例如`values-de`或`values-en` 在您可以创建的每个文件夹中`strings.xml`

```
<string name="no_items">there are no items</string> 
```

这是给英文的。为每种语言创建它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T14:31:54.550

如果您阅读了开发人员文档（此处：http: [//developer.android.com/guide/topics/resources/localization.html#strategies](http://developer.android.com/guide/topics/resources/localization.html#strategies)），您可以很好地描述您的问题以及解决问题的一些方法。请参阅“设计灵活的布局”部分

你可以：

a) 为每种语言提供不同的布局，每种语言具有不同的布局文件（尽管这会为您维护应用程序增加大量开销）

或者

b) 做一个更灵活的布局，所以当由于语言原因传入长字符串时，一切都会自行调整。然后，您无需担心用户正在使用哪种语言运行（或者，如果有些布局仍然看起来不正确，则可以创建更少的特定于该语言的布局）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T15:20:36.257

您可以扩展 TextView 以自动调整文本大小以适应.. 此答案中给出了自定义 TextView 的示例[https://stackoverflow.com/a/3378422/886001](https://stackoverflow.com/a/3378422/886001)

# visual-studio-2012 - 如何修复 Blend for Visual Studio 2012 RC 中的新项目空列表？

> ID：10895630
> 
> 赞同：9
> 
> 时间：2012-06-05T10:27:45.910
> 
> 标签：visual-studio-2012, blend, blend-2012

我刚刚安装了 Blend 独立版本附带的 Visual Studio 2012 RC。当我开始一个新项目时，列表是空的，没有可供选择的模板。

![新项目混合](../Images/50652da4fc931296a9165964d79e13ff.png)

你知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-05T10:21:46.837

随着即将到来的视觉工作室更新（更新 2），对 Silverlight 和 WPF 的支持将返回。我认为这也适用于 Windows 7。但是，您将无法构建 Windows 应用商店应用程序。

如果您愿意，可以安装[更新的 CTP 。](http://blendinsider.com/technical/announcing-visual-studio-2012-update-2-ctp-2013-01-30/)

如果您还不想更新 Visual Studio，可以安装[Blend + SketchFlow Preview for Microsoft Visual Studio 2012](http://www.microsoft.com/en-us/download/details.aspx?id=30702)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T15:25:11.713

您运行的是哪个版本的 Windows 8？最新发布的 Blend with VS2012 版本必须安装在 Windows 8 Release Preview 上，[http://windows.microsoft.com/en-US/windows-8/release-preview](http://windows.microsoft.com/en-US/windows-8/release-preview)。

此版本的 Blend 针对 Windows 8 上的 Metro 风格应用程序开发。

～萝莉

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-18T16:38:53.567

Visual Studio 2012 更新 2 引入了新版本的 Blend，witch 可以正常工作（包括新项目创建）silverlight 4、silverlight 5、windows 8 应用程序等。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-18T21:43:41.670

[微软回答](http://social.msdn.microsoft.com/Forums/en-US/winappsuidesign/thread/679fb286-2c68-4fa3-9bce-e9fc74d52dea/)好像win7不可用，但必须更新到win8“不幸的是，无论您安装哪个版本，Win7上的Blend都是空的。当您将操作系统升级到win8时它将起作用。或者您可以直接使用Visual Studio。 "

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-19T12:12:53.557

同样的问题，Visual Studio 2012 Pro 安装了 MS 网站上提供的 Web 安装程序。

据我了解，Visual Studio 2012 的混合只能在 Windows 8 下使用？！那么为什么可以在windws 7 o_0下安装它 感觉真的很奇怪，我们不能再在混合下编辑silverlight 5 xaml，除了在windows 8下......

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-10-15T20:17:07.077

我安装了 Win7 + VS 2012 Ultimate SP3 + Blend，以下是解决此问题的好方法：

*   不要**尝试**单独打开 Blend 或在 Blend 中打开新项目
*   而是在 VS 2012 项目或解决方案中插入新的基于 XAML 的用户控件（......无论如何它们最终都会出现......）
*   在 VS 2012 的项目资源管理器中选择 XAML 文件
*   转到 VS 2012 菜单 => 查看 => “在 Blend 中打开...”
*   TADA：基于 XAML 的控件在 Blend 中打开，您可以正常使用它

顺便说一句：我有另一台机器，没有安装任何 VS 2012 服务包。在那台机器上打开和使用混合是没有问题的。这似乎是与 VS 2012 服务包相关的问题。

快乐编码！

# jquery - 应该 hasClass 在 removeClass 之前 - jQuery

> ID：10895631
> 
> 赞同：35
> 
> 时间：2012-06-05T10:27:53.407
> 
> 标签：jquery

`removeClass`在我对 jquery 对象使用 api 之前是否有必要检查一个类是否存在？例如。

```
if($(this).hasClass("test"))
   $(this).removeClass("test"); 
```

或者

```
$(this).removeClass("test"); 
```

如果没有必要，为什么会这样？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-06-05T10:30:09.933

只使用这个：

```
$(this).removeClass("test"); 
```

无需检查类是否存在。

从[jQuery 源代码](http://code.jquery.com/jquery.js)中我们可以看到该`removeClass`方法使用[`replace`](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/replace)方法来删除子字符串：

```
className = (" " + elem.className + " ").replace(rclass, " ");
for (c = 0, cl = classNames.length; c < cl; c++) {
    className = className.replace(" " + classNames[c] + " ", " ");
}​ 
```

如果`replace`匹配的子字符串不存在，则不会删除任何内容。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-06-21T06:36:36.627

至少对于 Chrome，在 removeClass() 之前添加一个 hasClass() 检查是有用的，因为 jQuery 无条件地将 elem.className 分配给新字符串，即使该字符串没有更改，这会导致 Chrome 无效并重新计算布局。

有人可能会争辩说这是 Chrome 中的一个错误，它应该检查 className 是否实际上已从以前的值更改。但是，也可能是浏览器*必须*重新计算布局，因为一些模糊的要求写在 html 规范的深处。

我还没有测试过火狐。Safari 网络检查器是无用的，因为它不会告诉您为什么布局无效/重新计算（哪个 javascript 函数导致它）。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-05T10:30:18.467

不，不需要检查`removeClass()`.

只需使用

```
 $(this).removeClass("test"); 
```

# ios - 在Splitviewcontroller中从左到右改变Masterview的位置

> ID：10895632
> 
> 赞同：3
> 
> 时间：2012-06-05T10:27:54.337
> 
> 标签：ios, objective-c, ipad, uisplitviewcontroller, uisplitviewdelegate

我在拆分视图控制器上创建了默认左侧的主视图。现在我想要右侧的主视图（作为第二视图）和左侧的详细视图（作为第一个视图）？如果是的话有可能我该怎么做？

- 提前感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:38:29.627

我认为如果您使用自定义拆分视图，那么我认为可能...您可以使用 MGSplitViewController 的一些代码。下面是 MGSplitViewController Demo 的链接...

[https://github.com/mattgemmell/MGSplitViewController](https://github.com/mattgemmell/MGSplitViewController)

你可以从这个演示中得到一些想法......希望这对你有帮助.. :)

# c++ - VS10下openmp语法错误

> ID：10895633
> 
> 赞同：0
> 
> 时间：2012-06-05T10:27:58.773
> 
> 标签：c++, visual-studio-2010, openmp

我正在尝试`#pragma omp parallel for`在 Visual Studio 10 下使用简单的，但出现我不明白的错误

这就是我所做的：

```
#pragma omp parallel for
for (int i(0); i < size; ++i)
{
// do some stuff
} 
```

编译时出现这些错误：

```
error C2059: syntax error : 'constant' // on the for() line
error C2059: syntax error : ';'  // on the for() line
error C2143: syntax error : missing ';' before '{'
// repeat previous error for every { or } in file
fatal error C1004: unexpected end-of-file found  // on last line of file 
```

openmp 支持在编译器选项中激活。此代码在没有 openmp 指令的情况下编译并运行得非常好。

我试图将 for 循环嵌套在大括号中，如下所示：

```
#pragma omp parallel for
{
for (int i(0); i < size; ++i)
{
// do some stuff
}
} 
```

但随后编译器告诉我他希望在 #pragma 指令之后有一个 for 循环。

有谁看到我在这里做错了什么？这让我抓狂，因为我已经在其他程序的相同条件下成功使用了 OpenMP。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T11:36:47.630

我认为`for`当 OpenMP 处于活动状态时，循环控制块内不支持对象样式初始化程序。您应该将代码重写为：

```
for (int i = 0; i < size; ++i) 
```

在第二种情况下，错误是由于`omp for`需要紧随其后的`for`循环而不是代码块。

# jquery - IE8 中 ajax 调用中的 JQUERY“为空或不是对象”错误

> ID：10895635
> 
> 赞同：0
> 
> 时间：2012-06-05T10:28:00.600
> 
> 标签：jquery, ajax, internet-explorer

我正在使用如下的 ajax 调用：

```
$('#MyForm').submit(function(){
        var form_data = $(this).serialize();
        $.ajax({
            url: "/myCOntroller/myFuntion",
            data : form_data,
            type : "post",
            dataType : "json",
            success: function(data){
                if(data.error_code==0)
                {
                    //Do Something
                }
                else
                {
                    //Do Something Else
                }
            },
            failure: function(){
                //Do Something
            }
        });
        return false;
}); 
```

返回的 JSON 是`{"error_code":0,"msg":""}`

这是由 PHP 的函数 json_encode 返回的，所以我认为格式没有问题。我得到的错误是在第一个 if 条件为 `'error_code' is null or not an object`. 这在 Chrome 和 FF 中运行良好。有人可以告诉我我做错了什么吗？

# php - Mysql用同一张表中的另一行值更新一行

> ID：10895646
> 
> 赞同：4
> 
> 时间：2012-06-05T10:28:31.263
> 
> 标签：php, mysql, mysqli

我有一张桌子。我想用同一张表中的第 10 行值更新第 5 行。例如：

```
SlNo   Name Quali   Exp
1        x   B.E     2
2        y   BSC     3
3        Z   B.A     1.5
4        A   MSC     2
5        B   MBA     5 
```

在这里，我想用第 5 行的值更新第二行。

这是我当前的查询：

```
 UPDATE table 
      SET Name=(select Name from table where slNo='5'),
               Quali=(select Quali from  table where slNo='5'),
               Exp=(select Exp from table where slNo='5') 
      where slNo='3'; 
```

这工作正常...但是如果有超过 20 列，那么以这种方式编写查询会变得很费力，因为对于每一列我必须包含另一个子查询...有没有其他方法可以编写查询来更新整行与同一表中另一行的所有值？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-06-05T10:33:01.387

使用多表`UPDATE`语法的自联接：

```
UPDATE `table` AS t1 JOIN `table` AS t2 ON t2.slNo = 5
SET    t1.Name = t2.Name, t1.Quali = t2.Quali, t1.Exp = t2.Exp
WHERE  t1.slNo = 3 
```

# javascript - 将段落高度限制为另一个 div 中图像的高度

> ID：10895648
> 
> 赞同：1
> 
> 时间：2012-06-05T10:28:33.057
> 
> 标签：javascript, jquery, responsive-design, css

我正在为响应式博客网站使用两列布局。左列使用图像，该图像被缩放以填充列的宽度，右列包含从博客文章中提取的文本。

当浏览器宽度减小时，关于如何将右侧列中文本段落的高度限制为与左列中图像高度匹配的任何想法？

我打算使用 text-overflow: ellipsis 来处理右侧 div 中的文本溢出。

下图之前和之后的示例。

![调整浏览器大小之前和之后的示例](../Images/ed3b04414a9606cd4443050d0f9d540c.png)

这是 HTML，以及我用来设置图像大小以在浏览器窗口缩小时调整大小的 CSS。

```
<div class="row blogpost">
    <div class="sevencol">
        <img src="img/greybox.png">
    </div>
    <div class="fourcol last>
        <p>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source.
        </p>
        <a class="readMore" href="#">Read More...</a>
    </div>

.blogpost .sevencol img {
        zoom: 2;
        margin: auto;
        height: auto;
        max-height: 100%;
        width: auto;
        max-width: 100%;
        margin-top: 8px;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:41:53.277

您通常会使用 JavaScript 来执行此操作。

渲染页面后评估图像容器的高度，然后将相同的高度应用于标题容器。

您可能还必须将“阅读更多”链接内容与您要应用溢出效果的段落分开。

假设您使用的是 jQuery，它可能看起来像这样：

```
$(document).ready(function(){
   var imgHeight = $('#imageContainer').height();
   $('#caption').css('height', imgHeight);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:54:17.100

尝试这个

[http://jsfiddle.net/ZGyhr/](http://jsfiddle.net/ZGyhr/)

```
var h = $('img').height();
$('.fourcol').css('height',h+'px'); 
```

并设置`overfloe-y:scroll;`为右侧 div

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T11:06:49.817

如果您真的想使用 css 来限制博客文本的大小，那么您可以通过固定显示大小来做到这一点，例如 -

```
.blogpost .last p{max-height: 300px;/*this is the height how much text you want to show up*/line-height:20px;/*set it this way that there will no cut off text*/ overflow:hidden;} 
```

但你不应该使用这种方式。您需要从您的博客脚本中尝试此操作以限制文本。

# string - 在 x86 程序集中附加两个字符串

> ID：10895650
> 
> 赞同：5
> 
> 时间：2012-06-05T10:28:48.523
> 
> 标签：string, x86, string-concatenation, att

我目前正在处理 AT&T Assembly 的任务，现在我必须附加两个字符串：

```
message: .asciz "String 1"
before: .asciz "String 2" 
```

我真的不知道如何做到这一点或如何开始。我已经在互联网上搜索过，但找不到任何有用的信息。我想我必须手动将第二个字符串的字符复制到第一个字符串的末尾，但我不确定。

谁能向我解释如何做到这一点？:)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-04T17:21:27.487

这个问题没有提到目标记忆，这使得它有点难以回答。我也不知道你是16位，32位还是64位。为方便起见，我还假设它们是 C 风格的 0 终止字符串。

无论如何，这似乎是一般程序：

*   获取第一个字符串的长度（有关编写 asm strlen 的说明可在此处找到：http: [//www.int80h.org/strlen/](http://www.int80h.org/strlen/)）
*   将ptr设置为目标内存
*   `rep(e/ne) movsb`使用ecx 中的大小将第一个字符串复制到目标内存。

这可以通过首先使用 'movsd' 进行 CPU 优化`shr ecx, 2`对你的长度做一个4字节的批次，然后用movsb做剩余部分。我见过这样做：

```
mov     edi, dest
mov     esi, string_address
mov     ecx, string_length
mov     eax, ecx
shr     ecx, 2
repne movsd
mov     cl, al
and     cl, 3
repne movsb ; esi and edi move along the addresses as they copy, meaning they are already set correctly here 
```

*   获取第二个字符串的长度（如果需要，请务必在堆栈或其他寄存器中备份您的 edi；它包含您需要将下一个字符串复制到的地址）
*   将第二个字符串复制到目标内存（我说过，正确的地址应该在第一个字符串操作后的edi中）
*   为安全起见，在其后面添加一个新的 0。

如果要将第二个字符串复制到第一个字符串的末尾，则需要少做一次复制操作，但**必须**确保那里实际上有足够的空间来复制第二个字符串，而不会覆盖其他重要内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-08-14T23:07:06.827

这不是一件小事。字符串的长度是可变的，并且在内存中占据不同的空间，并且必须有一些方法可以知道它们有多长或它们在哪里结束。对于 C 或 C++，一个 nul 字节（零值字节）表示字符串的结尾。对于其他一些程序语言，您有一个指向字符串开头的指针和单独存储的字符串长度，这具有让您在字符串中存储二进制（包括零值字节）的优势。即使使用 C 和其他语言，您也必须有一个指向字符串开始位置的指针。

通常必须发生的是，您必须使用 asm 联系操作系统并请求当前空闲的内存块，该内存块大到足以包含两个字符串的内容，一旦它们被附加。这将是与开头的两个字符串中的任何一个分开的内存，它来自所谓的内存堆，一旦给定了该内存块的起点，您就可以将第一个字符串的内容复制到其中, 然后你继续复制第二个字符串的内容，就在第一个字符串的后面。然后释放已分配给第一个字符串的内存，并通过更改其指针和可能的长度将块重新分配给该字符串。释放的内存由操作系统返回到内存堆以供其他地方重用。

实际上，操作系统并不是释放内存的唯一来源。一些编译器，甚至是汇编器，要么自己处理内存管理，要么在需要时为程序员提供合适的工具来完成。

换句话说，这可能是一项非常雄心勃勃的事业，你必须对正在发生的事情有相当多的了解才能把它做好。您做错了，您可能会遇到诸如系统崩溃和需要重新启动之类的后果。

# javascript - javascript中的静态self成员

> ID：10895657
> 
> 赞同：2
> 
> 时间：2012-06-05T10:29:19.230
> 
> 标签：javascript, static, self

> **可能重复：**
> [JavaScript 中的静态变量](https://stackoverflow.com/questions/1535631/static-variables-in-javascript)

如何在 javascript 中使用 self 成员进行静态封装？比如在php中：

```
class bar{
      static public $foo;
      static public function set() {
            self::$foo = 'a';
      }
}
bar::set(); 
```

在 javascript 中： var bar = function () { ?????????? } bar.set();

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:34:13.593

只需将它们定义为`bar`.

```
bar.foo = null;
bar.set = function() {
    bar.foo = "a";
} 
```

这是一个很好的概述：

```
var bar = function() {
    // Private instance variables
    var a = 1;
    // Public instance variables
    this.b = 5;
    // Privileged instance methods
    this.c = function() {
        return a;
    }
};
// Public instance methods
bar.prototype.d = function() {
    return ++this.b;
}

// Public static variables
bar.foo = null;
// Public static methods
bar.set = function() {
    bar.foo = "a";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:38:08.113

创建一个创建对象并返回它的闭包。在闭包内你可以声明局部变量，它们是作用域私有的：

```
var bar = (function(){

  var foo;

  return {
    set: function(){
      foo = 'a';
    }
  };

})();

bar.set(); 
```

# php - 分页查询耗尽内存

> ID：10895660
> 
> 赞同：0
> 
> 时间：2012-06-05T10:29:27.600
> 
> 标签：php, mysql, limit

我想将一个 BIG 表导出到 CSV，因为不可能一次选择所有数据并导出，我打开一个文件句柄进行写入并调用这个函数，该函数接受一个查询并循环浏览不同的页面，我用它来调用它页面大小为 20，实际上很小，但在执行一段时间（可能是 30 分钟）后，会导致此错误：

```
Fatal error: Allowed memory size of 100663296 bytes exhausted (tried to allocate 85 bytes) in /usr/home/www/wp-includes/wp-db.php on line 1402 
```

这是函数，$fichero 是已经打开的文件句柄，$pagina_size 在上次测试中的值为 20：

```
function sql2csv_streamed($fichero, $sql, $pagina_size=50)
{
    global $wpdb;
    $limite1 = 0;
    $limite2 = $pagina_size-1;

    $sql_pagina = $sql . " limit $limite1,$limite2";
    error_log($sql_pagina);

    // Add all values in the table
    while ($rsSearchResults = $wpdb->get_results($sql_pagina, ARRAY_A))
    {
        foreach ( $rsSearchResults as $res )
        {
            fputcsv ($fichero, $res , ";");
        }
        $limite1 += $pagina_size;
        $limite2 += $pagina_size;

        $sql_pagina = $sql . " limit $limite1,$limite2";
        error_log($sql_pagina);
    }
} 
```

谢谢

# php - 以 PHP 形式刷新验证码

> ID：10895661
> 
> 赞同：3
> 
> 时间：2012-06-05T10:29:28.100
> 
> 标签：php

我正在尝试将 Securimage PHP 脚本（cf google）用于验证码，但我遇到了一个问题：当我按下链接“不同图像”（显示另一个验证码）时，我丢失了在字段中输入的所有文本我的 PHP 表单。因此，用户将不得不再次重新输入所有内容，这是有问题的。

这是代码。注意：我去掉了 href 的“#”，因为由于某种原因，它无法更改验证码图像。有谁知道为什么？（这发生在 Safari 和 Firefox 中）

```
<img id='captcha' src='/myproject/securimage/securimage_show.php' alt='CAPTCHA Image' /><br> <a href='' onclick='document.getElementById('captcha').src =  '/securimage/securimage_show.php?' + Math.random(); return false'> [Different Image ]</a> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:41:07.283

因为您已从 href 中删除了 '#'，这就是为什么单击链接时会刷新整个页面并且所有字段数据都会丢失的原因。不要删除它，然后使用以下代码

```
<img id='captcha' src='/myproject/securimage/securimage_show.php' alt='CAPTCHA Image' />
<br> 
<a href="#" onclick="document.getElementById('captcha').src =  '/securimage/securimage_show.php?' + Math.random(); return false;"> [Different Image ]</a> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T11:18:52.653

这不是因为删除了“#”。`<a>`页面重新加载是因为您在标签中使用了错误的引号。`'`当对 html 属性以及其中包含的 javascript使用单引号时`onclick`，浏览器将仅`document.getElementById(`用于 onclick 事件。`return false;`不会执行，页面会重新加载。

您可以始终使用`"`html 属性和`'`javascript。或者在 attrbiutes 中使用`\`.

这也可以在没有'#'的情况下工作：

```
<a href="" onclick="document.getElementById('captcha').src = '/securimage/securimage_show.php?' + Math.random(); return false;"> [Different Image ]</a> 
```

或者它的转义版本：

```
<a href='' onclick='document.getElementById(\'captcha\').src = \'/securimage/securimage_show.php?\' + Math.random(); return false;'> [Different Image ]</a> 
```

# java - 如何在 java 中使用新的 freebase api（api 搜索）？

> ID：10895669
> 
> 赞同：1
> 
> 时间：2012-06-05T10:30:10.020
> 
> 标签：java, freebase

我无法理解这个 API。我已经下载（maven）google-api-services-freebase 并测试我尝试执行此代码：

```
 JsonHttpRequestInitializer initializer = 
        new GoogleKeyInitializer("MY KEY");
                                 HttpTransport httpTransport = new NetHttpTransport();
                                 JsonFactory jsonFactory = new JacksonFactory();

 Freebase freebase = 
          Freebase.builder(httpTransport,   
          jsonFactory).setJsonHttpRequestInitializer(initializer).build(); 
```

现在我想这样做：

[https://www.googleapis.com/freebase/v1/search?query=cardiff&lang=en&type=university](https://www.googleapis.com/freebase/v1/search?query=cardiff&lang=en&type=university)

接下来，我想解析 json 输出。

请问，freebase对象的方法在哪里？我看到了*freebase.mqlread*和*freebase.text*，但我找不到任何类似于 API SEARCH 的方法（http://wiki.freebase.com/wiki/ApiSearch）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T20:33:46.027

不幸的是，Java API 客户端还不支持 Freebase Search。以下是使用[Apache HttpClient](http://hc.apache.org/)进行搜索的方法。

```
HttpClient httpclient = new DefaultHttpClient();
JSONParser parser = new JSONParser();

List<NameValuePair> params = new ArrayList<NameValuePair>();
params.add(new BasicNameValuePair("query", "Blue Bottle"));
params.add(new BasicNameValuePair("key", API_KEY));

String serviceURL = "https://www.googleapis.com/freebase/v1/search";
String url = serviceURL + "?" + URLEncodedUtils.format(params, "UTF-8");      
HttpResponse httpResponse = httpclient.execute(new HttpGet(url));
JSONObject response = (JSONObject)parser.parse(EntityUtils.toString(httpResponse.getEntity()));
JSONArray results = (JSONArray)response.get("result");

for (Object result : results) {
  System.out.println(JsonPath.read(result,"$.name").toString());
} 
```

此代码还使用[json-simple](http://code.google.com/p/json-simple/)和[json-path](http://code.google.com/p/json-path/)库。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-07T08:30:02.637

谢谢你。

这是我的代码：

```
import com.google.gson.*;
import org.apache.http.*;

//...

public static void searchTest(String query, String key, String params) throws IOException
{        
       String query_envelope = "{\"query\":" + query + "}";
       String service_url = "https://www.googleapis.com/freebase/v1/search";      

       String url = service_url    + "?query=" + URLEncoder.encode(query, "UTF-8")
                                    + params 
                                    + "&key=" + key;     

       HttpClient httpclient = new DefaultHttpClient();   
       HttpResponse response = httpclient.execute(new HttpGet(url));  

       JsonParser parser = new JsonParser();
       JsonObject json_data = 
       (JsonObject)parser.parse(EntityUtils.toString(response.getEntity()));
       JsonArray results = (JsonArray)json_data.get("result");            

       if(results != null)
       {
           for (Object planet : results) 
           {
              System.out.println(((JsonObject)planet).get("name"));
           }
       }        
} 
```

# javascript - JQuery datepicker的按钮“后面”菜单div

> ID：10895673
> 
> 赞同：1
> 
> 时间：2012-06-05T10:30:22.350
> 
> 标签：javascript, jquery, button, html, datepicker

我正在开发一个 MVC 网站。

我在顶部有一个菜单 div，在某个页面上有一个添加了 jquery datepicker 的文本输入，如下图所示：

![在此处输入图像描述](../Images/5eff1af99d4b8ba42655d6239d09000a.png)

当鼠标指针在红圈处，我点击，日历应该会转到上个月。然而，发生的事情是点击后面的菜单而不是日历（正如您在底部的链接中看到的那样），这会导致控制器调用和页面重定向。我曾尝试在 div 上使用 z-index，但这并不能解决问题，因为它们已经在视觉上很好地索引了。

有谁知道我可以解决这个问题的方法？

# java - 父类中匿名内部类的调用方法

> ID：10895677
> 
> 赞同：4
> 
> 时间：2012-06-05T10:30:57.143
> 
> 标签：java, overloading, anonymous-class

当我浏览匿名内部类时，我有以下疑问

这是我下载并正在解决它的[原始代码（请仅针对我的问题参考以下代码）。](http://www.janeg.ca/scjp/overload/anonymous.html)

根据上面的链接，他们说我们不能在匿名内部类中重载和添加其他方法。

但是当我编译下面的代码时它工作正常，尽管我无法在 Inner 类之外调用这些公共方法。

最初我很惊讶为什么我不能访问 Inner 类之外的公共方法，但后来我意识到 Object 由不知道此类函数调用的“父”类引用持有。

我可以在下面的代码中进行哪些更改以调用 Inner 类之外的重载方法和新方法？

```
class TestAnonymous
{    

    public static void main(String[] args)
    {      
        final int d = 10;

        father f = new father(d);

        father fAnon = new father(d){                
        // override method in superclass father
        void method(int x){     
            System.out.println("Anonymous: " + x);
            method("Anonymous: " + x); //This Compiles and executes fine.
            newMethod(); //This Compiles and executes fine.
        }

        // overload method in superclass father
        public void method(String str) {
            System.out.println("Anonymous: " + str);
        }

        // adding a new method
        public void newMethod() {
            System.out.println("New method in Anonymous");
            someOtherMethod(); //This Compiles and executes too.
        }

        };

        //fAnon.method("New number");  // compile error
        //fAnon.newMethod();         // compile error - Cannot find Symbol

    }

    public static final void someOtherMethod()
    {
        System.out.println("This is in Some other Method.");
    }

} // end of ParentClass

class father
{   
    static int y;

    father(int x){ 
        y = x;
        this.method(y);
    }

    void method(int x){
        System.out.println("integer in inner class is: " +x);
    }     
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T10:39:14.277

你不能用匿名类做到这一点；它与 Java 的静态类型系统冲突。**从概念上讲，变量`fAnon`是 type `father`，它没有`.method(String)`or`.newMethod`方法。**

你想要的是一个普通的（命名的）子类`father`：

```
class fatherSubclass extends father
{ /* ... */ } 
```

你应该声明你的新变量

```
fatherSubclass fAnon = new fatherSubclass(d) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:39:15.937

> 我可以在下面的代码中进行哪些更改以调用 Inner 类之外的重载方法和新方法？

只是让它*不是*一个匿名类。您*可以*在方法中声明该类：

```
public static void main(String[] args) {
    class Foo extends Father {
        ...
    }
    Foo foo = new Foo();
    foo.method("Hello");
} 
```

...但我可能会建议将其作为一个单独的类，如果需要，可以嵌套在外部类中，或者只是一个新的顶级类。

一旦你开始想用匿名类做任何*复杂*的事情，通常最好把它分解成一个成熟的命名类。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-05T10:39:55.960

您不能从匿名类外部调用“重载”和新方法。你可以在你的匿名班级里打电话给他们，但不能从外面打电话。外界根本不知道他们。没有关于它们的信息的类或接口规范。

# python - Python 无法使用 self.Close(True) 关闭

> ID：10895678
> 
> 赞同：0
> 
> 时间：2012-06-05T10:30:58.453
> 
> 标签：python, wxpython, python-2.7

当我直接单击运行按钮而不单击我创建的 CV 按钮或 IR 按钮时，我将关闭我的窗口。但是，如果我单击 CV 按钮或 IR 按钮，然后单击 Exit 按钮，我将无法工作。我尝试删除 CV 和 IR 按钮内的 app.MainLoop() 但仍然无法正常工作。

p/s CV_Button 和 IR_Button 将调用另一个 .py 文件，它是一个 GUI。我不知道如何在 python 中调用 main，但至少它可以工作，我什至不知道是对还是错。

```
def CV_Button(self, event):  # wxGlade: Main.<event_handler>
     if __name__ == "__main__":
        app = wx.PySimpleApp(0)
        wx.InitAllImageHandlers()
        MainFrame = CV(None, -1, "")
        app.SetTopWindow(MainFrame)
        MainFrame.Show()
        app.MainLoop()
     event.Skip()

def IR_Button(self, event):  # wxGlade: Main.<event_handler>
     if __name__ == "__main__":
        app = wx.PySimpleApp(0)
        wx.InitAllImageHandlers()
        MainFrame = IR(None, -1, "")
        app.SetTopWindow(MainFrame)
        MainFrame.Show()
        app.MainLoop()
     event.Skip()

def Exit_Button(self, event):  # wxGlade: Main.<event_handler>
    self.Close(True)
    event.Skip()

if __name__ == "__main__":
app = wx.PySimpleApp(0)
wx.InitAllImageHandlers()
Main = Main(None, -1, "")
app.SetTopWindow(Main)
Main.Show()
app.MainLoop() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T13:18:05.980

每个应用程序不能有多个 wx.App。因此，您也不能有两个主循环。需要有一个 wx.App 实例（或 wx.PySimpleApp，尽管已弃用）。删除其他人，它可能会起作用。

# asp.net - MSChart 标签重叠

> ID：10895679
> 
> 赞同：0
> 
> 时间：2012-06-05T10:31:04.827
> 
> 标签：asp.net, mschart

我已经使用 mschart 实现了饼图。它看起来像这样：

![在此处输入图像描述](../Images/580dd76a9ca0e92bd7dd2916e4443c4f.png)

但是当其中一个部分等于 0% 时，两个标签重叠，我的饼图如下所示：

![在此处输入图像描述](../Images/5a7fbaf2f9c793fdcf45dbaa31fc7a2d.png)

我怎样才能解决这个问题？我正在使用 MSChart，如果需要，可以提供源代码。

# sql - 查询 sql server 2005 以获得不同组的第 95 个百分位

> ID：10895682
> 
> 赞同：1
> 
> 时间：2012-06-05T10:31:15.817
> 
> 标签：sql, sql-server-2005, percentile

我有一张像下面描述的虚拟表一样的表

## 日期 || 服务器 || 数数

* * *

## 1200 || 乙 || 123

## 1200 || C || 124

## 1200 || 乙 || 125

## 1300 || 乙 || 126

## 1300 || C || 127

## 1300 || 乙 || 128

## 1300 || C || 129

我需要编写一个查询来创建一个表，以便获得按日期和服务器分组的 Count 的 95%。

我对Sql没有太多经验，看了google搜索结果，浏览了无数链接，看到使用了很多子查询，我有点害怕。没有人能给出简单的查询。我们不能直接使用直接查询得到如下结果吗？

## 日期 || 服务器 || 数数

* * *

## 1200 || 乙 || 123

## 1200 || C || 124

## 1300 || 乙 || 126

## 1300 || C || 127

有人可以提供可以使用的确切查询吗？

谢谢您的帮助！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T11:51:42.577

```
SELECT  *
FROM    (
        SELECT  *, NTILE(20) OVER (PARTITION BY [date], [server] ORDER BY [count]) AS t
        FROM    mytable
        ) q
WHERE   t < 20 
```

# windows-phone-7 - 在 windows phone7 Bing 地图中单击图钉时如何使信息框出现？

> ID：10895690
> 
> 赞同：0
> 
> 时间：2012-06-05T10:31:59.993
> 
> 标签：windows-phone-7

我正在开发 WP7 中的 Bing 地图应用程序，该应用程序从数据库中提取引脚数据，在地图上显示引脚。但是如何使用与引脚关联的数据填充。请告诉我如何在 WP7 中显示自定义信息框。任何示例请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-27T04:41:01.253

请参阅下面的示例，希望您得到解决方案。

```
public partial class MainPage : PhoneApplicationPage
{
    public MainPage()
    {
        InitializeComponent();
        InitPage();
    }

    private void InitPage()
    {
        testMap.Center = new GeoCoordinate(42,42);
        testMap.ZoomLevel = 10;

        MapLayer pushPinLayer = new MapLayer();
        testMap.Children.Add(pushPinLayer);

        Pushpin pushpin = new Pushpin();

        pushpin.Tap += new EventHandler<GestureEventArgs>(pushpin_Tap);

        pushpin.Content = "SAMPLE";
        pushPinLayer.AddChild(pushpin, new GeoCoordinate(42, 42));

    }

    void pushpin_Tap(object sender, GestureEventArgs e)
    {
        MessageBox.Show("You Clicked here");
    } 
```

}![在此处输入图像描述](../Images/516eb8c4a4e873f3a742b889ccf41a71.png)

# javascript - jQuery：如何操作索引？

> ID：10895693
> 
> 赞同：0
> 
> 时间：2012-06-05T10:32:17.067
> 
> 标签：javascript, jquery

不应该是一个很难的问题......我只是很难弄清楚如何对一些 jquery 元素进行操作，尤其是它们的索引。编码：

```
$( "#docSlider" ).css("background-image", "url(../../bundles/mypath/images/maquette/img" + $( "#selectable li" ).index( this ) + (".jpg)")); 
```

我想让我加载的图片的名称取决于 jQuery 可选择的索引。所以我抓住索引并尝试添加1......但它不能工作，因为“+”也是一个连接符。
我也尝试过 parseInt，但它总是值 0。

如何简单地将索引转换为整数，然后将其与字符串的其余部分连接起来？

先感谢您！

编辑：我正在使用一个已经存在的函数，所以我几乎无法更改参数（好吧，我想我不能......）

我的 $(function() {}) 部分中有此代码示例：

```
$( "#selectable" ).selectable({
                selected: function(event, ui) { 
                    $( "#docSlider" ).css("background-image", $( "#selectable li" ).index( this ) "url(../../bundles/mypath/images/maquette/img" +  + (".jpg)"));
                }});

//initalizing
                $( "#docSlider" ).css("background-image",  "url(../../bundles/auraeconference/images/maquette/img" + $( "#selectable li" ).index( this ) + (".jpg)")); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:33:36.187

```
$( "#docSlider" ).css("background-image", function(index, url) {
   return "url(../../bundles/mypath/images/maquette/img" + (index + 1) + (".jpg)");
}); 
```

`.css()`将属性和处理程序也作为参数，因此您无需担心该功能，这不会影响您的代码或现有功能。

根据你编辑

```
$ "#selectable" )
          .selectable({
             selected: function(event, ui) { 
               var index = $( "#selectable li" ).index( ui.selected ) + 1;
               $( "#docSlider" )
                   .css("background-image", function(){ 
                         return "url(../../bundles/mypath/images/maquette/img" +  index + (".jpg)")});
                }}); 
```

或者干脆

```
$( "#docSlider" )
          .css("background-image","url(../../bundles/mypath/images/maquette/img" +  index + (".jpg)")}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:35:20.657

像这样使用它

```
$( "#docSlider" ).css("background-image",function(i){
          return "url(../../bundles/mypath/images/maquette/img"+ (i+1)+".jpg";
}); 
```

[`$.css`](http://api.jquery.com/css/)有另一种语法，如

```
 .css( propertyName, function(index, value) ) 
```

你可以利用它。

**更新**

`this`在`selectable`回调内部，在您的情况下是指`#selectable`. 所以你可以使用

```
$(this).find('li').index(ui.selected); 
```

或者

```
$( "#selectable li" ).index( ui.selected ) 
```

所以你可以试试这个

```
selected: function(event, ui) { 
      var index = $( "#selectable li" ).index( ui.selected ) + 1;
     $( "#docSlider" )
          .css("background-image",  "url(../../bundles/mypath/images/maquette/img" + index + ".jpg)");
                }}); 
```

[演示](http://jsfiddle.net/joycse06/kuAhv/30/)

# c# - 无法加载文件或程序集 SMDiagnostics.dll

> ID：10895696
> 
> 赞同：6
> 
> 时间：2012-06-05T10:32:20.547
> 
> 标签：c#, .net, visual-studio-2010, .net-4.0, .net-3.5

我正在尝试构建包含 18 个项目的 c# .NET 解决方案。出乎意料的是，我收到了我的一个项目（网络 gui）的奇怪错误消息。

错误如下

```
"Error 1839 'Could not load file or assembly 'C:\Windows\Microsoft.Net\assembly\GAC_MSIL\SMDiagnostics\v4.0_4.0.0.0__b77a5c561934e089\SMDiagnostics.dll' or one of its dependencies. This assembly is built by a runtime newer than the currently loaded runtime and cannot be loaded.'" 
```

除了一个项目之外，所有项目都在 .net framework 3.5 上运行，但我的机器上安装了 framework 4.0。Visual Studio 正在尝试从 4.0 而不是 3.5 加载文件（我试图将文件移动到 3.5，但这不起作用）

有谁知道这里出了什么问题或知道我能做些什么来解决这个问题？

关于 Throstur

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-17T06:34:41.930

我突然遇到了同样的上述错误。项目目标框架设置为 3.5。将其更改为 4.0，我能够成功构建。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-07-24T18:55:38.053

我所有的项目都设置为使用 .NET 4.0，其他答案对我不起作用，但最终想通了。简单的：

1.  右键单击 Visual Studio 并“以管理员身份运行”
2.  在新打开的 Visual Studio 实例中，打开您的解决方案并运行它。

对我来说，它按预期工作。感谢[这个答案](https://stackoverflow.com/a/12295267/261405)帮助我弄清楚。

# android - 列出来自 URL android 的所有文件

> ID：10895702
> 
> 赞同：1
> 
> 时间：2012-06-05T10:32:36.580
> 
> 标签：android, file, url

我需要获取由 url 给出的文件夹中所有文件的名称。假设网络服务器有一个目录 www.example.com/images/ 并且该文件夹包含文件 1.png、2.png 和 3.png。我需要使用目录的 url 获取这些图像文件的名称。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:36:34.423

您不能，但网络服务器可能允许列出目录，然后它会生成一个文本或 html 页面，列出该目录中的文件。然后，您可以解析该响应。

通过在浏览器中访问 url 来测试网络服务器是否允许列出目录：`www.example.com/images/`并查看您得到的响应。它是某种文件列表，然后您可以解析该响应。

# http - squid 代理 - 如何允许 tcp 连接 - 使用 ERR_INVALID_DOMAIN 获取 TCP_DENIAL/400

> ID：10895711
> 
> 赞同：14
> 
> 时间：2012-06-05T10:33:26.570
> 
> 标签：http, tcp, proxy, connect, squid

我有一个设备需要连接到 tcp:80 上的互联网服务，但网络没有直接的互联网访问权限。所以我使用 squid 代理来解决这个问题。

该设备允许我输入代理服务器、端口、用户名和密码。

我发现，该设备使用 http CONNECT 而不是 http GET（在我的浏览器上运行良好）。

当设备尝试连接时，它会收到一个 http 错误 400。squid access.log 只给我这个：

```
1338885433.033 0 172.22.140.129 TCP_DENIED/400 1728 连接：0-无/-文本/html

```

所以我捕获了数据包以真正了解发生了什么：

来自设备的请求：

```
连接 mydomain.com:0 HTTP/1.0
用户代理：Sequencer/5.5.0.5539

```

鱿鱼的回答：

```
HTTP/1.0 400 错误请求
鱿鱼/2.7.STABLE9
X-Squid-错误：ERR_INVALID_URL 0
关

```

我的 squid.conf：

```
auth_param 基本程序 /usr/lib/squid/pam_auth
auth_param 基本儿童 5
auth_param 基本领域 Squid 代理缓存网络服务器
auth_param 基本凭据ttl 2 小时
auth_param 基本区分大小写关闭

acl 全部 src 全部
acl 管理器原型缓存对象
acl 本地主机 src 127.0.0.1/32
acl to_localhost dst 127.0.0.0/8 0.0.0.0/32

acl localnet src 10.0.0.0/8 # RFC1918 可能的内部网络
acl localnet src 172.16.0.0/12 # RFC1918 可能的内部网络
acl localnet src 192.168.0.0/16 # RFC1918 可能的内部网络

acl SSL_ports 端口 443 # https
acl SSL_ports 端口 563 # 新闻
acl SSL_ports 端口 873 # rsync

acl Safe_ports 端口 80 # http
acl Safe_ports 端口 21 # ftp
acl Safe_ports 端口 443 # https
acl Safe_ports 端口 70 # gopher
acl Safe_ports 端口 210 # wais
acl Safe_ports port 1025-65535 #未注册的端口
acl Safe_ports 端口 280 # http-mgmt
acl Safe_ports 端口 488 # gss-http
acl Safe_ports 端口 591 # 文件生成器
acl Safe_ports port 777 #multiling http
acl Safe_ports 端口 631 # 杯子
acl Safe_ports 端口 873 # rsync
acl Safe_ports 端口 901 # SWAT

acl 吹扫方法 PURGE
acl CONNECT 方法 CONNECT
acl checkpw proxy_auth 需要

http_access 允许管理器本地主机
http_access 拒绝管理器
http_access 允许清除本地主机
http_access 拒绝清除
http_access 拒绝！Safe_ports
http_access 允许连接
http_access 允许本地网
http_access 允许本地主机
http_access 允许 checkpw 全部
http_access 全部拒绝

icp_access 允许本地网
icp_access 全部拒绝

http_port 3128

hierarchy_stoplist cgi-bin ?

access_log /var/log/squid/access.log 鱿鱼

debug_options ALL,1 33,2 28,9

refresh_pattern ^ftp: 1440 20% 10080
refresh_pattern ^gopher: 1440 0% 1440
refresh_pattern -i (/cgi-bin/|\?) 0 0% 0
refresh_pattern（发布|包（.gz）*）$ 0 20% 2880
刷新模式。0 20% 4320

acl 广播 rep_header X-HTTP09-First-Line ^ICY.[0-9]

upgrade_http0.9 拒绝直播

acl apache rep_header 服务器 ^Apache

broken_vary_encoding 允许 apache

extension_methods 报告合并 MKACTIVITY CHECKOUT

主机文件 /etc/hosts

forwarded_for 关闭

coredump_dir /var/spool/squid

```

有什么解决方案可以摆脱 ERR_INVALID_URL？我是否误解了 squid 代理的概念，或者来自设备的请求无效？

如果需要任何其他信息，请告诉我。

提前谢谢你，克里斯蒂安。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2015-08-05T11:46:41.390

我通过注释掉默认的 squid.conf 解决了同样的错误：

```
# Deny CONNECT to other than secure SSL ports
#http_access deny CONNECT !SSL_ports 
```

默认情况下，Squid 设置为不允许 CONNECT 连接到非 SSL 端口。如果您想在没有 SSL 的情况下进行测试，您可以通过注释掉上面的行来禁用它。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-12-03T23:58:07.153

如上所述，我允许非 SSL 端口连接，但忘记从我尝试访问的网络打开 acl。打开解决了这个问题：

```
acl localnet src 1.1.0.0/24     # <- My Internal network I am accessing from
acl localnet src 10.0.0.0/8     # RFC1918 possible internal network
acl localnet src 172.16.0.0/12  # RFC1918 possible internal network
acl localnet src 192.168.0.0/16 # RFC1918 possible internal network 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-06-14T12:34:32.120

对我来说，这与[@peaxol](https://stackoverflow.com/a/53603759/1098603)正好相反：我定义了 acl，但没有定义`http_access allow`规则。我不得不添加它们：

```
acl vpn src xx.xx.xx.xx/xx
...
http_access allow vpn 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T06:51:26.550

我已经通过设备的产品支持解决了它。

他们向我展示了一种启用代理连接过程的更详细调试视图的方法。

日志文件中有一行“无法连接到中继 0.0.0.0”

所以我检查了设备的 dns 服务器设置，有一个错字。而已。

# wpf - 混合传统的 MVVM 和 Prism

> ID：10895712
> 
> 赞同：0
> 
> 时间：2012-06-05T10:33:29.573
> 
> 标签：wpf, mvvm, prism

对所有 .Net、WPF 和 MVVM 来说都是新的，所以就到这里。

我有一个典型的 MVVM，其中包含许多以传统方法编码的模型/视图。我有另一个使用 Prism 和一个模型的简单 MVVM。该公司希望我将 Prism MVVM 代码移动到当前的标准 MMVM 应用程序中，这样我就有了“混合”代码。首先，这可能吗？我想我会遵循以下帖子中的建议吗？

[WPF + MvvM + 棱镜](https://stackoverflow.com/questions/2774203/wpf-mvvm-prism)

有没有这方面的例子？

提前致谢

# c++ - 将 unsigned char[] 解析为 std::string

> ID：10895714
> 
> 赞同：0
> 
> 时间：2012-06-05T10:33:39.197
> 
> 标签：c++, casting, byte, ascii

我在解析 char[] 的内容时遇到问题。它包含字节，可以格式化为 ASCII 字符串。然而，最后两个字节是 CRC。因此，我将除数组中最后两个条目之外的所有内容都以十六进制格式解释为字符串：

```
std::ostringstream payload;
std::ostringstream crc;
payload << std::hex;
crc << std::hex;

// last two bytes are CRC
for (int i = 0; i < this->d_packetlen - 2; i++)
  {
  payload << static_cast<unsigned>(this->d_packet[i]);

     for (int j = i; j < this->d_packetlen; i++)
       {
         crc << static_cast<unsigned>(this->d_packet[j]);
       }
}
std::string payload_result = payload.str();
std::string crc_result = crc.str();

fprintf(d_new_fp, "%s, %s, %d, %d\n", payload_result.c_str(),
   crc_result.c_str(), this->d_lqi, this->d_lqi_sample_count); 
```

这不起作用，我不确定为什么会这样？有没有更简单的方法将未签名的字符转换为 ASCII？

最好的，马吕斯

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T10:38:31.093

这是一个无限循环：

```
for (int j = i; j < this->d_packetlen; i++)
{
   crc << static_cast<unsigned>(this->d_packet[j]);
} 
```

在这个循环中，你没有增加`j`; 相反，您正在增加`i`. 也许，这就是问题所在？

* * *

另外，按照您描述问题的方式，我认为正确的解决方案是：

```
for (int i = 0; i < this->d_packetlen - 2; i++)
{
  payload << static_cast<unsigned int>(this->d_packet[i]);
}
for (int j = this->d_packetlen - 2; j < this->d_packetlen; j++)
{
   crc << static_cast<unsigned int>(this->d_packet[j]);
} 
```

那就是第二个循环应该在第一个循环之外。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:38:20.463

我认为问题在于您的嵌套循环递增`i`而不是`j`.

```
for (int i = 0; i < this->d_packetlen - 2; i++)
{
payload << static_cast<unsigned>(this->d_packet[i]);

     for (int j = i; j < this->d_packetlen; i++ /* <=== HERE */)
     {
         crc << static_cast<unsigned>(this->d_packet[j]);
     }
} 
```

# actionscript-3 - 无法使用 xmldocument 填充我的下拉列表

> ID：10895715
> 
> 赞同：0
> 
> 时间：2012-06-05T10:33:39.787
> 
> 标签：actionscript-3, apache-flex, flex4.5

为什么不能填充我的下拉列表。我在[http://www.adobe.com/devnet/flex/videotraining.html](http://www.adobe.com/devnet/flex/videotraining.html)做视频。值不在nameSaleChoose.how 中。请帮我。

我想在下拉菜单中显示 LocalDesc。

```
<?xml version="1.0" encoding="utf-8"?>
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009"
xmlns:s="library://ns.adobe.com/flex/spark"
xmlns:mx="library://ns.adobe.com/flex/mx"
width="320" height="480" 
    creationComplete="initApp()">
<fx:Script>
    <![CDATA[
        import mx.collections.ArrayCollection;
        import mx.controls.Alert;
        import mx.rpc.events.FaultEvent;
        import mx.rpc.events.ResultEvent;
        import spark.events.IndexChangeEvent;
        [Bindable]
        private var nameSaleChoose:ArrayCollection;
        protected function service_resultHandler(event:ResultEvent):void
        {
            // TODO Auto-generated method stub  
            nameSaleChoose = event.result as ArrayCollection;
        }
        private function initApp():void
        {
            service.GetXml("SELECT PositionCode,LocalDesc 
                   FROM StaffPosition WHERE PositionCode IN ('00000','00021')");
        }
    ]]>
</fx:Script>
<fx:Declarations>
    <s:WebService id="service" 
                  wsdl="http://192.168.1.25/service.asmx?wsdl" 
                  result="service_resultHandler(event)"
                  > 
    </s:WebService>
</fx:Declarations>
<s:DropDownList id="dropDownList" x="35" y="38" width="164" 
     dataProvider="{nameSaleChoose}" labelField="LocalDesc">
</s:DropDownList> 
```

此 xml：从 Web 服务返回

```
<?xml version="1.0" encoding="UTF-8"?>
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://
  www.w3.org/2001/XMLSchema-instance">
<soap:Body>
 <GetXmlResponse xmlns="http://tempuri.org/">
  <GetXmlResult>
    <NewDataSet xmlns="">
      <Table>
        <PositionCode>00000</PositionCode>
        <LocalDesc>Administrator</LocalDesc>
      </Table>
      <Table>
        <PositionCode>00021</PositionCode>
        <LocalDesc>saleman</LocalDesc>
      </Table>
     </NewDataSet>
    </GetXmlResult>
  </GetXmlResponse>
</soap:Body>
</soap:Envelope> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T12:47:40.433

原因是您的结果是 XML 格式，并且您尝试将其转换为 ArrayCollection。您应该使用 XMLListCollection 类。

# android - Android等待网络可用

> ID：10895720
> 
> 赞同：1
> 
> 时间：2012-06-05T10:33:57.910
> 
> 标签：android, web-services, networking

我正在编写每 15 分钟执行一次的 Android 服务。

它需要互联网连接，因为它向服务器发送请求，如果服务器的响应像“ok”，则服务会执行一些代码。

如果手机未处于待机状态（屏幕打开），一切正常，但如果手机处于待机模式，则连接不可用并且服务无法正常工作。我希望服务等待可用连接，然后将请求发送到服务器。

例如，手机处于待机模式，15 分钟后，服务启动，然后尝试将请求发送到服务器，但连接不可用。在这种情况下，我希望服务等待连接可用，然后将请求发送到服务器。

有人可以建议它应该做什么吗？

好的，但我从不使用警报管理器和广播接收器，请您发布一个示例？但是如果手机处于待机状态，警报管理器和广播接收器可以工作吗？我写了一个错误，我必须每两小时而不是 15 分钟执行一次服务。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:45:15.770

在执行服务之前检查连接是否可用。下面提到的代码片段将帮助您确定是否存在任何有效的网络连接。

```
 ConnectivityManager connectivity = (ConnectivityManager) context
            .getSystemService(Context.CONNECTIVITY_SERVICE);
    if (connectivity != null) {
        NetworkInfo[] info = connectivity.getAllNetworkInfo();
        if (info != null) {
            for (NetworkInfo networkInfo : info) {
                if (networkInfo.getState() == NetworkInfo.State.CONNECTED) {
                    return true;
                }
            }
        }
    }
    return false; 
```

如果没有连接，则暂停服务调用，然后在 30 秒左右后轮询网络连接。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:45:52.717

当手机进入待机状态时，cpu 将停止工作，导致所有进程停止执行。您可以通过使用 PowerManager 并锁定 CPU 来避免这种情况，以确保即使手机处于待机状态，它也会保持开启：

```
m_wakeLock = m_powerManager.newWakeLock(
                PowerManager.PARTIAL_WAKE_LOCK, "My Tag");

m_wakeLock.acquire();
... cpu is assured to be on during this time ...
m_wakeLock.release(); 
```

但是，由于您需要每 15 分钟唤醒一次服务，即使在待机状态下，这也可能会导致电池的严重使用。您可以通过使用 AlarmManager 来避免这种情况，它会每 15 分钟安排一次事件，然后启动适当的 BroadcastReceiver。在 BroadcastReceiver 中，您只需通过意图（使用意图中的参数启动服务）向您的服务发送消息，获取 cpu，执行工作并释放 cpu。

- - - - - - - - - - - - - 更新 - - - - - - - - - - - - --

首先，在清单中声明您的广播接收器：

```
<receiver
        android:name="StartUpReceiver"
        <intent-filter>
             <action android:name="my.Package.MyEvent" />
             <category android:name="android.intent.category.HOME" />
         </intent-filter>
</receiver> 
```

您的 BroadcastReceiver 看起来与此类似：

```
public class StartUpReceiver extends BroadcastReceiver {

    @Override
    public void onReceive(Context context, Intent intent) {
        Intent serviceIntent = new Intent();
        serviceIntent.setAction("my.Package.MyService");
        context.startService(serviceIntent);

    }

} 
```

这样，每次使用例如 sendBroadcast(Intent) 方法 ( [CHECK HERE](http://developer.android.com/reference/android/content/Context.html#sendBroadcast%28android.content.Intent%29) ) 启动具有动作“my.Package.MyEvent”的意图时，您的广播接收器（即，只是一个扩展 BroadcastReceiver 类的类[CHECK HERE](http://developer.android.com/reference/android/content/BroadcastReceiver.html) ) 将执行它的 onReceive() 方法。在我的代码中，我只需使用适当的操作（“my.Package.MyService”）创建一个 Intent，然后启动 MyService。

AlarmManager 类只是为您提供了一种安排将来启动的意图的方法，类似于 sendBroadcast() 方法（在[此处查看](http://developer.android.com/reference/android/app/AlarmManager.html)）。在与 AlarmManager 关联的 onReceive() 方法的所有执行过程中，Cpu 将保持开启状态。然后您需要锁定 cpu，启动现在确定执行的服务。同时 onReceive() 方法将停止，但您的服务可以确保正在执行。你唯一需要做的就是找到一个解决方法，让你的服务与你的 AlarmManager 通信，在服务执行后释放 cpu 锁，如 AlarmManager 的主页所述。也就是说，您只需要将服务与广播接收器同步，使用外部对象来保存所需的信息（在这种情况下，如果 cpu 在服务结束时锁定，则释放 cpu）。

# ruby-on-rails - check_auth_continue: 504 5.7.4 无法识别的身份验证类型 (Net::SMTPSyntaxError)

> ID：10895722
> 
> 赞同：0
> 
> 时间：2012-06-05T10:34:11.523
> 
> 标签：ruby-on-rails, ruby

我有一个简单的脚本，可以通过 ruby​​ 中的 gmail smtp 服务器发送邮件，现在我必须将脚本移动到 Microsoft Exchange 服务器，并且我不断收到上述错误，请我需要帮助，谢谢，

我已经从 irb 尝试了以下内容，但也因上述错误而失败：

```
Net::SMTP.start('your.smtp.server', 25, 'mail.from.domain','Your Account', 'Your Password', :login) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:42:47.210

基于谷歌，您必须启用基本身份验证才能使用您的脚本：

[http://social.technet.microsoft.com/Forums/da-DK/exchangesvradmin/thread/0abab2e0-e8ca-4e07-a095-ca4f55015884](http://social.technet.microsoft.com/Forums/da-DK/exchangesvradmin/thread/0abab2e0-e8ca-4e07-a095-ca4f55015884)

# file - 通过 http 将 SQLite .db 文件从服务器移动到客户端到客户端位置，而没有下载提示

> ID：10895724
> 
> 赞同：1
> 
> 时间：2012-06-05T10:34:12.710
> 
> 标签：file, sqlite, http

我有一个场景，当客户端请求时，我需要将服务器上生成的 SQLite .db 文件移动到客户端。这必须通过 HTTP 发生。此外，必须将文件复制到客户端位置上的目录，而无需任何下载提示

请您建议我如何在 java/Servlets 中执行此操作？

# joomla - 如何从 joomla 控制面板添加或删除图标？

> ID：10895726
> 
> 赞同：0
> 
> 时间：2012-06-05T10:34:15.900
> 
> 标签：joomla, backend

我想向 Joomla 后端显示的第一个面板添加一些链接。我应该修改哪些文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:51:09.973

负责启动控制面板的模块可以在管理员模块中找到 - mod_quickicon。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T23:08:44.567

从 Joomla 2.5 开始，您还可以编写插件来添加图标。看看Joomla 附带的两个quickicon 插件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-10T17:31:48.187

您需要编辑的实际文件路径是这样的：

你的站点根目录/管理员/模块/mod_quickicon/helper.php

您将看到函数 getButtons() 使用所有图标及其参数（链接、图像、文本、访问权限）创建了一个数组。只需复制一个，将其粘贴到您希望它显示与其他图标相关的位置，然后将内容替换为您要添加的内容。

# jquery - 真实或不使用 jQuery 的电子邮件 ID 验证

> ID：10895727
> 
> 赞同：1
> 
> 时间：2012-06-05T10:34:26.463
> 
> 标签：jquery, jquery-plugins

是否可以通过使用 jQuery 中的任何内置函数来验证电子邮件是否是现有的电子邮件 ID（它正在使用，而不是假的）。

然后一些网站表单会识别是否输入了不存在的 ID。是不是当他们尝试发送确认邮件时，如果没有成功发送，他们就会知道这是假邮件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:39:46.560

*根本*无法以任何可接受的准确性验证邮箱的有效性。许多（如果不是大多数）电子邮件提供商不支持收件人验证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T14:56:59.160

首先，使用内置 jQuery 函数的电子邮件验证不适合您；它旨在支持广泛的功能，这被认为是利基市场。

电子邮件验证可以有多种形式；我将尝试按照准确性/可靠性的顺序在这里总结它们：

1.  它匹配正则表达式（坏）或根据 RFC2822（好）验证 - [https://www.rfc-editor.org/rfc/rfc2822#section-3.4.1](https://www.rfc-editor.org/rfc/rfc2822#section-3.4.1)

2.  电子邮件地址的域部分至少有一个关联的 MX 记录；如果不存在，则应使用关联的 A (IPv4) / AAAA (IPv6) 记录（虽然不太可靠） - [https://www.rfc-editor.org/rfc/rfc5321#section-2.3.5](https://www.rfc-editor.org/rfc/rfc5321#section-2.3.5)

3.  与列出的邮件交换服务器建立的连接对命令做出积极响应`RCPT TO:`- [https://www.rfc-editor.org/rfc/rfc5321#section-4.1.1.3](https://www.rfc-editor.org/rfc/rfc5321#section-4.1.1.3)

4.  已发送确认电子邮件但未直接退回（硬退回）

5.  预期收件人收到一封确认电子邮件，他们单击其中的确认链接或以其他方式确认收到电子邮件。

# php - 如何为 Windows 和 Unix 制作 php 自动化后台脚本？

> ID：10895729
> 
> 赞同：0
> 
> 时间：2012-06-05T10:34:32.270
> 
> 标签：php, performance, background-process, thumbnails, sitedesign

我有一个脚本可以创建较大图像的缩略图，它工作正常，问题是它被放置在页面的开头，可以查看两个图像，据我了解，每次有人访问该页面时都会运行。这似乎不是很高效。

我宁愿脚本有自己的页面，并以某种方式检测到何时将更多大图像添加到它扫描的目录并开始工作。

我将如何进行设置或以某种方式改进它？

找到了这个，不知道它是如何工作的。什么是 $cmd：

```
 /*I combined several efforts in this topic into one function: 
This will execute $cmd in the background (no cmd window) 
without PHP waiting for it to finish, on both Windows and Unix.*/
    function execInBackground($cmd) { 
        if (substr(php_uname(), 0, 7) == "Windows"){ 
            pclose(popen("start /B ". $cmd, "r"));  
        } 
        else { 
            exec($cmd . " > /dev/null &");   
        } 
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T10:41:56.420

**时基创建：**也许（如果您有 shell 访问权限），您可以创建一个“Cron 作业”：

在 ''/etc/crond.d/'' 创建一个像这样的文件：

```
0 6-18 * * *    root    /path/to/your/script.php >> /dev/null 2>&1 
```

它将从 6.00 到 18.00 每小时执行一次。

有关详细信息，请参阅：[http ://en.wikipedia.org/wiki/Cron。](http://en.wikipedia.org/wiki/Cron)

**自动创建：** 如果您有“上传程序”，只需在上传后输入“缩略图生成器”即可。

**挂钩创建：** 确实，这取决于您在目录中添加新图像的过程。

也许，您也可以在更新目录后制作一个挂钩来执行脚本。

但是我认为第一个基于时间（cron）的解决方案是最容易实现的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-01T12:19:24.567

您可以通过多种方式做到这一点。

恕我直言，最好的方法是将脚本分解为“目录扫描”部分，通过比较源的时间戳和目标的存在和时间戳来决定哪些图像需要缩略图。

第二部分一次只缩略图一个图像。

然后，您可以运行脚本的第二部分，并仅在请求缩略图时对图像进行缩略图：

```
<?php
    ...
    $run = true;
    if (file_exists($thumbnail))
        if (filemtime($thumbnail) > filemtime($source))
            $run = false;
    if ($run)
    {
        // run, say, ImageMagick and convert $source to $thumbnail

        if (!$success)
            $thumbnail = './images/sorry-error-in-thumbnailing.jpg';
    }
    Header("Content-Type: image/jpeg");
    Header("Content-Length: " . filesize($thumbnail));
    readfile($thumbnail);
?> 
```

当然，如果您不得不一次生成大量缩略图，这是很危险的，因为您可能会运行大量缩略图副本，从而占用您的服务器 CPU。

```
Let me clarify: you put the above script in place of IMG SRC="thumbnail1234.jpg"
request. Then the user viewing the page with the thumbnails will start several
requests for thumbnail.php?source=image123, ...?source=image235 and so on. They
will run in parallel, and most of them (if the thumb is there) can read the thumbnail
or issue a 302 Redirect to it, both very fast and with little server load.
ONLY IF the thumbnail isn't there, THAT image will appear after a delay because it
is generated and served directly. The user will see most, maybe all, images loading
instantly, and some of them lag behind a little (ideally). 
```

在这种情况下，您可以在弹出之前运行系统负载检查，或者您可以保留正在运行的进程的运行帐户。

您可以通过检查“tempthumbnail.jpg”是否存在并且不超过 $SECONDS 秒来限制一次运行一个缩略图，将 $source 缩略图到 tempthumbnail.jpg，然后将 tempthumbnail 重命名为 $thumbnail；和/或如果系统允许可靠地使用flock()。或者您可以存储在数据库中运行的进程数：

```
query("UPDATE sysvars SET runner = runner + 1;");
shell_exec("...");
query("UPDATE sysvars SET runner = runner - 1;"); 
```

否则，您可以不时地运行脚本，通过 cron 或在脚本的开头，当您看到上一次运行超过 $TIME 秒之前。或者，您可以在上传要翻阅的图像时检查标志（或源目录的 filemtime()）。

在后一种情况下，如果您可以控制上传，请在上传完成后立即运行缩略图。用户的上传将序列化您的翻阅过程，并且无论为“显示”新图像所做的任何操作都不太可能在上传后很快被激活；因此，当用户说“好的，激活图像 12345”时，很有可能相反，12345 的缩略图已经完成并准备“立即”显示。

很大程度上取决于翻阅脚本的运行方式。如果它总是重新生成所有缩略图，则效率低下。如果它检查，那么“试运行”只是读取整个目录和一堆 stat() 调用，这些调用非常快。除非您在数千张图像上运行，否则您无需担心。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-28T12:28:48.077

如另一个答案所述，cron 将是您最好的选择，但它仅在 Linux 上可用（也许 Windows 有另一种选择）。但是，如果您需要独立于平台的解决方案，或者您无法访问服务器的配置，您可以坚持使用原始解决方案（在每次页面加载时生成缩略图），但使用 CronExpression 类对其进行修改以提高效率：[https:// github.com/mtdowling/cron-expression](https://github.com/mtdowling/cron-expression)

使用此类，您只需定义一个 cron 执行表达式，如下所示：

```
0 6-18 * * * 
```

然后检查是否应该执行缩略图重新生成任务：

```
$cron_expression = Cron\CronExpression::factory($cron_schedule);
$next_run_date = $cron_expression->getNextRunDate();
if ($next_run_date <= new DateTime()) {
    //execute task
} 
```

# jsf-2 - 重置 Viewscope 的 JSF Backing Bean

> ID：10895730
> 
> 赞同：1
> 
> 时间：2012-06-05T10:34:32.280
> 
> 标签：jsf-2

我在 viewscope 中有一个托管 bean，我想重置使用此范围的表单。根据这篇文章[Reset JSF Backing Bean(View or Session Scope)](https://stackoverflow.com/questions/9458911/reset-jsf-backing-beanview-or-session-scope)
中的 Baluc， 我在我的代码中做了同样的事情：

```
 public String reset(){
         FacesContext.getCurrentInstance().getViewRoot().getViewMap().remove("myBean");
        return "SamePage?faces-redirect=true"; 

    } 
```

但它不起作用。有些人可以告诉任何解决方案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T20:40:15.673

尝试这个

```
public void reset(){

     FacesContext.getCurrentInstance().getViewRoot().getViewMap().remove("myBean");

} 
```

或这个

```
public String reset(){

     return "SamePage"; 

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T18:49:57.640

这个想法是，通过返回非 null 和非 void 的东西，你不需要调用`FacesContext.getCurrentInstance().getViewRoot().getViewMap().remove("myBean")`. 以下应该工作（最终）：

```
public String reset() {
    return "";
} 
```

我说“最终”是因为我不记得视图范围的 bean 是在渲染响应阶段之前还是之后被销毁的。我怀疑这就是为什么 BalusC 建议增加`?faces-redirect=true`返回值的原因。

# c# - 使文本框始终具有焦点

> ID：10895731
> 
> 赞同：0
> 
> 时间：2012-06-05T10:34:38.457
> 
> 标签：c#, focus

> **可能重复：**
> [设置外部应用程序焦点](https://stackoverflow.com/questions/1922707/setting-external-application-focus)

甚至知道它是重复的，但它是不同的语言。一些专业人士。程序员会认为这很容易，但不适合初学者。对VB一无所知。

我正在制作这个应用程序来检查卡上的钱。它将列出与他们使用它的用途和时间有关的所有详细信息。我会设置一台没有键盘和鼠标的电脑，它会每天自动开机和关机。

但是，有一个问题。例如，我有 TeamViewer 和我正在制作的这个应用程序。这两个程序都将在 Windows 启动时启动。如果我的应用程序先启动，则其中的文本框将在 TeamViewer 启动时失去焦点。

我已经尝试使用`TopMost`and `ShowDialog`，但是当另一个应用程序启动时，文本框仍然失去焦点。

有什么建议么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T10:47:34.343

您可以尝试使用该[`LostFocus`](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.lostfocus.aspx)事件并“重新聚焦”文本框：

```
textBox.LostFocus += new EventHandler((s, e) => textBox.Focus()); 
```

如果您的表单和父控件没有聚焦，这将不起作用。

# assembly - 跳转不起作用

> ID：10895732
> 
> 赞同：2
> 
> 时间：2012-06-05T10:34:38.737
> 
> 标签：assembly, att

我目前正忙于在装配 (AT&T) 中做一个小测验（到目前为止有固定的问题）。

我设计了一个小菜单，要求输入 1 2 或 3
问题是我的 cmpl 没有完成它的工作，我不知道为什么。它只是退出，不管输入是什么。

下面是我的一些代码：

```
.text

menu: .asciz "Please select an option: 1 - Start the quiz! 2 - Highscores 3 - Quit\n"
input: .asciz "%i"

.global main

main:
    call menushow

menushow:
    push $menu
    call printf
    addl $4,(%esp)

    leal -4(%ebp), %eax 
    pushl %eax
    pushl $input

    call scanf      

    popl %eax
    popl %eax       # the number that has been entered is now in eax

    cmpl $1,%eax        #1 entered? 
    je qone         #show question 1

    cmpl $2,%eax        #2 entered??
    je showHighScores   #show current highscores

    call quit       #something else? (3, 99 w/e) then we quit 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T12:42:22.320

*   您没有在堆栈上为*scanf*的结果分配空间。您需要在将参数推送到*scanf*之前将一些 dword 值推送到堆栈，或者删除`addl $4,(%esp)`并使用先前由参数占用的空间*printf*。在 Windows 系统上，这个空间的地址是**-12(%ebp) 。**我建议您不要使用从操作系统获得的 ebp，而是在程序的开头自行设置它，以便您知道它指向的位置。

*   您从堆栈中弹出两个值，但由于 scanf 有两个参数，您所追求的值是*第三个*值，因此您需要再次弹出。

# android - 在我的应用程序中集成 FB Sdk 时，我得到 java.lang.classnotfoundexception

> ID：10895733
> 
> 赞同：1
> 
> 时间：2012-06-05T10:34:41.463
> 
> 标签：android, facebook

在我的应用程序中集成 fb sdk 时，出现以下错误：

```
06-05 16:01:42.758: E/AndroidRuntime(892): FATAL EXCEPTION: main
06-05 16:01:42.758: E/AndroidRuntime(892): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.biz.fbapp/com.biz.fbapp.FBAppActivity}: android.view.InflateException: Binary XML file line #7: Error inflating class com.facebook.android.LoginButton
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.app.ActivityThread.access$600(ActivityThread.java:123)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.os.Handler.dispatchMessage(Handler.java:99)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.os.Looper.loop(Looper.java:137)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.app.ActivityThread.main(ActivityThread.java:4424)
06-05 16:01:42.758: E/AndroidRuntime(892):  at java.lang.reflect.Method.invokeNative(Native Method)
06-05 16:01:42.758: E/AndroidRuntime(892):  at java.lang.reflect.Method.invoke(Method.java:511)
06-05 16:01:42.758: E/AndroidRuntime(892):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
06-05 16:01:42.758: E/AndroidRuntime(892):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
06-05 16:01:42.758: E/AndroidRuntime(892):  at dalvik.system.NativeStart.main(Native Method)
06-05 16:01:42.758: E/AndroidRuntime(892): Caused by: android.view.InflateException: Binary XML file line #7: Error inflating class com.facebook.android.LoginButton
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:691)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.view.LayoutInflater.rInflate(LayoutInflater.java:739)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.view.LayoutInflater.inflate(LayoutInflater.java:489)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.view.LayoutInflater.inflate(LayoutInflater.java:396)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.view.LayoutInflater.inflate(LayoutInflater.java:352)
06-05 16:01:42.758: E/AndroidRuntime(892):  at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:251)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.app.Activity.setContentView(Activity.java:1835)
06-05 16:01:42.758: E/AndroidRuntime(892):  at com.biz.fbapp.FBAppActivity.onCreate(FBAppActivity.java:53)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.app.Activity.performCreate(Activity.java:4465)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920)
06-05 16:01:42.758: E/AndroidRuntime(892):  ... 11 more
06-05 16:01:42.758: E/AndroidRuntime(892): Caused by: java.lang.ClassNotFoundException: com.facebook.android.LoginButton
06-05 16:01:42.758: E/AndroidRuntime(892):  at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:61)
06-05 16:01:42.758: E/AndroidRuntime(892):  at java.lang.ClassLoader.loadClass(ClassLoader.java:501)
06-05 16:01:42.758: E/AndroidRuntime(892):  at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.view.LayoutInflater.createView(LayoutInflater.java:552)
06-05 16:01:42.758: E/AndroidRuntime(892):  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:680)
06-05 16:01:42.758: E/AndroidRuntime(892):  ... 21 more 
```

在这条线上

```
setContentView(R.layout.main); 
```

main.xml 上的代码是

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical" android:layout_width="fill_parent"
    android:layout_height="fill_parent" android:background="@drawable/white"
    android:gravity="center_horizontal">

    <com.biz.fbapp.LoginButton
        android:id="@+id/login"
        android:src="@drawable/login_button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" 
        android:layout_margin="30dp"
        />

    <TextView android:id="@+id/txt" 
        android:text="@string/hello"
        android:textColor="@drawable/black"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        />

    <Button android:id="@+id/uploadButton"
        android:text="@string/upload"
        android:visibility="invisible"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" 
        android:paddingRight="20dp" 
        android:paddingLeft="20dp"
        android:layout_margin="20dp" 
        />

    <Button android:id="@+id/requestButton"
        android:text="@string/request"
        android:visibility="invisible"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" 
        android:paddingRight="20dp" 
        android:paddingLeft="20dp"
        android:layout_margin="20dp" 
        />

    <Button android:id="@+id/postButton" 
        android:text="@string/post"
        android:visibility="invisible"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" 
        android:paddingRight="20dp" 
        android:paddingLeft="20dp"
        android:layout_margin="20dp" 
        />

    <Button android:id="@+id/deletePostButton" 
        android:text="@string/delete"
        android:visibility="invisible"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" 
        android:paddingRight="20dp" 
        android:paddingLeft="20dp"
        android:layout_margin="20dp" 
        />

</LinearLayout> 
```

请告诉我我错过了什么或做错了什么来帮助我。

编辑 ：

现在我得到 noclassdeffound 即使在我导入该文件后，也无法在该特定项目上添加库..

谢谢施鲁蒂

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-15T09:04:09.360

另请参阅此问题：[Android ClassNotFound 和 android.view.InflateException：](https://stackoverflow.com/questions/7759882/android-classnotfound-and-android-view-inflateexception/14334214#14334214)

我从那里复制了我的答案：

从 Facebook SDK 3.0 版开始，LoginButton 现在可作为 SDK 的一部分作为`com.facebook.widget.LoginButton`

见[这里](https://developers.facebook.com/docs/reference/android/3.0/LoginButton)。

注意这里Facebook自己的升级说明[引用](https://developers.facebook.com/docs/tutorials/androidsdk/3.0/upgrading-from-2.0-to-3.0/)了错误的包，LoginButton必须声明为com.facebook.widget.LoginButton，而不是com.facebook.LoginButton

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:47:49.393

> 引起：android.view.InflateException：二进制 XML 文件第 7 行：膨胀类 com.facebook.android.LoginButton 时出错

该 SDK 的主要源代码中没有 LoginButton。它仅在示例代码中可用，因此无法加载不可用的类（ClassNotFoundException）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:57:28.980

下载的 facebook sdk 中有示例。使用任何示例中的示例文件

> path_to_facebook_sdk/examples/simple/src/com/facebook/android/LoginButton.java

在您的项目中导入上述文件。

# binding - 如何使用 KDE 的 Smoke？

> ID：10895737
> 
> 赞同：6
> 
> 时间：2012-06-05T10:34:46.260
> 
> 标签：binding, kde, smoke

我不明白[Smoke](http://techbase.kde.org/Development/Languages/Smoke)是什么。我一直期待smoke 会为C++ 代码生成C 包装器，并使用生成的函数创建头文件。

但是`smokegen`在 C++ 头文件上运行会给我一个很小的头文件，它只是导出指向某个`Smoke`类和`<sourcename>_smoke_init()`函数的指针。

我该怎么办？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-04-09T04:25:32.720

Smoke 是一个运行时绑定生成器，如果你知道的话，有点像 gobject-introspection。

这意味着它会生成有关您正在绑定的代码的信息，并将其作为库提供。为了使用生成的库，您必须针对 Smoke API（这是一个 C++ API）编写代码，以获取有关您为其生成绑定的代码的信息，并使用 Smoke API 将函数调用到您正在使用的代码中包装。

页面[http://techbase.kde.org/Development/Languages/Smoke](http://techbase.kde.org/Development/Languages/Smoke)中的示例显示了如何使用 API 调用您正在绑定的代码（在此处创建 Qt Widgets hello world 示例）

Smoke API 在[http://techbase.kde.org/Development/Languages/Smoke/API_Documentation](http://techbase.kde.org/Development/Languages/Smoke/API_Documentation)介绍了一些棘手的部分，但我发现的主要信息来源是smoke.h 标头。

我已经开发了一个与 Smoke 的 C 绑定（[https://github.com/pankajp/pysmoke/blob/master/include/smokec.h](https://github.com/pankajp/pysmoke/blob/master/include/smokec.h)），以尝试编写一个基于 Smoke 的 Qt-python 绑定，它已经适用于某些人简单的程序。如果您想使用来自 C 的 Smoke，您可能会发现它是一个起点。

相反，如果您只是对向 C 公开一个简单的小型 C++ 库感兴趣，而不用担心在 C 中创建子类（以任何方式）并覆盖虚拟或受保护方法，那么您只想使用现有代码而不扩展它无论如何，您最好手动编写绑定（就像我为 Smoke C++ API 所做的那样，尽管我还提供了一种通过传递函数指针在 C 中实现虚方法的方法）

# java - Java 处理 request.getParameter 中的特殊字符

> ID：10895743
> 
> 赞同：1
> 
> 时间：2012-06-05T10:35:31.273
> 
> 标签：java, html, jsp, jakarta-ee, utf-8

我试图在我的 java 类中获取包含特殊字符的参数。我已将其添加如下

```
 <%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%> 
```

我有这两个参数：(1)3 天系统管理员 (6EE SP1) 在 VMware 班加罗尔的培训 (2)Daiichi:eDossier – Phase1 new_6500004691

提交页面后，我得到了完美的结果，但是两个参数名称发生了如下变化：

(1)Daiichi:eDossier â¢â¬â Phase1 new_6500004691 (1)3 âdays System Admin (6EE SP1) 在 VMware Bangalore 培训

请建议

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T10:38:03.440

`request.setCharacterEncoding("UTF-8")`在第一次调用之前尝试设置`getParameter()`。

如果这不起作用，请查看[您的 Tomcat 配置](https://stackoverflow.com/questions/3278900/httpservletrequest-setcharacterencoding-seems-to-do-nothing)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:38:53.423

我知道您的问题是什么：您的应用程序服务器/servlet 容器未配置为支持 unicode 字符。

您必须配置您的应用程序服务器/servlet 容器以支持 UTF 编码。[在这个SO question](https://stackoverflow.com/questions/3278900/httpservletrequest-setcharacterencoding-seems-to-do-nothing)中已经回答了 Tomcat 示例。

另一种选择是编写一个字符编码过滤器并在您的 Web 应用程序中配置它。

# spring - 如何在 Spring Social 1.0.2 中配置 twitter 回调 url？

> ID：10895744
> 
> 赞同：0
> 
> 时间：2012-06-05T10:35:40.430
> 
> 标签：spring, spring-mvc, spring-social

我需要配置回调 url（重定向 URL），在早春社交它配置为

* * *

```
 <bean class="org.springframework.social.connect.web.ConnectController">
    <!-- relies on by-type autowiring for the constructor-args -->
    <property name="applicationUrl" value="${application.url}" />
</bean> 
```

请告诉如何在social 1.0.2中配置，如果有完整的例子请分享。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-29T06:03:52.250

它仍然是一样的。从 springsource检查此[参考文档。](http://static.springsource.org/spring-social/docs/1.0.x/reference/html)

```
<bean class="org.springframework.social.connect.web.ConnectController">
<!-- relies on by-type autowiring for the constructor-args -->
<property name="applicationUrl" value="${application.url}" />
</bean> 
```

# cocoa - 有没有一种快速的方法来查看方法是否从我的项目中的任何 xib 文件中连接/绑定？

> ID：10895754
> 
> 赞同：0
> 
> 时间：2012-06-05T10:36:24.053
> 
> 标签：cocoa, interface-builder

有没有一种快速的方法来查看方法是否从我的项目中的任何 xib 文件中连接/绑定？

换句话说，我需要知道我是否可以摆脱这种方法，或者它是否在 Interface Builder 中使用。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:58:08.940

我不认为这`XCode`有 bound 的过滤器`IBActions`。所以我想我们有两种可能的解决方案：

1.  **直观地识别绑定的方法**（这里我搜索了`IBAction`. 绑定的动作用实心圆圈表示，而未绑定的动作是空心圆圈）。虽然这种方法有效，但当你有很多连接时它不是很有用。 ![在此处输入图像描述](../Images/d85a95b9f52ecadffb9add308acc7f25.png)

2.  **解析`xml`界面生成器生成的**。如果你看一下`xib`/`storyboard`文件，你会看到有类似这样的子`<connections>`标签： ，你的方法签名在哪里。我想你可以解析这些 xml 并列出绑定方法（对于应用程序来说也是一个好主意！）`<action>``<action selector="fingeroff:" destination="ars-ip-845" eventType="touchDragOutside" id="1Nx-xZ-K1I"/>``selector`

如果有人有更好的方法来处理这个问题，请分享！

# php - 使用 PHP 填充 HTML 文本框值

> ID：10895755
> 
> 赞同：0
> 
> 时间：2012-06-05T10:36:24.673
> 
> 标签：php, html

我正在尝试使用 $Firstname 填充 html 文本框值，但我不断收到 HTTP 500 内部服务器错误。插入 php 部分工作得非常好。

这是我的 PHP 代码。我要设置的框位于底部。

```
<?php
$Firstname = $_POST['Fname'];
$Surname = $_POST['Lname'];
$UserName = $_POST['UName'];
$Password = $_POST['Password'];

$Valid = mysql_connect('localhost' , 'root' , 'pword');

if(!$Valid) 
{
    echo 'Could not connect' . mysql_error();
}
else
{
    mysql_select_db('accounts', $Valid) or die('could not select database');

    $query = "INSERT INTO `users` (`UserName`, `Password`, `FirstName`, `Surname`) VALUES ('".$UserName."' , '".$Password."' , '".$Firstname."' , '".$Surname."')";  

    mysql_query($query, $Valid) or die('Error Adding the users details.');

    echo "The following user " . $Firstname . " has been added to the database";
}

<html>
<body>
<input type="text" name="UName" size="30" value=<?php echo htmlentities($Firstname); ?>/><br/>

</body>
</html>
?> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T10:40:47.577

从末端取下`?>`并放在前面`<html>`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:42:52.307

除了前面的答案，我建议您确保在您的开发环境中将 error_reporting 设置为 E_ALL 并将 display_errors 设置为 ON。这将帮助您获得比简单的 HTTP 500 更详细的错误消息。

干杯:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:38:42.440

我不认为你的代码有任何问题。但是你试试这个

```
<input type="text" name="UName" size="30" value="<?php echo $Firstname; ?>" /> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-05T10:39:18.240

您的代码中的某处可能有错误。我似乎无法在您的示例代码中找到它。

顺便说一句，在这种情况下回显单个值的好习惯可以是：

```
<input type="text" name="UName" size="30" value="<?=$Firstname?>" /> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-05T10:44:52.273

我注意到的第一件事是

您忘记将您的 php 注入包含在***“***

```
<input type="text" name="UName" size="30" value="<?php echo htmlentities($Firstname); ?>"/><br/> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-05T10:47:59.020

代替：

```
...
    echo "The following user " . $Firstname . " has been added to the database";
}

<html>
<body>
....
?> 
```

尝试：

```
...
    echo "The following user " . $Firstname . " has been added to the database";
}
?>   <!-- add ?> -->
<html>
<body>
....
(delete ?>) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-05T10:51:33.673

错误 500 来自 Apache 服务器，它与 PHP 无关。我认为您需要在 htaccess 中进行更改，如果有的话！
尝试重新启动您的服务器，然后查看结果，或者更好地检查 apache 错误登录`/var/log/`

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-08-09T23:15:57.307

一个对我来说非常宝贵的网站是：http: [//phpcodechecker.com/](http://phpcodechecker.com/)

您可以粘贴一行或整个文件，然后单击分析按钮。它会告诉你 PHP 解析器不喜欢什么，包括一些警告。查找丢失的 ')' 和不会弹出的类似错误非常方便。

# c# - 如何在没有“runat=server”的情况下访问 C# 代码中的 HTML 控件？

> ID：10895756
> 
> 赞同：2
> 
> 时间：2012-06-05T10:36:29.300
> 
> 标签：c#, javascript, controls, dotnetnuke, runatserver

我知道您可以使用 FindControl 从 C# 中的代码访问服务器端 HTML 控件（具有“runat=server”）。但是我的 HTML 表格是动态表格，所以我不能在服务器端使用它。如何在没有“runat=server”的情况下获取此 HTML 表的 Rows.Count？非常感谢。更新：环顾四周后，在将值分配给隐藏字段后，我遇到了一些涉及回发的解决方案。关键是，隐藏字段必须是物理的和单独的 html 形式，而我正在开发一个继承模块形式的 ascx 文件上的 DotNetNuke 模块控件。如果我添加另一个表单，它会说我不能有 2 个带有 runat=server 的表单。仍然在这里寻找解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:46:32.937

如果它是服务器端，即如果它具有`runat="server"`属性，您可以从代码后面访问 HTML 控件。

如果您的表格由一些 javascript 代码填充，您可以在回发之前将行号保存在表单字段中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:58:03.393

如果您可以访问 jQuery 之类的 javascript 框架，则可以获取表格行数并将其添加到隐藏元素中，该元素是您要发布的表单的一部分，如下所示：

```
var numberOfRows = $('#yourTableID tr').length;
$('#myHiddenValue').val(numberOfRows); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-08-17T06:47:59.207

如果您不想使用 Javascript，这就是您可以在后面的代码中使用的内容。

```
string strValue = Page.Request.Form["name of the textarea HTML control"].ToString(); 
```

# xpages - 将内容视图复制到 2 个字符串

> ID：10895761
> 
> 赞同：0
> 
> 时间：2012-06-05T10:36:46.920
> 
> 标签：xpages

我有一个基于 search 构建的视图。单击按钮：我想将“城市”列的前 10 行复制到一个字符串。在每个城市之间我想添加字符“\r”。所以结果是一个字符串，如：“Rome \r Berlin \r Paris ...”剩余的行（从11到结束）应该复制到另一个细绳。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T15:17:15.680

如果你想做这个客户端并且能够使用 jQuery，你可以做这样的事情，你必须用 ControlName 和 ColimnId 来代替你的设置。

```
var string1="";
var string2="";

$("[id$='yourControlName'] tr td:nth-child(columnId)").each(function (i) {
    if (i==0) then string1=$(this).text()
    if (i<=10){
        string1 += "\r"+$(this).text
    }
    if (i==11) then string2=$(this).text()
    if (i>11) {
        string2 += "\r"+$(this).text    
    }
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T12:51:16.397

像这样的东西会起作用：

```
<xp:this.data>
   <xp:dominoView var="view2"
        viewName="<<viewName>>">
   </xp:dominoView>
</xp:this.data>

<xp:inputText>
    <xp:this.value><![CDATA[#{javascript:
     var length = view2.getEntryCount();
     var entries = view2.getAllEntries();
     var i = 0;
     var currentEntry = entries.getFirstEntry();
     var list = "";

     while(i < length)
     {
        list += currentEntry.getColumnValues().elementAt(1);

        currentEntry = entries.getNextEntry();
        i++;
     }

     return list;
}]]></xp:this.value>
</xp:inputText> 
```

将 <> 替换为您的视图名称。添加检查以查看何时有 10 个值并添加到另一个字符串并将所需的“\r”值放在字符串的末尾。您还可以在服务器端脚本中获取视图，具体取决于您要如何执行此操作。

如果这是用于显示数据页面，则可以使用诸如 dataview 之类的控件将视图作为数据源，告诉要显示哪些列并告诉每页显示多少行。

# android - 当我在 Android 上滚动列表视图时复选框未选中

> ID：10895763
> 
> 赞同：31
> 
> 时间：2012-06-05T10:36:53.323
> 
> 标签：android, listview, checkbox, scroll

我是 Android 开发的新手。`listview`我用一个`textbox`和创建了一个`checkbox`。

当我检查`checkbox`并向下滚动以检查列表视图中的其他一些项目时，未选中较旧的项目。

我如何避免这个问题`listview`？请用我的代码指导我。

这是代码：

### 主.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">

    <TextView
        android:id="@+id/TextView01"
        android:layout_height="wrap_content"
        android:text="List of items"
        android:textStyle="normal|bold"
        android:gravity="center_vertical|center_horizontal"
        android:layout_width="fill_parent"/>

    <ListView
        android:id="@+id/ListView01"
        android:layout_height="250px"
        android:layout_width="fill_parent"/>

    <Button
        android:text="Save"
        android:id="@+id/btnSave"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"/>

</LinearLayout> 
```

* * *

这是我用来创建动态列表行的 XML 页面：

### 列表视图.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_height="wrap_content"
    android:gravity="left|center"
    android:layout_width="wrap_content"
    android:paddingBottom="5px"
    android:paddingTop="5px"
    android:paddingLeft="5px">

    <TextView
        android:id="@+id/TextView01"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:textColor="#FFFF00"
        android:text="hi"/>

    <TextView
        android:text="hello"
        android:id="@+id/TextView02"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginLeft="10px"
        android:textColor="#0099CC"/>

    <EditText
        android:id="@+id/txtbox"
        android:layout_width="120px"
        android:layout_height="wrap_content"
        android:textSize="12sp"
        android:layout_x="211px"
        android:layout_y="13px"/>

    <CheckBox
        android:id="@+id/chkbox1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"/>

</LinearLayout> 
```

* * *

这是我的活动课。

### CustomListViewActivity.java：

```
public class CustomListViewActivity extends Activity {

    ListView lstView;
    static Context mContext;
    Button btnSave;

    private static class EfficientAdapter extends BaseAdapter {
        private LayoutInflater mInflater;

        public EfficientAdapter(Context context) {
            mInflater = LayoutInflater.from(context);

        }

        public int getCount() {
            return country.length;
        }

        public Object getItem(int position) {
            return position;
        }

        public long getItemId(int position) {
            return position;
        }

        public View getView(int position, View convertView, ViewGroup parent) {
            final ViewHolder holder;
            if (convertView == null) {
                convertView = mInflater.inflate(R.layout.listview, parent,
                        false);
                holder = new ViewHolder();
                holder.text = (TextView) convertView
                        .findViewById(R.id.TextView01);
                holder.text2 = (TextView) convertView
                        .findViewById(R.id.TextView02);
                holder.txt = (EditText) convertView.findViewById(R.id.txtbox);
                holder.cbox = (CheckBox) convertView.findViewById(R.id.chkbox1);

                convertView.setTag(holder);
            }
            else {
                holder = (ViewHolder) convertView.getTag();
            }

            holder.text.setText(curr[position]);
            holder.text2.setText(country[position]);
            holder.txt.setText("");
            holder.cbox.setChecked(false);

            return convertView;
        }

        public class ViewHolder {
            TextView text;
            TextView text2;
            EditText txt;
            CheckBox cbox;
        }
    }

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        lstView = (ListView) findViewById(R.id.ListView01);
        lstView.setAdapter(new EfficientAdapter(this));
        btnSave = (Button)findViewById(R.id.btnSave);
        mContext = this;

        btnSave.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                // I want to print the text which is in the listview one by one.
                // Later I will insert it in the database.
                //
                //            Toast.makeText(getBaseContext(), "EditText Value, checkbox value and other values", Toast.LENGTH_SHORT).show();
                for (int i = 0; i < lstView.getCount(); i++) {
                    View listOrderView;
                    listOrderView = lstView.getChildAt(i);
                    try{
                        EditText txtAmt = (EditText)listOrderView.findViewById(R.id.txtbox);
                        CheckBox cbValue = (CheckBox)listOrderView.findViewById(R.id.chkbox1);
                        if(cbValue.isChecked()== true){
                            String amt = txtAmt.getText().toString();
                            Toast.makeText(getBaseContext(), "Amount is :"+amt, Toast.LENGTH_SHORT).show();
                        }

                    }
                    catch (Exception e) {
                        // TODO: handle exception
                    }
                }

            }
        });
    }

    private static final String[] country = { "item1", "item2", "item3",
        "item4", "item5", "item6","item7", "item8", "item9",
        "item10", "item11", "item12" };

    private static final String[] curr = { "1", "2", "3", "4", "5", "6","7", "8", "9", "10", "11", "12" };
} 
```

请帮我解决这个问题。

我在很多地方都提到过这个问题。但我无法得到正确的答案来解决这个问题。

请提供代码以避免在上下滚动时取消选中复选框。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2014-12-17T09:46:22.543

在调用**setOnCheckedChangeListener*****之后，***在自定义列表视图适配器调用**setChecked** 。

 ***这样，您就可以从回收的视图中切断到旧侦听器的链接。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2017-07-04T04:59:44.673

您可以使用以下适配器代码在 ListView 中完美运行复选框。

详细的演示在这里：***[Listview With Checkbox Android](http://demonuts.com/2017/01/09/listview-with-checkbox-in-android-studio/)***

有关详细信息，请参阅详细的演示链接。它还显示了如何将检查的信息发送到下一个活动。

```
import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.CheckBox;
import android.widget.TextView;
import android.widget.Toast;
import java.util.ArrayList;

public class CustomAdapter  extends BaseAdapter {

    private Context context;
    public static ArrayList<Model> modelArrayList;

    public CustomAdapter(Context context, ArrayList<Model> modelArrayList) {

        this.context = context;
        this.modelArrayList = modelArrayList;
    }

    @Override
    public int getViewTypeCount() {
        return getCount();
    }

    @Override
    public int getItemViewType(int position) {
        return position;
    }

    @Override
    public int getCount() {
        return modelArrayList.size();
    }

    @Override
    public Object getItem(int position) {
        return modelArrayList.get(position);
    }

    @Override
    public long getItemId(int position) {
        return 0;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        final ViewHolder holder;

        if (convertView == null) {
            holder = new ViewHolder(); LayoutInflater inflater = (LayoutInflater) context
                     .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            convertView = inflater.inflate(R.layout.lv_item, null, true);

            holder.checkBox = (CheckBox) convertView.findViewById(R.id.cb);
            holder.tvAnimal = (TextView) convertView.findViewById(R.id.animal);

            convertView.setTag(holder);
        }
        else {
            // The getTag returns the viewHolder object set as a tag to the view
            holder = (ViewHolder)convertView.getTag();
        }

        holder.checkBox.setText("Checkbox " + position);
        holder.tvAnimal.setText(modelArrayList.get(position).getAnimal());

        holder.checkBox.setChecked(modelArrayList.get(position).getSelected());

        holder.checkBox.setTag(R.integer.btnplusview, convertView);
        holder.checkBox.setTag( position);
        holder.checkBox.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {

                View tempview = (View) holder.checkBox.getTag(R.integer.btnplusview);
                TextView tv = (TextView) tempview.findViewById(R.id.animal);
                Integer pos = (Integer)  holder.checkBox.getTag();
                Toast.makeText(context, "Checkbox " + pos + " clicked!", Toast.LENGTH_SHORT).show();

                if (modelArrayList.get(pos).getSelected()){
                    modelArrayList.get(pos).setSelected(false);
                }
                else {
                    modelArrayList.get(pos).setSelected(true);
                }

            }
        });

        return convertView;
    }

    private class ViewHolder {

        protected CheckBox checkBox;
        private TextView tvAnimal;
    }
} 
```

`Model`是

```
public class Model {

    private boolean isSelected;

    private String animal;

    public String getAnimal() {
        return animal;
    }

    public void setAnimal(String animal) {
        this.animal = animal;
    }

    public boolean getSelected() {
        return isSelected;
    }

    public void setSelected(boolean selected) {
        isSelected = selected;
    }
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-05T10:41:43.200

在你的`getView()`你有以下行

```
holder.cbox.setChecked(false); 
```

每次`getView()`调用都会设置 CheckBox 未选中（例如，当您滚动列表时）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-06-10T07:28:31.527

> 块引用

**在侧面的 getView() 方法中只需像这样调用>>

```
check.setOnCheckedChangeListener(new OnCheckedChangeListener() {

            @Override
            public void onCheckedChanged(CompoundButton arg0, boolean arg1) 
            {

                if(check.isChecked())
                {
                    //checked
                    chkArray[position]=true;
                }
                else
                {   //uncheck
                  chkArray[position]=false;

                }
            }
        });

//check condition for checkboxes
        if(chkArray.length>0)
        {
            for (int i = 0; i < chkArray.length; i++) 
            {
                if(chkArray[position]!=null && chkArray[position])
                {
                    check.setChecked(true);
                }
            }
        } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-05T10:42:16.583

考虑：

```
holder.cbox.setChecked(false); 
```

删除此行。每次滚动列表视图时，都会调用 getView() 方法。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-05T10:58:21.320

我之前也遇到过这个问题。Android 这样做是为了节省空间；仅加载您当前看到的项目，这就是我发现的。

如果您在列表的底部，则 id 1 可能位于第 5 位。我在网上搜索并发现了这个。

但这[会](http://www.vogella.com/articles/AndroidListView/article.html#listadvanced_interactive)帮助你：D

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-06-23T18:11:33.397

几个小时后，我终于找到了解决方案，即

1.  添加一个带有 set 和 get 方法的布尔变量数组类。
2.  添加一个数组以将我的选择保存在其中。
3.  使用 onClickListner。

在getView方法里面如下：

```
 if(marray!=null) { //if myarray class object has data
holder.name.setText(marray.getName());
.
.
holder.checkbox.setChecked(marray.isChecked());//get the checkbox state 
} 
```

将值赋给 holder.checkbox.setOnClickListener 方法中的布尔变量，如下所示：

```
 holder.checkbox.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    if (allReport.UserSelection.contains(
Integer.parseInt(marrays.get(position)
.getIdd()))) // check if id selected before
                    {
      marray.setChecked(false);// marray is the object from myArray class
      allReport.UserSelection.remove(new Integer(Integer.parseInt(marrays.get(position).getIdd())));//remove id 

 }else{
       allReport.UserSelection.add(Integer.parseInt
           (marrays.get(position).getIdd()));//save the selection 
            marray.setChecked(true);//save the boolean to true} 
```

这对我来说解决了问题我希望这会有所帮助

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-09-11T14:36:15.073

它的解决方案是在适配器视图中添加 itemView.OnClicklistener 更改。这肯定会解决您的职位问题

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2017-05-25T05:38:32.483

当我们在列表视图中滚动项目时，它会从适配器恢复值。这就是未选中复选框的原因。但如果我们用最新值更新适配器，它将保持选中状态。为此，您需要使用 setOnClickListener()。

您需要做的就是在单击复选框时更新您的适配器。您可以参考这个[链接](http://www.ikcure.com/checkbox-check-lost-on-listview-scroll-in-android/)来了解一下***

# mysql - MySQL加入逗号分隔字段

> ID：10895764
> 
> 赞同：4
> 
> 时间：2012-06-05T10:36:53.207
> 
> 标签：mysql, join

我有两张桌子。第一个表是`batch`在字段“batch”中包含逗号分隔的学生 ID的表

```
batch
--------------
id      batch 
--------------
1       1,2     
2       3,4 
```

第二个表是标记

```
marks
----------------------
id  studentid   subject     marks
1     1         English     50
2     2         English     40
3     3         English     70
4     1         Math        65
5     4         English     66
6     5         English     75
7     2         Math        55 
```

我们如何在不使用子查询的情况下找到第一批 id =1 的英语成绩超过 45 分的学生。

我发现使用单个查询完成此操作的问题是我们不能在 JOIN 语句中使用**IN**作为关联运算符

以下查询需要进行哪些更改才能使其正常工作？

```
SELECT * FROM batch
INNER JOIN marks ON marks.studentid IN(batch.batch) where batch.id = 1 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-05T10:46:40.900

```
SELECT  m.studentId
FROM    batch b
JOIN    marks m
ON      FIND_IN_SET(m.studentId, b.batch)
        AND m.subject = 'English'
GROUP BY
        m.studentId
HAVING  SUM(marks) > 45 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:48:55.037

我认为正确的解决方案是重构学生-批次关系。为什么不将“batch”表的外键添加到“student”表中。学生 1 和 2 将参考批次 1，学生 3 和 4 将参考批次 2。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:49:24.323

您不想在一个数据库字段中存储两个值 - 您违反了[第一范式](http://en.wikipedia.org/wiki/First_normal_form "第一范式")，并且当您尝试使用 SQL 分析数据时会遇到麻烦[。](http://qkme.me/3pl8b2)

我无法完全理解您在使用不同 id 的问题描述中得到了什么 - 但我认为您会希望批处理表更像：

```
batch
--------------
id      batch 
--------------
1       1
1       2     
2       3
2       4 
```

# asp.net-mvc-3 - 如何在服务器端不使用 Controller 渲染多个局部视图？

> ID：10895767
> 
> 赞同：0
> 
> 时间：2012-06-05T10:37:11.037
> 
> 标签：asp.net-mvc-3, razor

我是 MVC3 的新手。我正在使用剃须刀。

我有一个包含 4 个项目的菜单。每次单击都会打开一个不同的局部视图。

任何人都可以在这里帮我..

最好不要在服务器端使用控制器..

谢谢，阿尼什

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T10:44:22.680

如果您不使用控制器，则需要 Html.RenderPartial：

[http://msdn.microsoft.com/en-us/library/system.web.mvc.html.renderpartialextensions.renderpartial.aspx](http://msdn.microsoft.com/en-us/library/system.web.mvc.html.renderpartialextensions.renderpartial.aspx)

如果要使用控制器操作呈现部分视图，请使用 Html.RenderAction：http: [//msdn.microsoft.com/en-us/library/system.web.mvc.html.childactionextensions.renderaction.aspx](http://msdn.microsoft.com/en-us/library/system.web.mvc.html.childactionextensions.renderaction.aspx)

[http://devlicio.us/blogs/derik_whittaker/archive/2008/11/24/renderpartial-vs-renderaction.aspx](http://devlicio.us/blogs/derik_whittaker/archive/2008/11/24/renderpartial-vs-renderaction.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T11:39:20.557

您必须创建一个对象，您想要在所有不同的局部视图上显示所有数据。然后使用 @Html.RenderPartial 来渲染你想要的部分。使用第二个参数添加数据。

示例：@{Html.RenderPartial("_Customers", Model.CustomerList);}

# c++ - 由 C++ 编译器优化时，F2C 翻译的代码中断

> ID：10895769
> 
> 赞同：2
> 
> 时间：2012-06-05T10:37:15.607
> 
> 标签：c++, c, visual-c++, f2c

我有一个 c++ 程序，它的方法看起来像这样：

```
int myMethod(int* arr1, int* arr2, int* index)
{
    arr1--;        
    arr2--;
    int val = arr1[*index];
    int val2 = arr2[val];
    return doMoreThings(val);
} 
```

启用优化 (/O2) 后，第一个指针递减的第一行不会被执行。我正在并排调试优化的和非优化的构建，优化的构建逐步减少，而非优化的程序执行它。当它稍后使用 arr[*index] 访问数组时，这会产生明显的行为差异。

**更新**

正如@stefaanv 指出的那样，如果它改为减量的访问索引，编译器确实可以省略减量，它似乎会这样做。因此，省略的减量并不是导致行为差异的原因。取而代之的是，导致它的矩阵的使用存在某些问题。

进一步看，我已将其缩小为包含执行矩阵乘法的嵌套循环的方法。该方法的一部分如下所示：涉及 3 个数组：a、wa 和 t。在该方法的开始，f2c 翻译器使用减量，以便在 fortran 中为 6 x 6 的数组`double[36]`在 c 中是一个平面。但是为了能够使用旧的索引，它将数组指针向后移动矩阵中的列数。

通常在这个 f2c 翻译的程序中，平面数组是传递的`&someArray[1]`，方法从每个数组减一开始。@Christoph 指出这应该是有效的，因为数组的减量永远不会超出其声明的范围。

在这种方法的情况下，传入的数组不会作为指向数组更远元素的指针传递，`&someArray[1]`但这里的数组是用固定大小声明的局部静态数组，例如`mat[36]`直接传递给乘法方法。

```
void test()
{
    double mat[36];
    ...
    mul(mat, .., ..)
}

void mul(double* a, double* t, double*wa, int M, int N, int K)
{
    // F2C array decrements.
    a -= (1+M); // E.g. decrement by seven for a[6x6]!
    t -= (1+N); 
    wa--;
    ...
    for (j = K; j <= M; ++j) {         
       for (i = 1; i <= N; ++i) {
          ii = K;
          wa[i] = 0.;          
          for (p = 1; p <= N; ++p) {
             wa[i] += t[p + i * t_dim1] * a[ii + j * a_dim1];
             ++ii;
          }
       }

       ii = K;      
       for (i = 1; i <= N; ++i) {
          a[ii + j * a_dim1] = wa[i];
          if (j > kn) {
             a[j + ii * a_dim1] = wa[i];
          }
          ++ii;
      }
    }
 } 
```

所以问题是：

*这是否意味着当您执行 f2c 在此处所做的操作时，行为未定义并且可能会在优化下中断，即从 double[36] 数组指针中减去 7，然后在正确的位置（偏移量 7）访问数组中的所有项目？*

编辑：在[C FAQ](http://www.faqs.org/faqs/C-faq/faq/#ixzz0ftyqHOvm)中找到了这个，这适用于这里吗？

> 只要指针指向同一个分配的内存块内，或者指向一个假想的“终止”元素，就可以定义指针算术；否则，行为未定义， *即使指针未取消引用*。.... 参考文献：K&R2 Sec。5.3 页。100，秒。5.4 第 102-3 页，秒。A7.7 第 205-6 页；ISO 秒。6.3.6；理由二。3.2.2.3。

**更新 2：**

如果我使用递减索引而不是递减指针重新编译多维数组，

```
#define a_ref(a_1,a_2) a[(a_2)*a_dim1 + a_1 - 1 - a_dim1]

a_ref(1,2); 
```

然后，无论优化如何，该方法都会产生相同的（预期的）输出。仅减一的一维数组似乎不会产生任何问题。

我可以将程序中的所有多维数组更改为使用上述访问方法，但是单个暗淡数组太多而无法手动更改，因此理想情况下我想要一个对两者都适用的解决方案。

新问题：

*   f2c 是否可以选择使用此数组访问方法而不是指针摆弄？似乎这将是 f2c 中的一个简单更改，并生成定义良好的代码，因此您会认为它已经是一个选项。
*   这个问题是否有其他解决方案（除了跳过优化并希望程序表现良好，尽管依赖于未定义的行为）。
*   我可以在 c++ 编译器中做些什么吗？我使用 Microsoft C++ (2010) 作为托管 c++ 项目进行编译。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-05T10:59:56.130

优化器只应确保没有可观察到的行为变化，因此它可以选择不进行递减并使用递减索引访问数据（额外的偏移量可以是操作码的一部分），因为该函数使用指向数组的指针。您没有告诉我们实际如何访问数组以及优化器是否实际上引入了错误，所以我只能猜测这个。

`int val = arr1[*index-1];`但正如 slartibartfast 已经说过的那样：这是未定义的行为，在检查 *index > 0 后应该将减量替换为

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:47:53.767

将指向数组的指针移出数组指定的范围，然后通过它访问（尽管完整的表达式回落到该范围内）是未定义的行为 AFAIK。尽管如此，在几乎每一个实现中，这段代码都应该像预期的那样工作，所以问题是，你在看什么？也许在从 arr1[] 获取 int 的汇编指令中有一个隐式的预减量？仅仅因为您在调试器中看不到减量并不意味着它不存在。通过向其写入区分值来检查是否访问了正确的元素。

# iphone - 如何在 xcode 4.2 中创建 Entitlement.plist 文件？

> ID：10895772
> 
> 赞同：1
> 
> 时间：2012-06-05T10:37:18.503
> 
> 标签：iphone

我正在 xcode 4.2 上下载最新版本。及其包括 ios 5.1。我想在我的项目中创建 Entitlement.plist 文件。那么我们如何创建它。请给我正确的步骤来在 xcode 4.2 中创建 Entitlement.plist 文件。提前致谢....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:42:55.293

在项目中选择目标并向下滚动。您将看到添加自定义权利的选项。![在此处输入图像描述](../Images/375ef349e51e669548e1625d6112a0bb.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:40:40.350

选择项目的目标并向下滚动。您将看到添加自定义权利的选项。

# shell - sqlite3 shell 命令 '.backup' 和事务

> ID：10895776
> 
> 赞同：6
> 
> 时间：2012-06-05T10:37:31.967
> 
> 标签：shell, sqlite, backup, database-backups

我的本地主机 (Win NT) 上有 sqlite 数据库，并且想要备份它。我想使用 shell 命令 '.backup' 来完成这个任务。但似乎我可以在备份过程中将新行插入数据库。

'.backup' shell 命令是否在我的数据库上启动新的独占事务？

我想当我执行 '.backup' shell 命令时，它会锁定我的数据库。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-08-07T18:38:11.543

sqlite3 备份方式不锁定数据库。如果您想锁定数据库，我建议使用以下解决方法：

*   启动事务（共享锁）
*   通过使用任何`INSERT`语句，数据库都会获得一个保留锁。但是，此`INSERT`语句可以为空。
*   备份数据库。
*   使用`ROLLBACK`或结束事务`COMMIT`。

**代码：**

```
BEGIN;
INSERT INTO <anytable> SELECT * FROM <anytable> WHERE 1=0;
.backup <database> <file>
ROLLBACK; 
```

如果您使用的是名为“备份”的表，并且您正在为每个副本插入一行（日期，..）（如果此信息与您相关），那么一种不那么 hacky 的方法是。

# jquery - 按钮的jQuery附加功能

> ID：10895779
> 
> 赞同：-1
> 
> 时间：2012-06-05T10:38:00.500
> 
> 标签：jquery, jquery-ui, jquery-plugins

我想在 button.plz 帮助之后使用 JQuery 附加功能附加一个按钮

```
var button = $("<button>Hi there</button>");
button.click(function() {
    alert("Hi back!");
});
button.appendTo("#tablecell"); 
```

上面的代码用于在表格中的某些文本之后附加一个按钮。但是我想在一个按钮之后附加一个按钮

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:40:44.797

```
var button = $("<button>Hi there</button>");
$("#tablecell").on('click', button, function() {
    alert("Hi back!");
});
button.insertAfter("#tablecell"); 
```

或者

```
 $('#tablecell').insertAfter(button); 
```

* * *

### 为什么需要`.on()`委托

因为您的按钮，在页面加载后附加到 DOM，这意味着在 DOM 准备好之后。所以普通的绑定在那里不起作用，你需要委托（又名实时）事件处理程序。

```
$(target).on(eventName, handlerFunction) // for ordinary binding 
```

但

```
$(container).on(eventName, target, handler) // for delegate binding 
```

你有另一个选择`.delegate()`，看起来：

```
$(container).delegate(target, eventName, handlerFunction); 
```

# unix - 桌面程序是守护进程吗？

> ID：10895783
> 
> 赞同：1
> 
> 时间：2012-06-05T10:38:26.413
> 
> 标签：unix

我是编程初学者，所以如果这个问题听起来很愚蠢，我很抱歉......

我正在读一本关于 Unix 的书。我想知道在我的桌面上运行的程序，例如 iTunes 或 Skype，是否被视为守护进程。我很困惑，因为如果我`ps`在终端中输入，我看到的只是 bash 内核，除非我使用选项`-e`. 这似乎表明 iTunes 和 Skype 就像在后台运行的其他守护程序一样。

但是，从概念上讲，守护进程不应该使用用户的任何输入，但我认为 iTunes 和 Skype 确实需要用户的输入......

我怎么了？请帮忙，谢谢！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:45:31.347

像 iTunes 和 Skype 这样的程序并不是真正的守护进程，正是因为它们确实与用户交互并且可以显示在屏幕上。但是，它们也没有绑定到终端会话。

它们是独立的进程；它们在后台运行，直到您将它们带到前台。他们可能有自己的守护进程（iTunes 有一个帮助程序，它是一个守护进程）。但 Skype 或 iTunes 的主 UI 不是守护进程。

# svn - TortoiseSVN 如何对 2 个项目有 2 个单独的修订计数？

> ID：10895787
> 
> 赞同：2
> 
> 时间：2012-06-05T10:38:31.863
> 
> 标签：svn, tortoisesvn

基本上在我的 SVNrepositories 文件夹中

```
SVNrepositories/trunk/project1 
```

我创建了另一个项目并将其放入

```
SVNrepositories/trunk/project2 
```

但是 project2 从另一个 project1 的修订开始。为什么它不从 0 开始计数？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-05T10:43:23.107

因为修订号是整个存储库的修订，而不是子文件夹。如果您想要单独的修订号，那么您需要单独的存储库。

# python - 配置 Apache2 httpd.conf 以允许上传文件；使用带有pycurl的python客户端上传

> ID：10895788
> 
> 赞同：1
> 
> 时间：2012-06-05T10:38:33.080
> 
> 标签：python, upload, apache2, httpd.conf, pycurl

我需要配置 Apache 2.2 Web 服务器以允许将文件上传到特定目录，比如`/tmp/www/upload/`在服务器上。我想使用 python 客户端执行上传，并尝试了 pycurl 示例`/usr/share/doc/python-pycurl/examples/file_upload.py`，它是我的 ubuntu 10.04 机器上 python 2.6.5 发行版的一部分，使用 localhost Web 服务器，`http://127.0.1.1/upload/`URL 映射到 dir `/tmp/www/upload/`。

可能我需要在 Apache`httpd.conf`文件中启用一个处理程序以允许上传文件，“通过”服务器上的一个脚本，但我不知道如何开始。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T12:38:07.927

您所指的示例仅显示了如何将文件上传到服务器，这意味着您可以如何*发送*文件。

您仍然需要编写接收文件并将文件写入磁盘的服务器端代码。这里有一个非常基本的例子来说明如何做到这[一点](http://webpython.codepoint.net/cgi_file_upload)。

# python - 使用 Google App Engine 在 HTML 和 CSS 上呈现模板

> ID：10895793
> 
> 赞同：2
> 
> 时间：2012-06-05T10:39:03.727
> 
> 标签：python, css, google-app-engine, django-templates

我目前正在研究我在 GAE 上托管的网站。好久没有更新了，所以现在，我正在尝试刷新它：D

为了做到这一点，我尝试使用 MVC 模型，使用 Python 和 WSGI、WebAPP2 和 Render.Template。

一切正常，除了 CSS 部分。

事实上，我无法使用 GAE (django) 方法渲染我的 CSS 的某些部分。我的 Python 控制器正在调用 HTML 文件并正确地用 dict() 值替换变量。

但是现在，为了只能拥有有限数量的 CSS 文件，我正在尝试做同样的事情。

不幸的是，我不知道我应该如何调用 CSS 文件。

我目前像往常一样在我的 HTML 上调用我的 CSS：

```
<link rel="stylesheet" media="screen" type="text/css" href="/assets/css/struct/index.css"> 
```

并尝试动态呈现文件的这一部分：

```
header#navigation{
height:auto;
min-height:480px;
width:100%;
min-width:100%;
background-image:url('/assets/img/content/{{content_cat_name}}/cat_img.jpg');
background-repeat:no-repeat;
background-position: left top;
background-size:contain;
background-color:#efefef;
} 
```

然后一切都由我的python代码调用，如下所示：

```
class URIHandler(webapp2.RequestHandler):
def get(self, subdomain, page):
    name = subdomain
    pattern = os.path.join(os.path.dirname(__file__), '../views' ,'index.html')        
    template_values = {
            'content_cat_name':name,
            'cat_menu_title':name,
            'cat_menu_text':name,
    }

    self.response.out.write(template.render(pattern, template_values)) 
```

所以，如果有人可以帮助我正确调用我的 CSS 并使用我的 python 脚本替换变量，我会非常高兴 :D 在此先感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T12:28:32.107

`template.render`只能替换您在`path`参数（第一个参数）中指定的文件中的标记。您正在从静态目录中提供 .css 文件，因此不会发生令牌替换，因为该文件没有通过该代码传递。

您可以在 index.html 文件中内联包含标记的 CSS 部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-11-26T04:33:07.187

我遇到了我认为同样的问题。我发现这个[GAE 文档](https://cloud.google.com/appengine/docs/python/gettingstartedpython27/staticfiles)很有帮助。简而言之，您需要进入您的 app.yaml 文件创建一个新的处理程序：

```
url: /foldername
  static_dir: foldername 
```

然后在您的链接标签中：

```
href="foldername/index.css" 
```

# php - 将 xmlhttp.responseText 数据传递给 php 变量

> ID：10895799
> 
> 赞同：0
> 
> 时间：2012-06-05T10:39:19.110
> 
> 标签：php, jquery

我有一个 jquery，它通过 ajax 从页面中提取文本并在 div 中显示该文本我想将该数据传递给 php 变量我该怎么做？

我的jQuery代码是

```
<script type="text/javascript">
        var xmlHttp = null;
        window.onload = function() {
            xmlHttp = new XMLHttpRequest();
            xmlHttp.open("GET", "abc.php", true);
            xmlHttp.onreadystatechange = onCallback;
            xmlHttp.setRequestHeader('Content-type','application/x-www-form-urlencoded');
            xmlHttp.send(null);
        }
        function onCallback() {
            if (xmlHttp.readyState == 4) {
                if (xmlHttp.status == 200) {
                    alert(xmlHttp.responseText);
                    document.getElementById('show').innerHTML=xmlHttp.responseText;

                }
            }
        }
    </script> 
```

在这里，我想将 xmlhttp.responseTexrt 保存在同一文件中的 php 变量中，我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T10:47:27.703

Javascript 在浏览器上执行，php 在 Web 服务器上执行。您不能直接将值从 javascript 传递到 php。

因此，您需要`POST`从 javascript 向发送`xmlHttp.responseText`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T11:00:46.993

在 URL 中传递您的数据，

```
var data = "somedata";
xmlHttp.open("GET", "abc.php&send=" + data, true); 
```

对于传递序列化数组，首先将其转换为字符串

```
var send = toString(array); 
xmlHttp.open("GET", "abc.php" + send, true); 
```

用于将数组存储到 PHP 变量中 `$receive = explode(',',$_POST['send']);`

# asp.net - ASP.NET SQL 语句执行

> ID：10895801
> 
> 赞同：0
> 
> 时间：2012-06-05T10:39:30.883
> 
> 标签：asp.net

连续几天我正在尝试掌握 APS.NET 身份验证过程。我完全糊涂了。

我创建了使用表单身份验证的简单网站。（这完全是魔法）身份验证工作得很好，但不知道它是如何工作的，可能代码和 SQL 语句已经注入到框架深处的某个地方。但是如何创建自定义控件？

假设我有两类用户：会员和版主。

我希望版主能够执行`Insert`、`Update`和`Delete`SQL 语句，但成员将受到这些操作的限制，并且只能执行`Select`语句并且只能用于他的记录。

你们能指导我如何使用 ASP.NET 实现它。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T12:36:44.303

您可以为两个类别（成员和版主）创建角色。

[http://www.asp.net/web-forms/tutorials/security/roles/creating-and-managing-roles-vb](http://www.asp.net/web-forms/tutorials/security/roles/creating-and-managing-roles-vb)

对于自定义成员角色，请查看以下链接：

[http://www.codeproject.com/Articles/27955/Developing-custom-ASP-NET-Membership-and-Role-prov](http://www.codeproject.com/Articles/27955/Developing-custom-ASP-NET-Membership-and-Role-prov)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T11:08:10.290

首先创建会员和版主角色：[http ://www.4guysfromrolla.com/articles/120705-1.aspx](http://www.4guysfromrolla.com/articles/120705-1.aspx)

然后在执行任何操作之前检查用户属于哪个角色：http: [//msdn.microsoft.com/en-us/library/4z6b5d42.aspx](http://msdn.microsoft.com/en-us/library/4z6b5d42.aspx)

# jquery - Hightcharts 在 X 轴上显示日期月份

> ID：10895802
> 
> 赞同：0
> 
> 时间：2012-06-05T10:39:34.613
> 
> 标签：jquery, charts, highcharts

我正在尝试使用面积图创建一个显示过去 7 天数据的图表。

有没有办法动态地在 x 轴上显示最后 7 天的高图？

格式：6 月 2 日、6 月 3 日等

![在此处输入图像描述](../Images/3560fba781c3968b1a7e9e08cb31c4af.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-05T13:08:00.197

为什么不设置 xAxis 日期时间并传入您的每日值，然后将 xAxis 最小值设置为从最后一点开始的 7 天？

这是一个如何做的例子：[jsFiddle](http://jsfiddle.net/wergeld/eLpUd/1/)

HighCharts 最重要的链接：[参考](http://www.highcharts.com/ref)

由于我们不知道您是如何提取数据并发送到 HighCharts 的，其余的由您决定。最主要的是阅读参考文档。HighCharts 功能强大且高度可定制。另外，如果你有一个基于时间的数据集，请确保你传入的数据是按时间顺序排列的。虽然它不会无法呈现您的混乱值，但它看起来很奇怪并导致大规模歇斯底里。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:47:20.510

```
var x = new Array();

for(i=0;i<30; $i++)
       {
         x[i]="June "+x[i];
       } 
```

/* 图表对象 */

```
chart = new Highcharts.Chart({
        chart: { },
        .
        .
        xAxis: {
           categories: x
        }
}); 
```

在定义 x 轴数组之前，要使用调用 highchart 图表函数。

# android - android - 在整个应用程序中使用按钮动作多次

> ID：10895804
> 
> 赞同：0
> 
> 时间：2012-06-05T10:39:41.000
> 
> 标签：android, layout, android-activity

在我的应用程序中，我正在尝试实现 facebook 主页的设计。

我的应用中有 7 种不同的活动。对于所有 7 个活动，标题（应用程序栏）和页脚部分中的按钮是相同且相同的操作。

现在我的问题是，我是否必须为所有 7 个活动创建单独的 7 个布局，并且我必须在每个活动中编写相同的按钮操作，还是可以编写一次并且可以在所有 7 个活动中使用？

如果它只能通过编写一次来使用，如何做到这一点请建议我最好的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:42:53.403

您可能应该创建一个包含按钮的片段，然后在每个活动中重用片段。

查看此以获取有关 Fragments 的更多信息：

[http://android-developers.blogspot.no/2011/02/android-30-fragments-api.html](http://android-developers.blogspot.no/2011/02/android-30-fragments-api.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T10:50:44.467

您应该分别创建页眉和页脚 xml 文件

然后使用“ `<include other layout>`” Android 布局

在每个屏幕上包含您的页眉和页脚。

如果有任何疑问，请让我澄清一下，我已经这样做了，非常容易。

你也可以检查[这个](https://stackoverflow.com/questions/2732682/simple-example-of-merge-and-include-usage-in-android-xml-layouts)SO 线程

# sharepoint-2010 - sharepoint 2010 的功能区选项卡中的刷新控件

> ID：10895809
> 
> 赞同：0
> 
> 时间：2012-06-05T10:40:22.923
> 
> 标签：sharepoint-2010

谁能告诉我使用javascript刷新sharepoint 2010功能区栏中的功能区控件的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T15:09:53.070

刷新命令UI();

来自 MSDN 博客站点的链接：http: [//blogs.msdn.com/b/sharepointdev/archive/2011/02/17/using-refreshcommandui-with-the-server-ribbon.aspx](http://blogs.msdn.com/b/sharepointdev/archive/2011/02/17/using-refreshcommandui-with-the-server-ribbon.aspx)

# extjs - ExtJS 分组网格无法加载 JSON 数据

> ID：10895811
> 
> 赞同：1
> 
> 时间：2012-06-05T10:40:28.490
> 
> 标签：extjs

我无法在 ExtJS 分组中加载数据`grid`。

我有以下代码 ExtJS `grouping.js`。

```
Ext.onReady(function() {

    Ext.QuickTips.init();

    var xg = Ext.grid;

    var documentType = "";
    var fileName = "";
    var size = "";
    var fileGPath = "";

    // shared reader
    var reader = new Ext.data.ArrayReader({}, [{
            name: 'filename'
        }, {
            name: 'size'
        }, {
            name: 'author'
        }, {
            name: 'date',
            type: 'date',
            dateFormat: 'Y-m-d H:i:s'
        }, {
            name: 'action'
        }, {
            name: 'document'
        }

    ]);

    var store = new Ext.data.GroupingStore({
        reader: reader,
        url: 'DocumentListService.jsp',
        root: 'Documents',
        sortInfo: {
            field: 'filename',
            direction: "ASC"
        },
        fields: [{
            name: 'filename',
            mapping: 'FileName'
        }, {
            name: 'size',
            mapping: 'Size'
        }, {
            name: 'author',
            mapping: 'Author'
        }, {
            name: 'date',
            mapping: 'Date'
        }, {
            name: 'action',
            mapping: ''
        }, {
            name: 'document',
            mapping: 'Document'
        }],
        groupField: 'document'
    });

    var grid = new xg.GridPanel({
        id: 'myGridId',
        store: store,
        columns: [{
            id: 'filename',
            header: "File Name",
            width: 60,
            sortable: true,
            dataIndex: 'filename'
        }, {
            header: "Size",
            width: 20,
            sortable: true,
            dataIndex: 'size'
        }, {
            header: "Author",
            width: 20,
            sortable: true,
            dataIndex: 'author'
        }, {
            header: "Date",
            width: 20,
            sortable: true,
            dataIndex: 'date'
        }, {
            header: "Action",
            width: 20,
            sortable: true,
            dataIndex: 'action'
        }, {
            header: "Document",
            width: 20,
            sortable: true,
            dataIndex: 'document',
            hidden: 'true'
        }],

        view: new Ext.grid.GroupingView({
            forceFit: true,
            groupTextTpl: '{text} ({[values.rs[0].get("filename")=="" ? "0" : values.rs.length]} {[values.rs.length > 1 ? "Documents" : "Document"]}) <a href="#" onClick="javascript:document.getElementById(\'hdnId\').value=\'{text}\';document.getElementById(\'form-file-file\').click();" style="align:right"><img src="images/image_add.png" alt="Upload Document" style="border:none;margin-left:390px;"/></a>'
        }),

        frame: true,
        width: 700,
        height: 450,
        collapsible: true,
        animCollapse: false,
        title: 'Document Library',
        iconCls: 'icon-grid',
        renderTo: 'docUpload'
    });

    var fp = new Ext.FormPanel({
        renderTo: 'fi-form',
        fileUpload: true,
        width: 500,
        frame: true,
        title: 'File Upload Form',
        autoHeight: true,
        bodyStyle: 'padding: 10px 10px 0 10px;',
        labelWidth: 50,
        defaults: {
            anchor: '95%',
            allowBlank: false,
            msgTarget: 'side'
        },
        items: [{
            xtype: 'fileuploadfield',
            id: 'form-file',
            emptyText: 'Select a File to import',
            fieldLabel: 'File',
            name: 'file',
            buttonCfg: {
                text: '',
                iconCls: 'upload-icon'
            },
            listeners: {
                'fileselected': function(v) {
                    if (fp.getForm().isValid()) {
                        fp.getForm().submit({
                            url: 'FileUpload.jsp',
                            waitMsg: 'Uploading your file...',
                            success: function(fp, jsonObj) {

                                fileName = jsonObj.result.fileName;
                                size = jsonObj.result.size;
                                fileGPath = jsonObj.result.fileGPath;

                                documentType = (document.getElementById("hdnId").value).replace("Document: ", "");
                                addDataToGrid(fileName, fileGPath, size, documentType);
                                Ext.getCmp('myGridId').getStore().loadData(xg.dummyData);
                                msg('Success', 'Successfully uploded on the server');
                            },
                            failure: function(fp, o) {
                                msg('Failure', 'Failed to upload');
                            }
                        });
                    }
                }
            }
        }]

    });

}); 
```

我有以下`json`字符串`DocumentListService.jsp`：

```
{
    "DocumentList": [{
        "DocumentGroup": "Invoice",
        "isDocumentBundle": true,
        "isWritable": true,
        "Documents": [{
            "FileName": "ABC.doc",
            "Size": "123",
            "Author": "xyz",
            "Date": "\\/Date(1238025600000)\\/",
            "FileGPath": "xyz doc",
            "Document": "Invoice"
        }, {
            "FileName": "ABC.doc",
            "Size": "123",
            "Author": "xyz",
            "Date": "\\/Date(1238025600000)\\/",
            "FileGPath": "abc doc",
            "Document": "Invoice"
        }]
    }, {
        "DocumentGroup": "SOP",
        "isDocumentBundle": true,
        "isWritable": true,
        "Documents": [{
            "FileName": "ABC.doc",
            "Size": "123",
            "Author": "xyz",
            "Date": "\\/Date(1238025600000)\\/",
            "FileGPath": "xyz doc",
            "Document": "SOP"
        }]
    }]
} 
```

我仍然无法加载数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T12:30:21.757

好吧，您的问题是商店阅读器，它已设置为 root "Documents"，但收到的 Json 具有 root `DocumentList`。所以问题是将`json`数据映射到您的商店。

* * *

**编辑**

问题是您错误地使用了分组存储。当您从后端获取数据时，不需要对数据进行分组。

> 这是我的建议

`Json`从后端发送的只是您具有以下类型的文档列表：

```
{
    "Documents": [{
        "Type": "invoice",
        "FileName": "ABC.doc",
        "Size": "123",
        "Author": "xyz",
        "Date": "\/Date(1238025600000)\/",
        "FileGPath": "xyz doc",
        "Document": "Invoice"
    }, {
        "Type": "invoice",
        "FileName": "ABC.doc",
        "Size": "123",
        "Author": "xyz",
        "Date": "\/Date(1238025600000)\/",
        "FileGPath": "abc doc",
        "Document": "Invoice"
    }, {
        "Type": "SOP",
        "FileName": "ABC.doc",
        "Size": "123",
        "Author": "xyz",
        "Date": "\/Date(1238025600000)\/",
        "FileGPath": "xyz doc",
        "Document": "SOP"
    }]
} 
```

而对于分组存储只是使用`groupField: "Type"`，并且读者应该有根`Documents`。这将简化您的负载，但这意味着您必须复制每个组所需的额外数据并将其附加到每个文档。

只是一个建议。

# jquery - setSrc 未在 Firefox 中更新新音频 (.mp3)

> ID：10895812
> 
> 赞同：0
> 
> 时间：2012-06-05T10:40:31.473
> 
> 标签：jquery, html, mediaelement.js

我正在尝试在音频结束时加载新音频。这不知何故在FF中不起作用。

```
$(document).ready(function(){
        $('audio').mediaelementplayer({
            success: function(media, node, player) {
                media.addEventListener('ended', function(){
                    media.src = 'Audio/4typesslide9.mp3';
                    media.load();
                    media.play();
                }, false);
            }
        });
}); 
```

这在 Chrome 中运行良好。（我还没有在其他浏览器中测试过）

请帮我解决一下这个。我被困在这一点很长一段时间......

这是我得到的错误：

> 不支持“audio/mpeg”的 HTTP“Content-Type”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-22T03:49:11.790

它在 Firefox 中不起作用，因为 Firefox 不播放 mp3。您需要添加`<source>`一个 .webm 版本的元素

# asp.net - 为什么 SPA 应用程序不创建数据库？

> ID：10895814
> 
> 赞同：0
> 
> 时间：2012-06-05T10:40:34.563
> 
> 标签：asp.net, asp.net-mvc, ef-code-first, asp.net-spa

我关注了一个试图制作单页应用程序的微软视频，即使我有其他应用程序首先使用代码，它也不会创建或连接到我的 sql 实例。例如，连接字符串是...

```
<add name="DefaultConnection" connectionString="Data Source=Localhost;Initial Catalog=aspnet-MvcApplication2-201265113324;Integrated Security=True" providerName="System.Data.SqlClient" /> 
```

但我得到一个错误说

> 建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。（提供者：SQL 网络接口，错误：26 - 错误定位服务器/指定的实例）

这真的很奇怪，因为我的其他应用程序带有连接字符串......

```
<add name="PteDotNetContext" providerName="System.Data.SqlClient" connectionString="Server=Localhost;Database=PteDotNet;Trusted_Connection=true;" /> 
```

工作正常，连接没问题...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:04:35.170

如果您不向`DbContext`构造函数提供连接字符串或连接字符串名称，它将尝试查找与（继承的）`DbContext`类名称匹配的连接名称。

因此，您可以更改连接字符串的名称

```
<add name="MyDbContext" connectionString="Data Source=Localhost;Initial Catalog=aspnet-MvcApplication2-201265113324;Integrated Security=True" providerName="System.Data.SqlClient" /> 
```

或者在构造函数中提供连接字符串的名称

```
public class MyDbContext : DbContext
{
     public MyDbContext() : base("DefaultConnection") {}
} 
```

# javascript - 如何使从 display:none 更改为 display:block 的元素在 DOM 中可用？

> ID：10895817
> 
> 赞同：1
> 
> 时间：2012-06-05T10:40:44.097
> 
> 标签：javascript, css, dom

我正在尝试在最初具有 display:none 属性的元素上应用一些 javaScript。例子：

```
<input type="button" onclick="document.getElementById('container').style.display='block';">

<div style="display:none;" id="container">
<input type="text" name="somename" id="somename" onclick="applySomeJsToTextField();">
</div>

function applySomeJsToTextField() {
//js code here
} 
```

由于该元素对于作为 display:none 元素加载或在其中加载的 DOM 不可见，我该如何更改它？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T10:42:51.263

元素具有`display`属性设置的事实*意味着*该元素在 DOM 中。

您可以将一些 JS 应用于隐藏元素，它们仍然是加载在 DOM 中的元素。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T10:46:02.850

不管它是否可见。在任何一种情况下都可以访问

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:59:39.453

切换可见性的小功能可能是：

```
functionToggleDiv()
{
    var container = document.getElementById('container');
    container.style.display = (container.style.display === 'none' ? 'block' : 'none');
} 
```

但是，如果此代码对您不起作用，那么可能是 dom 没有完全加载，在您正在与之交互的元素之后插入 JS，或者查看其他方法（`window.onload`等）来解决这个问题。

只是一个想法：但如果所有样式属性包含的是`display:none;`但是，你可能会想尝试：`document.getElementById('container').removeAttribute('style');`。这不是我建议的方式，但也不是创建一个新元素，你在评论中说要这样做。

# asp.net - 无法在 Firefox 中编辑 asp 文本框值

> ID：10895824
> 
> 赞同：0
> 
> 时间：2012-06-05T10:40:54.683
> 
> 标签：asp.net, sharepoint, textbox, cross-browser

我目前在我的应用程序中有一个奇怪的问题：我有一个由各种标签和文本框组成的表单，如下所示：

```
<tr>
    <td>
        <asp:Label Text="EDIFÍCIO" runat="server" ID="lblEdificio"></asp:Label>
    </td>
    <td>
    </td>
    <td>
        <asp:TextBox ID="txtFax" runat="server"></asp:TextBox>
    </td>
    <td>
    </td>
</tr> 
```

文本框默认值在服务器中给出，并且可以正常工作。但是，当我尝试编辑屏幕中的值时，光标不会出现，并且我输入的任何内容都不会反映在屏幕上。但是如果我保存值，我写的确实保存了。

请记住，这只发生在 Firefox 和特定用户中（我已验证，与用户权限无关）。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T10:07:48.113

我能够解决这个问题。

我用样式“overflow：auto”关闭了div中的文本框，显然解决了这个问题。

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T12:11:39.943

众所周知，有一些原因：- 1\. 文本框被禁用。2\. 文本框是只读的。3\. 文本框的容器被禁用或只读。

与您分享 .cs 代码以便更好地理解

# java - 这个对java方法的调用有什么问题？

> ID：10895826
> 
> 赞同：5
> 
> 时间：2012-06-05T10:41:06.310
> 
> 标签：java, c, java-native-interface, jnienv

我正在尝试从代码中调用 Java 方法。C 代码侦听`Escape`, `Shift`,`Ctrl`按键，然后调用 Java 方法来告知按下了哪个键。以下是在其中发挥作用的片段。

*C 片段：*

```
mid = (*env)->GetMethodID(env,cls,"callBack","(Ljava/lang/String;)V");
Env = env;
if(called)
    switch(param) {
        case VK_CONTROL:
            printf("Control pressed !\n");
            (*Env)->CallVoidMethodA(Env,Obj,mid,"11"); // calling the java method
            break;
        case VK_SHIFT:
            printf("Shift pressed !\n");
            (*Env)->CallVoidMethodA(Env,Obj,mid,"10"); // calling the java method
            break;
        case VK_ESCAPE:
            printf("Escape pressed !\n");
            (*Env)->CallVoidMethodA(Env,Obj,mid,"1B"); // calling the java method
            break;
        default:
            printf("The default case\n");
            break;
    } 
```

*Java 片段：*

```
public void callBack(String key) {
    String x = KeyEvent.getKeyText(Integer.parseInt(key, 16));
    System.out.println(x);
} 
```

当我运行程序并按下`Escape`键时，我在控制台上得到了这个：

```
Escape pressed !
#
# A fatal error has been detected by the Java Runtime Environment:
#
#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x5c8b809a, pid=7588, tid=8088
#
# JRE version: 7.0
# Java VM: Java HotSpot(TM) Client VM (20.0-b01 mixed mode, sharing windows-x86 )
# Problematic frame:
# V  [jvm.dll+0x19809a]
#
# An error report file with more information is saved as:
# W:\UnderTest\NetbeansCurrent\KeyLoggerTester\build\classes\hs_err_pid7588.log
#
# If you would like to submit a bug report, please visit:
#   http://java.sun.com/webapps/bugreport/crash.jsp
# 
```

我知道我以错误的方式调用 Java 函数，但我不知道我错在哪里。从输出来看，当我按下`Escape`键然后发生意外错误时，它满足了这种情况。

[*链接到日志文件*](http://suhail03.my3gb.com/hs_err_pid7852.log)

**编辑：**

在[mavroprovato](https://stackoverflow.com/users/89435/mavroprovato)回答之后，我仍然得到同样的错误。

我这样编辑：

```
(*Env)->CallVoidMethodA(Env,Obj,mid,(*Env)->NewStringUTF(Env,"1B")); 
```

**编辑：**

## [完整代码版本 1](http://programworks.co.cc/complete%20code.html)

## [完整代码版本 2](http://programworks.co.cc/bummers/crash.html)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T11:47:48.553

JVM 正在崩溃，因为`JNIEnv`使用的是无效的。代码还有其他问题。

[Sun JNI 文档](http://java.sun.com/docs/books/jni/html/other.html)提供了关于线程的非常好的信息。

这里有一些显而易见的部分：

在您的代码中创建一个`JNI_OnLoad`函数。加载库时将调用它。然后缓存`JavaVM`指针，因为这在线程之间是有效的。另一种方法是调用函数`(*env)->GetJavaVM`，`initializeJNIVars`但我更喜欢第一个。

在你的你可以通过调用`initializeJNIVars`保存参考。`obj``Obj = (*env)->NewGlobalRef(obj)`

在`LowLevelKeyboardProc`你将不得不得到`env`指针：

`AttachCurrentThread(JavaVM *jvm, JNIEnv &env, NULL);`

* * *

**编辑**

好的，这是您应该添加以使其正常工作的代码，我自己尝试过并且可以正常工作。**注意**：我没有分析你的代码实际上在做什么，所以我只是做了一些修复让它工作。

在其他全局变量中添加这些变量：

```
static JavaVM *javaVM = NULL;
static jmethodID callbackMethod = NULL;
static jobject callbackObject = NULL; 
```

您可以删除您的`cls`、和 变量`mid`，并改用我的。`Env``Obj`

创建缓存 JavaVM 指针的 JNI_OnLoad 方法：

```
JNIEXPORT jint JNICALL JNI_OnLoad(JavaVM *jvm, void *reserved) {
    JNIEnv *env = 0;

    if ((*jvm)->GetEnv(jvm, (void**)&env, JNI_VERSION_1_4)) {
        return JNI_ERR;
    }

    javaVM = jvm;

    return JNI_VERSION_1_4;
} 
```

改变你`initializeJNIVars`的样子如下：

```
void Java_keylogger_TestKeys_initializeJNIVars(JNIEnv *env, jobject obj) {
    jclass cls = (*env)->GetObjectClass(env,obj);
    callbackMethod = (*env)->GetMethodID(env, cls, "callBack", "(Ljava/lang/String;)V");
    callbackObject = (*env)->NewGlobalRef(env, obj);
    if(cls == NULL || callbackMethod == NULL) {
        printf("One of them is null \n");
    }
    called = TRUE;
} 
```

最后在您的`LowLoevelKeyboardProc`代码中，您必须添加以下内容：

```
...
WPARAM param = kbhook->vkCode;

JNIEnv *env;
jint rs = (*javaVM)->AttachCurrentThread(javaVM, (void**)&env, NULL);
if (rs != JNI_OK) {
    return NULL; // Or something appropriate...
}
...

    case VK_ESCAPE:
        printf("Escape pressed !\n");
        jstring message = (*env)->NewStringUTF(env, "1B");
        (*env)->CallVoidMethod(env, callbackObject, callbackMethod, message);
        break;
... 
```

在你的`unregisterWinHook`你应该删除全局引用，以便对象可以被 GC'd。

```
...
(*env)->DeleteGlobalRef(env, callbackObject); 
```

就是这样。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-05T10:50:39.737

我相信您不能调用带有 String 参数的 java 方法并将其传递给`char*`. 您应该先调用[NewStringUTF](http://docs.oracle.com/javase/1.5.0/docs/guide/jni/spec/functions.html#wp17220)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-05T10:47:51.207

我认为这是由于您的操作系统上启用了 UAC 功能。这是 Java 6 的一个错误。阅读[此](http://java.com/en/download/help/exception_access.xml)内容以供进一步参考。

我这样说的原因是因为转义键的事件被正确触发，并且问题只有在对 java 方法的调用完成后才开始。

# php - 什么是 PHP 中的“Virtual()”函数？

> ID：10895832
> 
> 赞同：3
> 
> 时间：2012-06-05T10:41:31.220
> 
> 标签：php

谁能解释一下 PHP 的“Virtual()”函数的用途是什么？我无法理解它的含义。

**资源： http:** [//php.net/manual/en/function.virtual.php](http://php.net/manual/en/function.virtual.php)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T19:33:10.677

服务器端包含[在 Wikipedia 中进行了解释](http://en.wikipedia.org/wiki/Server_Side_Includes)。

一条`include virtual`语句采用相对于您的 www 根目录的路径，刷新所有当前输出并像 ie 一样流式传输虚拟的输出`fpassthru()`。

# android - 换行符的模棱两可的行为

> ID：10895850
> 
> 赞同：11
> 
> 时间：2012-06-05T10:43:01.270
> 
> 标签：android, newline

我正在将一个大字符串上传到网络服务。该字符串包含写为“\n”的换行符。数据看起来像：

```
 05/06/2012 11:35:43 AM- DB exists, transferring data\n05/06/2012
 11:48:20 AM- loadUserSpinners, cursor.getCount()=2\n05/06/2012
 11:48:20 AM- Battery: 50%\n05/06/2012 11:48:20 AM- ITEM SELECTED: 0 
```

上述数据存储在字符串中`JsonArrObj`。要上传数据/字符串，我使用以下代码：

```
 HttpParams httpParameters = new BasicHttpParams();
    int timeoutConnection = 360000; //6 minutes
    HttpConnectionParams.setConnectionTimeout(httpParameters, timeoutConnection);
    int timeoutSocket = 420000; //7 minutes
    HttpConnectionParams.setSoTimeout(httpParameters, timeoutSocket);
    HttpClient httpClient = new DefaultHttpClient(httpParameters);

    JSONArray jsonParams = new JSONArray();
    Object[] params={IPAddress,Database,DbName,DbPassword,JsonArrObj};
    for (int i = 0; i < params.length; i++) {
        jsonParams.put(params[i]);
    }

    JSONObject jsonRequest = new JSONObject();
    jsonRequest.put("id", Id);
    jsonRequest.put("method", FunctionName);
    jsonRequest.put("params", jsonParams);
    JSONEntity entity = new JSONEntity(jsonRequest);
    entity.setContentType("application/json; charset=utf-8");       
    HttpPost request = new HttpPost(URL);
    request.setEntity(entity);

    HttpResponse response = httpClient.execute(request);
    StatusLine statusLine = response.getStatusLine();
    int statusCode = statusLine.getStatusCode();
    if (statusCode == 200) {
        HttpEntity httpEntity = response.getEntity();
        InputStream content = httpEntity.getContent();

        BufferedReader reader = new BufferedReader(
                new InputStreamReader(content,"iso-8859-1"),8);
        String line;
        while ((line = reader.readLine()) != null) {
            builder.append(line);

            LogE("result line: "+line);
            String str=convertString(line);
            parseJson(str);
        }
        content.close();
    } 
```

字符串上传成功。我面临的问题是：当字符串被转换为时`jsonParams`，`"\n"`字符串中的数据被转换`"\\n"`为结果，在服务器端，它显示一个小框而不是新行。

当我在 NOTEPAD 应用程序中打开此字符串时，它会显示小框。但是当我在 WORDPAD 应用程序中打开它时，文本会显示在新行上。据我说，我可能输入了不正确的“内容类型”或编码。请提出相同的解决方案。

`JsonArrObj= URLEncoder.encode(JsonArrObj, "utf-8");` 上传自己时出错...

`jsonParams- jsonArrObj`在finally中发送的数据如下所示：

```
05\/06\/2012 04:05:52 PM- DB exists, transferring
data\\n05\/06\/2012 04:32:56 PM- loadUserSpinners,
cursor.getCount()\\u003d2\\n05\/06\/2012 04:32:56 PM- Battery:
50%\\n05\/06\/2012 04:32:56 PM- ITEM SELECTED: 0 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T07:41:10.843

好吧，编码器会转义你的换行符。如果要正确传输换行符，可以使用 base64 对整个流进行编码。如果您的目标操作系统（用于发送数据）是 Windows，那么您应该使用 \r\n，如果是 mac，则使用 \r，如果是 unix\linux，则使用 \n。编码数据后尝试发送编码并在另一端解码。对于 base64，Google 先生会说服你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T15:59:28.277

嘿，为什么不使用 Unicode 值作为 \n 以及任何其他像 U+002FU+006E 这样造成此问题的字符

# javascript - fadeOut -> fadeIn 不能正常工作

> ID：10895854
> 
> 赞同：1
> 
> 时间：2012-06-05T10:43:14.887
> 
> 标签：javascript, jquery

JS代码：

```
var forma = $('form#mali_oglas'),
    pomoc = $('div[role=pomoc]'),
    div = $('.mali_oglas_pomoc'),
    input = forma.find('input, textarea');   

    input.on('click', function(){
        var name = $(':input:focus').attr("name")
        pomoc.fadeOut('fast', function(){            
            div.find("[data-pomoc='" + name + "']").fadeIn('slow');            
            console.log(name);
        });
    }); 
```

HTML 代码：

```
<div class="mali_oglas_pomoc">
    <div data-pomoc="name" role="pomoc">
        1Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi pretium, urna nec varius sollicitudin, erat urna accumsan sapien, vel interdum enim risus id mi. Class aptent taciti sociosqu ad litora.
    </div>
    <div data-pomoc="body" role="pomoc">
        2Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi pretium, urna nec varius sollicitudin, erat urna accumsan sapien, vel interdum enim risus id mi. Class aptent taciti sociosqu ad litora.
    </div>.....    
</div> 
```

有问题的 div 的 CSS：

```
div[role="pomoc"] {position: absolute; top: 45px; right: 0;width: 250px; display: none}
div[role="pomoc"]:first-child {display: block} 
```

它正在工作，但有点奇怪。首先它将**显示块**应用于目标 div，然后将其淡出和淡入。这是怎么回事？

链接：http: [//jsfiddle.net/AY2B3/](http://jsfiddle.net/AY2B3/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T11:30:20.240

每个完成的动画都会触发一次 fadeOut 回调。在您的示例中，回调被执行多次，因为 pomoc 包含多个元素。奇怪可能是与在同一元素上多次调用 fadeIn 有关的视觉伪影。

# websphere - 关于 Websphere Application Server 中 SSL 配置的问题

> ID：10895855
> 
> 赞同：2
> 
> 时间：2012-06-05T10:43:17.117
> 
> 标签：websphere

我对 Websphere Application Server 中的 SSL 设置有点困惑。从附图中可以看出，默认 SSL 设置已在单元和节点范围内完成。以下是我的问题：

> 1.  通过 websphere 的入站或出站数据是否根据设置以 SSL 方式传输？
>     
>     
> 2.  上面的 SSL 设置是默认启用的吗？如果没有，那么如何启用它？

关于 KeyStore 或 TrustStore 配置，我可以看到它指的是路径

> ${CONFIG_ROOT}/cells/localhostCell01/key.p12

但是，我无法`CONFIG_ROOT`通过管理控制台在 Webspehre 变量中找到此变量。这是否意味着默认情况下禁用 SSL，所以这个变量没有值就可以了吗？

提前致谢 ![在此处输入图像描述](../Images/0d6a20a1cb4a7d694807e5f6ffccc1f8.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:32:28.643

有关详细信息，请参阅 WebSphere 安全红皮书第 4 章 - [http://www.redbooks.ibm.com/redbooks/pdfs/sg246316.pdf](http://www.redbooks.ibm.com/redbooks/pdfs/sg246316.pdf) CONFIG_ROOT 是一个替换变量，所以你应该没问题 - [http://publib.boulder。 ibm.com/infocenter/iadthelp/v6r0/index.jsp?topic=/com.ibm.ws.ast.st.v6.doc/topics/tsubvarv6.html](http://publib.boulder.ibm.com/infocenter/iadthelp/v6r0/index.jsp?topic=/com.ibm.ws.ast.st.v6.doc/topics/tsubvarv6.html)。您可以从命令行使用 openssl 测试启用了哪些证书 - [http://www.cyberciti.biz/faq/test-ssl-certificates-diagnosis-ssl-certificate/](http://www.cyberciti.biz/faq/test-ssl-certificates-diagnosis-ssl-certificate/)

# drupal - 如何在 Drupal 7 上翻译日期格式？

> ID：10895856
> 
> 赞同：4
> 
> 时间：2012-06-05T10:43:19.750
> 
> 标签：drupal, date, localization, content-management-system, drupal-7

我`admin/config/regional/date-time/formats`可以设置日期格式，例如`M jS`，并将它们映射到 上的日期类型`admin/config/regional/date-time`，例如“短格式日期”。

现在我想建立一个多语言网站，所以我不仅要自己翻译月份或星期名称，还要根据语言选择不同的日期格式。也就是说，`Apr 12th`在英语上是可以的，但是将 Apr 翻译成 Abr 并不会在西班牙语上变得更好：`Abr 12th`--should be `12 Abr`。我还需要翻译格式本身，所以`M jS`网站的西班牙语版本将使用`j M`.

我怎样才能做到这一点？我尝试搜索`admin/config/regional/translate/translate`这些日期格式。`Apr`->部分在`Abr`那里被覆盖，但不是格式本身。我找不到诸如此类`M jS`的字符串。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-19T15:34:44.257

您可以使用 drupal 7 t() 函数：[http ://api.drupal.org/api/drupal/includes%21bootstrap.inc/function/t/7](http://api.drupal.org/api/drupal/includes%21bootstrap.inc/function/t/7)

通过 t() 函数的任何内容都必须在后端配置 > 区域和语言 > 翻译界面中手动翻译。这意味着您必须手动输入日期和月份的翻译。

示例代码：

```
<?php
    global $language;

    $day = t(date('l'));
    $month = t(date('F'));
    $dayNum = date('j');
    $year = date('Y');

    $output = t('@day, @month @dayNum, @year', array(
        '@day' => $day,
        '@month' => $month, 
        '@dayNum' => $dayNum, 
        '@year' => $year
    ));

    print ("<p class='today'>".$output."</p>");
?> 
```

# compilation - 在 linux 中针对修改后的库进行编译

> ID：10895864
> 
> 赞同：0
> 
> 时间：2012-06-05T10:44:00.393
> 
> 标签：compilation, linker, configure, pkg-config

我已经针对 ubuntu 中预构建的 libavcodec 库编译了 mplayer2。它在特定条件下崩溃。

判断我吐出的错误消息，问题出在 libavcodec 上。所以我想做的是尝试一些 libavcodec 代码。即编译我自己的libavcodec 版本，然后针对它编译mplayer2。

pkg-config 将指向从 ubuntu 的 apt-get 安装的 libavcodec 库。如何将它指向我自己的 libavcodec 版本？或者告诉配置脚本使用我的版本？

# ios - iOS objc_msgSend 崩溃，没有给出报告或警告

> ID：10895871
> 
> 赞同：13
> 
> 时间：2012-06-05T10:44:25.180
> 
> 标签：ios, crash, profiler

我正在测试我的应用程序，非常努力地推动它，我让它崩溃（黑屏，图像不保存，回到跳板）。但是，我没有在控制台中记录任何崩溃报告。当我使用分析器进行测试时，我得到的只是一条消息，说目标已经死亡，但它没有提供任何线索。

在组织者中，我得到了设备崩溃日志，它给了我这个我相信告诉我我正在向我发布的东西发送消息（objc-msgSend + 22）？我在正确的轨道上吗？

## ---

```
Exception Type:  EXC_BAD_ACCESS (SIGSEGV)
Exception Codes: KERN_INVALID_ADDRESS at 0x576e6f69
Crashed Thread:  0

Thread 0 name:  Dispatch queue: com.apple.main-thread
Thread 0 Crashed:
0   libobjc.A.dylib                 0x34f8ef7e objc_msgSend + 22
1   CoreFoundation                  0x371d7e90 CFRetain + 76
2   CoreFoundation                  0x371e1b74 +[__NSArrayI __new::] + 48
3   CoreFoundation                  0x371e1a8e -[__NSPlaceholderArray initWithObjects:count:] + 294
4   CoreFoundation                  0x371e9394 -[NSArray initWithArray:range:copyItems:] + 756
5   CoreFoundation                  0x371fcd5a +[NSArray arrayWithArray:] + 66
6   AVFoundation                    0x335da766 -[AVCaptureSession outputs] + 146
7   AVFoundation                    0x335de26e -[AVCaptureSession _doDidStop:] + 38
8   AVFoundation                    0x335dfaea -[AVCaptureSession _handleNotification:payload:] + 2002
9   AVFoundation                    0x335d8af6 avcaptureSessionFigRecorderNotification + 1202
10  AVFoundation                    0x335fafd8 AVCMNotificationDispatcherCallback + 184
11  CoreFoundation                  0x3725b7c8 __CFNotificationCenterAddObserver_block_invoke_0 + 116
12  CoreFoundation                  0x3725b540 ___CFXNotificationPost_block_invoke_0 + 64
13  CoreFoundation                  0x371e7090 _CFXNotificationPost + 1400
14  CoreFoundation                  0x371ef1c6 CFNotificationCenterPostNotification + 102
15  CoreMedia                       0x366eeeb0 CMNotificationCenterPostNotification + 112
16  Celestial                       0x374b08a2 FigRecorderRemoteCallbacksServer_NotificationIsPending + 478
17  Celestial                       0x374b06ba _XNotificationIsPending + 54
18  Celestial                       0x374b0678 figrecordercallbacks_server + 92
19  Celestial                       0x374af642 remrec_ClientPortCallBack + 146
20  CoreFoundation                  0x37258f0c __CFMachPortPerform + 356
21  CoreFoundation                  0x3726351c __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 32
22  CoreFoundation                  0x372634be __CFRunLoopDoSource1 + 134
23  CoreFoundation                  0x3726230c __CFRunLoopRun + 1364
24  CoreFoundation                  0x371e549e CFRunLoopRunSpecific + 294
25  CoreFoundation                  0x371e5366 CFRunLoopRunInMode + 98
26  AVFoundation                    0x335ef4d0 -[AVRunLoopCondition _waitInMode:untilDate:] + 348
27  AVFoundation                    0x335ef36c -[AVRunLoopCondition waitUntilDate:inMode:] + 20
28  AVFoundation                    0x335dc13a -[AVCaptureSession _stopPreviewing] + 438
29  AVFoundation                    0x335dc2d6 -[AVCaptureSession _setRunning:] + 166
30  AVFoundation                    0x335dbe42 -[AVCaptureSession stopRunning] + 274
31  zApp                            0x0007e1ce 0x79000 + 20942
32  UIKit                           0x30fa5b8e -[UIViewController _setViewAppearState:isAnimating:] + 138
33  UIKit                           0x30fff8a8 -[UIViewController beginAppearanceTransition:animated:] + 184
34  UIKit                           0x310468be -[UIWindowController transition:fromViewController:toViewController:target:didEndSelector:] + 4098
35  UIKit                           0x31045360 -[UIViewController presentViewController:withTransition:completion:] + 3116
36  UIKit                           0x310a06a0 -[UIViewController presentModalViewController:animated:] + 24
37  CoreFoundation                  0x371e93f6 -[NSObject performSelector:withObject:withObject:] + 46
38  UIKit                           0x30f7ee00 -[UIApplication sendAction:to:from:forEvent:] + 56
39  UIKit                           0x30f7edbc -[UIApplication sendAction:toTarget:fromSender:forEvent:] + 24
40  UIKit                           0x30f7ed9a -[UIControl sendAction:to:forEvent:] + 38
41  UIKit                           0x30f7eb0a -[UIControl(Internal) _sendActionsForEvents:withEvent:] + 486
42  UIKit                           0x30f7f442 -[UIControl touchesEnded:withEvent:] + 470
43  UIKit                           0x30f7d924 -[UIWindow _sendTouchesForEvent:] + 312
44  UIKit                           0x30f7d312 -[UIWindow sendEvent:] + 374
45  UIKit                           0x30f6368e -[UIApplication sendEvent:] + 350
46  UIKit                           0x30f62f34 _UIApplicationHandleEvent + 5820
47  GraphicsServices                0x339a5224 PurpleEventCallback + 876
48  CoreFoundation                  0x3726351c __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 32
49  CoreFoundation                  0x372634be __CFRunLoopDoSource1 + 134
50  CoreFoundation                  0x3726230c __CFRunLoopRun + 1364
51  CoreFoundation                  0x371e549e CFRunLoopRunSpecific + 294
52  CoreFoundation                  0x371e5366 CFRunLoopRunInMode + 98
53  GraphicsServices                0x339a4432 GSEventRunModal + 130
54  UIKit                           0x30f91cce UIApplicationMain + 1074
55  zApp                            0x0007ffa6 0x79000 + 28582
56  zApp                            0x0007a680 0x79000 + 5760 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-05T11:49:16.983

1.  如果您怀疑自己过度发布了某些内容，请尝试在启用 NSZombie 的情况下运行您的应用程序。（[如何启用 NSZombie](https://stackoverflow.com/questions/5386160/how-to-enable-nszombie-in-xcode)）

2.  您可以[设置异常断点](http://www.oramind.com/index.php/articles/182-ios-5-xcode-backtrace)以在控制台中打印回溯。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-12-18T21:08:48.587

有时当您将对象设置为通知的观察者时会发生这种情况，例如

```
[[NSNotificationCenter defaultCenter] addObserver //details 
```

并且在发布时不要将其从观察者列表中删除。
系统尝试向其发送消息，但应用程序崩溃，因为它不存在。

尝试添加

```
[[NSNotificationCenter defaultCenter] removeObserver:self]; 
```

在 dealloc 函数中。
（即使您正在使用 arc，创建一个 dealloc 函数，并将其写入其中）。

祝你好运

# openerp - 将变量值输出到 OpenERP 服务器日志

> ID：10895878
> 
> 赞同：1
> 
> 时间：2012-06-05T10:45:11.723
> 
> 标签：openerp

我在现有的 OpenERP 模块上做了很多改进。我需要在某处（可能是服务器日志或其他地方）输出变量（如查询、计算值等）以查看它们实际包含的内容。请问我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:58:05.657

您可以在插件中的一段代码中使用简单的打印语句，当您启动服务器时，您将在服务器日志或终端上看到打印值。对于服务器值的高级调试，您可以使用 python pdb 模块，例如

```
import pdb
pdb.set_trace() #Setting the break point 
```

有了这个，您可以在服务器执行环境中进行调试。谢谢你

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T19:45:53.403

我使用[PyDev 插件在](http://pydev.org/manual_101_root.html)[Eclipse](http://www.eclipse.org/downloads/packages/eclipse-classic-372/indigosr2)中运行服务器。它允许您设置断点、单步执行代码并检查变量值。[您可以在此答案](https://stackoverflow.com/a/10092878/4794)中查看更多设置详细信息。

# c++ - g++：没有这样的文件或目录？

> ID：10895879
> 
> 赞同：0
> 
> 时间：2012-06-05T10:45:14.623
> 
> 标签：c++, linux, makefile, g++, sdl

*（在 Linux 上，尝试设置 SDL）*我正在使用 makefile，我发现它们很难学习。这是我得到的错误。

```
g++: error: game.exe: No such file or directory
make: *** [game.exe] Error 1 
```

这是我的生成文件。**（任何关于让它变得更好的建议都会很棒。我只是把我能找到的任何工作都拼凑在一起。）**

```
#Game Make file
TARGET = game.exe
OBJS = App.o\
   App_OnInit.o\
   App_OnEvent.o\
   App_OnLoop.o\
   App_OnRender.o \
   App_OnCleanup.o\

SDL_CFLAGS := $(shell sdl-config --cflags)
SDL_LDFLAGS := $(shell sdl-config --libs)
CFLAGS = -Wall -o
LIBS =
LDFLAGS = 

$(TARGET): $(OBJS)
       g++ $(CFLAGS) $(SDL_CFLAGS) $@  $(LDFLAGS) $(OBJS) $(SDL_LDFLAGS) $(LIBS)
%.o: src/%.cpp
       g++  -c $(SDL_CFLAGS) $< $(SDL_LDFLAGS)

.PHONY: clean
clean:
    rm -f $(TARGET) $(OBJS) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T10:49:41.917

您可以交换`$(CFLAGS)`并`$(SDL_CFLAGS)`在规则中制作`$(TARGET)`或更好地删除`-o`并将`CFLAGS`其直接放在之前`$@`：

```
...
CFLAGS = -Wall
...
$(TARGET): $(OBJS)
       g++ $(CFLAGS) $(SDL_CFLAGS) -o $@  $(LDFLAGS) $(OBJS) $(SDL_LDFLAGS) $(LIBS) 
```

`-o`选项应紧接在要生成的可执行文件的名称之前。在您的原始文件中，它是SDL 库的 C 标志的`Makefile`一部分，后面跟着它。`$(CFLAGS)`因此，编译器尝试链接`game.exe`(the `$@`) 而不是生成该名称的可执行文件。

# android - 在 Android 中静音全局声音

> ID：10895882
> 
> 赞同：27
> 
> 时间：2012-06-05T10:45:16.880
> 
> 标签：android, audio, global, mute

有没有一种方法可以用来使应用程序按钮的全局声音静音？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-06-18T01:01:07.743

他们使它变得比它必须的更复杂。你可以只使用[`AudioManager.setStreamMute()`](http://developer.android.com/reference/android/media/AudioManager.html#setStreamMute(int%2C%20boolean)). 随意使用下面的代码。

```
//mute audio
AudioManager amanager=(AudioManager)getSystemService(Context.AUDIO_SERVICE);
             amanager.setStreamMute(AudioManager.STREAM_NOTIFICATION, true);
             amanager.setStreamMute(AudioManager.STREAM_ALARM, true);
             amanager.setStreamMute(AudioManager.STREAM_MUSIC, true);
             amanager.setStreamMute(AudioManager.STREAM_RING, true);
             amanager.setStreamMute(AudioManager.STREAM_SYSTEM, true);

//unmute audio
AudioManager amanager=(AudioManager)getSystemService(Context.AUDIO_SERVICE);
             amanager.setStreamMute(AudioManager.STREAM_NOTIFICATION, false);
             amanager.setStreamMute(AudioManager.STREAM_ALARM, false);
             amanager.setStreamMute(AudioManager.STREAM_MUSIC, false);
             amanager.setStreamMute(AudioManager.STREAM_RING, false);
             amanager.setStreamMute(AudioManager.STREAM_SYSTEM, false); 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2016-08-27T11:00:27.843

提供的答案似乎已被 android M (API 23) 弃用，因此这提供了一种替代解决方案

```
public void MuteAudio(){
    AudioManager mAlramMAnager = (AudioManager) aActivity.getSystemService(aContext.AUDIO_SERVICE);
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {
        mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_NOTIFICATION, AudioManager.ADJUST_MUTE, 0);
        mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_ALARM, AudioManager.ADJUST_MUTE, 0);
        mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_MUSIC, AudioManager.ADJUST_MUTE, 0);
        mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_RING, AudioManager.ADJUST_MUTE, 0);
        mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_SYSTEM, AudioManager.ADJUST_MUTE, 0);
    } else {
        mAlramMAnager.setStreamMute(AudioManager.STREAM_NOTIFICATION, true);
        mAlramMAnager.setStreamMute(AudioManager.STREAM_ALARM, true);
        mAlramMAnager.setStreamMute(AudioManager.STREAM_MUSIC, true);
        mAlramMAnager.setStreamMute(AudioManager.STREAM_RING, true);
        mAlramMAnager.setStreamMute(AudioManager.STREAM_SYSTEM, true);
    }
}

public void UnMuteAudio(){
    AudioManager mAlramMAnager = (AudioManager) aActivity.getSystemService(aContext.AUDIO_SERVICE);
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {
        mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_NOTIFICATION, AudioManager.ADJUST_UNMUTE, 0);
        mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_ALARM, AudioManager.ADJUST_UNMUTE, 0);
        mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_MUSIC, AudioManager.ADJUST_UNMUTE,0);
        mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_RING, AudioManager.ADJUST_UNMUTE, 0);
        mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_SYSTEM, AudioManager.ADJUST_UNMUTE, 0);
    } else {
        mAlramMAnager.setStreamMute(AudioManager.STREAM_NOTIFICATION, false);
        mAlramMAnager.setStreamMute(AudioManager.STREAM_ALARM, false);
        mAlramMAnager.setStreamMute(AudioManager.STREAM_MUSIC, false);
        mAlramMAnager.setStreamMute(AudioManager.STREAM_RING, false);
        mAlramMAnager.setStreamMute(AudioManager.STREAM_SYSTEM, false);
    }
} 
```

希望这可以帮助...

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-06-05T10:59:27.950

Android中有四种声音设置：

*   警报
*   音乐
*   铃声
*   通知

首先，创建一个`AudioManager`类的对象：

```
AudioManager amanager=(AudioManager)getSystemService(Context.AUDIO_SERVICE); 
```

如果要设置音量，请使用这些：

### 通知

```
amanager.setStreamVolume(AudioManager.STREAM_NOTIFICATION,
    AudioManager.FLAG_SHOW_UI + AudioManager.FLAG_PLAY_SOUND); 
```

### 报警用

```
amanager.setStreamVolume(AudioManager.STREAM_ALARM,
    AudioManager.FLAG_SHOW_UI + AudioManager.FLAG_PLAY_SOUND); 
```

### 对于音乐

```
amanager.setStreamVolume(AudioManager.STREAM_MUSIC,
    AudioManager.FLAG_SHOW_UI + AudioManager.FLAG_PLAY_SOUND); 
```

### 对于铃声

```
amanager.setStreamVolume(AudioManager.STREAM_RING,
    AudioManager.FLAG_SHOW_UI + AudioManager.FLAG_PLAY_SOUND); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-11-08T23:24:40.983

您可以使用**setRingerMode()**方法来执行此操作

```
AudioManager audioManager=(AudioManager)getSystemService(AUDIO_SERVICE);
audioManager.setRingerMode(audioManager.RINGER_MODE_SILENT); 
```

静音和振动**RINGER_MODE_VIBRATE**标志

取消静音： **RINGER_MODE_NORMAL**

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-11-23T16:54:25.720

```
mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_NOTIFICATION, AudioManager.ADJUST_TOGGLE_MUTE, 0);
mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_ALARM, AudioManager.ADJUST_TOGGLE_MUTE, 0);
mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_MUSIC, AudioManager.ADJUST_TOGGLE_MUTE,0);
mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_RING, AudioManager.ADJUST_TOGGLE_MUTE, 0);
mAlramMAnager.adjustStreamVolume(AudioManager.STREAM_SYSTEM, AudioManager.ADJUST_TOGGLE_MUTE, 0); 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-06-21T13:21:24.197

从技术上讲，不存在全球交易量之类的东西。Bhargav 的回答应该让你走上正轨。AudioManager 类可以控制许多不同的“流”，即 Music、Ringer、In-Call、Alarm、Notification、System 和 DMTF。您必须将所有这些单独的流的音量设置为 0，这是一个非常简单的过程，如 Bhargav 所示。

只需创建一个 Audiomanager 对象：-

```
AudioManager audioManager=(AudioManager)getSystemService(Context.AUDIO_SERVICE); 
```

然后用它来改变所有流的音量：-

```
audioManager.setStreamVolume(AudioManager.Stream, Extra Flags or null); 
```

不要键入 AudioManager.Stream，而是键入“AudioManager”。并按 Ctrl+空格键查看您可以使用的所有不同流。查看文档以了解可以添加声音或振动或在音量更改时调出音量 UI 的许多不同类型的标志。

每个流可能具有不同的最大音量，因此请务必使用 getMaxStreamVolume 获取最大值并相应地设置音量，以防您使用单个值来编辑所有流。因此，如果用户想将全局音量设置为 50%，则获取每个流的最大音量，将它们乘以 0.5，并将其设置为相应的流。

# java - JBoss 上的多个 Oracle 数据源使用不正确

> ID：10895885
> 
> 赞同：0
> 
> 时间：2012-06-05T10:45:23.233
> 
> 标签：java, sql, oracle, hibernate, jboss

我有带有 2 个 Oracle 数据源的 JBoss 4：CurrentDS 和 ArchiveDS。

但是当从注解创建表时，hibernate 只使用 CurrentDS 的方案，而 ArchiveDS 的方案保持为空。我的意见 - 当他开始为存档创建表时，他发现刚刚在 CurrentDS 中创建的表并认为它们已经存在（使用错误的凭据）。

这在 Postgres 上运行良好，在 Oracle 上可能是什么？

```
<datasources>

<local-tx-datasource>
   <jndi-name>CurrentDS</jndi-name>
   <connection-url>jdbc:oracle:thin:@localhost:1521:XE</connection-url>
   <driver-class>oracle.jdbc.driver.OracleDriver</driver-class>
   <user-name>current</user-name>
   <password>password</password>          

   <metadata>
     <type-mapping>Oracle9i</type-mapping>    
   </metadata>

 </local-tx-datasource>

 <local-tx-datasource>
   <jndi-name>ArchiveDS</jndi-name>
   <connection-url>jdbc:oracle:thin:@localhost:1521:XE</connection-url>
   <driver-class>oracle.jdbc.driver.OracleDriver</driver-class>
   <user-name>archive</user-name>
   <password>password</password>          

   <metadata>
     <type-mapping>Oracle9i</type-mapping>    
   </metadata>

 </local-tx-datasource>

</datasources> 
```

# blackberry - 如何进行适用于 OS 6 OS 7 的区域语言应用程序

> ID：10895891
> 
> 赞同：1
> 
> 时间：2012-06-05T10:45:47.507
> 
> 标签：blackberry

我已经完成了我的区域语言（泰卢固语）应用程序。它在 OS 7（9790）中工作，但我在 OS 6 中需要它，所有机制都像解析一样工作，但不显示字体（看起来像框）。

请帮我克服这种情况

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T17:10:33.593

对于 OS6 设备，尝试使用泰卢固语加载网页，以确保设备正确配置了字体。如果网络浏览器无法呈现泰卢固语文本，那么您需要查看设备的字体配置。

# php - 如何在 Windows 服务器上使用 php 将声音文件转换为不同的格式？

> ID：10895892
> 
> 赞同：0
> 
> 时间：2012-06-05T10:45:49.173
> 
> 标签：php, windows, audio, mp3, file-conversion

我的服务器管理员说，在共享的 Windows 服务器上，不能使用 'exec()'。我会使用 exec() 函数来运行 SoX CMD 命令。什么是替代方案？有趣的是他们说 SoX 已安装，但我如何在没有 exec() 的情况下使用它？我想要实现的是，当用户上传 .mp3 文件时，它会在服务器本身上转换为 .wav。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:30:39.873

如果你需要 CPU 密集型的东西，比如音频重新编码，我建议你把共享主机移到 VPS 上。

# android - 如何在我的模拟器中查看pdf文件

> ID：10895895
> 
> 赞同：3
> 
> 时间：2012-06-05T10:46:01.310
> 
> 标签：android, pdf

我已经在我的 sdcard 中下载了 pdf 文件，但是当我点击它们在我的模拟器中打开它时，它会祝酒

“无法打开文件”请帮我阅读pdf文件....请告诉我这段代码有什么问题.....

```
File file=new File("/sdcard/Android.Essentials.pdf");
 if (file.exists())
 {
Uri path = Uri.fromFile(file);
 Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setDataAndType(path, "application/pdf");
intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
startActivity(intent);
try {

  startActivity(intent);
   finish();
}
catch (ActivityNotFoundException e) {
Toast.makeText(PdffileActivity.this,
"No Application Available to View PDF",
 Toast.LENGTH_SHORT).show();
 } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-05T10:50:19.863

要在 PDF 文件上启动 Intent，移动设备应该已经安装了可以读取 PDF 文档的程序。

如果您不希望用户安装 PDF 阅读器，则必须修改您的应用程序以能够阅读 PDF 文档。

在这篇文章中讨论 Android 的 PDF 库：[Android : Is there any free PDF library for Android](https://stackoverflow.com/questions/3530780/android-is-there-any-free-pdf-library-for-android)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-05T10:51:07.780

您**需要**在模拟器中安装任何 PDF 阅读器应用程序。

您的意图是寻找任何已安装的 PDF 阅读器，并且在您的模拟器中可能没有安装 PDF 阅读器。

只需在您的模拟器中安装[此应用程序](http://andpdf.sourceforge.net/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-12-16T12:28:09.157

**只需从此链接下载 apk 即可在模拟器上查看 Pdf 文件。**

[用于模拟器的 PdfViewerApk](https://drive.google.com/open?id=0B5VU1Fv1J5NzX2htbkFjVTMwU2c)

# entity-framework-4.1 - 需要建议 - 使用具有规范化数据的实体框架

> ID：10895897
> 
> 赞同：1
> 
> 时间：2012-06-05T10:46:04.950
> 
> 标签：entity-framework-4.1

我最近经历了改造我的数据库的过程，规范了很多实体。显然，我现在的桌子比以前多了几张。我在网站上使用的很多数据都是只读的，因此使用视图可以很容易地进行非规范化，但是有些实体可以从非规范化检索中受益，但仍需要更新。

这是一个例子。

```
A User may be a Member
A Member may have a Profile
A Member may have an Account 
```

此外，我还有 3 个进一步的查找表。

总共有 3 个用户表和 4 个成员表。

理想情况下，我可以从上面的表中创建 2 个视图。

但是，用户需要更新，属于成员的实体也是如此。此外，还有 6 个与用户/成员相关联的单独表格，即 FavouriteCategories，它们也需要不时检索和更新。

我正在努力想出最好、最有效的方法。

我不能简单地使用视图并将所有实体和查找带入模型，但我将依赖 EF 来生成检索查询。我读过的东西表明 EF 并不擅长处理连接数据。

我可以添加视图和表格，仅使用表格进行更新。由于模型的重复、复杂性以及对 EF 模型功能的利用不足，这似乎很草率。

也许我可以使用只读视图进行数据检索并创建存储过程。我相信将 EF 与存储过程一起使用的过程有点麻烦，所以我可能会保持存储过程与 EF 不同，并简单地传递参数并通过传统方法调用 SP。这又像是一个中途的房子。

我对 .net 或 EF 没有那么丰富的经验，因此对于我上面提到的方法或任何更好的技术来实现这一点，我将不胜感激。我不想在这个阶段破解 edmx 文件，因为......好吧，这只是错误的。

我有一些实体可以从正确的解决方案中受益。用户示例是最简单的示例之一，因此从正确的方法中可以获得很多好处。

帮助和建议将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T12:14:37.513

你想用EF吗？如果是，则使用第一种方法，根本不使用视图并允许 EF 处理所有内容，或者使用最后一种方法，使用视图和映射存储过程进行插入、更新和删除操作。

将用于读取的映射视图和用于修改的映射表结合起来也是可能的，但它主要是第一个解决方案（允许 EF 处理所有内容）以及用于某些查询优化的附加视图。

你不会找到更清洁的方法。提到的方法是您问题的有效解决方案。唯一的问题是您是想自己编写 SQL（查看和存储过程）还是让 EF 来做。

最糟糕的方法是使用 EF 进行查询和手动调用存储过程以进行更新，但在某些情况下它也很有用。

# entity-framework-5 - EntityFramework 5 RC 数据库生成选项

> ID：10895898
> 
> 赞同：0
> 
> 时间：2012-06-05T10:46:05.200
> 
> 标签：entity-framework-5

我认为这是我的一个愚蠢的错误，但我找不到解决方案。

我有 EF4.3 和这条配置线

```
Property(p => p.Id).HasDatabaseGeneratedOption(System.ComponentModel.DataAnnotations.Schema.DatabaseGeneratedOption.Identity); 
```

没有问题。但是当我更新到 EF 5.0RC 时，同一行给我一个错误，指出类型 o 命名空间不存在。？？？

我在 RC 中没有看到这方面的任何变化！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:12:43.320

好吧，这似乎是 VS 或 EF 的一种错误。现在，我关闭了项目，然后重新打开它，错误就消失了。

# c# - jQuery 代码可在 Chrome 和 Mozilla 网络浏览器上运行，但不能在 Internet Explorer 上运行

> ID：10895900
> 
> 赞同：2
> 
> 时间：2012-06-05T10:46:10.143
> 
> 标签：c#, jquery, .net

我在 aspx 文件上有以下代码：

```
<asp:GridView ID="GridView1"  runat="server" ShowFooter="true"  
AutoGenerateColumns="False" >
   <Columns>
            <asp:TemplateField>
              <ItemTemplate>
<asp:LinkButton ID="Button1" runat="server" Text="Active" OnClientClick="return 
confirmMessage(this);" />
             </ItemTemplate>
    </Columns>
</asp:GridView> 
```

我有以下 Jquery/客户端代码

```
function confirmMessage(obj)
{
if ($(obj).attr("text")=="Active")
{
return confirm("Convert from active to inactive");
}
else
{
return confirm("Convert from inactive to active");
}
} 
```

上述代码在 Mozilla 和 Chrome 浏览器上运行良好，但在 Internet Explorer 的情况下，它总是执行第二个块，即

```
return confirm("Convert from inactive to active"); 
```

帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-22T09:24:33.883

没有称为“文本”的属性，ASP.NET 服务器控件的“文本”属性在客户端被转换为“值”属性。

您需要这样引用该值：

```
$(obj).attr("value"); 
```

或者更简单地说：

```
$(obj).val(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:31:46.530

您的问题很可能与不同浏览器之间的字符串比较差异以及 text-from-DOM 生成机制的差异有关。您是否尝试过在调试器（例如 IE9 开发人员工具/脚本选项卡）下查看，`$(obj).attr("text")`在 IE 下返回什么？

此外，比较文本的方法无论如何都不是高度可靠的（例如，在`Text`您的 的任何更改后它都会失败`LinkButton`）。我建议您改用类或不同的链接按钮，例如：

1.  对 LinkBut​​ton 使用以下标记：（注意 CssClass 属性）：

    ```
    <asp:LinkButton ID="Button1" runat="server" Text="Active" 
    OnClientClick="return confirmMessage(this);" CssClass="button-activate" /> 
    ```

2.  然后使用以下 JavaScript：

    ```
    function confirmMessage(obj) {
         if ($(obj).is(".button-activate")) {
              return confirm("Convert from active to inactive");
         } else {
              return confirm("Convert from inactive to active");
         }
    } 
    ```

当您的按钮不再是“激活”而是“停用”时，只需将任何其他`CssClass`值添加到`LinkButton`.

# http - 如何在 node.js 中使用 HTTP keep-alive 发送连续请求？

> ID：10895901
> 
> 赞同：10
> 
> 时间：2012-06-05T10:46:10.297
> 
> 标签：http, node.js, client, keep-alive

我正在使用 node.js 0.6.18，以下代码使 node.js 关闭每两个请求之间的 TCP 连接（`strace`在 Linux 上验证）。如何让 node.js 为多个 HTTP 请求重用相同的 TCP 连接（即保持活动状态）？请注意，网络服务器能够保持活动状态，它可以与其他客户端一起使用。网络服务器返回一个分块的 HTTP 响应。

```
var http = require('http');
var cookie = 'FOO=bar';
function work() {
  var options = {
      host: '127.0.0.1',
      port: 3333,
      path: '/',
      method: 'GET',
      headers: {Cookie: cookie},
  };
  process.stderr.write('.')
  var req = http.request(options, function(res) {
    if (res.statusCode != 200) {
      console.log('STATUS: ' + res.statusCode);
      console.log('HEADERS: ' + JSON.stringify(res.headers));
      process.exit(1)
    }
    res.setEncoding('utf8');
    res.on('data', function (chunk) {});
    res.on('end', function () { work(); });
  });
  req.on('error', function(e) {
    console.log('problem with request: ' + e.message);
    process.exit(1);
  });
  req.end();
}
work() 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-03T15:39:41.760

我能够通过创建一个`http.Agent`并将其`maxSockets`属性设置为 1 来使其工作（通过 strace 验证）。我不知道这是否是理想的方法；但是，它确实符合要求。我确实注意到的一件事是，文档所声称的关于`http.Agent`行为的内容并没有准确地描述它在实践中是如何工作的。下面的代码：

```
var http = require('http');
var cookie = 'FOO=bar';
var agent = new http.Agent;
agent.maxSockets = 1;

function work() {
  var options = {
      host: '127.0.0.1',
      port: 3000,
      path: '/',
      method: 'GET',
      headers: {Cookie: cookie},
      agent: agent
  };
  process.stderr.write('.')
  var req = http.request(options, function(res) {
    if (res.statusCode != 200) {
      console.log('STATUS: ' + res.statusCode);
      console.log('HEADERS: ' + JSON.stringify(res.headers));
      process.exit(1)
    }
    res.setEncoding('utf8');
    res.on('data', function (chunk) {});
    res.on('end', function () { work(); });
  });
  req.on('error', function(e) {
    console.log('problem with request: ' + e.message);
    process.exit(1);
  });
  req.end();
}
work() 
```

编辑：我应该补充一点，我使用 node.js v0.8.7 进行了测试

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2016-01-14T08:26:39.900

你可以设置：

```
http.globalAgent.keepAlive = true 
```

# sql - 返回表的 t-sql 函数。如何制作返回多个表的视图（联合 -ed）

> ID：10895902
> 
> 赞同：1
> 
> 时间：2012-06-05T10:46:23.483
> 
> 标签：sql, sql-server, sql-server-2008

我有一个返回表格的函数。(t-sql 微软 sql server 2008)

我将函数称为：

```
Select * from calcSomething( 21 ); 
```

我将如何调用具有多个 ID 的函数。并且所有 UNIONed 在一张表中。

就像是：

```
select * from USERS, CalcSomething( USERS.id ) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:54:33.970

```
SELECT  cs.*
FROM    users u
CROSS APPLY
        calcSomething(u.id) cs 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:54:51.377

您应该可以使用[CROSS APPLY](http://msdn.microsoft.com/en-us/library/ms175156%28v=sql.105%29.aspx)来做到这一点：

```
SELECT u.*, c.*
FROM Users u
CROSS APPLY calcSomething(u.id) as c 
```

# java - 关于 PrimeFaces 部分过程的问题

> ID：10895905
> 
> 赞同：2
> 
> 时间：2012-06-05T10:46:33.697
> 
> 标签：java, jsf-2, primefaces, listener

在我的应用程序中，我有这个托管 bean：

```
@ManagedBean(name = "mrBean")
@RequestScoped
public class MrBean {

    @ManagedProperty(value = "#{param.id}")
    private Long   commentableID;
    private String comment;

    @PostConstruct
    public void init() {
        System.out.println("INIT " + commentableID);
    }

    public void postComment() {
        System.out.println("POST COMMENT " + commentableID);
    }

    public void like(boolean like) {
        System.out.println("LIKE " + commentableID);
    }

    // Getters and Setters

} 
```

**问题1：**

在查看文章的页面上，我有以下评论框。

```
<h:panelGrid columns="1">
    <p:inputTextarea id="comment" value="#{mrBean.comment}" />

    <p:commandButton actionListener="#{mrBean.postComment}" value="Post">
        <f:param name="id"  value="#{viewCommentable.commentableID}" />
    </p:commandButton>
</h:panelGrid> 
```

上面的代码一切正常。但是，由于该`postComment()`函数只需要该`comment`属性，因此我尝试将其放入`process='comment'`上面的`p:commandButton`. 此时，每当我单击`Post`按钮时，我总是`INIT [commentableID]`在控制台上看到。然而，我从来没有见过`POST COMMENT [commentableID]`。换句话说，`postComment()`即使正确创建了 bean，也从未调用过侦听器方法。

**问题2：**

在同一页面上，我有以下用于喜欢/不喜欢文章的切换按钮。

```
<h:inputHidden id="commentableID" value="#{mrBean.commentableID}" />

<p:selectBooleanButton id="like" value="#{viewCommentable.commentable.liked}" onLabel="Liked" offLabel="Like" >
    <p:ajax process="like dislike commentableID" listener="#{mrBean.like(viewCommentable.commentable.liked)}" />
</p:selectBooleanButton>

<p:selectBooleanButton id="dislike" value="#{viewCommentable.commentable.disliked}" onLabel="Liked" offLabel="Like" >
    <p:ajax process="like dislike commentableID" listener="#{mrBean.dislike(viewCommentable.commentable.disliked)}" />
</p:selectBooleanButton> 
```

这些按钮工作正常。但是，我观察到的情况很奇怪。当我单击 Like 按钮时，在控制台上我看到了这些行：

```
INIT null
LIKE [commentableID] 
```

不知何故，该属性在函数`commentableID`中不可用，`init()`但后来在函数中可用`like()`。

如果您能给我解释上述两个问题，我将不胜感激。

最好的祝福，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T06:38:36.710

我终于意识到我没有`process`正确使用该属性。为了部分处理，在 a 中`<p:commandButton>`，我需要我想要处理的组件的 id**以及 a`@this`**来处理按钮本身。此外，另一个问题是我没有使用正确的`process`属性语法。id 应该由 a`comma`而不是 a分隔`space`。以下代码段应该可以工作：

```
<p:commandButton process="@this, comment" actionListener="#{mrBean.postComment}" value="Post">
    <f:param name="id" value="#{viewCommentable.commentableID}" />
</p:commandButton>

<p:selectBooleanButton id="like" value="#{viewCommentable.commentable.liked}" onLabel="Liked" offLabel="Like" >
    <p:ajax process="like, dislike, commentableID" listener="#{mrBean.like(viewCommentable.commentable.liked)}" />
</p:selectBooleanButton> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T11:21:21.233

在您的 p:commandButton 中添加进程和更新属性，就像这样，

```
 <h:panelGrid columns="1">
        <p:inputTextarea id="comment" value="#{mrBean.comment}" />

        <p:commandButton actionListener="#{mrBean.postComment}" value="Post" process="@this" update="grid">
          <f:param name="id"  value="#{viewCommentable.commentableID}" />
        </p:commandButton>
    </h:panelGrid> 
```

但流程属性有很多关键字，如@this、@form、@all 等。[在此处](http://www.primefaces.org/showcase/ui/home.jsf)显示详细信息

# visual-studio-2010 - 混乱的代码序列

> ID：10895906
> 
> 赞同：0
> 
> 时间：2012-06-05T10:46:38.350
> 
> 标签：visual-studio-2010, c#-4.0, html-parsing, html-agility-pack

我正在尝试使用 HTML Agility Pack 对某些网页进行解析。这是我在示例中遇到的一行代码。

```
var div = document.DocumentNode.Descendants().Where(n => n.Name == "div") 
```

当在 Visual Studio 中放置在 n 上时，工具提示会显示“（参数）HTMLNode n”

我不确定 n 是什么以及这条线是做什么的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T11:09:25.207

此代码选择带有标签 name == "div" 的文档根节点的所有后代

*   **document.DocumentNode**选择根节点
*   **.Descendants()**选择根节点中的所有节点（不仅是直接子节点，而且是所有节点）
*   **.Where()**只选择符合某些条件的人
*   **n => n.Name == "div"**是标准本身，这意味着“如果 n 是一个节点，那么当节点的**名称**等于**"div"时标准为真**

# algorithm - 任何人都可以向我解释这个排列算法吗？

> ID：10895908
> 
> 赞同：1
> 
> 时间：2012-06-05T10:46:45.350
> 
> 标签：algorithm

任何人都可以向我解释这个排列算法吗？我知道它会进行排列，但我无法弄清楚它为什么会起作用。

```
s = [1,2,3,4,5,6,7,8,9]  
def perm(s, i):
    if i == len(s):
        print s
    for j in range(i, len(s)):
        s[i], s[j] = s[j], s[i]
        perm(s, i + 1)
        s[i], s[j] = s[j], s[i]  //why it swaps back? 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-09T13:47:40.397

此函数将数组突变`s`为每个可能的排列，然后打印排列并在返回的途中反转突变。

在每个位置`i`，它保留索引小于`i`单独的所有条目，尝试位置中的所有后续值`i`，并使用递归查找具有该组固定值的所有排列以及位置的每个选择`i`。在最高索引处，没有剩余的选择，但您已经找到了其中一个排列，因此它会打印出来。

我发现它有助于理解这种递归，将额外的“调试打印”放在代码中有趣的点，比如函数的开始和结束，在这种情况下是在交换处。

它当然不是最优雅的 Python（一些调试打印应该被提取到函数中），但是运行这个版本的代码并添加一些“调试打印”可能是有启发性的。

```
def perm(s, i):
    print '{padding}starting perm({list}, {index})'.format(list=s, index=i, padding=' '*i)
    if i == len(s):
        print s
    for j in range(i, len(s)):
        print '{padding}swapping s[{index1}]={entry1} and s[{index2}]={entry2}'.format(index1=i, entry1=s[i], index2=j, entry2=s[j], padding=' '*i)
        s[i], s[j] = s[j], s[i]
        perm(s, i + 1)
        print '{padding}swapping back s[{index1}]={entry1} and s[{index2}]={entry2}'.format(index1=i, entry1=s[i], index2=j, entry2=s[j], padding=' '*i)
        s[i], s[j] = s[j], s[i]
    print '{padding}returning from perm({list}, {index})'.format(list=s, index=i, padding=' '*i) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-05T14:28:01.417

它交换回来，因为它是 python 代码，这意味着`s`（列表）是可变的，因此在被调用函数中对其进行的更改会影响调用者中的数组。

如果它没有交换回来，那么在调用返回后，数组将处于“奇怪”状态（由先前的调用留下）。

另一种不需要突变的方法是：

```
s = [1,2,3,4,5,6,7,8,9]  
def perm(s, i):
    s = list(s) # copy before mutating
    if i == len(s):
        print s
    for j in range(i, len(s)):
        s[i], s[j] = s[j], s[i]
        perm(s, i + 1) 
```

或者，也许更清楚：

```
    s = [1,2,3,4,5,6,7,8,9]
    def perm(s, i):
        如果 i == len(s):
            印刷
        对于范围内的 j (i, len(s))：
            s[i], s[j] = s[j], s[i]
            perm(list(s), i + 1) # 传递一个副本

```

*评论*不确定为什么这被否决了。一位用户同时对该问题发表了一些评论，但随后将其删除。我认为他们错了，我想删除评论意味着他们意识到了这一点，但我不明白他们为什么不删除反对票（如果是他们的）。或者，如果这是错误的，请有人解释，以便我学习......

# c# - “文件名或路径的外部控制”安全漏洞

> ID：10895910
> 
> 赞同：0
> 
> 时间：2012-06-05T10:46:59.333
> 
> 标签：c#, streamwriter

我有 ac# 控制台应用程序，我需要将一些数据从数据库写入平面文件。输出文件路径和文件名是可配置的。我确实喜欢下面：

```
using (TextWriter tw = new StreamWriter(strWorkingOutputFile, false)) 
```

这给出了以下错误：

```
`'External Control of File Name or Path' security flaw.` 
```

基本上，无论我们在哪里提供可配置的路径，它都会引发该缺陷。关于如何解决这个问题的任何想法？

提前非常感谢。

# c++ - 嵌套 for 循环 - 一维索引

> ID：10895912
> 
> 赞同：4
> 
> 时间：2012-06-05T10:47:08.783
> 
> 标签：c++, 2d

```
//The size of test doesn't matter for now just assume it's fitting
int* test = new int[50000]
    for(int i=stepSize;i<=maxValue;i+=stepSize){

               for(int j=0;j<=i;j+=stepSize){
                    //Comput something and store it
                    test[i*30+j] = myfunc();
               }

    } 
```

如果我现在想将其转换为一维数组，我该如何计算一维数组的正确索引？例如对于 i=5 和 j=0 它应该在第一个位置等。

编辑：更新了代码。我试图计算一些东西并将其存储在一维数组中，方法是用 i*30+j 计算它的索引，但这不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T10:56:36.153

假设数组定义如下：

```
int a[30][5]; 
```

你可以像这样索引它：

```
a[i][j] 
```

或者将其定义为一维数组，如下所示：

```
int a[30*5];
a[j + 5*i]; 
```

这是一个显示迭代的示例程序：

（请注意，有些人可能会说我切换了行和列，但这并不重要，因为它在数组中连续迭代。也就是说，如果您以不同的方式考虑行和列，只需切换所有出现的位置，您应该得到结果相同。）

```
int main(int argc, char **argv)
{
    int columns = 30;
    int rows = 5;
    int a[columns*rows]; // not really needed for this example

    for(int i = 0; i < columns; ++i)
    {
        for(int j = 0; j < rows; ++j)
        {
            cout << "[" << i << "][" << j << "] offset: " << (i*rows + j)
                 << endl;
        }
    }
}

[0][0] offset: 0
[0][1] offset: 1
[0][2] offset: 2
[0][3] offset: 3
[0][4] offset: 4
[1][0] offset: 5
[1][1] offset: 6
[1][2] offset: 7
[1][3] offset: 8
[1][4] offset: 9
[2][0] offset: 10
[2][1] offset: 11
[2][2] offset: 12
[2][3] offset: 13
[2][4] offset: 14
[3][0] offset: 15
[3][1] offset: 16
[3][2] offset: 17
[3][3] offset: 18

...

[27][4] offset: 139
[28][0] offset: 140
[28][1] offset: 141
[28][2] offset: 142
[28][3] offset: 143
[28][4] offset: 144
[29][0] offset: 145
[29][1] offset: 146
[29][2] offset: 147
[29][3] offset: 148
[29][4] offset: 149 
```

还有一条信息，如果您需要动态分配二维数组，方法如下：

```
int **a = new int*[30];
for(int i = 0; i < 30; ++i)
{
    a[i] = new int[5];
} 
```

# ruby-on-rails - Ajax 设备身份验证不起作用？

> ID：10895915
> 
> 赞同：0
> 
> 时间：2012-06-05T10:47:26.227
> 
> 标签：ruby-on-rails, ajax, node.js, devise

我尝试通过使用 json 和 ajax 将以下教程用于 rails api 身份验证：http: [//jessehowarth.com/devise](http://jessehowarth.com/devise)

它似乎有效，但无论我输入什么登录凭据（现有和不存在），每次我点击提交时它都会失败。

我使用**node.js发出请求**

```
var post_data = querystring.stringify({
      'email' : 'foo@bar.com',
      'password': 'foo',
      'remember_me': 1
  });

  var options = {
    host: 'localhost',
    path: '/users/sign_in.json',
    port: '3000',
    method: 'POST'
  };

  callback = function(response) {
    var str = '';
    response.on('data', function (chunk) {
      str += chunk;
    });

    response.on('end', function () {
      console.log(str);
    });
  }

  var req = http.request(options, callback);
  req.write(post_data);
  req.end(); 
```

我的设计会话控制器如下所示：

```
class SessionsController < Devise::SessionsController

  def create
    respond_to do |format|
      format.html{ super }
      format.json do
       resource = warden.authenticate!(:scope => resource_name, :recall => "#{controller_path}#failure")
       return sign_in_and_redirect(resource_name, resource)
      end
    end
  end

  def sign_in_and_redirect(resource_or_scope, resource=nil)
    scope = Devise::Mapping.find_scope!(resource_or_scope)
    resource ||= resource_or_scope
    sign_in(scope, resource) unless warden.user(scope) == resource
    respond_to do |format|
      format.json {render :json => {:success => true, :redirect => stored_location_for(scope) || after_sign_in_path_for(resource)}}
      format.html {redirect_to root_url}
    end
  end

  def failure
    respond_to do |format|
      format.json { render:json => {:success => false, :errors => ["Login failed."]} }
    end
  end

end 
```

我得到的输出：

```
{"success":false,"errors":["Login failed."]} 
```

对此有何建议？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:03:39.200

好吧，其实是我的错。但如果有人像我一样傻：

我使用了参数`email`,`password`而`remember_me`不是`user[email]`,`user[password]`和`user[remember_me]`...</p>

解决了！

# flash - PowerPoint 2010 中的 Flash

> ID：10895917
> 
> 赞同：1
> 
> 时间：2012-06-05T10:47:28.517
> 
> 标签：flash, powerpoint

我正在尝试添加一个 falsh 文件并将其设置为在我打开演示幻灯片时它始终运行。让我感到沮丧的是，每次我第一次打开电源点或运行幻灯片时，下一次“播放”设置将是错误的，并且闪光灯不会运行，直到我再次编辑设置并进行“播放” =真'。为什么设置没有保存。PS我正在使用power point 2010

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T12:07:29.413

上次我不得不在 PP 演示文稿中嵌入 Flash 文件时，我遇到了很多问题（其中一个与您的问题相似）。我找到了一种解决方法（不完美，但可以接受）：

我创建了一个包含我的 Flash 文件的简单 HTML 文档，并使用第三方 PP 扩展 ( [Live Web](http://skp.mvps.org/liveweb.htm) ) 将 HTML 嵌入到 PP 幻灯片中。

# node.js - 如何在Socket.IO中一次性离开socket所连接的所有房间

> ID：10895925
> 
> 赞同：17
> 
> 时间：2012-06-05T10:47:46.580
> 
> 标签：node.js, websocket, socket.io

我有一些代码，其中一个套接字用于连接多个房间。在代码中的某个时刻，我想一次离开所有房间，而不断开插座。是否有可能做到这一点？如果是，那我该怎么做？提前致谢..

我正在使用 socket.IO

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-05T13:12:10.827

这是可能的。您可以在不断开插座的情况下离开房间。仅当您调用 socket.disconnect() 时，套接字才会断开连接。

为此，您必须维护每个客户加入和离开的房间列表。要离开所有房间，请遍历此列表并调用 socket.leave(roomname);

# php - 将收到的电子邮件保存到数据库

> ID：10895927
> 
> 赞同：0
> 
> 时间：2012-06-05T10:47:48.687
> 
> 标签：php, mysql, email

我有以下 MySQL 数据库结构：

```
 id |       from      |     content     |    attachment   | datestamp
 ---------------------------------------------------------------------
  1  | sender@mail.com | [BLOB - 4,6 KB] | img20120605.jpg | NOW() 
```

我想自动将所有传入的电子邮件保存到该数据库并将图像从附件复制到服务器。可能吗？是否有任何库或工具可以帮助我实现这一目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-05T10:54:59.370

第一次创建数据库

第二，您需要使用 imap 检查邮件（搜索“php imap 获取最近的邮件”）

3rd 在 crontab 中设置你的脚本

4、您将整个邮件存储在 BLOB 内容中 - 不要单独存储附件

5th 您可以从 DB 中加载整个字母并使用它

# emacs - Emacs 中的文本右对齐

> ID：10895930
> 
> 赞同：9
> 
> 时间：2012-06-05T10:47:50.627
> 
> 标签：emacs, text-alignment

有时，我在 Emacs 中有这样的文本文件：

```
some text     123     17
other text    1       0
still more    12      8
last one      1234    123 
```

我想**右**对齐数字（使用空格），将其更改为如下所示：

```
some text      123     17
other text       1      0
still more      12      8
last one      1234    123 
```

在 Emacs 中如何做到这一点？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-05T14:39:49.627

`align-regexp`可以做到这一点。标记区域，然后使用：

`C-u``M-x` `align-regexp` `RET` `\(\s-+[0-9]*\)[0-9]` `RET` `-1` `RET` `4` `RET` `y`

这应该是最简单的方法。

（**编辑：**事实上，你甚至不需要分离出最后一个数字；`\(\s-+[0-9]+\)`对于正则表达式也同样有效。）

查看交互式提示和`C-h``f` `align-regexp` `RET`变量`align-rules-list`以了解实际执行的操作。

值得注意的部分是，通过为组指定负数，`align-regexp`设置`justify`属性：

```
`justify'   
It is possible with `regexp' and `group' to identify a
character group that contains more than just whitespace
characters.  By default, any non-whitespace characters in
that group will also be deleted while aligning the
alignment character.  However, if the `justify' attribute
is set to a non-nil value, only the initial whitespace
characters within that group will be deleted.  This has
the effect of right-justifying the characters that remain,
and can be used for outdenting or just plain old right-
justification. 
```

或者，各种表格编辑选项也可以处理这个问题（例如 org、ses、表格捕获/发布），或者您可以使用 elisp 替换模式来处理。

例如，如果文件已经使用空格进行对齐（如果没有，您可以使用`untabify`删除制表符）并且所有行的长度相同（即尾随空格是如果最后一列的长度不同，则在某些行上需要）。

`C-M-%` `\([0-9]+\)\([[:space:]]+\)` `RET` `\,(format (concat "%" (number-to-string (1- (length \&))) "d ") (string-to-number \1))` `RET`

# tomcat - 在Tomcat中加载双数

> ID：10895938
> 
> 赞同：0
> 
> 时间：2012-06-05T10:48:17.873
> 
> 标签：tomcat, numbers, double

从 sql 数据库加载双精度值时出现问题。当我使用码头时它工作正常，但是当我更改为 Tomcat 时会出现此问题。

问题是像 0,7 这样的十进制数被加载为 0.699999988079071。或者像 0,77 这样的数字被加载为 0.7699999809265137

我试过用这句话加载：

```
DecimalFormat df = new DecimalFormat("#.##",new DecimalFormatSymbols(Locale.ENGLISH));
Float.parseFloat(df.format(rst.getFloat("decimal_number"))); 
```

并且仍然有错误。

有谁知道为什么会这样？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T12:51:21.733

阅读[http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)。

然后使用 Double 而不是 Float。

享受！

# salesforce - 在salesforce中单击选项卡时如何加载数据？

> ID：10895939
> 
> 赞同：0
> 
> 时间：2012-06-05T10:48:35.057
> 
> 标签：salesforce, visualforce

我创建了 4 个 Visualforce 选项卡。并且还实现了当用户单击选项卡时仅加载相应的页面。它也在工作。但问题是默认页面的数据正在加载，但包含页面的数据没有与页面一起加载。我在这里发布了我的代码。那么如何在单击特定选项卡时加载数据。?????![在此处输入图片描述][1]

```
 <apex:tab id="tab1" name="tab1" >
               <apex:detail/> 
            </apex:tab>

            <apex:tab id="tab2" name="tab2" >
                <apex:include pageName="page2" />
                </apex:tab> 
```

`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T13:05:43.427

您需要将`<apex:tab>`组件包装在组件中`<apex:tabpanel>`，如下所示：

```
<apex:tabpanel selectedTab="tab1">
  <apex:tab name="tab1">
    <!-- put tab 1 content here -->
  </apex:tab>
  <apex:tab name="tab2">
    <!-- put tab2 content here -->
  </apex:tab>
  <!-- etc -->
</apex:tabpanel> 
```

# java - 签署没有安全弹出窗口的 java 小程序

> ID：10895943
> 
> 赞同：4
> 
> 时间：2012-06-05T10:48:59.880
> 
> 标签：java, security, applet, certificate, jar-signing

我对签署 java 小程序有疑问。我有自签名小程序。当我打开网页时，我有安全警告对话框，我必须确认权限。是否有可能（例如通过 SSL 证书或我不知道，一些代码证书）此对话框不会出现？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-05T10:57:47.030

从受信任的权威机构获取证书，例如[Thawte](http://www.thawte.com/)或[Verisign](http://www.verisign.com)。这样您就可以确保您的用户是受信任的一方（因此他们可能更愿意点击该`Always trust content from this publisher`复选框）。

您 - 作为应用程序开发人员 - 无法完全禁用此对话框，但您的用户可以。查看[`Avoiding security`本文档的章节](http://docs.oracle.com/javase/7/docs/webnotes/tsg/TSG-Desktop/html/plugin.html#gcexdl)以了解如何操作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-05T11:16:47.517

> 有没有可能……这个对话框不会出现？

仅当 JRE 中存在安全漏洞时。

如果代码使用经过验证的证书进行数字签名，则安全警告会更温和，签名者在对话框中标识，并且`Always Trust`可能会默认选中。

# c - 我可以使用两级可变长度参数函数...？

> ID：10895947
> 
> 赞同：1
> 
> 时间：2012-06-05T10:49:08.293
> 
> 标签：c, function, variables, arguments, variadic-functions

我对可变长度参数调试日志打印功能有一个问题。我将在这里模拟代码。

```
void SecondPrint(int level, const char* format,...)
{
   //Printing the log here
   va_list arg;
   va_start(arg, format);
   vprintf(format, arg);
   va_end(arg);   
}

void FirstPrint(int level, const char* format,...)
{
   SecondPrint(level,format);
}

void main()
{
   int level = 100;
   FirstPrintf("Log level = %d message = %s \n",level,"Error message");
} 
```

“SecondPrint”应该按预期打印“100错误消息”，但它不像打印“错误消息”那样打印。

我不明白这个有什么问题。我怀疑从“FirstPrint”函数调用“SecondPrint”的方式。FirstPrint 通过 ... 接收剩余的参数，但它使用 level 和 format 参数调用 SecondPrint。

我不能直接从 main 使用 SecondPrint。**我必须使用 FirstPrint 并且 FirstPrint 必须调用 SecondPrint 来打印日志**。那么我怎样才能实现这一目标.. 我想使用**VA_ARGS**但它仅用于宏定义而不是函数定义。

还有一件事**我不能做 * *#define FirstPrint(a,b,...) SecondPrint(a,b,...)* ***

任何帮助都非常感谢提前感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-26T22:26:34.850

C varargs 的设计目的不是为了传递一个以上的级别；所需的那种必要的堆栈操作对于该语言来说太深了。通常，在这种情况下，您将有一个类似于 -- 或类似的版本`SecondPrint`，`vprintf`并且`SecondPrintV`您将在提取可变参数后`FirstPrint`调用，而不是直接调用（并且为了保持一致性，通常在内部调用）。`SecondPrintV``SecondPrint``SecondPrint``SecondPrintV`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-27T05:51:50.430

可以通过特定平台特定的方式来执行此操作，或者（因为参数以相同的顺序完全相同）使用汇编将当前函数框架“替换”为要调用的函数。GCC 还具有使用and函数[的扩展](http://gcc.gnu.org/onlinedocs/gcc/Constructing-Calls.html)（尽管您必须以某种方式弄清楚如何计算堆栈参数数据的大小）。`__builtin_apply_args()``__builtin_apply()`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-26T23:44:18.087

您需要传递一个`va_list`to `SecondPrint`，以便它可以访问参数`FirstPrint`

```
void SecondPrint(int level, const char* format, va_list args)
{
   //Printing the log here
   vprintf(format, arg);
}

void FirstPrint(int level, const char* format,...)
{
   va_list args;
   va_start(args, format);
   SecondPrint(level, format, args);
   va_end(args);
}

void main()
{
   int level = 100;
   FirstPrintf("Log level = %d message = %s \n",level,"Error message");
} 
```

# visual-studio-2010 - 通过 prebuild 事件构建另一个项目而不添加引用

> ID：10895948
> 
> 赞同：13
> 
> 时间：2012-06-05T10:49:09.667
> 
> 标签：visual-studio-2010, pre-build-event

我在预构建事件中将 .exe 文件从单独的主项目文件夹中复制，但我需要在构建主项目之前构建该项目，因此我想在主项目的预构建事件中构建该项目。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-09T02:51:40.853

并不是说这是最好的解决方案，但它肯定会适用于您想要做的事情：将以下内容放入您的预构建事件中

`"$(VS100COMNTOOLS)..\IDE\devenv" "*csproj location OR sln location*" /Rebuild "*configuration required if you have more than configuration ex: Debug|x64*"`

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2018-08-18T10:27:40.830

这对我有用：

```
"$(DevEnvDir)devenv" "$(SolutionDir)MySolution.sln" /Build $(configuration) /project "$(SolutionDir)MyProjectFolder\MyProject.csproj" 
```

这里`$(DevEnvDir)`、`$(SolutionDir)`和`$(configuration)`是[Visual Studio 宏](https://msdn.microsoft.com/en-us/library/c02as0cs.aspx)，所以这个命令将被翻译成：

```
"C:\Program Files (x86)\Microsoft Visual Studio\2017\Professional\Common7\IDE\devenv" "D:\Learning\MySolutionFolder\MySolutionName.sln" /Build Debug /project "D:\Learning\MySolutionFolder\MyProjectFolder\MyProject.csproj" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-08-24T02:08:02.127

```
"$(DevEnvDir)devenv" "$(SolutionPath)" /Rebuild $(configuration) /project "$(SolutionDir)MyProjectFolder\MyProject.csproj" 
```

现已在 Visual Studio Community 16.11.1 上测试

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-02-03T13:16:58.317

在 Visual Studio 2019 中使用以下命令，与“$(DevEnvDir)devenv”相比，msbuild 的构建速度更快。

**msbuild "$(SolutionDir)Sample.sln" /p:configuration=$(configuration)**

# firefox - CSS 转换 - Firefox 上的时间问题

> ID：10895949
> 
> 赞同：4
> 
> 时间：2012-06-05T10:49:11.150
> 
> 标签：firefox, css, css-transforms

我制作了一些 CSS 动画，在 WebKit (Safari/Chrome) 上运行良好，但在 Firefox 上时间混乱。

JSFiddle：http: [//jsfiddle.net/jmorais/p5XCD/1/](http://jsfiddle.net/jmorais/p5XCD/1/)

代码：

```
var open = false;
  var intransition = false;

  function openCard() {
    intransition = true;
    $('.out').addClass('openingOut');
    $('.in-left').addClass('openingIn');
    setTimeout(function() {
        $('.out').css("z-index", "2");
        $('.in-left').css("z-index", "3");
        }, 850);
    setTimeout(function(){
        $('.out').removeClass('openingOut').addClass('outOpen');
        $('.in-left').removeClass('openingIn').addClass('inOpen');
        open = true;
        intransition = false;
        }, 3000);
  }

function closeCard() {
  intransition = true;
  $('.out').addClass('closingOut');
  $('.in-left').addClass('closingIn');

  setTimeout(function() {
      $('.out').css("z-index", "3");
      $('.in-left').css("z-index", "2");
      }, 1000);
  setTimeout(function(){
      $('.out').removeClass('closingOut').removeClass('outOpen');
      $('.in-left').removeClass('closingIn').removeClass('inOpen');
      open = false;
      intransition = false;
      }, 3000);

}

function toggleCard() {

  if (intransition) { return; }

  if (open) {
    closeCard();
  } else {
    openCard();     
  }
}
```

```
body {
margin-left: 350px;   
}

.tile {
  position:absolute;
  width:350px;
  height:400px;
  left: 50%;
  margin: 0 auto;
  background: pink;
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
}

.out {
  z-index: 3;
}

.in-left {
  z-index: 2;
  left: -350px;
  -webkit-transform: rotateY(-180deg);
  -webkit-transform-origin: 100% 100%;    
  -moz-transform: rotateY(-180deg);
  -moz-transform-origin: 100% 100%;    
}

.in-right {
  z-index: -1;
}

.content {
    border: 3px black double;   
    margin: 10px;
    padding: 20px;
    height: 335px;
}

.perspective {
  -webkit-perspective: 1200px;
    -moz-perspective: 1200px;
    position: relative;
  display: inline-block; 
}

/*****************************************
* Open
******************************************/

.openingOut {
  /* Webkit */
  -webkit-animation-name: open-card-out;
  -webkit-animation-timing-function: ease;
  -webkit-animation-duration: 3s;
  -webkit-transition-delay: 0s;
  -webkit-animation-iteration-count: 1; 
  -webkit-animation-direction: alternate;
  /* Firefox */
  -moz-animation-name: open-card-out;
  -moz-animation-timing-function: ease;
  -moz-animation-duration: 3s;
  -moz-transition-delay: 0s;
  -moz-animation-iteration-count: 1; 
  -moz-animation-direction: alternate;
}

.openingIn {
  /* Webkit */
  -webkit-animation-name: open-card-in;
  -webkit-animation-timing-function: ease;
  -webkit-animation-duration: 3s;
  -webkit-transition-delay: 0s;
  -webkit-animation-iteration-count: 1;
  -webkit-animation-direction: alternate;
  /* Firefox */
  -moz-animation-name: open-card-in;
  -moz-animation-timing-function: ease;
  -moz-animation-duration: 3s;
  -moz-transition-delay: 0s;
  -moz-animation-iteration-count: 1;
  -moz-animation-direction: alternate;
}

.outOpen {
  -webkit-transform: rotateY(180deg);
  -webkit-transform-origin: 0 0;
  -moz-transform: rotateY(180deg);
  -moz-transform-origin: 0 0;
}

.inOpen {
  -webkit-transform: rotateY(0deg);
  -webkit-transform-origin: 0 0;
  -moz-transform: rotateY(0deg);
  -moz-transform-origin: 0 0;
}

/* Webkit */
@-webkit-keyframes open-card-out {
  from {
    -webkit-transform-origin: left 0%;
    -webkit-transform: rotateY(0deg);
  }
  to {
    -webkit-transform-origin: left 0%;
    -webkit-transform: rotateY(-180deg);
  }
}

@-webkit-keyframes open-card-in {
  from {
    -webkit-transform-origin: right 0%;
    -webkit-transform: rotateY(180deg);
  }
  to {
    -webkit-transform-origin: right 0%;
    -webkit-transform: rotateY(0deg);
  }
}

/* Firefox */
@-moz-keyframes open-card-out {
  from {
    -moz-transform-origin: left 0%;
    -moz-transform: rotateY(0deg);
  }
  to {
    -moz-transform-origin: left 0%;
    -moz-transform: rotateY(-180deg);
  }
}

@-moz-keyframes open-card-in {
  from {
    -moz-transform-origin: right 0%;
    -moz-transform: rotateY(180deg);
  }
  to {
    -moz-transform-origin: right 0%;
    -moz-transform: rotateY(0deg);
  }
}
/*****************************************
* Close
******************************************/

.closingOut {
  /* Webkit */
  -webkit-animation-name: close-card-in;
  -webkit-animation-timing-function: ease;
  -webkit-animation-duration: 3s;
  -webkit-transition-delay: 0s;
  -webkit-animation-iteration-count: 1; 
  -webkit-animation-direction: alternate;
  /* Firefox */
  -moz-animation-name: close-card-in;
  -moz-animation-timing-function: ease;
  -moz-animation-duration: 3s;
  -moz-transition-delay: 0s;
  -moz-animation-iteration-count: 1; 
  -moz-animation-direction: alternate;
}

.closingIn {
  /* Webkit */
  -webkit-animation-name: close-card-out;
  -webkit-animation-timing-function: ease;
  -webkit-animation-duration: 3s;
  -webkit-transition-delay: 0s;
  -webkit-animation-iteration-count: 1;
  -webkit-animation-direction: alternate;
  /* Firefox */
  -moz-animation-name: close-card-out;
  -moz-animation-timing-function: ease;
  -moz-animation-duration: 3s;
  -moz-transition-delay: 0s;
  -moz-animation-iteration-count: 1;
  -moz-animation-direction: alternate;
}

@-webkit-keyframes close-card-in {
  from {
    -webkit-transform: rotateY(-180deg);
    -webkit-transform-origin: 0% 0%;
  }
  to {
    -webkit-transform: rotateY(0deg);
    -webkit-transform-origin: 0% 0%;
  }
}

@-webkit-keyframes close-card-out {
  from {
    -webkit-transform-origin: right 0%;
    -webkit-transform: rotateY(0deg);
  }
  to {
    -webkit-transform-origin: right 0%;
    -webkit-transform: rotateY(180deg);
  }
}

@-moz-keyframes close-card-in {
  from {
    -moz-transform: rotateY(-180deg);
    -moz-transform-origin: 0% 0%;
  }
  to {
    -moz-transform: rotateY(0deg);
    -moz-transform-origin: 0% 0%;
  }
}

@-moz-keyframes close-card-out {
  from {
    -moz-transform-origin: right 0%;
    -moz-transform: rotateY(0deg);
  }
  to {
    -moz-transform-origin: right 0%;
    -moz-transform: rotateY(180deg);
  }
}
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<div class="perspective"  onclick="toggleCard();">
      <div class="tile out out">
        <div class="content">
            <p>out</p>
        </div>
      </div>
      <div class="tile in-left">
        <div class="content"> 
            <p>in-left</p>            
        </div>
      </div>
      <div class="tile in-right">
        <div class="content">
          <div style="display: table; height: 100%; width: 100%;">
              <p>in-right</p>
        </div>
        </div>
      </div>
    </div>
```

如您所见，如果您使用的是 Safari/Chrome，in-left div 与 out div 同时打开，但在 Firefox 上它将在不同时间打开，从而打乱了整个动画。

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-12T03:01:19.253

**不需要**答案，因为两个浏览器中的动画效果是相同的，经过稳定的构建测试。

**铬合金：**

```
19.0.1084.56 (Official Build 140965) m 
```

**火狐：**

```
Mozilla/5.0 (Windows NT 5.1; rv:13.0) Gecko/20100101 Firefox/13.0 
```

这种不回答是多么讽刺的回答。

可以肯定的是，清除浏览器缓存并在另一台 PC 上进行测试以进行验证。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T14:40:45.787

我同意 arttronics，我看到您测试了所有可用的 css3 解决方案，但我认为只有 2 个可能的解决方案根本不使用 css3

1.  等firefox用css3动画和transition提高性能吧，我个人认为不会持续这么久
2.  使用替代方法来制作像画布一样的动画，我认为这并不容易，但我认为只有当你真的需要动画运行时，这才是一个可行的解决方案

# php - PHP表单验证错误

> ID：10895950
> 
> 赞同：0
> 
> 时间：2012-06-05T10:49:16.800
> 
> 标签：php, forms, associative-array

嗨，我是 PHP 编程的初学者，当我尝试进行一些表单验证时，我收到了这个错误：

“致命错误：无法在第 67 行的 C:\xampp\htdocs\Web\Proiecte\Cristina\formular.php 的写入上下文中使用函数返回值”

这是我本节的 HTML：

```
<form id ="fabrica" action="formular.php" method="post">
    <input type="checkbox" name="unu"/>
</form> 
```

这是我的 php 代码：

```
if(isset($_POST('unu'))){
                        echo "<tr>";
                        echo "<td>a mers</td>";
                        echo "</tr>";
                    } 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-05T10:51:15.143

_POST 是一个关联数组（超全局）

您可以使用常规数组语法访问其内容

```
$_POST['unu'] 
```

代替

```
$_POST('unu') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T10:51:24.977

```
if(isset($_POST['unu'])) 
```

使用方括号

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-05T10:54:43.713

后值存储为数组

要访问它们，您需要编写为

```
 if(isset($_POST['unu'])){
                    echo "<tr>";
                    echo "<td>a mers</td>";
                    echo "</tr>";
                } 
```

# php - 在php中读取二进制文件记录

> ID：10895951
> 
> 赞同：4
> 
> 时间：2012-06-05T10:49:21.550
> 
> 标签：php, binaryfiles

我使用 C 编码创建了二进制文件。这是该二进制文件的结构。

```
struct emp
{
   int eid,eage;
   char name[20],city[20];
}record; 
```

使用这个“C”结构，我创建了一个名为“table1.txt”的二进制文件

现在我想使用 php 在网页中显示文件的内容。我怎样才能做到这一点 ？

```
<html>
<head>
<title>binary file</title></head>
<body style="background-color:yellow">
<?
$fp = fopen("table1.txt", "rb");
$read = fread($fp, 4); 
$n = unpack("i", $read);
$data1 = fread($fp, 8);
$nn = unpack("i",$data1);
echo $number[1]; 
?>
</body>
</html> 
```

我已经使用了上面的代码。但我只能读取文件的第一个字段。我的第一个记录字段是员工 ​​ID，其值为“0”。该页面仅显示 0。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T12:08:11.833

出于某种奇怪的原因，每个数据段不是预期的 48 字节而是 52 字节。

```
$f = fopen('data.txt', 'rb');

while (!feof($f)) {
  // read one segment of 52 bytes
  if ($s = fread($f, 52)) {
    // unpack the binary structure into an associative array
    print_r(unpack('ieid/ieage/a20name/a20city', $s));
  }
}

fclose($f); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-07T12:26:38.957

这是“C”结构。结构总{字符日期[11]；字符 ac[128]；字符类型[5]；浮动m值；浮动网络；浮动网络；字符统计[128]；浮动杉木；浮动 acb; };

这是使用 GCC 编译器编译时二进制文件的内容。

> 12/12/1995 D US 12.23 34.12 90.12费用12 56.12 01/01/1998 A US 52.23 54.12 10.12费用92 16.12 31/12/1999 A US 52.23 54.12 10.12费用92 16.12 31/12/1999 D US 12.23 34.12 90.12费用12 56.12 01/01/01/01/01/01/01/01/01/01/01/01/01/01/01/01/01/211.12费用92 16.12 01/01/2000 Z US 12.23 34.12 90.12费用12 56.12 31/12/2010 A US 52.23 54.12 10.12费用92 16.12 31/12/2010 D US 12.23 34.12 90.12 费用 12 56.12

这是读取上述二进制文件内容的 PHP 编码。

```
echo "<table>";
while (!feof($f)) {

  if ($s = fread($f, 292)) {

        $nn = unpack('a11date/a128ac/a5type/fmvalue/fnetraw/fnetfer/a128stat/ffirr/facb', $s);

        echo "<td>" . $nn[date] ."</td>";
        echo "<td>" . $nn[ac] . "</td>";
        echo "<td>" . $nn[type] . "</td>";
        echo "<td>" . $nn[mvalue] . "</td>";
        echo "<td>" . $nn[netraw] . "</td>";
        echo "<td>" . $nn[netfer] . "</td>";
        echo "<td>" . $nn[stat] . "</td>";
        echo "<td>" . $nn[firr] . "</td>";
        echo "<td>" . $nn[acb] . "</td>";
        echo "</tr>";
 }
}
        echo "</table>";
fclose($f);
?> 
```

这是我从上面的代码中得到的答案。我得到很多垃圾值是第二个和第七个字段。以及如何设置浮点字段的精度。

> 12/12/1995 d¸³M·g·ew·¤dw·àew·Öúr·ÿÿÿÿ,w·ø;w·Ìª¹¿ô{·{·‹ây·Ð{·SpP·ip·¤dw·ew· €5w·ôOg· X«¹¿»qP·äSg us 12.229999542236 34.119998931885 90.120002746582 费用·5rP· #Ä äSg· rP·ô›Å #Ä 5rP·0#o·¸xw·x«¹¿·ÅÿÿýŽäSg·¸x ·ÆD¬¹¿L¬¹¿5rP·pòy· 12 56.119998931885
> 
> 01/01/1998 a¸³M·g·ew·¤dw·àew·Öúr·ÿÿÿÿ,w·ø;w·Ìª¹¿ô{·{·‹ây·Ð{·SpP·ip·¤dw·ew· €5w·ôOg· X«¹¿»qP·äSg us 52.229999542236 54.119998931885 10.119999885559 费用·5rP· #Ä äSg· rP·ô›Å #Ä 5rP·0#o·¸xw·x«¹¿·ÅÿÿýŽäSg·¸x ·ÆD¬¹¿L¬¹¿5rP·pòy· 92 16.120000839233
> 
> 1999 年 12 月 31 日 a¸³M·g·ew·¤dw·àew·Öúr·ÿÿÿÿ,w·ø;w·Ìª¹¿ô{·{·‹ây·Ð{·SpP·ip·¤dw·ew· €5w·ôOg· X«¹¿»qP·äSg us 52.229999542236 54.119998931885 10.119999885559 费用·5rP· #Ä äSg· rP·ô›Å #Ä 5rP·0#o·¸xw·x«¹¿·ÅÿÿýŽäSg·¸x ·ÆD¬¹¿L¬¹¿5rP·pòy· 92 16.120000839233
> 
> 31/12/1999 d¸³M·g·ew·¤dw·àew·Öúr·ÿÿÿÿ,w·ø;w·Ìª¹¿ô{·{·‹ây·Ð{·SpP·ip·¤dw·ew· €5w·ôOg· X«¹¿»qP·äSg us 12.229999542236 34.119998931885 90.120002746582 费用·5rP· #Ä äSg· rP·ô›Å #Ä 5rP·0#o·¸xw·x«¹¿·ÅÿÿýŽäSg·¸x ·ÆD¬¹¿L¬¹¿5rP·pòy· 12 56.119998931885
> 
> 01/01/2000 a¸³M·g·ew·¤dw·àew·Öúr·ÿÿÿÿ,w·ø;w·Ìª¹¿ô{·{·‹ây·Ð{·SpP·ip·¤dw·ew· €5w·ôOg· X«¹¿»qP·äSg us 52.229999542236 54.119998931885 10.119999885559 费用·5rP· #Ä äSg· rP·ô›Å #Ä 5rP·0#o·¸xw·x«¹¿·ÅÿÿýŽäSg·¸x ·ÆD¬¹¿L¬¹¿5rP·pòy· 92 16.120000839233
> 
> 01/01/2000 z¸³M·g·ew·¤dw·àew·Öúr·ÿÿÿÿ,w·ø;w·Ìª¹¿ô{·{·‹ây·Ð{·SpP·ip·¤dw·ew· €5w·ôOg· X«¹¿»qP·äSg us 12.229999542236 34.119998931885 90.120002746582 费用·5rP· #Ä äSg· rP·ô›Å #Ä 5rP·0#o·¸xw·x«¹¿·ÅÿÿýŽäSg·¸x ·ÆD¬¹¿L¬¹¿5rP·pòy· 12 56.119998931885
> 
> 31/12/2010 a¸³M·g·ew·¤dw·àew·Öúr·ÿÿÿÿ,w·ø;w·Ìª¹¿ô{·{·‹ây·Ð{·SpP·ip·¤dw·ew· €5w·ôOg· X«¹¿»qP·äSg us 52.229999542236 54.119998931885 10.119999885559 费用·5rP· #Ä äSg· rP·ô›Å #Ä 5rP·0#o·¸xw·x«¹¿·ÅÿÿýŽäSg·¸x ·ÆD¬¹¿L¬¹¿5rP·pòy· 92 16.120000839233
> 
> 31/12/2010 d¸³M·g·ew·¤dw·àew·Öúr·ÿÿÿÿ,w·ø;w·Ìª¹¿ô{·{·‹ây·Ð{·SpP·ip·¤dw·ew· €5w·ôOg· X«¹¿»qP·äSg us 12.229999542236 34.119998931885 90.120002746582 费用·5rP· #Ä äSg· rP·ô›Å #Ä 5rP·0#o·¸xw·x«¹¿·ÅÿÿýŽäSg·¸x ·ÆD¬¹¿L¬¹¿5rP·pòy· 12 56.119998931885

# java - 使用 cxf-jax rs 运行 REST

> ID：10895953
> 
> 赞同：2
> 
> 时间：2012-06-05T10:49:37.420
> 
> 标签：java, spring, cxf, jax-rs

```
Jun 05, 2012 8:55:57 PM org.apache.catalina.core.AprLifecycleListener init
INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/jdk1.7.0_04/jre/lib/i386/server:/usr/java/jdk1.7.0_04/jre/lib/i386:/usr/java/jdk1.7.0_04/jre/../lib/i386:/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.3/jre/lib/i386/client:/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.3/jre/lib/i386::/usr/java/packages/lib/i386:/lib:/usr/lib
Jun 05, 2012 8:55:57 PM org.apache.tomcat.util.digester.SetPropertiesRule begin
WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:web' did not find a matching property.
Jun 05, 2012 8:55:58 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["http-bio-8080"]
Jun 05, 2012 8:55:58 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
Jun 05, 2012 8:55:58 PM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 2025 ms
Jun 05, 2012 8:55:58 PM org.apache.catalina.core.StandardService startInternal
INFO: Starting service Catalina
Jun 05, 2012 8:55:58 PM org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet Engine: Apache Tomcat/7.0.27
Jun 05, 2012 8:55:59 PM org.apache.catalina.util.SessionIdGenerator createSecureRandom
INFO: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [143] milliseconds.
Jun 05, 2012 8:55:59 PM org.apache.catalina.loader.WebappClassLoader validateJarFile
INFO: validateJarFile(/home/preetam/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/web/WEB-INF/lib/geronimo-servlet_2.5_spec-1.1.2.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2\. Offending class: javax/servlet/Servlet.class
Jun 05, 2012 8:55:59 PM org.apache.catalina.loader.WebappClassLoader validateJarFile
INFO: validateJarFile(/home/preetam/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/web/WEB-INF/lib/geronimo-servlet_3.0_spec-1.0.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2\. Offending class: javax/servlet/Servlet.class
Jun 05, 2012 8:56:00 PM org.apache.catalina.core.ContainerBase startInternal
SEVERE: A child container failed during start
java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/web]]
    at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:252)
    at java.util.concurrent.FutureTask.get(FutureTask.java:111)
    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1128)
    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:782)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1566)
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1556)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
    at java.util.concurrent.FutureTask.run(FutureTask.java:166)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722)
Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/web]]
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)
    ... 7 more
Caused by: java.lang.NoClassDefFoundError: org/springframework/web/context/WebApplicationContext
    at java.lang.Class.getDeclaredFields0(Native Method)
    at java.lang.Class.privateGetDeclaredFields(Class.java:2308)
    at java.lang.Class.getDeclaredFields(Class.java:1760)
    at org.apache.catalina.startup.WebAnnotationSet.getDeclaredFields(WebAnnotationSet.java:452)
    at org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:257)
    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationServletAnnotations(WebAnnotationSet.java:136)
    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:66)
    at org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:381)
    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:858)
    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:345)
    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)
    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5161)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    ... 7 more
Caused by: java.lang.ClassNotFoundException: org.springframework.web.context.WebApplicationContext
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1711)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1556)
    ... 21 more

Jun 05, 2012 8:56:00 PM org.apache.catalina.core.ContainerBase startInternal
SEVERE: A child container failed during start
java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]
    at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:252)
    at java.util.concurrent.FutureTask.get(FutureTask.java:111)
    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1128)
    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:675)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:303)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:431)
Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1566)
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1556)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
    at java.util.concurrent.FutureTask.run(FutureTask.java:166)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722)
Caused by: org.apache.catalina.LifecycleException: A child container failed during start
    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1136)
    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:782)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    ... 7 more

Jun 05, 2012 8:56:00 PM org.apache.catalina.startup.Catalina start
SEVERE: Catalina.start: 
org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:675)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:303)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:431)
Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)
    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    ... 7 more
Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)
    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    ... 9 more
Caused by: org.apache.catalina.LifecycleException: A child container failed during start
    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1136)
    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    ... 11 more

Jun 05, 2012 8:56:00 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 1912 ms 
```

在运行 Web 服务时出现此错误，这些是我的 cxf.xml 和 web.xml 代码...我无法找到错误并且还告诉我需要在项目中添加什么类型的依赖项tomcat lib文件夹....

cxf.xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"
xmlns:jaxrs="http://cxf.apache.org/jaxrs"
xsi:schemaLocation="
http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans.xsd
http://www.springframework.org/schema/util 
http://www.springframework.org/schema/util/spring-util-2.0.xsd
http://cxf.apache.org/jaxrs
http://cxf.apache.org/schemas/jaxrs.xsd">

<import resource="classpath:META-INF/cxf/cxf.xml" />
<import resource="classpath:META-INF/cxf/cxf-extension-jaxrs-binding.xml" />
<import resource="classpath:META-INF/cxf/cxf-servlet.xml" />

<jaxrs:server id="connectionService" address="/">
<jaxrs:serviceBeans>
<ref bean="connection" />
</jaxrs:serviceBeans>
<jaxrs:extensionMappings>
<entry key="xml" value="application/xml" />
</jaxrs:extensionMappings>

</jaxrs:server>
<bean id="connection" class="com. javatch.rest.ConnectionInfoImpl" />
</beans> 
```

和 web.xml：

```
<?xml version="1.0"?>
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
"http://java.sun.com/dtd/web-app_2_3.dtd">

<web-app>
<display-name>RestWithCXF</display-name>
<context-param>
<param-name>contextConfigLocation</param-name>
<param-value>classpath:com/javatch/rest/cxf.xml</param-value>
</context-param>
<listener>
<listener-class>
org.springframework.web.context.ContextLoaderListener
</listener-class>
</listener>
<servlet>
<servlet-name>CXFServlet</servlet-name>
<servlet-class>
org.apache.cxf.transport.servlet.CXFServlet
</servlet-class>
</servlet>
<servlet-mapping>
<servlet-name>CXFServlet</servlet-name>
<url-pattern>/services/*</url-pattern>
</servlet-mapping>
</web-app> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T16:27:42.610

`cxf`和有同样的问题`eclipse`。

尝试删除 Tomcat 运行时，然后从`windows->preferences->server->runtime Environments`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T19:30:44.010

您的 WEB-INF/lib 文件夹中有什么？我认为您需要 spring-web.jar、spring-beans.jar、spring-context.jar、spring-core.jar（也许还有其他，我已经有一段时间没有使用 Spring 了）。

使用 Spring 2.x，您只需添加 spring.jar（包含所有内容）。

在 Spring 3.x 中，JAR 名称略有变化：spring-web.jar 现在是 org.springframework.web-XXX.jar 等等。

# php - Eclipse PDT 函数文档中的 PHP 自动完成功能未格式化

> ID：10895956
> 
> 赞同：3
> 
> 时间：2012-06-05T10:50:09.130
> 
> 标签：php, eclipse, autocomplete

我用 PDT 安装了 Eclipse。自动完成功能有效，当弹出框出现时，它会显示功能列表。问题是另一个框中右侧的功能描述没有格式化。描述函数和列出参数的描述是纯文本，并且有一些可见的 css 样式，但它不是这样解析的。这是描述 str_getcsv 函数开始的方式：

```
/* Font definitions */ html { font-family: 'Sans',sans-
serif; font-size: 10pt; font-style: normal; font-weight: 
normal; } body, h1, h2, h3, h4, h5, h6, p, table, td, 
caption, th, ul, ol, dl, li, dd, dt { font-size: 1em; } pre 
{ font-family: monospace; } /* Margins */ 
```

有没有人遇到过这个问题。我似乎找不到任何对此的参考。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-12T11:29:06.760

It's because the library that eclipse uses to render html inside the autocomplete is missing.

In ubuntu or debian you can solve it by installing libwebkitgtk-1.0-0

> sudo apt-get install libwebkitgtk-1.0-0

then restart eclipse

# javascript - jqPlot及命名系列

> ID：10895957
> 
> 赞同：8
> 
> 时间：2012-06-05T10:50:09.873
> 
> 标签：javascript, jquery, jqplot

我正在尝试 jqPlot，但我不知道如何设置不同系列的名称。

目前，我的代码如下所示：

```
$(document).ready(function () {
    $.jqplot('chartdiv', [
        [[201201, 10], [201202, 20], [201203, 30], [201204, 60], [201205, 40]], 
        [[201201, 5], [201202, 10], [201203, 7], [201204, 8], [201205, 11]]
    ], {
        axes: {
            xaxis: {
                label: "Year/month",
                pad: 0
            },
            yaxis: {
                label: "Amount (Kr)"
            }
        },
        legend: {
            show: true
        }
    });
}); 
```

它呈现图表，但系列被命名为系列 1 和系列 2。有什么方法可以控制系列的命名？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-05T12:23:22.947

要为系列命名，您必须设置“系列”下的“标签”。[请参阅此处获取文档。](http://www.jqplot.com/docs/files/jqplot-core-js.html#Series.label)

[此处提供了演示其用法的示例代码。](http://groups.google.com/group/jqplot-users/browse_thread/thread/26261c90613f8ef0/c1c37b3602359119)

# algorithm - Redis 类似 Twitter 的关注/取消关注设计模式

> ID：10895958
> 
> 赞同：2
> 
> 时间：2012-06-05T10:50:10.480
> 
> 标签：algorithm, architecture, nosql, redis, twitter-follow

假设我们正在复制 Twitter 的关注功能。据我所知，现在每个人都同意使用 Redis 进行以下设计。

joe 后面的所有推文都存储在排序集“ss:joe”中，key=tweet_id, score=tweet_timestamp

所以当 joe 关注ladygaga 时，ladygaga 的推文会添加到“ss:joe”中，到目前为止一切顺利。

问题是：当 joe 取消关注ladygaga 时，如何从“ss:joe”中删除ladygaga 的推文？

遍历每一条“ss:joe”推文并删除那些属于ladygaga的推文已经过时了。

我能想到的最好的方法是为每个存储她自己的推文的用户维护另一个排序集，所以ladygaga 将拥有她的排序集“tweets:ladygaga”，key=tweet_id, score=tweet_timestamp，然后我们可以通过 ZINTERSTORE 挑选出ladygaga 的推文“ss:joe”和“tweets:ladygaga”。

有更好的解决方案吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-05T11:20:38.223

这种设计还有一个更大的问题。`tweet_id`将s存储在`ss:joe`意味着系统无法在`gaga`不修改`ss:joe`. 现在想象一下，有几百个名人，每个人都有 50,000 个追随者，每个人每天都写十几条推文。这是很多集合中的很多插入，您也不能轻易分发。而且，它有很多重复的数据（请记住，redis 是一个仅限 RAM 的数据库，虽然 RAM 变得更便宜，但它仍然远非“无限”）。*编辑：为了更新关注者记录，您也需要了解关注者（因为在每条新写的推文上迭代每个用户几乎不是一种选择）。因此，您还需要维护反向链接列表。*

另一种设计是将关注的人的用户 ID 存储在一个集合中（或排序集合，如果你愿意，这样用户就可以打乱顺序）。每个人还有一个带有所有推文 ID 的排序集（按日期排序）。

*这将需要每个被关注的人*额外查询来获取推文 ID，但它将减少不关注从一组中删除一个值，并且它将在创建新推文时自动更新每个人。

查找比插入/删除（可能需要重新平衡或重新散列）成本更低，因此即使您关注十几个人，这些额外的查询也可能不像更频繁的更新那样严重。
另外，查找实际上可以在复制的从属网络上发生（在每个人都可以看到新推文之前可能会经过一两秒，但谁在乎——它可以无限扩展）。

# python - 使用 python matplotlib 时如何更改图中的所有文本大小？

> ID：10895965
> 
> 赞同：5
> 
> 时间：2012-06-05T10:50:34.987
> 
> 标签：python, text, resize, matplotlib, figure

很久以前我看到一个函数可以在 matplotlib 中将所有文本大小更改为相同。现在我在任何地方都找不到它。这是一个简单的一个（或两个）班轮，如：

```
for item in pylab.gca(): item.getLabel().setSize(10) 
```

我该怎么做以上？上面只是伪代码，但想法是改变 x 和 y 标签、图例、标题，一切。

**编辑**：...在一个图形（对象）内。我希望文本大小取决于图形宽度。全局 font.size 改变了所有数字？而且我认为它不能动态应用（在创建图形之前设置是只读的）？

**编辑 2**：我测试了该`font.size = 22`方法。如果你在legend() 之后运行它，它会有一些奇怪的行为。文本垂直空格不会更新。因此，它应该类似于 getText().setTextSize()。

* * *

## 回答 #1

> 赞同：-3
> 
> 时间：2012-06-05T12:26:03.323

您可以更改 figsize （字体大小保持不变），而不是更改字体大小：

```
# figsize = (8,6)
figsize = (4,3) # same ratio, bigger text
fig,(ax) = plt.subplots(1, 1, figsize=figsize) 
```

**编辑**（为了完整性）：像素的大小（在屏幕上）由可设置的 dpi 设置控制，即通过 Figure.set_dpi(val)。

**编辑 2**：我不知道您如何（以及是否）可以控制确切的像素高度。我做了一些测试：

```
#! /usr/bin/env python

import matplotlib
import matplotlib.pyplot as plt
import numpy as np

x = np.arange(0, 2*np.pi, 0.1)
y = np.sin(x)

matplotlib.rcParams.update({'font.size': 10})
fig,(ax) = plt.subplots(1, 1, figsize=(10,10))
plt.plot(x,y)
plt.savefig('test.png', dpi=300)

# font-size, figsize, dpi => pixel-height
# 10, 20x20, 100 => 10
# 10, 20x20, 200 => 21
# 10, 10x10, 100 => 10
# 10, 10x10, 200 => 21
# 10, 10x10, 300 => 34 
```

另请注意，抗锯齿可能会对像素高度产生影响。

# java - 较新的 JRE 版本可以运行使用较旧 JDK 版本编译的 Java 程序吗？

> ID：10895969
> 
> 赞同：90
> 
> 时间：2012-06-05T10:50:45.403
> 
> 标签：java

这可能是一个愚蠢的问题，但我会在运行 Java 程序和在 Java 版本 1.6**和**1.7 中编译的相关库（我使用 1.7 编译，而某些库使用 1.6 编译）并在 1.7 JRE 中运行整个程序时遇到任何问题?

* * *

## 回答 #1

> 赞同：105
> 
> 时间：2015-02-19T11:28:57.240

正如已经回答的那样，您**基本上是**安全的，**大多数**产品和 3 ^(rd)方库都可以正常工作。但是，**确实存在**非常罕见的情况，即在 JDK 版本之间引入了**二进制不兼容**（*使用旧 JDK 编译的类文件将无法在新 JVM 中运行的情况）。*

## Oracle Java 版本间不兼容的官方列表：

*   [自 Java SE 8 起在 Java SE 9 中](https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F7696E02-A1FB-4D5A-B1F2-89E7007D4096)
*   [自 Java SE 7 起在 Java SE 8 中](http://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html#A999198)
*   [自 Java SE 6 起在 Java SE 7 中](http://www.oracle.com/technetwork/java/javase/compatibility-417013.html#incompatibilities "官方不兼容列表")
*   [自 Java SE 5.0 起在 Java SE 6 中](http://www.oracle.com/technetwork/java/javase/compatibility-137541.html#incompatibilities)
*   [自 Java SE 1.4.2 起在 Java SE 5.0 中](http://www.oracle.com/technetwork/java/javase/compatibility-137462.html#incompatibilities)

## 兼容性工具

**与JDK 9**一起打包，有一个名为[jdeprscan](https://docs.oracle.com/javase/9/tools/jdeprscan.htm)的工具，它将验证兼容性，列出代码中不再使用的 API 并建议替代方案（！）。您可以指定目标**JDK 版本**（适用于**JDK 9**、**8**、**7**和**6**），它将列出特定于您的目标版本的不兼容性。

## 图书馆的附加评论：

一个合理的经验法则是为您的软件目标的 JRE 版本使用最新的稳定版本库。显然你会发现这条规则有很多例外，但一般来说，公共可用库的稳定性**通常**会随着时间的推移而增加。

在更改依赖项的版本时，自然必须考虑**API 兼容性**和**版本控制。**

同样，最流行的依赖项将具有应该提供此类信息的网页。

但是，如果您使用的东西有点模糊，您可以辨别出哪些 JRE 是您的依赖项中编译的类。

[这是关于如何找出类版本的一个很好的答案](https://stackoverflow.com/a/1096159/76237)。您可能需要先解压缩 JAR 文件。

* * *

## 回答 #2

> 赞同：92
> 
> 时间：2012-06-05T10:52:36.373

你不会遇到任何问题——这就是 Java 的魔力——它向后兼容。你可以在 Java 8 上运行几乎所有来自 Java 1 的代码。Java 6 代码没有理由不能在 Java 8 运行时上运行。

有趣的是，对于使用 Java 1.4 编写的应用程序，在以后的运行时运行它们甚至可以提高速度。这是因为Java在不断发展，不仅仅是被称为“Java”的语言，还有JVM（Java虚拟机）。我仍然有 10 多年前的源代码，它们仍然可以正常工作，正如在最新的 JVM 中所预期的那样。

如果您想以 Java 5 VM 为目标，那么您可以使用 Java 8 SDK 工具来实现。您最终可以指定您希望支持的目标 VM，只要您记住版本 5 VM 可能不支持版本 8 VM 将支持的所有功能。

我刚刚针对新的 Java 8 运行时测试了我在 Java 5 中编写的代码，一切都按预期工作，因此，即使我们现在拥有更强大的语言和运行时，我们也可以继续使用我们过去的投资。仅此一项就使 Java 成为公司的绝佳开发选择。

# javascript - 如何在验证失败时保留输入表单值spring MVC

> ID：10895976
> 
> 赞同：2
> 
> 时间：2012-06-05T10:51:23.473
> 
> 标签：javascript, jquery, html, spring-mvc

我正在验证输入，并希望在出现验证错误时保留用户输入字段

这就是我的输入字段的样子

```
<form:input path="firstName" class="text short" id="firstName" value="First Name" name ="firstName"/> 
```

我的问题是`value="First Name"`，由于这是在写入用户填写的值，我无法更改 HTML，只能在上面的输入框中添加条件。

有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T13:48:53.010

on 属性值`<form:input/>`覆盖来自控制器的用户提交的值。

有很多解决方法：如果用户未设置输入值，甚至使用您所说的条件，则使用 javascript 设置输入值。也许这有帮助：

```
<c:if test="${not empty command.firstName}">
    <form:input path="firstName" cssClass="text short"/>
</c:if>
<c:if test="${empty command.firstName}">
    <form:input path="firstName" cssClass="text short" value="First Name"/>
</c:if> 
```

其中 command 是来自控制器的对象的名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T13:53:45.523

我假设您希望将“名字”显示为一种占位符，直到用户输入某些内容。在这种情况下，您为什么不使用`placeholder`html5 属性？

# dll - C++ dll 版本号

> ID：10895980
> 
> 赞同：7
> 
> 时间：2012-06-05T10:51:36.460
> 
> 标签：dll, versioning

是否必须所有用 C++ 创建的 dll 都有版本号？我的机器中有 dll，但是当我右键单击时，我看不到版本号。

PS：我安装了Win 7。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-05T13:00:35.140

重要的是要了解，*在加载 DLL 期间不会使用*版本号。因此，DLL 或可执行程序（如 .EXE、.OCX、.SYS、.FON 等）必须具有哪些信息不是必需的。

版本的真正目的是帮助*安装程序*将计算机上存在的DLL与已安装的DLL进行比较。本案例中最重要的版本是`FILEVERSION`part 或 VERSIONINFO 资源。您可以阅读有关 API 的更多信息以访问[MSDN](http://msdn.microsoft.com/en-us/library/windows/desktop/ms646981%28v=vs.85%29.aspx)上的信息。

版本资源对于支持也很实用。如果您对*重新分发*到其他计算机或其他客户端的 DLL 中的更改进行了良好的协议，那么版本资源可以帮助您进行故障排除。通过检查 DLL 的版本，您可能会发现发生的问题是否已经众所周知并且在更新的 DLL 版本中得到修复。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-05T12:39:37.903

在 DLL 中包含版本信息不是强制性的。但是，如果您打算发布超过 1 个版本，建议添加一些版本信息以用于支持/维护目的。

以下是[向 win32 二进制文件添加版本信息的方法](http://wiki.codeblocks.org/index.php?title=FAQ-Compiling_%28general%29#Q:_How_do_I_add_version_information_to_windows_executables_and_dll.27s.3F)。

您还可以[在现有的 exe/dll 中嵌入版本信息](https://stackoverflow.com/questions/284258/how-do-i-set-the-version-information-for-an-existing-exe-dll)。

编辑：为目的添加了更多信息（来自 Oleg 的链接）：

> 您可以使用版本信息函数来确定文件应该安装在哪里，并识别与当前安装的文件的冲突。这些功能使您可以避免以下问题：
> 
> *   在新版本上安装旧版本的组件
> *   在不通知的情况下更改混合语言系统中的语言
> *   在不同目录中安装库的多个副本
> *   将文件复制到多个用户共享的网络目录
> 
> 版本信息功能使应用程序能够查询版本资源以获取文件信息并以清晰的格式呈现信息。此信息包括文件的用途、作者、版本号等。您可以将版本信息添加到任何可以具有 Windows 资源的文件，例如 DLL、可执行文件或 .fon 字体文件。要添加信息，请创建一个 VERSIONINFO 资源并使用资源编译器来编译资源。

# python - 如何获取在 PyQt4 中播放的媒体的总时长？

> ID：10895981
> 
> 赞同：1
> 
> 时间：2012-06-05T10:51:38.143
> 
> 标签：python, pyqt, pyqt4, phonon, audio-player

我正在尝试在 PyQt4 中编写一个小型音频播放器。这是我编写的代码的一部分：

```
class Player(QMainWindow):

    def __init__(self, fileLoc, parent = None):
        super(QMainWindow, self).__init__()
        self.totTime = 0
        self.audioOutput = Phonon.AudioOutput(Phonon.MusicCategory, self)
        self.mediaObject = Phonon.MediaObject(self)

        self.mediaObject.setTickInterval(1000)

        self.mediaObject.tick.connect(self.tick)
        self.mediaObject.stateChanged.connect(self.stateChanged)

        Phonon.createPath(self.mediaObject, self.audioOutput)

        #Define Play, Pause and Stop actions
        self.playAction = QAction(self.style().standardIcon(QStyle.SP_MediaPlay),
                            "Play", self, enabled = False, triggered = self.mediaObject.play)

        self.pauseAction = QAction(self.style().standardIcon(QStyle.SP_MediaPause),
                            "Pause", self, enabled = False, triggered = self.mediaObject.pause)

        self.stopAction = QAction(self.style().standardIcon(QStyle.SP_MediaStop),
                            "Stop", self, enabled = False, triggered = self.mediaObject.stop)

        #Initiate User Interface
        self.userInterface()
        self.timeDisp.display('00:00')

        self.mediaObject.setCurrentSource(Phonon.MediaSource(fileLoc))
        self.mediaObject.play()

    def tick(self, time):
        self.displayTime = QTime(0, (time / 60000) % 60, (time / 1000) % 60)
        self.timeDisp.display(self.displayTime.toString('mm:ss')) 
```

我的问题是，我无法弄清楚如何获取当前正在播放的文件的总持续时间。我尝试在**init** () 的末尾打印 mediObject.totalTime() 的输出。但它为所有视频返回 -1。tick() 内的 mediObject.totalTime() 返回不正确的持续时间（比实际持续时间长 10 - 15 秒）。

此外，我可能必须从课外访问总持续时间的值。我怎样才能做到这一点？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-10T18:26:15.693

您可以将`pause`、`play`和`stop`操作与其他功能连接起来：

在课堂上`__init__`：

```
self.total_time = 0
self.playing = 假
self.play_action = QAction(self.style().standardIcon((QStyle.SP_MediaPlay),"play",self)
self.play_action.triggered.connect(self.play_triggered_event)

```

并以类似的方式定义其余的动作，将每个动作`connect`的`triggered`字段设置`QAction`为函数

```
def play_triggered_event(self):
    if not self.playing:
        self.mediaObject.play
        self.playing = True
        self.start_time = time.clock()

def pause_triggered_event(self):
    if self.playing:
        self.mediaObject.pause
        self.playing = False
        self.total_time += (time.clock() - self.start_time)

def stop_triggered_event(self):
    if self.playing:
       self.mediaObject.stop
       self.playing = False
       print "Total time elapsed: " + str(self.total_time) 
```

基本上，它是在触发影响已用时间的操作时保存一些程序状态。

要获取类外的总时间，请为类编写一个访问器：

```
def get_total_time(self):
    return self.total_time 
```

# java - Apache CXF 生成数字而不是字符串

> ID：10895982
> 
> 赞同：3
> 
> 时间：2012-06-05T10:51:49.707
> 
> 标签：java, cxf, jax-rs

如果一个字符串看起来像一个数字，例如。111 CXF 不将其作为字符串返回，而是作为数字返回。

```
<bean id="jsonProvider" class="org.apache.cxf.jaxrs.provider.json.JSONProvider">
    <property name="serializeAsArray" value="true" />
    <property name="arrayKeys" ref="jsonKeys" />
</bean> 
```

如您所见，我使用 JSON 提供程序。我如何强制它提供正确的 JSON 字符串？

```
{object:{"name":"111"}} instead of {object:{"name":111}} 
```

提前致谢...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-11T11:32:53.910

您可以将 SimpleConverter 添加到您的 JSONProvider 中，这样它就不会将字符串转换为数字。默认情况下，它使用 DefaultConverter。但请确保相关 bean 作为字段的类型字符串。

```
<bean id="simpleConverter" class="org.codehaus.jettison.mapped.SimpleConverter"/>

<bean id="jsonProvider" class="org.apache.cxf.jaxrs.provider.JSONProvider">
    <property name="typeConverter" ref="simpleConverter"/>
</bean> 
```

[您可以在 Jettison http://jira.codehaus.org/browse/JETTISON-61](http://jira.codehaus.org/browse/JETTISON-61) [http://jira.codehaus.org/browse/JETTISON-36](http://jira.codehaus.org/browse/JETTISON-36)中找到有关此缺陷的更多信息

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-07T14:35:02.063

**编辑：** 这似乎是 Jettison 中的一个错误。org.apache.cxf.jaxrs.provider.json.JSONProvider 使用了导致此问题的 Jettison。如果您使用[Jackson provider](http://cxf.apache.org/docs/jax-rs-data-bindings.html#JAX-RSDataBindings-Jackson)，则此问题不再存在。

将以下内容添加到 jaxrs:server 下的 beans.xml。

```
 <jaxrs:providers>
                <ref bean="jacksonProvider" />
        </jaxrs:providers> 
```

.

并且，以下直接作为root的孩子。

```
<bean id="jacksonProvider" class="org.codehaus.jackson.jaxrs.JacksonJsonProvider">

</bean> 
```

* * *

根据[JSON Specification](https://www.rfc-editor.org/rfc/rfc4627)，数字可以作为值。它的摘录说，

> 2.1。价值观
> 
> JSON 值必须是对象、数组、**数字**或字符串，或以下三个文字名称之一：
> 
> ```
>  false null true 
> ```

这是规范中提到的一个示例。

```
 {
      "Image": {
          "Width":  800,
          "Height": 600,
          "Title":  "View from 15th Floor",
          "Thumbnail": {
              "Url":    "http://www.example.com/image/481989943",
              "Height": 125,
              "Width":  "100"
          },
          "IDs": [116, 943, 234, 38793]
        }
   } 
```

如果你真的想要一个字符串，那么你可能会查看你的资源类和相关的 bean 类以确保字段类型是正确的！

# java - Android java插件调用方法返回零

> ID：10895985
> 
> 赞同：0
> 
> 时间：2012-06-05T10:51:57.507
> 
> 标签：java, android, unity3d

我正在使用android java插件来统一调用我的java函数，如下所示：

```
static IntPtr cls_Activity;
static IntPtr fid_Activity;
static IntPtr obj_Activity;
static IntPtr kdataActivityClass;
static IntPtr startAdsMethod;

    void Start () {
        cls_Activity = AndroidJNI.FindClass("com/unity3d/player/UnityPlayer");
        fid_Activity = AndroidJNI.GetStaticFieldID(cls_Activity, "currentActivity", "Landroid/app/Activity;");
        obj_Activity = AndroidJNI.GetStaticObjectField(cls_Activity, fid_Activity);
        kdataActivityClass = AndroidJNI.FindClass("com/kdata/unitytest/UnityUrlPlugin");
        startAdsMethod = AndroidJNI.GetMethodID(PakdataActivityClass, "getURL","()V");
        Debug.Log("obj_Activity"+obj_Activity);     
        Debug.Log("kdataActivityClass"+kdataActivityClass);     
        Debug.Log("Method"+startAdsMethod);     
            if (AndroidJNI.IsInstanceOf(obj_Activity, kdataActivityClass) != false)
            {                 
               jvalue[] myArray = new jvalue[1];
               AndroidJNI.CallStaticStringMethod(obj_Activity, startAdsMethod, myArray);
            } 
```

问题是我正在访问该类，但该类的方法返回 null

`Debug.Log("obj_Activity"+obj_Activity);`=>retuns value `Debug.Log("kdataActivityClass"+kdataActivityClass);`=>returns =>value
`Debug.Log("Method"+startAdsMethod);`=>retunns null <=== 这是这个方法的问题

应该返回一个硬编码的字符串，但它不能统一工作。

高度赞赏帮助。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:39:19.057

使用 javap 检查 getURL 方法 jni 签名（您是否将相同的内容放入第三个参数？）：

```
cd <pathToUnityUrlPluginClass>

javap -p -s <UnityUrlPlugin> 
```

# layout - Andengine 下的 WebView

> ID：10895986
> 
> 赞同：0
> 
> 时间：2012-06-05T10:52:00.987
> 
> 标签：layout, view, webview, andengine

我正在尝试将使用 AndEngine 制作的游戏手柄放在将成为 ipCamera 视图的 WebView 上。我能怎么做？我对此进行了很多搜索，但仍然没有找到解决方案。非常感谢大家

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:41:44.363

你没有提到你使用的是什么版本的 AndEngine 。

如果您使用 GLES2（相同的技术可能适用于 GLES1 分支，但我尚未验证），请查看 AndEngine TextBreakExample。

该示例展示了如何将 org.andengine.opengl.view.RenderSurfaceView 与其他布局（如 LinearLayout）结合使用。“其他布局”可以包含任何内容 - 此示例使用 EditText，但您应该能够使用相同技术使用 WebView。

请务必检查 res/layout/textbreakexample.xml 文件。还要注意 TextBreakExample.java 文件中的这些额外方法

```
@Override
protected int getLayoutID() {
    return R.layout.textbreakexample;
}

@Override
protected int getRenderSurfaceViewID() {
    return R.id.textbreakexample_rendersurfaceview;
} 
```

[https://github.com/nicolasgramlich/AndEngineExamples/blob/GLES2/src/org/andengine/examples/TextBreakExample.java](https://github.com/nicolasgramlich/AndEngineExamples/blob/GLES2/src/org/andengine/examples/TextBreakExample.java)

[https://github.com/nicolasgramlich/AndEngineExamples/blob/GLES2/res/layout/textbreakexample.xml](https://github.com/nicolasgramlich/AndEngineExamples/blob/GLES2/res/layout/textbreakexample.xml)

也可以查看这个布局文件 [https://github.com/nicolasgramlich/AndEngineExamples/blob/GLES2/res/layout/xmllayoutexample.xml](https://github.com/nicolasgramlich/AndEngineExamples/blob/GLES2/res/layout/xmllayoutexample.xml)

# java - Android java源码解释

> ID：10895988
> 
> 赞同：-1
> 
> 时间：2012-06-05T10:52:05.637
> 
> 标签：java, android

```
txtFar.setText(result.getProperty(0).toString()); 
```

一般来说
，谁能告诉我上面的行在说什么。
离开对象 txtFar & 结果。

任何的想法？

感谢您宝贵的时间！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-05T10:54:10.343

它正在获取**result 的第 0 个属性，**并通过将属性转换为**String**将其设置为**txtFar**。

 **你期待别的东西吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-05T11:02:40.740

此行的 OP 可以解释为：

```
txtFar variable which is a text field is set to 0th property of result by converting into String. 
```

基本上，这个文本字段被分配了一个字符串值。**

# ios - 通过点击滚动视图进行缩放

> ID：10895992
> 
> 赞同：0
> 
> 时间：2012-06-05T10:52:35.267
> 
> 标签：ios, uiscrollview, uiimageview, zooming

我正在尝试重新制作（大部分）由苹果提供的相同示例示例，称为**tapToZoom**。

不同之处在于我使用的是故事板而不是经典的 nib 文件，如示例所示，我在 scrollView 内设置了一个图像。

问题是缩放不起作用，例如：

```
//set the initial zoom scale
 float minimumScale = [myScroll frame].size.width  / [myImage frame].size.width;

NSLog(@"%f",minimumScale);

[myScroll setMinimumZoomScale:minimumScale];
[myScroll setZoomScale:minimumScale];

NSLog()@"%f",[myScroll zoomScale]; 
```

日志返回`0.6`第一个和`1.0`第二个应该是的`0.6`。以前有人遇到过这个问题吗？

[编辑]：前几行进入我的 viewDidLoad 方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T11:51:23.147

我认为你应该实施

```
- (UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView; 
```

试试这个委托方法。

# file - 以zend形式上传图片

> ID：10895999
> 
> 赞同：-3
> 
> 时间：2012-06-05T10:53:06.040
> 
> 标签：file, zend-framework, upload

我无法以 zend 形式上传图像，也无法将图像保存在数据库中。请帮助我并转发代码

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-17T14:33:31.683

```
public function getLogoForm()
{
    //Create Form
    $form = new Zend_Form();
    $form->setAction('logoupdate');
    $form->setMethod('post');
    $form->setAttrib('enctype', 'multipart/form-data');
    $form->setAttrib('sitename', 'hostname');

    $logo = new Zend_Form_Element_File('logo');
    $logo->setDecorators(array('File',
            array(array('data'=>'HtmlTag'), array('tag' => 'td')),
            array('Label', array('tag' => 'td')),
            array(array('row'=>'HtmlTag'),array('tag'=>'tr'))
    ));
    $logo->setLabel('Logo (png) ');
    $logo->setRequired(true);
    $logo->setDestination('includes/images/logo/');
    $logo->addValidator('Count', false, 1);
    $logo->addValidator('Extension', false, 'png');

    $form->addElement($logo);

    //Create a submit button.
    $form->addElement('submit', 'submit');
    $submitElement = $form->getElement('submit');
    $submitElement->setAttrib('class',"button");
    $submitElement->setDecorators(array('ViewHelper',
            'Description',
            'Errors', array(array('data'=>'HtmlTag'), array('tag' => 'td',
                'colspan'=>'2','align'=>'right')),
            array(array('row'=>'HtmlTag'),array('tag'=>'tr'))
    ));
    $submitElement->setLabel('Change Logo');

    $form->setDecorators(array('FormElements',
            array(array('data'=>'HtmlTag'),array('tag'=>'table')), 'Form'
    ));
    //Return the form
    return $form;
} 
```

Changelogo动作

```
$form = $this->getLogoForm();
$this->view->Lform = $Lform; 
```

logoupdate动作

```
$form = $this->getLogoForm();
if($form->isValid($_POST)){
    $form->logo->receive();
    $this->view->success = array('logo' => 'Logo has been changed');
} else {
    $this->view->errors = $form->getMessages();
    $this->view->form = $form;
    $this->render("changelogo");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T10:36:14.690

上传的一个常见问题是在表单标签内将 enctype 设置为 multipart/form-data 时。