# StackOverflow 问答 10478000-10478999

# c++ - VS 2011 模板类

> ID：10478003
> 
> 赞同：0
> 
> 时间：2012-05-07T07:02:59.123
> 
> 标签：c++, visual-studio, templates

我有一个相当标准的情况，我想通过以下方式使用模板类：

1.  定义一个 .h 文件
2.  让它包含 .cpp

在我尝试的所有其他编译器（即 g++ 和 clang/llvm）中，这都可以正常工作。在 Visual Studio 中，它告诉我该文件已被定义。

如果我手动将 .cpp 中的文本剪切并粘贴到 .h 文件中，那么一切正常。我的印象是这正是`#include`应该做的。

我的预感是，Visual Studio 以某种方式不止一次地编译 .cpp 文件（尽管我放置`#pragma once`在 .h 和 .cpp 文件上）。

发生了什么，如何让我的模板类在 VS 中运行？

代码如下：
**.h：**

```
#pragma once
template <class T>
class myVector
{
private:
    void grow();
public:
int size;
int index;
T** words;
void pushBack(T* data);
inline T* operator[](int);
myVector(void);
~myVector(void);
};

#include "myVector.cpp" 
```

**.cpp：**

```
#pragma once
#include "stdafx.h"
#include <cstdlib>
#include "myVector.h"
#include <iostream>
using namespace std;

template<class T>
myVector<T>::myVector(void)
{
    this->size = 2000;
    words = new T*[size];
    index=0;
}

template<class T>
void myVector<T>::pushBack(T* input)
{
    if(index<size)
    {
        words[index]=input;
    }
    else
    {
        grow();
        words[index]=input;
    }
    index++;
}

template<class T>
T* myVector<T>::operator[](int i)
{
    return words[i];
}

template<class T>
void myVector<T>::grow()
{
    //cout<<"I grew:"<<endl;
    size*=2;
    words = (T**)realloc(words,size*sizeof(T*));
}

template<class T>
myVector<T>::~myVector(void)
{
    delete[] words;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T07:13:40.607

在我看来，您的困惑源于不知道`#pragma once`翻译单元如何工作。

`#pragma once`，就像包含守卫一样，防止文件的内容（通常是标题）被多次拉入单个翻译单元。

如果您`#include <vector>`在多个实现文件中，内容将全部提取，但每个翻译单元仅提取一次。

所以你应该删除`#include "myVector.cpp"`, 因为MSVS会自动编译实现文件，这也是错误的。

请注意，模板定义必须是可见的，因此您需要将它们移动到`.h`文件中，就像您所做的那样，或者使用您当前的方法，将`.cpp`文件重命名为类似`.impl`或什`.h`至并包含它。

# java - 如何解释我的堆栈跟踪？

> ID：10478005
> 
> 赞同：0
> 
> 时间：2012-05-07T07:02:59.920
> 
> 标签：java, websphere, openjpa, load-time-weaving, compile-time-weaving

我使用 IBM RAD 8 并部署到 websphere，然后我得到了这个堆栈跟踪：

```
ERROR ArendeProcessLoginServlet:142 - Fel i ArendeProcessLoginServlet, performTask(): 
javax.ejb.EJBTransactionRolledbackException: nested exception is: javax.ejb.EJBException: See nested exception; nested exception is: <openjpa-2.1.1-SNAPSHOT-r422266:1141200 fatal user error> org.apache.openjpa.persistence.ArgumentException: The type "class se.prv.pandora.arendeprocess.entity.Anstalld" has not been enhanced.
javax.ejb.EJBException: See nested exception; nested exception is: <openjpa-2.1.1-SNAPSHOT-r422266:1141200 fatal user error> org.apache.openjpa.persistence.ArgumentException: The type "class se.prv.pandora.arendeprocess.entity.Anstalld" has not been enhanced.
<openjpa-2.1.1-SNAPSHOT-r422266:1141200 fatal user error> org.apache.openjpa.persistence.ArgumentException: The type "class se.prv.pandora.arendeprocess.entity.Anstalld" has not been enhanced.
    at org.apache.openjpa.meta.ClassMetaData 
```

这是什么意思？我应该采取哪些步骤来解决错误？

谢谢你的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T07:09:24.760

看起来您的模型类 'se.prv.pandora.ar​​endeprocess.entity.Anstalld' 没有得到增强。请参阅[此](http://openjpa.apache.org/enhancement-with-ant.html)链接，了解如何在 openjpa 中增强模型类，然后您的应用程序才能使用它们。

# iphone - 即使输入为空，如何运行 SQLite 查询

> ID：10478006
> 
> 赞同：0
> 
> 时间：2012-05-07T07:03:06.053
> 
> 标签：iphone, ipad, sqlite

我正在做一个 iPad 项目，UI 中有 3 个表。如果我在每个表中选择行。Sqlite 查询将从表中获取值并运行查询。请在下面找到我的查询。

```
NSString * str3=tableFou.string4;
    NSString * str4=tableFiv.string5;
    NSString * str2=tablethr.string3;

    sqlite3 *database;
    favorite=[[NSMutableArray alloc]init];
    if(sqlite3_open([databasePath UTF8String], &database)== SQLITE_OK){
        NSString *sql=[NSString stringWithFormat:@"Create view prizeview as SELECT country.name,item_country.id,text.text,substr(text,1,2) FROM country,item_country,prize,item_prize,gender,item_gender,text WHERE country.name = '%@' AND text.item = item_country.item AND country.id = item_country.id AND prize.name = '%@' and text.item=item_prize.item and prize.id = item_prize.id and gender.name = '%@' and text.item=item_gender.item and gender.id = item_gender.id ",str3,str4,str2];
        const char *sqlStatement = [sql UTF8String];; 
```

问题是，如果我只选择所有表，则查询正在运行。但如果我选择一个表，我想要结果。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:36:19.073

除非该字段实际上是空的，否则您无法搜索空字段。前任 如果你搜索

select * from mytable where username = "";

你不会找到它，但如果你对字段为空或任何结果没问题，你必须使用 like 而不是 =

select * from mytable where username like "%";

或者更好的是，您可以像这样创建查询，假设您要搜索三个字段，用户名、名字和姓氏。下面的代码需要更多的 if 和 buts，但您应该能够完成这项工作，并且只有在满足要求时才将参数添加到 where。

```
NSMutableString *query = [[NSMutableString alloc] init];
[query appendString:@"select * from table where "];
if (username.text.lenghth >1) [query appendString:[NSString stringWithFormat:@"username = '%@'"]];
if (firstname.text.length >1) [query appendString:[NSString stringWithFormat:@"&& firstname = '%@'"]];
if (lastname.text.length >1) [query appendString:[NSString stringWithFormat:@"&& lastname = '%@'"]]; 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:15:32.063

尝试使用 if 条件使用 and 条件并将所有 str 传递给 if 条件。

像这样使用你的 if 条件。

```
if(([propertyTypeLabel.text length]==0) || ([cityLabel.text length]==0 ) ||( [locationLabel.text length]==0 )|| ([priceLabel.text length] ==0)||([postedLabel.text length]==0)) 
```

在这种情况下，任何文本都是零条件，如果表格单元格的蚂蚁点击您的查询运行，您也可以使用。

# xml - 使用 xsd 创建 xml

> ID：10478009
> 
> 赞同：0
> 
> 时间：2012-05-07T07:03:14.443
> 
> 标签：xml, xsd

我正在使用 xsd 创建一个 xml 文档。创建xml时，编码值为

```
<?xml version="1.0" encoding="WINDOWS-1252"?> 
```

我需要的是

```
<?xml version="1.0" encoding="utf-8"?> 
```

这是我的xsd。

```
<xs:element name="shiporder">
    <xs:complexType>
        <xs:sequence>
            <xs:element name="orderperson" type="xs:string" />
            <xs:element name="shipto">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="name" type="xs:string" />
                        <xs:element name="address" type="xs:string" />
                        <xs:element name="city" type="xs:string" />
                        <xs:element name="country" type="xs:string" />
                    </xs:sequence>
                </xs:complexType>
            </xs:element>
            <xs:element name="item" maxOccurs="unbounded">
                <xs:complexType>
                    <xs:sequence>
                        <xs:element name="title" type="xs:string" />
                        <xs:element name="note" type="xs:string" minOccurs="0" />
                        <xs:element name="quantity" type="xs:positiveInteger" />
                        <xs:element name="price" type="xs:decimal" />
                    </xs:sequence>
                </xs:complexType>
            </xs:element>
        </xs:sequence>
        <xs:attribute name="orderid" type="xs:string" use="required" />
    </xs:complexType>
</xs:element> 
```

任何人都可以让我知道为什么会这样。

# birt - 在 BIRT 报告中定义书签，以便在 pdf 输出中显示

> ID：10478014
> 
> 赞同：6
> 
> 时间：2012-05-07T07:03:26.410
> 
> 标签：birt

我正在创建一个从 SQL 获取数据的 BIRT 报告。报告中有 4 个不同的查询，它们在报告中的 4 个不同表中提供输出。我已经为每个表添加了标题（标题）（使用插入文本功能/标签功能）。我的要求是在 pdf 输出中运行该报告时将它们（标题）包含在书签中。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-08T12:25:13.353

您可以使用 BIRT 中的目录功能指定 PDF 书签。

最简单的方法是在布局选项卡中依次选择每个表格对象，然后在表格的*属性编辑器的**属性*选项卡*的目录*部分中，在双引号 ( )内输入所需的书签文本/标题.**`"`**

 **以 PDF 格式保存并运行报告，指定的 TOC 条目标题应显示为书签。**

# regex - URL的htaccess RedirectMatch正则表达式？

> ID：10478015
> 
> 赞同：0
> 
> 时间：2012-05-07T07:03:28.473
> 
> 标签：regex, .htaccess, url, mod-rewrite

在我的 Wordpress 博客上，我曾经有一个不再需要的插件。该插件用于创建一堆如下所示的 URL：

`http://tambnguyen.com/manage-subscriptions?srp=532&sra=s`

postID 为 532。如何重定向查询字符串，以便将上述 URL 重定向到：

`http://tambnguyen.com/?p=532`

我尝试了一些方法但没有任何运气（“管理订阅”之后有一个可选的“/”

```
<IfModule mod_rewrite.c>
    RedirectMatch 301 ^/manage-subscriptions/?\?srp=(\d{1,5})(.*)$ http://tambnguyen.com/\?p=$1
</IfModule> 
```

请帮忙。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T13:42:59.077

通过启用 mod_rewrite 和 .htaccess `httpd.conf`，然后将此代码放在您`.htaccess`的`DOCUMENT_ROOT`目录下：

```
Options +FollowSymLinks -MultiViews
# Turn mod_rewrite on
RewriteEngine On
RewriteBase /

RewriteCond %{QUERY_STRING} ^srp=([^&]+) [NC]
RewriteRule ^manage-subscriptions/?$ /?p=%1 [L,R=301,NC] 
```

# c# - c# 中的调查枚举

> ID：10478016
> 
> 赞同：0
> 
> 时间：2012-05-07T07:03:32.477
> 
> 标签：c#, enums

```
public enum RoleType
{
    Supervisor,
    Administrator,
    User,
    UserPhone,
    Operator
} 
```

我的项目中有一个枚举，我将把一个变量与这些枚举项进行比较！

如何将变量与这些项目进行比较？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T07:36:39.750

或使用 switch 语句：

```
 switch(item)
        {
            case RoleType.Supervisor:
                break;
            case RoleType.Administrator:
                break;
            case RoleType.User:
                break;
            case RoleType.UserPhone:
                break;
            case RoleType.Operator:
                break;
            default:
                throw new ArgumentOutOfRangeException();
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:20:29.043

例如：

```
if(item == RoleType.Supervisor)
{
}
else if(item == RoleType.Administrator)
{
}
else
{
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T07:44:40.820

我想我明白你在问什么。您正在寻找一种遍历枚举值的方法。您可以使用返回枚举值的 int 表示形式的 Enum.GetValues() 来执行此操作。

```
foreach (int i in Enum.GetValues(typeof(RoleType)))
{
    //you can get the enum by casting the int to the enum type
    RoleType rtEnum = (RoleType)i;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-07T07:44:42.803

如果值不是互斥的（即一个用户可以担任多个角色），您可以使用`Flags`属性装饰枚举并使用运算符或`HasFlag()`方法对其执行按位运算。

```
[Flags]
public enum RoleType
{
    Supervisor = 1,
    Administrator = 2,
    User = 4,
    UserPhone = 8,
    Operator = 16
}

// assume there is a user class with a collection of roles which have role types
var roles = (RoleType)user.Roles.Sum( o => o.RoleType );
if( roles.HasFlag( RoleType.User ) ){
    // do something
} 
```

# sql-server - 为 SSRS 复制数据库的最佳方法是什么

> ID：10478017
> 
> 赞同：8
> 
> 时间：2012-05-07T07:03:42.523
> 
> 标签：sql-server, sql-server-2008-r2, replication

我在一个实例中安装了 SQL 服务器数据库（主服务器），在其他实例中安装了 RerportServer 的 SQL 服务器数据库。将数据从 mainServer 复制到报告服务器的最佳方法是什么？*mainServer*中的数据变化频繁，ReportSever 中的实际信息非常重要。

有很多方法可以做到这一点：

*   镜像
*   运输日志
*   事务复制
*   合并复制
*   快照复制

有没有一些关于这个的最佳实践？谢谢

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-07T09:57:00.897

您的案例需要**事务复制**。这就是您不需要其他 4 种情况的原因：

## 镜像

*   这通常用于提高数据库服务器的可用性，并在发生灾难时提供自动故障转移。
*   通常即使您拥有多个数据库副本（建议位于不同的服务器实例上），但一次只有一个处于活动状态，称为主体服务器。
*   此服务器实例上的每个操作都会连续（尽快）镜像到其他实例上，因此这不适合您的用例。

## 日志运输

*   在这种情况下，除了生产数据库服务器之外，您还有额外的故障转移服务器，以便生产服务器的数据库、差异和事务日志的备份会自动传送（复制）到故障转移并恢复。
*   这里的复制相对安排在比其他机制更长的时间间隔，通常从一个小时到几个小时不等。
*   这还允许在生产站点发生灾难时手动准备故障转移服务器。
*   这也不适合您的用例。

## 合并复制

*   这与其他之间的主要区别在于，复制的数据库实例可以与不同的客户端应用程序进行通信，而无需对彼此进行更改。
*   例如，北美的数据库服务器由美洲和欧洲的客户更新，而澳大利亚的另一台数据库服务器由亚太地区的客户更新，然后将更改相互合并。
*   同样，它不适合您的用例。

## 快照复制

*   发布数据库的整个快照以复制到辅助数据库（与仅发送用于复制的日志文件不同。）
*   然而，最初，对于每种类型的复制，都会生成一个快照来初始化订阅数据库，即仅一次。

为什么要使用***事务复制***？

*   *您可以选择要连续*复制的对象（表、视图等），因此如果只有一部分表用于报告，则可以节省大量带宽。**这在镜像**和**日志传送**中是不可能的。
*   您可以将流量从您的应用程序重定向到报告服务器以进行所有*读取*和*报告*（顺便说一句，您也可以在其他人中这样做）。
*   您可以让独立的批处理作业生成一些在报告服务器上运行的更常用的报告，从而减少主服务器上的负载，如果它有相当频繁的插入、更新或删除。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-05-07T09:25:29.273

从上到下浏览您的列表。

1.  **镜像**：如果您将数据从主服务器镜像到您的报告服务器，您将**无法**访问您的报告服务器。*镜像将镜像数据库置于连续恢复状态*。镜像是一种高可用性解决方案。在您的情况下，reportServer 只有在您进行故障转移时才可用于查询。镜像服务器在故障转移之前永远不会运行。这不是您想要的，因为在 reportServer 运行之前您无法使用它。

2.  **日志**传送：日志传送将允许您将计划事件的事务日志备份应用到报告服务器。如果您每 15 分钟备份一次事务日志并将数据应用到 reportServer，您的主服务器和日志服务器之间将有 15 分钟以上的延迟。镜像实际上是实时日志传送。根据您设置日志传送的方式，您的客户端将不得不在数据库忙于恢复日志文件时断开连接。因此，在长时间恢复期间，可能无法使用报告。日志传送也是一种高可用性功能，对报告没有真正的用处。有关在尝试恢复时尝试访问数据库的说明，请参阅此链接[http://social.msdn.microsoft.com/forums/en-US/sqldisasterrecovery/thread/c6931747-9dcb-41f6-bdf4-ae0f4569fda7](http://social.msdn.microsoft.com/forums/en-US/sqldisasterrecovery/thread/c6931747-9dcb-41f6-bdf4-ae0f4569fda7)

3.  **复制**: 我在这里把所有的复制集中在一起。复制，尤其是事务复制可以帮助您扩展您的报告需求。它通常更容易实现，而且您可以一直报告数据，而在镜像中您无法报告事务日志传送中的数据，您将有差距。因此，在您的情况下，复制更有意义。如果您的报告可以说是一天前的，快照复制将很有用。您可以每天早上从 mainServer 制作所需数据的快照，并将其发布到订阅者 reportServer。但是，如果数据库非常大，那么每天处理快照都会有问题。合并复制仅在您想要更新复制的数据时才有用。在您的情况下，您希望拥有要报告的数据的只读副本，因此合并复制将无济于事。事务复制将允许您通过网络发送复制。在您需要经常更新报告服务器中的信息的情况下，这将非常有用。我可能会为你推荐这条路线。

请记住，通过实施复制/镜像/日志传送，您正在创建更多的维护工作。复制 CAN 失败。镜像也可以，事务日志传送也可以。您将需要监控这些解决方案以确保它们顺利运行。所以问题是您是否真的需要将报告扩展到另一台服务器，或者可能花时间确定为什么不能在生产服务器上报告？

希望有帮助！

# java - Android 在内部与外部导入库的好处

> ID：10478018
> 
> 赞同：18
> 
> 时间：2012-05-07T07:03:45.787
> 
> 标签：java, android, eclipse, adt

在 ADT 17 之后，非 Android 库需要包含在项目的“libs”文件夹中，或者通过构建路径中的“Order and Export”选项卡导出。**从外部**导入库有什么区别（如果有的话）：

![外部1](../Images/7c78fd5a61696194c20513a299fecdb1.png)

![外部2](../Images/7b0b3cbf48133ff199c9c5b19f3cc762.png)

在**内部**：

![内部2](../Images/48cb2cacdeae6f25e42ad9f4604c8aa5.png)

![内部1](../Images/21c0ab96fecc8a37e0eb767822ad711d.png)

以将库包含在“Android Dependencies”组中的方式导入库是否有优势？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-20T04:03:09.527

如何将外部 jar 依赖项添加到 Android 项目的构建路径（内部或外部）对实际构建过程没有影响（更具体地说是在 compile 和 dex 步骤），它所做的只是告诉构建过程在哪里寻找所需的编译和 dex 步骤中的 jars。

窗口中显示的`Android Dependencies`元素`Java Build Path - Libraries`只是 ADT 插件用于管理/分组 jar 依赖项的另一个抽象层。您的外部 jar 文件（在您的情况下为 android-support-v4.jar）`Android Dependencies`在该窗口中出现（内部或外部）的位置没有区别。

从r17开始，依赖管理有了很大的改进，推荐使用libs/目录存储所有jar依赖（参考你内部的方式），这被认为是一种自动化的方式（现在ADT插件变得更智能了），见[Revisions对于 ADT 17.0.0](http://developer.android.com/sdk/eclipse-adt.html)：

> 新的构建功能
> 
> *   添加了自动设置 JAR 依赖项的功能。/libs 文件夹中的任何 .jar 文件都将添加到构建配置中（类似于 Ant 构建系统的工作方式）。此外，库项目所需的 .jar 文件也会自动添加到依赖于这些库项目的项目中。（更多信息）

但是，如果您愿意，您仍然可以使用旧方法（请参阅外部方法），这被认为是一种手动方法（因为 ADT 插件以前很愚蠢），请参阅[r17 版本的最新更改](http://tools.android.com/recent/dealingwithdependenciesinandroidprojects)：

> 重要提示：如果您仍然手动引用 jar 库而不是将它们放在 libs/ 下，请注意以下几点：
> 
> *   如果项目是库项目，这些 jar 库将不会自动对应用程序项目可见。你真的应该把这些移到 libs/
>     
>     
> *   如果项目是应用程序，这可以工作，但您必须确保将 jar 文件标记为已导出。

### 以将库包含在“Android Dependencies”组中的方式导入库是否有优势？

从依赖管理的角度来看，自动化与手动，在计算机科学领域，自动化总是被认为比手动更无错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-20T14:43:56.910

第一个，显示停止，'我不敢相信他们没有测试这个'，将外部 jar 放在 libs 目录中的缺点是你不能为它们设置 javadocs 位置，因为选项显示为'无（不可修改）'。

因此我仍然在构建属性中使用导出选项

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-07T08:19:01.963

它与Android的库依赖管理有关。有关详细信息，请参阅[http://tools.android.com/recent/dealingwithdependenciesinandroidprojects](http://tools.android.com/recent/dealingwithdependenciesinandroidprojects)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-20T23:52:36.313

来自[Eclipse 常见问题解答](http://help.eclipse.org/helios/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-jdt-faq.htm)

> 内部资源驻留在工作台中的某个项目中，因此由工作台管理；与其他资源一样，这些资源可以由工作台进行版本管理。外部资源不是工作台的一部分，只能通过引用来使用。例如，JRE 通常是外部的并且非常大，不需要将它与 VCM 系统相关联。

因此，很简单，如果您希望能够将 JAR 作为项目的一部分进行管理，将其公开给 SCM 等，然后将其视为内部资源，否则将其视为外部资源。它不会对最终产生的APK产生任何影响，它只是一个eclipse的东西。

如果您想避免每次使用库时都创建副本，请将其视为外部资源。但是，我可以建议你看看[maven](http://maven.apache.org/)和[android maven 插件](http://code.google.com/p/maven-android-plugin/)吗，maven 有一点学习曲线（特别是如果你习惯于“制作”或“蚂蚁”风格的构建脚本），但这是非常值得的努力.

# c# - 如何创建像这样的`f（a + k * h）`的C#委托双重可调用？

> ID：10478019
> 
> 赞同：1
> 
> 时间：2012-05-07T07:03:46.303
> 
> 标签：c#, .net, .net-4.0, delegates, function-pointers

我创建了一个`public delegate double DynamicFunc(double x);`

现在我尝试创建它的一个实例以稍后传递给组件

```
 private DynamicFunc f(double x)
    {
        return (return_ => x);
    } 
```

但是当我做这样的事情时：

```
double value = 2 * f(50); 
```

我得到：错误运算符'*'不能应用于'double'和'DynamicFunc'类型的操作数；

为什么 - 我的代理有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T07:09:29.597

使用任何类型的参数调用函数 f 会返回一个动态函数，而不是您可以在数学表达式中使用的值。

```
private DynamicFunc f(double x)
{
    return (return_ => x);
}

double value = 2 * f(50)(); 
```

但是，您是否考虑过这种替代方案？这样你就不需要委托了：

```
private Func<double> f(double x)
{
    return (() => return x;);
}

double value = 2 * f(50)(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T07:09:39.953

尝试现有的 Func 委托：

```
Func<double, double> f = new Func<double, double>(x => x);
double value = 2 * f(50); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-07T07:09:23.803

The `f` function returns a delegate (`DynamicFunc`). You need to invoke this delegate by passing it a double argument in order to get the result:

```
double value = 2 * f(50)(20); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-07T07:12:38.683

因为 f() 被声明为返回一个委托而不是一个双精度。

你应该这样声明 f ：

```
private double f(double x)
{
    return (return_ => x);
} 
```

然后在通话中：

```
private double SomeFunc(DyanmicFunc func)
{
    return 2 * func(50);
} 
```

并调用它：

```
double result = SomeFunc(f); 
```

# php - Ajax 请求多个数据信息

> ID：10478020
> 
> 赞同：0
> 
> 时间：2012-05-07T07:03:49.550
> 
> 标签：php, jquery, ajax, post

我对这个脚本很着迷，我试图通过当有人点击一个按钮然后使用 ajax 从另一个 URL 获取数据然后用获取的数据填充表单输入来解决这个问题，任何人都可以帮助我的代码看起来像这个：

```
 $(document).ready(function()
            {
            $("#getmetaData").click(function(){

            var element = $(this);

            var url = $("#url").val();
            var dataString = 'url='+ url ;
            //alert(dataString); 
            if(url=='http://')
            {
            alert("Please Enter URL to fetch Meta Data");
            }
            else
            {
            $("#flash").show();
            $("#flash").fadeIn(400).html('<img src="images/loader.gif" >');

            $.ajax({
            type: "POST",
            url: "fetch-metadata.php",
            data: dataString,
            cache: false,
            success: function(data){

            $("#title").val(data);
            $("#description").val(data);
            $("#keywords").val(data);
            $("#flash").hide();

            }
            });

            }
            return false;});}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:08:57.157

如果你没有看到错误，我猜是这种情况，这意味着你的请求失败了。由于您没有任何`error`功能，因此当您的请求失败时，您的 jQuery 代码将什么也不做。

将这样的内容添加到您的`$.ajax`对象参数中：

```
error: function(jqXHR, textStatus, errorThrown) {
  // now you can set a breakpoint or log textstatus/errorThrown
}, 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:19:37.243

根据 HackedByChinese 的回答，我会添加一个错误回调函数。

此外，在您的成功回调函数中，您只是使用“数据”变量而不用它做任何事情。根据“fetch-metadata.php”的响应格式，我认为您需要先做一些事情。它是 XML，在这种情况下您需要解析它。如果它的 json 你可以使用对象点符号来引用它的属性。

最后，我会使用 Firebug 之类的东西来查看这个 Ajax 请求的请求和响应，以确保它正在被处理并且没有返回 404 或 500。假设它返回一个有效的响应，使用 Firebug 你可以查看响应查看返回给您的 js 的原始数据。

希望这可以帮助

# php - 将带有 XML 数据的 stdClass 对象转换为 PHP 中的数组

> ID：10478024
> 
> 赞同：3
> 
> 时间：2012-05-07T07:04:13.253
> 
> 标签：php, xml, arrays, type-conversion

给定这个对象：

```
stdClass Object (
    [customerdata] => <TPSession userid="22" CustomerId="123456"LoginId="123456"/><TPSession userid="26" CustomerId="1234567"LoginId="1234567" />
) 
```

如何使用 PHP 将此 XML 数据转换为数组？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-07T08:26:14.113

只需将其转换为数组：

```
$arr = (array) $obj; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-26T16:49:15.273

问题中的 XML 数据无效。

1.  它没有根元素
2.  CustomerId="1234567"LoginId="1234567" 打破 xml 解析

您需要将其包装到根元素中，解决属性问题，而不是使用简单的 xml 解析器来生成可以转换为数组的对象。

例子

```
$o = new stdClass ();
$o->customerdata = '<TPSession userid="22" CustomerId="123456"LoginId="123456" /><TPSession userid="26" CustomerId="1234567"LoginId="1234567" />';
function wrap($xml) {
    return sprintf ( '<x>%s</x>', $xml );
}
function fix($xml) {
    return str_ireplace ( '"LoginId', "\" LoginId", $xml );
}

$xml = wrap ( fix ( $o->customerdata ) );
$sx = new SimpleXMLElement ( $xml );
$sx = ( array ) $sx;
$sx = $sx ['TPSession'];
foreach ( $sx as $row ) {
    var_dump ( ( array ) $row );
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-19T09:23:16.177

如果我了解您想要将包含在对象元素中的字符串转换为数组，换句话说，将 xml 字符串转换为数组。

这就是你要找的...

[http://php.net/manual/en/function.simplexml-load-string.php](http://php.net/manual/en/function.simplexml-load-string.php)

按照此页面上的示例进行操作。

# mysql - 如何保留多个 MySQL 实例

> ID：10478025
> 
> 赞同：0
> 
> 时间：2012-05-07T07:04:36.377
> 
> 标签：mysql, phpmyadmin, mysqli, xampp, mysql5

我已经为 Linux 安装了 xampp。它工作正常，我的 mysql 也工作正常。

我有另一个也使用 mysql 的应用程序，但如果我运行 Xampp，我需要停止 mysql 服务器。但是，以这种方式停止 mysql 服务器会停止其他应用程序并引发以下错误：

```
⇝ OperationalError: (OperationalError) (2002, "Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)") None None 
```

如何停止此错误并保持两个应用程序在同一个 Mysql 服务器上运行。两者都使用一个 mysql 服务器实例，但我需要停止一个才能运行另一个。

谁能帮我解决这个问题。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T07:17:06.080

我认为您需要更多的 mysql 服务器，可能是四个或五个（开玩笑的）。

首先，两个应用程序可以使用不同的数据库/用户名在同一台服务器上工作 => 你不需要两个 mysql 服务器。如果你需要，你就错了一步。

其次，您可能最好为您的 linux 发行版使用本机应用程序（即 mysql/apache/whatever-comes-with-xampp）。如果出于某种原因您必须坚持使用 xampp（我认为这不是真的），请不要使用本机 mysql/apache/etc。

# java-me - j2me 设备中的实时视频流

> ID：10478028
> 
> 赞同：0
> 
> 时间：2012-05-07T07:04:53.643
> 
> 标签：java-me, video-streaming

我在不支持 RTSP 流的设备上流式传输视频时遇到问题，所以我必须使用其他任何东西。请向我建议任何与此相关的好方法。

```
HttpConnection connection;
connection = (HttpConnection) Connector.open("http://myurl/video.3gp?streamable=true", Connector.READ_WRITE);
InputStream is = ((HttpConnection) connection).openInputStream();

player = Manager.createPlayer(is ,"video/3gpp");
//or below line in both cases it throw OutOfMemory error 
//player = Manager.createPlayer("myurl/video.3gp?streamable=true");

player.addPlayerListener(this);
player.realize();
player.prefetch();
player.start(); 
```

我`Progressive-Download= true`在 jad 文件中添加并在诺基亚 X3 上进行了测试。它抛出 OutOfMemory 错误。

# ios - 启动使用 Simperium 的应用程序时 objectFromJSONString 崩溃

> ID：10478030
> 
> 赞同：2
> 
> 时间：2012-05-07T07:05:04.743
> 
> 标签：ios, simperium

当我`JSON`尝试启动使用 Simperium 框架的应用程序时发生崩溃：

```
[__NSCFString objectFromJSONString]: unrecognized selector sent to instance 0x6c561a0 
```

它立即发生。我是否缺少外部依赖项？它看起来像一种`JSONKit`方法。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-07T07:10:24.850

Simperium 在内部使用 JSONKit。您需要添加`-ObjC`到您的其他链接器标志（在您的目标中的构建设置下找到）。

# c# - c#中datagridview中的新总和行

> ID：10478031
> 
> 赞同：-2
> 
> 时间：2012-05-07T07:05:10.203
> 
> 标签：c#, sql-server, c#-4.0

> **可能重复：**
> [C# 中列值的总和](https://stackoverflow.com/questions/10473940/sum-of-column-values-in-c-sharp)

我使用以下这些代码来查看新行中的求和结果。我有三列。(SportID) (SportName) (费用)​​。我想在费用列下的新行中显示费用总和。但它会遇到一个问题。请帮我解决它。任何帮助将不胜感激

```
 int sum = 0;

for (int i = 0; i < dt.Rows.Count - 1; i++)
{
    sum += int.Parse(dataGridView1.Rows[i].Cells["Fee"].Value.ToString());
}

DataSet ds = new DataSet();
adapter.Fill(ds);

DataRow row = ds.Tables["Entry"].NewRow();
row[0] = "";
row[1] = "";
row[2] = sum;
ds.Tables["Entry"].Rows.Add(row); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:11:46.053

我认为这条线应该是：

```
DataRow row = ds.Tables[0].NewRow();
-------
ds.Tables[0].Rows.Add(row); 
```

或添加这一行：

```
ds.Tables[0].TableName="Entry"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:11:56.457

您在以下行中遇到异常：

```
DataRow row = ds.Tables["Entry"].NewRow(); 
```

可能是因为您的 ds 没有任何表或表的名称不同。放置一个断点并在可视化调试器中查看数据集或尝试使用索引访问表

```
DataRow row = ds.Tables[0].NewRow(); //assuming you have table on 0 index 
```

您还可以检查

```
if(ds.Tables.Count > 0) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T07:12:45.347

我表明您的数据集中存在 表**条目？**

```
DataRow row = ds.Tables["Entry"].NewRow(); 
```

您可以通过检查数据集中是否存在表来避免异常

```
if(ds.Tables["Entry"] != null) 
```

您应该在访问之前添加名为**Entry的表。**如果您不知道名称，则可以使用索引访问该表。

```
DataRow row = ds.Tables[0].NewRow(); 
```

# android - Android Activity 之外的 Flurry Analytics

> ID：10478034
> 
> 赞同：1
> 
> 时间：2012-05-07T07:05:20.130
> 
> 标签：android, flurry

在当前项目中，我使用“帮助器”类进行 API 调用，它不会扩展 Activity。这个助手类是从一个活动中调用的，在这个活动中，Flurry 会话按照建议开始和停止。是否可以直接从这个助手类进行 Flurry 调用？我想说是的，因为 Flurry 会话已经作为当前活动的一部分开始了，但我不确定。

我宁愿在收到 API 调用的结果时立即记录 Flurry 标签，而不是在 Activity 中再次检查结果消息，这样我就不必重复某些逻辑。

这行得通吗？有更好的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T15:49:38.563

已编辑。见下文。

谢谢乔迪。我最终使用您的建议将 Activity 传递给辅助类构造函数，设置本地活动变量，并创建一个使用活动 var 记录 Flurry 标记的方法。

```
/**
 * Logs the Flurry tag using the act that was passed into the constructor
 */

// EDITED - DON'T USE THIS ANYMORE

private void logFlurryTag(String s) {

    FlurryAgent.onStartSession(act, "XXXXXXXXXXXXXXXXXXXXX");
    FlurryAgent.logEvent(s);
    FlurryAgent.onEndSession(act);
} 
```

我相信这应该可以正常工作，但我还没等到 Flurry 标签是否已经开始出现。

***********5-9-2012******* **********

 *****根据 spacemanaki 的建议，我决定重新编写逻辑，将 Flurry 事件记录在活动中，而不是辅助类中。这真的不是太多额外的工作，而且我已经验证了这些事件正在被报道。它也比以一种方法开始和停止乱舞会话更安全。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:38:49.980

您的助手类和/或使用的方法需要一个 Activity 参数，因此您可以将此 Activity 发送给 Flurry。IE

活动课：

```
 Helper helper = new Helper();
 helper.helping_method(this); 
```

助手类：

```
 public void helping_method (Activity activitat){
      FlurryAgent.onStartSession(activitat, "xxxxxxxxxxxxxxxxxx");
      FlurryAgent.onEvent("HELPING METHOD"); 
```

您可以在创建 Helper 并将 Activity var 保存为 Class 变量时执行相同操作，以便在需要时使用它。*****

# android - 设置选中菜单

> ID：10478038
> 
> 赞同：1
> 
> 时间：2012-05-07T07:05:38.987
> 
> 标签：android, menu

我在 android 中创建一个菜单，覆盖 onCreateOptionsMenu 方法，如下所示：

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    menu.add(0, 0, 0, "Blit").setCheckable(true);
    return true;

}

public boolean onOptionsItemSelected(MenuItem item) {
    if (item.getItemId() == 0)
    {
              somevar = !somevar;
              item.setchecked(somevar);

            }
    } 
```

问题是菜单从未被检查过......我怎样才能检查我的菜单？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T07:18:59.010

您必须在`onPrepareOptionsMenu`调用时更新所有菜单项。

```
@Override
public boolean onPrepareOptionsMenu(Menu menu) {
    for (int i = 0; i < menu.size(); i++) {
        MenuItem item = menu.getItem(i);
        if (item.getItemId() == 0)
            item.setChecked(somevar);
    }
    return super.onPrepareOptionsMenu(menu);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T09:28:35.533

对于选中的菜单，您应该制作[这种](http://developer.android.com/resources/samples/ApiDemos/res/menu/checkable.html)类型的菜单。然后你可以有可检查的项目（无，全部，单一）。

# ruby-on-rails - 通过命名空间进行宁静路由的正确约定是什么？

> ID：10478044
> 
> 赞同：0
> 
> 时间：2012-05-07T07:06:04.407
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rails-routing

假设我有一个收据模型，并且我想提供一个控制器操作来打印一个...不放心的方法是：

```
# receipt_controller.rb
  def print
    ...
  end

#routes.rb
  resources :receipts do
    get :print, :on => :member
  end 
```

...宁静的方式是：

```
# receipt_printings_controller.rb
  def create
    ...
  end

#routes.rb
  resources :receipts
  resources :receipt_printings, :only => :create 
```

我的问题是.....假设我想要具有以下结构：

```
/app
  /controllers
     receipts_controller.rb
     /receipt
       printings_controller.rb 
```

这意味着我的课程看起来像： class Receipt::PrintingsController < ActiveRecord::Base def create ... end end

但我不知道如何在这种情况下正确路由，因为我仍然需要能够做到：

收据_printings_path(123) 获取/receipts/123/printings

我知道如何做到这一点的唯一方法是：

```
#routes.rb
  match "/receipts/:id/printings" => "receipt/printings#create", :as => :receipt_printings
  resources :receipts 
```

但是，我想知道是否有*更好*的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T10:39:18.053

您可以使用嵌套路由，但我阅读您的问题的方式听起来像是您想要命名空间。命名空间可能如下所示：

```
resources :receipts
namespace :receipts do
  resources :printings
end 
```

这会将 /receipts/printings/:id 路由到 app/receipt/printings_controller.rb 并带有用于打印的 id（不是收据）。

你可能真的想要嵌套路由。如果您想使用收据 ID，并且只有一个打印操作（每张收据），则可以使用单一资源。

```
resources :receipts do
  resource :printing
end 
```

如图所示，这会将 /receipts/:id/print 路由到 app/printings_controller.rb。

为了在命名空间中组织打印控制器，我会将其排除在路由之外，因为这将尝试在 URL 中插入另一个收据命名空间。相反，使用，

```
resources :receipts do
  resource :printing, :controller => "receipt/printings"
end 
```

这就是如何成为 RESTful 的。但是，您可能没有 RESTful 案例。印刷真的是在创造吗？它真的是在做节目或更新吗？如果它是不适合 CRUD 操作的服务，那么是时候偏离黄金路径，继续使用非 RESTful 动词。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:21:17.150

如果我是对的，你需要一个嵌套资源，看看这个[rails 指南](http://guides.rubyonrails.org/routing.html#nested-resources)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T08:24:15.987

我认为你可以这样做：

```
resources :receipts do 
  resources :printings, :controller => "receipt/printings", :only => :create
end 
```

它将生成：

```
receipt_printings POST /receipts/:receipt_id/printings(.:format) receipt/printings#create 
```

然后访问您的路线：

```
receipt_printings_path(:receipt_id => @receipt.id) 
```

我希望它有帮助

# mongodb - 将新的 ForeignKey 字段添加到现有的 django MongoDB 模型？

> ID：10478049
> 
> 赞同：0
> 
> 时间：2012-05-07T07:06:23.977
> 
> 标签：mongodb, django-models, django-nonrel

我在 MongoDB Nosql 数据库的项目中使用“Django Non-rel”和 Django-MongoDB ORM”。我需要更改我的一个模型并为其添加一个 ForeignKey 字段。我认为 South 将有助于数据迁移，但我知道South不支持MongoDB。我的模型是这样的：

```
class Projects(models.Model):
    projectName =models.CharField(max_length = 100,unique=True,db_index=True)
    projectManager = models.ForeignKey('auth.User') 
```

我需要添加`states = models.ForeignKey('States')`到我的模型中。但我不知道如何在没有南的情况下做到这一点，这样它就不会在我现有的数据库中产生问题。请帮助大家:(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-10T18:59:03.447

我在 appengine 上使用 django non-rel，这可能无法完美地转换为 MongoDB，但我怀疑它是一样的。

我一直在做以下，它需要几个步骤。

1.  使用 null=True 更新您的模型： projectManager = models.ForeignKey('auth.User', null=True)

这可以确保您在数据库中的现有模型不会导致 Django 抛出异常。

1.  编写一个脚本来查询所有项目并更新它们的 projectManager 字段

2.  使用 null=False projectManager = models.ForeignKey('auth.User') 再次更新模型

现在数据库中的所有对象都没有 projectManager 的空字段，可以删除空标志。

# asp.net - 实体框架：我的相关实体没有“延迟加载”的任何原因？

> ID：10478051
> 
> 赞同：0
> 
> 时间：2012-05-07T07:06:34.520
> 
> 标签：asp.net, linq, entity-framework, entity-framework-4, lazy-loading

我有一个 Asp.net MVC 网站，我在其中使用数据存储中的实体框架来访问数据库（使用 POCO 实体）。

我不知道为什么，但有时，看起来延迟加载还没有完成：

代码不起作用的示例：

```
using(BusinessEntities context = new BusinessEntities()){
   User user = context.Users.First(u=>u.Id == parameterId);
   foreach(Post post in user.Posts){//user.Posts is null here and thrown an exception
      //.. doing some things
   }
} 
```

但如果我这样做，它就完美了

```
using(BusinessEntities context = new BusinessEntities()){
   User user = context.Users.Include("Posts").First(u=>u.Id == parameterId);
   foreach(Post post in user.Posts){//user.Posts is null here and thrown an exception
      //.. doing some things
   }
} 
```

但我不明白为什么延迟加载不起作用：

*   上下文未处理
*   它不是项目匿名对象或类似的东西
*   我知道我的代码中有很多地方我不必指出这一点。包括并做相关工作
*   我在我的 edmx 模型上将延迟加载启用设置为 True

什么可能导致这种行为？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-09T10:49:24.340

声明`Posts`属性，`virtual`以便 EF 创建的代理实体可以延迟加载该属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:56:40.847

[请从http://www.microsoft.com/download/en/details.aspx?displaylang=en&id=8363](http://www.microsoft.com/download/en/details.aspx?displaylang=en&id=8363)安装 EF 4.1以停止在 Include 中使用魔术字符串。添加

```
using System.Data.Entity; 
```

到您的 using 语句。

然后编写以下查询：

```
using(BusinessEntities context = new BusinessEntities()){
   var user = context.Users.Include(p=>p.Posts).FirstOrDefault(u=>u.Id == parameterId);
   if(user != null)
   {
      foreach(Post post in user.Posts)
      {
         //.. do something
      }
   }
} 
```

有关详细信息，请参阅以下[http://blogs.msdn.com/b/adonet/archive/2011/01/31/using-dbcontext-in-ef-feature-ctp5-part-6-loading-related-entities .aspx](http://blogs.msdn.com/b/adonet/archive/2011/01/31/using-dbcontext-in-ef-feature-ctp5-part-6-loading-related-entities.aspx)

# joomla - Joomla - 只打开一篇文章并隐藏模块

> ID：10478069
> 
> 赞同：0
> 
> 时间：2012-05-07T07:08:49.667
> 
> 标签：joomla, menu, module

我有一个有 8 个选项的菜单。每个选项都有与类别相关的文章。当我打开一篇文章时，选项菜单被选中，文章加载在页面底部，显示该选项菜单的模块。

我如何打开文章并取消选择隐藏相关模块的选项菜单？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T22:24:00.693

转到 Joomla 后端中的模块管理器，然后选择您希望在哪些页面上启用或禁用模块

# jquery - getLocalRow 在 jqgrid 邻接树模型中返回旧值

> ID：10478071
> 
> 赞同：0
> 
> 时间：2012-05-07T07:08:55.050
> 
> 标签：jquery, jqgrid

我正在使用 JqGrid 的`addRowData`方法将服务器中的行添加到网格中。

如果我使用该`getLocalRow`方法，我看到的值是旧值而不是更新值。但是，如果我看到元素的值已更新，为什么会发生这种情况？

以下是colmodel属性

```
 url  :  '/pots/getTasks.htm?id='+projectId,
        datatype  :  'json',
        mtype  :  'GET',
        colNames  : userColNames ,
        colModel  :  userColModel,
        pager: '#divTaskPager',
        treeGridModel:'adjacency',
        treeGrid: true,
        cellEdit: true,
        sortable: false,
        gridview:true,
        loadui:'block',

oGrid.addRowData(data.id, data, 'first' ); 
```

`data`是我从服务器获取的数据，格式为 {"col1":"value1","col2":"value2"...}

```
nIndex = oGrid.getInd( data.id );
if( nIndex != 1 )
{
    oGrid.addRowData(data.id, data, 'after' , arrayDataIDs[ nIndex-2 ] );
    var obj = oGrid.getLocalRow(data.id);
    oGrid.setCell(data.id, 'listTaskAssignment', ormattedResources,'','',true);
    if( data.isCompleted == true || data.isCompleted == "true" )
    {        
        pots.utility.changeEditable($("#tree"),true,data.id);                               $('#'+parseInt(data.id)+' > [aria-describedby="tree_cb"]').children().attr('checked',false).attr('disabled','disabled');
    }
}
else
{
    oGrid.addRowData(data.id, data, 'first' );
    oGrid.setCell(data.id, 'listTaskAssignment', formattedResources,'','',true);
    if( data.isCompleted == true || data.isCompleted == "true" )
    {
        pots.utility.changeEditable($("#tree"),true,data.id);
        $('#'+parseInt(data.id)+' > [aria-describedby="tree_cb"]').children().attr('checked',false).attr('disabled','disabled');
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T10:08:54.543

该方法`addRowData`，`setRowData`仅`setCell`适用于更新本地数据的情况`datatype: 'local'`。您使用保存 TreeGrid 使用的本地数据`datatype: 'json'`的`data`和`_index`参数**不会**在函数中自动更新。我不建议你使用像填充网格这样的低级函数`addRowData`，尤其是 TreeGrid。如果您确实需要在特殊情况下使用这些功能，则必须在使用或后手动更新`data`和更新。该方法将为您获取代表现有行的数据（如果存在）。您可以在使用or后更新数据。如果不存在行，您可以使用将数据添加到 TreeGrid`_index``addRowData``setRowData``setCell``getLocalRow``setRowData``setCell``addChildNode`该方法不仅将数据添加到 TreeGrid，还更新内部参数`data`和`_index`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T05:39:47.347

```
oGrid.setGridParam({"datatype":"local"});
oGrid.addRowData(data.id, data, 'after' , arrayDataIDs[ nIndex-2 ] );
oGrid.setGridParam({"datatype":"json"}); 
```

我发现我可以通过将网格属性数据类型更改为本地并添加一行然后将数据类型设置回 json 来更新本地数组

# c# - 将 BIG IEnumerable 设置为 ListBox.ItemSource 的最佳方法

> ID：10478075
> 
> 赞同：2
> 
> 时间：2012-05-07T07:09:20.593
> 
> 标签：c#, wpf, listbox, windows-api-code-pack

我正在尝试使用 Microsoft.Windows.APICodePack.Shell.ShellContainer 作为 ListBox 的 ItemsSource，通过 ListBox.ItemTemplate 显示每个孩子的（ShellObject）缩略图和名称。当 ShellContainer 引用一个非常大的文件夹（比如一千多个文件）时，就会出现问题：如果我只是声明

```
 ShellContainer source=ShellObject.FromParsingName(@"C:\MyFolder") as ShellContainer:
    listBox1.ItemsSource=source.GetEnumerator(); 
```

它会冻结 UI 两三分钟，然后立即显示 ShellContainer 的所有内容。我发现的最好的解决方法是创建一个像这样的异步填充类

```
class AsyncSourceFiller
{
    private ObservableCollection<ShellObject> source;
    private ShellContainer path;
    private Control parent;
    private ShellObject item;

    public AsyncSourceFiller(ObservableCollection<ShellObject> source, ShellContainer path, Control parent)
    {
        this.source = source;
        this.path = path;
        this.parent = parent;
    }

    public void Fill()
    {
        foreach (ShellObject obj in path)
        {
            item = obj;
            parent.Dispatcher.Invoke(new Action(Add));
            Thread.Sleep(4);
        }
    }

    private void Add()
    {
        source.Add(item);
    }
} 
```

然后通过调用它

```
 ObservableCollection<ShellObject> source = new ObservableCollection<ShellObject>();
    listBox1.ItemsSource = source;
    ShellContainer path = ShellObject.FromParsingName(@"C:\MyFolder"):
    AsyncSourceFiller filler = new AsyncSourceFiller(source, path, this);
    Thread th = new Thread(filler.Fill);
    th.IsBackground = true;
    th.Start(); 
```

This takes more time than the previous way, but doesn't freeze the UI and begins to show some content immediately. Is there any better way to obtain a similar behavior, possibly shortening total operation time?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T07:41:48.187

在后台线程中加载所有数据，并在完成后更新列表框的项目源。并且不要忘记在列表框中将 Virtualization 设置为 true。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:02:57.800

耗时的操作是枚举您`ShellContainer`并创建数千个`ShellObject`. `ListBox`不是问题。

当您将 an`IEnumerable`作为源设置为 an`ItemControl`时，我认为它会在第一次显示时从枚举器中创建和内部列表，这就是为什么它会在显示任何内容之前冻结两分钟。

您在这里没有太多选择：

*   创建自己 a`List<ShellObject>`并将其设置为我们的`ListBox`. 它不是更快，但至少您可以向您的用户显示“正在加载，请稍候”消息。

*   在另一个线程中加载列表（就像你一样）并在加载时显示项目。随着时间的推移，列表“增长”，这有点奇怪。

*   找到一种方法将您包装`ShellContainer`在一个实现`IList`. 为此，您需要能够在`ShellContainer`类中的给定索引处获取项目（我不知道“Windows API 代码包”）。如果你使用它作为你的来源`ListBox`并且启用了虚拟化，那么只会`ShellObject`加载显示的s，并且它会快速流畅。

# c# - 如何在 WPF 中与 Width="150*" 相反？

> ID：10478081
> 
> 赞同：3
> 
> 时间：2012-05-07T07:09:42.183
> 
> 标签：c#, wpf, xaml

我希望 Width 属性动态扩展直到达到 150，在此之后，用户应该能够通过拖动进一步扩展它（MaxWidth 不允许这样做）。

```
Width="150*" 
```

具有类似的功能，但方向相反（最小宽度并根据需要扩展）。我想要“按需扩展”和最大扩展宽度。

有什么方法可以使用 XAML 来完成吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-31T20:09:12.407

您可以根据项目的大小以编程方式设置宽度。把宽度绑定到a`GridLength`然后就可以让用户控制了，也可以自己控制最大150

```
private GridLength _marquee1Width = new GridLength(150, GridUnitType.Pixel); 
```

您可以将其设置为`GridUnitType.Pixel`, `GridUnitType.Auto`, 或`GridUnitType.Star`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T14:25:49.323

在您希望用户能够拖动的边缘上放置一条线。将该行上的 Cursor 属性设置为“SizeWE”，以便用户知道他可以拖动它。从该行开始，处理鼠标按下、鼠标移动和鼠标向上事件。在 MouseDown 中，从行控件调用 CaptureMouse() 并保存鼠标位置。在鼠标移动时，获取新的鼠标位置，计算从鼠标向下位置的变化，并将您约束的控件的宽度增加到 150，乘以鼠标向右移动的量，然后重置原始鼠标位置到当前鼠标位置。在 MouseUp 上，从线路控件调用 ReleaseMouse()。

希望这可以帮助。

# asp.net-mvc-3 - MVC3 表单身份验证 - 上线

> ID：10478083
> 
> 赞同：0
> 
> 时间：2012-05-07T07:09:53.603
> 
> 标签：asp.net-mvc-3, forms-authentication

我正在使用“Internet 应用程序”预设附带的 AuthorizeAttribute 和默认表单身份验证。

一切正常，但我对部署有一些疑问。

我在 web.config 中有这个：

```
<connectionStrings>

    <add name="AlltForMusikContext" connectionString="Data Source=|DataDirectory|AlltForMusik.sdf" providerName="System.Data.SqlServerCe.4.0"/>
    <add name="ApplicationServices"
     connectionString="data source=.\SQLEXPRESS;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|aspnetdb.mdf;User Instance=true"
         providerName="System.Data.SqlClient" />
</connectionStrings> 
```

我试图让它使用“AlltForMusikContext”中的数据库，但没有成功。当我部署站点时，我将只有一 (1) 个 SQL 数据库。

这实际上是如何工作的？“aspnetdb.mdf”是一些特殊的数据库还是我需要让它使用“AlltForMusikContext”中的数据库？

我找不到任何相关信息，因此非常感谢您的意见！

最好的问候米凯尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:31:53.337

没错，您的应用程序在“App_Data”文件夹下的应用程序中具有默认的“aspnetdb.mdf”。将 AspNetDb.mdf 文件放在应用程序文件夹下不是一个好习惯，而不是您可以创建一个带有名称的单独数据库并使用它。将您的会员数据库与您的应用程序数据库放在一起是没有意义的。

# html - 如何使垂直可滚动 div 内的 div 缩放到 100% 高度？

> ID：10478085
> 
> 赞同：0
> 
> 时间：2012-05-07T07:09:59.343
> 
> 标签：html, css

我希望 div2 的高度是 div1 的 100%，即使向下滚动到最底部（不仅仅是 100 像素）。仅使用 CSS 是否可行？

[http://jsfiddle.net/jPMjF/2/](http://jsfiddle.net/jPMjF/2/)

```
<div id="div1">
     <div id="div2">
     </div>
     <p>Bunch of text here</p>
</div>

#div1 {
   background-color: #fff;
   border:1px solid #ff0000;
   height: 100px;
   overflow: auto;
   overflow-x: hidden;
   width: 200px;
}

#div1 p {
    display: inline-block;
    width: 50px;
    height: 200px;
}

#div2 {
    display: inline-block;
    background-color: #ccc;
    vertical-align: top;
    width: 100px;
    height: 100%
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T07:19:13.957

如果 div2 小于 300px，为什么 div1 会超过 300px 的可滚动高度？从您发布的内容来看，我认为您所需要的只是：

```
#div1 {
   height: 300px;
   overflow-x: hidden;
   overflow-y: auto;
}

#div2 {
    background-color: #ccc;
    min-height: 100%;
} 
```

这意味着当高度小于 300 像素时 div2 会填充整个容器，但如果容器溢出滚动条，它仍然可以扩展。

**编辑**

好吧，看来这不合适。在这一点上，我会倾向于一些情境选择：

1.  如果您知道 div2 或 p 中只有一个（例如我们将其放在 div3 中）的高度将永远超过 300px，那么您可以设置 div1 的背景以匹配对面的 div。这意味着较小 div 下方的任何空白区域都将具有相同的背景，对用户来说是相同的。
2.  如果 div2 和 div3 都具有固定宽度，那么您可以清除两个背景并在容器 div 上放置背景图像。（这显然是一个垂直重复的 1px 条带，中间有一个颜色分割。）
3.  如果您不适合较旧的浏览器，您可以使用 CSS3 灵活盒模型，据我了解，它旨在扩展以填充容器内的所有空间。
4.  您可以将该`display: table`属性用作表格样式的一种有点“hackish”的方法。请注意，css 表格似乎不允许固定高度，它们会溢出以显示没有滚动条的所有内容，因此您需要将其放置在设置为 inline-block、固定宽度和适当溢出值的外部容器中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:19:54.923

我想你的意思是：http: [//jsfiddle.net/jPMjF/](http://jsfiddle.net/jPMjF/)

```
 #div1 {
       height: 300px
       overflow: auto;
       overflow-x: hidden;
    }

    #div2 {
        background-color: #ccc;
        min-height: 300px;
    } 
```

这样，即使内容超过 div1 的高度，div2 也会在 div1 内滚动（在小提琴上，我给 div2 的高度为 600px）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T09:19:52.007

我做了一点修改..希望你能理解这一点..

**html**

```
<div id="div1">
     <div id="div2">
         Content in div2.
     </div>
    <p id="p3">
        ajs hask jas ashja sjh jasj ashja sbasj hasbk asj ask ashja sba sjh ashj asb sajask ajhb sakjbs ashjb saasj
    </p>
</div> 
```

**jQuery**

```
$(document).ready(function(){
  var div3height=$('#div3').height();
    $('#div2').height(div3height);
}); 
```

**css**

```
 #div1 {
       border:1px solid #ff0000;
       height: 150px;
       overflow: auto;
       overflow-x: hidden;
       width:150px;
    }

    #div2 {
        background-color: #ccc;
        height:100%;
        overflow:auto;
        float:left;
        width:50%;
    }
    #p3 {
        height:auto;
        overflow:auto;
        float:left;
        width:50%;
} 
```

希望对你有帮助..

**编辑**

如果问题的意思如 Ipd 所述

那么你只需要更改css并留下jquery部分......

IE..

**css**

```
#div1 {
       border:1px solid #ff0000;
       height: 150px;
       overflow: auto;
       overflow-x: hidden;
       width:150px;
       background-color: #ccc;
    }

    #div2 {
        height:100%;
        overflow:auto;
        float:left;
        width:50%;
    }
    #p3 {
         background-color:#FFF;
        height:auto;
        overflow:auto;
        float:left;
        width:50%;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-16T12:20:00.920

```
#div1 {
    background-color: #fff;
   border:1px solid #ff0000;
   height: 100px;
   overflow: auto;
   overflow-x: hidden;
   width:200px;
}

#div1 p { display: inline-block; width: 50px; }

#div2 {
    display: table-cell;
    background-color: #ccc;
    height: auto;
    width: 100px;
    padding-bottom:80%;
    float:left;
} 
```

你的答案检查它的工作 100%

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-08T16:11:29.243

**[工作 jsFiddle 演示](http://jsfiddle.net/jPMjF/21/)**

## HTML

```
<div id="container">
    <div id="sidebar">
        Content in div2.
    </div>
    <div id="content">
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur, sequi, non mollitia ducimus eaque commodi iure vel quos ipsam hic voluptatem tempore facere quo dolorum magnam incidunt porro quis culpa.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur, sequi, non mollitia ducimus eaque commodi iure vel quos ipsam hic voluptatem tempore facere quo dolorum magnam incidunt porro quis culpa.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur, sequi, non mollitia ducimus eaque commodi iure vel quos ipsam hic voluptatem tempore facere quo dolorum magnam incidunt porro quis culpa.</p>
    </div>
</div> 
```

## CSS

```
#container {
   background-color: #fff;
   border: 1px solid #ff0000;
   height: 100px;
   overflow: hidden;
   width: 200px;
    position: relative;
}

#content {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    background-color: pink;
    width: 100px;
    overflow: auto;
}

#sidebar {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    background-color: #ccc;
    width: 100px;
} 
```

# html - 容器 div 未在属性 min-height 上扩展

> ID：10478086
> 
> 赞同：0
> 
> 时间：2012-05-07T07:10:02.197
> 
> 标签：html, height, css

我有一个 div 的以下 CSS 代码，我想要一个最小高度，然后根据需要增加高度。我不知道为什么，但 CSS 在任何浏览器中都不起作用！我试图用谷歌搜索答案，但还是不行！

任何帮助将非常感激！

```
.container {
  width: 1024px;  
  margin-right: auto;
  margin-left: auto;
  left: auto; 
  right: auto;
  background-color: #FFFFFF;
  box-shadow: 0 1px 3px rgba(34,25,25,0.4);  
  -webkit-box-shadow: 0 2px 12px rgba(34,25,25,0.4);   
  moz-box-shadow: 0 1px 2px rgba(34,25,25,0.4);
  background-repeat: repeat-y;
  height: auto !important;
  height: 1024px;
  min-height: 1024px;

  border-bottom-width: 2px;
  border-bottom-style: solid;
  border-bottom-color: #999;
  padding-bottom:60px;   
  position:relative;
} 
```

容器 div 应该随着这个 div 的高度的增加而增长，当数据输入到 mysql 表时会增加，然后在这个 div 中显示：

```
.udis {
  float: left; 
  height: auto;
  width: 680px;
  position: relative; 
  box-shadow: 0 1px 3px rgba(34,25,25,0.4);
  -webkit-box-shadow: 0 2px 12px rgba(34,25,25,0.4);
  moz-box-shadow: 0 1px 2px rgba(34,25,25,0.4);
  margin-left:10px;  
  min-height:620px;
  height:auto!important;
  height:620px;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T07:31:57.550

使用隐藏在容器中的溢出。
或删除子项中的 float:left 。

你可以在谷歌阅读更多关于清除浮动
[http://www.positioniseverything.net/easyclearing.html](http://www.positioniseverything.net/easyclearing.html)

顺便说一句，你的三个高度是正确的，继续使用它们。

```
 height: auto !important;
  height: 1024px;
  min-height: 1024px; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T07:12:26.843

更改以下代码

```
height: auto !important;
height: 1024px;
min-height: 1024px; 
```

至

```
min-height: 1024px; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T07:21:26.340

您已经为这两个元素指定了一个固定高度，因此这些`min-height`设置永远不会发挥作用。改变这个`.container`风格：

```
height: auto !important;
height: 1024px;
min-height: 1024px; 
```

至：

```
min-height: 1024px; 
```

这是`.udis`风格：

```
min-height:620px;
height:auto!important;
height:620px; 
```

至：

```
min-height:620px; 
```

# java - Java byte[] 到 Flex BitmapImage 源

> ID：10478094
> 
> 赞同：0
> 
> 时间：2012-05-07T07:11:01.187
> 
> 标签：java, apache-flex, bytearray, blazeds, flex-mobile

我有 flex 移动客户端，它需要 java 服务器`byte[]`作为`flash.utils.ByteArray`，但是当我想用作我的 bitmapImage 编译器的源时，它会说未知类型：

```
private function onResult3(event:ResultEvent,token:Object):void 
{
    if(event.result!=null)  
    {
        var Lder:Loader=new Loader();
        var ba:ByteArray=event.result as ByteArray;
        Lder.loadBytes(ba);// exception is thrown here
        doktorResim.bitmapData.draw(Lder);                  
     }  

} 
```

任何帮助，建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-23T06:30:28.963

如果 Java 正在正确读取和发送字节，那么您需要等待 flex 加载所有字节，以便使用[LoaderInfo的事件](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/LoaderInfo.html#event%3acomplete)[完成](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/LoaderInfo.html#event%3acomplete)，另请参阅[Loader](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Loader.html#eventSummary) Class

```
var url:String = "http://www.helpexamples.com/flash/images/image2.jpg";
var urlRequest:URLRequest = new URLRequest(url);
var loader:Loader = new Loader();
loader.contentLoaderInfo.addEventListener(Event.COMPLETE, loader_complete);
loader.load(urlRequest);
addChild(loader);

function loader_complete(evt:Event):void {
    var target_mc:Loader = evt.currentTarget.loader as Loader;
    target_mc.x = (stage.stageWidth - target_mc.width) / 2;
    target_mc.y = (stage.stageHeight - target_mc.height) / 2;
} 
```

希望有帮助

# php - 如何更改此示例 Facebook 代码以自动发布提要数据？

> ID：10478097
> 
> 赞同：0
> 
> 时间：2012-05-07T07:11:14.097
> 
> 标签：php, javascript, facebook

我[从 Facebook 的文档](https://developers.facebook.com/docs/appsonfacebook/tutorial/#channels)中获取了这段代码，让我开始学习如何让我的应用发布到提要。

它按描述工作，因为当我转到我的应用程序的画布 URL 时，我会看到一个对话框，我可以在其中输入文本，单击“共享”，然后它会发布到我的时间轴中。到现在为止还挺好。

但我想改变它，这样不是显式地输入内容并单击按钮，而是自动将帖子发送到提要，触发我的 PHP 代码中的事件。

但是，我意识到这是一个新手问题，我不知道如何调整代码来实现这一点。我的实验要么只是破坏代码，要么最终得到相同的对话框。

如何让 PHP 将消息直接发布到提要中，然后立即显示应用程序的画布 URL（以免陷入不断重新加载和一遍又一遍发布的循环......）？

为方便起见，以下是 Facebook 文档中的相同代码：

```
<?php 

         $app_id = "YOUR_APP_ID";

         $canvas_page = "YOUR_CANVAS_PAGE_URL";

         $message = "Apps on Facebook.com are cool!";

         $feed_url = "https://www.facebook.com/dialog/feed?app_id=" 
                . $app_id . "&redirect_uri=" . urlencode($canvas_page)
                . "&message=" . $message;

         if (empty($_REQUEST["post_id"])) {
            echo("<script> top.location.href='" . $feed_url . "'</script>");
         } else {
            echo ("Feed Post Id: " . $_REQUEST["post_id"]);
         }
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:20:18.693

您可以通过要求`publish_stream`获得许可来实现这一点（请参阅[发布许可](https://developers.facebook.com/docs/publishing/)）。

一旦您的应用程序获得了用户授予的权限，您就可以发布提要故事而不向用户显示提要对话框。

这也允许您将内容发布到用户的提要，而无需用户的活动`access_token`和为此目的使用应用程序`access_token`。

使用 PHP-SDK 实现这一点非常容易：

```
$facebook = new Facebook(/*...*/);

$facebook->api('/USER_ID/feed', 'post', array(
  'message'=>'Text entered by user'
)); 
```

可能`publish_actions`权限足以完成该任务，但文档尚未在开发人员站点上更新，因此使用起来更安全`publish_stream`（请参阅[`statuses`](https://developers.facebook.com/docs/reference/api/user/#statuses)对象`user`）。

> `publish_stream`权限是`publish_actions`允许一切`publish_actions`允许以及更多的超集。一些额外的发布功能包括：
> 
> *   发布到朋友的订阅源
> *   发布问题
> *   创建笔记
> *   将内容发布到活动或群组

# facebook - 如何从 Facebook 获取页面事件？

> ID：10478112
> 
> 赞同：0
> 
> 时间：2012-05-07T07:12:41.733
> 
> 标签：facebook, facebook-graph-api, facebook-javascript-sdk

我正在使用此代码，但它返回空数据数组。我的 access_token 拥有所有权限。
我知道 PAGE_ID，现在我需要从此页面获取事件。
谢谢

```
 <div id="fb-root"></div>
    <script>
      window.fbAsyncInit = function() {
        FB.init({
          appId      : APP_ID, // App ID
          status     : true, // check login status
          cookie     : true, // enable cookies to allow the server to access the session
          xfbml      : true  // parse XFBML
        });
        // Additional initialization code here
      };

      // Load the SDK Asynchronously
      (function(d){
         var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement('script'); js.id = id; js.async = true;
         js.src = "//connect.facebook.net/en_US/all.js";
         ref.parentNode.insertBefore(js, ref);
       }(document));

        var interval = setInterval(function() {
            if (typeof FB != 'undefined') {
                clearInterval(interval);
                FB.api('/' + PAGE_ID +'/events?access_token=' + ACCESS_TOKEN, function(response) {
                    //do something with response
                });
            }
        }, 20); 
    </script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T14:33:03.943

从您的代码中不清楚您是如何获取 access_token 的 - 您是否使用您需要检索事件的页面\帐户的访问令牌？对于页面事件，我一直在做的方式（不确定我在哪里采用了这种技术）是遍历用户帐户以获取相关页面的访问令牌。像这样的东西（php）

```
$accounts = $facebook->api('/me/accounts');
foreach($accounts['data'] as $account){
    if($account['id'] == $page_id){
        $page_access_token = $account['access_token'];
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-14T15:06:17.683

我从[http://developers.facebook.com/tools/explorer/](http://developers.facebook.com/tools/explorer/)获得的应用程序的第一个 access_token是错误的。（也许它只适用于测试模式）因为我无法通过这个 access_token 获取事件。
在[http://developers.facebook.com/docs/authentication/applications/](http://developers.facebook.com/docs/authentication/applications/)上写着：

> 应用程序访问令牌通常不会过期。一旦生成，它们将无限期有效。
> 要获取应用程序访问令牌，请在以下位置执行 HTTP GET： [https ://graph.facebook.com/oauth/access_token?client_id=YOUR_APP_ID&client_secret=YOUR_APP_SECRET&grant_type=client_credentials](https://graph.facebook.com/oauth/access_token?client_id=YOUR_APP_ID&client_secret=YOUR_APP_SECRET&grant_type=client_credentials)

我使用 HTTP GET 获得了 access_token，通过这个 access_token 我从 facebook 页面获取事件：[https ://graph.facebook.com/PAGE_ID/events](https://graph.facebook.com/PAGE_ID/events)

# symfony - 在 Web 服务器中安装 Symfony2

> ID：10478116
> 
> 赞同：0
> 
> 时间：2012-05-07T07:13:00.120
> 
> 标签：symfony

我正在尝试在 Web 服务器中安装 Symfony2，但我有一个关于 URL 的问题。

我想在这个网址中安装它。

```
http://mywebsite.com/gestor 
```

因此，可以将 /web 文件夹中分配的文件放入此目录（gestor），并将其他文件（/app、/bin、/src...）放在服务器的另一个路径中（使它们成为私有的，并且不可能通过 URL 访问？

哪个是最好的方法？只需这样做并修改app.php需要吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:48:00.623

我会尽力帮助你，但我不是这个话题的专家？您是在共享主机还是专用主机上安装？

如果您使用的是专用主机，您可以去[这里](https://stackoverflow.com/questions/8424728/rewriterule-in-apache-with-symfony2-not-removing-app-php)。

但我假设您正在共享主机上安装（由 KBrogan 提供）：谁能指出我如何将 www.site.com/appname/web/app.php 修改为更性感的 www.site.com 网址它将自动重定向到 www.site.com/appname... 而不检查长版本的 url？

```
<bernardnapoleon> i've been googling for hours now. >><
<helios_ag> r u  on shared hosting?
<bernardnapoleon> yes
<KBrogan> bernard, i have just the solution for you if you would like everything redirected to site.com/index.php with your content stored in webroot/Symfony
<bernardnapoleon> really? you're amazing!
<bernardnapoleon> that's it
<KBrogan> 1) move Symfony/web to webroot/
<bernardnapoleon> okay but wouldn't that break the folder structure of symfony?
<KBrogan> nope
<KBrogan> 2) change the require_once tags in both files webroot/app(_dev)?.php to point to Symfony/app/... instead of pointing to ../Symfony/app
<KBrogan> example: require_once __DIR__.'/Symfony/app/AppKernel.php';
<bernardnapoleon> oks! done
<KBrogan> make .htaccess in webroot this:
<KBrogan> RedirectMatch 404 "^/Symfony(/.*)?$"
<KBrogan> RedirectMatch 404 "/\..*"
<KBrogan> RedirectMatch 404 "/(config||app(_dev)?).php"
<KBrogan> <IfModule mod_rewrite.c>
<KBrogan>     RewriteEngine On
<KBrogan>     RewriteCond %{REQUEST_FILENAME} !-f
<KBrogan>     RewriteRule ^(.*)$ index.php [QSA,L]
<KBrogan> </IfModule>
<KBrogan> last step - make a symlink index.php => app_dev.php
<bernardnapoleon> ohhhhhhhhhhhhhhhhhhhhhhhhhh...................
<KBrogan> Do you have shell access on your host bernard?
<bernardnapoleon> nope
<helios_ag> not good idea to publish dev env on prod env
<bernardnapoleon> helios_ag: yep yep. 
<KBrogan> dev env ip blacklists itself. Not really an issue until you've deployed
<bernardnapoleon> KBrogan: Thank you! 
<bernardnapoleon> i'll just rename app.php to index.php incase i can't do symlink
<KBrogan> if you don' t have shell access: either make a link with php, or rename the app.php
<bernardnapoleon> yeah. Thanks Again Bro
<bernardnapoleon> =)
<bernardnapoleon> all this time I thought the answer is in mod_rewrite
<KBrogan> i'm quite happy with the results there. Spent a couple of hours tweaking it
<KBrogan> I've got shell access, so I set up an alias dev and an alias prod which switches the environment for me and clears the cache
<KBrogan> Question: is there a twif filter which pretty prints all your html?
<KBrogan> twig*
<bernardnapoleon> oh cool. 
<bernardnapoleon> not an expert but I think you have to post process that. 
<KBrogan> by the way bernard, the RedirectMatch 404 "/\..*" bit will hide all of your .htaccess files and make them return 404 instead of 403
<KBrogan> as well as any other file that stats with .
<KBrogan> and any other file besides /Symfony/* , index.php, app_dev.php, app.php, will be served directly by Apache
<bernardnapoleon> ohhhh 
```

# android - 如何在 android 中将 UTF-16 编码类型字符串设置为 TextView

> ID：10478117
> 
> 赞同：5
> 
> 时间：2012-05-07T07:13:06.333
> 
> 标签：android

我是一名新的 Android 开发人员，我有一个 UTF-16LE 编码的字符串。我想在我的活动的 Textview 中打印该字符串。但是，印地语中的字符串。当我得到字符串的 Sysout 时，它会显示写入格式和单词（例如：05-07 12:31:53.050: I/System.out(22887): str = बसंत पंचमी, str = मकर संक्रानथरालथरानथऋऋ 但在设备的 TextView 中，它只显示 BOXES。
这是代码：-

```
 String myString = मकर संक्रान्ति / बसंत पंचमी;
 String correct = null;
try {
    byte[] utf16le = myString .getBytes("UTF-16");
    correct = new String(utf16le, "UTF-16");
} catch (UnsupportedEncodingException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
}
System.out.println("str = "+correct); 
```

任何帮助表示赞赏。

谢谢

# android - 如何使用安卓设备检测超声波

> ID：10478124
> 
> 赞同：-2
> 
> 时间：2012-05-07T07:13:45.703
> 
> 标签：android

我有设备创建的超声波，我的 android 设备应该检测到这些超声波并从波中获取信息。信息如：频率，用户信息等。

如何在android中编程？

谢谢和问候， 图沙尔

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:24:26.713

您需要自定义硬件才能在 Android 设备上录制超声波声音。通常，麦克风最多只能记录大约 20kHz 的频率，并且取决于设备，甚至可能无法记录。

# java - 可能的 Android 项目取决于其他（非库）Android 项目？

> ID：10478126
> 
> 赞同：0
> 
> 时间：2012-05-07T07:14:18.590
> 
> 标签：java, android, eclipse, dependencies, buildpath

我有应用程序`A`和`B`. 我想要一个`A`在`B`. 那可能吗？

我尝试将项目添加`A`到 B 的构建路径。编译器可以，但我得到了运行时`NoClassDefFoundError`（对于第一个使用的类来自 project `A`）。

我正在用 Eclipse 做这个。

编辑：我需要这样做的原因是因为我的项目 B 是项目 A 的测试。无法以通常的方式进行测试，因为在其他事情之间我必须测试 AsynchTasks，而这不适用于 JUnit。所以我想制作包含自定义测试的普通Android项目B。但由于这似乎也不起作用，所以我回到了我原来的测试项目并在那里实现了我的自定义/非 JUnit 测试。以一种丑陋的方式，但它有效。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:00:34.453

你所描述的是一个[**图书馆项目**](http://developer.android.com/guide/developing/projects/index.html#LibraryProjects)。如果您拥有多个 Android 项目共有的源代码和资源，您可以将它们移动到库项目中，以便更轻松地跨应用程序和版本进行维护。因此，如果您正在开发使用某些相同组件的多个相关应用程序，您会将冗余组件移出它们各自的应用程序项目，并在单独的库项目中创建一组可重复使用的相同组件。

因此，您所描述的*几乎*是可能的，但不完全是。Eclipse 不允许您将 Android 应用程序项目（即编译为`.apk`文件的项目）作为库项目引用，因此简单地将项目设为库`A`项目并进行`B`引用是`A`行不通的。相反，您将需要，

1.  [**创建**](http://developer.android.com/guide/developing/projects/projects-eclipse.html#SettingUpLibraryProject)一个新的库项目`C`。
2.  将常用方法/类从项目移动`A`到`B`库项目`C`。
3.  既有`A`参考`B` [**图书馆**](http://developer.android.com/guide/developing/projects/projects-eclipse.html#ReferencingLibraryProject)项目`C`。

# java - 我可以找到 NullPointerException 的来源吗？

> ID：10478129
> 
> 赞同：0
> 
> 时间：2012-05-07T07:14:27.083
> 
> 标签：java, nullpointerexception

当我尝试以下语句时，

```
a.do(b.do()); 
```

假设我从那行得到了 NullPointerException。

那么，有什么办法可以判断a是否为空，b是否为空呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T07:17:36.527

不，唯一的解决方案是提取内部表达式：

```
Object o = b.do()
a.do(o); 
```

无论如何，这是个好主意。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T07:23:34.843

如果您在 eclispe 或任何标准 IDE 中调试您的程序，您可以`Step Into`先执行`b.do()`. 如果它崩溃，您的问题出在`b`对象上。如果不是`Step Out`从`b.do()`那里`Step Into` `a.do()`找到你的问题。

我必须说，尽管 Tomasz 的方法更安全，并且推荐使用，因为它也是可读的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T07:24:00.397

a 或 b 为空，该语句会导致错误。你看不到哪个，除非分别检查每个对象。

另外，“do”不是保留关键字吗？没有把握。

# java - 如何以编程方式更新状态栏？

> ID：10478131
> 
> 赞同：0
> 
> 时间：2012-05-07T07:14:37.517
> 
> 标签：java, android

我刚刚制作了从我的设备读取未读短信并将“已读”状态设置为“消息已读”的应用程序。它没有问题，但我有一个小问题 - 我使用我的应用程序以编程方式更新消息的状态，但状态栏上仍然可以看到短信图标。如何以编程方式修复它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T09:57:29.383

删除其他应用程序创建的通知是不可能的。你不能这样做。这也很糟糕。

# java - 计算两次差异

> ID：10478132
> 
> 赞同：3
> 
> 时间：2012-05-07T07:14:41.570
> 
> 标签：java, datetime, calendar

我正在计算两次之间的差异，并且我能够使用单独的方程式获得小时和分钟的差异，是否有任何单个方程式可以一次获得小时和分钟。我使用的是：

这里 diff 是两个时间值之间的差异

```
long diffHours1 = diff / (60 * 60 * 1000);
long min=diff/(60*1000); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-07T07:29:12.123

我不确定它在这里是否有帮助，但[Joda Time](http://joda-time.sourceforge.net)似乎使用[Period](http://joda-time.sourceforge.net/key_period.html)有一些更详细的解决方案，例如

```
Period p = new Period(startDate, endDate)
int minutes = p.getMinutes(); //returns the left over minutes part
int seconds = p.getSeconds(); //returns the seconds part 
```

我不确定对于这种特殊情况，您需要的不是您所拥有的，我同意 aix 的

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T07:20:56.027

> 有没有一个方程式可以让我一次得到小时和分钟

不，不容易。Java 表达式只能有一个结果；返回几件事并非不可能，但需要额外的机器（包装类、元组等）。这将导致代码比您现在拥有的代码复杂得多。

您可以做一些简化事情的方法是先计算分钟，然后根据分钟计算小时：

```
long diffMinutes = diff / (60*1000);
long diffHours = diffMinutes / 60; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-07T07:26:03.530

就在这里：

```
String oneGo = (diff / (60 * 60 * 1000)) + " " + (diff / (60 * 1000)); 
```

:-)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-07T07:26:29.913

好吧，两个方程式还不错（实际上使用更多行更容易阅读），尽管您可能会更改顺序，更正方程式并缓存一些结果。

```
diff = //time difference in milliseconds
long diffInMinutes = diff / (60 * 1000);    

//get the number of hours, e.g. 140 / 60 = 2
long hours = diffInMinutes  / 60;

//get the left over minutes, e.g. 140 % 60 = 20
long minutes = diffInMinutes  % 60; 
```

如果您想要一个方程的原因是易于使用，请尝试使用替代库，例如[Joda Time](http://joda-time.sourceforge.net/)。

# jquery - jQuery event not working as it should

> ID：10478137
> 
> 赞同：0
> 
> 时间：2012-05-07T07:15:16.860
> 
> 标签：jquery, html

As I try and say before all of my questions - I'm new to this whole thing. With that being said. I'm working on some client side validation of passwords. I'm trying to make a script that will fill a span with an image if the passwords either don't match, or if either field is blank on blur. I have been unable to get it to show that passwords match, even when I know they do. Here is the relevant code:

html:

```
 <div class="loginRow">
        <div class="loginCell"><label for="r_password">Password:</label></div>
        <div class="loginCell"><input type="password" name="r_password" id="r_password"></div>
        <div class="loginCell"><span id="r_passwordFeedback"></span></div>
    </div>
    <div class="loginRow">
        <div class="loginCell"><label for"r_vpassword">Verify Password</label></div>
        <div class="loginCell"><input type="password" name="r_vpassword" id="r_vpassword"></div>
        <div class="loginCell"><span id="r_vpasswordFeedback"></span></div>
    </div> 
```

jQuery:

```
 $("#r_password").blur(function() {
    if ($("#r_password").val() != $("#r_vpassword").val()) { $("#r_passwordFeedback").html(deleteImg + "Passwords do not match"); }
    else if ($("#r_password").val() || $("#r_vpassword").val() === "") { $("#r_passwordFeedback").html(deleteImg + " Required"); } 
    else { $("#r_passwordFeedback").html(acceptImg); }
});
$("#r_vpassword").blur(function() {
    if($("#r_password").val() != ("#r_vpassword").val()) { $("#r_passwordFeedback").html(deleteImg); }
    else if($("#r_password").val() || $("#r_vpassword").val() === "") { $("#r_passwordFeedback").html(deleteImg); }
    else { $("#r_passwordFeedback").html(acceptImg); }
}); 
```

Any help you might be able to shine on my little issue would be much appreciated. Thanks in advance.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T07:19:58.747

There is a typho here `if($("#r_password").val() != ("#r_vpassword").val())`.

The `$` is missing.

I think its, `if($("#r_password").val() != $("#r_vpassword").val())`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T07:25:16.200

HIya **demo** [http://jsfiddle.net/dTEVF/8/](http://jsfiddle.net/dTEVF/8/) **another** different version - you can type and match [http://jsfiddle.net/Bjc8t/](http://jsfiddle.net/Bjc8t/) (Just thought of sharing)

If I may recommend try using validation framework if you have bigger application on the roll! Bit extra what you asked but here you go try it out: [http://jsfiddle.net/W5RaU/](http://jsfiddle.net/W5RaU/) :)

**jquery code**

```
$("#r_password").blur(function() {
    if ($("#r_password").val() != $("#r_vpassword").val()) {
        $("#r_passwordFeedback").html("Passwords do not match");
    }
    else if ($("#r_password").val() === "" || $("#r_vpassword").val() === "") {
        $("#r_passwordFeedback").html(" Required");
    }
    else {
        $("#r_passwordFeedback").html("matches");
    }

});

$("#r_vpassword").blur(function() {
    if ($("#r_password").val() != $("#r_vpassword").val()) {
        $("#r_passwordFeedback").html("not matching image");
    }
    else if ($("#r_password").val() === "" || $("#r_vpassword").val() === "") {
        $("#r_passwordFeedback").html("empty");
    }
    else {
        $("#r_passwordFeedback").html("password match");
    }
});​ 
```

# android - 如何在android中使用postgresql数据库中的jsonObject设置listView两个以上的字段

> ID：10478138
> 
> 赞同：-1
> 
> 时间：2012-05-07T07:15:18.977
> 
> 标签：android, json, listview

我正在尝试使用 jsonObject 从 postgresql 数据库中设置列表视图，而不是在 android 中的两个以上字段。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:30:02.643

您需要一个[自定义 ListAdapter](http://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/view/List4.html)将您的数据库字段映射到实际视图。

# c# - Web 应用程序在刷新时不更新

> ID：10478142
> 
> 赞同：0
> 
> 时间：2012-05-07T07:15:37.497
> 
> 标签：c#, asp.net, .net, caching, outputcache

我有一个 ASP .NET Web 应用程序，它使用 ListView 控件从数据库中查询和显示数据。当我在浏览器上运行 Web 应用程序时，它工作正常，但是当我在数据库中删除或添加某些内容，然后刷新运行 Web 应用程序的浏览器时，它的输出不会更新。刷新时如何使我的 Web 应用程序更新？

这是 ListView 的代码：

```
 <asp:ListView ID="ListView1" runat="server" DataSourceID="SqlDataSource">
    <ItemTemplate>
        <tr style="">
            <td>
              <asp:Label ID="HotfixIDLabel" runat="server" Text='<%# Eval("HotfixID") %>' /> 
            </td>
            <td>
             <asp:Label ID="DescriptionLabel" runat="server" 
                    Text='<%# Eval("Description") %>' /> 
            </td>
            <td>
              <asp:Label ID="DateLabel" runat="server" Text='<%# Eval("Date") %>' /> 
            </td>
        </tr>
    </ItemTemplate>
    <AlternatingItemTemplate>
        <tr style="">
            <td>
                <asp:Label ID="HotfixIDLabel" runat="server" Text='<%# Eval("HotfixID") %>' />
            </td>
            <td>
               <asp:Label ID="DescriptionLabel" runat="server" 
                    Text='<%# Eval("Description") %>' />  
            </td>
            <td>
                <asp:Label ID="DateLabel" runat="server" Text='<%# Eval("Date") %>' />
            </td>
        </tr>
    </AlternatingItemTemplate>
    <EmptyDataTemplate>
        <table runat="server" style="">
            <tr>
                <td>
                    No data was returned.</td>
            </tr>
        </table>
    </EmptyDataTemplate>
    <InsertItemTemplate>
        <tr style="">
            <td>
                <asp:Button ID="InsertButton" runat="server" CommandName="Insert" 
                    Text="Insert" />
                <asp:Button ID="CancelButton" runat="server" CommandName="Cancel" 
                    Text="Clear" />
            </td>
            <td>
                <asp:TextBox ID="HotfixIDTextBox" runat="server" 
                    Text='<%# Bind("HotfixID") %>' />
            </td>
            <td>
                <asp:TextBox ID="DescriptionTextBox" runat="server" 
                    Text='<%# Bind("Description") %>' />
            </td>
            <td>
                <asp:TextBox ID="DateTextBox" runat="server" Text='<%# Bind("Date") %>' />
            </td>
        </tr>
    </InsertItemTemplate>
    <LayoutTemplate>
        <table runat="server" border="0">
            <tr runat="server">
                <td runat="server">
                    <table ID="itemPlaceholderContainer" runat="server"  style="">
                        <tr runat="server" style="">
                              <th id="Th1" runat="server" align="left">
                <asp:LinkButton ID="LinkButton0" runat="server" CommandName="Sort" CommandArgument="HotfixID" Width="140">Update ID</asp:LinkButton></th>
            <th id="Th2" runat="server">
               <asp:LinkButton ID="LinkButton1" runat="server" CommandName="Sort" CommandArgument="Description" Width="600">Description</asp:LinkButton> </th>
            <th id="Th3" runat="server">
               <asp:LinkButton ID="LinkButton2" runat="server" CommandName="Sort" CommandArgument="Date" Width="100">Date</asp:LinkButton> </th>
                        </tr>
                        <tr ID="itemPlaceholder" runat="server">
                        </tr>
                    </table>
                </td>
            </tr>
            <tr runat="server">
                <td runat="server" style="">
                </td>
            </tr>
        </table>
    </LayoutTemplate>
    <EditItemTemplate>
        <tr style="">
            <td>
                <asp:Button ID="UpdateButton" runat="server" CommandName="Update" 
                    Text="Update" />
                <asp:Button ID="CancelButton" runat="server" CommandName="Cancel" 
                    Text="Cancel" />
            </td>
            <td>
                <asp:TextBox ID="HotfixIDTextBox" runat="server" 
                    Text='<%# Bind("HotfixID") %>' />
            </td>
            <td>
                <asp:TextBox ID="DescriptionTextBox" runat="server" 
                    Text='<%# Bind("Description") %>' />
            </td>
            <td>
                <asp:TextBox ID="DateTextBox" runat="server" Text='<%# Bind("Date") %>' />
            </td>
        </tr>
    </EditItemTemplate>
    <SelectedItemTemplate>
        <tr style="">
            <td>
                <asp:Label ID="HotfixIDLabel" runat="server" Text='<%# Eval("HotfixID") %>' />
            </td>
            <td>
                <asp:Label ID="DescriptionLabel" runat="server" 
                    Text='<%# Eval("Description") %>' />
            </td>
            <td>
                <asp:Label ID="DateLabel" runat="server" Text='<%# Eval("Date") %>' />
            </td>
        </tr>
    </SelectedItemTemplate>
</asp:ListView>
<asp:SqlDataSource ID="SPDataSource" runat="server" 
    ConnectionString="<%$ ConnectionStrings:addremovefinalConnectionString %>" 
    SelectCommand="sp_getupdatesSP_v3" SelectCommandType="StoredProcedure" 
    onselecting="SPDataSource_Selecting">
    <SelectParameters>
        <asp:ControlParameter ControlID="ComboBox1" Name="param" 
            PropertyName="SelectedValue" Type="String" />
    </SelectParameters>
</asp:SqlDataSource> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T07:32:18.637

好吧，正如评论所暗示的那样，显然页面正在被缓存。您可以通过在页面顶部添加指令来验证这一点：

```
<%@ OutputCache Location="None" %> 
```

不过，这意味着您的数据库将被每个请求击中。为了获得更好的解决方案，我建议查看[SQL 缓存依赖](http://msdn.microsoft.com/en-us/library/ms178604.aspx)项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:56:25.150

在您查询数据库时，您不是手动刷新页面，而是使用服务器端按钮导致回发并刷新数据，因此它不会用户缓存数据。

虽然 Afer 更新您说您正在手动刷新页面的数据库，但这可能是您获取缓存数据的原因。

我的建议是在更新数据库后从服务器端再次加载页面（用新数据重新绑定控件）。

# html - 使用 ui:insert 时使页脚粘在页面底部

> ID：10478144
> 
> 赞同：1
> 
> 时间：2012-05-07T07:15:57.477
> 
> 标签：html, css, sticky-footer

嗨，我有一个这样的主页。

**html视图**

```
<html>   

<head>  

</head>  

<body>  

<div class="wrapper">  

<div class="content">  

<ui:include src="/templates/include/header.xhtml"/>  

<div class="left_menu">  

<ui:include src= />  

</div>  

<div class="content_container">  

<ui:insert name="body">Body</ui:insert>  

</div>      

</div>  

<div class="footersathi">  

<ui:insert name="footer">footer</ui:insert>  

</div>  

</div>      

</body>  

</html> 
```

**html视图结束**

**css**

```
.wrapper {  
min-height:100%;
position:relative;
     }

.content {
margin:0;
padding-bottom:20px;
}

.left_menu {
position: absolute;
top: 0px;
left: 0px;
}

.content_container {
position: absolute;
top: 176px;
left: -15px;
}

.footersathi {
width:100%;
height:20px;
position:absolute;
bottom:0;
left:0;
background:blue;
} 
```

**css 结束**

问题是因为 iam 使用**ui:insert name=body**标记 iam 包含名称正文的页面有些页面内容较少，有些页面内容较多，但页脚相对于该内容没有变化，而是固定到特定位置可能有使用 ui:insert 时可以帮助我解决此问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:30:26.723

为什么要`position: absolute;`在页脚上使用？如果您设置`position: static'`（如果您未指定，则为默认设置），页脚将自动出现在文档末尾。

如果这不能回答您的问题，请让您的问题更清楚:)

对于您想要的，我认为您可以避免将元素定位在正常流程之外。[在此处](http://www.htmlgoodies.com/beyond/css/article.php/3642151/CSS-Layouts-Without-Tables.htm)查看示例，了解如何使用 CSS 创建布局的示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:04:34.917

页脚之前的包装器 div 类（带有您为其提供的 css）是我认为当您希望页脚始终占据页面底部时提出的解决方案。

至于您的问题，除非指定了 float 或 inline-block ，否则 div 类默认情况下是相互重叠的。因此，如果您删除：

```
position:absolute;
bottom:0;
left:0; 
```

正如 Wesley 所解释的，您的布局应该没问题。

# php - 搜索页面 magento1.6 上的“Shop By”功能

> ID：10478147
> 
> 赞同：0
> 
> 时间：2012-05-07T07:16:08.817
> 
> 标签：php, magento, magento-1.6

我只想在搜索结果页面和标记搜索页面中显示“shop by”功能。我正在使用 2Column-left 布局。我编辑了 tag.xml

```
<reference name="left">
         <block type="catalog/layer_view" name="catalog.leftnav" before="catalog.compare.sidebar" template="catalog/layer/view.phtml"/>

</reference> 
```

但它无处不在！我如何才能仅为搜索结果和标记搜索自定义它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:20:27.573

你把它放在正确的标签里了吗？例如：

```
<catalogsearch_result_index> 
```

您是否也将它从它出现的任何其他地方删除？*例如*在里面`catalog.xml`？或类似的东西

```
<remove name="catalog.leftnav" /> 
```

你还尝试过什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:35:00.193

在 catalog.xml 和 catalogsearch.xml 中，像下面这样删除指令应该修复：

```
 <reference name="left">
        <block type="catalog/layer_view" name="catalog.leftnav" after="currency" template="catalog/layer/view.phtml"/>
    </reference> 
```

您必须清除 magento 缓存才能使您的编辑效果。

# jquery - 通过 jquery ajax 处理海量数据

> ID：10478149
> 
> 赞同：1
> 
> 时间：2012-05-07T07:16:24.710
> 
> 标签：jquery, asp.net, firebug

我正在 asp.net 中建立一个博客。我想使用 jquery 添加帖子并显示它们。但我不确定它是否会在大量帖子的情况下正常工作，因为上次我使用 jquery ajax 发布大量数据时遇到问题。json 对象在 50000 个字符后被 Firebug 截断，说

> 已达到请求大小限制

我注意到即使是普通帖子，字符数也超过 50K。有没有办法解决这个“请求大小限制”或“使用 jquery 传递如此庞大的数据是一个坏主意”。请给我建议。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T07:22:49.987

我认为问题是 Firebug 的限制，而不是 Ajax 请求。Firebug 对其网络面板中显示的数据量有限制。

请参阅：[Firebug 首选项](http://getfirebug.com/wiki/index.php/Firebug_Preferences)

这是默认设置：

**cache.responseLimit**
缓存和显示的网络响应
字节 的最大大小限制**5242880**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T07:24:23.207

您也可以尝试在 web.config 中设置此设置：

```
<configuration> 
   <system.web.extensions>
       <scripting>
           <webServices>
               <jsonSerialization maxJsonLength="50000000"/>
           </webServices>
       </scripting>
   </system.web.extensions>
</configuration> 
```

更多信息可以在这里找到：

[http://msdn.microsoft.com/en-us/library/system.web.script.serialization.javascriptserializer.maxjsonlength.aspx](http://msdn.microsoft.com/en-us/library/system.web.script.serialization.javascriptserializer.maxjsonlength.aspx)

祝你好运！

# wpf - 如何以 WPF 样式将绑定路径传递给 DataTrigger？

> ID：10478151
> 
> 赞同：-2
> 
> 时间：2012-05-07T07:16:31.333
> 
> 标签：wpf, binding, datatrigger

我有几种风格，但绑定路径略有不同：

```
<Style TargetType="FrameworkElement" x:Key="FieldValidationErrorStyle">
    <Setter Property="Visibility" Value="Visible" />
    <Style.Triggers>
        <DataTrigger Binding="{Binding Path=FieldValidationError}" Value="">
            <Setter Property="Visibility" Value="Collapsed" />
        </DataTrigger>
    </Style.Triggers>
</Style>
<Style TargetType="FrameworkElement" x:Key="NumberValidationErrorStyle">
    <Setter Property="Visibility" Value="Visible" />
    <Style.Triggers>
        <DataTrigger Binding="{Binding Path=NumberValidationError}" Value="">
            <Setter Property="Visibility" Value="Collapsed" />
        </DataTrigger>
    </Style.Triggers>
</Style>
<Style TargetType="FrameworkElement" x:Key="TextValidationErrorStyle">
    <Setter Property="Visibility" Value="Visible" />
    <Style.Triggers>
        <DataTrigger Binding="{Binding Path=TextValidationError}" Value="">
            <Setter Property="Visibility" Value="Collapsed" />
        </DataTrigger>
    </Style.Triggers>
</Style>
<Style TargetType="FrameworkElement" x:Key="DateTimeValidationErrorStyle">
    <Setter Property="Visibility" Value="Visible" />
    <Style.Triggers>
        <DataTrigger Binding="{Binding Path=DateTimeValidationError}" Value="">
            <Setter Property="Visibility" Value="Collapsed" />
        </DataTrigger>
    </Style.Triggers>
</Style>
<Style TargetType="FrameworkElement" x:Key="DateValidationErrorStyle">
    <Setter Property="Visibility" Value="Visible" />
    <Style.Triggers>
        <DataTrigger Binding="{Binding Path=DateValidationError}" Value="">
            <Setter Property="Visibility" Value="Collapsed" />
        </DataTrigger>
    </Style.Triggers>
</Style>
<Style TargetType="FrameworkElement" x:Key="TimeValidationErrorStyle">
    <Setter Property="Visibility" Value="Visible" />
    <Style.Triggers>
        <DataTrigger Binding="{Binding Path=TimeValidationError}" Value="">
            <Setter Property="Visibility" Value="Collapsed" />
        </DataTrigger>
    </Style.Triggers>
</Style> 
```

我们可以发现样式之间的唯一区别是`{Binding Path=xyz}`in `DataTrigger`，我可以仅使用 XMAL 标记删除重复项吗？我知道我们可以[像这个问题一样创建自定义样式，](https://stackoverflow.com/questions/4762630/wpf-style-trigger-on-dynamic-path)但是设​​置器是硬编码的——我们只能扩展 DataTrigger 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:20:10.573

好像您想为 DataTrigger 创建一个模板。由于您无法设置 DataTriggers 的样式，因此您必须自己创建：

```
 public class CollapsingDataTrigger : DataTrigger
    {
        public CollapsingDataTrigger()
        {
            base.Setters.Add(new Setter(FrameworkElement.VisibilityProperty, Visibility.Collapsed));
        }
    } 
```

然后更新您的 XAML 以使用此 CollapsingDataTrigger 而不是常规的（您必须引用创建它的命名空间）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:51:48.823

您可以在其中使用带有`MultiBinding`DataTrigger 和 OR 转换器的单一样式。

```
<Window.Resources>
    <local:AtleastOneEmptyConverter x:Key="AtleastOneEmptyConverter"/>
    <Style TargetType="{x:Type FrameworkElement}">
        <Setter Property="Visibility" Value="Visible" />
        <Style.Triggers>
            <DataTrigger Value="True">
                <DataTrigger.Binding>
                    <MultiBinding
                        Converter="{StaticResource AtleastOneEmptyConverter}">
                        <Binding Path="FieldValidationError"/>
                        <Binding Path="NumberValidationError"/>
                        <Binding Path="TextValidationError"/>
                        ...
                        <Binding Path="DateTimeValidationError"/>
                    </MultiBinding>
                </DataTrigger.Binding>
                <Setter Property="Visibility" Value="Collapsed"/>
            </DataTrigger>
        </Style.Triggers>
     </Style>
</Window.Resources> 
```

**代码背后：**

```
public class AtleastOneEmptyConverter : IMultiValueConverter
{
    public object Convert(object[] values, Type targetType,
                  object parameter, CultureInfo culture)
    {
        return values.Cast<string>().Any(p => string.IsNullOrEmpty(p));
    }

    public object[] ConvertBack(object value, Type[] targetTypes,
                    object parameter, CultureInfo culture)
    {
        throw new NotImplementedException();
    }
} 
```

我确实建议，跳过将样式应用于应用程序中的所有框架元素。如果它在未来变得复杂，它可能会使您的应用程序 GUI 变慢并寻求替代方法，例如`Validation Model`WPF。

如果您仍想将样式应用于应用程序中的所有类型的框架元素，那么您可以交替探索 App.xaml 方法来**覆盖**应用程序中所有框架元素的样式...

# perl - 在 Perl 中计算时间差：这是有效的

> ID：10478153
> 
> 赞同：1
> 
> 时间：2012-05-07T07:16:44.433
> 
> 标签：perl

我想比较 Perl 中的两个日期以检查差异（天、月等），两个日期的格式都类似于 DD-MMM-YYYY。

我正在考虑在 Perl 中使用 mktime 或 DateTime 模块。由于计算会很频繁，我需要有效的方法。

您能否建议在 Perl 中使用 2 或任何其他方法更有效的方法。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T13:04:59.187

[Time::Piece](http://p3rl.org/Time%3a%3aPiece)和[DateTime](http://p3rl.org/DateTime) / [::Format::Strptime](http://p3rl.org/DateTime%3a%3aFormat%3a%3aStrptime)是有效的，因为它们充分利用了开发人员的时间。它们工作正常，经过彻底测试，得到社区的大量使用和认可，返回对象，不会遭受 C 日期时间 API 的疯狂。

```
use Time::Piece qw();
my $t = Time::Piece->strptime('07-May-2012', '%d-%b-%Y');
# returns object of type Time::Piece 
```

* * *

```
use DateTime::Format::Strptime qw();
my $dt = DateTime::Format::Strptime
    ->new(pattern => '%d-%b-%Y', locale => 'en')
    ->parse_datetime('07-May-2012');
# returns object of type DateTime 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:32:43.107

mktime 是一个本地系统调用，我认为它应该比使用实例化新 perl 对象的 DateTime.pm 更快

# php - 哪个版本的php添加函数返回的方法调用

> ID：10478154
> 
> 赞同：1
> 
> 时间：2012-05-07T07:17:04.963
> 
> 标签：php, function, version

在这段代码中：

```
class Foo {
  private $foo;
  public function Foo($foo) {
    $this->foo = $foo;
  }
  public function getFoo() {
    return $this->foo;
  }
}

$a = new Foo(new Foo('bar'));

echo $a->getFoo()->getFoo(); 
```

在旧的 php 中，我不能调用第二个`getFoo`，我需要将它分配给某个变量。哪个版本的php添加了这个功能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T07:22:52.063

> 在旧的 php 中，我不能调用第二个 getFoo，我需要将它分配给某个变量。哪个版本的php添加了这个功能？

也许在一个*非常*旧的 PHP 版本中。它在 PHP 4 中不起作用，因为返回`$this->foo`将按值返回，而不是按引用返回。回来`&$this->foo`会工作。从 PHP 5.0 开始（如果我没记错的话），对象总是通过引用返回，所以上面的代码在 PHP >= 5 中应该可以正常工作。

# ios - UITableViewCell 内的 UIScrollview 中的 UIButton 处理带有数据的事件

> ID：10478156
> 
> 赞同：0
> 
> 时间：2012-05-07T07:17:08.640
> 
> 标签：ios, xcode, events, uitableview, uiscrollview

![在此处输入图像描述](../Images/d97379e65b1ad8c1abe759af5a7b230b.png)

我有一个 CustomUIScrollView，里面有很多 CustomUIButton（每个按钮都是一个有图像和标题的新闻项目——>每个按钮都有一个新闻 ID

当触摸内部按钮时，touchupInside 事件触发-> 一切正常但我希望当触摸按钮时，将创建详细新闻页面 detailViewController，并将其推送到导航控制器（如商店中的 BBC NEWS 应用程序），然后加载详细信息页面网页的 ID 与我们触摸的 Button 的 ID 相同。

我的 tableviewController 是 rootViewController，如何将带有 ID 数据的事件从 UITableViewCell 内的 Scrollview 中的 Button 传递到我的 rootviewController 以推送新的 DetailViewController

预先感谢。（看图更容易理解）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T07:34:42.363

`enter code here`嗨我用这个代码试试这个..

在这段代码中，我通过按钮标记表单调用方法并与被调用方法进行比较，然后根据需要采取任何行动。

谢谢你

```
 -(IBAction)btnpress:(id)sender
     {
      UIButton *btn = (UIButton *)sender;
       NSLog(@"%d",btn.tag);

       if(img_alphabet.tag == btn.tag)
         {

          }
       } 
```

# css - 什么是好的通用、轻量级 CSS 框架？

> ID：10478157
> 
> 赞同：4
> 
> 时间：2012-05-07T07:17:12.990
> 
> 标签：css, frameworks, css-frameworks

我意识到这个问题很可能已经被打死了，而且这更多的是个人喜好问题，但我很好奇是否有人有任何建议。

我有一个不重用代码的坏习惯。（很可能是因为我似乎总是以某种方式最终丢失我在不断增长的迷宫中收集的任何片段，这是我的“开发”文件夹）话虽如此，我决定在几个月前开始尝试找到一个现有的 CSS 框架，我可以使用它来让我在处理新项目时更轻松。我现在已经尝试了其中的一些，虽然我找到了一些很棒的，但没有一个非常适合我正在寻找的东西。

按重要性排序，这是我希望找到的：

*   **灵活性**——我太不稳定了，无法长期遵循单一的设计/开发模式。话虽如此，如果我不必花费大部分时间来覆盖我正在使用的框架中的各种规则，我会更喜欢它。当然，我明白，无论我使用什么框架，我都需要偶尔这样做，但我需要的越少越好。

*   **轻量级**——我并不是真的在寻找一个框架来作为我整个项目的基础。我正在寻找更多帮助类的集合，可能还有一些实用规则，以便为 Internet Explorer 等带来理智。基本上，我正在寻找能让我的生活更轻松的东西。

*   **跨浏览器兼容**- 如果框架不符合当前标准，我可以不在乎，只要它在我进入的任何浏览器中看起来都相对相同。不幸的是，我有一些客户仍在使用 Internet Explorer 7，我不得不接受这些客户。不过，在这一点上，我不太关心它是否仍然与 Internet Explorer 6 兼容。

*   **模块化**- 虽然它不是一个交易破坏者，但我希望找到一个轻量级的框架，仍然可以管理设计的模块化方法。我的意思是，许多样式表，都基于“目的”。例如，它会在名为 forms/forms.css 的文件夹/样式表中收集所有用于处理表单（.error、.info、.alert、.text、.required 等）的常用类，同时保留任务规则例如在另一个文件/文件夹中的布局。我真的很喜欢[YAML](http://www.yaml.de/)这样做的方式——不幸的是，YAML 有太多我没有使用的额外东西，而且可能在一段时间内都不需要。（虽然说实话，如果我找不到任何其他框架，我可能只是看看我能做些什么来减少我在 YAML 中不使用的东西，

就内容而言，我真的只是在寻找一些准系统、常用的东西。像：

```
.text-center { text-align: left; }
.text-right { text-align: right; }
.centered { margin-left: auto; margin-right: auto; }
.left { float: left; display: block; }
.right { float: right; display: block; } 
```

当然，通常的 clearfix 东西。处理圆角、阴影等的类也很好。

目前我并不太关心可访问性、rtl 支持、微格式等，因为我将使用这个框架主要用于与我的客户打交道，而到目前为止我还没有遇到这种需求。

最后，我首先是一名开发人员，（我只是碰巧最近有很多事情需要我做比我感到舒服的更多的设计工作）所以我经常会遇到需要构建在客户端或服务器端动态标记，因此框架的标记越简单越好。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T08:54:18.623

试试[960格系统](http://960.gs/)。这是我最喜欢的 ：）

如果您需要进行研究，这里有一个[很好的指南](http://www.hotscripts.com/blog/guide-html-css-frameworks-libraries/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-22T20:06:36.763

最好的框架是我正在使用的，它响应迅速且轻量级，您将在 12KB（压缩）中获得 Bootstrap 的所有功能，并且易于理解。您也将在手机上获得 100 的页面速度。

检查这个：[http ://skhost.in/one](http://skhost.in/one)

点击下方查看速度：[https ://developers.google.com/speed/pagespeed/insights/?url=http%3A%2F%2Fskhost.in%2Fone&tab=desktop](https://developers.google.com/speed/pagespeed/insights/?url=http%3A%2F%2Fskhost.in%2Fone&tab=desktop)

# c# - 如何放置我的按钮？

> ID：10478159
> 
> 赞同：0
> 
> 时间：2012-05-07T07:17:19.957
> 
> 标签：c#, winforms

我的 C# WinForm 项目有问题。

在我的项目中，我有一个绘制正方形的函数，并且我有一个在运行时制作按钮的函数。我想要做的是按钮将放置在正方形上。

我尝试使用 2 个数组；一个获取正方形的 x 位置，另一个获取 y 位置。

按钮在列中一一放置在 x 和 y 位置，但将它们放置在对角线上。

```
int[] locationx = new int[100];
    int[] locationy = new int[100];
    int monex = 0;
    int money = 0;
    private void DrawAllSquares()//z,k its many square its going to draw
    {
        int tempy = y;
        for (int i = 0; i < z; i++)
        {
            DrawingSquares(x, y);
            for (int j = 0; j < k - 1; j++)
            {
                locationy[money] = tempy;
                money++;
                tempy += 60;
                DrawingSquares(x, tempy);
            }
            x += 120;
            locationx[monex] = x;
            monex++;
            tempy = y;
        }

    }
        private void button2_Click(object sender, EventArgs e)
    {
                            Button myText = new Button();
            myText.Tag = counter;
            //changeplace();
            myText.Location = new Point(locationx[monex2], locationy[money2]);
            monex2++;
            money2++;
            buttonList.AddLast(myText);
            myText.Text = Convert.ToString(textBox3.Text);
            this.Controls.Add(myText);
            buttons[counter] = myText;
            myText.BringToFront();
            counter++;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T07:22:21.503

您需要将创建的按钮添加到**表单**控件集合。

```
private void button2_Click(object sender, EventArgs e)
{
    Button myText = new Button();
    myText.Tag = counter;
    myText.Location = new Point(locationx[monex2], locationy[money2]);
    Controls.Add(myText); // Assuming that handler 'button2_Click' is in your Form class.
    // rest of your code
 } 
```

**编辑**：

```
Button myText = new Button();
myText.Click += button2_Click; 
```

# function - 如果错误消息回显行内容

> ID：10478166
> 
> 赞同：0
> 
> 时间：2012-05-07T07:18:05.483
> 
> 标签：function, vim, echo

我尝试在我的文本文档中捕获带有计算的行
并执行它们。

我在我的函数中使用它：

```
for i in range(startline,endline) 
let calculation = getline(i)  
...  
let out = eval(calculation)  
...  
endfor 
```

有时会出现问题，我收到此消息：

```
Error detected while processing function....  
Line ...  
E488: Trailing Characters 
```

Line .. 是我函数中的 line-nr。
我还想知道它涉及哪个计算（我的文本文档中的哪一行）：

如果检测到错误 = 回波计算

如何检查是否有错误消息并回显变量“计算”？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:26:13.947

有两种方法可以处理函数内部的脚本错误：

首先是通过抑制错误`:silent!`。两个缺点：您必须手动检查是否成功，并且评估脚本的任何正常输出也会被抑制（除非您使用 扭曲`:unsilent`）。

```
let v:errmsg = ''
silent! let out = eval(calculation)
if v:errmsg != ''
    " error
endif 
```

我会通过 try...catch 推荐第二种方式，这样可以避免输出问题并且必须明确检查错误：

```
try
    let out = eval(calculation)
catch /^Vim\%((\a\+)\)\=:E/
    " v:exception contains what is normally in v:errmsg, but with extra
    " exception source info prepended, which we cut away.
    let v:errmsg = printf("Line: %d\nCalculation: %s\nError: %s", i, calculation, substitute(v:exception, '^Vim\%((\a\+)\)\=:', '', ''))
    echohl ErrorMsg
    echomsg v:errmsg
    echohl None
endtry 
```

# jquery - jQuery 追加一个段落两次

> ID：10478167
> 
> 赞同：5
> 
> 时间：2012-05-07T07:18:12.393
> 
> 标签：jquery

我正在创建一个 jquery 动画，奇怪的是，当我附加一个新段落时，它会附加两次，只有在附加前 2 个段落时才会出现问题，这可能是一个 jQuery 错误。否则，我希望有人能帮助我。

HTML：

```
<body>
    <div id="element">
     </div>
</body>​ 
```

JavaScript：

```
$(function() {
    animation();
});

function animation()
{
   $('<p id="p1">paragraph 1</p>').appendTo('#element');
   $('<p id="p2">paragraph 2</p>').appendTo('#element');
   $('#p1, #p2').fadeOut(600, function(){
       $('#p1, #p2').remove();
       var $p3 = $('<p>paragraph 3 </p>').appendTo('#element');
   });
}​ 
```

问题在于附加了两次的“第 3 段”！您可以在此处运行代码：http: [//jsfiddle.net/jonah13/QLM2s/](http://jsfiddle.net/jonah13/QLM2s/)

谢谢，尤尼斯

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-07T07:31:05.600

我不知道为什么其他发现问题的答案被否决，因为他们发现了问题。

这是修复它的代码。请注意，从[jQuery 文档](http://api.jquery.com/promise)开始，从 jQuery 1.6 开始（我假设您正在使用它，因为 jsFiddle 使用的是 1.7.2），您可以使用`.promise()`：

> 从 jQuery 1.6 开始，当所有匹配的元素都完成动画时，该`.promise()`方法可以与该`deferred.done()`方法结合使用，以对整个动画执行单个回调。

我已经更新了你的小提琴：

```
$(function() {
   animation();
});

function animation()
{
   $('<p id="p1">paragraph 1</p>').appendTo('#element');
   $('<p id="p2">paragraph 2</p>').appendTo('#element');
   $('#p1, #p2')
     .fadeOut(600)
     .promise().done(function() {
       $('#p1, #p2').remove();
       var $p3 = $('<p>paragraph 3 </p>').appendTo('#element');
   });         
}​ 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-07T07:20:57.027

`fadeOut()`每个匹配选择器的元素都会触发一次提供给的函数。由于选择器返回两个元素，它被触发两次，因此附加了两个段落。

此处修改示例：http: [//jsfiddle.net/QLM2s/1/](http://jsfiddle.net/QLM2s/1/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-07T07:21:46.400

问题是第 1 段和第 2 段的淡出：jQuery 正在为您给它的每个选择器执行淡出函数内的代码（在这种情况下，两个段落，所以两个追加）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-09-22T20:18:07.160

由于 fadeout() 触发两次更好，因此您在追加到 div 之前清空该段落。

试试下面的代码：

```
$(function() {
 animation();
});
function animation() 
{
 $('<p id="p1">paragraph 1</p>').appendTo('#element');
 $('<p id="p2">paragraph 2</p>').appendTo('#element');
 $('#p1, #p2').fadeOut(600, function(){      
      $('p').empty();
   var $p3 = $('<p>paragraph 3 </p>').appendTo('#element');
 });
} 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-05-07T07:23:30.863

这似乎工作正常

```
$(function() {
   animation();
});

function animation()
{
   $('<p id="p1">paragraph 1</p>').appendTo('#element');
   $('<p id="p2">paragraph 2</p>').appendTo('#element');
   $('#p1').fadeOut(600, function(){
       $('#p1').fadeOut();
      $('#p1, #p2').remove();
      var $p3 = $('<p>paragraph 3 </p>').appendTo('#element');
   } 
```

); }​</p>

# java - 如何显示 ImageButton 被按下？

> ID：10478169
> 
> 赞同：0
> 
> 时间：2012-05-07T07:18:14.147
> 
> 标签：java, android

如果我像这样向它添加图像，如何显示 ImageButton 被按下：

```
 Drawable testPic = getResources().getDrawable(R.drawable.test_pic);

        button.setImageDrawable( testPic ); 
```

并制作透明背景，以便只有图像：

```
button.setBackgroundColor(Color.TRANSPARENT); 
```

所以当我按下图像按钮时，我没有看到它被按下。我希望该图像在按下时会突出显示或其他内容。

此外，我的每个按钮都是由代码动态创建的，我不知道图像是什么以及有多少按钮。

那么有什么想法吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T07:22:07.777

您应该使用[选择器](http://www.mkyong.com/android/android-imagebutton-selector-example/)来选择 UI 元素的所有不同外观，包括`ImageButton`.

首先是`state_Pressed=true`表示按下时的样子。之后是常规的，这是按钮的正常状态。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T07:21:53.000

我认为您应该为此使用[状态列表](http://developer.android.com/guide/topics/resources/drawable-resource.html#StateList)...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T07:24:48.333

您必须在运行时更改图像。您可以在 xml 文件的帮助下实现这些。

```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
<item android:state_pressed="false" android:drawable="@drawable/category_listing_bg_img" /> 
<item android:state_pressed="true"   android:drawable="@drawable/category_listing_bg_img_pressed" /> 
</selector> 
```

将此 xml 复制到您的可绘制文件夹

# ios5 - iOS 手势处理：使用自定义 UIView 时在哪里添加手势识别器

> ID：10478182
> 
> 赞同：1
> 
> 时间：2012-05-07T07:19:19.200
> 
> 标签：ios5, uigesturerecognizer

我有一个视图控制器，在其中显示图像的网格/数组，其中每个图像视图都是自定义笔尖（自定义笔尖，因为图像也有名称和喜欢/不喜欢的图标）。所以我在我的视图控制器中显示了像这样的图像网格`viewDidLoad`。

```
int row=0, col=0;
for (int i=0; i<arrayImg.count; i++) {
    NSArray *topObj = [[NSBundle mainBundle] loadNibNamed:@"CustomImageView" owner:nil options:nil];
    CustomImageView *imgView = [topObj objectAtIndex:0];
    imgView.frame = CGRectMake(180*col+10, 180*row+10, 170, 170);

    // custom image values inserted here

    [self.view addSubView:imgView];

    // update the row,col variables here
} 
```

现在我需要为屏幕上显示的每个图像添加一个点击手势识别器。`CustomImageView`在这种情况下，在自定义笔尖/类中添加手势识别器对我来说似乎是合乎逻辑的。`CustomImageView`extends `UIView`，所以这里似乎不能声明手势识别器（自动完成没有出现，语法高亮也不起作用）。我在这里错过了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-07T07:34:25.443

您当然可以向您的`CustomImageView`（假设它是 a `UIView`）添加手势识别器。尝试这样的事情：

```
UITapGestureRecognizer *tapRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(tapped:)];
[tapRecognizer setNumberOfTapsRequired:1];
[tapRecognizer setDelegate:self];

[imgView addGestureRecognizer:tapRecognizer]; 
```

请注意，您应该看到自动完成的唯一方法是`addGestureRecognizer`.

一般来说，比起自动完成，更喜欢官方文档（或编译器，如果你喜欢的话）来决定一个特性是否存在。根据我的经验，自动完成并不总是正确的。

# xslt - 将部分父节点复制到子节点 XSLT

> ID：10478187
> 
> 赞同：0
> 
> 时间：2012-05-07T07:19:37.527
> 
> 标签：xslt, xslt-1.0, xslt-grouping

我想将节点从父节点复制到子节点。我不确定如何实现这一点。

我的源xml

```
<Root1>
    <Family1>
      <Childrens>
        <Child>
          <ChildFirstName>Robin1</ChildFirstName>
          <ChildLastName>Jackman1</ChildLastName>
          <Address>
            <Street1>Street1</Street1>
            <State>State</State>
            <Country>Country</Country>
          </Address>
          <Activities>
            <Sports>
              <Cricket>
                <ParticipentNames>

                </ParticipentNames>
              </Cricket>
            </Sports>
          </Activities>
        </Child>
        <Child>
          <ChildFirstName>Robin2</ChildFirstName>
          <ChildLastName>Jackman2</ChildLastName>
          <Address>
            <Street1>Street1</Street1>
            <State>State</State>
            <Country>Country</Country>
          </Address>
          <Activities>
            <Sports>
              <Cricket>
                <ParticipentNames>

                </ParticipentNames>
              </Cricket>
            </Sports>
          </Activities>
        </Child>
        <Child>
          <ChildFirstName>Robin3</ChildFirstName>
          <ChildLastName>Jackman3</ChildLastName>
          <Address>
            <Street1>Street1</Street1>
            <State>State</State>
            <Country>Country</Country>
          </Address>
          <Activities>
            <Sports>
              <Cricket>
                <ParticipentNames>

                </ParticipentNames>
              </Cricket>
            </Sports>
          </Activities>
        </Child>
      </Childrens>
    </Family1>
  </Root1> 
```

我想得到输出

```
<Root1>
    <Family1>
      <Childrens>
        <Child>
          <ChildFirstName>Robin1</ChildFirstName>
          <ChildLastName>Jackman1</ChildLastName>
          <Address>
            <Street1>Street1</Street1>
            <State>State</State>
            <Country>Country</Country>
          </Address>
          <Activities>
            <Sports>
              <Cricket>
                <ParticipentNames>
                  <ChildFirstName>Robin1</ChildFirstName>
                  <ChildLastName>Jackman1</ChildLastName>
                  <Address>
                    <Street1>Street1</Street1>
                    <State>State</State>
                    <Country>Country</Country>
                  </Address>
                </ParticipentNames>
              </Cricket>
            </Sports>
          </Activities>
        </Child>
        <Child>
          <ChildFirstName>Robin2</ChildFirstName>
          <ChildLastName>Jackman2</ChildLastName>
          <Address>
            <Street1>Street1</Street1>
            <State>State</State>
            <Country>Country</Country>
          </Address>
          <Activities>
            <Sports>
              <Cricket>
                <ParticipentNames>
                  <ChildFirstName>Robin2</ChildFirstName>
                  <ChildLastName>Jackman2</ChildLastName>
                  <Address>
                    <Street1>Street1</Street1>
                    <State>State</State>
                    <Country>Country</Country>
                  </Address>
                </ParticipentNames>
              </Cricket>
            </Sports>
          </Activities>
        </Child>
        <Child>
          <ChildFirstName>Robin3</ChildFirstName>
          <ChildLastName>Jackman3</ChildLastName>
          <Address>
            <Street1>Street1</Street1>
            <State>State</State>
            <Country>Country</Country>
          </Address>
          <Activities>
            <Sports>
              <Cricket>
                <ParticipentNames>
                  <ChildFirstName>Robin3</ChildFirstName>
                  <ChildLastName>Jackman3</ChildLastName>
                  <Address>
                    <Street1>Street1</Street1>
                    <State>State</State>
                    <Country>Country</Country>
                  </Address>
                </ParticipentNames>
              </Cricket>
            </Sports>
          </Activities>
        </Child>
      </Childrens>
    </Family1>
  </Root1> 
```

我想要 XSLT 1.0 中的解决方案。

我想将这些节点复制到子节点

```
 <ChildFirstName>Robin3</ChildFirstName>
                  <ChildLastName>Jackman3</ChildLastName>
                  <Address>
                    <Street1>Street1</Street1>
                    <State>State</State>
                    <Country>Country</Country>
                  </Address> 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:29:06.687

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="xml" indent="yes"/>

    <xsl:template match="@* | node()">
        <xsl:copy>
            <xsl:apply-templates select="@* | node()"/>
        </xsl:copy>
    </xsl:template>
  <xsl:template match="/OrderItem/ProductionInformation/GSItem">
    <xsl:copy>
      <xsl:apply-templates select="@*|node()"/>
      <xsl:for-each select="/OrderItem">
        <xsl:apply-templates select="@*|node()[name()!='ProductionInformation']"/>
      </xsl:for-each>
    </xsl:copy>
  </xsl:template>

</xsl:stylesheet> 
```

# ios - 界面生成器和模拟器/设备之间的图像颜色变化

> ID：10478195
> 
> 赞同：0
> 
> 时间：2012-05-07T07:20:13.313
> 
> 标签：ios, colors, rgb

我有一个带有屏幕的 iPhone 应用程序，其中有两个矩形，一个是 an `UIImage`，另一个是 simple `UIView`，`UIImage`附加了一个图像，其中包含文本和纯背景色（浅蓝色）。的`UIView`背景颜色与 上的图像相同的浅蓝色背景色调`UIImage`。

问题在于，即使它们在 Interface Builder 上看起来相同，但在 iOS 模拟器和设备上却大不相同。它们在 R 分量上有很大 (10+) 差异，在 G 和 B 值上有微小差异 (2~3)。我正在使用 OS X 应用程序来测量屏幕上的颜色。主要区别在于`UIImage`界面构建器和界面构建器之间。

知道为什么会这样吗？

# sql - SQL SELECT - 在一行上组合多个值

> ID：10478198
> 
> 赞同：3
> 
> 时间：2012-05-07T07:20:45.917
> 
> 标签：sql, sql-server, sql-server-2005

我有一个包含以下数据的表：

```
ID  CAT  TYPE   SUBPRODUCT
--- ---- ------ ----------------
1   1     1       AA
2   1     1       BB
3   1     2       CC 
```

我想得到这样的数据：

```
CAT   TYPE   SUBPRODUCT
----- ------ ---------------
1     1      AA,BB
1     2      CC 
```

请回复我该怎么办。

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-07T07:48:23.517

您可以使用`FOR XML PATH`. 虽然有点难以阅读，但它目前是连接字符串的最简洁的方法。

**分解**

*   `FOR XML PATH`连接与子选择匹配的所有值
*   `STUFF`删除前导逗号

**SQL 语句**

```
SELECT  q.CAT
        , q.TYPE
        , SUBPRODUCT = STUFF((SELECT ', ' + qi.SUBPRODUCT FROM q qi WHERE qi.Cat = q.Cat AND qi.Type = q.Type FOR XML PATH('')), 1, 2, '')
FROM    q
GROUP BY
        q.CAT
        , q.TYPE 
```

**测试脚本**

```
;WITH q AS (
  SELECT * FROM (VALUES 
    (1, 1, 1, 'AA')
    , (2, 1, 1, 'BB')
    , (3, 1, 2, 'CC')
  ) AS a (ID, CAT, TYPE, SUBPRODUCT)    
)
SELECT  q.CAT
        , q.TYPE
        , SUBPRODUCT = STUFF((SELECT ', ' + qi.SUBPRODUCT FROM q qi WHERE qi.Cat = q.Cat AND qi.Type = q.Type FOR XML PATH('')), 1, 2, '')
FROM    q
GROUP BY
        q.CAT
        , q.TYPE 
```

# python - 在 python 中实现的类似 Etherpad 的项目

> ID：10478200
> 
> 赞同：1
> 
> 时间：2012-05-07T07:20:54.377
> 
> 标签：python, collaboration, etherpad

我有一个用 python 实现的 web 项目。我们希望在这个项目中拥有像 Etherpad 这样的文本协作编辑。重用“Etherpad lite”看起来不是一个选项，因为底层数据库之间的交换/同步会很复杂。所以当前的想法是重用 etherpad lite 的客户端并重新实现服务器端。这似乎比预期的要复杂，因为 etherpad lite 的客户端正在使用一些与 node.js 相关的代码。

因此，在深入研究 etherpad lite 代码之前，我想我会问：有人知道实现 etherpad lite 功能的 python 项目吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T09:24:11.533

不要试图寻找另一个项目。Etherpad 是解决方案。它是众所周知的，有据可查且易于集成。

您可以通过遵循一些规则来集成 etherpad-lite：

*   将 etherpad-lite 添加到与您的 python 应用程序相同的域
*   使用有你需要的一切的 etherpad-lite http API
*   阅读文档[http://etherpad.org/doc/v1.2.7/](http://etherpad.org/doc/v1.2.7/)

我们目前正在深入研究 CMS Plone（使用 Python 编写）。[您可以在https://github.com/toutpt/collective.etherpad](https://github.com/toutpt/collective.etherpad)找到代码（正在开发中）

# git - 将 Git Diff 限制为一个或多个函数？

> ID：10478210
> 
> 赞同：11
> 
> 时间：2012-05-07T07:21:18.430
> 
> 标签：git, git-diff, git-log

我`*.py diff=python`进去了`.git/info/attributes`。所以 Git 知道函数边界在哪里。git diff -W 甚至可以确保显示整个函数。

但是有没有办法将 git diff 的输出限制为一个特定的函数（或多个）？

（失败了，我想这是 awk ......）

编辑这也对`git log`和有用`git rev-list`：不要向我显示修改views.py的每个提交，向我显示修改其中某个函数的提交。（是的，在理想情况下，views.py 不会是一个 2000 行的庞然大物，经常被 8 个不同的开发人员修改......）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-09T10:42:24.873

好的，感谢[Birei](https://stackoverflow.com/a/10513783/263268)，我们有一个解决方案。

在该答案中使用 awk 脚本，并结合一些 bash：

`~/scripts/grit:`

```
#!/bin/bash
cmd=$1
shift 1
if [ "$cmd" = "" ]; then
  git
# other commands not relevant to this question go here
elif [ $cmd = "funcdiff" ]; then
  git show "$1:$3" | awk -f ~/scripts/getfunc.awk -v f=$4 > /tmp/.tmp1
  git show "$2:$3" | awk -f ~/scripts/getfunc.awk -v f=$4 > /tmp/.tmp2
  git diff -W --no-index /tmp/.tmp1 /tmp/.tmp2 

else
  git $cmd $@
fi 
```

示例用法：`grit funcdiff 009e75 8b7a14 ./staging.py write_uploaded`

这也可以作为 git 别名添加到 ~/.gitconfig

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-09T08:29:03.447

我没有找到任何其他选项（除了已经提到的 the`--function-context`或其`-W`短选项）能够将差异输出限制为单个函数。

甚至该`-W`选项也并不总是足够的，因为知道“功能”可能因语言而异，如本[博](http://johnkary.net/git-1-7-8-changes-for-the-everyday-developer/)文所示：

> 我发现这个选项相当不可靠，至少在一个大型 PHP 类中是这样。
> 我发现的测试`--function-context`经常导致显示几乎所有的原始文件，而 git 似乎对 PHP 的函数边界一无所知。
> 更改前后的上下文行数似乎是随机的，而且差异也不一定总是显示函数的所有行。
> 
> 引入此更改的[原始补丁消息提供了一些启示：](http://permalink.gmane.org/gmane.comp.version-control.git/183199)
> 
> > 这种实现与 grep 中的实现有相同的缺点，即无法显式找到函数的结尾。
> > 这意味着显示了几行额外的上下文，直到下一个识别的函数开始。
> 
> 因此，对于 git 来说，检测函数的边界似乎很困难。
> 在这种情况下，git 似乎从不检测函数边界并为我们提供整个文件的上下文。

* * *

正如[OP Steve Bennett](https://stackoverflow.com/users/263268/steve-bennett)指出的那样，一个潜在的解决方案是定义一个 git 别名，该别名将在修改前后提取修订版中的函数，以便区分这两个“临时”文件。[“创建 Git 别名](http://davidwalsh.name/git-aliases)”和“[从文件中选择单个 Python 函数的 Bash 脚本](https://stackoverflow.com/questions/10512351/bash-script-to-select-a-single-python-function-from-a-file)
” 中的示例。

这是一个临时解决方案，它将能够解析 OP 在他的 repo 中碰巧使用的特定类型的源。

# jquery - 如果表格显示错误，如何隐藏提交按钮

> ID：10478216
> 
> 赞同：1
> 
> 时间：2012-05-07T07:21:55.640
> 
> 标签：jquery

我正在学习 jQuery，并且有一个关于如何隐藏提交按钮的问题，如果任何表格显示“错误”

这是我到目前为止所写的，但不确定我做错了什么。提前致谢！

```
 <script type="text/javascript">
            $(document).ready(function () {
                $('table').highlight("Error");

                if ($('table').contains('Error')) {
                    $("#ProcessReshop").hide();
                }
            }); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T07:30:28.227

试试这个，[JsFiddle 的演示](http://jsfiddle.net/q3WcU/)

```
 $(document).ready(function () {
      //  alert($('table').text());
        if($('table').text().indexOf("Error") != -1)
        {
            alert("error");
             $("#ProcessReshop").hide();
        }
    });​ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T07:26:52.327

试试这个：

```
$('table td').each(function(){
  if ($(this) + ':contains("Error")'){
    $("#ProcessReshop").hide();
    return false;
  }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T07:29:54.480

您正在使用的 contains 函数正在寻找 DOM 元素。试试这个：

```
 if(​$("table:contains('Error')")==$("table")​​​​​​​​​​​​​​​​​​​​){
        $("#ProcessReshop").hide();
    }​ 
```

# ant - ProGuard Ant 任务的多个配置文件

> ID：10478220
> 
> 赞同：3
> 
> 时间：2012-05-07T07:22:21.023
> 
> 标签：ant, proguard

我正在使用 ProGuard ant 任务，一切都很好，除了我的 ProGuard 配置文件很大。此外，不同的任务使用不同的 ProGuard 配置文件，并且有很多复制粘贴我想重构为单独的 .pro 文件。

```
<taskdef resource="proguard/ant/task.properties" classpath="C:/Program Files/proguard4.7/lib/proguard.jar"/>
<target name="obfuscated_jar" depends="raw_jar">
    <proguard configuration="core.pro lib1.pro lib2.pro">
        <outjar path="prog_obfuscated.jar"/>
    </proguard>
</target> 
```

以上不起作用，因为它将多个 .pro 文件视为一个大文件名。我是一个众所周知的白痴，我是否遗漏了一些明显的东西？谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-08T09:02:16.663

您可以创建一个包含`-include`指向实际 .pro 文件的选项的主 .pro 文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T16:58:59.223

这个答案不是很好，但它有效......

```
<taskdef resource="proguard/ant/task.properties" classpath="C:/Program Files/proguard4.7/lib/proguard.jar"/>
<target name="obfuscated_jar" depends="raw_jar">
    <concat destfile="proguard_temp.pro">
        <filelist dir="." files="core.pro,lib1.pro,lib2.pro"/>
    </concat>
    <proguard configuration="proguard_temp.pro">
        <outjar path="prog_obfuscated.jar"/>
    </proguard>
    <delete file="proguard_temp.pro"/>
</target> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T07:53:11.823

看起来`configuration`属性中只允许一个文件。
**编辑**
和属性只允许在`<proguard>`元素上。我有另一个可能的解决方案。尝试使用 Ant [concat-task](http://ant.apache.org/manual/Tasks/concat.html)将您的配置文件连接成一个并将此临时文件传递给`<proguard configuration=""`> 属性。

* * *

此外，可以修改`ProGuardTask`-class 以接受多个文件作为参数并稍后将它们连接起来。Ant 也可以达到同样的效果`macrodef`。

# php - 如何获取 Citrix 的 Goto 会议访问令牌

> ID：10478224
> 
> 赞同：1
> 
> 时间：2012-05-07T07:22:46.057
> 
> 标签：php

嗨，我正在尝试通过 php curl 获取 Goto 会议 OAuth 访问令牌。但是当我打电话时它什么也不返回。请指导我如何获得它，代码如下。

$api_key = "123456"; $redirect_url = urlencode("URL");

$webinar_url = "https://api.citrixonline.com/oauth/authorize?client_id=".$api_key."&redirect_uri=".$redirect_url;

function getWebinarData($link) { $headers = array("HTTP/1.1", "Content-type: application/json", "Accept: application/json");

```
$curl = curl_init($link);

curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);
curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);      //2

$response = curl_exec($curl);
echo "<pre>DATA: ";print_r($response);echo "</pre>";
curl_close($curl);

return $response; 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T05:20:40.500

```
/**
 * goto api 
 * Author: Ahad Ali
 * Date: valentines day 2013 
 * Classes Curl, OAuth, GotoTraining
 */
define ("API_KEY", "");
define ("REDIRECT_URL","");
define ("AUTH_AUTOLOGIN_URL","https://developer.citrixonline.com/oauth/g2t/authorize.php");
define ("AUTH_EXCHANGE_URL", "https://api.citrixonline.com/oauth/access_token?grant_type=authorization_code&code=<CODE>&client_id=" . API_KEY);
define ("MANAGE_TRAINING_URL","https://api.citrixonline.com/G2T/rest/organizers/<ORGANIZERKEY>/trainings");

class Curl
{
    public $result;
    public function __construct()
    {

    }

    public function request($url, $data="", $method="get", $headers="")
    {
        $ch = curl_init();
        // this is autologiM USING CURL POST
        // avoiding the redirect to gotos site where it asks for email and password and redirects back to the URL with a code
        curl_setopt($ch, CURLOPT_URL, $url); 
        if($method == "post")
        {
            curl_setopt($ch, CURLOPT_POST, true);
            curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
            curl_setopt($ch, CURLOPT_HEADER, true);
        }
        if($headers)
            curl_setopt($ch, CURLOPT_HTTPHEADER,$headers);          

        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);

        $this->result =  (string) curl_exec($ch);
        curl_close($ch);
        return $this->result;
    }

    public function __destruct()
    {

    }
}

class OAuth
{
    public $autologin_url;
    public $exchange_url;
    public $code;
    public $auth_result;
    //https://api.citrixonline.com/oauth/authorize?client_id= used this URL to get all the field names 
   public $login_data = array(
        'emailAddress' => '',
        'password' => '',
        'client_id' => '',
        'access_type'=> 'G2T',
        'app_name' => '',
        'redirect_uri' => '',
        'submitted' => 'form_submitted',
        );

   public function __construct($autologin_url = AUTH_AUTOLOGIN_URL, $exchange_url = AUTH_EXCHANGE_URL, $apikey=API_KEY)
   {
       $this->autologin_url = $autologin_url;
       $this->exchange_url = $exchange_url;
       $this->login_data['client_id'] = $apikey;
   }
   public function authorize()
   {
       $this->getCode();
       $this->exchangeCodeForAccessToken();

   }
   public function getCode()
   {
       $curl = new Curl();
       $result = $curl->request($this->autologin_url, $this->login_data, "post");
       $arr = explode("\n", $result);
        foreach($arr as $k=>$v)
        {
                if(strstr($v,"Location: http:"))
                        $return_url = $v;
        }
        $query = trim(parse_url($return_url, PHP_URL_QUERY));// adds one unnecessary _ (underscore) at the end of the query string
        $this->code = substr($query, 5, (strlen($query) - 6));//starting from 5 get me ...number of chars
   }
   function exchangeCodeForAccessToken()
   {
       $this->exchange_url = str_replace("<CODE>", $this->code, $this->exchange_url);
       $curl = new Curl();
       $result = $curl->request($this->exchange_url);
       $this->auth_result = json_decode($result);
    }
   public function __destruct()
   {

   }
}

class GotoTraining extends OAuth
{
    public $manage_training_url;
    public $training_result;
    public $error_list = array("AuthFailure", "AccessDenied", "ExpiredToken", "InternalError", "InvalidRequest", "InvalidMethod", "MissingToken", "NoSuchTraining", "InvalidToken");
    public function __construct($url = MANAGE_TRAINING_URL)
    {
        $this->manage_training_url = $url;
        parent::__construct();
    }
    /**
 *Arguement List for goto CreateTraining service
 *  [name] => Representational State Transfer 101
    [description] => The REST-ful way to APIs.
    [timeZone] => America/Los_Angeles
    [times] => Array
        (
            [0] => stdClass Object
                (
                    [startDate] => 2011-09-08T18:25:00Z
                    [endDate] => 2011-09-08T19:25:00Z
                )

            [1] => stdClass Object
                (
                    [startDate] => 2011-09-09T18:25:00Z
                    [endDate] => 2011-09-09T19:25:00Z
                )

        )

    [registrationSettings] => stdClass Object
        (
            [disableWebRegistration] => false
            [disableConfirmationEmail] => false
        )

    [organizers] => Array
        (
            [0] => 6512477
            [1] => 38712
            [2] => 9876466
        ) 
 */
    public function createTraining($name, $desc, $times)
    {

        $registrationSettings["disableWebRegistration"] = "false";
        $registrationSettings["disableConfirmationEmail"] = "false";

        $json["name"] = $name;
        $json["description"] = $desc;
        $json["timeZone"] = "Australia/Sydney";
        $json["times"] = $times;//array for startDate, endDate
        $json["registrationSettings"] = $registrationSettings;
        $json["organizers"][0] =  $this->auth_result->organizer_key;

        $this->manage_training_url = str_replace("<ORGANIZERKEY>", $this->auth_result->organizer_key, $this->manage_training_url);
        $json = json_encode($json);
        //$post_data[] = "Authorization:OAuth oauth_token=" . $this->auth_result->access_token;
        //$this->manage_training_url = $this->manage_training_url . "?oauth_token=" . $this->auth_result->access_token;

        $headers =  array(
               'Accept: application/json',
              'Content-Type: application/json', 
              'Authorization: OAuth oauth_token=' . $this->auth_result->access_token
              );

        //$this->manage_training_url = $this->manage_training_url . "?oauth_token=" . $this->auth_result->access_token;
        $curl = new Curl();
        $this->training_result = $curl->request($this->manage_training_url, $json, "post", $headers);
        $arr = explode("\n", $this->training_result);
        $this->webCode = trim($arr[count($arr)-1], '"');

        $this->checkError();

        return $this->webCode;
    }

    public function checkError()
    {
        foreach($this->error_list as $val)
        {
            if(strstr($this->training_result, $val))
                $this->webCode = $val;
        }
        return 0;
    }
} 
```

# android - ListView 没有显示？

> ID：10478225
> 
> 赞同：0
> 
> 时间：2012-05-07T07:22:49.380
> 
> 标签：android, listview

我有一个使用 listview 元素的活动，如下所示

```
public class List1 extends Activity
{

Context context=this;

@Override
        public void onCreate(Bundle savedInstanceState)
        {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.listview);

        try{
                        //DB

           final SQLiteDatabase db;
            db = openOrCreateDatabase(
                "Secret.db"
                , SQLiteDatabase.CREATE_IF_NECESSARY
                , null
                );
            db.setVersion(1);
            db.setLocale(Locale.getDefault());
            db.setLockingEnabled(true);

            Cursor cur = db.query("tbl_user",null,null,null,null,null,null);

            //DB Over

         ListView listView = (ListView) findViewById(R.id.mylist);
         listView.setTextFilterEnabled(true);

         final String[] values = new String[50];
         int i=0;
         while(cur.moveToNext())
         {

                    values[i]=Integer.toString(cur.getInt(0))+":"+cur.getString(1)+":"+cur.getString(2);     
          i++;
         }

        cur.close();

         ArrayAdapter<String> adapter = new ArrayAdapter<String>(context,R.layout.list_item,values);

            listView.setAdapter(adapter);
            listView.setVisibility(0);

               listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {

              public void onItemClick(AdapterView<?> parent, View view, int position,long id)
                //public void onItemClick(ListView<?> listview, View view, int position,long id)
                {

                  try
                  {
                     Intent i=new Intent(List1.this,Form1.class);
                     i.putExtra("uid","85");
                     startActivity(i);
                     finish();
                  }
                  catch(Exception e)
                  {
                      String insert2="insert into login values("+"\""+e.toString()+"\""+");";
                        db.execSQL(insert2);

                  }

                }
            });

               db.close();
            //required
            }
       catch(Exception e)
       {
        Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_LONG).show();}
       }
} 
```

这是我的 listview.xml 文件

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >
     <ListView
        android:id="@+id/mylist"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >
    </ListView> 

  </RelativeLayout> 
```

这是我的 list_item.xml 文件，其中包含所需的 textview

```
 <?xml version="1.0" encoding="utf-8"?>
    <TextView xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" 
        android:id="@+id/tv1"
        android:padding="10dp"
        android:background="@drawable/textview1"
        style="@style/textview_text"
        android:textSize="16dp">

</TextView> 
```

但是 ListView 不起作用。我的意思是在参加此活动后，应用程序显示错误，显示“APP_NAME 意外停止”。相同的代码工作一两次，然后连续显示上述错误。我可以知道为什么会这样吗？
**编辑**
这是 logcat 文件

```
W/dalvikvm( 2694): threadid=3: thread exiting with uncaught exception (group=0x4
001b188)
E/AndroidRuntime( 2694): Uncaught handler: thread main exiting due to uncaught e
xception
E/AndroidRuntime( 2694): java.lang.NullPointerException
E/AndroidRuntime( 2694):        at android.widget.ArrayAdapter.createViewFromRes
ource(ArrayAdapter.java:355)
E/AndroidRuntime( 2694):        at android.widget.ArrayAdapter.getView(ArrayAdap
ter.java:323)
E/AndroidRuntime( 2694):        at android.widget.AbsListView.obtainView(AbsList
View.java:1274)
E/AndroidRuntime( 2694):        at android.widget.ListView.makeAndAddView(ListVi
ew.java:1668)
E/AndroidRuntime( 2694):        at android.widget.ListView.fillDown(ListView.jav
a:637)
E/AndroidRuntime( 2694):        at android.widget.ListView.fillFromTop(ListView.
java:694)
E/AndroidRuntime( 2694):        at android.widget.ListView.layoutChildren(ListVi
ew.java:1521)
E/AndroidRuntime( 2694):        at android.widget.AbsListView.onLayout(AbsListVi
ew.java:1113)
E/AndroidRuntime( 2694):        at android.view.View.layout(View.java:6830)
E/AndroidRuntime( 2694):        at android.widget.RelativeLayout.onLayout(Relati
veLayout.java:900)
E/AndroidRuntime( 2694):        at android.view.View.layout(View.java:6830)
E/AndroidRuntime( 2694):        at android.widget.FrameLayout.onLayout(FrameLayo
ut.java:333)
E/AndroidRuntime( 2694):        at android.view.View.layout(View.java:6830)
E/AndroidRuntime( 2694):        at android.widget.LinearLayout.setChildFrame(Lin
earLayout.java:1119)
E/AndroidRuntime( 2694):        at android.widget.LinearLayout.layoutVertical(Li
nearLayout.java:998)
E/AndroidRuntime( 2694):        at android.widget.LinearLayout.onLayout(LinearLa
yout.java:918)
E/AndroidRuntime( 2694):        at android.view.View.layout(View.java:6830)
E/AndroidRuntime( 2694):        at android.widget.FrameLayout.onLayout(FrameLayo
ut.java:333)
E/AndroidRuntime( 2694):        at android.view.View.layout(View.java:6830)
E/AndroidRuntime( 2694):        at android.view.ViewRoot.performTraversals(ViewR
oot.java:996)
E/AndroidRuntime( 2694):        at android.view.ViewRoot.handleMessage(ViewRoot.
java:1633)
E/AndroidRuntime( 2694):        at android.os.Handler.dispatchMessage(Handler.ja
va:99)
E/AndroidRuntime( 2694):        at android.os.Looper.loop(Looper.java:123)
E/AndroidRuntime( 2694):        at android.app.ActivityThread.main(ActivityThrea
d.java:4363)
E/AndroidRuntime( 2694):        at java.lang.reflect.Method.invokeNative(Native
Method)
E/AndroidRuntime( 2694):        at java.lang.reflect.Method.invoke(Method.java:5
21)
E/AndroidRuntime( 2694):        at com.android.internal.os.ZygoteInit$MethodAndA
rgsCaller.run(ZygoteInit.java:860)
E/AndroidRuntime( 2694):        at com.android.internal.os.ZygoteInit.main(Zygot
eInit.java:618)
E/AndroidRuntime( 2694):        at dalvik.system.NativeStart.main(Native Method)

D/dalvikvm( 2694): GC freed 6621 objects / 343272 bytes in 126ms
I/dalvikvm( 2694): Uncaught exception thrown by finalizer (will be discarded):
I/dalvikvm( 2694): Ljava/lang/IllegalStateException;: Finalizing cursor android.
database.sqlite.SQLiteCursor@44c60cd0 on login that has not been deactivated or
closed
I/dalvikvm( 2694):      at android.database.sqlite.SQLiteCursor.finalize(SQLiteC
ursor.java:596)
I/dalvikvm( 2694):      at dalvik.system.NativeStart.run(Native Method)
I/dalvikvm( 2694): Uncaught exception thrown by finalizer (will be discarded):
I/dalvikvm( 2694): Ljava/lang/IllegalStateException;: Finalizing cursor android.
database.sqlite.SQLiteCursor@44c58028 on login that has not been deactivated or
closed
I/dalvikvm( 2694):      at android.database.sqlite.SQLiteCursor.finalize(SQLiteC
ursor.java:596)
I/dalvikvm( 2694):      at dalvik.system.NativeStart.run(Native Method)
I/dalvikvm( 2694): Uncaught exception thrown by finalizer (will be discarded):
I/dalvikvm( 2694): Ljava/lang/IllegalStateException;: Finalizing cursor android.
database.sqlite.SQLiteCursor@44c37fa0 on login that has not been deactivated or
closed
I/dalvikvm( 2694):      at android.database.sqlite.SQLiteCursor.finalize(SQLiteC
ursor.java:596)
I/dalvikvm( 2694):      at dalvik.system.NativeStart.run(Native Method)
I/Process (   52): Sending signal. PID: 2694 SIG: 3
I/dalvikvm( 2694): threadid=7: reacting to signal 3
I/dalvikvm( 2694): Wrote stack trace to '/data/anr/traces.txt'
I/Process ( 2694): Sending signal. PID: 2694 SIG: 9
I/ActivityManager(   52): Process com.notification (pid 2694) has died.
I/WindowManager(   52): WIN DEATH: Window{44d90538 com.notification/com.notifica
tion.List1 paused=false}
I/UsageStats(   52): Unexpected resume of com.android.launcher while already res
umed in com.notification
W/InputManagerService(   52): Window already focused, ignoring focus gain of: co
m.android.internal.view.IInputMethodClient$Stub$Proxy@44d933c8
I/ActivityManager(   52): Start proc com.notification for broadcast com.notifica
tion/.AlarmReceiver: pid=2706 uid=10034 gids={3003}
D/ddm-heap( 2706): Got feature list request
D/dalvikvm( 1152): GC freed 194 objects / 8728 bytes in 88ms
I/ActivityManager(   52): Starting activity: Intent { act=android.intent.action.
MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.notification/
.NotificationActivity }
I/ActivityManager(   52): Starting activity: Intent { cmp=com.notification/.Back
ground }
I/ActivityManager(   52): Displayed activity com.notification/.Background: 262 m
s (total 8081 ms)
D/dalvikvm(  234): GC freed 44 objects / 2064 bytes in 134ms
D/AndroidRuntime( 2718):
D/AndroidRuntime( 2718): >>>>>>>>>>>>>> AndroidRuntime START <<<<<<<<<<<<<<
D/AndroidRuntime( 2718): CheckJNI is ON
D/AndroidRuntime( 2718): --- registering native functions ---
D/ddm-heap( 2718): Got feature list request
D/PackageParser(   52): Scanning package: /data/app/vmdl67950.tmp
I/PackageManager(   52): Removing non-system package:com.notification
D/PackageManager(   52): Removing package com.notification
D/PackageManager(   52):   Services: com.notification.BackService
D/PackageManager(   52):   Receivers: com.notification.AlarmReceiver
D/PackageManager(   52):   Activities: com.notification.NotificationActivity com
.notification.Form1 com.notification.Background com.notification.Bg com.notifica
tion.List1
W/InputManagerService(   52): Window already focused, ignoring focus gain of: co
m.android.internal.view.IInputMethodClient$Stub$Proxy@44eb1868
D/PackageManager(   52): Scanning package com.notification
I/PackageManager(   52): /data/app/vmdl67950.tmp changed; unpacking
D/installd(   32): DexInv: --- BEGIN '/data/app/vmdl67950.tmp' ---
D/dalvikvm( 2724): DexOpt: load 40ms, verify 159ms, opt 2ms
D/installd(   32): DexInv: --- END '/data/app/vmdl67950.tmp' (success) ---
D/PackageManager(   52):   Services: com.notification.BackService
D/PackageManager(   52):   Receivers: com.notification.AlarmReceiver
D/PackageManager(   52):   Activities: com.notification.NotificationActivity com
.notification.Form1 com.notification.Background com.notification.Bg com.notifica
tion.List1
D/ActivityManager(   52): Uninstalling process com.notification
D/ActivityManager(   52): Force removing process ProcessRecord{44e9eb48 2706:com
.notification/10034} (com.notification/10034)
I/Process (   52): Sending signal. PID: 2706 SIG: 9
D/ActivityManager(   52): Received spurious death notification for thread androi
d.os.BinderProxy@44eec8b8
I/installd(   32): move /data/dalvik-cache/data@app@vmdl67950.tmp@classes.dex ->
 /data/dalvik-cache/data@app@com.notification.apk@classes.dex
D/PackageManager(   52): New package installed in /data/app/com.notification.apk

D/AndroidRuntime( 2718): Shutting down VM
D/dalvikvm( 2718): DestroyJavaVM waiting for non-daemon threads to exit
D/dalvikvm( 2718): DestroyJavaVM shutting VM down
D/dalvikvm( 2718): HeapWorker thread shutting down
D/dalvikvm( 2718): HeapWorker thread has shut down
D/jdwp    ( 2718): JDWP shutting down net...
I/dalvikvm( 2718): Debugger has detached; object registry had 1 entries
D/dalvikvm( 2718): VM cleaning up
D/dalvikvm( 2718): LinearAlloc 0x0 used 623916 of 5242880 (11%)
D/ActivityManager(   52): Uninstalling process com.notification
I/dalvikvm( 2718): JNI: AttachCurrentThread (from ???.???)
E/AndroidRuntime( 2718): ERROR: thread attach failed
W/ResourceType(   52): Resources don't contain package for resource number 0x7f0
700e5
W/ResourceType(   52): Resources don't contain package for resource number 0x7f0
20031
W/ResourceType(   52): Resources don't contain package for resource number 0x7f0
20030
W/ResourceType(   52): Resources don't contain package for resource number 0x7f0
50000
W/ResourceType(   52): Resources don't contain package for resource number 0x7f0
60000
W/ResourceType(   52): Resources don't contain package for resource number 0x7f0
60001
D/dalvikvm( 1152): GC freed 139 objects / 5928 bytes in 230ms
D/dalvikvm(   52): GC freed 14606 objects / 863536 bytes in 259ms
W/ResourceType(   52): Resources don't contain package for resource number 0x7f0
700e5
W/ResourceType(   52): Resources don't contain package for resource number 0x7f0
20031
W/ResourceType(   52): Resources don't contain package for resource number 0x7f0
20030
W/ResourceType(   52): Resources don't contain package for resource number 0x7f0
50000
D/dalvikvm(   52): GC freed 425 objects / 17320 bytes in 275ms
W/ResourceType(   52): Resources don't contain package for resource number 0x7f0
60000
W/ResourceType(   52): Resources don't contain package for resource number 0x7f0
60001
D/AndroidRuntime( 2729):
D/AndroidRuntime( 2729): >>>>>>>>>>>>>> AndroidRuntime START <<<<<<<<<<<<<<
D/AndroidRuntime( 2729): CheckJNI is ON
D/AndroidRuntime( 2729): --- registering native functions ---
D/ddm-heap( 2729): Got feature list request
I/ActivityManager(   52): Starting activity: Intent { act=android.intent.action.
MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.notification/
.NotificationActivity }
I/ActivityManager(   52): Start proc com.notification for activity com.notificat
ion/.NotificationActivity: pid=2735 uid=10034 gids={3003}
D/AndroidRuntime( 2729): Shutting down VM
D/dalvikvm( 2729): DestroyJavaVM waiting for non-daemon threads to exit
D/dalvikvm( 2729): DestroyJavaVM shutting VM down
D/dalvikvm( 2729): HeapWorker thread shutting down
D/dalvikvm( 2729): HeapWorker thread has shut down
D/jdwp    ( 2729): JDWP shutting down net...
I/dalvikvm( 2729): Debugger has detached; object registry had 1 entries
D/dalvikvm( 2729): VM cleaning up
E/AndroidRuntime( 2729): ERROR: thread attach failed
D/dalvikvm( 2729): LinearAlloc 0x0 used 639500 of 5242880 (12%)
D/dalvikvm(   30): GC freed 299 objects / 11576 bytes in 264ms
D/ddm-heap( 2735): Got feature list request
D/dalvikvm(   30): GC freed 57 objects / 2432 bytes in 160ms
D/dalvikvm(   30): GC freed 2 objects / 48 bytes in 360ms
I/ActivityManager(   52): Displayed activity com.notification/.NotificationActiv
ity: 1204 ms (total 1204 ms)
W/KeyCharacterMap( 2735): No keyboard for id 0
W/KeyCharacterMap( 2735): Using default keymap: /system/usr/keychars/qwerty.kcm.
bin
I/ActivityManager(   52): Starting activity: Intent { cmp=com.notification/.Bg (
has extras) }
I/ActivityManager(   52): Displayed activity com.notification/.Bg: 329 ms (total
 329 ms)
D/dalvikvm( 1152): GC freed 2454 objects / 141000 bytes in 600ms
I/ActivityManager(   52): Starting activity: Intent { cmp=com.notification/.List
1 bnds=[0,152][480,248] }
W/ActivityManager(   52): startActivity called from non-Activity context; forcin
g Intent.FLAG_ACTIVITY_NEW_TASK for: Intent { cmp=com.notification/.List1 bnds=[
0,152][480,248] }
D/AndroidRuntime( 2735): Shutting down VM
W/dalvikvm( 2735): threadid=3: thread exiting with uncaught exception (group=0x4
001b188)
E/AndroidRuntime( 2735): Uncaught handler: thread main exiting due to uncaught e
xception
E/AndroidRuntime( 2735): java.lang.NullPointerException
E/AndroidRuntime( 2735):        at android.widget.ArrayAdapter.createViewFromRes
ource(ArrayAdapter.java:355)
E/AndroidRuntime( 2735):        at android.widget.ArrayAdapter.getView(ArrayAdap
ter.java:323)
E/AndroidRuntime( 2735):        at android.widget.AbsListView.obtainView(AbsList
View.java:1256)
E/AndroidRuntime( 2735):        at android.widget.ListView.measureHeightOfChildr
en(ListView.java:1147)
E/AndroidRuntime( 2735):        at android.widget.ListView.onMeasure(ListView.ja
va:1060)
E/AndroidRuntime( 2735):        at android.view.View.measure(View.java:7964)
E/AndroidRuntime( 2735):        at android.widget.RelativeLayout.measureChild(Re
lativeLayout.java:554)
E/AndroidRuntime( 2735):        at android.widget.RelativeLayout.onMeasure(Relat
iveLayout.java:377)
E/AndroidRuntime( 2735):        at android.view.View.measure(View.java:7964)
E/AndroidRuntime( 2735):        at android.view.ViewGroup.measureChildWithMargin
s(ViewGroup.java:3023)
E/AndroidRuntime( 2735):        at android.widget.FrameLayout.onMeasure(FrameLay
out.java:245)
E/AndroidRuntime( 2735):        at android.view.View.measure(View.java:7964)
E/AndroidRuntime( 2735):        at android.widget.LinearLayout.measureVertical(L
inearLayout.java:464)
E/AndroidRuntime( 2735):        at android.widget.LinearLayout.onMeasure(LinearL
ayout.java:278)
E/AndroidRuntime( 2735):        at android.view.View.measure(View.java:7964)
E/AndroidRuntime( 2735):        at android.view.ViewGroup.measureChildWithMargin
s(ViewGroup.java:3023)
E/AndroidRuntime( 2735):        at android.widget.FrameLayout.onMeasure(FrameLay
out.java:245)
E/AndroidRuntime( 2735):        at android.view.View.measure(View.java:7964)
E/AndroidRuntime( 2735):        at android.view.ViewRoot.performTraversals(ViewR
oot.java:763)
E/AndroidRuntime( 2735):        at android.view.ViewRoot.handleMessage(ViewRoot.
java:1633)
E/AndroidRuntime( 2735):        at android.os.Handler.dispatchMessage(Handler.ja
va:99)
E/AndroidRuntime( 2735):        at android.os.Looper.loop(Looper.java:123)
E/AndroidRuntime( 2735):        at android.app.ActivityThread.main(ActivityThrea
d.java:4363)
E/AndroidRuntime( 2735):        at java.lang.reflect.Method.invokeNative(Native
Method)
E/AndroidRuntime( 2735):        at java.lang.reflect.Method.invoke(Method.java:5
21)
E/AndroidRuntime( 2735):        at com.android.internal.os.ZygoteInit$MethodAndA
rgsCaller.run(ZygoteInit.java:860)
E/AndroidRuntime( 2735):        at com.android.internal.os.ZygoteInit.main(Zygot
eInit.java:618)
E/AndroidRuntime( 2735):        at dalvik.system.NativeStart.main(Native Method)

I/Process (   52): Sending signal. PID: 2735 SIG: 3
I/dalvikvm( 2735): threadid=7: reacting to signal 3
I/dalvikvm( 2735): Wrote stack trace to '/data/anr/traces.txt'
W/ActivityManager(   52): Launch timeout has expired, giving up wake lock!
W/ActivityManager(   52): Activity idle timeout for HistoryRecord{44dcace0 com.n
otification/.List1}
I/Process ( 2735): Sending signal. PID: 2735 SIG: 9
I/ActivityManager(   52): Process com.notification (pid 2735) has died.
I/WindowManager(   52): WIN DEATH: Window{44d8db78 com.notification/com.notifica
tion.List1 paused=false}
I/UsageStats(   52): Unexpected resume of com.android.launcher while already res
umed in com.notification
I/ActivityManager(   52): Start proc com.notification for broadcast com.notifica
tion/.AlarmReceiver: pid=2745 uid=10034 gids={3003}
W/InputManagerService(   52): Window already focused, ignoring focus gain of: co
m.android.internal.view.IInputMethodClient$Stub$Proxy@44f2e3d8
E/gralloc (   52): [unregister] handle 0x423290 still locked (state=40000001)
D/ddm-heap( 2745): Got feature list request
D/dalvikvm( 1152): GC freed 212 objects / 9560 bytes in 82ms
I/ActivityManager(   52): Starting activity: Intent { act=android.intent.action.
MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.notification/
.NotificationActivity }
I/ActivityManager(   52): Starting activity: Intent { cmp=com.notification/.Back
ground }
I/ActivityManager(   52): Displayed activity com.notification/.Background: 240 m
s (total 16387 ms)
D/dalvikvm(  234): GC freed 43 objects / 2024 bytes in 152ms 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T07:39:02.883

我认为您的适配器应该知道它应该使用哪个 textViewResourceId。所以试试这个：`ArrayAdapter<String> adapter = new ArrayAdapter<String>(context,R.layout.list_item, R.id.tv1,values);`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T07:25:25.073

将此更改为

```
<ListView
    android:id="@+id/mylist"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" > 
```

这个

```
<ListView
    android:id="@+id/mylist"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" > 
```

你为什么需要`listView.setVisibility(0)`？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-07T07:26:42.173

```
 final String[] values = new String[50];
     int i=0;
     while(cur.moveToNext())
     {

                values[i]=Integer.toString(cur.getInt(0))+":"+cur.getString(1)+":"+cur.getString(2);     
      i++;
     }

    cur.close(); 
```

从这段代码开始。

当`db.query`返回时，您应该在开始在`while`循环中使用它之前回退光标。如果查询返回超过 50 个结果怎么办？您的应用程序将崩溃`ArrayOutBoundException`

# android - 为什么使用片段，以及何时使用片段而不是活动？

> ID：10478233
> 
> 赞同：578
> 
> 时间：2012-05-07T07:23:36.650
> 
> 标签：android, android-layout, android-fragments, android-activity, android-3.0-honeycomb

在 Android API 11+ 中，Google 发布了一个名为`Fragment`.

在视频中，谷歌建议尽可能（[链接1](https://www.youtube.com/watch?v=WGIU2JX1U5Y)，[链接2](https://www.youtube.com/watch?v=sTx-5CGDvM8)），我们应该使用片段而不是活动，但他们没有解释确切的原因。

片段的目的和它们的一些可能用途是什么（除了一些可以通过简单的视图/布局轻松实现的 UI 示例）？

我的问题是关于片段：

1.  使用片段的目的是什么？
2.  与使用活动/视图/布局相比，使用片段有哪些优点和缺点？

奖励问题：

3.  你能给片段一些真正有趣的用途吗？谷歌在他们的视频中没有提到的事情？
4.  在片段和包含它们的活动之间进行通信的最佳方式是什么？
5.  使用片段时要记住的最重要的事情是什么？您的经验中有什么提示和警告吗？

* * *

## 回答 #1

> 赞同：332
> 
> 时间：2012-05-09T12:11:32.057

> #1 & #2 使用片段的目的是什么？与使用活动/视图/布局相比，使用片段的优缺点是什么？

片段是 Android 创建可重用用户界面的解决方案。您可以使用活动和布局（例如使用包含）来实现一些相同的目的。然而; 片段从 HoneyComb 和更高版本连接到 Android API。让我详细说明；

*   `ActionBar`。_ 如果您希望在上面的选项卡导航您的应用程序，您很快就会看到该`ActionBar.TabListener`界面为您提供了一个`FragmentTransaction`作为该`onTabSelected`方法的输入参数。您可能会忽略这一点，并做一些其他聪明的事情，但是您将针对 API 工作，而不是使用它。

*   `FragmentManager`以一种非常巧妙的方式为您提供“背部”把手。Back 并不意味着回到上一个活动，就像常规活动一样。这意味着回到之前的片段状态。

*   您可以使用cool`ViewPager`和a`FragmentPagerAdapter`来创建滑动界面。该`FragmentPagerAdapter`代码比常规适配器更简洁，并且它控制各个片段的实例化。

*   如果您在尝试为手机和平板电脑创建应用程序时使用 Fragments，您的生活会轻松很多。由于这些片段与 Honeycomb+ API 紧密相关，因此您也希望在手机上使用它们以重用代码。这就是兼容性库派上用场的地方。

*   您甚至可以并且应该将片段用于仅适用于手机的应用程序。如果您考虑到便携性。我使用`ActionBarSherlock`和兼容性库来创建“看起来像 ICS”的应用程序，这些应用程序在 1.6 版中看起来都一样。您将获得最新的功能`ActionBar`，例如带有标签、溢出、拆分操作栏、viewpager 等。

> 奖金 2

在 Fragment 之间进行通信的最佳方式是 Intent。当您按下片段中的某些内容时，您通常会调用`StartActivity()`其中的数据。意图将传递给您启动的活动的所有片段。

* * *

## 回答 #2

> 赞同：80
> 
> 时间：2012-05-07T07:37:28.713

不确定您指的是什么视频，但我怀疑他们是否说您应该使用片段而不是活动，因为它们不能直接互换。开发指南中实际上有一个相当[详细](https://developer.android.com/guide/components/fragments.html)的条目，请考虑阅读它以了解详细信息。

简而言之，Fragment 存在于 Activity 中，每个 Activity 可以承载许多 Fragment。与活动一样，它们具有特定的生命周期，与活动不同，它们不是顶级应用程序组件。片段的优点包括代码重用和模块化（例如，在许多活动中使用相同的列表视图），包括构建多窗格界面的能力（主要用于平板电脑）。主要缺点是（一些）增加了复杂性。您通常可以使用（自定义）视图以非标准且不太健壮的方式实现相同的目的。

* * *

## 回答 #3

> 赞同：65
> 
> 时间：2014-05-23T13:26:29.933

片段是应用程序用户界面或行为的一部分，可以放置在活动中，从而实现更加模块化的活动设计。如果我们说片段是一种子活动，那并没有错。

以下是有关片段的要点：

1.  片段有自己的布局和自己的行为以及自己的生命周期回调。

2.  您可以在活动运行时在活动中添加或删除片段。

3.  您可以在单个活动中组合多个片段以构建多窗格 UI。

4.  一个片段可以用于多个活动。

5.  片段生命周期与其宿主活动的生命周期密切相关。

6.  当活动暂停时，活动中所有可用的片段也将停止。

7.  片段可以实现没有用户界面组件的行为。

8.  [在 API 版本 11 的Android 3](http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29) (Honeycomb)中， Fragment 添加到了 Android API 。

更多详情，请访问官方网站*[Fragments](http://developer.android.com/guide/components/fragments.html)*。

* * *

## 回答 #4

> 赞同：31
> 
> 时间：2015-09-04T04:23:45.200

这是我在片段中发现的重要信息：

> 从历史上看，Android 应用程序中的每个屏幕都是作为单独的 Activity 实现的。这对在屏幕之间传递信息造成了挑战，因为 Android Intent 机制不允许在活动之间直接传递引用类型（即对象）。相反，必须对对象进行序列化或使全局可访问的引用可用。
> 
> 通过使每个屏幕成为单独的 Fragment，完全避免了这种数据传递问题。片段始终存在于给定 Activity 的上下文中，并且始终可以访问该 Activity。通过在 Activity 中存储感兴趣的信息，每个屏幕的 Fragment 可以简单地通过 Activity 访问对象引用。

来源：[https ://www.pluralsight.com/blog/software-development/android-fragments](https://www.pluralsight.com/blog/software-development/android-fragments)

* * *

## 回答 #5

> 赞同：28
> 
> 时间：2018-06-28T23:14:09.803

活动是应用程序中带有工具栏的全屏组件，其他所有内容最好是片段。一个带有工具栏的全屏父 Activity 可以有多个窗格、可滚动页面、对话框等（所有片段），所有这些都可以从父节点访问并通过父节点进行通信。

例子：

**活动 A、活动 B、活动 C：**

*   所有活动都需要重复相同的代码，例如显示基本工具栏，或从父活动继承（管理起来很麻烦）。
*   要从一个活动移动到另一个活动，要么所有活动都需要在内存中（开销），要么需要销毁一个活动才能打开另一个活动。
*   活动之间的通信可以通过 Intents 完成。

对比

**活动A，片段1，片段2，片段3：**

*   没有代码重复，所有屏幕都有来自该活动的工具栏等。
*   从一个片段移动到下一个片段的几种方法 - 查看寻呼机、多窗格等。
*   Activity 拥有最多的数据，因此需要最少的片段间通信。如果仍然需要，可以通过接口轻松完成。
*   片段不需要是全屏的，设计它们有很大的灵活性。
*   如果不需要视图，片段不需要膨胀布局。
*   多个活动可以使用同一个片段。

* * *

## 回答 #6

> 赞同：11
> 
> 时间：2014-12-15T16:59:12.627

片段在某些情况下特别有用，例如我们希望在所有页面中保留导航抽屉。您可以使用您想要的任何片段来扩展框架布局，并且仍然可以访问导航抽屉。

如果您使用了活动，则必须将抽屉保留在所有活动中，这会产生冗余代码。这是片段的一个有趣用途。

我是 Android 新手，但仍然认为片段以这种方式很有帮助。

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2015-05-17T08:16:05.243

我知道这已经被讨论死了，但我想补充几点：

*   Frags 可用于填充`Menu`s 并可以`MenuItem`自行处理点击。从而为您的活动提供更多调制选项。您可以在 Activity 不知道的情况下执行 ContextualActionBar 等操作，并且基本上可以将其与 Activity 处理的基本内容（导航/设置/关于）分离。

*   带有子 Frags 的父 Frag 可以为您提供更多选项来模块化组件。例如，您可以轻松交换 Frags，将新 Frags 放入 Pager 或移除它们，重新排列它们。所有这些都没有你的 Activity 对它一无所知，只是专注于更高层次的东西。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2015-12-14T11:15:58.513

片段存在于活动中，而活动则单独存在。

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2016-05-15T12:46:47.577

Fragments 存在于 Activity 中，并且具有：

*   自己的生命周期
*   自己的布局
*   它自己的子片段等。

将 Fragments 视为它所属的主要活动的子活动，它不能单独存在，并且可以一次又一次地调用/重用。希望这可以帮助 ：）

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2017-09-04T11:50:57.287

1.使用片段的目的？

*   答：
    1.  处理设备外形尺寸差异。
    2.  在应用程序屏幕之间传递信息。
    3.  用户界面组织。
    4.  高级 UI 隐喻。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2021-11-04T13:49:03.917

如果你以前写过前端，那么使用前端组件，如（React、Vue 或 Angular）。想想像活动中的**可重用组件**这样的片段。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-02-18T15:49:15.043

`Fragment`可以将其视为 ui 元素组合树中的非根组件，而活动位于组合森林（ui 树）的顶部。

*   **关于何时不**使用的经验法则`Fragment`是，当片段作为孩子时具有冲突的属性，例如，它可能是身临其境的，或者可能一起使用不同的风格，或者有一些其他架构/逻辑差异并且不适合现有树*同构*。

*   `Activity`关于何时优先选择的经验法则`Fragment`是，任务（或一组连贯的任务）完全独立且可重用，并且可以进行一些繁重的举重，并且不应该进一步负担以符合另一个父子组合（违反 SRP，第二责任将是符合复合材料）。例如，`MediaCaptureActivity`捕获音频、视频、照片等并允许编辑、去除噪音、对照片进行注释等。这个活动/模块可能有子片段，这些片段做更精细的工作并符合一个共同的显示主题。

# facebook - 给定 Facebook 应用程序的页面/ID，我如何找到该应用程序有多少“喜欢”？

> ID：10478234
> 
> 赞同：0
> 
> 时间：2012-05-07T07:23:41.380
> 
> 标签：facebook, facebook-graph-api

法姆维尔/前沿维尔/等

我如何计算这些应用程序有多少“喜欢”？图形 API 不适用于应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T07:37:40.370

下面的图形 api 将显示与应用程序相关的所有信息

[https://graph.facebook.com/159616034235/](https://graph.facebook.com/159616034235/)

结果：

![在此处输入图像描述](../Images/a29ae2acb016be9457f03448b1bc3d6c.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T07:33:43.593

称呼

```
https://graph.facebook.com/APP_ID 
```

[在Graph Explorer](https://developers.facebook.com/tools/explorer)中尝试这个示例调用：

```
https://graph.facebook.com/farmville 
```

它将返回一个带有 id、名称、图片、链接的 JSON 响应，然后喜欢作为第 5 个值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T18:41:56.047

你错了。图形 API 不适~~用于~~应用程序。

[http://www.facebook.com/dominodraw/](http://www.facebook.com/dominodraw/)

带我到“找不到页面”。因此，`dominodraw`不是有效的 Facebook 用户名。

尝试一下`graph.facebook.com/<your_app_id>`，它会为您的应用程序获得点赞。

*ps 以防万一您感到困惑。*

`farmville`不仅是应用程序的名称，而且他们已注册`farmville`为 facebook 用户名。

所以，他们可以`https://graph.facebook.com/farmville`一起做`graph.facebook/208633805894647`

如果你没有为你的应用设置用户名，你只能通过`app_id`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-07T07:59:05.843

您可以通过 Application`id`或 Application查询从 Graph API 获得喜欢的数量`namespace`。

```
https://graph.facebook.com/APP_ID_OR_NAMESPACE 
```

您还可以将结果限制为仅由`id`应用程序构造并在 URL 中`likes`使用参数：`fields`

```
https://graph.facebook.com/APP_ID_OR_NAMESPACE?fields=likes 
```

请注意，并非每个应用程序都有`namespace`定义，并且由于应用程序的名称不是唯一的，因此最好使用`id`应用程序从 Graph API 中检索详细信息

# iphone - position 和 positionInPixels 有什么区别

> ID：10478235
> 
> 赞同：0
> 
> 时间：2012-05-07T07:23:42.503
> 
> 标签：iphone, ios, cocos2d-iphone

过去我总是看到调用的属性`position`和属性`positionInPixels`是一样的。这一次`position * 2 == positionInPixels`。谁能告诉我这两个属性之间有什么区别，或者它们的价值何时会不同？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-07T07:28:32.403

`position`以点`positionInPixels`为单位，以像素为单位。在非视网膜设备上 1 点 = 1 像素。在 iPhone 4/4S 和 New iPad 等 Retina 设备上，1 点 = 2 像素。

根据[iOS 人机界面指南](http://developer.apple.com/library/ios/#DOCUMENTATION/UserExperience/Conceptual/MobileHIG/Characteristics/Characteristics.html)：

> 注意：**像素**是讨论设备屏幕大小或您在图像编辑应用程序中创建的图标大小时使用的适当测量单位。**点**是讨论在屏幕上绘制的区域大小时使用的适当测量单位。
> 
> **在标准分辨率的设备屏幕上，一个点等于一个像素，但其他分辨率可能会规定不同的关系。例如，在 Retina 显示器上，一个点等于两个像素。**
> 
> 有关此概念的完整讨论，请参阅iOS 的View [Programming Guide中的](http://developer.apple.com/library/ios/DOCUMENTATION/WindowsViews/Conceptual/ViewPG_iPhoneOS/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009503)[“Points Versus Pixels” 。](http://developer.apple.com/library/ios/DOCUMENTATION/WindowsViews/Conceptual/ViewPG_iPhoneOS/WindowsandViews/WindowsandViews.html#//apple_ref/doc/uid/TP40009503-CH2-SW15)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:28:10.783

`position`以点为单位提供位置，而`positionInPixels`以像素为单位提供位置。例如，在 iPhone 4 上，位置范围可以从 (0,0) 到 (320, 480)（在纵向模式下）；positionInPixels 的范围可以从 (0,0) 到 (640, 960) 以反映其视网膜显示的更高分辨率。

基本上，它们在视网膜显示设备上是不同的；它们在非视网膜显示设备上是相同的。

希望这可以帮助...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T07:28:24.153

当您使用 Retina 显示器时，您的画布仍由 320x480 点组成，但每个点由 2 个像素组成。在标准显示器中，每个点是一个像素。这就是为什么视网膜显示更详细的原因，因为可以在纹理中使用更多的像素数据。所以以像素为单位的位置是指特定像素上的位置。（即点 0 可以是高视网膜显示器中的像素 0 或像素 1）

# hibernate - Hibernate 映射 - 多对一关系

> ID：10478239
> 
> 赞同：0
> 
> 时间：2012-05-07T07:24:22.423
> 
> 标签：hibernate, hibernate-mapping, many-to-one

以前，这就是我映射“活动”表的方式。此表存储链接到 Account 和 Contact 表的 CONTACT_ID 和 ACCOUNT_ID。 ![在此处输入图像描述](../Images/75c611d6282b5562540008ddc6d21a63.png)

这样

```
<many-to-one
    name="accountObj"
    class="my.com.miramax.crm.account.db.Account"
    not-null="false"
    not-found="ignore"
    insert="false"
    update="false"
    column="ACCOUNT_ID"
/> 
```

现在我有一个如下表 ![在此处输入图像描述](../Images/e574d48a1c0e20c767034dab78b4f7fa.png)

此表不存储 ACCOUNT_ID 和 CONTACT_ID，但它分为“Table_REF”和“REF_ID”。例如，TABLE_REF = "Account" 和 REF_ID = 239 与 Account 表中的 Account_ID = 239 相同。

谁能告诉我如何映射此表，以便区分它们并在 DAO 中使用它进行搜索？

请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:37:16.330

您可以尝试以下映射 --- 这将根据相应表中是否存在 ID 来填充它。您可以使用以下查询正确加载数据。

```
"from Activity activity left outer join activity.account ac with tableref='Account' left outer join activity.contact con with tableref='Contact'"

------------

<many-to-one name="account" 
column="REF_ID"
insert="false"
update="false" 
lazy="no-proxy"
not-found="ignore"
>
</many-to-one>

<many-to-one name="contact" 
column="REF_ID"
insert="false"
update="false"
lazy="no-proxy"
not-found="ignore"
>
</many-to-one> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:59:30.207

对我来说，这听起来像是一个典型的案例`<any>`：

```
<any name="referenceObj" id-type="long" meta-type="string">
    <meta-value value="Account" class="my.com.miramax.crm.account.db.Account"/>
    <meta-value value="Contact" class="..."/>
    <column name="TABLE_REF"/>
    <column name="REF_ID"/>
</any> 
```

请参阅[参考文档](http://docs.jboss.org/hibernate/orm/4.1/manual/en-US/html/ch05.html#mapping-types-anymapping)。

# python - temp.readline() 为空？

> ID：10478242
> 
> 赞同：7
> 
> 时间：2012-05-07T07:24:26.230
> 
> 标签：python

我能够创建和写入临时文件，但是在读取文件时行是空的。我确认临时文件有内容。这是我的代码。谢谢

```
import tempfile
temp = tempfile.NamedTemporaryFile()

with open("~/somefile.txt") as inf:
    for line in inf:
        if line==line.lstrip():
            temp.write(line)

line = str(temp.readline()).strip()
print line #nothing 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-05-07T07:26:37.257

您必须重新打开（或倒带）临时文件，然后才能从中读取：

```
import tempfile
temp = tempfile.NamedTemporaryFile()

with open("~/somefile.txt") as inf:
    for line in inf:
        if line==line.lstrip():
            temp.write(line)

temp.seek(0) # <=============== ADDED

line = str(temp.readline()).strip()
print line 
```

否则，当您调用`temp.readline()`.

# java - 使用 XMLStreamWriterEx(stax-ex-api) 写入二进制数据

> ID：10478245
> 
> 赞同：0
> 
> 时间：2012-05-07T07:24:29.117
> 
> 标签：java, xml, binary, stax

文档说 XMLStreamWriter 应该向下转换为 XMLStreamWriterEx 来实现。但是它会抛出 ClassCastException。没有关于如何实现它的示例。

我尝试执行以下操作，正如预期的那样，抛出了 ClassCastException。

```
XMLStreamWriter xmlStreamWriter = xmlFactory.createXMLStreamWriter(outFile);
XMLStreamWriterEx xmlStreamWriterEx = (XMLStreamWriterEx) xmlStreamWriter;

if(xmlStreamWriter instanceof XMLStreamWriterEx){
    System.out.println("Voila!");
} 
```

是否有任何其他方式或 API 可用于使用 xmlstreamwriter 编写二进制数据？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-16T13:34:22.457

由于 XMLStreamWriterEx 是扩展 XMLStreamWriter 的接口，因此尝试强制转换为该接口会导致未定义的方法。您需要转换为实现 XMLStreamWriterEx 的具体类。

# jakarta-ee - 回滚收到的 jms 消息

> ID：10478248
> 
> 赞同：1
> 
> 时间：2012-05-07T07:24:37.180
> 
> 标签：jakarta-ee, transactions, jms, rollback

如何在 Transaction 中接收队列的多条消息并在某些时候回滚，以便使用该队列中消息的其他程序可以接收消息？

我试图以某种方式这样做：

```
ObjectMessage obj = (objectMessage) consumer.receive();

ObjectMessage obj2 = (ObjectMessage) consumer.receive(10000);
if(obj2 == null) session.rollback(); //if we haven't received thesecond message after 10     second, also the first message should be rolled back so other consumerprograms can take it. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T07:36:03.400

某个点回滚，以便使用此队列中消息的其他程序可以接收消息？

回滚不是将消息发送回队列并其他人使用它的好策略。如果您想将消息传播给多个消费者，请使用 Tpoic 而不是队列。

关于发回消息。向 JMS 代理回滚/重新发送消息取决于确认模式。

如果您的确认是基于事务的，则使用

```
session.rollback(); 
```

其他明智的使用以下

```
session.recover(); 
```

它会将所有未确认的消息还原回 JMS 代理。

除了 AUTO 确认模式，消息将保留在代理中，直到您根据确认设置确认或提交会话。

因此，当您完成成功的消息处理时，请确认它。如果 msg 处理有错误/异常，则回滚/恢复以发回。如果您不想再次处理失败的消息（让它成为时间限制处理/在给定时间内未处理），那么只需确认消息并记录错误。在两者之间发送消息没有限制。

回滚消息可能会再次返回到同一个客户端，因此除非您使用选择器，否则不回滚可能不会完全有用。检查选择器它允许您进行基于内容的路由。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:26:22.363

我不清楚为什么程序 a 想要回滚。它不能处理收到的消息吗？为什么其他消费者需要相同的信息？

您还可以使用`clientAcknowledge`消息确认模式来“回写”收到的消息。在这种模式下，您不会`message.acknowledge()`对收到的消息执行任何操作。

# javascript - 如何使用 javaScript 在 Iframe 中添加 CSS 类和控件元素。？

> ID：10478251
> 
> 赞同：1
> 
> 时间：2012-05-07T07:25:02.657
> 
> 标签：javascript, html, css, iframe

如何使用 javaScript 在 Iframe 中添加 CSS 类和控件元素。

```
<iframe width="340" scrolling="no" height="37" src="http://www.indiansplash.com/business/include/dash11i.php" id="ifr" hspace="0" marginwidth="0" marginheight="0" vspace="0" style="width: 585px; height: 47px; border: #dddddd 1px solid"></iframe> 
```

这是我的代码。[http://jsfiddle.net/wV8gF/](http://jsfiddle.net/wV8gF/)

在这里，我想隐藏具有 BSE 徽标的第一列，并且我想更改值的颜色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T13:27:34.413

尝试这个。它可能有用。

[http://jsfiddle.net/wV8gF/3/](http://jsfiddle.net/wV8gF/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:35:21.100

DOM 包含一个可以使用 JavaScript 访问的框架集合：

您的 iframe 标签上需要一个 name 属性

```
<iframe name = "myFrame"
    width="340" scrolling="no" height="37" 
    src="http://www.indiansplash.com/business/include/dash11i.php" 
    id="ifr" hspace="0" marginwidth="0" marginheight="0" vspace="0" 
    style="width: 585px; height: 47px; border: #dddddd 1px solid">
</iframe> 
```

然后你可以像这样访问它：

```
var myFrame = frames["myFrame"] 
```

您可以按照此处的示例将新样式表应用于内容：[如何将 CSS 应用于 iframe？](https://stackoverflow.com/questions/217776/how-to-apply-css-to-iframe)

**更新**

按照我上面引用的参考文献中的示例：

```
var cssLink = document.createElement("link") 
cssLink.href = "iframeStyles.css"; /* change this to the url for a stylesheet targetting the iframe */
cssLink .rel = "stylesheet"; 
cssLink .type = "text/css"; 
frames['myFrame'].document.body.appendChild(cssLink); 
```

然后在`iframeStyles.css`：

```
td{border:1px solid red;} /*or whatever*/ 
```

您可能需要一个具有更强特异性的选择器，或者将 !important 应用于样式以覆盖已经存在的声明。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T08:51:30.933

尝试使用以下代码：

```
var my_td = $("#table_id tr td", $("#iframe_ID").contents()); 
```

希望这行得通……穆罕默德。

# c - 汇编中的纯高位乘法？

> ID：10478253
> 
> 赞同：5
> 
> 时间：2012-05-07T07:25:10.407
> 
> 标签：c, assembly, x86

为了实现 0 到 1 之间的实数，通常使用 ANSI 浮点数或双精度数。但是 0 和 1 之间的固定精度数（小数模 1）可以有效地实现为 32 位整数或 16 位字，它们像普通整数/字一样相加，但乘以“错误的方式”，这意味着当你乘以 X 时Y，您保留产品的高位。这相当于乘以 0.X 和 0.Y，其中 X 的所有位都在小数点后面。同样，-1 和 1 之间的有符号数也可以通过这种方式实现，只需一个额外的位和一个移位。

如何在 C 中实现固定精度 mod 1 或 mod 2（尤其是使用 MMX 或 SSE）？我认为这种表示对于酉矩阵的有效表示以及数值密集型物理模拟可能很有用。它使更多的 MMX/SSE 具有整数数量，但您需要更高级别的访问 PMULHW。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-07T08:21:39.310

如果 16 位定点算法就足够了，并且你在 x86 或类似的架构上，你可以直接使用 SSE。

SSE3 指令`pmulhrsw`直接在硬件中实现带符号的 0.15 定点算术乘法（您称之为 mod 2，从 -1..+1 开始）。加法与标准的 16 位向量运算没有什么不同，只是使用`paddw`.

因此，一次处理八个有符号 16 位定点变量的乘法和加法的库可能如下所示：

```
typedef __v8hi fixed16_t;

fixed16_t mul(fixed16_t a, fixed16_t b) {
    return _mm_mulhrs_epi16(a,b);
}

fixed16_t add(fixed16_t a, fixed16_t b) {
    return _mm_add_epi16(a,b);
} 
```

允许以您喜欢的任何方式使用它;-)

# magento - 在 magento 中使用客户 CSV 文件导出和导入自定义字段数据

> ID：10478257
> 
> 赞同：1
> 
> 时间：2012-05-07T07:25:28.457
> 
> 标签：magento

我需要向客户 CSV 文件添加一个额外的字段（自定义字段以存储一些 ID）。意味着我将在客户表中添加一个额外的列。如何使用customers.csv 文件导入和导出该列数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T09:16:15.597

如果您想在客户导出 csv 中添加额外字段，请查看此文件。app\code\core\Mage\Customer\Model\Convert\Parser/Customer.php 并在此文件中添加您的额外字段

# algorithm - 寻找具有 O(1) 索引和 O(log(n)) 插入和删除的数据容器

> ID：10478260
> 
> 赞同：8
> 
> 时间：2012-05-07T07:25:40.377
> 
> 标签：algorithm, data-structures, containers

我不确定这是否可能，但对我来说似乎有点合理，我正在寻找一种允许我执行这些操作的数据结构：

*   用 O(log n) 插入一个项目
*   用 O(log n) 删除一个项目
*   查找/编辑 O(1) 中的第 k 个最小元素，用于任意 k (O(1) 索引)

当然，编辑不会导致元素顺序发生任何变化。使之成为可能的原因是我将以递增的顺序一个接一个地插入元素。因此，例如，如果我尝试第五次插入，我确信在这之前的所有四个元素都比它小，而在这之后的所有元素都会更大。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-09T15:28:42.797

我不知道这样的数据容器是否可能需要请求的时间复杂度。但是这里有几种方法，几乎​​可以实现这些复杂性。

第一个是[分层向量](http://www.cs.brown.edu/cgc/jdsl/papers/tiered-vector.pdf)，插入和索引为 O(1)，但删除为 O(sqrt N)。由于您预计此容器中只有大约 10000 个元素并且 sqrt(10000)/log(10000) = 7，因此您在这里几乎可以获得所需的性能。分层向量被实现为一个环形缓冲区数组，因此删除一个元素需要移动所有元素，在环形缓冲区中跟随它，并将一个元素从后面的每个环形缓冲区移动到它之前的一个；在此容器中进行索引意味着在环形缓冲区数组中进行索引，然后在环形缓冲区内进行索引。

可以创建一个不同的容器，与分层向量非常相似，具有完全相同的复杂性，但工作速度更快一些，因为它对缓存更友好。分配一个 N 元素数组来存储值。并分配一个 sqrt(N) 元素数组来存储索引更正（用零初始化）。我将在 100 元素容器的示例中展示它是如何工作的。要删除索引为 56 的元素，请将元素 57..60 移动到位置 56..59，然后在索引更正数组中将 1 添加到元素 6..9。要找到第 84 个元素，在索引更正数组中查找第 8 个元素（其值为 1），然后将其值添加到索引 (84+1=85)，然后从主数组中取出第 85 个元素。删除主数组中大约一半的元素后，需要压缩整个容器以实现连续存储。这仅获得 O(1) 累积复杂度。对于实时应用程序，此操作可以在几个较小的步骤中执行。

这种方法可以扩展到深度为 M 的[Trie](http://en.wikipedia.org/wiki/Trie)，索引需要 O(M) 时间，删除需要 O(M*N ^(1/M) ) 时间，插入需要 O(1) 时间。只需分配一个 N 元素数组来存储值 N ^((M-1)/M) , N ^((M-2)/M) , ..., N ^(1/M)-元素数组来存储索引更正。要删除元素 2345，移动主数组中的 4 个元素，在最大的“更正”数组中增加 5 个元素，在下一个中增加 6 个元素，在最后一个中增加 7 个元素。要从此容器中获取元素 5678，请将元素 5、56、567 中的所有更正添加到 5678，并使用结果来索引主数组。为“M”选择不同的值，可以平衡索引和删除操作之间的复杂性。例如，对于 N=65000，您可以选择 M=4；所以索引只需要 4 次内存访问和删除更新 4*16=64 个内存位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-08T22:59:23.253

我想首先指出，如果*k*真的是一个随机数，那么可能值得考虑问题可能完全不同：要求第 k 个最小的元素，k 在可用元素的范围内均匀随机基本上是......随机选择一个元素。它可以以不同的方式完成。

在这里，我假设您实际上需要选择一些特定的（如果是任意的）*k*。

* * *

鉴于您的元素按顺序插入的**强前提条件，有一个简单的解决方案：**

*   由于您的元素是按顺序给出的，因此只需将它们一一添加到数组中；也就是说，您有一些（无限）表*T*和光标*c*，最初是*c := 1*，在添加元素时，执行*T[c] := x*和*c := c+1*。
*   当你想访问第 k 个最小的元素时，只需查看 T[k]。

当然，问题是当你*删除*元素时，你会在表格中创建间隙，这样元素*T[k]*可能不是第 k 个最小的，而是*j <= k*的第 j 个最小的，因为有些k 之前的单元格为空。

然后，跟踪您已删除的元素就足够了，以了解**已**删除的小于*k*的元素数量。你如何在最多 O(log n) 的时间内做到这一点？通过使用[范围树](http://en.wikipedia.org/wiki/Range_tree)或类似类型的数据结构。范围树是一种结构，可让您**添加**整数，然后**查询***X*和*Y*之间的所有整数。因此，每当您删除一个项目时，只需将其添加到范围树即可；并且在查找第 k 个最小元素时，查询*0*到*k*之间所有已删除的整数；说*三角洲*已被删除，则第 k 个元素将在 T[k+delta] 中。

有两个小问题，需要一些修复：

*   范围树在 O(log n) 时间内返回范围，但是要计算范围中的元素数量，您必须遍历范围中的每个元素，因此这增加了时间 O(D)，其中 D 是范围内删除的项目；为了摆脱这种情况，您必须修改范围树结构，以便在每个节点处跟踪子树中不同元素的数量。保持这个计数只会花费 O(log n)，这不会影响整体复杂性，而且这是一个相当微不足道的修改。

*   事实上，只进行一次查询是行不通的。实际上，如果您在 1 到 k 范围内获得 delta 已删除元素，那么您需要确保在 k+1 到 k+delta 范围内没有删除任何元素，依此类推。完整的算法将类似于下面的内容。

* * *

```
KthSmallest(T,k) := {
  a = 1;  b = k;  delta

  do {
    delta = deletedInRange(a, b)
    a = b + 1
    b = b + delta
  while( delta > 0 )

  return T[b]
} 
```

此操作的确切复杂性取决于您删除的准确程度，但如果您的元素是随机均匀删除的，那么迭代次数应该相当少。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-08-30T12:19:45.683

有一个[Treelist](http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/list/TreeList.html)（Java 的实现，带有源代码），所有三个操作（插入、删除、索引）的 O(lg n)。

实际上，这个数据结构的公认名称似乎是“[订单统计树](https://en.wikipedia.org/wiki/Order_statistic_tree)”。（除了索引之外，它还被定义为支持O(lg n) 中的*indexof(element* )。）

顺便说一句，与 O(lg n) 相比，O(1) 并没有被认为有太多优势。这种差异往往被实践中的恒定因素所淹没。（你会在数据结构中有 1e18 项吗？如果我们将其设置为上限，那仅相当于 60 左右的常数因子。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-07T07:33:26.257

查看[成堆](http://en.wikipedia.org/wiki/Heap_%28data_structure%29)。插入和删除应该是 O(log n)，最小元素的窥视是 O(1)。然而，查看或检索第 K 个元素将再次花费 O(log n)。

已编辑：正如阿米特所说，检索比偷看更昂贵

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-07T08:02:39.377

这可能是不可能的。但是，您可以在平衡二叉树中进行某些更改以获得 O(log n) 中的第 k 个元素。

在此处阅读更多信息：[维基百科。](http://en.wikipedia.org/wiki/Selection_algorithm#Using_data_structures_to_select_in_sublinear_time)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-07T08:13:06.370

可索引的跳过列表可能能够执行（关闭）您想要的操作： [http ://en.wikipedia.org/wiki/Skip_lists#Indexable_skiplist](http://en.wikipedia.org/wiki/Skip_lists#Indexable_skiplist)

但是，有一些警告：

1.  这是一个概率数据结构。这意味着它不一定是所有操作的 O(log N)
2.  索引不会是 O(1)，只是 O(log N)
3.  根据您的 RNG 的速度以及遍历指针的速度，您可能会从中获得更差的性能，而不仅仅是坚持使用数组并处理更高的移除成本。

最有可能的是，与此类似的事情将是您为实现目标所能做的“最好的”事情。

# c# - 查询错误 SQL Compact Edition 3.5

> ID：10478264
> 
> 赞同：0
> 
> 时间：2012-05-07T07:25:58.567
> 
> 标签：c#, sql, visual-studio, sql-server-ce

在我的解决方案中，我有一个本地数据库和一个带有 GetQuery 函数的数据库连接类。此函数运行良好，但由于某种原因，它无法处理如下所示的查询。当我像`SELECT * FROM logs`一切正常一样运行查询时，但是当我尝试使用此查询时

```
SELECT klantnr AS 'Klantnummer', 
       klantnaam AS 'Klantnaam', 
       vraag AS 'Vraag/probleem',
       informatie AS 'Informatie/uitvoering', 
       antwoord AS 'Antwoord/oplossing', 
       datum AS 'Datum', 
       tijd AS 'Tijd' 
FROM logs 
```

我收到以下错误消息：`There was an error parsing the query. [ Token line number = 1,Token line offset = 21,Token in error = Klantnummer ]`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-07T07:36:05.550

请试试这个：

```
SELECT klantnr AS [Klantnummer], 
       klantnaam AS [Klantnaam], 
       vraag AS [Vraag/probleem],
       informatie AS [Informatie/uitvoering], 
       antwoord AS [Antwoord/oplossing], 
       datum AS [Datum], 
       tijd AS [Tijd] 
FROM logs 
```

# jquery - jquery展开和折叠

> ID：10478269
> 
> 赞同：0
> 
> 时间：2012-05-07T07:26:30.240
> 
> 标签：jquery, expand, collapse

我正在尝试复制 Cloudania Citizens 页面的效果，可在此处找到：

http://cloudania.com/citizens/

我只是在寻找它在单击图像时展开和折叠的基本效果。

我一直在使用 webcloud 的 jQuery-Collapse，但我无法让图像保持内联。

所以我希望它在打开页面时看起来像这样

[http://i.stack.imgur.com/Lva48.png](http://i.stack.imgur.com/Lva48.png)

然后单击框 1，然后它看起来像：

[http://i.stack.imgur.com/SSAfV.png](http://i.stack.imgur.com/SSAfV.png)

谢谢你的帮助

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-07T07:39:40.450

我知道访问 Jquery 的网站真的很无聊，但是你工作越简单越好。尝试使用滑动切换和良好的 css，您可以轻松实现这一点。可以在此处找到有关幻灯片切换的更多信息：http: [//api.jquery.com/slideToggle/](http://api.jquery.com/slideToggle/)。

1.  您需要让每个框都单击以滑动切换内容1，
2.  您需要将内容 1 中的所有 7 个不同内容作为绝对位置并隐藏/显示：无；
3.  然后还需要在每个盒子 onClcick 上告诉它显示相关的隐藏 div。
4.  如果单击另一行上的任何框，则需要滑动切换其他打开的内容1 以关闭。

简单的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-07T07:29:01.487

使用 jquery 很容易，使用 slideDown() 显示 div ：

[http://api.jquery.com/slideDown/](http://api.jquery.com/slideDown/)

和 slideUp() 隐藏

# fortran - 针对特定线程数的 OpenMP 优化

> ID：10478276
> 
> 赞同：0
> 
> 时间：2012-05-07T07:26:58.197
> 
> 标签：fortran, openmp, scientific-computing

我正在开发一个科学代码，所以速度当然是最重要的。现在因为可移植性并不是一个真正的问题，所以我知道在编译程序时我已经有多少个 openmp 线程可用。我可以使用这些信息来执行任何额外的优化吗？如果是，我该怎么做？

既然有人指出这个问题非常广泛。我想减少一点自动，即编译器优化。所以设置编译器标志或类似的东西。

干杯

-一个

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:04:51.420

好吧，您可以修改代码，使其可以划分为 n 个独立区域（n=线程数）。你应该更喜欢使用部分。由于减少了处理器间的通信，与并行 for 循环相比，它们提供了更好的加速。

# php - 无法查看弹性 beantalk 上的 php 错误

> ID：10478278
> 
> 赞同：0
> 
> 时间：2012-05-07T07:27:34.153
> 
> 标签：php, amazon-elastic-beanstalk

无论我做什么，我都无法在弹性 beantalk 上显示 php 错误。

我把 error_reporting(E_ERROR | E_WARNING | E_PARSE | E_NOTICE); 在脚本的开头。

并且 error_reporting = E_ALL 和 display_errors = On 在 php.ini 中，但仍然没有。

我无法在我的本地机器上调试问题，因为它只发生在弹性豆茎中。

有任何想法吗。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:03:32.703

根据 AWS 团队对[PHP APC 缓存内存不足问题的](https://forums.aws.amazon.com/message.jspa?messageID=330844#330844)回应，他们并*没有故意限制任何东西*，只是在[Elastic Beanstalk上](http://aws.amazon.com/elasticbeanstalk/)*安装了库存 PHP 和库存 APC*：

> Elastic Beanstalk 面向专业级开发人员，我们更愿意将他们视为成年人。对于您想对您的环境做什么，我们非常放任自流。

但是，如果无论如何都应用行业/安全最佳实践，我不会感到惊讶，即`.htaccess`至少在默认情况下限制更改 PHP 脚本和/或 Apache 文件中的相应设置，并且[mcfritzn 的响应](https://forums.aws.amazon.com/message.jspa?messageID=331115#331115)也暗示了这一点：

> 我的观察
> 
> *   ini_set() 不能用于影响 apc.shm_size 和 apc.ttl
> *   可以通过访问 EC2 实例来控制配置，编辑“/etc/php.d/apc.ini”并使用“sudo /usr/sbin/apachectl graceful”重新启动 Apache
> *   [...]

因此，我建议您查看并更改实例本身的 Apache/PHP 服务器设置，这应该提供相应的见解（并可能提供解决方案）。

# c - 杀戮和收获过程

> ID：10478284
> 
> 赞同：2
> 
> 时间：2012-05-07T07:28:46.197
> 
> 标签：c, unix, posix

我有一个由`pid`. 这个过程可能是：

1.  跑步
2.  已解散/僵尸（未收割）
3.  已经收获（因此不再存在）

我想终止这个进程并确保没有僵尸残留。目前我的代码是

```
kill(pid, SIGKILL);
int temp;
waitpid(pid, &temp, 0); 
```

这行得通吗？

编辑： 指定的进程`pid`是我的程序的子进程。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:13:40.573

到目前为止这看起来不错，但我想知道为什么你会让案例 3 发生。您应该执行一些簿记，您的哪些子进程已终止并等待收获。一种方法是为 安装一个处理程序`SIGCHLD`，设置一个标志 a`waitpid`是有序的。这样你就可以保证所有的 pid 实际上都是你的子进程的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T08:04:06.057

应该可以正常工作，但一定要检查 waitpid 的返回值。由于信号，呼叫可能已返回。

# jqgrid - Jqgrid 上的客户端分页？

> ID：10478289
> 
> 赞同：1
> 
> 时间：2012-05-07T07:29:35.803
> 
> 标签：jqgrid, paging, client-side

谁能告诉我如何在 jqgrid 上实现客户端分页？目前，我的寻呼机只显示一个错误页面。但是，如果我使用下拉菜单更改每页的记录数，则网格会相应更新。但我无法浏览页面。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:35:05.513

我想你以错误的方式填充网格。您的问题中没有包含任何代码，所以我只能猜测您使用`addRowData`方法来填充网格。如果是这样，那么您应该知道`addRowData`方法的使用是我所知道的填充网格的最差和最慢的方法。

在这种情况下，最好的方法`datatype: 'local'`是将`data`jqGrid 选项与`gridview: true`. 它从`data`参数对应`sortname`和`sortorder`选项中对数据进行排序，创建jqGrid并显示网格的第一页（页面大小定义`rowNum`选项）。参数的值`data`应该是代表网格行的项目数组。每个项目都应包含名称类似于 的`name`属性的属性`colModel`。`data`此外，应该包含的每个项目都包含`id`唯一值将用作`id`行（元素）`id`的属性的属性。`<tr>`

# paypal - 如何让 Paypal 通过简单的 HTTP 身份验证将 IPN 发送到我的服务器？

> ID：10478293
> 
> 赞同：3
> 
> 时间：2012-05-07T07:30:06.073
> 
> 标签：paypal, paypal-ipn

我正在使用简单的 HTTP 身份验证保护的开发环境中测试环境。我不想在没有身份验证的情况下公开环境。Paypal/Paypal-sandbox 可以通过简单的 HTTP 身份验证将 IPN 发送到我的开发服务器，例如[https://username:password@mydomain.com/ipn](https://username:password@mydomain.com/ipn)吗？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-22T17:21:38.883

尽管 Paypal 允许您将 IPN URL 设置为[https://username:password@mydomain.com/ipn](https://username:password@mydomain.com/ipn)之类的内容，但它似乎不会发送用户名和密码。

在我删除服务器上的身份验证之前，所有请求在我的 IPN 历史记录中一直标记为失败。请注意，您也可以创建一个 .htaccess 文件来让来自 paypal 的请求进入（我没有这样做，所以我不知道确切的语法，你应该谷歌它）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:00:06.430

~~IIRC~~谷歌搜索后，我看起来不像你可以。我们使用 PayPal，基本上，`custom`当用户单击您的 PayPal 按钮时，您可以将变量传递给 IPN 进程。然后，此变量将贯穿整个事务，并将发送到处理 IPN 通知的控制器。

然后由您来验证请求并确保它看起来可信。

例如，您可以在自定义变量中使用用户 ID，将 PayPal 电子邮件地址与您在文件中的地址进行比较，并（在您的服务器上进行跟踪）查看他们最近单击了该按钮。

有关详细信息，请参阅[PayPal IPN 文档](https://cms.paypal.com/us/cgi-bin/?cmd=_render-content&content_ID=developer/e_howto_admin_IPNImplementation)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-17T06:44:39.103

我还在开发一个接受贝宝付款的网站。就像你一样，我很难弄清楚如何处理 IPN 以及如何测试它。为了能够设置 IPN，编辑您的按钮并转到高级选项。在那里您会发现包含其他变量的文本区域。只需复制右侧的 2 个示例变量（notify_url 和 (address_overide=1)？）。更改 notify_url 值然后保存。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-05-25T12:59:39.397

就目前而言，这是不可能的，但是如果您询问实际情况，通常您在处理简单 HTTP 身份验证的网络服务器前面/作为您的网络服务器有代理服务器，您可以为您的贝宝 IPN 网址设置排除规则. 例如，如果你使用 nginx 指令将如下所示：

```
server {
listen 80;
server_name example.com;

location /paypal/ipn {
        try_files $uri @proxy_to_app;
}

location / {
    auth_basic "Restricted";
    auth_basic_user_file  /example/.htpasswd;
    try_files $uri @proxy_to_app;
}
location @proxy_to_app {
    if (!-f $request_filename) {
            proxy_pass http://localhost;
            break;
    }
}} 
```

# mysql - MySQL 连胜一队

> ID：10478295
> 
> 赞同：8
> 
> 时间：2012-05-07T07:30:15.977
> 
> 标签：mysql, sql

我有一个 SQL 查询，它返回有关单个团队的下表：

```
date         gameid     pointsfor     pointsagainst

2011-03-20   15         1             10
2011-03-27   17         7             3
2011-04-03   23         6             5
2011-04-10   30         5             4
2011-04-17   35         4             8
2011-05-01   38         8             1
2011-05-08   43         3             7
2011-05-15   48         6             2
2011-05-22   56         10            2
2011-05-29   59         4             5
2011-06-05   65         2             3
2011-06-19   71         5             6
2011-06-19   74         12            2
2011-06-19   77         5             2
2011-06-19   80         5             4 
```

从这张表中，谁能帮我计算一下最长的连胜和连败是多少？

我在这里查看了其他一些示例，但由于它们与我的不太一样，因此很难遵循它们。任何帮助将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T12:53:27.187

你必须实现一些 MySQL 变量来帮助处理这个比多个查询/加入/分组更有效。这一次通过所有记录，然后再次获得每种类型的赢/输（或平局）的最大值。我假设您提供的数据是单次的，日期是明显的比赛顺序……积分是您感兴趣的球队，而反对的对手是谁。也就是说，我的“别名”名称将是“YourResultSingleTeam”。

内部查询将预先确定游戏的状态为“W”in 或“L”oss。然后，查看该值是否与团队的前一个实例相同。如果是这样，将 1 添加到现有的赢/输计数器。如果不是，则将计数器设置回 1。然后，将当前游戏的状态保留回“LastStatus”值，以便与下一个游戏进行比较。

完成后，它是一个简单的游戏结果，max() 按游戏结果状态分组

```
select
      StreakSet.GameResult,
      MAX( StreakSet.WinLossStreak ) as MaxStreak
   from
      ( select YR.Date,
               @CurStatus := if( YR.PointsFor > YR.PointsAgainst, 'W', 'L' ) as GameResult,
               @WinLossSeq := if( @CurStatus = @LastStatus, @WinLossSeq +1, 1 ) as WinLossStreak,
               @LastStatus := @CurStatus as carryOverForNextRecord
            from 
               YourResultSingleTeam YR,
               ( select @CurStatus := '',
                        @LastStatus := '',
                        @WinLossSeq := 0 ) sqlvars
            order by
               YR.Date ) StreakSet
   group by
      StreakSet.GameResult 
```

正如 Nikola 所提供的，如果您想考虑“平局”游戏，我们可以通过将 @CurStatus 更改为 case/when 条件来进行调整

```
@CurStatus := case when YR.PointsFor > YR.PointsAgainst then 'W'
                   when YR.PointsFor < YR.PointsAgainst then 'L'
                   else 'T' end as GameResult, 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T12:12:17.893

有一个解决方案，但我认为您不会喜欢它，因为它需要自联接，而且您的表不是表而是查询。

内部查询会将日期转换为范围 - 对于表中的每个日期，它会找到具有不同结果的第一个日期，或者，如果是上一场比赛，则是本场比赛的日期。该数据将按不同条纹的第一个日期汇总，以平整和计数条纹；外部查询然后根据结果查找极端情况。

```
select case Outcome 
            when -1 then 'Losses'
            when 1 then 'Wins'
            else 'Undecided'
        end Title
      , max(Streak) Streak
from
(
  select min(date) date, date_to, Outcome, count(*) Streak
  from
  (
    select t1.date, 
           sign (t1.pointsfor - t1.pointsagainst) Outcome, 
           ifnull (min(t2.date), t1.date) date_to
     from table1 t1
     left join table1 t2
       on t1.date < t2.date
      and sign (t1.pointsfor - t1.pointsagainst) 
       <> sign (t2.pointsfor - t2.pointsagainst)
    group by t1.date, sign (t1.pointsfor - t1.pointsagainst)
  ) a
  group by date_to, Outcome
) a
group by Outcome 
```

为了避免需要替换`table1`- 可能 - 繁琐的查询，您可能会使用临时表，或者在辅助表中已经有适当格式的数据。在[Sql fiddle](http://sqlfiddle.com/#!2/ac7e0/24)进行了实时测试，以及另一个可能表现更好的子查询驱动版本 - 您应该同时尝试它们。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-07T13:54:09.803

MySQL 没有 CTE 也没有窗口函数（例如 SUM OVER、ROW_NUMBER OVER 等）。但它有一个赎回因素。变量！

用这个：

```
select 
   min(date) as start_date,
   max(date) as end_date,
   count(date) as streak,
   group_concat(gameid) as gameid_list
from
( 
  select *,      
    IF(
        pointsfor > pointsagainst 
        and 
        @pointsfor > @pointsagainst, 
           @gn, @gn := @gn + 1)                
    as group_number,

    @date as old_date, @gameid as old_gameid, 
    @pointsfor as old_pointsfor,
    @pointsagainst as old_pointsagainst,

    @date := date, @gameid := gameid, 
    @pointsfor := pointsfor, @pointsagainst := pointsagainst      
  from tbl
  cross join 
  (
    select 
      @date := CAST(null as date) as xa,
      @gameid := null + 0 as xb, -- why CAST(NULL AS INT) doesn't work?
      @pointsfor := null + 0 as xc, @pointsagainst := null + 0 as xd, @gn := 0
  ) x
  order by date
) as y
group by group_number
order by streak desc; 
```

输出：

```
START_DATE                    END_DATE                      STREAK  GAMEID_LIST
March, 27 2011 08:00:00-0700  April, 10 2011 08:00:00-0700  3       17,23,30
June, 19 2011 08:00:00-0700   June, 19 2011 08:00:00-0700   3       74,77,80
May, 15 2011 08:00:00-0700    May, 22 2011 08:00:00-0700    2       48,56
March, 20 2011 08:00:00-0700  March, 20 2011 08:00:00-0700  1       15
April, 17 2011 08:00:00-0700  April, 17 2011 08:00:00-0700  1       35
May, 01 2011 08:00:00-0700    May, 01 2011 08:00:00-0700    1       38
May, 08 2011 08:00:00-0700    May, 08 2011 08:00:00-0700    1       43
May, 29 2011 08:00:00-0700    May, 29 2011 08:00:00-0700    1       59
June, 05 2011 08:00:00-0700   June, 05 2011 08:00:00-0700   1       65
June, 19 2011 08:00:00-0700   June, 19 2011 08:00:00-0700   1       71 
```

现场测试：[http ://www.sqlfiddle.com/#!2/bbe78/8](http://www.sqlfiddle.com/#!2/bbe78/8)

请注意我在 sqlfiddle 上的解决方案，它有两个查询。1\. 模拟在上面。2.下面的最终查询

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-03-12T12:24:54.540

最新版本的 MySQL 具有 CTE 并且具有窗口功能。

这是一个解决方案。

第一步，通过分配他们自己的 streak_group 编号来分组输赢：

```
with t as 
(
    select
        *,      
        pointsfor - pointsagainst > 0 is_winner,
        case when pointsfor - pointsagainst > 0 
            and lag(pointsfor) over(order by date, pointsfor - pointsagainst desc) 
                - lag(pointsagainst) over(order by date, pointsfor - pointsagainst desc) > 0 
        then
            0
        else
            1
        end as is_new_group
    from tbl
)
select *, sum(is_new_group) over(order by date, pointsfor - pointsagainst desc) as streak_group
from t 
```

输出：

```
date                |gameid |pointsfor |pointsagainst |is_winner |is_new_group |streak_group |
--------------------|-------|----------|--------------|----------|-------------|-------------|
2011-03-20 15:00:00 |15     |1         |10            |0         |1            |1            |
2011-03-27 15:00:00 |17     |7         |3             |1         |1            |2            |
2011-04-03 15:00:00 |23     |6         |5             |1         |0            |2            |
2011-04-10 15:00:00 |30     |5         |4             |1         |0            |2            |
2011-04-17 15:00:00 |35     |4         |8             |0         |1            |3            |
2011-05-01 15:00:00 |38     |8         |1             |1         |1            |4            |
2011-05-08 15:00:00 |43     |3         |7             |0         |1            |5            |
2011-05-15 15:00:00 |48     |6         |2             |1         |1            |6            |
2011-05-22 15:00:00 |56     |10        |2             |1         |0            |6            |
2011-05-29 15:00:00 |59     |4         |5             |0         |1            |7            |
2011-06-05 15:00:00 |65     |2         |3             |0         |1            |8            |
2011-06-19 15:00:00 |74     |12        |2             |1         |1            |9            |
2011-06-19 15:00:00 |77     |5         |2             |1         |0            |9            |
2011-06-19 15:00:00 |80     |5         |4             |1         |0            |9            |
2011-06-19 15:00:00 |71     |5         |6             |0         |1            |10           | 
```

最终查询。计算连胜次数：

```
with t as 
(
    select
        *,      
        pointsfor - pointsagainst > 0 is_winner,
        case when pointsfor - pointsagainst > 0 
            and lag(pointsfor) over(order by date, pointsfor - pointsagainst desc) 
                - lag(pointsagainst) over(order by date, pointsfor - pointsagainst desc) > 0 
        then
            0
        else
            1
        end as is_new_group
    from tbl
)
, streak_grouping as
(
    select
        *, sum(is_new_group) over(order by date, pointsfor - pointsagainst desc) as streak_group
    from t
)
select 
    min(date) as start_date,
    max(date) as end_date,
    count(*) as streak,
    group_concat(gameid order by gameid) as gameid_list
from streak_grouping
group by streak_group
order by streak desc, start_date 
```

输出：

```
start_date          |end_date            |streak |gameid_list |
--------------------|--------------------|-------|------------|
2011-03-27 15:00:00 |2011-04-10 15:00:00 |3      |17,23,30    |
2011-06-19 15:00:00 |2011-06-19 15:00:00 |3      |74,77,80    |
2011-05-15 15:00:00 |2011-05-22 15:00:00 |2      |48,56       |
2011-03-20 15:00:00 |2011-03-20 15:00:00 |1      |15          |
2011-04-17 15:00:00 |2011-04-17 15:00:00 |1      |35          |
2011-05-01 15:00:00 |2011-05-01 15:00:00 |1      |38          |
2011-05-08 15:00:00 |2011-05-08 15:00:00 |1      |43          |
2011-05-29 15:00:00 |2011-05-29 15:00:00 |1      |59          |
2011-06-05 15:00:00 |2011-06-05 15:00:00 |1      |65          |
2011-06-19 15:00:00 |2011-06-19 15:00:00 |1      |71          | 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-07T08:24:32.737

您在这里处理的是跟踪获胜和失败的趋势，这需要使用某种带有运行计数器的循环来计算，而不是在 SQL 中。SQL 查询处理单个行、分组、排序等；您正在尝试使用一种并非旨在解决此类问题的语言。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-07T08:26:03.957

你必须创建一个游标，读取所有行，计算数据......每次你想要获得最长的条纹......

我建议一种解决方法，这将使事情变得更容易。您在表“streakFor”中添加一列。每次插入一行时：

```
//pseudo code
if pointsFor > pointsAgainst
    if last_streakFor > 0 
        then streakFor++ 
        else streakFor = 1

else
    if last_streakFor > 0 
        then streakFor = -1 
        else streakFor-- 
```

last_streakFor 在最后插入的行中是 streakFor
然后你插入带有列 streakFor 的行

现在你可以

*   `select max(streakFor) from yourTable where yourConditions`这将为您提供“pointsFor”的最长连胜和“pointsAgainst”的最长连败
*   `select min(streakFor) from yourTable where yourConditions`将为您提供“pointsAgainst”的最长连胜和“pointsFor”的最长连败

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-05-07T15:32:00.130

感谢所有的帮助家伙。我最终按照建议使用 php 循环。如果有人想知道，这是我的代码：

```
$streakSQL = "SELECT date, gameid, pointsfor, pointsagainst FROM result WHERE teamid = ".$_GET['teamid']." AND bye = 0 AND COMPLETED = 1 AND seasonid > 7 AND roundwd = 0 AND (pointsfor != 0 OR pointsagainst != 0)";
            $streak = mysql_query($streakSQL);

            $winstreak = 0;
            $maxwinstreak = 0;
            $losestreak = 0;
            $maxlosestreak = 0;
            while($streakRow = mysql_fetch_array($streak))
            {
                //calculate winning streak
                if($streakRow['pointsfor'] > $streakRow['pointsagainst'])
                { 
                    $winstreak++; 
                    if($winstreak > $maxwinstreak)
                    {
                        $maxwinstreak = $winstreak;
                    }
                }
                else{ $winstreak = 0; }
                //calculate losing streak
                if($streakRow['pointsfor'] < $streakRow['pointsagainst'])
                { 
                    $losestreak++; 
                    if($losestreak > $maxlosestreak)
                    {
                        $maxlosestreak = $losestreak;
                    }
                }
                else{ $losestreak = 0; }
            }
            echo "Biggest Winning Streak: ".$maxwinstreak;
            echo "<br />Biggest Losing Streak: ".$maxlosestreak; 
```

# c# - 如何使用 Windows 服务使用电子邮件填充数据库？

> ID：10478300
> 
> 赞同：1
> 
> 时间：2012-05-07T07:30:34.463
> 
> 标签：c#, database, email, windows-services

我正在寻找代码来使用我的电子邮件收件箱填充 Microsoft Sql Server 数据库，我希望它由 Windows 服务完成，这样用户就不会知道它的发生。

如何让我的 Windows 服务填充我的数据库？

我的数据库称为 Email_Log，带有表格：Email_ID e_To e_From e_Subject e_Date

我的插入代码看起来像。

```
INSERT INTO Email_Log
(Email_ID, e_To, e_From, e_Subject, e_Date)
VALUES
(Data, data, data, data, data) 
```

我以前使用 OpenPop 创建 web 服务来检索邮件，所以我知道该怎么做，我的 windows 服务 exp 是......没有数据库，而且数据库很少。

我正在寻找一些关于如何做到这一点的示例代码？或一些有用的链接到已经完成类似的事情的景点。我在网上查看过，在我想做的事情上找不到任何帮助。我只需要一个推动开始。跟随一个例子是最好的开始。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T07:33:43.387

*   用于在 .NET 中创作 Windows 服务 =>[此处](http://msdn.microsoft.com/en-us/library/d56de412.aspx)。
*   用于访问 .NET 中的 SQL 数据库 =>[此处](http://msdn.microsoft.com/en-us/library/aa286484.aspx)

例如，下面是`INSERT`使用普通 ADO.NET 的示例查询的样子：

```
using (var conn = new SqlConnection("your connection string to the database"))
using (var cmd = conn.CreateCommand())
{
    conn.Open();
    cmd.CommandText = 
        @"
        INSERT INTO Email_Log
        (Email_ID, e_To, e_From, e_Subject, e_Date)
        VALUES
        (@id, @to, @from, @subject, @date)
        ";
    cmd.Parameters.AddWithValue("@id", 123);
    cmd.Parameters.AddWithValue("@to", "foo@bar.com");
    cmd.Parameters.AddWithValue("@from", "baz@boo.com");
    cmd.Parameters.AddWithValue("@subject", "some subject");
    cmd.Parameters.AddWithValue("@date", DateTime.Now);
    cmd.ExecuteNonQuery();
} 
```

# mongodb - Mongoid attr_accessible 不工作

> ID：10478303
> 
> 赞同：3
> 
> 时间：2012-05-07T07:30:52.667
> 
> 标签：mongodb, mongoid, attr-accessible

今天早上我醒来时遇到了一个奇怪的问题，其中 mongoid 正在为模型中未定义的属性创建记录

为了克服这个问题，我决定实现 attr_accessible 也在 Mongoid[规范中提到](http://mongoid.org/docs/documents/access.html)

> “提供可访问的字段列表只是保护它们的反面。**任何未定义为可访问的内容都会导致错误**。” -- Mongoid 规范

认为一切都会好起来的

> "**任何未定义为可访问的内容都会导致错误**

这是我的模型结构

```
class PartPriceRecord 
  include Mongoid::Document
    field :supplier_id,type: Integer
    field :part_number,type: String
    field :part_description, type: String
    field :core_indicator,type: String
    field :us_part_price,type: Float
    field :us_core_price,type: Float
    field :us_fleet_price,type: Float
    field :us_distributor_price,type: Float
    field :ca_part_price,type: Float
    field :ca_distributor_price,type: Float
    field :ca_core_price,type: Float
    field :ca_fleet_price,type: Float 
    field :basic_file_id,type: Integer
    index :part_number, unique: true

  validates_presence_of :supplier_id
  validates_presence_of :part_number
  #validates_uniqueness_of :part_number
  validates :part_number ,:format => { :with => /^[a-z0-9A-Z\s*-]+[-a-z0-9\s-]*[a-z0-9\s*-]+$/i ,:message => "Only AlphaNumeric Allowed" }
  validates :supplier_id, :format => { :with => /^[a-z0-9]+[-a-z0-9]*[a-z0-9]+$/i , :message => "Only Alphanumeric Allowed" } 
  #validates :part_description,:presence => true

  validates :part_description,:format => { :with => /^[a-z0-9]+[-a-z0-9]*[a-z0-9]+$/i ,:message => "Only Alphanumberic Allowed"} ,:allow_nil => true
  validates :core_indicator ,:inclusion => { :in => %w(Y N),
    :message => "%{value} is not a valid Coreindicator must be Y | N" 
   } ,:allow_nil => true,:allow_blank => true

 validates :us_part_price,:us_core_price,:us_fleet_price,:us_distributor_price,:ca_part_price,:ca_core_price,:ca_fleet_price,:ca_distributor_price ,:format => { :with => /^([0-9]+(\.([0-9]{2}|[0-9]{1}))?)$/ ,:message => "should look like money" } ,:allow_nil => true,:allow_blank => true

  @@required_attributes =[:supplier_id,:part_number,:part_description,:core_indicator,:us_part_price,:us_core_price,:us_fleet_price,:us_distributor_price,:ca_part_price,:ca_core_price,:ca_fleet_price,:ca_distributor_price]
  @@not_required_attributes = ["_id","basic_file_id"]  
  cattr_reader :required_attributes,:not_required_attributes
  attr_accessible :supplier_id,:part_number,:part_description, :core_indicator,:us_part_price,:us_core_price,:us_fleet_price,:us_distributor_price,:ca_part_price,:ca_distributor_price,:ca_core_price,:ca_fleet_price,:basic_file_id
end 
```

这里是我从控制台创建的记录

```
ruby-1.9.2-head :003 > PartPriceRecord.count()
 => 260317 ## initial count before creating a new record
ruby-1.9.2-head :004 > p1 = PartPriceRecord.new(:customer_id => "One",:part_number => "ASA",:supplier_id => "Supp")
 => #<PartPriceRecord _id: 4fa77921d2d8d60e39000002, _type: nil, supplier_id: "Supp", part_number: "ASA", part_description: nil, core_indicator: nil, us_part_price: nil, us_core_price: nil, us_fleet_price: nil, us_distributor_price: nil, ca_part_price: nil, ca_distributor_price: nil, ca_core_price: nil, ca_fleet_price: nil, basic_file_id: nil> 
ruby-1.9.2-head :005 > p1.save
 => true  ## Record got created
ruby-1.9.2-head :006 > PartPriceRecord.count()
 => 260318  ## Count indicating record was created 
```

知道为什么会这样吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T16:17:45.873

您的问题是有效的——从以下测试和对 Mogoid 代码的粗略阅读来看，文档似乎不一致、不完全正确并且有些过时。

attr_protected 或 NOT attr_accessible 的字段忽略批量分配；他们不会在质量分配上引发错误。

在受保护的部分中，“引发错误”是不正确的，文档甚至与用户和人员不匹配。在 Accessible 部分中，“将导致错误”是不正确的，但“静默忽略受保护的”注释提供了一个线索，即没有引发错误并且忽略了批量分配。

这是来自 mongoid/spec/mongoid/attributes_spec.rb 的片段，它支持这一点。

```
describe ".attr_accessible" do

  context "when the field is not _id" do

    let(:account) do
      Account.new(number: 999999)
    end

    it "prevents setting via mass assignment" do
      account.number.should be_nil
    end
  end
...
end 
```

您必须将字段 customer_id 添加到您的 PartPriceRecord 模型中。我对 User 和 PartPriceRecord 的测试如下。希望这会有所帮助。

```
require 'test_helper'

class PartPriceRecordTest < ActiveSupport::TestCase
  def setup
    User.delete_all
    PartPriceRecord.delete_all
  end

  test "User" do
    assert_equal(0, User.count())
    # Set attributes on a user properly.
    user = User.new(first_name: "Corbin")
    assert_equal("Corbin", user.first_name)
    user.attributes = { first_name: "Corbin" }
    assert_equal("Corbin", user.first_name)
    user.write_attributes(first_name: "Corbin")
    assert_equal("Corbin", user.first_name)

    # Attempt to set attributes a user, raising an error. # <-- This documentation is incorrect, no error is raised
    #user = User.new(first_name: "Corbin", password: "password")
    user.attributes = { first_name: "Corbin", password: "password" } # inaccessible field is forced to nil
    assert_equal("Corbin", user.first_name)
    assert_equal(nil, user.password)
    user.write_attributes(first_name: "Corbin", password: "password") # inaccessible field is forced to nil
    assert_equal("Corbin", user.first_name)
    assert_equal(nil, user.password)
  end

  test "PartPriceRecord" do
    assert_equal(0, PartPriceRecord.count())
    p1 = PartPriceRecord.new(:customer_id => "One",:part_number => "ASA",:supplier_id => "Supp")
    assert_equal(nil, p1.customer_id)
    p1.save
    assert_equal(1, PartPriceRecord.count())
    assert_equal(nil, PartPriceRecord.find(p1.id).customer_id)
  end
end 
```

# java - Windows 资源管理器/选择 Mac Finder 等效项？

> ID：10478306
> 
> 赞同：2
> 
> 时间：2012-05-07T07:31:13.237
> 
> 标签：java, windows, macos, explorer, finder

```
Explorer /select,C:\MyFolder\MyFile.txt 
```

上述命令在 Windows 上执行时会打开 MyFolder 目录并选择（突出显示）名为“MyFile.txt”的文件。

我有一个 Java 应用程序，它利用这个命令让用户知道文件很重要，但我想让这个功能跨系统兼容。在 Mac OSX 和 Linux 等 Unix 操作系统上，此命令的等效项是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-07T07:43:29.980

**对于 Mac**，您可以使用`open -R filename`

从[开放的手册](http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/open.1.html)：

> -R 在 Finder 中显示文件而不是打开它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:37:29.357

我不知道如何选择一个项目，但使用“/usr/bin/open /Users/foobar/Documents/”至少会打开一个 Finder 窗口，其中 Documents 目录处于活动状态。

# iphone - 滚动 uiview 并使用户可见

> ID：10478308
> 
> 赞同：0
> 
> 时间：2012-05-07T07:31:16.740
> 
> 标签：iphone, uiview

MainView - UIScrollView - 视图 1 - 视图 2 - 视图 3 - 视图 4 - 视图 5 - 视图 6（包含按钮）

当我单击 view6 中的按钮时，我需要滚动屏幕顶部并将 view3 显示给 iPhone 中的用户。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:40:23.490

为此，您只需为第三个视图设置滚动视图的框架。使用这行代码我认为这对您有用。试试这个。根据您的坐标设置所有这些

```
 self.scrollview.frame=CGRectMake(x, y, width, height); 
```

# android - 如何将 sha1 转换为哈希

> ID：10478312
> 
> 赞同：0
> 
> 时间：2012-05-07T07:31:26.197
> 
> 标签：android

我怎样才能转换这个

11252411445171911438526

变成这样！

c6ee47d1a8edbce28b1560b836abd388631983b6

有人帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T07:43:51.457

如果你想要一个 SHA1 哈希，你可以这样做：

```
String input = "11252411445171911438526";
MessageDigest md = MessageDigest.getInstance("SHA-1");
md.reset();
md.update(input.getBytes("utf8"));
String ouput = new BigInteger(1, md.digest()).toString(16); 
```

# windows - 如何递归地编写`rar`sa文件夹及其所有内容的脚本？

> ID：10478318
> 
> 赞同：0
> 
> 时间：2012-05-07T07:32:00.290
> 
> 标签：windows, batch-file, cmd, rar

我目前有以下脚本：

```
mkdir \\file-srv\Archive\Products\Web\AccountsServices\Account.Toolbar\Nightly\Accounts-4.2-TC-new\%system.build.number%
xcopy /I /E /Y %env.working_directory%\Deployment\Account\Release\*.* \\file-srv\Archive\Products\Web\AccountsServices\Account.Toolbar\Nightly\Accounts-4.2-TC-new\%system.build.number% 
```

我应该添加什么脚本来创建该文件夹的 rar

\file-srv\Archive\Products\Web\AccountsServices\Account.Toolbar\Nightly\Accounts-4.2-TC-new\%system.build.number%

（同一水平）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T07:44:22.850

我想你已经安装了 WinRar，所以你可以使用它的命令行（它的路径在 PATH 环境变量中，否则你必须指定完整路径）。

这将在文件夹中创建一个名为`%system.build.number%.rar`（具有正确名称:)）的文件，其中包含`\\file-srv\Archive\Products\Web\AccountsServices\Account.Toolbar\Nightly\Accounts-4.2-TC-new\`所有文件，`%env.working_directory%\Deployment\Account\Release\*.*`包括其所有子目录。

```
rar a -r -y \\file-srv\Archive\Products\Web\AccountsServices\Account.Toolbar\Nightly\Accounts-4.2-TC-new\%system.build.number%.rar %env.working_directory%\Deployment\Account\Release\*.* 
```

# android - Android：如何获取匹配缩略图 URI 的文件路径？

> ID：10478320
> 
> 赞同：0
> 
> 时间：2012-05-07T07:32:07.863
> 
> 标签：android, file, path, thumbnails

我有一个使用缩略图显示图像的 Android 网格视图库，现在我想获取 SD 卡上相关图像的“真实”文件路径。

我得到的是缩略图媒体 URI，类似于 URI：content://media/external/images/thumbnails/277（内容 URI）或缩略图的绝对路径：/mnt/sdcard/DCIM/.thumbnails /1335263816935.jpg

但我想获取此缩略图的图像 URI/路径，例如 /mnt/sdcard/DCIM/thisIsTheImageOfTheRelatedThumnailNumber234.jpg。

这怎么可能？提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:48:54.080

缩略图保留图像的 id。

```
MediaStore.Images.Thumbnails.queryMiniThumbnail(); 
```

您可以解析它，然后运行查询以从所有图像中按 id 获取此图像。

# iphone - 在模拟器和 iphone 中运行应用程序

> ID：10478324
> 
> 赞同：0
> 
> 时间：2012-05-07T07:32:18.740
> 
> 标签：iphone, objective-c, ios5, ios-simulator

好的，所以我有一个 TTS 库（文本到语音），我可以让我的应用程序在 iPhone 和模拟器上运行，但是我必须根据我想要运行我的应用程序的位置更改构建设置中的目录。如何让应用程序在模拟器和 iPhone 上运行，但不更改构建设置中的任何内容。

TTS 引擎有两个数据文件（一个用于 sim，一个用于 iPhone）如果我有两个数据文件的路径并且我尝试在模拟器上运行，然后我收到一个链接器错误，指出 armv7 不支持数据文件。如果我有两者的路径并尝试在 iPhone 上运行，则会收到链接器错误，指出 i386 不支持数据文件。如果我只有 iPhone 数据文件的路径并在 iPhone 上运行，那么它可以工作。如果我只有模拟器数据文件的路径并在模拟器上运行，那么它可以工作。

有人遇到过这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-16T18:28:00.787

如果您有两个用于不同架构的库，您实际上可以使用“lipo”命令将它们合并在一起。做就是了：

```
lipo -create <i386 lib> <arm lib> -o <output> 
```

然后使用创建的文件而不是原来的两个。

# r - 在R中的函数内使用参数作为变量名

> ID：10478326
> 
> 赞同：4
> 
> 时间：2012-05-07T07:33:05.460
> 
> 标签：r

我正在尝试将月份的名称合并到正在存储的变量的名称中。

```
import <- function(month) {
  dataobj <- letters
  assign("x", dataobj)
  save("x", file="data.rda")
} 
```

作品。但以下不起作用 -

```
import <- function(month) {
  dataobj <- letters
  assign(substr(month, 1, 3), dataobj)
  save(substr(month, 1, 3), file="data.rda")
} 
```

似乎*save()*将接受*"x"*但不接受*substr(month, 1, 3)*。

任何想法如何解决这一问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-07T09:09:09.647

使用 的`list`参数`save()`：

```
save(list=substr(month,1,3), file="data.rda") 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-07T08:14:15.970

我不会在环境中创建具有特定的、依赖于月份的名称的对象，`month`而是使用用作名称的对象列表。

```
dat = lapply(1:4, function(x) letters)
names(dat) = c("Jan","Feb","Mar","Apr")
> dat
$Jan
 [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s" 
[20] "t" "u" "v" "w" "x" "y" "z"                                                 

$Feb                                                                             
 [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s" 
[20] "t" "u" "v" "w" "x" "y" "z"                                                 

$Mar                                                                             
 [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s" 
[20] "t" "u" "v" "w" "x" "y" "z"                                                 

$Apr                                                                             
 [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q" "r" "s" 
[20] "t" "u" "v" "w" "x" "y" "z" 
```

保存此列表可以使用`save(dat)`. 如果您热衷于将月份保存在单独的对象中：

```
lapply(names(dat), function(month) {
  save(dat[[month]], file = sprintf("%s.rda", month)
 }) 
```

或使用旧的 for 循环：

```
for(month in names(dat)) {
  save(dat[[month]], file = sprintf("%s.rda", month)
} 
```

# javascript - 图像 URL 到 base64 编码？

> ID：10478327
> 
> 赞同：0
> 
> 时间：2012-05-07T07:33:05.850
> 
> 标签：javascript, jquery

如何在 jquery 中将图像 url 转换为 base64encode？例如图像 url 转换为二进制以传递另一个页面

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:17:43.867

您可以使用这个 Base64 编码/解码类[http://www.webtoolkit.info/javascript-base64.html](http://www.webtoolkit.info/javascript-base64.html)。我不认为 jquery 包含它。

# haskell - Haskell 类型族，理解错误信息

> ID：10478329
> 
> 赞同：5
> 
> 时间：2012-05-07T07:33:14.100
> 
> 标签：haskell, type-families

在尝试使用[`Data.Has`](http://hackage.haskell.org/packages/archive/has/0.5.0.1/doc/html/Data-Has.html)时，我一直在编写如下代码：

```
data Name = Name; type instance TypeOf Name = Text
type NameRecord = FieldOf Name; 
```

我发现：

```
instance I NameRecord where
  ... 
```

抛出编译错误，即：

> 非法类型同义词族应用实例

然而：

```
instance (NameRecord ~ a) => I a where
  ... 
```

编译良好。

我认为该错误与 GHC 中的[这张](http://hackage.haskell.org/trac/ghc/ticket/3485)票有关，标记为无效。

对票的回复说：

> 我不确定你在暗示什么。我们不能自动转换
> 
> ```
> instance C (Fam Int) -- (1) 
> ```
> 
> 进入
> 
> ```
> instance (Fam Int ~ famint) => C famint -- (2) 
> ```
> 
> 如果只有一个实例，这会起作用，但是一旦有两个这样的实例，它们总是重叠的。
> 
> 也许您建议我们无论如何都应该这样做，程序员应该只考虑隐式转换。我不认为这是一个好主意。令人困惑的好处很少（因为您总是可以毫不费力地自己编写转换后的实例）。

有人可以详细说明这个解释，也许有一些示例代码，其中（1）失败但（2）没有，为什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T11:52:29.103

（1）失败但（2）没有的情况是微不足道的；`type ExampleOfATypeSynonym = ...`因为在实例声明中不允许使用类型同义词 ( )，但在约束中允许使用同义词，所以在任何只有**一个**实例的情况下，如下所示：

```
-- (1)
class Foo a
type Bla = ()
instance Foo Bla 
```

...可以转化为：

```
-- (2)
class Foo a
type Bla = ()
instance (a ~ Bla) => Foo a 
```

(1) 失败的唯一原因是实例声明中不允许使用类型同义词，这是因为类型同义词就像类型函数：它们提供从类型名称到类型名称的单向映射，所以如果你有一个`type B = A`和 a `instance Foo B`，不明显的`Foo A`是创建了一个 的实例。该规则存在，因此您必须改为编写`instance Foo A`以明确这*是*实际获取实例的类型。

在这种情况下，类型族的使用是无关紧要的，因为问题在于您使用的是类型同义词，即`NameRecord`类型。您还必须记住，如果类型同义词被删除并`FieldOf Name`直接替换为，编译仍然会失败；那是因为“类型族”只是类型同义词的增强版本，因此在这种情况下`FieldOf Name`也是“类型同义词” 。`Name :> Text`您必须使用数据系列和数据实例来获得“双向”关联。

有关数据系列的更多信息，请参阅[GHC 文档](http://www.haskell.org/ghc/docs/7.0.3/html/users_guide/type-families.html#data-families)。

* * *

我认为您的意思是“......其中（2）失败但（1）没有......”

假设我们有一个像这样的类型类：

```
class Foo a where
  foo :: a 
```

现在，您可以像这样编写实例：

```
 instance Foo Int where
   foo = 0

 instance Foo Float where
   foo = 0

 main :: IO ()
 main = print (foo :: Float) 
```

这正如人们所期望的那样工作。但是，如果您将代码转换为：

```
{-# LANGUAGE FlexibleInstances, TypeFamilies #-}
class Foo a where
  foo :: a

instance (a ~ Int) => Foo a where
  foo = 0

instance (a ~ Float) => Foo a where
  foo = 0

main :: IO ()
main = print (foo :: Float) 
```

它不编译；它显示错误：

```
test.hs:5:10:
    Duplicate instance declarations:
      instance a ~ Int => Foo a -- Defined at test.hs:5:10-27
      instance a ~ Float => Foo a -- Defined at test.hs:8:10-29 
```

因此，这就是您希望寻找的示例。现在，只有在有多个实例`Foo`使用此技巧时才会发生这种情况。这是为什么？

GHC 解析类型类时，只看实例声明头；即它忽略`=>`. 当它选择了一个实例时，它“提交”给它，并检查 之前的约束`=>`以查看它们是否为真。所以，起初它看到两个实例：

```
instance Foo a where ...
instance Foo a where ... 
```

仅根据这些信息显然不可能决定使用哪个实例。

# java - 使用 postgres 进行休眠配置（使用 webnms）

> ID：10478332
> 
> 赞同：1
> 
> 时间：2012-05-07T07:33:26.503
> 
> 标签：java, sql, hibernate, postgresql, stack-trace

我的 hibernate.cfg.xml 有问题，实际上它可以工作，但是在我卸载 webnms 并重新安装它之后，运行它时代码有错误。这是我的 hibernate.cfg.xml 文件：

```
<hibernate-configuration>

<session-factory>

<!--property name="connection.driver_class">com.p6spy.engine.spy.P6SpyDriver</property-->       

<!--For MYSQL,Starts From Here-->
<!--
<property name="connection.driver_class">com.mysql.jdbc.Driver</property>
<property name="connection.url">jdbc:mysql://localhost/WebNmsDB?dumpQueriesOnException=true&amp;jdbcCompliantTruncation=false</property>
<property name="connection.username">root</property>
<property name="connection.password"></property>
<property name="dialect">org.hibernate.dialect.MySQL5InnoDBDialect</property>
<property name="databasename">MYSQL</property>
<property name="engineType">InnoDB</property>
-->
<!--End Of MYSQL-->

<!--For Using Oracle DB , Uncomment the below tags -->

<!--<property name="connection.driver_class">oracle.jdbc.driver.OracleDriver</property>
<property name="connection.url">jdbc:oracle:thin:@localhost:1521:WebNmsDB</property>
<property name="connection.username">DslamUser</property>
<property name="connection.password">dslam</property>
<property name="dialect">org.hibernate.dialect.Oracle10gDialect</property>
<property name="databasename">ORACLE</property>-->

<!-- End of ORACLE ,Uncomment till here-->

<!--For Using Sybase ASA DB , Uncomment the below tags -->
<!--
<property name="connection.driver_class">com.sybase.jdbc3.jdbc.SybDriver</property>
<property name="connection.url">jdbc:sybase:Tds:localhost:2638/WebNmsDB</property>
<property name="connection.username">dba</property>
<property name="connection.password">sql</property>
<property name="dialect">org.hibernate.dialect.SybaseAnywhereDialect</property>
<property name="databasename">SYBASE</property>
-->
<!--END of SYBASE ASA ,Uncomment till here-->

<!--For Postgresql,Starts From Here-->

<property name="connection.driver_class">org.postgresql.Driver</property>
<property name="connection.url">jdbc:postgresql://localhost/WebNmsDB</property>
<property name="connection.username">postgres</property>
<property name="connection.password">postgres</property>
<property name="dialect">org.hibernate.dialect.PostgreSQLDialect</property>
<property name="databasename">POSTGRESQL</property>
<property name="connection.schemaname">public</property>

<!--End Of Postgresql Uncomment till here-->

<!--For MSSQL,Starts From Here-->
<!--
<property name="connection.driver_class">com.microsoft.sqlserver.jdbc.SQLServerDriver</property>
<property name="connection.url">jdbc:sqlserver://localhost:1433;databaseName=WebNmsDB</property>
<property name="connection.username">admin</property>
<property name="connection.password">public</property>
<property name="dialect">org.hibernate.dialect.SQLServerDialect</property>
<property name="databasename">MSSQL</property>
-->
<!--End Of MSSQL Uncomment till here-->

<!--Use Given Schema name for Qualified Tables -->
<!--
<property name="hibernate.default_schema">userName</property>
-->
<!-- JDBC connection pool (use the built-in) -->
<!--property name="hibernate.connection.pool_size">6</property-->
<property name="hibernate.c3p0.min_size">6</property>
<property name="hibernate.c3p0.max_size">15</property>
<property name="nontransaction.connection">3</property>
<property name="hibernate.connection.autocommit">true</property>
<!--property name="hibernate.c3p0.max_statements">1000</property-->
<property name="hibernate.c3p0.acquire_increment">1</property>
<property name="hibernate.jdbc.batch_size">1000</property>
<property name="hibernate.connection.isolation">2</property>
<property name="enablecache">true</property>
<!-- Enable Hibernate's automatic session context management -->
<property name="current_session_context_class">thread</property>
<!-- Disable the second-level cache -->
<!--<property name="cache.provider_class">org.hibernate.cache.NoCacheProvider</property>-->
<property name="hibernate.cache.use_second_level_cache">true</property>
<property name="hibernate.cache.provider_class">org.hibernate.cache.EhCacheProvider</property>
<property name="hibernate.cache.use_query_cache">true</property>
<!-- Echo all executed SQL to stdout -->
<property name="show_sql">false</property>
<!-- Drop and re-create the database schema on startup -->
<property name="hbm2ddl.auto">update</property>
<!-- used internally by WebNMS and also used for database re-connection-->
<property name="testQuery">select HOSTADDRESS from BEFailOver</property>
<!-- c3p0 DB-Reconnection Properties -->
<!--
<property name="hibernate.c3p0.acquireRetryAttempts">100</property>
<property name="hibernate.c3p0.acquireRetryDelay">3000</property>
<property name="hibernate.c3p0.breakAfterAcquireFailure">false</property>
-->
<!-- End of c3p0 DB-Reconnection Properties. For more details:http://www.mchange.com/projects/c3p0/index.html#configuring_recovery-->

<!-- ************************************** -->
<!-- TOPOLOGY MODULE OBJECT MAPPING ENTRIES -->
<!-- ************************************** -->
<mapping resource="com/adventnet/nms/topodb/ManagedObject.hbm.xml"/>
<mapping resource="com/adventnet/nms/topodb/TopoObject.hbm.xml"/>
<mapping resource="com/adventnet/nms/topodb/Network.hbm.xml"/>
<mapping resource="com/adventnet/nms/topodb/IpAddress.hbm.xml"/>
<mapping resource="com/adventnet/nms/topodb/Node.hbm.xml"/>
<mapping resource="com/adventnet/nms/topodb/SnmpNode.hbm.xml"/>
<mapping resource="com/adventnet/nms/topodb/SnmpInterface.hbm.xml"/>
<mapping resource="test/SwitchObject.hbm.xml"/>
<mapping resource="test/PortObject.hbm.xml"/>
<mapping resource="test/Printer.hbm.xml"/>
<mapping resource="com/adventnet/nms/topodb/tl1/TL1Node.hbm.xml"/>
<mapping resource="com/adventnet/nms/topodb/tl1/TL1Interface.hbm.xml"/>
<mapping resource="com/adventnet/nms/topodb/ManagedGroupObject.hbm.xml"/>
<mapping resource="com/adventnet/nms/topodb/corba/CORBANode.hbm.xml"/>
<!-- *********************************** -->
<!-- FAULT MODULE OBJECT MAPPING ENTRIES -->
<!-- *********************************** -->
<mapping resource="com/adventnet/nms/eventdb/Event.hbm.xml"/>
<mapping resource="com/adventnet/nms/alertdb/Alert.hbm.xml"/>
<mapping resource="com/adventnet/nms/alertdb/AlertHistory.hbm.xml"/>

<!-- ***************************************** -->
<!-- PERFORMANCE MODULE OBJECT MAPPING ENTRIES -->
<!-- ***************************************** -->
<mapping resource="com/adventnet/nms/poll/PolledData.hbm.xml"/>

<!-- ******************************** -->
<!-- MAP MODULE OBJECT MAPPING ENTRIES -->
<!-- ******************************** -->
<mapping resource="com/adventnet/nms/mapdb/MapContainer.hbm.xml"/>
<mapping resource="com/adventnet/nms/mapdb/MapSymbol.hbm.xml"/>
<mapping resource="com/adventnet/nms/mapdb/MapLink.hbm.xml"/>
<mapping resource="com/adventnet/nms/mapdb/MapGroup.hbm.xml"/>
<mapping resource="com/adventnet/nms/mapdb/MapDB.hbm.xml"/>
<mapping resource="com/adventnet/nms/mapdb/GMapSymbol.hbm.xml"/>
<mapping resource="com/tetra/nms/ems/topodb/slot.hbm.xml"/>
<mapping resource="com/tetra/nms/ems/topodb/combiner.hbm.xml"/>
<mapping resource="com/tetra/nms/ems/topodb/multiCoupler.hbm.xml"/>
<mapping resource="com/tetra/nms/ems/topodb/duplexer.hbm.xml"/>
<mapping resource="com/tetra/nms/ems/topodb/baseBoard.hbm.xml"/>
<mapping resource="com/tetra/nms/ems/topodb/pc.hbm.xml"/>
<mapping resource="com/tetra/nms/ems/topodb/trxBoard.hbm.xml"/>
<mapping resource="com/tetra/nms/ems/topodb/board.hbm.xml"/>
<mapping resource="com/tetra/nms/ems/topodb/baseStation.hbm.xml"/>
</session-factory>

</hibernate-configuration> 
```

这是我的堆栈跟踪：

```
Windows XP
log4j:WARN No appenders could be found for logger (org.hibernate.util.DTDEntityResolver).
log4j:WARN Please initialize the log4j system properly.
Initial SessionFactory creation failed.org.hibernate.MappingNotFoundException: resource: com/adventnet/nms/topodb/ManagedObject.hbm.xml not found
Exception in thread "NmsMainBE" java.lang.ExceptionInInitializerError
    at com.adventnet.nms.util.hbn.HibernateUtil.<clinit>(HibernateUtil.java:60)
    at jdbc.CreateSchema.init(CreateSchema.java:94)
    at com.adventnet.nms.startnms.NmsMainBE.main(NmsMainBE.java:354)
    at com.adventnet.launcher.nms.StartNmsJdbc.run(StartNmsJdbc.java:492)
    at java.lang.Thread.run(Unknown Source)
Caused by: org.hibernate.MappingNotFoundException: resource: com/adventnet/nms/topodb/ManagedObject.hbm.xml not found
    at org.hibernate.cfg.Configuration.addResource(Configuration.java:569)
    at org.hibernate.cfg.Configuration.parseMappingElement(Configuration.java:1593)
    at org.hibernate.cfg.Configuration.parseSessionFactory(Configuration.java:1561)
    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1540)
    at org.hibernate.cfg.Configuration.configure(Configuration.java:1529)
    at com.adventnet.nms.util.hbn.HibernateUtil.<clinit>(HibernateUtil.java:54)
    ... 4 more 
```

怎么了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-08T08:04:52.757

它说`resource: com/adventnet/nms/topodb/ManagedObject.hbm.xml not found`。仔细检查它是否在那里。也许整个*拓扑模块*都不见了

# asp.net - 过滤后的Gridview分页

> ID：10478333
> 
> 赞同：0
> 
> 时间：2012-05-07T07:33:33.047
> 
> 标签：asp.net, gridview, paging

我在我的 GridView 中进行了分页，它以前运行良好：它是通过 TextBox 中的“用户键”值进行过滤的。但是，由于我在 GridView 中添加了过滤，因此分页存在一些问题。当用户尝试点击第 2 页时，它会显示 GridView 在被过滤之前的第 2 页。

有人能帮我吗？下面是我的分页代码隐藏：

```
protected void gvPaging(object sender, GridViewPageEventArgs e)
{
    DefaultData();
    GridView1.PageIndex = e.NewPageIndex;
    GridView1.DataBind();
} 
```

过滤代码：

```
protected void Button1_Command(object sender, EventArgs e)
{    
    string folderName = ConfigurationManager.AppSettings["folderPDF"].ToString();
    string path = Server.MapPath("./");
    string fpaths = path + folderName;
    string[] filePath = Directory.GetFiles(fpaths, "*.pdf");
    DataTable table = GetTable(filePath);

    //var dataTable = (DataTable)GridView1.DataSource;
    var dataView = table.DefaultView;
    dataView.RowFilter = "folderName LIKE '" + DocSearch.Text.Trim() + "%'";

    GridView1.DataSource = table;
    GridView1.DataBind();

    DocSearch.Text = "";
} 
```

默认数据（）

```
public void DefaultData()
{
    string folderName = ConfigurationManager.AppSettings["folderPDF"].ToString();
    string path = Server.MapPath("./");
    string fullPath = path + folderName;
    string[] filePaths = Directory.GetFiles(fullPath, "*.pdf");
    DataTable table = GetTable(filePaths);

    GridView1.DataSource = table;
    GridView1.DataBind();
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:48:08.353

您需要将 filterig 选项添加到网格视图分页功能中，否则它将不起作用，因为您需要告诉它应该从哪个数据源获取信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-08T19:42:50.927

真的我为这个问题搜索了很多，人们正在寻找我在这里找到的正确解决方案..嘿..首先`enablepagingandcallback = false`在 gridview 中设置，然后添加

```
Private Sub GridView1_PageIndexChanging(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.GridViewPageEventArgs) Handles GridView1.PageIndexChanging
    GridView1.PageIndex = e.NewPageIndex
    GridView1.DataSource = SqlDataSource1
    GridView1.DataBind()

End Sub 
```

如果使用 dataview 过滤器，这就是全部，使用它而不是 sqldatasource 过滤表达式

# sql-server-2005 - 条件参数的报告服务代码

> ID：10478336
> 
> 赞同：0
> 
> 时间：2012-05-07T07:33:52.447
> 
> 标签：sql-server-2005, reportingservices-2005

是否有条件参数的代码通过从字符串格式更改以文本格式显示条件。我想以文本格式显示条件。每当我搜索应该以文本格式显示在每个页面下的内容时。

例如：如果我搜索 1)Physician Name like`'%'`那么它应该是医生 Name like `'ALL'`。

我不想要任何额外的参数。我在报告中使用了一个名为 Condition 的参数。因此，每当我在某些条件下进行搜索时，它都应该以文本格式显示在每一页的底部。现在它正在显示，因为它是给予的。

例如：contractname like '%' 然后它显示contractname like '%%%' contractname stats with P 它显示contractname like 'P%' 但我希望它作为contractname like 'P' （或）contractname 以p 开头。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-09T00:21:43.890

给定名为“myParameter”的参数，您可以将报告中的值引用为 =Parameters!myParameter.Value

# jquery - 使用 Asset Pipeline 时如何引用 JS 文件中的图像？

> ID：10478338
> 
> 赞同：0
> 
> 时间：2012-05-07T07:34:06.343
> 
> 标签：jquery, ruby-on-rails-3, lightbox

我在我的 Rails 3.1 应用程序中使用 jQuery Lightbox。我正在使用资产管道，我想知道处理这些对 .js 文件中图像的引用的最佳方法是什么：

```
// jQuery Lightbox Init / settings
// Visit http://leandrovieira.com/projects/jquery/lightbox/ for more options and updates
jQuery("a[href$=.jpg],a[href$=.png],a[href$=.gif]").lightBox({
    imageLoading:   '/images/jquery-lightbox/lightbox-ico-loading.gif', // (string) Path and the name of the loading icon
    imageBtnPrev:   '/images/jquery-lightbox/lightbox-btn-prev.gif',        // (string) Path and the name of the prev button image
    imageBtnNext:   '/images/jquery-lightbox/lightbox-btn-next.gif',        // (string) Path and the name of the next button image
    imageBtnClose:  '/images/jquery-lightbox/lightbox-btn-close.gif',   // (string) Path and the name of the close btn
    imageBlank:     '/images/jquery-lightbox/lightbox-blank.gif'            // (string) Path and the name of a blank image (one pixel)
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:36:57.657

如果这是一个 js.erb 文件，您可以使用 ruby​​ 和 assets_path 方法：

```
 imageLoading: "<%= asset_path 'jquery-lightbox/lightbox-ico-loading.gif' %>" 
```

等等。

# symfony - 必须管理传递给选择字段的实体

> ID：10478341
> 
> 赞同：3
> 
> 时间：2012-05-07T07:34:26.867
> 
> 标签：symfony

我从互联网上搜索答案，但找不到原因：我有一家表公司，表公司类型，所以：

```
/**
 * Acme\UserBundle\Entity\Company
 *
 * @ORM\Table(name="company")
 * @ORM\Entity
 */
class Company
{
/**
 * @var integer $id
 *
 * @ORM\Column(name="id", type="integer", nullable=false)
 * @ORM\Id
 * @ORM\GeneratedValue(strategy="IDENTITY")
 */
private $id;
/**
 * @var CompanyType
 *
 * @ORM\ManyToOne(targetEntity="CompanyType")
 * @ORM\JoinColumns({
 *   @ORM\JoinColumn(name="company_type_id", referencedColumnName="id")
 * })
 */
private $companyType;
... 
```

}

```
/**
* Acme\UserBundle\Entity\CompanyType
*
* @ORM\Table(name="company_type")
* @ORM\Entity
*/
class CompanyType
{
 /**
 * @var integer $id
 *
 * @ORM\Column(name="id", type="integer", nullable=false)
 * @ORM\Id
 * @ORM\GeneratedValue(strategy="IDENTITY")
 */
private $id;
/**
 * @var string $name
 *
 * @ORM\Column(name="name", type="string", length=45, nullable=true)
 */
private $name;
....
public function __toString(){
    return $this->name;
} 
```

}
然后，在 formtype 类中：

```
class CompanyForm extends AbstractType
{
    public function buildForm(FormBuilder $builder, array $options)
    {
    $builder
        ->add('name')
        ->add('siren')
        ->add('siret')
        ->add('tvaCommun')
        ->add('apeCode')
    ;
    $builder->add('activity','collection', array('type'=> new ActivityForm()));      
    $builder->add('companyType','entity',array(
            'class' => 'AcmeUserBundle:CompanyType',
    ));
   }
...
} 
```

当我尝试使用表格时：

```
 {{ form_row(company.companyType)  }} 
```

在视图中，我收到了错误消息。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-08T07:39:24.093

我找到了原因，因为我在公司中为表单创建了一个 companyType 实例。意思是：

```
$cType=new CompanyType();
$company=new Company();
$company->getCompanyTypes()->add($cType);
$cForm=$this->createFrom(new CompanyForm(),$company); 
```

这就是它抛出此异常的原因。我不应该为表单初始化任何 companyType。因为我需要选择它。
感谢谁试图提供帮助。希望这可以帮助某人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:27:34.267

此错误意味着传递给实体字段的 CompanyType 对象必须由 EntityManager 管理，即必须通过实体管理器持久化到您的数据库中。

您确定 CompanyType 实体存储在 AcmeUserBundle 中吗？

# c++ - 在opencv中相应地对blob进行排序

> ID：10478342
> 
> 赞同：0
> 
> 时间：2012-05-07T07:34:28.470
> 
> 标签：c++, opencv

如何在opencv中相应地对blob进行排序？我所有的斑点都散落在图像上。我希望它在右下角成为第一个 blob。从第一个 blob 到最后一个 blob 的左上角，第二个 blob 位于左下角。我需要一些关于如何处理它的建议。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:55:14.313

我会尝试这样的..

```
bool sortBlobs(CBlob first, CBlob second) {

return first.x > second.x;
}

int main() {

  std::vector<CBlob> blobvector;

  CBlobResult blobs;

  // ...
  // find blobs here ...
  // ...

  for (int i = 0; i < blobs.GetNumBlobs(); i++ )
  {
    blobvector.push_back(blobs.GetBlob(i));
  }

  // now sort the vector
  std::sort(blobvector.begin(), blobvector.end(), sortBlobs);

  // ...
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:49:54.890

你在 OpenCV 中使用 cvBlobsLib 吗？对于每个检测到的 blob，您可以通过以下方式获取其区域

```
CvRect rect = blob->GetBoundingBox(); 
```

然后你可以根据 rect.x 对所有的 blob 进行排序。

# asp.net - asp.net 中基于 Ajax 的 DropDownList 事件

> ID：10478344
> 
> 赞同：0
> 
> 时间：2012-05-07T07:34:40.360
> 
> 标签：asp.net, ajax

我的 asp.net 页面中有一个下拉列表。我想根据选择的下拉值在页面上显示数据库数据。

我怎样才能使用 ajax 做同样的事情？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:40:17.690

[您可以将 DropDownList 放在 UpdatePanel 中，然后在将AutoPostBack](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.listcontrol.autopostback.aspx)属性设置为 后订阅[SelectedIndexChanged](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.listcontrol.selectedindexchanged.aspx)事件。`true`

这是一个例子：

```
<%@ Page Language="C#" %>
<script type="text/C#" runat="server">
    protected void OnChange(object sender, EventArgs e)
    {
        label.Text = string.Format("Selected value: {0}", ddl.SelectedValue);
    }
</script>

<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
    <form id="Form1" runat="server">
        <asp:ScriptManager ID="scm" runat="server" />

        <asp:UpdatePanel ID="up" runat="server">
            <ContentTemplate>
                <asp:DropDownList 
                    ID="ddl" 
                    runat="server" 
                    AutoPostBack="true" 
                    OnSelectedIndexChanged="OnChange">
                    <asp:ListItem Value="1" Text="item 1" />
                    <asp:ListItem Value="2" Text="item 2" />
                    <asp:ListItem Value="3" Text="item 3" />
                </asp:DropDownList>

                <asp:Label ID="label" runat="server" />
            </ContentTemplate>
            <Triggers>
                <asp:AsyncPostBackTrigger ControlID="ddl" EventName="SelectedIndexChanged" />
            </Triggers>
        </asp:UpdatePanel>
    </form>
</body>
</html> 
```

要了解有关更新面板和 ASP.NET AJAX 的更多信息，您可以查看[以下文章](http://www.asp.net/ajax/documentation/live/overview/UpdatePanelOverview.aspx)。

# java - 使用 Hibernate Criteria 获取多个随机行

> ID：10478348
> 
> 赞同：1
> 
> 时间：2012-05-07T07:35:01.093
> 
> 标签：java, hibernate, hibernate-criteria

```
Criteria crit=getSession().createCriteria(Student.class);
crit.add(Restrictions.not(Restrictions.like("studentName", "John" )));  
int count=crit.list().size();
int index=new Random().nextInt(count);
crit.setFirstResult(index).setMaxResults(3); 
```

此代码仅返回第一个结果作为随机结果和接下来的三个连续行（非随机）。我想获得 3 个随机行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T13:56:04.343

我认为最好的解决方案是为 Student 实体定义一个自动递增的数字 ID，然后随机获取 3 个值（在最低 ID 和最大 ID 之间），以便您可以使用以下标准：

```
Restrictions.in("id", {randomVal1, randomVal2, randomVal3}) 
```

# swing - 将 JComboBox 添加到 JTable

> ID：10478349
> 
> 赞同：0
> 
> 时间：2012-05-07T07:35:01.780
> 
> 标签：swing, jtable, jscrollpane, jcombobox, jcomponent

我正在使用此代码添加`JCombobox`到`JTable`，但是当我运行此代码时，没有组合框被添加到`Jtable`唯一的标题中显示在`Jtable`.

```
Private JTable ScrollPaneTable;

public JTable getScrollPaneTable()
    {
        if(ScrollPaneTable == null)
        {
            try
            {
                ScrollPaneTable = new JTable();
                ScrollPaneTable.setName("ScrollPaneTable");
                getJScrollPane1().setColumnHeaderView(ScrollPaneTable.getTableHeader());
                TableColumn sportColumn = ivjScrollPaneTable.getColumnModel().getColumn(0);
                sportColumn.setCellEditor(new DefaultCellEditor(getCombo1())); //getCombo1                      
                            returns the JCombo box reference whose items are already added.
                ScrollPaneTable.setBounds(0, 0, 200, 200);
            }
            catch(Throwable Exc)
            {
                handleException(Exc);
            }
        }
        return ScrollPaneTable;
    } 
```

在这里，我只添加了一个组合，但我想在其他列中使用更多组合。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:08:45.630

发布[SSCCE](http://sscce.org)，这对我有用，

```
import javax.swing.DefaultCellEditor;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JTable;
import javax.swing.table.TableColumn;

public class TestJComboBox {

    public static void main(String args[]) {

        JFrame frame = new JFrame("Example of JCombobox in JTable");
        frame.setSize(450, 250);

        JTable table = new JTable(5,5);

        TableColumn testColumn = table.getColumnModel().getColumn(0);

        JComboBox comboBox = new JComboBox();
        comboBox.addItem("This");
        comboBox.addItem("is");
        comboBox.addItem("a");
        comboBox.addItem("Sample program");
        comboBox.addItem("for");
        comboBox.addItem("StackOverflow");
        testColumn.setCellEditor(new DefaultCellEditor(comboBox));

        frame.add(table);

        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        frame.setVisible(true);
    }
} 
```

# windows-xp - Windows 7 上的 SQLServerCE SDF 文件

> ID：10478352
> 
> 赞同：0
> 
> 时间：2012-05-07T07:35:25.643
> 
> 标签：windows-xp, sql-server-ce, windows-7-x64, windows-mobile-5.0, rapi

我在 Windows XP 上有一个应用程序，它从移动设备 (Windows Mobile 5.0) 获取一个 sdf 文件 (SQLServerCE3.0) 导入和删除一些数据，然后将其放回设备。它一直正常工作。

现在，当我在 Windows 7 x64 上执行此操作时，sdf 文件在返回时会在设备上执行一些奇怪的行为。

当我使用字符串进行连接时，例如：

SELECT EMPRESA FROM EMPRESES E INNER JOIN VENDORS V ON V.EMPRESA_GUID = E.GUID where V.GUID='{XXX-XXX}'

当它有数据要返回时，它不会返回任何东西（在 Windows XP 上它可以正常工作）。

我已经对其进行了测试，只是从 Windows 7 上的设备中获取文件（使用 RAPI 或手动）并将其放回无法再使用的设备。

我不知道为什么会这样，尝试更改 SQLServerCE 版本但没有帮助。任何人都可以知道发生了什么或以前遇到过同样的问题吗？

我在这里找到了类似的东西：http: [//www.codeproject.com/Questions/98676/c-app-on-xp-makes-sdf-works-same-exe-on-windows-7](http://www.codeproject.com/Questions/98676/c-app-on-xp-makes-sdf-works-same-exe-on-windows-7)

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:48:44.110

您必须使用此处记录的 3.1 引擎（3.0.5300 或更高版本）：http: [//blogs.msdn.com/b/sqlservercompact/archive/2009/04/01/after-moving-the-database-from-one -platform-to-other-the-first-sqlceconnection-open-takes-more-time.aspx](http://blogs.msdn.com/b/sqlservercompact/archive/2009/04/01/after-moving-the-database-from-one-platform-to-other-the-first-sqlceconnection-open-takes-more-time.aspx)

# jquery - jQueryUI 对话框表单无法打开

> ID：10478361
> 
> 赞同：2
> 
> 时间：2012-05-07T07:36:34.867
> 
> 标签：jquery, html, css, jquery-ui

我是 jquery 新手，在显示灯箱表单时遇到问题。**[我想要一个与此类](http://jqueryui.com/demos/dialog/#modal-form)**似的表格。但是，我不知道如何自定义它

下面是我的代码：

```
<html>
<head>
    <title>Test Light Box</title>
    <script type="text/javascript" src="jquery-ui-1.8.20.custom.min.js"></script>
    <script type="text/javascript">
        $("#dialog-form").dialog({
            autoOpen: false,
            height: 500,
            width: 450,
            modal: true,
            Cancel: function() {
                $( this ).dialog( "close" );
            }
        });         

        $("#create-uer")
            .button()
            .click(function(){
                $( "#dialog-form" ).dialog( "open" );
            });

    </script>
</head>
<body>
    <div id="dialog-form">
    <form>
    <fieldset>
        <label for="name">Schlagwort</label>
        <input type="text" name="search" id="search" />
    </fieldset>
    </form>
</div>

<button id="create-user">Create new user</button>
</body> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:29:31.430

您应该在此代码之前添加 jquery.css：

```
<link rel="stylesheet" href="jquery-ui.css" type="text/css" media="all" /> 
```

从此页面下载 jquery

```
http://docs.jquery.com/Downloading_jQuery#Download_jQuery 
```

并将其添加到您的页面

```
<script type="text/javascript" src="jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="jquery-ui-1.8.20.custom.min.js"></script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T07:38:41.897

如果您希望它看起来像 jQuery UI 表单，您还需要包含它们的样式表。

在[主题](http://jqueryui.com/themeroller/)下，您可以选择和自定义您想要的外观，然后在您的页面中包含该 CSS。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-07T07:57:14.593

在使用 jQuery UI 之前，您仍然需要加载 jQuery 库（它基本上只是一个“官方”插件 - 因此它的方法和工作依赖于 jQuery 功能）。包含 jQuery 的最快和推荐的方法是从 CDN（内容分发网络）加载它，并在 CDN 失败时回退到本地版本。

来自**[HTML5 样板文件](http://html5boilerplate.com/)**：

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script> //try to load from Google's CDN
<script>window.jQuery || document.write('<script src="myScriptDir/jquery-1.7.1.min.js"><\/script>')</script> //in case the jQuery object does not exist (i.e. not loaded) fall back to a local copy 
```

还要确保在加载 UI 库*之前发生这种情况。*

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-07T08:20:33.597

**试试这个代码：**

```
function openDialog() {

    $('#dialog').remove();

    $('#content').prepend('<div id="dialog" style="padding: 3px 0px 0px 0px;"><iframe src="URL of HTML page" style="padding:0; margin: 0; display: block; width: 100%; height: 100%;" frameborder="no" scrolling="auto"></iframe></div>');

    $('#dialog').dialog({
        title: 'Title of dialog',

        close: function (event, ui) {
              // Code which you want to run at the time of close dialog box;
        },  
        bgiframe: false,
        width: 1000,
        height: 500,
        resizable: false,
        modal: false
    });
}; 
```

在这种情况下，您只需要将上述函数放在特定按钮或链接的 Click 事件中。这将对您有所帮助。

谢谢。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-05-07T08:29:36.297

将您的脚本更改为：

```
<script type="text/javascript">
$(document).ready(function() {
    $("#dialog-form").dialog({
        autoOpen: false,
        height: 500,
        width: 450,
        modal: true,
        Cancel: function() {
            $( this ).dialog( "close" );
        }
    });         

    $("#create-user")
        .click(function(){
            $( "#dialog-form" ).dialog( "open" );
        });
});
</script> 
```

# iphone - NSString 改变格式

> ID：10478362
> 
> 赞同：-1
> 
> 时间：2012-05-07T07:36:38.437
> 
> 标签：iphone, nsstring

我有一个字符串

**120505**

格式始终如上。但是内容可能会改变。我希望它是：

**12-05-05**

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-07T07:43:54.393

```
 NSMutableString *editedstring = [NSMutableString stringWithString:yourstring];
 [editedstring insertString:@"-" atIndex:2];
 [editedstring insertString:@"-" atIndex:5]; 
```

这比我建议您阅读以下苹果指南之后更适合您的要求，因为从中您可以了解更多信息。

[NSString 类参考](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Strings/introStrings.html#//apple_ref/doc/uid/10000035i)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T07:44:08.763

使用这个类方法，供大家参考

```
+(NSString *)getString:(NSInteger)pTemp
{
    NSNumber *number = [NSNumber numberWithInt:pTemp];
    NSNumberFormatter *formatter = [[NSNumberFormatter alloc] init];
    [formatter setGroupingSize:2];
    [formatter setGroupingSeparator:@"-"];
    [formatter setUsesGroupingSeparator:YES];
    NSString *finalString = [formatter stringFromNumber:number];
    [formatter release];
    return finalString;
} 
```

根据您的要求更改此方法，它将帮助您处理大于 6 个字符的字符串。

再次，此功能仅供您参考亲爱的。

快乐编码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T07:50:59.197

如果您将输入字符串作为名为 in_string 的 NSString 变量，那么您可以使用下面的代码片段在名为 out_string 的变量中生成输出：

```
 NSString* out_string = [NSString stringWithFormat: @"%@-%@-%@", [in_string substringToIndex: 2], [in_string substringWithRange: NSRangeMake(2,2)], [in_string substringFromIndex: 4]]; 
```

# android - 地图的 API 密钥错误 - 它是否取决于谷歌帐户

> ID：10478367
> 
> 赞同：0
> 
> 时间：2012-05-07T07:36:59.500
> 
> 标签：android, google-maps

我对地图 API 密钥有疑问。我正在编写一个使用 Google 地图的 Android 应用程序。当我在调试模式下运行应用程序时，它只显示灰色网格。我知道这是关于错误的 API 密钥，因为我已经阅读了这个网站上的几十个问题。我已经尝试了很多时间来获取有效的 API 密钥。当这不起作用时，我删除了 debug.keystore 文件，Eclipse 为我生成了一个新的文件，而不是使用那个新的密钥库，我得到了新的 API 密钥。仍然没有用。比我尝试过的 Eclipse 插件 Keytool。相同的结果（除了网格没有显示）。由于我在一家公司，我们有代理，所以我尝试过在模拟器上使用和不使用代理设置（带有 Google API 的 2.3.3）。那没有用。我已经尝试再次获得 API 密钥，但我 我不小心用不同的谷歌账户登录，谷歌给了我相同的 MD5 指纹不同的 API 密钥。所以我的问题是我是否使用了错误的 Google 帐户，因为我在一家公司（我应该使用什么帐户），如果是这样，我怎样才能创建正确的帐户，以便获得可以使用的 API 密钥？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T07:43:49.547

本教程解释了您需要采取的步骤：http: [//developer.android.com/resources/tutorials/views/hello-mapview.html](http://developer.android.com/resources/tutorials/views/hello-mapview.html)

特别是，重要的一点是确保您的开发人员签名密钥与 Maps API 密钥匹配。因此，如果您将个人签名密钥用于 Android 应用程序，则需要为此使用 Maps API 密钥。如果您使用公司签名密钥，则需要使用不同的 Maps API 密钥。

获取 Maps API 密钥所需的确切步骤在[https://developers.google.com/maps/documentation/android/mapkey](https://developers.google.com/maps/documentation/android/mapkey)中进行了描述，但我将从本教程开始，当它工作时，您现在将整个链条好了，然后可以返回自己的代码。

# struts - 如何为 struts-config.xml 中的操作设置默认参数值？

> ID：10478378
> 
> 赞同：0
> 
> 时间：2012-05-07T07:37:49.217
> 
> 标签：struts, parameter-passing, default

如何为 struts-config.xml 中的操作设置默认参数值？

如：

```
if action path="stamp" and parameter="language" -> 
```

用户可以点击

```
url <context-path>/stamp.do 
```

其中使用了一些默认值，例如语言参数的“en”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:44:26.313

没做过这个。进行一些快速研究，您可以使用动态操作表单来完成。您在表单 bean 中指定表单的属性及其初始值，然后将其用作普通表单。在这里可以找到一个示例：

[构建控制器组件](http://struts.apache.org/1.x/userGuide/building_controller.html)

在 4.3.1 部分

# internet-explorer - 重复元标记

> ID：10478381
> 
> 赞同：0
> 
> 时间：2012-05-07T07:37:59.590
> 
> 标签：internet-explorer, internet-explorer-9, meta-tags

我有一个简单的 xml 和 xslt，当在 IE9 中打开时会添加一个元标记。xml是

```
<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="test.xslt"?>
<root/> 
```

并且xslt添加了一个meta标签如下

```
 <xsl:output method="html" version="5.0" doctype-public="-//W3C//DTD HTML 4.0//EN"/>
  <xsl:template match="/">
    <html>
      <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>Example</title>
      </head>
      ... 
```

现在，当我在 IE9 中打开该文件时，开发人员工具显示它可以在 IE9 标准模式下打开，但它有两个元标记。显然 IE9 在加载和应用 xslt 的过程中添加了一个。

![重复元标记](../Images/be9d65939e18feaee66e2f3cdcf1b79f.png)

我想知道两件事：
（1）这会影响文件在 IE9（或早期 IE 版本）中的显示方式吗？
（2）IE9为什么要加第二个meta标签，可以避免吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T08:30:29.860

我对此进行了进一步研究，并找到了我正在寻找的答案。

`meta` `http-equiv`打算设置一个http头字段。因为 Content-type 和 X-UA-Compatible 是不同的 http 标头字段，所以它们不会相互干扰（一个有趣的问题是，如果 xslt 会添加 Content-type 元标记，而 IE9 添加另一个会发生什么） .

IE9在转换下载xml文件时收到的字节顺序标记时，显然将meta标签添加到html头中；BOM 是 utf-16 的，因此会覆盖 xml 标头中的 utf-8 （因此是 HTML1114 消息）。
这可以避免吗？我猜不会。

# objective-c - iPhone后台播放音乐时如何设置标题？

> ID：10478383
> 
> 赞同：1
> 
> 时间：2012-05-07T07:38:24.963
> 
> 标签：objective-c, iphone, audio, background, background-music

我正在开发一个支持在后台播放音乐的广播应用程序。但我陷入了如何设置音乐标题以删除控制权。

在远程控制中，我的应用看起来像这样（RadioTaste 是我的应用名称）：

![在此处输入图像描述](../Images/aabd864fa1655dcee272a8f9789ed72e.png) ![在此处输入图像描述](../Images/baaaec646dad9626d864598b329812a9.png)

苹果的“音乐”应用看起来是这样的：

![在此处输入图像描述](../Images/35b4839d4b76274a679682949771d8f1.png) ![在此处输入图像描述](../Images/a5c7cf5ce2dd53b0ecbb8c2f14f9b389.png)

我应该怎么做才能让我的应用程序像“音乐”应用程序一样显示音乐的标题？

# sharepoint - 通过c#编码将代码从asp fileupload转换为输入类型文件

> ID：10478384
> 
> 赞同：0
> 
> 时间：2012-05-07T07:38:25.023
> 
> 标签：sharepoint, input, directory, input-type-file

```
Need help to convert code from asp control to input type to fetch file name and file bytes.
Below are the code with asp control.
ascx Page:

 <asp:FileUpload ID="fileUp" runat="server" EnableViewState="true" class="tdFileUpload" />

ascx.cs code is given below

 using (SPSite site = new SPSite(siteId))
                    {
                        using (SPWeb web = site.OpenWeb(WebId))
                        {
                            web.AllowUnsafeUpdates = true;
                            string siteurl = SPContext.Current.Web.Url;
                            SPDocumentLibrary library;
                            library = (SPDocumentLibrary)web.Lists["Project_Artifacts"]; /fetches the library list name.
                            library.EnableVersioning = true;
                            library.Update();
                            SPFolder folder = web.Folders.Add(siteurl + "/Project_Artifacts/" + drpPrj.SelectedItem.Value);//creates a folder of selected item name 
```

web.Update();//创建文件夹后更新web folder.Files.Add(folder.Url + "/" + fileUp.FileName, fileUp.FileBytes); // 我想根据我的新要求更改这行代码我如何在这两个提到的地方获得这两个值 1.fileUp.FileName 2.fileUp.FileBytes

```
 folder.Update();
                            web.Update();
    }
    }

The current requirement is : 
ascx page code:

   <div id="FileUpload">
                                                                <input type="file" size="24" id="fileUp"
                                                                 onchange="getElementById('FileField').value = getElementById('fileUp').value;" />
                                                                 <div id="BrowserVisible">
                                                                    <input type="text" id="FileField" name="FileField1"/>

Hope you can figure out the ascx page code difference.
ascx.cs Page code: 
```

folder.Files.Add(folder.Url + "/" + fileUp.FileName, fileUp.FileBytes);

```
I want to change this line of code with the correct line of code which i am unable to do.
Please help.Thanks in advance 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T04:01:50.603

嗨，我得到了答案。代替

```
folder.Files.Add(folder.Url + "/" + fileUp.FileName, fileUp.FileBytes); 
```

到

```
string fileFieldPathValue = Request.Form["fileFieldPath"].ToString(); 
string fileName = System.IO.Path.GetFileName(fileFieldPathValue); 
var bytes = System.IO.File.ReadAllBytes(fileFieldPathValue); 
folder.Files.Add(folder.Url + "/" + fileName, bytes); 
```

对我来说，它工作得很好。

# android - admob 不会通过电汇将我的钱汇入我的银行账户

> ID：10478386
> 
> 赞同：0
> 
> 时间：2012-05-07T07:38:38.843
> 
> 标签：android, admob, currency

在转账中，我可以看到发票上有一些 ID 和转账发生的日期。但是当我去银行时，他们告诉我我没有钱。

我 100% 确定我的 IBAN 代码、我的 SWIFT 代码等都正确编写。. .

有没有人建议问题可能是什么？

发票写在 admob 帐户上并实际支付给银行后是否有延迟？

有什么地方可以让我了解这些事情吗？

谢谢

如果这不是问这个的地方，请告诉我在哪里问

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T08:19:29.483

问题出在我当地的银行账户上

# javascript - ObservableArray 绑定因 knockoutjs 而失败

> ID：10478392
> 
> 赞同：1
> 
> 时间：2012-05-07T07:39:05.443
> 
> 标签：javascript, knockout.js

根据我如何更改 observableArray 对象中的属性，属性值会在 HTML 中更新或不更新。我希望我能明白为什么...

我尽可能地简化了我的代码以显示差异：

*   一个有效的方法：更新整个对象

*   另一个失败：仅更新该对象的方法

在这两种情况下，我都使用 valueHasMutated 强制更新。

[http://jsfiddle.net/fCXAq/](http://jsfiddle.net/fCXAq/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T09:13:42.607

您的 val 成员必须是可观察的

[http://jsfiddle.net/fCXAq/2/](http://jsfiddle.net/fCXAq/2/)

# java - 休眠：新的或旧的记录

> ID：10478394
> 
> 赞同：0
> 
> 时间：2012-05-07T07:39:08.903
> 
> 标签：java, hibernate, one-to-many, hibernate-onetomany

我在表**Result**和**ResultAux**之间有一个 OneToMany 连接。**我可以从Result**检索一组**ResultAux**对象。之后，我将添加一些**ResultAux**对象进行设置，并在每个设置条目上使用**合并将**更改刷新到数据库中。像这样：

 ******```
Set<ResultAux> resultAuxes = result.getResultAuxes();
if (resultAuxes != null) {
    for (ResultAux resultAux : resultAuxes) {
        resultAux = getDaoFactory().getResultAuxDAO().merge(resultAux);
    }
} 
```

对于一些额外的操作，我需要知道设置一个新记录并将插入到表中，或者它是一个旧记录并且（修改与否）将被更新。我注意到**ResultAux**集的所有条目都已经有一个 ID，所以我不能像检查其他表一样检查它是否为**null 。**有没有办法确定这样的事情（最好不涉及额外的库）？

**编辑**：

```
<hibernate-mapping>
    <class name="ResultAux" table="RESULT_AUX">
        <id name="id" column="ID">
            <generator class="native" />
        </id>

        <property name="additinalInfoType" column="AITYPE" type="dao.hibernate.utl.AdditinalInfoEnumType" />
        <property name="sorter" column="SORTER" />
        <property name="value1" column="VAL1" />
        <property name="value2" column="VAL2" />

        <many-to-one name="result" column="RESULT_ID" class="Result" />
    </class>
</hibernate-mapping>

<hibernate-mapping>
    <class name="Result" table="RESULT">
        <id name="id" column="ID">
            <generator class="native" />
        </id>

        <property name="questionNumber" column="Q_NUM" />
        <property name="answerNumber" column="A_NUM" />
        <property name="questionGroup" column="Q_GRP" />
        <property name="answerValue" column="A_VAL" />
        <set name="resultAuxes" inverse="true" cascade="all-delete-orphan"
            lazy="false">
            <key column="RESULT_ID" />
            <one-to-many class="ResultAux" />
        </set>
    </class>
</hibernate-mapping> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:34:15.260

使用`native`作为主键生成策略会导致 Hibernate 选择 `identity`，`sequence`或者`hilo`作为 PK 生成策略，具体取决于底层数据库的功能。

我认为对于您的数据库，休眠选择“序列”策略，这样您可能会通过以下代码遇到此问题（未插入数据库的记录可以具有分配的 ID）：

```
Set<ResultAux> resultAuxes = result.getResultAuxes();
ResultAux  newResultAux = new ResultAux();

/**
 * As session.save()  requires to return the ID for the saved instance , if  "sequence" strategy is 
 * used , Hibernate will hit the DB  to select the next ID (eg. select some_seq.NEXTVAL) to be used 
 * for the saved instance. So newResultAux  will have an ID after save()  but actually it is not saved to 
 * the DB yet as  saving to the DB  occurs during session.flush()
 */
session.save(newResultAux);
resultAuxes.add(newResultAux); 
```

解决方案之一是将[@Version](http://docs.oracle.com/javaee/5/api/javax/persistence/Version.html)属性添加到`ResultAux`. 然后您可以检查此`@Version`属性的值以确定它是否是新记录，因为新记录的[@Version](http://docs.oracle.com/javaee/5/api/javax/persistence/Version.html)属性必须为 NULL

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:03:16.553

我不确定我的回答是否能解决您的问题，但要回到@EugenioCuevas 评论，我会做这样的事情来保留您的子实体：

```
Set<ResultAux> resultAuxes = result.getResultAuxes();
if (resultAuxes != null) {
    for (ResultAux resultAux : resultAuxes) {
        resultAux.setResult(result);
    }
}
getDaoFactory().getResultDAO().merge(result); 
```

然后 Hibernate 应该自己管理这些关系。******

# java - 如何从互联网快捷方式获取目标路径？

> ID：10478397
> 
> 赞同：0
> 
> 时间：2012-05-07T07:39:28.283
> 
> 标签：java

我的页面中有不同的链接，例如，

`<a href="../test.url">Open</a>`

现在当我点击这个链接时，我会得到一个文本模式的 *.url 文件。我发现 URL 文件具有不同的格式，如[http://www.cyanwerks.com/file-format-url.html](http://www.cyanwerks.com/file-format-url.html) 显示是否有任何简单的方法可以从此文本中获取目标路径？

我知道这只是简单的字符串操作，但是有什么简单的方法可以解析它，可以用于跨平台的 URL 快捷方式文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T10:09:47.660

As you can see that URL file having same format as .ini file (key/value pair). [http://www.cyanwerks.com/file-format-url.html](http://www.cyanwerks.com/file-format-url.html)

If you are running your application in Desktop Application then, the files can be manipulated using basic file I\O or the ***GetPrivateProfileString, GetPrivateProfileSection, WritePrivateProfileSection, WritePrivateProfileSring*** API functions provided by Windows.

If you want to manually parse it and you having whole file content as one string only then i prefer you to follow below method:

```
private String getUrl(String fileContent) {
    fileContent = fileContent.trim();
    String[] contentList = fileContent.split("\r\n");
    for (String content : contentList) {
        if (content.toUpperCase().startsWith("URL")) {
            int i = content.indexOf("=");
            return content.substring(i + 1);
        }
    } 
```

}

# facebook - 使用 access_token 从 Facebook 注销，但活动会话仍然存在

> ID：10478399
> 
> 赞同：0
> 
> 时间：2012-05-07T07:39:41.117
> 
> 标签：facebook, session, logout

我`Facebook API`在一个`C++`应用程序中使用`libcurl`. 登录效果很好，我可以在用户注册我的应用程序后检索一些用户信息。问题是，当我想通过

`https://www.facebook.com/logout.php?access_token=RETRIEVED_TOKEN&confirm=1&next=http://www.google.com`，我的帐户设置（安全）中仍有剩余的活动会话。

我不希望这些会话保留，因为注销应该清除这些。注销时如何顺利清除这些活动会话？我必须添加`APP_ID`到 URL 吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-09T08:25:08.703

我发现我的代码中缺少什么：封装 libcurl 以在 facebook 上执行请求的库没有正确清理。

所以解决方法是在我的会话对象的析构函数中对我的 curl 句柄执行 curl_easy_cleanup() 。现在 facebook 上没有活动会话了。

在调试时，我在我的代码中发现了另一个关于 curl 的错误：如果你想做 curl_easy_getinfo(handle, CURLINFO_EFFECTIVE_URL, buf) 你不能在函数调用之后删除，因为 curl 持有缓冲区。此外，我没有任何内存泄漏。谢谢你的帮助！

# javascript - 如何防止 JQuery 中的默认选项卡切换功能？

> ID：10478401
> 
> 赞同：0
> 
> 时间：2012-05-07T07:39:50.370
> 
> 标签：javascript, jquery

我已经创建了下面的选项卡。

```
<ul class="idTabs">
<li><a href="#basic_info" id="basic_info_link" >Personal</a></li>
<li><a href="#add_info" id="add_info_link">Address</a></li>
<li style="width:194px;"><a href="#payment_info" id="payment_link" style="border-left:none;width:194px;">Bank</a></li>
</ul>
<div id="basic_info"><!--HTML Code --></div>
<div id="add_info"><!--HTML Code --></div>
<div id="payment_info"><!--HTML Code --></div> 
```

这些选项卡工作正常，但问题是在单击这些选项卡标题时我想阻止转到下一个选项卡。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T07:42:46.987

```
$('.idTabs li a').on('click', function(e) {

   e.preventDefault();

}); 
```

***[演示](http://jsfiddle.net/QLM2s/4/)***

# c# - nhprofiler 中的警告消息 WARN: No persister No mapped documents found in assembly

> ID：10478404
> 
> 赞同：2
> 
> 时间：2012-05-07T07:40:06.780
> 
> 标签：c#, nhibernate, fluent-nhibernate

我将层应用程序分为三个项目，一个具有映射文件，第二个具有类，最终项目用于演示，我使用流利的 nhibernate 创建了映射。当我运行我的应用程序时，除了显示在 nhprofiler 中的警告消息之外，所有操作都正常运行，即 WARN: No persister No mapped documents found in assembly。

有人知道为什么显示此消息吗？

# java - 对下标使用 replaceAll

> ID：10478409
> 
> 赞同：1
> 
> 时间：2012-05-07T07:40:45.423
> 
> 标签：java, regex

我正在创建一个 JTextField，它会立即将下划线后跟数字更改为下标。我需要有关replaceAll 的正则表达式代码的帮助。我已经阅读了一些关于正则表达式组的信息，但在这种情况下，我并不完全理解如何获取下划线后的数字。

下标代码：

```
// Only 0 - 9 for now...
private String getSubscript(int number)
    {
        String[] sub = {"\u2080", "\u2081","\u2082","\u2083","\u2084","\u2085","\u2086","\u2087","\u2088","\u2089" };
        return sub[number];
    } 
```

插入更新代码：

```
public void insertUpdate(DocumentEvent e) {
        if (textField.getText().contains("_"))
        {
            SwingUtilities.invokeLater(this);
        }
    } 
```

实际替换的位置（因为您不能直接在 DocumentListener 方法中编辑文本字段：

```
public void run()
    {
        textField.setText(textField.getText().replaceAll("_([0-9])+", getSubscript(Integer.getInteger("$1"))));
    } 
```

这会在 run() 方法中引发 NullPointer 异常。

编辑：

这是一些示例输出：

用户输入“H_2”并立即变为“H₂”，然后他继续“H₂O_2”立即变为“H₂O₂”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T07:52:39.520

您不能仅使用`.replaceAll()`. 您需要`Pattern`如下`Matcher`：

```
public void run() {

    String text = textField.getText();
    Pattern pattern = Pattern.compile("_[0-9]+");
    Matcher matcher = pattern.matcher(text);

    while (matcher.find()) {
        // get the init string (e.g. "_42")
        String group = matcher.group();
        // parse it as an int (i.e. 42)
        int number = Integer.valueOf(group.substring(1));
        // replace all "_42" with the result of getSubscript(42)
        text = text.replaceAll(group, getSubscript(number));
        // recompile the matcher (less iterations within this while)
        matcher = pattern.matcher(text);
    }

    textField.setText(text);

} 
```

# mysql - 如何在具有相等第二个单元格的表中插入多个值

> ID：10478410
> 
> 赞同：0
> 
> 时间：2012-05-07T07:40:46.967
> 
> 标签：mysql, sql

我有一个 MySQL 数据库，我需要在表中插入一些特定的数据。数据应如下所示： **SELECT id FROM a_table WHERE ...**返回一个 id 列表。我需要在**second_table中插入****n**行，其中**n**是第一个查询返回的行数。第二个表需要 2 个字段 - 第一个将是第一个查询的记录，第二个将是一个整数，我将从我的脚本中传递。例如：如果第一个查询返回**(12,14,17,18)**并且我的脚本中的整数是 5 我需要创建一个查询，它将插入**(12,5),(14,5),(17, 5),(18,5)**********我需要在数据库层完成这项工作——我不想创建一个 select 语句，然后创建一个查询然后运行它。我需要这样的东西（这不是一个真正的查询 - 它只是显示我需要什么）：********

 ********插入 second_table (user_id,group_id) 值 ((12,14,17,18),5)**

或者更准确地说是这样的：

**INSERT INTO second_table (user_id,group_id) VALUES ((SELECT id FROM a_table WHERE ...),5)**

有没有办法仅在 SQL 中执行此操作（无 tsql - 仅 sql）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-07T07:44:52.333

您可以在 SELECT 中包含文字值：

```
INSERT INTO second_table (user_id, group_id)
SELECT id, 5
FROM a_table
WHERE ... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T07:57:26.600

您好，您可以尝试下面给出的查询

插入到项目中选择 item_sold_qty , 5 from sales

```
INSERT INTO second_table 
SELECT id , 5 FROM a_table  WHERE ... 
```

谢谢

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-07T07:48:45.350

```
INSERT INTO 
    second_table 
       (
       user_id
       ,group_id
       ) 
SELECT
    id
    ,5
FROM
    first_table
WHERE
    ... 
```

有关 INSERT...SELECT 语法的更多详细信息，请参阅 MySQL 文档：

[http://dev.mysql.com/doc/refman/5.1/en/insert-select.html](http://dev.mysql.com/doc/refman/5.1/en/insert-select.html)******

# android - 如何手动设置 textview 填充？

> ID：10478411
> 
> 赞同：0
> 
> 时间：2012-05-07T07:40:57.923
> 
> 标签：android, textview

这是java

```
maintitle = (TextView)findViewById(R.id.text_particularlatestnewstitle);
maintitle.setPadding(100, 0, 0, 0); 
```

alllatestnewslist.xml 在这里

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/layout_temp"
android:layout_width="fill_parent"
android:layout_height="100px"
android:background="@drawable/background_news_list" >

<ImageView
    android:id="@+id/image_alllatestnewstitle"
    android:layout_width="134px"
    android:layout_height="80px"
    android:layout_marginBottom="5px"
    android:layout_marginLeft="10px"
    android:layout_marginRight="10px"
    android:layout_marginTop="5px"
    android:scaleType="centerCrop" />

<LinearLayout
    android:id="@+id/test"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="5px"
    android:layout_marginLeft="100px"
    android:layout_marginRight="10px"
    android:layout_marginTop="5px"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/text_particularlatestnewstitle"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:textColor="#000000"
        android:textSize="25px" />

    <RelativeLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="25px" >

        <TextView
            android:id="@+id/text_newsdate"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textColor="#999999"
            android:textSize="15px" />

        <TextView
            android:id="@+id/text_newscategorytitle"
            android:layout_width="50px"
            android:layout_height="wrap_content"
            android:layout_alignParentRight="true"
            android:layout_gravity="right"
            android:gravity="right"
            android:textColor="#ff0000"
            android:textSize="15px" />
    </RelativeLayout>
</LinearLayout> 
```

在这个 xml 中，我有其他对象，如图像视图和文本视图等。

我这样设置，但它并没有从左边移动 100 ............

还有什么办法吗？？？？？？？？？？？？？？？？？？？？？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-07T07:54:59.957

而不是填充，更改边距。

编辑：在这里，让我为你做。

```
LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(
LinearLayout.LayoutParams.FILL_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);
layoutParams.setMargins(30, 20, 30, 0); // margins as you wish

TextView myTextView = findViewById(R.id.text_particularlatestnewstitle);
myTextView.setLayoutParams(layoutParams); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:44:02.130

我认为在您的 xml 文件中，您应该将`TextView`宽度设置`fill_parent`为`wrap_content`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T07:50:08.103

首先，我永远不会这样做。如果您想以编程方式更改填充等，我总是会以编程方式添加视图。想着就这么说了。

您是否尝试过使用 .Invalidate() 强制它更新您的视图？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-07T08:54:49.960

如果您想根据我的知识移动它，请设置它的边距而不是填充...

（尽可能使用 dp 而不是 px 这只是一个建议）。:)

# iphone - 无论如何要从 iPad App 打印文档

> ID：10478413
> 
> 赞同：0
> 
> 时间：2012-05-07T07:41:02.427
> 
> 标签：iphone, xcode, ipad

我有计算器应用程序，我希望结果用户可以打印。我在论坛上搜索了很多，有些人说你可以，有些人不能。任何可以解决这个问题的相关库

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:44:13.567

可以打印。看看它上面的[Apple页面](http://developer.apple.com/library/ios/#documentation/2DDrawing/Conceptual/DrawingPrintingiOS/Printing/Printing.html#//apple_ref/doc/uid/TP40010156-CH12-SW1)。这应该让你朝着正确的方向前进！

这是一个教程：[删除和打印文件](http://www.youtube.com/watch?v=Xi3DDRFLaF4)。

你应该仔细看看[打印工作流程部分](http://developer.apple.com/library/ios/#documentation/2ddrawing/conceptual/drawingprintingios/Printing/Printing.html#//apple_ref/doc/uid/TP40010156-CH12-SW14)。

# image - 在 Matlab 中将绘图保存为 PNG

> ID：10478414
> 
> 赞同：9
> 
> 时间：2012-05-07T07:41:07.640
> 
> 标签：image, matlab, time-series

我有一个绘制时间序列的函数，现在我想将其保存为图像，请问怎么做？

```
function TimeSeriesImages(a, b, c, d, e, f, g, h, i, j, k, l)
x = [a b c d e f g h i j k l];
ts1 = timeseries(x,1:12);
ts1.Name = 'Monthly Count';
ts1.TimeInfo.Units = 'months';
ts1.TimeInfo.Format = 'mmm dd, yy'
ts1.Time=ts1.Time-ts1.Time(1);
plot(ts1)
end 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-05-07T21:34:49.047

在 Matlab 中保存图形的另一种方法是使用变量处理它们并稍后保存。

例如：

```
a=bar(...);
b=hist(...);   %some figures
c=plot(...);

saveas(a, 'path\to\file\abc1.png','png');
saveas(b, 'path\to\file\abc2.png','png');
saveas(c, 'path\to\file\abc3.png','png'); 
```

* * *

来自官方 Matlab 帮助的片段：

***saveas*** - 使用指定格式保存图形或 Simulink 框图

**句法**

```
saveas(h,'filename.ext') 
saveas(h,'filename','format') 
```

**描述**

saveas(h,'filename.ext') 将带有句柄 h 的图形或 Simulink 框图保存到文件 filename.ext。文件的格式由扩展名 ext 决定。*有关更多信息，请参见 Matlab 帮助。*

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-05-07T07:54:02.517

您可以`print`与`-dpng`标志一起使用。

# php - 我错过了什么？- PDO + 事务 + 多个查询 -

> ID：10478416
> 
> 赞同：4
> 
> 时间：2012-05-07T07:41:09.247
> 
> 标签：php, mysql, transactions, pdo, multi-query

**更新 - 请参阅下面的补充**

好的，马上，我不是开发人员（也许有一天），我几乎一无所知，类、函数、方法、包装器、foos、bars，最重要的是 OOP 让我永远热爱*S*感到困惑。话虽如此，我相信还有很多事情我可以做得更好，并邀请您的批评和知识。然而...

我的具体问题是：我是否错过了我从中接收数据的 WSDL 与 PHP+PDO、MySQL 组合之间交互的一些重要条件，一旦我推送，一切都会崩溃？

下面代码中的三个表必须规范化通过客户端 Web 服务接收到的相当大的数据集，这部分是一个自动化过程（cron 作业），它从其他 6 个文件中提取代码。我不得不对数据库进行一些更改以适应新客户，我想WTH，让我们再试一次PDO。只是现在我不觉得我对我看到的代码感到困惑，因为它可能做对了（是的，我今天已经测试了很多次，多次导入，一切顺利）我'我准备在明天的某个时候推送最新的更新，老实说，我有点担心我错过了一些重要的事情，并且这周我出城时会收到一堆损坏的数据。对不起，如果它看起来不重要，但我在这些网站上花了很多时间，而且我知道的很少，

我在这里做错了什么，或者这正是 PDO 很棒的原因？如果不是，我可以更雄辩地做到这一点吗？我是否错过了一些`ON DUPLICATE KEY UPDATE`不会继续工作的情况等等......？

仅供参考：除了我的自动编号主表之外，最后一个表中没有唯一数据。有一个由 3 个字段组成的复合唯一键，包括前一个插入的外部字段。业务规则允许这种类型的推理。所有 3 个都是相关的，table1 是它们的最终父级，2 是下一个等等......

```
<pre><code><?php

// connect to db Mysqli style
require_once 'MysqliCurrentLoginQuery.file'; //get the variables not supplied below

/*~~~~~~~~~~~~~~~~SET YOUR VARIABLES HERE~~~~~~~~~~~~~~~~~*/
/*A bunch of soap variables to be passed to MySOAPReq.file*/
/*~~~~~~~~~~~~~~~~SET YOUR VARIABLES HERE~~~~~~~~~~~~~~~~~*/

 require_once 'MySOAPRequest.file'; //This is where $soapresult is passed from

 //convert array to ph objects for use in prepared stmt
 $xmlResponse = new SimpleXMLElement($soapresult);
    foreach ($xmlResponse->xmlWorkOrders->workOrder as $order) {       
        try {
            require 'MyPDOdbConfigAndConnection.file'; //where $conn is passed from
            $conn->beginTransaction();
                    try {
                        $query1 = "INSERT INTO table(`id`,`b`,`c`,`d`) 
                            VALUES ('" . "','". 1 . "','". 1 . "','". $order->D . "')
                            ON DUPLICATE KEY UPDATE id=LAST_INSERT_ID(id),d=$order->D";
                        $result1 = $conn->prepare($query1);
                        $result1->execute();
                        $lastid = $conn->lastInsertID();
                    } catch(PDOExecption $e) {
                        $conn->rollback();
                        print "Error!: " . $e->getMessage() . "</br>";
                    }
                    try {                                
                        $query2 = "INSERT INTO table2(`id`, `f`, `g`) 
                            VALUES ('" . "','" . $order->F . "','" . $lastid . "')
                            ON DUPLICATE KEY UPDATE id=LAST_INSERT_ID(id), f=$order->F";
                        $result2 = $conn->prepare($query2);
                        $result2->execute();
                        $lastid = $conn->lastInsertID();
                        print "<br />" . $conn->lastInsertID() . "<br />";
                    } catch(PDOExecption $e) {
                        $conn->rollback();
                        print "Error!: " . $e->getMessage() . "</br>";
                    }
                    try {
                        $dnsdateparts=explode(' ',$order->H);
                        $query3 = "INSERT INTO table3(`id`, `g`, `h`, `i`) 
                            VALUES ('" . "','" . $order->G . "', STR_TO_DATE('" . $dateparts[0] . "','%m/%d/%Y'),'" . $dateparts[1] . "')
                            ON DUPLICATE KEY UPDATE id=LAST_INSERT_ID(id), g=G, h=H, i=$lastid";
                        $result3 = $conn->prepare($query3);
                        $result3->execute();
                        $conn->commit();                        
                    } catch(PDOExecption $e) {
                        $conn->rollback();
                        print "Error!: " . $e->getMessage() . "</br>";

                    }                   
        } catch( PDOExecption $e ) {
            print "Error!: " . $e->getMessage() . "</br>";                 
        }                     
    }
?><code><pre> 
```

**添加**

更新为了安抚论坛之神，这是我学到的。同样对于 3 年后真正会读到这篇文章的 1 个人来说，很生气它从未得到回答！这是给你的伙计！

首先，我仍然不能正确地上课，出于某种原因，OOP 对我的大脑来说是一个困难的跳跃，但如果它们会像函数一样改变我的代码生活，我等不及了（是的，我终于做到了把我简单的想法包裹在功能上，有点）。

PDO 太棒了！！！

未转义或不正确转义的数据很糟糕！因为一个叫 O'malley 的人和一条叫 CRS'Road 的街道，我戴了一周的 X 帽子。如果您不知道这意味着什么，请浪费您的时间并阅读它！希望我放慢脚步，从一开始就这样做。

最后也是最重要的 - 我仍然是一名学生，一个非常绿色和饥饿的学生。所以再一次，我确定我在这里做了一些不好或不是最好的事情。我邀请你的批评，其实很期待！

```
<pre><code>
<?php

// I actually got some functions to work!!
// So everything necesary self-requires from one required file
require_once ('/path/to/this/file/some.functions.php');

/*~~~~~~~~~~~~~~~~SET YOUR VARIABLES HERE~~~~~~~~~~~~~~~~~*/
/*A bunch of soap variables to be passed to MySOAPReq.file*/
/*~~~~~~~~~~~~~~~~SET YOUR VARIABLES HERE~~~~~~~~~~~~~~~~~*/

// Uses function from some.functions.php
$soapresult = mySoapClientMaker($avariable, $anothervariable);

 //convert array to ph objects for use in prepared stmt
 $xmlResponse = new SimpleXMLElement($soapresult);
    foreach ($xmlResponse->xmlWorkOrders->workOrder as $order) {       
        try {
            //$conn is now already there from some.functions.php
            $conn->beginTransaction();
                    try {
                        // Create the query string and store it in a variable
                        $query1 = "INSERT INTO table(`id`,`b`,`c`,`d`) "
                            . "VALUES (:col1, :col2, :col3, :col4)"
                            . "ON DUPLICATE KEY UPDATE id=LAST_INSERT_ID(id),d=" . $order->D;

                        // Prepare the query i.e. assemble the pieces of the string 
                        $result1 = $conn->prepare($query1);

                        // Bind Values/Params
                        // PDO will not properly escape everything in the inserts without this
                        // This was the source of the broken import, lesson learned
                        $result1 ->bindValue(':col1', NULL, PDO::PARAM_NULL);
                        $result1 ->bindValue(':col2', 1, PDO::PARAM_INT);
                        $result1 ->bindValue(':col3', 1, PDO::PARAM_INT);
                        $result1 ->bindValue(':col4', $order->D, PDO::PARAM_STR);

                        // Execute (still in try mode) the now prepared/escaped query
                        $result1->execute();

                        // Remember the primary key from this insert to use as
                        // the foreign key in the next insert
                        $lastid = $conn->lastInsertID();

                    } catch(PDOExecption $e) {
                        // If your insert breaks, here everything
                        // goes back to its pre-insert state. 
                        $conn->rollback();
                        print "Error!: " . $e->getMessage() . "</br>";
                    }
                    // Repeat as above
                    try {                                
                        $query2 = "INSERT INTO table2(`id`, `f`, `g`) "
                            . "VALUES (:col1, :col2, :col3) "
                            . "ON DUPLICATE KEY UPDATE id=LAST_INSERT_ID(id), f=" . $order->F;

                        $result2 = $conn->prepare($query2);

                        $result2 ->bindValue(':col1', NULL, PDO::PARAM_NULL);
                        $result2 ->bindValue(':col2', 1, PDO::PARAM_INT);   
                        $result2 ->bindValue(':col3', $order->D, PDO::PARAM_INT);

                        $result2->execute();
                        $lastid = $conn->lastInsertID();

                    } catch(PDOExecption $e) {
                        $conn->rollback();
                        print "Error!: " . $e->getMessage() . "</br>";
                    }
                    // Repeat as above again
                    try {
                        $dateparts=explode(' ',$order->H);
                        $query3 = "INSERT INTO table3(`id`, `g`, `h`, `i`) "
                            . "VALUES (:col1, :col2, :col3, :col4) "
                            . "ON DUPLICATE KEY UPDATE id=LAST_INSERT_ID(id), g=G, h=H, i=" . $lastid;

                            VALUES ('" . "','" . $order->G . "', STR_TO_DATE('" . $dateparts[0] . "','%m/%d/%Y'),'" . $dateparts[1] . "')                           
                        $result3 = $conn->prepare($query3);

                        $result3 ->bindValue(':col1', NULL, PDO::PARAM_NULL);
                        $result3 ->bindValue(':col2', $order->G, PDO::PARAM_INT);
                        $result3 ->bindValue(':col3', "STR_TO_DATE(" . $dnsdateparts[0] . "','%m/%d/%Y')", PDO::PARAM_STR);
                        $result3 ->bindValue(':col4', $dateparts[1], PDO::PARAM_STR);

                        $result3->execute();

                        // NOW if everything made it this far without error
                        // it will all be committed to the db
                        $conn->commit();

                    } catch(PDOExecption $e) {
                        $conn->rollback();
                        print "Error!: " . $e->getMessage() . "</br>";
                    }                   
        } catch( PDOExecption $e ) {
            print "Error!: " . $e->getMessage() . "</br>";                 
        }                     
    }
?>
<code><pre> 
```

PS 感谢迈克·珀塞尔（Mike Purcell）对我的最新问题的快速而简单的回答。 [PDO 不转义引号](https://stackoverflow.com/questions/9674387/pdo-not-escaping-string-quotes)

# git - 是否可以像在 SVN 中一样在 Git 的一个主干下托管多个组件源代码？

> ID：10478417
> 
> 赞同：0
> 
> 时间：2012-05-07T07:41:14.040
> 
> 标签：git, version-control

我们的产品开发规模很大，大约有 50 个组件。我们不希望每个组件都有单独的 Git 存储库。此外，如果我们计划将单个存储库文件夹和所有组件作为目录中的目录，我们不希望开发人员克隆完整的存储库。

我的问题是：

1.  有没有办法将所有组件托管为一个存储库？

2.  如果是这样，开发人员每次可以只克隆他的模块代码而不是克隆完整的存储库吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:59:43.407

设计上没有办法只用 git 检出一个子目录。您可以做的是将子项目放入[git submodules](http://git-scm.com/book/ch6-6.html)。这将允许您对整个软件的完整集进行版本控制，同时仍允许仅检出其中的一部分。

# java - JLabel 不显示长段落

> ID：10478420
> 
> 赞同：5
> 
> 时间：2012-05-07T07:41:18.590
> 
> 标签：java, swing, user-interface, jlabel

![字符串文本](../Images/64b483ecf41d4ba38aec06aed847248b.png)

![窗户](../Images/f77ba4344b72eb298217d98349223084.png)

如何让 JLabel 显示整个段落？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-07T07:44:07.293

```
JLabel label = new JLabel("<html>"+test+"</html>"); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-05-07T07:45:52.817

该`JLabel`组件通常用于短文本。如果您需要输入大量文本，则应使用`JTextArea`. 一旦你使用它，你就可以使用[setLineWrap](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html#setLineWrap%28boolean%29)来包装文本：

> 设置文本区域的换行策略。如果设置为 true，如果行太长而无法容纳在分配的宽度内，则行将被换行。

如果您仍想继续使用 JLabel（不推荐），设置标签的大小应该可以解决问题。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-07T07:44:17.627

将文本放入 html 标签中，并使用 br-tags 换行。几乎每个 Swing 组件都支持 html 文本。

例如：

```
"<html>" + "a line" + "<br />" + 
"second line" + "</html>"; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-05-07T07:46:47.573

尝试用 HTML p 标签包围整个字符串，如下所示：

```
String text = "<html><p>This program........ BIG LINE_HERE....called person.txt</p></html>";
JLabel info = new JLabel(text); 
```

# java - Eclipse RCP TableViewer 组件不显示 TAB 字符？

> ID：10478425
> 
> 赞同：1
> 
> 时间：2012-05-07T07:42:04.223
> 
> 标签：java, swt, eclipse-rcp

我正在尝试在 TableViewer 组件的单元格中显示一些内容。它显示几乎所有字符，除了制表符 (\t) 字符。看起来它忽略了 \t 字符。任何人都知道任何解决这个问题？

为了解决这个问题，我尝试用几个空格字符替换 \t，它看起来像 Tab 字符的行为。但我不知道为什么 '\t' 没有在 TableViewer 中正确显示。

任何建议表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:51:34.507

我认为 \t 字符在 SWT 组件中呈现为 0 宽度，这就是您没有看到它的原因。你想用标签做什么？通常，制表符用于将文本与预定义的列起点对齐 - 您是否可以使用单独的表格列而不是制表符来实现相同的结果？或者，如果您需要缩进层次结构中的某些元素，您是否想要使用具有[多个列](http://www.java2s.com/Code/Java/SWT-JFace-Eclipse/SWTTreeWithMulticolumns.htm)的 TreeViewer 。

为了显示文件的内容，[StyledText](http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fswt%2Fcustom%2FStyledText.html)组件可能更适合您的需要。这是Eclipse编辑器等使用的控件，非常灵活。

它支持选项卡，您可以使用[LineStyleListener](http://help.eclipse.org/indigo/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fswt%2Fcustom%2FLineStyleListener.html)来呈现表格，如行​​边框。有几个优秀的教程可以帮助您入门：

[用 SWT StyledText 小部件弄湿你的脚](http://www.eclipse.org/articles/StyledText%201/article1.html)

[深入了解 SWT StyledText 小部件](http://www.eclipse.org/articles/StyledText%202/article2.html)

如果您不想要编辑支持，那么您的使用将比那些教程中描述的大部分内容简单得多。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T13:36:09.430

您可以使用 Textlayout 并使用 setTabs() 以像素为单位设置选项卡的大小。这是一个示例：

```
package de.abas.erp.wb.base.tools.identifiersearchview;

import org.eclipse.swt.SWT;
import org.eclipse.swt.graphics.Rectangle;
import org.eclipse.swt.graphics.TextLayout;
import org.eclipse.swt.layout.FillLayout;
import org.eclipse.swt.widgets.Display;
import org.eclipse.swt.widgets.Event;
import org.eclipse.swt.widgets.Listener;
import org.eclipse.swt.widgets.Shell;
import org.eclipse.swt.widgets.Table;
import org.eclipse.swt.widgets.TableItem;

public class TabSnippet {

public static void main(final String [] args) {
    final Display display = new Display();
    final Shell shell = new Shell(display);
        shell.setText("Table:\t\t Change style \t multiple times in cell");
    shell.setLayout(new FillLayout());
    final Table table = new Table(shell, SWT.MULTI | SWT.FULL_SELECTION);
    table.setLinesVisible(true);
    for(int i = 0; i < 10; i++) {
        new TableItem(table, SWT.NONE);
    }
    final TextLayout textLayout = new TextLayout(display);
        textLayout.setText("SWT:\t Standard \t Widget \t Toolkit");
        textLayout.setTabs(new int[] { 100 });

        /*
         * NOTE: MeasureItem, PaintItem and EraseItem are called repeatedly.
         * Therefore, it is critical for performance that these methods be as
         * efficient as possible.
         */
        table.addListener(SWT.PaintItem, new Listener() {
            @Override
            public void handleEvent(final Event event) {
                textLayout.draw(event.gc, event.x, event.y);
            }
        });
        final Rectangle textLayoutBounds = textLayout.getBounds();
        table.addListener(SWT.MeasureItem, new Listener() {
            @Override
            public void handleEvent(final Event e) {
                e.width = textLayoutBounds.width + 2;
                e.height = textLayoutBounds.height + 2;
            }
        });
    shell.setSize(400, 200);
    shell.open();
    while(!shell.isDisposed()) {
        if(!display.readAndDispatch()) {
            display.sleep();
        }
    }
    textLayout.dispose();
    display.dispose();
}
} 
```

# javascript - 如何制作一个宽度为整个屏幕的 div？

> ID：10478427
> 
> 赞同：0
> 
> 时间：2012-05-07T07:42:11.857
> 
> 标签：javascript, html, css

如果一个 div A 包含在另一个 500px 宽的 div (B) 中，那么 div A 怎么可能仍然是整个屏幕的宽度？我想“突破”那个 500px 的 div。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T07:46:18.230

鉴于您的问题，您可以`position:absolute`在 div A 中使用。它将找到最近的定位父级（具有固定、绝对或相对位置的父级）。但是你需要让最近的定位元素有 100% 的宽度并且紧贴在左边。

这是一个使用 body[的演示](http://jsfiddle.net/BNWfe/1/)

```
<body>
    <div id="b">
        <div id="a">test</div>
    </div>
</body>

body{
    position:relative;
}

#b{
    width:500px;
}

#a{
    position:absolute;
    top:0;
    left:0;
    right:0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T07:46:15.427

在子 div 上使用`position: absolute`并保持父级在`position: static`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T07:46:16.477

您可以尝试使 div A 的位置：绝对；

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-07T07:48:14.733

这取决于您希望它看起来像什么。使用CSS：

```
overflow:hidden; 
```

将使 div 大于包含 div 但隐藏在其后面，

否则，如果您希望它显示在包含 div 的顶部，您可以像给出的其他答案一样使用“位置”css。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-07T07:48:40.837

您可以将类或 id 添加到您的 div 标签。这个css适用于两者

```
#yourdivid .yourdivclass {
     position:absolute;
     left:0;
     right:0;
     overflow:hidden;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-07T07:49:22.680

jsfiddle 为您服务：http: [//jsfiddle.net/HRT2M/](http://jsfiddle.net/HRT2M/)

```
.b
{
Position:fixed;
} 
```

在 div b 上应该让它为你工作

马丁

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-05-07T07:58:54.463

您可以使用 min-width 将 div B 强制为特定宽度 -

```
<div id="a" style="width:500px;display:block;">
  <div id="b" style="min-width:960px;">
  </div>
</div> 
```

您还可以使用 javascript 设置其宽度 -

```
<script style="text/javascript">
window.onload = function () {
  document.getElementById ("b").style.width = window.screen.width;
}
</script> 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-05-07T08:34:57.613

```
<div id="b" style="width:500px;">
   <div id="a" style="width:100%; position:absolute; overflow:hidden;"><div/>
</div> 
```

这行得通。

# java - 将 double 类型转换为另一种数字类型

> ID：10478429
> 
> 赞同：6
> 
> 时间：2012-05-07T07:42:23.800
> 
> 标签：java, casting, primitive-types

有一些事情让我感到困惑，我没有找到太多关于 VM 规格的信息。这有点晦涩难懂，如果有人可以解释一下，那就太好了。

这几行代码......

```
double myTest = Double.MAX_VALUE;

System.out.println("1\. float: " + (float)myTest);
System.out.println("2\. int: " + (int)myTest);
System.out.println("3\. short: " + (short)myTest);
System.out.println("4\. byte: " + (byte)myTest); 
```

.....产生这个输出：

1.  浮动：无穷大
2.  诠释：2147483647
3.  短：-1
4.  字节：-1

`byte`,`short`并且`int`是 8, 16, 32 位，带二进制补码。`float`并且`double`是 32 位和 64 位 IEEE 754（[请参见此处](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3)）。

据我了解，a 的最大值`double`意味着尾数的所有位（52 位）都切换为 1。因此，转换为短或字节返回 -1 并不（非常）令人惊讶，即所有位都切换到1.演员似乎保留了'尾巴' `double`，使其适合 8 位`byte`或 16 位`short`。

令我惊讶的是演员`int`阵容，在较小程度上，演员阵容`float`。如何获得“2\. int: 2147483647”，即 0x7FFFFFFF，short 和字节 3\. 和 4\. 为 -1 时的最大值？

演员`float`阵容也很奇怪。如果保留 'tail' 的 32 位`myTest`，那么它不应该生成一个`NaN`?

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-07T07:45:43.847

JLS 在[5.1.3 Narrowing Primitive Conversion](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.3)部分中详细说明了规则。规则取决于目标类型。

**`float`：**

> 从 double 到 float 的窄化原语转换受 IEEE 754 舍入规则 (§4.2.4) 的约束。这种转换可能会丢失精度，但也会丢失范围，从而导致非零双精度浮点数为零和有限双精度浮点数无穷大。双精度 NaN 转换为浮点 NaN，双无穷大转换为同符号浮点无穷大。

**`int`和`long`：**

> 以下两种情况之一必须为真：
> 
> *   ...
> *   该值必须太大（一个大的正值或正无穷大），并且第一步的结果是 int 或 long 类型的最大可表示值。

**`byte`,`char`和`short`:**

如果目标类型是`byte`,`char`或`short`，则转换它两步。首先，将`double`转换`long`为如上所述。然后，将`long`转换为最终类型，如下所示：

> 有符号整数到整数类型 T 的窄化转换只会丢弃除 n 个最低位之外的所有位，其中 n 是用于表示类型 T 的位数。此外，可能会丢失有关数值大小的信息，这可能会导致结果值的符号与输入值的符号不同。

# php - 在 php 中实例化对象时的性能

> ID：10478431
> 
> 赞同：2
> 
> 时间：2012-05-07T07:42:25.943
> 
> 标签：php, performance, memory

我想问一下在php中实例化对象的性能和内存使用情况。

在我的应用程序的每个 php 文件中，我都包含一个连接到数据库的文件。

```
$db->DB::getInstance();
$db->connect('all my credentials'); 
```

这是我的数据库类中的 getInstance() 函数。

```
//singleton database instance
public static function getInstance() {
    if (!self::$Instance) {
        self::$Instance = new DB();
    }

    return self::$Instance;
} 
```

目前一切都很好。但我担心性能问题，如能否改进、可能存在缺陷等。

我研究并发现单例实例可以帮助节省内存。如果它已经被实例化，它将重用该对象。我对吗？

我的确切问题是

例如，如果我有 10 个用户访问脚本，这是否意味着该对象将被实例化 10 次？发生这种情况时，我的内存使用量会增加 10 倍吗？-> 这就是我感兴趣的东西

感谢任何专家的建议。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-07T07:45:19.527

与所有性能调整一样，您应该衡量自己在做什么，而不是盲目地执行一些您不完全理解的伏都教仪式。当您将对象保存在 中时`$_SESSION`，PHP 将捕获对象状态并从中生成一个文件（序列化）。在下一次请求时，PHP 将创建一个新对象并使用此状态重新填充它。这个过程比创建对象要昂贵得多，因为 PHP 必须进行磁盘 I/O 然后解析序列化数据。这必须在读取和写入时发生。

通常，PHP 被设计为无共享架构。这有其优点和缺点，但试图以某种方式回避它通常不是一个好主意。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T07:49:05.600

不要使用 Singleton 的，这会让测试变得很糟糕。

默认情况下，对象在 PHP 中作为引用在系统中发送。因此，您可以简单地在系统中的其他类周围共享该数据库连接对象，而不会影响性能（在您明确命令克隆它们之前，它不会克隆它们）。

但是，是的，如果十个用户使用您的系统，那么这意味着您将拥有该类的十个实例。这意味着如果用户的所有请求同时处于活动状态，则内存使用量要高十倍（嗯，通常，根据负载和服务器设置，一些请求可能必须等到其他请求完成）。

可以告诉 PHP 和数据库使用持久连接，这意味着使用相同数据库用户名和密码并连接到同一数据库的其他脚本共享“连接”。但这几乎不被推荐，因为来自一个用户的请求可能会减慢另一个用户的体验，后者必须等待前一个用户的数据库查询完成。

所以，简而言之，不要使用单例。在智能的面向对象架构中，类被传递给子对象或从父对象继承。这意味着可以轻松更改类或可以轻松创建模型以进行测试。

# jquery - Div 绑定问题

> ID：10478432
> 
> 赞同：0
> 
> 时间：2012-05-07T07:42:32.367
> 
> 标签：jquery

我有一个文档，我通过使用禁用了页面上的滚动

```
$('body').bind('touchmove', false); 
```

现在我在单击按钮后将页面动态加载到 div 中......

```
$('#myContentPage').load('details.html #myCOntentPage'); 
```

加载完成后，我只想从 div #myContentPage 取消绑定“touchmove”。我试过了

`$('#myContentPage').bind('touchmove', true);`页面加载后，但它似乎不起作用。

加载前的 HTML 结构

```
<body>
    <div id="header"/>
    <div id="details"/>
    <div id="myContentPage" />
</body> 
```

加载后的 HTML 结构

```
<body>
    <div id="header"/>
    <div id="details"/>
    <div id="myContentPage" >
        <div ... />
        <div.... />
    </div>
</body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:44:16.963

问题是您无法分离`touchmove`事件回调表单`'#myContentPage'`，因为它已附加到他的父级`<body>`，修复它的最佳方法是附加一个新的处理程序，`#myContentPage`这将停止`<body>`取消事件的传播。

```
$('#myContentPage').load('details.html #myCOntentPage', function() {
    $('#myContentPage').bind('touchmove', function(event){
        event.stopPropagation() ;
    }); 
}); 
```

如果这没有帮助（*出于某种未知原因*），试试这个：

```
$('#myContentPage').load('details.html #myCOntentPage', function() {
    $('body').unbind('touchmove');
    $('body').on('touchmove', ':not(#myContentPage)', function(){
        return false;
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:46:57.733

```
 $('#myContentPage').off('touchmove'); // if you bind event using `on()` 
```

或者

```
 $('#myContentPage').unbind('touchmove'); 
```

所以，

```
$('#myContentPage').load('details.html #myCOntentPage', function() {
    $('#myContentPage').off('touchmove'); 
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T07:47:49.447

加载新页面后，您可以使用它来取消绑定之前附加的事件

```
$('#myContentPage').unbind('touchmove'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-07T07:52:19.630

尝试：

```
$('body').bind('touchmove', function(ev){
  if ( ev.target.id != "myContentPage"){
    return false;
  }
}); 
```

代替： `$('body').bind('touchmove', false);`

# java - gson.toJson(Collection) 的问题

> ID：10478434
> 
> 赞同：0
> 
> 时间：2012-05-07T07:42:48.010
> 
> 标签：java, json, collections, gson

我对 Gson 将集合更改为 Json 对象有疑问。这是我的代码：

```
Collection<BomItem> items = bh.getAllItems();
Iterator<BomItem> itemIterator = items.iterator();

Collection<JsonItem> jsonItems = new Vector<JsonItem>();
JsonItem jsonItem = new JsonItem();

while(itemIterator.hasNext()) {
    BomItem item =  itemIterator.next();
    jsonItem.setItemId(item.getItemId());
    jsonItem.setName(item.getDescription());
    jsonItems.add(jsonItem);
}

System.out.println("json size:" + jsonItems.size());
Gson gson = new Gson();

String json = gson.toJson(jsonItems);
System.out.println("Json: " + json); 
```

这是输出：

```
09:36:13,846 INFO  [STDOUT] json size:402
09:36:13,849 INFO  [STDOUT] Json: [{"itemId":68073,"name":"Automatically inserted"},{"itemId":68073,"name":"Automatically inserted"},{"itemId":68073,"name":"Automatically inserted"},...} 
```

JsonString 被创建，但只使用最新的对象，一遍又一遍。我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T07:46:14.157

您没有在循环中重新实例化您的 jsonItem，这意味着您正在一遍又一遍地添加对可变对象的相同引用。因此，这些值始终是集合中最后一个对象的值。

`JsonItem jsonItem = new JsonItem();`在while循环内移动。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T07:48:15.780

```
while(itemIterator.hasNext()) { 
    BomItem item =  itemIterator.next();

    //declare jsonitem inside the loop
    JsonItem jsonItem = new JsonItem();  
    jsonItem.setItemId(item.getItemId()); 
    jsonItem.setName(item.getDescription()); 
    jsonItems.add(jsonItem); 
} 
```

# java - 类是-a-JPanel，什么时候应该有-a

> ID：10478435
> 
> 赞同：2
> 
> 时间：2012-05-07T07:43:11.803
> 
> 标签：java, swing, oop, user-interface, netbeans

当 Netbeans 扩展 JPanel 时，在引用自动生成类的实例时是否会产生问题，因为它使用继承而不是组合？

因为 Netbeans 将 JPanel 声明为`private javax.swing.JPanel overview;`实例然后具有 JPanel 类型，所以它应该具有概览类型。

如何调用 setGroup 方法，同时将 Overview 保留为自动生成的 JPanel？我这样尝试：

主.java

```
private void groupsPropertyChange(java.beans.PropertyChangeEvent evt) {
    String s = evt.getNewValue().toString();
    LOG.fine("new group: " + s);
    overview.setGroup(s);
} 
```

使用 Overview.java：

```
public class Overview extends javax.swing.JPanel {

...

    public String getGroup() {
        return group;
    }

    public void setGroup(String group) {
        this.group = group;
    }

} 
```

但得到这个编译错误：

```
init:
Deleting: /home/thufir/NetBeansProjects/SwingNNTP/build/built-jar.properties
deps-jar:
Updating property file: /home/thufir/NetBeansProjects/SwingNNTP/build/built-jar.properties
Compiling 1 source file to /home/thufir/NetBeansProjects/SwingNNTP/build/classes
warning: [options] bootstrap class path not set in conjunction with -source 1.5
/home/thufir/NetBeansProjects/SwingNNTP/src/net/bounceme/dur/nntp/view/Main.java:59: error: cannot find symbol
        overview.setGroup(s);
  symbol:   method setGroup(String)
  location: variable overview of type JPanel
1 error
1 warning
/home/thufir/NetBeansProjects/SwingNNTP/nbproject/build-impl.xml:628: The following error occurred while executing this line:
/home/thufir/NetBeansProjects/SwingNNTP/nbproject/build-impl.xml:285: Compile failed; see the compiler error output for details.
BUILD FAILED (total time: 1 second) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T10:46:10.967

`JPanel`具有合适[布局](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)的A便于`Container`一个或多个`JComponent`实例。它提供（基本）UI 委托和双缓冲，但仅此而已。自定义组件可能应该`JComponent`直接扩展。[此处](http://today.java.net/pub/a/today/2007/02/22/how-to-write-custom-swing-component.html)显示了（可选）UI 委托的基础架构。[您可以将此类自定义组件添加到此处](http://wiki.netbeans.org/FaqFormUsingCustomComponent)讨论的设计器调色板。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T08:56:47.713

好吧，我猜 Netbeans 没有这样的选项，可以将使用 GUI 创建的 JPanel 声明为 JPanel 以外的任何类型，这有点奇怪。如果继续使用 Netbeans GUI 构建器，您不能用该扩展类型实例化 JPanel 的子类，为什么要扩展 JPanel？并不是说扩展 JPanel 本质上是一个好主意......

解决方案代码：

```
package net.bounceme.dur.nntp.view;

import java.util.logging.Logger;
import javax.swing.JTabbedPane;

public class MyTabs extends JTabbedPane {

    private static final Logger LOG = Logger.getLogger(MyTabs.class.getName());
    private Overview overview = new Overview();
    private Detail details = new Detail();
    private Groups groups = new Groups();

    public MyTabs() {
        this.add("groups", groups);
        this.add("overview", overview);
        this.add("detail", details);

        groups.addPropertyChangeListener(new java.beans.PropertyChangeListener() {

            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                String s = evt.getNewValue().toString();
                LOG.fine(s);
                overview.setGroup(s);
            }
        });

    }
} 
```

我只是好奇是否有更好的方法来做到这一点，而不是不使用 GUI 构建器。

# c - 关于共享 ptr

> ID：10478444
> 
> 赞同：3
> 
> 时间：2012-05-07T07:44:02.813
> 
> 标签：c, garbage-collection, shared-ptr

我不确定这是否严格，但我想将共享 ptr 视为垃圾收集策略。

我在这里有两个问题：

1.  什么时候共享 ptr 适合垃圾回收；以及何时使用其他策略，例如扫码？
2.  在 C 中是否有任何 lib 实现的共享 ptr？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T07:48:48.763

如果您想在 C 中进行垃圾收集，请查看[Hans Boehm](http://www.hpl.hp.com/personal/Hans_Boehm/gc/)垃圾收集库。

共享 ptr 消除了处理对象删除的大部分必要性，但有许多复杂性：一次只有一个共享指针可以保存指针。您可能还想查看[Boost 的 smart_ptr 指针处理](http://www.boost.org/doc/libs/1_49_0/libs/smart_ptr/smart_ptr.htm)和相关类。

但是 shared_ptr 和 Boost 是 C++。你将很难在 C 中实现这一点：shared_ptr 依赖于运算符重载来实现它的魔力。如果没有运算符重载，您将无法知道某个地方是否有人持有您的指针的副本。（这在 C++ 中也是一个问题，但如果在整个代码中使用 shared_ptr，运算符重载会降低风险。）

我肯定会推荐 Hans Boehm。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T07:49:25.170

有几篇很好的文章讨论了这个问题：

[垃圾收集概要和 C++](http://herbsutter.com/2011/10/25/garbage-collection-synopsis-and-c/)

上一个 StackOverflow 上的类似问题：[垃圾收集与共享指针](https://stackoverflow.com/questions/4663385/garbage-collection-vs-shared-pointers)

我还建议您查看 scoped_ptr。这是区别： [shared_ptr 与 scoped_ptr](https://stackoverflow.com/questions/1770636/shared-ptr-vs-scoped-ptr)

# asp.net-mvc - 如何在 MVC 中使用 LabelFor 插入换行符

> ID：10478454
> 
> 赞同：2
> 
> 时间：2012-05-07T07:44:25.017
> 
> 标签：asp.net-mvc, line-breaks

我的模型中有：

```
[Display(Name = "Check to enter <break> the Quantity of items")]
public bool IsLimitedQuantity { get; set; } 
```

我正在使用

```
@Html.LabelFor(shop => shop.IsLimitedQuantity) 
```

在我看来。

请建议我如何解决这个问题，因为标签只是按原样显示 <break> ，而不是换行。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-07T07:55:45.857

您可以编写一个自定义`LabelFor`助手，它不像标准`LabelFor`助手那样对文本进行 HTML 编码：

```
public static class LabelExtensions
{
    public static IHtmlString UnencodedLabelFor<TModel, TProperty>(this HtmlHelper<TModel> html, Expression<Func<TModel, TProperty>> expression)
    {
        var metadata = ModelMetadata.FromLambdaExpression(expression, html.ViewData);
        var htmlFieldName = ExpressionHelper.GetExpressionText(expression);
        var text = (metadata.DisplayName ?? (metadata.PropertyName ?? htmlFieldName.Split(new char[] { '.' }).Last<string>()));
        if (string.IsNullOrEmpty(text))
        {
            return MvcHtmlString.Empty;
        }
        var tagBuilder = new TagBuilder("label");
        tagBuilder.Attributes.Add("for", TagBuilder.CreateSanitizedId(html.ViewContext.ViewData.TemplateInfo.GetFullHtmlFieldName(htmlFieldName)));
        tagBuilder.InnerHtml = text;
        return new HtmlString(tagBuilder.ToString(TagRenderMode.Normal));
    }
} 
```

然后在视图中使用这个自定义助手：

```
@Html.UnencodedLabelFor(x => x.IsLimitedQuantity) 
```

现在显示名称中的 HTML 标记将在不编码的情况下呈现：

```
[Display(Name = "Check to enter <br/> the Quantity of items")]
public bool IsLimitedQuantity { get; set; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:51:29.507

使用 Html 解码可能会有所帮助。出于安全原因，MVC 对所有值进行编码。

[如何从 ASP.NET MVC 视图显示存储在数据库中的 HTML？](https://stackoverflow.com/questions/300424/how-do-i-display-html-stored-in-a-database-from-an-asp-net-mvc-view)

# ssis - 在ssis中将位类型转换为varchar

> ID：10478459
> 
> 赞同：1
> 
> 时间：2012-05-07T07:44:43.197
> 
> 标签：ssis

我有两个表 t1_STG，t2，在 t1_STG 中，我的一个列是**检查**哪个是位数据类型，它保存数据 1 或 0。

在 t2 中，列**检查**是 varchar 数据类型。当我将数据从 t1_STG 加载到 t2 时，我在执行时没有遇到任何错误，但是t2 中的**检查**列出现错误，而不是 1 和 0，它作为**(-)**出现。

我尝试使用派生列转换从 t1_STG 转换检查列，但仍然面临同样的问题。

我使用 2 个 DFT，在第一个 DFT 级别，我将数据加载到 t1_STG，这里我的检查列正确，即 1 和 0。

但是当我使用 t1_STG 中的 check 值而不是 1 时，它会以 -1 的形式出现，并以 -1 而不是 1 的形式加载到我的最终 t2 表中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:32:14.687

在派生列转换中：

```
(DT_STR,1,1252)([check] ? "1" : "0") 
```

将此派生列添加为**新**列。

# jsf - JSF：h:inputTextarea 中的撇号未显示在屏幕上 JSF

> ID：10478466
> 
> 赞同：0
> 
> 时间：2012-05-07T07:45:23.697
> 
> 标签：jsf

我有 ah:inputTextarea 元素，它绑定到 UI 中的一个元素，该元素从数据库中获取数据。

每当我在文本中得到一个撇号即“'”时，例如：“我很好”，它不会在 UI 上显示任何内容。

我试过使用 ascii 转义序列，但结果是一样的。

每当我将我的文本设置为“我很好”时，它会显示与它相同的文本而不将其转换为撇号符号......

谢谢，戴夫

# iphone - 检查 UIAppearance 的可用性

> ID：10478471
> 
> 赞同：4
> 
> 时间：2012-05-07T07:45:49.260
> 
> 标签：iphone, ios, class, uiappearance

我正在尝试使用以下方法检查 UIAppearance 类的可用性：

```
NSClassFromString(@"UIAppearance") 
```

但是，这从 iOS4 和 iOS5 都返回 nil - 任何人都知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-05-07T07:54:32.347

UIAppearance 不是一个类，它是一个协议。因此，为了检查它是否存在，您将使用：

```
NSProtocolFromString(@"UIAppearance"); 
```

它在 < iOS5 上返回 null，但在 iOS5 上返回一个对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-05T09:01:27.110

这可能会派上用场：

[iOS 5 中支持 UIAppearance 的类列表](http://blog.mosheberman.com/list-of-classes-that-support-uiappearance-in-ios-5/)

# iphone - AVAudioPlayer 中的快退和快进

> ID：10478472
> 
> 赞同：1
> 
> 时间：2012-05-07T07:45:50.963
> 
> 标签：iphone, objective-c, ios, ipad

我正在实现 AVAudioPlayer 和快退、快进功能。我制作了两个带有手势、图像和发光效果的按钮。目前，当我点击快进时，它最初将播放项目转发到 10 秒，然后以与正常相同的方式播放，即使我仍在按下按钮。我想像在 Iphone/Ipod 标准应用程序中一样实现它。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-07T07:51:16.153

一种可能的解决方案是通过[`NSTimer`](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/nstimer_Class/Reference/NSTimer.html). 看看[UIButton Touch and Hold](https://stackoverflow.com/q/3284792/1241690)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-25T21:14:52.277

您可以改用 an`AVPlayer`并在着陆时更改 rate 属性。将其更改为 -2 用于快退和 2 用于快进。并记住在内部/外部修饰时将速率更改回 1。

**EDIT** `AVPlayer`的`rate`属性支持`0.0`-`1.0` 范围 IF之外的值

> 对于 AVPlayerItem 属性 canPlaySlowForward 或 canPlayFastForward，关联的播放器项目返回 YES

[https://developer.apple.com/documentation/avfoundation/avplayer/1388846-rate](https://developer.apple.com/documentation/avfoundation/avplayer/1388846-rate)

# oracle - 从嵌套表中打印报价

> ID：10478476
> 
> 赞同：1
> 
> 时间：2012-05-07T07:45:59.340
> 
> 标签：oracle, plsql, oracle10g

尝试完成以下内容：

```
 CREATE OR REPLACE 
PROCEDURE POPULATE_ACTOR_QUOTES (id_actor char)
AS
   CURSOR quote_recs IS
      SELECT m.title, 
             m.year, 
             r.roleName,
             q.quotechar 
        from quote q, 
             role r, 
             rolequote rq,  
             actor a, 
             movie m
       where rq.quoteID = q.quoteID
         AND rq.roleID = r.roleID
         AND r.actorID = a.actorID
         AND r.movieID = m.movieID
         AND a.actorID = id_actor;
BEGIN
   FOR row IN quote_recs 
   LOOP
      INSERT INTO table(
      SELECT quotes
        FROM actor_quotes aq
       WHERE aq.actorId = id_actor)
      VALUES(
         ACTOR_QUOTE_TYPE(row.title, row.year, row.roleName, row.quotechar)
      );
   end loop;
END POPULATE_ACTOR_QUOTES;
/ 
```

创建一个名为 PRINT_ACTOR_QUOTES 的 PL/SQL PROCEDURE（通过修改过程 POPULATE_ACTOR_QUOTES），其参数如下： 从 ACTOR 表中打印出对应于 ACTORID（ACTORID 是过程参数）的名字和姓氏属性，并打印出所有报价来自嵌套 QUOTES 表的信息

这是我创建的：

```
CREATE OR REPLACE PROCEDURE PRINT_ACTOR_QUOTES (id_actor char)
AS
CURSOR quote_recs IS
SELECT a.firstName,a.lastName, m.title, m.year, r.roleName ,q.quotechar from quote q, role r,   
rolequote rq, actor a, movie m
where
rq.quoteID = q.quoteID
AND
rq.roleID = r.roleID
 AND
r.actorID = a.actorID
AND
r.movieID = m.movieID
AND
 a.actorID = id_actor;
BEGIN
FOR row IN quote_recs
LOOP
  DBMS_OUTPUT.PUT_LINE( row.firstName || ' ' || row.lastName );

END LOOP;

END PRINT_ACTOR_QUOTES;
/ 
```

输出

```
SQL> EXECUTE PRINT_ACTOR_QUOTES ('00070')

Dustin                   Hoffman 
```

需要创建一个如下所示的输出：

杰夫·戈德布鲁姆

```
|Title           | Year |       Role     |                Quote                               |
----------------------------------------------------------------------------------------------
|THE FLY         |1986  |SETH BRUNDLE    | “I’m free and you don’t like it’’ |
|INDEPENDENCE DAY| 1996 | DAVID LEVINSON | “I’ve given it a virus”           | 
```

我有名字和名字 - 需要嵌套 QUOTES 表中的信息

需要帮助！

我有以下选择查询，它从嵌套引号中调出所需的信息-只需将其添加到 -- PROCEDURE PRINT_ACTOR_QUOTES

```
SELECT REC.*
  FROM ACTOR_QUOTES A,TABLE(A.QUOTES) REC
  WHERE ACTORID = ('00070') 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T10:07:02.457

我可能错过了一些东西......

```
CREATE OR REPLACE PROCEDURE PRINT_ACTOR_QUOTES (id_actor char)
AS
CURSOR quote_recs IS
SELECT a.firstName,a.lastName, m.title, m.year, r.roleName ,q.quotechar from quote q, role r,   
rolequote rq, actor a, movie m
where
rq.quoteID = q.quoteID
AND
rq.roleID = r.roleID
 AND
r.actorID = a.actorID
AND
r.movieID = m.movieID
AND
 a.actorID = id_actor;

is_first boolean := true;

BEGIN
FOR row IN quote_recs
LOOP
if is_first then
  DBMS_OUTPUT.PUT_LINE( row.firstName || ' ' || row.lastName );
  DBMS_OUTPUT.PUT_LINE( 'Title   | Year |    Role     |     Quote  ');
  is_first := false;
end if;

  DBMS_OUTPUT.PUT_LINE( row.title|| ' ' || row.year|| ' ' || row.role || ' ' || row.quotechar );

END LOOP;

END PRINT_ACTOR_QUOTES;
/ 
```

# extjs - ExtJs GridPanel 滚动到最后一个元素

> ID：10478481
> 
> 赞同：0
> 
> 时间：2012-05-07T07:46:21.563
> 
> 标签：extjs, scroll, gridpanel

我正在尝试滚动到 GridPanel 的最后一个元素，最后一个元素已经通过

```
_this.testpanel.getSelectionModel().selectLastRow( ); 
```

我尝试了很多方法，但都没有奏效...... GridPanel 是通过保存的

```
_this.testpanel =new Ext.grid.GridPanel(... 
```

在我试过的加载功能中

```
_this.testpanel.getRow(_this.receiver_list.getStore().getCount()-1).scrollIntoView(_this.receiver_list.getView(),false); 
```

这个什么都不做。

```
_this.receiver_list.getView().getRow(_this.receiver_list.getStore().getCount()-1).scrollIntoView("receiver_list"); 
```

这个滚动表单，GrindPanel 在里面。但不在 GridPanel 本身中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T12:32:50.763

看看下面的函数

[http://docs.sencha.com/ext-js/4-0/#!/api/Ext.grid.Panel-method-setScrollTop](http://docs.sencha.com/ext-js/4-0/#!/api/Ext.grid.Panel-method-setScrollTop)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T12:51:31.753

使用[scrollTo()](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.dom.Element-method-scrollTo)元素方法。

# javascript - Youtube API - Flash 对象上的 div

> ID：10478484
> 
> 赞同：0
> 
> 时间：2012-05-07T07:46:40.243
> 
> 标签：javascript, youtube-api, wmode

我正在尝试在 youtube 视频上设置一个 div。我尝试设置 wmode:transparent 和 opaque，但视频消失了。还有其他方法吗？

```
var params = { allowScriptAccess: "always"};
swfobject.embedSWF(
        "http://www.youtube.com/apiplayer?&video_id=9_So9QyozqQ&enablejsapi=1&version=3&playerapiid=ytplayer", 
        "ytplayer", "229", "209", "8", null, null, params);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:53:41.613

swf 对象是一个`windowed element`. 窗口元素总是被覆盖`windowless elements`，不幸的是大多数其他 html 元素确实是无窗口的。

另一个`windowed element`是`iframe`. 请参阅[此](http://support.microsoft.com/kb/177378)链接。完成您想要的一种方法是使用 iFrame 来屏蔽 swf 对象。您可以通过给它一个更高的`z-index`. 然后，您可以使 iframe 透明，这基本上会在您的`windowed elements`图层中切出一个洞，显示底层的无窗口元素。

干杯

# android - 屏幕底部需要渐变

> ID：10478485
> 
> 赞同：0
> 
> 时间：2012-05-07T07:46:40.420
> 
> 标签：android, background, gradient

下图中是我想要的效果（注意屏幕底部的微妙绿色）。我也想将它用作多个屏幕，所以我希望它成为背景。有什么办法可以做到这一点？

![在此处输入图像描述](../Images/e1bcca5faeddc2251221726986cbd54c.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:13:54.743

将 png 设置为背景，或者在 xml 中创建一个形状：

创建一个 xml 文件 - 我们称之为“gradient_background.xml”

```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
 android:shape="rectangle">
    <gradient 
        android:angle="90"
        android:startColor="#ff0000ff" 
        android:endColor="#00ffffff"/>
    <corners android:radius="10dp" />
</shape> 
```

将十六进制颜色值更改为您想要的值。

并将其作为背景添加到您的 ViewGroup，例如 LinearLayout：

```
android:background="@drawable/gradient_background" 
```

编辑：为了实现您在评论中提到的内容，渐变高度应在位于底部时保持固定，但白色区域可以垂直拉伸，我建议您使用可以使用绘制九补丁工具创建的[九](http://developer.android.com/guide/topics/graphics/2d-graphics.html#nine-patch)[补丁](http://developer.android.com/guide/developing/tools/draw9patch.html). 从 SDK 的工具文件夹中启动该工具 - 单击包含九个补丁的 bat 文件（并等待它启动，然后导入您的 png）。然后沿着图像的边缘绘制黑线以定义可以拉伸的部分，将文件命名为 something.9.png 并将其作为 ViewGroup 中的背景引用。有关详细信息，请参阅链接到的文档。

# android - 安卓水晶报表

> ID：10478489
> 
> 赞同：0
> 
> 时间：2012-05-07T07:46:54.203
> 
> 标签：android, eclipse, crystal-reports, report

有没有办法使用 Eclipse 将水晶报告（.rpt）文件加载到 android 应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:07:22.220

你看过[这里](http://www.sap.com/solutions/sap-crystal-solutions/query-reporting-analysis/sapcrystalreports-eclipse/index.epx)吗？

> 使用 SAP Crystal Reports（Eclipse 版），您可以获得以下好处：
> 
> *   支持 SAP Crystal Reports 功能，例如嵌入式 Flash、参数面板和排序控件
> *   基于 Flash 的提示用户界面，支持在运行时为 Web 应用程序提供动态的级联提示
> *   全面的 SDK，支持使用 Java 代码创建和修改完整的报告
> *   能够轻松地将 Java 运行时引擎嵌入到胖客户端和瘦客户端应用程序中
> *   访问 Java 类 (POJO) 作为数据源，以便与您的应用程序紧密集成
> *   Eclipse 报告设计工具中的新可编辑预览可提高工作效率
> *   支持所有主流浏览器和操作系统
> *   与 SAP Crystal Reports 结合使用的许可更简单

我想这就是你要找的。

# php - PHP ssh2_exec 通道退出状态？

> ID：10478491
> 
> 赞同：7
> 
> 时间：2012-05-07T07:47:08.010
> 
> 标签：php, ssh, pecl

好的，所以 pecl ssh2 应该是 libssh2 的包装器。libssh2 有 libssh2_channel_get_exit_status。有什么方法可以获取这些信息吗？

我需要：
-STDOUT
-STDERR
-EXIT 状态

我得到了除了退出状态之外的所有东西。当 ssh 启动时，很多人都在使用 phplibsec，但我看不出有任何方法可以从中获得 stderr 或通道退出状态：/ 有没有人能够获得这三个？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-09T11:14:55.087

所以，第一件事是：
不，他们没有实现 libssh2_channel_get_exit_status。为什么？超越我。

这是 id 所做的：

```
$command .= ';echo -e "\n$?"' 
```

我填了一个换行符和 $ 的回声？到我执行的每个命令的末尾。朗格？是的。但似乎效果还不错。然后我将其拉入 $returnValue 并从标准输出的末尾删除所有换行符。也许有一天会支持获取频道的退出状态，几年后它将在发行版存储库中。目前，这已经足够好了。当您运行 30 多个远程命令来填充复杂的远程资源时，这比为每个命令设置和拆除 ssh 会话要好得多。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-07T21:13:10.720

我试图进一步改进 Rapzid 的回答。出于我的目的，我将 ssh2 包装在一个 php 对象中并实现了这两个功能。它允许我使用理智的异常捕获来处理 ssh 错误。

```
function exec( $command )
{
    $result = $this->rawExec( $command.';echo -en "\n$?"' );
    if( ! preg_match( "/^(.*)\n(0|-?[1-9][0-9]*)$/s", $result[0], $matches ) ) {
        throw new RuntimeException( "output didn't contain return status" );
    }
    if( $matches[2] !== "0" ) {
        throw new RuntimeException( $result[1], (int)$matches[2] );
    }
    return $matches[1];
}

function rawExec( $command )
{
    $stream = ssh2_exec( $this->_ssh2, $command );
    $error_stream = ssh2_fetch_stream( $stream, SSH2_STREAM_STDERR );
    stream_set_blocking( $stream, TRUE );
    stream_set_blocking( $error_stream, TRUE );
    $output = stream_get_contents( $stream );
    $error_output = stream_get_contents( $error_stream );
    fclose( $stream );
    fclose( $error_stream );
    return array( $output, $error_output );
} 
```

# java - 如何在远程机器中查找 oracle 服务的统计信息？

> ID：10478495
> 
> 赞同：0
> 
> 时间：2012-05-07T07:47:46.673
> 
> 标签：java

假设一个 oracle 服务正在远程机器上运行，我们想要找到使用它的用户数量，以及该服务的内存状态。如何使用 java 做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:06:44.853

不要认为有本地 Java API，但您始终可以通过 JDBC 连接并从 V$ 视图中获取信息。V$SESSION 可能是您需要查看连接的一个，对于内存来说它有点复杂 - 查看 V$PROCESS、V$PROCESS_MEMORY、V$SGA、V$SGAINFO、V$SGASTAT 的文档。

# c# - IE9 的 BHO 中的刷新 (F5) 事件处理程序

> ID：10478497
> 
> 赞同：0
> 
> 时间：2012-05-07T07:47:52.410
> 
> 标签：c#, internet-explorer-9, bho

单击 F5 键（刷新）时，Internet Explorer (IE9) 中会出现哪个事件？我如何在我的 BHO 中使用 Handler 来捕捉它？

注意：我在 C# 中为 IE9 创建了一个 BHO。我的类扩展了允许我通过 SetSite 函数添加处理程序的 IObjectWithSite。

```
public int SetSite(object site)
 {
   webBrowser = (SHDocVw.WebBrowser)site; 
   //events here...
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-06T22:23:10.297

如果您正在开发一个注入 Javascript 的浏览器插件，我发现挂钩 ondocumentcomplete 和 ondownloadcomplete 很有用。

*   Ondocumentcomplete 一旦 DOM 被加载并且可以被操作，就会触发，但它会错过刷新。

*   Ondownloadcomplete 等到所有资源（例如，图像）都已下载，但会捕获刷新。这种延迟可能会很长。

通过钩住两者，您大部分时间都会获得响应式插件，并且不会错过刷新。然后，您的 javascript 可以包含一个检查以避免运行两次。就像是：

```
// Inject the code, but only once
if (typeof myplugin == 'undefined') {
    myplugin = new function () {
        // Your code runs here.
    };
} 
```

我发现以下页面提供了丰富的信息：

*   [在 BHO 中检测刷新的替代方法](http://social.msdn.microsoft.com/Forums/en-US/ieextensiondevelopment/thread/7a3a8d96-52f5-4ec0-a395-222c3dffa4b2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-01T18:14:52.193

没有直接的方法，很难跨不同版本的 IE 实现。尽管您可以使用一些事件的组合来实现这一点。请注意，以下方法并非万无一失。

**链接：**

1.  [MSDN 论坛](http://social.msdn.microsoft.com/forums/en-US/ieextensiondevelopment/thread/7a3a8d96-52f5-4ec0-a395-222c3dffa4b2/)
2.  [检测 IE 刷新按钮](http://www.codeproject.com/Articles/3632/Detecting-the-IE-Refresh-button-using-IWebBrowser2)
3.  [刷新和 DISPID_DOCUMENTCOMPLETE](http://petewarden.typepad.com/searchbrowser/2007/07/refresh-and-dis.html)

# xcode - 如何使重复的目标在 Xcode 4 中工作？

> ID：10478498
> 
> 赞同：0
> 
> 时间：2012-05-07T07:48:07.190
> 
> 标签：xcode, duplicates, target

我在 Xcode 4 中复制了一个目标，但是当我点击运行时，应用程序启动并卡在启动屏幕中，并且在 Xcode 控制台中出现错误：

> 错误：未能附加到进程 ID 3957

我已经在互联网上搜索了一些可能的解决方案，但似乎都没有解决这个问题。

还有其他线索吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T19:24:06.147

当您复制目标时，项目将尝试使用相同的包 ID。在某些情况下，这不是您想要的。如果您不需要使用相同的包标识符，请尝试更改它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-16T11:43:17.047

**第一步：平**

$ ping 本地主机

这应该返回类似

PING localhost (127.0.0.1): 56 个数据字节 64 个字节来自 127.0.0.1: icmp_seq=0 ttl=64 time=0.028 ms 64 个字节来自 127.0.0.1: icmp_seq=1 ttl=64 time=0.048 ms ...

如果可行，此答案将无法解决您的问题，请尝试其他方法。

如果 ping 返回其他内容，例如： ping: cannot resolve localhost: Unknown host 你的 /etc/hosts 文件搞砸了，转到第 2 步

**第二步：检查 /etc/hosts**

检查 /etc/hosts 文件的顶部是否如下所示

127.0.0.1 本地主机 255.255.255.255 广播主机 ::1 本地主机 fe80::1%lo0 本地主机

如果文件中没有这些条目，请在文件顶部输入它们，使用 $ dscacheutil -flushcache 刷新 dns 缓存并返回步骤 1，否则继续步骤 3。

**第三步：正确的文件格式：应该是 unix 或 LF ***

$ 文件 /etc/hosts

这应该返回： /etc/hosts: ASCII 英文文本

如果它返回 /etc/hosts: ASCII 英文文本，带有 CR 行终止符，则该文件格式错误，可能会被忽略。

使用您喜欢的文本编辑器将文件行结尾更改为 unix 或 LF。

```
In Sublime Text 2 this can be done throught the view menue: View > Line Endings > Unix 
```

刷新 dns 缓存 ($ dscacheutil -flushcache) 并返回步骤 1

# php - 添加 _ # 和 & 符号到 preg_replace("/[^A-Za-z0-9 ]/")

> ID：10478507
> 
> 赞同：0
> 
> 时间：2012-05-07T07:48:52.590
> 
> 标签：php, preg-replace, alphanumeric

是否可以采用这个限制为字母数字的 preg_replace 并对其进行更改，使其也允许`_`、`&`和`#`'s（下划线、& 和磅）？

```
preg_replace("/[^A-Za-z0-9 ]/", '', $string) 
```

谢谢！！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-07T07:49:45.563

这很容易...

```
preg_replace("/[^\w#& ]/") 
```

`\w`字符类包括`[A-Za-z0-9_]`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T07:50:39.913

`preg_replace("/[^A-Za-z0-9_&#]/")`

# linux - 在 WINE 中更改语言环境

> ID：10478508
> 
> 赞同：11
> 
> 时间：2012-05-07T07:48:53.300
> 
> 标签：linux, locale, wine

我在 linux (SliTaz 4.0) 上使用 wine 模拟器，我想更改 wine 区域设置，以便对话框和消息以日语显示。

我找到了这个工具[http://code.google.com/p/winelocale/](http://code.google.com/p/winelocale/)似乎可以完成这项工作，但我在任何地方都找不到下载链接，也无法联系作者，所以有人知道该怎么做吗？ ?

我实际上不确定这个工具 (WINELocale) 是否真的可以工作，所以我愿意接受任何将 WINE 的语言环境更改为日语的建议。

谢谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-05-07T21:35:28.197

在 Ubuntu 13.04 中我不得不使用

```
LANG="ja_JP.UTF8" wine YourBinary.exe 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-07T10:15:19.553

```
LC_ALL="ja_JP" 
```

另一个例子；）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-01-19T15:17:50.970

我不得不编辑`/etc/locale.gen`并取消注释这两行：

```
ja_JP.EUC-JP EUC-JP
ja_JP.UTF-8 UTF-8 
```

之后，我`locale-gen`（以 root 身份）运行，当它完成生成语言环境时，只需设置即可`LANG=ja_JP.utf8`。看来，关键是首先生成语言环境信息。

此外，如果您没有任何字体，则需要在系统上安装日文字体。

如果有人想知道的话，我的发行版是 Debian Sid，但我相信这也是您在 Arch 和 Ubuntu 以及大多数其他发行版中需要做的事情。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-07T08:13:18.423

```
export LANG="ja_JP" 
```

这款酒在更改语言环境为日文后，尽管记得安装日文字体，否则会看起来像垃圾！

如果您关闭终端，区域设置将丢失。更清洁的方法是：

```
LANG="ja_JP" winecfg 
```

例如，只有这个“进程（和子进程）”会受到影响，记得像这样将它用于葡萄酒：

```
LANG="ja_JP" wine YourBinary.exe 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-19T18:39:57.910

您还可以通过注册表更改所有应用程序的区域设置，方法是在（右键单击 -> 新建 -> 字符串值）中设置`LC_ALL`环境变量。`HKEY_CURRENT_USER\Environment`

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-04-23T01:29:00.290

正如其他人所说，`export LANG="ja_JP"`应该工作。

但请确保您已安装该语言环境，否则不会。如何安装它取决于您的发行版，但要检查它是否可用，您可以简单地`locale -a`在终端中运行，它会列出可用的语言环境。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-06-10T08:30:44.067

`LANG=ja_JP`在我的机器上似乎没有默认为 utf8。（也许是因为它在 locale.gen 中较低？）

`LANG=ja_JP.UTF-8`作品。

# android - 安卓：Facebook 登录

> ID：10478510
> 
> 赞同：1
> 
> 时间：2012-05-07T07:49:02.113
> 
> 标签：android

我制作了一个程序，其中是 facebook 的登录按钮，加载 facebook 登录页面，但立即控制返回相同。包含登录按钮的窗口......同样的程序也在模拟器上很好地执行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T07:59:02.503

使用 facebook api.......

[http://blog.doityourselfandroid.com/2011/02/28/30-minute-guide-integrating-facebook-android-application/](http://blog.doityourselfandroid.com/2011/02/28/30-minute-guide-integrating-facebook-android-application/)结帐，如果有帮助，请单击右侧

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T07:57:07.217

查看 Facebook 开发人员 API 文档。

问题正如 Anshuman 所说，您的手机上已经有 SSO，并且尝试再次进行身份验证会导致问题，您需要覆盖`onActivityResult`并执行特殊的 facebook`authorizeCallback`功能：

它是这样的：

```
 facebook.authorize(SinglePost.this, permissions,
                new DialogListener() {

                    @Override
                    public void onComplete(Bundle values) {
                        // control comes here if the login was successful
                        // Facebook.TOKEN is the key by which the value of
                        // access token is stored in the Bundle called
                        // 'values'
                        Log.d("COMPLETE", "AUTH COMPLETE. VALUES: "
                                + values.size());
                        Log.d("AUTH TOKEN",
                                "== " + values.getString(Facebook.TOKEN));
                        updateStatus(values.getString(Facebook.TOKEN));
                    }

                    @Override
                    public void onFacebookError(FacebookError e) {
                        Log.d("FACEBOOK ERROR",
                                "FB ERROR. MSG: " + e.getMessage()
                                        + ", CAUSE: " + e.getCause());
                    }

                    @Override
                    public void onError(DialogError e) {
                        Log.e("ERROR", "AUTH ERROR. MSG: " + e.getMessage()
                                + ", CAUSE: " + e.getCause());
                    }

                    @Override
                    public void onCancel() {
                        Log.d("CANCELLED", "AUTH CANCELLED");
                    }
                });

@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    Log.d("onActivityResult", "onActivityResult");
    facebook.authorizeCallback(requestCode, resultCode, data);
} 
```

# struts2 - 如何将struts项目实现到我自己的项目中？

> ID：10478511
> 
> 赞同：0
> 
> 时间：2012-05-07T07:49:03.960
> 
> 标签：struts2, struts, struts-1, struts-config, struts-validation

作为一名实习生，我一直在从事一个项目，一个 Java Web 应用程序。直到现在我已经使用了 javascript 和`jquery`验证，但现在我也知道`struts 1.x and struts 2` 并且想要应用它而不是`javascript`......所以我必须从我的 struts 应用程序中复制所有文件。进入我在net beans中的项目文件夹中......我的意思是所有特定文件，比如`web-inf`我必须完全复制它们？或者还有另一种方法可以在网豆之类的`merge projects`东西中做到这一点？

# android - 如何使用音乐字体在 Android 平板电脑上显示乐谱

> ID：10478519
> 
> 赞同：4
> 
> 时间：2012-05-07T07:49:37.620
> 
> 标签：android, fonts

我正在开发一个 android 平板电脑应用程序，用于显示乐谱，为其提供一些基本的编辑和播放功能。

我的第一个障碍是如何首先显示音乐。

大多数桌面应用程序使用音乐字体，这使得缩放和调整大小非常“简单”。但是，看来我需要能够访问各个字形才能做到这一点——据我所知，这在 android 中是不可能的。

我应该坚持使用音乐字体并尝试找到获取所需信息的方法吗？我应该放弃这个并考虑使用 svg 文件或透明 PNG 吗？

有人可以在这里建议吗？

# c++ - 私有继承和派生对象到基引用

> ID：10478520
> 
> 赞同：1
> 
> 时间：2012-05-07T07:49:39.917
> 
> 标签：c++

据我了解，我们不能将派生类对象传递给基类引用以进行私有继承的原因是，由于 Derived 是从 Base 私有继承的，因此 Base 的默认构造函数将在 Derived 的构造函数之前调用。但是因为它是私有的并且没有继承给 Derived，所以我们得到一个编译器错误。

但是，如果我尝试为 Base 创建一个公共构造函数并私下从 Derived 继承，然后将公共状态重新分配给 Base 的构造函数，它是否允许我将派生的实例传递给 Base 引用？

我尝试如下，

```
#include <iostream>

using namespace std;

class base
{
      public:
             base(){}
             void print(){ puts("In base"); }
};

class derived : private base
{
      public:
             base::base;   /* Throws an error - Declaration doesnt declare anything*/
             void print(){ puts("In derived"); }
};

void func(base& bRef)
{
}

int main()
{
    derived dObj;
    func(dObj); /*  Throws an error - 'base' is an inaccessible base of derived */
} 
```

它为 base::base 抛出错误（将私有继承的构造函数公开）。我正在尝试的是否有效？谁能告诉我？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T07:58:52.253

我们不能有对私有继承的派生对象的基类引用的原因是因为这将违反[Liskov 替换原则](http://en.wikipedia.org/wiki/Liskov_substitution_principle)：派生对象 IS-NOT-A 基类对象，因为它不提供基类公共接口。您无法解决此问题

出于这个原因，私有继承是一种重用实现的方式，而不是当您想要制作更专业的类型时。由于大多数时候这可以通过组合来完成（即拥有基类的*成员*而不是私有派生），因此私有继承可能是一种不好的代码味道。

您可以[在此处](https://stackoverflow.com/questions/656224/when-should-i-use-c-private-inheritance)阅读（请务必点击所有链接）以获取有关何时私有继承是一个不错选择的更多信息（总结：当根本没有其他选择时）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T08:00:04.743

不，用基类的指针或引用指向 Derived 的对象是无效的。如果可能，那么私有继承的全部目的（隐藏派生类从基类继承其部分（或全部）功能的事实）将毫无用处。

假设您`foo()`在基类中有一个方法。您不希望调用此方法。但是，如果可以从基类的指针指向对象，那么也可以调用`foo()`.

```
Base * ptrBase = &objDerived;      // Let's suppose this would compile
ptrBase->foo();                    // Now we can call foo() (?) 
```

当您声明私有继承时，就好像派生类与基类无关。只有您，开发人员，唯一应该“知道”这种关系存在的人，实际上您应该忘记它，因为它根本行不通。

私有继承只是作为一种可重用机制，而不是真正的继承机制。甚至不建议使用它，因为您可以通过简单地应用组合来获得更好的结果（即只需在 Derived 中创建类 Base 的属性）。

# ios5 - 我不明白：“链接器命令失败，退出代码 1”错误

> ID：10478521
> 
> 赞同：1
> 
> 时间：2012-05-07T07:49:42.067
> 
> 标签：ios5, storyboard, xcode4.3

上周我在做一个项目。今天，我重新打开了该项目并尝试再次构建它。但我收到一条错误消息。我不明白为什么会收到此消息，因为我没有更改项目的任何内容。（我正在使用带有情节提要的 XCode 4.3）

```
Ld /Users/mete/Library/Developer/Xcode/DerivedData/MySınav-ceckdqzcfyfgicaqrhloynhdnglw/Build/Products/Debug-iphonesimulator/MySınav.app/MySınav normal i386
cd /Users/mete/Documents/MySınav
setenv MACOSX_DEPLOYMENT_TARGET 10.6
setenv PATH "/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin"
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch i386 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.1.sdk -L/Users/mete/Library/Developer/Xcode/DerivedData/MySınav-ceckdqzcfyfgicaqrhloynhdnglw/Build/Products/Debug-iphonesimulator -F/Users/mete/Library/Developer/Xcode/DerivedData/MySınav-ceckdqzcfyfgicaqrhloynhdnglw/Build/Products/Debug-iphonesimulator -filelist /Users/mete/Library/Developer/Xcode/DerivedData/MySınav-ceckdqzcfyfgicaqrhloynhdnglw/Build/Intermediates/MySınav.build/Debug-iphonesimulator/MySınav.build/Objects-normal/i386/MySınav.LinkFileList -mmacosx-version-min=10.6 -Xlinker -objc_abi_version -Xlinker 2 -fobjc-arc -Xlinker -no_implicit_dylibs -D__IPHONE_OS_VERSION_MIN_REQUIRED=50100 -lsqlite3 -framework UIKit -framework Foundation -framework CoreGraphics -o /Users/mete/Library/Developer/Xcode/DerivedData/MySınav-ceckdqzcfyfgicaqrhloynhdnglw/Build/Products/Debug-iphonesimulator/MySınav.app/MySınav

ld: duplicate symbol _counter in /Users/mete/Library/Developer/Xcode/DerivedData/MySınav-ceckdqzcfyfgicaqrhloynhdnglw/Build/Intermediates/MySınav.build/Debug-iphonesimulator/MySınav.build/Objects-normal/i386/examPaused.o and /Users/mete/Library/Developer/Xcode/DerivedData/MySınav-ceckdqzcfyfgicaqrhloynhdnglw/Build/Intermediates/MySınav.build/Debug-iphonesimulator/MySınav.build/Objects-normal/i386/examSelf.o for architecture i386
clang: error: linker command failed with exit code 1 (use -v to see invocation) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:03:04.323

错误消息非常清楚 - 您`_counter`在examPaused.o 和 中定义了两个同名的全局符号（）`examSelf.o`。这可能是因为您有两个单独定义的具有相同名称的全局变量或非静态函数，或者更常见的是当您在头文件中定义某些内容然后将其包含/导入到两个或多个源文件中时。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-10T09:08:06.133

请参阅我在以下链接中为您提供的此解决方案。这可以帮助您

[命令 /Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/clang 失败，退出代码为 1](https://stackoverflow.com/questions/8405053/command-developer-platforms-iphonesimulator-platform-developer-usr-bin-clang-fa/20489888#20489888)

# java - 用于录制电话的 Java 库

> ID：10478524
> 
> 赞同：1
> 
> 时间：2012-05-07T07:50:05.007
> 
> 标签：java

场景：GSM SIM 卡使用 USB 端口连接到 PC。我有一个音频文件。我有要拨打的手机号码列表。

问题：我正在寻找检测 GSM SIM 卡的 JAVA 库，并允许我的应用程序对这个手机号码列表进行电话录音。

额外信息：这不是 J2ME 应用程序。我研究了一些来自网络的资源。我发现这个[http://smslib.org/](http://smslib.org/) & [http://www.voicent.com/devnet/docs/javaapi.htm](http://www.voicent.com/devnet/docs/javaapi.htm)并不能完全解决我的问题。前者只能发送短信，后者使用网关来实际拨打电话，应用程序的职责是连接到网关并提供必要的详细信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:04:37.400

有一个名为[KooKoo](http://www.kookoo.in/)的 API ，他们开发了用于自动化的电话 API。您可以在此处找到有关[外拨电话的](http://www.kookoo.in/index.php/kookoo-docs/outbound)详细信息。

您需要通过 API 发送收件人的号码和音频文件才能将其播放给收件人。您需要更多地探索 API 以了解其功能并满足您的要求。

# iphone - 单击图形核心图时获取每个点图数据信息

> ID：10478525
> 
> 赞同：0
> 
> 时间：2012-05-07T07:50:06.340
> 
> 标签：iphone, core-plot

我正在使用核心绘图来绘制图形，但我需要在每个绘图坐标上显示每个绘图点信息。请帮助我如何在每个绘图上相应地显示我的数据信息。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T07:52:49.193

我想您应该保存每个绘图点的位置和信息，并根据您从用户那里收到的触摸检查。当你在画布上画了一些东西时，没有办法向它询问关于某个点的信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T00:19:46.503

使用绘图委托来获得触摸通知。Plot Gallery 和 CPTTestApp (Mac) 示例应用程序中有几个示例。

# ruby - 如何在 Ruby 中形成完整的 URL

> ID：10478527
> 
> 赞同：0
> 
> 时间：2012-05-07T07:50:15.030
> 
> 标签：ruby, url, replace

我正在尝试创建一个小型系统，人们可以在其中填写信息，包括他们的网站地址。只是，有些人会输入“www.example.com”，有些人会输入“http://www.example.com”，有些人会输入“example.com”。

什么是最干净的方法：

*   验证所有 URL，因为它们都包含 http:// 所以当我点击它时，我会正确重定向，并且

*   对于链接上的可见文本，在没有 http:// 的情况下获取版本的最简单方法是什么？

我当然可以用一些有条件的文本替换来发疯，但必须有更好的方法来做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T07:54:01.303

我将通过这种方式检查地址是否以开头，`http(s)://`然后添加它。不要对 and 做任何事情，`example.com`因为`www.example.com`它会破坏整个地址。

所以你可以写：

```
url = 'http://' + url unless url =~ /\Ahttps?:\/\// 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T13:57:42.233

我建议为此使用 gem - 没有理由尝试自己编写所有这些。

这里有一个可能适合您的需求。可能还有其他人，但这个似乎很有用，并且有一个不错的追随者：

[https://github.com/conickal/validates_url_format_of](https://github.com/conickal/validates_url_format_of)

# java - jtable 标题未显示

> ID：10478528
> 
> 赞同：1
> 
> 时间：2012-05-07T07:50:17.730
> 
> 标签：java, jtable

我想用列名做一个 JTable，使用：

```
JTable(Vector rowData, Vector columnNames) 
```

to 构造一个 JTable 以显示向量中的值，rowData，列名，columnNames。

所以，我这样做了：

```
final String[] columnNames = {"NOMBRE", "DÍAS DE LA SEMANA", "HORA DE INICIO", "HORA DE FIN", "TIEMPO MÁXIMO DE USO"};

        rs.last();
        int numRows = rs.getRow();
        rs.beforeFirst(); 

        Object[][] columnData = new String[numRows][5];

        int i = 0;
        while(rs.next()){

            columnData[i][0] = rs.getString(1);
            columnData[i][1] = rs.getString(2);
            columnData[i][2] = rs.getString(3);
            columnData[i][3] = rs.getString(4);
            columnData[i][4] = rs.getString(5);

        }

table = new JTable(columnData, columnNames);
        table.setBounds(300,600,700,150); 
```

但是我只看到数据，为什么没有显示标题？

预先感谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T07:54:58.007

```
JTable table = new JTable(columnData, columnNames);
JScrollPane scroll = new JScrollPane(table);
panel.add(scroll); 
```

# liferay - Liferay 主题从 5.2 升级到 6.1

> ID：10478530
> 
> 赞同：2
> 
> 时间：2012-05-07T07:50:53.930
> 
> 标签：liferay, liferay-6, liferay-theme

我正在将 Liferay 从 5.2 升级到 6.1。我想知道类似于core liferay，对于主题，我们也必须遵循两个步骤升级（即从5.2到6.0然后从6.0到6.1）或者我们可以直接进行5.2到6.1的主题升级。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T05:01:48.850

升级不像核心 Liferay。

升级主题时要寻找的步骤（更多的清单）：

1) 您必须更改 liferay-look-and-feel.xml 的 <version>6.1+</version>。

2）您需要手动包含 jQuery，因为它现在不是 Liferay 的一部分（[Alloy UI](http://alloy.liferay.com/)现在是一部分）。您可以通过模板文件 (*.vm) 包含它们。

3) 从 5.2 到 6.1 的模板文件（portal_normal.vm、portlet.vm、navigation.vm 等）中有很多自定义，所以如果您对这些进行了自定义，那么您将不得不再次自定义它们。

4) 自 5.2 以来也发生了很多 CSS 更改，事实上 6.1 的 UI 几乎与 5.2 完全不同。因此，您将不得不再次设置 liferay html 元素的样式，因为它现在使用合金 UI JSP 标签来呈现它们。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T23:55:00.523

该主题不需要任何类型的升级过程，因此您只需要重写一次。基本上你只需要确保主题使用 6.1 API 和 AUI。

两者中最复杂的是从 jQuery 迁移到 AUI (YUI)。

这是一个“罗塞塔石碑”，可以帮助您入门： http: [//www.jsrosettastone.com/](http://www.jsrosettastone.com/)

# c# - 使用 Linq 执行 List.Exist

> ID：10478538
> 
> 赞同：7
> 
> 时间：2012-05-07T07:51:22.173
> 
> 标签：c#, linq, list, exists

我想检查列表中的任何项目是否有一个字段设置为`true`

目前我这样做：

```
bool isPaid = visit.Referrals.Exists(delegate(AReferral r)
                                     {
                                         return r.IsPaidVisit;
                                     }); 
```

我怎么能做到这一点`Linq`对某些人来说可能是微不足道的，但现在不知道。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-07T07:52:12.837

```
using System.Linq;

...

bool isPaid = visit.Referrals.Any(r => r.IsPaidVisit); 
```

但是，当您可以执行以下操作时，为什么还要使用 Linq 库：

```
bool isPaid = visit.Referrals.Exists(r => r.IsPaidVisit); 
```

# html - 在弹出窗口中显示数据并打印页面

> ID：10478546
> 
> 赞同：0
> 
> 时间：2012-05-07T07:52:04.080
> 
> 标签：html, jsp, servlets

通过单击名为“生成报告”或“汇总”的按钮，某种弹出窗口将显示汇总收集的数据，显示平均值、总计等值......它还带有图表。在显示汇总结果的页面的一角会有一个打印按钮，用于打印汇总页面

我将如何打开一个新窗口/选项卡或某种部分来显示报告？我怎样才能以与它相同的格式打印它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T11:19:22.653

您可以使用 jQuery UI 对话框来创建模式弹出窗口。在此对话框中，您可以放置​​所需的一切。但是如果需要启动它 - 最好在 js 新窗口中创建并将信息放在那里：

```
window.open(); 
```

要打印浏览器窗口内容，只需为您的按钮调用 onClick：

```
<input type="button" value="Print" onClick="window.print();" /> 
```

对于图形信息，我更喜欢 jqPlot。试试看 - 这是一个不错的工具。[在此处](http://www.jqplot.com/tests/)查看演示。

如果您需要高质量的打印而不是生成 pdf 或 xlsx。如果您使用 java 和 tomcat，您可以轻松地将 JasperServer 集成到您的应用程序中。

# cocos2d-iphone - Cocos2d 精灵碰撞

> ID：10478550
> 
> 赞同：0
> 
> 时间：2012-05-07T07:52:12.363
> 
> 标签：cocos2d-iphone, sprite, collision-detection

我将多个精灵放置在这样的背景精灵上：

```
//my background
CCSprite *bg = [CCSprite spriteWithFile:@"imageName.png"];

[self addchild:bg]; 
```

然后我将我的项目添加到 bg

```
//this is how i add my items
CCSprite *items = [CCSprite spriteWithFile:@"itemName.png"];

[bg addchild:items]; 
```

哦，别忘了我的汽车精灵

```
//my car
CCSprite *car = [CCSprite spriteWithFile:@"car.png"];
[self addchild:car]; 
```

我使用循环将多个精灵添加到 bg 上。

现在的问题是如何检测汽车是否与我放置在背景上的多个精灵发生碰撞？

我试过使用 CGRectIntersectsRect 但它不起作用。

我尝试过使用 pythagoras theorem 方法，但它再次不起作用。

有一种方法涉及将项目精灵添加到 NSMutableArray 中，但它也不起作用。

谁能建议我可以尝试的方法？

附加代码：

```
-(void) initializeCarAndItems
{
    car = [CCSprite spriteWithFile:@"android.png"];
    car.position = ccp(screenSize.width/2, screenSize.height * 0.30);
    [self addChild:car z:1];
    carRect = [car boundingBox];
}

-(void) initializeMap
{
    bg1 = [CCSprite spriteWithFile:@"racingBG.png"];
    bg1.anchorPoint = ccp(0, 0);
    bg1.position = ccp(0, 0);

    [self addChild:bg1 z:-1];

    bg2 = [CCSprite spriteWithFile:@"racingBG2.png"];
    bg2.anchorPoint = ccp(0,0);
    bg2.position = ccp(0, bg1.boundingBox.size.height - 1);

    [self addChild:bg2 z:-1];

    convertedWidth = (int)bg1.boundingBox.size.width;
    convertedHeight = (int)bg1.boundingBox.size.height;

    for (y = 0; y < 15; y++)
    {   
        positionX = arc4random()%convertedWidth;
        positionY = arc4random()%convertedHeight;

        items = [CCSprite spriteWithFile:@"item.png"];
        items.position = ccp(positionX, positionY + 300);
        [bg1 addChild:items z:100];
        [itemsArray addObject:items];
    }

    for (y = 0; y < 15; y++)
    {   
        positionX = arc4random()%convertedWidth;
        positionY = arc4random()%convertedHeight;

        items = [CCSprite spriteWithFile:@"item.png"];
        items.position = ccp(positionX, positionY);
        [bg2 addChild:items z:100];
        [itemsArray addObject:items];
    }
}

-(void) accelerate
{
    bg1.position = ccp(0, bg1.position.y - accelerateNumber);
    bg2.position = ccp(0, bg2.position.y - accelerateNumber);

    if (bg1.position.y < -bg1.boundingBox.size.height)
    {
        questionCount++;
        bg1.position = ccp(0, bg2.position.y + bg2.boundingBox.size.height - 1);
        [self question];

        [bg1 removeAllChildrenWithCleanup:YES];
        for (y = 0; y < 15; y++)
        {   
            positionY = arc4random()%convertedHeight;
            positionX = arc4random()%convertedWidth;

            items.position = ccp(positionX, positionY);
            items = [CCSprite spriteWithFile:@"item.png"];
            [bg1 addChild:items z:100];
            [itemsArray addObject:items];
        }
    }
    else if (bg2.position.y < -bg2.boundingBox.size.height)
    {
        questionCount++;
        bg2.position = ccp(0, bg1.position.y + bg1.boundingBox.size.height - 1);
        [self question];

        [bg2 removeAllChildrenWithCleanup:YES];
        for (y = 0; y < 15; y++)
        {   
            positionY = arc4random()%convertedHeight;
            positionX = arc4random()%convertedWidth;

            items.position = ccp(positionX, positionY);
            items = [CCSprite spriteWithFile:@"item.png"];
            [bg2 addChild:items z:100];
            [itemsArray addObject:items];
        }
    }
}

-(void) update:(ccTime)deltaTime
{
    [self ifEdgeOfScreen];
    [self accelerate];

    for (CCSprite *itemFromArray in itemsArray)
    {
        CGRect itemRect = [itemFromArray boundingBox];
        if (CGRectIntersectsRect(carRect, itemRect))
        {
            NSLog(@"Collision!");
        }
    }

    if (leftButton.active == TRUE)
    {
        [self moveLeftRight:1];
    }
    else if (rightButton.active == TRUE)
    {
        [self moveLeftRight:2];
    }
} 
```

更新：

它是固定的:)

```
-(void) update:(ccTime)deltaTime
{
    car = [car boundingbox];

    [self ifEdgeOfScreen];
    [self accelerate];

    for (CCSprite *itemFromArray in itemsArray)
    {
        if (CGRectIntersectsRect(carRect, [itemFromArray boundingbox]))
        {
            NSLog(@"Collision!");
        }
    }

    if (leftButton.active == TRUE)
    {
        [self moveLeftRight:1];
    }
    else if (rightButton.active == TRUE)
    {
        [self moveLeftRight:2];
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:47:59.327

我发现代码有很多问题......

1.  当您调用时`removeAllChildren`..确保您还从数组中删除对象..从父母中删除精灵不会将其从数组中删除。

2.  在更新方法中更新汽车矩形。所以在你的更新方法中

    -（无效）更新：（ccTime）deltaTime {

    ```
     [self ifEdgeOfScreen];

        [self accelerate];

        carRect = [car boundingBox];
    ...........
    } 
    ```

希望这可以帮助.. ：）

# outlook - Outlook 连接错误的 MS Office 移动服务 (OMS)

> ID：10478560
> 
> 赞同：0
> 
> 时间：2012-05-07T07:52:44.187
> 
> 标签：outlook, sms, ms-office, sms-gateway

[我按照http://msdn.microsoft.com/en-us/library/ff606754.aspx](http://msdn.microsoft.com/en-us/library/ff606754.aspx)上的指南开发了一个 OMS Web 服务。

每当我尝试在 Outlook 中配置 SMS 帐户时，都会出现以下错误。

“由于连接到服务器时出现问题，Outlook 没有收到来自 Web 服务的响应。请稍后再试。”

尽管它确实创建了帐户，并且每当我尝试发送短信时都会发生相同的错误，但我也会收到短信。这意味着 Outlook 可以将消息发送到我的 Web 服务，但为什么会出错？

在这个话题上搜索了很多，但似乎没有人有解决方案。

非常感谢有人可以提供帮助。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T12:01:16.327

您应该检查如何使用 Ozeki NG SMS 网关从 Outlook Mobile Service (Outlook 2007) 发送 SMS：http: [//sms-integration.com/p_83-outlook-mobile-service-sms.html](http://sms-integration.com/p_83-outlook-mobile-service-sms.html)

我希望它有所帮助。支持团队也非常敏感。

BR

# iphone - iphone中的Json数组解析问题

> ID：10478563
> 
> 赞同：2
> 
> 时间：2012-05-07T07:52:58.220
> 
> 标签：iphone

在下面的代码中，我解析了以下 Web 服务，但是当我解析注释数组时，它不被视为像 [] 这样的数组括号，它假定括号 () 所以我不会解析这个数组，它是如何发生的我还是没有得到请帮助我。

请查看以下代码快照，请帮助我。

```
{
    "flag?":false,
    "created_at":"2012-04-29T08:20:04Z",
    "title":"test",
    "user":{
        "name":"abc"
    },
    "comments":[
        {
            "comment":"Hi",
            "created_at":"2012-04-26T07:56:09Z",
            "user":{
                "name":"abc"
            }
        },
        {
            "comment":"hello",
            "created_at":"2012-04-27T07:41:29Z",
            "user":{
                "name":"Mahesh"
            }
        },
        {
            "comment":"good",
            "created_at":"2012-05-01T07:03:02Z",
            "user":{
                "name":"admin"
            }
        }
    ],
    "solution":"test",
    "problem":"test"
} 
```

代码如下=： http: [//pastebin.com/Dg4hjdKA](http://pastebin.com/Dg4hjdKA)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T07:58:14.463

这段代码会帮助你。

```
- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response {
  [responseData setLength:0];
 }

- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data {
[responseData appendData:data];
}

- (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error {
 [connection release];
 self.responseData = nil;
 }

 - (void)connectionDidFinishLoading:(NSURLConnection *)connection {
  [connection release];

  NSLog(@"Response String= %@",responseString);  //response string is ur  JSON Array value

    NSArray* latestLoans = [(NSDictionary*)[responseString JSONValue] objectForKey:@"comments"];
 NSLog(@"Lateste = %@",latestLoans);

 [responseString release];
 NSDictionary* loan = [latestLoans objectAtIndex:0];
 NSString* number1 = [loan objectForKey:@"comment"];
 NSString* firstName = [loan objectForKey:@"created_at"];
 NSString* emails = [loan objectForKey:@"user"];

 NSLog(@"number1= %@,  firstName= %@  Emails= %@",number1,firstName,emails);
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T13:34:14.727

```
NSString *urlstring = @"Your URL";
NSURL *url = [NSURL URLWithString:urlstring];
NSURLRequest *request = [NSURLRequest requestWithURL:url];

NSError *error;
NSURLResponse *response;
NSData *returnData=[NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&error];

NSString *returnString=[[NSString alloc]initWithData:returnData encoding:NSUTF8StringEncoding];
NSLog(@"%@",returnString);

SBJSON *json = [SBJSON new];
NSDictionary *dict = [[NSDictionary alloc] initWithDictionary:[json objectWithString:returnString error:nil]];

NSArray *Response_Array = [[NSArray alloc] initWithArray:[dict valueForKey:@"comments"]]; 
```

# iphone - AUGraph 将 kAudioUnitSubType_Reverb2 添加到 AUGraph 时初始化错误代码 -10868

> ID：10478565
> 
> 赞同：5
> 
> 时间：2012-05-07T07:53:28.210
> 
> 标签：iphone, objective-c, ios, xcode, audio

我正在尝试将 AudioUnit 类型添加`kAudioUnitSubType_Reverb2`到 an`AUGraph`并且`-10868 (kAudioUnitErr_FormatNotSupported)`在`AUGraphInitialize`. 我的出发点是 Apple 的 iPhoneMixerEQGraphTest 示例应用程序，我基本上只是为混响添加了一个新的 AudioUnit，但无法让它工作。

这是代码 -

```
- (void)initializeAUGraph
{
    printf("initializeAUGraph\n");

    AUNode outputNode;
    AUNode eqNode;
    AUNode mixerNode;
    AUNode reverbNode;

    printf("create client ASBD\n");

    // client format audio goes into the mixer
    mClientFormat.SetCanonical(2, true);                        
    mClientFormat.mSampleRate = kGraphSampleRate;
    mClientFormat.Print();

    printf("create output ASBD\n");

    // output format
    mOutputFormat.SetAUCanonical(2, false);                     
    mOutputFormat.mSampleRate = kGraphSampleRate;
    mOutputFormat.Print();

    OSStatus result = noErr;

    // load up the audio data
    [self performSelectorInBackground:@selector(loadFiles) withObject:nil];

    printf("new AUGraph\n");

    // create a new AUGraph
    result = NewAUGraph(&mGraph);
    if (result) { printf("NewAUGraph result %ld %08X %4.4s\n", result, (unsigned int)result, (char*)&result); return; }

    // create three CAComponentDescription for the AUs we want in the graph

    // output unit
    CAComponentDescription output_desc(kAudioUnitType_Output, kAudioUnitSubType_RemoteIO, kAudioUnitManufacturer_Apple);

    // iPodEQ unit
    CAComponentDescription eq_desc(kAudioUnitType_Effect, kAudioUnitSubType_AUiPodEQ, kAudioUnitManufacturer_Apple);

    // multichannel mixer unit
    CAComponentDescription mixer_desc(kAudioUnitType_Mixer, kAudioUnitSubType_MultiChannelMixer, kAudioUnitManufacturer_Apple);

    // reverb unit
    CAComponentDescription reverb_desc(kAudioUnitType_Effect, kAudioUnitSubType_Reverb2, kAudioUnitManufacturer_Apple);

    printf("add nodes\n");

    // create a node in the graph that is an AudioUnit, using the supplied AudioComponentDescription to find and open that unit
    result = AUGraphAddNode(mGraph, &output_desc, &outputNode);
    if (result) { printf("AUGraphNewNode 1 result %lu %4.4s\n", result, (char*)&result); return; }

    result = AUGraphAddNode(mGraph, &eq_desc, &eqNode);
    if (result) { printf("AUGraphNewNode 2 result %lu %4.4s\n", result, (char*)&result); return; }

    result = AUGraphAddNode(mGraph, &mixer_desc, &mixerNode);
    if (result) { printf("AUGraphNewNode 3 result %lu %4.4s\n", result, (char*)&result); return; }

    result = AUGraphAddNode(mGraph, &reverb_desc, &reverbNode);
    if (result) { printf("AUGraphNewNode 4 result %lu %4.4s\n", result, (char*)&result); return; }

    // connect a node's output to a node's input
    // mixer -> eq -> output
    result = AUGraphConnectNodeInput(mGraph, mixerNode, 0, eqNode, 0);
    if (result) { printf("AUGraphConnectNodeInput result %lu %4.4s\n", result, (char*)&result); return; }

    result = AUGraphConnectNodeInput(mGraph, eqNode, 0, reverbNode, 0);
    if (result) { printf("AUGraphConnectNodeInput result %lu %4.4s\n", result, (char*)&result); return; }

    result = AUGraphConnectNodeInput(mGraph, reverbNode, 0, outputNode, 0);
    if (result) { printf("AUGraphConnectNodeInput reverb result %lu %4.4s\n", result, (char*)&result); return; }

    // open the graph AudioUnits are open but not initialized (no resource allocation occurs here)
    result = AUGraphOpen(mGraph);
    if (result) { printf("AUGraphOpen result %ld %08X %4.4s\n", result, (unsigned int)result, (char*)&result); return; }

    // grab the audio unit instances from the nodes
    result = AUGraphNodeInfo(mGraph, mixerNode, NULL, &mMixer);
    if (result) { printf("AUGraphNodeInfo result %ld %08X %4.4s\n", result, (unsigned int)result, (char*)&result); return; }

    result = AUGraphNodeInfo(mGraph, eqNode, NULL, &mEQ);
    if (result) { printf("AUGraphNodeInfo result %ld %08X %4.4s\n", result, (unsigned int)result, (char*)&result); return; }

    result = AUGraphNodeInfo(mGraph, reverbNode, NULL, &mReverb);
    if (result) { printf("AUGraphNodeInfo reverb result %ld %08X %4.4s\n", result, (unsigned int)result, (char*)&result); return; }

    // set bus count
    UInt32 numbuses = 2;

    printf("set input bus count %lu\n", numbuses);

    result = AudioUnitSetProperty(mMixer, kAudioUnitProperty_ElementCount, kAudioUnitScope_Input, 0, &numbuses, sizeof(numbuses));
    if (result) { printf("AudioUnitSetProperty result %ld %08X %4.4s\n", result, (unsigned int)result, (char*)&result); return; }

    for (int i = 0; i < numbuses; ++i) {
        // setup render callback struct
        AURenderCallbackStruct rcbs;
        rcbs.inputProc = &renderInput;
        rcbs.inputProcRefCon = &mUserData;

        printf("set AUGraphSetNodeInputCallback\n");

        // set a callback for the specified node's specified input
        result = AUGraphSetNodeInputCallback(mGraph, mixerNode, i, &rcbs);
        if (result) { printf("AUGraphSetNodeInputCallback result %ld %08X %4.4s\n", result, (unsigned int)result, (char*)&result); return; }

        printf("set input bus %d, client kAudioUnitProperty_StreamFormat\n", i);

        // set the input stream format, this is the format of the audio for mixer input
        result = AudioUnitSetProperty(mMixer, kAudioUnitProperty_StreamFormat, kAudioUnitScope_Input, i, &mClientFormat, sizeof(mClientFormat));
        if (result) { printf("AudioUnitSetProperty result %ld %08X %4.4s\n", result, (unsigned int)result, (char*)&result); return; }
    }

    printf("get EQ kAudioUnitProperty_FactoryPresets\n");

    // get the eq's factory preset list -- this is a read-only CFArray array of AUPreset structures
    // host owns the retuned array and should release it when no longer needed
    UInt32 size = sizeof(mEQPresetsArray);
    result = AudioUnitGetProperty(mEQ, kAudioUnitProperty_FactoryPresets, kAudioUnitScope_Global, 0, &mEQPresetsArray, &size);
    if (result) { printf("AudioUnitGetProperty result %ld %08X %4.4s\n", result, (unsigned int)result, (char*)&result); return; }

    /* this code can be used if you're interested in dumping out the preset list
    printf("iPodEQ Factory Preset List:\n");
    UInt8 count = CFArrayGetCount(mEQPresetsArray);
    for (int i = 0; i < count; ++i) {
        AUPreset *aPreset = (AUPreset*)CFArrayGetValueAtIndex(mEQPresetsArray, i);
        CFShow(aPreset->presetName);
    }*/

    printf("set output kAudioUnitProperty_StreamFormat\n");

    // set the output stream format of the mixer
    result = AudioUnitSetProperty(mMixer, kAudioUnitProperty_StreamFormat, kAudioUnitScope_Output, 0, &mOutputFormat, sizeof(mOutputFormat));
    if (result) { printf("AudioUnitSetProperty result %ld %08X %4.4s\n", result, (unsigned int)result, (char*)&result); return; }

    printf("set render notification\n");

    // add a render notification, this is a callback that the graph will call every time the graph renders
    // the callback will be called once before the graph’s render operation, and once after the render operation is complete
    result = AUGraphAddRenderNotify(mGraph, renderNotification, &mUserData);
    if (result) { printf("AUGraphAddRenderNotify result %ld %08X %4.4s\n", result, (unsigned int)result, (char*)&result); return; }

    printf("AUGraphInitialize\n");

    // now that we've set everything up we can initialize the graph, this will also validate the connections
    result = AUGraphInitialize(mGraph);
    if (result) { printf("AUGraphInitialize result %ld %08X %4.4s\n", result, (unsigned int)result, (char*)&result); return; }
    // ---- result here is error code 10868

    CAShow(mGraph);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-21T07:08:59.633

出于某种原因，一些 AU 节点默认采用浮点流格式，而另一些则采用整数。如果流格式不匹配，则会出现此错误。因此，您需要在均衡器节点和混响节点之间添加一个格式转换器：

```
 AudioComponentDescription convertUnitDescription;
convertUnitDescription.componentManufacturer  = kAudioUnitManufacturer_Apple;
convertUnitDescription.componentType          = kAudioUnitType_FormatConverter;
convertUnitDescription.componentSubType       = kAudioUnitSubType_AUConverter;
convertUnitDescription.componentFlags         = 0;
convertUnitDescription.componentFlagsMask     = 0;
result = AUGraphAddNode (graph, &convertUnitDescription, &convertNode);
NSCAssert (result == noErr, @"Unable to add the converted unit to the audio processing graph. Error code: %d '%.4s'", (int) result, (const char *)&result); 
```

确保将转换器节点输入的流格式设置为均衡器节点输出的格式：

```
 AudioStreamBasicDescription eqStreamFormat;
UInt32 streamFormatSize = sizeof(eqStreamFormat);
result = AudioUnitGetProperty(eqUnit, kAudioUnitProperty_StreamFormat, kAudioUnitScope_Output, 0, &eqStreamFormat, &streamFormatSize);
NSAssert (result == noErr, @"Unable to get eq output format. Error code: %d '%.4s'", (int) result, (const char *)&result);

result = AudioUnitSetProperty(convertUnit, kAudioUnitProperty_StreamFormat, kAudioUnitScope_Input, 0, &eqStreamFormat, streamFormatSize);
NSAssert (result == noErr, @"Unable to set converter input format. Error code: %d '%.4s'", (int) result, (const char *)&result); 
```

对转换器的输出做同样的事情，用混响的输入格式设置它。那应该使您的图形初始化并运行，但是如果您设法使混响节点实际执行某些操作，请告诉我，因为它对我不起作用。

# ios - 将数据从视图控制器传递到 Cocos2D 场景

> ID：10478566
> 
> 赞同：4
> 
> 时间：2012-05-07T07:53:32.730
> 
> 标签：ios, objective-c, uiviewcontroller, cocos2d-iphone

在我的游戏中，我将 Cocos2D 用于游戏玩法中的物理，并使用 UIKit 用于菜单屏幕和游戏的其余部分。现在，我必须将数据从 UIViewController 传递到 Cocos2D 场景。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T08:00:23.640

我认为你可以通过为类变量赋值来做到这一点......

代码片段将如下所示...

```
[[CCDirector sharedDirector] replaceScene:[GameScene scene:data]]; 
```

在你的`GameScene.m`

```
@implementation GameScene
@synthesize ...

+ (CCScene *) scene:(Datatype *)data
{
 self.dataReceived = data;

 CCScene * .....
 .......
} 
```

像这样的东西可能会有所帮助..我在 cocos2d-x 中做了这个并且效果很好..对不起语法，因为我没有 X-code.... :)

# events - 在 Vba 中的窗体的终止事件上停止进程

> ID：10478569
> 
> 赞同：1
> 
> 时间：2012-05-07T07:53:56.417
> 
> 标签：events, vba, process, terminate

如何在 vba 中的用户表单的终止事件中停止进程。但我必须保持 Excel 表未关闭。只停止进程。

请朋友帮帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-27T10:46:43.450

怎么样：

```
if ErrCondition then End 
```

# php - 如何将此日期转换为 Ymd (PHP)？

> ID：10478573
> 
> 赞同：4
> 
> 时间：2012-05-07T07:54:23.940
> 
> 标签：php, date

我将此日期作为字符串：10.21.2011，格式为 mm.dd.yyyy

如何将其转换为 Ymd？这是我尝试过的，但它总是给我 1970 年的日期。

```
$date = date('Y-m-d', strtotime($date)); 
```

谢谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-05-07T08:02:10.193

面向对象的方式：

```
$date = DateTime::createFromFormat('m.j.Y', '10.21.2011');
echo $date->format('Y-m-d'); 
```

我的观点是，这是人们应该尝试使用 PHP 学习的方法。

需要 PHP 5.3。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-05-07T07:56:36.120

很可能是因为时期`.`：

```
$date = '10.21.2011';
echo date('Y-m-d', strtotime(str_replace('.', '/', $date))); 
```

**结果：**

```
2011-10-21 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-07T08:03:28.767

> ```
>  $date = '10.21.2011';
> $date = strtotime(str_replace('.','/',$date));
> echo date("Y-m-d",$date); 
> ```

这应该这样做

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-07T08:24:59.590

```
$date = preg_replace('/(\d{2})\.(\d{2})\.(\d{4})/', '$3-$1-$2', $date); 
```

# scala - 库与语言扩展

> ID：10478578
> 
> 赞同：5
> 
> 时间：2012-05-07T07:54:59.837
> 
> 标签：scala, programming-languages

库和语言扩展有什么区别？特别是在 Scala 中。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-07T09:16:36.900

[这是 Scala 语言规范](http://www.scala-lang.org/docu/files/ScalaReference.pdf)。如果你能用本规范描述的语言编写它，那么它就是一个*库*。如果您对本文档描述的语言进行了*无法*用该语言本身编写的更改，则它是一种语言扩展。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-05-07T08:25:11.677

这对 Scala 和 Java 都有效，*库*可以定义为：

> 在计算机科学中，图书馆是用于开发软件的资源的集合。这些可能包括预先编写的代码和子例程、类、值或类型规范。

这意味着（我知道，我简化了很多）库是您将在代码中用于实现算法的例程的*集合。*它们使您无需一次又一次地编写相同的代码（例如，每次必须将字符串打印到控制台时，您都不需要重新发明轮子）。

*语言扩展*不是您将直接从代码中调用（或使用）的代码，而是会改变您**编写**程序的方式的代码。它可能会改变（而且通常会改变）语言本身的语法，而且通常它是编译器的插件。Java 语言中添加的许多特性都是扩展（例如泛型）。

例如 Session-Scala 是由两者组成的扩展：

*   一个管理并行编程的库（您可以直接从代码中调用的代码）。
*   语言扩展：为了使您编写的代码更清晰（有时称为语法糖），它改变了语言的语法，使其库函数的使用更容易（我应该说*好听*吗？）

举个例子看看[这个页面](http://code.google.com/p/session-scala/wiki/Language)。

也就是说，通常使用 Scala 并不真正需要语言扩展（即使它很容易编写，例如比 .NET 语言更容易），因为它的语法。我想到的第一件事是中缀运算符，但总的来说，它用于方法调用的所有语法都使一切都变得简单，*无需 DSL 即可将其用作 DSL*。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-07T08:19:59.070

如果通过语言扩展是指编译器插件，那么它可以在编译时检查或将给定的源代码转换为其他纯 Scala 代码。但是，其他使用相同原始源代码的人也必须安装编译器插件来编译代码。

另一方面，由于 Scala 支持中[缀表示法](http://www.scala-lang.org/node/118)/[后缀表示法](http://docs.scala-lang.org/style/method-invocation.html#suffix_notation)和[符号方法](http://docs.scala-lang.org/style/method-invocation.html#symbolic_methodsoperators)，Scala 中的库可能看起来像一种语言扩展。然而，在编译时并没有做任何特别的事情，尽管自然任何人编译然后运行相同的源代码都需要任何引用的库来这样做。

# javascript - 复制隐藏的东西

> ID：10478582
> 
> 赞同：1
> 
> 时间：2012-05-07T07:55:33.377
> 
> 标签：javascript, html

> **可能重复：**
> [如何向复制的网络文本添加额外信息](https://stackoverflow.com/questions/2026335/how-to-add-extra-info-to-copied-web-text)

我试图复制一个网站上的文本，当我粘贴它时，文本后面出现了一个句子。
这是网站： http: [//www.markrushworth.com/css-center-unordered-list-ulli-based-menu/](http://www.markrushworth.com/css-center-unordered-list-ulli-based-menu/)
尝试复制`#footer{text-align:center;list-style:none}#footer li{display:inline}`
并粘贴到记事本中。

我想知道如何做到这一点。

# windows-phone-7 - 在 WP7 中动态更改图像源时如何避免图像闪烁...？

> ID：10478584
> 
> 赞同：0
> 
> 时间：2012-05-07T07:55:36.100
> 
> 标签：windows-phone-7

在我的项目中，我在媒体元素播放期间更改了图像源，在结束媒体元素后我恢复了以前的图像。更换图片源时，图片会闪烁。如何避免动态更换图片源时的闪烁效果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:33:43.347

我看到了两种方法：

1.  单独创建您的 ImageSource，等待它完成加载，然后才将其分配给您的图像控件。

    例如，如果您正在使用`BitmapSource`，请订阅该`DownloadCompleted`事件，并使用该事件将 分配`BitmapSource`给您的 Image 控件。

2.  模拟双缓冲：创建第二个 Image 控件，将其置于后台，并在加载完成后移除前景 Image 控件。

# ios - UIScrollView 单向分页

> ID：10478586
> 
> 赞同：5
> 
> 时间：2012-05-07T07:55:52.437
> 
> 标签：ios, uiscrollview

> **可能重复：**
> [如何为 UIScrollView 启用方向锁定？](https://stackoverflow.com/questions/861986/how-do-i-enable-directional-lock-for-a-uiscrollview)

有没有办法让 UIScrollView 执行分页，例如仅水平滚动而不是垂直滚动？

换句话说，我希望我的滚动视图在水平滚动时捕捉到页面边界，并在垂直滚动时自由滑动。

当然，简单的解决方案是使用两个 UIScrollView，每个方向一个，但在我的情况下这不是一个可行的解决方案。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-07T09:57:35.233

假设如果水平方向有任何移动，您总是想要捕捉，并且只有在水平偏移没有改变的情况下才能自由滚动。

1.  设置 directionalLockEnabled = YES
2.  将 UIScrollView 包裹在另一个向前触摸的视图中（因为我们将修改滚动视图的框架）
3.  将 UIScrollView 的框架高度设置为 1（为了在处理水平滚动时最小化垂直对齐）
4.  检测当前滑动的方向（in `scrollViewDidScroll:`）

5.  如果 contentOffset 的 x 发生了变化，则设置 pagingEnabled = YES
6.  如果只有 y 的 contentOffset 发生了变化，则设置 pagingEnabled = NO

这将模拟您想要的场景。如果您水平滑动页面将捕捉 - 由于成名高度设置为 1，垂直捕捉将最小化。
仅垂直滑动时，滚动视图将自由滚动。

# objective-c - 创建 UIButton 并将其添加到多个 UIView

> ID：10478588
> 
> 赞同：0
> 
> 时间：2012-05-07T07:56:26.573
> 
> 标签：objective-c, ios, uiview

我想创建一个 UIButton 并将其添加到多个 UIView 上，但它不能像这样工作：

```
UIButton *myBtn = [UIButton buttonWithType:UIButtonTypeCustom];
[myBtn setFrame:CGRectMake(0.0f, 0.0f, 100.0f, 44.0f)];
[myBtn setTitle:@"MyButton" forState:UIControlStateNormal];

UIView *myView1 = [[UIView alloc] init];
[myView1 setFrame:CGRectMake(0.0f, 0.0f, 300.0f, 50.0f)];
[myView1 addSubview:myBtn];

UIView *myView2 = [[UIView alloc] init];
[myView2 setFrame:CGRectMake(0.0f, 0.0f, 200.0f, 100.0f)];
[myView2 addSubview:myBtn]; 
```

任何想法 ？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-07T08:00:29.643

您不能在更多 UIView 上添加相同的实例。当您在第二个视图上添加它时，该按钮将从第一个视图中删除。您需要为每个要添加它的视图创建一个实例。

# java - 如何从一项活动中清除 3 项活动

> ID：10478591
> 
> 赞同：0
> 
> 时间：2012-05-07T07:56:38.770
> 
> 标签：java, android

我有 3 个活动（表格 1 ,2 ,3 ），在用户填写表格 3 并发送后，我想从活动（1 & 2 & 3）中删除信息，但在活动 3 中发送后

（我的意思是如果用户在发送后点击返回，我不想让他在表格 1 & 2 & 3 中找到他的信息

```
.Intent intent = new Intent(getApplicationContext(), Home.class);
 intent.addFlags(FLAG_ACTIVITY_CLEAR_TOP);
 startActivity(intent); 
```

当他在活动 3 之后单击返回时，这是否让我的 1 & 2 & 3 活动没有用户数据？你能帮我么？===================编辑===============

有人告诉我这个但我不明白，你能帮我怎么做吗

```
pass a reference to the previous forms in the last one and call clear on any element 
```

谢谢你们

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:10:29.797

试试下面的代码来解决你的问题：

```
 Intent homeScreen = new Intent(getApplicationContext(), Home.class);
     homeScreen.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
     startActivity(homeScreen); 
```

谢谢...！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:40:27.347

您可以像这样使用 Activity 类的 onActivityResult 方法：

在活动 1 中，使用以下代码开始活动 2：

```
Intent intent = new Intent(this, Activity2.class);
startActivityForResult(intent, 0); 
```

并且在活动 1 中重写 onActivityResult 方法，如下所示：

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    if (requestCode == 0 && resultCode == 20) {
        // Activity 2 is finish, so finish activity 1
        finish();
    }
} 
```

在活动 2 中，执行以下操作：

```
Intent intent = new Intent(this, Activity3.class);
startActivityForResult(intent, 0); 
```

有了这个：

```
 @Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    if (requestCode == 0 && resultCode == 20) {
        // Activity 3 is finish, so finish activity 2
        setResult(20);
        finish();
    }
} 
```

在活动 3 中，当用户提交您的表单时，请使用以下代码：

```
Intent intent = new Intent(this, Home.class);
startActivity(intent);
setResult(20);
finish(); 
```

PS：我建议您不要使用 getApplicationContext() 而是使用“this”或“Activity1.this”

干杯，塞巴斯蒂安

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-07T08:43:13.100

试试这个。。

在您上次发送的活动中，如果您想开始另一个活动或现有活动，请添加此

> 结束（）; Intent intent = new Intent(getApplicationContext(), new NewActivityOrExistingActivityName.class); 意图.addFlags（意图.FLAG_ACTIVITY_CLEAR_TOP）；开始活动（意图）；

这将清除您之前的活动堆栈中的所有活动

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-07T08:55:38.887

```
There are two different ways to do that. 
```

1.  您可以在完成活动后设置结果。这将像链一样工作。例如 1->2->3 假设您在活动 3 中有完成按钮以将结果发送到活动 1，那么您可以在完成按钮单击事件中从活动 3 设置结果（）并通过调用完成（）来完成您的活动。在活动 2 中，您可以在 onActivityResult() 中接收数据，在那里您可以检查结果代码并保存数据，就像您可以从活动 2 到活动 1 一样，发送您的结果。

    设置结果（）；onActivityResult();

2.  对于第二种方法，首先您必须在清单文件中为您的活动 1 设置单一顶部，当您从 3 中保存所有数据时，您最终将返回其中。

    ```
     android:launchMode="singleTop"

          from your activity 3 send broadcast to activity 1.
          to finish all your activity which you have opened after 1 you can use your code.

     Intent intent = new Intent(getApplicationContext(), Home.class);
     intent.addFlags(FLAG_ACTIVITY_CLEAR_TOP);
     startActivity(intent); 
    ```

// 这是你需要在开始你的第一个表单活动之前写的，我认为你的情况是在开始活动 1 之前。

```
BroadcastReceiver form_filled = new BroadcastReceiver() {
    @Override
    public void onReceive(Context context, Intent intent) {
        String received_action = intent.getAction();

        if (received_action.equals("form_filled")) {
            Bundle bundle = intent.getExtras();
            // GET ALL DATA FROM BUNDLE.
        }
    }
};
registerReceiver(form_filled, new IntentFilter("form_filled")); 
```

// 这是您在完成活动之前必须做的事情 3

```
 Intent temp_intent = new Intent();
    temp_intent.setAction("form_filled");
    sendBroadcast(temp_intent);

 Intent intent = new Intent(getApplicationContext(), activity2.class);
 class_obj_class_name class_obj = new class_obj_class_name(); // FILL YOUR DATA IN CLASS OBJ
 intent.putExtra("class_obj", class_obj); //class_obj IS YOUR CLASS OBJECT IN WHICH YOUR INFORMATION SAVED.
 startActivity(intent);

 // IN ACTIVITY 2 ONCREATE
 class_obj = (class_obj_class_name)intent.getSerializableExtra("class_obj");
 // SAME YOU CAN USE TO PASS DATA IN activity3 
```

希望它会工作..抱歉格式化... :)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-08T07:09:48.217

```
.Intent intent = new Intent(getApplicationContext(), Home.class);
 intent.addFlags(FLAG_ACTIVITY_CLEAR_TOP);
 startActivity(intent) 
```

完成:) 谢谢大家，

# java - 如何在 Java/Android 中解析 SVG？

> ID：10478594
> 
> 赞同：4
> 
> 时间：2012-05-07T07:56:41.657
> 
> 标签：java, android, svg

假设我在资产中有一个 .svg 文件，其中包含某处

```
<polygon id="collide" fill="none" points="45,14 0,79 3,87 18,92 87,90 98,84 96,66 59,14"/> 
```

您认为找到该多边形并将其点解析为 Points[] 数组的最佳方法是什么？

谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-07T08:33:57.780

如上面评论中所述，使用 XML 和 XPath 可以轻松完成（无异常检查）：

```
public static Point[] getPoints(String xml) throws Exception {
    DocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();
    Document doc = db.parse(new InputSource(new StringReader(xml)));
    XPath xpath = XPathFactory.newInstance().newXPath();
    XPathExpression expr = xpath.compile("//polygon[@id='collide']/@points");
    String[] pointsAttr = ((String) expr.evaluate(doc, XPathConstants.STRING)).split("\\p{Space}");
    Point[] points = new Point[pointsAttr.length];
    for (int i = 0; i < pointsAttr.length; ++i) {
        String[] coordinates = pointsAttr[i].split(",");
        points[i] = new Point(Integer.valueOf(coordinates[0]), Integer.valueOf(coordinates[1]));
    }
    return points;
} 
```

我不知道您在 Android 上可以使用什么。

# c# - 如何使用 C# 获取 xml .text

> ID：10478595
> 
> 赞同：0
> 
> 时间：2012-05-07T07:56:45.033
> 
> 标签：c#, xml, xmldocument, xmlreader

这是我的 xml 文件

```
<TEST>
  <Project_Name>browser</Project_Name>  

      <Setting BrowserKind ="Firefox" ></Setting>   

      <ExecuteUrl>http://yahoo.com</ExecuteUrl>

  <caseBox>      
     <test1>apple</test1>
  </caseBox>
</TEST> 
```

这个 xml 没有任何意义，它只是一个例子。我只是想做一些练习。

这是我想要得到的三件事：

(1)火狐

(2)http://yahoo.com

(3)苹果

我使用 xmldocument，但失败了，我完全没有得到任何东西。

我怎样才能得到它们？？？

谢谢。

这是我获得 Firefox 的测试

这是我的代码：

```
 XmlDocument XmlDoc = new XmlDocument( );
       XmlDoc.Load(here I PLACE THE LOCATION OF FILE);
       XmlNodeList NodeLists = XmlDoc.SelectNodes("TEST/Setting");

        foreach (XmlNode OneNode in NodeLists)
        {

            String StrAttrValue1 = OneNode.Attributes[" Browserkind "].Value;
            String StrAttrValue2 = OneNode.InnerText;
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:15:51.290

Xml 区分大小写，因此要获得 BrowserKind 属性，“browserkind”将不起作用。它必须与名称完全匹配。

用 xml 文档试试这个：

`String apple = doc.DocumentElement["caseBox"]["test1"].InnerText;`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:07:29.453

如果切换到 LINQ to XML 是一种选择，而不是旧的 Xml API，我会这样做。

```
var doc = XDocument.Parse(@"<TEST>
  <Project_Name>browser</Project_Name>  

      <Setting BrowserKind =""Firefox"" ></Setting>   

      <ExecuteUrl>http://yahoo.com</ExecuteUrl>

  <caseBox>      
     <test1>apple</test1>
  </caseBox>
</TEST>");

var result = (from test in doc.Elements("TEST")
              select new { BrowserKind = test.Element("Setting").Attribute("BrowserKind").Value,
                           ExecuteUrl = test.Element("ExecuteUrl").Value,
                           CaseBox = test.Element("caseBox").Element("test1").Value }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T08:32:42.403

当您编写属性名称“Browserkind”时，似乎有多余的空格..尝试删除它们。我希望它有帮助

# php - 在php的闭包中使用关键字做什么

> ID：10478596
> 
> 赞同：1
> 
> 时间：2012-05-07T07:57:01.123
> 
> 标签：php, function, closures, keyword

我找到了这样的代码，但找不到它的作用

```
$callback = function ($pricePerItem) use ($tax, &$total) {
    $total += $pricePerItem * ($tax + 1.0);
}; 
```

php文档只说

> 'use' 关键字也适用于闭包结构：

但没有解释它实际上做了什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T07:58:57.363

它控制范围。在这种情况下，变量`$tax`和`$total`在匿名函数之外声明。因为它们列在 use 子句中，所以可以从内部访问它们。

& 符号使变量完全共享 - 例如，在闭包内所做的更改将反映在外部范围中。在 的情况下`$tax`，变量是一个副本，因此不能在闭包内更改。

大多数支持匿名函数的其他语言默认只有词法范围，但由于 PHP 已经有其他范围规则，这会产生各种奇怪的情况，破坏向后兼容性。作为一种手段，这个 - 相当尴尬 - 解决方案已经到位。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:08:36.960

检查这个 - [http://php.net/manual/en/functions.anonymous.php](http://php.net/manual/en/functions.anonymous.php)，如果匿名函数想要使用局部变量（对于您的代码，它是`$tax`and `$total`），它应该`use`用来引用它们。

# mobile - 从 J2ME 中的文本字段解析 int 或 double

> ID：10478604
> 
> 赞同：2
> 
> 时间：2012-05-07T07:57:32.287
> 
> 标签：mobile, java-me, midp, lcdui

我在 Java ME 中有两个文本字段，我正在尝试创建第三个字段，它将计算用户输入的前两个文本字段的总数。我知道我会首先将前两个文本字段转换为 Int 值。然后将它们设置为变量以添加并显示在第三个文本字段中。

但是使用下面我正在使用的代码时，我会收到错误消息，还有另一种方法吗？

```
public firstMIDlet()
{
    d = Display.getDisplay(this);

    muaj1 = new TextField("0-11 muaj", "", 6, TextField.ANY);
    int m1Int = Integer.parseInt(TextField.getString());

    muaj2 = new TextField("12-23 muaj", "", 6, TextField.ANY);
    int m2Int = Integer.parseInt(TextField.getString());

    totali = new TextField("TOTALI", "", 7, TextField.ANY);
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T09:59:21.393

您应该发布您遇到的错误和位置。所以大概...

如果返回的值是“”（这是您的情况），则它无法将其转换为整数并返回 NumberFormatException。

如果要将其解析为整数，则应使用 TextField.NUMERIC。

此外，您可能需要启动一个动态计算第三个字段值的线程。

并且每当您调用 TextField.getString() 时都会出错，因为它不是静态方法，并且它不知道应该从哪个 TextField 获取它。

所以，你需要做这样的事情：

```
 private Form f;
    public firstMIDlet() {
        d = Display.getDisplay(this);
        f = new Form("myform);
        muaj1 = new TextField("0-11 muaj","",6,TextField.NUMERIC);
        muaj2 = new TextField("12-23 muaj","",6,TextField.NUMERIC);
        totali = new TextField("TOTALI","",7,TextField.NUMERIC | TextField.UNEDITABLE);
        myform.append(muaj1);
        myform.append(muaj2);
        myform.append(totali);
        startUpdating();
    }

    public void startApp() {
        d.setCurrent(form);
    }

    public void startUpdating() {
        new Thread () {
            public void run() {
                try {
                    int m1Int = Integer.parseInt(muaj1.getString());
                    int m2Int = Integer.parseInt(muaj2.getString());
                    totali.setString((m1Int + m2Int) + "");
                }
                catch (NumberFormatExeption nfe) {}
            }
        }.start();
    } 
```

在哪里

```
 "" + someInt 
```

将转换为字符串。你也可以使用

```
 Integer.toString(m1Int + m2Int) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T09:47:03.103

由于您需要在 textField 中`TextField.ANY`使用整数，因此不要`TextField.NUMERIC`在所有三个 textField 中使用。这将限制用户仅输入数字。但是，您可以向第三个 textField 添加约束`totali.setConstraints(TextField.UNEDITABLE);`

此外阅读[文档](http://java.sun.com/javame/reference/apis/jsr118/javax/microedition/lcdui/TextField.html)以熟悉 j2me。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-10T08:48:40.470

多谢你们，

通过使用 TextField.NUMERIC 并创建一个新的计算函数，我已经使计算工作

```
 public void calc() {
    int a1=0, a2=0, a3=0, a4=0, res=0;
    a1 = Integer.parseInt(muaj1.getString());
    a2 = Integer.parseInt(muaj2.getString());
    a3 = Integer.parseInt(muaj3.getString());
    a4 = Integer.parseInt(muaj4.getString());
    totali.setText((a1 + a2 + a3 + a4) + "");
   } 
```

# java - SLF4J 在使用 Weblogic 进行战争部署时失败

> ID：10478609
> 
> 赞同：1
> 
> 时间：2012-05-07T07:58:36.960
> 
> 标签：java, logging, weblogic-10.x, slf4j

我在 weblogic 10.3.3 上部署了一个 war 文件，但遇到了这个错误。

```
 <May 7, 2012 2:40:10 PM ICT> <Error> <Deployer> <VIEAE747399> <AdminServer> <[STANDBY] ExecuteThread: '1' for queue: 'weblogic.kernel.Default (self-tuning)'> <<WLS Kernel>> <> <> <1336376410618> <BEA-149265> <Failure occurred in the execution of deployment request with ID '1336376405480' for task '2'. Error is: 'weblogic.application.ModuleException: [HTTP:101216]Servlet: "quotation-service" failed to preload on startup in Web application: "service-quotation.war".
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0' defined in URL [zip:C:/Oracle/Middleware/user_projects/domains/a2_domain/servers/AdminServer/tmp/_WL_user/service-quotation/aio4oc/war/WEB-INF/lib/quotation-storage-2_0_0.jar!/config/quotation-storage-context.xml]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in URL [zip:C:/Oracle/Middleware/user_projects/domains/a2_domain/servers/AdminServer/tmp/_WL_user/service-quotation/aio4oc/war/WEB-INF/lib/quotation-storage-2_0_0.jar!/config/quotation-storage-context.xml]: Invocation of init method failed; nested exception is java.lang.ExceptionInInitializerError
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:527)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
...

Caused by: java.lang.ExceptionInInitializerError
at org.hibernate.ejb.Ejb3Configuration.<clinit>(Ejb3Configuration.java:130)
at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:72)
at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:225)
at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:308)
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)
at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)
... 70 more
Caused by: java.lang.IllegalStateException: org.slf4j.LoggerFactory could not be successfully initialized. See also http://www.slf4j.org/codes.html#unsuccessfulInit
at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:282)
at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:248)
at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:261)
at org.hibernate.cfg.Configuration.<clinit>(Configuration.java:197)
... 76 more 
```

在 service-quotation.war 的 WEB-INF/lib 中，包含以下文件

```
log4j-1.2.16.jar
slf4j-api-1.6.1.jar
slf4j-log4j12-1.6.1.jar 
```

我感谢任何建议，提示。

注意：我在 Tomcat 6 上成功部署了这场战争。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T10:08:03.827

谢谢大家，

最后我找到了修复 log4j 错误的解决方案。我将下面的 weblogic.xml 文件添加到 WEB-INF 文件夹中，以指示 weblogic 在 war 文件中使用 slf4j jar。我什至不需要将这些 jar 文件添加到 weblogic 安装文件夹中。

```
<!DOCTYPE weblogic-web-app PUBLIC "-//BEA
Systems, Inc.//DTD Web Application 7.0//EN"
"http://www.bea.com/servers/wls700/dtd/weblogic700-web-jar.dtd">
<weblogic-web-app>
<container-descriptor>
<prefer-web-inf-classes>true</prefer-web-inf-classes>
</container-descriptor>
</weblogic-web-app> 
```

然后，为了克服休眠问题，我将以下行添加到文件 setDomainEnv.cmd 的第一行代码中，以在 weblogic 中启用 hiberante 共享库

```
 set PRE_CLASSPATH=%PRE_CLASSPATH%;C:\Oracle\Middleware\modules\javax.persistence_1.1.0.0_2-0.jar;C:\Oracle\Middleware\modules\com.oracle.jpa2support_1.0.0.0_2-1.jar 
```

（请先检查上面的文件路径是否存在）

希望这对需要的人有所帮助。

# javascript - 为什么我的 jQuery UI CSS 在 JSFiddle 中不起作用？

> ID：10478611
> 
> 赞同：6
> 
> 时间：2012-05-07T07:58:46.793
> 
> 标签：javascript, jquery, css, jquery-ui, jsfiddle

为了回答带有 JavaScript 输入的问题，我经常使用[JSFiddle](http://jsfiddle.net)上的 Demos 。它非常有用，但是当我回答[这个工具提示](https://stackoverflow.com/a/10474362/1219121)问题时，我需要使用[jQuery UI](http://jqueryui.com)。

这种用法的问题是，您可以在框架选择中检查 jQuery UI，但它只加载 js 文件而不加载 css 文件。

所以我决定链接到`http://jqueryui.com/themes/base/jquery.ui.all.css`jQuery UI 官方演示中使用的这个。=> 问题解决了。

真的解决了吗？不？！

因为如果用户以前打开过 jQuery 演示，此链接非常有用，但正如我在工作中看到的那样，如果我只打开小提琴而没有打开过一个演示，它就不起作用。

*   这是为什么？
*   我该如何解决这个问题？
*   我应该如何在 jsFiddles 中为 jQuery 链接 css？此外， [Google 的 CDN](https://developers.google.com/speed/libraries/devguide?hl=de-DE#jqueryUI)仅包含 JavaScript 文件。

*我不想托管自己的 css 文件，只是为了在 jsfiddle 上发布演示......*

PS：我提到这种行为的 JSFiddle 是[http://jsfiddle.net/neysor/r9yfw/](http://jsfiddle.net/neysor/r9yfw/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T09:14:34.850

Neysor，我真诚的道歉——我是个白痴。

我确实看到了同样的问题，但没有得到 CSS，我想我已经找到了问题。

看来 jqueryui.com 可能正在对请求进行引荐来源网址检查，并向域外的人返回 403（这是有道理的）。这就是为什么当您在另一个窗口中查看 UI 元素时它可以工作的原因，因为 CSS 将被缓存。

## 让它工作pl0x！

如果您打开“管理资源”选项卡并删除 'jquery.ui.all' 并替换为 this `http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/base/jquery-ui.css`，那么一切都应该运行良好（或至少更好）。对任何/所有 CSS 资源执行此操作。

我已经[分叉了你的 jsFiddle](http://jsfiddle.net/robcthegeek/Mp64t/)并看到了一些改进。

一旦你有一个完整的解决方案，看看我们是否可以得到这个记录（或者更好，修复！），检查[jsFiddle 文档](https://github.com/jsfiddle/jsfiddle-docs-alpha)可能是值得的

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:35:27.277

jsfiddle 文档在其“添加资源”部分中包含此内容：

> 警告：jsFiddle 正在通过扩展识别资源的类型。如果您想使用动态资源，请添加一个虚拟 GET 变量，即 [http://example.com/download/js/dynamically.js?somevar=somevalue&dummy=.js](http://example.com/download/js/dynamically.js?somevar=somevalue&dummy=.js)。这将欺骗 jsFiddle 将其识别为 JavaScript 资源。

不能完全预测您的问题或解决方法，但值得一试（使用`dummy=.css`）。

# c# - 在 wp7 中发布请求

> ID：10478620
> 
> 赞同：1
> 
> 时间：2012-05-07T07:59:23.343
> 
> 标签：c#, windows-phone-7

我想审查一笔交易。所以我想发布一个请求。有人可以帮我发布带有 6 个参数的请求吗

网络服务是：[http ://www.xxxxxx.in/rest/rate](http://www.xxxxxx.in/rest/rate)

参数有：userName、email、rating、comment、dealId、key、mobile no

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:21:41.787

RestSharp库为您[提供](http://restsharp.org/)了一种执行 Rest 请求的简单方法......而且他们的首页也有很多示例！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:23:54.380

我会尝试这样的事情：

```
void Post()
{
     WebClient client = new WebClient(); 
     client.UploadStringCompleted += new UploadStringCompletedEventHandler(client_UploadStringCompleted); 
     client.Headers["Content-Type"] = "application/x-www-form-urlencoded"; 
     client.Encoding = Encoding.UTF8; 

     client.UploadStringAsync(new Uri("http://www.example.com/api/path/"), "POST", "userName=userName&email=email&rating=rating&comment=comment&dealid=dealid&key=key&mobileno=mobileno"); 
} 

void client_UploadStringCompleted(object sender, UploadStringCompletedEventArgs e) 
{ 
     MessageBox.Show(e.Result); 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T08:30:02.863

有例子：

```
string uri = "http://www.xxxxxx.in/rest/rate";

//data to post
string data = "userName={0}&email={1}&rating={2}&comment={3}&dealId={4}&key={5}&mobile={6}";
//fill data
data.Format(userName, email, ratings, comment, dealId, key, mobile);
//encode
byte[] byteArray = Encoding.UTF8.GetBytes (data);
//create request
HttpWebRequest request = WebRequest.Create(uri);
//set method
request.Method = "POST";
//set data length
request.ContentLength = byteArray.Length;
request.ContentType = "application/x-www-form-urlencoded";
//get stream and write into
Stream dataStream = request.GetRequestStream ();
dataStream.Write (byteArray, 0, byteArray.Length);

//do request    
IAsyncResult asyncResult = request.BeginGetResponse(p =>
{
    WebResponse response = request.EndGetResponse(p);
    //call callback when get response
    if (callback != null)
        callback(response.GetResponseStream());
}, null); 
```

您需要设置回调委托`Action<Stream> callback`

# php - Activecollab 模块：未捕获 RangeError：超出最大调用堆栈大小

> ID：10478621
> 
> 赞同：0
> 
> 时间：2012-05-07T07:59:23.730
> 
> 标签：php, ajax, content-management-system, project, activecollab

我正在研究 ActiveCollab 模块，并面临一个前所未有的严重问题。当我开始使用简单的 index.tpl 文件（带有静态文本）开发一个简单的模块时，activecollab 允许成功安装它并在安装后单击项目中的某个位置而不刷新页面时进行所有操作，但是当我通过 F5 刷新页面时全部正文消失并且在activecollab中没有任何作用，我在Firefox中执行该页面，它在firebug中显示：

```
Firefox:
to much recursion 
to much recursion 
to much recursion 
to much recursion 
....
.... 
```

当我在 Chrome 中运行它以识别问题时，它会显示如下内容：

```
Chrome:
Uncaught RangeError: Maximum call stack size exceeded
App.Wireframe.PageTitle.set
App.Wireframe.PageTitle.set
App.Wireframe.PageTitle.set
App.Wireframe.PageTitle.set
App.Wireframe.PageTitle.set
....
.... 
```

我检查了 activecollab 日志文件，但没有发现任何错误，如果有人帮助我解决这个问题，对我来说真的很棒。

**更新帖子：** 根据要求我的控制器代码；下面是我的控制器：

```
<?php

 AngieApplication::useController('backend', ENVIRONMENT_FRAMEWORK_INJECT_INTO);

  class PeopleCommissioningRequestController extends BackendController {

       function __construct($parent, $context = null) {
          parent::__construct($parent, $context);
       } 

        function __before() {
          parent::__before();
        } 

        function index() {
                 $this->response->assign( array('data' => 'test') );
        }

 }
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T05:45:23.760

最后我解决了上面的问题..那只是因为模块名称太长..我认为这是activecollab错误..

@llija 非常感谢您的帮助..

# iphone - AVPlayer 在后台播放视频

> ID：10478622
> 
> 赞同：2
> 
> 时间：2012-05-07T07:59:26.897
> 
> 标签：iphone, objective-c

我正在使用 AVPlayer 在我的应用程序中播放视频，现在我想让视频在后台模式下播放。

这就是我放入的内容`- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions`：

```
[[AVAudioSession sharedInstance] setDelegate: self];    
[[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayback error:nil]; 
```

我还添加到 plist：必需的背景模式-> 应用程序播放音频

我也添加了这个：

```
-(void)viewDidAppear:(BOOL)animated{
    [super viewDidAppear:animated];
    [[UIApplication sharedApplication] beginReceivingRemoteControlEvents];
    [self becomeFirstResponder];
}

- (BOOL)canBecomeFirstResponder {
    return YES;
}

- (void)remoteControlReceivedWithEvent:(UIEvent *)event {
    switch (event.subtype) {
        case UIEventSubtypeRemoteControlTogglePlayPause:
            NSLog(@"4");
            break;
        case UIEventSubtypeRemoteControlPlay:
            break;
        case UIEventSubtypeRemoteControlPause:
            NSLog(@"3");
            break;
        case UIEventSubtypeRemoteControlNextTrack:
            NSLog(@"2");
            break;
        case UIEventSubtypeRemoteControlPreviousTrack:
            NSLog(@"1");
            break;
        default:
            break;
    }
} 
```

当我将应用程序移到后台并按下按钮时，nslog 会打印到控制台

我需要添加其他东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:07:14.320

只需添加`[[UIApplication sharedApplication] beginReceivingRemoteControlEvents];`和其他一些调整。都[在这里](https://stackoverflow.com/a/3330913/932011)。

# sql - 我如何检查同义词是否已经存在然后不要创建同义词

> ID：10478625
> 
> 赞同：14
> 
> 时间：2012-05-07T07:59:38.163
> 
> 标签：sql, oracle, synonym

我正在使用 Oracle SQL developer 2.1 创建同义词。

```
CREATE OR REPLACE SYNONYM "ETKS_PR_RW"."SQ_CLDOS_ATCHMNT_ID" 
    FOR "CLDOS_ONLINE_DBA"."SQ_CLDOS_ATCHMNT_ID"; 
```

我如何检查该同义词是否已经存在，如果存在则不要创建同义词。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-05-07T09:44:49.283

当您使用`replace`关键字时，无需先检查同义词是否存在。您将覆盖以前名称存在的任何同义词。

谨慎使用的唯一原因`replace`是您可能有同名的不同同义词。如果您的数据库组织良好，则不应该发生这种情况。您应该始终知道所有对象是什么以及同义词指向的位置。

但是，如果您确实想要，有几个选项：

1.  删除`replace`. 如果同义词已经存在并且不会被覆盖，则该语句将引发错误。
2.  查询数据字典，因为您在多个模式中[`all_synonyms`](http://docs.oracle.com/cd/E11882_01/server.112/e25513/statviews_2100.htm#REFRN20273)似乎是最好的选择。

    ```
    select *
      from all_synonyms
     where owner = 'ETKS_PR_RW'
       and synonym_name = 'SQ_CLDOS_ATCHMNT_ID'; 
    ```

如果您想将它们组合成一个块，那么您可以执行以下操作：

```
declare

   l_exists number;

begin
   -- check whether the synonym exists
   select 1
     into l_exists
     from all_synonyms
    where owner = 'ETKS_PR_RW'
      and synonym_name = 'SQ_CLDOS_ATCHMNT_ID';

-- an error gets raise if it doesn-t.
exception when no_data_found then
   -- DDL has to be done inside execute immediate in a block.
   execute immediate 'CREATE OR REPLACE SYNONYM ETKS_PR_RW.SQ_CLDOS_ATCHMNT_ID 
                   FOR CLDOS_ONLINE_DBA.SQ_CLDOS_ATCHMNT_ID';

end;
/ 
```

在一个稍微分开的不*请不要*引用你的对象名称。Oracle 可以有 cased 对象，但它非常非常不值得麻烦。所有对象都将自动大写，因此您不需要`"`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:04:05.900

我认为如果您删除了 OR REPLACE 关键字，它会提示您它存在

或者您可以使用这些表创建 pl/sql 代码

```
desc dba_synonyms
desc user_synonyms 
```

使其更加灵活和定制

假设 Oracle PL/SQL

```
DECLARE
    src_schema    VARCHAR2(256) := 'EMPIK_DYNAMO_01';
    target_schema VARCHAR2(256) := 'EMPIK_PORTAL_BETA_1';
    CURSOR src_objects IS
      SELECT table_name AS object_name
      FROM   all_all_tables
      WHERE  owner = src_schema
      UNION
      SELECT sequence_name AS object_name
      FROM   all_sequences
      WHERE  sequence_owner = src_schema;
BEGIN
    FOR next_row IN src_objects LOOP
        BEGIN
            EXECUTE IMMEDIATE 'CREATE or REPLACE SYNONYM '|| target_schema|| '.'
            ||
            next_row.object_name|| ' for '|| src_schema|| '.'||
            next_row.object_name;
        EXCEPTION
            WHEN OTHERS THEN
              dbms_output.Put_line('ERROR WHILE CREATING SYNONYM FOR: '
                                   || next_row.object_name);

              dbms_output.Put_line(SQLERRM);
        END;
    END LOOP;
END;

/ 
```

在这里为您的问题定制

```
BEGIN
    EXECUTE IMMEDIATE 'CREATE or REPLACE SYNONYM ETKS_PR_RW.SQ_CLDOS_ATCHMNT_ID FOR CLDOS_ONLINE_DBA.SQ_CLDOS_ATCHMNT_ID';  
EXCEPTION
    WHEN OTHERS THEN
      dbms_output.Put_line ('ERROR WHILE CREATING SYNONYM FOR: SQ_CLDOS_ATCHMNT_ID');
      dbms_output.Put_line (SQLERRM);
END; 
```

# javascript - Rails 3.2 使用 Ajax 更新操作。

> ID：10478627
> 
> 赞同：0
> 
> 时间：2012-05-07T07:59:48.193
> 
> 标签：javascript, ruby-on-rails, ajax, ruby-on-rails-3

我正在尝试使用 Ajax 为 Rails 3.2 应用程序创建更新表单。我是 Ajax 初学者，所以我需要一些指导。我想要实现的是：

```
1\. The user presses a button and a form slides down from the top in a div. 
2\. The user updates the form and presses "update".
3\. The parameters from the updated form is sent and saved to the database, and 
4\. the form slides up again without making the user leave the page. 
```

目前的表格如下所示：

```
<%= form_for(@user, :remote => true) do |f| %>
  <%= render 'shared/error_messages' %>
  <%= f.fields_for :oak do |oak| %>
    <%= oak.text_field :name, :placeholder => "Name" %>
  <% end %>
  <%= f.fields_for :energy_meter do |energy_meter| %>
    <%= energy_meter.text_field :energy_meter_id, :placeholder => "Id" %>
  <% end %>
  <%= f.submit "Update!", "data-role" => "button", "data-theme" => "b", "return" => "false" %>
<% end %> 
```

我有一个当前看起来像这样的更新操作：

```
def update
  @user = current_user
  @user.update_attributes(params[:user])
end 
```

它位于我的用户控制器中。

我还有一个 update.js.erb 文件，目前看起来像这样：

```
$(window.location.replace("/")) 
```

我不知道我应该把 update.js.erb 做什么我想做的事，也不知道如何发送参数，它目前只重定向到 `/`. 我还想知道我应该在更新操作中的位置和内容，它当前位于 UsersController 中，但它应该位于我的表单所在的 PagesController 中吗？

任何提示或指导都会很棒！

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T09:31:23.140

将以下代码添加到`aaplication.js`

```
$("#BUTTON_ELEMENT").live("click", function() {
    $("#FORM_ELEMENT").slideDown();
});

$("#FORM_ELEMENT").live("submit", function() {
    var _form = $(this);
    $.post(_form.attr("action"), _form.serialize(), function() { _form.slideUp(); }, "script");
    return false;
}); 
```

出于测试目的，添加一些警报`update.js.erb`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T04:55:02.660

我不确定这是否适用于这种情况，但如果这就像使用 jquery 创建一个搜索字段......我认为你应该将此代码放在 update.js.erb 中？

```
$('#DIV_ID').html('<%= escape_javascript(render("update")) %>'); 
```

其中“update”是包含表单的 _update.html.erb 文件，“#DIV_ID”是您希望呈现表单的 div。

也许这个 railscast 可以比我更好地解释它，希望它有所帮助。 [http://railscasts.com/episodes/240-search-sort-paginate-with-ajax?autoplay=true](http://railscasts.com/episodes/240-search-sort-paginate-with-ajax?autoplay=true)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T09:52:06.110

您应该将`respond_to`块添加到控制器并添加一个`format.js`，以便控制器随后呈现`update.js.erb`文件。

你不需要这一行：

```
$(window.location.replace("/")) 
```

`AJAX`默认情况下，URL 在调用时不会更改。

# android - 谷歌的 FragmentTabsPager.java

> ID：10478628
> 
> 赞同：0
> 
> 时间：2012-05-07T07:59:51.000
> 
> 标签：android

我想使用[谷歌的 FragmentTabsPager.java](http://developer.android.com/resources/samples/Support4Demos/src/com/example/android/supportv4/app/FragmentTabsPager.html)创建一个示例应用程序，但我找不到这段代码的任何 XML，任何人都知道这个[FragmentTabsPager.java 的布局文件是什么？](http://developer.android.com/resources/samples/Support4Demos/src/com/example/android/supportv4/app/FragmentTabsPager.html). 或任何指南来实现我的示例应用程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-24T09:42:33.220

我找到了该代码的布局。

```
<TabHost 
            android:id="@android:id/tabhost"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            >
            <LinearLayout 
                android:orientation="vertical"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                >

                <TabWidget 
                    android:id="@android:id/tabs"
                    android:orientation="horizontal"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:weightSum="0"
                    />

                <FrameLayout 
                    android:id="@android:id/tabcontent"
                    android:layout_width="0dp"
                    android:layout_height="0dp"
                    android:layout_weight="0"
                    />

                <android.support.v4.view.ViewPager
                    android:id="@+id/viewpager"
                    android:layout_width="fill_parent"
                    android:layout_height="0dp"
                    android:layout_weight="1"
                    android:padding="10dp"
                    />

            </LinearLayout>
        </TabHost> 
```

它运作良好。

# vb.net - VB.NET 通过 PictureBox 移动动态无边框表单

> ID：10478629
> 
> 赞同：1
> 
> 时间：2012-05-07T07:59:56.927
> 
> 标签：vb.net, dynamic, picturebox, gif, playback

从我添加的动态表格中。我意识到我无法让 gif 动画在表单的背景中运行。所以我想通过在动态表单上嵌入一个图片框来尝试一下，但它不起作用，因此我在这里。

所以在我的主窗体 (Form1) 上，我有 2 个按钮、openfiledialog 和一个图片框。当您单击 button1 时，您会浏览要在图片框中显示的图像，当您按下 button2 时，您可以从下面的代码中看到。它会打开一个新表单，但我想要的是让图片框显示在整个表单上，而且还将我通过 Form1 从我的主表单中选择的 gif 动画播放到动态嵌入的表单上，但在图片框中。现在我不能将它用作背景图像，所以我将它用作图像，但我现在的问题是我无法移动每个无边界表单，也无法关闭每个表单。

无论如何，这是我的代码。

```
Private Sub Button2_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button2.Click
    WidgetForm = New Form()
    WidgetForm.ShowInTaskbar = False
    WidgetForm.TopMost = True
    WidgetForm.FormBorderStyle = Windows.Forms.FormBorderStyle.None
    WidgetForm.ContextMenuStrip = ContextMenuStrip2
    WidgetForm.Show()

    Dim WidgetBG As PictureBox = New PictureBox()
    sizew = Me.TextBox1.Text
    sizey = Me.TextBox2.Text
    WidgetBG.Size = New System.Drawing.Size(sizew, sizey)
    WidgetBG.Image = Image.FromFile(Me.OpenFileDialog1.FileName)
    WidgetBG.Location = New System.Drawing.Point(0, 0)
    WidgetBG.Visible = True
    WidgetForm.Controls.Add(WidgetBG)

    opac = Me.TextBox3.Text
    WidgetForm.Opacity = opac
    WidgetForm.Size = New System.Drawing.Size(sizew, sizey)

    'Add the event here
    AddHandler WidgetBG.MouseDown, AddressOf WidgetBG_MouseDown
    AddHandler WidgetBG.MouseMove, AddressOf WidgetBG_MouseMove
    AddHandler WidgetBG.MouseUp, AddressOf WidgetBG_MouseUp
    AddHandler WidgetBG.DoubleClick, AddressOf WidgetBG_DoubleClick
End Sub

Private Sub WidgetBG_MouseDown(ByVal sender As Object, ByVal e As System.Windows.Forms.MouseEventArgs)
    If e.Button = Windows.Forms.MouseButtons.Left Then
        drag = True
        mousex = Windows.Forms.Cursor.Position.X - CType(sender, Form).Left
        mousey = Windows.Forms.Cursor.Position.Y - CType(sender, Form).Top
    End If

    Timer1.Enabled = True
    Timer1.Interval = 2500
End Sub

Private Sub WidgetBG_MouseMove(ByVal sender As Object, ByVal e As System.Windows.Forms.MouseEventArgs)
    If drag Then
        CType(sender, Form).Top = Windows.Forms.Cursor.Position.Y - mousey
        CType(sender, Form).Left = Windows.Forms.Cursor.Position.X - mousex
    End If
End Sub

Private Sub WidgetBG_MouseUp(ByVal sender As Object, ByVal e As System.Windows.Forms.MouseEventArgs)
    Timer1.Enabled = False
    drag = False
End Sub

Private Sub WidgetBG_DoubleClick(ByVal sender As Object, ByVal e As System.Windows.Forms.MouseEventArgs)
    CType(sender, Form).Close()
End Sub 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T23:54:21.710

这是因为您处理来自 PictureBox 而不是表单本身的事件，因此您可以更改事件处理程序，如下所示

```
Private Sub WidgetBG_MouseDown(ByVal sender As Object, ByVal e As System.Windows.Forms.MouseEventArgs)
    If e.Button = Windows.Forms.MouseButtons.Left Then
        drag = True

        'Use FindForm() here to get your parent form
        'You can also use CType(sender, PictureBox).Parent.Left which makes more sense
        mousex = Windows.Forms.Cursor.Position.X - CType(sender, PictureBox).FindForm().Left
        mousey = Windows.Forms.Cursor.Position.Y - CType(sender, PictureBox).FindForm().Top
    End If

    Timer1.Enabled = True
    Timer1.Interval = 2500
End Sub

Private Sub WidgetBG_MouseMove(ByVal sender As Object, ByVal e As System.Windows.Forms.MouseEventArgs)
    If drag Then
        CType(sender, PictureBox).FindForm().Top = Windows.Forms.Cursor.Position.Y - mousey
        CType(sender, PictureBox).FindForm().Left = Windows.Forms.Cursor.Position.X - mousex
    End If
End Sub

Private Sub WidgetBG_MouseUp(ByVal sender As Object, ByVal e As System.Windows.Forms.MouseEventArgs)
    Timer1.Enabled = False
    drag = False
End Sub

Private Sub WidgetBG_DoubleClick(ByVal sender As Object, ByVal e As System.Windows.Forms.MouseEventArgs)
    CType(sender, PictureBox).FindForm().Close()
End Sub 
```

# php - 显示对话框时出现错误复选框

> ID：10478637
> 
> 赞同：0
> 
> 时间：2012-05-07T08:00:36.950
> 
> 标签：php, javascript, jquery, arrays

我有一个复选框数组

```
<input id="c1" type="checkbox" name="hour[]" class="create-daily" value="1" /><br />
<input id="c2" type="checkbox" name="hour[]" class="create-daily" value="2" /><br />
<input id="c3" type="checkbox" name="hour[]" class="create-daily" value="3" /><br /> 
```

这是我的 JavaScript

```
$(".create-daily").live("click",function(){
if ($( ".create-daily" ).attr("checked")){
$( "#form_input" ).dialog( "open" );
    }
}); 
```

当我选中第一个复选框时，会显示对话框，当我选中第一个复选框然后选中第二个复选框时，会显示第二个复选框...

...但是当我在没有选中第一个复选框的情况下选中第二个复选框时，对话框没有显示，你能帮帮我吗？

当我选中其中一个复选框（例如复选框编号 3）而不选中第一个复选框时，如何显示对话框？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:08:07.897

```
$(".create-daily").live("click",function(){
    if ($(this).is(":checked")){
        $( "#form_input" ).dialog( "open" );
    }
}); 
```

***[演示](http://jsfiddle.net/NFMDW/1/)***

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:07:22.717

使用**它**来获取实际点击的元素：

```
$(".create-daily").live("click",function(){
    if ($(this).attr("checked")){
        $( "#form_input" ).dialog( "open" );
    }
}); 
```

# iphone - 我正在尝试使用 MWFeedParser 显示 MBProgressHUD 的进度

> ID：10478638
> 
> 赞同：1
> 
> 时间：2012-05-07T08:00:47.427
> 
> 标签：iphone, ios, ios5, progress-bar, mbprogresshud

您好，在过去的一个小时里，我一直在尝试使用环形确定来显示进度，但我似乎无法让它做我想做的事情。它要么在我的表格视图加载内容之前消失，要么永远不会完全加载到进度条。

在我的 viewDidLoad 方法中，我在开始运行 MWFeedParser 时显示它，如下所示：

```
- (void)viewDidLoad {

[super viewDidLoad];

// Parse
NSURL *feedURL = [NSURL URLWithString:@"http://myurl.com"];
feedParser = [[MWFeedParser alloc] initWithFeedURL:feedURL];
feedParser.delegate = self;
feedParser.feedParseType = ParseTypeFull; // Parse feed info and all items
feedParser.connectionType = ConnectionTypeAsynchronously;
[feedParser parse];

// Display HUD
[super viewDidLoad];

HUD = [[MBProgressHUD alloc] initWithView:self.view];
HUD.labelText = @"Loading";
HUD.detailsLabelText = @"Just relax";
HUD.mode = MBProgressHUDModeAnnularDeterminate;
[self.view addSubview:HUD];

[HUD showWhileExecuting:@selector(feedParserDidStart:) onTarget:self withObject:nil animated:YES];

} 
```

在我调用我的解析器之后，它会运行 5 个不同的步骤，我想在它通过这些步骤时更新我的​​ HUD，但我似乎无法做到这一点。接下来的步骤是：

```
- (void)feedParserDidStart:(MWFeedParser *)parser {
NSLog(@"Started Parsing: %@", parser.url);

float stepsDone = 0.20;    
HUD.progress = stepsDone;

}

- (void)feedParser:(MWFeedParser *)parser didParseFeedInfo:(MWFeedInfo *)info {
NSLog(@"Parsed Feed Info: “%@”", info.title);

float stepsDone = 0.40;    
HUD.progress = stepsDone;

}

- (void)feedParser:(MWFeedParser *)parser didParseFeedItem:(MWFeedItem *)item {
NSLog(@"Parsed Feed Item: “%@”", item.title);
if (item) [parsedItems addObject:item]; 

float stepsDone = 0.60;    
HUD.progress = stepsDone;
}

- (void)feedParserDidFinish:(MWFeedParser *)parser {
NSLog(@"Finished Parsing%@", (parser.stopped ? @" (Stopped)" : @""));
[self updateTableWithParsedItems];

float stepsDone = 0.80;    
HUD.progress = stepsDone;
}

- (void)feedParser:(MWFeedParser *)parser didFailWithError:(NSError *)error {
NSLog(@"Finished Parsing With Error: %@", error);
if (parsedItems.count == 0) {
    // Failed but some items parsed, so show and inform of error

}

//Update Table
[self updateTableWithParsedItems];
}

- (void)updateTableWithParsedItems {
self.itemsToDisplay = [parsedItems sortedArrayUsingDescriptors:
                       [NSArray arrayWithObject:[[NSSortDescriptor alloc] initWithKey:@"date" 
                                                                            ascending:NO] ]];
self.tableView.userInteractionEnabled = YES;
self.tableView.alpha = 1;
[self.tableView reloadData];

float stepsDone = 1.0;    
HUD.progress = stepsDone;

[HUD hide:YES afterDelay:1];
} 
```

我将不胜感激任何帮助！非常感谢你！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-08-27T07:31:28.177

我想我得到了 Year3000 的答案

```
self.HUD = [[MBProgressHUD alloc] initWithView:self.view];
[self.view addSubview:self.HUD];
self.HUD.mode = MBProgressHUDModeDeterminateHorizontalBar;
self.HUD.delegate = self;
[self.HUD show:YES]; 
```

//捕捉你的进度并将其设置为HUD

```
- (void)Uploadprogress:(float)progress
{
    self.HUD.progress = progress;
} 
```

这对我有用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:11:47.177

**[MBProgressHUD](https://github.com/jdg/MBProgressHUD)**将通过一个很好的示例帮助您。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-07-23T12:45:30.327

MBProgressHUDMode**环形确定**！

```
MBProgressHUD * hud = [MBProgressHUD HUDForView:self.view];

hud.mode = MBProgressHUDModeAnnularDeterminate 
```

然后更新您的 hud 值：（*值 0.0 到 1.0）*

```
- (void)Uploadprogress:(float)progress
{
    self.HUD.progress = progress;
} 
```

# jquery - JQueryMobile Datepicker 错误的周数

> ID：10478640
> 
> 赞同：1
> 
> 时间：2012-05-07T08:00:51.957
> 
> 标签：jquery, jquery-ui, jquery-mobile, jquery-ui-datepicker

我一直在尝试 JqueryMobile 的 Datepicker，发现 UI 中显示的周数是错误的。但是 JQuery Datepicker 的桌面版本显示了正确的日期。

JAN 的第一周显示为第 52 周，应该是第 1 周。

有人遇到过这个问题吗？？

我的代码

```
//bind to pagecreate to automatically enhance date inputs   
$( "input[type='date'], input:jqmData(type='date')", this ).each(function(){
    $(this).after( $( "<div />" ).datepicker({ altField: "#" + $(this).attr( "id" ), showOtherMonths: false, showWeek: true, onSelect: function(dateText, inst) { 
alert(dateText);}));
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:27:32.957

Hiya**演示** [http://jsfiddle.net/ZuaLs/](http://jsfiddle.net/ZuaLs/)

请试试这个。`var week=$.datepicker.iso8601Week(new Date(dat));`

**jQuery代码**

```
$('#datepicker').datepicker({
            onSelect: function(dat,inst){
                        var week=$.datepicker.iso8601Week(new Date(dat));
                        $('#datepicker').val($.datepicker.formatDate('yy-',new Date(dat))+(week<10?'0':'')+week)
                            alert("Weeek number ==> " + week);
                    }
});​ 
```

# interface - 我可以键入断言一部分接口值吗？

> ID：10478641
> 
> 赞同：23
> 
> 时间：2012-05-07T08:00:53.433
> 
> 标签：interface, type-conversion, go, type-assertion

我正在尝试从 a 键入 assert`[]Node`到`[]Symbol`. 在我的代码中，`Symbol`实现了`Node`接口。

这是一些周围的代码：

```
 43 func applyLambda(args []Node, env Env) Node {
 44     if len(args) > 2 {
 45         panic("invalid argument count")
 46     }
 47     fixed, rest := parseFormals(args.([]Symbol))
 48     return Func{
 49         Body: args[1],
 50         FixedVarNames: fixed,
 51         RestVarName: rest,
 52     }
 53 } 
```

这是我得到的错误：

```
./builtins.go:47: invalid type assertion: args.([]Symbol) (non-interface type []Node on left) 
```

我确信这是有充分理由的。最好的方法是什么？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-05-07T08:49:10.530

说`x.(T)`变量`x`应该是接口类型的，因为只针对接口类型的变量，动态类型是不固定的。虽然`Node`是一个接口，`[]Node`但不是。切片是一种独特的非接口类型。因此，假设一部分接口值也是一个接口是没有意义的。

类型`Node`在您的代码中有明确的定义，因此是一个接口。您已经为其指定了方法列表。类型`[]Node`不是这样的。它定义了哪些方法？

我明白你是从哪里来的。这可能是一个有用的捷径，但没有任何意义。这有点像期望`syms.Method()`在`syms`' 类型为 '`[]Symbol`和'`Method`为' 时工作`Symbol`。

用此代码替换第 47 行可以满足您的要求：

```
symbols := make([]Symbol, len(args))
for i, arg := range args { symbols[i] = arg.(Symbol) }
fixed, rest := parseFormals(symbols) 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-05-07T08:38:42.623

Go 不允许这样做。您需要单独转换`Node`为`Symbol`。

`[]Node`不允许它的原因是它`[]Symbol`具有不同的表示形式，因此转换需要为`[]Symbol`.

# iphone - 在 uinavigationbar iphone 上设置自定义后退按钮，有时会导致后退按钮在顶部

> ID：10478643
> 
> 赞同：1
> 
> 时间：2012-05-07T08:00:58.167
> 
> 标签：iphone, objective-c, ios, ipad

您好，我已经检查了一些帖子，但找不到有关我的问题的任何有用信息。我已经成功添加了一个按钮，但有时后退按钮会出现在顶部。

我的代码：

```
self.navigationItem.leftBarButtonItem = nil;
self.navigationItem.backBarButtonItem = nil;
[self.navigationItem setHidesBackButton:YES];

UIButton *btn = [UIButton backButton];
[btn addTarget:self action:@selector(popView) forControlEvents:UIControlEventTouchUpInside];
UIBarButtonItem *barBtn = [[UIBarButtonItem alloc] initWithCustomView:btn];
self.navigationItem.leftBarButtonItem = barBtn;
[barBtn release]; 
```

结果：

![在此处输入图像描述](../Images/762a425644eb1f9997ff2eaaeac822ac.png)

所以也许有人有一些类似的问题或者知道我做错了什么？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:27:24.297

嗨，lukas，您可以使用下面的代码，因为它对我来说很好......

UINavigationBar *bar; UIImage *buttonImage = [UIImage imageNamed:@"bak.png"]; UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];

```
 [button setImage:buttonImage forState:UIControlStateNormal];
    [button addTarget:self action:@selector(popView) forControlEvents:UIControlEventTouchUpInside];

    button.frame = CGRectMake(0, 0, buttonImage.size.width, buttonImage.size.height);

    customBarItem = [[UIBarButtonItem alloc] initWithCustomView:button];
    self.navigationItem.leftBarButtonItem=customBarItem;
    [bar addSubview:button]; 
```

如果您需要任何澄清，请告诉我......

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:04:00.483

您需要更改一些代码...我在这里放了一些代码。

```
 UIButton *leftButton = [UIButton buttonWithType:UIButtonTypeCustom]; 
            [leftButton setUserInteractionEnabled:NO];
            [leftButton setImage:[UIImage imageNamed:@"leftbutton.png"] forState:UIControlStateNormal];    
            leftButton.frame = CGRectMake(0, 0, 30, 30);
            [leftButton addTarget:self action:@selector(youraction:) forControlEvents:UIControlEventTouchUpInside];        
            self.navigationItem.leftBarButtonItem = [[UIBarButtonItem alloc] initWithCustomView:leftButton];

       [leftButton release]; 
```

希望，这可以帮助你..

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-07T08:04:10.967

self.navigationItem.hidesBackButton = 是；

应该能解决你的问题

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-21T07:06:44.817

最后我找到了它是什么。导航控制器和呈现视图控制器存在一些问题，所以在修复它们之后，这个错误就消失了。

# windows-7 - 在 Windows7 和 IE8 中设计

> ID：10478646
> 
> 赞同：0
> 
> 时间：2012-05-07T08:01:06.387
> 
> 标签：windows-7, internet-explorer-8

我设计了一个可以在 Windows XP (IE8) 中正常显示的网页。但是，当我在 Windows7(IE8) 中测试此页面时，此页面无法正常显示。我想知道它是否与Windows7主题有关。我能做些什么来适应我的设计。请帮我。

带着敬意，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:09:40.230

关于 css 存在一些差异。当我使用两个 div 时，第一个向左浮动，第二个溢出：隐藏；宽度：自动；Windows 7 上的 IE8 正确呈现它，而 xp sp2 上的 IE8 呈现第二个 div，使其宽度不正确。奇怪！

并且 MSIE 8 至少有 6 个版本，并且由于后期版本中的错误修复，布局可能存在差异。[Microsoft 的支持站点](http://support.microsoft.com/kb/969393)上提供了版本列表

Windows XP 上的 MSIE8 版本为 8.00.6001.18702，Windows 7 上的版本为 8.00.7600.16385。

# javascript - 调整大小后获取实际图像大小

> ID：10478649
> 
> 赞同：17
> 
> 时间：2012-05-07T08:01:28.850
> 
> 标签：javascript, jquery, css

我有一个充满缩略图的页面，用 css 调整大小`150x150`，当我单击缩略图时，页面变暗，并且图像以其真实尺寸显示。

目前，我必须手动创建一个包含所有图像实际高度的数组。为了解决我的画廊的设计问题+更少的手动操作，我需要在调整图像大小（CSS）后获取图像的实际高度。

我试过了：

```
var imageheight = document.getElementById(imageid).height; 
```

和：

```
var imageheight = $('#' + imageid).height(); 
```

但两者都返回`150px`用 CSS 分配的属性。我该如何解决这个问题？谢谢

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-05-07T11:40:02.083

你有“自然”的知识来帮助你：

用js：

```
var imageheight = document.getElementById(imageid).naturalHeight; 
```

或使用 jquery

```
var imageheight = $('#' + imageid).naturalHeight; 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2012-05-07T08:04:58.737

一种方法是创建一个单独的图像对象。

```
function getImageDimensions(path,callback){
    var img = new Image();
    img.onload = function(){
        callback({
            width : img.width,
            height : img.height
        });
    }
    img.src = path;
}

getImageDimensions('image_src',function(data){
    var img = data;

    //img.width
    //img.height

}); 
```

这样一来，您将使用相同的图像，但不是 DOM 上已修改尺寸的图像。据我所知，缓存的图像将使用这种方法回收。所以不用担心额外的 HTTP 请求。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-03-09T10:09:58.057

@Dinesh 仅使用`naturalHeight`and`naturalWidth`属性的答案很棒，可能应该是公认的答案。

只是想在这里添加两件事可以节省人们的时间，因为我看到了很多关于这个问题的 SO 帖子并且我自己花了很多时间在它上面。

1.  **`naturalHeight`可能会返回`0`，或者`undefined`如果在图像加载之前调用**。仅仅设置`src`属性可能并不意味着图像会立即加载。我已经看到最好把它拿进来`onload`。

    ```
    $('selector')[0].onload = function() {
      alert(this.naturalHeight);
      alert(this.naturalWidth);
    } 
    ```

2.  如果不使用`this`，**`$('selector').naturalHeight`可能无法正常工作**。您可能需要访问相关的 DOM 元素`$('selector')[0].naturalHeight`，或者`$('selector').get(0).naturalHeight`因为我们使用的是原生 Javascript 的属性`naturalHeight`。有关更多详细信息，请参阅[此 SO 帖子](https://stackoverflow.com/a/23467709/1526703)。

# php - 通过 ajax 创建的 post 变量

> ID：10478650
> 
> 赞同：0
> 
> 时间：2012-05-07T08:01:42.203
> 
> 标签：php, javascript, mysql, html

我有一个标签和一个下拉菜单，当下拉菜单更改时，标签会动态更改。所以我使用 ajax 来解决这个任务，但是如何将标签值传递给另一个文件 php 文件？我怎样才能发布它？

标签和下拉菜单；

```
<?php echo '<select name="type" id="category" onchange="changeOwner();">

        <option value="Staf DC">Staf DC</option>
        <option value="Admin">Admin</option>

    </select></th>'; 

echo "<td align='center'><label id='own'></label></td>"; 
```

javascript;

```
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">
function changeOwner()
{
var selname = $("#category option:selected").val();  
$.ajax({ url: "new_getdata.php",

    data: {"selname":selname},

    type: 'post',

    success: function(output) {
        $("#own").html(output);

    }

   });
}
window.onload =  changeOwner();
</script> 
```

new_getdata.php

```
if (isset($_POST['selname'])) { 
$selname = $_POST['selname'];
$query = "SELECT * FROM owner2 where type='$selname'";
$res = mysql_query($query);

   while ($rows = mysql_fetch_assoc($res)) {
   $name = $rows['owner'];

   echo $name;
}
} 
```

每次下拉菜单更改时，变量 $name 都会动态替换标签值。如何将标签值发送到另一个 php 文件？假设我想将其发布到 register.php

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:14:43.900

```
$.ajax({ url: "new_getdata.php",
   data: {"selname":selname},
   type: 'post',
   success: function(output) {
       $("#own").html(output);

       $.ajax({
          data: {label: output},
          url: "regisster.php"
       });
   }
}); 
```

# wix - WiX 功能状态（请求/操作）在更改/修改期间未更新

> ID：10478652
> 
> 赞同：0
> 
> 时间：2012-05-07T08:02:01.000
> 
> 标签：wix, wix3.6

我有一种情况，我需要知道在**更改模式下**要安装/卸载哪些功能，因此我将能够修改对话框序列。

我的设置包括 2 个功能**F_WEB_APP**和**F_DATABASE**，为了让我的生活更轻松，我在自定义对话框的下一步按钮上发布了以下属性，以根据功能条件确定哪些功能已安装、要安装或要卸载，如下所示：

```
<Publish Dialog="CustomizeDlg" Control="Next" Property="IsDBInstalled" Value="Yes" Order="5"><![CDATA[!F_DATABASE > 2]]></Publish>
<Publish Dialog="CustomizeDlg" Control="Next" Property="IsDBInstalled" Value="No"  Order="6"><![CDATA[!F_DATABASE < 3]]></Publish>

<Publish Dialog="CustomizeDlg" Control="Next" Property="IsWebInstalled" Value="Yes" Order="7"><![CDATA[!F_WEB_APP > 2]]></Publish>
<Publish Dialog="CustomizeDlg" Control="Next" Property="IsWebInstalled" Value="No" Order="8"><![CDATA[!F_WEB_APP < 3]]></Publish>                

<Publish Dialog="CustomizeDlg" Control="Next" Property="IsDBSelected" Value="Yes" Order="9"><![CDATA[&F_DATABASE > 2]]></Publish>
<Publish Dialog="CustomizeDlg" Control="Next" Property="IsDBSelected" Value="No" Order="10"><![CDATA[&F_DATABASE < 3]]></Publish>

<Publish Dialog="CustomizeDlg" Control="Next" Property="IsWebSelected" Value="Yes" Order="11"><![CDATA[&F_WEB_APP > 2]]></Publish>
<Publish Dialog="CustomizeDlg" Control="Next" Property="IsWebSelected" Value="No" Order="12"><![CDATA[&F_WEB_APP < 3]]></Publish> 
```

在**第一次安装**期间，我的所有属性都根据用户选择（预期行为）进行设置，但在**更改/修改**期间它们仅设置**一次**（在自定义对话框首次加载 - 值匹配现有状态，无论用户更改如何）！如果用户进行更改并按下一步或继续然后返回并更改所选功能并单击下一步，则没有设置任何属性...这里有什么问题？

**首次安装**的日志（为便于阅读而修剪）：

```
Action 20:34:08: CustomizeDlg. Dialog created
* user modify features and press next.
MSI (c) (94:90) [20:34:09:374]: PROPERTY CHANGE: Adding IsDBInstalled property. Its value is 'No'.
MSI (c) (94:90) [20:34:09:376]: PROPERTY CHANGE: Adding IsWebInstalled property. Its value is 'No'.
MSI (c) (94:90) [20:34:09:378]: PROPERTY CHANGE: Adding IsDBSelected property. Its value is 'Yes'.
MSI (c) (94:90) [20:34:09:379]: PROPERTY CHANGE: Adding IsWebSelected property. Its value is 'Yes'.
Action 20:34:09: NextDlg. Dialog created
* user press back.
Action 20:34:09: CustomizeDlg. Dialog created
* user modify features and press next.
MSI (c) (94:90) [20:34:12:376]: PROPERTY CHANGE: Modifying IsWebSelected property. Its current value is 'Yes'. Its new value: 'No'.
Action 20:34:12: NextDlg. Dialog created
* user press back.
Action 20:34:13: CustomizeDlg. Dialog created
* user modify features and press next.
MSI (c) (94:90) [20:34:15:129]: PROPERTY CHANGE: Modifying IsDBSelected property. Its current value is 'Yes'. Its new value: 'No'.
Action 20:34:15: NextDlg. Dialog created
* user press back.
Action 20:34:15: CustomizeDlg. Dialog created
* user modify features and press next.
MSI (c) (94:90) [20:34:18:289]: PROPERTY CHANGE: Modifying IsWebSelected property. Its current value is 'No'. Its new value: 'Yes'.
Action 20:34:18: NextDlg. Dialog created 
```

**更改/修改**日志（为便于阅读而修剪）：

```
Action 21:01:41: CustomizeDlg. Dialog created
* user modify features and press next.
MSI (c) (6C:1C) [21:01:45:216]: PROPERTY CHANGE: Adding IsDBInstalled property. Its value is 'Yes'.
MSI (c) (6C:1C) [21:01:45:220]: PROPERTY CHANGE: Adding IsWebInstalled property. Its value is 'Yes'.
MSI (c) (6C:1C) [21:01:45:223]: PROPERTY CHANGE: Adding IsDBSelected property. Its value is 'No'.
MSI (c) (6C:1C) [21:01:45:225]: PROPERTY CHANGE: Adding IsWebSelected property. Its value is 'No'.
Action 21:01:45: NextDlg. Dialog created
* user press back.
Action 21:01:45: CustomizeDlg. Dialog created
* user modify features and press next.
Action 21:01:48: NextDlg. Dialog created
* user press back.
Action 21:01:49: CustomizeDlg. Dialog created
* user modify features and press next.
Action 21:01:51: NextDlg. Dialog created
* user press back.
Action 21:01:52: CustomizeDlg. Dialog created
* user modify features and press next.
Action 21:01:54: NextDlg. Dialog created 
```

正如您从第二个日志中看到的那样，没有记录**属性更改**，我在这里缺少什么？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-09T08:07:42.010

经过几个小时的阅读，我空手而归！我在任何地方都找不到任何解决方案。

好消息是我自己想出了一个解决方案（不理想），但它有效！！！！

每个功能都有几个与之链接的组件，但我至少有一个与该功能一起存在的非条件组件（例如注册表组件），在放弃获取要更新的功能请求/操作状态后，我尝试了组件请求/操作状态..是的，它已更新。

因此，我将条件基于组件请求/操作状态而不是功能请求/操作状态，如下所示：

```
<!--If one of Database feature required components request state is Local or Source or Default. it means install.-->
<Publish Dialog="CustomizeDlg" Control="Next" Property="InstallDatabase" Value="1" Order="5"><![CDATA[$CMP_DATABASE_REGISTRY > 2]]></Publish>
<!--else clear the propery.-->
<Publish Dialog="CustomizeDlg" Control="Next" Property="InstallDatabase" Order="6"><![CDATA[$CMP_DATABASE_REGISTRY < 3]]></Publish>

<!--If one of Database feature required components request state is Absent. it means uninstall.-->
<Publish Dialog="CustomizeDlg" Control="Next" Property="UninstallDatabase" Value="1" Order="7"><![CDATA[$CMP_DATABASE_REGISTRY = 2]]></Publish>
<!--else clear the property .-->
<Publish Dialog="CustomizeDlg" Control="Next" Property="UninstallDatabase" Order="8"><![CDATA[$CMP_DATABASE_REGISTRY <> 2]]></Publish>

<!--If one of WebApp feature required components request state is Local or Source or Default. it means install.-->
<Publish Dialog="CustomizeDlg" Control="Next" Property="InstallWebApp" Value="1" Order="9"><![CDATA[$CMP_WEB_APP_REGISTRY > 2]]></Publish>
<!--else clear the propery.-->
<Publish Dialog="CustomizeDlg" Control="Next" Property="InstallWebApp" Order="10"><![CDATA[$CMP_WEB_APP_REGISTRY < 3]]></Publish>

<!--If one of WebApp feature required components request state is Absent. it means uninstall.-->
<Publish Dialog="CustomizeDlg" Control="Next" Property="UninstallWebApp" Value="1" Order="11"><![CDATA[$CMP_WEB_APP_REGISTRY = 2]]></Publish>
<!--else clear the property .-->
<Publish Dialog="CustomizeDlg" Control="Next" Property="UninstallWebApp" Order="12"><![CDATA[$CMP_WEB_APP_REGISTRY <> 2]]></Publish> 
```

**注意**：如果用户没有对选择树进行任何更改，功能组件的操作/请求状态将是未知的 = -1。

现在我可以使用上述属性在**更改/修改模式下**对对话框进行排序：

```
<!--collect WebApp setting if WebApp to be installed, WebAppDlg will handle where to go next.-->
<Publish Dialog="CustomizeDlg" Control="Next" Event="NewDialog" Value="WebAppDlg" Order="13"><![CDATA[Installed AND InstallWebApp]]></Publish>
<!--collect Database setting if WebApp not to be installed and Database to be installed or uninstalled, DatabaseDlg will handle where to go next.-->
<Publish Dialog="CustomizeDlg" Control="Next" Event="NewDialog" Value="DatabaseDlg" Order="14"><![CDATA[Installed AND NOT InstallWebApp AND (InstallDatabase OR UninstallDatabase)]]></Publish>
<!--user made no changes go to verify ready dialog.-->
<Publish Dialog="CustomizeDlg" Control="Next" Event="NewDialog" Value="VerifyReadyDlg" Order="15"><![CDATA[Installed AND NOT InstallWebApp AND NOT InstallDatabase]]></Publish> 
```

# javascript - Change classes of multiple hyperlinks OnClick in a group. Multiple groups on page

> ID：10478653
> 
> 赞同：0
> 
> 时间：2012-05-07T08:02:01.983
> 
> 标签：javascript, jquery, select, menu, onclick

I've been searching for the past couple of days, however, I haven't been able to find a solution which resolves all the constraints I'm currently facing. Any help would be much appreciated.

jQuery is already being used on the page.

## Current Scenario

I have an existing page with multiple panels. Each panel has a small navigation menu (a horizontal UL list) which is used to Show/Hide layers within that panel. The Show/Hide function is working as intended.

## What is missing

Highlight currently active menu item when clicked and restore the previously active item to inactive by changing class.

## Constraints

1.  The classes - active/inactive are applied to `<a>` tag
2.  The design is such that both the active/inactive classes are unique i.e. we can not assign a common class (e.g. .selected) to a group of or all hyperlinks
3.  There are multiple such unique groups on the page and I need to be able to target them individually.

## jsFiddle

Please refer to the [jsFiddle illustration here](http://jsfiddle.net/eEyqf/12/).

## HTML Code

The basic block of HTML that I'm working with is as follows:

```
<div id="panel">
  <div id="navwrapper">
    <ul id="nav">
      <li><a href="javascript:showhide('div_1');" class="grp1_1_selected">One</a></li>
      <li><a href="javascript:showhide('div_2');" class="grp1_2">Two</a></li>
      <li><a href="javascript:showhide('div_3');" class="grp1_3">Three</a></li>
    </ul>
  </div>
  <div id="div_1" name="group1">Some content here for Div 1</div>
  <div id="div_2" name="group1">Some content here for Div 2</div>
  <div id="div_3" name="group1">Some content here for Div 3</div>
</div> 
```

There are multiple such panels (each unique) on the page, thus the other similar solutions fail to work.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:21:14.037

```
$('ul#nav > li > a').on('click', function() {

    $('ul#nav a').each(function() {
        $(this).attr('class', function() {
           return this.className.replace('_selected','');
        })
    });
    $(this).addClass($(this).attr('class') + '_selected');

}); 
```

Check this out:

***[DEMO1](http://jsfiddle.net/eEyqf/13/)***

Another ***[DEMO2](http://jsfiddle.net/WsQsa/1/)***

In DEMO2, I use `ul.nav` a common class to all `ul`, so that you can change and various ids for different `ul`s.

I think you need something like this.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:22:57.887

If you have multiple such panels then you should use classes

```
<div class="panel">
  <div class="navwrapper">
    <ul class="nav">
      <li><a class="selected">One</a></li>
      <li><a>Two</a></li>
      <li><a>Three</a></li>
    </ul>
  </div>
  <div class="panel_content">Some content here for Div 1</div>
  <div class="panel_content">Some content here for Div 2</div>
  <div class="panel_content">Some content here for Div 3</div>
</div> 
```

and you can use this code to handle them.

```
 $('.panel').each(function() {
     var panel = $(this);
     var a = $(this).find('.nav a').click(function() {
        panel.find('.panel_content').eq(a.index(this)).show().
           siblings('.panel_content').hide();
        $(this).addClass('selected').parent().siblings().
           children().removeClass('selected');
     });
  }); 
```

it will work for all panels

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T08:23:50.523

When using jQuery, you shouldn't add the js function to href tag, check my [demo](http://jsfiddle.net/eEyqf/14/) for a better solution.

```
$(document).ready(function() {
$('#nav li a').on('click', function() {
    var target = $(this).attr('href').substring(1).split('-');
    $('a.group'+target[0]).removeClass('selected');
    $(this).addClass('selected');
    $('div.group'+target[0]).hide();
    $('div#div_'+target[1]+'.group'+target[0]).show();
}); 
});​ 
```

Note that

1.  the links only contain an anchor (e.g. #1-2) which can even be used to bookmark a specific content. (More js required.)
2.  the CSS still is able to display an image for each tab.

# ruby-on-rails - 在 ruby /rails 中使用 rake 并在解析 YAML 时出错

> ID：10478656
> 
> 赞同：0
> 
> 时间：2012-05-07T08:02:19.147
> 
> 标签：ruby-on-rails, ruby, rake, yaml

我是 Ruby/Rails 的新手，并且正在从事一个项目来设计一个在框架内使用 mysql 数据库的网页。我在让rails 正常工作时遇到了很多问题，但我很确定Rake 是一个问题。当我运行命令时

```
 rake db:create:all 
```

它返回大约 300 行，然后 ruby​​ 解释器崩溃。

我主要担心的是当我运行命令时

```
 rake -v 
```

我明白了

```
 ...
    rake aborted!
    (<unknown>) couldn't parse YAML at line 17 column 14 
```

YAML 只是更大问题的一小部分。我只是不确定为什么 rake 根本不起作用。

编辑：继承人的踪迹。

```
 C:\Ruby193\bin\test>rake -v --trace
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:942: Use RbConfig ins
    tead of obsolete and deprecated Config.
    (in C:/Ruby193/bin/test)
    ** Invoke default (first_time)
    ** Invoke test (first_time)
    ** Execute test
    ** Invoke test:units (first_time)
    ** Invoke db:test:prepare (first_time)
    ** Invoke db:abort_if_pending_migrations (first_time)
    ** Invoke environment (first_time)
    ** Execute environment
    ** Execute db:abort_if_pending_migrations
    ** Invoke test:functionals (first_time)
    ** Invoke db:test:prepare
    ** Execute test:functionals
    C:/Ruby193/bin/ruby -Ilib;test "C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/l
    ib/rake/rake_test_loader.rb"
    ** Invoke test:integration (first_time)
    ** Invoke db:test:prepare
    ** Execute test:integration
    C:/Ruby193/bin/ruby -Ilib;test "C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/l
    ib/rake/rake_test_loader.rb"
    rake aborted!
    (<unknown>): couldn't parse YAML at line 17 column 14
    C:/Ruby193/lib/ruby/1.9.1/psych.rb:154:in `parse'
    C:/Ruby193/lib/ruby/1.9.1/psych.rb:154:in `parse_stream'
    C:/Ruby193/lib/ruby/1.9.1/psych.rb:125:in `parse'
    C:/Ruby193/lib/ruby/1.9.1/psych.rb:112:in `load'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/activesupport-2.3.4/lib/active_support/vendo
    r/i18n-0.1.3/lib/i18n/backend/simple.rb:189:in `load_yml'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/activesupport-2.3.4/lib/active_support/vendo
    r/i18n-0.1.3/lib/i18n/backend/simple.rb:176:in `load_file'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/activesupport-2.3.4/lib/active_support/vendo
    r/i18n-0.1.3/lib/i18n/backend/simple.rb:13:in `block in load_translations'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/activesupport-2.3.4/lib/active_support/vendo
    r/i18n-0.1.3/lib/i18n/backend/simple.rb:13:in `each'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/activesupport-2.3.4/lib/active_support/vendo
    r/i18n-0.1.3/lib/i18n/backend/simple.rb:13:in `load_translations'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/activesupport-2.3.4/lib/active_support/vendo
    r/i18n-0.1.3/lib/i18n/backend/simple.rb:85:in `init_translations'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/activesupport-2.3.4/lib/active_support/vendo
    r/i18n-0.1.3/lib/i18n/backend/simple.rb:100:in `lookup'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/activesupport-2.3.4/lib/active_support/vendo
    r/i18n-0.1.3/lib/i18n/backend/simple.rb:33:in `translate'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/activesupport-2.3.4/lib/active_support/vendo
    r/i18n-0.1.3/lib/i18n.rb:165:in `translate'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/activesupport-2.3.4/lib/active_support/core_
    ext/array/conversions.rb:10:in `to_sentence'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rails-2.3.4/lib/tasks/testing.rake:51:in `bl
    ock in <top (required)>'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:617:in `call'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:617:in `block in exec
    ute'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:612:in `each'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:612:in `execute'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:578:in `block in invo
    ke_with_call_chain'
    C:/Ruby193/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:571:in `invoke_with_c
    all_chain'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:588:in `block in invo
    ke_prerequisites'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:585:in `each'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:585:in `invoke_prereq
    uisites'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:577:in `block in invo
    ke_with_call_chain'
    C:/Ruby193/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:571:in `invoke_with_c
    all_chain'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:564:in `invoke'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:2019:in `invoke_task'

    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:1997:in `block (2 lev
    els) in top_level'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:1997:in `each'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:1997:in `block in top
    _level'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:2036:in `standard_exc
    eption_handling'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:1991:in `top_level'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:1970:in `block in run
    '
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:2036:in `standard_exc
    eption_handling'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/lib/rake.rb:1967:in `run'
    C:/Ruby193/lib/ruby/gems/1.9.1/gems/rake-0.8.3/bin/rake:31:in `<top (required)>'

    C:/Ruby193/bin/rake:23:in `load'
    C:/Ruby193/bin/rake:23:in `<main>' 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T08:47:36.613

在需要'rubygems'之后在boot.rb中添加以下代码片段怎么样，我认为这是因为rubygems使用的yaml解析器是psych但rails需要syck：

```
require 'yaml'
YAML::ENGINE.yamler = 'syck' 
```

# c# - Symbian S60 (3rd Edi) 上的加密支持和 C#.Net 上的解密

> ID：10478668
> 
> 赞同：1
> 
> 时间：2012-05-07T08:03:26.990
> 
> 标签：c#, c++, cryptography, symbian, s60-3rd-edition

我正在为 S60 3rd Edition FP2 平台开发简单的应用程序，根据当前要求，我想在客户端（即在我的基于 Symbian S60 的应用程序中）执行加密（基于自定义密钥）并在服务器端执行解密（绝对使用相同的密钥) (即 C#.Net/VB.Net)

在 Symbian 平台上，我尝试过使用 CPaddingSSLv3 的 AES，使用 CPaddingPKCS7 的 DES，并且能够在 symbian 平台上加密和解密 pt，但根据我的要求，我需要在服务器端执行解密（即使用 C#.Net/VB.Net）

是否有任何特定的加密和填充组合可以满足此要求，或者对此文档或指针的任何引用将有助于...

# android - 为什么 GridView 需要 BaseAdapter？

> ID：10478669
> 
> 赞同：1
> 
> 时间：2012-05-07T08:03:27.273
> 
> 标签：android, android-adapter

为什么我们需要`BaseAdapter`in `GridView`？为什么选择基础适配器本身？我们可以使用其他适配器类型吗？

```
public class ImageButtonAdapter extends BaseAdapter
  {

  } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T08:09:02.010

您可以使用任何类型的扩展适配器`BaseAdapter`，因此`ImageButtonAdapter`您的帖子中的 将起作用。GridView 基本上是一个在网格中显示其项目的列表，在 Android 列表中使用 an`Adapter`来获取其数据。这就是您需要适配器的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:15:52.130

这是标准模式[MVC的实现](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller)

> 模型：表示应用程序状态的域对象或数据结构
> 
> 视图，它观察状态并向用户生成输出。
> 
> 控制器，它将用户输入转换为模型上的操作

你有`List<YourObject> objects` - 这是“模型”

从 BaseAdater 继承的适配器是“控制器”。它控制您的“模型”的呈现

GridView 是一个“视图”。它提供“模型”的呈现

# java - 使用java阻止某个网站

> ID：10478673
> 
> 赞同：0
> 
> 时间：2012-05-07T08:03:39.910
> 
> 标签：java

我正在做一个小（我希望如此）项目，而且我正处于一个非常开始的阶段。我已经用谷歌搜索了，但仍然无法开始。让我解释一下我的想法。首先，我在 JTextField 中键入一个网站的地址（比如说 codeproject.com）。然后在点击 JButton（比如说 Block）后，我无法使用 Internet 浏览器（实际上是 firefox）打开该网站。但是在点击另一个 JButton（比如说 Unblock）后，我可以正常访问该网站。我刚刚知道使用 java 很难做到这一点。使用 C++ 可能是更好的选择。

任何意见，将不胜感激！

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:24:31.893

尽管我同意@Moritz Petersen，但我可以提出另一种解决方案。HTTP 代理很好，但用户可以将其从浏览器的首选项中删除。但是您可能还可以做其他事情。[JPcap](http://netresearch.ics.uci.edu/kfujii/Jpcap/doc/)是一个用于捕获和*发送*网络数据包的库。

因此，您的应用程序可以执行以下操作：捕获从机器上的任何浏览器发送的 HTTP 请求。如果请求的 URL 与您的黑名单中的一个匹配，则在一小段延迟后将“拒绝”发送回浏览器。因此，从用户的角度来看，浏览器似乎开始渲染请求的站点并突然出现拒绝页面。这比使用现成的 HTTP 代理更复杂，但恕我直言很有趣，应该是相对较小的项目。除非他杀死您的应用程序，否则用户无法绕过您的检查。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:08:40.060

查看[Rabbit](http://www.khelekore.org/rabbit/)，这是一个用 Java 编写的代理服务器。当然，您的浏览器必须配置为通过该代理传递所有请求。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-29T18:16:45.023

如果您使用代理服务器，那么您的软件必须一直在运行。相反，对于入门级网站访问控制软件，您可以使用 java 或 c++ 构建应用程序（GUI）。该软件只需编辑您操作系统中的“主机”，WebDomain 将被阻止。

“主机”文件的位置：

*   在 Windows 中：**C:\Windows\System32\drivers\etc\hosts**

*   在 Linux 中：**/etc/hosts**

您的软件需要管理员/root 权限才能编辑“主机”文件。

**启动软件的步骤：**

*   编辑文件并删除行前的“#”

--- 127.0.0.1 本地主机

--- ::1 本地主机

**阻止网站的步骤：**

*   将以下行附加到“主机”文件中：

--- 0.0.0.0 www.facebook.com

--- 0.0.0.0 www.example.com

**解锁步骤：**

*   只需删除您添加到文件中的行。

**警告：**

永远不要删除默认存在的文件内容。建议维护“主机”文件的备份副本。

# php - 具有（略微）不同要求的复杂 MySQL 查询

> ID：10478685
> 
> 赞同：0
> 
> 时间：2012-05-07T08:04:48.910
> 
> 标签：php, mysql, oop

我有一个对多个表进行复杂 MySQL 查询的函数，我在其中检查许多条件，例如未删除、活动、语言、日期、访问权限等。所以它已经有多个 if-else 了。

现在我需要创建另一个与现有查询非常相似的查询，在该查询中我只查询具有不同顺序的特定类别，在另一个查询中通过相关性计算在标题中搜索关键字。

您可以在此处看到两个类似的查询：http: [//pastebin.com/3NY1s1gU](http://pastebin.com/3NY1s1gU)和[http://pastebin.com/RqpzqWrK](http://pastebin.com/RqpzqWrK) （表名和列名是预定义的。我无法更改任何内容。）

我不想添加更多 if-else 或复制和粘贴现有查询，因为它会创建大量冗余和/或难以维护的代码。

是否有解决此问题的设计模式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:25:55.187

我不太清楚你的要求。我认为这可能会对您有所帮助。

您可以在第二个查询中将第一个查询用作内联查询作为表，但仍然复制粘贴被重新埋葬。

# .net - Entity Framework 4.1 Code First 中的 Multipleactiveresultsets

> ID：10478693
> 
> 赞同：14
> 
> 时间：2012-05-07T08:05:59.707
> 
> 标签：.net, sql-server, entity-framework, ef-code-first, connection-string

这是我的第一个 EF 项目，请多多包涵。

在更新诸如 Department 之类的实体时，您将其从上下文中拉出，更新其值并调用 context.SaveChanges。但是，如果您更新 Department.Employees，EF 不会觉得这很有趣。

我搜索并想出了在连接字符串中设置 Multipleactiveresultsets=true 的选项，但想知道是否：

*   这是推荐的方式吗？
*   这是否会对性能产生不利影响/我应该注意什么？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-05-07T09:05:41.220

仅当您想在同一连接上并行执行多个查询时，才需要启用 MARS。如果您执行以下操作，则会发生这种情况：

```
/* Foreach uses an iterator over the resultset of your query, but the query is not fetched
   immediately, instead the iterator internally triggers fetching for single
   processed record from opened data reader. Because of that the query and the reader
   are active until the iteration is over. */
foreach (var department in context.Departments.Where(...))
{
    /* The first query is still active on the connection but now you are executing
       lazy loading of all related employees =>. You are executing a second query and,
       without MARS, you will get an exception. */
    var employee = department.Employees.FirstOrDefault(...);
} 
```

如何避免这种情况？

*   使用急切加载而不是延迟加载：`context.Departments.Include(d => d.Employees)`
*   在使用延迟加载之前实现整个部门的结果集。这意味着不访问循环内的员工。
*   启用 MARS，上面提到的示例将简单地工作

> 这是推荐的方式吗？这是否会对性能产生不利影响/我应该注意什么？

这取决于您要解决的问题。如果您有多个部门要处理，访问他们的员工集合将触发每个部门的单独查询。这被称为 N+1 问题 - 您有 N 个部门和一个查询来获取它们，并且对于每个部门，您将执行一个额外的查询 => N+1 个查询。对于大量部门来说，这将是一个性能杀手。

急切加载也不是一个防弹解决方案。它也会[影响性能](https://stackoverflow.com/questions/5521749/how-many-include-i-can-use-on-objectset-in-entityframework-to-retain-performance/5522195#5522195)。有时您只需要执行单独的查询来获取所有必要的部门，并执行单独的查询来获取所有必要的员工。如果您关闭了延迟加载，它应该会修复您的关系并为您正确填写员工属性。顺便说一句，我[对 Data UserVoice 提出了一个建议](http://data.uservoice.com/forums/72025-entity-framework-feature-suggestions/suggestions/2770979-offer-eager-loading-strategies)，即开箱即用地支持此功能。

# c++ - Windows调用的DLL与主应用程序如何通信？

> ID：10478698
> 
> 赞同：2
> 
> 时间：2012-05-07T08:07:00.860
> 
> 标签：c++, windows, dll, ipc, snmp

我正在尝试将 SNMP 代理集成到用本机 C++ 编写的 Windows 应用程序中。

要使该代理成为 Windows SNMP 代理的子代理，必须编写一个 DLL 导出某些由 Windows SNMP 服务调用的例程。到目前为止，一切正常。

现在这个 DLL 需要从应用程序中获取实际信息。我的第一个想法是让应用程序和 DLL 使用双方都可以访问的共享内存块，但这会使信息总是有点陈旧，并且当 SNMP 请求进来时运行一些代码来获取最新值会更好。双方将读取和写入信息。

该应用程序已经有一个基于 TCP 的控制台界面，但是对于来自 SNMP 客户端的非常频繁的请求，连接、查询、断开连接可能有点繁重。

我有哪些选择可以让 DLL 直接与应用程序通信？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:14:06.843

命名管道很容易处理，不会干扰防火墙，也不需要额外的同步（就像共享内存一样）。有关详细信息，请参阅[MSDN](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365590%28v=vs.85%29.aspx)。

# c# - 用 C# 中的 linq 智能高效地替换

> ID：10478706
> 
> 赞同：0
> 
> 时间：2012-05-07T08:07:28.750
> 
> 标签：c#, linq, dictionary

我有

```
Dictionary<string,string> keyValList; 
```

它的数据看起来像：

```
<"{1}" , "TEXT NUMBER 1">
<"{2}" , "TEXT NUMBER 2">
<"{3}" , "TEXT NUMBER 3">
<"{4}" , "TEXT NUMBER 4">
<"{5}" , "TEXT NUMBER 5">
<"{5}" , "TEXT NUMBER 6"> 
```

我有其中包含此文本的对象列表：

```
Item item1 = new Item();
item1.Tooltip = "{1}";
item1.Label= "{2}";
item1.Error= "{3}";

Item item2 = new Item();
item2.Tooltip = "{4}";
item2.Label= "{5}";
item2.Error= "{6}";

List<Item> items = new List<Item>();
items.Add(item1);
items.Add(item2); 
```

使`items`（！）看起来像这样的最聪明的方法是什么：

```
 item1.Tooltip = "TEXT NUMBER 1";
   item1.Label= "TEXT NUMBER 2";
   item1.Error= "TEXT NUMBER 3";
   item2.Tooltip = "TEXT NUMBER 4";
   item2.Label= "TEXT NUMBER 5";
   item2.Error= "TEXT NUMBER 6"; 
```

我正在寻找一种有效的方式，因为这只是一个例子，`items`并且`keyValList`更大。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:15:42.860

可能是这样的？

```
items.ForEach(item => {
    int idx = items.IndexOf(item);
    item.Tooltip = keyValList["{" + (idx*3+1).ToString() + "}"],
    item.Label = keyValList["{" + (idx*3+2).ToString() + "}"],
    item.Error  = keyValList["{" + (idx*3+3).ToString() + "}"]
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:21:15.983

为什么你想在 linq 中这样做？

```
foreach(Item item in items) {
  item.Tooltip = keyValList[item.Tooltip];
  item.Label = keyValList[item.Label];
  item.Error = keyValList[item.Error];
} 
```

# vb.net - 生成数字 VB.NET

> ID：10478708
> 
> 赞同：0
> 
> 时间：2012-05-07T08:07:30.797
> 
> 标签：vb.net, matrix, minesweeper

所以我正在开发一个扫雷游戏，我已经分配了地雷，但我必须生成它们周围的数字。我已经开发了代码，但它似乎没有工作。重要的是要提到我正在使用 DataGridView。

这是我的代码现在的样子：

声明我的变量：

```
Public line As Integer
Public column As Integer
Public numbandeiras As Integer
Public mat(11, 11) As Integer
Public Const MINASEXISTE = 34
Public jogo(11, 11) As Integer 
```

初始化地雷：

```
Public Sub initflags()

    'initialize the matrix
    For i = 0 To 11
        For j = 0 To 11
            mat(i, j) = 0
        Next
    Next

    'generate the mines
    Do Until numbandeiras = MINASEXISTE

        'Randomize()
        line = Int(Rnd() * 10) + 1
        column = Int(Rnd() * 10) + 1
        r = line
        c = column
        If mat(line, column) = 0 Then
            numbandeiras = numbandeiras + 1

            mat(line, column) = 1

        End If

    Loop

'call numbers    
Call avisinhos()

End Sub 
```

生成矿山周围的数字：

```
 Public Sub avisinhos()

    'declaring my local variables
    Dim conta As Integer = 0
    Dim linestart As Integer = -1
    Dim lineend As Integer = 1
    Dim colstart As Integer = -1
    Dim colend As Integer = 1
    Dim auxlinha, auxcolumn As Integer

  'generating the numbers in the matrix
    For auxlinha = 1 To 10
        For auxcolumn = 1 To 10
            While conta < MINASEXISTE
                If mat(line, column) = 1 Then 'tem uma mina

                    mat(auxlinha - 1, auxcolumn - 1) = mat(auxlinha - 1, auxcolumn - 1) + 1
                    mat(auxlinha - 1, auxcolumn) = mat(auxlinha - 1, auxcolumn) + 1
                    mat(auxlinha - 1, auxcolumn + 1) = mat(auxlinha - 1, auxcolumn + 1) + 1
                    mat(auxlinha, auxcolumn - 1) = mat(auxlinha, auxcolumn - 1) + 1
                    mat(auxlinha, auxcolumn + 1) = mat(auxlinha, auxcolumn + 1) + 1
                    mat(auxlinha + 1, auxcolumn - 1) = mat(auxlinha + 1, auxcolumn - 1) + 1
                    mat(auxlinha + 1, auxcolumn) = mat(auxlinha + 1, auxcolumn) + 1
                    mat(auxlinha + 1, auxcolumn + 1) = mat(auxlinha + 1, auxcolumn + 1) + 1
                End If

                conta = conta + 1
            End While
        Next
    Next

End Sub
End Module 
```

将正确的图像归因于 DataGridView tablw 上的矩阵编号：

```
 Private Sub tab1_CellContentClick(ByVal sender As System.Object, ByVal e As    System.Windows.Forms.DataGridViewCellEventArgs) Handles tab1.CellContentClick
    My.Computer.Audio.Play("butao.wav")
    Dim r, c As Integer
    r = tab1.CurrentCell.RowIndex + 1
    c = tab1.CurrentCell.ColumnIndex + 1
    Label5.Text = "linha=" + Str(r)
    Label6.Text = "coluna=" + Str(c)
    'MessageBox.Show(minas(r, c))

    If (jogo(r, c) = 1) Then
        MessageBox.Show("Ja jogou")
    Else
    'When There is a bomb
        If mat(r, c) = 1 Then
            Me.tab1.Rows(r - 1).Cells(c - 1).Value = Image.FromFile("mina1.png")
            jogo(r, c) = 1
            player1 = player1 + 3
            Label1.Text = Val(player1)
        End If
      'When There is a number
        If mat(r, c) > 1 Then
            Call preenche_num(r - 1, c - 1)
      'When there is nothing
        End If
        If mat(r, c) = 0 Then
            Me.tab1.Rows(r - 1).Cells(c - 1).Value = Image.FromFile("vazio.png")
        End If

    End If
End Sub 
```

不同的数字可能性：

```
 Sub preenche_num(ByVal r As Integer, ByVal c As Integer)

    Select Case mat(r, c)
        Case 2
            Me.tab1.Rows(r).Cells(c).Value = Image.FromFile("um.png")
        Case 3
            Me.tab1.Rows(r).Cells(c).Value = Image.FromFile("dois.png")
        Case 4
            Me.tab1.Rows(r).Cells(c).Value = Image.FromFile("tres.png")
        Case 5
            Me.tab1.Rows(r).Cells(c).Value = Image.FromFile("quatro.png")
        Case 6
            Me.tab1.Rows(r).Cells(c).Value = Image.FromFile("cinco.png")
        Case 7
            Me.tab1.Rows(r).Cells(c).Value = Image.FromFile("seis.png")
        Case 8
            Me.tab1.Rows(r).Cells(c).Value = Image.FromFile("sete.png")
        Case 9
            Me.tab1.Rows(r).Cells(c).Value = Image.FromFile("oito.png")
    End Select
End Sub 
```

我确实相信我的错误是在我生成数字的地方。最好的问候，乔奥。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:29:50.033

您正在使用`auxlinha`and`auxcolumn`在您的循环中：

```
For auxlinha = 1 To 10
  For auxcolumn = 1 To 10 
```

但是随后您正在使用`line`and`column`来检查循环内的项目：

```
 If mat(line, column) = 1 Then 'tem uma mina 
```

此外，当你解决了这个问题时，你的算法仍然会惨遭失败。您正在阅读的同一数组中写入，并且在您阅读的位置之前写入。A`1`表示初始数组中的地雷，但是一旦开始增加地雷周围的方格，您就不再知道是否`1`表示地雷或者是否意味着靠近该方格的地雷。

此外，您从 1 循环到 10，因此不会考虑沿边缘的地雷。您必须循环所有方块，并在增加周围方块时检查您是否在边界。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:19:44.507

**第**一句话：**英文节目！**

我们无法读取您的代码。如果标识符不重要，那么您做错了什么：它们对于帮助理解代码*应该很重要。*英语是编程语言——接受这一点。

**其次**，用 2-9 代表数字 1-8 有点不直观且容易出错，你不觉得吗？

如果您坚持用数字对所有可能的值进行编码，则将地雷设为–1，并且数字代表它们自己。

**第三**，关于调试：您怀疑数字的生成不起作用。好吧，这很容易测试：只需硬编码一些数字，然后查看显示是否正常工作。或者反过来做，计算数字并在调试窗口中输出。

**第四**，关于风格。*通过在第一次使用而不是之前*声明变量来让您的生活更轻松。在开头有变量声明块不会使代码更清晰。我还怀疑您应该启用`Option Explicit`and `Option Strict`。我还将删除 VB6 样式的残余： eg`Call`是不必要的，`Str`应该`Val`删除以支持 .NET 方法。

# sql - Order by hit error when UNION

> ID：10478714
> 
> 赞同：0
> 
> 时间：2012-05-07T08:08:05.557
> 
> 标签：sql, oracle, union, concat

Here is my SQL :

```
SELECT F9_OA008_DT||'|',
DED2(PX_OA008_PAN,'a')||'|',
F9_OA008_MCC||'|',
FX_OA008_MERC_NAME||FX_OA008_MERC_FILLER1||FX_OA008_MERC_CTY||FX_OA008_MERC_FILLER2||FX_OA008_MERC_ST_CNTRY||'|',
F9_OA008_AMT_REQ
FROM OA008 
WHERE F9_OA008_MCC=5542 AND F9_OA008_DT >= 20120501 
UNION
SELECT F9_IB006_DT||'|',
DED2(PX_IB006_PAN,'a')||'|',
F9_IB006_MCC||'|',
FX_IB006_CRD_ACCPT_NAL||'|',
F9_IB006_AMT_REQ
FROM IB006 
WHERE F9_IB006_MCC=5542 AND F9_IB006_DT >= 20120501 
; 
```

When I added in ORDER BY F9_OA008_DT for the 1st SQL and ORDER BY F9_IB006_DT for the 2nd sql , it will hit error. Why ? The error msg is: ORA-00923: FROM keyword not found where expected.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:40:20.923

You should only have one order by clause in a SQL statement.

```
select col1, col2 from tab1
union all
select col3, col4 from tab2
order by 1, 2 
```

Notes: "union" does an implicit distinct (and therefore requires a sort under the covers). If you don't need distinct values then use "union all". You can use ordinal numbers as above to sort by columns in their positional order

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:16:40.763

Maybe you should put the same ALIAS for the field let say Field1, then use an ORDER BY in the whole SQL to like something ORDER BY Field1 rather than separate ORDER BY for each sub-query..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T09:06:53.120

You can apply the order by clause on F9_OA008_DT and F9_IB006_DT fields in query only if these two fields are used in both sql statement.

But in your case your don't have these fields in both sql joined by union.

You can add a dummy field F9_IB006_DT in first sql statement and F9_OA008_DT in second sql statement as below sample and then try:

```
SELECT F9_OA008_DT||'|',
DED2(PX_OA008_PAN,'a')||'|',
F9_OA008_MCC||'|',
FX_OA008_MERC_NAME||FX_OA008_MERC_FILLER1||FX_OA008_MERC_CTY||FX_OA008_MERC_FILLER2||FX_OA008_MERC_ST_CNTRY||'|',
F9_OA008_AMT_REQ,'' as F9_IB006_DT 
FROM OA008 
WHERE F9_OA008_MCC=5542 AND F9_OA008_DT >= 20120501 
UNION
SELECT F9_IB006_DT||'|',
DED2(PX_IB006_PAN,'a')||'|',
F9_IB006_MCC||'|',
FX_IB006_CRD_ACCPT_NAL||'|',
F9_IB006_AMT_REQ, '' as F9_OA008_DT 
FROM IB006 
WHERE F9_IB006_MCC=5542 AND F9_IB006_DT >= 20120501 
order by F9_IB006_DT , F9_OA008_DT
; 
```

# google-apps-script - 如何使用 google API 获取域邮件列表

> ID：10478716
> 
> 赞同：1
> 
> 时间：2012-05-07T08:08:11.017
> 
> 标签：google-apps-script, gmail, google-apps

我的公司已经为我们自己的域注册了 gmail 应用程序，我的问题似乎很简单：如何通过 google API 检索公司域内的 gmail 用户地址列表，谁能给我一个参考或任何解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:13:02.367

[供应 API](https://developers.google.com/google-apps/provisioning)有一个[API 调用](https://developers.google.com/google-apps/provisioning/#retrieving_all_users_in_a_domain)来检索域中的所有用户。

**更新** 刚刚意识到 - 这里已经有一个重复的问题：[List emails of clients accounts on Google Apps](https://stackoverflow.com/questions/8939974/list-emails-of-clients-accounts-on-google-apps)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-12T11:07:19.663

您也可以通过 Google Apps 脚本[https://developers.google.com/apps-script/class_usermanager中的 UserManager.getAllUsers() 获取它](https://developers.google.com/apps-script/class_usermanager)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-08T11:58:38.837

您可以使用 Google API 的 UserManager() 函数获取添加到您域中的用户列表，但 UserManager 只允许帐户的管理员检索数据。

这是供参考的代码：

```
function myFunction() {
var users = UserManager.getAllUsers();
for (var i in users) {
    Logger.log(users[i].getEmail());
} 
```

}

代码输出：它将为您提供您域中所有用户的电子邮件地址，您可以在日志中查看

# node.js - 在 Node.js 项目中存储通用身份验证详细信息的可靠方法是什么？

> ID：10478717
> 
> 赞同：2
> 
> 时间：2012-05-07T08:08:30.970
> 
> 标签：node.js, authentication

目前，我有几个独立的 Node.js 项目，它们公开了各种 REST API。它们都连接到一个通用的身份验证源并使用相同的用户名和密码。目前，我将其存储在 JavaScript 源代码中。在生产环境中执行此操作的正确方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-08T11:03:28.520

通常，在生产中，您希望将用户数据保存在具有通用访问过程的数据存储中。如果需要，这将允许独立管理用户数据（审核、备份、密码重置等）。

如果可以，最强大的解决方案是绑定到专业数据存储，例如企业目录（例如 LDAP 或 ActiveDirectory），但如果 Web 应用程序是独立且公共的，您可以使用任何 NoSQL 或 SQL 数据库. 请记住安全且正确地存储密码。如果您只有几个用户，您可以使用一个简单的外部 JSON 文件，但是一旦您有超过 1/2 打左右的用户，这远非理想。

最后一种选择是让其他人担心用户管理，并允许用户使用外部服务登录，例如 Google、Facebook、Twitter 等。有 Node 库可以为您完成这项工作。不过，您仍然希望保留一些有关用户的信息——同样，一个简单的数据存储就可以了。

# java - 在 java callablestatement 中设置唯一标识符

> ID：10478718
> 
> 赞同：2
> 
> 时间：2012-05-07T08:08:33.837
> 
> 标签：java, sql-server, stored-procedures, uniqueidentifier, callable-statement

我正在尝试执行如下存储过程：

```
CallableStatement cs = this.con.prepareCall("{call getDeliveryConfirmations(?)}");
cs.setString(1, "545A6F33-A22A-47A6-AF97-0D952F2D80D7");
Resultset rs = cs.executeQuery(); 
```

如您所见，我在可调用语句中将 Guid/UniqueIdentifier 设置为执行前的参数...但您也可以看出，我在 callableStatement 对象上使用了方法“setString”，结果我“我收到此错误：

> com.microsoft.sqlserver.jdbc.SQLServerException：从字符串转换为唯一标识符时转换失败。

我想如果有像'setGuid'这样的方法或用于callablestatement对象的方法，我不会遇到这个问题......有人知道解决方法等吗？

**编辑：**

存储过程“getDeliveryConfirmations”的代码

```
USE [VodacomXml2Sms]
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
BEGIN
SET NOCOUNT ON;
select * from OutgoingDeliveryConfirmations
where smsGuid = @selectedGuid
END 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:24:33.833

我担心您的 Guid 和 uniqueidentifier 的数据类型或大小不匹配。
检查[***这***](https://stackoverflow.com/a/1476916)是否适合您。

# java-me - J2ME：重定向到警报页面

> ID：10478721
> 
> 赞同：2
> 
> 时间：2012-05-07T08:08:37.600
> 
> 标签：java-me, alert, midp, lcdui

我正在 J2ME 中创建一个应用程序。我有一个`Loginpage`和`SearchingAccount`佩奇。

我在这两页之间插入`AlertSuccess`和。`AlertFailure`如果用户登录成功
，他`AlertSuccess`会在点击警报后重定向到`SerachAcount`页面。

我成功地做到了，但是当用户输入不正确的详细信息时，我需要显示 `AlertFailure`并再次显示登录页面，但即使用户输入了不正确的详细信息，我的应用程序也会显示`AlertSuccess`并显示 页面。`SearchAccount`

我尝试了很多但没有成功。请给我有关如何执行此操作的任何提示。

这是我的 MIDlet 流程屏幕： ![这是我的 MIDlet 流屏幕。](../Images/f79c74ce61c2c9d75559989f273585ef.png)

这是我的代码供参考。

```
 } else if (displayable == Login) {
        if (command == Login1) {
             u_Name=txtUserId.getString();
             u_Password=txtPassword.getString();
            readUserRecords(u_Name, u_Password);

            switchDisplayable(null, getWaitScreen());
public void readUserRecords(String userName,String Password){
try{
  byte[] recData = new byte[5];
  int len;

  for(int i = 1; i <= rs.getNumRecords(); i++){
    if(rs.getRecordSize(i) > recData.length){

      recData = new byte[rs.getRecordSize(i)];
    }
    len = rs.getRecord(i, recData, 0);
    String str= new String(recData,0,len);

   s=str.indexOf(userName);
   s1=str.indexOf(Password);
   splitUserRecord(str);

   System.out.println("User Login Page--------------------------------------");
   System.out.println("---index of string-------"+s+" and "+s1);
   if(u_id.equals(u_Name)&& u_pass.equals(u_Password))
  {

        System.out.println("UserLogin Successfully "+str);
        alertSuccess = new Alert("OK", "You are Login Successfully!",
        successimg, AlertType.INFO);
       alertSuccess.setImage(successimg);
        display.setCurrent(alertSuccess, Login);

   }
else
   {
        System.out.println("Enter Wrong user name");
        alertFailure = new Alert("Cancel", "Enter correct user name and password!",failureimg, AlertType.INFO);
         System.out.println("Enter Wrong user name1");
            alertFailure.setImage(failureimg);
             System.out.println("Enter Wrong user name2");
             display.setCurrent(alertFailure, Login);
              System.out.println("Enter Wrong user name3");
       // getAlertFailure();        

    }

  }
}catch (Exception e){}
}
public Alert getAlertFailure() {
    if (alertFailure == null) {

        alertFailure = new Alert("alert");
        alertFailure.setTimeout(Alert.FOREVER);
        alertFailure.setImage(failureimg);
        display.setCurrent(alertFailure,Login);
    }
    return alertFailure;
}
    public Alert getAlertSuccess() {
    if (alertSuccess == null) {

        alertSuccess = new Alert("alert1");
        alertSuccess.setTimeout(Alert.FOREVER);          
    }
    return alertSuccess;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T05:46:01.473

如果我是对的，您的代码是自动生成的。您需要手动编写所有代码，然后只需在命令单击时调用函数（将显示下一个表单）。

在这个表格里面你应该写`display.setCurrent(Form Name)`。但不要忘记将小部件附加到特定表单。

# java - 在双向 HTTPS 安全的 JBoss 上以编程方式识别调用者的任何方式为 7

> ID：10478723
> 
> 赞同：0
> 
> 时间：2012-05-07T08:08:44.133
> 
> 标签：java, jakarta-ee, ssl, jboss, https

我在 JBoss 上以 7 的形式部署了一个 Web 服务，并使用双向 SSL 进行保护。为了识别服务的调用者，目前他们还需要提供用户名/密码对。这样我就可以使用以下代码来识别它们。

```
String username = (String) wsContext.getMessageContext()
                               .get(BindingProvider.USERNAME_PROPERTY); 
```

但是，我认为理论上可以在 SSL 握手过程之后识别它们。通过提供可能知道正在使用什么证书的自定义 TrustManager 可能是一种可能的方式。我只是想知道是否有任何简单/更好的方法。甚至只是返回一些可以用来识别的证书。

任何帮助，将不胜感激。

山姆

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T10:12:05.420

为此，您不需要自定义 TrustManager。客户端 SSL 证书链在请求属性中可用[`javax.servlet.request.X509Certificate`](http://docs.oracle.com/javaee/1.3/api/javax/servlet/ServletRequest.html#getAttribute%28java.lang.String%29)。

# java - JFreeChart 将数组加载到数据集中

> ID：10478728
> 
> 赞同：2
> 
> 时间：2012-05-07T08:09:02.837
> 
> 标签：java, arrays, for-loop, jfreechart

我无法通过简单的 for 循环将数组加载到 JFreeChart 的 DataSet 中。例如，这将非常好：

```
 private  PieDataset createDataset() {
    DefaultPieDataset result = new DefaultPieDataset();     

    result.setValue("Linux", 29);
    result.setValue("Mac", 20);
    result.setValue("Windows", 51);

    return result;

} 
```

但是，如果我尝试通过遍历数组的每个元素来使用数组实现上面的代码，它将不起作用：

```
 private  PieDataset createDataset() {
    DefaultPieDataset result = new DefaultPieDataset();
    int[] array1 = new int[]{29,20,51};
    char[] array2 = new char[]{"Linux", "Mac", "Windows"};

    for (int i = 0; i < 3; i++) {
        result.setValue(array2[i], array1[i]);
    }
    return result;

} 
```

知道我哪里出错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:17:01.177

的[签名`DefaultPieDataset.setValue()`是](http://www.jfree.org/jfreechart/api/javadoc/org/jfree/data/general/DefaultPieDataset.html)

```
setValue(java.lang.Comparable key, double value) 
```

所以我不认为字符数组允许`Comparable`在所述数组中使用“”值。
可能的数组`String`（`String`实现`Comparable`接口，这就是您的第一个示例有效的原因）。

# wpf - 如何使 ListView 单元格从列标题继承它的文本对齐匹配？

> ID：10478729
> 
> 赞同：2
> 
> 时间：2012-05-07T08:09:19.687
> 
> 标签：wpf, listview

我正在使用带有 GridView 作为视图的 ListView。我在单元格模板中使用 TextBlock。我希望文本对齐以匹配列标题 - 我猜它涉及使用 FindAncestor 的某种绑定，但我不太确定如何让它工作。我可能会结束将文本块与其他内容一起包装在自定义控件中，并且我想在自定义控件中包含继承行为，因此我不必一直重复它。

```
<GridViewColumn Width="140" Header="Creator">
  <GridViewColumn.HeaderContainerStyle>
    <Style TargetType="{x:Type GridViewColumnHeader}">
       <Setter Property="TextElement.FontSize" Value="11" />
       <Setter Property="HorizontalContentAlignment" Value="Right"/>
       <Setter Property="Height" Value="16" />
    </Style>
  </GridViewColumn.HeaderContainerStyle>
  <GridViewColumn.CellTemplate>
    <DataTemplate>
      <TextBlock Margin="-6, 0" TextAlignment="{Binding ??}" Text="{Binding Creator}"/>
    </DataTemplate>
 </GridViewColumn.CellTemplate>
<GridViewColumn> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:50:43.050

您必须将 Header 和 CellTemplate ContentAlignment 设置为 Stretch，因此它会占用更多空间。

然后您可以将 TextAligmnent 设置为 Resource 并引用它。

例子：

```
 <Window.Resources>
    <Style TargetType="ListViewItem">
      <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    </Style>
    <Style TargetType="GridViewColumnHeader">
      <Setter Property="HorizontalContentAlignment" Value="Stretch"></Setter>
    </Style>
    <TextAlignment x:Key="myTextAlignment">Right</TextAlignment>
  </Window.Resources>

  <ListView>
      <ListViewItem>Value1</ListViewItem>
      <ListViewItem>Value2</ListViewItem>
      <ListViewItem>Value3</ListViewItem>
      <ListViewItem>Value4</ListViewItem>

      <ListView.View>
        <GridView>
            <GridViewColumn Width="100" Header="Creator">
            <GridViewColumn.HeaderTemplate>
              <DataTemplate>
                <TextBlock Text="Header" TextAlignment="{StaticResource myTextAlignment}"></TextBlock>
              </DataTemplate>
            </GridViewColumn.HeaderTemplate>
            <GridViewColumn.CellTemplate>
              <DataTemplate>
              <TextBlock TextAlignment="{StaticResource myTextAlignment}" Text="{Binding}"/>
              </DataTemplate>
            </GridViewColumn.CellTemplate>
          </GridViewColumn>
        </GridView>
      </ListView.View>
    </ListView> 
```

# php - 如果用户已经登录系统，如何设置通知

> ID：10478731
> 
> 赞同：2
> 
> 时间：2012-05-07T08:09:39.240
> 
> 标签：php

我有这样的代码：

```
include ("config.php");

$username = $_POST['username'];
$password = $_POST['password'];

$do = $_GET['do'];

if($do=="login")
{
    $cek = mysql_query("SELECT password, user_level FROM t_users WHERE username='$username' AND password='$password'");
    if(mysql_num_rows($cek)==1)
    {
        $c = mysql_fetch_array($cek);
        $_SESSION['username'] = $c['username'];
        $_SESSION['user_level'] = $c['user_level'];

        if($c['user_level']=="supervisor")
        {
            header("location:supervisor.php");
        }

        else if($c['user_level']=="user")
        {
            header("location:home.php");
        }
        else if($c['user_level']=="root")
        {
            header("location:administrator.php");
        }
        else if($c['user_level']=="manager")
        {
            header("location:manager.php");
        }
        else if($c['user_level']=="admin")
        {
            header("location:admin.php");
        }
        else if($c['user_level']=="director")
        {
            header("location:director.php");
        }
    }
    else
    {
        header('Location: index.html');
    }
}
else if($do=="logout")
{
    date_default_timezone_set("Asia/Jakarta");
    $last_logged_out = date("j-F-Y, G:i ");
    $ip_address=$_SERVER['REMOTE_ADDR'];
    mysql_query("update t_users set last_logged_out='$last_logged_out', ip_address='$ip_address' WHERE username='$_SESSION[username]'");

    unset($_SESSION['username']);
    unset($_SESSION['user_level']);
    header("location:index.html");
} 
```

如果有人登录并且在同一时间或不同时间有人使用相同的用户名登录然后我希望系统将通知该用户已经登录，那么我如何提供功能代码，因此具有相同用户名的用户无法登录直到用户注销之前。

有人可以帮助我吗？谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:14:04.720

尝试在会话中添加状态。例如，如果用户已登录，则状态 = 1，反之亦然，因此每次该用户尝试登录时，如果发生这种情况，您可以自由地执行您想要的任何操作。干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:18:20.770

当用户登录时，在数据库中设置一个列，例如设置`loggedin`为 1，然后在后续登录时检查该列是否设置为 1，如果是，则不允许登录，直到以该用户名登录的人登录出，那么您需要将该列设置为 0 以允许后续登录。

您可能需要某种超时，这样任何人都无法以该用户身份登录并永远保持登录状态。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T08:19:01.567

1）阅读[http://php.net/manual/en/function.mysql-real-escape-string.php](http://php.net/manual/en/function.mysql-real-escape-string.php)

2）您必须将有关登录用户的信息存储在可以为任何用户获取的位置（即不在$_SESSION 中）。例如，您可以将其存储在数据库中。

但是您的问题是，如何知道该用户已注销。如果用户不注销（仅关闭网络浏览器），用户登录将是小盒“forwer”。您可以考虑一些超时 - 如果用户在网络上的任何操作超过 1 小时，则在任何其他用户尝试登录时将其注销。（每次用户在您的网络上执行任何操作时，您都应该更改超时）。

# objective-c - 如何将 iAD 横幅添加到 UISplitViewController？

> ID：10478737
> 
> 赞同：0
> 
> 时间：2012-05-07T08:10:16.663
> 
> 标签：objective-c, ios, uisplitviewcontroller

我需要帮助！如何在 UISplitViewController 中添加 iAd 横幅，使 iAd 横幅同时是 MasterViewController 和 DetailViewController。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-29T15:24:32.547

我在苹果示例中找到了解决此问题的方法：

[在这里](http://developer.apple.com/library/ios/#samplecode/iAdSuite/Listings/SplitViewBanner_SplitViewBanner_AppDelegate_h.html#//apple_ref/doc/uid/DTS40010198-SplitViewBanner_SplitViewBanner_AppDelegate_h-DontLinkElementID_23)您可以找到 SplitViewBanner 示例，该示例展示了如何将 ADBannerView 和 UISplitViewController 添加到另一个视图控制器。

# php - docx 的 PHP mimetype 检测

> ID：10478741
> 
> 赞同：2
> 
> 时间：2012-05-07T08:11:07.647
> 
> 标签：php, mime-types

似乎 mime_content_type 和 PECL Fileinfo 扩展都无法检测到 docx 文档的正确 mime 类型。

是否有任何扩展或解决方案可以在 PHP 中执行此操作而不会创建基于文件扩展名的丑陋黑客？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:43:16.367

在检测到正确的 mime 类型时，我发现 PHP 有点意外。如果您不确定使用核心 PHP 函数获得正确的结果，那么您可以将命令传递给操作系统（如果在 Linux 上）；

```
$output = exec('file --mime-type [filename]');
list($output, $mimeType) = explode(' ', $output); 
```

另一种选择是根据已知的 mime 类型列表检查文件扩展名；例如

[http://snipplr.com/view/1937/](http://snipplr.com/view/1937/)

但这取决于有一个完整的 mime 类型列表，这并不理想。

# vb.net - 按钮锚属性在自动滚动面板上不起作用

> ID：10478742
> 
> 赞同：0
> 
> 时间：2012-05-07T08:11:13.537
> 
> 标签：vb.net, winforms, anchor

我有一个带有按钮的自动滚动面板，问题是该按钮的锚属性位置不起作用，因为该属性设置为“底部和右侧”并且总是与面板的按钮重叠。请问我该如何解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-06T18:16:40.640

MSDN 指出了这个问题。你可以[在这里阅读](http://msdn.microsoft.com/en-us/library/system.windows.forms.scrollablecontrol.autoscroll.aspx)

此外，我能想到的唯一解决方法是：

1.  将按钮的 Anchor 属性设置为 Left 和 Top 以显示两个滚动条

但是，如果您仍要将 Anchor 属性设置为底部和右侧，那么我相信如果面板的大小小于按钮的大小，按钮将始终显示在顶部。

因此，如果您仍想保持按钮的右下角位置，我建议您使用 TableLayoutPanel，它有利于布局目的并保留其中控件的位置。

# java - 具有两个 ID 的实体

> ID：10478743
> 
> 赞同：1
> 
> 时间：2012-05-07T08:11:14.553
> 
> 标签：java, hibernate, jpa

假设我已经定义了以下实体：

```
@Entity   
class User{  

   @Id
   @GeneratedValue
   @Column(name = "DB_ID")
   private long id;

   @Id
   @Column(name = "LOGIN", unique = true)
   private String code;  

//setters, getters  
} 
```

**问题 #1。**
当我使用该方法时`.find(User.class, someId)`，我必须设置什么ID？我应该使用长字段 id 还是字符串字段代码？或者我可以同时使用长字段 id 和字符串字段代码吗？

**问题2。**
如果我想使用方法`.merge(user)`，在什么情况下会更新记录？
case #1: - id 等于 DB_ID，code 不等于 LOGIN
case #2: - id 不等于 DB_ID，code 等于 LOGIN
case #3: - idequals DB_ID 和 code 等于 LOGIN
或任何其他条件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-07T08:37:03.060

任何具有*复合*id（多个 Id 字段）的类都必须定义自己的 IdClass（您还没有这样做）。然后将 IdClass 的一个实例传递给 EM.find。这很容易在 JPA 规范中找到

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-05-07T08:32:44.950

对于问题 1，您应该只传递长 ID，因为它是您的表的主键，您需要根据它进行查找。

# c++ - C++：关于加载 DLL 和调用函数的小事

> ID：10478745
> 
> 赞同：1
> 
> 时间：2012-05-07T08:11:29.683
> 
> 标签：c++, c, windows, hardware

我一直在找一些dll或类来抓取客户端的硬件信息，终于找到了： http: [//www.soft.tahionic.com/download-hdd_id/index.html](http://www.soft.tahionic.com/download-hdd_id/index.html)

谁能告诉我如何执行以下相同的操作来调用该函数？我在 C 中使用了这段代码，它可以工作。现在我无法将其转换为 C++。

```
 char* (__stdcall *GetIDESerialNumber)(BYTE);
  HINSTANCE DllInst = NULL;
  if (DllInst == NULL) DllInst = LoadLibrary("hardwareid.dll");
  if (DllInst)
  {
        GetIDESerialNumber = (char* (__stdcall*)(BYTE))GetProcAddress(DllInst, "GetIDESerialNumber");
        printf(GetIDESerialNumber(0)); 
  } 
```

如果有人能为我做到这一点，我会很高兴，做了一些研究，但仍然没有找到答案。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T08:14:38.943

^(您的代码可能是特定于 Windows 的，应该这样标记。Posix 系统将具有`dlopen`.)

C++ 函数名称经常[被修改](http://en.wikipedia.org/wiki/Name_mangling)，您可能需要将修改后的名称传递给`GetProcAddress`（或`dlsym`在 Unix 或 Linux 上）。

名称修改约定是特定于编译器和系统的。

# ruby-on-rails - 如何测试模型上的任何属性都没有使用 rspec 进行修改？

> ID：10478746
> 
> 赞同：5
> 
> 时间：2012-05-07T08:11:36.050
> 
> 标签：ruby-on-rails, rspec

我想检查是否没有修改 ActiveRecord 对象的属性。目前我正在这样做：

`prev_attr = obj.attributes`<- 这将给我一个带有 attr 名称和 attr 值的哈希

然后，稍后，我再次获取属性并比较 2 个哈希值。还有其他方法吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-07T10:33:24.983

确实还有另一种方式。你可以这样做：

```
it "should not change sth" do
  expect {
    # some action
  }.to_not change{subject.attribute}
end 
```

请参阅[https://www.relishapp.com/rspec/rspec-expectations/v/2-0/docs/matchers/expect-change](https://www.relishapp.com/rspec/rspec-expectations/v/2-0/docs/matchers/expect-change)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-07T11:29:52.033

您可以使用[ActiveRecord::Dirty](http://ar.rubyonrails.org/classes/ActiveRecord/Dirty.html)。它为您的`changed?`模型提供了一种方法，如果模型的任何属性实际更改，则该方法为真，否则为假。您还拥有`_changed?`每个属性的方法，例如`model.subject_changed?`，如果与从数据库中读取对象时相比，该属性发生了更改，则该方法是真实的。

要比较属性值，您可以使用`model.subject_was`在实例化对象时属性具有的原始值。或者您可以使用`model.changes`which 将返回一个以属性名称作为键的散列和一个包含每个更改属性的原始值和更改值的 2 元素数组。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-07T08:28:17.337

您应该能够使用[平等匹配器](https://www.relishapp.com/rspec/rspec-expectations/v/2-0/docs/matchers/equality-matchers)- 这对您不起作用吗？

```
a = { :test => "a" }
b = { :test => "b" }
$ a == b
=> false
b = { :test => "a" }
$ a == b
=> true 
```

或者使用您的示例：

```
original_attributes = obj.attributes
# do something that should *not* manipulate obj
new_attributes = obj.attributes
new_attributes.should eql original_attributes 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-07-21T00:19:48.730

不是一个完美的解决方案，但正如这里提到的，由于可维护性，我更喜欢它。

属性被缓存，并且由于它们没有直接更改，如果您想一次检查它们，则必须重新加载它们：

```
it 'does not change the subject attributes' do
  expect {
    # Action
  }.to_not change { subject.reload.attributes }
end 
```

如果可以，请避免重新加载，因为您正在强制向数据库发出另一个请求。

# ruby - 使用 ruby 生成条形码的问题

> ID：10478748
> 
> 赞同：1
> 
> 时间：2012-05-07T08:12:07.373
> 
> 标签：ruby, barcode

我正在尝试在 ruby​​ 中生成条形码并尝试了几个 gem： [barcode-generator](https://github.com/anujluthra/barcode-generator)和[rghost_barcode](https://github.com/shairontoledo/rghost-barcode/wiki/)。

这些宝石可以很好地生成条形码，但以图像格式生成。现在，当我们用一些特殊的打印机打印出这个条形码时，比如“zebra z4m plus”，扫描仪无法识别这个条形码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T13:10:38.507

如果我正确地回答了您的问题，那么您的问题是生成代码来驱动您的打印机，而不是使用您的条形码生成像素图形。

您的打印机的“语言”是[ZPL 或 ZPLII](http://en.wikipedia.org/wiki/Zebra_%28programming_language%29)。

据说有一个 Ruby gem 可以做到这一点：[zebra_zpl](https://www.ruby-toolbox.com/gems/zebra_zpl)。没有想法，如果它有效。

有关替代方法，另请参阅[如何从 Ruby on Rails 应用程序打印（条形码）标签？](https://stackoverflow.com/a/5574754/908515). 这意味着基本上要自己创建 ZPL 代码。

# android - webview检测滚动

> ID：10478750
> 
> 赞同：0
> 
> 时间：2012-05-07T08:12:11.627
> 
> 标签：android, webview, scroll

我有 webview 和其他布局。滚动webview时如何使其他布局不可见（使用View.GONE）

覆盖 touchlistener 但 Action.up 不能赶上 Action.up

怎么可能实现呢？

该点在开始或结束滚动时检测

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-15T13:36:52.140

您可以覆盖活动的 onTouchEvent 例如：

```
@Override
public boolean onTouchEvent(MotionEvent event) {
     //Do something
     return super.onTouchEvent(event);
} 
```

# javascript - 页面不重新调整外部 js 文件

> ID：10478759
> 
> 赞同：0
> 
> 时间：2012-05-07T08:13:17.950
> 
> 标签：javascript

我有一个调用外部 js 文件的 html 文件。我假设 html 文件没有重新调整

外部 js 文件由于 firebug 抛出“未定义 myfunction()”的错误。

这是我在外部 js 文件中的代码。

```
function a(){
      //just function
} 
```

这是造成麻烦的html文件。

```
<script type="javascript/text" src="./myjs.js"></script>
<script>
    a();
</script> 
```

谁能告诉我为什么我不能实现这个最简单的 js 文件？当我在 python simpleHTTPServer 上运行 html 文件时，它甚至没有抛出 404 错误。
我不确定我在这里做错了什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T08:16:41.790

JavaScript 的（旧）MIME 类型是`text/javascript`，而不是`javascript/text`.

浏览器会认为`javascript/text`是一种未知的脚本语言而不执行它。

您似乎正在使用 HTML 5（因为您省略`type`了第二个脚本元素的属性）。在所有脚本元素上省略它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:16:28.670

使用 firebug 或 chrome 调试器检查您的 js 文件路径是否正确以及是否已正确加载。

您可以在“网络”选项卡中看到它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T08:17:11.117

问题可能是当您访问该函数时未加载 my.js。尝试在 Firebug 或其他东西中使用该功能。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-07T08:34:03.217

这个对我有用。您的路径或 JS 文件一定有问题！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-14T07:58:36.950

我无法从 js 文件加载函数，因为函数本身有错误。

# wordpress - 有没有办法在 wordpress 中阅读 pdf 或 doc 文档？

> ID：10478761
> 
> 赞同：0
> 
> 时间：2012-05-07T08:13:19.857
> 
> 标签：wordpress, xpdf

我想在 wordpress 插件中阅读 pdf 或 doc 文档的文本内容。我下载了 xpdf 并用它来获取内容。但在 wordpress 插件或主题中，我无法获取内容。

```
$filename = "try.pdf";
echo $filename;
$content = shell_exec('xpdf\pdftotext ' . $filename . ' -');
echo $content; 
```

我在插件中使用了这段代码，但 $content 变量为空。我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:41:08.797

`shell_exec`您正在尝试通过 shell 执行命令并通过函数将完整的输出作为字符串返回，但是当 PHP 在`safe mode`. 如果您没有从执行的命令中获得输出，则`NULL`在发生错误时返回。很可能您的托管服务器上也存在权限问题（如果您正在运行 PHP 是安全模式）。尝试通过避免`shell_exec`函数并使用常规文件操作函数（如`fopen`, `fread`, `file_get_contents`.

# t4 - T4 模板 - 避免包含文件中的空行

> ID：10478763
> 
> 赞同：22
> 
> 时间：2012-05-07T08:13:33.897
> 
> 标签：t4

我将 T4 代码拆分为单独的文件以实现模块化和重用，但我发现每个文件在输出中花费了我一个空行。例如：

```
<#@ template debug="false" hostspecific="false" language="C#" #>
<#@ output extension=".ttinclude" #>
<#@ Import Namespace="System.Collections.Generic" #>
<#@ Include file="Includes.tt" #>
namespace <#= NameSpace #>
{ 
```

如果 Includes.tt 列出了 3 个其他 *.tt 文件，我会在命名空间前得到 3 个空行。当我添加代码并将其拆分为单独的 *.tt 文件时，这个空白空间不断增长。事实上，我将所有的包含文件打包到一个单独的 Includes.tt 中，希望这将花费我一个空行。它没有。对于 Includes.tt 中列出的每个文件，我仍然得到一个空行。有没有办法避免这种情况？

编辑：假设我不只是犯了一个愚蠢的错误（我真诚地希望我是），这个问题并不像乍一看那样微不足道：

a) 通过包含的 T4 文件的重用和模块化与 T4 本身一样古老，并在最新的 MSDN 杂志文章中提到：“管理 T4 代码生成解决方案中的复杂性”。

b) 如果代码是自动生成的，这并不意味着它的格式错误或可读性差是可以的。

c）在我的情况下，对于当前的解决方案，对于*每个*生成的 .cs 文件，读者必须滚动一个空白页面，直到她开始看到一些生成的文本。这一切都是因为我在多个包含的 .tt 文件之间拆分了我的代码生成。这似乎不对。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-11-08T14:02:26.423

添加到托尼的答案：您可以通过在 T4 括号内添加换行符来避免很长的行，如下所示：

```
<#@ template debug="false" hostspecific="false" language="C#" #>
<#@ output extension=".ttinclude" #>
<#@ Import Namespace="System.Collections.Generic" #>
<#@ Include file="Usings.tt" 
#><#@ Include file="PropertyTypeEnum.tt" 
#><#@ Include....
#><#@ Include....
#><#@ Include....
#><#@ some other stuff 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-05-08T02:04:10.337

哦，好吧，结果证明这个解决方案是微不足道的，如果有点出乎意料的话：只需将包含指令放在**一起**，而不是一个在另一个**下面**：

```
<#@ template debug="false" hostspecific="false" language="C#" #>
<#@ output extension=".ttinclude" #>
<#@ Import Namespace="System.Collections.Generic" #>
<#@ Include file="Usings.tt" #> <#@ Include file="PropertyTypeEnum.tt" #> <#@ Include.... 
```

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2014-09-06T17:48:59.587

我有一个更基本的问题，即之前的每个`<#@`标题行在`<?xml`输出中都导致了自己的空白行，这导致了错误：

```
error : Unexpected XML declaration.
        The XML declaration must be the first node in the document,
        and no white space characters are allowed to appear before it.
        Line 7, position 3. 
```

挖掘了一段时间后，我发现 .tt 文件有 Unix EOL。

当我切换到 Windows EOL 时，转换删除了空白行。

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2014-09-27T16:28:21.647

这在 VS 2013 中也适用于我：

```
<#@ include file="Other.tt" #><##> 
```

所以

```
<#@ include file="One.tt" #><##>
<#@ include file="Two.tt" #><##>
... 
```

这`<##>`只是一个空的控制块。`<# /* any code here */ #>`也可以。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2016-09-01T12:07:02.323

`import`在我的情况下，空行是由语句结束标记后的尾随空格引起的。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2020-06-09T13:57:21.487

对我来说，使用 Unix 行尾（**LF**）时出现了问题。使用 Windows 行尾 ( **CR LF** ) 解决了我的问题，并可能解决您的问题。

# linux - 在 Debian 6.0 上安装 node.js

> ID：10478768
> 
> 赞同：34
> 
> 时间：2012-05-07T08:13:58.720
> 
> 标签：linux, node.js, debian, installation

好吧，我有一个带有 Debian 6.0 的虚拟服务器。

现在我想安装 Node.js，但网上的教程似乎都不起作用。当我输入“在 linux 上安装 node.js”时，我已经尝试了谷歌给我的所有结果，我大多失败了，因为我不知道如何安装依赖项（顺便说一句，我是 linux 新手）

如何在刚刚设置的 Debian 系统上安装 node.js（因此没有安装任何程序等）？

* * *

## 回答 #1

> 赞同：101
> 
> 时间：2012-09-01T09:46:35.667

如果其他人需要分步说明，我使用了[在 Debian Squeeze 上安装 Node.js 中](http://sekati.com/etc/install-nodejs-on-debian-squeeze)的以下步骤，并且安装没有问题：

1.  `sudo apt-get update && sudo apt-get install git-core curl build-essential openssl libssl-dev`
2.  `git clone https://github.com/nodejs/node.git`
3.  `cd node`
4.  `git checkout v5.0.0`（或您要构建的版本）
5.  `./configure`
6.  `make`
7.  `sudo make install`
8.  `node -v`
9.  `npm -v`

我不必在 apt 中安装任何额外的资源来构建它。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-05-08T10:50:48.907

虽然，正如 ArjunShankar 所说，您通常应该使用预构建的包。Node.js 的发展速度太快了，Debian 软件包跟不上。我强烈建议您在 Node 稳定下来之前进行自己的安装。例如，最近有一个意外更新修复了一个重要的安全漏洞——当事情需要快速发展时，您不希望依赖于一个过时版本的 Debian 软件包。

相反，您应该从源代码安装。

您可以下载源存档直接解压到一个临时文件夹中，然后按照[Node Github 页面](https://github.com/joyent/node)上的说明进行操作。或者，如果您对 GIT 有信心，您可以使用它来获取源代码 - 再次进入临时文件夹并按照安装说明进行操作。

编译时有许多软件依赖项，因此您需要确保首先拥有它们 - 它们都应该在 Debian apt 软件包中。请参阅[http://blog.timmattison.com/archives/2011/04/26/installing-nodejs-couchdb-and-npm-on-debian-the-easy-way/](http://blog.timmattison.com/archives/2011/04/26/installing-nodejs-couchdb-and-npm-on-debian-the-easy-way/)或[http://sekati.com/etc/ install-nodejs-on-debian-squeeze](http://sekati.com/etc/install-nodejs-on-debian-squeeze)以获取更多信息。

编译需要几分钟，所以请耐心等待。

一旦你完成了一次，升级也很容易——只需重复下载/编译过程。

Node.js 安装现在包括 npm 工具，因此安装库和其他代码非常简单。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2013-03-05T02:22:53.127

正如其他人所提到的，node.js 的发布周期相当快，官方的 Debian 软件包有些滞后。我需要使用 node.js 使一组 Debian 服务器保持最新，所以我一直在使用它：

[https://github.com/mark-webster/node-debian](https://github.com/mark-webster/node-debian)

它允许您为任意版本的 node.js 构建 .deb 文件，因此您可以轻松安装/升级/卸载它。它有点快速和肮脏，但至少在官方 Debian 软件包到来之前是这样的。

要深入了解 Debian 包维护者在 node.js 方面面临的复杂性，请参阅此线程：

[https://groups.google.com/d/msg/nodejs/W_6avRSG_a8/xeQxLGuHQ5YJ](https://groups.google.com/d/msg/nodejs/W_6avRSG_a8/xeQxLGuHQ5YJ)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-26T09:24:35.083

只是想添加这个：

[http://ypcs.fi/howto/2012/10/09/nodejs-debian/](http://ypcs.fi/howto/2012/10/09/nodejs-debian/)

我成功地将它用于喘息，但是我只得到了 v0.6.19，它是 0.8.2 上的 atm。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-09-08T05:48:31.257

我在这里添加了我自己的 node.js / debian 包生成器：

[https://github.com/aw/nodejs-debian](https://github.com/aw/nodejs-debian)

它使用官方的 node.js git repo 来拉取你想要构建的确切版本，并创建一个易于分发的 .deb 包。

# facebook - 就像使用 restfb 面对面的评论

> ID：10478774
> 
> 赞同：0
> 
> 时间：2012-05-07T08:14:13.223
> 
> 标签：facebook, facebook-graph-api, restfb

根据[https://developers.facebook.com/docs/reference/api/](https://developers.facebook.com/docs/reference/api/)，我们可以点赞评论。我可以发表评论，但我不知道如何点赞评论。我在下面写了一个代码来确认语法是否正确，而且它也给出了一个例外。

```
static private String MY_ACCESS_TOKEN = "AAACEdEose0cBAARk6nVpaOZCTW3l4q";
FacebookClient facebookClient = new DefaultFacebookClient(MY_ACCESS_TOKEN);

    FacebookClient publicOnlyFacebookClient = new DefaultFacebookClient();

    User user = facebookClient.fetchObject("me", User.class);
    Page page = facebookClient.fetchObject("abc", Page.class);
    System.out.println(user.getId());
    FacebookType publishMessageResponse = facebookClient.publish(user.getId()+"/feed", FacebookType.class, Parameter.with("message", "hello")); 
```

上面的代码工作正常，但下面的代码在喜欢评论的情况下不起作用。

```
 System.out.println("Published message ID: " + publishMessageResponse.getId());
    facebookClient.publish(publishMessageResponse.getId()+"/likes", FacebookType.class, null);

xception in thread "main" java.lang.NullPointerException
at     com.restfb.BaseFacebookClient.verifyParameterLegality(BaseFacebookClient.java:325)
at com.restfb.DefaultFacebookClient.makeRequest(DefaultFacebookClient.java:456)
at com.restfb.DefaultFacebookClient.publish(DefaultFacebookClient.java:290)
at com.restfb.DefaultFacebookClient.publish(DefaultFacebookClient.java:298)
at javafbtest.JavaFbTest.main(JavaFbTest.java:40) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T09:34:35.373

Why REST api? You should not use it, also the urls you're trying are not from the REST api but from the graph api.

If you are referring to the java SDK you are using, then maybe you should use something else, I'm not sure cuz I've never used it, I wrote my own.

To like a comment you'll need to have the comment id. Once you have that it's easy to like it using the graph api as it says in the documentation of the [Comment object](http://developers.facebook.com/docs/reference/api/Comment/) (under the *likes* connection):

> **Create**
> 
> You can like a comment by issuing an HTTP POST request to COMMENT_ID/likes with the publish_stream permission. No parameters necessary.

# html - Twitter Bootstrap 2 的右侧边栏

> ID：10478782
> 
> 赞同：3
> 
> 时间：2012-05-07T08:15:33.820
> 
> 标签：html, css, twitter-bootstrap, css-float, sidebar

我看过一些指南（包括一两个 stackoverflow 问题），但几乎所有人都说这是 2.* 中内置的 1.4 修复程序。

从[流体示例](http://twitter.github.com/bootstrap/examples/fluid.html)开始，我尝试将`pull-right`属性添加到 s 的各个级别，但`div`没有成功。

**如何使用[Twitter Bootstrap 2](http://twitter.github.com/bootstrap/)获得右侧边栏？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T15:57:25.913

您可以通过简单地布置三个 div 来获得流畅的三列引导设置，这些 div 等于可能存在的最高网格设置，即`.span12`. 所以在这种情况下，我们使用了三个 div，2x 侧边栏`.span3`div + 1x`.span6`内容 div，全部等于 12。

**HTML**

```
<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">

    <div class="container-fluid">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <a class="brand" href="#">Project name</a>
      <div class="btn-group pull-right">

        <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
          <i class="icon-user"></i> Username
          <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li><a href="#">Profile</a></li>
          <li class="divider"></li>
          <li><a href="#">Sign Out</a></li>

        </ul>
      </div>
      <div class="nav-collapse">
        <ul class="nav">
          <li class="active"><a href="#">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#contact">Contact</a></li>

        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </div>
</div>

<div class="container-fluid">
  <div class="row-fluid">
    <div class="span3">

      <div class="well sidebar-nav">
        <ul class="nav nav-list">
          <li class="nav-header">Sidebar</li>
          <li class="active"><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>

          <li class="nav-header">Sidebar</li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>

          <li><a href="#">Link</a></li>
          <li class="nav-header">Sidebar</li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
        </ul>

      </div><!--/.well -->
    </div><!--/span-->
    <div class="span6">
      <div class="hero-unit">
        <h1>Hello, world!</h1>
        <p>This is a template for a simple marketing or informational website. It includes a large callout called the hero unit and three supporting pieces of content. Use it as a starting point to create something more unique.</p>
        <p><a class="btn btn-primary btn-large">Learn more &raquo;</a></p>

      </div>
      <div class="row-fluid">
        <div class="span4">
          <h2>Heading</h2>
          <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div><!--/span-->

        <div class="span4">
          <h2>Heading</h2>
          <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div><!--/span-->
        <div class="span4">
          <h2>Heading</h2>

          <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div><!--/span-->
      </div><!--/row-->
      <div class="row-fluid">
        <div class="span4">
          <h2>Heading</h2>

          <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div><!--/span-->
        <div class="span4">
          <h2>Heading</h2>
          <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">View details &raquo;</a></p>

        </div><!--/span-->
        <div class="span4">
          <h2>Heading</h2>
          <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn" href="#">View details &raquo;</a></p>
        </div><!--/span-->
      </div><!--/row-->

    </div><!--/span-->
    <div class="span3">

      <div class="well sidebar-nav">
        <ul class="nav nav-list">
          <li class="nav-header">Sidebar</li>
          <li class="active"><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>

          <li class="nav-header">Sidebar</li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>

          <li><a href="#">Link</a></li>
          <li class="nav-header">Sidebar</li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
          <li><a href="#">Link</a></li>
        </ul>

      </div><!--/.well -->
    </div><!--/span-->
  </div><!--/row-->

  <hr>

  <footer>
    <p>&copy; Company 2012</p>
  </footer>

</div><!--/.fluid-container--> 
```

演示：http: [//jsfiddle.net/6vPqA/89/](http://jsfiddle.net/6vPqA/89/)

# android - 将 StartActivityforResult 移至外部类

> ID：10478790
> 
> 赞同：0
> 
> 时间：2012-05-07T08:16:25.327
> 
> 标签：android, oop

我正在尝试整理我的代码，以便我可以轻松地重用元素，而不必重复工作/代码。

我有一个联系人选择器和代码来处理我想放入其自己的外部类的应用程序中的结果，以便我可以在多个区域重用它。

我遇到了一个问题——为了调用 StartActivityforResult，我需要将活动传递给外部类——但是我不知道该怎么做？

这是我用作外部联系人选择器的类：

```
 public class ContactFinder {

    private static final int CONTACT_PICKER_RESULT = 1001;
    private Activity atv;
    public ContactFinder(Activity atv) {
        this.atv=atv;
    }
public void startContactPicker()
{
    Intent contactPickerIntent=new Intent(Intent.ACTION_PICK,ContactsContract.CommonDataKinds.Phone.CONTENT_URI);
    //Shows CONTACT_PICKER_RESULT cannot be resolved to a variable
    atv.startActivityForResult(contactPickerIntent, CONTACT_PICKER_RESULT);

}
} 
```

那么我将如何使用以下命令从我的主要活动中调用它：

```
ContactFinder cf=new ContactFinder(???));// how do I pass the activity to this external class

cf.startContactPicker(); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:28:37.650

你可以做的是从活动中传递你的类构造函数中的上下文。并保存它。稍后，您可以使用该上下文创建对话框以及该活动中您想要的任何内容。

```
class myclass {
    Context context;

    myclass(Context temp_context) {
       context = temp_context;
    }
} 
```

从积极性你必须这样做：

```
myclass ob = new myclass(getApplicationContext() or this); 
```

现在你可以在你的类中使用上下文来实现任何与活动相同的目的。就像如果你想开始活动那么你可以简单地写。

```
context.StartActivity(intent); 
```

希望它会帮助你..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:29:18.947

传递您创建此对象的位置`this`。`Activity`

```
ContactFinder cf=new ContactFinder(this);
cf.startContactPicker(); 
```

请记住`onActivityResult()`在您的`Activity`也实施，以处理由 started 给出的结果`Activity`。

最好有一个基本`Activity`类，它将`onActivityResult()`为您实现`ContactFinder`并从基本扩展每个`Activity`（您想要使用`ContactFinder`的）`Actvitiy`

# java - 使用 Javac 编译困难 - 问题

> ID：10478793
> 
> 赞同：1
> 
> 时间：2012-05-07T08:16:35.547
> 
> 标签：java, compilation

我有以下目录结构 c:\jibx\tutorial\example23\ 示例23包含以下文件

![在此处输入图像描述](../Images/96c5b92795da7e71e912b16e3a34a41b.png)

现在我正在尝试仅编译引用此文件夹中其他类的 CustomerManager java 文件。CustomerManager java 文件的代码很简单

```
package example23;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import org.jibx.runtime.*;

public class CustomerManager 
{

                 public CustomerManager()
                 {
            try 
            {
            IBindingFactory bfact = BindingDirectory.getFactory(Customer.class);
            IUnmarshallingContext uctx = bfact.createUnmarshallingContext();

            Object obj = uctx.unmarshalDocument(new FileInputStream("C:/jibx/tutorial/example23/customer.xml"), null);
            Customer customer = (Customer)obj;
            System.out.print(customer.street+", "+customer.city);
            IMarshallingContext mctx = bfact.createMarshallingContext();
            mctx.setIndent(4);
            mctx.marshalDocument(obj, "UTF-8", null, new FileOutputStream("C:/jibx/tutorial/example23/customer2.xml"));
            } 
            catch (FileNotFoundException e) 
            {
            e.printStackTrace();
            } 
            catch (JiBXException e) 
            { 
            e.printStackTrace();
            }
                  }   //end method

 public static void main(String[] args) 
 {
 new CustomerManager();
 }

 }//end class 
```

现在此文件包含对其顶层目录中文件的引用，例如 c:\jibx\lib（文件本身位于 c:\jibx\tutorial\example23 中）

我尝试了以下方法来引用这些库并编译文件

```
C:\jibx\tutorial>javac  -classpath c:\jibx\lib\  example23\CustomerManager.java

and the output i got was
example23\CustomerManager.java:7: error: package org.jibx.runtime does not exist

import org.jibx.runtime.*;
^
example23\CustomerManager.java:16: error: cannot find symbol
                               IBindingFactory bfact = BindingDirectory.getFactory(Customer.class);
                                ^
symbol:   class IBindingFactory
location: class CustomerManager
example23\CustomerManager.java:16: error: cannot find symbol
                            IBindingFactory bfact = BindingDirectory.getFactory(Customer.class);

   ^
symbol:   class Customer
location: class CustomerManager
example23\CustomerManager.java:16: error: cannot find symbol
                              IBindingFactory bfact = BindingDirectory.getFact
ory(Customer.class);
                                                    ^
 symbol:   variable BindingDirectory
 location: class CustomerManager
 example23\CustomerManager.java:17: error: cannot find symbol
                            IUnmarshallingContext uctx = bfact.createUnmarsh
allingContext();
                            ^
symbol:   class IUnmarshallingContext
location: class CustomerManager
example23\CustomerManager.java:20: error: cannot find symbol
                            Customer customer = (Customer)obj;
                            ^
symbol:   class Customer
location: class CustomerManager
example23\CustomerManager.java:20: error: cannot find symbol
                            Customer customer = (Customer)obj;
                                                 ^
symbol:   class Customer
location: class CustomerManager
example23\CustomerManager.java:22: error: cannot find symbol
                            IMarshallingContext mctx = bfact.createMarshalli
ngContext();
                            ^
symbol:   class IMarshallingContext
location: class CustomerManager
example23\CustomerManager.java:30: error: cannot find symbol
                            catch (JiBXException e)
                                   ^
symbol:   class JiBXException
location: class CustomerManager
9 errors

C:\jibx\tutorial> 
```

关于我如何解决这个问题的任何建议？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-07T08:20:17.203

我认为您的问题在于以下行

```
-classpath c:\jibx\lib\ 
```

此目录是否包含 jar 文件？

在这种情况下，您可以尝试使用这样的 glob：

```
-classpath c:\jibx\lib\*.jar 
```

这样，您将在类路径的 c:\jibx\lib\ 目录中包含所有 jar 文件。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-07T08:20:08.057

您必须在[类路径](http://docs.oracle.com/javase/6/docs/technotes/tools/windows/javac.html)中添加 .jar 文件。

例如，

```
javac  -cp .;c:\jibx\lib\your_lib.jar  example23\CustomerManager.java 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T03:29:07.080

我设法通过以下方式解决了这个问题：

```
C:\jibx\tutorial>javac  -cp .\example23\*;.;.;c:\jibx\lib\jibx-run.jar;  .\example23\CustomerManager.java 
```

谢谢你的好建议

# redis - Redis 中超过 40 亿个键值对？

> ID：10478794
> 
> 赞同：2
> 
> 时间：2012-05-07T08:16:36.130
> 
> 标签：redis

我正在尝试将 ip 号码与相关的 ISP 信息一起存储在 redis 中。我有 Maxmind 数据，csv 文件包含每个 ISP 的开始和结束编号。

在 SQL 中查询时，我可以检查 IP（在将其转换为数字后）是否在某个范围内可用并获取相关的 ISP。

我正在考虑将所有范围转换为单独的数字，并在 Redis 中提交所有键值对以便更快地查找。这大约会在 Redis 存储中产生 40 亿个键值对。我已经为几亿个键值对做了这个，但是当我在 Redis 中移动到 40 亿对时，我正在寻找建议/建议。我必须注意的任何性能问题，或者有什么方法可以更好地做到这一点？

感谢您的所有建议。

更新：感谢下面的建议，我可以得到这个工作。以为我会在这里分享 Python 代码（又快又脏）：

```
导入redis
导入 pymysql

conn = pymysql.connect(host='localhost',user='user',passwd='password',db='foo')
cur = conn.cursor()
cur.execute('select startipnum,endipnum,isp from wiki.ipisp order by endipnum;')
结果 = cur.fetchall()

r = redis.StrictRedis(host='localhost', port=6379, db=0)
ispctr = 1
结果中的行：
    tempDict = {'ispname':row[2],'fromval':row[0],'toval':row[1]}
    名称字段 = ispctr
    r.hmset（名称字段，tempDict）
    r.zadd('ispmaxindex',row[1],namefield)
    ispctr = ispctr+1
conn.close()

ipstotest = ['23.23.23.23','24.96.185.10','203.59.91.235','188.66.105.50','99.98.163.93']
对于 ipstotest 中的 ip：
    ipvalsList = [int(ipoct) for ipoct in ip.split('.')]
    ipnum = (16777216*ipvalsList[0]) + (65536*ipvalsList[1]) + (256*ipvalsList[2]) + ipvalsList[3]
    ipnum = long(ipnum)
    tempVal1 = r.zrangebyscore('ispmaxindex',ipnum,float('Inf'),0,1)
    tempval2 = r.hgetall(tempval1[0])
    打印 tempval2['ispname']

```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T09:46:44.470

我相信这是错误的做法。

将 IP 映射保持为整数范围（从 IP - 到 IP，[转换为十进制](http://www.aboutmyip.com/AboutMyXApp/IP2Integer.jsp)），并使用传统数据库或使用强比较的 NoSQL 快速查询您的主题 IP。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-07T10:21:36.127

您可以在 Redis 中存储 4B 项，而不会降低性能，但您需要内存（即所有内容都必须适合内存）。

此处描述了使用 Redis 实现此类查询的最佳方法：

[在 Redis 中存储 ip 范围](https://stackoverflow.com/questions/9989023/store-ip-ranges-in-redis/9991303#9991303)

和这里：

[Redis 或 Mongo 用于确定数字是否在范围内？](https://stackoverflow.com/questions/8622816/redis-or-mongo-for-determining-if-a-number-falls-within-ranges/8624231#8624231)

因此，最佳解决方案的复杂性取决于您认为 IP 范围是否可以重叠的事实。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-07T15:41:05.027

只需使用[geodis](https://github.com/doat/geodis)。它已经进行了 IP 到国家/地区的查找，并为您有效地存储了这些数据。您可以自由地将它仅用于数据加载和直接从 redis 本身请求数据。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-12-18T02:52:25.487

我们用于快速 Geo-IP 解析的方法是获取所有 IP 范围并在`/24`（前三个四边形）处打破它们，并在这些地址中存储包含所有匹配项的记录。这为您提供了 1600 万个密钥和 O(1) 访问权限。如果您能容忍分解存储记录的客户端复杂性，那么它在不占用大量 RAM 的情况下表现出色。

更详细地说：

*   取所有范围，并将它们的前 24 位分解。
    *   范围`128.100.60.0-128.100.60.9`变成一个记录，`<128.100.60 | 0 9 | (...recA...)>`
    *   范围`128.100.60.10 - 128.100.62.80`将变为`<128.100.60 | 10 255 | (...recB...)>`、`<128.100.61 | 0 255 | (...recB...)>`和`<128.100.62 | 0 80 | (...recB...)>`。
*   将具有相同前缀的所有记录组合成一个哈希，其键是其范围的*顶部*。所以
    *   关键`128.100.60`：`{9: {...recA...}, 255: {...recB...}}`
    *   关键`128.100.61`：`{255: {...recB...}}`
    *   关键`128.100.62`：`{80: {...recB...}, ...}`

要检索特定 IP，通过其 24 位键检索复合记录，并返回子键大于最后一部分的第一个结果。如果我向上看`128.100.60.20`，我会发现那`9`不是更大，而是更大，`255`所以返回`recB`。

这是在 Hadoop 之类的事物中进行范围连接（甚至是空间连接！）的常用策略：在某个合理的块上分区，然后在范围的一端建立索引。

# android - 较低 API 上的 Android 片段

> ID：10478798
> 
> 赞同：4
> 
> 时间：2012-05-07T08:16:50.927
> 
> 标签：android, api, android-fragments

好吧，我开始了解 Android 片段，但这仍然让我感到困惑。我需要一点帮助。正如它所说，自 API 级别 11 起支持 android 片段，但您可以下载“support.v4”库包以获取较低级别的 API。好吧，首先我创建新项目来尝试 API 级别 15 上的片段。然后我对 API 级别 8 做了同样的事情，但它不起作用......我导入了外部 jar，它看到了所有需要的导入......是这里的问题吗？

这是我的主要课程：

```
import android.support.v4.app.FragmentActivity;
import android.os.Bundle;

public class Fragment2Activity extends FragmentActivity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
    }
} 
```

我的主要布局 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="@string/hello" />

        <fragment 
   android:name="com.frag.Fragment2.frag"
   android:id="@+id/frag"
   android:layout_width="match_parent"
   android:layout_height="match_parent" />

</LinearLayout> 
```

我的片段类：

```
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

public class frag extends Fragment {
       @Override
       public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
          // Inflate the layout for this fragment
          View v = inflater.inflate(R.layout.hello_fragment, container, false);
          return v;
       }
    } 
```

还有我的片段布局 XML：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >
    <TextView
   android:layout_width="fill_parent"
   android:layout_height="match_parent"
   android:text="THIS IS FRAGMENT"
   android:background="@drawable/ic_launcher"
/>

</LinearLayout> 
```

**固定的**

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-07T08:21:18.273

您仍在使用`android.view.fragment`该类，该类不存在。您必须切换到`android.support.v4.app.fragment`旧设备。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:29:18.510

如果您因为 minSdkVersion 而使用较低的 API，您应该知道您可以使用最新的 sdk 并将 minSdkVersion 设置为较低的值。它们不必相同。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T12:41:23.640

好的，所以我遇到了同样的问题，终于让它工作了。首先确保您拥有最新的 ADT 工具。

1）进入每个使用片段的活动，并让它们从而`FragmentActivity`不是扩展`Activity`

2）如果您还没有将支持库导入到您的构建中，则右键单击您的项目->Android工具->添加支持库

3）确保在你的xml标签是`<fragment />`而不是`<android.support.v4.app.fragment />`

希望对你有所帮助，我花了一段时间才让它工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-09-04T03:19:49.840

实际上，这个问题来自 ADT 工具。

1.  通过 src > gen > Private > other ... 在 Java Build Path 中重新排序“Order and Export”

2.  添加支持库 >> android-support-v4.jar

# facebook - 需要有关共享功能的信息 (facebook)

> ID：10478799
> 
> 赞同：0
> 
> 时间：2012-05-07T08:16:52.790
> 
> 标签：facebook, share

我正在尝试为 facebook、twitter 和其他主要共享站点设置一个共享按钮。问题是当我使用我发现的方法时，它们只能让我手动将 url 添加到共享中，而不是文本或标题。这是一个问题，因为在我的网站上，共享按钮会出现在一些帖子上，主页一次显示 10 个，引用页面显示一个和评论。这些帖子是通过 php 函数从数据库中获取的，返回到索引并显示它们。然后 index 负责显示什么类型。

这里的问题是共享按钮查看 index.php 的标题和文本，这两者都是动态添加的。所以它找到了错误的数据。无论如何手动告诉它使用什么文本和标题？如果没有，那么关于如何重新设计以使其工作的任何建议？

网站网址： http: [//ohmsgaming.com/nstdt/index.php](http://ohmsgaming.com/nstdt/index.php)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T09:20:49.017

我不确定您所说的“分享”是什么意思，但如果您指的是旧的分享按钮/网址，那么您不应该使用它，因为它已被弃用并且不再受支持，因为它在此处说明：

> Share 按钮已被弃用，取而代之的是 Like 按钮，并且将不再受支持。请尽可能使用“赞”按钮为您的应用带来最大流量。

（参考：http: [//developers.facebook.com/docs/share/](http://developers.facebook.com/docs/share/)）

和这里：

> **旧的“分享”按钮怎么了？**
> 
> 当我们启动“赞”按钮时，我们弃用了“分享”按钮，因为“赞”按钮允许用户一键连接，并允许他们查看他们的哪些朋友已经连接，从而提高了点击率。

（参考：http: [//developers.facebook.com/docs/reference/plugins/like/](http://developers.facebook.com/docs/reference/plugins/like/)）

而是使用 Like 按钮，并且只使用不同的 url 作为类似的 url，例如：*http://your.domain/post.php?id=POST_ID*。facebook 将从您的页面中提取数据，因此您需要指定与 POST_ID 匹配的开放图形标签。

另一种方法是使用 fb js sdk[发布到 feed](https://developers.facebook.com/docs/reference/dialogs/feed/)，如下所示：

```
var obj = {
    method: "feed",
    link: "LINK_URL",
    picture: "PIC_URL",
    name: "Test feed dialog",
    caption: "Testing posting",
    description: "more text"
};

FB.ui(obj, function callback(response) {
    console.log(response);
}); 
```

如您所见，您可以控制所有字段。

# python - 在 64 位 linux 上编译 32 位 python 模块（例如 numpy）

> ID：10478802
> 
> 赞同：3
> 
> 时间：2012-05-07T08:17:34.983
> 
> 标签：python, linux, x86-64, 32-bit, distutils

在 python 测试框架中，我们通过 Tkinter 与 spirent 测试中心的 tcl API 接口。这个 spirent testcenter API 只有 32 位，这意味着我们的 tcl 解释器需要是 32 位的。我们使用来自 python 的 Tkinter 来引导 tcl API。（我知道最近为 testcenter 发布了一个 python 驱动程序，但这也只是 32 位的。）因为 Tkinter 集成在 python 中，python 安装也需要是 32 位的。

我想在 CentOS x86_64 工作站上运行这个框架。我已经成功地安装了 32 位的 testcenter 驱动程序、ActiveTcl 和 python，并且可以正常工作。然而，testframework 也依赖于许多 python 包（例如 numpy），它们也需要构建为 32 位才能使用它们。但是，我无法弄清楚如何以 32 位构建这些软件包。我尝试将编译器选项 -m32 传递给 distutils 构建命令（即 python setup.py build），但这很高兴被忽略。似乎有一个 -p 选项可以通过平台，但这仅适用于 Windows。我还研究过使用仅限 32 位的编译器，但 distutils 似乎有一个可用编译器的静态列表，而且我相信只有英特尔编译器（即商业......）只有 32 位。

是否有人对如何在 64 位 Linux 架构上构建 32 位 python 模块，或者如何在 64 位中构建 python 本身以便软件包安装很容易，但在 32 位中集成 tcl/tk 有一个绝妙的主意？

干杯。

维姆

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-10T15:29:22.763

To build modules the way you're trying to do, you need to set CFLAGS=-m32 and LDFLAGS=-m32 before attempting to compile the module.

For example:

```
CFLAGS=-m32 LDFLAGS=-m32 python setup.py install 
```

# android - 构建ROM时设置默认壁纸

> ID：10478804
> 
> 赞同：2
> 
> 时间：2012-05-07T08:18:02.863
> 
> 标签：android, build, wallpaper

我需要在构建 ROM 时在 Android 中设置默认壁纸。我已经构建了一个基于 CM7 的 ROM 作为示例，并删除了除 之外的所有壁纸文件`love_cm`，但在第一次启动时，`cmchrome`仍然是我的默认壁纸。

我怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-09-13T10:29:57.397

1）在apktool中加载框架文件

```
apktool if framework-res.apk 
```

2）反编译

```
apktool d framework-res.apk 
```

3) 导航到 /res/drawable-hdpi/ 并删除 default_wallpaper.jpg 文件

4) 在/res/drawable-hdpi/中复制你想作为默认壁纸的jpg文件，并在default_wallpaper.jpg中重命名

5) 导航到 /res/values/ 并打开 strings.xml

6）更改此行 com.android.wallpaper/.nexus.NexusWallpaper

有了这个：

```
<string name="default_wallpaper_component">@null</string> 
```

7) 编译framework-res.apk

```
apktool b framework-res framework-res-modded.apk 
```

8) 签名（例如 ApkManager）

9) 在framework-res.apk 中重命名并推送到ROM flashable zip

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-24T14:44:21.487

使用 winrar 在 system\framework 中打开 framework-res.apk 并搜索 res/drawablenodpi 和其他包含 defaultwallpaper.jpeg 的文件。

# c - CUDA CUBIN 对象是否向后兼容？

> ID：10478805
> 
> 赞同：1
> 
> 时间：2012-05-07T08:18:05.670
> 
> 标签：c, cuda, shared-libraries

我的应用程序使用 CUDA 内核进行大部分计算。出于充分的理由（超出此问题的范围），我使用共享对象/链接模型来动态加载对象文件，每个对象文件都包含 1 个主机函数和 1 个 CUDA 内核。由于内核不能是`extern`这样一个内核的基本结构是：

```
__global__ kernel() { ...code... }

extern "C" void call_kernel() {
  <<<GRID,BLOCK,SHMEM>>>kernel();
} 
```

我使用一个主机函数，其唯一目的是调用内核。为了构建我使用的共享对象：

```
nvcc -arch=sm_20 -m64 --compiler-options -fPIC,-shared -link -o kernel0.o kernel0.cu 
```

整个应用程序使用了大量这些内核，并且它们加载了`dlopen()`. 如果一切（构建/加载/执行）都在一台机器 A 上，那么整个事情就可以正常工作。

但是，当我在机器 B（cuda 4.1，NVIDIA C2050）上编译/构建共享对象时，然后`dlopen`在机器 A（cuda 4.0，GTX 480）上编译/构建共享对象时，计算不会产生与也构建共享对象相同的结果在机器 A 上。

这对我来说听起来很奇怪。文件中是否没有嵌入`.o`包含独立于特定 GPU 架构的指令的 CUBIN 对象？

我知道建议使用相同的编译器版本进行构建和链接。同样，我有充分的理由为什么不在执行共享对象的同一台机器上构建共享对象。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T11:48:13.920

我想第一点是你的应用程序中根本没有使用 CUBIN 文件，你使用的是 CUDA 胖二进制对象。这两件事是不一样的。

但这不是你问题的根源。您的问题与 CUDA 运行时库有关。运行时 API 是版本化的，为给定运行时 API 版本编译的任何代码都必须使用该版本运行。此外，运行时 API 库版本具有最低驱动程序版本要求。您不能使用针对 CUDA 4.1 库构建的应用程序并期望在具有 CUDA 4.0 库的机器上运行它。NVIDIA 推荐的分发运行时 API 代码的方法是将运行时 API 库 (libcudart) 与您的应用程序一起分发，并指定您的代码所需的最低驱动程序版本。这确保了应用程序将正确运行（最低驱动程序版本带来最低 CUDA 驱动程序 API 版本，而分布式运行时 API 库则满足要求）。

另一种方法是真正使用 cubin 文件并使用 CUDA 驱动程序 API。它更具可移植性（在最低驱动程序版本要求内），但它在您的主机代码中也有更多的工作。这是你的选择。

# c++ - C++结构：ENTITY entity=ENTITY::CURRENT，是什么意思？

> ID：10478810
> 
> 赞同：0
> 
> 时间：2012-05-07T08:18:21.927
> 
> 标签：c++, structure

我开始在一家新公司工作，我必须在一个旧项目上使用 C++ 工作。所以，我忘记了一些 C++ 本身的代码结构。在一个函数中，我在一个函数中有一个双冒号 :: ，我不知道如何在这里理解它。

例如，我知道如果我有 ENTITY::SRP，它会“链接”实体命名空间中的 SRP 类，但是在这里我找不到 CURRENT 类。

这是示例：

```
void FlushBuffer (ENTITY entity=ENTITY::CURRENT,int msg_type=IN_MSG::T_CONT); 
```

那么，CURRENT 是 C++ 中的一个特定词吗？

提前致谢。

```
class ENTITY
{
    protected:
    char entity[16];

    public:
    #ifdef _BIG_ENDIAN    
    enum IMM {
        ALL=0,
        SSP=0x53535000,
        SRP=0x53525000,
        AUX1=0x41555831,
        AUX2=0x41555832,
        ANY=0x414E5900,
        CURRENT=-1}; 
```

我找到了这个，所以如果我想访问我的枚举，我只需要做 ENTITY::AUX2 例如？和 enum nam IMM 不需要？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:20:51.257

`ENTITY`可能是一种`enum`类型，其成员（枚举数）为`CURRENT`and 。`SRP`

请注意，在使用枚举数时，您不需要使用完全限定的枚举数名称（以 开头的名称`ENTITY::`）。在这种情况下， Microsoft 编译器会发出[警告](http://msdn.microsoft.com/en-us/library/ms173704%28v=vs.100%29.aspx)。`ENTITY`不是命名空间，它是新类型的名称。

# android - Android layout-large 是否也意味着大于 large？

> ID：10478811
> 
> 赞同：1
> 
> 时间：2012-05-07T08:18:26.623
> 
> 标签：android, layout

简单而简短的问题，但似乎我无法在任何地方找到答案。创建布局大文件夹时，具有 xlarge 屏幕的设备是否也会使用此文件夹？

那么 layout-large 是否也意味着大于 large？我认为它会，但不确定。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T08:23:59.553

不，当您创建文件夹 layout-large 时，它​​不会被 xlarge 屏幕使用，但如果您想将 xml 用于 xlarge 布局，您可以使用`layout-xlarge`。如果没有， `layout-xlarge`那么 android 系统在这种情况下使用默认布局。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:22:17.527

对于 xlarge 设备使用

Layout-xlarge.device 会自动加载

检查这个链接

[http://developer.android.com/guide/practices/screens_support.html](http://developer.android.com/guide/practices/screens_support.html)。它会给你一个简短的想法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T08:23:22.227

有用于超大屏幕的 layout-xlarge。您可以参考[此处](http://developer.android.com/guide/practices/screens_support.html)了解有关支持多屏的更多详细信息

# facebook - Facebook Graph API 错误代码列表

> ID：10478812
> 
> 赞同：34
> 
> 时间：2012-05-07T08:18:35.950
> 
> 标签：facebook, facebook-graph-api

在哪里可以找到官方的 Graph API 错误代码列表？

我用了半年的Graph API，在过去的6个月里，错误码的格式变了两次！

我第一次看到错误代码时，它看起来像：

```
{   
    "error": {
        "message": "Error invalidating access token: The session has been invalidated because the user has changed the password.",      
        "type": "OAuthException",      
    }
} 
```

真的很奇怪，错误信息没有提供任何错误代码！

然后几个月后，引入了“预期的”错误代码。

```
{   
    "error": {
        "message": "Error invalidating access token: The session has been invalidated because the user has changed the password.",      
        "type": "OAuthException",      
        "code": 190,      
    }
} 
```

但遗憾的是，您仍然无法通过检查“代码”来区分错误究竟是什么，因为许多具有相同“类型”的错误具有相同的“代码”。

刚才，我发现错误信息包含新字段：

```
{   
    "error": {
        "message": "Error invalidating access token: The session has been invalidated because the user has changed the password.",      
        "type": "OAuthException",      
        "code": 190,      
        "error_subcode": 460   
    }
} 
```

好的，这正是我需要的。

但是我在哪里可以找到错误代码列表？我知道有 FQL 错误代码列表，[http](http://fbdevwiki.com/wiki/Error_codes#FQL_Errors) ://fbdevwiki.com/wiki/Error_codes#FQL_Errors ，但它似乎已经过时并且没有提供有关“error_subcode”的任何消息。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-05-07T08:27:08.407

Facebook Developer Wiki（非官方）不仅包含 FQL 错误代码列表，还包含[其他](http://fbdevwiki.com/wiki/Error_codes)错误代码，它以某种方式进行了更新，但不包含可能的错误代码的完整列表。

Graph API 返回的错误代码没有~~任何官方或~~更新（我的意思是真正更新）列表。可以在网上找到的每个列表都已过时，并没有太大帮助...

有描述一些[API 错误](https://developers.facebook.com/docs/reference/api/errors/)和基本恢复策略的官方列表。还有一些特定代码的官方列表：

*   [图形 API › 错误](https://developers.facebook.com/docs/reference/api/errors/)
*   ~~[OAuth 错误](https://developers.facebook.com/docs/oauth/errors/)~~
*   ~~[积分错误代码](https://developers.facebook.com/docs/credits/errorcodes/)~~-[自 2013 年 9 月起不再支持 Facebook 积分](https://developers.facebook.com/docs/apps/migrations/completed-changes#sep_2013)
*   [付款错误代码](https://developers.facebook.com/docs/concepts/payments/errorcodes/)

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-12-10T16:38:39.833

我一直在寻找同样的东西，我刚刚找到了这个列表

[https://developers.facebook.com/docs/reference/api/errors/](https://developers.facebook.com/docs/reference/api/errors/)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-01-30T14:20:07.923

我还发现了更多的错误子代码，以防 OAuth 异常。复制自 facebook bugtracker，没有任何保证（可能包含已弃用、错误和已停产的保证）：

```
/**
  * (Date: 30.01.2013)
  *
  * case 1: - "An error occured while creating the share (publishing to wall)"
  *         - "An unknown error has occurred."
  * case 2:    "An unexpected error has occurred. Please retry your request later."
  * case 3:    App must be on whitelist        
  * case 4:    Application request limit reached
  * case 5:    Unauthorized source IP address        
  * case 200:  Requires extended permissions
  * case 240:  Requires a valid user is specified (either via the session or via the API parameter for specifying the user."
  * case 1500: The url you supplied is invalid
  * case 200:
  * case 210:  - Subject must be a page
  *            - User not visible
  */

 /**
  * Error Code 100 several issus:
  * - "Specifying multiple ids with a post method is not supported" (http status 400)
  * - "Error finding the requested story" but it is available via GET
  * - "Invalid post_id"
  * - "Code was invalid or expired. Session is invalid."
  * 
  * Error Code 2: 
  * - Service temporarily unavailable
  */ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-07T08:26:02.440

虽然似乎没有公开的、由 Facebook 策划的错误代码列表，但许多人已经自行发布了已知代码列表。

查看[StackOverflow #4348018 -](https://stackoverflow.com/questions/4348018/list-of-facebook-error-codes)许多有用资源的 Facebook 错误代码列表。

# google-app-engine - 从 Google App Engine 流式传输音频

> ID：10478819
> 
> 赞同：4
> 
> 时间：2012-05-07T08:19:28.480
> 
> 标签：google-app-engine, audio, stream

一般来说，是否可以从`BlobStore`AppEngine 上流式传输音频文件？
如果是，那么从直接 url流式传输**.mp3文件呢？**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-07T10:31:56.423

是的！！这是我的实现：

```
public class Serve extends HttpServlet {

    private static final long serialVersionUID = 5603629129606331547L;

    public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException {
        BlobKey blobKey = new BlobKey(req.getParameter("blob-key"));
        BlobstoreServiceFactory.getBlobstoreService().serve(blobKey, res);
    }
} 
```

..这是web.xml：

```
<servlet>
        <servlet-name>Serve</servlet-name>
        <servlet-class><my-package>.Serve</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>Serve</servlet-name>
        <url-pattern>/serve</url-pattern>
    </servlet-mapping> 
```

请注意“直接网址”（我认为您的意思是 getServingUrl）仅适用于图像： [https ://developers.google.com/appengine/docs/java/images/overview#Transforming_Images_from_the_Blobstore](https://developers.google.com/appengine/docs/java/images/overview#Transforming_Images_from_the_Blobstore)

# bash - ls | grep -v 在脚本中

> ID：10478821
> 
> 赞同：3
> 
> 时间：2012-05-07T08:19:34.843
> 
> 标签：bash, grep

我有一个 bash 脚本，我想在其中执行此操作

```
 (in pseudo)
    for each item in excludelist
        append to string: | grep -v $item

    for each file in directory 
    do
        stuff
    done 
```

现在

```
 (in real code, the creation and concatenation of f works, the problem is not here I believe)
   for i in $EXCLUDE
   do
       echo $i
       f="$f | grep -v $i"
   done

   for d in `ls $AWSTATSCONF/awstats*conf $f`
   do
       echo $d
   done 
```

输出

```
 ls: |: No such file or directory
   ls: grep: No such file or directory 
```

任何和所有的帮助都非常感谢让这个工作。

问候，

阴影

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T13:36:24.680

由于您使用的是 bash，因此您可以使用[模式匹配](http://www.gnu.org/software/bash/manual/bashref.html#Pattern-Matching)来排除您的 EXCLUDE 列表：

```
pattern=$(awk ' BEGIN {OFS="|"; printf("!(")} 
                {$1=$1; printf("%s",$0)} 
                END {print ")"}
              ' <<< $EXCLUDE)
shopt -s extglob
for d in $pattern; do
  echo $d
done 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T14:06:27.537

有很多方法可以处理它。

正确地，对解析`ls`. 它们的合理性取决于您是否必须处理所有可能的文件名（包含空格和换行符的文件名特别成问题），或者您是否有仅使用可移植文件名字符集的普通文件名（根据[POSIX](http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap03.html#tag_03_276)，是（拉丁）字母、数字、加`.`、、`-`和`_`）。

假设您只需要处理可移植文件名，那么您可以获得您想要的效果：

```
for i in $EXCLUDE
do
    echo $i
    f="$f | grep -v $i"
done

for d in `eval ls $AWSTATSCONF/awstats*conf $f`
do
    echo $d
done 
```

像这样使用`eval`会强制外壳将字符串`$f`中的管道视为外壳中的管道。 **当心**:`eval`是一个强大且因此很危险的工具。

如果要排除 20 个术语，则选择按顺序运行 20 个 grep 的机制使用大量进程。出于演示目的，它可能不会太严重，但如果您正在处理生产工作和数千个文件......不太好。

你可能想看看构建一个`egrep`（或`grep -E`）命令：

```
f="antidisestablishmentarianism"
for i in $EXCLUDE
do
    f="$f|$i"
done

ls $AWSTATSCONF/awstats*conf |
egrep -v "$f" |
while read d
do echo $d
done 
```

我假设您没有任何名称包含“反反建制主义”的统计文件（是的，这是一个真实的词；不过，它在这里主要用作笑话）。

`while read`公式是编写`for`循环的另一种方式。小心子进程不能影响父 shell 的变量。也就是说，`while`循环由子 shell 处理，而不是主 shell，所以如果你依赖循环在主 shell 中设置变量，它将不起作用——你可以/应该回到`for`循环. 但是，您不再需要`eval`：

```
for d in $(ls $AWSTATSCONF/awstat*conf | egrep -v "$f")
do
    echo $d
done 
```

使用`$(...)`而不是反引号通常是一个好主意。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T08:45:05.457

问题是它`foo whatever whatever else`作为 ls 命令的普通转义参数执行（当然 | 和 grep 在当前目录中找不到）。`eval`是将字符串作为 bash 命令执行的命令

您需要执行以下操作

```
for d in `eval "ls $AWSTATSCONF/awstats*conf $f"`
do
   echo $d
done 
```

请记住，这会在安全方面打开一大堆蠕虫，请查看以下[常见问题解答](http://mywiki.wooledge.org/BashFAQ/050)以了解更多信息和其他替代方案

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-07T09:14:22.267

不要使用`for i in $(ls)`. 您应该使用通配符。

不要使用连接来构建一长串`grep -v`.

从哪里来`$EXCLUDE`？它应该是一个数组而不是一个字符串。

```
for d in "$AWSTATSCONF"/awstats*conf
do
    for e in "${exclude[@]}"
    do
        if [[ $d != $e ]]
        then
            echo "$d"
        fi
    done
done 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-05-07T08:22:49.340

您需要将 * 输出附加`grep`到`$f`。

```
$f = "$f $(grep -v $i)" 
```

# ios - 如何使用本地源类型、iPad 以编程方式创建日历？

> ID：10478825
> 
> 赞同：1
> 
> 时间：2012-05-07T08:19:49.210
> 
> 标签：ios, ipad, ekeventkit

我正在使用 EKSourceTypeLocal 从我的应用程序创建一个日历。我能够创建该日历，但是当我转到 ical 并查看日历列表时，它不存在。我使用 Eventkit 框架在 iOS 5.0 上创建自定义日历。

请给我建议。

谢谢

# php - 仅使用正则表达式替换宽度超过 300

> ID：10478826
> 
> 赞同：0
> 
> 时间：2012-05-07T08:19:58.947
> 
> 标签：php, regex

我写了一些可以改变任何

```
 width="any number" 
```

用字符串

```
 $width="300" 
```

像这样 ：

```
$width = 'width="300"'
$content = preg_replace( '/width="([0-9]*)"/' , $width , $content ); 
```

但是在这段代码中，所有的宽度都发生了变化，所以我希望它只替换超过 300 的宽度

那么我该如何修改我的正则表达式来处理这个？！

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:27:39.503

```
$content = preg_replace('/width="([3-9][0-9]{2,}|[1-9][0-9]{3,})"/',$width,$content); 
```

# c# - 如何通过名称或 ID 获取内容类型？

> ID：10478828
> 
> 赞同：2
> 
> 时间：2012-05-07T08:20:01.457
> 
> 标签：c#, sharepoint, content-type

我正在尝试通过名称或 ID 获取内容类型。

我正在使用此代码，但它不起作用。

```
SPContentTypeId eventTypeId = new SPContentTypeId("0x0102"); 
SPContentType eventType = web.AvailableContentTypes[eventTypeId]; 
```

你有什么想法？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T08:48:58.950

根据您在问题中提供的信息，我认为您正在寻找的是这样的：

```
SPContentType spct = web.AvailableContentTypes ["ContentTypeName"]; 
```

祝你好运！:)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-04-15T21:51:16.400

只是上面的注释。如果您打算对内容类型进行任何更改，那么您不想使用上述功能。它将返回只读版本。你想使用：

```
web.ContentTypes["ContentTypeName"]. 
```

代替：

```
web.AvailableContentTypes["ContentTypeName"]. 
```

只是为了节省人们一大堆时间，因为上述答案并不正确。它应该包括两个选项，因为它实际上取决于上下文以及他们如何使用它。尽管他们没有提供这些细节，但这是谷歌的最佳答案。

# java - eclipse - 为日志方法的参数创建模板

> ID：10478829
> 
> 赞同：4
> 
> 时间：2012-05-07T08:20:04.750
> 
> 标签：java, eclipse

我想在 Eclipse 中创建一个模板，该模板将包含所有封闭方法的参数及其值的日志。例如，对于方法：

```
foo(int i,String s) 
```

模板应评估为：

```
myLogger.log("i="+i+",s=",s); 
```

有这样的事情吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T11:55:22.667

仅供参考 - 我找到了一个 eclipse 插件，可以帮助我完成我所需要的。见这里：[http ://code.google.com/p/eclipse-log-param/](http://code.google.com/p/eclipse-log-param/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:35:16.387

我宁愿在这里使用[AspectJ](http://www.eclipse.org/aspectj/)而不是模板。
参见例如[方法参数的通用登录？](http://dev.eclipse.org/mhonarc/lists/aspectj-users/msg04324.html)

```
/**
*
*/
package at.systemone.examples.aop;
import org.apache.log4j.*;
import org.aspectj.lang.*;
import org.aspectj.lang.reflect.*;

public aspect LogMethod {
  pointcut logMethod(): call (public * AOPLogging.*(..));
  before(): logMethod(){
    Logger log = Logger.getLogger(assembleFullName(thisJoinPointStaticPart));
    Object[] paramValues= thisJoinPoint.getArgs();
    String[] paramNames= ((CodeSignature)thisJoinPointStaticPart.getSignature()).getParameterNames();
logParamValues(log, paramNames, paramValues);
  }
  after() returning(Object o): logMethod(){
    Logger log = Logger.getLogger(assembleFullName(thisJoinPointStaticPart));
    // Object returnValue= thisJoinPoint.getArgs()[0];
    if (log.isEnabledFor(Level.INFO)){
    log.info("returns: '"+o+"'"); }
  }
  private void logParamValues(Logger log, String[] paramNames, Object[] paramValues) {
    if (log.isEnabledFor(Level.INFO)) { // you can even gain perfomance by using the (otherwise unsexy) fast if clause
      String nv="(";
      for (int i=0; i<paramValues.length; i++) {
        nv += paramNames[i]+" = '" + paramValues[i] +(i+1==paramValues.length?"')":"', ");
      }
      log.info(nv);
    }
  }
  private String assembleFullName(JoinPoint.StaticPart joinPointStaticPart) {
    Signature sig = joinPointStaticPart.getSignature();
    String sign= sig.getDeclaringType().getName()+"."+sig.getName();
    return sign;
  }

} 
```

# android - 如何更改画廊的滚动视图

> ID：10478833
> 
> 赞同：1
> 
> 时间：2012-05-07T08:20:09.873
> 
> 标签：android, gallery

```
MyGallery gallery = (MyGallery)findViewById(R.id.gallery_photo);
PhonePhotoViewerAdapter = new PhonePhotoViewerAdapter(this, FilePath);
gallery.setAdapter(PhonePhotoViewerAdapter);
gallery.setSelection(0); 
```

以上是我用滚动视图显示照片的代码。
但是如果我想关注下一个，我必须将手指在屏幕上移动更远的距离。
我想让它在移动较小距离时改变焦点
我该怎么做？
我修改了类库如下：

```
@Override
public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
if (e1.getX() - e2.getX() > 50  && Math.abs(velocityX) > 100) {    
// Fling left 
} else if (e2.getX() - e1.getX() > 50 && Math.abs(velocityX) > 100) {    
// Fling right 
}  
return false;
} 
```

下面的代码是我的修改：

```
gallery.setLongClickable(false);
gallery.setOnTouchListener(new OnTouchListener() {
        @Override
        public boolean onTouch(View v, MotionEvent event) {
            // TODO Auto-generated method stub
            int action = event.getAction();
            if((action == MotionEvent.ACTION_DOWN) && !Clicking) {
                StartX = event.getX();
                StartIndex = gallery.getSelectedItemPosition();
                Clicking = true;
            }
            else if((action == MotionEvent.ACTION_UP) && Clicking) {
                EndX = event.getX();
                EndIndex = gallery.getSelectedItemPosition();
                Clicking = false;
                if(((EndX - StartX) > 50) && (StartIndex == EndIndex)) {
                    if(EndIndex > 0) {
                        gallery.setSelection(EndIndex - 1);
                    }
                }
                else if(((StartX - EndX) > 50) && (StartIndex == EndIndex)) {
                    if(EndIndex < count - 1) {
                        gallery.setSelection(EndIndex + 1);
                    }
                }               
            }
            return false;
        }
    }); 
```

但在表现上也有些不正常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T08:09:47.540

我找到了我的问题的解决方案。
即定义 MyGallery 如下：

```
public class MyGallery extends Gallery {
    public MyGallery(Context context, AttributeSet attrSet) {
        super(context, attrSet);
    }

    @Override
    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
        int kEvent;    
        if(isScrollingLeft(e1, e2)) {   
            //Check if scrolling left       
            kEvent = KeyEvent.KEYCODE_DPAD_LEFT;    
        }  
        else {   
            //Otherwise scrolling right      
            kEvent = KeyEvent.KEYCODE_DPAD_RIGHT;     
        }    
        onKeyDown(kEvent, null);    
        return true;    
    }

    private boolean isScrollingLeft(MotionEvent e1, MotionEvent e2) {
        return e2.getX() > e1.getX();   
    }  

    @Override
    protected android.view.ViewGroup.LayoutParams generateLayoutParams (android.view.ViewGroup.LayoutParams p) {
        return super.generateLayoutParams(p);
    }
} 
```

# c++ - 如何根据不同的参数定义相同的宏功能

> ID：10478837
> 
> 赞同：0
> 
> 时间：2012-05-07T08:20:22.423
> 
> 标签：c++, macros, overloading

我有一个功能

```
void fun(int j, int i = 10); 
```

我想通过宏函数来调用乐趣。

```
#define fun1(x) fun(10)

#define fun1(x, y) fun(x, y) 
```

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T08:24:01.587

为什么要在这里使用宏？在 C++ 中，使用内联函数会更容易也更惯用。

一般来说，如果你陈述你的*问题*，而不仅仅是想象的解决方案，你可能会得到更好的帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T08:25:08.737

您不能像函数一样根据参数的数量重载宏。

你最好只调用这个函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T08:29:26.470

一些预处理器很有趣尝试：

```
#define fun1 fun 
```

或者

```
#define fun1(...) fun( __VA_ARGS__) 
```

或者

```
#define fun1(x...) fun(x) 
```

# c# - 类似于 SQLite 或 SQL CE 的便携式 OLAP 数据库

> ID：10478840
> 
> 赞同：1
> 
> 时间：2012-05-07T08:20:35.793
> 
> 标签：c#, sqlite, sql-server-ce, olap, oltp

我正在使用 C# 开发应用程序并尝试选择正确的数据库平台。我的应用程序是某种数据分析工具。在将数据初始导入数据库后，我总是会进行 SELECT 查询。我打算使用 SQLite，因为与 SQL CE 相比，它的读取性能更好。（我在某处看过比较）

但是，我觉得为此需要一个 OLAP 数据库而不是 OLTP 数据库。我还在某处读到 SQLite 仅支持 OLTP。你知道任何其他支持 OLAP 的类似于 SQLite 的 PORTABLE 库吗？或者你有什么推荐给我的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2021-06-04T15:54:45.603

[DuckDB](https://duckdb.org/)项目应该完全符合您的期望。它是一个进程内 SQL OLAP 数据库管理系统。基本上是 SQLite 的 OLAP 版本。

我还没有实际经验，但它看起来很有前途。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T09:20:42.193

我看到的是可以在 C# 中访问的MS[本地多维数据集。](https://stackoverflow.com/questions/801377/building-a-local-cube)但我想要创建一个本地多维数据集，您首先需要在 AS 中创建一个多维数据集，因此提前拥有多维模型。

# ruby-on-rails - 为什么constants.rb中的这个变量需要声明为全局变量？

> ID：10478843
> 
> 赞同：0
> 
> 时间：2012-05-07T08:20:53.943
> 
> 标签：ruby-on-rails, global-variables, constants

我希望整个应用程序都可以使用一个列表，所以我把它放在了 constants.rb 中：

`hebrew_consonants = ["א", "ב", "ג", "ד", "ה", "ו", "ז", "ח", "ט", "י", "ך", "כ", "ל","ם","מ","ן", "נ", "ס", "ע", "ף", "פ", "ץ", "צ", "ק", "ר", "ש","ת"]`

在 application_controller.rb 中，我使用如下列表：

```
def is_hebrew?(query)
    (0...query.length).each do |index|
        return true if hebrew_consonants.include?(query[index])
    end
    return false
end 
```

我重新启动了服务器，该应用程序抱怨它不知道该列表。我在它的声明和它的引用（$hebrew_consonants）之前加上了美元符号，它起作用了。使用我的其他常量，它们就可以工作。我想我认为它们*应该*是全局变量，只是因为在那个类中。为什么这个行为不同？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T09:19:03.497

首先确保您的`constants.rb`文件位于`/config/initializers/`. 其次，尝试将所有大写字母用于`hebrew_constants`. 从这个[SO question](https://stackoverflow.com/questions/1107782/wheres-the-best-place-to-define-a-constant-in-a-ruby-on-rails-application)中的评论来看，听起来全部大写是必要的。

# actionscript-3 - Actionscript 包含和使用外部 AS 包

> ID：10478852
> 
> 赞同：0
> 
> 时间：2012-05-07T08:21:27.187
> 
> 标签：actionscript-3, adobe, flash, mxml, mxmlc

我有这个 flex 项目。下面提到的是我的目录结构（List1）。现在，如果我想使用一个外部包，它具有 List2 中提到的以下目录结构，我应该在哪里包含它以及我想如何使用它在代码中

List1：项目名称：Dirtest

```
.settings
bin-debug
html-template
libs
src
.actionScriptProperties
.flexProperties
.project 
```

List2：外部项目目录结构。

```
loyui/assests
loyui/bin
loyui/lib
loyui/src/fr/lab/test.as 
```

上面的外部项目复制到哪里以及如何在List1中使用

```
 import mx.controls.Alert;
import flash.events.SampleDataEvent; 
import flash.media.Microphone;
import flash.net.FileReference;
import mx.controls.Alert;
import flash.net.FileReference; 
import flash.display.Sprite;
    //How to execute this statement successfully
    import fr.lab.test; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:33:13.807

它取决于`test.as`. 正如你的问题所暗示的那样，它是`fr.lab.test`. 在这种情况下，您需要添加`loyui/src`到 Flex 类路径。每当编译器发现未知类时，类路径会列出所有应搜索类的目录。如何设置这个类路径取决于你所处的开发环境，只需谷歌你的 IDE 和类路径的名称，你应该会得到你想要的。

**编辑**如果您想要一个更便携的解决方案，您可以打包`loyui/src`到一个[SWC 库](http://help.adobe.com/en_US/flex/using/WS2db454920e96a9e51e63e3d11c0bf69084-7fd3.html)中，并在多个项目中轻松地重用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:37:32.080

您实际上不需要复制它。但是，您可以在 List1 项目中为 List2 添加一个依赖项。

假设您在工作区中导入了两个项目，您只需右键单击 List1，然后在 Flex Build Path 设置中，您可以单击 Add Project，然后选择 List2 项目文件夹。就是这样。

# php - 每周执行一次 php 代码，但随机日期

> ID：10478856
> 
> 赞同：2
> 
> 时间：2012-05-07T08:22:09.147
> 
> 标签：php, mysql, random

我正在为存储在数据库中的商店提供折扣的 PHP 促销活动。每周一次，这周内的随机日期和时间，我需要运行 sql 查询并显示折扣券。

我正在寻找这样的东西：

```
if(once_a_week()){
show_discount_coupon();
} 
```

这比我想象的要难，关于如何面对这个问题的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T10:15:14.607

我会在数据库中为每周生成随机日期和时间，然后在您网站的代码中检查它。从数据库中获取日期列表中的第一个日期，并对其进行测试：

```
if $date_today == $next_coupon_date{ showCoupon(); } 
```

在那一周之后，您删除此日期，您将使用下一个日期。:)

这样，一旦创建了日期，您就不必再担心任何事情了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:38:37.317

我找到了一种非常快速而肮脏的方法来完全按照您的意愿行事，但它不是很安全：

[链接（在第三个回复中）](http://www.webmasterworld.com/php/3875021.htm)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T08:57:42.170

1.  在您的数据库或配置文件中创建两个字段，例如。"next_week_day","update_time";
2.  在您的脚本中生成字段的值，

    $next_week_day = 兰德（1,7）；

3.检查脚本中的日期：

```
<?php
  if(date("N") == $next_week_day){
      show_discount_cuppon();
      if($update_time<time()){
         $update_time = time();
      }
    $next_week_day = rand(1,7);
  }
?> 
```

# android - 使用 OpenSL ES Android 同时播放多个音效

> ID：10478858
> 
> 赞同：2
> 
> 时间：2012-05-07T08:22:16.157
> 
> 标签：android, android-ndk, opensl

我正在使用 OpenSL ES 在我的项目中播放音乐和声音。我使用*原生音频样本*作为开始，它可以很好地再现背景音乐和单个声音，但是当我尝试同时再现两个或多个声音时，声音不会同时再现，因为声音缓冲区在播放时排队播放所有以前的缓冲区。

然后，经过一番研究，**我找到了两种解决方法**，简而言之：

> 1.  使用多个音频播放器（因此缓冲队列）来重现声音。
> 2.  将音效缓冲区混合到一个缓冲区中，然后加入队列。

我的问题是： **您认为最好的方法是什么？我忽略了更好的方法吗？**

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-03-08T18:16:58.730

我也在使用 OpenSL ES。刚开始有点复杂...

无论如何，您可以创建任意数量的 ObjectPlayer，始终记住对象的最大数量是 32。

所以，理想情况下，如果你想同时播放 4 个声音，你需要 4 个 PlayerObject 和 1 个 OutputMixObject

希望你能找到有用的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T09:51:20.827

这是一种完全不同的方法：我正在使用[SoundPool](http://developer.android.com/reference/android/media/SoundPool.html)来执行此操作：它非常简单，而且效果很好。

# php - 将多个 csv 文件导入 mysql 表

> ID：10478861
> 
> 赞同：3
> 
> 时间：2012-05-07T08:22:30.650
> 
> 标签：php, mysql, pdo

**更新**

在我发布这个问题后的第二次，由于结果查询的语法突出显示，我看到了问题所在：`$pl`字符串没有以结束的反勾号打开。现在我将其更改为：

```
$pk = ',`%1$sUSER`,`%1$sTYPE`,`%1$sCODE`,`%1$sVALUE`,`%1$s';//WRONG
$pk = '`,`%1$sUSER`,`%1$sTYPE`,`%1$sCODE`,`%1$sVALUE`,`%1$s';//OK 
```

然而，这提出了一个新问题：为什么 PDO 对象没有为此向我回吐错误？手动执行查询肯定会返回一个错误，指出没有名为 的字段`fld2_AGE,`，末尾有一个逗号。为什么我没有收到任何错误？有任何想法吗？

PS：任何想法如何支持SO的语法突出显示以解决我的问题？:-)

我将原始问题作为参考/示例，尽管它不再需要解决

* * *

好的，我一直在使用我写的脚本从一个大文件中导入生成几个 csv 文件，以快速将数据导入到几个 mysql 表中。这个脚本在过去（我认为）运行良好，直到我写了第二个脚本，我不小心截断了我的表（愚蠢，我知道）。'没什么大不了的'我想，因为我有脚本，恢复我的数据只需几秒钟。不幸的是，我发现现在只导入了一个文件，并且没有显示任何错误。下面我粘贴了脚本的整个 db 部分。当我执行这段代码时，我得到的只是输出`files imported successfully`，这是最后一行代码......

我知道这是一个失败的大代码块，有很多字符串格式的打印，这并不能提高可读性，所以我还在下面提供了生成的查询字符串。据我所知，它们看起来格式很好，文件也是如此（我检查过）。谁能告诉我应该在哪里寻找错误？这将是一个很大的帮助...谢谢！

```
<?php
$files = array_fill_keys(array('filename1','filename2','filename3','filename4'),'');
//$files === array of handles fputcsv($files['filename1'],array('values','from','other','files'),';');
$tbls = array_combine($files,array('tblname1','tblname2','tblname3','tblname4'));
$path = dirname(__FILE__)'/';
$qf = 'LOAD DATA LOCAL INFILE \'%s%s.csv\' INTO TABLE my_db.tbl_prefix_%s FIELDS TERMINATED BY \';\' OPTIONALLY ENCLOSED BY \'"\' LINES TERMINATED BY \'\n\'';
$pref = array_combine($files,array('fld1_','fld2_','fld3_','fld3_'));
$pkA = ' (`%1$sNAME`,`%1$sAGE';
$pk = '`,`%1$sUSER`,`%1$sTYPE`,`%1$sCODE`,`%1$sVALUE`,`%1$s';
try
{
    $db = new PDO('mysql:host=mysqlhostn','user','pass');
    foreach($files as $f)
    {
        $db->beginTransaction();
        $db->exec(sprintf('TRUNCATE TABLE my_db.tbl_prefix_%s',$tbls[$f]));
        $db->commit();
    }
}
catch(PDOException $e)
{
    if ($db)
    {
        $db->rollBack();
        $db = null;
    }
    die('DB connection/truncate failed: '.$e->getMessage()."\n");
}
try
{
    while($f = array_shift($files))
    {
        $db->beginTransaction();
        $q = sprintf($qf,$path,$f,$tbls[$f]).sprintf($pkA.($f !== 'agent' ? $pk : ''),$pref[$f]);
        switch($f)
        {
            case 'filename3':
                $q .= 'tbl3_specific_field';
            break;
            case 'filename2':
                $q .= sprintf('tbl2_specific_field`,`%1$tbl2_specific_field2',$pref[$f]);
            break;
            case 'filename4':
                $q .= sprintf('tbl4_specific_field`,`%1$tbl4_specific_field2`,`%1$tbl4_specific_field3`,`%1$tbl4_specific_field4',$pref[$f]);
            break;
        }
        $stmt = $db->prepare($q.'`)');
        $stmt->execute();
        $db->commit();
    }
}
catch(PDOException $e)
{
    $db->rollBack();
    $e = 'CSV import Failed: '.$e->getMessage();
    $db=null;
    die($e."\n");
}
$db = null;
exit('files imported successfully'."\n");
?> 
```

生成的查询 - 执行输出：

```
TRUNCATE TABLE my_db.tbl_prefix_tblname1
TRUNCATE TABLE my_db.tbl_prefix_tblname2
TRUNCATE TABLE my_db.tbl_prefix_tblname3
TRUNCATE TABLE my_db.tbl_prefix_tblname4

LOAD DATA LOCAL INFILE '/local/path/to/files/filename1.csv' INTO TABLE my_db.tbl_prefix_tblname1 FIELDS TERMINATED BY ';' OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n' (`fld1_NAME`,`fld1_AGE`)
LOAD DATA LOCAL INFILE '/local/path/to/files/filename2.csv' INTO TABLE my_db.tbl_prefix_tblname2 FIELDS TERMINATED BY ';' OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n' (`fld2_NAME`,`fld2_AGE,`fld2_USER`,`fld2_TYPE`,`fld2_CODE`,`fld2_VALUE`,`fld2_tbl2_specific_field`,`fld2_tbl2_specific_field2`)
LOAD DATA LOCAL INFILE '/local/path/to/files/filename3.csv' INTO TABLE my_db.tbl_prefix_tblname3 FIELDS TERMINATED BY ';' OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n' (`fld3_NAME`,`fld3_AGE,`fld3_USER`,`fld3_TYPE`,`fld3_CODE`,`fld3_VALUE`,`fld3_tbl3_specific_field`)
LOAD DATA LOCAL INFILE '/local/path/to/files/filename4.csv' INTO TABLE my_db.tbl_prefix_tblname4 FIELDS TERMINATED BY ';' OPTIONALLY ENCLOSED BY '"' LINES TERMINATED BY '\n' (`fld4_NAME`,`fld4_AGE,`fld4_USER`,`fld4_TYPE`,`fld4_CODE`,`fld4_VALUE`,`fld4_tbl4_specific_field`,`fld4_tbl4_specific_field2`,`fld4_tbl4_specific_field3`,`fld4_tbl4_specific_field4`) 
```

> csv导入成功

File1 正在按我的需要导入，这是第一个文件的示例：

> 11;9

虽然 file2 的实际内容（没有被导入）看起来像这样：

> 11;9;25;5;FOOBAR;Z;333;321;123

两个第一个字段都包含相同的数据，因为它们应该包含相同的数据，两个表具有相同的字段定义、相同的存储引擎（InnoDB）、排序规则（UTF-8）......我不知道是什么导致了问题，所以任何建议都是非常感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:39:22.873

> 为什么 PDO 对象没有为此向我回吐错误？

因为 MySQL 执行了您的查询而没有任何错误。仅仅因为您编写了错误的查询，这并不意味着该查询是错误的，MySQL 不会接受它。

每当您以编程方式生成 SQL 查询时，请验证（通过调试甚至更好的单元测试），查询是否已针对您想要执行的操作正确创建。

如果您想在每次发生错误时获取异常，请启用：

```
$db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); 
```

# java - 删除项目的Maven性质后无法删除目标目录

> ID：10478862
> 
> 赞同：11
> 
> 时间：2012-05-07T08:22:32.163
> 
> 标签：java, eclipse, maven

我决定不在我的项目中使用 maven。所以，我在 Eclipse 中右键单击它，然后“删除 maven nature”。一切似乎都很好，但我无法删除目标目录。如果我从 Eclipse 中删除它，它只是再次创建，如果我从 Explorer 中删除它，结果是一样的，只要我从 Eclipse 中清理我的项目，它就会再次创建。

我哪里错了？

提前致谢。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-07T08:35:27.753

# 禁用和删除 Maven*目标*目录

1.  右键项目——选择`Maven->Disable Dependency Management.`
2.  右键单击项目-选择`Build Path-> Configure Build Path -> Source Tab`。取消勾选“*允许源文件夹的输出文件夹*”
3.  现在输入“您的项目名称”/bin 例如。TestProject/bin，在*Default Output Folder*字段中指向默认值。
4.  现在单击确定并删除目标目录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:34:42.560

试试这个：右键单击项目文件夹 -> 属性 -> Java 构建路径 -> '默认输出文件夹：'部分中的源更改文件夹以指向新位置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T08:54:46.273

`target/classes`目录和其他任何目录一样好。由于 m2e 切换了这个，它是 Maven 标准输出目录，不再由 m2e 相关或处理。如果需要，您可以按项目设置自己的输出目录`Properties -> Java Build Path -> Source -> Default output folder`，例如设置`bin`为 Eclipse 的默认目录。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-21T22:49:05.613

Right click on you project. Go to Build Path--> Configure Build Path Uncheck Maven Dependencies, this made my target folder to work fine.

# android - 主仓库中的 Android x86？

> ID：10478863
> 
> 赞同：1
> 
> 时间：2012-05-07T08:22:43.537
> 
> 标签：android, x86, android-x86

今天我发现我可以在主要的 android 存储库中为 4.0.x 构建一个 android x86 版本。我为`vbox_full_x86-eng`目标构建，但我得到的只是与正常手臂构建相同的图像。（但我认为它们是用 x86 工具编译的，但它们只是打包成相同的图像）

我还没有发现任何文档或新闻表明 android 现在在主仓库中可用于 x86，但它对所有表等都是完全有意义的......但是我现在如何创建例如 virtualbox 图像？我应该只从创建的分区映像（和）创建一个分区映像`boot`并`system`在`userdata`其上运行 grub 或其他东西吗？

# php - Azure 上的虚拟目录

> ID：10478864
> 
> 赞同：0
> 
> 时间：2012-05-07T08:22:43.717
> 
> 标签：php, azure

我正在尝试在 Windows azure 上安装 PHP 服务。我想创建一个虚拟目录，我需要保留原来的父文件夹结构。但是，Azure 将虚拟目录作为根文件夹。此配置在 IIS 7 和 windows azure SDK 中没有任何问题。

例如。访问地址 www.myService.cloudapp.net 时，必须访问“MyFolder/lib/admin”，但它必须保留所有父文件夹结构和文件，PHP 将使用这些结构和文件

我尝试使用 ServiceDefinition.csdef 文件执行此操作：

情况1

```
<Sites>
<Site name="Web" physicalDirectory="./MyFolder/lib/admin/">        
    <Bindings>
        <Binding name="Endpoint1" endpointName="HttpEndpoint" />
    </Bindings>
</Site>
</Sites> 
```

案例2

```
<Sites>
<Site name="Web" physicalDirectory="./MyFolder/lib/admin/">
    <VirtualDirectory name="admin" physicalDirectory="MyFolder/lib/admin"/>        
    <Bindings>
        <Binding name="Endpoint1" endpointName="HttpEndpoint" />
    </Bindings>
</Site> 
</Sites> 
```

案例3

```
<Sites>
<Site name="Web" physicalDirectory="./MyFolder/lib/admin/">
    <VirtualApplication name="admin" physicalDirectory="MyFolder/lib/admin">        
    <Bindings>
        <Binding name="Endpoint1" endpointName="HttpEndpoint" />
    </Bindings>
</Site> 
</Sites> 
```

在这些情况下，azure 使结构 'E:\siterrot\0\admin' 并且 'admin' 的父文件夹是 '0' 而不是 'lib' 并且 PHP 需要访问 lib 内容。

azure 是否支持虚拟目录？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T13:42:17.237

是的，您应该能够通过执行以下操作：

```
<WebRole name="SampleWebApp">
  <Sites>
    <Site name="SampleSite" physicalDirectory="..\SampleWebApp">
      ...
       <VirtualDirectory name="Scripts"
                          physicalDirectory="..\SampleWebApp\Scripts" />
        <VirtualDirectory name="Styles"
                          physicalDirectory="..\SampleWebApp\Styles" />
      </VirtualApplication>
      ...
    </Site>
  </Sites>
  ...
</WebRole> 
```

这是来自：

[http://msdn.microsoft.com/en-us/library/windowsazure/gg432956.aspx](http://msdn.microsoft.com/en-us/library/windowsazure/gg432956.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-15T17:22:25.373

最简单的方法是进入您网站的 azure 门户并配置您的应用程序。一直向下滚动以找到用于此特定目的的“**虚拟应用程序和目录”。**

![**在此处输入图片描述**](../Images/b033aed0a53d0096fd016d969029260a.png)

# apache - 将 www.domain.com/test.php 重写为 www.domain.com/test/

> ID：10478869
> 
> 赞同：3
> 
> 时间：2012-05-07T08:22:59.337
> 
> 标签：apache, .htaccess, mod-rewrite, redirect

好的，在编辑 .htaccess 时，我完全是个菜鸟。在我建立网站的这些年里，我从来没有把它弄乱过，最近当我试图理解创建我正在寻找的东西的过程时，它就在我的脑海中飞过。

*   我想要做的是创建一个链接 domain.com/test/ 加载 domain.com/test.php 但保留 /test/ 而不是更改为 /test.php

*   所以我加载 domain.com/test/ 并看到页面 domain.com/test.php 但地址栏显示 domain.com/test/

如果有人能帮我解决这个问题，那就太棒了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:36:14.927

通过启用 mod_rewrite 和 .htaccess `httpd.conf`，然后将此代码放在您`.htaccess`的`DOCUMENT_ROOT`目录下：

```
Options +FollowSymLinks -MultiViews
# Turn mod_rewrite on
RewriteEngine On
RewriteBase /

RewriteRule ^test/?$ test.php [L,NC] 
```

# sql - 来自 SQL 文件的 SQL bcp

> ID：10478871
> 
> 赞同：0
> 
> 时间：2012-05-07T08:23:12.877
> 
> 标签：sql, bcp

我将查询保存在 .sql 文件中

我需要使用 bcp 调用此查询并执行它。任何想法如何做到这一点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T09:46:40.750

听起来您可能想为此使用[sqlcmd](http://msdn.microsoft.com/en-us/library/ms162773.aspx)而不是`bcp`.

# objective-c - 在textview中单击输入时如何关闭键盘

> ID：10478873
> 
> 赞同：1
> 
> 时间：2012-05-07T08:23:37.027
> 
> 标签：objective-c

我是一名初学者 iOS 开发人员。我正在开发一个应用程序，其中有一个文本视图，但当我单击“返回”或“输入”键时关联的键盘没有关闭。

```
- (BOOL)textView:(UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text
{
    if([text isEqualToString:@"\n"])
    {
        [txtView resignFirstResponder];
        return NO;
    }

    return YES;
} 
```

欢迎任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:27:52.563

这取自 Niels Hansen：[关闭 iphone 键盘](https://stackoverflow.com/questions/389825/dismiss-iphone-keyboard)

这是您需要记住的几件事。开发人员忘记设置的编号 #1 部分是 textField 的委托。

如果您使用 Interface Builder，您必须记住您需要将 textField 的委托设置为文件 Owner。

如果您没有使用 Interface Builder，请确保将文本字段的委托设置为 self。我还包括 returnType。例如，如果 textField 被称为 gameField：

```
gameField.delegate = self;
gameField.returnKeyType = UIReturnKeyDone; 
```

您还必须为您的 ViewController 实现 UITextFieldDelegate。

```
@interface YourViewController : UIViewController <UITextFieldDelegate> 
```

最后，您需要使用 textFieldShouldReturn 方法并调用

```
[textField resignFirstResponder]

   -(BOOL) textFieldShouldReturn:(UITextField*) textField {
    [textField resignFirstResponder]; 
    return YES;
} 
```

您的所有文本字段都将使用相同的方法，因此您只需进行一次此设置。只要为textField设置了委托，为接口实现了UITextFieldDelegate，你添加textFieldShouldReturn方法并调用你设置的resignFirstResponder

# php - 从 php 获取与 mysql 连接的错误？

> ID：10478874
> 
> 赞同：0
> 
> 时间：2012-05-07T08:23:46.700
> 
> 标签：php, mysql, connection

我是 php 新手，连接到 mysql 时出现错误，因为我的 sql 安装在我的虚拟机中，ip 为 192.168.1.104，我在我的机器服务器 2003 中使用这个 mysql，ip 为 192.168.1.102，我成功地使用它服务器使用 mysql 客户端，但在服务器上，当我尝试访问 mysql 以进行 php 连接时，我收到错误...

这是我从 php 为 mysql 建立的连接，

```
<?php

$port = "3306";

$server = "192.168.1.104:".$port;

$dbname ="VideoResume";

$user = "root";

$pass = "nagios";

$conn = mysql_connect ($server, $user, $pass) or die ("Connection Error or Bad Port");

mysql_select_db($dbname) or die("Missing Database");

? 
```

>

当我附加带有 mysqlerror 名称的文件时出现的错误

希望尽快收到您的来信 提前谢谢

问候，

-syed mohsin raza![连接错误在此图像中](../Images/b236f0b5cf5ef350ab504d60d81fa9a7.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T08:27:23.097

错误本身很明显，您需要重置 root 的密码：

命令是

```
UPDATE mysql.user SET Password=PASSWORD('MyNewPass') WHERE User='root';
FLUSH PRIVILEGES; 
```

你可能想看看

[MySQL 根用户密码](http://dev.mysql.com/doc/refman/5.0/en/resetting-permissions.html)

# iphone - 如何使特定单词在文本中的含义可触摸？

> ID：10478878
> 
> 赞同：0
> 
> 时间：2012-05-07T08:24:00.957
> 
> 标签：iphone, objective-c, core-data

我正在为 iPhone 开发一本散文书。所以我将所有的诗歌和文本存储在核心数据中。一个实体命名`story`和属性命名`details`，其中包含整个轶事。

但问题就在这里：如果用户想要触摸特定的词和诗来了解它们的含义和定义，我应该如何处理这个任务？我怎样才能使这些诗可供选择？就像 iPhone 中内置的字典一样，用户在特定单词上触摸并按住手指，会出现一个弹出窗口并显示该单词的定义！

[书样](http://i.stack.imgur.com/R3Snr.jpg)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-07T08:31:32.023

您是否将它们展示在 中`UILabel`，如果是，您可能对这些感兴趣：

[gltaplabeldemo](http://cocoacontrols.com/platforms/ios/controls/gltaplabeldemo)

[rtlabel](http://cocoacontrols.com/platforms/ios/controls/rtlabel)

[属性标签](http://cocoacontrols.com/platforms/ios/controls/ohattributedlabel)

祝你好运。

# sql - SQL 查询以逗号分隔的形式获取基于单元 ID 的电子邮件 ID 列表

> ID：10478879
> 
> 赞同：1
> 
> 时间：2012-05-07T08:24:01.740
> 
> 标签：sql

我有一个`Emaildistributionlist`包含 3 列的表：`UnitID`这是唯一的，`Email`并且`dept Name`. 在这里，我编写了一个查询来获取基于的列表`id`，

```
SELECT distinct id, EMAIL 
FROM tblEmaildistributionlist  
WHERE dept like '%Contracts Dept%' 
```

所以我得到如下输出：

```
 ID=1  Email="cc@gmail.com" etc... 
```

但问题是一个 id 有很多电子邮件，所以我想要一个像这样的输出

```
ID=1 Email=cc@gmail.com,rr@gmail.com,yy@gmail.com.` 
```

所有`emailid`'s 以逗号分隔的形式，在电子邮件列中。

我需要在查询中进行哪些修改才能获得此结果？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T08:40:03.617

这项工作适用于 Mysql

```
SELECT 
     id, 
     GROUP_CONCAT(distinct EMAIL SEPARATOR ',') as Email 
from 
     tblEmaildistributionlist 
WHERE 
     dept like '%Contracts Dept%' 
GROUP BY 
     id 
```

这适用于 SQL Server

```
SELECT
    a.id,
    STUFF((SELECT ','+b.Email From tblEmaildistributionlist b WHERE b.id=a.id AND b.dept like '%Contracts Dept%' FOR XML PATH ('')),1,1,'') as Email
FROM 
    tblEmaildistributionlist a
WHERE 
    a.dept like '%Contracts Dept%' 
GROUP BY
    a.id 
```

这适用于 Oracle 11g

```
SELECT 
     id, 
     LISTAGG(EMAIL, ',') as Email 
from 
     tblEmaildistributionlist 
WHERE 
     dept like '%Contracts Dept%' 
GROUP BY 
     id 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-09-06T06:42:54.463

你可以用这个。它工作正常

DECLARE @listStr VARCHAR(MAX) SELECT @listStr = COALESCE(@listStr+',' , '') + EmailId FROM StudentDetails SELECT @listStr

像这样发出 - email@doamin.com,emaol1@domain.com

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-08T08:18:02.013

```
 select  a.ID,Stuff((select distinct  ','+ b.EMAIL from tblEmaildistributionlist b 
   where b.ID=a.ID and b.dept like '%Contracts Dept%' FOR XML PATH ('')  ),1,1,'') AS EMAIL
     from  tblEmaildistributionlist a
    WHERE 
     a.dept like '%Contracts Dept%'
     group by a.ID 
```

完美运行....

# qt - 如何调试失败的信号/插槽连接？

> ID：10478883
> 
> 赞同：1
> 
> 时间：2012-05-07T08:24:25.197
> 
> 标签：qt, dialog, connect, signals-slots

我正在关注 Jasmin Blanchettes 书中的第 2 章

```
C++-GUI-Programming-with-Qt-4-1st-ed.pdf 
```

尝试使用带有 Qt 的 MS VS 2008 设置对话框 GoToCellDialog。

该示例编译，出现对话框，但无法在文本更改上输入处理程序方法 on_lineEdit_textChanged()。为了证明这一点，我在 slot 方法中添加了这一行：

```
label->setText(tr("Changed :")); 
```

强制在标签中进行视觉更改。

在 .ui 文件中的元素

```
<connections/> 
```

是空的。我不知道为什么。

我决定将这一行添加到构造函数中：

```
connect(lineEdit, SIGNAL(textChanged(const QString &)),
this, SLOT(on_lineEdit_textChanged())); 
```

但这并没有改变任何东西。

我使用 IDE 生成代码，但首先它生成了小写的 gotocelldialog。现在每个名称都是 camelCase 并且代码可以编译。但也许我错过了什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T11:40:14.283

我在我的程序中使用了一个函数来确保建立良好的连接：

```
 inline void CHECKED_CONNECT( const QObject * sender, const char * signal,
             const QObject * receiver,  const char * method,
             Qt::ConnectionType type = Qt::AutoConnection )
{
  if(!QObject::connect(sender, signal, receiver, method, type))
   qt_assert_x(Q_FUNC_INFO, "CHECKED_CONNECT failed", __FILE__, __LINE__);
} 
```

这是通常连接的包装器，它会在连接失败时引发断言错误并立即停止程序。好吧，它仅对您使用源代码进行的连接有用。

# perl - 是否有规则告诉我必须选择哪种形式的 STDOUT/STDERR/SDTIN？

> ID：10478884
> 
> 赞同：10
> 
> 时间：2012-05-07T08:24:28.057
> 
> 标签：perl, stdout, stdin, stderr

有时我必须使用裸词“STDOUT”，有时裸词不起作用，有时我可以使用裸词或其他形式。是否有规则告诉我何时必须选择表格，何时必须选择表格以及何时可以选择表格？

```
#!/usr/bin/env perl
use warnings;
use 5.12.0;
use utf8;

print STDOUT "Something\n";             # works

print \*STDOUT "Something\n";           # String found where operator expected 

print { STDOUT } "Something\n";         # Bareword "STDOUT" not allowed while "strict subs" in use 

print { \*STDOUT } "Something\n"        # works

my $fh;

$fh = -t STDOUT ? STDOUT : STDERR;      # Bareword "STDOUT"/"STDERR" not allowed while "strict subs" in use

$fh = -t STDOUT ? \*STDOUT : \*STDERR;  # works

$fh = -t \*STDOUT ? \*STDOUT : \*STDERR; # works 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-05-07T08:56:18.223

这些是根据我的测试的规则：

1.  当`use strict subs`生效时，裸字版本不能作为文件句柄传递，大概是因为它们可能是子例程调用。

2.  和版本可以一直用来传递给函数`*STDOUT`。`\*STDOUT`

3.  将其中一个传递给带有`foo STDOUT`（不带括号）的 sub 会中断，因为 perl 假定它是`STDOUT->foo`.

4.  除了案例 1 和 3，您还可以将它们传递给带有裸字版本的 subs。

5.  对于对 等的调用`print`，`printf`您必须使用裸字版本，或使用`{}`. 包含文件句柄`{}`告诉 perl 第一个参数是文件句柄，所以你可以使用任何形式。

出于这些目的，与其他接受文件句柄的测试`-t`一样，都算作一个子项。`-X`

当你使用`{}`with`print`或`printf`时，里面的部分`{}`是一个代码块；它被评估并且结果被用作文件句柄。它适用于这些函数，因为 perl 对它们进行了特殊处理，其方式与`map`和相同`grep`。

所以遵循这些规则，你会没事的：

*   显式打印到 STDERR 或 STDOUT 时，请使用裸字版本：

    ```
    print STDERR "ERRORRRRR\n"; 
    ```

*   以任何其他方式使用文件句柄时，请使用以下`*`版本：

    ```
    my $isterm = -t *STDOUT;
    close(*STDERR); 
    ```

我早在 perl 5.8.7 就进行了测试。这是我现在可以去的最远的地方。以上内容*也*适用于 5.6。

# typo3 - TYPO3 - 上一页和下一页

> ID：10478891
> 
> 赞同：0
> 
> 时间：2012-05-07T08:24:34.390
> 
> 标签：typo3, typoscript

我有一组页面，它们是页面树中的兄弟姐妹。我在顶部有 2 个指向下一页和上一页的链接，我想在将您带到上一页的链接中添加一个 class="prev"，在将您带到下一页的链接中添加一个“next”。这是我的代码：

```
page.10.marks.MAIN.20 = HMENU
page.10.marks.MAIN.20{

    includeNotInMenu = 1
    excludeUidList = 78

    special = browse
    special{
        items = prev|next
    }

    1 = GMENU
    1 {
        wrap = <div class="ref-navi-wrapper clearfix">|</div>
        submenuObjSuffixes = a |*|  |*| b

        NO = 1
        NO {
            ATagParams = class="ref-nav prev" |*| |*| class="ref-nav next"
            ATagTitle.field = title

            altImgResource{
                width = 114
                import = uploads/media/
                import{
                    field = media
                    listNum = 0
                }
            }
        }
    }
} 
```

这段代码的问题在于，在最后一页中，由于只有一个指向上一页的链接，因此它采用“next”类，而不是“prev”类。

我怎么能解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-08T10:47:45.083

您可以创建条件并使用 {register:count_MENUOBJ}：

这意味着：

```
 ATagParams = class="ref-nav prev"
  ATagParams.override = class="ref-nav next"
  ATagParams.override {
    if.equals.dataWrap = {register:count_MENUOBJ}|
    if.value = 2
  } 
```

# algorithm - 我在哪里可以获得 S. Heymann 的 SIFT 算法的 GPU 实现？

> ID：10478892
> 
> 赞同：4
> 
> 时间：2012-05-07T08:24:36.667
> 
> 标签：algorithm, opengl, image-processing, sift

S. Heymann 于 2007 年在 GPU 上实现了 SIFT 算法，他的论文在这里 [http://wscg.zcu.cz/wscg/Papers_2007/Full/G03-full.pdf](http://wscg.zcu.cz/wscg/Papers_2007/Full/G03-full.pdf)

现在我需要运行他的代码来与我的实现进行比较。似乎他的代码是可以访问的，因为我阅读了一些运行 Heymann 的实现并进行了一些分析的论文。但是，我用谷歌搜索了几天，却找不到海曼的代码或可执行程序。谁能告诉我在哪里可以找到它？

# algorithm - 短语树成数组

> ID：10478896
> 
> 赞同：1
> 
> 时间：2012-05-07T08:25:04.853
> 
> 标签：algorithm, tree, phrase

我有这个词组树

> (ROOT (S (NP (ADJP (JJ Bahasa)) (NN daerah) (NN merupakan) (NN bahasa) (NN yang) (NN digunakan) (NN dalam) (NN bahasa) (NN pergaulan) (NN sehari-hari) (NN di) (NN suatu) (NN daerah) (NNP tertentu)) (VP (VBZ .))))

我需要转换成数组，像这样

> S -> NP VP
> NP -> ADJP NN NN NN NN NN NN NN NN NN NN NN NN NN
> ADJP -> JJ
> VP -> VBZ
> 
> 等....

有什么算法可以转换它们吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:31:11.617

您实际上可以确切地看到需要做什么。

每个左括号都是一个子元素，每个右括号都是该元素的子元素的结尾。

我不确定您要做什么，但这很简单...

阅读此内容以获取更多信息：[http ://en.wikipedia.org/wiki/Parse_tree](http://en.wikipedia.org/wiki/Parse_tree)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T20:44:14.297

这是一些基于库[pymeta2](http://www.allbuttonspressed.com/projects/pymeta)的 Python 代码，用于解析这种类型的树。

```
import pymeta.grammar

def f(name,E):
    print name+' -> '+' '.join(E)
    return name

G=pymeta.grammar.OMeta.makeGrammar("""
name = spaces ('.'|letterOrDigit|'-')+:n -> ''.join(n)
expr = token("(") name:p expr+:e token(")") -> f(p,e)
     | token("(") name:p name:e token(")") -> p
""",{'f':f})

s="(ROOT (S (NP (ADJP (JJ Bahasa)) (NN daerah) (NN merupakan) (NN bahasa) (NN yang) (NN digunakan) (NN dalam) (NN bahasa) (NN pergaulan) (NN sehari-hari) (NN di) (NN suatu) (NN daerah) (NNP tertentu)) (VP (VBZ .))))"

G(s).apply("expr") 
```

运行此代码的输出是：

```
ADJP -> JJ
NP -> ADJP NN NN NN NN NN NN NN NN NN NN NN NN NNP
VP -> VBZ
S -> NP VP
ROOT -> S 
```

（我必须在 (JJ Bahasa) 之后添加一个额外的括号才能完成这项工作。我怀疑这是问题中的错字？）

# scorm1.2 - 开源SCORM播放器

> ID：10478904
> 
> 赞同：2
> 
> 时间：2012-05-07T08:25:46.763
> 
> 标签：scorm1.2

我有一个在 PHP 和 Apache 中运行的 Web 应用程序，我现在需要在此应用程序中运行 SCORM 包。将从远程服务器访问 SCORM 内容。我正在寻找可以访问此内容的免费 SCORM 播放器和将其展示给用户。我第一次与 SCORM 合作，在网上浏览了很多，但找不到合适的东西。你能提供一些帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-10-28T18:59:29.593

一个轻量级的测试工具[TinyLMS](http://www.randelshofer.ch/tinylms/index.html)值得一试。

[您还可以设置Moodle](https://moodle.org/)等开源 LMS 的本地副本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T15:44:27.660

您可能想要查看的一个选项是 SCORM Cloud。这是一项托管服务，可让您托管、交付和跟踪您的 SCORM 包。有一个带有 PHP 库的 API，您可以使用它来将其与您的应用程序集成。如果您想试用，可以免费试用，但除此之外的服务不是免费的。

这里有更多信息[http://scorm.com/scorm-solved/scorm-cloud-features/scorm-cloud-api/](http://scorm.com/scorm-solved/scorm-cloud-features/scorm-cloud-api/)

# uiimageview - 如何检测以编程方式触摸了哪个子视图

> ID：10478918
> 
> 赞同：2
> 
> 时间：2012-05-07T08:27:10.617
> 
> 标签：uiimageview, subview, uitouch, uitapgesturerecognizer, uiresponder

我在网上搜索了很多，但没有找到任何具体的东西。我想这不是一个很大的问题，但我无法弄清楚。

我正在处理 UIImageView“A”，然后添加一些其他 UIImageViews 作为该“A ImageView”的子视图。为所有子视图启用了 UserInteraction。现在在 TouchBegan 方法中，我得到“A ImageView”的子视图数组并将其与 Touch.view 进行比较。但 touch.view 始终等于父视图，即“A ImageView”，并且永远不会返回触摸的子视图。

所以请指导我如何检测触摸了哪个子视图，然后我将通过更新其中心将该子视图移动到新位置。

提前感谢大家，期待您的回复。

问候，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T13:36:20.590

是否启用了子视图的交互，如果是，您是否尝试为您动态添加的每个主要视图和子视图提供单独的标签，并通过查看它们的标签来验证触摸...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-08T08:57:44.170

恐怕用 imageview 作为按钮是错误的，但如果你坚持这样做，试试这些：

您可以通过子类化 imageview 来重写 hitTest 方法

```
- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event
{
    UIView *hittedView = [super hitTest: point withEvent: event];
    NSLog (@"self=<%p>, hitted=<%p>", self, hittedView);
    return hittedView;
} 
```

添加日志以查看默认的 hitTest 是否返回正确的子视图。

如果没有，恐怕您必须自己编写 hitTest 代码：

```
- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event 
{
    for (UIView *view in self.subviews) {
        if (CGRectContainsPoint(view.frame, point)) {
           return view;
        }
    }
    return self
} 
```

本文档对您很有用：http: [//developer.apple.com/library/ios/#documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/Introduction/Introduction.html](http://developer.apple.com/library/ios/#documentation/EventHandling/Conceptual/EventHandlingiPhoneOS/Introduction/Introduction.html)

# html - 嵌套跨度上未禁用 CSS 直通

> ID：10478919
> 
> 赞同：3
> 
> 时间：2012-05-07T08:27:21.237
> 
> 标签：html, css

CSS：

```
ol {
    margin: 0 30px;
}
    li {
        margin: 15px 0;
    }
    li.done {
        text-decoration: line-through;
    }
    li.done span {
        text-decoration: none;
        background: #ff0;
    } 
```

HTML：

```
<ol>
    <li class="done">Hello <span>World</span></li>
    <li>World</li>
</ol> 
```

JSFiddle 演示：http: [//jsfiddle.net/pZye7/5/](http://jsfiddle.net/pZye7/5/)。在 JSFiddle 上有些奇怪，没有显示有序列表的数字。

我的要求：“世界”这个词不应该有直线。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-07T08:30:18.240

```
li.done span {
    text-decoration: none;
    background: #ff0;
    display: inline-block; /* This solved the problem.*/
} 
```

原因：未知

# c++ - 使用 cpp 恢复 pthread

> ID：10478924
> 
> 赞同：1
> 
> 时间：2012-05-07T08:27:37.040
> 
> 标签：c++, pthreads, resume

我正在编写一个程序，其中我有一个守护线程，只要主线程正在运行，它就会在后台运行。当主线程结束时我想终止守护线程，所以我尝试了两种方法：

1.  如果我使用 pthread_kill 我有内存泄漏，即使我将它初始化为可拆卸（没有必要加入这个线程）
2.  由于这不起作用，我想只要全局`bool _daemonRun`为真，就在循环中运行守护线程。在主线程终止之前，我设置`_daemonRun`为 false，然后在我`pthread_exit(NULL)`在循环外使用的守护程序中。问题是 - 我如何恢复线程？使用条件变量似乎一团糟，因为我不希望线程等待......

有任何想法吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T10:08:12.597

在我看来，您确实关心守护线程在主线程存在之前正确释放其资源（例如内存）。因此，将其创建为分离线程对我来说似乎是错误的，因为这表明您不在乎该线程何时/是否退出。

因此，我建议如下。将守护线程创建为普通线程。然后，在主线程存在之前，设置`_daemonRun`为`false`. 最后，join() 守护线程。

# apache-flex - 什么决定了 Flex 编译器输出消息的语言？

> ID：10478927
> 
> 赞同：0
> 
> 时间：2012-05-07T08:27:44.007
> 
> 标签：apache-flex, flex3

我有一个装有英文 Windows 7 Pro 的系统（戴尔笔记本电脑）。此外，它还安装了 Java (JDK6)。

在构建过程中，会调用 Flex 编译器（compc，Flex 3.3）（来自 ANT）。它会产生德语错误消息。为什么会这样做？具有相同 ANT 构建脚本的相同代码可以在公司的所有其他系统上以英语运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T08:57:52.253

编译器消息的语言显然由在控制面板→区域和语言→格式→格式中选择的语言/国家/地区确定

网络上的其他点击表明“非 Unicode 程序的语言”，但至少对于 Java6 x64，这并不适用。

# ruby-on-rails - 允许管理员在 Rails 应用程序中创建新列/表

> ID：10478929
> 
> 赞同：1
> 
> 时间：2012-05-07T08:27:46.963
> 
> 标签：ruby-on-rails, model, migration

我在开发时迁移到数据库的 Rails 应用程序中有许多记录类型（即表单），例如“请求”（请求者的名称、请求的描述）等。此请求记录现在可以存储输入的信息- 标准的东西。

我希望这个应用程序灵活，并且每次需要添加新字段时都不需要我返回代码并运行迁移。

我想授予管理员用户在记录类型上创建新字段的权限 - 例如，添加到期日期字段。如果没有访问命令行来运行，我找不到任何方法来做到这一点`rails generate model`......

此外，是否还可以为管理员用户提供一种创建新记录类型的方法 - 例如，可以将自定义字段添加到上面的“项目”记录。

（在 C/libpq 中，我只是将`CREATE TABLE`... 命令发送到数据库，然后使用列/类型名称来构造一个表单 - 但我很确定我会非常糟糕地破坏 Rails 的 MVC）。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T13:03:39.897

创建 Lokomotive cms 的人已经使用 MongoDB 实现了这些功能：http: [//locomotivecms.com/features](http://locomotivecms.com/features)。

所以，我建议你看看 MongoDB 和 Mongoid 并决定，你能用这些工具实现你的目标吗？

# c# - 在按钮单击时动态添加元标记

> ID：10478932
> 
> 赞同：0
> 
> 时间：2012-05-07T08:28:03.457
> 
> 标签：c#, asp.net, meta-tags

```
public void Save(object s, EventArgs e)
{

    HtmlMeta meta = new HtmlMeta() { Name = "DownloadOptions", Content = "noopen" };

    MetaPlaceHolder.Controls.Add(meta);

    string name = "Editor.html";

        //Response.AppendHeader("X-Download-Options", "noopen");
    Response.AppendHeader("content-disposition", "attachment; filename=" + name);
    Response.WriteFile(Server.MapPath("~/SentinelOperationsUI/Editor.html"), true);
    Response.End();
} 
```

`<meta name="DownloadOptions" content="noopen" />`如果我手动将元标记添加到标题中，则元标记在 ie7 中效果很好。但是，如果我尝试像这样动态添加它，我将没有效果。

我需要做什么才能为这个下载按钮事件点击添加这个元标记？我只希望它添加到此按钮。我是否需要在所有其他下载按钮单击事件中删除它？

希望你明白这个想法，否则会详细说明。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T09:23:04.880

您设置一个进入页面标题的标题，然后附加一个尝试加载文件的标题，然后发送一个 html 文件。

带有附件文件的附加标头被覆盖并忽略您之前尝试设置的html标头，而且您使用writeFile发送的html文件也直接发送到浏览器，并且**response.End**停止所有其他写入，包括您之前添加的**HtmlMeta 。**

即使您删除 .End() 标头也将在您发送的所有数据之后写入并且也没有任何意义。

# sharepoint - 我可以重置我的 .snk 文件密码吗？

> ID：10478934
> 
> 赞同：1
> 
> 时间：2012-05-07T08:28:16.277
> 
> 标签：sharepoint, snk

我现在正在接管一个在 VM 环境中开发的现有共享点项目。

我必须在指定帐户下进入VM环境。因为现在没有人知道 .snk 文件的密码。（创作者离开了）

我担心如果我们必须将开发环境转移到另一个 VM 中，我将无法继续开发它。

所以我想知道我可以恢复 .snk 文件密码吗？或我可以尝试的任何其他方式。

我知道我可以创建一个新的密钥文件，但所有的 aspx 文件都存储在 SharePoint 内容数据库中。

如果我构建一个新的 dll ，我必须更新 db 中每个 aspx 文件的 PublicTokenKey。它可能会对我的网站产生重大影响。

任何人都可以给我一个安全的方法来解决这个问题？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-11T04:17:26.263

我不相信这是可能的。您最好的选择是创建一个新的 snk 文件并查找/替换文件中的令牌。我没有完全理解您所说的“更新数据库中每个 aspx 文件的 PublicTokenKey”的意思使用 SharePoint，您应该主要处理在页面上作为 Web 部件存在的控件，因此这些控件就是您需要的更新。除非您正在更新母版页/页面布局，但您应该能够遍历这些并在那里查找/替换引用。

# java - 图像数字识别

> ID：10478936
> 
> 赞同：-1
> 
> 时间：2012-05-07T08:28:20.607
> 
> 标签：java, ocr, tesseract

我有数字识别库，即 tesseract
但我不知道如何将 DLL 与 JAVA 一起使用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-12T20:37:32.967

您可以使用 Tesseract DLL 的 Java JNA 包装器：[Tess4J](http://tess4j.sf.net)

一定要调用 TessBaseAPI::SetVariable("tessedit_char_whitelist", "0123456789"); 如果您只想[识别数字](http://code.google.com/p/tesseract-ocr/wiki/FAQ)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:35:41.140

您需要使用[jni](/questions/tagged/jni "显示标记为“jni”的问题")或从 Java 运行外部进程。看一下[Issue 302: how to run tesseract-ocr in java application at Linux platform](http://code.google.com/p/tesseract-ocr/issues/detail?id=302)。具体检查[tesjeract](http://code.google.com/p/tesjeract/)。

# ipad - “无法支持开发”iPad 5.1 + Xcode 4.3

> ID：10478937
> 
> 赞同：8
> 
> 时间：2012-05-07T08:28:24.210
> 
> 标签：ipad, xcode4.3, ios5.1

我正在使用 Xcode 4.3，当我的 iPad 与 iOS5.1 连接时，管理器确实识别出我的 iPad 但说

“**无法支持开发**”。

我尝试了另一台具有相同 iOS 的 iPad，没有任何问题。

有人有任何线索吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-29T10:12:52.570

关闭设备，然后重新打开。

[https://developer.apple.com/library/ios/#qa/qa1664/_index.html](https://developer.apple.com/library/ios/#qa/qa1664/_index.html)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-12-03T11:44:53.633

Powering on/off didn't work for me. However, I think there was some dirt or something in the 30-pin connector. I blew on it to clean it out, and voila, it worked.

Bonus: If you know what a Nintendo cartridge is, this trick will take you down memory lane.

# c++ - 0xC0000005：访问冲突读取位置 0x00000000

> ID：10478941
> 
> 赞同：29
> 
> 时间：2012-05-07T08:28:41.743
> 
> 标签：c++, access-violation

我正在开发的一款太空侵略者游戏遇到了一个非常奇怪的问题。基本上我得到一个访问冲突错误：

> SpaceInvaders.exe 中 0x5edad442 (msvcr100d.dll) 处的未处理异常：0xC0000005：访问冲突读取位置 0x00000000。

当我包含下面的代码时。调试时，Visual Studio 将我带到“strcmp.asm”。请注意，我没有在我的任何代码中使用 strcmp() 。代码有什么问题，还是超出我所包含的范围的问题？谢谢你的帮助

```
const char* invarray[] = {"invader0.png", "invader1.png", "invader2.png", "invader3.png", "invader4.png"}; 
int i=0;
//Creates 55 invaders
for (int y=0; y<250; y+=50){
    for (int x=0; x<550;x+=50){
        Invader inv(invarray[y/50], x+50, y+550, 15, 15, 1, false, 250);
        invaders[i] = inv;
    }
} 
```

入侵者构造函数：

```
Invader::Invader(const char *pic, int x, int y, int w, int h, bool dir, bool des, int point) : MovingObject(pic, x, y, w, h) , direction(dir), destroyed(des), b(0), points(point){}; 
```

移动对象构造函数

```
MovingObject::MovingObject(const char *pic, int x, int y, int w, int h):picture(pic), positionX(x), positionY(y), width(w), height(h) {}; 
```

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-05-07T08:35:22.750

“*访问冲突读取位置 0x00000000* ”意味着您正在取消引用尚未初始化[的指针，因此具有垃圾值。](https://stackoverflow.com/q/4955198/419956)这些垃圾值可以是任何东西，但通常它恰好是`0`，因此您尝试从内存地址中读取`0x0`，操作系统会检测并阻止您这样做。

检查并确保阵列`invaders[]`是您认为应该的阵列。

此外，您似乎`i`永远不会更新 - 这意味着您在每次循环迭代时都将相同的`Invader`对象放置在位置。`0``invaders[]`

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2012-05-07T08:37:52.587

这条线看起来很可疑：

```
invaders[i] = inv; 
```

你永远不会增加`i`，所以你一直分配给`invaders[0]`. 如果这只是您在将代码简化为示例时所犯的错误，请检查您`i`在实际代码中的计算方式；你可能超过`invaders`.

如果正如您的评论所暗示的那样，您正在创建 55 `invaders`，然后检查`invaders`是否已正确初始化以处理此数字。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2018-03-01T16:19:42.140

正如其他评论中所解释的，这里的问题是指针在没有正确初始化的情况下被取消引用。Linux 等操作系统将最低地址（例如前 32MB：0x00_0000 -0x200_0000）保留在进程的虚拟地址空间之外。这样做是因为取消引用归零的非初始化指针是一个常见的错误，就像在这种情况下一样。因此，当这种类型的错误发生时，不是实际读取恰好位于地址 0x0 的随机变量（但不是指针如果正确初始化后的内存地址），而是从外部的内存地址读取进程的虚拟地址空间。这会导致页面错误，从而导致分段错误，并向进程发送信号以将其杀死。这就是您收到访问冲突错误的原因。

# c# - 编写自定义 Msbuildtask 时抛出自定义编译器警告

> ID：10478943
> 
> 赞同：3
> 
> 时间：2012-05-07T08:29:04.527
> 
> 标签：c#, msbuild-task, xml-validation

我正在使用 msbuildtask 来验证 Build 上的 xml 文件。我可以在扩展 Task 之后使用 Execute 方法来做到这一点。无法显示自定义警告或说明构建失败原因的消息。是否有任何自定义方法可以从代码中引发编译器警告？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-08T05:12:49.430

我发现使用 ITask 接口比 Task 接口为我们提供了与 Msbuild 引擎交互的额外能力。

*   为一个类实现 ITask 接口，并在它的 Execute Method 中添加代码来执行你的任务。
*   在 csproj 中添加此任务。
*   在实现 ITask 接口时，有一种方法可以联系编译器并将消息或警告或错误传递给它。这是一个实现 ITask 接口的类的基本示例 [http://blogs.msdn.com/b/msbuild/archive/2006/01/21/515834.aspx](http://blogs.msdn.com/b/msbuild/archive/2006/01/21/515834.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T09:14:56.383

定义一个名字`WARN`，然后写在某处

```
#if WARN
#warning (Warning message)
#endif 
```

顺便说一句，你也可以用 来做到这一点`#error`。

# ant - Hudson 自动构建 + ANT Ftp 设置

> ID：10478944
> 
> 赞同：1
> 
> 时间：2012-05-07T08:29:05.970
> 
> 标签：ant, ftp, hudson

我已经用 ant 配置了 hudson 来编译项目，它工作正常。

编译后我希望脚本将输出目录上传到远程 ftp 服务器。

这是我正在使用的蚂蚁脚本：

```
<target name="deploy">
    <ftp server="${ftp.url}"
        port="${ftp.port}"
        remotedir="${ftp.dir}"
        userid="${ftp.user}"
        verbose="yes"
        password="${ftp.pass}">
        <fileset dir="${basedir}${output.dir}">
          <include name="**/*"/>
        </fileset>
    </ftp>
</target> 
```

这是工作！

在每次编译之前，hudson 会还原所有更改的文件。（基本上有2个，版本文件和编译文件）。

我希望脚本仅将较新的文件上传到服务器。但是当我向`ftp`节点添加一个属性时：`depends="yes"`或者`newer="yes"`，我得到了错误： `java.lang.NoClassDefFoundError: org/apache/oro/text/regex/MalformedPatternException`

Ant 正在使用这些 jar 文件：

## - ant-contrib-1.0b3.jar

## - commons-net-1.4.1.jar

有什么建议么？如果需要更多信息，请询问。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:32:37.117

您需要将 jakarta-oro 添加到类路径中，此信息隐藏在[安装 apache ant guid中](https://ant.apache.org/manual/install.html#commons-net)

> 需要 jakarta-oro 2.0.8 或更高版本以及 commons-net 1.4.0。对于所有用户，建议使用最低版本的 commons-net 1.4.0。早期版本不支持全系列的配置选项，需要 1.4.0 才能编译 Ant。

# extjs4 - Extjs：单击按钮后加载网格

> ID：10478946
> 
> 赞同：0
> 
> 时间：2012-05-07T08:29:11.007
> 
> 标签：extjs4

我有一个带网格的表格。网格值从商店加载，但商店将在按钮单击事件后加载。所以问题是网格试图在存储加载之前加载值。

```
Ext.onReady(function() {
    var rowEditing = Ext.create('Ext.grid.plugin.RowEditing');

    Ext.define('userList', {
        extend: 'Ext.data.Model',
        fields: [
            {
                name: 'id',
                mapping: 'id'
            },
            {
                name: 'name',
                mapping: 'name'
            }
        ]
    });

    store = Ext.create('Ext.data.Store', {
        model: 'userList',
        autoLoad: true,
        proxy: {
            type: 'ajax',                   
            reader: {
                type: 'json',
                root: 'Users'
            }
        }
    });

    var searchUsers = new Ext.FormPanel({
        renderTo: "searchUsers",
        frame: true,            
        title: 'Search Users',
        bodyStyle: 'padding:5px',           
        width: 900,
        items: [
            {
                xtype:'textfield',
                fieldLabel: 'Username',
                name: 'userName'            
            },
            {
                xtype: 'button',
                text: 'Search',
                listeners: {
                    click: function() {
                        store.getProxy().url = url+'/lochweb/loch/users/getUser';                           
                        store.load();
                    }                       
                }
            },              
            grid = Ext.create('Ext.grid.Panel', {                   
                id: 'userGrid',
                width: 900,
                height: 300,
                frame: true,                        
                store: store,
                iconCls: 'icon-user',
                columns: [
                    {
                        text: 'ID',
                        width: 40,
                        sortable: true,
                        dataIndex: 'id'
                    },                      
                    {
                        text: 'FirstName',
                        flex: 1,
                        sortable: true,
                        dataIndex: 'firstName',
                        field: {
                            xtype: 'textfield'
                        }
                    },
                    {
                        text: 'LastName',
                        flex: 1,
                        sortable: true,
                        dataIndex: 'lastName',
                        field: {
                            xtype: 'textfield'
                        }
                    }
                ]
            })
        ]
    });

    var win = new Ext.Window({
        layout: 'fit',
        closable: false,
        resizable: true,
        plain: true,
        border: false,
        items: [searchUsers]
    });
    win.show();
}); 
```

按钮单击事件后还有其他方法可以加载网格吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T11:01:13.710

只需将'autoLoad：false'设置到商店中。

# ruby-on-rails-3 - Mongoid：如何仅加载您通过引用延迟加载的对象的某些字段？

> ID：10478951
> 
> 赞同：10
> 
> 时间：2012-05-07T08:29:26.183
> 
> 标签：ruby-on-rails-3, mongoid, lazy-loading, model-associations

出于性能原因，我在编写 mongoid 查询时尽可能频繁地使用`only()`关键字，以指定要加载的字段。

通常的怀疑是，例如，当我希望所有管理员的用户电子邮件仅用于显示目的时。

我会写：

```
User.where(:groups => :admins).only(:email).each do |u|
 puts u.email
end 
```

我这样做是因为我的用户模型充满了很多数据，当列出一堆电子邮件时我很乐意忽略这些数据。

但是，现在让我们想象一下，我的用户是通过 Project 模型引用的，因此对于每个项目，我可以执行以下操作：`project.user`. 由于 mongoid 的延迟加载，当我调用引用时，我的对象用户只会被实例化（并从数据库中查询）。

但是，如果我想列出所有管理项目所有者的所有电子邮件怎么办？

我会这样写：

```
Project.where(:admin_type => true).each do |p|
  puts p.user.email
end 
```

这里的主要问题是这样做时，我为每个项目加载了整个用户对象，如果有很多项目与查询匹配，可能会变得非常繁重。那么我如何只加载电子邮件？

我可以这样做：

```
User.where(:_id => p.user_id).only(:email).first.email 
```

但这显然违背了简单做的好语法的目的：

```
p.user.email 
```

我希望我能写出类似的东西：`p.user.only(:email).email`，但我不能。有任何想法吗 ？

亚历克斯

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-09T10:56:26.750

来自 Mongoid 的创建者的回答。这还不可能。它已作为功能请求添加。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T19:51:23.960

我认为你需要在这里非规范化。首先，阅读[A Note on Denormalization](http://www.mongodb.org/display/DOCS/MongoDB+Data+Modeling+and+Rails#MongoDBDataModelingandRails-ANoteonDenormalization)。

您可以使用 mongoid 事件自行实现非规范化，也可以使用出色的[mongoid_denormalize](https://github.com/logandk/mongoid_denormalize) gem。它非常直接，在实现它之后，您可以`p.user_email`在查询中使用或其他内容。

# c - 共享库中的段错误。如何调试？

> ID：10478953
> 
> 赞同：4
> 
> 时间：2012-05-07T08:29:33.497
> 
> 标签：c, debugging, gdb, segmentation-fault, shared-libraries

我在我的程序中使用了一个库（libnids）。我从继续运行的库中调用函数 nids_run，直到我明确调用 nids_exit。

我的程序处理 SIGINT 并调用 nids_exit。中断处理程序正常返回，但有时在库将控制权返回给我的程序之前，我收到一个段错误。这是 GDB 给我的回溯：

```
#0  0x00007ffff6498b2a in ?? () from /usr/lib/libpcap.so.1
#1  0x00007ffff649bee1 in pcap_loop () from /usr/lib/libpcap.so.1
#2  0x00007ffff77bae66 in nids_run () from /usr/lib/libnids.so.1.24
#3  0x0000000000401e92 in main (argc=3, argv=0x7fffffffebf8) at eve.c:139 
```

找出问题的最佳策略是什么？我应该以某种方式调试 libpcap 吗？

**更新：** 正如 ArjunShankar 所建议的，我在 Valgrind 下运行我的程序。这是输出的一部分：

```
==7504== Invalid read of size 4
==7504==    at 0x654EDC1: ??? (in /usr/lib/libpcap.so.1.2.1)
==7504==    by 0x6551EE0: pcap_loop (in /usr/lib/libpcap.so.1.2.1)
==7504==    by 0x5250E65: nids_run (in /usr/lib/libnids.so.1.24)
==7504==    by 0x401E91: main (eve.c:139)
==7504==  Address 0x70eece8 is 40 bytes inside a block of size 768 free'd
==7504==    at 0x4C29A9E: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==7504==    by 0x5250DEB: nids_exit (in /usr/lib/libnids.so.1.24)
==7504==    by 0x4026D0: signal_handler (signalhandling.c:17)
==7504==    by 0x5B6313F: ??? (in /lib/libpthread-2.15.so)
==7504==    by 0x5B5FC60: pthread_cond_timedwait@@GLIBC_2.3.2 (in /lib/libpthread-2.15.so)
==7504==    by 0x58E37D4: g_cond_wait_until (in /usr/lib/libglib-2.0.so.0.3200.1)
==7504==    by 0x587E2C0: ??? (in /usr/lib/libglib-2.0.so.0.3200.1)
==7504==    by 0x587E909: g_async_queue_timeout_pop (in /usr/lib/libglib-2.0.so.0.3200.1)
==7504==    by 0x4022D2: analyzer_thread_func (analyzers.c:93)
==7504==    by 0x58CA0C4: ??? (in /usr/lib/libglib-2.0.so.0.3200.1)
==7504==    by 0x5B5BE0D: start_thread (in /lib/libpthread-2.15.so) 
```

更多输出可以在以下位置找到： http: [//pastebin.com/93gkSScS](http://pastebin.com/93gkSScS)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T09:45:22.563

Valgrind 输出显示`libpcap`（从内部`nids_run`）尝试在`nids_exit` `free`s 之后读取内存位置：

例如：

```
==7504== Invalid read of size 4
==7504==    at 0x654EDC1: ??? (in /usr/lib/libpcap.so.1.2.1)
==7504==    by 0x6551EE0: pcap_loop (in /usr/lib/libpcap.so.1.2.1)
==7504==    by 0x5250E65: nids_run (in /usr/lib/libnids.so.1.24)

Address 0x70eece8 is 40 bytes inside a block of size 768 free'd
==7504==    at 0x4C29A9E: free
==7504==    by 0x5250DEB: nids_exit (in /usr/lib/libnids.so.1.24) 
```

所以这是一个 768 大小的块，即`free`d in `nids_exit`，然后在里面读取`nids_run`（显然还没有停止）。

所有其他错误都类似（`nids_exit` `free`sa 块，并`nids_run`继续尝试使用它。

这意味着：您要么没有正确使用 libnids ( `nids_run`/ `nids_exit`)，要么`libnids`.

# version-control - 有没有办法在 hg 中选择我想要的，而不是忽略我不想要的

> ID：10478955
> 
> 赞同：2
> 
> 时间：2012-05-07T08:29:37.247
> 
> 标签：version-control, mercurial, tortoisehg

我知道 Hg 的忽略很有用，但是有没有一种方法可以指定我关心的文件，而忽略其余的，例如。

如果我`a.c, a.h, a.o, a.exe, a.err`在回购中有，有没有办法告诉 Hg，我只想保留`*.c *.h`并忽略不在列表中的所有内容。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T16:13:01.213

嘿，@vonC 是对的，我不能放过这个。没有办法将 hgignore 变成白名单而不是黑名单。我收集它是设计的方式（我当然没有设计它）。

你有几个选择：

1.  将*所有内容*( `.*`) 添加到您想要跟踪的文件中 - 添加总是覆盖`.hgignore`忽略`hg add`

2.  只需分解并制作一个适当的黑名单：`hg status --no-status --unknown >> .hgignore`这是一个很好的起点。

底线是意外跟踪您不想跟踪的内容比不小心忘记跟踪您希望跟踪的内容更危险。前者会在您的存储库中产生一点噪音，而后者会导致潜在的数据丢失。

如果你真的想变得花哨，你可以添加 ' `.*`'`.hgignore`然后创建一个像这样的钩子：

```
[hooks]
precommit.add = hg add $(hg status --unknown --no-status -I '**.c' -I '**.h') 
```

这将在您提交时自动添加任何新的 .c 和 .h 文件。

# javascript - 更改url后在firebug中执行命令

> ID：10478957
> 
> 赞同：0
> 
> 时间：2012-05-07T08:29:56.470
> 
> 标签：javascript, console, automation, firebug

我正在尝试在 URL 上执行一小段 javascript，然后设置一个 10 秒的间隔计时器来更改 URL 并加载另一个页面，然后执行同一段代码......但是在新页面加载后，脚本停止。 ..有没有办法让脚本在全球范围内运行？或者可能是可以为我提供相同结果的替代解决方案？也许是免费的自动化软件并允许这样做？我想以此作为测试场景的一部分启动，但我对此并不陌生

这是我放在控制台中的代码我想在第一个加载的页面上运行 getStuff，然后重定向，然后在第二个页面上再次运行

```
function getStuff(){   
    var innerHtml = document.getElementById('carInfo').innerHTML;
    console.log(innerHtml);
}
function redirect() {
    location.href = http://localhost/details.php?id=2; // go to 2nd page, want to increment the id as next step
    setTimeout("getStuff()",5000); // wait 5 seconds to load, run getStuff
}

getStuff(); // getStuff() the 1st time (current open page)
var interval = setInterval("redirect()",10000); // redirect() after 10 seconds to a new url then getStuff...loop on this 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:34:10.313

您有以下选择：

1.  使用 AJAX 加载页面。这样，您就不会离开运行脚本的页面。

    ```
    getStuff -> AJAX GET -> Append to page -> getStuff -> AJAX GET .... 
    ```

2.  在您打算加载的每个页面上调用 getStuff 并重定向。您还可以使用 cookie 来指示您需要在该页面上运行该“重新加载器”。

    ```
    cookie set -> getStuff -> redirect -> read cookie -> if cookie ok -> getStuff -> redirect...
                                           '--> if not ok -> stop 
    ```

# c# - 如何检查 dataGridView 中的哪个单元格被选中？

> ID：10478959
> 
> 赞同：1
> 
> 时间：2012-05-07T08:30:02.560
> 
> 标签：c#, select, datagridview

我想从dataGridView中的选定单元格发送多个邮件，但不知道如何找出哪些单元格被选中，所以问题是如何找出哪些单元格被选中？

我可以制作一些循环来遍历单元格并测试选择（选中）哪个单元格吗？

语言 c#。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T08:34:02.000

```
DataGridViewSelectedCellCollection selectedCells = myDataGridView.SelectedCells; 
```

请参阅以下示例：[如何：获取 Windows 窗体 DataGridView 控件中的选定单元格、行和列](http://msdn.microsoft.com/en-us/library/x8x9zk5a.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T08:33:50.943

使用[DataGridView.SelectedCells](http://msdn.microsoft.com/en-us/library/system.windows.forms.datagridview.selectedcells.aspx)属性。

```
foreach(DataGridViewCell cell in dataGridView.SelectedCells)
{
    //do something
} 
```

# sql - 使用 gwt-html5-database 插入 where 语句中的 html5 数据库语法错误

> ID：10478961
> 
> 赞同：0
> 
> 时间：2012-05-07T08:30:13.173
> 
> 标签：sql, html, gwt

正确的`INSERT WHERE`陈述应该是什么样子？我有一个`INSERT`看起来像这样的正常语句并且它有效：

```
tx.executeSql("INSERT INTO Vocables (english, german) VALUES (?, ?)", new Object[]{eng, ger}, new StatementCallback<JavaScriptObject>() 
```

但是应该如何看起来像一个`INSERT WHERE`声明？我试过这个，但它不起作用。

```
("INSERT INTO Vocables (english, german) VALUES (?, ?) WHERE id=(?)", new Object[]{eng, ger,id}); 
```

我收到此错误消息：

```
could not prepare statement(1 near "WHERE": syntax error) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-07T08:35:14.410

```
insert into Vocables 
    select column1, column2 from other_table where ... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:32:19.573

命令中没有`WHERE`子句`INSERT`...

> 应该如何看起来像一个正确的 INSERT WHERE 语句？

没有`WHERE`...

# android - 如何获取从 android 市场下载的所有 apk 文件？

> ID：10478963
> 
> 赞同：0
> 
> 时间：2012-05-07T08:30:23.763
> 
> 标签：android

我正在实现一个与获取下载文件信息相关的应用程序。

根据我的要求，我从 sdcard/download 获取下载的文件信息。

但我没有从 android 市场获得与应用程序下载相关的信息。

下载应用程序存储在 android mobile 中的位置。

以及如何从市场上获取下载应用程序的名称。

如果有人知道解决方案，请帮助我。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:58:55.153

对于从 android Market(Google Play) 下载的应用程序和安装到 SD 卡的应用程序，您可以通过以下路径找到它们的应用程序安装位置。

```
mnt/asec/Application Package Name/pkg.apk 
```

这仅适用于安装到 SD 卡的应用程序。

对于安装到设备内存中的应用程序，您可以参考以下路径。

```
 data/app/application packagename.apk 
```

对于内部应用程序，您需要访问根目录。希望这会给你带来打击。

# java - 单例模式 - 早期绑定（涉及静态变量）是否减少了对互斥锁的需求？

> ID：10478967
> 
> 赞同：11
> 
> 时间：2012-05-07T08:31:10.487
> 
> 标签：java, c++, design-patterns, thread-safety, singleton

他们说早期绑定解决了同步问题。我无法理解“如何”。这对 Java 来说是特殊的，还是同样适用于 C++？

那么，使用这种方法我们实际上不需要互斥锁吗？

![在此处输入图像描述](../Images/af2a2faee3e8097ed6d13ce670920dbb.png)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-07T08:40:14.303

JVM 确保在允许通过其他线程对其进行任何访问之前，每个类都已完全加载。这意味着所有静态变量，包括`uniqueInstance`上面的，在它们可以被访问之前完全实例化。这是 Java 特有的，意味着您不需要同步来保护实例的发布。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-07T08:40:59.393

我认为他们指的是在启动/创建任何线程之前创建 Singleton 实例，从而减轻了创建时同步的需要。

**编辑**：添加有关 C++ 和静态变量的信息

在 C++ 中，静态变量也在执行之前被初始化，就像 David Harkness 提到的 Java 一样。C++ 中的一个问题可能是在嵌入式环境中，直到系统初始化之后才能执行对 malloc/new 的调用，在这种情况下，使用单例静态初始化程序可能会出现问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T11:28:06.200

惰性实例化试图解决的一件事（不仅与 C++ 相关）是[静态初始化顺序 fiasco](http://www.parashift.com/c++-faq-lite/ctors.html#faq-10.14)。这是一个问题，您几乎无法控制初始化顺序（使用多个翻译单元），但依赖关系可能需要一个对象在创建另一个对象之前已经存在。使用惰性实例化，对象是根据需要创建的，所以只要没有循环依赖，应该没问题。

如果依赖项对您来说是个问题，并且您仍然希望避免为每个 getInstance() 锁定成本，您仍然可以通过在类中添加 Initialize() 函数在启动线程之前初始化所有单例来进行即时实例化。通过这种方式，您可以使用断言检查单例仅初始化一次并且仅在初始化后访问。

请注意：

*   共享资源在被访问时仍应被锁定。
*   从 C++11 开始（以及当我不确定其他编译器时使用 gcc 时），最简单的解决方案是在 getInstance 中使用静态函数变量并返回对该变量的引用。这是线程安全的。

    ```
    class Example
    {
      ...
      static Example& getInstance()
      {
        static Example instance;
        return instance;
      }
    }; 
    ```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-07T08:43:34.680

答案是`YES!`。使用这种方法，您将不需要锁定“获取实例”
--编辑--
原因是对象的创建是操作系统加载过程的一部分，可确保在您的代码运行之前加载它。
Ps 它也适用于 C++。
注意：
1.“获取实例”不需要锁，但如果实例有共享成员，则可能需要。
2.这只有在你不需要参数来初始化实例的情况下才有可能。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-05-07T08:38:33.187

如果您希望 singelton 成员在第一次调用之前保持为空，您可以只同步创建。例如

```
getInstance() {
     if (singleton == null) {
         lock();
         if (singleton == null) {
               singleton = new Singleton();
         }
         unlock();
     }
     return singleton;
} 
```

# c++ - 在私有继承中公开构造函数

> ID：10478970
> 
> 赞同：2
> 
> 时间：2012-05-07T08:31:30.240
> 
> 标签：c++

在私有继承期间，基类的公共成员变量或成员函数可以在 Derived 中分配回公共访问说明符。但是我们可以对基类的公共构造函数做同样的事情吗？

我尝试如下，

```
#include <iostream>

using namespace std;

class base
{
      public:
             base(){}
             void print(){ puts("In print"); }
};

class derived : private base
{
      public:
             base::print;
             base::base;   /* Throws an error - Declaration doesnt declare anything*/
             void display(){ puts("In display"); }
};

int main()
{
    derived dObj;
} 
```

它抛出一个错误“声明没有声明任何东西”我正在尝试有效吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:44:05.320

你可以使用`using`语法。但这`using`对基类构造函数没有多大意义。我猜你想初始化你的基类，对吧？你可以这样做：

```
#include <iostream>

using namespace std;

class base
{
      public:
             base(){}
             void print(){ puts("In print"); }
};

class derived : private base
{
      public:
             using base::print;
             derived() : base() {} // initialize base class
             void display(){ puts("In display"); }
};

int main()
{
    derived dObj;
} 
```

# php - 通过php更新所有csv文件中的记录

> ID：10478972
> 
> 赞同：1
> 
> 时间：2012-05-07T08:31:54.323
> 
> 标签：php

有 50 个 csv 文件。每个 csv 文件都有相同的列名。列中的某些内容是相同的，有些则不是。

```
eg：test1.csv,  example1.csv, hello.csv,  world.csv.......test70.csv. 
```

现在，我想更改两列的内容。

a，所有 csv 文件都有一个名为`qty`. 其行内容都是`0`. 现在，我想把它改成`888`

b，所有 csv 文件都有一个名为`img`. 其行内容都是

```
 upload/img1.jpg
 upload/img2.jpg
 upload/img3.jpg
 upload/img01.jpg
 upload/img14.jpg
 upload/img01.jpg
....... 
```

如果我打开每个 csv 文件，然后进行搜索和替换。我太无聊了。

先感谢您。

csv文件如下：

[http://phplist.xxmn.com/csv.jpg](http://phplist.xxmn.com/csv.jpg)

我想`Upload`在图片列中删除，在数量列中将 0 更改为 888。

我使用该文件`change.php`来更新记录。编码：

```
<?php
$dir    = getcwd();
$files = array_diff(scandir($dir), array('..', '.','change.php'));
foreach ($files as $file) {
    if (($handle = fopen($file, "r")) !== FALSE) {
        $new_content = '';
        while (($data = fgetcsv($handle, 100000, ",")) !== FALSE) {
            //var_dump($data);
           $data[2]=888; 
            $new_content .= implode(',', $data);
            //var_dump($new_content);
        }
       file_put_contents($file, $new_content);
        echo 'down';
    }
}

?> 
```

该代码不起作用如何更正它。感谢你

.csv 文件。 [http://phplist.xxmn.com/women.csv](http://phplist.xxmn.com/women.csv)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-07T08:39:52.933

最好的方法是将 csv 文件导入 mysql 中的某个表，使用更新查询进行所需的更改并将其导出回 csv。你不需要为 php 代码头疼 :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T10:09:49.243

尝试循环所有文件并在此循环内，所有行的另一个循环。修改您的栏目，编写新内容，您就完成了！

使用这个 PHP 函数读取 CSV 文件：[fgetcsv()](http://us3.php.net/manual/en/function.fgetcsv.php)

```
foreach ($files as $file) {
    if (($handle = fopen($file, "r")) !== FALSE) {
        $new_content = '';
        while (($data = fgetcsv($handle, 1000, ",")) !== FALSE) {
            if ($new_content != '') { // Skip 1st line (headers)
                $data[1] = 888; // qty columns is the second columns => index is 1
            }
            $new_content .= implode(',', $data) . "\r\n";
        }
        file_put_contents($file, $new_content);
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-07T10:44:06.580

下面是确切的解决方案（假设您的 php 和 mysql 驻留在同一台服务器上）

假设您的 csv 文件是

```
"1";"Desserts";"1";"category/vcm_s_kf_repr_806x645_7.jpg"
"2";"Beverages";"1";"category/aagya.jpg"
"3";"apetizers";"1";"category/Koala.jpg"
"13";"Breakfasts";"1";"category/Lighthouse_2.jpg"
"5";"Vegeterian entries";"1";"category/Desert.jpg"
"6";"Naan and Breads";"1";"category/Lighthouse_1.jpg"
"7";"Mexican";"1";"category/vcm_s_kf_repr_832x624_2.jpg" 
```

假设您有 001.csv、002.csv 等文件，使一张表与 csv 文件中的字段完全相同

```
CREATE TABLE  `sample` (
`id` INT NOT NULL AUTO_INCREMENT ,
`name` VARCHAR( 100 ) NOT NULL ,
`flag` INT NOT NULL ,
`path` VARCHAR( 100 ) NOT NULL ,
PRIMARY KEY (  `id` ) ,
UNIQUE (
`id`
 ) 
```

然后根据您的自定义运行下面的代码

```
mysql_connect("localhost","root","");
mysql_select_db("csv");
//find the current working f=directory
$dir=getcwd();
foreach (glob("*.csv") as $key=>$val) {
    echo $sql="LOAD DATA INFILE '".$dir."//".$val."' INTO TABLE sample";
    //now fire your update query , as an example here i am trying to replace all jpg with gif 
    mysql_query($sql) or die(mysql_error());
    echo $update="UPDATE sample SET path=REPLACE( path, '.jpg', ',bmp' )";
    mysql_query($update);
    //delete the table for next csv
    echo $outfile="SELECT * INTO OUTFILE '" .$dir."/converted_".$val."' FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"'
              LINES TERMINATED BY '\n'
              FROM sample";
    mysql_query($outfile);
    $del="delete from smaple";
    mysql_query($del);

} 
```

# regex - 如何检查字符串是否包含/不包含一组条件

> ID：10478975
> 
> 赞同：2
> 
> 时间：2012-05-07T08:32:13.107
> 
> 标签：regex, string, list, vim

我想检查一个字符串是否由一组条件组成：

体育

```
let myvar = '.....'  
if myvar doesn't contain:   

- 'cos'
- or 'sin'
- or 'tan'
- or 'log'
- or only contains of this: [0-9*/:-+<space>]
- or ... etc 

give an error message. 
```

我想将所有条件放在一个列表中并检查字符串是否具有这些条件之一。
如果字符串没有这些条件之一，则给出错误消息。

谁能帮我找到正确的正则表达式？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T10:49:52.123

我建议这个`match()`功能

```
function! Test(s)
    if match(a:s, '\<\(cos\|sin\|tan\|log\)\>') < 0
        echo "functions not matched"
    endif
    if match(a:s, '^[0-9*\\\/:+\- ]*$') >= 0
        echo "only numerics and operators"
    endif
endf 
```

希望这个使用示例有所帮助。测试它

```
:call Test('123 * 38 - 04 : 7 + 1269')
:call Test('biological')
:call Test('log(x)') 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-07T09:24:29.263

您可以检查相反的情况：

```
^.*\(cos\|sin\|tan\|log\|[^0-9*\/:+ -]\) 
```

如果在字符串中可以找到至少一个 term等或至少一个除 , etc. 之外的字符`cos`，则匹配。`sin``0-9``*`

因此，如果字符串仅包含字符`0-9*\/:+ -`和/或不包含您提到的任何关键字，则无法匹配。

# c# - 从外部浏览器（Windows Phone）按下后退按钮时，浏览器内容控件变为空

> ID：10478980
> 
> 赞同：1
> 
> 时间：2012-05-07T08:32:36.340
> 
> 标签：c#, silverlight, windows-phone-7, silverlight-4.0, silverlight-3.0

在我的应用程序中，我使用 WebBrowserTask 导航到外部 Web 浏览器中的某些链接。但是当我点击后退按钮时，我的网络浏览器控件的内容变空了，我也设置了这个内容。

```
 WebBrowserTask webBrowserTask = new WebBrowserTask();
                webBrowserTask.URL = e.Uri.ToString();
                webBrowserTask.Show(); 
```

*更新*

当我在模拟器上测试时内容不为空，但是当我在真实设备上测试时它变为空

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-26T19:44:47.637

如果您提供的 URL 是 .pdf 或 .ppt 等附件，则可能会发生这种情况。大多数情况下，您会看到附件被打开，因此在打开并点击后退按钮后，您将看到如下所示的屏幕。但我确实记得有时看到空白屏幕不能归因于原因。您能否分享您尝试打开的链接以更深入地了解。它与您的代码无关。这就是 Webbrowser 的行为方式。

![在此处输入图像描述](../Images/7b8f30f3a64a533801aa594b698ce68a.png)

# asp.net - 通过名单 作为查询字符串

> ID：10478992
> 
> 赞同：2
> 
> 时间：2012-05-07T08:33:39.917
> 
> 标签：asp.net

我有一个列表中包含国家名称的列表。并且这个列表需要作为 Response.Redirect(page) 中的参数之一发送。

有没有一种直接的方法可以做到这一点，以便在接收页面中，我可以将查询字符串类型转换为 List 并使用它。

谢谢，斯里拉姆

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-07T08:43:59.390

我认为你可以做到这一点。但如果是来自数据库的列表，最好在修改页面上再次调用该函数。否则，您必须执行如下肮脏的解决方案：

```
List<string> ls=new List<string>{"Sweden","USA"};
Response.Redirect("page.aspx?CountryList="+string.Join(",",ls)); 
```

在修订页面上执行以下操作：

```
List<string> ls= QueryString["CountryList"].Split(',').ToList(); 
```

但请记住，您可以发送多大的查询字符串是有限制的。因此，如果列表包含许多项目，那么您可能会达到该上限。

或将其存储在会话中：

```
Session["CountryList"]=ls; 
```

然后在修改页面上。做这个：

```
List<string> ls=(List<string>)Session["CountryList"];
Session.Remove("CountryList"); 
```

记住`remove`当`session`你完成它时。所以你没有脏值`session`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T09:05:05.833

从 List 发送字符串

```
 Response.Redirect("page.aspx?CountryList=" + string.Join(",", (string[])TargetArrayList.ToArray())); 
```

获取查询字符串

```
string str = Request.QueryString["CountryList"];
    string[] arr = str.Split(',');
    TargetArrayList = arr.ToList(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-05-07T07:39:12.520

更好地使用标准格式...不是吗？

```
string queryString = "?country=" + string.Join("&country=", yourList); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-07T08:38:37.337

取决于您的国家/地区列表有多大。我通常用来`Session["CountriesNames"] as List<string>`在 asp.net webforms 的网页之间传递这些值。

# jquery - 我正在寻找带有 cookie 的 jquery ui 标签

> ID：10478994
> 
> 赞同：1
> 
> 时间：2012-05-07T08:33:45.213
> 
> 标签：jquery, jquery-ui, jquery-ui-tabs

是否有人在此链接中找到**带有 cookie 的 jquery ui 选项卡的副本？**

[http://jqueryui.com/demos/tabs/#cookie](http://jqueryui.com/demos/tabs/#cookie)。

我已经尝试了一个例子，但它根本不起作用。我不知道我错过了什么，所以如果有人有一个工作示例，请与我分享。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T08:42:19.190

这对我有用。

```
 $(document).ready(function() {
    $("#tabs").tabs({
    spinner: "",
    cookie: {}
  }); 
```

但你确实需要这个：

```
 <script type="text/javascript" language="JavaScript" src="/path/to/your/jquery/jquery.cookie.js"></script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-07T08:51:44.080

问题解决了。感谢大家的帮助。[我从http://jqueryui.com/demos/tabs/#cookie](http://jqueryui.com/demos/tabs/#cookie)下载了整个捆绑包，并在页面中添加了这段代码，它工作正常。再次感谢您的快速回复。

```
<script>
        $(function () {
            $("#tabs").tabs({
                cookie: {
                    // store cookie for a day, without, it would be a session cookie
                    expires: 1
                }
            });
        });
    </script> 
```

# javascript - 从左到右动画

> ID：10478996
> 
> 赞同：0
> 
> 时间：2012-05-07T08:33:51.673
> 
> 标签：javascript, jquery

我正在尝试实现一些看起来很简单但我很难做到的事情。

如何为 div 设置动画，使其宽度从左到右为原始宽度的 80%？我想将右边距保持在原位，并将左边的边距向右移动。

感谢，并有一个愉快的一天。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-07T08:40:39.003

设置`float: right`在您的元素上。然后：

```
$("#animate").click(function(){
    $(this).animate({ width: $(this).width() * .8 }); 
});​ 
```

[jsFiddle](http://jsfiddle.net/yzgZ6/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-07T08:48:31.683

primatology 更快，但无论如何这是我的 jsFiddle，因为它增加了一些右边距：[Demo](http://jsfiddle.net/4EF6h/)。

# asp.net-mvc - 在视图中访问资源文件的问题

> ID：10478998
> 
> 赞同：2
> 
> 时间：2012-05-07T08:33:57.687
> 
> 标签：asp.net-mvc, asp.net-mvc-3, c#-4.0

我为资源文件创建了一个单独的项目，并为我的 asp.net mvc3 应用程序创建了一个单独的项目。

对于我试图从资源文件中获取文本的每个标签，我在 web.config 文件中添加了以下命名空间，以便我的资源文件可用于视图。

```
 <pages>
  <namespaces>
    <add namespace="System.Web.Helpers" />
    <add namespace="System.Web.Mvc" />
    <add namespace="System.Web.Mvc.Ajax" />
    <add namespace="System.Web.Mvc.Html" />
    <add namespace="System.Web.Routing" />
    <add namespace="System.Web.WebPages"/>
    <add namespace="Project.Resources"/>
  </namespaces>
</pages> 
```

但我认为这些资源仍然不可用

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-07T09:40:00.747

在子 web.config 文件中添加命名空间

![这是另一个 web.config 文件](../Images/cfcaf7d02be33982527fee5113e70c43.png)