# StackOverflow 问答 10844000-10844999

# tooltwist - 从命令行运行 Tooltwist 控制器 - Ruby 错误

> ID：10844000
> 
> 赞同：1
> 
> 时间：2012-06-01T03:26:18.207
> 
> 标签：tooltwist

我正在尝试使用以下命令从命令行运行 Tooltwist 控制器：

./ttc/config/bin/checkLaunchpad.sh controllerTest

但出现以下错误：

/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require': no such file to load -- xmlsimple (LoadError) from /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/rubygems/custom_require.rb:31:in`require'来自/tooltwist/tooltwist_osx_7.0/devel/ttc/config/bin/ checkLaunchpad.rb:21

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T03:33:07.997

ToolTwist 控制器使用 Ruby 脚本来确定应该使用哪个版本的有效负载，并同步 git 缓存。此脚本使用 Ruby gem（如库）来解析配置文件的 XML。要安装这个 gem，只需在命令行中输入：

> gem install xml-simple

# iphone - 使用另一个导航控制器内的导航控制器查看错误

> ID：10844002
> 
> 赞同：0
> 
> 时间：2012-06-01T03:26:33.110
> 
> 标签：iphone, ios, uiviewcontroller, uinavigationcontroller

我在另一个导航控制器内的视图控制器内添加了一个导航控制器......哈哈

无论如何，由于这种结构，我对推送到“子”导航控制器的任何视图都有问题。因为它只适合“父”导航控制器的格内，它将推送的视图内容向下推约 20/40pxl ...

我想知道如何阻止这种情况发生。这里有两张图片向您展示正在发生的事情。

![在此处输入图像描述](../Images/5fc9ccb5dbb34630428a68fa48218ce6.png)

标签在界面生成器中明显居中的位置

![在此处输入图像描述](../Images/e8f743c1cc244e411ecc6be87a4842fa.png)

这是我到目前为止的代码。

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.
    // Init the (sub)navigationController
    otherNav = [[UINavigationController alloc] init];
    // Add this (sub)NavController to the current viewcontroller (which is inside the (parent)navcontroller)
    [self.view addSubview:otherNav.view];
    // Hide the (sub)NavControllerbar
    otherNav.navigationBar.hidden = YES;

    // Load a detial view into the (sub)NavController
    DetailViewController *detailView = [[DetailViewController alloc] initWithNibName:@"DetailViewController" bundle:[NSBundle mainBundle]];
    [otherNav pushViewController:detailView animated:NO];
} 
```

otherNav 也在 .h 文件中设置，以便在此视图中进行全局访问。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T21:28:48.960

当“超级” NavigationBar 可见时，self.view.frame.height 为：

> *   480-20-44（实际视图高度-状态栏高度-导航栏高度）。

您的问题有 2 个解决方案。

## 1\. 为简单起见，我想说的是，如果您唯一的问题是使其集中化。

```
 [self.view addSubview:otherNav.view];
    [otherNav.view setCenter:self.view.center]; 
```

这将使您的标签中心对齐。

## 2.不过，如果您使用的是界面生成器；

> 1.  选择xib文件。
> 2.  选择视图。
> 3.  打开实用程序。
> 4.  将顶部栏设置为导航栏。

那么您将对齐的东西将在设备/模拟器上或您正在测试的任何东西上得到。

# ruby-on-rails - Rails 错误：未初始化的常量 Sass::Plugin (NameError)

> ID：10844006
> 
> 赞同：2
> 
> 时间：2012-06-01T03:26:46.927
> 
> 标签：ruby-on-rails, ruby, nameerror

在使用脚手架创建一些代码后，我遇到了一个奇怪的错误。现在，任何新的生成或销毁命令都会出现以下错误。

`$ rails destroy scaffold Plugin`

```
/Library/Ruby/Gems/1.8/gems/sass-rails-3.2.5/lib/sass/rails/railtie.rb:46: uninitialized constant Sass::Plugin (NameError)
from /Library/Ruby/Gems/1.8/gems/activesupport-3.2.3/lib/active_support/lazy_load_hooks.rb:34:in `call'
from /Library/Ruby/Gems/1.8/gems/activesupport-3.2.3/lib/active_support/lazy_load_hooks.rb:34:in `execute_hook'
from /Library/Ruby/Gems/1.8/gems/activesupport-3.2.3/lib/active_support/lazy_load_hooks.rb:43:in `run_load_hooks'
from /Library/Ruby/Gems/1.8/gems/activesupport-3.2.3/lib/active_support/lazy_load_hooks.rb:42:in `each'
from /Library/Ruby/Gems/1.8/gems/activesupport-3.2.3/lib/active_support/lazy_load_hooks.rb:42:in `run_load_hooks'
from /Library/Ruby/Gems/1.8/gems/railties-3.2.3/lib/rails/application/finisher.rb:59
from /Library/Ruby/Gems/1.8/gems/railties-3.2.3/lib/rails/initializable.rb:30:in `instance_exec'
from /Library/Ruby/Gems/1.8/gems/railties-3.2.3/lib/rails/initializable.rb:30:in `run'
from /Library/Ruby/Gems/1.8/gems/railties-3.2.3/lib/rails/initializable.rb:55:in `run_initializers'
from /Library/Ruby/Gems/1.8/gems/railties-3.2.3/lib/rails/initializable.rb:54:in 'each'
from /Library/Ruby/Gems/1.8/gems/railties-3.2.3/lib/rails/initializable.rb:54:in 'run_initializers'
from /Library/Ruby/Gems/1.8/gems/railties-3.2.3/lib/rails/application.rb:136:in 'initialize!'
from /Library/Ruby/Gems/1.8/gems/railties-3.2.3/lib/rails/railtie/configurable.rb:30:in `send'
from /Library/Ruby/Gems/1.8/gems/railties-3.2.3/lib/rails/railtie/configurable.rb:30:in `method_missing'
from /Applications/XAMPP/xamppfiles/htdocs/monaco/config/environment.rb:5
from /Library/Ruby/Gems/1.8/gems/railties-3.2.3/lib/rails/application.rb:103:in 'require'
from /Library/Ruby/Gems/1.8/gems/railties-3.2.3/lib/rails/application.rb:103:in 'require_environment!'
from /Library/Ruby/Gems/1.8/gems/railties-3.2.3/lib/rails/commands.rb:25
from script/rails:6:in `require'
from script/rails:6 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-14T08:46:00.207

根据错误日志，您可以尝试两个选项：

```
1) Comment one line something like gem 'sass' in Gemfile due to name conflict of Plugin 
2) Configure Sass gem properly 
```

然后很可能您将能够正确运行新的生成和销毁命令。

# android - Android FTP 通过 URL 输出流

> ID：10844007
> 
> 赞同：0
> 
> 时间：2012-06-01T03:26:56.520
> 
> 标签：android, ftp, outputstream, urlconnection

我想从我的程序中创建一个 xml 文件并通过 FTP 上传。我写了一个 PC 版本，我正在为 android 改编它。我这里有这段代码不起作用，它总是通过 URL 连接上的 IO 异常。

```
URL url = new URL("ftp://foo:PASSWORD@foo.net/myfile.xml");
    URLConnection urlc = url.openConnection();
    OutputStream os = urlc.getOutputStream(); 
```

我已经从清单中配置了 Internet 访问权限。我只是觉得它可以在 PC 上运行但不能在我的 Android 模拟器上运行很奇怪。是因为我正在从模拟器中测试它吗？如果可能的话，我宁愿避免使用其他 FTP 包。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T04:08:59.007

如果它可以在 pc 上运行，它应该可以在 android 上运行，前提是您在清单中设置了正确的权限。我注意到很多时候，网络在模拟器上不起作用，所以你必须重新启动它。你试过设备吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T03:42:38.240

我不认为 android 有任何库来处理内置的 FTP。因此，您要么必须自己实现它，要么使用库。

您可以使用[edtftpj](http://www.enterprisedt.com/products/edtftpj/)

你也可以看看[jsch](http://www.jcraft.com/jsch/)有一些关于如何让它在 android 上运行的博客。

# java - 生成单独的线程时 Swing 冻结

> ID：10844009
> 
> 赞同：4
> 
> 时间：2012-06-01T03:27:50.903
> 
> 标签：java, swing

为什么这段代码会冻结我的 Swing 应用程序？Swing 组件位于与我的 InfiniteLoop 线程不同的线程中。如果我在每次打印之前在 run() 方法中引入睡眠，那么程序可以正常工作。有没有人有任何线索？

```
public static void main(String[] args) {
    SwingUtilities.invokeLater(new Runnable() {
        public void run() {
            createAndShowGUI(); // <-- creates the swing frame and component
        }
    });

    Thread t = new Thread(new InfiniteLoop()); 
    t.start();
}

public class InfiniteLoop implements Runnable
{
    private static Logger logger = Logger.getLogger(InfiniteLoop.class);
    public void run()
    {
         while(true)
         {
              log.info("test");
         }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T04:04:30.693

这里的答案与 Java 的线程调度实现有关（或者更确切地说，是您平台的 Java 线程调度实现的细节）。大多数 Java 线程实现最终都会运行给定的线程（以给定的优先级），直到线程进入等待条件。然后运行该优先级的下一个线程，等等......请注意，JVM 规范没有指定确切的行为 - 这取决于 JVM 实现者来决定。

您可能需要考虑降低工作线程的优先级，而不是将睡眠插入您的工作线程。让线程休眠会起作用，但是要记住这样做很麻烦，并且它会迫使工作线程花费比其他方式更长的时间来做事。如果您确实插入了睡眠调用，请执行 0 毫秒（这足以释放线程，但如果没有其他线程处于活动状态，则应立即返回执行）。

这是[一篇文章](http://www.cafeaulait.org/course/week11/32.html)，对此进行了一些描述。

作为一个潜在的改进：invokeLater() 调用可能最终将可运行对象放入一个队列中，因为您的后台线程正在占用所有 CPU，所以该队列永远没有机会出队。一个有趣的实验是将后台线程的启动移动到 Runnable 中——这将使 EDT 有机会在后台线程开始消耗 CPU 之前进行初始化。

```
public static void main(String[] args) {
    SwingUtilities.invokeLater(new Runnable() {
        public void run() {
            createAndShowGUI(); // <-- creates the swing frame and component

            Thread t = new Thread(new InfiniteLoop()); 
            t.start();
        }
    });

} 
```

甚至：

```
public static void main(String[] args) {
    SwingUtilities.invokeLater(new Runnable() {
        public void run() {
            Thread t = new Thread(new InfiniteLoop()); 
            t.start();

            createAndShowGUI(); // <-- creates the swing frame and component
        }
    });

} 
```

我实际上会对这个结果感兴趣（虽然没有足够的兴趣来实际测试它:-)）。我在网上看到的一些参考资料说 EDT 默认以更高的优先级运行（在这种情况下，EDT 本身不应该经历饥饿）。如果从 EDT 内部启动后台线程，Swing 界面是否保持响应？

# c++ - 使用什么类型的 API 或算法来生成会话 ID？

> ID：10844010
> 
> 赞同：3
> 
> 时间：2012-06-01T03:28:00.607
> 
> 标签：c++, c, algorithm, api

通常使用什么样的 API 或算法来生成会话 ID？对于在线游戏之类的东西？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T03:30:27.460

您可以使用[UUID-v4](https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_.28random.29)。几乎可以使用任何语言实现。这是 C++ 的一个：

[http://sourceforge.net/projects/ooid/](http://sourceforge.net/projects/ooid/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T03:31:19.943

我++？

你可以把它变成一个字符串并散列（MD5）结果。

# ruby-on-rails-3 - Openlayers 示例/教程/书籍来创建地图？

> ID：10844012
> 
> 赞同：1
> 
> 时间：2012-06-01T03:28:20.987
> 
> 标签：ruby-on-rails-3, openlayers, openstreetmap

我正在开发一个包含一些地理数据并希望添加一些地图功能的 Rails 应用程序。

我还想添加绘制多边形/折线并将它们存储在模型中以供将来参考和编辑等功能。基本上我希望用户能够在链接到某个位置的地图上放置关联的标记或绘制路径并将其链接到另一个模型。

这是一个很好的网站/教程/书吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-20T06:26:57.280

我终于找到了 Erik Hazzard 的 OpenLayers 2.10 Beginner's Guide。很棒的书。

# python - 使用 VLC 或 Python 通过网络捕获/重新传输流式网络摄像头视频

> ID：10844015
> 
> 赞同：0
> 
> 时间：2012-06-01T03:28:56.863
> 
> 标签：python, video-streaming, html5-video, video-capture, vlc

我有来自网络摄像头的流式视频，可以通过我在我的机器上打开的公共 IP 访问。正如我可以去 http//ip/webview 并查看视频（我确实必须安装 activex hidvrocx.cab 插件）。视频源本身是 h.264，根据 wireshark 的说法，它通过 tcp 在端口 9000 上运行。

我想做的是重新流式传输原始视频，但此时我会满足于将其转换为 FLV，以便我可以使用 VLC 或其他东西打开...

据网络摄像头 (Swann) 的技术支持团队介绍，“netviewer”（一些第三方软件）可以查看视频源，因此没有加密/特殊 DRM。

我是整个流媒体视频世界的新手，所以这是我尝试过/正在考虑的： - 我尝试在 tcp://public_ip:9000 使用 VLC 加载流，但根据 swann 支持 VLC 可以不查看源代码，因为它是原始的 h.264。是否可以使用 vlc 将此原始 h.264 格式转换为媒体播放器可读的格式。可能……？

```
vlc src --sout flv 
```

*   是否可以使用 python VideoCapture 库？这是否严格用于直接为设备捕获视频，还是通过网络工作？

我现在完全迷失了，所以即使在任何类型的媒体播放器中看到原始流也是一种成就。

TLDR；我有一个通过公共 IP 来自网络摄像头的流式视频源，我想最终以原始格式（h.264）或 flv“重新分发”。我该如何做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-04T09:39:28.480

```
vlc <input_stream> --sout=#std{access=http,mux=ts,dst=<server_ip>:<port>/} 
```

此命令将使用 ts muxer 将您的输入流重新流式传输到 http 您也可以尝试 rtp/rtsp：

```
vlc <input_stream> --sout=#rtp{sdp=rtsp://<server_ip>:<port>/XXX.sdp} 
```

将重新流式传输到 rstp 协议

# java - 用 Java 简化代码

> ID：10844017
> 
> 赞同：2
> 
> 时间：2012-06-01T03:29:12.173
> 
> 标签：java, simplify

我有一个 Java 方法，它必须多次执行一段代码：

```
 // Obtengo los 7 bits de direccion
            clockStateIndex = dataStateIndex;
            for(int bit = 7; bit > 0; --bit){           
                clockStateIndex = clockSource.nextClearBit(clockStateIndex);                    // Siguiente bit en SCL
                clockStateIndex = clockSource.nextSetBit(clockStateIndex);
                testIndex = (clockSource.nextClearBit(clockStateIndex) - clockStateIndex)/2;    // Busco la mitad del bit clock
                bitSet(direccion, data.get(testIndex), bit);                // Compruebo SDA en la mitad del bit SCL
            }
            // Obttengo el bit R/W
            clockStateIndex = clockSource.nextClearBit(clockStateIndex);    // Siguiente bit en SCL
            clockStateIndex = clockSource.nextSetBit(clockStateIndex);
            testIndex = (clockSource.nextClearBit(clockStateIndex) - clockStateIndex)/2;    // Busco la mitad del bit clock
            rwBit = data.get(testIndex);        // Obtengo el estado del bit R/W en el medio del bit SCL

            // Obtengo el bit de ACK
            clockStateIndex = clockSource.nextClearBit(clockStateIndex);    // Siguiente bit en SCL
            clockStateIndex = clockSource.nextSetBit(clockStateIndex);
            testIndex = (clockSource.nextClearBit(clockStateIndex) - clockStateIndex)/2;    // Busco la mitad del bit clock
            ackBit = data.get(testIndex);       // Obtengo el estado del bit R/W en el medio del bit SCL

            // Si tengo un ACK obtengo los 8 bits de dato
            if(ackBit == false){
                for(int bit = 8; bit > 0; --bit){           
                    clockStateIndex = clockSource.nextClearBit(clockStateIndex);    
                    clockStateIndex = clockSource.nextSetBit(clockStateIndex);
                    testIndex = (clockSource.nextClearBit(clockStateIndex) - clockStateIndex)/2;    
                    bitSet(i2cData, data.get(testIndex), bit);      
                }
            } 
```

如您所见，代码：

```
clockStateIndex = clockSource.nextClearBit(clockStateIndex);    
clockStateIndex = clockSource.nextSetBit(clockStateIndex);
testIndex = (clockSource.nextClearBit(clockStateIndex) - clockStateIndex)/2; 
```

重复很多次。我无法创建#defines 来简化我的代码，比如 nextBit(); 替换该代码。有没有其他方法可以简化它？如果创建一个方法，我将必须传递两个大小约为 200 个元素的 BitSet 并返回 2 个 int 元素（我不知道在 Java 中这样做很热，因为我没有像 C 中那样的指针）

希望你能帮我 ：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T03:30:54.413

我会将它包装在一个函数中：

```
// Instance based (inside classes)
{SCOPE MODIFIER} void ClockWork()
{
    clockStateIndex = clockSource.nextClearBit(clockStateIndex);    
    clockStateIndex = clockSource.nextSetBit(clockStateIndex);
    testIndex = (clockSource.nextClearBit(clockStateIndex) - clockStateIndex) / 2;  
} 
```

至于基于静态的方法，它取决于您在哪里实现代码。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-01T03:39:03.530

最简单的解决方案是为此操作创建一个对象：

```
class ClockState {
    private int clearBit;
    private int setBit;
    private int testIndex;

    public ClockState( int clearBit, int setBit, int testIndex ) {
        this.clearBit = clearBit;
        this.setBit = setBit;
        this.testIndex = testIndex;
    }

    public int getClearBit() { return this.clearBit; }
    public int getSetBit() { return this.setBit; }
    public int getTestIndex { return this.textIndex; }

    public static ClockState create( ClockSource clockSource, int clockStateIndex ) {
      int clearBit = clockSource.nextClearBit(clockStateIndex);    
      int setBit = clockSource.nextSetBit(clearBit);
      int testIndex = (clockSource.nextClearBit(setBit) - setBit)/2; 
      return new ClockState( clearBit, setBit, testIndex );
    }

} 
```

然后您的代码将如下所示：

```
 clockStateIndex = dataStateIndex;
        for(int bit = 7; bit > 0; --bit){           
            ClockState state = ClockState.create( clockSource, clockStateIndex );
            clockStateIndex = state.getSetBit();
            bitSet(direccion, data.get(state.getTestIndex()), bit);
        } 
```

对于所有其他呼叫，依此类推。

# cakephp - CakePHP 会话不会自动更新

> ID：10844022
> 
> 赞同：0
> 
> 时间：2012-06-01T03:29:44.430
> 
> 标签：cakephp

我在 LAMP 服务器上使用 CakePHP v2，如果用户保持活动状态，我似乎遇到了会话无法自动更新的问题。

换句话说，如果我将会话 cookie 设置为 3 天，那么即使用户一直处于活动状态，用户也会在 3 天后注销。

起初，我认为这可能是正确的行为，但是当我发布一个关于它的问题（[Extending the life of the CakePHP Session Cookie](https://stackoverflow.com/questions/10794164/extending-the-life-of-the-cakephp-session-cookie/10801311#comment14107289_10801311)）时，我得到的唯一答案倾向于表明我正在经历的行为不是默认的行为。

所以，大概我在某个地方做错了什么。这是我在 APP/Config/core.php 中放入的内容：

```
Configure::write('Session', array(
    'defaults' => 'database',
            'cookie' => 'mycookie',
            'timeout' => 4320 //3 days
)); 
```

我只希望 cookie 从用户的最后一次活动开始保持有效 3 天。即使用户一直处于活动状态，它目前正在做的事情也会在 3 天后过期。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T20:28:00.597

把它放在 AppController 中的 afterFilter 操作中：

$this->Session->renew();

这会更新会话 cookie。

（如果我出于某种原因进入前端，将其放入 beforeFilter 会导致我的管理会话过期。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T06:02:31.027

我认为您需要[创建一个自定义会话处理程序](http://book.cakephp.org/2.0/en/development/sessions.html#creating-a-custom-session-handler)来满足您的要求。（只需在阅读时更新会话的过期时间。）

# verilog - 时钟边沿上的 verilog 多路复用器

> ID：10844026
> 
> 赞同：1
> 
> 时间：2012-06-01T03:29:57.517
> 
> 标签：verilog, mux

如何使用时钟边沿作为多路复用器的选择器，我想要做什么：

```
input clk, in1, in2;
output out;
always@ (posedge clk) begin out<=in1; end
always@(negedge clk) begin out<=in2; end 
```

但是，这是不可综合的，因为多个驱动程序位于单独的 always 块中。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-01T03:52:02.790

这应该可以得到你想要的。这是否是一个好主意取决于你在做什么。

```
input clk, in1, in2;
output out;
assign out = clk ? in1 : in2; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T20:21:40.380

正如其他人所提到的，使用时钟作为数据并不常见。使用 dwikle 的答案可以实现组合多路复用器，但是如果您真的想以失败告终（在这种情况下***，输出***应该是 reg 或 logic 类型，而原始代码中缺少该类型），那么您可以编写：

```
always@(edge clk) 
begin
    unique case(clk)
        1'b0:    out <= in1;
        1'b1:    out <= in2;
    endcase
end 
```

或者等效地，您可以使用@(negedge clk 或posedge clk) 代替edge。然而，这可能会混淆您的综合工具。可能，以下内容更简单：

```
always@(posedge clk) 
    out1 <= in1;
always@(negedge clk) 
    out2 <= in2;
assign out = clk ? out1 : out2; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T18:58:56.717

像这样：

```
module mux1_2(input clk, d0, d1,
              input sel,
              output reg y);

    always@(posedge clk)
    begin
        case(sel)
            1'b0:    y <= d0;
            1'b1:    y <= d1;
        endcase
    end

endmodule 
```

但是，您应该听从其他人的建议。多路复用器是非常基本的组合设备，我看不到任何需要在其上放置时钟的情况。

# iphone - iphone 远程事件通知没有被调用 MPMoviePlayer

> ID：10844035
> 
> 赞同：1
> 
> 时间：2012-06-01T03:30:53.237
> 
> 标签：iphone, mpmovieplayercontroller, mpmovieplayer, uievent

我`MPMoviePlayer`在我的视图控制器中使用。在`viewwillappear`我正在做

```
[[UIApplication sharedApplication] beginReceivingRemoteControlEvents];
[self becomeFirstResponder]; 
```

但是`-(void)remoteControlReceivedWithEvent:(UIEvent *)event`当我单击播放器上的下一首曲目或上一首曲目按钮时，不会随时被调用。

我还包括以下代码`viewwillappear`

```
NSError *setCategoryErr = nil;
NSError *activationErr  = nil;
[[AVAudioSession sharedInstance] setCategory: AVAudioSessionCategoryPlayback error: &setCategoryErr];
[[AVAudioSession sharedInstance] setActive: YES error: &activationErr]; 
```

让我知道可能是什么问题？或者给我一个示例或一些示例代码，我们可以在其中通知`UIEventSubtypeRemoteControlNextTrack`和`UIEventSubtypeRemoteControlPreviousTrack`事件。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-05T11:54:24.270

在我的 appdelegate 我有..

```
NSError *myErr;
NSError *activationError;
AVAudioSession *session = [AVAudioSession sharedInstance];

if( [session setCategory:AVAudioSessionCategoryPlayback error:&myErr] ) {
    if( [UIApplication instancesRespondToSelector: @selector (beginReceivingRemoteControlEvents)] ) {
        [[UIApplication sharedApplication] beginReceivingRemoteControlEvents];
    }

    [session setDelegate: self];

    if( ![session setActive: YES error: &activationError] ) {
        NSLog(@"Audio Session error %@, %@- unable to setActive", activationError, [activationError userInfo]);
        return false;
    }
}
else    {
    NSLog(@"Audio Session error %@, %@ - unable to setCategory", myErr, [myErr userInfo]);
    return false;
} 
```

然后在我的 ViewController 我有..

```
- (BOOL) canBecomeFirstResponder {
    return YES;
}

- (void) viewDidAppear:(BOOL)animated       {
    [super viewDidAppear:animated];
    [self becomeFirstResponder];
}

- (void) remoteControlReceivedWithEvent: (UIEvent *) receivedEvent {

    if (receivedEvent.type == UIEventTypeRemoteControl) {

        switch (receivedEvent.subtype) {

            case UIEventSubtypeRemoteControlPlay:
                break;

            case UIEventSubtypeRemoteControlPause:
                break;

            case UIEventSubtypeRemoteControlStop:
                break;

            case UIEventSubtypeRemoteControlTogglePlayPause:
                break;

            case UIEventSubtypeRemoteControlNextTrack:
                break;

            case UIEventSubtypeRemoteControlPreviousTrack:
                break;

            case UIEventSubtypeRemoteControlBeginSeekingBackward:
                break;

            case UIEventSubtypeRemoteControlEndSeekingBackward:
                break;

            case UIEventSubtypeRemoteControlBeginSeekingForward:
                break;

            case UIEventSubtypeRemoteControlEndSeekingForward:
                break;

            default:
                break;
        }
    }
} 
```

希望这可以帮助。

# python - python正则表达式日期格式mm/dd

> ID：10844041
> 
> 赞同：1
> 
> 时间：2012-06-01T03:31:34.287
> 
> 标签：python, regex

我正在尝试写一个`RE`查找所有`mm/dd`格式

```
re = "((1[0-2])|(0?[0-9]))/(((1[0-9])|(2[0-9])|(3[0-1])|(0?[0-9])))" 
```

它会找到所有`mm/dd`格式，但也会给出类似的东西，

```
11/22 in 12311/22213 
```

和

```
10/22 in 1110/22213 
```

如何排除上述情况？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T03:34:51.330

```
(?<!\d)((1[0-2])|(0?[0-9]))/(((1[0-9])|(2[0-9])|(3[0-1])|(0?[0-9])))(?!\d) 
```

当然，它会匹配 02/31 之类的内容，但这是一个开始。我在[这里](https://stackoverflow.com/questions/10773823/why-doesnt-this-regular-expression-work-the-way-i-want-it/10774743#10774743)发布了一个只匹配有效日期的正则表达式。

# javascript - 为什么在循环中动态添加.onclick到img元素需要return function()？

> ID：10844048
> 
> 赞同：3
> 
> 时间：2012-06-01T03:32:24.543
> 
> 标签：javascript, html, javascript-events

这个解决方案有效，但我不明白第二个“返回函数（）”是做什么的？

```
for (var i = 0; i < photos.length; i ++) {
    img.onclick = (function(photo) {
        return function() {
            hotLink(photo); //window.location = '/pics/user/' + photo.user_id;  
        };  
    })(photos[i]); 
```

另外，为什么我必须包括 (photos[i]); 在末尾？

以前，我有这个，onclick 总是链接到最后一张照片[i]。

```
 for (var i = 0; i < photos.length; i ++) {
      img.onclick = function() {
          window.location = 'pics/user/' + photo.user_id
      };
  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T03:38:07.177

因为函数调用是在 JavaScript 中创建新变量范围的唯一方法。

因此，您传递`photos[i]`给该函数，它就成为该调用范围的本地函数。

然后您还在同一范围内创建处理程序函数，因此处理程序正在引用该特定的`photo`.

所以最后，如果循环迭代 10 次，您将调用 10 个函数，创建 10 个新的独立变量作用域，它们引用每个个体`photo`并从每个独立作用域创建和返回处理程序。

* * *

如果你不这样内联函数，这些事情有时会更清楚。

```
for (var i = 0; i < photos.length; i ++) {
    img.onclick = createHandler(photos[i]); // pass individual photos to createHandler
}

function createHandler(photo) {
       // In here, the individual photo is referenced

       // And we create (and return) a function that works with the given photo
    return function() {
        hotLink(photo); //window.location = '/pics/user/' + photo.user_id;
    };
} 
```

因此，如果循环运行 10 次迭代，我们调用`createHandler()`10 次，每次传递一张单独的照片。

因为每个函数调用都会创建一个变量范围，并且因为我们在每个范围内创建事件处理程序，所以我们最终会在 10 个变量范围内创建所有 10 个函数，每个函数都引用传递的任何照片。

* * *

如果没有每次迭代的函数调用，所有处理函数都在*同一个*变量范围内创建，这意味着它们都共享相同的变量，这些变量很可能在每次循环迭代中被覆盖。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T03:38:21.633

当您这样做时（假设`photo = photos[i]`您在问题中遗漏了一个）：

```
img.onclick = function() { window.location = 'pics/user/' + photo.user_id }; 
```

函数内部的变量`photo`与函数外部引用的变量相同`photo`。它不是在定义函数时获取变量当前值的快照；它只是对同一变量的引用。周围的循环在每次迭代时都会更改该变量的值，但它不会每次都创建一个新变量；它正在重用同一个。因此，您生成的所有函数都引用了完全相同的变量——唯一的一个`photo`。

当任何人真正单击图像并*调用*该函数时，循环早已终止，并且`photo`已从主程序的范围中消失，但它仍然存在于内存中，因为所有这些函数仍然具有对它的引用。他们会发现它仍然指向列表中的最后一项，因为那是分配给它的最后一项。

因此，您需要为每个 onclick 函数提供其自己的变量，该变量在创建函数后不会更改。在 Javascript 中做到这一点的方法，因为它没有块范围，是调用一个函数并将值作为参数传递。在函数内部声明的函数参数和变量（与`photo`上面的非工作示例相反，它在函数内部*使用*但在函数外部*声明*）在每次函数调用时重新创建。当`photo`被声明为函数参数时，每个 onclick 都会获得自己的副本，其他任何东西都无法修改，因此当有人最终单击图像时，它仍然具有正确的值。

如果它使用静态函数生成器函数可能会更清楚；真的没有理由做内联声明和调用的事情。您可以在循环外声明一次：

```
function makeOnclick(somePhoto) {
    return function() { hotlink(somePhoto); }
} 
```

然后循环体可以这样做：

```
img.onclick = makeOnclick(photo) 
```

您正在调用`makeOnclick`并将其`photo`作为参数传递。该`makeOnclick`函数在很远的地方声明，`photo`即使您想要它也无法直接使用；它根本看不到那个变量。相反，它所拥有的只是它的本地参数`somePhoto`——每次调用时都会将其创建为一个全新的变量`makeOnclick`。它在调用时使用 的值初始化`photo`，但它只是一个副本，因此当`photo`在下一次循环迭代中发生更改时，该特定实例`somePhoto`将保持不变。当下一次迭代调用`makeOnclick`时，它将创建一个`somePhoto`初始化为 的新值的新实例`photo`，依此类推。所以即使`makeOnClick`返回的内部函数是继承`somePhoto`var，该 var 是专门为 ; 的实例创建的`makeOnClick`。每个返回的函数都有自己的 private `somePhoto`。

您上面的工作代码以稍微不同的方式做同样的事情。它不是`makeOnclick`在循环外声明一次函数并多次调用它，而是每次通过循环将其重新声明为匿名函数，然后立即调用。这段代码：

```
img.onclick = (function(x) { blah(x); })(photo); 
```

与此相同：

```
function foo(x) { blah(x); }
img.onclick = foo(photo); 
```

无需给函数命名。在一般的 JavaScript 中，这是：

```
(function (x,y,z) { doSomething(x,y,z); })(a,b,c); 
```

与此相同：

```
function callDoSomething(x,y,z) { doSomething(x,y,z); }
callDoSomething(a,b,c); 
```

除了函数没有名称并且没有保存在任何地方；它在被调用后立即消失。

因此，每次通过循环声明 onclick-generator 函数并立即立即调用它既简洁又好，但效率不高。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T03:39:49.443

返回的函数是一个闭包。当您像这样循环时，`i`会在每个循环上更新，直到循环结束时您被最后一张图像卡住。添加自执行函数并传入`photo[i]`它会将返回函数中的当前值永久包含为`photo`.

以下是关于闭包的更多信息：[JavaScript 闭包如何工作？](https://stackoverflow.com/questions/111102/how-do-javascript-closures-work)

并在此处获取有关您当前问题的更多信息：[循环内的 JavaScript 闭包 – 简单的实际示例](https://stackoverflow.com/questions/750486/javascript-closure-inside-loops-simple-practical-example)

# iphone - 如何检查多个 CGRectIntersectsRect

> ID：10844051
> 
> 赞同：0
> 
> 时间：2012-06-01T03:32:48.420
> 
> 标签：iphone, ios, xcode, uiimageview

基于[如何添加触摸并在视图上检测 UIImageView 以便我可以移动它而不是在它上面添加一个？](https://stackoverflow.com/questions/10842831/how-to-add-on-touch-and-detect-uiimageview-on-view-so-i-could-move-it-around-and/10843124#10843124)

我检查了 CGRectIntersectsRect 单个 uiimageview。我需要如何检查多个 uiimageview？

正确的

![在此处输入图像描述](../Images/4a92bf345a2e8f5e72eeab95f91476c0.png)

错误的

![在此处输入图像描述](../Images/35099f44897adb4489e2fba4e2e55822.png)

```
-(void)initImagesAndGesture
{
    UIImage *img = [UIImage imageNamed:@"beer.png"];
    imgView1 = [[UIImageView alloc]initWithImage:img];
    [imgView1 setFrame:CGRectMake(0, 0, 75, 115)];
    [imgView1 setUserInteractionEnabled:YES];
    UIPanGestureRecognizer *recognizer1 = [[UIPanGestureRecognizer alloc]initWithTarget:self action:@selector(handlePan1:)];
    [imgView1 addGestureRecognizer:recognizer1];
    [self.view addSubview:imgView1];

    img = [UIImage imageNamed:@"cups.png"];
    imgView2 = [[UIImageView alloc]initWithImage:img];
    [imgView2 setFrame:CGRectMake(200, 240, 64, 75)];
    [imgView2 setUserInteractionEnabled:YES];
    recognizer1 = [[UIPanGestureRecognizer alloc]initWithTarget:self action:@selector(handlePan1:)];
    [imgView2 addGestureRecognizer:recognizer1];
    [self.view addSubview:imgView2];
}

-(void)handlePan1:(UIPanGestureRecognizer *)recognizer
{
    if (!(CGRectIntersectsRect(imgView1.frame, imgView2.frame)))
    {
        CGPoint pre_moveLocation = [recognizer locationInView:recognizer.view];
        NSLog(@"previous location %@",NSStringFromCGPoint(pre_moveLocation));        

        CGPoint translation = [recognizer translationInView:self.view];
        recognizer.view.center = CGPointMake(recognizer.view.center.x + translation.x, 
                                             recognizer.view.center.y + translation.y);

        [recognizer setTranslation:CGPointMake(0, 0) inView:recognizer.view];
    }
    else 
    {
        NSLog(@"intersect!");

        CGPoint pre_moveLocation = [recognizer locationInView:recognizer.view];
        NSLog(@"previous location %@",NSStringFromCGPoint(pre_moveLocation));
        recognizer.view.center = CGPointMake(pre_moveLocation.x, pre_moveLocation.y);

        [recognizer setTranslation:CGPointMake(0, 0) inView:recognizer.view];

        //[imgView2 setFrame:CGRectMake(200, 240, 64, 75)];
        //[imgView1 setFrame:CGRectMake(0, 0, 75, 115)];

    }
}

-(void)addImgView:(UIPanGestureRecognizer *)recognizer
{
    NSLog(@"tappppp");

    UIImage *img = [UIImage imageNamed:@"beer.png"];
   UIImageView *imgView = [[UIImageView alloc]initWithImage:img];

    CGPoint tapLocation = [recognizer locationInView:recognizer.view];

    [imgView setCenter:CGPointMake(tapLocation.x,tapLocation.y)];     
    [imgView setUserInteractionEnabled:YES];
    UIPanGestureRecognizer *recognizer1 = [[UIPanGestureRecognizer alloc]initWithTarget:self action:@selector(handlePan1:)];
    [imgView addGestureRecognizer:recognizer1];
    [self.view addSubview:imgView];

}

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.
    [self initImagesAndGesture];

    UITapGestureRecognizer *tapRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(addImgView:)];
    tapRecognizer.numberOfTapsRequired = 2;
    tapRecognizer.numberOfTouchesRequired = 1;
    [tapRecognizer setDelegate:self];
    self.view.userInteractionEnabled = YES;

    [self.view addGestureRecognizer:tapRecognizer];   
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T03:52:58.677

只需遍历所有子视图...

```
// targetView is the one you are checking...
- (BOOL)isViewIntersectingAnyOtherViews:(UIView*)targetView {
    for (UIView *view in self.view.subviews) {
        if (view == targetView) continue; // Don't check against your own view
        if (CGRectIntersectsRect(view, thisView)) {
            return YES;
        }
    }
    return NO;
} 
```

# java - Java包问题

> ID：10844061
> 
> 赞同：0
> 
> 时间：2012-06-01T03:34:08.020
> 
> 标签：java, package

我正在尝试导入在`/home/jirwin/ptplot5.8/ptolemy/plot/plot.jar`. 我正在使用`import ptolemy.plot.*`和编译`javac -cp /home/jirwin/ptplot5.8/ptolemy/plot/plot.jar The Class.java`. 当我运行（使用 java -cp ...same... TheClass）时，我得到`Error:Could not find or create main class TheClass`.

当我`-cp`从`java`通话中删除时，`Could not find or create`错误消失了......

我知道这一定很简单，但我想不通！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T03:35:42.143

当你用 java 运行它时，你需要把你的完整包名放在你的 .class 前面。否则它看起来在错误的地方，或者什么的。（我对 java 的理解不够好，无法给你“为什么”，但这就是想法。）

`java -cp /home/jirwin/ptplot5.8/ptolemy/plot/plot.jar {package}.TheClass`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T03:39:49.847

如果您指定类路径是单个 jar 文件 - 正如您似乎正在做的那样 - 那么 Java 将找不到该 jar 文件之外的任何类。您需要您的类路径来包含*jar*文件和已编译类的位置。您可以使用 ”。” 表示当前目录；IE，

```
java -cp .:/home/jirwin/ptplot5.8/ptolemy/plot/plot.jar TheClass 
```

注意类路径开头的“点冒号”。

# email - 使用 cPanel 移动电子邮件地址

> ID：10844063
> 
> 赞同：0
> 
> 时间：2012-06-01T03:34:26.533
> 
> 标签：email, cpanel

如何删除：`old_mail_address@domain.com`并移至`new_mail_address@domain.com`cPanel 中？

这样当用户发送电子邮件时，`old_mail_address@domain.com`它将被直接转发到`new_mail_address@domain.com`，并且在发送该邮件时没有错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-13T05:41:12.023

为了解决这个问题，我只是用新的域名创建新的邮件地址，然后将消息转发到新的邮件地址。例子：

1.  **旧邮件地址**：manellen@old-address.com
2.  创建**新的邮件地址**：manellen@new-address.com
3.  **将邮件从旧邮件地址转发**到新邮件地址

从这个案例中，我们可以看到一个用户有两个邮件地址，即旧邮件地址和新邮件地址。我这样做的原因是为了避免发送消息失败或人们无法将消息发送到旧邮件地址，那么我不会删除旧邮件地址。

# python - JSON 对象中的项目是否使用“json.dumps”出现故障？

> ID：10844064
> 
> 赞同：178
> 
> 时间：2012-06-01T03:34:45.803
> 
> 标签：python, json

我正在使用`json.dumps`转换为 json 之类的

```
countries.append({"id":row.id,"name":row.name,"timezone":row.timezone})
print json.dumps(countries) 
```

我得到的结果是：

```
[
   {"timezone": 4, "id": 1, "name": "Mauritius"}, 
   {"timezone": 2, "id": 2, "name": "France"}, 
   {"timezone": 1, "id": 3, "name": "England"}, 
   {"timezone": -4, "id": 4, "name": "USA"}
] 
```

我想按以下顺序使用键：id、name、timezone - 但我有 timezone、id、name。

我应该如何解决这个问题？

* * *

## 回答 #1

> 赞同：281
> 
> 时间：2014-05-23T03:14:57.673

Python `dict`（Python 3.7 之前）和 JSON 对象都是无序集合。您可以传递`sort_keys`参数，对键进行排序：

```
>>> import json
>>> json.dumps({'a': 1, 'b': 2})
'{"b": 2, "a": 1}'
>>> json.dumps({'a': 1, 'b': 2}, sort_keys=True)
'{"a": 1, "b": 2}' 
```

如果您需要特定的订单；你可以[使用`collections.OrderedDict`](https://docs.python.org/library/collections.html#collections.OrderedDict)：

```
>>> from collections import OrderedDict
>>> json.dumps(OrderedDict([("a", 1), ("b", 2)]))
'{"a": 1, "b": 2}'
>>> json.dumps(OrderedDict([("b", 2), ("a", 1)]))
'{"b": 2, "a": 1}' 
```

[从 Python 3.6 开始](https://docs.python.org/3.6/whatsnew/3.6.html#pep-468-preserving-keyword-argument-order)，保留了关键字参数顺序，并且可以使用更好的语法重写上述内容：

```
>>> json.dumps(OrderedDict(a=1, b=2))
'{"a": 1, "b": 2}'
>>> json.dumps(OrderedDict(b=2, a=1))
'{"b": 2, "a": 1}' 
```

请参阅[PEP 468 – 保留关键字参数顺序](https://www.python.org/dev/peps/pep-0468/)。

如果您的输入以 JSON 形式给出，那么为了保留顺序（获取`OrderedDict`），您可以通过[@Fred Yankowski 的](https://stackoverflow.com/questions/10844064/items-in-json-object-are-out-of-order-using-json-dumps/23820416#comment62431021_23820416)`object_pair_hook`建议 ：

```
>>> json.loads('{"a": 1, "b": 2}', object_pairs_hook=OrderedDict)
OrderedDict([('a', 1), ('b', 2)])
>>> json.loads('{"b": 2, "a": 1}', object_pairs_hook=OrderedDict)
OrderedDict([('b', 2), ('a', 1)]) 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-06-01T04:55:41.543

正如其他人所提到的，底层的 dict 是无序的。但是 python 中有 OrderedDict 对象。（它们是在最近的 python 中内置的，或者你可以使用这个：[http](http://code.activestate.com/recipes/576693/) ://code.activestate.com/recipes/576693/ ）。

我相信较新的 pythons json 实现可以正确处理内置的 OrderedDicts，但我不确定（而且我无法轻松访问测试）。

旧的 pythons simplejson 实现不能很好地处理 OrderedDict 对象.. 并在输出它们之前将它们转换为常规 dicts.. 但您可以通过执行以下操作来克服这个问题：

```
class OrderedJsonEncoder( simplejson.JSONEncoder ):
   def encode(self,o):
      if isinstance(o,OrderedDict.OrderedDict):
         return "{" + ",".join( [ self.encode(k)+":"+self.encode(v) for (k,v) in o.iteritems() ] ) + "}"
      else:
         return simplejson.JSONEncoder.encode(self, o) 
```

现在使用这个我们得到：

```
>>> import OrderedDict
>>> unordered={"id":123,"name":"a_name","timezone":"tz"}
>>> ordered = OrderedDict.OrderedDict( [("id",123), ("name","a_name"), ("timezone","tz")] )
>>> e = OrderedJsonEncoder()
>>> print e.encode( unordered )
{"timezone": "tz", "id": 123, "name": "a_name"}
>>> print e.encode( ordered )
{"id":123,"name":"a_name","timezone":"tz"} 
```

这几乎是所希望的。

另一种选择是将编码器专门化以直接使用您的行类，然后您就不需要任何中间 dict 或 UnorderedDict。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2019-07-19T18:20:52.497

嘿，我知道这个答案太晚了，但添加 sort_keys 并为其分配 false 如下：

```
json.dumps({'****': ***},sort_keys=False) 
```

这对我有用

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2012-06-01T03:37:30.540

字典的顺序与定义它的顺序没有任何关系。所有字典都是如此，而不仅仅是那些变成 JSON 的字典。

```
>>> {"b": 1, "a": 2}
{'a': 2, 'b': 1} 
```

确实，字典在到达之前就被“颠倒了” `json.dumps`：

```
>>> {"id":1,"name":"David","timezone":3}
{'timezone': 3, 'id': 1, 'name': 'David'} 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2016-10-20T19:46:30.450

json.dump() 将保留字典的顺序。在文本编辑器中打开文件，您将看到。无论您是否向其发送 OrderedDict，它都会保留该订单。

但是 json.load() 将丢失已保存对象的顺序，除非您告诉它加载到 OrderedDict() 中，这是使用上面 JFSebastian 指示的 object_pairs_hook 参数完成的。

否则它将丢失顺序，因为在通常的操作下，它将保存的字典对象加载到常规字典中，而常规字典不保留给定项目的顺序。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-11-13T02:12:06.960

基于迈克尔安德森的回答，但在您传入数组时也可以使用

```
class OrderedJsonEncoder(simplejson.JSONEncoder):
    def encode(self, o, first=True):
        if type(o) == list and first:
            return '[' + ",".join([self.encode(val, first=False) for val in o]) + ']'
        if type(o) == OrderedDict:
            return "{" + ",".join(
                [self.encode(k, first=False) + ":" + self.encode(v) for (k, v) in o.iteritems()]
            ) + "}"
        else:
            return simplejson.JSONEncoder.encode(self, o) 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2021-05-05T08:28:51.963

如果您使用的是 Python 3.7+ ，它确实会保留顺序。

> 在 Python 3.7 之前，不保证 dict 是有序的，因此输入和输出通常会被打乱，除非特别要求 collections.OrderedDict。从 Python 3.7 开始，常规 dict 变成了顺序保留，因此不再需要为 JSON 生成和解析指定 collections.OrderedDict。

[https://docs.python.org/3/library/json.html#json.dump](https://docs.python.org/3/library/json.html#json.dump)

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2021-03-02T02:24:26.840

Python 3.6.1：

```
Python 3.6.1 (default, Oct 10 2020, 20:16:48)
[GCC 7.4.0] on linux
Type "help", "copyright", "credits" or "license" for more information.

>>> import json
>>> json.dumps({'b': 1, 'a': 2})
'{"b": 1, "a": 2}' 
```

Python 2.7.5：

```
Python 2.7.5 (default, Nov 20 2015, 02:00:19) 
    [GCC 4.8.5 20150623 (Red Hat 4.8.5-4)] on linux2
    Type "help", "copyright", "credits" or "license" for more information.

>>> import json
>>> json.dumps({'b': 1, 'a': 2})
'{"a": 2, "b": 1}' 
```

# javascript - 用于“静默”上传单个文件的 jquery 插件

> ID：10844071
> 
> 赞同：-1
> 
> 时间：2012-06-01T03:35:40.137
> 
> 标签：javascript, ajax, file-upload

在我的网络应用程序中，当用户选择该文件并停留在同一个 html 页面上时，我需要上传一个文件。我正在寻找一个可能使用`jquery`.and 的非 Flash 解决方案，它可以在 Firefox 上运行。

通过谷歌搜索，我遇到了很多插件，其中大多数使用精心制作的 html 页面来显示`input widgets / upload status indicators`等。我需要一些我可以像这样使用的东西，使用 ajax。

我的页面.html

```
<input type="file" id="myfileselect" > </input> 
```

myjs.js

```
$(document).ready(function(){
   $('#myfileselect').change(function(e){
       //upload the file somehow
   }

}); 
```

这可能吗？有人可以说明我该怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T03:48:17.890

我在所有项目中都使用这个插件。用户选择文件后，您只需调用

`$('#yourForm).ajaxSubmit()`

它将异步上传您的文件。

[http://jquery.malsup.com/form/](http://jquery.malsup.com/form/)

在你的情况下，你会这样做：

**HTML**

```
<form id="myForm">
<input type="file" id="myfileselect" > </input>
</form> 
```

**jQuery**

```
$(document).ready(function(){
    //set the options here
    var options = {
        url : 'yourScript.php',
        method : 'post'
    };

   $('#myfileselect').change(function(e){
       $('#myForm').ajaxSubmit(options);
   }
}); 
```

# iphone - 在弹出窗口中显示 DatePicker 后触摸焦点更改

> ID：10844073
> 
> 赞同：2
> 
> 时间：2012-06-01T03:35:58.090
> 
> 标签：iphone, ios, xcode, ipad, uidatepicker

我有一个 UIViewController。在我看来（xib），我有一个 UIButton 和一个 UIToolBar。在“Touch Up Inside”中，我有以下内容：

```
 UINavigationController *nc = [[UINavigationController alloc] initWithRootViewController:ec];
nc.modalPresentationStyle = UIModalPresentationFormSheet;

[self presentModalViewController:nc animated:YES]; 
```

“ec”是一个 UITableViewController。对于这个视图 (xib)，我有三行，由三个文本字段组成。在一个文本字段中，我将“inputView”设置为 UIDatePicker。如果我把焦点放在这个文本字段上，日期选择器就会按预期显示。当我将焦点设置在另一个文本字段上时，键盘会出现。但是当我关闭弹出窗口时，似乎 UIButton 和 UIToolBar 右导航按钮不起作用。实际上是这样，但我必须单击控件上方约一英寸才能再次触发弹出窗口。是什么赋予了？！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-01T18:45:45.057

对不起，迟到的帖子，但发现应用程序正在重新计算视图坐标，这会导致它关闭。解决此问题后，一切都很好。

# iphone - UIViewController 难度

> ID：10844075
> 
> 赞同：0
> 
> 时间：2012-06-01T03:36:30.620
> 
> 标签：iphone, ios, xcode

//RootViewViewController.h

```
#import <UIKit/UIKit.h>
#import "SettingsViewController.h"
#import "OneSlotViewController.h"
#import "TwoSlotViewController.h"
#import "BingoSlotViewController.h"
#import "SettingsViewController.h"

@interface RootViewViewController : UIViewController{

    IBOutlet UIButton *owaru;
    OneSlotViewController *oneSlotViewController;
    TwoSlotViewController *button2ViewController;
    BingoSlotViewController *button3ViewController;
    UIViewController *pushedController;
    UIButton *hajimekara;
    SettingsViewController *settingsVc;

}
@property (retain, nonatomic) UIButton *hajimekara;
@property (strong, nonatomic) IBOutlet UIButton *owaru;
@property (nonatomic, retain) OneSlotViewController *button1ViewController;
@property (nonatomic, retain) TwoSlotViewController *button2ViewController;
@property (nonatomic, retain) BingoSlotViewController *button3ViewController;
@property (nonatomic, retain) UIViewController *pushedController;
@property (nonatomic, retain) SettingsViewController *settingsVc; 
```

//RootViewViewController.m

```
@synthesize button1ViewController;
@synthesize button2ViewController;
@synthesize button3ViewController;
@synthesize pushedController;
@synthesize settingsVc;

-(IBAction) startButtonPressed:(id) sender { 
    if (self.settingsVc.pushedController!=nil) { 
        NSLog(@"push"); 
        [self presentViewController:self.settingsVc.pushedController animated:YES completion:NULL]; 
    } 
} 
```

//SettingViewController.h

```
#import "OneSlotViewController.h"
#import "TwoSlotViewController.h"
#import "BingoSlotViewController.h"

#import "SettingsViewController.h"

#import "AGImagePickerController.h"

@class RootViewViewController;

@interface SettingsViewController : UIViewController<UINavigationControllerDelegate, UIImagePickerControllerDelegate, UIPopoverControllerDelegate,UIScrollViewDelegate>{

    OneSlotViewController *oneSlotViewController;
    TwoSlotViewController *button2ViewController;
    BingoSlotViewController *button3ViewController;
    UIViewController *pushedController;
     RootViewViewController *mainVc;
    UIImageView *lastPriceView;
    CustomImagePicker *_imagePicker;
    UINavigationController *navController;

}

@property (nonatomic, retain) UIPopoverController *popoverController;
@property (nonatomic, retain) OneSlotViewController *button1ViewController;
@property (nonatomic, retain) TwoSlotViewController *button2ViewController;
@property (nonatomic, retain) BingoSlotViewController *button3ViewController;
@property (nonatomic, retain) UIViewController *pushedController;
@property (nonatomic, retain) RootViewViewController *mainVc;
@property (strong, nonatomic) IBOutlet UIImageView *lastPriceView;
@property (nonatomic, retain) CustomImagePicker *imagePicker;
@property (nonatomic, retain) IBOutlet UINavigationController *navController; 
```

//设置视图控制器.m

```
-(IBAction) button1Pressed:(id)sender {
    if (self.button1ViewController==nil) {
        button1ViewController = [[OneSlotViewController alloc] init];
    }
    self.pushedController = button1ViewController;
}

-(IBAction) button2Pressed:(id)sender {
    if (self.button2ViewController==nil) {
        button2ViewController = [[TwoSlotViewController alloc] init];
    }
    self.pushedController = button2ViewController;
}

-(IBAction) button3Pressed:(id)sender {
    if (self.button3ViewController==nil) {
        button3ViewController = [[BingoSlotViewController alloc] init];
    }
    self.pushedController = button3ViewController;
} 
```

我已经在这两个控制器上声明了实例。每当在 SettingsViewController 中按下按钮时，它都会将 ViewController 传递给 MainViewController 的 startButton。但我似乎无法让它发挥作用。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T03:51:11.510

SettingsViewController.pushedController 和 MainViewController.pushedController 是单独的变量。改变一个不会影响另一个。

你有两个选择。您要么需要将 SettingsViewController 存储在 MainViewController 中，要么将 MainViewController 传递给 SettingsViewController。

如果 MainViewController 保留对 SettingsViewController 的引用，那么您可以：

```
-(IBAction) startButtonPressed:(id) sender { 
    if (self.settingsViewController.pushedController!=nil) { 
        NSLog(@"push"); 
        [self presentViewController:self.settingsViewController.pushedController animated:YES completion:NULL]; 
    } 
} 
```

如果向 SettingsViewController 传递了对 MainViewController 的引用，那么您可以：

```
-(IBAction) button1Pressed:(id)sender {
    if (self.button1ViewController==nil) {
        button1ViewController = [[ViewOneController alloc] init];
    }
    self.mainViewController.pushedController = button1ViewController;
}

-(IBAction) button2Pressed:(id)sender {
    if (self.button2ViewController==nil) {
        button2ViewController = [[ViewTwoController alloc] init];
    }
    self.mainViewController.pushedController = button2ViewController;
}

-(IBAction) button3Pressed:(id)sender {
    if (self.button3ViewController==nil) {
        button3ViewController = [[ViewThreeController alloc] init];
    }
    self.mainViewController.pushedController = button3ViewController;
} 
```

选择其中之一，你应该没问题。

# php - 基于令牌的网站登录？

> ID：10844076
> 
> 赞同：0
> 
> 时间：2012-06-01T03:36:46.777
> 
> 标签：php, c++

我真的不确定这是如何工作的，而且似乎找不到太多关于它的信息。

我玩 PC exe 游戏，我可以在游戏中登录。然后我点击商店按钮。它打开我的浏览器。我在 url 中看到了一些令牌内容，然后它使用我的个人资料和所有内容将我登录到该站点。

这样的事情通常如何工作或实施？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T03:43:42.757

由于您已登录游戏，因此您可以作为经过身份验证的用户向游戏服务器发出请求。您的游戏客户端代表您请求生成与您的用户相关的登录令牌。

令牌基本上是一对，由您的用户 ID + 一个随机字符串组成。这对可以存储在游戏系统服务器上的任何位置（mySQL 数据库、memcached 服务器、redis 服务器、文本文件？？）。大多数情况下，到期时间将与令牌相关联。如果使用 redis 或 memcached 之类的东西，到期时间是系统固有的。如果使用 mySQL 或常规文件，可以将到期时间定义为附加字段。

当您转到提供的 URL 时，URL 中的令牌将传递给 Web 服务器，Web 服务器又将其传递给驱动您的动态网站的任何东西（php、python、nginx 等）。

动态脚本语言将根据存储它的数据库检查该令牌，查看它是否与您的用户相关联，然后让您登录。由于这些代币大多为一次性使用，因此系统也会在首次使用时销毁该代币。

# iphone - 删除 NSMutableArray 范围内的对象

> ID：10844080
> 
> 赞同：9
> 
> 时间：2012-06-01T03:37:28.693
> 
> 标签：iphone, objective-c, ios, ipad, nsmutablearray

我正在尝试删除从索引 5 开始到列表末尾的数组中的对象。我有一个 for 循环来执行此操作，但是现在我发现

```
 - (void)removeObject:(id)anObject inRange:(NSRange)aRange 
```

问题是这里的 anObject 是什么？据我所知，我只需要范围

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-06-01T03:43:11.810

`removeObject:inRange:`删除一定范围内的对象。`@"Hello World"`如果您只想在字符串是前 5 个元素之一时删除该字符串，此方法将很有用。

听起来您要做的是删除第 5 个元素之后的所有对象。如果那是您想要做的，您应该使用该`removeObjectsInRange:`方法。例如：

```
 NSRange r;
 r.location = 5;
 r.length = [someArray count]-5;

 [someArray removeObjectsInRange:r]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T03:42:04.787

你要

```
- (void)removeObjectsInRange:(NSRange)aRange 
```

> 从数组中删除给定范围内的每个对象。

# python - Python：按值调用和按对象调用有什么区别？

> ID：10844088
> 
> 赞同：8
> 
> 时间：2012-06-01T03:38:36.983
> 
> 标签：python, arguments, parameter-passing, pass-by-value

许多人说，在 Python 中，函数的参数是使用按值调用模型传递的。据我了解，它实际上不是按值调用的语言，而是按对象调用或按共享调用的模型。

按值调用模型和按对象调用模型之间有什么区别？什么是 Python 中的示例，可以显示这些模型的不同之处？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-01T03:41:27.523

Python 中的变量不是值，它们是对象引用。当您调用 Python 函数时，参数是对原始对象的引用的副本。我不知道这与您在问题中提出的术语有何关系。

例如，考虑以下 Python 代码：

```
def foo(bar, baz):
    bar = 3
    baz[0] = 4

a = 1
b = [2]
foo(a, b)
print a, b 
```

`a`被分配给对象`1`，并且`b`被分配给包含对该对象的引用的列表对象`2`。在函数内部`foo`，`bar`也赋值给同一个对象`1`，`baz`赋值给同一个列表对象。由于`1`是不可变的，因此您无法更改对象，但您可以重新分配`bar`以引用不同的对象，例如`3`. 列表是可修改的，因此通过设置`baz[0]`您`4`也可以更改`b`引用的列表对象。上面的输出将是`1 [4]`.

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-01T09:29:42.010

说它不是按值传递是不正确的。从语义上讲，它*是*按值传递的，并且可以证明它与其他按值传递语言之间的语义等价性。但是，它属于按值传递语言的特定子类别，其中所有值都是对象的引用（指针）（您不能直接将对象作为值），并且许多人将指向对象的指针与对象混淆本身。此类语言包括 Java（相对于对象）、Python、Ruby、JavaScript、Scheme、Smalltalk，仅举几例。

更令人困惑的是，不同语言的社区使用不同的术语。例如，Java 社区一致将 Java 描述为按值传递，尽管 Java 中的对象与 Python 和 Ruby 中的对象具有*完全相同的语义。*但是，在后面这些语言的社区中，您听到的“按值传递”要少得多。

按值传递与按引用传递本质上是语义上的区别，而不是它的用途之一。但是许多（初学者）程序员并不太关心语义，而更关心它可以用来做什么。例如，有些人认为每当你有“我有一些数据我给一个函数，它可以改变它而不返回它，我可以看到变化”，这意味着传递引用，没有真正思考（或关心）改变的东西是你传递的东西，还是你传递的东西间接指向的东西。

“通过对象传递”或“通过共享传递”或任何用于描述按值传递语义的组合以及所有值都是引用（指针）的术语。通过这种方式，他们可以更容易地表达这种组合的实际效果，并将其与 C 中的按值传递的效果区分开来。但从语义上讲，它仍然是按值传递。说变量是“绑定”到对象的“名称”或“句柄”，并且当您分配或传递它时，您共享对象，这*完全等同*于说变量（实际上是语言中的所有值）是指向对象的指针，当您分配或传递它们时，这些指针会按值复制。

# php - onclick 由 onmousedown 激活

> ID：10844089
> 
> 赞同：0
> 
> 时间：2012-06-01T03:38:53.330
> 
> 标签：php, javascript, html, var

有没有办法激活一个 onclick 事件，比如

```
onClick="variable();size()" 
```

哪里还有onmousedown事件？

```
class="div_1" onClick="variable();size()" onmousedown="clickin(this)" 
```

onmousedown javascript 会在哪里激活 onclick javascript？

```
function clickin(control) {
    var allElements = document.getElementById(control.id);
    for (var i=0; i<allElements.length; i++) { 
        eval(document.getElementById('elementId').getAttribute('onclick'));
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T03:45:58.950

该`onclick`属性通常会变成一个函数。所以这将起作用：

```
<a onclick="alert('click');" onmousedown="this.onclick()">Click here to click</a> 
```

**/编辑：**

```
<a id="a_target">Click here to click</a>
<script type="text/javascript">
     var a_target = document.getElementById('a_target');

     a_target.onclick = function(){ alert('click'); };   // CODE TO ADD ONCLICK
     a_target.onmousedown = function(){ this.onclick();  } // CODE TO ADD MOUSEDOWN

     // TO REMOVE THEM DO THIS
     a_target.onclick = a_target.onmousedown = function(){} // NO MORE CLICKS
     a_target.onmousedown = function(){
          alert('mousedown!'); // DISPLAYS POPUP
          a_target.onmousedown = function(){} // STOPS FROM CLICK
          a_target.onclick = function(){ alert('CLICK :D'); } // WILL POPUP CLICK NOW AND ON NEXT CLICK
     }

     // TO POPUP CLICK ONLY ON NEXT CLICK CHANGE ONMOUSEDOWN TO ONMOUSEUP
</script> 
```

# android - 在没有路由器的情况下通过 WiFi 在真实设备和模拟器之间测试应用程序

> ID：10844096
> 
> 赞同：0
> 
> 时间：2012-06-01T03:40:12.583
> 
> 标签：android, android-emulator, wifi

我开发包含客户端和服务器端的应用程序，因此我需要测试它们之间的工作。我有一个真正的 android 设备，我希望 android 设备连接到模拟器。我有时在工作（如果我当然有空闲时间）和在家工作。我家里有 WiFi 路由器，我可以通过模拟器（在真实设备上运行的 TCP 侦听器）连接到真实设备，但反之亦然（我不知道要使用哪个 IP）。但在工作中，我只有热点 WiFi 点，没有路由器。我的 android 设备可以正常连接。在设备上运行时，甚至更多`ADB`可以连接到设备。`adbWireless`但它不起作用，在任何情况下我都无法连接到 tcp 侦听器。家庭和工作之间的区别在于WiFi路由器的存在。有什么解决办法吗？如果不是为什么`Android debug bridge(ADB)`可以连接到`adbWireless`？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T15:12:44.807

我解决了这个问题。我在我的真实设备上运行网络共享并在其上运行服务器。然后我使用一个程序`Connection state viewer`有一个链接：[https://play.google.com/store/apps/details?id=ru.nolesh.android.connectionstateviewer](https://play.google.com/store/apps/details?id=ru.nolesh.android.connectionstateviewer)它可以帮助我找到 IP 地址。之后，我启动模拟器和客户端。所以我通过给定的 IP 连接到我的服务器。

# python - 查找与字典中的值关联的最大数字

> ID：10844099
> 
> 赞同：0
> 
> 时间：2012-06-01T03:40:19.733
> 
> 标签：python

我正在编写一本字典，将姓名映射到收到的选票。我需要将名称与最多票关联，将其分配给变量 win。

至今：

```
vote = {}

for key in vote:
    vote(max(key)) = win 
```

我如何将胜利与名称相关联，因为我现在认为我的错误是我将其与最高数字相关联。

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T04:03:09.353

通常的方法是

```
win = max(vote, key=vote.get) 
```

你也可以使用计数器

```
from collections import Counter
win, = Counter(vote).most_common(1) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T03:46:49.797

```
win = sorted(vote, key=lambda x: votes[x])[-1] 
```

更多信息在这里：[http ://docs.python.org/library/functions.html#sorted](http://docs.python.org/library/functions.html#sorted)

# java - Java 应用程序服务器监视和分析概念

> ID：10844108
> 
> 赞同：0
> 
> 时间：2012-06-01T03:43:02.047
> 
> 标签：java, jboss, weblogic, application-server, server-monitoring

我想为 JBoss、Weblogic 等 java 应用服务器编写监控和分析工具。但我不太了解监控和分析概念。这些概念是否有任何参考资源？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T03:48:54.460

[从](http://www.eclipse.org/tptp/home/documents/tutorials/profilingtool/profilingexample_32.html)[概念](https://stackoverflow.com/questions/1404986/simple-server-monitoring-with-java)[的](http://en.wikipedia.org/wiki/Application_Performance_Management)[基础](http://www.ibm.com/developerworks/websphere/library/techarticles/0304_polozoff/polozoff.html)[开始](http://en.wikipedia.org/wiki/Application_server#Java_application_servers)[，](http://en.wikipedia.org/wiki/Profiling) [看看](http://www.jboss.org/jbossprofiler)[现有](http://exchange.nagios.org/directory/Plugins/Java-Applications-and-Servers)[的](http://www.ej-technologies.com/products/jprofiler/overview.html)[工具](https://stackoverflow.com/questions/130067/best-server-performance-monitoring-tool-for-java-servers)[_](https://stackoverflow.com/questions/18080/best-traffic-performance-usage-monitoring-module) [_](http://docs.oracle.com/cd/E13188_01/jrockit/docs81/portblty/jvmtools.html)

# android - “RuntimeException：执行未恢复的活动暂停”

> ID：10844112
> 
> 赞同：29
> 
> 时间：2012-06-01T03:43:28.550
> 
> 标签：android, screen, android-activity, runtimeexception

（我在 stackoverflow 上看到了一个类似的问题，但没有真正的答案，而且问题的上下文也有点不同。）

“java.lang.RuntimeException：执行未恢复的活动暂停”

我开发了一个游戏应用程序（它使用普通视图和 GLSurfaceView）。*如果我非常*快速地打开和关闭手机显示屏，有时会导致此异常（由 ActivityThread 引发），但异常后我的应用程序运行正常。我的应用程序是横向应用程序，并且在清单中也正确设置（包括方向和配置更改）。

这个可以吗？

这是 ActivityThread 在我的应用程序名称下抛出的 RuntimeException，但它不会终止我的应用程序。

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2013-02-04T06:30:45.850

我刚刚遇到了这个问题，因为我正在调用 activity.recreate() （或 .finish() 和 .startActivity() - 取决于 android 版本）。当然，你只会调用这些函数，因为你想重新加载语言、重置方向和类似的东西，你只能用活动娱乐来做。

但是，您不能从 onResume() 调用这些函数（.finish() 或 .recreate()）。如果这样做，您将收到提到的非致命异常。

我通过将 .recreate() 调用延迟一毫秒来“解决”这个问题，以便活动得到正确恢复，然后才被杀死。

```
 Handler handler = new Handler();
  handler.postDelayed(new Runnable()
  {
    @Override
    public void run()
    {
      log.i("TX.refresh", "Switching to %s from %s", lang, lang);
      if (Build.VERSION.SDK_INT < Build.VERSION_CODES.HONEYCOMB)
      {
        ctx.finish();
        ctx.startActivity(ctx.getIntent());
      } else ctx.recreate();
    }
  }, 1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-11-16T13:41:59.893

请在清单文件中使用此代码

```
<activity
    android:name=".YourActivity"
    android:configChanges="orientation|keyboardHidden|screenSize"
    android:screenOrientation="portrait" >
</activity> 
```

# android - 加载时显示进度条

> ID：10844116
> 
> 赞同：0
> 
> 时间：2012-06-01T03:43:55.053
> 
> 标签：android, progress-bar

我在 main.xml 中有一个按钮，它将链接到另一个包含来自服务器的信息的 xml。我包括进度条以避免系统加载信息时出现空白屏幕。我已经完成了如下代码，但它仍然不是我想要的东西。下面的代码将“等待”1000 毫秒，然后只会执行下一个代码。我该如何修改它，以便加载“等待时间”取决于互联网速度，如果互联网连接速度很慢，那么进度条屏幕将显示更长的时间。

```
package com.android.myApps;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.os.Handler;
import android.view.View;
import android.widget.TextView;

public class MainScr extends Activity {

    private final int WAIT_TIME = 1000;

    @Override
    protected void onCreate(Bundle savedInstanceState)
    {       
        super.onCreate(savedInstanceState);     
        setContentView(R.layout.MainScr);       
    }   

    public void onClickCategory(View view)
    {
        findViewById(R.id.mainSpinner1).setVisibility(View.VISIBLE);
        new Handler().postDelayed(new Runnable(){
            @Override
                public void run() {                          
                      Intent mainIntent = new Intent(MainScr.this, Category.class); 
                      MainScr.this.startActivity(mainIntent); 
                      MainScr.this.finish(); 
                      } 
            }, WAIT_TIME);
    }
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-01T04:27:18.323

您在这里犯的错误是您将特定时间转储到您的代码中您永远不知道获得响应需要多少时间。您应该遵循以下方法

步骤 1 在屏幕上显示进度对话框

第2步让下载自己的时间。但它应该在新线程中完成

第 3 步一旦下载完成，它会提出任务完成的消息，现在删除该进度对话框并继续。

我在这里粘贴示例代码。希望对您有所帮助。

```
package com.android.myApps;

import android.app.Activity;
import android.app.ProgressDialog;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;

public class MainScr extends Activity
{
    private Handler handler;
    private ProgressDialog progress;
    private Context context;

    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        context = AncActivity.this;
        progress = new ProgressDialog(this);
        progress.setTitle("Please Wait!!");
        progress.setMessage("Wait!!");
        progress.setCancelable(false);
        progress.setProgressStyle(ProgressDialog.STYLE_SPINNER);

        handler = new Handler()
        {

            @Override
            public void handleMessage(Message msg)
            {
                progress.dismiss();
                Intent mainIntent = new Intent(context, Category.class);
                startActivity(mainIntent);
                super.handleMessage(msg);
            }

        };
        progress.show();
        new Thread()
        {
            public void run()
            {
                // Write Your Downloading logic here
                // at the end write this.
                handler.sendEmptyMessage(0);
            }

        }.start();

    }

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T04:22:42.663

你试过Asyntask吗？您的操作过程将在 UI 中更新。

```
public final class HttpTask
        extends
        AsyncTask<String/* Param */, Boolean /* Progress */, String /* Result */> {

    private HttpClient mHc = new DefaultHttpClient();

    @Override
    protected String doInBackground(String... params) {
        publishProgress(true);
        // Do the usual httpclient thing to get the result
        return result;
    }

    @Override
    protected void onProgressUpdate(Boolean... progress) {
        // line below coupled with 
        //    getWindow().requestFeature(Window.FEATURE_INDETERMINATE_PROGRESS) 
        //    before setContentView 
        // will show the wait animation on the top-right corner
        MyActivity.this.setProgressBarIndeterminateVisibility(progress[0]);
    }

    @Override
    protected void onPostExecute(String result) {
        publishProgress(false);
        // Do something with result in your activity
    }
} 
```

# solr - 在solr中，我想知道id“587”在什么位置？

> ID：10844118
> 
> 赞同：1
> 
> 时间：2012-06-01T03:44:26.300
> 
> 标签：solr

Solr，我有文档数据，在 schema.xml 中有 uniqueKey 字段“id”

我只想知道在所有文档中排序的文档中的**位置 id "587" 是什么，****返回 i**；

有人可以知道我的意思吗？

有人能帮我吗？

**2012-6-4 11:26 更新**

数据示例：搜索结果 [5,8,1,9,12,6,7,........] ids form solr 文档

如何知道结果中的 id=9 索引/位置？

# c - 从头开始合成 WAV 文件 - C

> ID：10844122
> 
> 赞同：8
> 
> 时间：2012-06-01T03:45:04.667
> 
> 标签：c, math, audio, signal-processing, pitch

最近，我在我的 CS 101 课程中看到一个视频讲座，启发我开始使用 C 语言中的 WAV 文件格式。我今天的项目一直在使用简单的数学正弦函数创建声音。尽管有一些障碍，我的程序现在可以接受多个输入（波的频率、波的幅度、采样率等）并创建一个包含指定音高的 wav 文件。

但是，在我的电脑扬声器上播放这些音调时，会发出一种奇怪的、有节奏的爆裂声，它会随着采样率的不同而变化。在更高的采样率下，爆裂声的频率增加并变成令人讨厌的呜呜声。

奇怪的是，具有相同文件的不同计算机之间的爆裂声是一致的。

下面我将发布用于生成 WAV 文件的代码。任何有关可能导致这种现象的原因的见解都将受到赞赏。这可能只是我在某个地方犯的一个愚蠢的错误。:)

```
#include <stdio.h>
#include <sys/types.h>
#include <sys/ioctl.h>
#include <fcntl.h>
#include <string.h>
#include <math.h>

struct WAVHeader {
    char ChunkID[4];
    uint32_t ChunkSize;
    char RIFFType[4];
};

struct FormatHeader {
    char ChunkID[4];
    uint32_t ChunkSize;
    uint16_t CompressionCode;
    uint16_t Channels;
    uint32_t SampleRate;
    uint32_t AvgBytesPerSec;
    uint16_t BlockAlign;
    uint16_t SigBitsPerSamp;
};

struct DataHeader {
    char ChunkID[4];
    uint32_t ChunkSize;

};

void main(int argc, char * argv[]) {

//Check for valid number of arguments or display help
if(argc < 8) {
    printf("Usage:\n./Tone -l [length] -s [frequency] [amplitude] -o [output-file] -r [sample-rate]\n");
    printf("-l length of tone to produce in seconds\n");    
    printf("-s Creates sine wave. Can be used multiple times. Frequency (Hz) and amplitude (0 - 32767) of each tone. \n");  
    printf("-o File to write to\n");
    printf("-r samples per second (kHz). Note: Must be double highest frequency in tone.\n");   
    return;
}

//Organize arguments
int length, sinf[10], sina[10], samplerate;
memset(sinf, 0, sizeof(int) * 10);
memset(sina, 0, sizeof(int) * 10);
char * output = NULL;
int i = 0;
int count;
for(count = 1; count < argc; count++){
    char first = *argv[count];
    int second = *(argv[count] + 1);    
    if (first == '-') {
        switch (second) {
            case 's':
                sinf[i] = atoi(argv[count+1]);
                sina[i] = atoi(argv[count+2]);
                i++;
                break;
            case 'l':
                length = atoi(argv[count+1]);
                break;
            case 'o':
                output = argv[count+1];
                break;
            case 'r':
                samplerate = atoi(argv[count+1]) * 1000;
                break;
        }
    }
}

//Allocate memory for wav file
size_t size = sizeof(struct WAVHeader) + sizeof(struct FormatHeader) + sizeof(struct DataHeader) + (length * samplerate * 2);
void * buffer = malloc(size);

//Fill buffer with headers
struct WAVHeader * WAV = (struct WAVHeader *)buffer;
struct FormatHeader * Format = (struct FormatHeader *)(WAV + 1);
struct DataHeader * Data = (struct DataHeader *)(Format + 1);

strcpy(WAV->ChunkID, "RIFF");
WAV->ChunkSize = (uint32_t)size - 8;
strcpy(WAV->RIFFType, "WAVE");

strcpy(Format->ChunkID, "fmt ");
Format->ChunkSize = 16;
Format->CompressionCode = 1;
Format->Channels = 1;
Format->SampleRate = (uint32_t)samplerate;
Format->SigBitsPerSamp = 16;
Format->BlockAlign = 2;
Format->AvgBytesPerSec = Format->BlockAlign * samplerate;

strcpy(Data->ChunkID, "data");
Data->ChunkSize = length * samplerate * 2;

//Generate Sound
printf("Generating sound...\n");
short * sound = (short *)(Data + 1);
short total;
float time;
float increment = 1.0/(float)samplerate;
for (time = 0; time < length; time += increment){
    total = 0;
    for (i = 0; i < 10; i++) {
        total += sina[i] * sin((float)sinf[i] * time * (2 * 3.1415926));
    }
    *(sound + (int)(time * samplerate)) = total;
    //printf("Time: %f Value: %hd\n", time, total);
}

//Write buffer to file
FILE * out = fopen(output, "w");
fwrite(buffer, size, 1, out);
printf("Wrote to %s\n", output);

return;

} 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-01T05:26:47.493

我认为这是您的核心问题：

```
*(sound + (int)(time * samplerate)) = total; 
```

我怀疑由于浮点舍入错误， (time*samplerate) 并不总是在整数边界上增加。因此，由于舍入误差，一些样本位置被跳过和/或覆盖。这只是一个猜测。

而且，随着“时间”的增加，“时间 * 频率 * 2PI”的乘法将在浮点数内溢出。因此，您应该将“时间”标准化，使其不会永远增加。

无论如何，我验证了这个修改后的循环可以正常工作（和声音）：

```
float TWOPI = 6.28318531f;
unsigned int sample_count = length * samplerate;

for (unsigned int i = 0; i < sample_count; i++)
{
    unsigned int j = i % samplerate; // normalize the sample position so that we don't blow up in the subsequent multiplication
    float f = 0.0f;
    int result;

    for (int x = 0; x < 10; x++)
    {
        f += sina[x] * sin((sinf[x] * j * TWOPI) / samplerate);
    }

    result = (long)f;

    //clamp to 16-bit
    if (result > 32767)
    {
        result = 32767;
    }
    else if (result < -32768)
    {
        result = -32768;
    }

    sound[i] = (short)result;

    //printf("%d\n", sound[i]);

} 
```

# java - Jade 代理中的 NoClassDefFoundError？

> ID：10844123
> 
> 赞同：0
> 
> 时间：2012-06-01T03:45:07.463
> 
> 标签：java, exception, ontology, agents-jade

我创建了两个代理，它运行良好。但是当我添加本体类并注册本体时，我无法创建代理......我得到了以下错误..

```
Jun 1, 2012 8:56:55 AM jade.core.BaseService init
INFO: Service jade.core.management.AgentManagement initialized
Jun 1, 2012 8:56:55 AM jade.core.BaseService init
INFO: Service jade.core.messaging.Messaging initialized
Jun 1, 2012 8:56:55 AM jade.core.BaseService init
INFO: Service jade.core.mobility.AgentMobility initialized
Jun 1, 2012 8:56:55 AM jade.core.BaseService init
INFO: Service jade.core.event.Notification initialized
Jun 1, 2012 8:56:55 AM jade.core.messaging.MessagingService clearCachedSlice
INFO: Clearing cache
Jun 1, 2012 8:56:55 AM jade.mtp.http.HTTPServer <init>
INFO: HTTP-MTP Using XML parser com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser
Jun 1, 2012 8:56:55 AM jade.core.messaging.MessagingService boot
INFO: MTP addresses:
http://169.254.108.164:7778/acc
Jun 1, 2012 8:56:55 AM jade.core.AgentContainerImpl startBootstrapAgents
SEVERE: Cannot create agent STMAgent: An undeclared exception was thrown [nested   java.lang.ExceptionInInitializerError]
Jun 1, 2012 8:56:55 AM jade.core.AgentContainerImpl startBootstrapAgents
SEVERE: Cannot create agent REquestAgent: An undeclared exception was thrown [nested java.lang.NoClassDefFoundError: Could not initialize class FruitOntology.FruitOntology]
Jun 1, 2012 8:56:55 AM jade.core.AgentContainerImpl joinPlatform 
```

类路径是正确的。本体类路径也是正确的。这是什么原因？请帮助我............我发现了错误......它在我的本体课上......谢谢......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T19:26:39.477

关键的错误信息似乎是：

```
SEVERE: Cannot create agent REquestAgent: An undeclared exception was thrown 
  [nested java.lang.NoClassDefFoundError: 
   Could not initialize class FruitOntology.FruitOntology] 
```

您的代码没有`FruitOntology`在包中找到类`FruitOntology`（这不是一个很好的包名称 - 通常，包名称以小写字母开头，并且通常遵循反转组织域名的约定）。

由于您没有显示任何代码，我们只能猜测为什么会出现该错误。您是否在某个配置文件中拼错了名称？通过您的项目执行 grep 以查看`FruitOntology.FruitOntology`发生的位置。它可能不在普通的 Java 代码中，因为您会因为缺少类而收到编译错误，除非您出于某种原因使用 Java 反射。

# asp.net - 页面加载时如何保持div的滚动位置

> ID：10844127
> 
> 赞同：0
> 
> 时间：2012-06-01T03:46:11.140
> 
> 标签：asp.net, scroll, asprepeater

有没有办法在页面加载时向下滚动到特定的 div？我有 100 多行，所以当页面加载时，我会根据某些条件突出显示 div 背景，所以同样的方式可以定位到特定的 div 吗？

我正在使用中继器

```
<asp:Repeater EnableViewState="true" ID="rpt" runat="server" OnItemDataBound="rpt_ItemDataBound">       
        <ItemTemplate>
            <div style='padding: 10px;' id="mydiv"  runat="server">
                <div>
                    <asp:Label runat="server" ID="lblName" Text='<%# Eval("Name") %>'> </asp:Label>
                </div>  
            </div>
        </ItemTemplate> 
    </asp:Repeater> 

protected void rpt_ItemDataBound(object sender, RepeaterItemEventArgs e)
{
   if (......)
         mydiv.Attributes.Add("class", "selected_div");
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T04:43:53.087

使用 div 的 tabindex 属性。使用 tab-index 设置 div 的焦点。

检查此链接：[将键盘焦点设置为 <div>](https://stackoverflow.com/questions/6754275/set-focus-to-a-div-classic-asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:47:27.973

如果您使用的是 jquery，则可以在页面的就绪功能上使用[scrollTo](http://demos.flesler.com/jquery/scrollTo/)插件，使用您的“selected_div”类作为选择器。如：

```
$(document).ready(function() {
  $(document).scrollTo('.selected_div');
} 
```

`.scrollIntoView(true)`如果没有 jquery，您可以在 div 元素上使用标准的 javascript 函数。但是，您必须先找到该元素，才能调用该函数。

两者的组合也是有效的。使用 jquery 使用您的类选择器定位选定的 div，并在元素调用`.scrollIntoView(true)`.

# java - 超类类型变量可以引用子类对象吗？

> ID：10844128
> 
> 赞同：1
> 
> 时间：2012-06-01T03:46:31.137
> 
> 标签：java, object

例如：

```
public class A {

public class B extends A {
}

public static void main(String[] args) {
    A a;
    a = new B();
}

} 
```

我搜索了一些类似的问题，他们显示“是的，超类类型变量可以引用子类对象”。但是在 Eclipse 中，上面的代码出现了一个错误，比如“没有 A 类型的封闭实例是可访问的。必须使用 A 类型的封闭实例来限定分配（例如 xnew A()，其中 x 是 A 的实例）。”

那么有什么问题呢？谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T03:50:31.303

答案是“是”超类可以引用一个子类，但你问错了问题。

你得到这个错误是因为`B`它是一个封闭的类`A`（意味着你必须有一个实例*才能*`A`拥有一个实例`B`），但你是从一个静态方法引用它（即不是一个实例`A`）。

只需更改`B`为`static`班级。

```
public class A {

    public static class B extends A { // <-- Added static keyword
    }

    public static void main(String[] args) {
        A a;
        a = new B();
    }
} 
```

没有错误。

另一种选择是将其保留为封闭类并执行以下操作：

```
public class A {

    public class B extends A { // leave B as an enclosed class
    }

    public static void main(String[] args) {
        A a = new A();
        a = a.new B();  // can only create a B in the context of an A
    }
} 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-06-01T03:48:26.660

检查你的括号！！它应该是：

```
class A {
}
public class B extends A {

public static void main(String[] args) {
    A a;
    a = new B();
}

} 
```

您的代码中还有两个`public`类！

# android - Android SQLite 中的交易卡管理系统

> ID：10844129
> 
> 赞同：0
> 
> 时间：2012-06-01T03:46:46.270
> 
> 标签：android, database, sqlite

我被困在我的代码上，一直在关注 Youtube 上的 newboston 教程。下面是我的代码，但由于某种原因，我遇到了错误，我无法弄清楚，有什么提示吗？

这是我的 RedemptionDB.java 类，在这段代码中就行

```
public RedemptionDB(Context c){
Context = c;
} 
```

我收到一个错误，告诉我设置方法返回类型为 void，但在代码中，Bucky 没有那样做。

我得到的下一个错误是：

```
public RedmptionDB open(){ 
```

它告诉我：Creat Class RedemptionDB，它是我在代码开头想到的创建的！

```
package com.aloadofbs.redemptioncardmanager;

import android.content.ContentValues;
import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;

public class RedemptionDB {

private static final String DB_NAME = "RedempDB";
private static final int DB_VERSION = 1;
private static final String TABLE = "cards";

public static final String KEY_ID = "_id"; // Special for id
public static final String KEY_CARDNUMBER = "card_number";
public static final String KEY_CARDNAME = "card_name";
public static final String KEY_BRIGCOLOR = "brig_color";
public static final String KEY_CARDPT = "power_toughness";
public static final String KEY_QTY = "qty";
public static final String KEY_VALUE = "value";
public static final String KEY_C = "C";
public static final String KEY_TYPE = "card_type";
public static final String KEY_SET = "card_set";
public static final String KEY_RARITY = "card_rarity";
public static final String KEY_VERSE = "card_verse";
public static final String KEY_IDENTIFIER = "card_identifiers";
public static final String KEY_ABILITIES = "card_special_ability";

private static DbHelper ourHelper;
private static Context ourContext;
private static SQLiteDatabase ourDatabase;

private static class DbHelper extends SQLiteOpenHelper{

public DbHelper(Context context) {
        super(context, DB_NAME, null, DB_VERSION);
        // TODO Auto-generated constructor stub
    }

@Override
public void onCreate(SQLiteDatabase db) {
    db.execSQL("CREATE TABLE" + TABLE + " ("+ KEY_ID + "INTEGER PRIMARY KEY ATOINCREMENT, " + KEY_CARDNUMBER + "TEXT NOT NULL, " + KEY_CARDNAME + "TEXT NOT NULL, " + KEY_BRIGCOLOR + "TEXT NOT NULL, " + KEY_CARDPT + "TEXT, " + KEY_QTY + "INTEGER, " + KEY_VALUE + "INTEGER, " + KEY_C + "TEXT, " + KEY_TYPE + "TEXT, " + KEY_SET + "TEXT, " + KEY_RARITY + "TEXT, " + KEY_VERSE + "TEXT NOT NULL, " + KEY_IDENTIFIER + "TEXT NOT NULL, " + KEY_ABILITIES + " TEXT NOT NULL);"
            );  

}

@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    db.execSQL("DROP TABLE IF EXISTS " + TABLE);
    onCreate(db);

}

public RedemptionDB (Context c){
Context = c;
}

public RedmptionDB open(){
    ourHelper = new DbHelper(ourContext);
    ourDatabase = ourHelper.getWritableDatabase();
    return this;

}

public void close(){
    ourHelper.close();
    ourDatabase.close();

}
}

public long createEntry(String cardname, String cardset,
        String cardcolor, String cardtype) {
    // TODO Auto-generated method stub
    ContentValues cv = new ContentValues();
    cv.put(KEY_CARDNAME, cardname);
    cv.put(KEY_BRIGCOLOR, cardcolor);
    cv.put(KEY_TYPE, cardtype);
    cv.put(KEY_SET, cardset);
    return ourDatabase.insert(TABLE, null, cv);

}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T03:56:33.933

一些更改应该可以解决您的问题：

改变这个：

```
public RedemptionDB(Context c){  
    Context = c;  
} 
```

为此（您指定ourContext，而不是Context）：

```
public RedemptionDB(Context c){  
    this.ourContext = c;  
} 
```

改变这个：

```
public DbHelper(Context context) { 
    super(context, DB_NAME, null, DB_VERSION); 
    // TODO Auto-generated constructor stub 
} 
```

为此（您真的不希望它成为公共方法）：

```
DbHelper(Context context) { 
    super(context, DB_NAME, null, DB_VERSION); 
    // TODO Auto-generated constructor stub 
} 
```

# c++ - 简单的二叉搜索树。分段故障

> ID：10844131
> 
> 赞同：0
> 
> 时间：2012-06-01T03:46:53.973
> 
> 标签：c++, g++

只需一个简单的 BST 即可按顺序打印数字。无法弄清楚我做错了什么。

```
#include <iostream>
using namespace std;

class bst {
 private:
  bst* root;
  bst* left;
  bst* right;
  int value;

 public:
  bst(const int& numb) : root(NULL), left(NULL), right(NULL) {
    value = numb;
  }

  void insert(const int& numb) {
    if (numb < value) {
      if (left == NULL) {
        left = new bst(numb);
        left->root = left;
      } else { 
        left->insert(numb);
      }
    } else if (numb > value) {
      if (right == NULL) {
        right = new bst(numb);
        right->root = right;
      } else {
       left->insert(numb);  
      }
    } else if (numb == value) {
      cout << "duplicated value" << endl;
    }
  }

  void inorder() {
    if (left == NULL) cout << value << endl;
    else left->inorder();
    right->inorder();
  }
};

int main() {
  bst tree(5);
  tree.insert(7);
  tree.insert(1);
  tree.insert(3);
  tree.insert(2);
  tree.insert(9);
  tree.insert(10);
  return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T03:57:32.930

第 29 行应为：

```
 right->insert(numb); 
```

它目前的内容是：

```
 left->insert(numb); 
```

我强烈建议研究 gdb 来解决这种情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T03:54:16.180

`inorder()`应该：

```
if (left != NULL) left->inorder();
cout << value << endl;
if (right != NULL) right->inorder(); 
```

我认为其余的都是正确的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T04:45:15.943

至少在我看来，你的基本设计是有缺陷的。尽管我意识到许多教科书（等）将树描述为递归结构，其中每个节点都有两个子树，但我从未发现这是设计代码的好方法。

至少根据我的经验，在实际代码中，将树中节点的概念与整个树的概念分开会更好。只有树对外界可见；`node`应该藏在树里面，外面的世界看不到。

```
class bst {
    class node {
        int value;
        node *left;
        node *right;

        // ...

    };

    // ...

    node *root;   
}; 
```

然后我将`insert`分成两部分：一个接受一个值的公共函数，然后转发到以`root`为起点的第二个函数。第二个实际上是遍历这三个并插入新项目：

```
// public interface:
void insert(int v) {    
    insert(new node(v), root);
}

// private workhorse:
void insert(node *n, node *&pos) {
    if (pos == NULL)
        pos = n;
    else if (n->value < pos->value)
        insert(n,pos->left);
    else if (n->value > pos->value)
        insert(n,pos->right);
            else
                // duplicate value.
} 
```

同样，`inorder`被分成公共和私有对，公共只提供一个接口，而私有的则做所有实际工作：

```
// public interface:
void inorder() {
    inorder(root);
}

// private worker
void inorder(node *n) {
    if (n==NULL)
        return;
    inorder(n->left);
    std::cout << n->value << endl;
    inorder(n->right);
} 
```

对于它的价值：是的，我已经测试了这段代码，它至少可以与你在 you 中使用的输入一起工作`main`。不过它确实有缺点。例如，两者都`insert`递归`inorder`遍历树，因此一个大的、严重不平衡的树可能导致堆栈溢出。迭代插入相当容易，但在实际使用中，您通常只需切换到某种平衡树即可。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-01T04:00:40.180

逻辑错误贯穿始终。

崩溃在这里：

```
 if (right == NULL) { 
    right = new bst(numb); 
    right->root = right; 
  } else { 
   left->insert(numb);   
  } 
```

else case 使用右而不是左。

# android - 如何将 Twitter4j 添加到 Android 项目

> ID：10844133
> 
> 赞同：1
> 
> 时间：2012-06-01T03:46:56.673
> 
> 标签：android

目前，我下载了文件 twitter4j-android-2.2.5.rar 并解压。但是有很多文件夹，我不知道添加哪个文件夹以及如何添加。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T04:34:31.673

创建 libs 文件夹并将您的 jar 文件保存在此文件夹中。右键单击 jar 选择 Build path -> Add to build path .. 这就是您需要做的一切。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T03:50:19.873

您应该将 rar 存档中的 twitter4j jar 文件添加到您的类路径中。如果您使用 Eclipse，它位于 project/properties/java 构建路径/库中，或者您可以将其放在项目的 libs 文件夹中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-13T12:49:13.940

我已经下载了 twitter4j-4.0.2 并且 jar 文件 twitter4j-core-4.0.2 位于 lib 文件夹而不是 libs 中。

twitter4j-4.0.2/lib/twitter-core-4.0.2.jar

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-10-06T09:34:12.203

如果您使用的是 Android Studio，

1.  将`twitter4j-core-4.0.1.jar`文件放入`libs`文件夹中。（如果您单击`1:Project`左侧的选项卡，您应该会看到它。它位于`<Your Project> > app > libs`。）
2.  右键单击它并单击“添加为库”

确保`compile files('libs/gson-2.2.4.jar')`在 build.gradle 文件中。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-02-10T05:37:11.093

只需添加`compile 'org.twitter4j:twitter4j-core:4.0.2'`到您的 /app/build.gradle 依赖项。

# android - Android 蓝牙 - 记录附近蓝牙设备的服务

> ID：10844134
> 
> 赞同：0
> 
> 时间：2012-06-01T03:46:57.987
> 
> 标签：android, bluetooth

是否可以创建可以侦听附近设备并将设备信息记录到文件的服务？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T14:08:38.823

是的，如 Vipul Shah 所述，您的服务可以侦听新的蓝牙设备，但真正的问题是如何让您的设备首先找到其他蓝牙设备。

ACTION_FOUND 在发现期间发现远程设备时发送。您可以调用[BluetoothAdapter.startDiscovery()](http://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#startDiscovery%28%29)来启动发现过程，但问题是很少有设备可以正常发现。几年前，设备始终处于可发现状态是很常见的，但现在用户希望根据需要让设备暂时可发现以进行配对。

因此，让服务定期进行发现（并侦听 ACTION_FOUND）是没有意义的，因为它会消耗大量电池，而且您什么也找不到。

如果您知道您正在寻找的设备的蓝牙地址，那么您可以尝试连接它们，但我认为情况并非如此。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:15:33.337

是的，很有可能

第 1 步您将需要**创建一项服务**

第 2 步您将需要**BluetoothDevice.ACTION_FOUND 广播接收器**来查找附近的设备。

步骤 3 然后您可以将**所有找到的设备一一查询**。

第 4 步您将快速枚举找到的设备**将其信息转储到文件中。**

**下面是广播接收器**

```
 private final BroadcastReceiver mReceiver = new BroadcastReceiver() {
        public void onReceive(Context context, Intent intent) {
            String action = intent.getAction();
            // When discovery finds a device
            if (BluetoothDevice.ACTION_FOUND.equals(action)) {
                // Get the BluetoothDevice object from the Intent
                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);
                // Add the name and address to an array adapter to show in a ListView
                // You will log this information into file.
                mArrayAdapter.add(device.getName() + "\n" + device.getAddress());
            }
        }
    }; 
```

为意图操作注册广播接收器，如下所示

```
IntentFilter filter = new IntentFilter(BluetoothDevice.ACTION_FOUND);
registerReceiver(mReceiver, filter); // Don't forget to unregister during onDestroy 
```

希望这可以帮助。

# php - PHP 变量在 mkdir 目录路径中消失

> ID：10844135
> 
> 赞同：-1
> 
> 时间：2012-06-01T03:47:00.513
> 
> 标签：php, variables, path, directory, mkdir

我似乎在使用变量通过 mkdir() 函数创建目录时遇到问题。正在从 URL 解析变量。请参阅下面的编码：

```
$pageURL = 'http';
 if ($_SERVER["HTTPS"] == "on") {$pageURL .= "s";}
 $pageURL .= "://";
 if ($_SERVER["SERVER_PORT"] != "80") {
 $pageURL .= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["REQUEST_URI"];
} else {
$pageURL .= $_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"];
}
$pageURL;
$url = $pageURL;
$parse = parse_url($url);
$dirID = $parse['query']; 
```

我使用 define() 来定义文件夹路径，因为该路径在整个代码中多次使用：

```
 define("DESTINATION_FOLDER", "mydir/".$dirID."/"); 
```

这是 if 语句，告诉它如果目录不存在则创建目录：

```
if (!@file_exists(DESTINATION_FOLDER)) {      
    mkdir(DESTINATION_FOLDER);
} 
```

听起来很简单，但由于某种原因，变量 $dirID 没有被读取，而是将文件上传到 mydir 目录。真正奇怪的是，如果我将变量硬编码为 $dirID = "28" 之类的东西，它会起作用，并且文件会像 mydir/28/file.jpg 一样上传。我以前多次使用这种方法传递变量，但从未传递要在 mkdir 函数中使用的变量。有谁知道可能会发生什么？

预先感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T04:17:51.180

这都是上面的评论，但我会拼写出来：

查询部分实际上从未传递给 URL，因此没有传递给“解析”。

我将解释您的代码：

1.  使用协议 (http/https) 和服务器名称和 URL 构造 URL。（注意 - 此时您没有附加查询）
2.  解析 url（不包括查询）
3.  从解析中获取查询（仍然不存在）

$_SERVER['QUERY_STRING'] 是您正在寻找的位 - 您可以添加到 URL 然后解析，或者直接使用它

```
$dirID = $_SERVER['QUERY_STRING']; 
```

* * *

但是为什么你用它来创建目录有点（很多）危险，因为它总是包含无效的参数。正如评论中所建议的，您可能的意思是获取查询字符串参数的特定值？或者它是实际的字符串。您可以从以下位置获取这些信息：

```
// For ?DirectoryName
$aKeys = array_keys($_GET)
$directoryName = isset($aKeys[0]) ? $aKeys[0] : ''; 
```

或者

```
// For ?ParamName=DirectoryName
$directoryName = $_GET['ParamName'] 
```

然后我还建议您使用 preg_match 来验证目录名称是否符合可接受的格式并避免创建废话！

# c++ - 有没有办法让 C++ 类在它开始执行析构函数之前自动执行一个方法？

> ID：10844137
> 
> 赞同：2
> 
> 时间：2012-06-01T03:47:22.120
> 
> 标签：c++, c++11, destructor

这是一个问题场景：我有一个 C++ 对象，其中包含一个需要在对象被销毁之前调用的 Cleanup() 虚拟方法。为了做正确的事，这个 Cleanup 方法需要访问完整的对象（包括子类数据），所以我不能只在我自己的类的析构函数开始时调用 Cleanup()，因为当我的类的当调用析构函数时，任何子类的析构函数都已经完成，并且它们可能已经释放了 Cleanup() 需要查看的一些数据。

显而易见的解决方案是要求调用代码在删除对象之前手动调用我的例程：

```
theObject->Cleanup();
delete theObject; 
```

但是这个解决方案很脆弱，因为迟早有人（可能是我）会忘记调用 Cleanup() 并且会发生坏事。

另一种解决方案是拥有一个实现 pImpl 技术的“持有人”对象来包装类，并在删除对象之前让持有人对象的析构函数调用该对象的 Cleanup()；但该解决方案也不是 100% 可取的，因为它使该类与标准 C++ 类的工作方式不同，并且无法在堆栈上或静态分配对象。

所以问题是，是否有一些聪明的技术（在 C++ 或 C++11 中）可以用来告诉编译器在调用第一个子类析构函数之前自动调用我的对象上的指定（可能是虚拟的）方法？

（想想看，自动调用 Init() 方法的类似机制——就在最后一个子类构造函数完成之后——也可能很方便）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-01T06:22:43.680

横向思考：摆脱`Cleanup`方法，这就是`virtual`析构函数的用途。

析构函数的真正目标`virtual`是允许在`delete basepointer;`执行时调用最外层的派生类析构函数；正如 RAII 所展示的，清理*是*析构函数的工作。

现在你可能会争辩说你想要一个早期的`Cleanup`方法，以减轻析构函数的任务或者重用对象（`Reset`在某种程度上有点像方法）。在实践中，它很快变成了维护的噩梦（太容易忘记清理一个字段并从一种使用状态泄漏到另一种使用状态）。

所以问自己一个问题：*为什么不将析构函数用于创建它的目的？*

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T03:59:42.343

您可以在 PIMPL 包装器上使用一个扭曲：

```
class PIMPL
{
    MyDataThatNeedsInitDestroy    object;

  public:
    PIMPL(Atgs a)
       : object(a)
    {
        object.postCreationInit();
    }

    ~PIMP()
    {
        object.preDestructionDestory();
    }

    // All other methods are available via -> operator
    MyDataThatNeedsInitDestroy* operator->() { return &object);
}; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T03:51:12.420

是的，这可以通过虚拟继承来完成，因为虚拟基础子对象总是由最派生的类型构造（和销毁），并且基类的构造（和销毁）顺序也是明确定义的。

当然，您也可以将`delete`运算符设为私有，并提供一个由 But`Release()`组成的成员函数`Cleanup(); delete this;` ，这对堆栈分配的对象没有帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T04:06:03.377

```
struct B
{
    void cleanup()
    {
        if (!m_bCleanedUp)
        {
            m_bCleanedUp = true;
            ...
        }
    }

    virtual B::~B()
    {
        assert(m_bCleanedUp);
        ...
    }

    bool m_bCleanedUp = false;
};

struct D : B
{
    D::~D()
    {
        cleanup(); // if D author forgets, assert will fire
        ...
    }
}; 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-06-01T04:09:55.590

> 有没有办法让 C++ 类在它开始执行析构函数之前自动执行一个方法？

您需要将智能指针（shared_ptr - 在 boost 或 c++11 中可用）与自定义删除器一起使用，而不是原始指针。

```
typedef shared_ptr<MyClass> MyClassPtr;
class MyClassDeleter{
public:
    void operator()(MyClass* p) const{
        if (p)
            p->cleanup();
        delete p;
    }
};

...

MyClassPtr ptr(new MyClass, MyClassDeleter()); 
```

- 编辑 -

这将适用于动态分配的对象。对于堆栈分配的对象没有解决方案（我能想到），因此合理的做法是使构造函数私有并创建将 shared_ptr 返回给构造对象的友元工厂方法 - 假设您确实需要这种机制。

# php - 获取 Facebook 页面粉丝的生日以发送生日祝福？

> ID：10844138
> 
> 赞同：-1
> 
> 时间：2012-06-01T03:47:22.507
> 
> 标签：php, facebook, facebook-graph-api, facebook-php-sdk, facebook-page

我想知道是否有可能获得 Facebook 页面粉丝及其生日的列表，然后在他们的生日那天在他们的墙上贴上生日祝福？我想在不使用 Facebook 应用程序的情况下执行此操作，并将其直接从 Facebook 页面发布到用户/粉丝墙（可能使用 OpenGraph 和 PHP？）。我只想知道这是否可以完成以及我应该在 Facebook API 中使用什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T09:01:20.273

如果不使用应用程序，您将无法获取有关粉丝的详细信息或发布到他们的时间线/墙上。实现您想要做的事情需要单独的权限，如果不使用应用程序并让用户安装应用程序（使用正确的权限），这些都是不可能的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-09T15:43:14.983

仅在生日那天使用 Facebook 广告并定位您的粉丝群。Facebook 允许您将广告发布给粉丝，但仅限于他们的生日。点击这里了解详情

[http://michaelbrandvold.com/blog/2011/01/2000-things-to-generate-20000-fans-wish-your-fans-a-happy-birthday/](http://michaelbrandvold.com/blog/2011/01/2000-things-to-generate-20000-fans-wish-your-fans-a-happy-birthday/)

# iphone - CCLabelTTF 不会被释放和删除

> ID：10844141
> 
> 赞同：1
> 
> 时间：2012-06-01T03:48:11.480
> 
> 标签：iphone, ipad, cocos2d-iphone

我有一个名为 的合成 CCLabelTTF `self.startDate`，但以下内容不会删除标签：

```
[self.startDate removeFromParentAndCleanup:YES];
self.startDate=nil; 
```

这种技术适用于精灵的指针，但不适用于标签？

标签保留在屏幕上，如果我重新创建标签并将其分配给另一个 CCLabelTTF（具有不同的文本），然后我会得到 2 个重叠的标签。

我的属性设置为`assign`在 Cocos 层次结构之外没有 iOS 所有权，因此不应发生额外的标签保留。我在其他地方看到了 CCLabelTTF 列出的各种错误，所以我想知道这是否实际上是一个已知问题，标签并不总是像您期望的那样从屏幕上删除？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T03:55:13.007

CCLabelTTF 只是 CCSprite 的子类，以渲染字体作为纹理。所以它的工作方式与 CCSprite 相同。确保您的 removeFromParentAndCleanup: 方法是在添加到父级之后调用的，而不是之前。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-01T06:06:31.100

使用以下代码

[self removeChild:self.startDate cleanup:YES];

# .net - 指定当前用户文件路径的方法

> ID：10844142
> 
> 赞同：2
> 
> 时间：2012-06-01T03:48:17.127
> 
> 标签：.net, file, path

我相信我一直无法找到答案，因为我真的不知道如何提出这个问题。我的 C# .net 应用程序需要能够指定类似 %Windows% 而不是 C:\Windows 的内容，以防用户不使用 C 驱动器进行 Windows 安装。此外，我需要能够为他们的用户文件夹路径做同样的事情，即。"C:\Users\%usrname%\Desktop"

我希望能够从这个信息构建一个字符串，或者只是能够使用某种标识（就像我上面所做的那样）将整个字符串传递给 File 类。

我很确定这很简单，我只是不知道用正确的方式来表达它以获得良好的谷歌结果：P

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T03:55:29.283

你正在寻找的是[`Enviroment.GetFolderPath(Enviroment.SpecialFolder)`](http://msdn.microsoft.com/en-us/library/system.environment.getfolderpath.aspx)

```
// Sample for the Environment.GetFolderPath method
using System;

class Sample 
{
    public static void Main() 
    {
    Console.WriteLine();
    Console.WriteLine("GetFolderPath: {0}", 
                 Environment.GetFolderPath(Environment.SpecialFolder.DesktopDirectory));
    }
}
/*
This example produces the following results:

GetFolderPath: C:\Users\user912447\Desktop
*/ 
```

# jquery - 如何检查链接是否被点击？

> ID：10844164
> 
> 赞同：2
> 
> 时间：2012-06-01T03:51:37.303
> 
> 标签：jquery, function, click, contains

这是我的问题。我正在编辑一个网站，该网站在从服务器端到***PHP***的循环中生成网站的所有内容，然后我被要求使用[***jQuery***](http://jquery.com)操作网站。

这里的问题是，网站上存在的许多链接标签`ID`与它们没有关联。所以我被要求解决一个问题，如果点击其中一个链接标签，就会发生一些**jQuery逻辑。**

就我而言，如果单击带有文本**“查看全部”**的链接标签。我应该执行一些代码执行，但我到底该怎么写呢？

是不是写得这么简单：

```
$("a:contains('See All')").click(function() {
  // do something
}); 
```

因为这似乎不起作用。有什么帮助吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T03:54:29.613

**精确匹配`See All`等**

```
$("a")
     .filter(function() {   // apply filter() to for exact text matching
          return $(this).text() == 'See All';
     }).click(function(e) {
          // To prevent page reload you need .preventDefault()
          e.preventDefault();
          alert('hello');
     }); 
```

**[演示](http://jsfiddle.net/thecodeparadox/e4wCa/)**

**检查包含`See All`（不完全匹配）**

```
$("a").filter(function() {
    return $(this).text().match('See All'); // a little change here
}).click(function() {
    alert('hello');
}); 
```

或者只是使用`:contains()`

```
$('a:contains(See All)').on('click', function() {
   alert('Hello');
}); 
```

**[演示](http://jsfiddle.net/thecodeparadox/pLEsD/1/)**

**一些额外的说明**

如果您的链接在 DOM 就绪后生成，那么您需要尝试使用“.on”事件绑定，例如：

```
$('#container').on('click', 'a:contains(See All)', function() {
  alert('Hello');
}); 
```

如果客户端使用 jQuery v-1.7，请尝试“.delegate”事件，如下所示：

```
$('#container').delegate('a:contains(See All)', 'click', function() {
  alert('Hello');
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T03:54:47.210

您是否尝试过删除`'`in `'See All'`？

此外，要确保它不会将用户重定向到 中的链接`href`，请使用`e.preventDefault()`

```
$("a:contains(See All)").click(function(e) {
  e.preventDefault();
  // do something
}); 
```

[http://jsfiddle.net/99LMh/](http://jsfiddle.net/99LMh/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-10T19:51:04.967

如何使用链接缩短服务（例如 Google 的[https://goo.gl/](https://goo.gl/)，或点击推文的 clicktotweet.com，免费 5 次，之后付费）。使用缩短的链接。

这将跟踪链接被点击的次数。

现在你在找什么，不

# database - 。D b？文件无法打开？

> ID：10844173
> 
> 赞同：0
> 
> 时间：2012-06-01T03:53:08.827
> 
> 标签：database

我今天收到了一个应该是 Android 应用程序数据库的 .tar 文件，名为 metadata.tar。我解压缩，得到一个名为“元数据”的文件，它没有文件扩展名（例如，“文件类型”是“文件”。）当我在 Excel 中打开时，第 1 行显示“metadata.db”，然后显示 SQLite 格式3\. 这是一个屏幕截图：http: [//tinypic.com/r/t8ov9x/6](http://tinypic.com/r/t8ov9x/6)

所以我认为它是一个 .db 文件。尝试在 MS Access 中打开，没有用。尝试在 SQLite 数据库浏览器 2.0b1 版中打开，它显示“发生错误：文件不是 SQLite 3 数据库”。

有关如何打开此文件的任何建议？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T03:57:53.953

在linux中，您可以尝试：

```
file metadata.db 
```

file 将确定文件类型。

# knockout.js - 如何在子记录上正确实现 upshot 的 deleteEntity 函数

> ID：10844182
> 
> 赞同：2
> 
> 时间：2012-06-01T03:54:21.080
> 
> 标签：knockout.js, upshot, single-page-application

我有一个父子表结构。

我正在尝试删除子记录。这是我的简化视图模型。

```
MyNameSpace.ParentViewModel = function () {
    var self = this;
    self.dataSource = upshot.dataSources.GetRecords.refresh();
    self.jobs = self.dataSource.getEntities();

    self.removeChild1 = function (child) {
        $.each(self.jobs(), function() {
            this.JobStep.remove(jobStep);
        });
    };

    self.removeChild2 = function (child) {
        self.dataSource.deleteEntity(child);
    };
};

MyNameSpace.Parent = function (data) {
    var self = this;

    self.Id = ko.observable(data.Id);
    self.SomeProperty = ko.observable(data.SomeProperty);

    upshot.addEntityProperties(self, "Parent:#MyNameSpace.Models");
};

MyNameSpace.Child = function (data) {
   var self = this;

    self.Id = ko.observable(data.Id);
    self.ParentId = ko.observable(data.ParentId);
    self.Parent = ko.observable(data.Parent ? new MyNameSpace.Parent(data.Parent) : null);
    self.SomeChildProperty = ko.observable(data.SomeChildProperty );
    upshot.addEntityProperties(self, "Child:#MyNameSpace.Models");
}; 
```

当我尝试使用 removeChild1 删除子记录时，出现错误：

```
Use 'deleteEntity' to delete entities from your array.  Destructive delete is not yet implemented. 
```

当我尝试使用 removeChild2 删除子记录时，出现错误：

```
'Entity not cached in data context. ' 
```

显然，在第一个版本中，我引用了子记录的 ObservableArray 集合并将其从那里删除。正确的对象被删除，但非实现错误将其杀死。

在第二个版本中，我使用了 upshot 和 EF 魔法，但我不确定出了什么问题。

有任何想法吗？

# vb.net - VB.Net背景渐变使用LinearGradientBrush并显示图像

> ID：10844183
> 
> 赞同：4
> 
> 时间：2012-06-01T03:54:22.697
> 
> 标签：vb.net, forms, graphics

我试图实现用渐变背景色绘制表单并用透明度重叠图像。

这个有可能？

我想使用具有透明背景的平铺背景图像，并使用自定义线性渐变绘制背景。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-01T14:29:55.563

我做到了！，我想与您分享我的解决方案（这很容易）：

外部帮助：[用图像平铺形状](http://msdn.microsoft.com/en-us/library/729d4sbe.aspx)

```
Private Sub BackgroundGradient(ByRef Control As Object, _
                                ByVal Color1 As Drawing.Color, _
                                ByVal Color2 As Drawing.Color)

    Dim vLinearGradient As Drawing.Drawing2D.LinearGradientBrush = _
        New Drawing.Drawing2D.LinearGradientBrush(New Drawing.Point(Control.Width, Control.Height), _
                                                    New Drawing.Point(Control.Width, 0), _
                                                    Color1, _
                                                    Color2)

    Dim vGraphic As Drawing.Graphics = Control.CreateGraphics
    ' To tile the image background - Using the same image background of the image
    Dim vTexture As New Drawing.TextureBrush(Control.BackgroundImage)

    vGraphic.FillRectangle(vLinearGradient, Control.DisplayRectangle)
    vGraphic.FillRectangle(vTexture, Control.DisplayRectangle)

    vGraphic.Dispose() : vGraphic = Nothing : vTexture.Dispose() : vTexture = Nothing
End Sub 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-01T07:11:50.983

这是绘制渐变背景的方法。除非您使用 Windows API 或其他东西，否则平铺图像会很慢。

```
Imports System.Drawing

Public Class frmBG

  Private Sub frmBG_Paint(sender As Object, e As System.Windows.Forms.PaintEventArgs) Handles Me.Paint
    Dim g As Graphics = e.Graphics
    Dim p1 As Point = Me.ClientRectangle.Location
    Dim p2 As Point = New Point(Me.ClientRectangle.Right, Me.ClientRectangle.Bottom)
    Using brsGradient As New System.Drawing.Drawing2D.LinearGradientBrush(p1, p2, Color.Red, Color.Blue)
      g.FillRectangle(brsGradient, e.ClipRectangle)
      g.DrawImage(My.Resources.demoImage, Me.ClientRectangle.Location)
    End Using

  End Sub

  Private Sub frmBG_ResizeEnd(sender As Object, e As System.EventArgs) Handles Me.ResizeEnd
    Me.Invalidate()
  End Sub
End Class 
```

# xcode - Xcode，如何在源代码视图中展开所有折叠的循环？

> ID：10844184
> 
> 赞同：9
> 
> 时间：2012-06-01T03:54:23.427
> 
> 标签：xcode

如果你折叠一个循环的视图（以便它显示椭圆......而不是循环内的线）并且你对许多循环执行此操作，有没有办法快速展开所有循环以显示所有行再打码？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-06-01T04:14:29.447

转到菜单->编辑器->代码折叠->全部展开

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-04-02T02:00:01.347

`Command + option + shift + <-` 对于折叠代码

`Command + option + shift + ->` 用于扩展代码

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-02-21T08:04:16.900

对于 Xcode 12.4：

`Command + option + <-`折叠代码

`Command + option + ->`扩展代码

# mysql - MySQL 听起来结果太宽泛了

> ID：10844187
> 
> 赞同：0
> 
> 时间：2012-06-01T03:54:40.180
> 
> 标签：mysql, soundex

晚上，

有什么方法可以在 MySQL 中调整 SOUNDS LIKE 使其返回更窄语音范围的结果？或另一个允许这样做的功能。

我正在寻找尽可能窄的范围，例如

```
Hopkins matches Hopkins
John doesn't match Jones
Bell doesn't match Ball
Pacman matches Packman 
```

# javascript - 在Javascript中从字符串中删除括号

> ID：10844194
> 
> 赞同：26
> 
> 时间：2012-06-01T03:55:30.237
> 
> 标签：javascript

```
 x = x.replace(/[{()}]/g, '');
  y = y.replace(/[{()}]/g, '');

  x = x.replace(/[\[\]']+/g, '');
  y = y.replace(/[\[\]']+/g, ''); 
```

好的，我知道第一个块删除了大括号，第二个代码块删除了常规括号。我现在想删除括号..有人可以告诉我怎么做吗？

我只是通过谷歌搜索得到了上面的代码..但我不明白他们“如何”想出这个，有人可以解释一下吗？谢谢

* * *

## 回答 #1

> 赞同：101
> 
> 时间：2012-06-01T04:31:12.110

## 第一个正则表达式

```
x = x.replace(/[{()}]/g, '');
y = y.replace(/[{()}]/g, ''); 
```

在您的第一个正则表达式`/[{()}]/g`中，外部方括号`[]`构成一个**字符类**，它将匹配其中指定的一个字符。在这种情况下，字符`{` `(` `)` `}`.

在之外，`/regexp/`您有`g`(global)**修饰符**，这意味着您的整个正则表达式将尽可能多地匹配，而且它不会只匹配第一个匹配项。

## 第二个正则表达式

```
x = x.replace(/[\[\]']+/g, '');
y = y.replace(/[\[\]']+/g, ''); 
```

在您的第二个正则表达式`/[\[\]']+/g`中，外部方括号`[]`构成一个**字符类**，它将匹配其中指定的字符之一。在这种情况下，字符`[` `]` `'`.

请注意，方括号在**[character class]**中显示为`\[` `\]`.

在你指定一个`+` **量词**`one or more`之后，它会连续匹配前面的规则。请注意，这是多余的，即使它有效，这也不是您想要的。

在之外，`/regularexpression/`您有`g`(global)**修饰符**，这意味着您的整个正则表达式将尽可能多地匹配，而且它不会只匹配第一个匹配项。

* * *

## 建议的解决方案

```
run1.onclick = function() {
  //removes "(" and ")"
  output1.innerHTML = input1.value.replace(/[()]/g, ''); 
}

run2.onclick = function() {
  //removes (){}[]
  output2.innerHTML = input2.value.replace(/[\])}[{(]/g, ''); 
}
```

```
<p>Remove ()</p>
<input id="input1" type="text" value="(123) 1234-1234">
<input id="run1" type="button" value="run">
<span id="output1"></span>

<hr>

<p>Remove ()[]{}</p>
<input id="input2" type="text" value="Hello (this) is [] a {{test}}!">
<input id="run2" type="button" value="run">
<span id="output2"></span>
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-09-09T21:49:08.370

```
run1.onclick = function() {
  //removes "(" and "), white space and -"
  // output1.innerHTML = input1.value.replace(/[()]/g, '');
  output1.innerHTML = input1.value.replace(/[()\ \s-]+/g, '');
}

run2.onclick = function() {
  //removes (){}[]
  output2.innerHTML = input2.value.replace(/[\])}[{(]/g, ''); 
}
```

```
<p>Remove ()</p>
<input id="input1" type="text" value="(123) 1234-1234">
<input id="run1" type="button" value="run">
<span id="output1"></span>

<hr>

<p>Remove ()[]{}</p>
<input id="input2" type="text" value="Hello (this) is [] a {{test}}!">
<input id="run2" type="button" value="run">
<span id="output2"></span>
```

# windows-8 - 以编程方式关闭 Windows 8 中的开始屏幕

> ID：10844198
> 
> 赞同：3
> 
> 时间：2012-06-01T03:56:15.133
> 
> 标签：windows-8, automated-tests

我们有自动化的 UI 测试，通过定期在虚拟机上运行来验证我们的软件。我想在这个池中添加一些 Windows 8 发布预览机器，这样我们就可以针对它运行我们的自动化测试脚本，并确保我们的应用程序继续工作。

我们通过从干净的快照启动虚拟机来确保我们的测试始终以干净的状态开始。当机器启动时，它们的开始菜单/启动文件夹中有一个快捷方式，用于启动脚本。

问题是，在 Windows 8 上，机器启动时会显示开始屏幕，并且我们的 UI 测试无法与应用程序交互，因为开始屏幕会阻止所有内容。他们尝试单击鼠标并最终意外启动随机地铁应用程序，并且所有测试都失败了。

我以前在 Windows 8 消费者预览版下工作过。我们的脚本在启动时调用[IShellDispatch4.ToggleDesktop ，这会导致开始屏幕隐藏。](http://msdn.microsoft.com/en-us/library/windows/desktop/bb774124%28v=vs.85%29.aspx)

在发布预览下，这不再有效。

我也试过：

*   [根据本文](http://www.addictivetips.com/windows-tips/bypass-windows-8-start-screen-to-jump-directly-to-desktop-on-startup/)创建 explorer.exe 的快捷方式。它不起作用。

*   [根据这篇 Howtogeek 文章](http://www.howtogeek.com/108349/how-to-boot-to-the-desktop-skip-metro-in-windows-8/)创建调用 explorer/ToggleDesktop 的屏幕保护程序的快捷方式。它不起作用（看起来它可能只是调用 IShellDispatch4.ToggleDesktop 无论如何）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T20:58:31.193

我最终在 RTM 版本中所做的是：

引导程序脚本运行，它假定开始菜单将占据全屏。然后我们使用 win32 SendInput 输入 DESKTOP 并返回

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T12:03:17.077

听起来您已经在使用 VM 主机的 API 来执行诸如从脚本启动和停止虚拟机之类的操作。您可以使用相同的 API 将`Windows`+`D`组合键发送到 VM 吗？那将显示桌面。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-15T01:09:39.140

这是一个解决方案，由来自各处的位编译而成。

我们的想法是我们要键入“桌面”，然后输入/返回命中（Orion 的想法）并在每次登录时执行此操作（参考文章中的计划任务想法），但避免使用自定义 win32 二进制文件。我的解决方案是使用 PowerShell 来避免 win32 二进制文件。

将以下 PS 脚本保存在 c:\sendkeys.ps1 中：

```
[void] [System.Reflection.Assembly]::LoadWithPartialName("'System.Windows.Forms")
[System.Windows.Forms.SendKeys]::SendWait("desktop{ENTER}") 
```

然后在每个日志上创建一个计划任务运行，该任务使用以下参数启动 Powershell：

```
powershell -executionpolicy bypass -nologo -file c:\sendkeys.ps1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-29T15:44:51.327

我们公司也有同样的问题，我们*刚刚*找到了解决办法。我们已经使用 AutoIt 并制作了一个脚本，它可以单击“桌面”磁贴。然后，我们将 AutoIt“编译”为一个可执行 exe，我们将其与我们的虚拟映像捆绑在它们各自的启动文件夹中。

[自动编译器](http://www.autoitscript.com/autoit3/docs/intro/compiler.htm%20AutoIt%20Compiler)

我们的脚本使用以下命令：

```
MouseClick("left", x, y) 
```

其中 x 和 y 是桌面磁贴内的坐标。我们的图像总是恢复到一个干净的状态（就像你的一样），所以这个图块总是在同一个位置。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-04-13T14:39:53.527

@迈克尔Bisbjerg

你好！您还可以使用此代码按下并释放 Windows 键并将您直接发送到桌面：

```
Send("{LWINDOWN}{LWINUP}") 
```

乔纳森

# sql - 触发器中的更新错误

> ID：10844201
> 
> 赞同：0
> 
> 时间：2012-06-01T03:56:37.507
> 
> 标签：sql, sql-server, triggers

我想在插入值后更新一些数据列。但这给了我一些错误。请帮我解决这个问题。

> 消息 4104，级别 16，状态 1，过程 TriggerBonus，第 20 行
> 无法绑定多部分标识符“i.User_id”。

触发：

```
CREATE TRIGGER [dbo].[TriggerBonus] ON [dbo].[Bonus]
FOR INSERT
AS
DECLARE @rcnt int 
SELECT @rcnt = @@rowcount

IF(SELECT COUNT(*) FROM Bonus,inserted WHERE Bonus.Tpv = inserted.Tpv)!=@@rowcount

/* Cancel the insert and print a message.*/
      begin
      rollback transaction 
      end  

/* Otherwise, allow it. */
else

UPDATE Bonus
SET Subdealers_Id=('user')
WHERE (User_id = i.User_id) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T07:54:49.470

您的更新需要：

```
UPDATE Bonus
SET Subdealers_Id=('user')
from inserted i inner join Bonus 
on {put your join here}
WHERE (User_id = i.User_id) 
```

# php - PHP 新手，非常有兴趣学习。If 语句和函数

> ID：10844203
> 
> 赞同：0
> 
> 时间：2012-06-01T03:56:41.953
> 
> 标签：php, function, if-statement, verify, statements

PLS。我对 PHP 很陌生，所以请。理解。好的，就这样吧。. 我首先想知道的是“一个函数和一个 if 语句可以在一个代码中吗？” 下面的代码的第二个，看看注释在哪里，如果参数 $first 和 $second 的值相同并且说“不一样”如果不是。

```
 <?php
    function verify($first,$second)
    {
    echo $first . " and " . $second ;
    }
    echo
    verify ("1","2");

    if ($first === $second) /* **NOTE: I know this is wrong cause its not working** */
    echo " ARE THE SAME";
    else
    echo " ARE NOT THE SAME";
    ?> 
```

我想就是这样。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T03:59:06.153

您的基本问题是[范围](http://php.net/manual/en/language.variables.scope.php)之一。外`verify()`,`$first`和`$second`未定义。您可以简单地将其余代码包含在可以执行您想要的操作的函数体内，例如

```
function verify($first,$second) {
    echo $first . " and " . $second ;

    if ($first === $second) {
        echo " ARE THE SAME";
    } else {
        echo " ARE NOT THE SAME";
    }
}

verify("1", "2"); 
```

...但是写入输出缓冲区的函数很少是一个好主意。相反，将逻辑封装在您的函数中，并将显示留给程序代码，例如

```
function verify($a, $b) {
    return $a === $b;
}

$first = '1';
$second = '2';
echo $first, ' and ', $second;
if (verify($first, $second)) {
    echo ' are the same';
} else {
    echo ' are not the same';
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:04:37.607

如果您查看[比较运算符](http://php.net/manual/en/language.operators.comparison.php)，您会发现`===`只有当两个输入的变量属于同一类型时才会如此。通常，如果一个函数返回`true`，你仍然可以使用`if($returncode == 1)`它，它会是真的，而`if($returncode === 1)`会是假的。您必须使用`if($returncode === true`来触发 if 语句。

此外，您必须将第二个 if 语句放入函数中，因为您使用函数声明的变量是本地的，这意味着它只能在函数内访问。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T04:09:14.570

```
<?php
    function verify($first,$second)
    {
    if($first===$second){
     return "Same";
    } else {
     return "Different";
    }
    }
    echo verify ("1","2");
    ?> 
```

# visual-studio-2010 - 想回到旧的 git commit

> ID：10844204
> 
> 赞同：1
> 
> 时间：2012-06-01T03:56:54.170
> 
> 标签：visual-studio-2010, git

好的，我想我搞砸了，我正在做一个项目并使用 git 作为版本控制：

我想我在某个地方搞砸了，现在当我说 git status 我得到：

```
# Not currently on any branch.
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#       modified:   Cocina/bin/Debug/Cocina.exe
#       modified:   Cocina/bin/Debug/Cocina.pdb
#       modified:   Cocina/obj/x86/Debug/Cocina.exe
#       modified:   Cocina/obj/x86/Debug/Cocina.pdb
#       modified:   Viernes 7.suo
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#       Cocina/Info.cs
#       Cocina/bin/Debug/Cocina.vshost.exe.manifest
#       Viernes 7/Properties/DataSources/
#       Viernes 7/Table.cs
#       Viernes 7/bin/Debug/Viernes 7.vshost.exe.manifest
#       Viernes 7/obj/x86/Debug/ResolveAssemblyReference.cache
#       back/
#       tables/
no changes added to commit (use "git add" and/or "git commit -a") 
```

我有我在 [这里][1] 所做的一切，但它很长，但也许它会有所帮助。

我唯一知道的事实是，在这次提交中，我确信一切都按我的意愿工作，并且随着合并，一切都开始向南发展......

```
PS C:\Users\Trufa\Documents\Visual Studio 2010\Projects\Viernes 7> git commit -am "the lisview now saves indexes of allr
eady clicks and deletes when table closes" 
```

我可以回去检查当时的文件在哪里吗？

* * *

很抱歉，我在发布问题后立即失去了 Internet 连接！

所以**更新：**

我有一份来自 github 的 git gui 副本，它帮助我可视化了不同的提交。

与 .exe 存在某种冲突，它阻止了我或多或少地做任何我无法合并的事情，我无法提交，我无法签出，所以我所做的就是复制我的非工作但正确提交并放入同一解决方案中的另一个项目。

所以问题是我现在该怎么办？

我很乐意“重新开始”，我的意思是此时项目正在按应有的方式运行，所以我想提交它，那么现在，我该怎么办？

我想整个问题是因为没有使用完整的 gitignore 文件，如果我现在添加它会发生什么？

所以我的问题是我现在该怎么办，我有点害怕刹车，因为我很匆忙，最简单的解决方案是什么？从头开始 git repo，删除 git 并从这一点重新开始，因为它正在工作，这是否是一个很大的过度杀伤？

我知道这听起来有点平庸，但我没有太多时间，所以我真的不想到处学习 git，我稍后会有时间，现在我想要一个简单的修复。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T08:27:41.147

我发现您的日志有两个问题：

1.  您已经在 git 存储库中生成了工件，当您想要更改活动分支时，这些工件现在是障碍
2.  您当前处于*分离的头部*状态。

# 生成的工件

您不应该将生成的文件（如 *.exe）放入您的存储库中，因为当您想要合并不同的开发线时，这些文件会引起麻烦。

另外你还有一个问题，因为这些文件在打开时无法覆盖，所以你需要关闭正在运行的程序来覆盖*.exe文件，并关闭Visual Studio来覆盖*.sou和*.pdb。

请参阅[.gitignore 了解 Visual Studio 项目和解决方案](https://stackoverflow.com/questions/2143956/gitignore-for-visual-studio-projects-and-solutions)，以了解最好省略的内容。

# 分离头

在第 232 行，您通过其 SHA1 检查了一个修订版，这使您处于所谓的`detached head`状态。这意味着，当您在此提交之上提交某些内容并检查其他分支时，您将很难回到刚刚创建的提交。有关详细信息，请参阅[http://marklodato.github.com/visual-git-guide/index-en.html#detached 。](http://marklodato.github.com/visual-git-guide/index-en.html#detached)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T04:09:05.670

mm 您不在 Git 文件夹的分支中。我认为您的文件没有发生任何问题。

你有没有尝试过？

$ git branch --> 将列出你所有的分支

这应该至少列出您的主分支

$ git checkout master --> 这将切换到 master 并且您将能够再次提交文件

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T04:23:30.497

首先，您可以看到所有提交的日志：

```
$ git log --online 
```

（--online 不是强制性的，但可以使输出不那么冗长）。输出将类似于：

```
1fb3915 Fixed View page.
3f69344 Added new images.
d2f74d8 Fixed css.
0e516db Added some photos.
5b99592 Added all cart pages. 
```

如果 d2f74d8 是一切正常的提交。只需输入：

```
$ git checkout d2f74d8 
```

现在您可以从这里重新开始。您只是想在这里复制一些代码并将其粘贴到 master 中吗？复制代码并输入

```
$ git checkout master 
```

你想从这里重新开始编码吗？我建议你创建一个新分支：

```
$ git checkout -b new-branch-name 
```

在这里做你的东西。准备好后，您可以将代码与您的分支合并：

```
$ git checkout master
$ git merge new-branch-name 
```

# css - HTML 5 奇怪的 img 总是在底部添加 3px 边距

> ID：10844205
> 
> 赞同：143
> 
> 时间：2012-06-01T03:57:07.587
> 
> 标签：css, html

当我将网站更改为

```
<!DOCTYPE HTML> 
```

每个包裹在 DIV 中的 img 元素都有一个 3px 的下边距，即使 CSS 中没有定义该边距。换句话说，没有样式属性导致 3px 底部边距。

```
<div class="placeholder">
    <img alt="" src="/haha.jpg" />
</div> 
```

现在假设 haha​​.jpg 是 50x50，并且 .placeholder 设置为 display: table。奇怪的是 .placeholder 在我的观察中的高度尺寸是 50x53 ......

有没有人遇到过这个异常并修复它？

# 编辑

这是 JS FIDDLE

[http://jsfiddle.net/fRpK6/](http://jsfiddle.net/fRpK6/)

* * *

## 回答 #1

> 赞同：307
> 
> 时间：2012-06-01T04:13:43.283

这个问题是由于图像表现得像一个文本字符（因此在它下面留了一个空格，“y”或“g”的悬挂部分会去），并通过使用`vertical-align`CSS 属性指示没有需要这样的空间。几乎任何价值`vertical-align`都可以；`middle`个人很喜欢

```
img {
    vertical-align: middle;
} 
```

jsFiddle：http: [//jsfiddle.net/fRpK6/1/](http://jsfiddle.net/fRpK6/1/)

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2012-06-01T04:23:05.120

我经常通过给出图像元素`display:block`或`display:inline-block`酌情解决这个问题。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-12-08T00:28:35.927

它解决了我的问题。

```
line-height: 0; 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-05-21T12:26:18.907

我相信设置

```
line-height: 1; 
```

在图像上也可以解决这个问题，特别是如果它本身就在一个块中。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-04-12T22:53:41.700

适用`display: block`于图像修复它，我在浮动 div 内的图像有这个问题。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-06-01T04:05:17.413

我不确定它为什么会发生的确切解释，但是给你的占位符 div font-size: 0px;

```
.placeholder {
    font-size: 0px;
} 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2015-12-28T09:15:49.267

也许是空白的问题导致了这种情况。所以，下面的方法可能有用

```
img {
display: block; 
```

} 或者

```
img {
vertical-align: top/middle/...; 
```

}

或者

```
.placeholder {
font-size: 0; 
```

}

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2016-03-21T09:35:32.733

对我来说，这是一个组合

```
font-size: 0px;
line-height: 0; 
```

在固定它的包装容器上。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-06-01T04:27:29.483

不知道确切的问题是什么，但我尝试了 2 个不同的选项，首先在 img 标签上应用类，这将起作用，然后应用字体大小 0 px；

[http://jsfiddle.net/fRpK6/3/](http://jsfiddle.net/fRpK6/3/)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2014-03-27T22:43:42.300

堆积也会发生这种情况`divs`，只需添加`float`属性即可。例子：

```
<body>
  <div class="piledUpDiv">Some text</div>
  <div class="piledUpDiv">Some text</div>
  <div class="piledUpDiv">Some text</div>
</body> 
```

有问题的 CSS：

```
.piledUpDiv{
    width:100%;
    display:inline-block;   
 } 
```

解决方案：

```
.piledUpDiv{
    width:100%;
    display:inline-block;
    float:left; 
 } 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-02-24T18:36:48.967

在我的特殊情况下，上述解决方案均无效。

`div`我有一个包装`display: flex;`。

我设法通过将：添加`align-items: flex-start;`到包装 div 和所有图像来使其工作：`display: block;`。

在我明确告诉内容对齐之前，它弄乱了布局。将其设置为 flex-start 后，一切都像魅力一样。

# c++ - 独立的 C++ 编译器

> ID：10844213
> 
> 赞同：8
> 
> 时间：2012-06-01T03:58:07.230
> 
> 标签：c++, windows-7, ide, usb-drive

我想要一个不需要安装的独立 C++ 编译器。可以从目录或 USB 密钥运行的东西。

我用谷歌搜索了它，但我真的找不到我要找的东西。它只是一个命令行编译器还是一个 IDE 都没有关系。我将不胜感激一个指向我可以实际下载所需文件的页面的链接。

由于我还是 C++ 的新手，只是为了确保你们都明白我在寻找什么：我想要一个程序，以便我可以在源文件 (.cpp) 上运行该程序并生成和执行。

我在 64 位 Windows 7 上。

编辑：只是为了清楚。如果我可以简单地下载一个 zip 文件（或类似的文件）并将其解压缩到计算机上的目录中，然后运行它，我会更喜欢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-01T04:05:47.097

我推荐 STL 的[MinGW distro](http://nuwen.net/mingw.html)，它是 xcopyable 并且包括最新的 GCC（目前是 GCC 4.7）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T04:12:25.897

SO 用户 rubenv 有一些 Mingw-w64 的发行版：

[对于 gcc 4.7.0](http://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win64/Personal%20Builds/rubenvb/release/)。在文件名中抓取一个`win64`。

他也曾在某处发出叮当声，但我现在只能找到[32 位 Windows 版本](http://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win32/Personal%20Builds/rubenvb/experimental/)。

只需下载并解压缩文件。不过，您将不得不手动更新 PATH。但是，没有像 STL 发行版那样的提升。

# iphone - 更改导航控制动画

> ID：10844215
> 
> 赞同：0
> 
> 时间：2012-06-01T03:58:42.097
> 
> 标签：iphone, ios, uinavigationcontroller, uiswipegesturerecognizer

如果可以将导航控制器动画更改为某种东西，而不是新视图只是滑到视图上，我会很高兴，因为新视图滑动时，当前视图会滑落......

我在这里有这个功能，它只是检测我的滑动，然后像普通的导航控制器一样为视图设置动画......但我希望我能在你的帮助下解决其他问题。

```
// Need to change this to work with viewArray
- (void)swipedScreen:(UISwipeGestureRecognizer*)gesture {

    //Left swipe
    if (gesture.direction == UISwipeGestureRecognizerDirectionLeft) 
    {
        if (viewCount == 0) 
        {     
            viewCount += 1;
            // Load a detial view into the (sub)NavController
            DetailViewControllerA *detailViewA = [[DetailViewControllerA alloc] initWithNibName:@"DetailViewControllerA" bundle:[NSBundle mainBundle]];
            [otherNav pushViewController:detailViewA animated:YES];
        }
    }
    //Right swipe
    else if (gesture.direction == UISwipeGestureRecognizerDirectionRight)
    {
        if (viewCount == 1) 
        {
            viewCount -= 1;
            [self.otherNav popViewControllerAnimated:YES]; 
        }
    }  
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T09:38:22.173

您可以使用 uiView 动画块来做到这一点，就像我用来显示一个闪烁的 UIView

```
[UIView animateWithDuration:1.0 
                          delay:0.0 
                        options:UIViewAnimationCurveEaseInOut 
                     animations:^ {
                         self.splash.alpha = 0.2;
                     } 
                     completion:^(BOOL finished) {
                         [UIView animateWithDuration:1.0 animations:^{
                             self.splash.alpha = 1.0;
                         }];
                     }]; 
```

或者

使用下面的代码

```
 [UIView beginAnimations:nil context:nil];
    [UIView setAnimationTransition:UIViewAnimationTransitionFlipFromRight forView:self.window cache:YES];
    [UIView setAnimationDuration:0.75];
    [UIView setAnimationDelegate:self];
    [self.splash removeFromSuperview];
    [UIView commitAnimations]; 
```

用于翻转过渡

为了改变推送/弹出动画，我使用了这段代码

```
 [UIView  beginAnimations:nil context:NULL];
    [UIView setAnimationCurve:UIViewAnimationCurveEaseInOut];
    [UIView setAnimationDuration:0.75];
    [self.navigationController pushViewController:self.detailViewController animated:NO];
    [UIView setAnimationTransition:UIViewAnimationTransitionFlipFromRight forView:self.navigationController.view cache:NO];
    [UIView commitAnimations]; 
```

享受编码:)

快乐编码:)

# sql - 为什么我的触发器在 SSIS 插入期间没有触发？

> ID：10844219
> 
> 赞同：27
> 
> 时间：2012-06-01T03:59:12.247
> 
> 标签：sql, triggers, ssis, bulkinsert

我有一个带有 OLE DB 目标组件的 SSIS 数据流任务，该组件将记录插入到带有触发器的表中。`INSERT`当我对该表执行正常语句时，触发器会触发。当我通过 SSIS 任务插入记录时，触发器不会触发。

如何在 SSIS 中触发触发器？

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2012-06-01T03:59:12.387

因为 OLE DB 目标任务使用大容量插入，所以默认情况下不会触发触发器。从[批量插入（MSDN）](http://technet.microsoft.com/en-us/library/ms188365.aspx)：

> 如果未指定 FIRE_TRIGGERS，则不执行插入触发器。

必须通过其高级编辑器手动将**FIRE_TRIGGERS**指定为 OLE DB 组件的一部分。

![在此处输入图像描述](../Images/82e306b877da5a3df903110e5ee1af5b.png)

然后将“FIRE_TRIGGERS”添加到*FastLoadOptions*的值中（注意选项以逗号分隔）：

![在此处输入图像描述](../Images/30e80556d5406476a6b89789c79924b1.png)

使用该选项，触发器应在任务执行期间触发。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-06-01T08:53:13.820

补充ladenedge的答案。

> 因为 OLE DB 目标任务使用批量插入，所以默认情况下不会触发触发器

当您选择了“快速加载”选项时，情况就是如此。

![在此处输入图像描述](../Images/0d205b2df87eeb2d5d381af610184cd3.png)

如果您将其更改为常规的“表或视图”数据访问模式，您的触发器应该正常触发，因为插入是逐行完成的

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-01-19T13:03:14.480

通过使用记事本（或任何其他文本编辑器）编辑 dtsx 文件，您可以在不使用 SQL Server Data Tool for Visual Studio 的情况下执行此操作。

搜索以下属性：

```
<property
 dataType="System.String"
 description="Specifies options to be used with fast load.  Applies only 
 if  fast load is turned on."
 name="FastLoadOptions">
      TABLOCK,CHECK_CONSTRAINTS
</property> 
```

并添加值 FIRE_TRIGGERS 正如 Diego 已经描述的那样。

# salesforce - 使用当前季度和前 11 个季度创建一个选择选项

> ID：10844223
> 
> 赞同：0
> 
> 时间：2012-06-01T03:59:22.367
> 
> 标签：salesforce, apex-code, visualforce

我需要创建一个选择框，其中包含在我的 Vf 页面中显示当前季度和前 11 个季度的选项。

我不想对它们进行硬编码，因为值会随着新的季度而改变。这应该始终默认为当前季度。

任何指针都会有所帮助

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T13:45:26.533

使用[apex:selectList](http://www.salesforce.com/us/developer/docs/pages/Content/pages_compref_selectList.htm)和 selectOptions 来显示：

```
<apex:selectList value="{!quarter}" multiselect="true">
    <apex:selectOptions value="{!listOfQuarters}"/>
</apex:selectList><p/> 
```

控制器可能如下所示：

```
public List<SelectOption> getListOfQuarters() {
    List<SelectOption> options = new List<SelectOption>();

    // non-dynamic code as an example

    options.add(new SelectOption('Q2 2012','Q2 2012'));
    options.add(new SelectOption('Q1 2012','Q1 2012'));
    options.add(new SelectOption('Q4 2011','Q4 2011'));

    return options;
} 
```

为了自动生成选项值，我会使用 Datetime 方法：*now()*来获取当前日期，*month()*和*year()*来提取月份和年份，并且可能使用 Map 逐月查找季度，或者除以月份数乘以三并使用*ceil()*获取当前季度。

要创建前 11 个季度，请在循环内使用*addMonths()*负值，一次三个月。

```
myDatetime.addMonths(-3) 
```

如果您不使用日历季度，您可以使用 SOQL 查询 Period 对象。您绝对可以确定您的财政年度开始月份：

```
SELECT FiscalYearStartMonth FROM Organization 
```

# c++ - 使用 DAO 在 C++ 中操作记录集中的 NULL 值

> ID：10844225
> 
> 赞同：0
> 
> 时间：2012-06-01T03:59:31.193
> 
> 标签：c++, ms-access, null, dao

我正在尝试使用以下方法访问包含空值的记录集：

[http://msdn.microsoft.com/en-us/library/ff965871.aspx](http://msdn.microsoft.com/en-us/library/ff965871.aspx)

我特别使用 DAO，它可以工作，除非您从访问查询返回结果，例如：

```
SELECT MAX(ID) FROM [TABLE] WHERE KEY = SOMETHING NOT THERE 
```

这将返回一个记录集，其中包含 1 个包含空值的记录，并尝试使用记录集指针函数访问它：

```
rsp->getitem(0) 
```

有效，但

```
rsp->getitem(0)->getvalue() 
```

抛出一个我在网上找不到的奇怪异常。我想知道是否有人知道如何在 C++ 中处理 NULL 值，像“IS NULL”这样在 VBA 中工作的函数似乎不可用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T09:57:33.310

getvalue 应该返回变体类型，您可以检查返回值的 vt 属性。如果没有返回，最有可能的是 VT_NULL。

# python - 为什么这个python方法返回一个内存地址？

> ID：10844230
> 
> 赞同：1
> 
> 时间：2012-06-01T04:00:22.250
> 
> 标签：python, methods

我正在编写一个 Python 脚本，该脚本在一个充满文本文件的目录中进行挖掘（如果您想知道的话，Dungeon Crawl 太平间文件）并提取和各种值。当尝试以 OOP 方式执行此操作时，我遇到了一些问题。

这是接受的 GameSummary 类`game_record_list`- 这是每个单独的游戏记录的列表，我可以从中获取整数值`record.gold`。

```
class GameSummary:

    def __init__(self, game_record_list):
        self.game_record_list = game_record_list
        self.gold_summary = self.gold_report()

    def gold_total(self):
        total_gold = 0
        for record in self.game_record_list:
            total_gold += record.gold
        return total_gold

    def gold_report(self):
        report = "Total gold acquired: " + str(self.gold_total)
        return report 
```

后来我将 GameSummary 实例化为 master_summary 并尝试使用以下命令将从 gold_report 返回的字符串写入日志文件：

```
log_file.write(master_summary.gold_summary) 
```

然而，最终写入我的文本文件的是：

“获得的总金币：< **main** .GameSummary instance at 0x02262FD0> 的绑定方法 GameSummary.gold_total”

为什么这个方法不返回一个字符串？问题在`gold_total`or中`gold_report`？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-01T04:02:56.213

```
report = "Total gold acquired: " + str(self.gold_total) 
```

应该

```
report = "Total gold acquired: " + str(self.gold_total()) 
```

或者，`gold_total`可以将其设为属性，以便可以像字段一样访问它：

```
@property
def gold_total(self):
    ... 
```

然后第一种方法可以正常工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T04:07:00.273

`str(function)`返回一个包含函数地址的字符串。`str(function())`返回一个字符串，表示函数返回的值。

# c# - 如何以最快的方式在 TreeView 中添加节点？

> ID：10844237
> 
> 赞同：8
> 
> 时间：2012-06-01T04:01:16.407
> 
> 标签：c#, winforms, .net-2.0

再会！

我想听听你对这个问题的建议。

我正在办公室制作一个小工具，以将“产品层次结构数据”显示为树形视图。我们的应用程序只能以表格方式显示它，如果层次结构中存在任何不正确的数据，则很难追踪。

我能够制定一些逻辑并以正确的层次结构显示数据。

但是我这里的主要问题是我正在处理 100K-200K+ 记录，并且创建/分配每个节点并将其添加到树中肯定需要时间。根据我的测试，平均每分钟可以创建8000个节点。我还注意到这个应用程序的内存使用量随着它的运行而逐渐增加。

我将包含数据结构的屏幕截图以及应用程序的外观，以便为您提供一些想法：

![在此处输入图像描述](../Images/ade4e8aa3397230395209634b0f2102e.png)

![在此处输入图像描述](../Images/7bfa48be748c069db24515caf414b709.png)

请在下面考虑我的代码，我很高兴知道您对如何优化它的想法。我知道这里有很多需要改进的地方。

对不起，很长的帖子......

顺便说一句，我使用的是 C# 和 .net2.0。

```
using System;
using System.Collections.Generic;
using System.Drawing;
using System.Windows.Forms;
using System.Data.OleDb;
using System.Data;
using System.IO;
using System.Threading;

namespace WinformAppTest
{
    public partial class MainForm : Form
    {
        private DataSet _ds = new DataSet();

        public MainForm()
        {
            InitializeComponent();
        }

        void MainFormLoad(object sender, EventArgs e)
        {
            PopulateDataSet();

            lblTotalRows.Text = _ds.Tables[0].Rows.Count.ToString();
        }

        void PopulateDataSet()
        {
            string query = @"select * from " + "test.csv";
            try
            {
                OleDbConnection conn = new OleDbConnection("Provider=Microsoft.Jet.OLEDB.4.0; Data Source=C:\\;Extended Properties=\"Text;HDR=Yes;FMT=Delimited\"");
                OleDbDataAdapter da = new OleDbDataAdapter();

                OleDbCommand cmd = new OleDbCommand(query, conn);
                conn.Open();
                da.SelectCommand = cmd;
                _ds.Clear();
                da.Fill(_ds, "CSV");

                conn.Close();
            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.GetBaseException().ToString());
            }
        }

        void BtnRunClick(object sender, EventArgs e)
        {
            Thread newThread1 = new Thread(MainForm.DoWork);
            newThread1.Start(this);
        }

        public static void DoWork(object data)
        {
            MainForm form = (MainForm)data;
            int counter = 0;
            TreeNode[] nd;

            foreach(DataRow row in ((MainForm)data)._ds.Tables[0].Rows)
            {
                TreeNode node = new TreeNode();
                if(row["Level Number"].ToString() == "1")
                {           
                    node.Name = row["ECC Hierarchy Code"].ToString();
                    node.Text = row["ECC Hierarchy Code"].ToString() + ", " + row["Name"].ToString();

                    form.Invoke((MethodInvoker)delegate { ((MainForm)data).treeView1.Nodes.Add(node); });       
                }
                else
                {                   
                    nd = ((MainForm)data).treeView1.Nodes.Find(row["Parent Code"].ToString(), true);
                    node.Name = (string)row["ECC Hierarchy Code"];
                    node.Text = row["ECC Hierarchy Code"].ToString() + ", " + row["Name"].ToString();

                    form.Invoke((MethodInvoker)delegate { nd[0].Nodes.Add(node); });
                }

                counter++;
                form.Invoke((MethodInvoker)delegate { ((MainForm)data).lblLoded.Text = counter.ToString(); });
            }       
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-03T23:04:16.190

这其中的关键可能如下：

1.  调用 TreeView.BeginUpdate
2.  向 TreeView 添加/删除多个节点
3.  调用 TreeView.EndUpdate

这会停止在添加/删除节点时发生的任何绘制。一旦调用了 EndUpdate，整个 TreeView 就会被绘制一次。

[http://msdn.microsoft.com/en-us/library/system.windows.forms.treeview.beginupdate.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.treeview.beginupdate.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T20:02:30.873

一些想法...

1.  您正在使用线程来获取数据，然后使用 Invoke 将每个数据项添加到树中。这是非常缓慢的。一个更好的主意是使用线程来获取您需要的所有数据，然后使用 treeView1.Nodes.AddRange() 一次将所有节点添加到树中。

2.  您可以通过重新设计应用程序来进行更多优化，以便它获取第一级节点的所有数据，然后仅在用户展开树节点时获取较低级别节点的数据。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-01T04:04:56.933

在处理大型数据集时，内置的 WinForms 控件会受到限制。据我记得，内置的 TreeView 将尝试为每个节点分配它自己的内存（这意味着你有一个数据副本，加上额外的元数据，对于你的 100K+ 记录中的每一个，即使它们中的大多数不会在给定的会话中查看。

我使用提供虚拟节点的开源 TreeView 替代方案取得了很大的成功（在它们变得可见之前您不会渲染）

[http://www.codeproject.com/Articles/20552/Virtual-Treeview-Implementation](http://www.codeproject.com/Articles/20552/Virtual-Treeview-Implementation)

# php - 在没有 Session 和 cookie 的情况下将值从 PHP 传递到 HTML

> ID：10844238
> 
> 赞同：-3
> 
> 时间：2012-06-01T04:01:22.177
> 
> 标签：php, post

我正在使用没有框架的 PHP 5.3。

如何将 PHP 文件中的值传递到另一个 PHP 或 HTML 或 Javascript 文件？

使用`$_POST`我可以做到但如何在没有表单的情况下传递值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:08:15.303

*   **PHP 到 PHP**

    带卷曲

    ```
     $url = 'http://domain.com/get-post.php';
        $fields = array(
                    'lname'=>urlencode($last_name),
                    'fname'=>urlencode($first_name),
                    'title'=>urlencode($title),
                    'company'=>urlencode($institution),
                    'age'=>urlencode($age),
                    'email'=>urlencode($email),
                    'phone'=>urlencode($phone)
                );

        //url-ify the data for the POST
        foreach($fields as $key=>$value) { $fields_string .= $key.'='.$value.'&'; }
        rtrim($fields_string,'&');

        //open connection
        $ch = curl_init();

        //set the url, number of POST vars, POST data
        curl_setopt($ch,CURLOPT_URL,$url);
        curl_setopt($ch,CURLOPT_POST,count($fields));
        curl_setopt($ch,CURLOPT_POSTFIELDS,$fields_string);

        //execute post
        $result = curl_exec($ch);

        //close connection
        curl_close($ch); 
    ```

*   **PHP 转 HTML**

    `echo`（因为 html 是客户端，假设它是你的 html 并且你没有抓取或注入）

*   **PHP 到 JS**

    与 PHP 到 HTML 相同

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:14:33.970

我假设您想从客户端（HTML）发送值。

不知道为什么你不想使用会话！

但是我可以建议的方法是使用数据库，使用 jQuery Ajax 将值保存到数据库中，并且使用 jQuery Ajax 您也可以使用“表单”将数据发送到 PHP 端。

保存到数据库后，您可以将其查询回任何页面。

希望对你有帮助 ！

参考： [jQuery Ajax](http://api.jquery.com/jQuery.ajax/)

谢谢

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T04:04:44.703

您可以将它们附加到查询字符串，而无需使用表单。

`example.com/page.html?var1=data&var2=data`

就不使用表单、会话或 cookie 而言，我认为您已经没有选择余地了。

传递隐藏输入是一种可接受的方式，但它需要表单。

有什么理由不能（不想？）使用会话、cookie 或表单？

# javascript - 在 node.js 中与数据库通信

> ID：10844240
> 
> 赞同：0
> 
> 时间：2012-06-01T04:02:31.647
> 
> 标签：javascript, ios, node.js

我是 node.js 的新手。我使用 node.js 创建了服务器端应用程序。在这个应用程序中，我正在从数据库中检索数据。我有以下代码：

```
router.map(function () {
this.root.bind(function (req, res) {  
db.all("SELECT * FROM employee", function(err, rows)
{
    rows.forEach(function(row)
    {
         str=str+' '+row.name+'     '+row.empid+'    '+row.address+'   '+row.mobile;
        res.send(str);

    });

});

}); 
```

此代码仅返回数据库的第一行作为控件在 res.send(str) 之后返回。我想要 json 格式的 iOS 应用程序中的数据。请就这个问题提出一些解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:10:46.327

就像是

```
router.map(function () {
    this.root.bind(function (req, res) {  
        db.all("SELECT * FROM employee", function(err, rows)
        {
            res.send(JSON.stringify(rows));
        });
    });
}); 
```

或者

```
router.map(function () {
    this.root.bind(function (req, res) {  
        db.all("SELECT * FROM employee", function(err, rows)
        {
            var out = [];
            var rowidx;
            for(rowidx in rows) {
                out.push({name: rows[rowidx].name, empid: rows[rowidx].empid, address: rows[rowidx].address, mobile: rows[rowidx].mobile}); 
            }
            res.send(JSON.stringify(out);
        });
    });
}); 
```

应该可以正常工作，具体取决于“行”对象是否简单。

# performance - 术语 O(1) 空间和不使用额外空间的含义

> ID：10844245
> 
> 赞同：9
> 
> 时间：2012-06-01T04:03:09.570
> 
> 标签：performance, algorithm, space-complexity

这让我有点困惑。当约束如下时，我解决给定问题的方法应该是什么：

1）不使用额外空间：例如：如果我想对给定的数组进行排序，我几乎没有办法做到这一点。冒泡排序，不断交换（只是循环，没有递归）。我相信据说这是不使用额外空间的。如果我使用递归对元素进行排序，会发生什么情况。是和“不使用额外空间”一样，还是使用的堆栈计入算法的空间复杂度？

2）在O(1)空间中：O(1)空间是什么意思？这是否意味着恒定的空间。现在如果它是常数空间，那么请评论以下情况：

a）如果我在第三个变量的帮助下交换冒泡排序。它不是一个额外的空间，它不会依赖于输入的大小，所以它是恒定的空间。

b）此外，如果我对自然数应用计数排序，它实际上并不需要与总数成比例的空间量，我们是否认为它在恒定空间 O(1) 中。

如果有区别，请解释一下。谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T04:28:13.590

根据[Fortnow & Homer (2003)](http://people.cs.uchicago.edu/~fortnow/papers/history.pdf)的说法，

> 计算的空间复杂度 [...] 被视为工作磁带上使用的空间量。

排序算法至少都是 O(n) 空间，因为它需要空间来存储所有输入（无论是在内存上还是在磁盘上）。因此，即使对于冒泡排序，空间复杂度仍然是 O(n)。

然而，有时，我们对整体空间复杂度不感兴趣（尤其是在上面的例子中），但我们想知道算法使用的额外空间。对于冒泡排序，我们可以说它使用了恒定数量的**额外**空间。

递归是一个非常特殊的情况，我们必须考虑堆栈。我们在递归时存储状态，我们根据输入多次调用递归函数。由于递归级别的数量取决于输入大小，因此空间复杂度必须考虑堆栈空间使用情况。

我不确定 O(1) 空间算法是否常见，但循环查找算法就是这样的例子之一。该算法本身仅使用恰好 2 个“指针”的空间。需要单独计算其循环的函数使用的额外空格。

在计数排序的情况下，空间复杂度取决于输入 n（计数）的大小和最大输入值 k。这两个参数相互独立，因此空间复杂度为 O(n + k)。使用的**额外**空间可以定义为 O(k)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T04:10:06.600

“没有额外空间”意味着可以通过输入获得一定数量的空间，通常正好是 n，并且不应使用更​​多空间，尽管在面试中我从不在乎候选人是否使用 O(1) 额外空间。老实说，在任何现代语言中，您都很难避免 O(1) 额外空间用于您可以采取的几乎任何微不足道的操作。

当给出算法空间复杂度的界限时，堆栈计数。

O(1) 表示常数。

计数排序使用最小 O(k) 空间，其中 k 是可能的最大键大小。因此，理论上，如果我们谈论的是固定位数上的整数，那是一个常数。这也是为什么基数排序有时被称为线性时间排序的原因。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-01-13T11:55:50.000

**O(1)**：它被定义为 ，其中输入以固定常数为界。我们可以将其与我们给定要输入的整数范围在 -10^5 到 10^5 之间进行比较。因此，简而言之，我们可以说它表示对要输入的值的约束。

**O(n)**：当我们对输入没有条件时，它与上述正好相反。例如，当我们必须输入一个字符串时，我们输入的字符串的长度是没有条件的。

# javascript - CSS/Javascript/Jquery：显示/隐藏一个 DIV 取决于被点击的两个图像之一

> ID：10844249
> 
> 赞同：1
> 
> 时间：2012-06-01T04:04:06.713
> 
> 标签：javascript, jquery, css

我有 2 张图片，Image_A 和 Image_B。我还有 2 个 Div，Div_A 和 Div_B，它们在页面加载时都是隐藏的。

如果单击 Image_A，那么我需要显示 Div_A。但是然后单击 ig Image_B 我需要隐藏 Div_A 并显示 Div_B。

这也应该以另一种方式工作，因此只有一个 div 显示是否单击图像

这只能用纯css来实现吗？或者如果我用 Javascript/Jquery 来做？？？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:07:34.093

```
$('#img_1').on('click', function() {
  $('#div_1').show();
  $('#div_2').hide();
});

$('#img_2').on('click', function() {
  $('#div_1').hide();
  $('#div_2').show();
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:08:11.697

您可以在 Javascript 或 Jquery 中执行此操作，方法是为每个图像放置事件处理程序并更改调用函数中 div 的可见性。

不确定是否在纯 CSS 中执行此操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T04:16:41.167

您可以将您的 CSS 设置为；

```
#img_1, #img_2{
visibility: hidden;
} 
```

在你的 JavaScript 中；

```
$('#img_1').click(function() {
  $('#div_1').css({"visibility":"visible"});
  $('#div_2').css({"visibility":"hidden"});
});

$('#img_2').click(function() {
  $('#div_2').css({"visibility":"visible"});
  $('#div_1').css({"visibility":"hidden"});
}); 
```

**[这](http://jsfiddle.net/sxykk/)**是一个工作演示。

# javascript - 构造函数属性值应该是什么..原型构造函数或对象构造函数本身

> ID：10844255
> 
> 赞同：0
> 
> 时间：2012-06-01T04:04:42.717
> 
> 标签：javascript, inheritance, prototype

问题：为什么 p1 的构造函数出来是 Person。不应该是 Man 吗？

```
function Person()
{
 this.type='person'
}
function Man()
{
 this.type='Man'
}

Man.prototype=new Person();

var p1=new Man();
console.log('p1\'s constructor is:'+p1.constructor);
console.log('p1 is instance of Man:'+(p1 instanceof Man));
console.log('p1 is instance of Person:'+(p1 instanceof Person)); 
```

[http://jsfiddle.net/GSXVX/](http://jsfiddle.net/GSXVX/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T04:07:30.750

`.constructor`您在覆盖原始对象时破坏了原始属性`prototype`...

```
Man.prototype = new Person(); 
```

您可以手动替换它，但除非您使用不可枚举（在 ES5 实现中），否则它将是一个可枚举的属性。

```
Man.prototype=new Person();
Man.prototype.constructor = Man; // This will be enumerable. 
```

* * *

```
 // ES5 lets you make it non-enumerable
Man.prototype=new Person();
Object.defineProperty(Man.prototype, 'constructor', {
    value: Man,
    enumerable: false,
    configurable: true,
    writable: true
}); 
```

# jquery - 为 jquery 函数编写插件？

> ID：10844257
> 
> 赞同：0
> 
> 时间：2012-06-01T04:04:53.603
> 
> 标签：jquery, jquery-plugins, plugins

我是新手，我不知道如何编写插件。任何人都可以帮助如何为此 jquery 函数编写插件。

```
$(document).ready(function(){

    var offset_1 = $("li.list:first-child").position().left;
    var offset_2 = $("li.list:nth-child(2)").position().left;
    var totalWidth =offset_2-offset_1;

        $("a.abc").click(function() {
            $("#scroller").not(":animated").animate({"scrollLeft":"-="+totalWidth},300);
            return false;
        });
        $("a.def").click(function() {
            $("#scroller").not(":animated").animate({"scrollLeft":"+="+totalWidth},300);
            return false;
        });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T04:56:24.730

你应该知道它是如何工作的。设计人们使用您的插件的方式。

样品（只是一个想法）

```
$('.target').doSomething({
  offset1 : 'li.list:first-child',
  offset2 : 'li.list:nth-child(2)',
  toLeft : 'a.abc',
  toRight : 'a.def'
}) 
```

然后你[创建 jquery 插件](http://docs.jquery.com/Plugins/Authoring)

```
(function($){
    $.fn.doSomething = function(options){
        var offset1 = $(options.offset1).position.left;
        var offset2 = $(options.offset2).position.left;
        var toLeft = $(options.toLeft);
        //... do something
    }
}).(jQuery) 
```

# hibernate - 确保更新发生在 Hibernate/HSQLDB 中的并发锁定？

> ID：10844260
> 
> 赞同：1
> 
> 时间：2012-06-01T04:05:08.950
> 
> 标签：hibernate, concurrency, locking, hsqldb

我有多台机器运行一项服务，该服务使用 Hibernate 从数据库中更新和读取值。

每当我需要在我的服务中更新数据库值时，我都会使用升级 nowait 锁，如果我无法获得锁，我只是稍后重试。

```
void lock(Job job) {
    sessionFactory.session.lock(job, LockMode.UPGRADE_NOWAIT);
} 
```

我的服务中有一个地方我必须在那里更新数据库值，并且我无法重试。我想我只是在这些地方使用普通的升级锁，它可以等待更新值所需的时间。

```
void waitForLock(Job job) {
    sessionFactory.session.lock(job, LockMode.UPGRADE);
} 
```

但现在我看到这个错误有时会弹出......

```
org.hibernate.dialect.HSQLDialect - HSQLDB supports only READ_UNCOMMITTED isolation 
```

有没有办法保证这个值会在第一次使用 Hibernate 时更新？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T09:14:10.377

您使用的是不支持事务隔离的旧版 HSQLDB。使用最新版本（2.2.8 或更高版本）。

# iphone - 连接为 IBOutlet 时未显示 UILabel 初始文本

> ID：10844264
> 
> 赞同：1
> 
> 时间：2012-06-01T04:05:44.653
> 
> 标签：iphone, ios, xcode, uilabel

所以我有一个作为 IBOutlet 连接的 UILabel。如果标签未在 IB 中连接，则会显示初始文本，但是一旦我连接它，初始文本直到我运行 IBAction 后才会显示，它将文本更改为其他内容。例如：

我希望它在视图加载时显示“输入总计”，并且在 IBAction 运行后它将变为一个数字。我试过了..

```
myLabel.text = @"Enter total"; 
```

在 Viewdidload 方法中。我也试过...

```
myLabel.hidden = NO; 
```

它在 IB 中也设置了正确的初始标题。如果不断开 IB 中的 IBOutlet，则不会显示初始文本。我知道我错过了一些东西......请帮忙！

在我的.h

```
IBOutlet UILabel *myLabel;
@property (nonatomic, retain) IBOutlet UILabel *myLabel; 
```

在我的 xib 中，标签的标题是“输入总计”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:57:52.180

1）在你的笔尖点击你想显示文本的标签

2）然后单击文本中的顶部栏视图写您的文本@“输入总计”；

3）编译并运行你会看到它作为默认文本。

# php - 在聊天系统中保持时间戳准确 - 使用 timeago jQuery 插件

> ID：10844267
> 
> 赞同：0
> 
> 时间：2012-06-01T04:05:51.287
> 
> 标签：php, javascript, jquery

我正在创建一个基于网络的聊天/消息系统。由于可以保存聊天，因此聊天的每条消息和发送每条消息的时间都存储在服务器上的 mysql 数据库中。时间戳以 UTC 时间的 mysql DATETIME 格式存储，时间戳在服务器上生成。

当从服务器检索消息及其随附的时间戳时，我正在使用[jQuery timeago 插件](http://timeago.yarp.com/)并将时间戳格式化为以“1 分钟前”、“3 天前”等形式显示。

这样做的问题是“timeago”时间是相对于用户机器的时间计算的。例如，假设您收到一条实际上仅在 2 秒前发送的消息。如果您的机器时间相对于服务器时间快了三分钟，则此消息的时间显示为“3 分钟前”。

对于始终向用户显示准确时间的策略有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T04:32:34.623

首先，您确定要为聊天系统提供如此精确的时间同步吗？如果某人的时钟领先和落后，那是他/她的问题，而不是你的问题。

无论如何，您可以将差异发送给用户。time-delta 可用于从当前时间创建时间戳，并将其放在 title 属性中。

一种更简单的方法是只发送一条消息，说“这条消息是'刚刚'发送的”，并相应地构造标题属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:32:49.173

您可以修改源代码。[请参阅https://github.com/rmm5t/jquery-timeago/blob/master/jquery.timeago.js](https://github.com/rmm5t/jquery-timeago/blob/master/jquery.timeago.js)中的第 146 行。使其可选地与指定的用户“现在”一起使用，该用户指定覆盖新的 Date()。然后让服务器告诉客户端服务器时间的“现在”是什么。

或者，有一种方法可以在不修改 timeago 源的情况下做到这一点：

让服务器告诉客户端它的当前时间是什么，然后计算它与客户端时间之间的差异：

```
var timeDelta = serverNow - clientNow 
```

然后，将 timeDelta 添加到每条消息的时间，然后再将其传递给 timeago。

# java - 最终变量与静态最终变量之间的区别

> ID：10844268
> 
> 赞同：12
> 
> 时间：2012-06-01T04:05:56.050
> 
> 标签：java

我只是在研究最终数据成员，我想最终变量与静态最终变量有什么区别？

* * *

我知道一个既是静态又是最终的字段只有一个存储，而最终变量将具有与每个实例相关联的存储。

但是即使我只声明了一个最终变量，那么它对于所有对象都保持不变，因为我需要在程序本身而不是在运行时初始化它们。

* * *

所以，除了内存相关问题之外，两者基本上没有区别？？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-01T04:08:49.813

> 但是即使我只声明了一个最终变量，那么它对于所有对象都保持不变，因为我需要在程序本身而不是在运行时初始化它们。

不，可以在构造函数中初始化非静态最终成员。之后不能重新分配它们。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T04:23:59.057

这`final`意味着您只能将值分配给变量一次。`final`可以在许多范围内使用并且非常有用，在对象属性中，您必须（并且强制）在声明、构造函数或对象的初始化块中设置值。

并且`static`是设置变量的范围，这意味着在类属性中，值是存储在类中，并且即使没有对象也可以访问，当您使用`static final`或`final static`必须（并且强制）设置值时声明或在类的静态初始化代码中。

例子：

```
public class NewClass {

    static final int sc = 123; //I recommend to use this declaration style.
    final static int scc;
    final int o = 123;
    final int oo;
    final int ooo;

    static {
        scc = 123;
    }

    {
        oo = 123;
    }

    public NewClass() {
        ooo = 123;
    }

    void method(final int p) {
//        p=123; //Error, the value is only assigned at the call of the method.

        final int m = 123;
        final int mm;
        mm = 123;
//        mm = 456; //Error, you can set the value only once.
        new Thread(new Runnable() {

            @Override
            public void run() {
                System.out.println(m + p); //You still can reach the variables.
            }
        }).start();
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-01T04:19:39.630

final 变量：声明为 final 的变量将是一个常量，它的值不能改变，并且可以在构造函数中初始化。

静态最终变量：必须在声明期间或在静态初始化程序块中对其进行初始化。

# java - 如何使用pdfbox获取字体颜色

> ID：10844271
> 
> 赞同：7
> 
> 时间：2012-06-01T04:06:54.973
> 
> 标签：java, pdfbox

我正在尝试使用 pdfbox 从 pdf 中提取包含所有信息的文本。我得到了我想要的所有信息，除了颜色。我尝试了不同的方法来获取字体颜色（包括[使用 PDFBox 获取文本颜色](https://stackoverflow.com/questions/5861471/getting-text-colour-with-pdfbox)）。但不工作。现在我从 pdfBox 的 PageDrawer 类中复制了代码。但是RGB值也不正确。

```
protected void processTextPosition(TextPosition text) {

        Composite com;
        Color col;
        switch(this.getGraphicsState().getTextState().getRenderingMode()) {
        case PDTextState.RENDERING_MODE_FILL_TEXT:
            com = this.getGraphicsState().getNonStrokeJavaComposite();
            int r =       this.getGraphicsState().getNonStrokingColor().getJavaColor().getRed();
            int g = this.getGraphicsState().getNonStrokingColor().getJavaColor().getGreen();
            int b = this.getGraphicsState().getNonStrokingColor().getJavaColor().getBlue();
            int rgb = this.getGraphicsState().getNonStrokingColor().getJavaColor().getRGB();
            float []cosp = this.getGraphicsState().getNonStrokingColor().getColorSpaceValue();
            PDColorSpace pd = this.getGraphicsState().getNonStrokingColor().getColorSpace();
            break;
        case PDTextState.RENDERING_MODE_STROKE_TEXT:
            System.out.println(this.getGraphicsState().getStrokeJavaComposite().toString());
            System.out.println(this.getGraphicsState().getStrokingColor().getJavaColor().getRGB());
           break;
        case PDTextState.RENDERING_MODE_NEITHER_FILL_NOR_STROKE_TEXT:
            //basic support for text rendering mode "invisible"
            Color nsc = this.getGraphicsState().getStrokingColor().getJavaColor();
            float[] components = {Color.black.getRed(),Color.black.getGreen(),Color.black.getBlue()};
            Color  c1 = new Color(nsc.getColorSpace(),components,0f);
            System.out.println(this.getGraphicsState().getStrokeJavaComposite().toString());
            break;
        default:
            System.out.println(this.getGraphicsState().getNonStrokeJavaComposite().toString());
            System.out.println(this.getGraphicsState().getNonStrokingColor().getJavaColor().getRGB());
    } 
```

我正在使用上面的代码。得到的值是 r = 0, g = 0, b = 0，内部 cosp 对象值为 [0.0]，内部 pd 对象数组 = null 和 colorSpace = null。RGB 值始终为 -16777216。请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-24T19:13:02.977

我尝试了您发布的链接中的代码，它对我有用。我得到的颜色是 148.92、179.01001 和 214.965。我希望我可以给你我的 PDF 来使用，也许如果我将它存储在 SO 外部？我的 PDF 使用了一种淡蓝色，看起来很相配。它只是在 Word 2010 中创建并导出的一页文本，没有什么太密集的内容。

几个建议....

1.  回想一下，返回的值是一个介于 0 和 1 之间的浮点数。如果一个值意外地转换为 int，那么这些值当然最终会包含几乎所有的 0。链接到代码的代码乘以 255 以获得 0 到 255 的范围.
2.  正如评论者所说，PDF 文件最常见的颜色是黑色，即 0 0 0

这就是我现在能想到的，否则我有 pdfbox 和 fontbox 的 1.7.1 版本，就像我说的那样，我几乎遵循了你提供的链接。

**编辑**

根据我的评论，这可能是一种针对 pdf 文件的微创方式，例如`color.pdf`？

在方法`PDFStreamEngine.java`中，`processOperator`可以在 try 块内执行

```
if (operation.equals("RG")) {
   // stroking color space
   System.out.println(operation);
   System.out.println(arguments);
} else if (operation.equals("rg")) {
   // non-stroking color space
   System.out.println(operation);
   System.out.println(arguments);
} else if (operation.equals("BT")) {
   System.out.println(operation);    
} else if (operation.equals("ET")) {
   System.out.println(operation);           
} 
```

这将向您显示信息，然后由您根据需要处理每个部分的颜色信息。这是上面代码在运行时输出开头的片段`color.pdf`...

`BT rG [COSInt(1), COSInt(0), CosInt(0)] RG [COSInt(1), COSInt(0), CosInt(0)] ET BT ET BT rG [COSFloat{0.573}, COSFloat{0.816}, COSFloat{0.314}] RG [COSFloat{0.573}, COSFloat{0.816}, COSFloat{0.314}] ET ......`

您在上面的输出中看到一个空的 BT ET 部分，这是一个标记为 DEVICEGRAY 的部分。所有其他都为您提供 R、G 和 B 分量的 [0,1] 值

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-04-28T07:51:20.073

我也最终做了这样的事情。在下面粘贴代码，希望对某人有所帮助。

```
import java.io.IOException;
import java.util.List;
import org.apache.pdfbox.exceptions.COSVisitorException;
import org.apache.pdfbox.pdmodel.PDDocument;
import org.apache.pdfbox.pdmodel.PDPage;
import org.apache.pdfbox.pdmodel.edit.PDPageContentStream;
import org.apache.pdfbox.pdmodel.font.PDFont;
import org.apache.pdfbox.pdmodel.font.PDType1Font;
import org.apache.pdfbox.pdmodel.graphics.PDGraphicsState;
import org.apache.pdfbox.util.PDFTextStripper;
import org.apache.pdfbox.util.ResourceLoader;
import org.apache.pdfbox.util.TextPosition;

public class Parser extends PDFTextStripper {

public Parser() throws IOException {
    super(ResourceLoader.loadProperties(
            "org/apache/pdfbox/resources/PageDrawer.properties", true));
    super.setSortByPosition(true);
}

public void parse(String path) throws IOException{
    PDDocument doc = PDDocument.load(path);
    List<PDPage> pages = doc.getDocumentCatalog().getAllPages();
    for (PDPage page : pages) {
        this.processStream(page, page.getResources(), page.getContents().getStream());
    }
}

@Override
protected void processTextPosition(TextPosition text) {
    try {
        PDGraphicsState graphicsState = getGraphicsState();
        System.out.println("R = " + graphicsState.getNonStrokingColor().getJavaColor().getRed());
        System.out.println("G = " + graphicsState.getNonStrokingColor().getJavaColor().getGreen());
        System.out.println("B = " + graphicsState.getNonStrokingColor().getJavaColor().getBlue());
    }
    catch (IOException ioe) {}

}

public static void main(String[] args) throws IOException, COSVisitorException {
    Parser p = new Parser();
    p.parse("/Users/apple/Desktop/123.pdf");
}

} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-28T04:43:19.083

我在我的一个维护程序中发现了一些代码。
我不知道它是否适合你，请尝试一下。另请查看此链接[http://pdfbox.apache.org/apidocs/org/apache/pdfbox/pdmodel/common/class-use/PDStream.html](http://pdfbox.apache.org/apidocs/org/apache/pdfbox/pdmodel/common/class-use/PDStream.html)

它可以帮助你

```
PDDocument doc = null;
try {
    doc = PDDocument.load("C:/Path/To/Pdf/Sample.pdf");
    PDFStreamEngine engine = new PDFStreamEngine(ResourceLoader.loadProperties("org/apache/pdfbox/resources/PageDrawer.properties"));
    PDPage page = (PDPage)doc.getDocumentCatalog().getAllPages().get(0);
    engine.processStream(page, page.findResources(), page.getContents().getStream());
    PDGraphicsState graphicState = engine.getGraphicsState();
    System.out.println(graphicState.getStrokingColor().getColorSpace().getName());
    float colorSpaceValues[] = graphicState.getStrokingColor().getColorSpaceValue();
    for (float c : colorSpaceValues) {
        System.out.println(c * 255);
    }
}
finally {
    if (doc != null) {
        doc.close();
    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-02-07T11:04:40.370

使用 pdfbox 2.0+ 版本，必须在覆盖的 PDFTextStripper 的构造函数中选择这些运算符：

```
addOperator(new SetStrokingColorSpace());
addOperator(new SetNonStrokingColorSpace());
addOperator(new SetStrokingDeviceCMYKColor());
addOperator(new SetNonStrokingDeviceCMYKColor());
addOperator(new SetNonStrokingDeviceRGBColor());
addOperator(new SetStrokingDeviceRGBColor());
addOperator(new SetNonStrokingDeviceGrayColor());
addOperator(new SetStrokingDeviceGrayColor());
addOperator(new SetStrokingColor());
addOperator(new SetStrokingColorN());
addOperator(new SetNonStrokingColor());
addOperator(new SetNonStrokingColorN()); 
```

只有这样 getGraphicsState() 才会返回正确的信息。

见[https://pdfbox.apache.org/2.0/migration.html](https://pdfbox.apache.org/2.0/migration.html)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-04-07T23:10:29.800

这是[PdfBox - 如何从文本中加载颜色，](https://stackoverflow.com/questions/67026428/pdfbox-how-to-load-color-from-text)它应该能够用比其他答案更简单的解决方案来回答您的问题:)。

# playframework - 注释的 Playframework 文档

> ID：10844276
> 
> 赞同：3
> 
> 时间：2012-06-01T04:08:06.930
> 
> 标签：playframework, playframework-2.0

在使用 Playframework 实现的过程中，我遇到了一些场景，我想为不同的控制器和动作应用一些横切逻辑。

[像这里](https://stackoverflow.com/questions/9369208/what-exactly-does-the-with-annotation-do-play-framework)的这个问题，我想更多地了解不同的注释。然而，我对文件的搜索并没有给我任何详细的信息。从[这个页面](http://www.playframework.org/documentation/2.0/JavaActionsComposition)，我学到了一些可用的注释，但没有一个被彻底解释。

我检查了 java 的 API，但也没有发现任何有用的东西。来源是唯一可以找到我的答案的地方吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-04T12:05:45.193

如果你想创建自己的拦截器，这里有一个指南：[http ://www.objectify.be/wordpress/?p=374](http://www.objectify.be/wordpress/?p=374)

# ruby-on-rails - 回滚 | 如何让 content_tags 嵌套？

> ID：10844277
> 
> 赞同：5
> 
> 时间：2012-06-01T04:08:07.280
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.2

如您所见，我有一个帮助程序，我试图将其渲染到视图中。

嵌套的 content_tags 不呈现我与此标签的断开连接？

```
def draw_calendar(selected_month, month, current_date)
  content_tag(:table) do

    content_tag(:thead) do

      content_tag(:tr) do

        I18n.t(:"date.abbr_day_names").map{ |day| content_tag(:th, day, :escape => false) }

      end #content_tag :tr
    end #content_tag :thead 

    content_tag(:tbody) do 

      month.collect do |week| 

        content_tag(:tr, :class => "week") do

          week.collect do |date| 

            content_tag(:td, :class => "day") do

              content_tag(:div, date.day, :class => (Date.today == current_date ? "today" : nil))

            end #content_tag :td
          end #week.collect
        end #content_tag :tr
      end #month.collect
    end #content_tag :tbody 
  end #content_tag :table
end #draw_calendar 
```

：：： 编辑 ：：：

所以这就是有效的。再次感谢 mu 太短了！

```
def draw_calendar(selected_month, month, current_date)
  tags = []

  content_tag(:table) do

    tags << content_tag(:thead, content_tag(:tr, I18n.t("date.abbr_day_names").collect { |name| content_tag :th, name}.join.html_safe))

    tags << content_tag(:tbody) do 

      month.collect do |week| 

        content_tag(:tr, :class => "week") do

          week.collect do |date| 

            content_tag(:td, :class => "day") do

              content_tag(:div, :class => (Date.today == current_date ? "today" : nil)) do

                date.day.to_s

              end #content_tag :div
            end #content_tag :td
          end.join.html_safe #week.collect
        end #content_tag :tr
      end.join.html_safe #month.collect
    end #content_tag :tbody 
    tags.join.html_safe
  end #content_tag :table
end #draw_calendar 
```

结尾

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-01T04:35:23.123

您的问题是[`content_tag`](http://api.rubyonrails.org/classes/ActionView/Helpers/TagHelper.html#method-i-content_tag)希望其块返回一个字符串，您可以跟踪代码以查看它使用[`capture`](https://github.com/rails/rails/blob/4f66586bbfacbce4c07f2b9d8d142be1bf6d4e5e/actionpack/lib/action_view/helpers/capture_helper.rb#L38)from`CaptureHelper`并且忽略从块返回的任何非字符串。

你需要把你`collect`的 s 变成这样的字符串：

```
content_tag(:tbody) do 
  month.collect do |week| 
    content_tag(:tr, :class => "week") do
      week.collect do |date|
        ..
      end.join.html_safe
    end
  end.join.html_safe
end 
```

例如，像这样的助手：

```
content_tag(:table) do
  content_tag(:thead) do
    content_tag(:tr) do
      [1,2,3,4].map do |i|
        content_tag(:td) do
          "pancakes #{i}"
        end
      end
    end
  end
end 
```

产生：

```
<table>
    <thead>
        <tr></tr>
    </thead>
</table> 
```

但添加`.join.html_safe`：

```
content_tag(:table) do
  content_tag(:thead) do
    content_tag(:tr) do
      [1,2,3,4].map do |i|
        content_tag(:td) do
          "pancakes #{i}"
        end
      end.join.html_safe
    end
  end
end 
```

产生预期的：

```
<table>
    <thead>
        <tr>
            <td>pancakes 1</td>
            <td>pancakes 2</td>
            <td>pancakes 3</td>
            <td>pancakes 4</td>
        </tr>
    </thead>
</table> 
```

# php - 下载.csv文件

> ID：10844280
> 
> 赞同：4
> 
> 时间：2012-06-01T04:08:31.487
> 
> 标签：php

当我们单击该按钮时，我们有一个按钮，所有数据都进入 csv 文件并下载此 csv 文件。csv文件创建但下载代码不起作用

```
$fp = fopen("file\customer-list.csv", "w");
fileName = "file\customer-list.csv";
$filePath = "file\customer-list.csv";
$fsize = filesize("file\customer-list.csv");

if(($_POST['csv_download_list']) == "cm")
{
    fwrite($fp, $csv);
    fclose($fp); 
    header('Content-Description: File Transfer');
    header('Content-Type: application/octet-stream');
    header("Content-Disposition: attachment; filename=\"$fileName\"");
    header('Content-Transfer-Encoding: binary');
    header('Expires: 0');
    header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
    header('Content-Length: ' . filesize($filePath));
    ob_clean();
    flush();
    $file = @fopen($filePath,"rb");
    if ($file) {
        while(!feof($file)) {
            print(fread($file, 1024*8));
            flush();
        }
    @fclose($file);
}
exit; 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-01T04:45:31.187

使用这个片段应该做你想做的事情。

```
<?php

    $file = 'sample.csv'; //path to the file on disk

    if (file_exists($file)) {

        //set appropriate headers
        header('Content-Description: File Transfer');
        header('Content-Type: application/csv');
        header('Content-Disposition: attachment; filename='.basename($file));
        header('Expires: 0');
        header('Cache-Control: must-revalidate');
        header('Pragma: public');
        header('Content-Length: ' . filesize($file));
        ob_clean();
        flush();

        //read the file from disk and output the content.
        readfile($file);
        exit;
    }
?> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T04:18:28.093

您不需要将文件保存到磁盘，只需在设置适当的标头后回显 csv 内容即可。试试下面的代码，会简单很多

```
$fileName = 'customer-list.csv';

header('Content-Description: File Transfer');
header('Content-Type: application/octet-stream');
header('Content-Disposition: attachment; filename=' . $fileName);
header('Content-Transfer-Encoding: binary');
header('Expires: 0');
header('Cache-Control: must-revalidate, post-check=0, pre-check=0');

echo $csv;
exit; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-19T06:31:21.233

```
Try...
function download($file) {
        if (!file_exists($file)) {
            return false;
        }
        header('Content-Type: application/csv');
        header('Content-Disposition: attachment; filename="' . basename($file) . '"');
        header('Content-Length: ' . filesize($file));
        readfile($file);
        exit();
    }
$file = "file.csv";
download($file); 
```

# c# - 可访问性不一致：参数类型比使用 WCF MEX 的方法更难访问

> ID：10844281
> 
> 赞同：2
> 
> 时间：2012-06-01T04:08:34.373
> 
> 标签：c#, wcf, web-services, mex

我正在处理一项任务，我收到此错误：

> 错误 1 ​​可访问性不一致：参数类型“MexWcfService.MyComplex”的可访问性低于方法“MexWcfService.Calculator.complex_sum(MexWcfService.MyComplex, MexWcfService.MyComplex)”E:\North Central College\CSC615\lab8\MexWcfService\MexWcfService\Program。 cs 75 26 MexWcfService

下面是我的代码。我的问题发生在 ..public MyComplex complex_sum(MyComplex a, MyComplex b) 的接口实现类中...

有人可以帮我吗？我对 C# 很陌生，更不用说带有元数据交换端点的 WCF。任何指针将不胜感激。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.ServiceModel;
using System.Runtime.Serialization;
using System.ServiceModel.Description;

namespace MexWcfService
{
    [DataContract]
    class MyComplex
    {
        int real;
        int im;
        public MyComplex(int real, int im)
        {
            Real = real;
            Im = im;
        }

        [DataMember]
        public int Real
        {
            get { return real; }
            set { real = value; }
        }
        [DataMember]
        public int Im
        {
            get { return im; }
            set { im = value; }
        }

    }
    [ServiceContract]
    interface ICalculator
    {
        [OperationContract]
        int mult(int a, int b);

        [OperationContract]
        List<int> fib(int n);

        [OperationContract]
        MyComplex complex_sum(MyComplex a, MyComplex b);
    }

    public class Calculator : ICalculator
    {

        public int mult(int a, int b)
        {
            int total = (a * b);
            return total;
        }
        public List<int> fib(int n)
        {
            List<int> list = new List<int>();
            for (int i = 0; i < n; i++)
            {
                int a = 0;
                int b = 1;
                for (int q = 0; q < i; q++)
                {
                    int temp = a;
                    a = b;
                    b = temp + b;
                }
                list.Add(a);
            }

            return list;
        }
        public MyComplex complex_sum(MyComplex a, MyComplex b)
        {
            int real = (a.Real + b.Real);
            int im = (a.Im + b.Im);

            MyComplex complex = new MyComplex(real, im);
            return complex;
        }

    }

    class Program
    {
        static void Main(string[] args)
        {
            ServiceHost host = new ServiceHost(typeof(Calculator), new Uri("http://localhost:50000/Math"));
            host.AddServiceEndpoint(typeof(Calculator), new BasicHttpBinding(), "mult");
            ServiceMetadataBehavior bhv = new ServiceMetadataBehavior();
            bhv.HttpGetEnabled = true;
            host.Description.Behaviors.Add(bhv);
            host.Open();
            Console.ReadLine();

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-01T04:18:03.050

您需要将“MyComplex”类声明为公共，因为您已在 Calculator 类的公共方法中使用了该类型。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-29T06:42:42.013

在将值作为参数传递时我遇到了类似的问题。我使参数类型的访问说明符与方法访问说明符相同。

# python - 如果键已经存在，则将值附加到键（python/jython）

> ID：10844282
> 
> 赞同：3
> 
> 时间：2012-06-01T04:08:38.033
> 
> 标签：python, dictionary, jython, key

我有一个需要编入字典的列表。该列表具有重复的（即将成为）具有不同值的键。如何找到这些键并将新值附加到它？

```
list=[q:1,w:2,q:7]
dictionary= q:1,7
            w:2 
```

提前致谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-01T04:13:16.677

在字典列表中创建值，以便您拥有：

```
dictionary = {'q': [1, 7],
              'w': [2]
} 
```

等等，即，您的单项值是单项列表。这意味着当你有另一个时`'q'`，你可以这样做：

```
dictionary['q'].append(5) 
```

除了这`dictionary['q']`将是`KeyError`您第一次这样做，所以请`setdefault`改用：

```
dictionary.setdefault('q', []).append(5) 
```

所以现在你只需要遍历输入列表中的每个键值对，并为它们中的每一个执行上述操作。

您可能还希望拥有`dictionary`：

```
dictionary = collections.defaultdict(list) 
```

所以你可以这样做`dictionary['q'].append(5)`——它的工作方式与上述相同，在所有方面都是如此。如果在您解析了原始列表并正确设置了所有值之后，您的字典将如下所示：

```
dictionary = {'q': [1, 7, 5]
              'w': [2, 8, 10, 80]
              'x': [3]
} 
```

而你尝试去做`print(dictionary['y'])`。你期望会发生什么？如果你使用普通的 dict and `setdefault`，这被认为是一个错误，所以它会引发`KeyError`. 如果您使用 a `defaultdict`，它将打印一个空列表。无论哪种方式对您的代码更有意义，都应该确定您的编码方式。

# asp.net-mvc - mvc4 捆绑包，它是如何工作的？

> ID：10844289
> 
> 赞同：9
> 
> 时间：2012-06-01T04:09:30.180
> 
> 标签：asp.net-mvc, bundle, asp.net-mvc-4

在 mvc4 中，他们使用包来调用所有脚本和 css 文件一次。据我所知，调用 js 和 cs 文件的顺序很重要。如果我使用捆绑包，我如何知道捆绑包中的 css 和 js 文件的顺序是否正确？我可以自定义订购吗？

我现在的日期选择器有问题，它的 css 文件/主题似乎没有正确加载，所以我想检查捆绑包如何订购 css/js 文件...谢谢:)

```
<link href="@System.Web.Optimization.BundleTable.Bundles.ResolveBundleUrl("~/Content/css")" rel="stylesheet" type="text/css" />
<link href="@System.Web.Optimization.BundleTable.Bundles.ResolveBundleUrl("~/Content/themes/base/css")" rel="stylesheet" type="text/css" />
<script src="@System.Web.Optimization.BundleTable.Bundles.ResolveBundleUrl("~/Scripts/js")"></script> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T04:23:01.983

您可以通过创建自己的包来控制“css”和“js”文件的顺序，如此[线程](https://stackoverflow.com/questions/9522407/asp-net-optimization-bundling)所示。

一件重要的事情是你必须更换

```
BundleTable.Bundles.RegisterTemplateBundles(); 
```

和

```
BundleTable.Bundles.EnableDefaultBundles(); 
```

在 Global.asax.cs

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-25T08:35:15.920

该问题的答案较晚，但 ASP.NET MVC 按字母顺序对文件进行排序。您还可以使用[IBundleOrderer](http://msdn.microsoft.com/en-us/library/system.web.optimization.ibundleorderer%28VS.110%29.aspx)接口手动订购脚本文件。

例如，使用这样的自定义 IBundleOrderer 实现：

```
Bundle myBundle = new Bundle("~/bundles/SiteScripts", new JsMinify());
myBundle.IncludeDirectory("~/Scripts/SiteScripts", "*.js");
myBundle.Orderer = new MyBundleOrderer();
bundles.Add(myBundle); 
```

MyBundleOrderer 从 web.config 文件中获取高优先级脚本：

```
public class MyBundleOrderer : IBundleOrderer
{
    public IEnumerable<System.IO.FileInfo> OrderFiles(BundleContext context, IEnumerable<FileInfo> files)
    {
        if (ConfigurationManager.AppSettings["HighPriorityScripts"] != null)
        {
            string[] highPriorityScripts = ConfigurationManager.AppSettings["HighPriorityScripts"].Split(',');
            List<FileInfo> listFiles = new List<FileInfo>(files);
            List<FileInfo> orderedFiles = new List<FileInfo>();

            // Add high priority files in order : 
            foreach (string highPriorityFile in highPriorityScripts)
            {
                FileInfo nextFileInfo = listFiles.Find(delegate(FileInfo arg) 
                                {
                                    return arg.Name == highPriorityFile;
                                }
                              );
                if (nextFileInfo != null)
                {
                    orderedFiles.Add(nextFileInfo);
                }
            }

            // Add remaining files to bundle : 
            foreach (FileInfo lowPriorityFile in listFiles)
            {
                if (!orderedFiles.Contains(lowPriorityFile))
                {
                    orderedFiles.Add(lowPriorityFile);
                }
            }

            return orderedFiles;
        }
        return files;
    }
} 
```

# tooltwist - Tooltwist 控制器 - 无法连接到 Git 存储库

> ID：10844290
> 
> 赞同：1
> 
> 时间：2012-06-01T04:09:41.897
> 
> 标签：tooltwist

尝试通过命令行运行 Tooltwist 控制器：

./ttc/config/bin/checkLaunchpad.sh controllerTest

终止脚本并显示以下错误：

准备网页设计项目'gmd'

检查缓存的 Git

检查 webdesign/gmd 的 GIT 缓存 (remote=git@github.com:twistresources/gmd-webdesign.git) /ControllerV8/payloads/webdesign-projects/gmd/git-repository...remote 设置正确

$ git fetch --all 错误：未找到存储库。致命：远程端意外挂断错误：无法获取来源

** ** 致命错误：无法更新 GIT 存储库：正在获取来源

**

*   删除 /ControllerV8/launchpads/controllerTest/build.xml。
*   删除 /ControllerV8/launchpads/controllerTest/CONFIG_SUMMARY。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-12T11:18:10.513

这是一个 git 错误，很可能是因为您无权访问 github 存储库。

在命令行上，尝试切换到存储库目录（/ControllerV8/payloads/webdesign-projects/gmd/git-repository）并直接运行 git 命令：

> $ git fetch --all

从那里您应该能够独立于 ToolTwist 控制器对 git 命令进行故障排除。

您可能需要检查您的登录详细信息和您正在使用的远程 URL，如[https://stackoverflow.com/posts/10373248](https://stackoverflow.com/posts/10373248/edit)中所述。如果您更改了 URL，请不要忘记返回并更新 Controller。

# asp.net - 无法让 net 4.5rc 工作

> ID：10844291
> 
> 赞同：0
> 
> 时间：2012-06-01T04:09:51.397
> 
> 标签：asp.net, .net, .net-4.5, visual-web-developer-2010, asp.net-4.5

我已经从[http://msdn.microsoft.com/en-us/netframework/hh854779.aspx](http://msdn.microsoft.com/en-us/netframework/hh854779.aspx)安装了 .net 4.5rc，因为我想在使用 visual visual web developer 2010 express 进行开发时使用新的空间功能。但是当我想在项目属性中将目标框架更改为 .net 4.5 时，它不存在。我检查了 C:\Windows\Microsoft.NET\Framework64 中的目录，可以看到没有 v4.5 文件夹，但 v4.0 目录已更新为与我安装 v4.5 时对应的时间戳。v4.0目录的版本为v4.0.30319。我在我的电脑上运行 Windows 7。

任何想法为什么我找不到 v4.5 ？

谢谢

托马斯

****更新*** 根据下面的评论，我发现我正在运行 4.5。对于阅读这篇文章的其他人，.net 4.5 替换了 .net 4.0 目录中的文件，但没有将目录重命名为 .net 4.5（有点混乱）。要检查您的程序集是否已更新，请检查例如的产品版本。system.dll（右键单击-> 详细信息）。根据这篇文章[http://www.west-wind.com/weblog/posts/2012/Mar/13/NET-45-is-an-inplace-replacement-for-NET-40](http://www.west-wind.com/weblog/posts/2012/Mar/13/NET-45-is-an-inplace-replacement-for-NET-40)如果产品版本高于 17000它正在运行 4.5。

# javascript - 如何在javascript中检查字符串开头是否有空格

> ID：10844294
> 
> 赞同：2
> 
> 时间：2012-06-01T04:10:03.737
> 
> 标签：javascript, string, whitespace

我有一个字符串如下

```
var str = "  Hello"; 
```

我可以得到字符串的第一个字符

```
var the_char=str.charAt(0);
alert(the_char)
if(the_char === " "){
    alert("first char of the query is space");
    return;
} 
```

但是没有弹出警报。如果字符串的第一个字符是空格，我想弹出警报。我该怎么做？

谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-01T04:13:36.177

有几种类型的空白。

正则表达式将让您测试多个...

```
alert(/^\s/.test(mystring)); 
```

该`^`字符将正则表达式锚定到字符串的开头。

将`\s`测试空格、制表符、回车、换行等。

* * *

[来自 MDN](https://developer.mozilla.org/en/JavaScript/Guide/Regular_Expressions)：

> \s 匹配单个空白字符，包括空格、制表符、换页符、换行符。相当于`[ \f\n\r\t\v​\u00A0\u1680​\u180e\u2000​\u2001\u2002​\u2003\u2004​\u2005\u2006​\u2007\u2008​\u2009\u200a​\u2028\u2029​\u2028\u2029​\u202f\u205f​\u3000]`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-08-03T18:26:19.710

由于 JavaScript 的 String.trim() 很好地摆脱了空白，我利用它创建了一个 startsWithSpace() 函数。

```
var startsWithSpace = function(string) {
  return string.indexOf(string.trim()) != 0;
}; 
```

在此实现中，新行被计为空白。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T04:14:10.660

它确实弹出：

[**JSFiddle**](http://jsfiddle.net/Paulpro/w82Wc)

您可能会抛出一个异常，并且不会在警报之间的某处被捕获，例如此代码中的访问`x.x`，即使`x`是`undefined`：

[**JSFiddle**](http://jsfiddle.net/Paulpro/w82Wc/1/)

您需要追踪并修复该错误，而不是您在此处发布的可以正常工作的代码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T04:17:41.853

```
function haswsatbeginning(str){var re=new RegExp('^[ \\s\u00A0]+','g');return((str+'').replace(re,'')!==str);}
var str = "  Hello";
alert(haswsatbeginning(str)); // alerts true

str = ('{^-^}');
alert(haswsatbeginning(str)); // alerts false 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-12-04T05:15:01.240

您可以[`startsWith`](https://tc39.es/ecma262/multipage/text-processing.html#sec-string.prototype.startswith)像这样检查字符串的第一个字符。

```
var str = "  Hello";
if (str.startsWith(" ")) {
    alert("first char of the query is space");
    return;
} 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-06-01T04:15:34.920

第一次警报后您缺少分号。如果您使用的是 Chrome 或 Firefox，则应始终在提问前检查控制台是否有错误。

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2012-06-01T04:13:41.817

**你在 if 循环中返回任何东西..它给出了语法错误，所以只有你没有弹出..**

**删除return语句**

```
var str = "  Hello";

var the_char=str.charAt(0);
         alert(the_char);
         if(the_char === " "){
              alert("first char of the query is space");
             } 
```

# xml - 根据 WinCE 版本，CAB 文件提取到不同的路径

> ID：10844296
> 
> 赞同：0
> 
> 时间：2012-06-01T04:10:08.963
> 
> 标签：xml, windows-ce, cab, handheld

我已经厌倦了许多方法来创建 CAB 文件以根据该手持设备中的操作系统安装到不同的路径。我知道我们可以修复条件以在文件“setup.xml”中创建选择性路径，但我不知道让它工作。你能建议我怎么做吗？

在此先感谢，斯托珀

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T13:09:54.360

您正在尝试执行 CAB 文件提取器`wceload.exe`无法直接执行的操作。如果您想根据一些运行时标准（例如您所在的操作系统版本或平台）安装到不同的目标位置，最好的办法是创建一个[自定义安装程序 DLL](http://msdn.microsoft.com/en-us/library/aa924308.aspx)，在提取后将文件移动到您的预期目标位置，然后清理原始目标。您甚至可以让它调整注册表，以便卸载仍会正确删除该应用程序。

# vim - 为什么`filetype on`在vim中检测不到文件类型？

> ID：10844301
> 
> 赞同：2
> 
> 时间：2012-06-01T04:11:16.037
> 
> 标签：vim, ubuntu-12.04

`vim`我没有加载任何东西就打开了：

```
vim -V -u NONE 
```

并输入了一行：

```
<?xml?> 
```

运行后：

```
:unlet did_load_filetypes
:filetype on 
```

我检查当前缓冲区的文件类型：

```
:set ft? 
```

它打印`filetype=`

* * *

如果我输入

```
:unlet did_load_filetypes
:filetype detect 
```

然后`:set ft?`将打印`filetype=xml`.

* * *

在 vim 文档中：

```
Detail: The ":filetype on" command will load one of these files:                                    
                Amiga       $VIMRUNTIME/filetype.vim                                                
                Mac         $VIMRUNTIME:filetype.vim                                                
                MS-DOS      $VIMRUNTIME\filetype.vim                                                
                RiscOS      Vim:Filetype                                                            
                Unix        $VIMRUNTIME/filetype.vim                                                
                VMS         $VIMRUNTIME/filetype.vim                                                
        This file is a Vim script that defines autocommands for the                                 
        BufNewFile and BufRead events.  If the file type is not found by the                        
        name, the file $VIMRUNTIME/scripts.vim is used to detect it from the                        
        contents of the file. 
```

* * *

`:filetype on`和 和有什么区别`:filetype detect`？
谢谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T04:26:35.110

从手册：

```
To detect the file type again:
    :filetype detect
Use this if you started with an empty file and typed text that makes it
possible to detect the file type. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T04:24:44.127

`$VIMRUNTIME/filetype.vim`仅定义`BufNewFile`和`BufRead`事件的自动命令。

运行`:filetype on`命令后，没有任何事件被触发，所以没有发生任何事情。要触发事件，您可以使用 保存它`:w filename`，然后使用 重新打开它`:e!`

我猜，`:filetype detect`运行一些代码来触发`BufNewFile`or`BufRead`事件。

# asp.net - Http缓存：缓存控制

> ID：10844302
> 
> 赞同：2
> 
> 时间：2012-06-01T04:11:21.600
> 
> 标签：asp.net, asp.net-mvc, http, caching

我正在提供图像，标题设置为：

```
Cache-Control : max-age=600000 
```

据我了解，该图像现在应该在接下来的 600000 秒内被视为可缓存。但是，我发现 Chrome 每次使用上次修改日期刷新页面时都会不断发出对图像的条件请求：

```
If-Modified-Since: Thu, 19 Apr 2012 14:51:08 GMT 
```

由于服务器上的图像没有更改，因此会发出 304 Not Modified 响应。

所以我的问题是如何防止 Chrome 一起发出条件请求？当我指示可以在接下来的 600000 秒内缓存图像时，为什么每次都需要检查服务器？我希望它只在 600000 秒后检查。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T04:45:25.773

浏览器发出条件请求的原因是我手动刷新浏览器。

当用户通过单击刷新按钮手动刷新页面（正常刷新）时，会发出条件请求，而与 max-age 无关。

当用户 Ctrl+单击刷新按钮（超级刷新）时，将发出无条件请求，而与 max-age 无关。

在正常导航（点击链接）下，当 max-age 有效时，浏览器不会发出任何请求。

# android - Android广播接收器与aidl

> ID：10844304
> 
> 赞同：8
> 
> 时间：2012-06-01T04:11:35.213
> 
> 标签：android, broadcastreceiver, aidl

使用aidl与广播接收器在应用程序之间发送消息（用于后台和前台处理）的优缺点是什么？我一直在使用接收器，这得益于带有意图过滤器的订阅模型以及易用性/可扩展性。将这种方法用于 vs AIDL 是否有缺点？

谢谢本

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2019-04-24T16:25:24.413

## 广播接收器

*   它是一种**异步**通信。
*   **复杂性低**- 这是进程之间通信的最简单方法。
*   **一对多通信**- 广播将消息同时传输给所有接收者。
*   Android OS**应用程序组件之间基于意图的通信**。
*   BroadcastReceiver.onReceive 始终运行在主线程（UI 线程）
*   通过 Intent 发送数据时，应小心将数据大小限制为几 KB。发送过多数据会导致系统抛出 TransactionTooLargeException 异常。 [https://developer.android.com/guide/components/activities/parcelables-and-bundles](https://developer.android.com/guide/components/activities/parcelables-and-bundles)

    Intent 可以传输高达 1Mb 的数据的说法肯定是错误的，500Kb 更准确。 [https://www.neotechsoftware.com/blog/android-intent-size-limit](https://www.neotechsoftware.com/blog/android-intent-size-limit) "

*   **安全性：广播在 Android 操作系统中传输**，可能会带来安全威胁。其他应用程序可以收听广播。不应传播任何敏感数据。

* * *

## **AIDL**

*   它是**同步和异步**进程间通信。默认情况下，AIDL 通信是同步的。为了使 AIDL 通信异步，使用“oneway”关键字。

*   **复杂性很高**- AIDL 接口向必须处理多线程的服务发送同时请求。

*   **一对一沟通**

*   使用底层 Android OS **Binder 框架**

*   需要编写线程安全的代码。

*   Binder 事务缓冲区有一个有限的固定大小，目前为 1Mb，由进程正在进行的所有事务共享。 [https://developer.android.com/reference/android/os/TransactionTooLargeException.html](https://developer.android.com/reference/android/os/TransactionTooLargeException.html) "

*   安全性：AIDL 允许开发人员将他们的接口暴露给其他应用程序。 **客户端和服务都同意以便相互通信**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-21T19:00:18.130

我认为一个缺点可能是电池寿命，因为让接收器不断收听会对电池电量造成压力。如果您在广播时不强调权限，BroadCastReceivers 可能存在安全漏洞，除非您在本地广播，那么您当然可以使用 LocalBroadcastManager。

对我来说，AIDL 似乎更安全，但更难抽象以在小组中普遍使用。当我想在另一个进程中进行许多不同的 API 调用时，我喜欢 AIDL 文件。它就像一个遥控器。使用 Broadcastreciever 可能更难直接调用自定义方法来完成工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-07-09T06:33:46.420

## AIDL

常见用途：

*   允许应用充当服务器，为一个或多个客户端（应用）的请求提供服务。

缺点：

*   ***相对于 Broadcasting***，它的实现更加复杂。
*   需要处理多线程，因为服务同时接收请求

## 广播

常见用途：

*   允许应用向一个或多个应用（侦听器）发送关于应用中发生的有趣事情的广播。

## 综上所述：

由于并非*一刀切*，每种方法都有其表现更好的用途。

*   例如，在以下情况下使用 AIDL 会更有效：

    – 需要同时为多个客户端提供服务的服务器

    – 客户端不仅会向服务器发送请求，还会消费返回的响应。

*   另一方面，在以下情况下使用广播更有效：

    – 一个主体需要通知他的观察者一个有趣的事件（不经常发生）。[与轮询模式不同]。

    – 一个应用程序需要通知另一个应用程序某事并且不使用返回的响应。

这两种方法都可以使用相同的方式来保护，即自定义 android 权限。这仅允许使用相同密钥签名的应用程序共享通信。

# php - 从 Dropbox 为数百名用户处理数千个文件的最佳方式

> ID：10844305
> 
> 赞同：0
> 
> 时间：2012-06-01T04:11:43.487
> 
> 标签：php, file-upload, file-processing

在基于 PHP 的网站上，用户将授予 Dropbox 应用程序使用其 Dropbox 文件夹的权限，然后用户将数千个文本文件放入此文件夹中，可能一次，可能连续，我需要处理，保存到数据库并显示如果用户登录到网站，则尽快获得结果（我想几乎实时处理和输出）。用最少的资源做到这一点的最佳技术是什么？首先，我需要为 30 人做这件事，但后来它必须立即与数百个用户一起工作。每个用户将拥有数千个文件，有些文件需要处理不止一次（它们正在增加），而其他文件则不需要。

我坚持我在无限循环中运行命令行 php 脚本，该脚本从 Dropbox 复制并定期为每个用户处理文件，但它似乎太慢了。对 Dropbox 服务器的 API 调用似乎很慢，因此连续调用可能不是最佳选择。
更好的方法可能是用户单击网站上的“导入”按钮，脚本仅获取当前单击该按钮的用户的文件。
你有什么建议？它不一定是 PHP。我有一个专门的服务器，但我也想听听托管友好的解决方案。

也许为我提供另一种简单、安全和快速的方法，将这些文件作为 Dropbox 方法获取到服务器。（我选择这样做，因为 Dropbox 对用户来说非常容易设置、使用，同步非常可靠、安全和快速。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-02T18:32:51.710

如果你安装了 GNU Parallel [http://www.gnu.org/software/parallel/](http://www.gnu.org/software/parallel/)你可以让它继续运行：

```
inotifywait -q -m -r -e MOVED_TO -e CLOSE_WRITE --format %w%f Dropbox_dir | parallel -u your_program 
```

每次上传到 Dropbox_dir 下的任何目录时，`your_program`都会在该文件上运行。`parallel`将确保每个 CPU 核心只运行 1 个作业，因此如果用户一次性上传 10000 个文件，您的服务器不会过载。

对于每个用户，您只需执行以下操作：

```
mkdir Dropbox_dir/user_folder 
```

并等待 Dropbox 将文件放在那里。

由于 Dropbox 正在使用`.dropbox.cache`，`.dropbox`它可能需要忽略其路径中的文件：

```
inotifywait ... | grep -v /.dropbox | parallel ... 
```

这也适用于其他文件传输方法（FTP/Samba/Rsync/scp 可能还有更多）。

您可以通过以下方式安装 GNU Parallel：

```
wget http://git.savannah.gnu.org/cgit/parallel.git/plain/src/parallel
chmod 755 parallel
cp parallel sem 
```

观看 GNU Parallel 的介绍视频以了解更多信息： [https ://www.youtube.com/playlist?list=PL284C9FF2488BC6D1](https://www.youtube.com/playlist?list=PL284C9FF2488BC6D1)

# iphone - reloadRowsAtIndexPath 上崩溃，但 reloadData 上没有

> ID：10844306
> 
> 赞同：9
> 
> 时间：2012-06-01T04:11:43.637
> 
> 标签：iphone, uitableview

我有一个 detailViewController 和一个 MasterViewController。MasterViewController 是我拥有 UITableView 的地方。我的表格中有两个部分，顶部是项目列表，底部有一个条目，@“添加新行”。

@“添加新行”转到可以编辑 UITextField 的 detailViewController。然后当按下保存时，我这样做：

```
- (IBAction)saveButtonPressed:(id)sender {
    if ([detailControllerDelegate respondsToSelector:@selector(setNewmap:)]) {
        if (self.textField.text.length > 0) {
            [self.textField endEditing:YES];
            [detailControllerDelegate setValue:self.textField.text forKey:@"newmap"];
            [self.navigationController popViewControllerAnimated:YES];
        }
    }
} 
```

然后在 MasterViewController 中，

```
- (void)setNewmap:(NSString *)newmap {
    if (![newmap isEqualToString:_newmap]) {
        _newmap = newmap;

        [self.maps addObject:_newmap];

        NSIndexPath *indexPath = [NSIndexPath indexPathForRow:[self.maps count] inSection:MAPS_SECTION];
        [self.tableView reloadRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] withRowAnimation:UITableViewRowAnimationAutomatic];
    }
} 
```

它在 reloadRowsAtIndexPaths 上崩溃并显示以下消息：

```
Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'attempt to delete row 3 from section 0 which only contains 2 rows before the update' 
```

我不确定为什么会调用它。我认为当您执行 tableViewUpdates 时，您会更新模型，我使用`self.maps addObject:newmap];`. 我记录了计数，计数是正确的。更新模型后，我认为您可以自由地重新加载行。

如果我不重新加载特定行，而只是在 tableView 上调用 reloadData，那么它不会崩溃。不知道这里有什么区别。就像我更新 self.maps 模型时没有更新 numberOfRowsInSection 委托方法一样。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-01-15T18:01:52.717

我知道自从提出这个问题以来已经有一段时间了，但我认为问题可能在于，reloadRowsAtIndexPaths 依赖于表中这些行的先前存在，并在内部删除、重新创建并将它们重新插入（在引擎盖下）。因此，当您在表中没有这些行的情况下调用特定的重新加载时，它会尝试删除不存在的行。

我在集合视图中遇到了同样的问题。完全重新加载起作用的原因是因为它刷新了整个事物并且不依赖于先前的状态，只依赖于数据源的当前状态。

这是我对这个问题的看法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:14:54.857

```
 - (NSInteger)tableView:(UITableView *)tableView 
     numberOfRowsInSection:(NSInteger)section{} 
```

在此方法中，您应该动态返回一个整数。在更新之前，您应该获取节中的新行数并返回它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-07-15T13:10:16.983

如果您重新加载不存在的行或一开始就从未存在过的行，就会发生这种情况。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T05:38:03.820

数组或字典（在本例中为 self.maps）的计数始终比其最后一项高 1，因为数组是零索引的：

`NSIndexPath *indexPath = [NSIndexPath indexPathForRow:[self.maps count]-1 inSection:MAPS_SECTION];`

# spring - Grails：SpringSecurity roleHierarchy 未按预期工作

> ID：10844309
> 
> 赞同：3
> 
> 时间：2012-06-01T04:12:43.373
> 
> 标签：spring, grails, spring-security, roles

我在 Grails 2.0.1 中使用 springsecurity 插件。我的角色层次结构和其他 s2 属性如下所示。

```
grails.plugins.springsecurity.userLookup.userDomainClassName = 'myApp.security.User'
grails.plugins.springsecurity.userLookup.authorityJoinClassName = 'myApp.security.UserRole'
grails.plugins.springsecurity.authority.className = 'myApp.security.Role'
grails.plugins.springsecurity.successHandler.defaultTargetUrl="/index"
grails.plugins.springsecurity.securityConfigType = "Annotation"

//grails.plugins.springsecurity.rejectIfNoRule = true
grails.plugins.springsecurity.roleHierarchy = '''
    ROLE_ADMIN > ROLE_OWNER_TRANSFER_PRIVILEGE
    ROLE_OWNER_TRANSFER_PRIVILEGE > ROLE_OWNER
    ROLE_OWNER > ROLE_USER_WRITE
''' 
```

根据文档，如果我的 @secured 注释允许 ROLE_USER_WRITE，那么所有其他角色也需要被允许访问。同样，如果我要使用标签，那么 ROLE_OWNER、ROLE_OWNER_TRANSFER_PRIVILEGE 和 ROLE_ADMIN 必须等于 true。但是，这不起作用，相反我不得不列出每个角色。我检查了调试日志，它看起来像这样

```
2012-06-01 09:28:14,802 [pool-5-thread-1] DEBUG hierarchicalroles.RoleHierarchyImpl  - setHierarchy() - The following role hierarchy was set: 
        ROLE_ADMIN > ROLE_OWNER_TRANSFER_PRIVILEGE
        ROLE_OWNER_TRANSFER_PRIVILEGE > ROLE_OWNER
        ROLE_OWNER > ROLE_USER_WRITE

2012-06-01 09:28:14,802 [pool-5-thread-1] DEBUG hierarchicalroles.RoleHierarchyImpl  - buildRolesReachableInOneStepMap() - From role ROLE_ADMIN one can reach r
ole ROLE_OWNER_TRANSFER_PRIVILEGE in one step.
2012-06-01 09:28:14,802 [pool-5-thread-1] DEBUG hierarchicalroles.RoleHierarchyImpl  - buildRolesReachableInOneStepMap() - From role ROLE_OWNER_TRANSFER_PRIVIL
EGE one can reach role ROLE_OWNER in one step.
2012-06-01 09:28:14,802 [pool-5-thread-1] DEBUG hierarchicalroles.RoleHierarchyImpl  - buildRolesReachableInOneStepMap() - From role ROLE_OWNER one can reach r
ole ROLE_USER_WRITE in one step.
2012-06-01 09:28:14,803 [pool-5-thread-1] DEBUG hierarchicalroles.RoleHierarchyImpl  - buildRolesReachableInOneOrMoreStepsMap() - From role ROLE_ADMIN one can 
reach [ROLE_OWNER_TRANSFER_PRIVILEGE, ROLE_USER_WRITE, ROLE_OWNER] in one or more steps.
... 
```

似乎正在创建角色层次结构，但在应用程序运行时它们并未强制执行。我做错了什么，如何根据文档让它工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T12:20:14.210

roleHierarchies 需要有一个完整的树结构才能工作。在我的问题中，我代表了一半的层次结构，结果证明它是一个不完整的树表示。就像是 ：

```
ROLE_ADMIN > ROLE_OWNER_TRANSFER_PRIVILEGE
ROLE_OWNER_TRANSFER_PRIVILEGE > ROLE_OWNER
ROLE_OWNER > ROLE_USER_WRITE
ROLE_USER > ROLE_READ 
```

这里 ROLE_USER 和 ROLE_USER_WRITE 是层次结构的断开连接的子树，并且可以理解，spring security 无法在解析权限时解决这个问题。

# android - 如何检查网络服务是否完成？

> ID：10844312
> 
> 赞同：0
> 
> 时间：2012-06-01T04:13:15.977
> 
> 标签：android, web-services

我有一个网络服务，可以下载大约 100 行数据并存储到本地数据库中。

然后，从数据库`sqlite`中，它将分配到差异列表中。

当数据从服务器下载到数据库时，我想从 Web 服务获得响应，无论是正在进行还是完成，并且应该返回状态。

我需要状态来执行一些操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T04:19:59.530

用于`AsyncTask`将信息从 Web 服务下载到应用程序，该应用程序将关注文档中的响应（即进度）：[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)

教程：[AsyncTask - 教程](http://www.vogella.com/articles/AndroidPerformance/article.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:40:44.087

以这样的方式设计它，以便在完成时广播 Intent。这是最干净的方法，并且专门将其广播到您的应用程序。

# java - 输出 JAXB 注释的 bean 属性并抑制元素标记

> ID：10844319
> 
> 赞同：1
> 
> 时间：2012-06-01T04:13:53.487
> 
> 标签：java, jaxb

我目前有以下两个 POJO 类。

```
@XmlRootElement(name = "user")
@XmlAccessorType(XmlAccessType.FIELD)
public class User {
    @XmlElement
    private String firstName;
    @XmlElement
    private String lastName;
    @XmlElement
    private String email;

    /* snipped getters, setters, and constructors. */
}

@XmlRootElement(name = "testobj")
@XmlAccessorType(XmlAccessType.FIELD)
public class TestObj {
    @XmlElement(name="data")
    private String someData;
    @XmlElement
    private User user;

    /* snipped getters, setters, and constructors. */
} 
```

**电流输出**

```
<testObj>
    <name>testObj</name>
    <user>
        <firstName>John</firstName>
        <lastName>Doe</lastName>
        <email>john@doe.org</email>
    </user>
</testObj> 
```

**期望的输出**

```
<testObj>
    <data>some data</data>
    <firstName>John</firstName>
    <lastName>Doe</lastName>
    <email>john@doe.org</email>
</testObj> 
```

有什么方法可以实现所需的输出？嵌套用户对象的基本原理是有这样的类型层次结构：

```
User
  |-> Customer
        |-> SpecialCustomer

DetailedUser
  |-> DetailedCustomer
        |-> DetailedSpecialCustomer 
```

这六种类型专门用于保存将作为 API 调用结果输出的数据。他们没有逻辑。应用程序内部使用了另一组更复杂的类型，以及将内部应用程序类型转换为 api 输出类型的一组工厂。API 输出类型使用 JAXB 和 Jackson 序列化为 XML 和 JSON。为了避免重复代码，我想使用组合将简单的 User|Customer|SpecialCustomer 嵌入到复杂类型中，如下所示：

```
@XmlRootElement(name = "user")
@XmlAccessorType(XmlAccessType.FIELD)
public class DetailedUser {
    @Xml[...?]
    private User user;
    @XmlElement
    private String otherProperty;
    @XmlElement
    private String extraStuff;

    /* snipped getters, setters, and constructors. */
} 
```

当通过 JAXB 输出DetailedUser 时，它应该如下所示：

```
<user>
    <firstName>John</firstName>
    <lastName>Doe</lastName>
    <email>john@doe.org</email>
    <otherProperty>something</otherProperty>
    <extraStuff></extraStuff>
</user> 
```

对象树将通过 Spring MVC 使用内容协商以适当的格式输出。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T10:09:50.570

**注意：** 我是[**EclipseLink JAXB (MOXy)**](http://www.eclipse.org/eclipselink/moxy.php)负责人，也是[**JAXB 2 (JSR-222)**](http://jcp.org/en/jsr/detail?id=222)专家组的成员。

你可以使用 MOXy 的`@XmlPath(".")`扩展：

**测试对象**

```
package forum10844319;

import javax.xml.bind.annotation.*;
import org.eclipse.persistence.oxm.annotations.XmlPath;

@XmlRootElement(name = "testobj")
@XmlAccessorType(XmlAccessType.FIELD)
public class TestObj {
    @XmlElement(name="data")
    private String someData;
    @XmlPath(".")
    private User user;

    /* snipped getters, setters, and constructors. */
} 
```

**用户**

```
package forum10844319;

import javax.xml.bind.annotation.*;

@XmlRootElement(name = "user")
@XmlAccessorType(XmlAccessType.FIELD)
public class User {
    @XmlElement
    private String firstName;
    @XmlElement
    private String lastName;
    @XmlElement
    private String email;

    /* snipped getters, setters, and constructors. */
} 
```

**jaxb.properties**

要将 MOXy 指定为您的 JAXB 提供程序，您需要包含一个`jaxb.properties`在与您的域模型相同的包中调用的文件：

```
javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory 
```

**演示**

```
package forum10844319;

import java.io.File;
import javax.xml.bind.*;

public class Demo {

    public static void main(String[] args) throws Exception {
        JAXBContext jc = JAXBContext.newInstance(TestObj.class);

        Unmarshaller unmarshaller = jc.createUnmarshaller();
        File xml = new File("src/forum10844319/input.xml");
        TestObj testObj = (TestObj) unmarshaller.unmarshal(xml);

        Marshaller marshaller = jc.createMarshaller();
        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
        marshaller.marshal(testObj, System.out);
    }

} 
```

**输入.xml/输出**

```
<testobj>
    <data>some data</data>
    <firstName>John</firstName>
    <lastName>Doe</lastName>
    <email>john@doe.org</email>
</testobj> 
```

# objective-c - CALayer not drawing within bounds of custom UIView

> ID：10844321
> 
> 赞同：0
> 
> 时间：2012-06-01T04:14:23.280
> 
> 标签：objective-c, uiview, calayer

I've created a custom UIView where I'll eventually have 10 zones a user can tap. When a zone is tapped, I want to overlay a low-alpha layer to indicate their selection.

Unfortunately, when I tap a section, the CALayer I've created is drawing outside the bounds of my custom view. It seems as though both my x and y coordinates are off.

Here is the drawRect method inside my custom view:

```
- (void)drawRect:(CGRect)dirtyRect
{
    if (touchPoint.x > 0 || touchPoint.y > 0){
        CGRect bounds = [self bounds];

        float widthOfArea = bounds.size.width / 10.0;

        float sectionNumber = round(touchPoint.x / widthOfArea);

        touchOverlayLayer = [[CALayer alloc] init];

        [touchOverlayLayer setBounds:CGRectMake(0.0, 0.0, widthOfArea, bounds.size.height)];

        [touchOverlayLayer setPosition:CGPointMake(widthOfArea * sectionNumber, self.bounds.origin.y)];

        UIColor *greyish = [UIColor colorWithRed:0.5 green:0.5 blue:0.5 alpha:.5];

        CGColorRef cggreyish = [greyish CGColor];

        [touchOverlayLayer setBackgroundColor:cggreyish];

        [[self layer] addSublayer:touchOverlayLayer];
    }
} 
```

And the resulting display is attached.![Layers not drawing in the correct place](../Images/b42170cdadc7520f79f03b78f8fb5cf6.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T05:49:28.680

setPosition puts the anchor point of your layer at the position. The default anchor point of a layer is the centre. This ties up pretty well with what you're seeing.

You can set the anchor point to 0,0 then set the position, and you should be fine.

Here's a brief explanation of anchor points and so on.

It is a bit tricky. The frame, bounds and position are all tied together. In your situation, you could just set the frame of the layer and you'd be fine, the anchor point is more typically used for when you are going to rotate or otherwise transform the layer - it becomes the origin of the transformation. If you change the anchor point it moves the layer, but then you're setting the position so it moves it back again. The docs are a bit weak on this but there are plenty of examples on the web.

The anchor point becomes the location that everything happens around. So if you set the position, the layer moves so that it's anchor point is at that position. If you rotate the layer, it rotates around the anchor point, etc.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T06:01:58.527

Just add only this line

touchOverlayLayer.anchorPoint=CGPointMake(0, 0);

default anchorPoint is 0.5,0.5 means on the centre of the layer.

# javascript - 我可以在 css 或 javascript 中从一个元素到另一个元素画一条线吗？

> ID：10844326
> 
> 赞同：1
> 
> 时间：2012-06-01T04:15:11.503
> 
> 标签：javascript, css

我的网站由三列元素组成，可以上下滚动。用户在每一列中选择一个，每一列中的元素由线连接。但是，我的问题是：如何跟踪页面上元素的绝对位置以绘制数组的端点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T04:24:01.487

使用 jQuery：

```
var left = $('css-selector').offset().left;
var top = $('css-selector').offset().top; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T04:21:31.010

With [`jQuery.offset()`](http://api.jquery.com/offset/)：获取相对于文档的当前坐标 [...]。

# php - 如何预防潜在的 XSS

> ID：10844327
> 
> 赞同：0
> 
> 时间：2012-06-01T04:15:26.843
> 
> 标签：php, browser, xss, shared-libraries

我在阅读 XSS 时发现检查 IP 和用户代理是防止 cookie 窃取的好方法。我在 SO 上进行了测试，我发现 SO 在更改他们的 IP 或用户代理后不会注销人们，但是当我复制**所有**标头并使用另一个程序将它们发送给 SO 时，它把我送出去了。当 IP 和用户代理不重要并且所有 http 标头都相同时，它如何检测到某些不同之处？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:29:24.447

例如 SE 使用了更多的方式 auth。SE 将类似于 cookie 的令牌保存为子域上的离线数据，并将其发送到以某种方式验证数据的服务器。然后你会得到一个发送到登录站点的临时令牌，你就会登录。

我希望这会有所帮助。

# python - Python在函数内返回eval值？

> ID：10844331
> 
> 赞同：0
> 
> 时间：2012-06-01T04:16:08.567
> 
> 标签：python, function, eval

```
def input():
    h = eval(input("Enter hours worked: \n"))
    return h

def main():
    hours = input()
    print(hours)  
main() 
```

如您所知，我是 Python 新手。我不断收到：“TypeError：input() 正好需要 1 个参数（给定 0）。” 任何帮助/解释将不胜感激 - 非常感谢大家！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T04:25:28.283

您定义了一个`input`在第一行调用的函数，该函数接受零参数，然后当您`input`稍后调用该函数时（我假设您打算调用 Python 附带的函数并且可能不小心覆盖了该函数），您将传递一个变量。

```
# don't try to override the buil-in function
def input_custom():
    h = eval(input("Enter hours worked: \n"))
    return h

def main():
    hours = input_custom()
    print(hours)  
main() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T04:20:18.357

`input()`是内置 Python 函数的名称。

在您的代码中，您覆盖它，这绝对不是一个好主意。尝试将您的函数命名为其他名称：

```
def get_hours():
    h = eval(input("Enter hours worked: \n"))
    return h

def main():
    hours = get_hours()
    print(hours)  

main() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T04:27:23.910

使用不同的名称更改输入函数，因为输入是 python 中的一种方法。

```
def inputx():
     h = eval(input("Enter hours worked: \n"))
     return h

 def main():
     hours = inputx()
     print(hours)

 main() 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-01T04:28:10.083

我无法复制您的确切错误-相反，我得到：

```
TypeError: input() takes no arguments (1 given) 
```

但是，您的错误很可能是由同一件事引起的 - 当您命名您的函数时`input`，您会隐藏内置`input`：Python 无法同时看到两者，即使您不希望出现提示。如果您`myinput`改用自己的名称，Python 可以区分：

```
def myinput():
    h = eval(input("Enter hours worked: \n"))
    return h

def main():
    hours = myinput()
    print(hours)  
main() 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-08-15T20:24:36.157

其他答案涵盖了很多..我只想添加一些想法。首先，您的函数名称输入覆盖了 python 内置函数

所以首先

```
def my_input():
    return input("Enter hours worked: ")
print my_input() 
```

这应该足够了。

**概念：**

现在，如果您使用的是**Python 2.X**版本，则不需要 eval。

*input()：*如果输入表达式被 python 识别，Python 默认会评估输入表达式。

*raw_input()：*这里的输入被视为需要评估的字符串。

在**Python3.x 的情况下：**

*input()*的行为类似于*raw_input()*并且*raw_input()*被删除。

所以你的代码应该是

```
def my_input():
    return float(input("Enter hours worked: "))
print(my_input()) 
```

这是一种更安全、更好的输入方式，也告诉我们为什么不推荐使用 eval。

> 你不知道什么会从那扇门进来。

谢谢你。

# node.js - 对运行一个非常简单的 socket.io 示例感到困惑？

> ID：10844334
> 
> 赞同：2
> 
> 时间：2012-06-01T04:16:44.247
> 
> 标签：node.js, socket.io

这绝对是一个非常幼稚的问题，因为我是 node.js 的新手。

我只是从网站上运行第一个简单的 socket.io 示例：http: [//socket.io/#how-to-use](http://socket.io/#how-to-use)

客户端：index.html：

```
<script src="/socket.io/socket.io.js"></script>
<script>
  var socket = io.connect('http://localhost');
  socket.on('news', function (data) {
    console.log(data);
    socket.emit('my other event', { my: 'data' });
  });
</script> 
```

服务器：app.js：

```
var app = require('http').createServer(handler)
  , io = require('socket.io').listen(app)
  , fs = require('fs')

app.listen(8080);

function handler (req, res) {
  fs.readFile(__dirname + '/index.html',
  function (err, data) {
    if (err) {
      res.writeHead(500);
      return res.end('Error loading index.html');
    }

    res.writeHead(200);
    res.end(data);
  });
}

io.sockets.on('connection', function (socket) {
  socket.emit('news', { hello: 'world' });
  socket.on('my other event', function (data) {
    console.log(data);
  });
}); 
```

根据我的理解，我假设会发生什么情况是，当服务器收到来自客户端的请求时，它会将客户端发出的数据输出`{my: 'data'}`到控制台，它确实如此，但它也应该将数据发送给客户端`{hello: 'world'}`，当客户端接收到时，它也应该将数据记录到控制台？在终端控制台上，我只看到`{my: 'data'}`每个请求。服务器是否没有正确地将数据发送回客户端，或者我看错了地方？

显然我认为我对一些非常基本的东西感到困惑，但是当告诉客户端在客户端javascript中执行console.log时，输出应该显示在执行服务器程序的终端上还是其他东西上？如果我需要检查客户端控制台上的输出，我应该在浏览器中的哪里寻找？

希望有人能告诉我这个基本概念，我搜索了很多，但我相信这太简单了，大多数人只是假设人们知道它，所以我没有得到太多。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T06:29:26.983

在 Chrome 浏览器窗口中的任何位置 -> 右键单击​​菜单 -> 检查元素。这将在主窗口的底部弹出一个窗口。从选项卡列表“元素”、“资源”、“网络”...导航到“控制台”。所有控制台日志都显示在此处。

# c# - Asp.NET MVC 中的部分类冲突

> ID：10844336
> 
> 赞同：1
> 
> 时间：2012-06-01T04:17:03.183
> 
> 标签：c#, asp.net, asp.net-mvc

我有一个数据模型——由 Linq2SQL 类图工具创建——在另一个程序集（类库项目）中，我创建了另一个

这里是：

```
public partial class Customer : INotifyPropertyChanging, INotifyPropertyChanged
{

    private static PropertyChangingEventArgs emptyChangingEventArgs = new PropertyChangingEventArgs(String.Empty);
    private int _ID;
    private string _FirstName;
    private string _LastName;
    private string _Email;
    private System.DateTime _DOB;
    private string _PhoneNumber;
    private bool _Activated;
    private bool _Suspended;
            //..
} 
```

在我的 Web 项目中，我创建了另一个与 partial 同名的项目：

```
 public partial class Customer
  {
    //It will have MetadataTypeAttribute for validation.
  } 
```

我为它们使用相同的命名空间，所以它们应该没问题，但是，当我使用 Customer 对象将视图设置为强类型时：

```
<%@ Control Language="C#" Inherits="System.Web.Mvc.ViewUserControl<Customer>" %> 
```

我收到此错误：

> [System.Runtime.CompilerServices.CompilerGlobalScopeAttribute()] 第 184 行：公共类 views_register_registrationformcontrol_ascx：System.Web.Mvc.ViewUserControl {

详细错误截图：http: [//i.imgur.com/Zrtx7.png](http://i.imgur.com/Zrtx7.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T04:24:01.217

问题是您不能跨多个程序集拥有部分类：

检查这个答案

[是否可以让不同程序集中的两个部分类代表同一个类？](https://stackoverflow.com/q/647385/1268570)

# eclipse - 是否可以在 RAP Eclipse 中产生幻灯片效果？

> ID：10844338
> 
> 赞同：0
> 
> 时间：2012-06-01T04:17:19.920
> 
> 标签：eclipse, eclipse-rcp, eclipse-rap

我正在建立一个关于服务器管理的演示站点，我有以下要求： - 用户可以在输入IP一定范围内搜索服务器，该站点将分别列出可用服务器的所有信息（服务器名称，IP，状态，使用情况...）。我使用了 TableViewer 来显示搜索结果，并且还使用了分页。我有 2 个按钮 Next 和 Previous 在页面之间移动。我面临的问题是如何在具有幻灯片效果的页面之间自动移动（类似于我们看到相册的照片）。当我单击 Next 和 Previous 按钮时，效果必须相同。不知道RAP能不能做，怎么做？我很感激任何建议或答案。非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-04T10:05:22.113

请参阅 RAP 论坛中的答案：http: [//www.eclipse.org/forums/index.php/t/357538/](http://www.eclipse.org/forums/index.php/t/357538/)

# c# - .NET - 以高质量保存图标

> ID：10844344
> 
> 赞同：5
> 
> 时间：2012-06-01T04:17:51.190
> 
> 标签：c#, .net, icons

我正在使用 提取外部应用程序的图标`[ExtractIconEx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms648069%28v=vs.85%29.aspx)`，但是当我尝试使用对象的`[Save()](http://msdn.microsoft.com/en-us/library/system.drawing.icon.save%28v=vs.80%29.aspx)`方法保存图标时`[Icon](http://msdn.microsoft.com/en-us/library/system.drawing.icon%28v=vs.80%29.aspx)`，图标以低质量保存，例如，图标的颜色深度似乎低于预期。

存储在应用程序中的图标肯定具有更高的质量，因为当我使用 保存图标时，保存`ico.ToBitmap().Save("C:\\out.bmp")`的位图具有完整的质量/颜色深度。

那么，如何保存质量正确的图标？

# c++ - 未解决的窗口外部

> ID：10844347
> 
> 赞同：7
> 
> 时间：2012-06-01T04:18:17.443
> 
> 标签：c++, unresolved-external

我正在使用 Visual Studio x64 Win64 命令提示符（2010）来编译我的代码。我遇到了一些错误，我通常知道如何在 Visual Studio 中修复，但不仅仅是命令行。

输出：

```
Microsoft (R) C/C++ Optimizing Compiler Version 16.00.40219.01 for x64
Copyright (C) Microsoft Corporation.  All rights reserved.

main.cpp
Microsoft (R) Incremental Linker Version 10.00.40219.01
Copyright (C) Microsoft Corporation.  All rights reserved.

/out:main.exe
main.obj
main.obj : error LNK2019: unresolved external symbol __imp_DispatchMessageA referenced in function WinMain
main.obj : error LNK2019: unresolved external symbol __imp_TranslateMessage referenced in function WinMain
main.obj : error LNK2019: unresolved external symbol __imp_PeekMessageA referenced in function WinMain
main.obj : error LNK2019: unresolved external symbol __imp_ShowWindow referenced in function WinMain
main.obj : error LNK2019: unresolved external symbol __imp_CreateWindowExA referenced in function WinMain
main.obj : error LNK2019: unresolved external symbol __imp_RegisterClassExA referenced in function WinMain
main.obj : error LNK2019: unresolved external symbol __imp_LoadCursorA referenced in function WinMain
main.obj : error LNK2019: unresolved external symbol __imp_DefWindowProcA referenced in function "__int64 __cdecl WindowProc(struct HWND__ *,unsigned int,unsigned __int64,__int64)" (?WindowProc@@YA_JPEAUHWND__@@I_K_J@Z)
main.obj : error LNK2019: unresolved external symbol __imp_PostQuitMessage referenced in function "__int64 __cdecl WindowProc(struct HWND__ *,unsigned int,unsigned __int64,__int64)" (?WindowProc@@YA_JPEAUHWND__@@I_K_J@Z)
main.exe : fatal error LNK1120: 9 unresolved externals 
```

我的代码：

```
// include the basic windows header files and the Direct3D header file
#include <windows.h>
#include <windowsx.h>
#include <d3d9.h>

// include the Direct3D Library file
#pragma comment (lib, "d3d9.lib")

// global declarations
LPDIRECT3D9 d3d;    // the pointer to our Direct3D interface
LPDIRECT3DDEVICE9 d3ddev;    // the pointer to the device class

// function prototypes
void initD3D(HWND hWnd);    // sets up and initializes Direct3D
void render_frame(void);    // renders a single frame
void cleanD3D(void);    // closes Direct3D and releases memory

// the WindowProc function prototype
LRESULT CALLBACK WindowProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam);

// the entry point for any Windows program
int WINAPI WinMain(HINSTANCE hInstance,
                   HINSTANCE hPrevInstance,
                   LPSTR lpCmdLine,
                   int nCmdShow)
{
    HWND hWnd;
    WNDCLASSEX wc;

    ZeroMemory(&wc, sizeof(WNDCLASSEX));

    wc.cbSize = sizeof(WNDCLASSEX);
    wc.style = CS_HREDRAW | CS_VREDRAW;
    wc.lpfnWndProc = WindowProc;
    wc.hInstance = hInstance;
    wc.hCursor = LoadCursor(NULL, IDC_ARROW);
    wc.hbrBackground = (HBRUSH)COLOR_WINDOW;
    wc.lpszClassName = "WindowClass";

    RegisterClassEx(&wc);

    hWnd = CreateWindowEx(NULL,
                          "WindowClass",
                          "Our First Direct3D Program",
                          WS_OVERLAPPEDWINDOW,
                          300, 300,
                          800, 600,
                          NULL,
                          NULL,
                          hInstance,
                          NULL);

    ShowWindow(hWnd, nCmdShow);

    // set up and initialize Direct3D
    initD3D(hWnd);

    // enter the main loop:

    MSG msg;

    while(TRUE)
    {
        while(PeekMessage(&msg, NULL, 0, 0, PM_REMOVE))
        {
            TranslateMessage(&msg);
            DispatchMessage(&msg);
        }

        if(msg.message == WM_QUIT)
            break;

        render_frame();
    }

    // clean up DirectX and COM
    cleanD3D();

    return msg.wParam;
}

// this is the main message handler for the program
LRESULT CALLBACK WindowProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)
{
    switch(message)
    {
        case WM_DESTROY:
            {
                PostQuitMessage(0);
                return 0;
            } break;
    }

    return DefWindowProc (hWnd, message, wParam, lParam);
}

// this function initializes and prepares Direct3D for use
void initD3D(HWND hWnd)
{
    d3d = Direct3DCreate9(D3D_SDK_VERSION);    // create the Direct3D interface

    D3DPRESENT_PARAMETERS d3dpp;    // create a struct to hold various device information

    ZeroMemory(&d3dpp, sizeof(d3dpp));    // clear out the struct for use
    d3dpp.Windowed = TRUE;    // program windowed, not fullscreen
    d3dpp.SwapEffect = D3DSWAPEFFECT_DISCARD;    // discard old frames
    d3dpp.hDeviceWindow = hWnd;    // set the window to be used by Direct3D

    // create a device class using this information and the info from the d3dpp stuct
    d3d->CreateDevice(D3DADAPTER_DEFAULT,
                      D3DDEVTYPE_HAL,
                      hWnd,
                      D3DCREATE_SOFTWARE_VERTEXPROCESSING,
                      &d3dpp,
                      &d3ddev);
}

// this is the function used to render a single frame
void render_frame(void)
{
    // clear the window to a deep blue
    d3ddev->Clear(0, NULL, D3DCLEAR_TARGET, D3DCOLOR_XRGB(0, 40, 100), 1.0f, 0);

    d3ddev->BeginScene();    // begins the 3D scene

    // do 3D rendering on the back buffer here

    d3ddev->EndScene();    // ends the 3D scene

    d3ddev->Present(NULL, NULL, NULL, NULL);   // displays the created frame on the screen
}

// this is the function that cleans up Direct3D and COM
void cleanD3D(void)
{
    d3ddev->Release();    // close and release the 3D device
    d3d->Release();    // close and release Direct3D
} 
```

我想我很清楚为什么会发生这种情况，但我不知道如何解决它。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-06-01T04:22:23.253

您缺少 user32.lib

尝试在#includes 之后添加此代码

```
#pragma comment(lib,"user32.lib") 
```

# javascript - 如何通过 JavaScript 更改 h:outputText 值？

> ID：10844349
> 
> 赞同：6
> 
> 时间：2012-06-01T04:18:38.093
> 
> 标签：javascript, jsf

我已经用 2 个 inputText 进行了测试，例如它运行良好

```
var tdate = document.getElementById('txtDate');    //h:inputText
var tdt = document.getElementById('txtDateTime');  //h:inputText

tdate.onchange = function(){
  tdt.value = tdate.value;
}; 
```

如何更改“ tdt” - h:outputText 的值？

```
var tdate = document.getElementById('txtDate');    //h:inputText
var tdt = document.getElementById('txtDateTime');  //h:outputText 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T04:31:15.833

查看生成的 HTML 源代码。在浏览器中右键单击页面并*查看源代码*。您将看到`<h:outputText>`渲染一个 HTML`<span>`元素，其值在其正文中。要`<span>`在 JavaScript 中更改 a 的主体，您需要操作[`innerHTML`](https://developer.mozilla.org/en/DOM%3aelement.innerHTML).

```
tdt.innerHTML = "new value"; 
```

# google-app-engine - 无法使用 gwt 传递地图

> ID：10844350
> 
> 赞同：1
> 
> 时间：2012-06-01T04:18:50.560
> 
> 标签：google-app-engine, gwt

当我尝试通过地图时，我会遇到最新的 gwt 和 gae sdks 错误。使用的语法是：

MyService Map getSessionData() 抛出异常；

MyServiceAsync void getSessionData(AsyncCallback asyncCallback) 抛出 IllegalArgumentException；

```
Error:
java.lang.NoClassDefFoundError: javax/validation/Path
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:791)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)
    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
    at com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:176)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    at java.lang.Class.forName0(Native Method)
    at java.lang.Class.forName(Class.java:264)
    at com.google.gwt.user.server.rpc.SerializationPolicyLoader.loadFromStream(SerializationPolicyLoader.java:196)
    at com.google.gwt.user.server.rpc.RemoteServiceServlet.loadSerializationPolicy(RemoteServiceServlet.java:90)
    at com.google.gwt.user.server.rpc.RemoteServiceServlet.doGetSerializationPolicy(RemoteServiceServlet.java:293)
    at com.google.gwt.user.server.rpc.RemoteServiceServlet.getSerializationPolicy(RemoteServiceServlet.java:157)
    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.prepareToRead(ServerSerializationStreamReader.java:455)
    at com.google.gwt.user.server.rpc.RPC.decodeRequest(RPC.java:237)
    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:206)
    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)
    at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)
    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:60)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:122)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)
    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)
    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:78)
    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:369)
    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
    at org.mortbay.jetty.Server.handle(Server.java:326)
    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)
    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)
    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)
    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
Caused by: java.lang.ClassNotFoundException: javax.validation.Path
    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
    at com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:176)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    ... 54 more

Jun 01, 2012 4:04:01 AM com.google.appengine.tools.development.ApiProxyLocalImpl log
SEVERE: javax.servlet.ServletContext log: Exception while dispatching incoming RPC call
java.lang.NoClassDefFoundError: javax/validation/Path
    at java.lang.ClassLoader.defineClass1(Native Method)
    at java.lang.ClassLoader.defineClass(ClassLoader.java:791)
    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)
    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
    at com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:176)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    at java.lang.Class.forName0(Native Method)
    at java.lang.Class.forName(Class.java:264)
    at com.google.gwt.user.server.rpc.SerializationPolicyLoader.loadFromStream(SerializationPolicyLoader.java:196)
    at com.google.gwt.user.server.rpc.RemoteServiceServlet.loadSerializationPolicy(RemoteServiceServlet.java:90)
    at com.google.gwt.user.server.rpc.RemoteServiceServlet.doGetSerializationPolicy(RemoteServiceServlet.java:293)
    at com.google.gwt.user.server.rpc.RemoteServiceServlet.getSerializationPolicy(RemoteServiceServlet.java:157)
    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.prepareToRead(ServerSerializationStreamReader.java:455)
    at com.google.gwt.user.server.rpc.RPC.decodeRequest(RPC.java:237)
    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:206)
    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)
    at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)
    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:60)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:122)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)
    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)
    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:78)
    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:369)
    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
    at org.mortbay.jetty.Server.handle(Server.java:326)
    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)
    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)
    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)
    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
Caused by: java.lang.ClassNotFoundException: javax.validation.Path
    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
    at com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:176)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
    ... 54 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T04:39:06.143

似乎 GWT 2.4 需要一个`javax.validation`类，但它不提供它们：[http ://code.google.com/p/google-web-toolkit/issues/detail?id=7271](http://code.google.com/p/google-web-toolkit/issues/detail?id=7271)

尝试`javax.validation.validation-api`手动添加到您的项目中。你可以在[这里](http://repo1.maven.org/maven2/javax/validation/validation-api/1.0.0.GA/validation-api-1.0.0.GA.jar)找到它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T11:59:32.420

我通过添加`gwt-servlet-deps.jar`到部署文件夹 ( `war/WEB-INF/lib`) 解决了这个问题。它已经在构建路径中，但由于某种原因没有复制到部署文件夹中。

# vb.net - 从数据库中读取并填充 DataTable

> ID：10844358
> 
> 赞同：8
> 
> 时间：2012-06-01T04:20:28.717
> 
> 标签：vb.net, ado.net, datatable

我通过 a 获取一组数据`DataReader`并分配给一个字符串。现在我需要`DataTable`用查询字段填充列。`DataTable`连接到网格以显示填充的数据。

查询是：

```
strSQL = "SELECT EmpCode,EmpID,EmpName FROM dbo.Employee 
```

`DataTable`列是`EmpCode, EmpID, EmpName`。

我需要阅读查询并分配给表格的列`DataTable`并填充表格。我已经尝试如下，但我没有得到正确的输出，

```
Me.DtShifts.Tables("NonAllocated").Clear()
Me.DtShifts.Tables("NonAllocated").Load(dr) 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-06-01T07:00:12.410

连接对象仅用于说明。DataAdapter 是关键位：

```
Dim strSql As String = "SELECT EmpCode,EmpID,EmpName FROM dbo.Employee"
Dim dtb As New DataTable
Using cnn As New SqlConnection(connectionString)
  cnn.Open()
  Using dad As New SqlDataAdapter(strSql, cnn)
    dad.Fill(dtb)
  End Using
  cnn.Close()
End Using 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2018-06-19T19:35:33.637

```
Private Function LoaderData(ByVal strSql As String) As DataTable
    Dim cnn As SqlConnection
    Dim dad As SqlDataAdapter

    Dim dtb As New DataTable
    cnn = New SqlConnection(My.Settings.mySqlConnectionString)
    Try
        cnn.Open()
        dad = New SqlDataAdapter(strSql, cnn)
        dad.Fill(dtb)
        cnn.Close()
        dad.Dispose()
    Catch ex As Exception
        cnn.Close()
        MsgBox(ex.Message)
    End Try
    Return dtb
End Function 
```

# cakephp - CAKEPHP：index.ctp 不工作

> ID：10844362
> 
> 赞同：0
> 
> 时间：2012-06-01T04:21:18.227
> 
> 标签：cakephp

[http://pastebin.com/PWJvwMF6](http://pastebin.com/PWJvwMF6) http://webdesign4.georgianc.on.ca/~100141468/comp2084/todo/clients/

如您所见，这是不断出现的错误。我不确定我做错了什么。pastebin 中的代码看起来没问题吗？或者那里有一个明确的问题。如果没有，可能是我的控制器有问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:28:40.930

你错过了`'`第 12 行

```
<?=$row['Client']['employee_id]?> 
```

应该

```
<?=$row['Client']['employee_id']?>
                              ^ 
```

# string - 在 R 中使用元字符进行 strsplit

> ID：10844364
> 
> 赞同：5
> 
> 时间：2012-06-01T04:21:36.160
> 
> 标签：string, r, split, strsplit, metacharacters

我有大量数据，其中分隔符是反斜杠。我在 R 中处理它，我很难找到如何拆分字符串，因为反斜杠是元字符。例如，一个字符串看起来像这样：

```
1128\0019\XA5\E2R\366\00=15 
```

我想沿着`\`字符分割它，但是当我运行 strsplit 命令时：

```
strsplit(tempStr, "\\")
Error in strsplit(tempStr, "\\") : 
  invalid regular expression '\', reason 'Trailing backslash' 
```

当我尝试使用“固定”选项时，它不会运行，因为它在反斜杠之后期待一些东西：

```
strsplit(tempStr, "\", fixed = TRUE) 
```

不幸的是，我不能用另一个程序预处理数据，因为数据是每天生成的。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-01T04:36:42.820

您的代码行是（尽管您没有明确说明）：

```
strsplit(tempStr, "\\") 
```

并且应该是

```
strsplit(tempStr, "\\\\") 
```

这将读作“\\”，正则表达式将其理解为“\”。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T08:52:39.920

我怀疑您的数据在某种文件中。如果是这种情况，则使用`read.table`但明确指定分隔符。例如，假设您的文件是：

```
a\b\c\d
e\f\g\h 
```

然后要将其读入 R，请使用以下命令：

```
read.table("file.txt", sep="\\") 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2017-04-10T07:43:40.050

尝试这个：

```
strsplit(tempStr, "\"") 
```

# asp.net-mvc-3 - 自定义路由在 ASP.net MVC 3 中不起作用

> ID：10844367
> 
> 赞同：2
> 
> 时间：2012-06-01T04:21:53.890
> 
> 标签：asp.net-mvc-3, c#-4.0, url-routing

我正在尝试在 ASP.net MVC 3 中实现我的自定义路由，但出现此错误：

```
The resource cannot be found. 
```

**全球.asax**

```
public static void RegisterRoutes(RouteCollection routes)
{
    routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

    routes.MapRoute(
        "mycontroller", // Route name
         "{controller}/{name}", // URL with parameters
         new { controller = "MyController", action = "Search" } // Parameter defaults
    );

} 
```

**我的控制器.cs**

```
public class MyController : Controller
{
    public ActionResult Search(string name)
    {
        return Content(name);
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:33:52.290

试试这个：

```
routes.MapRoute(
 "mycontroller", // Route name
 "mycontroller/{name}", // URL with parameters
 new { controller = "My", action = "Search", } // Parameter defaults
); 
```

找不到 MyController，因为您没有名为 MyControllerController 的控制器。凭借从`Controller`约定继承将寻找 URL 令牌 + “控制器”。

干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:37:04.183

尝试将其更改为

```
routes.MapRoute(
 "mycontroller", // Route name
 "{controller}/{name}", // URL with parameters
 new { controller = "My", action = "Search", } // Parameter defaults
); 
```

请在 Global.asax 文件中注册

# sql - 用这个语法错误拉我的头发

> ID：10844370
> 
> 赞同：-1
> 
> 时间：2012-06-01T04:22:41.977
> 
> 标签：sql, ms-access, count

我似乎遇到了查询语法错误，但似乎无法隔离它。我正在使用 MS Access，当我运行查询时，在 FROM 子句中出现语法错误。

我有两个表，它们是一对多的关系：

表 1 称为（客户），具有以下字段：

```
ID
FirstName 
```

名为 (tblservice) 的表 2 包含以下字段：

```
serviceID
Timing
Total
customerID   <-Foreign Key 
```

第一个查询：

```
select c.id, c.firstname, avg(s.Total) / (select count(id) from customer) as LifetimeValue
from tblservice as s join customer as c on s.id = c.id
group by s.id 
```

第二次查询（30天跨度）：

```
select c.id, c.firstname, avg(s.Total) / (select count(id) from customer) as LifetimeValue
from tblservice as s join customer as c on s.id = c.id
where (s.Timing)>=DateAdd("d",-30,Date())
group by s.id 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:30:04.640

试试这个：

```
select c.id, c.firstname, avg(s.Total) / count(c.id) as LifetimeValue
from tblservice as s inner join customer as c on s.id = c.id
group by c.id, c.firstname 
```

和

```
select c.id, c.firstname, avg(s.Total) / count(c.id) as LifetimeValue
from tblservice as s inner join customer as c on s.id = c.id
where (s.Timing)>=DateAdd("d",-30,Date())
group by c.id, c.firstname 
```

您不能选择`c.id`并且`c.firstname`除非您按它们分组。而且您可以使用`count(c.id)`，因为您已经按`c.id`. 虽然我没有在 MS Access 中使用 SQL。所以我不是100%肯定。试试看。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T04:44:46.983

MS Access 可能会要求您使用`INNER JOIN`，而不仅仅是`JOIN`.

# c#-4.0 - 如何从 LINQ to XML 中的 XElement 读取特定元素值

> ID：10844374
> 
> 赞同：7
> 
> 时间：2012-06-01T04:23:14.840
> 
> 标签：c#-4.0, linq-to-xml, xelement

我有一个`XElement`这样的内容。

```
<Response xmlns="someurl" xmlnsLi="thew3url">
   <ErrorCode></ErrorCode>
   <Status>Success</Status>
   <Result>
       <Manufacturer>
            <ManufacturerID>46</ManufacturerID>
            <ManufacturerName>APPLE</ManufacturerName>
       </Manufacturer>
      //More Manufacturer Elements like above here
   </Result>
</Response> 
```

我将如何读取`Status`元素内部的值？

我试过 `XElement stats = myXel.Descendants("Status").SingleOrDefault();` 但那是返回null。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-01T05:26:19.813

如果`myXel`已经是响应`XElement`，那么它将是：

```
var status = myXel.Elements().Where(e => e.Name.LocalName == "Status").Single().Value; 
```

您需要使用 LocalName 来忽略命名空间。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-01T09:48:07.120

```
XElement response = XElement.Load("file.xml"); // XElement.Parse(stringWithXmlGoesHere)
XNamespace df = response.Name.Namespace;
XElement status = response.Element(df + "Status"); 
```

应该足以访问`Status`子元素。如果您希望将该元素的值作为字符串，则执行例如

```
string status = (string)response.Element(df + "Status"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-05-21T09:30:20.570

一些 TextReader 知道很快会有更多数据，但目前并非所有字符都可用。如果您要求 10 个字符，而现在只有 4 个字符可用，但其他字符将在几秒钟后变为可用，那么返回 4 个可用字符而不是等待所有 10 个字符可能更明智。

一个例子可能是`TextReader`来自串行端口的缓冲数据：等待所有请求的字符都可用会太慢，因此它将返回所有现在已经可用的字符。

在返回值的描述中可以看到`TextReader.Read(char[], int, int)`和的区别：`TextReader.ReadBlock(char[], int, int)`

**TextReader.Read**

> 返回：已读取的字符数，如果在流的末尾并且没有读取数据，则返回 0。该数字将小于或等于 count 参数，具体取决于数据在流中是否可用。

**TextReader.ReadBlock**

> 返回：已读取的字符数。该数字将小于或等于 count，具体取决于是否已读取所有输入字符。

如果您要求 a`TextReader`到`Read`10 个字符，`Read`如果读者认为等待所有 10 个字符不明智，则允许返回少于 10 个字符。只要读者知道还有字符，它就会等待至少一个字符。如果`Read`返回读取了 4 个字节，那么您不知道是否已读取最后一个字符。只有当`Read`返回零时，你才知道没有什么可读的了。这允许 TextReader 返回当前可用的字符，而无需等待所有 10 个字符都可用。

`ReadBlock`将等到所有 10 个字节都可用（或 EOF）。因此，阅读速度慢的读者可能会比您希望的更长的时间阻止您的过程。

为确保您已读取所有字符，请`repeatedly until you get a zero return; Use`重复使用“Read ReadBlock”，直到您读取的字节数少于请求的字节数。

# javascript - 使用 jquery 获取元素值

> ID：10844388
> 
> 赞同：0
> 
> 时间：2012-06-01T04:25:00.273
> 
> 标签：javascript, jquery

我有一个锚，如下：

```
<a href="#" class="fpa2" value="7">
    <div class="pl2">
       <div class="pl3">Hero</div>
    </div>
</a> 
```

使用***jQuery***，如何`7`在单击时从值字段中获取具有值的变量？

我试过：

```
$('.fpa2').on("click", function(){
    var a1 = $(this).val();
}); 
```

但这是***返回一个空白***值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T04:26:28.577

```
$('.fpa2').on("click",function(e){

    e.preventDefault();  // this statement for prevent page reload
    var a1 = $(this).attr('value');

}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T04:27:29.967

试试这个：

```
$('.fpa2').on("click",function(){
    var a1=$(this).attr("value");
}); 
```

参考：[http ://api.jquery.com/attr/](http://api.jquery.com/attr/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T04:29:53.353

**检查此代码..**

```
$('.fpa2').click(function(){

    var value=$(this).attr('value');
     alert(value);
}); 
```

# google-docs-api - 如何使用 Google Docs API 创建新的用户帐户？

> ID：10844389
> 
> 赞同：0
> 
> 时间：2012-06-01T04:25:06.057
> 
> 标签：google-docs-api

如何使用 Google Docs API 创建新的用户帐户？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:31:03.600

如果您的域有谷歌应用程序，您可以尝试[配置 API](https://developers.google.com/google-apps/provisioning/#using_the_provisioning_api)。如果您谈论的是常规帐户，则无法以编程方式进行。

# c# - WebBrowser 控件的边框

> ID：10844392
> 
> 赞同：0
> 
> 时间：2012-06-01T04:25:41.120
> 
> 标签：c#, windows-phone-7

首先，我创建了一个 Web 浏览器控件（全屏大小），然后我在 Web 浏览器控件上方创建了一个边框，但是当我调试它时，边框不可见。需要帮忙？提前感谢您的辛勤工作！

```
<Border x:Name="UrlBorder" Background="{StaticResource PhoneAccentBrush}" CornerRadius="8">
        <TextBox x:Name="UrlTextBox" Background="White" InputScope="URL" Margin="0,0,98,0"/>
</Border>
<phone:WebBrowser x:Name="BrowserHost" Margin="0,12,0,0" Grid.RowSpan="2" GotFocus="BrowserHost_GotFocus" IsScriptEnabled="True" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-10T13:40:12.587

不确定您要在这里做什么。看起来您想要一个 url 输入文本框，在几乎全屏的 Web 浏览器元素顶部被边框包围。如果是这样，我会使用堆栈面板。

```
<StackPanel>
    <Border><TextBox /></Border>
    <WebBrowser/>
</StackPanel> 
```

如果要隐藏 url 输入，仍然可以将 Border 的可见性设置为 Collapsed。

网格中的元素可以相互重叠。因此，如果 webbrowser 元素是全屏的，它将覆盖有边框的文本框。此外，您的边框和文本框都没有明确的高度和宽度。

# mysql - 如何在 RackSpace 专用服务器上发布数据库？

> ID：10844394
> 
> 赞同：0
> 
> 时间：2012-06-01T04:26:12.913
> 
> 标签：mysql, database, publishing

我在本地 WampServer 上的 MYSql 中创建了数据库。

现在我想在 RackSpace 专用服务器上发布这个数据库。

> 编辑：

我在专用服务器上安装了 Microsoft SQL Server 2008 R2。我想知道如何在本地机器上建立的 web 服务之间建立连接？我已经为 MYSQL 编写了代码，那么它会为 SQLServer 2008 更改吗？

我不知道在专用服务器上发布数据库。

我已经搜索过这个，但没有得到任何解决方案。

我怎样才能做到这一点？

请帮我。

谢谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T04:30:12.427

一种方法是使用

[mysql转储](http://dev.mysql.com/doc/refman/5.5/en/mysqldump.html)

要创建本地版本的完整备份，压缩数据文件（特别是如果它很大），然后使用

mysql

命令行从转储文件重新创建数据库。

从链接的文档：

> mysqldump 的一个常见用途是备份整个数据库：
> 
> shell> mysqldump db_name > backup-file.sql 你可以像这样将转储文件加载回服务器：
> 
> 外壳> mysql db_name <备份文件.sql
> 
> 或者像这样：
> 
> 外壳> mysql -e "源 /path-to-backup/backup-file.sql" db_name
> 
> mysqldump 对于通过将数据从一个 MySQL 服务器复制到另一个来填充数据库也非常有用：
> 
> 外壳> mysqldump --opt db_name | mysql --host=remote_host -C db_name

# iphone - 无法捕获 NSUnknownKeyException 异常错误

> ID：10844402
> 
> 赞同：0
> 
> 时间：2012-06-01T04:27:20.593
> 
> 标签：iphone, ios

我花了很多时间在这上面。我在所有异常上添加了中断，但应用程序没有捕获这个特定的异常。如果我禁用 break all excpetions，我会收到一条更有意义的消息（如下），但仍然不知道哪个代码抛出了这个。我是iOS新手，请帮忙！我正在使用 Xcode 4.3.2 我只是按照书中的教程（多视图）进行操作，但我遇到了这个错误。我的项目已附上。

```
2012-05-31 23:38:55.028 SwitchViewer[13738:f803] *** Terminating app due to uncaught exception 'NSUnknownKeyException', reason: '[<UIApplication 0x686c360> setValue:forUndefinedKey:]: this class is not key value coding-compliant for the key view.'
*** First throw call stack: 
```

如果有人可以告诉您发送或上传的位置，我可以将项目发送或上传给您吗？谢谢！更新：代码

捕获异常的 UIApplicationMain() 在这里，我没有从默认值更改它。＃进口

```
#import "BIDAppDelegate.h"

int main(int argc, char *argv[])
{
    @autoreleasepool {
        return UIApplicationMain(argc, argv, nil, NSStringFromClass([BIDAppDelegate class])); 
```

我有一些代码在这里设置根控制器。

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    // Override point for customization after application launch.

    self.switchViewController = [ [ BIDSwitchViewController alloc] initWithNibName:@"SwitchView" bundle:nil];

    UIView * switchView = self.switchViewController.view;

    CGRect switchViewFrame = switchView.frame;

    switchViewFrame.origin.y += [UIApplication sharedApplication].statusBarFrame.size.height;

    switchView.frame = switchViewFrame;

    [self.window addSubview:switchView];

    self.window.backgroundColor = [UIColor whiteColor];
    [self.window makeKeyAndVisible];
    return YES;
} 
```

更新：我已经上传了我的项目（zip）文件，你可以从[这里](http://ultrashare.net/hosting/fl/0992574c62/SwitchViewer)下载，文件名是 SwitchViewer.zip 如果你能帮我找出错误是什么，我将不胜感激，因为我需要学习如何解决调试错误. 谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:20:16.653

您可能没有将 SwitchView xib 中的视图连接到 ViewController 的 IBOutlet

# qunit - Qunit 测试在异步调用中失败

> ID：10844406
> 
> 赞同：4
> 
> 时间：2012-06-01T04:27:34.693
> 
> 标签：qunit

```
example :
test("An async test", function(){
   stop();
   expect(1);
    model.save( {} , {
          success : function(model,resp){
            ok(model.get('id') != null, "Got id");
                start();
          }
    });    
}); 
```

它给了我一个错误，预计至少有一个断言，但没有运行 - 调用 expect(0) 以接受零个断言。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-02T22:32:48.870

这可能是因为您的 ajax 调用引发了错误吗？

如果是这样，它永远不会“成功”并进行断言，也永远不会调用 start()。

我建议将您的断言和您的 start() 移到“完整”块中。Complete 总是被调用，如果 ajax 成功或错误。

或者，您可以在“错误”块中注册一个断言和一个 start()

# java - 连接到 HTTPS url 并发布到它

> ID：10844413
> 
> 赞同：0
> 
> 时间：2012-06-01T04:28:42.133
> 
> 标签：java, https

[我从网上](http://www.java-samples.com/showtutorial.php?tutorialid=1343)得到了一段代码。代码连接到`HTTPS and displays the server response`. 但是代码很旧，无法正常工作。有人可以帮我修改代码以使其正常工作。

这是我在互联网上能找到的最好的资源。我找不到其他的。

```
import java.io.*;
import java.net.*;
import java.security.Security.*;
import com.sun.net.ssl.*;
import com.sun.*; 
 public class Main {
       public static void main(String[] args){
        String cuki=new String();
try { 
System.setProperty("java.protocol.handler.pkgs", "com.sun.net.ssl.internal.www.protocol");
java.security.Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider()); 
URL url = new URL("https://www.sunpage.com.sg/sso/login.asp"); 
 HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();
connection.setDoInput(true); 
connection.setDoOutput(true);

connection.setRequestMethod("POST"); 
connection.setFollowRedirects(true); 

String query = "UserID=" + URLEncoder.encode("williamalex@hotmail.com"); 
query += "&"; 
query += "password=" + URLEncoder.encode("password"); 
query += "&"; 
query += "UserChk=" + URLEncoder.encode("Bidder");
// This particular website I was working with, required that the referrel URL should be from this URL
// as specified the previousURL. If you do not have such requirement you may omit it.
query += "&"; 
query += "PreviousURL=" + URLEncoder.encode("https://www.sunpage.com.sg/sso/login.asp"); 

//connection.setRequestProperty("Accept-Language","it"); 
//connection.setRequestProperty("Accept", "application/cfm, image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, ///"); 
//connection.setRequestProperty("Accept-Encoding","gzip"); 

connection.setRequestProperty("Content-length",String.valueOf (query.length())); 
connection.setRequestProperty("Content-Type","application/x-www- form-urlencoded"); 
connection.setRequestProperty("User-Agent", "Mozilla/4.0 (compatible; MSIE 5.0; Windows 98; DigExt)"); 

// open up the output stream of the connection 
DataOutputStream output = new DataOutputStream( connection.getOutputStream() ); 

// write out the data 
int queryLength = query.length(); 
output.writeBytes( query ); 
//output.close();

System.out.println("Resp Code:"+connection.getResponseCode()); 
System.out.println("Resp Message:"+ connection.getResponseMessage()); 

// get ready to read the response from the cgi script 
DataInputStream input = new DataInputStream( connection.getInputStream() ); 

// read in each character until end-of-stream is detected 
for( int c = input.read(); c != -1; c = input.read() ) 
    System.out.print( (char)c ); 
input.close(); 
} 
catch(Exception e) 
{ 
System.out.println( "Something bad just happened." ); 
System.out.println( e ); 
e.printStackTrace(); 
} 
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:34:57.597

试试这个：

```
public void postData() throws Exception {

 HttpClient client = new DefaultHttpClient();
 HttpPost httppost = new HttpPost("https://www.xyz.com");

 List<NameValuePair> list = new ArrayList<NameValuePair>(1);

 list.add(new BasicNameValuePair("name","ABC");

 httppost.setEntity(new UrlEncodedFormEntity(list));

 HttpResponse r = client.execute(httppost);

} 
```

# windows-phone-7 - 如何从街道名称、地名或城市名称中获取 GPS 坐标

> ID：10844417
> 
> 赞同：1
> 
> 时间：2012-06-01T04:30:00.697
> 
> 标签：windows-phone-7

是否可以从街道名称、地名或城市名称中获取 GPS 坐标？我的问题是我知道我当前的纬度/经度 GPS，但我不知道我想去的街道名称的 GPS 纬度/经度。如何为此使用 Bing 地图服务？非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:37:38.770

添加：- [http://dev.virtualearth.net/webservices/v1/geocodeservice/geocodeservice.svc](http://dev.virtualearth.net/webservices/v1/geocodeservice/geocodeservice.svc)

```
 public void Obtainresult()
    {
        try
        {
            if (location == null)
                return;

            ReverseGeocodeRequest reverseGeocodeRequest = new ReverseGeocodeRequest();

            // Set the credentials using a valid Bing Maps key
            reverseGeocodeRequest.Credentials = new GeocodeService.Credentials();
            reverseGeocodeRequest.Credentials.ApplicationId = "Your Bing Map Key"

            // Set the point to use to find a matching address
            GeocodeService.Location point1 = new GeocodeService.Location();
            point1.Latitude = location.Latitude;
            point1.Longitude = location.Longitude;

            reverseGeocodeRequest.Location = point1;

            // Make the reverse geocode request
            GeocodeServiceClient geocodeService = new GeocodeServiceClient("BasicHttpBinding_IGeocodeService");
            geocodeService.ReverseGeocodeCompleted += new EventHandler<ReverseGeocodeCompletedEventArgs>(geocodeService_ReverseGeocodeCompleted);
            geocodeService.ReverseGeocodeAsync(reverseGeocodeRequest);
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.Message);
        }
    }

    void geocodeService_ReverseGeocodeCompleted(object sender, ReverseGeocodeCompletedEventArgs e)
    {
        try
        {
            // The result is a GeocodeResponse object
            GeocodeResponse geocodeResponse = e.Result;

            if (geocodeResponse.Results != null)
            {
                var yourresult  = geocodeResponse.Results;
            }

        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.Message);
        }
    } 
```

如果您有问题，请告诉我:)

干杯:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T09:15:55.180

这里有一个使用 Yahoo API 的示例：http: [//www.devfish.net/fullblogitemview.aspx? blogid=826](http://www.devfish.net/fullblogitemview.aspx?blogid=826)

可能看起来像你可以使用的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-21T09:41:50.913

```
using System;
using System.Collections.Generic;
using System.Text;
using System.Web;
using System.Net;
using System.Web.UI; 

namespace GoogleGeocoder
{
    public interface ISpatialCoordinate
    {
        decimal Latitude {get; set; } 
        decimal Longitude {get; set; } 
    }

    /// <summary>
    /// Coordiate structure. Holds Latitude and Longitude.
    /// </summary>
    public struct Coordinate : ISpatialCoordinate
    {
        private decimal _latitude; 
        private decimal _longitude;

        public Coordinate(decimal latitude, decimal longitude)
        {
            _latitude = latitude;
            _longitude = longitude; 
        }

        #region ISpatialCoordinate Members

        public decimal  Latitude
        {
            get 
            { 
                return _latitude; 
            }
            set 
            { 
                this._latitude = value; 
            }
        }

        public decimal  Longitude
        {
            get 
            { 
                return _longitude; 
            }
            set 
            { 
                this._longitude = value;
            }
        }

        #endregion
    }

    public class Geocode
    {
        private const string _googleUri = "http://maps.google.com/maps/geo?q=";
        private const string _googleKey = "yourkey"; // Get your key from:  http://www.google.com/apis/maps/signup.html
        private const string _outputType = "csv"; // Available options: csv, xml, kml, json

        private static Uri GetGeocodeUri(string address)
        {
            address = HttpUtility.UrlEncode(address);
            return new Uri(String.Format("{0}{1}&output={2}&key={3}", _googleUri, address, _outputType, _googleKey));
        }

        /// <summary>
        /// Gets a Coordinate from a address.
        /// </summary>
        /// <param name="address">An address.
        ///     <remarks>
        ///         <example>1600 Amphitheatre Parkway Mountain View, CA  94043</example>
        ///     </remarks>
        /// </param>
        /// <returns>A spatial coordinate that contains the latitude and longitude of the address.</returns>
        public static Coordinate GetCoordinates(string address)
        {
            WebClient client = new WebClient();
            Uri uri = GetGeocodeUri(address);

            /*  The first number is the status code, 
             * the second is the accuracy, 
             * the third is the latitude, 
             * the fourth one is the longitude.
             */
            string[] geocodeInfo = client.DownloadString(uri).Split(',');

            return new Coordinate(Convert.ToDecimal(geocodeInfo[2]), Convert.ToDecimal(geocodeInfo[3]));
        }

    }
} 
```

# c++ - 如何使用 stringstream 在字符串中保留引号？

> ID：10844422
> 
> 赞同：2
> 
> 时间：2012-06-01T04:30:40.587
> 
> 标签：c++, string, formatting

我有一个字符串向量，其中包含数字、单词、空格，甚至是引号之类的奇怪字符。我正在尝试使用字符串流来阅读所有内容，以便可以将双打与字符串分开。

当我这样做时：

字符串流包含

> 4165 此包装包含 12 1/2" 螺丝

代码：

```
stringstream >> mydouble 
stringstream >> mystring 
```

mydouble 包含

```
4165 
```

那么唯一读入 mystring 的是

> 此包装包含 12 1/2

我怎样才能让它保持整条线？

有时我的文件包含以下内容：

> 4165 此包装包含 2 1/2" 螺丝
> 
> 65 此包装包含 12> 1/2" 螺丝
> 
> 此包装包含 1 个螺丝

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T04:54:25.293

遗憾的是，流提取运算符`>>`并不擅长您希望它做的事情。做你想做的事情的正确方法是通过

```
std::getline(stringstream, myline); 
```

然后编写代码来解析该行。

如何解析行？想到五个选项：

1.  编写您自己的代码来完成它，而无需依赖特殊工具。
2.  使用 Lex/Flex 和 Yacc/Bison。
3.  使用提升精神。
4.  使用 POSIX `<regex.h>`。
5.  使用 C++11`<regex>`或 TR1 `<tr1/regex>`。

然而，这些都不是完全微不足道的。如果您想知道，对于您的申请，我可能会选择选项 1、选项 3 或选项 5。无论您选择做什么，祝您好运。

如果您不知道从哪里开始，您为什么不查找`std::getline()`, 呈现在`<string>`, 和`std::atoi()`, 呈现在`<cstdlib>`？这些应该为您提供一些关于下一步要去哪里的想法。

# xcode - Can't get environment variable "ACTION" during compile target in Xcode

> ID：10844424
> 
> 赞同：1
> 
> 时间：2012-06-01T04:31:01.560
> 
> 标签：xcode

In Xcode build ref:

[https://developer.apple.com/library/mac/#documentation/DeveloperTools/Reference/XcodeBuildSettingRef/1-Build_Setting_Reference/build_setting_ref.html#//apple_ref/doc/uid/TP40003931-CH3-SW45](https://developer.apple.com/library/mac/#documentation/DeveloperTools/Reference/XcodeBuildSettingRef/1-Build_Setting_Reference/build_setting_ref.html#//apple_ref/doc/uid/TP40003931-CH3-SW45)

It says:

> ACTION
> 
> Description:
> 
> Identifier. Identifies the type of build to perform on the target.

Then I make a small script in scheme->build->pre-actions:

> echo "action:"
> 
> echo ${ACTION}

But `$ACTION` seems empty.

I also tried other variables like `$BUILD_VARIANTS` and they are normal, so I'm pretty sure it's not my script's fault.

Does anyone have the same issue?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-20T08:54:42.503

I've found the solution below:

Now I add the script in "build phases" then it worked. I also found some interesting stuff in Xcode's build log:

> cd /Users/developer/project/resourceTest
> 
> setenv ACTION build
> 
> setenv AD_HOC_CODE_SIGNING_ALLOWED NO
> 
> setenv ALTERNATE_GROUP staff
> 
> setenv ALTERNATE_MODE u+w,go-w,a+rX
> 
> ......

So it seems Xcode set these environment variables in "build phase" but not in "post actions". You can run some scripts or send an E-mail in "post actions" but not all of these environment variables used by project are guaranteed that can be used properly.

Furthermore, you can't get any script error message when it's running at "post actions". Xcode also ignores these errors so your build process won't crash.

# linux - drwxr -xr -x 2 2是什么意思

> ID：10844429
> 
> 赞同：0
> 
> 时间：2012-06-01T04:32:13.290
> 
> 标签：linux, command-line, command

```
drwxr-xr-x  2 vivekray vivekray     4096 2012-01-02 14:09 Templates 
```

2是什么意思。

如果你有时间请回复我thanx。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:04:44.127

正如其他答案所解释的那样，该数字是指向文件的硬链接的计数。但是，由于您的“文件”是一个目录，因此含义与平时略有不同。

类 Unix 系统中的目录总是至少有两个指向它们的链接。一个是目录在其父目录中的条目，另一个是“。” 进入自己的清单。如果目录中有任何子目录，则每个子目录都会从其“..”条目中产生一个指向其父目录的附加链接。

因此，您可以从该数字中获得的额外信息是 Templates 没有子目录。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T04:40:40.623

它是文件的硬链接数。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-01T04:40:54.760

它是引用该文件/数据块的硬链接的数量。2 表示同一个文件有两个不同的名称（`Templates`其中之一）。

请注意，这仅适用于硬链接，而不适用于符号链接（使用 创建的链接`ln -s`）。另请注意，该文件的其他名称也将计数为 2。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-01T04:41:19.500

链接数：第二个字段指定该文件的链接数。在此示例中，2 表示有 2 个指向此目录条目的链接。

# jquery - 在提交之前显示表单元素值的摘要

> ID：10844432
> 
> 赞同：2
> 
> 时间：2012-06-01T04:32:21.067
> 
> 标签：jquery

使用带有 ajax 提交的 jquery formtowizard.js。我希望表单的最后一步显示已填写的所有表单字段的摘要。我可以让它在孤立的测试用例中工作，但不能完全使用。形式

```
<form id="Commission" method="post" action="PHP/CommissionsSubmit.php">
    <fieldset id="Initial">
        <legend>Enter Your Information</legend>
        <ul>
            <li>
                <label for="FName">First Name*</label><input type="text" name="FName" id="FName">
            </li>
         //repeat many li's
        </ul>
    </fieldset>
    <fieldset>
    <legend>Second Step</legend>
    //more li's
    </fieldset>
    <fieldset>
    <legend>Confirmation</legend>
    <span id="CFName"></span>
    </fieldset>
</form> 
```

获取“#CFName”值的 jquery

```
$('#FName').keyup(function() {
   $('#CFName').val($(this).val());
}); 
```

我无法让值出现在跨度“#CFName”中......这可能与“序列化”函数或我的 $ajax 提交函数发生的任何事情有关吗？它在提交之前发生...请帮助！

我很抱歉，但我已经来回使用“#CFName”作为跨度和输入，分别使用 .val 和 .html

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T04:35:28.397

尝试： `$('#CFName').text($(this).val());`

> .val() 方法主要用于获取输入、选择和文本区域等表单元素的值。

You should use `.text()` otherwise

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T04:39:17.900

**Try this code**

```
$("#FName").keyup(function(){
                $('#CFName').html($('#Commission').serialize());
    }); 
```

**Demo** : [http://jsfiddle.net/KG7cN/](http://jsfiddle.net/KG7cN/)

# jquery - 在函数中创建模态表单对话框

> ID：10844433
> 
> 赞同：0
> 
> 时间：2012-06-01T04:32:26.500
> 
> 标签：jquery

我的应用程序适用于许多模态表单对话框，我想通过调用函数来创建模态表单对话框，但是当我单击对话框“i.apply 不是函数”上的“确定”按钮时出现错误。我的代码如下

html:

```
<div id="dlg_srch_acnt">
        <table cellpadding="0" cellspacing="0" border="0" class="display" id="dtl_acnt_srch" style=" padding-bottom:0px;">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Account name</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div> 
```

脚本

```
function init_dlg(id, autoOpen, height, width, modal, fn_button1)
            {
                id.dialog({
                    autoOpen:autoOpen,
                    height:height,
                    width:width,
                    modal:modal,
                    buttons:{
                        'OK':fn_button1,
                    },
                    close:fn_close
                });
            }

function fn_ok()
            {
                $('#parnt_acnt').val(acnt_name);
                $('#dlg_srch_acnt').('close');
            }

init_dlg($('#dlg_srch_acnt'), false, '440', '480', true, 'fn_ok()'); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T04:39:47.817

我相信你`$('#dlg_srch_acnt').('close');`应该是`$('#dlg_srch_acnt').dialog('close');`

并在参数中传递函数`fn_ok`名不是`fn_ok()`因为那是它的执行值。

```
init_dlg($('#dlg_srch_acnt'), false, '440', '480', true, 'fn_ok'); 
```

`acnt_name`你的功能是`fn_ok`什么？定义它（在使用它之前）或传递一个字符串，而不是变量名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:35:17.303

`$('#dlg_srch_acnt')`当您将 jquery 对象传递给您的函数时。所以你需要像这样用jquery包装你的id

```
function init_dlg(id, autoOpen, height, width, modal, fn_button1)
            {
                $(id).dialog({ // Jquery wrapping should be done . 
                    autoOpen:autoOpen,
                    height:height,
                    width:width,
                    modal:modal,
                    buttons:{
                        'OK':fn_button1,
                    },
                    close:fn_close
                });
            } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T04:39:59.923

因为你只有一个按钮，所以在 fn_button1 之后删除逗号怎么样？

```
buttons:{
          'OK':fn_button1
        }, 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-03-28T16:47:49.130

这里有几件事不对劲。

`[**Working jsFiddle Demo**](http://jsfiddle.net/P9LB3/)`

.1。正如 Rajat 指出的那样，`$('#dlg_srch_acnt').('close');`应该是`$('#dlg_srch_acnt').dialog('close');`

.2\. Rajat关于传递函数名称*几乎是正确的。*应该是这样的（没有引号）： `init_dlg($('#dlg_srch_acnt'), false, '440', '480', true, fn_ok);`

.3\. 从 jQUI 对话对象内部引用外部函数时，您仍必须将它们包装在函数块中：

```
 buttons: {
        'OK': function(){
            fn_button1();
        }
    },
    close: function(){
        fn_close();
    } 
```

*请注意，您没有在原始帖子中定义 fn_close*

这是完整的代码，添加了一些位以显示它可以正常工作（特别是，请注意 BOB 在 dlg 关闭时更改为 JANE）：

**HTML：**

```
<input id="parnt_acnt" type="text" value="bob" />
<div id="dlg_srch_acnt">
    <p>Inside the dialog</p>
</div> 
```

**javascript/jQuery:**

```
var acnt_name = "jane";

function init_dlg (id, autoOpen, height, width, modal, fn_button1 ) {
    id.dialog({
        autoOpen: autoOpen,
        height: height,
        width: width,
        modal: modal,
        buttons: {
            'OK': function(){
                fn_button1();
            }
        },
        close: function(){
            fn_close();
        }
    });
}

init_dlg( $('#dlg_srch_acnt'), false, '440', '480', true, fn_ok );

function fn_ok() {
    $('#parnt_acnt').val(acnt_name);
    $('#dlg_srch_acnt').dialog('close');
}

function fn_close() {
    $('#dlg_srch_acnt').dialog('close');
    alert('Close fn accessed');
} 
```

`[**Working jsFiddle Demo**](http://jsfiddle.net/P9LB3/)`

# java - 导出/下载演示文稿和 SpreadSheet 使用管理访问权限模拟其他域用户

> ID：10844435
> 
> 赞同：0
> 
> 时间：2012-06-01T04:32:34.450
> 
> 标签：java, google-docs, google-docs-api

我需要导出/下载其他域用户的所有文件。我使用管理帐户的客户端登录来查看域用户的所有文件。但是，只有文件可以导出/下载，其他都失败。

那么其他人的下载网址格式是什么（对于文件，pdf，演示文稿和电子表格）？

我的文件下载网址是

```
https://docs.google.com/feeds/download/documents/Export?xoauth_requestor=admin@domain.com&docId=<id>&exportFormat=doc 
```

我的程序如下：

```
public class AuthExample {

private static DocsService docService = new DocsService("Auth Example");

public static void main(String[] args)
    throws Exception
{
    String adminUser = admin;
    String adminPassword = adminpasswd;
    String impersonatedUser = "user@domain.com";

    docService.setUserCredentials(adminUser, adminPassword);
    URL url = new URL( "https://docs.google.com/feeds/" + impersonatedUser + "/private/full");
    DocumentListFeed feed = docService.getFeed(url, DocumentListFeed.class);
    for (DocumentListEntry entry : feed.getEntries()) {

String title = entry.getTitle().getPlainText();
System.out.println( title );

String type = entry.getType();
if ( type.equals("document") )
{
    String encodedAdminUser = URLEncoder.encode(adminUser);
    String resourceId = entry.getResourceId();
    String resourceIdNoPrefix = resourceId.substring( resourceId.indexOf(':')+1 );

    String downloadUrl =
        "https://docs.google.com/feeds/download/documents/Export" +
        "?xoauth_requestor=" + encodedAdminUser +
        "&docId=" + resourceIdNoPrefix +
        "&exportFormat=doc";

    downloadFile( downloadUrl, title + ".doc" );
}

    }
}

// Method pasted directly from Google documentation
public static void downloadFile(String exportUrl, String filepath)
    throws IOException, MalformedURLException, ServiceException
{
System.out.println("Exporting document from: " + exportUrl);
MediaContent mc = new MediaContent();
mc.setUri(exportUrl);
MediaSource ms = docService.getMedia(mc);

InputStream inStream = null;
FileOutputStream outStream = null;

try {
        inStream = ms.getInputStream();
    outStream = new FileOutputStream(filepath);
                    int c;
    while ((c = inStream.read()) != -1) {
    outStream.write(c);
    }
} finally {
    if (inStream != null) {
        inStream.close();
    }
    if (outStream != null) {
    outStream.flush();
        outStream.close();
    }
}
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T19:54:17.720

不要手动构建下载链接，而是使用文档中解释的条目内容链接：

[https://developers.google.com/google-apps/documents-list/#downloading_documents_and_files](https://developers.google.com/google-apps/documents-list/#downloading_documents_and_files)

# sql - 计数，内连接

> ID：10844436
> 
> 赞同：0
> 
> 时间：2012-06-01T04:32:43.597
> 
> 标签：sql, count, aggregate-functions, inner-join

我有两张桌子：

`DRIVER(Driver_Id,First name,Last name,...);`

```
PARTICIPANT IN CAR ACCIDENT(Participant_Id,Driver_Id-foreign key,responsibility-yes or no,...). 
```

现在，我需要找出责任是“是”的事故是由哪个司机参与的，以及发生了多少次。我这样做了：

```
Select Driver_ID, COUNT (Participant.Driver_ID)as 'Number of accidents'
from Participant in car accident
where responsibility='YES'
group by Driver_ID
order by COUNT (Participant.Driver_ID) desc 
```

但是，我需要从第一个表中添加驱动程序的名字和姓氏（我想使用内部连接）。我不知道怎么做，因为它既不包含在聚合函数也不包含在 GROUP BY 子句中。请帮忙 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:38:17.303

正如您所怀疑的，您需要使用内部联接。由于名字和姓氏现在是 SELECT 的一部分，因此您还需要在 GROUP BY 中包含这些列。

```
Select Driver_ID, First_name, Last_name COUNT (Participant.Driver_ID) as "Number of accidents"
from "Participant in car accident" join Driver on "Participant in car accident".Driver_ID = Driver.Driver_ID
where responsibility='YES'
group by Driver_ID, First_name, Last_name
order by COUNT (Participant.Driver_ID) desc 
```

这是作业吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:41:05.227

您可以使用内联表：

```
SELECT d.driver_first_name,
       d.driver_last_name,
       r.incident_count
FROM  DRIVER d
INNER JOIN (SELECT driver_id, 
                   count(*) incident_count
            FROM PARTICIPANT_IN_CAR_ACCIDENT
            WHERE responsibility = 'YES'
            GROUP BY driver_id) r
    ON d.driver_id = r.driver_id
ORDER BY r.incident_count DESC 
```

应该管用。

# php - 提交表单时如何保留当前的 URL 参数？

> ID：10844438
> 
> 赞同：-1
> 
> 时间：2012-06-01T04:32:52.823
> 
> 标签：php, mysql, html, sorting

我有一个基于 PHP 的排序方法，带有一个用于对行进行排序的下拉菜单。有用。我有另一个排序链接来排序 id 和 title。它也有效。但是它们一起不起作用。

当我使用链接排序（比如按标题）时，结果会按标题排序，然后如果我使用下拉菜单对行进行排序，行会被排序，但结果会被设置回默认的 id 排序。

我的 ID 和标题排序代码：

```
 if ($orderby == 'title' && $sortby == 'asc')
{echo " <li id='scurrent'><a href='?rpp=$rowsperpage&order=title&sort=asc'>title-asc:</a></li> ";}
else {echo " <li><a href='?rpp=$rowsperpage&order=title&sort=asc'>title-asc:</a></li> ";}   

if ($orderby == 'title' && $sortby == 'desc')
{echo " <li id='scurrent'><a href='?rpp=$rowsperpage&order=title&sort=desc'>title-desc:</a></li> ";}
else {echo " <li><a href='?rpp=$rowsperpage&order=title&sort=desc'>title-desc:</a></li> ";} 

if ($orderby == 'id' && $sortby == 'asc')
{echo " <li id='scurrent'><a href='?rpp=$rowsperpage&order=id&sort=asc'>id-asc:</a></li> ";}
else {echo " <li><a href='?rpp=$rowsperpage&order=id&sort=asc'>id-asc:</a></li> ";}     

if ($orderby == 'id' && $sortby == 'desc')
{echo " <li id='scurrent'><a href='?rpp=$rowsperpage&order=id&sort=desc'>id-desc:</a></li> ";}
else {echo " <li><a href='?rpp=$rowsperpage&order=id&sort=desc'>id-desc:</a></li> ";} 
?> 
```

我的行排序代码：

```
<form action="is-test.php" method="get">
<select name="rpp" onchange="this.form.submit()">    
<option value="10" <?php if ($rowsperpage == 10) echo 'selected="selected"' ?>>10</option>
<option value="20" <?php if ($rowsperpage == 20) echo 'selected="selected"' ?>>20</option>
<option value="30" <?php if ($rowsperpage == 30) echo 'selected="selected"' ?>>30</option>   
</select>
</form> 
```

此方法仅将每页的行数 (rpp) 传递到 url。我希望它通过 order、sort 和 rpp。有没有办法在表单字段中传递这些多个值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:44:21.993

您是否也允许用户更改订单？

如果是这样，请为其添加另一个输入类型的输入。

如果没有，添加一个隐藏的输入`<input type="hidden" name="sort" value="asc">`或者只是让选项操纵 URL 而不是提交表单。另一个 Stackoverflow 解决方案的工作原理与此非常相似：[https ://stackoverflow.com/a/1091005/319066](https://stackoverflow.com/a/1091005/319066)

# asp.net - 带有 IIS 的 SQLite

> ID：10844444
> 
> 赞同：0
> 
> 时间：2012-06-01T04:33:57.987
> 
> 标签：asp.net, .net, sqlite, iis-7

我想将 SQLite 与 .net 应用程序一起使用。只有当 DLL 和数据库文件在 BIn 文件夹中并且 BIN 的权限设置为读/写时，它才有效。这是安全风险吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T04:35:55.857

是的，允许 IIS 工作进程对 bin 文件夹的读/写权限将允许任何可以获得对您的系统足够权限的人（以运行 IIS 的通常低权限帐户运行）现在可以更改您的应用程序二进制文件。

如果 SqlLite 确实提出了这个要求（但我倾向于同意 Michael P 的评论），我不会在 IIS 下使用它。您是否应该使用它取决于您希望应用程序面临的安全风险以及安全漏洞的成本（管理您的邮票收藏与管理信用卡数据）。

我确实怀疑 Sqlite 将允许您将数据文件放在此类数据所属的 App_Data 中。事实上，以下问题的答案概述了如何做到这一点：

[如何为我的 ASP.NET Web 应用程序引用 App_Data 文件夹中的 Sqlite db 文件？](https://stackoverflow.com/questions/1421247/how-do-i-reference-the-sqlite-db-file-in-the-app-data-folder-for-my-asp-net-web)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:38:49.943

是的，这是一个安全风险，而且，每次更新 Bin 文件夹中的文件时，都会导致您的应用程序重新启动。因此，您将数据库文件放在 App_Data 文件夹中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T04:46:27.513

> 仅当 DLL 和数据库文件位于 BIn 文件夹中时才有效

好吧，这听起来像一个拦截器。有一个免费的商业许可 Microsoft SQL Server CE。它完美而安全地融入 ASP.NET。以 DLL 形式运行，单个文件中的数据库最大 4GB。限制是文件大小和没有存储过程功能。

# c - 如何找到芯片保留地址和魔术位的官方信息？

> ID：10844447
> 
> 赞同：2
> 
> 时间：2012-06-01T04:34:52.383
> 
> 标签：c, assembly, embedded, msp430, atmega

我如何从芯片制造商那里找到几个芯片的幻地址列表？对它所支持的价值观进行了体面的解释？

我什至无法弄清楚调用/搜索它的术语。

刚开始嵌入式编程。我必须为各种事情设置大量的魔法位。

通常我会遇到一些事情：

```
MOV BLKMGC 0x01 
```

或者

```
REO034 = 0x80; // stops all onboard leds, boot freebsd, makes coffee, do laundy.
               // use 0x81 if you have more white clothes than color ones. 
```

有时会有评论解释他们在做什么。我主要记下我在示例代码中找到的所有内容。msp430 启动板的那些通常是由有很多评论的好详细的人写的，我什至可以在芯片系列笔记上找到一些地址映射，但很难理解的列表。在 Arduinos 上更常见的芯片在试图完全理解这一点时更加需要。（当然，我仍然不确定如何搜索它：）

到目前为止，我发现的最好的地方是我正在使用的芯片的头文件......但即便如此，举这个例子：

```
 void main(void) {
    WDTCTL = WDTPW + WDTHOLD;                 // Stop Watch Dog Timer
    // how 99% of msp430 programs start. 
```

现在头文件：

```
#define WDTCTL_               0x0120    /* Watchdog Timer Control */
sfrw(WDTCTL, WDTCTL_);
/* The bit names have been prefixed with "WDT" */
#define WDTIS0              (0x0001)
#define WDTIS1              (0x0002)
#define WDTSSEL             (0x0004)
#define WDTCNTCL            (0x0008)
#define WDTTMSEL            (0x0010)
#define WDTNMI              (0x0020)
#define WDTNMIES            (0x0040)
#define WDTHOLD             (0x0080)

#define WDTPW               (0x5A00)

/* WDT-interval times [1ms] coded with Bits 0-2 */
/* WDT is clocked by fSMCLK (assumed 1MHz) */
#define WDT_MDLY_32         (WDTPW+WDTTMSEL+WDTCNTCL)                         /* 32ms interval (default) */
#define WDT_MDLY_8          (WDTPW+WDTTMSEL+WDTCNTCL+WDTIS0)                  /* 8ms     " */
#define WDT_MDLY_0_5        (WDTPW+WDTTMSEL+WDTCNTCL+WDTIS1)                  /* 0.5ms   " */
#define WDT_MDLY_0_064      (WDTPW+WDTTMSEL+WDTCNTCL+WDTIS1+WDTIS0)           /* 0.064ms " */
/* WDT is clocked by fACLK (assumed 32KHz) */
#define WDT_ADLY_1000       (WDTPW+WDTTMSEL+WDTCNTCL+WDTSSEL)                 /* 1000ms  " */
#define WDT_ADLY_250        (WDTPW+WDTTMSEL+WDTCNTCL+WDTSSEL+WDTIS0)          /* 250ms   " */
#define WDT_ADLY_16         (WDTPW+WDTTMSEL+WDTCNTCL+WDTSSEL+WDTIS1)          /* 16ms    " */
#define WDT_ADLY_1_9        (WDTPW+WDTTMSEL+WDTCNTCL+WDTSSEL+WDTIS1+WDTIS0)   /* 1.9ms   " */
/* Watchdog mode -> reset after expired time */
/* WDT is clocked by fSMCLK (assumed 1MHz) */
#define WDT_MRST_32         (WDTPW+WDTCNTCL)                                  /* 32ms interval (default) */
#define WDT_MRST_8          (WDTPW+WDTCNTCL+WDTIS0)                           /* 8ms     " */
#define WDT_MRST_0_5        (WDTPW+WDTCNTCL+WDTIS1)                           /* 0.5ms   " */
#define WDT_MRST_0_064      (WDTPW+WDTCNTCL+WDTIS1+WDTIS0)                    /* 0.064ms " */
/* WDT is clocked by fACLK (assumed 32KHz) */
#define WDT_ARST_1000       (WDTPW+WDTCNTCL+WDTSSEL)                          /* 1000ms  " */
#define WDT_ARST_250        (WDTPW+WDTCNTCL+WDTSSEL+WDTIS0)                   /* 250ms   " */
#define WDT_ARST_16         (WDTPW+WDTCNTCL+WDTSSEL+WDTIS1)                   /* 16ms    " */
#define WDT_ARST_1_9        (WDTPW+WDTCNTCL+WDTSSEL+WDTIS1+WDTIS0)            /* 1.9ms   " */ 
```

没有对各个位的解释，也没有与最常见的位进行现成的组合。

奖金咆哮问题

既然它总是在功能强大、大部分空闲的个人计算机上编译，为什么所有编译器/IDE 都选择模仿裸机的用户友好性？是不是有很多更好的格式可以做到这一点？如果我不会在性能上发疯，我是否必须知道普通编码设置地址 0x0120 的值为 0x5A80 会停止看门狗定时器？头文件/IDE 不能`watch_dog_timer( STOP );`让我使用吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T04:53:30.427

此信息可在制造商的数据表中找到。并非所有芯片都有可用的数据表¹，因此在挑选芯片时请记住这一点。

例如，让我们看一下 ATmega48。这是一个简单的芯片，带有一组不错的基本外围设备。

1.  转到制造商的网站并找到产品页面。你可以在他们的网站上搜索它，或者你甚至可以使用谷歌，但我最成功的是点击制造商网页上的链接。转到页面的“文档”部分。

    对于 ATmega48，文档可在[http://www.atmel.com/devices/ATMEGA48.aspx?tab=documents](http://www.atmel.com/devices/ATMEGA48.aspx?tab=documents)

2.  下载相应的 PDF 文件。这可能被称为“数据表”或“用户手册”。它绝对不是“应用笔记”或“概述”。如果文件小于大约 1 兆或小于 100 页，则它可能不是正确的文件。

    对于ATmega48，文档名为“ATmega48/88/168 Complete”

3.  “魔术地址”称为*寄存器。* 这些是 IO 寄存器或外围寄存器，而不是您在编写用户空间程序时使用的那种寄存器。寄存器通常是唯一的，可以是只读的、只写的或读写的。

    对于 ATmega48，您可以在第 31 节“寄存器摘要”中查看所有寄存器的列表。在描述相关外设的部分可以找到如何使用每个寄存器的描述。例如，GPIO 寄存器在第 14 节“I/O 端口”中进行了描述，并带有汇编和 C 语言的示例代码。

**额外的咆哮：**如果你想`watch_dog_timer( STOP );`在你的代码中编写，你可以自己定义必要的宏和/或函数（最好是函数，除非你的编译器不好，嵌入式系统有时会发生这种情况²）。

当你说裸机编程是“用户友好的”时，我希望你是在讽刺。

**脚注：**

¹：例如，没有大订单和保密协议，您无法获得树莓派上芯片的数据表。

²：根据我的经验，你经常想选择一个芯片，因为它有很好的编译器支持，而不是试图为你已经拥有的芯片寻找一个好的编译器。至少，如果你是一个业余爱好者。GCC 以 Atmel 和 ARM 为目标，与我使用的一些垃圾 IDE 相比，这非常豪华。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-01T05:53:47.677

成为嵌入式程序员并不全是编程。其中很大一部分是阅读文档、原理图和黑客攻击（文档和原理图总是错误的或旧的或其他什么，永远不要 100% 信任它们）。

这是一个完整的混合包。一些供应商制作（相对）很棒的文档，有些则很糟糕，以及介于两者之间的一切，包括必须放弃您的第一个孩子才能访问文档（嗯，不完全是，但几乎是）。一些公司觉得那里的东西是秘密的，你必须签署和 NDA，这并不意味着好的文件会来，它是同样的混合包，只是一旦你拿到它就更难获得和更多的责任。有时您必须向销售人员提供信息（姓名、电话号码等），这是最糟糕的情况，因为您每周或每月都会接到一个电话，直到您辞职或他们辞职，看看您是否准备好购买您询问的产品，或者如果您想了解令人兴奋的新产品。我倾向于将需要获取文档的公司（他们生产的每种产品）列入黑名单，

每个公司的文档解决方案都不同。您提到了 msp430，您必须转到零件系列的一组文档，并获得寄存器名称而不是地址，然后您必须转到特定零件数据表以获取与名称相关的地址。我坚信 Atmel 如此受欢迎的一个重要原因是，总体而言，他们的文档更好，他们的信息在那里，有时不是最好的文档，但有很多，大量的应用笔记，其他公司不会轻易提供的信息或根本不等。在竞争中领先不了几年，有时只好几个百分点，但随着时间的推移，你会感觉到他们只是领先，当你不得不深入研究 atmel 部分时，你不必担心别人的。ARM，同样的答案，通常非常好的文档（但核心不是芯片，所以你可能在一个糟糕的芯片供应商产品中有一个很棒的 ARM 核心文档）。其他公司您必须通过示例程序来查找东西，文档与示例软件不匹配等。

你基本上在做我们其他人所做的事情。挖掘可用的东西，无论是编译器/汇编器源（实际上找到了在汇编器数据文件中很难找到的有关 atmel 的信息，然后最后在 atmel 文档中找到）、原理图、示例程序、头文件。最终您会意识到有些文档是由具有良好写作技巧的非技术人员编写的，但不知道文档中的技术术语是什么。文档有时会落到图腾柱底部的人身上，新员工会落到没有任何生产技能的人身上，等等。并非总是如此，但有时。文档反映了这一点。有时，示例程序是一刀切的，可能是为许多芯片中的公共逻辑块设计的，可能已经添加或删除了一些功能，而您永远摸不着头脑，为什么代码总是摆弄未记录或保留的位（那些bits 可能会在逻辑的早期版本或逻辑的更高版本中执行某些操作，如果您为公司挖掘所有产品，您可能会发现这些位，而不是它们对您使用的芯片很重要）。我喜欢更改代码，而不是为了看看会发生什么而触摸那些未记录的部分。我真正喜欢（讨厌）的一个是用于启动卡的 api 调用，您必须在其中包含固件文件的路径。事实证明，如果您深入研究驱动程序代码，固件文件是针对一种卡的，

一些位和一些寄存器你永远都不会知道。即使你在公司找到了一份工作，他们也可能不会让你进入，直到你在合适的部门工作了合适的时间。不要期望您想知道的一切都可用。有些位很神奇，有些位模式或数据很神奇，有时你只需要顺其自然，按照他们告诉你的方式去做......看看visual6502项目，有些人一直在等待他们的整个职业生涯并退休找出该处理器中一些奇怪的东西为什么以及如何工作......

最好的办法是你可能已经在做的事情。购买面向爱好者、arduino、msp430 启动板、stm32 发现板、mbed、树莓派等的板。获取原理图，或查看他们的网页和文档以查找设备的部件号，特别是处理器，然后转到他们的页面（通常这些是芯片供应商兜售他们的产品，并不总是（arduino）。查找那个部分，找到那个部分的文档，有时很多文档，家庭加上特定芯片等。做一些谷歌搜索看看如果有开源项目，请阅读这些资源。如果你很幸运并坚持下去，你可能会在你的职业生涯中达到某个阶段，你可以在某个地方工作，你可以影响或推动设计、文档、示例等。你猜怎么着, 即使您在 Atmel 工作并且是微控制器的嵌入式软件专家，您仍然需要阅读其他公司的文档，了解您需要构建的板上的其他组件以测试或销售您的芯片。它不会结束，它是工作的一部分。

许多示例程序使用定义和函数来隐藏原始地址和位，因为许多程序员希望以文字形式或至少不以十六进制形式查看内容。就我个人而言，我更喜欢十六进制或位，因为我讨厌必须通过层层的宏和头文件来验证位是否正确。我在屏幕的一侧有数据表（十六进制数字、位数），在另一侧有文本编辑器编程，并且十六进制的地址与文档匹配是一种非常温暖的模糊感觉。嵌入式是关于准确性和可靠性的。在某种程度上，你必须验证你的代码是坚如磐石的形状或形式，如果你盲目地相信太多的人有太多的宏/定义/函数层而不以某种方式检查每一点，你就会失败，或者至少失败更多通常比部门中进行检查并且不失败的其他人要多。当然，您不能永远编写程序，因此您应该找到结合您对编码风格的偏好但提供可靠性的方法。使嵌入式具有吸引力的一件事是您经常获得自由，您没有操作系统的规则或应用程序层访问事物的限制等。您可以为所欲为...

# javascript - 在javascript中检测鼠标点击和没有鼠标点击

> ID：10844448
> 
> 赞同：1
> 
> 时间：2012-06-01T04:34:56.073
> 
> 标签：javascript, html

有没有办法检测javascript是否查看是否有点击，如果有，它可以做些什么？

```
function clickin() {
    var mouseDown = 0;
    document.body.onmousedown = function() {
        ++mouseDown;
        var alle = document.getElementsByClassName('box');
        for (var i = 0; i < alle.length; i++) {
            value = "this.title='1'"
            alle[i].setAttribute("onmouseover", value);
        }
        document.body.onmouseup = function() {
            --mouseDown;
            var alle = document.getElementsByClassName('box');
            for (var i = 0; i < alle.length; i++) {
                value = "0"
                alle[i].setAttribute("onmouseover", value);
            }
        }
    }
}​ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:49:56.480

问题是？
你已经有了代码。

无论如何，从我的角度来看，选择[jQuery](http://jquery.com/)和[鼠标事件](http://api.jquery.com/category/events/mouse-events/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:53:10.207

javascript 可以处理点击，我们使用它。但您似乎想检查是否正在处理文档上的点击。

如果您想在文档级别特别检查，您可以检查是否

```
document.onclick==null 
```

并且还以相同的方式检查 mousedown/mouseup 事件，因为如果您像上面那样定义一个处理程序，您将销毁前一个（如果它存在）

如果您想以更通用的方式检查，则必须遍历文档并检查每个元素上的这些事件。

但是事件处理程序可以稍后动态绑定，并且重复检查文档的所有树不是一个好主意。

在这种情况下（以及前一种情况），您可以审核函数**addEventListener**和/或**attachEvent**

在此处查看功能审计： [如何在 JavaScript 中实现简单的优先级侦听器模式](https://stackoverflow.com/questions/10839146/how-to-implement-a-simple-prioritized-listener-pattern-in-javascript/10839304#10839304)

并且您还可以审计鼠标事件而不破坏它们。

# jquery - 仅选择变量中的可见或任何其他属性元素

> ID：10844453
> 
> 赞同：2
> 
> 时间：2012-06-01T04:35:21.853
> 
> 标签：jquery

我的英语不强，所以我将通过代码解释这个问题。

```
function (jQelem1) {
  jQelem1.[select_only_visible].each( function () { doSomething(); });
} 
```

是否可以仅选择变量中的**可见元素或任何其他属性**元素。

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T04:37:00.373

[jQuery](http://jquery.com)为我们提供了[`:visible`](http://api.jquery.com/visible)选择器。

```
function (jQelem1) {
  jQelem1.filter(':visible').each( function () { doSomething(); });
} 
```

**检查具有可见性的任何其他属性**

认为：

```
// check for presence of id
function (jQelem1) {
  jQelem1.filter(':visible[id]').each( function () { doSomething(); });
}

// check for presence of class
function (jQelem1) {
  jQelem1.filter(':visible[class]').each( function () { doSomething(); });
}

// check for both presence of id and class
function (jQelem1) {
  jQelem1.filter(':visible[id][class]').each( function () { doSomething(); });
}

// check for both presence id = foo
function (jQelem1) {
  jQelem1.filter(':visible[id="foo"]').each( function () { doSomething(); });
}

// check for both presence id = foo and class=bar
function (jQelem1) {
  jQelem1.filter(':visible[id="foo"][class="bar"]').each( function () { doSomething(); });
} 
```

还有很多。清楚地阅读**[jQuery 选择器](http://api.jquery.com/category/selectors/)**。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T04:37:16.403

```
function (jQelem1) {
  jQelem1.filter(":visible").each( function () { doSomething(); });
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T04:39:47.127

`function (jQelem1) {
jQelem1.filer(":visible").each( function () { doSomething(); }); }`

或您想要的任何财产

# php - PHP SQL 表单插入

> ID：10844457
> 
> 赞同：0
> 
> 时间：2012-06-01T04:35:41.450
> 
> 标签：php, sql

我开发了一个表格，可以在数据库中插入很多东西。但是不知何故，当页面被填满时，它只插入数据库管理员的用户密码。我该如何解决这个问题？

```
<?php
//include the connection file

require_once('connection.php');
require_once("validation.php");

if( isset($_POST['send']) && (!validateName($_POST['name']) || !validateEmail($_POST['email']) || !validatePasswords($_POST['pass1'], $_POST['pass2']) || !validateContact($_POST['contact']) || !validateAge($_POST['age'])) ):?>
            <div id="error">    
                <ul>
                    <?php if(!validateName($_POST['name'])):?>
                        <li><strong>Invalid Name:</strong> We want names with more than 3 letters.</li>
                    <?php endif?>
                    <?php if(!validateEmail($_POST['email'])):?>
                        <li><strong>Invalid E-mail:</strong> Type a valid e-mail please.</li>
                    <?php endif?>
                    <?php if(!validatePasswords($_POST['pass1'], $_POST['pass2'])):?>
                        <li><strong>Passwords are invalid:</strong> Passwords doesnt match or are invalid!</li>
                    <?php endif?>
                    <?php if(!validateContact($_POST['contact'])):?>
                        <li><strong>Please enter your contact number.</strong></li>
                    <?php endif?>
                    <?php if(!validateAge($_POST['age'])):?>
                        <li><strong>Please enter your age</strong></li>
                    <?php endif?>
                    </ul>
            </div>
        <?php elseif(isset($_POST['send'])):?>
            <div id="error" class="valid">
                <ul>
                <?php $query = "INSERT INTO employee (name, password, email, contact, age, gender, location, skill) ";                           
                $query .= "('$name', '$password', '$email','$contact','$age','$gender','$location','$skill')";
                // run the query
                mysql_query($query);?>
                    <li><strong>Congratulations!</strong> All fields are OK ;)</li>
                </ul>
            </div>
    <?php endif?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T05:06:12.443

1.  您忘记传递关键字“VALUES”。检查 INSERT INTO 的语法。
2.  您传递给 MySQL 的变量 ('$name', '$password', '$email','$contact','$age','$gender','$location','$skill') 没有已设置（它们没有值）。
3.  您没有处理空字符串的情况。
4.  只有在验证了所有参数后才应该调用数据库（您可能存在 SQL 注入漏洞*）。
5.  如果您正在学习 PHP，我建议您不要使用双引号。
6.  将输出与逻辑分开可能会更好，以后会更易于维护。
7.  有这方面的图书馆。

*：你可能也想对一些字符进行转义，PHP 中有这样的函数，例如 htmlentities 和 mysql_real_escape_string。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:02:12.740

我已经为您编写了完整的代码：

```
<form action="<?php echo $editFormAction; ?>" method="post" name="form1" id="form1">
  <table align="center">
  <tr valign="baseline">
  <td nowrap="nowrap" align="right">Name:</td>
  <td><input type="text" name="name" value="" size="32" /></td>
</tr>
<tr valign="baseline">
  <td nowrap="nowrap" align="right">Email:</td>
  <td><input type="text" name="email" value="" size="32" /></td>
</tr>
<tr valign="baseline">
  <td nowrap="nowrap" align="right">Pass1:</td>
  <td><input type="text" name="pass1" value="" size="32" /></td>
</tr>
<tr valign="baseline">
  <td nowrap="nowrap" align="right">Contact:</td>
  <td><input type="text" name="contact" value="" size="32" /></td>
</tr>
<tr valign="baseline">
  <td nowrap="nowrap" align="right">Age:</td>
  <td><input type="text" name="age" value="" size="32" /></td>
</tr>
<tr valign="baseline">
  <td nowrap="nowrap" align="right">&nbsp;</td>
  <td><input type="submit" value="Insert record" /></td>
</tr>
</table>
<input type="hidden" name="id" value="" />
<input type="hidden" name="MM_insert" value="form1" />
</form>
<p>&nbsp;</p>
<?php require_once('../../../Connections/yourconnection.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
if (PHP_VERSION < 6) {
$theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
}

$theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

switch ($theType) {
case "text":
  $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
  break;    
case "long":
case "int":
  $theValue = ($theValue != "") ? intval($theValue) : "NULL";
  break;
case "double":
  $theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
  break;
case "date":
  $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
  break;
case "defined":
  $theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
  break;
}
return $theValue;
}
}

$editFormAction = $_SERVER['PHP_SELF'];
if (isset($_SERVER['QUERY_STRING'])) {
$editFormAction .= "?" . htmlentities($_SERVER['QUERY_STRING']);
}

if ((isset($_POST["MM_insert"])) && ($_POST["MM_insert"] == "form1")) {
$insertSQL = sprintf("INSERT INTO employee (id, name, email, pass1, contact, age) VALUES (%s, %s, %s, %s, %s, %s)",
                   GetSQLValueString($_POST['id'], "int"),
                   GetSQLValueString($_POST['name'], "text"),
                   GetSQLValueString($_POST['email'], "text"),
                   GetSQLValueString($_POST['pass1'], "text"),
                   GetSQLValueString($_POST['contact'], "text"),
                   GetSQLValueString($_POST['age'], "text"));

mysql_select_db($database_yourdatabase, $databasename);
$Result1 = mysql_query($insertSQL, $databasename) or die(mysql_error());

$insertGoTo = "sucess.php";
if (isset($_SERVER['QUERY_STRING'])) {
$insertGoTo .= (strpos($insertGoTo, '?')) ? "&" : "?";
$insertGoTo .= $_SERVER['QUERY_STRING'];
}
header(sprintf("Location: %s", $insertGoTo));
}

mysql_select_db($database_yourdatabase, $databasename);
$query_query = "SELECT * FROM employee";
$query = mysql_query($query_query, $databasename) or die(mysql_error());
$row_query = mysql_fetch_assoc($query);
$totalRows_query = mysql_num_rows($query);

mysql_free_result($query);
?> 
```

希望能帮助到你！

# blackberry - 如何在黑莓应用程序中永久加载字体（字体管理器仅加载一次）并且需要很长时间才能加载

> ID：10844459
> 
> 赞同：0
> 
> 时间：2012-06-01T04:36:29.470
> 
> 标签：blackberry

if (FontManager.getInstance().load("gautami.ttf", "gautami", FontManager.APPLICATION_FONT) == FontManager.SUCCESS)

```
 {
        try{

         _fontFamily1  = FontFamily.forName("gautami");//_fontFamily1 = FontFamily.forName("aerial");
    } catch(ClassNotFoundException e) {
            _fontFamily1 = Font.getDefault().getFontFamily();
    }
     _headFont = _fontFamily1.getFont(Font.PLAIN,_size);

     super.setFont(_headFont);

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T07:21:44.803

只需使用正确的标志：

```
 int result = FontManager.getInstance().load("mtfont.ttf", "myfont", FontManager.SYSTEM_FONT); 
        // With the APPLICATION_FONT flag, the font is not available in system options and will be removed after exiting your app. However, it will be available during this time for others app to use.

        // Wit the SYSTEM_FONT flag, the font will be available in the system options, will be stored in persistent memory and will be reloaded on each reboot. 
```

# c++ - taglib 链接错误

> ID：10844460
> 
> 赞同：1
> 
> 时间：2012-06-01T04:36:36.957
> 
> 标签：c++, taglib

我正在为我的一个项目使用 taglib。Debug/Release 库是使用 MSVC 10 构建的。在使用 taglib/taglib/Release 中的库编译代码时，会抛出一些链接器错误。

```
id3.cpp.1.o : error LNK2019: unresolved external symbol "__declspec(dllimport) public: class TagLib::AudioPropertie
s * __cdecl TagLib::FileRef::audioProperties(void)const " (__imp_?audioProperties@FileRef@TagLib@@QEBAPEAVAudioProp
erties@2@XZ) referenced in function "struct MetaData __cdecl ID3::getMetaDataOfFile(class std::basic_string<char,st
ruct std::char_traits<char>,class std::allocator<char> >)" (?getMetaDataOfFile@ID3@@YA?AUMetaData@@V?$basic_string@
DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z)
id3.cpp.1.o : error LNK2019: unresolved external symbol "__declspec(dllimport) public: virtual __cdecl TagLib::Stri
ng::~String(void)" (__imp_??1String@TagLib@@UEAA@XZ) referenced in function "struct MetaData __cdecl ID3::getMetaDa
taOfFile(class std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >)" (?getMetaDataOfF
ile@ID3@@YA?AUMetaData@@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z)
id3.cpp.1.o : error LNK2019: unresolved external symbol "__declspec(dllimport) public: class std::basic_string<char
,struct std::char_traits<char>,class std::allocator<char> > __cdecl TagLib::String::to8Bit(bool)const " (__imp_?to8
Bit@String@TagLib@@QEBA?AV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@_N@Z) referenced in function
 "struct MetaData __cdecl ID3::getMetaDataOfFile(class std::basic_string<char,struct std::char_traits<char>,class s
td::allocator<char> >)" (?getMetaDataOfFile@ID3@@YA?AUMetaData@@V?$basic_string@DU?$char_traits@D@std@@V?$allocator
@D@2@@std@@@Z)
id3.cpp.1.o : error LNK2019: unresolved external symbol "__declspec(dllimport) public: virtual __cdecl TagLib::File
Ref::~FileRef(void)" (__imp_??1FileRef@TagLib@@UEAA@XZ) referenced in function "struct MetaData __cdecl ID3::getMet
aDataOfFile(class std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >)" (?getMetaData
OfFile@ID3@@YA?AUMetaData@@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z)
id3.cpp.1.o : error LNK2019: unresolved external symbol "__declspec(dllimport) public: class TagLib::Tag * __cdecl
TagLib::FileRef::tag(void)const " (__imp_?tag@FileRef@TagLib@@QEBAPEAVTag@2@XZ) referenced in function "struct Meta
Data __cdecl ID3::getMetaDataOfFile(class std::basic_string<char,struct std::char_traits<char>,class std::allocator
<char> >)" (?getMetaDataOfFile@ID3@@YA?AUMetaData@@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z
)
id3.cpp.1.o : error LNK2019: unresolved external symbol "__declspec(dllimport) public: bool __cdecl TagLib::FileRef
::isNull(void)const " (__imp_?isNull@FileRef@TagLib@@QEBA_NXZ) referenced in function "struct MetaData __cdecl ID3:
:getMetaDataOfFile(class std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >)" (?getM
etaDataOfFile@ID3@@YA?AUMetaData@@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z)
id3.cpp.1.o : error LNK2019: unresolved external symbol "__declspec(dllimport) public: __cdecl TagLib::FileRef::Fil
eRef(class TagLib::FileName,bool,enum TagLib::AudioProperties::ReadStyle)" (__imp_??0FileRef@TagLib@@QEAA@VFileName
@1@_NW4ReadStyle@AudioProperties@1@@Z) referenced in function "struct MetaData __cdecl ID3::getMetaDataOfFile(class
 std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >)" (?getMetaDataOfFile@ID3@@YA?AU
MetaData@@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z)
id3.cpp.1.o : error LNK2019: unresolved external symbol "__declspec(dllimport) public: __cdecl TagLib::FileName::Fi
leName(char const *)" (__imp_??0FileName@TagLib@@QEAA@PEBD@Z) referenced in function "struct MetaData __cdecl ID3::
getMetaDataOfFile(class std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> >)" (?getMe
taDataOfFile@ID3@@YA?AUMetaData@@V?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z) 
```

我只包括来自 taglib/taglib/Release 文件夹的 tag.lib。还有其他一些我错过的图书馆吗？

# java - 如何在 GFlot 中使用十字准线

> ID：10844462
> 
> 赞同：1
> 
> 时间：2012-06-01T04:36:50.443
> 
> 标签：java, charts, flot

我知道 flot 有一个十字准线插件 - 但我看不到如何在 GFlot 中从 Java 中使用它。

有人能帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-22T21:33:28.540

看看这个网站上的例子：http: [//1.gflot2.appspot.com/#tracking](http://1.gflot2.appspot.com/#tracking)

# php - 必应搜索 API 和 Azure

> ID：10844463
> 
> 赞同：27
> 
> 时间：2012-06-01T04:36:55.333
> 
> 标签：php, search, bing

我正在尝试以编程方式在 Microsoft Bing 搜索引擎上执行搜索。

以下是我的理解：

*   有一个 Bing Search API 2.0 ，很快就会被替换（2012 年 8 月 1 日）
*   新的 API 被称为 Windows Azure Marketplace。
*   您对两者使用不同的 URL。

**在旧 API (Bing Search API 2.0)**中，您在 URL 中指定一个密钥（应用程序 ID），该密钥将用于验证请求。只要在URL中有key作为参数，就可以获得结果。

**在新的 API (Windows Azure Marketplace)**中，您不会在 URL 中包含密钥（帐户密钥）。相反，您输入一个查询 URL，然后服务器将询问您的凭据。使用浏览器时，会**弹出**询问账户名和密码的弹窗。说明是将帐户名留空，然后在密码字段中插入您的密钥。

好的，我已经完成了所有这些，我可以在我的浏览器页面上看到我的搜索结果的 JSON 格式。

如何在 PHP 中以编程方式执行此操作？我尝试从 Microsoft MSDN 库中搜索文档和示例代码，但我要么在错误的地方搜索，要么那里的资源极其有限。

谁能告诉我你如何在 PHP 中执行“在弹出窗口的密码字段中输入密钥”部分？

提前非常感谢。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-06-01T05:01:38.347

新服务的文档可能会变得有点有趣——尤其是在 MSDN 的rabbit-warren 中。我能找到的最清楚的解释是来自这个[Bing Search API](https://datamarket.azure.com/dataset/8818F55E-2FE5-4CE3-A617-0B8BA8419F65)页面的[迁移指南。](http://go.microsoft.com/fwlink/?LinkID=248077)最重要的是，迁移指南最后有一个很好的 PHP 示例。

编辑：好的，迁移指南是一个起点，但它不是最好的例子。这里有两种对我有用的方法（没有代理、防火墙等干扰）：

## 使用 file_get_contents

注意：需要启用“ [allow_url_fopen ”才能使其工作。](http://php.net/manual/en/filesystem.configuration.php)如果不是，您可以使用[ini_set （或更改 php.ini 等）。](http://php.net/ini-set)

```
if (isset($_POST['submit'])) 
{

    // Replace this value with your account key
    $accountKey = 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=';            
    $ServiceRootURL =  'https://api.datamarket.azure.com/Bing/Search/';                    
    $WebSearchURL = $ServiceRootURL . 'Web?$format=json&Query=';

    $cred = sprintf('Authorization: Basic %s', 
      base64_encode($accountKey . ":" . $accountKey) );

    $context = stream_context_create(array(
        'http' => array(
            'header'  => $cred
        )
    ));

    $request = $WebSearchURL . urlencode( '\'' . $_POST["searchText"] . '\'');

    $response = file_get_contents($request, 0, $context);

    $jsonobj = json_decode($response);

    echo('<ul ID="resultList">');

    foreach($jsonobj->d->results as $value)
    {                        
        echo('<li class="resultlistitem"><a href="' 
                . $value->URL . '">'.$value->Title.'</a>');
    }

    echo("</ul>");
} 
```

## 使用卷曲

如果安装了 cURL，这几天很正常：

```
<?php
  $query = $_POST['searchText'];

  $accountKey = 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA';
  $serviceRootURL =  'https://api.datamarket.azure.com/Bing/Search/';  
  $webSearchURL = $serviceRootURL . 'Web?$format=json&Query=';

  $request = $webSearchURL . "%27" . urlencode( "$query" ) . "%27";

  $process = curl_init($request);
  curl_setopt($process, CURLOPT_HTTPAUTH, CURLAUTH_BASIC);
  curl_setopt($process, CURLOPT_USERPWD,  "$accountKey:$accountKey");
  curl_setopt($process, CURLOPT_TIMEOUT, 30);
  curl_setopt($process, CURLOPT_RETURNTRANSFER, TRUE);
  $response = curl_exec($process);
  $response = json_decode($response);

  echo "<ol>";
  foreach( $response->d->results as $result ) {
    $url = $result->Url;
    $title = $result->Title;

    echo "<li><a href='$url'>$title</a></li>";
  }
  echo "</ol>";
?> 
```

[WTS] 将 SearchWeb 更改为 Search。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-30T16:37:39.737

以上都不适合我。我正在运行 MAMP，这可能是相关的。试试下面的：

* * *

```
$accountKey = '=';

function sitesearch ($query, $site, $accountKey, $count=NULL){
  // code from http://go.microsoft.com/fwlink/?LinkID=248077

    $context = stream_context_create(array(
    'http' => array(
      'request_fulluri' => true,       
      'header'  => "Authorization: Basic " . base64_encode($accountKey . ":" . $accountKey)
    ) 
    )); 

    $ServiceRootURL =  'https://api.datamarket.azure.com/Data.ashx/Bing/Search/v1/News?Market=%27en-GB%27&';
    $WebSearchURL = $ServiceRootURL . '$format=json&Query=';  

    $request = $WebSearchURL . urlencode("'$query'"); // note the extra single quotes
    if ($count) $request .= "&\$top=$count"; // note the dollar sign before $top--it's not a variable!
    return json_decode(file_get_contents($request, 0, $context), true);
}

$q = "query";

if ($q){
  // get search results
  $articles = sitesearch ($q, $_SERVER['HTTP_HOST'], $accountKey , 100);

  foreach($articles['d']['results'] as $article) {
      echo " <p>".$article['Title'].'</p>';
      echo " <p>".$article['Description'].'</p>';
      echo " <p>".$article['Source'].'</p>';
      echo " <p>".strtotime($article['Date']).'</p>';
  }

} 
```

* * *

来自：http : [//bililite.com/blog/2012/06/05/new-bing-api/](http://bililite.com/blog/2012/06/05/new-bing-api/)

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-08-28T05:39:30.907

您可以使用以下代码获取必应搜索结果

```
$acctKey = 'Your account key here';
$rootUri = 'https://api.datamarket.azure.com/Bing/Search';
$query = 'Kitchen';
$serviceOp ='Image';
$market ='en-us';
$query = urlencode("'$query'");
$market = urlencode("'$market'");
$requestUri = "$rootUri/$serviceOp?\$format=json&Query=$query&Market=$market";
$auth = base64_encode("$acctKey:$acctKey");
$data = array(  
            'http' => array(
                        'request_fulluri' => true,
                        'ignore_errors' => true,
                        'header' => "Authorization: Basic $auth"
                        )
            );
$context = stream_context_create($data);
$response = file_get_contents($requestUri, 0, $context);
$response=json_decode($response);
echo "<pre>";
print_r($response);
echo "</pre>"; 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-04-09T08:00:41.433

[http://www.guguncube.com/2771/python-using-the-bing-search-api](http://www.guguncube.com/2771/python-using-the-bing-search-api)

它包含查询 bing 的 python 代码，这是根据最新的新 API (Windows Azure Marketplace)

```
# -*- coding: utf-8 -*-
import urllib
import urllib2
import json

def main():
    query = "sunshine"
    print bing_search(query, 'Web')
    print bing_search(query, 'Image')

def bing_search(query, search_type):
    #search_type: Web, Image, News, Video
    key= 'YOUR_API_KEY'
    query = urllib.quote(query)
    # create credential for authentication
    user_agent = 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; Trident/4.0; FDM; .NET CLR 2.0.50727; InfoPath.2; .NET CLR 1.1.4322)'
    credentials = (':%s' % key).encode('base64')[:-1]
    auth = 'Basic %s' % credentials
    url = 'https://api.datamarket.azure.com/Data.ashx/Bing/Search/'+search_type+'?Query=%27'+query+'%27&$top=5&$format=json'
    request = urllib2.Request(url)
    request.add_header('Authorization', auth)
    request.add_header('User-Agent', user_agent)
    request_opener = urllib2.build_opener()
    response = request_opener.open(request) 
    response_data = response.read()
    json_result = json.loads(response_data)
    result_list = json_result['d']['results']
    print result_list
    return result_list

if __name__ == "__main__":
    main() 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-04-17T13:15:18.963

这是搜索 API 的一个工作示例，只需将“XXXX”替换为您的访问密钥。即使我浪费了好几个小时试图让它使用 cURL 工作，但由于本地的“CURLOPT_SSL_VERIFYPEER”而失败:( - 所以请确保你的 cURL 选项设置正确。

```
$url = 'https://api.datamarket.azure.com/Bing/Search/Web?Query=%27xbox%27';
$process = curl_init($url);
curl_setopt($process, CURLOPT_HTTPAUTH, CURLAUTH_BASIC);
curl_setopt($process, CURLOPT_USERPWD, base64_encode("username:XXXX"));
curl_setopt($process, CURLOPT_TIMEOUT, 30);
curl_setopt($process, CURLOPT_RETURNTRANSFER, TRUE);
curl_setopt($process, CURLOPT_SSL_VERIFYPEER, false);
$response = curl_exec($process);

# Deliver
return $response;

# Have a great day!
curl_close($process); 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-07-27T14:18:54.417

别忘了把这个：

```
base64_encode("ignored:".$accountKey) 
```

代替：

```
base64_encode($accountKey . ":" . $accountKey) 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2013-11-20T12:35:23.850

下面是如何使用[Unirest 库](http://unirest.io/php "统一图书馆")调用 Bing/Azure API 的示例。

```
require_once '/path/to/unirest-php/lib/Unirest.php';

$accountKey = "xxx";
$searchResults = Unirest::get("https://api.datamarket.azure.com/Bing/Search/v1/Composite",
    array(),
    array(
        'Query' => '%27Microsoft%27',
        'Sources' => '%27web%2Bimage%2Bvideo%2Bnews%2Bspell%27',
        '$format' => 'json',
    ), $accountKey, $accountKey
);

// Results are here:
$objectArray = $searchResults->body->d->results;
$rawJson = $searchResults->raw_body; 
```

`Source`您可以通过在 URL 中定义参数来省略参数：`https://api.datamarket.azure.com/Bing/Search/v1/Web`或`https://api.datamarket.azure.com/Bing/Search/v1/Image`

注意：请求 URL 中的参数区分大小写。对于 Bing，它们以大写字母开头。

# java - 为什么 spring @Autowired 不能与 java 泛型一起使用

> ID：10844466
> 
> 赞同：3
> 
> 时间：2012-06-01T04:37:12.640
> 
> 标签：java, spring, generics, spring-mvc, autowired

受 spring data awesomeness 的启发，我想创建一个抽象的 RESTController，我可以为我的很多控制器扩展它。我创建了以下类：

```
@Controller
public abstract class RESTController<E, PK extends Serializable, R extends PagingAndSortingRepository<E, PK>>
{
    @Autowired
    private R repository;

    @RequestMapping(method=RequestMethod.GET, params={"id"})
    @ResponseBody 
    public E getEntity(@RequestParam PK id)
    {
        return repository.findOne(id);
    }

    ...
} 
```

我希望泛型允许我在存储库中使用@Autowired，但我收到以下错误：

```
SEVERE: Allocate exception for servlet appServlet
org.springframework.beans.factory.NoSuchBeanDefinitionException: No unique bean of type [org.springframework.data.repository.PagingAndSortingRepository] is defined: expected single matching bean but found 3: [groupRepository, externalCourseRepository, managedCourseRepository]
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:800)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:707)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:478)
    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:284)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294) 
```

我明白错误告诉我什么，@Autowired 有不止一个匹配项。我很困惑，因为我认为通过创建以下控制器它会起作用：

```
@Controller
@RequestMapping(value="/managedCourse")
public class ManagedCourseController extends RESTController<ManagedCourse, Long, ManagedCourseRepository>
{
    ...
} 
```

这很容易通过在 RESTController 中使用这样的方法来解决：

```
protected abstract R getRepository(); 
```

然后在您的实现类中执行此操作：

```
@Autowired
private ManagedCourseRepository repository;

@Override
protected ManagedCourseRepository getRepository() 
{
    return repository;
} 
```

我只是想知道是否有人对我如何使它起作用有任何想法。

我还发现[了这篇](http://denis-zhdanov.blogspot.com/2009/12/advanced-autowiring-filtered-by-generic.html)有趣的文章。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:21:52.310

我认为没有任何方法可以使用 Spring 进行这项工作。之前看过Spring Ioc的源码，发现它不关心Class Level的Generic Declaration，只关心Field或Method Parameter。如果您有兴趣，请查看 org.springframework.beans.factory.config.DependencyDescriptor 类，您会发现我所说的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T14:06:17.770

在这种情况下，我实际上会推荐基于 XML 的注释连接。在我看来，您正试图避免控制器实例中出现大量不必要的重复。如果您有一个 REST 控制器类，则容器可以根据需要实例化任意数量的实例，将每个实例映射到不同的 URI。

注释更像是您计划创建单个实例的情况的简写。这恰好涵盖了大约 90% 的基于表单的 J2EE 会话 bean，但它不是灵丹妙药。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T04:59:30.087

Spring 使用成员的类型来“自动连接”它，因此使用泛型您只提供泛型类型信息，而不是您希望 spring 为您注入的特定类型。

# objective-c - 如何检查变量是否为对象？

> ID：10844469
> 
> 赞同：3
> 
> 时间：2012-06-01T04:37:22.337
> 
> 标签：objective-c

有没有办法在编译时执行以下操作？

```
int anInteger = 0;
__if_object(anInteger) {
    // send object some messages
}
__if_primitive(anInteger) {
    // do something else
} 
```

可以使用它的虚拟情况是定义下面的 __add_macro。

```
#define __add_macro(var, val) __something_goes_here__

int i = 1;
MyInteger* num = [[MyNumber alloc] initWithValue:1]

__add_macro(i, 4);
__add_macro(num, 4);

// both should now hold 5 
```

**澄清/简化**

我想没有办法用一个宏来做到这一点。但是我仍然需要它来警告宏是否用于错误的数据类型。这两种类型是：`object`和`non-object`)。

要检查它是否是一个对象，这有效：

```
#define __warn_if_not_object(var) if(0){[(var) class];} 
```

我需要的：

```
#define _warn_if_object(var) if(0){__something_here__} 
```

同样，我需要在编译时发生这种情况。它可以抛出错误或警告。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T04:56:06.380

当您声明一个`int`变量时，您实际上只能`int`在其中放入一个值。

虽然这是 Objective-C，因此是 C，因此您可以绕过几乎所有存在的类型保护机制，但不*建议*这样做。事实上，不能保证一个`NSNumber`引用甚至适合一个`int`变量——而且如果你尝试绕过任何警告，一些位就会被扔掉，从而使引用无效。

所以，不，虽然你可以分辨出对象引用所指的类，但你通常无法分辨变量中是否包含整数值或对象引用——你甚至不应该尝试将这两个非常不同的东西放入同一个变量。

**答案 2**

帕特里克，你的评论和澄清似乎表明你不是试图通过询问来解决问题的开始（你如何确定 an 中的值`int`是否是一个对象 - 上面回答了，你没有），而是一些相当不同的东西。 ..

我认为您所追求的是*函数重载*，并且您似乎正在尝试使用宏，也可能是内联函数。Clang 支持函数重载，这里是程序片段，可以告诉你如何解决你的问题：

```
// Clang likes prototypes so let's give it some
// The following declares two overloaded inline functions:
NS_INLINE void __attribute__((overloadable)) byType(int x);
NS_INLINE void __attribute__((overloadable)) byType(NSNumber *x);

// now some simple definitions:
NS_INLINE void __attribute__((overloadable)) byType(int x)
{
   NSLog(@"int version called: %d", x);
}

NS_INLINE void __attribute__((overloadable)) byType(NSNumber *x)
{
   NSLog(@"NSNumber version called: %@", x);
}

// now call them, automatically selecting the right function
// based on the argument type
- (void)applicationDidFinishLaunching:(NSNotification *)aNotification
{
   int x = 5;
   NSNumber *y = [NSNumber numberWithInt:42];

   byType(x);
   byType(y);
} 
```

上面的代码运行时输出：

```
int version called: 5
NSNumber version called: 42 
```

Clang 3 编译了上面的代码，内联了两个调用，所以你得到的代码与使用宏的代码相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T18:59:09.500

请不要在标量值和指向对象的指针之间混用......它不会很好地结束。

如果你坚持你可以用 Objective-C++ 做一些事情

就像是

```
int sum(int,int);
NSNumber * sum(NSNumber *, NSNumber *); 
```

# matlab - matlab：简单的矩阵过滤 - 组大小

> ID：10844470
> 
> 赞同：1
> 
> 时间：2012-06-01T04:37:24.287
> 
> 标签：matlab, sorting, matrix, filtering

我有一个 huuuge 矩阵，用于存储有关多个粒子轨迹的 X 和 Y 坐标的信息，在简化版本中如下所示：

col 1-轨道号；col 2-帧数；col 2-坐标X；col 3-坐标Y

例如：

```
A = 
1   1   5.14832 3.36128
1   2   5.02768 3.60944
1   3   4.85856 3.81616
1   4   5.17424 4.08384
2   1   2.02928 18.47536
2   2   2.064   18.5464
3   1   8.19648 5.31056
3   2   8.04848 5.33568
3   3   7.82016 5.29088
3   4   7.80464 5.31632
3   5   7.68256 5.4624
3   6   7.62592 5.572 
```

现在我想过滤掉比 4 短的轨迹，并保留剩余的东西，比如（注意重新编号轨迹）：

```
B = 

1   1   5.14832 3.36128
1   2   5.02768 3.60944
1   3   4.85856 3.81616
1   4   5.17424 4.08384
2   1   8.19648 5.31056
2   2   8.04848 5.33568
2   3   7.82016 5.29088
2   4   7.80464 5.31632
2   5   7.68256 5.4624
2   6   7.62592 5.572 
```

如何有效地做到这一点？我可以考虑使用 for 循环和 vertcat 的一些想法，但它是有史以来最慢的解决方案：/

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T05:28:10.263

这将过滤掉那些长度小于 4 的轨迹：

```
[v, u1, w] = unique(A(:, 1), 'last');
[~, u2, ~] = unique(A(:, 1), 'first');
keys = v(find(u1 - u2 >= 3));
B = A(ismember(A(:, 1), keys), :); 
```

这将重新编号它们：

```
[~, ~, B(:, 1)] = unique(B(:, 1)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T06:01:05.770

这是与[@Ansari](https://stackoverflow.com/a/10844863/97160)略有不同的解决方案：

```
t = 1:max(A(:,1));                  %# possible track numbers
tt = t( histc(A(:,1),t) >= 4 );     %# tracks with >= 4 frames
B = A(ismember(A(:,1),tt),:);       %# filter rows
[~,~,B(:,1)] = unique(B(:,1));      %# renumber track numbers 
```

* * *

在上面的代码中计算索引变量的另一种方法`tt`：

```
tt = find( accumarray(A(:,1), 1, [], @(x)numel(x)>=4) ); 
```

# ruby-on-rails-3.1 - 升级到 Rails 3.1 后 gravatar_image_tag 中断

> ID：10844473
> 
> 赞同：0
> 
> 时间：2012-06-01T04:38:29.377
> 
> 标签：ruby-on-rails-3.1, gravatar

我使用 gravatar_image_tag 生成用户头像。它在 Rails 3.0.10 中运行良好，但在升级到 Rails 3.1.0 时中断。不幸的是，它不会产生任何错误消息/警告。它只是停止显示图像。我不知道如何调试它。

我知道这是非常有限的信息，但希望之前遇到此问题的人可以帮助我。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T22:56:42.673

我发现在 Rails 3.0 中，我可以写：

```
 - link_to(@user) do
          = avatar_for(@user, size = 80) 
```

但在 Rails 3.1 中，我必须写：

```
 = link_to(@user) do
          = avatar_for(@user, size = 80) 
```

这就是升级到 Rails 3.1 后 gravatar_image_tag 对我不起作用的原因

# c# - Visual Studio 2008 编辑器无法输入文字？

> ID：10844478
> 
> 赞同：0
> 
> 时间：2012-06-01T04:39:05.607
> 
> 标签：c#, visual-studio, visual-studio-2008

我正在使用 Visual Studio 2008 编辑器来创建 c# 程序。在我的编辑器中，我最多只能输入 160 列。如果我输入 161 列，我将无法输入该列。它会自动进入下一行第一列。如何解决这个问题在我的 Visual Studio 编辑器中？

```
for Example it show like this,

<%--   <table width="100%" cellpadding="0" cellspacing="0" height="50px" style="border -bottom:1px solid #E5E5E5; border-top:1px solid #E5E5E5;">   . 
```

第一行从第 79 列开始，（-bottom 从下一行第一列开始）。我的垂直滚动条不显示...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:41:23.090

尝试工具 -> 选项 -> 文本编辑器 -> “所有语言”或您正在使用的特定语言。

禁用自动换行。

# c# - 实体框架数据保存问题

> ID：10844481
> 
> 赞同：1
> 
> 时间：2012-06-01T04:39:18.170
> 
> 标签：c#, .net, entity-framework-4

我在实体框架方面遇到了非常奇怪的问题。我正在使用实体框架将数据保存到数据库中。当我调用 SaveChanges() 方法时，数据正在保存到数据库中，我什至可以在 SQL 中看到我在数据库中的更新。但是当我关闭我的应用程序并重新打开数据时，数据库中的数据将会丢失，并且它显示的是我第一次保存之前的数据。即使我在应用程序中选择不同的记录并保存，也会发生这种情况，那么以前的记录数据将会丢失。我已经尝试了所有可能的选择，没有任何帮助。

**下面是代码片段。**

```
AxRetailPosDb context = new AxRetailPosDb(DbContextHelper.DbContextConnectionString(this.Application.Settings.Database.Connection.ConnectionString));
bool flag = false;
try
{
  CUSTTABLE cust = context.CUSTTABLEs.Where(c => c.ACCOUNTNUM == customer.CustomerId).FirstOrDefault();
  DIRPARTYTABLE dirpartytbl = context.DIRPARTYTABLEs.Where(p => p.RECID == cust.PARTY).FirstOrDefault();
  if (cust != null)
  {
    cust.IGNDELIVERYCODE = cusEextView.DeliveryCode;
    if (cusEextView.Birthday != null && cusEextView.Birthday != Convert.ToDateTime("01-01-0001"))
    {
      cust.IGNBIRTHDATE = Convert.ToDateTime(cusEextView.Birthday.ToShortDateString());
    }
    cust.IGNMODELSCORE = cusEextView.Modelscore;
    cust.CREDITMAX = cusEextView.ChargeLimit;
    if (cusEextView.Gender != null)
    {
      cust.IGNGENDER = (int)Enum.Parse(typeof(Microsoft.Dynamics.Retail.Pos.Customer.WinFormsTouch.frmNewCustomer.Gender), cusEextView.Gender);
    }
  }
  if (dirpartytbl != null)
  {
    dirpartytbl.LANGUAGEID = customer.Language;
  }

  context.SaveChanges();
}
catch
{
}
finally
{
  if (context != null)
  {
    context.Dispose();
  }
} 
```

任何建议将不胜感激。

# .net - 更新 SQL Server 数据库

> ID：10844482
> 
> 赞同：3
> 
> 时间：2012-06-01T04:39:25.940
> 
> 标签：.net, sql-server

我正在开发一个项目，其中必须跨服务器更新数据，当 SQL Server 中发生新的更新时，必须在另一个 SQL Server 中复制该更新。

目前它是使用 Web 服务完成的。有没有像 dts 和 ssis 这样的开源工具来做同样的事情。

还有其他更好的方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T04:49:12.687

如果将服务器设置为链接服务器，则可以在同一过程中对两台服务器进行更新。警告是，如果服务器之间的任何设置不同，链接服务器可能会有点痛苦。

[http://msdn.microsoft.com/en-us/library/aa213778(v=sql.80).aspx](http://msdn.microsoft.com/en-us/library/aa213778(v=sql.80).aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:38:46.487

合并复制[http://msdn.microsoft.com/en-us/library/ms151329%28v=sql.105%29.aspx](http://msdn.microsoft.com/en-us/library/ms151329%28v=sql.105%29.aspx)绝对是在考虑这种情况下构建的。也不是很难使用/设置。

# php - 卷曲不返回所有标题

> ID：10844483
> 
> 赞同：0
> 
> 时间：2012-06-01T04:39:31.577
> 
> 标签：php, curl, http-headers

我在 PHP 中使用 Curl 来调用[API](http://help.themoviedb.org/kb/api/user-authentication)。

根据他们的[文档](http://help.themoviedb.org/kb/api/authentication-request-token)，他们在返回页面的标题中返回“Authentication-Callback”。

当我将 URL 粘贴到浏览器中时，它工作得很好，但 Curl 似乎忽略了它。

这是我的代码

```
 $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, 'http://api.themoviedb.org/3/authentication/token/new?api_key=[MY_API_KEY]&language=en');
    curl_setopt($ch, CURLOPT_HEADER, 0);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_FAILONERROR, 1);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);

    $results = curl_exec($ch);
    $headers = curl_getinfo($ch); 
```

这是返回的标题

```
Array
    (
        [url] => http://api.themoviedb.org/3/authentication/token/new?api_key=[MY_API_KEY]&language=en&
        [content_type] => application/json;charset=utf-8
        [http_code] => 200
        [header_size] => 470
        [request_size] => 137
        [filetime] => -1
        [ssl_verify_result] => 0
        [redirect_count] => 0
        [total_time] => 0.109
        [namelookup_time] => 0
        [connect_time] => 0.047
        [pretransfer_time] => 0.047
        [size_upload] => 0
        [size_download] => 116
        [speed_download] => 1064
        [speed_upload] => 0
        [download_content_length] => 116
        [upload_content_length] => 0
        [starttransfer_time] => 0.109
        [redirect_time] => 0
        [certinfo] => Array
            (
            )

    ) 
```

据我所知，一切都是正确的。Curl 返回我完全需要的数据，而不是正确的标题。

任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T04:48:55.733

您现在正在做的是获取有关标题的存储信息，通过[`curl_getinfo()`](http://www.php.net/manual/en/function.curl-getinfo.php)该信息仅获取该页面上 OPT 列表中的信息。

您应该做的是返回标头，然后手动将其分开：

```
curl_setopt($ch, CURLOPT_HEADER, 1);
// The rest of your options
$output = curl_exec($ch);

// Since the end of the header is always delimited by two newlines
$output = explode("\n\n", $output, 2);
$header = $output[0];
$content = $output[1]; 
```

这是更多的工作，但会给你真正的标题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T05:00:07.037

这是我的代码，用于执行 phsource 建议将标头放入 $headers 数组的操作

```
# Extract headers from response
preg_match_all('%HTTP/\\d\\.\\d.*?(\\r\\n|\\n){2,}%si', $curl_result, $header_matches);
$headers = preg_split('/\\r\\n/', str_replace("\r\n\r\n",'',array_pop($header_matches[0])));

# Convert headers into an associative array
if(is_array($headers))
{
  foreach ($headers as $header)
  {
    preg_match('#(.*?)\:\s(.*)#', $header, $header_matches);
    if(isset($header_matches[1]))
    {
      $headers[$header_matches[1]] = $header_matches[2];
      $headers['lowercase'][strtolower($header_matches[1])] = $header_matches[2];
    }
  }
}

# Remove the headers from the response body
$curl_result = preg_replace('%HTTP/\\d\\.\\d.*?(\\r\\n|\\n){2,}%si','',$curl_result); 
```

您可能希望将 \r\n 替换为您认为合适的 PHP_EOL

# javascript - 在javascript中从字符串格式化日期

> ID：10844485
> 
> 赞同：1
> 
> 时间：2012-06-01T04:39:40.250
> 
> 标签：javascript, html, date

我有一个包含日期的字符串，但我无法转换它。

```
var startDate = "March-09-2010"; 
var convertedStartDate = new Date(startDate); 
var month = convertedStartDate.getMonth() + 1 
var day = convertedStartDate.getDay(); 
var year = convertedStartDate.getFullYear(); 
var shortStartDate = month + "-" + day + "-" + year; 
alert(shortStartDate); 
```

我想要它，所以它将**March-09-2010**转换为**09-03-10** (DD-MM-YY)

有人知道我在做什么错吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:01:57.760

```
var startDate = "March-09-2010"; 
var convertedStartDate = new Date(startDate.replace(/-/g, "/")); // replace hyphen with slash
var month = convertedStartDate.getMonth() + 1 
var date = convertedStartDate.getDate(); 
var year = convertedStartDate.getFullYear(); 
var shortStartDate = date + "-" + month + "-" + year; 
alert(shortStartDate); 
```

演示：http: [//jsfiddle.net/BjnBW/](http://jsfiddle.net/BjnBW/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T04:45:41.333

尝试这个：

```
var dt=Date.parse(Yourstring);

formatDate('DD-MM-YY',dt); 
```

请检查此[Date.parse](http://msdn.microsoft.com/en-us/library/k4w173wk%28v=vs.94%29.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T04:56:20.400

检查你的语法稍微改变了你的代码，然后根据它修改它---

```
var startDate = "March/09/2010";
var convertedStartDate = new Date(startDate);
var month = convertedStartDate.getMonth() + 1
var day = convertedStartDate.getDate();
var year = convertedStartDate.getFullYear();
var shortStartDate = day+ "-" + month+ "-" + year;
alert(shortStartDate); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T04:57:48.753

用于`getDateFromFormat()`在 javascript 中将字符串转换为日期。

检查此链接以获得更多帮助： http: [//www.mattkruse.com/javascript/date/](http://www.mattkruse.com/javascript/date/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-01T06:04:28.990

您需要将“三月”转换为数字。一种方法是使用此 Array 扩展来从月份名称中检索月份编号：

```
Array.prototype.enum = function(){
     var obj = {};
     for (var i=0; i<this.length; (i+=1)) {
        obj[this[i]] = i;
     }
     this.enum = obj;
     return this;
}; 
```

现在，创建一个带有月份名称的数组

```
var months = ('January,February,March,April,May,June,July,'+
             'August,September,October,November,December').split(',')
              .enum(); 
```

现在你重写你的日期：

```
var startDate = "March-09-2010".split(/\-/),
    month     = months.enum[startDate[0]]+1;
startDate     = [startDate[1],
                 month < 10 ? '0'+month : month,
                 startDate[2]].join('-');
//=> startDate now is: '09-03-2010' 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-01T05:27:28.733

```
var shortStartDate = 
  Globalize.format(Globalize.parseDate(startDate, 'MMMM-dd-yyyy'), 'dd-MM-yy'); 
```

使用一些库来进行转换，因为内置的 Date.parse() 是依赖于实现的。这取决于系统区域设置它接受的格式。

上面的代码使用了 Globalize.js，它可以处理大量的日期格式，包括不同语言的月份名称格式（默认为英文）。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-06-01T04:50:11.160

您的日期字符串格式不正确。有关正确的格式，请参阅[https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date)

试试这个或[jsfiddle](http://jsfiddle.net/AE4MS/2/)

```
var startDate = "March-09-2010";
var tmp = startDate.split('-');
tmp.splice(1, 0, ',');
var convertedStartDate = new Date(tmp.join(' '));
var month = convertedStartDate.getMonth() + 1
var day = convertedStartDate.getDate();
var year = convertedStartDate.getFullYear();
var shortStartDate = ('0' + day).slice(-2) + "-" + ('0' + month).slice(-2) + "-" + year;
alert(shortStartDate); 
```

# hadoop - HDFS 集群的一些数据节点在 reducer 运行时突然断开连接

> ID：10844486
> 
> 赞同：4
> 
> 时间：2012-06-01T04:39:43.547
> 
> 标签：hadoop, hdfs

我有 8 台从属计算机和 1 台用于运行 Hadoop（版本 0.21）的主计算机

当我在 10GB 数据上运行 MapReduce 代码时，集群的一些数据节点突然断开连接 在所有映射器完成并处理了大约 80% 的减速器后，随机一个或多个数据节点从网络中断开。然后其他数据节点开始从网络中消失，即使我在发现某些数据节点断开连接时终止了 MapReduce 作业。

我尝试将 dfs.datanode.max.xcievers 更改为 4096，关闭所有计算节点的防火墙，禁用 selinux 并将文件打开限制的数量增加到 20000，但它们根本不起作用......

有人有解决这个问题的想法吗？

以下是来自 mapreduce 的错误日志

```
12/06/01 12:31:29 INFO mapreduce.Job: Task Id : attempt_201206011227_0001_r_000006_0, Status : FAILED
java.io.IOException: Bad connect ack with firstBadLink as ***.***.***.148:20010
    at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.createBlockOutputStream(DFSOutputStream.java:889)
    at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.nextBlockOutputStream(DFSOutputStream.java:820)
    at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:427) 
```

* * *

以下是来自datanode的日志

```
2012-06-01 13:01:01,118 INFO org.apache.hadoop.hdfs.server.datanode.DataNode: Receiving block blk_-5549263231281364844_3453 src: /*.*.*.147:56205 dest: /*.*.*.142:20010
2012-06-01 13:01:01,136 INFO org.apache.hadoop.hdfs.server.datanode.DataNode: DatanodeRegistration(*.*.*.142:20010, storageID=DS-1534489105-*.*.*.142-20010-1337757934836, infoPort=20075, ipcPort=20020) Starting thread to transfer block blk_-3849519151985279385_5906 to *.*.*.147:20010
2012-06-01 13:01:19,135 WARN org.apache.hadoop.hdfs.server.datanode.DataNode: DatanodeRegistration(*.*.*.142:20010, storageID=DS-1534489105-*.*.*.142-20010-1337757934836, infoPort=20075, ipcPort=20020):Failed to transfer blk_-5797481564121417802_3453 to *.*.*.146:20010 got java.net.ConnectException: > Connection timed out
    at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
    at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:701)
    at org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)
    at org.apache.hadoop.net.NetUtils.connect(NetUtils.java:373)
    at org.apache.hadoop.hdfs.server.datanode.DataNode$DataTransfer.run(DataNode.java:1257)
    at java.lang.Thread.run(Thread.java:722)

2012-06-01 13:06:20,342 INFO org.apache.hadoop.hdfs.server.datanode.DataBlockScanner: Verification succeeded for blk_6674438989226364081_3453
2012-06-01 13:09:01,781 WARN org.apache.hadoop.hdfs.server.datanode.DataNode: DatanodeRegistration(*.*.*.142:20010, storageID=DS-1534489105-*.*.*.142-20010-1337757934836, infoPort=20075, ipcPort=20020):Failed to transfer blk_-3849519151985279385_5906 to *.*.*.147:20010 got java.net.SocketTimeoutException: 480000 millis timeout while waiting for channel to be ready for write. ch : java.nio.channels.SocketChannel[connected local=/*.*.*.142:60057 remote=/*.*.*.147:20010]
    at org.apache.hadoop.net.SocketIOWithTimeout.waitForIO(SocketIOWithTimeout.java:246)
    at org.apache.hadoop.net.SocketOutputStream.waitForWritable(SocketOutputStream.java:164)
    at org.apache.hadoop.net.SocketOutputStream.transferToFully(SocketOutputStream.java:203)
    at org.apache.hadoop.hdfs.server.datanode.BlockSender.sendChunks(BlockSender.java:388)
    at org.apache.hadoop.hdfs.server.datanode.BlockSender.sendBlock(BlockSender.java:476)
    at org.apache.hadoop.hdfs.server.datanode.DataNode$DataTransfer.run(DataNode.java:1284)
    at java.lang.Thread.run(Thread.java:722) 
```

* * *

hdfs-site.xml

```
<configuration>
<property>
<name>dfs.name.dir</name>
<value>/home/hadoop/data/name</value>
 </property>
 <property>
     <name>dfs.data.dir</name>
              <value>/home/hadoop/data/hdfs1,/home/hadoop/data/hdfs2,/home/hadoop/data/hdfs3,/home/hadoop/data/hdfs4,/home/hadoop/data/hdfs5</value>
     </property>
     <property>
         <name>dfs.replication</name>
         <value>3</value>
     </property>

     <property>
               <name>dfs.datanode.max.xcievers</name>
              <value>4096</value>
    </property>

    <property>
            <name>dfs.http.address</name>
            <value>0.0.0.0:20070</value>
            <description>50070
      The address and the base port where the dfs namenode web ui will listen on.
      If the port is 0 then the server will start on a free port.
            </description>
    </property>

    <property>
            <name>dfs.datanode.http.address</name>
            <value>0.0.0.0:20075</value>
            <description>50075
      The datanode http server address and port.
      If the port is 0 then the server will start on a free port.
            </description>
     </property>

    <property>
      <name>dfs.secondary.http.address</name>
      <value>0.0.0.0:20090</value>
      <description>50090
      The secondary namenode http server address and port.
      If the port is 0 then the server will start on a free port.
      </description>
    </property>

    <property>
      <name>dfs.datanode.address</name>
      <value>0.0.0.0:20010</value>
      <description>50010
      The address where the datanode server will listen to.
      If the port is 0 then the server will start on a free port.
      </description>

 <property>
      <name>dfs.datanode.ipc.address</name>
      <value>0.0.0.0:20020</value>
      <description>50020
      The datanode ipc server address and port.
      If the port is 0 then the server will start on a free port.
      </description>
    </property>

    <property>
      <name>dfs.datanode.https.address</name>
      <value>0.0.0.0:20475</value>
    </property>

        <property>
         <name>dfs.https.address</name>
          <value>0.0.0.0:20470</value>
        </property>
</configuration> 
```

* * *

mapred-site.xml

```
<configuration>
    <property>
            <name>mapred.job.tracker</name>
            <value>masternode:29001</value>
    </property>
    <property>
            <name>mapred.system.dir</name>
            <value>/home/hadoop/data/mapreduce/system</value>
    </property>
    <property>
            <name>mapred.local.dir</name>
            <value>/home/hadoop/data/mapreduce/local</value>
    </property>
    <property>
            <name>mapred.map.tasks</name>
            <value>32</value>
            <description> default number of map tasks per job.</description>
    </property>
    <property>
            <name>mapred.tasktracker.map.tasks.maximum</name>
            <value>4</value>
    </property>
    <property>
            <name>mapred.reduce.tasks</name>
            <value>8</value>
            <description> default number of reduce tasks per job.</description>
    </property>
    <property>
            <name>mapred.map.child.java.opts</name>
            <value>-Xmx2048M</value>
    </property>
    <property>
            <name>io.sort.mb</name>
            <value>500</value>
    </property>
    <property>
            <name>mapred.task.timeout</name>
            <value>1800000</value> <!-- 30 minutes -->
    </property>

    <property>
            <name>mapred.job.tracker.http.address</name>
            <value>0.0.0.0:20030</value>
            <description> 50030
            The job tracker http server address and port the server will listen on.
            If the port is 0 then the server will start on a free port.
            </description>
        </property>

        <property>
                <name>mapred.task.tracker.http.address</name>
                <value>0.0.0.0:20060</value>
                <description> 50060

         </property>

</configuration> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-04T10:10:59.487

尝试`max.xcievers`在`conf/hdfs-site.xml` [http://hbase.apache.org/book.html#dfs.datanode.max.xcievers](http://hbase.apache.org/book.html#dfs.datanode.max.xcievers)中配置：

```
<property>
        <name>dfs.datanode.max.xcievers</name>
        <value>4096</value>
</property> 
```

# iphone - 将语音备忘录拉入图像选择器等应用程序

> ID：10844491
> 
> 赞同：1
> 
> 时间：2012-06-01T04:40:03.883
> 
> 标签：iphone, objective-c, xcode

有谁知道是否有一种方法可以访问语音备忘录并获取他们的路径，就像使用图像选择器获取图像和视频一样。

我正在尝试访问语音备忘录并选择一个上传到服务器。

有谁知道是否可以访问这些？我一直在寻找这个问题的答案一段时间，但我似乎找不到任何东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T04:42:48.710

无法从您的应用访问已制作的语音备忘录。您最好的选择是使用`AVAudioRecorder`并让用户在您的应用程序中记录他们自己的备忘录以上传到服务器。

# java - 静态变量与应用程序变量

> ID：10844492
> 
> 赞同：0
> 
> 时间：2012-06-01T04:40:12.767
> 
> 标签：java, android

我只是想看看你们对 android 开发的不同看法（在使用、效率甚至良好实践方面）。

如果我在我的一个基本活动中使用静态变量（因此它的单个实例并且可以在任何地方访问），而不是在我的应用程序子类中使用非静态变量（这是所有活动的单个应用程序类）。

如果您尝试使用全局变量，两者都将获得相同的最终结果。

我使用的是静态的，然后我转而使用应用程序子类（如果你们想知道“我在用它做什么”，我想播放背景音乐并从任何地方控制它，我不想使用服务出于某些原因）。

任何帮助澄清最好的方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:00:50.777

这也取决于使用情况，假设您正在使用

```
android:process 
```

出于某种原因，在您`Activity`或您的清单文件中的任何其他内容中，您的静态值将被重置，您将获得分配给静态变量的初始值。在这种情况下，您可以使用`SharedPreference`或`Application`上课。

因为如果您`android:process`用于任何特定的 Activity，那么该 Activity 将在另一个进程中运行，并且我们知道在 Android 中每个应用程序都在其自己的进程中运行。

除此之外，我认为使用静态没有太多问题。但是，我个人更喜欢`Application`类，因为 Android 将它用于全局变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:26:38.377

在程序执行期间，每个变量都有自己的访问时间。这称为变量的生命周期。

*   **实例变量：** 实例变量是类成员。每次从类创建对象时，都会为该对象创建这些实例变量的全新副本。实际上，从一个类创建一个对象，部分地意味着为该对象创建实例变量的副本。因此，每个对象都有自己的实例变量副本，只要它们所属的对象存在，这些实例变量就存在。这些变量的值构成了我们所说的：对象的状态。

*   **静态变量：** 静态变量也是类的成员，但不能属于从该类创建的任何对象。因此，从类中创建的对象不会获得自己的静态变量副本。因此，静态变量仅在运行时加载类时创建。静态变量的存在只依赖于类本身。因此，只要其类存在，静态变量就存在。

这两个变量之间的主要区别之一是，当您调用实例变量时，`System.gc();`您的实例变量设置为 null，而[静态变量永远不会通过调用 gc 设置为 null](https://stackoverflow.com/a/5306067/996493)。

# python - python pandas中的DataFrame.apply改变了原始和重复的DataFrames

> ID：10844493
> 
> 赞同：7
> 
> 时间：2012-06-01T04:40:16.583
> 
> 标签：python, pandas

我在更改重复的 pandas DataFrame 时遇到了一些麻烦，并且没有将编辑应用于重复的 DataFrame*和*原始 DataFrame。

这是一个例子。假设我从字典列表中创建了一个任意 DataFrame：

```
In [67]: d = [{'a':3, 'b':5}, {'a':1, 'b':1}]

In [68]: d = DataFrame(d)

In [69]: d

Out[69]: 
   a  b
0  3  5
1  1  1 
```

然后我将'd'数据框分配给变量'e'并使用apply将一些任意数学应用于列'a'：

```
In [70]: e = d

In [71]: e['a'] = e['a'].apply(lambda x: x + 1) 
```

问题出现在 apply 函数显然适用于重复的 DataFrame 'e' 和原始 DataFrame 'd' ，我一生都无法弄清楚：

```
In [72]: e # duplicate DataFrame
Out[72]: 
   a  b
0  4  5
1  2  1

In [73]: d # original DataFrame, notice the alterations to frame 'e' were also applied
Out[73]:  
   a  b
0  4  5
1  2  1 
```

我已经搜索了 pandas 文档和 Google 的原因，但无济于事。我完全不明白这里发生了什么。

我也尝试过使用逐元素运算（例如，`e['a'] = [i + 1 for i in e['a']]`）的数学运算，但问题仍然存在。pandas DataFrame 类型中是否有我不知道的怪癖？我很感激有人可能提供的任何见解。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-01T05:13:47.773

这不是熊猫特有的问题。在 Python 中，赋值从不复制任何内容：

```
>>> a = [1,2,3]
>>> b = a
>>> b[0] = 'WHOA!'
>>> a
['WHOA!', 2, 3] 
```

如果您想要一个新的 DataFrame，请使用`e = d.copy()`.

编辑：我应该澄清*对裸名的*分配永远不会复制任何内容。`a[1] = x`对项目或属性（例如，或）的赋值在底层`a.foo = bar`转换为方法调用，并且可以根据对象`a`的类型进行复制。

# django - 如何正确使用django内置登录视图

> ID：10844503
> 
> 赞同：10
> 
> 时间：2012-06-01T04:41:59.350
> 
> 标签：django, django-admin

我刚刚开始使用 Django，我正在尝试尽可能多地使用内置功能。因此，对于用户登录，我使用内置登录视图，并将其分配给我网站的基本 url：

```
urlpatterns=patterns('django.contrib.auth.views',
    url(r'^/$','login',{'template':'mytemplate.html'}), 
```

mytemplate.html 看起来像这样：

```
<!DOCTYPE html>
<html>
<body>
    {%if form.errors %}
    <p> Invalid username/password combination, please try again </p>
    {% endif %}

    <h1>Welcome to My Site!</h1>
    <form action="{% url django.contrib.auth.views.login %}" method="post">
    {% csrf_token %}
        {{form.username.label_tag}}{{form.username}}
        {{form.password.label_tag}}{{form.password}}
        <input type="submit" id="submit" name="submit" value="Sign in" />
        <input type="hidden" name="next" value="{{ next }}" />        
    </form>
    <a href="password_reset/" id="forgot"> forgot username/password</a><br />
    <a href="register" id="new">new user</a>
</body>
</html> 
```

我的问题是，模板似乎没有通过它应该传递的任何上下文。在呈现的 HTML 中，我所有的变量标记都消失了（即，没有被适当的值替换，而是被替换为什么都没有）。

我想我正在跳过一些关键步骤，但我无法弄清楚它是什么。有任何想法吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-08-09T09:53:02.863

您需要从“模板”更改为“模板名称”

```
urlpatterns=patterns('django.contrib.auth.views',
    url(r'^/$','login',{'template_name':'mytemplate.html'}), 
```

[https://docs.djangoproject.com/en/1.4/topics/auth/#django.contrib.auth.views.login](https://docs.djangoproject.com/en/1.4/topics/auth/#django.contrib.auth.views.login)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T06:28:10.767

尝试从您的 url 配置中删除模板名称。然后 Django 将回退到标准模板，这样您就可以查看是否以某种方式搞砸了模板，或者是否有其他问题。

我的下一个猜测是检查您的 TEMPLATE_CONTEXT_PROCESSORS 设置。如果您定义了其中任何一个，请务必包括

```
"django.contrib.auth.context_processors.auth", 
```

如果您还没有定义任何内容，django 将使用一个标准元组，它已经包含了 auth 处理器。

# ios5 - iOS 的数据传输速率

> ID：10844504
> 
> 赞同：0
> 
> 时间：2012-06-01T04:42:05.627
> 
> 标签：ios5, tcp

我们正在开发一个将数据从 iOS 传输到服务器的应用程序。

在我们最新的测试中，传输开始和结束时的上传速度均为 0.46 Mbps，数据传输量为 14.5 MB。根据数学计算，这大约需要 4 分钟。耗时6分19秒。这是传输数据的标准时间吗？或者这是编码的问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T04:51:57.370

您可能会损失 3-15% 的 TCP 开销，这还没有考虑到由于错误或数据包丢失导致的任何数据包重传。您的实际传输时间足以表明您可能遇到的数据传输延迟不仅仅与 TCP 开销有关。 [http://www.w3.org/Protocols/HTTP/Performance/Nagle/summary.html](http://www.w3.org/Protocols/HTTP/Performance/Nagle/summary.html)是有关 TCP 开销的一些详细指标的一个很好的参考。

您应该在服务器端运行 tcpdump 以更准确地了解正在发生的事情。

# sql - 如何使用全文搜索查找 href=blah 但不查找 href=/blah

> ID：10844507
> 
> 赞同：0
> 
> 时间：2012-06-01T04:43:03.253
> 
> 标签：sql, sql-server, full-text-search

我目前正在使用查询

```
SELECT Url FROM Link WHERE CONTAINS(Url, 'href=blah') 
```

它包括结果`href=/blah`。有什么办法可以告诉查询更像是`WHERE Url LIKE '%href=blah%'`并且仍然使用全文目录？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T04:53:43.123

你的问题是`=`and`/`都是分词器，换句话说，sql全文实际上是在搜索`href`和`blah`

您可以尝试几种选择。首先，您可以使用全文引擎过滤搜索域，然后使用`LIKE`. 您需要进行试验以了解如何获得最佳性能。

另一种选择是，如果`href=blah`是一个一致的术语，您可以将其添加到自定义字典中。一篇关于这方面的好文章是[here](http://blogs.msdn.com/b/sqlfts/archive/2009/12/03/did-you-know-that-sql-server-2008-provides-the-ability-to-create-a-custom-dictionary-of-special-terms-to-be-indexed-as-is-i-e-at-t-into-the-ftindex.aspx)。

# xcode4 - 无法提交到 App Store - 捆绑包无效

> ID：10844510
> 
> 赞同：0
> 
> 时间：2012-06-01T04:43:45.697
> 
> 标签：xcode4, app-store, appstore-approval

因此，我正在尝试将我的第一个应用程序提交到应用程序商店，而我正处于存档项目并单击“分发”以提交二进制文件的最后阶段。然而，当它去验证它时，它会弹出说“这个包是无效的。Info.plist 中 CFBundleDocumentTypes 键的值必须是一个字典数组，每个字典至少包含 CFBundleTypeName 键。”

有没有人见过这个？可能是什么原因造成的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-04T08:51:44.090

检查 plist 文件以及开发人员门户（配置文件）中的捆绑标识符。两者应该是一样的。我认为这可能是一个问题，因为我遇到了这个问题，最终知道捆绑 ID 存在一些问题。

希望能帮助到你。

# android - 不生根运行 C 代码

> ID：10844511
> 
> 赞同：0
> 
> 时间：2012-06-01T04:43:50.550
> 
> 标签：android

我可以在不生根的情况下运行我在我的安卓手机中交叉编译的 ac 程序吗？我认为我只能使用 Google 提供的 API，即仅 Java。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T06:13:03.227

作为 user1203673 答案的补充，您可以在[此处](http://developer.android.com/sdk/ndk/index.html)下载 NDK ，它带有示例代码。

使用 NDK 不需要 root 访问权限，虽然 google 不推荐，但完全可以在没有 java 的情况下使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:48:27.330

使用android ndk你可以生成.so文件并且可以使用C程序中提到的方法

# python - 用python处理文本文件

> ID：10844513
> 
> 赞同：0
> 
> 时间：2012-06-01T04:43:55.310
> 
> 标签：python

我有一些包含代理 ip 的文本文件。

如下所示

```
 130.14.29.111:80                          
    130.14.29.120:80                          
    130.159.235.31:80                         
    14.198.198.220:8909                       
    141.105.26.183:8000                       
    160.79.35.27:80                           
    164.77.196.75:80                          
    164.77.196.78:45430                       
    164.77.196.78:80                          
    173.10.134.173:8081                       
    174.132.145.80:80                         
    174.137.152.60:8080                       
    174.137.184.37:8080                       
    174.142.125.161:80 
```

处理后检查这个代理，然后我想标记如下

```
 total number of '0' = 8
     total number of 'x' = 6
     percentage = alive 60% , dead 40%

     x  130.14.29.111:80              
     0  130.14.29.120:80              
     0  130.159.235.31:80             
     0  14.198.198.220:8909           
     0  141.105.26.183:8000           
     0  160.79.35.27:80               
     x  164.77.196.75:80              
     x  164.77.196.78:45430           
     x  164.77.196.78:80              
     0  173.10.134.173:8081           
     0  174.132.145.80:80             
     0  174.137.152.60:8080           
     x  174.137.184.37:8080           
     x  174.142.125.161:80 
```

如何用python完成？或一些样品，如果有人会帮助我或启发我非常感谢！

我被编辑了

这是我所拥有的脚本来源

最后检查完成的代理列表是否保存到'proxy_alive.txt'

在这个文件中，我想标记代理元素是否存在。

```
 import socket
    import urllib2
    import threading
    import sys
    import Queue
    import socket

    socket.setdefaulttimeout(7)

    print "Bobng's proxy checker. Using %s second timeout"%(socket.getdefaulttimeout())

    #input_file = sys.argv[1]
    #proxy_type = sys.argv[2] #options: http,s4,s5
    #output_file = sys.argv[3]
    input_file = 'proxylist.txt'
    proxy_type = 'http'
    output_file = 'proxy_alive.txt'

    url = "www.seemyip.com" # Don't put http:// in here, or any /'s

    check_queue = Queue.Queue()
    output_queue = Queue.Queue()
    threads = 20

    def writer(f,rq):
        while True:
            line = rq.get()
            f.write(line+'\n')

    def checker(q,oq):
        while True:
            proxy_info = q.get() #ip:port
            if proxy_info == None:
                print "Finished"
            #quit()
                return
            #print "Checking %s"%proxy_info
            if proxy_type == 'http':
                try:

            listhandle = open("proxylist.txt").read().split('\n')

            for line in listhandle:   
                saveAlive = open("proxy_alive.txt", 'a')

                details = line.split(':')
                email = details[0]
                password = details[1].replace('\n', '')

                proxy_handler = urllib2.ProxyHandler({'http':proxy_info})
                opener = urllib2.build_opener(proxy_handler)
                opener.addheaders = [('User-agent','Mozilla/5.0')]
                urllib2.install_opener(opener)
                req = urllib2.Request("http://www.google.com")
                sock=urllib2.urlopen(req, timeout= 7)
                rs = sock.read(1000)
                if '<title>Google</title>' in rs:
                oq.put(proxy_info)
                print '[+] alive proxy' , proxy_info
                saveAlive.write(line)
            saveAlive.close()    
                except urllib2.HTTPError,e:
            print 'url open error? slow?'
                    pass
                except Exception,detail:
                    print '[-] bad proxy' ,proxy_info

            else:
                # gotta be socks
                try:
                    s = socks.socksocket()
                    if proxy_type == "s4":
                        t = socks.PROXY_TYPE_SOCKS4
                    else:
                        t = socks.PROXY_TYPE_SOCKS5
                    ip,port = proxy_info.split(':')
                    s.setproxy(t,ip,int(port))
                    s.connect((url,80))
                    oq.put(proxy_info)
                    print proxy_info
                except Exception,error:
                    print proxy_info

    threading.Thread(target=writer,args=(open(output_file,"wb"),output_queue)).start()
    for i in xrange(threads):
        threading.Thread(target=checker,args=(check_queue,output_queue)).start()
    for line in open(input_file).readlines():
        check_queue.put(line.strip('\n'))
    print "File reading done"
    for i in xrange(threads):
        check_queue.put(None)
    raw_input("PRESS ENTER TO QUIT")
    sys.exit(0) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:29:06.957

您可以使用队列来排队所有地址列表及其元信息。完成对该 IP 地址的操作后，您可以使用 'w' 模式将其写回到同一个文件中。

```
[ ( ip-address-1,'x' ), ( ip-address-2, '0'), ...... ] 
```

# javascript - 可以使用自定义标签而不是 标签？

> ID：10844514
> 
> 赞同：1
> 
> 时间：2012-06-01T04:44:12.510
> 
> 标签：javascript, css, html

我有一些带有 CSS 的 HTML 和一个实例，其中我使用了自定义 HTML 标签而不是`<p>`显示它，我的 CSS 拾取标签，而另一个实例则无法显示文本。如果我用它替换 `<title>Layout Controls</title>`它`<p>Layout Controls</p>`就会出现。

我在 JSfiddle 上做了一个[演示。](http://jsfiddle.net/wideEyedPupil/McEqh/)JS 在我的浏览器和 Coda2 中有效，但在 JS fiddle 中无效。如果有人能指出这对我来说是什么，就小提琴而言，我可能也做错了什么。

如果有任何人们关心的最佳实践评论，我也可以，在这里学习。

```
<body>   
  <div class="input_group_box">
    <title>Layout Controls</title><br />
    <sub-title>X-Position</sub-title><br />
    <input id="/layout/1/slider" class="slider" type="range" value="0" min="-1" max="1" step="0.001" onclick="bind('/layout/1', 'slider', parseInt(this.value*1000)/1000)" />
    <input id="/layout/1/number" class="number-box"    type="number" value="0" min="-1" max="1" step="0.01" onclick="bind('/layout/1', 'number', parseFloat(this.value))" /><br />    
   </div>
</body> 
```

* * *

任何人都不知道为什么我的 Javascript 没有绑定演示中的两个输入。是不是我需要更改 JSFiddle 加载设置，我对此有点不知所措。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:17:07.460

使用自定义标签有几个问题，请参见[使用自定义 HTML 标签](https://stackoverflow.com/questions/5970093/using-custom-html-tags)。它们会使编码变得更容易一些，但大多数情况下这不是一个好主意。请改用类，例如`<div class=sub-title>...</div>`. 但是，如果某物是标题，请考虑为其使用标题标记，例如`h2`and `h3`。对于表单字段，您也可以`legend`在 a`fieldset`中使用。

元素是另`title`一种情况，因为它一直是在 HTML 中定义的，并且具有特殊的作用和处理。仅允许在`head`部分中使用。如果你把它放在里面`body`，效果取决于浏览器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T05:00:28.670

`<title>`是 MTML5 标签，而不是自定义标签。

在它的 CSS 上试试这个。没事的：

```
title {
    font-size: 16px;
    font-family: HelveticaNeue-Bold, sans-serif;  

    display: inline;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T04:48:38.490

我怀疑`<title>`标签是为页面标题保留的，你不应该将它用于任何其他目的......

# asp.net - 找不到 system.spatial.data

> ID：10844515
> 
> 赞同：1
> 
> 时间：2012-06-01T04:44:20.617
> 
> 标签：asp.net, visual-studio-2010, entity-framework-5, asp.net-4.5

我刚刚从这里升级到 .net 4.5rc [，从](http://msdn.microsoft.com/en-us/netframework/hh854779.aspx)这里升级到 Entity Framework 5rc [，](http://nuget.org/packages/EntityFramework/)因为我想使用[System.Data.Spatial-classes](http://msdn.microsoft.com/en-us/library/system.data.spatial%28v=vs.110%29.aspx)。但我在我的解决方案中找不到命名空间。我尝试在对象浏览器中搜索类，但没有任何运气。

我可以在哪里找到类/如何引用它们的任何想法？

谢谢

托马斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T08:18:44.690

我认为您还需要 VS 2012 RC，因为 VS 2010 无法针对 .NET 4.5 特定功能。

# python - Python：查找字典元组值的最大值

> ID：10844520
> 
> 赞同：2
> 
> 时间：2012-06-01T04:45:07.903
> 
> 标签：python, dictionary, tuples

我如何找到存储在字典中的多个并行比较的元组的最大值。

```
d = {'one':(2,9,6), 'two':(7,2,1), 'three':(1,5,12)} 
```

因此，元组 (2,9,6),(7,2,1) 和 (1,5,12) 'zipped' 会产生最大值，即 (7,9,12)。

请帮忙指教。

（为数字混淆而编辑）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T04:53:24.233

从您的问题中我不能完全确定您在寻找什么，但 zip 部分让我认为这就是您想要的：

```
d = {'one':(1,2,3), 'two':(3,2,1), 'three':(4,5,6)}
tuple(max(x) for x in zip(*d.values())) 
```

这实际上将元组压缩在一起（第一个元组的第一个元素与第二个元组的第一个元素等等），然后找到每个压缩元组的最大值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T05:22:51.437

```
d = {'one':(2,9,6), 'two':(7,2,1), 'three':(1,5,12)}
tuple(map(max, *d.values())) 
```

* * *

```
$ python -m timeit -s"d = {'one':(2,9,6), 'two':(7,2,1), 'three':(1,5,12)}"\
                     "tuple(map(max, *d.values()))"
1000000 loops, best of 3: 1.08 usec per loop
$ python -m timeit -s"d = {'one':(2,9,6), 'two':(7,2,1), 'three':(1,5,12)}"\
                     "tuple(max(x) for x in zip(*d.values()))"
100000 loops, best of 3: 2.1 usec per loop 
```

# c - 编译器大小

> ID：10844528
> 
> 赞同：-3
> 
> 时间：2012-06-01T04:46:10.197
> 
> 标签：c, compiler-construction

我正在对编译器进行一些探索。我有一个问题。我想知道 C 编程语言是否提供*任何编程功能*以了解正在使用**的编译器的大小**？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T04:52:09.933

我认为说“不”是安全的。不一定有一个有意义的答案——完全有可能使用来自两个（或更多）不同编译器的代码构建一个程序。

# c - 带有命令行选项的 C 程序

> ID：10844532
> 
> 赞同：3
> 
> 时间：2012-06-01T04:46:42.093
> 
> 标签：c, ubuntu, terminal

我想知道如何编写一个带有可以由终端调用的选项的 C 程序。
示例：Person.c

```
#include <stdio.h>
void main ()
{
     char option;

     if(option == 'f') printf("First Name");
     else if(option == 'l') printf("Last Name");
     else printf("Full Name");
} 
```

编译它

> cc 个人.c -o 个人

目标：
我想通过终端访问我的程序选项。
例子 ：

```
./Person -f 
```

输出：名字

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-01T04:50:49.133

`void main ()`错了，如果你是从书上抄来的，就把书扔掉

应该是`int main(int argc, char **argv)`，然后将 argc 设置为参数的数量，并且 argv[1] .... argv[argc-1] 是参数字符串（argv[0] 是程序的名称）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-01T04:56:48.897

这是我的 0.02 美元：

```
#include <stdio.h>
#include <string.h>

int 
main (int argc, char *argv[])
{

     if (argc != 2) {
       printf ("USAGE: ./Person [-f|-l]\n");
       return 1;
     }
     if (strcmp (argv[1], "-f") == 0) {
       printf("First Name");
     }
     else if (strcmp (argv[1], "-l") == 0)
       printf("Last Name");
     }
     else {
       printf ("Unknown argument\n");
       return 1;
     }
     return 0;
} 
```

要点：

1) 在 C 中，你不能只比较字符串（比如 "aaa" == "bbb"）。您需要特殊的库函数，例如“strcmp()”（“比较字符串”）。

2) 为了使用库函数，您需要#include 头文件（如“stdio.h”，用于“printf()”，或“string.h”，用于“strcmp()”）。你可以通过使用“man”来找出你需要的标题......或者只是谷歌搜索相关的调用（“google strcmp”应该给你与“man strcmp”相同的结果）

3) 使用程序返回值来表示“成功”或“失败”是一个很好的通用约定。按照惯例，“0”通常表示“成功”。

4) 最后，为了您的目的，必须使用“argc”和“argv”来访问您的命令行参数。

5) 顶部的“if (argc != 2)”确保您输入了至少一个命令行参数（参数“0”是程序本身的名称）。这很重要，因为尝试读取您没有的参数（“尝试读取数组的末尾”）可能会导致崩溃；）

'希望有帮助！

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-01T04:51:44.560

使用以下输入调用 main：

int main (int argc, char **argv)

argc 是 args 的数量，而 argv 是命令行参数的数组。注意 argv 的第一个参数是程序名。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-01T04:50:36.190

请将您的主要原型更改为

```
int main(int argc, char *argv[]) 
```

您在问题中提出的选项可以使用上面给出的主函数的输入参数传递。

argc 参数告诉您有多少输入已通过终端传递，而 argv 将为您提供每个输入作为 char * 数组。请注意，默认情况下，第一个输入 (argv[0]) 将是带有完整路径的可执行文件的文件名，其余输入将跟随它。

[http://www.cprogramming.com/tutorial/c/lesson14.html](http://www.cprogramming.com/tutorial/c/lesson14.html) - 本教程也会有所帮助。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-01T04:50:39.787

你必须告诉 C 你给它选择权

```
int main(int argc, char **argv) 
```

argc 是参数的数量，而 argv 是您调用的参数

那么 ./Person -f

你需要告诉它

```
if (strncmp(argv[i],"-f",1) == 0) { 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-06-01T04:51:18.923

[函数](http://en.wikipedia.org/wiki/Main_function#C_and_C.2B.2B)的[正确形式`main`](http://en.wikipedia.org/wiki/Main_function#C_and_C.2B.2B)是：

```
int main(int argc, char **argv) {

} 
```

然后`argv`保存你的命令行参数：

```
int main(int argc, char **argv) {
    for(int i = 0; i < argc; ++i) {
        printf("arg %d is %s", i, argv[i]);
    }
    return 0; // indicates that the program completed successfully
} 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-06-01T04:53:01.170

您还应该查看那里的一些解析库。许多人为解析命令行选项编写了很棒的库，这样您就不必重复验证选项的所有工作。大多数也很容易使用。

# java - java.lang.IllegalStateException - 提交响应后无法创建会话

> ID：10844536
> 
> 赞同：3
> 
> 时间：2012-06-01T04:48:08.683
> 
> 标签：java, jsf, maven, jsf-2, primefaces

我在我的项目中使用 JSF + PrimeFaces。我为此准备了一个 Maven 项目。当我编译我的项目并加载主页后，我收到以下异常：

```
java.lang.IllegalStateException: Cannot create a session after the response has been committed
    at org.apache.catalina.connector.Request.doGetSession(Request.java:2754)
    at org.apache.catalina.connector.Request.getSession(Request.java:2264)
    at org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:899)
    at com.sun.faces.context.ExternalContextImpl.getSession(ExternalContextImpl.java:155)
    at com.sun.faces.renderkit.ServerSideStateHelper.writeState(ServerSideStateHelper.java:175)
    at com.sun.faces.renderkit.ResponseStateManagerImpl.writeState(ResponseStateManagerImpl.java:122)
    at com.sun.faces.application.StateManagerImpl.writeState(StateManagerImpl.java:166)
    at com.sun.faces.application.view.WriteBehindStateWriter.flushToWriter(WriteBehindStateWriter.java:225)
    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:419)
    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:125)
    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:121)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:594)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:279)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:300)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
    at java.lang.Thread.run(Thread.java:619)
1 Jun, 2012 10:13:39 AM com.sun.faces.context.ExceptionHandlerImpl throwIt
INFO: Exception when handling error trying to reset the response.
java.lang.IllegalStateException: Cannot create a session after the response has been committed
    at org.apache.catalina.connector.Request.doGetSession(Request.java:2754)
    at org.apache.catalina.connector.Request.getSession(Request.java:2264)
    at org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:899)
    at com.sun.faces.context.ExternalContextImpl.getSession(ExternalContextImpl.java:155)
    at com.sun.faces.renderkit.ServerSideStateHelper.writeState(ServerSideStateHelper.java:175)
    at com.sun.faces.renderkit.ResponseStateManagerImpl.writeState(ResponseStateManagerImpl.java:122)
    at com.sun.faces.application.StateManagerImpl.writeState(StateManagerImpl.java:166)
    at com.sun.faces.application.view.WriteBehindStateWriter.flushToWriter(WriteBehindStateWriter.java:225)
    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:419)
    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:125)
    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:121)
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:594)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:279)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:300)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
    at java.lang.Thread.run(Thread.java:619) 
```

这是如何引起的，我该如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T04:56:11.953

这是 Mojarra 中的一个错误，已被报告为[问题 2277](http://java.net/jira/browse/JAVASERVERFACES-2277)等。它已在 Mojarra 2.1.8 中修复。[目前](http://javaserverfaces.java.net/)Mojarra 2.1.9 已经可用。只需升级到最新版本，这个问题就会消失。

原因是在第一次请求时创建会话太晚了，该请求返回了一个相对较大的页面，其中视图或会话范围的托管 bean 第一次在页面中相对较晚地被引用。视图或会话范围的 bean 需要存储在会话中。如果会话尚不存在，则需要创建它。

首次创建会话时，服务器[需要](https://stackoverflow.com/questions/3106452/how-do-servlets-work-instantiation-session-variables-and-multithreading/3106909#3106909)在响应头中设置 cookie。但这只有在响应尚未发送（提交）到客户端时才有可能。当这已经发生时，您将面临这个例外。当响应缓冲区溢出时，响应的一部分可能已经自动发送，通常为 2KB，具体取决于服务器配置。您的页面显然大于该缓冲区大小。

# android - 如果互联网需要身份验证才能实际连接才能下载？

> ID：10844543
> 
> 赞同：2
> 
> 时间：2012-06-01T04:48:41.173
> 
> 标签：android

我的应用程序需要使用互联网连接从链接下载一些文件。我有一个使用代理并需要身份验证的互联网连接。不知何故，当我尝试连接到互联网时，它从不要求此身份验证，因此无法下载文件。

我想问的是，有什么方法可以检测用户的互联网连接是否需要身份验证才能从互联网下载文件，这样如果需要，我的应用程序可以要求用户打开普通的互联网浏览器设备并提供所需的身份验证。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T10:23:49.447

这是一个非常真实的案例，当您的应用程序尝试在组织机构（例如使用代理让用户连接到 Internet）的机构或公司中访问 Internet 时，将导致麻烦。

由于我没有收到有关此问题的任何答案，我将告诉我检查此问题所遵循的程序，因为有时您的应用程序无法访问互联网可能会导致它死亡。

首先，我通过使用此设备的简单状态检查来检查设备上的互联网连接是否可用

```
 final ConnectivityManager conMgr =  (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);
                final NetworkInfo activeNetwork = conMgr.getActiveNetworkInfo();

                if (activeNetwork != null && activeNetwork.getState() == NetworkInfo.State.CONNECTED) {

                                //Do what ever you wish to do

                                } else {
                                      // Display message internet connection not available
                                      } 
```

上面的代码提供了有关互联网连接是否可用的信息，但它无法判断互联网连接是否需要身份验证（因此导致没有下载或损坏的文件或在下载文件位置创建零大小文件），因此在检查上述条件我尝试访问下载链接，然后使用此逻辑。

我提供了一个来自 Internet 的小 .zip 文件的链接，当按下访问 Internet 的按钮时（例如用户单击应用程序的“更新数据库”），我的应用程序会尝试下载该文件。我已经使用了这个问题中给出的信息（[在 Android 中下载和提取 Zip 文件](https://stackoverflow.com/questions/9324103/download-and-extract-zip-file-in-android)），然后我将下载的文件提取到解压缩位置。

在此之后，我创建了一个检查选项（已经知道 .zip 文件中存在的文件的确切名称），它检查该文件是否是在我解压缩时提到的解压缩位置创建的。

如果该文件不存在，您只需为他们提供打开浏览器并提供身份验证的选项，然后返回到您的应用程序，如下所示：

```
 private void unableToConnectToInternetDialog() {
                // TODO Auto-generated method stub
                String Message ="CHECK IF:" +
                        "your internet connection uses proxy, if yes please follow these steps:" +
                        "\n 1 Open default Internet Browser" +
                        "\n 2 Open any webpage requiring authentication" +
                        "\n 3 Provide the authentication" +
                        "\n 4 Resume this application";

                // TODO Auto-generated method stub
                AlertDialog.Builder builderInternet = new AlertDialog.Builder(AppPage1.this);
                builderInternet.setMessage(Message)
                        .setTitle("Unable to connect to Internet")
                       .setCancelable(false)
                       .setPositiveButton("Open Browser", new DialogInterface.OnClickListener() {
                           public void onClick(DialogInterface dialog, int id) {
                               // Opening mobile's default browser to set the authentication
                               String url = "http://www.google.com";
                               Intent i = new Intent(Intent.ACTION_VIEW);
                               i.setData(Uri.parse(url));
                               startActivity(i);
                           }
                       })
                       .setNegativeButton("Skip Update", new DialogInterface.OnClickListener() {
                           public void onClick(DialogInterface dialog, int id) {
                               // Do the needful

                           }
                       });
                builderInternet.create().show();
            }
        } 
```

# mysql - sql 获取所有消息

> ID：10844547
> 
> 赞同：0
> 
> 时间：2012-06-01T04:49:14.053
> 
> 标签：mysql, sql

我已经实现了这个sql语句：

```
SELECT users.firstname, users.lastname, users.screenname, profile.profile_pic,
users.user_id, messages.msgid, messages.message, messages.action,
DATE_FORMAT(messages.date_sent, '%M %d, %Y %r') AS date_sent
FROM messages messages
JOIN users ON messages.sent_by = users.user_id
LEFT JOIN profile ON (users.user_id = profile.user_id)
WHERE messages.recepient_id = "12052821" and messages.action = false
ORDER BY msgid DESC 
```

它向我输出正确的输出（下） ![在此处输入图像描述](../Images/4b8c3ed283a3ff24ed33100a0512daa5.png)

问题是您如何整理所有向您发送消息的用户列表并**分别显示前 1 条消息 ORDER BY by msgid DESC**？（用户不得重复）

**这是我的桌子** ![在此处输入图像描述](../Images/15d65358edc43b710e89a926781a096b.png)

我想我上面的查询需要一些改进。提前谢谢你们

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:32:06.403

问题已解决 - 只需添加以下行：`GROUP BY users.user_id`在 order by

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-01T05:23:34.500

尝试

```
ORDER BY msgid DESC LIMIT 1 
```

# python - Python：通过忽略右边的第一个空格来解析/拆分

> ID：10844548
> 
> 赞同：0
> 
> 时间：2012-06-01T04:49:43.557
> 
> 标签：python, parsing, split

我在用空格解析 String2 时遇到问题。想法？

```
String1 = "THIS IS STRING1 18-23-80-18"

String2 = "THIS IS STRING2 7-A-4, 4-93-P"

Split1 = String1.rsplit(" ",2)

Output1 = "18-23-80-18" #This Works fine

Split2 = String2.????? # Not sure what to do here 

Output2 = "7-A-4, 4-93-P" #How do I Ignore the first space from the right? 
```

澄清：

* 代表我要忽略的空间，% 代表我要查找的空间。

```
"%7-A-4,*4-93-P" 
```

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T04:55:51.777

如果您有兴趣拆分左侧第三个空格的字符串并忽略右侧的所有其他字符串，那么之后：

```
>>> String2 = "THIS IS STRING2 7-A-4, 4-93-P"
>>> String2.split(" ", 3)[3]
'7-A-4, 4-93-P' 
```

一种通用的方法是拆分整个字符串上的空格并仅从您想要的范围中选择。然后使用空格连接该范围。

```
" ".join(string.split()[1:3]) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T04:52:59.893

使用正则表达式拆分字符串：

```
>>> import re
>>> string2 = "THIS IS STRING2 7-A-4, 4-93-P"
>>> re.split(r'[^,]\s+', string2)[-1]
'7-A-4, 4-93-P' 
```

# php - 通过多个嵌套值在 PHP 中排序和排列？

> ID：10844550
> 
> 赞同：2
> 
> 时间：2012-06-01T04:50:03.837
> 
> 标签：php, arrays, sorting

好的，这个很复杂......假设我有一个名为 $data 的数组

```
Array
(
    [9e5b0d6d-711c-4cd0-8697-634a5c640066] => Array
        (
            [player] => 9e5b0d6d-711c-4cd0-8697-634a5c640066
            [wins] => 1
            [loss] => 6
            [winsR] => 2
            [lossR] => 12
        )

    [a8f7fb4c-afab-4ec0-9202-b87fa2641110] => Array
        (
            [player] => a8f7fb4c-afab-4ec0-9202-b87fa2641110
            [wins] => 1
            [loss] => 6
            [winsR] => 2
            [lossR] => 12
        )

    [96ed2f95-08bd-42f8-bb57-9df09b66109d] => Array
        (
            [player] => 96ed2f95-08bd-42f8-bb57-9df09b66109d
            [wins] => 2
            [loss] => 5
            [winsR] => 4
            [lossR] => 10
        )

    [2a4e1a3e-cde4-4c9b-947e-67a4d333f0f4] => Array
        (
            [player] => 2a4e1a3e-cde4-4c9b-947e-67a4d333f0f4
            [wins] => 3
            [loss] => 4
            [winsR] => 6
            [lossR] => 8
        )

    [08c23d63-69a9-4147-b40f-64b241cfbb4f] => Array
        (
            [player] => 08c23d63-69a9-4147-b40f-64b241cfbb4f
            [wins] => 4
            [loss] => 3
            [winsR] => 8
            [lossR] => 6
        )

    [777e8f3e-caac-41fb-975e-a410e42f7114] => Array
        (
            [player] => 777e8f3e-caac-41fb-975e-a410e42f7114
            [wins] => 5
            [loss] => 2
            [winsR] => 11
            [lossR] => 4
        )

    [9cd5256f-6d3a-4bd5-aeed-b6904bcbf048] => Array
        (
            [player] => 9cd5256f-6d3a-4bd5-aeed-b6904bcbf048
            [wins] => 6
            [loss] => 1
            [winsR] => 12
            [lossR] => 3
        )

    [797c95df-c334-4328-a8eb-4ba5e690af4d] => Array
        (
            [player] => 797c95df-c334-4328-a8eb-4ba5e690af4d
            [wins] => 6
            [loss] => 1
            [winsR] => 12
            [lossR] => 2
        )
) 
```

如您所见，我有一系列数据，每个元素都有自己的嵌套数组。我已经知道我可以使用单个嵌套值对数组进行排序

```
usort($data, create_function('$a, $b', 'return $b["wins"] - $a["wins"];')); 
```

然而，这还不够。

问题是，用上面的函数排序对我来说排序不够深。它所做的只是根据以下内容进行排序：

*   ['wins'] DESCENDING（最高的胜利排在第一位）

我想使用四个嵌套值进行排序。

*   ['wins'] DESCENDING（最高的胜利排在第一位）
*   ['loss'] ASCENDING（最低损失排序第二）
*   ['winsR'] DESCENDING（最高的 winsR 排在第三位）
*   ['lossR'] ASCENDING（最低 lossR 排在第四位）

我知道这很复杂，所以我来这里寻求帮助。最好和最有效的方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T05:20:52.533

您正在寻找的是功能[`usort()`](http://php.net/manual/en/function.usort.php)。

在那里，您可以提供自己的比较器来比较两个元素并应用您希望使用的规则。

您走在正确的轨道上，但您的比较器功能可以更加精细：

```
function compare_elements($l, $r) {
    if ($l['wins'] > $r['wins']) {
        return -1;
    } else if ($l['wins'] < $r['wins']) {
        return 1;
    }

    // Drop to second level; it will have exited by here
    // if the tie could be broken by the first rule.
    // You really could've put this in an else clause, but I
    // wanted to avoid excessive nesting.
    if ($l['loss'] > $r['loss']) {
        return 1;
    } else if ($l['loss'] < $r['loss']) {
        return -1;
    }

    // And so on until the 4th level    
} 
```

# apache-flex - 图像控件在视图中的源更改上滑动（flex 移动应用程序）

> ID：10844552
> 
> 赞同：0
> 
> 时间：2012-06-01T04:50:14.130
> 
> 标签：apache-flex, mobile, air

我有一个简单的 xml 库（ ViewNavigatorApplication ），第一个视图是拇指，第二个视图名为“SlideView”。所有视图的变化都很好地使用 SlideTransition 从“导航内容区域按钮”相互转换 SlideView 有一个图像控件，一次显示每个图像。在幻灯片视图中，我检测到滑动手势并更改图像控件的源属性并弹出新图像。问题是，当源属性（绑定到当前幻灯片）时，我希望每次都滑动新图像。有任何想法吗？

当前的幻灯片视图基本代码就像

```
protected function swipeGestureHandler(event:TransformGestureEvent):void
            {
                if (event.offsetX == -1) {
                    _dm.currItem.nextSlide();
                }
                else if (event.offsetX == 1 ) {
                    _dm.currItem.prevSlide();
                }
            }
<s:layout>
    <s:VerticalLayout/>
</s:layout>
<s:Image id="slideImage" visible="true" width="100%" height="85%" 
             source="{_dm.currItem.currSlide}" /> 
```

我尝试在 fx 声明区域中定义一些效果，例如

```
<fx:Declarations>

        <s:Wipe id="wipeOut" direction="left" duration="500" />
        <s:Wipe id="wipeIn" direction="right" duration="500" />

        <s:Move id="MoveLeft" target="{slideImage}" xBy="300" duration="500"/>
        <s:Move id="MoveRight" target="{slideImage}" xBy="-300" duration="500"/>
    </fx:Declarations> 
```

并在图像控制中使用它们

```
hideEffect="{MoveLeft}" showEffect="{MoveRight}" 
```

但它没有用......任何想法，请帮助..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T07:06:58.470

你很亲密。更改源时不会生成显示/隐藏事件`Image`。相反，当用户做出滑动手势时，自己手动触发这些效果。

*   滑动手势：（`MoveLeft.play()`假设`target`效果是图像）
*   现在图像不在屏幕上，设置图像的新来源
*   `MoveRight.play()`

为了完善这种效果，您可能希望`Image`在您的视图中有两个对象。过渡到下一个图像时，您可以`Image`在播放任何效果之前将另一个对象的源设置为新值（尝试并预加载图像）。

# java - 无法将数据添加到 android 上的 sqlite 数据库

> ID：10844553
> 
> 赞同：1
> 
> 时间：2012-06-01T04:50:14.280
> 
> 标签：java, android, sqlite

我正在尝试为android制作一个登录系统。在此登录系统中，当用户登录时，他的详细信息将被添加到 sqlite 数据库中，因此当他再次打开此应用程序时，他将保持登录状态。当前的问题是，当我在 DatabaseHandler 类中调用 addUser() 方法时，它说不uid 的值。但是当我在 logcat 中显示 json 数据时，它会显示 uid 值。我不知道我在哪里犯错。请帮我。这是我的代码

登录活动

```
public class LoginActivity extends Activity {
EditText email, password;
Button loginButton, btnLinkToLoginScreen;
TextView login_error;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.login);
    email = (EditText)findViewById(R.id.loginEmail);
    password = (EditText)findViewById(R.id.loginPassword);
    loginButton = (Button)findViewById(R.id.btnLogin);
    login_error = (TextView)findViewById(R.id.login_error);
    btnLinkToLoginScreen = (Button)findViewById(R.id.btnLinkToLoginScreen);

 // JSON Response node names
    String KEY_SUCCESS = "success";
    String KEY_ERROR = "error";
    String KEY_ERROR_MSG = "error_msg";
    final String KEY_UID = "uid";
    final String KEY_NAME = "name";
    final String KEY_EMAIL = "email";
    final String KEY_CREATED_AT = "created_at";

    loginButton.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            //loginButton.setEnabled(false);
            final String useremail = email.getText().toString();
            final String userpassword = password.getText().toString();
            //Toast.makeText(getBaseContext(), useremail, Toast.LENGTH_LONG).show();

            //Log.e("useremail ", useremail);
            //Toast.makeText(getBaseContext(), useremail, Toast.LENGTH_LONG).show();
            if(!useremail.isEmpty() && !userpassword.isEmpty()) {
                UserFunctions userFunction = new UserFunctions();
                JSONObject json = userFunction.loginUser(useremail,userpassword);
                /*************************************************/
                try {
                    JSONObject obj = json.getJSONObject("user");
                    Log.e("son", obj.getString(KEY_UID));
                } catch (JSONException e1) {
                    // TODO Auto-generated catch block
                    e1.printStackTrace();
                }
                /**************************************************/
                try {
                    if(json != null && json.getString("success") != null) {
                        login_error.setText("");
                        String res = json.getString("success");
                        if(Integer.parseInt(res) == 1) {
                            //loginButton.setEnabled(true);
                            //store user in SQLITE
                            // user successfully logged in
                            // Store user details in SQLite Database
                            DatabaseHandler db = new DatabaseHandler(getApplicationContext());
                            JSONObject json_user = json.getJSONObject("user");
                            String s = json_user.getString("name") + ", " + json_user.getString("email") + ", " + json.getString("uid") + ", " + json_user.getString("created_at");
                            Log.e("String: ", s);
                            // Clear all previous data in database
                            userFunction.logoutUser(getApplicationContext());
                            db.addUser(json_user.getString("name"), json_user.getString("email"), json_user.getString(KEY_UID), json_user.getString("created_at"));
                            //store user in SQLITE ends

                            //launch dashboard screen
                            //Intent dashboard = new Intent(getApplicationContext(), DashboardActivity.class);
                            //Toast.makeText(getBaseContext(), "Success", Toast.LENGTH_LONG).show();
                            Intent i = new Intent(getApplicationContext(),
                                    DashboardActivity.class);

                            i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                            startActivity(i);
                            finish();
                        }
                    } else {
                        Toast.makeText(getBaseContext(), "Login failed", Toast.LENGTH_LONG).show();
                    }
                } catch (JSONException e) {
                    e.printStackTrace();
                }
            } else {
                loginButton.setEnabled(true);
                login_error.setText("Enter username and password");
            }
        }

    });

    btnLinkToLoginScreen.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            Intent i = new Intent(getApplicationContext(),
                    RegisterActivity.class);
            startActivity(i);
            finish();
        }
    });
}
} 
```

这是我的 DatabaseHandler 类

```
public class DatabaseHandler extends SQLiteOpenHelper {

// All Static variables
// Database Version
private static final int DATABASE_VERSION = 1;

// Database Name
private static final String DATABASE_NAME = "android_api";

// Login table name
private static final String TABLE_LOGIN = "login";

// Login Table Columns names
private static final String KEY_ID = "id";
private static final String KEY_NAME = "name";
private static final String KEY_EMAIL = "email";
private static final String KEY_UID = "uid";
private static final String KEY_CREATED_AT = "created_at";

public DatabaseHandler(Context context) {
    super(context, DATABASE_NAME, null, DATABASE_VERSION);
}

// Creating Tables
@Override
public void onCreate(SQLiteDatabase db) {
    String CREATE_LOGIN_TABLE = "CREATE TABLE " + TABLE_LOGIN + "("
            + KEY_ID + " INTEGER PRIMARY KEY,"
            + KEY_NAME + " TEXT,"
            + KEY_EMAIL + " TEXT UNIQUE,"
            + KEY_UID + " TEXT,"
            + KEY_CREATED_AT + " TEXT" + ")";
    Log.e("Query: ", CREATE_LOGIN_TABLE);
    db.execSQL(CREATE_LOGIN_TABLE);
}

// Upgrading database
@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    // Drop older table if existed
    db.execSQL("DROP TABLE IF EXISTS " + TABLE_LOGIN);

    // Create tables again
    onCreate(db);
}

/**
 * Storing user details in database
 * */
public void addUser(String name, String email, String uid, String created_at) {
    SQLiteDatabase db = this.getWritableDatabase();
    Log.e("Data", uid);
    ContentValues values = new ContentValues();
    values.put(KEY_NAME, name); // Name
    values.put(KEY_EMAIL, email); // Email
    values.put(KEY_UID, uid); // Email
    values.put(KEY_CREATED_AT, created_at); // Created At
    Log.e("Values: ", values.toString());
    // Inserting Row
    db.insert(TABLE_LOGIN, null, values);
    db.close(); // Closing database connection
}

/**
 * Getting user data from database
 * */
public HashMap<String, String> getUserDetails(){
    HashMap<String,String> user = new HashMap<String,String>();
    String selectQuery = "SELECT  * FROM " + TABLE_LOGIN;

    SQLiteDatabase db = this.getReadableDatabase();
    Cursor cursor = db.rawQuery(selectQuery, null);
    // Move to first row
    cursor.moveToFirst();
    if(cursor.getCount() > 0){
        user.put("name", cursor.getString(1));
        user.put("email", cursor.getString(2));
        user.put("uid", cursor.getString(3));
        user.put("created_at", cursor.getString(4));
    }
    cursor.close();
    db.close();
    // return user
    return user;
}

/**
 * Getting user login status
 * return true if rows are there in table
 * */
public int getRowCount() {
    String countQuery = "SELECT  * FROM " + TABLE_LOGIN;
    SQLiteDatabase db = this.getReadableDatabase();
    Cursor cursor = db.rawQuery(countQuery, null);
    int rowCount = cursor.getCount();
    db.close();
    cursor.close();

    // return row count
    return rowCount;
}

/**
 * Re crate database
 * Delete all tables and create them again
 * */
public void resetTables(){
    SQLiteDatabase db = this.getWritableDatabase();
    // Delete All Rows
    db.delete(TABLE_LOGIN, null, null);
    db.close();
}

} 
```

这是logcat

```
06-01 07:38:43.111: W/KeyCharacterMap(32734): No keyboard for id 0
06-01 07:38:43.111: W/KeyCharacterMap(32734): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
06-01 07:38:43.316: D/CLIPBOARD(32734): Hide Clipboard dialog at Starting input: finished by someone else... !
06-01 07:38:43.316: W/IInputConnectionWrapper(32734): showStatusIcon on inactive InputConnection
06-01 07:38:48.346: D/dalvikvm(32734): GC_EXTERNAL_ALLOC freed 100K, 47% free 3040K/5639K, external 357K/661K, paused 20ms
06-01 07:38:49.521: W/KeyCharacterMap(32734): No keyboard for id 0
06-01 07:38:49.521: W/KeyCharacterMap(32734): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
06-01 07:38:49.831: D/CLIPBOARD(32734): Hide Clipboard dialog at Starting input: finished by someone else... !
06-01 07:38:49.831: W/IInputConnectionWrapper(32734): showStatusIcon on inactive   InputConnection
06-01 07:39:49.646: D/dalvikvm(582): GC_CONCURRENT freed 115K, 46% free 3028K/5575K, external 319K/661K, paused 7ms+7ms
06-01 07:39:50.271: E/JSON(582): {"tag":"login","success":1,"error":0,"user":{"name":"Zafar Saleem","uid":"4fc0e87ec8ade4.83917704","email":"zafar@gmail.com","created_at":"2012-05-26 17:28:14","updated_at":null}}
06-01 07:39:50.276: E/son(582): 4fc0e87ec8ade4.83917704
06-01 07:39:50.276: W/System.err(582): org.json.JSONException: No value for uid
06-01 07:39:50.276: W/System.err(582):  at org.json.JSONObject.get(JSONObject.java:354)
06-01 07:39:50.296: W/System.err(582):  at org.json.JSONObject.getString(JSONObject.java:510)
06-01 07:39:50.296: W/System.err(582):  at com.zafar.login.LoginActivity$1.onClick(LoginActivity.java:74)
06-01 07:39:50.296: W/System.err(582):  at android.view.View.performClick(View.java:2538)
06-01 07:39:50.296: W/System.err(582):  at android.view.View$PerformClick.run(View.java:9152)
06-01 07:39:50.296: W/System.err(582):  at android.os.Handler.handleCallback(Handler.java:587)
06-01 07:39:50.296: W/System.err(582):  at android.os.Handler.dispatchMessage(Handler.java:92)
06-01 07:39:50.296: W/System.err(582):  at android.os.Looper.loop(Looper.java:130)
06-01 07:39:50.301: W/System.err(582):  at android.app.ActivityThread.main(ActivityThread.java:3691)
06-01 07:39:50.301: W/System.err(582):  at java.lang.reflect.Method.invokeNative(Native Method)
06-01 07:39:50.301: W/System.err(582):  at java.lang.reflect.Method.invoke(Method.java:507)
06-01 07:39:50.306: W/System.err(582):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:907)
06-01 07:39:50.306: W/System.err(582):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:665)
06-01 07:39:50.306: W/System.err(582):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T04:57:39.673

改变

```
String s = json_user.getString("name") + ", " + 
           json_user.getString("email") + ", " + 
           json.getString("uid") + ", " + 
           json_user.getString("created_at"); 
```

到

```
String s = json_user.getString("name") + ", " + 
           json_user.getString("email") + ", " + 
           json_user.getString("uid") + ", " + 
           json_user.getString("created_at"); 
```

在 LoginActivity.java 的第 74 行

# python - Python：计算列表列表中元素对的频率

> ID：10844556
> 
> 赞同：6
> 
> 时间：2012-06-01T04:50:48.587
> 
> 标签：python, csv

实际上，我有一个关于“会议”的数据集。例如，A,B,C 开会，那么列表将是 [A,B,C]。像这样，每个列表将包含参加会议的成员列表。所以：

第 1 行 = (A,B,C)

第 2 行 = (A,C,D,E)

第 3 行 = (D,F,G)

...

我只想数一数每对成员见面的次数。例如，成员 A 从 line1 和 line2 与 C 会面两次，而成员 B 从 line1 与 C 会面一次。所以，我想做一个这样的图表..

```
 A  B  C  D E F G...

 A  .  1  2  1 ...  

 B  1  . 1  0 

 C 
```

...

一开始我以为这很容易，但我很困惑。请帮助我，并提前非常感谢您。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-01T05:16:01.327

而不是手动求和频率，[`collections.counter`](http://docs.python.org/library/collections.html#collections.counter)与 一起使用[`itertools`](http://docs.python.org/library/itertools.html)：

```
from collections import Counter
from itertools import chain, combinations

meets = Counter(chain.from_iterable(combinations(line, 2) for line in lines)) 
```

`lines`名称的可迭代对象在哪里。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T05:01:23.387

这是一个非常简单的二维数组或字典的数据结构问题。如果你有很多人，数组会更有效，但我假设你没有。

```
times_met = defaultdict(int)
for line in lines:
     for pair in itertools.combinations(line, 2)
         times_met[pair] += 1

# How many times person a meets person b is described by the following (s.t. a < b)
print times_met[(a, b)] 
```

请注意，如果您有大型会议并且可能存在更有效的算法，这确实是低效的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T05:08:01.133

看起来你应该能够通过矩阵加法来解决这个问题。如果您知道总人数（问题中的 G），那么您的答案将是 GxG 矩阵。用 line1 的组合创建一个 GxG 矩阵，然后用 line2 的组合添加一个 GxG 矩阵，等等。

# android - 在子活动完成之前会调用 onStart 吗？

> ID：10844559
> 
> 赞同：0
> 
> 时间：2012-06-01T04:51:03.670
> 
> 标签：android, android-activity

根据[文档](http://developer.android.com/reference/android/app/Activity.html)`startActivityForResult`，如果活动从内部调用`onCreate`非负请求代码，则在子活动返回结果之前不会显示活动。`onActivityResult`从将在之前调用的文档中可以清楚地看出`onResume`（这意味着`onResume`在子活动返回之前永远不会调用）。但是，我找不到任何关于是否`onStart`会在`onCreate`返回后立即调用（不等待子活动返回）或者是否所有生命周期事件`onCreate`都暂停，直到子活动返回时`startActivityForResult`从 inside 调用`onCreate`。

有谁知道行为是什么以及是否在任何地方指定？

# wcf - WCF netmsmq 绑定。如果 MSMQ 不可用，在客户端上重试

> ID：10844560
> 
> 赞同：2
> 
> 时间：2012-06-01T04:51:03.620
> 
> 标签：wcf, msmq

我知道，一旦 WCF 客户端将消息传递到 MSMQ，netmsmqbinding 会提供开箱即用的重试，以防服务出现故障。

但是，如果我的客户端首先未能将消息放入 MSMQ，WCF 中是否有现成的客户端重试可用，或者我是否必须在客户端代码中实现客户端队列和重试逻辑？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T09:19:26.897

如果您在客户端站上运行 MSMQ 服务器并且 MSMQ 侦听器服务已启动并正在运行，那么您发送到服务的消息甚至不会放在客户端队列中，这是极不可能的情况担心。我认为 MSMQ 不会为您提供任何检查，您应该在客户端上编写一些方法来定期`Peek()`本地队列并为到达队列的每条消息发送确认回执，这是可行的，因为您可以轻松访问您的[代码中的](http://msdn.microsoft.com/en-us/library/system.messaging.messagequeue.aspx)本地队列而且，通过 MSMQ 从客户端发送到服务的每条消息都将始终通过本地队列。如果您的 Send() 方法没有返回错误，您还可以判断该消息已到达队列。但我不认为你真的需要担心客户端没有首先到达本地队列的消息。

# facebook - 使用应用程序 ID 和密码获取应用程序洞察数据

> ID：10844561
> 
> 赞同：0
> 
> 时间：2012-06-01T04:51:06.167
> 
> 标签：facebook, facebook-graph-api, access-token, insight

因此，为了获得我的应用程序的洞察数据，我需要具有 read_insight_data 权限的 access_token。但是我不希望在此过程中进行用户交互。我可以仅使用应用程序 ID 和密码获取应用程序的洞察数据吗？

谢谢，绿

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:37:34.090

好的，我明白了。

首先，获取客户端（AKA 应用程序）访问令牌：

```
https://graph.facebook.com/oauth/access_token?client_id=${client_id}&client_secret=${client_secret}&grant_type=client_credentials 
```

facebook 将返回如下内容：

```
access_token=XXXXXXXXXXXXXXXXXXXXXXXXXXXXX 
```

第二次使用返回的令牌，您可以获得应用程序洞察数据：

```
https://graph.facebook.com/${client_id}/insights/?access_token=XXXXXXXXXXXXXXXXXXXXXXXXX 
```

# android - Android ListView 项目不可点击

> ID：10844562
> 
> 赞同：0
> 
> 时间：2012-06-01T04:51:10.370
> 
> 标签：android, android-listview

我想设计 ListView 中的每个列表项都可以点击，并触发点击哪个列表项。但它不能。我在我的代码上尝试了两种方法：setOnItemClickListener() 和 setOnItemSelectedListener()。我已经在谷歌上搜索了一些关于这篇文章的参考资料，但它仍然无法工作（可点击）。
我想发布下面的代码：代码可以显示列表项，我可以看到**Log.d(" mListView01.getCount()=",""+vc);行的 Log.d 内容** 在 LogCat 上很好。但是，如果我单击列表项，则没有任何响应。如果你不介意，你能帮我指出我错在哪里，谢谢！

使用 Activity Widget 创建 listView 的代码：

```
......
setContentView(R.layout.main_open);
    TextView itemText = (TextView) findViewById(R.id.itemText);
    TextView codeText = (TextView) findViewById(R.id.codeText);
    itemText.setText(selectedItem);
    codeText.setText(selectedCode);
    ListView mListView01 = (ListView)findViewById(R.id.main_open_listview1);
    String[] keys = new String[] {"title","title_image", "content",
            "title1","title1_image","content1","title2","title2_image","content2"};
    int[] resValues =  new int[] { R.id.title, R.id.title_image, R.id.content,
            R.id.title1, R.id.title1_image, R.id.content1,R.id.title2, R.id.title2_image, R.id.content2};
    openDocAdapter opendoc = new openDocAdapter(this,localdcoumentlist, R.layout.main_open_content, keys, resValues );
    mListView01.setSelected(true);
    mListView01.setClickable(true);
    mListView01.setAdapter(opendoc);       

    int vc = mListView01.getCount();
    Log.d(" mListView01.getCount()="," "+vc);

    mListView01.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {

            @Override
            public void onItemSelected(AdapterView<?> arg0, View arg1,
                    int arg2, long arg3) {
                // TODO Auto-generated method stub
                Log.d("Selected From setOnItemSelectedListener, arg2=", " "+ arg2);
            }

            @Override
            public void onNothingSelected(AdapterView<?> arg0) {
                // TODO Auto-generated method stub

            }
        });

    mListView01.setOnItemClickListener(new AdapterView.OnItemClickListener()
    {
            @Override
            public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                    long arg3) {
                // TODO Auto-generated method stub
                selectedViewPos = arg2;
                Log.d("TitlesSelectionDialog(),selectedViewPos= "," "+ selectedViewPos);
                Toast.makeText(getApplicationContext(), "selectedViewPos= "+ selectedViewPos, Toast.LENGTH_LONG).show();

            }
        });
...... 
```

openDocAdapter 的代码：

```
 private class openDocAdapter extends SimpleAdapter
    {
      private Context _con;
      private List _List;
      private int _listviewId;
      private String[] _keys;
      private int[] _resValues;

      public openDocAdapter(Context context, ArrayList<HashMap<String,Object>> List , int listviewId, String[] keys, int[] resValues ) 
      {
        super(context, List, listviewId, keys, resValues);
        _con =context;
        _List = List;
        _listviewId = listviewId;
        _keys = keys;
        _resValues = resValues;
      }

      @Override
      public View getView(int position, View convertView, ViewGroup parent)
      {
          View v = convertView;
          if (v == null) {
              LayoutInflater vi = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);
              v = vi.inflate(R.layout.main_open_content, null);
          }

          TextView title = (TextView) v.findViewById(R.id.title);
          (...Similiar codes define  textView, imageViewsd.)                            

          return v;
      }

      @Override
      public int getCount()
      {
        // TODO Auto-generated method stub
        return super.getCount();
      }
      @Override
      public Object getItem(int position)
      {
        // TODO Auto-generated method stub
        return super.getItem(position);
      }
      @Override
      public long getItemId(int position)
      {
        // TODO Auto-generated method stub
        return super.getItemId(position);
      }
    } 
```

Edit1：我在[这里找到一篇](http://code.google.com/p/android/issues/detail?id=3414)关于布局上的**焦点**设置会导致可点击工作或不工作的文章。所以，我删除了**（我不在这里编码）在布局的 xml 文件中。然后 setOnItemSelectedListener() 方法在滚动列表列表时使用橙色焦点更改。但它仍然没有达到我的预期。**

 *** * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T13:04:04.840

**问题解决了！**经过几家谷歌搜索/搜索和try_eror。如果你很有趣，我想分享它。

问题的主要原因是：我使用**ScrollView**作为 row.xml 的基本布局（包含每个 listview 行的内容）。然后，我使用 **LinearLayout(Vertial)**代替它。setOnItemClickedListener() 方法现在可以正常工作。我对此一无所知，这会导致 ListView 不可点击。如果有人知道，请告诉我们，**

# java - Java EE 6 框架

> ID：10844563
> 
> 赞同：3
> 
> 时间：2012-06-01T04:51:12.273
> 
> 标签：java, java-ee-6

GWT 框架、Spring 框架、Play 框架、Seam 框架被用来为 Java 创建一个 MVC 风格的框架。

过去 3 天我一直在网上搜索是否应该为 Java EE 6 使用框架，但我很难找到正确的答案。

这篇文章在这里说 Java EE 6 不再需要框架：

> [从 Spring 迁移到 Java EE 6：框架时代已经结束](http://www.theserverside.com/discussions/thread.tss?thread_id=61023)

我读了这篇文章：

> [我是否需要框架来补充 Java EE 6、JSF-2 Web 应用程序？哪个？](https://stackoverflow.com/questions/4051077/do-i-need-frameworks-to-complement-a-java-ee-6-jsf-2-web-app-which-ones)

但我仍然没有得到使用什么框架的答案？

真的需要框架吗？如果没有，是否有显示等效 Java EE 6 框架的图表？

JSF 是一个框架吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T05:00:16.683

看，您需要 UI 组件集的框架，例如richfaces、primefaces 等。

REST、EJB、JPA、JSF——所有这些技术都是 JavaEE 6 规范的一部分，如果它们通过了 EE6 认证，所有应用服务器都必须实现它们。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-01T09:15:05.737

我将从一个很大的NO开始。您不需要任何框架来创建 Web 应用程序。

现在，当我们看到企业 Web 应用程序的当前状态时。有广泛接受的标准/模式。这些标准将帮助您创建模块化基础架构。

在决定框架之前。在研究使用什么或避免什么之前，只需问自己几个问题。

*   你的问题域是什么？
*   您的 Web 应用程序的范围是什么？
*   谁将长期维护应用程序？

框架将为您提供设计的基础设施。如果我谈论`Spring`框架，它将提供 MVC 基础设施。除此之外，它还将在应用程序的其他方面为您提供支持。例如，它将通过自己的 IOC 容器管理您的容器和所有应用程序的模块。当您需要某些方面实现时，它将为您提供 AOP 层来实现您的方面。当您的需求增长时，该框架将为您提供开箱即用的事务管理。它还将提供一个很好的抽象数据库层。还有很多。

所以，定义你的需求。找到解决方案。一旦定义了您的需求，您就可以探索框架的能力/<>。

是的，JSF 是一个框架。它用于创建 UI 设计。这是一个基于 java 的框架，为 Web 应用程序提供类似 AJAX 的解决方案。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-01T05:48:55.673

> *   有人可以向我推荐一个非常好的网站框架，它将使用 Ajax、EJB-3.1、RESTFul Web 服务、MySQL？

我认为您应该看看[Spring Web MVC framework](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/mvc.html)，它应该可以满足您的需求。

> *   还是真的需要一个框架？如果没有，那么是否有一个图表可以显示 Java EE 6 框架的工作原理？

对于基本的网站内容，我认为您不需要使用框架。但是一旦你开始扩展它，如果你使用框架，它就会变得更容易扩展。我对 Spring 有很好的体验。有关 Java EE6 概述，请阅读[此](http://www.theserverside.com/news/1363662/Java-EE-6-Overview).

> *   JSF 是一个框架吗？

是的，[Java Server Faces (JSF)](http://en.wikipedia.org/wiki/JavaServer_Faces)确实是一个主要用于集成基于 Web 的用户界面的框架。

# visual-studio-2010 - 有什么方法可以让控制台在 Visual Studio 2010 中作为选项卡运行？

> ID：10844577
> 
> 赞同：3
> 
> 时间：2012-06-01T04:52:38.673
> 
> 标签：visual-studio-2010, visual-studio

在 Eclipse 中，当程序运行时，输出显示在屏幕底部的选项卡中。有没有办法在 Visual Studio 中做到这一点？

例如，如果我的程序打印`Hello World`，我希望它显示`Hello World`在某种控制台选项卡中，而不是在完全不同的窗口中打开。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T05:14:39.970

Visual Studio 也有`Output Panel`，可以查看调试过程和控制台输出等。

您可以从 View`Menu -> Output`或`Debug Menu -> Windows -> Output`. 调试菜单可让您在调试或运行程序时查看打印的控制台输出。

或使用键盘快捷键`Ctrl`+ `W`, `O`.

要在输出窗口中打印一些东西，请使用`System.Diagnostics.Debug.WriteLine()`或 `System.Diagnostics.Debug.Write()`方法。

![输出窗口](../Images/8ee53602ec07fdb7dfda7cf3ade31bff.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T04:59:51.267

导航到调试 -> 窗口 -> 输出

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T05:07:55.890

您可以使用 System.Diagnostics.Debug.WriteLine 方法。

# android - getWritableDatabase() 和 getReadableDatabase() 的区别？

> ID：10844578
> 
> 赞同：7
> 
> 时间：2012-06-01T04:52:38.647
> 
> 标签：android, database

我使用读写数据库没有任何问题。但我无法找出区别。我在互联网上搜索过，但不是很清楚。谁能告诉我区别？在哪种情况下我应该使用`getWritableDatabase()`or `getReadableDatabase()`？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-08-01T02:11:52.963

取自我[在此处](https://stackoverflow.com/a/11752279/444761)删除的答案（此问题与该问题重复）。

> 在正常情况下，`getReadableDatabase()`将返回由`getWritableDatabase()`.
> 
> 但是，如果无法返回可写数据库， `getWritableDatabase()`则会失败，而`getReadableDatabase()` 会尝试返回`READ_ONLY`数据库。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-06-01T05:04:44.160

检查[参考](http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html#getReadableDatabase%28%29)

## 公共同步 SQLiteDatabase getReadableDatabase ()

自：API 级别 1

> 创建和/或打开数据库。这将与 getWritableDatabase() 返回的对象相同，除非某些问题（例如磁盘已满）需要以只读方式打开数据库。在这种情况下，将返回一个只读数据库对象。如果问题得到解决，未来对 getWritableDatabase() 的调用可能会成功，在这种情况下，只读数据库对象将被关闭，并且将来会返回读/写对象。

与 getWritableDatabase() 一样，此方法可能需要较长时间才能返回，因此不应从应用程序主线程调用它，包括从 ContentProvider.onCreate() 调用。退货

```
a database object valid until getWritableDatabase() or close() is called. 
```

如果无法打开数据库，则抛出 SQLiteException

## 公共同步 SQLiteDatabase getWritableDatabase ()

自：API 级别 1

> 创建和/或打开将用于读取和写入的数据库。第一次调用时，将打开数据库并调用 onCreate(SQLiteDatabase)、onUpgrade(SQLiteDatabase, int, int) 和/或 onOpen(SQLiteDatabase)。
> 
> 一旦打开成功，数据库就会被缓存，所以每次需要写入数据库时​​都可以调用这个方法。（确保在不再需要数据库时调用 close()。）权限错误或磁盘已满等错误可能会导致此方法失败，但如果问题得到解决，以后的尝试可能会成功。

数据库升级可能需要很长时间，您不应该从应用程序主线程调用此方法，包括从 ContentProvider.onCreate()。退货

```
a read/write database object valid until close() is called 
```

如果无法打开数据库进行写入，则抛出 SQLiteException

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-08-13T07:22:37.090

两者的区别在于磁盘已满时的情况。`getReadableDatabase()`和任务都是`getWritableDatabase()`打开/创建数据库。

但是，如果您调用`getWritableDatabase()`. 但是，`getReadbleDatabase()`在这种情况下工作正常。因为，`getReadableDatabase()`块写入操作并允许读取操作。

不要从应用程序主线程调用这些方法，如 Android 中的`onCreate()`方法`MainActivity`或任何回调方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-01-22T03:56:44.260

主要区别在于——

**getReadbleDatabase() -**

*   创建和/或打开数据库。这将与 getWritableDatabase() 返回的对象相同，除非某些问题（例如磁盘已满）需要以只读方式打开数据库。在这种情况下，将返回一个只读数据库对象。如果问题得到解决，未来对 getWritableDatabase() 的调用可能会成功，在这种情况下，只读数据库对象将被关闭，并且将来会返回读/写对象。

**getWritableDatabase() -**

*   创建和/或打开将用于读取和写入的数据库。第一次调用时，将打开数据库并调用 onCreate(SQLiteDatabase)、onUpgrade(SQLiteDatabase, int, int) 和/或 onOpen(SQLiteDatabase)。一旦打开成功，数据库就会被缓存，所以每次需要写入数据库时​​都可以调用这个方法。（确保在不再需要数据库时调用 close()。）权限错误或磁盘已满等错误可能会导致此方法失败，但如果问题得到解决，以后的尝试可能会成功。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-01-09T03:18:04.223

如果您的数据库崩溃`GetReadableDatabase()`将返回一个只读/只读对象，而`GetWriteableDatabase()`将失败。

# entity-framework - 实体框架：不支持 Convert.ToDecimal，有什么想法吗？EF 报错

> ID：10844594
> 
> 赞同：0
> 
> 时间：2012-06-01T04:53:45.673
> 
> 标签：entity-framework, linq-to-entities, entity-framework-4.1, ef-code-first

我一直在 EF 中进行查询，一切正常，但现在我在 db 2 字段中实际上是 CHAR .. 它们保存一个日期，但以数字的形式，在 SQL Management Studio 中我可以执行 date1 >= date2 for例如，我还可以检查我的数字是否在这两个日期之间。

它没有什么不寻常的，但基本上是一个代表日期的字段（数字随着日期的增长而增长）......

现在在 EF 中，当我尝试执行 >= 时，它指出您不能在字符串上执行此操作，可以理解它的 c#，所以我尝试执行 Convert.ToDecimal(date1) 但它给了我一个错误，说它不支持。

我没有更改数据库字段的选项，它们是一成不变的:-(

我让它工作的方式是请求详细信息并执行 .ToList 然后使用 .ToDecimal 并且它可以工作，但当然这是在内存中执行的！这破坏了 EF 的对象，例如使用 iqueryable 添加到查询中。

我让它工作的另一种方法是将 SQL 查询传递给 dbcontext 的 SqlQuery，但我又失去了很多 ef 功能。

任何人都可以帮忙吗？

我真的被困住了

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T06:38:56.923

正如您所说的那样，您尝试过`>=`我认为如果您可以用纯 SQL 做到这一点，它将对您有用。这可以通过做

```
String.Compare(date1, date2) >= 0 
```

EF 足够聪明，可以将其转化为`>=`运算符。

优点是您不需要比较转换后的值，因此可以在执行计划中使用索引。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T06:50:27.037

首先，您至少可以通过使用`AsEnumerable()`而不是启用查询的延迟执行`ToList()`。但是，这不会改变当您实际上执行查询时数据库需要返回所有记录的事实。

要让数据库执行过滤，您的查询需要与 SQL 兼容。由于您无法在 SQL 中执行 ToDecimal()，因此您需要通过将您的字符串转换为与 and`myvar`格式相同的字符串来直接处理字符串，然后形成您的查询。`dateStart``dateEnd`

# android - 如何获取特定选定行的行 ID？

> ID：10844595
> 
> 赞同：3
> 
> 时间：2012-06-01T04:53:53.723
> 
> 标签：android, android-layout, android-tablelayout

我在 for 循环中添加了`TableRows`两个`TableLayout`。在每个第一个`TableRow`都有 6`TextViews`和 1 `ImageView`& 1 切换按钮。我`OnClickListener`在`first row`& 切换按钮中添加了一个。我的问题是在`onclick`方法中`First Row`，我应该如何获取该特定选定行的行 ID？

有人能帮我吗？

请帮助我......

我想获取特定选定行的行 ID......

LZ有人回复我....

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T05:01:24.927

`View`像这样在层次结构中导航`ImageView` `OnCLickListener`：

```
imageView.setOnClickListener(new OnClickListener() {

     public void onCLick(View v) {
          // v represents the view that was clicked(the ImageView)
          // if the ImageView is added directly to the TableRow then you could simply do
          TableRow tr = (TableRow) v.getParent(); // if the ImageView isn't a direct child of the TableRow then walk through all the parent with getParent().
          // do stuff 
     }

}); 
```

**编辑 ：**

您的代码没有帮助，通过查看您在做什么，我建议您从一些更简单的东西开始了解 android。此外，`tabLayout.addView(openedRow1, n_D);`不会向*opensRow1* `View`添加标签（如果这是您想要做的），它只是将其定位到父级`View`中的特定位置（就像`0`是父级的第一个子级）。

我猜你是在点击它的父级时试图从第二个`TextView`（**tv_vin_val** ?!?!）获取文本。如果这就是你想要做的，那么试试这样的事情：

```
 public void onClick(View v) {
        // you set the listener on the TableRow so v is the TableRow that was clicked 
        TableRow lTableRow = ((TableRow) v);                                
        // to get the TextView use getChildAt or findViewById
        TextView lTextView = (TextView)lTableRow.getChildAt(1);
        //get the text from the TextView  
        vinNum = lTextView.getText().toString();
        // the tag
        int theTag = (Integer) v.getTag();          
        Intent intent = new Intent(DeliveryInspectionActivity.this, ExceptionsActivity.class);
        //intent.putExtra("row id value", theTag);
        startActivityForResult(intent, 0);
 } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:04:14.593

我不确定您将如何获得正确的行号，但我建议改为使用`getParent()`方法`View`来获取对`TableRow`包含图像的引用并直接从中工作。像这样的东西：

```
imageView.setOnClickListener(new View.OnClickListener() {
    @Override
    public void onClick(View v) {
        TableRow row = (TableRow)v.getParent();
        //handle your stuff here
    }
}); 
```

# php - php代码在本地主机上运行良好但无法正常工作

> ID：10844598
> 
> 赞同：0
> 
> 时间：2012-06-01T04:54:16.807
> 
> 标签：php

我正在使用 php 脚本进行登录，该脚本在我的 localhost(apache2,OS:ubuntu) 上完全正常工作，但当我将其放到网上时却无法正常工作

这里附上php代码

```
<?php
include('config.php');
session_start();
if($_SERVER["REQUEST_METHOD"]=="POST")
{
    $myusername=addslashes($_POST['user_name']);
    $mypassword=addslashes($_POST['pass_word']);
    $mypassword=md5($mypassword);
    $sql="select id from userinformation2 WHERE username='$myusername' and password='$mypassword' ";
    $result=mysql_query($sql);
    $row=mysql_fetch_array($result);
    $active=$row['active'];
    $count=mysql_num_rows($result);
    if($count==1)
    {
        session_register("myusername");
        $_SESSION['login_user']=$myusername;
        header("location:welcome.php");
    }
    else
    {
        $error="name and password is invalid";
        echo $error;
    }
}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:10:07.437

如果实时数据库为 id 和 password 获取多条记录，则可能会导致问题，因为条件是 $count ==1 如果 mysql_num_rows($result) 大于 1，则它不能属于条件，并且建议您为什么不使用 isset 条件的一件事

# matlab - MATLAB 重新调整对数图

> ID：10844601
> 
> 赞同：0
> 
> 时间：2012-06-01T04:54:31.350
> 
> 标签：matlab, plot

![在此处输入图像描述](../Images/b9a45a1482964044b25b845a0695bc26.png)

如何重新调整对数图的垂直轴，以便我的图表的所有线条都从 开始`10^0`？

```
loglog(ddt,Sqone,'b',ddt,Sqtwo,'m',ddt,Sqthree,'r',ddt,Sqfour,'y',ddt,Sqfive,'c');
title('Partition Function for CRSP Index on Log-Log Plot') 
```

在我上面的代码中，您看到`ddt=1:500`and `Sqone`, `Sqtwo`, `Sqthree`, etc... 都是我针对不同函数的各种值（根据指数 1,2,3,4,5 而变化）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T07:29:12.537

您可以移动数据本身以在 y 方向上移动图：

```
%# transform each of the variables: Sqone, Sqtwo, ..
y = y - y(1)  + 10^0; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T07:41:04.233

`set(gca,'YLim',max(get(gca,'YLim'),1))`

# android - 最初添加到布局时 Chronometer 不绘制

> ID：10844605
> 
> 赞同：0
> 
> 时间：2012-06-01T04:55:26.243
> 
> 标签：android, android-layout, android-tabhost, tabwidget, chronometer

我正在尝试编写一个简单的计时器应用程序。我正在创建一个扩展计时器的计数器类。无论如何，当我在 onCreate() 中将自定义计时器添加到我的布局时，它不会被绘制。只有在我切换到另一个选项卡时才会绘制它，然后再回到“计数器选项卡”。之后它会留下来。基本上，我如何让它绘制？我尝试调用 invalidate() 但似乎没有任何效果。

这是有问题的代码：

这是在我的 onCreate() 里面。我将自定义 Chronometer 添加到称为 linLay 的线性布局中。

```
 public class TimerMain extends Activity {

    // Handle to the tabhost
    public TabHost tabHost;

    // Handle to the tab widget (this is the view that has the two tabs)
    public TabWidget tabWidget;

    // Handle to the LinearLayout inside the ScrollView
    public LinearLayout linLay;

    // Spec used to create the tabs
    public TabSpec spec;

    // Up Counter handle
    public UpCounter myUpCounter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // Set the view to the main layout (see main.xml)
        setContentView(R.layout.main);

        // Get the handle to the tabhost in the layout and set it up
        tabHost = (TabHost) this.findViewById(R.id.my_tabhost);
        tabHost.setup();

        // Get the handle to the TabWidget that is in the 
        // xml file through the TabHost handle
        tabWidget = tabHost.getTabWidget();

        // Get the handle to the relative layout that is inside of the frame
        // that is used for the tab contents
        linLay = (LinearLayout) this.findViewById(R.id.LinLay);

        // Create the Count Up tab and leave it blank
        spec = tabHost.newTabSpec("CU");
        spec.setIndicator("Count Up");
        spec.setContent(R.id.ScrLay);
        tabHost.addTab(spec);

        // Create the Count Down tab and leave it blank
        spec = tabHost.newTabSpec("CD");
        spec.setIndicator("Count Down");
        spec.setContent(R.id.ScrLay);
        tabHost.addTab(spec);

        // Set up the click listeners for each tab
        initTabClickListen();

        // Start with the Count Up tab selected
        tabHost.setCurrentTab(0);

        // Initialize the first counters
        myUpCounter = initFirstCounters(this.getApplicationContext());        
        myUpCounter.start();
        myUpCounter.setBase(SystemClock.elapsedRealtime());
        //Add the first UpCounter to the scroll view
        linLay.addView(myUpCounter);

    }

    @Override
    protected void onResume(){
        super.onResume();
    }

    private UpCounter initFirstCounters(Context context) {
        UpCounter tempCt;
        // Create the first counter
        tempCt = new UpCounter(context);
        tempCt.setFormat("Initial Format: %s");
        return tempCt;

    }

    // Set up the click listeners for each tab
    private void initTabClickListen() {

        // Set up the listener for the Count Up Tab
        tabWidget.getChildAt(0).setOnClickListener(new OnClickListener(){
            public void onClick(View v){
                // Detach all views from the layout
                // and add the views for this tab.
                linLay.removeAllViews();
                linLay.addView(myUpCounter);

                // Set the current tab to Count Up
                tabHost.setCurrentTab(0);
            }
        });

        // Set up the listener for the Count Down Tab
        tabWidget.getChildAt(1).setOnClickListener(new OnClickListener(){
            public void onClick(View v){
                // Detach all views from the layout
                // and add the views for this tab.
                linLay.removeAllViews();
                //scrLay.addView(v2);

                // Set the current tab to Count Down
                tabHost.setCurrentTab(1);
            }
        });

    }
}

// Custom Counter Class
class UpCounter extends Chronometer{

    public UpCounter(Context context) {
        super(context);

    }

} 
```

最后，这是 .xml 以供您查看。我也通过删除线性布局并使用滚动视图代替计时器来尝试这个，我有同样的问题。

```
<?xml version="1.0" encoding="utf-8"?>
<TabHost xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/my_tabhost"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">
    <LinearLayout 
        android:orientation="vertical"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent">
        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"/>
         <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent">

            <ScrollView 
                android:id="@+id/ScrLay"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content">

                <LinearLayout 
                    android:id="@+id/LinLay"
                    android:layout_width="fill_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical">
                </LinearLayout>

             </ScrollView>

        </FrameLayout>
    </LinearLayout>
</TabHost> 
```

我怎样才能让这个计数器在应用程序启动时出现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T13:33:40.403

请参阅此[开发人员的演示。](http://developer.android.com/resources/tutorials/views/hello-tabwidget.html)

在这里，他们学习了如何制作基于标签的应用程序。

现在，创建活动并将其设置为 tabhost。并在该活动上创建计时器。

如果没有解决，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-02T05:06:33.547

我想到了。

出于某种原因，如果我只是在 onCreate() 中将其添加到我的代码中：

```
// Start with the Count Up tab selected
tabHost.setCurrentTab(1);
tabHost.setCurrentTab(0); 
```

现在一切正常！

# php - 我正在尝试进行查询，但它给出了解析错误

> ID：10844606
> 
> 赞同：-1
> 
> 时间：2012-06-01T04:55:34.917
> 
> 标签：php, mysql

当我进行查询时，它说：

```
"Parse error: syntax error, unexpected T_VARIABLE in *****/postchange.php on line 125" 
```

我的查询是：

**PHP**：

```
$id = $_GET['id'];
if($id > 1){
  mysql_query("UPDATE `post` SET userid = 16 WHERE postid = "$id)
  or die(mysql_error());
  echo '...Done';
} else {
  echo 'Invalid post.';
} 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T04:56:08.937

您`.`的字符串和变量之间缺少 a 。有必要连接成一个字符串。它应该是：

```
mysql_query("UPDATE `post` SET userid = 16 WHERE postid = " . $id)
or die(mysql_error()); 
```

虽然你真的应该使用[mysqli_*](http://php.net/manual/en/book.mysqli.php)或[PDOs](http://php.net/manual/en/book.pdo.php)。

此外，您的查询极易受到 SQL 注入的影响。您需要在将 $_GET['p'] 输入数据库之前对其进行清理。至少，使用[mysql_real_escape_string()](http://php.net/manual/en/function.mysql-real-escape-string.php)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:06:45.247

```
<?php mysql_query("UPDATE `post` SET `userid`='16' WHERE `postid`=".$id); ?> 
```

# image - 在 MATLAB 中播放图像序列

> ID：10844607
> 
> 赞同：2
> 
> 时间：2012-06-01T04:55:41.470
> 
> 标签：image, matlab, user-interface, video, sequence

向你们所有人问好。

我有这个有点令人沮丧的问题，我希望你能帮我解决它。

我正在 MATLAB 中开发人类跟踪系统，并希望在一个吸引人的 GUI 中显示结果（也在 MATLAB 中使用 GUIDE）。

在这个主窗口中，大约 2500 张大小为 320x240 的灰度图像的图像序列将像视频一样播放，但人物在其中被很好地勾勒出来。

挑战是；这些图像在显示在窗口上之前需要进行一些处理（检测人体轮廓）。

现在，是否可以在显示一组图像的同时对稍后显示的另一组图像进行一些处理？

我非常希望它像普通视频一样播放，但我想这会有点雄心勃勃。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T07:36:58.647

这是一个示例，显示类似于您所描述的场景。这是改编自我在评论中提到的[演示。](http://www.mathworks.com/products/image/demos.html?file=/products/demos/shipping/images/ipexbatch.html)

```
function ImgSeqDemo()
    figure()
    for i=1:10
        %# read image
        img = imread( sprintf('AT3_1m4_%02d.tif',i) );

        %# process image to extract some object of interest
        [BW,rect] = detectLargestCell(img);

        %# show image
        imshow(img), hold on

        %# overlay mask in red color showing object
        RGB = cat(3, BW.*255, zeros(size(BW),'uint8'), zeros(size(BW),'uint8'));
        hImg = imshow(RGB); set(hImg, 'AlphaData',0.5);

        %# show bounding rectangle
        rectangle('Position', rect, 'EdgeColor','g');
        hold off

        drawnow
    end
end 
```

这是上面使用的处理函数。在您的情况下，您将插入您的算法：

```
function [BW,rect] = detectLargestCell(I)
    %# OUTPUT
    %#    BW    binary mask of largest detected cell
    %#    rect  bounding box of largest detected cell

    %# find components
    [~, threshold] = edge(I, 'sobel');
    BW = edge(I,'sobel', threshold*0.5);
    se90 = strel('line', 3, 90);
    se0 = strel('line', 3, 0);
    BW = imdilate(BW, [se90 se0]);
    BW = imclearborder(BW, 4);
    BW = bwareaopen(BW, 200);
    BW = bwmorph(BW, 'close');
    BW = imfill(BW, 'holes');

    %# keep largest component
    CC = bwconncomp(BW);
    stats = regionprops(CC, {'Area','BoundingBox'});
    [~,idx] = max([stats.Area]);
    rect = stats(idx).BoundingBox;
    BW(:) = 0;
    BW(CC.PixelIdxList{idx}) = 1;
end 
```

![截屏](../Images/81a07421abf0511625c83e9c8ce34ec4.png)

# shell - Lsyncd 选项问题

> ID：10844610
> 
> 赞同：1
> 
> 时间：2012-06-01T04:55:53.287
> 
> 标签：shell, lua

我正在尝试使用名为[lsyncd](http://code.google.com/p/lsyncd/)的软件，它使用用 lua 编写的配置文件来存储配置选项。

```
settings = {
logfile = "/logs/log.log",
pidfile = "/var/run/lsyncd.pid",
statusFile="/var/log/lsyncd.stat",
statusIntervall=5,
delay = 1
}
sync {
default.rsync,
source = "/source/folder",
target = "/destination/folder",
excludeFrom="/etc/exclude",
} 
```

该手册讨论了在操作中运行命令的能力，甚至还有一个示例

```
fgroup = "staff"

-----
-- script for all changes.
--
command = 
-- checks if the group is the one enforced and sets them if not 
'[[
perm=`stat -c %A ^sourcePathname`
if test `stat -c %G ^sourcePathname` != ]]..fgroup..'[[; then
        /bin/chgrp ]]..fgroup..'[[ ^sourcePathname || /bin/true; 
fi 
]] ..

-- checks if the group permissions are rw and sets them 
'[[
if test `expr match $perm "....rw"` = 0; then 
        /bin/chmod g+rw ^sourcePathname || /bin/true; 
fi 
]] ..

-- and forces the executable bit for directories.
'[[
if test -d ^sourcePathname; then
        if test `expr match $perm "......x"` -eq 0; then 
                /bin/chmod g+x ^^sourcePathname || /bin/true;
        fi 
fi 
]]

-- on startup recursively sets all group ownerships
-- all group permissions are set to 'rw'
-- and to executable flag for directories
--
-- the hash in the first line is important, otherwise due to the starting
-- slash, Lsyncd would think it is a call to the binary /bin/chgrp only
-- and would optimize the shell call away.
-- 
startup = 
'[[#
/bin/chgrp -R ]]..fgroup..'[[ ^source || /bin/true &&
/bin/chmod -R g+rw ^source || /bin/true &&
/usr/bin/find ^source -type d | xargs chmod g+x 
]]

     gforce = {
        maxProcesses = 99,
        delay        = 1,
        onStartup    = startup,
        onAttrib     = command,
        onCreate     = command,
        onModify     = command,
        -- does nothing on moves, they won't change permissions
        onMove       = true,
   }

   sync{gforce, source="/path/to/share"} 
```

但我只想执行一个简单的本地命令 onCreate, onModify, onMove

```
 /path/to/script.sh args 
```

我知道可能很简单，但我无法弄清楚。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T08:38:58.820

命令似乎是字符串。然后我会尝试：

```
...
onStartup = "/path/to/script.sh args",
onAttrib  = [[/path/to/script.sh args]],  -- both '', "", and [[ ]] are string delimiters
.... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-06T17:46:51.527

尝试这样的事情：

```
my_cmds =
[[
    /path/to/script.sh args
]]

monitor =
{
    delay    = 1,
    onAttrib = my_cmds,
    onCreate = my_cmds,
    onModify = my_cmds,
    onMove   = my_cmds,
}

sync
{
    monitor,
    source = "/source/folder",
    target = "/destination/folder",
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-07-02T10:02:23.167

请尝试python脚本软件[Watcher](http://github.com/greggoryhz/Watcher)，并以jobs.yml为例进行配置。

```
......
events: ['create', 'modify', 'move']
......
command:/path/to/script.sh args 
```

# cakephp - CAKEPHP：内部连接和控制器问题

> ID：10844612
> 
> 赞同：0
> 
> 时间：2012-06-01T04:55:59.833
> 
> 标签：cakephp, controller, inner-join

[http://webdesign4.georgianc.on.ca/~100141468/comp2084/todo/clients](http://webdesign4.georgianc.on.ca/~100141468/comp2084/todo/clients)

[http://bin.cakephp.org/view/1402280124](http://bin.cakephp.org/view/1402280124)

第一个链接 - add 所在的位置 - 它工作正常，但内部连接不起作用。SQL 是正确的，只是控制器中的代码不正确。我遇到的另一个问题是未定义的操作视图。我确信它与控制器内部的东西有关。

```
<?php
class ClientsController extends AppController
{
    var $name = 'Clients';
    function index()
    {
        $this->set('Clients', $this->Client->find('all'));
    }
    function add()
    {
        if ($this->request->is('post')) {
            if ($this->Client->save($this->request->data)) {
                $this->Session->SetFlash('Client has been saved');
                $this->redirect(array(
                    'action' => 'index'
                ));
            } else {
                $this->Session->setFlash('Nope');
            }
        }
    }
    public function view($id = null)
    {
        $this->Client->id = $id;
        $this->set('Client', $this->Client->read(null, $id));
    }
    public function edit($id = null)
    {
        $this->Client->id = $id;
        if ($this->request->is('get')) {
            $this->request->data = $this->Client->read();
        } else {
            if ($this->Client->save($this->request->data)) {
                $this->Session->setFlash('Client has been updated.');
                $this->redirect(array(
                    'action' => 'index'
                ));
            } else {
                $this->Session->setFlash('Unable to update Client.');
            }
        }
        $this->loadModel('Employee');
        $this->set('Employees', $this->Employee->find('list', array(
            'order' => array(
                'Employee.name'
            )
        )));
        $this->set(compact('Employees'));
    }
    public function delete($id = null)
    {
        if ($this->request->is('/Clients/delete/{id}')) {
            throw new MethodNotAllowedException();
        }
        if ($this->Client->delete($id)) {
            $this->Session->setFlash('The Client with id: ' . $id . ' has been deleted.');
            $this->redirect(array(
                'action' => 'index'
            ));
        }
    }
}
?> 
```

# javascript - 浏览器关闭事件对于 Firefox 不工作

> ID：10844620
> 
> 赞同：-1
> 
> 时间：2012-06-01T04:56:44.597
> 
> 标签：javascript, html, browser, cross-browser, onunload

在我的应用程序中，我必须提醒用户在浏览器关闭时注销。为此，我使用了如下的 javascript

```
<body scroll="no" onbeforeunload="browerClose()">
<script language="JavaScript" type="text/javascript">
function browerClose()
{
 window.alert("Click OK to SignOut");
 window.location.href = "http://localhost:8086/egs/ervlet?pri=logOut";

} 
```

这适用于 IE，但不适用于 FireFox，解决问题....任何建议提前Thankxx，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:12:31.663

我建议您将 javascript 函数移到 HTML 文档的 head 部分。这样它就适用于 Firefox。这可能是因为 HTML 文档是按顺序处理的，您需要先定义函数才能使用它。

做这样的事情：

```
<head>
<script language="JavaScript" type="text/javascript">
function browerClose()
{
 window.alert("Click OK to SignOut");
 window.location.href = "http://google.com";
}
</script>
</head>
<body scroll="no" onbeforeunload="browerClose()">
<!-- you code here --> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-23T12:34:37.957

如果您在应用程序中使用了任何自定义警报消息，则 onbeforeunload 事件将无法在 fire fox 版本 26 中起作用，这意味着您需要在关闭浏览器/选项卡或刷新页面时执行 x 操作，但是您将警报消息放入将从 onbeforeunload 调用的函数中x（更新）操作不会发生。

```
<html>
<head>
<script>
   function unloadfunction() {
      alert('test');
      // update employee ID in Database
   }
</script>
</head>
<body onbeforeunload="unloadfunction();">
</body>
</html>
```

# php - 保持postgresql错误的命令

> ID：10844621
> 
> 赞同：0
> 
> 时间：2012-06-01T04:56:45.547
> 
> 标签：php, postgresql, cakephp

Cakephp 1.2.6 和 Postgresql 8

我在 shell 上运行 cakephp。我使用了保存（）。Postgresql 有一些错误，我想将该错误保留在另一个数据库中。谁知道 Cakephp 或 Postgresql 中可以将该错误保留为字符串的命令？

```
example:
if($this->Model->save($data)) { 

}
else {
/// command??
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-02T08:25:32.417

谢谢普雷斯利迪亚斯

Try & Catch 对我不起作用。现在，我使用了这种方法：

```
 $this->getDataSrouce()->error; 
```

从数据库获取最后一个错误。

来自： http: [//www.sanisoft.com/blog/2011/07/05/how-to-track-sql-errors-in-cakephp-on-production-site/](http://www.sanisoft.com/blog/2011/07/05/how-to-track-sql-errors-in-cakephp-on-production-site/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T07:00:00.853

如果你想捕捉`exception`然后保存在数据库中，那么你可以使用这样的东西

```
 try {

         if($this->Model->save($data)){
                       //do somthing
             }

        //now the exception occured.. so catch it
       }catch (Exception $ex){

             // this message is  "ERROR: ". $ex->getMessage()
             //save the message here to the other database where the message is    $ex->getMessage() 
       } 
```

来自[Stackoverflow](https://stackoverflow.com/a/6507084/1051198)的 还有[cakephp-exception](http://www.robertchurchill.co.uk/tag/cakephp/)和[cakephp-throw-exceptions](http://www.robertchurchill.co.uk/2011/03/cakephp-throw-exceptions-with-gay-abandon/)

# css - 使用 css 框架时如何不弄乱样式

> ID：10844622
> 
> 赞同：7
> 
> 时间：2012-06-01T04:56:47.473
> 
> 标签：css, google-maps, twitter-bootstrap

我正在使用带有 Twitter Bootstrap 的 Google Maps API V3，这就是我得到的。标记甚至不能被识别为标记，缩放工具也不见了。 ![在此处输入图像描述](../Images/380fa988d3136dcba29e29c001a264ec.png)

似乎 Twitter boostrap 正在搞乱地图画布的样式是否有办法排除某个元素被某个框架设置样式？或者只是简单地重置地图画布上的样式，使其不受 twitter bootstrap 样式表的影响？

除了 twitter bootstrap 的样式之外，还有一些代码：

```
<style type="text/css">
      html { height: 100% }
      body{ height: 100%; margin: 0; padding: 0 }
</style> 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-01T05:07:31.833

我相信这与他们添加

```
img{
    max-width: 100%;
} 
```

建议的修复是这样的：

```
#mapContainer img{
    max-width: none;
} 
```

见这里[https://github.com/twitter/bootstrap/issues/1552](https://github.com/twitter/bootstrap/issues/1552)

**[更新]**

看起来 2.0.4 的发布应该解决这个问题（*我没有尝试过只是通过 change.log*）

[http://blog.getbootstrap.com/2012/06/bootstrap-2-0-4-released/](http://blog.getbootstrap.com/2012/06/bootstrap-2-0-4-released/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-01T04:52:15.677

我有同样的问题`Bootstrap + Google Maps`。我假设您正在使用其他 CSS 文件（添加到您的后引导文件中），因此为了“覆盖”#map 容器中包含的图像中的该样式，只需在您自己的 CSS 中使用类似于以下代码的内容文件：

```
#mapContainer img{
    max-width: none;
} 
```

就像subhaze所说的那样。它对我来说效果很好。

希望这对您有所帮助。

# apache - 在基于 XAMPP 的服务器中设置名称服务器？

> ID：10844624
> 
> 赞同：0
> 
> 时间：2012-06-01T04:56:55.930
> 
> 标签：apache, xampp

我想在我的服务器中设置 apache 虚拟主机

我注册的域名是 www.abcd.com

名称 server1：NS1.ABCD.COM

名称 server2：NS2.ABCD.COM

我的静态ip：112.123.124.195

我可以从上面显示的静态 IP 地址访问我的网站，但现在想设置 vhost 文件以从 www.abcd.com 访问此服务器

我当前的虚拟主机文件如下。请帮助我设置此文件以从注册域访问。

```
enter code here
#
# Virtual Hosts
#
# If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn't need to worry about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at 
# <URL:http://httpd.apache.org/docs/2.2/vhosts/>
# for further details before you try to setup virtual hosts.
#
# You may use the command line option '-S' to verify your virtual host
# configuration.

#
# Use name-based virtual hosting.
#
##NameVirtualHost *:80

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for all requests that do not
# match a ServerName or ServerAlias in any <VirtualHost> block.
#
##<VirtualHost *:80>
    ##ServerAdmin postmaster@dummy-host.localhost
    ##DocumentRoot "G:/xampp/htdocs/dummy-host.localhost"
    ##ServerName dummy-host.localhost
    ##ServerAlias www.dummy-host.localhost
    ##ErrorLog "logs/dummy-host.localhost-error.log"
    ##CustomLog "logs/dummy-host.localhost-access.log" combined
##</VirtualHost>

##<VirtualHost *:80>
    ##ServerAdmin postmaster@dummy-host2.localhost
    ##DocumentRoot "G:/xampp/htdocs/dummy-host2.localhost"
    ##ServerName dummy-host2.localhost
    ##ServerAlias www.dummy-host2.localhost
    ##ErrorLog "logs/dummy-host2.localhost-error.log"
    ##CustomLog "logs/dummy-host2.localhost-access.log" combined
##</VirtualHost>

enter code here 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T15:12:22.297

你可以把这样的东西放在你的 httpd-vhosts.conf

```
<VirtualHost 210.212.143.195>
    ServerName www.abcd.com
    ServerAlias abcd.com   
    ServerAdmin webmaster@localhost
    DocumentRoot the/root/to your/webfolder
    ServerName example.com

    <Directory "the/root/to your/webfolder">
        Options Indexes FollowSymLinks Includes ExecCGI
        AllowOverride All
        order allow,deny
        allow from all
    </Directory>
</VirtualHost> 
```

比你应该包含在你的 Windows 主机文件（windows/system32/drivers/etc/hosts）如果你想在 localhost

```
 210.212.143.195 www.abcd.com 
```

# c# - XNA：我每帧更新的列表似乎丢失了前几个条目

> ID：10844627
> 
> 赞同：1
> 
> 时间：2012-06-01T04:56:58.963
> 
> 标签：c#, .net, list, xna

我有一个我通过调用向该列表添加另一个整数来`List<int>`更新每次调用`Update()``Add()`

在每次调用 时`Draw()`，我都会使用`foreach`它`List`并使用存储`int`在屏幕上绘制一些东西。

我遇到的问题是前几帧（即很少调用更新），我的列表不同步。我添加的东西永远不会出现。

我使用此代码向文件添加了一些跟踪：

```
log.WriteLine("start list with count " + Actions.Count);
int nextAction = getNextAction(); // right now this is just some additions
Actions.Add(nextAction);
movelog.WriteLine("end list with count " + Actions.Count); 
```

我得到这个踪迹：

```
start list with count 0
end list with count 1

start list with count 0
end list with count 1

start list with count 0
end list with count 1

start list with count 0
end list with count 1

start list with count 0
end list with count 1

start list with count 1
end list with count 2

start list with count 2
end list with count 3

start list with count 3
end list with count 4 
```

正如您所看到的对这部分代码的前几次调用（即调用`Update()`），我添加到列表中，然后在下次调用它时它神奇地消失了，就好像没有添加到列表中一样。第五次之后，它终于起作用了。这在运行中非常一致。

我尝试锁定列表对象，并且得到完全相同的行为。

我的代码怎么了？我难住了。我没有并行执行任何操作，并且`ManagedThreadId`每次添加到列表时都尝试跟踪，并且线程 ID 相同。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T07:55:59.570

我猜你正在从 Draw() 调用中的列表中删除项目，这将产生你所描述的效果，因为 XNA 不会为每个 Draw() 调用运行 1 个 Update() 方法。

默认情况下，XNA 尝试每秒运行 60 次 Update()，但 Draw() 方法会尝试与显示器刷新率同步运行，并且如果更新方法花费的时间过长，则调用的次数会更少。

**编辑** 似乎我对从数组中删除项目的 Draw() 方法是错误的，在寻找这个问题的根源时我会尝试的下一步是确保没有任何东西在列表中乱序执行将是更改它到记录活动的列表。

```
public class LogList<T> : List<T>
    {
        public LogList()
            : base()
        {
            Debug.WriteLine("LogList- Construction");
        }

        public new void Add(T item)
        {
            Debug.WriteLine("LogList - Add");
            base.Add(item);
        }

        public new void Remove(T item)
        {
            Debug.WriteLine("LogList - Remove");
            base.Remove(item);
        }

        public new void RemoveAt(int index)
        {
            Debug.WriteLine("LogLost - RemoveAt");
            base.RemoveAt(index);
        }

        public new void Clear()
        {
            Debug.WriteLine("LogList - Clear");
            base.Clear();
        }
    } 
```

# c - C中的字符串查找

> ID：10844629
> 
> 赞同：5
> 
> 时间：2012-06-01T04:57:34.477
> 
> 标签：c, string

我需要做的是找到某个字符串的位置，然后只保留之后的位置。

伪代码：

```
string1 = "CDSDC::walrus"
string2 = "::"
string3 = (substr( string1, strfind(string1, string2) + 2 )) // +2 being the len of str2
// at this point I want string3 == "walrus" 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-01T05:00:09.013

[`strstr`](http://www.cplusplus.com/reference/clibrary/cstring/strstr/)做你想做的事。即定位子字符串。

```
const char * strstr ( const char * str1, const char * str2 ); 
```

> 返回指向 str1 中第一次出现 str2 的指针，如果 str2 不是 str1 的一部分，则返回空指针。

对于你的例子，

```
char *string3 = strstr(string1,"walrus") 
```

或者，如果您想根据分隔符将字符串拆分为标记，例如`::`use 可以使用[`strtok`](http://www.cplusplus.com/reference/clibrary/cstring/strtok/)

```
char * strtok ( char * str, const char * delimiters ); 
```

**将字符串拆分为标记**

> 对该函数的一系列调用将 str 拆分为标记，这些标记是由作为定界符一部分的任何字符分隔的连续字符序列。

对于你的例子，

```
strtok(string1, "::");
string3 = strtok(NULL,"::") 
```

`strtok`是一个棘手的功能，因为*它修改了您正在标记的字符串*并且*也不是 re-rentrant*。这是一篇[很好的文章](http://www.cplusplus.com/faq/sequences/strings/strtok/)，解释了使用的整体方面`strtok`

# c++ - 如何获取 CPU 使用率等 Windows 数据？

> ID：10844631
> 
> 赞同：5
> 
> 时间：2012-06-01T04:57:45.740
> 
> 标签：c++, windows, bandwidth

如何获取 Windows 数据，如 CPU 使用率、物理内存、网络使用率和带宽，类似于我在任务管理器中看到的数据？我正在使用 C++。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-01T05:10:27.443

您可以使用性能数据获取 CPU 使用率。如果您只需要一个（或几个进程）的数据，则[`GetProcessTimes`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683223.aspx)每隔几秒调用一次可能会更简单。

通常很难准确确定物理内存使用的含义。在你这样做之前，试图描述如何衡量它是毫无意义的。

您可以使用 获取有关网络利用率的一些信息[`GetIpStatistics`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365959.aspx)。

您可以获得已安装网络适配器的额定带宽[`GetIfTable`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa365943.aspx)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T05:13:06.353

在 msdn 中查看[性能计数器](http://msdn.microsoft.com/en-us/library/windows/desktop/aa373083%28v=vs.85%29.aspx)

# vb.net - Gridview RowUpdating 找不到控件

> ID：10844634
> 
> 赞同：2
> 
> 时间：2012-06-01T04:57:55.383
> 
> 标签：vb.net, gridview, findcontrol

正如标题所说，我无法找到我想要的控件。

这是网格视图：

```
 <asp:GridView ID="gvInfo" runat="server" AutoGenerateColumns="false" AutoGenerateEditButton="true">
        <Columns>
            <asp:BoundField DataField="filename" HeaderText="Filename" SortExpression="filename" />
            <asp:ButtonField ButtonType="Button" CommandName="Select" 
                HeaderText="Move File" ShowHeader="True" Text="Move File" />
        </Columns>
    </asp:GridView> 
```

这是后面的代码：

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
    If Not IsPostBack Then
        ShowGV()
    End If
End Sub

Protected Sub gvInfo_RowEditing(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.GridViewEditEventArgs) Handles gvInfo.RowEditing
    gvInfo.EditIndex = e.NewEditIndex
    ShowGV()
End Sub

Protected Sub gvInfo_RowCancelingEdit(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.GridViewCancelEditEventArgs) Handles gvInfo.RowCancelingEdit
    gvInfo.EditIndex = -1
    ShowGV()
End Sub

Protected Sub gvInfo_RowUpdating(ByVal sender As Object, ByVal e As System.Web.UI.WebControls.GridViewUpdateEventArgs) Handles gvInfo.RowUpdating
    Dim row = gvInfo.Rows(e.RowIndex)
    Dim Test As String = CType(row.FindControl("filename"), TextBox).Text
    Response.Write(Test)

    gvInfo.EditIndex = -1
    ShowGV()
End Sub 
```

任何帮助深表感谢。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T05:07:02.680

尝试

```
CType(row.Cells(0).Controls(0), TextBox).Text
'change index of `cell(0)` to required column index (column index starts from 0) 
```

或者

将所需列转换为 a`TemplateField`并使用，

```
CType(row.FindControl("LabelNamein'EditItemTemplate'"), TextBox).Text 
```

# iphone - 像 Line app 这样的 Iphone 表情

> ID：10844636
> 
> 赞同：5
> 
> 时间：2012-06-01T04:58:06.600
> 
> 标签：iphone, emoticons

我正在尝试创建聊天界面，例如`Line app`您可以在其中编写表情符号的地方。我尝试了几种不同的方法：

*   用于单元格的 UIWebView：我认为他们就是这样做的，但不知道他们是如何缓存信息的，所以速度如此之快。
*   一个 UITextView：计算表情符号代码的位置，然后在 textview 上添加图像。这种方法的问题是，当您选择文本时，您看不到表情符号，只能看到文本。

关于有效方法的任何建议？

# macos - 使用 Homebrew 安装 git 有困难

> ID：10844637
> 
> 赞同：0
> 
> 时间：2012-06-01T04:58:11.830
> 
> 标签：macos, git, homebrew

我正在观看[此视频](http://www.youtube.com/watch?v=WUviVWnvBM8)以使用 Homebrew 安装 git。我已经安装了 Homebrew。我遇到的问题是使用 Homebrew 安装 git。我输入了 brew install git 并有某些错误消息。

错误信息：

```
./generate-cmdlist.sh > common-cmds.h+ && mv common-cmds.h+ common-cmds.h
/usr/bin/xcrun clang -o hex.o -c -MF ./.depend/hex.o.d -MMD -MP  -Os -w -pipe -march=native -Qunused-arguments -I. -DUSE_ST_TIMESPEC -DNO_GETTEXT  -DHAVE_DEV_TTY -DSHA1_HEADER='<openssl/sha.h>'  -DNO_MEMMEM  hex.c
/usr/bin/xcrun clang -o ident.o -c -MF ./.depend/ident.o.d -MMD -MP  -Os -w -pipe -march=native -Qunused-arguments -I. -DUSE_ST_TIMESPEC -DNO_GETTEXT  -DHAVE_DEV_TTY -DSHA1_HEADER='<openssl/sha.h>'  -DNO_MEMMEM  ident.c
/usr/bin/xcrun clang -o kwset.o -c -MF ./.depend/kwset.o.d -MMD -MP  -Os -w -pipe -march=native -Qunused-arguments -I. -DUSE_ST_TIMESPEC -DNO_GETTEXT  -DHAVE_DEV_TTY -DSHA1_HEADER='<openssl/sha.h>'  -DNO_MEMMEM  kwset.c
In file included from ident.c:8:
In file included from ./cache.h:4:
./git-compat-util.h:93:10: fatal error: 'unistd.h' file not found
#include <unistd.h>
         ^
In file included from hex.c:1:
In file included from ./cache.h:4:
./git-compat-util.h:93:10: fatal error: 'unistd.h' file not found
#include <unistd.h>
         ^
In file included from kwset.c:37:
In file included from ./cache.h:4:
./git-compat-util.h:93:10: fatal error: 'unistd.h' file not found
#include <unistd.h>
         ^
1 error generated.
make: *** [hex.o] Error 1
1 error generated.
make: *** Waiting for unfinished jobs....
make: *** [ident.o] Error 1
1 error generated.
make: *** [kwset.o] Error 1
==> Build Environment
CPU: quad-core 64-bit sandybridge
MacOS: 10.7.4-x86_64
Xcode: 4.3.2
CC: /usr/bin/xcrun clang => /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang

CXX: /usr/bin/xcrun clang++ => /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++

LD: /usr/bin/xcrun clang => /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang

CFLAGS: -Os -w -pipe -march=native -Qunused-arguments
CXXFLAGS: -Os -w -pipe -march=native -Qunused-arguments
MAKEFLAGS: -j4
Error: Failed executing: make prefix=/usr/local/Cellar/git/1.7.10.3 CC=/usr/bin/xcrun\ clang CFLAGS=-Os\ -w\ -pipe\ -march=native\ -Qunused-arguments LDFLAGS= install (git.rb:49)
These existing issues may help you:
    https://github.com/mxcl/homebrew/issues/8643
    https://github.com/mxcl/homebrew/issues/9023
    https://github.com/mxcl/homebrew/issues/9618
    https://github.com/mxcl/homebrew/issues/10544
    https://github.com/mxcl/homebrew/issues/11481
    https://github.com/mxcl/homebrew/issues/12325
    https://github.com/mxcl/homebrew/issues/12344
    https://github.com/mxcl/homebrew/issues/12400
    https://github.com/mxcl/homebrew/issues/12478
Otherwise, please report the bug:
    https://github.com/mxcl/homebrew/wiki/reporting-bugs 
```

我该如何解决这个错误？需要一些帮助

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T15:21:07.643

您必须通过 Xcode 安装命令行工具才能获取所需的标头。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-01T05:11:10.257

我建议你[下载它](http://git-scm.com/download/mac)。另外，如果您使用 github，我建议您阅读[此页面](http://help.github.com/mac-set-up-git/)。一年前，我以这种方式开始。

# jquery - 如何自定义 DhtmlxScheduler 时间段？

> ID：10844638
> 
> 赞同：1
> 
> 时间：2012-06-01T04:58:19.497
> 
> 标签：jquery, asp.net, dhtmlx

我想在 dhtmlxScheduler 中自定义时间段间隔（例如到 00:00,00:05,00:10 ...23:55）到 1:00 2:00....12:00。可能吗？如果是，请告诉我该怎么做。

谢谢，阿比

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T11:18:18.793

你可以使用类似的东西

```
scheduler.config.time_step  = 60; //time step in minutes 
```

# php - PHP 变量和 XML 元素

> ID：10844639
> 
> 赞同：-1
> 
> 时间：2012-06-01T04:59:10.187
> 
> 标签：php, xml

我正在尝试使用 PHP 变量从 XML 文件中加载某些元素，因此如果加载了 index.php?id=1，它将从 $projects->project[1] 中提取信息。以下代码中没有出现错误，但没有显示任何内容。任何帮助表示赞赏:)

```
<?php
$projects = simplexml_load_file('portfolio.xml');
$id = $_GET["id"];
echo $projects->project[$id]->title;
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:03:25.907

它可能是两件事之一（或两者兼而有之）：

1.  如果没有可显示的内容，则 echo 不会显示任何内容。
2.  出现错误，但您的服务器没有报告它，请尝试检查日志（如果有）。还要检查是否启用了错误报告。

也就是说，尝试使用 print_r 或 var_dump 来获取数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T05:05:10.337

print_r($_GET); 死; 检查你是否在 get 中获取数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T05:07:55.150

```
error_reporting(~0); // show me everything i do wrong

$projects = simplexml_load_file('portfolio.xml');

var_dump($projects); // make sure $projects actually has something

var_dump($_GET['id']); // are you getting the request data?

$id = (int) $_GET["id"]; // cast to int for good measure
                         // i'm assuming it's numeric, don't if its not

echo $projects->project[$id]->title; // still not showing anything?

var_dump($projects->project[$id]->title); // dump it for good measure 
```

# command-line-interface - 如何在 PHP CLI 版本中更改 php.ini 的路径

> ID：10844641
> 
> 赞同：32
> 
> 时间：2012-06-01T04:59:24.210
> 
> 标签：command-line-interface, php

在网络服务器上运行的 php 和 CLI 版本没有使用相同的 php.ini 文件。如果我执行命令`php --ini`，它会显示这个

```
Configuration File (php.ini) Path: C:\Windows
Loaded Configuration File:         C:\wamp\bin\php\php5.3.8\php.ini
Scan for additional .ini files in: (none)
Additional .ini files parsed:      (none) 
```

而我的网络版本使用`C:\wamp\bin\apache\Apache2.2.21\bin\php.ini`. 这对于使用 wamp 的人来说可能很常见。

如何更改加载的配置文件以读取，`C:\wamp\bin\apache\Apache2.2.21\bin\php.ini`这样我就不必维护 2 个不同的 php.ini 版本？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-06-01T05:22:59.260

每[http://php.net/configuration.file](http://php.net/configuration.file)：

> 在这些位置搜索 php.ini（按顺序）：
> 
> *   SAPI 模块特定位置（Apache 2 中的 PHPIniDir 指令，CGI 和 CLI 中的 -c 命令行选项，NSAPI 中的 php_ini 参数，THTTPD 中的 PHP_INI_PATH 环境变量）
> *   PHPRC 环境变量。在 PHP 5.2.0 之前，这是在下面提到的注册表项之后检查的。
> *   从 PHP 5.2.0 开始，可以为不同版本的 PHP 设置 php.ini 文件的位置。按顺序检查以下注册表项：
>     *   [HKEY_LOCAL_MACHINE\SOFTWARE\PHP\xyz]、[HKEY_LOCAL_MACHINE\SOFTWARE\PHP\xy] 和 [HKEY_LOCAL_MACHINE\SOFTWARE\PHP\x]，其中 x、y 和 z 表示 PHP 主要、次要和发布版本。如果在这些键中的任何一个中存在 IniFilePath 的值，则找到的第一个将用作 php.ini 的位置（仅限 Windows）。
>     *   [HKEY_LOCAL_MACHINE\SOFTWARE\PHP]，IniFilePath 的值（仅限 Windows）。
> *   当前工作目录（CLI 除外）。
> *   Web 服务器的目录（用于 SAPI 模块）或 PHP 目录（否则在 Windows 中）。
> *   Windows 目录（C:\windows 或 C:\winnt）（对于 Windows），或 --with-config-file-path 编译时选项。

对于 CLI，您最好的选择可能是为`$PHPRC`将要执行脚本的帐户设置环境变量，或者使用不同的`--with-config-file-path`配置设置重新编译 PHP。

您还可以通过`-c`在调用 PHP 时指定选项来覆盖每次执行的 php.ini 搜索目录：

```
> php --帮助
用法：php [options] [-f] [--] [args...]
...
  -c | 在此目录中查找 php.ini 文件

```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2014-10-15T17:23:23.110

通过指定环境变量 PHPRC 指向与 Apache 在 Ubuntu 上为我工作的 php.ini 相同的 php.ini

```
export PHPRC=/etc/php5/apache2/php.ini 
```

或者放到$HOME/.bashrc中每次cli启动时导入

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-11-01T05:30:10.287

我尝试使用 C:\YourPathto\PHP7\ 作为我的 PHPRC 环境变量，但失败了。但它必须设置为带有文件名的完整路径。我还发现我必须完全重启 php 才能获取新变量。

1.  在 Windows 上，找到 php.ini 文件的路径，然后在命令窗口中修改并运行以下命令：

    `setx PHPRC "C:\YourPathto\PHP7\php.ini"`

    你应该看到`SUCCESS: Specified value was saved.`

2.  然后重新启动您的计算机（真的）。

或者通过常规方式编辑环境变量，然后重启：

[![PHPRC 环境变量设置为 C:\YourPathto\PHP7\php.ini](../Images/6cb5804bf745092cf1ac07845a6fb57a.png)](https://i.stack.imgur.com/6WNb2.png)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-15T22:00:17.963

我花了大约 3 个小时试图完全按照您的问题进行操作。做不到。我放弃并将 php.ini 复制到 C:\Windows 并将我的 ENV 变量“PHPRC”更改为 C:\Windows（和 httpd.conf）。这样我的 CLI php 和 Apache php e 都使用同一个文件。在我进行此更改之前，我无法让“php -m”显示我在 php.ini 中加载的模块。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-01T05:14:16.573

尝试`phpinfo()`在两侧运行该功能

网络服务器和 CLI 并找出`php.ini`双方文件的确切位置

并仅维护这些文件

# javascript - 使用“jQuery Boilerplate”的 Jquery countup 插件

> ID：10844645
> 
> 赞同：0
> 
> 时间：2012-06-01T04:59:36.700
> 
> 标签：javascript, jquery, jquery-plugins

我是 Jquery 插件创建的新手。以下 jquery 插件是使用 jQuery Boilerplate 创建的。它只是进行计数并在计数完成时通知。
我想通过将计数器设置为 0 来重新开始计数；我不明白如何调用该重置功能

```
 ;(function ( $, window, undefined ) {

        var pluginName = 'countup',
            document = window.document,
            defaults = {
                countSince: new Date(),
                countUpTo:120,
                notifyAfter:110,
                onExpire:function() {

                },          
            };

        // The actual plugin constructor
        function Plugin( element, options ) {
            this.element = element;
            this.options = $.extend( {counter:0}, defaults, options) ;
            this._defaults = defaults;
            this._name = pluginName;
            this.init();
        }

        Plugin.prototype.init = function () {
            this.tick();

        };
        Plugin.prototype.reset = function () {
            this.options.counter = 0;

        };
        Plugin.prototype.tick = function () {

                if (this.options.counter > this.options.countUpTo) {
                    //timer expired
                    this.options.onExpire($(this.element));
                }
                else {
                    if (this.options.counter > this.options.notifyAfter) {
                        $(this.element).find('span').html('<strong style="font-size: 15px; color:#ff0000;">' + this.options.counter+ ' seconds</strong>');
                    }
                    else {
                        $(this.element).find('span').html('<strong style="font-size: 15px; color:#3366ff">' + this.options.counter + ' seconds</strong>');
                    }

                    setTimeout(function() {
                        this.options.counter += 1;
                        this.tick();
                    }, 1000);//calling tick function again
                }       

        };  

        $.fn[pluginName] = function ( options ) {
            return this.each(function () {
                if (!$.data(this, 'plugin_' + pluginName)) {
                    $.data(this, 'plugin_' + pluginName, new Plugin( this, options ));
                }
            });
        };

    }(jQuery, window)); 
```

准备好文件 ::

```
$('#countdown').countup({
                    onExpire:function() {
                        alert('hi');
                    },
                    countSince:new Date(),//count from this
                    countUpTo:30,//seconds from the countSince to expire
                    notifyAfter:20
}) 
```

之后我想在 $('#countdown') 上调用 reset() 函数。怎么做？或者有没有更好的方法来编写上面的代码？请在这里给我一些帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:28:25.897

您创建的样板代码非常复杂。下面的 HTML 和 JavaScript（连同 jQuery）将完成一个从 0 到定义的秒数的向上计数器`var countTo`，此时它将打印存储在`var successMsg`. 重置按钮将计数器重新启动为零。

HTML：

```
<div id="countdown"></div>
<input id="countreset" value="Reset" type="button" />​ 
```

JavaScript：

```
var countTo = 5; // Time to count to
var successMsg = 'hi'; // Replace count with this message at max number of seconds
function countUp() {
    var countdown = $('#countdown');
    // Turn contents into integer
    var current = parseInt(countdown.html());
    // Increment seconds
    var next = current+1;
    if (next >= countTo) {
        // If at max seconds, replace with message
        countdown.html(successMsg);                
    } else {
        // Replace seconds with next second
        countdown.html(next);
        setTimeout(countUp, 1000);
    }
}
function startCountdown() {
    var countdown = $('#countdown');
    // Set to zero seconds
    countdown.html('0');

    // Start counting
    setTimeout(countUp, 1000);
}
$(document).ready(function() {
    // Start the countdown
    startCountdown();
    $('#countreset').click(function() {
        // On reset button .click(), start countdown
        startCountdown();
    });
});​ 
```

我已经在 jsFiddle 上提出了解决方案：http: [//jsfiddle.net/TxVnS/2/](http://jsfiddle.net/TxVnS/2/)

**更新：** 允许可变计数器 id 的解决方案在这里：http: [//jsfiddle.net/TxVnS/6/](http://jsfiddle.net/TxVnS/6/)

# android - android应用程序将当前位置坐标发送到数据库

> ID：10844647
> 
> 赞同：0
> 
> 时间：2012-06-01T05:00:02.820
> 
> 标签：android, location, android-mapview

我需要一个可以安装在任何支持安卓的设备上的简单安卓应用；我需要这个应用程序每 5 分钟发送一次当前位置的坐标，以便将其发送到 sql 数据库

谢谢

这是我显示当前位置并获取坐标值的代码（现在作为 toast 消息）现在我需要每 5 分钟后将此位置坐标发送到数据库

```
import com.google.android.maps.MapActivity;
import com.google.android.maps.MapController;
import com.google.android.maps.MapView;
import com.google.android.maps.MyLocationOverlay;
import com.iconnectgroup.LocateDeviceApp.Gps.MyPositionOverlay;

import android.content.Context;
import android.location.Criteria;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.util.Log;
import android.widget.Toast;

public class HelloGoogleMaps extends MapActivity {

MapController mapController;
MyLocationOverlay myLocationOverlay ;
MyPositionOverlay positionOverlay;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    final MapView mapView = (MapView) findViewById(R.id.mapview);
    mapView.setBuiltInZoomControls(true);     
    mapController = mapView.getController();
    mapController.setZoom(17);
    Criteria criteria = new Criteria();
    criteria.setAccuracy(Criteria.ACCURACY_FINE);
    criteria.setAltitudeRequired(false);
    criteria.setBearingRequired(false);
    criteria.setCostAllowed(true);
    criteria.setPowerRequirement(Criteria.POWER_LOW);
    mapView.setStreetView(true);

myLocationOverlay = new MyLocationOverlay(this, mapView);
mapView.getOverlays().add(myLocationOverlay);

myLocationOverlay.runOnFirstFix(new Runnable() {
public void run() {
    mapView.getController().animateTo(
      myLocationOverlay.getMyLocation());

    }
});

LocationManager mlocManager = (LocationManager)getSystemService(Context.LOCATION_SERVICE);

LocationListener mlocListener = new MyLocationListener();
mlocManager.requestLocationUpdates( LocationManager.GPS_PROVIDER, 0, 0, mlocListener);

}

public class MyLocationListener implements LocationListener
{

  @Override
  public void onLocationChanged(Location loc)
  {

    loc.getLatitude();
    loc.getLongitude();

    String Text = "Truck location is: " +
    "Latitude = " + loc.getLatitude() +
    "Longitude = " + loc.getLongitude();

    Toast.makeText( getApplicationContext(), Text, Toast.LENGTH_LONG).show();
    Log.e("co-ordinates are:", Text);
  }

  @Override
  public void onProviderDisabled(String provider)
  {
    Toast.makeText( getApplicationContext(), "Gps Disabled", Toast.LENGTH_LONG ).show();
  }

  @Override
  public void onProviderEnabled(String provider)
  {
    Toast.makeText( getApplicationContext(), "Gps Enabled", Toast.LENGTH_LONG).show();
  }

  @Override
  public void onStatusChanged(String provider, int status, Bundle extras)
  {

  }
 }

@Override
protected void onResume() {

super.onResume();
myLocationOverlay.enableCompass(); 
myLocationOverlay.enableMyLocation(); 
}

@Override
protected void onPause() {
// TODO Auto-generated method stub
super.onPause();
myLocationOverlay.disableCompass(); 
myLocationOverlay.disableMyLocation(); 
}
@Override
protected boolean isRouteDisplayed() {
    // TODO Auto-generated method stub
    return false;
}
} 
```

# android - SoundPool 上的 android 空引用？

> ID：10844652
> 
> 赞同：2
> 
> 时间：2012-06-01T05:00:27.323
> 
> 标签：android

`null`当我尝试通过我的 Android 聊天应用播放声音时，我收到了参考。每次协议字符串中出现微笑时，我都想播放音频声音。我的声音文件是 OGG 格式，位于`res->raw->mysound.ogg`.

我的 Android 课程中有以下`SoundManager`课程：

```
package chatclient.utility;

import java.util.HashMap;
import android.content.Context;
import android.media.AudioManager;
import android.media.SoundPool;

public class SoundManager {

private  SoundPool mSoundPool; 
private  HashMap<Integer, Integer> mSoundPoolMap; 
private  AudioManager  mAudioManager;
private  Context mContext;

public SoundManager()
{

}

public void initSounds(Context theContext) { 
     mContext = theContext;
     mSoundPool = new SoundPool(4, AudioManager.STREAM_MUSIC, 0); 
     mSoundPoolMap = new HashMap<Integer, Integer>(); 
     mAudioManager = (AudioManager)mContext.getSystemService(Context.AUDIO_SERVICE);         
} 

public void addSound(int Index,int SoundID)
{
    mSoundPoolMap.put(1, mSoundPool.load(mContext, SoundID, 1));
}

public void playSound(int index) { 

     int streamVolume = mAudioManager.getStreamVolume(AudioManager.STREAM_MUSIC); 
     mSoundPool.play(mSoundPoolMap.get(index), streamVolume, streamVolume, 1, 0, 1f); 
}

public void playLoopedSound(int index) { 

     int streamVolume = mAudioManager.getStreamVolume(AudioManager.STREAM_MUSIC); 
     mSoundPool.play(mSoundPoolMap.get(index), streamVolume, streamVolume, 1, -1, 1f); 
} 
```

}

这是我在主类中调用它的代码：

在我的`onCreate`：

```
 mSoundManager = new chatclient.utility.SoundManager();
    mSoundManager.initSounds(getBaseContext());

    mSoundManager.addSound(1, R.raw.bigsmilesmiley ); //:D
    mSoundManager.addSound(2, R.raw.smilesmiley ); //:)
    mSoundManager.addSound(3, R.raw.tonguesmiley ); //:P
    mSoundManager.addSound(4, R.raw.confusedsmiley ); //:S
    mSoundManager.addSound(5, R.raw.ofacesmiley ); //:O
    mSoundManager.addSound(6, R.raw.sadsmiley); //:( 
```

然后调用它：

```
if (pollServerResult.contains(":)")) {                
    mSoundManager.playSound(2);
} else if (pollServerResult.contains(":D)")) {    
    mSoundManager.playSound(1);
} else if (pollServerResult.contains(":P")) {         
    mSoundManager.playSound(3);
} else if (pollServerResult.contains(":S")) {       
    mSoundManager.playSound(4);
} else if (pollServerResult.contains(":O")) {       
    mSoundManager.playSound(5);
} else if (pollServerResult.contains(":(")) {       
    mSoundManager.playSound(6);
} 
```

`null`唯一的问题是，当有人发布其中一张面孔时，我会得到参考。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-09T10:19:25.207

改变这个：

```
public void addSound(int Index,int SoundID) {
    mSoundPoolMap.put(1, mSoundPool.load(mContext, SoundID, 1));
} 
```

有了这个 ：

```
public void addSound(int Index,int SoundID) {
    mSoundPoolMap.put(Index, mSoundPool.load(mContext, SoundID, 1));
} 
```

# php - php包含路径问题

> ID：10844655
> 
> 赞同：0
> 
> 时间：2012-06-01T05:00:37.267
> 
> 标签：php, path, include

我已经阅读了大约 100 篇关于包含路径问题的文章，但有些东西对我来说并不合适。我正在使用 Windows 和 XAMPP。

我现在的`include_path = ".;C:\xampp\php\PEAR"`

现在我尝试使用的文件位于此处：`C:\xampp\htdocs\mywebsite\dbgetters\someFunctions.php`

它需要一个包括：`C:\xampp\htdocs\mywebsite\config\Common.php`

所以我认为在 someFunctions.php 中使用它会起作用： `include '../config/Common.php';`

但事实并非如此。

建议？

# android - 如何在按下主页按钮或关闭应用程序时读取 WIFI/BLUETOOTH 的状态

> ID：10844663
> 
> 赞同：1
> 
> 时间：2012-06-01T05:01:32.023
> 
> 标签：android, bluetooth, wifi

我有一个应用程序，我在其中启用和禁用 wifi 和蓝牙，问题在于按下主页按钮时 WIFI/BLUETOOTH 都下车了

在按下主页按钮或关闭应用程序时，如果 wifi/蓝牙处于开启状态，它们应该处于开启状态，反之亦然

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:44:21.100

您可以检查是否启用了 wifi/蓝牙：

**对于无线网络：**

```
WifiManager wifiManager = (WifiManager) this.getSystemService(Context.WIFI_SERVICE);  
  if(wifiManager.isWifiEnabled()){  
    // Wifi is not enable
  }else{  
    // Wifi is  enable
  } 
```

manifest.xml 权限：

```
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE"></uses-permission>  
<uses-permission android:name="android.permission.UPDATE_DEVICE_STATS"></uses-permission>  
<uses-permission android:name="android.permission.CHANGE_WIFI_STATE"></uses-permission> 
```

**对于蓝牙**：

```
BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();
if (mBluetoothAdapter == null) {
    // Device does not support Bluetooth
} else {
    if (!mBluetoothAdapter.isEnabled()) {
        // Bluetooth is not enable
    }
    else
    {
     // Bluetooth is  enable
    }
} 
```

清单权限：

```
<uses-permission android:name="android.permission.BLUETOOTH" /> 
```

处理 Home 和 Back 键您应该将代码放在[onPause()](http://developer.android.com/reference/android/app/Activity.html#onPause%28%29)方法中，以确保在应用程序进入后台时使用它。

并且您还可以覆盖`onKeyDown`以处理 Home 和 Back Key：

```
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if (keyCode == KeyEvent.KEYCODE_HOME) {
        Log.i("TESTE", "HOME KEY PRESSED");
        return true;
    }
    return super.onKeyDown(keyCode, event);    
} 
```

# javascript - 在 Reddit 上，脚本如何获取评论的赞成票和反对票数？

> ID：10844664
> 
> 赞同：3
> 
> 时间：2012-06-01T05:01:32.133
> 
> 标签：javascript, api, greasemonkey, reddit

在[Reddit](http://www.reddit.com/)上，人们可以发表评论以获得赞成票和反对票。此信息在页面本身上不容易访问，因此似乎使用了 API 之类的东西来收集此信息。

我找到[了执行此操作的脚本](http://userscripts.org/scripts/review/56641)，但无法确定它从脚本中的哪个位置提取此信息。有人可以指出脚本从中获取数据的相关行吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:08:06.157

每个评论都有`data`属性：

```
<div class="thing id-t1_c4upmtm odd comment " onclick="click_thing(this)" data-fullname="t1_c4upmtm" data-ups="646" data-downs="83"> 
```

Reddit 的 HTML 结构真的很难理解，所以想办法从评论 ID 到包含这些东西的元素。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T05:54:47.900

该脚本用于`GM_xmlhttpRequest()`获取给定的 JSON 数据：评论或用户页面。

, 返回的数据`GM_xmlhttpRequest()`在以下行中被访问：

```
var jsonText = response.responseText,data; 
```

然后用脚本的`processTree()`函数解析。真的没有一行；此功能需要大部分脚本。

在评论页面上，似乎使用 API 是分别获得赞成票和反对票的唯一方法。

# ruby-on-rails - 关于 Ruby on Rails 的一些基本问题

> ID：10844667
> 
> 赞同：1
> 
> 时间：2012-06-01T05:01:41.893
> 
> 标签：ruby-on-rails, ruby

我正在阅读下面链接中的 Rails 教程，我有几个问题。

[http://ruby.railstutorial.org/ruby-on-rails-tutorial-book#sec:bundler](http://ruby.railstutorial.org/ruby-on-rails-tutorial-book#sec:bundler)

Windows 中的等效命令是什么，subl 在 Windows 中无法识别。什么是 a`GemFile`和什么是 a `Gem`？

```
$ cd first_app/
$ subl Gemfile 
```

捆绑是什么意思？

```
Your bundle is complete! Use `bundle show [gemname]` to see where a bundled gem
is installed. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T05:10:34.163

**subl :** subl 是在 OS X 上启动 Sublime Text 的命令行命令。

**gem ：**是一个打包的 Ruby 应用程序或库（您刚刚安装的第三方代码）。

**Gemfile ：**它是允许您指定 Rails 应用程序所需的 gem 依赖项的文件。

**Bundler**管理应用程序的依赖项。

参考[捆绑器](http://gembundler.com/)，[崇高](http://www.sublimetext.com/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T05:50:15.400

Gemfile 是您的程序需要的代码列表。在 Ruby 中，为了可爱起见，我们称这些为宝石。所以有 gems 可以做一些事情，比如阅读 HTML，如果你想使用它，你可以把它放在你的 Gemfile 中。

说`subl Gemfile`意味着您正在使用 Sublime 文本编辑器打开 Gemfile。你不需要 sublime 文本编辑器，你可以使用任何你喜欢的文本编辑器。对于您可能会尝试 nano 或 pico ( `nano Gemfile`and `pico Gemfile`)，或者如果您不想在终端中编辑文件，您的操作系统几乎肯定有一个您可以使用的（在 Windows 上，有记事本和 Mac TextEdit）。不过，最好有一个可以理解和突出显示代码的编辑器。

# android - 如何在Android中屏幕关闭时捕获屏幕触摸事件？

> ID：10844668
> 
> 赞同：0
> 
> 时间：2012-06-01T05:01:51.073
> 
> 标签：android

我编写了一个程序来捕获屏幕触摸事件。但是当屏幕关闭时，我无法获得任何`MotionEvent ev`.

```
private PowerManager pm = null;
private PowerManager.WakeLock wl = null;
this.pm = (PowerManager) getSystemService(Context.POWER_SERVICE);
this.wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, "test");
wl.acquire();

@Override
public boolean dispatchTouchEvent (MotionEvent ev) {
    if(ev.getAction() == MotionEvent.ACTION_DOWN)
        Log.i("test", "!!!");
    return true;
} 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-01T05:09:19.170

您可以使用 Intent.ACTION_SCREEN_ON 和 Intent.ACTION_SCREEN_OFF 来实现您的目标。[此链接](http://thinkandroid.wordpress.com/2010/01/24/handling-screen-off-and-screen-on-intents/)可能会对您有所帮助。

# ruby - Ruby：如何使用转储方法将数据输出到 csv 文件？

> ID：10844669
> 
> 赞同：4
> 
> 时间：2012-06-01T05:01:56.630
> 
> 标签：ruby, csv

我尝试使用 ruby​​ 标准 csv lib 将对象的 arr 转储到 csv.file ，称为 'a.csv'

[http://ruby-doc.org/stdlib-1.9.3/libdoc/csv/rdoc/CSV.html#method-c-dump](http://ruby-doc.org/stdlib-1.9.3/libdoc/csv/rdoc/CSV.html#method-c-dump)

```
dump(ary_of_objs, io = "", options = Hash.new) 
```

但是在这种方法中，我如何转储到文件中？没有这样的例子存在和帮助。我谷歌它没有为我做的例子......

此外，文档说...

> 您可以提供的下一个方法是名为 csv_headers() 的实例方法。此方法预计将返回文档的第二行（再次作为数组），用于为每一列提供标题。默认情况下，如果字段标头以 @ 字符开头或调用 send() 将标头作为方法名称并将字段值作为参数传递，则 ::load 将设置一个实例变量。此方法仅在 Array 的第一个对象上调用。

任何人都知道如何将实例方法 csv_headers() 传递给这个转储函数？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:16:03.827

我还没有对此进行测试，但看起来 io 应该设置为一个文件。根据您链接的文档“io参数可用于序列化为文件”

就像是：
`f = File.open("filename")
dump(ary_of_objs, io = f, options = Hash.new)`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-04T15:57:48.497

接受的答案并没有真正回答这个问题，所以我想我会举一个有用的例子。

首先，如果您查看[http://ruby-doc.org/stdlib-1.9.3/libdoc/csv/rdoc/CSV.html](http://ruby-doc.org/stdlib-1.9.3/libdoc/csv/rdoc/CSV.html)上的文档，如果您将鼠标悬停在方法名称上，`dump`您会看到可以`click to show source`。如果你这样做，你会看到该`dump`方法尝试调用`csv_headers`你传入的第一个对象`ary_of_objs`：

```
obj_template = ary_of_objs.first

...snip...

headers = obj_template.csv_headers 
```

然后稍后您会看到该方法将调用`csv_dump`每个对象`ary_of_objs`并传入`headers`：

```
ary_of_objs.each do |obj|
    begin
      csv << obj.csv_dump(headers)
    rescue NoMethodError
      csv << headers.map do |var|
        if var[0] == @
          obj.instance_variable_get(var)
        else
          obj[var[0..-2]]
        end
      end
    end
  end 
```

所以我们需要增加每个条目`array_of_objs`来响应这两种方法。这是一个示例包装类，它将采用`Hash`, 并将哈希键作为 CSV 标头返回，然后能够根据标头转储每一行。

```
class CsvRowDump               
  def initialize(row_hash)     
    @row = row_hash            
  end                                                  

  def csv_headers              
    @row.keys                  
  end                          

  def csv_dump(headers)        
    headers.map { |h| @row[h] }
  end                          
end 
```

不过还有一个问题。此`dump`方法希望在 CSV 文件顶部的标题之前写一个额外的行，如果由于顶部的代码而调用此方法，则无法跳过该行：

```
 # write meta information
  begin
    csv << obj_template.class.csv_meta
  rescue NoMethodError
    csv << [:class, obj_template.class]
  end 
```

即使你从`CsvRowDump.csv_meta`那里返回 '' 仍然是一个空行，解析需要标题。因此，让 let`dump`写下那行，然后在我们调用`dump`. 此示例假设您有一个哈希数组，它们都具有相同的键（这将是 CSV 标头）。

```
@rows = @hashes.map { |h| CsvRowDump.new(h) }
File.open(@filename, "wb") do |f|
  str = CSV::dump(@rows)
  f.write(str.split(/\n/)[1..-1].join("\n"))
end 
```

# android - 如何在 Android 中以最短时间加载所有联系人

> ID：10844672
> 
> 赞同：22
> 
> 时间：2012-06-01T05:02:31.440
> 
> 标签：android, contacts

在我的项目中，获取联系人需要很长时间才能加载。

*   有什么方法可以减少接触时间
*   假设我的手机中有 1000 个联系人。
*   现在加载所有联系人需要超过 2 分钟

如何减少加载联系人的时间？有什么想法吗？

我在编写初始方法时参考了以下链接。

[http://www.coderzheaven.com/2011/06/13/get-all-details-from-contacts-in-android/](http://www.coderzheaven.com/2011/06/13/get-all-details-from-contacts-in-android/)

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2015-02-24T07:13:23.350

更好的解决方案在这里......

```
private static final String[] PROJECTION = new String[] {
        ContactsContract.CommonDataKinds.Phone.CONTACT_ID,
        ContactsContract.Contacts.DISPLAY_NAME,
        ContactsContract.CommonDataKinds.Phone.NUMBER
    };
.
.
.

ContentResolver cr = getContentResolver();
        Cursor cursor = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, PROJECTION, null, null, null);
        if (cursor != null) {
            try {
                final int nameIndex = cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME);
                final int numberIndex = cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER);

                String name, number;
                while (cursor.moveToNext()) {
                    name = cursor.getString(nameIndex);
                    number = cursor.getString(numberIndex);
                }
            } finally {
                cursor.close();
            }
        } 
```

干杯...：）

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-07-13T07:56:59.937

总时间取决于您尝试从“联系人”表访问的字段。访问更少的字段意味着更少的循环，更少的处理，因此更快的结果。

此外，为了加快您的联系人获取操作，您可以使用 ContentProvideClient 而不是每次都在 ContentResolver 上调用查询。这将使您查询特定的表，而不是先查询所需的 ContentProvider，然后再查询表。

创建 ContentProviderClient 的实例

```
ContentResolver cResolver=context.getContextResolver();
ContentProviderClient mCProviderClient = cResolver.acquireContentProviderClient(ContactsContract.Contacts.CONTENT_URI); 
```

然后重用此 mCProviderClient 以在您的通话中获取联系人（来自任何 ContentProvider 的数据）数据。例如在以下方法中，我只访问一个字段。

```
private ArrayList<String> fetchContactsCProviderClient()
    {
        ArrayList<String> mContactList = null;
        try
        {
            Cursor mCursor = mCProviderClient.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);
            if (mCursor != null && mCursor.getCount() > 0)
            {
                mContactList = new ArrayList<String>();
                mCursor.moveToFirst();
                while (!mCursor.isLast())
                {
                    String displayName = mCursor.getString(mCursor.getColumnIndexOrThrow(ContactsContract.Contacts.DISPLAY_NAME));
                    mContactList.add(displayName);
                    mCursor.moveToNext();
                }
                if (mCursor.isLast())
                {
                    String displayName = mCursor.getString(mCursor.getColumnIndexOrThrow(ContactsContract.Contacts.DISPLAY_NAME));
                    mContactList.add(displayName);
                }
            }

            mCursor.close();
        }
        catch (RemoteException e)
        {
            e.printStackTrace();
            mContactList = null;
        }
        catch (Exception e)
        {
            e.printStackTrace();
            mContactList = null;
        }

        return mContactList;
    } 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2017-09-29T13:12:31.823

像其他应用程序一样更快地加载联系人。

我已经用多个联系人测试了这段代码，它像其他应用程序一样`500 ms`在半秒或更短的时间内工作得很好，而且速度更快，我能够加载`1000+`联系人。

总时间取决于您尝试从“联系人”表访问的字段。

根据您的要求管理您的查询不要访问不需要的字段。访问更少的字段意味着更少的循环，更少的处理，因此更快的结果。

在联系人中访问正确的表也有助于减少联系人加载时间。

> 查询优化加载联系人更快速使用`projection`

```
 String[] projection = {
            ContactsContract.Data.MIMETYPE,
            ContactsContract.Data.CONTACT_ID,
            ContactsContract.Contacts.DISPLAY_NAME,
            ContactsContract.Contacts.PHOTO_URI,
            ContactsContract.Contacts.STARRED,
            ContactsContract.RawContacts.ACCOUNT_TYPE,
            ContactsContract.CommonDataKinds.Contactables.DATA,
            ContactsContract.CommonDataKinds.Contactables.TYPE
    }; 
```

* * *

> 选择和选择参数

```
String selection = ContactsContract.Data.MIMETYPE + " in (?, ?)" + " AND " /*+ ContactsContract.Contacts.IN_VISIBLE_GROUP + " = '" + 1 + "' AND "*/ +
            ContactsContract.Data.HAS_PHONE_NUMBER + " = '" + 1 + "'";

    String[] selectionArgs = {
            ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE,
            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE,
    }; 
```

* * *

> 要按字母顺序订购联系人，请使用以下代码

```
 try {
        Collections.sort(listview_address, new Comparator<ContactBook>() {
            @Override
            public int compare(ContactBook lhs, ContactBook rhs) {
                return lhs.name.toUpperCase().compareTo(rhs.name.toUpperCase());
            }
        });
    } catch (Exception e) {
        e.printStackTrace();
    } 
```

* * *

> 以下是完整的源代码

```
 public void initeContacts() {
    List<ContactBook> listview_address = new LinkedList<ContactBook>();
    SparseArray<ContactBook> addressbook_array = null;
    {
        addressbook_array = new SparseArray<ContactBook>();

        long start = System.currentTimeMillis();

        String[] projection = {
                ContactsContract.Data.MIMETYPE,
                ContactsContract.Data.CONTACT_ID,
                ContactsContract.Contacts.DISPLAY_NAME,
                ContactsContract.Contacts.PHOTO_URI,
                ContactsContract.Contacts.STARRED,
                ContactsContract.RawContacts.ACCOUNT_TYPE,
                ContactsContract.CommonDataKinds.Contactables.DATA,
                ContactsContract.CommonDataKinds.Contactables.TYPE
        };

        String selection = ContactsContract.Data.MIMETYPE + " in (?, ?)" + " AND " /*+ ContactsContract.Contacts.IN_VISIBLE_GROUP + " = '" + 1 + "' AND "*/ +
                ContactsContract.Data.HAS_PHONE_NUMBER + " = '" + 1 + "'";

        String[] selectionArgs = {
                ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE,
                ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE,
        };

        String sortOrder = ContactsContract.Contacts.SORT_KEY_ALTERNATIVE;

        Uri uri = null;
        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.JELLY_BEAN_MR2) {
            uri = ContactsContract.CommonDataKinds.Contactables.CONTENT_URI;
        } else {
            uri = ContactsContract.Data.CONTENT_URI;

        }
        // we could also use Uri uri = ContactsContract.Data.CONTENT_URI;
        // we could also use Uri uri = ContactsContract.Contact.CONTENT_URI;

        Cursor cursor = getActivity().getContentResolver().query(uri, projection, selection, selectionArgs, sortOrder);

        final int mimeTypeIdx = cursor.getColumnIndex(ContactsContract.Data.MIMETYPE);
        final int idIdx = cursor.getColumnIndex(ContactsContract.Data.CONTACT_ID);
        final int nameIdx = cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME);
        final int dataIdx = cursor.getColumnIndex(ContactsContract.CommonDataKinds.Contactables.DATA);
        final int photo = cursor.getColumnIndex(ContactsContract.CommonDataKinds.Contactables.PHOTO_URI);
        final int typeIdx = cursor.getColumnIndex(ContactsContract.CommonDataKinds.Contactables.TYPE);
        final int account_type = cursor.getColumnIndex(ContactsContract.RawContacts.ACCOUNT_TYPE);
        while (cursor.moveToNext()) {
            int contact_id = cursor.getInt(idIdx);
            String photo_uri = cursor.getString(photo);
            String contact_name = cursor.getString(nameIdx);
            String contact_acc_type = cursor.getString(account_type);
            int contact_type = cursor.getInt(typeIdx);
            String contact_data = cursor.getString(dataIdx);
            ContactBook contactBook = addressbook_array.get(contact_id);

           /* if (contactBook == null) {
                //list  contact add to avoid duplication
                //load All contacts fro device
                //to add contacts number with name add one extra veriable in ContactBook as number and pass contact_data this give number to you (contact_data is PHONE NUMBER)
                contactBook = new ContactBook(contact_id, contact_name, getResources(), photo_uri, contact_acc_type, "phone number");
                addressbook_array.put(contact_id, contactBook);
                listview_address.add(contactBook);

            }*/

            String Contact_mimeType = cursor.getString(mimeTypeIdx);
            //here am checking Contact_mimeType to get mobile number asociated with perticular contact and email adderess asociated
            if (Contact_mimeType.equals(ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)) {

                if (contactBook != null) {
                    contactBook.addEmail(contact_type, contact_data);
                }

            } else {
                if (contactBook == null) {
                    //list  contact add to avoid duplication
                    //load All contacts fro device
                    //to add contacts number with name add one extra veriable in ContactBook as number and pass contact_data this give number to you (contact_data is PHONE NUMBER)
                    contactBook = new ContactBook(contact_id, contact_name, getResources(), photo_uri, contact_acc_type, "phone number");
                    addressbook_array.put(contact_id, contactBook);
                    listview_address.add(contactBook);

                }
               // contactBook.addPhone(contact_type, contact_data);

            }

        }

        cursor.close();

        try {
            Collections.sort(listview_address, new Comparator<ContactBook>() {
                @Override
                public int compare(ContactBook lhs, ContactBook rhs) {
                    return lhs.name.toUpperCase().compareTo(rhs.name.toUpperCase());
                }
            });
        } catch (Exception e) {
            e.printStackTrace();
        }

    } 
```

* * *

> 您可以在上面我评论过的代码中使用以下代码。它将单个联系人与其多个号码组合在一起。要获取与单个联系人关联的所有号码，请使用 Object 类中的数组。

```
 if (contactBook == null) {
            //irst  contact add to avoid duplication
            //load All contacts fro device
            contactBook = new ContactBook(contact_id, contact_name, getResources(), photo_uri, contact_acc_type, "");
            addressbook_array.put(contact_id, contactBook);
            listview_address.add(contactBook);
        }

        String Contact_mimeType = cursor.getString(mimeTypeIdx);
        //here am checking Contact_mimeType to get mobile number asociated with perticular contact and email adderess asociated
        if (Contact_mimeType.equals(ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)) {

            contactBook.addEmail(contact_type, contact_data);

        } else {

            contactBook.addPhone(contact_type, contact_data);

        } 
```

* * *

> 对象类

```
public class ContactBook {
public int id;
public Resources res;
public String name;
public String photo;
public String contact_acc_type;
public SparseArray<String> emails;
public SparseArray<String> phones;
/*  public LongSparseArray<String> emails;
public LongSparseArray<String> phones;*/
public String header = "";

public ContactBook(int id, String name, Resources res, String photo, String contact_acc_type, String header) {
    this.id = id;
    this.name = name;
    this.res = res;
    this.photo = photo;
    this.contact_acc_type = contact_acc_type;
    this.header = header;
}

@Override
public String toString() {
    return toString(false);
}

public String toString(boolean rich) {

    //testing method to check ddata
    SpannableStringBuilder builder = new SpannableStringBuilder();
    if (rich) {
        builder.append("id: ").append(Long.toString(id))
                .append(", name: ").append("\u001b[1m").append(name).append("\u001b[0m");
    } else {
        builder.append(name);
    }

    if (phones != null) {
        builder.append("\n\tphones: ");
        for (int i = 0; i < phones.size(); i++) {
            int type = (int) phones.keyAt(i);
            builder.append(ContactsContract.CommonDataKinds.Phone.getTypeLabel(res, type, ""))
                    .append(": ")
                    .append(phones.valueAt(i));
            if (i + 1 < phones.size()) {
                builder.append(", ");
            }
        }
    }

    if (emails != null) {
        builder.append("\n\temails: ");
        for (int i = 0; i < emails.size(); i++) {
            int type = (int) emails.keyAt(i);
            builder.append(ContactsContract.CommonDataKinds.Email.getTypeLabel(res, type, ""))
                    .append(": ")
                    .append(emails.valueAt(i));
            if (i + 1 < emails.size()) {
                builder.append(", ");
            }
        }
    }
    return builder.toString();
}

public void addEmail(int type, String address) {
    //this is the array in object class where i am storing contact all emails of perticular contact (single)
    if (emails == null) {
        //   if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN) {
        emails = new SparseArray<String>();
        emails.put(type, address);
        /*} else {
            //add emails to array below Jelly bean //use single array list
        }*/
    }
}

public void addPhone(int type, String number) {
    //this is the array in object class where i am storing contact numbers of perticular contact
    if (phones == null) {
        //  if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN) {
        phones = new SparseArray<String>();
        phones.put(type, number);
       /* } else {
            //add emails to array below Jelly bean //use single array list
        }*/
    }
}} 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2016-02-19T10:55:42.523

为了以最少的时间加载联系人，最佳解决方案是在查询光标的联系人时使用投影和选择参数的概念。

这可以通过以下方式完成

```
void getAllContacts() {
    long startnow;
    long endnow;

    startnow = android.os.SystemClock.uptimeMillis();
    ArrayList arrContacts = new ArrayList();

    Uri uri = ContactsContract.CommonDataKinds.Phone.CONTENT_URI;
    String selection = ContactsContract.Contacts.HAS_PHONE_NUMBER;
    Cursor cursor = ctx.getContentResolver().query(uri, new String[]{ContactsContract.CommonDataKinds.Phone.NUMBER,   ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME, ContactsContract.CommonDataKinds.Phone._ID, ContactsContract.Contacts._ID}, selection, null, ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + " ASC");

    cursor.moveToFirst();
    while (cursor.isAfterLast() == false) {

        String contactNumber = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
        String contactName = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));
        int phoneContactID = cursor.getInt(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone._ID));
        int contactID = cursor.getInt(cursor.getColumnIndex(ContactsContract.Contacts._ID));
        Log.d("con ", "name " + contactName + " " + " PhoeContactID " + phoneContactID + "  ContactID " + contactID)

        cursor.moveToNext();
    }
    cursor.close();
    cursor = null;

    endnow = android.os.SystemClock.uptimeMillis();
    Log.d("END", "TimeForContacts " + (endnow - startnow) + " ms");
} 
```

使用上述方法，加载联系人需要 400 毫秒（不到一秒），而正常情况下需要 10-12 秒。

有关详细信息，这篇文章可能会有所帮助，因为我从中获得了帮助 [http://www.blatin.in/2016/02/loading-contacts-fast-from-android.html](http://www.blazin.in/2016/02/loading-contacts-fast-from-android.html)

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2020-03-19T13:28:13.147

如果您的时间随着您的数据而增加，那么**您可能正在运行一个新查询来获取每个联系人的电话/电子邮件**。如果您使用 查询电话/电子邮件字段`ContactsContract.CommonDataKinds.Phone.NUMBER`，那么您将只检索每个联系人的 1 部电话。解决方案是投影字段并通过联系人 ID 加入它们。

这是我在 Kotlin 中的解决方案（提取 id、姓名、所有电话和电子邮件）：

```
val projection = arrayOf(
        ContactsContract.Data.MIMETYPE,
        ContactsContract.Data.CONTACT_ID,
        ContactsContract.Contacts.DISPLAY_NAME,
        ContactsContract.CommonDataKinds.Contactables.DATA

)
val selection = "${ContactsContract.Data.MIMETYPE} in (?, ?)"

val selectionArgs = arrayOf(
        ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE,
        ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)

val contacts = applicationContext
        .contentResolver
        .query(ContactsContract.Data.CONTENT_URI, projection, selection, selectionArgs, null)
        .run {
            if (this == null) {
                throw IllegalStateException("Cursor null")
            }
            val contactsById = mutableMapOf<String, LocalContact>()
            val mimeTypeField = getColumnIndex(ContactsContract.Data.MIMETYPE)
            val idField = getColumnIndex(ContactsContract.Data.CONTACT_ID)
            val nameField = getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME)
            val dataField = getColumnIndex(ContactsContract.CommonDataKinds.Contactables.DATA)

            while (moveToNext()) {
                val mimeType = getString(mimeTypeField)
                val id = getString(idField)
                var contact = contactsById[id]
                if (contact == null) {
                    val name = getString(nameField)
                    contact = LocalContact(id = id, fullName = name, phoneNumbers = listOf(), emailAddresses = listOf())
                }
                val data = getString(dataField)
                when(getString(mimeTypeField)) {
                    ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE ->
                        contact = contact.copy(emailAddresses = contact.emailAddresses + data)
                    ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE ->
                        contact = contact.copy(phoneNumbers = contact.phoneNumbers + data)
                }
                contactsById[id] = contact
            }
            close()
            contactsById.values.toList()
        } 
```

作为参考，我的`LocalContact`模型：

```
data class LocalContact(
        val id: String,
        val fullName: String?,
        val phoneNumbers: List<String>,
        val emailAddresses: List<String>
) 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-07-29T04:45:09.830

我认为这是一个更好的解决方案：

```
public ContentValues getAllContacts() {
    ContentValues contacts = new ContentValues();
    ContentResolver cr = getContentResolver();
    Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI, null, null, null, null);

    if (cur != null && cur.getCount() > 0) {
        while (cur.moveToNext()) {
            String id = cur.getString(cur.getColumnIndex(ContactsContract.Contacts._ID));
            String name = cur.getString(cur.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));

            if (cur.getInt(cur.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER)) > 0) {
                Cursor pCur = cr.query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,
                        ContactsContract.CommonDataKinds.Phone.CONTACT_ID + " = ?", new String[]{id}, null);
                if (pCur != null) {
                    while (pCur.moveToNext()) {
                        String phoneNo = pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
                        contacts.put(phoneNo, name);
                    }
                    pCur.close();
                }
            }
        }
        cur.close();
    }
    return contacts;
} 
```

要使用它，您需要调用此行**一次**：

```
ContentValues contacts = new ContentValues();
contacts = getAllContacts(); 
```

当您想按号码获取联系人姓名时，只需使用：

```
String number = "12345";
String name = (String) G.contacts.get(number); 
```

这个算法有点快...

# pdf - GhostScript 替代品

> ID：10844674
> 
> 赞同：2
> 
> 时间：2012-06-01T05:03:02.147
> 
> 标签：pdf, imagemagick, ghostscript

我目前使用 CentOS 5.6 (Ghostscript 8 - ImageMagick-6.2.8) 并试图将 pdf 的第一个图像转换为 jpg 文件。

我了解我当前的设置无法转换压缩的 pdf 文件，但是否有替代方案可以使用相同的功能？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T07:09:14.647

Ghostscript 无法转换“压缩 PDF”的“理解”是错误的。你在哪里捡的？

默认情况下，PDF 在内部对其大多数对象使用压缩。在“野外”找到完全未压缩的 PDF 是相当不寻常的。

您使用的是哪个版本的*Ghostscript ？*（尝试`gs -v`）。

顺便说一句，您不需要 ImageMagick 将（多页）PDF 转换为一系列 JPEG。试试这个命令：

```
 gs \
   -o img_%03d.jpeg \
   -sDEVICE=jpeg \
    input.pdf 
```

或者，对于 300 dpi 的分辨率（而不是默认的 72 dpi）：

```
 gs \
   -o img_%03d.jpeg \
   -sDEVICE=jpeg \
   -r300 \
    input.pdf 
```

输出文件名的 - 部分将`_%03d`在 -name 上附加一个 3 位数字，该数字`img`随每个 PDF 页面递增。

# iphone - 使用 UIAppearance 自定义 iOS UIDatepicker

> ID：10844675
> 
> 赞同：12
> 
> 时间：2012-06-01T05:03:16.557
> 
> 标签：iphone, ios, ios5, uidatepicker, uiappearance

[优衣库的新闹钟应用](http://www.uniqlo.com/wakeup/en/pc/)有一个自定义`UIDatePicker`：

![风俗](../Images/0c103d93791ec45679d49b0b97f84671.png)

我想创建自己的自定义`UIDatePicker`。

`UI_APPEARANCE_SELECTOR`我试图改变 DatePicker 的外观，但在`UIDatePicker`返回中寻找*nothing*。

这意味着它不可能更改任何值，根据文档：

> [为了支持外观定制，一个类必须符合 UIAppearanceContainer 协议，并且相关的访问器方法必须用 UI_APPEARANCE_SELECTOR 标记。](https://developer.apple.com/documentation/uikit/uiappearance)

怎样才能改变我`UIDatePicker`的容貌？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-07-04T12:34:59.520

API 不提供执行此操作的方法。您可以使用 UIPickerView 而不是使用 UIDatePicker 自己制作一个非常令人信服的副本。

由于 UIDatePicker 或 UIPickerView 没有 UI_APPEARANCE_SELECTOR ，即使您无法将 UIDatePicker 内容的外观更改为其 UIControl 并且没有任何委托，因此它具有其本机外观，而在 UIPickerView 的情况下，您可以更改其内容的外观类似于在 UITableView 中。

```
#pragma mark -
#pragma mark UIPicker Delegate & DataSource

- (NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView {
    return 2;
}

// returns the # of rows in each component..
- (NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent:(NSInteger)component {
    return 100;
}
//- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:  (NSInteger)component {
     //    return [NSString stringWithFormat:@"%d",row];
//}
- (UIView *)pickerView:(UIPickerView *)pickerView viewForRow:(NSInteger)row forComponent:(NSInteger)component reusingView:(UIView *)view {

      UILabel *label= [[[UILabel alloc] initWithFrame:CGRectMake(30.0, 0.0, 50.0, 50.0)] autorelease];
      [label setBackgroundColor:[UIColor clearColor]];
      [label setTextColor:[UIColor blueColor]];
      [label setFont:[UIFont boldSystemFontOfSize:40.0]];
      [label setText:[NSString stringWithFormat:@"%d",row]];

      return label;
} 
```

![在此处输入图像描述](../Images/3101b5375f4a5f9f964ec605db9bae4d.png)

看一下这个。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-10T09:43:05.170

在你的实现文件中添加这个方法

```
-(UIView *)pickerViews{

    return ([datePicker.subviews objectAtIndex:0]);
}

-(void)viewDidLoad{

    [super viewDidLoad];

    [[self pickerViews].subviews enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {
        NSLog(@"%@ --- > %i",obj, idx);
    }];
} 
```

当您运行您的应用程序时，它将在您的控制台上显示 datePicker 的所有子视图，只需选择任何索引并一一修改它们

修改 viewDidLoad 并插入此代码

```
UIView *background = (UIView *)[[self pickerViews].subviews objectAtIndex:0];
background.backgroundColor = [UIColor clearColor];

UIView *wheel2 = (UIView *)[[self pickerViews].subviews objectAtIndex:4];
wheel2.backgroundColor = [UIColor redColor];

UIView *wheel3 = (UIView *)[[self pickerViews].subviews objectAtIndex:11];
wheel3.backgroundColor = [UIColor redColor]; 
```

在这种情况下，我更改索引“0”、“4”、“11”的背景颜色

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-04T13:58:24.600

似乎很难改变 a 的`UIDatePicker`出现方式。

在我看来，您提供的示例是对`UIPickerView`具有两列的简单控件的复杂自定义，并且可能是模拟的无限滚动（就像 Apple 在日期选择器中所做的那样，实现起来非常简单）。

`UIDatePicker`您可以通过代理更改很少的内容`UIAppearance`，如下例所示：

```
UIDatePicker *picker = [UIDatePicker appearance];
picker.backgroundColor = [[UIColor redColor] colorWithAlphaComponent:0.3];

UIView *view;
view = [UIView appearanceWhenContainedIn:[UITableView class], [UIDatePicker class], nil];
view.backgroundColor = [[UIColor blackColor] colorWithAlphaComponent:0.5];

UILabel *label = [UILabel appearanceWhenContainedIn:[UITableView class], [UIDatePicker class], nil];
label.font = [UIFont systemFontOfSize:[UIFont systemFontSize]];
label.textColor = [UIColor blueColor]; 
```

在应用程序开始时使用这段代码（试一试），您可以只更改日期选择器的几个主要组件的外观。

标签**无法**自定义（此测试代码证明了这一点）；显然，每次旋转列时它们的外观都会发生变化，因为它们被放置在自定义`UITableView`控制器中。

要完全改变这些外观，您可能应该使用 Apple 的私有 API，这最终会导致您的应用程序被**拒绝**。

如果您只需要一个自定义小时-分钟选择器（如屏幕截图所示），则只需扩展类或为实例`UIPickerView`分配适当的委托即可实现外观的完全自定义。`UIPickerView`

通过

```
- (UIView *)pickerView:(UIPickerView *)pickerView viewForRow:(NSInteger)row forComponent:(NSInteger)component reusingView:(UIView *)view; 
```

委托上的方法，您可以使选择器视图的单个元素以您想要的方式显示。然后，您将必须适当地处理数据源，以使选择器的两个组件实际上是无限的。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-01T05:32:16.633

iOS 5 引入了[UIAppearance](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIAppearance_Protocol/Reference/Reference.html#//apple_ref/occ/intf/UIAppearance)协议，它允许您自定义多个 UI 元素。UIDatePicker 恰好符合这个协议，所以这可能是最简单的方法。也就是说，如果您愿意只支持 iOS 5 用户。Matthew 的选项可能是下一个最好的选择，它也应该适用于较旧的 iOS 版本。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-01T05:24:08.727

您可以使用两个 UIScrollViews 自己实现一个，一个用于几小时，一个用于几分钟。当每个滚动视图停止移动时，您只需要弄清楚它的 contentOffset ，我的头顶看起来像这样：

```
- (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate {
  if (!decelerate) {
    // get the offset here
  }
}

- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView {
  // also get the offset here
} 
```

取内容偏移量的值并将其转换为小时值和分钟值，可能是通过将内容偏移量的 y 位置分别除以 24 或 60。您需要自己制作自定义艺术品。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-10-24T14:36:39.190

要更改日期选择器颜色：

```
[datePickerView setValue:self.pickerLabelColor forKey:@"textColor"]; 
```

要更改字体，我知道的唯一方法是：

创建类别`UIFont+System`并将此代码放入其中

```
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Wobjc-protocol-method-implementation"
    + (UIFont *)systemFontOfSize:(CGFloat)fontSize
    {
        return [UIFont fontWithName:fontName size:fontSize];
    }
#pragma clang diagnostic pop 
```

这将在您的应用程序的其他位置设置字体（用您的字体替换系统字体）。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-07-09T14:44:41.543

A combination of 2 `UITableViews` is the way to go.

`UITableView` is a subview of `UIScrollView`, so it handles the following event

```
-(void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate
{

} 
```

and on getting the position, just scroll the table to the center using the following method

```
[myTableView scrollToRowAtIndexPath:indexPath atScrollPosition:UITableViewScrollPositionMiddle animated:YES]; 
```

Hope this helps.

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2012-06-01T05:29:10.363

你应该通过 Apple 的 UICatalog。它具有可以使用 UIDatePicker 的所有方法，包括自定义日期选择器方法。研究这个链接 developer.apple.com/library/ios/samplecode/UICatalog/ 。他们还实现了标准开关和后者中给出的导航栏。

# javascript - 如何从javascript中的日期计算第5个日期

> ID：10844676
> 
> 赞同：1
> 
> 时间：2012-06-01T05:03:19.537
> 
> 标签：javascript

我在 javascript 变量中有一个日期

```
var cDate='07/21/2012'  `(mm/dd/YYY format)` 
```

我需要找出日期的第 5 天`cDate Variable`

即新日期=`'07/26/2012'`

假设如果`cDate='07/28/2012' then newDate='08/2/2012'` 但我确实知道怎么做。我已经尝试了很多并进行了搜索，但我的结果是错误的。

请重播

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:06:26.060

```
myDate = 新日期(2012, 07, 28)
新日期(myDate.getTime() + 5*24*60*60*1000);
```

或将日期类扩展为

```
Date.prototype.addDays = 函数（天）{
    this.setDate(this.getDate() + days);
    返回这个；
};

```

或者你甚至可以使用这个库。[http://www.datejs.com/](http://www.datejs.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:07:03.850

您是否尝试过以下操作？

```
cDate = new Date(2012, 07, 28)
cDate.setDate(cDate.getDate() + 5); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T05:08:11.710

请试试这个

```
var myDate=new Date();
myDate.setDate(myDate.getDate()+5); 
```

# jquery - jQuery Validator 验证默认选择是否无效

> ID：10844677
> 
> 赞同：0
> 
> 时间：2012-06-01T04:19:42.527
> 
> 标签：jquery, wordpress, validation

我的表格有以下部分：

```
<input type="checkbox" class="hide" id="additional-webinar" name="additional-webinar-check" value="additional-webinar-box">
<label class="hide" for="additional-webinar">Include Additional Webinar</label>

<div class="hide" id="additional-webinar-box" style="display:none;">
        <label class="title">Select Additional Webinar</label>
        <select name="additionalWebinarSelection">
            <option value="0" selected="">Please Select</option>
            <option value="173">Del All test(Elite Options Mastery)</option>
            <option value="171">Glob Test(Elite Futures Mastery)</option><option value="169">Test 2(Elite Futures Mastery)</option>
            <option value="167">Test(Elite Futures Mastery)</option><option value="164">Test(Elite Futures Mastery)</option>
            <option value="162">New Min TEst(Elite Futures Mastery)</option><option value="160">Min Height Test(Elite Options Mastery)</option>
            <option value="158">Title Yo(Elite Options Mastery)</option><option value="156">Title(Options Made Easy)</option>
            <option value="96">TT Test(Daily Wealth Report)</option>
        </select>
</div> 
```

如果复选框被选中，则显示 div get，否则它被隐藏。

我上面有以下验证器代码

```
jQuery('#validate').click(function(){

    jQuery("form").validate({

        rules: {
            additionalWebinar: {
                required: {
                    depends: function() {
                        return jQuery('input[name=additional-webinar-check]').is(":checked")
                    }
                }
            }
        }
    })
}); 
```

但是，这始终评估为 true，因为`select`元素将始终具有选定的选项。我如何让它在默认情况下返回 false。我尝试了以下方法：

```
depends: function() {
    if(jQuery('input[name=additional-webinar-check]').is(":checked")) {
        var input = jQuery('select[name=additionalWebinarSelection]').val();

        if (input == 0) {
            alert(input);
            return false;
        } else {
            return true;
        }
    }
} 
```

但无济于事。

调用 validate 函数不会触发控制台错误（我故意强制调用它）

这一切都是在 Wordpress 博客上使用[Official jQuery Validator jQuery Plugin完成的](http://docs.jquery.com/Plugins/Validation/)

那么这是如何完成的和/或我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T06:10:57.170

约莎，

AFAIK，Validator api 要求规则应该有元素 id。您需要添加“additionalWebinar”作为选择元素的 id。

```
jQuery('#validate').click(function(){
jQuery("form").validate({

    rules: {
        additionalWebinar: { // this has to be an Id of an Element
            required: {
                depends: function() {
                    return jQuery('input[name=additional-webinar-check]').is(":checked")
                }
            }
        }
    }
})
}); 
```

# picasa - 用于 Google 小工具的 picasa 照片库

> ID：10844688
> 
> 赞同：0
> 
> 时间：2012-06-01T05:04:58.600
> 
> 标签：picasa, google-gadget

我正在尝试创建一个不错的 picasa 照片库小工具，如下所示： [https ://sites.google.com/site/mori79/html-gadgets/image-galleries/thumbnail-viewer](https://sites.google.com/site/mori79/html-gadgets/image-galleries/thumbnail-viewer)

但他们的方法是手动添加每张图片。我想知道是否有方法可以自动从特定相册中检索照片并显示？（与链接中的类似布局）

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T01:44:32.470

不，我不知道有什么办法。我已经在我的小工具中嵌入了 Picasa 照片，而且一切都必须手动完成……我建议使用 Flickr，然后研究他们的 API。这可能会使大型工作变得不那么无聊并更快地完成。

# actionscript-3 - 如何在 flex mobile 中增加忙碌光标的大小

> ID：10844694
> 
> 赞同：0
> 
> 时间：2012-06-01T05:06:14.317
> 
> 标签：actionscript-3, apache-flex, mobile, flex4.5, busy-cursor

我尝试在 flex 4.6 mobile 中使用默认的忙光标。但是与 Web 应用程序中可用的光标相比，忙碌光标非常小。是否可以增加光标的大小。我不想添加图像而不是光标。有什么想法吗？

或者至少可以使用繁忙指示器组件而不是普通的 busu 光标吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T09:41:13.677

一般来说，我远离繁忙的光标有几个原因，包括它在移动应用程序上是如此之小。忙碌指示器非常易于使用，可以根据需要定位和调整大小：

```
<s:BusyIndicator id="myBusyIndicator" width="100" height="100" verticalCenter="0" horizontalCenter="0" visible="false"/> 
```

然后，当您想显示它时，将 visible 属性设置为 true。例如，如果您使用的是 httpService，您可以执行以下操作：

```
private function myResultHandler(e:ResultEvent):void
{
    myBusyIndicator.visible = false;
    //handle data results
}

private function myFaultHandler(e:FaultEvent):void
{
    myBusyIndicator.visible = false;
    //handle fault results
}

<s:HTTPService id="myHttpService" result="myResultHandler(event)" fault="myFaultHandler(event)" invoke="myBusyIndicator.visible = true"/> 
```

# jquery - 现场网站上最奇怪的错误，Safari 和 IE 出现随机大圆圈

> ID：10844695
> 
> 赞同：3
> 
> 时间：2012-06-01T05:06:19.537
> 
> 标签：jquery, html

这是在一个实时站点上，所以我希望很快找到修复

我对此完全感到困惑，当您单击“获取报价”按钮时，我的页面上会出现一个仅带有边框的随机巨大圆圈，这会通过 ajax 加载表单，然后在其上调用 show，但在 ie 和 safari（一个客户在mac上注意到了它，我用IE进行了测试，也发现了）当内容加载时会出现一个巨大的圆圈，我不相信它是一个css问题，我尝试检查元素但那里什么都没有

该网站是： http: [//motionvideos.tv/](http://motionvideos.tv/) （单击横幅（图像地图，获取报价部分））

任何帮助、建议或意见将不胜感激，我以前从未见过这样的事情 =/

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T05:19:38.817

您已获得带有徽标链接的图像地图。

在里面，当我相信你的意思是“矩形”时，你有一个指定为“圆圈”的区域。

```
<area shape="circle" coords="650,57,1000,115" href="JavaScript:void(0);" alt="Get A Quote" title="Get A Quote" onclick="loadForm()"> 
```

改成

```
<area shape="rect" coords="650,57,1000,115" href="JavaScript:void(0);" alt="Get A Quote" title="Get A Quote" onclick="loadForm()"> 
```

您正在/正在看到的圆圈似乎是地图的“焦点”状态`area`。

祝你好运。

# c++ - 映射中的两个键值可以相同吗

> ID：10844702
> 
> 赞同：4
> 
> 时间：2012-06-01T05:07:08.627
> 
> 标签：c++, linux, boost, stl, map

我已经定义了一个地图

```
boost::unordered_map<"std::string,std::string">m_mapABC ; 
```

我将值存储在其中，例如 m_mapABC[strValue1]=strValue2;

并假设我在地图中存储了 10 个条目。在这种情况下，可以使用相同的键值来存储 10 个不同的值……或者每次都会被覆盖……我想会的。
在那种情况下使用 `std::pair`会帮助我猜。

```
std::map<"std::string, std::pair<"std::string", bool>>myMap2 
```

`std::pair`可以有 2 个键值相等（我想我是对的）...每种情况下的布尔值是多少，在第一种情况下是 TRUE，第二次是 FALSE，反之亦然？

我还听说过`std::tuple`或`boost::tuple`在哪里可以使用单个键来存储不同的值。

我不太清楚如何遍历它们...我需要帮助

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-01T05:12:41.837

您可能想要[`multimap`](http://www.cplusplus.com/reference/stl/multimap/)而不是`map`.

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-01T05:12:52.717

如果您想将多个值与单个键关联，请使用`std::multimap`(or `std::unordered_multimap`) 而不是`std::map`.

在某些情况下，有一个代替是有意义的`std::map<key_type, std::vector<mapped_type> >`（就我个人而言，我经常觉得这更可取）。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-01T05:14:05.930

如果要使用相同的键存储多个项目，则应使用 a `multimap`（也适用于`unordered_`变体）。

以下应该有效：

```
std::multimap<std::string,int> mm;
for( int i = 0; i != 10; ++i )
  mm.insert(make_pair("hello world"), i); 
```

并且您的多图应该包含 10 个带有键“hello world”的条目和 10 个不同的值。

# android - 如何使用 Android 应用向 Twitter 发布消息？

> ID：10844704
> 
> 赞同：4
> 
> 时间：2012-06-01T05:07:18.380
> 
> 标签：android, twitter

我开发了一个推特应用程序。我需要在编辑框中输入文本后，单击按钮，然后将其发布到 Twitter。

任何人都可以发布代码。

我试过了，但我在 setStatus() 方法中遇到了错误。

这是我的代码，请帮忙。

```
public void onCreate(Bundle savedInstanceState) {
        System.setProperty("http.keepAlive", "false");
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main_oauth);

        //check for saved log in details..
        checkForSavedLogin();

        //set consumer and provider on teh Application service
        getConsumerProvider();

        //Define login button and listener
        buttonLogin = (Button)findViewById(R.id.ButtonLogin);
        buttonLogin.setOnClickListener(new OnClickListener() {  
            public void onClick(View v) {
                askOAuth();
            }
        });

        postText = (EditText)findViewById(R.id.editText1);
        postbtn = (Button)findViewById(R.id.button1);

        postbtn.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                postTwitter();
            }
        });

    }

    protected void postTwitter() {
        String message = postText.getText().toString();
        System.out.println("Post Twitter.."+message);

        Thread t = new Thread() {
            public void run() {

                 twitter = new Twitter();

                 try
                 {
                 //Status to post in Twitter
                 **twitter.setStatus(postText.getText().toString());**
                 Toast.makeText(AuthActivity.this, "Article Posted to Twitter Successfully!!", Toast.LENGTH_SHORT).show();
                 }
                  catch(Exception e)
                 {
                 Toast.makeText(AuthActivity.this, "Network Host not responding",Toast.LENGTH_SHORT).show();
                 }
            }

        };
        t.start();
        } 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-01T05:42:30.417

从 Android 发布到 Twitter 是 Android 开发人员的最早阶段之一。为了完全控制发布过程，我们将主要使用纯 OAuth 发布而不是处理 Intent，因此我们可以完全控制。因此，作为用户，我们可以思考并得出结论：最典型的身份验证方式是弹出一个窗口，我们可以在其中使用我们的用户和密码进行识别，以便应用程序访问我们的帐户（虽然不是完整帐户，只是为了从应用程序发布！）并忘记其余的过程。对于 Android 新手来说，这可能是一个有点棘手的过程。当然，Twitter 最终会改变他们的 API 或注册方法，所以我们有时会发现我们的旧实现不再工作了

我们首先需要注册一个 Twitter 应用程序。为此，我们将访问 Twitter 的开发者网站。登录后，我们将添加一个新应用程序。没有需要记住的特殊设置，但是自从 Twitter 发布他们的 API 以来，回调 URL 的部分经常发生变化。目前，如果我们正在开发一个应用程序，我们只需要提供任何随机 URL。（[本文更多内容](http://www.neo-tech.es/wp/?p=91)）

这里是一个示例 Android 项目，用于展示如何连接到 Twitter，将其令牌和用户名保存在共享首选项中，以便以后可以使用它来将状态发布到 Twitter。 [如何从 Android 发布 Twitter 状态](http://www.londatiga.net/it/how-to-post-twitter-status-from-android/)

其他人例如如何发送消息 suing androd API 。这里有一些链接为您提供帮助；

[http://www.android10.org/index.php/articleslibraries/291-twitter-integration-in-your-android-application](http://www.android10.org/index.php/articleslibraries/291-twitter-integration-in-your-android-application)，

[使用 Twitter 构建 Android 应用程序](https://dev.twitter.com/discussions/7152)

[http://kenai.com/projects/twitterapime/pages/Home](http://kenai.com/projects/twitterapime/pages/Home)

别忘了也看看这个；[http://abhinavasblog.blogspot.com/2010/09/using-twitter-with-oauth-on-andorid.html](http://abhinavasblog.blogspot.com/2010/09/using-twitter-with-oauth-on-andorid.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-12-17T11:13:02.393

首先你需要在推特上创建一个应用程序

这是在 Twitter 上发布消息的代码

```
 ConfigurationBuilder configurationBuilder = new ConfigurationBuilder();
            configurationBuilder.setOAuthConsumerKey(context.getResources().getString(R.string.twitter_consumer_key));
            configurationBuilder.setOAuthConsumerSecret(context.getResources().getString(R.string.twitter_consumer_secret));
            configurationBuilder.setOAuthAccessToken(LoginActivity.getAccessToken((context)));
            configurationBuilder.setOAuthAccessTokenSecret(LoginActivity.getAccessTokenSecret(context));
            Configuration configuration = configurationBuilder.build();
            final Twitter twitter = new TwitterFactory(configuration).getInstance();

            new Thread(new Runnable() {

                    private double x;

                    @Override
                    public void run() {
                            boolean success = true;
                            try {
                                    x = Math.random();
                                    twitter.updateStatus(message +" "+x);
                            } catch (TwitterException e) {
                                    e.printStackTrace();
                                    success = false;
                            }

                            final boolean finalSuccess = success;

                            callingActivity.runOnUiThread(new Runnable() {
                                    @Override
                                    public void run() {
                                            postResponse.onFinsihed(finalSuccess);
                                    }
                            });

                    }
            }).start(); 
```

查看本[教程](http://learnncode.wordpress.com/2013/12/17/tutorial-on-uploading-image-on-twitter-using-twitter4j/)以获取更多详细信息。

# c# - C# 中的通用类型到配置值的映射

> ID：10844706
> 
> 赞同：2
> 
> 时间：2012-06-01T05:07:32.580
> 
> 标签：c#, .net, generics

我有一个用于保存 Web 服务访问的连接配置信息的接口：

```
public interface IServiceConnectionConfiguration
{
    string Username { get; }
    string Password { get; }
    string ChannelEndpointUrl { get; }
    string MediaEndpointUrl { get; }
    string PlayerlEndpointUrl { get; }
    string PlaylistEndpointUrl { get; }
} 
```

我有一个工厂类，它返回特定于所请求服务类型的服务实例。

```
public static class ServiceClientFactory
{
    public static void Configure(IServiceConnectionConfiguration config)
    {
        _config = config;
    }
    public static T GetService<T>() where T : class, IServiceClient
    {
    }
} 
```

该工厂被称为

```
Channel channelService   = factory.GetService<Channel>(); 
```

我想弄清楚的是工厂代码根据初始化期间传递的配置对象解析传入类型本身的端点 url 的一种优雅方式。例如。如果传递的类型参数是channel，则在构造ChannelService时应该取ChannelEndpointUrl。

我考虑过在配置类上使用属性来用它们对应的服务类型来装饰端点 url，但这似乎是一个糟糕的设计。

有任何想法吗。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:43:16.670

好吧，解决它的一种方法是让工厂有一个包含初始化逻辑的私有静态字典，由“类型”索引。类似于策略模式。

例如：

```
public static class ServiceClientFactory
{
    private static IServiceConnectionConfiguration _config;
    private static readonly Dictionary<Type, Func<IServiceClient>> Initializers = new Dictionary<Type, Func<IServiceClient>>();

    static ServiceClientFactory()
    {
        Initializers.Add(typeof(Channel), () =>
                                               {
                                                   return //create the service client based on the endpoint
                                               });
    }

    public static void Configure(IServiceConnectionConfiguration config)
    {
        _config = config;
    }

    public static T GetService<T>() where T : class, IServiceClient
    {
        return (T)Initializers[typeof (T)]();
    }
} 
```

编辑：现在，正如您所提到的，您不能在工厂中显式实例化，因为您会导致循环引用，也许您可​​以强制使用 new() 约束，并在 GetService 方法中构造实例，并且只使用字典作为端点配置，例如：

```
public static class ServiceClientFactory
{
    private static IServiceConnectionConfiguration _config;
    private static readonly Dictionary<Type, Action<IServiceClient>> Initializers = new Dictionary<Type, Action<IServiceClient>>();

    static ServiceClientFactory()
    {
        Initializers.Add(typeof(Channel), t =>
                                              {
                                                  t.Url = _config.ChannelEndpointUrl;
                                                  //configure t using the appropriate endpoint
                                              });
    }

    public static void Configure(IServiceConnectionConfiguration config)
    {
        _config = config;
    }

    public static T GetService<T>() where T : class, IServiceClient, new()
    {
        var service = new T();
        Initializers[typeof(T)](service);
        return service;
    }
} 
```

# regex - 在参数bash中查找和替换字符串

> ID：10844707
> 
> 赞同：7
> 
> 时间：2012-06-01T05:07:32.817
> 
> 标签：regex, string, bash, replace

```
$ ./myscript my.site.com 
```

如何替换第一个参数中的所有点？这是我目前的尝试，但它返回了一个**错误的替换**错误。

```
#!/bin/bash
dbname=${$1//./_}

echo $dbname 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-01T05:11:19.133

```
dbname=${1//./_} 
```

在 1 之前删除`$`，因为`$1`和`${1}`是相同的。

# android - 我的应用程序没有出现在模拟器中

> ID：10844709
> 
> 赞同：1
> 
> 时间：2012-06-01T05:07:49.753
> 
> 标签：android, emulation, android-2.3-gingerbread

在我的模拟器出现之前，我的应用程序有问题。解锁后，我可以看到它并单击它。但是现在，它没有显示。我用谷歌搜索了近几个小时，但无济于事。请我需要你的帮助，这样我才能继续前进。谢谢。我的清单文件似乎没问题，没有错误。而且我的源代码也没有错误。

**飞溅.java**

```
public class Splash extends Activity{

    //MediaPlayer ourSong; // for our splash background song

    @Override
    protected void onCreate(Bundle iHF) {
        super.onCreate(iHF);
        setContentView(R.layout.splash);

            Thread timer = new Thread(){
                public void run(){
                    try{
                        sleep(1000); // sleeps/delays for 1 second
                    } // end try
                    catch(InterruptedException e){
                        e.printStackTrace();
                    }finally{
                        // this is going to create new intent activity for Ihealthfirst
                        // based on the action name (com.fps.ihealthfirst.IHEALTHFIRST)
                        Intent openIHealthFirst = new Intent("com.fps.iHealthFirst.IHEALTHFIRSTACTIVITY");
                        startActivity(openIHealthFirst);
                    }// end finally
                } // end run method
            }; // end thread

            timer.start();
        } // end onCreate method

    @Override
    protected void onPause() {
        super.onPause();
        finish();
    }

    } // end Splash class 
```

* * *

**显现**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.fps.iHealthFirst"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="10" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity
            android:name=".Splash"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>        
        </activity>

    </application>

</manifest> 
```

* * *

**主要的.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center"
        android:text="Welcome!" />

</LinearLayout> 
```

* * *

**飞溅.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="@drawable/bassgirl" >

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T05:46:53.483

尝试在清单中替换此行：

`<category android:name="android.intent.category.DEFAULT"/>`

对此：

`<category android:name="android.intent.category.LAUNCHER"/>`

就像现在一样，您没有定义启动器活动。如果您希望保留 DEFAULT 选项，您可以添加我发布的行而不是替换它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T05:10:38.787

试试这些：

*   重启模拟器
*   如果不起作用，请重新创建模拟器
*   如果不起作用，请重新启动 IDE
*   如果不起作用，请检查所有其他应用程序是否是这种情况

# android - 如何在画布中记录用户的操作并在android中保存为视频文件？

> ID：10844714
> 
> 赞同：3
> 
> 时间：2012-06-01T05:08:01.877
> 
> 标签：android, video, canvas

我已经实现了绘画功能。我想记录用户的操作并保存为视频文件。就像 IPAD 中的“SHOW ME”应用程序一样。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-06-01T05:25:28.183

您可以使用以下代码截取您自己的应用程序的屏幕截图（根据您的应用程序稍作修改）：

```
public class AndroidWebImage extends Activity {

ImageView bmImage; 
LinearLayout view;
  /** Called when the activity is first created. */
  @Override
  public void onCreate(Bundle savedInstanceState) {
      super.onCreate(savedInstanceState);
      setContentView(R.layout.main);

      view = (LinearLayout)findViewById(R.id.screen);
      bmImage = (ImageView)findViewById(R.id.image);

      view.setDrawingCacheEnabled(true);
      // this is the important code :)  
      // Without it the view will have a dimension of 0,0 and the bitmap will be null          

      view.measure(MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED), 
            MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED));

      view.layout(0, 0, view.getMeasuredWidth(), view.getMeasuredHeight()); 

      view.buildDrawingCache(true);
      Bitmap b = Bitmap.createBitmap(view.getDrawingCache());
      view.setDrawingCacheEnabled(false); // clear drawing cache

      bmImage.setImageBitmap(b);   

};

} 
```

* * *

我使用了以下 xml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:orientation="vertical"
   android:id="@+id/screen"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  >
<TextView
  android:layout_width="fill_parent"
  android:layout_height="wrap_content"
  android:text="@string/hello"
  />
<ImageView
  android:id="@+id/image"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
/>
</LinearLayout> 
```

* * *

使用 Timer 以固定的时间间隔截取屏幕截图，然后将这一系列图像转换为视频文件，例如：[create-a-video-file-from-images-using-ffmpeg](https://stackoverflow.com/questions/10395136/create-a-video-file-from-images-using-ffmpeg)

# flash - Flash：如何安全地捕获和忽略安全违规

> ID：10844717
> 
> 赞同：0
> 
> 时间：2012-06-01T05:08:30.963
> 
> 标签：flash, security, sandbox, cross-domain-policy

我们的应用程序经常向另一个域发出 URL 请求，这些请求不依赖于应用程序才能正常运行。有时，由于某种原因，它无法从远程域下载 crossdomain.xml，这会导致应用程序引发沙盒安全违规。

由于应用程序正常运行不需要这些 URL 请求，我更愿意捕获并忽略安全沙箱违规行为并保持应用程序运行。这可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T05:23:31.420

看看[`SecurityErrorEvent.SECURITY_ERROR`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/URLLoader.html#event%3asecurityError)，这是由 派出的`URLLoader`。

要回答您的评论：

是的，在您请求数据之前，实际上不会查找跨域文件：

> 请注意，即使方法名称是`loadPolicyFile()`，该文件也不会实际加载，直到发出需要策略文件的网络请求。
> 
> 来源：[`loadPolicyFile()`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/system/Security.html#loadPolicyFile%28%29)

这意味着您可以使用上述事件来管理失败的加载。

# c++ - C++ 分段错误（核心转储）错误 - 将指针转换/将函数值返回给线程

> ID：10844721
> 
> 赞同：0
> 
> 时间：2012-06-01T05:09:28.367
> 
> 标签：c++, multithreading, segmentation-fault, void-pointers

我是 C++ 编程和线程实现的新手。我的目标是设计一个程序，它使用两个线程将元素添加到一个数组的 2 个子范围（元素 0-9 和元素 10-19）中，然后将线程返回的值相加以制定所有元素的总和数组。我已经编译了以下代码，并且基于我对“gdb”调试器的有限知识，我的问题似乎与 sum_function 中的指针有关。我无法弄清楚我的错误。任何帮助表示赞赏！

```
#include <iostream>
#include <pthread.h>

using namespace std;

int arguments[20]; 

void *sum_function (void *ptr);

int main (void) {

pthread_t thread1, thread2;
int total, sum1, sum2 = 0;
int lim1 = 10;
int lim2 = 20;
for (int i = 0; i < 20; i++)
    cin >> arguments[i];

sum1 = pthread_create ( &thread1, NULL, sum_function, (void*) lim1);
sum2 = pthread_create ( &thread2, NULL, sum_function, (void*) lim2);

pthread_join (thread1, NULL);
pthread_join (thread2, NULL);

total = sum1 + sum2;

cout << "OUTPUT \n" << total << "\n";

return (0);
}

void *sum_function (void *lim) {

int sum = 0;
for (int j = 0; j < (*(int*)lim); j++)
    sum += arguments[j];
return (void*) sum;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T05:13:03.857

```
sum1 = pthread_create ( &thread1, NULL, sum_function, (void*) lim1);
sum2 = pthread_create ( &thread2, NULL, sum_function, (void*) lim2); 
```

这会将`10`and传递`20`给`void *`线程。

```
for (int j = 0; j < (*(int*)lim); j++) 
```

这会将`10`and转换`20`为 an`int *`然后取消引用它们。但它们不是有效的指针。

如果你想让线程接收一个地址，你必须给它一个地址。如果要向线程传递一个值，请对其进行编码以接收一个值。

您可以通过两种方式解决此问题：

1）始终如一地传递和期望指针：

```
sum1 = pthread_create ( &thread1, NULL, sum_function, (void*) &lim1);
sum2 = pthread_create ( &thread2, NULL, sum_function, (void*) &lim2);
...
for (int j = 0; j < (*(int*)lim); j++) 
```

请注意，`pthread_create`现在正在向线程传递一个指针，并且线程现在正在取消引用该指针。

2）始终如一地传递和期望值：

```
sum1 = pthread_create ( &thread1, NULL, sum_function, (void*) lim1);
sum2 = pthread_create ( &thread2, NULL, sum_function, (void*) lim2);
...
for (int j = 0; j < ((int)lim); j++) 
```

请注意，`pthread_create`现在正在传递一个整数值，并且线程现在需要一个整数值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T05:54:16.707

这与标题没有直接关系。我正在解决你目前的情况。您可以创建一个结构。

```
struct args
{
    int arr_limit;
    int local_result;
}; 
```

然后根据需要填充此结构，并将地址作为`void`指向`pthread_create`函数的指针传递。你可以解决你的两个问题..希望这会有所帮助......

# objective-c - 为什么 NSAssert 在 main 而不是在调用断言的代码中中断

> ID：10844725
> 
> 赞同：2
> 
> 时间：2012-06-01T05:10:19.920
> 
> 标签：objective-c, xcode, nsassert

我设置了这个 NSAssert

```
NSAssert(isStillLoadingArgument== [[self class] stillLoading],@"Hmm.... we think isStill Loading is false or true and yet stillLoading is true");; 
```

这是我问这个问题的屏幕截图： ![在此处输入图像描述](../Images/b5de923d6c4004a46f57a6d4c701939e.png)

然后当断言失败时，代码在这里中断：

![在此处输入图像描述](../Images/052bf638713be0b2ed45619d9b952fc2.png)

这很烦人，因为我想在我设置断言的代码上看到断言中断。那么，我该怎么做。

不幸的是，本回答并没有解决问题： ![在此处输入图像描述](../Images/7370665410a59a3c1bb2e4bc7066db6d.png)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-01T06:35:44.347

您需要为所有异常添加一个断点到您的项目中。

1）点击断点导航器

![断点](../Images/6be22f4cb5f5ee8e22c756732fc80b6b.png)

2）添加异常断点

![例外](../Images/9cd8c6f711cfd169455b8f959bae2418.png)

3）确保将其设置为中断所有异常

![全部](../Images/f8cebf25c56b01e078c0a0fcd5a179b5.png)

现在 XCode 将中断到实际的断言而不是 main。希望这可以帮助！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T06:10:24.460

配置调试器以中断异常。

当断言失败时，它会引发异常。如果没有捕获到异常，它会在展开堆栈后终止程序，将其留在`main()`.

# android - 如果蓝牙关闭，则更改 Imageview 背景

> ID：10844728
> 
> 赞同：0
> 
> 时间：2012-06-01T05:10:28.057
> 
> 标签：android, bluetooth, wifi

如果蓝牙关闭，我需要更改 Imageview 的背景图像

我有一个 Imageview 并单击它，如果打开了蓝牙，我正在设置一个图像，然后第二次单击我应该关闭蓝牙并且应该更改 imageview 的背景

我尝试了很多，但它在第二次点击时没有改变

这是我的代码

```
 bluetoothimg.setOnClickListener(new View. OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub

            if(!mBtAdapter.isEnabled()){
            final Intent intent = new Intent(Intent.ACTION_MAIN, null);
            intent.addCategory(Intent.CATEGORY_LAUNCHER);
            int REQUEST_ENABLE_BT = 1;
            final ComponentName cn = new ComponentName("com.android.settings", "com.android.settings.bluetooth.BluetoothSettings");  
            intent.setComponent(cn);
            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK); 
            bluetoothimg.setImageResource(R.drawable.bt);
            startActivityForResult( intent,  REQUEST_ENABLE_BT);
            //BluetoothAdapter.getDefaultAdapter().enable();
            mBtAdapter.enable();

            }
            else {

                bluetoothimg.setImageResource(R.drawable.bt_grey);
                //BluetoothAdapter.getDefaultAdapter();
                mBtAdapter.disable();

            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:30:21.303

以下片段将起作用

```
bluetoothimg.setOnClickListener(new View. OnClickListener() {

        public void onClick(View v) {

      if(bluetoothimg.getTag().toString().equalsIgnoreCase("off")) //Bluetooth Disabled
      {

        Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);
        startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);

      }
      else   //Disable Bluetooth
      {

                if(mBtAdapter.disable())
                {
                  bluetoothImg.setTag("off");
                  bluetoothimg.setImageResource(R.drawable.bt_gray); 
                } 

       }

@Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data)
    {
        if(resultCode=RESULT_OK)
                {
                   bluetoothImg.setTag("on");
                   bluetoothimg.setImageResource(R.drawable.bt); 
                }
        super.onActivityResult(requestCode, resultCode, data);
    } 
```

# ruby-on-rails - 验证失败时路由更改

> ID：10844735
> 
> 赞同：0
> 
> 时间：2012-06-01T05:10:59.327
> 
> 标签：ruby-on-rails, ruby-on-rails-3, model-view-controller

我有一个工作岗位模型。当我创建新的工作岗位时，我将类别作为参数传递，如下所示：

```
new_jobplacement_path(:category => params[:category]) 
```

所以网址看起来像这样：

```
http://localhost:3000/jobplacements/new?category=Corporate 
```

但是当验证失败时 url 更改为：

```
http://localhost:3000/jobplacements 
```

**为什么会发生这种情况？params 类别在哪里丢失？当验证失败时我如何传递这个 params 类别？**

我的创建操作代码是：

```
def create
        @jobplacement = Jobplacement.new(params[:jobplacement])
        if @jobplacement.save
        redirect_to(jobplacement_url(@jobplacement.id,:category => @jobplacement.category), :notice => 'Job post was successfully created.') 
    else
        render :action => "new" 
    end
    end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:46:41.493

解决了它...在 form.html.haml 中添加了 :url => { :action => :create, :category => params[:category]}：

```
= form_for(@jobplacement,:url => { :action => :create, :category => params[:category]},:validate => true, :html => { :class => "form grid_6", :id => "form" }) do |f| 
```

现在，当验证失败时，我的 url 更改为：

```
http://localhost:3000/jobplacements?category=Corporate 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T05:18:19.843

这是因为你的`create`行动路线是

```
PUT http://localhost:3000/jobplacements 
```

当验证失败时，页面不会被重定向，所以 url 会保留。

无论如何，这不会造成问题。

# .net - 在 Graphics.Dispose 之前或之后释放 DC？

> ID：10844738
> 
> 赞同：1
> 
> 时间：2012-06-01T05:11:30.010
> 
> 标签：.net, vb.net, winforms, gdi+, gdi

在 Windows 窗体的背面，我得到一个窗口 DC，使用 创建一个 Graphics 对象`Graphics.FromHdc`，然后在释放 DC*之前处置 Graphics 对象。*

```
Private Declare Function GetWindowDC Lib "user32.dll" (ByVal hwnd As IntPtr) As IntPtr
Private Declare Function ReleaseDC Lib "user32.dll" (ByVal hwnd As IntPtr, ByVal hdc As IntPtr) As Integer

Dim hdc As IntPtr = GetWindowDC(Me.Handle)

Try
    Using g As Graphics = Graphics.FromHdc(hdc)
        ' ... use g ...
    End Using
Finally
    ReleaseDC(Me.Handle, hdc)
End Try 
```

Microsoft 文档`Graphics.FromHdc`显示了类似的代码。（它使用`Graphics.GetHdc`and `Graphics.ReleaseHdc`，而不是 Win32`GetWindowDc`和。）但是，它们在释放Graphics 对象*之前*`ReleaseDC`释放 DC ：

 *```
' Get handle to device context.
Dim hdc As IntPtr = e.Graphics.GetHdc()

' Create new graphics object using handle to device context.
Dim newGraphics As Graphics = Graphics.FromHdc(hdc)

' Draw rectangle to screen.
newGraphics.DrawRectangle(New Pen(Color.Red, 3), 0, 0, 200, 100)

' Release handle to device context and dispose of the Graphics  ' object
e.Graphics.ReleaseHdc(hdc)
newGraphics.Dispose() 
```

他们为什么这样做？DC应该在之前还是之后发布`Graphics.Dispose`？错误的顺序可能会导致资源泄漏或内存损坏吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T05:37:08.020

从 Graphics.Dispose 方法：

```
private void Dispose(bool disposing)
{
..SNIP...
    if (this.nativeGraphics != IntPtr.Zero)
    {
        try
        {
            if (this.nativeHdc != IntPtr.Zero) <<---
            {
                this.ReleaseHdc(); <<--- 
    } 
```

所以它似乎会自行释放hdc。

[编辑]

它实际上是：

```
[DllImport("gdiplus.dll", CharSet = CharSet.Unicode, EntryPoint = "GdipReleaseDC",     ExactSpelling = true, SetLastError = true)]
private static extern int IntGdipReleaseDC(HandleRef graphics, HandleRef hdc); 
```

That is getting called, don't know if the gdiplus release dc handles native device contexts too*

# sql - 获取不匹配值在sql中连接两个表

> ID：10844740
> 
> 赞同：0
> 
> 时间：2012-06-01T05:11:40.867
> 
> 标签：sql, join, left-join

“table1”---> boodang_iphone 包含---3000 条记录

“table2”--> boodang_iphonePushtest05302012 表包含 ---90 条记录

我需要在'boodang_iphonePushtest05302012'比较表1中获取不匹配值我这样写查询

```
SELECT boodang_iphonePushtest05302012.devicetoken 
FROM boodang_iphonePushtest05302012
left outer join boodang_iphone  on 
    boodang_iphone.devicetoken=boodang_iphonePushtest05302012.devicetoken 
where 
    boodang_iphonePushtest05302012.devicetoken != boodang_iphone.devicetoken 
```

我很困惑它是否提供正确的数据或没有任何人可以指导我使用连接获取不匹配值

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:26:41.313

此查询为您提供存在于`boodang_iphonePushtest05302012`但不存在于 中的所有记录`boodang_iphone`。但是，您需要通过交换表再次运行查询，因此它将为您提供所有存在`boodang_iphone`但不存在的记录`boodang_iphonePushtest05302012`（相反，您可以使用相同的查询，但通过右外连接加入表）。然后你应该得到比较的完整结果。

另外，如果您可以将 where 子句更改为

```
where boodang_iphone.devicetoken IS NULL 
```

那么会好很多。这是因为如果值不匹配，那么它将从您的第二个表中返回 NULL 值，并且如果您将 NULL 值与有效数据进行比较，它总是会出现问题。

# c - 去除叶子不会影响 BST - C

> ID：10844741
> 
> 赞同：4
> 
> 时间：2012-06-01T05:11:41.097
> 
> 标签：c, pointers, struct, binary-search-tree

我编写了一个函数来取消 BST 的所有叶子。BST当然有一个左右指针和一个叫做data的char来存储节点的值。

```
void removeLeaves(struct Tree* T){
  if(T->left == NULL && T->right == NULL){
    printf("removing %c\n", T->data);
    T=NULL;
  }
  else{
    if(T->left!=NULL){
      removeLeaves(T->left);
    }
    if(T->right!=NULL){  
      removeLeaves(T->right);
    }
  }  
} 
```

我在调用此函数之前和之后打印树。尽管上面的 print 语句有效并打印了无效的节点，但结果树是相同的。我有类似的东西：

```
print(BST);
removeLeaves(BST);
print(BST); 
```

知道发生了什么吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:15:02.183

您正在按值传递 T，因此将 T 设置为 null 不会执行任何操作（T 只是指针的本地副本）。

您需要某种方式将 T 的“所有者”（即 parent->left 或 parent->right）设置为 null。

（另外，通过将 T 设置为 null，您会冒内存泄漏的风险 - 您需要 free() 吗？）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:15:12.127

`T=NULL;`将 null 分配给本地指针，而不是树中的任何内容。您需要使用 a`struct Tree **`以便可以修改`struct Tree *`：

```
void removeLeaves(struct Tree ** T){
  if((*T)->left == NULL && (*T)->right == NULL){
    printf("removing %c\n", (*T)->data);
    *T = NULL;
  }
  else{
    if((*T)->left!=NULL){
      pruneTree((*T)->left);
    }
    if((*T)->right!=NULL){  
      pruneTree((*T)->right);
    }
  }  
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T05:19:43.210

你有你需要的零件。这主要是重新排序它们的问题。

```
void removeLeaves(struct Tree* const T){
  if(T->left!=NULL){
    removeLeaves(T->left);
    T->left = NULL;
  }
  if(T->right!=NULL){  
    removeLeaves(T->right);
    T->right = NULL;
  }
} 
```

但是请注意`const`. 您的代码可以在没有它的情况下工作，但它不应该，因为设置`T = NULL`实际上并没有做任何事情，尽管可能会这样做。

*更新：* 顺便说一句，@PaulP.RO 的回答很有趣。我更喜欢我的，但你可以两个都试一下，看看哪个适合。

顺便说一句，请确保您不需要`free()`在某处调用，以防止内存泄漏。

# wcf - WCF 替换“此服务的元数据发布当前已禁用。” 带有自定义页面的页面

> ID：10844742
> 
> 赞同：3
> 
> 时间：2012-06-01T05:11:45.533
> 
> 标签：wcf, metadata, publishing, endpoint

我正在编写一个系统，我们不想在 WCF 服务上公开元数据。在设置服务时，我们让客户浏览 .svc 文件，以确定他们是否正确托管了服务。

他的页面来自哪里，是 IIS 结构吗？它是由 WCF 生成的吗？是否可以用我们自己的自定义html页面替换掉出来的html页面？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-03T17:22:11.110

httpHelpPageUrl 允许您将默认 WCF 帮助页面从 serviceDebug 元素移动到另一个位置。确保关闭 httpGetEnabled。

```
<behaviors>
  <serviceBehaviors>
    <behavior>
      <serviceMetadata httpGetEnabled="false"/>
      <serviceDebug includeExceptionDetailInFaults="false" 
                    httpsHelpPageEnabled="true" 
                    httpHelpPageEnabled="true" 
                    httpHelpPageUrl="myhelpPage.html" 
                    httpsHelpPageUrl="myhelpPage.html"/>
    </behavior>
  </serviceBehaviors>
</behaviors> 
```

更多信息[那么如何使用自己的内容更改 wcf 服务的 html 输出？](https://stackoverflow.com/questions/7229579/how-can-i-change-an-html-output-of-wcf-service-with-my-own-content)

# java - 在 Java PreparedStatement 中使用问号

> ID：10844745
> 
> 赞同：0
> 
> 时间：2012-06-01T05:12:17.170
> 
> 标签：java, ibatis

我通过浏览器发送请求[http://xxxx.com/test/?app_idx=80 。](http://xxxx.com/test/?app_idx=80)

但是 ibatis 解析了这个错误。

```
select
    CONCAT('http://localhost:8080/apps/icon/download/?app=', app_idx)
from test
where app_idx = ?; 
```

* * *

我希望我的查询是

```
select
    CONCAT('http://localhost:8080/apps/icon/download/?app=', app_idx)
from test
where app_idx = **80**; 
```

但真实的是'http://localhost:8080/apps/icon/download/?app=80'。

```
select
    CONCAT('http://localhost:8080/apps/icon/download/80app=', app_idx)
from test
where app_idx = **?**; 
```

有没有办法让它正确？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T06:00:15.723

利用

```
select CONCAT('?', app_idx)
from test
where app_idx = ?; 
```

并通过

```
http://localhost:8080/apps/icon/download/?app= 
```

作为第一个参数。

# android - 如何在 Achartengine 活动上添加选项菜单或上下文菜单？

> ID：10844747
> 
> 赞同：-1
> 
> 时间：2012-06-01T05:12:39.207
> 
> 标签：android

我正在尝试将 Achart 引擎集成到我的活动类中以显示折线图，但问题是我必须在图表活动上制作菜单。而且我无权访问该活动。我正在使用的代码如下。

```
 public class AchartActivity extends Activity implements OnClickListener
      {
        Button b1;
        @Override
        public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

       b1=(Button)findViewById(R.id.button1);
       b1.setOnClickListener(this);
      }

@Override
public void onClick(View v) {
    // TODO Auto-generated method stub
    double[] a1 = new double[] { 18, 10, 12, 15, 20, 24, 26, 26, 23, 18, 14, 11 };
    double[] a2 = new double[] { 12.3, 12.5, 13.8, 16.8, 20.4, 24.4, 26.4, 26.1, 23.6, 20.3, 17.2,13.9 };
    showChart(a1,a2);
}

void showChart(double[] a1,double[] a2 )
{
    String[] titles = new String[] { "Crete", "Corfu" };
    List<double[]> x = new ArrayList<double[]>();
    for (int i = 0; i < titles.length; i++) {
      x.add(new double[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12 });
    }
    List<double[]> values = new ArrayList<double[]>();
    values.add(a1);
    values.add(a2);

    int[] colors = new int[] { Color.BLUE, Color.GREEN};
    PointStyle[] styles = new PointStyle[] { PointStyle.CIRCLE, PointStyle.DIAMOND,
        };
    XYMultipleSeriesRenderer renderer;
    renderer = new XYMultipleSeriesRenderer();
    renderer.setAxisTitleTextSize(16);
    renderer.setChartTitleTextSize(20);
    renderer.setLabelsTextSize(15);
    renderer.setLegendTextSize(15);
    renderer.setPointSize(5f);
    renderer.setMargins(new int[] { 20, 30, 15, 20 });
    int length = colors.length;
    for (int i = 0; i < length; i++) {
      XYSeriesRenderer r = new XYSeriesRenderer();
      r.setColor(colors[i]);
      r.setPointStyle(styles[i]);
      renderer.addSeriesRenderer(r);
    }
    int length1 = renderer.getSeriesRendererCount();
    for (int i = 0; i < length1; i++) {
      ((XYSeriesRenderer) renderer.getSeriesRendererAt(i)).setFillPoints(true);
    }

    renderer.setChartTitle("Average temperature");
    renderer.setXTitle("Month");
    renderer.setYTitle("Temperature(degree celcius)");
    renderer.setXAxisMin(0.5);
    renderer.setXAxisMax(12.5);
    renderer.setYAxisMin(-10);
    renderer.setYAxisMax( 40);
    renderer.setAxesColor(Color.LTGRAY);
    renderer.setLabelsColor(Color.LTGRAY);
    renderer.setXLabels(12);
    renderer.setYLabels(10);
    renderer.setShowGrid(true);
    renderer.setXLabelsAlign(Align.RIGHT);
    renderer.setYLabelsAlign(Align.RIGHT);
    renderer.setZoomButtonsVisible(true);
    renderer.setPanLimits(new double[] { -10, 20, -10, 40 });
    renderer.setZoomLimits(new double[] { -10, 20, -10, 40 });
    XYMultipleSeriesDataset dataset=null;
    dataset = new XYMultipleSeriesDataset();

    int length2 = titles.length;
    for (int i = 0; i < length2; i++) {
      XYSeries series = new XYSeries(titles[i], 0);
      double[] xV = x.get(i);
      double[] yV = values.get(i);
      int seriesLength = xV.length;
      for (int k = 0; k < seriesLength; k++) {
        series.add(xV[k], yV[k]);
      }
      dataset.addSeries(series);
    }

    Intent intent = ChartFactory.getLineChartIntent(this, dataset,
        renderer, "Average temperature");
    startActivity(intent);
} 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-07T09:45:21.677

只需更改上面使用的方法即可轻松完成此操作。IE

```
 ChartFactory.getLineChartIntent(this, dataset,
    renderer, "Average temperature"); 
```

我用了这个方法

```
 ChartFactory.getLineChartView(this,dataset, renderer); 
```

上面的函数返回了一个对象

```
 GraphicalView 
```

现在这个图形视图对象可以很容易地在我们的布局中设置，因此我能够在我自己的活动类中绘制图表。

# xml-serialization - 如何更新 xml 值并将该 xml 保存在 xna 4.0 中？

> ID：10844748
> 
> 赞同：1
> 
> 时间：2012-06-01T05:12:39.227
> 
> 标签：xml-serialization, xml-parsing, linq-to-xml, xna-4.0

我想从我的 xml 更新值。我正在使用 LINQ to XML，然后使用 LINQ to XML 如何从 xml 更新值？或任何其他从 xml 更新值的程序？另一个问题是如何在 xna 4.0 中保存该 xml 文件？

# reporting-services - 如何在 ssrs 报告中创建多个快照

> ID：10844749
> 
> 赞同：2
> 
> 时间：2012-06-01T05:12:41.547
> 
> 标签：reporting-services

我读过，我们可以为 SSRS 报告创建多个快照。但是如果存在，我们必须创建一个默认值作为过滤器。所以我的问题是，首先我们在参数中添加一个默认值并部署报告并设置快照选项。那么多个快照是什么意思？一次我们只有一个默认值对吗？所以多个快照意味着所有快照都将存在相同的数据，对吗？另外，我们如何创建多个快照？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T06:16:57.853

快照旨在使用相同的默认参数并让它们按计划运行。这对于数据每天都在变化并且您希望每天保留快照的报告很有用。如果您的数据从不更改并且您想使用不同的参数值，则该方法无用。

另一种选择是使用“缓存刷新计划”。您可以为这些设置不同的计划和不同的参数值，并将其设置为缓存报告的临时副本，该副本在一天或您喜欢的任何时间（以分钟为单位）后到期。

我将第二个选项用于运行大约需要 30 秒的报告。这对用户（高级经理）来说太长了，所以我将它设置为每天早上 7 点运行，然后无论报告运行多少次，都整天向经理显示相同的缓存报告。

# php - 如何快速确定用户附近是否有多个地方 - Google Places API

> ID：10844751
> 
> 赞同：2
> 
> 时间：2012-06-01T05:12:46.240
> 
> 标签：php, javascript, google-places-api

我正在设计一个网络应用程序，我需要确定我的数据库中列出的哪些地方在用户的行驶距离内。

这是我目前正在使用的过程的广泛概述 -

1.  通过 Google 的 map api 获取用户当前位置
2.  遍历我的数据库中的每个地方（大约 100 个），使用 google places api 检查该地方是否在用户驾驶距离之内。我返回并使用 PHP 解析 JSON 文件，以查看在给定用户坐标的情况下是否存在任何位置。
3.  如果地点在用户驾驶距离显示顶部位置（谷歌地点限制为 20 个），否则不显示

当我跑过几个地方时，这个过程工作得很好，但是跑过 100 个地方要慢得多，并且会进行 100 次 api 调用。根据 Google 目前每天 100,000 次通话的限制，这可能会成为未来的问题。

那么有没有更好的方法来确定我的数据库中的哪些地方在用户的驾驶距离之内？我不想跟踪我的数据库中的地址，我想依靠谷歌。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T17:59:59.890

您可以使用此处找到的公式来计算邮政编码之间的距离：

[http://support.sas.com/kb/5/325.html](http://support.sas.com/kb/5/325.html)

这并不精确（门阶到门阶），但您可以计算从用户的邮政编码到该位置的邮政编码的距离。

使用这种方法，您甚至不必访问 Google 的 API。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-23T18:33:54.850

我有一个非常规的想法给你。当您第一次想到它时，这将是非常非常奇怪的，因为它的执行顺序与您期望的*完全相反。*但是，您可能会看到其中的逻辑。

为了将其付诸实施，您需要一个广泛类别的内容，您希望用户看到这些内容。例如，我将选择“超市”。

作为谷歌地方的一部分，有一个很棒的 AP​​I，称为 nearSearch。它真正的奇迹是允许您按距离对地点进行排名。我们将利用这一点。

# 先决条件

*   修改您的数据库并存储在附近搜索地点返回的唯一 ID。这不违反 ToS，我们需要这个
*   获取这些 ID 的列表。

# 计划

当您获得用户的位置时，查询附近搜索您的类别，并使用以下约束循环遍历结果：

*   如果结果的 ID 与您的数据库中的某些内容匹配，那么您就有了该结果。奖励＃1：它按距离升序排序！奖励 #2：您已经获得了 lat-loc！
*   如果结果的 ID 不匹配，您可以静默地跳过它或使用它并将其添加到您的数据库中。这意味着您可以毫不夸张地即时更新您的数据库，而无需手动工作作为额外的奖励。

完成请求后，您将获得从未出现在结果中的 ID。计算谷歌数据中最远结果的点对点距离，您将获得与您的点的最大距离。如果这太小，请使用我在[此处](https://stackoverflow.com/a/16059014/2167834)描述的技术进行复合搜索。

唯一的要求是：**您需要大致了解要搜索的内容**。但是，请考虑这一点：您的正常查询周期会将您带到 1 到 100 个 google 查询之间。我的方法在 50 公里半径范围内取 1。:-)

顺便说一下，要计算距离，您将需要 Haversine 的公式，而不是进行邮政编码查找。这具有真正国际化的额外优势。

## 重要警告

这种搜索方式直接取决于你所知道的地点和距离之间的权衡。如果您正在寻找小于 10 公里的半径，请使用此方法仅生成一个请求。

但是，如果您必须进行复合搜索，请记住每个请求周期将花费您 3N，其中 N 是上一个周期生成的查询数。因此，如果您在 100 公里半径内只有 3 个地点，则单独查找每个地点更有意义。

# eclipse - 如何在 Eclipse IDE 编辑器中设置一行代码的快捷方式

> ID：10844757
> 
> 赞同：2
> 
> 时间：2012-06-01T05:13:11.020
> 
> 标签：eclipse, delphi, ide, editor, shortcut

我正在使用 eclipse 中的一个功能，它允许我为一行分配一个快捷方式（比如第 55 行），然后转到同一个文件中的其他位置并点击快捷方式，然后 IDE 向我显示第 55 行。我在德尔福IDE。使用 CNTL + 数字键 [1,2,...,0] 将创建光标所在行的快捷方式。此快捷方式仅在编辑器内有效，每个打开的文件都有自己的快捷方式。eclipse有这样的功能吗？是否有任何插件可以将此功能添加到eclipse？

问候，

阿里

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-01T12:54:37.737

默认情况下，没有为此任务定义快捷方式。我用来在 Eclipse 中定义我的快捷方式，在过滤器文本中的“Windows/Preferences/General/Keys”中键入书签，然后选择要定义快捷方式的命令。

我目前的快捷方式是：

1.  `Alt+Shift+B, Alt+Shift+A`： 添加书签;
2.  `Alt+Shift+B, Alt+Shift+V`：显示视图（书签）；

但是，我同意，仍然不如 Delphi 预定义的快捷方式快。

**更新 1：** [这个插件](http://etc.to/eclipse_bookmarks_plugin)（或其继承者）似乎提供了这个选项。从他们的网站：

> *   在光标处添加编号书签：Alt>+[digit]。这将使用“单次”按键创建具有指定编号的快速书签。工作区中只能存在一个给定编号的书签。再次设置相同的数字书签将清除较早的实例。
>     
>     
> *   转到编号书签：Alt+Shift+[digit]。移动到使用 Alt+[digit] 设置的书签。

**更新 2：** 经过测试（Eclipse Indigo），它就像一个魅力。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T05:29:32.217

您可以将书签添加到您认为在 eclipse 中对您很重要的代码片段中。

我出于同样的目的引用[了这个](http://sandarenu.blogspot.com/2008/02/using-bookmarks-in-eclipse.html)链接。

# mysql - 我应该重新安装Mysql吗？

> ID：10844762
> 
> 赞同：0
> 
> 时间：2012-06-01T05:14:07.810
> 
> 标签：mysql, osx-lion

我在这里变得有点绝望，试图让 mysql 在 osx lion 上工作。

在过去的几天里，我几乎浏览了网络上的每一篇文章，寻找解决错误问题的方法。

当我尝试启动服务器时出现此错误：

无法通过套接字 '/tmp/mysql.sock' 连接到本地 MySQL 服务器 (2)

当我尝试使用“rake db:create”创建数据库时，它给出了同样的错误。

有时它会这样说，或者我收到有关“请安装 gem-blabhalbhabhlb”的错误。而那颗宝石并不存在。

我能够使用 mysql 网站上的 dmg 版本在终端中安装 mysql，但是在我删除安装文件后它就停止工作了——就像我运行时一样

耙光盘：创建

我收到 mysql.sock 错误。

我要疯了..请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T10:29:28.477

对我来说，我经常需要强制 mysql 不使用 unix 套接字，而是使用常规的 php 套接字。为此，请连接到 127.0.0.1 而不是 localhost。90% 的时间都在工作，一直在工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T13:16:03.170

主要归功于 John P. 昨晚帮助我完成这项工作

首先是使用“brew uninstall mysql”卸载 mysql。

然后从他们的开发站点安装 mysql。社区 .dmg 64 位版本。

然后找出路径指向的位置。

因此，在更新路径时，他必须找到 bin/mysql 所在的位置，并确保 bash_profile 有它的路径。

```
PATH=$PATH:/usr/local/mysql/bin 
```

之后的基本步骤是“获取”文件，所以他让我运行这个命令。

```
source ~/.bash_profile 
```

从那里mysql可以完美地工作。

# php - PHP SQL 表单插入详细信息

> ID：10844766
> 
> 赞同：0
> 
> 时间：2012-06-01T05:14:33.037
> 
> 标签：php, sql, forms, insert

> **可能重复：**
> [PHP SQL 表单插入](https://stackoverflow.com/questions/10844457/php-sql-form-insert)

我制作了一个表格来接受输入并将它们插入表格中。它不插入“雇员”表中的值，而是只插入密码；数据库管理员也是如此。该怎么办？？其他字段留空。任何帮助都会很棒。

```
<?php
    //include the connection file

    require_once('connection.php');
    require_once("validation.php");

    if( isset($_POST['send']) && (!validateName($_POST['name']) || !validateEmail($_POST['email']) || !validatePasswords($_POST['pass1'], $_POST['pass2']) || !validateContact($_POST['contact']) || !validateAge($_POST['age'])) ):?>
                <div id="error">    
                    <ul>
                        <?php if(!validateName($_POST['name'])):?>
                            <li><strong>Invalid Name:</strong> We want names with more than 3 letters.</li>
                        <?php endif?>
                        <?php if(!validateEmail($_POST['email'])):?>
                            <li><strong>Invalid E-mail:</strong> Type a valid e-mail please.</li>
                        <?php endif?>
                        <?php if(!validatePasswords($_POST['pass1'], $_POST['pass2'])):?>
                            <li><strong>Passwords are invalid:</strong> Passwords doesnt match or are invalid!</li>
                        <?php endif?>
                        <?php if(!validateContact($_POST['contact'])):?>
                            <li><strong>Please enter your contact number.</strong></li>
                        <?php endif?>
                        <?php if(!validateAge($_POST['age'])):?>
                            <li><strong>Please enter your age</strong></li>
                        <?php endif?>
                        </ul>
                </div>
            <?php elseif(isset($_POST['send'])):?>
                <div id="error" class="valid">
                    <ul>
                    <?php $query = "INSERT INTO employee (name, password, email, contact, age, gender, location, skill) VALUES ";                           
                    $query .= "('$name', '$password', '$email','$contact','$age','$gender','$location','$skill')";
                    // run the query
                    mysql_query($query);?>
                        <li><strong>Congratulations!</strong> All fields are OK ;)</li>
                    </ul>
                </div>
        <?php endif?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:23:16.053

重复的问题......这是答案：

我已经为您编写了完整的代码：

```
<form action="<?php echo $editFormAction; ?>" method="post" name="form1" id="form1">
  <table align="center">
  <tr valign="baseline">
  <td nowrap="nowrap" align="right">Name:</td>
  <td><input type="text" name="name" value="" size="32" /></td>
</tr>
<tr valign="baseline">
  <td nowrap="nowrap" align="right">Email:</td>
  <td><input type="text" name="email" value="" size="32" /></td>
</tr>
<tr valign="baseline">
  <td nowrap="nowrap" align="right">Pass1:</td>
  <td><input type="text" name="pass1" value="" size="32" /></td>
</tr>
<tr valign="baseline">
  <td nowrap="nowrap" align="right">Contact:</td>
  <td><input type="text" name="contact" value="" size="32" /></td>
</tr>
<tr valign="baseline">
  <td nowrap="nowrap" align="right">Age:</td>
  <td><input type="text" name="age" value="" size="32" /></td>
</tr>
<tr valign="baseline">
  <td nowrap="nowrap" align="right">&nbsp;</td>
  <td><input type="submit" value="Insert record" /></td>
</tr>
</table>
<input type="hidden" name="id" value="" />
<input type="hidden" name="MM_insert" value="form1" />
</form>
<p>&nbsp;</p>
<?php require_once('../../../Connections/yourconnection.php'); ?>
<?php
if (!function_exists("GetSQLValueString")) {
function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") 
{
if (PHP_VERSION < 6) {
$theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
}

$theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

switch ($theType) {
case "text":
  $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
  break;    
case "long":
case "int":
  $theValue = ($theValue != "") ? intval($theValue) : "NULL";
  break;
case "double":
  $theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
  break;
case "date":
  $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
  break;
case "defined":
  $theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
  break;
}
return $theValue;
}
}

$editFormAction = $_SERVER['PHP_SELF'];
if (isset($_SERVER['QUERY_STRING'])) {
$editFormAction .= "?" . htmlentities($_SERVER['QUERY_STRING']);
}

if ((isset($_POST["MM_insert"])) && ($_POST["MM_insert"] == "form1")) {
$insertSQL = sprintf("INSERT INTO employee (id, name, email, pass1, contact, age) VALUES (%s, %s, %s, %s, %s, %s)",
                   GetSQLValueString($_POST['id'], "int"),
                   GetSQLValueString($_POST['name'], "text"),
                   GetSQLValueString($_POST['email'], "text"),
                   GetSQLValueString($_POST['pass1'], "text"),
                   GetSQLValueString($_POST['contact'], "text"),
                   GetSQLValueString($_POST['age'], "text"));

mysql_select_db($database_yourdatabase, $databasename);
$Result1 = mysql_query($insertSQL, $databasename) or die(mysql_error());

$insertGoTo = "sucess.php";
if (isset($_SERVER['QUERY_STRING'])) {
$insertGoTo .= (strpos($insertGoTo, '?')) ? "&" : "?";
$insertGoTo .= $_SERVER['QUERY_STRING'];
}
header(sprintf("Location: %s", $insertGoTo));
}

mysql_select_db($database_yourdatabase, $databasename);
$query_query = "SELECT * FROM employee";
$query = mysql_query($query_query, $databasename) or die(mysql_error());
$row_query = mysql_fetch_assoc($query);
$totalRows_query = mysql_num_rows($query);

mysql_free_result($query);
?> 
```

希望能帮助到你！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T05:27:30.433

试试这个，你必须使用 mysql_real_escape_string 来防止 sql 注入......

```
 <?php
      //include the connection file

      require_once('connection.php');
      require_once("validation.php");

if( isset($_POST['send']) && (!validateName($_POST['name']) || !validateEmail($_POST['email']) || !validatePasswords($_POST['pass1'], $_POST['pass2']) || !validateContact($_POST['contact']) || !validateAge($_POST['age'])) ):?>
            <div id="error">    
                <ul>
                    <?php if(!validateName($_POST['name'])):?>
                        <li><strong>Invalid Name:</strong> We want names with more than 3 letters.</li>
                    <?php endif?>
                    <?php if(!validateEmail($_POST['email'])):?>
                        <li><strong>Invalid E-mail:</strong> Type a valid e-mail please.</li>
                    <?php endif?>
                    <?php if(!validatePasswords($_POST['pass1'], $_POST['pass2'])):?>
                        <li><strong>Passwords are invalid:</strong> Passwords doesnt match or are invalid!</li>
                    <?php endif?>
                    <?php if(!validateContact($_POST['contact'])):?>
                        <li><strong>Please enter your contact number.</strong></li>
                    <?php endif?>
                    <?php if(!validateAge($_POST['age'])):?>
                        <li><strong>Please enter your age</strong></li>
                    <?php endif?>
                    </ul>
            </div>
        <?php elseif(isset($_POST['send'])):?>
            <div id="error" class="valid">
                <ul>
                <?php $query = "INSERT INTO employee (name, password, email, contact, age, gender, location, skill) VALUES ";                           
                $query .= "('".$_POST['name']."', '".$_POST['pass1']."', '".$_POST['email']."','".$_POST['contact']."','".$_POST['age']."','".$_POST['gender']."','".$_POST['location']."','".$_POST['location']."')";
                // run the query
                mysql_query($query);?>
                    <li><strong>Congratulations!</strong> All fields are OK ;)</li>
                </ul>
            </div>
    <?php endif?> 
```

# c++ - 寻找圆边：

> ID：10844768
> 
> 赞同：1
> 
> 时间：2012-06-01T05:14:45.113
> 
> 标签：c++, image, image-processing

寻找圆边：

这是我发布的两个示例图像。

需要找到圆的边缘：

是否有可能开发一种通用的圆算法，可以在所有场景中找到所有可能的圆？如下图 1\. 圆圈可能有不同的颜色（白色、黑色、灰色、红色） 2\. 背景颜色可能不同 3\. 大小不同

[http://postimage.org/image/tddhvs8c5/](http://postimage.org/image/tddhvs8c5/)

[http://postimage.org/image/8kdxqiiyb/](http://postimage.org/image/8kdxqiiyb/)

请提出一些想法来编写一个应该在上述圆圈上运行的算法

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T07:06:27.320

听起来像是霍夫圆变换的工作：

![霍夫麦片](../Images/8df425fdc32cc275c67e6f433bdd572e.png)

到目前为止，我自己还没有使用过它，但它包含在 OpenCV 中。在其他参数中，您可以为其指定最小和最大半径。

以下是[文档](http://opencv.itseez.com/modules/imgproc/doc/feature_detection.html?highlight=houghcircles#houghcircles)和[教程](http://opencv.itseez.com/doc/tutorials/imgproc/imgtrans/hough_circle/hough_circle.html)的链接。

我想您的第二张示例图片将很难检测到

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T05:45:49.683

您可以对两个图像应用边缘检测转换。

这是我在 Paint.NET 中使用轮廓效果所做的：

![圈 1](../Images/14b448e49934242083b79d7fde769b20.png) ![圈子 2](../Images/291efe509c1069a077e9ccde44b55fb8.png)

您也可以测试边缘检测，但这需要图像中的更多对比度。

要考虑的另一件事是您要检测的确切内容；在第一张图片中，您要检测白色环还是里面的圆盘。在第二张图片中；你想检测所有的圆圈（有很多小圆圈）还是只检测大圆圈。这些要求将影响要使用的转换以及如何初始化这些转换。

将图像转换为“突出显示”圆圈的版本后，您需要一种算法来找到它们。

同样，有更多的选择，而不仅仅是一个。[这是一篇描述算法的论文](http://home.uchicago.edu/~borovicka/files/research/bristol/hough-report.pdf)

在网上搜索`image processing circle recognition` 会得到很多结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T06:21:59.983

我认为您将不得不使用一些可用于分割的不同特征计算。在第一张图片中，圆圈仅通过强度即可识别，因此很容易。在第二张图片中，区分圆边缘的主要是纹理，在这种情况下，将需要基于某种纹理过滤器的特征图像，例如计算局部方差将产生一个标量图像，可以分割出圆圈。如果在其他场景中有其他定义圆的特征（背景前景的不同颜色等），您可能需要其他显式过滤器来为这些情况提供标量差异。

当你有圆圈突出的标量图像时，你可以使用圆形霍夫变换来找到圆圈。要么针对不同的圆圈大小运行它，要么对其进行修改以检测一系列大小。

如果您知道只有一个圆圈并且您知道将出现的噪声类型（垂直/水平线等），另一种方法是设计一种更具体的算法，例如滤除噪声并找到重心等。

对评论的回答：这个想法是将算法分成独立的阶段。我不知道你的具体算法是如何工作的，但大概它可以采用二进制或灰度图像，其中高值意味着圆的像素部分和低值的像素不是圆的一部分，本算法还需要给出某种置信度值在它找到的圆圈上。该当前算法随后将代表完整算法结束时的某个阶段。然后，您必须添加第一阶段，即为您要处理的所有类型的输入生成特征图像。对于这两个例子，一张强度图像（简单灰度）和一张每个像素代表局部方差的图像就足够了。在颜色情况下，颜色转换是否可能使用色调值？对于每个输入将所有特征图像提供给后期阶段，使用置信度值来选择最有可能的候选者。如果您的算法需要其他未知数作为输入参数（圆大小等），只需迭代可能的值并确保您的后期阶段返回置信度值。

# bash - 如何在 Ubuntu（或任何 Linux）上使用 SSFT（Shell 脚本前端工具）？

> ID：10844772
> 
> 赞同：1
> 
> 时间：2012-06-01T05:15:13.807
> 
> 标签：bash, shell, dialog, zenity

我找不到[ssft](http://packages.ubuntu.com/search?keywords=ssft)的手册页或任何帮助。我想在我的 bash 脚本中使用它来选择 kdialog（如果在 KDE 上）或 zenity（如果在 gnome 上）。

请参阅[Shell 脚本前端工具](http://mixinet.net/~sto/blog/debian/20060214_ssft/)

帮助页面肯定在某个地方，但我必须忽略它们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:31:10.607

我现在正在运行稳定的 Debian 6.0 Squeeze，它有一个用于`ssft.sh`. 试试`man ssft.sh`。如果那不能满足您的要求，请告诉我，您和我会弄清楚是什么。

*更新：* 好的。您已经尝试了联机帮助页，但它并没有告诉您您想知道什么。Ssft 似乎不存在任何更详尽的文档（也许，当这一切都结束时，您将编写并贡献该文档）。然而，在 Ssft 的源代码中似乎是一个测试脚本，它使软件执行其设计的各种操作。有时，一个好的例子甚至比手册更好。该测试脚本可能正是您所需要的。

要提取测试脚本，请发出一系列命令，如以下序列。

```
$ cd /tmp
$ apt-get source ssft
$ ls
$ cd ssft-0.9.13 # (Your version number may differ from 0.9.13.)
$ ls
$ cd tests
$ ls 
```

当我执行上述操作时，最后一个`ls`清单显示了一个名为`ssft-test.sh`. 在那个脚本里面似乎有几个如何`ssft.sh`正确使用的例子。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T05:27:54.543

[http://man.devl.cz/man/1/ssft.sh](http://man.devl.cz/man/1/ssft.sh)

ssft.sh(1)
SSFT
名称

ssft.sh - shell 脚本前端函数库

. ssft.sh
说明

ssft.sh 是一个必须来自其他脚本的 shell 函数库。如果脚本在没有参数的情况下执行，它会打印一条使用消息，并且还支持选项--doc、--help 和--version。

要获取可用函数的列表，请使用 --doc 参数调用脚本，并使用 --doc FUNCTION_NAME 获取给定函数调用脚本的描述。

在典型情况下，必须获取库的来源，并且必须将 SSFT_FRONTEND 变量设置为所需的前端（zenity、对话框或文本）；如果未设置变量，则默认前端是非交互式的。

要选择理论上最好看的前端，请使用函数 ssft_choose_frontend，如下所示：

```
. ssft.sh [ -n "$SSFT_FRONTEND" ] || SSFT_FRONTEND="$( ssft_choose_frontend )" 
```

由塞尔吉奥·塔伦斯-奥利亚格撰写。

$ /usr/bin/ssft.sh
Shell Script Frontend Tool (version 0.9.13)
Usage: . ssft.sh

直接调用时，程序支持以下选项：

*   -d,--doc [FUNCTIONS] 打印可用函数的列表。如果给定函数名称，则打印函数的文档。
*   -h,--help 这条信息
*   -v,--version 文件版本

职能：

```
$ /usr/bin/ssft.sh -d 

ssft_set_textdomain
ssft_reset_textdomain
ssft_choose_frontend
ssft_print_text_title
ssft_display_message
ssft_display_error
ssft_display_emsg
ssft_file_selection
ssft_directory_selection
ssft_progress_bar
ssft_read_string
ssft_read_password
ssft_select_multiple
ssft_select_single
ssft_yesno
ssft_show_file 
```

# c# - 如何通过java脚本填充asp下拉列表？

> ID：10844777
> 
> 赞同：3
> 
> 时间：2012-06-01T05:16:05.997
> 
> 标签：c#, javascript, jquery, .net, drop-down-menu

我在 aspx 页面中有一个 asp 列表框。通过外部 java 脚本，我需要手动填充列表框。如何访问javascript中的列表框？它需要 jquery 吗？我正在将 java 脚本动态附加到 aspx 页面。我没有对 java 脚本使用任何包含/导入语句。所以我无法使用`"Document"`对象。如何`new ListItem()`在 java 脚本代码中创建来填充它？

有没有替代方法？请在这种情况下帮助我。提前致谢。早期反应表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:21:18.853

您可以使用列表框 id 访问列表框

```
 var Lbox   document.getElementById(<'<%= ListBox.ClientId %>');
 var option = document.createElement("option");
 option.value = '1';
 option.innerHTML = 'Option 1';
 Lbox.appendChild(option); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:21:36.183

您可以通过多种方式进行操作。您可以通过以下方式获取列表框：

```
var myListBox = document.getElementById(<'<%= myListBox.ClientId %>') 
```

或者使用 Jquery：

```
$('#<%= myListBox.ClientId %>') 
```

您还可以将 clientidmode 设置为 static，它将使用与 aspx 页面上相同的 id，因此您可以使用：

```
$('#myListBox') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-01T05:35:12.180

> 1.  我正在将 java 脚本动态附加到 aspx 页面。我没有对 java 脚本使用任何包含/导入语句。所以我无法使用“文档”对象。

动态绑定脚本不会阻止您使用文档。你可以这样做。[详情](http://msdn.microsoft.com/en-us/library/aa479011.aspx)

```
Page.RegisterClientScriptBlock("MyScript", _
   "<script language=javascript src='MyJavaScriptFile.js'>"); 
```

> 2\. 通过外部 java 脚本，我需要手动填充列表框。如何访问javascript中的列表框

您可以使用 ajax 从服务器获取数据以进行下拉。如果您不需要来自服务器的数据，您可以省略 ajax 部分。[**详情请关注这篇文章**](http://www.codedigest.com/Articles/jQuery/224_Building_Cascading_DropDownList_in_ASPNet_Using_jQuery_and_JSON.aspx)

在 HTML 部分

```
 <asp:DropDownList ID="ddlCities" runat="server"> </asp:DropDownList> 
```

在 Javascript 部分

```
 $.getJSON('LoadCities.ashx?StateID=' + StateID, function(cities) {
       $.each(cities, function() {                        
          $("#ddlCities").append($("<option> </option>").val(this['ID']).html(this['City']));

        });
  });
          ​ 
```

# javascript - 重点是在 jquery 中验证 datepicker 字段

> ID：10844778
> 
> 赞同：0
> 
> 时间：2012-06-01T05:16:17.400
> 
> 标签：javascript, jquery, jquery-ui

重点是在 jquery 中验证 datepicker 字段，它显示我打开日历。我只想验证消息而不是日期选择器的弹出窗口。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:29:13.203

从您的方法中快速破解：

```
$.validator.addMethod("endDate", function(value, element) { 

        var startDate = $('#txt_reg_form').val(), 
        ret = Date.parse(startDate) <= Date.parse(value) || value == ""; 

        if(!ret){ /*IF NOT VALID DATE*/

            /*TRY DISABLING DATEPICKER FOR A MOMENT*/
            $("#txt_reg_form").datepicker('disable');

            /*SET TIMEOUT TO ENABLE IT AFTER 1 SECOND*/
            setTimeout(function(){
                   $("#txt_reg_form").datepicker('enable');
               }, 1000);
        }
        return ret;
   }
    , "To date should be greater then From date"
); 
```

~~如果 a`datepicker`与一个字段相关联，它将弹出日历关注该字段。您可以通过以下代码更改显示弹出窗口的默认行为`focus`以在单击按钮/图标时显示它：~~

 ~~```
$( "#datepicker" ).datepicker({
    showOn: "button",
    buttonImage: "images/calendar.gif",
    buttonImageOnly: true
}); 
```~~

# prolog - 运行函数，所有可能性都来自其他函数

> ID：10844782
> 
> 赞同：2
> 
> 时间：2012-06-01T05:17:00.400
> 
> 标签：prolog, prolog-setof

我有两个谓词：

```
foo(Y,X)
bar(Y,Z) 
```

运行 foo 后，如何在 Y 的所有可能性下运行 bar？

例子：

```
foo(Y, key) % all possibilities of Y => chat 
            %                           faq 
            %                           about
            %                           search 
```

我怎样才能在所有这些可能性中运行酒吧？

```
bar(chat, Z)
bar(faq, Z)
bar(about, Z)
bar(serach, Z) 
```

然后将所有结果存储`Z`在列表中`Zs`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T09:26:49.520

foo/2 和 bar/2 已经在*join*中，每次运行 foo/2 bar/2 后都会尝试。

也许您正在寻找`forall(foo(Y,X), bar(Y,Z))`，它运行foo/2 的*所有*可能性，*然后*是bar/2。即要求 bar/2 不会失败。

要了解 forall/2 以及其他*所有内置解决方案*（如 setof/3）的行为，可以使用非常简单的内置函数进行有用的测试，并具有众所周知的行为：

```
?- forall(member(X,[f,o,o]),(member(Y,[b,a,r]),writeln(X-Y))).
f-b
o-b
o-b
true. 
```

您可以看到 forall 的完整解决方案搜索适用于它的第一个参数，而不是第二个参数。

高温高压

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T06:32:00.773

我想你想要这样的东西：

```
barOnList([], []).
barOnList([Y|Ys], [Z|Zs]) :- bar(Y, Z), barOnList(Ys, Zs). 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T08:53:18.653

```
allZs(X, Zs) :-
    setof(Y, foo(Y, X), Ys),
    maplist(bar, Ys, Zs). 
```

相关的 SWI-Prolog 手册页：[Finding all Solutions to a Goal](http://www.swi-prolog.org/pldoc/man?section=allsolutions) and [library apply](http://www.swi-prolog.org/pldoc/man?section=apply)

注意：通常在 Prolog 中，约定是将输入参数放在输出参数之前 - 在你的第一个谓词中，这意味着`foo(X, Y)`而不是`foo(Y, X)`. 加上这里它概述了传递性：`foo(X, Y), bar(Y, Z).`.

# c# - C# 中的 Guice 等价物

> ID：10844787
> 
> 赞同：10
> 
> 时间：2012-06-01T05:17:47.390
> 
> 标签：c#, java, inversion-of-control, guice

我是一名 Java 开发人员，我大量使用 Guice。现在我想学习 C#，但令我惊讶的是，我还没有找到与 Guice 等价的工具。我刚刚找到了 Ninject、Unity、StructureMap 等工具，但我正在寻找更多像 Guice 这样的工具。我不想手动写下我的所有注册......那么最好的选择是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-01T05:38:47.950

我最喜欢的是[Ninject](http://www.ninject.org/)。它有一个插件可以根据约定自动注册组件。

我实际上正在编写一个开源库来自动注册组件；它旨在支持我们在 .NET 中拥有的大多数当前 IoC 容器。这是您感兴趣的链接：[https](https://github.com/jupaol/NAutoRegister) ://github.com/jupaol/NAutoRegister （查看开发者分支）。

使用[AutoFac](https://code.google.com/p/autofac/)，您也可以轻松注册组件。

我已经检查了 Guice，它简直太棒了。一个好的举措是将 Guice 移植到 .Net，就像许多其他 Java 工具一样。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-01T05:34:00.377

我没有使用过 Guice，所以如果您谈论组件的自动注册，许多 IOC 容器都提供了某种装配扫描。

查看[AutoFac](http://code.google.com/p/autofac/wiki/Scanning)的文档，您可以看到它非常容易注册组件。

```
var dataAccess = Assembly.GetExecutingAssembly();

builder.RegisterAssemblyTypes(dataAccess)
    .Where(t => t.Name.EndsWith("Repository"))
    .AsImplementedInterfaces(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-03-23T13:42:44.787

我已经为 C# 制作了一个 Guice 端口，其中包含一些我最喜欢的功能。相当小的代码库，但已通过 Unity3D 在超过 50M 的设备上使用，而且可能更多，因为我刚刚发现迪士尼目前也在使用它。

[https://github.com/disturbing/suice](https://github.com/disturbing/suice)

# solr - nutch 与 solr 索引

> ID：10844792
> 
> 赞同：10
> 
> 时间：2012-06-01T05:18:23.103
> 
> 标签：solr, lucene, nutch

我最近开始研究 nutch，我试图了解它是如何工作的。据我所知，Nutch 基本上是用来爬网的，而 solr/Lucene 是用来索引和搜索的。但是当我阅读有关 nutch 的文档时，它说 nutch 也可以进行倒排索引。它是在内部使用 Lucene 来进行索引，还是有其他一些用于索引的库？如果它使用 solr/lucene 进行索引，那么为什么需要像 nutch 教程所说的那样使用 nutch 配置 solr？

默认情况下是否完成索引。我的意思是我运行这个命令开始爬行。索引是否在这里发生？

```
bin/nutch crawl urls -dir crawl -depth 3 -topN 5 
```

或者索引仅在这种情况下发生。（根据教程：如果您已经设置了 Solr 核心并希望对其进行索引，则需要将 -solr 参数添加到您的爬网命令中，例如）

```
bin/nutch crawl urls -solr http://localhost:8983/solr/ -depth 3 -topN 5 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-01T09:38:51.783

看看[这里](http://wiki.apache.org/nutch/NutchTutorial#A3.2_Using_Individual_Commands_for_Whole-Web_Crawling)可能会有用。当您运行第一个命令时：

```
bin/nutch crawl urls -dir crawl -depth 3 -topN 5 
```

您正在爬行，这意味着 nutch 将创建自己的内部数据，包括：

*   爬虫数据库
*   链接数据库
*   一组段

您可以在以下目录中看到它们，这些目录是在您运行 crawl 命令时创建的：

*   抓取/crawldb
*   抓取/链接数据库
*   抓取/细分

您可以将这些数据视为某种数据库，其中 nutch 存储爬网数据。这与倒排索引无关。

在爬网过程之后，您可以在 Solr 实例上索引您的数据。您可以抓取然后索引运行单个命令，这是您问题中的第二个命令：

```
bin/nutch crawl urls -solr http://localhost:8983/solr/ -depth 3 -topN 5 
```

否则，您可以在 crawl 命令之后运行第二个命令，专门用于索引到 Solr，但您必须提供 crawldb、linkdb 和段的路径：

```
bin/nutch solrindex http://localhost:8983/solr/ crawldb -linkdb crawldb/linkdb crawldb/segments/* 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-31T04:10:30.700

您可能会对旧版 Nutch 版本和相关的在线文档感到困惑。最初它创建了自己的索引并拥有自己的网络搜索界面。使用 Solr 成为需要额外配置和摆弄的选项。从 1.3 开始，索引和服务器部分被剥离，现在假设 Nutch 将使用 Solr。

# mysql - MYSQL - #1005 - 无法创建表 'dbwms.t_trucks' (errno: 150)

> ID：10844793
> 
> 赞同：0
> 
> 时间：2012-06-01T05:18:32.973
> 
> 标签：mysql, sql, mysql-error-1005

我是 mysql 的新手，并且有随附的代码来生成数据库和表。前 2 个表生成良好，但出现上述错误（在主题行中）。你能帮忙吗？

```
CREATE DATABASE IF NOT EXISTS dbwms DEFAULT CHARACTER SET `utf8`;

USE dbwms;

CREATE TABLE IF NOT EXISTS t_truck_types (
f_pk_ma_truck_type SMALLINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
f_sa_truck_type CHAR(4) NOT NULL UNIQUE, INDEX(f_sa_truck_type),
f_truck_length TINYINT
) ENGINE=InnoDB DEFAULT CHARACTER SET `utf8`;

CREATE TABLE IF NOT EXISTS t_truck_vendors (
f_pk_ma_truck_vendor_id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
f_sa_truck_vendor_id SMALLINT UNSIGNED NOT NULL UNIQUE, INDEX(f_sa_truck_vendor_id),    
f_truck_vendor_nickname VARCHAR(12) NOT NULL UNIQUE, INDEX(f_truck_vendor_nickname)
) ENGINE=InnoDB DEFAULT CHARACTER SET `utf8`;

CREATE TABLE IF NOT EXISTS t_trucks (
f_pk_ma_truck_id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
f_truck_license_plate VARCHAR(15) NOT NULL UNIQUE, INDEX(f_truck_license_plate),
f_fk_ma_truck_type SMALLINT UNSIGNED NOT NULL,
f_fk_ma_truck_vendor_id SMALLINT UNSIGNED NOT NULL,
FOREIGN KEY (f_fk_ma_truck_type) REFERENCES t_truck_types(f_pk_ma_truck_type),
FOREIGN KEY (f_fk_ma_truck_vendor_id) REFERENCES t_truck_vendors(f_pk_ma_truck_vendor_id)
) ENGINE=InnoDB DEFAULT CHARACTER SET `utf8`; 
```

在此先感谢您的帮助。

斯贝特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:27:16.097

那是因为`f_fk_ma_truck_type`in`t_trucks`定义为`UNSIGNED`. 主键和外键都应该是同一类型。你可以`unsigned`删除`t_trucks`

```
CREATE TABLE IF NOT EXISTS t_trucks (
f_pk_ma_truck_id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
f_truck_license_plate VARCHAR(15) NOT NULL UNIQUE, INDEX(f_truck_license_plate),
f_fk_ma_truck_type SMALLINT NOT NULL,
f_fk_ma_truck_vendor_id SMALLINT UNSIGNED NOT NULL,
FOREIGN KEY (f_fk_ma_truck_type) REFERENCES t_truck_types(f_pk_ma_truck_type),
FOREIGN KEY (f_fk_ma_truck_vendor_id) REFERENCES t_truck_vendors(f_pk_ma_truck_vendor_id)
) ENGINE=InnoDB DEFAULT CHARACTER SET `utf8`; 
```

或在`t_truck_types`声明中添加

# ruby-on-rails - Spring MVC 以 Rails 的方式支持 Ajax

> ID：10844803
> 
> 赞同：1
> 
> 时间：2012-06-01T05:20:29.777
> 
> 标签：ruby-on-rails, spring, spring-mvc, spring-roo

我从 Spring 和 Spring ROO 开始，因为没有过去的 Java 开发经验。过去 1.5 年的 Ruby on Rails 开发经验。所以我的新公司希望我使用 Spring 和 Spring ROO 没有 Grails/Groovy:(。由于没有过去的 JAVA 开发经验，在理解 XML 和注释支持的配置方面遇到了很多困难。虽然我涵盖了基础知识，但现在我正在寻找找到一种方式，让 Spring 支持 Ajax 调用实体的 CRUD 操作或 Javascript 调用来执行我作为远程真实 URL 点击的结果得到的脚本。作为 Rails 框架（rails.js）。

希望与 ROR 和 Spring ROO 一起工作的人可能是回答我问题的最佳人选。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-04T08:42:35.760

要实现 CRUD 操作，我可能建议您使用 REST 服务。使用 Spring MVC 很容易创建。

[春季博客](http://blog.springsource.org/2009/03/08/rest-in-spring-3-mvc/)

[好的例子](http://www.ibm.com/developerworks/webservices/library/wa-spring3webserv/index.html)

[另一个快速的例子](https://stackoverflow.com/questions/4841498/how-to-design-a-spring-mvc-rest-service)

当然还有[Spring 文档](http://static.springsource.org/spring/docs/3.0.0.M3/spring-framework-reference/html/ch18s02.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-04T08:50:02.813

这是我之前回答的一部分：

我对您的建议是下载 spring 源代码（Eclipse 之类的 IDE）：

[http://www.springsource.org/springsource-tool-suite-download](http://www.springsource.org/springsource-tool-suite-download)

下载后，你可以简单地去`File > New > Spring Template Project > Spring MVC project`

完成创建项目后，将为您创建工作模板项目（结构化项目、示例控制器文件、示例视图、pom.xml 等）。您可以构建它并将其部署到 tomcat 或其他任何东西。

顺便提一句。看一下这个 ：

[https://github.com/SpringSource/spring-mvc-showcase/blob/master/MasteringSpringMVC3.pdf?raw=true](https://github.com/SpringSource/spring-mvc-showcase/blob/master/MasteringSpringMVC3.pdf?raw=true)

足以让您开始使用 Spring MVC。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-11T03:49:45.593

我曾经遇到过同样的问题（我曾经开发过 Groovy/Grails，然后切换到 Spring MVC）。不幸的是，我认为没有一种简单的方法可以满足您在 Spring 中的要求。Spring 没有太多提高生产力的功能，但它提供了灵活性。

简而言之，您将能够使用 Ajax，但需要进行更多手动配置（纯 html/javascript - [jQuery](http://www.jquery.com)和 java 代码） - 就像在 Vacuum 回答中一样。

[Jquery ajax](http://api.jquery.com/jQuery.ajax/)可能是您能找到的最佳解决方案，尽管它仅帮助您将 CRUD 请求发送到服务器端。您必须在服务器上编写 java 代码来处理这些请求。

# facebook - 未批准的打开图表操作

> ID：10844816
> 
> 赞同：-1
> 
> 时间：2012-06-01T05:22:51.670
> 
> 标签：facebook, facebook-opengraph

我有基于 facebook 的教程和新闻的应用程序和博客。当我尝试制作 fb 社交阅读器应用程序时，我收到了这条消息。谁能帮我这个？

我在我的网站上有完全不同的设计。我在新闻中使用诸如 facebook、.. 之类的词，但我没有其他基于 fb 的词。

> 您的徽标和网站品牌与 Facebook 条款第 5.6 节和平台政策第 I.8 节 (https://developers.facebook.com/docs/guides/policy/policy_checklist/english/) 冲突。请使用反映您自己的品牌和网站用户体验的不同图形重新提交。请在下面进行更改并重新提交以供审核。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:55:59.480

*   你得到的指示似乎很清楚。

*   我们甚至不知道您的网站。

那么，您认为我们可以如何*帮助*您……？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T06:43:53.800

您必须向 Facebook 提交 Action 才能获得批准。转到 facebook.com/developers 选择 App 然后 OpenGraph - 操作单击提交 ...

# python - Python3.2中如何使用Pyvisa1.4，产生很多意想不到的错误

> ID：10844818
> 
> 赞同：3
> 
> 时间：2012-06-01T05:23:03.460
> 
> 标签：python, ctypes, visa

以前我用过`PyVisa1.4`，`Python2.7`一切正常。现在我需要使用`Pyvisa1.4`in `Python3.2`。

我知道 Python3.2 中更改了一些语法。因此，我使用`2to3`将 originalPysiva`.py`文件转换为应该适合 Python3.2 的新格式。

但是现在，会产生与`ctypes`. 我通读了 Pyvisa 包`.py`文件并尝试解决这个问题，但仍然不知道如何处理这个问题。

我只是想使用如下简单的`get_instruments_list()`命令：

```
>>> import visa
>>> get_instruments_list()
Traceback (most recent call last):
  File "<pyshell#3>", line 1, in <module>
    get_instruments_list()
  File "C:\Python32\Lib\site-packages\pyvisa\visa.py", line 254, in get_instruments_list
    vpp43.find_resources(resource_manager.session, "?*::INSTR")
  File "C:\Python32\Lib\site-packages\pyvisa\vpp43.py", line 581, in find_resources
instrument_description)
ctypes.ArgumentError: argument 2: <class 'TypeError'>: wrong type 
```

我现在面临的主要问题是如何正确使用`PyVisa`.`Python3.2`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-02-16T05:07:22.437

PyVISA 1.5（现在处于测试阶段）提供了完整的 Python 3 支持。查看（新）文档以获取有关如何在[http://pyvisa.readthedocs.org/下载最新开发版本的说明](http://pyvisa.readthedocs.org/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-09T16:40:39.293

问题是作为第二个参数传递的 str 。在 Python 3 中 str 被彻底改变以支持 unicode。要更正此问题，所有字符串在传递到 DLL 库之前必须以 ASCII 编码。相反，返回字符串作为字节返回，应该转换回 str。

我已经在 visa.py 上更正了这个，在

```
CR = "\r" replaces CR = b"\r"
LF = "\n" replaces LF = b"\n" 
```

资源**模板初始化**

```
self.vi = vpp43.open(resource_manager.session, resource_name.encode("ASCII"),
                             keyw.get("lock", VI_NO_LOCK)) 
```

代替

```
self.vi = vpp43.open(resource_manager.session, resource_name,
                             keyw.get("lock", VI_NO_LOCK)) 
```

Instrument.write

```
vpp43.write(self.vi, message.encode("ASCII")) 
```

代替

```
vpp43.write(self.vi, message) 
```

相反，在 read_raw 上，最终返回被替换为

```
return str(buffer) 
```

和 get_instruments_list()

```
vpp43.find_resources(resource_manager.session, "?*::INSTR".encode("ASCII")) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-10T01:48:58.687

最新版本`Pyvisa`不支持`Python3.2`

即使您使用工具将`Pyvisa1.4`for的语法转换`Python2.X`为，它仍然无法正常工作`Python3.X``2to3`

# c# - 如何消除尾随的空行/列

> ID：10844823
> 
> 赞同：5
> 
> 时间：2012-06-01T05:23:25.037
> 
> 标签：c#, excel, csv, interop, xls

我正在使用 Microsoft Interop 将 excel 文件转换为 csv 文件。我使用 sheet.SaveAs 函数。

我最初的 excel 表有 100 行的从 A1 到 AZ 列的数据。我在 CSV 中只需要从 A1 到 AP 的数据，并且只需要 50 行。

使用 Range 函数，我删除了第 51-100 行，我清除了相同行的内容，当我保存为 CSV 时，我发现第 51-100 行如下：（只是逗号）。我不想在 CSV 中看到这些逗号。

,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

AQ-AZ 列也是如此。我不希望 CSV 中的这些数据。我使用 Range 功能删除、清除内容，但这些 AQ-AZ 列在 CSV 文件中显示为“,,,,,,,,,,,,,,,,,,,,,”。

有没有办法将 XLS 保存为 CSV，只有我想在 CSV 文件中看到的范围。有没有办法控制进入 CSV 文件的范围？

简而言之，我想在 CSV 文件中查看 A1 到 AP 列的 50 行数据。没有空的尾随“，”。有办法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:45:40.360

您描述的问题似乎是“最后一个单元”问题。最后一个单元格是数据的原始结尾，即使在您删除行/列之后也是如此。

以下是微软对此的评价：[如何重置 Excel 中的最后一个单元格](http://support.microsoft.com/kb/244435)

我似乎记得这样做的程序化方式，但对于我的生活，我不记得如何。

看过这些信息后，也许您可​​以重新考虑如何做到这一点。

也许您可以只读取您需要的数据并自己写出来。

即对于范围内的每一行，将行作为一个值获取，该值将是一个对象数组，转换为字符串数组，string.join 分隔符作为逗号并附加到 .csv 文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-02-24T13:17:55.053

按照另一个答案中的建议清除内容对我不起作用，起作用的是在新工作表中复制填充的列并覆盖旧的 CSV。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-04T06:10:57.300

只需在 Excel 中选择尾随的空列，右键单击并选择：清除内容。然后保存。

# mysql - nagios 如何通过 shell 脚本监控远程主机？

> ID：10844825
> 
> 赞同：0
> 
> 时间：2012-06-01T05:23:31.733
> 
> 标签：mysql, sql, linux, nagios, nrpe

不安装nrpe，但是想在Nagios控制服务器上写shell脚本来控制远程主机，像一个进程，数据库状态。可以实现吗？如何编写脚本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T12:53:52.633

nrpe 的替代方法是使用`[check_by_ssh][1]`插件。它将通过 SSH 连接并执行指定的插件（或脚本）。

check_free_mem 插件示例

```
define command{
    command_name    check_ssh_mem
    command_line    $USER1$/check_by_ssh -H $HOSTADDRESS$ -C "$USER1$/check_free_mem -w $ARG1$ -c $ARG2$"
} 
```

# javascript - 是否有适用于 JavaScript 的 WinRT API 的机器可读版本？

> ID：10844828
> 
> 赞同：4
> 
> 时间：2012-06-01T05:23:53.853
> 
> 标签：javascript, windows-runtime, idl

是否有 WinRT API 的机器可读版本？

我正在寻找诸如 WebIDL、经典 IDL 或任何其他机器可读格式之类的东西，这些格式将列出可​​在 JavaScript 中访问的 WinRT 的所有类、常量、方法等。

如果它包含上述每个条目的单行描述，和/或相关 MSDN 文档页面的链接，那当然会更好:-)

**编辑**：

*   Windows.winmd 包含描述，但不包含将 IL 应用于 JavaScript 时的规则，有任何官方规范吗？用于类型转换和命名？*   WinJS 命名空间呢？（不在 Windows.winmd 中）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-01T05:43:30.183

windows.winmd 文件包含 winrt API 的 API 定义——这些定义直接适用于所有三种语言，并且它们是机器可读的。

正如您在评论中提到的，基于语言投影如何处理类型存在一些细微差别，但这些转换是严格机械的*。*例如，对于 Javascript，投影更改很简单：

1.  数字类型（int、float、double 等）投影为 Number
2.  字符串被投影为字符串
3.  DateTime 预计为 Date()
4.  事件被提升为 addEventListener("(event name)", eventHandler);
5.  如果一个方法有多个输出参数，则该方法返回一个属性名称与该方法的参数名称匹配的对象。

毫无疑问，我错过了其他 Javascript 映射，但这些是最重要的。当前支持的其他语言（C++、C#、低级 C++）具有应用于元数据的类似机械转换。

# php - Chrome 兼容性错误

> ID：10844829
> 
> 赞同：2
> 
> 时间：2012-06-01T05:24:08.323
> 
> 标签：php, javascript, google-chrome, cross-browser

上周我创建了一个虚拟相册，但我遇到了与 Chrome 的兼容性问题。这是网站 -[点击](http://www.class.comule.com) 。我不明白为什么大图像不想在 Chrome 中显示。该站点在 Opera、Firefox 甚至 IE 中运行良好。

任何帮助将不胜感激。

对不起我的英语

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:38:14.730

你的html也有一些问题：

双引号问题：

```
<meta name="description" content="Виртуален албум на 12А клас випуск 2012 ПГ"Найден Геров" " />
<meta name="keywords" content="албум, випуск, album, 12 клас, 12a, 12а, PG Naiden Gerov, ПГ"Нйден Геров", найден геров, najden gerov, pg"/>
<meta property="og:description"
      content="Виртуален албум на 12а клас випуск 2012 ПГ"Найден Геров""/> 
```

也，而不是`<style>`输入`<style type="text/css">`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:28:23.147

我正在运行 Chrome 版本 19.0.1084.52 m，它显示正常。我可以在底部看到缩略图，单击它们，它们会显示大图像。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T05:29:12.353

好吧，我刚刚在 Google Chrome 20 beta 中加载了网站，加载页面和导航相册没有问题。

这可能看起来有点普通，但请确保您使用的是最新版本的 chrome，并检查是否没有扩展导致此故障（常见的罪魁祸首可能是 AdBlock 扩展）。

Chrome 20beta，Mac OSX 10.7.4

# matlab - 概率的稳定向量

> ID：10844833
> 
> 赞同：0
> 
> 时间：2012-06-01T05:24:53.307
> 
> 标签：matlab, scilab

我正在尝试在 scilab 中编写一个程序（希望这同样适用于 matlab）以获得找到稳定向量的时间，我的意思是，在多次乘积向量和矩阵之后，结果将变得稳定，因此不会改变.

我认为最好的方法是使用递归函数，所以我编写了以下代码：

```
function [R]=vector_stable(v,m,i)
    V=v*m;
    if(V == v) then
        R=i;
        abort;
    else
        vector_stable(V,m,i+1);
    end
endfunction 
```

让我稍微解释一下，V是初始向量和矩阵的乘积，如果结果与向量参数相同则必须返回发生这种情况的时间，如果不是，它将调用相同的函数结果作为第一个参数。但是我收到以下错误

```
-->R=vector_stable(V,M,0)
 !--error 18 
: Too many names. 
```

我的功能正确吗？你能帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:40:04.987

可能稳定不代表“不变”而是“收敛”？然后你不能测试相等 V==v 来终止循环。您可以查看两个向量之间的相对差异，如果它小于例如 1% 或 0.1%，则终止。

当您（出于测试目的）如果 i==10 而不是 V==v 终止时，您是否也会收到错误？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T06:00:41.260

你的功能看起来不对。这可能更像是：

```
function [R] = vector_stable(v, M, i)

V = v*M;
if(norm(V - v) < 0.001)
    R = i;
    return;
else
    R = vector_stable(V,m,i+1);
end

return
end 
```

# emitmapper - 在映射时发出映射器忽略成员

> ID：10844839
> 
> 赞同：1
> 
> 时间：2012-06-01T05:25:50.347
> 
> 标签：emitmapper

我正在使用 Emit 映射器将值从一个对象复制到另一个对象。

当我映射对象时，我需要忽略某些字段被映射/复制。要忽略的字段会根据场景不断变化。

如何在 EmitMapper 中做到这一点？.Map 方法本身不采用任何附加参数来忽略某些属性。我可以使用 DefaultMapConfig 指定要忽略的字段，但这是静态的，在映射期间无法更改。

请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-07T13:41:49.037

您必须配置映射器：

```
string[] fieldsToIgnore = { "NameOfThePropertyToIgnore" };

var mapper = ObjectMapperManager.DefaultInstance
        .GetMapper<SourceClass, DestClass>(
          new DefaultMapConfig()
            .IgnoreMembers<SourceClass, DestClass>(fieldsToIgnore)
        ); 
```

# apache-tika - 是否有任何 Java 库可以从文件中读取分层 xmp 数据？

> ID：10844841
> 
> 赞同：3
> 
> 时间：2012-06-01T05:25:59.077
> 
> 标签：apache-tika, xmp

我尝试研究 Apache Tika，但它似乎将 XMP 关键字扁平化为一个级别。

是否有任何 Java 库可以从文件中读取分层 xmp 数据？即使只是图像文件就足够了，但文件类型越多越好。

# c++ - 在 main() 与全局中定义外部变量

> ID：10844842
> 
> 赞同：0
> 
> 时间：2012-06-01T05:26:01.163
> 
> 标签：c++, extern

给定以下头文件，如果在主体内定义了“a”，我会收到警告“未使用的变量 'a'”和链接器错误“未定义对 'a' 的引用。

标头.h：

```
#ifndef HEADER_H
#define HEADER_H

#include <iostream>

extern int* a;

void f()
{
    std::cout<<*a <<std::endl;
    return;
}

#endif 
```

主.cpp：

```
#include "header.h"

int main()
{
    int* a = new int(10);

    f();
} 
```

但是，如果在 main() 之外定义了“a”，则程序链接没有错误，并且 f() 按预期工作（打印 10）。为什么是这样？

例子：

```
int* a = new int(10);

int main()
{
    f();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:33:31.263

```
int* a = new int(10); 
```

对于这一行，如果在 main 函数中，您正在定义一个局部变量。

所以`extern int* a;`只能声明一个变量，而不是定义它。然后在该符号上出现链接错误

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T05:29:59.667

当您在 main 中定义变量时，它仅在 main 函数中具有作用域。全局外部无法解决这个问题。换句话说，链接器无法将全局声明的 extern 与主函数内的变量定义相匹配。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-01T05:30:51.567

如果定义`a`inside of `main`，那么它的范围（可见性）被限制为`main`——`extern`声明*不会*使它在其他任何地方可见。

您必须在命名空间范围内（即，在任何函数之外）定义它，才能在其他翻译单元中看到它。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-01T05:43:42.187

阅读 4 个解释问题所在的答案相当烦人，但没有解释如何正确解决问题的方法。这可能是一个安全的猜测，如果 OP 不知道范围，他可能也不知道将变量传递给函数。

**问题**

您试图获取变量的值，但该变量在另一个函数中。我怎样才能得到它？嗯，简单的答案是，你不想得到它。你没听错。使用函数的全部原因是**可重用性**，如果你将新创建的函数绑定到另一个函数，那么你就不能在任何地方使用它。请记住，函数可以帮助你变得懒惰。一个好的程序员是一个懒惰的程序员。如果您可以编写一次函数并在百万个地方使用它，那么您就做对了。;)

**但我仍然很想得到那个变量的值**

然后您想使用函数参数将变量传递给函数。

函数被命名是因为你可以从数学的角度来思考它们。放入变量，在函数运行后取出有用的数据，并用这些变量做一些有趣的事情。所以假设你有一个数学函数`y = f(x)`，这相当于`int f(int x) { /*stuff here*/ }`你在你的主函数中调用它，使用`int y = f(a)`where`a`是一些变量或数字。

您希望避免使用全局变量，因为它们并不总是符合您的预期（特别是如果您有很多代码，很容易不小心使用相同的名称。）

在您的情况下，您希望该函数打印出特定变量的内容，所以我认为您可能正在寻找一种方法将该函数与任何特定变量一起使用。所以这就是你如何做到的。

```
void f(); //hi, I'm a function prototype
void f(int a); //hi, I'm a function prototype that takes a parameter
void f(int a, int b); //hi, I'm a function prototype that takes two parameters (both ints)
void f(int a, ...); //hi, I'm a function prototype that takes an int then any number of extra parameters (this is how printf works.) 
```

所以你真正想要做的是将你的代码更改为：

标头.h：

```
#ifndef HEADER_H
#define HEADER_H

#include <iostream>

// extern int* a; // We don't need this

void f(int* a)
{
  if (a != NULL) //always, always check to make sure a pointer isn't null (segfaults aren't fun)
    std::cout<<*a <<std::endl;
    //return;  //Don't really need this for a function declared void.
}

#endif 
```

主.cpp：

```
#include "header.h"

int main()
{
    int* a = new int(10);

    f(a);
    return 0; //main is declared as returning an int, so you should.
} 
```

**按值、指针和引用的函数**

因此，在您给出的示例中，我使用了`int`而不是`int*`在您的示例中。两者的区别在于第一个是按值传递参数。另一个由指针。当您将变量传递给函数时，总是会制作它的副本。如果你传递一个int，它会复制一个int，如果你传递一个4 MB的结构，它将复制一个4MB的结构，如果你传递一个指向4MB结构的指针，它将复制一个指针（不是整个结构。）这很重要，原因有两个：

1.  性能：制作 4MB 结构的副本需要一些时间。
2.  更改内容的能力：如果复制指针，原始数据仍然在同一个地方，仍然可以通过指针访问。

如果你想要 1 而不是 2 怎么办？那么你可以声明指针`const`。原型如下所示：`int f(int const* a);`

如果你想要 2 而不是 1 怎么办？坚韧的饼干（无论如何都没有充分的理由。）

最后，您还可以声明一个函数来获取引用而不是指针，引用和指针之间的最大区别是引用不会为 NULL（并且您不能在引用上使用指针算术。）您会想要通常使用按引用传递或按值传递。需要通过指针传递是我几乎不需要做的事情，根据我的经验，它更像是一种特殊情况。

通过引用传递：`int f(int& a);`
通过 const 引用传递：`int f(int const& a);`

所以总结一下：

```
if you have function that needs parameters:
  then:
    if you do not need to modify the contents:
      then:
        if the size of the variable is small:
          pass by value: int f(int a);
        else if the size of the variable is large:
          then:
            if the value of the address can be NULL:
              pass by const pointer: int f(int const* a);
            else:
              pass by const reference: int f(int const& a);
    else if you do need to modify the contents:
      then:
        if the value of the address can be NULL:
          pass by pointer: int f(int* a);
        else:
          pass by reference: int f(int& a); 
```

还有一些案例，但这些是主要案例，请参阅[此网站了解更多详细信息。](http://www.parashift.com/c++-faq-lite/const-correctness.html)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-01T07:47:03.950

您需要了解名称绑定，它决定了两个同名声明之间的关系。在函数中定义变量时，其名称没有链接；即它所指的实体不同于程序中的任何其他实体。

更一般地说：声明（在这个意义上，定义也是声明）将符号与实体相关联——对象（在这种情况下，声明声明变量）、函数、引用、类型或其他任何东西您可以在 C++ 中声明。同名的不同声明是否与同一个实体相关联是由它们的*链接*定义的。C++ 识别三种不同类型的链接：

*   *外部链接*，其中实体可以被其他交易单元中的声明引用，

*   *内部链接*，其中实体可以被同一翻译单元中的其他声明引用，

*   并且*没有链接*，其中实体不能被任何其他声明引用。

在块范围内声明的变量（即局部变量）没有链接，除非它们被显式声明`extern`（并且声明的局部变量`extern`不能是定义）。因此`int a`in `main`声明（并定义）了一个独立`a`于程序中任何其他实体的实体。在命名空间范围内声明的变量具有外部链接，除非它们被声明`static`，在这种情况下它们具有内部链接；当您`int a`在命名空间范围内定义时，它具有外部链接，因此引用您 `extern int a`在标头中声明的同一实体。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-06-01T05:30:58.067

当您在函数 main 中定义变量时，它仅在 main 范围内有效。您可以在所有函数中定义一个名为 a 的变量。但这些将是不同的变量，因为每个变量都有自己的范围。

从技术上讲，变量是在调用函数时在堆栈上分配的，因此每个实例都有自己的存储空间。

# facebook - Facebook 聚合没有出现在我的时间线上

> ID：10844844
> 
> 赞同：0
> 
> 时间：2012-06-01T05:26:09.537
> 
> 标签：facebook, facebook-javascript-sdk, facebook-timeline, facebook-opengraph

这是一个非常普遍的问题。我从我的 facebook 应用程序中触发了一些打开的图形操作，但我在设置中创建的聚合没有显示在我的时间线上。其他一切正常，即在我触发后，自动收报机、新闻提要和活动日志得到更新行动。聚合显示在应用程序活动中，但不在我的时间线上。这背后的原因是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T06:52:06.827

首先，您是否在开发者控制台中定义了聚合？![在此处输入图像描述](../Images/86d6ad886d7d0acc1465e67917ed5363.png)

根据[这里的文档](https://developers.facebook.com/docs/opengraph/define-units/)

当用户安装发布回 Open Graph 的应用程序时，应用程序定义的聚合将基于两个关键因素出现在用户的时间轴上：

*   数据可用性 - 发布了足够的操作和对象以在给定时间段内生成聚合。

*   反馈 - 根据用户在其时间线上对聚合的参与程度进行计算，包括积极行为（喜欢、评论、固定）和消极行为（删除/隐藏聚合、删除生成聚合的应用程序）。

# php - 将 jquery 添加到基于 php mysql 的分页

> ID：10844846
> 
> 赞同：2
> 
> 时间：2012-06-01T05:26:16.437
> 
> 标签：php, jquery, mysql, ajax

我正在开发一个基于 PHP-Mysql 的网站，该网站有一些要显示的大列表（例如产品列表）。现在为了方便用户，我必须将其分解为页面。所以我使用 PHP 添加了分页。现在这个每次单击页码时都会刷新页面。所以我有一个 PHP/MySQL 基础，并希望向其中添加**Ajax/jquery**以避免**不必要的页面刷新**。如何向现有代码添加分页？ ? 这是供参考的php代码。

```
 <div class="flt width710">
            <div style="margin-top:10px;" class="flt mapnewalert"> <?php //echo ucfirst($_SESSION['$city']) ?></div>
            <div style="float:right" id="toppagesel">
            <?php 
                    echo $pages->display_pages();
                    echo $pages->display_items_per_page();
                    //echo "<span class=\"\">".$pages->display_jump_menu()."</span>";
                    $query = "SELECT * from properties,locality,cities where properties.city_id='".$_SESSION['$cityId']."' and properties.locality_id=locality.locality_id and properties.city_id=cities.city_id $pages->limit";
                    $result = mysql_query($query) or die(mysql_error());

                    //$getProperty =    $propertyDetails->getPropertyDetailsByCityIdPaginate($_SESSION['$cityId'],$limit);
            ?>
            <?php //echo $pages->display_pages(); ?><?php //echo $pages->display_items_per_page();?>
            </div>
        </div> 
```

和分页类：

```
 class Paginator{
var $items_per_page;
var $items_total;
var $current_page;
var $num_pages;
var $mid_range;
var $low;
var $limit;
var $return;
var $default_ipp;
var $querystring;
var $ipp_array;

          function Paginator()
{
    $this->current_page = 1;
    $this->mid_range = 2;
    $this->ipp_array = array(2,4,6,8,'All');
    $this->items_per_page = (!empty($_GET['ipp'])) ? $_GET['ipp']:$this->default_ipp;
}

          function paginate()
{
    if(!isset($this->default_ipp)) $this->default_ipp=2;
    if($_GET['ipp'] == 'All')
    {
        $this->num_pages = 1;
          //    $this->items_per_page = $this->default_ipp;
    }
    else
    {
        if(!is_numeric($this->items_per_page) OR $this->items_per_page <= 0) $this->items_per_page = $this->default_ipp;
        $this->num_pages = ceil($this->items_total/$this->items_per_page);
    }
    $this->current_page = (isset($_GET['page'])) ? (int) $_GET['page'] : 1 ; // must be numeric > 0
    $prev_page = $this->current_page-1;
    $next_page = $this->current_page+1;
    if($_GET)
    {
        $args = explode("&",$_SERVER['QUERY_STRING']);
        foreach($args as $arg)
        {
            $keyval = explode("=",$arg);
            if($keyval[0] != "page" And $keyval[0] != "ipp") $this->querystring .= "&" . $arg;
        }
    }

    if($_POST)
    {
        foreach($_POST as $key=>$val)
        {
            if($key != "page" And $key != "ipp") $this->querystring .= "&$key=$val";
        }
    }
    if($this->num_pages > 4)
    {
        $this->return = ($this->current_page > 1 And $this->items_total >= 10) ? "<a class=\"paginate\" href=\"$_SERVER[PHP_SELF]?page=$prev_page&ipp=$this->items_per_page$this->querystring\">&laquo; Previous</a> ":"<span class=\"inactive\" href=\"#\">&laquo; Previous</span> ";

        $this->start_range = $this->current_page - floor($this->mid_range/2);
        $this->end_range = $this->current_page + floor($this->mid_range/2);

        if($this->start_range <= 0)
        {
            $this->end_range += abs($this->start_range)+1;
            $this->start_range = 1;
        }
        if($this->end_range > $this->num_pages)
        {
            $this->start_range -= $this->end_range-$this->num_pages;
            $this->end_range = $this->num_pages;
        }
        $this->range = range($this->start_range,$this->end_range);

        for($i=1;$i<=$this->num_pages;$i++)
        {
            if($this->range[0] > 2 And $i == $this->range[0]) $this->return .= " ... ";
            // loop through all pages. if first, last, or in range, display
            if($i==1 Or $i==$this->num_pages Or in_array($i,$this->range))
            {
                $this->return .= ($i == $this->current_page And $_GET['page'] != 'All') ? "<a title=\"Go to page $i of $this->num_pages\" class=\"current\" href=\"#\">$i</a> ":"<a class=\"paginate\" title=\"Go to page $i of $this->num_pages\" href=\"$_SERVER[PHP_SELF]?page=$i&ipp=$this->items_per_page$this->querystring\">$i</a> ";
            }
            if($this->range[$this->mid_range-1] < $this->num_pages-1 And $i == $this->range[$this->mid_range-1]) $this->return .= " ... ";
        }
        $this->return .= (($this->current_page < $this->num_pages And $this->items_total >= 10) And ($_GET['page'] != 'All') And $this->current_page > 0) ? "<a class=\"paginate\" href=\"$_SERVER[PHP_SELF]?page=$next_page&ipp=$this->items_per_page$this->querystring\">Next &raquo;</a>\n":"<span class=\"inactive\" href=\"#\">&raquo; Next</span>\n";
        $this->return .= ($_GET['page'] == 'All') ? "<a class=\"current\" style=\"margin-left:10px\" href=\"#\">All</a> \n":"<a class=\"paginate\" style=\"margin-left:10px\" href=\"$_SERVER[PHP_SELF]?page=1&ipp=All$this->querystring\">All</a> \n";
    }
    else
    {
        for($i=1;$i<=$this->num_pages;$i++)
        {
            $this->return .= ($i == $this->current_page) ? "<a class=\"current\" href=\"#\">$i</a> ":"<a class=\"paginate\" href=\"$_SERVER[PHP_SELF]?page=$i&ipp=$this->items_per_page$this->querystring\">$i</a> ";
        }
        $this->return .= "<a class=\"paginate\" href=\"$_SERVER[PHP_SELF]?page=1&ipp=All$this->querystring\">All</a> \n";
    }
    $this->low = ($this->current_page <= 0) ? 0:($this->current_page-1) * $this->items_per_page;
    if($this->current_page <= 0) $this->items_per_page = 0;
    $this->limit = ($_GET['ipp'] == 'All') ? "":" LIMIT $this->low,$this->items_per_page";
}

   } 
```

我怎样才能实现它？？我参考了其他线程并尝试了但无法让它在我的上下文中工作。我是 ajax jquery 部分的新手，很抱歉，如果它是一个简单的任务！:P

PS：在当前情况下这是否可能，或者我必须对我的分页类和 php 代码进行更改。请对此有所了解！
谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:44:24.043

有很多 JavaScript 分页库会帮助你简化你的工作，

你能试试这个分页库吗？

演示：[http ://www.frequency-decoder.com/demo/table-sort-revisited/paginate/](http://www.frequency-decoder.com/demo/table-sort-revisited/paginate/)

网站：[http ://www.frequency-decoder.com/2007/10/19/client-side-table-pagination-script/](http://www.frequency-decoder.com/2007/10/19/client-side-table-pagination-script/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-13T16:15:22.420

```
$(document).ready(function()
{ 
$('.paginate').live('click', function(e)
{
    e.preventDefault();
    var btnPage = $(this);
    $.ajax(
    {
        url : btnPage.attr('href'),
        success : function(resp)
        {
            // replace current results with new results.
            $('#project_section').html(resp);
        },
        error : function()
        {
            window.location.href = btnPage.attr('href');
        }
    });
}); 
```

});

这`$(".paginate")`是`<li>`我的分页器类中的类。我在[这里](https://stackoverflow.com/questions/10928368/paginate-records-on-client-side-issue)得到了答案 谢谢

# iphone - NSInteger 到另一个视图

> ID：10844859
> 
> 赞同：1
> 
> 时间：2012-06-01T05:27:39.063
> 
> 标签：iphone, ios, xcode

我需要将一个传递`NSInteger`给我的其他视图控制器：

```
NSInteger index = [carousel indexOfItemView:sender]; 
```

这是在 a 中实现的`UIButton`，我想在`NSUserDefaults`这里使用类似的示例代码：

```
[[NSUserDefaults standardUserDefaults] setObject:4 forKey:@"integer"];
[[NSUserDefaults standardUserDefaults] synchronize]; 
```

但是我不能用上面的代码来做到这一点。有没有其他方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T05:36:36.177

您可以使用 NSUserdefaults 将值从一个 Viewcontroller 传递到另一个。使用以下代码：

```
NSInteger index = [carousel indexOfItemView:sender];
[[NSUserDefaults standardUserDefaults] setInteger:index forKey:@"integer"];
[[NSUserDefaults standardUserDefaults] synchronize]; 
```

您可以使用以下代码在另一个视图上检索它：

```
 NSInteger savedIndex = [[NSUserDefaults standardUserDefaults] integerForKey:@"integer"]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:42:05.530

从 UIButton 所在的视图控制器中，您需要获取其他视图控制器的引用，然后在其上有一个属性来设置值。

一种方法是在 UIViewController 上有一个属性，该属性包含 UIButton 以分配对您需要设置值的视图控制器的引用。在制作按钮视图控制器时设置该值。

另一种方法是在您的应用程序委托中引用目标视图控制器，您可以通过 [[UIApplication sharedApplication] 委托] 调用从任何地方访问它。

您可能还想更多地搜索 StackOverflow，我相信这个问题之前已经回答过......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T05:30:38.083

使用以下代码：

```
[[NSUserDefaults standardUserDefaults]setInteger:4 forKey:@"integer"];
[[NSUserDefaults standardUserDefaults] synchronize]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-01T05:50:57.853

或者您可以使用属性将值传递给另一个视图控制器，如果您正在从当前视图控制器转换到该视图控制器并且您只在下一个视图控制器而不是整个应用程序中需要该值。我的意思是假设您在 viewController1 并且您是从 viewController1 过渡到 viewController2。并且您希望 viewController2 中的索引值。在这种情况下，您可以将 viewController2.h 中的属性声明为：

```
@property(nonatomic,assign)int indexInViewController2;

synthesize in viewController2.m as follows:

@synthesize indexInViewController2; 
```

在从 viewController1 转换到 viewController2 时，您可以按如下方式传递值：

```
viewcontroller2Obj.indexInViewController2 = [carousel indexOfItemView:sender]; 
```

# jquery-ui - jquery手风琴加载缓慢

> ID：10844862
> 
> 赞同：1
> 
> 时间：2012-06-01T05:27:58.923
> 
> 标签：jquery-ui, jquery-ui-accordion

很多关于 jquery 手风琴的问题。我的特定于这个网站：

[http://sabadesignstudio.com/saba/newSMP/index.php](http://sabadesignstudio.com/saba/newSMP/index.php)

您可能会看到加载需要一段时间，而在加载时，CSS 也没有完全加载。

我今天刚刚将主机更改为 Blue Host，认为它在他们的服务器上可能会更快。

任何有关我如何正常进行此负载的线索将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:31:26.477

[您应该通过Google](https://developers.google.com/speed/libraries/devguide)或[Microsoft](http://www.asp.net/ajaxlibrary/cdn.ashx) CDN链接 jquery/jquery UI 库。

此外，尝试对您的网站运行[YSlow](http://yslow.org/)或[PageSpeed](https://developers.google.com/speed/pagespeed/)并评估这些工具建议的更改。

这是 PageSpeed 输出：

**高优先级 (3)**

```
Serve scaled images
Leverage browser caching
Optimize images 
```

**中优先级 (1)**

```
Combine images into CSS sprites 
```

**低优先级 (10)**

```
Defer parsing of JavaScript
Inline Small CSS
Optimize the order of styles and scripts
Minify CSS
Specify a cache validator
Minify JavaScript
Minify HTML
Specify image dimensions
Specify a character set
Remove query strings from static resources 
```

# .htaccess - 使用 htaccess 将目录（和子目录）中的所有图像重定向到 php 脚本

> ID：10844864
> 
> 赞同：1
> 
> 时间：2012-06-01T05:28:16.260
> 
> 标签：.htaccess

我编写了一个基本的 htaccess 重写规则，将目录中的所有图像指向一个 php 脚本，以从文件系统中的另一个位置加载它们。如果目录存在，这工作正常，但如果我删除目录它会中断。我假设我需要在规则中添加某种通配符，以便图像目录中的所有内容都使用此规则，无论该目录是否存在。

```
RewriteCond %{REQUEST_URI} images
RewriteCond %{REQUEST_FILENAME} .*jpg$|.*gif$|.*png$ [NC]
RewriteRule (.*) /image_handler.php?image=$1 
```

帮助表示赞赏，格雷格

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:50:40.580

您想使用 REQUEST_URI 而不是 REQUEST_FILENAME：

```
RewriteCond %{REQUEST_URI} images
RewriteCond %{REQUEST_URI} ^/.*(jpg|gif|png)$ [NC]
RewriteRule ^(.*)$ image_handler.php?image=$1 
```

REQUEST_FILENAME 将是它确定的任何请求对象的实际系统路径，如果文件和目录不存在，那么它不会匹配任何东西。

# image - 如何向 PrimeFaces p:graphicImage 显示服务器路径图像？

> ID：10844869
> 
> 赞同：5
> 
> 时间：2012-06-01T05:28:29.183
> 
> 标签：image, jsf, primefaces

当我检索服务器路径并显示到`p:graphicImage`标签中时，不会显示图像。图像被加载到 webbapp 文件夹之外。图片的服务器路径是这样的`\\qbsserver\Test Folder\test\car.jpg`。

```
<p:graphicImage value="\\qbsserver\Test Folder\test\\#{image.imageName}" /> 
```

我怎样才能让它们显示？我在 Eclipse IDE 中使用 PrimeFaces 3.0 和 JSF 2.0。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-01T05:35:10.437

你犯了一个概念上的错误。不是服务器以某种方式包含并发送图像以及生成的 HTML 输出。`<img src>`当它遇到`<img>`HTML 中的标签时，是网络浏览器通过其 URL 下载图像。

所以它必须是一个正常的 URL，与最终用户在网络浏览器的地址栏中输入的完全一样，而不是特定于服务器的本地磁盘文件系统路径。使用网络浏览器的最终用户在其本地磁盘文件系统上的路径上确实没有该图像。

最简单的方法是将文件夹添加为您正在使用的 servletcontainer 的“虚拟上下文”。目前尚不清楚您使用的是哪一个。在 Tomcat 中，只需`<Context>`向`server.xml`

```
<Context docBase="/path/to/images" path="/images" /> 
```

在 Glassfish 中，`alternatedocroot`只需在`glassfish-web.xml`

```
<property name="alternatedocroot_1" value="from=/images/* dir=/path/to" /> 
```

有关详细信息，请参阅 servletcontainer 的文档。最终，它们应该可以通过普通 URL 访问，以便您可以使用例如：

```
<p:graphicImage value="/images/#{image.imageName}" /> 
```

其他方法包括使用[PrimeFaces `StreamedContent`API](https://stackoverflow.com/questions/10362786/showing-a-dynamic-image-that-depends-on-a-request-parameter/10363457#10363457)或自制一个 servlet。

### 也可以看看：

*   [在 Java Web 应用程序中从应用程序服务器外部提供静态数据的最简单方法](https://stackoverflow.com/questions/1812244/simplest-way-to-serve-static-data-from-outside-the-application-server-in-a-java/1812356#1812356)

# linux - 如何在同时运行的不同进程上多次使用相同的 Linux 程序加载内存地址？

> ID：10844871
> 
> 赞同：9
> 
> 时间：2012-06-01T05:28:52.933
> 
> 标签：linux, linux-kernel

我正在研究 64 位机器上的 Linux 2.6.32 上的进程执行。在研究 的输出时`/proc/$PID/maps`，我观察到一件事：

```
$ cat /proc/2203/maps | head -1
00400000-004d9000 r-xp 00000000 08:02 1050631              /bin/bash

$ cat /proc/27032/maps | head -1
00400000-00404000 r-xp 00000000 08:02 771580               /sbin/getty 
```

似乎`maps`所有程序的文件都显示每个程序的可执行代码都加载到从`0x00400000`.

我知道这些是虚拟地址。但是，我不明白这些地址对于多个同时运行的进程是如何相同的。使用公共起始地址加载所有进程的原因是什么？操作系统如何区分一个进程的虚拟加载点与另一个进程的虚拟加载点？

**编辑：**

根据我对使用分页的地址空间虚拟化的理解，我认为部分虚拟地址用于通过使用它来索引一个或多个页表来查找内存块（一帧）的物理地址。考虑这种情况。地址看起来是 32 位的（这是另一件让我感到困惑的事情——为什么程序地址是 32 位的，但加载的库的地址是 64 位的？）。将地址分成十位、十位和十二位分别对应于页目录项、页表项和页偏移量，不应`0x00400000`总是表示“页目录项 1、页表项 0、偏移量 0”，没有什么程序执行地址转换？

我可以看到如何做到这一点的一种方法是，如果操作系统在每次执行任务切换时修改页面目录条目 #1 以指向与程序对应的页表。如果是这样的话，这听起来会增加很多复杂性——鉴于程序代码是与位置无关的，将程序加载到任意虚拟地址并从那里开始不是更容易吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-01T12:56:42.090

答案是每个进程都有自己的页表。它们在进程切换时切换。

更多信息请访问[http://www.informit.com/articles/article.aspx?p=101760&seqNum=3](http://www.informit.com/articles/article.aspx?p=101760&seqNum=3)。

当上下文切换发生时，内核会切换页表。在内核映射到每个进程的操作系统上，内核页面可以保留。另一方面，为用户进程提供 4GiB 的操作系统（32 位）在进入内核（系统调用）时也必须进行上下文切换。

虽然虚拟寻址不需要不同的进程拥有不同的页表（依赖关系相反），但我想不出任何当前的操作系统不会为每个进程提供自己的页表。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-01T05:37:22.497

> 问：我知道这些是虚拟地址。

一个好的...

> 问：但是，我不明白这些地址如何对于多个同时运行的进程是相同的。

A：我以为你刚刚说你理解“虚拟地址”；）？

> 问：使用共同起始地址加载所有进程的原因是什么？

答：请记住，这是一个*虚拟*地址，*而不是*物理地址。为什么*没有*一些标准的起始地址？

请记住——你不想将起始地址设为“0”——进程可能希望映射许多特定的虚拟地址（尤其是那些低于 640K 的地址），就好像它是一个物理地址一样。

这是一篇很好的文章，涉及其中一些问题。包括“e_entry”：

[Linux 上 main() 是如何执行的](http://www.tldp.org/LDP/LGNET/84/hawk.html)

# android - 如何在播放 HTTP Live Streaming (HLS) 时清除 Android MediaPlayer 缓冲区。

> ID：10844874
> 
> 赞同：3
> 
> 时间：2012-06-01T05:29:10.567
> 
> 标签：android

我试图寻找 android 中的 HLS 缓冲区。一旦我向服务器发送 SEEK 消息，服务器就开始从搜索点发送数据。但是 MediaPlayer 在从服务器接收时继续播放当前的缓冲区内容。因此，在进行搜索之后，它也在继续播放，几秒钟后，搜索位置正在播放，因为它在缓冲区中。

我无法释放缓冲区，所以如果有任何机构可以帮助我清除缓冲区。或者可以建议我在播放 HTTP 实时流 (HLS) 时访问 MediaPlayer 缓冲区的方法。

提前感谢库纳尔

# python - 用于在 Django 中生成上传文件 URL 的库

> ID：10844875
> 
> 赞同：0
> 
> 时间：2012-06-01T05:29:11.297
> 
> 标签：python, django, url, project, libraries

需要开发一个用于文件上传和**生成其（文件）URL的项目，可以共享**。**Python** （Django）中是否有任何特定的**库**或简单的方法可以方便高效。〜*新手*尝试一项艰巨的任务〜在此先感谢:)

 **** * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:59:19.197

不，因为`Storage`used 甚至可能不会将实际文件保存在文件系统上，所以没有[通用](https://docs.djangoproject.com/en/dev/ref/files/storage/#django.core.files.storage.Storage.url)的方法来生成它们的 URL。您将需要创建一个视图，该视图传递了一个密钥，该密钥可用于识别具有文件字段的记录，然后您需要自己[响应文件内容](https://stackoverflow.com/search?q=django+download+file)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T06:11:49.900

在这个出色的[JQuery 文件上传应用程序的](http://blueimp.github.com/jQuery-File-Upload/)[Django 支持版本](https://github.com/sigurdga/django-jquery-file-upload)中，大部分工作都是为您完成的。

[在此处](http://blueimp.github.com/jQuery-File-Upload/)试用原始演示。***

# c# - C# 中的 KINECT：将向前运动转换为屏幕上的向上运动

> ID：10844879
> 
> 赞同：2
> 
> 时间：2012-06-01T05:29:23.027
> 
> 标签：c#, kinect

简而言之，我让 Kinect 拾取我的动作，并创建了一个漂亮的骨架，这样我就可以轻松地看到我的向前/向后/左右运动。我想将这些向前/向后/左右移动并将其转换为屏幕上的上下或左右移动。换句话说，假设我的左脚从相机前后移动，我想将其翻译为分别上下移动的点。有没有办法从 YZ 平面简单地转置到 XY 平面？我希望在屏幕的不同部分同时显示向前和向上的动作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-03T12:07:36.840

我希望我能正确理解你的问题。

如果您查看 playerSkeleton.Joints[JointType.Head].Position（其中 playerSkeleton 是从骨架框架获得的 Skeleton 对象），您会发现您拥有关节的 X、Y 和 Z 坐标。您还可以执行以下操作：

```
DepthImagePoint jointDepthPoint = DepthFrame.MapFromSkeletonPoint(playerSkeleton.Joints[JointType.Head].Position); 
```

你得到结果像素的值，得到深度值。

休息只是数学......你只需缩放值。

假设您的深度值介于 128 和 256 之间，并且您希望在 (0, 0) 到 (480, 0) 间隔上缩放它（如水平线）

new_value = (480 - 0) * your_value/(256 - 128)

所以你可以在 (new_value, 0) 上画点

# java - 使 AlarmManager 重复警报特定的时间 - Android

> ID：10844881
> 
> 赞同：0
> 
> 时间：2012-06-01T05:29:29.187
> 
> 标签：java, android, alarmmanager

我需要在特定时间设置一个仅重复给定时间的警报。

有

```
void set(int type, long triggerAtTime, PendingIntent operation) 
```

它被调用一次。我可以检查偏好值，并可以根据我的要求再次设置它。

我也可以用这个。在每个警报触发器都可以检查偏好值以及是否达到限制。然后可以取消警报。

```
void setRepeating(int type, long triggerAtTime, long interval, PendingIntent operation) 
```

我想在这个操作中避免这种偏好的东西。

还有其他方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T07:54:48.290

从前一个警报中安排下一个警报，并跟踪执行了多少次。一旦达到每日执行次数，就不要安排下一个警报。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T15:21:14.297

将您想要重复警报的次数作为与意图捆绑的 int 值传递。

在每次触发时将值减 1。

如果达到 0 则取消它。

不需要首选项。

# html - Div 对齐和形状

> ID：10844890
> 
> 赞同：0
> 
> 时间：2012-06-01T05:30:25.130
> 
> 标签：html, css

对齐这两列的最佳方法是什么 - `.responseNum & .responseText`：

num 列也有背景 - > 我可以用 CSS3 做这个形状，因为我无法获得正确的图像比例吗？

![在此处输入图像描述](../Images/e72dd07877f10d99be4dd0abd7139349.png)

**HTML：**

```
<div class="textMessageResponse">
    <div class="responseNum">
        <span class="number">1</span>
    </div>
    <div class="responseText">
        <p>Not bad morbi no bad luke crying twitter le me sit superhero cellphone. Strangers silent hill party problem? Loki cereal guy gentlemen monocle high school lose trolololo men true story. On freddie mercury asian le girlfriend happy facepalm blizzard bart. Charlie Sheen bacon search pokeman unsave i see what you did there vegan cookie monster humor final week.</p>
    </div>
</div> 
```

**CSS：**

```
.textMessageResponse{
    height:60px;
    background-color:#fff;
    margin:10px;
}
.textMessageResponse .responseNum .responseText{
    float:left;
    display:inline-block;
}

.textMessageResponse .responseNum{
    width:35px;
    height:35px;
}

.textMessageResponse .responseNum .number{
    background:url('../images/numBG.png') no-repeat;
    width:25px;
    height:25px;
    color:#fff;
    text-align:center;
    font-weight:bold;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:57:07.437

像这样改变你的CSS，

```
.textMessageResponse{
    height:60px;
    background-color:#fff;
    margin:10px;
}
.textMessageResponse .responseNum, .textMessageResponse .responseText{/*change*/
    float:left;
}

.textMessageResponse .responseText{
    width:300px;/*Add this*/
}

.textMessageResponse .responseNum{
    width:35px;
    height:35px;
}

.textMessageResponse .responseNum .number{
    background:url('http://jzm.co.nz/clients/dev/_assets/images/numBG.png') no-repeat;
    width:25px;
    height:25px;
    color:#fff;
    text-align:center;
    font-weight:bold;
    display:block; /*change*/
}​​ 
```

我希望它会帮助你。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-06-01T05:40:29.603

在 CSS 中为 .responseNum 和 .responseText 类的父级选择显示选项。因此，在父类 'textMessageResponse' 下输入 css： display: inline; 或显示：内联块；用于 div 或显示的水平对齐：块；用于垂直对齐 div。

# c++ - 在链表中查找损坏

> ID：10844894
> 
> 赞同：19
> 
> 时间：2012-06-01T05:30:42.007
> 
> 标签：c++, c

我今天接受了一个开发人员职位的面试，并被问到一个有趣的技术问题，我不知道答案。我会在这里问它，看看是否有人可以为我的好奇心提供解决方案。这是一个多部分的问题：

1）给你一个包含 100 个元素（整数和指向下一个节点的指针）的单链表，找到一种方法来检测链表中途是否存在中断或损坏？你可以对链表做任何事情。请注意，您必须在列表中执行此操作，因为它正在迭代，这是在您意识到列表有任何问题之前的验证。

假设链表中的中断在第 50 个元素处，则整数甚至指向下一个节点（第 51 个元素）的指针可能指向一个垃圾值，该值不一定是无效地址。

2）请注意，如果链表中存在损坏，您将如何最大程度地减少数据丢失？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-01T07:01:04.183

要测试“损坏的”整数，您需要知道有效值的范围是多少。否则，无法确定任何给定（有符号）整数中的值是无效的。因此，假设您对 int 进行了有效性测试，您将始终在迭代到下一个元素之前检查该值。

测试损坏的指针比较棘手 - 首先，您需要做的是在尝试取消引用之前检查指向下一个元素的指针的值，并确保它是有效的堆地址。这将避免分段错误。接下来是验证指针指向的实际上是一个有效的链表节点元素——这有点棘手？也许将指针取消引用到列表元素类/结构中，并测试 int 和“next”指针的有效性，如果它们也很好，那么可以很确定前一个节点也很好。

在 2) 发现损坏的节点后，[如果下一个指针损坏] 你应该立即将前一个节点的“下一个指针”设置为“NULL”，将其标记为列表的末尾，并记录你的错误等等如果损坏只是整数值，而不是“下一个”元素指针，那么你应该从列表中删除该元素并将前一个和后一个节点链接在一起 - 因为不需要抛出在这种情况下，列表的其余部分！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T05:45:20.880

如果您在设计时知道损坏可能成为一个关键问题，您可以将“魔术值”作为字段添加到节点数据结构中，以便您识别某些数据是否可能是节点。甚至可以通过内存搜索节点。

或者加倍一些链接信息，即在每个节点中存储下一个节点之后的节点地址，这样如果一个链接坏了你可以恢复。

我看到的唯一问题是您必须避免分段错误。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-01T05:46:31.560

对于第一部分 - 重载 new 运算符。每当分配一个新节点时，请在该节点之前和之后分配一些额外的空间，并将一些已知值放在那里。在遍历中，可以检查每个节点是否在已知值之间。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-01T14:45:26.367

如果你可以对链表做任何事情，你可以做的就是计算每个元素的校验和并将其存储在元素本身上。通过这种方式，您将能够检测到损坏，即使它是元素上的单个位错误。

为了最大限度地减少数据丢失，也许您可​​以考虑将 nextPtr 存储在前一个元素中，这样如果您的当前元素已损坏，您总是可以从前一个元素中找到下一个元素的位置。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-06-28T00:34:07.593

这是一个简单的问题，有几个可能的答案。每个都在稳健性和效率之间进行权衡。由于提高健壮性是所问问题的先决条件，因此有一些可用的解决方案既牺牲时间（列表遍历速度，以及节点的插入速度和删除速度），也牺牲空间（每个节点存储的额外信息）。现在问题已经说明，这是一个长度为100的固定列表，这种情况下链表的数据结构是最不合适的。为什么不让这个谜题更具挑战性，并说列表的大小是先验未知的？

* * *

## 回答 #6

> 赞同：-3
> 
> 时间：2012-06-01T05:45:44.437

由于元素的数量 (100) 是已知的，因此第 100 个节点必须包含一个空指针。如果确实如此，则该列表很有可能是有效的（这不能保证，例如，如果第 99 个节点已损坏并指向某个全为零的内存位置）。否则，有一些问题（这可以作为事实返回）。

**upd**：此外，每一步都可以查看`delete`如果给定指针将使用的某些结构，但由于使用`delete`本身在任何意义上都不安全，这将是特定于实现的。

# ios - 如何在 iOS 中裁剪到信箱

> ID：10844896
> 
> 赞同：0
> 
> 时间：2012-06-01T05:30:52.030
> 
> 标签：ios, image

在IOS中，如何将矩形图像裁剪为方形信箱，使其保持原始纵横比，剩余空间用黑色填充。例如，transloadit 用于裁剪/调整图像大小的“填充”策略。

[http://transloadit.com/docs/image-resize](http://transloadit.com/docs/image-resize)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-05-23T05:52:07.510

对于在没有明确答案的情况下偶然发现这个问题以及更多类似问题的人，我编写了一个简洁的小类别，它通过`UIImage`直接修改而不是仅仅修改视图来在模型级别完成此任务。只需使用此方法，返回的图像将被信箱化为方形，无论哪一边较长。

```
- (UIImage *) letterboxedImageIfNecessary
{
    CGFloat width = self.size.width;
    CGFloat height = self.size.height;

    // no letterboxing needed, already a square
    if(width == height)
    {
        return self;
    }

    // find the larger side
    CGFloat squareSize = MAX(width,height);

    UIGraphicsBeginImageContext(CGSizeMake(squareSize, squareSize));

    // draw black background
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetRGBFillColor(context, 0.0, 0.0, 0.0, 1.0);
    CGContextFillRect(context, CGRectMake(0, 0, squareSize, squareSize));

    // draw image in the middle
    [self drawInRect:CGRectMake((squareSize - width) / 2, (squareSize - height) / 2, width, height)];

    UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return newImage;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-09-22T06:50:41.387

只是为了方便 - 这里是@Dima的答案的快速重写：

```
import UIKit

extension UIImage
{
    func letterboxImage() -> UIImage
    { 
        let width = self.size.width
        let height = self.size.height

        // no letterboxing needed, already a square
        if(width == height)
        {
            return self
        }

        // find the larger side
        let squareSize = max(width, height)

        UIGraphicsBeginImageContext(CGSizeMake(squareSize, squareSize))

        // draw black background
        let context = UIGraphicsGetCurrentContext()
        CGContextSetRGBFillColor(context, 0.0, 0.0, 0.0, 1.0)
        CGContextFillRect(context, CGRectMake(0, 0, squareSize, squareSize))

        // draw image in the middle
        self.drawInRect(CGRectMake((squareSize-width) / 2, (squareSize - height) / 2, width, height))

        let newImage = UIGraphicsGetImageFromCurrentImageContext()
        UIGraphicsEndImageContext()
        return newImage
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T05:39:12.730

您必须设置`contentMode`UIImageView 与`UIViewContentModeScaleAspectFit`. 如果您使用故事板，您还可以为 UIImageView 找到此选项。

将`backgroundColor`UIImageView 设置为黑色（或您选择的其他颜色）。

# asp.net - 我如何访问 asp.net webapplication 在同一解决方案中对另一个应用程序进行分类？

> ID：10844901
> 
> 赞同：0
> 
> 时间：2012-06-01T05:31:15.157
> 
> 标签：asp.net, visual-studio-2010

我在该解决方案中有一个 Web 应用程序我向该解决方案添加了一个项目我想在我新添加的项目中访问 Web 应用程序 App_code 类如何在此处访问这些类....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:35:38.330

推荐的方法是将共享类放在类型类库的第三个项目中，并让 Web 应用程序和第二个项目都引用该库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T05:43:57.423

尝试`<%@ Import Namespace="EngineLibrary.BussinessLayer.CommonUtilites" %>` 在您的 aspx 页面上使用，也可以`using EngineLibrary.BussinessLayer`在您的 aspx.cs 页面上使用。

# javascript - 反向地理编码不适用于我的地图

> ID：10844902
> 
> 赞同：0
> 
> 时间：2012-06-01T05:31:18.603
> 
> 标签：javascript, google-maps-api-3, reverse-geocoding

我在 google maps api v3 中制作了一张地图，并尝试在地图上应用反向地理编码，但我未能使用地理编码地图加载我的地​​图。当我运行地图时，地图显示但地图上没有标记显示。这是我的地图链接和代码同样

她的是地图代码

```
<script src="http://www.google.com/jsapi"></script>
    <script type="text/javascript">
      var script = '<script type="text/javascript" src="js/cluster';
      if (document.location.search.indexOf('compiled') !== -1) {
        script += '_compiled';
      }
      script += '.js"><' + '/script>';
      document.write(script);
    </script>

    <script type="text/javascript">
      google.load('maps', '3', {
        other_params: 'sensor=false'
      });
      google.setOnLoadCallback(initialize);
      var markerClusterer = null;
      var map = null;
      var geocoder;
      var markers = new Array(); 
      function initialize() {
       var GPS = [
{GPS:new google.maps.LatLng(34.019626247176,71.57975666079601), CNT:'Pakistan',REGION:'Peshawar',DIST:'Furqan Enterprises',SHOP:'Jamal Sweets',OWNER:'Ibrar Khan',MOBILE:'0300 989 9008',REGNO:'0000001',ICON:'1.png'},
{GPS:new google.maps.LatLng(34.02025371621,71.579215441513), CNT:'Pakistan',REGION:'Peshawar',DIST:'Furqan Enterprises',SHOP:'Usman Medicoz',OWNER:'Usman Hussain',MOBILE:'0344 905 1231',REGNO:'0000002',ICON:'1.png'},
];
      geocoder = new google.maps.Geocoder();    
      var map_center = new google.maps.LatLng(31.2330555556,72.3330555556);
      var myOptions = {
      zoom: 6,
      scaleControl:true,
      pancontrol: true,
      streetViewControl: true,
      center: map_center,
      mapTypeControl: true,
      mapTypeControlOptions: {
      style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
    },
      mapTypeId: google.maps.MapTypeId.ROADMAP
    }    
    map = new google.maps.Map(document.getElementById("map"), myOptions);
     var infowindow = new google.maps.InfoWindow(); 
          if (markerClusterer) {
          markerClusterer.clearMarkers();
        }        
        for(i=0; i<GPS.length; i++)
         { 
           geocoder.geocode({'latLng': GPS[i].GPS}, function(results, status) {
           //map.setZoom(11);
           var markerImage = new google.maps.MarkerImage(imageUrl,
           new google.maps.Size(24, 32));
           var imageUrl = 'ico/' + GPS[i].ICON;        
           markers[i] = new google.maps.Marker({
           position: GPS[i].GPS,
           draggable: true,
           icon: markerImage,
           Info: '<table frame=box><tr><td align="Left"><font face="Arial" size=2 color=#336699>Shop Name:</td><td align="Left"><font face="Arial" size=2>'+ GPS[i].SHOP + '</font></td></tr><tr>'+
          '<td align="Left"><font face="Arial" size=2 color=#336699>Owner:</td><td align="Left"><font face="Arial" size=2>'+ GPS[i].OWNER + '</font></td></tr>'+
          '<td align="Left"><font face="Arial" size=2 color=#336699>Mobile:</td><td align="Left"><font face="Arial" size=2>'+ GPS[i].MOBILE + '</font></td></tr>'+
          '<tr><td align="Left"><font face="Arial" size=2 color=#336699>Distributer:</td><td align="Left"><font face="Arial" size=2>'+ GPS[i].DIST + '</font></td></tr><tr>'+
          '<tr><td align="Left"><font face="Arial" size=2 color=#336699>Region:</td><td align="Left"><font face="Arial" size=2>'+ GPS[i].REGION + '</font></td></tr>'+
          '<tr><td align="Left"></td><td align="Left"><font face="Arial" size=2 color=#336699><a target=_blank href=http://221.120.216.52/elp/sfpl.php?ccode=01&amp;&regno='+ GPS[i].REGNO +'>View</a></td></tr>'+
          '<tr><td align="Left"><font face="Arial" size=2 color=#336699>Region:</td><td align="Left"><font face="Arial" size=2>'+ results[1].formatted_address + '</font></td></tr>'+
          '</table>',
          title:GPS[i].SHOP + '(' +GPS[i].DIST + ')'
          });
          markers.push(markers);
          google.maps.event.addListener(markers[i], 'click', function() {
            infowindow.setContent(this.Info);
            infowindow.open(map,this);
            });
             }); 
        }
        zoom =  -1 ? null : -1;
        size =  -1 ? null : -1;
        markerClusterer = new MarkerClusterer(map, markers, {
          maxZoom: zoom,
          gridSize: size          
        });

      }
    </script> 
```

任何人请帮我在信息窗口上显示坐标的最近地址。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T07:54:17.897

反向地理编码并非在每个国家都有效。请参阅Google 提供[的功能覆盖列表。](http://gmaps-samples.googlecode.com/svn/trunk/mapcoverage_filtered.html)

如果“地理编码”显示“与图块相同”，则只能对图块上标识的位置进行地理编码，并且反向地理编码也受到限制。谷歌没有那个国家所有地方的完整细节。

这适用于巴基斯坦。

这也是您没有检查地理编码器返回的状态的情况。它被传递给回调函数，你永远不会使用它。它几乎肯定会给出一些关于正在发生的事情的暗示。

# rest - Silverlight 中的服务器端异常处理

> ID：10844904
> 
> 赞同：1
> 
> 时间：2012-06-01T05:31:29.177
> 
> 标签：rest, silverlight-4.0

我正在为我的 silverlight 应用程序使用 WCF REST 服务。当我抛出错误代码为 500 的 webfault 异常时。银灯显示错误消息：'Error:404 File not found'。我做了一些研究，发现这是浏览器的问题，即浏览器堆栈只能将两个响应代码 200 和 404 传递给这里的任何插件，在我的例子中，它是 silverlight。这意味着当服务器端出现网络故障异常时，SL 只会显示消息“找不到文件”。我希望将错误消息传递给客户端。一种这样的解决方案是传递响应代码 200 并将错误消息发送到附加到类似这样逻辑的返回对象的客户端。我想知道是否还有其他可能，这样我就不必改变我的班级结构。我还从服务器返回 JSON 对象。我基本上需要 SilverLight 来获取 200 和 400 系列以外的响应代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:40:02.870

Microsoft在发布 Silverlight 3 时[为您添加了一个单独的 HTTP 堆栈。](http://blogs.msdn.com/b/silverlight_sdk/archive/2009/08/12/new-networking-stack-in-silverlight-3.aspx)

> 指定 HTTP 堆栈很容易。您只需调用 WebRequest.RegisterPrefix 方法，传递 ClientHttp 对象以指定客户端 HTTP 处理或传递 BrowserHttp 对象以指定浏览器 HTTP 处理。您在发出任何 Web 请求之前执行此操作。

与旧堆栈相比，新堆栈的限制更少，因为它可以处理更多 HTTP 方法，并且可以处理任何 HTTP 返回代码。有关更广泛的比较，请参阅链接博客文章中的图表。

# sql - Postgres - 是否有更快的方法来使用来自另一个数据库的信息更新表？

> ID：10844912
> 
> 赞同：0
> 
> 时间：2012-06-01T05:32:24.827
> 
> 标签：sql, postgresql, postgresql-9.1

我正在更新一个名为的表`Recipes`并将该`ImageUrl`列设置为 VIEW 中的匹配行。我的更新声明是：

```
UPDATE Recipes R
  SET ImageUrl=L.ImageUrl
  FROM Link.Recipes L
  WHERE L.RecipeId=R.RecipeId AND L.ImageUrl is not null; 
```

`Link.Recipes`是一个从不同服务器上的另一个数据库返回所有`Recipes`行的视图，所以它已经很慢了：

> 查询成功返回：8541 行受影响，173236 毫秒执行时间。

我想看看有没有办法让它更快一点。涉及具有相似行数的相同视图的 INSERT 语句*要快得多*，因此这里发生了一些不同的事情。

上当然有一个索引`RecipeId`，但是`ImageUrl`两个表中都没有索引。有没有更好的方法可以编写不需要近 3 分钟的 UPDATE 语句？

**解释：**

```
'Update  (cost=0.00..4136.54 rows=995 width=1531)'
'  ->  Nested Loop  (cost=0.00..4136.54 rows=995 width=1531)'
'        ->  Function Scan on dblink t1  (cost=0.00..10.00 rows=995 width=266)'
'              Filter: (imageurl IS NOT NULL)'
'        ->  Index Scan using recipes_pkey on recipes r  (cost=0.00..4.13 rows=1 width=1281)'
'              Index Cond: (r.recipeid = t1.recipeid)' 
```

**解释分析：**

```
'Update  (cost=0.00..4233.18 rows=995 width=1532) (actual time=168887.016..168887.016 rows=0 loops=1)'
'  ->  Nested Loop  (cost=0.00..4233.18 rows=995 width=1532) (actual time=23689.440..24500.006 rows=8549 loops=1)'
'        ->  Function Scan on dblink t1  (cost=0.00..10.00 rows=995 width=266) (actual time=23689.250..23749.288 rows=8550 loops=1)'
'              Filter: (imageurl IS NOT NULL)'
'        ->  Index Scan using recipes_pkey on recipes r  (cost=0.00..4.23 rows=1 width=1282) (actual time=0.083..0.085 rows=1 loops=8550)'
'              Index Cond: (r.recipeid = t1.recipeid)'
'Trigger trg_recipes_searchupdate: time=3808.617 calls=8549'
'Total runtime: 168889.272 ms' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:45:02.533

在 imageurl 上创建一个不为空的部分索引可能是值得的。在此处阅读更多相关信息：[http ://www.postgresql.org/docs/current/static/indexes-partial.html](http://www.postgresql.org/docs/current/static/indexes-partial.html)

# xslt - 为 xslt 中的调用模板处理不同的命名空间

> ID：10844916
> 
> 赞同：1
> 
> 时间：2012-06-01T05:33:02.840
> 
> 标签：xslt, xpath, xslt-1.0

我正在研究调用模板，源代码如下所示。

来源：

```
 <Content>
         <first>
                <text>
                Text
            </text>
            <link xmlns="Some namespace">
                <AA>abcd</AA>
                <BB>hi all</BB>
            </link>
         </first>

         <second>
         <link xmlns="Some other namespace">
                <AA>abcd1</AA>
                <BB>hi all21</BB>
            </link>
         </second>

          <three>
         <link xmlns="other namespace">
                <AA>abcd2</AA>
                <BB>hi all33</BB>
            </link>
         </three>
    </Content> 
```

XSLT 写道：

```
 <?xml version="1.0" encoding="utf-8"?>
    <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:n1="Some namespace" xmlns:n2="Some other namespace" xmlns:n3="other namespace">
        <xsl:output method="xml" indent="yes"/>

      <xsl:template match="Content">
       <xsl:call-template name="process">
         <xsl:with-param name="item" select="first/n1:link" />
    </xsl:call-template>
         <xsl:call-template name="process">
         <xsl:with-param name="item" select="second/n2:link" />
    </xsl:call-template>
         <xsl:call-template name="process">
         <xsl:with-param name="item" select="three/n3:link" />
    </xsl:call-template>

      </xsl:template>

      <xsl:template name="process">
        <xsl:param name="item" />
        <xsl:value-of select="$item/AA" />
      </xsl:template>

    </xsl:stylesheet> 
```

我得到空白输出。我知道原因，因为我没有为它附加名称空间前缀。像“n1：A”那样。

由于即将多次到来。我写了一个模板并在需要的地方调用。但是每个链接的名称空间是不同的。如何修改我的代码，以便我可以重用模板“流程”。

任何人都可以帮助，我如何相应地修改“流程”模板以处理不同的命名空间但结构相同。

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T06:16:12.933

而不是这样做

```
<xsl:value-of select="$item/AA" /> 
```

您可以将表达式更改为此

```
<xsl:value-of select="$item/*[local-name() = 'AA'][namespace-uri()=namespace-uri($item)]" /> 
```

即检查没有命名空间的名称是“AA”，并且它与父元素具有相同的命名空间。这意味着如果您在“链接”元素中有另一个具有不同命名空间的“AA”元素，它将不会被拾取。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-01T08:18:11.677

值得指出的是，这是一个设计不佳的 XML 文档。每当您看到有人创建两个命名空间 N1 和 N2 以使 N1 中的本地名称与 N2 中的本地名称相同时，您应该检测到设计气味。它们使人们处理 XML 变得更加困难。

当我看到这种输入时（如果人们错误地更改了他们词汇表版本 2 的名称空间 URI，有时会出现这种情况），我通常认为处理它的最佳方法是编写一个管道，其中第一阶段是规范化名称空间，这样“真正的”处理逻辑就不必像你的代码那样处理多个命名空间，这总是看起来像意大利面条。

# android - 在 Facebook 墙上发表评论

> ID：10844920
> 
> 赞同：1
> 
> 时间：2012-06-01T05:34:33.313
> 
> 标签：android, facebook, facebook-graph-api

成功登录后，我正在尝试使用以下代码在墙上发表评论。

```
 public void postOnWall(String msg) {
        Log.d("Tests", "Testing graph API wall post");
        //byte[] by_new = msg.getBytes();
         try {
                String response = mFacebook.request("me");
                Bundle parameters = new Bundle();
                parameters.putString("message", msg);
                parameters.putString("description", "test test test");
                response = mFacebook.request("me/feed", parameters, 
                        "GET");
                Log.d("Tests", "got response: " + response);
                if (response == null || response.equals("") || 
                        response.equals("false")) {
                   Log.v("Error", "Blank response");
               }
         } catch(Exception e) {
             e.printStackTrace();
         }
    } 
```

日志猫：

```
06-01 17:51:44.042: DEBUG/Tests(623): got response: {"data":[]} 
```

但是当我使用 GET 方法时，我收到空白响应，当我使用 POST 方法时，我收到以下响应。

```
06-01 18:04:26.522: WARN/Bundle(676): Key message expected byte[] but value was a java.lang.String.  The default value <null> was returned.
06-01 18:04:26.532: WARN/Bundle(676): Attempt to cast generated internal exception:
06-01 18:04:26.532: WARN/Bundle(676): java.lang.ClassCastException: java.lang.String
06-01 18:04:26.532: WARN/Bundle(676):     at android.os.Bundle.getByteArray(Bundle.java:1305)
06-01 18:04:26.532: WARN/Bundle(676):     at com.facebook.android.Util.openUrl(Util.java:156)
06-01 18:04:26.532: WARN/Bundle(676):     at com.facebook.android.Facebook.request(Facebook.java:559)
06-01 18:04:26.532: WARN/Bundle(676):     at com.kmiller.facebookintegration.Login.postOnWall(Login.java:108)
06-01 18:04:26.532: WARN/Bundle(676):     at com.kmiller.facebookintegration.Login$1.onClick(Login.java:78)
06-01 18:04:26.532: WARN/Bundle(676):     at android.view.View.performClick(View.java:2485)
06-01 18:04:26.532: WARN/Bundle(676):     at android.view.View$PerformClick.run(View.java:9080)
06-01 18:04:26.532: WARN/Bundle(676):     at android.os.Handler.handleCallback(Handler.java:587)
06-01 18:04:26.532: WARN/Bundle(676):     at android.os.Handler.dispatchMessage(Handler.java:92)
06-01 18:04:26.532: WARN/Bundle(676):     at android.os.Looper.loop(Looper.java:123)
06-01 18:04:26.532: WARN/Bundle(676):     at android.app.ActivityThread.main(ActivityThread.java:3647)
06-01 18:04:26.532: WARN/Bundle(676):     at java.lang.reflect.Method.invokeNative(Native Method)
06-01 18:04:26.532: WARN/Bundle(676):     at java.lang.reflect.Method.invoke(Method.java:507)
06-01 18:04:26.532: WARN/Bundle(676):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
06-01 18:04:26.532: WARN/Bundle(676):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
06-01 18:04:26.532: WARN/Bundle(676):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:44:43.840

试试这个我想你已经把“GET”而不是“POST”

```
String response = facebook.request("me/feed", parameters,"POST"); 
```

# internet-explorer - 在我使用 javascript 添加样式表后，IE9 是否会重新计算所有样式？

> ID：10844923
> 
> 赞同：1
> 
> 时间：2012-06-01T05:35:05.023
> 
> 标签：internet-explorer

在使用 JS 向`<link rel="stylesheet">`我的文档添加新样式后，我希望浏览器请求新样式表并应用其样式，而 IE 9 就是这样做的。但是，IE 9 不尊重文档中其他样式的优先级，例如。在随后的样式块中。

给定这样的样式表`blue.css`：

```
.box { background-color: blue; } 
```

..和这样的文件..

```
<!DOCTYPE html>
<html>
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">
    </script>
    <!--- The JS below inserts a stylesheet <link> here --->
    <style>.box { background-color: red; }</style>
  </head>
  <body>
    <div class="box">hello</div>
    <script>
      $(function(){
        $('<link rel="stylesheet" href="blue.css" type="text/css" />')
          .insertBefore($('style'));
      });
    </script>
  </body>
</html> 
```

说完了，IE 9 会显示一个蓝色框，而其他浏览器（如 FF 12 或 Chrome 19）会显示一个红色框。

IE只是在这里偷懒吗？懒惰这个词是不是太好了？[我应该强制 IE 使用这样](https://stackoverflow.com/questions/8883849/force-ie-to-recompute-styles)或[这样](https://stackoverflow.com/questions/3158370/injected-link-stylesheet-takes-precedence-over-existing-styles-in-ie7)的 hack 重新计算所有样式吗？

# php - 将自定义 ul 注入菜单

> ID：10844928
> 
> 赞同：0
> 
> 时间：2012-06-01T05:35:35.070
> 
> 标签：php, html, css, wordpress, menubar

所以我正在使用一个很酷的小功能在我的菜单中呈现一个搜索栏。在这里查看：

```
 function add_search_to_wp_menu ( $items, $args ) {
    if( 'main-menu' === $args -> theme_location ) {
$items .= '<li class="menu-item menu-item-search">';
$items .= '<form method="get" class="menu-search-form" action="' . get_bloginfo('home') . '/"><p><input class="text_input" type="text" value="Enter Text &amp; Click to Search" name="s" id="s" onfocus="if (this.value == \'Enter Text &amp; Click to Search\') {this.value = \'\';}" onblur="if (this.value == \'\') {this.value = \'Enter Text &amp; Click to Search\';}" /><input type="submit" class="my-wp-search" id="searchsubmit" value="search" /></p></form>';
$items .= '</li>';
    }
return $items;
}
add_filter('wp_nav_menu_items','add_search_to_wp_menu',10,2); 
```

我没有成功——但它完成了这项工作。

所以唯一的问题是它出现在顶层：

```
<ul>
<li>Normal Item</li>
<li>OH LOOOK THE SEATCHBAR APPEARS HERE</li>
</ul> 
```

问题是我需要它在菜单中出现几个步骤，即 - 这里：

```
<ul>
 <li>
   Normal Item
    <ul>
      <li>
           I want THE SEARCH to appear here
      </li>
   <ul>
 </li>
</ul> 
```

不仅如此，我还希望它出现在`<ul><li><ul><li>`菜单的最后一个之后......

IE，如果我有一个包含 3 个普通项目的列表以及它们自己的子项目，那么一旦注入它就会看起来像这样：

```
 <ul>
     <li>
       Normal Item1
     </li>
     <li>
       Normal Item2
     </li>
     <li>
       Normal Item3
     </li>
     <li>
       Normal Item
        <ul>
          <li>
           I want THE SEARCH to appear here
          </li>
       <ul>
     </li>
    </ul> 
```

希望这是有道理的。谢谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T07:44:29.357

一个快速而肮脏的黑客攻击。它会（也许，需要调整）工作，但你必须摆弄代码和法典（答案底部的参考），否则你不会再做一次。

```
function add_search_to_wp_menu_item ( $items, $args ) {
    $search_form = '<ul><li class="menu-item menu-item-search">'
                 . '<form method="get......./form>' // FILL IT WITH YOUR HTML
                 .'</li></ul></li>';
    if( 'main-menu' === $args -> theme_location ) {
        $items = preg_replace('/<\/li>\s*$/',$search_form,trim($items));
    }
    return $items;
}
add_filter('wp_nav_menu_items','add_search_to_wp_menu_item',10,2); 
```

它应该起作用，因为我不知道 $item 参数的内容。

如果我猜对了，说明遗留函数的正确性，它是一个包含 li 列表（不包含 ul）的字符串，然后我将 ul 注入最后一个（如果过滤器*正在*处理页）。

**参考：**

*   [http://codex.wordpress.org/Function_Reference/add_filter](http://codex.wordpress.org/Function_Reference/add_filter)
*   [http://www.php.net/manual/en/function.preg-replace.php](http://www.php.net/manual/en/function.preg-replace.php)

**附录**

是什么`'/<\/li>\s*$/'`？

它是一个正则表达式（[请参阅有关它们的简单教程](http://www.agillo.net/regex-primer-part-1/)），它不仅限于 php，因为它存在于多种语言中。

准确地说，它本身就是一种语言。

`preg_replace`利用正则表达式让您执行一些高级字符串操作。该正则表达式告诉引擎在字符串结尾之前找到字符串中的最后一个标记，无论字符串结尾之前是否有空格、制表符或换行符（但只是这组字符）都无关紧要。

我将剖析代码，希望它能对它有所启发。

*   第一个和最后一个字符`/`是正则表达式外壳，真正的正则表达式是`<\/li>\s*$`
*   如果您在字符串中搜索文字`/`，则需要使用`\`. 引擎不会认为它标志着正则表达式的结束。
*   如果你对字符进行转义，你会给它们特殊的含义 \s 是其中之一，并代表一个字符类（一组不同的字符）一个制表符、一个空格或一个新行。
*   `*`是一个数量修饰符，它改变了前一个字符的含义，表明它可以重复多次，其中有几个。我们说 0 或更多。
*   `$' 是一个边界。这意味着字符串的结尾。

当引擎在您的字符串中找到符合您给他的描述的一大块字符时，就会有一个匹配项，并且该部分字符串将使用 preg_replace 的第二个参数进行更改。

我只是触及了这个话题的表面，你可以选择是否深入。

我链接的教程（您需要阅读所有 3 个部分）是一个很好的起点。

# bash - sed 匹配比预期更贪婪

> ID：10844931
> 
> 赞同：2
> 
> 时间：2012-06-01T05:35:56.813
> 
> 标签：bash, curl, sed

我正在尝试在 Bash 中编写一行来获取给定 URL 的 Content-Type（无编码）。这是我到目前为止所拥有的：

```
curl -Is http://www.google.com | sed -nr 's/^Content-Type: ([^;]*)/\1/Ip' 
```

但是，这仍然是打印`text/html; charset=ISO-8859-1`，而不仅仅是`text/html`. 不应该`([^;]*)`在第一个分号后停止比赛吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:44:59.907

你想要的是：

```
curl -Is http://www.google.com | sed -nr 's/^Content-Type: ([^;]*).*/\1/Ip' 
```

基本上`.*`在匹配组之后添加一个，以便 text/html 之后的部分；不会输出。

# javascript - JavaScript中的“（函数（窗口，未定义）{}）（窗口）”是什么意思？

> ID：10844933
> 
> 赞同：3
> 
> 时间：2012-06-01T05:36:10.307
> 
> 标签：javascript, jquery

> **可能重复：**
> [此 JavaScript/JQuery 语法如何工作：(function(window, undefined) {})(window)？](https://stackoverflow.com/questions/2716069/how-does-this-javascript-jquery-syntax-work-function-window-undefined)

```
(function(window, undefined){})(window); 
```

这段代码的含义是什么？我在很多文档中都看到过，尤其是在 jQuery 文档中。

这是如何工作的，为什么这样定义？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T05:40:54.060

您正在确定一段代码的范围..

经过。

1.  在匿名函数中定义它`//function(){...}`
2.  执行它。 `//(function{})(args)`

此外，传递 window 参数可以更快地解析代码块中该变量的含义。

# asp.net - app_offline.htm 文件用于使 web 服务脱机 - 可以读取文件内容吗？

> ID：10844938
> 
> 赞同：0
> 
> 时间：2012-06-01T05:36:43.603
> 
> 标签：asp.net

我正在使用此处所述的 app_offline.htm 文件： [http](http://weblogs.asp.net/scottgu/archive/2005/10/06/426755.aspx) : //weblogs.asp.net/scottgu/archive/2005/10/06/426755.aspx 使旧的 asmx Web 服务脱机。

一切正常，客户端收到 HTTP 503 异常，如：

```
Exception : System.Net.WebException
The request failed with HTTP status 503: Service Unavailable.
Source : System.Web.Services
Stack trace :
   at System.Web.Services.Protocols.SoapHttpClientProtocol.ReadResponse(SoapClientMessage message, WebResponse response, Stream responseStream, Boolean asyncCall)
   at System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke(String methodName, Object[] parameters) 
```

我的问题：客户端应用程序是否可以读取 app_offline.htm 文件的内容，该文件将被返回？该文件中的基本 HTML 包含有用的文本，例如：“应用程序当前正在进行维护”。我可以看到这个文件的内容在使用 Fiddler 的响应中返回。

能够解析此 html 响应以向用户提供更多信息会很有用。（即，因此可以区分由于系统维护导致的 503 错误，以及由于系统过载等导致的其他 503）。

**编辑**：BluesRockAddict 的反应听起来不错，但此时流似乎不可用。例如：

```
 // wex is the caught System.Net.WebException 
            System.Net.WebResponse resp = wex.Response;

            byte[] buff =  new byte[512];
            Stream st = resp.GetResponseStream();

            int count = st.Read(buff, 0, 512); 
```

上面尝试读取流的最后一行给出：

```
Exception : System.ObjectDisposedException
Cannot access a closed Stream.
Source : mscorlib
Stack trace :
   at System.IO.__Error.StreamIsClosed()
   at System.IO.MemoryStream.Read(Byte[] buffer, Int32 offset, Int32 count) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-01T08:38:43.250

归功于 BluesRockAddict，添加到他的答案中，这就是您可以阅读 html 页面内容的方式。

```
catch (WebException ex)
{
    if (((HttpWebResponse)ex.Response).StatusCode == HttpStatusCode.ServiceUnavailable)
    {
        using (Stream stream = ex.Response.GetResponseStream())
        {
            using(StreamReader reader = new StreamReader(stream))
            {
                var message = reader.ReadToEnd();
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:56:10.037

您应该使用[WebException.Response](http://msdn.microsoft.com/en-us/library/system.net.webexception.response.aspx)来检索消息：

```
using (WebClient wc = new WebClient())
{
    try
    {
        string content = wc.DownloadString(url);
    }
    catch (WebException ex)
    {
        if (((HttpWebResponse)ex.Response).StatusCode == HttpStatusCode.ServiceUnavailable)
        {
            message = ex.Response
        }
    } 
} 
```

# windows-phone-7 - 为什么在应用程序栏中提供 iconuri 时出现空引用异常？

> ID：10844941
> 
> 赞同：0
> 
> 时间：2012-06-01T05:37:14.670
> 
> 标签：windows-phone-7

在应用程序栏中，我首先给出了一些图像。单击该图标时需要分配新图像。为此，在单击事件中编写了以下代码。

```
 private void searchbtn_Click(object sender, EventArgs e)
        {
            searchbtn.IconUri = new Uri("/Images/settings_high.png", UriKind.RelativeOrAbsolute);
        } 
```

获取 NULL 参考异常。请帮助我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-08T14:09:09.337

如果您不知道（我不知道），您必须将图像构建操作属性设置为内容，而不是资源。然后您可以像这样访问该文件：

```
StreamResourceInfo resourceInfo = Application.GetResourceStream(new System.Uri("ima1.png", UriKind.Relative)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-01T05:45:12.497

如果堆栈跟踪`NullReferenceException` *直接*在您的方法中显示 a，则表明它`searchbtn`为空。

我建议您在该行代码上放置一个断点并在调试器中运行它，然后使用 Auto 窗口检查`searchbtn`.

是否有可能您已经声明了自己的`searchbtn`变量，而实际上还有另一个*名称相似的*变量实际上引用了一个按钮？事件处理程序名称会暗示其他情况，但至少值得检查。

如果堆栈跟踪显示代码`NullReferenceException` *更深*，则表明存在不同的问题。如果您可以发布完整的堆栈跟踪，那将有所帮助。

# google-api - Google Api - 获取用户电子邮件 ID

> ID：10844945
> 
> 赞同：0
> 
> 时间：2012-06-01T05:37:46.380
> 
> 标签：google-api

我正在使用 Google API - PHP 客户端连接到 Google Analytics API。有什么方法可以在验证用户并授予权限时获取用户的电子邮件地址？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T05:44:17.917

使用[Google Management API for Analytics](https://developers.google.com/analytics/devguides/config/mgmt/v3/mgmtReference)。当您对[https://www.googleapis.com/auth/analytics.readonly](https://www.googleapis.com/auth/analytics.readonly)进行经过身份验证的调用时，您将收到（除其他外）定义为“经过身份验证的用户的电子邮件地址”的用户名。

# php - 在 PHP 类中使用数组

> ID：10844951
> 
> 赞同：0
> 
> 时间：2012-06-01T05:38:34.207
> 
> 标签：php, arrays, class

我是第一次尝试类和对象，我想我会为一个可以存储诸如书籍之类的东西的 Box 制作一个模板。（根据现实世界的项目思考）

```
<?php

function feetToInches($feet){
    $feet = $feet * 12;
    return $feet;
}

class Book{
    var $l = 6;
    var $w = 5;
    var $h = 1;
}

class Box{
    //This is a box. It has length, width, and height, and you can put things in it.
    var $length = 0;
    var $width = 0;
    var $height = 0;
    var $storedArray = array();

    function setDimensions($l, $w, $h){
        $this->length = feetToInches($l);
        $this->width = feetToInches($w);
        $this->height = feetToInches($h);
    }

    function storeThings($thing){
        $this->storedArray[] = $thing;
    }

    function getThings(){
       return $this->storedArray;
    }

}

$thatBook = new Book;
$BookBox = new Box;

$BookBox->setDimensions(6,5,1);

for($i = 0; $i < 5; $i++){
    $BookBox->storeThings($thatBook);
}

echo $BookBox->getThings() . "<br />";

/*
foreach($BookBox->getThings() as $item){
echo $item;
}
*/

var_dump($BookBox);

?> 
```

所以我在这里很简单，你有一个维度的盒子，你把固定维度的书扔进去。

把东西放进去没问题，但是当我试图取回它们时，我要么得到错误，要么什么也没有发生。当我尝试为数组指定一个键时

```
echo $BookBox->getThings()[2]; 
```

我收到一个错误，它不是数组或其他东西。

那么有人可以在这里为我指出正确的方向吗？

通常课程是一个单独的文件，但我只是在这里学习。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:41:48.957

您使用的是什么版本的 PHP。

数组解引用（引用返回的数组）仅在 PHP 5.4 中添加。

如果您使用的是以前的版本，则必须这样做：

```
$books = $BookBox->getThings();
echo $books[2]; 
```

**编辑**

由于您将 Books 推入一个盒子，`$books[2]`因此返回 Book 对象的一个​​实例。Echo 用于输出字符串，因此会出现错误。

您可以回显该书的特定属性，也可以通过执行以下操作打印出所有属性：

```
print_r($books[2]); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T05:50:37.060

首先，你不能做，`echo`因为你得到的不是字符串而是对象。使用`print_r()`或`var_dump()`代替。

其次，就像这里的其他答案一样，你应该这样做。

```
$books = $BookBox->getThings();
print_r($books[2]); 
```

但我建议你`getThings()`接受一个变量来获取指定的数组元素：

```
function getThings($key = null) {
  if ($key) {
    return isset($this->storedArray[$key]) ? $this->storedArray[$key] : null;
  } else {
    return $this->storedArray;
  }
}

// Then you can do this
// print_r($BookBox->getThings(2)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-01T05:41:48.730

当您调用 $BookBox->getThings() 时，您所调用的实际上是一个对象，而不是一个数组。

您可以尝试以下方式：

```
$books = $BookBox->GetThings();
echo $books[2]; 
```

# javascript - 在锚点上旋转div？

> ID：10844955
> 
> 赞同：-1
> 
> 时间：2012-06-01T05:38:54.840
> 
> 标签：javascript, jquery, html, css

我想将 DIV 80x120px（一张扑克牌）旋转一个设定的角度。但它必须相对于它的右下角而不是它的中心点旋转。

[我正在尝试创建的示例](http://dl.dropbox.com/u/3894792/screenshot.png)

我想创建一个卡片风扇，但它们必须每个旋转 0.5 度。我找到了一些旋转示例，但它们不包括基于右下角的旋转，仅包括基于中心的旋转。

有没有办法做到这一点？我认为 jQuery 是答案，但还没有找到任何解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-01T06:24:24.170

这取决于您要支持的浏览器以及旋转 DIV 的方式

最新的浏览器支持`-vendor-transform-origin:`CSS3 属性，它完全符合您的要求。

# memory-leaks - Qt Symbian 内存，设备上的应用程序意外终止

> ID：10844958
> 
> 赞同：0
> 
> 时间：2012-06-01T05:39:38.173
> 
> 标签：memory-leaks, symbian

最近我确实开发了一个 Symbian 应用程序。在 Qt 模拟器中它运行良好，但在实际设备中应用程序意外终止。我怀疑这是内存泄漏问题。我已经遵循了所有可能的（以下）内存清理机制：

*   创建新对象作为指针。
*   使用后删除对象
*   使用“删除”关键字。在 ui 对象上使用 deleteLater() 函数。

但应用程序仍然在设备上终止。

请为此建议我可能的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-08T11:07:29.723

您可以尝试使用 .PRO 文件中的 EPOCHEAPSIZE 和 EPOCSTACKSIZE 语句增加堆和/或堆栈大小

[http://qt-project.org/doc/qt-4.8/qmake-platform-notes.html#stack-and-heap-size](http://qt-project.org/doc/qt-4.8/qmake-platform-notes.html#stack-and-heap-size)

尽管它可能取决于您使用的 Qt SDK，因为文档现在指出 Qt 工具链已经将这些设置为最大可能值。

# c - 如何使用 C 在 Accelerometer 中注册监听器

> ID：10844960
> 
> 赞同：-1
> 
> 时间：2012-06-01T05:39:49.143
> 
> 标签：c, embedded, accelerometer

我正在开发带有 LIS3lv02dh 加速度计芯片组的 STM32f2xx 处理器评估板。

我已经能够对加速度计进行编程，以根据加速度计中的阈值电平变化在中断时唤醒处理器，但是如何在唤醒期间注册事件。

如何注册加速度计传感器处理程序，以便在发生中断时通知应用程序代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-02T07:09:28.383

您需要阅读并理解 STM32f2xx 用户参考手册。你没有操作系统（我猜），通用的谷歌搜索对你没有帮助；问题非常具体到您正在使用的部件。

STM32F2xxx 标准外设库（可从 ST 网站下载）包含所有外设的大量示例，包括我相信使用唤醒源的示例。

如果加速度计包含在评估板上，我想它包含示例代码或可能有帮助的支持库。

# javascript - 连续触发多个 jquery 事件监听器

> ID：10844962
> 
> 赞同：0
> 
> 时间：2012-06-01T05:39:58.713
> 
> 标签：javascript, jquery, javascript-events

假设我正在做这样的事情：

```
$('#demo').click(func1);
$('#demo').click(func2); 
```

在 Firefox 中，使 func1() 在 func2() 之后运行，但不在 IE 上。

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:41:07.880

### 不需要多次将同一个事件绑定到同一个元素，尽管 jQuery 没有问题。

只是简单地写

```
$('#demo').click(function() {
  // serial execution of functions
  func1();
  func2();
}); 
```

如果您需要为多个元素绑定单击，则过程将是

```
$('#demo1, #demo2').click(function() {
   // do your stuff
}); 
```

您可以[`.on()`](http://api.jquery.com/on)用于事件绑定，例如：

```
$('#demo').on('click', function() {
  func1();
  func2();
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-01T05:41:16.250

而不是绑定事件两次在点击事件中调用这两个函数。您可以像这样在没有绑定事件的情况下进行两次。

```
$('#demo').click(function (){

func1(); 

func2();

}); 
```

如果你想多次绑定它，那么你可以这样做，但是应该避免没有充分理由的多次绑定事件。[JsFiddle 上的演示](http://jsfiddle.net/gZrjd/2/)

```
$('#demo').bind('click', function(){
   alert("fun1");})
    .bind('click', function(){
  alert("fun2");
 }); 
```

# facebook - phonegap + facebook 插件不起作用

> ID：10844969
> 
> 赞同：0
> 
> 时间：2012-06-01T05:40:37.440
> 
> 标签：facebook, plugins, cordova

我知道有人问过类似的问题，但没有一个问题得到解决。

所以基本上我正在测试插件包中的示例 index.html 但是当单击“登录”时重定向到模拟器中的 safari（由于缺少 fb 应用程序）和我 iphone 中的 fb 应用程序，它打开了诊断“允许”我的应用程序，但之后它永远不会返回到我的应用程序..

我确实有 facebook id 来替换 index.html 中的那个，并且插件的设置工作：它编译并运行。

当我自己回到我的应用程序并单击按钮以填充我的朋友列表时，它会说：

{"message", "查询需要一个活动令牌...}

**更新：我自己解决了这个问题。**这实际上是由于我的设置（它编译但它不会工作）：

在 YourApp-info.plist 中，URL 应该是

> 脸书#appID

但在示例 index.html 中，它应该是

> #appID

（没有 fb 前缀）！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T06:25:02.900

提示我不确定。您为 fb[APP_ID] 输入的 id 是什么您输入了 fbfb（两次）

```
<key>CFBundleURLTypes</key>
<array>
<dict>
    <key>CFBundleURLName</key>
    <string>[SCHEME_ID]</string>
    <key>CFBundleURLSchemes</key>
    <array>
        <string>fb[APP_ID]</string>
    </array>
</dict>
</array> 
```

# php - 使用 PHP 抓取 Channel Advisor 的页面编号

> ID：10844970
> 
> 赞同：0
> 
> 时间：2012-06-01T05:40:52.333
> 
> 标签：php

我正在尝试提取 ChannelAdvisor 库存列表的页码，但它总是输出 EMPTY。

这是我的代码：

```
 <?php
$url = "https://merchant.channeladvisor.com/AM/MyInventory/View_Inventory.aspx?apid=32001263";
$str = file_get_contents($url);

preg_match('/<span id="Surround_ctl00_Surround_Content_Paging_ctl00_l1">&nbsp;of (.*?)<\/span>&nbsp;/',$str,$as);
var_dump($as);
?> 
```

我正在尝试提取340 ..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T05:54:42.367

您可能想要调查 Curl，您尝试访问的地址是 HTTPS 并且需要身份验证。这可能就是您没有取回任何数据的原因。

[PHP 卷曲](https://stackoverflow.com/questions/2140419/how-do-i-make-a-request-using-http-basic-authentication-with-php-curl)

# emacs - 使emacs不会自动更改行尾

> ID：10844978
> 
> 赞同：1
> 
> 时间：2012-06-01T05:41:11.740
> 
> 标签：emacs

这不是关于使用 windows 风格的线端。我更喜欢unix风格。但我不希望 emacs 为我更改那些 windows 行的结尾。自动更改有时很烦人

怎么做 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T06:13:09.103

Emacs 不会自动更改 EOL 字符。默认情况下，它会检测并使用文件中现有的 EOL 字符。

> Emacs 根据文件的内容识别使用哪种换行符：如果它只看到回车，或者只看到回车换行序列，那么它会相应地选择行尾转换。您可以通过将变量“inhibit-eol-conversion”设置为非“nil”来禁止自动使用行尾转换。如果你这样做，DOS 风格的文件将显示在缓冲区中可见的 `^M' 字符；有些人更喜欢这个，而不是模式行左边缘附近更微妙的“（DOS）”行尾类型指示（*note eol-mnemonic: Mode Line.）。

`C-h``i``g` `(emacs) Recognize Coding` `RET`

当前的 EOL 编码显示在模式行的左侧：

> CS 后面的字符通常是冒号。如果显示不同的字符串，则表示对文件进行编码的行尾约定很重要。通常，文本行在文件中由“换行符”分隔，但有时会使用另外两种约定。MS-DOS 约定使用“回车”字符后跟“换行”字符；编辑此类文件时，冒号会变为反斜杠 (`\') 或 `(DOS)'，具体取决于操作系统。旧的 Macintosh 系统采用的另一种约定是使用“回车”字符而不是换行符。编辑此类文件时，冒号变为正斜杠 (`/') 或 `(Mac)'。在某些系统上，对于使用换行符作为行分隔符的文件，Emacs 会显示 `(Unix)' 而不是冒号。

`C-h``i``g` `(emacs) Mode Line` `RET`

启动 Emacs`emacs -Q`以检查其默认行为。

# symfony - 如何在 Symfony2 的路由中使用句点？

> ID：10844984
> 
> 赞同：0
> 
> 时间：2012-06-01T05:41:50.570
> 
> 标签：symfony, routes

我试图在 symfony 中有一条与以下 url 匹配的路由：

`/filename/version/`

其中文件名是图像，例如“image.png”和版本，例如“foo”。

```
MyImageBundle_resize:
    pattern: /{filename}/{sizename}/
    defaults: { _controller: MyImageBundle:ImageResize:resize } 
```

例如，这与模式匹配`/myfile/XXL/`。但是当我使用 myfile.jpg 时，在`/myfile.jpg/XXL/`Symfony 中似乎在句号上中断，并返回 404。我发现这篇[文章](http://symfony.com/doc/current/cookbook/routing/slash_in_parameter.html)表明除了“/”之外的所有内容都将匹配（如果句号中断，这没有任何意义这里）。

有没有办法可以在期间进行路线匹配？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-01T09:40:05.363

您不需要在 URL 中允许斜杠。只需使用简单的路线：

```
file_check:
    pattern:  /check/{filename}/{version}
    defaults: { _controller: AcmeDemoBundle:File:check } 
```

在您的控制器中使用：

```
public function checkAction($filename, $version)
{
    //some action
} 
```

# objective-c - 如何删除obj c中文件夹的内容

> ID：10844988
> 
> 赞同：0
> 
> 时间：2012-06-01T05:42:19.327
> 
> 标签：objective-c, ios, xcode, directory, nsfilemanager

我使用以下方法删除了文件夹的所有内容

```
NSFileManager *fm = [NSFileManager defaultManager];
    NSArray* arrFilePath = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString * strFilePath = [arrFilePath objectAtIndex:0];
    NSString *directory = [strFilePath stringByAppendingPathComponent:@"Electronic_Instrumentation-Sapna_publications"];
    NSError *error = nil;
    for (NSString *file in [fm contentsOfDirectoryAtPath:directory error:&error]) 
    {
        directory = [directory stringByAppendingPathComponent:file];
        BOOL success = [fm removeItemAtPath:directory error:&error];
        file = nil;
        if (!success || error) 
        {
            NSLog(@"Failed to remove files");
        }
    } 
```

但它只删除目录中的第一个文件

说我在目录中有 3 个文件 file1.txt、file2.txt、file3.txt

当我调用此方法时，它只会删除 file1.txt 而不会删除其他文件，如果我再次调用该方法，它将删除 file2.txt 但不会删除 file3.txt

我怎样才能解决这个问题，，？？

有什么办法可以删除目录？？提前谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T05:48:11.293

问题是您在`directory`第一次通过循环时正在更改。此后，您使用的路径无效。第一次通过循环，`directory`有类似的东西：

```
/path/to/the/file1.txt 
```

下次通过循环时，您附加下一个文件名，因此`directory`变为：

```
/path/to/the/file1.txt/file2.txt 
```

那显然行不通。

*查找*此类问题的最佳方法是在调试器中单步调试代码，同时观察相关变量。

既然您知道它是什么，*解决*此问题的正确方法是停止修改`directory`. 您可以使用临时变量，如下所示：

```
for (NSString *file in [fm contentsOfDirectoryAtPath:directory error:&error]) 
{
    NSString *path = [directory stringByAppendingPathComponent:file];
    BOOL success = [fm removeItemAtPath:path error:&error]; 
```

或者您可以只使用 的结果`-stringByAppendingPathComponent:`作为 的参数`-removeItemAtPath:error:`，如下所示：

```
for (NSString *file in [fm contentsOfDirectoryAtPath:directory error:&error]) 
{
    BOOL success = [fm removeItemAtPath:[directory stringByAppendingPathComponent:file]
                                  error:&error]; 
```

> **有什么办法可以删除目录？？**

您可以查看文档以获取`-removeItemAtPath:error:`. 我会帮你省一趟：

> 指示要删除的文件或目录的路径字符串。如果路径指定了一个目录，则该目录的内容将被递归删除。

所以是的，有一种简单的方法可以删除目录。只需在`path`参数中指定目录即可`-removeItemAtPath:error:`。

# pdf-generation - 使用 dompdf 生成 PDF

> ID：10844990
> 
> 赞同：1
> 
> 时间：2012-06-01T05:42:22.297
> 
> 标签：pdf-generation, dompdf

使用 dompdf 我生成 pdf 文件。我成功生成它。但是当我在 Foxit 阅读器中打开它时生成它之后，它在 51.79% 模式下打开的尺寸非常小。当我选择“适合宽度”或 125% 时，它会正确显示。当我默认打开 pdf 时，它可以打开 125% 模式吗？

我使用了以下功能：

```
function pdf_create($html, $filename)
    {
        ini_set("memory_limit", "50M");
        //define pdf store path
        $invoice_pdf_path = ABSOLUTE_PATH;
        require_once("dompdf/dompdf_config.inc.php");
        $dompdf = new DOMPDF();
        $dompdf->load_html($html);
        $dompdf->set_paper("a4", "portrait");
        $dompdf->render();
        //$dompdf->stream("abc_out.pdf");
        $pdf = $dompdf->output();
        @file_put_contents($invoice_pdf_path . $filename . ".pdf", $pdf);

    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-01T06:17:13.320

使用 dompdf 0.6 beta，您可以通过在 HTML 源代码中添加元标记来设置 PDF 的默认视图：

```
<meta name="dompdf.view" content="FitH" /> 
```

可能的值是“XYZ”、“Fit”、“FitH”、“FitV”、“FitR”、“FitB”、“FitBH”、“FitBV”，[在此处描述](http://www.verypdf.com/pdfinfoeditor/pdf-tools-command-line.htm#Set_page_magnification_)

# javascript - 没有所有后代节点的 JS 的 textContent

> ID：10844991
> 
> 赞同：2
> 
> 时间：2012-06-01T05:42:28.883
> 
> 标签：javascript, dom

我想获取当前节点的文本内容，但不获取任何后代节点的文本内容。关于我如何做到这一点的任何想法？

textContent 是后者。nodeValue 返回一个空字符串。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-01T06:29:45.943

不确定是否有更简单的方法，但您始终可以遍历所有节点的子节点并获取文本节点的值。

```
var text = "";
var child = element.firstChild;

while(child) {
    if (child.nodeType === 3) { // nodeType === Node.TEXT_NODE
        text += child.nodeValue;
    }

    child = child.nextSibling;
}

console.log(text); 
```

[http://jsfiddle.net/zqbyE/](http://jsfiddle.net/zqbyE/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-10-01T15:30:38.993

我遇到了同样的问题，并通过获取第一个孩子的 textContent 来解决它，这实际上是文本。因此代码变为：

```
node.firstChild.textContent 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T13:02:16.420

我刚刚在当前节点中创建了一个包含该节点特定 textContent 的跨度，并且正在为此获取 txt。我不知道......似乎比遍历所有节点的孩子更容易。还是）感谢你的建议！

# iphone - 在 iOS 5.1.1 上保存图像随机工作

> ID：10844999
> 
> 赞同：2
> 
> 时间：2012-06-01T05:43:36.293
> 
> 标签：iphone

我正在尝试使用以下代码保存从 UIImagePickerController 获取的图像：

```
NSString *docsDirectory = 
  [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) 
    objectAtIndex:0];
NSString *path = [docsDirectory stringByAppendingPathComponent:@"myImage.png"];

UIImage *image = [info objectForKey:@"UIImagePickerControllerOriginalImage"];
[UIImagePNGRepresentation(image) writeToFile:path atomically:YES]; 
```

保存图像后，我再次在另一个屏幕中读取图像：

```
NSString *docsDirectory = 
  [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) 
    objectAtIndex:0];
NSString *path = [docsDirectory stringByAppendingPathComponent:@"myImage.png"];
UIImage *extractedImage= [UIImage imageWithContentsOfFile:pngPath]; 
```

此代码在 iPhone 4 (iOS 5.1.1) 上运行良好，但在 iPhone 4 (iOS 5.1.1)、iPad 1 (iOS5.1) 和 iPad 2 (iOS5.1.1) 设备上此代码随机运行。

有时图像会在第一次保存，有时会在尝试 2-3 次后保存。