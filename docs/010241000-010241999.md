# StackOverflow 问答 10241000-10241999

# database - 用于教育目的的简单数据库实现

> ID：10241002
> 
> 赞同：7
> 
> 时间：2012-04-20T05:55:57.380
> 
> 标签：database, implementation, system, data-management

我想深入学习数据库系统的实现。是否有一个用于教育目的的开源简单数据库实现，我可以通过代码？就像有很多操作系统实现（Minix，Pintos ...）。我想知道是否也有类似的数据库教育系统。

我读了几本教科书，它们主要侧重于理论和概念。

非常感谢！阿尔弗雷德

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-20T23:25:01.993

然后找一些教育材料 :) 当我学习 db 概念时，我的教授要求我们编写一个简单的 dbms。一个重要的参考是**Redbase**：

[http://infolab.stanford.edu/~widom/cs346/](http://infolab.stanford.edu/~widom/cs346/)

希望有帮助。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-20T06:00:39.647

[MySQL](http://dev.mysql.com/downloads/)、[PostgreSQL](http://doxygen.postgresql.org/)、[SQlite](http://www.sqlite.org/download.html)都是开源的。你可以找到他们的源代码和相关文档。
还要检查[NoSQL](http://nosql-database.org/)数据库组。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-20T06:05:51.507

是什么让您认为实现数据库很简单？

您对数据库的哪些部分感兴趣？存储管理？索引？查询语言？查询计划？交易？

现代（甚至是“玩具”）关系系统具有所有这些组件，这使得它们从一开始就相当复杂。其他数据库，例如基于 dbm 的数据库要简单得多。然后你有像 Lucene 这样的东西，它是一个文档和自由格式文本的数据库——概念上很简单，但在扩展方面付出了很多努力。

如果您对查询语言感到好奇，可以查看 SPARQL 的实现，因为它们适用于 RDF 三元存储（这不是超级复杂）。

还有像 Prevlayer 这样的东西，它是一个内存数据库，使用了一个叫做流行度的概念。可能是所有这些中最简单的，当你真正开始时。

# sql - 如何在 SQL Server 中使用 IN 运算符

> ID：10241009
> 
> 赞同：3
> 
> 时间：2012-04-20T05:56:41.170
> 
> 标签：sql, sql-server

如何在 SQL Server 中使用 IN 运算符

这是表结构

```
Create Table Sample(Id INT,Name Varchar(50)) 
```

虽然我是这样的查询，但我可以获得价值

```
Select * FROM Sample WHERE Id IN ('74','77','79','80') 
```

在执行上述查询时，我无法获取与该表相关的记录，但在执行此错误时出现错误。

```
DECLARE @s VARCHAR(MAX)

SET @s='74','77','79','80'

Select * FROM Sample WHERE Id IN (@s) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T05:58:43.853

你用错了方法

使用以下方式

```
DECLARE @s VARCHAR(MAX)
DECLARE @d VARCHAR(MAX)

SET @s='74 , 77 , 79 , 80'

set @d = 'select * from arinvoice where arinvoiceid in('+@s+')'
exec (@d) 
```

这里`IN`运算符使用整数集合而不是字符串集合..

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T05:59:34.540

您应该使用返回结果集的函数（采用 csv 格式并返回表格）

```
SET ANSI_NULLS ON 
SET QUOTED_IDENTIFIER ON 

GO 

ALTER FUNCTION [dbo].[Splitt] (@String    NVARCHAR(4000), 
                               @Delimiter CHAR(1)) 
RETURNS @Results TABLE ( 
  Items NVARCHAR(4000)) 
AS 
  BEGIN 
      DECLARE @Index INT 
      DECLARE @Slice NVARCHAR(4000) 

      SELECT @Index = 1 

      IF @String IS NULL 
        RETURN 

      WHILE @Index != 0 
        BEGIN 
            SELECT @Index = Charindex(@Delimiter, @String) 

            IF @Index <> 0 
              SELECT @Slice = LEFT(@String, @Index - 1) 
            ELSE 
              SELECT @Slice = @String 

            IF ( NOT EXISTS (SELECT * 
                             FROM   @Results 
                             WHERE  items = @Slice) ) 
              INSERT INTO @Results 
                          (Items) 
              VALUES      (@Slice) 

            SELECT @String = RIGHT(@String, Len(@String) - @Index) 

            IF Len(@String) = 0 
              BREAK 
        END 

      RETURN 
  END 
```

现在你可以写：

```
DECLARE @s VARCHAR(MAX)

SET @s='74,77,79,80'

Select * FROM Sample WHERE Id IN (select items from dbo.Splitt(@s,',')) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T06:15:56.370

如果您使用的是 ADO.NET，则可以避免使用魔术字符串，只需使用 SqlDataRecord。

或者，如果您使用的是 SQL Server 2008，您还可以通过使用表值参数来避免魔术字符串

资料来源： http: [//www.sommarskog.se/arrays-in-sql-2008.html](http://www.sommarskog.se/arrays-in-sql-2008.html)

# java - 关于 SSL setSessionTimeout

> ID：10241021
> 
> 赞同：0
> 
> 时间：2012-04-20T05:57:39.407
> 
> 标签：java, ssl

我创建了一个 SSL 会话。我想在会话超过超时值时使会话无效。我的问题是我是否需要添加单独的代码来检查会话时间以使会话页面无效，还是该功能会自动处理这个问题？

```
socket.startHandshake();
sess= socket.getSession()
socket.setSessionTimeout(120); 
```

设置会话超时

```
setsessiontimeout() 
```

指定 servlet 容器使该会话无效之前客户端请求之间的时间（以秒为单位）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-23T04:45:05.450

我怀疑您是否知道 SSL 会话或其超时究竟是什么。我认为您实际上是在谈论由 JSESSIONID 标识的 servlet 会话。它的超时值在 web.xml 中配置。servlet 容器会在超时时自动使会话失效。

当相同的两个对等点之间发生多个连接时，SSL 会话用于减少握手开销。在 SSL 会话上设置超时会导致它在超时后过期，但这仅意味着客户端必须在下次连接时创建一个具有完整握手的新 SSL 会话（因为新连接无法加入过期会话）。例如，这并不意味着他现有的连接会失效，或者他会从 Web 应用程序中注销。

另一方面，如果您的问题确实是关于`SSLSessionContext.setSessionTimeout()`，（a）是的，它设置 SSL 会话超时，就像它在 Javadoc 中所说的那样，并且（b）我不明白您为什么要询问 JSSE 中的其他方法来做同样的事情事物。

# c# - 如何在 asp.net mvc3 中创建自定义授权过滤器

> ID：10241022
> 
> 赞同：0
> 
> 时间：2012-04-20T05:57:47.520
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, asp.net-mvc-2, authorization

我有一个问题，我正在 asp.net mvc3 中构建一个站点，
在该站点中，我使我的几个控制器都获得了授权
，因为我不希望未经授权的用户访问该控制器。
假设我有一个控制器和 2 个方法，如下所示

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;

namespace Com.health.Controllers
{
    [Authorize]
    public class MyfirstController : Controller
    {
        public ActionResult Index()
        {
            return View();
        }        
        public ActionResult seeyourDetails(int id)
        {
            return View();
        } 
    }
} 
```

现在假设我们的方法`seeyourDetails`告诉任何用户他的帐户信息，但问题是当用户访问此方法时，URL 是 `http://www.exampple.com/Myfirst/seeyourDetails/10`，`10`当前用户 ID 在哪里，我通过它向他显示他的详细信息，但是我应该怎么做，如果一个人登录到我的网站，他访问此 URL 并手动添加`10`或 URL 中的任何其他数字，我的控制器将向他显示有关该用户的所有详细信息。

注意：我可以在一个或两个地方执行此操作，但我需要在一个地方实施一些解决方案，它会影响我的整个应用程序。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T08:04:37.777

我看到的唯一方法是检查查询字符串中的用户 id 是否与登录的用户 id 相同。这更像是一种修补解决方案，正确的方法是更改​​应用程序的工作方式。像这样的东西，您仍然需要对其进行一些修改。

```
[AttributeUsage(AttributeTargets.Method|AttributeTargets.Class, AllowMultiple = false)]
public class  MyAuthorizeAttribute : AuthorizeAttribute
{
    public override void OnAuthorization(AuthorizationContext filterContext)
    {
        base.OnAuthorization(filterContext);
        var ctx = filterContext.HttpContext;
        var name = ctx.User.Identity.Name;

        //get user id from db where username= name   

        var urlId = Int32.Parse(ctx.Request.Params["id"]);
        if (userId!=urlId)
            filterContext.Result = new HttpUnauthorizedResult();
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T09:17:41.023

首先`Authorize`是非常强大和细化。您可以在类级别和方法级别使用它。您还可以设置哪些角色可以访问它。

```
[Authorize]
public class MyFirstController : Controller 
```

你基本上是说任何已经过身份验证的用户，你也可以使用

```
[Authorize(Roles="Administrator")]
public class MyFirstController : Controller 
```

给你更精细的控制。在这里，您说只有管理员角色的用户才能访问这些内容。现在对于`SeeYourDetails`Action，您实际上不应该发送用户 ID。如果用户当前已登录，您可以访问他/她的详细信息，如下所示：

```
var current = Membership.GetUser(); 
```

所以你所有的代码看起来像这样：

```
using System;
using System.Web;
using System.Web.Mvc;
using System.Web.Security;
using System.Collections.Generic;

namespace TestArea.Controllers
{
    [Authorize]
    public class MyFirstController : Controller
    {

        public ActionResult Index()
        {
            return View();
        }

        public ActionResult SeeYourDetails() 
        {
            //get the currently logged in user
            var current = Membership.GetUser();
            //you can always do something else here
            return View(current);
        }

    } 
```

更多关于授权属性的信息[http://msdn.microsoft.com/en-us/library/system.web.mvc.authorizeattribute.aspx](http://msdn.microsoft.com/en-us/library/system.web.mvc.authorizeattribute.aspx)

最后但并非最不重要的。如果你要用 C# 编程，你应该尊重它的符号:-) 希望这会有所帮助

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T06:15:30.770

您不必从查询字符串参数中获取用户 ID。您必须设置为经过身份验证的用户信息的会话。当您需要知道经过身份验证的用户时，从会话中获取它

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-20T09:41:46.553

您要说的是数据授权，用户登录网站后只能看到他的详细信息。

您可以按照@MikeSW 在授权过滤器中所说的创建自定义授权过滤器，检查登录用户的 id 是否与查询字符串中传递的 id 相同，并且您必须将用户 id 存储在会话中。

由于它是一个过滤器，您也可以在操作级别或控制器级别或全局级别应用。

# c# - Bob Jenkins 在 VB.Net 中完美的哈希函数

> ID：10241027
> 
> 赞同：0
> 
> 时间：2012-04-20T05:58:19.150
> 
> 标签：c#, vb.net, hash

我正在尝试将 Bob Jenkins 完美哈希函数从 C# 转换为 VB.Net，但我一直坚持以下。

```
a += (UInt32)(url[k + 0] + (url[k + 1] << 8) + (url[k + 2] << 16) + (url[k + 3] << 24)) 
```

如何在 VB.Net 中编写上述语句？

请注意以下事项：

a 是 UInt32
url 是字符串
k 是整数

我尝试了以下但它不起作用。

```
a += url(k + 0) + (url(k + 1) << 8) + (url(k + 2) << 16) + (url(k + 3) << 24) 
```

为了避免手动进行类型转换，我使用“Option Strict Off”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:05:59.667

我认为，vb 不支持从字符串到整数的类型转换（按字符值）。
用于`Val(Mid(url,k,1))`将 char 转换为整数并对其进行移位和其他数学运算。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T06:29:08.623

好的，我从这个页面得到了答案。请参阅 Henk Holterman 的回答和 MarkJ 的评论。

[将 C# 代码转换为 VB.NET](https://stackoverflow.com/questions/9333540/converting-c-sharp-code-to-vb-net)

# windows-phone-7 - 从墓碑恢复时如何重新启动应用程序？

> ID：10241030
> 
> 赞同：0
> 
> 时间：2012-04-20T05:58:37.647
> 
> 标签：windows-phone-7

当我的应用程序被墓碑时，我想重新启动应用程序。如何做到这一点？

谢谢~~

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:38:15.443

检查这篇[文章](http://fiercedesign.wordpress.com/2011/08/24/windows-phone-mango-tombstoning-and-life-cycle/)。它解释了为了实施而必须理解的所有应用程序生命周期。检查一下，如果您有任何疑问，请告诉我们。

问候，

# iphone - 在 iOS 应用中通过 iTune 文件共享共享 Sqlite。

> ID：10241032
> 
> 赞同：0
> 
> 时间：2012-04-20T05:58:46.817
> 
> 标签：iphone, objective-c, ios, sqlite

我知道我们可以将文件从应用程序共享到计算机（iTunes），我想知道我可以与 iTunes 共享 Sqlite 文件，或者有什么方法可以将 sqlite 文件导入 excel，然后将这个 excel 文件从应用程序共享到 iTunes。任何代码或帮助都将是可观的。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:24:18.140

在 .plist 中使用此键并解决您的问题

```
<key>UIFileSharingEnabled</key>
    <true/> 
```

`Specifies whether the application shares files with the user’s computer through iTunes`. 通过[苹果](http://developer.apple.com/library/ios/#documentation/general/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html)

# android - android小键盘上的按钮点击

> ID：10241035
> 
> 赞同：2
> 
> 时间：2012-04-20T05:59:22.207
> 
> 标签：android

如何在按钮单击时显示 android 小键盘，而不使用 xml。我知道显示简单键盘的代码是：

```
InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);

imm.toggleSoftInput (InputMethodManager.SHOW_FORCED, 0);
KeyboardMouse.this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE); 
```

但我只想显示数字键盘。请帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:12:20.567

试试下面的代码

```
 EditText ed= (EditText) findViewById(R.id.editeextId);
ed.setInputType(InputType.TYPE_CLASS_NUMBER); 
```

# database - Which is the best way to design a database for searching a particular column efficiently?

> ID：10241037
> 
> 赞同：1
> 
> 时间：2012-04-20T05:59:40.303
> 
> 标签：database, database-design, query-optimization

I have a database table tblDetails with following fields:

itemID(int)(primary), itemCode(varchar), itemName(varchar),itemDescription(varchar)

Now this table has more than 50,000 rows and will keep increasing. When the user enters a itemCode, the query should go through the entire table to check if the itemCode entered by the user is valid or not. So my concern is the time consumed in searching the database as the number of rows increases.

Is there a better way to search a database? Is there a better database design? How much time(approx.) will it take to query 50 thousand rows?

Please suggest.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:02:44.327

Create an index on itemCode, if itemCode is unique for your table, then make it a primary key, it will get a clustered index on it and will be much faster to access

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T06:05:16.420

if you set an **index** on `itemCode`, a search on that column will no longer be linear.

whatever database you're using should take the approach of a balanced tree for a search on that indexed column.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T14:16:20.377

Others have already explained that you should put an index on `itemCode`, let me answer how much time it will take to search: the B-tree index on 50000 values will probably be about 3 levels deep, so it will take 3 disk reads to bring the relevant nodes in memory. Even a cheapo mechanical drive will be able to do about 100 reads per second, so your search will take about 1/30th of the second.

That's the worst case scenario, though. Once relevant pages are cached, you are likely to be able to search in 0 disk reads, which is essentially instantaneous.

BTW, 50000 is really *small* in the context of databases. Proper indexing will enable you to do really fast searching on *orders of magnitude* larger amount. B-tree on 5000000 values *might* be 4 levels or so deep, on 500000000 values 5 levels deep etc... (just example numbers, YMMV). This is a logarithmic dependency, meaning your search slows down much slower than the number of elements raises.

For more on the topic, I warmly recommend reading about [Anatomy of an SQL Index](http://use-the-index-luke.com/sql/anatomy).

# c# - 如何防止使用 PayPal 的网站支付标准编辑隐藏字段？

> ID：10241038
> 
> 赞同：0
> 
> 时间：2012-04-20T05:59:53.153
> 
> 标签：c#, asp.net, paypal

我在我的 ASP.NET 网站中使用 PayPal 的网站支付标准。

我所做的是当用户单击“立即付款”按钮时，我在代码隐藏中执行以下操作：

1.  数据库状态变化
2.  生成 PayPal 表单，项目的隐藏字段
3.  调用 ScriptManager.RegisterClientScriptBlock() 以调用将 PayPal 表单提交给 PayPal 的 javascript 函数。

我担心用户可以在网络浏览器上按停止，然后编辑隐藏表单中的值，然后提交表单。有没有办法防止这种情况？还是更好的选择？

非常感谢您！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T07:03:22.900

我没有做过PP标准。我已经使用了 Gateway 和 Pro/Express Checkout，但已经有一段时间了 - 不过，您的问题可以以更“通用”的方式处理......

不幸的是，您的计划不会采取任何措施来保护您——就像网络上的任何其他 HTML 表单一样，可以使用现成的工具检查和篡改 HTTP 请求和响应。

防止篡改的常用方法是对来自**任何**客户端/浏览器的提交值进行服务器端验证（经验法则是“不信任任何人”）。在您的场景中，您在服务器端做事，但这仍然**在**数据的实际提交目标之前 - 这是 PayPal。实际将数据发送到“目标”的步骤仍然是浏览器/客户端 - 可以说存在问题。要验证的数据适用于您的系统以外的系统（因此您无法验证 PayPal）。

除非有额外的安全层，例如签名或加密，否则它总是容易被篡改（查看已成定局，可以查看）。

我不相信（但我可能是错的）PP Standard 有一个用于发布数据的**服务器到服务器**选项。这将有效地从客户端/浏览器中完全“隐藏”数据——没有什么可看的，也没有什么可篡改的。数据传输在后台 - 客户端/浏览器对此一无所知。

但是，他们的[**PayPal Payments Standard 和 Button Manager API**](https://www.x.com/developers/paypal/documentation-tools/getting-started-guides/website-payments-standard-and-button#tryit)似乎是正确/安全的方式。

**本质上，您将即时**创建他们所谓的“加密按钮” 。这样，对于任何检查数据的人来说，数据看起来都是胡言乱语——这只会对 PayPal 有意义，因为他们可以相应地解密数据。这就是保护/保护数据免遭篡改的方式（不是查看 - 但同样，可以看到的是胡言乱语）......

嗯...

*更新*：

此外，您应该考虑使用 PayPal IPN 来存储数据。您在上面做出假设（我认为），单击按钮的每个人实际上都会完成付款（或可以成功付款）。*使用 IPN，您将仅在成功付款后*“收听”来自 PayPal 的数据（您应该在此处存储与订单相关的数据和/或库存更新等）...。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T10:57:23.827

即使我正在使用 PHP，使用 NVP API，您也可以使用只能由 paypal 使用的令牌获取重定向链接。所有链接都将如下所示`https://www.sandbox.paypal.com/webscr?cmd=_express-checkout&token=TOKEN`，其中`TOKEN`是先前通过调用 PayPal API 检索到的令牌。

我只为 ExpressCheckout 开发了它。您可以在此处查看 API：

[https://cms.paypal.com/us/cgi-bin/?cmd=_render-content&content_ID=developer/howto_api_reference](https://cms.paypal.com/us/cgi-bin/?cmd=_render-content&content_ID=developer/howto_api_reference)

# android - 在 Google 地图上显示英国

> ID：10241042
> 
> 赞同：0
> 
> 时间：2012-04-20T06:00:30.137
> 
> 标签：android

我创建了一个应用程序，其中显示了 Google 地图（3.0 版平板电脑）。

当我第一次加载它时，我需要用缩放显示**UK 。**

用户应该能够放大和缩小。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:29:19.750

试试这个代码：

```
private MapController mapController;
mapController = mapView.getController();
mapController.setCenter(new GeoPoint((int)(54*1E6),(int)(-2*1E6))); // UK coords
mapController.setZoom(4);
mapView.postInvalidate(); 
```

# java - 总结数组的索引号并将总和发送给主控（C++ 或 Java）？

> ID：10241046
> 
> 赞同：-2
> 
> 时间：2012-04-20T06:00:53.680
> 
> 标签：java, c++

对于数组`{ 24 48 27 1 5 30 40 27 31 36 29 45 45 43 10 15 50 35 40 47 }`

```
index  0- 3 ---> processor 0,  
index  4- 7 ---> processor 1,
index  8-11 ---> processor 2,
index 12-15 ---> processor 3,
index 16-19 ---> processor 4, 
```

并将总和返回给主总和。

我如何对其进行编码以便可以轻松完成？？？

```
import java.util.Random;
import mpi.*;

public class Aznin {

    public static void main(String args[]) throws Exception {
            Random randomNumbers = new Random();            
            MPI.Init(args);
            int my_rank = MPI.COMM_WORLD.Rank();
            int size = MPI.COMM_WORLD.Size();
            MPI.COMM_WORLD.Barrier();
            int[] n = new int[100];
            int[] my_sum = new int[1];
            int blockNum, start, end;
            int finalSum = 0;

            // master initialize random integers and stores them
            if (my_rank == 0)   {
                System.out.println("");
                    //for 20 values produced by Random number function; but you can declare an array of 20 values; other option can read values from the file--- OK Dear Students :)                

            //how many valus you want to distribute e.g. 20 
            for (int i = 0; i < 20; i++)    {
                    n[i] = 1 + randomNumbers.nextInt(50);
                    System.out.printf("%d| ", n[i]);
                }
                System.out.printf("\n");
            }

            //Broadcast n from master processor to all available processors
            MPI.COMM_WORLD.Bcast(n, 0, 20, MPI.INT, 0);

            // Each processor calculates the result
            my_sum[0] = 0;
            blockNum = 20/size;     // calculates number of data blocks--- using how many CPUs i.e. Size
            start = my_rank * blockNum; // calculates for starting index for particular processor
            end = start + blockNum; // calculates for ending index for particular processor

            //Keep in mind; your approach can vary from my approach; you can create lists at run time as well --OK
            for (int i = start; i < end; i++)   {
                my_sum[0] = my_sum[0] + n[i];
            }
            System.out.println("Result from processor " +my_rank+ " = " +my_sum[0]);

            if (my_rank == 0)   {   // master processor waits for result from workers
                finalSum = my_sum[0];
                //master processor recieves result from all available worker prosessors
                for (int wproc = 1; wproc < size; wproc++)  {
                    MPI.COMM_WORLD.Recv(my_sum, 0, 1, MPI.INT, MPI.ANY_SOURCE,99);
                    finalSum = finalSum + my_sum[0];
                }
            }
            else    {   // worker processors
                // send result to master processor
                MPI.COMM_WORLD.Send(my_sum, 0, 1, MPI.INT, 0, 99);
            }

            // master processor prints final result
            if (my_rank == 0)   {
                System.out.println("Result = " + finalSum);
            }

            MPI.Finalize();
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:48:12.800

您可以使用 MapReduce 以多线程方式对数组求和。为此，网上有很多代码。你只需要采用它们：

[http://pages.cs.wisc.edu/~gibson/mapreduceexample/main.C.html](http://pages.cs.wisc.edu/~gibson/mapreduceexample/main.C.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T07:07:26.153

我不清楚您的要求，不知道为什么要同时使用 C++ 和 javascript。无论如何，这里是如何在 javscript 中做类似的事情。

```
var data = [ 24, 48, 27, 1, 5, 30, 40, 27, 31, 36,
             29, 45, 45, 43, 10, 15, 50, 35, 40, 47 ];

function totalInChunks(d, n) {
  var result = [];
  var i = 0, j, len = d.length, t;
  do {
    for (t=0, j=0; j<n; j++) {
      t += d[i++];
    }
    result.push(t);
  } while (i<len)

  return result;
}

totalInChunks(data, 4); // 100,102,141,113,172 
```

这是否有用我无法判断。我想在哪里`t`计算你可以将数据或对象分组并将它们发送到另一个处理器，然后在最后收集结果以整理最终结果。但是 javascript 是单线程的，因此没有太多意义或设施来异步执行它，尽管它可以使用*setTimeout*进行设置。

除了作为协调异步处理的练习之外，很难看出这一点。

# python - 创建 Python 包别名 TypeError：预期的字符串或缓冲区错误

> ID：10241055
> 
> 赞同：0
> 
> 时间：2012-04-20T06:01:35.773
> 
> 标签：python, package, alias

我正在尝试通过在我的站点包中编写一个小脚本来制作 python 包别名。在这里，我试图通过将其命名为 ujson 来使用 json。

```
#ujson.py
import json

def dumps(*args, **kwargs):
    return json.dumps(args, kwargs)

def loads(*args, **kwargs):
    return json.loads(args, kwargs)

#test.py
import ujson
d = {'a': 'b'}
du = ujson.dumps(d)
lo = ujson.loads(du) 
```

奇怪的是，它为付出而`dumps`努力`loads``TypeError: expected string or buffer`

帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:04:06.650

您忘记正确传播论点。

```
return json.dumps(*args, **kwargs) 
```

不过真的...

```
dumps = json.dumps
loads = json.loads 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T06:03:31.520

你需要用星星传递参数

```
def dumps(*args, **kwargs):
    # args - tuple
    # kwargs - dict
    return json.dumps(*args, **kwargs) 
```

# ruby-on-rails - Rails 模型中的类变量 VS 常量

> ID：10241058
> 
> 赞同：1
> 
> 时间：2012-04-20T06:01:57.863
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

在我的应用程序中，只有一个当前事件默认为最近的日期事件。我需要在不同的地方检索这个事件，因为它没有改变，所以缓存它是有意义的。我知道有两种方法：

```
class Event < ActiveRecord::Base

  CURRENT_EVENT = Event.where('starts_on >= ?', Time.now).
                  order('starts_on ASC').limit(1).first

  # OR

  def self.current_event
    @@current_event ||= Event.where('starts_on >= ?', Time.now).
                      order('starts_on ASC').limit(1).first
  end

end 
```

哪一个是最好的？还是有其他选择？我知道不推荐使用@@ 类变量，因为它们不是线程安全的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:10:47.467

第一种和第二种方法都不正确。如果您定义常量 - 它会找到 Event，Rails 上的实际初始化过程时间。第二种方法不会`cache`你的记录。至于我，这不是要缓存的那么**胖的数据。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T06:25:45.477

我猜您的方法不对：这样您的应用程序将永远保留您的缓存值。新的`events`不会影响它，这是完全错误的。可能是某些事件已经过去但仍被缓存为“当前”的情况。

顺便说一句：`limit(1).first`与唯一的`first`.

# c++ - 在 qt 中创建一个带有图像形状的窗口

> ID：10241059
> 
> 赞同：5
> 
> 时间：2012-04-20T06:02:00.653
> 
> 标签：c++, qt, user-interface

有人可以解释一下如何根据图像中某些对象的形状在qt中制作一个窗口，例如我有一个树的图像，使用它我需要创建一个树形的窗口..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-20T09:31:00.370

[经过长时间的搜索，自己找到了一个很好的解决方案，看看这个..](http://www.codeprogress.com/cpp/libraries/qt/showQtExample.php?index=145&key=QMainWindowPartialTransparent)

```
#include <QtGui>
 class  myMainWindow:public QMainWindow
 {
 public:
     myMainWindow():QMainWindow()
     {
    setMask((new QPixmap("saturn.png"))->mask());

    QPalette* palette = new QPalette();
    palette->setBrush(QPalette::Background,QBrush(QPixmap("saturn.png")));
    setPalette(*palette);   

    setWindowFlags(Qt::FramelessWindowHint);     
    QWidget *centralWidget = new QWidget(this);
    QGridLayout *layout = new QGridLayout();

    centralWidget->setLayout(layout);

    QPushButton* button1 = new QPushButton("Button 1");
    button1->setFixedSize(80,50);

    layout->addWidget(button1,0,0); 

    setCentralWidget(centralWidget);

     };
     ~myMainWindow(){};
 };

int main(int argc, char **argv)
{
    QApplication app(argc, argv);
    myMainWindow *window = new myMainWindow();    

    window->resize(600, 316);          
    window->show();
    return app.exec();
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T08:58:55.607

[这](http://qt-project.org/wiki/QWidget_Semi-transparent_Background_Color)是制作具有半透明背景颜色的小部件的配方。只需通过使背景完全透明从那里扩展，然后在其顶部显示树图像作为背景图像。请注意，在布局其子元素方面，小部件的行为仍然类似于矩形小部件，因此您可能需要使用树形内的一些自定义布局来处理这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T10:31:37.193

从`QWidget::setMask`. 它有一个采用 QBitmap 的版本和一个采用 QRegion 的版本。这是获取透明小部件的基本功能。该工具包还包括一个使用 QRegion 版本的时钟示例——我怀疑位图同样简单。

# c# - 如何在 dicom 中绘制侦察/参考线

> ID：10241062
> 
> 赞同：6
> 
> 时间：2012-04-20T06:02:15.303
> 
> 标签：c#, image-processing, dicom, medical

我是 dicom 开发组的初学者。我需要在 dicom image 上创建一个定位器图像行。那么，有没有什么好主意。任何极客。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-02T13:00:22.467

David Brabant 已经为您指明了正确的方向（如果您想使用 DICOM，您绝对应该阅读并珍惜**dclunie 的医学图像常见问题解答**）。让我们看看我是否可以详细说明它并使您更容易实现。

我假设您有一个工具/库来从 DICOM 文件（Offis 的 DCMTK？）中提取标签。为了举例说明，我将参考 CT 扫描（许多切片，即许多图像）和侦察图像，您希望在其上显示定位线。每个 DICOM 图像，包括您的 CT 切片和您的侦察，都包含有关它们在空间中位置的完整信息，在这两个标签中：

> ```
> Group,Elem  VR Value                           Name of the tag   
> ---------------------------------------------------------------------
> (0020,0032) DS [-249.51172\-417.51172\-821]  # ImagePositionPatient
>                 X0         Y0         Z0
> 
> (0020,0037) DS [1\0\0\0\1\0]                 # ImageOrientationPatient
>                 A B C D E F 
> ```

ImagePositionPatient 具有以毫米为单位的第一个传输像素的全局坐标（要清楚的是左上角像素），表示为 (x,y,z)。我将它们标记为 X0、Y0、Z0。ImageOrientationPatient 包含两个向量，都是三个分量，指定图像的第一行像素和第一列像素的方向余弦。理解方向余弦并没有什么坏处（参见例如[http://mathworld.wolfram.com/DirectionCosine.html](http://mathworld.wolfram.com/DirectionCosine.html)），但是 dclunie 建议的方法直接与它们一起使用，所以现在让我们说它们为您提供空间中的方向图像平面。我将它们标记为 AF 以使公式更容易。

现在，在 dclunie 给出的代码中（我相信它的目的是 C，但它非常简单，它应该和 Java、C#、awk、Vala、Octave 等一样工作）约定如下：

> scr_* = 指源图像，即CT切片
> 
> dst_* = 指目标图像，即侦察兵
> 
> *_pos_x, *_pos_y, *_pos_z = 上面的 X0, Y0, Z0
> 
> *_row_dircos_x, *_row_dircos_y, *_row_dircos_z = 上面的 A, B, C
> 
> *_col_dircos_x、*_col_dircos_y、*_col_dircos_z = 上面的 D、E、F

设置正确的值后，只需应用这些：

```
dst_nrm_dircos_x = dst_row_dircos_y * dst_col_dircos_z 
                   - dst_row_dircos_z * dst_col_dircos_y; 
dst_nrm_dircos_y = dst_row_dircos_z * dst_col_dircos_x 
                   - dst_row_dircos_x * dst_col_dircos_z; 
dst_nrm_dircos_z = dst_row_dircos_x * dst_col_dircos_y 
                   - dst_row_dircos_y * dst_col_dircos_x; 

src_pos_x -= dst_pos_x;
src_pos_y -= dst_pos_y;
src_pos_z -= dst_pos_z;

dst_pos_x = dst_row_dircos_x * src_pos_x
          + dst_row_dircos_y * src_pos_y
          + dst_row_dircos_z * src_pos_z;

dst_pos_y = dst_col_dircos_x * src_pos_x
          + dst_col_dircos_y * src_pos_y
          + dst_col_dircos_z * src_pos_z;

dst_pos_z = dst_nrm_dircos_x * src_pos_x
          + dst_nrm_dircos_y * src_pos_y
          + dst_nrm_dircos_z * src_pos_z; 
```

或者，如果你有一些花哨的矩阵类，你可以构建这个矩阵并将它与你的点坐标相乘。

> ```
>  [ dst_row_dircos_x  dst_row_dircos_y  dst_row_dircos_z  -dst_pos_x ] 
> M = [ dst_col_dircos_x  dst_col_dircos_y  dst_col_dircos_z  -dst_pos_y ]
>     [ dst_nrm_dircos_x  dst_nrm_dircos_y  dst_nrm_dircos_z  -dst_pos_z ]
>     [ 0                 0                 0                 1          ] 
> ```

那将是这样的：

> ```
> Scout_Point(x,y,z,1) = M * CT_Point(x,y,z,1) 
> ```

说了这么多，我们应该转换 CT 的**哪些点以在侦察器上创建一条线？**同样对于这个 dclunie 已经提出了一个通用的解决方案：

“*我的方法是投影作为源图像边界框的正方形（即连接切片的 TLHC、TRHC、BRHC 和 BLHC 的线）。* ”

如果您投影 CT 切片的四个角点，您将有一条垂直于侦察线的 CT 切片线，以及一条不垂直切片的梯形。现在，如果您的 CT 切片与坐标轴对齐（即 ImageOrientationPatient = [1\0\0\0\1\0]），那么这四个点是微不足道的。您使用行/列数和沿 x/y 方向的像素距离计算图像的宽度/高度（以 mm 为单位），并适当地总结。如果你想实现通用案例，那么你需要一点三角函数......或者可能不需要。如果您还没有阅读方向余弦的定义，也许是时候阅读了。

我会努力让你走上正轨。例如，在 TRHC 上工作，您知道体素在图像平面中的位置：

> ```
> # Pixel location of the TRHC
> x_pixel = number_of_columns-1 # Counting from 0
> y_pixel = 0
> z_pixel = 0 # We're on a plane! 
> ```

DICOM 中的像素距离值是指图像平面，因此您可以简单地将 x 和 y 乘以这些值，使其位置以 mm 为单位，而 z 为 0（像素和 mm）。我说的是这些价值观：

> ```
> (0028,0011) US 512                       #   2, 1 Columns
> (0028,0010) US 512                       #   2, 1 Rows
> (0028,0030) DS [0.9765625\0.9765625]     #  20, 2 PixelSpacing 
> ```

上面的矩阵 M 是从全局坐标到图像坐标的通用转换，具有可用的方向余弦。您现在需要的是在源图像（CT 切片）上执行逆向工作（图像到全局）的东西。我会让你去挖掘几何书籍以确定，但我认为它应该是这样的（旋转部分被转置，平移没有符号变化，当然我们使用 src_* 值）：

> ```
>  [src_row_dircos_x  src_col_dircos_x  src_nrm_dircos_x  src_pos_x ]
> M2 = [src_row_dircos_y  src_col_dircos_y  src_nrm_dircos_y  src_pos_y ]
>      [src_row_dircos_z  src_col_dircos_z  src_nrm_dircos_z  src_pos_z ]
>      [0                 0                 0                 1         ] 
> ```

将 CT 切片中的点（例如四个角）转换为毫米，然后应用 M2 使它们位于全局坐标中。然后您可以将它们提供给 dclunie 报告的程序。在使用它之前交叉检查我的数学，例如用于患者诊断！;-)

希望这有助于更好地理解 dclunie 的方法。干杯

# extjs4 - 如何隐藏或删除 extjs 折线图轴（xaxis 或 yaxis）刻度

> ID：10241068
> 
> 赞同：0
> 
> 时间：2012-04-20T06:03:02.280
> 
> 标签：extjs4

我需要隐藏 x 轴（刻度和标签）。有人知道请告诉我如何隐藏刻度，我可以隐藏标签，但不能隐藏刻度，基本上我的图表 x 轴会保持增长（超过 150步骤（滴答声）在 20 分钟内），如果我在 xaxis 中单独查看步骤（滴答声）（标签隐藏），看到它会很奇怪....

所以请任何人有想法删除这个刻度或步骤

提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T12:23:28.557

我们在**Axis**类中有“ **dashSize** ”配置：

 **[http://docs.sencha.com/ext-js/4-0/#!/api/Ext.chart.axis.Axis-cfg-dashSize](http://docs.sencha.com/ext-js/4-0/#!/api/Ext.chart.axis.Axis-cfg-dashSize)

您必须像这样将其设置为**0**：

```
axes: {
    ...
    dashSize: 0
    ...
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-09-03T12:18:26.257

如果其他人正在为 ExtJS 5 寻找这个，那就是现在

```
axes: [{
   type: 'numeric',
   ...
}, {
   type: 'category',
   style: { majorTickSize : 0},
   ...
}] 
```**

# audio - ffmpeg 仅分段我的音频文件的第一部分

> ID：10241070
> 
> 赞同：2
> 
> 时间：2012-04-20T06:03:18.943
> 
> 标签：audio, ffmpeg, http-live-streaming

我正在实现一个 http 实时流服务器将音频文件发送到 iOS 设备。Apple 的工具 mediafilesegmenter 没问题，我的文件是有效的并且工作正常。

我现在正在尝试使用 ffmpeg 分割同一个文件。我已经下载了最后一个稳定版本，现在是 0.10.2。

以下是我尝试分割我的 mp3 文件的方法：

```
./ffmpeg -re -i input.mp3 -f segment -segment_time 10 -segment_list outputList.m3u8 -acodec libmp3lame -map 0 output%03d.mp3 
```

它按预期开始映射，但仅以一个 .mp3 文件结束。

我在这个过程中错过了什么吗？提前致谢。

**编辑**

好的，这是我最新的命令行：

```
ffmpeg -i input.mp3 -c:a libmp3lame -b:a 128k -map 0:0 -f segment -segment_time 10 -segment_list outputlist.m3u8 -segment_format mp3 'output%03d.mp3' 
```

它仍然只给我一个文件，但该文件是洞曲，而不仅仅是一个部分。这是ffmpeg的输出：

```
ffmpeg version 0.10.2 Copyright (c) 2000-2012 the FFmpeg developers 
built on Apr 20 2012 07:08:29 with gcc 4.5.2   
configuration: --enable-gpl --enable-version3 --enable-nonfree --enable-postproc --enable-libmp3lame   
    libavutil      51\. 35.100 / 51\. 35.100   
    libavcodec     53\. 61.100 / 53\. 61.100   
    libavformat    53\. 32.100 /
        53\. 32.100   
    libavdevice    53\.  4.100 / 53\.  4.100   
    libavfilter     2\. 61.100 /  2\. 61.100   
    libswscale      2\.  1.100 /  2\.  1.100   
    libswresample   0\.  6.100 /  0\.  6.100   
    libpostproc    52\.  0.100 /  52\.  0.100 
    [mp3 @ 0x8e4f120] max_analyze_duration 5000000 reached at 5015510
Input #0, mp3, from 'BeachHouse-Myth.mp3':   
    Metadata:
            title           : Myth
            artist          : Beach House
            track           : /
            album           : Bloom
            disc            : /
            genre           : Alternative
            TSRC            : USSUB1296501   
    Duration: 00:04:18.69, start: 0.000000, bitrate: 320 kb/s
            Stream #0:0: Audio: mp3, 44100 Hz, stereo, s16, 320 kb/s Output #0, segment, to 'stream%03d.mp3':   Metadata:
            title           : Myth
            artist          : Beach House
            track           : /
            album           : Bloom
            disc            : /
            genre           : Alternative
            TSRC            : USSUB1296501
            encoder         : Lavf53.32.100
            Stream #0:0: Audio: mp3, 44100 Hz, stereo, s16, 128 kb/s
Stream mapping:   
    Stream #0:0 -> #0:0 (mp3 -> libmp3lame) 
    Press [q] to stop, [?] for help 
    Truncating packet of size 1024 to 105ate=   0.0kbits/s    
    Truncating packet of size 1024 to 1 
    size=       0kB time=00:04:18.71 bitrate=   0.0kbits/s     video:0kB audio:4042kB global headers:0kB muxing overhead -100.000000% 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-30T13:23:31.777

仅音频可能是一个错误。我联系了FFMPEG播放器bug列表，提交了一个bug：http: [//ffmpeg.org/trac/ffmpeg/ticket/1290](http://ffmpeg.org/trac/ffmpeg/ticket/1290)

# mysql - MySQL groupby 分阶段

> ID：10241075
> 
> 赞同：1
> 
> 时间：2012-04-20T06:03:58.217
> 
> 标签：mysql, sql, group-by

我有一个这样的表（显示没有任何分组）并且正在使用 MySQL 5.5。

```
mytable
================================================================================
id    type     parent_type     type_id     content                     parent_id
================================================================================
1     type1    NULL            3           john's test content         NULL
2     type1    NULL            3           hi there, this is john      NULL
3     type2    ptype1          4           john@gmail.com              2
4     type3    ptype1          2           John Smith                  2
5     type3    ptype1          8           Sean John John              10
6     type3    ptype1          13          John Smith                  11 
```

我想先按 by 然后对所有`parent_type`行进行`parent_id`分组。并且可以是一些次，但不应该分组。`type``type_id``Parent_type``parent_id``NULL``NULLs`

这是我目前正在尝试的：

```
SELECT id, type, IFNULL(parent_type, UUID()) as parent_type, type_id, content, IFNULL(parent_id, UUID()) as parent_id
FROM mytable
WHERE MATCH(content) AGAINST('john*' IN BOOLEAN MODE) GROUP BY parent_type, parent_id, type_index, type_id LIMIT 10 ; 
```

但想要的结果是，我希望结果首先按`parent_type`and`parent_id`分组，然后按`parent_type`and分组，`parent_id`如下所示：

```
mytable
================================================================================
id    type     parent_type     type_id     content                     parent_id
================================================================================
1     type1    NULL            3           john's test content         NULL
3     type2    ptype1          4           john@gmail.com              2
5     type3    ptype1          8           Sean John John              10
6     type3    ptype1          13          John Smith                  11 
```

如何才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:56:38.487

使用子查询就可以了：

```
SELECT *
FROM (
     SELECT id, type, type_id, content, MATCH(content) AGAINST('john') as relevance, IFNULL(parent_type, UUID()) as parent_type, IFNULL(parent_id, UUID()) as parent_id
     FROM mytable WHERE MATCH(content) AGAINST('john*' IN BOOLEAN MODE) GROUP BY parent_type, parent_id
) as search
GROUP BY search.type, search.type_id DESC  LIMIT 10 ; 
```

# makefile - 杀死空进程ID

> ID：10241085
> 
> 赞同：1
> 
> 时间：2012-04-20T06:05:10.713
> 
> 标签：makefile

在我的 Makefile 中，我有以下内容可以杀死所有正在运行的 nginx 进程：

```
killNginx:
  sudo kill -9 $(ps -ef | grep [n]ginx | awk '{print $2}') 
```

问题是当没有运行 nginx 进程时它给我一个错误。有没有办法只有在 nginx 正在运行时才能运行 kill 命令？

编辑：

实际上，我认为问题在于 2 美元没有被执行。我尝试了 $$2 但仍然无法正常工作。任何人有任何其他想法来逃避 2 美元吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T17:48:05.510

找到了一种使它对我有用的方法：

```
killNginx:
  ps -ef | grep [n]ginx | awk '{print $$2}' | xargs sudo kill -9 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T12:02:04.540

您需要转义`$`配方中不引入 make 变量的每一个。所以，你需要同时逃避`$$(ps ...` *和* `print $$2`。您似乎在暗示这不是您的问题：但是，如果没有它，这甚至不可能接近工作。

你也可以看看killall。类似的东西`killall -I nginx || true`可能会做到。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T06:10:12.863

试一试：

```
for PID in $(ps -ef | grep [n]ginx | awk '{ print $2 }'); do
    sudo kill -9 $PID
done 
```

# c# - ValidationMessage 在我的视图中不呈现（asp.mvc3）

> ID：10241086
> 
> 赞同：0
> 
> 时间：2012-04-20T06:05:14.313
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, validation

这个问题很奇怪，也许我错过了一些小细节，因为我是 mvc 3 的新手......

在局部视图中，我的模型与主视图中的模型不同（我认为在这种情况下并不重要）。我在视图中添加了几个验证助手调用。无论我做什么，它们都不会出现在页面上。

我启用了框架源代码调试，我可以看到 HTML 已生成，并被写入“输出”。不过，它们不会出现在最终呈现的页面中。我不明白为什么。

在我的部分观点中：

```
@model ModelsDTO.Domain.GridRowDTO
@Html.ValidationSummary()
@Html.TextBox("Kalla")
@Html.ValidationMessage("Kalla") 
```

我有文本框只是为了看看它是否呈现。确实如此。

我的控制器代码（硬编码消息，只是为了让它工作）：

```
[HttpPost]
public ActionResult SaveGridRow(GridRowDTO rad)
{
    List<string> valideringsFel = _dagboksanteckning.SaveDagbokObjekt(rad);

    ModelState.AddModelError("Kalla", "Källan felaktig");

    return PartialView("_DagbokGrid", rad);
} 
```

该模型：

```
public class GridRowDTO
{
    public string Kronika { get; set; }
    public string Ok { get; set; }
    public string Datum { get; set; }
    public string Tid { get; set; }
    public string Kalla { get; set; }
    public string Handelse { get; set; }
    public string Bedomning { get; set; }
    public string Till { get; set; }
    public string Rubrik { get; set; }
    public string Verksamhetsslag { get; set; }
    public string OperationPadrag { get; set; }
    public string Verksamhetskod { get; set; }
    public string LatitudTecken { get; set; }
    public string Latitud { get; set; }
    public string LongitudTecken { get; set; }
    public string Longitud { get; set; }
    public string Media { get; set; }
    public string AnnatDokument { get; set; }
    public string Region { get; set; }
    public string id { get; set; }
} 
```

**编辑，非常有趣的发现！**

使用 IE9 F12 模式跟踪调用时，响应文本实际上包含预期的 HTML！为什么不渲染！

```
<div class="validation-summary-errors"><ul><li>K&#228;llan felaktig</li>
</ul></div>

<input class="input-validation-error" id="Kalla" name="Kalla" type="text" value="1" />
<span class="field-validation-error">K&#228;llan felaktig</span> 
```

如果我能得到一些帮助来理解这个问题，我将非常感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:56:00.510

如果您使用 AJAX 调用此控制器操作，则应确保将部分内容替换为新值。例如，假设您的部分包装在 div 中：

```
<div id="container">
    @Html.Patrial(....)
</div> 
```

现在在成功回调中确保您已刷新 div 的内容：

```
$.ajax({
    url: '@Url.Action("SaveGridRow")',
    type: 'POST',
    data: ...,
    success: function(result) {
        // Here you must refresh the div or whatever part of the DOM
        // you need to update
        $('#container').html(result);
    }
}); 
```

或者，如果您使用 Ajax.* 助手来调用该操作，请确保您已`UpdateTargetId`在 AjaxOptions 中指定并且该值对应于您要刷新的某些 DOM 元素的 id。

# blackberry - 如何在黑莓的真实设备上运行应用程序？

> ID：10241090
> 
> 赞同：1
> 
> 时间：2012-04-20T06:05:26.633
> 
> 标签：blackberry

我已经在 Windows7 上安装了黑莓。我从 BB 获得了所有三个 .csi 文件。我已经完成了所有程序，并从那里得到了成功的回应。然后我右键单击我的项目并单击“使用签名工具签名”。签名后，我在 Blackberry Bold Device 上加载了这个项目。

现在我的设备在屏幕上显示已安装的图标，但是当我尝试打开此项目时，它显示**“尝试访问安全 api”。**如何解决这个问题。

为了解决这个问题，我还禁用了我的 UAC。我正在研究 eclipse Helios。我用这个 exe 文件安装了 Blackberry Plugin。“ **BlackBerry_JDE_PluginFull_1.5.0_helios** ” 此设置是否存在问题。

我无法在设备上启动简单的 helloworld 应用程序。我已经尝试了互联网的所有帮助，但我仍然没有成功。请帮助解决这个关键问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T10:48:47.483

您需要签署您的申请。联系 RIM 获取签名密钥。在实际设备上安装之前安装它们并签署您的应用程序。

检查此链接以获取签名密钥：[https ://www.blackberry.com/SignedKeys/](https://www.blackberry.com/SignedKeys/)

# bash - Word Unexpected (expecting ")") with Makefile

> ID：10241093
> 
> 赞同：1
> 
> 时间：2012-04-20T06:05:41.400
> 
> 标签：bash, makefile, less-unix

我正在制作一个makefile，我正在处理一个没有依赖关系的目标，它检查当前目录中是否存在名为README的文件，如果存在，请使用less读取它，否则完全退出：不给出任何错误- - 如果是这种情况，运行目标的命令不应向控制台打印任何内容。

我尝试了几种不同的方法，但似乎没有任何效果（PAGER 只是一个等于 less 的 var）：

```
read :
   ifneq ("$(wildcard README)","")
      -@$(PAGER) README
   endif 
```

还有这个代码

```
read :
   -@for file in *;\
   do \
       if [ ${file} == "README" ]; then\
           $(PAGER) "README" ;\
       fi;\
   done 
```

在第一个块中，我不断收到类似于 /bin/sh 的错误：语法错误：单词意外（期望“）”）并且对于我的生活，我只是不明白它在说什么。我当然不认为有语法错误，也许我在滥用make。

对于后一个代码，我得到一个意外的 == 运算符错误。

我也尝试过像这两个单班轮解决方案这样更简单的事情，但得到了类似的错误：

```
-@test -a README && less README
-@[ -a README ] && less README 
```

任何帮助将不胜感激。

编辑：我进一步挖掘，看到了一些有希望的东西，并明确地将我的 shell 设置为 /bin/bash (SHELL := /bin/bash) 但没有骰子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:14:37.930

您应该尝试将 shell 代码提取到单独的 *.sh 文件中，以便可以将它们指定为 makefile 中的命令（并确保 *.sh 文件是可执行的）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T06:23:18.917

```
read:
        @if [ -e README ]; then less README; fi 
```

# java - 如何在 Android 中为多个图像创建 XML？

> ID：10241094
> 
> 赞同：0
> 
> 时间：2012-04-20T06:05:47.920
> 
> 标签：java, android

如何创建包含多个图像的 xml？我认为这个文件应该保存在drawable文件夹中？我的意思是，那个xml的结构应该是什么？为了更详细地描述，例如我有一个位图 XML：

```
<?xml version="1.0" encoding="UTF-8"?>
<bitmap
xmlns:android="http://schemas.android.com/apk/res/android"
android:src="@drawable/logo_top"
android:dither="true" /> 
```

它工作得很好，直到我需要添加几个图像，我知道没有办法向 1 个 XML 文件添加更多位图，所以我搜索了这样做的方法。PS 我需要这种技术以动态和编程方式添加图像。

我也试过这样做：

```
<?xml version="1.0" encoding="UTF-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
<item>    
    <bitmap
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:src="@drawable/logo_top"
    android:dither="true" />
</item>
<item>
    <bitmap
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:src="@drawable/image2"
    android:dither="true" />
</item>
<item>
    <bitmap
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:src="@drawable/image3"
    android:dither="true" />
</item>
</layer-list> 
```

但是图片没有出现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:18:53.187

查看以下教程以了解我们如何定义选择器并应用于视图：

[http://www.gersic.com/blog.php?id=56](http://www.gersic.com/blog.php?id=56)

# meteor - 我可以使用 Meteor 在 mongo 集合中创建索引吗？

> ID：10241099
> 
> 赞同：0
> 
> 时间：2012-04-20T06:06:02.127
> 
> 标签：meteor

> **可能重复：**
> [如何在流星应用程序中向 mongodb 添加两列唯一 ID？](https://stackoverflow.com/questions/10167604/how-can-i-add-a-two-column-unique-id-to-the-mongodb-in-a-meteor-app)

mongo 索引是否在 Meteor 中以任何方式实现？我正在尝试对集合中文档的唯一名称进行索引。

就像是：

```
Collection.ensureIndex({name:1}); 
```

# android - Android 相机显示被拉长

> ID：10241100
> 
> 赞同：1
> 
> 时间：2012-04-20T06:06:09.853
> 
> 标签：android, android-layout, android-camera

嗨，我的相机应用程序有问题，显示被拉伸。但是出来的照片没问题。只有显示被拉伸。这是必要的代码，表面改变了回调

```
public void surfaceChanged(SurfaceHolder holder, int format,
                               int width, int height) {
      initPreview(width, height);
      startPreview();
    } 
```

这是初始化预览功能，

```
private void initPreview(int width, int height) {
    if (camera != null && previewHolder.getSurface() != null) {
        try {
            camera.setPreviewDisplay(previewHolder);
        }
        catch (Throwable t) {
            Log.e("PreviewDemo-surfaceCallback",
                "Exception in setPreviewDisplay()", t);
            Toast.makeText(PictureDemo.this, t.getMessage(),
                Toast.LENGTH_LONG).show();
        }

        if (!cameraConfigured) {
            Camera.Parameters parameters=camera.getParameters();
            Camera.Size size=getOptimalPreviewSize(width, height);
            Camera.Size pictureSize=getSmallestPictureSize(parameters);

            if (size != null && pictureSize != null) {
                parameters.setPreviewSize(size.width, size.height);
                parameters.setPictureSize(pictureSize.width,
                    pictureSize.height);
                parameters.setPictureFormat(ImageFormat.JPEG);
                camera.setParameters(parameters);
                cameraConfigured=true;
            }
        }
    }
} 
```

其他两个函数如下。

```
private Camera.Size getOptimalPreviewSize(int width, int height) {
    Camera.Size result=null;
    Camera.Parameters p = camera.getParameters();
    for (Camera.Size size : p.getSupportedPreviewSizes()) {
        if (size.width<=width && size.height<=height) {
            if (result==null) {
                result=size;
            } else {
                int resultArea=result.width*result.height;
                int newArea=size.width*size.height;
                if (newArea>resultArea) {
                    result=size;
                }
            }
        }
    }
    return result;
}

private Camera.Size getSmallestPictureSize(Camera.Parameters parameters) {
    Camera.Size result=null;
    for (Camera.Size size : parameters.getSupportedPictureSizes()) {
        if (result == null) {
            result=size;
        }
        else {
            int resultArea=result.width * result.height;
            int newArea=size.width * size.height;
            if (newArea < resultArea) {
                result=size;
            }
        }
    }
    return(result);
} 
```

那么，你认为是什么问题。为什么显示被拉伸？

# saxon - 需要从 Times 10 dateTime 到 Saxon Timestamp 的转换技术

> ID：10241101
> 
> 赞同：0
> 
> 时间：2012-04-20T06:06:24.673
> 
> 标签：saxon

尝试从 Timesten 数据库中检索 dateTime 信息并在 Saxon Xquery 中使用它。下面是该示例并得到以下错误。如果是，我们是否需要将 timesten dateTime 转换为 saxom dataTime 怎么做？如果有想法，请帮助我。

让 $DateVar:=fn:data($PERSON/BIRTHDAY) 其中 $PERSON/IN_BIRTHDAY 是 2010-04-04 03:16:04.000000

如果我正在尝试

让 $day-b-DT :=day-from-dateTime($DateVar)

我正进入（状态

验证错误 FORG0001：无效的 dateTime 值“2010-04-04 03:16:04.000000”（天必须为两位数）net.sf.saxon.s9api.SaxonApiUncheckedException：无效的 dateTime 值“2010-04-04 03:16:04.000000” "（天必须是两位数）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:11:09.227

我相信问题只是你的字符串格式，应该是“2010-04-04T03:16:04.000000”。有关更多信息，请参阅[文档。`dateTime`](http://www.w3.org/TR/xmlschema-2/#dateTime)

我对 Times 10 数据库一无所知，或者您是否以“丰富”格式检索值，您碰巧将其*格式化*为字符串（在这种情况下，您应该能够指定不同的格式），但我相信那是怎么了。

# android - 无法在 android 中使用 sqlite 添加唯一行

> ID：10241102
> 
> 赞同：0
> 
> 时间：2012-04-20T06:06:52.517
> 
> 标签：android, sqlite

我正在开发 Android 2.3 模拟器。

我有一些 5 个独特的类别...

我需要在我的表中添加这些类别....

我使用这样的**主键添加它**

> 如果不存在则创建表测试（类别整数主键，值文本）；

但是如果我执行这个查询两次

> 插入测试（类别，值）值（1，“0”）；

然后它添加了两次

即使我像这样使用**独特的**

> 如果不存在则创建表测试（类别整数唯一，值文本）；

然后它也将行添加两次......

如何使一行独一无二？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:11:42.457

不要手动添加记录，即主键，您可以将*主键分配为自动增量*，让系统添加记录。

# objective-c - 滚动时在 UIScrollView 中更新 UITextView 会使 scrollView 停止滚动

> ID：10241107
> 
> 赞同：0
> 
> 时间：2012-04-20T06:07:17.663
> 
> 标签：objective-c, ios, uiscrollview, uiimageview, scroll

*   我有一个**滚动视图**，其中包含 12 个设置为图块的**UIView 。**每个图块都包含一个 textView。

*   scrollView 启用了分页。因此，每页有 12 个图块，并且水平滚动。

*   每当我收到来自 API 调用的信息时，我都会更新 textView。

这是正确更新 textView，但我有一个大问题。每当更新发生时，scrollView 实际上会滚动到刚刚更新的视图。因此，每当我加载一列新的图块时，滚动视图会在开始加载时停止，即使它有动量！

知道可能是什么原因造成的吗？

如果我在没有任何信息的情况下延迟加载单元格，那么一切正常，所以我认为这与我更新 textView 有关。

我已经尝试过：

*   使用**NSTimer**（并将其模式设置为 NSRunLoopCommonModes）。
*   每当我需要更新 UI 更改时，使用**NSOperationQueue并调用主线程。**

这些都没有奏效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-22T04:44:40.823

我的建议是使用仪器对其进行调试。在 Instrument 中有一个名为“Time profiler”的跟踪模板，您实际上可以看到您的应用程序在每个任务上花费了多少时间。但是如果你正在更新 textViews，当然主线程会被阻塞，所以滚动视图会停止滚动，直到所有的 textViews 都被更新。所以我的建议是调整性能。也许您在每个 textView 中加载了太多东西？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T07:10:32.240

`NSOperationQueue`我认为解决方案在您的帖子中：“每当我需要更新 UI 更改时使用并调用主线程。”

每当 scrollView 调用 willScroll 时，停止当前正在下载的图像 & 当滚动视图停止滚动 & 其委托方法被调用时，启动新队列以下载图像。

# delphi - 在 Delphi 上的断点的 Eval 表达式中将字符串与数字混合

> ID：10241121
> 
> 赞同：4
> 
> 时间：2012-04-20T06:09:35.667
> 
> 标签：delphi, conditional, logging, breakpoints

我正在使用德尔福 XE2。我希望能够使用 Delphi Breakpoints 记录数据。例如：Format('%s:%d', [Name, Id])

当我尝试这个时，它无法识别格式。我没有在 Delphi Help 上找到有关如何操作的任何详细信息。

使用 Delphi Breakpoints without break 选项的最大好处是，与传统的代码日志记录相比，我不需要重新编译来记录更多数据。因为，这些数据是非常临时的，我只是用来定位一个错误，一旦发现它就不再需要了。如果允许我记录多个变量，这种实时工具非常有用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-20T06:36:43.967

只需使用：

```
Name + ':' + IntToStr(Id) 
```

# testing - BDD可以“之后”完成吗？

> ID：10241131
> 
> 赞同：6
> 
> 时间：2012-04-20T06:11:04.517
> 
> 标签：testing, tdd, bdd

单元测试是编写代码测试的一种实践。TDD 是在“之前”编写它们的做法。BDD 是编写行为/规范驱动测试的实践。我可以在“之后”写 BDD 还是必须总是在“之前”写？

如果你在“之后”写BDD，它不是BDD，那么它叫什么？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-20T06:12:57.887

根据行为驱动开发的定义，您不能在代码之后编写行为测试，但这并不意味着这样做没有用。您可能会从首先编写规范测试中获得更多好处，但它们对于您的应用程序仍然可以用作回归系统测试。因此，虽然您在技术上不是在练习 BDD，但编写这些测试是一个好主意。BDD 的一大好处是它指导特定行为的开发，因此稍后添加它们会失去很多价值，但它们仍然有一些用处。

这与在 TDD 中的代码之后编写单元测试相同。从技术上讲，它不是 TDD，但进行测试显然仍然有用。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-20T06:17:38.943

行为驱动开发 (BDD) 是测试驱动开发 (TDD) 的一种变体，就像 TDD 一样，您应该先编写测试。

有些人将 BDD 称为正确完成 TDD 或按预期方式完成的 TDD。此外，您可以说 BDD 是领域驱动开发 (DDD) 和 TDD 的混合体。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-25T15:31:23.300

开发后的 BDD 不是 BDD，它是一个验证而不是规范的案例。

然而，正如其他人所提到的，这并不意味着事后添加验收测试套件没有任何价值。在继续进一步开发（大型重构工作或添加新功能）之前，您将构建一套回归验收测试来验证行为。

根据经验，我会说如果您要执行此任务，最好让编写生产代码的关键开发人员远离编写验收测试（希望以 Gherkin 脚本的形式）；那些编写它们的人会回到最初的需求文档（如果有的话），并且肯定会与一些利益相关者合作这样做。这将有助于确保您编写的验收测试更接近规范。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-22T16:55:59.030

我喜欢 BDD-After 只是一个编写验证的例子。我也很欣赏开发 BDD-After 的开发人员错过了 BDD-As-You-Go 的其他一些好处的评论。似乎值得补充的一点是，在实施之前编写一个场景/测试然后让测试通过也是一种验证测试本身是否合理的类型。为已经工作的功能（BDD-After）编写通过测试可能会让开发人员想知道如果功能被破坏，他们的测试是否会“适当地失败”。

# c++ - 是否可以在一个类中有一个虚拟类声明？

> ID：10241134
> 
> 赞同：2
> 
> 时间：2012-04-20T06:11:19.710
> 
> 标签：c++

我正在为个人项目中框架的各种组件设置一个接口，我突然想到了一些我认为可能对接口有用的东西。我的问题是这是否可能：

```
class a
{
public:
    virtual class test = 0;

};

class b : public a
{
public:
    class test
    {
        public:
           int imember;
    };
};

class c : public a
{
public:
    class test
    {
    public:
           char cmember;  // just a different version of the class. within this class
    };
}; 
```

有点声明一个虚拟类或纯虚拟类，需要在派生对象中定义，这样你就可以做这样的事情：

```
int main()
{
    a * meh = new b();
    a * teh = new c();

    /* these would be two different objects, but have the same name, and still be able  
 to be referred to by an interface pointer in the same way.*/
    meh::test object1;    
    teh::test object2;

    delete meh;
    delete teh;

    return 0;
} 
```

msvc++ 给我抛出了一堆语法错误，那么有没有办法做到这一点，而我只是写得不对？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-20T06:12:39.313

不，它无效。在任何情况下，C++ 都没有虚拟类的概念。您可以通过仅使用纯虚拟方法持有指向某个类的指针来实现您想要的（尽管这不是必需的）：

```
class ITest { /* full of pure virtual methods... maybe. */};

class a
{
public:
    virtual ITest* someFunctionName()=0 ;
private:
    ITest* test_;
}; 
```

然后，您可以决定从 a 继承，为每个实现提供 的具体实现`ITest`，或其他方法，例如根据某些构造函数参数决定使用哪个实现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T06:30:07.173

关键字“virtual”仅表示“调度函数调用的表。您提出的不是语言的一部分。

但是您可以通过将对象创建链接到适当的虚拟调用来以另一种方式处理它：

```
#include <iostream>

using namespace std;

class a
{
public:
    class test
    {
    public:
        virtual ~test() {} ///< required to have polimorphic behavior
        virtual void hello() const =0;
    };

    virtual test* create_test()=0;
};

class b: public a
{
public:
    class test_b: public a::test
    {
        virtual void hello() const 
        { cout << "this is test_b at " << this << endl; }
    };
    virtual test* create_test() 
    { return new test_b; }
};

class c: public a
{
public:
    class test_c: public a::test
    {
        virtual void hello() const 
        { cout << "this is test_c at " << this << endl; }
    };
    virtual test* create_test() 
    { return new test_c; }
};

int main()
{
    a* pa1 = new b;
    a* pa2 =  new c;

    a::test* p1 = pa1->create_test();
    a::test* p2 = pa2->create_test();

    p1->hello();
    p2->hello();

    delete p2; delete p1;
    delete pa2; delete pa1;
} 
```

# ruby-on-rails - Rails 始终保存更改的状态，您将覆盖什么方法

> ID：10241136
> 
> 赞同：0
> 
> 时间：2012-04-20T06:11:27.680
> 
> 标签：ruby-on-rails, version, onchange, monkeypatching

好的..所以当谈到使用日期作为变化的指标时，我的老板有点疯狂。他不相信。

我想要做的是以与活动记录原生的日期更新相同的方式工作，而是基于不断增加的数字..我知道......自 1973 年以来的秒数不断变大好吧除非你算上夏令时之类的。

我想知道是否有任何想法，如何优雅地做到这一点。注意我有 20 张桌子需要这个，我是 DRY 的忠实粉丝。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:59:40.647

看看[http://api.rubyonrails.org/classes/ActiveRecord/Locking/Optimistic.html](http://api.rubyonrails.org/classes/ActiveRecord/Locking/Optimistic.html)，我认为这正是你想要的。

ActiveRecord 中的乐观锁定意味着如果特定表上存在 lock_version 列，那么每次更改该记录时（当然是通过 ActiveRecord）它都会更新（+1）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-26T01:07:17.330

我最终在数据库中使用了一个大规模触发器。该函数在名为 data_changed 的​​新表中创建一条记录（或更新它）。

```
def create_trigger_function(schema)
    puts "DAVE: creating trigger function for tenant|schema #{schema.to_s}"
    sql = "CREATE OR REPLACE FUNCTION \""+schema+"\".insert_into_delta_table() RETURNS TRIGGER AS 'BEGIN
            UPDATE \""+schema+"\".data_changes SET status = 1, created_at = now() where table_name = TG_TABLE_NAME and record_id = NEW.id;
            INSERT INTO \""+schema+"\".data_changes (status, table_name, market_id, record_id, created_at)
                                                 ( select m.* from \""+schema+"\".data_changes as ds right outer join
                                                    (select  1, CAST (TG_TABLE_NAME AS text ) as name , markets.id, NEW.id as record_id, now() from \""+schema+"\".markets) as m
                                                    on
                                                    ds.record_id = m.record_id
                                                    and ds.market_id = m.id
                                                    and table_name = name
                                                    where ds.id is null );                
            RETURN NULL;
            END;' LANGUAGE plpgsql;"    
    connection.execute(sql);
  end 
```

现在我要做的就是找到所有改变的“产品”

```
update data_changes set status = 2 where status = 1 and table_name = 'products'
select * from products where id in (select record_id from data_changes where status = 2 and table_name = 'products')
update data_changes set status = 3 where status = 2 and table_name = 'products' 
```

如果产品在我第一次更新后更新，但在我选择之前，它不会出现在我的选择中，因为它的 id 将重置为 1。
如果产品在我选择后更新，但是在我进行最后一次更新之前，它不会受到上次更新的影响。

我选择的内容将过时，但没有真正的方法可以避免这种情况。

# c# - SmtpClient 没有返回任何异常但邮件没有发送，为什么？

> ID：10241139
> 
> 赞同：0
> 
> 时间：2012-04-20T06:12:01.317
> 
> 标签：c#, smtp

我正在使用 SmtpClient() 发送邮件。问题是，它在发送邮件时没有返回任何类型的异常，但邮件没有发送。问题可能出在哪里？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:29:17.517

有时，来自您的应用程序的电子邮件最终会出现在垃圾文件夹中，或者需要一些时间才能送达。所以试着等待10-15分钟。

您也可以尝试更改 smtp 服务器凭据并使用 Gmail 等其他服务器。

# ios - 如何在头文件中使用预处理器检查？

> ID：10241141
> 
> 赞同：2
> 
> 时间：2012-04-20T06:12:06.147
> 
> 标签：ios, xcode, preprocessor, conditional-compilation

好的，我知道有很多关于此的帖子，但我仍然遇到问题。这是我正在尝试做的伪代码：

```
if(device is running iOS 5 or up)

    @interface RootViewController : UIViewController <UIPageViewControllerDelegate, UIGestureRecognizerDelegate>

    @property (strong, nonatomic) UIPageViewController *pageViewController;

else

    @interface RootViewController : UIViewController <LeavesViewDelegate, UIGestureRecognizerDelegate>

    @property (strong, nonatomic) LeavesViewController *leavesViewController;

endif 
```

我是否认为我需要使用预处理器宏检查，因为它在头文件中？这是一个图书应用程序，如果它是 iOS 5 或更高版本（因此有 UIPageViewController），它应该使用 UIPageViewController，否则它会退回到 Leaves（https://github.com/brow/leaves）。我已经设置了所有代码。只需要知道如何告诉编译器使用哪个。我不认为使用任何运行时检查会起作用，因为我只需要编译 UIPageViewController 或 Leaves 的协议方法，而不是两者。而且我宁愿不使用完全独立的源文件。我试过使用这些检查：

`#ifdef kCFCoreFoundationVersionNumber_xxx`

`#ifdef __IPHONE_xxx`

`#if __IPHONE_OS_VERSION_MAX_ALLOWED <__IPHONE_xxx`

（有各种 xxx 的）

我在这里想念什么？

编辑：

我还在默认的 .pch 中注意到了这一点：

```
#ifndef __IPHONE_5_0
#warning "This project uses features only available in iOS SDK 5.0 and later."
#endif 
```

这让我想知道为什么相同的测试在我的 .h 文件中不起作用？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:55:58.003

你不能这样做，因为预处理器宏是在编译时处理的。编译器应该如何知道你的目标是哪个 iOS，因为你是在你的 Mac 上编译而不是每个人都在他的 iPhone 上编译？

您不能在运行时轻松切换代码。有一些可能性，但我认为这并不是你想要的那样。

您可以在运行时检查特定 SDK 中是否有可用的方法。这更简单明了。但是，您无法实现目标。

我建议：创建一个超类，其中不包含特定的委托协议。在那里你写了你所有的代码，你想分享。

然后从上层超类创建 2 个子类。在每个类中放入您的特定代码。

就是这样。这是应该的方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T07:19:24.520

正如我在评论中提到的，您不能在编译时执行此操作。

但这里有一个想法给你：似乎和的方法名称`UIPageViewControllerDelegate`不`LeavesViewDelegate`相交，所以你可以在你的头文件中添加以下内容：

```
-(void) leavesView:(LeavesView*)leavesView willTurnToPageAtIndex:(NSUInteger)pageIndex;
-(void) leavesView:(LeavesView*)leavesView didTurnToPageAtIndex:(NSUInteger)pageIndex;
-(void) pageViewController:(UIPageViewController*)pageViewController didFinishAnimating:(BOOL)finished previousViewControllers:(NSArray*)previousViewControllers transitionCompleted:(BOOL)completed;
-(UIPageViewControllerSpineLocation) pageViewController:(UIPageViewController*)pageViewController spineLocationForInterfaceOrientation:(UIInterfaceOrientation)orientation; 
```

并且没有在头文件中明确采用委托协议（在 中省略委托`< >`）。

无论您为这两个使用什么类，都可以在您的 *.m 文件中以如下方式实例化：

```
// check for existence of class to determine which controller to instantiate
if(NSClassFromString(@"UIPageViewController"))
{
    // do something and set UIPageViewController delegate to "self"
}
else
{
    // do something else and set LeavesViewController delegate to "self"
} 
```

最后，要编译它，您可能需要转发声明所有使用它们`LeavesViewController`的`UIPageViewController`相关类，并可能对某些框架[使用弱链接](http://www.marco.org/2010/11/22/supporting-older-versions-of-ios-while-using-new-apis)。

我还没有使用过 Apple 的`UIPageViewController`类和协议，所以我无法提供比这更多的见解。如果您敲定了什么，请务必让我们知道 :)

# html - 为什么我的 display: table-cell 元素没有填充可用空间？

> ID：10241143
> 
> 赞同：10
> 
> 时间：2012-04-20T06:12:20.380
> 
> 标签：html, css, css-tables

更新 - 我决定反对 JavaScript 解决方案。确保它始终有效的唯一方法是`setInterval()`每隔几秒钟让它运行一次。不想那样做。我知道这个 CSS 是可能的，我已经看到它有效。如果它结束，我将重新开放赏金，以增加 150 美元。

* * *

我有一个由两部分组成的模式弹出窗口：左和右。在这两个部分中是上面的标签和下面的内容。标签固定在一定像素数，但底部区域需要能够填充剩余空间，所以我在`display:table`左右两侧和`display: table-cell`内部使用，以达到“填充剩余空间”的效果. 它在 Chrome 和 Safari 中运行良好。

这是CSS：

```
#tagBoxLeft,#tagBoxRight {
    display: table;
    height: 100%;
    width: 50%;
    position: absolute;
    right: 0;
    opacity: 0;
}
#tagBoxLeft { left: 0 }
#tagBoxDescription {
    display: table-row;
    -webkit-border-top-left-radius: 20px;
    width: 100%;
    word-break: break-all;
    word-wrap: break-word;
    -webkit-box-shadow: 0 1px 0 #FFF;
    -moz-box-shadow: 0 1px 0 #FFF;
    box-shadow: 0 1px 0 #FFF;
}
.nano {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    display: table-cell;
}
#taglabel {
    display: table-row;
    z-index: 10000;
    border-top: 1px solid #FFF;
    width: 100%;
    height: 39px;
} 
```

它只是将一堆 div 放入一个表格中，这样它们就可以具有彼此相对的高度。还要注意左右两侧是相对于浏览器窗口的，所以我不能只使用百分比。

然而，在 Firefox 和 Opera 中，`#tagBoxLeft`和`#tagBoxRight`边部分拒绝接受`height:100%;`，而它们有`display:table;`. 所以它不会响应地强制底部部分向上。我知道 Firefox 和 Opera 通常支持这一点（参见[http://jsfiddle.net/Qxswa/](http://jsfiddle.net/Qxswa/)）。但是为什么我的所有内容都在 Firefox 和 Opera 中溢出？

这是该问题的屏幕截图：

[![在此处输入图像描述](../Images/025a0dd5c20e566b4fae7672da160374.png)](https://i.stack.imgur.com/Fv6Hg.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-25T21:39:31.207

为什么你不能简单地使用 JavaScript 来计算正确的高度并内联应用它是有原因的吗？它不是那么好和简单，但对于你所描述的来说这将是微不足道的。

```
var boxHeight = $('#tagBox').height();
var leftLabelHeight = $('#tagBoxDescription').height();
$('#tagBoxPopular').css('height', boxHeight - leftLabelHeight + 'px');

var rightLabelHeight = $('#taglabel').height();
$('#tagBoxStream').css('height', boxHeight - rightLabelHeight + 'px'); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T23:00:00.503

我在 Firefox 上打开您的网站，我看到的带有 chrome 的主题标签链接消失了。你现在正在做一些修复尝试吗？如果您将链接放回 ff 版本，我可以帮助您调试它。

更新：

我看到的是 display:table's 和 display:table-cells's 的高度过于复杂的组合，具有绝对和静态定位以及百分比高度和许多其他高度跨浏览器的易失性组合。

做了大量的修补和修复，我得到了这个：

![firefox下补丁版本截图](../Images/81a568f0be9db84fb9c5c528aa059972.png)

显然仍然存在许多错误，但至少您会得到一些滚动条。

基本上，问题在于您依赖于不同浏览器似乎不太均匀呈现的百分比高度和阴暗的表格显示。

我们在这里有两个选择：

1.- 保留您原来的 css/html 方法并对 JS 滚动条进行故障排除。
2.- 选择一个简单得多的 css/html 变体

干杯

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-01T22:04:33.113

这是 using 和 friends 的替代方法`display:table`，它使用绝对定位元素经常被忽视的能力来设置*它们*的顶部和底部（以及左侧和右侧）值。它基本上“粘住”顶部和底部边缘，为您提供相对于容器的高度，但没有明确设置高度。

**UDPATED：**正如杰克逊所提到的，此代码的纯 CSS 版本没有在列中提供自动高度、固定面板。一点点 JS 就可以解决这个问题——你只需要为没有 JS 的用户设置一个合理的默认高度。JS 只需要在加载模式时运行，而不是间隔运行。

这是更新的小提琴：http: [//jsfiddle.net/cxY7D/5](http://jsfiddle.net/cxY7D/5)

这是简化的 HTML：

```
<div id="modal">
      <div class="left">
          <div class="description">
            <h1>#tag_name</h1>
            <dl>
             <dt>Tags</dt> <dd>27</dd>
            </dl>
          </div>
          <div class="contents">
            <div class="header">            
              <h2>Featured</h2>
            </div>
            <ol>
              <li>Something Something</li>
              <li>...</li>
            </ol>
          </div>
      </div>
      <div class="right">
        <div class="contents">
          <div class="header">
            <h2>Recent</h2>
          </div>
          <ol>
            <li>Something Something</li>
            <li>...</li>
          </ol>
        </div>
      </div>
  </div> 
```

和 CSS：

```
body {
      background:#444;
    }
     #modal {
       background:#FFF;
       position: absolute;
       top: 4em;
       bottom: 4em;
       left: 6em;
       right: 6em;
     }

     #modal .left,
     #modal .right {
       position:absolute;
       top: 0;
       bottom: 0;
     }

     #modal .left {
       background:#ACF9E4;
       left: 0;
       right:50%;
     }

     #modal .right {
       background:#FCFFCD;
       right: 0;
       left:50%;
     }

     #modal .contents {
      position:absolute;
      top: 0;
      bottom: 0;
      width: 100%;
      overflow-y:auto;
     }

     #modal .description {
       height: 8em;
     }

     #modal .description + .contents {
       top: 10em;
   }

     #modal .header,
     #modal .description,
     .contents li {
       border-bottom:1px solid #CCC;
       padding: 1em;
     }

     #modal .description dt {
       float: left;
       padding-right: 1em;
     } 
```

这是一种非常有用且强大的技术。一提到“绝对位置”，很多人都会不寒而栗，但这样使用，真的很解放！

**JS（假设 jQuery）**

```
$(function(){
    $('#modal').on('display', function(){
        //Calculate the height of the top left panel, and provide the remaining space to the bottom left
        var leftColumn = $(this).find('.left'),
            descriptionHeight = leftColumn.find('.description').height('auto').outerHeight(); //Set the height to auto, then read it

        leftColumn.find('.contents').css('top', descriptionHeight)//Apply the height to the scrolling contents pane     
    });

    $('#modal').trigger('display');
});​ 
```

JS 将左上窗格重置为自动高度，然后读取高度并将其应用为左下窗格的顶部坐标。它作为自定义事件应用，因此您可以将其作为模式显示代码的一部分来触发。

这是我使用类似技术给出的答案，以及更多关于如何和为什么的解释：[不可能的布局？](https://stackoverflow.com/questions/2883502/the-impossible-layout/2883764#2883764). 查看*A list Apart*文章以获得更多讨论，以及一些使其在 IE6 中工作的简单修复（如果您关心的话）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-25T08:18:12.760

你可能想看看你是如何使用`<section>`. 它与`<div>`.

[W3C - 使用 HTML5 部分元素](http://www.w3.org/WAI/GL/wiki/Using_HTML5_section_elements#The_.3Csection.3E_Element)和标题元素。

`<header>`看起来一样。它们都是流元素，不是作为内容容器设计的，而是作为内容容器的语义结构元素。

我使用了 Firebug，并凭直觉将两者都`<header>`更改了`<section>`。`display:block`事情开始成形；但是，在这些更改之后，我无法触发滚动效果。`<header>`然后我在 safari 中更改为`display:inline`. 果然 - 我的两个浏览器窗口都是这样的： ![在此处输入图像描述](../Images/0aee6d1ba80bb2c261638f21937f38c9.png)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-25T19:36:51.147

您需要隐藏`#tagboxleft`and`#tagboxright`的溢出。这可以通过设置`#tagbox`为来完成`overflow:hidden`，但是这将隐藏关闭按钮的一部分。所以你需要另一个 div 围绕左右而不是 x 和`overflow:hidden`.

像这样：

```
<div id="tagbox">
    <div id="tagboxX"></div>
    <div id="tagboxleftright" style="overflow:hidden"> <!-- This is the wrapper div around tagbox left & right. Of course, move overflow:hidden to the style sheet -->
        <div id="tagboxLeft"></div>
        <div id="tagboxRight"></div>
    </div>
</div> 
```

这适用于 Firefox，它应该适用于 Internet Explorer。

# java - 调整 JTable 列的大小以适应表格内容

> ID：10241145
> 
> 赞同：0
> 
> 时间：2012-04-20T06:12:34.337
> 
> 标签：java

我使用下面粘贴的代码在 JTable 显示后延迟 5 秒调整列宽。但是，当我运行“TestColumnResizer.java”时，它显示错误“java.lang.NoClassDefFoundError”，找不到主。如何修改代码以使其运行？或者如何在其他类中调用 TestColumnResizer 程序？

```
public class ColumnResizer {
    public static void adjustColumnPreferredWidths(JTable table) {
        // strategy - get max width for cells in column and
        // make that the preferred width
        TableColumnModel columnModel = table.getColumnModel();
        for (int col = 0; col < table.getColumnCount(); col++) {

            int maxwidth = 0;
            for (int row = 0; row < table.getRowCount(); row++) {
                TableCellRenderer rend = table.getCellRenderer(row, col);
                Object value = table.getValueAt(row, col);
                Component comp = rend.getTableCellRendererComponent(table,
                        value, false, false, row, col);
                maxwidth = Math.max(comp.getPreferredSize().width, maxwidth);
            } // for row
            TableColumn column = columnModel.getColumn(col);
            column.setPreferredWidth(maxwidth);
        } // for col
    }
}

// Testing automatic column sizing

public class TestColumnResizer {
    final static Object[][] TABLE_DATA = {
            { new Integer(1), "ONJava", "http://www.onjava.com/" },
            { new Integer(2), "Joshy's Site", "http://www.joshy.org/" },
            { new Integer(3), "Anime Weekend Atlanta",
                    "http://www.awa-con.com/" },
            { new Integer(4), "QTJ book",
                    "http://www.oreilly.com/catalog/quicktimejvaadn/" } };

    final static String[] COLUMN_NAMES = { "Count", "Name", "URL" };

    public static void main(String[] args) {
        // 142 mac l&f has a header bug - force metal for today
        try {

            UIManager.setLookAndFeel(UIManager
                    .getCrossPlatformLookAndFeelClassName());
        } catch (Exception e) {
            e.printStackTrace();
        }
        DefaultTableModel mod = new DefaultTableModel(TABLE_DATA, COLUMN_NAMES);
        JTable table = new JTable(mod);
        JScrollPane pane =

        new JScrollPane(table, ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS,
                ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
        JFrame frame = new JFrame("JTable Column Widths");
        frame.getContentPane().add(pane);
        frame.pack();
        frame.setVisible(true);

        try {
            Thread.sleep(5000);
        } catch (Exception e) {
            e.printStackTrace();
        }

        // now get smart about col widths
        final JTable fTable = table;
        SwingUtilities.invokeLater(new Runnable() {

            public void run() {
                ColumnResizer.adjustColumnPreferredWidths(fTable);
                fTable.revalidate();
            }
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:11:36.470

从我所见，代码的工作没有任何问题，就像定义类的方式一样。

如果这都在一个类文件中，那么您将收到错误消息。要纠正这个问题，只需像这样编辑类修饰符：

```
import java.awt.Component;
import javax.swing.*;
import javax.swing.table.*;

//Testing automatic column sizing
public class TestColumnResizer {
    final static Object[][] TABLE_DATA = {
            { new Integer(1), "ONJava", "http://www.onjava.com/" },
            { new Integer(2), "Joshy's Site", "http://www.joshy.org/" },
            { new Integer(3), "Anime Weekend Atlanta",
                    "http://www.awa-con.com/" },
            { new Integer(4), "QTJ book",
                    "http://www.oreilly.com/catalog/quicktimejvaadn/" } };

    final static String[] COLUMN_NAMES = { "Count", "Name", "URL" };

    public static void main(String[] args) {
        // 142 mac l&f has a header bug - force metal for today
        try {

            UIManager.setLookAndFeel(UIManager
                    .getCrossPlatformLookAndFeelClassName());
        } catch (Exception e) {
            e.printStackTrace();
        }
        DefaultTableModel mod = new DefaultTableModel(TABLE_DATA, COLUMN_NAMES);
        JTable table = new JTable(mod);
        JScrollPane pane =

        new JScrollPane(table, ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS,
                ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
        JFrame frame = new JFrame("JTable Column Widths");
        frame.getContentPane().add(pane);
        frame.pack();
        frame.setVisible(true);

        try {
            Thread.sleep(5000);
        } catch (Exception e) {
            e.printStackTrace();
        }

        // now get smart about col widths
        final JTable fTable = table;
        SwingUtilities.invokeLater(new Runnable() {

            public void run() {
                ColumnResizer.adjustColumnPreferredWidths(fTable);
                fTable.revalidate();
            }
        });
    }
}

class ColumnResizer {
    public static void adjustColumnPreferredWidths(JTable table) {
        // strategy - get max width for cells in column and
        // make that the preferred width
        TableColumnModel columnModel = table.getColumnModel();
        for (int col = 0; col < table.getColumnCount(); col++) {

            int maxwidth = 0;
            for (int row = 0; row < table.getRowCount(); row++) {
                TableCellRenderer rend = table.getCellRenderer(row, col);
                Object value = table.getValueAt(row, col);
                Component comp = rend.getTableCellRendererComponent(table,
                        value, false, false, row, col);
                maxwidth = Math.max(comp.getPreferredSize().width, maxwidth);
            } // for row
            TableColumn column = columnModel.getColumn(col);
            column.setPreferredWidth(maxwidth);
        } // for col
    }
} 
```

如果不是全部在一个类文件中，请尝试：[http](http://www.tech-recipes.com/rx/826/java-exception-in-thread-main-javalangnoclassdeffounderror/) ://www.tech-recipes.com/rx/826/java-exception-in-thread-main-javalangnoclassdeffounderror/ 。基本上你的类路径可能有问题。

不过不用担心，代码似乎可以执行您指定的所有操作！

# iphone - 在服务器上上传时出现 UIImageOrientation 问题

> ID：10241147
> 
> 赞同：2
> 
> 时间：2012-04-20T06:12:41.627
> 
> 标签：iphone, objective-c, ipad, uiimage, orientation

我不知道这是怎么发生的，但是当我以纵向模式从相机拍摄图像并上传到服务器时，它显示正常，但是当我从照片库拍摄相同的图像并上传到服务器时，它以横向模式显示..

不知道这是怎么回事？从过去的 5 个小时开始非常卡住..

我经历了[这个](https://stackoverflow.com/questions/5427656/ios-uiimagepickercontroller-result-image-orientation-after-upload/5427890#5427890)和[这个](http://www.niftybean.com/2009/10/selecting-regions-from-rotated-exif-images-on-iphone/)，但还没有成功。

有人帮我解决这个问题吗？

提前致谢。

**更新**

```
- (UIImage *)imageToFitSize:(CGSize)fitSize method:(MGImageResizingMethod)resizeMethod
{
    float imageScaleFactor = 1.0;
#if __IPHONE_OS_VERSION_MAX_ALLOWED >= 40000
    if ([self respondsToSelector:@selector(scale)]) {
        imageScaleFactor = [self scale];
    }
#endif

    float sourceWidth = [self size].width * imageScaleFactor;
    float sourceHeight = [self size].height * imageScaleFactor;
    float targetWidth = fitSize.width;
    float targetHeight = fitSize.height;
    BOOL cropping = !(resizeMethod == MGImageResizeScale);

    // Calculate aspect ratios
    float sourceRatio = sourceWidth / sourceHeight;
    float targetRatio = targetWidth / targetHeight;

    // Determine what side of the source image to use for proportional scaling
    BOOL scaleWidth = (sourceRatio <= targetRatio);
    // Deal with the case of just scaling proportionally to fit, without cropping
    scaleWidth = (cropping) ? scaleWidth : !scaleWidth;

    // Proportionally scale source image
    float scalingFactor, scaledWidth, scaledHeight;
    if (scaleWidth) {
        scalingFactor = 1.0 / sourceRatio;
        scaledWidth = targetWidth;
        scaledHeight = round(targetWidth * scalingFactor);
    } else {
        scalingFactor = sourceRatio;
        scaledWidth = round(targetHeight * scalingFactor);
        scaledHeight = targetHeight;
    }
    float scaleFactor = scaledHeight / sourceHeight;

    // Calculate compositing rectangles
    CGRect sourceRect, destRect;
    if (cropping) {
        destRect = CGRectMake(0, 0, targetWidth, targetHeight);
        float destX, destY;
        if (resizeMethod == MGImageResizeCrop) {
            // Crop center
            destX = round((scaledWidth - targetWidth) / 2.0);
            destY = round((scaledHeight - targetHeight) / 2.0);
        } else if (resizeMethod == MGImageResizeCropStart) {
            // Crop top or left (prefer top)
            if (scaleWidth) {
                // Crop top
                destX = 0.0;
                destY = 0.0;
            } else {
                // Crop left
                destX = 0.0;
                destY = round((scaledHeight - targetHeight) / 2.0);
            }
        } else if (resizeMethod == MGImageResizeCropEnd) {
            // Crop bottom or right
            if (scaleWidth) {
                // Crop bottom
                destX = round((scaledWidth - targetWidth) / 2.0);
                destY = round(scaledHeight - targetHeight);
            } else {
                // Crop right
                destX = round(scaledWidth - targetWidth);
                destY = round((scaledHeight - targetHeight) / 2.0);
            }
        }
        sourceRect = CGRectMake(destX / scaleFactor, destY / scaleFactor,
                                targetWidth / scaleFactor, targetHeight / scaleFactor);
    } else {
        sourceRect = CGRectMake(0, 0, sourceWidth, sourceHeight);
        destRect = CGRectMake(0, 0, scaledWidth, scaledHeight);
    }

    // Create appropriately modified image.
    UIImage *image = nil;
#if __IPHONE_OS_VERSION_MAX_ALLOWED >= 40000
    if ([[[UIDevice currentDevice] systemVersion] floatValue] >= 4.0) {
        UIGraphicsBeginImageContextWithOptions(destRect.size, NO, 0.0); // 0.0 for scale means "correct scale for device's main screen".

        CGImageRef sourceImg;

        if(resizeMethod == MGImageResizeCrop)
            sourceImg = CGImageCreateWithImageInRect([self CGImage], sourceRect); // cropping happens here.
        else 
            sourceImg = CGImageRetain([self CGImage]);       // scaling happens here.

        image = [UIImage imageWithCGImage:sourceImg scale:0.0 orientation:self.imageOrientation]; // create cropped UIImage.
        [image drawInRect:destRect]; // the actual scaling happens here, and orientation is taken care of automatically.
        CGImageRelease(sourceImg);
        image = UIGraphicsGetImageFromCurrentImageContext();
        UIGraphicsEndImageContext();
    }
#endif
    if (!image) {
        // Try older method.
        CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
        CGContextRef context = CGBitmapContextCreate(NULL, fitSize.width, fitSize.height, 8, (fitSize.width * 4),
                                                     colorSpace, kCGImageAlphaPremultipliedLast);

        CGImageRef sourceImg;
        if(resizeMethod == MGImageResizeCrop)
            sourceImg = CGImageCreateWithImageInRect([self CGImage], sourceRect); // cropping happens here.
        else 
            sourceImg = CGImageRetain([self CGImage]);       // scaling happens here.

        //CGImageRef sourceImg = CGImageCreateWithImageInRect([self CGImage], sourceRect);
        CGContextDrawImage(context, destRect, sourceImg);
        CGImageRelease(sourceImg);
        CGImageRef finalImage = CGBitmapContextCreateImage(context);
        CGContextRelease(context);
        CGColorSpaceRelease(colorSpace);
        image = [UIImage imageWithCGImage:finalImage];
        CGImageRelease(finalImage);
    }

    return image;
} 
```

`MGImageResizingMethod`我在函数中定义并`MGImageResizeScale`作为参数传递的枚举在哪里。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:17:04.403

试试它可能有效。您必须根据您的图像设置条件，例如

```
if(image == fromCamera){
   [image fixOrientation];
}
else{
//please do not convert it to orientation 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T06:19:29.583

我建议您访问这两个参考，您将获得解决方案...

[相机图像改变方向](https://stackoverflow.com/questions/4565507/camera-image-changes-orientation)

[使用 Http Post 成功上传到服务器后图像变为水平](https://stackoverflow.com/questions/10170009/image-became-horizontal-after-successfully-uploaded-on-server-using-http-post)

希望对你有帮助..

# jquery - 如何全选 哪些只包含一行？

> ID：10241149
> 
> 赞同：1
> 
> 时间：2012-04-20T06:12:55.527
> 
> 标签：jquery, css

`$('pre:contains("\n")')`将选择`<pre>`包含至少一个换行符的所有内容。
如何选择所有`<pre>`最后不包含换行符或只有一个换行符的内容？
什么是快速方法？

### 匹配

```
<pre>A</pre> 
```

* * *

```
<pre>B
</pre> 
```

### 不匹配

```
<pre>C

</pre> 
```

* * *

```
<pre>

D</pre> 
```

* * *

```
<pre>

E
</pre> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:16:48.397

这个怎么样：

`$('pre:not(:contains("\n"))')`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T07:17:14.763

也许简单的方法就足够了，修剪文本然后检测换行符：

```
var myList = $('pre').filter(function(index) {
    var val = $(this).text().trim();
    return val.indexOf('\n') == -1;
});

$.each(myList, function() {
    alert($(this).text());
});​ 
```

样本数据：

```
<pre>hello</pre>

<pre>great
</pre>

<pre>you
say
</pre>

<pre>

yes</pre>

<pre>

heila
</pre>

<pre>not
included</pre>

<pre>included</pre>
​ 
```

输出：

```
 hello
 great
 yes
 heila
 included 
```

现场测试：http: [//jsfiddle.net/Anb6q/1/](http://jsfiddle.net/Anb6q/1/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T06:31:16.863

```
var myList = $('pre').filter(function(index) {
    var val = $(this).text();
    return val.substring(0, val.length -2).indexOf('\n') === -1;
}); 
```

[在这里摆弄](http://jsfiddle.net/szh94/2/)...

编辑[Michael Buen](https://stackoverflow.com/users/11432/michael-buen)评论

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-20T08:08:30.747

这就是我得到的。

```
$('pre').filter(function(){
    var txt = $(this).text()
    return txt.substring(0, txt.length-1).indexOf('\n')==-1
}).css({'background-color':'#FFF4E8',
        'border-top':'1px solid #FF6600',
        'border-bottom':'1px solid #FF6600',
        'padding': '1px 0 1px 0',
}) 
```

# django - DJANGO、MTTP 评论、IntegrityError

> ID：10241151
> 
> 赞同：0
> 
> 时间：2012-04-20T06:13:03.470
> 
> 标签：django, comments

嗨，当我尝试将此评论插入我的 MTTP 时，我收到此错误。我正在使用 MTTP 而不是 MTTP-Comments。请帮忙！

```
IntegrityError at /tasks/3264/
(1452, 'Cannot add or update a child row: a foreign key constraint fails 
(`taskdb`.`tasks_comment`, CONSTRAINT `task_id_refs_id_1c5648d2` FOREIGN KEY      
(`task_id`) REFERENCES `tasks_task` (`id`))') 
```

我的模型是：

```
class Task(models.Model):
    class Meta:
        app_label = 'tasks'
        ordering = ('taskid',)

    # meta
    taskid = models.IntegerField(default=0, db_index=True)

    def __unicode__(self):
        return u'%s' % self.taskid

class Comment(MPTTModel):
    task = models.ForeignKey(Task)
    author = models.CharField(max_length=60)
    comment = models.TextField()
    added  = models.DateTimeField(default=datetime.now)
    # a link to comment that is being replied, if one exists
    parent = TreeForeignKey('self', null=True, blank=True, related_name='children')

    class MPTTMeta:
        order_insertion_by=['added'] 
```

我的看法是：

```
if request.POST:
    comment = Comment(
        author=request.POST['author'],
        comment=request.POST['comment'],
        task_id='3264',
    )
    comment.save() 
```

我的 HTML 是：

```
<form action="" method="post">
    <input type="text" value="" name="author">
    <textarea name="comment"></textarea>
    <input type="submit" value="Add comment"> </form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T09:53:18.413

那么，问题是什么？id=3264 的任务表中似乎没有记录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T10:07:34.163

将任务 id 放在 Comment creation 中不是一个好主意。您需要先获取 Task 实例。

所以，试试这个：

```
from django.shortcuts import get_object_or_404
task = get_object_or_404(Task, pk=3264)

comment = Comment.objects.create (
        author=request.POST['author'],
        comment=request.POST['comment'],
        task=task,
    ) 
```

并检查具有此 id 的任务是否真的存在。

# c# - c# 当一个对象不是 null 时，它会报告它为 null

> ID：10241153
> 
> 赞同：2
> 
> 时间：2012-04-20T06:13:20.233
> 
> 标签：c#, visual-studio-2010, nullreferenceexception, sfml

当我在调试模式下运行我的程序时，它会在一个非 null 的对象上弹出 NullReferenceException - 它显示为在 Locals 视图中定义的那样。有问题的对象是 SFML.Graphics.Sprite，其中只有一个字段为空（myInverseTransform），但是当我检查其他 Sprite 时，它​​们在那里也为空。

有谁知道什么会导致这种情况，或者我怎样才能找到异常所指的空对象是什么？

[这是它的照片](http://img59.imageshack.us/img59/6440/27638522.jpg)

相关代码：

这是代码：

（在雪碧中：）

```
public void Draw(RenderTarget target, RenderStates states)

{

    states.Transform *= Transform;

    RenderStates.MarshalData marshaledStates = states.Marshal();

            if (target is RenderWindow)
            {
                sfRenderWindow_drawSprite(((RenderWindow)target).CPointer, CPointer, ref marshaledStates);
            }
            else if (target is RenderTexture)
            {
                sfRenderTexture_drawSprite(((RenderTexture)target).CPointer, CPointer, ref marshaledStates);
            }
        } 
```

（在变换中：）

```
 public static Transform operator *(Transform left, Transform right)
        {
            return new Transform(left).Combine(right);
        }

        public Transform Combine(Transform transform)
        {
            sfTransform_combine(CPointer, transform.CPointer);
            return this;
        }
            else if (target is RenderTexture)
            {
                sfRenderTexture_drawSprite(((RenderTexture)target).CPointer, CPointer, ref marshaledStates);
            }
        } 
```

调用 Sprite.Draw this.Transform 时定义的问题（根据 Locals 视图），但在 Transform 的 * 运算符中，正确的变量为 null；

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-20T06:16:17.323

它并没有声称您的变量值为空。（一个*对象*不能为空——虽然一个*变量*可以有一个空值。有很大的不同。）这只是说`NullReferenceException`发生了。例如，它可能是 SFML 库中的错误。您应该查看堆栈跟踪以找出引发异常的确切位置，然后从那里开始。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T06:24:50.727

您很可能会发现问题出在 Draw() 方法中，其中某些东西试图访问空变量中的成员——它甚至可能是方法中的局部变量。

您可以尝试自己编译 SFML（它是开源的吗？）并使用该副本来查看到底出了什么问题。

# android - 使用 SOAP Web 服务的要求

> ID：10241155
> 
> 赞同：-1
> 
> 时间：2012-04-20T06:13:26.163
> 
> 标签：android, eclipse, requirements

我是在 android eclipse 中使用网络服务的新手。目前我正在关注以下链接 [http://jatin4rise.wordpress.com/2010/10/03/webservicecallfromandroid/](http://jatin4rise.wordpress.com/2010/10/03/webservicecallfromandroid/) 但它不起作用。

谁能告诉从 android eclipse 使用 SOAP Web 服务的要求是什么。

谢谢你的帮助！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:32:09.547

使用 ksoap。它很容易实现。有关示例程序，请参阅下面的链接。

[示例程序](http://seesharpgears.blogspot.in/2010/11/basic-ksoap-android-tutorial.html)

# ios - TWTweetComposeViewController 中的错误？

> ID：10241160
> 
> 赞同：8
> 
> 时间：2012-04-20T06:13:56.960
> 
> 标签：ios, twitter, frameworks

我正在使用 TWTweetComposeViewController（如果可用）从我的 iOS 应用程序内部发送推文。我使用样板文本预先填充视图控制器，然后让用户自行修改和发送。它在大多数情况下都很好用。蒸馏下来，它看起来像这样（`body`指向一个有效的`NSString`）：

```
if (NSClassFromString(@"TWTweetComposeViewController"))  {
    TWTweetComposeViewController *iOS5twitter = [[TWTweetComposeViewController alloc] init];
    [iOS5twitter setInitialText:body];
    iOS5twitter.completionHandler = ^(TWTweetComposeViewControllerResult result) 
    {
        [self.viewController dismissViewControllerAnimated:YES completion:nil];
    };   
    [self.viewController presentViewController:iOS5twitter animated:YES completion:nil];
    [iOS5twitter release];
}
else {
    /* Do something else when the framework is missing */
} 
```

现在如果`body`太长，即超过 140 个字符，则生成的推文视图根本没有任何文本，字符倒计时设置为 140。我可能预计在这种情况下会被截断，尽管它似乎没有记录在类引用一种或另一种方式，当初始文本太长时会发生什么，但我可以接受我必须在传递到`setInitialText`.

我不明白的是，某些短于 140 个字符的消息*也会*产生空的推文视图。

最初，我看到似乎是一个完全有效的字符串，但有 139 个字符失败。我注意到缩短字符串使它起作用。但经过大量试验后，我还注意到，用相同长度的随机文本替换恰好出现在文本中的 URL 可以正常工作。换句话说，URL 本身就是一个问题。

所以我想我使用的 URL 可能有些奇怪，但我把它提炼成这个。这个有效：

```
NSString *body = @"............................................................................................................................................"; 
```

虽然这不是

```
NSString *body = @"............http://a........................................................................................................................"; 
```

观察：

*   它们都是 140 个字符长（并在控制台中使用 以这种方式报告`[body length]`）。唯一的区别是在第二个中间嵌入了一些模糊的类似 URL 的东西。
*   URL 在字符串中的位置似乎无关紧要，但是如果我将这些非句点字符中的任何一个更改为句点（从而使其不再像 URL），它就不会被破坏。
*   如果我缩短损坏的那一个，从末尾剃掉 14 个周期，它就可以工作。也就是说，这个特殊的 URL 嵌入在句点中，总长度为 126 个字符。127 或更大的已损坏。不清楚这如何或是否与 URL 本身的长度有关。

有人见过这样的东西吗？知道发生了什么吗？我做错了什么，还是 iOS Twitter 框架刚刚坏了？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-03T17:26:50.313

我遇到了完全相同的问题。这是 Twitter 框架中的一个已知错误，正在跟踪中。

请在 dev.twitter.com 上查看此讨论[https://dev.twitter.com/discussions/5024](https://dev.twitter.com/discussions/5024)

（如果可以的话，我会把它作为评论而不是答案发布，但我没有足够的可信度，所以我想我也会添加以下观察结果，以防它们感兴趣）。

仅添加没有 URL 的文本时，字符数按预期工作。使用 addURL: 方法添加 URL 会导致使用 21 个字符的推文（20 个用于 URL 加上一个空格）。在初始文本中添加 URL 会导致 URL 使用 20 个字符。当包含单个 URL（使用任一方法）时，当总字符数超过 138（例如，URL 为 20 + 空格 + 初始文本的 117 个字符）时，框架会失败，因此会丢失 2 个字符。仅使用一个 URL 设置初始文本然后使用 addURL: 添加 URL 的顺序没有区别。

添加 2 个 URls 时，当总字符数超过 113 时失败，这会丢失 27 个字符！但是，如果有 2 个或更多，如果在设置初始文本**之前**添加 URL ，它会失败，总数为 136。因此每个 URL 再次丢失 2 个字符。

摘要/解决方法 - 如果只包含 1 个 URL，那么在初始文本中添加它会比使用 addURL: 方法多出一个字符，但总体上仍然会短 2 个字符。如果使用 addURL: 添加 2 个或更多 URL，则在初始文本之前添加它们，但在修复错误之前，每个 URL 仍然会丢失 2 个字符。

我已经提交了雷达，但是根据这个[我可以浏览其他人（Apple）的错误报告吗？](https://stackoverflow.com/questions/144873/can-i-browse-other-peoples-apple-bug-reports)，错误报告的次数越多，它的优先级就越高，因此值得其他人提交它以提高它的优先级。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-30T07:41:04.080

这似乎是一个错误；我当然希望有一种方法可以直接询问 TWTweetComposeViewController 还剩下多少空间。幸运的是，有一种间接的询问方式。`setInitialText:`如果消息太长，则返回`NO`，所以我所做的是暴力破解它，一次切掉五个字符，直到它返回`YES`：

```
- (void)tweetURL:(NSString *)url title:(NSString *)title {
    TWTweetComposeViewController *twitter = [[TWTweetComposeViewController alloc] init];
    NSString *format = @"“%@” %@ /via @DesignSceneApp";
    NSString *message = [NSString stringWithFormat:format, title, url]
    NSUInteger idx = title.length;
    while (![twitter setInitialText:message]) {
        idx -= 5;
        if (idx > 5) {
            message = [NSString stringWithFormat:format,
                [NSString stringWithFormat:@"%@…", [title substringToIndex:idx]],
                url
            ];
        } else {
            // Give up on the title.
            message = [NSString stringWithFormat:@"%@ /via @DesignSceneApp", url];
            [twitter setInitialText:message];
            break;
        }
    }

    [self presentViewController:twitter animated:YES completion:nil];
} 
```

我知道，这很丑，对吧？但至少它允许我获得最大长度的合理近似值，这样我就不会截断超出我需要的链接标题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-06-10T12:48:05.037

自动消息修剪的一些代码摘录：

```
[tweetSheet addURL:[NSURL URLWithString:@"http://some.nice.url/"]];

if (![tweetSheet setInitialText:message]) {
    NSUInteger messageMaxIndex = [message length];
    while (messageMaxIndex > 0 && ![tweetSheet setInitialText:[NSString stringWithFormat: @"%@ ...", message]]) {
        --messageMaxIndex;
        message = [message substringToIndex:messageMaxIndex];
    };
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-25T16:11:19.890

Instead of

```
[iOS5twitter setInitialText:@"My url is http://something.com. No idea why it is not working"]; 
```

Try this

```
NSString *yourUrlString = @"http://something.com";
NSString *msg= @"My url is %@. No idea why it is not working";

NSString *defaultMessage = [NSString stringWithFormat:msg,yourUrlString];
[iOS5twitter setInitialText:defaultMessage]; 
```

I have no idea why it is so but I just faced this problem and tried it and it is working for me.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-02T18:52:10.097

我有类似的问题。Twitter 控制器不显示太长的推文。您可以通过减少到 140 个符号来获取推文的子字符串：

```
[tweetView setInitialText:[self.textToExport substringToIndex:140]];
NSLog(@"tweetView.initialText:%@", [self.textToExport substringToIndex:140]); 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-06-10T00:02:12.293

试试这个代码

```
- (IBAction)DeveloperTwitter:(id)sender {
    NSString* tweet = @"some tweet goes here..";
    if ([TWTweetComposeViewController canSendTweet]) {
        TWTweetComposeViewController *twitter = [[TWTweetComposeViewController alloc] init];        
        [twitter setInitialText:tweet];
        [self presentViewController:twitter animated:YES completion:nil];  
        twitter.completionHandler = ^(TWTweetComposeViewControllerResult res) {

            if(res == TWTweetComposeViewControllerResultDone) {

                // sent ...  

            }
            [self dismissModalViewControllerAnimated:YES]; 
        };
    }    
    else {
        tweet = [NSString stringWithFormat:@"%@%@", @"http://twitter.com/home?status=", tweet];
        tweet = [tweet stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
        [[UIApplication sharedApplication] openURL:[NSURL URLWithString: tweet]];
    }
    tweet=nil;
} 
```

# c# - Image.FromStream 抛出 ArgumentException：参数无效

> ID：10241164
> 
> 赞同：1
> 
> 时间：2012-04-20T06:14:25.683
> 
> 标签：c#, .net, image, stream

我正在尝试通过 HttpHandler 将图像输出到输出流，但它不断抛出 ArgumentException。我已经用谷歌搜索了这个问题并尝试了很多东西，但我仍然无法解决这个问题。无论如何，这是代码：

```
 public void ProcessRequest(HttpContext context)
    {
        Int32 imageId = context.Request.QueryString["id"] != null ? 
            Convert.ToInt32(context.Request.QueryString["id"]) : default(Int32);

        if (imageId != 0)
        {
            //context.Response.ContentType = "image/jpeg";
            Byte[] imageData = this._imageInfoManager.GetTradeMarkImage(imageId);

            using (MemoryStream ms = new MemoryStream(imageData, 0, imageData.Length))
            {
                using (Image image = Image.FromStream(ms, true, true)) //this line throws
                {
                    image.Save(context.Response.OutputStream, ImageFormat.Jpeg);
                }
            }
        }
        throw new ArgumentException("Image could not be found.");
    } 
```

请注意，imageData 字节数组不为空，并且内存流正在正确填充。有什么想法吗？

**更新：** 这里的代码......请注意，图像以格式`GetTradeMarkImage`存储在 SQL Server 数据库中。`image`

```
 public Byte[] GetTradeMarkImage(Int32 id)
    {
        object result = DB.ExecuteScalar(SqlConstants.SqlProcedures.Request_GetImageById, id);

        if (result != null)
        {
            using (MemoryStream ms = new MemoryStream())
            {
                BinaryFormatter bf = new BinaryFormatter();
                bf.Serialize(ms, result);
                return ms.ToArray();
            }                
        }
        return null;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:30:32.613

好的，现在您已经发布了`GetTradeMarkImage`代码，这几乎肯定是问题所在：

```
using (MemoryStream ms = new MemoryStream())
{
    BinaryFormatter bf = new BinaryFormatter();
    bf.Serialize(ms, result);
    return ms.ToArray();
} 
```

为什么您期望 的值`BinaryFormatter`是有效的图像流？目前尚不清楚您的数据库中有什么（BLOB？），也不清楚`result`这里的执行时间类型是什么（您应该通过调试找到），但您*不应该*在这里使用`BinaryFormatter`。我怀疑您*只是*想从数据库中获取原始数据，然后将其放入字节数组中。

如果你幸运的话，你*也许*可以从一开始`result`就投到。`byte[]`（我不知道`ExecuteScalar`blob有什么作用，这显然不是“正常”的`ExecuteScalar`方法）。否则，您可能需要使用另一种方法，打开 a`DataReader`并以这种方式获取值。

# android - 如何在屏幕右侧显示字母

> ID：10241165
> 
> 赞同：-1
> 
> 时间：2012-04-20T06:14:34.420
> 
> 标签：android

我只想在我的屏幕右侧显示字母，我的屏幕包含电话联系人中所有姓名的列表 当我们打开电话联系人时，这个功能已经在 android 手机中提供，然后在右侧出现一个显示所有字母的垂直列表当我单击它时，会显示联系人以该字母开头，所以我只想在我的应用程序中实现此功能。我也试过这个

```
 <List View
   android:fastscrollenabled="true"
    />
so i don't need this scroll so please suggest me the solution. 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:22:26.570

参见[AkphabeticalIndexer](http://developer.android.com/reference/android/widget/AlphabetIndexer.html)相同，您也可以使用以下链接：

[http://eshyu.wordpress.com/2010/08/15/cursoradapter-with-alphabet-indexed-section-headers/](http://eshyu.wordpress.com/2010/08/15/cursoradapter-with-alphabet-indexed-section-headers/)

# tomcat7 - Tomcat 服务器上的 ClassNotFoundException

> ID：10241170
> 
> 赞同：0
> 
> 时间：2012-04-20T06:14:55.577
> 
> 标签：tomcat7

我正在使用本[教程](http://www3.ntu.edu.sg/home/ehchua/programming/howto/tomcat_howto.html)来设置 Tomcat 服务器。在我将`HelloServlet.java`类和 Web.xml 放入 WEB-INF 文件夹之后，我给出了命令

本地主机：9999/你好/sayhello

在浏览器上。我总是得到`ClassNotFoundException`。如果有人能告诉我我哪里错了。

我将 JDK1.6.0_30 和 Tomcat7 用于我的示例应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:23:10.577

您需要将编译后的`HelloServlet.class`文件（不是 .java 文件）放入`WEB-INF/classes`文件夹中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T22:03:06.447

编译`HelloServlet.java`并将输出类文件`HelloServlet.class`放入

```
<TOMCAT_HOME>\webapps\hello\WEB-INF\classes\HelloServlet.class 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-24T09:01:00.210

在“classes”文件夹的“WEB-INF”中放置 .class 文件，如果您使用 JDBC，jsp 只需将 .jar 可执行文件复制到“lib”文件夹中。并确保 xml 文件应包含正确的信息。

您应该遵循以下 Web 应用程序目录结构 WEB-INF/ --

1.  `web.xml` --xml 文件
2.  `classes/`---classes 文件夹在这里我们保存 .class 文件 Myservlet.class
3.  `lib/` ---lib 文件夹在这里我们保存所有的 .jar 文件。我的应用程序.jar

    Welcome.html Welcome.jsp

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-24T09:15:23.433

您应该检查的一件事是，HelloServlet.class 应该在一个包中。看来您在使用 Servlet 和 JSP 方面还有很长的路要走……我推荐 Head First Servlet 和 JSP 供您参考。

# c# - 将视频从故事板保存到媒体库 WP7

> ID：10241177
> 
> 赞同：1
> 
> 时间：2012-04-20T06:15:35.200
> 
> 标签：c#, .net, vb.net, silverlight, windows-phone-7

有没有办法捕捉或保存故事板动画到 windows mobile 中的媒体库？目前我正在使用每秒更改图像的动画。我怎样才能把它保存成视频格式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T12:59:33.000

没有将任何视频内容保存到媒体库的机制。

目前，使用API​​，您可以保存图片。没有其他的

请参阅 [http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.media.medialibrary_members.aspx](http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.media.medialibrary_members.aspx)

# macos - 在 mac 应用程序中启动应用程序时 XIB 未打开

> ID：10241179
> 
> 赞同：0
> 
> 时间：2012-04-20T06:15:43.157
> 
> 标签：macos, user-interface, interface, window, osx-snow-leopard

我是 Mac 开发的新手，因为我第一次尝试将我的 iPhone 应用程序移植到 Mac 上。

对于所有有经验的开发人员来说，这可能看起来是一个愚蠢的问题，但请公平对待我，因为我对 Mac 编程知之甚少。

我在mac上开始了一个新项目，一切都很好。应用程序正在打开，我可以看到窗口打开了。

因为我想实现一个电影播放器​​，所以我遵循[Apple 的 Simple Movie Player Tutorial，](http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/QTKitApplicationTutorial/BuildingaSimpleMediaPlayerApplication/BuildingaSimpleMediaPlayerApplication.html#//apple_ref/doc/uid/TP40008155-CH3-SW8)然后尝试打开应用程序。现在，当应用程序启动时，我看不到应用程序的窗口。我需要从文件菜单打开一个视频，这使得应用程序窗口出现。我希望窗口在应用程序启动时出现！

请帮助，因为我的所有搜索都白费了，我强烈认为这是获得正确方向的正确地方。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:39:09.033

这似乎是特定应用程序的工作方式。它需要一个电影文件。该应用程序没有新的无标题文档。从您链接到的页面底部：“当播放器启动时，您可以打开并播放您选择的任何 QuickTime 电影。只需找到一个 .mov 文件并从媒体播放器应用程序中的文件 > 打开菜单启动电影。 "

您将在本教程的后续步骤中构建的记录器应用程序似乎会在启动时打开一个窗口。

另一件需要注意的事情：对于 Lion，由于应用程序恢复功能，启动应用程序不会总是打开一个新的、无标题的文档。Lion 将尝试将应用程序恢复到您退出时的状态。由于本教程是在该功能存在之前编写的，因此没有明确支持它。

# c++ - 矢量、移动语义、nothrow 和 g++ 4.7

> ID：10241182
> 
> 赞同：5
> 
> 时间：2012-04-20T06:16:28.663
> 
> 标签：c++, c++11, move, stdvector

我编写了以下代码来理解移动语义。它在 g++-4.6 中按预期工作（即没有副本，只有移动），但在 g++-4.7.0 中没有。我认为这是 g++-4.7.0 中的链接错误，但这个[链接](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=52745)说它不是 g++-4.7 中的错误。因此，正如我从上面的链接所理解的那样，我将移动构造函数设置为 nothrow，但它仍然只复制。但是，如果我不使用复制构造函数，则只会发生移动。任何人都可以解释这一点吗？

```
#include <iostream>
#include <vector>
using namespace std;

struct S{
int v;
static int ccount, mcount;
S(){}
    //no throw constructor
    //S(nothrow)(const S & x){
S(const S & x){
    v = x.v;
    S::ccount++;
}
S(S&& x){
    v = x.v;
    S::mcount++;
}
};

int S::ccount = 0;
int S::mcount = 0;
int main(){

vector<S> v;
S s;

for(int i = 0; i < 10; i++) {
    v.push_back(std::move(s));
}

cout << "no of moves = " << s.mcount << endl;
cout << "no of copies = " << s.ccount << endl;
return 0;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-20T06:34:04.840

您如何“使移动构造函数不抛出”？使用 g++ 4.7，如果我用注释移动构造函数，`noexcept`那么您的示例只会移动：

```
S(S&& x) noexcept{ ... }

no of moves = 25
no of copies = 0 
```

# heroku - Heroku Dynos 是否享受 AWS 网络内的免费数据传输？

> ID：10241184
> 
> 赞同：3
> 
> 时间：2012-04-20T06:16:42.613
> 
> 标签：heroku, amazon-web-services, amazon-dynamodb

我正在考虑将 Heroku 用于 NodeJS 应用程序，我想知道他们的 Dynos 是否享受 AWS 网络内的免费内部数据传输。

我想使用 DynamoDB、ElastiCache、RDS、SQS 和一堆其他 AWS 产品 - 如果我可以从 Heroku 连接到所有这些产品，我需要将它们设置在哪个区域和 AZ 以便从赫罗库迪诺斯？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T07:27:24.090

Heroku 在美国东部地区运行，因此只要您在那里设置，就不会在 dynos 和其他服务之间产生任何传输费用。

[https://devcenter.heroku.com/articles/amazon_rds](https://devcenter.heroku.com/articles/amazon_rds)页面上有更多详细信息- 它与 RDS 有关，但其中很多是一般的亚马逊东西，如安全组等。

# uitableview - iOS UITableView：底部的 UIView/自定义单元格，就像在 twitter iPad 应用程序中一样

> ID：10241192
> 
> 赞同：0
> 
> 时间：2012-04-20T06:17:55.293
> 
> 标签：uitableview, ios5, table-footer

我正在使用 Xcode 4.3 中提供的主从模板创建一个 iPad 应用程序。我的主表视图充当详细视图的导航菜单，并且菜单项将被修复。所以我基本上并不完全需要滚动视图，因此我将其关闭。

```
self.tableView.scrollEnabled = NO; 
```

现在我需要在主菜单底部显示一个页脚，如单元格对齐，就像在 Twitter iPad 应用程序中一样。单元格应以横向和纵向模式出现在底部。有人可以给我一些关于如何实现这一点的提示吗？

我在一些博客上阅读了有关使用 UIView 并将其设置为 UITableView.tableFooterView 的内容，例如...

```
// I'll have to do calculations of frame height/x/y for both orientations 
// to make the view appear at bottom - IS THERE A SIMPLER WAY???
UIView *footerView =  [[UIView alloc] initWithFrame:CGRectMake(0, 944, self.tableView.frame.size.width, 60)];

UILabel *logo = [[UILabel alloc] initWithFrame:CGRectMake(0, 0, 200, 60)];
logo.text = @"This is the Footer.";
[footerView addSubview:logo];
self.tableView.tableFooterView = footerView; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T13:28:39.293

查看应用程序后，我认为“页脚”不是表格的一部分。它看起来更像是桌子下的一个小视图。所以桌子被设置成它会垂直伸展，但它的高度被锁定在底部视图之上。也许最好为您的主视图使用 a`UIViewController`和 a而不是. 然后把你的放在里面，把你的页脚放在它下面。然后像以前一样配置以使用。`UIView``UITableViewController``UITableView``UIView``UIViewController``UITableView`

希望这可以帮助。

# android - 如何禁用完整列表视图

> ID：10241199
> 
> 赞同：0
> 
> 时间：2012-04-20T06:19:23.173
> 
> 标签：android, listview

我想首先禁用整个列表视图。那么如何实现呢？我在自定义列表视图上放置了一个按钮（所有按钮都可以从列表视图中的项目中单击），因此单击该按钮我正在进行一些处理。完成后我只想在列表视图中启用该项目。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:38:14.960

我认为您有一个 editext 和一个按钮作为行项目..在您的适配器的 getview 方法中..

```
 edittext.setClickable(false);
    edittext.setFocusableInTouchMode(false); 
```

并在按钮的onclick中

```
 private OnClickListener btnOnClickListener = new OnClickListener() {
    public void onClick(View v) {

    edittext.setClickable(true);
    edittext.setFocusableInTouchMode(true);
     }
};
 button.setonClickListener(btnOnClickListener); 
```

# java - 带过滤器的 J2me 列表

> ID：10241201
> 
> 赞同：-1
> 
> 时间：2012-04-20T06:19:44.043
> 
> 标签：java, java-me, j2mepolish

我正在处理 j2me 项目，我想实现具有搜索选项的列表，就像我们按 p 时的联系人一样，然后它会过滤所有以 p 开头的联系人。我想在列表上实现同样的事情，请帮助我解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:39:46.207

如果你可以使用 lwuit 来开发这样的任务，它已经实现并且易于用于多种用途。

请检查这个[例子](http://lwuit.blogspot.in/2008/06/lightweight-text-input-in-lwuit.html)（LWUIT）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-23T05:41:35.463

很抱歉，有些人提出了我的问题，但没关系，我找到了我的问题的答案：

在 j2me Polish 我们有过滤列表，我们可以添加搜索功能

```
import de.enough.polish.ui.FilteredList;
FilteredList record = null;
this.record = new FilteredList("Records", List.IMPLICIT);

and this list can not implement action listener directly like, 
```

// addCommandListener(record); // 错误，但您可以将命令侦听器实现为

```
 record.setCommandListener(this); 
```

谢谢大家。

# objective-c - 如何通过iphone中的页面号切换到pdf中的特定页面

> ID：10241202
> 
> 赞同：1
> 
> 时间：2012-04-20T06:19:53.180
> 
> 标签：objective-c, uiviewcontroller, xcode4.2, ios5, uipageviewcontroller

嗨，我在 ios 5 中使用 UIPageViewController，例如，我有 10 个页面，我想从第 2 页切换到第 8 页，这意味着我如何在 UIPageViewController 中实现此功能，请任何人帮助我摆脱这个问题。 .

提前致谢。

# c# - 已安装 Windows 服务但无法正常工作

> ID：10241203
> 
> 赞同：1
> 
> 时间：2012-04-20T06:19:55.807
> 
> 标签：c#, .net, service, windows-services, installation

我创建了一个 Windows 服务并为其创建了安装程序。它已安装并启动，但我在其中编写的代码没有执行。实际上，当我从服务窗口启动服务时，不会触发 OnStart() 函数。也不是 initializecomponent() 也不是 static void main 函数..任何人都可以帮助我

请指导我哪里做错了。

这是一些代码行。如果你想要更多我写的东西，请告诉我

```
public partial class iMArchiveService : ServiceBase
{
    Boolean isArchiving = false;

    public iMArchiveService()
    {
        MyException.CreateLog("iMArchiveService: Inside Constructor. Initializing Component");
        InitializeComponent();
        MyException.CreateLog("iMArchiveService: Component Initialized. Timer is set as: " + TimeMachine.Interval.ToString() + " milliseconds");
    }

    protected void TimeMachine_Elapsed(object sender, System.Timers.ElapsedEventArgs e)
    {
        try
        {
            MyException.CreateLog("iMArchiveService: Inside Tick Try. Value of isArchiving variable before condition is: " + isArchiving.ToString());
            if (!isArchiving)
                isArchiving = new iM.OrderArchiving.ArchiveOrderXML().ArchiveOrderService();
            MyException.CreateLog("iMArchiveService: Inside Tick Try. Value of isArchiving variable after condition is: " + isArchiving.ToString());
        }
        catch (Exception ex)
        {
            MyException.CreateLog("iMArchiveService: Inside Tick Catch :(");
        }
    }

    protected override void OnStart(string[] args)
    {
        TimeMachine.Enabled = true;
        MyException.CreateLog("iMArchiveService Started: " + DateTime.Now.ToString());
    }

    protected override void OnStop()
    {
        TimeMachine.Enabled = false;
        MyException.CreateLog("iMArchiveService Stopped: " + DateTime.Now.ToString());
    }

} 
```

上面的代码用于服务 file.cs

这是我的项目安装程序文件

```
namespace iM.OrderArchivingService
{
    [RunInstaller(true)]
    public partial class ProjectInstaller : Installer
    {
        public ProjectInstaller()
        {
        InitializeComponent();
        }
    }
} 
```

这是 InitializeComponenet 函数 -

```
private void InitializeComponent()
    {
        this.myServiceProcessInstaller = new System.ServiceProcess.ServiceProcessInstaller();
        this.myServiceInstaller = new System.ServiceProcess.ServiceInstaller();
        // 
        // myServiceProcessInstaller
        // 
        this.myServiceProcessInstaller.Account = System.ServiceProcess.ServiceAccount.LocalSystem;
        this.myServiceProcessInstaller.Installers.AddRange(new System.Configuration.Install.Installer[] {
        this.myServiceInstaller});
        this.myServiceProcessInstaller.Password = null;
        this.myServiceProcessInstaller.Username = null;
        // 
        // myServiceInstaller
        // 
        this.myServiceInstaller.ServiceName = "iMArchiveService";
        // 
        // ProjectInstaller
        // 
        this.Installers.AddRange(new System.Configuration.Install.Installer[] {
        this.myServiceProcessInstaller});

    } 
```

这是program.cs文件

```
namespace iM.OrderArchivingService
{
static class Program
{
    /// <summary>
    /// The main entry point for the application.
    /// </summary>
    static void Main(string[] args)
    {
        ServiceBase[] ServicesToRun;
        ServicesToRun = new ServiceBase[] { new iMArchiveService() };
        ServiceBase.Run(ServicesToRun);
    }
}
} 
```

如您所见，我已经编写了代码以在初始化或启动时登录..但是没有记录。

编辑：

定时器代码（TimeMachine）

```
 private void InitializeComponent()
    {
        this.components = new System.ComponentModel.Container();
        this.TimeMachine = new System.Timers.Timer(3600000);
        // 
        // TimeMachine
        // 
        this.TimeMachine.Interval = 3600000;
        this.TimeMachine.Elapsed += new System.Timers.ElapsedEventHandler(TimeMachine_Elapsed);
        // 
        // iMArchiveService
        // 
        this.ServiceName = "iMArchiveService";

    } 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:23:12.147

不要`System.Windows.Forms.Timer`在 Windows 服务中使用，它可能不会在其中引发事件。请参阅[Windows 服务中未引发 Windows 窗体计时器事件](http://support.microsoft.com/kb/820639)。

在 Windows 服务中使用`System.Timers.Timer`或使用。`System.Threading.Timer`请参阅[Windows 服务和计时器](https://stackoverflow.com/questions/246697/windows-service-and-timer)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T07:19:17.103

您使用了错误的`Timer`类 - 线索在它的命名空间中：`System.Windows.Forms.Timer`. 该计时器仅适用于 WinForms 应用程序。

相反，您应该切换到使用[`System.Timers.Timer`](http://msdn.microsoft.com/en-us/library/system.timers.timer.aspx)

* * *

有一个定时器类的一般讨论[`System.Threading.Timer`](http://msdn.microsoft.com/en-us/library/system.threading.timer.aspx)：

> `System.Threading.Timer`是一个简单的轻量级计时器，它使用回调方法并由线程池线程提供服务。不建议与 Windows 窗体一起使用，因为它的回调不会发生在用户界面线程上。**是与Windows 窗体**`System.Windows.Forms.Timer`一起使用的更好选择。对于**基于服务器的计时器功能**，您可以考虑使用，它会引发事件并具有附加功能。****`System.Timers.Timer`****

 ****（我的重点取代了原来的）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T07:38:45.457

也许您应该使用 Timer.Start() 和 Timer.Stop() 方法来启动和停止计时器，以防万一使用 Enabled 属性时出现问题。

间隔周期为 3,600,000，即 3600 秒或 60 分钟 = 1 小时。一个小时过去了，什么都不会发生；这是你的意图吗？

顺便说一句，像下面的示例那样设置间隔将使您的代码更易于阅读：

```
this.TimeMachine.Interval = 1 * 1000;  // 1 Second
this.TimeMachine.Interval = 60 * 1000; // 60 Seconds
this.TimeMachine.Interval = 60 * 60 * 1000; // 1 hour 
```

尝试使用 System.Diagnostics 中的 Debug.Writeline() 方法。默认情况下，它将在 MSVS 的输出窗口中发布消息。您还会在那里看到任何异常。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-20T06:45:40.443

请检查 TimeMachine.Enable = True 并设置计时器的计时。

参考这个链接

[http://codesimplified.com/2010/12/31/creating-window-service-with-net-vs2008/](http://codesimplified.com/2010/12/31/creating-window-service-with-net-vs2008/)****

# authentication - 在 Chrome Extesnion 中针对 asp.net 表单对用户进行身份验证

> ID：10241206
> 
> 赞同：1
> 
> 时间：2012-04-20T06:20:16.977
> 
> 标签：authentication, google-chrome-extension, forms-authentication

我正在创建一个 chrome 扩展，它需要一些由 asp.net 实现的服务。我想通过扩展名对 asp.net 表单身份验证用户进行身份验证。我在 google 上搜索过，但大多数[文章](http://smus.com/oauth2-chrome-extensions/)都描述了来自 Oauth 提供程序（google、facebook 等）的扩展的身份验证。在我的场景中，我的选择是什么，以及在 chrome 扩展中针对我的网站对用户进行身份验证的最佳实践是什么。顺便说一句，我的应用程序是浏览器操作，如果重要的话。

**编辑：**在我的网站中，用户可以使用多个帐户登录，但一次只有一个帐户处于活动状态。目前，我正在轮询 Web 服务以查看用户是否在线，但如果用户从一个帐户切换到另一个帐户，我无法跟踪这一点。我还没有找到针对 asp.net Web 表单的 chrome 扩展身份验证的单个示例。谁能指导我针对 asp.net forms auth 对扩展请求进行身份验证的最佳（标准）选项是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T13:28:24.603

我从另一篇文章中找到了这个回复......如果我能帮忙^^

如果您将站点添加到“本地 Intranet”中

Chrome > 选项 > 后台 > 更改代理设置 > 安全（选项卡）> 本地 Intranet/站点 > 高级。

在此处添加您的站点 URL，它将起作用。链接|编辑

daveomcd 567317 于 2011 年 10 月 18 日 21:10 回答

# sql-server - 为列分配索引？

> ID：10241207
> 
> 赞同：1
> 
> 时间：2012-04-20T06:20:24.283
> 
> 标签：sql-server, sql-server-2008, indexing

```
select a,b,max(c) from myTable
where a>b
group by a,b 
```

我的第一直觉是为 [a,b,c] 打开一个聚集索引

*这是问题：*

假设有人正在运行另一个简单的选择：

```
select a from myTable. 
```

将通过索引`[a]`查找该列吗？`[a,b,c]`或者它根本不会使用索引......？（我猜它*会*使用`[a,b,c]`索引）

但我想它不会像单个`[a]`索引那样快...

所以我该怎么做 ？

创建`[a,b,c]`索引 **或** 创建`[a,b,c] + [a]`索引

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:32:12.460

你的第一个想法是正确的。查询：

```
SELECT a
FROM myTable 
```

将能够`(a,b,c)`有效地使用索引。无需添加`(a)`索引。

* * *

至于这个索引是否应该被聚集，那就是另外一回事了。由于 SQL-Server 只允许每个表有一个聚集索引，因此应该明智地做出选择。请参阅 MSDN 文章：[聚集索引设计指南](http://msdn.microsoft.com/en-us/library/ms190639%28v=sql.105%29.aspx)和[创建聚集索引](http://msdn.microsoft.com/en-us/library/ms186342%28v=sql.105%29.aspx)。

# php - 在 https://www.realcredit.com/ 中付款后如何创建访问页面的系统？

> ID：10241211
> 
> 赞同：0
> 
> 时间：2012-04-20T06:20:34.157
> 
> 标签：php, payment-gateway, payment, payment-processing

[我想在https://www.realcredit.com/](https://www.realcredit.com/)中为我的网站创建一个信用卡支付处理部分。付款后，用户可以访问页面。创建这样的系统所需的所有步骤是什么。如果有人在 Realcredit 中为 PHP 站点处理信用卡，请指导我实施信用卡处理部分。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:43:00.133

首先，您应该指定该付款是针对一次性服务还是某种更长的订阅/许可。

如果它只是一次性付款，您可能希望创建一个系统，在该系统中可以使用一次性令牌访问页面。（您访问带有附加安全令牌的 url 的页面，您的会话得到验证，令牌无效。）

然后根据 realcredit.com 的 API 实施支付系统，一旦支付完成，就向客户发送一封邮件（或者如果是立即显示一个页面），其中包含一个带有这种一次性令牌的链接。

如果您想实现许可系统之类的东西，那么您可能希望首先为您的页面或用户数据库实现用户登录。然后，一旦付款清除，在您的数据库中的所述用户记录上设置一个标志，允许访问您要保护的页面。

# javascript - 火狐不播放声音

> ID：10241212
> 
> 赞同：1
> 
> 时间：2012-04-20T06:20:36.023
> 
> 标签：javascript, html, firefox

您好，我在客户端编程和 html 方面是新手，我正在尝试在 firefox 和其他浏览器中执行以下行，代码应该播放声音，问题是代码可以在 IE 和 Chrome 上播放声音，但不能在Firefox 这是我的代码：

```
<!DOCTYPE html>
<html>

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>Untitled 1</title>
    <script type="text/javascript">
       function playsound()
       {
       var sound= document.getElementById("check");
       sound.play();
       }
    </script>
</head>

<body>
<audio id = "check" preload = "auto">
    <source src = "check.mp3" type = "audio/mpeg"></audio>

<input type="button" onclick="playsound()" value="play"> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:25:25.883

Firefox 不支持 MP3 格式作为音频源。如果您添加第二个 OGG 格式的源文件，该脚本也应该可以在 Firefox 中运行。[有关更多信息，请参阅此链接](https://stackoverflow.com/questions/4923136/why-doesnt-firefox-support-mp3-file-format-in-audio)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T06:26:29.253

事实上，firefox 和 opera 不支持 html5 音频标签中的 mp3 文件。[您可以在w3schools](http://www.w3schools.com/html5/html5_audio.asp)中查看支持的浏览器。它的解决方法是您需要一个备用 Flash 音频播放器。

# java - 如何在 Java 中清除控制台？

> ID：10241217
> 
> 赞同：32
> 
> 时间：2012-04-20T06:21:01.407
> 
> 标签：java, console

很长一段时间以来，我一直为此拉头发。我研究了一个小时如何在 Java 中清除控制台。

我发现的只是通过打印一堆行或执行这个来进行肮脏的黑客攻击

```
Runtime.getruntime.exec("cls/clear"); 
```

但是，似乎没有什么对我有用。真的没有任何方法可以像在 C ( `clrscr();`) 中那样在 Java 中清除控制台。没有任何外部库可以实现这一点。

请让我知道是否有人在使用正确的函数、库等之前做过此操作，而不是肮脏的黑客攻击。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-04-20T06:41:02.083

如果您的终端支持[ANSI 转义码](http://en.wikipedia.org/wiki/ANSI_escape_code)，这将清除屏幕并将光标移动到第一行第一列：

```
System.out.print("\033[H\033[2J");
System.out.flush(); 
```

这适用于几乎所有 UNIX 终端和终端仿真器。Windows`cmd.exe`不解释 ANSI 转义码。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2016-04-28T14:54:59.237

试试这个代码

```
import java.io.IOException;

public class CLS {
    public static void main(String... arg) throws IOException, InterruptedException {
        new ProcessBuilder("cmd", "/c", "cls").inheritIO().start().waitFor();
    }
} 
```

现在，当 Java 进程连接到控制台时，它将清除控制台。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-20T06:25:05.603

```
Runtime.getRuntime().exec("PlatformDepedentCode"); 
```

您需要将“PlatformDependentCode”替换为您平台的明确控制台命令。

该`exec()`方法执行您作为参数输入的命令，就像在控制台中输入一样。

在 Windows 中，您可以将其编写为`Runtime.getRuntime().exec("cls");`.

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-12-01T17:01:52.437

使用以下代码：

* * *

```
System.out.println("\f"); 
```

* * *

' **\f** ' 是一个*转义序列*，它代表**FormFeed**。这是我在项目中用来清除控制台的。我猜这比其他代码简单。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-20T06:37:00.653

您需要指示控制台清除。

对于串行终端，这通常是通过所谓的“转义序列”完成的，特别是[vt100](http://en.wikipedia.org/wiki/VT100)集已成为非常普遍的支持（以及它的近亲 ANSI 表亲）。

Windows 传统上不支持这种“开箱即用”的序列，而是依靠 API 调用来完成这些事情。但是，对于基于 DOS 的 Windows 版本，可以安装 ANSI.SYS 驱动程序来提供此类支持。

所以如果你在 Windows 下，你需要与适当的 Windows API 交互。我不相信标准的 Java 运行时库包含这样做的代码。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-08-02T09:57:24.650

您可以使用简单的 for 循环打印“\b”轻松实现 clrscr()。

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2017-04-07T16:45:05.850

如果您使用的是 windows 并且有兴趣在运行程序之前清除屏幕，您可以编译从 .bat 文件调用它的文件。例如：

* * *

分类

java“编译类的名称是什么”

* * *

另存为“etc”.bat，然后在命令提示符下调用或双击文件运行

# android - Android 缩略图创建，谁来做？

> ID：10241218
> 
> 赞同：0
> 
> 时间：2012-04-20T06:21:11.513
> 
> 标签：android

在android中，谁创建缩略图？

我有一个应用程序，我正在访问缩略图数据库。我观察到在 sdcard 中加载新图像后，我的应用程序中丢失了一些图像。

那么是媒体扫描仪创建和更新缩略图数据库吗？有办法强制吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:29:04.057

我认为您需要重新扫描媒体。拍照后尝试调用[ContentResolver](http://developer.android.com/reference/android/content/ContentResolver.html#insert%28android.net.Uri,%20android.content.ContentValues%29)的 insert() 函数，传递有关图片的信息。

```
public final Uri insert (Uri url, ContentValues values) 
```

它实际上会将图片添加到数据库中并为您创建图片的缩略图。它也将被添加到缩略图数据库中。希望这可以帮助！

**或者**

试试这个代码：

```
public static void scanFile(Context context, String path, String mimeType ) {
    Client client = new Client(path, mimeType);
    MediaScannerConnection connection = new MediaScannerConnection(context, client);
    client.connection = connection;
    connection.connect();
}

private static final class Client implements MediaScannerConnectionClient {
    private final String path;
    private final String mimeType;
    MediaScannerConnection connection;

    public Client(String path, String mimeType) {
        this.path = path;
        this.mimeType = mimeType;
    }

    @Override
    public void onMediaScannerConnected() {
        connection.scanFile(path, mimeType);
    }

    @Override
    public void onScanCompleted(String path, Uri uri) {
        connection.disconnect();

}

} 
```

然后只需调用`scanFile(imageUri.getPath(), null)`.

不要使用编码路径，也不要使用“ */* ”作为 MIME 类型，因为 null 值会使扫描仪自动确定 MIME 类型。

# c - 通过命令行替换字符

> ID：10241220
> 
> 赞同：0
> 
> 时间：2012-04-20T06:21:22.007
> 
> 标签：c, argv

我正在尝试编写一个名为 replace 的 linux 命令，它将替换文件中的字符。我希望这样称呼它：

```
$./replace I XY test.txt 
```

在此示例中，`test.txt`包含单词“这是一个测试文件”

如何将字符替换`'I'`为`"XY"`. 我曾尝试使用如下代码所示的缓冲区，但由于缓冲区和 argv 的声明方式不同，因此会产生错误。此外，`'I'`存储在一个数组元素中，而`"XY"`需要两个。是否存在解决方法？

考虑这个`text.txt`例子：

```
[T][H][I][S][ ][I][S][ ][A][ ][T][E][S][T][ ][F][I][L][E] 
```

在此示例中，第三个索引（包含`'I'`）必须替换为`"XY"`

这是我的代码，存在上述问题：

```
#define BUFFERSIZE 4096

/*replace i xy data.txt */
int main(int ac, char *av[])
{
    int in_fd, out_fd, n_chars, BufElement,j;
    char buf[BUFFERSIZE];
    in_fd=open(av[3], O_RDWR);

    /*Read characters from file to buffer*/
    while ( (nread = read(in_fd , buf, BUFFERSIZE)) > 0 )
    {
        for (BufElement=0;BufElement < nread;BufElement++)
        {
            for (j=0; j < strlen(av[1]); j++)
            {
                if (buf[BufElement] == av[1][j])
                    buf[BufElement] = av[2]; /*ERROR*/
            }/*for*/
        }/*for*/
    }/*while*/
}/*main*/ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:32:16.013

`buf[BufElement]`是一个字符并且`av[2]`是一个字符串（特别是字符指针）。您不能像您所做的那样将两者等同起来（`buf[BufElement] = av[2];`）此外，即使有可能，您也不能在 C 中轻松地将缓冲区中的 1 个字节替换为 2 个字节。它将覆盖下一个字符。

您需要复制文件内容，直到在临时缓冲区中找到匹配项，将替换字符串附加到此临时缓冲区，然后复制文件的剩余内容。

# email - 如何从 play 2.0 应用程序向所有域（雅虎、gmail、rediff、hotmail 等）发送电子邮件？

> ID：10241221
> 
> 赞同：0
> 
> 时间：2012-04-20T06:21:23.497
> 
> 标签：email, playframework-2.0

我正在创建 Play 2.0 应用程序。我需要向任何域（如 Yahoo、Gmail、Hotmail、Rediff 等）发送电子邮件。我使用了 Gmail 服务器，所以我需要能够发送到 Gmail。如何发送给所有这些 SMTP 提供商？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:20:16.900

我使用 Play!2.0 邮件插件

[https://github.com/typesafehub/play-plugins/tree/master/mailer](https://github.com/typesafehub/play-plugins/tree/master/mailer)

# java - 将字符串解析为日期和时间，但没有得到适当的解析

> ID：10241223
> 
> 赞同：0
> 
> 时间：2012-04-20T06:21:44.230
> 
> 标签：java

我附上代码。在这段代码中，我正在获取一个字符串，它是来自平面文本文件的日期。它由 AM/PM（12 小时制）组成。当我解析它时，它不能很好地解析，不能以 24 小时格式解析。我想要当前时间和文件中的字符串的时间差。并且由于 AM/PM，它没有转换为 24 小时格式。所以无论是下午还是上午，它都显示相同的时差。所以，如果你有任何富有成效的建议，请告诉我。我会非常感谢你们。

公共类铸造{

```
/**
 * @param args
 */
    static FileReader fw;
    public static void main(String[] args) {
        // TODO Auto-generated method stub

        try{
            fw = new FileReader("E://796F_log.txt");
            BufferedReader pw =new BufferedReader(fw);
            String last_Line_From_File="" ; 

            for (String message  = pw.readLine(); message != null ; message = pw.readLine()) {
                    last_Line_From_File = message;
            }

            String[] array_Of_Data = last_Line_From_File.split("\\s") ;
            String time = array_Of_Data[0]+" "+array_Of_Data[1]+" "+array_Of_Data[2] ;

            System.out.println(time);
            DateFormat dateFormat = new SimpleDateFormat("MM/dd/yyyy HH:mm:ss a");
            Calendar cal = Calendar.getInstance();
            String current_time = dateFormat.format(cal.getTime());

            Date d1 = dateFormat.parse(time);
            Date d2 = dateFormat.parse(current_time);

            long total_time = d2.getTime()-d1.getTime();
            total_time /= 1000 ;

            System.out.println("current time "+d2.getHours()+":"+d2.getMinutes()+":"+d2.getSeconds()+"\n"+d1.getHours()+":"+d1.getMinutes()+":"+d1.getSeconds());
            if(total_time <= 500)
            {
                System.out.println("working "+total_time);
            }
            else
                System.out.println("nt working   "+total_time);

        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
            System.out.println("did the smart thing or dumb thing");
        } catch (ParseException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }finally
        {
            try {
                fw.close();

            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
                System.out.println("we did attempt closing");

            }

        }
    } 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T06:25:25.160

问题是你的格式：

```
"MM/dd/yyyy HH:mm:ss a" 
```

这里`HH`的意思是*24小时*值。所以预计晚上 7 点是“19”。在同一格式字符串中同时包含“HH”和“a”（AM/PM 指示符）几乎*总是错误的。*

你可能想要

```
"MM/dd/yyyy hh:mm:ss a" 
```

或者

```
"MM/dd/yyyy h:mm:ss a" 
```

取决于您是否收到“07:00:00 AM”或“7:00:00 AM”之类的信息。

如果您正在做大量的日期/时间工作，我建议您使用[Joda Time](http://joda-time.sf.net)而不是`Date`/ `Calendar`，顺便说一句。

# javascript - 可以为基于 RIA REST 的应用程序选择什么 JS 库

> ID：10241225
> 
> 赞同：0
> 
> 时间：2012-04-20T06:22:19.673
> 
> 标签：javascript, rest, ria

我有制作一些 REST 应用程序的想法。我已经选择了我将在服务器端使用的内容。但是现在我有一件大事，我应该用什么来制作 RICH 网络应用程序？

我有中级 javascript 知识。我知道 jquery，我做了自己的 jquery 插件。它应该告诉你我的水平，远非专业水平。

但我想尝试自己做。而且我认为 jQuery 对于这类任务来说不是很好的选择。我想要一些更灵活的东西，而不是看起来像很多特定事件的回调。可能是 MVC 风格的东西。但我不想花很多时间来学习复杂的东西。

例如：ini PHP 生活中有很多框架，我选择Yii，它真的更容易理解和做一些东西，比如Symfony（甚至是第二版）。

所以我正在寻找类似 Yii 的东西（但对于浏览器端），快速、易学、灵活和强大的东西。

我想也许它可能是 cofeescript，或卡布奇诺或其他东西......

但是我没有太多时间去学习和尝试这么多 JS 框架和库来自己做出决定，这就是我问你们所有人的原因。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:09:43.280

通常我的选择是：

*   [jQuery](http://jquery.com) - 用于一般的东西
*   [Q](https://github.com/kriskowal/q)承诺库用于处理更复杂的异步操作
*   在客户端构建模型的[主干](http://documentcloud.github.com/backbone/)
*   用于与 HTML 交互的[Mustache模板](http://mustache.github.com/)
*   [Jasmine](http://pivotal.github.com/jasmine/) - 用于应用程序的单元测试

但是，如果您打算制作非常丰富的用户界面，您需要处理许多不同的事件并且您不想编写自己的可视化控件（因为它们很复杂），您可以使用[ExtJS](http://www.sencha.com/products/extjs)（注意可能需要购买许可证） .

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T06:59:48.740

对我来说，[Jquery ui](http://jqueryui.com/)一直很容易使用我有限的 javascript 知识。学习曲线一点也不陡峭，许多社区插件也有助于进一步开发。

除此之外，您还可以尝试 Mootools、Extjs（非常好的组件，但需要一点学习）和 yui（我需要明确学习）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T07:04:04.923

我会推荐使用 jQuery，因为您已经对它有所了解。当涉及到 jQuery UI 时，它提供了一些功能：http: [//jqueryui.com/demos/](http://jqueryui.com/demos/)。这个功能够丰富吗？

在 jQuery 之上，您可以使用几个 JS 库来满足特定需求：

**图表：**

[http://www.highcharts.com/](http://www.highcharts.com/)

**网格：**

[http://www.activewidgets.com/](http://www.activewidgets.com/)

当您使用 JS 时，保持自己的 JS 代码井井有条非常重要。将您的功能分成单独的 js 文件。想想你的对象结构。JS 是原型语言（可以直接从其他对象继承）。

对我来说，找到编写好的 JS 代码的方法需要一些时间。我强烈推荐这本书：JavaScript: The Good Parts（Douglas Crockford 着）。

```
// Namespace
var MyNameSpace = {};

MyNameSpace.vehicle = function() {
  var that = {};
  var my = my || {};

  my.thisIsMyOwn;

  that.publicFunction = function() {
    my.thisIsMyOwn = "put something here";
  };

  return that;
};

MyNameSpace.car = function() {
  var that = MyNameSpace.vehicle(); // "inheritance"

  return that;
}; 
```

# java - 在 SWT 按钮上，如何将文本放置在图像前面

> ID：10241230
> 
> 赞同：2
> 
> 时间：2012-04-20T06:22:33.450
> 
> 标签：java, eclipse, swt

我有一个按钮，我正在尝试通过以下方式在其上设置文本和图像：

```
button.setText("+");
button.setImage( PlatformUI.getWorkbench().getSharedImages().getImage( ISharedImages.IMG_OBJ_FILE ) ); 
```

但是，这段代码使图像出现在文本之前。

我想要它的另一种方式，即图像之前的文本。

有什么建议么 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T11:24:02.967

我建议你在`PaintListener`你的按钮上添加一个并努力研究它的`paintControl`方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T11:35:59.737

您可以尝试设置`SWT.RIGHT_TO_LEFT`，但我不确定这是否适用于所有平台。

```
Button button = new Button(parent, SWT.RIGHT_TO_LEFT); 
```

# facebook-graph-api - PHP流发布新闻工作但图片不上传

> ID：10241231
> 
> 赞同：2
> 
> 时间：2012-04-20T06:22:39.813
> 
> 标签：facebook-graph-api, feed

```
$profile_id = $userInfo['id'];
            $picLocal = "https://xxxxxxxxxx/logo.jpg";
                $attachment = array('access_token' => $decodedSignedRequest['oauth_token'],'message' => $userInfo['name'].' is in the draw to win a Free wine for a year',
             'name' => "Oliver's taringa",
             'link' => $fbconfig['appPageUrl'],
             'description' => 'Oliver\'s Taranga in McLaren Vale is home to the ultra-premium HJ Reserve Shiraz and has supplied grapes for the illustrious Penfolds Grange, arguably the pinnacle of achievement for Shiraz growers in Australia. So join their community to go in the draw to win a years worth of amazing wine!',
             'picture' => $picLocal
                );
                if(!($sendMessage = $facebook->api('/'.$profile_id.'/feed/','post',$attachment))){
                $errors= error_get_last();
                echo "Facebook publish error: ".$errors['type'];
                echo "<br />\n".$errors['message'];
                }
            } 
```

在 3 天之前，此代码适用于所有应用程序。但从最近 3 天开始，我看到了消息等帖子，只有我们无法在新闻上看到的图片。

[http://i.stack.imgur.com/n06Jj.jpg](http://i.stack.imgur.com/n06Jj.jpg)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-05T12:03:29.270

下面的代码很适合我。

```
$data = array(
            "link" => $link,
            "access_token" => $user_access_token,
            "picture" => $image,
            "name"=> $title,
            "description"=> $description
    );

$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, "https://graph.facebook.com/".$userId."/feed");
curl_setopt($ch, CURLOPT_HEADER, false);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
$op = curl_exec($ch);
if (!$op) {
    echo "Curl Error : ".curl_error($ch);
    curl_close($ch);
    exit;
}

curl_close($ch);
$res = get_object_vars(json_decode((string)$op));
print_r($res); 
```

# java - 在 Canvas 上处理大图像以保持纵横比会导致内存不足问题

> ID：10241244
> 
> 赞同：0
> 
> 时间：2012-04-20T06:23:50.963
> 
> 标签：java, android

我正在尝试为游戏加载背景图像以及一些较小的图像，将它们放在画布上，并让人们与较小的叠加图像进行交互（如移动、旋转）

为了保持纵横比（例如 5:3），我尝试将图像作为位图加载并自己调整大小。这个想法是根据画布的宽度/高度对背景进行裁剪/字母装箱，并为较小的图像保持正确的大小比例。

```
Bitmap originalBitmap = BitmapFactory.decodeResource(getResources(), resourceImg);
Bitmap resizedBitmap = Bitmap.createBitmap(bitmapOrg2, 0, 0, width, height, matrix, true); 
```

为了满足平板电脑/手机的需求，我有一个 1600x1000 和 200kb 的背景 PNG 背景图像。

但是，由于位图在尝试调整大小时为 1600x1000x4byte=6.4 mb 和更多内存，我现在正在努力解决内存不足的问题。（发生这些问题时，我正在使用模拟器）

我决定将其更改为使用 canvas.setBackgroundResource

```
 SceneCanvas sceneCanvas = (SceneCanvas) findViewById(R.id.the_canvas);
    sceneCanvas.setBackgroundResource(R.drawable.my_scene_1600x900); 
```

这很好用，除了它填满屏幕并且不保持纵横比。

有没有办法设置背景保持纵横比？或者我是否完全走错了路线，应该使用 ImageViews 并以某种方式渲染到画布以避免 OutOfMemory 问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-22T09:11:31.477

鉴于 Java 代码只允许大约 20MB 左右的堆大小，您总是会遇到大位图的问题（除非您使用 C/C++/等中的本机代码）。

一种选择是使用[BitmapFactory](http://developer.android.com/reference/android/graphics/BitmapFactory.html)加载您的图像，并且在[选项](http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html)中您可以指定一个 inSampleSize 以在读取图像时对其进行下采样。这应该避免通过尝试加载整个原始图像来占用内存。甚至还有一个 inJustDecodeBounds 选项，因此您的代码可以检查图像的尺寸，而不是将它们硬连接到代码中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-22T14:23:27.187

似乎 Android 上的内存限制介于 16 - 24 MB 内存之间（取决于设备）。这与设备是否具有更多内存无关。此外，Bitmaps 使用的内存包含在限制中，导致 lang.OutOfMemoryError: bitmap size超出VM budget。经过一番搜索，我可以找到 3 个选项：

*   使用 NDK（本机开发工具包）和 JNI 从本机代码分配内存

*   对于图像也可以使用 OpenGL 纹理，纹理内存不计入限制。

*   利用某些位图选项来减小尺寸；[http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html](http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html)

要查看您的应用分配了多少内存可以使用，android.os.Debug.getNativeHeapAllocatedSize()。

# extjs4 - 存储加载extjs 4后如何获取服务器response.responseText

> ID：10241247
> 
> 赞同：7
> 
> 时间：2012-04-20T06:24:13.707
> 
> 标签：extjs4, extjs-mvc

我在`response.responseText`从 extjs 4 中获取服务器响应时遇到了一个问题。

下面是我加载商店的代码：

```
store.load({
    params: {
        'projectid': this.projectid
    },
    callback: function (records, operation, success, response) {
        console.log(records);
        console.log(response.responseText);
    }
}); 
```

实际上，当我使用以下函数发出请求时，我正确地得到了`reponse.responseText`.

```
Ext.Ajax.request({
    url: 'login/GetLoginCheck.action',
    method: 'GET',
    params: {
        'username': values['username'],
        'password': values['password']
        },
    scope: this,
    success: function(response) {
        Ext.Msg.alert(response.responseText);
        var redirect = response.responseText;
        window.location.href = "" + redirect + ".jsp";
    },
    failure: function(response) {
        Ext.Msg.alert('INVALID USERNAME OR PASSWORD');
    }
}); 
```

所以请建议我如何`response.responseText`从具有回调函数的 store.load() 中获取。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-20T11:14:15.530

回调有 3 个参数...试试这个：

```
store.load({
    params: {
        'projectid': this.projectid
    },
    callback: function (records, operation, success) {
        console.log(operation.response.responseText);
    }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-24T11:22:57.960

我遇到了类似的问题[`Model.load(...)`](http://docs.sencha.com/extjs/4.1.3/#!/api/Ext.data.Model-static-method-load)，但在我的情况下，`operation.response`没有定义。所以，我找到了另一种获得它的方法：

```
Model.load(1, {
    success: function () {
        // I haven't tested inside this callback yet
    },
    failure: function (record, operation) {
        var response = operation.request.proxy.reader.rawData;
        alert(response.message);
    }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-04-01T04:00:24.307

> 你也可以试试这个。。

```
Ext.create('Ext.data.Store',{
    fields[],
    proxy:{url:'store_url.json', reader:{type:'json',root:'data'}},
    autoLoad:true,
    listeners:{
        load:function(store, record, success, opts){
            var response_text = store.proxy.reader.rawData;
            console.log(response_text);
        }
    }
}) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-21T06:46:58.820

在 extjs 3.4 中你可以使用这个：

```
this.historyInvoiceHeaderGrid.store.load({
        params:{start:0, limit:20},
        callback: function (records, operation, success) {
            console.log(this.reader.jsonData);
        }}); 
```

此属性`store.reader.jsonData`将返回完整响应。

也许对于某些人来说，它在 extjs 3 中会很有用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-03-18T15:42:24.640

在 Extjs 4.x 中它是这样工作的

```
myStore.load({
        url: 'myurl',
        method: 'GET',
        callback: function(records, operation, success) {
        var jsonStr = Ext.JSON.decode(operation.response.responseText);
            alert(jsonStr.message);
         }
}); 
```

在 Extjs 5 你必须这样做

```
myStore.load({
        url: 'myurl',
        method: 'GET',
        callback: function(records, operation, success) {
 var message=forecastMethodStore.getProxy().getReader().rawData.message;
         }
}); 
```

但这里的关键点是您应该在 java 端的 JSON 响应中设置消息。

> 示例：{"Root":[], "message":"duplicates"}"

希望这会对某人有所帮助。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-01-02T07:12:44.900

您必须 `messageProperty`在`proxy reader`您的`'Ext.data.Store'`.

```
 reader: {
                type: 'json',
                root: 'myDataList',
                totalProperty: 'myTotalRecord',
                successProperty: 'mySuccess',
                messageProperty : 'myMsg'
            } 
```

当`mySuccess`返回`false`然后调用`callback: function`。

```
 store.load({
        params: {start: 0, limit: 15},
        callback: function (records, operation, success) {
            if (!success) {
                try {
                    Ext.Msg.alert('Sorry !', operation.getError());
                    // operation.getError() returns myMsg value
                }catch (e){
                    Ext.Msg.alert('Exception !', e);
                }
            }
        }
    }); 
```

这是从 Java Servlet 返回的 json。

```
 Map<String, Object> myDataMap = new HashMap<>(3);
    try {
        // Something
        myDataMap.put("mySuccess", true);
        myDataMap.put("myMsg", "Whats up khomeni !");
    } catch (Exception e) {
        myDataMap.put("mySuccess", false);
        myDataMap.put("myMsg", "Whats wrong with me.");
    }
    String json = new Gson().toJson(myDataMap); 
```

# c# - 在 Sharepoint 2007 中，TopNavigation Bar 显示为“报告中心”站点的 Null

> ID：10241248
> 
> 赞同：1
> 
> 时间：2012-04-20T06:24:17.317
> 
> 标签：c#

我创建了一个发布网站集，当我尝试获取“报告中心”网站的 TopNavigation Bar 时，我得到它为空。为什么 ？但是对于文档中心、新闻等，它不为空。有人可以解释一下吗？

```
string siteUrl = "http://sp07:9988/sites/testpubsite/Reports";
        using (SPSite site = new SPSite(siteUrl))
        {
            SPWeb web = site.OpenWeb();
            var topBar = web.Navigation.TopNavigationBar;
        } 
```

# panorama-control - 用于 ios 的 360° 全景库全景GL.a

> ID：10241254
> 
> 赞同：0
> 
> 时间：2012-04-20T06:24:42.997
> 
> 标签：panorama-control

您好我正在使用此链接来实现全景 360 视图图像

[http://www.codeproject.com/Articles/60635/Panorama-360-iPod-Touch-iPhone](http://www.codeproject.com/Articles/60635/Panorama-360-iPod-Touch-iPhone)

我也按照该站点的步骤进行操作，但是那里总是缺少全景GL.a lib 文件。

谁能帮帮我吗。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T21:56:25.683

codeproject 文章较旧，请查看 las 版本的 PanoramaGL 库[http://code.google.com/p/panoramagl/](http://code.google.com/p/panoramagl/)并下载 HelloPanoramaGL 示例。如果您可以阅读 Wiki 部分中的用户指南。

最后一个版本支持热点和读取 README.txt 和 CHANGES.txt 文件的其他功能。

# jquery-mobile - 如果在第一页中包含 jQuery Mobile，则两个页面被“合并”在一起

> ID：10241256
> 
> 赞同：0
> 
> 时间：2012-04-20T06:24:47.453
> 
> 标签：jquery-mobile

我有一个非常简单的 HTML 两页演示，它说明了 jQuery Mobile 1.1.0 中一个非常令人困惑的行为。（真正的应用程序要复杂得多，但我已经能够“大量”简化问题。）

第 1 页包含一个跳转到第 2 页的 href。如果第 1 页*不*包含 jQuery Mobile 1.1.0，我们可以单击该链接，第 2 页显示没有错误。但是，如果页面 1 包含 jQuery Mobile 1.1.0，则单击页面 1 中的链接会生成一个页面，该页面是*页面 1 和页面 2 中的 HTML 的组合*！也就是说，第 1 页被保留，第 2 页被“合并”到其中。我已经尝试过常规版本和缩小版本，结果相同。这两个页面与 HTML 页面一样简单，因此使用下面的示例应该很容易重现这一点。这是使用 Tomcat 5.5 运行的（如果重要的话，可以从 Eclipse 中管理和启动）。这两个 HTML 文件和两个 jQuery Mobile 文件都放在服务器文档根目录的一个文件夹中。（下面的浏览器输出来自通过 Tomcat 运行，但我只是通过直接从 Page1.html 文件启动浏览器来尝试这个 - 根本不涉及服务器 - 问题仍然存在，因此可以在不涉及服务器的情况下重现.)

下面显示了 Page1 和 Page 2 的文件内容，以及在桌面 Firefox 浏览器（在 Firebug 中）中看到的 HTML。

***第 1 页来源 HTML：

```
<!doctype html>
<html lang="en">
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<!-- Remove jQuery Mobile and Page 2 is displayed properly. -->
<script src="jquery.mobile-1.1.0.min.js" ></script>
</head>
<body >
<a href="Page2.html">Click for Page 2</a>
</body>
</html> 
```

在浏览器中生成第 1 页 HTML：

```
<html lang="en" class="ui-mobile"><head><base href="http://localhost/MyServer/DemoBadJQM/Page1.html">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="jquery.mobile-1.1.0.min.js"></script>
<title></title></head>
<body class="ui-mobile-viewport ui-overlay-c"><div data-role="page" data-url="/MyServer/DemoBadJQM/Page1.html" tabindex="0" class="ui-page ui-body-c ui-page-active" style="min-height: 521px;">
<a href="Page2.html" class="ui-link">Click for Page 2</a>
</div><div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span><h1>loading</h1></div></body></html> 
```

第 2 页来源 HTML：

```
<!doctype html>
<html lang="en">
<head></head>
<body >
This is from PAGE 2 BODY!!!
</body>
</html> 
```

在浏览器中生成第 2 页 HTML：

```
<html lang="en" class="ui-mobile"><head><base href="http://localhost/MyServer/DemoBadJQM/Page2.html">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<!-- Remove jQuery Mobile and Page 2 is displayed properly. -->
<script src="jquery.mobile-1.1.0.js"></script>
<title></title></head>
<body class="ui-mobile-viewport ui-overlay-c ui-mobile-viewport-transitioning viewport-fade"><div data-role="page" data-url="/MyServer/DemoBadJQM/Page1.html" tabindex="0" class="ui-page ui-body-c ui-page-active fade out" style="min-height: 521px; height: 522px;">
<a href="Page2.html" class="ui-link">Click for Page 2</a>
</div><div class="ui-loader ui-corner-all ui-body-a ui-loader-default"><span class="ui-icon ui-icon-loading"></span><h1>loading</h1></div><div data-role="page" data-url="/OpsServer/DemoBadJQM/Page2.html" data-external-page="true" tabindex="0" class="ui-page ui-body-c">
This is from PAGE 2 BODY!!!
</div></body></html> 
```

请注意，页面 1 中包含 jQuery Mobile：

没有内容的“第 2 页”包含第 1 页的内容。

“页面 2”包含页面 1 中的 href 和“加载”元素。

“Page 2”最终包含了 Page 2 HTML 文件中的简单文本。

单击第 1 页中的链接产生的页面似乎是第 1 页，并附加了第 2 页。从第 1 页删除 jQuery Mobile，问题就消失了。这纯粹是一种猜测，但 jQuery Mobile 在获取下一页时显示“正在加载”消息，并且这样做似乎以某种方式阻止浏览器“处理”第 1 页，而是合并传入的第 2 页与之前的第 1 页。

谁能解释这里发生了什么？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T20:40:36.853

使用 rel="external" 和第 1 页中的 href 可以解决此问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-01T21:53:14.593

* * *

这可能已经过时了，但我只是遇到了类似的事情。看起来原因是因为 jQuery Mobile 会获取页面，将其加载到 DOM 中，然后像幻灯片一样在页面之间转换。我假设您的可视区域足以容纳页面，以至于它甚至没有尝试在页面之间滑动。

我们的情况是，我们有一些页面显式加载了 jQuery Mobile，而一些没有，而那些没有加载的页面以某种方式获取了 Mobile 库的功能。

jQM 将自己和其他页面加载到内存中，这样它就可以减少网络请求的数量，并且能够在页面之间很好地转换。您还可以告诉它在加载第一页后在后台预加载图像和页面。

它与普通的 html 页面略有不同。只需尝试考虑针对尽可能少的网络请求优化站点即可。

[http://jquerymobile.com/demos/1.0b2/docs/pages/page-cache.html#/demos/1.0b2/docs/pages/page-anatomy.html](http://jquerymobile.com/demos/1.0b2/docs/pages/page-cache.html#/demos/1.0b2/docs/pages/page-anatomy.html)

# php - 当用户单击链接并传递变量时运行 PHP 代码

> ID：10241259
> 
> 赞同：1
> 
> 时间：2012-04-20T06:24:50.870
> 
> 标签：php, jquery, ajax, variables

当用户单击链接时，我需要从外部服务器运行 PHP 代码。链接不能直接指向 PHP 文件，所以我想我需要使用 AJAX/jQuery 来运行 PHP？但是我该怎么做以及如何将变量传递给链接？

像这样的东西？

`<a href="runcode.html?id=' + ID + '">`然后 runco​​de.html 将有一个 AJAX/jQuery 代码，该代码会将该变量发送到 PHP？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:39:55.370

在带有链接的页面中使用类似的东西

一些文字

在同一页面中将其放在顶部的某个位置

```
<script language='javascript'>
$(function(){
$('.myClass').click(function(){
var data1 = 'someString';
var data2 = 5;//some integer
var data3 = "<?php echo $somephpVariable?>";

$.ajax({

url : "phpfile.php (where you want to pass datas or run some php code)",
data: "d1="+data1+"&d2="+data2+"&d3="+data3,
type : "post",//can be get or post
success: function(){
        alert('success');//do something
    }

});
return false;
});
});

</script> 
```

在 url 中提到的 url：在 ajax 提交中，您可以获取通过的那些数据，例如

```
<?php
$data1 =$_POST['d1'];
$data2 =$_POST['d2'];
$data3 =$_POST['d3'];
//now you can perform actions as you wish
?> 
```

希望有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T06:29:29.933

您也可以使用 ajax 请求来执行此操作。基本思想是：

1.  向 runco​​de.html 发送 ajax 请求
2.  配置另一个 AJAX 以从该页面触发

考虑到，这作为标记

```
<a id="link" href="runcode.html'">Test</a> 
```

JS

```
$("#link").on("click", function() {
    $.get("runcode.html", { "id" : ID }, function(data) {
       //on success 
    });
    return false; //stop the navigation 
}); 
```

# php - 使用 Codeigniter 登录 Facebook

> ID：10241261
> 
> 赞同：0
> 
> 时间：2012-04-20T06:25:05.330
> 
> 标签：php, facebook, codeigniter

我正在尝试将 Facebook 登录按钮放在 Codeigniter 平台上。

我已经按照这个程序

[http://www.dannyherran.com/2011/02/facebook-php-sdk-and-codeigniter-for-basic-user-authentication/](http://www.dannyherran.com/2011/02/facebook-php-sdk-and-codeigniter-for-basic-user-authentication/)

但我收到了这个错误

```
API Error Code: 100
API Error Description: Invalid parameter
Error Message: Requires valid redirect URI. 
```

我使用了与网站提供的完全相同的代码。

你能告诉我为什么我会收到这个错误信息吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:37:14.410

您是否设置了有效的 redirect_uri ？

```
'redirect_uri' => '' 
```

# android - 想要在响应中解析特殊字符

> ID：10241268
> 
> 赞同：0
> 
> 时间：2012-04-20T06:25:46.770
> 
> 标签：android, parsing, special-characters

我最初在我的文本响应中得到了特殊字符“ã”和一个破折号“-”，当我对该文本执行 setText() 时，它在我的设备和模拟器中的两个位置都显示“�”符号。

我想在回复中显示我到底有什么，我不知道我做了什么才能看起来像它实际上是什么。我用谷歌搜索了很多东西，并尝试了各种东西，比如 UTF-8、ISO 编码标准和 HTML.fromHTML 等，但都没有用。

有没有人有这个答案。

谢谢大卫布朗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:56:10.750

您可以将字符保存为对象，然后检索对象并将其设置在文本视图中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T06:52:54.950

您可以在服务器端或客户端用它们的 ascii 代码替换这些特殊字符。看看这是否有效

# plsqldeveloper - 拆分 PLSQL 结果

> ID：10241271
> 
> 赞同：0
> 
> 时间：2012-04-20T06:25:57.653
> 
> 标签：plsqldeveloper

我正在尝试使用 PLSQL Developer 从数据库中获取数据，需要获取的总行数超过 150 万。当我尝试将所有数据一起获取时，确实需要很长时间。我将把它分成两个获取阶段，第一个，第 1 - 100 万行，其余的进入第二阶段。
我怎么能在 PLSQL 中做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T23:07:59.850

这使用分析函数选择每行的编号，以便您可以按行号查询；

```
SELECT *
FROM
(
SELECT *,
       ROW_NUMBER() OVER(ORDER BY id_column_here) r
  FROM my_table
)
WHERE R<=100000; 
```

您可以使用较小的行间隔来检索前 1000 个，然后是下一个，依此类推：

```
SELECT *
FROM
(
SELECT *,
       ROW_NUMBER() OVER(ORDER BY id_column_here) r
  FROM my_table
)
WHERE R between 1000 and 2000; 
```

# android - 连接两部安卓手机，通过WIFI在它们之间传输数据

> ID：10241272
> 
> 赞同：4
> 
> 时间：2012-04-20T06:26:01.837
> 
> 标签：android, web-services, sockets, communication

实际上，我正在开发跟踪应用程序，并希望在两部 Android 手机之间发送位置更新，以便两者都可以通过地图相互跟踪。我的应用程序必须从其他 android 设备获取实时更新，以便更好地跟踪。
我已经搜索了几种技术，但不知道哪一种最好

**使用套接字：**使一个设备作为服务器，而另一个作为客户端
*可能的限制：*

*   如果服务器的IP地址改变了怎么办（因为WIFI没有静态IP）
*   如果服务器的 IP 地址是私有的，则无法访问
*   只有客户端可以连接到服务器，服务器不能连接到客户端

**使用中间服务器：**创建中间服务器并通过该服务器进行通信。
*可能的限制：*

*   慢，因为每个 Android 设备首先将这些更新发送到服务器，然后服务器将这些更新推送到其他 Android 设备

请向我提供关于哪一个是最好的方法的建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:35:05.003

由于您没有说明您想要支持的设备 API 级别，我将为您提供适用于 Android v4（API 级别 14）设备的选项。它被称为[Wi-Fi Direct](http://developer.android.com/guide/topics/wireless/wifip2p.html)，允许手机之间的 p2p 连接。它本质上是您的套接字方法，但允许轻松发现邻居并允许双向传输。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T07:10:09.600

好吧 wifi 出来了.. 至少不是为了你所说的目的。除非你的地图很小。Wifi 是说 100 米（在一个非常好的一天）

不像我对其他手机那样了解android，我会说你很痛苦。我怀疑通过点对点连接到您的手机可能是一个真正的难题。有些提供商不会让它发生。

我的方法不仅仅是答案..
从安卓手机，看看你是否能得到你的 IP 地址。
在办公桌上，ping 那个 IP 地址。
如果它有效，那么你就在路上了。
我什至可以说考虑到你的信息的大小，你可以使用 ping 作为你的主要数据载体。
Ping 可以包含的不仅仅是随机字节。您可以在 ping 中发送的内容中包含 ID 和 GPS。
--- 也许包括一个校验和 ---

把大部分办公桌上的电话都做，因为开发会更快..然后当你的手机能够捕捉到 ping.. 那么发送 ping 应该很容易。

# c - 如何在eclipse中重新编译包含文件

> ID：10241273
> 
> 赞同：0
> 
> 时间：2012-04-20T06:26:06.577
> 
> 标签：c, eclipse

我想重新编译我的项目的包含文件，其中包括一些头文件和 .c 源文件，它们是我的 Ethetnet 驱动程序的文件。现在我想对我包含的源文件之一进行一些更改。但是当我更改并构建或重建我的项目时，包含 .c 源文件中的更改确实发生在最终输出二进制文件中。这意味着我的项目采用以前编译的包含 .o 文件。那么如何重新编译项目的所有包含文件，以便在最终输出二进制文件中发生更改。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:37:13.613

CMIIW 但 AFAIK 它取决于您的编译器（我猜是 gcc），对包含文件的依赖分析可能会完成，也可能不会，在 gcc 的情况下它不会这样做。它仅将 .c 与其对应的 .o 进行比较，因此您必须在更改包含文件时强制重新构建。也许您可以使用某些编译器选项，但我不知道。

编辑：刚刚发现了一个类似的问题：[如何让 Makefile 自动重建包含修改后的头文件的源文件？（在 C/C++ 中）](https://stackoverflow.com/questions/297514/how-can-i-have-a-makefile-automatically-rebuild-source-files-that-include-a-modi)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T06:41:08.427

如果您确实包含了正确的文件（您已修改的文件，而不是来自其他目录的同名文件），那么清理项目并重建它应该会有所帮助。只需在项目资源管理器中选择一个项目，右键单击，执行“清理项目”，然后构建它...

# iphone - iPhone 中的 3d 条形图

> ID：10241276
> 
> 赞同：-2
> 
> 时间：2012-04-20T06:26:43.870
> 
> 标签：iphone, ios

如何使用[ECGraph](http://code.google.com/p/ecgraph/)绘制 3d 条形图？我可以在 2d 中绘制，但我想要在 3d 中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T06:30:41.760

ECGraph 似乎还没有实现 3D 条形图。目前支持二维曲线图和直方图。

# android - 如何在 Java 代码中创建此 UI (android xml)

> ID：10241277
> 
> 赞同：0
> 
> 时间：2012-04-20T06:26:46.717
> 
> 标签：android, xml

我有这个`main.xml`：

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >
    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:src="@drawable/ic_launcher"/>
    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom"
        android:background="@android:color/white"
        android:orientation="horizontal" >   
        <ImageView
            android:id="@+id/imageView1"
            android:layout_width="300dp"
            android:layout_height="wrap_content"
             android:background="@drawable/barslide" 
             android:layout_marginLeft="500dp"/>
    </LinearLayout>
</FrameLayout> 
```

我想在 java 代码中创建相同`UI`的`main.xml`内容。我尝试对其进行编码，但它不起作用，它与 xml 不同。这是代码：

```
void createUI(){

    LayoutParams params1 = new FrameLayout
    (LayoutParams.FILL_PARENT,LayoutParams.FILL_PARENT);

    LayoutParams params2 = new android.widget.FrameLayout.LayoutParams(
    android.widget.FrameLayout.LayoutParams.FILL_PARENT,
android.widget.FrameLayout.LayoutParams.FILL_PARENT,
Gravity.BOTTOM);

FrameLayout f1 = new FrameLayout(this);
f1.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));

LinearLayout l2 = new LinearLayout(this);
l2.setOrientation(LinearLayout.HORIZONTAL);
l2.setLayoutParams(params2);

view1 = new page1(getBaseContext());
view360 = view1.img1(getBaseContext());
view360.setBackgroundDrawable(getResources().getDrawable(R.drawable.black1));
view360.setLayoutParams(new FrameLayout.LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.FILL_PARENT));

slidebar = view1.img3(getBaseContext());
slidebar.setBackgroundResource(R.drawable.barslide);
slidebar.setLayoutParams(new LinearLayout.LayoutParams(300, LayoutParams.WRAP_CONTENT,Gravity.BOTTOM));

f1.addView(view360);
f1.addView(l2);
l2.addView(slidebar);

addContentView(f1, params1);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:12:16.450

您的代码并没有完全复制`xml`布局（这对评论来说太大了）：

```
 // replace THIS(from the constructors) with your context reference
    FrameLayout fl = new FrameLayout(this);
    fl.setLayoutParams(new FrameLayout.LayoutParams(
            FrameLayout.LayoutParams.MATCH_PARENT,
            FrameLayout.LayoutParams.MATCH_PARENT));
    ImageView imv1 = new ImageView(this); // the first ImageView
    imv1.setLayoutParams(new FrameLayout.LayoutParams(
            FrameLayout.LayoutParams.MATCH_PARENT,
            FrameLayout.LayoutParams.MATCH_PARENT));
    imv1.setImageResource(R.drawable.ic_launcher);
    fl.addView(imv1);
    LinearLayout ll = new LinearLayout(this);
    FrameLayout.LayoutParams llp = new FrameLayout.LayoutParams(
            FrameLayout.LayoutParams.MATCH_PARENT,
            FrameLayout.LayoutParams.WRAP_CONTENT);
    llp.gravity = Gravity.BOTTOM;
    ll.setLayoutParams(llp);
    ll.setBackgroundColor(Color.WHITE);
    ImageView imv2 = new ImageView(this); // the second ImageView
    DisplayMetrics metrics = getResources().getDisplayMetrics();
    float width = 300f;     
    int pWidth = (int) (metrics.density * width + 0.5f);
    LinearLayout.LayoutParams imvlp = new LinearLayout.LayoutParams(pWidth,
            FrameLayout.LayoutParams.WRAP_CONTENT);
    float margin = 500f;
    int pMargin = (int) (metrics.density * margin + 0.5f);
    imvlp.leftMargin = pMargin;
    imv2.setLayoutParams(imvlp);
    imv2.setBackgroundResource(R.drawable.food_image1);
    ll.addView(imv2);
    fl.addView(ll); 
```

您必须修改它以使用您的对象`page1`（我不知道您到底想在那里做什么）。另外，您确定必须使用`addContentView()`（也许`setContentView`？）方法吗？（此方法会将视图添加到已经存在的布局中）

# python - 如何在 Emacs 中运行 python 解释器？

> ID：10241279
> 
> 赞同：31
> 
> 时间：2012-04-20T06:27:08.403
> 
> 标签：python, emacs, interpreter

我刚刚下载了GNU emacs23.4，并且我已经在Windows7中安装了python3.2。

我一直在使用 Python IDLE 来编辑 python 文件。

问题是我可以用 Emacs 编辑 python 文件，但我不知道如何在 Emacs 中运行 python 解释器。当我点击“切换到解释器”时，它会显示“正在搜索程序：没有这样的文件或目录，python”

有人说我需要对 .emacs 文件进行一些更改，但我不知道在哪里寻找。

而且我非常缺乏经验，刚刚开始学习编程。我不熟悉常用的术语。我一直在寻找解决方案，但我在互联网上找到的大多数文章只会让我感到困惑。

所以问题是：

1.  如何在 Emacs 中运行 python 解释器？
2.  有不同类型的python解释器吗？如果是这样，为什么他们对一种语言有不同的口译员？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-04-20T06:57:25.507

把它放在你`.emacs`的让emacs知道你的python解释器在哪里

```
 (setq python-shell-interpreter "path\to\your\python3.2") 
```

要了解有关信息，`.emacs`您可以在 Emacs 本身中阅读它。（Emacs 带有很好的信息手册和信息模式来帮助阅读该手册）。

在emacs中按以下

`M-:`（信息“（Emacs）初始化文件”）`RET`。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-12-04T12:14:51.850

`C-c C-z`可以做到这一点。它是命令的键绑定`python-switch-to-python`

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2018-05-08T22:01:55.947

在 emacs 25.3.1 中，我使用它来打开一个 python shell：

```
M-x run-python 
```

首先将其添加到我的 .emacs 文件后：

```
(setq python-shell-interpreter "/usr/local/bin/python3") 
```

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2012-04-20T06:32:36.843

如果您安装了 python，请尝试`M-x python-shell` （按住 ALT 的同时按 x，然后键入`python-shell`，然后按 enter）

如果这是您所要求的，则有不同的语言实现（请参阅[此处](http://en.wikipedia.org/wiki/Category:Python_implementations)的列表）。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2015-10-19T01:55:13.803

[在带有spacemacs 105（开发分支）](http://spacemacs.org/)和启用 Python 层的emacs 24.5.1 中（“层”是一个 spacemacs 概念；请参阅他们的文档），我发现`python-shell-switch-to-shell`打开了一个 IPython 缓冲区。我在这样的缓冲区中测试[了 macropy.console](https://github.com/lihaoyi/macropy)，效果很好。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-04-20T06:37:57.983

您可能需要在 Windows PATH 环境变量中包含 Python。`python`您可以通过在命令窗口中键入来启动解释器吗？

我的 没有什么特别的`emacs.el`，但是 start 解释器命令工作得很好。

另外，我推荐阅读[这篇博文](http://pedrokroger.com/2010/07/configuring-emacs-as-a-python-ide-2/)，因为如果使用 Emacs 作为 Python IDE，它包含许多有用的技巧和值得安装的软件包。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-01-22T23:34:25.760

要简单地打开解释器，您还可以使用`M-x python`. 如果这不起作用，请尝试`M-x python`按 TAB，它会通过自动完成列出更多选项。如果您安装了 python，其中一个应该可以工作。

如果您愿意，也值得一试 Emacs python 模式 - [http://www.emacswiki.org/emacs/?action=browse;oldid=PythonMode;id=PythonProgrammingInEmacs](http://www.emacswiki.org/emacs/?action=browse;oldid=PythonMode;id=PythonProgrammingInEmacs)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-02-26T21:35:36.870

在 emacs 24.2 中有 python-switch-to-python

# jquery - 如何停止css属性字体大小以从外部样式表通用选择器中获取覆盖

> ID：10241281
> 
> 赞同：1
> 
> 时间：2012-04-20T06:27:17.470
> 
> 标签：jquery, css, css-selectors

我有下面提到的东西和跨度的通用选择器有“font-size = 15”

```
<span id= "outer" style="font-size:72px;">
  <span id="Inner">text</span>  
<span> 
```

有什么办法可以防止通用选择器用 font-size = 15 覆盖我的内部跨度这里 id 为外部的跨度是动态的，并且可以有任何字体大小的值，所以我需要一些将整个输出包装在某个容器中的东西和防止任何其他 css 让它覆盖字体大小

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:28:26.863

你可以这样写：

```
#outer #Inner{
 font-size:15px;
} 
```

或者

如果没有任何效果，您可以使用`!important` 。

```
span{
     font-size:15px !important;
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T06:35:04.817

如果#Inner 跨度的字体大小应与其包含的#outer 相同，则需要添加

```
#Inner {font-size:1em} 
```

到您的样式表。
请参阅[jsFiddle](http://jsfiddle.net/edk3h/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T06:43:23.613

嘿，你可以像你一样使用它

```
#outer span#Inner{
font-size:15px;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-20T07:15:55.483

代码根本没有为内部设置字体大小`span`，所以不存在覆盖的问题。所以从设置开始`font-size`。

# android - 何时使用原生 android 应用程序以及何时使用 HTML5 混合模型

> ID：10241283
> 
> 赞同：2
> 
> 时间：2012-04-20T06:27:24.130
> 
> 标签：android, model, hybrid

任何人都可以给我一些指导，什么时候给我们一个原生的 Android 应用程序，什么时候去使用 HTML5 的混合模型......谁能告诉我每个模型的优缺点。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-20T07:26:11.877

选择本机应用程序意味着您针对特定的**设备平台**，但使用混合应用程序您可以针对您的**用户受众**。

**原生应用的优点： -** 出色的 UI 效果（在开发游戏的情况下，你应该这样做） **原生应用的缺点： -** 面向更多平台意味着重写应用并维护更多代码库

**混合应用程序的优点**：-上市时间因素-学习曲线低（拥有网络开发经验使其更容易）-通常很容易与客户现有的数据源和工作流程集成

**混合应用程序的缺点：** - 在企业应用程序开发方面拥有多年经验会让人感觉仍然缺少正确的开发工具

越来越多的公司意识到 HTML5 混合应用程序模型对于在移动平台上实现 Line-of-Business 应用程序至关重要，您可以找到更多模式的开源库来为您的客户构建真正响应式的应用程序。

我只能看到混合应用程序的两个风险，这很容易避免： - 开发人员经常在支持 HTML5 的桌面浏览器中测试混合应用程序。这可能会在已部署的应用程序中导致严重的性能问题。所以开发团队应该在真实的移动设备上进行日常测试。- 你可以很容易地被困在一个特定的框架上（例如 Sencha Touch）。尝试更喜欢使用库而不是在特定框架上构建应用程序，这样您就可以保持敏捷并快速适应不断变化的业务需求。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-20T06:37:09.873

这里有两种思想流派.. 1\. 跨平台是好的 2\. 跨平台是最不重要的。

当您选择跨平台时，您会错过平台的细节。几年前，我为黑莓编写代码，但选择使用没有黑莓扩展的 J2ME。
这意味着我的代码可以在大多数 Java 手机上运行。但与此同时，我无法使用黑莓上的文件系统，因为在 J2ME 世界中没有文件。我可以手动编写代码按钮并按照我想要的方式在屏幕上绘图，但是我无法使用某些 RIM_JAVA 屏幕类。

所以我得到了一个在智能手机上看起来和运行都一样的应用程序，但没有利用 RIM 硬件。由于我的目标用户，这是我很乐意做出的权衡。但是，如果我需要 RIM 的一些细节，我就不得不把它们拉进去，代价是牺牲一个可移植的应用程序。

这是一次抛硬币。如果你选择通用，那么你会得到所有的共同点，从而进入更大的市场。但与此同时，您并没有真正充分利用硬件。

# c - 如何通过libxml2获取包含“&”的正确属性

> ID：10241289
> 
> 赞同：1
> 
> 时间：2012-04-20T06:27:51.310
> 
> 标签：c, libxml2

当我尝试在测试 XML 中获取 URL 的属性时：

```
<Test> <Item URL="http://127.0.0.1?a=1&b=2"/>
</Test> 
```

在我打电话后： attr=xmlGetProp(cur, BAD_CAST "URL");

libxml2 给出一条消息： Entity: line 1: parser error : EntityRef: expecting ';'

attr 的返回值为“http://127.0.0.1?a=1=2”

如何获取 URL 的完成属性？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T06:36:24.863

您无法在此处获得“正确”的 URL，因为 XML 文件格式不*正确*。`&`应该写为`&amp;`. 您必须要求 XML 文件的创建者创建一个*语法有效、格式良好的 XML 文件*。

XML*不是*通过将字符串放在一起创建的，它们还必须正确编码。

# performance - Grails 应用程序中 Groovy ExpandoMetaclass 方法的线程阻塞

> ID：10241290
> 
> 赞同：1
> 
> 时间：2012-04-20T06:27:51.600
> 
> 标签：performance, grails

我们正在对托管在 Glassfish 3.1.1 App Server 上的 Grails 应用程序（Grails 2.0 版本）进行负载测试。在测试时，我们不断地在 ExpandoMetaClass 的**performOperationOnMetaClass**方法中阻塞线程。给出了堆栈跟踪。这是 Grails 的一个已知问题吗？

`"http-thread-pool-11180(427)" daemon prio=6 tid=0x000000002e1ec800 nid=0x1e90 waiting for monitor entry [0x000000006944c000]`

```
 java.lang.Thread.State: BLOCKED (on object monitor)
    at  groovy.lang.ExpandoMetaClass.performOperationOnMetaClass(ExpandoMetaClass.java:809)
    - waiting to lock <0x00000007d1ce8e88> (a groovy.lang.ExpandoMetaClass)
    at groovy.lang.ExpandoMetaClass.registerInstanceMethod(ExpandoMetaClass.java:873)
    at groovy.lang.ExpandoMetaClass.setProperty(ExpandoMetaClass.java:788)
    at org.codehaus.groovy.runtime.InvokerHelper.setProperty(InvokerHelper.java:179)
    at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.setProperty(ScriptBytecodeAdapter.java:480)
    at org.codehaus.groovy.grails.plugins.web.filters.FilterConfig.methodMissing(FilterConfig.groovy:86)
    at sun.reflect.GeneratedMethodAccessor336.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)
    at groovy.lang.MetaClassImpl.invokeMissingMethod(MetaClassImpl.java:828)</code> 
```

堆栈跟踪更长，最终从 org.codehaus.groovy.grails.plugins.web.taglib.SitemeshTagLib.captureTagContent(SitemeshTagLib.groovy) 开始。有人遇到过这些错误吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:50:49.713

邮件列表线程： http: [//grails.1312388.n4.nabble.com/Thread-Blocking-at-Groovy-ExpandoMetaclass-method-in-a-Grails-App-td4572990.html](http://grails.1312388.n4.nabble.com/Thread-Blocking-at-Groovy-ExpandoMetaclass-method-in-a-Grails-App-td4572990.html)

# javascript - 图像平移 javascript 不适用于 chrome

> ID：10241291
> 
> 赞同：1
> 
> 时间：2012-04-20T06:27:55.110
> 
> 标签：javascript

我使用了一个 javascript 在网站的首页标题中移动一个大背景图像来实现一个简单的动画。该脚本在 Mozilla 和 IE 中运行良好，但不知何故无法在 Chrome 中运行。请参阅以下内容：

```
 var scrollSpeed = 70;       // Speed in milliseconds
        var step = 1;               // How many pixels to move per step
        var left = 0;
        var top = 0;            // The current pixel row
        var imageHeight = 718;      // Background image height
        var headerHeight = 376;     // How tall the header is.

        //The pixel row where to start a new loop
        var restartPosition = -(imageHeight - headerHeight);

        function scrollBg(){

            //Go to next pixel row.
            left -= step;
            top -= step;

            //If at the end of the image, then go to the top.
            if (top == restartPosition){
                top += step
            }

            //Set the CSS of the header.
            $('#slideshow').css("background-position",left+"px"+" "+top+"px");
        }
        //Calls the scrolling function repeatedly
        var init = setInterval("scrollBg()", scrollSpeed); 
```

我正在使用 jquery 1.4.3。html如下：

```
<div class="banner">
                        <div id="slideshow"></div>
                    </div> 
```

如果有人能指出我在这里做错了什么，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-23T05:27:06.163

好的，我想通了。我只需将整个脚本包装在 $(document).ready 中，它就开始工作了。最终脚本如下：

```
$(document).ready(function() { 
        var scrollSpeed = 80;       // Speed in milliseconds
        var step = 1;               // How many pixels to move per step
        var left = 0;
        var top = 0;            // The current pixel row
        var imageHeight = 718;      // Background image height
        var headerHeight = 376;     // How tall the header is.

        //The pixel row where to start a new loop
        var restartPosition = -(imageHeight - headerHeight);

        function scrollBg(){

            //Go to next pixel row.
            left -= step;
            top -= step;

            //If at the end of the image, then go to the top.
            if (top == restartPosition){
                top += step
            }

            //Set the CSS of the header.
            $('#slideshow').css("background-position",left+"px"+" "+top+"px");
        }
        //Calls the scrolling function repeatedly
        setInterval(scrollBg, scrollSpeed);
    }); 
```

# joomla - 使用 Joomla，我如何为来自不同国家的访问者提供不同的页面？

> ID：10241292
> 
> 赞同：2
> 
> 时间：2012-04-20T06:27:56.623
> 
> 标签：joomla, joomla1.7

我想要不同国家的不同主页。例如，如果从美国访问该站点，则主页应该与从南非访问时不同。我必须在 Joomla 1.7 中这样做。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:42:06.157

这个扩展列表可能有用：

[http://extensions.joomla.org/search?q=geo&sa.x=0&sa.y=0](http://extensions.joomla.org/search?q=geo&sa.x=0&sa.y=0)

# lucene - 我可以根据其中一个字段的分数来调整排序吗

> ID：10241293
> 
> 赞同：0
> 
> 时间：2012-04-20T06:28:12.137
> 
> 标签：lucene

我们的网站是使用Lucene2.1对产品信息进行索引和搜索，如产品名称、描述等。有一个排序条件，有折扣价的产品应该在结果页的顶部。

一个新的要求：如果关键字与产品名称匹配，即使它没有折扣价，我们也应该将这个产品放在结果页面的顶部。怎么做，我可以在排序过程中获得其中一个字段的分数吗？

```
例子：
产品1（名称：aaa，描述：ddd bbb，折扣：null）
产品2（名称：bbb，描述：ddd bbb，折扣：10%）
产品3（名称：ccc，描述：ddd bbb，折扣：20%）

```

我们有一个关于折扣的排序字段，所以如果通过“ddd”搜索会得到 3 个产品，订单是 product3 product2 product1。
但是如果按“bbb”搜索，因为product2的名称包含“bbb”，我想把product2放在结果的顶部，所以顺序应该是product2 product3 product1。

谢谢！！！

# ios - 如何以横向模式显示 MailComposer

> ID：10241295
> 
> 赞同：0
> 
> 时间：2012-04-20T06:28:15.023
> 
> 标签：ios, mfmailcomposer

我正在构建一个仅支持横向的应用程序。我添加了邮件作曲家，但它处于纵向模式。如何将邮件编写器方向更改为横向模式。

# javascript - 如何使用 Nicedit 编辑器获取“上传图片”字段

> ID：10241297
> 
> 赞同：0
> 
> 时间：2012-04-20T06:28:18.797
> 
> 标签：javascript, html, nicedit

我的代码是

html代码：

```
<div id="sample">

<script type="text/javascript" src="../nicEdit.js"></script>
<script type="text/javascript">
bkLib.onDomLoaded(function() { nicEditors.allTextAreas() });
</script>
<h4>First Textarea</h4>
<textarea name="area1" cols="35"></textarea>
</div> 
```

上面的代码将文本区域转换为编辑器。我需要该编辑器的另一个选项，该选项应该能够上传图像

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T06:37:22.413

根据[文档](http://wiki.nicedit.com/w/page/515/Configuration%20Options)，您需要为此指定一个并将他们的[nicUpload.php](http://svn.nicedit.com//trunk/nicUpload/php/nicUpload.php)`uploadURI`脚本上传到该位置。

在[nicUpload.php 中](http://svn.nicedit.com//trunk/nicUpload/php/nicUpload.php)，您需要配置一些参数。`NICUPLOAD_PATH`作为应该存储图像的服务器上的文件系统路径以及`NICUPLOAD_URI`通过网络服务器访问所述位置的 URI。

不要忘记 chmod 对目录的写入权限，以便网络服务器可以在那里写入。

# r - fisher.test 许多文件（已经有表格数据）输入

> ID：10241299
> 
> 赞同：0
> 
> 时间：2012-04-20T06:28:24.850
> 
> 标签：r, statistics

我想在 R 中做fisher.test。

我已经有列联表的数据（在单独的 file.txt 中）。

我想要：

1.  输入文件并根据名称进行匹配；
2.  输入匹配的文件数据进行测试；

-所有文件看起来像这样：

```
 56
 989 
```

所有文件只有两行（#1 发生和#2 未发生）；

- 文件名是：

```
Anna_50.txt
Anna_100.txt
Anna_200.txt
Ben_50.txt
Ben_100.txt
Ben_200.txt 
```

-我想为 Anna_50 和 Ben_50 做 Fisher 测试；Anna_100 & Ben_100 等：

-问题：

```
files <- list.files() 
```

如何匹配文件中的 Anna_50 和 Ben_50；

如何创建矩阵作为输入顺序是棘手的。

```
table <- matrix(c(Anna_50_Occ, Ben_50_Occ, Anna_50_NonOn, Ben_50_NonO)2,2) 
```

如何在所有文件上运行它？

期待您的回答。试图尽可能清楚地说明这一点 - 我真的需要这个，但如果仍有不清楚的地方，请毫不犹豫地问。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-20T10:01:53.150

我有一些代码可以解决问题。但是，由于我没有您的文件，最后一部分可能会失败。

思路如下。首先，您从 中读取数字`files`。然后，您创建两个包含文件名的向量。一份用于所有 Anna 文件，一份用于 Ben 文件。然后创建一个函数，用于对其中两个对象运行 Fisher 测试。最后的魔法是通过`mapply`同时迭代两个文件名向量来实现的：

```
files <- c("Anna_50.txt", "Anna_100.txt", "Anna_200.txt", "Ben_50.txt", 
    "Ben_100.txt", "Ben_200.txt")

# get the numbers from the filenames
numbers <- vapply(strsplit(vapply(strsplit(files, "\\."), "[", i = 1, ""), "_"), "[", i = 2, "")

# only use those numbers that appear two times:
t.num <- table(numbers)
valid.num <- dimnames(t.num)[[1]][t.num == 2]

# make vector for Anna and Ben (that now have the same ordering)
f.anna <- paste("Anna_", valid.num, ".txt", sep = "")
f.ben <- paste("Ben_", valid.num, ".txt", sep = "")

#Now you can use mapply with a suitable function
# Did not check it as I dont have the files, but the logic should become clear:
run.fisher <- function(file1, file2) {
    d1 <- scan(file1)
    d2 <- scan(file2)
    d.matrix <- matrix(c(d1, d2), byrow = TRUE)
    fisher.test(d.matrix)
}

# now use mapply to obtain a list with all results:

mapply(run.fisher, f.anna, f.ben) 
```

**更新：**实际上，您可以减少从文件名中获取数字的行：

```
files <- vapply(strsplit(files, "[\\._]"), "[", i = 2, "") 
```

# c++ - Gtk 和 gstreamer 链接器错误

> ID：10241301
> 
> 赞同：0
> 
> 时间：2012-04-20T06:28:33.790
> 
> 标签：c++, gtk, gstreamer

我正在尝试从谷歌代码编译简单的[gst 播放器。](http://code.google.com/p/gst-player/)我已经修复并安装了缺少的库，现在我收到链接器错误

```
vickey@tb:~/work/gst-player-0.0.0$ make
gcc -ggdb -Wall -W -Wformat-nonliteral -Wcast-align -Wpointer-arith -Wbad-function-cast -Wmissing-prototypes -Wstrict-prototypes -Wmissing-declarations -Winline -Wundef -Wnested-externs -Wcast-qual -Wshadow -Wwrite-strings -Wno-unused-parameter -Wfloat-equal -pedantic -ansi -std=c99 `pkg-config --cflags gtk+-2.0` `pkg-config --libs gtk+-2.0` `pkg-config --cflags gstreamer-0.10` `pkg-config --libs gstreamer-0.10` -lgstinterfaces-0.10 ui.c gst-backend.c -o gst-player
In file included from /usr/include/gtk-2.0/gtk/gtk.h:236:0,
                 from ui.c:19:
/usr/include/gtk-2.0/gtk/gtkitemfactory.h:47:1: warning: function declaration isn’t a prototype [-Wstrict-prototypes]
ui.c: In function ‘toggle_fullscreen’:
ui.c:60:9: warning: passing argument 1 of ‘gtk_window_unfullscreen’ from incompatible pointer type [enabled by default]
/usr/include/gtk-2.0/gtk/gtkwindow.h:340:10: note: expected ‘struct GtkWindow *’ but argument is of type ‘struct GtkWidget *’
ui.c:65:9: warning: passing argument 1 of ‘gtk_window_fullscreen’ from incompatible pointer type [enabled by default]
/usr/include/gtk-2.0/gtk/gtkwindow.h:339:10: note: expected ‘struct GtkWindow *’ but argument is of type ‘struct GtkWidget *’
gst-backend.c: In function ‘backend_query_position’:
gst-backend.c:164:5: warning: pointer targets in passing argument 3 of ‘gst_element_query_position’ differ in signedness [-Wpointer-sign]
/usr/include/gstreamer-0.10/gst/gstutils.h:1047:25: note: expected ‘gint64 *’ but argument is of type ‘guint64 *’
gst-backend.c: In function ‘backend_query_duration’:
gst-backend.c:177:5: warning: pointer targets in passing argument 3 of ‘gst_element_query_duration’ differ in signedness [-Wpointer-sign]
/usr/include/gstreamer-0.10/gst/gstutils.h:1049:25: note: expected ‘gint64 *’ but argument is of type ‘guint64 *’
/tmp/cckH1GSv.o: In function `toggle_paused':
/home/vickey/work/gst-player-0.0.0/ui.c:43: undefined reference to `gtk_button_get_type'
/home/vickey/work/gst-player-0.0.0/ui.c:43: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:43: undefined reference to `gtk_button_set_label'
/home/vickey/work/gst-player-0.0.0/ui.c:49: undefined reference to `gtk_button_get_type'
/home/vickey/work/gst-player-0.0.0/ui.c:49: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:49: undefined reference to `gtk_button_set_label'
/tmp/cckH1GSv.o: In function `toggle_fullscreen':
/home/vickey/work/gst-player-0.0.0/ui.c:60: undefined reference to `gtk_window_unfullscreen'
/home/vickey/work/gst-player-0.0.0/ui.c:65: undefined reference to `gtk_window_fullscreen'
/tmp/cckH1GSv.o: In function `destroy':
/home/vickey/work/gst-player-0.0.0/ui.c:96: undefined reference to `gtk_main_quit'
/    tmp/cckH1GSv.o: In function `key_press':
/home/vickey/work/gst-player-0.0.0/ui.c:127: undefined reference to `gtk_main_quit'
/tmp/cckH1GSv.o: In function `start':
/home/vickey/work/gst-player-0.0.0/ui.c:167: undefined reference to `gtk_window_new'
/home/vickey/work/gst-player-0.0.0/ui.c:169: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:169: undefined reference to `g_signal_connect_data'
/home/vickey/work/gst-player-0.0.0/ui.c:172: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:172: undefined reference to `g_signal_connect_data'
/home/vickey/work/gst-player-0.0.0/ui.c:175: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:175: undefined reference to `g_signal_connect_data'
/home/vickey/work/gst-player-0.0.0/ui.c:178: undefined reference to `gtk_container_get_type'
/home/vickey/work/gst-player-0.0.0/ui.c:178: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:178: undefined reference to `gtk_container_set_border_width'
/home/vickey/work/gst-player-0.0.0/ui.c:180: undefined reference to `gtk_vbox_new'
/home/vickey/work/gst-player-0.0.0/ui.c:182: undefined reference to `gtk_container_get_type'
/home/vickey/work/gst-player-0.0.0/ui.c:182: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:182: undefined reference to `gtk_container_add'
/home/vickey/work/gst-player-0.0.0/ui.c:184: undefined reference to `gtk_widget_show'
/home/vickey/work/gst-player-0.0.0/ui.c:186: undefined reference to `gtk_hbox_new'
/home/vickey/work/gst-player-0.0.0/ui.c:188: undefined reference to `gtk_box_get_type'
/home/vickey/work/gst-player-0.0.0/ui.c:188: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:188: undefined reference to `gtk_box_pack_end'
/home/vickey/work/gst-player-0.0.0/ui.c:190: undefined reference to `gtk_widget_show'
/home/vickey/work/gst-player-0.0.0/ui.c:193: undefined reference to `gtk_drawing_area_new'
/home/vickey/work/gst-player-0.0.0/ui.c:195: undefined reference to `gtk_box_get_type'
/home/vickey/work/gst-player-0.0.0/ui.c:195: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:195: undefined reference to `gtk_box_pack_start'
/home/vickey/work/gst-player-0.0.0/ui.c:197: undefined reference to `gtk_widget_set_size_request'
/home/vickey/work/gst-player-0.0.0/ui.c:199: undefined reference to `gtk_widget_show'
/home/vickey/work/gst-player-0.0.0/ui.c:203: undefined reference to `gtk_button_new_with_label'
/home/vickey/work/gst-player-0.0.0/ui.c:205: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:205: undefined reference to `g_signal_connect_data'
/home/vickey/work/gst-player-0.0.0/ui.c:208: undefined reference to `gtk_box_get_type'
/home/vickey/work/gst-player-0.0.0/ui.c:208: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:208: undefined reference to `gtk_box_pack_start'
/home/vickey/work/gst-player-0.0.0/ui.c:210: undefined reference to `gtk_widget_show'
/home/vickey/work/gst-player-0.0.0/ui.c:216: undefined reference to `gtk_button_new_with_label'
/home/vickey/work/gst-player-0.0.0/ui.c:218: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:218: undefined reference to `g_signal_connect_data'
/home/vickey/work/gst-player-0.0.0/ui.c:221: undefined reference to `gtk_box_get_type'
/home/vickey/work/gst-player-0.0.0/ui.c:221: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:221: undefined reference to `gtk_box_pack_start'
/home/vickey/work/gst-player-0.0.0/ui.c:223: undefined reference to `gtk_widget_show'
/home/vickey/work/gst-player-0.0.0/ui.c:228: undefined reference to `gtk_adjustment_new'
/home/vickey/work/gst-player-0.0.0/ui.c:229: undefined reference to `gtk_adjustment_get_type'
/home/vickey/work/gst-player-0.0.0/ui.c:229: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:229: undefined reference to `gtk_hscale_new'
/home/vickey/work/gst-player-0.0.0/ui.c:231: undefined reference to `gtk_box_get_type'
/home/vickey/work/gst-player-0.0.0/ui.c:231: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:231: undefined reference to `gtk_box_pack_end'
/home/vickey/work/gst-player-0.0.0/ui.c:233: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:233: undefined reference to `g_signal_connect_data'
/home/vickey/work/gst-player-0.0.0/ui.c:236: undefined reference to `gtk_widget_show'
/home/vickey/work/gst-player-0.0.0/ui.c:239: undefined reference to `gtk_widget_show'
/tmp/cckH1GSv.o: In function `init':
/    home/vickey/work/gst-player-0.0.0/ui.c:245: undefined reference to `gdk_x11_drawable_get_xid'
/tmp/cckH1GSv.o: In function `timeout':
/home/vickey/work/gst-player-0.0.0/ui.c:275: undefined reference to `gtk_range_get_type'
/home/vickey/work/gst-player-0.0.0/ui.c:275: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/ui.c:275: undefined reference to `gtk_range_set_value'
/tmp/cckH1GSv.o: In function `main':
/home/vickey/work/gst-player-0.0.0/ui.c:285: undefined reference to `gtk_init'
/home/vickey/work/gst-player-0.0.0/ui.c:293: undefined reference to `g_strdup'
/home/vickey/work/gst-player-0.0.0/ui.c:295: undefined reference to `g_strdup_printf'
/home/vickey/work/gst-player-0.0.0/ui.c:299: undefined reference to `g_idle_add'
/home/vickey/work/gst-player-0.0.0/ui.c:300: undefined reference to `g_timeout_add'
/home/vickey/work/gst-player-0.0.0/ui.c:302: undefined reference to `gtk_main'
/home/vickey/work/gst-player-0.0.0/ui.c:304: undefined reference to `g_free'
/tmp/cc9cDvJS.o: In function `bus_cb':
/home/vickey/work/gst-player-0.0.0/gst-backend.c:39: undefined reference to `g_log'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:47: undefined reference to `gst_message_parse_error'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:48: undefined reference to `g_free'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:50: undefined reference to `g_log'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:51: undefined reference to `g_error_free'
/tmp/cc9cDvJS.o: In function `backend_init':
/home/vickey/work/gst-player-0.0.0/gst-backend.c:65: undefined reference to `gst_init'
/tmp/cc9cDvJS.o: In function `backend_play':
/home/vickey/work/gst-player-0.0.0/gst-backend.c:79: undefined reference to `gst_pipeline_new'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:81: undefined reference to `gst_element_factory_make'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:82: undefined reference to `gst_element_factory_make'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:84: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:84: undefined reference to `g_object_set'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:86: undefined reference to `gst_bin_get_type'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:86: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:86: undefined reference to `gst_bin_add'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:90: undefined reference to `gst_pipeline_get_type'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:90: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:90: undefined reference to `gst_pipeline_get_bus'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:91: undefined reference to `gst_bus_add_watch'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:92: undefined reference to `gst_object_unref'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:95: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:95: undefined reference to `g_object_set'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:97: undefined reference to `gst_x_overlay_get_type'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:97: undefined reference to `gst_implements_interface_check'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:99: undefined reference to `gst_x_overlay_get_type'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:99: undefined reference to `gst_implements_interface_cast'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:99: undefined reference to `gst_x_overlay_set_xwindow_id'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:102: undefined reference to `gst_element_set_state'
/tmp/cc9cDvJS.o: In function `backend_stop':
/home/vickey/work/gst-player-0.0.0/gst-backend.c:110: undefined reference to `gst_element_set_state'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:111: undefined reference to `gst_object_get_type'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:111: undefined reference to `g_type_check_instance_cast'
/home/vickey/work/gst-player-0.0.0/gst-backend.c:111: undefined reference to `gst_object_unref'
/tmp/cc9cDvJS.o: In function `backend_pause':
/home/vickey/work/gst-player-0.0.0/gst-backend.c:119: undefined reference to `gst_element_set_state'
/tmp/cc9cDvJS.o: In function `backend_resume':
/home/vickey/work/gst-player-0.0.0/gst-backend.c:125: undefined reference to `gst_element_set_state'
/tmp/cc9cDvJS.o: In function `backend_reset':
/home/vickey/work/gst-player-0.0.0/gst-backend.c:131: undefined reference to `gst_element_seek'
/tmp/cc9cDvJS.o: In function `backend_seek':
/home/vickey/work/gst-player-0.0.0/gst-backend.c:141: undefined reference to `gst_element_seek'
/tmp/cc9cDvJS.o: In function `backend_seek_absolute':
/home/vickey/work/gst-player-0.0.0/gst-backend.c:151: undefined reference to `gst_element_seek'
/tmp/cc9cDvJS.o: In function `backend_query_position':
/home/vickey/work/gst-player-0.0.0/gst-backend.c:164: undefined reference to `gst_element_query_position'
/tmp/cc9cDvJS.o: In function `backend_query_duration':
/home/vickey/work/gst-player-0.0.0/gst-backend.c:177: undefined reference to `gst_element_query_duration'
collect2: ld returned 1 exit status
make: *** [gst-player] Error 1 
```

我想我可能会丢失一些库导入，但我无法弄清楚。谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-20T17:27:56.880

问题很可能是因为链接器在编译中看到库中的任何符号之前不会链接到库，因为源代码出现在编译时链接到库之后。由于链接器在从源代码中遇到库中的符号之前不会链接到库，因此您需要在编译命令的开头移动源代码。目前`Makefile`源链接中的提供构建如下：

```
 19 gst-player: ui.c gst-backend.c
 20     $(CC) $(CFLAGS) $(GTK_CFLAGS) $(GTK_LIBS) $(GST_CFLAGS) $(GST_LIBS) $+ -o $@ 
```

将其更改为：

```
 19 gst-player: ui.c gst-backend.c
 20     $(CC) $+ $(CFLAGS) $(GTK_CFLAGS) $(GTK_LIBS) $(GST_CFLAGS) $(GST_LIBS) -o $@ 
```

（请注意，现在来源就在 之后`$(CC)`）。或者，您可以要求链接器链接库，而不管使用`-Wl, --no-as-needed`选项遇到库中的符号。在这种情况下，`Makefile`更改可能如下所示：

```
 19 gst-player: ui.c gst-backend.c
 20     $(CC) -Wl,--no-as-needed $(CFLAGS) $(GTK_CFLAGS) $(GTK_LIBS) $(GST_CFLAGS) $(GST_LIBS) $+ -o $@ 
```

希望这可以帮助！

# ruby - Ruby中的无序数组

> ID：10241308
> 
> 赞同：1
> 
> 时间：2012-04-20T06:29:23.567
> 
> 标签：ruby

Ruby 中有没有代表无序数组的类？我不能使用数组，因为：

```
[1,2] != [2,1] 
```

而且我不能使用集合，因为我只能拥有独特的元素。我想要一种两种组合。一个不关心排序并且可以有多个相同元素的列表。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-20T06:57:08.393

我猜你已经扩展了 Array 类并编写了自己的`==`方法。这是我非常实验性的尝试：

```
class UnorderedArray < Array
  def ==(other)
    self_copy = self.sort
    other = other.sort
    self_copy == other
  end
end

a = UnorderedArray.new
a << 1 << 2
# [1, 2]

b = UnorderedArray.new
b << 2 << 1
# [2, 1]

a == b
# returns true 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-20T07:04:58.657

它被称为多集。这是[Ruby 实现](http://maraigue.hhiro.net/multiset/index-en.php)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-17T13:18:53.843

单线：

```
Hash[a.zip(a.map{|x| a.count(x)})] == Hash[e.zip(e.map{|x| e.count(x)})] 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-06-06T23:49:12.660

这是一个稍微干净的 mixin，它可以在不可排序的数组上工作，并缓存哈希值，因为它是 O(n)。

```
class UnorderedArray < Array
  def hash
    unless @o && @o == super.hash
      p = Hash.new(0)
      each{ |v| p[v] += 1 }
      @p = p.hash
      @o = super.hash
    end
    @p.hash
  end
  def <=>(b)
    raise "You can't order me"
  end
  def ==(b)
    hash == b.hash
  end
end 
```

然而`#eql?`，除非数组的顺序相同，否则将返回 false。

# .net - .NET 构建输出验证

> ID：10241311
> 
> 赞同：0
> 
> 时间：2012-04-20T06:29:45.397
> 
> 标签：.net, build, verification

我有一个由大约 100 个项目组成的 .NET 解决方案。在构建结束时，我想验证应用程序运行所需的所有文件是否都在输出目录中创建（例如程序集、配置文件、帮助文件、数据文件……）。

有没有可用的工具，或者你如何在你的项目中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:33:30.073

如果构建成功，那么所有文件都将在那里（假设配置正确）。如果配置不正确，那么您需要在规范之外（即解决方案/项目文件）指定您期望的文件列表。

在这一点上，它变成了创建一个 .txt 或 .xml 文件进行检查的情况`File.Exists`- 确实非常简单。除非你想检查更多？

（我不会在我的项目中这样做 - 解决方案要么构建，要么不构建。正确的 QA 程序检查应用程序运行正常，而不仅仅是查找文件）

# objective-c - AsyncSocket setDelegate 不工作？

> ID：10241313
> 
> 赞同：1
> 
> 时间：2012-04-20T06:29:47.920
> 
> 标签：objective-c, macos, cocoa, asyncsocket

我正在使用 AsyncSocket 类在游戏服务器上工作。在建立连接并将套接字对象处理给播放器后，我试图将读取/写入从服务器对象重新定位到播放器对象：

这是来自服务器的连接方法

```
- (void)onSocket:(AsyncSocket *)sock didAcceptNewSocket:(AsyncSocket *)newSocket {
    [self logMessage:@"Incoming Client" withColor:[NSColor greenColor]];

    Player *p=[[Player alloc] initWithConnection:newSocket];
    [_players addObject:p];
    [p release];

    [[[NSApplication sharedApplication] dockTile] setBadgeLabel:[NSString stringWithFormat:@"%lu",[_players count]]];
    [tableView reloadData];
} 
```

在我的 Player.m 类中，我有以下`initWithconnection:`方法（摘录）：

```
- (id)initWithConnection:(AsyncSocket *)connection {
  self = [super init];
  if (self) {
    ...
    _connection=[connection retain];
    if ([_connection canSafelySetDelegate]) {
      [_connection setDelegate:self];
    }
  }
  return self;
} 
```

我正在实现所需的委托方法（实际上，我只是从以前的服务器对象复制并粘贴它们来测试它），但在我看来，该`setDelegate:`方法根本无法按预期工作。它不会被调用。将委托设置为服务器对象一切正常（我只需将传入消息传递给正确的播放器对象）。

有人知道我在这里做错了什么吗？

感谢：D

# mercurial - 使用 JIRA 问题 ID 注释 hg 提交消息（来自 CLI）以引用/关闭问题

> ID：10241314
> 
> 赞同：2
> 
> 时间：2012-04-20T06:29:49.920
> 
> 标签：mercurial, jira, redmine, bitbucket

我是一名[Redmine](http://redmine.org)用户，并且喜欢能够从 hg 提交中引用和关闭 Redmine 问题。能够从版本控制提交中执行此操作可以进一步简化工作流程。

例如，要关闭 Redmine 问题 #122，您可以执行以下操作：

```
hg commit -m "(Closes #122) Squashed a bug" 
```

有没有办法用 JIRA 的问题 ID 注释 hg 提交（来自 CLI）？此外，更进一步，有没有办法以类似的方式通过提交来注释在问题上花费的时间？

将问题链接到 Mercurial/BitBucket 提交的通常机制是什么？

谢谢 - 期待听到您的解决方案

普雷姆博。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T06:37:10.370

JIRA 存在一个 Mercurial 插件，它可以让您拥有一些可以与 Redmine 一起使用的功能：[https ://plugins.atlassian.com/plugins/com.consultingtoolsmiths.jira.plugin.ext.mercurial.mercurial-jira-plugin](https://plugins.atlassian.com/plugins/com.consultingtoolsmiths.jira.plugin.ext.mercurial.mercurial-jira-plugin)

> 例如，如果您的提交消息是：“这修复了 JRA-52 和 JRA-54” - 查看问题 JRA-52 和 JRA-54 时，提交详细信息将显示在选项卡中。

关于花费的时间，我从未听说过此功能，但它可能存在于某个地方。除此之外，您仍然可以扩展/增强插件以满足您的需要！

# javascript - 如何围绕特定点来回旋转对象？

> ID：10241315
> 
> 赞同：5
> 
> 时间：2012-04-20T06:29:56.470
> 
> 标签：javascript, animation, raphael, transform

我正在使用 Raphael JS 试图围绕低于其中心点的点旋转图像形状。如何才能做到这一点？

我尝试了以下方法，但它不起作用。

```
var playBBox = playButtonRef.getBBox();
var xPos = playBBox.x + playBBox.width/2;
var yPos = playBBox.y;
var animObject = Raphael.animation({
    transform: playButtonRef.attr("transform") + "R60," + (this.cx - 25) + "," + this.cy
}, 3000);​
animObject = animObject.repeat(10); 
playButtonRef.animate(animObject); 
```

我也在寻找一种将其旋转回其原始位置的方法。如何让它追溯它的路径？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-21T20:22:00.103

1.  要围绕指定点旋转，您可以使用您已经定义的 和 ，并通过增加 Y 值来修改它们以参考中心下方的点`xPos`。`yPos`
2.  要追溯其路径，您可以使用`callback`参数调用附加动画调用，将形状重置为其原始位置。

以下是如何使它工作：

```
var playBBox = playButtonRef.getBBox();
var xPos = playBBox.x + (playBBox.width / 2);
var yPos = playBBox.y + 25;

var animObject = Raphael.animation({
    transform: "R60," + xPos + "," + yPos
}, 3000, function() {
    playButtonRef.animate({
        transform: "R0," + xPos + "," + yPos
    }, 3000);
});
playButtonRef.animate(animObject); 
```

我还在[jsFiddle 上建立了一个工作示例](http://jsfiddle.net/hE3Jk/)来演示它是如何完成的。

# glassfish - org.apache.axis2.AxisFault：连接被拒绝：连接

> ID：10241317
> 
> 赞同：3
> 
> 时间：2012-04-20T06:30:06.567
> 
> 标签：glassfish, axis2

我们有一个在 Glassfish 2.1 上运行的 Java Web 应用程序。我们最近更改了互联网提供商，这也意味着网络 IP 已更改。我们的应用程序进行了两次不同的 Web 服务调用，并且在这次网络更改之前都运行良好。我们有一个调用第 3 方 Web 服务的 Web 服务客户端管理器类。

以下是我收到的错误。

```
org.apache.axis2.AxisFault: Connection refused: connect 
at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430) 
at org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:203) 
at org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:76) 
at org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:400) 
at org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:225) 
at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:435) 
at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:402) 
at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229) 
at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165) 
```

我可以使用 SOAP UI 访问我们服务器上的服务。我可以远程登录到服务的 IP，如果我将 URL 粘贴到服务器的浏览器中，我会得到一个结果。

我不知道问题是什么或如何解决。有没有人有任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-23T00:07:21.003

我想到了。显然我们不再使用代理，并且 Web 服务连接仍在设置代理。我删除了这个设置，它起作用了！

# fullscreen - 如何保证显示器永远不会离开全屏模式？

> ID：10241320
> 
> 赞同：1
> 
> 时间：2012-04-20T06:30:23.883
> 
> 标签：fullscreen, direct3d

我的一台显示器（机器上至少有三台显示器）需要保持全屏模式进行一些演示工作，无论如何都不能失去全屏状态。

问题是我发现有很多方法可以将该显示器拖回窗口模式：显示桌面按钮、窗口 + d、窗口 + 选项卡等。

有没有一种简单的方法可以确保一台显示器保持全屏模式？如果没有，实际的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-24T03:29:52.563

创建设备时，您需要提供行为标志：

```
HRESULT CreateDevice(
  [in]           UINT Adapter,
  [in]           D3DDEVTYPE DeviceType,
  [in]           HWND hFocusWindow,
  [in]           DWORD BehaviorFlags,
  [in, out]      D3DPRESENT_PARAMETERS *pPresentationParameters,
  [out, retval]  IDirect3DDevice9 **ppReturnedDeviceInterface
); 
```

选择以下一项：`D3DCREATE_NOWINDOWCHANGES`。这样你就可以指示 Windows 不要破坏你的窗口大小和焦点。请注意，在此模式下，您必须处理所有事件，包括 Alt+Tab 和大小事件，如果您的应用程序依赖它们（许多框架都这样做）。

您可能还需要指定标志`D3DCREATE_DISABLE_PRINTSCREEN`，因为某些屏幕捕获器可能会弹出一个窗口。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-24T16:18:45.047

嗯...目前我已经删除了所有输入设备并从另一台计算机远程控制软件...

# c# - 扩展器的奇怪行为

> ID：10241321
> 
> 赞同：2
> 
> 时间：2012-04-20T06:30:26.283
> 
> 标签：c#, html, wpf, xaml, user-controls

在我的主页上，我有一个扩展器，它有一个用于动画的事件触发器，如下所示：

```
 <StackPanel.Triggers>
                <EventTrigger RoutedEvent="Expander.Expanded" SourceName="expander">
                    <EventTrigger.Actions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation From="0" To="1.2" Duration="0:0:0.35" Storyboard.TargetName="content1" Storyboard.TargetProperty="(FrameworkElement.LayoutTransform).(ScaleTransform.ScaleX)" AutoReverse="False" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger.Actions>
                </EventTrigger>
            </StackPanel.Triggers>

            <Expander x:Name="expander" ExpandDirection="Right" OpacityMask="#6C806969" Background="#FF807171" >
            <Grid x:Name="content1" Background="#FF807171" Width="378"> 
                ......user control inside here                      
                    <Grid.LayoutTransform>
                    <ScaleTransform ScaleX="0" ScaleY="1"/>
                </Grid.LayoutTransform>
            </Grid>
        </Expander> 
```

这只是将扩展器缓慢滑出。但是在一个扩展器标题区域内，我有另一个扩展器（一个垂直设置，另一个水平设置。

水平扩展器是 UserControl 的一部分。当我扩展这个扩展器时，它也会从主窗口中触发垂直扩展器。

```
<UserControl x:Class="WpfApplication4.AppPages.AddPost"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="464" d:DesignWidth="416">
    <Expander Header="expander1" Height="441" HorizontalAlignment="Left" Margin="10,10,0,0" VerticalAlignment="Top">
    ..... some content
    </Expander> 
```

有没有办法阻止这种情况发生？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T17:25:37.730

这是我评论中建议的示例代码：

```
<Expander x:Name="expander" ExpandDirection="Right" OpacityMask="#6C806969" Background="#FF807171">

    ... Content ...

    <Expander.Style>
        <Style TargetType="{x:Type Expander}">
            <Setter Property="LayoutTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" />
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsExpanded" Value="True">
                    <Trigger.EnterActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation From="0" To="1.2" Duration="0:0:0.35" AutoReverse="False"
                                                 Storyboard.TargetProperty="LayoutTransform.(ScaleTransform.ScaleX)" />
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.EnterActions>
                </Trigger>       
            </Style.Triggers>
        </Style>
    </Expander.Style>
</Expander> 
```

# android - Android：如何通过代码启动 WiFi

> ID：10241327
> 
> 赞同：1
> 
> 时间：2012-04-20T06:30:53.333
> 
> 标签：android, android-wifi, onitemclick

我想制作一个简单的应用程序来检测 wifi 网络，并在选择一个网络后启动（连接）到所选网络。

我已经为检测阶段编写了代码，但是我如何在 onItemClick() 中连接到选定的网络。请建议代码。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-20T06:41:50.007

您可以使用 WifiManager 来执行此操作。从系统中获取 Wifi 服务，检查 wifi 是打开还是关闭，然后打开/关闭它。

```
private WifiManager wifiManager;
@Override
public void onCreate(Bundle bund) {
  wifiManager = (WifiManager) this.getSystemService(Context.WIFI_SERVICE);
  if(wifiManager.isWifiEnabled()){
    wifiManager.setWifiEnabled(false);
  }else{
    wifiManager.setWifiEnabled(true);
  }
} 
```

记住也要添加权限

```
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE"></uses-permission>
<uses-permission android:name="android.permission.CHANGE_WIFI_STATE"></uses-permission> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-20T06:39:02.630

Android 完全支持 WiFi 连接。主要组件是系统提供的 WiFiManager。像往常一样，我们通过 getSystemServices() 调用当前上下文来获取它。

一旦我们有了 WiFiManager，我们就可以以 WiFiInfo 对象的形式向它询问当前的 WIFI 连接。我们还可以通过 getConfiguredNetworks() 请求所有当前可用的网络。这给了我们 WifiConfigurations 的列表。

在这个例子中，我们还注册了一个广播接收器来执行新网络的扫描

**WiFiDemo.java**

```
package com.example;

import java.util.List;

import android.app.Activity;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.IntentFilter;
import android.net.wifi.WifiConfiguration;
import android.net.wifi.WifiInfo;
import android.net.wifi.WifiManager;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.TextView;
import android.widget.Toast;

public class WiFiDemo extends Activity implements OnClickListener {
    private static final String TAG = "WiFiDemo";
    WifiManager wifi;
    BroadcastReceiver receiver;

    TextView textStatus;
    Button buttonScan;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        // Setup UI
        textStatus = (TextView) findViewById(R.id.textStatus);
        buttonScan = (Button) findViewById(R.id.buttonScan);
        buttonScan.setOnClickListener(this);

        // Setup WiFi
        wifi = (WifiManager) getSystemService(Context.WIFI_SERVICE);

        // Get WiFi status
        WifiInfo info = wifi.getConnectionInfo();
        textStatus.append("\n\nWiFi Status: " + info.toString());

        // List available networks
        List<WifiConfiguration> configs = wifi.getConfiguredNetworks();
        for (WifiConfiguration config : configs) {
            textStatus.append("\n\n" + config.toString());
        }

        // Register Broadcast Receiver
        if (receiver == null)
            receiver = new WiFiScanReceiver(this);

        registerReceiver(receiver, new IntentFilter(
                WifiManager.SCAN_RESULTS_AVAILABLE_ACTION));
        Log.d(TAG, "onCreate()");
    }

    @Override
    public void onStop() {
        unregisterReceiver(receiver);
    }

    public void onClick(View view) {
        Toast.makeText(this, "On Click Clicked. Toast to that!!!",
                Toast.LENGTH_LONG).show();

        if (view.getId() == R.id.buttonScan) {
            Log.d(TAG, "onClick() wifi.startScan()");
            wifi.startScan();
        }
    }

} 
```

**WiFiScanReceiver.java**

包 com.example;

```
import java.util.List;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.net.wifi.ScanResult;
import android.net.wifi.WifiManager;
import android.util.Log;
import android.widget.Toast;

public class WiFiScanReceiver extends BroadcastReceiver {
  private static final String TAG = "WiFiScanReceiver";
  WiFiDemo wifiDemo;

  public WiFiScanReceiver(WiFiDemo wifiDemo) {
    super();
    this.wifiDemo = wifiDemo;
  }

  @Override
  public void onReceive(Context c, Intent intent) {
    List<ScanResult> results = wifiDemo.wifi.getScanResults();
    ScanResult bestSignal = null;
    for (ScanResult result : results) {
      if (bestSignal == null
          || WifiManager.compareSignalLevel(bestSignal.level, result.level) < 0)
        bestSignal = result;
    }

    String message = String.format("%s networks found. %s is the strongest.",
        results.size(), bestSignal.SSID);
    Toast.makeText(wifiDemo, message, Toast.LENGTH_LONG).show();

    Log.d(TAG, "onReceive() message: " + message);
  }

} 
```

此示例的布局文件相当简单。它有一个 TextView 包裹在 ScrollView 中用于滚动。

**/res/layout/main.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:orientation="vertical" android:layout_width="fill_parent"
  android:layout_height="fill_parent">

  <Button android:layout_width="wrap_content"
    android:layout_height="wrap_content" android:id="@+id/buttonScan"
    android:text="Scan"></Button>
  <ScrollView android:id="@+id/ScrollView01"
    android:layout_width="wrap_content" android:layout_height="wrap_content">
    <TextView android:layout_width="fill_parent"
      android:layout_height="wrap_content" android:id="@+id/textStatus"
      android:text="WiFiDemo" />
  </ScrollView>

</LinearLayout> 
```

对于**AndroidManifest.xml**文件，记得添加使用 WiFi 的权限：

```
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
  <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T06:35:40.090

也许您可以使用现有的[答案](https://stackoverflow.com/q/8818290/940096)

[WifiConfigurations](http://developer.android.com/reference/android/net/wifi/WifiConfiguration.html)将帮助您做到这一点。

希望这对您有所帮助。

# java - Making/Allowing single execution of method, in Java

> ID：10241329
> 
> 赞同：4
> 
> 时间：2012-04-20T06:31:05.033
> 
> 标签：java

I have a class with two methods load() and getValue(). The load function loads a set of key value pairs from a file onto a hashMap and the getValue(Object key) method is used to extract values for keys passed to it.

My problem is that I want to create an Object of the class such that load() should be executed only once (to load values into memory) and thereafter the getValue() method should be able to work on this data, each time its called.

What is the best approach to solve this problem? I am quite new to Java and OOP, so please feel free to modify either the question or the title to make it more clear.

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-20T06:37:23.763

You can use a static initializer block for your class. This is executed only once for a class.

[http://www.glenmccl.com/tip_003.htm](http://www.glenmccl.com/tip_003.htm)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-20T06:38:10.193

You can make so that the load() method is private and called in the constructor (when your object is made/class initiated.

It would look something like this:

```
public class YourClass {

    private Map map;

    public YourClass() {
        load();
    }

    private void load() {
        // Load the data here
    }

    public Object getValue(int key) {
        return map.get(key);
    }

} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-20T06:35:07.903

What you need is the [Singleton Pattern](http://en.wikipedia.org/wiki/Singleton_pattern). So basically you could do something like this:

```
public class MySingleton
{
     private static Map<String, String> myMap = null;
     private void load()
     {
         myMap = ...//load your contents here
     }

     public static String getValue(String key)
     {
          if (myMap == null)
          {
              load();
          }

          return myMap.get(key);
     } 
} 
```

The above code will allow you to load the HashMap once in your application. You will be exposing only one method, being the `load()` while you leave the initialization code to a private method to which no one outside your class has access to.

Just as a heads up, you will need to introduce `synchronized` blocks if you plan to use this in a multi-threading environment, as per the Wikipedia example.

I am assuming that the key-value pairs are both strings, but you can do whatever datatype you want. If you want to store the HashMap between application usages, you can store it to disk, just make sure that the elements making up the HashMap implement the [Serializable](http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html) interface.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-04-20T06:56:19.737

Maybe these approaches are too obvious but I thought I’d mention them anyway… singletons and other static “magic” usually has quite some pitfalls that might bite you later on.

1.  Only call `load()` once. This is probably the most simple solution.
2.  Remember in `load()` that the method was already called (add a `boolean` member, set it to `true` at the end of the method, check for `true` at the beginning of the method and simply return in that case).

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-23T12:22:08.297

@tom pointed out a very good solution for the given problem. However, it can also be solved by using a singleton pattern. Since the ones named before are not threadsafe and therefore might cause problems later on, heres my threadsafe solution for this particular problem:

```
public Enum MyClass {
   INSTANCE;

   public static MyClass getInstance() {
          INSTANCE.load();
          return INSTANCE;
   }

   private void load() {
          // Load your data
   }
} 
```

Given code uses Enum singleton pattern and works with JDK 5+

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-20T06:36:54.130

Make use of singleton pattern. Make sure only one object can be created for the class. Include the code to load the values in load() in constructor, [as given in this example](http://www.javareference.com/jrexamples/viewexample.jsp?id=25). This will solve your problem.

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-04-20T06:38:40.837

Make your Map object a static variable and use [static initialization](http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html) .

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-04-20T06:46:54.810

It sounds like you simply must call load() in the constructor. To ensure it is called with any constructor, call it from other constructors.

And by the way, a static initializer sounds nice, but is different, and in some cases is a bad practice. Some people believe in never using a static initializer ever, because you cannot unit test it, and in some cases you can't debug it (it is called when the class is first loaded, not when the constructor is called, or when a method is called, etc. so it depends on what version and platform you have for the JVM!)

example 1:

```
class MyObj {
    private load() {
        //private so it can't be called elsewhere by mistake (except by you in this file)
    }

    public MyObj() {
        load();
    }
    public MyObj(Collection values) {
        MyObj();
        //next deal with values (duplicate code)
    }
    public MyObj( Collection keys, Collection values) {
        MyObj();
        //next deal with keys and values (some duplicate code)
    }

    ...
} 
```

example 2: (maybe more complicated causing NullPointerExceptions for new developers, but better for advanced coders because it avoids duplication)

```
class MyObj {
    public MyObj( Collection keys, Collection values) {
        load();
        //next deal with keys and values (no duplication this time)
    }
    public MyObj(Collection values) {
        MyObj(null, values);
    }
    public MyObj() {
        MyObj(null, null);
    }

    ...
} 
```

If you want something more complicated, eg. a single object to exist at any time, you want to use a singleton, and possibly a factory. (A factory means a single object exists per factory rather than overall, and has other benefits not mentioned here).

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-04-20T06:55:27.160

I've got a look to all the above solutions! First, piece of codes that are executed once are generally provided into the constructor, as suggested by **j0ntech**! Second, if you don't want to let people run twice or more a method, you have to control the method call from inside with something like a **boolean** that is set to false after the first call of **load()**. E.g.

```
private boolean enabledLoad = true;

public void load( ...something here...) {
   if(enabledLoad){
     //do something       
   }
   enabledLoad = false;
} 
```

Very simple...

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2012-04-20T06:33:11.837

You can serialize the class which you want to use again and again without loss of the values holding to that class and obviously without loading values again....

* * *

## 回答 #11

> 赞同：-1
> 
> 时间：2012-04-20T06:44:04.633

You can also go for making **static** methods which means they will not update the existing data even if the method called.

# php - 在 Symfony2 中使用 Form Builder 将对象替换为 Null 值

> ID：10241333
> 
> 赞同：1
> 
> 时间：2012-04-20T06:31:17.687
> 
> 标签：php, symfony, doctrine-orm, bind, formbuilder

我无法持久化已与对象一起持久化的空值。

它引发以下错误。

```
Catchable Fatal Error: Argument 1 passed to MyProject\EntityBundle\Entity\Requirements::setReplacedEmployee() must be an instance of MyProject\EntityBundle\Entity\Employee, null given, called in /var/www/MyProject/vendor/symfony/src/Symfony/Component/Form/Util/PropertyPath.php on line 347 and defined in /var/www/MyProject/src/MyProject/EntityBundle/Entity/Requirements.php line 384 
```

最初我保存可能是空/对象的replacedEmployee对象。但后来如果我在编辑时用 null 替换对象，则会引发上述错误。

以下是我来自控制器的代码。

```
try {
            if ($request->request->get('save') === 'Save') {

                $form->bindRequest($request); // this is the line which throws the above error

                if ($form->isValid()) {
                    $requirementObj->setUpdatedAt(new \DateTime('now'));
                    $em->flush();
                    $request->request->set('requirementId', $requirementId);
                    return $this->displayAction($request);
                }
            }
        } 
```

这是Requirements.php 中的内容，它是一个实体文件。

```
 /**
 * @var replacedEmployee
 *
 * @ORM\ManyToOne(cascade={"persist"},targetEntity="Employee")
 * @ORM\JoinColumns({
 *   @ORM\JoinColumn(name="replaced_employee_id",referencedColumnName="id",onDelete="CASCADE")
 * })
 */
private $replacedEmployee;

 /**
 * Set replacedEmployee
 *
 * @param MyProject\EntityBundle\Entity\Employee $replacedEmployee
 */
public function setReplacedEmployee(\MyProject\EntityBundle\Entity\Employee $replacedEmployee)
{
    $this->replacedEmployee = $replacedEmployee;
}

/**
 * Get replacedEmployee
 *
 * @return MyProject\EntityBundle\Entity\Employee 
 */
public function getReplacedEmployee()
{
    return $this->replacedEmployee;
} 
```

任何人都可以提出解决此问题的方法。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T11:29:53.390

我不能完全理解你的问题，但是，如果你想允许与你`null`的关系的值，`Employee`你应该首先编辑映射（这可能没有必要，因为默认情况下`JoinColumn`应该允许`null`值）：

```
 /**
 * @var replacedEmployee
 *
 * @ORM\ManyToOne(cascade={"persist"},targetEntity="Employee")
 * @ORM\JoinColumns({
 *   @ORM\JoinColumn(
 *     name="replaced_employee_id",referencedColumnName="id",onDelete="CASCADE",
 *     nullable=true
 *   )
 * })
 */
private $replacedEmployee; 
```

在生成 setter/getter Doctrine2 之后（如果我没记错的话，从 2.2.1 开始）应该生成：

```
 /**
 * Set replacedEmployee
 *
 * @param MyProject\EntityBundle\Entity\Employee $replacedEmployee
 */
public function setReplacedEmployee(Employee $replacedEmployee = null)
{
    $this->replacedEmployee = $replacedEmployee;
} 
```

请注意，参数是可选的（具有`null`默认值）。希望这可以帮助。

# jquery - jquery如何对字符串进行排序

> ID：10241338
> 
> 赞同：0
> 
> 时间：2012-04-20T06:31:52.300
> 
> 标签：jquery, html

我构建了一个小函数，它向 div 添加下拉值，但我的要求是，每当在 div 中添加名称时，它都应该进入新行并且它应该按升序排列，我尝试了它，但我没有达到解决方案.

[http://jsfiddle.net/a7Y3m/1/](http://jsfiddle.net/a7Y3m/1/)

```
<head>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript">
    $(function(){
        var str = "";       
        $('#me').change(function(){
            str += $(this + "option:selected").text() 
            $('#text').text(str)
        })
    });
    </script>
    <style>
    .main {
        margin:0 auto;
        width:500px;
        border:solid 1px #F00;
        height:500px
    }
    #text{ margin-left:50px; margin-top:50px; font:24px/18px Tahoma, Geneva, sans-serif; color:#F00}
    </style>
</head>
<body>
    <div class="main">
        <select id="me">
        <option>first</option>
        <option>second</option>
        <option>third</option>
        <option>fourth</option>
        </select>
        <div id="text"></div>
    </div>
</body> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-20T06:45:24.187

```
$(function(){   
    var strings = []; // Use an array instead of strings

    $('#me').change(function(){
        // Add the current value to the array
        strings.push($(this + "option:selected").text());
        // Sort the array
        strings.sort();
        var res = "";

        // Concatenate the sorted values of the array
        // and add a newline to each value
        for(var i = 0; i < strings.length; ++i)
            res += strings[i]+' \n';

        // Display the text
        $('#text').text(res);
    });
}); 
```

```
#text{
   white-space:pre; // Don't ignore the newlines.
} 
```

[**JSFiddle**](http://jsfiddle.net/a7Y3m/19/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T07:11:58.653

1.  获取所选值 + [空格] + div 中已有的文本
2.  按空格分割它们，排序，再次加入
3.  展示

    $(函数(){

    ```
    $('#me').change(function(){

        str=$(this + "option:selected").text() + ' ' + $('#text').text();
        str = str.split(' ').sort().join(' ');
        $('#text').text(str);
    }) 
    ```

    })

[http://jsfiddle.net/a7Y3m/28/](http://jsfiddle.net/a7Y3m/28/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T06:41:01.390

这是您正在寻找的还是：http: [//jsfiddle.net/a7Y3m/11/](http://jsfiddle.net/a7Y3m/11/)？（这是按组合框中的顺序排序的）

或者这个：http: [//jsfiddle.net/a7Y3m/18/](http://jsfiddle.net/a7Y3m/18/)？（这是按字母顺序排序的）

我做了什么：

我已经为标签添加了值：

```
<select id="me">
<option value='0'>first</option>
<option value='1'>second</option>
<option value='2'>third</option>
<option value='3'>fourth</option>    
</select> 
```

在 javascript 中，我使用所选选项（var strArr = [];）保存一个数组，并且在每个更改事件中，我将值（用于按值排序）或文本（用于按字母顺序排序）推入数组）。我正在对数组进行排序，然后我正在构建字符串：

```
strArr.push($(this + "option:selected").val() )
//strArr.push($(this + "option:selected").text() ) //- alphabetically ordered
strArr.sort()
str = "";
for (var i = 0; i < strArr.length; i++) {
   str += $($("option")[strArr[i]]).text(); 
   //str += strArr[i]; //- alphabetically ordered
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-20T06:53:10.360

有排序功能指的是 [如何使用 jQuery 按字母顺序对列表进行排序？](https://stackoverflow.com/questions/1134976/how-may-i-sort-a-list-alphabetically-using-jquery)

我根据您的需要修改了此功能。

```
function sortUnorderedList(ul, sortDescending) {
      if(typeof ul == "string")
        ul = document.getElementById(ul);

      var lis = ul.getElementsByTagName("option");
      var vals = [];

      for(var i = 0, l = lis.length; i < l; i++)
        vals.push(lis[i].innerHTML);

      vals.sort();

      if(sortDescending)
        vals.reverse();

      for(var i = 0, l = lis.length; i < l; i++)
        lis[i].innerHTML = vals[i];
    }
    } 
```

这是现场演示：

[http://jsfiddle.net/a7Y3m/27/](http://jsfiddle.net/a7Y3m/27/)

要添加订单，您必须致电

```
 sortUnorderedList("me",false); 
```

和降序

```
 sortUnorderedList("me",true); 
```

# .net - Azure 服务总线队列订阅筛选器更改

> ID：10241340
> 
> 赞同：6
> 
> 时间：2012-04-20T06:32:08.470
> 
> 标签：.net, azure

我们计划将 Azure 服务总线队列与主题/订阅一起使用。

对于具有不同过滤条件的给定主题，我们有多个订阅。

我的问题是我们可以在创建订阅后动态更改订阅过滤器吗？创建订阅后如何更改订阅的过滤条件？我找不到任何允许这样做的方法？我看到的唯一选择是删除订阅并重新创建它。知道如何在不删除订阅的情况下更改过滤器吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-04-20T07:08:36.620

您可以使用**SubscriptionClient**上的**AddRule**和**RemoveRule**来修改订阅中的过滤器。

 **资源：

*   [MSDN](http://msdn.microsoft.com/en-us/library/hh429499.aspx)
*   [在 Windows Azure 服务总线订阅中使用规则操作](http://southworks.com/blog/2012/01/06/using-rule-actions-in-windows-azure-service-bus-subscriptions/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T06:49:02.393

我不能确定它是否有效，但如果有任何内容允许您编辑过滤器，它将是来自 Paolo [http://code.msdn.microsoft.com/windowsazure/Service-Bus-Explorer-f2abca5a的服务总线资源管理器](http://code.msdn.microsoft.com/windowsazure/Service-Bus-Explorer-f2abca5a)

此博客文章中的更多详细信息：http: [//windowsazurecat.com/2011/07/exploring-topics-and-queues-by-building-a-service-bus-explorer-toolpart-1/](http://windowsazurecat.com/2011/07/exploring-topics-and-queues-by-building-a-service-bus-explorer-toolpart-1/)

你可以创建一个新的并删除旧的，毕竟它是 pub/sub 吗？

高温高压**

# javascript - 使用 JQuery 选择的几个项目进行操作

> ID：10241347
> 
> 赞同：0
> 
> 时间：2012-04-20T06:32:48.470
> 
> 标签：javascript, jquery, jquery-selectors, jquery-events

如果选择一项`$('.item')`，是否可以在事件处理程序中使用`$(this)`？

1.  如果我将使用多个项目选择，我如何引用项目：

    `$('#form1 td.item, #form2 td.item').event-handler(...{ })`

2.  `#form1 td.item`例如，当我`#form2 td.item`失去焦点时，我需要触发一个事件。我怎么做？

**编辑**

因此将`blur()`触发任何选择器项：

```
$('#form1 td.item, #form2 td.item').blur(function() {
     // something's there
}); 
```

?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:37:05.987

a) 事件处理程序一次将处理一个选定元素。

b）绑定到“模糊”

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T06:37:14.393

如果您将事件处理程序附加到多个项目，每个项目都将附加该处理程序并独立触发它，因此`$(this)`将引用触发事件的任何项目

# iphone - 如何从用户定义的对象中提取 NSString？

> ID：10241348
> 
> 赞同：3
> 
> 时间：2012-04-20T06:32:49.070
> 
> 标签：iphone, ios, nsstring, type-conversion

我有一个对象，假设是 A 类，其中存储了一个字符串。我想将它类型转换为`NSString`对象。基本上这就是我想要实现的目标：

```
NSString *temp = (NSString *)[A someMEthod];

if(temp isMemberOfClass : [NSString class]) {
    dosomething
} 
```

有人可以告诉我如何实现这一目标吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T06:37:53.870

```
id temp = [A someMethod];
if([temp isKindOfClass:[NSString class]])
{
    NSString *str = (NSString *)temp;
    NSLog(@"%@", str);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T06:47:19.833

如果你的字符串是 ClassA 的成员变量。

您可以在 ClassA 中创建一个返回 NSString 的方法。

像那样。

```
@interface ClassA :NSObject{

NSString *str;

}

-(NSString *)returnString{

return str;

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T06:36:36.980

如果要检查对象是否属于某个类（在运行时），请使用：

```
if ([myObj isKindOfClass:[NSString class]]) { ... } 
```

您的问题并不完全明确，看来您最好的选择是使“存储在对象中的字符串”已经成为具有 NSString 类型的属性，因此您根本不必进行任何类型转换和检查。

# selenium-ide - 键入命令在 selenium IDE 中不起作用

> ID：10241357
> 
> 赞同：1
> 
> 时间：2012-04-20T06:33:42.463
> 
> 标签：selenium-ide

我记录了一个 selenium 脚本。在其中执行 type 命令时，它执行成功，但输入的值没有显示在相应的字段中。后来我发现给定的输入数据也没有进入被测应用程序中。什么是问题？有谁能帮帮我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-29T06:00:17.827

`type`您可以尝试使用命令来代替填写表格`typeKeys`。它模拟指定元素上的击键事件，就好像您逐键键入值一样，并且可能会有所帮助。[有关 TypeKeys，](http://release.seleniumhq.org/selenium-remote-control/1.0-beta-2/doc/java/com/thoughtworks/selenium/Selenium.html#typeKeys%28java.lang.String,%20java.lang.String%29)请参见javadoc

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-05-16T16:07:42.283

从 Firefox 11 或 12 开始，Type 和 TypeKeys 不再起作用（请参阅底部的链接）。我必须使用 sendKeys 命令（链接中的注释 #12），它会显示值并模拟击键事件。

希望这可以帮助。[https://code.google.com/p/selenium/issues/detail?id=3861](https://code.google.com/p/selenium/issues/detail?id=3861)

# asp.net-mvc-3 - 如何在mvc3中单击按钮时动态添加控件？

> ID：10241358
> 
> 赞同：0
> 
> 时间：2012-04-20T06:33:51.330
> 
> 标签：asp.net-mvc-3

如何在mvc3中单击按钮时动态添加控件

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-21T13:16:50.730

如果您的意思是控制器操作，您可以这样做：

```
@this.Html.Action("ActionName", "ControllerNAme") 
```

但是，如果您的意思是 ASP.NET Webforms 服务器控件，请忘记这一点。在 MVC 中，替代方法是使用[HTML 助手](http://www.asp.net/mvc/tutorials/older-versions/views/creating-custom-html-helpers-cs)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T10:02:39.963

您可以使用 ajax 调用控制器，传递控制参数，它应该返回视图（控制）。您应该在返回之前序列化视图。

# google-chrome - Chrome 无法很好地加载煎茶触摸

> ID：10241361
> 
> 赞同：3
> 
> 时间：2012-04-20T06:34:16.697
> 
> 标签：google-chrome, sencha-touch

我下载了 Sencha Touch 2.0，并想从它的例子中学习。但我的 chrome 无法加载它。Chrome 不显示任何东西，它实际上是白色的。但是 Safari 可以很好地加载它。为什么chrome不能？我的 chrome 是最新的，我今天中午重新安装了它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-23T04:28:17.150

你是怎么调试的？

我可能不正确，因为我也在学习。但以下是导致错误的 1 个可能原因。

你是通过file://（作为本地文件运行）调试它吗？查看您的网址栏。

如果是 file://.. 对于 safari，他们不会对本地运行的文件强加 XSS（跨站点脚本）。但是对于 chrome，他们有用于本地文件的 XSS（跨站点脚本）。

有关如何[禁用同源策略的信息，请参阅在 Chrome](https://stackoverflow.com/questions/3102819/chrome-disable-same-origin-policy/6083677#6083677)中禁用同源策略。

# android - 在android中禁用应用程序卸载？

> ID：10241362
> 
> 赞同：5
> 
> 时间：2012-04-20T06:34:41.353
> 
> 标签：android

我想要这样的事情，当我的应用程序将安装在 Android 手机中时。没有人可以从手机上卸载它，或者当任何人试图卸载它时，弹出显示或任何警报。有什么办法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-08T09:58:13.627

您将需要启用 deviceAdmin 以禁用`Force Stop`和`Uninstall`功能。这由`Device Admin API`处理企业/应用程序策略管理的处理。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-12-07T15:16:53.433

明确禁用是不可能的。但是，您可以为此使用解决方法。在您的应用程序中创建一个在后台持续运行的服务：

```
//MasterService.java
public class MasterService extends Service{

    private ThreadPoolExecutor executor;
    private Runnable runnable = new Runnable(){
        @Override
        public void run(){}
    };

    public MasterService(){
        executor = new ThreadPoolExecutor(1, 1, 1, TimeUnit.SECONDS, 
                       new LinkedBlockingQueue<Runnable>());
    }

     @Override
    public int onStartCommand(Intent intent, int flags, int startId) {
        executor.execute(runnable);
        return super.onStartCommand(intent, flags, startId);
    }

    @Override
    public IBinder onBind(Intent intent) {
        throw new UnsupportedOperationException("Not yet implemented");
    }

    @Override
    public void onDestroy() {
        super.onDestroy();
        executor.shutdown();
    }

}; 
```

不要忘记启动它`startService(new Intent(this, MasterService.class));`并在清单中将其声明为已导出和启用。

Android 有（在非 root 手机上）运行包管理器以卸载应用程序。在您的`Runnable`中，您需要检测包管理器是否在前台运行。如果是，启动一个使用视图获取输入焦点的活动：

```
//MasterService.java (inside runnable)
@Override
public void run(){
    while(true) {
        ActivityManager activityManager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);
        List<ActivityManager.RunningAppProcessInfo> procInfos = activityManager.getRunningAppProcesses();

        for (int i = 0; i < procInfos.size(); i++) {
            //check if package installer runs in foreground
            if (procInfos.get(i).processName.equals("com.android.packageinstaller") && procInfos.get(i).importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) {

                //start activity
                startActivity(new Intent(MasterService.this, OverlayActivity.class).setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NO_HISTORY));
            }
        }
    }
} 
```

在您的活动中，创建任何视图并覆盖后退按钮以防止用户返回包卸载程序屏幕：

```
//OverlayActivity.java
public class OverlayActivity extends Activity{

    private ImageView view;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        view = new ImageView(this);
        setContentView(view);
    }

    @Override
    public void onBackPressed() {

    }
}; 
```

主页按钮并不重要，因为它会隐藏所有活动，如果用户按下任务按钮选择包管理器，`OverlayActivity`则会再次打开。确保主服务无法停止或强制关闭。有两种方法可以解决这个问题：

1.  在您的`onDestroy`函数中发送一条自定义广播消息，再次启动您的服务。
2.  通过检查也禁用设置应用程序`com.android.settings`。

我希望您知道自己在做什么，因为用户应该知道何时卸载应用程序。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T07:09:50.427

从理论上讲，您可以“root”手机，将您的应用程序添加到系统分区（用户不能修改系统分区），然后再次“取消root”手机。不过，我不确定这是否适用于所有型号。某些设备不能“无根”。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-20T06:58:51.300

我目前认为您可以完成此操作的唯一方法是使用两个应用程序。

1.  是主人..它作为服务运行，检查是否安装了应用
    程序，如果缺少则安装它。
2.  是您希望用户看到的应用

好的..我可以想到其他方法..正如 Blessenm 所说，改变操作系统..但这假设您针对的是特定的硬件。

您可能能够 Root 系统，这可以让您访问管理想法..不确定它是否会工作。

# android - Android中基于时间的触发器

> ID：10241363
> 
> 赞同：1
> 
> 时间：2012-04-20T06:34:43.570
> 
> 标签：android, sqlite, triggers

我有这样的 sqLite 表

```
+----------+----------+
| FireTime | DeviceId |
+----------+----------+
|    08:00 | 00000000 |
+----------+----------+ 
```

我想创建一个触发器，它接受来自用户的 mDeviceId 参数并检查表中是否存在 mDeviceId 条目，此触发器必须在 8:00 触发

怎么可能这样做？谁能建议我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:42:08.677

使用[BroadcasteReceiver](http://developer.android.com/reference/android/content/BroadcastReceiver.html)并将其触发时间设置为您想要的...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T07:49:14.750

据我所知，触发器无法按时执行。触发器总是在数据库的某些操作之后/之前执行。你不能指定时间。

oracle 和 sqlsever 为此使用“sql 作业调度程序”。

据我所知，SQLite 中没有类似的实现。

您可以通过硬代码实现机制。

# c++ - C++ - 使用向量清理堆上的类的正确方法

> ID：10241364
> 
> 赞同：1
> 
> 时间：2012-04-20T06:34:44.730
> 
> 标签：c++, pointers, vector

我有这堂课：

```
class GameData
{
public:
    GameData();
    ~GameData();
    vector<Bullet> bullets;
} 
```

在主程序中，我创建了一个 GameData 指针并使用 new 为其分配内存。我知道新的，你也应该删除数据。我上面的向量不是指向子弹的指针向量，只是子弹本身（应该是指针吗？）在〜GameData（）函数中，我需要什么来清理子弹？我应该确保它是空的，如果不清除它？为了良好的内存管理，正确“删除”它的具体方法是什么。如果我的设计是错误的，请让我知道我应该如何处理这个问题。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-20T06:36:11.277

> 在 ~GameData() 函数中，我需要什么来清理子弹？

不，它是由将自动调用的向量的析构函数完成的。

-

> 我创建了一个 GameData 指针并用 new 为它分配内存。我知道新的，你也应该删除数据

`std::unique_ptr`如果您使用某种形式的智能指针，例如or ，则不必这样做`std::shared_ptr`。使用智能指针，您不必删除它，因为它是智能指针本身的责任。

从这里阅读*智能指针部分：*

*   [动态内存管理](http://en.cppreference.com/w/cpp/memory)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-20T06:36:03.330

您无需担心`GamaData`成员，只需确保删除您的`GamaData`实例，因为您使用`new`.

# java - 无法在 Eclipse 中为 Google Places api 项目导入库

> ID：10241366
> 
> 赞同：1
> 
> 时间：2012-04-20T06:34:55.690
> 
> 标签：java, android, google-places-api

我正在开发一个应用程序，我需要使用 google places api 找到最近的加油站。但问题是我无法导入库。这是我遇到错误的地方。

```
import com.google.api.client.googleapis.GoogleHeaders;
import com.google.api.client.http.GenericUrl;
import com.google.api.client.http.HttpRequest;
import com.google.api.client.http.HttpRequestFactory;
import com.google.api.client.http.HttpRequestInitializer;
import com.google.api.client.http.HttpResponseException;
import com.google.api.client.http.HttpTransport;
import com.google.api.client.http.apache.ApacheHttpTransport;
import com.google.api.client.http.json.JsonHttpParser;
import com.google.api.client.json.jackson.JacksonFactory; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:48:26.200

下载[适用于 Java 的 Google API 客户端库，](http://code.google.com/p/google-api-java-client/downloads/list) 通过**Add Jar**或 Add **External Jar****将此添加到您的 android 应用程序的构建路径**中。

 ****```
Android Application -> Properties -> Java Build Path -> Libraries -> Add jars.. or Add External Jars.. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T07:01:55.187

试试这个...

```
Android Application -> Properties -> Android ->select Google APIS(2.2 or any)-> Apply-> ok.
Then Right Click on your project -> Refresh. 
```

我不确定，但我认为它应该工作。****

# iphone - iPhone 4.3 的 Tableview 中的多个单元格选择

> ID：10241371
> 
> 赞同：4
> 
> 时间：2012-04-20T06:35:05.690
> 
> 标签：iphone, uitableview, ios4, xcode4.3

我需要在 iphone 4.3 的 tableview 中选择多行。如果选择不带附件类型，则应更改单元格的背景颜色。导航到多个视图后，如果我返回 table view 需要显示选定的单元格。

我可以进行多项选择，这是我实现的逻辑

在 IndexPath 行的单元格中：

```
 cellButton = [UIButton buttonWithType:UIButtonTypeCustom];
            cellButton.tag = indexPath.row;
            cellButton.frame = CGRectMake(POSITION_LABEL_X, POSITION_LABEL_Y, 320, 60);
            cellButton.backgroundColor = [UIColor clearColor];
            [cellButton addTarget:self action:@selector(buttonPressed:) forControlEvents:UIControlEventTouchUpInside];
            [cell.contentView addSubview:cellButton];

if(self.selectedRows && [self.selectedRows containsObject:indexPath])
    {
        UIImage *rowBackground = [UIImage imageNamed:@"cellBG.png"];
    ((UIImageView *)cell.backgroundView).image = rowBackground;
     cell.selectedBackgroundView = [[[UIView alloc] initWithFrame:CGRectMake(0, 0, 320, 60)] autorelease];
  cell.selectedBackgroundView.backgroundColor = [[[UIColor alloc] initWithRed:0.725 green:0.894 blue:1 alpha:1] autorelease]; 
    }

    else {

        cell.selectedBackgroundView.backgroundColor = [UIColor clearColor];
    } 
```

给按钮动作：

```
-(void) buttonPressed:(UIButton *)sender
{
    UITableViewCell* selectedCell =  (UITableViewCell*)sender.superview.superview;
    if([sender isSelected])
    {
        [selectedCell setSelected:NO];
        //sender.backgroundColor = [UIColor clearColor];
        [selectedCell setBackgroundColor:[UIColor clearColor]];
        [self.selectedRows removeObject:[NSNumber numberWithInt:sender.tag]];
                        [sender setSelected:NO];
    } 
    else 
    {
        [selectedCell setSelected:YES];
        sender.backgroundColor = [[UIColor alloc] initWithRed:0.725 green:0.894 blue:1 alpha:1];
        //[selectedCell setBackgroundColor:[[UIColor alloc] initWithRed:0.725 green:0.894 blue:1 alpha:1]];
        [self.selectedRows addObject:[NSNumber numberWithInt:sender.tag]];
        [sender setSelected:YES];
    }
} 
```

我将选定的单元格值保存在数据库中，并且能够再次检索这些值返回到 tableView，但不知道如何使用这些值使单元格成为选中状态。

```
-(void) highlightSelectedValue
{
    [self.selectedRows removeAllObjects];
    NSLog(@"response %@",self.taskResponse.response);
    NSArray *selected = [self.taskResponse.response componentsSeparatedByString:@","];
    for (NSString *s in selected) {
        [self.selectedRows addObject:[NSNumber numberWithInt:([s intValue] - 1)]];
        UIButton *selectedButton = (UIButton*)cellButton;
            [selectedButton setSelected:NO];
        [selectedButton setTag:[s integerValue] -1 ]; 
        [self buttonClicked:selctedButton];
       [self.selectionTableView selectRowAtIndexPath:[NSIndexPath indexPathForRow:([s integerValue] - 1) inSection:0] animated:NO scrollPosition:UITableViewScrollPositionMiddle];
    }
} 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:32:06.553

试试这个代码。它可以帮助你解决你的问题

```
-(void) highlightSelectedValue
{
    [self.selectedRows removeAllObjects];
    NSLog(@"response %@",self.taskResponse.response);
    NSArray *selected = [self.taskResponse.response componentsSeparatedByString:@","];
    for (NSString *s in selected) {
        [self.selectedRows addObject:[NSNumber numberWithInt:([s intValue] - 1)]];

        UITableViewCell *selectedCell = [self.selectionTableView cellForRowAtIndexPath:[NSIndexPath indexPathForRow:([s integerValue] - 1) inSection:0]];
        [selectedCell setBackgroundColor:[[[UIColor alloc] initWithRed:0.725 green:0.894 blue:1 alpha:1] autorelease]];
        [self.selectionTableView selectRowAtIndexPath:[NSIndexPath indexPathForRow:([s integerValue] - 1) inSection:0] animated:NO scrollPosition:UITableViewScrollPositionMiddle];
    }
} 
```

# android - 如何在android中卸载活动

> ID：10241374
> 
> 赞同：0
> 
> 时间：2012-04-20T06:35:11.307
> 
> 标签：android, activity-finish

我想卸载活动。实际上我有三个按钮，一个用于登录，继续和最后一个用于注销。当我们登录主页时，当我们点击注销时，应该再次出现登录表单，但问题是当我们注销时所有除了登录活动之外的活动应该被破坏。所以请建议我如何做到这一点。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:52:34.527

有很多方法可以做到这一点。

一种方法是在启动新活动之前，最好调用finish()。它将关闭当前活动，您可以打开新活动。单击注销时，您只需调用显示登录表单的意图。

如果您学习如何管理堆栈中的活动，那么您可以通过不同的方式实现这一目标。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T06:40:00.243

活动在 android 的堆栈中进行管理。您需要做的是返回活动堆栈。你可以打电话`finishActivity()`。
[这](https://stackoverflow.com/questions/4038479/android-go-back-to-previous-activity)是另一个主题。

# c# - 区分 ASP.NET MVC4 中的空参数和缺失参数

> ID：10241375
> 
> 赞同：4
> 
> 时间：2012-04-20T06:35:23.250
> 
> 标签：c#, asp.net-mvc

我正在编写一个 API。我想允许 PUT 方法更新资源。下面是代表资源的示例模型对象-

```
var resourceToUpdate = new TestResourceModel() 
    {
        Id = 5
        Name = "testName",
        Description = "description",
        etc...
    } 
```

我希望客户端能够 PUT 到 /TestResource/5 以更新资源的属性

现在，假设客户端只想更新属性名称，而不是描述，因此发送以下请求：

```
Name="testNewName" 
```

在这种情况下，应该更新资源，因此 Name 现在是“testNewName”，而 Description 仍然是“description”

如何区分这种情况（在我的 Controller 方法中）和客户端想要将 Description 属性设置为 null 的情况：

```
Name="testNewName"
Description= 
```

因为我的控制器方法看起来像：

```
[HttpPut]
public ActionResult Index(TestResourceModel model)
{
    //True in both cases
    bool descriptionSet = model.Description == null; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:01:54.747

好吧，您必须将传入的值与要更新的值进行比较。我的意思是 null 是 null 是 null :) Alt。在模型中设置更新标志（bool isUpdate），然后只更改非空值。

# android - 是用于移动开发的 Phonegap，类似于用于计算机开发的 Java。它能给我真正的便携性吗？

> ID：10241377
> 
> 赞同：0
> 
> 时间：2012-04-20T06:35:26.087
> 
> 标签：android, ios, cordova, titanium, portability

我一直在寻找一种方法来制作可以在 IOS、Android、Symbain、Windows Mobile 等所有平台上运行的移动应用程序。我遇到了几个像Phonegap，钛，似乎他们在atleat IOS，android上工作。这是移动世界的Java吗？？？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T06:40:12.510

* **Phonegap**基本上将您的代码包装在一个 Web 视图中，因此您可以使用 html、css、js 进行编码。

*另一方面，**Titanium将您的代码转换为本机代码，无论是用于 Android 还是 ios。**

**Java**本身是一个虚拟机，代码/字节码保持不变。但是，例如，如果您使用 Titanium 为 android 和 iPhone 制作应用程序，它们就完全不同了。所以不，它不是移动世界的 JAVA。然而，从 phonegap 方面看，它更接近，因为您使用 Web 技术进行编码并且它们在浏览器中运行。只是一个包装器需要在本机代码中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T07:14:23.627

Java 的口号是“一次正确，到处运行”，这与 Phonegap 的目标相似——它们都因可移植性而受到性能问题的困扰。所以我会说是。

Phonegap 的另一个好处是，如果您有一个现有的站点或希望通过 Internet 提供您的应用程序，例如通过 HTML5 清单文件（参见 www.basecamp.com/mobile），您可以。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T06:41:29.510

它可以为您提供真正的便携性，但它仍然有其局限性。具体来说，您失去了手机附带的许多本机功能。Phonegap HTML 应用程序的运行速度通常比本地应用程序慢，至少在移动平台对 HTML 有更好的支持之前是这样。

虽然我不会称它为手机的 Java，因为与 Java 不同，它不能在“虚拟机”上运行。

# iphone - 横向模式下的自定义相机仅在 iPhone 中

> ID：10241381
> 
> 赞同：1
> 
> 时间：2012-04-20T06:35:40.060
> 
> 标签：iphone, camera

```
{      
    self.imagePickerController = [[[UIImagePickerController alloc] init ] autorelease];
    imagePickerController.view.frame=CGRectMake(0, 0, 1024, 768);
    self.imagePickerController.delegate = self;
    [[UIDevice currentDevice] setOrientation:UIInterfaceOrientationLandscapeRight];

    //Set Notifications so that when user rotates phone, the orientation is reset to landscape.
    [[UIDevice currentDevice] beginGeneratingDeviceOrientationNotifications];

    //Refer to the method didRotate:   
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(didRotate:)
                                                 name:@"UIDeviceOrientationDidChangeNotification" object:nil];

    //Set the picker source as the camera   
    self.imagePickerController.sourceType = UIImagePickerControllerSourceTypeCamera;

    //Bring in the picker view   
    [self presentModalViewController:self.imagePickerController animated:YES];
} 
```

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-07-28T09:49:04.327

这是我的代码，这可能会对您有所帮助

```
-(void)cameraAction
{

// Create image picker controller
UIImagePickerController *imagePicker = [[UIImagePickerController alloc] init];

// Set source to the camera
imagePicker.sourceType =  UIImagePickerControllerSourceTypeCamera;
// Delegate is self
imagePicker.delegate = self;

// Allow editing of image ?

imagePicker.allowsEditing = NO;

if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])
{
    // Show image picker
    [self presentModalViewController:imagePicker animated:YES];  

}
else{
    UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Error accessing the camera"
                                                    message:@"Camera did not respond" delegate:nil
                                          cancelButtonTitle:@"Cancel" otherButtonTitles:nil]; 
    [alert show]; 
    [alert release];
 }

}
 - (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
{
// Access the uncropped image from info dictionary
UIImage *image = [info objectForKey:@"UIImagePickerControllerOriginalImage"];

    [picker release];

    [self dismissModalViewControllerAnimated:NO];

    editImageView=[[EditImageViewController alloc] initWithNibName:@"EditImageViewController" bundle:[NSBundle mainBundle]];
    editImageView.delegate=self;
    [self presentModalViewController:editImageView animated:YES];
    [editImageView.imgView setImage:image];

} 
```

但这不是自定义 uiimagepickerviewcontroller 但使用它你可以在两种模式下拍照。试试这个...

# module - OCaml 未绑定变量

> ID：10241383
> 
> 赞同：0
> 
> 时间：2012-04-20T06:35:43.570
> 
> 标签：module, ocaml, type-inference

我正在用 Ocaml 实现 NFA，编译器在这一行给我一个错误

```
module Nfa : NFA =
struct

type transition = int * char option * int
type nfa = int * int list * transition list

let make_nfa s fs ts = nfa (s, fs, ts);; 
```

错误在编译器说的最后一行`Error: Unbound value nfa`

我不确定问题是什么...谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T06:39:08.703

你没有在任何地方声明`value`nfa。您只声明了`type`nfa。

如在

```
type nfa_type = int * int list * transitian list
let nfa = ( 1, [ 1; 2; 3 ], [x;y] ) 
```

编辑：为我在javascript模式下的错别字道歉

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-20T06:42:32.783

`transition`并且`nfa`是元组类型的同义词，而不是类型构造函数。假设您想`make_nfa`成为 type `int -> int list -> transition list -> nfa`，那将很简单

```
let make_nfa s fs ts = (s, fs, ts) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-20T06:43:43.930

您正在尝试`nfa`用作构造函数。但是您的类型`nfa`没有定义构造函数。它只是元组类型的同义词。所以类型的值看起来像`(3, [4], [])`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-20T19:22:51.157

正如其他人所提到的，`nfa`是元组类型的同义词（如 typedef）`int * int list * transition list`。

您似乎想像使用代数数据类型的构造函数一样使用它。如果你想这样做，你会做这样的事情：

```
type nfa = Nfa of int * int list * transition list

let make_nfa s fs ts = Nfa (s, fs, ts) 
```

但是在这种情况下，具有 1 个构造函数的代数数据类型有点浪费。

# sql - 如果不符合过滤条件，如何查询表并在连接表上显示 NULL？

> ID：10241385
> 
> 赞同：0
> 
> 时间：2012-04-20T06:35:49.607
> 
> 标签：sql, sql-server

这是我的数据：

假期 - 有组织者专栏

行程

ItineraryPayment - 这是一个包含 Itinerary 和 LK_Payment 的交叉表。只是假设它的名字 -has PaymentStatus

我想要做的是能够选择假期中的组织者列，如果 ItineraryPayment 将为空或具有值，则取决于假期是否有与其链接的行程。我该怎么做呢？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:40:11.383

根据你说的：

```
select v.organizer, (cases i.vacation_id is null then i.value else null end)
from Vacation as v
left join itinerary as i
   on v.vacation_id = i.vacation_id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T06:40:24.710

请参阅此 URL 以获取 SQL Server 中的联接。

[在 SQL 中加入](http://www.quackit.com/sql/tutorial/sql_outer_join.cfm)

您将使用 NULL 值。

左连接或右连接

# iphone - 如何使用 ipad 中文本文件中输入的值分配数组

> ID：10241388
> 
> 赞同：1
> 
> 时间：2012-04-20T06:36:11.530
> 
> 标签：iphone, ios

我有一个 iPad 应用程序，我想在数组中输入 textfield` 输入的值，然后执行计算。我正在使用以下代码：

```
myPieClass.itemArray=[[NSArray alloc]initWithObjects:@"5",@"10",@"15",@"20",@"30", nil];
myPieClass.myColorArray=[[NSArray alloc]initWithObjects:[UIColor purpleColor],[UIColor redColor],[UIColor orangeColor],[UIColor yellowColor],[UIColor greenColor], nil];
myPieClass.radius=100; 
```

上面的代码获取静态值，我想从文本字段中获取值。

```
NSString*value1=textFieldOne.text; 
```

然后将此值赋给数组，以此类推，对于其他文本字段，我有三个文本字段。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:42:40.700

```
myPieClass.myTextFieldArray = [[NSArray alloc]initWithObjects: textField1.text, textField2.text,  textField3.text,  textField4.text, nil]; 
```

或者

```
NSString *value1 = textField1.text;
NSString *value2 = textField2.text;
NSString *value3 = textField3.text;

myPieClass.myTextFieldArray = [[NSArray alloc]initWithObjects:value1, value2, value3, nil]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T06:43:04.960

假设您的文本字段是`tf1`, `tf2`, `tf3`.

```
NSString*value1=tf1.text;
NSString*value2=tf2.text;
NSString*value3=tf3.text;
    NSMutableArray *array= [NSMutableArray alloc]initWithObjects:[value1 intValue], [value2 intValue], [value3 intValue], nil]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T06:48:39.303

上面的答案是正确的，但这里有一个更好的例子：

```
myPieClass.itemArray = [NSArray arrayWithObjects:textField1.text,
                                                 textField2.text,
                                                 textField3.text, nil]; 
```

假设您的 itemArray 属性被声明为保留，您可能希望向其传递一个自动释放的对象以避免泄漏。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-05-25T06:09:08.670

```
NSInteger *value1 = [textField1.text integerValue];
NSInteger *value2 = [textField2.text integerValue];
NSInteger *value3 = [textField3.text integerValue];

myPieClass.myTextFieldArray = [[NSArray alloc]initWithObjects:value1, value2, value3, nil]; 
```

# javascript - 这个Javascript函数有效吗？

> ID：10241393
> 
> 赞同：2
> 
> 时间：2012-04-20T06:36:27.673
> 
> 标签：javascript, performance

我有一个节点列表，它们是 html li 元素

```
<ul id="nodesList">
   <li id="node_1">Node 1</li>
   <li id="node_2">Node 2</li>
   <li id="node_3">Node 3</li>
   <li id="node_4">Node 4</li>
   <li id="node_5">Node 5</li>
</ul> 
```

我有一个管理这些节点的 javascript 函数

```
(function (nodesManager) {
    var nodes = [];
    nodesManager.requestNode = function(id) {
        if (nodes[id]) {
            return nodes[id];
        }

        nodes[id] = new Node(id);
        return nodes[id];
    }
} (window.nodesManager = window.nodesManager || {}));

var Node = function(id) {
    instance = this;

    var node = $("#node_" + id);

    this.changeName = function(newValue) {
        node.text(newValue);
    };

    // and other nodes specific functions

    var _properties = null;
    this.getProperties = function () {
        if (_properties !== null)
            return _properties;

        var response = null;
        $.ajax({
            cache: false,
            async: false,
            type: "GET",
            url: '/Nodes/NodeProperties', // json object { "dateCreated": "10 minutes ago", "createdBy": "Mike" }
            data: { node_Id: id },
            success: function (data, textStatus) {
                if (data.hasError) {
                    alert(data.message);
                } else {
                    response = data;
                }
             },
             error: function (XMLHttpRequest, textStatus, errorThrown) {
                alert('ajax error');
             }
        });
        _properties = response;

        return _properties;
    };
        this.resetProperties = function () {
            _properties = null;
        };
    }

$("#nodesList").delegate("li", "click", function() {
    var node_Id = $(this).attr("id").replace("node_", "");

    var newNodeName = "I am a new value";
    nodesManager.requestNode(node_Id).changeName(newNodeName);
}); 
```

我的问题是，如果 Node 对象中的 changeName 函数会影响性能？

它是为用户选择的每个节点创建的吗？

将它放在 nodesManager 函数中是否更好，因此它只实例化一次？或者这没关系...

**什么对我来说很重要**

```
function getNodeCreatorUserName(id) {
    var properties = nodesManager.requestNode(id).getProperties();
    var userName = properties.createdBy;

    // do something with userName
};
function getNodeDateCreated(id) {
    var properties = nodesManager.requestNode(id).getProperties();
    var dateCreated = properties.dateCreated;

    // do something with dateCreated
};

getNodeCreatorUserName("1"); 
getNodeDateCreated("1");     // No server side call will be made because properties are already stored in Node object 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:48:35.933

就您关心的性能问题而言（请记住，对于少量节点而言差异几乎不明显），您应该选择原型而不是封闭，因为它们（最多> 50％）更快，请参阅：

[Javascript原型操作符性能：节省内存，但更快吗？](https://stackoverflow.com/questions/3493252/javascript-prototype-operator-performance-saves-memory-but-is-it-faster)

[http://blogs.msdn.com/b/kristoffer/archive/2007/02/13/javascript-prototype-versus-closure-execution-speed.aspx](http://blogs.msdn.com/b/kristoffer/archive/2007/02/13/javascript-prototype-versus-closure-execution-speed.aspx)

[http://ejohn.org/blog/simple-class-instantiation/](http://ejohn.org/blog/simple-class-instantiation/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T06:39:36.113

`Node`已在 中定义`window`，您可能应该将其称为其他名称。

尝试这样的事情：

```
function MyNode (id) {
   this.node = $("#node_" + id);
}

MyNode.prototype.changeName = function(newValue) {
    this.node.text(newValue);
}; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T07:08:50.463

如果你真的想压缩周期......

```
(function (nodesManager) {
    var nodes = [];
    nodesManager.requestNode = function(id) {
        // reduce number of checks
        return nodes[id] !== undefined ? nodes[id] : nodes[id] = new Node(id);
    }
} (window.nodesManager = window.nodesManager || {}));

$("#nodesList").delegate("li", "click", function() {
    // no need to wrap this in jQ just to get the id
    var node_Id = this.id.replace("node_", "");

    var newNodeName = "I am a new value";
    nodesManager.requestNode(node_Id).changeName(newNodeName);
}); 
```

如果你真的想让那段代码更高效，超越压缩周期，我们需要更深入地了解它试图实现的目标。

# asp.net - 如何将 vb 转换为 vb.net 代码以及如何将 ado 转换为 ado.net

> ID：10241415
> 
> 赞同：0
> 
> 时间：2012-04-20T06:37:38.590
> 
> 标签：asp.net, ado.net

我需要免费或共享软件工具来将 vb6 等项目转换为 vb.net 和 ado 到 ado.net

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T13:04:50.940

我认为没有像[vbto](http://www.vbto.net/)这样的工具可以将 vb 代码转换为 vb.net，您必须手动完成。有一些工具可以转换一些代码，但我曾经尝试过，但有很多错误，我不得不手动完成，不要浪费时间。阅读这些文章

1.  [第1条](http://dotnet.sys-con.com/node/46335)
2.  [第2条](http://visualbasic.about.com/b/2011/01/24/converting-vb6-to-vb-net.htm)

希望对你有帮助

# python - 骨干.js在python中模拟模拟

> ID：10241419
> 
> 赞同：1
> 
> 时间：2012-04-20T06:38:01.530
> 
> 标签：python, json, orm, model, backbone.js

我正在做一个项目，它可以作为服务器版本或独立发行版发布。它在架构上与 DB 无关，并且所有数据记录都具有 KV 形式。值是具有现有结构之一的序列化 json 数据。

我需要一些解决方案，提供非常基本的 ORM 级别来管理这些记录集而不依赖于数据库，它可以管理 dict 和列表、跟踪更改、执行简单的验证并提供一些挂钩以将记录集与全局或本地存储同步，甚至基于文件的。

骨干.js 模型非常接近我想要的，但我在 python 上找不到类似的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:01:14.523

不确定它是否正是您想要的，但我正在开发一个实现轻量级 ORM 类框架的项目（设计为类似于，但比[sqlalchemy](http://www.sqlalchemy.org/)轻得多。它仍然是非常多的测试版，但它确实有效：http: [//pypi.python.org/pypi/norman/0.5.0](http://pypi.python.org/pypi/norman/0.5.0)

否则，我建议您查看[sqlalchemy](http://www.sqlalchemy.org/)以获得更复杂和结构化的 ORM。

# sqlite - Sqlite十进制值不起作用

> ID：10241421
> 
> 赞同：0
> 
> 时间：2012-04-20T06:38:13.313
> 
> 标签：sqlite

我正在使用 SQLite。我只想选择 2 位十进制值。

这意味着如果输入是 99.013，那么答案就是 99.01。

我使用了 getBigDecimal("Data",2)... 但它给出了一个错误，即 sqlite 不支持 getBigDecimal。

请给出一些想法。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:43:07.637

尝试[round()](http://www.sqlite.org/lang_corefunc.html)代替。

```
round(data, 2) 
```

请注意，round(99.013, 2) 是 99.01，而 round(99.015, 2) 是 99.02。`getBigDecimal`我猜你正在使用 JDBC 。也许在 Java 中而不是 SQLite 中进行这种数据处理会更容易。

# jquery - 如何从 jquery mobile 向 ASP.NET Webservice 进行 AJAX 调用

> ID：10241424
> 
> 赞同：0
> 
> 时间：2012-04-20T06:38:30.763
> 
> 标签：jquery, android, asp.net, jquery-mobile

我使用 (Jquery & PhoneGap) 创建了一个 android 应用程序。应用程序运行良好 现在，我想从我的 ASP.NET Web 服务中检索数据。

html:

```
<html>
<head>
    <meta charset="utf-8">
    <title>My Friends</title>

    <link href="Jquery-mobile/jquery.mobile-1.1.0.css" rel="stylesheet" type="text/css" />
    <script src="Jquery-mobile/jquery-1.4.1.js" type="text/javascript"></script>

    <script src="Jquery-mobile/jquery.mobile-1.1.0.js" type="text/javascript"></script>
     <script type="text/javascript">

        $(function(){
             //code to fetch data from webservice  

             alert($("#test").html());
        });
    </script>

  </head>
  <body>
</body>
</html> 
```

asp.net 网络服务

```
/// <summary>
    /// Summary description for WebService1
    /// </summary>
    [WebService(Namespace = "http://tempuri.org/")]
    [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
    [System.ComponentModel.ToolboxItem(false)]
    // To allow this Web Service to be called from script, using ASP.NET AJAX, uncomment the following line. 
    // [System.Web.Script.Services.ScriptService]
    public class WebService1 : System.Web.Services.WebService
    {

        [WebMethod]
        public string HelloWorld()
        {
            return "Hello World";
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:52:48.443

可能是这样的

```
$.ajax({
  url: 'yourPage/yourstatiCmethod',
  contentType: "application/json; charset=utf-8",
  dataType: "json"
  type: "POST",
  data:"{}"
  success: function(data) {
        alert('Do your all fetching Service');
  }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T06:53:12.080

首先取消注释服务中的以下行

```
 .....
    // To allow this Web Service to be called from script, using ASP.NET AJAX, uncomment the following line. 

    [System.Web.Script.Services.ScriptService] 
    // uncomment this ^ ^
    public class WebService1 : System.Web.Services.WebService
    {
    ..... 
```

要调用 hello world 方法，请使用[jQuery.ajax](http://api.jquery.com/jQuery.ajax/)

```
$.ajax({
  type: "POST",
  contentType: "application/json; charset=utf-8",
  dataType: "json",
  url: "WebService1.asmx/HelloWorld",
  data: "{}",
  success: function(msg){
      $("body").append(msg.d); //will append "Hello world" to body tag
  },
  error: function () {

  }
}); 
```

我会向我们推荐[WCF REST](http://msdn.microsoft.com/en-us/netframework/cc950529)服务

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-26T10:46:09.807

这可能会帮助您尝试此代码

```
$.ajax({
    type: "POST",
    url: URL,
    async: false,
    contentType: "application/json; charset=utf-8",
    dataType: "json",
    jsonp: "onJSONPLoad",
    jsonpCallback: "newarticlescallback",
    crossDomain: "false",
    beforeSend: function (xhr) {
    },
    error: function (request, status, error) {
        console.log("Error In Web Service...." + request.responseText);
        return false;
    },
    success: function (data) {
        Result = data;
    },
    complete: function (xhr, status) {
    }
}); 
```

# android - 如果我停止后台服务，Android 将多快进入睡眠状态

> ID：10241426
> 
> 赞同：0
> 
> 时间：2012-04-20T06:38:39.343
> 
> 标签：android, accelerometer, power-management, wakelock

*释放唤醒锁*后，Android 多快进入睡眠状态？

我正在开发一个在后台使用加速度计的应用程序，并且由于它的高功耗，我正在研究如何最好地让设备进入睡眠状态，至少每隔一分钟左右。

我不能让设备休眠长达一个小时，甚至 10 分钟——这只有在我开发某种基于用户行为预测的智能调度程序的情况下才有可能。我没有足够的时间来做这件事。

**因此，我问当我让我的应用程序进入睡眠状态并实际取消注册传感器更新侦听器时，设备是否会在如此短的时间间隔内进入睡眠状态？** （我认为会有一些超时来防止在设备退出待机模式时运行所有必要的东西。）

我正在使用最慢的加速度计模式：`SENSOR_DELAY_NORMAL`. 现在，我的服务一直将设备保持在*唤醒锁*状态。这只持续大约 12 小时的待机时间 - 获得两倍就足够了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T11:27:58.447

> 有谁知道唤醒锁释放后android有多快进入睡眠状态？

它可能在一毫秒内。

# c# - 使用 C# 读取正在打印的文档

> ID：10241430
> 
> 赞同：0
> 
> 时间：2012-04-20T06:38:58.123
> 
> 标签：c#, printing, barcode

除了我的问题：[如何赶上印刷工作](https://stackoverflow.com/questions/10229077/how-to-catch-print-jobs-in-c-sharp-net)

我设法使用以下代码捕获 PrintSystemJobInfo 对象，这些对象是在打印作业进入队列时创建的：

```
public static void WritePrinterJobs()
    {
        List<PrintSystemJobInfo> jobInfos = new List<PrintSystemJobInfo>();

        LocalPrintServer server = new LocalPrintServer();

        while (true)
        {
            foreach (var jobInfo in server.DefaultPrintQueue.GetPrintJobInfoCollection())
            {
                Console.WriteLine(jobInfo.JobName);
            }

        }
    } 
```

现在，我想读取正在打印的条形码的内容。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T11:52:02.240

我找到了解决方案。使用 C# 和 .NET 阅读打印文档似乎很痛苦，而且没有简单的方法（现在）。

一些开发人员有一个名为 PrintMulti 的软件。你可以在[这里](http://www.lvbprint.de/)找到它，它也是免费的！它只需要阅读一些文档并进行一些配置。您可以阅读内容，将文档发送到另一台打印机等等。该软件带有文档。

# ffmpeg - 从图像创建视频时每秒减慢ffmpeg的图像

> ID：10241433
> 
> 赞同：8
> 
> 时间：2012-04-20T06:39:03.040
> 
> 标签：ffmpeg, screenshot

我有一系列来自演示的屏幕截图，我想将它们放入视频中。我为此目的使用 ffmpeg。命令是`ffmpeg -f image2 -i screenshot_%5d.png -vcodec mpeg4 demo.avi`。但是，视频长度比我想要的短，而且移动得非常快。如何指定每秒需要多少张图像？我尝试了这个`-r`论点，但没有奏效。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-12T08:29:44.793

您可以通过调整“演示时间戳”（PTS）来更改视频速度。在你的情况下：

```
ffmpeg -f image2 -i screenshot_%5d.png -vcodec mpeg4  -vf "setpts=5*PTS" demo.avi 
```

您将获得比普通视频慢 5 倍的视频。

如果你想让它快 5 倍：

```
ffmpeg -f image2 -i screenshot_%5d.png -vcodec mpeg4  -vf "setpts=(1/5)*PTS" demo.avi 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T08:22:02.080

您需要指定捕获率

```
 # Note: The frame rate (-r) can be an integer or a float 

 ffmpeg  -r 23.976 \
         -f image2 \
         -i test-%06d.png \
         -vcodec mpeg4 \
         test.avi 
```

# php - Facebook 推荐框数据通过 php sdk

> ID：10241440
> 
> 赞同：3
> 
> 时间：2012-04-20T06:39:26.503
> 
> 标签：php, facebook, facebook-like, facebook-fql, fbml

我的问题是：通过 Facebook 推荐框显示的数据，我需要通过 FQL 或 php-sdk 显示的数据。

因为 Facebook 推荐框给了我推荐的 URL 的随机数量，我需要它来排序。

例如：
如果我给 Facebook 推荐框提供一个 url (www.example.com)，那么它会显示该网站的最推荐页面 (url)，但它会随机计数。我需要首先显示最推荐的 url 的数据。我的意思是排序。

> www.example.com/page1.html（2,203 人推荐这个。）
> 
> www.example.com/page2.html（795 人推荐这个。）
> 
> www.example.com/page3.html（1,203 人推荐这个。）

这个插件也给了我们盒子和边框等。我只需要 url 和图。那么可以通过 FQL 或 php-sdk 实现吗？

如果有人知道，请回复，因为这对我获取数据最重要。

等待回复并提前致谢。

-尼可

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:02:37.073

您可以使用 fql 查询来获取数据。fql 查询将如下所示：

```
SELECT url, share_count, like_count, comment_count, total_count
FROM link_stat WHERE url="www.example.com/page1.html" 
```

您可以通过对查询进行 url 编码并将其发送到

```
https://api.facebook.com/method/fql.query?format=xml&query="SELECT url, share_count,..." 
```

现在您将收到

```
<share_count>1</share_count>
<like_count>3</like_count>
<comment_count>4</comment_count>
<total_count>8</total_count> 
```

现在您可以将每个 url 的值存储在一个数组中，然后对其进行排序。

有关统计数据的更多信息，请查看此[链接](http://developers.facebook.com/docs/reference/fql/link_stat/)

# r - 如何突出显示 ggplot2 图中的值子集？

> ID：10241445
> 
> 赞同：4
> 
> 时间：2012-04-20T06:39:55.463
> 
> 标签：r, ggplot2, highlight, subset

例如，我有基本的堆积图：

`ggplot(diamonds, aes(x=factor(color),fill=factor(cut)))+geom_bar(position="fill")`

我有一小部分钻石的“克拉”值高于 3：

```
subset(diamonds,carat>3) 
```

我想在图上突出显示这个特定的值（如果我们的钻石有 ID，比如点或标签），以查看它们位于分布的哪个部分。有没有可能做这样的事情？

PS：不幸的是，我不允许发布数字。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T23:27:26.443

下面将“克拉大于 3”的计数插入到条形段中。我已将问题分解为多个步骤。步骤 1：识别“克拉大于 3”的新变量。第 2 步：获取计数汇总表 - 每种颜色和切割的钻石数量，以及每种颜色和切割的“克拉大于 3”。我使用了 plyr 包中的 ddply() 函数。第 3 步：条形图没有标签的绘图。第 4 步：在汇总表中添加一个变量，给出标签的 y 位置。第 5 步：将 geom_text 图层添加到图中。geom_text 的数据框是汇总表。geom_text() 需要美学标签（在这种情况下，“克拉大于 3' 的计数”）、y 位置（在上一步中计算）和 x 位置（颜色）。

```
library(ggplot2)
library(plyr)

# Step 1
diamonds$caratGT3 = ifelse(diamonds$carat > 3, 1, 0)

# Step 2
diamonds2 = ddply(diamonds, .(color, cut), summarize, CountGT3 = sum(caratGT3))
diamonds2$Count = count(diamonds, .(color, cut))[,3]
diamonds2

# Step 3
p = ggplot() + geom_bar(data = diamonds, aes(x=factor(color),fill=factor(cut)))

# Step 4
diamonds2 <- ddply(diamonds2,.(color), 
        function(x) { 
          x$cfreq <- cumsum(x$Count) 
          x$pos <- (c(0,x$cfreq[-nrow(x)]) + x$cfreq) / 2 
          x 
        }) 

# Step 5
(p  <- p + geom_text(data = diamonds2, 
   aes(x = factor(color), y = pos, label = CountGT3),
   size = 3, colour = "black", face = "bold")) 
```

![在此处输入图像描述](../Images/5c1dd6fdc9d403dbab261cf57e9fd682.png)

# cassandra - 启动 Cassandra 节点时出现错误消息

> ID：10241447
> 
> 赞同：0
> 
> 时间：2012-04-20T06:40:06.363
> 
> 标签：cassandra, nosql

**更新：似乎是一些损坏的 SSTable 文件。从那以后我已经删除了它们，这些消息的实例现在几乎没有了。感谢你的帮助！**

大约每次我启动一个 Cassandra 节点时，它都会在日志中出现好几次，然后它才会启动并运行......

```
Fatal exception in thread Thread[SSTableBatchOpen:2,5,main] java.lang.AssertionError
at org.apache.cassandra.io.sstable.SSTableReader.open(SSTableReader.java:150)
at org.apache.cassandra.io.sstable.SSTableReader$1.run(SSTableReader.java:224)
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
at java.util.concurrent.FutureTask.run(FutureTask.java:138)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
at java.lang.Thread.run(Thread.java:662) 
```

有人可以建议我采取最佳行动方案来防止这种情况再次发生吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-21T03:42:09.497

SSTable 打开有一些问题，供阅读。你可以在调试模式下运行吗 [https://github.com/apache/cassandra/blob/trunk/conf/log4j-server.properties#L21](https://github.com/apache/cassandra/blob/trunk/conf/log4j-server.properties#L21)

# jquery - 改变带有阴影的图像的背景位置，并带有缓动效果，就好像有人触摸了它一样

> ID：10241448
> 
> 赞同：1
> 
> 时间：2012-04-20T06:40:07.023
> 
> 标签：jquery, html, css, jquery-ui

我有以下场景，有一张纸作为背景，里面有阴影。在悬停时，我正在更改没有阴影的背景图像。但并没有真正得到那种效果

图像是 ![在此处输入图像描述](../Images/88f71c6ce482e02d5075c8faa3988a60.png)

我的jQuery代码是

```
$('.noticeBoard').mouseover(function() {
                $(this).css({'background-position':'0 -590px'});
            }).mouseout(function() {

                $(this).css({'background-position':'0 0'});
            }); 
```

任何帮助将不胜感激在此先感谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-04-20T06:59:21.857

jQuery 代码应该是：

```
$('.noticeBoard').mouseover(function() {
            $(this).css({'backgroundPosition':'0 -590px'});
        }).mouseout(function() {

            $(this).css({'backgroundPosition':'0 0'});
        }); 
```

你应该把它写成 ' **backgroundPosition** ' 而不是 ' **background-position** '。

# listview - 如何使列表视图与其他视图关联？

> ID：10241462
> 
> 赞同：0
> 
> 时间：2012-04-20T06:41:13.353
> 
> 标签：listview, android-layout

这是一个问题，如何在单个活动中使列表视图与其他视图一起显示？下面是布局和代码文件，它在 Eclipse 上显示没有错，但被 android VM 强制关闭

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >
<ListView
    android:id="@+id/listview"
    android:layout_width="match_parent"
    android:layout_weight="0.8"
    android:layout_height="0dip"/>

<Button
    android:id="@+id/button1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:onClick="select" />

<Button
    android:id="@+id/button2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:onClick="select2" />
</LinearLayout> 
```

代码部分

```
public abstract class firstActivity extends Activity implements OnItemClickListener{

Button Button1;
Button Button2;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    ListView lv = (ListView)findViewById(R.id.listview);
    lv.setAdapter(new ArrayAdapter<String>(this, R.layout.list_item, webname));

    lv.setTextFilterEnabled(true);

    lv.setOnItemClickListener(new OnItemClickListener(){

        public  void onItemClick(AdapterView<?> parent, View view,
            int position, long id) {

          Toast.makeText(getApplicationContext(), ((TextView) view).getText(),
              Toast.LENGTH_SHORT).show();
        }
      });
}

static final String[] webname = new String[] {
    "http://www.YYYYYY.com","http://www.XXXXXX.com"
}; 
```

感谢提前

这是 R.layout.list_item

```
<TextView xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:padding="10dp"
android:textSize="12sp" > 
```

ListAdapter 有问题吗？对不起，我是新手，没有多少知识。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-21T09:14:23.803

您的代码中的问题是您已将类定义为`abstract`. 抽象类允许您将常用方法名称放在一个抽象类中，而无需编写实现代码。包含抽象方法的类称为抽象类。[有关java 文档](http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html)，请参见此处。删除该摘要，您的代码将运行。

# unix - 如何在 Unix 中找到两个日期时间（周末除外）之间的差异？

> ID：10241463
> 
> 赞同：2
> 
> 时间：2012-04-20T06:41:15.123
> 
> 标签：unix, ksh

[查找两个日期（不包括周末）之间](https://stackoverflow.com/questions/3464268/find-day-difference-between-two-dates-excluding-weekend-days)的日差相同的问题，但它适用于 javascript。如何在 Unix (KSH) 中做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:20:18.053

这是我的 Bash 脚本，我认为在 Ksh 中会类似。

```
#! /bin/bash

#Usage dateDiff startDate endDate

startDate="$1 00:00:00"
endDate="$2 tomorrow 00:00:00" #tomorrow to include both days

stampEnd=`date -d "$endDate" +%s`
stampStart=`date -d "$startDate" +%s`

#difference in calendar days 
daysDiff=`echo "($stampEnd - $stampStart) / (60 * 60 * 24)" | bc`;

#week day
weekDay=`date -d "$endDate" +%u`;

weekEndsLastWeek=`echo "$weekDay - 6" | bc`;
if test $weekEndsLastWeek -lt 0; then
    weekEndsLastWeek=0; 
fi

if test $weekEndsLastWeek -gt $daysDiff; then
  weekEndsLastWeek=$daysDiff
fi

#normalize - make endDate a Sunday
if test $weekDay -ne 1; then #if not a Sunday already
   daysDiffSunday=`echo "$daysDiff - ($weekDay - 1)" | bc`;
else
   daysDiffSunday=$daysDiff;
fi

firstWeekends=0;
weekends=0;

if test $daysDiffSunday -ge 0; then
   firstWeekends=`echo "$daysDiffSunday % 7" | bc`;
   if test $firstWeekends -gt 2; then
      firstWeekends=2
   fi
   weekends=`echo "$daysDiffSunday / 7 * 2" | bc`;
fi;

echo "$daysDiff - $weekends - $firstWeekends - $weekEndsLastWeek" | bc 
```

我的测试数据：

```
04/20/2012 04/22/2012 1
04/20/2012 04/25/2012 4
04/20/2012 04/30/2012 7
04/20/2012 04/28/2012 6
04/18/2012 04/21/2012 3
04/18/2012 04/22/2012 3
04/14/2012 04/21/2012 5
04/14/2012 04/22/2012 5
04/15/2012 04/21/2012 5
04/15/2012 04/22/2012 5 
```

测试脚本：

```
allPassed=1
while read line; do 
   set $line; 
   result=`./dateDiff $1 $2`;
   expected="$3";
   if test "$result" -ne "$expected"; then 
      echo "Error in test $line: expected $expected, result $result" 1>&2 
      allPassed=0
   fi; 
done
if test $allPassed -eq 1; then
   echo "All tests passed";
fi 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T20:53:26.977

```
#/bin/ksh

DATE1="2005-09-01"
DATE2="2011-02-20"

typeset -L4 y1 y2
typeset -Z -R2 m d

y1=$DATE1
y2=$DATE2

c=0
while [[ $y1 -le $y2 ]]
do
for m in 1 2 3 4 5 6 7 8 9 10 11 12
do
   for d in $(cal $m $y1)
   do
      [[ "${d# }" < "A" ]] && {
         (( c = c + 1 ))
         [[ "$y1-$m-$d" = "$DATE1" ]] && d1=$c
         [[ "$y1-$m-$d" = "$DATE2" ]] && {
            d2=$c
            break;
         }
      }
   done
done
(( y1 = y1 + 1 ))
done
(( days = d2 - d1 ))
echo $days 
```

# c++ - Windows 2010 Express 的 Mysql 连接器/C++ 未编译

> ID：10241465
> 
> 赞同：7
> 
> 时间：2012-04-20T06:41:22.930
> 
> 标签：c++, mysql, mysql-connector

解决方案：我决定为遇到相同问题的人制作一个分步指南。我不知道这是否完全解决了所有问题，但它确实可以让您编译我将提供的代码片段。如果有任何错误，请发表评论，以便我可以修复它们。这是为了帮助那些大部分因失败尝试而放弃的人，坦率地说，整个过程应该被记录下来。对不起，很长的帖子：P

```
STEP BY STEP FOR SETTING UP MYSQL CONNECTOR/C++ FOR 2010 MICROSOFT VISUAL C++ EXPRESS:
FILES NEEDED:
Windows x86 32 Bit ZIP: Connector/C++ -> http://dev.mysql.com/downloads/connector/cpp/
Windows X86 32 Bit ZIP: Connector/C -> http://dev.mysql.com/downloads/connector/c/
BOOST -> http://www.boost.org/users/download/

The reason why 62bit doesn't work is because you are using the express edition.  After you have downloaded all those files, extract them.  I keep mine in C (for ease of access).  Now open up MVC++ 2010 EXPRESS.
File -> New -> Project
Win32 Console Application
Next
Check Empty project
Finish
Create your first .cpp.  I call mine main.cpp
Project -> Properties
C/C++ -> General -> Additional Include Directories -> C:\mysql-connector-c++-noinstall-1.1.0-win32\mysql-connector-c++-noinstall-1.1.0-win32\include
C/C++ -> General -> Additional Include Directories -> C:\mysql-connector-c++-noinstall-1.1.0-win32\mysql-connector-c++-noinstall-1.1.0-win32\include\cppconn
C/C++ -> General -> Additional Include Directories -> C:\boost_1_49_0
Linker -> General -> Additional Library Directories -> C:\mysql-connector-c++-noinstall-1.1.0-win32\mysql-connector-c++-noinstall-1.1.0-win32\lib
Linker -> General -> Additional Library Directories -> C:\mysql-connector-c-noinstall-6.0.2-win32\mysql-connector-c-noinstall-6.0.2-win32\lib
The reason why we downloaded the Connector/C is because it has two files we need: libmysql.lib and libmysql.dll
Linker -> Input -> Additional Dependencies -> mysqlcppconn.lib
Linker -> Input -> Additional Dependencies -> libmysql.lib

If you change to Release, youll have to enter in the information again.
In your main.cpp place the following code and build it: 
```

=

```
/* Copyright 2008, 2010, Oracle and/or its affiliates. All rights reserved.

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; version 2 of the License.

There are special exceptions to the terms and conditions of the GPL
as it is applied to this software. View the full text of the
exception in file EXCEPTIONS-CONNECTOR-C++ in the directory of this
software distribution.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
*/

/* Standard C++ includes */
#include <stdlib.h>
#include <iostream>

/*
  Include directly the different
  headers from cppconn/ and mysql_driver.h + mysql_util.h
  (and mysql_connection.h). This will reduce your build time!
*/
#include "mysql_connection.h"

#include <cppconn/driver.h>
#include <cppconn/exception.h>
#include <cppconn/resultset.h>
#include <cppconn/statement.h>

using namespace std;

int main(void)
{
cout << endl;
cout << "Running 'SELECT 'Hello World!' » AS _message'..." << endl;

try {
  sql::Driver *driver;
  sql::Connection *con;
  sql::Statement *stmt;
  sql::ResultSet *res;

  /* Create a connection */
  driver = get_driver_instance();
  con = driver->connect("tcp://127.0.0.1:3306", "YOUR USERNAME", "YOUR PASSWORD");
  /* Connect to the MySQL test database */
  con->setSchema("YOUR DATABASE");

  stmt = con->createStatement();
  res = stmt->executeQuery("SELECT 'Hello World!' AS _message");
  while (res->next()) {
    cout << "\t... MySQL replies: ";
    /* Access column data by alias or column name */
    cout << res->getString("_message") << endl;
    cout << "\t... MySQL says it again: ";
    /* Access column fata by numeric offset, 1 is the first column */
    cout << res->getString(1) << endl;
  }
  delete res;
  delete stmt;
  delete con;

} catch (sql::SQLException &e) {
  cout << "# ERR: SQLException in " << __FILE__;
  cout << "(" << __FUNCTION__ << ") on line »" << __LINE__ << endl;
  cout << "# ERR: " << e.what();
  cout << " (MySQL error code: " << e.getErrorCode();
  cout << ", SQLState: " << e.getSQLState() << " )" << endl;
}

cout << endl;

int a;      // hangs
cin >> a;

return EXIT_SUCCESS;
} 
```

您应该得到 int8_t 的错误。双击 config.h 位于：c:\mysql-connector-c++-noinstall-1.1.0-win32\mysql-connector-c++-noinstall-1.1.0-win32\include\cppconn\config.h。双击它来调出它。现在只需注释掉所有应该只有 8 个的 typedef。将 libmysql.dll（在 Connector/C 内）和 mysqlcppconn.dll（在 Connector/C++ 内）放在编译器将构建输出到的文件夹中。完成后保存并运行。

**旧帖子不要看**

我已逐字按照此站点上的步骤操作：[http](http://blog.ulf-wendel.de/?p=215) ://blog.ulf-wendel.de/?p=215 但我仍然遇到编译错误。我对链接库或包含目录并不陌生，但我可以使用一个新的超级英雄，他使用 mysql connector/c++ 和 2010 express 制作了应用程序......来制作一个简单的 KISS 示例。我整天都在磨牙。示例来源：[http](http://www.tidytutorials.com/2009/07/mysql-connector-c-example-windows-clexe.html) ://www.tidytutorials.com/2009/07/mysql-connector-c-example-windows-clexe.html （已更改数据库）

```
1>main.obj : error LNK2019: unresolved external symbol __imp__get_driver_instance referenced in function _main

#include <stdlib.h>
#include <iostream>
using namespace std;
#include <cppconn/driver.h>
#include <cppconn/exception.h>
#include <cppconn/resultset.h>
#include <cppconn/statement.h>
#include <cppconn/prepared_statement.h>

int main(){

    sql::Driver *driver;
    sql::Connection *con;
    sql::Statement *stmt;
    sql::ResultSet *res;
    sql::PreparedStatement *pstmt;

    try{
        driver = get_driver_instance();
        con = driver->connect("tcp://127.0.0.1:3306", "root", "root");
        con->setSchema("foxlogin");

        stmt = con->createStatement();
        stmt->execute("insert into example values(4,'four'),(5, 'five')");
        delete stmt;

        pstmt = con->prepareStatement("select * from example");
        res = pstmt->executeQuery();
        while (res->next())
            std::cout<<res->getInt("id")<<"  "<<res->getString("data")<<std::endl;
        delete res;
        delete pstmt;

        pstmt = con->prepareStatement("delete from example where id=?");
        pstmt->setInt(1,4);
        pstmt->executeUpdate();
        pstmt->setInt(1,5);
        pstmt->executeUpdate();

        delete pstmt;

        delete con;    
    }catch(sql::SQLException &e){
        std::cout<<e.what();
    }

    int a;      // hang
    cin >> a;

    return 0;
} 
```

更新：我也遵循了这个： http://forums.mysql.com/read.php?167,492097,492097#msg- [492097](http://forums.mysql.com/read.php?167,492097,492097#msg-492097)我什至使用了 C++ 和 C 连接器（单独构建）以及每个测试64 位和 32 位版本（共 4 次测试）。我已经下载了boost并链接了它。我正在使用的新代码将在下面发布，它来自官方 mysql 网站。两个版本都会产生相同的错误。

```
/* Copyright 2008, 2010, Oracle and/or its affiliates. All rights reserved.

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; version 2 of the License.

There are special exceptions to the terms and conditions of the GPL
as it is applied to this software. View the full text of the
exception in file EXCEPTIONS-CONNECTOR-C++ in the directory of this
software distribution.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
*/

/* Standard C++ includes */
#include <stdlib.h>
#include <iostream>

/*
  Include directly the different
  headers from cppconn/ and mysql_driver.h + mysql_util.h
  (and mysql_connection.h). This will reduce your build time!
*/
#include "mysql_connection.h"

#include <cppconn/driver.h>
#include <cppconn/exception.h>
#include <cppconn/resultset.h>
#include <cppconn/statement.h>

using namespace std;

int main(void)
{
cout << endl;
cout << "Running 'SELECT 'Hello World!' » AS _message'..." << endl;

try {
  sql::Driver *driver;
  sql::Connection *con;
  sql::Statement *stmt;
  sql::ResultSet *res;

  /* Create a connection */
  driver = get_driver_instance();
  con = driver->connect("tcp://127.0.0.1:3306", "root", "root");
  /* Connect to the MySQL test database */
  con->setSchema("test");

  stmt = con->createStatement();
  res = stmt->executeQuery("SELECT 'Hello World!' AS _message");
  while (res->next()) {
    cout << "\t... MySQL replies: ";
    /* Access column data by alias or column name */
    cout << res->getString("_message") << endl;
    cout << "\t... MySQL says it again: ";
    /* Access column fata by numeric offset, 1 is the first column */
    cout << res->getString(1) << endl;
  }
  delete res;
  delete stmt;
  delete con;

} catch (sql::SQLException &e) {
  cout << "# ERR: SQLException in " << __FILE__;
  cout << "(" << __FUNCTION__ << ") on line " »
     << __LINE__ << endl;
  cout << "# ERR: " << e.what();
  cout << " (MySQL error code: " << e.getErrorCode();
  cout << ", SQLState: " << e.getSQLState() << " )" << endl;
}

cout << endl;

return EXIT_SUCCESS;
} 
```

64 位测试的构建错误：（如果您需要，我会提供 32 位构建错误测试）

```
 1>------ Build started: Project: erthwrthj, Configuration: Debug Win32 ------
    1>  main.cpp
    1>c:\mysql c++ 64\include\cppconn\sqlstring.h(36): warning C4251: 'sql::SQLString::realStr' : class 'std::basic_string<_Elem,_Traits,_Ax>' needs to have dll-interface to be used by clients of class 'sql::SQLString'
    1>          with
    1>          [
    1>              _Elem=char,
    1>              _Traits=std::char_traits<char>,
    1>              _Ax=std::allocator<char>
    1>          ]
    1>c:\mysql c++ 64\include\mysql_connection.h(156): warning C4251: 'sql::mysql::MySQL_Connection::proxy' : class 'boost::shared_ptr<T>' needs to have dll-interface to be used by clients of class 'sql::mysql::MySQL_Connection'
    1>          with
    1>          [
    1>              T=sql::mysql::NativeAPI::NativeConnectionWrapper
    1>          ]
    1>c:\mysql c++ 64\include\cppconn\exception.h(59): warning C4251: 'sql::SQLException::sql_state' : class 'std::basic_string<_Elem,_Traits,_Ax>' needs to have dll-interface to be used by clients of class 'sql::SQLException'
    1>          with
    1>          [
    1>              _Elem=char,
    1>              _Traits=std::char_traits<char>,
    1>              _Ax=std::allocator<char>
    1>          ]
    1>c:\mysql c++ 64\include\cppconn\config.h(60): error C2371: 'int8_t' : redefinition; different basic types
    1>          c:\program files (x86)\microsoft visual studio 10.0\vc\include\stdint.h(17) : see declaration of 'int8_t'
    1>c:\mysql c++ 64\include\cppconn\config.h(60): error C2371: 'int8_t' : redefinition; different basic types
    1>          c:\program files (x86)\microsoft visual studio 10.0\vc\include\stdint.h(17) : see declaration of 'int8_t'
    1>c:\users\null\documents\visual studio 2010\projects\erthwrthj\erthwrthj\main.cpp(74): error C2146: syntax error : missing ';' before identifier '»'
    1>c:\users\null\documents\visual studio 2010\projects\erthwrthj\erthwrthj\main.cpp(74): error C2065: '»' : undeclared identifier
    ========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ========== 
```

帮助将不胜感激！

更新 2：view_findpost_ *p* _1474626">http://www.dreamincode.net/forums/topic/253647-question-regarding-connecting-to-mysql-50-using-visual-studio-2010/page_view *_findpost_* *p* _1474626这个家伙似乎认为这是因为 config.h 在编译时与 stdint.h 冲突，因为在 config.h 中有一个 int8_t 的#typedef。必须有一个解决方案。我什至会采用任何其他库（免费）可以连接到本地 MySQL 数据库，但我真的很想弄清楚这一点以帮助大家。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-29T18:53:36.300

由于有很多关于 C++ 和 MySQL 连接器的问题，而且很难使其正常工作，所以我会回答这个问题，即使这个问题就像 1 年前一样被问到。

解决方案非常简单，您只需在 cppcon/config.h 文件中注释所有 typedef

# sql - 使用 SSIS 将多个不同的 Excel 工作表 ETL 到 SQL Server 2008 的最佳方法

> ID：10241472
> 
> 赞同：0
> 
> 时间：2012-04-20T06:41:49.217
> 
> 标签：sql, ssis, etl

我已经看到很多关于如何使用 Foreach 循环容器枚举 Excel 工作簿或工作表集合的示例，假设所有源文件的数据结构都相同，并且数据将发送到单个目标表.

处理以下情况的最佳方法是什么： - 一个带有 10 - 20 张工作表的 Excel 工作簿或 10 - 20 个带有 1 张工作表的 Excel 工作簿。- 每个工作簿/工作表都有不同的架构 - 每个源工作表都有一个 1:1 匹配的目标表。- 标准清理：将创建工作簿并将其放置在“加载”文件夹中，SSIS 包在读取加载文件夹中的文件并在成功完成后将它们移动到存档文件夹的作业上运行

我知道我可以为每个工作簿创建一个单独的 SSIS 包，但这似乎很难维护。任何帮助是极大的赞赏！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-23T09:29:42.437

我们很久以前就面临同样的问题。我只是总结一下我们所做的。我们使用 C# 以编程方式编写了一个 SSIS 包。维护一个 MetaTable，它保存平面文件的信息（表名称、列、这些列在平面文件中的位置。）。我们提取平面文件名，然后向元表查询该平面文件所属的表、它所具有的列以及平面文件中的列位置。

我们通过将每个平面文件作为命令行参数传递给 PackageExe，在 SQLSERVER 中执行包。所以它读取并处理每个平面文件。

**示例**假设我们有一个平面文件**FF**，我们首先提取平面文件的名称，然后通过查询数据库获取表名，假设它是**TT**，其中包含列**COL-1**，**COL-2**，位置**为 1 到 10**和**11 到 20**分别。通过从 MetaTable 中读取这些信息，我现在创建了一个派生列转换（包。）

我们的应用程序在一个文件夹中有一组平面文件，通过使用“For Loop Container SSIS”，我们一次获得一个平面文件并执行上述过程。

# ios - 如何选择一个 TableViewCell 并将所有其他单元格设置为 CoreData 中的布尔值 NO？

> ID：10241475
> 
> 赞同：0
> 
> 时间：2012-04-20T06:41:51.503
> 
> 标签：ios, xcode, core-data, uitableview, tableview

我有一个表格列表，用布尔值保存在核心数据中，当我选择一个单元格时，布尔值在核心数据中保存为“是”。但是当我选择一个多于一个单元格时，有 2 个单元格为“是”。我只想将 1 个单元格设置为是。我怎样才能做到这一点。这是我的代码：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    BestuhlungCell *cell =(BestuhlungCell *)[tableView dequeueReusableCellWithIdentifier:@"Cell"];

    NSManagedObject *managedObject = [self.fetchedResultsController objectAtIndexPath:indexPath];
    cell.bestuhlungLabel.text = [managedObject valueForKey:@"bestuhlungstitel"];
    NSData *data = [[NSData alloc] initWithData:[managedObject valueForKey:@"bestuhlungsfoto"]];
    UIImage *image = [UIImage imageWithData:data];
    cell.bestuhlungFoto.image = image;
    cell.checkButton.hidden=YES;

    return cell;

}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{

    NSManagedObjectContext *context = [app managedObjectContext];
  //  BestuhlungCell *cell = (BestuhlungCell *)[tableView cellForRowAtIndexPath:indexPath];
    Bestuhlung *bestuhlung=[self.fetchedResultsController objectAtIndexPath:indexPath];

    if ([[bestuhlung valueForKey:@"check"] boolValue]) {
        [bestuhlung setValue:[NSNumber numberWithBool:NO] forKey:@"check"];

    } else {

        [bestuhlung setValue:[NSNumber numberWithBool:YES] forKey:@"check"];

    }

    NSError *error = nil;
    if (![context save:&error]) {

        NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
        abort();
    }

    [self.navigationController popViewControllerAnimated:YES];

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:59:08.203

从您的代码段中可以清楚地看出，您只是在修改选定单元格的值，而不是其他表值。

为了实现这一点，您已将表中每一行的 BOOL 值设置为 NO，然后您可以继续使用同一行代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-21T00:30:25.017

您可以按照以下方式做一些事情：

```
NSArray *sections = self.fetchedResultsController.sections;
for(NSFetchedResultsSectionInfo *sectionInfo in sections) {
  for(Bestuhlung *currentBestuhlung in sectionInfo.objects {
    if(currentBestuhlung == bestuhlung) {
      // the selected bestuhlung
      if ([[bestuhlung valueForKey:@"check"] boolValue]) 
        [bestuhlung setValue:[NSNumber numberWithBool:NO] forKey:@"check"];
      else 
        [bestuhlung setValue:[NSNumber numberWithBool:YES] forKey:@"check"];
    }
    else {
      // those are the other ones you want to uncheck
      [currentBestuhlung setValue:[NSNumber numberWithBool:NO] forKey:@"check"];
    }
  } 
} 
```

# c# - IE 登录问题（登录页面重定向到自身）

> ID：10241476
> 
> 赞同：1
> 
> 时间：2012-04-20T06:42:00.663
> 
> 标签：c#, asp.net

我们的网站中有一个名为 Login.aspx 的登录页面，每当用户输入用户名和密码并单击提交按钮时，用户就会再次被重定向到登录页面本身。

页面标题中的状态更改为注销，但用户再次被重定向到登录页面。这只发生在 IE 浏览器，特别是 IE8 中。

将站点添加到受信任站点区域列表后，一切正常，但如果未将站点添加到受信任站点区域列表，则会出现此问题。

该网站使用受信任的有效 SSl 证书，则不应将站点添加到受信任的站点区域列表中。

任何想法家伙????

# macos - Cocoa 框架、库和包的优缺点是什么？

> ID：10241480
> 
> 赞同：7
> 
> 时间：2012-04-20T06:42:27.947
> 
> 标签：macos, frameworks, bundle

我有以下要求。

我需要在mac上实现dll之类的东西。我需要创建一个可以动态加载的后端库。这个后端库将包含可可类和c++类。

可可框架的优点/缺点是什么，到目前为止我一直在谷歌搜索，我无法找出最好的。请给我一些建议。可可框架是否也动态加载？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-20T06:56:15.697

动态库和框架之间的主要区别在于，框架可以包含资源（图像、声音文件、nib 等）和头文件。当您使用动态库时，它们是分开的。

框架和动态库都在运行时加载。如果您的库仅在 Mac OS X 上使用，我建议创建一个框架，因为它更易于管理，因为所有内容都在一个文件夹中。

捆绑包（白色乐高积木）几乎专门用作插件。如果您想创建一个插件接口，您应该接受捆绑包，并且您应该提供捆绑包可以链接的框架。捆绑包也在运行时加载。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-23T13:59:26.077

这是一个[不错的教程](http://code.google.com/p/cocoatutorials/downloads/detail?name=console.pdf)（PDF 形式），它更深入地解释了普通库和框架之间的区别。

# jquery - 使用 jQuery 创建 HTML 模板

> ID：10241483
> 
> 赞同：1
> 
> 时间：2012-04-20T06:42:33.310
> 
> 标签：jquery, email, templates, content-management-system, html-email

我希望简化创建 html 电子邮件的过程，使拖放不同元素以编译最终产品变得简单。

我创建了一系列 html 内容块（1 个专栏故事、2 个专栏故事、广告块等），并希望创建一些允许用户：

1.  根据需要将 html 内容块元素拖到舞台上，并在任何时候对它们进行排序
2.  编辑每个内容块中的文本和图像区域
3.  允许我导出最终编译的 html - 为第 3 方电子邮件管理应用程序做好准备

我看过 jQuery sortable & draggable，但知道这些只是图片的一小部分。我想知道是否有人创造了类似的东西，或者能够为我指出正确的方向以实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T06:45:07.323

试试 Jquery Templates，它为你提供了更多的灵活性[Jquery Template](http://api.jquery.com/tmpl/)

来自 Jquery 示例。

```
<script id="movieTemplate" type="text/x-jquery-tmpl">  //this is template 
    <li><b>${Name}</b> (${ReleaseYear})</li>
</script>

<ul id="movieList"></ul>

<script>
var movies = [  // data for the template 
    { Name: "The Red Violin", ReleaseYear: "1998" },
    { Name: "Eyes Wide Shut", ReleaseYear: "1999" },
    { Name: "The Inheritance", ReleaseYear: "1976" }
];

/* Render the template with the movies data and insert
   the rendered HTML under the "movieList" element */

$( "#movieTemplate" ).tmpl( movies )  
    .appendTo( "#movieList" );
</script> 
```

如果你想要更多的功能，你可以试试 HandleBar.JS [HandleBar JS](http://handlebarsjs.com/)

1.  [基本 HandleBarjs 表达式](http://handlebarsjs.com/expressions.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-23T22:02:12.100

是的，这是可能的，我之前已经完全构建了这个工具。

一些陷阱：

*   您还需要一些服务器端代码，因为最终用户使用的任何浏览器都会稍微更改代码。之后我使用了一些后处​​理来清理不必要/有害的代码。
*   避免使用 WYSIWYG 编辑器，因为您将花费大量时间删除他们的垃圾，同时努力保持用户想要拥有的风格。相反，请使用`contenteditable`属性和您自己的简单样式选项来设置粗体、斜体和您想要提供的任何其他内容。
*   请注意您*可以*在 Web 浏览器（使用 CSS3）中执行的所有您无法在电子邮件中执行的操作。首先在电子邮件客户端中对模板进行渲染测试，然后将它们转换为您的模块。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-04T13:12:30.247

```
/* Render the template with the movies data and insert
   the rendered HTML under the "movieList" element */

$( "#movieTemplate" ).tmpl( movies ).appendTo( "#movieList" ); 
```

# java - jdbc over tcp/ip 比本地机器慢得多

> ID：10241486
> 
> 赞同：0
> 
> 时间：2012-04-20T06:42:44.017
> 
> 标签：java, sql-server, jdbc, tcp, jboss

我们有一个三层 Java 应用程序，其中 Jboss 作为应用程序服务器，MS Sql Server 作为数据库服务器。我们使用 jdbc type 4 从 App 服务器连接到 Db 服务器。

我们已经看到，在同一台机器上运行 Jboss 和 DB 服务器，如果它们在不同的机器上，性能会提高约 50%。如何解释这么大的差异？运行 Jboss 和 DB Server 的机器是非常好的工作站（具有最好的英特尔 CPU），网络是具有商业标准基础设施的 1Gb 以太网。

您认为这是我们网络的问题（延迟、吞吐量……）还是有其他一些原因可以解释这种差异？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:52:32.827

以下因素可能会影响上述情况下的性能，

1)*访问数据库的网络延迟*：在本地机器上，它会小于 1 毫秒。如果数据库服务器和应用服务器位于不同的位置，延迟会更多。如果您为服务特定请求进行“n”个 DB 调用，则延迟将是 n * 2 * 延迟。

解决方案：少打电话。对参考数据集使用缓存。

2)*访问应用服务器的位置*：如果用户位于美国并且应用服务器在印度，那么网络延迟将在 200 毫秒左右。如果页面上加载了很多 css & js 文件，根据所使用的浏览器，会导致很多延迟。

解决方法：将所有js文件合并为一个文件。将 GZip 用于 js 和 css。缩小 JS。有效使用浏览器缓存。

3）*如果以上两个都不是瓶颈，检查应用部署服务器的CPU、内存和磁盘速度。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T06:47:29.883

好吧，有太多的可能性：1）网络设置 2）防火墙 3）通信服务的实施 4）等等。

我建议禁用所有服务、选项、过滤器，然后尝试一一启用。如果这不起作用，请检查您的代码。

祝你好运，这并不容易！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T07:09:17.733

在不知道您的配置的情况下，SQL Server 默认使用命名管道作为传输。在本地，这将是比 TCP/IP 更快的内存进程内通信。如果远程，管道将需要通过 TCP/IP 传输，这增加了它在 TCP/IP 堆栈（以及实际传输）上下编组/解组的开销。

您说您使用 TCP，但可能是您实际上在本地使用命名管道。您的连接字符串是什么样的？

# c# - 如何在节点树中找到 NodeData？

> ID：10241487
> 
> 赞同：1
> 
> 时间：2012-04-20T06:42:52.140
> 
> 标签：c#, oop

我有一个节点结构如下，这个节点有字符串数据和节点列表作为它的子节点。我想在这棵树中搜索一个数据我写了一个递归函数 FindNode(Node intree,string target)

```
public class Node
{
   public string Data;
   public List<Node> Children = new List<Node>();
   //some code
   public Node(string r)
   {
        this.Data = r;
   }

   public string getData()
   {
          return this.Data;
   }

   //some code
   public List<Node> getchildren()
   {
         return this.Children;
    }
       //some code
} 
```

target 是我要查找的字符串，而 intree 是树的开头（ROOT）我在 while 循环后遇到问题之后我应该返回什么？如果我错了，我该怎么写？

```
public Node FindNode(Node intree,string target)
{
    if(intree.getData()==target)
          return intree;
    else 
    {
         while(intree.getchildren()!=null) 
         {
             foreach(Node n in intree.getchildren())
              {
                   FindNode(n,target);
              }
         }
     }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:50:22.807

我建议您返回 null 并应用检查您调用此方法的位置，如果返回 null，则表示未找到节点。代码如下

```
 public static Node FindNode(Node intree, string target)
    {
        if (intree.getData() == target)
            return intree;

        foreach (Node node in intree.getchildren())
        {
            Node toReturn = FindNode(node, target);
            if (toReturn != null) return toReturn;
        }

        return null;
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T07:05:53.627

使用这个：

```
public Node FindNode(Node intree,string target)
{
    if(intree.getData()==target)
          return intree;
    else 
    {

              foreach(Node n in intree.getchildren())
              {                
                  Node node = FindNode(n,target) ; //CHECK FOR RETURN 

                  if(node != null) 
                      return node;            

              }

     }

     return null;
} 
```

不同之处在于我检查了`FindNode`方法的返回，如果不是`null`，则返回结果。

请注意，如果树中存在重复节点（具有相同字符串的节点），它将返回*第一次*出现。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-20T07:05:54.687

鉴于树中可能有多个匹配项，您最好返回一个`IEnumerable<Node>`. 你也不需要把那些奇怪的`get`方法放在那里。最后，您的意思是只搜索叶节点还是要搜索所有节点（else 语句）？

```
public IEnumerable<Node> FindNode(Node intree,string target)
{
    if(intree.Data ==target)
        yield return intree;

    foreach (var node in intree.Children.SelectMany(c => FindNode(c, target))
        yield return node;
} 
```

如果您想要第一个匹配节点，只需调用`First()`结果即可。如果您想确保只有一个，请调用`Single()`它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-20T06:58:49.240

```
 public Node FindNodeRecursively(Node parentNode, string keyword)
        {
            if(parentNode.getData() == keyword)
            {
                return parentNode;
            }
            else
            {
                if(parentNode.Children != null)
                {
                    foreach(var node in parentNode.Children)
                    {
                        var temp = FindNodeRecursively(node, keyword);
                        if(temp != null)
                            return temp;
                    }
                }
                return null;
            }
        } 
```

# entity-framework - Ef code first 一对多关系

> ID：10241498
> 
> 赞同：1
> 
> 时间：2012-04-20T06:43:37.587
> 
> 标签：entity-framework

如何在 EF 中定义具有不同主键和外键名称的一对多关系
**更新**

```
Public class Tb1
{
[Key]
public int ID{get; set;}         // primary
**public int foreignKey{get; set;} //foreign key**
public string name{get; set;} 
[Foreign("foreignKey")]
public virtual ICollection<Tb2> Tb2{ get; set; }
}

Public class Tb2
{
[Key]
public int ID {get; set;} //primary
public int tb1ID {get; set}
public string address {get; set;} 
} 
```

在这里，我想要主键上的一对多关系：外键在 TB1
外键：tb1ID 在 TB2
如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:48:34.997

我的 Nomal 方法也是包含导航属性。所以我会像这样改变 Tb2：

```
Public class Tb2
{
  [Key]
  public int ID {get; set;} //primary
  public int Tb1ID {get; set;} //notice I changed case on this variable as well
  public Tb1 Tb1 {get; set;} //this is the new variable
  public string address {get; set;} 
} 
```

Code first 现在应该能够自动理解这种关系。如果您不想要 Tb1ID 属性，您可以删除它，它仍然可以正常工作。

# aptana3 - 如何在“Sublime 2 Text”中打开 Aptana/SVN 项目

> ID：10241502
> 
> 赞同：1
> 
> 时间：2012-04-20T06:44:04.710
> 
> 标签：aptana3, sublimetext2

我想将我的 IDE 从 Aptana Studio 3 更改为 Sublime 2 Text。

但我有一个问题，我不知道如何用 Sublime 2 打开我的旧 SVN 项目。

在 Sublime 2 中，我安装了这个“http://wbond.net/sublime_packages/svn”，但我不能“签出”一个项目。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T18:50:36.123

项目 => 将文件夹添加到项目（找到您的文件夹）=> 将项目另存为（保存回您的文件夹）

# asp.net-mvc-3 - Jquery Ajax Post 未调用操作方法

> ID：10241503
> 
> 赞同：2
> 
> 时间：2012-04-20T06:44:14.283
> 
> 标签：asp.net-mvc-3, jquery

```
function CreateModalDialogWindow(urlPath) {
$.ajax({
    url: '@Url.Action("Popup","Project")',
    type: 'POST',
    async: false,
    success: function (data) {
        debugger;
        $('#dialog').html(data).dialog({
            autoOpen: true,
            width: 400,
            resizable: false,
            modal: true
        });
    },
    error: function(){
       alert('Error!');
    }
});

return false; 
```

}

我想使用 ajax post 调用 actionmethod。下面是动作方法

```
 [HttpPost]
    public PartialViewResult Popup()
    {
        return PartialView("~/Views/Shared/Project/Popup.cshtml");
    } 
```

请让我知道上面的代码有什么问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T06:50:49.407

未调用操作方法可能有不同的原因：

*   你有一些 javascript 错误
*   你从不调用`CreateModalDialogWindow`函数
*   您`CreateModalDialogWindow`在单击链接或表单提交时调用了 ，但您忘记通过返回 false 来取消此按钮的默认操作。

所以首先在准备好的文档中调用这段代码，看看它是否有效：

```
<script type="text/javascript">
$(function() {
    $.ajax({
        url: '@Url.Action("Popup", "Project")',
        type: 'POST',
        success: function (data) {
            $('#dialog').html(data).dialog({
                autoOpen: true,
                width: 400,
                resizable: false,
                modal: true
            });
        }
    });
});
</script> 
```

现在，如果您在控制器操作中放置一个断点，它通常应该被击中。我建议您使用 javascript 调试工具，例如 FireBug，它可以帮助您查看任何可能的 javascript 错误并查看在 AJAX 请求期间发送的确切请求/响应。

您还会注意到我已删除该`async: false`开关，因为这会在执行此请求期间对服务器进行同步调用，从而冻结 Web 浏览器，因此您不再使用 AJAX。

# ruby-on-rails-3 - 在 ec2 生产服务器上思考 sphinx 问题

> ID：10241504
> 
> 赞同：0
> 
> 时间：2012-04-20T06:44:20.740
> 
> 标签：ruby-on-rails-3, amazon-ec2, thinking-sphinx

我正在使用 sphinx 搜索我正在使用增量索引的模型。在我的本地开发机器（Ubuntu）上一切正常。但是在 ec2 生产环境中，当我创建新记录时，我需要再次构建索引以使新创建的记录可搜索。

我检查了权限，认为 sphinx gem 版本，它们似乎都很好。有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-14T23:55:04.063

我可以建议看看这个[https://github.com/agibralter/ts-resque-delta](https://github.com/agibralter/ts-resque-delta) 增量索引可能有不一致，我使用上述解决方案非常适合增量索引。但是每隔一段时间运行一次 cron 作业以完全重新索引思维 sphinx 是确保索引数据与数据库数据匹配的好方法。

# php - URI 变量会不会是恶意的

> ID：10241509
> 
> 赞同：1
> 
> 时间：2012-04-20T06:45:02.927
> 
> 标签：php, security, codeigniter, uri, xss

给出以下简单代码：

```
 function loadthis ($var)
 {
      $id = $this->model->get_id($var);
 } 
```

**问题：**任何恶意代码都可以通过 URI 变量传递吗？

**场景：** www.mydomain.com/mycontroller/loadthis/dosomethingreallybadhere

**额外信息：**

*   我在模型上使用活动记录，所以我知道他们不能进行 SQL 注入
*   在这个例子中，我没有使用 form_validation 类（但我在其他地方使用它作为我的表单）
*   我将我的 URI 字符限制为 Codeigniter 提供的默认字符

    ```
    $config['permitted_uri_chars'] = 'a-z 0-9~%.:_\-'; 
    ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:01:36.740

对于允许的字符，您无能为力……主要是您试图阻止的是将 MySQL 或可能的恶意脚本注入您的站点的任何人。总有一种可能性，但我认为你对你所拥有的东西相当安全。您要过滤的主要内容是：

1.  引号、单引号和分号，因为这些可用于 MySQL 注入攻击。
2.  HTML 标记字符，例如 < 或 >，因为它们可用于注入恶意脚本。

这绝不是一个结束所有列表。这些是您应该注意的主要事项。我强烈建议您阅读[https://www.owasp.org/index.php/Main_Page上的安全最佳实践](https://www.owasp.org/index.php/Main_Page)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T07:05:51.283

是和不是。

“数据”本身并不危险，它只是数据。如果数据包含您未预料到的内容，这取决于您对它的处理可能会产生不良后果。因此，对于通过 URL 接收的数据，或者实际上是从*用户可以控制的地方接收的**任何*数据，您无法知道或保证该数据包含什么。因此，不要编写使用此数据的代码，如果该数据包含您未预料到的内容，则会破坏或打开安全漏洞。

 *如果您将具有未知内容的数据视为外来对象并进行相应处理，则它并不危险。如果你把它当作你知道里面有什么，即使你不知道，那*是很危险的。*是的，这是一个令人费解的答案。;)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T07:06:04.717

当然，这取决于代码。如果不分析所有代码库，你永远不能说“它非常安全”。您的受限 URL 字符集似乎是合理的（如果它足以满足您的应用程序）。但是我可以想象至少一个输入可能是恶意的示例，如果用户`\..\..\`输入 URL，在某些情况下可能会打开一个自定义文件（在 Windows 上）。

如果你只关心 SQL 注入，如果你有这样的代码：

```
SELECT * FROM articles WHERE article_id = $id 
```

恶意用户可以设置 $id 来`0 or 1 like 1`传递您的受限字符集。

对于 XSS 也可以这样做，如果您在某个地方忘记正确转义（在生成的 JavaScript 代码中经常发生），但这个例子更难想。

无论如何，没有真正/完美/安全的方式来限制用户输入以获得安全性。避免 XSS/SQL/任何注入的唯一方法是检查所有代码并确保无论您用于输入或*输出*某个变量的任何位置，它都根据使用的上下文正确转义。规则是**不限制输入，但要准备好可以包含任何内容**。

如果输入是字符串，准备好可以包含任何字符并对其进行处理。*将其按原样*保存到数据库中，并确保在保存过程中不会造成任何伤害。如果在构建 SQL 查询时需要对其进行转义，请在其中进行转义。如果您需要将字符串（或其中的一部分）放入 HTML 输出中，请正确转义它。当然，您需要非常小心，以确保您在所有地方都进行了适当的转义。*

# ruby-on-rails - 如何使用类自定义设计错误消息

> ID：10241517
> 
> 赞同：9
> 
> 时间：2012-04-20T06:45:59.833
> 
> 标签：ruby-on-rails, devise, twitter-bootstrap

我正在使用 Twitter 的引导警报消息。在我的 application.html.erb 我有...

```
 <% flash.each do |key, value| %>
                <div class="alert alert-<%=key%>">
                    <a class="close" data-dismiss="alert">×</a>
                    <%= value %>
                </div>
           <% end %> 
```

通常，当我想做一条闪存消息时，我会写类似

```
flash[:success] = "Profile updated" 
```

但是我不确定如何为设计错误消息提供键值对。我查看了 devise.en.yml 但似乎无法将消息与密钥相关联，即：成功，：错误等。有人可以帮忙吗？谢谢！

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-03-14T06:40:00.397

## 对于遇到此问题但不知道如何使用引导程序覆盖设计错误消息的任何人。

1.  创建文件名为：

> /app/helpers/devise_helper.rb

1.  添加以下代码：

> ```
> module DeviseHelper
>  def devise_error_messages!
>   return '' if resource.errors.empty?
> 
>    messages = resource.errors.full_messages.map { |msg| content_tag(:li, msg) }.join
>    sentence = I18n.t('errors.messages.not_saved',
>    count: resource.errors.count,
>    resource: resource.class.model_name.human.downcase)
> 
>    html = <<-HTML
>    <div class="alert alert-error alert-block"> <button type="button"
>     class="close" data-dismiss="alert">x</button>
>     <h4>#{sentence}</h4>
>     #{messages}
>    </div>
>    HTML
> 
>    html.html_safe
>  end
> end 
> ```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-04-20T10:30:57.257

我就是这样做的

```
<% flash.each do |key, value| %>
<div class="message">
   <div class="alert-message <%= key %> fade in">
    <a class="close" href="#">&times</a>
    <center><strong><%= value %></strong></center>
  </div>
</div>
<% end %> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-07-16T07:06:24.403

我发现的最简单的解决方案是对所有闪存消息使用通用部分，同时检查`:notice`并`:alert`替换为必要的引导类。

所以`/views/shared/_alerts.html.erb`像这样 -

```
<% flash.each do |message_type, message| %>
 <div class="alert alert-<%= flash_class_name(message_type) %> alert-dismissable">
  <span><%= message %></span>
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
 </div>
<% end %> 
```

像这样添加一个辅助方法（我已将其添加到应用程序帮助器中） -

```
def flash_class_name(name)
  case name
  when "notice" then "success"
  when "alert"  then "danger"
  else name
  end
end 
```

包含`_alerts.html.erb`在应用程序布局（或应用程序的父布局）中。

就是这样！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-25T16:41:41.400

事情是它`devise_error_messages!`本身将数据包装到 div 中`class='alert'`，因此表单将有 2 个嵌套的 div 具有相同的类。按下`x`按钮将关闭嵌套 div，将空 div 样式设置为`alert`. 为避免这种情况，您可以省略助手返回值中的 div，如下所示：

```
module DeviseHelper
  def devise_error_messages!
    return '' if resource.errors.empty?

    messages = resource.errors.full_messages.map { |msg| content_tag(:li, msg) }.join

    html = <<-HTML
      <button type="button" class="close" data-dismiss="alert">x</button>
      #{messages}
    HTML

    html.html_safe
  end
end 
```

# mysql - MySQL 用户拥有数据库的完全权限

> ID：10241518
> 
> 赞同：2
> 
> 时间：2012-04-20T06:46:00.677
> 
> 标签：mysql, mysql-management

有没有办法赋予用户创建新数据库等的完全权限，但不能访问或查看其他用户创建的数据库？我需要多个用户能够像超级用户一样创建自己的数据库，但不能影响其他用户数据库。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T06:58:39.993

像这样的事情可能会有所帮助。

> 授予所有特权`new_user\_%`。* TO 'new_user'@'%';

这将授予 new_user 仅访问自己创建的数据库的权限。你可以对别人做同样的事情。

希望这可以帮助。

# c# - StackTrace 不返回任何内容

> ID：10241524
> 
> 赞同：1
> 
> 时间：2012-04-20T06:46:50.930
> 
> 标签：c#, exception

我们有一个 Windows 服务，它从 FTP 位置下载文件。如果有异常，我们将发送电子邮件

但 StackTrace 什么也不返回。

```
 public void Send_Mail(string strTitle, Exception ex, string MsgSubject)
        {

            System.Diagnostics.StackTrace StackTrace = new System.Diagnostics.StackTrace(ex,true);
            StringBuilder msgBody = null;
            msgBody = new StringBuilder();
            msgBody.Append(ex.Message);
            try
            {
                if (StackTrace.FrameCount > 0)
                {
                    foreach (StackFrame r in StackTrace.GetFrames())
                    {
                        msgBody.Append(String.Format("Filename: {0} Line: {1} Column: {2} Offset: {3} Method: {4} <br/> ",
                            r.GetFileName(), r.GetFileLineNumber(), r.GetFileColumnNumber(), r.GetILOffset(), r.GetMethod()));
                    }
                }
            }
            catch (Exception exMail)
            {

            }
            finally
            {

            }
        } 
```

# java - 如何在运行时使用注解处理 API？

> ID：10241528
> 
> 赞同：6
> 
> 时间：2012-04-20T06:47:10.660
> 
> 标签：java, annotations, apt

我已经并遵循了 Internet 上的几个 Annotation Processing Tool (APT) 指南（例如[1](http://deors.wordpress.com/2011/10/08/annotation-processors/)和[2](http://blog.christoffer.me/2011/08/how-to-enforce-static-methods-on-class.html)），并设法让它在编译器/构建时工作，甚至让它在 Eclipse 中工作。

有没有一种方法可以在运行时使用 APT 来使用我的注释获取类型（类）列表。

我写了类似的东西：

```
@SupportedAnnotationTypes("com.domain.MyAnnotation")
public class MyAbstractProcessor extends AbstractProcessor {

    public static Map<Element, MyAnnotation> patches = new HashMap<Element, MyAnnotation>();

    @Override
    public boolean process(final Set<? extends TypeElement> annotations, final RoundEnvironment roundEnvironment) {

        // Get all classes that has the annotation
        Set<? extends Element> classElements = roundEnvironment.getElementsAnnotatedWith(MyAnnotation.class);

        // For each class that has the annotation
        for (final Element classElement : classElements) {

            patches.put(classElement, annotation); 
```

因此 MyAbstractProcessor.patches 将使用注释填充类列表。一个崇高的想法，除了这个 APT 在构建时执行而不是运行时的缺陷。

甚至可以在运行时使用 APT 吗？

还是我使用了错误的框架来获得我想要的东西？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-20T06:51:17.423

您可以在运行时使用反射[-getAnnotations](http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getAnnotation%28java.lang.Class%29)访问注释。

要使用您的注释获取类列表（在您的类路径中），您可以 - 在运行时 - 遍历所有测试它们是否具有该注释的类。

或者 - 在构建时 - 您可以构建一个带有类列表的类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T07:00:51.023

[您是否使用RetentionPolicy](http://docs.oracle.com/javase/6/docs/api/java/lang/annotation/RetentionPolicy.html)指定您的注释在运行时可用？如果不是，你需要在你的上使用 @Retention 注释。

```
@Retention(RetentionPolicy.RUNTIME)

public @interface MyAnnotation {
    String[] parameters();
    String[] exceptions();
} 
```

# tomcat - 未授权访问 Tomcat 服务器

> ID：10241539
> 
> 赞同：16
> 
> 时间：2012-04-20T06:48:26.413
> 
> 标签：tomcat, netbeans-7

我在netbeans中使用了glassfish服务器，现在我改为tomcat，当我运行我在glassfish中创建的Web应用程序时出现错误：

```
Deployment error:
 Access to Tomcat server has not been authorized. Set the correct
username and password with the "manager-script" role in the Tomcat
customizer in the Server Manager. 
```

我在 conf/tomcat-user.xml 中添加了一个名为“manager-script”的角色，但我的服务器管理器在哪里？我没找到。请帮我。
谢谢...

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-05-16T15:39:35.480

1.  在中添加以下行`tomcat-users.xml`。

    ```
     <user username="admin" password="password" roles="tomcat,role1,manager-script,manager-gui"/ 
    ```

2.  重启tomcat/服务。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-15T19:18:55.870

在带有 Tomcat 7 和 Netbeans 7 的 Ubuntu 中：

遵循@Satya 说明：

> 检查“Catalina Base”目录的tomcat-users.xml。（右键单击 Apache Tomcat 7.xx（在服务器下）并查找连接选项卡）。

然后你应该确保你`tomcat-users.xml`有这样的东西：

```
<user username="admin" password="admin" roles="manager-script"/> 
```

（如果你**真的想确定**，虽然**不[推荐](https://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html)**，你可以输入`roles="manager-script,manager-gui,manager-status,manager-jmx"`）

此外，您可以在文件夹`build-impl.xml`下查找`nbproject`文件并转到以下行：

```
<nbdeploy clientUrlPart="${client.urlPart}" debugmode="false" forceRedeploy="${forceRedeploy}"/> 
```

`debugmode`从更改`"false"`为`"true"`。这将允许您直接查看 Netbeans 中的错误。

最后，我必须为 tomcat7 ****添加读取权限`tomcat-users.xml`（似乎以 root 身份编辑时权限已更改）并在 tomcat 的 **logs 文件夹中，为运行 Netbeans 的用户**（通常是您的用户）添加权限。我创建了一个`"development"`组并将我的用户添加`tomcat7`到该组，然后我更改了授予读取权限的日志组。

最后一个提示：在 Netbeans**的 Servers 部分中右键单击来启动 Tomcat**，而不是运行`/etc/init.d/tomcat7`start。这样，您将在 Netbeans 控制台中看到日志。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-18T06:13:12.633

在 netbeans 中删除您现有的已注册服务器实例，并向**用户**注册一个新的服务器实例。脚步：

1.  从 Services -> Servers 中删除现有的 tomcat 服务器实例
2.  然后右键单击服务器并单击添加服务器
3.  使用用户创建新的服务器实例

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-01-28T17:43:22.960

如果在 IDE 设置（工具|选项|常规选项卡）中指定了代理，NB 将尝试通过代理连接到 Tomcat 实例。

所以，如果你在 tomcat-users.xml 中进行相关修改后仍然得到这个，请检查你的代理配置。尝试将代理设置设置为“无代理”，然后重试。如果它有效，则说明您的代理设置错误。“localhost”必须在“No Proxy Hosts”列表中。相应地更正。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-05T09:32:57.273

如果你要运行你的网页，但它显示上述错误，那么这是由于 tomcat_user.xml 文件（C:\apache-tomcat-7.0.33\conf）中没有用户信息，所以去那里打开这个文件并只需将这句话写在“……”的末尾即可。

```
<user password="123" roles="manager-script,admin" username="pir fahim" /> 
```

喜欢

```
<tomcat-users>
   .
   .
   .
<user password="123" roles="manager-script,admin" username="pir fahim" /> ///write this at this place in the file
</tomcat-users> 
```

现在复制上面的句子并将其粘贴到您的文件中，只需更改您的姓名和密码，无需更改角色

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-10-25T05:19:40.543

如果有足够的声誉，我真的应该发表评论：

请忽略@Satya 建议删除的第一条评论（至少在 Windows 上 - 这是肯定的）。如果不相信我，请检查[这个](https://stackoverflow.com/a/16591754/1119247)

经过几个小时后，我通过以下方式解决了这个问题：

1.  确保 IDE 和文本编辑器 (notepad++) 以管理员权限启动
2.  按照早期答案中的指示编辑 %TOMCAT INSTALL DIR%\conf\tomcat-users.xml，尤其是这个[关于重复问题的问题](https://stackoverflow.com/a/26068219/1119247)，这[也是](https://stackoverflow.com/a/24118732/1119247)
3.  再次检查该 xml 文件，我的意思是正确的语法错误。使用一个好的 xml 编辑器，notepad++ 帮助我找出我的错误。感谢这个 SO[答案](https://stackoverflow.com/a/22270221/1119247)

4.  保存文件并启动Tomcat

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-05-07T09:59:57.483

**检查IDE中工具>选项**下的代理设置。

 **选择**没有代理**为我解决了这个问题。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-06-07T19:31:42.527

补充其他答案 - 我正在添加用户行，即

```
<user password="123" roles="manager-script,admin" username="pir fahim" /> 
```

正如人们所说，但我缺少的是在那之后简单地重新启动tomcat。

不要忘记重新启动 tomcart 服务，否则更改不会生效。**

# windows - 在 unicode 构建的应用程序中使用非 unicode 库的含义

> ID：10241540
> 
> 赞同：2
> 
> 时间：2012-04-20T06:48:30.783
> 
> 标签：windows, visual-c++, unicode, mfc

我想使用我的 unicode 构建的 MFC 应用程序中的非 unicode 库。但是，我不确定是否有可能发生意外的内存分配、非 unicode 库中的字符串处理等事件。

请解释任何影响或提供资源页面。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-23T07:04:59.800

应用程序是否是 Unicode 是编译时而非运行时的区别 - Unicode 可执行文件无法加载 ANSI DLL 没有内在原因。如果应用程序和 DLL 都使用 MFC，它们将链接到不同的 MFC 运行时，这可能会导致问题，但事实并非如此，你应该没问题。

您需要注意的是确保在 DLL 和应用程序之间传输的任何字符串数据都得到一致的解释。大多数情况下，这只是意味着根据需要在 ANSI 和 Unicode 之间进行转换，而 Windows 提供了 API 函数，使您可以轻松地完成此操作。

但是，您应该检查头文件中是否存在在为 Unicode 编译时与为 ANSI 编译时解释不同的任何数据类型。例如，如果 DLL 函数之一被声明为

```
DWORD process_string(TCHAR * string) 
```

那么非 unicode 库会将 TCHAR 解释为 char，但您的应用程序会将其解释为 wchar_t，从而隐藏您需要在调用函数之前将字符串转换为 ANSI 的事实。

# android - Android：如何在 android 中对两个图像视图执行缩放？

> ID：10241549
> 
> 赞同：0
> 
> 时间：2012-04-20T06:49:03.687
> 
> 标签：android, imageview, zooming, android-framelayout

我的布局中有两个图像。我需要放大我触摸的那个图像。我们知道 Frame 一次只能显示一个视图。那么如何分别对每个图像视图执行缩放？我的 xml 文件：

```
<?xml version="1.0" encoding="utf-8"?>

<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent" >

<ImageView
    android:id="@+id/imageView1"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:gravity="center"
  android:src="@drawable/image1" />

  <ImageView
    android:id="@+id/imageView2"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:gravity="center"   android:src="@drawable/image2"

  />

</FrameLayout> 
```

活动文件：

```
public class MyActivity extends Activity implements OnTouchListener
{
private static final String TAG = "Touch";

// These matrices will be used to scale points of the image
Matrix matrix = new Matrix();
Matrix savedMatrix = new Matrix();

// The 3 states (events) which the user is trying to perform
static final int NONE = 0;
static final int DRAG = 1;
static final int ZOOM = 2;
int mode = NONE;

// these PointF objects are used to record the point(s) the user is touching
PointF start = new PointF();
PointF mid = new PointF();
float oldDist = 1f;

private ImageView iv1;
private ImageView iv2;
@Override
protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);

    setContentView(R.layout.main);

    iv1 = ((ImageView)findViewById(R.id.imageView1));
    iv1.setOnTouchListener(this);

    iv2 = ((ImageView)findViewById(R.id.imageView2));
    iv2.setOnTouchListener(this);

}
@Override
public boolean onTouch(View v, MotionEvent event) {
    switch (v.getId()) {
    case R.id.imageView1:
        zoomImageView(v, event);
        break;
    case R.id.imageView2:
        zoomImageView(v, event);
        break;

    default:
        break;
    }
    return true;
}
private boolean zoomImageView(View v, MotionEvent event) {

    ImageView view = (ImageView) v;
    view.setScaleType(ImageView.ScaleType.MATRIX);
    float scale;

    switch (event.getAction() & 255) 
    {
    case MotionEvent.ACTION_DOWN:   // first finger down only
        savedMatrix.set(matrix);
        start.set(event.getX(), event.getY());
        Log.d(TAG, "mode=DRAG"); // write to LogCat
        mode = DRAG;
        break;

    case MotionEvent.ACTION_UP: // first finger lifted

    case 6: // second finger lifted

        mode = NONE;
        Log.d(TAG, "mode=NONE");
        break;

    case 5: // first and second finger down

        oldDist = spacing(event);
        Log.d(TAG, "oldDist=" + oldDist);
        if (oldDist > 5f) {
            savedMatrix.set(matrix);
            midPoint(mid, event);
            mode = ZOOM;
            Log.d(TAG, "mode=ZOOM");
        }
        break;

    case MotionEvent.ACTION_MOVE:

        if (mode == DRAG) 
        { 
            matrix.set(savedMatrix);
            matrix.postTranslate(event.getX() - start.x, event.getY() - start.y); // create the transformation in the matrix  of points
        } 
        else if (mode == ZOOM) 
        { 
            // pinch zooming
            float newDist = spacing(event);
            Log.d(TAG, "newDist=" + newDist);
            if (newDist > 5f) 
            {
                matrix.set(savedMatrix);
                scale = newDist / oldDist; // setting the scaling of the
                // matrix...if scale > 1 means
                // zoom in...if scale < 1 means
                // zoom out
                matrix.postScale(scale, scale, mid.x, mid.y);
            }
        }
        break;
    }

    view.setImageMatrix(matrix); // display the transformation on screen

    return true; // indicate event was handled

}
private float spacing(MotionEvent event) 
{
    float x = event.getX(0) - event.getX(1);
    float y = event.getY(0) - event.getY(1);
    return FloatMath.sqrt(x * x + y * y);
}

/*
 * --------------------------------------------------------------------------
 * Method: midPoint Parameters: PointF object, MotionEvent Returns: void
 * Description: calculates the midpoint between the two fingers
 * ------------------------------------------------------------
 */

private void midPoint(PointF point, MotionEvent event) 
{
    float x = event.getX(0) + event.getX(1);
    float y = event.getY(0) + event.getY(1);
    point.set(x / 2, y / 2);
}
 } 
```

现在我只能缩放顶部的 image1。如何在触摸 image2 时获得底部图像的缩放功能？我应该能够缩放我触摸的图像。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T02:58:59.123

您可以使用**LinearLayout并以这种方式****水平**或**垂直**对齐它们，您将拥有两个相互独立的图像视图，然后使用**支持**平移缩放和双击的手势图像视图，请参阅下面的链接...。

希望这能回答你的问题：D

点击[这里](https://github.com/jasonpolites/gesture-imageview "您可以使用此参考")！

[https://github.com/jasonpolites/gesture-imageview](https://github.com/jasonpolites/gesture-imageview)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-23T04:36:22.137

使用 ZoomageView 而不是 ImageView。

```
<?xml version="1.0" encoding="utf-8"?>

<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent" >

<com.jsibbold.zoomage.ZoomageView
        android:id="@+id/imageView1"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:gravity="center"
        android:src="@drawable/image1" />

<com.jsibbold.zoomage.ZoomageView
        android:id="@+id/imageView2"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:gravity="center"
        android:src="@drawable/image2" />

</FrameLayout> 
```

添加依赖项：

```
implementation 'com.jsibbold:zoomage:1.1.0' 
```

希望这会帮助你。

# java - Java中的序列化版本uid

> ID：10241554
> 
> 赞同：2
> 
> 时间：2012-04-20T06:49:32.953
> 
> 标签：java, serialization

序列化 id 如何存储在对象的实例中？

我们在Java中声明的Serialization id是静态字段；而静态字段是不被序列化的。

那么应该有一些方法来存储静态最终字段。java是如何做到的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T07:31:52.840

*serialVersionUID*不存储在“序列化”对象的实例中，因为它是一个静态字段（它是类的一部分，而不是对象的一部分）。

因此，`stored`如果它是实际定义的，它在编译的字节码中，否则它是计算的。用[java 规范](http://docs.oracle.com/javase/1.5.0/docs/guide/serialization/spec/class.html)的话来说：

> 如果该类已定义 serialVersionUID，则从该类中检索它。如果 serialVersionUID > 未由类定义，则根据虚拟机中的类定义计算。如果 > 指定的类不可序列化或可外部化，则返回 null。

在[Stream Unique Identifiers 部分](http://docs.oracle.com/javase/1.5.0/docs/guide/serialization/spec/class.html#4100)，解释了这种计算的算法。

这一段值得注意（这就是为什么当实现 Serializable 的类没有明确定义 serialVersionUID 时 IDE 通常会显示警告的原因）。

***注意***：强烈建议所有可序列化的类都显式声明 serialVersionUID 值，因为默认的***serialVersionUID 计算对类细节高度敏感，这些细节可能因编译器实现而异，***因此可能会在反序列化过程中导致意外的 serialVersionUID 冲突，从而导致反序列化失败。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T07:29:40.423

如果您在`java.io.ObjectStreamClass`那里查看，您可以看到它实际上正在被序列化。以下方法：

`java.io.ObjectOutputStream.writeClassDescriptor(ObjectStreamClass)`

调用一个调用以下方法的方法：

`java.io.ObjectStreamClass.getSerialVersionUID()`

哪个计算`serialVersionUID`或使用在类中声明并在调用以下方法之前找到的那个：

`java.io.ObjectStreamClass.getDeclaredSUID(Class)`

所以看起来这个静态字段是静态字段不被序列化的规则的一个例外。

[此处](https://stackoverflow.com/questions/1321988/finding-serialversionuid-of-serialized-object)描述了如何阅读。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-20T07:33:30.577

序列版 UID 不存储在对象中；它是一个静态字段，因此它存储在类定义中。发生的情况是，当您序列化一个对象时，也必须存储有关其类的信息；否则将无法取消序列化对象。存储的关于类的信息包括它的名称和它的序列版本 UID。

您可以在此处阅读整个协议：http: [//docs.oracle.com/javase/6/docs/platform/serialization/spec/protocol.html](http://docs.oracle.com/javase/6/docs/platform/serialization/spec/protocol.html)

总而言之，新对象的条目正是：

```
newObject:
  TC_OBJECT classDesc newHandle classdata[] 
```

这`classDesc`是类的描述符，它可以是新类的声明、空引用或对先前声明的类的引用：

```
classDesc:
  newClassDesc
  nullReference
  (ClassDesc)prevObject 
```

新类的声明建立了类的名称和序列版本 UID，可用于稍后引用它的句柄，以及编码为的类的附加信息`classDescInfo`：

```
newClassDesc:
  TC_CLASSDESC className serialVersionUID newHandle classDescInfo 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-20T07:32:10.310

这`serialVersionUID`是序列化运行时使用的特殊字段。这一切都在[java.lang.Serializable的 Java 文档中进行了描述](http://docs.oracle.com/javase/6/docs/api/java/io/Serializable.html)

# sql - 如何更改视图中新创建列的数据类型？SQL

> ID：10241555
> 
> 赞同：0
> 
> 时间：2012-04-20T06:49:35.993
> 
> 标签：sql, sql-server

我正在使用 sql 和 sql-server

我在带有案例的视图中创建了一个新列。问题如下：我相信新创建的列具有默认数据类型。

我的问题是**如何在创建新列时定义它的数据类型？**我尝试过使用转换和转换。

```
 ALTER VIEW [dbo].[vtbl_dim_vb]
    AS
    SELECT    
      vb_key,ver_login,
      ver_name,
      ver_klass_descr,
      CAST(ver_klass AS varchar(40)) + ' ' + ver_klass_descr AS klass_descr_d,
      store_code,
      store_name,
      CASE WHEN LEFT(ver_klass, 1) = 'S' THEN ver_klass ELSE NULL END AS ver_sector,
      CASE WHEN LEFT(ver_klass, 1) = 'M' THEN ver_klass ELSE NULL END AS ver_metier,
      CASE WHEN LEFT(ver_klass, 1) <> 'S' AND LEFT(ver_klass, 1) <> 'M' THEN ver_klass ELSE NULL END AS ver_rayon
    FROM         
      dbo.tbl_dim_vb 
```

我曾尝试使用 cast 命令，但没有奏效：

```
 CAST ( expression AS data_type [ ( length ) ] ) 
```

我想知道我对第三种情况有什么选择。

这就是我尝试过的代码的样子：

```
CASE WHEN LEFT(ver_klass, 1) <> 'S' AND LEFT(ver_klass, 1) <> 'M' THEN ver_klass ELSE NULL END AS CAST ( ver_rayon AS int(10) ) 
```

我需要新创建的列 ver_rayon 是整数数据类型。

非常感谢您的任何建议；)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T06:56:13.947

也许是这样的：

```
CAST(
(
  CASE 
  WHEN LEFT(ver_klass, 1) <> 'S' AND LEFT(ver_klass, 1) <> 'M' 
  THEN ver_klass 
  ELSE NULL 
  END
) AS INT)
AS ver_rayon 
```

# android - 在共享首选项中如何在 android 应用程序中存储字符串数组

> ID：10241556
> 
> 赞同：3
> 
> 时间：2012-04-20T06:49:41.627
> 
> 标签：android, sharedpreferences

在我的应用程序中，我在基本适配器中使用列表视图。

当我单击项目时，它的 id 以共享首选项字符串数组格式存储。如何像这样以字符串数组格式[1,2,5,6]保存多个项目ID

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-20T07:02:49.000

您也可以尝试使用`JSONArray`JSON `light-weight`，您可以创建一个`JSONArray`并将其作为字符串写入 SharedPreference。

**来写，**

```
 SharedPreferences prefs = PreferenceManager
                .getDefaultSharedPreferences(this);
        JSONArray jsonArray = new JSONArray();
        jsonArray.put(1);
        jsonArray.put(2);
        Editor editor = prefs.edit();
        editor.putString("key", jsonArray.toString());
        System.out.println(jsonArray.toString());
        editor.commit(); 
```

**读书，**

```
 try {
            JSONArray jsonArray2 = new JSONArray(prefs.getString("key", "[]"));
            for (int i = 0; i < jsonArray2.length(); i++) {
                 Log.d("your JSON Array", jsonArray2.getInt(i)+"");
            }
        } catch (Exception e) {
            e.printStackTrace();
        } 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-20T06:55:46.257

如果您使用的是 API 11，那么可以使用`putStringSet`. 否则，您可以将字符串数组转换为@hotverispicy 提到的单个字符串，或者使用 SQLite 数据库

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-20T06:54:56.117

`,`您可以通过（逗号）分隔符将其保存为字符串，并在获取时仅使用`split()`

```
string toPut="";

toPut += "listItem,"; 
```

设置为*放入*你的`SharePreference`和 commit()

要在数组中获得相同的结果： get *prefString* from`SharePreference`

```
String[] fetchArray= prefString.split(","); 
```

# android - Android中的网络连接检查费用？

> ID：10241562
> 
> 赞同：0
> 
> 时间：2012-04-20T06:49:58.117
> 
> 标签：android, networking

我有这个代码：

```
 NetworkInfo netInfo = m_NetworkManager.getActiveNetworkInfo();
    boolean bConnected = (netInfo != null) && netInfo.isConnected() 
```

我打算在每个网络请求之前使用它。这段代码耗时吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:03:43.130

不，这应该不是问题。如果它是您的设计要求，请使用它。但是，如果您真的想查看此代码消耗的时间，那么您也可以轻松计算它。

# mysql - MySQL 事件有多昂贵？

> ID：10241567
> 
> 赞同：14
> 
> 时间：2012-04-20T06:50:34.153
> 
> 标签：mysql, sql, database, crontab, schedule

在我的 web 应用程序中，我使用两个重复事件来“清理”数据库中的一个表，它们每 15 分钟左右执行一次。

我的问题是，这会导致未来的性能问题吗？因为我在某个地方读到过——我不记得具体在哪里——MySQL[事件](http://dev.mysql.com/doc/refman/5.1/en/events.html)应该安排在一个月左右运行一次。问题是，同样的事件使表的大小大大减小（因为它们删除了超过 15 分钟的记录），也许这可以补偿它们的执行频率，对吧？

此外，如果以相同的频率调用它们，是一个大的 MySQL 事件还是多个小的事件更好？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-20T06:56:23.387

我认为*每月基数*中没有性能指标，而只是对如何处理它的建议。所以我认为你可以使用这些事件进行清理。

最后，[文档](http://dev.mysql.com/doc/refman/5.1/en/events-overview.html)表明这些事件是

> 从概念上讲，这类似于 Unix crontab（也称为“cron 作业”）或 Windows 任务计划程序的想法。

这些概念是，如果您愿意，您可以每分钟运行一个任务。

* * *

关于该问题的第二部分：

序列化或传播它。如果您将它们拆分为将同时运行的多个事件，您将创建可能非常高的 CPU 使用率峰值，这可能会在处理事件时减慢应用程序的速度。

因此，要么将所有内容打包成一个事件，使其连续运行，要么将单个事件分散，以便它们在 15 分钟的时间范围内的不同时间执行。就我个人而言，我认为第一个是首选，将它们打包成一个事件，因为这样它们就可以保证连续运行，即使其中一个运行时间比平时更长。

cronjobs 也是如此。如果您一次处理 30 个长时间运行的导出，那么您的应用程序将在该时间段内惨遭失败（很难学到这一点）。

# version-control - 代码行分支最佳实践

> ID：10241576
> 
> 赞同：0
> 
> 时间：2012-04-20T06:51:26.523
> 
> 标签：version-control

在发布版本之后，我们通常会切换到主代码线并继续工作，直到产品足够稳定。此时，我们分支下一个主要版本的代码线并添加收尾工作。

在下一个主要版本分支中立即开始工作有什么问题？我们可以从一开始就准备最终的构建/测试过程，而不是在开发结束时那些忙碌的日子。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:12:26.387

通过“发布版本”，我假设您的意思是您有一个“发布分支”，我假设您的问题是为什么不只有“发布分支”而不是许多“发布分支”和“主分支”。

“最佳实践”在很大程度上取决于您的方法、您的要求、您的团队规模和结构（可能还取决于您的源代码控制软件）例如，即使在一个非常简单的模型上，您也需要一个可以同时进行正常开发工作*的*地方稳定工作。

因此，如果在稳定工作开始后您只有“发布分支”，则无法将新代码添加到分支中，因为它会破坏稳定过程。因此，任何与稳定性没有直接关联的工程师都无法签到。

我通常认为“主”分支是我理想的开发线，一个通过了开发分支的一些最低正确性标准的代码被合并的地方。这也是在“发布分支”上制作的错误修复等代码的地方并入

我有一个或多个开发分支（这实际上取决于您的团队结构），它们的正确性标准较少，开发人员可以随意编写代码。一旦开发分支中的代码达到一定程度的成熟度，就会合并到 MAIN 中。

一旦 MAIN 中的代码再次达到我理想的成熟度，我就会创建发布分支，稳定工作继续进行。有时，包含错误修复的发布分支的代码会合并回 MAIN 分支。

您可能需要查看[MS TFS 分支指南](http://branchingguidance.codeplex.com/)。

还有[来自 perforce 的这份白皮书](http://www.perforce.com/sites/default/files/pdf/perforce-best-practices.pdf)

# asp.net-mvc - 如何使用 EF 将参数传递给 mvc 3 中的存储过程？

> ID：10241581
> 
> 赞同：0
> 
> 时间：2012-04-20T06:52:20.547
> 
> 标签：asp.net-mvc, asp.net-mvc-3, entity-framework, stored-procedures

我有 mvc 3 应用程序，其中在会话对象中我将我需要的所有值作为参数来执行存储过程。

如果 userAction 是更新，则执行存储过程。

```
 public ActionResult Index(string userAction)
    {
       if(Session["Mappings"] != null)           
            ViewData["Message"] = "Mapping web grid";

        if (Session["PricingSecurities"] == null)
            Session["PricingSecurities"] = objRepository.GetPricingSecurityID();
        if (Session["Cusips"] == null)
            Session["Cusips"] = objRepository.GetCUSIP();

        SecurityMappingModel objModel = null;
        mappings = (List<SecurityMappingModel>)Session["Mappings"];

        objModel = new SecurityMappingModel();

        if (userAction == "Update" )
        {
            //please tell me how can i take values from Session[Mappings] and pass it to stored procedure?

            return RedirectToAction("Index");
        }
        objModel.PricingSecirities = (List<SelectListItem>)Session["PricingSecurities"];
        objModel.Cusips = (List<SelectListItem>)Session["Cusips"];
        ViewBag.Mappings = mappings;
        return View(objModel);
    } 
```

如何从 Session[Mappings] 中获取值并将其传递给存储过程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T15:25:53.957

你需要做这样的事情：

```
 using (MyEntitiesDataModel context = new MyEntitiesDataModel())
    {
        context.ExecuteStoreCommand(
            "exec MyStoredProc @param1={0}, @param2={1}",
            Session["foo"], Session["bar"]);
    } 
```

...其中**MyEntitiesDataModel**是您的 EF 数据模型，而**MyStoredProc**是您的存储过程的名称。

# python - 如何从代码中的不同点访问全局变量

> ID：10241582
> 
> 赞同：2
> 
> 时间：2012-04-20T06:52:22.593
> 
> 标签：python, python-3.x

我正在尝试找到一种方法，基本上可以`eval`使用代码中不同位置的上下文来进行后期处理。例如，我有一个 class `Friend`，它可以像这样使用：

```
>>> class A:
...     friend = Friend('B')
...
>>> class B:
...     friend = Friend('A')
...
>>> A.friend.getobject()
<class '__main__.B'> 
```

但是，`Friend`在代码的其他地方，在一个单独的库中定义，看起来像这样：

```
class Friend:

    def __init__(self, objname):
        self.objname = objname

    def getobject(self):
        return eval(self.objname, original_context) 
```

sqlalchemy ORM 具有用于定义列的类似模式，但它们通过跟踪会话中所有拥有的类（即表）来实现它。如果需要，我可以做类似的事情，但我想知道是否有其他方法可以做到这一点。我一直在查看框架和解释器堆栈，我想我可以使用类似的东西来访问相关框架的本地人`inspect.stack()[1][0].f_locals`，但我必须这样做，在`Frame.__init__`定义对象之前调用它。

我的问题是如何找到`original_context`，但只在需要的时候。这归结为两个问题： 1\. 如何访问`Friend`被实例化的环境（或框架？）。`getobject`2.调用当时如何访问。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:02:19.557

您将必须使用完全限定的类名，即：

```
 class A:
     friend = Friend('themodule.B') 
```

然后取出该字符串，提取模块并导入 B 类，并像这样生成它。

但是，一般来说，更好的方法是：

```
 class A:
     friend = Friend(B) 
```

在这种情况下，此时没有定义 B，但您可以轻松地执行以下操作：

```
class A:
    pass

class B:
    pass

A.friend = Friend(B)
B.friend = Friend(A) 
```

# c# - Silverlight/XNA 动画滞后

> ID：10241597
> 
> 赞同：6
> 
> 时间：2012-04-20T06:53:53.967
> 
> 标签：c#, silverlight, windows-phone-7, xna

当我使用 XNA 框架（适用于 windows Phone）时，我的游戏运行良好，但是当我在 Silverlight/XNA 框架上迁移时，我遇到了动画滞后的问题。问题如下：当我将固定时间步设置为 GameTimer (timer.UpdateInterval = TimeSpan.FromTicks(333333)) 时，实际时间步不固定，并且计时器事件（OnUpdate、OnDraw）以不同的间隔触发。这段代码更清楚地显示了我的问题：

Silverlight/XNA 框架：（动画滞后）：

```
TimeSpan curNow;
TimeSpan lastUpdate;
TimeSpan lastDraw;

public GamePage()
{
    timer = new GameTimer();
    timer.UpdateInterval = TimeSpan.FromTicks(333333);
    timer.Update += OnUpdate;
    timer.Draw += OnDraw;
}

private void OnUpdate(object sender, GameTimerEventArgs e)
{    
    curNow = new TimeSpan(DateTime.Now.Ticks);
    TimeSpan elapsed=e.ElapsedTime;//Always constant and has value: 33ms
    TimeSpan realElapsed =  curNow  -  lastUpdate;//Real elapsed time always changing and has a value between: 17-39ms (sometimes more then 39ms)
    lastUpdate =  curNow;
}

private void OnDraw(object sender, GameTimerEventArgs e)
{
    curNow = new TimeSpan(DateTime.Now.Ticks);
    TimeSpan elapsed=e.ElapsedTime;//Always changing and has a value between: 17-39ms (sometimes more then 39ms)
    TimeSpan realElapsed =  curNow  -lastDraw;//Always changing and has a value between: 17-39ms (sometimes more then 39ms)
    lastDraw=  curNow;
} 
```

XNA 框架：（一切正常）：

```
TimeSpan curNow;
TimeSpan lastUpdate;
TimeSpan lastDraw;

public Game()
{
    // Frame rate is 30 fps by default for Windows Phone.
    TargetElapsedTime = TimeSpan.FromTicks(333333);
}

protected override void Update(GameTime gameTime)
{    
    curNow = new TimeSpan(DateTime.Now.Ticks);
    TimeSpan elapsed=gameTime.ElapsedGameTime;//Always constant and has value: 33ms
    TimeSpan realElapsed =  curNow - lastUpdate;//Real elapsed time has a value between: 34-35ms (sometimes more then 35ms)
    lastUpdate = curNow;
}

protected override void Draw(GameTime gameTime)
{    
    curNow = new TimeSpan(DateTime.Now.Ticks);
    TimeSpan elapsed=gameTime.ElapsedGameTime ;//Value between: 33-34ms (sometimes more then 34ms)
    TimeSpan realElapsed = curNow - lastDraw;//Value between: 34-35ms (sometimes more then 35ms)
    lastDraw = curNow;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-20T07:53:53.953

改成

```
TimeSpan.Zero; 
```

是的，我知道这感觉很奇怪，而且非常奇怪。从一些官方游戏指南中得到它。除非我使用它，否则我的游戏会像疯了一样落后。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-20T08:20:58.093

基于视频游戏行业多年的进出：*您不应该在 Silverlight/XNA/Mobile 中针对固定帧速率制作动画*。

如果可能的话，将您的应用程序更改为仅在游戏时间之外运行，而不是针对假定的固定帧速率运行（您永远不会在移动设备上获得 -*至少在它们变得更强大之前*）。

XNA 游戏方法采用 a 的原因`GameTime`是因为您不能依赖帧速率……永远。

不要和市政厅打架……按照标准去。使您的应用程序尽可能快（例如，如果您的动画在一帧中跳得太远），或者减慢您的动画速度以适应平台（即减慢您的游戏/应用程序的速度）。

*注意： Silverlight 动画通常看起来比 Flash 动画更流畅的原因是因为一切都是基于时间和插值的，而不是固定帧。*

# titanium - 创建 Titanium android 模块时出现错误 258

> ID：10241599
> 
> 赞同：0
> 
> 时间：2012-04-20T06:54:22.603
> 
> 标签：titanium, titanium-mobile, titanium-modules

我正在尝试用钛创建一个 android 模块。

我收到以下错误：

```
Buildfile: C:\Users\dhairya\workspace\titanium-testandroidmodule\build.xml
init:
    [mkdir] Created dir: C:\Users\dhairya\workspace\titanium-testandroidmodule\build\classes
    [mkdir] Created dir: C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated
    [mkdir] Created dir: C:\Users\dhairya\workspace\titanium-testandroidmodule\dist
process.annotations:
    [mkdir] Created dir: C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\json
    [javac] Compiling 2 source files to C:\Users\dhairya\workspace\titanium-testandroidmodule\build\classes
    [javac] Note: [KrollBindingGen] Running Kroll binding generator.
    [javac] Note: [KrollBindingGen] No binding data found, creating new data file: org.appcelerator.titanium.bindings/testandroidmodule.json
    [javac] Note: [KrollBindingGen] Found binding for proxy Example
    [javac] Note: [KrollBindingGen] Found binding for module Testandroidmodule
    [javac] Note: [KrollBindingGen] Generating JSON: file:/C:/Users/dhairya/workspace/titanium-testandroidmodule/build/generated/json/org/appcelerator/titanium/bindings/testandroidmodule.json
    [javac] warning: The following options were not recognized by any processor: '[kroll.checkTiContext]'
    [javac] Note: C:\Users\dhairya\workspace\titanium-testandroidmodule\src\com\test\testandroidmodule\ExampleProxy.java uses or overrides a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation for details.
generate.rhino.bindings:
     [java] Generating C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\java\com\test\testandroidmodule\TestandroidmoduleModulePrototype.java
     [java] Generating C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\java\com\test\testandroidmodule\ExampleProxyPrototype.java
     [java] Generating C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\java\testandroidmoduleGeneratedBindings.java
generate.rhino.idswitch:
     [echo] Generating IDs for C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\java\com\test\testandroidmodule\ExampleProxyPrototype.java
     [echo] Generating IDs for C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\java\com\test\testandroidmodule\TestandroidmoduleModulePrototype.java
     [echo] Generating IDs for C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\java\testandroidmoduleGeneratedBindings.java
generate.v8.bindings:
     [java] Generating C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\jni\com.test.testandroidmodule.TestandroidmoduleModule.h
     [java] Generating C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\jni\com.test.testandroidmodule.TestandroidmoduleModule.cpp
     [java] Generating C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\jni\com.test.testandroidmodule.ExampleProxy.h
     [java] Generating C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\jni\com.test.testandroidmodule.ExampleProxy.cpp
generate.bindings:
pre.compile:
ndk.build:
     [copy] Copying 1 file to C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated
     [copy] Copying 1 file to C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\jni
     [exec] jni/Android.mk:24: warning: overriding commands for target `C:/Users/dhairya/workspace/titanium-testandroidmodule/build/generated/KrollGeneratedBindings.cpp'
     [exec] jni/Android.mk:24: warning: ignoring old commands for target `C:/Users/dhairya/workspace/titanium-testandroidmodule/build/generated/KrollGeneratedBindings.cpp'
     [exec] jni/Android.mk:27: warning: overriding commands for target `C:/Users/dhairya/workspace/titanium-testandroidmodule/build/generated/BootstrapJS.cpp'
     [exec] jni/Android.mk:27: warning: ignoring old commands for target `C:/Users/dhairya/workspace/titanium-testandroidmodule/build/generated/BootstrapJS.cpp'
     [exec] /usr/bin/sh: -c: line 1: syntax error: unexpected end of file
     [exec] make: *** [C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated/obj/local/armeabi/objs/com.test.testandroidmodule/com.test.testandroidmodule.ExampleProxy.o] Error 258

BUILD FAILED
C:\Users\dhairya\AppData\Roaming\Titanium\mobilesdk\win32\2.0.1.GA2\module\android\build.xml:236: C:\Users\dhairya\workspace\titanium-testandroidmodule\build\generated\libs does not exist.

Total time: 3 seconds 
```

知道有什么问题吗？我刚刚使用命令创建了一个默认的 android 模块：

`titanium create --platform=android --type=module --name=testandroidmodule --id=com.test.testandroidmodule --android=C:\Android\android-sdk`

在 build.property 文件中添加了 android-ndk 路径 这是 build.property 文件：

```
titanium.platform=C:\\Users\\dhairya\\AppData\\Roaming\\Titanium\\mobilesdk\\win32\\2.0.1.GA2\\android
android.platform=C:\\Android\\android-sdk\\platforms\\android-8
google.apis=C:\\Android\\android-sdk\\add-ons\\addon-google_apis-google_inc_-8
android.ndk=C:\\Android\\android-ndk\\android-ndk-r7b 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-28T10:10:48.120

`C:\RhoStudio\devkit\bin;`从路径变量中删除`System Variables`解决了这个问题。钛mobilesdk版本：2.0.1.GA2

# unit-testing - Selenium RC 不适用于最新的谷歌浏览器

> ID：10241606
> 
> 赞同：0
> 
> 时间：2012-04-20T06:55:21.327
> 
> 标签：unit-testing, google-chrome, selenium

我正在使用`selenium RC version-2.21`. 旧的谷歌浏览器一切正常。然后它会自动更新。问题是当我运行测试用例时，只有命令窗口（您可以看到正在执行哪个命令的窗口）可见。第二个窗口（AUT）不可见。我的谷歌浏览器版本是`18.0.1025.162 m`. 请帮助解决这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T14:01:32.703

每当 Chrome 更新时，您可能需要一个新版本的“chromedriver”界面。这是由 Chrome 人员提供的，而不是由 Selenium 人员提供的。转到[http://code.google.com/p/chromedriver/downloads/list](http://code.google.com/p/chromedriver/downloads/list)并找到与您的浏览器匹配的那个。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-09T03:44:10.723

解决办法是加一句最大化AUT窗口。

您必须添加：

```
seleniumClient.windowMaximize(); 
```

启动硒客户端实例后。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-23T00:49:04.840

您收到错误消息吗？或者浏览器只是不可见（我假设您的意思根本不是它只是最小化？）。正如[Selenium RC 的文档](http://seleniumhq.org/docs/05_selenium_rc.html)所暗示的那样，并非所有浏览器版本都受支持（在这种情况下这对您来说显然很糟糕！=[）因此您可能必须查看 Selenium WebDriver，或等待 Selenium RC 的新版本来处理新的 Chrome。抱歉，这并不能真正为您解决任何问题！

# java - 构建应用程序时出错 - 与 http://ws.zones.apache.org 的连接被拒绝

> ID：10241608
> 
> 赞同：0
> 
> 时间：2012-04-20T06:55:41.203
> 
> 标签：java, apache, maven, jar

我正在尝试使用 Maven 构建应用程序。

**pom.xml**

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.sjagdeesh.application</groupId>
    <artifactId>sample-ref-app</artifactId>
    <packaging>war</packaging>
    <version>2.0.0</version>
    <name>sample-ref-app Maven Webapp</name>
    <url>http://maven.apache.org</url>
    <build>

        <plugins>
                 <plugin>
                <groupId>org.codehaus.cargo</groupId>
                <artifactId>cargo-maven2-plugin</artifactId>
                <configuration>
                    <container>
                        <containerId>tomcat6x</containerId>
                        <type>remote</type>
                    </container>
                    <configuration>
                        <type>runtime</type>
                        <properties>
                            <cargo.tomcat.manager.url>${tomcat.manager.url}</cargo.tomcat.manager.url>
                            <cargo.remote.username>${remote.username}</cargo.remote.username>
                            <cargo.remote.password>${remote.password}</cargo.remote.password>
                        </properties>
                    </configuration>
                    <deployer>
                        <type>remote</type>
                        <deployables>
                            <deployable>
                                <groupId>com.sjagdeesh.application</groupId>
                                <artifactId>sampleapp-web</artifactId>
                                <type>war</type>
                            </deployable>
                        </deployables>
                    </deployer>
                </configuration>
            </plugin>

            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.0.2</version>
                <configuration>
                    <source>1.6</source>
                    <target>1.6</target>
                </configuration>
            </plugin>

            <plugin>
                <groupId>org.jibx</groupId>
                <artifactId>maven-jibx-plugin</artifactId>
                <version>1.2.1</version>
                <configuration>

                    <directory>src/main/resources</directory>
                    <includes>
                        <includes>*binding.xml</includes>
                    </includes>
                    <verbose>true</verbose>
                </configuration>
                <executions>
                    <execution>
                        <phase>compile</phase>
                        <goals>
                            <goal>bind</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
        </plugins>
        <finalName>refapp-web</finalName>
    </build>
    <dependencies>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>servlet-api</artifactId>
            <version>2.3</version>
            <scope>provided</scope>
        </dependency>
        <dependency>
            <groupId>org.apache.axis2</groupId>
            <artifactId>axis2</artifactId>
            <version>1.4.1</version>
        </dependency>
        <dependency>
            <groupId>org.apache.axis2</groupId>
            <artifactId>axis2-spring</artifactId>
            <version>1.4.1</version>
            <exclusions>
                <exclusion>
                    <groupId>xerces</groupId>
                    <artifactId>xercesImpl</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>xalan</groupId>
                    <artifactId>xalan</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.apache.camel</groupId>
            <artifactId>camel-core</artifactId>
            <version>1.5.0</version>
        </dependency>
        <dependency>
            <groupId>org.apache.camel</groupId>
            <artifactId>camel-spring</artifactId>
            <version>1.5.0</version>
        </dependency>
        <dependency>
            <groupId>org.apache.camel</groupId>
            <artifactId>camel-jms</artifactId>
            <version>1.5.0</version>
        </dependency>
        <dependency>
            <groupId>commons-logging</groupId>
            <artifactId>commons-logging</artifactId>
            <version>1.1</version>
        </dependency>
        <dependency>
            <groupId>commons-lang</groupId>
            <artifactId>commons-lang</artifactId>
            <version>2.4</version>
        </dependency>
        <dependency>
            <groupId>org.apache.axis2</groupId>
            <artifactId>axis2</artifactId>
            <version>1.4.1</version>
        </dependency>
        <dependency>
            <groupId>org.apache.axis2</groupId>
            <artifactId>axis2-kernel</artifactId>
            <version>1.4.1</version>
            <exclusions>
                <exclusion>
                    <groupId>xerces</groupId>
                    <artifactId>xercesImpl</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>xerces</groupId>
                    <artifactId>xmlParserAPIs</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>xalan</groupId>
                    <artifactId>xalan</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.jibx</groupId>
            <artifactId>jibx-bind</artifactId>
            <version>1.2.1</version>
        </dependency>
        <dependency>
            <groupId>org.jibx</groupId>
            <artifactId>jibx-run</artifactId>
            <version>1.2.1</version>
        </dependency>
        <dependency>
            <groupId>org.apache.camel</groupId>
            <artifactId>camel-jetty</artifactId>
            <version>1.5.0</version>
            <exclusions>
                <exclusion>
                    <groupId>org.apache.geronimo.specs</groupId>
                    <artifactId>geronimo-servlet_2.4_spec</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.mortbay.jetty</groupId>
                    <artifactId>servlet-api-2.5</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.apache.ws.commons.neethi
        </groupId>
            <artifactId>neethi</artifactId>
            <version>2.0.1</version>
        </dependency>
        <dependency>
            <groupId>org.apache.rampart</groupId>
            <artifactId>rampart-core</artifactId>
            <version>1.4</version>
            <exclusions>
                <exclusion>
                    <groupId>bouncycastle</groupId>
                    <artifactId>bcprov-jdk13</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>xml-apis</groupId>
                    <artifactId>xml-apis</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>xalan</groupId>
                    <artifactId>xalan</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>xerces</groupId>
                    <artifactId>xercesImpl</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>jaxen</groupId>
                    <artifactId>jaxen</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>jaxen</groupId>
            <artifactId>jaxen</artifactId>
            <version>1.1.1</version>
            <exclusions>
                <exclusion>
                    <groupId>xml-apis</groupId>
                    <artifactId>xml-apis</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>xalan</groupId>
                    <artifactId>xalan</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>xerces</groupId>
                    <artifactId>xmlParserAPIs</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>xerces</groupId>
                    <artifactId>xercesImpl</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-core</artifactId>
            <version>${spring.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-beans</artifactId>
            <version>${spring.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-context</artifactId>
            <version>${spring.version}</version>
        </dependency>
         <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-web</artifactId>
            <version>${spring.version}</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-context-support</artifactId>
            <version>${spring.version}</version>
        </dependency>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.6</version>
            <scope>test</scope>
        </dependency>
    </dependencies>
    <properties>
        <spring.version>3.0.2.RELEASE</spring.version>
        </properties>

            <dependencies>
                <dependency>
                    <groupId>xalan</groupId>
                    <artifactId>xalan</artifactId>
                    <version>2.7.0</version>
                    <scope>provided</scope>
                </dependency>
            </dependencies>

            <dependencies>
                <dependency>
                    <groupId>javax.xml.bind</groupId>
                    <artifactId>jaxb-api</artifactId>
                    <version>2.1</version>
                    <scope>provided</scope>
                </dependency>
                <dependency>
                    <groupId>com.sun.xml.bind</groupId>
                    <artifactId>jaxb-impl</artifactId>
                    <version>2.1.6</version>
                    <scope>provided</scope>
                </dependency>
                <dependency>
                    <groupId>xerces</groupId>
                    <artifactId>xercesImpl</artifactId>
                    <version>2.8.1</version>
                    <scope>provided</scope>
                    <exclusions>
                        <exclusion>
                            <artifactId>xml-apis</artifactId>
                            <groupId>xml-apis</groupId>
                        </exclusion>
                    </exclusions>
                </dependency>
                <dependency>
                    <artifactId>xml-apis</artifactId>
                    <groupId>xml-apis</groupId>
                    <version>2.0.2</version>
                    <scope>provided</scope>
                </dependency>
            </dependencies>

                    <dependencies>
                <dependency>
                    <groupId>javax.xml.bind</groupId>
                    <artifactId>jaxb-api</artifactId>
                    <version>2.1</version>
                </dependency>
                <dependency>
                    <groupId>com.sun.xml.bind</groupId>
                    <artifactId>jaxb-impl</artifactId>
                    <version>2.1.6</version>
                </dependency>
                <dependency>
                    <groupId>xerces</groupId>
                    <artifactId>xercesImpl</artifactId>
                    <version>2.8.1</version>
                    <exclusions>
                        <exclusion>
                            <artifactId>xml-apis</artifactId>
                            <groupId>xml-apis</groupId>
                        </exclusion>
                    </exclusions>
                </dependency>
                <dependency>
                    <artifactId>xml-apis</artifactId>
                    <groupId>xml-apis</groupId>
                    <version>2.0.2</version>
                </dependency>
            </dependencies>

</project> 
```

当我运行安装命令

```
mvn clean install 
```

我收到此错误

```
[INFO] ------------------------------------------------------------------------
[INFO] Building ref-app-services-provider Maven Webapp 1.5.0
[INFO] ------------------------------------------------------------------------
Downloading: http://repo.maven.apache.org/maven2/org/apache/ws/commons/neethi/neethi/2.0.1/neethi-2.0.1.pom
[WARNING] The POM for org.apache.ws.commons.neethi:neethi:jar:2.0.1 is missing, no dependency information available
Downloading: http://repo.maven.apache.org/maven2/bouncycastle/bcprov-jdk13/132/bcprov-jdk13-132.pom
Downloading: http://people.apache.org/repo/m2-snapshot-repository/bouncycastle/bcprov-jdk13/132/bcprov-jdk13-132.pom
Downloading: http://ws.zones.apache.org/repository2/bouncycastle/bcprov-jdk13/132/bcprov-jdk13-132.pom
Downloading: http://repo1.maven.org/maven2/bouncycastle/bcprov-jdk13/132/bcprov-jdk13-132.pom
Downloading: http://repo.maven.apache.org/maven2/org/apache/santuario/xmlsec/1.4.1/xmlsec-1.4.1.pom
Downloading: http://people.apache.org/repo/m2-snapshot-repository/org/apache/santuario/xmlsec/1.4.1/xmlsec-1.4.1.pom
Downloading: http://ws.zones.apache.org/repository2/org/apache/santuario/xmlsec/1.4.1/xmlsec-1.4.1.pom
Downloading: http://repo.maven.apache.org/maven2/org/springframework/spring-beans/2.5.1/spring-beans-2.5.1.pom
Downloaded: http://repo.maven.apache.org/maven2/org/springframework/spring-beans/2.5.1/spring-beans-2.5.1.pom (3 KB at 1.8 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/springframework/spring-web/2.5.1/spring-web-2.5.1.pom
Downloaded: http://repo.maven.apache.org/maven2/org/springframework/spring-web/2.5.1/spring-web-2.5.1.pom (5 KB at 6.5 KB/sec)
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 57.403s
[INFO] Finished at: Fri Apr 20 11:40:48 IST 2012
[INFO] Final Memory: 5M/15M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal on project ref-app-services-provider-web: ref-app-services-provider-web:war:1.5.0: Failed to collect dependencies for [javax.servlet:servlet-api:jar:2.3 (provided), com.sjagdeesh.application:integration:jar:3
.1.0 (compile), org.apache.axis2:axis2:jar:1.4.1 (compile), org.apache.axis2:axis2-spring:jar:1.4.1 (compile), org.apache.camel:camel-core:jar:1.5.0 (
compile), org.apache.camel:camel-spring:jar:1.5.0 (compile), org.apache.camel:camel-jms:jar:1.5.0 (compile), commons-logging:commons-logging:jar:1.1 (
compile), commons-lang:commons-lang:jar:2.4 (compile), org.apache.axis2:axis2-kernel:jar:1.4.1 (compile), org.jibx:jibx-bind:jar:1.2.1 (compile), org.
jibx:jibx-run:jar:1.2.1 (compile), org.apache.camel:camel-jetty:jar:1.5.0 (compile), org.apache.ws.commons.neethi:neethi:jar:2.0.1 (compile), org.apac
he.rampart:rampart-core:jar:1.4 (compile), jaxen:jaxen:jar:1.1.1 (compile), org.springframework:spring-core:jar:3.0.2.RELEASE (compile), org.springfra
mework:spring-beans:jar:3.0.2.RELEASE (compile), org.springframework:spring-context:jar:3.0.2.RELEASE (compile), org.springframework:spring-web:jar:3.
0.2.RELEASE (compile), org.springframework:spring-context-support:jar:3.0.2.RELEASE (compile), junit:junit:jar:4.6 (test), javax.xml.bind:jaxb-api:jar
:2.1 (provided), com.sun.xml.bind:jaxb-impl:jar:2.1.6 (provided), xerces:xercesImpl:jar:2.8.1 (provided), xml-apis:xml-apis:jar:2.0.2 (provided)]: Fai
led to read artifact descriptor for bouncycastle:bcprov-jdk13:jar:132: Could not transfer artifact bouncycastle:bcprov-jdk13:pom:132 from/to apache-ws
-snapshots2 (http://ws.zones.apache.org/repository2): Connection to http://ws.zones.apache.org refused: Connection timed out: connect -> [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException 
```

我已经交叉检查了错误堆栈中提到的所有 jar 都存在于 m2 存储库中。

有人可以帮我解决，为什么会出现这个错误

> 连接到[http://ws.zones.apache.org](http://ws.zones.apache.org)被拒绝：连接超时：连接 -> [帮助 1]

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-07T17:09:18.940

我在另一个使用 Axis2 的项目中遇到了同样的问题。问题是中央存储库中缺少特定 org.apache.ws.commons.neethi:neethi:2.0.1 的 POM 文件，但是目录和 jar 存在。Maven 2.2.1 似乎并不关心这个问题，但是 Maven 3（和 M2Eclipse）似乎更严格。然而，neethi 现在似乎生活在 org.apache.neethi 组下，但只有从 2.0.2 开始的版本在 maven Central 中可用。我能够解决将 neethi 管理到 2.0.2 的问题（因为它是一个缺陷更正版本，所以它不应该破坏编译）：

```
<dependencyManagement>
 <dependencies>
    <dependency>
       <groupId>org.apache.neethi</groupId>
       <artifactId>neethi</artifactId>
       <version>2.0.2</version>
    </dependency>
 </dependencies> 
```

如果这不是一个选择，最终你可以

1.  请求 neethi 项目维护者在 maven Central 中发布 neethi 2.0.1（并添加从旧 org.apache.ws.commons.neethi groupId 到 org.apache.neethi 的重定向）
2.  签出 neethi 2.0.1 [标签](http://svn.apache.org/viewvc/webservices/commons/tags/neethi/2_0_1/pom.xml?view=co&revision=529709&content-type=text/plain)并在本地安装。

您遇到的连接被拒绝错误可以通过在 maven 的 settings.xml 中添加一个将该存储库指向 maven Central 的镜像来解决。

PS：解决了neethi的问题后，我也遇到了同样的问题：jaxen:jaxen:1.1-beta-10。将其管理到 jaxen:jaxen:1.1-beta-11 让我超越了这一点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-25T19:13:54.153

我想我从昨天开始就遇到了同样的问题。基本上 Maven 正在尝试下载 2 个 POM 文件：

*   org/apache/santuario/xmlsec/1.4.1/xmlsec-1.4.1.pom
*   bouncycastle/bcprov-jdk13/132/bcprov-jdk13-132.pom

我猜它们是由 Spring 框架所依赖的，它们曾经可以从公共存储库中获得，而不再以某种方式获得。

我要解决的是，将这 2 个 POM 上传到我的本地存储库。2 空 POM，它们不依赖于其他任何人。

```
<project>
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.apache.santuario</groupId>
  <artifactId>xmlsec</artifactId>
  <version>1.4.1</version>
</project>

<project>
  <modelVersion>4.0.0</modelVersion>
  <groupId>bouncycastle</groupId>
  <artifactId>bcprov-jdk13</artifactId>
  <version>132</version>
</project> 
```

# r - 在 R 中的向量上回归数据框中的每一列

> ID：10241613
> 
> 赞同：6
> 
> 时间：2012-04-20T06:56:03.543
> 
> 标签：r, statistics

我想对向量的数据集中的每一列进行回归，然后返回具有最高 R 平方值的列。例如，我有一个向量 HAPPY <- (3,2,2,3,1,3,1,3) 并且我有一个数据集。

```
HEALTH  CONINC  MARITAL SATJOB1 MARITAL2                    HAPPY
3           441 5        1            2                        3
1          1764 5        1            2                        2
2          3087 5        1            2                        2
3          3087 5        1            2                        3
1          3969 2        1            5                        1
1          3969 5        1            2                        3
2          4852 5        1            2                        2
3          5734 3        1            3                        3 
```

对左侧数据集中的每一列回归“快乐”，然后返回具有最高 R 平方的列。示例：lm(Health ~ Happy) 如果 Health 具有最高的 R 平方值，则返回 Health。

我尝试过应用，但似乎无法弄清楚如何返回具有最高 R 平方的回归。有什么建议么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-20T07:22:59.680

我会将其分为两个步骤：

1) 确定每个模型的 R 平方

2）确定哪个是最高值

```
mydf<-data.frame(aa=rpois(8,4),bb=rpois(8,2),cc=rbinom(8,1,.5),
  happy=c(3,2,2,3,1,3,1,3))

myRes<-sapply(mydf[-ncol(mydf)],function(x){
  mylm<-lm(x~mydf$happy)
  theR2<-summary(mylm)$r.squared
  return(theR2)
})

names(myRes[which(myRes==max(myRes))]) 
```

这是假设`happy`在您的 data.frame 中。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-20T07:19:50.240

假设您的 data.frame 被称为“d”，这将满足您的要求

```
r2s <- apply(d, 2, function(x) summary(lm(x ~ HAPPY))$r.squared)
names(d)[which.max(r2s)] 
```

您可以使用 str() 命令了解如何提取模型的组件，或者在这种情况下提取模型的摘要。它会给你一个读数，帮助你访问任何复杂对象的组件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T08:10:02.790

这是使用`colwise()`plyr 包中的函数的解决方案。

```
library(plyr)
df = data.frame(a = runif(10), b=runif(10), c=runif(10), d = runif(10))

Rsq = function(x) summary(lm(df$a ~ x))$r.squared

Rsqall = colwise(Rsq)(df[, 2:4])
Rsqall

names(Rsqall)[which.max(Rsqall)] 
```

# blackberry - 关于添加到 vfm 的自定义按钮中的焦点

> ID：10241620
> 
> 赞同：1
> 
> 时间：2012-04-20T06:56:22.637
> 
> 标签：blackberry, customization, imagebutton, vertical-alignment, horizontalfieldmanager

我创建了一个包含 10 个自定义按钮的类，这些按钮添加到 VFM 中。但是当我从第一个按钮转到另一个按钮时，它会消失，当我按下最后一个按钮时，它会重新出现

当我在第一个按钮上并按两次键盘上的向上按钮时，它会消失，然后当我更改为第二个按钮时再次出现？？它有什么问题

当我将按钮添加到 HFM 时，反之亦然

我使用的代码在这个链接中 [http://pastebin.com/1Y9siJcj](http://pastebin.com/1Y9siJcj)

# extjs - ExtJS DateField - 初始化日期

> ID：10241626
> 
> 赞同：3
> 
> 时间：2012-04-20T06:56:36.180
> 
> 标签：extjs, datepicker, datefield

我有一个 ExtJS 日期字段。在应用程序的某些操作期间，最小值和最大值被分配给日期字段。最小值和最大值比当前日期早 4 年，但是当日期选择器打开时，它会打开禁用的当前日期。用户必须手动向后滚动 4 年才能选择日期。无论如何，我可以通过显示最小值和最大值之间的日期来更新日期选择器以打开？

添加代码：

```
cmpDt.setMinValue(new Date(2000, 0, 1));
cmpDt.setMaxValue(new Date(2004, 0, 1)); 
```

这设置了最小值和最大值。我不能使用`setValue()`，因为它会初始化/更改文本字段。我希望文本字段仅在从日期选择器中选择时获得价值。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-20T07:20:53.630

`value`您必须使用以下属性设置初始值`Ext.form.field.DateView`：

```
{
    ...,
    minValue: new Date(2000, 0, 1),
    maxValue: new Date(2004, 11, 31),
    value: new Date(2002, 5, 15),
    ...
} 
```

**从 OP 获得更多信息后进行**编辑：****

 **您可以覆盖`onExpand`初始化选取器上的值的方法。原来的看起来像（假设您使用 ExtJS 4 - 但 3 应该没有那么大的不同）：

```
...,
onExpand: function() {
    var value = this.getValue();
    this.picker.setValue(Ext.isDate(value) ? value : new Date());
},
... 
```

您可以覆盖该方法以读取：

```
...,
onExpand: function() {
    var value = this.getValue(),
        myDefaultDate = /* do some processing to determine the default date*/;
    this.picker.setValue(Ext.isDate(value) ? value : myDefaultDate);
},
... 
```

只需将覆盖添加到初始表单字段配置即可。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-05T12:57:17.170

对于任何对此问题的 EXTJS 3 解决方案感兴趣的人，我编写了以下代码。

如果需要，这允许您在声明时将`initialDateToShowOnPicker`其作为配置传递给`Ext.DatePicker`。

它还允许您调用`setInitialDateToShowOnPicker(initialDateToShowOnPicker)`datepicker 组件来动态设置它。

两者都需要使用 Date() 类型，并且不能在 datepicker 上设置值。

```
if (Ext.versionDetail && Ext.versionDetail.major == 3) {

Ext.form.DateField.prototype.setInitialDateToShowOnPicker = function (initialDateToShowOnPicker) {
    this.initialDateToShowOnPicker = initialDateToShowOnPicker;
};

Ext.form.DateField.override({
    onTriggerClick: function() {
        if(this.disabled){
            return;
        }
        if(this.menu == null){
            this.menu = new Ext.menu.DateMenu({
                hideOnClick: false,
                focusOnSelect: false
            });
        }
        this.onFocus();
        Ext.apply(this.menu.picker,  {
            minDate : this.minValue,
            maxDate : this.maxValue,
            disabledDatesRE : this.disabledDatesRE,
            disabledDatesText : this.disabledDatesText,
            disabledDays : this.disabledDays,
            disabledDaysText : this.disabledDaysText,
            format : this.format,
            showToday : this.showToday,
            startDay: this.startDay,
            minText : String.format(this.minText, this.formatDate(this.minValue)),
            maxText : String.format(this.maxText, this.formatDate(this.maxValue)),
            initialDateToShowOnPicker: this.initialDateToShowOnPicker // Date() type
        });
        this.menu.picker.setValue(this.getValue() || this.initialDateToShowOnPicker || new Date());
        this.menu.show(this.el, "tl-bl?");
        this.menuEvents('on');
    }
});     } 
```**

# iphone - UINavigationBar 的后退按钮

> ID：10241628
> 
> 赞同：2
> 
> 时间：2012-04-20T06:56:48.100
> 
> 标签：iphone, uinavigationcontroller, uinavigationbar, uinavigationitem

我有这段代码可以更改我的 UINavigationBar 的后退按钮

```
// Set the custom back button
UIImage *buttonImage = [UIImage imageNamed:@"backag.png"];

//create the button and assign the image
UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
[button setImage:buttonImage forState:UIControlStateNormal];
[button setImage:[UIImage imageNamed:@"selback.png"] forState:UIControlStateHighlighted]; 
button.adjustsImageWhenDisabled = NO;

//set the frame of the button to the size of the image (see note below)
button.frame = CGRectMake(0, 0, 30, 30);

[button addTarget:self action:@selector(back) forControlEvents:UIControlEventTouchUpInside];

//create a UIBarButtonItem with the button as a custom view
UIBarButtonItem *customBarItem = [[UIBarButtonItem alloc] initWithCustomView:button];
self.navigationItem.leftBarButtonItem = customBarItem;

// Cleanup
[customBarItem release]; 
```

如果我把它放在 viewDidLoad 方法中它工作正常。但是，当我加载下一个视图时，会显示旧样式按钮。为了解决这个问题，我尝试将此代码放在下一个视图的 viewDidLoad 方法中，但随后看不到任何按钮。

关于可能导致这种情况的任何想法？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:02:22.890

应用相同的代码

```
-(void)viewDidAppear:(BOOL)animated
{

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T07:13:16.733

我在两个视图中都使用了 tis 代码，它运行良好......

// 在两个视图的 viewDidLoad 方法中添加以下代码...

```
UIButton *leftButton1 = [UIButton buttonWithType:UIButtonTypeCustom];    
[leftButton1 setImage:[UIImage imageNamed:@"Viewone.png"] forState:UIControlStateNormal];    
leftButton1.frame = CGRectMake(0, 0, 30, 30);
[leftButton1 addTarget:self action:@selector(yourclickevent) forControlEvents:UIControlEventTouchUpInside];        
self.navigationItem.leftBarButtonItem = [[UIBarButtonItem alloc] initWithCustomView:leftButton1];
[leftButton1 release];

UIButton *leftButton = [UIButton buttonWithType:UIButtonTypeCustom];    
[leftButton setImage:[UIImage imageNamed:@"ViewSecond.png"] forState:UIControlStateNormal];    
leftButton.frame = CGRectMake(0, 0, 30, 30);
[leftButton addTarget:self action:@selector(yourclickevent) forControlEvents:UIControlEventTouchUpInside];        
self.navigationItem.leftBarButtonItem = [[UIBarButtonItem alloc] initWithCustomView:leftButton];
[leftButton release]; 
```

希望，这会帮助你...享受..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T08:25:28.523

您需要确保在 navigationItem 上设置 hidesBackButton 属性：

```
// Setup custom back button
self.navigationItem.hidesBackButton = YES; 
```

# ruby-on-rails-3 - 在rails中弹出窗口？

> ID：10241630
> 
> 赞同：1
> 
> 时间：2012-04-20T06:57:06.837
> 
> 标签：ruby-on-rails-3

我在 rails 3 中打开一个像这样的新弹出窗口

```
<%= link_to image_tag("/images/signin_lin.jpg"), linkedin_connect_path, :popup => true %> 
```

我也试过这个

```
link_to image_tag("/images/signin_lin.jpg"), { :action => "connect" }, :popup => ['new_window','height=300,width=600'] 
```

第一个确实打开了一个新窗口，当我使用第二个时，页面是全尺寸的很小。

我想要的是一旦打开新的弹出窗口并完成操作，弹出窗口应该关闭并且控件应该来到父窗口。

请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T12:05:13.987

使用一些 CSS 和 Javascript！

这是一个你可以玩的例子：http: [//jsfiddle.net/cdpZg/](http://jsfiddle.net/cdpZg/)

复制到这里，以防万一。

HTML：

```
<div id='user'>I am a user. Move your mouse over me</div>
<div id='popup'>Extended info about a user</div>
<div>I a piece of useless information. No use hovering over me.</div> 
```

CSS：

```
#popup {
    height: 50px;
    width: 200px;
    text-align: center;
    vertical-align:middle;
    background-color: cornflowerblue;
    color: white;
    display: none;
    padding-top: 8px;
    position: absolute;
} 
```

Javascript：

```
$(document).ready(function() {
    $('#user').hover(function() {
        $('#popup').show();
    }, function() {
        $('#popup').hide();
    });
}); 
```

# oracle - 为什么选择查询在 Oracle 中的运行速度比 sql server 慢

> ID：10241632
> 
> 赞同：1
> 
> 时间：2012-04-20T06:57:13.730
> 
> 标签：oracle, query-optimization, odp.net

我正在使用带有以下代码的 ODP.Net 从 Oracle 数据库中读取数据

```
 OracleConnection con = new OracleConnection(connectionString);
            OracleCommand cmd = new OracleCommand( SELECT ID,RECORD(XMLType) FROM tbl_Name, con);
            con.Open();
        OracleDataReader _dataReader = cmd.ExecuteReader();

    while (_dataReader.Read())
                {
     string rowId = _dataReader[0].ToString();
                 string xmlString = _dataReader[1].ToString();
    adding this data into Queue for further processing
    } 
```

它工作正常，但在一分钟内它只能读取 10000 条记录。如果我使用 SqlServer 数据库，它会在分钟内读取 500000 条记录，并且具有相同架构的表。

如果我缺少使用 ODP.NET 更快地读取数据的内容，请帮助我

谢谢你。

**

*   回答：

**

我尝试过使用 GetClobVal() 和 GetString Val() 函数，现在它工作正常。

从表名 t 中选择 t.RECID、t.XMLRECORD.GetClobVal()"

从表名 x 中选择 x.RECID,x.XMLRECORD.getStringVal()"

如果我们将这些查询与 oracle 命令一起使用，它将运行得很快，但不如 sql server 查询快。

# android - Android ProgressBar 倒计时

> ID：10241633
> 
> 赞同：40
> 
> 时间：2012-04-20T06:57:16.343
> 
> 标签：android, progress-bar, countdown

我正在为 Android 做一个测验，我希望在有限的时间内回答每个问题。因此，我想在从 5 到 0（秒）倒计时的答案下显示 ProgressBar。当它达到零时，我想做一些事情。我有测验并且一切正常，我只想添加 ProgressBar。

提前致谢！

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2012-04-20T07:01:34.163

您可以在 android 中使用倒数计时器。

这是一个你可以参考的例子[点击这里](http://gettingintomobile.blogspot.com/2011/06/android-countdown-timer-and-progress.html)

您可以在 Activity 中使用以下 ProgressBar。

```
 <ProgressBar 
    android:id="@+id/progressbar"
    style="@android:style/Widget.ProgressBar.Horizontal"
    android:max="100"
    android:progress="0"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_above="@+id/bottom_header_relativelayout"
    /> 
```

在您的活动中使用`CountDownTimer`如下代码。

```
ProgressBar mProgressBar;
CountDownTimer mCountDownTimer;
int i=0;

mProgressBar=(ProgressBar)findViewById(R.id.progressbar);
mProgressBar.setProgress(i);
   mCountDownTimer=new CountDownTimer(5000,1000) {

        @Override
        public void onTick(long millisUntilFinished) {
            Log.v("Log_tag", "Tick of Progress"+ i+ millisUntilFinished);
            i++;
            mProgressBar.setProgress((int)i*100/(5000/1000));

        }

        @Override
        public void onFinish() {
        //Do what you want 
            i++;
            mProgressBar.setProgress(100);
        }
    };
    mCountDownTimer.start(); 
```

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2015-04-15T15:27:11.523

您可以使用`ObjectAnimator`动画 的进度`ProgressBar`：

```
ObjectAnimator animation = ObjectAnimator.ofInt(pb, "progress", 0, 100);
animation.setDuration(5000);
animation.setInterpolator(new DecelerateInterpolator());
animation.addListener(new Animator.AnimatorListener() {
    @Override
    public void onAnimationStart(Animator animator) { }

    @Override
    public void onAnimationEnd(Animator animator) {
        //do something when the countdown is complete
    }

    @Override
    public void onAnimationCancel(Animator animator) { }

    @Override
    public void onAnimationRepeat(Animator animator) { }
});
animation.start(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-08-20T22:38:35.240

**无需 XML 声明**

```
ProgressDialog TempDialog;
CountDownTimer CDT;
int i =5;

TempDialog = new ProgressDialog(Your_Class_Name.this);
TempDialog.setMessage("Please wait...");
TempDialog.setCancelable(false);
TempDialog.setProgress(i);
TempDialog.show();

CDT = new CountDownTimer(5000, 1000)
{
    public void onTick(long millisUntilFinished)
    {
        TempDialog.setMessage("Please wait.." + i + " sec");
        i--;
    }

    public void onFinish()
    {
        TempDialog.dismiss();
        //Your Code ...
    }
}.start(); 
```

# java - 制作自己的“小部件/布局”，您可以在其中放置变量字符串

> ID：10241636
> 
> 赞同：0
> 
> 时间：2012-04-20T06:57:27.677
> 
> 标签：java, android, layout, sdk, widget

我是 Java 编程新手，目前正在开发一个应用程序。我想创建这样的东西：http: [//i40.tinypic.com/2zqu7hj.png](http://i40.tinypic.com/2zqu7hj.png)

所以我可以在其中放置我自己的变量字符串的布局。它需要是一个类，因为我需要重用它，并且不仅要一个，而且还要一个接一个。像这样： http: [//i39.tinypic.com/34g5wg3.png](http://i39.tinypic.com/34g5wg3.png)（但带有其他字符串）。

有人知道我在搜索什么或我该如何完成吗？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:12:33.707

您正在为哪个 Android 版本开发？如果您的平台支持，您可以使用[片段。](http://developer.android.com/guide/topics/fundamentals/fragments.html)它们是在 3.0 中添加的，但也有一个[兼容库](http://developer.android.com/sdk/compatibility-library.html)来支持旧版本。在片段内部，您可以通过编程方式创建 TextView 并将它们插入到可能是相对布局的主视图中。

# facebook-graph-api - 在最近的活动中使用 opengraph 发布操作时标题错误

> ID：10241637
> 
> 赞同：0
> 
> 时间：2012-04-20T06:57:27.733
> 
> 标签：facebook-graph-api, facebook-opengraph, feed

我正在尝试使用开放图发布一个动作，一切都很好，新闻源中的故事还可以，但用户时间线中的活动有问题

新闻源： ![在此处输入图像描述](../Images/2b5d7b37daf8df0c7f0f62d206242cf5.png) 时间线：

![在此处输入图像描述](../Images/f5d2fe428e4556c657712918eeacd6b4.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-24T17:47:36.770

“视图”是您创建的对象类型。我建议您将其重命名为您希望它在时间轴上显示的内容。

你是这个意思吗？

# ruby - 将 RabbitMQ 与运行多线程作业的工作人员一起使用 - Parallel Gem

> ID：10241639
> 
> 赞同：0
> 
> 时间：2012-04-20T06:58:12.727
> 
> 标签：ruby, parallel-processing, rabbitmq

我正在用 ruby​​（rabbitmq，parallel gem）构建一个系统，它需要一个作业列表，在 rabbit 中将它们排队，然后让工作人员从队列中弹出作业以执行它们。

很容易让工作人员在准备好后从队列中弹出一个作业，但我想让每个工作人员运行 5 个线程，这样当所有 5 个线程都在处理时，该工作人员不会从队列中弹出任何工作. 当一个线程空闲时，worker 从队列中接受一个作业。

使用 Parallel gem，我看到创建多线程进程的唯一方法是使用以下代码。

```
results = Parallel.map(array, :in_processes => MAX_PROCESSES) do |item|
 item.process
end 
```

我想做类似的事情

```
while true
 cur_threads = Parallel.get_cur_threads
 if cur_threads < MAX_PROCESSES
  # get another job from queue
  # allocate a thread for the job
end 
```

有任何想法吗？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T16:27:02.863

[我知道这真的很旧，但我认为您可能会使用work_queue](https://github.com/fmmfonseca/work_queue) gem得到您想要的东西。

# c# - 在 ASP.Net MVC 中管理 MongoDB 连接的正确方法是什么？

> ID：10241641
> 
> 赞同：27
> 
> 时间：2012-04-20T06:58:20.437
> 
> 标签：c#, asp.net, asp.net-mvc, mongodb, mongodb-.net-driver

管理 MongoServer 类生命周期的最佳实践是什么？我应该创建一个并在每个请求结束时将其关闭，还是应该在应用程序的整个生命周期中使用 StructureMap 之类的东西将其作为单例保存？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-04-20T10:35:17.440

在[官方文档](http://www.mongodb.org/display/DOCS/CSharp+Driver+Tutorial#CSharpDriverTutorial-TheC#Driver)中声明`MongoServer`,`MongoDatabase`和`MongoCollection`是线程安全的，并且您应该为`MongoServer`您连接到的每个数据库创建一个。

因此，`MongoServer`、`MongoDatabase`和`MongoCollection`可以安全地配置为单例。甚至会通过为连续调用`MongoServer`返回相同的实例来帮助执行此操作，并且将为s 做同样的事情。`MongoDatabase``MongoDatabase``MongoCollection`

即，您的`MongoServer`实例可以安全地配置为在您的 IoC 容器中具有单例生活方式，您也可以设置注入，`MongoDatabase`甚至`MongoCollection`也可以。

我自己在温莎使用这个策略 - 你可以`MongoInstaller`在这里看到我的：[https](https://gist.github.com/2427676) ://gist.github.com/2427676 - 它允许我的课程继续执行此操作：

```
public class SomeClass
{
    public SomeClass(MongoCollection<Person> people)
    { ... }
} 
```

为了注入一个集合，很好并且可以使用。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-04-21T13:57:12.160

C# 驱动程序自动管理与服务器的连接（它使用连接池）。无需调用 server.Connect，因为驱动程序会自动连接。不要调用 server.Disconnect ，因为这会关闭连接池中的所有连接并干扰有效的连接池。

至于管理 MongoServer 实例的生命周期，您可以自由地将其存储在静态变量中并在进程的生命周期中使用它（并跨线程共享它，它是线程安全的）。或者，您可以在需要获取服务器实例时再次调用 MongoServer.Create。只要您继续使用相同的连接字符串调用 MongoServer.Create，您将继续返回相同的 MongoServer 实例。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-20T07:29:23.887

使用任何 IOC 容器（结构图、Windsor 等）注入它，并根据每个请求保持其生命周期。

# mysql - 使用jsp将多种文件格式上传到服务器并将路径存储在数据库中

> ID：10241647
> 
> 赞同：0
> 
> 时间：2012-04-20T06:58:55.883
> 
> 标签：mysql, html, jsp, netbeans

我想将文件（所有格式）上传到服务器并将文件位置存储在数据库（MySQL）中我尝试使用 long-blob 格式将文件（所有格式）存储在数据库中，但它不接受文件大小不超过 1kb，它只接受文本文件。这是我的html代码

```
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>JSP Page</title>
</head>
<body>
    <form enctype="multipart/form-data" action="upload.jsp" method="post">
        <br/><br/><br/>
        <center>
            <table border="0" bgcolor=#ccFDDEE>
                <tr>
                    <td colspan="2" align="center"><b>UPLOAD THE FILE</b></td>
                </tr>
                <tr>
                    <td colspan="2" align="center"> </td>
                </tr>
                <tr>
                    <td><b>Choose the file To Upload:</b></td>
                    <td><INPUT NAME="file" TYPE="file">      </td>
                </tr>
                <tr>
                    <td colspan="2" align="center"> </td>
                </tr>
                <tr>
                    <td colspan="2" align="center"><input type="submit" value="Send File"> </td>
                </tr>
            <table>
        </center> 
    </form>
</body>
</html> 
```

这是我用于将文件存储到数据库的jsp代码（使用long-blob）。

```
<%@ page import="java.io.*,java.sql.*" %>
<%
String saveFile="";
String contentType = request.getContentType();
if ((contentType != null) && (contentType.indexOf("multipart/form-data") >= 0)) {
    DataInputStream in = new DataInputStream(request.getInputStream());
    int formDataLength = request.getContentLength();
    byte dataBytes[] = new byte[formDataLength];
    int byteRead = 0;
    int totalBytesRead = 0;
    while (totalBytesRead < formDataLength) {
        byteRead = in.read(dataBytes, totalBytesRead,formDataLength);
        totalBytesRead += byteRead; 
    }
    String file = new String(dataBytes);
    saveFile = file.substring(file.indexOf("filename=\"") + 10);
    saveFile = saveFile.substring(0, saveFile.indexOf("\n"));
    saveFile = saveFile.substring(saveFile.lastIndexOf("\\") + 1,saveFile.indexOf("\""));
    int lastIndex = contentType.lastIndexOf("=");
    String boundary = contentType.substring(lastIndex + 1,contentType.length());
    int pos;
    pos = file.indexOf("filename=\"");
    pos = file.indexOf("\n", pos) + 1;
    pos = file.indexOf("\n", pos) + 1;
    pos = file.indexOf("\n", pos) + 1;
    int boundaryLocation = file.indexOf(boundary, pos) - 4;
    int startPos = ((file.substring(0, pos)).getBytes()).length;
    int endPos = ((file.substring(0, boundaryLocation)).getBytes()).length;
    saveFile="/home/adapco/Desktop"+saveFile;
    File ff = new File(saveFile);
    FileOutputStream fileOut = new FileOutputStream(ff);
    fileOut.write(dataBytes, startPos, (endPos - startPos));
    fileOut.flush();
    fileOut.close();
%>
<br>
    <table border="2">
        <tr>
            <td><b>You have successfully upload the file by the name of:</b><% out.println(saveFile);%></td>
        </tr>
    </table>
<%
    Connection connection = null;
    String connectionURL = "jdbc:mysql://localhost:3306/ksa";
    ResultSet rs = null;
    PreparedStatement psmnt = null;
    FileInputStream fis;
    try {
        Class.forName("com.mysql.jdbc.Driver").newInstance();
        connection = DriverManager.getConnection(connectionURL, "root", "root");
        File f = new File(saveFile);
        psmnt = connection.prepareStatement("insert into file(file_data) values(?)");
        fis = new FileInputStream(f);
        psmnt.setBinaryStream(1, (InputStream)fis, (int)(f.length()));
        int s = psmnt.executeUpdate();
        if(s>0) {
            System.out.println("Uploaded successfully !");
        }
        else{
            System.out.println("unsucessfull to upload file.");
        }
    }
    catch(Exception e){
        e.printStackTrace();
    }
}
%> 
```

现在我必须将文件存储到服务器并将其路径存储到 db 或使用 long-blob 类型将文件（所有格式）存储在数据库中。使用 netbeans 和 glassfish 服务器（red hat linux）的 iam。给我一些主意。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T08:19:57.327

我强烈建议您使用人们为处理多部分文件上传而构建的现有模块之一。[Commons Fileupload](http://commons.apache.org/fileupload)是比较流行的，我建议你研究一下（[这里](http://commons.apache.org/fileupload/using.html)的用法示例）。

您的代码非常混乱，并且您正在以肯定会产生错误的方式混合使用字节数组和字符串。这：

```
int boundaryLocation = file.indexOf(boundary, pos) - 4;
int startPos = ((file.substring(0, pos)).getBytes()).length;
int endPos = ((file.substring(0, boundaryLocation)).getBytes()).length;
...
fileOut.write(dataBytes, startPos, (endPos - startPos)); 
```

特别多毛。无论如何，如果你坚持自己做，你应该清理你的代码，不要混合使用字符串和字节数组（记住，字符串中的一个字符不一定只是一个字节）。我不推荐它，除非这对你来说是一次学习经历。在这种情况下，我会花一些时间尝试在 Internet 上查找一些示例代码以进行多部分表单处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-28T10:05:23.810

在mysql中使用`mediumblob(upto 16mb upload)`或。并在行`longblob(upto 1 gb or 4 gb)`下方添加`[mysqld]``my.ini`

*   如果你在 mysql 中使用 mediumblob：`max_allowed_packet=16M`
*   如果你`largeblob`在 mysql 中使用：`max_allowed_packet=1024M`

# windows-phone-7 - 如何使用 C# 在 WP7 中不使用 SaveContactTask 添加联系人

> ID：10241648
> 
> 赞同：0
> 
> 时间：2012-04-20T06:59:01.013
> 
> 标签：windows-phone-7, silverlight-4.0

我使用 SaveContactTask，但无法为联系人插入传真号码。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-20T07:43:08.783

在 Windows Phone 中保存联系人的唯一方法是使用 SaveContactTask。因此，如果此任务不保存传真号码，则不可能。

# javascript - “无法读取未定义的属性‘zindex’”谷歌地图

> ID：10241653
> 
> 赞同：11
> 
> 时间：2012-04-20T06:59:34.083
> 
> 标签：javascript, google-maps-api-3

我正在尝试使用 API 将自定义控件添加到 Google 地图。我已经添加了两个自定义控件，它们工作得很好。我试图复制并粘贴第三个控件的代码（当然是更改相关变量），但我不断收到上述错误（在标题中）。

Chrome 控制台和 Firebug 似乎没有指出特定问题（它在谷歌地图 api 代码中中断）。通过逐步注释掉行，我将其缩小到这一特定行：

```
map.controls[google.maps.ControlPosition.TOP_RIGHT].push(churchControlDiv); 
```

添加控件的完整代码如下：

```
function ChurchControl(churchControlDiv, map) {
churchControlDiv.style.padding = '5px 0px';
var churchControlUI = document.createElement('DIV');
churchControlUI.style.backgroundColor = 'white';
churchControlUI.style.borderStyle = 'solid';
churchControlUI.style.borderWidth = '1px';
churchControlUI.style.borderColor = 'gray';
churchControlUI.style.boxShadow = 'rgba(0, 0, 0, 0.398438) 0px 2px 4px';
churchControlUI.style.cursor = 'pointer';
churchControlUI.style.textAlign = 'center';
churchControlUI.title = 'Click to see Churches';
churchControlDiv.appendChild(churchControlUI);
var churchControlText = document.createElement('DIV');
churchControlText.style.fontFamily = 'Arial,sans-serif';
churchControlText.style.fontSize = '13px';
churchControlText.style.padding = '1px 6px';
churchControlText.style.fontWeight = 'bold';
churchControlText.innerHTML = 'Churches<br>แสดงจำนวนคริสเตียน';
churchControlUI.appendChild(churchControlText);

google.maps.event.addDomListener(churchControlUI, 'click', function() {
    toggle(churches);
    if (churchControlText.style.fontWeight == 'bold') {
        churchControlText.style.fontWeight = 'normal';
    } else {
        churchControlText.style.fontWeight = 'bold';
    }
});

google.maps.event.addDomListener(churchControlUI, 'mouseover', function() {
    churchControlUI.style.backgroundColor = '#e8e8e8';
});

google.maps.event.addDomListener(churchControlUI, 'mouseout', function() {
    churchControlUI.style.backgroundColor = 'white';
});
}

function initialize(){
    map = new google.maps.Map(document.getElementById("map_canvas"), {
    center: centerLatLng,
    zoom: 7,
    streetViewControl: false,
    mapTypeId: google.maps.MapTypeId.ROADMAP
    });

    var churchControlDiv = document.createElement('DIV');
    var churchControlDiv = new ChurchControl(churchControlDiv, map);
    churchControlDiv.index = 3;
    map.controls[google.maps.ControlPosition.TOP_RIGHT].push(churchControlDiv);
} 
```

有任何想法吗？为什么有 3 个控件会成为问题？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-26T10:41:41.160

由于不同的原因，在遵循本教程时，我的控制台上弹出了相同的错误。

我没有使用默认的 javascript DOM 操作，而是使用 jQuery 创建我的元素，例如

```
 var controlDiv = $('<div></div>');
    var controlUI = $('<div class="alert alert-info"></div>');
    controlDiv.append(controlUI);
    var controlText = $('<div>Control text here</div>');
    controlUI.append(controlText); 
```

这样做很好，只要您在最后使用or将 DOM 节点*（而不是 jQuery 元素！）*提供给地图，如下所示：`controlUI[0]``controlUI.get(0)`

```
 map.controls[google.maps.ControlPosition.TOP_RIGHT].push(controlDiv[0]); 
```

另请参阅：
[如何从 jQuery 对象获取本机 DOM 元素 - jQuery 常见问题解答](http://learn.jquery.com/using-jquery-core/faq/how-do-i-pull-a-native-dom-element-from-a-jquery-object/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T13:59:35.000

我遵循[了教程](https://developers.google.com/maps/documentation/javascript/controls)，它与您的代码非常接近。

接近尾端的这条线需要改变

```
var churchControlDiv = new ChurchControl(churchControlDiv, map); 
```

替换`churchControlDiv`为`churchControl`或其他名称，因为 ChurchControlDiv 不应被覆盖。

见这里[http://jsfiddle.net/FTjnE/2/](http://jsfiddle.net/FTjnE/2/)

我用`//CHANGED`点击提醒和新地图中心标记了我的更改

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-03-26T22:04:26.643

此问题的一般根本原因似乎是元素或其属性被删除或以其他方式不存在。Maps API 正在尝试`zIndex`在`style`属性中查找 。

我在与 Maps API 控件交互的 Vue 应用程序自定义组件中遇到了这个问题。我们通过在组件的拆卸中更加谨慎地解决了这个问题。

基本上你需要确保你没有向控件添加一个空元素，并且在删除它之前不要使元素或其属性为空，方法是用 v-if 做一些时髦的事情。

# facebook - 在标记 facebook 用户时获取错误参数 tags 必须是一个数组

> ID：10241656
> 
> 赞同：0
> 
> 时间：2012-04-20T06:59:58.440
> 
> 标签：facebook

我正在创建上传照片和标签用户的 facebook 应用程序（php sdk）。但我得到一个奇怪的错误

```
 Uncaught OAuthException: (#100) param tags must be an array. 
```

我使用了以下代码

```
$argstag = array('to' => $user);  
$argstag['x'] = 40;  
$argstag['y'] = 40; 
$data = json_encode($argstag); 
$attachment = array( 

            'message' => $mes,
'tags' => $data
          );
$facebook->setFileUploadSupport(true);
$attachment['image'] ='@'.realpath($filename);
$photo = $facebook->api('/'.$aid.'/photos', 'POST', $attachment); 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-21T23:10:16.323

尝试改变

```
$argstag = array('to' => $user); 
```

至

```
$argstag = array('tag_uid' => $user); 
```

编辑：

如果这不起作用，请尝试更改

```
$argstag = array('to' => $user);  
$argstag['x'] = 40;  
$argstag['y'] = 40; 
$data = json_encode($argstag); 
```

至

```
 $armstag = array();
 $armstag['tag_uid'] = $user;
 $armstag['x'] = 40;
 $armstag['y'] = 40;
  $data = json_encode($argstag); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-22T08:13:30.520

你试过打印出 $argstag 吗？它将向您显示您正在使用 json 编码的数组，它可能看起来像这样 [[x:something],[y:something]] 等。使用 str_replace 替换那些不需要的元素。这是我在邀请用户时使用的内容：

```
$torep=array("[","]",'"');//replace some chars. generetaded by json
$users=str_replace($torep,"", $encode); 
```

输出是： UID, UID, UID, UID 正在工作，而不是 [[UID],[UID],[UID]] 这给了我同样的错误。

希望能帮助到你 ;）

# jpa - 如何将 JPA 查询写入等效的 mysql 查询

> ID：10241657
> 
> 赞同：0
> 
> 时间：2012-04-20T07:00:02.823
> 
> 标签：jpa

我想将等效的 JPA 查询写入以下 mysql 查询

```
select active_package,sum(duration),sum(charge),count(*) 
  from User 
  where call_type="MO" 
        and start_date between '2012-02-01' and '2012-02-09' 
  group by active_package; 
```

对于 JPA 查询，相应的属性如下。

activePackage,callType,duration,charge,startDate

实体类是用户。

我想使用 JPA 的 createQuery() 。

谁能告诉我或给我链接我在哪里可以找到解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:05:39.110

试试这个，它应该可以工作，如果没有，请发表评论，我们会得到它的工作:)。

```
CriteriaBuilder cb = entityManager.getCriteriaBuilder();
CriteriaQuery<Tuple> cq = cb.createQuery(Tuple.class);

Root<User> entity = cq.from(User.class);
cq.multiselect(entity.get("activePackage"),
        cb.sum(entity.get("duration").as(Long.class)),
        cb.sum(entity.get("charge").as(Double.class),
        cb.count(entity).as(Long.class)));
cq.where(cb.equal(entity.get("callType"), "MO"),
        cb.between(entity.get("startDate").as(Date.class),
        new Date(), new Date()));
cq.groupBy(entity.get("activePackage"));

List<Tuple> resultList = entityManager.createQuery(cq).getResultList();
    for (Tuple result : resultList) {
        System.out.println(result.get(0) + " " + result.get(1)
                + " " + result.get(2) + " " + result.get(3));
} 
```

此外，如果您只想按日期过滤，但在您的模型中有时间戳，您可以仅使用 Hibernate答案中的时间戳检查此[比较日期的日期部分。](https://stackoverflow.com/questions/8969943/compare-dates-date-part-only-with-timestamp-in-hibernate/8970260)

JPA 还提供构造结果类作为返回值，因此您可以对列进行分组。[阅读更多。](http://www.objectdb.com/java/jpa/query/jpql/select#Result_Classes_Constructor_Expressions_)

# php - 如何在 PHP FILE UPLOAD 中定义文件存储位置

> ID：10241658
> 
> 赞同：2
> 
> 时间：2012-04-20T07:00:05.460
> 
> 标签：php, file-upload

在以下脚本中，我尝试将文件上传到 htdocs 中的 tmp 文件夹，但文件没有移动到该位置。如何定义存储位置？

```
<?php
if ($_FILES["file"]["error"] > 0)
{
    echo "Error: " . $_FILES["file"]["error"] . "<br />";
}
else
{
    echo "Upload:    " . $_FILES["file"]["name"] . "<br />";
    echo "Type:      " . $_FILES["file"]["type"] . "<br />";
    echo "Size:      " . ($_FILES["file"]["size"] / 1024) . " Kb<br />";
    echo "Stored in: " . $_FILES["file"]["C:\xampp\htdocs\tmp"];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:27:11.767

`$_FILES["file"]["C:\xampp\htdocs\tmp"]`不应该存在，请尝试：

```
move_uploaded_file($_FILES['file']['tmp_name'], '/path/to/your/upload/directory/' . basename($_FILES['file']['name'])); 
```

请记住，如果您*逐字*使用此代码（原样），则此代码是不安全的，您需要验证文件 mime 类型（使用[适当](http://php.net/manual/en/function.mime-content-type.php) [的](http://php.net/manual/en/function.finfo-file.php) [工具](http://php.net/manual/en/function.exif-imagetype.php)）并至少清理**最终文件名。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T07:05:04.500

好吧，您发布的代码没有移动任何文件。你想念

```
move_uploaded_file ( $_FILES["file"]["tmp_name"][$key], 'C:\xampp\htdocs\tmp\new_file.txt' ); 
```

[http://php.net/manual/en/function.move-uploaded-file.php](http://php.net/manual/en/function.move-uploaded-file.php)

# vba - 将电子邮件附件保存到网络位置

> ID：10241659
> 
> 赞同：2
> 
> 时间：2012-04-20T07:00:06.490
> 
> 标签：vba, outlook

我正在尝试创建一个 VBA 宏，根据电子邮件地址将电子邮件附件保存到文件夹中。例如，如果我从 joey@me.com 收到附件并通过电子邮件发送，我想将该附件保存到目录 \server\home\joey 或者如果我从 steve@me.com 收到附件，则附件应保存在 \server \家\史蒂夫。

最后，我想发送一封回复电子邮件，其中包含已保存文件的名称。我发现一些代码几乎可以满足我的要求，但我很难修改它。这一切都在 Outlook 2010 中完成。这就是我目前所拥有的。任何帮助将不胜感激

```
Const mypath = "\\server\Home\joe\"
Sub save_to_v()

    Dim objItem As Outlook.MailItem
    Dim strPrompt As String, strname As String
    Dim sreplace As String, mychar As Variant, strdate As String
    Set objItem = Outlook.ActiveExplorer.Selection.item(1)
    If objItem.Class = olMail Then

        If objItem.Subject <> vbNullString Then
            strname = objItem.Subject
        Else
            strname = "No_Subject"
        End If
        strdate = objItem.ReceivedTime

        sreplace = "_"

        For Each mychar In Array("/", "\", ":", "?", Chr(34), "<", ">", "|")

            strname = Replace(strname, mychar, sreplace)
            strdate = Replace(strdate, mychar, sreplace)
        Next mychar

        strPrompt = "Are you sure you want to save the item?"
        If MsgBox(strPrompt, vbYesNo + vbQuestion) = vbYes Then
            objItem.SaveAs mypath & strname & "--" & strdate & ".msg", olMSG
        Else
            MsgBox "You chose not to save."
        End If
    End If
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T09:01:08.617

这是你正在尝试的吗？（**未经测试**）

```
Option Explicit

Const mypath = "\\server\Home\"

Sub save_to_v()

    Dim objItem As Outlook.MailItem
    Dim strPrompt As String, strname As String, strSubj As String, strdate As String
    Dim SaveAsName As String, sreplace As String
    Dim mychar As Variant

    Set objItem = Outlook.ActiveExplorer.Selection.Item(1)

    If objItem.Class = olMail Then

        If objItem.Subject <> vbNullString Then
            strSubj = objItem.Subject
        Else
            strSubj = "No_Subject"
        End If

        strdate = objItem.ReceivedTime

        sreplace = "_"

        For Each mychar In Array("/", "\", ":", "?", Chr(34), "<", ">", "|")
            strSubj = Replace(strSubj, mychar, sreplace)
            strdate = Replace(strdate, mychar, sreplace)
        Next mychar

        strname = objItem.SenderEmailAddress

        strPrompt = "Are you sure you want to save the item?"

        If MsgBox(strPrompt, vbYesNo + vbQuestion) = vbYes Then
            Select Case strname
            Case "joey@me.com"
                SaveAsName = mypath & "joey\" & strSubj & "--" & strdate & ".msg"
            Case "steve@me.com"
                SaveAsName = mypath & "steve\" & strSubj & "--" & strdate & ".msg"
            End Select

            objItem.SaveAs SaveAsName, olMSG
        Else
            MsgBox "You chose not to save."
        End If
    End If
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-22T12:04:10.423

它永远不会起作用。由于 Outlook 2010 没有将任何 msg 文件保存到网络驱动器，因此只有本地驱动器正在工作！如 M$ 的文档中所述并由我测试。具有固定路径和文件名的简单测试。本地 c:\ 有效。UNC 或 L 中的网络驱动器：不起作用！！！！

# c# - 如何注册新列表 到 Autofac ContainerBuilder

> ID：10241661
> 
> 赞同：8
> 
> 时间：2012-04-20T07:00:45.050
> 
> 标签：c#, autofac

```
 var servers = new List<IChecker> {
      //Server1
      new DatabaseSystem { ServerName = "ANTIVIRUS" },
      new DatabaseSizes  { ServerName = "ANTIVIRUS"},
      new DiskBackup { ServerName = "ANTIVIRUS"},
      new SqlServerEventLog { ServerName="ANTIVIRUS"},
      new DiskSystem { ServerName="ANTIVIRUS"}, 
      //Server1
      new DatabaseSystem { ServerName="SEJKG-S-DB01" },
      new DatabaseSizes  { ServerName = "SEJKG-S-DB01"},
      new DiskBackup { ServerName = "SEJKG-S-DB01"},
      new SqlServerEventLog { ServerName="SEJKG-S-DB01"},
      new DiskSystem { ServerName="SEJKG-S-DB01"},
  };

  var builder = new ContainerBuilder();            
  builder.RegisterInstance(notifiers).As<IList<INotifier>>();     
  builder.RegisterInstance(servers).As<IList<IChecker>>();
  builder.Register(c => new ServerChecker(c.Resolve<IList<IChecker>>(),  c.Resolve<IList<INotifier>>()));
  return builder.Build(); 
```

我有一个问题，我应该如何将我的“where server = new List {..}”注册到 Container Builder。我的 iChecker 列表作为参数传递给 ServerChecker。我能解决的问题很多，但不是列表本身，但我必须在外面。通常的服务器列表要大得多。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-04-24T15:41:11.573

**Autofac 具有[隐式集合支持](https://autofaccn.readthedocs.io/en/latest/resolve/relationships.html#enumeration-ienumerable-b-ilist-b-icollection-b)**，因此您可以注册多个单独的项目，当您解析这些项​​目的 IEnumerable 时，您将获得所有注册：

```
var builder = new ContainerBuilder();
builder.RegisterType<FirstType>().As<IDependency>();
builder.RegisterType<SecondType>().As<IDependency>();
builder.RegisterType<ThirdType>().As<IDependency>();
var container = builder.Build();
using(var scope = container.BeginLifetimeScope())
{
  var allDependencies = scope.Resolve<IEnumerable<IDependency>>();
  // allDependencies will contain all three of the registered types.
} 
```

这将允许您大大简化注册，因为您不必提前实际构建列表 -**您可以直接注册每个“IChecker”或“INotifier”实例并解析**它们的 IEnumerable。

**如果您有能力将“ServerChecker”构造函数更改为采用 IEnumerable 而不是 IList，那么您就完成了**- 您不再需要执行 c.Resolve() 操作。无论如何，这可能是一个更好的设计，因为 IList 意味着可以稍后修改集合，这可能不是您想要的。（可能是 ServerChecker 将 IEnumerable 的内容复制到它自己的列表中，以便您可以修改本地副本，但您不希望人们认为他们可以或应该像这样修改中央依赖项的内容。）

**如果它必须是 IList，您可以添加另一个动态**创建列表的注册：

```
builder
  .Register(c => new List<IDependency>(c.Resolve<IEnumerable<IDependency>>()))
  .As<IList<IDependency>>(); 
```

这样，您仍然可以避免在“ServerChecker”的分辨率中调用 c.Resolve<...>() - Autofac 会突然知道如何创建特定类型的列表。

如果你真的想看中它，你可以[添加一个自定义 Autofac RegistrationSource](http://nblumhardt.com/2010/01/declarative-context-adapters-autofac2/)这样如果有人试图解析 IList Autofac 会自动解析 IEnumerable 并创建一个列表......但这比你可能需要的多一点.

# javascript - 在 JavaScript 中转义双引号

> ID：10241663
> 
> 赞同：0
> 
> 时间：2012-04-20T07:01:01.463
> 
> 标签：javascript, html

我有这个代码：

```
 facetsString += "<td><input type='checkbox' value=facetList[count].term>&nbsp;&nbsp;" + facetList[count].term +  " (" + facetList[count].count + ")" + "</td>"; 
```

我试图给每个复选框一个唯一的值`facetList[count].term`，但我不知道如何转义双引号......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-20T07:03:41.080

只需在双引号前加一个反斜杠：

```
facetsString += "<td><input type='checkbox' value=\"facetList[count] ... \" /></td>" 
```

或者，您可以将外部包裹在单引号中，并将双引号用于属性值：

```
facetsString += '<td><input type="checkbox" value="facetList[count] ... " /></td>' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T07:03:48.497

您可以像这样转义双引号：

```
"string with \"double qoutes\"" 
```

解决方案是：

```
facetsString += "<td><input type='checkbox' value=\"" + facetList[count].term + "\">&nbsp;&nbsp;" + facetList[count].term + " (" + facetList[count].count + ")" + "</td>"; 
```

提供的示例将写入`facetList[count].term`value 属性，而不是变量的实际值。

# radius - 半径测试只在本地机器成功，但不能通过远程机器

> ID：10241664
> 
> 赞同：8
> 
> 时间：2012-04-20T07:01:11.683
> 
> 标签：radius

我通过 apt-get 在 Ubuntu 10 中安装了 freeradius。

使服务器运行后。本地测试有效：

```
yozloy@SNDA-192-168-21-78:/usr/bin$ echo "User-Name=testuser,Password=123456" | radclient 127.0.0.1:1812 auth testing123 -x
Sending Access-Request of id 245 to 127.0.0.1 port 1812
    User-Name = "testuser"
    Password = "0054444944"
rad_recv: Access-Accept packet from host 127.0.0.1 port 1812, id=245, length=20 
```

但是在远程机器上，似乎没有来自半径服务器机器的响应：

```
root@SNDA-192-168-14-131:/home/yozloy# echo "User-Name=testuser,Password=123456" | radclient 58.215.164.98:1812 auth testing123 -x
Sending Access-Request of id 36 to 58.215.164.98 port 1812
    User-Name = "testuser"
    Password = "0054444944"
Sending Access-Request of id 36 to 58.215.164.98 port 1812
    User-Name = "testuser"
    Password = "0054444944"
Sending Access-Request of id 36 to 58.215.164.98 port 1812
    User-Name = "testuser"
    Password = "0054444944"
radclient: no response from server for ID 36 socket 3 
```

这是我的配置文件：

客户端.conf

```
client 58.215.164.98 {
        ipaddr = 58.215.164.98
        secret = testing123

        require_message_authenticator = no
} 
```

用户

```
testuser CLeartext-Password := "0054444944" 
```

更新配置文件（我实际上并没有改变任何东西）radiusd.conf

```
proxy_requests  = yes
$INCLUDE proxy.conf
$INCLUDE clients.conf
thread pool {
        start_servers = 5
        max_servers = 32
        min_spare_servers = 3
        max_spare_servers = 10
        max_requests_per_server = 0
}
modules {
        $INCLUDE ${confdir}/modules/
        $INCLUDE eap.conf
}
instantiate {
        exec
        expr
        expiration
        logintime
}
$INCLUDE policy.conf
$INCLUDE sites-enabled/

yozloy@SNDA-192-168-18-234:/etc/freeradius$ netstat -an
Active Internet connections (servers and established)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN     
tcp        0      0 192.168.18.234:22       123.5.13.20:3274        ESTABLISHED
tcp6       0      0 :::22                   :::*                    LISTEN     
udp        0      0 0.0.0.0:1812            0.0.0.0:*                          
udp        0      0 0.0.0.0:1813            0.0.0.0:*                          
udp        0      0 0.0.0.0:1814            0.0.0.0:*                          
Active UNIX domain sockets (servers and established)
Proto RefCnt Flags       Type       State         I-Node   Path
unix  4      [ ]         DGRAM                    2838     /dev/log
unix  2      [ ACC ]     STREAM     LISTENING     2166     @/com/ubuntu/upstart
unix  2      [ ]         DGRAM                    2272     @/org/kernel/udev/udevd
unix  3      [ ]         STREAM     CONNECTED     3351     
unix  3      [ ]         STREAM     CONNECTED     3350     
unix  2      [ ]         DGRAM                    3173     
unix  2      [ ]         DGRAM                    2893     
unix  3      [ ]         DGRAM                    2304     
unix  3      [ ]         DGRAM                    2303     
unix  3      [ ]         STREAM     CONNECTED     2256     @/com/ubuntu/upstart
unix  3      [ ]         STREAM     CONNECTED     2255 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-23T06:38:21.823

如果我错了，请纠正我，但是，SNDA-192-168-14-131 针对您的 RADIUS 服务器 (SNDA-192-168-21-78) 的 IP 地址不是 58.215.164.98，是吗？如果不是，那就是你的答案。您的 RADIUS 服务器仅适用于在 clients.conf 中配置的具有正确机密的 NAS。

尝试将 192.168.14.131（如果是该主机的 IP 地址）添加到 clients.conf，然后尝试。

# cassandra - 设置 Cassandra 数据库的用户名和密码

> ID：10241666
> 
> 赞同：3
> 
> 时间：2012-04-20T07:01:25.113
> 
> 标签：cassandra

我对 cassandra 数据库非常陌生。我需要为数据库设置用户名和密码......请有人帮我解释如何做到这一点..

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-22T22:58:20.307

您可以使用在列族级别具有 ro 或 rw 访问权限的密码创建用户。对于 Cassandra 0.7 或更早版本，您可以在此处找到概述：[http ://www.datastax.com/docs/0.7/configuration/authentication](http://www.datastax.com/docs/0.7/configuration/authentication)

对于 1.0 及更高版本，身份验证已移至示例目录。您可以在此处找到如何配置它的示例（与以前相同）：http: [//devblog.michalski.im/2012/04/05/adding-simple-authentication-to-cassandra/](http://devblog.michalski.im/2012/04/05/adding-simple-authentication-to-cassandra/)

一般来说，Cassandra 开发人员似乎建议通过防火墙隔离您的 Cassandra 数据库，而不是依赖用户/通过身份验证。如果你能走这条路，那是首选。

为了提高安全性，您还可以加密节点间通信：[http ://wiki.apache.org/cassandra/InternodeEncryption](http://wiki.apache.org/cassandra/InternodeEncryption)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-24T10:12:24.583

这里还有更多关于 Cassandra 权限的信息（在您设置身份验证之后）： [http ://devblog.michalski.im/2012/04/22/more-on-cassandra-simpleauthority-permissions/](http://devblog.michalski.im/2012/04/22/more-on-cassandra-simpleauthority-permissions/)

所以，不仅仅是 CF 级别的权限系统。

# mongodb - 在mongodb中构造多个数据的有效方法是什么

> ID：10241667
> 
> 赞同：0
> 
> 时间：2012-04-20T07:01:28.040
> 
> 标签：mongodb, mongodb-php

我正在使用 mongodb 编写一个应用程序，用户可以在其中相互发送消息这是我要存储的字段

```
user_to
user_from
message
sent
ip
unread 
```

我要问的是，如果用户 A 向用户 B 发送消息，例如：

```
user_to : B,
user_from : A,
message :hello world,
sent:1334901545,
ip : XX.XX.XX.X,
unred : true 
```

这是第一次存储数据的格式，但是当用户 A 再次向用户 B 发送消息时，我应该如何存储该数据？我想到了两种方法请告诉我哪种方法最有效

```
user_to : B,
user_from : A,
message :hello world again,
sent:1334901745,
ip : XX.XX.XX.X,
unred : true 
```

或者

```
user_to : B,
user_from : A,
messages : array(
array(message="hello world",sent="1334901545",ip: XXX.X.XX.XX,unread:true),
array(message="hello world again",sent="1334901745",ip:XX.XX.XX.X,unread:true )
) 
```

第一种类型结构非常简单，更适合查询，也很容易分析，但我认为它会增加重复数据，并且随着应用程序的增长会消耗更大的磁盘空间

而第二种类型消除了重复记录和磁盘空间不足，但它使数据检索变得复杂难以读取不能有效地用于写入和许多其他复杂性

我只想知道考虑到 mongodb 具有高度可扩展性，我应该为简单起见还是消除重复记录并节省磁盘空间，这是正确的方法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:11:42.193

单独的记录会更好地提高查询速度，我会同意的。同样在您的示例中，没有太多冗余数据。如果有的话，您总是可以将其放入新系列中。

# ios - 在 iOS 上，是否可以同时设置两个计时器，或者让计时器在 0.0083 秒后触发事件以达到 120 fps？

> ID：10241672
> 
> 赞同：1
> 
> 时间：2012-04-20T07:01:37.020
> 
> 标签：ios, timer, core-animation

似乎 iOS 上的最高计时器速率是每秒 60 次使用`CADisplayLink`，即每次 0.01666 秒。是否可以同时设置两个计时器，以便更频繁地更新图像的位置？

或者，一个计时器事件处理程序能否在 0.00833 秒后触发另一个计时器事件，以便在 1/60 间隔之间有另一个更新，以达到 120 fps？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-21T05:40:38.120

出于多种原因，您不能这样做。首先，由于硬件限制，60fps 有一个硬上限。其次，NSTimer 对于这类事情还不够准确。来自 Timer Programming Topics - Timer 文档（为强调而添加了粗体）：

> **计时精度**
> 
> 定时器不是实时机制；它仅在已添加计时器的运行循环模式之一正在运行并且能够检查计时器的触发时间是否已过时触发。由于典型的运行循环管理的各种输入源，**计时器的时间间隔的有效分辨率被限制在 50-100 毫秒的数量级**。如果在运行循环处于未监视计时器的模式或长时间调用期间发生计时器的触发时间，则计时器不会触发，直到运行循环下次检查计时器。因此，**定时器触发的实际时间可能是计划触发时间之后的一段重要时间**。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-21T05:05:03.463

为什么要在每秒更新 60 次的屏幕上实现 120 fps？
那只会浪费CPU和电源。不要这样做。

然而，拥有一个更频繁触发的计时器绝对是可能的。
然而，在每个回调中绘制是不可能的。（至少使用-drawRect:，不了解OpenGL）。

# javascript - 复选框中的 onclick 在 IE 中不起作用

> ID：10241673
> 
> 赞同：0
> 
> 时间：2012-04-20T07:01:39.390
> 
> 标签：javascript, jquery

我在 onclick 上创建了一个事件处理程序，IE 9,8,7 事件仅在我打开控制台时才开始工作，当我关闭它时也会工作。我怎么解决这个问题？谢谢！有我的代码：

```
function changeCheck(id) // onClick функция акт/деакт. checkbox
{
    //checkbox = $('span#'+id).children().eq(0); // получаем checkbox в объект
    checkbox = $('span#'+id).children().eq(0); // получаем checkbox в объект
    console.log(checkbox);
    if(checkbox.attr('rel') !='nosumm') 
    {
        var totalSum = parseInt($('div#stoim').children().text()); // получаем начальную стоимость        
        if(!checkbox.attr('value').length) // если кликнули по "платежным системам" 
        {
            if((checkbox).is(':checked') == false) // если еще не отмечено, то отмечаем
            {
                checkbox.checked=true;
                $('span#'+id).css('background-position','0 -22px');
                if(checkbox.attr('checked','checked'))
                {
                    $('div#type_plati').slideDown();
                }
            }
            else // если checkbox отмечен
            {
                $('span#'+id).css('background-position','0 0');
        for(var key in paysystem)
        {
                    if($('input#choise'+paysystem[key]).attr('value') && $('input#choise'+paysystem[key]).is(':checked')==true)
                    {
            //console.log($('input#choise'+paysystem[key]).attr('value'));
            //console.log($('input#choise'+paysystem[key]).is(':checked'));
            totalSum = totalSum - parseInt($('input#choise'+paysystem[key]).attr('value'));         
                    }
                    $('span#niceCheckbox'+paysystem[key]).css('background-position','0 0');
                    $('span#niceCheckbox'+paysystem[key]).children().eq(0).removeAttr('checked');
                }
                $('input#subTotal').val(totalSum); // Записуем финальную цену на отправку
                $('div#stoim').children().text(totalSum);           
                if(checkbox.removeAttr('checked')) $('div#type_plati').slideUp(); 
            }        
        }
        else
        {
            if((checkbox).is(':checked') == false) // если еще не отмечено, то отмечаем
            {
                checkbox.checked=true;
                $('span#'+id).css('background-position','0 -22px');
                checkbox.attr('checked','checked');
                if(checkbox.attr('checked','checked'))
                {
                    totalSum = totalSum + parseInt($(checkbox).attr('value'));
                    $('div#stoim').children().text(totalSum);
                }
            }
            else // если checkbox отмечен
            {
                $('span#'+id).css('background-position','0 0');
                if(checkbox.removeAttr('checked'))
                {
                    totalSum = totalSum - parseInt($(checkbox).attr('value'));
                    $('div#stoim').children().text(totalSum);
                }
             } 
            $('input#subTotal').val(totalSum); // Записуем финальную цену на отправку
            $('div#stoim').children().text(totalSum);           
        }
    }
    else // обычные checkbox
    {
        if((checkbox).is(':checked') == false) // если еще не отмечено, то отмечаем
        {
            checkbox.checked=true;
            $('span#'+id).css('background-position','0 -22px');
            checkbox.attr('checked','checked');
        }
        else // если checkbox отмечен
        {
            $('span#'+id).css('background-position','0 0');
            checkbox.removeAttr('checked');
        }  
    }    

} 
```

有html代码：

```
<li><span class="niceCheck"  onclick="changeCheck(this.id)" id="niceCheckbox2" rel=""><input type="checkbox" name="ch1" id="ch1" value="370"/> <label  for="ch1">Форма обратной связи</label></span></li> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:05:31.557

您的代码中有一个`console.log(checkbox);`未被注释掉的。
如果没有控制台，这将破坏 IE 中的代码。

由于您已经在使用 jQuery，您可能需要查看`.change()`文档中的函数/事件：http: [//api.jquery.com/change/](http://api.jquery.com/change/)
这可能是您首先要使用的。

# ms-access - 如果在 MS Access 2007 表单中一次满足两个选择中的一个，如何仅启用两个中的一个下拉菜单

> ID：10241678
> 
> 赞同：1
> 
> 时间：2012-04-20T07:02:06.363
> 
> 标签：ms-access, ms-access-2007

我是 MS Access 的新手，正在为我的工厂维护创建一个数据库。我有两个选择，即细分或工作订单。我应该选择其中之一。然后我做了两个下拉菜单，一个是维护请求名称，另一个是作业订单请求名称。问题是，如果我选择上面的维护选项，那么我应该直接进入维护请求名称下拉菜单，在这种情况下，作业订单请求名称下拉菜单应该被禁用。

请建议合适的解决方案。请让我知道以上信息是否足够。

此致。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:39:04.140

在维护选项的更新后事件中，添加一些代码。

```
 Me.JobOrderDropdownName.Enabled = False
 Me.MaintenanceDropdownName.Enabled = True
 Me.MaintenanceDropdownName.SetFocus 
```

对于 Job Order 选择也是如此。如果您为这两个选项创建了一个选项组，这可以简化。

# joomla - 尝试使用注册表单时出现 500 内部服务器错误

> ID：10241681
> 
> 赞同：1
> 
> 时间：2012-04-20T07:02:20.297
> 
> 标签：joomla

我正在使用我网站的用户管理器选项中已经提供的注册表单。

但是，一旦我单击注册按钮，我就会收到以下消息：

> 服务器错误网站在检索[http://prachi.matrimony4me.in/index.php/sample-sites-2?task=registration.register](http://prachi.matrimony4me.in/index.php/sample-sites-2?task=registration.register)
> 时遇到错误。 它可能因维护而停机或配置不正确。以下是一些建议： 稍后重新加载此网页。HTTP 错误 500（内部服务器错误）：服务器尝试完成请求时遇到了意外情况。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-29T03:10:19.677

尝试在主 joomla 配置中关闭 SEF。

刷新页面并尝试agian？

你正在用吗

```
JRoute:_('index.php') or JRoute:_('index.php?option=com_users') 
```

在你的表单动作中？

链接看起来不对。

这是默认的注册表单吗？网址中不应该有任何任务。

# iphone - Chilkat iPhone 库配置

> ID：10241685
> 
> 赞同：1
> 
> 时间：2012-04-20T07:02:39.623
> 
> 标签：iphone, ios, xcode4.2, chilkat

我正在通过 Chilkat-9.3.0-IOS-4.3 Objective-C 库在 iphone 中使用 RSA 加密解密。我尝试按照本教程[http://www.chilkatsoft.com/chilkatIos.asp](http://www.chilkatsoft.com/chilkatIos.asp)但第一个命令“libtool -static -o libchilkatIos.a libDevice/libchilkatIos.a libSimulator/libchilkatIos.a”对我不起作用。此命令的结果，如 :libtool: 对于体系结构：armv6 文件：libDevice/libchilkatIos.a(ChilkatBzip2_ppmd.o) 没有与许多“无符号”相同的符号

我想在我的项目中使用 Chilkat 请指导我。谢谢

# facebook - 在同一个 Symfony2 项目中为我的每个不同应用程序设置 facebook app_id

> ID：10241687
> 
> 赞同：0
> 
> 时间：2012-04-20T07:02:48.843
> 
> 标签：facebook, symfony, config, fosfacebookbundle

换句话说，我的每个 fb 应用程序都有不同的包，并且希望根据正在使用的包加载 app_id 和应用程序机密。

我也在使用 FOSFacebook Bundle

我的 config.yml：

```
parameters:
    # facebook
    my_app_id: test
    my_app_secret: test
fos_facebook:
    file:   %kernel.root_dir%/../vendor/facebook/src/base_facebook.php
    alias:  facebook
    app_id: %my_app_id%
    secret: %my_app_secret%
    cookie: true 
```

试图做：

```
$this->container->setParameter("my_app_id", "99999999999"); 
```

给了我“不可能在冻结的 ParameterBag 上调用 set()”。错误。

而这个：[http](http://groups.google.com/group/symfony2/browse_thread/thread/6f09df702f656874) ://groups.google.com/group/symfony2/browse_thread/thread/6f09df702f656874 说我必须先明确地 getParameter 才能工作或使用另一个包。

所以问题是，相对简单且耗时较少的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-23T02:51:14.563

我认为一旦构建了依赖注入容器，参数就会被冻结。这意味着您不能直接更改控制器中的参数。

您可以做的是创建一个将设置参数的捆绑扩展。在捆绑扩展中，可以设置和更改参数。查看此[食谱部分](http://symfony.com/doc/current/cookbook/bundles/extension.html#creating-an-extension-class)以了解如何创建捆绑扩展。

此外，您可以查看此[食谱食谱](http://symfony.com/doc/current/cookbook/configuration/external_parameters.html)，该食谱展示了如何从外部源设置参数。

祝你的用例好运。

问候，
马特

# java - gwt-log 和 gwt-test-utils 不能一起玩

> ID：10241689
> 
> 赞同：2
> 
> 时间：2012-04-20T07:02:52.657
> 
> 标签：java, unit-testing, gwt, junit, gwttestcase

我有一个项目，其中散布着 gwt-log 日志记录行。现在我正在尝试编写一些单元测试，但似乎没有任何效果。

我测试的任何使用 gwt-log 工具的类都会引发以下异常：

```
Caused by: com.googlecode.gwt.test.exceptions.GwtTestConfigurationException: 
A custom Generator should be used to instanciate 
'com.allen_sauer.gwt.log.client.LogMessageFormatter', 
but gwt-test-utils does not support GWT compiler API, 
so you have to add our own GwtCreateHandler with 
'GwtTest.addGwtCreateHandler(..)' method or to declare your 
tested object with @Mock 
```

我不需要记录器在单元测试期间运行，我更愿意模拟它。我尝试使用 Mockito 以几种不同的方式模拟记录器......显然我不知道我在这里做什么，以下代码片段都没有帮助这种情况：

```
public class ClockTest extends GwtTest {
    @Mock private LogMessageFormatter lmf;
... 
```

或者

```
...
@Before
public void init() throws Exception {
    LogMessageFormatter lmf = mock(LogMessageFormatter.class);
... 
```

任何有关如何解决此问题的线索将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-22T16:27:09.307

科林是对的，你有两种方法来处理你的错误：

1) 模拟 LogMessageFormatter，或者在更高级别模拟您的 Logger 实例。gwt-test-utils 提供了一个简单的 API，用于使用 Mockito 或 EasyMock 进行模拟：[http ://code.google.com/p/gwt-test-utils/wiki/MockingClasses](http://code.google.com/p/gwt-test-utils/wiki/MockingClasses)

2) 提供您自己的 GwtCreateHandler 来实例化 LogMessageFormatter，或者提供您自己的 Logger 实例。在内部，gwt-log 依赖于 GWT 的延迟绑定来根据您的配置实例化一个 LogMessageFormatter 对象，该对象在编译时进行解析。它使用 GWT 的生成器 API 来创建 LogMessageFormatter 类，但 gwt-test-utils 无法使用这些生成器。您必须“手动”完成，并使用 gwt-test-utils 延迟绑定支持：GwtCreateHandlers。您的“LoggerGwtCreateHandler”可以使用 JDK 的 InvocationHandler 和 Proxy 类来为 Logger 接口编写一个代理，这只会使每个方法调用静默，因为我猜您不会关心测试中的任何日志调用。

这是关于如何编写 GwtCreateHandler 的讨论：[https ://groups.google.com/forum/?fromgroups#!topic/gwt-test-utils-users/r_cbPsw9nIE](https://groups.google.com/forum/?fromgroups#!topic/gwt-test-utils-users/r_cbPsw9nIE)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-21T18:23:19.940

从您发布的错误消息中：

> ```
> you have to add our own GwtCreateHandler with 
> 'GwtTest.addGwtCreateHandler(..)' method or to declare your 
> tested object with @Mock 
> ```

这是您必须继续的两个选项。我才刚刚开始使用 gwt-test-utils，但主要前提是它不运行 GWT 编译器或开发模式，因此它需要其他方法来处理实现像 GWT.create 这样的“神奇”功能。它的方法是要么要求您模拟实例（这在您对涉及测试的其他对象的大多数测试中应该是一个相当普遍的想法），要么提供类似生成器的东西，并使用`GwtTest.addGwtCreateHandler`.

构建一个模拟记录器应该不会太糟糕，实现 GwtCreateHandler 也不应该 - 你只需要制作具有所有日志方法的东西。如果您希望日志记录正常工作，那么这些方法需要实际调用一些其他记录器，例如`java.util.Logger`log4j、slf4j 等，但这并不是让测试运行所必需的（但对于确保您的日志记录工作可能很方便，或找出您的测试失败的原因。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-19T16:39:45.360

对于那些仍然为这个该死的问题感到痛苦的人来说，这是我设法得到的（也有很多痛苦......）。它将解决 和 之间的`Gwt-test-utils`冲突`Gwt-log`。

当然欢迎您修改`format`方法；）：

```
@Before
public void correctLog() {
    this.addGwtCreateHandler(new GwtCreateHandler() {
        @Override
        public Object create(Class<?> classLiteral) throws Exception {
            if (classLiteral.isAssignableFrom(LogMessageFormatter.class)) {
                return new LogMessageFormatter() {
                    @Override
                    public String format(String logLevelText, String category,
                            String message, Throwable throwable) {
                        return message + " : " + throwable.getLocalizedMessage();
                    }
                };
            }
            return null;
        }
    });
} 
```

# android - 使用 ANT 发布 Proguarded Android 应用程序

> ID：10241691
> 
> 赞同：0
> 
> 时间：2012-04-20T07:03:01.027
> 
> 标签：android, ant, proguard

我们正在使用 Android SDK 工具 19 和 Android ADT 插件 18，如果我们通过 ANT 发布应用程序，我们会在尝试安装该应用程序时收到未安装应用程序。

我还想知道如何将 Proguard 与使用最近 ADT 插件、SDK 工具的 Android 应用程序一起使用。

我们正在使用 Windows 7、JDK 1.7.0、Eclipse 进行 Android 应用程序开发。我们知道 JDK 7 (1.7.0) 所以在使用 jarsigner 签名时尝试添加这些选项： -digestalg SHA1 -sigalg MD5withRSA 并替换了 Tools->ANT->BuildJar->Signjar 的以下属性

```
<signjar
                        jar="${out.packaged.file}"
                        signedjar="${out.unaligned.file}"
                        keystore="${key.store}"
                        storepass="${key.store.password}"
                        alias="${key.alias}"
                        keypass="${key.alias.password}"
                        verbose="${verbose}" />

with these properties 

 <signjar
                        sigalg="MD5withRSA"
                        digestalg="SHA1"
                        jar="${out.packaged.file}"
                        signedjar="${out.unaligned.file}"
                        keystore="${key.store}"
                        storepass="${key.store.password}"
                        alias="${key.alias}"
                        keypass="${key.alias.password}"
                        verbose="${verbose}" /> 

as per [blog]http://stackoverflow.com/questions/8036422/android-signing-with-ant 
```

我也在使用 GSON 库、Http Mime 库、Android v4 片段。所以发布后，它会被发布，甚至应用程序也会减少。但是如果我试图运行发布的应用程序，如果它显示强制关闭应用程序

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:22:45.800

如果使用`build.xml`Android SDK 中提供的默认值并将 target 指定为 release，则可以获得 proguard 应用的 release apk 文件。

要获取`build.xml`，请运行`android update project`命令。

要进行发布构建，您应该准备发布密钥和 proguard.cfg 文件。

# javascript - 如何将 json 文件加载到 Sencha Touch？

> ID：10241692
> 
> 赞同：0
> 
> 时间：2012-04-20T07:03:02.487
> 
> 标签：javascript, mobile, sencha-touch, sencha-touch-2

我正在尝试将 json 文件加载到列表中。谁能看到我做错了什么？我没有错误。

数据.js：

```
Ext.regModel('Contact', {
    fields: ['bandName', 'playDate']
});

ListDemo.ListStore = new Ext.data.Store({
    model: 'Contact',
    sorters: 'bandName',
    getGroupString : function(record) {
        return record.get('bandName')[0];
    },

    /*data: [
        { bandName: "Bandname",      playDate: "Thursday 20:00" }
    ]*/

    proxy: {
        type: 'scripttag',
        url: 'http://domain.com/artists.json',
        reader : {
            type : 'json',
        },
        autoLoad: true
    }
}); 
```

索引.js：

ListDemo = new Ext.Application({ name: "ListDemo",

```
launch: function() {

    ListDemo.detailPanel = new Ext.Panel({
        id: 'detailpanel',
        tpl: 'Hello, {bandName}!',
        dockedItems: [
            {
                xtype: 'toolbar',
                items: [{
                    text: 'back',
                    ui: 'back',
                    handler: function() {
                        ListDemo.Viewport.setActiveItem('disclosurelist', {type:'slide', direction:'right'});
                    }
                }]
            }
        ]
    });

    ListDemo.listPanel = new Ext.List({
        id: 'disclosurelist',
        store: ListDemo.ListStore,
        itemTpl: '<div class="contact">{bandName}<br /><span style="font-size:12px;">{playDate}</span></div>',
        grouped: true,
        onItemDisclosure: function(record, btn, index) {
            ListDemo.detailPanel.update(record.data);
            ListDemo.Viewport.setActiveItem('detailpanel');
        }
    });

    ListDemo.Viewport = new Ext.Panel ({
        fullscreen: true,
        layout: 'card',
        cardSwitchAnimation: 'slide',
        items: [ListDemo.listPanel, ListDemo.detailPanel]
    });

}
}); 
```

我的 json 文件：

```
[
    { "id": 1, "bandName": "Moe", "playDate": "Thursday" },
    { "id": 2, "bandName": "Larry", "playDate": "Thursday" },
    { "id": 3, "bandName": "Curly", "playDate": "Thursday" }    
] 
```

谁能看到我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T09:28:13.987

您应该使用 Chrome 浏览器和 Chrome 开发者工具来调试您的代码。您的 json 文件是正确的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T07:13:59.040

您的 JSON 文件是数组格式。添加一个以该数组为值的节点，然后将 Sencha Touch 文件中的数据节点（代理的）设置为该节点。JSON 如下所示：

```
"data": [
    { "id": 1, "bandName": "Moe", "playDate": "Thursday" },
    { "id": 2, "bandName": "Larry", "playDate": "Thursday" },
    { "id": 3, "bandName": "Curly", "playDate": "Thursday" }    
] 
```

# javascript - 如何在谷歌地图上创建右侧菜单边栏

> ID：10241693
> 
> 赞同：1
> 
> 时间：2012-04-20T07:03:02.697
> 
> 标签：javascript, jquery, google-maps, google-maps-api-3, sidebar

我想在谷歌地图上创建菜单侧边栏， 如果 onclick 我这样做，onclick 显示菜单描述

右侧菜单侧边栏 显示菜单描述但菜单修复在浏览器的右侧窗口上。我想在谷歌地图上显示菜单 我该如何学习如何做。 谢谢![右侧菜单边栏](../Images/677e3f749941d846210f66d5abcbd70b.png)

![显示菜单说明](../Images/9a7ab31820f949e028980de41e16cfb7.png)

![我这样做](../Images/958c9657ce2cecd8755810f701c0fec2.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:14:54.657

这没有连接地图，它只是一个定位的 html 元素。

像这样的东西：

```
#rpanel {
  width: 200px;
  height: 200px;
  background: #fff;
  position: absolute;
  right: -180px;
  top: 200px;
}

#rpanel:hover {
  right: 0;
}

<div id="rpanel">im in the right</div> 
```

# powershell - 在 Powershell 管道中使用命令行工具的控制台输出

> ID：10241699
> 
> 赞同：0
> 
> 时间：2012-04-20T07:03:35.770
> 
> 标签：powershell, command-line, pipeline

在我的 PowerShell 脚本中，我想使用**git**之类的工具的输出。

例如，命令行

```
状态

```

返回

```
# 在分支master上
没有什么可提交的（工作目录干净）

```

现在我尝试在以下管道命令中使用此输出：

```
混帐状态 | $_.Contains("没有提交")

```

但我得到了错误

`Expressions are only allowed as the first element of a pipeline.`

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:06:50.917

```
$msg = [string](git status) | where { $_.Contains("nothing to commit") } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T07:37:57.317

您可以使用`select-string`：

```
git status | select-string "nothing to commit" 
```

# android - 当我的应用程序第一次运行时，从我的应用程序中安装另一个 apk

> ID：10241700
> 
> 赞同：0
> 
> 时间：2012-04-20T07:03:36.550
> 
> 标签：android, apk, uninstallation, broadcast, email-notifications

我正在寻找一种解决方案，用户无法卸载我的应用程序，但知道它在 android 中是不可能的。然后我想至少收到一封通知电子邮件，说明我的应用程序已从设备中删除。然后我阅读了以下帖子：[需要密码才能卸载/删除应用程序](https://stackoverflow.com/questions/1221534/require-a-password-to-uninstall-remove-application)。那篇文章说我安装了两个应用程序。第二个应用程序将收到删除我的应用程序的广播，并将生成电子邮件通知。
所以我的问题是如何在我的应用程序第一次启动时将另一个 apk **（'Watcher'）**保存到我的 apk 中并安装**Watcher apk？**任何代码示例将不胜感激。

# java - 使用 jmock 模拟 Logger.getLogger()

> ID：10241707
> 
> 赞同：2
> 
> 时间：2012-04-20T07:03:50.137
> 
> 标签：java, junit, mocking, log4j, jmock

我正在处理遗留代码并使用 jmock 编写一些 junit 测试（我知道，错误的顺序，没关系）（这也不是我的选择，我对此无能为力）并且我有一个类可以进行一些复杂的日志记录，弄乱字符串一般。我们正在使用 log4j 进行日志记录，我想测试那些记录的消息。我想过模拟 Logger 类，但我不知道该怎么做。

通常我们有这样的 Logger：

```
private static final Logger LOG = Logger.getLogger(SomeClass.class); 
```

有谁知道如何模拟方法 .getLogger(class) 或任何其他想法如何检查究竟记录了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-20T07:11:25.000

您可以编写自己的[附加程序](http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Appender.html)并将所有输出重定向到它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-20T07:12:03.693

如果你真的认为你需要这样做，那么你需要看看[PowerMock](http://code.google.com/p/powermock/)。更具体地说，它能够[模拟静态方法](http://code.google.com/p/powermock/wiki/MockStatic)。PowerMock 与 EasyMock 和 Mockito 集成，但如果你必须坚持下去，一些搜索可能会导致你也找到 JMock 集成。

话虽如此，我认为设置您的测试框架以便它很好地记录而不影响您的测试，*并*确保您的测试*不*依赖于记录的内容是一种更好的方法。我曾经不得不维护一些检查记录内容的单元测试，它们是我见过的最脆弱和最无用的单元测试。我一有时间就重写了它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T07:14:53.360

检查这个类似的问题： [如何使用静态方法进行模拟？](https://stackoverflow.com/questions/153048/how-to-mock-with-static-methods)

顺便说一句，搜索现有问题比发布问题并等待答案更容易。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-24T05:50:21.617

我发现最简单的方法是在 JMockit 中使用模拟 log4j 对象。

您只需要添加注释

```
@UsingMocksAndStubs(Log4jMocks.class) 
```

到您的测试类，测试类接触的所有代码都将使用模拟 Logger 对象。

看到[这个](http://jmockit.googlecode.com/svn/trunk/www/javadoc/mockit/integration/logging/Log4jMocks.html)

但这不会记录消息。你可以摆脱处理静态对象的麻烦。

# iphone - 将 cocos2d 文件添加到 xcode 项目？

> ID：10241712
> 
> 赞同：3
> 
> 时间：2012-04-20T07:04:26.673
> 
> 标签：iphone, ipad, cocos2d-iphone

我正在做基于碰撞的游戏。所以我添加了 Cocos2d 文件，例如 Box2d、FontLabel、cocoslive 等。但是在运行项目时，在以下代码中出现两个错误...这是什么原因。任何更改都希望在info.plist 和构建设置。请帮助查找。

```
sweepA.Normalize();
sweepB.Normalize(); 
```

此代码在 b2TimeOfImpact.cpp(Box2d,collision) 类中。收到错误消息“'b2Sweep' 中没有名为“Normalize”的成员”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-23T09:37:26.383

你在你的 xcode 中看到 coco2ds 模板了吗

[http://www.cocos2d-iphone.org/archives/1412](http://www.cocos2d-iphone.org/archives/1412)

尝试通过模板从头开始创建项目。

# android - 以编程方式在Android上单个视图的横向<->纵向切换的方法？

> ID：10241714
> 
> 赞同：1
> 
> 时间：2012-04-20T07:04:49.547
> 
> 标签：android, bitmap, screenshot, landscape, portrait

在纵向模式下运行时，是否可以以编程方式（不是 XML）将 Android 上的单个视图（MapView）更改为横向模式？

我的应用中有一个谷歌地图视图。通常，用户将以纵向模式运行应用程序，但有一个功能可以在当前状态下获取地图的位图屏幕截图，但我希望在无需用户实际移动手机的情况下将其横向化。之后，我会将视图恢复为原始肖像。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:21:45.120

否：方向当前在活动级别处理，而不是视图级别。如果您有一个完全自定义的视图，您可以选择自己在横向中绘制它（横向只是横向较长，纵向较短）但是使用 MapView 您没有该选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-22T09:04:08.127

您不必完全重新实现 draw 方法。只需在您的 MapView 子类中实现自定义绘制方法，将旋转应用于 Canvas，调用 super.draw()，然后恢复之前的 Canvas 转换。简单！

# java - 远程摄像机通信

> ID：10241715
> 
> 赞同：2
> 
> 时间：2012-04-20T07:04:50.840
> 
> 标签：java, android, client-server, arduino, rc

我正在寻找可以通过Android手机控制的带有摄像头的遥控车。这需要很多东西，但我唯一感到困惑的是如何将相机的图像与手机进行通信。我可以处理代码和东西，而且我对网络很了解，而且我已经做了很多次服务器客户端，但我真正需要的是知道如何将相机连接到 RC 上的某种启用 WiFi 的主板车。遥控车应该能够通过 WiFi 进行通信，我还想要一个主板，它可以让来自客户端（Android 手机）的 WiFi 数据控制电机速度和其他东西。我从哪里开始？我真的很困惑通过插座发送到我的遥控车的数据将如何控制电机，以及如何将来自汽车的摄像头数据发送到手机。

基本上，我需要一种控制电机的方法，也需要一种让汽车向我发送视频的方法。我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:37:15.943

您必须通过网络传输摄像机输入。为了实现这一点，您可以在汽车（流媒体服务器）安卓手机（客户端）中使用 Gstremer。使用 gstremer，您可以将相机设置为输入流，并将 rtsp 接收器设置为渲染器，这样您的客户端（iphone 应用程序）就可以连接到汽车上的实时流媒体服务器。

# eclipse - 如何在eclipse中安装android 4.0冰淇淋三明治版？

> ID：10241718
> 
> 赞同：5
> 
> 时间：2012-04-20T07:05:05.183
> 
> 标签：eclipse, ubuntu, sdk, installation, android-4.0-ice-cream-sandwich

我的办公系统已经在 Eclipse 中安装了一些 Android SDK 版本 1.5、1.6、2.1、2.2、2.3、3.1、3.2。这些版本运行良好。现在我想安装 4.0 版但我不知道？如何将 Android 4.0 Ice Cream Sandwich 安装到我的 Eclipse 中？我正在使用 Ubuntu 10.04。

另外，如果您知道如何在 Windows 下安装 Android 4.0，请告诉我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T07:20:47.430

![在此处输入图像描述](../Images/68df6d36c280e6f54abc299a02243458.png)

您将在 Eclipse 栏中有一个图标。那是 SDK 管理器。单击 SDK 管理器，您将获得下图：

选择您要下载的 API 级别。还要确保任何更新都可用于**ANDROID SDK TOOLS**和**ANDROID SDK PLATFORM TOOLS**，如果是这样，也更新它..

![在此处输入图像描述](../Images/c91317b8b782c3479349c94c299396e8.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T07:11:57.700

在 Windows 中，Luanch SDK 管理器。它将显示已安装/未安装/可用更新。选择您想要的任何 API 级别并点击安装包...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T07:10:24.457

如果您使用的是 Eclipse，您需要做的是运行 android SDK manager。弹出一个新窗口。它显示了所有可用的软件包。您需要做的就是更新它们。你可以通过浏览到你的 android-sdk 来做同样的事情。转到工具文件夹并运行 android (./android)。SDK 管理器再次弹出所有可用的包。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-20T07:07:19.710

您可以在以下链接下载最新版本的 Android SDK：

[http://developer.android.com/sdk/index.html](http://developer.android.com/sdk/index.html)

它包含 android 4.0 ics sdk ..！

（或者）

在 Eclipse 中打开 Android SDK 管理器，它显示 android 4.0 sdk（或）API 级别 14 显示未安装到您可以下载适用于 android 4.0 工作的包..！

谢谢..！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-04T07:36:18.437

如果您在代理后面，请转到Android SDK 管理器中的**工具 -> 选项**并设置代理设置。

# java - 尝试通过 Java 应用程序访问 Lotus DB - 收到错误消息“XXX.nsf 尚未打开”

> ID：10241730
> 
> 赞同：4
> 
> 时间：2012-04-20T07:05:58.887
> 
> 标签：java, lotus-notes

我正在尝试从外部 Java 应用程序连接到 Lotus DB - 我的代码对位于我的测试（本地）服务器上的数据库完美运行，但在针对生产 DB 运行时失败（不返回数据）。

`Diiop`正在生产服务器上运行，我拥有生产数据库的编辑器访问权限。

我可以通过我的 Java 代码创建与 Domino 服务器的会话，但无法打开 Lotus DB。

```
Session session = NotesFactory.createSession("<Server>","UserID","password"); 
System.out.println("connected");
Database db = session.getDatabase("Server","<DB Path>" );
System.out.println("Access level: "+ db.getCurrentAccessLevel());
View vw = db.getView("Viewname"); 
```

在与 Domino 服务器创建会话后，我尝试打开数据库，此时出现错误`XXX.nsf has not been opened yet`。

我也尝试过使用`IsOpen`and`open`方法，但没有成功。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T09:43:33.690

如果数据库的 ACL 禁止 Internet 访问（这意味着 http 任务），您的数据库将不会以 Java 代码打开。检查 ACL 的高级选项卡，属性“最大 Internet 名称和密码”。至少应该是 Depositor 才能打开它，或者 Reader 才能从中读取数据。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-23T08:46:11.763

要使 diiop 工作，服务器必须启用**允许 HTTP 客户端浏览数据库**设置。此设置可在 中找到`Server document->Internet Protocols->HTTP->R5 Basics`。值得注意的是，即使在现代 Domino 服务器实例中，此设置也会生效。我的猜测是此设置的当前值（设置为“否”）是您的问题所在。

您还应该确保正确配置了 diiop。对此的第一个测试是访问**http://hostname.domain.com/diiop_ior.txt**。访问此 URL 应该会显示一个页面，其中包含一个简单的文本字符串，其中包含 32 个（看似）随机字符。

当我需要让 diiop 工作时，我通常会参考这个[页面。](http://benpoole.com/bp/wiki.nsf/pages/DominoDIIOP)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T10:15:32.747

只是出于好奇，打印是什么：

```
session.getUserName(); 
```

..就在`getCurrentAccessLevel()`演出前？是否有一个模棱两可的用户名，并且您最终被认证为您不期望的人？

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-20T08:21:39.387

首先尝试使用代码中的名称/密码通过浏览器访问数据库。如果这不起作用，要么 HTTP 未运行，要么存在与您的代码无关的另一个问题。

对于这样的问题，我从信息中心中的示例代码开始。

[http://publib.boulder.ibm.com/infocenter/domhelp/v8r0/topic/com.ibm.designer.domino.main.doc/H_EXAMPLES_GETDATABASE_METHOD_JAVA.html](http://publib.boulder.ibm.com/infocenter/domhelp/v8r0/topic/com.ibm.designer.domino.main.doc/H_EXAMPLES_GETDATABASE_METHOD_JAVA.html)

例如。

```
Database db = session.getDatabase("<SERVER>", "<DBNAME>");

if (!db.isOpen())

    System.out.println("DB does not exist.");

  else

    System.out.println("Title of database: \"" + db.getTitle()+ "\"") ; 
```

看看是否打印出任何东西。

错误消息通常意味着数据库被服务器锁定或损坏。因此，请尝试另一个您知道必须有权访问的数据库（例如 names.nsf ）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-02-25T23:09:18.677

我遇到了同样的错误

```
Database xxx.nsf has not been opened yet 
```

我的问题是由于使用正斜杠而不是反斜杠。这更正了它：

```
var db = session.getDatabase(session.getServerName(), "path/dbname.nsf"); 
```

我注意到上述问题中没有任何地方确定了数据库路径，因此可能使用了错误的斜杠。

令人恼火的部分是，NotesException 消息不是返回错误消息“找不到文件”，而是`pathdbname.nsf has not been opened yet`实际上找不到它......

# asp.net - 我有路径操作问题。以下代码放在ASPx页面+VB的Page_load方法中

> ID：10241736
> 
> 赞同：-1
> 
> 时间：2012-04-20T07:07:03.923
> 
> 标签：asp.net, vb.net

```
If Request.QueryString("ID") = "" Then
                folderDirectory = Global.FileUpload.GetFolderDirectory(Request.QueryString("TFID"))

                If Not File.Exists(folderDirectory + fileName) Then
                    If Not Directory.Exists(folderDirectory) Then
                        Directory.CreateDirectory(folderDirectory)
                    End If

                    Dim bufferSize As Integer = Me.fileUpload.PostedFile.ContentLength
                    Dim buffer As Byte() = New Byte(bufferSize) {}
                    '  write the byte to disk
                    Using fs As New FileStream(Path.Combine(folderDirectory, fileName), FileMode.Create)
                        Dim bytes As Integer = Me.fileUpload.PostedFile.InputStream.Read(buffer, 0, bufferSize)
                        '  write the bytes to the file stream
                        fs.Write(buffer, 0, bytes)
                    End Using
                Else
                    CallOnComplete("error", "", "Error uploading '" & fileName & "'. File has been exists!")
                    Exit Sub
                End If 
```

但是上述示例代码的 Fortify 扫描报告显示`Path Manipulation`问题很高。我需要帮助修改上面的代码，以便它可以通过强化扫描它在 folderDirectory 向我显示错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:48:48.973

通常，当您的代码在 Web 应用程序中运行时，您无法像在本地 PC 上那样使用完整的文件系统。任何一种“路径操纵”都是可疑的。您应该尝试使用[Server.MapPath](http://msdn.microsoft.com/en-us/library/ms524632%28v=VS.90%29.aspx)方法重新编码您的作品。特别注意这个警告

```
For security reasons, the AspEnableParentPaths property has a default value set to FALSE.  
Scripts will not have access to the physical directory structure unless AspEnableParentPaths  
is set to TRUE. 
```

# javascript - Google Maps API V3，这是将标记捕捉到道路的好解决方案吗？

> ID：10241741
> 
> 赞同：0
> 
> 时间：2012-04-20T07:07:31.817
> 
> 标签：javascript, maps

所以我正在开发一个移动应用程序，并且一直在研究最简单的方法来让标记捕捉到您在地图上单击的最近的道路。我想出了以下解决方案，还没有看到它在网上的任何地方列出，只是想看看这样做有什么问题吗？

我会发布我的代码，但它散布在几个对象中。这就是它的要点。

所以基本上...... - 为返回点击的纬度/经度坐标的地图建立点击处理程序（简单）

然后像.. `var DirectionsService = new google.maps.DirectionsService();

```
DirectionsService.route({
        'origin': clickLatLngPosition,
        'destination': clickLatLngPosition,
        'travelMode': google.maps.TravelMode.DRIVING
    }, function(response, status){
        testLat = response.routes[0].legs[0].start_location.lat();
        testLng = response.routes[0].legs[0].start_location.lng();
        testPosition = new google.maps.LatLng(testLat, testLng);
        slammedNavigator.snMapElement.gmap('addMarker', {
            'position': testPosition
        });
    });` 
```

这是基于用户点击将标记捕捉到道路的好解决方案吗？是还是不是？有没有更好的办法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-03T10:03:25.350

如果您使用以下代码，您可以为自己节省三行代码：

```
position: response.routes[0].legs[0].start_location 
```

现在您正在使用 LatLng 对象的各个统计信息来创建一个新的 LatLng 对象

# javascript - 在 html 中更新图像上的文本

> ID：10241743
> 
> 赞同：3
> 
> 时间：2012-04-20T07:07:43.037
> 
> 标签：javascript, html, event-handling

我使用 em 标签在图像上写了一些文字。我想提供某种功能，以便当用户在文本框中键入此文本时，此文本会出现在图像上。我怀疑应该将哪个事件侦听器添加到文本框中，以便一旦更改文本框的内容，它也可以更改图像的内容。我只需要知道这可以通过事件侦听器完成还是需要更多的东西。我知道如何更改图像中的文本，但不知道如何动态更新此图像文本。希望问题很清楚

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:10:18.417

```
textBox.addEventListener('change', function () { ... }); 
```

如果您希望它在用户完成后出现，您可以使用：

```
textbox.addEventListener('blur', function () { ... }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T07:22:36.010

试试这个：

```
<html>
  <body>
    <input type="text" id="submit"/>
    <em id="toChange" >asd</em>
  </body>
</html> 
```

和 jQuery 是：

```
$('#submit').change(function() {
   $('#toChange').text( $('#submit').val());  
}); 
```

或使用这个[jsFiddle](http://jsfiddle.net/SX7n3/87/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T07:30:56.390

这是使用纯 javascript 的另一种替代方法。

添加`onkeyup`文本框并调用您提供的函数。

```
<input type="text" id="tbMain" onkeyup="keyup();"> 
```

当按下键时它会调用`function keyup()`

[在这里查看更多信息。](http://jsfiddle.net/oamiamgod/WHTXF/1/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-20T07:09:02.817

尝试 onchange() 事件监听器。我认为它会起作用

# sublimetext - Sublime text 过滤掉具有给定扩展名的文件

> ID：10241744
> 
> 赞同：26
> 
> 时间：2012-04-20T07:07:48.933
> 
> 标签：sublimetext

有没有办法在 Sublime Text 中按扩展名过滤掉文件？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2012-04-20T11:05:45.573

添加`file_exclude_patterns`到您的用户首选项文件。这就是我的样子：

```
"file_exclude_patterns":
[
    "*.tmTheme.cache",
    "*.tmPreferences.cache",
    "*.tmLanguage.cache",
    "*.pyc",
    "*.pyo",
    "*.exe",
    "*.dll",
    "*.obj",
    "*.o",
    "*.a",
    "*.lib",
    "*.so",
    "*.dylib",
    "*.ncb",
    "*.sdf",
    "*.suo",
    "*.pdb",
    "*.idb",
    ".DS_Store",
    "*.class",
    "*.psd",
    "*.db"
], 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-08-09T23:45:33.167

除此之外`"file_exclude_patterns"`，还可以使用`"folder_exclude_patterns"`。

引用[zbynour 中的此评论](https://stackoverflow.com/questions/10241744/sublime-text-filter-out-files-with-given-extension#comment18399247_10245021)：使用适当的产品目录结构，结合这两个指令可以轻松地排除具有已编译 TypeScript 输出、sass-cache 等的文件夹，而无需排除所有 .js 文件。

此外，您可以使用项目的 .sublime-project 文件为每个项目指定这些排除项。这是我的 .sublime-project 文件之一，它位于项目的根目录中。

```
{
  "folders":
  [
    {
      "path": ".",
      "folder_exclude_patterns": [".sass-cache"],
      "file_exclude_patterns": ["*.pdf", "*.psd"]
    }
  ]
} 
```

当然，您也可以在`User/Preferences.sublime-settings`文件中一起使用这些指令。这样做当然会影响所有打开的文件夹和/或项目的所有崇高会话，对我来说，几个月后忘记了设置，这引起了一些令人眼花缭乱的困惑。

# c# - 从 C++、C#、Perl 或 Java 转换为 PHP

> ID：10241745
> 
> 赞同：0
> 
> 时间：2012-04-20T07:07:52.267
> 
> 标签：c#, java, php, c++, perl

如以下链接所示，NCBI（国家生物技术信息中心）为 C++、C#、Perl 和 Java 中的生物信息学提供了一个小而非常有用的 SOAP 客户端，但不幸的是，没有这个 SOAP 客户端的 PHP 版本。

[ftp://lucid.bic.nus.edu.sg/biomirrors/blast/web_services/](ftp://lucid.bic.nus.edu.sg/biomirrors/blast/web_services/)

这是帮助我们 BLAST 基因序列的 Perl SOAP 客户端的一部分：

```
 my $search_lite = SOAP::Data->value(
        SOAP::Data->name('options' => 
                         \SOAP::Data->value(
        SOAP::Data->name('Blast4-options-lite' =>
                         \SOAP::Data->name('task' => 'blastn'))
                         )))->uri(NCBI_XML_NAMESPACE);

    my $result = 
        $soap->call(SOAP::Data->name('Blast4-queue-search-request-lite')
                          ->uri(NCBI_XML_NAMESPACE)
                          => $search_lite); 
```

我试图将其转换为 PHP，但它不起作用。我也使用了这个指南：[http ://www.ncbi.nlm.nih.gov/books/NBK55699/](http://www.ncbi.nlm.nih.gov/books/NBK55699/)

这是我的PHP代码：

```
try {
    $soapClient = new SoapClient($wsdlUrl);

    $result = $soapClient->SubmitSearchLite(array(
        //????
    ));
    echo $result;
}
catch {} 
```

你能帮我修一下吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:12:33.020

你考虑过使用[PHP/Java Bridge](http://php-java-bridge.sourceforge.net/pjb/)吗？它应该允许您通过 Java 使用 Web 服务，然后将您拥有的任何信息发送到您的 PHP 应用程序：

> PHP/Java Bridge 是基于 XML 的流式网络协议的实现，可用于将原生脚本引擎（例如 PHP、Scheme 或 Python）与 Java 虚拟机连接起来。它比通过 SOAP 的本地 RPC 快 50 倍，在 Web 服务器端需要更少的资源。它比通过 Java 本地接口直接通信更快、更可靠，并且不需要额外的组件即可从 PHP 调用 Java 过程或从 Java 调用 PHP 过程。

如果需要对 Web 服务进行任何额外更改，那么 Web 服务和您的 PHP 应用程序之间的这个额外层将证明自己很有用，因为您很可能只需要弄乱 Java 层，保持您的 PHP 代码完好无损。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-04-20T07:35:20.217

您知道 PHP 有自己的 SOAP 客户端，对吧？ [http://www.php.net/manual/en/class.soapclient.php](http://www.php.net/manual/en/class.soapclient.php)

# ios - ios中的快速操作

> ID：10241747
> 
> 赞同：1
> 
> 时间：2012-04-20T07:08:13.147
> 
> 标签：ios

任何人都可以指点我实现像 quickaction 这样的 twitter 吗？我可以在 Android pn [http://www.londatiga.net/it/how-to-create-quickaction-dialog-in-android/](http://www.londatiga.net/it/how-to-create-quickaction-dialog-in-android/)上做到这一点，谢谢！

# android - 如何在按钮单击中创建下拉菜单

> ID：10241750
> 
> 赞同：4
> 
> 时间：2012-04-20T07:08:40.567
> 
> 标签：android, drop-down-menu

我需要一个气球图像，显示按钮单击中的项目列表。（作为下拉菜单）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-20T07:38:14.553

我认为您的意思是 QuickAction 菜单。看看这个[教程](http://www.londatiga.net/it/how-to-create-quickaction-dialog-in-android/)。

# android - 从 Web 服务向 ImageView 显示图像（使用 URL 传递帖子参数）

> ID：10241753
> 
> 赞同：1
> 
> 时间：2012-04-20T07:08:55.967
> 
> 标签：android, android-image

我对这个主题进行了很多研究，但没有任何线索..

我正在从 Web 服务下载图像，但我必须使用 URL 传递 post 参数才能仅下载特定图像..

即使我不知道图像的格式，但是在使用 AppTester 时，当我使用 URL 传递 post 参数值时，我得到的响应是 web 服务是“image.png”

我在这里尝试的代码是：

```
 public String HTTPConnect(String uri1,List<NameValuePair> list,Context context)
{

    try {
        DefaultHttpClient httpClient = new DefaultHttpClient();

        HttpPost httpPost = new HttpPost(uri1);
        if(list!=null)
        {

        UrlEncodedFormEntity formEntity = new UrlEncodedFormEntity(list);
        httpPost.setEntity(formEntity);

        }
         //URI uri=httpPost.getURI();
        HttpResponse httpResponse = httpClient.execute(httpPost);
     //   Log.i("RESPONSE RETURNS THIS :", ""+httpResponse);
     //   Log.i("getEntity().getContent() RETURNS THIS :", ""+httpResponse.getEntity().getContent());
        in = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));
        StringBuffer sb = new StringBuffer("");
        String line = "";
       // String NL = System.getProperty("line.separator");
        while ((line = in.readLine()) != null) {
              sb.append(line +" "); //sb.append(line +NL);
        }
        in.close();

        result = sb.toString();

}
    catch(UnsupportedEncodingException e)
    {
        String err = (e.getMessage()==null)?"Cant connect to server":e.getMessage();
        Log.e("Network Error:",err); 
    }
    catch (MalformedURLException e) {
        String err = (e.getMessage()==null)?"Malformed Exception":e.getMessage();
        Log.e("Malformed Exception:",err); 

     } 
     catch(Exception ex)
     {
        // Log.i("Exception,ex", ex.getMessage());
         String err = (ex.getMessage()==null)?"NetworkConnectionException":ex.getMessage();
         Log.e("NetworkConnectionException:",err); 
     }
    finally {

        if (in != null) {
            try {
                    in.close();
             } catch (Exception ex) {
                 String err = (ex.getMessage()==null)?"Excepion":ex.getMessage();
                 Log.e("Exception:",err); 
            }
        }

     }

    return result;

  } 
```

在另一个类上，我调用此方法并将结果字符串转换为字节，如下所示：

```
 ArrayList<NameValuePair> postParameters2 = new ArrayList<NameValuePair>();

    postParameters2.add(new BasicNameValuePair("Token", "token"));
    postParameters2.add(new BasicNameValuePair("Action", "GetThumb"));

            Bitmap bMap=null;
        String CustomerImgXml=HTTPConnect("URL", postParameters2, this);
        bMap=BitmapFactory.decodeByteArray(CustomerImgXml.getBytes(), 0, CustomerImgXml.length()); 
```

请有人帮忙..我在这里很困惑

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:14:54.450

试试这个代码

```
Bitmap myBitmap; 
 try {
                      url = new URL("http://upload.wikimedia.org/wikipedia/commons/thumb/0/01/Sachin_Tendulkar.jpg/250px-Sachin_Tendulkar.jpg");
                      connection = (HttpURLConnection) url
                                    .openConnection();

                        connection.setDoInput(true);

                            connection.connect();
                             connection.setReadTimeout(120000);
                             InputStream     input = connection.getInputStream();
                             myBitmap = BitmapFactory.decodeStream(input);

                            } catch (IOException e) {
                        e.printStackTrace();
                        return null;
                    }

ImageView.setImageBitmap(myBitmap); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T09:53:27.200

最后我自己得到了答案：

我已经完成了编码：

```
 public InputStream HTTPImage(String uri1,List<NameValuePair> list) throws Exception
{
    InputStream input=null;
try {
    DefaultHttpClient httpClient = new DefaultHttpClient();

    HttpPost httpPost = new HttpPost(uri1);
    Log.i("postParameter,list", ""+list);
    if(list!=null)
    {

    UrlEncodedFormEntity formEntity = new UrlEncodedFormEntity(list);
    httpPost.setEntity(formEntity);

    }

    HttpResponse httpResponse = httpClient.execute(httpPost);
    input=(InputStream) httpResponse.getEntity().getContent();

        return input;
     } 
```

在另一堂课中：我正在使用它：

```
 InputStream in=null;
        in=con2.HTTPImage("https://hd.picbusiness.com/icmdev/hhw/App/", postParameters2);
        Bitmap bMap=BitmapFactory.decodeStream(in);
        img.setImageBitmap(bMap);
        Log.i("bMap", ""+bMap); 
```

谢谢大家的支持：）

# ms-word - VSTO Word AddIn 2007/2010 禁用编辑，就像文档管理系统一样

> ID：10241755
> 
> 赞同：4
> 
> 时间：2012-04-20T07:09:06.360
> 
> 标签：ms-word, vsto, add-in

你能告诉我怎么可能：

*   以某种方式禁用编辑打开的文档？
*   还是在用户即将更改当前文档时收到通知？

就像一些文档管理应用程序一样：在签入文档时：

*   不允许对其进行修改或
*   当用户尝试修改它时，他将被通知该文档已签入，因此应首先签出

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T23:38:29.430

1.  将文档保护类型设置为[WdProtectionType.wdAllowOnlyReading](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.word.wdprotectiontype.aspx)，类似于从电子邮件、Internet 或 SharePoint 门户打开 word 文档。

2.  当使用单击顶部的[ProtectedViewWindowDeactivate](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.excel.appevents_event.protectedviewwindowdeactivate.aspx)事件中的无论如何编辑黄色栏时，您可以在其中引发警报。

# javascript - 从 JavaScript 的下拉列表中获取多个值

> ID：10241759
> 
> 赞同：4
> 
> 时间：2012-04-20T07:09:27.277
> 
> 标签：javascript, html, dom, html-select

如何使用 JavaScript 函数获取下拉列表中选择的值？用户可以从这两个元素中选择多个值。以下是我正在使用的元素。提前致谢。

```
<select name="icOptions" id="icOptions" style="display: none" multiple="multiple">
  <option value="Choose an Option" selected="selected">Choose a Team </option>
  <option value="IDX">IDX</option>
  <option value="Support">SUPPORT</option>
  <option value="webapps">WEBAPPS</option>
</select>

<select name="ocOptions" id="ocOptions" style="display: none" multiple="multiple">
  <option value="Choose an Option" selected="selected">Choose a TeamMember </option>
  <option value="sanjay740">sanjay740</option>
  <option value="milind740">milind740</option>
</select> 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-04-20T07:22:13.717

```
var fld = document.getElementById('icOptions');
var values = [];
for (var i = 0; i < fld.options.length; i++) {
  if (fld.options[i].selected) {
    values.push(fld.options[i].value);
  }
}
// do something with values 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T19:16:40.163

[使用 jQuery 或 Prototype http://harvesthq.github.com/chosen/](http://harvesthq.github.com/chosen/)满足您的需求的真正棒的库 看看它。

它以非常好的方式支持选择和多选

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-08-07T09:49:12.427

接受答案的 ES6/功能风格替代方案：

```
const values = Array.apply(null, e.target.options)
  .filter(option => option.selected)
  .map(option => option.value); 
```

# android - 列表视图 java.lang.IllegalStateException 即使在调用 notifyDataSetCanged();

> ID：10241765
> 
> 赞同：2
> 
> 时间：2012-04-20T07:10:04.800
> 
> 标签：android, listview, android-listview, illegalstateexception

java.lang.IllegalStateException：适配器的内容已更改，但 ListView 没有收到通知。确保适配器的内容不是从后台线程修改的，而只是从 UI 线程修改的。

我的列表视图包含大量数据

当列表中的数据发生更改时，我正在使用处理程序调用波纹管代码

```
 listviewAdapter.notifyDataSetChanged(); 
```

但我有时会遇到同样的错误，而不是每次我加载它都提前谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:24:47.207

问题**不在于适配器在哪里更新**，而应该是：**适配器更新的时间**。

它看起来像：您绑定到适配器的数据已更改，并且 ui 已更新，所以这一次，系统发现数据已更改但无法调用`notifyDataSetChanged`.

所以，建议当您更改适配器的数据时，`notifyDataSetChanged`立即调用，

或者

不要在你的线程中直接更改适配器的数据，你应该将数据发送到`hanlder`，并在`handler`使用数据替换或更改适配器的数据和`notifyDataSetChanged`。

所以无论如何，建议获取数据可以在后台线程中运行，并更新数据，`notifyDataSetChanged`用于ui线程。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T07:13:04.010

错误很明显。您不必 `listviewAdapter.notifyDataSetChanged();`从不同于 UI 线程的线程调用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T07:21:32.017

在 runOnUIThread() 中修改适配器的参数或使用处理程序通知适配器数据集已更改。

# objective-c - UIGestureRecognizer 在 ipod 上给我错误但在 iphone 模拟器中没有？

> ID：10241767
> 
> 赞同：0
> 
> 时间：2012-04-20T07:10:10.073
> 
> 标签：objective-c, ios, unrecognized-selector, uipangesturerecognizer

在我的程序中，我声明了 a`UIPanGestureRecognizer`并且它在 iPhone 模拟器中运行良好。但是，当我在我的 iPod (iOS 3.1) 上运行它时，它给了我错误`[UIPanGestureRecognizer locationInView:]: unrecognized selector sent to instance 0x11cd80.`有人知道如何解决这个问题吗？谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-20T07:11:39.117

`UIPanGestureRecognizer`在 iOS 3.2 及更高版本中可用。请查看[Apple 文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIPanGestureRecognizer_Class/Reference/Reference.html)

# c# - SQL 超时异常

> ID：10241771
> 
> 赞同：-1
> 
> 时间：2012-04-20T07:10:32.580
> 
> 标签：c#, sql-server, ado.net

为什么我的代码中会出现此异常？我重新启动了服务器，更改了端口等，但没有任何效果。

怎么了？

```
DataTable dt = new DataTable();

SqlConnection con = new SqlConnection("server=localhost;user=armin;password=root;");
con.Open();

SqlCommand result = new SqlCommand(
    "SELECT userid FROM KDDData.dbo.userprofile order by userid", con);

SqlDataReader reader = result.ExecuteReader();
dt.Load(reader);

List<string> userids = new List<string>(dt.Rows.Count);

foreach (DataRow item in dt.Rows)
{
    userids.Add(item.ItemArray[0].ToString().Trim());
}

con.Close();

con = new SqlConnection("server=localhost;user=armin;password=root;");
con.Open();

foreach (string user in userids)
{
    DataTable temp = new DataTable();
    SqlCommand result1 = new SqlCommand(
    "select itemid from KDDTrain.dbo.train where userid=" + user, con);

    SqlDataReader reader1 = result1.ExecuteReader();

    if (!reader1.HasRows)
    {
        continue;
    }

    temp.Load(reader1);
} 
```

第一个查询工作正常，但第二个没有。正如你所看到的，我什至使用了其他一些`SqlConnection`，但它仍然不起作用。

注意：我正在使用的数据库至少有 1 亿条记录，我认为这可能是个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T07:22:11.293

在您的连接字符串中有些东西看起来不正确
我总是`"server=localhost; user=armin;password=root"`在 MySql 的连接字符串中看到，而不是在 SqlServer 的连接字符串中，我将使用`"Data Source=(LOCAL);Integrated Security=SSPI"`或 SqlServer 的实例名称。您确定第一个查询有效吗？

但是我认为您应该使用适当的 using 语句

```
DataTable dt = new DataTable(); 
using(SqlConnection con = new SqlConnection("server=localhost;user=armin;password=root;"))
{
    using(SqlCommand result = new SqlCommand(
            "SELECT userid FROM KDDData.dbo.userprofile order by userid", con))
    {
        con.Open(); 
        using(SqlDataReader reader = result.ExecuteReader())
        {
           dt.Load(reader); 
           List<string> userids = new List<string>(dt.Rows.Count); 
           foreach (DataRow item in dt.Rows) 
           { 
              userids.Add(item.ItemArray[0].ToString().Trim()); 
           }
        } 
        DataTable temp = new DataTable(); 
        foreach (string user in userids) 
        { 
            using(SqlCommand result1 = new SqlCommand( 
            "select itemid from KDDTrain.dbo.train where userid=" + user, con))
            {
                using(SqlDataReader reader1 = result1.ExecuteReader())
                {
                    if (!reader1.HasRows)   continue; 
                    temp.Load(reader1); 
                }
            } 
        } 
   } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-08T11:51:23.457

请插入此行

```
result1.CommandTimeout = 0; 
```

在第二个查询中的这一行之前

```
SqlDataReader reader1 = result1.ExecuteReader(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T07:19:45.073

在以下情况下处置您的阅读器：

```
foreach (DataRow item in dt.Rows)
{
    userids.Add(item.ItemArray[0].ToString().Trim()); 
} 
```

...并在 temp.Load(reader1) 之后关闭连接。同时关闭 reader1。

而不是所有这些......干净的方法是使用 USING 来初始化阅读器和连接。:)

# php - 两个提交按钮，一个表单（Yii）

> ID：10241775
> 
> 赞同：1
> 
> 时间：2012-04-20T07:11:00.697
> 
> 标签：php, forms, button, yii

我的表单中有两个 CHtml::submitButton()，即“接受”和“拒绝”。每个按钮都有一个特定的 ID ...当按下两者中的任何一个时，我想在我的控制器中触发一个动作。下面是代码片段。

==================================================== =======

**看法**

```
<?php
echo CHtml::beginForm('mycontrollerName/AcceptUserRegistration','get');
?>

<?php echo CHtml::submitButton('Accept', array('id' => 'accept')); ?>
<? echo '&nbsp;&nbsp;&nbsp;'; ?>
<?php echo CHtml::submitButton('Reject', array('id' => 'reject')); ?> 
<?php echo CHtml::endForm(); ?> 
```

==================================================== ======

**控制器**

```
public function actionAcceptUserRegistration() {

$value = $_GET['id'];

if($value == "accept"){
//will do something here
}

if($value == "reject"){
//will do something here.
}

} 
```

==================================================== =====================

当我以这种方式实现它时。控制器端的获取值为空。我做错了什么？或者有没有其他方法可以解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-20T07:14:13.207

你忘了给提交按钮一个名字（除非你的框架做了一些我们不知道的魔法——你真的应该发布生成的 HTML 代码！）。

如果这样做，则 in 的值`$_GET['buttonname']`将是它的*值*（而不是它的 id），即`Accept`or `Reject`。一旦你进入 i18n，这就会变得非常混乱，所以你可能想为按钮使用不同的*名称*，然后检查`isset($_GET['buttonname1'])`并`isset($_GET['buttonname2'])`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-07-09T13:53:44.087

这是您要达到的目标的代码示例：

看法：

```
<?php
echo CHtml::beginForm('mycontrollerName/AcceptUserRegistration','get');
?>

<?php echo CHtml::submitButton('Accept', array('id' => 'accept', 'name' => 'accept')); ?>
<? echo '&nbsp;&nbsp;&nbsp;'; ?>
<?php echo CHtml::submitButton('Reject', array('id' => 'reject', 'name' => 'reject')); ?> 
<?php echo CHtml::endForm(); ?> 
```

注意：我添加了名称参数。由于不向用户显示名称，您可以使用接受而不是接受。

控制器：

```
public function actionAcceptUserRegistration() {

if(isset($_GET['accept'])) {
     //accepted
} else if(isset($_GET['reject'])) {
     //rejected
}
//I recommend using POST method instead of GET for posting the form.
} 
```

# c# - 将 ExpandoObject 转换为匿名类型

> ID：10241776
> 
> 赞同：13
> 
> 时间：2012-04-20T07:11:04.497
> 
> 标签：c#, generics, anonymous-types, expandoobject

我可以将 ExpandoObject 转换为匿名类型吗？

```
var anoObj = new { name = "testName", email = "testEmail" };

dynamic expandoObj = new System.Dynamic.ExpandoObject();

// Here I'm populating the expandoObj with same property names/types in anonymoustype(anoObj)

// Now, how to convert this ExpandoObject to anonymoustype ?

var newObj = (typeof(anoObj)expandoObj); // This doesn't work 
```

## 稍后添加

// 这是我的实体

```
public class Customer
    {
        #region Public Properties

        [ColumnAttribute(Name = "IdColumn")]
        public string Id { get; set; }

        [ColumnAttribute(Name = "NameColumn")]
        public string Name { get; set; }

        [ColumnAttribute(Name = "AddressColumn")]
        public string Address { get; set; }

        [ColumnAttribute(Name = "EmailColumn")]
        public string Email { get; set; }

        [ColumnAttribute(Name = "MobileColumn")]
        public string Mobile { get; set; } 

        #endregion
    } 
```

//------------------------------------------------ -------------------------------------

```
public class LookupService<TEntitySource>
{
    public LookupService ()
    {

    }

    public LookupShowable<TEntitySource, TSelection> Select<TSelection>(Expression<Func<TEntitySource, TSelection>> expression)
    {
        var lookupShowable = new LookupShowable<TEntitySource, TSelection>();

        return lookupShowable;
    }
}

public class LookupShowable<TEntitySource,TSelection>
{
    public LookupShowable()
    {

    }

    public LookupExecutable<TEntitySource, TSelection, TShow> Show<TShow>(Expression<Func<TEntitySource, TShow>> expression)
    {
        var lookupExecutable = new LookupExecutable<TEntitySource,TSelection,TShow>();

        return lookupExecutable;
    }
}

public class LookupExecutable<TEntitySource, TSelection, TShow>
{
    public TSelection Execute()
    {
       // Here I want to create a new instance of TSelection and populate values from database and return it.
    }
} 
```

//------------------------------------------------ --------------------------------------

```
// This is How I want to call this from front end...
    var lookupService = new LookupService<Customer>();
    var lookupSelection = lookupService.Select(C => new { C.Id, C.Name, C.Mobile }).Show(C => new { C.Id, C.Name}).Execute();

    string sID = lookupSelection.Id;
    string sName = lookupSelection.Name;
    string sMobile = lookupSelection.Mobile; 
```

不要考虑这个中间部分..它的目的是另一个......

我的问题出在 LookupExecutable 类中的 Execute() 方法中。我不知道如何创建 TSelection 类型的新实例并为其赋值。此 TSelection 类型始终是匿名类型。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-20T07:21:22.843

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-04-03T05:16:03.230

使用 JavaScriptSerializer 将 ExpandoObject 转换为任何类型，如下所示：

```
.....
dynamic myExpandoObject = new ExpandoObject();
var result = ConvertDynamic<myType>(myExpandoObject);
.....

    public T ConvertDynamic<T>(IDictionary<string, object> dictionary)
    {
        var jsSerializer = new System.Web.Script.Serialization.JavaScriptSerializer();
        var obj = jsSerializer.ConvertToType<T>(dictionary);
        return obj;
    } 
```

这应该可以完成这项工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T07:25:26.883

在这里你有一个来自 ExpandoObject 的对象

```
 var anoObj = new { name = "testName", email = "testEmail" };

        dynamic expandoObj = new System.Dynamic.ExpandoObject();
        object newObj = expandoObj; 
```

但请注意，动态对象在资源方面非常昂贵，而且您所要求的似乎没有任何意义。假设您必须处理动态对象并且想要对它们做一些事情，那么您在评论中提出的问题是一个很好的方法：

```
dynamic expando = new System.Dynamic.ExpandoObject();

var myObj = new Dictionary<string, object>();

myObj["myProperty"] = expando.myProperty; 
```

任何动态对象都可以轻松转换为类型化字典。

希望有帮助！

# css - CSS3 视觉格式化模型

> ID：10241777
> 
> 赞同：0
> 
> 时间：2012-04-20T07:11:06.557
> 
> 标签：css

我对盒子模型规范中所写的内容感到困惑，因为 **它为每个元素生成 0 个或更多盒子**，但我不明白一个元素何时可能生成 0 个盒子。实际上在规范中也说**每个元素生成一个盒子**。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-02T23:19:02.337

在以下情况下，一个元素会生成 0 个框：

*   显示属性设置为无
*   元素是注释或嵌套在注释中
*   元素是处理指令
*   该元素是一个 <head> 元素
*   该元素是一个 <title> 元素
*   该元素是一个 <script> 元素
*   该元素是一个 <meta> 元素
*   该元素是一个 <link> 元素

# php - 如何在 PHP 中实例化和重用服务

> ID：10241779
> 
> 赞同：0
> 
> 时间：2012-04-20T07:11:18.183
> 
> 标签：php

在 Java EE 中，我会使用 Spring 来实例化和重用我的服务。现在，我使用服务、存储库和 DAO 用 PHP 创建了一个小框架来支持我的应用程序。

但是，如何实例化，但更重要的是，重用这些对象，而不必每次都实例化一个新对象？

刚开始使用单例很诱人，但是我的代码很快就会变得一团糟。

事实上，我在一般情况下使用 PHP 使用良好的 OO 实践和设计模式时遇到了麻烦。这有什么好的资源吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:17:32.893

我个人一直在 PHP 中使用 Singleton 方法，在我看来，我的代码还不是一团糟。许多其他项目（例如 Typo3）使用全局数组来存储对象。我不喜欢这种方法，因为数组项很容易被覆盖。

但是，如果您使用命名空间并在文件夹中排序项目文件（如在 Java 中），则单例方法非常干净。使用一种`getInstance()`方法，您比使用`$globalArray['myInstance']`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T19:53:59.250

我相信您正在寻找的是服务容器（IoC 容器）。您可以在您的应用程序中使用一些 PHP 实现。到目前为止，我使用的是 Symfony 框架提供的依赖注入组件。文档可以在[这里](http://symfony.com/doc/current/components/dependency_injection.html)找到。

我知道 PHP 中还有另一种实现，称为 Zend DI。它是自 2.0 版以来由另一个大型 PHP 框架提供的，但仍处于 beta 阶段。可以在[此处](http://framework.zend.com/wiki/display/ZFDEV2/Zend+DI+QuickStart)找到有关 Zend DI 组件的一些示例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T07:29:49.860

在 php 中，我们使用了重要的 framewokr 也使用的延迟加载技术

您需要构建一个自动加载策略，因为在 php 中您应该始终包含写入类以实例化对象的文件

Symfony 使用命名空间，例如

```
\DB\Repository\Classes\Product 
```

例如注册在一个

```
/DB/Repository/Classes/Product.php file 
```

你直接做一个

```
$product = new Product() 
```

不考虑包含文件和其他类似的操作。

# jquery - Jquery未在JSP页面上加载

> ID：10241789
> 
> 赞同：0
> 
> 时间：2012-04-20T07:12:05.253
> 
> 标签：jquery, jquery-mobile

我正在jsp页面中使用JQuery Mobile做一些事情，但是当我运行它时我的页面没有加载jquery，因为当我将它设为html时，相同的脚本工作正常，我无法弄清楚确切的问题？我很欣赏这个问题的任何解决方案..

这是我在 JSP 页面中使用的代码..

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1" import="org.apache.struts.action.DynaActionForm, com.sigma.sickkids.global.GlobalConstants"%>
<!DOCTYPE html>
<html>

<head>

<meta name="viewport" content="width=device-width, initial-scale=1; user-scalable=no">
<meta http-equiv="Content-type" content="text/html; charset=utf-8">

<link rel="stylesheet"  href="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.css" /> 
<link rel="stylesheet" href="scripts-css/style.css" />

<link rel="stylesheet" href="scripts-css/master.css" type="text/css" media="screen" title="no title">
<script type="text/javascript" charset="utf-8" src="scripts-css/cordova-1.5.0.js"></script>
<script type="text/javascript" charset="utf-8" src="scripts-css/main.js"></script>

<script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
<script src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js"></script>

<script src="scripts-css/custom-form-elements.js" type="text/javascript"></script>
<link rel="stylesheet" href="scripts-css/styleform.css" />

<script src="scripts-css/mobiscroll-1.6.min.js" type="text/javascript"></script>
<link href="scripts-css/mobiscroll-1.6.min.css" rel="stylesheet" type="text/css" />

<script>

  function go(loc){
       window.location.href = loc;
   }

 $('#homepage').load(function(){ 
    $("input[type='checkbox']").attr("checked",false).checkboxradio("refresh");
    var pretype=document.getElementById("editreg");
    var servdate=document.getElementById("servdate");

    var currentTime = new Date()
    var month = currentTime.getMonth() + 1
    var day = currentTime.getDate()
    var year = currentTime.getFullYear()
    servdate.value=$('#regdate').html(); //month + "/" + day + "/" + year;
    $(.abc).hide("fast");

        function goToByScroll(id){
          id = id.replace("link", "");
          $('html,body').animate({scrollTop: $("#"+id).offset().top},'slow');
        }
        $('#verify').change(function(){
           if(this.checked){$('#div1').show("slow");}
                      else {$('#div1').hide("slow");}
           goToByScroll("div1");
         });

        $("#servcode").change(function() {
             if ( $(this).val()=="nodate") {              
                 $('#depend :input').attr('disabled', true);
                 $('#depend :input').val("");
                }
             else {
                 $('#depend :input').attr('disabled', false);
               }
         });

  });

</script>
</head> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:20:16.140

我的第一个想法可能是这种冲突正在阻止 jquery 正常运行

[http://docs.jquery.com/Using_jQuery_with_Other_Libraries](http://docs.jquery.com/Using_jQuery_with_Other_Libraries)

# django - 使用 sct 的 django 模板错误

> ID：10241790
> 
> 赞同：0
> 
> 时间：2012-04-20T07:12:06.950
> 
> 标签：django, django-templates

我最近在我的项目中使用了 SCT 工具。在董事会中，当我尝试仅显示名称时 - 政治，IT 通过使用代码`{% sphboard_displayCategories rootCategories.name %}`.iam 得到错误为 `Caught VariableDoesNotExist while rendering: Failed lookup for key [name] in u'[<Category: politics>, <Category: IT>]'`

如果我使用`{% sphboard_displayCategories rootCategories %}`，我会得到政治和 IT 的全部细节。但我只需要显示带有 url 路径的名称。有人帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:24:16.117

我不知道 SCT 工具，但您可以返回：

```
rootNames = map(lambda x: x.name, rootCategories) 
```

从您的角度来看并使用那些（假设 SCT 只需要字符串）。您显然无法访问列表上的“.name”，这在 python 中也不起作用，您必须访问列表中各个对象的名称。

# javascript - jquerymobile 动态添加选择菜单

> ID：10241794
> 
> 赞同：1
> 
> 时间：2012-04-20T07:12:29.167
> 
> 标签：javascript, jquery, jquery-ui, jquery-mobile

我有一组保管箱代码是

```
<fieldset data-role="controlgroup" data-type="horizontal">
    <!--<legend>&nbsp;</legend>-->
    <select name="select-widget" id="select-widget">
        <option value="Widget">Widget</option>
    </select>
    <select name="select-nbl" id="select-nbl">
        <option value="NBL">NBL</option>
        <option value="HSM">HSM</option>
        <option value="TERR">TERR</option>
        <option value="KEY_ACCOUNT">KEY ACCOUNT</option>
    </select>
    <select name="select-level-focus" id="select-level-focus">
        <option value="LEVEL">LEVEL</option>
        <option value="FOCUS">FOCUS</option>
    </select>
    <select name="select-wdg" id="select-wdg">
        <option value="WDG">WDG</option>
    </select>
    <select name="select-wds" id="select-wds">
        <option value="WDS">WDS</option>
    </select>
</fieldset> 
```

不，我想在更改“select-nbl”或“select-levelfocus”时删除现有的选择框或添加新的选择框

如何使用 jquerymobile 做到这一点

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:25:03.903

这与 jQuery mobile 没有什么关系，它只是一个移动框架。您想要在此处执行的事件侦听器和 DOM 操作仍然由 jQuery 处理。

无论如何，你是怎么做到的？

好吧，你有你的事件监听器：

```
$('#select-nbl').change(function() {
    #Do something
}); 
```

你可以隐藏东西：

```
$('#select-wdg').parents('.ui-select').hide(); 
```

使用 parents() 是为了处理 jQuery mobile 放入的额外样式。

您无法轻松地将选择框添加到 jQuery mobile，但如果它们被隐藏，您可以显示它们。

```
$('#select-wdg').parents('.ui-select').show(); 
```

这一切都是行动：http: [//jsfiddle.net/luhn/Vgc4g/9/](http://jsfiddle.net/luhn/Vgc4g/9/)

# mvcmailer - MVC 4 中的 MvcMailer 脚手架错误

> ID：10241797
> 
> 赞同：12
> 
> 时间：2012-04-20T07:12:39.043
> 
> 标签：mvcmailer

我正在尝试使用最新版本的 NuGet 让[MvcMailer](https://github.com/smsohan/MvcMailer/wiki/MvcMailer-Step-by-Step-Guide)在新的 MVC 4 Beta 项目中工作（仅为尝试此项目而创建）。

我走到这一步

> PM> Scaffold Mailer UserMailer Welcome,PasswordReset

此时我看到错误消息：

> ~~无法解析别名“Scaffold”，因为它引用了术语“Invoke-Scaffolder”，该术语不能识别为 cmdlet、函数、可运行程序或脚本文件。验证术语并重试。在 line:1 char:9 + Scaffold <<<< Mailer UserMailer Welcome,PasswordReset + CategoryInfo : ObjectNotFound: (Scaffold:String) [], CommandNotFoundException + FullyQualifiedErrorId : AliasNotResolvedException~~

**更新**：安装 MvcScaffolding（不是 NuGet 先决条件...）后，同一命令的错误消息更改为：

> Invoke-Scaffolder：找不到接受参数“UserMailer”的位置参数。在 line:1 char:9 + Scaffold <<<< Mailer UserMailer Welcome,PasswordReset + CategoryInfo : InvalidArgument: (:) [Invoke-Scaffolder], ParameterBindingException + FullyQualifiedErrorId : PositionalParameterNotFound,T4Scaffolding.Cmdlets.InvokeScaffolderCmdlet

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-04-24T16:56:29.430

我遇到了同样的问题，为了解决这个问题，我更新了 Scaffolding 包（一次是 T4，另一次是 T4 + MVCScaffolding），然后重新启动了 VS。

```
update-package T4Scaffolding 
```

**和/或**

```
Update-Package MvcScaffolding 
```

记得之后重新启动VS。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-04-25T04:23:51.503

就原始问题而言，Segev 的回答是正确的。

原来，脚手架命令*也*发生了变化，导致了后续错误。正确的脚手架命令是：

**Scaffold Mailer.Razor UserMailer Welcome,PasswordReset**

从

[https://github.com/smsohan/MvcMailer/issues/37](https://github.com/smsohan/MvcMailer/issues/37)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-12T09:19:42.073

我有类似的问题。原因是我在 T4Scaffolding 升级后忽略了以下提示：

> 不同版本的 T4Scaffolding 已在此 Visual Studio 实例中运行 请重新启动 Visual Studio 以避免出现意外行为。在重新启动 Visual Studio 之前，您将无法使用脚手架。

重新启动 Visual Studio 绝对至关重要，然后一切顺利进行。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-04T14:26:54.550

我在更新 T4Scaffolding 包时遇到问题。这是因为我的 Packages 文件夹中有两个 T4Scaffolding 文件夹（T4Scaffolding.1.0.6 和 T4Scaffolding.1.0.7）。我将 1.0.6 重命名为 _T4Scaffolding1.0.6，之后一切正常。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2014-03-13T11:08:56.643

对我有用的是：

1.  卸载**MvcMailer**。
2.  卸载**MvcScaffolding**和**T4Scaffolding**。
3.  在包管理器控制台中设置正确的默认项目。
4.  从命令**Install-Package MvcScaffolding -Version 1.0.8-vs2013 -Pre运行此命令，正如 Scott 本人**[在此处](https://stackoverflow.com/questions/19081028/scaffolding-controllers-with-repositories-in-mvc5-ef6-visualstudio-2013)提到的那样。
5.  通过 Nuget安装**MvcMailer**。
6.  运行此命令**Scaffold Mailer.Razor UserMailer Welcome,PasswordReset**

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2014-04-11T15:28:28.897

尝试上述所有方法后仍然遇到此问题的任何人

您需要安装 Windows Management Framework 3.0 ( [http://www.microsoft.com/en-us/download/confirmation.aspx?id=34595](http://www.microsoft.com/en-us/download/confirmation.aspx?id=34595) )

T4Scaffolding.DLL 正在寻找 System.Management.Automation，版本=3.0.0.0

我只是没有更多的脚手架错误。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-10-03T13:18:45.403

我也遇到了这个错误。“Invoke-Scaffolder：找不到接受参数的位置参数......”对我来说，只需关闭 VS12 并重新打开即可修复它。奇怪的。

# qt - 如何在 Vala 中使用 Qt GUI？

> ID：10241802
> 
> 赞同：7
> 
> 时间：2012-04-20T07:13:20.923
> 
> 标签：qt, binding, qt4, vala

我发现关于这个主题的文档*为零*（我是否在错误的地方搜索？这对我来说似乎很奇怪）。

我只需要能够为我的 Vala 应用程序使用 Qt GUI。一个例子将不胜感激。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-04-25T23:58:06.693

正如其他人所提到的，Qt 和 Vala 不能携手合作，但这并不意味着不可能让他们合作。它主要是关于了解幕后发生的事情。

Vala 生成 C 代码，然后将其馈送到 gcc（或其他已安装的编译器）以生成二进制文件。请注意，Vala 设计师的主要目标之一是让 Vala 生成基于 C 的库。然后这些可以被其他接受基于 C 的绑定的语言使用——Python、Ruby、Java 等等。

因此，您可以使用 Vala 编写 Qt C++ GUI 应用程序调用的基于 C 的库。Vala 编译器生成一个 .h 文件，您的 Qt 应用程序仅 #includes。

问题在于 Qt 和 Vala 使用不同的对象系统：QObject 用于 Qt，GObject 用于 Vala。（Vala 确实允许其他后端，甚至有人认为 Vala 会生产 Qt C++ 而不是基于 GObject 的 C，但这还遥遥无期。） QObject 和 GObject 不兼容，因此您的 QObjects 可以与 GObjects 对话，你需要做很多基于 C 的手动工作。（用 C 语言编写 GObject 非常冗长，因此 Vala 的魅力在于隐藏所有这些。）

但这是可以完成的。请注意，[Qt 甚至会使用 GLib 的事件循环而不是它自己的](http://labs.qt.nokia.com/2006/02/24/qt-and-glib/)，从而允许代码混合在事件驱动的应用程序中。

我不能衷心推荐上面的，但理论上是可以的，主要是因为 C++ 代码可以很容易地调用 C 代码。

另一个值得考虑的可能性是让 Vala 代码成为 DBus 服务器，而您的 Qt 代码成为 DBus 客户端。DBus 是一个花哨的 IPC，因此它并不适合所有应用程序，但它可能适合您的应用程序。这很有吸引力，因为 Vala 可以轻松地生成 DBus 客户端和服务器（它们看起来像普通对象）。也可以使用生成 Qt DBus 绑定的工具。请注意，这意味着您的 Vala 代码作为单独的进程运行，而不是进程内库。请参阅[http://live.gnome.org/Vala/DBusServerSample](http://live.gnome.org/Vala/DBusServerSample)和[http://live.gnome.org/Vala/DBusClientSamples](http://live.gnome.org/Vala/DBusClientSamples)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-09T10:44:17.480

这不是您想要的，但请查看[https://live.gnome.org/GObjectIntrospection/GObjectConsume](https://live.gnome.org/GObjectIntrospection/GObjectConsume) 这将 gobject-introspection 引入 C++。使用 GObjectConsume，您可以在 C++ 和 qt 中使用您的 vala 库。

# php - codeigniter 中漂亮的 url 设置

> ID：10241806
> 
> 赞同：0
> 
> 时间：2012-04-20T07:13:49.220
> 
> 标签：php, codeigniter

我有带有控制器“package”、函数“tour_package”和参数“1”的url。 [http://www.mysite.in/package/tour_packages/1](http://www.mysite.in/package/tour_packages/1) 这里参数设置为id。我需要用相应的 url 字符串 [http://www.mysite.in/package/tour_packages/American](http://www.mysite.in/package/tour_packages/American)

和另一个例子，如： [http](http://www.mysite.in/package/tour_packages/2) ://www.mysite.in/package/tour_packages/2 到 [http://www.mysite.in/package/tour_packages/African](http://www.mysite.in/package/tour_packages/African)

如何做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T08:05:57.887

首先，我会更改 url 链接以使用**url_title()**（url helper）。如果您使用我认为是数据库调用的 ID 的文本值创建查询，这将为您提供类似

（例如，如果 id 1 的记录是 name="America"）；

```
echo 'http://www.mysite.in/package/tour-packages/'.url_title($name); 
```

会给;

```
http://www.mysite.in/package/tour-packages/American 
```

如果您随后添加此扩展路由器类，它将自动为您将破折号重新格式化为下划线。

```
<?php if (! defined('BASEPATH')) exit('No direct script access allowed');
class MY_Router extends CI_Router {

    function set_class($class) {
        $this->class = str_replace('-', '_', $class);
    }

    function set_method($method) {
        $this->method = str_replace('-', '_', $method);
    }

    function _validate_request($segments) {
        // Does the requested controller exist in the root folder?
        if (file_exists(APPPATH.'controllers/'.str_replace('-', '_', $segments[0]).EXT)) {
            return $segments;
        }
        // Is the controller in a sub-folder?
        if (is_dir(APPPATH.'controllers/'.$segments[0])) {       
            // Set the directory and remove it from the segment array
            $this->set_directory($segments[0]);
            $segments = array_slice($segments, 1);

            if (count($segments) > 0) {
                // Does the requested controller exist in the sub-folder?
                if ( ! file_exists(APPPATH.'controllers/'.$this->fetch_directory().str_replace('-', '_', $segments[0]).EXT)) {
                    show_404($this->fetch_directory().$segments[0]);
                }
            } else {
                $this->set_class($this->default_controller);
                $this->set_method('index');

                // Does the default controller exist in the sub-folder?
                if ( ! file_exists(APPPATH.'controllers/'.$this->fetch_directory().$this->default_controller.EXT)) {
                    $this->directory = '';
                    return array();
                }

            }

            return $segments;
        }

        // Can't find the requested controller...
        show_404($segments[0]);
    }
} 
```

然后您可以在路由文件中添加一个条目（在配置中）；就像是;

```
$route['package/tour_package/(:any)'] = "package/lookup_by_name/$1"; 
```

然后，您需要在包控制器中创建一个名为**lookup_by_name($name)**的方法。此方法需要对您的数据库进行 sql 查询，您可以在其中从 name 值中获取 id。然后，您可以继续加载视图或做任何您想做的事情。

例如

```
public function lookup_by_id($name) {
   // sql to get id from database record

   // load the view?
   $this->view($id);
}

public function view($id) {
   // sql to load full record from id
   $this->load->view('foo', $data);
} 
```

# c# - 常量表达式在“UInteger”类型中不可表示

> ID：10241809
> 
> 赞同：3
> 
> 时间：2012-04-20T07:13:59.540
> 
> 标签：c#, vb.net, constant-expression

如果我在 C# 中运行以下代码，那么它运行良好

```
UInt32 a
a = 0x9E3779B9 
```

但是当我在 VB.Net 中运行相同的代码时，它给了我错误“常量表达式在'UInteger'类型中不可表示”

```
Dim a As UInt32
a = &H9E3779B9 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-20T07:20:10.123

把UI放在最后

```
a = &H9E3779B9UI 
```

检查此[链接](http://connect.microsoft.com/VisualStudio/feedback/details/88322/uinteger-doesnt-react-the-same-on-decimal-and-hex-values)

来自[MSDN](http://msdn.microsoft.com/en-us/library/s9cz43ek%28v=vs.80%29.aspx)

> 您可以在前缀文字后面加上文字类型字符。以下示例显示了这一点。

```
Dim counter As Short = &H8000S
Dim flags As UShort = &H8000US 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T07:19:45.850

[我认为您可以通过查看此](http://connect.microsoft.com/VisualStudio/feedback/details/88322/uinteger-doesnt-react-the-same-on-decimal-and-hex-values)链接来解决您的问题，请参阅此链接中的解决方法部分

只需在文字末尾添加“UI”即可：

```
 Dim x as UInteger = &HF2894233UI 
```

否则 &H 返回一个有符号整数

# powershell - Powershell send-mailmessage - 向多个收件人发送电子邮件

> ID：10241816
> 
> 赞同：64
> 
> 时间：2012-04-20T07:14:37.253
> 
> 标签：powershell

我有这个 powershell 脚本来发送带有附件的电子邮件，但是当我添加多个收件人时，只有第一个收件人会收到邮件。我已经阅读了文档，但仍然无法弄清楚。谢谢

```
$recipients = "Marcel <marcel@turie.eu>, Marcelt <marcel@nbs.sk>"

Get-ChildItem "C:\Decrypted\" | Where {-NOT $_.PSIsContainer} | foreach {$_.fullname} |
send-mailmessage -from "primasfrb@nbs.sk" `
            -to "$recipients" `
            -subject "New files" `
            -body "$teloadmin" `
            -BodyAsHtml `
            -priority  High `
            -dno onSuccess, onFailure `
            -smtpServer  192.168.170.61 
```

* * *

## 回答 #1

> 赞同：97
> 
> 时间：2012-04-20T07:22:01.620

```
$recipients = "Marcel <marcel@turie.eu>, Marcelt <marcel@nbs.sk>" 
```

是`string`您需要传递给`send-mailmessage`类型`string[]`（数组）的类型：

```
[string[]]$recipients = "Marcel <marcel@turie.eu>", "Marcelt <marcel@nbs.sk>" 
```

我认为不强制转换为 string[] 可以满足 powershell 的强制规则：

```
$recipients = "Marcel <marcel@turie.eu>", "Marcelt <marcel@nbs.sk>" 
```

是`object[]`类型，但可以做同样的工作。

* * *

## 回答 #2

> 赞同：39
> 
> 时间：2015-05-12T14:23:06.910

只需创建一个 Powershell 数组就可以了

```
$recipients = @("Marcel <marcel@turie.eu>", "Marcelt <marcel@nbs.sk>") 
```

相同的方法可用于附件

```
$attachments = @("$PSScriptRoot\image003.png", "$PSScriptRoot\image004.jpg") 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2015-05-05T12:12:11.020

您必须首先将*字符串*转换为*字符串数组*，如下所示：

```
$recipients = "Marcel <marcel@turie.eu>,Marcelt <marcel@nbs.sk>"
[string[]]$To = $recipients.Split(',') 
```

然后`Send-MailMessage`像这样使用：

```
Send-MailMessage -From "primasfrb@nbs.sk" -To $To -subject "New files" -body "$teloadmin" -BodyAsHtml -priority High -dno onSuccess, onFailure -smtpServer 192.168.170.61 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2016-10-05T16:06:40.223

要定义一个字符串数组，使用 $var = @('User1', 'User2') 会更舒服。

```
$servername = hostname
$smtpserver = 'localhost'
$emailTo = @('username1 <user1@dom.com>', 'username2<user2@dom.com>')
$emailFrom = 'SomeServer <user3@dom.com>'
Send-MailMessage -To $emailTo -Subject 'Low available memory' -Body 'Warning' -SmtpServer $smtpserver -From $emailFrom 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2019-04-30T21:13:55.127

这是一个完整的（Gmail）和简单的解决方案......只需使用普通的；分隔符.. 最适合作为参数传入。

```
$to = "user1@domain.org;user2@domain.org"
$user = "italerts@domain.org"    
$pass = "password"

$pass = ConvertTo-SecureString -String $pass -AsPlainText -Force
$cred = New-Object System.Management.Automation.PSCredential $user, $pass
$mailParam = @{
    To = $to.Split(';')
    From = "IT Alerts <italerts@domain.org>"
    Subject = "test"
    Body = "test"
    SmtpServer = "smtp.gmail.com"
    Port = 587 #465
    Credential = $cred
    UseSsl = $true
}

# Send Email
Send-MailMessage @mailParam 
```

**谷歌邮件注意事项**

*   如果启用了“不太安全的应用程序”选项，这适用于 Gmail，但我们应该避免启用它。
*   而不是“不太安全的应用程序”，启用两步验证并使用“应用程序密码”
*   如果 587 不起作用，请使用端口 465。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-09-10T21:59:16.433

没错，每个地址都需要引用。如果您在命令行上列出了多个地址，则 Send-MailMessage 喜欢它，如果您同时指定人性化和电子邮件地址部分。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-04-18T12:05:35.620

# 发送 .NET / C# powershell 电子邮件使用这样的结构：

为了获得最佳行为，使用这样的方法创建一个类

```
 using (PowerShell PowerShellInstance = PowerShell.Create())
            {
                PowerShellInstance.AddCommand("Send-MailMessage")
                                  .AddParameter("SMTPServer", "smtp.xxx.com")
                                  .AddParameter("From", "xxx@xxx.com")
                                  .AddParameter("Subject", "xxx Notification")
                                  .AddParameter("Body", body_msg)
                                  .AddParameter("BodyAsHtml")
                                  .AddParameter("To", recipients);

                // invoke execution on the pipeline (ignore output) --> nothing will be displayed
                PowerShellInstance.Invoke();
            } 
```

因此，这些实例在如下函数中被调用：

```
 public void sendEMailPowerShell(string body_msg, string[] recipients) 
```

永远不要忘记为接收者使用字符串数组，如下所示：

```
string[] reportRecipient = { 
                        "xxx <xxx.Fercher@xxx.com>",
                        "xxx <xxx@xxx.com>"
                        }; 
```

# body_msg

此消息可以作为方法本身的参数，启用 HTML 编码！

# 收件人

千万不要忘记在有多个收件人的情况下使用字符串数组，否则只会使用字符串中的最后一个地址！！！

# 调用函数可能如下所示：

```
 mail reportMail = new mail(); //instantiate from class
        reportMail.sendEMailPowerShell(reportMessage, reportRecipient); //msg + email addresses 
```

## 大拇指

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-11-03T18:38:03.617

不需要所有复杂的铸件或拆分成一个数组。我只是通过改变语法来解决这个问题：

```
$recipients = "user1@foo.com, user2@foo.com" 
```

对此：

```
$recipients = "user1@foo.com", "user2@foo.com" 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-11-05T03:47:23.753

我在**Azure VM上使用****Powershell**和**SendGrid**向更多收件人发送邮件的完整解决方案：

 *** * *

```
# Set your API Key here
$sendGridApiKey = '......your Sendgrid API key'
# (only API permission to send mail is sufficient and safe')

$SendGridEmail = @{

    # Use your verified sender address.
    From = 'my@email.com'

    # Specify the email recipients in an array.
    To =  @('person01@domainA.com','person02@domainB.com')

    Subject = 'This is a test message via SendGrid'

    Body = 'This is a test message from Azure send by Powershell script on VM using SendGrid in Azure'

    # DO NO CHANGE ANYTHING BELOW THIS LINE
    SmtpServer = 'smtp.sendgrid.net'
    Port = 587
    UseSSL = $true
    Credential = New-Object PSCredential 'apikey', (ConvertTo-SecureString $sendGridApiKey -AsPlainText -Force) 
}

# Send the email
Send-MailMessage @SendGridEmail 
```

* * *

在我在 Azure 中的一台 VM 上使用 Powershell 5.1 进行了测试。**

# android - 较低版本的 android 设备中的 kannada 字体支持

> ID：10241820
> 
> 赞同：1
> 
> 时间：2012-04-20T07:14:46.897
> 
> 标签：android, fonts

我正在开发一个使用卡纳达语的应用程序。我在我的应用程序中使用了带有卡纳达语单词的 db，但我的问题是当我在较低版本的 android 设备中运行该程序时出现连接问题，它不会读取卡纳达语字体正确我已经使用了字体仍然无法正常工作。我已经搜索和搜索，但没有找到答案。有人可以帮我解决这个问题吗？这是我到目前为止所做的。我同时使用了 tunga.ttf 和 baraha.ttf。但是当我使用 baraha.ttf 时，运行应用程序时不会出现卡纳达语字体。

```
Typeface tf = Typeface.createFromAsset(getBaseContext().getAssets(),
        "fonts/tunga.ttf");
        //to get the views

        txt_tag[0] = (TextView) findViewById(R.id.txt_tag1);
        txt_tag[0].setOnClickListener(this);
        txt_tag[0].setTypeface(tf);

        txt_tag[1] = (TextView) findViewById(R.id.txt_tag2);
        txt_tag[1].setOnClickListener(this);
        txt_tag[1].setTypeface(tf);

        txt_tag[2] = (TextView) findViewById(R.id.txt_tag3);
        txt_tag[2].setOnClickListener(this);
        txt_tag[2].setTypeface(tf);

        txt_tag[3] = (TextView) findViewById(R.id.txt_tag4);
        txt_tag[3].setOnClickListener(this);
        txt_tag[3].setTypeface(tf); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-17T14:38:30.073

你用的是什么版本的安卓？如我所见，只有三星 Galaxy Ace S5830 支持字体渲染。您必须做一些工作才能获得字体。 [http://chetangole.com/blog/2011/08/enabling-installing-hindi-marathi-unicode-fonts-on-android-mobile/](http://chetangole.com/blog/2011/08/enabling-installing-hindi-marathi-unicode-fonts-on-android-mobile/)

# c# - 托管封送处理的本机具有随机值

> ID：10241825
> 
> 赞同：2
> 
> 时间：2012-04-20T07:14:54.877
> 
> 标签：c#, c++, memory, interop

我很难理解缓冲区中的某些值来自何处以及为什么会出现 System.ExecutionEngineException。

这是我的情况：在我的系统中，我有一个本机应用程序，它通过命名管道与托管服务通信。本机应用程序用于`WriteFile(pipehandle, &msg, sizeof(msg), &cbBytes, NULL)`发送由以下结构保存的数据：

```
struct NotificationMessageHeader
{
    __int32 A;
    __int64 B;
    __int32 MessageType;
    __int32 D;
};

struct NotificationMessageA
{
    NotificationMessageHeader Header;
    unsigned char X;
    wchar_t Y[MAX_PATH];
}; 
```

托管服务具有这些结构的托管版本，如下所示：

```
[StructLayout(LayoutKind.Sequential)]
public struct NotificationMessageHeader
{
    public UInt32 A;
    public UInt64 B;
    public UInt32 MessageType;
    public UInt32 D;
}

[StructLayout(LayoutKind.Sequential)]
public struct NotificationMessageA
{
    public NotificationMessageHeader Header;
    [MarshalAs(UnmanagedType.I1)]
    public byte X;
    [MarshalAs(UnmanagedType.LPWStr)]
    public string Y;
} 
```

当我从本机应用程序发送数据时，我要做的第一件事是将缓冲区读入通用结构：

```
[StructLayout(LayoutKind.Sequential, CharSet = CharSet.Unicode)]
public struct GenericNotificationMessage
{
    public NotificationMessageHeader Header;
} 
```

确定什么是消息类型，在确定消息类型受支持后，我使用此函数将该缓冲区的其余部分解码为适当的结构：

```
 T GetMessageAsStructure<T>(object data)
        where T : struct
    {
        T output = default(T);
        GCHandle handle = GCHandle.Alloc(data, GCHandleType.Pinned);
        try
        {
            IntPtr dataPtr = handle.AddrOfPinnedObject();
            output = (T)Marshal.PtrToStructure(dataPtr, typeof(T));
        }
        finally
        {
            handle.Free();
        }
        return output;
    } 
```

再次 - 有两个调用`GetMessageAsStructure`. 一个作为类型参数的获取`GenericNotificationMessage`仅解码标头并且它可以正常工作 - 我按预期获取标头字段中的值。然后，如果我发现消息是我支持的类型，我`GetMessageAsStructure`会使用 type 参数调用 - 在这种情况下是`NotificationMessageA`.

......事情开始变糟了。CLR 因访问冲突异常而失败。我试图查看托管端缓冲区中的值，例如，当我发送类似以下内容时：

```
 NotificationMessageA msg = { };
    memset(&msg, 0, sizeof(msg));

    msg.Header.A = 2;
            msg.Header.B = 999;
    msg.Header.MessageType = 1;
    msg.Header.D = 3;
    msg.X = 64;
    wcscpy(msg.Y, L"somexec.exe");

    DWORD written = 0;
    WriteFile(_hPipe, &msg, sizeof(msg), &written, NULL); 
```

托管缓冲区具有以下值：

```
[0] 2 <---- This shouldn't be at index 3?
[1] 0
[2] 0
[3] 0
[4] 0
[5] 0
[6] 0
[7] 0
[8] 231 <--- WTF is this? should't it start at index 11?
[9] 3
[10] 0
[11] 0
[12] 0
[13] 0
[14] 0
[15] 0
[16] 1
[17] 0
[18] 0
[19] 0
[20] 3
[21] 0
[22] 0
[23] 0
[24] 64
[25] 0
[26] 115
[27] 0
[28] 111
[29] 0
[30] 109
[31] 0
[32] 101
[33] 0
[34] 101
[35] 0
[36] 120
[37] 0
[38] 101
[39] 0
[40] 99
[41] 0
[42] 46
[43] 0
[44] 101
[45] 0
[46] 120
[47] 0
[48] 101
[49] 0
[50] 0 
```

我虽然可能我在那里得到了一些垃圾，因为我`= { }`在 C++ 中使用 which 将成员初始化为默认值并且不影响对齐填充结构，但事实并非如此，因为即使使用`memset(..., 0, ...)`也不是影响接收到的字节。

另外，仅当我尝试解码结构的其余部分时，仅对标头进行了完美解码，该字符串具有我得到 System.ExecutionEngineException 的字符串。

通过查看我的结构，托管缓冲区也不包含我期望它在那里拥有的东西 - 。

为什么？

更令人费解的是，Visual Studio 报告抛出的是 ExecutionEngineException，而 MSDN 说这个异常不再是运行时抛出的，它已经过时了。

反序列化该字符串时我做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-20T07:25:39.477

您正在编组`NotificationMessageA.Y`为指针，但在本机代码中，它是结构内的缓冲区，而不是指针，您应该使用`UnmanagedType.ByValTStr`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T07:54:32.517

除了 MiMo 的回答：

```
Index 0 to 3: MessageHeader.A, little endian
Index 4 to 7: padding, since B must be 8 byte aligned
Index 8 to 15: B, little endian
...
Index 24: X
Index 25: padding
Index 26: start of the wchar_t array Y, but will be incorrectly interpreted as a pointer 
```

# backbone.js - Backbone.js 对 jQuery 有硬依赖吗？

> ID：10241831
> 
> 赞同：21
> 
> 时间：2012-04-20T07:15:27.887
> 
> 标签：backbone.js

根据骨干js网站：

> Backbone 唯一的硬依赖是 Underscore.js (> 1.3.1)。对于 RESTful 持久性，通过 Backbone.Router 的历史支持和使用 Backbone.View 的 DOM 操作，包括 json2.js，以及 jQuery (1.4.2) 或 Zepto。

我用下面的代码进行了测试，删除了 jQuery，Backbone 视图抛出了一个错误。

```
<html>
<head>
    <title>asda</title>

    <!--<script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>-->
    <script src="http://documentcloud.github.com/underscore/underscore.js"></script>
    <script src="http://documentcloud.github.com/backbone/backbone.js"></script>            
    <script type="text/javascript" charset="utf-8" async defer>
        SearchView = Backbone.View.extend({
            initialize: function(){
                alert("Alerts suck.");
            }
        });

        // The initialize function is always called when instantiating a Backbone View.
        // Consider it the constructor of the class.
        var search_view = new SearchView;
    </script>   
</head>
<body>

</body>
</html> 
```

Backbone.View 和 Backbone.Router 如何在没有 jQuery 的情况下工作？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-04-20T13:22:38.180

虽然 Backbone.View 确实依赖于*DOM*操作库，即您不能使用未组织到某种库中的 vanilla javascript，但您可以将 Backbone 配置为使用您喜欢的任何库。

请参阅 Backbone 源中的以下内容：

```
// Set the JavaScript library that will be used for DOM manipulation and
// Ajax calls (a.k.a. the `$` variable). By default Backbone will use: jQuery,
// Zepto, or Ender; but the `setDomLibrary()` method lets you inject an
// alternate JavaScript library (or a mock library for testing your views
// outside of a browser).
Backbone.setDomLibrary = function(lib) {
  $ = lib;
}; 
```

调用此方法将允许您使用所需的任何库。

例如：

```
Backbone.setDomLibrary(myCustomLibrary); 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-04-20T07:26:31.473

您可以`Backbone.Model`不使用 jQuery 使用，但`Backbone.View`需要 jQuery 或 Zepto，就像文档状态一样。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-11-13T10:21:25.327

尝试使用[jBone](https://github.com/kupriyanenko/jbone)，这是现代浏览器中用于 DOM 操作的库，jBone 专门为 Backbone 开发，只有 2kb gzipped 和类似 jQuery 的 API。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2014-06-12T22:27:07.460

Backbone 现在更容易与 jQuery 分离。
看一下这个：

[在没有 jQuery 的情况下使用 Backbone](https://github.com/jashkenas/backbone/wiki/Using-Backbone-without-jQuery)

# javascript - 为 Google Chrome 扩展下载网页的 HTTPS 资源

> ID：10241838
> 
> 赞同：0
> 
> 时间：2012-04-20T07:16:09.740
> 
> 标签：javascript, google-chrome, google-chrome-extension

我正在为 Google Chrome 编写一个扩展，它将给定的页面转换为 PDF。为了实现这个功能，我下载了页面的 HTML 并通过 JavaScript 将它传递给一个 NPAPI DLL，在那里进行转换并创建 PDF 文件。

我已经为 type 的页面实现了这个功能`http://*`，但它不适用于 type 的页面`https://*`。我需要下载该网页的 HTTPS 资源（CSS、图像等）并修改 HTML，然后再将其传递给 NPAPI DLL。

我找不到任何好的链接来解释如何为 Chrome 完成它。请给我一些建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T11:36:14.017

您没有引用收到的错误消息，但我猜您的扩展根本不允许访问 HTTPS。请检查您的`manifest.json`，它应该同时列出`"http://*/*"`和`"https://*/*"`下`"permissions"`。

文档：[清单中的权限](http://code.google.com/chrome/extensions/manifest.html#permissions)，[匹配模式](http://code.google.com/chrome/extensions/match_patterns.html)。

# lwuit - lwuit1.5中自动创建项目

> ID：10241839
> 
> 赞同：0
> 
> 时间：2012-04-20T07:16:13.020
> 
> 标签：lwuit, lwuit-resource-editor

谁能告诉我如何通过编码为 Projectname_MIDP 和 Projectname_RIM 来创建 2 个不同的项目，就像它在 lwuit1.5 GUI Builder 中创建的一样。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-21T05:54:01.990

从资源编辑器生成项目时，它们都在您生成的基础项目下。

# joomla - Virtuemart 2 产品详情 PDF

> ID：10241844
> 
> 赞同：1
> 
> 时间：2012-04-20T07:16:42.940
> 
> 标签：joomla, joomla-extensions, tcpdf, virtuemart

有谁知道如何修改 Virtuemart 2 产品详细信息 pdf 视图。我找到了修改文档正文的位置，但我需要修改： - 标题字体和文本 - 将公司徽标插入标题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-03T09:25:25.313

我想我找到了解决方案：

您需要扩展 TCPDF 类并`function display()` 在`view.pdf.php``components/com_virtuemart/views/pdf/`

就像是：

```
function display($tpl = 'pdf'){

    if(!file_exists(JPATH_VM_LIBRARIES.DS.'tcpdf'.DS.'tcpdf.php')){
        vmError('View pdf: For the pdf invoice, you must install the tcpdf library at '.JPATH_VM_LIBRARIES.DS.'tcpdf');
    } else {

        $viewName = jRequest::getWord('view','productdetails');
        // custom pdf for product details
        if($viewName == 'productdetails'){
            $class= 'VirtueMartView'.ucfirst($viewName);
            if(!class_exists($class)) require(JPATH_VM_SITE.DS.'views'.DS.$viewName.DS.'view.html.php');
            $view = new $class ;
            //$format = 'pdf';
            //generating pdf body and caching the buffer
            ob_start();
            $view->display($tpl);
            $html = ob_get_contents();
            ob_end_clean();

            // create pdf
            $pdf = new MYPDF(PDF_PAGE_ORIENTATION, PDF_UNIT, PDF_PAGE_FORMAT, true, 'UTF-8', false);

            // set document information
            $pdf->SetCreator('Creator Name');
            $pdf->SetAuthor('Author Name');

            $pdf->SetTitle('PDF Title');
            $pdf->SetSubject('PDF Subject');
            $pdf->SetKeywords('PDF list keyword');
            // set header and footer fonts
            $pdf->setHeaderFont(Array('helvetica', '', 8));
            $pdf->setFooterFont(Array('helvetica', '', 10));

            // set default monospaced font
            $pdf->SetDefaultMonospacedFont(PDF_FONT_MONOSPACED);

            //set margins
            $pdf->SetMargins(PDF_MARGIN_LEFT, PDF_MARGIN_TOP, PDF_MARGIN_RIGHT);
            $pdf->SetHeaderMargin(PDF_MARGIN_HEADER);
            $pdf->SetFooterMargin(PDF_MARGIN_FOOTER);

            //set auto page breaks
            $pdf->SetAutoPageBreak(TRUE, PDF_MARGIN_BOTTOM);

            //set image scale factor
            $pdf->setImageScale(PDF_IMAGE_SCALE_RATIO);

            // set default font subsetting mode
            $pdf->setFontSubsetting(true);

            // Set font
            // dejavusans is a UTF-8 Unicode font, if you only need to
            // print standard ASCII chars, you can use core fonts like
            // helvetica or times to reduce file size.
            $pdf->SetFont('helvetica', '', 8, '', true);

            // if you want to add something to pdf body
            //$html .= "foobar";

            // Add a page
            // This method has several options, check the source code documentation for more information.
            $pdf->AddPage();

            // Print text using writeHTMLCell()
            $pdf->writeHTMLCell($w=0, $h=0, $x='', $y='', $html, $border=0, $ln=1, $fill=0, $reseth=true, $align='', $autopadding=true);

            // Close and output PDF document
            // This method has several options, check the source code documentation for more information.
            // 
            $pdf->Output('filename.pdf','I');

            exit; //avoid mixing pdf and html output that cause duplicate header error
        }
        else
        {
            //If not in productdetails
            echo "yadda yadda yadda";
        }
    }
} 
```

和

```
if(!class_exists('TCPDF'))  require_once(JPATH_VM_LIBRARIES.DS.'tcpdf'.DS.'tcpdf.php');
// Extend the TCPDF class to create custom Header and Footer
class MYPDF extends TCPDF {

    public function __construct() {

        parent::__construct();

    }

    //Page header
    public function Header() {
     // Logo
        //$image_file = K_PATH_IMAGES.'logo_example.jpg';
        //$this->Image($image_file, 10, 10, 15, '', 'JPG', '', 'T', false, 300, '', false, false, 0, false, false, false);
        // Set font
        $this->SetFont('helvetica', 'B', 20);
        // Title
        $this->Cell(0, 15, 'Custom header text', 0, false, 'C', 0, '', 0, false, 'M', 'M');
    }

    // Page footer
    public function Footer() {
        // Position at 15 mm from bottom
        $this->SetY(-15);
        // Set font
        $this->SetFont('helvetica', 'I', 8);

        //vmdebug('$vendor',$vendor);
        $html = "Custom footer txt";
        // Page number
        $this->writeHTMLCell($w=0, $h=0, $x='', $y='', $html, $border=0, $ln=1, $fill=0, $reseth=true, $align='', $autopadding=true);

    }

} 
```

# ruby-on-rails-3.1 - Rails 不适用于 Lion

> ID：10241845
> 
> 赞同：4
> 
> 时间：2012-04-20T07:16:44.003
> 
> 标签：ruby-on-rails-3.1, osx-lion, rvm

我将我的 Mac OSX 版本更改为 Lion。但是我无法创建 Rails3 应用程序。

我使用 rvm 1.9.2 并选择 ruby​​ 1.9.2-p290 来创建 Rails 3 应用程序。

一切似乎都很好。当我开始创建一个新应用程序时

```
rails new new_my_app 
```

我看到这个错误，

```
Installing json (1.6.6) with native extensions 
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

        /Users/ender/.rvm/rubies/ruby-1.9.2-p290/bin/ruby extconf.rb 
creating Makefile

make
sh: make: command not found

Gem files will remain installed in /Users/ender/.rvm/gems/ruby-1.9.2-p290/gems/json-1.6.6 for inspection.
Results logged to /Users/ender/.rvm/gems/ruby-1.9.2-p290/gems/json-1.6.6/ext/json/ext/generator/gem_make.out
An error occured while installing json (1.6.6), and Bundler cannot continue.
Make sure that `gem install json -v '1.6.6'` succeeds before bundling. 
```

当我尝试

```
gem install json -v '1.6.6' 
```

我面临这个错误

```
Building native extensions.  This could take a while...
ERROR:  Error installing json:
    ERROR: Failed to build gem native extension.

        /Users/ender/.rvm/rubies/ruby-1.9.2-p290/bin/ruby extconf.rb
creating Makefile

make
sh: make: command not found

Gem files will remain installed in /Users/ender/.rvm/gems/ruby-1.9.2-p290/gems/json-1.6.6 for inspection.
Results logged to /Users/ender/.rvm/gems/ruby-1.9.2-p290/gems/json-1.6.6/ext/json/ext/generator/gem_make.out 
```

我应该怎么做才能解决这个问题？

谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-17T19:52:29.423

您需要从 Xcode 4 for Lion 的首选项中安装“命令行工具”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T08:43:09.207

您需要安装 osx-gcc-installer

如果您从 previoys 系统迁移 ruby​​，则需要重新安装 ruby​​ 和 gems：

```
rvm reinstall 1.9.2
rvm use 1.9.2
rvm gemset pristine 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-21T02:00:40.020

我遇到了这个问题，这为我解决了这个问题。我最近从旧系统迁移到新 iMac。

我首先安装了 libksba。我不确定这是否有必要，但我想这不会造成伤害。我使用[自制软件](https://brew.sh/)，所以这就是我所做的：

```
brew install libksba 
```

然后，我更新了 rvm。

```
rvm get head 
```

更新后，它通知我需要安装 ruby​​-1.9.3-p194。

```
rvm install ruby-1.9.3-p194 
```

安装了 1.9.3。我想要一些旧应用程序的 1.9.2，所以我重新安装了它。

```
rvm reinstall 1.9.2 
```

最后，我安装了导致此问题的 json gem：

```
gem install json -v '1.6.6' 
```

中提琴！它安装正确。我做的最后一件事是运行 bundle，但它抱怨找不到这个：

```
Could not find multi_json-1.3.1 in any of the sources 
```

我删除了 Gemfile.lock 并重新运行了包。

```
rm Gemfile.lock
bundle 
```

现在一切正常！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-23T16:04:37.983

最后我赢了。也许这可能是简短或简单的方法。你知道。首先，我更新了 RVM，但在此之前，我从 appstore 为 Lion 安装了 Xcode 4。第二步是重新安装最新的 stabil ruby​​ 版本并创建我的 gemset。最后，我将 rails 3.2 下载到我之前在 ruby​​ 上设置的 gem set 中。

# ios - 来自 shell 脚本的工具 + UIAutomation

> ID：10241849
> 
> 赞同：1
> 
> 时间：2012-04-20T07:17:14.207
> 
> 标签：ios, ui-automation, ios-ui-automation, xcode-instruments

> **可能重复：**
> [有没有办法从 Instruments (XCode) 的命令行实例中删除授权提示？](https://stackoverflow.com/questions/9476131/is-there-a-way-to-remove-the-authorization-prompt-from-command-line-instances-of)

我一直在构建一个詹金斯工作来自动运行我的 UIAutomation 脚本一整天。我已经一一解决了这样做的所有问题（jenkins 默认作为守护进程运行，还有很多），我还剩下一个。'instruments' 命令将请求允许收听进程或其他内容（我忘记了确切的措辞），因为这需要用户提示/通过，它会因错误而终止我的脚本：

> 授权权限 (0x2) 失败，状态：-60007

这是我完成这项工作的最后一个障碍，我已经尝试过：

> echo "用户\n密码" | 仪器 ....

但这似乎根本没有提供这些提示值。仍然失败并出现相同的错误。如何在某处运行仪器或修改某些文件，使其不会提示？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T21:22:12.947

听起来我自己很快就要深入研究了。

我很好奇如果您将您的仪器命令添加到 /etc/sudoers 然后尝试运行会发生什么。可能会避免您看到的身份验证提示。

试一试：

1.  终端中的“sudo visudo”

2.  添加这一行（用您的仪器命令的其余部分替换“yourargs”）

yourUserName ALL=NOPASSWD: /usr/bin/instruments yourargs

然后尝试运行 Jenkins 代理尝试运行的命令，在其前面加上“sudo”，例如“sudo Instruments ...”

# android - 在drawable-land文件夹中使用带有xml的纵向可绘制对象

> ID：10241851
> 
> 赞同：1
> 
> 时间：2012-04-20T07:17:14.860
> 
> 标签：android, android-layout

我有

xmlA 在 drawable 和 drawable-land 文件夹中

drawable 和 drawable-land 文件夹中的 xmlB

可绘制和可绘制土地文件夹中的 icon_image

我想在两个 xml 中使用 icon_image

在 xmlA 中它可以正常工作，但在 xmlB 中，无论我的 xml 处于横向模式还是 portarit 模式，我都想使用仅可绘制文件夹的 icon_image。我不想使用 drawable 的 icon_image

问题是当应用程序处于横向模式时 xmlB 使用 drawable-land 的 icon_image 这是 android 的默认行为，我不希望这种情况发生。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T09:51:22.437

对于 xmlB 中的景观模式，删除您的图像视图的 src 或背景，并在您使用 xmlB 的活动中添加代码

```
 @Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);

    // Checks the orientation of the screen
    if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {

            setContentView(R.layout.xmlB); 
            ImageView iv=(ImageView)findViewById(R.id.img);
                      iv.setImageResource(R.drawable.icon_image);

    } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){

            setContentView(R.layout.xmlB); 

    }
} 
```

为此在 potrait 模式下做同样的事情，但使用这种方法你必须再次做所有事情意味着为 textview 按钮单击设置文本等......在 potrait 和横向模式下都可以工作吗

# visual-studio - Visual Studio 2010 SP1 到 11 Beta - 无法加载单元测试项目

> ID：10241852
> 
> 赞同：1
> 
> 时间：2012-04-20T07:17:21.527
> 
> 标签：visual-studio, visual-studio-2012

我们有一个 Visual Studio 2010 SP1 Framework 4.0 解决方案和一个包含单元测试的 C# 项目。

我卸载了 VS2010 并在 Windows 7 操作系统中安装了 VS11 Beta。我尝试连接 TFS，做了“获取最新”，一切正常。除了我们的单元测试项目没有打开。其项目文件自动检出，但项目本身旁边显示“加载失败”警告。在下面写着“项目无法转换”。如果您撤消结帐，则该警告将更改为“项目需要用户输入”。

这个问题是否有具体的原因或解决方案，还是因为 VS11 仍处于测试阶段？

谢谢你。

这是我的 csproj 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProductVersion>
    </ProductVersion>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>{7FD06E47-4783-494F-ACB1-256DAB8C0736}</ProjectGuid>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Properties</AppDesignerFolder>
    <RootNamespace>MyProject_TEST</RootNamespace>
    <AssemblyName>MyProject_TEST</AssemblyName>
    <TargetFrameworkVersion>v4.0</TargetFrameworkVersion>
    <FileAlignment>512</FileAlignment>
    <ProjectTypeGuids>{3AC096D0-A1C2-E12C-1390-A8335801FDAB};{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}</ProjectTypeGuids>
    <SccProjectName>SAK</SccProjectName>
    <SccLocalPath>SAK</SccLocalPath>
    <SccAuxPath>SAK</SccAuxPath>
    <SccProvider>SAK</SccProvider>
    <VisualStudioVersion Condition="'$(VisualStudioVersion)' == ''">10.0</VisualStudioVersion>
    <VSToolsPath Condition="'$(VSToolsPath)' == ''">$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v$(VisualStudioVersion)</VSToolsPath>
    <ReferencePath>$(ProgramFiles)\Common Files\microsoft shared\VSTT\$(VisualStudioVersion)\UITestExtensionPackages</ReferencePath>
    <IsCodedUITest>False</IsCodedUITest>
    <TestProjectType>WebTest</TestProjectType>
    <FileUpgradeFlags>0</FileUpgradeFlags>
    <OldToolsVersion>4.0</OldToolsVersion>
    <UpgradeBackupLocation>D:\Projects\Work\MyProject\Backup2\</UpgradeBackupLocation>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>bin\Debug\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <OutputPath>bin\Release\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="Enocta_DataLayer, Version=1.0.0.161, Culture=neutral, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>..\MyProject_COMMON\assemblies\MyProject_DataLayer.dll</HintPath>
    </Reference>
    <Reference Include="Enocta_Utils, Version=1.0.0.161, Culture=neutral, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>..\MyProject_COMMON\assemblies\MyProject_Utils.dll</HintPath>
    </Reference>
    <Reference Include="Microsoft.VisualStudio.QualityTools.UnitTestFramework, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL" />
    <Reference Include="Microsoft.VisualStudio.QualityTools.WebTestFramework, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
    <Reference Include="Microsoft.VisualStudio.Zip, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL" />
    <Reference Include="System" />
    <Reference Include="System.configuration" />
    <Reference Include="System.Core">
      <RequiredTargetFramework>3.5</RequiredTargetFramework>
    </Reference>
    <Reference Include="System.Data" />
    <Reference Include="System.Data.DataSetExtensions" />
    <Reference Include="System.Drawing" />
    <Reference Include="System.Web" />
    <Reference Include="System.Web.Extensions" />
    <Reference Include="System.XML" />
    <Reference Include="System.Xml.Linq" />
  </ItemGroup>
  <ItemGroup>
    <CodeAnalysisDependentAssemblyPaths Condition=" '$(VS100COMNTOOLS)' != '' " Include="$(VS100COMNTOOLS)..\IDE\PrivateAssemblies">
      <Visible>False</Visible>
    </CodeAnalysisDependentAssemblyPaths>
  </ItemGroup>
  <ItemGroup>
    <Compile Include="[my cs files here].cs" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\MyProject_COMMON\MyProject_Common.csproj">
      <Project>{8EC6C7D7-C89A-4D61-8AE6-32186F3080F1}</Project>
      <Name>MyProject_Common</Name>
    </ProjectReference>
    <ProjectReference Include="..\MyProject_DBHANDLER\MyProject_DBHandler.csproj">
      <Project>{5C4BBE2F-5C21-4649-B894-B9F7AD3FB619}</Project>
      <Name>MyProject_DBHandler</Name>
    </ProjectReference>
    <ProjectReference Include="..\MyProject_WebCommon\MyProject_WebCommon.csproj">
      <Project>{549106FD-93DC-4E0B-89BF-1CD41E20762D}</Project>
      <Name>MyProject_WebCommon</Name>
    </ProjectReference>
  </ItemGroup>
  <ItemGroup>
    <None Include="App.config" />
  </ItemGroup>
  <Choose>
    <When Condition="'$(VisualStudioVersion)' == '10.0' And '$(IsCodedUITest)' == 'True'">
      <ItemGroup>
        <Reference Include="Microsoft.VisualStudio.QualityTools.CodedUITestFramework, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
          <Private>False</Private>
        </Reference>
        <Reference Include="Microsoft.VisualStudio.TestTools.UITest.Common, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
          <Private>False</Private>
        </Reference>
        <Reference Include="Microsoft.VisualStudio.TestTools.UITest.Extension, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
          <Private>False</Private>
        </Reference>
        <Reference Include="Microsoft.VisualStudio.TestTools.UITesting, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
          <Private>False</Private>
        </Reference>
      </ItemGroup>
    </When>
  </Choose>
  <Import Project="$(VSToolsPath)\TeamTest\Microsoft.TestTools.targets" Condition="Exists('$(VSToolsPath)\TeamTest\Microsoft.TestTools.targets')" />
  <Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" />
  <!-- To modify your build process, add your task inside one of the targets below and uncomment it. 
       Other similar extension points exist, see Microsoft.Common.targets.
  <Target Name="BeforeBuild">
  </Target>
  <Target Name="AfterBuild">
  </Target>
  -->
</Project> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:37:28.427

我刚刚花了 30 分钟出现类似的错误 - 在 VS 2011 中，我有一个运行良好的测试项目，然后我添加了一些 Web 性能测试，并且该项目不再想要加载“项目需要用户输入”是错误。

我继续并开始修改项目文件以查看问题所在。我注释掉了一些东西，直到剩下的唯一一行是`<Reference Include="System" />`并且项目开始加载（注释掉每个文件包含，每个引用添加，一切）。最终的 csproj 文件类似于一个基本的 WebTest 项目：

```
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProductVersion>
    </ProductVersion>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>2188741d-638d-4305-b777-db258128221e</ProjectGuid>
    <OutputType>Library</OutputType>
    <AppDesignerFolder>Properties</AppDesignerFolder>
    <RootNamespace>WebAndLoadTestProject2</RootNamespace>
    <AssemblyName>WebAndLoadTestProject2</AssemblyName>
    <TargetFrameworkVersion>v4.5</TargetFrameworkVersion>
    <FileAlignment>512</FileAlignment>
    <ProjectTypeGuids>{3AC096D0-A1C2-E12C-1390-A8335801FDAB};{FAE04EC0-301F-11D3-BF4B-00C04F79EFBC}</ProjectTypeGuids>
    <TestProjectType>WebTest</TestProjectType>
    <VisualStudioVersion Condition="'$(VisualStudioVersion)' == ''">10.0</VisualStudioVersion>
    <VSToolsPath Condition="'$(VSToolsPath)' == ''">$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v$(VisualStudioVersion)</VSToolsPath>
    <ReferencePath>$(ProgramFiles)\Common Files\microsoft shared\VSTT\$(VisualStudioVersion)\UITestExtensionPackages</ReferencePath>
    <IsCodedUITest>False</IsCodedUITest>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <OutputPath>bin\Debug\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <OutputPath>bin\Release\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <ErrorReport>prompt</ErrorReport>
    <WarningLevel>4</WarningLevel>
  </PropertyGroup>
  <ItemGroup>
    <Reference Include="System" />
  </ItemGroup>
  <ItemGroup>
    <CodeAnalysisDependentAssemblyPaths Condition=" '$(VS100COMNTOOLS)' != '' " Include="$(VS100COMNTOOLS)..\IDE\PrivateAssemblies">
      <Visible>False</Visible>
    </CodeAnalysisDependentAssemblyPaths>
  </ItemGroup>
  <ItemGroup>
    <Compile Include="Properties\AssemblyInfo.cs" />
  </ItemGroup>
  <Choose>
    <When Condition="'$(VisualStudioVersion)' == '10.0' And '$(IsCodedUITest)' == 'True'">
      <ItemGroup>
        <Reference Include="Microsoft.VisualStudio.QualityTools.CodedUITestFramework, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
          <Private>False</Private>
        </Reference>
        <Reference Include="Microsoft.VisualStudio.TestTools.UITest.Common, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
          <Private>False</Private>
        </Reference>
        <Reference Include="Microsoft.VisualStudio.TestTools.UITest.Extension, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
          <Private>False</Private>
        </Reference>
        <Reference Include="Microsoft.VisualStudio.TestTools.UITesting, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL">
          <Private>False</Private>
        </Reference>
      </ItemGroup>
    </When>
  </Choose>
  <Import Project="$(VSToolsPath)\TeamTest\Microsoft.TestTools.targets" Condition="Exists('$(VSToolsPath)\TeamTest\Microsoft.TestTools.targets')" />
  <Import Project="$(MSBuildBinPath)\Microsoft.CSharp.targets" />
  <!-- To modify your build process, add your task inside one of the targets below and uncomment it. 
       Other similar extension points exist, see Microsoft.Common.targets.
  <Target Name="BeforeBuild">
  </Target>
  <Target Name="AfterBuild">
  </Target>
  -->
</Project> 
```

之后我开始取消注释我自己的包含和文件 - 我逐行进行，检查项目是否仍然可加载（试图抓住罪魁祸首）。我这样做直到项目文件再次等于原始文件（不想加载）。令人惊讶的是，现在项目加载没有问题......

我想这与 VS 2011 解决方案有关，但我不知道 - 希望在已发布的版本中不会发生这种情况。

因此，请继续从您的 csproj 文件中注释掉项目特定的内容 - 测试它是否加载，然后取消注释它，希望它会起作用。让我知道它是如何工作的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-11T08:12:30.843

我发现问题出在网络负载测试上。打开您的项目文件，（不幸的是）放弃您的 Web 负载测试，您的测试项目成功运行。

我们有一个负载测试，它没有被使用，所以这没有问题。但如果这不是你的情况，这个问题仍然悬而未决。我希望这个问题在 VS2012 的最终版本中得到解决。

# asp.net - 绑定到 sql server 上的表的 GridView 中的空行不会更新/删除

> ID：10241854
> 
> 赞同：0
> 
> 时间：2012-04-20T07:17:27.377
> 
> 标签：asp.net

我正在使用 SQL Server 2008 R2 Express、C# ASP.NET 4。

我在使用此 T-SQL（包括数据）创建的 sql 服务器上有一个表：

```
CREATE DATABASE [someDatabase]
GO
USE [someDatabase]

CREATE TABLE someTable (someCode [int] NOT NULL IDENTITY(1,1) PRIMARY KEY, someDescription [nvarchar](50) NULL);
INSERT INTO [dbo].[someTable] (someDescription) VALUES (''),('row 2, 1st non empty line'),('3'),(''),('5th row');
SELECT * FROM [dbo].[someTable] 
```

我还有一个 Default.aspx 文件，其中包含一个带有上表 ConnectionString 的 Gridview，包括编辑和删除选项（模板） - 后面没有代码：

```
 <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" 
        DataKeyNames="someCode" DataSourceID="SqlDataSource1">
        <Columns>
            <asp:CommandField ShowDeleteButton="True" ShowEditButton="True" />
            <asp:BoundField DataField="someCode" HeaderText="someCode" 
                InsertVisible="False" ReadOnly="True" SortExpression="someCode" />
            <asp:BoundField DataField="someDescription" HeaderText="someDescription" 
                SortExpression="someDescription" />
        </Columns>
    </asp:GridView>

    <asp:SqlDataSource ID="SqlDataSource1" runat="server" 
        ConflictDetection="CompareAllValues" 
        ConnectionString="<%$ ConnectionStrings:someDatabaseConnectionString %>" 
        DeleteCommand="DELETE FROM [someTable] WHERE [someCode] = @original_someCode AND (([someDescription] = @original_someDescription) OR ([someDescription] IS NULL AND @original_someDescription IS NULL))" 
        InsertCommand="INSERT INTO [someTable] ([someDescription]) VALUES (@someDescription)" 
        OldValuesParameterFormatString="original_{0}" 
        SelectCommand="SELECT * FROM [someTable]" 
        UpdateCommand="UPDATE [someTable] SET [someDescription] = @someDescription WHERE [someCode] = @original_someCode AND (([someDescription] = @original_someDescription) OR ([someDescription] IS NULL AND @original_someDescription IS NULL))">
        <DeleteParameters>
            <asp:Parameter Name="original_someCode" Type="Int32" />
            <asp:Parameter Name="original_someDescription" Type="String" />
        </DeleteParameters>
        <InsertParameters>
            <asp:Parameter Name="someDescription" Type="String" />
        </InsertParameters>
        <UpdateParameters>
            <asp:Parameter Name="someDescription" Type="String" />
            <asp:Parameter Name="original_someCode" Type="Int32" />
            <asp:Parameter Name="original_someDescription" Type="String" />
        </UpdateParameters>
    </asp:SqlDataSource> 
```

看起来 GridView 很好地绑定了数据库的表。但是，我在**使用乐观并发**时遇到了问题。然后我既不能删除没有描述的行，也不能在编辑模式下更新那些行。

GridView 在浏览器（IE9、Chrome 18）中看起来不错，但是当我尝试删除没有描述的行时，它不起作用。当我单击无描述行之一的编辑时，我有机会输入一个新值，但是，当我单击更新时，什么也没有发生。

**编辑/删除填充了一些描述的行**没有问题。**当**不**使用乐观并发时，编辑和删除也适用于空描述。**

 **GridView出现故障正常吗？有解决方法吗？

GridView 模板处于编辑或删除行模式时是否可以访问其验证工具？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:43:51.273

我没有在你上面的代码中看到`OnRowDeleting="GridView1_RowDeleting"`,`OnRowEditing="GridView1_RowEditing"`或`OnRowUpdating="GridView1_RowUpdating"`事件。为了在 GridView 中添加编辑/更新和删除，`'<asp:CommandField ShowDeleteButton="True" ShowEditButton="True" />'`您必须使用这些事件。

像这样的东西：

```
protected void GridView1_RowEditing(object sender, GridViewEditEventArgs e)
{
  GridView1.EditIndex = e.NewEditIndex;
  BindData();
} 
```

访问此链接：[添加、编辑、更新、删除 gridview](http://wiki.asp.net/page.aspx/1360/add-edit-update-delete-gridview/)**

# iphone - 如何设置 itunesartwork 进行临时分发？

> ID：10241860
> 
> 赞同：1
> 
> 时间：2012-04-20T07:18:02.567
> 
> 标签：iphone, itunes, ad-hoc-distribution

我们正在进行内部测试，一切都已完成，正在工作，正在归档。但是当我们实现应用程序时，制作一个 .ipa，我们看不到 iTunes 封面，即使我们有一个名为 iTunesArtwork 的图像，没有像 .png 这样的扩展名。此外，当我们的老板想用 iTunes 安装 .ipa 时，他也没有封面。你怎么看？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:15:26.093

确保图像为 png 格式并且尺寸为 512x512 像素。不要忘记将 iTunesArtwork 添加到包资源文件夹的根目录中（将其添加到 XCode 中项目的 Resources 文件夹中）。它应该工作。另请参阅[iTunesArtwork 和 XCode](https://stackoverflow.com/questions/855707/itunesartwork-and-xcode)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-25T15:21:41.243

问题是我不是通过分发配置文件而是通过开发实现了该应用程序，谢谢，顺便说一句，Test Flight 很棒

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T07:22:50.790

遵循这些链接的指导方针，其时间为 30 分钟

[http://support.testflightapp.com/kb/tutorials/how-to-create-an-ipa-xcode-4](http://support.testflightapp.com/kb/tutorials/how-to-create-an-ipa-xcode-4)

[http://support.testflightapp.com/kb/tutorials/how-to-create-an-ipa-xcode-3](http://support.testflightapp.com/kb/tutorials/how-to-create-an-ipa-xcode-3)

# c++ - 使文件不适用于提升

> ID：10241867
> 
> 赞同：0
> 
> 时间：2012-04-20T07:18:24.560
> 
> 标签：c++, boost, makefile

我正在为 Makefile 使用以下结构：

```
OBJECTS := time.o
PROGRAM := time
CPPFLAGS += -Iusr/include/boost_1_49_0 -Lusr/include/boost_1_49_0/stage/lib
CXXFLAGS := -Wall -ggdb3
LDFLAGS += -lboost_date_time
$(PROGRAM) : $(OBJECTS)
g++ -o time time.cpp

clean :
rm $(PROGRAM) $(OBJECTS) 
```

但是当我输入 make 时，它​​给了我很多错误 - 包括：

```
undefined reference to `boost::gregorian::greg_month::as_short_string() const' time.cpp:
(.text._ZN5boost9date_time15month_formatterINS_9gregorian10greg_monthENS0_13simple_formatIcEEcE12format_monthERKS3_RSo[boost::date_time::month_formatter<boost::gregorian::greg_month, boost::date_time::simple_format<char>, char>::format_month(boost::gregorian::greg_month const&, std::basic_ostream<char, std::char_traits<char> >&)]+0x56):
    undefined reference to `boost::gregorian::greg_month::as_long_string() const'
collect2: ld returned 1 exit status 
```

当我使用`g++ -Wall -Iusr/include/boost_1_49_0 -Lusr/include/boost_1_49_0/stage/lib -o time time.cpp -lboost_date_time`时，代码编译得很好，所以我的 Makefile 有问题。请帮忙。注意：我尝试将`-L <directory>`标志放在`LDFLAG`变量中，但这也不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:00:52.143

`LDFLAGS`不在您的 Makefile 中使用 - 既不是直接的也不是通过内置规则隐式使用的。以下应该有效：

```
$(PROGRAM): $(OBJECTS)
    $(CXX) $(LDFLAGS) $(TARGET_ARCH) $^ $(LOADLIBES) $(LDLIBS) -o $@ 
```

`make`是一个强大的工具。但是，使用它并非易事。如果您不是被迫使用 make，我建议您仔细研究一下替代方案。就个人而言，我推荐使用*bjam/boost-build*。这是一个简单的示例`Jamroot`：

```
project
    : requirements <cflags>-Wall <cflags>-ggdb3
    ;

using gcc ;

lib boost_date_time
    :
    : <search>/usr/include/boost_1_49_0/stage/lib
    :
    : <include>/usr/include/boost_1_49_0
    ;

exe time
    : time.cpp foo.cpp bar.cpp boost_date_time
    ; 
```

# python - 在句子中创建单词字典及其上下文

> ID：10241871
> 
> 赞同：3
> 
> 时间：2012-04-20T07:18:42.337
> 
> 标签：python

我有一个包含数十万个单词的 Python 列表。单词按照它们在文本中的顺序出现。

我正在寻找与包含该单词的字符串相关联的每个单词的字典，其中包含在它之前和之后出现的 2 个（比如说）单词。

例如列表：“This”“is”“an”“example”“sentence”

应该变成字典：

```
"This" = "This is an"
"is" = "This is an example"
"an" = "This is an example sentence"
"example" = "is an example sentence"
"sentence" = "an example sentence" 
```

就像是：

```
WordsInContext = Dict()
ContextSize = 2
wIndex = 0
for w in Words:
    WordsInContext.update(w = ' '.join(Words[wIndex-ContextSize:wIndex+ContextSize]))
    wIndex = wIndex + 1 
```

这可能包含一些语法错误，但即使这些错误得到纠正，我相信这将是一种非常低效的方法。

有人可以建议一个更优化的方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-20T08:02:11.440

我的建议：

```
words = ["This", "is", "an", "example", "sentence" ]

dict = {}

// insert 2 items at front/back to avoid
// additional conditions in the for loop
words.insert(0, None)
words.insert(0, None)
words.append(None)
words.append(None)

for i in range(len(words)-4):   
    dict[ words[i+2] ] = [w for w in words[i:i+5] if w] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T10:52:53.593

```
>>> from itertools import count
>>> words = ["This", "is", "an", "example", "sentence" ]
>>> context_size = 2
>>> dict((word,words[max(i-context_size,0):j]) for word,i,j in zip(words,count(0),count(context_size+1)))
{'This': ['This', 'is', 'an'], 'is': ['This', 'is', 'an', 'example'], 'sentence': ['an', 'example', 'sentence'], 'example': ['is', 'an', 'example', 'sentence'], 'an': ['This', 'is', 'an', 'example', 'sentence']} 
```

在 python`2.7+`或`3.x`

```
{word:words[max(i-context_size,0):j] for word,i,j in zip(words,count(0),count(context_size+1))} 
```

# ruby - 将逗号分隔的 excel 数据转储/转换为 ruby 中的数组

> ID：10241872
> 
> 赞同：-2
> 
> 时间：2012-04-20T07:18:45.530
> 
> 标签：ruby, arrays, string, watir

> **可能重复：**
> [RUBY/WATIR/RASTA：将值从 excel/rasta 传递到 Ruby 中的数组？](https://stackoverflow.com/questions/10226539/ruby-watir-rasta-pass-the-value-from-the-excel-rasta-to-an-array-in-ruby)

将逗号分隔的 excel 数据转储/转换为 ruby​​ 中的数组

html看起来像这样，....

*   汉堡包*   意大利面*   薯条...

* * *

您有什么方法可以将逗号分隔的字符串转换为 Ruby 中的数组吗？此代码不起作用

```
attr_accessor :orders  

order = [@orders] 

order.each do |i|  
@browser.checkbox(:text => i).click 
@browser.button(:name => 'save').click 
end 
```

每当我运行上述代码时都会出现此错误。

***NoMethodError：未定义的方法“父”：“汉堡，意大利面”：字符串***

excel中单元格中的值如下所示..列名“**订单**”

汉堡，薯条，苏打水

我如何将它转换成这样的数组？

```
["burger", "fries", "soda"] 
```

* * *

我可以在 excel 中获取数据，但我不知道如何将其转换为 ruby​​ 中的数组..

**-对不起，我是红宝石新手：D-**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:08:34.923

此代码会将字符串拆分为一个数组：

```
'burger,fries,soda'.split(',') 
```

# javascript - 点击覆盖。使用 Jquery 模拟点击

> ID：10241873
> 
> 赞同：3
> 
> 时间：2012-04-20T07:18:53.410
> 
> 标签：javascript, jquery, html, iframe

我在 iframe 上覆盖隐藏的矩形。然后在我的矩形区域内检测点击。然后我将使用它的 (X,Y) 并在 iframe 内模拟相同坐标 (X,Y) 上的点击。

这样，我会将用户对隐藏矩形区域的点击传递给 iframe，因为由于安全问题，无法直接检测 iframe 上的事件。

这将绕过该问题。

我的代码有些问题。触发时无法将点击传递给 iframe。

这是 Js Fiddle

```
http://jsfiddle.net/biggenius/Y8cVD/9/ 
```

这是一种单击框内的方法。H`ttp://jsfiddle.net/styson/PxcBs/1/`

如何检测点击覆盖？`http://jsfiddle.net/biggenius/Y8cVD/13/`

这里有一些值得考虑的解决方案。 `http://stackoverflow.com/questions/10226448/detecting-click-inside-iframe-using-invisible-div/10226475#comment13139245_10226475`

[http://i.stack.imgur.com/fQiJT.png](http://i.stack.imgur.com/fQiJT.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T07:34:30.593

你的意思是这样吗？您的小提琴中有几个缺少括号/轻微的语法错误:)

**演示：http: [//jsfiddle.net/Y8cVD/14/](http://jsfiddle.net/Y8cVD/14/)**

# java - 我得到一个 PersistenceException 我不明白为什么

> ID：10241874
> 
> 赞同：4
> 
> 时间：2012-04-20T07:18:58.587
> 
> 标签：java, exception, jakarta-ee, jpa, eclipselink

我正在使用 EclipseLink 运行 Web 服务，它运行良好。但有时我会收到异常消息“无法预部署 PersistenceUnit”。我不知道为什么我会得到这个。其他一切似乎都正常，异常似乎并没有干扰应用程序，它只是被捕捉到了。

```
Exception Description: Unable to predeploy PersistenceUnit [MyLibPU] in invalid state [Undeployed]
javax.persistence.PersistenceException: Exception [EclipseLink-28017] (Eclipse Persistence Services - 2.2.0.v20110202-r8913): org.eclipse.persistence.exceptions.EntityManagerSetupException
Exception Description: Unable to predeploy PersistenceUnit [MyLibPU] in invalid state [Undeployed]
    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:956)
    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:121)
    at javax.persistence.Persistence.createEntityManagerFactory(Unknown Source)
    at javax.persistence.Persistence.createEntityManagerFactory(Unknown Source)
....
....
Caused by: Exception [EclipseLink-28017] (Eclipse Persistence Services - 2.2.0.v20110202-r8913): org.eclipse.persistence.exceptions.EntityManagerSetupException
Exception Description: Unable to predeploy PersistenceUnit [MyLibPU] in invalid state [Undeployed]
    at org.eclipse.persistence.exceptions.EntityManagerSetupException.cannotPredeploy(EntityManagerSetupException.java:202)
    ... 30 more 
```

在异常中，我可以在方法中找到对一行的跟踪：

```
EntityManagerFactory emf = Persistence.createEntityManagerFactory("MyLibPU"); 
```

为什么我会得到这个？

**编辑**
这是我在 eclipselink 日志记录设置为时得到的输出`FINEST`。

```
[EL Finest]: 2012-04-23 15:19:06.025--ServerSession(2134178364)--Thread(Thread[Finalizer,8,system])--End undeploying Persistence Unit MyLibPU; session file:/home/Rox/MyLib/trunk/MyLib/build/classes/_MyLibPU; state Undeployed; factoryCount 0
[EL Finest]: 2012-04-23 15:19:06.025--ServerSession(2113649746)--Thread(Thread[Finalizer,8,system])--Begin undeploying Persistence Unit MyLibPU; session file:/home/Rox/MyLib/trunk/MyLib/src/_MyLibPU; state Deployed; factoryCount 3
[EL Finest]: 2012-04-23 15:19:06.025--ServerSession(2113649746)--Thread(Thread[Finalizer,8,system])--End undeploying Persistence Unit MyLibPU; session file:/home/Rox/MyLib/trunk/MyLib/src/_MyLibPU; state Deployed; factoryCount 2
Apr 23, 2012 3:19:06 PM com.sun.xml.internal.ws.server.sei.EndpointMethodHandler invoke
SEVERE: Exception [EclipseLink-28017] (Eclipse Persistence Services - 2.2.0.v20110202-r8913): org.eclipse.persistence.exceptions.EntityManagerSetupException
Exception Description: Unable to predeploy PersistenceUnit [MyLibPU] in invalid state [Undeployed]
javax.persistence.PersistenceException: Exception [EclipseLink-28017] (Eclipse Persistence Services - 2.2.0.v20110202-r8913): org.eclipse.persistence.exceptions.EntityManagerSetupException
Exception Description: Unable to predeploy PersistenceUnit [MyLibPU] in invalid state [Undeployed]
    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:956)
    at org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:121)
    at javax.persistence.Persistence.createEntityManagerFactory(Unknown Source)
    at javax.persistence.Persistence.createEntityManagerFactory(Unknown Source)
    at com.mylib.MyImplementation.getPersons(MyImplementation.java:171)
    at sun.reflect.GeneratedMethodAccessor13.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:601)
    at com.sun.xml.internal.ws.api.server.InstanceResolver$1.invoke(InstanceResolver.java:235)
    at com.sun.xml.internal.ws.server.InvokerTube$2.invoke(InvokerTube.java:135)
    at com.sun.xml.internal.ws.server.sei.EndpointMethodHandler.invoke(EndpointMethodHandler.java:246)
    at com.sun.xml.internal.ws.server.sei.SEIInvokerTube.processRequest(SEIInvokerTube.java:85)
    at com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:626)
    at com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:585)
    at com.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:570)
    at com.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:467)
    at com.sun.xml.internal.ws.server.WSEndpointImpl$2.process(WSEndpointImpl.java:299)
    at com.sun.xml.internal.ws.transport.http.HttpAdapter$HttpToolkit.handle(HttpAdapter.java:593)
    at com.sun.xml.internal.ws.transport.http.HttpAdapter.handle(HttpAdapter.java:244)
    at com.sun.xml.internal.ws.transport.http.server.WSHttpHandler.handleExchange(WSHttpHandler.java:95)
    at com.sun.xml.internal.ws.transport.http.server.WSHttpHandler.handle(WSHttpHandler.java:80)
    at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:77)
    at sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)
    at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:80)
    at sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:668)
    at com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:77)
    at sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:640)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
    at java.lang.Thread.run(Thread.java:722)
Caused by: Exception [EclipseLink-28017] (Eclipse Persistence Services - 2.2.0.v20110202-r8913): org.eclipse.persistence.exceptions.EntityManagerSetupException
Exception Description: Unable to predeploy PersistenceUnit [MyLibPU] in invalid state [Undeployed]
    at org.eclipse.persistence.exceptions.EntityManagerSetupException.cannotPredeploy(EntityManagerSetupException.java:202)
    ... 30 more

[EL Finer]: 2012-04-23 15:20:06.003--Thread(Thread[pool-1-thread-61,5,main])--fixUNC: before fixing: url = file:/home/Rox/MyLib/build/classes/, authority = , file = /home/Rox/MyLib/build/classes/ (There is no English translation for this message.)
[EL Finer]: 2012-04-23 15:20:06.012--Thread(Thread[pool-1-thread-61,5,main])--fixUNC: after fixing: url = file:/home..... 
```

**编辑 2**
我的 persistence.xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<persistence version="2.0" xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd">
  <persistence-unit name="MyLibPU" transaction-type="RESOURCE_LOCAL">
    <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>
    <class>com.mylib.Person</class>
    <class>com.mylib.Group</class>
    <properties>
      <property name="javax.persistence.jdbc.url" value="jdbc:mysql://localhost:3306/MY_DB"/>
      <property name="javax.persistence.jdbc.password" value="MyPassword"/>
      <property name="javax.persistence.jdbc.driver" value="com.mysql.jdbc.Driver"/>
      <property name="javax.persistence.jdbc.user" value="root"/>
      <property name="eclipselink.logging.level" value="FINEST"/>;
      <property name="eclipselink.logging.level.sql" value="FINEST"/>;
      <property name="eclipselink.logging.parameters" value="true"/>;
    </properties>
  </persistence-unit>
</persistence> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-25T17:28:10.463

如果错误是零星的，也许这意味着这是一个时间问题。此外，显然您在应用程序的生命周期中多次创建工厂（如果我错了，请告诉我）。因此，对您的 Web 应用程序的并发请求可能会触发工厂的并发创建。这种情况可能不受支持。

无论如何，只创建一次工厂是好的。请参阅[此问题](https://stackoverflow.com/questions/3711439/how-to-create-a-thread-safe-entitymanagerfactory)以了解如何执行此操作。然后你可以同时调用`createEntityManager`它——这个方法是线程安全的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-25T00:10:21.180

取消部署 Hibernate 存在问题。当您尝试取消部署和重新部署时，您似乎遇到了它们。重新启动完整服务器时是否有问题？

编辑：抱歉，您明确表示您使用的是 EclipseLink，不知道为什么我认为您使用的是 Hibernate。

无论如何，您日志中的这一行令人担忧：

```
[EL Finest]: 2012-04-23 15:19:06.025--ServerSession(2113649746)--Thread(Thread[Finalizer,8,system])--Begin undeploying Persistence Unit MyLibPU; session file:/home/Rox/MyLib/trunk/MyLib/src/_MyLibPU; state Deployed; factoryCount 3 
```

我不确定是什么`factoryCount`意思，但我不喜欢它 > 1。不过，最令人担忧的是“开始取消部署 Persistence Unit MyLibPU”。为什么要取消部署 PU？我认为这是因为您正在取消部署该应用程序，但在您的评论中您说“错误可能在应用程序的生命周期内随时发生，并且每 24 小时仅发生 2-5 次。” 在这种情况下，您需要弄清楚是什么触发了取消部署。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-30T12:54:20.327

使用数据库时不要使用静态构造函数或类似的构造。这可能会避免麻烦。尝试在您的代码中插入暂停和显式日志命令以查找错误以了解您的代码走了多远。

# javascript - 脚本自行删除

> ID：10241881
> 
> 赞同：-1
> 
> 时间：2012-04-20T07:19:26.450
> 
> 标签：javascript

我想做这样的事情：

```
<body>
<script id="a" >
//Here i do a lot of things, then
document.body.removeChild(document.getElementById("a"));
</script>
</body> 
```

它不工作！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:26:37.367

我不确定这是否可行，具体取决于您插入脚本的位置，浏览器甚至可能在**完成创建 DOM**之前执行代码。在执行代码之前，最好使用像 jQuery 这样的框架并等待文档完成加载。如果你使用 jquery，它会像这样工作：

```
<script id="a">
    $(document).ready(function(){
        //do your stuff here

       $("#a").remove();
    });
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T07:41:22.447

也许试图从自身中删除脚本会导致问题。也许这会奏效......

```
<script id="a">
    var stuffFinished = false;
    $(document).ready(function(){
        //do your stuff here
        stuffFinished = true;
    });
</script> 

<script id="b">
    $(document).ready(function(){
       var timer = setInterval(function() {
         if (stuffFinished) {
           $("#a").remove();
           clearTimeout(timer);
         }
       }, 1000);
    });
</script> 
```

我没有测试过这个，只是一个想法......

# python - 保留输入顺序甚至表示无序/未使用元素的流行数据交换格式？

> ID：10241882
> 
> 赞同：0
> 
> 时间：2012-04-20T07:19:28.070
> 
> 标签：python, json, serialization, yaml

我最近构建了一个 django JSON 字段、YAML 字段、Python 字段来探索通过 CMS 存储/编辑任意复杂的数据层次结构的方法。

JSON、YAML 和 Python 都可以被人类格式化为直观的，但是一旦我将文本强制转换为 python 并返回，它就会创建一个没有排序的新对象。

**是否有一种可移植的数据方案可以透明地保留输入顺序，即使数据实际上并没有被简单地排序以重建原始输入，但是“人类”决定构建它？**

以 python/json 为例：

```
[{ 
   'title': 'First Data Entry!', # intuitive to have certain elements at top
   'is_active': True, 
   'data': 'data here'
   'a_list': [1, 2, 3],
},
{ 
   'title': 'Some Data Entry Here!', 
   'is_active': False, 
   'data': 'data here'
   'a_list': [1, 2, 3],
}] 
```

或 YAML：

![在此处输入图像描述](../Images/0686b56226db602aa64d4e2a4d8a7876.png)

我可以将我的数据设置为我的眼睛可以立即识别的方式，例如按照惯例将标题作为第一行。

一旦我将其解析为 python 对象，对其进行修改，然后再次将其转换为 YAML/JSON/Python，我当然不再有评论或排序。

我很好奇这是否是一个常见问题，或者这是我需要发明的一个轮子。似乎可以使用`OrderedDict`并编写一个序列化程序（我从未做过......）。

我目前的解决方案是使用 YAML 作为只读的原始文本字段 - 它不会尝试将 python 对象写入 YAML 以保留样式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:58:20.737

通常，字典没有排序，这就是改变顺序的原因......

一种可能的方法可能是在字典上使用排序功能（然后将其转换为`OrderedDict`... 或者您甚至根本不需要`OrderedDict`）。但是该顺序为升序/降序，因此可能无济于事...

最终的解决方案可能是查找所有字典并根据需要一一挑选键，然后将它们放到您的`OrderedDict`

这是一个关于字典排序[的好问题......](https://stackoverflow.com/questions/157424/python-2-5-dictionary-2-key-sort)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-11-24T11:31:06.327

在 python 中，折叠样式 ( `>`) 不保留标量，也不保留排序。

如果您可以忍受放弃折叠样式，则可以使用 python 包¹ [ruamel.yaml](https://pypi.python.org/pypi/ruamel.yaml)，它是 PyYAML 的派生产品，支持注释的往返**保存和映射键的顺序的**往返保存：

```
from __future__ import print_function

import ruamel.yaml

inp = """\
features:
  show: true
  items:
    - widget: full_width.html  # full width 1
      title: Some Title
      description: >
          Foobar.
      vimeo_id: 20913
      zoom_image: some_url.png
    - widget: 3x_container.html
      items:
          - widget: 3x.html
            title: Some Widget Title
            image: 'foobar.png'
            description: >
                Some Description.
          - widget: 3x.html
            title: Some new title here
            image: ajax_uploads/png1_2.png
            description: >
                Some Description.
"""

code = ruamel.yaml.load(inp, ruamel.yaml.RoundTripLoader)

res = ruamel.yaml.dump(code, Dumper= ruamel.yaml.RoundTripDumper)
print(res, end='') 
```

结果：

```
features:
  show: true
  items:
  - widget: full_width.html    # full width 1
    title: Some Title
    description: 'Foobar.

      '
    vimeo_id: 20913
    zoom_image: some_url.png
  - widget: 3x_container.html
    items:
    - widget: 3x.html
      title: Some Widget Title
      image: foobar.png
      description: 'Some Description.

        '
    - widget: 3x.html
      title: Some new title here
      image: ajax_uploads/png1_2.png
      description: 'Some Description.

        ' 
```

这是第一次往返后的稳定输出。

不是普通的`list`和`dict`对象，而是`code`由附有评论的包装版本²组成。

¹[安装`pip install ruamel.yaml`. 适用于 Python 2.6/2.7/3.3+]
²[用于映射，以保持排序] [`ordereddict`]

# validation - 当长度超过他的限制时阻止输入

> ID：10241884
> 
> 赞同：0
> 
> 时间：2012-04-20T07:19:38.697
> 
> 标签：validation, textfield, vaadin

我有一个关于 Vaadin 的 TextField 的问题。我想在他达到 20 个字符的 maxLength 时阻止输入......我该怎么做？我已经尝试通过验证将其设置为立即，但这仅在您执行 isValid() 时才有效...

谁能帮我？谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:12:29.967

您可以使用`Textfield.setMaxLength(int maxLength)`方法设置文本字段的最大字符数。

例如，使用上面以 3 作为参数的方法，将阻止用户插入四个（以及更多）字符。

问候。

埃里克。

# ruby - 如何使用函数在 ruby 中操作对象数据的实例？

> ID：10241889
> 
> 赞同：1
> 
> 时间：2012-04-20T07:19:51.507
> 
> 标签：ruby, function, object

我一直在谷歌和堆栈溢出，我似乎找不到答案。

我需要“bookman”函数来查找“cash”的实例，以便它可以调用现金的方法。

我怎样才能做到这一点？

谢谢！

这是我的代码

```
class Account
  def initialize (deb_bal, cred_bal)
    @deb_bal = deb_bal
    @cred_bal = cred_bal
  end

  def debit(x)
    @deb_bal += x
  end

  def credit(x)
   @cred_bal += x
  end

  def balance
    bal = @deb_bal.to_i - @cred_bal.to_i
    if  bal < 0
      puts "Credit Balance of #{bal.abs}"
    else
      puts "Debit Balance of #{bal.abs}"
    end
  end
end

def bookman 

end

cash = Account.new(0,0)
#acts_rec = Account.new

cash.credit 100
bookman 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:43:52.330

您可以`cash`作为参数传递给`bookman`函数，也可以创建`cash`一个实例变量。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T07:45:49.697

您可以将对象传递给方法：

```
...
def bookman(acct)
  acct.debit(50)
end

cash = Account.new(0, 0)
cash.credit 100
bookman(cash)
cash.balance

=> Credit Balance of 50 
```

# php - 一个接一个地得到一个数组

> ID：10241891
> 
> 赞同：0
> 
> 时间：2012-04-20T07:19:56.633
> 
> 标签：php, arrays

我在从二维数组创建表时确实有一点问题。

我从一页中获取动态数组，例如，

```
Array
(
 [0] => Array
    (
        [0] => 1374
        [id] => 1374 )
        [1] => 223
        [version_id] => 223

[1] => Array
    (
        [0] => 1540
        [id] => 1540)
        [1] => 224
        [version_id] => 224

[2] => Array
    (
        [0] => 1541
        [id] => 1541)
        [1] => 225
        [version_id] => 225
) 
```

我想要表格中的数据，例如，

![必需的](../Images/88e2aeec5482b2dc146bcc38efc9ba61.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:32:26.460

通过html结构

“行”`<tr>`必须先渲染，然后是“列”`<td>`

按每一行渲染会更容易

## 更新

这正是你想要的..

## 第三次编辑

定义样本 $data

```
$data = array(
        array(
            0 => 1374,
            'id' => 1374,
            1 => 223,
            'version_id' => 223
        ),
        array(
            0 => 1540,
            'id' => 1540,
            1 => 224,
            'version_id' => 224
        ),
        array(
            0 => 1541,
            'id' => 1541,
            1 => 225,
            'version_id' => 225
        )
    ); 
```

假设您知道字段信息或通过 mysql_field_name 检索

```
 $fields = array('id', 'version_id'); 
    echo '<table class="spec">
        <thead>
            <tr>
                <th>name</th>';

for ($n = 0; $n < sizeof($data); $n++) {
    echo '
            <th>array_data-' . $n . '</th>';
}

echo '
            </tr>
        </thead>
        <tbody>';

for ($i = 0; $i < sizeof($fields); $i++) {
    echo '<tr>
            <td>' . $fields[$i] . '</td>';

    foreach ($data as $row) {
        echo '<td>' . $row[$i] . '</td>';
    }
    echo '</tr>';
}

echo '</tbody>
    </table>'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T07:40:57.623

```
$multidim_arr = array
(
 array
    ( 
        0 => 1374,
        1 => 223
),
array
    (
        0 => 1540,
        1 => 224
),
array
    (
        0 => 1541,
        1 => 225
)
);
$n = count($multidim_arr);
$z = count($multidim_arr[$n-1]);
echo "<table>";
for($j = 0; $j<$z;$j++) {
  echo "<tr>";
  for($i = 0; $i<$n; $i++) {
    echo "<td>".$multidim_arr[$i][$j]."</td>";
  }
  echo "</tr>";
}
echo "</table>"; 
```

首先在 PDO 中做 PDO::FETCH_NUM 而不是 PDO::FETCH_BOTH 检查[http://php.net/manual/en/pdostatement.fetch.php](http://php.net/manual/en/pdostatement.fetch.php)

问候

@edit 或使用键：

```
<?php

$multidim_arr = array
(
 array
    ( 
        'id' => 1374,
        'version_id' => 223
),
array
    (
        'id' => 1540,
        'version_id' => 224
),
array
    (
        'id' => 1541,
        'version_id' => 225
)
);
$n = count($multidim_arr);
$z = count($multidim_arr[$n-1]);
$keys = array_keys($multidim_arr[$n-1]);
echo "<table>";
for($j = 0; $j<$z;$j++) {
  echo "<tr>";
  for($i = 0; $i<$n; $i++) {
    echo "<td>key: ".$keys[$j]." and value: ".$multidim_arr[$i][$keys[$j]]."</td>";
  }
  echo "</tr>";
}
echo "</table>"; 
```

@edit 另一个例子

```
<?php

$multidim_arr = array
(
 array
    ( 
    0 => 1374,
        'id' => 1374,
    1 => 223,
        'version_id' => 223
),
array
    (
    0 => 1540,
        'id' => 1540,
        1 => 224,
        'version_id' => 224
),
array
    (
    0 => 1541,
        'id' => 1541,
        1 => 225,
        'version_id' => 225
)
);
$n = count($multidim_arr);
$z = count($multidim_arr[$n-1])/2;
$keys = array('id', 'version_id');
echo "<table>";
for($j = 0; $j<$z;$j++) {
  echo "<tr>";
  for($i = 0; $i<$n; $i++) {
    echo "<td>key: ".$keys[$j]." and value: ".$multidim_arr[$i][$keys[$j]]."</td>";
  }
  echo "</tr>";
}
echo "</table>"; 
```

但在这里你必须知道钥匙。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T07:28:21.697

//尚未测试，但应该很好..

```
$count_multi = count($multidim_arr);
echo '<table border="1"><tbody><tr>';
for($i=0;$i<$count_multi;$i++)
{
   $subarr = $multidim_arr[$i];
   echo '<td>Content at index'.$i.' of multi-dimensional array <br />'.$subarr['id'].'</td>';
}
echo '</tr></tbody></table>'; 
```

# iphone - ios将数组添加到前面的数组

> ID：10241895
> 
> 赞同：7
> 
> 时间：2012-04-20T07:20:13.937
> 
> 标签：iphone, ios, arrays

我有一个现有数组，我想在现有数组的前面添加另一个数组。

添加到最后是没有问题的

```
[existingArray addObjectsFromArray:newArray]; 
```

但是怎么加到前面呢？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-04-20T07:28:54.137

您可以在没有临时数组的情况下执行此操作，并且不假设它`newArray`是一个`NSMutableArray`，并且不制作一个`NSIndexSet`：

```
[existingArray replaceObjectsInRange:NSMakeRange(0,0)
                withObjectsFromArray:newArray]; 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-04-20T07:23:26.890

相同的方法，但颠倒顺序并重新分配：

```
[newArray addObjectsFromArray:existingArray];
existingArray = newArray; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-04-20T07:23:00.630

```
 [newArray addObjectsFromArray:existingArray];
 existingArray = newArray; 
```

希望，这会帮助你..享受...

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-04-20T07:23:49.473

您可以创建第三个数组并按您想要的顺序添加元素，然后将其返回到第一个：

```
NSMutableArray *tempArray = [NSMutableArray arrayWithArray:newArray];
[tempArray addObjectsFromArray:existingArray]; 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-04-20T07:29:07.443

为了完整起见，这是一种非常不同的方式：

```
NSIndexSet *indexes = [NSIndexSet indexSetWithIndexesInRange: (NSRange) {0, [newArray count]}];
[existingArray insertObjects: newArray atIndexes: indexes]; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-04-20T07:26:15.487

您可以尝试将对象添加到以下代码的索引：

```
[existingArray insertObjects:newArray atIndexes:0]; 
```

谢谢..！

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-04-20T07:26:43.577

认为前两个答案更优雅，但这是另一种方式：

采用：

```
[existingArray insertObjects:newArray atIndexes:indexSet]; 
```

从哪里`indexSet`跑到。`0``newArray.count-1`

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2012-04-20T07:25:55.097

要在现有数组之前插入 j，您必须使用索引 0

```
[newArray insertObject: existingArray atIndex:0] 
```

# css - Internet Explorer 对齐问题

> ID：10241899
> 
> 赞同：-1
> 
> 时间：2012-04-20T07:20:22.550
> 
> 标签：css, internet-explorer, web

是的，对于所有网络开发人员来说，这是最可怕的问题，我遇到了 IE 问题，我的网站目前在所有浏览器上都可以运行，除了 ie，网站是[http://www.justistuff.com.au/test](http://www.justistuff.com.au/test)

问题是它无法正确读取css并且它对齐错误，有什么办法可以解决它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:23:59.887

尝试重置默认浏览器样式，例如使用[Eric Meyer 的 css reset](http://meyerweb.com/eric/tools/css/reset/)

# delphi - 如何在 Delphi 7 中通过 ImageDirectoryEntryToData 读取导入目录表？

> ID：10241901
> 
> 赞同：2
> 
> 时间：2012-04-20T07:20:41.893
> 
> 标签：delphi, dll, import, export, delphi-7

我想制作一个应用程序，列出 DLL 中所有导出和导入的函数。

我已经通过使用`ImageDirectoryEntryToData`功能完成了导出部分：

```
 type
 TDLLExportCallback = function (const name: String; ordinal: Integer;
     address: Pointer): Boolean of Object;

Function ListDLLExports( const filename : String ; callback : TDLLExportCallback ;Var        ErrMsg : String) : Boolean; 
Var 

  imageinfo: LoadedImage;
  pExportDirectory: PImageExportDirectory;
  dirsize: Cardinal; 
Begin { ListDLLExports }
  Result :=False ;
  Assert( Assigned( callback ));  // assert(expression) --> raise an exception if expr is eval to false;
If not FileExists( filename ) Then
Begin
  ErrMsg := Format(eDLLnotFound, [filename]);
  Result := False;
  Exit;
End;
If MapAndLoad( PChar( filename ), nil, @imageinfo, true, true ) Then
 try
    pExportDirectory := ImageDirectoryEntryToData(imageinfo.MappedAddress, False,
                        IMAGE_DIRECTORY_ENTRY_EXPORT, dirsize );
    If pExportDirectory = Nil Then
    begin
      ErrMsg := SysErrorMessage(GetLastError);
      Result := False;
      Exit;
    end
    Else
      EnumExports( pExportDirectory^, imageinfo, callback );

  finally 
    UnMapAndLoad( @imageinfo );
  end 
Else
Begin
  ErrMsg := SysErrorMessage(GetLastError);
  Result := False;
  Exit;
  //RaiseLastWin32Error;
End;

 End; { ListDLLExports }

Procedure EnumExports( const ExportDirectory : TImageExportDirectory ;
                   const image : LoadedImage ;
                   callback : TDLLExportCallback ) ; 
 Type 
    TDWordArray = Array [0..$FFFFF] of DWORD; 
 Var 
    i: Cardinal; 
   pNameRVAs, pFunctionRVas: ^TDWordArray; 
   pOrdinals: ^TWordArray; 
   name: String;
   base : Pointer;
   address: Pointer;
   ordinal: Word;
 Begin { EnumExports }

   pNameRVAs := RVAToPointer( DWORD(ExportDirectory.AddressOfNames), image );
   pFunctionRVAs := RVAToPointer( DWORD(ExportDirectory.AddressOfFunctions), image );
   pOrdinals := RVAToPointer( DWORD(ExportDirectory.AddressOfNameOrdinals), image );
   For i:= 0 to Pred( ExportDirectory.NumberOfNames ) Do
   Begin
     name := RVAToPChar( pNameRVAs^[i], image );
     ordinal := pOrdinals^[i];
     address := Pointer( pFunctionRVAs^[ ordinal ] );

     If not callback( name, ordinal+ExportDirectory.Base, address ) Then
        Exit; 
    End; { For }
  End; { EnumExports }

Function RVAToPointer( rva : DWORD ; const Image : LoadedImage ) : Pointer; 
 var 
   pDummy: PImageSectionHeader; 
 Begin { RVAToPchar } 
     pDummy := nil; 
     Result := ImageRvaToVa( Image.FileHeader, Image.MappedAddress, rva, pDummy ); 
     If Result = Nil Then 
          RaiseLastWin32Error; 
 End; { RVAToPointer } 

  Function RVAToPchar( rva : DWORD ; const Image : LoadedImage ) : PChar ; 
  Begin { RVAToPchar } 
       Result := RVAToPointer( rva, image ); 
  End; { RVAToPchar } 
```

最后我使用了以下回调函数：

```
 Function TFrmDLLViewer.MyImportCallBack(const Name : String ; Ord1 : Integer ; Addr1 :     Pointer) : Boolean;
Begin
  Result := False;
  Form1.Memo1.Lines.Add(Name + '  ' + IntToStr(Ord1) + '=' +a ) ;
  Result := True;

end; 
```

此导出目录代码有效。

我想知道如何适当地修改它以获取导入目录表。

提前致谢 。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T08:51:23.723

**回调原型：**

```
type
  TDLLImportCallback = function(const module, name: string): Boolean of object; 
```

* * *

**典型用法：**

```
function TMainForm.ImportCallback(const module, name: string): Boolean;
begin
  Memo1.Lines.Add(Format('   Module: <%-30s>  Name  : <%-30s>', [module, name]));
  //
  Result := True;
end;  

procedure TMainForm.DisplayHeader(const AHeader: string);
begin
  if Memo1.Lines.Count<>0 then
    Memo1.Lines.Add('');
  Memo1.Lines.Add(AHeader);
  Memo1.Lines.Add('');
end;

procedure TMainForm.Button1Click(Sender: TObject);
begin
  Caption := 'DllExportImport - ['+FFileName+']';

  Memo1.Clear;

  //DisplayHeader('Exports:');
  //ListDLLExports(FFileName, ExportCallback, FErrorMSG);

  DisplayHeader('Imports:');
  ListDLLImports(FFileName, ImportCallback, FErrorMSG); // <<<
end; 
```

* * *

**棘手的`EnumImports`实现：**

```
procedure EnumImports(const ImportDirectory: TImageImportDirectory;
  const Image: LoadedImage; callback: TDLLImportCallback);
var
  pImportDirectory: PImageImportDirectory;
  pThunk : PImageThunkData32;
  modulename: string;
  name: string;
begin
  pImportDirectory := PImageImportDirectory(@ImportDirectory);

  while pImportDirectory.Name <> 0 do
  begin
    modulename := RVAToPChar(DWord(pImportDirectory.Name), image); // <<<

    pThunk := RVAToPointer(DWord(pImportDirectory.OriginalFirstThunk), Image);

    if pThunk <> nil then
    begin
      while pThunk^.Function_ <> nil do
      begin
        name := RVAToPChar(DWORD(@pThunk^.AddressOfData^.Name), image); // <<<
        //
        if not callback(modulename, name) then
          Exit;
        //
        Inc(pThunk);
      end;
      //
      Inc(pImportDirectory);
    end;
  end;
end; 
```

最困难的事情是找到在 Delphi 中根本不可用的所需的适当结构。

*为方便起见，保留了与EnumExports*类似的签名：将第一个参数作为 PImageImportDirectory 而不是 TImageImportDirectory 更合适。

* * *

**直接`ListDLLImports`实施：**

```
function ListDLLImports(const filename: string; callback: TDLLImportCallback;
  var ErrMsg: string): Boolean;
var
  imageinfo: LoadedImage;
  pImportDirectory: PImageImportDirectory;
  dirsize: Cardinal;
begin
  Result := False;

  Assert(Assigned(callback));

  if not FileExists(filename) then
  begin
    ErrMsg := Format('%s not found.', [filename]);
    Result := False;
    //
    Exit;
  end;

  if MapAndLoad(PAnsiChar(filename), nil, @imageinfo, True, True) then
    try
      pImportDirectory := ImageDirectoryEntryToData(imageinfo.MappedAddress,
        False, IMAGE_DIRECTORY_ENTRY_IMPORT, dirsize);

      if pImportDirectory = nil then
      begin
        ErrMsg := SysErrorMessage(GetLastError);
        Result := False;
        //
        Exit;
      end
      else
        EnumImports(pImportDirectory^, imageinfo, callback);
    finally
      UnMapAndLoad(@imageinfo);
    end
  else
  begin
    ErrMsg := SysErrorMessage(GetLastError);
    Result := False;
  end;
end; 
```

# datagridview - C#：从 datagridview 中选择某些行

> ID：10241905
> 
> 赞同：1
> 
> 时间：2012-04-20T07:20:57.593
> 
> 标签：datagridview

```
 string[] column0Array = new string[dataGridView1.Rows.Count];
        string[] column1Array = new string[dataGridView1.Rows.Count];

        int k = 0;

        List<DataGridViewRow> rows = null;
        for (int i = 0; i < dataGridView1.Rows.Count; i++)
        {
            if (rows != null)
            if (i % 4 == 0)
                rows.Add(dataGridView1.Rows[i]);

            foreach (DataGridViewRow row in dataGridView1.Rows)
                // if (dataGridView1.Rows.IndexOf(i%4 == ) )

                {
                    column0Array[k] = row.Cells[0].Value != null ? row.Cells[0].Value.ToString() : string.Empty;
                    column1Array[k] = row.Cells[1].Value != null ? row.Cells[1].Value.ToString() : string.Empty;

                    k++;
                }
        } 
```

像这样的东西？我有一个未处理的异常...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:24:27.007

```
List<DataGridViewRow> rows = null;
for (int i =0;i<dataGridView1.Rows.Count;i++)
{
  if(i%4==0)
   rows.Add(dataGridView1.Rows[i]);

  column0Array[i] = dataGridView1.Rows[i].Cells[0].Value != null ? dataGridView1.Rows[i].Cells[0].Value.ToString() : string.Empty;
  column1Array[i] = dataGridView1.Rows[i].Cells[1].Value != null ? dataGridView1.Rows[i].Cells[1].Value.ToString() : string.Empty;

} 
```

# iphone - 在 iOS (Objective-c) 中解析 JSON 数据并在 TableView 中显示。获取空值

> ID：10241908
> 
> 赞同：0
> 
> 时间：2012-04-20T07:21:21.320
> 
> 标签：iphone, objective-c, json, ios5

我在这里遇到了类似的问题，但没有找到我面临的问题的答案..

到目前为止，我已经能够解析 JSON 数据并存储在字典中。以下是 JSON 数据在其原始形式中的样子：

```
{"stores":[{"address":"7801 Citrus Park Town Center Mall","city":"Tampa","name":"Macy's","latitude":"28.068052","zipcode":"33625","storeLogoURL":"http://strong-earth-32.heroku.com/images/macys.jpeg","phone":"813-926-7300","longitude":"-82.573301","storeID":"1234","state":"FL"},

{"address":"27001 US Highway 19N","city":"Clearwater","name":"Dillards's","latitude":"27.9898988","zipcode":"33761","storeLogoURL":"http://strong-earth-32.heroku.com/images/Dillards.jpeg","phone":"727-296-2242","longitude":"-82.7294986","storeID":"1235","state":"FL"}, 
```

等等..

如您所见，它是一个字典数组的字典。因此，我首先将原始数据存储在字典中，提取`value`for`key = stores`并将其存储在数组中。之后，我提取了每个字段并将其存储在自定义对象 tempStore 中。这是失败的时候。

```
- (void)viewDidLoad
{
[super viewDidLoad];
[populatedStoreArray addObject:@"blah"];
NSString *jsonRawData = [[NSString alloc] initWithContentsOfURL:[NSURL URLWithString:@"http://strong-earth-32.heroku.com/stores.aspx"]];

if([jsonRawData length] == 0)
{
    [jsonRawData release];
    return;
}
SBJsonParser * parser = [[SBJsonParser alloc]init];
resultData = [[parser objectWithString:jsonRawData error:nil]copy];
NSArray *storeArray = [[NSArray alloc]init];
storeArray= [resultData objectForKey:@"stores"];
Store *tempStore = [[Store alloc]init];

/*NSLog(@"show me stores: %@", storeArray);*/
for(int i=1;i<[storeArray count];i++)
{
    NSDictionary *tempDictionary = [storeArray objectAtIndex:i];
    if([tempDictionary objectForKey:@"address"]!=nil)
    {
        tempStore.address= [tempDictionary objectForKey:@"address"];
        //NSLog(@"Address: %@",tempStore.address);
    }
    //and so on for other keys
    [populatedStoreArray addObject:tempStore]; 
    NSLog(@"In array: %@",[populatedStoreArray objectAtIndex:i]);
} 
```

这是 tempStore 对象：

```
- (id) init 
{
    if (self = [super init])
    {
    self.address = @"address";
    self.city = @"city";
    self.name = @"name";
    self.latitude = @"latitude";
    self.longitude = @"longitude";
    self.state = @"state";
    self.phone = @"phone";
    self.storeid = @"storeID";
    self.url = @"storeLogoURL";
    self.zipcode = @"zipcode";
    }
    return self;
} 
```

现在，我使用填充的StoreArray 来填充表格的单元格。我不确定要显示的格式，但我主要担心的是当我尝试打印populatedStoreArray 时，即使已填充tempStore，它的内容也是空的。我在这里想念什么？此外，populatedStoreArray 在 .h 文件中声明为属性。

```
@property (nonatomic, strong) NSMutableArray * populatedStoreArray; 
```

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:26:22.920

请先分配你的**NSMutableArray**也先合成你的数组

像`populatedStoreArray = [[NSMutableArray alloc] init];`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T08:23:09.477

正如 Cocoa Matters 上面所说，您需要确保您的填充存储数组已分配和初始化，当您尝试将对象添加到 nil 数组时，objective-c 不会出错，因此看起来您添加了它们，但您没有。

另外我不知道它是否是您的实际代码，但我注意到您只分配和初始化 tempStore 一次。因此，您正在遍历数组并设置 tempStore.address 并每次添加相同的对象，因此您只会在数组中得到一个 tempStore 对象，您需要在每次迭代中分配并初始化一个新的 tempStore 对象你的循环：

```
Store *tempStore;

/*NSLog(@"show me stores: %@", storeArray);*/
for(int i=1;i<[storeArray count];i++)
{
    tempStore = = [[Store alloc]init];

    NSDictionary *tempDictionary = [storeArray objectAtIndex:i];
    if([tempDictionary objectForKey:@"address"]!=nil)
    {
        tempStore.address= [tempDictionary objectForKey:@"address"];
        //NSLog(@"Address: %@",tempStore.address);
    }
    //and so on for other keys
    [populatedStoreArray addObject:tempStore]; 
    NSLog(@"In array: %@",[populatedStoreArray objectAtIndex:i]);
} 
```

# css - css ie7相对元素出现在包含元素的左侧和外部

> ID：10241910
> 
> 赞同：1
> 
> 时间：2012-04-20T07:21:24.273
> 
> 标签：css, internet-explorer-7

继续 ie7 调试。感谢以前的帖子，我发现了 ie9 中的工具以及它们帮助调试 ie7 的能力 - 太棒了 - 谁曾认为微软可以开发一个有用的工具 :)

反正...

使用教程中的脚本，我有一个面板，它从顶部滑入，并有一个标签可以单击以滑动面板打开和关闭。除了出现在最左侧和部分在其包含元素之外的选项卡之外，该面板都按预期工作，而它应该在右侧对齐。该元素相对于它包含的 div 定位并向右浮动。

包含的 div 出现在它应该在页面上执行的位置。这是HTML：

```
<div class="tab">

<ul class="login">
 <li class="left">
  &nbsp; 
 </li>
 <li>
  Hello Guest! 
 </li>
 <li class="sep"> 
```

| 登录 | 注册关闭面板  

```
</div> 
```

这是与元素相关的CSS：

```
.tab {
background: url(../images/tab_b.png) repeat-x 0 0;
height: 42px;
position: relative;
top: 0;
z-index: 999;
}

.tab ul.login {
display: block;
position: relative;
float: right;
clear: right;
height: 42px;
width: auto;
font-weight: bold;
line-height: 42px;
margin: 0;
right: 150px;
color: white;
font-size: 12px;
text-align: center;
}

.tab ul.login li.left {
background: url(../images/tab_l.png) no-repeat left 0;
height: 42px;
width: 30px;
padding: 0;
margin: 0;
display: block;
float: left;
}

.tab ul.login li.right {
background: url(../images/tab_r.png) no-repeat left 0;
height: 42px;
width: 30px;
padding: 0;
margin: 0;
display: block;
float: left;
}

.tab ul.login li {
text-align: left;
padding: 0 6px;
display: block;
float: left;
height: 42px;
background: url(../images/tab_m.png) repeat-x 0 0;
} 
```

对于 ie7 定位错误，我应该注意什么，以便我可以尝试解决问题区域。

谢谢

更新：我在下面尝试了一个建议的答案，但还没有成功。但是我没有注意到父包装器不正确。它们被设置为 width:100% 但它们从页面左侧开始大约 1/4，就好像它们有一个边距： HTML 下面：

```
 <DIV id=panel>
     <DIV class="content clearfix">
       <DIV class=left>
        CONTENT
       </DIV>
      <DIV class=left><!-- Login Form -->
      CONTENT
      </DIV>
      <DIV class="left right"><!-- Register Form -->
      CONTENT
      </DIV>
    </DIV>
    </DIV>
    <!-- /login -->
    <!-- The tab on top -->
    <DIV id=wrapper1>
      <DIV class=tab>
        <UL class=login>
           <LI class=left>&nbsp; </LI>
            <LI>Hello Guest! </LI>
            <LI class=sep>| </LI>
            <LI id=toggle>CONTENT</LI>
            <LI class=right>&nbsp; </LI>
       </UL>
     </DIV>
     </DIV> 
```

整个面板从左侧离开，而它应该跨越整个页面，页面实际上需要滚动到右侧才能看到整个元素。该面板紧跟在标签之后

顶部面板等的 CSS：

```
 #toppanel {
   position: absolute;   /*Panel will overlap  content */
   /*position: relative;*/   /*Panel will "push" the content down */
   top: 0;
   width: 100%;
   z-index: 999;
   text-align: center;
   margin-left: auto;
   margin-right: auto;
  }

   #panel {
width: 100%;
height: 250px;
color: #999999;
background: #272727;
overflow: hidden;
position: relative;
z-index: 3;
display: none;
  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:07:09.157

给你的标签一个`left:0px`和一个包装。

IE 7 设置 left:0px 默认值，如果您周围没有另一个相对容器，它会设置在最左侧。

# windows-phone-7 - 在横向和纵向模式下使用 ScrollViewer 正确滚动

> ID：10241911
> 
> 赞同：1
> 
> 时间：2012-04-20T07:21:31.313
> 
> 标签：windows-phone-7, xaml, scrollviewer

我有一个带有 PivotItem 的简单 Pivot，如下所示。

```
<StackPanel>
   <controls:Pivot x:Name="TopPivot" Title="Daily Comics" ItemsSource="{Binding ComicsListModel}" SelectionChanged="TopPivot_SelectionChanged" Height="762">
            <controls:Pivot.HeaderTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding ComicName}"/>
                </DataTemplate>
            </controls:Pivot.HeaderTemplate>
            <controls:Pivot.ItemTemplate>
                <DataTemplate>
                    <StackPanel>
                        <TextBlock Text="{Binding PubDate}" HorizontalAlignment="Center" VerticalAlignment="Top" />
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <Image x:Name="ComicStrip" Source="{Binding ComicImage}" Stretch="UniformToFill" />
                        </ScrollViewer>
                    </StackPanel>
                </DataTemplate>
            </controls:Pivot.ItemTemplate>
   </controls:Pivot>
</StackPanel> 
```

问题是如果图像（名为“ComicStrip”）不完全可见，我希望它垂直滚动。这适用于纵向模式，但不适用于横向模式。在横向中，图像只能部分滚动，图像的底部将不可见。

我想当我处于横向模式时，我必须告诉 ScrollViewer 它的高度，但我不知道如何以及处理这种用例的最佳做法是什么。不过，这似乎是一个基本用例。

有什么建议我应该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:15:01.290

我认为这里的问题是使用 StackPanel 作为 Pivot 项目模板！如果你使用网格，你应该不会有任何问题。

将您的 Pivot 项目模板替换为：

```
<controls:Pivot.ItemTemplate>
    <DataTemplate>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <TextBlock Text="{Binding PubDate}" />
            <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Row="1">
                <Image x:Name="ComicStrip" Source="{Binding ComicImage}" Stretch="UniformToFill" />
            </ScrollViewer>
        </Grid>
    </DataTemplate>
</controls:Pivot.ItemTemplate> 
```

# java - Java字节码中的`Stack=1，Locals=1，Args_size=1`是什么意思？

> ID：10241914
> 
> 赞同：0
> 
> 时间：2012-04-20T07:21:36.797
> 
> 标签：java, bytecode

我做了一个简单的类来学习如何阅读 Java 字节码。线是做什么的

```
Stack=1, Locals=1, Args_size=1 
```

在以下代码中是什么意思？

```
public Demo();
  Code:
   Stack=1, Locals=1, Args_size=1
   0:   aload_0
   1:   invokespecial   #1; //Method java/lang/Object."<init>":()V
   4:   return
  LineNumberTable: 
   line 1: 0 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-20T07:26:10.457

这意味着您有一个参数（要初始化的对象），一个局部变量（要初始化的对象）和堆栈上最多一个对象（要初始化的对象）

# c++ - 在 C++ 中以优雅和礼貌的方式处理 GTK 回调

> ID：10241915
> 
> 赞同：1
> 
> 时间：2012-04-20T07:21:43.033
> 
> 标签：c++, linux, coding-style, callback, gtk

最近我开始了一个 C++ 项目，以便让自己熟练使用 GTK 函数。我使用了 C++ 方法，因为我总是用 java 编程，所以对我来说似乎很熟悉。

现在，GTK 库是用 C 代码编写的，所以我在类和 C 代码风格之间实现了一些混合。我的问题之一是 GTK 事件与回调函数一起使用。为了将这些事件封装在类中，我使用了静态方法。

最重要的是静态方法和静态变量在类内部是不可见的，另外我还编写了一些其他静态函数，仅在类的 .cpp 文件中声明，从回调内部调用但与类完全分离.

在我看来，这种方法有点笨拙，所以我想知道是否有最好的方法来处理类中的这些回调并允许它们以优雅的方式与类方法和结构进行交互？

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-20T09:15:12.400

是的，您需要在 user_data 参数中传递状态（例如，您的 this 指针，或指向某个插槽/函子的指针）。否则，您将永远不会有一个类实例来调用您的成员方法。

这就是 gtkmm 所做的。例如，Gtk::Container::foreach() 使用静态（非成员）函数，将提供的 sigc::slot 传递给它： [http ://git.gnome.org/browse/gtkmm/tree/gtk/src /container.ccg#n166](http://git.gnome.org/browse/gtkmm/tree/gtk/src/container.ccg#n166)

信号的代码（您在问题中称为事件）类似，但稍微复杂一些 - 您可以在 gtkmm 中生成的 .cc 代码中看到它。

但是，我也认为你应该只使用 gtkmm。这只是您最终（不）自己解决的几个问题之一。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-20T07:48:45.543

我建议您改为查看[Gtkmm](http://www.gtkmm.org/en/)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-20T10:04:34.567

作为旁注，GTK 库是用 C 编写的，但是有一些绑定可以从其他语言中使用它们：

*   C++ → GTKmm
*   python → pyGTK（用于 GTK2），pyGObject（用于 GTK3）
*   Java → java-gnome

等等

# javascript - 如何检测谷歌图表（饼图）上的双击事件

> ID：10241923
> 
> 赞同：4
> 
> 时间：2012-04-20T07:22:15.747
> 
> 标签：javascript, jquery, google-visualization

如何检测谷歌图表上的双击事件？这是我的代码：

```
 var options = {
      title: 'My Daily Activities'
    };

    var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
    console.log(chart);
    chart.is3D = true;
    chart.draw(data, options);
    google.visualization.events.addListener(chart, 'click', function(e){
        console.log(e);
        console.log(chart.getSelection());
        var data = chart.getSelection();
        if(data.length > 0) {
            alert(0);
            chart.setSelection([]);
        }
        //window.open("http://classicmayank.limewebs.com", "mywindow1", "status=1,width=350,height=150");
    });
  } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-07-01T13:18:50.320

我知道这是一个老问题，但我尝试了一些技巧来检测双击。只是通过测量它。这肯定不是一个好的或强大的解决方案，但它似乎有效。

```
var firstClick = 0;
var secondClick = 0;

google.visualization.events.addListener(chart, 'click', function () {
    var date = new Date();
    var millis = date.getTime();

    if (millis - secondClick > 1000) {        
        // add delayed check if a single click occured
        setTimeout(function() {
            // no second click fast enough, it is a single click
            if (secondClick == 0) {
                alert("click");
            }
        }, 250);
    }

    // try to measure if double-clicked
    if (millis - firstClick < 250) {        
        firstClick = 0;
        secondClick = millis;

        alert("doubleClick");

    } else {
        firstClick = millis;
        secondClick = 0;
    }
}); 
```

JSFiddle 就在[这里](http://jsfiddle.net/cczskgpw/2/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-02-09T06:48:05.133

我做了以下

```
 var clicks = 0;

    function selectHandler() {

      clicks++;

      setTimeout(function() {
          if (clicks >= 2) {
              alert("double click");

          }
          clicks = 0;
      }, 250);

    }

    //bind the select event with chart
    google.visualization.events.addListener(chart, 'select', selectHandler); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-11T17:00:23.803

我想它有点晚了，但使用一些类似的东西

```
 google.visualization.events.addListener(chart, 'select', columnselectHandler)
   var status = 0;

   function columnselectHandler(e) {
            var selection = chart.getSelection();
            var selectedItem = selection[0];
            var data2 = getDDData(k);
            var columndata = [] 
      if (selectedItem) {
    if (status == 0){
    var name = data.getValue(selectedItem.row, 0);
    columndata[0] =  data2[0] 
    columndata[1] =  data2[selectedItem.row+1]                          
              var chartData = new google.visualization.arrayToDataTable(columndata);
        chart.draw(chartData, {width: 1200, height:500}, options);
        var button = document.getElementsByClassName("backToMain")[0];        
          button.setAttribute("id",chartType)
         button.setAttribute("style","display:inline; margin-top:150px; font-size:30px; position:absolute;")` 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-01-19T04:46:04.510

我通过监听 chart_div（容器）的双击事件来做到这一点。

conatiner = document.getElementById('chart_div');

container.addEventListener('dblclick', (e)=>console.log('双击'));

* * *

## 回答 #5

> 赞同：-3
> 
> 时间：2012-04-20T12:26:34.250

Jquery 提供了一个可以使用的双击事件。正如您在此处的示例中看到的：

```
$("p").dblclick( function () { alert("Hello World!"); }); 
```

您可以在这里找到更多信息的 jQuery 页面：http: [//api.jquery.com/dblclick/](http://api.jquery.com/dblclick/)

# spring - 是否可以使用 RMI 和 Spring 进行两阶段提交

> ID：10241924
> 
> 赞同：1
> 
> 时间：2012-04-20T07:22:18.383
> 
> 标签：spring, transactions, websphere, rmi, distributed

我需要知道弹簧事务管理器是否允许两阶段提交。我们将使用 IBM Websphere 作为服务器。技术将是春天。

我们的要求如下。一个应用程序 (A) 将使用 RMI 调用其他服务器上的其他应用程序 (B)，并使用应用程序 (B) 更新数据库。一旦收到 RMI 响应，将使用 RMI 调用其他应用程序 (C)，并使用 (C) 更新数据库。如果 C 应用程序失败，我需要回滚 B 和 C 的事务。

请帮忙。

# java - 读取/写入期间的 XmlBeans 源定位器

> ID：10241929
> 
> 赞同：1
> 
> 时间：2012-04-20T07:22:36.657
> 
> 标签：java, xml, serialization, xmlbeans

我有从 XSD 生成的 XmlBeans 类。我想跟踪持久对象的行号。这可能吗？我不在乎这些信息是在解析期间（xml → beans）还是在漂亮打印（beans → xml）期间存储的，因为我让它们在我的应用程序流中保持同步。

如果可能的话，我想要开始和结束行/列号。

我不在乎我是否必须使用某种非标准黑客来获取定位器数据。

如果有另一个 Java XML 框架可以从 XSD 文件生成类*并*支持定位器数据，那么我愿意切换。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T10:16:49.910

**注意：** 我是[**EclipseLink JAXB (MOXy)**](http://www.eclipse.org/eclipselink/moxy.php)负责人，也是[**JAXB (JSR-222)**](http://jcp.org/en/jsr/detail?id=222)专家组的成员。

> 如果有另一个 Java XML 框架可以从 XSD 文件生成类并支持定位器数据，那么我愿意切换。

JAXB 可以从 XML 模式生成类，下面是几种获取位置信息的方法。有关 JAXB 和 XMLBeans 的比较，请参见：

*   [http://blog.bdoughan.com/2012/01/how-does-jaxb-compare-to-xmlbeans.html](http://blog.bdoughan.com/2012/01/how-does-jaxb-compare-to-xmlbeans.html)

**选项 #1 - StAX 和 Unmarshaller.Listener**

***演示***

```
package forum10241929;

import java.io.File;
import javax.xml.bind.*;
import javax.xml.stream.*;
import javax.xml.transform.stream.StreamSource;

public class Demo {

    public static void main(String[] args) throws Exception {
        JAXBContext jc = JAXBContext.newInstance(Customer.class);

        XMLInputFactory xif = XMLInputFactory.newFactory();
        XMLStreamReader xsr = xif.createXMLStreamReader(new StreamSource(new File("src/forum10241929/input.xml")));

        Unmarshaller unmarshaller = jc.createUnmarshaller();
        unmarshaller.setListener(new LocationListener(xsr));
        Customer customer = (Customer) unmarshaller.unmarshal(xsr);
    }

    private static class LocationListener extends Unmarshaller.Listener {

        private XMLStreamReader xsr;

        public LocationListener(XMLStreamReader xsr) {
            this.xsr = xsr;
        }

        @Override
        public void afterUnmarshal(Object target, Object parent) {
            log("End", target);
        }

        @Override
        public void beforeUnmarshal(Object target, Object parent) {
            log("Start", target);
        }

        private void log(String event, Object target) {
            System.out.print(event);
            System.out.print(" ");
            System.out.print(target);
            System.out.print(" [");
            Location location = xsr.getLocation();
            System.out.print(location.getLineNumber());
            System.out.print(",");
            System.out.print(location.getColumnNumber());
            System.out.println("]");
        }

    }

} 
```

***输入.xml***

```
<?xml version="1.0" encoding="UTF-8"?>
<customer>
    <name>Jane Doe</name>
    <address>
        <street>1 A Street</street>
    </address>
</customer> 
```

***输出***

```
Start forum10241929.Customer@144aa0ce [2,11]
Start forum10241929.Address@19e3cd51 [4,14]
End forum10241929.Address@19e3cd51 [6,15]
End forum10241929.Customer@144aa0ce [7,12] 
```

***顾客***

```
package forum10241929;

import javax.xml.bind.annotation.XmlRootElement;

@XmlRootElement
public class Customer {

    private String name;
    private Address address;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Address getAddress() {
        return address;
    }

    public void setAddress(Address address) {
        this.address = address;
    }

} 
```

***地址***

```
package forum10241929;

public class Address {

    private String street;

    public String getStreet() {
        return street;
    }

    public void setStreet(String street) {
        this.street = street;
    }

} 
```

**选项 #2 - @XmlLocation**

EclipseLink JAXB (MOXy) 和调用的参考实现都支持 JAXB 扩展`@XmlLocation`（下面是使用 MOXy 的示例）。这只会捕获开始位置。

```
package forum10241929;

import javax.xml.bind.annotation.XmlRootElement;
import org.eclipse.persistence.oxm.annotations.XmlLocation;
import org.xml.sax.Locator;

@XmlRootElement
public class Customer {

    private String name;
    private Address address;

    @XmlLocation
    private Locator location;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public Address getAddress() {
        return address;
    }

    public void setAddress(Address address) {
        this.address = address;
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T23:21:42.483

只需使用[XmlOptions#setLoadLineNumbers()](http://xmlbeans.apache.org/docs/2.4.0/reference/org/apache/xmlbeans/XmlOptions.html#setLoadLineNumbers%28%29)，例如：

```
MyDocument.Factory.parse(xmlFile, new XmlOptions().setLoadLineNubmers()); 
```

然后要从 xml 存储中检索行号，请找到最近的 XmlLineNumber 书签。

```
import org.apache.xmlbeans.*;

public class linenumber
{
    public static void main(String[] args) throws XmlException
    {
        XmlOptions options = new XmlOptions().setLoadLineNumbers();
        XmlObject xobj = XmlObject.Factory.parse("<a>\n<b>test</b>\n<c>test</c>\n</a>", options);

        // let's get the line number for the '<c>' xml object
        XmlObject cobj = xobj.selectPath(".//c")[0];
        System.out.println(cobj.xmlText());

        XmlCursor c = null;
        try
        {
            c = cobj.newCursor();

            // search for XmlLineNumber bookmark
            XmlLineNumber ln =
                (XmlLineNumber) c.getBookmark( XmlLineNumber.class );

            if (ln == null)
                ln = (XmlLineNumber) c.toPrevBookmark( XmlLineNumber.class );

            if (ln != null)
            {
                int line = ln.getLine();
                int column = ln.getColumn();
                int offset = ln.getOffset();

                System.out.println("line=" + line + ", col=" + column + ", offset=" + offset);
            }
        }
        finally
        {
            if (c != null) c.dispose();
        }
    }
} 
```

# macos - OSX：输入密码时隐藏字符

> ID：10241931
> 
> 赞同：0
> 
> 时间：2012-04-20T07:22:40.033
> 
> 标签：macos, login, passwords, osx-lion

在mac osx中输入密码时是否可以隐藏字符？现在系统显示一些子弹式的东西。我可以隐藏一切吗？

谢谢

# ios - Ios 多活动项目

> ID：10241937
> 
> 赞同：-2
> 
> 时间：2012-04-20T07:23:10.270
> 
> 标签：ios

我是 iOS 新手。如何将 UIViewController 分配给每个视图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:25:57.547

猜猜你来自安卓世界:)。在 iOS 中，Activity 可以与`UIViewController`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T08:25:39.507

如果您创建一个带有自动添加 xib 文件选项的新 ViewController，则视图和视图控制器将被链接。

否则，如果您独立于视图控制器创建 xib 文件，则必须使用“文件所有者”的右侧/检查器面板定义视图控制器的自定义类

# javascript - javascript中的Rails翻译变量

> ID：10241938
> 
> 赞同：0
> 
> 时间：2012-04-20T07:23:11.563
> 
> 标签：javascript, ruby-on-rails, regex, internationalization

Rails 提供了将变量传递给翻译的功能：

[http://guides.rubyonrails.org/i18n.html#passing-variables-to-translations](http://guides.rubyonrails.org/i18n.html#passing-variables-to-translations)

我希望能够在客户端上使用这些文件，即在 Javascript 中。这些文件已经翻译成 JSON，但我希望能够在翻译后的字符串中设置参数。

例如：

`There are %{apple_count} apples in basket ID %{basket_id}.`

where`%{apple_count}`和`%{basket_id}`将被参数替换。

这是我想在 JS 中使用的调用（即我想实现`origStr`）：

`var str = replaceParams(origStr, {apple_count: 5, basket_id: "aaa"});`

我猜最好的策略是使用正则表达式。如果是这样，请提供一个好的正则表达式。但我愿意听取任何其他选择。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:26:48.350

如果您始终提供所有参数（即从不省略它们）并且模板中没有多次使用参数，则无需使用正则表达式。

```
function replaceParams(origStr, params) {
    for (var p in params) origStr = origStr.replace("%{" + p+ "}", params[p]);
    return origStr;
} 
```

在其他情况下，如果你只想要正则表达式，很容易使用回调替换：

```
function replaceParams(origStr, params) {
    return origStr.replace(/%{(\w+)}/g, function(m, pName){
        return params[pName];
        // this will return "undefined" if you forget to pass some param.
        // you may use `params[pName] || ""` but it would make param's value `0` (number)
        // rendered as empty string. You may check whether param is passed with
        // if (pName in params)
    });
} 
```

# sql - NVL 功能

> ID：10241940
> 
> 赞同：3
> 
> 时间：2012-04-20T07:23:16.027
> 
> 标签：sql, database, oracle, view, nvl

```
select NVL(B.SEQID, A.LVL5_ID) LVL6_ID, NVL(B.NAME, ' ')  LVL6_NAME, A.LVL5_ID
FROM LVL5 A, ABC B WHERE A.LVL5_ID = B.LVL7 
```

上面的查询定义了我系统中的视图。在这里我想知道为什么使用NVL。

问题是 SEQID 是主键列，不能为空。那么这里需要NVL吗？

如果找不到满足 where 子句的记录，B.SEQID 可以为空吗？（我知道这没有意义，但我不得不问）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T07:35:00.943

您的 nvl 函数所做的是将 B.SEQID 中遇到的所有空值替换为 A.LVL5_ID 的值。

声明 B.SEQID 是主键会使此 NVL 在您的查询中无用，因为主键永远不能包含空值。但是，唯一键当然可以包含多个空值。

如果 where 子句没有任何匹配项，它将不会返回空值，而是返回“未选择行”，这是一条反馈消息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T07:33:45.710

主键约束是唯一键约束加上非空约束。所以它确保它下面的列是强制性的。因此，您可以愉快地删除 NVL。

问候，
罗布。

# android - RelativeLayout 不适合视图中的所有内容

> ID：10241942
> 
> 赞同：0
> 
> 时间：2012-04-20T07:23:20.727
> 
> 标签：android, android-layout, android-relativelayout

在尝试向`SeekBar`对话框添加 时，我意识到我需要`TextView`反映`setProgress()`. `SeekBar`我是这样实现的：

```
 private void customDialogTimeout() {
    LinearLayout ll = new LinearLayout(getSherlockActivity());
    ll.setOrientation(LinearLayout.VERTICAL);

    RelativeLayout input = new RelativeLayout(getSherlockActivity());

    final SeekBar timeoutSeekBar = new SeekBar(getSherlockActivity());
    timeoutSeekBar.setId(1);
    final TextView seekBarStatus = new TextView(getSherlockActivity());
    seekBarStatus.setId(2);

    LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(
         LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);
    RelativeLayout.LayoutParams lay1 = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT, RelativeLayout.LayoutParams.WRAP_CONTENT);
    lay1.addRule(RelativeLayout.CENTER_VERTICAL);
    lay1.addRule(RelativeLayout.ALIGN_PARENT_LEFT);

    RelativeLayout.LayoutParams lay2 = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT);
    lay2.addRule(RelativeLayout.CENTER_VERTICAL);
    lay2.addRule(RelativeLayout.RIGHT_OF, timeoutSeekBar.getId());

    layoutParams.setMargins(30, 20, 30, 0);

    input.addView(timeoutSeekBar,lay1);
    input.addView(seekBarStatus, lay2);

    ll.addView(input, layoutParams); 
```

然而，由此产生的观点似乎“推出”了`TextView`：

![在此处输入图像描述](../Images/0bb889b3e34f17a4de844d989b7d3fc0.png)

我究竟做错了什么？如果我以错误的方式接近这个，请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:45:31.633

你`SeekBar`的宽度设置为`RelativeLayout.LayoutParams.MATCH_PARENT`，当你添加到它的左边时，`TextView`它显然不会显示，因为它被推出了屏幕（因为`SeekBar`已经填满了整个宽度）：

```
 RelativeLayout.LayoutParams lay1 = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT, RelativeLayout.LayoutParams.WRAP_CONTENT);
    lay1.addRule(RelativeLayout.CENTER_VERTICAL);
    lay1.addRule(RelativeLayout.ALIGN_PARENT_LEFT);
    lay1.addRule(RelativeLayout.LEFT_OF, seekBarStatus.getId());

    RelativeLayout.LayoutParams lay2 = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT, RelativeLayout.LayoutParams.WRAP_CONTENT);
    lay2.addRule(RelativeLayout.CENTER_VERTICAL);
    lay2.addRule(RelativeLayout.ALIGN_PARENT_RIGHT);

    layoutParams.setMargins(30, 20, 30, 0);
    input.addView(seekBarStatus, lay2);
    input.addView(timeoutSeekBar,lay1); 
```

# java - 列表视图 选定项目 滚动出视图时更改

> ID：10241949
> 
> 赞同：-1
> 
> 时间：2012-04-20T07:23:58.497
> 
> 标签：java, android

我有一个列表视图，其中填充了自定义行。每行都有一些数据和一个圆形图像，点击它就会变成绿色。我基本上想复制“读取”状态，如“如果圆形图像变为绿色，则读取此消息”。我使用了一个基本适配器在屏幕上显示视图。我设法将颜色更改为绿色。

```
if(messagealertAdapterObject.status!=null && 
   messagealertAdapterObject.equals("read")) {
    select.setImageResource(R.drawable.greencircle);
}else{
    select.setImageResource(R.drawable.gray);
} 
```

但我的问题是，如果我滚动列表，在选择特定行后颜色变为绿色，当所选图像离开视图时，它会返回“未读”状态，因为颜色不再保持绿色一旦它消失了。

有没有什么方法可以让颜色保持绿色，即使“圆圈”不在视野范围内？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T07:42:08.993

我相信您的问题与滚动时回收其视图的 ListView 行为有关。您需要做的是扩展您的列表适配器并覆盖*getView*方法来处理所选项目的颜色分配。

有关更多信息，请阅读[此](http://android.amberfog.com/?p=296)内容和[此内容](http://mobile.cs.fsu.edu/the-nuance-of-android-listview-recycling-for-n00bs/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T08:41:51.863

```
I have understand your problem. 
```

您需要维护一个布尔数组列表并需要将所有状态保存在该列表中。每当您滚动列表视图时，它都会重新创建其视图，因此您需要保存视图的状态。我举一个例子，我认为它会帮助你。

```
//maintain a listview in your custom adapter:

private ArrayList<Boolean> itemRead      = null;

//initialize it in your custom adapter constructor:

   for (int i=0; i < no_of_elements.size(); i++)
   {
        itemRead.add(i, false);
   } 
```

在您的 getView 中编写以下代码：

```
public View getView (int position, View convertView, ViewGroup parent)
{
     //WRITE YOUR CODE

     if (itemRead.get(position) == true)
     {
         //SET YOUR ALREADY READ IMAGE
     } else {
        // SET UNREAD IMAGE
     }
} 
```

每当有人阅读一行时，只需将您的状态保存在 itemRead.add(row_position, true)

这将解决您的问题，因为每次重新创建您的视图时，它都会保存状态并根据该状态设置您的图像。希望它会工作..

# php - 在网页上存储文件一段时间

> ID：10241950
> 
> 赞同：3
> 
> 时间：2012-04-20T07:23:59.090
> 
> 标签：php, python, temporary-files

我需要设置一个页面，让用户上传文件，使用脚本修改文件，然后将文件返回给用户。

我有上传和修改部分，但我不知道把文件放在哪里。它们将在 1 或 2mb 的区域内，而我的虚拟主机计划空间很小，所以我想尽快摆脱这些文件。没有理由让用户在被重定向后可以选择通过浏览器下载这些文件。

使用cron作业检查文件的创建时间并在它们达到一定年龄时将其删除的唯一方法是吗？

我正在使用 python 和 PHP。

编辑：

首先上传文件。然后将文件的位置发送回给用户。页面上的 javascript 重定向到文件的路径。浏览器打开保存文件对话框，他们选择保存文件或取消。如果他们取消，我想立即删除该文件。如果他们选择保存文件，我想在他们下载完成后删除文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:22:54.983

通常，您必须设置策略。政策是`for any uploaded file, the life time is 5 mins`。

Kniganapolke 的解决方案很好，可能是最便宜和最容易实施的。如果您不喜欢保留实际文件所在位置的信息（在您的服务器中，您不得向外界公开），您需要将其记录在您的数据库中。

但是有一个替代解决方案，从长远来看会更好。

排个队。是的。Cron 作业是要走的路，因为您必须考虑用户何时关闭 FireFox。我们真的要编写一些 javascript 来检查用户是否正在关闭 Firefox 吗？我不知道该怎么做，因为我不是 javascript 人。恐怕真的不容易。但我们不想处理 shell 脚本或低级系统命令。用 Python 做吗？这意味着不要使用 cron 作业。

策略是，根据需要将尽可能多的东西放入队列中。将上传添加到队列中，抛出返回（显示链接），然后抛出删除策略（检查当前时间是否超过 5 分钟），如果不是，则将相同的策略返回到队列中。

您想要一个任务队列，例如[Celery](http://celeryproject.org/)（仅举一个我的最爱）

这些分布式任务队列对于上传图片、修改然后返回 url 等 Web 服务会更理想。您不希望您的服务被阻塞（如果转换需要 1 分钟怎么办）？如果您没有正确设置，您的服务器人员（例如 apache 或 nginx）可能会在内部超时。你也不要让超时时间过长，否则会带来灾难。

使用任务队列，您现在可以扩展您的 Web 服务。这将使您未来的项目变得更好。

一些读数

[http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html](http://bitkickers.blogspot.com/2010/07/djangocelery-quickstart-or-how-i.html)

[python的作业队列实现](https://stackoverflow.com/questions/1336489/job-queue-implementation-for-python)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T07:54:11.877

首先想到的是在 JavaScript 中设置超时并向您的服务器脚本发送 AJAX 请求以删除文件。
当用户离开或关闭页面时，我也会处理这种情况（在 IE 中是 onBeforeUnload 事件）。

编辑：这需要您更改文件的下载方式。例如，请参阅[使用 JavaScript 开始文件下载](https://stackoverflow.com/questions/365777/starting-file-download-with-javascript)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-22T08:49:59.263

我不知道为什么我没有想到它，但我在 IRC for Python 上讨论了一个完全不相关的问题，有人问我为什么不只是提供文件。确切地！

我从不需要保存文件，只需将其发送回具有正确标题的用户即可。问题解决了！

# iphone - 将网页内容从 safari 复制到 contenteditable UIWebView 时过滤 UIPasteboard

> ID：10241953
> 
> 赞同：7
> 
> 时间：2012-04-20T07:24:21.627
> 
> 标签：iphone, ios, uiwebview, contenteditable, uipasteboard

我的应用程序是一个富编辑器，它使用`UIWebView`HTML5 的`contenteditable`功能。

现在，当网络内容有任何图像时，我的应用程序在处理将网络内容从 safari 复制到我的 UIWebView 时遇到了一些问题。我想将其中的图像 html 标记替换为我`<img>`的`UIPasteboard`一些图像。

但是，当我使用以下代码检查粘贴板时，粘贴板中**没有**任何图像。但是从 safari 复制/粘贴图像到我的应用程序工作正常。

```
UIPasteboard *pasteboard = [UIPasteboard generalPasteboard];
NSLog(@"clip board strings = %@", pasteboard.strings);
NSLog(@"clip board urls = %@", pasteboard.URLs);
NSLog(@"clip board images = %@", pasteboard.images); 
```

如果我从 safari 复制一些图像和文本然后打开我的应用程序，NSLog 如下：

```
2012-04-20 14:53:37.558  clip board strings = (
    "text"
)
2012-04-20 14:53:37.559 [46800:17903] clip board urls = (
)
2012-04-20 14:53:37.559 [46800:17903] clip board images = (null) 
```

我想问，如何从 UIPasteboard 获取图像信息以及如何操作它？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-11T08:50:11.057

您可以使用以下方法从粘贴板中提取图像：

```
UIImage *image = [UIPasteboard generalPasteboard].image; 
```

您可以使用以下方法检查粘贴板是否包含图像文件：

```
BOOL imgPasteBoard= [[pasteboard pasteboardTypes] containsObject:@"public.png"]; 
```

然后通过检查布尔值。您也可以尝试使用此代码

```
[[UIPasteboard generalPasteboard] containsPasteboardTypes:UIPasteboardTypeListImage]; UIPasteboard *pasteboard = [UIPasteboard generalPasteboard];  
if (pasteboard.image!= nil) 
{ 
   [self insertImage:pasteboard.image]; 
   //insert image being a function where you write the code to insert Images to psteboard
} 
```

希望这对你有帮助..

现在使用以下代码加载 UIImage ：-

```
NSData *imageData = UIImagePNGRepresentation(image);
[webView loadData:imageData MIMEType:imageMIMEType textEncodingName:nil baseURL:nil]; 
```

# html - 如何禁用 HTML 提交按钮背景

> ID：10241955
> 
> 赞同：3
> 
> 时间：2012-04-20T07:24:25.950
> 
> 标签：html, forms, button

我使用了 HTML 表单，在该表单中我使用了一个 Button 标签来提交。

图像显示了一些背景，我将背景设置为透明，但它仍然显示一些东西。

我想完全删除背景。

```
<button type="submit" style="border: 0; background: transparent">
<img src="/images/Btn.PNG" width="90" heght="50" alt="submit" /> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:41:18.870

Why use a button ?

you can :

html :

```
<form id="myFormID" ... >
     ...
    <img src="..." onclick="myFunction()" />
</form> 
```

javascript :

```
function myFunction()
{
     //MakeYourTest
     $('#myFormID').submit(); //This line will commit your form
} 
```

and you can do what you want in your javascript code

# testing - “模糊测试”和“猴子测试”之间的区别

> ID：10241957
> 
> 赞同：13
> 
> 时间：2012-04-20T07:24:34.343
> 
> 标签：testing, fuzz-testing, monkey-testing

我最近一直在思考模糊测试和猴子测试之间的区别。根据wiki，猴子测试似乎“只是”一个单元测试，而模糊测试不是。Android 有[UI/Application Exerciser 猴子](http://developer.android.com/guide/developing/tools/monkey.html)，它看起来不像单元测试。

这些测试方法有什么区别吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-04-20T08:45:05.660

UI/应用程序练习器 Monkey 是一个*模糊测试*工具。该名称可能与它的行为就像*猴子*使用您的应用程序有关。[这也可能与（来自Wikipedia](http://en.wikipedia.org/wiki/Fuzz_testing#History)）以下事实有关：

> “The Monkey”是 Steve Capps 在 1983 年之前开发的 Macintosh 应用程序。它使用日志挂钩将随机事件输入 Mac 程序，并用于测试 MacPaint 中的错误。

底线是*Monkey 测试*和*Fuzz 测试*是本质上相同事物的不同名称。但是，可能存在一个细微的区别：虽然*Fuzz 测试*更多地是关于使用随机**数据**，但*Monkey 测试*是关于随机**动作**。

# java - 如何在Android中tableLayout的行/列中将光标设置在所需位置

> ID：10241958
> 
> 赞同：1
> 
> 时间：2012-04-20T07:24:35.397
> 
> 标签：java, android, set, position

我正在使用 Android 1.6、Java 1.5

我们正在开发一个填字游戏应用程序，因为我们使用表格布局开发了 UI 屏幕，我在一个活动中创建了行和列单元格，并在一个单独的活动中跨越线索和向下线索。当用户单击交叉/向下线索问题时，用户应自动导航到游戏活动，并应指出属于线索的单元格值。属于线索的所有单元格都应以灰色阴影显示。我有单元格位置，但如何设置特定行/列中的颜色。

请在这方面提供帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T07:46:09.103

Try`getChildAt(int index)`方法，它继承自`LinearLayout`，然后您可以对特定单元格执行您想要的操作。

# java - 覆盖此变量的正确方法是什么？

> ID：10241963
> 
> 赞同：1
> 
> 时间：2012-04-20T07:25:25.120
> 
> 标签：java, parameters, variable-assignment

`someThing`在方法中覆盖以下类型的现有变量时，`Thing`正确的方法是什么？

```
doSomething(someThing);

void doSomething(Thing thing){
    //...
    thing = new Thing(...); // receives warning in Eclipse
} 
```

或者

```
someThing = doSomething(someThing);

Thing doSomething(Thing thing){
    //...
    return new Thing(...);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:28:45.943

您的第一个示例不会更改`someThing`调用者中的变量。分配仅在`doSomething`方法中可见。

第二个样本`someThing`在调用者中确实发生了变化。

所以如果你想改变`someThing`调用者，选项2是可行的，而选项1是不可行的。

请参阅[Java 是“按引用传递”还是“按值传递”？](https://stackoverflow.com/questions/40480/is-java-pass-by-reference)为什么会这样。

假设下面的代码，并且 a`Thing`有一个 print 方法和一个 String 成员。

```
void foo() {
  Thing one = new Thing("hello");  // 1
  bar(one);
  one.print();                   // 5
}

void bar(Thing two) {            // 2
  two = new Thing("bye");        // 3
}                                // 4 
```

point 处的赋值`1`首先创建了一个新的 Thing 对象：

```
 Thing{data="hello"} 
```

然后将引用存储在`one`：

```
one *----- refs --------v
                       Thing{data="hello"} 
```

当您`bar`在点输入时`2`，会创建对同一对象的新引用：

```
one *----- refs --------v
                       Thing{data="hello"}
two *----- refs --------^ 
```

然后 line和 line`3`做同样的事情`1`，即创建一个新`Thing`对象：

```
one *----- refs --------v
                       Thing{data="hello"}
two *----- refs --------^

                       Thing{data="bye"} 
```

然后将对该新对象的引用存储在`two`：

```
one *----- refs --------v
                       Thing{data="hello"}

two *----- refs --------v
                       Thing{data="bye"} 
```

注意 only`two`被修改。分配改变了`two`所指的内容。

当您从`bar`, at line返回时`4`，`two`超出范围，“再见”事物不再有任何引用它的东西（最终将被垃圾收集）。

```
one *----- refs --------v
                       Thing{data="hello"}

                       Thing{data="bye"} // dead, will be collected 
```

因此`5`，正如您所看到的，`hello`将打印点 - 没有任何东西改变了所`one`引用的对象。

# ruby-on-rails - Ruby双斜杠gsub问题

> ID：10241967
> 
> 赞同：2
> 
> 时间：2012-04-20T07:25:34.027
> 
> 标签：ruby-on-rails, ruby

我有一个包含内容的简单文本文件：

```
 patent-inv 
```

我将用**part1\\part2替换****patent-inv**

 **我是这样做的：

```
source_file = IO.read("#{Rails.root}/my_userdata/1.txt")
source_file.gsub!('<<<patent-inv>>>', "part1\\\\part2")             
File.open("#{Rails.root}/my_userdata/2.txt", "wb") {|f| f.write source_file } 
```

但在我得到的文件中：part1\part2

我尝试了几种方法，但得到了相同的结果：

```
source_file.gsub!('<<<patent-inv>>>', "part1\\\\part2") => "part1\part2"
source_file.gsub!('<<<patent-inv>>>', "part1\\\part2") => "part1\part2"
source_file.gsub!('<<<patent-inv>>>', "part1\\part2") => "part1\part2" 
```

任何人都可以帮我找出这种奇怪的行为吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-20T07:29:25.320

以下对我有用。您是否在终端中尝试过？当您输出结果时，它可能是未转义的。

```
> a = "<<<patent-inv>>>"
> a.gsub("<<<patent-inv>>>", "part1\\\\part2")    
=> "part1\\part2" 
```

您可以看到输出在`puts`和之间如何变化`p`

```
> puts a
part1\part2
> p a
"part1\\part2"
> puts a.inspect
"part1\\part2" 
```

**编辑** 这是您想要的输出。

```
1.9.2-p290 :037 > a.gsub!("<<<patent-inv>>>", "part1\\\\\\part2")
 => "part1\\\\part2" 
> p a
"part1\\\\part2"
 => "part1\\\\part2" 
> puts a
part1\\part2
 => nil 
```

我们知道，更改时的 4 个反斜杠等于未转义时的 2 个反斜杠。因此，在替换后需要生成 4 个反斜杠才能正确显示。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-20T07:29:45.113

**编辑**整体更正我的答案。`puts`我被输出时转义符号的事实误导了`\`，因此我认为我在没有实际存在的情况下实现了目标。但是现在我让它工作了。看我的实验：

```
> str = "patent-inv"
=> "patent-inv"
> str.gsub!('patent-inv', "part1\\\\part2")
=> "part1\\part2"
> str.chars.each { |t| puts t }
p
a
r
t
1
\
p
a
r
t
2
=> "part1\\part2"
> str = "patent-inv"
=> "patent-inv"
> str.gsub!('patent-inv', "part1\\\\\\part2")
=> "part1\\\\part2"
> str.chars.each { |t| puts t }
p
a
r
t
1
\
\
p
a
r
t
2
=> "part1\\\\part2" 
```

基本上我`str.chars.each { |t| puts t }`用来查看字符串中实际包含哪些字符。如您所见，要使用的正确模式是`part1\\\\\\part2`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-20T07:32:17.800

尝试

```
source_file.gsub!('<<<patent-inv>>>', "part1\\\\\\\\part2") => "part1\part2" 
```

=)**

# php - RSS 中令人难以置信的日期如何在 PHP 中修复？

> ID：10241968
> 
> 赞同：1
> 
> 时间：2012-04-20T07:25:35.693
> 
> 标签：php, rss

我有一个 RSS：

```
<pubDate>Fri, 20 Apr 2012 08:00:00 GMT</pubDate> 
```

验证者说这是不合适的，因为：

[http://validator.w3.org/feed/docs/warning/ImplausibleDate.html](http://validator.w3.org/feed/docs/warning/ImplausibleDate.html)

“虽然这个日期时间值的格式正确，但它要么似乎在未来，要么在过去足够远，表明可能存在软件错误或错误设置的时钟。

虽然 RSS 2.0 规范预计某些聚合器将来可能会选择忽略带有 pubDates 的项目，但这种做法似乎从未流行起来。

相反，许多客户端按日期排序，默认情况下或作为选项。因此，日期值尽可能准确很重要。

一个常见的错误，特别是在夏季时间（即在 BST 和 WEST 期间）的英国和西欧，是时间的数字部分反映本地时间，而区域时间的部分则硬编码格林威治标准时间。"

我生成日期：

```
<pubDate>$data2 GMT</pubDate> 
```

其中 $data2 取自数据库，如下所示：

```
DATE_FORMAT(DATE,'%a, %d %b %Y %T') 
```

并且 DATE 由 mysql 函数 NOW() 接收。

这很奇怪，因为我们这里是 9 点 24 点，但我们最近在波兰发生了时间变化。那么我该如何解决呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:04:54.997

添加您的时区而不是 GMT：

```
<pubDate>$data2 +0200</pubDate> 
```

那应该这样做。请注意，您的时区可能会在一年中发生变化，因此您可能希望动态[生成](http://php.net/date)它：

```
$data2 .= date(' O'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-27T08:35:26.097

格式没问题。RSS 2.0 的标准时间格式必须是 GMT，请将时间格式化为 GMT，注意它不会比当前时间快。

```
$data2 = gmdate(DATE_RSS, time()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T07:40:21.977

试试这个：

```
<pubDate><?php echo date(DATE_RFC822); ?></pubDate> 
```

[http://feed2.w3.org/docs/error/InvalidRFC2822Date.html](http://feed2.w3.org/docs/error/InvalidRFC2822Date.html)

编辑：从数据库中获取日期作为 unix 时间戳，并将其作为第二个参数传递给 date() 函数。

# cgal - CGAL：继承和内核

> ID：10241969
> 
> 赞同：2
> 
> 时间：2012-04-20T07:25:38.327
> 
> 标签：cgal

CGAL问题：

我正在尝试将一个属性添加到点类。我想第一步是继承一个内核并用我自己的替换点类，我从 CGAL 继承。但只是试图迈出这小小的第一步，我遇到了麻烦。

编辑：根据下面的评论，我将继承更改为手册中描述的方式。下面的代码给出了以下编译错误：

*   'typename CGAL::Extended_homogeneous::Base' 命名'CGAL::Extended_homogeneous::Base'，它不是类模板|

其中。

## MyBase.h

```
#include <CGAL/Extended_homogeneous.h>

template < typename K_, typename K_Base >
class My_base  : public K_Base::template Base<K_>::Type
{
  typedef typename K_Base::template Base<K_>::Type   OldK;

public:
  typedef K_                                Kernel;

  template < typename Kernel2 >
  struct Base { typedef My_base<Kernel2, K_Base>  Type; };
 };

template < typename RT_ >
struct MyKernel  : public CGAL::Type_equality_wrapper<My_base<MyKernel<RT_>, CGAL::Homogeneous<RT_> >,  MyKernel<RT_> >
{}; 
```

## 最小化.cpp

```
#include "MyKernel.h"
#include <CGAL/Nef_polyhedron_3.h>
typedef MyKernel<CGAL::Gmpz>    Kernel;

typedef CGAL::Nef_polyhedron_3<Kernel>  Nef_Polyhedron;
typedef Nef_Polyhedron::Plane_3  Plane;

int main()
{
  Nef_Polyhedron half_space(Plane(1,1,1,1), Nef_Polyhedron::EXCLUDED);

  return 0;
} 
```

如果将继承更改为“public K_Base::Base::template B::Type”，它将编译，但我想我想念扩展的属性？因为我得到了错误

*   “构造函数不适用于此内核”

    当我运行程序时

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-20T08:52:59.627

[下页](http://www.cgal.org/Manual/latest/doc_html/cgal_manual/Kernel_23/Chapter_main.html#Section_11.5)描述了定义您自己的内核的正确方法 。

由于类型相等包装器使 Kernel::Point_2 等于 Point_2，事情看起来很复杂。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-06T22:29:14.977

您应该在此处阅读此主题（参见 Sebastien 的第 4 篇文章）： [http ://cgal-discuss.949826.n4.nabble.com/Exact-kernels-and-planes-td4655222.html](http://cgal-discuss.949826.n4.nabble.com/Exact-kernels-and-planes-td4655222.html)

它稍微解释了这个问题。

# android - 将经度从数据库保存到 GPX 文件.Android

> ID：10241971
> 
> 赞同：2
> 
> 时间：2012-04-20T07:25:41.067
> 
> 标签：android, xml, database, latitude-longitude, gpx

我创建了存储纬度、经度和其他一些信息（如描述）的 sqlite 数据库。

现在我想提取这些信息并将 GPX 文件写入我的 SD 卡以进行进一步分析。任何人都知道如何做到这一点？

任何有用的链接、来源等？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-26T10:01:38.313

谢谢朋友。以上两个链接帮助我解决了我的问题，这是将数据库值写入 .kml 文件的代码

```
try {
                                File root = Environment
                                        .getExternalStorageDirectory();
                                if (root.canWrite()) {
                                    File gpxfile = new File(root, ""
                                            + value + ".kml");
                                    FileWriter gpxwriter = new FileWriter(
                                            gpxfile);
                                    BufferedWriter out = new BufferedWriter(
                                            gpxwriter);
                                    out.write("<?xml version=\"1.0\" encoding=\"UTF-8\"?>"
                                            + "\n"
                                            + "<kml xmlns=\"http://www.opengis.net/kml/2.2\">"
                                            + "\n" + "<Folder>" + "\n");
                                    for (int i = 0; i < latarray.length; i++) {
                                        out.write("<Placemark>" + "\n"
                                                + "<name> Point "
                                                + i
                                                + "</name>"
                                                + "\n"
                                                + "<description>"
                                                + ""
                                                + discription[i]
                                                + "</description>"
                                                + "\n"
                                                + "<Point>"
                                                + "\n"
                                                + "<coordinates>"
                                                + ""
                                                + (lonarray[i] / (1E6))
                                                + ","
                                                + ""
                                                + (latarray[i] / (1E6))
                                                + ","
                                                + ""
                                                + accuarray[i]
                                                + "</coordinates>"
                                                + "\n"
                                                + " </Point>"
                                                + "\n"
                                                + "</Placemark>" + "\n");
                                    }
                                    out.write("</Folder>" + "\n" + "</kml>");
                                    out.close();
                                    mydb.close();
                                }
                            } catch (IOException e) {
                                Log.e("Cant write", "Could not write file "
                                        + e.getMessage());
                            } 
```

这是从数据库中读取值的示例

```
public int[] lattodraw() {
    // TODO Auto-generated method stub

    String[] columns = new String[] { KEY_ROWID, KEY_Latitude,
            KEY_Longitude, KEY_Accuracy, KEY_ROWID, KEY_Latitude,
            KEY_Longitude, KEY_Accuracy, KEY_Discription, KEY_North,
            KEY_East, KEY_South, KEY_West };
    Cursor locationCursor = ourDatabase.query(DATABASE_TABLE, columns,
            null, null, null, null, null);

    locationCursor.moveToFirst();
    int count = locationCursor.getCount();
    int latarray[] = new int[count];
    int i = 0;
    do {

        int latitude = (int) (locationCursor.getDouble(locationCursor
                .getColumnIndex(KEY_Latitude)) * 1E6);

        latarray[i] = latitude;
        i++;
    } while (locationCursor.moveToNext());
    locationCursor.close();
    return latarray;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-25T21:29:54.767

到目前为止，我为编写和阅读 GPX 找到的最佳解决方案是：http: [//sourceforge.net/projects/gpxparser/](http://sourceforge.net/projects/gpxparser/)

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-04-20T07:37:28.953

这里是：

```
try {
    File root = Environment.getExternalStorageDirectory();
    if (root.canWrite()){
        File gpxfile = new File(root, "gpxfile.gpx");
        FileWriter gpxwriter = new FileWriter(gpxfile);
        BufferedWriter out = new BufferedWriter(gpxwriter);
        out.write("Hello world");
        out.close();
    }
} catch (IOException e) {
    Log.e(TAG, "Could not write file " + e.getMessage());
} 
```

# jmeter - 如何使用 JMeter 将查询参数传递给 Web 服务

> ID：10241972
> 
> 赞同：1
> 
> 时间：2012-04-20T07:25:50.963
> 
> 标签：jmeter

我正在使用 Jmeter-2.6 进行负载测试，

我需要将查询参数传递给网络服务，我做了以下

*   添加了一个线程组
*   添加了 Http 请求

**在 Http Request 中，我提供了**

*   协议-http

*   方法贴

*   内容编码 - utf-8

我检查了 Redirect Automatic 和 Use KeepAlive options Path for web service。

我在**发送参数中添加了查询参数和请求部分**，如下所示

**名称** **值**

名称 ABC Web 服务

但是在web service中name的值为null，即该值没有传递给web service。如何将查询参数值从Jmeter传递给web service。**是否可以将查询参数发送到 POST 方法。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-27T10:24:07.440

Create a Thread group in test module, After that add Logic controller -> loop controller. in loop controller we have to add httprequest from add->sampler->httprequest. in httprequest we have the parameter tab u just mention the values what u want to pass to your application

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-18T14:32:07.420

假设您在 Java 中实现了这种类型的 REST 资源：

```
@Path("/sample")
public class SampleResource {
    @Context UriInfo uriInfo;

    @POST
    @Path("/")
    @Produces("text/plain")
    public String postWithQueryParameters(@QueryParam("param1") String param1, @QueryParam("param2") String param2) {
        System.out.println("param1=" + param1 + "&param2=" + param2);
        return "success";
    }
} 
```

在您的 JMeter 测试计划中，您至少可以使用以下设置添加 HTTP 请求：

```
Method: POST
Path: /my-rest-service/sample?param1=${value1}&param2=${value2} 
```

# ruby-on-rails - javascript - 未为生产编译的 Twitter 引导 jquery 插件

> ID：10241976
> 
> 赞同：8
> 
> 时间：2012-04-20T07:26:09.217
> 
> 标签：ruby-on-rails, jquery-plugins, ruby-on-rails-3.1, twitter-bootstrap, asset-pipeline

我正在使用[seyhunak 的 gem](https://github.com/seyhunak/twitter-bootstrap-rails)使用 Twitter Bootstrap 开发 3.1 Rails 应用程序。

在生产模式下，我能够通过管道预编译使用基本的引导 CSS 和 JS：

```
RAILS_ENV=production bundle exec rake assets:precompile 
```

使用 gem 文件：

```
group :assets do
  gem 'sass-rails',   '~> 3.1.5'
  gem 'coffee-rails', '~> 3.1.1'
  gem 'uglifier', '>= 1.0.3'
  gem "twitter-bootstrap-rails"
end 
```

和 application.js 文件：

```
//= require_tree .

//= require jquery
//= require jquery_ujs
//= require twitter/bootstrap
//= require bootstrap-tab
//= require bootstrap-modal
//= require bootstrap-dropdown
//= require bootstrap-popover 
```

除了模式和下拉菜单等引导插件外，该应用程序运行良好。这些插件作为存在于供应商资产目录中的静态 javascript 库存在：

```
/vendor/assets/javascripts/bootstrap-dropdown.js
... 
```

我不确定这些文件是否正在预编译，我该如何做到这一点？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-20T17:24:12.613

找到了！

这不是引导程序的问题，而是正确预编译 jQuery 的问题。也不需要包含单个插件的 javascript 文件。它们已经包含在主 twitter/bootstrap 中。

通过重新排列 javascripts 文件解决了问题，如下所示：

应用程序.js

```
//= require jquery
//= require jquery_ujs
//= require twitter/bootstrap 
```

宝石文件

```
group :assets do
  gem 'sass-rails',   '~> 3.1.5'
  gem 'coffee-rails', '~> 3.1.1'
  gem 'uglifier', '>= 1.0.3'
  gem "twitter-bootstrap-rails"
end

gem 'jquery-rails', '>= 1.0.12' 
```

预编译资产并工作！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-20T09:12:00.810

`/vendor/assets/javascripts`取而代之的是包含以下内容的文件`vendor_js.js`：

```
//= require_tree . 
```

现在在你`/app/assets/javascripts/application.js`包含一行

```
//= require vendor_js 
```

您可以自定义 vendor_js.js 以仅包含特定的供应商插件，例如通过使用仅包含`//= require bootstrap-dropdown`供应商 javascripts 目录中的引导下拉菜单。

# 更新以反映评论

由于您手动将 bootstrap JS 文件放入 vendor/javascripts 中，因此请`require`从您的 application.js 中删除所有与 bootstrap 相关的文件并将它们粘贴到 vendor_js.js 中，如上所述。确保路径正确（如果您将文件放在子目录中）。还要确保分别包含每个文件，并在弹出框之前放置工具提示，因为弹出框取决于首先加载的工具提示。

# database - MS Access - 通过在表单中 选择链接名称来选择 ID

> ID：10241980
> 
> 赞同：3
> 
> 时间：2012-04-20T07:26:20.997
> 
> 标签：database, forms, ms-access, relational-database

## 问题

我目前一直在将我的 MS Access 数据库更改为以客户端 ID 而非客户端名称为中心。但是，我所有的表格仍然基于客户名称。我需要将其更改为基于客户端 ID，但我希望它仍然显示为用户的客户端名称。

## 结构

在我继续之前，我应该解释两个相关的表：

ClientTable:
- ClientID (PK)
- ClientName (索引，无重复)

EntityTable：-EntityName
（CK，无重复） -ClientID
（CK，允许重复）
-ClientName（我过去结构的残余，我想一旦我解决了这个问题，我就不需要这个了）

关键关系：一个客户有很多实体

我的复合键 (CK) 也有充分的理由，但我不会对此进行解释——我的整个结构比上面显示的要复杂得多。

## 表格

所以回到表格。目前我有一个“实体”表单，其中包括一个 EntityName 文本框和一个 ClientName 下拉框。

我想要发生的是客户端名称下拉框在视觉上和功能上对用户来说是相同的（即当创建一个新实体时，用户选择一个客户端名称），但需要发生的是它实际上是在选择客户端 ID并将其与该记录相关联。

我认为这是一个相当普遍的问题，但在我的浏览中没有找到解决方案。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:31:51.290

这可以通过将 Row Source 更改为：

```
SELECT ClientID, ClientName & SomeIdentifierForDups FROM ClientTable 
```

改变...

```
Control source : ClientID  
Column count   : 2
Column widths  : 0; 2 
```

其中 ClientID 指的是表单的绑定表。

# android - 如何将滚动条/视图置于顶部？

> ID：10241983
> 
> 赞同：1
> 
> 时间：2012-04-20T07:26:28.050
> 
> 标签：android, android-scrollview, android-scrollbar

滚动条

tableLayout **我的视图数据** /tableLayout

/滚动条

我展示了数据..当我在最后一行视图中时，一旦我的 UI 更新，我想将滚动条带到顶部位置。

我需要为此操作完成的代码是什么。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T08:03:36.943

```
scrollView.fullScroll(ScrollView.FOCUS_UP); 
```

或者

```
scrollView.scrollTo(0, 0); 
```

应该管用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T07:29:52.000

调用 listView.setSelectionAfterHeaderView(); 滚动到顶部

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-20T07:32:38.207

你可以这样做

```
int idx = list.getFirstVisiblePosition();
View vfirst = list.getChildAt(0);
int pos = 0;
if (vfirst != null) pos = vfirst.getTop();

//Restore the position
list.setSelectionFromTop(idx, pos); 
```

# java - 不可变对象创建

> ID：10241987
> 
> 赞同：0
> 
> 时间：2012-04-20T07:26:43.187
> 
> 标签：java, class, immutability

这是一个不可变的类吗？一个不可变的类有必要是最终的吗？

我有一个不可变的盒子类，对盒子的更改应该创建一个新盒子。

```
public class MyImmutableBox {
    Integer length;
    Integer breadth;

    /*Constructor*/

    public MyImmutableBox(Integer length,Integer breadth){
        this.length=length;
        this.breadth=breadth;
    }

    /*Getters*/ 

    public Integer getBreadth() {
        return breadth;
    }
    public Integer getLength() {
        return length;
    }

    /*Member functions*/

    /*Changing entire box size*/
    public MyImmutableBox changeMyBoxSize(Integer lengthToBeAltered,Integer breadthToBeAltered){
        return new MyImmutableBox(length+lengthToBeAltered,breadth+breadthToBeAltered);
    }

    /*Changing either length otr breadth*/  

    public MyImmutableBox changeMyBoxLenth(Integer lengthToBeAltered){
        return new MyImmutableBox(length+lengthToBeAltered,breadth);
    }

    public MyImmutableBox changeMyBoxBreadth(Integer breadthToBeAltered){
        return new MyImmutableBox(length,breadth+breadthToBeAltered);
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-20T07:28:11.773

不，它绝对不是一成不变的。您的`length`and`breadth`字段不是私有的或只读的，因此此代码将起作用：

```
MyImmutableBox box = new ImmutableBox(5, 3);
box.length = 10;
box.breadth = 20; 
```

（顺便说一下，不清楚你为什么使用`Integer`而不是`int`。）

如果您*将*字段设为私有并避免在您的类中修改它们，*或者*使它们成为最终的，*或*（最好）两者兼而有之，那么您所展示的类型将是不可变的。但它不会阻止可变子类 - 您应该同时将类设为 final 来做到这一点。

# sql - 向查询的有序结果集中添加顶部单行

> ID：10241993
> 
> 赞同：5
> 
> 时间：2012-04-20T07:27:02.187
> 
> 标签：sql, sql-server-2008

我有一个非常简单的要求。

```
SELECT NULL as ProjectId, 'All' as ProjectName

UNION

(
  SELECT  Project.ProjectId,  Project.ProjectName
  FROM Project Order by 2
) 
```

原参赛顺序：

```
ProjectId       ProjectName     
 24               Beta           
 56               Alpha          
 57               Gamma          
 120              Aap 
```

预期结果集：

```
ProjectId      ProjectName         
______________________________
NULL           All                 
120            Aap                 
56             Alpha               
24             Beta                
57             Gamma 
```

我需要什么：我想在查询的有序结果集之上添加一行

问题：

1.  子查询不允许有 Order By 子句
2.  执行前 100% 会破坏订单，并且具有“全部”的行不会出现在顶部
3.  声明一个表变量，按顺序插入所有条目，然后在该表上执行联合，即

    ```
     Select NULL as ProjectId, 'All' as ProjectName...
      UNION
     select * from @myTable 
    ```

    再次破坏秩序

请帮帮我

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-20T07:35:02.240

您可以对 UNION 的结果进行排序，但您需要提供额外的列来识别数据的来源 - 这里是 SortOrder：

```
SELECT NULL as ProjectId, 'All' as ProjectName, 1 SortOrder
UNION ALL
SELECT  Project.ProjectId,  Project.ProjectName, 2 SortOrder
FROM Project
order by SortOrder, ProjectName 
```

注意我用[UNION ALL](http://msdn.microsoft.com/en-us/library/ms180026%28v=sql.100%29.aspx)替换了 UNION，因为您不需要 DISTINCT 结果集。

# java - java使用哪个网卡ip连接数据库

> ID：10241999
> 
> 赞同：0
> 
> 时间：2012-04-20T07:27:42.980
> 
> 标签：java, database, connection

我的 Java 应用程序在具有 2 个 IP、一个内部 IP 和一个外部 IP 的 linux 机器上运行。所有第三方应用程序都使用外部 IP 连接到我的应用程序。当我的应用程序与数据库建立连接时（数据库在我的应用程序运行的同一台机器上），我的 java 应用程序是使用哪个 NIC 卡 IP、内部 ip 还是外部 IP？怎么找到这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-20T07:34:45.023

这是您的操作系统根据路由表决定的。如果两个 IP 都在不同的子网中，那么添加类似的路由`ip route add 192.168.1.0/24 dev eth0`将强制所有到任何 192.168.0/24 网络的连接都使用 eth0

如果它们与您的情况一样在同一台机器上，则操作系统应使用该`lo 127.0.0.1`界面。