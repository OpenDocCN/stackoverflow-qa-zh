# StackOverflow 问答 10680000-10680999

# java - 您无权访问此服务器上的 /schema/beans/spring-beans-3.1.xsd

> ID：10680000
> 
> 赞同：2
> 
> 时间：2012-05-21T05:42:29.823
> 
> 标签：java

我在我的一个应用程序中使用 spring 框架。到目前为止它工作正常。但是今天早上当我尝试运行我的应用程序时，由于无法初始化 spring 框架而引发错误。所以我尝试在浏览器中加载 xsd 文件但徒劳无功，因为它向我显示了禁止页面。该页面包含“**您无权访问此服务器上的/schema/beans/spring-beans-3.0.xsd** ”。我什至尝试加载 3.1 xsd、2.5 xsd 但无法访问它们中的任何一个并显示相同的错误页面。

我知道，我必须下载 xsd 并将它们放入我的类路径中，但我还没有完成，现在我得到了这个。

谁能帮我解决这个问题？或者如果任何机构有 3.0 xsd 那么你能不能把它给我。

我想要以下 xsds：

1.  spring-beans-3.0.xsd
2.  spring-context-3.0.xsd
3.  spring-mvc-3.0.xsd

以及由上述内部调用的 xsds。

谢谢大家。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T06:20:38.203

XSD 文件包含在 Spring JAR 文件中，因此您已经拥有它们。例如，spring-context-3.0.xsd 在 spring-context.jar 中，在`org/springframework/context/config`包中。spring-beans.xsd 位于 spring-beans.jar （`org/springframework/beans/factory/xml`包）中，我将找到最后一个作为练习留给读者。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T13:36:28.903

我有同样的问题，似乎互联网上的公共模式不可用。我找到了那些 spring-beans-2.5.0.xsd 并将其保存在我的应用程序的目录中。

我更改了架构位置以在我给它的路径上使用 xsd，例如（WEB-INF/xml/spring-beans-2.5.0.xsd）

[http://www.springframework.org/schema/beans/spring-beans-2.5.0.xsd](http://www.springframework.org/schema/beans/spring-beans-2.5.0.xsd)

至

WEB-INF/xml/spring-beans-2.5.0.xsd

并修复了它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T15:08:30.580

公共架构不可用。它已被恢复。不知道在哪里寻找状态，但它现在正在工作。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T09:21:04.347

I faced with the same issue today. The problem was that versions of XSD's and the Spring library in classpath were incompatible (3.0 vs 2.5.5 in my case). I fixed XSD versions in my spring XML's and it works fine now

# c++ - 附加调试器时，unique_ptr dtor 调用速度非常慢（msvc）

> ID：10680005
> 
> 赞同：7
> 
> 时间：2012-05-21T05:43:18.190
> 
> 标签：c++, debugging, visual-c++, unique-ptr

```
struct test_struct
{
    test_struct() {}
    ~test_struct() {}
};

#include <vector>
#include <memory>
#include <cstdio>

int main()
{
    printf("ctor begin\n");
    {
        std::vector<std::unique_ptr<test_struct>> test_vec;
        const int count = 100000;

        for (auto i = 0; i < count; i++) {
            test_vec.emplace_back(new test_struct);
        }
        printf("dtor begin\n");
    }
    printf("dtor end\n");
} 
```

我正在使用 VS2010，发现了一些可笑的性能问题。上面的代码在调试和发布版本 (ctrl+f5) 中运行良好，但是当附加调试器时 (f5)，dtor 对 unique_ptr 类的调用速度非常慢。结果机器代码已经相当优化，所以我不认为这是编译器问题而不是调试器问题，但我不知道如何处理它。我的问题是

*   这个问题能在你的机器上重现吗？
*   这种行为的原因是什么？
*   有什么解决方法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-21T06:51:40.810

速度变慢是由释放内存时发生的内存检查引起的。但是，这是一个特殊的系统/调试器级别的堆，不是您可以在程序中控制的任何东西。

关于这个问题有一篇[很棒的文章](http://preshing.com/20110717/the-windows-heap-is-slow-when-launched-from-the-debugger)。总结一下：你必须设置一个环境变量来禁用它！

幸运的是，您可以从项目设置中的调试选项中为项目设置特定于项目的环境变量，以便环境变量仅应用于您的程序。

我用这个简化的程序来测试：

```
#include <iostream>
#include <memory>
#include <vector>

int main()
{
    std::cout << "ctor begin" << std::endl;
    {
        std::vector<std::unique_ptr<int>> test_vec;

        for (unsigned i = 0; i < 100000; i++)
            test_vec.emplace_back(new int);

        std::cout << "dtor begin" << std::endl;
    }
    std::cout << "dtor end" << std::endl;
} 
```

通过设置`_NO_DEBUG_HEAP=1`为环境变量（系统范围，我不推荐，或者通过调试选项），无论是否附加调试器，代码运行的时间大致相同。

# tsql - 请协助执行程序

> ID：10680008
> 
> 赞同：-3
> 
> 时间：2012-05-21T05:44:25.447
> 
> 标签：tsql

请您协助执行此程序。

**无法执行此程序**，但程序运行成功且没有错误

```
 exec iso.proc_Additem('12345')

                And 

               **Canot insert values** 

              insert into tbl_Handle 
              values(SYSTEM_USER,DATE) 
```

## sql存储过程是

```
 --Procedure Add item to the list --

 Create procedure iso.proc_Additem

@card_id  nvarchar(50) ,
@card_type  nvarchar(1) = 'N'

          AS 
          BEGIN

          Begin transaction 

         Insert into iisr.tbl_handle
         (  UserName )
         Values
         ( system_user ) 
```

**-Commented --表定义**创建表iso.tbl_Handle

```
 ( Handle int identity(1,1) 
         , UserName nvarchar(50)
         , Created date
         , constraint pk_Handle primary key(Handle)

        );-- 
```

**/* 获取句柄 */**

```
 declare @Card_Handle int  

         SELECT @Card_Handle = SCOPE_IDENTITY()  -- get handle

          Insert into iso.tbl_card_list
          ( Card_ID , card_type ) 
          Values
          (@Card_ID,@Card_Type) 
```

-**评论 --table 定义**iso.tbl_card_list

```
 CREATE TABLE iso.tbl_card_list
              ( Card_Handle int
              , Card_ID nvarchar(50) not null
              , Card_Type char(1) Default 'N' not null
              , Delete_handle int not null
              , Constraint PK_Card_List Primary Key ( Card_Handle) 
              , Constraint FK_1 foreign key (Card_Handle) references iso.tbl_Handle     (Handle)  
              , Constraint FK_2 foreign key(delete_Handle)references iso.tbl_Handle(Handle)
              , Constraint CK_1 check (Card_Type in ('N','T')));--

                      Commit transaction

                        End 
```

* * *

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:21:08.403

删除括号。你这样称呼SP。

```
exec iso.proc_Additem '12345', 'n' 
```

# zend-framework - Hostmonster 上的 Zend 框架设置？

> ID：10680009
> 
> 赞同：1
> 
> 时间：2012-05-21T05:44:40.493
> 
> 标签：zend-framework, frameworks, upload, project, hostmonster

我使用 Zend Framework 1.11 在本地创建了一个项目。我花了很长时间从我能找到的所有在线教程中学习框架的基础知识，现在我对使用 ZF 工具并在本地处理我在 WAMP 上的项目感到相当自在。我决定是时候上传我的项目并将其部署在我的共享托管服务器上，这恰好是 Hostmonster。

上传我的项目后，我一直在努力让它在远程主机上正常运行。我已经成功上传了我的 Zend 框架库并将其包含在我的 PHP.ini 中，并且所有测试都表明它可以被服务器看到。

我的目录结构最初是由 ZF 工具在命令行上本地创建的标准格式，它没有指向远程服务器上的相同路径，所以当我导航到 Project/public 文件夹时一切都搞砸了。经过更多的谷歌搜索，我发现了几篇博主关于修改 .htaccess 文件等的帖子，这导致我在服务器上托管的所有其他网站都被中断了。

我能够在 Hostmonster 主机上重新创建我的初始本地站点的最接近方法是：

1.  从我的“公共”ZF 文件夹中取出所有目录，并将它们直接放在我的服务器的 Web 根目录 (public_html) 中，并且：

2.  从 ZF 公共文件夹中更改我的 index.php 文件的“APPLICATON_PATH”，并使用我的 ZF 库的路径（更改以反映它相对于新位置的位置）。

通过这种（繁琐的）设置，我现在看到我的索引视图正在使用所有 CSS 和 Javascript 呈现，但我无法导航到任何其他视图，并且我通过视图脚本显示的表单同样没有显示，只渲染索引视图。我的 Zend 框架库位于 web 根目录中的一个目录——public_html，php.ini 将它添加到包含路径中。

这变得非常令人沮丧，因为我喜欢 ZF 的许多功能，但事实证明，网站的重组是不可能的。如果有人对此设置有说明或经验，我将不胜感激。我还在这台服务器上托管了多个其他站点，所以我希望我不必更改我目前正在使用的单个 php.ini 配置（5.3）或弄乱一堆 .htaccess 文件。

感谢任何人的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:21:28.827

我在 HM 上运行 ZF 没问题。只需将您的 index.php 和 .htaccess 放在您的 public_html 目录中，我所做的是`public_html/zend/library`在我的 index.php 中创建了一个文件夹，包括该库以使事情正常进行。

另外你是什么意思你在这个服务器上运行其他网站？您是否在域的根目录上提供应用程序？即在您的[http://domain.com/](http://domain.com/)路径中？或不同的子域？

# android - 我的模拟器无法正常工作

> ID：10680010
> 
> 赞同：1
> 
> 时间：2012-05-21T05:44:43.903
> 
> 标签：android, android-emulator

当我在模拟器上运行应用程序时，它可以正常启动，但最终活动管理器会引发以下错误。为什么会抛出这个错误？：

```
ActivityManager: - exec '/system/bin/sh' failed: Accessing a corrupted shared library (80) - 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T05:49:47.403

重新创建另一个新的模拟器。有用...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T05:46:32.100

重建模拟器。它对我来说是大多数事情的包罗万象。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T05:47:43.253

听起来您的模拟器已损坏。尝试使用 AVD 管理器删除并重新创建模拟器。

# php - 只需单击即可发送 mysql 查询

> ID：10680011
> 
> 赞同：0
> 
> 时间：2012-05-21T05:44:45.100
> 
> 标签：php, javascript

我可以使用以下代码向 mysql 数据库发送查询：

```
$sql = mysql_query("INSERT INTO wall VALUES('', '$message', '$replyno')"); 
```

我的问题是，有什么方法可以通过单击某些文本来发送查询。

**举个例子：**有一个文本名称Reply。我希望如果我单击此回复文本，则 mysql 数据库字段值（**字段名称：回复，类型：int**）将增加 1。

**对不起，我不知道 JAVASCRIPT/AJAX:(**

**@DEVELOPER 的最终更新程序代码：**

```
<html>
<head>
<title>Untitled Document</title>
</head>
<script language="javascript">
$("#mylink").click(function() {
$.ajax({
url: "test.php"
}).done(function() { 
$(this).addClass("done");
});
});
</script>
<body>
echo "<a href='#' id='mylink'>Reply</a>";
</body>
</html>
Php page:
<?php
include("database/db.php");
$sql = mysql_query("INSERT INTO wall VALUES('','','','','','','','1');");
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T05:47:10.227

您应该使用 jQuery 将此链接或按钮连接到 ajax 调用

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

它应该调用一个 php 页面，其中包含您要运行的查询。您也可以通过 ajax 调用传入参数，以便在执行之前正确设置 $message 和 $replyno。

```
<script>
$("#mylink").click(function() {
  $data = $("#myform").serialize();
  $.ajax({
    url: "postquery.php",
    data: $data
  }).done(function() { 
     $(this).addClass("done");
  });
});
</script> 
```

那么您的 php 页面将如下所示：

```
<?php
...
$message = mysql_real_escape_string($_REQUEST['message']);
$replyno = mysql_real_escape_string($_REQUEST['replyno']);
$sql = mysql_query("INSERT INTO wall VALUES('', '$message', '$replyno')");
....
?> 
```

使用“mysql_real_escape_string”对传入的字符串进行转义对于防止对数据库的 SQL 注入攻击总是很重要的。

您的 HTML 应如下所示：

```
<html>
...
<input type="textarea"></input>
<a href="#" id="mylink">Reply</a>
...
</html> 
```

这将导致前面提到的 jquery 语句在单击“回复”时触发。

这是您更新的代码。我更正了链接 ID 并删除了表单序列化数据，因为您的测试代码似乎不需要它。我还添加了对 jQuery 库的引用：

```
<html>
<head>
<title>Untitled Document</title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script language="javascript">
$("#mylink").click(function() {
  $.ajax({
    url: "test.php"
  }).done(function() { 
     $(this).addClass("done");
  });
});
</script>
</head>
<body>
<a href='#' id='mylink'>Reply</a>
</body>
</html> 
```

您可能看到的问题是由于您的查询，而不是前端代码。尝试添加一些调试代码，如下所示：

```
<?php
include("database/db.php");
$sql = mysql_query("INSERT INTO wall VALUES('','','','','','','','1');");
if(!$sql)
{
  echo mysql_error();
}
?> 
```

或者尝试检查您的服务器错误日志。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T05:52:41.727

```
$sql = mysql_query("INSERT INTO wall VALUES('', '$message', '$replyno')"); 
```

您必须像这样使用 jquery 和 ajax：-

```
<script type="text/javascript">
    $j(document).ready(function() {
        $j('#reply').click(function(){

    jQuery.ajax({
                url: "test.php", //Your url detail
                type: 'POST' ,
                data: ,
                success: function(response){
   }
  });
 });
});
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:25:11.270

在文件“updat_post.php”中写入：

```
If(isset($_GET['visit_post']))
     $pdo->query('update posts set counter = counter+1'); 
```

在文档准备好的 js/jquery 文件中写入：

```
$('#mybutton').click(function() {
    $.post('update_post.php', {visit_post: true});
}); 
```

# iphone - 如何在 iOS 中自定义搜索键盘？

> ID：10680018
> 
> 赞同：0
> 
> 时间：2012-05-21T05:45:06.440
> 
> 标签：iphone, ios, xcode, ios5

我想自定义我的搜索键盘，如果在文本字段中没有输入，则键盘中的搜索按钮应该说“取消”，否则如果在搜索文本字段中输入任何内容，它应该说“搜索”。怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:43:27.910

不幸的是，您无法在 iOS 中自定义标准键盘，以将**完成**按钮替换为**取消**按钮。尝试寻找另一种方式向用户显示您的**取消**按钮，例如在顶部导航栏上。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T05:54:45.237

试试这个，告诉我它是否有效

```
 - (void)searchDisplayControllerWillBeginSearch:(UISearchDisplayController *)controller 
    {

        for(UIView *subView in self.searchDisplayController.searchBar.subviews){
            if([subView isKindOfClass:UIButton.class]){
                if([searchString length]>0           
                   [(UIButton*) setTitle:@"Search" forState:state:UIControlStateNormal];
                else
                   [(UIButton*) setTitle:@"Cancel" forState:state:UIControlStateNormal];
            }
        }
    return YES;
    } 
```

# jaxb - MOXy XMLCompositeCollectionMapping 描述符丢失

> ID：10680021
> 
> 赞同：1
> 
> 时间：2012-05-21T05:45:08.827
> 
> 标签：jaxb, eclipselink, moxy, docx4j

docx4j（我托管）通常与 Sun/Oracle JAXB 实现一起使用；下面感兴趣的类是使用 XJC 生成的。

我想我会试试 EclipseLink MOXy，看看效果如何。

在上下文初始化时，我收到以下错误：

```
ERROR org.docx4j.jaxb.Context .<clinit> line 107 - Cannot initialize context
javax.xml.bind.JAXBException: 
Descriptor Exceptions: 
---------------------------------------------------------

Exception [EclipseLink-110] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.DescriptorException
Exception Description: Descriptor is missing for class [org.docx4j.vml.spreadsheetDrawing.STCF].
Mapping: org.eclipse.persistence.oxm.mappings.XMLCompositeCollectionMapping[moveWithCellsOrSizeWithCellsOrAnchor]
Descriptor: XMLDescriptor(org.docx4j.vml.spreadsheetDrawing.CTClientData --> [DatabaseTable(ns15:ClientData)])

Exception [EclipseLink-110] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.DescriptorException
Exception Description: Descriptor is missing for class [org.docx4j.bibliography.STSourceType].
Mapping: org.eclipse.persistence.oxm.mappings.XMLCompositeCollectionMapping[abbreviatedCaseNumberOrAlbumTitleOrAuthor]
Descriptor: XMLDescriptor(org.docx4j.bibliography.CTSourceType --> [])

Runtime Exceptions: 
---------------------------------------------------------

 - with linked exception:
[Exception [EclipseLink-0] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.IntegrityException
Descriptor Exceptions: 
---------------------------------------------------------

Exception [EclipseLink-110] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.DescriptorException
Exception Description: Descriptor is missing for class [org.docx4j.vml.spreadsheetDrawing.STCF].
Mapping: org.eclipse.persistence.oxm.mappings.XMLCompositeCollectionMapping[moveWithCellsOrSizeWithCellsOrAnchor]
Descriptor: XMLDescriptor(org.docx4j.vml.spreadsheetDrawing.CTClientData --> [DatabaseTable(ns15:ClientData)])

Exception [EclipseLink-110] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.DescriptorException
Exception Description: Descriptor is missing for class [org.docx4j.bibliography.STSourceType].
Mapping: org.eclipse.persistence.oxm.mappings.XMLCompositeCollectionMapping[abbreviatedCaseNumberOrAlbumTitleOrAuthor]
Descriptor: XMLDescriptor(org.docx4j.bibliography.CTSourceType --> [])

Runtime Exceptions: 
---------------------------------------------------------
]
    at org.eclipse.persistence.jaxb.JAXBContext$ContextPathInput.createContextState(JAXBContext.java:698)
    at org.eclipse.persistence.jaxb.JAXBContext$ContextPathInput.createContextState(JAXBContext.java:658)
    at org.eclipse.persistence.jaxb.JAXBContext.<init>(JAXBContext.java:143)
    at org.eclipse.persistence.jaxb.JAXBContextFactory.createContext(JAXBContextFactory.java:110)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at javax.xml.bind.ContextFinder.newInstance(Unknown Source)
    at javax.xml.bind.ContextFinder.find(Unknown Source)
    at javax.xml.bind.JAXBContext.newInstance(Unknown Source)
    at javax.xml.bind.JAXBContext.newInstance(Unknown Source)
    at org.docx4j.jaxb.Context.<clinit>(Context.java:79)
    at org.docx4j.samples.OpenMainDocumentAndTraverse.<clinit>(OpenMainDocumentAndTraverse.java:52)
Caused by: Exception [EclipseLink-0] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.IntegrityException
Descriptor Exceptions: 
---------------------------------------------------------

Exception [EclipseLink-110] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.DescriptorException
Exception Description: Descriptor is missing for class [org.docx4j.vml.spreadsheetDrawing.STCF].
Mapping: org.eclipse.persistence.oxm.mappings.XMLCompositeCollectionMapping[moveWithCellsOrSizeWithCellsOrAnchor]
Descriptor: XMLDescriptor(org.docx4j.vml.spreadsheetDrawing.CTClientData --> [DatabaseTable(ns15:ClientData)])

Exception [EclipseLink-110] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.DescriptorException
Exception Description: Descriptor is missing for class [org.docx4j.bibliography.STSourceType].
Mapping: org.eclipse.persistence.oxm.mappings.XMLCompositeCollectionMapping[abbreviatedCaseNumberOrAlbumTitleOrAuthor]
Descriptor: XMLDescriptor(org.docx4j.bibliography.CTSourceType --> [])

Runtime Exceptions: 
---------------------------------------------------------

    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.initializeDescriptors(DatabaseSessionImpl.java:535)
    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.initializeDescriptors(DatabaseSessionImpl.java:476)
    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.initializeDescriptors(DatabaseSessionImpl.java:435)
    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.postConnectDatasource(DatabaseSessionImpl.java:676)
    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.login(DatabaseSessionImpl.java:634)
    at org.eclipse.persistence.oxm.XMLContext$XMLContextState.<init>(XMLContext.java:830)
    at org.eclipse.persistence.oxm.XMLContext$XMLContextState.<init>(XMLContext.java:770)
    at org.eclipse.persistence.oxm.XMLContext.<init>(XMLContext.java:177)
    at org.eclipse.persistence.jaxb.JAXBContext$ContextPathInput.createContextState(JAXBContext.java:726)
    at org.eclipse.persistence.jaxb.JAXBContext$ContextPathInput.createContextState(JAXBContext.java:696)
    ... 13 more 
```

第一对引用的类，我们有一个枚举[STCF](https://github.com/plutext/docx4j/blob/master/src/main/java/org/docx4j/vml/spreadsheetDrawing/STCF.java)和[CTClientData](https://github.com/plutext/docx4j/blob/master/src/main/java/org/docx4j/vml/spreadsheetDrawing/CTClientData.java)

第二对引用的类，我们有另一个枚举[STSourceType](https://github.com/plutext/docx4j/blob/master/src/main/java/org/docx4j/bibliography/STSourceType.java)和[CTSourceType](https://github.com/plutext/docx4j/blob/master/src/main/java/org/docx4j/bibliography/CTSourceType.java)

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T10:39:20.803

**注意：** 我是[**EclipseLink JAXB (MOXy)**](http://www.eclipse.org/eclipselink/moxy.php)负责人，也是[**JAXB (JSR-222)**](http://jcp.org/en/jsr/detail?id=222)专家组的成员。

我已经能够重现您所看到的问题。您看到的问题是由于以下错误：

*   [http://bugs.eclipse.org/380122](http://bugs.eclipse.org/380122)

**更新**

此问题现已在 EclipseLink 2.3.3 和 2.4.0 流中得到修复。您可以从以下位置下载包含修复程序的每晚构建：

*   [http://www.eclipse.org/eclipselink/downloads/nightly.php](http://www.eclipse.org/eclipselink/downloads/nightly.php)

# vim - vim中如何改变单行注释的前导？

> ID：10680022
> 
> 赞同：5
> 
> 时间：2012-05-21T05:45:09.437
> 
> 标签：vim

对于 vim，默认的单行注释前导符是“//”。我想把它改成“//”（在//后面加一个空格）。我应该更改评论选项吗？或者有没有其他方法可以实现？

谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-21T05:59:25.000

```
" .vimrc

" It's better to change it only for specific types of files
autocmd FileType c,cpp let b:comment_leader = '// '

" Comment a text block by selecting it in V mode and pressing \cc
noremap <silent> <leader>cc :<C-B>silent <C-E>s/^/<C-R>=escape(b:comment_leader,'\/')<CR>/<CR>:nohlsearch<CR>

" Also
autocmd FileType c,cpp setlocal comments-=:// comments+=b:// 
```

# iphone - IBOutlet UIImageView

> ID：10680024
> 
> 赞同：0
> 
> 时间：2012-05-21T05:45:15.680
> 
> 标签：iphone, ios, xcode

我得到了 30 个这样的代码，具有相同的实现：

// 。H

```
@interface ViewController : UIViewController{
IBOutlet UIImageView *circle;
IBOutlet UIImageView *circle2;
}
@property (nonatomic, retain) IBOutlet UIImageView *circle;
@property (nonatomic, retain) IBOutlet UIImageView *circle2; 
```

// .m

```
@implementation ViewController

@synthesize circle;
@synthesize circle2;

- (void)viewDidLoad
{
circle = [[UIImageView alloc]
                      initWithImage:[UIImage imageNamed:@"Circle.png"]];
circle2 = [[UIImageView alloc]
                      initWithImage:[UIImage imageNamed:@"Circle.png"]];
} 
```

在我的代码中某处，我将其添加为子视图。

我的问题是，有没有办法让它更短，以便它可以维护。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T05:49:45.950

如果您使用 - `Circle1.png`,之类的名称`Circle2.png`，那么您可以使用 for 循环在循环中创建它。

就像是 -

```
for (int i = 0; i < imageCount ; i++ ) {
    circle = [[UIImageView alloc]
                  initWithImage:[UIImage imageNamed:[NSString stringWithFormat: @"Circle%d.png" , i]]];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T05:50:52.940

您将这些视图放在他们的超级视图中是否有一种模式？如果是这样，您可以使用到 30 的 for 循环并以编程方式创建视图并将它们添加到它们的超级视图。

例如：

```
 for (i = 0; i < 100; i++)
    {
        UIImageView* circle = [[UIImageView alloc]
                      initWithImage:[UIImage imageNamed:@"Circle.png"]];
        [self.view addSubview:circle];
    } 
```

将添加 100 个您想要的图像视图。当然，您需要调整循环中每个视图的位置，但这是一般的想法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T05:51:09.807

您可以使用 1`IBOutletCollection`而不是 30 `IBOutlets`。不过，您可能希望在每个标签上都设置标签`UIImageView`，这样您仍然可以将它们区分开来。

（此答案假设您使用笔尖。如果是，请删除实例化`UIImageView`s的行`viewDidLoad`。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T07:04:26.530

在创建此视图控制器时，将框架作为参数传递。这是唯一改变仪式的事情？？。图像是相同的，因为没有其他属性..它可能会起作用

# php - 使用uploadify最新版本上传视频

> ID：10680029
> 
> 赞同：1
> 
> 时间：2012-05-21T05:46:25.823
> 
> 标签：php, javascript, jquery, uploadify

我想使用uploadify最新版本上传视频，但我失败了。

我的代码：

**HTML：**

```
<form  enctype="multipart/form-data" class="form-part" action="form.php" method="post">
  <input  class="uplodify" id="file_upload" type="file"/>
</form> 
```

**jQuery：**

```
$('#file_upload').uploadify({
        swf: 'uploadify/uploadify.swf',
        uploader: 'uploadify/uploadify.php',
        multi: true,
        //queueSizeLimit: 3,
        fileExt: '*.jpg;*.gif;*.png;*.mp4;*.mp3;*.avi;*.wmv;*.flv;',
        auto: true,
        onUploadStart: function(file) {
            console.log(file);
        },
        onUploadComplete: function(event, ID, fileObj, response, data) {

        },
        onUploadError : function(file, errorCode, errorMsg, errorString) {
            alert('The file ' + file.name + ' could not be uploaded: ' + errorString);
        },
        onUploadSuccess : function(file, data, response) {
            console.log('The file ' + file.name + ' was successfully uploaded with a response of ' + response + ':' + data);
        }
    }); 
```

**PHP：**

```
error_reporting(0);
$targetFolder = '/uploads'; // Relative to the root

if (!empty($_FILES)) {
    $tempFile = $_FILES['Filedata']['tmp_name'];
    $targetPath = dirname(dirname(__FILE__)) . $targetFolder;
    $targetFile = rtrim($targetPath,'/') . '/' . $_FILES['Filedata']['name'];

    // Validate the file type
    $fileTypes = array('jpg','jpeg','gif','png', 'mp3', 'mp4', 'avi', 'flv', 'wmv'); // File extensions
    $fileParts = pathinfo($_FILES['Filedata']['name']);
    if (in_array($fileParts['extension'],$fileTypes)) {
        move_uploaded_file($tempFile,$targetFile);
        echo '1';
    } else {
        echo 'Invalid file type.';
    }
} 
```

**注意：**没有错误`console`

`onUploadSuccess()`日志为：*文件 easyhtm-wp.FLV 已成功上传，响应为 true：文件类型无效。*

就在此行之后，控制台中显示的警告如下：

请帮我解决一下这个。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:49:30.450

您正在比较区分大小写的扩展名。`FLV`不一样`flv`。在比较之前将文件的扩展名转换为小写。

```
if( in_array( strtolower( $fileParts['extension'] ), $fileTypes ) ) {
    ... 
```

# iphone - 检查 UIScrollView 是否从子单元格滚动

> ID：10680034
> 
> 赞同：0
> 
> 时间：2012-05-21T05:47:01.010
> 
> 标签：iphone, objective-c, ios, ipad, uiscrollview

所以我有一个 UITableViewCell 子类，它需要知道 UITableView 当前是否正在滚动以更新 UI。所以我在子类中有一个指向 UITableView 的属性，并且我有 UIScrollView 委托的以下方法委托：

```
- (void)scrollViewDidScroll:(UIScrollView *)scrollView {
    CGFloat scrollOffset = scrollView.contentOffset.y;
    CGFloat contentHeight = scrollView.contentSize.height - kLoadMoreOffset;

    if (scrollOffset >= contentHeight && loadMore && [self.nextPaginationURL_ isNotNull]){
        loadMore = NO;
        [self loadMore];
    }

    self.isScrolling = [NSNumber numberWithInt:1];
}

-(void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate  
{
    if (!decelerate){
        self.isScrolling = [NSNumber numberWithInt:0];
        NSLog(@"FIRING NOTIF END DRAGGING");
         [self showLoadMore];
    }
}

- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView
{
     NSLog(@"FIRING NOTIF END DECEL");
    self.isScrolling = [NSNumber numberWithInt:0];
    [self showLoadMore];

} 
```

Is scrolling 本质上是一个 NSNumber 来指示滚动视图是否正在滚动。我将它传递给 UITableViewCell 以便稍后在类中使用，以查看状态是否正在滚动。我打算使用 KVO，但仅使用 BOOL 是不可能的（或者如果可能的话，请告诉我）。有没有更优雅的方法来做到这一点？

我的 UITableViewCell 中有一个分配属性，如下所示

```
@property (nonatomic, assign) BOOL isScrolling 
```

当我初始化我的 UITableViewCell 子类时，我正在使用 UITableView 上的 isScrolling 分配 isScrolling。我想我对这种方法的最大担忧是，如果我更改 UIScrollView 委托上的 isScrolling，UITableViewCell 子类上的 isScrolling 属性是否也会反映更改？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T08:18:35.297

不，它不会这样做，您需要手动通知可见单元有关更改。编写一个方法来为您完成工作，然后从委托方法中调用它：

```
- (void)notifyCellsOfScrolling:(BOOL)isScrolling_
{
    // Small optimization, if the state has not changed we don't need to notify.
    if (self.isScrolling == isScrolling_)
        return;

    self.isScrolling = isScrolling_;
    for (UITableViewCell *cell in [self.tableView visibleCells])
        [cell setIsScrolling:isScrolling_];
} 
```

您还必须从`cellForRowAtIndexPath`.

# resteasy - 有没有人使用 Enunciate 为 RestEasy 服务生成 WADL？

> ID：10680038
> 
> 赞同：2
> 
> 时间：2012-05-21T05:47:25.410
> 
> 标签：resteasy, wadl, enunciate

[这里](https://stackoverflow.com/questions/5301744/can-i-get-application-wadl-file-using-resteasy)和[这里](https://stackoverflow.com/questions/5297837/how-to-generate-wadl-file)有两个类似的问题，但没有给出足够的答案。

我发现我可以使用[Enunciate](http://enunciate.codehaus.org/getting_started.html)为 RestEasy 服务创建 WADL。所以我试了一下。

在我的一项服务中，我有一个映射到 HTTP GET 的方法，我正在使用如下所示

```
...
import org.jboss.resteasy.annotations.Form;
...
@GET
@Produces({MediaType.APPLICATION_JSON})
@Transactional(readOnly = true)
public WebServicePageResponse<D> find(@Form WebServicePageRequest<E> wsPageRequest)
{
    ...
} 
```

Enunciate 在生成 WADL 之前对服务方法执行验证，并抛出此错误并失败

```
"A resource method that is mapped to HTTP GET must not specify an entity parameter." 
```

@Form 是 RestEasy 特定的注解，而 Enunciate 只能解析 JSR-311 注解。

有没有人做过类似的事情？有没有人成功地使用 Enunciate 为 RestEasy 服务生成文档？有没有其他选择？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-25T03:54:31.060

看起来是对新功能的一个很好的建议。[在这里跟踪它](http://jira.codehaus.org/browse/ENUNCIATE-688)。

这可能是一个尴尬的解决方法，但是您是否尝试过使用[签名覆盖](http://docs.codehaus.org/display/ENUNCIATE/Leveraging+Enunciate+Without+JAX-%2aS)？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T11:51:58.123

我找到的最佳解决方案是删除 @Form 注释并改用单个注释（至少[在此处输入链接描述，](http://jira.codehaus.org/browse/ENUNCIATE-688)直到 Enunciate 开始支持此）。

# linux-device-driver - 连接 USB 设备时是否会发生中断？

> ID：10680042
> 
> 赞同：0
> 
> 时间：2012-05-21T05:47:50.637
> 
> 标签：linux-device-driver, interrupt, kernel-module, hid

我正在研究 Linux 平台上的 USB HID。键盘、鼠标等是人机接口设备的示例。每当将 HID 插入系统时，首先会发生设备枚举。然后在 /dev 目录中出现一个 hidraw 形式的条目。

在 linux 中，“usbhid 和 hid”是插入 HID 设备时调用的模块。当我禁用这些模块（使用 rmmod 和系统重新启动）时，没有枚举设备，并且 /dev 上没有出现 hidraw 条目（如预期的那样）。

现在我的问题是有什么方法可以知道是否有任何 USB HID 设备连接到上述两个模块被禁用的系统，即在硬件插入时是否会产生任何中断或信号。

我计划在发生此类信号或中断时（在 C 中）执行一些代码。任何形式的帮助表示赞赏。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:09:27.407

通过 D+ 和 D- 线上发生的电压电平变化来检测设备的插入。我不认为插入 USB 设备会产生任何中断。集线器（根或线路上更远的任何集线器）读取电压电平变化并根据报告给内核。USB 核心驱动程序将收到相同的通知。因此，您可能可以编写针对特定设备的用户空间驱动程序（使用供应商和产品 ID），并通过它执行您的功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:46:32.487

如果您在用户模式下执行此操作，您会收到使用`udev`（`netlink`内部使用）的通知。

您可以使用规则文件中的 vendorId 和 productId 字段匹配设备。

```
SUBSYSTEMS=="usb", ATTRS{idVendor}=="abcd", ATTRS{idProduct}=="1234" 
```

# android - android中不同字体的不同TTF文件

> ID：10680046
> 
> 赞同：2
> 
> 时间：2012-05-21T05:48:09.940
> 
> 标签：android, fonts, textview, truetype, android-assets

我想使用不同的字体样式。我将以下代码用于不同的字体样式。如何获得其他款式？我可以在同一个 ttf 文件中有一些其他样式吗？我在哪里可以获得不同字体的 ttf 文件？

```
TextView txt = (TextView) findViewById(R.id.custom_font);  
Typeface font = Typeface.createFromAsset(getAssets(), "Chantelli_Antiqua.ttf"); 
txt.setText("This is sample text with Chantelli Antiqua font style.");
txt.setTypeface(font); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T05:53:39.913

如果您只寻找具有相同字体的样式，您可以像这样为您的字体添加样式，

```
txt.setTypeface(font,Style.BOLD);
txt.setTypeface(font,Style.ITALIC); 
txt.setTypeface(font,Style.BOLD_ITALIC); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-21T05:56:44.120

据我所知，您可以在应用程序中使用多少种不同的字体并没有限制。当然，没有进入上述陈述的优点。

我认为当您说 TTF 文件中的其他样式时，您的意思是字体的粗体、斜体、正常、中等等样式。答案是：不是来自同一个 TTF 文件。例如，如果您在*Windows中打开**Fonts*文件夹，然后打开特定字体，您将看到特定于每种*样式*的多个文件。您需要复制应用程序中所需的所有文件并将它们粘贴到应用程序的“ **assets/fonts** ”文件夹中。

 ****其次，如果您要查找计算机上安装的字体，您可以在*c:\Windows\Fonts*文件夹中找到它们。如果您正在寻找更多可供选择的字体，您会在这些网站上找到很多：

[http://www.google.com/webfonts](http://www.google.com/webfonts)

[http://www.fontsquirrel.com/](http://www.fontsquirrel.com/)****

# machine-learning - 井字神经网络作为评估函数

> ID：10680049
> 
> 赞同：3
> 
> 时间：2012-05-21T05:48:22.233
> 
> 标签：machine-learning, neural-network, tic-tac-toe, backpropagation

我一直在尝试使用多层感知器和反向传播为井字游戏编写 AI。我的想法是训练神经网络成为棋盘状态的准确评估函数，但问题是即使在分析了数千场游戏之后，网络也无法输出准确的评估。

我正在使用 27 个输入神经元；3x3 板上的每个方块都与三个输入神经元相关联，这些神经元接收值 0 或 1，具体取决于方块是否有 x、o 或空白。这 27 个输入神经元向 10 个隐藏神经元发送信号（我随意选择了 10 个，但我也尝试了 5 个和 15 个）。

对于训练，我已经让程序通过使用当前评估函数与自己对战来生成一系列游戏，从而为每一方选择被认为是最佳动作的动作。生成游戏后，NN 通过将给定棋盘状态的正确输出作为跟随它的棋盘状态的值（使用评估函数）来编译训练示例（包括棋盘状态和正确输出）。游戏顺序。我认为这是 Gerald Tesauro 在编写 TD-Gammon 时所做的，但我可能误解了这篇文章。（注意：我把更新权重的具体机制放在了这篇文章的底部）。

我尝试了不同的学习率值，以及不同数量的隐藏神经元，但似乎没有任何效果。即使经过数小时的“学习”，策略也没有明显的改进，评估功能也无法接近准确。

我意识到有更简单的方法来编程井字游戏，但我想用一个多层感知器来做，这样我以后可以将它应用到连接 4。这甚至可能吗？我开始认为对于具有合理数量的隐藏神经元的井字棋棋盘来说，没有可靠的评估函数。

我向你保证，我不是在寻找一些快速代码来完成家庭作业。我已经工作了一段时间没有成功，只是想知道我做错了什么。感谢所有建议。

* * *

这是我用于 NN 的特定机制：

27 个输入神经元中的每一个都接收一个 0 或 1，它通过可微 sigmoid 函数 1/(1+e^(-x))。每个输入神经元 i 发送这个输出（i.output），乘以某个权重（i.weights[h]）到每个隐藏神经元 h。这些值的总和作为隐藏神经元 h (h.input) 的输入，该输入通过 sigmoid 形成每个隐藏神经元的输出 (h.output)。我将 lastInput 表示为所有隐藏神经元的 (h.output * h.weight) 之和。然后板的输出值是 sigmoid(lastInput)。

我将学习率表示为 alpha，将 err 表示为正确输出减去实际输出。我也让 dSigmoid(x) 等于 sigmoid 在点 x 的导数。

每个隐藏神经元 h 的权重增加值： (alpha*err*dSigmoid(lastInput)*h.output) 并且从给定输入神经元 i 到给定隐藏神经元 h 的信号的权重增加值: (alpha*err*dSigmoid(lastInput)*h.weight*dSigmoid(h.input)*i.output)。

我从这个关于反向传播的讲座中得到了这些公式：[http](http://www.youtube.com/watch?v=UnWL2w7Fuo8) ://www.youtube.com/watch?v=UnWL2w7Fuo8 。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-21T09:37:43.570

井字游戏有 3^9 = 19683 个状态（实际上，其中一些是不合法的，但数量级是正确的）。输出函数并不平滑，所以我认为反向传播网络可以做的最好的事情是“死记硬背”所有这些状态的查找表。

考虑到这一点，10 个隐藏的神经元看起来非常小，你不可能通过教几千个游戏来训练 20k 个不同的查找表条目。为此，网络必须从它被教导的状态“推断”到它从未见过的状态，我不知道它是如何做到这一点的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T18:22:55.563

您可能需要考虑多个隐藏层，以及增加隐藏层的大小。为了进行比较，Fogel 和 Chellapilla 使用了两层 40 和 10 个神经元来编程一个跳棋玩家，所以如果你需要更多的东西，那么可能会出现严重错误。

如果您还没有，您可能还想使用偏差输入。

您的基本方法似乎很合理，尽管我不是 100% 确定您的意思是什么：

`After generating a game, the NN compiles training examples (which comprise a board state and the correct output) by taking the correct output for a given board state to be the value (using the evaluation function) of the board state that follows it in the game sequence.`

我认为您的意思是您正在使用一些已知的好方法（例如极小极大游戏树）来确定训练示例的“正确”答案。你能解释一下吗？或者，如果我是对的，就对称板而言，似乎有一个微妙的问题需要处理，它可能有不止一个同样好的最佳响应。如果您只将其中之一视为正确，则可能会导致问题。（或者它可能不会，我不确定。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-06-23T20:05:40.980

[在这里](https://github.com/stefanlattner/tiktaktoe)，您可以找到使用自我游戏在 Tik Tak Toe（可变棋盘大小）中训练神经网络的实现。梯度通过一个简单的梯度复制技巧在整个游戏中反向传播。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-07-31T10:45:52.063

只是换个想法，您是否考虑过使用强化学习来完成这项任务？这将更容易实施并且更有效。例如，您可以使用经常用于游戏的 Q learning。

# javascript - 动态调整页面大小

> ID：10680050
> 
> 赞同：0
> 
> 时间：2012-05-21T05:48:26.557
> 
> 标签：javascript, javascript-events

我是 JavaScript 的新手，但我正在努力学习。出于这个原因，我想尝试在不使用 jQuery 的情况下完成此任务。

我正在尝试加载一个页面，其中内容根据浏览器的高度和宽度动态调整大小。我目前有两个代码迭代，一个在内容 div 中有一个图像，另一个更简单，没有。

首先，解决没有图像的问题。`winSize`从 HTML 底部的 body 标记或 script 标记中的事件调用`onload`似乎能够在设置样式之前确定 scrollHeight/Width，但用内容 div 的黑色填充整个窗口而不是设置它的宽度为 704px，因为脚本已经确定它应该是。使用`document.body.onload`脚本头中的 调用 winSize 会导致滚动宽度/高度为空，并且仅显示灰色背景。

代码如下：

```
<style>
    body {
       padding:0px;
       background-color: #808080;
    }
    div { 
       position:absolute;
    }
</style>
<script type="text/javascript">
    bArat=3/2;
    bH1=0;
    bW1=0;
    bX1=0;
    bY1=0;

    function winSize(){
       winW=document.body.scrollWidth;
       winH=document.body.scrollHeight;
       _style();
    }

    function _style(){
       bH1=winH;
       bW1=bH1/bArat;
       bX1=(winW/2)-(bW1/2);
       document.getElementById("gutters").style.left=bX1;
       document.getElementById("gutters").style.top=bY1;
       document.getElementById("gutters").style.height=bH1;
       document.getElementById("gutters").style.width=bW1;
       document.getElementById("gutters").style.backgroundColor="black";
       document.body.style.backgroundColor="black";
    }

    //document.body.onload=winSize();
</script>
</head>
<body>
    <div id="gutters">
    </div>
    <script>
    //winSize();
    </script>
</body>
</html> 
```

其次，在该脚本的更复杂版本中，该脚本在“排水沟”中包含一个 div，该 div 包含一个`img`（很快就会是多个，一旦这个问题得到解决），几乎一切正常，除了加载时，它不加载样式（在 Chrome 中）。但是，它确实会在刷新时加载样式，或者如果我在 onload 触发器上设置了 50 毫秒的延迟。我认为这是因为 Chrome（和 Safari？）`onload`在 html 加载之后但在图像本身渲染之前触发了该事件，因此该函数无法确定尚未真正完成加载的主体的高度和宽度。

在第二个脚本中，上面的函数：

```
function winSize(){
   winW=document.body.scrollWidth;
   winH=document.body.scrollHeight;
   _style();
} 
```

根本不起作用。winH 或 winW 未定义。

但该功能从[http://www.javascripter.net/faq/browserw.htm](http://www.javascripter.net/faq/browserw.htm)

```
function winSize(){
    if (document.body && document.body.offsetWidth) {
        winW = document.body.offsetWidth;
        winH = document.body.offsetHeight;
    }
    if (document.compatMode=='CSS1Compat' &&
    document.documentElement &&
    document.documentElement.offsetWidth ) {
        winW = document.documentElement.offsetWidth;
        winH = document.documentElement.offsetHeight;
    }
    if (window.innerWidth && window.innerHeight) {
        winW = window.innerWidth;
        winH = window.innerHeight;
    }
} 
```

如上所述工作：“......加载时不会加载样式（在 Chrome 中）。但是，它会在刷新时加载样式。” 如果我在第一个脚本中运行第二个 winSize 函数，它会返回错误“无法读取 null 的属性 'style'”。

我更喜欢第一个函数，因为它简洁并且（根据 W3schools.com）更好的跨浏览器兼容性`object.scrollWidth`over `window.innerWidth`，但很明显，在某些情况下，一个或两个都被破坏了。

我的问题是，按重要性排序：

1.  在第二个脚本中，如何在图像完全加载后运行“winSize”函数？（如果这是问题）
2.  为什么这两个脚本在以相同方式实现时对这两个函数有如此截然不同的反应。
3.  什么会解决我提出的第一个脚本 - 第一个内容 div，“排水沟”，填充整个屏幕而不是制作一个矩形。
4.  为什么将 onload 事件放在 body 标记中有效，但将 document.body.onload 放在 head 的脚本中却不行。

抱歉这么长的问题——一个问题有这么多，但我想不出办法来解开它们。我将不胜感激，并永远赞美那些可以帮助我解决这个问题的人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:02:14.330

为什么不直接以 % 指定尺寸并让浏览器执行此操作。可能是你有一些非常具体的要求？请写出情景，（简而言之）

# android - Android中的HashMAP

> ID：10680057
> 
> 赞同：1
> 
> 时间：2012-05-21T05:49:07.057
> 
> 标签：android, hashtable

我在我的应用程序中使用微调器，因为我使用的是哈希表。如果用户从微调器数组中选择一个条目，则该条目的相应键值应传递到另一个屏幕。请任何人帮助我。

我的代码：

```
ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>();
                    Spinner spinner1=(Spinner)findViewById(R.id.spinner1);        
            ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(
                    this,R.array.Source, android.R.layout.simple_spinner_item);
            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);        
            HashMap hm = new HashMap(); 
            hm.put("Chennai","123");
            menuItems.add(hm);         
            spinner1.setAdapter(adapter); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:53:05.017

尝试替换此代码

```
 HashMap hm = new HashMap(); 
            hm.put("Chennai","123"); 
```

和

```
HashMap<String, String> hm = new HashMap<String, String>(); 
            hm.put("Chennai","123"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:19:11.823

```
sp.setOnItemSelectedListener(new OnItemSelectedListener() {

            public void onItemSelected(AdapterView<?> arg0, View arg1,
                    int arg2, long arg3) {
                int item = sp.getSelectedItemPosition();
                Toast.makeText(getBaseContext(), 
                        "You have selected the book: " + androidBooks[item], 
                        Toast.LENGTH_SHORT).show();
            }

            public void onNothingSelected(AdapterView<?> arg0) {
            }

        }); 
```

in toast you get selected item pass this item to another screen.

# html - 为什么这个 requestAnmationFrame 脚本不起作用？

> ID：10680058
> 
> 赞同：0
> 
> 时间：2012-05-21T05:49:12.207
> 
> 标签：html

我想使用 html5 为球制作动画，并实现了这个小脚本。但是，我看不到任何动画.. 我该如何解决这个问题？

```
<html>
    <head>
        <meta charset="utf-8">
        <script>
            canvas = document.getElementById("canvas");         
            window.onload=function(){
            if (document.createElement("canvas").getContext){
                //alert("browser supports canvas");
                //console.log(document.getElementById("canvas").getContext);
                canvas = document.getElementById("canvas");
                shape = new shapes();
                shape.drawball(canvas,100,"red");

                }
            };

function shapes(){
    this.drawtriangle = function(canvas){
        triangles = new triangle(0,0,0,200,200,200);
        triangles.draw(canvas.getContext('2d'));    
    }

    this.drawball = function(canvas,radius,color) {
        ball = new Ball(radius,color);
        ball.draw(canvas.getContext('2d'),canvas);
    }
}

function coordinates(x1,y1){
    this.x = x1;
    this.y = y1;
}

function angle(angle,speed){
    this.angle = angle;
    this.speed = speed;
}

function Ball(radius,color){
    this.origin = new coordinates(100,100);
    this.radius = (radius === "undefined" ) ? 40 : radius;
    this.color = (color === "undefined") ? red : color;
    this.rotation = 0;
    this.index  = 0;
    this.angles = new angle(0,0.2);
}

Ball.prototype.draw = function(context,canvas){

    context.fillStyle = this.color;
    context.strokeStyle = "blue";
    context.rotate(this.rotation);
    context.beginPath();
        context.arc(this.origin.x,this.origin.y,this.radius,0,(Math.PI*2),true)
    context.closePath();
    context.fill();
    context.stroke();
    this.animate(context,canvas);
}

Ball.prototype.animate = function(context,canvas){
        if (this.angles.angle < 1){
context.clearRect(0,0,1000,1000);
        console.log("Animating ... ");  
        this.origin.x = this.origin.x + 10; 
        this.origin.y = this.origin.y + 10; 
        this.angles.angle = this.angles.angle + this.angles.speed;
        window.requestAnimationFrame(this.draw(context));

    }
}

        </script>
        <style>

            body {
                background-color: #bbb;
                }       
            #canvas {
                background-color: #fff;
            }
        </style>
    </head>

    <body>
        <canvas id="canvas" width="1000px" height="1000px">
            Your browser dows bot suppoet canvas

        </canvas>

    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:14:45.973

您的调用`requestAnimationFrame()`没有传递回调，它正在执行一个函数并传递其未定义的返回值。我建议你改变这个：

```
Ball.prototype.animate = function(context,canvas) {
    if (this.angles.angle < 1) {
        context.clearRect(0,0,1000,1000);
        console.log("Animating ... ");  
        this.origin.x = this.origin.x + 10; 
        this.origin.y = this.origin.y + 10; 
        this.angles.angle = this.angles.angle + this.angles.speed;
        window.requestAnimationFrame(this.draw(context));
    }
} 
```

对此：

```
Ball.prototype.animate = function(context,canvas) {
    if (this.angles.angle < 1) {
        context.clearRect(0,0,1000,1000);
        console.log("Animating ... ");  
        this.origin.x = this.origin.x + 10; 
        this.origin.y = this.origin.y + 10; 
        this.angles.angle = this.angles.angle + this.angles.speed;
        var self = this;
        window.requestAnimationFrame(function() {self.draw(context)});
    }
} 
```

以便您将适当的回调函数传递给`requestAnimationFrame()`.

现在您已经包含了所有代码，这是另一个问题。你不能这样做：

```
canvas = document.getElementById("canvas"); 
```

在 javascript 中的 head 标记中，因为 DOM 尚未加载，因此它不会找到该对象。您必须仅在 DOM 已加载时执行此操作，方法是等待表示 DOM 已加载的事件，或者在`<body>`所有 DOM 元素之后在该部分的每一端运行 javascript。

然后，第三，您必须使用特定于浏览器的 requestAnimationFrame 形式，因为每个浏览器都可能有自己的前缀。我使用了这段代码：

```
var reqestAnimationFrame = 
    window.requestAnimationFrame ||
    window.mozRequestAnimationFrame || 
    window.msRequestAnimationFrame ||
    window.webkitRequestAnimationFrame; 
```

当我将您的脚本放入 jsFiddle 并进行上述更改时，我发现动画运行得如此之快以至于看不到它。您的代码需要向其中添加时间元素，以便动画在特定时间段内运行。通常这是通过定义动画的持续时间来完成的，并且在每个动画步骤中，您可以根据持续时间的百分比来缩放动画的位置。

这是使用 requestAnimationFrame 的基于时间的动画示例：http: [//jsfiddle.net/jfriend00/nRE7S/](http://jsfiddle.net/jfriend00/nRE7S/)

# iphone - 自定义活动指标问题

> ID：10680067
> 
> 赞同：-1
> 
> 时间：2012-05-21T05:50:21.197
> 
> 标签：iphone, xcode, uiactivityindicatorview

我正在制作一个 iPhone 应用程序，其中我制作了一个自定义活动指示器类来显示另一个类的活动指示器动画，但我的问题是活动指示器类开始动画但它没有停止动画。

这是代码：

```
customActivityView   = [[ CustomActivityIndicatorView alloc] init];
        customActivityView.view.center = self.view.center;
        [self.view addSubview:customActivityView.view];
        [customActivityView.activityIndicator startAnimating];  // is work fine to add a custom activity indicator and start animating 
[customActivityView.activityIndicator stopAnimating];  // but this line doesn't work 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T05:55:14.360

检查是否`customActivityView.activityIndicator`实际返回活动视图，或者很有可能返回任何内容。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:52:03.300

您不能以相同的方法启动和停止活动指示器。如果这样做，您将看不到任何结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-30T07:37:18.617

抱歉，它现在正在工作，实际上我的自定义 Activity 类被分配了两次，为什么它没有停止。

# facebook - 从 Facebook 艺术家页面中删除“流行音乐”模块

> ID：10680069
> 
> 赞同：0
> 
> 时间：2012-05-21T05:50:40.167
> 
> 标签：facebook, spotify, facebook-timeline

在新的乐队 Facebook 时间线上，他们将展示该艺术家的流行音乐。除了有时他们弄错了，而且似乎无法删除！

下面是一个例子：艺术家叫 Sticky Fingers，但 Facebook 显示的是滚石乐队的音乐：[https ://www.facebook.com/stickyfingersmusic](https://www.facebook.com/stickyfingersmusic)

有谁知道如何删除？Facebook 的人可以调查一下吗？可以想象，这对艺术家来说是一次糟糕的经历。

![在此处输入图像描述](../Images/38aa0e9f7afade3e189e43d1b71eb547.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-23T04:13:12.520

您可以转到编辑页面 > 音乐并删除或更改任何不是正确艺术家的目录。

# symfony - 在树枝中延长使用更换过滤器？

> ID：10680075
> 
> 赞同：2
> 
> 时间：2012-05-21T05:51:48.590
> 
> 标签：symfony, twig

我查看了 twig 中替换过滤器的[文档](http://twig.sensiolabs.org/doc/filters/replace.html)。我的问题是，假设我有一个变量 say `contvariable`，并且从控制器通过该变量传递的内容是动态的

```
 return $this->render('RodasysFormstudyBundle:Default:addclientname.html.twig', array('contvariable' =>$sometext)); 
```

此`$sometext`变量将包含如下文本

```
$sometext='%Sun% rises in the East'; 
```

里面的文本`%%`应该`input field`在浏览器中显示为。我没有在网上找到任何示例来替换里面的内容`%%`（无论内容是太阳还是月亮）。这是否可以使用`replace`过滤器来做到这一点，或者我应该遵循一些其他方法，例如在将控制器中的内容发送到树枝之前替换它。

请帮忙..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:40:08.767

你可以做这样的事情（使用“原始”过滤器）：

```
{{ "%foo% rises in the East"|replace({'%foo%': "<input type='text' name='"~foo~"' value='"~foo~"'/>"})|raw }} 
```

**foo**是您的控制器发送的变量，具有您选择的值。

# c++ - C++ std::map 键排序比较函数？

> ID：10680076
> 
> 赞同：2
> 
> 时间：2012-05-21T05:52:00.073
> 
> 标签：c++, stl, map

我有一个类，我重载了所有比较运算符。我将一堆这些对象作为键加载到地图中，并且我希望地图能够将它们从最小到最大排序。

但是，地图实际上是按从大到小排序的。为什么是这样？它在对地图进行排序时不使用键上的比较运算符吗？我怎样才能让它做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-24T08:58:58.930

如果您查看 std::map 的定义，则第三个参数是比较器 -`std::less< Key >`默认情况下。其默认实现只是调用`operator<`.

您可以尝试在定义的标头中`YourType`定义新版本，如下所示：

```
template<> std::less< YourType >
{
    bool operator()(
        const YourType& lhs,
        const YourType& rhs)
    {
        if(!(lhs.member1 < rhs.member1))
        {
           return false;
        }

        if(!(lhs.member2 < rhs.member2))
        {
           return false;
        }

        return true;
    }
} 
```

记得加班里的朋友`std::less< YourType >`。

实际测试必须符合以下要求，否则您会遇到各种问题：

*   lhs < rhs = 真
*   rha < lhs = 假
*   lhs < lhs = 假

需要注意的一件重要的事情（我最近发现）是，如果您的编译器开始抱怨您重新定义了`std::less`或其他时髦事物的含义，则可能是您仅`YourType`在声明`std::map< YourType >`.

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-24T08:18:05.797

您应该发布实现比较运算符重载的代码，因此答案可能基于猜测：

你的问题可能是一个简单的错字（我做过一次）

```
bool operator < ( T lhs, T rhs ) const
{
    return rhs < lhs; // note: lhs is on the right!
} 
```

但实际上你想要：

```
bool operator < ( T lhs, T rhs ) const
{
    return lhs < rhs; 
} 
```

# button - Excel - 同时有更多标准

> ID：10680079
> 
> 赞同：0
> 
> 时间：2012-05-21T05:52:32.657
> 
> 标签：button, excel, autofilter, vba

我的 Excel 2010 工作簿中有一个包含大量数据的电子表格。此页面可以通过内置自动过滤器进行排序。在另一张纸上，我制作了一个按钮，用于进行一些排序。例如：

```
Sub forsteKvartalAftaleIndgaet()

'
    Sheets("AMRM01").Select
    ActiveSheet.Range("$A$12:$P$76").AutoFilter Field:=2, Criteria1:="<01-04", _
        Operator:=xlAnd
    Sheets("Ark2").Select
End Sub

Sub andenKvartalAftaleIndgaet()
'

    Sheets("AMRM01").Select
    ActiveSheet.Range("$A$12:$P$76").AutoFilter Field:=2, Criteria1:=">01-04", _
        Operator:=xlAnd, Criteria2:="<01-07"
    Sheets("Ark2").Select
End Sub 
```

当我这样做时，表格显示了今年的第一季度和第二季度。我有两个按钮，分别显示今年的第三季度和第四季度，如下所示：

```
Sub TredjeKvartalAftaleIndgaet()
'

    Sheets("AMRM01").Select
    ActiveSheet.Range("$A$12:$P$76").AutoFilter Field:=2, Criteria1:=">01-07", _
        Operator:=xlAnd, Criteria2:="<01-10"
    Sheets("Ark2").Select
End Sub

Sub FjerdeKvartalAftaleIndgaet()
'

    Sheets("AMRM01").Select
    ActiveSheet.Range("$A$12:$P$76").AutoFilter Field:=2, Criteria1:=">01-10", _
        Operator:=xlAnd, Criteria2:="<31-12"
    Sheets("Ark2").Select
End Sub 
```

我的问题：当我按下按钮（第二季度）时，它会过滤并显示第二季度。但是当我按下“第三季度”按钮时，它会删除第二季度过滤器并显示第三季度。

是否可以编写某种 VBA 代码，使其可以同时按下两个按钮，就像可以使用内置自动过滤按钮一样？

如果您不太确定我的意思，请寻求更好的解释。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T11:42:20.220

大概是这样的？那么这两种方式都适用吗？即

**1）**您先选择第二季度，然后它会显示第二季度，然后当您按第三季度时，它将显示第二和第三季度。

**2)**您先选择第 3 节，然后它会显示第 3 节，然后当您按第 2 节时，它将显示第 2 节和第 3 节。

**注意**：我没有测试过代码，所以如果你有任何错误请告诉我:)

```
Dim strCrt1 As String, strCrt2 As String, strCrt3 As String, strCrt4 As String

Sub andenKvartalAftaleIndgaet()
    strCrt1 = ">01-04"
    strCrt2 = "<01-07"

    With Sheets("AMRM01")
        If strCrt4 <> "" Then
            .Range("$A$12:$P$76").AutoFilter Field:=2, _
            Criteria1:=strCrt1, Operator:=xlAnd, _
            Criteria2:=strCrt4
        Else
            .Range("$A$12:$P$76").AutoFilter Field:=2, _
            Criteria1:=strCrt1, Operator:=xlAnd, _
            Criteria2:=strCrt2
        End If
    End With
End Sub

Sub TredjeKvartalAftaleIndgaet()
    strCrt3 = ">01-04"
    strCrt4 = "<01-07"

    With Sheets("AMRM01")
        If strCrt1 <> "" Then
            .Range("$A$12:$P$76").AutoFilter Field:=2, _
            Criteria1:=strCrt1, Operator:=xlAnd, _
            Criteria2:=strCrt4
        Else
            .Range("$A$12:$P$76").AutoFilter Field:=2, _
            Criteria1:=strCrt3, Operator:=xlAnd, _
            Criteria2:=strCrt4
        End If
    End With
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:14:26.440

我不太明白，但听起来你只是想同时展示第 2 季度和第 3 季度？我认为你需要它自己的宏。

```
Sub secondAndThirdQuarter()

    Sheets("AMRM01").Select
    ActiveSheet.Range("$A$12:$P$76").AutoFilter Field:=2, Criteria1:=">01-04", _
        Operator:=xlAnd, Criteria2:="<01-10"
    Sheets("Ark2").Select

End Sub 
```

这不会给出您正在寻找的相同结果吗？我不知道是否可以使用 VBA 过滤过滤器。

# drag-and-drop - ImageView - 检测图像边界

> ID：10680081
> 
> 赞同：0
> 
> 时间：2012-05-21T05:52:45.683
> 
> 标签：drag-and-drop, imageview, tableview, draggable

我有一个 tableView，里面有一些图像。我希望能够在屏幕上拖动这些图像。我创建了一个自定义视图，它是可见屏幕的大小，其中包含一个 onTouch 方法处理程序，还包含 onDraw 以允许我拖动图像。我想要一些关于从表格视图中获取图像并将它们添加到自定义视图中的最佳方法的意见，当触发 action_down 事件（启用图像被拖动）。我应该将 tableView 添加到自定义视图吗？我能检测到图像边界吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T03:07:20.147

解决了！

我为每个创建了一个对象的图像创建了 onTouchListener，当 MotionEvent.ACTION_DOWN 被触发时，该对象可以传递给自定义视图。当 MotionEvent.ACTION_MOVE 被触发时，自定义视图负责重绘。

# sql - SQL，两个外键引用另一个表的相同主键

> ID：10680083
> 
> 赞同：1
> 
> 时间：2012-05-21T05:53:04.700
> 
> 标签：sql, key, relationship

我有两张桌子：

```
Person(personID, name, phone, email);
Relation(child_personID, parent_playerID); 
```

关系表有助于识别孩子和他们的父母，但要做到这一点，来自 person 表的 personID 必须作为外部引用两次。我该怎么做呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:00:42.250

可能看起来像这样。

```
create table Person
(
  personID int primary key,
  name varchar(50),
  phone varchar(50),
  email varchar(50)
)

create table Relation
(
  child_personID int references Person(personID),
  parent_playerID int references Person(personID),
  primary key (child_personID, parent_playerID)
) 
```

# sql-server - 我在 SQL Server 上使用了 Windows 身份验证，现在我重新安装了新的 Windows，但无法访问我的数据库（mdf 文件）

> ID：10680085
> 
> 赞同：0
> 
> 时间：2012-05-21T05:53:24.403
> 
> 标签：sql-server

我应该怎么办？我可以禁用 UAC 来访问数据库。有没有一种方法可以复制我的数据库但删除附加的帐户控制信息？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:39:25.150

阅读[本文](http://blogs.msdn.com/b/raulga/archive/2007/07/12/disaster-recovery-what-to-do-when-the-sa-account-password-is-lost-in-sql-server-2005.aspx)了解可能的选项。摘录：`在 SQL Server 实例以单用户模式启动后，Windows 管理员帐户能够使用 sqlcmd 实用程序使用 Windows 身份验证连接到 SQL Server。您可以使用诸如“sp_addsrvrolemember”之类的 Transact-SQL 命令将现有登录名（或新创建的登录名）添加到 sysadmin 服务器角色。

# c++ - c ++打印缓冲区（整数到字符串）

> ID：10680087
> 
> 赞同：1
> 
> 时间：2012-05-21T05:53:36.680
> 
> 标签：c++, buffer

代码：

```
#include "stdafx.h"
#include <windows.h>
#include <iostream>
#include <iomanip>
#include <locale>
#include <sstream>
#include <string>
int main()
{
    HWND handle = FindWindow(0 ,TEXT("window name"));
    if(handle == 0)
    {
             MessageBox(0,TEXT("Failed to find window"),TEXT("Return"),MB_OK);
    }
    else
    {
    DWORD ID;
    GetWindowThreadProcessId(handle,&ID);
    HANDLE hProcess = OpenProcess(PROCESS_VM_WRITE|PROCESS_VM_OPERATION , FALSE, ID);
    hProcess = OpenProcess(PROCESS_VM_READ , FALSE, ID);

    if(!hProcess)
    {
        Beep(1000,1000);
    }else {

          int buffer;
        if (ReadProcessMemory(hProcess,(void *)0x00963FC4,&buffer,4,NULL))  
        {
             printf(buffer);
        }
        else  {
            MessageBox(0,TEXT("Could not Read"),TEXT("Return"),MB_OK);
              }

        }CloseHandle(hProcess);
    }

} 
```

我试图 让这个程序读取内存地址，
但我得到了这个错误： IntelliSense
：“int”类型的参数与“const char *”类型的参数不兼容 不行。

> 字符串测试；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T05:55:50.210

首先，尝试使用带有格式字符串的正确 printf() 调用：

```
printf("%d", buffer); 
```

C 是一种静态类型的语言，你不能用 printf() 做类似 python 的东西来输出你想要的任何东西。printf() 函数始终只打印第一个“const char *”参数，允许根据规则替换此字符串中的某些值。

其次，我在您的代码中看到了 TEXT() 宏，因此您可能在项目设置中使用了 Unicode 字符串。如果是这样（你应该在 VC++ 中得到链接错误 2019/2005），你必须使用 wprintf() 函数：

```
wprintf(L"%d", buffer); 
```

要打印 std::string 对象，您还必须将其转换为“const char*”。这是通过 string::c_str() 调用完成的：

```
std::string MyString("Test");
printf("Your string is = %s", MyString.c_str()); 
```

# objective-c - 快速检测，如果服务器离线

> ID：10680091
> 
> 赞同：0
> 
> 时间：2012-05-21T05:54:08.663
> 
> 标签：objective-c, nsurlconnection

我们使用 PHP 服务器和 iOS 应用程序。

我用来`NSURLConnection`向服务器发送消息。如果服务器不可用，例如地址不正确，我们将在 60-90 秒后等待错误。这是很长一段时间。

我如何减少这个时间？有没有快速检查服务器可用性的功能？

如果我第一次打电话

```
[request setTimeoutInterval:10];
[request setHTTPBody:[message data]]; 
```

当我检查 [request timeoutInterval] 时，它仍然是 240，而不是 10。太有趣了..

如果我`setTimeoutInterval:`在创建连接之前添加一个调用，如下所示：

```
[request setTimeoutInterval:10];
connection = [[NSURLConnection alloc] initWithRequest: request delegate: self]; 
```

请求在很长一段时间后仍然返回。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T11:08:53.367

如果服务器真的宕机了，你总是可以先检查可达性框架并检查是否可以访问服务器，然后再触发你的 HTTP 请求。

有关此示例，请参阅此答案：

[iOS 4 可达性指南](https://stackoverflow.com/questions/3790957/reachability-guide-for-ios-4)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T18:22:58.173

是的，超时并不像您期望的那样工作。一种解决方案是设置一个计时器，在您希望的时间间隔过后取消连接。我在我的[真正随机](https://github.com/martydill/ReallyRandom/blob/master/ReallyRandom.m)课程中做到了这一点，它似乎起到了作用。

它看起来像这样：

```
connection = [[NSURLConnection alloc] initWithRequest: request delegate: self startImmediately:NO];

timer = [NSTimer scheduledTimerWithTimeInterval:10
                                     target:self
                                   selector:@selector(onTimeExpired)
                                   userInfo:nil
                                    repeats:NO];

[connection start];

// When time expires, cancel the connection
-(void)onTimeExpired
{
    [self.connection cancel];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T07:16:22.760

您可以减少请求中的超时时间，`timeoutInterval`在方法中指定参数：

```
+ (id)requestWithURL:(NSURL *)theURL cachePolicy:(NSURLRequestCachePolicy)cachePolicy timeoutInterval:(NSTimeInterval)timeoutInterval 
```

但是很难判断服务器是不可用还是只是忙。您可以决定如果服务器在某个时间间隔内没有响应，则很可能它已关闭。否则你将不得不等待。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-02-23T20:49:35.057

这位代表

```
- (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error

if (error.code == NSURLErrorTimedOut) 
```

# cakephp - Cake Php Read 函数将结果检索为一维数组

> ID：10680092
> 
> 赞同：0
> 
> 时间：2012-05-21T05:54:18.823
> 
> 标签：cakephp, cakephp-1.3, cakephp-model

Cake Php Read 函数以简单数组的形式检索结果

```
$result = $this->Model->read('id, name, title', $id); 
```

这将导致

```
Array
(
    [Model] => Array
    (
        [id] => 1
        [name] => test
        [title] => New Head title
    )

) 
```

它有任何方法可以直接从查询中检索结果数组，如下所示

```
Array
    (
        [id] => 1
        [name] => test
        [title] => New Head title
    ) 
```

不使用任何变量的临时存储。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T07:21:15.347

只需通过[Set::extract](http://book.cakephp.org/1.3/en/view/1501/extract)调用运行结果，如下所示：

```
$result = $this->Model->read('id, name, title', $id);
$result = Set::extract('/Model', $result); 
```

Set 是一个非常强大的类，我建议[你阅读它](http://book.cakephp.org/1.3/en/view/1487/Set)。:) 干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T10:13:06.613

除非您要破解 Cake 核心，否则 Cake 将始终在内部使用额外的模型键返回结果。因此，*“不使用任何变量的临时存储”*几乎是不可能的，如果您的意思是“速度优化”（在引号中，因为它几乎没有任何区别）。

你可以让它简单地工作：

```
$result = current($this->Model->read('id, name, title', $id)); 
```

您可以覆盖模型的`read`方法，以便它始终在内部执行此操作（**不推荐，它总有一天会咬你的**）。您可以在`AppModel`全局范围内执行此操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T09:50:07.333

除了 CakePHP 的纯度（尽管同意其他海报）

find('list') 你在找什么？

```
$result = $this->Model->find('list', array('fields' => array('id', 'name', 'title'),        'conditions' => array('id' => $id), 'recursive' => 0    )); 
```

# php - 是否可以在新类中从 mysqli 扩展并将其用作静态？

> ID：10680093
> 
> 赞同：0
> 
> 时间：2012-05-21T05:54:19.350
> 
> 标签：php, mysql, database, mysqli

我想做的是：

```
class DB extends mysqli {
 ...
}

DB :: connect( ... );

DB :: query( "SELECT * FROM myDB" );

class AnotherClass {
  function helloWorld()
  {
     DB :: query( "SELECT * FROM withoutUsingGlobalKeyword" );
  }
}

function functions()
{
    DB :: query( "SELECT * FROM withoutUsingGlobalKeyword" );
} 
```

这个问题的重点是避免使用“全局”关键字，例如：

```
global $mysqli;
$mysqli = new mysqli( ... );

class AnotherClass {
   function helloWorld()
   {
      global $mysqli;
      $mysqli->query( "SELECT * FROM IDontWantToUseGlobalKeyword" );
   }
}

function functions()
{
    global $mysqli;
    $mysqli->query( "SELECT * FROM IDontWantToUseGlobalKeyword" );
} 
```

一个解决方案是在 $_ENV 数组中声明 mysqli 变量，但我不想使用 $_ENV 来管理 MYSQLI，我想使用像 DB 这样的静态类（这可能吗？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T11:11:05.457

毕竟，我找到了解决方案：

```
global $mysqli;
$mysqli = new mysqli( ... );

class DB  {
  public static function getConnection()
  {
     global $mysqli;
     return $mysqli;
  }
 ...
}

$mysqli->query( "SELECT * FROM myDB" );

class AnotherClass {  
  function helloWorld()
  {
     $db = DB :: getConnection();
     $db->query( "SELECT * FROM withoutUsingGlobalKeyword" );
  }
}

class DBAccess {
   public $db;
   function __construct()
   {
      $this->db = DB :: getConnection();
   }
}

class MultipleMethodDBSupport extends DBAccess {
   function __construct()
   {
       parent :: __construct();
   }

   function m1()
   {
      $this->db->query( "SELECT * FROM withoutUsingGlobalKeyword" );
   }

   function m2()
   {
      $this->db->query( "SELECT * FROM withoutUsingGlobalKeyword" );
   }
}

function functions()
{
    $db = DB :: getConnection();
    $db->query( "SELECT * FROM withoutUsingGlobalKeyword" );
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:11:09.277

这属于[组合而不是继承](http://en.wikipedia.org/wiki/Composition_over_inheritance)。使用您提供的示例，将类传递给 mysql 对象会更好。

```
Class DB {
    protected $mysqli;
    function __construct( Mysqli $mysqli ) {
        $this->mysqli = $mysqli;
    }
    function helloWorld() {
        $this->mysqli->query( "SELECT * FROM IDontWantToUseGlobalKeyword" );
    }
}

$db = new DB( new mysqli(...) );
$db->helloWorld(); 
```

您的示例似乎不需要任何继承。

# java - 如何将应用程序安装到 Windows CE 7 映像中？

> ID：10680107
> 
> 赞同：1
> 
> 时间：2012-05-21T05:55:32.537
> 
> 标签：java, installation, windows-ce, android-sdk-2.3

我正在寻找有关如何安装或更好地说明如何将应用程序集成到 Windows CE 7 运行时映像的指南。

具体来说，我需要将 Android SDK 安装到 Win CE 7 Image 中。如果不可能，那么任何人都可以说是否可以在首次启动后安装它。同样的问题也可以应用于嵌入式设备的 Java JRE。在我的情况下，我有基于 ARM 7 的板，有足够的资源来运行 Win CE 7。事实上，我设法安装了它。现在我需要Java。

这个问题可以很容易地扩展到其他应用程序。安装您制作的东西总是很简单，并且知道您需要运行哪些注册表项、驱动程序和其他应用程序，但如果是第三方，您必须自己询问或尝试。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T13:41:23.493

你的问题是模糊的或广泛的。我不确定是哪个。

如果您想知道如何将某些应用程序或 DLL 与平台集成，那么有一个使用 REG/BIB 和 DAT 文件的通用方法。这适用于您自己的第三方应用程序。这是将*任何*文件放入操作系统映像、Java 或其他方式的方式。这在[这里](https://stackoverflow.com/questions/9394882/add-cab-file-to-the-os-design)和[这里都有介绍](https://stackoverflow.com/questions/5636508/how-can-i-load-third-party-dll-com-dll-in-atl-application-with-wince-5-0-rtos)

如果您问的是用于 CE 的 JVM，那是一个完全不同的问题，已经[在此处](https://stackoverflow.com/questions/55322/jvm-choices-on-windows-mobile)、[此处](https://stackoverflow.com/questions/882732/is-it-possible-to-run-java-programs-on-windows-ce)、[此处](https://stackoverflow.com/questions/1514252/java-vm-best-choice-for-windows-ce)和[此处](https://stackoverflow.com/questions/517906/java-me-on-windows-mobile)进行了回答。

现在，当您谈论“SDK”，即“软件开发人员工具包”时，听起来您几乎想在您的 CE 设备上*开发*android 应用程序。这有点被问到（并且没有正确回答）[，](https://stackoverflow.com/questions/1161640/compiler-for-windows-mobile-os)但答案几乎是“真的没有工具，你为什么要这样做呢？”

# mysql - 如何在数据库表列中搜索多个字符串？

> ID：10680108
> 
> 赞同：1
> 
> 时间：2012-05-21T05:55:42.533
> 
> 标签：mysql, sql, ruby-on-rails, ruby, ruby-on-rails-3

我正在使用 Rails 3.2.2 和 MySQL。我正在通过用户名（例如，、、、）搜索`John`数据库`Anthony`表`Mark`列：

```
# User controller
User.search_by_name(params[:search]).order(:name)

# User model
def self.search_by_name(search)
  if search
    where('users.name LIKE ?', "%#{search}%")
  else
    scoped
  end
end 
```

但是，由于名称可以由两个或多个字符串组成（例如，`John Henry`或`Henry John`，`Anthony Maria`或`Maria Anthony`，`Mark Alfred`或`Alfred Mark`），*我想在`params[:search]`提供多个名称*时也搜索用户。我试着用

```
def self.search_by_name(search)
  if search
    search.split(' ').each do |string|
      where('users.name LIKE ?', "%#{string}%")
    end
  else
    scoped
  end
end 
```

但我收到以下错误（例如，鉴于我正在搜索`John Henry`）：

```
NoMethodError (undefined method `order' for ["John", "Henry"]:Array). 
```

*如何正确搜索多个名称？*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T09:08:34.793

I totally think you should do one of the following,

## Mysql full text search:

[http://devzone.zend.com/26/using-mysql-full-text-searching/](http://devzone.zend.com/26/using-mysql-full-text-searching/)

## SphinxSearch:

[http://www.ibm.com/developerworks/library/os-php-sphinxsearch/](http://www.ibm.com/developerworks/library/os-php-sphinxsearch/)

*   I recommend sphinxsearch since I use it with various cool features built in with it.
*   Support for sphinx is amazing too!

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T10:24:36.683

使用 squeel 宝石。

```
def self.search_by_name(search)
  if search
    where(name.like_any search.split)
  else
    scoped
  end
end 
```

请注意，这不会按匹配级别排序。为此，您需要一个搜索引擎实现，例如 sphinx、solr、xapian 的 gems

另请注意，您对每个条件的原始使用是不正确的，因为您的意思是“或”条件。如果您不介意发出与搜索词一样多的数据库查询，您甚至可以伪造匹配级别的排序。

```
def self.search_by_name(search)
  if search
    results = search.split.map do |string|
      where('users.name LIKE ?', "%#{string}%").all
    end.flatten
    ids = results.map(&:id)
    # desc order by count of matches
    ordered_results = results.uniq.order { |result| -ids.count(result.id) }
  else
    scoped.all
  end
end 
```

这不是可以进一步限定范围的 Arel 关系，而是一个普通数组。请注意“全部”调用，因此甚至不要在大型​​数据库上尝试此操作。另请注意，如果搜索是“a b”等，这将不会在“b a”之上订购“a b”。所以我有点开心。

# ios - 设置UITabBar的高度

> ID：10680111
> 
> 赞同：6
> 
> 时间：2012-05-21T05:55:58.677
> 
> 标签：ios, tabbar

我通过设置每个项目的图像创建了一个简单的自定义标签栏，如下所示：

```
UITabBar *tabBar = self.tabBarController.tabBar;
UITabBarItem *item0 = [tabBar.items objectAtIndex:0];
UITabBarItem *item1 = [tabBar.items objectAtIndex:1];
UITabBarItem *item2 = [tabBar.items objectAtIndex:2];

[item0 setFinishedSelectedImage:[UIImage imageNamed:@"activity_active.png"] withFinishedUnselectedImage:[UIImage imageNamed:@"activity.png"]];
[item1 setFinishedSelectedImage:[UIImage imageNamed:@"agenda_active.png"] withFinishedUnselectedImage:[UIImage imageNamed:@"agenda.png"]];
[item2 setFinishedSelectedImage:[UIImage imageNamed:@"settings_active.png"] withFinishedUnselectedImage:[UIImage imageNamed:@"settings.png"]]; 
```

虽然这很好用，但我注意到我的标签栏下方有一个黑色空白区域

![在此处输入图像描述](../Images/f73a4f927f996150213a5bd73002ed20.png)

我的图像高度为 44 像素，但我认为我必须以某种方式更改标签栏的高度。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-22T05:27:05.110

tabBar 本身是 49px，它在图像后面（可能在 中）呈现为黑色`[UITabBar layoutSubviews]`。然后您的图像将呈现在顶部。偏移的原因是因为你提供的图片太大，UITabBar 需要 30x30px 的图标，而不是整个 UITabBarItem 的图片。

这里有几件事可以尝试：

1.  只提供一个 30x30px 的图标，而不是整个标签按钮
2.  在选项卡项目上设置图像后，试试这个： `[item setImageInsets:UIEdgeInsetsMake(6, 0, -6, 0)]; // play with insets until it renders correctly`
3.  子类 UITabBar 并覆盖`layoutSubviews`到 first call `super`，然后根据需要重新定位您的图像。不推荐，它可能会在未来的 iOS 版本中中断。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T05:58:15.273

利用 -

```
tabBar.frame=CGRectMake(x,y,w,h); 
```

通过这种方式，您可以设置 xCord、yCord、宽度和高度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-17T10:55:49.237

检查这个：

```
[self.tabBar setFrame:CGRectMake(self.tabBar.frame.origin.x, self.tabBar.frame.origin.y - 30, self.tabBar.frame.size.width, self.tabBar.frame.size.height + 30)]; 
```

# php - 登录代码只会使用 md5 加密密码登录

> ID：10680112
> 
> 赞同：0
> 
> 时间：2012-05-21T05:55:59.897
> 
> 标签：php, security, md5

我创建了一个登录+注册站点。注册页面工作正常，也可以登录，除了当我必须输入密码时，我必须输入加密版本，md5 ...我已经在注册页面完成，以便他们的密码被加密。我怎样才能在登录页面让他们不需要写他们的 md5 密码，只是他们的正常密码？

register.php 看起来像：

```
<?

$reg = @$_POST['reg'];
//declaring variables to prevent errors
$fn = ""; //First Name
$ln = ""; //Last Name
$un = ""; //Username
$em = ""; //Email
$em2 = ""; //Email 2
$pswd = ""; //Password
$pswd2 = ""; // Password 2
$d = ""; // Sign up Date
$u_check = ""; // Check if username exists
//registration form
$fn = strip_tags(@$_POST['fname']);
$ln = strip_tags(@$_POST['lname']);
$un = strip_tags(@$_POST['username']);
$em = strip_tags(@$_POST['email']);
$em2 = strip_tags(@$_POST['email2']);
$pswd = strip_tags(@$_POST['password']);
$pswd2 = strip_tags(@$_POST['password2']);
$d = date("Y-m-d"); // Year - Month - Day

if ($reg) {
if ($em==$em2) {
// Check if user already exists
$u_check = mysql_query("SELECT username FROM users WHERE username='$un'");
// Count the amount of rows where username = $un
$check = mysql_num_rows($u_check);
if ($check == 0) {
//check all of the fields have been filed in
if ($fn&&$ln&&$un&&$em&&$em2&&$pswd&&$pswd2) {
// check that passwords match
if ($pswd==$pswd2) {
// check the maximum length of username/first name/last name does not exceed 25   characters
if (strlen($un)>25||strlen($fn)>25||strlen($ln)>25) {
echo "The maximum limit for username/first name/last name is 25 characters!";
}
else
{
// check the maximum length of password does not exceed 25 characters and is not less   than 5 characters
if (strlen($pswd)>30||strlen($pswd)<5) {
echo "Your password must be between 5 and 30 characters long!";
}
else
{
//encrypt password and password 2 using md5 before sending to database
$pswd = md5($pswd);
$pswd2 = md5($pswd2);
$query = mysql_query("INSERT INTO users VALUES       ('','$un','$fn','$ln','$em','$pswd','$d','0')");
die("<h2>Welcome to InstaWord!</h2>Login to your account to get started ...");
}
}
}
else {
echo "Your passwords don't match!";
}
}
else
{
echo "Please fill in all of the fields";
}
}
else
{
echo "Username already taken ...";
}
}
else {
echo "Your E-mails don't match!";
}
}
?>
<table class="homepageTable">
   <tr>
       <td width="60%" valign="top">
        <h2>Share your texts!</h2>
        <img src="img/animation.gif" width="930">
       </td>
       <td width="40%" valign="top">
        <h2>Sign up</h2>
       <form action="#" method="post">
       <input type="text" size="25" name="fname" placeholder="First Name" value="<? echo   $fn; ?>">
       <input type="text" size="25" name="lname" placeholder="Last Name" value="<? echo $ln; ?>">
       <input type="text" size="25" name="username" placeholder="Username" value="<?   echo $un; ?>">
       <input type="text" size="25" name="email" placeholder="Email" value="<? echo $em; ?>">
       <input type="text" size="25" name="email2" placeholder="Repeat Email" value="<? echo $em2; ?>">
       <input type="password" size="25" name="password" placeholder="Password">
       <input type="password" size="25" name="password2" placeholder="Repeat Password">  <br />
       <input type="submit" name="reg" value="Sign Up!">
       </form>
       </td>
      </tr>
     </table>
   </body>
 </html> 
```

login.php 看起来像这样：

```
 <?php

session_start();

//This displays your login form

function index(){

echo "<form action='?act=login' method='post'>" 

."Username: <input type='text' name='username' size='30'><br>"

."Password: <input type='password' name='password' size='30'><br>"

."<input type='submit' value='Login'>"

."</form>"; 

}

//This function will find and checks if your data is correct

function login(){

//Collect your info from login form

$username = $_REQUEST['username'];

$password = $_REQUEST['password'];

//Connecting to database

$connect = mysql_connect("myserver", "username", "password");

if(!$connect){

die(mysql_error());

}

//Selecting database

$select_db = mysql_select_db("database_name", $connect);

if(!$select_db){

die(mysql_error());

}

//Find if entered data is correct

$result = mysql_query("SELECT * FROM users WHERE username='$username' AND password='$password'");

$row = mysql_fetch_array($result);

$id = $row['id'];

$select_user = mysql_query("SELECT * FROM users WHERE id='$id'");

$row2 = mysql_fetch_array($select_user);

$user = $row2['username'];

if($username != $user){

die("Username is wrong!");

}

$pass_check = mysql_query("SELECT * FROM users WHERE username='$username' AND id='$id'");

$row3 = mysql_fetch_array($pass_check);

$email = $row3['email'];

$select_pass = mysql_query("SELECT * FROM users WHERE username='$username' AND id='$id' AND email='$email'");

$row4 = mysql_fetch_array($select_pass);

$real_password = $row4['password'];

if($password != $real_password){

die("Your password is wrong!");

}

//Now if everything is correct let's finish his/her/its login

session_register("username", $username);

session_register("password", $password);

echo "Welcome, ".$username." please continue on our <a href=index.php>Index</a>";

}

switch($act){

default;

index();

break;

case "login";

login();

break;

}

?> 
```

请帮我解决这个问题...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T05:59:31.870

您在登录时没有使用 md5 进行检查....

使用**$password = md5($_REQUEST['password'])** ; 在你的`login function()`.

这将获取普通密码并使用数据库中的加密版本检查它，然后将成功登录用户。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T05:59:50.303

您不应该将 a`strip_tags()`应用于`$_POST['password']`，只需将传入值提供给密码散列函数。

为了保护您的用户密码，您需要做`md5`的比散列密码更好。你需要

1.  更好的哈希算法：BCrypt hash
2.  添加随机盐值

好消息是你可以使用一个插件库并使用它：[PHPass](http://www.openwall.com/phpass/)

```
require('PasswordHash.php');

$pwdHasher = new PasswordHash(8, FALSE);

// $hash is what you would store in your database
$hash = $pwdHasher->HashPassword( $_POST['password'] );

// $hash would be the $hashed stored in your database for this user
$checked = $pwdHasher->CheckPassword($_POST['password'], $hash);
if ($checked) {
    echo 'password correct';
} else {
    echo 'wrong credentials';
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T05:59:14.437

当您将详细信息传递给 sql 查询并检查正确的登录详细信息时，使用 md5() 加密输入密码。

```
$password_encrypt = md5($password);
$result = mysql_query("SELECT * FROM users WHERE username='$username' AND password='$password_encrypt '"); 
```

# android - 安卓应用锁

> ID：10680115
> 
> 赞同：5
> 
> 时间：2012-05-21T05:56:30.243
> 
> 标签：android

如何为 android mobile 制作应用程序锁定。如何锁定应用程序。我已经锁定了主屏幕，即整个手机，但我不确定如何锁定特定的应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-25T06:52:32.020

对于这种情况，您需要捕获侦听器事件以锁定已安装的应用程序..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-24T00:23:56.200

Android SDK 目前不支持可靠地执行此操作。当前市场上的应用程序锁定应用程序并不可靠，因为它们会利用安全漏洞并在您尝试运行给定应用程序时将自己置于前台。如果您知道如何绕过，则可以轻松绕过它，并且他们利用的安全漏洞有望被关闭。对不起。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:24:37.967

我不得不说我不太明白你想要做什么。

如果您试图阻止人们在下载应用程序后使用它，我能想到的唯一方法是向服务器发出 HTTP(S) 请求，该请求的标识符在应用程序首次运行时设置并检查DB 看看它是否可以运行（设置一个布尔标志`shouldRun`或类似的东西）。

如果您想防止它从一部手机复制到另一部手机，您可以使用 Google Play 内置选项来阻止它。

如果这是您想要实现的目标，您可能也应该混淆您的代码

**[android上的混淆代码](https://stackoverflow.com/questions/2531187/android-and-obfuscation)**

# c++ - C++中实例变量的算法初始化

> ID：10680116
> 
> 赞同：1
> 
> 时间：2012-05-21T05:56:43.753
> 
> 标签：c++, constructor, initialization, design-patterns, instance-variables

我使用 Java 已经很长时间了，但在习惯 C++ 编程风格时遇到了问题。

我们如何管理如下场景：

*   实例变量是不能使用默认构造函数创建的对象。在 java 构造函数中，参数可以在更高级别的类构造函数中决定。

*   实例变量是一种引用类型，我们需要在构造函数中运行一个简单的算法（条件、计算……），然后创建一个对象并将其分配给该引用。

可能有类似的场景，我们需要在构造函数初始化列表以外的地方初始化实例变量。我猜 GCC 会允许这样做（发出警告），但 VC++ 似乎不允许这样做。

我想其中大部分都可以使用指针来完成，但我尽量避免使用指针（以尽量减少运行时崩溃和难以调试的问题）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:18:03.197

> *   实例变量是不能使用默认构造函数创建的对象。在 java 构造函数中，参数可以在更高级别的类构造函数中决定。

```
class A {
public:
  A(int n);
}

class B {
public:
  B(int n) : a1(n), a2(n+1) {}
private:
  A a1, a2;
} 
```

> *   实例变量是一种引用类型，我们需要在构造函数中运行一个简单的算法（条件、计算……），然后创建一个对象并将其分配给该引用。

```
static int n = 1;
static int m = 2;
class A {
public:
  A(bool useN) : ref(useN ? n : m) {}
private:
  int &ref;
} 
```

您可以在（静态）辅助函数中隐藏更复杂的计算，当然，`ref(f(parameters))`在初始化列表中。

如果您需要先创建一个对象，然后将其分配给引用，那么该对象主要存在于哪里？毕竟，参考只是指着别人说“那是我，在那边”。如果您的外部对象实际上是拥有该对象的对象，则您不需要引用。您要么想要一个对象，要么想要一个智能指针。

Java 引用可能最接近 C++11 `std::shared_ptr`，它是标准库中强烈推荐用于日常使用的智能指针之一。在这种设置中，您可能还需要考虑`std::uniqe_ptr`，它的开销较小，但有限制。它要求您创建正确的复制构造函数这一事实是否是一个问题，这是一个品味问题——通常情况下，默认构造函数的组合`shared_ptr`并不是您想要的行为，无论如何。

远离`std::auto_ptr`，这只是为了向后兼容的语言 - 在很多情况下正确使用它是很棘手的。

# jsp - jsp中的后退按钮重定向到登录页面而不注销

> ID：10680117
> 
> 赞同：0
> 
> 时间：2012-05-21T05:56:43.640
> 
> 标签：jsp, servlets

我正在研究 Jsp-servlet。我有 3 个 jsp 页面。一个用于登录，成功登录后它将显示员工的记录然后注销。所以我的问题是注销后当我按下后退按钮时它会显示员工的记录，所以我禁用后退按钮并清除缓存.并将其重定向到登录页面

但是现在的问题是，当用户成功登录后，在他的记录页面上，如果他按下返回按钮，登录页面就会显示而无需按注销。对此有什么解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:19:30.370

You can disable back button ,but you should not do it like this , instead you should tell the browser not to cache the page , which is being loaded from the cache on back button after logout . Servlet Filters would be best suited for pre-process the request .You could do something like this in your filter :

```
response.setHeader("Cache-Control","no-cache"); 
```

I think in your case you might have been clearing the cookies too , which would invalidate the session and would redirect you to login page as you implemented . It would be better if you can provide the code .

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-30T17:53:03.307

当我们按下后退按钮时，会话不会失效。这不是因为缓存（尝试在显示员工仪表板的页面中打印日期。每次我们按下前进按钮时，新请求都会发送到服务器）。

我添加了： response.setHeader("Cache-Control", "private, no-store, no-cache, must-revalidate"); response.setHeader("Pragma", "no-cache"); response.setDateHeader("过期", 0); 但它不锻炼。

所以你可能需要添加一个java脚本来禁用你的后退按钮（客户端可能禁用js，所以不是解决方案）或者另一个解决方案是在你的第一个jsp中添加一个条件，即只有当用户名（或您正在使用的任何属性）在会话中为空。

如果您按下返回按钮，即如果会话没有失效，那么用户名仍然存在，您可以只显示已经登录的人并在那里提供注销按钮。

或者，您可以在 LoginPage jsp 中检查 sessionAttribute 中的 session 参数，而不是 null 使会话无效。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-09-19T13:06:40.800

```
<script>

$(document).ready(function() {
    function disableBack() { window.history.forward() }

    window.onload = disableBack();
    window.onpageshow = function(evt) { if (evt.persisted) disableBack() }
});
</script> 
```

我们只能在该 jsp 页面上使用 java 脚本禁用后退键。

# javascript - twitter bootstrap typeahead 是否支持远程数据源？

> ID：10680120
> 
> 赞同：5
> 
> 时间：2012-05-21T05:56:56.823
> 
> 标签：javascript, twitter-bootstrap

typeahead 功能是否支持 twitter-bootstrap 2.0.3 版中的远程数据源？

打字头功能的链接 [http://twitter.github.com/bootstrap/javascript.html#typeahead](http://twitter.github.com/bootstrap/javascript.html#typeahead)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T11:55:56.273

你试过了吗：

```
$('.typeahead').typeahead({
    source: function (query, typeahead) {
        return $.post('/typeahead', { query: query }, function (data) {
            return typeahead.process(data);
        });
    }
}); 
```

# extjs - 失去焦点后保持焦点等级的按钮

> ID：10680122
> 
> 赞同：2
> 
> 时间：2012-05-21T05:57:02.347
> 
> 标签：extjs, focus, extjs4, blur, extjs4.1

我在网格面板的底部工具栏中有一些按钮，用于控制从行编辑网格中添加和删除记录。

处理程序非常简单：“new”按钮创建模型的一个实例，附加到网格，然后在新行上打开一个行编辑器；“编辑”按钮只是打开所选行的行编辑器；“删除”从存储中销毁记录并刷新网格视图。

出于某种原因，这些按钮在获得焦点时不会失去为它们提供边框的焦点类。这是一张图片：

![在此处输入图像描述](../Images/fbd2ccadc069c75845242217eed12949.png)

在图片中，“新建”按钮和“删除”按钮都有焦点类，当我按下“编辑”按钮时，即使在执行完整的行编辑操作并关闭行编辑器之后，它也会保留焦点类。

我确实发现，当我将鼠标放在这些永久“聚焦”按钮之一上，然后将鼠标移离它然后单击其他东西时，焦点类就会消失。

我知道我可以在我各自的控制器中为所有按钮组件放置一个模糊处理程序，但我认为这个功能是内置的，所以我想看看文档中是否有我遗漏的东西。

它不会放弃的课程是：

`x-focus x-btn-focus x-btn-default-toolbar-small-focus`

这是 Windows 7 上 FF10 中的 ExtJS 4.1.0。但我确实注意到 ExtJS 4.02 和 4.07 中的类似行为，只是直到现在才需要处理它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T18:15:39.043

我发现它是什么：

在每个按钮的处理程序链中的某个点，该按钮被禁用。当在 ExtJS 中禁用按钮时，它会阻止`blur`事件触发。

有必要禁用按钮，因此简单地添加`button.blur()`处理程序的解决方案是正确的方法。

# ios - 给定 App ID，您如何确定 iOS 应用程序的应用商店（国家/地区）可用性？

> ID：10680125
> 
> 赞同：5
> 
> 时间：2012-05-21T05:57:29.147
> 
> 标签：ios, app-store

给定 App ID，您如何确定 iOS 应用程序的应用商店（国家/地区）可用性？有些人发布了类似的问题，但在应用程序“内部”。我正在寻找应用程序“外部”的答案，就像在标准浏览器上一样。我知道这样做的蛮力方法是解析每个国家/地区代码并查看它是否返回一些数据，但我正在寻找一种以更具战略性的方式进行操作的方法。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-21T06:38:20.987

典型的 App Store URL 如下所示：http: [//itunes.apple.com/us/app/id494732564](http://itunes.apple.com/us/app/id494732564)

只需将“我们”替换为另一个国家/地区代码，以查看其在该国家/地区是否可用，包括任何本地化。例如，上面的同一个应用程序在德语 (de) 中：http: [//itunes.apple.com/de/app/id494732564](http://itunes.apple.com/de/app/id494732564)

希望这不是您对“蛮力”的定义。

# regex - 这个 BASH 正则表达式有什么问题

> ID：10680127
> 
> 赞同：2
> 
> 时间：2012-05-21T05:57:46.013
> 
> 标签：regex, bash

```
$ reg='(\.js)|(\.txt)|(\.html)$'
$ [[ 'flight_query.jsp' =~ $reg ]]
$ echo $?
0 
```

*.jsp 不应该基于正则表达式匹配，但实际上没有。

有什么建议么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-21T06:25:41.200

删除了一条有用的评论。该评论表明运算符优先级是正则表达式通过的原因。他建议使用以下正则表达式作为修复。

```
$ reg='(\.js|\.txt|\.html)$'
$ if [[ 'flight_query.jsp' =~ $reg ]]; then echo 'matches'; else echo "doesn't match"; fi
doesn't match
$ if [[ 'flight_query.js' =~ $reg ]]; then echo 'matches'; else echo "doesn't match"; fi
matches 
```

这个正则表达式也有效`(\.js$)|(\.txt$)|(\.html$)`。

# php - 支付网关实施

> ID：10680134
> 
> 赞同：3
> 
> 时间：2012-05-21T05:59:00.567
> 
> 标签：php, mysql, payment-gateway

我正在用 PHP 将其中一个支付网关集成到我的网站，在继续之前，由于我是新手，我有一些疑问（用例/场景），所以我需要一个解决方案来处理这些场景。我在这里列出了它们

**1）** 如何将唯一ID传递给支付网关，虽然它认为它是一个订单号，但在实际场景中，订单号/ID只有在交易成功时才会生成。我想向支付网关发送一个随机数。交易成功后，我可以存储在 Order 表中。

**表：订单**

1）aID：（独特的，主要的，人工智能）

2) RandomNo(唯一)

3) 订购日期

这是一个好主意吗

**2)**向用户显示哪个 ID 作为**ORDER ID**，**aID 或 RandomNO**

**3)**我是否需要将来自支付网关的响应存储在数据库中，例如支付 ID（唯一）、响应代码、订单号和金额。它将如何有用。

**4)**支付网关集成后可能出现的场景有哪些，如何处理

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-21T06:07:34.173

1）如何将唯一ID传递给支付网关，虽然它认为它是一个订单号，但在实际场景中，订单号/ID只有在交易成功时才会生成。我想向支付网关发送一个随机数。交易成功后，我可以存储在 Order 表中。

**ANS**：首先在重定向到支付网关之前在数据库中插入订单，并使用该插入的唯一 ID 作为订单 ID。

2) 向用户显示哪个 ID 作为 ORDER ID，aID 或 RandomNO

**ANS** : 上面提到的订单ID可以显示给用户。

3) 我是否需要将来自支付网关的响应存储在数据库中，例如支付 ID（唯一）、响应代码、订单号和金额。它将如何有用。

**答**：是的！您必须存储来自支付网关的响应，因为您将来可能需要它以防出现任何争议。

4) 支付网关集成后可能出现的场景有哪些，如何处理

**ANS**：我没有让你回答这个问题。

# c# - 在C#中读取excel文件的有效方法

> ID：10680140
> 
> 赞同：0
> 
> 时间：2012-05-21T05:59:23.463
> 
> 标签：c#, excel, file

我想阅读一个巨大的 excel 文件工作簿，我还想修改工作簿中的一些行。

通过结构准备和保存是一个复杂的过程，还有其他有效的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:02:58.420

我不知道您对“巨大”的想法是什么样的，但之前我使用[NativeExcel](http://www.nika-soft.com/nativeexcelnet/index.htm)来访问和创建 Excel 文件。它*比*普通的 Excel API 快得多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:35:58.003

我认为最好使用 OLEDB 或[http://openexcel.codeplex.com/](http://openexcel.codeplex.com/)。

您可以选择其中任何一个。更多详细信息，请参见。

[http://www.codeproject.com/Articles/8500/Reading-and-Writing-Excel-using-OLEDB](http://www.codeproject.com/Articles/8500/Reading-and-Writing-Excel-using-OLEDB)

[http://openexcel.codeplex.com/](http://openexcel.codeplex.com/)

OpenExcel 是开源且很酷的库。

# c# - 如何在 jquery 中使用 c# 代码动态传递值？

> ID：10680145
> 
> 赞同：0
> 
> 时间：2012-05-21T05:59:34.157
> 
> 标签：c#, javascript, jquery, asp.net, visual-studio

如何使用 jquery 在 c# 代码中动态传递值。

我正在 Visual Studio.NET 中使用 jQuery 开发时间选择器控件。我传递值静态它工作正常，但如何动态传递值任何人都知道请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:04:22.547

我不知道动态传递是什么意思，但也许您可以尝试使用隐藏字段控件将值存储在其中。因此，每次更改时间选择器时，都会更新隐藏字段的值。喜欢，

```
$('[id$=hiddenfieldId]').val()=$("#datepicker").datepicker({dateFormat: 'dd-mm-yyyy'}) 
```

# internet-explorer - FB.XFBML.parse() 滚动浏览器到最后加载的评论/喜欢在 IE 和 Firefox 中

> ID：10680149
> 
> 赞同：0
> 
> 时间：2012-05-21T06:00:02.627
> 
> 标签：internet-explorer, firefox, facebook-social-plugins

这是关于我在 IE 和 Firefox 中加载时的画布应用程序。

我正在使用分页。现在假设第一页有一个评论框，它的加载很好（不知道为什么？）。现在，我使用 ajax 请求下一页。再次使用 FB.XFBML.parse() 并且这个页面也有一些评论框。但是这次页面向下滚动到最后加载的评论框。

我尝试同时使用 HTML5 和 XFBML 插件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:20:03.337

似乎是 fb js 的问题，它尝试解析 XFBML，然后将焦点移动到当前解析的元素。检查 all.js 中的 f.parse = (function () { ....

我知道这不是最合适的解决方案，但请尝试

```
FB.Canvas.scrollTo(0,0); 
```

关于 FB.XFBML.parse 的回调。

# javascript - jquery点击功能不起作用

> ID：10680156
> 
> 赞同：1
> 
> 时间：2012-05-21T06:00:31.643
> 
> 标签：javascript, jquery, html, css

当我将以下代码直接粘贴到浏览器中时（chrome 控制台），它正在工作。但它不适用于我的源文件

```
<script type="text/javascript" >
        $(".test").click(function(){
            $(this).parent().find("div").toggle();
        });
    </script> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T06:01:34.653

仅在 DOM 准备好后尝试运行它：

```
$(function(){

  $(".test").on("click", function(){
    $(this).parent().find("div").toggle();
  });

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:04:02.863

尝试通过编写 jQuery 替换 $ ..

像，

jQuery（函数（）{

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:04:17.490

确保包含在 document.ready 函数中。它确保它会在页面加载完成时绑定函数。[Document.ready()](http://api.jquery.com/ready/)

```
$(document).ready(function(){

  $(".test").on("click", function(){
    $(this).parent().find("div").toggle();
  });

}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T06:04:17.803

使用 jquery 时总是这样做

```
$('document').ready(function(){
     $(function(){
        $(".test").on("click", function(){
        $(this).parent().find("div").toggle();
        });
     });
}); 
```

始终将代码放在函数中，这将使它可以使用和准备好文档。

# android - 使用 HttpDownload 我必须在 Android 中获取图像

> ID：10680159
> 
> 赞同：0
> 
> 时间：2012-05-21T06:00:41.547
> 
> 标签：android, image, http

在这里，我尝试从 Url Connection 检索图像，但我无法获取，请帮助解决此问题

HttpDownloadActivity.java 编码

包 com.HttpDownload;

```
import android.app.Activity;
import android.os.Bundle;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLConnection;
import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.parsers.ParserConfigurationException;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import org.xml.sax.SAXException;
import android.app.Activity;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.Bundle;
import android.widget.ImageView;
import android.widget.TextView;
import android.widget.Toast;

public class HttpDownloadActivity extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        System.out.print("HI.....");
        Bitmap bitmap =
                DownloadImage(
                "http://bestpropertyworld.com/photos/blue-fish.jpg");
       ImageView img = (ImageView) findViewById(R.id.img);
                img.setImageBitmap(bitmap);
            /*  String str =
                        DownloadText("http://www.appleinsider.com/appleinsider.rss");
                        txt = (TextView) findViewById(R.id.text);
                        txt.setText(str);*/
    }

private Bitmap DownloadImage(String URL)
{
    System.out.print("Bitmap DownloadImage");
Bitmap bitmap = null;
InputStream in = null;
try {
in = OpenHttpConnection(URL);
bitmap = BitmapFactory.decodeStream(in);
in.close();
} catch (IOException e1) {
// TODO Auto-generated catch block
e1.printStackTrace();
}
return bitmap;
}
    private InputStream OpenHttpConnection(String urlString)
            throws IOException
            {
        System.out.print("InputStream OpenHttpConnection");
            InputStream in = null;
            int response = -1;
            URL url = new URL(urlString);
            URLConnection conn = url.openConnection();
            if (!(conn instanceof HttpURLConnection))
            throw new IOException("Not an HTTP connection");
            try{
            HttpURLConnection httpConn = (HttpURLConnection) conn;
            httpConn.setAllowUserInteraction(false);
            httpConn.setInstanceFollowRedirects(true);
            httpConn.setRequestMethod("GET");
            httpConn.connect();
            response = httpConn.getResponseCode();
            if (response == HttpURLConnection.HTTP_OK) {
            in = httpConn.getInputStream();
            }
            }
            catch (Exception ex)
            {
            throw new IOException("Error connecting");
            }
            return in;
            }

} 
```

main.xml 编码

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:orientation="vertical"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
>
<ImageView
android:id="@+id/img"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_gravity="center"
/>
<TextView
android:id="@+id/text"
android:textStyle="bold"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
/>
</LinearLayout> 
```

Mainfest编码：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.HttpDownload"
    android:versionCode="1"
    android:versionName="1.0" >
    <uses-permission android:name="android.permission.INTERNET" />

    <uses-sdk android:minSdkVersion="15" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity
            android:name=".HttpDownloadActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest> 
```

在 logcat 中输出

```
05-21 11:13:53.296: D/AndroidRuntime(620): >>>>>> AndroidRuntime START com.android.internal.os.RuntimeInit <<<<<<
05-21 11:13:53.296: D/AndroidRuntime(620): CheckJNI is ON
05-21 11:13:54.166: D/AndroidRuntime(620): Calling main entry com.android.commands.pm.Pm
05-21 11:13:54.216: D/AndroidRuntime(620): Shutting down VM
05-21 11:13:54.226: D/dalvikvm(620): GC_CONCURRENT freed 101K, 78% free 463K/2048K, paused 1ms+1ms
05-21 11:13:54.236: D/dalvikvm(620): Debugger has detached; object registry had 1 entries
05-21 11:13:54.270: I/AndroidRuntime(620): NOTE: attach of thread 'Binder Thread #3' failed
05-21 11:13:54.836: D/AndroidRuntime(633): >>>>>> AndroidRuntime START com.android.internal.os.RuntimeInit <<<<<<
05-21 11:13:54.836: D/AndroidRuntime(633): CheckJNI is ON
05-21 11:13:55.646: D/AndroidRuntime(633): Calling main entry com.android.commands.am.Am
05-21 11:13:55.686: I/ActivityManager(87): START {act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10000000 cmp=com.HttpDownload/.HttpDownloadActivity} from pid 633
05-21 11:13:55.686: W/WindowManager(87): Failure taking screenshot for (180x300) to layer 21005
05-21 11:13:55.736: W/NetworkManagementSocketTagger(87): setKernelCountSet(10043, 1) failed with errno -2
05-21 11:13:55.746: D/AndroidRuntime(633): Shutting down VM
05-21 11:13:55.766: D/dalvikvm(633): GC_CONCURRENT freed 102K, 77% free 485K/2048K, paused 1ms+2ms
05-21 11:13:55.777: D/dalvikvm(633): Debugger has detached; object registry had 1 entries
05-21 11:13:55.816: I/AndroidRuntime(633): NOTE: attach of thread 'Binder Thread #3' failed
05-21 11:13:56.186: W/System.err(565): java.io.IOException: Error connecting
05-21 11:13:56.186: W/System.err(565):  at com.HttpDownload.HttpDownloadActivity.OpenHttpConnection(HttpDownloadActivity.java:83)
05-21 11:13:56.226: W/System.err(565):  at com.HttpDownload.HttpDownloadActivity.DownloadImage(HttpDownloadActivity.java:51)
05-21 11:13:56.246: I/Process(87): Sending signal. PID: 565 SIG: 3
05-21 11:13:56.246: I/dalvikvm(565): threadid=3: reacting to signal 3
05-21 11:13:56.296: W/System.err(565):  at com.HttpDownload.HttpDownloadActivity.onCreate(HttpDownloadActivity.java:35)
05-21 11:13:56.296: W/System.err(565):  at android.app.Activity.performCreate(Activity.java:4465)
05-21 11:13:56.307: W/System.err(565):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
05-21 11:13:56.307: W/System.err(565):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920)
05-21 11:13:56.307: W/System.err(565):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
05-21 11:13:56.307: W/System.err(565):  at android.app.ActivityThread.access$600(ActivityThread.java:123)
05-21 11:13:56.316: W/System.err(565):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
05-21 11:13:56.316: I/dalvikvm(87): Jit: resizing JitTable from 4096 to 8192
05-21 11:13:56.326: W/System.err(565):  at android.os.Handler.dispatchMessage(Handler.java:99)
05-21 11:13:56.326: W/System.err(565):  at android.os.Looper.loop(Looper.java:137)
05-21 11:13:56.326: I/dalvikvm(565): Wrote stack traces to '/data/anr/traces.txt'
05-21 11:13:56.346: W/System.err(565):  at android.app.ActivityThread.main(ActivityThread.java:4424)
05-21 11:13:56.346: W/System.err(565):  at java.lang.reflect.Method.invokeNative(Native Method)
05-21 11:13:56.346: W/System.err(565):  at java.lang.reflect.Method.invoke(Method.java:511)
05-21 11:13:56.356: W/System.err(565):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
05-21 11:13:56.366: W/System.err(565):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
05-21 11:13:56.366: W/System.err(565):  at dalvik.system.NativeStart.main(Native Method)
05-21 11:13:56.596: D/dalvikvm(87): GC_CONCURRENT freed 330K, 14% free 11313K/13127K, paused 6ms+10ms
05-21 11:13:56.796: I/Process(87): Sending signal. PID: 565 SIG: 3
05-21 11:13:56.796: I/dalvikvm(565): threadid=3: reacting to signal 3
05-21 11:13:56.806: I/dalvikvm(565): Wrote stack traces to '/data/anr/traces.txt'
05-21 11:13:56.896: I/ActivityManager(87): Displayed com.HttpDownload/.HttpDownloadActivity: +1s169ms
05-21 11:13:57.196: W/InputManagerService(87): Starting input on non-focused client com.android.internal.view.IInputMethodClient$Stub$Proxy@415b29b0 (uid=10013 pid=184)
05-21 11:13:57.246: W/NetworkManagementSocketTagger(87): setKernelCountSet(10013, 0) failed with errno -2 
```

看来我正在赶上，我不知道确切，在这个过程中帮助我提前谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:05:36.373

从 url 下载图像可以简单地使用

```
 URL url = new URL(address);
 Object content = url.getContent(); 
```

只需检查[`Displaying an Image from the web`](https://sites.google.com/site/androidhowto/diplayinganimage)

# mysql - 从本地文件更新 MySQL 表

> ID：10680162
> 
> 赞同：9
> 
> 时间：2012-05-21T06:00:57.510
> 
> 标签：mysql, sql

我在数据库中有一个表，我想更新我在本地文件上脱机的列。文件本身有两列

1.  与表中的 ID 列对应的 ID，以及
2.  实际值。

我已经能够使用创建新行

```
LOAD DATA INFILE 'file.txt' INTO TABLE table
  FIELDS TERMINATED BY ',' 
```

但是我不确定如何以将文件中的 ID 列连接到表中的 ID 列的方式专门插入值。有人可以帮助使用 SQL 语法吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-21T06:06:59.783

我建议您将数据加载到临时表中，然后使用`INSERT ... SELECT ... ON DUPLICATE KEY UPDATE`; 例如：

```
CREATE TEMPORARY TABLE temptable (
  id  INT UNSIGNED NOT NULL,
  val INT,
  PRIMARY KEY (id)
) ENGINE = MEMORY;

LOAD DATA LOCAL INFILE '/path/to/file.txt' INTO temptable FIELDS TERMINATED BY ',';

INSERT INTO my_table
SELECT id, val FROM temptable
ON DUPLICATE KEY UPDATE val = VALUES(val);

DROP TEMPORARY TABLE temptable; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-05-21T06:17:30.480

另一种方法可能是...

由于您已经知道表名以及 ID 和实际值...您可以做的是...直接将更新语句写入文件，例如

```
update mytable set value_col = value where ID_col = ID;

Second Update Statement

Third Update statement

....... 
```

将文件另存为`*.sql`，`updatescript.sql`然后直接执行该脚本

```
mysql -h <hostname> -u root -p <your_db_name> < "E:/scripts/sql/updatescript.sql" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:27:42.037

这取决于行数，如果它是数百行，则制作一个更新列的脚本并运行它，但如果它是大量的，则将该文件导入一个新表并使用连接更新您的表，然后删除桌子

# iphone - Apple 会批准包含 PDF 和音频文件的应用程序吗？

> ID：10680164
> 
> 赞同：0
> 
> 时间：2012-05-21T06:01:07.403
> 
> 标签：iphone, app-store

我正在开发一个包含音频和 PDF 文件的 iPhone 应用程序。苹果会批准吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:03:23.683

是什么让你认为它不会被批准？我在应用商店有类似的应用程序，这些应用程序都被批准了，没有任何问题。

# xml - XPath 查询 - 布尔条件

> ID：10680168
> 
> 赞同：0
> 
> 时间：2012-05-21T06:01:45.360
> 
> 标签：xml, xpath, xpath-2.0

我有这个 XML 文件，我想找到这些查询：

1.  所有包含图片的书籍
2.  多于一张图片的所有书籍
3.  所有与“拉里·尼文”一起写书的作者

这是 XML：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE inventory SYSTEM "books.dtd">
<inventory>
    <book num="b1">
        <title>Snow Crash</title>
        <author>Neal Stephenson</author>
        <publisher>Spectra</publisher>
        <price>14.95</price>
        <chapter>
            <title>Snow Crash - Chapter A</title>
            <paragraph>
                This is the <emph>first</emph> paragraph.
                <image file="firstParagraphImage.gif"/>
                afetr image...
            </paragraph>
            <paragraph>
                This is the <emph>second</emph> paragraph.
                <image file="secondParagraphImage.gif"/>
                afetr image...
            </paragraph>
        </chapter>
        <chapter>
            <title>Snow Crash - Chapter B</title>
            <section>
                <title>Chapter B - section 1</title>
                <paragraph>
                    This is the <emph>first</emph> paragraph of section 1 in chapter B.
                    <image file="Chapter_B_firstParagraphImage.gif"/>
                    afetr image...
                </paragraph>
                <paragraph>
                    This is the <emph>second</emph> paragraph of section 1 in chapter B.
                    <image file="Chapter_B_secondParagraphImage.gif"/>
                    afetr image...
                </paragraph>
            </section>
        </chapter>
        <chapter>
            <title>Chapter C</title>
            <paragraph>
                This chapter has no images and only one paragraph
            </paragraph>
        </chapter>
    </book>
    <book num="b2">
        <title>Burning Tower</title>
        <author>Larry Niven</author>
        <author>Jerry Pournelle</author>
        <publisher>Pocket</publisher>
        <price>5.99</price>
        <chapter>
            <title>Burning Tower - Chapter A</title>
        </chapter>
        <chapter>
            <title>Burning Tower - Chapter B</title>
            <paragraph>
                This is the <emph>second</emph> paragraph of chapter B in the 2nd book.
                <image file="Burning_Tower_Chapter_B_secondParagraphImage.gif"/>
                afetr image...
            </paragraph>
        </chapter>
    </book>
    <book num="b3">
        <title>Zodiac</title>
        <author>Neal Stephenson</author>
        <publisher>Spectra</publisher>
        <price>7.50</price>
        <chapter>
            <title>Zodiac - Chapter A</title>
        </chapter>
    </book>
    <!-- more books... -->
</inventory> 
```

这是我的答案：

```
1\. /inventory/book[count(image)=1]/title
2\. /inventory/book[count(image)>=1/title
3\. /inventory/book[author=”Larry Niven”][count(author)>1]/author 
```

但是当我用 Java XPath 代码测试这些答案时，它不起作用。

错误在哪里？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:16:05.097

您的前两个问题与`image`文档中的位置有关 - 需要从当前节点搜索并搜索所有子节点（不仅仅是直接子节点）：

```
/inventory/book[count(.//image) = 1]/title
/inventory/book[count(.//image) >= 1]/title 
```

您的最后一个引号有问题（需要使用单引号），并且重复`Larry Niven`. 这是修复：

```
/inventory/book[author='Larry Niven'][count(author) > 1]/author[. != 'Larry Niven'] 
```

请注意，您可以`and`改用：

```
/inventory/book[author='Larry Niven' and count(author) > 1]/author[. != 'Larry Niven'] 
```

# c# - 一旦 checkchanged 事件触发，Modalpopupextender 会隐藏一段时间？

> ID：10680172
> 
> 赞同：0
> 
> 时间：2012-05-21T06:02:08.993
> 
> 标签：c#, asp.net

我在我的网页中使用了 ModalpopupExtender 控件。我有 selectall 选项的复选框，带有 checkchanged 事件和 checkboxlist 控件（带有选项列表）。每当我检查 selectall 选项时，所有其余选项都会被选中，并且 modalpopup 窗口会在很短的时间内不可见，并且当我在 selectall 复选框的 checkchanged 事件中使用代码时，它再次可见，如下所示：

```
ModalPopupExtender1.Show(); 
```

但是我想保留 modalpopup 窗口，因为一旦选中了 selectall 复选框，就不想消失弹出窗口并再次显示。我使用 C# 和 asp.net。请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:45:24.070

您无需返回发球方并从那里选中所有复选框。从客户端脚本执行此操作并从全选复选框中删除 autoPostBack true 属性。

下面的链接帮助您编写 jQuery 脚本。

[使用 jQuery 选中/取消选中 ASP.NET 复选框列表中的所有项目](http://www.dotnetcurry.com/ShowArticle.aspx?ID=236)

# iframe - iFrame 中的 SWFobject：跨域的东西？

> ID：10680174
> 
> 赞同：6
> 
> 时间：2012-05-21T06:02:28.837
> 
> 标签：iframe, flash, embed, swfobject

我有一个带有嵌入式 Flash 文件的简单 html 站点，并在上面使用了 SWFobject。

该站点是 iframe 的 src。如果我打开带有 iframe 的网站，控制台会告诉我……</p>

```
Unsafe JavaScript attempt to access frame with URL file:///experiment/iframe-
test/index.html from frame with URL http://localhost.lan/embed/GYZA. Domains,
protocols and ports must match. -> swfobject.js 
```

我想知道父窗口（其中包含 iframe）与 iframe 内的 swfobjet 有什么关系？因此，如上所述，swfobject 用于将 flash 嵌入到加载到 iframe 中的子页面上。该`iframe-test/index.html`网站刚刚……</p>

```
<body>
    <iframe src="http://localhost.lan/embed/GYZA" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
</body> 
```

… 在上面。而已。为什么我有一个`unsafe javascript attempt here`？

有什么想法吗？先感谢您。

**更新：**嗯，我刚刚意识到这发生在 Youtube 和 Vimeo 以及他们的嵌入式播放器上。我正在使用 chrome 控制台，同样的错误发生在 Youtube 和 Vimeo 上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T23:06:34.183

我刚刚验证了马特的更新问题。

每当 Flash 对象嵌入到跨域 iframe 中时，都会抛出跨域异常。Youtube 和 Vimeo 也是如此。

例如，查看这个嵌入了 iFrame 的 jsfiddle：http: [//jsfiddle.net/bkCdB/](http://jsfiddle.net/bkCdB/)

```
<object width="420" height="315"><param name="movie" value="http://www.youtube.com/v/6V_DsL1x1uY?version=3&amp;hl=en_US"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/6V_DsL1x1uY?version=3&amp;hl=en_US" type="application/x-shockwave-flash" width="420" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T10:23:18.817

不知道这现在是否有任何用处，但是会抛出错误，因为浏览器将`file:///experiment/iframe-test/index.html`和`http://localhost.lan/embed/GYZA`视为两个不同的域，因此浏览器的跨域策略认为这是不安全的。根据用户使用的浏览器，这可能是不安全的 - 您正在加载的远程页面可能包含有害脚本，这些脚本可能会破坏您正在查看的当前页面或尝试窃取各种信息。[你可以在这里](http://softwareas.com/cross-domain-communication-with-iframes)找到更多信息。

# search - 图搜索和树搜索有什么区别？

> ID：10680180
> 
> 赞同：111
> 
> 时间：2012-05-21T06:02:53.117
> 
> 标签：search, artificial-intelligence, a-star, tree-search

*关于人工智能*中的 DFS、A* 搜索，*图搜索*和*树搜索*版本有什么区别？

 ** * *

## 回答 #1

> 赞同：197
> 
> 时间：2013-03-07T20:50:11.227

从现有的答案来看，这个概念似乎有很多混淆。

# 问题始终是图表

树搜索和图搜索之间的区别并不在于问题图是树还是一般图。总是假设您正在处理一般图表。区别在于用于搜索图的*遍历模式*，可以是图形或树形。

如果您正在处理树形问*​​题*，则两种算法变体都会产生相同的结果。因此，您可以选择更简单的树搜索变体。

# 图和树搜索之间的区别

您的基本图形搜索算法如下所示。具有起始节点`start`、有向边`successors`和`goal`循环条件中使用的规范。`open`在内存中保存当前正在考虑的节点*open list*。请注意，以下伪代码并非在每个方面（2）都是正确的。

### 树搜索

```
open <- []
next <- start

while next is not goal {
    add all successors of next to open
    next <- select one node from open
    remove next from open
}

return next 
```

根据您的实现方式`select from open`，您可以获得不同的搜索算法变体，例如深度优先搜索 (DFS)（选择最新元素）、广度优先搜索 (BFS)（选择最旧元素）或统一成本搜索（选择路径成本最低的元素） )，通过选择成本最低的节点*加上启发式*值来进行流行的 A-star 搜索，依此类推。

上述算法实际上称为**树搜索**。如果在起始状态中有多个指向它的有向路径，它将多次访问底层问题图的状态。如果它位于有向循环上，甚至可以无限次访问一个状态。但是每次访问都对应于我们的搜索算法生成的树中的不同*节点*。正如稍后解释的那样，有时需要这种明显的低效率。

### 图表搜索

正如我们所见，树搜索可以多次访问一个状态。因此，它将多次探索在此状态之后找到的“子树”，这可能会很昂贵。图搜索通过跟踪*封闭列表*中的所有访问状态来解决此问题。如果一个新找到的后继者`next`已经知道，它不会被插入到打开列表中：

```
open <- []
closed <- []
next <- start

while next is not goal {
    add next to closed
    add all successors of next to open, which are not in closed 
    remove next from open
    next <- select from open
}

return next 
```

# 比较

我们注意到图搜索需要更多内存，因为它会跟踪所有访问过的状态。这可以通过较小的打开列表来补偿，从而提高搜索效率。

# 最佳解决方案

一些实现方法`select`可以保证返回最佳解决方案 - 即*最短*路径或具有*最小成本*的路径（对于具有附加到边的成本的图）。只要节点按成本增加的顺序扩展，或者成本是非零正常数，这基本上就成立。实现这种选择的常用算法是[统一成本搜索](https://en.wikipedia.org/wiki/Dijkstra's_algorithm)，或者如果步骤成本相同，则为[BFS](https://en.wikipedia.org/wiki/Breadth-first_search)或[IDDFS](https://en.wikipedia.org/wiki/Iterative_deepening_depth-first_search)。IDDFS 避免了 BFS 的大量内存消耗，并且通常建议在步长不变时用于不知情的搜索（又名蛮力）。

# [一个*](http://en.wikipedia.org/wiki/A*_search_algorithm)

此外，（非常流行的）A**树搜索算法在与*[*可接受的启发式算法*](http://en.wikipedia.org/wiki/Admissible_heuristic)一起使用时提供了最佳解决方案。然而， A**图搜索算法仅在与*[*一致（或“单调”）启发式*](http://en.wikipedia.org/wiki/Consistent_heuristic)（比可接受性更强的条件）一起使用时才做出这种保证。

### (2) 伪代码的缺陷

为简单起见，呈现的代码不会：

*   处理失败的搜索，即只有在找到解决方案时才有效

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-05-21T12:59:15.217

树是图的一个特例，所以任何适用于一般图的东西都适用于树。树是一个图，其中每对节点之间恰好有一条路径。这意味着它不包含任何循环，如先前的答案所述，但是没有循环的有向图（DAG，有向无环图）不一定是树。

但是，如果您知道您的图有一些限制，例如它是树或 DAG，您通常可以找到比无限制图更有效的搜索算法。例如，在树上使用 A* 或其非启发式对应物“Dijkstra 算法”可能没有多大意义（无论如何只有一个路径可供选择，您可以通过 DFS 或 BFS 找到）或在有向无环图中（可以通过按照拓扑排序获得的顺序考虑顶点来找到最佳路径）。

至于有向图与无向图，无向图是有向图的一种特殊情况，即遵循“如果有一条从*u*到*v*的边（链接，转换），也有一条从*v*到*u*的边”的规则。

**更新**：请注意，如果您关心的是*搜索的遍历模式*而不是图本身的结构，那么这不是答案。例如，参见@ziggystar 的回答。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-21T06:20:37.043

图和树之间的唯一区别是*循环*。图可能包含循环，树不能。因此，当您要在树上实现搜索算法时，您不需要考虑循环的存在，但在处理任意图时，您需要考虑它们。如果不处理循环，算法最终可能会陷入无限循环或无限递归。

要考虑的另一点是您正在处理的图形的方向属性。在大多数情况下，我们处理代表每个边缘的父子关系的树。DAG（有向无环图）也显示出类似的特征。但是双向图是不同的。双向图中的每条边代表两个邻居。因此，对于这两种类型的图，算法方法应该有所不同。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-03-29T08:35:05.387

**图与树**

*   图有循环
*   树没有循环“例如，想象你头脑中的任何一棵树，分支与根没有直接连接，但分支与其他分支有连接，向上”

但是在 AI 图形搜索与树搜索的情况下

图搜索有一个很好的特性，即每当算法探索一个新节点并将其标记为已访问时，“无论使用何种算法”，该算法通常都会探索从当前节点可到达的所有其他节点。

例如，考虑以下具有 3 个顶点 AB 和 C 的图，并考虑以下边

AB、BC、CA，从C到A有一个循环，

而当从 A 开始进行 DFS 时，A 会生成一个新的状态 B，B 会生成一个新的状态 C，但是当探索 C 时，算法会尝试生成一个新的状态 A，但 A 已经被访问过，因此将被忽略。凉爽的！

但是树木呢？好树算法不会将访问节点标记为已访问，但树没有循环，它如何进入无限循环？

考虑这棵具有 3 个顶点的树并考虑以下边

A - B - C 以 A 为根，向下。假设我们使用的是 DFS 算法

A 将生成一个新状态 B，B 将生成两个状态 A 和 C，因为 Trees 没有“标记已访问的节点是否已被探索”，因此 DFS 算法可能会再次探索 A，从而生成新状态 B，因此我们进入了一个无限循环。

但是您注意到了吗，我们正在研究无向边，即 AB 和 BA 之间存在连接。当然这不是一个循环，因为循环意味着顶点必须 >= 3 并且所有顶点都是不同的，除了第一个和最后一个节点。

ST A->B->A->B->A 它不是一个循环，因为它违反了循环属性 >= 3。但实际上 A->B->C->A 是一个循环 >= 3 个不同的节点已检查，第一个和最后一个节点是相同的检查。

再次考虑树的边缘，A->B->C->B->A，当然它不是一个循环，因为有两个 B，这意味着并非所有节点都是不同的。

最后，您可以实现树搜索算法，以防止两次探索同一节点。但这有后果。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2021-12-11T18:38:40.570

我将添加到@ziggystar 的答案（其他答案是指作为数据结构的树和图之间的差异，这不是问题所在，问题是指**用于遍历图的树 VS 图算法**！）。

这个有点令人困惑的术语来自*Russell 和 Norvig 的*“ *Artificial Intelligence A Modern Approach* ”：

> ![](../Images/e671abc8b4cdb1f5a07b7591e9917072.png)

**树搜索算法**- 是用于解决搜索问题的任何特定算法。
**图搜索算法**- 是一种**树搜索算法**，增加了一**组探索状态**。

这两种算法都表示为一棵树！我们将**Graph-Search 算法**称为**Graph** -Search 算法的原因是因为它可以直接在我们的搜索问题的图上表示（再次 - 作为树）。

* * *

看看罗马尼亚的地图。这是我们的搜索问题的图表。

![](../Images/3ecbb5a83de75d817b40baa26ca538dd.png)

现在，我们可以应用许多算法来找到从阿拉德到布加勒斯特的路径（广度优先搜索、深度优先搜索、贪婪搜索——任何我们内心想要的）。然而，所有这些算法都可以分为**树搜索算法**和**图搜索算法**。

**树搜索算法**将我们的 Arad-to-Bucharest 问题的解决方案表示为一棵树。注意重复的“Arad”节点。

![](../Images/7ed1ad58f3afb62b7b546a9c290e4c44.png)

**Graph-Search 算法**也将我们的 Arad-to-Bucharest 问题的解决方案表示为一棵树 - 除了我们从树中删除重复的“Arad”节点。然而，由于重复状态的消除，我们有一个更好的方式来表示它 -**直接在我们的搜索问题**图上，在罗马尼亚地图上！因此，“图形搜索算法”中的“图形”。

![](../Images/923d675afccda879deac0c6bfeafa51f.png)

* * *

这是给你的一些伪代码。请注意，树搜索算法和图搜索算法之间的唯一区别是添加了探索状态集。

![](../Images/ff4e26a80054a5de101cb4e63d82d5e5.png)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-05-21T09:15:23.357

简而言之，树不包含循环，而图形可以包含在哪里。因此，当我们进行搜索时，我们应该避免在图中出现循环，以免陷入无限循环。

另一方面是树通常具有某种拓扑排序或类似于二叉搜索树的属性，与图相比，它使搜索变得如此快速和容易。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-05-04T22:11:58.403

您可以查看[幻灯片 13](https://www.seas.upenn.edu/%7Ecis521/Lectures/uninformed-search.pdf)中的伪代码。*

# eclipse - 如何配置 Subclipse 以使用“动态代理”？

> ID：10680183
> 
> 赞同：1
> 
> 时间：2012-05-21T06:03:06.067
> 
> 标签：eclipse, svn, subclipse

每当我尝试连接到我的颠覆位置时，我都会收到“RA 层请求失败”。通过我的 IE 浏览器访问它们完全没有问题。

这不是这个问题的重复： [Subclipse 出现“RA 层请求失败”错误，Web 浏览器没有错误](https://stackoverflow.com/questions/8983845/ra-layer-request-failed-error-with-subclipse-no-errors-with-web-browser)

它说我必须编辑文件： c:\Documents and Settings_username_\Application Data\Subversion\servers 或 ~/.subversion/servers

但这仅适用于同时给出主机名和端口号的情况。但是**我们使用的是动态代理**，也就是说，**没有给出主机名和端口，**因此是动态的。为了让您了解我们的代理设置是如何配置的，在我的 IE8 中，工具 -> Internet 选项 -> LAN 设置对话框中，“**自动检测设置**”和“**使用自动配置脚本**”都被勾选了。并填写“地址”字段的 URL。我认为此配置称为“动态代理”，其中自动检测有关您的代理的信息。

**我如何告诉 subclipse 做同样的事情？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T08:33:01.863

我怀疑 Subversion 是否具有在这样的环境中正确运行的功能。我认为您能做的最好的事情就是阅读这篇文章[http://techblog.mirabito.net.au/?p=21](http://techblog.mirabito.net.au/?p=21)，然后获取代理 PAC 文件，并通过检查确定正确的（静态）代理设置使用。

# c# - 使用 C#/Asp.Net/SQL RSS 插入错误

> ID：10680188
> 
> 赞同：0
> 
> 时间：2012-05-21T06:03:27.087
> 
> 标签：c#

我尝试使用 sqlparameters 将数据插入数据库，但我无法做到这一点..请帮助我..

```
a = "insert into Matsamp values(Login_Name,Password,Confirm_Password) values(@LName,@Pswd,@CPassword)";
        SqlCommand cm = new SqlCommand(a, con1);
        SqlParameter Uparm;
        Uparm = new SqlParameter("@LName", SqlDbType.VarChar, 25);
        Uparm.Value = TextBox1.Text;
        cm.Parameters.Add(Uparm);

        string original;
        original = TextBox2.Text.Trim();
        int h = original.GetHashCode();
        string withHash = original;
        b1 = Encoding.BigEndianUnicode.GetBytes(withHash);
        encrypted = Convert.ToBase64String(b1);
        SqlParameter Pparam;
        Pparam = new SqlParameter("@Pswd", SqlDbType.VarChar, 300);
        Pparam.Value = Convert.ToString(encrypted);
        cm.Parameters.Add(Pparam);

        SqlParameter CPparm;
        CPparm = new SqlParameter("@CPassword", SqlDbType.VarChar, 300);
        CPparm.Value = TextBox3.Text;
        cm.Parameters.Add(CPparm);
        cm.ExecuteNonQuery();
        Response.Write("<Script>alert('inserted')</script>");
    }
        con1.Close(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:07:48.977

您的查询是错误的：可能应该是

```
a = "insert into Matsamp(Login_Name,Password,Confirm_Password) 
     values(@LName,@Pswd,@CPassword)"; 
```

你可以使用

```
cm.Parameters.AddWithValue("@LName", TextBox1.Text);
cm.Parameters.AddWithValue("@Pswd", ...);
cm.Parameters.AddWithValue("@CPassword", ...); 
```

使其更短。

# iphone - 在 iPhone 中动态更改 UIScrollview 的 x 和 y 位置

> ID：10680189
> 
> 赞同：0
> 
> 时间：2012-05-21T06:03:47.663
> 
> 标签：iphone, uiscrollview

我使用了名为“scrMainView”的 UIScrollView。我在 .xib 文件中将其属性定义为 x=0, y=260, width=320, height=1860。

所以现在按钮点击事件，我想要滚动视图。IE。y=80。其余参数保持不变。

我用过代码：

```
[scrMainView scrollRectToVisible:CGRectMake(0,-180, 320, 2800) animated:NO];

scrMainView.contentOffset = CGPointMake(0, -180); 
```

我已经使用了两条线中的任何一条。但它提供与聚焦滚动视图相同的输出。但我想改变 Y 位置。因此 ScrollView 在屏幕区域出现更多的优势。

我已经在 .xib 的属性中定义了。那么这会对动态代码产生影响吗..？

任何解决方案..？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:09:16.180

您需要设置`frame`UIScrollView 的属性。

```
scrMainView.frame = CGRectMake(x,y,width,height); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T06:10:32.277

用框架而不是 contentOffset 更改以下行：

```
scrMainView.frame = CGRectMake(x,y, 320,2800); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T13:00:32.917

我得到了禁用 ScrollView 的解决方案。

我再次使用代码设置内容大小。

IE。scrMainView.contentSize = CGSizeMake(320, 3600);

因此，它也可以动态改变 x、y 和滚动。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-01-10T14:37:35.310

迅捷3

```
scrMainView.frame = CGRect(x: 0, y: -180, width: 320, height: 2800) 
```

# python - 如何修复表 x 没有名为 y 的列？

> ID：10680192
> 
> 赞同：4
> 
> 时间：2012-05-21T06:04:09.727
> 
> 标签：python, django, model

我在 django 中编辑了一个模型，结果出现错误：以下模型的“table reserve_time 没有名为 reservation 的列”：

```
from django.db import models
import datetime

class Club(models.Model):
    establishment = models.CharField(max_length=200)
    address = models.CharField(max_length=200)
    def __unicode__(self):
        return self.establishment

class Day(models.Model):
    club = models.ForeignKey(Club)
    day = models.DateField('day')
    def __unicode__(self):
        return unicode(self.day)

class Court(models.Model):
    club = models.ForeignKey(Club)
    day = models.ForeignKey(Day)
    court = models.IntegerField(max_length=200)
    def __unicode__(self):
        return unicode(self.court)

class Time(models.Model):
    club = models.ForeignKey(Club)
    day = models.ForeignKey(Day)
    court = models.ForeignKey(Court)
    time = models.TimeField('time')
    reservation = models.CharField(max_length=200)
    def __unicode__(self):
        return unicode(self.time) 
```

之后我运行了 python manage.py syncdb 和 python manage.py runserver ，但仍然出现上述错误。有想法该怎么解决这个吗？如果我删除“预订”字段，它工作正常。在管理员中，出现“预订”的文本框，但当我尝试保存时出现错误。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-21T06:12:21.733

这里的问题是，当您进行字段更改时，django 不会做任何事情来修复您的表。所要做`syncdb`的就是创建尚不存在的表。如果您决定更改架构并添加字段，则需要在数据库中手动创建它们，或者删除表并`syncdb`重新创建它，或者开始使用[South](http://south.aeracode.org/)之类的项目来处理数据库迁移。

这不起作用的原因是因为理论上您已经在表中拥有现有记录，并且没有确定的方法可以知道您对所有这些缺失的字段做了什么。也许这些字段不能为空。也许他们还有其他必须满足的限制条件。显然南方可以处理这种情况。

**更新**（2019 年 12 月）

我使用 django 已经 7 年多了，但现在似乎数据库迁移功能已被集成为一流的概念： [https ://docs.djangoproject.com/en/3.0/topics/migrations/](https://docs.djangoproject.com/en/3.0/topics/migrations/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:13:41.477

Syncdb 不会更改现有模型 dbwise。一种可能性是手动编辑您的数据库，或从您的数据库中删除模型并再次运行syncdb（不应该在没有适当备份的生产环境中完成）。

# java - Java SwingWorker：文本区域中不显示任何内容

> ID：10680193
> 
> 赞同：0
> 
> 时间：2012-05-21T06:04:13.390
> 
> 标签：java, jtextarea, swingworker

我正在使用 swingworker 执行长时间运行的任务。在该任务之间，我想在 TextArea 中显示文本。问题是我想在我使用 netbeans GUI 构建器创建的 textarea 中显示文本，但它不显示任何内容。这是我的主要代码

```
 public class SaveTraffic extends SwingWorker<Void, String> {

    @Override
    public Void doInBackground() throws IOException {

        while (f.num() !=2) {

            {

                publish(captor.getPacket().toString());
                writer.writePacket(captor.getPacket());

            }
        }

        return null;
      }//end main function

      @Override
      public void process(List<String> chunks) {
      for (String text : chunks) {

      f.showPackets(text);
      }
     }
      @Override
      public void done() {
      System.out.println("I am DONE");

   } 
```

这是我在 GUI 中的代码，尽管它在 showPacket 函数中连续打印数据包，但它在 textarea 中什么也不显示

```
 public void showPackets(String Packet)
     {

       jTextArea1.append(Packet);
     }

      private void jButton3MouseClicked(java.awt.event.MouseEvent evt) { 
      SaveTraffic p = new SaveTraffic();

      p.execute();

      } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:30:13.267

我对您的代码没有太多问题，但由于它不完整，我无法准确找到问题所在。你确定你的 SwingWorker 实际上是通过调用启动的`execute()`吗？你在日志中看到了什么？

在下面找到一个工作示例。尝试发现与您的代码的差异。如果您无法找到错误，请尝试发布[SSCCE](http://sscce.org)，以便我们为您提供帮助。

```
import java.util.List;

import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.SwingUtilities;
import javax.swing.SwingWorker;

public class Test {

    private JFrame frame;
    private JTextArea textArea;

    protected void initUI() {
        frame = new JFrame();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        textArea = new JTextArea();
        frame.add(new JScrollPane(textArea));
        frame.setSize(400, 200);
        frame.setVisible(true);
        new SaveTraffic().execute();
    }

    protected void showPackets(String text) {
        textArea.append(text);
        textArea.append("\n");
    }

    class SaveTraffic extends SwingWorker<Void, String> {

        @Override
        public Void doInBackground() {
            for (int i = 0; i < 100; i++) {
                publish("Packet-" + i);
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
            }

            return null;
        }

        @Override
        public void process(List<String> chunks) {
            for (String text : chunks) {
                showPackets(text);
            }
        }

        @Override
        public void done() {
            System.out.println("I am DONE");

        }
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                new Test().initUI();
            }
        });
    }

} 
```

# c# - 从数据库（SQL Azure）中检索数据并在网页中显示而不使用实体框架

> ID：10680199
> 
> 赞同：0
> 
> 时间：2012-05-21T06:05:20.813
> 
> 标签：c#, asp.net-mvc

如问题所述，如何在不使用实体框架的情况下从数据库中检索数据（使用 SQL azure）并在**MVC 网页中显示？**还有其他解决方案吗？

非常感谢您的帮助。谢谢。

问候，威廉

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:24:30.257

您可以使用“原始”ADO .NET 并使用良好的旧数据集、数据读取器等。请参阅此链接，例如：[如何：使用 ADO.NET 连接到 SQL Azure](http://msdn.microsoft.com/en-us/library/windowsazure/ee336243.aspx)。

# jquery - Jquery 获取 url 参数

> ID：10680200
> 
> 赞同：0
> 
> 时间：2012-05-21T06:05:35.907
> 
> 标签：jquery, url, query-string

> **可能重复：**
> [在 JavaScript 中获取查询字符串值](https://stackoverflow.com/questions/901115/get-query-string-values-in-javascript)

说如果，我有一个类似这个**更新** [测试的 URL](Http://www.test.com?q=1.)

我想检查 URL 是否有参数 q。

我可以使用 $get() 来做到这一点。

```
If(urlparamerter == q)
{

   do some thing

} 
```

是否有任何 jquery 内置函数可以做到这一点？

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T06:09:13.960

不，没有 jQuery 内置函数可以做到这一点。您可以使用从这个[SO 答案中找到的以下功能](https://stackoverflow.com/a/5158301/344304)

```
function getParameterByName(name) {

    var match = RegExp('[?&]' + name + '=([^&]*)')
                    .exec(window.location.search);

    return match && decodeURIComponent(match[1].replace(/\+/g, ' '));

} 
```

要获取`q`参数，只需调用它

```
var qvalue = getParameterByName('q'); 
```

**更新**

如果你想通过传递`url`而不是使用`current page's url`修改函数来使用这个函数，比如下面

```
function getParameterByName(name,url) {

    var match = RegExp('[?&]' + name + '=([^&]*)')
                    .exec(url);

    return match && decodeURIComponent(match[1].replace(/\+/g, ' '));

} 
```

然后你可以这样称呼它

```
var qvalue = getParameterByName('q','www.test.com?q=1') 
```

[工作小提琴](http://jsfiddle.net/joycse06/XhtSb/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T06:10:59.563

我鼓励您查看 jQuery [URL Parser](https://github.com/allmarkedup/jQuery-URL-Parser)插件。这是与 url 和 queryString 数据交互的一种非常直接的方式：

```
var q = $.url().param("q"); // Gets the q parameter 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:08:36.757

对于 GET 参数，您可以从以下位置获取它们`document.location.search`：

```
var $_GET = {};

document.location.search.replace(/\??(?:([^=]+)=([^&]*)&?)/g, function () {
    function decode(s) {
        return decodeURIComponent(s.split("+").join(" "));
    }

    $_GET[decode(arguments[1])] = decode(arguments[2]);
});

document.write($_GET["test"]); 
```

或者，这是一个更通用的版本：

```
function getQueryParams(qs) {
    qs = qs.split("+").join(" ");
    var params = {},
        tokens,
        re = /[?&]?([^=]+)=([^&]*)/g;

    while (tokens = re.exec(qs)) {
        params[decodeURIComponent(tokens[1])]
            = decodeURIComponent(tokens[2]);
    }

    return params;
}

var $_GET = getQueryParams(document.location.search); 
```

或者，更好的是，使用 PHP 获取它们：

```
var $_GET = <?php echo json_encode($_GET); ?>; 
```

这个答案来自[这个线程](https://stackoverflow.com/questions/439463/how-to-get-get-and-post-variables-with-jquery)。

# java - 带有tomcat服务器的java项目中的utf-8字符集

> ID：10680202
> 
> 赞同：1
> 
> 时间：2012-05-21T06:05:45.313
> 
> 标签：java, mysql, eclipse, tomcat6

堆栈溢出论坛成员

我正在用 JAVA 开发 Web 应用程序。JDK1.6版本，Tomcat 6.0版本。和 mysql 5.1 中的数据库。

我有国家组合框，根据它的选择，我的州组合框被填充。

我的国家组合框全部正确显示，但在选择国家印度后，我的国家组合框已填充，但它向我显示垃圾字符，如下图所示。 ![国家明智的状态组合框已填充](../Images/32841e3e1576e0c1ab817d0001a1958e.png)

我尝试按照以下链接进行更改，指定 [为 utf-8 配置 Tomcat](https://stackoverflow.com/questions/138948/how-to-get-utf-8-working-in-java-webapps)

但这对我不起作用。

我怎样才能做到这一点？

# java - 获取 DOM 树的节点值，但不获取脚本

> ID：10680203
> 
> 赞同：0
> 
> 时间：2012-05-21T06:05:58.890
> 
> 标签：java, dom

无论如何要获取节点的节点值`DOM's`而不是脚本？我的意思是因为页面源中可能有数十个脚本代码，当我们遍历相应页面的 DOM 树时，当我们使用该方法`node.getNodeValue()`时，即使它的脚本不是我关心的，它也会检索节点的内容。我只想获取节点的内容，如果它是页面中出现的实际文本。

```
 public void traverse( Node rootNode) 
        {

Stack stack = new Stack();
Node node=rootNode.getFirstChild();

while (node!=null) {

           System.out.println(node.getNodeValue());

        if ( node.hasChildNodes()) {

    if (node.getNextSibling()!=null)
    stack.push( node.getNextSibling() );
    node = node.getFirstChild();

}

else {

    node = node.getNextSibling();

    if (node==null && !stack.isEmpty())
    {
        node=(Node) stack.pop();

    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T08:42:25.923

我自己找到了答案！

```
 if(!"script".equals(node.getNodeName()))
                    System.out.println(node.getNodeValue()); 
```

# android - 如果加载图像，onListItemClick 无法正常工作

> ID：10680204
> 
> 赞同：0
> 
> 时间：2012-05-21T06:06:04.977
> 
> 标签：android, android-listview

我有一个带有两个文本视图和一个图像视图的自定义列表视图。单击每一行时，我会显示一个自定义对话框。打开列表视图并单击行后，我能够查看对话框，而如果我滚动并单击行，则不会显示对话框。

我的 onListItemclick 代码如下`

```
final Dialog password = new Dialog(VCStegoInboxWithOutCheckboxes.this);
        password.setContentView(R.layout.dialog);
        password.setTitle("Enter your Password");

        final EditText getPassword = (EditText) password
                .findViewById(R.id.edconfirmpwd);
        Button okButton = (Button) password.findViewById(R.id.ok);
        okButton.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {

                String ConfirmCode = getPassword.getText().toString();
                SharedPreferences settingsActivity = getSharedPreferences(
                        "UserName", Activity.MODE_PRIVATE);
                String Password = settingsActivity.getString("Password", null);

                if (ConfirmCode.equals(Password)) {
                                        Intent showMsgIntent = new Intent();
                        showMsgIntent.setClass(getApplicationContext(),
                                VCStegoShowMessageScreen.class);

                        startActivity(showMsgIntent);

                } else {
                    Toast.makeText(getBaseContext(), "InvalidPassword",
                            Toast.LENGTH_SHORT).show();

                }

                password.dismiss();

            }
        });
        Button cancelButton = (Button) password.findViewById(R.id.cancel);
        cancelButton.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                System.out.println("Entered on cancel button clicked");
                password.dismiss();

            }
        });
        password.show();

    } 
```

我观察到的另一件事是它是否是文本视图（而不是图像视图），即使我滚动 iam 能够为每一行显示对话框。

我的适配器方法是

```
public class InboxAdapter extends BaseAdapter {
    private LayoutInflater inflater;
    private TextView Tvname, TVtimeStamp;
    private ImageView IVmsg;

    public InboxAdapter(Context context, List<VCStegoInboxList> inboxList) {
        inflater = LayoutInflater.from(context);
        VCStegoInboxWithOutCheckboxes.Inboxlist = inboxList;
    }
    public class ViewHolder{
           private TextView Tvname;
           private TextView TVtimeStamp;              
           private ImageView IVmsg;
          }

    public int getCount() {
        return VCStegoInboxWithOutCheckboxes.Inboxlist.size();
    }

    // @Override
    public Object getItem(int position) {
        return VCStegoInboxWithOutCheckboxes.Inboxlist.get(position);
    }

    // @Override
    public long getItemId(int position) {
        return position;
    }

    // @Override
    public View getView(final int position, View convertView,
            ViewGroup parent) {

        ViewHolder holder;

           if (convertView==null){

            holder = new ViewHolder();

        convertView = inflater.inflate(R.layout.inboxtextviews, null);
        Tvname = (TextView) convertView.findViewById(R.id.tvinboxname);

        IVmsg = (ImageView) convertView.findViewById(R.id.tvinboxmsg);

        TVtimeStamp = (TextView) convertView.findViewById(R.id.tvtimeStamp);

        convertView.setTag(holder);
       }else{

        holder = (ViewHolder) convertView.getTag();
       }
           Tvname.setText(VCStegoInboxWithOutCheckboxes.Inboxlist
                .get(position).getname());
           IVmsg.setImageBitmap(VCStegoInboxWithOutCheckboxes.Inboxlist.get(
                    position).getBitmap());
           TVtimeStamp.setText(VCStegoInboxWithOutCheckboxes.Inboxlist.get(
                    position).getTimeStamp());
        return convertView;
    }

} 
```

我的 xml 文件是

```
<?xml version="1.0" encoding="utf-8"?> 
```

```
<TextView
    android:id="@+id/tvinboxname"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textAppearance="?android:attr/textAppearanceMedium" />

<ImageView
    android:id="@+id/tvinboxmsg"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"        
    android:layout_below="@+id/tvinboxname"

    android:contentDescription="@string/contentDes" />

<TextView
    android:id="@+id/tvtimeStamp"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_below="@+id/tvinboxmsg"
    android:textAppearance="?android:attr/textAppearanceSmall" /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:46:38.110

为您的根布局 id 分配 id，例如

```
 <RelativeLayout 
     android:id="@+id/root"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content">

<your TextView/>
<your ImageView/>
<your TextView/>

</RelativeLayout> 
```

在适配器类中获取根，例如

```
root = (RelativeLayout) convertView.findViewById(R.id.root); 
```

在你的适配器类onclick监听器上面写上onclick监听`return convertView;`器是这样的

```
root.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
//toast display dialog code here
}
}); 
```

# hadoop - 如何在 outputcollector.collect 中返回浮点值？

> ID：10680206
> 
> 赞同：0
> 
> 时间：2012-05-21T06:06:13.013
> 
> 标签：hadoop, mapreduce

在计算输出的平均值后，我无法返回浮点值。收集..有人可以帮我吗？

公共静态类 MapClass 扩展 MapReduceBase 实现 Mapper {

```
private Text word = new Text();

public void map(LongWritable key, Text value, 
                OutputCollector<Text, IntWritable> output, 
                Reporter reporter) throws IOException {
  String line = value.toString();
  String num = Integer.parseInt(num);

   IntWritable one = new IntWritable(num);

    word.set(“key”);
    output.collect(word, one);

} 
```

}

公共静态类 Reduce 扩展 MapReduceBase 实现 Reducer {

```
public void reduce(Text key, Iterator<IntWritable> values,
                   OutputCollector<Text, IntWritable> output, 
                   Reporter reporter) throws IOException {
  int sum = 0;
  int count=0;
  int avg=0;
  while (values.hasNext()) {
    sum += values.next().get();
   count++;
  }
  avg=sum/count;
  output.collect(key, new IntWritable(avg));
} 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T10:22:35.377

您是否使用`org.apache.hadoop.io.FloatWritable`作为输出键或值类型（无论您想在哪里存储浮点数？

*   [FloatWritable Javadocs](http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/io/FloatWritable.html) -*用于浮点数的 WritableComparable。*

您还需要修改映射器/减少的泛型签名（取决于您计算平均值的位置，并修改您的作业配置以使用 FloatWritable 作为输出类类型（再次取决于您是否使用float 作为输出键或值）。

如果您仍然遇到问题，请在您的问题中发布一些代码

# segmentation-fault - 如何预测分段错误发生的位置

> ID：10680207
> 
> 赞同：0
> 
> 时间：2012-05-21T06:06:23.160
> 
> 标签：segmentation-fault, signals, infinite-loop

如果我们在无限循环中增加一个指针，如何预测分段错误发生在哪里？

我认为我们可以使用警报信号处理程序，它会在每 1 秒后调用一次，它会打印指针指向的地址，这样当发生分段错误时，我们会得到一个非常接近的地址。

有没有更好的解决方案？如果有那么请告诉。提前致谢

代码 ：

```
#define SECOND 1

int *str;

void  ALARMhandler(int sig)
{
     signal(SIGALRM, SIG_IGN);      

printf("ptr=%u \n",*str);

     alarm(SECOND);                     /* set alarm for next run   */
     signal(SIGALRM, ALARMhandler);     /* reinstall the handler    */
}

int main()
{

int *ptr;
str=&ptr;
int a;
ptr=&a;
signal(SIGALRM,ALARMhandler);    
alarm(SECOND);                   

for(;;)
{
    ptr++;

}

return 0;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T08:01:43.980

首先，如果优化级别足够大，编译器可能会`for(;;)`完全删除您的无限循环。

每秒只显示你的指针并不是很有意义。典型的处理器每秒执行数十亿（即 10 ⁹）条机器指令。在 32 位机器上，这意味着可以在几秒钟内扫描整个进程地址空间。

然后，在 Linux/AMD64（和 Linux/x86）上，堆栈向下增长（从高地址到低地址）；由于您从调用框架附近的局部变量开始 `main`，您将很快得到外部（即之前 = 更高的堆栈开头）。

你也许可以捕捉到`SIGSEGV`信号；这意味着使用标志安装带有[sigaction(2)](http://linux.die.net/man/2/sigaction)系统调用的处理器和系统特定的处理程序。`SA_SIGINFO`

实际上，在 Linux 上，您可能希望通过读取`/proc/self/maps`（或者可能是[proc(5)](http://linux.die.net/man/5/proc)伪文件系统`/proc/self/smaps`中的其他文件）来检索进程地址映射；这应该为您提供给定地址所属的段，然后您将能够了解该段的结束位置。

# asp.net - http 服务 503 不可用 仅适用于 HTTPS

> ID：10680209
> 
> 赞同：2
> 
> 时间：2012-05-21T06:06:40.933
> 
> 标签：asp.net, iis-7, azure

我的天蓝色网站在 http 上运行良好。现在，我在 IIS 7 中添加了自签名证书和绑定。当我使用 https 运行应用程序时，我收到证书错误警告。当我确认“仍然运行”时。然后我只用https连续得到'http服务503不可用'。我的绑定是正确的（因为我第一次看到证书错误）。在 IIS 日志文件中找不到日志。试过了，IIS Failed-request tracking，没有找到日志。我已经确认 iis 用户可以同时注册端口 80 和 443（使用 netsh）。任何想法？

编辑：如果我在绑定中使用特定 IP，该站点现在可以工作。但是当我将其更改为“所有未分配”时，我得到了同样的错误？为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T15:46:34.463

基于上述细节，不知道它是如何完成的？您是通过手动绑定或某些启动过程对 Azure VM 执行上述所有 RDP 操作吗？将 HTTPS 端点添加到 Azure Web 应用程序非常容易，它应该在预定义过程中完成，并且没有任何如上所述的手动操作。这是这样做的：

1.  在 Windows Azure 应用程序的开发期间添加 HTTPS 端点并将 SSL 证书绑定到它
2.  将此 SSL 证书（在 PFX 中）部署到 Windows Azure 门户中的“证书”部分
3.  将您的应用程序部署到 Windows Azure

这个怎么运作：

1.  当 Azure VM 启动时，SSL 证书被预配到 Windows Azure VM
2.  根据您的服务配置和定义设置，IISConfigurator 进程将证书包含在您的 Web 应用程序中
3.  当您的 Web 角色启动时，将根据 Azure VM 内部 IP 地址完成绑定。不使用“全部分配”，而是绑定到特定的内部 IP 地址。

我的[这篇](http://blogs.msdn.com/b/avkashchauhan/archive/2011/03/28/complete-solution-adding-ssl-certificate-with-windows-azure-application.aspx)博客讨论了如何将 HTTPS 端点添加到 Windows Azure 应用程序。

# c# - 如何在 C# 中从 System.Array 转换为 object[]

> ID：10680210
> 
> 赞同：18
> 
> 时间：2012-05-21T06:06:43.917
> 
> 标签：c#, .net, c#-4.0, casting, enums

我有一个期望`object[]`作为参数的 COM 函数：

```
foo(object[] values) 
```

我想将一些`enum`字段传递给它，所以我使用以下内容：

```
object[] fields = (object[])Enum.GetValues(typeof(SomeEnumType)); 
```

但是，当我尝试传递`fields`给`foo(...)`ie [ `foo(fields)`] 时，出现错误：

> “无法将‘SomeEnumType[]’类型的对象转换为‘system.Object[]’类型。

谁能告诉我我做错了什么？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-05-21T06:10:59.050

正如例外所说，您不能将 cast a 转换`SomeEnumType[]`为`object[]`- 前者是一个数组，其中每个值都是一个`SomeEnumType`值；后者是一个数组，其中每个元素都是一个引用。

使用 LINQ，您可以轻松地创建一个*新*数组：

```
object[] fields = Enum.GetValues(typeof(SomeEnumType))
                      .Cast<object>()
                      .ToArray(); 
```

这基本上会将每个元素（每个枚举值）装箱以创建一个`IEnumerable<object>`，然后从中创建一个数组。它类似于 Tilak 的方法，但我更喜欢`Cast`在我实际上不需要通用投影时使用。

或者：

```
SomeEnumType[] values = (SomeEnumType[]) Enum.GetValues(typeof(SomeEnumType));
object[] fields = Array.ConvertAll(values, x => (object) x); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-21T06:11:15.897

```
Enum.GetValues(typeof(SomeEnumType)).Cast<object>().ToArray() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T06:10:39.917

您需要转换正确的数组类型。尝试以下方式：

```
object[] fields = (object[])Enum.GetValues(typeof(SomeEnumType)).Cast<object>().ToArray(); 
```

错误消息说明该函数需要一个类型为“object”的对象数组，并且您传入的是“SomeEnumType”类型之一，因此存在类型不匹配。

# javascript - jQuery：更改悬停时的图像宽度

> ID：10680212
> 
> 赞同：2
> 
> 时间：2012-05-21T06:06:53.457
> 
> 标签：javascript, jquery

我有两个并排的图像。当用户将鼠标悬停在图像上时，它应该展开。

## HTML：

```
<a href="#"><div id="skinny"></div></a>
<a href="#"><div id="room9"></div></a> 
```

## jQuery：

```
$('#skinny').hover(function() {
    $(this).animate({width: '220px'}, 'fast');
    $('#room9').animate({width: '80px'}, 'fast');
}, function() {
    $(this).animate({width:'150px'},'fast');
    $('#room9').animate({width: '150px'}, 'fast');
}); 
```

**jsFiddle：http:** [//jsfiddle.net/G4q4q/](http://jsfiddle.net/G4q4q/)

它与左图像“工作”，但我无法让它与右图像一起工作。我目前的方法效率低下，所以如果您有任何优化建议，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:34:24.150

好的，我做了一个非常粗略的例子，它不允许扩展/多个图像，但你应该明白了。对于`clip`CSS 中的元素，只需`overflow: hidden`

jsFiddle：http: [//jsfiddle.net/G4q4q/10/](http://jsfiddle.net/G4q4q/10/)

HTML

```
<div id="wrap">
    <a href="#" id="skinny">
        <img class="image" src="http://www.theexoticvet.com/images/content_1.jpg" />
    </a>
    <a href="#" id="room9">
        <img class="image" src="http://www.theexoticvet.com/images/content_2.jpg" />
    </a>
</div>​ 
```

CSS

```
#wrap {
    position: relative;
    width: 300px;
    height: 300px;
    overflow: hidden;
}

a {
    display: block;
    float: left;
    top: 0;
    width: 50%;
    height: 300px;
    overflow: hidden;
} 
```

​Javascript

```
$(function() {
    $('a').hover(function() {
        $(this).stop().animate({width: '80%'}, 'fast')
        $('a').not(this).stop().animate({width: '20%'}, 'fast');
    }, function() {
        $('a').stop().animate({width:'50%'},'fast');
    });
}); 
```

​ 编辑笔记：我编辑了这个，使它比我的第一次尝试好一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T07:10:48.913

我花了很多时间为此制定了一个更通用的方法——所以不管你是否使用它，至少看看这个。我知道克里斯蒂安会因为我重新发明轮子而诅咒我，但是，我早在他写评论之前就开始了……顺便说一句，你想了解这些事情是如何运作的吗？为此，我在这里创建了这个插件（Christian 该死的我）：http: [//jsfiddle.net/hHzkS/](http://jsfiddle.net/hHzkS/)

我已经评论过了...如果有任何疑问请在评论中提问...

# android - 框架布局不起作用

> ID：10680215
> 
> 赞同：0
> 
> 时间：2012-05-21T06:07:12.800
> 
> 标签：android, android-framelayout

正在创建一个我正在使用框架布局的应用程序.....我已经使用了三个类 1）活动 2）选择图像 3）在图像上绘图

所以我的活动课如下

```
 public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
         setContentView(R.layout.main);
         i= new FirstImage(this);

         j=(Draw)findViewById(R.id.info);
         t=(TextView)findViewById(R.id.textView);
         k=(TextView)findViewById(R.id.textView1);
         back=(ImageButton)findViewById(R.drawable.monotone_arrow_next_left);
         next=(ImageButton)findViewById(R.drawable.monotone_arrow_next_lrightcopy);
         if (count==0){
             ((FirstImage) i).changeImage(R.drawable.human);

         }
         addListenerOnButton();
    }
    private void addListenerOnButton() {
        // TODO Auto-generated method stub

        next.setOnClickListener( new OnClickListener() {

            @Override
            public void onClick(View arg0) {
                if(count==0){

                    //i.startAnimation(animationFadeout);
                    ((FirstImage) i).changeImage(R.drawable.hand);
                back.setEnabled(true);
                count++;

                addListenerOnButton();

                }
                else if (count==1){
                    //i.startAnimation(animationFadeout);
                    ((FirstImage) i).changeImage(R.drawable.tissue);
                    count++;

                    addListenerOnButton();

                }

                else if (count==2){
                    //i.startAnimation(animationFadeout);
                    ((FirstImage) i).changeImage(R.drawable.cell);
                    count++;

                    addListenerOnButton();

                }
                else if (count==3){
                    //nucleus
                    //i.startAnimation(animationFadeout);
                    ((FirstImage) i).changeImage(R.drawable.nucleus);
                    count++;

                    addListenerOnButton();

                }
                else if (count==4){
                    //nchromosome
                    //i.startAnimation(animationFadeout);
                    ((FirstImage) i).changeImage(R.drawable.chromosome);
                    count++;

                    addListenerOnButton();

                }
                else
                {   //double helix
                    //i.startAnimation(animationFadeout);
                    count++;
                    ((FirstImage) i).changeImage(R.drawable.dnahelix);
                    next.setEnabled(false);

                    addListenerOnButton();

                }

            }
        });

        back.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View arg0) {
                if(count==1){
                    //i.startAnimation(animationFadeout);
                    ((FirstImage) i).changeImage(R.drawable.human);
                    back.setEnabled(false);
                    count--;

                    addListenerOnButton();

                    }
                    else if (count==2){
                        //i.startAnimation(animationFadeout);
                        ((FirstImage) i).changeImage(R.drawable.hand);
                        count--;

                        addListenerOnButton();

                    }

                    else if (count==3){
                        //i.startAnimation(animationFadeout);
                        ((FirstImage) i).changeImage(R.drawable.tissue);
                        count--;

                        addListenerOnButton();

                    }
                    else if (count==4){
                        //i.startAnimation(animationFadeout);
                        ((FirstImage) i).changeImage(R.drawable.cell);
                        count--;

                        addListenerOnButton();

                    }
                    else if (count==5){
                        //nucleus
                        //i.startAnimation(animationFadeout);
                        ((FirstImage) i).changeImage(R.drawable.nucleus);
                        count--;

                        addListenerOnButton();

                    }
                    else {
                        //chromosome
                        //count==6
                        //i.startAnimation(animationFadeout);
                        ((FirstImage) i).changeImage(R.drawable.chromosome);
                        count--;

                        addListenerOnButton();
                        next.setEnabled(true);

                    }
                }
            });
    }

} 
```

我的班级正在选择图像，如下所示..

```
 public class FirstImage extends ImageView implements OnTouchListener {

    ImageView i;
    MotionEvent event;
    int x;
    Bitmap image;
    String huma ="human";
    String info = "";
     float y = 0; //init value 
     float z = 0; //init value
     Animation animationFadeIn;
    Draw child;

    public FirstImage(Context context) { 
        super(context); 
        child=new Draw (context);
        i= new ImageView (context); 

        } 
    public FirstImage(Context context, AttributeSet attrs) { 
        super(context, attrs);
        } 

    public void changeImage(int id){
        final Animation animationFadeout=AnimationUtils.loadAnimation(getContext(), R.anim.zoomout);
                    i.setImageResource(id);
                    i.startAnimation(animationFadeout);
                    i.setOnTouchListener(this);

    }
    @Override
    public boolean onTouch(View arg0, MotionEvent arg1) {
        // TODO Auto-generated method stub
        return false;
    }
    } 
```

我的课程将在图像上绘制如下

```
public class Draw extends View {
    String info = "";
    float x = 0;    
    float y = 0;    
    int color = Color.GREEN;    
    public Draw(Context context) {
        super(context);
        // TODO Auto-generated constructor stub
    }
    public Draw(Context context, AttributeSet attrs) {
          super(context, attrs);

    }

    @Override protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);

        Paint paint = new Paint();
        paint.setStyle(Paint.Style.FILL_AND_STROKE);
        paint.setColor(color);
        paint.setStrokeWidth(2);
        paint.setTextSize(30);

        canvas.drawLine(x-10, y, x+10, y, paint);
        canvas.drawLine(x, y-10, x, y+10, paint);
        canvas.drawText(info, x, y, paint);

    }

    public void updateInfo(String t_info, float t_x, float t_y){
        info = t_info;
        x = t_x;
        y = t_y;

        invalidate();
    }

    public void clearInfo(){
        info = "";
        x = 0;
        y = 0;
        invalidate();
    }
} 
```

它显示应用程序意外关闭...但在 logcat 显示

```
 05-21 15:55:18.964: E/AndroidRuntime(850): FATAL EXCEPTION: main
05-21 15:55:18.964: E/AndroidRuntime(850): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.nam/com.example.nam.AshActivity}: java.lang.NullPointerException
05-21 15:55:18.964: E/AndroidRuntime(850):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)
05-21 15:55:18.964: E/AndroidRuntime(850):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
05-21 15:55:18.964: E/AndroidRuntime(850):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
05-21 15:55:18.964: E/AndroidRuntime(850):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
05-21 15:55:18.964: E/AndroidRuntime(850):  at android.os.Handler.dispatchMessage(Handler.java:99)
05-21 15:55:18.964: E/AndroidRuntime(850):  at android.os.Looper.loop(Looper.java:123)
05-21 15:55:18.964: E/AndroidRuntime(850):  at android.app.ActivityThread.main(ActivityThread.java:3683)
05-21 15:55:18.964: E/AndroidRuntime(850):  at java.lang.reflect.Method.invokeNative(Native Method)
05-21 15:55:18.964: E/AndroidRuntime(850):  at java.lang.reflect.Method.invoke(Method.java:507)
05-21 15:55:18.964: E/AndroidRuntime(850):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
05-21 15:55:18.964: E/AndroidRuntime(850):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
05-21 15:55:18.964: E/AndroidRuntime(850):  at dalvik.system.NativeStart.main(Native Method)
05-21 15:55:18.964: E/AndroidRuntime(850): Caused by: java.lang.NullPointerException
05-21 15:55:18.964: E/AndroidRuntime(850):  at com.example.nam.AshActivity.addListenerOnButton(AshActivity.java:48)
05-21 15:55:18.964: E/AndroidRuntime(850):  at com.example.nam.AshActivity.onCreate(AshActivity.java:40)
05-21 15:55:18.964: E/AndroidRuntime(850):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
05-21 15:55:18.964: E/AndroidRuntime(850):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)
05-21 15:55:18.964: E/AndroidRuntime(850):  ... 11 more 
```

我的xml文件如下....

```
<?xml version="1.0" encoding="utf-8"?>

<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    >

  <!--  Screen Design for VIDEOS -->
<TableLayout 
    android:id="@+id/tablelayout"
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content"
    android:stretchColumns="1">

     <TableRow
          android:id="@+id/tableRow1"
          android:layout_width="wrap_content"
          android:layout_height="wrap_content" >

          <TextView
               android:id="@+id/textView"
              android:layout_width="wrap_content"
              android:layout_height="wrap_content"
              android:padding="15dip"
              android:text="pic on click which will tell where is the dna located in human body or cell "
              android:textSize="18dip" />
      </TableRow>

      <TableRow
          android:id="@+id/tableRow2"
          android:layout_width="wrap_content"
          android:layout_height="wrap_content" >
    <FrameLayout
        android:layout_width="wrap_content"
          android:layout_height="wrap_content" >
         <com.example.nam.FirstImage
             android:id="@+id/image"
             android:layout_height="wrap_content" 
             android:layout_width="fill_parent" />
          <com.example.nam.Draw
             android:id="@+id/info"
             android:layout_height="wrap_content" 
             android:layout_width="fill_parent" />

      </FrameLayout>   
      </TableRow>

      <TableRow
          android:id="@+id/tableRow3"
          android:layout_width="wrap_content"
          android:layout_height="wrap_content" >

          <LinearLayout
              android:id="@+id/linearLayout1"
              android:layout_width="wrap_content"
              android:layout_height="wrap_content" >

              <ImageView
                  android:id="@+id/button1"
                  android:layout_width="100dp"
                  android:layout_height="wrap_content"
                  android:src="@drawable/monotone_arrow_next_left"/>
              <ImageView
                  android:id="@+id/button2"
                  android:layout_width="100dp"
                  android:layout_height="wrap_content"
                 android:src="@drawable/monotone_arrow_next_lrightcopy"/>

          </LinearLayout>

      </TableRow>
       <TableRow
          android:id="@+id/tableRow4"
          android:layout_width="wrap_content"
          android:layout_height="wrap_content" >
          <TextView
              android:id="@+id/textView1"
              android:layout_width="wrap_content"
              android:layout_height="wrap_content"
              android:padding="15dip"
              android:text="please don't mind  "
              android:textSize="18dip" />
          </TableRow>

  </TableLayout>
  </ScrollView> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:45:28.780

从有关 FrameLayout 的官方文档中检查这一点：

> FrameLayout 旨在阻止屏幕上的一个区域以显示单个项目。通常，应该使用 FrameLayout 来保存单个子视图，因为很难以一种可缩放到不同屏幕尺寸的方式组织子视图，而不会使子视图相互重叠。但是，您可以使用 android:layout_gravity 属性将多个子项添加到 FrameLayout 并通过为每个子项分配重力来控制它们在 FrameLayout 中的位置。

如果我是你，我会尝试使用两种不同`FrameLayouts`的方法来查看它是否会起作用..但正如我从你的堆栈跟踪中看到的那样，问题出在你的 xml 文件中。

**编辑 ：**

所以这是有效的代码。把它放在你的活动上：

```
public class AshActivity extends Activity implements OnTouchListener {
ImageView i;
Draw j;
TextView t,k;
ImageView back;
ImageView next;
int count=0;
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
     setContentView(R.layout.main);
     i= new FirstImage(this);
     if (count==0)
         ((FirstImage) i).changeImage(R.drawable.ic_launcher);
     j=(Draw)findViewById(R.id.info);
     t=(TextView)findViewById(R.id.textView);
     k=(TextView)findViewById(R.id.textView1);
     back=(ImageView)findViewById(R.id.button1);
     next=(ImageView)findViewById(R.id.button2);
     addListenerOnButton();

} } 
```

这应该可以解决问题！:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T07:36:40.843

当您使用自定义视图时，错误指向一行：`com.example.nam.FirstImage`。

在 xml 布局中使用您自己的`View`扩展时，您应该为它们声明一个命名空间。

你缺少的是一行：

```
xmlns:name="http://schemas.android.com/apk/res/com.example.nam" 
```

所以你的布局的根元素应该是这样的：

```
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:nam="http://schemas.android.com/apk/res/com.example.nam" 
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"> 
```

**Edit1**：现在`NullPointerException`在您的`FirstImage`班级内。

在那里你有一个名为`event`type的变量`MotionEvent`，它没有被初始化，但是你在你的`changeImage`方法中使用它：

```
i.onTouchEvent(event); 
```

这必须抛出`NPE`. 由于您从 调用该方法`onCreate`，因此您无法为其分配有效的`MotionEvent`方法，因此您需要

*   组成一个，或
*   检查成员是否为空，如果它不`event`为空，则只调用！`onTouchEvent`

**Eidt2** : ...在评论/聊天之后，你应该这样做：

*   `i.onTouchEvent(event);`从您的`changeImage`方法中删除；
*   正确实施该`onTouch`方法以显示所需的文本。
*   删除`ImageView`实例，然后`this`改用。

这样你的`FirstImage`班级应该改变：

```
public class FirstImage extends ImageView implements OnTouchListener
{
    MotionEvent event;
    int x;
    Bitmap image;
    String huma = "human";
    String info = "";
    float y = 0; // init value
    float z = 0; // init value
    Animation animationFadeIn;
    Draw child;

    public FirstImage(Context context)
    {
        super(context);
        child = new Draw(context);
    }

    public FirstImage(Context context, AttributeSet attrs)
    {
        super(context, attrs);
    }

    public void changeImage(int id)
    {
        final Animation animationFadeout = AnimationUtils.loadAnimation(
                getContext(), R.anim.zoomout);
        this.setImageResource(id);
        this.startAnimation(animationFadeout);
        this.setOnTouchListener(this);
    }

    @Override
    public boolean onTouch(View arg0, MotionEvent arg1)
    {
    //  TODO: Here you show the text you want, e.g.:
    //  final TextView tv = (TextView)findViewById(R.id.text);
    //  tv.setText("This image is about...");
        return true;
    }
} 
```

**Edit3**：如果你能简化/澄清你的`addClickListener`方法，那也很好。

您真的不需要一遍又一遍地将侦听器添加到这些按钮...

```
private void addListenerOnButton()
{
    next.setOnClickListener(new OnClickListener()
    {
        @Override
        public void onClick(View arg0)
        {
            switch (count)
            {
                case 0:
                    ((FirstImage) i).changeImage(R.drawable.hand);
                    back.setEnabled(true);
                    break;
                case 1:
                    ((FirstImage) i).changeImage(R.drawable.tissue);
                    break;
                case 2:
                    ((FirstImage) i).changeImage(R.drawable.cell);
                    break;
                case 3:
                    ((FirstImage) i).changeImage(R.drawable.nucleus);
                    break;
                case 4:
                    ((FirstImage) i).changeImage(R.drawable.chromosome);
                    break;
                case 5:
                    ((FirstImage) i).changeImage(R.drawable.dnahelix);
                    next.setEnabled(false);
                    break;
                default:
                    break;
            }
            count++;
        }
    });

    back.setOnClickListener(new OnClickListener()
    {

        @Override
        public void onClick(View arg0)
        {
            switch (count)
            {
                case 1:
                    ((FirstImage) i).changeImage(R.drawable.human);
                    back.setEnabled(false);
                    break;
                case 2:
                    ((FirstImage) i).changeImage(R.drawable.hand);
                    break;
                case 3:
                    ((FirstImage) i).changeImage(R.drawable.tissue);
                    break;
                case 4:
                    ((FirstImage) i).changeImage(R.drawable.cell);
                    break;
                case 5:
                    ((FirstImage) i).changeImage(R.drawable.nucleus);
                    break;
                case 6:
                    ((FirstImage) i).changeImage(R.drawable.chromosome);
                    next.setEnabled(true);
                    break;
                default:
                    break;
            }
            count--;
        }
    });
} 
```

**Edit4**：另外，请更正您的布局 xml 文件，而不是`ImageViews`声明`button1`and `button2`，而是`ImageButtons`在您尝试将它们强制转换为`onCreate`方法时使用：

```
<ImageButton
    android:id="@+id/button1"
    android:layout_width="100dp"
    android:layout_height="wrap_content"
    android:src="@drawable/monotone_arrow_next_left"/>
<ImageButton
    android:id="@+id/button2"
    android:layout_width="100dp"
    android:layout_height="wrap_content"
    android:src="@drawable/monotone_arrow_next_lrightcopy"/> 
```

并且分配是由按钮的`@id`属性完成的，而不是由您在它们上的可绘制对象完成的！

```
back = (ImageButton) findViewById(R.id.button1);
next = (ImageButton) findViewById(R.id.button2); 
```

# c# - 下载代码 - Linq C#

> ID：10680216
> 
> 赞同：-1
> 
> 时间：2012-05-21T06:07:20.623
> 
> 标签：c#, winforms

我有这个代码工作，它将PDF文档上传到SQL Server express，并将其显示给DataGridView。如何下载或查看（默认为 pdf 阅读器）上传的文件？

我发现的大多数代码片段都是针对 ASP.NET 的；这是Winforms。谢谢你。

```
private void btnSave_Click(object sender, EventArgs e)
{
    if (docnoTextBox.Text == "" && docfromTextBox.Text == "")
    {
        MessageBox.Show("Cannot save empty strings");            
    }
    else
    {
        try
        {
            iteisDataContext das_db = new iteisDataContext();
            Document newDoc = new Document();
            newDoc.docid = docnoTextBox.Text;
            newDoc.docdate = docdateDateTimePicker.Value;
            newDoc.postdate = DateTime.Now;
            newDoc.doctype = cboDocType.Text;
            newDoc.docfrom = docfromTextBox.Text;

            //Convert string to linq.binary
            Binary pdfFile = new ASCIIEncoding().GetBytes(ofdMain.FileName);

            // And back to string - dae pa ini confirmado!
            //string fileUpload = Encoding.ASCII.GetString(pdfFile.ToArray());

            newDoc.docupload = pdfFile;
            newDoc.docsubject = docsubjectTextBox.Text;
            newDoc.notes = notesTextBox.Text;

            // Update database
            das_db.Documents.InsertOnSubmit(newDoc);
            das_db.SubmitChanges();

            MessageBox.Show("Document Saved.", "Success",
                MessageBoxButtons.OK, MessageBoxIcon.Information);
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.ToString());
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:14:27.627

在 WinForms 中，您可以使用 Acrobat reader ActiveX 控件（添加参考 -> COM 组件 -> `AcroPDF.PDF`）直接在应用程序中显示 PDF 文件。这需要在客户端计算机上安装 Adob​​e Reader：

```
var pdf = new AxAcroPDF();
pdf.LoadFile(@"c:\test.pdf"); 
```

另一种可能性是使用 Process.Start 方法在客户端计算机上使用默认程序打开 PDF：

```
Process.Start(@"c:\test.pdf"); 
```

在这两种情况下，您都需要在从数据库中读取 PDF 后将其存储在临时文件中。

# javascript - 在android phonegap应用程序中单击后退按钮时强制关闭

> ID：10680217
> 
> 赞同：0
> 
> 时间：2012-05-21T06:07:25.780
> 
> 标签：javascript, android, cordova, back-button

我已经使用 html、css、javascript 和 jquery 创建了 android phonegap 应用程序。当我点击后退按钮时，我的应用程序被强制关闭。我在 logcat 中的错误如下：

```
ERROR/AndroidRuntime(23383): FATAL EXCEPTION: main
    ERROR/AndroidRuntime(23383): android.view.WindowManager
    $BadTokenException: Unable to add window -- token
    android.os.BinderProxy@48c59828 is not valid; is your activity
    running?
    at android.view.ViewRoot.setView(ViewRoot.java:505)
    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:207)
    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:121)
    at android.view.Window$LocalWindowManager.addView(Window.java:424)
    at android.app.Dialog.show(Dialog.java:259)
    at android.app.AlertDialog$Builder.show(AlertDialog.java:802)
    at com.phonegap.DroidGap$GapClient.onJsAlert(DroidGap.java:983)
    at android.webkit.CallbackProxy.handleMessage(CallbackProxy.java:531)
    at android.os.Handler.dispatchMessage(Handler.java:99)
    at android.os.Looper.loop(Looper.java:123)
    at android.app.ActivityThread.main(ActivityThread.java:4632)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:521)
    at com.android.internal.os.ZygoteInit
    $MethodAndArgsCaller.run(ZygoteInit.java:871)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:629)
    at dalvik.system.NativeStart.main(Native Method)
    ERROR/(1364): Dumpstate > /data/log/dumpstate_app_error 
```

请指导我哪里错了。在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:12:40.330

> ```
> android.os.BinderProxy@48c59828 is not valid; is your activity
> running? 
> ```

此错误主要发生在您尝试某些正在运行`close/finish`的 Activity 时。`ProgressDialog`因此，您正在尝试`finish()`在关闭进度对话框之前进行活动。您应该首先尝试关闭 ProgressDialog，然后完成 Activity。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:17:26.093

在显示该对话框之前检查活动是否完成。

```
if (!isFinishing()) {
    showDialog(MY_DIALOG);
} 
```

当后台线程试图在 UI 线程退出时显示对话框时，就会发生崩溃。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:25:51.747

$BadTokenException:

这种类型的错误是由于上下文问题。在您的代码中传递适当的上下文，

# wpf - 使用MVVM时如何在interaction.Trigger中将事件参数作为参数传递？

> ID：10680222
> 
> 赞同：3
> 
> 时间：2012-05-21T06:08:24.167
> 
> 标签：wpf, mvvm

基本上我的自定义类中有一个事件。我将使用事件的参数 -> 属性作为该方法的参数调用自定义类中的特定方法。

您可以观察信息背后的实际代码。

```
instance.FileOpening += (sender, e) =>
                {
                    CustomClass.Method(e.XXproperty, e.YYproperty);
                }; 
```

但我想通过交互来实现这一点。MVVM 中的触发器。所以我在 xaml 中使用了以下代码。

```
<i:Interaction.Triggers>
     <i:EventTrigger EventName="FileOpening">
          <i:FileOpeningAction TargetObject="{Binding ElementName=cntrol}"/>
     </i:EventTrigger>
</i:Interaction.Triggers> 
```

我相应的 TargetedTriggerAction 类在这里是为了让我的 customclass 执行该方法。

```
public class FileOpeningAction :TargetedTriggerAction<CustomClass>
    {
        protected override void Invoke(object parameter)
        {
            ((instance).TargetObject).Method(?,?);
        }
    } 
```

但我的问题是如何通过上述操作中的 e.XXproperty 和 e.YYproperty 来执行我的自定义类中的方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-07T13:49:51.367

你也可以尝试使用交互库，然后你可以这样写：

```
<i:EventTrigger EventName="FileOpening">
    <ei:CallMethodAction TargetObject="{Binding}" MethodName="OnFileOpening"/>
</i:EventTrigger> 
```

在您的代码中，它将类似于

```
public void OnFileOpening(object sender, EventArgs e){//your code} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-17T10:26:31.687

如果您按照下面给出的方式进行操作，则可以通过设置“PassEventArgsToCommand”将事件参数传递给命令。

添加参考：

```
xmlns:cmd="xmlns:cmd="clr-namespace:GalaSoft.MvvmLight.Command;assembly=GalaSoft.MvvmLight.Extras.WPF4""

<i:Interaction.Triggers>
    <i:EventTrigger EventName="MouseEnter" >
         <cmd:EventToCommand Command="{Binding FooCommand}"
             PassEventArgsToCommand="True" />
    </i:EventTrigger>
</i:Interaction.Triggers> 
```

# php - Google Analytics v3 绕过身份验证

> ID：10680223
> 
> 赞同：1
> 
> 时间：2012-05-21T06:08:27.630
> 
> 标签：php, google-analytics, google-analytics-api

我有管理分析帐户的超级管理员。客户将他们的分析帐户（用户名和密码）提供给管理员。

[这](https://github.com/ronan-gloo/codeigniter-highcharts-library)是我用于 codeigniter 的 v2 库。在这个库中，当提供用户名和密码（不需要开发人员密钥）时，数据是从中提取的

```
 https://www.google.com/analytics/feeds/data? 
```

验证码是从响应中生成的

```
 https://www.google.com/accounts/ClientLogin 
```

因此，一旦我有了用户名和密码，就无需登录，无需进行身份验证。但是这里的查询运行缓慢（太慢）。我必须运行[这里](https://stackoverflow.com/questions/10331503/google-analytics-codeigniter-fetching-data-distributed-monthly-over-year)提到的许多查询。似乎使用[REST](https://developers.google.com/analytics/devguides/reporting/core/v3/reference)查询运行得更快。

所以我的问题是：

> 如果我有用户名和密码，有什么方法可以绕过用户登录和身份验证。并获得 access_token？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-02T06:51:05.760

您正在寻找的是谷歌所称的[ClientLogin](https://developers.google.com/accounts/docs/AuthForInstalledApps)身份验证方法。您仍然可以在 API 的 2.4 版中使用它。

Google Analytics 有 2 个版本的 API。

**v2.4**

*   推荐的身份验证是 oAuth2
*   还支持 oAuth、ClientLogin 和 AuthSub，但不鼓励这样做。
*   响应始终是 XML

**v3**

*   最新推荐版本
*   推荐的身份验证方法是 oAuth2
*   不支持 AuthSub 或 ClientLogin
*   响应采用 JSON 格式
*   某些功能仅在 v3 上可用，未来的功能只会添加到 v3。

v3 版本明显快于 v2.4。它得到更好的支持并且更易于使用。

我相信您正在使用的这个库是为 v2.3 构建的，因此您可能需要进行一些调整才能使其与 v2.4 一起使用。请参阅[从 2.3 迁移到 2.4](https://developers.google.com/analytics/devguides/reporting/core/v2/#migration)。这将需要很少的努力，您可以继续使用用户+密码进行身份验证。

您拥有的另一个选择是为 v3 重写库，开始使用 oAuth2 并享受额外的速度和更好的支持。

# tridion - 在 SDL Tridion 2011 Sp1 中为 .Net 模板构建块启用内联编辑

> ID：10680224
> 
> 赞同：3
> 
> 时间：2012-05-21T06:08:28.657
> 
> 标签：tridion, tridion-2011

我正在使用 SDL Tridion 2011 SP1 中的 .Net TBB。

我的组件 Source 看起来像这样。

```
<Content>
  <single>ABCD</single>
</Content> 
```

我试过这样的事情。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using Tridion.ContentManager.Templating.Assembly;
using Tridion.ContentManager.Templating;
using Tridion.ContentManager.ContentManagement;
using Tridion.ContentManager.ContentManagement.Fields;
using System.IO;
using System.Collections;
using System.Xml;
using System.Xml.Linq;

namespace ClassLibrary1
{
    public class SampleTemplate : ITemplate
    {

        /// <summary>
        /// Transform as defined by ITemplate.
        /// </summary>
        /// <param name="engine">Templating engine</param>
        /// <param name="package">Package to process</param>
        public void Transform(Engine engine, Package package)
        {
            using (MemoryStream mem= new MemoryStream() )
            {
                Component component = engine.GetObject(package.GetValue("Component.ID")) as Component;
                ItemFields content = new ItemFields(component.Content, component.Schema);

                XhtmlField temp = (XhtmlField)content["single"];

                int i=0;
                XmlDocument xdoc = new XmlDocument();

                XmlElement root = xdoc.CreateElement("body");

                XElement xe = null;

                foreach (string val in temp.Values)
                {
                    string j=i.ToString();

                    XmlNode xnode = xdoc.CreateNode(XmlNodeType.Element, @"tcdl:ComponentField", "tcdlNamespace");
                    XmlAttribute name = xdoc.CreateAttribute("name");
                    XmlAttribute index = xdoc.CreateAttribute("index");
                    name.Value="single"+"["+i+"]";
                    index.Value = "0";
                    xnode.Attributes.Append(name);
                    xnode.Attributes.Append(index);
                    root.AppendChild(xnode);
                    i++;
                }
                package.PushItem("Output", package.CreateHtmlItem(xdoc.InnerText));
            }

        }
    }
} 
```

这里的“单”是多值字段。

我得到空白输出。

任何人都可以帮助它如何完成。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T08:04:30.050

代替：

```
package.PushItem("Output", package.CreateHtmlItem(xdoc.InnerText)); 
```

利用

```
package.PushItem("Output", package.CreateHtmlItem(root.OuterXml)); 
```

另外，我注意到您没有在任何地方使用字段值。您正在对其进行迭代，但未将值添加到输出中，不确定这是否是您想要的

# wordpress - WordPress add_action、wp_footer 和传递变量

> ID：10680228
> 
> 赞同：0
> 
> 时间：2012-05-21T06:08:46.797
> 
> 标签：wordpress, function, action, arguments

场景：需要添加一个函数到wp_footer，需要它是一个动作，所以我可以添加_/do_/remove_它，它需要接收变量。

问题：`add_action('wp_footer', 'myfunc')`不接受变量。`add_action()`取而代之的是优先级和参数变量的数量，以便您可以利用`do_action('myfunc', $arg1, $arg2...)`来执行`function myfunc($arg1, $arg2)`. 但是从页面中间的短代码调用`do_action('wp_footer')`是非常具有破坏性的！

问题：有没有更好的方法来添加动作，或者我的方法完全有缺陷并且需要修改？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-22T04:27:46.097

最好创建一个接受所需变量的独特函数，然后将*其*作为操作添加到 wp_footer。

# c++ - 代码在 Linux 上运行良好，但在 Windows 操作系统上给出不同的输出

> ID：10680230
> 
> 赞同：1
> 
> 时间：2012-05-21T06:09:09.767
> 
> 标签：c++, windows, linux, console, mingw

我一直想知道为什么下面的代码在 Windows 操作系统上给了我不同的输出。同时，相同的代码在 Ubuntu 上运行良好。

```
#include <iostream>
#include <cstring>

using namespace std;

string getname(void);
char getgender(string);
void setinfo(string,char);

int main()
{
    string customer = "";
    char gender;
    do {
        do{
            customer = getname();
        }while(customer =="");
        do{
            gender = getgender(customer);
            cout << "Gender in Main block is: " << gender << endl;
        }while(gender != 'm' && gender != 'f');
        setinfo(customer,gender);
        break;
    }while(1);
    return 0;
}

string getname(void)
{
    string name = "";
    cout <<"Please Enter your Name: " ;
    getline(cin,name);
    if(name == ""){
        cout << "Error: Name cannot be empty" <<  endl;
    }
    return name;
}

char getgender(string name)
{
    char gender;
    string strgender;
    cout << "Male / Female[m/f]: ";
    getline( cin,strgender);
    gender = strgender[0];
    strgender.clear();
    gender = tolower(gender);
    if(gender == 'm' || gender == 'f'){
        cout << "Gender in getgender() is: " << gender << endl;
        return gender;
    }
    else
        cout <<"Error: Must be m/ f" << endl;
}

void setinfo(string customer, char gender)
{
    string prefix;
    if(gender == 'm')
        prefix =  "Mr.";
    else
        prefix = "Ms/Mrs.";
    cout << "Hello " << prefix << " " << customer << endl;
    cout << "Welcome to TOWER HEIGHT" << endl;
} 
```

在我的 Ubuntu 机器上，这段代码运行良好。但是当我在 Windows 上编译和运行它时，我得到了不同的输出，并且它一直在 getgender() 处循环。

```
 Please Enter your Name: My Name
    Male / Female[m/f]: m
    Gender in getgender() is: m
    Gender in Main block is: ╕

    Male / Female[m/f]: f
    Gender in getgender() is: f
    Gender in Main block is: ╕

    Male / Female[m/f]: 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-21T06:24:13.423

当设置为无效值时，您的`getgender()`函数会在没有返回值的情况下结束。`gender`这可能会导致编译器为该函数生成错误代码；尝试通过在末尾添加“return 0”来修复它。

您应该顺便打开 Linux 系统上的警告（通过使用`-Wall`编译器标志）。这会使问题立即显而易见：

```
example.cpp: In function ‘char getgender(std::string)’:
example.cpp:54: warning: control reaches end of non-void function 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-05-21T06:15:22.133

我在 MSVC 2010 中编译了这段代码，它工作正常。你用的是什么编译器？

# c# - c#继承的类

> ID：10680235
> 
> 赞同：0
> 
> 时间：2012-05-21T06:09:33.347
> 
> 标签：c#, inheritance

我有一个名为 CombatMgr 的类，在其中我有几个不同的功能。当这些函数被调用时，我希望继承 CombatMgr 的其他类具有相同的函数，并将在其中调用它。

```
 //Main class
    public class CombatMgr
    {
        public void EnterCombat()
        {
             //This gets called as CombatMgr.EnterCombat();
        }
    }

    //Side class
    public class RogueCombat : CombatMgr
    {
        public void EnterCombat()
        {
             //I want this function to be 
             //linked to the EnterCombat function from CombatMgr.
             //And called when the main function is called.
        }
    } 
```

我需要代码像这样工作......当我调用 CombatMgr.EnterCombat() 时，所有活动的子类都需要触发它们的 EnterCombat() 函数。所以几乎就像一个事件 OnCombat 并且所有的侦听器都是继承的子类。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T06:16:21.323

```
//Side class
public class RogueCombat : CombatMgr
{
    public override void EnterCombat()
    {
         base.EnterCombat();
         //....
    }
} 
```

你应该使用 RogueCombat 实例，而不是 CombatMgr。</p>

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-21T06:12:02.413

您需要将基类方法设为虚拟并在子类中覆盖它

```
//Main class
public class CombatMgr
{
    public virtual void EnterCombat()
    {
         //This gets called as CombatMgr.EnterCombat();
    }
}

//Side class
public class RogueCombat : CombatMgr
{
    public override void EnterCombat()
    {
         //I want this function to be 
         //linked to the EnterCombat function from CombatMgr.
         //And called when the main function is called.
    }
} 
```

正如您在问题的评论部分中所说，您想要一个类似行为的事件。然后你可以做以下

```
 //Main class
public class CombatMgr
{
    public void EnterCombat()
    {
        // write logic here you want to execute for every child instance.
        // then call the virtual protected method.
        this.OnEnterCombat();
    }

    protected virtual void OnEnterCombat() { }
}

//Side class
public class RogueCombat : CombatMgr
{
    protected override void OnEnterCombat()
    {
        // Write logic for child class here
    }
} 
```

也请不要关注

```
CombatMgr cb1 = new RogueCombat();
        CombatMgr cb2 = new RogueCombat();

        cb1.EnterCombat(); //  calling this will also call the OnEnterCombat() method for intance cb1 not for cb2 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T06:49:25.103

也许我弄错了，但我认为您想要做的是以下内容，假设“主要功能”是 CombatMgr 类中的一个，这对于成为“主要功能”是有意义的，因此名称......

```
public class CombatMgr
{
    // Delegate and Event
    public delegate void Combat();
    public event Combat OnEnterCombat;

    // Your main function
    public void EnterCombat()
    {
        // Calling event, and all subscribers to it
        if (OnEnterCombat != null)
        {
            OnEnterCombat();
        }
    }
}

// Side Class 1
public class RogueCombat : CombatMgr
{
    public void EnterCombat()
    {
        Console.WriteLine("Rogue Combats");
    }
} 
```

然后你会像这样使用它：

```
CombatMgr manager = new CombatMgr();

// Suscribing a Rogue combat
manager.OnEnterCombat += () => 
{
    RogueCombat rogue = new RogueCombat();
    rogue.EnterCombat();
};

manager.EnterCombat(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T07:43:02.037

我不确定我是否正确理解了您要达到的目标。无论如何，您确定 RogueCombat 应该源自 CombatMgr 吗？RogueCombat 从 CombatMgr 继承了什么？只是方法的名称以及它们同时被调用的事实吗？

请记住，类的实例与其派生类的实例根本没有任何关系，因此您必须通过集合或事件在基类中跟踪这些实例。

Alfonso 的代码不起作用，因为它不适用于现有的 RogueCombat 实例，但每次在 CombatMgr 中调用 EnterCombat 时都会创建一个新实例。为了让它工作，您应该在创建派生类的实例后立即将它们注册到基类中的事件中。您可以像这样在构造函数中执行此操作：

```
public class RogueCombat : CombatMgr
{
    public RogueCombat(CombatMgr aMgr)
    {
        aMgr.OnEnterCombat += new Combat(EnterCombat);
    }

    public void EnterCombat()
    {
        Console.WriteLine("Rogue Combats");
    }
} 
```

为此，您必须在每次创建 RogueCombat 实例时传递 CombatMgr 实例。如果您可以从系统中的每个点（例如 CombatMgr.Current）访问单个 CombatMgr 实例，则不需要这样做。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-21T06:13:04.200

您应该在基类上将该函数标记为虚拟，并在继承的类上覆盖：

```
//Main class
public class CombatMgr
{
    public virtual void EnterCombat()
    {
         //This gets called as CombatMgr.EnterCombat();
    }
}

//Side class
public class RogueCombat : CombatMgr
{
    public override void EnterCombat()
    {
         //I want this function to be 
         //linked to the EnterCombat function from CombatMgr.
         //And called when the main function is called.
    }
} 
```

查看更多信息：http: [//msdn.microsoft.com/en-us/library/9fkccyh4.aspx](http://msdn.microsoft.com/en-us/library/9fkccyh4.aspx)

# c++ - Vector2 运算符改进

> ID：10680236
> 
> 赞同：0
> 
> 时间：2012-05-21T06:09:33.980
> 
> 标签：c++, c, vector, inline, operator-keyword

我最近问了一个关于结构和优化一些重载运算符的问题。

[原来的问题在这里](https://stackoverflow.com/questions/10670560/inline-member-operators-vs-inline-operators-c/10670644)

现在，我已经将这些改进放在心上（或其中一些/大部分），并返回以下函数（非成员函数，因为我希望它们尽可能符合 C）。

```
inline Vector2& operator+=(Vector2 &a, const Vector2 &b)
{
    a.x += b.x;
    a.y += b.y;
    return a;
}

inline Vector2 operator+(Vector2 a, const Vector2 &b) 
{
    a += b;
    return a;
}

inline Vector2& operator*=(Vector2 &a, const float &n)
{
    a.x *= n;
    a.y *= n;
    return a;
}

inline Vector2 operator*(Vector2 a, const float &n) 
{
    a *= n;
    return a;
}

inline float operator*(const Vector2 &a, const Vector2 &b)
{
    return (a.x * b.x) + (a.y * b.y);
}

inline Vector2 rotate(const Vector2 &a, const float &angle)
{
    Vector2 out = a;
    out *= cos(angle);
    out.x -= sin(angle) * a.y;
    out.y += sin(angle) * a.x;
    return out;
} 
```

（请注意，我省略了减法和另一个乘法运算符，因为它们等同于此处列出的其他运算符）。

我目前无法注意到任何其他潜在的改进。我有没有遗漏任何东西，这会（可能）使这些功能，就像它们目前的状态一样，效率低下？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T08:30:04.570

我还发现您的 + 和 * 运算符很奇怪。你引入一个按值，在运算符中修改它，然后将它复制到结果（并按值返回）。编译器可能会对此进行优化（虽然不确定）。按照书本做可能会更快，所以也许是这样的？

```
inline Vector2 operator+(Vector2 &a, const Vector2 &b) 
{
    Vector2 r;
    r.x = a.x + b.x;
    r.y = a.y + b.y;
    return r;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:20:04.140

没有分析就谈改进是没有意义的。但是，这里***可能***有一些改进的空间：

```
inline Vector2 rotate(const Vector2& a, const float &angle) {
    Vector2 out = a;
    out *= cos(angle);
    const float sinA + sin(angle);
    out.x -= sinA * a.y;
    out.y += sinA * a.x;
    return out;
} 
```

在这里，您缓存结果`sin(angle)`而不是调用该函数两次。但我真的必须强调，在尝试任何更改之前你应该有一个分析系统，这样你就可以看到它们是否有所作为，并判断任何改进是否真的值得。编译器很可能会优化掉在查看源代码时似乎效率低下的东西。

值得了解[RVO 和 NRVO](http://en.wikipedia.org/wiki/Return_value_optimization)、[复制省略](http://en.wikipedia.org/wiki/Copy_elision)以及在 C++11 中的[移动语义](http://en.wikipedia.org/wiki/Move_semantics#Rvalue_references_and_move_constructors)。另外，请参阅这篇[相关文章](http://cpp-next.com/archive/2009/08/want-speed-pass-by-value/)。

**编辑**：我原来的答案被严重破坏了，这个答案有很大不同。

# jquery - 如何在fancybox 中安装MediaElement 播放器？

> ID：10680237
> 
> 赞同：1
> 
> 时间：2012-05-21T06:09:51.670
> 
> 标签：jquery, fancybox, fancybox-2, mediaelement.js

HTML：

```
{% for movie in videos %}
    <div class="list_item">            
        <a class="open-fancybox" href="#fancybox">Play</a>
        <div id="fancybox">
          <video id="#mediaelement" src="{{ movie.file }}" preload=none></video>
        </div>      
    </div>   
{% endfor %} 
```

JS：

```
$(document).ready(function() {           

        $('.open-fancybox').fancybox({
            'afterShow': function() {
                $('#mediaelement').mediaelementplayer();
            }
        });

}); 
```

firebug 中没有错误。问题是fancybox 将整个页面作为内容而不是视频。

知道有什么问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-06-24T16:50:10.003

动态加载视频而不是内联嵌入会更好，所以我会这样做：

```
<a title="video title" data-poster="images/thumb.jpg" href="videos/video.mp4" class="fancy_video"><img alt="" src="images/thumb.jpg" /></a> 
```

**请注意**，我们直接在`href`属性中链接到 (mp4) 视频。还要注意 (HTML5)`data-poster`属性，它表示视频容器空闲时将显示在视频容器内的缩略图。然后是基本的 jQuery 代码：

```
// set some general variables
var $video_player, _player, _isPlaying = false;
jQuery(document).ready(function ($) {
    jQuery(".fancy_video").fancybox({
        // set type of content (we are building the HTML5 <video> tag as content)
        type: "html",
        // other API options
        scrolling: "no",
        fitToView: false,
        autoSize: false,
        beforeLoad: function () {
            // build the HTML5 video structure for fancyBox content with specific parameters
            this.content = "<video id='video_player' src='" + this.href + "' poster='" + $(this.element).data("poster") + "' width='360' height='360' controls='controls' preload='none' ></video>";
            // set fancyBox dimensions
            this.width = 360; // same as video width attribute
            this.height = 360; // same as video height attribute
        },
        afterShow: function () {
            // initialize MEJS player
            var $video_player = new MediaElementPlayer('#video_player', {
                defaultVideoWidth: this.width,
                defaultVideoHeight: this.height,
                success: function (mediaElement, domObject) {
                    _player = mediaElement; // override the "mediaElement" instance to be used outside the success setting
                    _player.load(); // fixes webkit firing any method before player is ready
                    _player.play(); // autoplay video (optional)
                    _player.addEventListener('playing', function () {
                        _isPlaying = true;
                    }, false);
                } // success
            });
        },
        beforeClose: function () {
            // if video is playing and we close fancyBox
            // safely remove Flash objects in IE
            if (_isPlaying && navigator.userAgent.match(/msie [6-8]/i)) {
                // video is playing AND we are using IE
                _player.remove(); // remove player instance for IE
                _isPlaying = false; // reinitialize flag
            };
        }
    });
}); // ready 
```

见**[JSFIDDLE](http://jsfiddle.net/6z5ZB/)**

**注意事项**：

*   尽管 jsfiddle 使用 mediaelement.js v2.13.2（cdnjs 提供的最新版本），但我始终建议更新到包含错误修复的最新版本（目前为 v2.14.2）。
*   该演示还使用了 fancyBox v2.1.15 并且仅涵盖 mp4 视频文件。

有关完整详细的代码说明，包括已知问题和解决方法，您可以参考本教程[http://www.picssel.com/play-mp4-videos-with-mediaelement-js-in-fancybox/](http://www.picssel.com/play-mp4-videos-with-mediaelement-js-in-fancybox/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-06T12:20:21.030

嗨，我认为您应该从 id 值中删除散列：

`<div id="fancybox">`代替`<div id="#fancybox">`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-01-31T17:54:26.647

我试图使用 mediaelement wordpress 插件来做这样的事情。我最终得到了类似的东西：

```
$('a.fancybox').fancybox({
    'afterShow': function() {
        mejs.$('video').mediaelementplayer();
    }
}); 
```

# java - 在Java中，如何仅在没有打开框架的情况下退出应用程序？

> ID：10680240
> 
> 赞同：1
> 
> 时间：2012-05-21T06:10:23.687
> 
> 标签：java, swing

我是 Java 桌面应用程序的新手。仅当没有打开框架时，如何使应用程序退出？在 VB.NET 中，项目属性中有一个选项，上面写着“最后一个表单关闭时存在”类似的东西。

基本上我有两个框架，Login 和 MainMenu。Login 首先显示，当用户成功登录后，Login 将关闭，MainMenu 将打开。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T06:31:00.610

您可以将所有框架放入`List`为每个框架添加窗口关闭事件并在窗口关闭时将其从列表中删除。如果列表不包含任何元素，您可以退出应用程序。

此外，您可以使用`setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-21T06:17:08.797

创建顶级框架时，请确保使用 setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); 告诉它关闭时要做什么 代码片段。

基本上，在 Java 中，如果你关闭一个窗口，它只是隐藏，而不是关闭，所以你可以重新使用它。这告诉 Java，当此特定窗口关闭时，您打算退出应用程序。

您是否有机会查看 Java Swing 教程路径？如果您有时间，请浏览[http://docs.oracle.com/javase/tutorial/uiswing/](http://docs.oracle.com/javase/tutorial/uiswing/) - 他们有很多有用的信息可能会对您有所帮助。从 .NET 的角度来看，某些 Swing 技术与您可能习惯的技术肯定不同。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-21T06:23:03.830

将它放在 JFrame 构造函数中，`setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)`

现在对于 Java 中的良好 GUI 应用程序，请在主要乐趣中使用以下内容

```
EventQueue.invokeLater(new Runnable() {

   MyFrame f = new MyFrame();

   f.setVisible(true);

} 
```

# jquery - 重新单击手风琴按钮时如何关闭手风琴内容？

> ID：10680242
> 
> 赞同：0
> 
> 时间：2012-05-21T06:10:26.890
> 
> 标签：jquery

有一个`JQuery` `accordion`：

```
<script type="text/javascript" >

    $(document).ready(function() {

        $('div.accordionButton').click(function() {
            $('div.accordionContent').slideUp('slow');  
            $(this).next().slideDown('slow');
        });
        $("div.accordionContent").hide();

    });

</script> 
```

当我第一次单击对象`div`“accordionButton”时，它的子内容会通过幻灯片显示。如何通过重新单击对象 div "accordionButton" 来隐藏此子内容？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:44:07.420

嗨试试这个非常紧凑，

```
$(function(){
   $(".accordionButton").click(function(){
      $(this).next(".accordionContent").slideToggle();
   });
}); 
```

请检查小提琴：

[http://jsfiddle.net/jaiprakashsah/9zw6b/1/](http://jsfiddle.net/jaiprakashsah/9zw6b/1/)

​</p>

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T06:27:30.240

**有用 ！**

```
$(document).ready(function() {

    $('div.accordionButton').click(function() {
        $('div.accordionContent').slideUp('slow');  
        if(!$(this).next().is(':visible')){
        $(this).next().slideDown('slow');
        }
    });
    $("div.accordionContent").hide();

});​ 
```

[http://jsfiddle.net/ipsjolly/m4BTd/](http://jsfiddle.net/ipsjolly/m4BTd/)

更新的小提琴：-

[http://jsfiddle.net/ipsjolly/m4BTd/1/](http://jsfiddle.net/ipsjolly/m4BTd/1/)

# java - 如何以编程方式将图像下载到 iPad？

> ID：10680245
> 
> 赞同：0
> 
> 时间：2012-05-21T06:10:39.860
> 
> 标签：java, javascript, objective-c, ios, cordova

我在服务器中有一些图像文件。我需要将图像文件移动或传输到 iPad 存储卡，以便我可以从 ipad 存储卡访问图像文件以用于我的 iPad 应用程序，而不是通过服务器快速加载图像。

我的服务器端正在使用java。我的客户端在 iPad 上使用 phonegap（javascript、html、css）。

在服务器端，我以图像格式发送响应 (response.setContentType("image/gif"))。但我无法使用 javascript 在客户端编写图像文件。

如何将图像文件传输到 iPad 内存存储？

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:30:54.010

你查阅[过文档](http://docs.phonegap.com/en/1.7.0/cordova_file_file.md.html#FileWriter)吗？

*编辑*您可能必须使用插件： http: [//blog.clearlyinnovative.com/post/1097750723/phonegap-plugin-for-downloading-url](http://blog.clearlyinnovative.com/post/1097750723/phonegap-plugin-for-downloading-url)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T13:24:20.693

您只是想在您的 Cordova 应用程序中使用 Javascript 下载图像？我正在使用以下代码将 PDF 下载到我的应用程序：

```
function downloadFileToPath(remoteUrl, localPath, successHandler, errorHandler) {
    if (!masseyApp.isInBrowser()) {
        var fileTransfer = new FileTransfer();
        fileTransfer.download(remoteUrl, localPath, 
            function(metadata) {

            console.log("Successfully downloaded " + remoteUrl + " to " + localPath + ".");

            if (successHandler) {
                successHandler(metadata);
            }

            }, 
            function (e) {
                errorHandler(error.createError(ERROR_IO_ERROR, "IO Error", "Failed to download " + e.source + " to " + e.target + " - " + fileErrorToString(e)));
            }
        );
    }
} 
```

也许您可以将它用于您的图像。

# ember.js - 让 Ember.js 下拉菜单默认选择一个选项

> ID：10680248
> 
> 赞同：2
> 
> 时间：2012-05-21T06:10:45.377
> 
> 标签：ember.js

下面是使用值默认下拉列表的片段。

```
App.selectedOption.set("option","1"); 
```

但是看不到使用默认值 onload 选择的下拉列表。这里可能是什么问题？

Ember 下拉菜单的片段

```
<script type="text/x-handlebars">
    {{#view App.SortSampleView  }}
      {{view Ember.Select
             contentBinding="App.viewSampleController"
             selectionBinding="App.selectedOption.option"
             optionLabelPath="content.name"
             optionValuePath="content.id" class="dropdown"
         prompt="Select..." }} 
    {{/view}}    
</script> 
```

选择绑定的片段：

```
App.selectedOption= Ember.Object.create({option:null}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T12:40:12.400

这是一个已知问题，请参阅问题跟踪器中的[#482](https://github.com/emberjs/ember.js/issues/482)。讨论指出，不支持通过设置来设置选定的选项，`valuePath`而是必须将特定对象设置为`selected`一个。见[http://jsfiddle.net/pangratz666/NgXpF/](http://jsfiddle.net/pangratz666/NgXpF/)：

**车把**：

```
<script type="text/x-handlebars">
      {{view Ember.Select
             contentBinding="App.viewSampleController"
             selectionBinding="App.selectedOptionController.option"
             optionLabelPath="content.name"
             optionValuePath="content.id" class="dropdown"
         prompt="Select..." }} 
</script>​ 
```

**JavaScript**：

```
App.viewSampleController = Ember.ArrayProxy.create({
    content: [],
    addObject: function(id, name){
        this.pushObject(Ember.Object.create({
            id: id,
            name: name
        }));
    }
});

App.selectedOptionController = Ember.Object.create({
    option: null
});

App.viewSampleController.addObject(1, 'first');
App.viewSampleController.addObject(2, 'second');
App.viewSampleController.addObject(3, 'third');

var second = App.viewSampleController.objectAt(1);
App.selectedOptionController.set('option', second); 
```

# android - 获取我自己的 .apk 文件名

> ID：10680256
> 
> 赞同：-1
> 
> 时间：2012-05-21T06:11:28.210
> 
> 标签：android

> **可能重复：**
> [如何在 Android 设备中获取文件 *.apk 位置](https://stackoverflow.com/questions/4635448/how-to-get-the-file-apk-location-in-android-device)

我应该如何获得我自己的应用程序名称，包括安装在 android 手机上的路径。通过代码它应该发生。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:18:45.533

[getPackageResourcePath()](http://developer.android.com/reference/android/content/Context.html#getPackageResourcePath%28%29) 和 [getPackageArchiveInfo(archiveFilePath, flags) 呢](http://developer.android.com/reference/android/content/pm/PackageManager.html#getPackageArchiveInfo%28java.lang.String,%20int%29)？

# mysql - 从恢复的硬盘恢复 MySQL 数据库文件夹

> ID：10680261
> 
> 赞同：17
> 
> 时间：2012-05-21T06:12:14.520
> 
> 标签：mysql, database-restore

我能够恢复损坏的操作系统 (Windows XP) 的 MySQL 服务器 5.5 的数据库文件夹

`C:\Documents and Settings\All Users\Application Data\MySQL\MySQL Server 5.5\data\`

如何手动将其还原到新的 MySQL 服务器？当我打开文件夹时，我发现了几个文件夹，我相信这些是数据库。我没有提交任何 SQL 文件。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-05-21T06:26:16.410

好的，我得到了我自己问题的答案。

可能的情况

1.  MYSQL 程序已损坏，无法启动。全新安装 MYSQL 没有恢复数据。
2.  电脑坏了，但硬盘还在工作
3.  Windows 已损坏且无法启动，但数据是安全的。

供您参考，在 MYSQL 中，带有扩展名的文件是`MYD`表数据，`FRM`文件是表定义，`MYI`文件是表索引。my.ini 中还`ibdata`指定了一个文件，即 InnoDB 表空间文件。您必须是`administrator`，才能访问*Document and Settings*文件夹或*Program Files 文件*夹。

1.  打开窗口资源管理器（Windows 键 + E）或打开我的电脑，然后转到数据库文件所在的数据文件夹。
2.  我建议您复制数据文件夹中的所有文件夹，而不是只选择几个进行复制。复制数据库文件夹和 ibdata 文件（请勿复制 ib_logfile(x) 文件！）请注意，ibdata 文件可能与数据文件不在同一位置。要找出它可能在哪里，请阅读如何在 Windows 中查找 MYSQL 数据库文件。
3.  转到目标计算机，打开系统服务。（在 Windows 菜单“搜索程序和文件”输入框中键入 services.msc）
4.  在“服务”窗口的右侧面板上，沿着列表滚动并查找名称“MYSQL”。选择 MYSQL 并单击鼠标右键并单击 。一旦停止，您的状态将变为空白，而不是 .
5.  同样查找数据文件夹的位置。找到它后，我建议您备份该文件夹或重命名它。粘贴您从源计算机复制到数据文件夹的文件夹和 ibdata 文件。
6.  返回服务窗口并选择返回 MYSQL。鼠标右键单击它并单击以恢复 MYSQL 服务。
7.  打开 MYSQL 管理员并登录到您的数据库服务器，您应该能够看到您传输的数据库及其数据。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-01-08T03:07:44.760

@JohnWoo 的答案仅适用于`MYSIAM`数据库引擎。我的答案是严格针对**InnoDb**存储引擎，即`FRM`和`IBD`文件

* * *

为了恢复`InnoDb`数据库，我成功地遵循了这些步骤。在指出这些步骤之前，我想告诉你，我从恢复的 Wndows XP 硬盘中执行了恢复并将其转移到 Windows 7。因此，这将有助于 windows xp 和 windows 7 用户。所以，我遵循的步骤是： -

*   **必须**停止两台机器上的 MySQL 服务器。当然，如果操作系统/硬盘崩溃，那台机器上的服务器已经停止。
*   现在，MySQL 安装在 2 个文件夹中（至少对我而言）->
    **1.** Program Files / Program Files (x86) 和
    **2.** C:\Program Data\MySQL in windows 7 和 C:\Users\All users\Application Windows XP 中的数据\MySQL。**请注意，Program Data(win7) 和 Application Data(WinXP) 是隐藏文件夹。**
*   我们只关心Application Data 或 Program Data 文件**夹中的 MySQL Server ** 文件夹。**Program Files 中的 Mysql 文件夹没有用，因为它没有您的数据。
*   现在将**my.ini**文件复制到 MySQL Server ** 文件夹中。
*   打开数据文件夹并复制这些文件
    **1\. 所有 ib_logfile* 文件
    2\. 所有 ibdata* 文件
    3\. 包含 .frm 和 .ibd 文件的数据库文件夹（您想要的）**
*   现在，将上面两点提到的文件复制到目标机器上。**强烈建议对目标计算机中的替换文件进行备份。**
*   现在，重新启动服务器。如果你做对了，你将恢复你的数据库而不会出现任何错误。

[我建议您在dev.mysql.com/doc/mysql-backup-excerpt/5.5/en/innodb-backup.html](http://dev.mysql.com/doc/mysql-backup-excerpt/5.5/en/innodb-backup.html)的 mysql 文档中查看 InnoDB 的冷备份方法

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-05-21T06:15:31.587

我认为默认情况下 MySQL 的文件管理非常简单。创建一个简单的新数据库，并将恢复的文件复制到响应创建的 mysql 子文件夹中，替换任何创建的数据库文件。如果这不起作用，请在新数据库中创建一个表以了解可能需要的其他内容。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-01-30T13:24:40.083

我也遇到了同样的问题，花了将近两到三天的时间来解决这个问题。我厌倦了我所看到的所有其他令人困惑的答案。最后，我从旧驱动器中检索了所有数据，现在可以在我的新 Microsoft 服务器安装中成功访问它。

这可能对其他人有帮助。

面临的问题：

1.  在旧硬盘中查找数据库文件：
    *答案：*按照此链接中给出的说明进行操作：
    [https ://www.quora.com/Where-is-the-database-stored-in-the-Microsoft-SQL-server/answer /Allu-Saiprudhvi?prompt_topic_bio=1](https://www.quora.com/Where-is-the-database-stored-in-the-Microsoft-SQL-server/answer/Allu-Saiprudhvi?prompt_topic_bio=1)

2.  如果无法打开旧硬盘中的文件夹（“The request could not be executed because of an I/O device error message”）：
    *答：*更改对应的磁盘名称。按照此链接中给出的说明“按照此链接中给出的说明”

3.  获取数据库文件夹后，首先下载与旧硬盘相同版本的Mysql服务器，您可以查看文件夹名称本身提到的版本。

4.  下载相同版本后，将数据库文件夹粘贴到数据文件夹中，如上面的说明1所示。

5.  Stop and start the Mysql server in services:
    *Answer:* To know how to restart a mysql server follow the instruction given in the link:
    [https://www.quora.com/How-do-I-start-the-MySQL-server-in-Windows-10/answer/Allu-Saiprudhvi?prompt_topic_bio=1](https://www.quora.com/How-do-I-start-the-MySQL-server-in-Windows-10/answer/Allu-Saiprudhvi?prompt_topic_bio=1)

6.  Now you can check it, this should successfully make the data inside database accessible using SQL server.

THANK YOU

# forms - 使用 jQuery Mobile 的精美页面转换系统有什么好处？

> ID：10680265
> 
> 赞同：1
> 
> 时间：2012-05-21T06:12:27.427
> 
> 标签：forms, jquery-mobile

我正在尝试以相当快的速度将一个相当简单的应用程序组合在一起，而且我是 jQuery Mobile 的新手，所以我面临着一个需要一些输入的设计决策。

我的一些页面使用表单通过 GET 将数据传递到下一页。现在我正在使用 jQuery Mobile 修改应用程序，我发现我需要对每个应用程序应用 'data-ajax="false"' 以便以老式方式将数据传递到页面。这会阻止通过 ajax 加载下一页。

我对此很满意，但我知道另一种选择——完全修改我目前的模型以适应 jQuery Mobile 的 ajax 系统。我不愿意这样做，因为这需要我更多的时间来弄清楚并且我需要更多的时间来重新实施。

所以问题是这样的：使用 jQuery Mobile 的数据传递系统重写我的应用程序以作为单个 DOM 运行，通过 ajax 加载许多页面有什么优势？我为什么要关心或打扰？

（你能说我几乎不了解他们的表单系统是如何工作的吗？）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T07:57:21.520

“JQM 方式”的一个优点是您永远不会离开第一页。

可以这样想：您加载的第一个页面将是您的“锚页面”，所有其他页面都将被添加到/删除。只有当您转到 data-rel="external" 或 data-ajax="false" 的链接时，加载的新页面才会成为您的下一个锚点。

JQM 需要这样做以启用转换（基本上它是将新页面加载到现有 DOM 中，将其放到当前页面的“下一个”，然后将其滑过）。如果你去一个完全没有 AJAX 的新页面，就没有动画。

对于您的示例，这可能意味着不需要从一个页面到另一个页面传递数据，因为您在 JQM 中从一个页面到另一个页面时，......您永远不会真正离开第一页。

我通常将一个对象附加到 $('html') 或 $(document)，其中包含我在后续页面上需要的任何内容。

您甚至不需要提交任何东西，只需绑定到[JQM 事件](http://jquerymobile.com/test/docs/api/events.html)，例如

```
 pagebeforehide 
```

这将在您离开某个页面之前被触发。在函数处理程序中，用表单值填充您的对象，并在提交前的最后一个表单页面上，只需使用先前页面中存储的表单值填充隐藏的输入

```
 pagebeforeshow 
```

希望有帮助。

# android - 如何为 android 创建 3d 标签球体 UI

> ID：10680267
> 
> 赞同：3
> 
> 时间：2012-05-21T06:12:32.087
> 
> 标签：android, android-layout

![在此处输入图像描述](../Images/659a810891b33adc23393d7fe05ccdf1.png)

在此布局图像中，鼠标触摸旋转，并以大字体突出显示前面的名称，然后单击它显示下一个活动。

如何在 Android 上创建它？

![在此处输入图像描述](../Images/858bdc0a9bdf2021d25ea93422f66d96.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-21T06:41:58.420

一种可能的实现如下：

*   创建一个看不见的球体。球体的顶点被计算为标签的位置，但不被绘制。您可以在 SO 的几个答案中找到球体算法，例如[这里](https://stackoverflow.com/questions/3811082/spinning-globe-in-opengl-es.)。
*   将标签附加到球体上的不同点，每个标签始终面向相机。
*   根据用户拖动动作旋转球体
*   根据 z 值淡化单词。
*   点击标签将旋转不可见的球体以将标签带到前面。

这可以在 SurfaceView 或带有 OpenGL 的 GLSurfaceView 中实现。如果您使用 SurfaceView，您可能需要将标签/顶点的数量保持在较低水平以使其顺利运行。

[这](https://sites.google.com/site/tagindemo/TagCloud)是一个关于如何为 Android 创建旋转标签球的教程。

# java - 数组列表 // Adding Doubles/Strings at specified index gives an error I'm learning how to use ArrayLists and decided to try making an ArrayList. I have found that I can do: ArrayList list = new Array 问问题 问问题 2012-05-21T06:12:39.433 2738 次 This question shows research effort; it is useful and clear 0 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. I'm learning how to use ArrayLists and decided to try making an ArrayList. I have found that I can do: ArrayList list = new ArrayList(); list.add("Hi"); list.add(new Integer(5), 9); (And I realize that I can just add an int, and it will auto-box it) The problem is that I cannot put a double or Double inside of the ArrayList at a specified index, which I can do with Integer. I've tried like this: list.add(new Double(4)); // I just redid it, and this one works. list.add(45.6); // So does this one. list.add(new Double(4), 6); // it's this one that doesn't. list.add(43.6, 9); // doesn't work either So Doubles do fit in an ArrayList, but you can't specify the index they should be at. If you try, the error that results is: no suitable method found for add(double, int) method java.util.ArrayList.add(int,java.lang.Object) is not applicable (actual argument double cannot be converted to int by method invocation conversion) method java.util.ArrayList.add(java.lang.Object) is not applicable (actual and formal argument lists differ in length) Why won't it allow a double (or a String) at a specified index, yet it allows an Integer? Thanks, -AJ set_theme does not work in module pyroCMS 2.1 I create a custom theme with name "uni" in addons/default/themes. Ok this work because i can see it in CP. Next i create a custom module with code : class Server extends Public_Controller { public function __construct() { parent::__construct(); } public function index() { $this->template->title($this->module_details['name'])->set_theme('uni')->build('test'); } } But when i browser this module, theme still is active theme on CP, so set_theme in module controller does not work. Any way to make module using custom theme instead of change the active theme in CP? java 4 5 回答 5 This answer is useful 6 仔细看看给出的错误。这就是说您正在add使用两个参数调用该方法。在这种特殊情况下，您将传入 adouble和 an int。即使使用泛型类型擦除，该方法显然也不存在。 看来您确实打算调用两个参数add方法。在这种情况下，你的论点颠倒了。第一个参数必须是列表中的索引（位置），而第二个参数必须是要添加的元素。你的例子应该是： list.add(6, new Double(4)); 这就是为什么在特定位置添加整数对您有用。根据类型检查器，它在技术上是正确的。然而，由于第一个参数是一个整数，它将它解释为索引，而您期望它被添加到列表中。 于 2012-05-21T06:17:46.153 回答 This answer is useful 3 没有找到适合 add(double, int) 的方法... 您的错误描述告诉您正在尝试将两个参数添加到您的 add 方法中，第一个是double，第二个是int这样的，add(double, int). 当您尝试添加Double这样的内容时会发生什么： list.add(new Double(5.5)); 于 2012-05-21T06:16:57.877 回答 This answer is useful 3 编辑：既然您已经澄清了您的帖子，很明显 - 如果您想调用也采用索引的重载，您需要将索引指定为第一个参数。 // Not this: list.add(43.6, 9); // But this: list.add(9, 43.6); 签名是： public void add(int index, E element) ......不是反过来。 无法重现。这工作正常： ArrayList list = new ArrayList(); list.add(5.5); list.add(new Double(5.4)); 如果您尝试通过一次调用添加两个值（即您正在传递两个参数），那么这是行不通的。您需要对add每个值进行一次调用，或者addAll使用另一个集合进行调用。 您是否有可能尝试在值中使用逗号，例如 list.add(5.234,1); 作为一种尝试添加“五千二百三十四点一”的方式？那会产生上面的错误，和 . 无关ArrayList。Java 中数字文字的格式始终用作.小数分隔符，并且不能包含逗号 - 尽管从 Java 7 开始，您可以使用下划线进行分组。所以你可以写： list.add(5_234.1); // Java 7 only 或者 list.add(5234.1); 当然，这可能根本不是你正在做的......但很难说，因为你没有包含不起作用的代码...... 于 2012-05-21T06:17:12.120 回答 This answer is useful 0 您发布的代码与您收到的错误不符。没有为add(double, int)找到合适的方法表明您正在尝试使用两个 argumenet 方法而不是一个 arg。 于 2012-05-21T06:18:00.667 回答 This answer is useful 0 在这里你使用了错误的方法， 有两种添加方法 ArrayList < Object > listObject = new ArrayList < Object > ( ); listObject.add ( "Hi" ); **listObject.add ( new Integer ( 5 ) ); listObject.add ( 1,new Double ( 5.0 ) );** System.out.println (listObject); 在第一个 add 方法中，将在列表末尾添加对象。在第二种方法中，对象将被添加到指定位置，（即在给定列表中的第一个位置） 根据您的异常消息 ，找不到适合 add(double, int) 方法的方法 java.util.ArrayList.add(int,java.lang.Object) 不适用（实际参数 double 不能通过方法调用转换转换为 int ）方法 java.util.ArrayList.add(java.lang.Object) 不适用（实际参数列表和形式参数列表的长度不同） 您在列表中的值的位置给出双倍值。这不可能。所以它应该总是 int 并且 value 可以是任何对象 于 2012-05-21T06:36:05.287 回答 Related 3 ios - IOS 7 UITextField resignFirstResponder 坏 2 c# - C# DevExpress GridControl 行 2 java - 正确进行交叉求和 1 vbscript - objIE.Document.body.innertext 是如何工作的？ 4 javascript - 选中和取消选中复选框时提交操作后显示和隐藏 div 3 php - 您可以在 Codeigniter 中为控制器文件名添加前缀吗？ 2 javascript - 如何循环遍历一个数组和一组 dom 元素并将数组的当前项添加到当前 dom 元素？ 1 salesforce - 在 VisualForce 的 SelectList 中显示函数的返回值 2 sql-server - 存储过程根据给定参数查看表 1 iso - 处理有故障的 ISO7816 APDU Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：10680270
> 
> 赞同：0
> 
> 时间：
> 
> 标签：java

I'm learning how to use ArrayLists and decided to try making an ArrayList. I have found that I can do:

```
ArrayList<Object> list = new ArrayList<Object>();
list.add("Hi");
list.add(new Integer(5), 9); 
```

(And I realize that I can just add an int, and it will auto-box it)
The problem is that I cannot put a double or Double inside of the ArrayList at a specified index, which I can do with Integer. I've tried like this:

```
list.add(new Double(4)); // I just redid it, and this one works. 
list.add(45.6); // So does this one.
list.add(new Double(4), 6); // it's this one that doesn't.
list.add(43.6, 9); // doesn't work either 
```

So Doubles do fit in an ArrayList, but you can't specify the index they should be at. If you try, the error that results is:

```
no suitable method found for add(double, int)
    method java.util.ArrayList.add(int,java.lang.Object) is not applicable
      (actual argument double cannot be converted to int by method invocation conversion)
    method java.util.ArrayList.add(java.lang.Object) is not applicable
      (actual and formal argument lists differ in length) 
```

Why won't it allow a double (or a String) at a specified index, yet it allows an Integer?
Thanks, -AJ

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-21T06:17:46.153

仔细看看给出的错误。这就是说您正在`add`使用两个参数调用该方法。在这种特殊情况下，您将传入 a`double`和 an `int`。即使使用泛型类型擦除，该方法[显然也不存在。](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html)

看来您确实打算调用两个参数`add`方法。在这种情况下，你的论点颠倒了。第一个参数必须是列表中的索引（位置），而第二个参数必须是要添加的元素。你的例子应该是：

```
list.add(6, new Double(4)); 
```

这就是为什么在特定位置添加整数对您有用。根据类型检查器，它在技术上是正确的。然而，由于第一个参数是一个整数，它将它解释为索引，而您期望它被添加到列表中。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-21T06:16:57.877

> 没有找到适合 add(double, int) 的方法...

您的错误描述告诉您正在尝试将两个参数添加到您的 add 方法中，第一个是`double`，第二个是`int`这样的，`add(double, int)`.

当您尝试添加`Double`这样的内容时会发生什么：

```
list.add(new Double(5.5)); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-21T06:17:12.120

编辑：既然您已经澄清了您的帖子，很明显 - 如果您想调用[也采用索引的重载](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#add%28int,%20E%29)，您需要将索引指定为第*一个*参数。

```
// Not this:
list.add(43.6, 9);
// But this:
list.add(9, 43.6); 
```

签名是：

```
public void add(int index, E element) 
```

......不是反过来。

* * *

无法重现。这工作正常：

```
ArrayList<Object> list = new ArrayList<Object>();
list.add(5.5);
list.add(new Double(5.4)); 
```

如果您尝试通过一次调用添加*两个*值（即您正在传递两个参数），那么这是行不通的。您需要对`add`每个值进行一次调用，或者`addAll`使用另一个集合进行调用。

您是否有可能尝试在值中使用逗号，例如

```
list.add(5.234,1); 
```

作为一种尝试添加“五千二百三十四点一”的方式？那会产生上面的错误，和 . 无关`ArrayList`。Java 中数字文字的格式*始终*用作`.`小数分隔符，并且不能包含逗号 - 尽管[从 Java 7 开始，您可以使用下划线进行分组](http://docs.oracle.com/javase/7/docs/technotes/guides/language/underscores-literals.html)。所以你可以写：

```
list.add(5_234.1); // Java 7 only 
```

或者

```
list.add(5234.1); 
```

当然，这可能根本不是你正在做的......但很难说，因为你没有包含不起作用的代码......

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T06:18:00.667

您发布的代码与您收到的错误不符。***没有为add(double, int)***找到合适的方法表明您正在尝试使用两个 argumenet 方法而不是一个 arg。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-21T06:36:05.287

在这里你使用了错误的方法，

有两种添加方法

```
 ArrayList < Object > listObject = new ArrayList < Object > ( );

    listObject.add ( "Hi" );
    **listObject.add ( new Integer ( 5 ) );
    listObject.add ( 1,new Double ( 5.0 ) );**
    System.out.println (listObject); 
```

在第一个 add 方法中，将在列表末尾添加对象。在第二种方法中，对象将被添加到指定位置，（即在给定列表中的第一个位置）

根据您的异常消息 **，找不到适合 add(double, int) 方法的方法 java.util.ArrayList.add(int,java.lang.Object) 不适用（实际参数 double 不能通过方法调用转换转换为 int ）方法 java.util.ArrayList.add(java.lang.Object) 不适用（实际参数列表和形式参数列表的长度不同）**

您在列表中的值的位置给出双倍值。这不可能。所以它应该总是 int 并且 value 可以是任何对象

# solr - 我们可以在不重新启动 solr 的情况下更新多核内的 solr 索引和模式吗？

> ID：10680273
> 
> 赞同：1
> 
> 时间：2012-05-21T06:12:56.413
> 
> 标签：solr, solrj

我有一种情况，我需要为 solr 索引更新/添加新模式。
在最坏的情况下，我还必须更新/添加新索引到正在运行的 solr。
我可以在不重新启动 solr 的情况下做到这一点吗？
是否可以在无需重新启动 solr 的情况下向多核空间添加新内核？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T11:38:51.220

是的，您可以使用 Solr 核心管理来完成此操作。

> 从 Solr1.3 开始，可以选择在运行时管理 SolrCore。此外，Solr 允许多个 SolrCore 实例在单个 Web 应用程序中运行。核心可以通过 CoreAdminHandler 进行动态管理。

有关所有详细信息，请参考 Solr Wiki 的[CoreAdmin](http://wiki.apache.org/solr/CoreAdmin)部分。

# actionscript-3 - 数据网格中的多行取消选择不适用于 Flex 中的 ItemRenderers

> ID：10680274
> 
> 赞同：0
> 
> 时间：2012-05-21T06:13:03.757
> 
> 标签：actionscript-3, apache-flex, actionscript, flex4, flex3

我有一个高级数据网格。我为每个单元格使用了 itemrenderers 来显示带有图像的文本。现在，当我尝试使用 ctrl 键对行进行多项选择时，它工作正常，但是当我尝试使用所选行上的 ctrl 键进行取消选择时所有选定的项目都被取消选择，只有我点击的项目突出显示。与没有 itemrenderers 的数据网格多选行相比，这不是正确的行为。当我点击非 itemrenderer 单元格时，取消选择行在取消选择的情况下工作得很好带有 itemrender 的行没有按预期工作。任何人都可以告诉我如何解决这个问题。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T13:02:41.643

Got the solution for the problem.I used itemrenderer along with itemeditor and activated edit after double click. when we select multiple rows with ctrl and deselect each item its not working because of itemeditor. so i checked if ctrl key is pressed then i made datagrid.editable to false else i made editable to true. Now i am able to do deselection of rows perfectly.

# jax-ws - 添加带有肥皂消息的 Axis 2 肥皂处理程序

> ID：10680279
> 
> 赞同：0
> 
> 时间：2012-05-21T06:14:00.133
> 
> 标签：jax-ws, cxf, axis2, soaphandler

**要求**

1.  需要调用具有 wsdl 的 web 服务，该服务不会通过浏览器打开。
    我有一个 wsdl 文档，其中给出了一个虚拟端点。
    一旦生成了存根类等，应在运行时更改端点。

2.  必须调用第三方方法，该方法将在 SOAP 消息中添加标头，此方法仅接受 SOAP 消息，必须从我们应该添加到流中的 SoapHandler 调用此方法。

我已经尝试过所有以下内容

Axis 2
该服务与 Axis2 配合良好，除了我只能访问处理程序中的 AxisMesage 而不能访问 SOAP 消息，因此我无法调用我的第三方方法失败的问题

Axis 1.4 服务运行良好，我可以访问 SOAP 消息，我可以使用它来调用第三方方法

Apache CXF、JAX-WS 等
由于 wsdl 不可用，如果我使用新的 wsdl 端点初始化服务类，或者如果我通过 bindingProvider 设置端点，则会引发异常，因此我无法调用服务。

**问题**
由于 Axis 1.4 很旧，因此普遍认为远离它。

Axis 2 很好，除了 AxisMessage 问题，有没有办法在我添加到 Axis 的处理程序中访问 SoapMessage。我能够添加的处理程序只是 Axis2 处理程序

在 CXF 和 JAX-WS 中，我可以添加我有 SoapMessage 的通用处理程序，但是当服务类被初始化或使用 BindingProvider 设置时它们会失败

任何建议
谢谢
查理

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-24T18:37:57.107

在 Axis2 中，AxisMessage 不代表当前消息。相反，它代表一个`wsdl:message`元素，即它是服务描述的一部分。要获取 SOAP 消息，请`SOAPEnvelope`从`MessageContext`.

# android - Android上的“自动换行”多个按钮

> ID：10680288
> 
> 赞同：1
> 
> 时间：2012-05-21T06:14:35.600
> 
> 标签：android, button

给定LinearLayout等中的多个按钮，是否可以设置属性，以便我自动让它们环绕多行，以便最好地利用可用空间，例如实现标签云可能想要做的。

我可能可以使用 WebView 和适当的 HTML 来做我想做的事情，但我更喜欢有一个原生的 Android 解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:51:16.263

听起来你想使用[`GridLayout`](http://developer.android.com/reference/android/widget/GridLayout.html). 这将允许您通过使列在屏幕上均匀伸展来控制多余的空间分布。

# php - php + 检查变量值是否在两个整数之间

> ID：10680299
> 
> 赞同：0
> 
> 时间：2012-05-21T06:16:47.687
> 
> 标签：php, if-statement, while-loop

我是新手，我认为我的 if-else 结构存在一些问题，但我无法理解问题到底是什么。

我正在尝试执行以下操作：

```
<?php

$num = 1; 

while($num <=10)
{
    if ($num < 4)
    {
    print $num . " is less than 4 /";
    } 
    elseif ($num = 4)
    {
    print $num . " is just 4 /";
    } 
    elseif (($num > 4) && ($num < 10))
    {
    print $num . " is more than 4 and less than 10 /";
    } 
    elseif ($num = 10)
    {
    print $num . " is just 10 /";
    } 

 $num++; 

} 
```

?>

我有几个小时的时间，所以我最终决定问。任何帮助将不胜感激！Ty 提前阅读。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-05-21T06:20:52.790

您正在使用赋值运算符'='，使用条件运算符

```
<?php

$num = 1; 

    while($num <=10)
    {
        if ($num < 4)
        {
        print $num . " is less than 4 /";
        } 
        elseif ($num == 4)
        {
        print $num . " is just 4 /";
        } 
        elseif (($num > 4) && ($num < 10))
        {
        print $num . " is more than 4 and less than 10 /";
        } 
        elseif ($num == 10)
        {
        print $num . " is just 10 /";
        } 

     $num++; 

    }
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T06:21:56.330

在您的 elseif 语句中，您必须使用 == 而不是 =

例如：elseif ($num == 4) 而不是 elseif ($num = 4)

您也可以考虑使用[switch](http://php.net/manual/en/control-structures.switch.php)语句。祝你好运！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:23:38.590

在 if 条件下，您需要比较变量。但是您正在使用赋值运算符。

请尝试这段代码。

4) && ($num

# android - Android OpenGL 顶点数组或 VBO

> ID：10680302
> 
> 赞同：0
> 
> 时间：2012-05-21T06:16:59.430
> 
> 标签：android, optimization, opengl-es, vbo

我在android上做了一点opengl编程，但我对k无法找到明确答案的东西有点困惑。

我读过 VBO 在 GPU 上分配内存并且适用于静态顶点数据，而顶点数组不分配数据，而是为每个绘图调用复制它。

当我在 android 上使用浮动缓冲区时，如下所示[http://blog.jayway.com/2009/12/04/opengl-es-tutorial-for-android-%E2%80%93-part-ii-building-一个多边形/](http://blog.jayway.com/2009/12/04/opengl-es-tutorial-for-android-%E2%80%93-part-ii-building-a-polygon/)

那是VBO还是顶点数组？

如果我想每帧修改我的顶点，那么在 android 中执行此操作的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:21:40.617

如果您在某个时候不打电话`glBufferData`（本教程没有），那么它就不是 VBO。

使用 floatBuffers 我相信数据仍然由 opengl 客户端保存，而不是在图形内存中。

在 GPU 拥有自己的板载内存且访问速度比系统 RAM 快得多的桌面系统上，这是非常重要的区别。但是在Android上，我想差异会小得多，因为它有统一的内存（系统和视频内存是共享的）。

# css - 选择性清除 IE7 中的浮动项目

> ID：10680309
> 
> 赞同：3
> 
> 时间：2012-05-21T06:17:35.287
> 
> 标签：css, internet-explorer, css-float, internet-explorer-7

我有一个包含 5 个项目的列表，这些项目向左浮动，并内联显示。在第 4 项上，我设置了 clear left，从而导致第 4 项进入新行。

但在 IE7 中，第 5 项浮动在第一行的第 3 项旁边，而不是浮动在新行的第 4 项旁边。任何想法如何让它为 IE7 工作？

jsfiddle.net/3dSsP/4/

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T14:26:58.477

我遇到过很多次，不幸的是我知道的唯一解决方案是有一个单独的清除元素来清除浮动。

它很丑，但它有效：

```
<ul>
  <li>List 1</li>
  <li>List 2</li>
  <li>List 3</li>
  <li class="clear">&nbsp;</li>
  <li>List 4</li>
  <li>List 5</li>
</ul> 
```

CSS：

```
.clear{
  display: block;
  float: none;
  clear: both;
  height: 1px;
  line-height: 1px;
  font-size: 1px;
} 
```

和字体声明将确保清除 div 只有 1 像素高，否则它将是当前字体大小的高度（耶！）。

由于这仅适用于 IE7，因此我会保持您的标记干净，并使用 javascript 动态添加这个额外的 guff，仅适用于 < IE8。

# coronasdk - 如何在电晕中插入 3d 字体？

> ID：10680312
> 
> 赞同：0
> 
> 时间：2012-05-21T06:17:58.307
> 
> 标签：coronasdk

在我的应用程序中，我必须插入 3d 字体。我必须为每种字体设置不同的颜色。使用条带。请给出一些想法。如何为相同的字体赋予不同的形状颜色。

`myText = display.newText( "corona", 0, 0, "Harrowprint", 22 )`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-09T03:12:52.947

```
myText:setTextColor(Rvalue,Gvalue,Bvalue) 
```

Corona 中没有 3D 字体渲染之类的东西 - TTF 字体文件定义了显示的内容

# module - set_theme 在模块 pyroCMS 2.1 中不起作用

> ID：10680317
> 
> 赞同：0
> 
> 时间：2012-05-21T06:18:08.733
> 
> 标签：module, pyrocms

我在插件/默认/主题中创建了一个名为“uni”的自定义主题。好的，因为我可以在 CP 中看到它。

接下来我用代码创建一个自定义模块：

```
class Server extends Public_Controller
{
public function __construct()
{
parent::__construct();

}
public function index()
{
$this->template->title($this->module_details['name'])->set_theme('uni')->build('test');

}
} 
```

但是当我浏览这个模块时，主题仍然是 CP 上的活动主题，所以模块控制器中的 set_theme 不起作用。

有什么方法可以使用自定义主题而不是更改 CP 中的活动主题来制作模块？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T02:56:09.287

如果我理解你的问题，那么这个问题类似于[PyroCMS - 自定义模块设计，从默认设计中清除 CSS 格式](https://stackoverflow.com/questions/9546499/pyrocms-custom-module-design-clear-css-formating-from-default-design/9560570#9560570)，你可以在那里找到解决方案。

**编辑** 通过你的解释，我认为你想为同一个模块使用两种不同的布局。我实际上不知道如何在控制器中执行此操作，但我可以对其进行硬编码。实际上，布局已加载，`/system/appname/libraries/Template.php`因此您可以在此处通过硬编码来解决它。这是我在 pyroCMS 1.3.2 中所做的解决方案，它可能与 2.1 版类似，或者您可以获得一些解决问题的提示。

要更改的文件`/system/appname/libraries/Template.php`。找到**构建**函数并找到条件并替换它。

```
if ($this->_layout)
{
    // Added to $this->_data['template'] by refference
    $template['body'] = $this->_body;
            $CI = &get_instance();

            if($CI->uri->segment(2) == 'backend'){
                    $this->_body =  self::_load_view('layouts/backend.html', $this->_data, TRUE, self::_find_view_folder());
            }
            else{
                    $this->_body =  self::_load_view('layouts/frontend.html', $this->_data, TRUE, self::_find_view_folder());
            }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T08:12:11.130

我认为要更改前端的“主题”，您需要使用自定义页面布局，而不是 set_theme

# sharepoint - SharePoint 2010 Master Page

> ID：10680322
> 
> 赞同：1
> 
> 时间：2012-05-21T06:18:53.553
> 
> 标签：sharepoint

Is creating a master page for sharepoint 2010 is the same like any asp.net app?

Am not familiar with sharepoint and am required to change the master page html with a new one, also to create one aspx page that uses the master one, is there any differences compared with the normal master page?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T09:57:02.503

# 母版页

母版页定义了页面的结构，例如整个站点通用的导航元素。

创建新母版页的常用技术是复制 SharePoint 附带的现有母版页之一。

您最好的选择应该是在 SharePoint Designer 2010 中查找或进行编辑`v4.master`。`minimal.master``C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\14\TEMPLATE\LAYOUTS`

# 页面

在创建新页面时，您有两种不同类型的页面，即应用程序页面和站点页面，它们都继承自同一个母版页。有关详细信息，请参阅[有关 SharePoint 页面类型的 MSDN 文章](http://msdn.microsoft.com/en-us/library/aa979592.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T10:12:49.590

sharepoint server 2010 在 sharepoint 设计器中打开你的 sharepoint 站点

在 sharepoint 设计器中找到 V4.master 页面复制此母版页并在该复制的母版页上重命名复制的母版页您可以更新/修改该母版页上的所有内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-12T15:10:26.077

关于创建引用母版页的 aspx 页面，ApplicationPages 的引用部分保持不变，即您使用 DynamicMasterPageFile 属性在 Page 指令中引用母版页。

定义母版页可能相同也可能不同，这取决于您的要求。但是，最好的办法是复制现有母版页并将不需要的 SharePoint 组件（如功能区）的可见性设置为无。

# css - Ipad 型导航按钮

> ID：10680324
> 
> 赞同：0
> 
> 时间：2012-05-21T06:19:04.973
> 
> 标签：css

Ipad 型导航按钮

我想要 ipad 类型的导航按钮。我能够获得有关此[http://css3wizardry.com/2010/06/28/create-back-next-buttons-with-css3/](http://css3wizardry.com/2010/06/28/create-back-next-buttons-with-css3/)的教程， 但这在 Firefox 上不起作用。我附上了下面的图片。在 css 中完成的任何帮助都会有所帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:25:14.517

这是因为本教程（出于某种原因）使用 webkit-only CSS3 属性。只要有以 开头的属性，就`-webkit-`为其他浏览器制作带有前缀的相同副本：

```
-webkit-border-radius: 5px;
-moz-border-radius: 5px;
-o-border-radius: 5px;
border-radius: 5px; 
```

如果您只针对直接支持 CSS3 的较新浏览器，则可以只使用 last 属性（根本没有前缀）。

# android - 如何录制 Android 设备屏幕？

> ID：10680325
> 
> 赞同：6
> 
> 时间：2012-05-21T06:19:09.437
> 
> 标签：android, screen, record, video-capture

我想创建一个应用程序，使用户能够`Capture Screen`使用他们的 Android 设备。就像我们在电脑上使用的任何屏幕录像机软件一样，请帮帮我

**编辑：1**

这里`Screen capture refers to Screen recording of device screen as video not snapshots of screen.`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-01-14T11:37:50.807

我还没有尝试过，但认为可以做到。Kitkat 提供了新功能，这就是其中之一您可以使用此命令将屏幕录制为视频

```
adb shell screenrecord /sdcard/demo.mp4 
```

您可以[在此处找到更多详细信息](http://developer.android.com/tools/help/adb.html#screenrecord)

您可以从您的应用程序执行 adb 命令。[在这里](https://stackoverflow.com/questions/13381828/is-it-possible-to-execute-adb-commands-through-my-android-app)检查答案

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-07-11T09:35:38.517

根据 Android 5.0 (Lollipop)，无需 root 即可使用[MediaProjection 包](https://developer.android.com/reference/android/media/projection/package-summary.html)进行屏幕录制。可以在[此处](https://android.googlesource.com/platform/development/+/bf1e262/samples/ApiDemos/src/com/example/android/apis/media/projection/MediaProjectionDemo.java)找到记录活动的示例。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-21T06:27:23.863

唯一的方法是使用有根设备。

尝试阅读这个答案：[Programmatic screencapture on mobile device](https://stackoverflow.com/questions/3582603/programmatic-screencapture-on-mobile-device)

***编辑1：***

屏幕截图与视频相同，即仅对一张图像进行屏幕截图。

**编辑2：**

有不同的应用程序可以从屏幕录制视频，例如[Screencast](https://play.google.com/store/apps/details?id=com.ms.screencast)和[ShootMe](http://thedroidguy.com/2011/08/shootme-screen-grabber-most-popular-screenshot-utility-gone-from-android-market/)。您可以在应用程序中使用`startActivity(new Intent(String action));`他们的操作名称来调用他们。

更多信息请阅读：[打开第三方应用程序](https://stackoverflow.com/questions/9752631/open-third-party-app)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-04-10T10:04:11.620

[较长答案](https://stackoverflow.com/questions/14336338/screen-video-record-of-current-activity-android/22984645#22984645)的摘要：

普通的 Android 应用程序缺乏捕获帧缓冲区的权限（特别是，它们不是 AID_GRAPHICS 组的成员），因此如果没有某种方法解决权限问题，您就无法从 Android 应用程序捕获屏幕。应用程序通过以下两种方式之一执行此操作：通过 root 或通过 ADB 接口启动服务器。因此，它可以在没有 root 的情况下完成，但是您需要启动自己的服务器并从您的应用程序连接到它（并且，显然，安全地处理这方面的安全隐患）

# html - 添加将 html 转换为 msword 文档的功能

> ID：10680330
> 
> 赞同：1
> 
> 时间：2012-05-21T06:19:23.943
> 
> 标签：html, ruby, ruby-on-rails-3, apache-poi

我在我的应用程序中添加了将 html 转换为 msword 文档的功能。

我正在尝试使用 Apache POI 集成到我的应用程序中，但我没有找到任何相关的东西可以帮助我将 Apache-POI 与 Ruby（Ruby-On-Rails 应用程序）集成。

如果您有任何想法或来源，请告诉我。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T13:10:13.800

看看网址：[http ://apache-poi.1045710.n5.nabble.com/Need-help-to-create-MS-Word-Doc-using-POI-HWPF-td2303656.html](http://apache-poi.1045710.n5.nabble.com/Need-help-to-create-MS-Word-Doc-using-POI-HWPF-td2303656.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-23T12:52:20.243

从概念上讲，有 3 种方法可以将 HTML 导入 Word：

第一个是为 Word 提供 HTML 文档。

第二个是创建一个 docx，其中包含一个包含 HTML 的 altChunk/alternative 格式输入部分，Word 可以在第一次打开 docx 时对其进行处理。

三是自己转换HTML。从 2.8.0 开始，docx4j（我是提交者）可以为您将 XHTML 转换为 docx 内容。它将 CSS 样式转换为 Word 格式。

# servlet-container - jsp容器与servlet容器

> ID：10680332
> 
> 赞同：5
> 
> 时间：2012-05-21T06:19:34.240
> 
> 标签：servlet-container

我正在研究 servlet 技术，在其中我听到了 servlet 容器和 jsp 容器这个术语，我很困惑两者是否相同。
jsp 页面由 jsp 容器处理，而 servlet 由 servlet 容器处理。
在搜索一些站点时，我在 servlet 容器中找到了一个名为**page compiler**的文件，当 jsp 请求到来时，它会将 servlet 容器转换为 jsp 容器。

所以我想知道，实际上这两个或两者之间发生的转换是可以互换使用的相同事物。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-21T06:51:57.253

首先，没有 JSP 容器不是 Servlet 容器，因为 JSP 在执行之前会被翻译成 Servlet。所以一个 JSP 容器必须支持 Servlet。

相反的情况并不总是如此，至少在 Servlet 技术刚出现并且容器被称为 Servlet 容器的旧时代。

JSP问世时，在旧的Servlet容器中增加了一个将JSP页面解释和处理成servlet的引擎，人们通常将这种容器称为JSP/Servlet容器。如今，JSP 容器和 Servlet 容器或多或少的意思是一样的，因为它们都支持 JSP 和 Servlet。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-10T16:22:12.373

Jsp 和servelet 是可以互换的。与 serverlet 一样，jsp 作为 Web 服务器的一部分执行。执行它们的服务器组件被称为 jsp 容器。

# ruby - ruby（net/http 和 rest-client）的 http 请求超时，但 curl + py 的速度很快

> ID：10680333
> 
> 赞同：0
> 
> 时间：2012-05-21T06:19:38.203
> 
> 标签：ruby, http, curl, rest-client

我正在通过其 http 端点（嵌入式码头）调用 java 服务。该服务处理超时为 5 秒的异步 http 请求，并且当我使用 url 参数、curl 或 py 脚本从浏览器调用它时，它可以可靠地工作。

当我使用 net/http 或 rest-client 从 ruby​​ 脚本调用它时，它会超时一半？！知道什么可能导致这种情况以及可能的解决方案是什么（使用红宝石）？

我正在使用 ruby​​ 1.9.3-p125 并且 ruby​​ 和 python 脚本都小于 10 行（我通常会从较大的代码中进行调用，但小版本也不起作用）。

网络/http

```
paramStr = "rid=#{rid}&id=#{id}&json=#{json}"
uri = URI.parse(URI.escape(proxy_server_addr+"?"+paramStr))
response = Net::HTTP.get_response(uri) 
```

休息客户端

```
resource = RestClient::Resource.new('http://myserver.com:9001', :timeout => 10)
response = resource["/"].get :params => {:id => id, :rid => rid, :json => json} 
```

卷曲

```
curl 'http://myserver:9001/?id=...' 
```

py

```
import urllib2
print urllib2.urlopen("http://myserver.com:9001?id=...").read() 
```

![在此处输入图像描述](../Images/7bce46ad4ca40daa396a7415634f8b19.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:48:16.583

你把它复杂化了。urllib2 的 ruby​​ 等价物是 open-uri：

```
require 'open-uri'
puts open("http://myserver.com:9001?id=...").read 
```

# php - 如何使用 php 访问 gmail 收件箱提要

> ID：10680342
> 
> 赞同：0
> 
> 时间：2012-05-21T06:20:40.693
> 
> 标签：php, python, cakephp, gmail-imap, simplepie

我有我的域的谷歌应用程序帐户。谷歌应用文档说要将 Gmail 与 Atom 一起使用，您必须已经有一个聚合器。我使用 php simplepie 在我的应用程序上解析 rss 和 atom 提要。谷歌文档说 url 是[https://mail.google.com/mail/feed/atom](https://mail.google.com/mail/feed/atom)，然后输入你的 Gmail 地址和密码。

我可以使用设置提要 URL 来设置 url。我似乎无法弄清楚如何添加用户名和密码。我很感激任何帮助。谢谢

**更新：-**

我的一位朋友说这在 python 中有效。

```
import urllib2

def get_unread_msgs(user, passwd):
    auth_handler = urllib2.HTTPBasicAuthHandler()
    auth_handler.add_password(
        realm='New mail feed',
        uri='https://mail.google.com',
        user='%s@gmail.com' % user,
        passwd=passwd
    )
    opener = urllib2.build_opener(auth_handler)
    urllib2.install_opener(opener)
    feed = urllib2.urlopen('https://mail.google.com/mail/feed/atom')
    return feed.read() 
```

我对python一无所知。我感谢任何可以帮助我了解如何在 php 中实现类似功能的人。

我感谢您的所有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T08:53:56.837

将 CURL 与`CURLOPT_USERPWD`选项一起使用并获取提到的 URL 的内容。

`curl_setopt($ch, CURLOPT_USERPWD, $username . ":" . $password);`

不过，这只给了我未读的电子邮件。

# c# - Retrieving the word from the mouse cursor position

> ID：10680343
> 
> 赞同：0
> 
> 时间：2012-05-21T06:20:41.917
> 
> 标签：c#, richtextbox, rich-text-editor

I am trying to retrieve the word from the RichTextEdit control where the mouse cursor currently focusing on

Is there any specific event in RichTextEdit that I can use to retrieve the word?

Thanks

regards, Balan

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:36:35.567

If you are not talking about Devexpress RichTextEdit , then i think you can use the carret position as it is shown here

[Problem with finding the next word in RichTextBox](https://stackoverflow.com/questions/2603764/problem-with-finding-the-next-word-in-richtextbox)

and also use the MouseDown event to use it .

also this maybe helps too

[http://msdn.microsoft.com/en-us/library/system.windows.controls.richtextbox.onmouseleftbuttondown%28v=vs.95%29.aspx](http://msdn.microsoft.com/en-us/library/system.windows.controls.richtextbox.onmouseleftbuttondown%28v=vs.95%29.aspx)

# objective-c - box2d iphone中身体尺寸与像素之间的关系

> ID：10680344
> 
> 赞同：2
> 
> 时间：2012-05-21T06:20:48.500
> 
> 标签：objective-c, xcode, box2d-iphone

谁能告诉我身体尺寸和像素数（在box2d中）之间的关系。一米长度有多少像素？更具体地说，我在我的程序中使用以下代码行

多边形体.SetAsBox(1, 1);

在这段代码中，SetASBox 的参数是什么。我的意思是它是像素值还是其他一些单位。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-16T13:20:06.940

一米大约是32像素。

不看手册，我的猜测是，因为`SetAsBox()`它是一个 box2d 函数，它需要以米为单位的参数。因此，如果您有像素值，则可以使用此定义轻松转换为米：

`#define PTM_RATIO 32`

在你的文件中包含这个可以让你忘记比率，只要你需要在像素和米之间进行转换，就可以使用这个定义。当您实际进行转换时，您可以根据上下文除以或乘以该比率 (32/1)。例如：

```
CGSize winSize = [[CCDirector sharedDirector] winSize];
b2Body *body = world->GetBodyList();

if(body->GetPosition().x*PTM_RATIO > winSize.width/2){
    // do stuff....
} 
```

如果您将米 (GetPosition) 与像素 (winSize) 进行比较，则此条件将不起作用，因此这是此转换有用的一个很好的示例。

或者，在您的情况下：

```
float pixel_width, pixel_height;
polygon_body.SetAsBox(pixel_width/PTM_RATIO, pixel_height/PTM_RATIO); 
```

# c# - 在 Intranet 应用程序中实施安全性

> ID：10680345
> 
> 赞同：2
> 
> 时间：2012-05-21T06:20:50.073
> 
> 标签：c#, wpf, security, sql-server-2008-r2, wcf-security

我使用 WPF、WCF、EF 4 和 SQL Seerver 2008 R2 的组合创建了一个桌面应用程序。

现在我必须准备我的软件以进行安全审计，并且我需要知道我能做些什么来确保我的应用程序中的安全参数。目前我正在使用带有 Active Directory 的 WCF 服务身份验证。

据我所知，我可以做以下事情来使我的应用程序更安全：

*   代码混淆——保护代码库
*   可以使用 TDE -- 保护数据库和加密机密表。
*   可以使用 SSL -- 来保护通信通道（任何关于此的好文章都会有很大帮助，因为我没有找到任何可以解释的好东西，比如如何为 Intranet 桌面应用程序执行此操作）

我还能做些什么来保护应用程序。我仍然不清楚如何保护客户端 <--> 服务器和服务器 <--> 数据库之间的通信通道。

任何帮助将不胜感激。谢谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T07:44:36.283

不要在混淆上浪费时间。良好的安全性是透明的。混淆只对保护知识产权有用，即使那样也是有争议的。

无论如何，听起来您想专注于几件事：

1.  为您的应用程序服务器和 SQL Server 获取 SSL 服务器证书。如果您不想把钱花在一个上，您可以创建自己的 PKI 或自签名证书颁发机构。我不建议将自签名用于生产，也不应掉以轻心推出自己的 PKI。

2.  [使用协议加密来保护您的应用程序和 SQL Server 实例之间的连接。](http://blogs.msdn.com/b/sql_protocols/archive/2005/10/04/476705.aspx)

3.  使用需要传输安全的绑定以使您的 WCF 通信使用 SSL。[http://msdn.microsoft.com/en-us/library/ms734679.aspx](http://msdn.microsoft.com/en-us/library/ms734679.aspx)

    [http://social.msdn.microsoft.com/Forums/en-US/wcf/thread/b361ee9e-2f37-4ecf-ba8b-96c6d6e6118a](http://social.msdn.microsoft.com/Forums/en-US/wcf/thread/b361ee9e-2f37-4ecf-ba8b-96c6d6e6118a)

4.  审核您的身份验证例程。你在散列和加盐密码吗？您是否审核安全事件（登录、注销、尝试失败）？您是否在一定次数的失败尝试后锁定帐户？等等等等。与审核您的人一起工作以了解他们将要寻找的内容会很有帮助。

# javascript - 无法为外部 javascript 文件设置变量

> ID：10680349
> 
> 赞同：0
> 
> 时间：2012-05-21T06:21:13.770
> 
> 标签：javascript, facebook-javascript-sdk

我有两个文件（html 和 js），如下所示。

测试.html

```
 <body>
  <script>
    /*Loads the fb api*/
    window.fbAsyncInit = function() {
      FB.init({
        appId      : '<APP-ID>',
        status     : true, 
        cookie     : true,
        xfbml      : true,
        oauth      : true,
      });
     TimelineScript(); /* function that loads the external javascript */
    };
    (function(d){
       var js, id = 'facebook-jssdk'; if (d.getElementById(id)) {return;}
       js = d.createElement('script'); js.id = id; js.async = true;
       js.src = "//connect.facebook.net/en_US/all.js";
       d.getElementsByTagName('head')[0].appendChild(js);
     }(document));

  . . .
  . . .
  . . .

  function TimelineScript(){
   FB.getLoginStatus(function(response) {
     if (response.status === 'connected') {
         var dt = new Date();
         var _testvar = 100;/*Used in the external javascript file*/       

         /*Loading my external javscript*/
         (function() {
            var sa = document.createElement('script'); 
            sa.type = 'text/javascript'; 
            sa.async = true;
            sa.src = 'http://www.mywebsite.com/javascripts/testing.js?random='+dt.getTime();
            var script_tag = document.getElementsByTagName('script')[0]; 
            script_tag.parentNode.insertBefore(sa, script_tag);

          })();

     } else if (response.status === 'not_authorized') {
       alert("the user is logged in to Facebook, but not auth your app");
     } else {
       alert('user is not logged into fb!');
     }
  });
 }

 </script>

  . . .
  . . .
  . . .

  </body> 
```

测试.js

```
alert('loaded testing .js'); //works
alert(_testvar); //throws error 
```

`_testvar is not defined`testing.js 文件中的警报在firebug 控制台中引发错误。如果我有一个仅声明一个变量然后加载外部 js 的纯脚本（没有所有 facebook api 代码），则警报工作正常。在这种情况下出了什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:23:26.870

如果您在函数之外定义“_testvar”，它应该可以工作。这允许变量在一个函数之外的范围内使用：

```
<script>
var _testvar = 0;
....
function TimelineScript(){
 FB.getLoginStatus(function(response) {
   if (response.status === 'connected') {
       var dt = new Date();
       _testvar = 100;/*Used in the external javascript file*/       

       /*Loading my external javscript*/
       (function() {
          var sa = document.createElement('script'); 
          sa.type = 'text/javascript'; 
          sa.async = true;
          sa.src = 'http://www.mywebsite.com/javascripts/testing.js?random='+dt.getTime();
          var script_tag = document.getElementsByTagName('script')[0]; 
          script_tag.parentNode.insertBefore(sa, script_tag);

        })();

   } else if (response.status === 'not_authorized') {
     alert("the user is logged in to Facebook, but not auth your app");
   } else {
     alert('user is not logged into fb!');
   }
}); 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:24:24.830

Javascript 为您创建的每个函数创建一个新的变量范围，无论它是否是匿名的。

所以`_testvar`下面的代码是匿名函数的本地代码，其他任何东西都无法访问，至少是另一个脚本文件：

```
 function TimelineScript(){
   FB.getLoginStatus(function(response) {
     if (response.status === 'connected') {
         var dt = new Date();
         var _testvar = 100;/*Used in the external javascript file*/ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:34:50.297

变量**_testvar**是通过**FB.getLoginStatus**异步（我认为）调用定义的。因此，由于 FB 试图获取登录状态，您测试变量的时间（即立即）甚至还没有设置。

这是因为**异步**模式；您可能会在收到异步响应时尝试设置同步模式或检查**_testvar ，而不是在代码之后。**

# load - NUnit 插件 - 我必须在每个测试项目中包含插件实现吗？

> ID：10680350
> 
> 赞同：5
> 
> 时间：2012-05-21T06:21:26.500
> 
> 标签：load, nunit, add-in

我最近在这里找到了一篇有用的帖子：[NUnit extension](https://stackoverflow.com/questions/6664271/nunit-extension)

但是我的问题仍然没有得到回答。

首先，什么是“**测试程序集**”？

其次，有人可以给我更详细的解释' **NUnit搜索每个测试程序集以查找要加载**的插件'吗？

例如，我的 VS2010 解决方案中有两个项目，比如说项目 A 和项目 B。A 是一个测试项目（里面包含 '[Test]'），B 是一个 NUnit 插件项目（包含插件安装程序，EventListener 接口实现，等等），并且，A 引用 B。这行得通吗？插件会被调用吗？

如果不是，我认为这意味着我必须将各种 .cs 文件（实现 NUnit 插件）直接包含在项目 A 中，而不是将它们放入单独的项目中并在测试项目中引用它。你是这个意思吗？

如果是这样，另一个问题是，当我有项目 C、D、E... 也是测试项目时，我必须在每个测试项目中包含那些不同的 .cs 文件（实现 NUnit 插件）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-09-29T10:20:19.970

要运行加载项，必须满足以下两个条件之一：

*   加载项是一个已编译的 .dll，位于“AddIns”文件夹中。
*   插件代码与测试在同一个程序集中。

但是，有一种方法可以将大部分插件代码放在不同的程序集中，并在测试程序集中有一个小的 shim 类，它允许 NUnit 找到它，例如：

### 在插件程序集中

```
public class CustomEventListener : IAddin, EventListener
{
    public bool Install(IExtensionHost host)
    {
        IExtensionPoint listeners = host.GetExtensionPoint("EventListeners");
        if (listeners == null)
            return false;

        listeners.Install(this);
        return true;
    }

    ........ <Implemented Interfaces> .......

} 
```

### 在测试组装中

在任何你喜欢的地方添加这个类：

```
[NUnitAddin]
public class MyAddin : CustomEventListener { } 
```

NUnit 将发现该`NUnitAddin`属性并调用基本代码中的`CustomerEventListener`代码，即使它位于不同的程序集中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T06:48:35.490

这是查理在谷歌群组上提供的答案。非常感谢查理！ [https://groups.google.com/forum/?fromgroups#!topic/nunit-discuss/yTKRKf2APLI](https://groups.google.com/forum/?fromgroups#!topic/nunit-discuss/yTKRKf2APLI)

回复：[nunit-discuss] 回复：NUnit 扩展

2012 年 5 月 21 日星期一上午 8:13，Athrun Sun 写道：

> 嗨查理，
> 
> 你能给我更详细的解释'NUnit搜索每个测试程序集以查找要加载的插件'吗？
> 
> 例如，我的 VS2010 解决方案中有两个项目，比如说项目 A 和项目 B。A 是一个测试项目（里面包含 '[Test]'），B 是一个 NUnit 插件项目（包含插件安装程序，EventListener 接口实现，等等），并且，A 引用 B。这行得通吗？插件会被调用吗？

在那种情况下，没有。B 不是测试程序集。

> 如果不是，我假设您的意思是我必须将各种 .cs 文件（实现 NUnit 插件）直接包含在项目 A 中，而不是将它们放入单独的项目中并在测试项目中引用它。你是这个意思吗？

确切地

> 如果是这样，另一个问题是，当我有项目 C、D、E... 也是测试项目时，我必须在每个测试项目中包含那些不同的 .cs 文件（实现 NUnit 插件）？

提供此功能是为了允许测试正在开发的扩展，因此需要在多个程序集中使用扩展并不是真正的问题。事实上，如果你要在两个程序集中复制代码，我想 NUnit 会尝试注册两个不同的插件，可能会产生令人惊讶的结果。:-)

对于生产使用，您应该以正常方式将插件安装在插件文件夹中。此外，最好不要从您的代码中引用插件程序集。尽管这可能并不总是会导致问题，但有时确实会导致插件被加载两次。

查理 - 显示引用的文字 -

> 要在网络上查看此讨论，请访问[https://groups.google.com/d/msg/nunit-discuss/-/a730uESbNJUJ](https://groups.google.com/d/msg/nunit-discuss/-/a730uESbNJUJ)。- 显示引用的文字 -

# c# - Windows Mobile 7 - C# 在运行时更改图像源

> ID：10680351
> 
> 赞同：1
> 
> 时间：2012-05-21T06:21:28.590
> 
> 标签：c#, windows-phone-7, runtime, bitmapimage

我试图在运行时更改图像的来源，以便在点击后更改图像。到目前为止，我下面的代码似乎导致图像变为空白。

```
BitmapImage imgSource = 
            new BitmapImage(new Uri("/PivotApp1;component/Images/halfstar.png"));
image1.Source = imgSource; 
```

在运行时更改资源图像是否需要做一些特别的事情？我试过通过谷歌搜索，但是，到目前为止，每一个类似的情况都会导致一个空白图像。我想也许源 uri 是错误的，但我已经排除了这不是原因，因为这是加载默认图像时的 uri。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T06:24:03.070

告诉 URI 是相对的

```
BitmapImage imgSource = new BitmapImage(
          new Uri("/PivotApp1;component/Images/halfstar.png", UriKind.Relative)); 
```

和

在分配 ImageSource 之前尝试将 source 设置为 null

```
image1.Source = null;
image1.Source = imgSource; 
```

# jquery - jQuery 内容附加代码不起作用

> ID：10680357
> 
> 赞同：2
> 
> 时间：2012-05-21T06:22:01.870
> 
> 标签：jquery

jQuery 需要将内容附加到另一个 html 标记，我的代码不起作用

```
<li>
    <div class="content">
      <div class="overview">this is text</div>
      <p></p>
    </div>
</li>

$('li').each(function(){

    var des = $('.content .overview',this).text();
    $ ('.content .overview',this)contents().appendTo($('.content p'));
    console.log(des)

}); 
```

[http://jsfiddle.net/daBYQ/](http://jsfiddle.net/daBYQ/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T06:23:17.093

你可以更容易地做到这一点：

```
$(".content p").text(function(){
    return $(this).prev().text();   
});​​​​​​​ 
```

小提琴：http: [//jsfiddle.net/daBYQ/2/](http://jsfiddle.net/daBYQ/2/)

jQuery 将在匹配的元素上执行一个隐式循环，并且该`.text`方法允许我们向它传递一个匿名函数，我们可以从中获取前面兄弟姐妹的文本内容到正在处理的当前段落。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-21T06:23:37.703

$('li').each(函数(){

```
var des = $('.content .overview',this).text();
$ ('.content .overview',this).contents().appendTo($('.content p'));
console.log(des) 
```

});

你错过了 ”。” 。内容（）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:24:32.073

```
$('li').each(function(){    
    var des = $('.content .overview',this).text();
    $ ('.content .overview',this).contents().appendTo($('.content p'));
    console.log(des)    
}); 
```

# opencv - 无法在 Opencv GPU 中检测到启用 CUDA 的设备

> ID：10680359
> 
> 赞同：0
> 
> 时间：2012-05-21T06:22:19.713
> 
> 标签：opencv, cuda, cmake, gpu, gpgpu

你好，

我正在尝试将 Opencv GPU 与 CUDA 一起使用。我已经使用 CMake 来编译带有 cuda 4.0 的 opencv 2.3.1 但是当我尝试使用函数 cv::gpu:getCudaEnabledDevice() 它返回我为零意味着没有可用的设备.

虽然我在我的系统中启用了 CUDA 的 gpu。任何人请帮我解决这个问题我已经尝试了很多，在 cmake 中它显示没有找到 CUDA_SDK_ROOT_CIR。这里应该给出哪个路径？

提前致谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:25:42.787

您应该从[这里将您的 NVIDIA 驱动程序更新到最新版本](http://www.nvidia.com/Download/index.aspx?lang=en-us)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T13:49:10.733

Are you sure that your cuda enabled gpu is not indexed as device zero? Also, try executing cuda SDK examples to check correct cuda setup.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-03T18:20:55.790

遵循清单：

1.  检查您的视频专有驱动程序版本
2.  检查您使用 ldd 编译的二进制文件 - 库是否到位？
3.  在 CUDA 示例中编译并运行 deviceQuery - 检查输出
4.  在专用模式下使用设备，即如果您使用 X11，请检查配置是否从此处完全清除了对 nvidia 驱动程序等的任何引用。
5.  从源代码编译 X11 和补充库，不要从预编译的二进制包中获取它

这个清单肯定涵盖了 80% 的 CUDA 邮件功能——我自己检查过。

# windows-8 - 从 Metro 应用程序的画布中获取图像文件

> ID：10680360
> 
> 赞同：4
> 
> 时间：2012-05-21T06:22:27.093
> 
> 标签：windows-8, microsoft-metro

我正在编写一个应用程序，让用户将元素（线条、背景图像、文本框...）添加到画布。然后我需要将画布保存为图像文件。谁能帮我 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T08:19:23.393

我假设您在应用程序中使用 XAML？已经有一些人设法将 XAML 保存为图像。

这篇博文是否可以帮助您找到答案？

[http://blogs.msdn.com/b/saveenr/archive/2008/09/18/wpf-xaml-saving-a-window-or-canvas-as-a-png-bitmap.aspx](http://blogs.msdn.com/b/saveenr/archive/2008/09/18/wpf-xaml-saving-a-window-or-canvas-as-a-png-bitmap.aspx)

[http://www.ageektrapped.com/blog/how-to-save-xaml-as-an-image/](http://www.ageektrapped.com/blog/how-to-save-xaml-as-an-image/)

# wpf - WPF如何在最大化窗口时免除任务栏

> ID：10680361
> 
> 赞同：2
> 
> 时间：2012-05-21T06:22:32.443
> 
> 标签：wpf, windows

我有一个 wpf 窗口，我为窗口标题应用了样式，并添加了一些代码来最大化窗口，当我单击最大化按钮并且它工作正常时，它不会覆盖任务栏。但问题是当我通过隐藏任务栏将窗口拖到顶部窗口最大化时，任何人都可以帮助我摆脱这种情况。

谢谢，@nagaraju。

dragmove 的代码：

```
void OnTitleBarLeftButtonDown(object sender, MouseEventArgs e)
        {                          
                Window window = this.TemplatedParent as Window;
                if (window != null)
                {
                    window.DragMove();
                }            
        } 
```

最大化代码：

```
void MaxButton_Click(object sender, RoutedEventArgs e)
        {
            Window window = this.TemplatedParent as Window;
            if (window != null)
            {
                if (state=="MAX")
                {
                    window.Width = 1181;
                    window.Height = 670;
                    window.WindowState = WindowState.Normal;
                    CenterWindowOnScreen();
                    state = "MIN";                    
                }
                else
                {
                    //maxButton.ImageDown = "/images/normalpress.png";
                    //maxButton.ImageNormal = "/images/normal.png";
                    //maxButton.ImageOver = "/images/normalhot.png";
                    state = "MAX";
                    window.Width = SystemParameters.WorkArea.Width;
                    window.Height = SystemParameters.WorkArea.Height;
                    window.Top = SystemParameters.WorkArea.Top;
                    window.Left = SystemParameters.WorkArea.Left;
                }
            }
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:40:24.897

避免很多麻烦，不要自己做——使用[shell 集成库](http://archive.msdn.microsoft.com/WPFShell)。

# spring - Spring如何管理休眠会话生命周期

> ID：10680364
> 
> 赞同：4
> 
> 时间：2012-05-21T06:23:14.193
> 
> 标签：spring, hibernate, session, lifecycle

Spring用于我们团队的Java EE项目，hibernate用于底层ORM。

transactionManager 设置如下：

```
<bean id="transactionManager"  class="org.springframework.orm.hibernate4.HibernateTransactionManager">
<property name="sessionFactory" ref="sessionFactory" />
</bean> 
```

sessionFactory 设置如下：

```
<bean id="sessionFactory"  class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
<property name="dataSource" ref="dataSource" />
<property name="packagesToScan"
value="com.company.model" />
<property name="hibernateProperties">

<value>
hibernate.dialect=org.hibernate.dialect.Oracle10gDialect
hibernate.show_sql=true
hibernate.jdbc.fetch_size=50
</value>
</property>
</bean> 
```

我的问题是考虑到整个设置，我没有看到休眠会话生命周期的任何属性设置。在休眠参考中，引入了上下文会话，据说有 CurrentSessionContext 的三个实现。

1.  JTA 2.Thread 3.Managed

我怎么知道使用了哪个实现。也许是 Spring，但我不知道。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T07:02:15.377

SessionFactory 由 Spring 使用给定的数据源创建，并从连接池中获取其数据库连接。我们通过 SessionFactory.getCurrentSession() 获得一个 Hibernate 会话。然后开始事务，执行工作，然后提交（）或回滚（），最后关闭连接（连接对象将返回到池中）。当我们停止应用程序或关闭服务器时，休眠会话工厂将被销毁/关闭。如果你使用 HibernateTransactionManager，默认情况下，将使用 CurrentSessionContext 的线程实现。如果你想使用，jta 实现：你必须使用“JtaTransactionManager”作为事务管理器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T13:07:41.723

The `hibernate.current_session_context_class` configuration parameter defines which `org.hibernate.context.CurrentSessionContext` implementation should be used. For backwards compatibility, if this configuration parameter is not set but a `org.hibernate.transaction.TransactionManagerLookup` is configured, Hibernate will use the `org.hibernate.context.JTASessionContext.`, which you can also configure by setting the property and using the shortform as 'jpa'.

So by default, you are using 'jpa' - you can override it by defining a property like.

```
<prop key="hibernate.current_session_context_class">managed</prop> 
```

Read this for complete information on contextual sessions.

[http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/architecture.html#architecture-current-session](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/architecture.html#architecture-current-session)

# c# - 委托调用

> ID：10680367
> 
> 赞同：1
> 
> 时间：2012-05-21T06:23:29.260
> 
> 标签：c#, wpf, delegates, invoke

我想从类中的进程线程事件触发中更改表单控件属性，我有以下代码，但我收到了这个异常：

> 调用线程无法访问此对象，因为不同的线程拥有它。

代码：

```
public partial class main : Window
{        
   public main()
   {
      InitializeComponent();
   }

   public void change()
   {
      label1.Content = "hello";
   }

   private void button1_Click(object sender, RoutedEventArgs e)
   {
      nmap nmap = new nmap(this);
      nmap.test("hello");
   }
}

class nmap
{
    private main _frm;
    private Process myprocess;

    public nmap(main frm)
    {
       _frm = frm;
    }

    public void test(object obj)
    {
        string s1 = Convert.ToString(obj);
        ProcessStartInfo startInfo = new ProcessStartInfo();
        myprocess = new Process();
        myprocess.StartInfo.FileName = "C:\\nmap\\nmap.exe";
        myprocess.EnableRaisingEvents = true;
        myprocess.Exited += new EventHandler(myProcess_Exited);

        myprocess.Start();
    }

    private void myProcess_Exited(object sender, System.EventArgs e)
    {
       try
       {
          _frm.change();
       }
       catch{}
    }
} 
```

请帮助我，我认为委托调用必须有效

我的项目是一个 WPF C# 项目。

答案是：

```
class nmap
    {
        private main _frm;
        private Process myprocess;

        public nmap()
        {

        }
        public nmap(main frm)
        {
            _frm = frm;
        }
        public void test(object obj)
        {
            string s1 = Convert.ToString(obj);
            ProcessStartInfo startInfo = new ProcessStartInfo();
            myprocess = new Process();
            myprocess.StartInfo.FileName = "C:\\nmap\\nmap.exe";
            //myprocess.StartInfo.CreateNoWindow = true;
            myprocess.EnableRaisingEvents = true;
            //myprocess.StartInfo.WindowStyle = ProcessWindowStyle.Hidden;
            myprocess.Exited += new EventHandler(myProcess_Exited);
            myprocess.Start();

        }

        private void myProcess_Exited(object sender, System.EventArgs e)
        {
            try
            {
                String s;
                s = "hello";
                _frm.Dispatcher.Invoke(_frm.USD, new Object[] { s });
            }
            catch{}
        }

    }

 public partial class main : Window
    {
        public delegate void UpdateStatusDelegate(string value);
        public UpdateStatusDelegate USD;

        public main()
        {
            InitializeComponent();
        }

        private void Window_Loaded(object sender, RoutedEventArgs e)
        {
            USD = new UpdateStatusDelegate(this.AddString);

        }
        private void AddString(String s)
        {
            label1.Content = s;

        }
        public void change()
        {
            label1.Content = "hello";
        }

        private void button1_Click(object sender, RoutedEventArgs e)
        {
            nmap nmap = new nmap(this);
            nmap.test("hello");

        }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T06:31:14.407

除了拥有该对象的线程之外，您不能触摸来自任何线程的任何 UI 元素。为此，您可以将调用包装在 Invoke 方法中，如下所示：

```
delegate void UpdateStatusDelegate (string value);

private void UpdateStatus(string value)
{
    if (InvokeRequired)
    {
        // We're not in the UI thread, so we need to call BeginInvoke
        BeginInvoke(new UpdateStatusDelegate(UpdateStatus), new object[]{value});
        return;
    }
    // Must be on the UI thread if we've got this far
    statusIndicator.Text = value;
} 
```

在 WPF 世界中，您可以使用 Dispatcher.Invoke 方法获得相同的结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T08:06:57.347

在您的公共无效更改方法上尝试此操作：

```
public void change(string text)
{
    if (label1.InvokeRequired)
    {
        var a = new Action<string>(change);
        this.Invoke(a, new object[] { text });
    }
    else
    {
        label1.Content = "hello";
    }
} 
```

取自[http://msdn.microsoft.com/en-us/library/ms171728(v=vs.80).aspx](http://msdn.microsoft.com/en-us/library/ms171728(v=vs.80).aspx)，稍作修改以适应您的问题。我建议您继续阅读，以便您了解正在发生的事情

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T09:28:08.513

您必须在 UI 线程上调用该方法。使用此代码：

```
public partial class main : Window 
{         
    //...
    public void change() 
    { 
        if(Dispatcher.Thread.ManagedThreadId == Thread.ManagedThreadId)
        {
            // The method was called within the UI thread
            label1.Content = "hello"; 
        }
        else
        {
            // The method was called from different thread and we need to call Invoke
            var callback = new Action(change);
            Dispatcher.Invoke(callback);
        }
    } 
    //..
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T09:31:36.317

您只需要对 myProcess_Exited 函数进行细微更改，以便调用发生在主 (UI) 线程上：

```
private void myProcess_Exited(object sender, System.EventArgs e)
{
    Application.Current.Dispatcher.BeginInvoke(() => {
        _frm.change();
     });
} 
```

# excel - Excel 到对象

> ID：10680370
> 
> 赞同：2
> 
> 时间：2012-05-21T06:23:43.133
> 
> 标签：excel

我在 asp.net mvc 中有一个将 excel 文件上传到操作中的项目。我将直接从 HttpPostedFileBase 读取数据作为 FileStream 并将其转换为对象而不将文件保存在服务器中。

```
 [HttpPost]
    public ActionResult AddBulkIndividual(HttpPostedFileBase file)
    {
            Application excel = new Application();
            excel.Visible = false;
            excel.Workbooks.Open(filePath);
            _Workbook workbook = excel.ActiveWorkbook;
            _Worksheet worksheet = workbook.ActiveSheet; 
```

......

我可以用什么代替文件路径来直接从文件流中读取？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T15:43:10.410

我不相信默认的 Excel 库可以从流中读取文件。您可以先将流写入文件并打开该文件，或者使用[ExcelDataReader](http://exceldatareader.codeplex.com/)之类的库。

如果您需要对 Excel 格式做更多的事情，我会查看[OfficeWriter](http://www.officewriter.com)，它可以从流中打开等等。但是，对于您的需求，这可能是矫枉过正。免责声明：我是构建先前版本的工程师之一。

# php - 需要帮助在简单的 php 中查找错误

> ID：10680371
> 
> 赞同：0
> 
> 时间：2012-05-21T06:23:51.850
> 
> 标签：php

我已经尝试了大约 2 个小时，但我找不到错误。一个变量从一个 html 表单传递到这个页面，我正在尝试为“医院”这个词创建一个过滤器，并将其重新拼写为“医院”。错误可能是微不足道的，但我找不到它。任何帮助将不胜感激。

```
<?php
if ($_POST["location"] == "hospitol") 
    function convertSpace($string){
        return str_replace("Hospitol", "Hospital", $string);
    }
    $string = $_POST["location"];
    echo filter_var($string, FILTER_CALLBACK, array("options"=>"convertSpace"));
else
    $location=$_POST["location"];
?> 
```

apache记录的错误是；

```
PHP Parse error:  syntax error, unexpected T_STRING, expecting '(' in
home/linux/public/job_scheduler_input_check.php on line 5, referer:
http://localhost/calendar.php 
```

注意： apa​​che 所指的行不正确，因为我将其从较大的文件中取出。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:27:45.837

此代码的结构方式不正确，您在单行条件之后定义了一个函数。为了清楚起见，您应该使用 {} 括号正确地包围您的陈述。该函数也应该在开始时定义。

```
<?php
function convertSpace($string){return str_replace("Hospitol", "Hospital", $string);}
if ($_POST["location"] == "hospitol") 
{
  $string = $_POST["location"];
  echo filter_var($string, FILTER_CALLBACK, array("options"=>"convertSpace"));
}
else
{
  $location=$_POST["location"];
}
?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T06:27:58.243

if else 条件的 {} 开始结束标记在哪里？你的语法是错误的。应该是

```
 <?php
         if ($_POST["location"] == "hospitol") {
         function convertSpace($string){return str_replace("Hospitol", "Hospital", $string);
         $string = $_POST["location"];
         echo filter_var($string, FILTER_CALLBACK, array("options"=>"convertSpace")); }
        else {
               $location=$_POST["location"]; 
             }
 ?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:28:29.713

```
 <?php
    if ($_POST["location"] == "hospitol") {
    function convertSpace($string){
        return str_replace("Hospitol", "Hospital", $string);
     }
    $string = $_POST["location"];
    echo filter_var($string, FILTER_CALLBACK, array("options"=>"convertSpace"));
    } 
    else
    $location=$_POST["location"];
    ?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T06:30:39.587

请检查您的 if 条件，这是错误的，甚至在 if 条件下调用函数也不是一个好习惯。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-21T06:26:40.583

我认为您不能只在 if 语句中声明一个函数。使用 {} 作为 if 并将函数移出。

# c# - 如何在c#中启动2次winform并从同一文件中读取不同的ID

> ID：10680376
> 
> 赞同：0
> 
> 时间：2012-05-21T06:24:22.647
> 
> 标签：c#, winforms

首先，我想为标题道歉。

我有一个winform，它通过1-200逐行读取文本文件的发布请求。我想在表单上放置一个文本框，当我第二次运行时在此文本框中写入从哪一行开始阅读。

例如：我运行我的应用程序并从 1-200 开始阅读和发布。然后我启动第二次应用程序并放入文本框 100 并开始从第 100-200 行读取相同的文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:29:23.793

你有几行，所以你可以使用这个代码。
这不是最好的，但很容易

```
int skip_count = Int32.Parse(TextBox1.Text) - 1;
string[] lines = File.ReadAllLines(your_file_path)
                     .Skip(skip_count)
                     .Take(200 - skip_count)
                     .ToArray(); 
```

请注意，您必须检查文本框输入...我的只是一个简单的示例...

**OP评论后更新：**

```
int skip_count;
if (!Int32.TryParse(TextBox1.Text, out skip_count))
    skip_count = 0;
string[] lines = File.ReadAllLines(your_file_path)
                     .Skip(skip_count)
                     .Take(200 - skip_count)
                     .ToArray(); 
```

您还可以检查`KeyDown`文本框事件并仅接受数字...

# java - 将 MySQL 连接器添加到 ANT build.xml 以进行 JAVA 编译

> ID：10680377
> 
> 赞同：-1
> 
> 时间：2012-05-21T06:24:23.880
> 
> 标签：java, ant

我需要编译并运行一个 java 文件 -`ClosureBuilder.java`它似乎可以编译，但在包含`lib`文件夹中的外部 jar 时显示错误，`mysql-connector-java-5.0.8-bin.jar`

```
 <property name="lib.dir"     value="lib"/>

    <path id="classpath">
        <fileset dir="${lib.dir}" includes="**/*.jar"/>
    </path>

<target name="init">

    <mkdir dir="build/classes" />
    <mkdir dir="dist" />
</target>
<target name="compile" depends="init">
    <javac srcdir="src" destdir="build/classes"  classpathref="classpath"/>
</target>
<target name="compress" depends="compile">
    <jar destfile="dist/ClosureBuilder.jar" basedir="build/classes" />
</target>

<target name="execute" depends="compile">
    <java classname="ClosureBuilder" fork="true" classpath="build/classes" >
    <classpath>
             <path refid="classpath"/>
             <path location="build/${ant.project.name}.jar"/>
     </classpath>
    </java>
</target> 
```

控制台显示：

```
 [java] Exception in thread "main" com.mysql.jdbc.CommunicationsException: Communications link failure due to underlying exception: 
 [java] ** BEGIN NESTED EXCEPTION ** 
 [java] java.net.ConnectException
 [java] MESSAGE: Connection refused
 [java] STACKTRACE:
 [java] java.net.ConnectException: Connection refused
 [java]     at java.net.PlainSocketImpl.socketConnect(Native Method)
 [java]     at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
 [java]     at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
 [java]     at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
 [java]     at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
 [java]     at java.net.Socket.connect(Socket.java:529)
 [java]     at java.net.Socket.connect(Socket.java:478)
 [java]     at java.net.Socket.<init>(Socket.java:375)
 [java]     at java.net.Socket.<init>(Socket.java:218)
 [java]     at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)
 [java]     at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:271)
 [java]     at com.mysql.jdbc.Connection.createNewIO(Connection.java:2771)
 [java]     at com.mysql.jdbc.Connection.<init>(Connection.java:1555)
 [java]     at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)
 [java]     at java.sql.DriverManager.getConnection(DriverManager.java:582)
 [java]     at java.sql.DriverManager.getConnection(DriverManager.java:207)
 [java]     at ClosureBuilder.start(Unknown Source)
 [java]     at ClosureBuilder.main(Unknown Source)
 [java] ** END NESTED EXCEPTION **
 [java] Last packet sent to the server was 0 ms ago.
 [java]     at com.mysql.jdbc.Connection.createNewIO(Connection.java:2847)
 [java]     at com.mysql.jdbc.Connection.<init>(Connection.java:1555)
 [java]     at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)
 [java]     at java.sql.DriverManager.getConnection(DriverManager.java:582)
 [java]     at java.sql.DriverManager.getConnection(DriverManager.java:207)
 [java]     at ClosureBuilder.start(Unknown Source)
 [java]     at ClosureBuilder.main(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:29:26.600

你可以在[这里](https://stackoverflow.com/questions/1079839/how-can-i-connect-to-an-oracle-database-from-ant-using-the-tnsname)帮助你。属性是为来自 ant 的连接 DB 定义的

# c# - Windows中的文件夹是否有ID？还是 GUID？

> ID：10680379
> 
> 赞同：2
> 
> 时间：2012-05-21T06:24:26.407
> 
> 标签：c#, c++, windows, directory, file-rename

我正在尝试做什么，我正在选择一个文件夹并复制它，如果文件夹被重命名，我想避免再次复制它。那么Windows中的每个文件夹是否都有一个ID，该ID与该文件夹保持一致直到被删除？

C# 将是完美的，或者 C++

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T06:37:38.547

我认为您看起来有点像这样：[Windows 的唯一文件 ID](http://discuss.fogcreek.com/joelonsoftware/default.asp?cmd=show&ixPost=42340) - [NTFS 上文件的唯一 ID？](http://www.osronline.com/showthread.cfm?link=147151)

Windows 可以使用函数[GetFileInformationByHandle()提供唯一的文件标识符](http://msdn.microsoft.com/library/default.asp?url=/library/en-us/fileio/base/getfileinformationbyhandle.asp)

示例：（hFile 是文件的句柄）

```
BY_HANDLE_FILE_INFORMATION FileInfo;

GetFileInformationByHandle(hFile, &FileInfo);
inode= FileInfo.nFileIndexLow | (FileInfo.nFileIndexHigh << 32);
volume=FileInfo.dwVolumeSerialNumber; 
```

我在这里得到了类似的[SO 线程](https://stackoverflow.com/questions/1866454/unique-file-identifier-in-windows)，这将帮助您实现您正在寻找的..

[唯一文件标识符](https://stackoverflow.com/questions/10129623/unique-file-identifier)和[唯一文件夹标识符](https://stackoverflow.com/questions/10132686/unique-folder-identifier)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T13:35:55.243

我不认为有办法找出文件夹。

# android - 如何访问从android中的节点列表递增1的子节点

> ID：10680383
> 
> 赞同：0
> 
> 时间：2012-05-21T06:24:33.243
> 
> 标签：android, arraylist, xmlnodelist

我想使用 nodelist 从 xml 文件中检索数据，但问题是我有图像属性，它是增量的如何获取此属性如何访问这里我将放置我的 xml 文件，以便您可以轻松理解

在这里看到图像属性增加 1 在这个有 photo_url 我想访问 tham 如何访问那个 photo_url

> 我的.xml

```
<?xml version="1.0"?>
 <datas>
<places>
<place_name>newyork,us</place_name>
<images>
<image1>
    <image_id>3</image_id>
    <photo_url>http://192.168.1.21/pictastic/Application/uploads76/1337004413.jpg</photo_url>
    <image_url>http://192.168.1.21/pictastic/Application/uploads/1337004413.jpg</image_url>
    </image1>
<image2>
    <image_id>4</image_id>
    <photo_url>http://192.168.1.21/pictastic/Application/uploads76/1337004534.jpg</photo_url>
    <image_url>http://192.168.1.21/pictastic/Application/uploads/1337004534.jpg</image_url>
</image2>
<image3>
     <image_id>5</image_id>
     <photo_url>http://192.168.1.21/pictastic/Application/uploads76/1337006024.jpg</photo_url>
     <image_url>http://192.168.1.21/pictastic/Application/uploads/1337006024.jpg</image_url>
</image3>
</images>
</places>
<places>
<place_name>newzeland,abc</place_name>
<images>
<image1>
     <image_id>2</image_id>
     <photo_url>http://192.168.1.21/pictastic/Application/uploads76/1337004360.jpg</photo_url>
     <image_url>http://192.168.1.21/pictastic/Application/uploads/1337004360.jpg</image_url>
</image1>
<image2>
     <image_id>46</image_id>
 <photo_url>http://192.168.1.21/pictastic/Application/uploads76/1337004360.jpg</photo_url>
     <image_url>http://192.168.1.21/pictastic/Application/uploads/1337004360.jpg</image_url>
</image2>
</images>
     </places>
    <places>
    <place_name>5, 7</place_name>
    <images>
    <image1>
        <image_id>42</image_id>
        <photo_url>http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg</photo_url>
        <image_url>http://192.168.1.21/pictastic/Application/uploads/1337057023.jpg</image_url>
    </image1>
       </images>
            </places> 
```

> 我的活动.java

```
 XMLParser parser = new XMLParser();
   String xml = parser.getXmlFromUrl(XURL); // getting XML
   Document doc = parser.getDomElement(xml); // getting DOM element
   NodeList nl = doc.getElementsByTagName(KEY_PLACES);
   NodeList nplacename=doc.getElementsByTagName(KEY_PLACENAME); 
   NodeList nimages=doc.getElementsByTagName(KEY_IMAGES);
   NodeList nimage=doc.getElementsByTagName(KEY_IMAGE);
   NodeList nimageid=doc.getElementsByTagName(KEY_IMAGEID);
   NodeList nimageurl=doc.getElementsByTagName(KEY_IMAGEURL);
   public void imageload()
{
     ArrayList<HashMap<String, String>> mylist = new ArrayList<HashMap<String, String>>();
    // looping through all item nodes <item>
     HashMap<String, String> map = new HashMap<String, String>();

    for (int i = 0; i < nl.getLength(); i++) 
    {
        if(nl.item(i).getNodeType()==Node.ELEMENT_NODE)
        {         
        NodeList nimages = nl.item(i).getChildNodes();
        Element e = (Element) nl.item(i);

        map.put(KEY_PLACENAME, parser.getValue(e, KEY_PLACENAME));

        for(int j = 0; j < nimages.getLength(); j++) 
        {  
            if (nimages.item(j).getNodeType() == Node.ELEMENT_NODE)
            {           
                //NodeList nimage=nimages.item(j).getChildNodes();
                Element eimages = (Element)nimages.item(j);
                 map.put(KEY_IMAGEURL, parser.getValue(e, KEY_IMAGEURL));   
                Log.e("Nimage","Nimage"+nimage);
                 mylist.add(map); 
                 Log.e("Mylist","Format----->"+mylist);

                    for(int k=0;k<nimage.getLength();k++)
                    {
                        Log.e("Nimage","Nimage"+nimage.getLength());
                        nimage.getLength();
                        Log.e("Nimage","Nimage"+nimage.getLength());
                        if (nimage.item(k).getNodeType() == Node.ELEMENT_NODE)
                        { 
                        //   NodeList nimageurl=nimage.item(k).getChildNodes();
                           Element eimage=(Element)nimage.item(k);
                           map.put(KEY_IMAGEURL, parser.getValue(e, KEY_IMAGEURL));
                           mylist.add(map); 
                        }

                    }

                }

            }
        }   
        mylist.add(map); 
        } 
```

但是当我访问时，这给了我错误的输出

在日志猫上我打印这个

> 日志输出

```
 05-21 11:49:36.357: D/dalvikvm(669): GC_FOR_MALLOC freed 3480 objects / 203712 bytes in 46ms
05-21 11:49:36.417: E/Nimage(669): Nimageorg.apache.harmony.xml.dom.NodeListImpl@44facb00
05-21 11:49:36.417: E/Mylist(669): Format----->[{photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004413.jpg, place_name=1, 4}]
05-21 11:49:36.417: E/Nimage(669): Nimageorg.apache.harmony.xml.dom.NodeListImpl@44facb00
05-21 11:49:36.417: E/Mylist(669): Format----->[{photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004413.jpg, place_name=1, 4}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004413.jpg, place_name=1, 4}]
05-21 11:49:36.417: E/Nimage(669): Nimageorg.apache.harmony.xml.dom.NodeListImpl@44facb00
05-21 11:49:36.427: E/Mylist(669): Format----->[{photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004360.jpg, place_name=2, 4}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004360.jpg, place_name=2, 4}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004360.jpg, place_name=2, 4}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004360.jpg, place_name=2, 4}]
05-21 11:49:36.427: E/Nimage(669): Nimageorg.apache.harmony.xml.dom.NodeListImpl@44facb00
05-21 11:49:36.427: E/Mylist(669): Format----->[{photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004360.jpg, place_name=2, 4}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004360.jpg, place_name=2, 4}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004360.jpg, place_name=2, 4}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004360.jpg, place_name=2, 4}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004360.jpg, place_name=2, 4}]
05-21 11:49:36.427: E/Nimage(669): Nimageorg.apache.harmony.xml.dom.NodeListImpl@44facb00
05-21 11:49:36.427: E/Mylist(669): Format----->[{photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}]
05-21 11:49:36.427: E/Nimage(669): Nimageorg.apache.harmony.xml.dom.NodeListImpl@44facb00
05-21 11:49:36.438: E/Mylist(669): Format----->[{photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337057023.jpg, place_name=5, 7}]
05-21 11:49:36.438: E/Nimage(669): Nimageorg.apache.harmony.xml.dom.NodeListImpl@44facb00
05-21 11:49:36.438: E/Mylist(669): Format----->[{photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}]
05-21 11:49:36.438: E/Nimage(669): Nimageorg.apache.harmony.xml.dom.NodeListImpl@44facb00
05-21 11:49:36.447: E/Mylist(669): Format----->[{photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337034609.jpg, place_name=Denmark, Eu}]
05-21 11:49:36.447: E/Nimage(669): Nimageorg.apache.harmony.xml.dom.NodeListImpl@44facb00
05-21 11:49:36.457: E/Mylist(669): Format----->[{photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}]
05-21 11:49:36.457: E/Nimage(669): Nimageorg.apache.harmony.xml.dom.NodeListImpl@44facb00
05-21 11:49:36.477: E/Mylist(669): Format----->[{photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}]
05-21 11:49:36.477: E/Mylist(669): Format----->[{photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}, {photo_url=http://192.168.1.21/pictastic/Application/uploads76/1337004257.jpg, place_name=Ahmadabad, IN}] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:40:09.237

更好的解决方案是在表单中使用更清晰的 XML……在这种情况下，您将能够使用拉解析器和数据绑定（如 XStream）轻松地将您的 xml 转换为 java bean。

如果无法修复 XML 结构，您可以使用 node.getChildNodes() 将节点中的所有子节点凝胶化，并按类型和名称过滤此列表。

PS：用于 xml 解析的使用 DOM 是如此 00 年代 - 我们现在有拉解析，它消耗更少的内存并且更容易处理

# html - HTML标签“FOR”只能引用“ID”？

> ID：10680385
> 
> 赞同：3
> 
> 时间：2012-05-21T06:24:47.893
> 
> 标签：html, jquery-ui

好的，我有一个这样的 Html 元素

```
<input type="button" id="harhar"/><label for="harhar">Im only for Id</label> 
```

我是否可以将标签引用到不使用 id 而是使用类的元素？像这个

```
<input type="button" class="harhar"/><label for="harhar">Refer me as a class</label> 
```

这可能吗？

**注意：这是为了在服务器端创建动态 Jquery UI 按钮**，这就是为什么我希望它引用一个类

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:28:16.903

不，标签总是指 ID，因为只有 ID 在文档中是唯一的，而这正是标签所需要的。

您将不得不退回到创建具有可预测的（如果是动态的）ID 的按钮。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-21T06:28:19.003

根据[html 规范](http://www.w3.org/TR/html4/interact/forms.html#h-17.9.1)，您必须在`for`属性中使用元素 id。但是，该规范还指出

> 当 [for attribute is] 不存在时，被定义的标签与元素的内容相关联。

因此，您可以通过重新排列 html 代码将标签与输入相关联。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-21T06:28:45.120

不，不可能将一个类和一个 for 匹配在一起。但是，您可以采取一些措施来确保您的 id 和 for 与其他 for 和 id 属性唯一不同。

当您在服务器端生成元素时，请使用 for 循环或其他一些循环结构来枚举您的 id/for 属性。

```
<input type="button" id="harhar_1"/><label for="harhar_1">Im only for Id</label>
<input type="button" id="harhar_2"/><label for="harhar_2">Im only for Id</label>
<input type="button" id="harhar_3"/><label for="harhar_3">Im only for Id</label> 
```

如果您可以这样生成 HTML，那么您将能够匹配您的标签和值，同时仍然使用唯一 ID。

此外，没有什么可以阻止您仍然对所有元素应用通用类名，以便您仍然可以使用 CSS 或选择器轻松引用它们：

```
<input class="harhar" type="button" id="harhar_1"/><label for="harhar_1">Im only for Id</label>
<input class="harhar" type="button" id="harhar_2"/><label for="harhar_2">Im only for Id</label>
<input class="harhar" type="button" id="harhar_3"/><label for="harhar_3">Im only for Id</label> 
```

这为您提供了编写简洁的 CSS 规则或快速轻松地操作 DOM 所需的钩子。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-05-21T06:33:11.077

根据规格标签，必须与 ID 匹配。

一种解决方法是让标签包裹它的目标元素。但是，它不适用于屏幕阅读器等（您可以使用相同的文本作为`title`输入元素的属性）。

```
<label><input type="button" title="I am the same label" />
     I know change how this's styled...</label> 
```

# jquery - jQuery对话框中的zeroclipboard复制文本不起作用

> ID：10680389
> 
> 赞同：3
> 
> 时间：2012-05-21T06:25:30.647
> 
> 标签：jquery, copy, jquery-dialog, zeroclipboard

我在我的页面中使用 jquery ui 对话框，令人惊讶的是 zeroclipboard 复制到剪贴板功能在 jquery 对话框中不起作用。

这是我的全部代码...

```
<html>
<head>
    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/smoothness/jquery-ui.css" rel="stylesheet" 
    type="text/css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
    <script type="text/javascript" src="http://davidwalsh.name/dw-content/ZeroClipboard.js"></script>

    <script type="text/javascript"> 
    $(function(){
        $('#ex1').click(function(){
            var div = $('#div1');
            div.dialog(
                {
                    title:'Dialog1',
                    width: 300,
                    height: 150,
                    closeOnEscape: false
                });
        });
    });

    function toClipboard(me, msg_id) {
                        ZeroClipboard.setMoviePath('http://davidwalsh.name/dw-content/ZeroClipboard.swf');
                        var clip = new ZeroClipboard.Client();
                        //clip.setHandCursor( true );
                        var txt = $("#msg_p_span_"+msg_id).html();

                        console.log("Text: "+txt);
                            clip.addEventListener('mousedown',function() {
                            clip.setText(txt);
                            console.log("Copied");
                            });
                            clip.addEventListener('complete',function(client,text) {
                            alert('copied: ' + text);
                            });
                        clip.glue(me);
                }
    </script>

<title>jQuery UI dialog extra demo</title>
</head>
<body>

  <span id="msg_p_span_1" style="display:none;">Testing the clipboard copy 1.</span>
  <span title="Copy to clipboard" style="cursor: pointer; text-decoration:underline;" onmouseOver="toClipboard(this, 1)">Copy</span>
  <button id="ex1">Launch dialog</button>

<div id="div1" style="display:none;">

<p style="padding: 10px 3px; font-size: 12px;" id="msg_p_2">
<span id="msg_p_span_2">Testing the clipboard copy 2.</span>
<span style="float: right; width: 25px; margin-right: 10px;">
<span title="Copy to clipboard" style="cursor: pointer; text-decoration:underline;" onmouseOver="toClipboard(this, 2)">Copy</span>
</span>
</p>

</div>  
</body>
</html> 
```

如果我单击第一个“复制”链接，文本将被很好地复制并生成警报。但是当我启动 jquery 对话框并单击其中的“复制”链接时，文本不会被复制。

可能有人可以使用上面的代码（复制粘贴）重现该问题并找到它。

注意：我正在关注[Davidwalsh 网站上的核心示例](http://davidwalsh.name/clipboard)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-21T11:07:57.743

好吧，经过大量谷歌搜索，我找到了解决问题的方法。

正如这些官方谷歌代码项目页面所述： [**here**](http://code.google.com/p/zeroclipboard/issues/detail?id=30)和[**here**](http://code.google.com/p/zeroclipboard/issues/detail?id=49)（对不起，链接已损坏），我发现建议将我们设置为复制元素的元素提供（在我的情况下，它是“复制”链接在 jquery 对话框内），一个更高的 z-index 值（比如 9999）。

我发现的另一种方法是，如果我为 jquery 对话框 div 提供了较小的 z-index 值，则复制到剪贴板功能工作正常。

希望这对将来的某人有所帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-21T09:06:36.733

![enter image description here](../Images/887de97f1b2aa9b59abdf24a11203c0b.png)

Your code is working fine. Just make sure you are testing code on a host. It will not work like other other html files work. The files must be placed on some host e.g localhost to get it working.

P.S I didnt read about the dialog copy button . Checking that now.

# javascript - 创建像 Facebook 和 Twitter 这样的 Javascript API

> ID：10680397
> 
> 赞同：1
> 
> 时间：2012-05-21T06:26:03.393
> 
> 标签：javascript, facebook, api, twitter

我正在为我的应用程序创建类似于 Facebook 或 Twitter Javascript SDK 工作方式的 javascript API 方法。有人可以就可以帮助我类似地开发 Javascript 方法的资源提供建议。我打算做以下事情：

*   用户应该能够异步加载 Javascript。
*   加载 Javascript 后，调用一个方法在特定元素上加载 iframe。

感谢人们是否可以帮助我实现这一目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:57:23.520

做这样的事情很简单。

异步加载库很容易，与 facebook 无关，它是一个 javascript 的东西，例如使用 facebooks 的示例：

```
(function(d){
    var js, 
        id = "LIB_ID", 
        ref = d.getElementsByTagName('script')[0];

    if (d.getElementById(id)) {
        return;
    }

    js = d.createElement("script");
    js.id = id;
    js.async = true;
    js.src = "URL_OF_LIB";
    ref.parentNode.insertBefore(js, ref);
}(document)); 
```

这将异步加载你的js。

为了能够“通知”库已加载，您可以使用 facebook 正在使用的方法，该方法是在窗口上定义回调，因此您的 lib 用户将执行以下操作：

```
window.libLoaded = function() {
        // Do what ever when the library is loaded
} 
```

在您的 lib 代码中，最后只需调用该回调：

```
window.libLoaded(); 
```

动态创建 iframe 也非常简单：

```
function loadFrame(url, domEl) {
        var frame = document.createElement("iframe");
        frame.src = url;
        domEl.appendChild(frame);
} 
```

但是，您将无法在 iframe 文档和主文档之间进行通信，因为（我假设）它们不会共享相同的域，并且由于相同的来源策略，浏览器会阻止这种情况。

# c# - 你能隐藏来自包嗅探器的 Web 服务 ASMX 调用吗？

> ID：10680403
> 
> 赞同：0
> 
> 时间：2012-05-21T06:27:07.177
> 
> 标签：c#, web-services, asmx, call, packet

我是 Web 服务的新手，所以我创建了一个 Web 服务来替换我当前的应用内数据库事务。我希望事情更安全，所以这就是我走这条路的原因。

当使用免费的数据包嗅探器时，它会立即抓取我的 Web 服务 ASMX 调用。这样做的问题是，使用诸如提琴手之类的程序，他们可以很容易地看到来回的数据，甚至更糟糕的是设置了自动响应器。

有没有办法隐藏发送到 Web 服务的调用以隐藏数据包嗅探器？或者至少让看电话变得更加困难？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:29:24.733

仅出于传输级别的安全性将其通过安全通道（例如 SSL）公开。

或者，您可以选择实施[WS-Security](http://en.wikipedia.org/wiki/WS-Security)来验证调用者的身份、签署有效负载或加密有效负载（部分或全部）；或以上任意组合。

这是一篇在 ASP.NET 上下文中讨论此问题的文章：http: [//msdn.microsoft.com/en-us/magazine/cc188947.aspx](http://msdn.microsoft.com/en-us/magazine/cc188947.aspx)

# c# - 从 javascript 调用 .cs 类文件（c#）函数

> ID：10680409
> 
> 赞同：-1
> 
> 时间：2012-05-21T06:27:45.890
> 
> 标签：c#, javascript

我对从 javascript 调用 .cs 类文件（C#）函数有疑问 我的代码：我有像 call_cs_function_from_js 这样的类文件（.cs）

```
------------------------------------------------------------------

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;

namespace call_cs_function_from_js
{
    public class cal_lcs_function_from_js
    {
        public void getdata()
        {

        }
    }
} 
```

## 这是javascript代码文件：

```
<script type="text/javascript">
function call(){
  cal_lcs_function_from_js.getdata();  //This way is not working 
  alert('called');
}
</script> 
```

在这里，我想从 call()（意思是 .js）调用 cal_lcs_function_from_js 的 getdata。call() 在按钮单击时调用。

请告诉我其他方法是什么。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-21T06:33:01.187

您不能直接从您的 javascript 代码调用您的 C# 函数。由于 javascript 在客户端运行，而您的 C# 函数驻留在服务器上。为此，您必须创建一个 Web 服务，并使用`Ajax`.

**更新：**

1.  首先将命名空间添加`using System.Web.Services;`到您的网页。
2.  将以下方法添加到您的页面

    ```
    [WebMethod]
    public string GetData()
    {
        return ("");
    } 
    ```

3.  使用 调用该方法`Ajax`。

    $.ajax({ type: "GET", url: "/GetData", success: function (data) { });

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:32:33.370

使用 javascript 调用 C# 函数的唯一方法是在 ASP.NET 页面中运行 C# 函数。然后，您将使用来自 javascript 的 ajax 调用来调用 ASP.Net 页面并检索函数的结果。

[http://api.jquery.com/jQuery.ajax/](http://api.jquery.com/jQuery.ajax/)

```
function call(){
  $.ajax({
    url: "/cal_lcs_function_from_js"
  }).done(function() { 
    alert('called');
  });
} 
```

其中“/cal_lcs_function_from_js”是在 ASP.net 中运行的页面，位于与运行 javascript 文件相同的 Web 服务器上。

# android - FrameLayout 的目的是什么，我们应该在什么场景下使用它？

> ID：10680416
> 
> 赞同：8
> 
> 时间：2012-05-21T06:28:02.440
> 
> 标签：android, android-framelayout, android-relativelayout, android-viewgroup

`FrameLayout`在 Android 中服务的目的是什么？有没有针对它设计的特定场景？

在我的 Android 应用程序中，我有一个场景，我必须显示两个`ImageView`s，一个在另一个之上。这是一个`.png`图像文件，在该图像上可绘制 9 个补丁。

`ViewGroup`为此我应该使用哪个：`RelativeLayout`或`FrameLayout`？

我还想知道每个`ViewGroup`s 应该用于的不同场景。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-11-16T22:49:30.080

我不记得我是如何回答这个问题的，但这是我的答案，可以帮助任何人：

正如你[在这里看到的](https://developer.android.com/reference/android/widget/FrameLayout.html)

> FrameLayout 旨在阻止屏幕上的一个区域以显示单个项目。通常，应该使用 FrameLayout 来保存单个子视图，因为很难以一种可缩放到不同屏幕尺寸的方式组织子视图，而不会使子视图相互重叠。

一般来说，一个重叠的两个视图是没有用的，因为你会有过度绘制的效果（一个屏幕区域被 gpu 多次绘制，这真的没用）。

如果你真的需要，那么你需要使用 onDraw 方法（你可以[在这里](https://stackoverflow.com/questions/21221649/android-how-to-use-the-ondraw-method-in-a-class-extending-activity)看到一个例子）和 Canvas API（看看[这里](https://developer.android.com/reference/android/graphics/Canvas.html)）和 clipRect 方法（你可以[在这里](https://stackoverflow.com/questions/3331805/using-cliprect-explanation)看到一个例子）

关于 FrameLayout 或 RelativeLayout，如果你想保持简单或者你的 Activity 已经有足够的嵌套布局，最好使用 FrameLayout。在 2017 年，约束布局也可能会有所帮助。

* * *

## 回答 #2

> 赞同：-5
> 
> 时间：2012-05-21T06:43:52.497

是的，您可以`FrameLayout`在您的场景中使用 a 。

# android - 错误：设备离线

> ID：10680417
> 
> 赞同：35
> 
> 时间：2012-05-21T06:28:05.327
> 
> 标签：android, debugging, android-emulator, adb

模拟器正在运行。`adb shell`但是当我在我的 shell 中写作时，我得到：

> 错误：设备离线

这是什么原因？我该如何摆脱它？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-04-08T15:46:13.543

如果“adb devices”列出了您的设备，但作为“离线”，您的路径可能会导致旧版本的 adb（例如 1.0.29）在最新的 Android 4 设备上存在问题。确保“adb 版本”返回 1.0.31 或更高版本。从 Android 4.2.2 开始，您必须在您的设备上确认它已连接到受信任的计算机。它适用于 adb 1.0.31 及更高版本。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-07-25T08:01:22.653

它发生在我身上一次。我刚刚重新启动了设备，这为我解决了问题。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2013-01-26T10:55:46.090

当我遇到同样的错误时，我只是拔掉并插入它，错误就消失了。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2016-07-05T10:09:02.943

尝试运行：

```
adb kill-server
adb start-server 
```

设备仍然离线，请重启设备。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-07-06T06:16:27.223

我重新启动了我的计算机，同时我重新启动了手机。adb 设备返回正常。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2017-08-15T19:54:26.487

如果您通过 USB 连接，请拔下并重新插入。

如果您通过 WiFi 连接，请在手机上禁用并重新启用 WiFi。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2016-08-19T05:06:13.003

方法一：

在您的 linux 终端中运行此命令

```
sudo adb kill-server
sudo adb devices 
```

在您的 CMD 中运行此命令

```
adb kill-server
adb devices 
```

“adb devices”结果必须显示任何具有 id 的设备。如果您离线而不是 id，则意味着您需要在标签中授予权限。一旦您在 android 中启用 USB 调试并第一次连接设备，您将收到一个警告对话框以授予权限。如果您没有收到任何弹出窗口，请单击“开发人员”选项中的“撤销 USB 权限”，尝试一次。

方法二：

将设备连接模式从媒体更改为相机，有时这对我有帮助。

方法3：

更新 adb 以及设备驱动程序。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2014-10-17T10:48:01.243

如果您使用的是 Linux 或 Mac，并且假设离线设备是“emulator-5554”，则可以运行以下命令：

```
netstat -tulpn|grep 5554 
```

产生以下输出：

```
tcp        0      0 127.0.0.1:5554          0.0.0.0:*               LISTEN      4848/emulator64-x86
tcp        0      0 127.0.0.1:5555          0.0.0.0:*               LISTEN      4848/emulator64-x86 
```

这告诉我进程 id 4848 仍在侦听端口 5554。您现在可以使用以下命令终止该进程：

```
sudo kill -9 4848 
```

鬼离线设备不复存在！

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-03-28T07:26:01.197

对我来说，这是通过在开发人员选项中启用 USB 调试：

[![截屏](../Images/dc2927ec46bf3390d478bf243ebee0c3.png)](https://i.stack.imgur.com/uwskN.png)
只需运行 adb install apk path 就可以了

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-03-18T14:07:49.093

我去了我的手机设置>>开发人员选项>>调试并打开了这个选项：“允许ADB调试仅收费模式”然后这个问题为我解决了。希望也能为你解决。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2015-10-15T23:44:06.760

确保你是超级用户.. 而不是 'adb start-server' 做 'sudo adb start-server'，输入你的密码（它不会回显），按回车。然后，“sudo adb devices”，它将显示为在线。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2020-10-10T08:20:38.273

就我而言

```
adb kill-server
adb connect [ip_address_of_device] 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2019-04-24T21:50:32.173

这发生在我运行 Ubuntu 19.04 和 Android 9 的身上。我通过关闭开发人员选项然后重新打开来解决这个问题。并确保那里也允许 USB 调试。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2016-08-19T03:50:03.053

我两次遇到这种情况。我第一次在我的电脑上使用命令“adb kill-server”，然后重新启动了android设备。有效。但是第二次该方法不再起作用。这次我断开并重新连接了网络。有效。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2019-07-23T04:40:44.447

安装此[工具（链接）](https://dl.google.com/android/repository/platform-tools-latest-windows.zip)并尝试以下代码，不要忘记连接设备并注意任何消息。

```
cd .... platform-tools/

adb kill-server
adb start-server 
```

# mysql - 连接失败 [HY000][MySQL][ODBC 5.1 驱动程序] 无法连接到 MySQL

> ID：10680425
> 
> 赞同：1
> 
> 时间：2012-05-21T06:28:45.930
> 
> 标签：mysql

当我为远程创建 DSN 名称时，我收到此错误

> 连接失败 [HY000][MySQL][ODBC 5.1 驱动程序] 无法连接到 MySQL

# video - 在我的应用中访问 iOS 设备的视频应用中的视频

> ID：10680427
> 
> 赞同：2
> 
> 时间：2012-05-21T06:28:56.947
> 
> 标签：video, ios5

我正在开发一个应用程序来选择和播放 iPad 中的视频。我想选择保存在设备中默认视频应用程序中的视频。如何在我的应用程序中访问这些视频？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-02T18:16:21.900

您可以对视频使用 MPMediaQuery，它将为您提供可以在 AVFoundation 框架中使用的视频资产的视频列表和 URL。例如，请参阅此处接受的答案：

[视频媒体类型不起作用的 MPMediaPickerController](https://stackoverflow.com/questions/9474287/mpmediapickercontroller-with-video-media-types-not-working)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T07:04:12.097

当前的 SDK 不允许您播放 iPod 库中的视频：

[http://developer.apple.com/library/iOS/#documentation/Audio/Conceptual/iPodLibraryAccess_Guide/AboutiPodLibraryAccess/AboutiPodLibraryAccess.html#//apple_ref/doc/uid/TP40008765-CH103-SW9](http://developer.apple.com/library/iOS/#documentation/Audio/Conceptual/iPodLibraryAccess_Guide/AboutiPodLibraryAccess/AboutiPodLibraryAccess.html#//apple_ref/doc/uid/TP40008765-CH103-SW9)

> 注意：iPod 库访问仅适用于基于音频的媒体项目。您无法播放 iPod 库中的视频播客、电影或电视节目。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T13:50:45.363

在 iOS 开发中，你不能总是在手机中做任何你想做的事情。访问其他应用程序就是其中之一。在这种情况下，您想要访问内置 iOS 应用程序的数据。此应用程序与任何其他应用程序一样，只是它是由 Apple 开发的，并不意味着您可以访问它的数据。

应用程序有自己的数据，应用程序无法访问其他应用程序的数据。（除非应用程序以某种方式使其可用，例如通过 Web 服务器）

如果您正在制作您的应用程序并打算将其发布以供官方使用，那么您所要求的就无法完成。您必须充分利用自己的情况，使您的应用程序比内置应用程序更好，以便用户使用您的应用程序而不是内置应用程序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T06:35:01.283

搜索`UIImagePickerController`和`UIImagePickerControllerDelegate`。

如果您想访问设备本身的内置视频应用程序，我认为不越狱您的 ipad 是不可能的。

附言。刚才我发现我的 iPad 中的一个应用程序可以访问 video.app 列表。我的 iPad 是 ios 5.1.1。也许现在是可能的！

# lisp - 如何在Windows下用MSVC2010构建ecl.dll的静态库？

> ID：10680430
> 
> 赞同：2
> 
> 时间：2012-05-21T06:29:18.900
> 
> 标签：lisp, common-lisp, ecl

我想使用 ECL 构建一个程序（“exe”或“静态库”），但在 windows 下。我的应用程序必须依赖于“ecl.dll”。

如何修改 MSVC makefile 以静态构建 ECL？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-23T06:34:21.280

正如我在邮件列表中所解释的，ECL 的 Microsoft 编译器的 Makefile 目前没有这个选项。它根本没有从他们在 Unix 类型环境中运行的兄弟姐妹中移植过来。但这并不意味着它不能完成。

# javascript - javascript 和 jquery 数组各

> ID：10680432
> 
> 赞同：1
> 
> 时间：2012-05-21T06:29:22.380
> 
> 标签：javascript, jquery, arrays, each

我不能让它工作。我试图在按下某个键时替换某些字符。当我使用变量 replace_list 而不是 replace_list["russian"] 时它工作正常，但我需要不同的“替换列表”来处理其他事情。我究竟做错了什么？

```
<script type="text/javascript" src="javascript/jquery.js"></script>
<input id=answer>
<script>
replace_list = ["russian": {'a' : 'b', 'c' : 'd'}];

$(document).ready(function () {
    $("#answer").keydown(function () {
            var text = $(this).val();
            $.each(replace_list["russian"], function (index, value) {
                if (index == text.substring(text.length - value.length)) {
                    $("#answer").val(text.substring(0, text.length - value.length) + value);
               }
           });
    });
})
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:37:06.837

您必须先创建数组（或调整分配）

```
var replace_list = [
    {'a' : 'а', 'A' : 'А', 'b' : 'б'},    // replace_list[0]
    {'B' : 'Б', 'v' : 'в', 'V' : 'В'}     // replace_list[1]
] 
```

**编辑**
以满足您的要求（`replace_list["russian"]`）从评论

```
var replace_list = {
    "russian": {'a' : 'а', 'A' : 'А', 'b' : 'б'},
    "english": {'a' : 'а', 'A' : 'A', 'b' : 'B'}
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T06:50:25.290

首先，您应该正确定义`replace_list`; 我假设您将拥有多个要在某些情况下应用的替换列表：

```
var replace_list = {
    'russian': {a: 'b', b: 'c', c: 'd'}
}; 
```

然后：

```
var text = $(this).val();
for (var search in replace_list['russian']) {
    text = text.replace(search, replace_list['russian'][search]);
}

$('#answer').val(text); 
```

在行动：http: [//jsfiddle.net/k8Dhg/](http://jsfiddle.net/k8Dhg/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T07:36:32.670

```
var replace_list = new Object();
replace_list["russian"] = {'a' : 'а', 'A' : 'А', 'b' : 'б', 'B' : 'Б', 'v' : 'в', 'V' : 'В', 'g' : 'г', 'G' : 'Г', 'd' : 'д', 'D' : 'Д', 'ye' : 'е', 'YE' : 'Е', 'yo' : 'ё', 'YO' : 'Ё', 'zh' : 'ж', 'ZH' : 'Ж', 'z' : 'з', 'Z' : 'З', 'i' : 'и', 'I' : 'И', 'j' : 'й', 'J' : 'Й', 'k' : 'к', 'K' : 'К', 'l' : 'л', 'L' : 'Л', 'm' : 'м', 'M' : 'М', 'n' : 'н', 'N' : 'Н', 'o' : 'о', 'O' : 'О', 'p' : 'п', 'P' : 'П', 'r' : 'р', 'R' : 'Р', 's' : 'с', 'S' : 'С', 't' : 'т', 'T' : 'Т', 'u' : 'у', 'U' : 'У', 'f' : 'ф', 'F' : 'Ф', 'kh' : 'х', 'KH' : 'Х', 'ts' : 'ц', 'TS' : 'Ц', 'ch' : 'ч', 'CH' : 'Ч', 'sh' : 'ш', 'SH' : 'Ш', 'shch' : 'щ', 'SHCH' : 'Щ', '\"' : 'ъ', '\"' : 'Ъ', 'y' : 'ы', 'Y' : 'Ы', '\'' : 'ь', '\'' : 'Ь', 'e' : 'э', 'E' : 'Э', 'yu' : 'ю', 'YU' : 'Ю', 'ya' : 'я', 'YA' : 'Я'}; 
```

现在您可以在俄语中获得“a”的值

```
replace_list["russian"]['a'] 
```

通过这种方式，您可以使您的列表语言具体化，并将其扩展到您希望的尽可能多的语言

# android - 如何将自定义列表视图中的菜单项名称更新为 android 中的 sqlite 数据库？

> ID：10680437
> 
> 赞同：1
> 
> 时间：2012-05-21T06:29:57.193
> 
> 标签：android, listview, sqlite, simplecursoradapter

我是使用 sqlite 数据库的新手。我创建了一个数据库作为测试。和表作为测试。在测试表中，我创建了两列，一列是`key_id`另一列`menuname`。

我在测试表中插入了一些`menunames`和 key_id。然后我`menunames`使用 simplecursor 适配器从 sqlite 数据库获取到自定义列表视图，然后附加到 edittext：

![在此处输入图像描述](../Images/4da5ccbb6989c9c585c9c28d28192722.png)

该网址包含我的输出屏幕截图。如果我`menunames`在点击android中的菜单按钮后在edittext中更改了一些内容，则意味着它显示了保存按钮。如果我点击保存按钮意味着我正在编辑的菜单名称被旧的`menunames`或使用的替换`key_id`：

如何将自定义列表视图中的菜单项名称更新为 android 中的 sqlite 数据库？

我试过这段代码：

```
 public class EditMainMenu extends Activity {
private SQLiteAdapter mySQLiteAdapter;

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.editmainmenu);
    ListView listContent = (ListView) findViewById(R.id.contentlist);
    mySQLiteAdapter = new SQLiteAdapter(this);
    mySQLiteAdapter.openToWrite();
    final Cursor cursor = mySQLiteAdapter.queueAll();
    startManagingCursor(cursor);

    String[] from = new String[] { SQLiteAdapter.KEY_CONTENT };
    int[] to = new int[] { R.id.text };

    EditMainMenuListview adapter = new EditMainMenuListview(this,
            R.layout.editmainmenulistview, cursor, from, to);

    listContent.setAdapter(adapter);
    System.out.println("gouthampra");
}

public boolean onCreateOptionsMenu(Menu menu) {
    // TODO Auto-generated method stub
    MenuInflater inflater = getMenuInflater();
    inflater.inflate(R.menu.save, menu);
    return true;
}

@Override
public boolean onOptionsItemSelected(MenuItem item) {
    // TODO Auto-generated method stub
    switch (item.getItemId()) {
    case R.id.save:

        break;
    case R.id.back:
        break;

    default:
        break;
    }
    return true;
}
 } 
```

EditMainMenuListview.java

```
 public class EditMainMenuListview extends SimpleCursorAdapter{

Cursor c;
Context context;
Activity activity;

public EditMainMenuListview(Context context, int layout, Cursor c,
        String[] from, int[] to) {
    super(context, layout, c, from, to);

    this.c = c;
    this.context=context;
    this.activity=(Activity) context;

}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    if(convertView == null)
        convertView = View.inflate(context, R.layout.editmainmenulistview, null);
    View row = convertView;

    c.moveToPosition(position);

    EditText menuname = (EditText) convertView.findViewById(R.id.text);

  menuname.setFocusable(true);
    menuname.setText(c.getString(1));

    return(row);
} 
```

# php - Plurk API 40007：缺少请求令牌

> ID：10680438
> 
> 赞同：1
> 
> 时间：2012-05-21T06:30:00.973
> 
> 标签：php, plurk-api

当我尝试`access_token`从 plurk API 获取时，我收到错误

> 错误请求 40007：缺少请求令牌

我在 plurk Docs 上创建 curl 请求，例如

```
$params = array( "oauth_consumer_key"=>"xxxxxx", "oauth_nonce"=>md5(time()), "oauth_signature_method"=>"HMAC-SHA1", "oauth_signature"=>$sig, "oauth_timestamp"=>time(), "oauth_version"=>"1.0", "oauth_token"=>$request->getParameter("oauth_token"), "oauth_verifier"=>$request->getParameter("oauth_verifier"),

            );
            $url = "http://www.plurk.com/OAuth/access_token";

            $res = Common::getCurlRequest($url, $params); 
```

我不明白“请求令牌”是什么意思？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:34:48.257

该`http://www.plurk.com/OAuth/access_token`url 用于将请求令牌交换为访问令牌。

因此，您应该有一个在此处提交的请求令牌，或者如果您不在令牌交换阶段，则使用不同的 url。

# connection - 如果应用程序崩溃，Java JRE 会关闭连接吗？

> ID：10680440
> 
> 赞同：3
> 
> 时间：2012-05-21T06:30:13.453
> 
> 标签：connection, java

如果应用程序在未关闭其活动连接的情况下崩溃或退出，Java JRE 会关闭数据库连接吗？如果不是，数据库是否有责任使这些连接超时？

我知道如果 Java 崩溃，那么数据库将需要超时所有打开的连接，因为没有其他工作可以完成。

**编辑** 额外的想法。如果部署在 Tomcat 中的 WAR 崩溃，Tomcat 服务器会清理打开的连接吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:36:45.073

这真的取决于。

如果您的 JRE 本身崩溃，它可能无法关闭所有连接。如果只是您的应用程序崩溃，它可能会在释放资源时关闭连接。根据我的经验，大多数情况下似乎都是这种情况，只要 JRE 本身不死。最好的防御当然是适当的错误处理，并确保您打开的连接数量不超过所需数量。

根据我的经验，最好在Tomcat中设置一个数据源，这样即使你的应用程序崩溃，开放资源也不是问题。我非常喜欢让我的应用程序服务器处理尽可能多的资源管理，这样我就可以免受有时冒险的代码的影响。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:50:43.537

大多数情况下，您的应用程序应该关闭任何适当的错误处理程序中的连接。我更喜欢在 Tomcat 中设置数据源，就像 Ewald 提到的那样。在那里，您可以定义最大连接数和`context.xml`. 当您的应用程序堆叠太多连接时，它将释放它。

# javascript - 用js触发css:hover事件

> ID：10680446
> 
> 赞同：6
> 
> 时间：2012-05-21T06:31:02.067
> 
> 标签：javascript, html, css

我有`<div class="animate">`并且在css中：

```
div.animate:hover{
//do stuff
} 
```

但也想通过javascript调用它。

是否可以？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T06:41:00.430

如[Trigger css hover with JS](https://stackoverflow.com/questions/4347116/trigger-css-hover-with-js)中所述，这是不可能的（如果您希望在创建此答案时准确描述）。

但主要目标可以通过以下方式实现：

1.  在 CSS 中设置一个类`hover`（或任何名称）以及选择器。`:hover`
2.  调用`.addClass("hover")`触发CSS，`.trigger("hover")`或`.trigger("mouseenter")`触发JS。
3.  确保`mouseleave`处理程序。或第二个`.hover()`处理程序，如果存在则清除`hover`该类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T06:42:30.243

我建议您不要这样做，而是将一个类添加到另一个标签。在 jQuery 中它将是：

```
 $(window).load(function() {
    $('.trigger-animate').hover(function(){
        $('.animate').addClass('hover');
    });
} 
```

我建议使用这种方法，因为它同时处理 onMouseOver 和 onMouseOut （这样你也可以在鼠标离开 $('.trigger-animate') 时删除该类，如果你需要使用这种语法：

```
.hover( handlerIn(eventObject), handlerOut(eventObject) )
 checking out the documentation 
```

# jquery - Jquery - 回发 Ajax 后重新打开对话框

> ID：10680452
> 
> 赞同：0
> 
> 时间：2012-05-21T06:31:26.137
> 
> 标签：jquery, jquery-ui, jquery-ui-dialog

我有要删除的列表，当用户单击它时，它会显示带有“确认”和“取消”按钮的 jquery ui 对话框

当用户单击“确认”时，它将调用 ajax 函数并回发

然后我想关闭对话框，所以我使用了命令`$(this).dialog("close");` ，它按预期工作。

但是现在当我删除另一个列表时，不会出现 UI 对话框。

我该如何解决这个问题？

```
$("#dialog").dialog({
                modal: true,
                bgiframe: true,
                width: 300,
                height: 150,
                resizable: false,
                autoOpen: false
            });

            function submit_delete(y,z){ //kirim data lewat ajax

                $.ajax({
                    type: 'POST',
                    url: 'delete_page.php',
                    data: {fte:y,tipe:z},
                    success: function(data) {
                        if(z==1){
                            var divv= '#container_table1';
                        }  else if(z==2){
                            var divv= '#container_table2';
                        }   else if(z==3){
                            var divv= '#container_table3';
                        }   

                        $(divv).html(data);//window.setTimeout(function(){location.reload()},3000)
                         $('#dialog').dialog('close');
                    }
                })
                return true;
            }
            //end submit ajax onclick training

            $(".c_del1").click(function(){
                var cc= ($(this).next().val());
                var c=cc.split('#')
                alert(cc);
                $("#dialog").text('Do You Want to Delete '+c[1]+"?");

                var yy = $(this).prop('id');

                $("#dialog").dialog('option', 'buttons', {
                    "Confirm" : function() {

                        submit_delete(c[0],1); 

                    },
                    "Cancel" : function() {                            
                        $(this).dialog("close");
                    }
                });

                $("#dialog").dialog("open");

            }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T07:03:43.597

在调用点击事件时使用`on`或`live`

```
$(".c_del1").on('click',function(){

                --------------------

            }); 
```

或者

```
$(".c_del1").live('click',function(){

                --------------------

            }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:07:39.803

您只绑定第一个元素。尝试这个：

```
$(".c_del1").each(function(n,el){
  $(el).click //...
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T07:23:00.507

```
 function submit_delete(y, z) {
            $.ajax({
                url: 'delete_page.php', type: 'POST',
                data: { fte: y, tipe: z },
                success: function (data) {
                    if (z == 1) {
                        var divv = '#container_table1';
                    } else if (z == 2) {
                        var divv = '#container_table2';
                    } else if (z == 3) {
                        var divv = '#container_table3';
                    }

                    $(divv).html(data);
                    //window.setTimeout(function(){location.reload()},3000);
                    $('.DeleteDialog').dialog("close");
                }
            });
        };

        //function Deletemessage(id, obj) { };
        //Or
        function Deletemessage(obj) {
            var c = ($.trim($(obj).next().val())).split('#');

            $('<div class="DeleteDialog"></div>').appendTo('body')
                    .html('<div><h6>Do You Want to Delete ' + c[1] + '?</h6></div>')
                    .dialog({
                        modal: true, title: 'Delete message', zIndex: 10000, autoOpen: true,
                        width: 'auto', modal: true, resizable: false,
                        buttons: {
                            Ok: function () {
                                //$(obj).removeAttr('onclick');

                                submit_delete(c[0], 1);

                                //$(this).dialog("close");
                            },
                            Cancel: function () {
                                $(this).dialog("close");
                            }
                        },
                        close: function (event, ui) {
                            $(this).remove();
                        }
                    });
        };

        <!--<input type="button" value="Delete" onclick="Deletemessage(1,this);" />-->  
       //Or
        <input type="button" value="Delete" class="c_del1" onclick="Deletemessage(this);" /> 
```

# android - Android 提供程序测试

> ID：10680457
> 
> 赞同：0
> 
> 时间：2012-05-21T06:32:13.003
> 
> 标签：android, android-contentprovider, android-testing

我正在尝试测试 android 内容提供程序。我正在编写与此处给出的代码类似的代码，插入数据库然后查询数据库，但有时且并非总是如此，返回的游标有 0 行。可能是什么问题？

```
public class MyProviderTestCase extends ProviderTestCase2<MyProvider> {

private MockContentResolver mMockResolver;
    ....
public MyProviderTestCase() {
    super(MyProvider.class, "com.example.MyProvider");
}

protected void setUp() throws Exception {
    super.setUp();
    mMockResolver = getMockContentResolver();
}

protected void tearDown() throws Exception {
    super.tearDown();
}

@SmallTest
public void testInsertAndUpdate() {
    ...
    SomeObject someObject = ...;
    Uri insertedUri = mMockResolver.insert(MyrProvider.URI, someObject.createContentValues());

    assertNotNull(insertedUri);
    Log.d("test insert and update and delete:inserteduri", insertedUri+"");

    Cursor c = mMockResolver.query(MyProvider.URI, null, null, null, null);
    assertNotNull(c);

    assertTrue(c.moveToFirst());// This assertion fails sometimes
} 
```

}

# c++ - 生成 2 位长的随机 UUID

> ID：10680460
> 
> 赞同：0
> 
> 时间：2012-05-21T06:32:25.030
> 
> 标签：c++, boost

我正在使用 Boost Random 生成器来生成随机 UUID。我现在生成的随机 UUID 非常长。相反，我想生成一个 2 位数的 UUID，例如：“Dz”

我现在使用的代码行是

std::string strAK = to_string( boost::uuids::random_generator()() );

如何修改此代码并生成 2 位长的 UUID。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:42:18.117

微不足道，

```
std::string strAK = to_string( boost::uuids::random_generator()() ).substr( 0, 2 ); 
```

但正如已经评论过的，这不会是普遍独一无二的。

# android - 如何在 Android Eclipse 上的 Manifest.xml 中声明多个活动

> ID：10680465
> 
> 赞同：0
> 
> 时间：2012-05-21T06:33:29.973
> 
> 标签：android, eclipse, android-activity

我是安卓的自学者。
现在我在一个android应用程序中有五个页面。第一页包含两个按钮（button1，button2）。如果我触发button1它应该转到包含一个按钮的第二页，如果我最终触发这个按钮它应该只需显示一个位于第三页的选项卡主机。同样，如果我从第一页触发 button2，它应该像 button1 所做的那样转到第四页和第五页。

在运行期间，当我单击第四页中的按钮时，它显示错误消息为
**对不起！应用程序 Tabhost_demo 已意外停止。请重试！**
（注意：其他页面活动运行良好，而不是四个和五个）。

**参考java类源码**

```
public class First_index extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

    Button btn1 = (Button) findViewById(R.id.button_parent);
    btn1.setOnClickListener(new View.OnClickListener() {

        public void onClick(View view) {
           Intent myIntent = new Intent(view.getContext(), Index_parent.class);
           startActivityForResult(myIntent, 0);
          }
}); 
```

这是用来切换页面的吧？

* * *

**这个来源是为TABHOSTING**

```
 public class Parent_concpt extends TabActivity {  
        /** Called when the activity is first created. */  
        @Override  
        protected void onCreate(Bundle savedInstanceState) {  
            super.onCreate(savedInstanceState);  
            setContentView(R.layout.main3);  

            TabHost tabHost = getTabHost();

            // Tab for Attendance
            TabSpec pho = tabHost.newTabSpec("Attendance");
            // setting Title and Icon for the Tab
            pho.setIndicator("Attendance",getResources().getDrawable(R.drawable.icon_att_parent));
        Intent phoIntent = new Intent(this, Att_parents.class);
        pho.setContent(phoIntent);

        // Tab for Marks
        TabSpec mrk = tabHost.newTabSpec("Achievement");
        mrk.setIndicator("Achievement",     getResources().getDrawable(R.drawable.icon_achieve_parents));
        Intent mrkIntent = new Intent(this, Achieve_parents.class);
        mrk.setContent(mrkIntent);

        // Tab for Fee
        TabSpec fees = tabHost.newTabSpec("Fee details");
            fees.setIndicator("Fee details",getResources().getDrawable(R.drawable.icon_fee_details));
        Intent feesIntent = new Intent(this, Feedet_parents.class);
        fees.setContent(feesIntent);

        // Adding all TabSpec to TabHost
        tabHost.addTab(pho);
        tabHost.addTab(mrk);
        tabHost.addTab(fees);}} 
```

**我的模棱两可是，我想问题只出在 Manifest.xml 文件上。是否有任何权限可以提及每个活动？**

* * *

**参考 Manifest.xml 源码**

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.android.demo.student"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="8"/>

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >

        <activity android:name=".First_index"
                  android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity android:name=".Index_parent"></activity>

        <activity android:name=".Index_parent"
                  android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN1" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity android:name=".Parent_concpt"></activity>

        <activity android:name=".Parent_concept"
                  android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN3" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

         <!--  Att_parents -->
         <activity android:name=".Att_parents" />

         <!--  Achieve_parents -->
         <activity android:name=".Achieve_parents" />

         <!--  Feedet_parents -->
         <activity android:name=".Feedet_parents" />

        <activity android:name=".Index_principal"
                  android:label="@string/app_name">
             <intent-filter>
                <action android:name="android.intent.action.MAIN2" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
         </activity><activity android:name=".Princy_concept"></activity>

          <activity android:name=".Princy_concept"
                  android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN7" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
         </activity>

         <!--  Att_principal Activity -->
         <activity android:name=".Att_principal" />

         <!--  Perform_principal Activity -->
         <activity android:name=".Perform_principal" />

         <!--  Coll_principal Activity -->
         <activity android:name=".Coll_principal" />

         <!--  Xpense_principal Activity -->
         <activity android:name=".Xpense_principal" />

         </application>
    </manifest> 
```

**注意：**我已经完美地完美地提到了每个类和布局的文件名。

请在此处参考我的 logcat **LOGCAT**

```
05-21 12:13:16.013: W/KeyCharacterMap(274): No keyboard for id 0
05-21 12:13:16.013: W/KeyCharacterMap(274): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
05-21 12:13:19.843: D/AndroidRuntime(274): Shutting down VM
05-21 12:13:19.843: W/dalvikvm(274): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
05-21 12:13:19.853: E/AndroidRuntime(274): FATAL EXCEPTION: main
05-21 12:13:19.853: E/AndroidRuntime(274): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.android.demo.student/com.android.demo.student.Princy_concept}: java.lang.RuntimeException: Your content must have a TabHost whose id attribute is 'android.R.id.tabhost'
05-21 12:13:19.853: E/AndroidRuntime(274):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
05-21 12:13:19.853: E/AndroidRuntime(274):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
05-21 12:13:19.853: E/AndroidRuntime(274):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
05-21 12:13:19.853: E/AndroidRuntime(274):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
05-21 12:13:19.853: E/AndroidRuntime(274):  at android.os.Handler.dispatchMessage(Handler.java:99)
05-21 12:13:19.853: E/AndroidRuntime(274):  at android.os.Looper.loop(Looper.java:123)
05-21 12:13:19.853: E/AndroidRuntime(274):  at android.app.ActivityThread.main(ActivityThread.java:4627)
05-21 12:13:19.853: E/AndroidRuntime(274):  at java.lang.reflect.Method.invokeNative(Native Method)
05-21 12:13:19.853: E/AndroidRuntime(274):  at java.lang.reflect.Method.invoke(Method.java:521)
05-21 12:13:19.853: E/AndroidRuntime(274):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
05-21 12:13:19.853: E/AndroidRuntime(274):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
05-21 12:13:19.853: E/AndroidRuntime(274):  at dalvik.system.NativeStart.main(Native Method)
05-21 12:13:19.853: E/AndroidRuntime(274): Caused by: java.lang.RuntimeException: Your content must have a TabHost whose id attribute is 'android.R.id.tabhost'
05-21 12:13:19.853: E/AndroidRuntime(274):  at android.app.TabActivity.onContentChanged(TabActivity.java:105)
05-21 12:13:19.853: E/AndroidRuntime(274):  at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:201)
05-21 12:13:19.853: E/AndroidRuntime(274):  at android.app.Activity.setContentView(Activity.java:1647)
05-21 12:13:19.853: E/AndroidRuntime(274):  at com.android.demo.student.Princy_concept.onCreate(Princy_concept.java:16)
05-21 12:13:19.853: E/AndroidRuntime(274):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
05-21 12:13:19.853: E/AndroidRuntime(274):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
05-21 12:13:19.853: E/AndroidRuntime(274):  ... 11 more 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-03T22:01:08.457

它告诉你，在你的布局`main3`中，你必须有一个`TabHost`命名的`android.R.id.tabhost`

在`onCreate()`你膨胀main3：

```
setContentView(R.layout.main3); 
```

打开 main3.xml 并确保您的布局看起来像这样：

```
<?xml version="1.0" encoding="utf-8"?>
<TabHost xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/tabhost"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical"
        android:padding="5dp" >

        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" />

        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:padding="5dp" />
    </LinearLayout>

</TabHost> 
```

注意`TabHost`的名称和 的名称`TabWidget`。

有关完整示例，请参见[此处](http://developer.android.com/resources/tutorials/views/hello-tabwidget.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-09T21:07:44.780

回答这个问题为时已晚，但我想它可能对其他人有所帮助。

在 manifest.xml 文件中，您只需指定一个 Activity 作为应用程序启动时将弹出的午餐器 Activity。

将多个活动分配为午餐者将触发`java.lang.RuntimeException: Unable to start activity`异常。

所以在午餐活动旁边声明其他活动的正确方法是将其类别更改为默认或其他类别。

要查找有关 Intent-filter 类别的更多信息，请访问：http: [//developer.android.com/guide/topics/manifest/category-element.html](http://developer.android.com/guide/topics/manifest/category-element.html)

有关 manifest.xml 文件的更多信息：http: [//developer.android.com/guide/topics/manifest/manifest-intro.html](http://developer.android.com/guide/topics/manifest/manifest-intro.html)

```
<intent-filter>
       <action android:name="android.intent.action.YourActivityName" />
       <category android:name="android.intent.category.Default" />
</intent-filter> 
```

# jsp - 如何从请求中了解 JSP 上使用的 HTML 组件

> ID：10680466
> 
> 赞同：0
> 
> 时间：2012-05-21T06:33:34.417
> 
> 标签：jsp, servlet-filters

我有一个 jsp 页面，上面有文本框、文本区域和组合框。在从请求中获取过滤器中的值时，我想知道它是 textrarea 还是等等。那么有可能吗？在过滤器中我可以更改请求的值吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:39:00.670

过滤器是一个 servlet。您可以像在通常的 servlet 中一样从请求中获取和更改参数值。

```
public class CheckFilter implements Filter {

    public void init(FilterConfig filterConfig) {
    }

    public void doFilter(ServletRequest req, ServletResponse resp, FilterChain chain)
            throws IOException, ServletException {

       HttpServletRequest request = (HttpServletRequest) req;

       String contentTextarea = request.getParameter("myTextarea");

       String modifyContentTextarea = changeContent(contentTextarea);

       chain.doFilter(request, response);
    }

    private String changeContent(String content) {
          //to do smth with value of content
          return modifyContent;
    }

    public void destroy() {
    }
} 
```

并像这样在 JSP 中标记您的文本区域：

```
<textarea name="myTextarea"></textarea> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:46:47.477

无法确定您是否使用 textarea/radio/checkbox 填充参数，因为请求仅包含参数名称和值的键/值对，您应该知道用于生成参数的表单字段你已经在服务器上期待了，我认为不需要这个。如果您出于某种原因确实需要此功能，则需要在请求中附加另一个参数，其中包含有关用于设置参数的表单字段的信息，但这很快就会变得非常混乱。

对于第二部分，是的，您可以修改 servlet 或过滤器内的请求中的任何值。

# java - 在为mifos源代码构建war文件的过程中无法修复liqibase maven插件更新sql？

> ID：10680467
> 
> 赞同：1
> 
> 时间：2012-05-21T06:33:58.447
> 
> 标签：java, maven-plugin, maven-3, maven-assembly-plugin, maven-release-plugin

构建war文件时出错。我们通过maven工具为mifos源代码构建war文件。mifos 是 java 开源代码。我们使用 mvn clean package -Dmaven.test.skip=ture cmd 并给出路径名 til 源代码的头文件夹，如下所示

```
C:\mifos_src_code\mifos-head-2.1.6-0-gb6f7b86\mifos-head-e9d4674>mvn clean package -Dmaven.test.
skip=true;
[INFO] Scanning for projects...
[WARNING]
[WARNING]
 Some problems were encountered while building the effective model for org.mifos:mifos-
db:jar:1.8-SNAPSHOT

[WARNING]
 'build.plugins.plugin.(groupId:artifactId)' must be unique but found duplicate declara
tion of plugin org.liquibase:liquibase-maven-plugin @ line 132, column 21
[WARNING] 'build.plugins.plugin.(groupId:artifactId)' must be unique but found duplicate declara
tion of plugin org.liquibase:liquibase-maven-plugin @ line 149, column 21
[WARNING]

[WARNING] Some problems were encountered while building the effective model for org.mifos:mifos-
accounting:jar:1.8-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-war-plugin is missin
g. @ line 29, column 21
[WARNING]
[WARNING] It is highly recommended to fix these problems because they threaten the stability of
your build.
[WARNING]

[WARNING] For this reason, future Maven versions might no longer support building such malformed
 projects.

[WARNING]
[INFO] ------------------------------------------------------------------------
[INFO]
 Reactor Build Order:
[INFO]
[INFO]
 Mifos - Parent

[INFO] Mifos - DB Management

[INFO] Mifos - Common

[INFO] Mifos - Domain Data Transfer Objects

[INFO] Mifos - Test Framework

[INFO] Mifos - Service Interfaces

[INFO] Mifos - User Interface

[INFO] Mifos - Accounting Integration

[INFO] Mifos - Questionnaire

[INFO] Mifos - Cashflow

[INFO] Mifos - Abstract Domain

[INFO] Mifos - Organization

[INFO] Mifos - Application Domain

[INFO] Mifos - Application

[INFO] Mifos - Acceptance Tests

[INFO]

[INFO] ------------------------------------------------------------------------

[INFO] Building Mifos - Parent 1.8-SNAPSHOT

[INFO] ------------------------------------------------------------------------

[INFO]

[INFO] --- maven-clean-plugin:2.4.1:clean (default-clean) @ mifos-parent ---

[INFO]

[INFO] ------------------------------------------------------------------------

[INFO] Building Mifos - DB Management 1.8-SNAPSHOT

[INFO] ------------------------------------------------------------------------

[INFO]

[INFO] --- maven-clean-plugin:2.4.1:clean (default-clean) @ mifos-db ---

[INFO] Deleting C:\mifos_src_code\mifos-head-2.1.6-0-gb6f7b86\mifos-head-e9d4674\db\target

[INFO]

[INFO] --- properties-maven-plugin:1.0-alpha-1:read-project-properties (default) @ mifos-db 
---

[WARNING] Ignoring missing properties file: C:\Users\Pavan.Kumar1\.mifos\local.properties

[INFO]

[INFO] --- maven-resources-plugin:2.3:resources (default-resources) @ mifos-db ---

[INFO] Using 'UTF-8' encoding to copy filtered resources.

[INFO] Copying 1 resource

[INFO]

[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ mifos-db ---

[INFO] No sources to compile

[INFO]

[INFO] --- maven-resources-plugin:2.3:testResources (default-testResources) @ mifos-db ---

[INFO] Using 'UTF-8' encoding to copy filtered resources.

[INFO] skip non existing resourceDirectory C:\mifos_src_code\mifos-head-2.1.6-0-
gb6f7b86\mifos-h

ead-e9d4674\db\src\test\resources

[INFO]

[INFO] --- maven-compiler-plugin:2.3.2:testCompile (default-testCompile) @ mifos-db ---

[INFO] No sources to compile

[INFO]

[INFO] --- maven-surefire-plugin:2.10:test (default-test) @ mifos-db ---

[INFO] No tests to run.

[INFO] Surefire report directory: C:\mifos_src_code\mifos-head-2.1.6-0-gb6f7b86\mifos-head-
e9d46

74\db\target\surefire-reports

-------------------------------------------------------

 T E S T S

-------------------------------------------------------

Results :

Tests run: 0, Failures: 0, Errors: 0, Skipped: 0

[INFO]

[INFO] --- liquibase-maven-plugin:2.0.0:updateSQL (update-sql) @ mifos-db ---

[INFO] ------------------------------------------------------------------------

[INFO] Parsing Liquibase Properties File

[INFO]   File: target/classes/liquibase.properties

[INFO] ------------------------------------------------------------------------

[INFO] ------------------------------------------------------------------------

[INFO] Reactor Summary:

[INFO]

[INFO] Mifos - Parent .................................... SUCCESS [0.110s]

[INFO] Mifos - DB Management ............................. FAILURE [1.570s]

[INFO] Mifos - Common .................................... SKIPPED

[INFO] Mifos - Domain Data Transfer Objects .............. SKIPPED

[INFO] Mifos - Test Framework ............................ SKIPPED

[INFO] Mifos - Service Interfaces ........................ SKIPPED

[INFO] Mifos - User Interface ............................ SKIPPED

[INFO] Mifos - Accounting Integration .................... SKIPPED

[INFO] Mifos - Questionnaire ............................. SKIPPED

[INFO] Mifos - Cashflow .................................. SKIPPED

[INFO] Mifos - Abstract Domain ........................... SKIPPED

[INFO] Mifos - Organization .............................. SKIPPED

[INFO] Mifos - Application Domain ........................ SKIPPED

[INFO] Mifos - Application ............................... SKIPPED

[INFO] Mifos - Acceptance Tests .......................... SKIPPED

[INFO] ------------------------------------------------------------------------

[INFO] BUILD FAILURE

[INFO] ------------------------------------------------------------------------

[INFO] Total time: 2.080s

[INFO] Finished at: Mon May 21 10:57:16 IST 2012

[INFO] Final Memory: 7M/18M

[INFO] ------------------------------------------------------------------------

[ERROR] Failed to execute goal org.liquibase:liquibase-maven-plugin:2.0.0:updateSQL 
(update-sql)

 on project mifos-db: Error setting up or running Liquibase: java.sql.SQLException: Access 
denie

d for user 'mifos'@'localhost' (using password: YES) -> [Help 1]

[ERROR]

[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.

[ERROR] Re-run Maven using the -X switch to enable full debug logging.

[ERROR]

[ERROR] For more information about the errors and possible solutions, please read the 
following

articles:

[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException

[ERROR]

[ERROR] After correcting the problems, you can resume the build with the command

[ERROR]   mvn <goals> -rf :mifos-db

C:\mifos_src_code\mifos-head-2.1.6-0-gb6f7b86\mifos-head-e9d4674>' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T20:45:28.773

我建议从第一行开始修复你的 pom：

```
[WARNING]
 'build.plugins.plugin.(groupId:artifactId)' must be unique but found duplicate declara
tion of plugin org.liquibase:liquibase-maven-plugin @ line 132, column 21
[WARNING] 'build.plugins.plugin.(groupId:artifactId)' must be unique but found duplicate declara
tion of plugin org.liquibase:liquibase-maven-plugin @ line 149, column 21
[WARNING]

[WARNING] Some problems were encountered while building the effective model for org.mifos:mifos-
accounting:jar:1.8-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-war-plugin is missin
g. @ line 29, column 21
[WARNING]
[WARNING] It is highly recommended to fix these problems because they threaten the stability of
your build.
[WARNING] 
```

在您修复后，我可以根据此消息看到：

```
 on project mifos-db: Error setting up or running Liquibase: java.sql.SQLException: Access 
denied for user 'mifos'@'localhost' (using password: YES) 
```

您正在尝试访问一个不允许与该用户相关的密码的数据库（假设 MySQL ？）。您必须修复此用户的权限。

# android - 来自支持库的 GridLayout 在 Android 2 上不显示 2 行，onChildVisibilityChanged 错误

> ID：10680468
> 
> 赞同：10
> 
> 时间：2012-05-21T06:34:01.207
> 
> 标签：android, android-layout, android-widget, grid-layout, android-compatibility

有没有人得到支持库在 Android 2 中正确呈现网格布局？我在屏幕上得到一行而不是 2 行和列，并在 logcat 输出中看到此错误：Android GridLayout 找不到方法 android.support.v7.widget.ViewGroup.onChildVisibilityChanged

当我将布局标签从 android.support.v7.widget.GridLayout 更改为 GridLayout 时，相同的布局在 Android4 -> ICS 上工作

这可能是设置的问题吗？我的 Eclipse 项目属性的 Android 选项卡中有 gridlayout_v7 库项目，并且 v.13 jar 在构建路径上。

失败的 XML 布局粘贴在下面。我在图像按钮标签中明确添加了布局行和列，以解决该问题。如果有人有支持库在 Android 2 上运行的工作示例，请分享。

```
<android.support.v7.widget.GridLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:columnCount="2"  android:rowCount="2"
android:gravity="center_vertical" 
android:layout="@drawable/bg_test_main" >

<ImageButton android:id="@+id/btnSentence"
android:layout_row="0"
android:layout_column="0"
android:src="@drawable/testa_btn"
android:contentDescription="@string/spin_fill_in"
android:background="@android:color/transparent"
/>
<ImageButton android:id="@+id/btnAudio"
android:layout_row="0"
android:layout_column="1"
    android:src="@drawable/testb_btn"
android:contentDescription="@string/audio_quiz"
android:background="@android:color/transparent"
/>
<ImageButton android:id="@+id/btnPickWord"
android:layout_row="1"
android:layout_column="0"
android:src="@drawable/testc_btn"
android:background="@android:color/transparent"
android:contentDescription="@string/def_pick_word" />

<ImageButton android:id="@+id/btnPickDef"
android:layout_row="1"
android:layout_column="1"
android:src="@drawable/testd_btn"
android:background="@android:color/transparent"
android:contentDescription="@string/pick_def" />

</android.support.v7.widget.GridLayout> 
```

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-05-21T14:42:53.833

我猜你错过了添加 XML 命名空间。请以这种方式更正：

```
<android.support.v7.widget.GridLayout 
     xmlns:grid="http://schemas.android.com/apk/res-auto"
     xmlns:android="http://schemas.android.com/apk/res/android">
...
</android.support.v7.widget.GridLayout> 
```

并且不要忘记将兼容性 GridLayout 使用的属性与 XML 命名空间一起添加前缀：

```
<ImageButton android:id="@+id/btnSentence"
    grid:layout_row="0"
    grid:layout_column="0"
    ...
/> 
```

希望能帮助到你...

# android - Android 折线图/图形 API

> ID：10680469
> 
> 赞同：3
> 
> 时间：2012-05-21T06:34:10.177
> 
> 标签：android, graph, charts, linechart, linegraph

我需要向我的折线图/图表显示渐进式数字统计信息。请分享您的意见和建议。如果有本机 API，还请记下我更喜欢的注释。

罗希特

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-21T08:54:03.303

AChartEngine 是一个用于 Android 应用程序的图表库。它目前支持以下图表类型：

折线图 面积图 散点图 时间图 条形图 饼图 气泡图 圆环图 范围（高-低） 条形图 表盘图/仪表组合（折线、立方线、散点图、条形、范围条、气泡的任意组合）图表 立方线图表 您可以从此[链接](http://code.google.com/p/achartengine/)获得更多信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-04T06:09:56.810

查看[Zeitdata 图表](http://charts.zeitdata.com)。它非常精简，并提供折线图和散点图。它还允许您从布局编辑器中查看图表的外观。

# android - 多行文本框属性android？

> ID：10680470
> 
> 赞同：0
> 
> 时间：2012-05-21T06:34:19.703
> 
> 标签：android, android-edittext

我`multiline text box`在我的应用程序中有一个，我想设置一个**固定的字符长度**，以便在一行中出现的字符不超过该字符如何执行此操作？

假设文本框的 maxlegnth 为 150，则单行的 maxlength 设置为 50。 每行的**最大长度**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T14:03:00.520

对于[TextView](http://developer.android.com/reference/android/widget/TextView.html)元素或 TextView 的任何子类（例如 EditText），您可以使用[setFilters()](http://developer.android.com/reference/android/widget/TextView.html#setFilters%28android.text.InputFilter%5B%5D%29)进行管理。

您需要做的是创建一个实现 InputFilter 的类，例如

```
public class MyTestFilter implements InputFilter {

    @Override
    public CharSequence filter(CharSequence source, int start, int end,
            Spanned dest, int dstart, int dend) {
        // do you checks, and only return what you wish to have replaced
        return null;
    }
} 
```

然后使用

```
youEditText.setFilters(new InputFilter[]{new MyTestFilter()}); 
```

# spring - 如何在 jsf 模板中使用格式为 jsf [login.jsf] 的 Spring Security

> ID：10680478
> 
> 赞同：0
> 
> 时间：2012-05-21T06:35:14.103
> 
> 标签：spring, security, jsp, jsf, jakarta-ee

我在集成 jsf 2.0、springframeork 3.0.2 和 primefaces 时遇到问题，
在这种情况下，我使用 spring security [login.jsp] 进行身份验证用户并且它可以工作，但我想将其更改为 jsf 页面 [login.jsf 包含在jsf 模板]。

**我的意思是：当应用程序运行时，第一页显示第一个主页模板 [home.jsf]，其中包含 login.jsf**

任何人都给我这个问题的建议......：D
thx agung

**web.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">
<context-param>
    <param-name>javax.faces.PROJECT_STAGE</param-name>
    <param-value>Production</param-value>
</context-param>
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>/WEB-INF/app-config.xml</param-value>
</context-param>
<context-param>
    <param-name>javax.faces.FACELETS_LIBRARIES</param-name>
    <param-value>/WEB-INF/springsecurity.taglib.xml</param-value>
</context-param>
<filter>
    <filter-name>springSecurityFilterChain</filter-name>
    <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
</filter>
<servlet>
    <servlet-name>Spring MVC Dispatcher Servlet</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>/WEB-INF/app-config.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet>
<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>
<servlet>
    <servlet-name>Faces Servlet</servlet-name>
    <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>
<filter-mapping>
    <filter-name>springSecurityFilterChain</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>
<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.jsf</url-pattern>
</servlet-mapping>
<servlet-mapping>
    <servlet-name>Spring MVC Dispatcher Servlet</servlet-name>
    <url-pattern>*.htm</url-pattern>
</servlet-mapping>
<welcome-file-list>
    <welcome-file>faces/index.jsp</welcome-file>
    <welcome-file>index.jsp</welcome-file>
</welcome-file-list>
</web-app> 
```

**安全.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<b:beans xmlns="http://www.springframework.org/schema/security"
xmlns:b="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/security
http://www.springframework.org/schema/security/spring-security-3.0.xsd">

<http realm="Project Realm" auto-config="true" use-expressions="true">
    <intercept-url pattern="/auth/**" filters="none"/>
    <intercept-url pattern="/admin/**" access="hasRole('ROLE_ADMIN')"/>
    <intercept-url pattern="/users/**" access="hasRole('ROLE_USER')"/>
    <intercept-url pattern="/**" access="hasAnyRole('ROLE_ADMIN','ROLE_USER')"/>

    <form-login login-page="/auth/login.jsp" authentication-failure-url="/auth/login.jsp?login_error=1"/>
    <logout logout-success-url="/auth/login.jsp"/>
    <remember-me />
</http>

<authentication-manager>
    <authentication-provider>
        <password-encoder hash="md5"/>
        <jdbc-user-service data-source-ref="dataSource" />
    </authentication-provider>
</authentication-manager>

</b:beans> 
```

**带有模板的 jsf 页面，tempHome.xhtml**

```
<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:p="http://primefaces.org/ui"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  style="overflow: hidden">

<h:head>

    <title>Facelets Template</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="./../resources/css/default.css" rel="stylesheet" type="text/css" />
    <link href="./../resources/css/userCssLayout.css" rel="stylesheet" type="text/css" />
    <link href="./../resources/css/layout.css" rel="stylesheet" type="text/css" />

</h:head>

<h:body>

    <div id="top">
        <ui:insert name="top">

        </ui:insert>
    </div>
    <div>
        <div id="left">
            <ui:insert name="left"></ui:insert>
        </div>
        <div>
            <div id="right">
                <ui:insert name="right"></ui:insert>
            </div>
            <div id="content" class="right_content">
                <table style="width: 100%;">
                    <tbody>
                        <tr align="left">
                            <td width="0%"></td>
                            <td>
                                <ui:include src="./../userPage/userMenubar.xhtml"/>
                            </td>
                            <td>
                                <ui:include src="./../pageLogin/userLogin.xhtml"/>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <ui:insert name="content">

                </ui:insert>
            </div>
        </div>
    </div>
    <div id="bottom">
        <ui:insert name="bottom"></ui:insert>
    </div>

</h:body> 
```

**索引.jsp**

```
<% response.sendRedirect("userPage/home.jsf"); %> 
```

**用户登录.xhtml**

```
<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:p="http://primefaces.org/ui"
  xmlns:h="http://java.sun.com/jsf/html">
<h:head>
    <title>Facelet Title</title>
</h:head>
<h:body>
    <h:form style="height: 50px; font-size: 10px;">
        <p:toolbar>  
            <p:toolbarGroup align="left">  
                <p:separator />  

                <h:outputText value="Username : "/>
                <p:inputText value="#{memberBean.selected.username}"/>

                <h:outputText value="Password : "/>
                <p:password value="#{memberBean.selected.password2}" feedback="false"/>

                <p:commandButton value="Login" actionListener="#{memberBean.cek()}"/>

                <p:commandButton type="button" title="Save" icon="ui-icon-disk"/>  

            </p:toolbarGroup>  

            <p:toolbarGroup align="right">  
                <p:menuButton value="Options">  
                    <p:menuitem value="Home" url="http://www.primefaces.org" />  
                    <p:menuitem value="ShowCase"  
                                url="http://www.primefaces.org/showcase" />  
                    <p:menuitem value="TouchFaces"  
                                url="http://www.primefaces.org/showcase/touch" />  
                </p:menuButton>  
            </p:toolbarGroup>  

        </p:toolbar>

    </h:form>
</h:body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T12:48:37.543

可能听起来微不足道，但您是否尝试用 security.xml 中的 login.jsf 路径替换 login.jsp？当然，您必须从截获的 URL 中排除所需的文件。在没有此行的情况下对其进行测试：

```
<intercept-url pattern="/**" access="hasAnyRole('ROLE_ADMIN','ROLE_USER')"/> 
```

上面这行确实不是一个好主意，它会阻止登录页面可能需要的 css 文件、javascript、图像。我更喜欢限制对特定区域的访问，并在默认情况下保持资源可访问。

还要记住，在某些情况下，登录页面可能会被加载数千次 - 脚本损坏、内部服务器状态监控等。普通的 jsp 页面应该处理得更快。

# postgresql - 错误：安装 OSM-nominatim API 时函数 make_standard_name(unknown) 不存在

> ID：10680479
> 
> 赞同：3
> 
> 时间：2012-05-21T06:35:37.820
> 
> 标签：postgresql, centos, openstreetmap, nominatim

[我正在使用http://wiki.openstreetmap.org/wiki/Nominatim/Installation](http://wiki.openstreetmap.org/wiki/Nominatim/Installation)的指导在我自己的服务器上安装 nominatim ...

但是在将国家/地区短语/代码添加到我的 pgsql 数据库时我遇到了问题。我正在使用上面链接中给出的以下命令执行此操作：

```
psql -d nominatim -f specialphrases_countries.sql 
```

但是，我收到以下错误：

```
psql:specialphrases_countries.sql:1: ERROR:  function make_standard_name(unknown) does not exist
LINE 1: select getorcreate_country(make_standard_name('uk'), 'gb');
                                   ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
psql:specialphrases_countries.sql:2: ERROR:  function make_standard_name(unknown) does not exist
LINE 1: select getorcreate_country(make_standard_name('united states...
                                   ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
psql:specialphrases_countries.sql:3: ERROR:  relation "country_name" does not exist
LINE 1: ...e_standard_name(country_code), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:4: ERROR:  relation "country_name" does not exist
LINE 1: ...try_name.name,ARRAY['name'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:5: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:af'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:6: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:ar'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:7: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:br'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:8: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:ca'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:9: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:cs'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:10: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:de'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:11: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:en'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:12: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:es'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:13: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:et'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:14: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:eu'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:15: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:fa'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:16: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:fi'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:17: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:fr'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:18: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:gl'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:19: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:hr'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:20: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:hu'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:21: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:ia'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:22: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:is'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:23: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:it'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:24: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:ja'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:25: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:mk'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:26: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:nl'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:27: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:no'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:28: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:pl'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:29: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:ps'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:30: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:pt'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:31: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:ru'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:32: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:sk'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:33: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:sv'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:34: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:uk'])), country_code) from country_na...
                                                             ^
psql:specialphrases_countries.sql:35: ERROR:  relation "country_name" does not exist
LINE 1: ..._name.name,ARRAY['name:vi'])), country_code) from country_na...
                                                             ^ 
```

我不知道什么是“make_standard_name(unknown)”，如何创建它来解决“错误：函数 make_standard_name(unknown) 不存在”...

请建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-23T16:16:35.703

函数 make_standard_name(text) 通过安装过程中的后续步骤添加到数据库中：[http ://wiki.openstreetmap.org/wiki/Nominatim/Installation#Import_and_index_OSM_data](http://wiki.openstreetmap.org/wiki/Nominatim/Installation#Import_and_index_OSM_data)

如果缺少此功能，则该步骤已丢失或在该步骤期间发生错误。在导入额外的国家名称数据之前，您需要成功运行它。

您可以尝试`./util/setup.php --create-functions`只生成函数（而不是`./util/setup.php --all`），但考虑到错误，您的数据库几乎肯定是无效的，如果继续，您将遇到其他问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T07:37:21.127

我想说这实际上不是您遇到的第一个错误。尝试重新运行创建并将输出发送到文件。寻找第一个错误。一种方法是告诉 psql 在发生错误后中止，在 unix/linux 上是：

```
ON_ERROR_STOP=1 psql -d nominatim -f specialphrases_countries.sql 
```

在 Windows 上，我认为它是：

```
set ON_ERROR_STOP=1
psql -d nominatim -f specialphrases_countries.sql 
```

由于您已经部分加载了数据，这可能无法正常工作，因为它可能会尝试创建已经存在的东西。您可能需要运行包提供的任何清理/删除脚本，或者（如果可能）在新的清理数据库上运行它。

为了测试，尝试创建一个新的空白数据库并尝试加载数据：

```
ON_ERROR_STOP=1 psql -d mytestdb -1 -f specialphrases_countries.sql 
```

注意`-1`那里，它告诉 psql 在单个事务中运行作业。无论如何，这通常是一个好主意，因为它可以确保创建/加载脚本作为一个整体总是成功或失败。

# html - 提交按钮不起作用

> ID：10680484
> 
> 赞同：0
> 
> 时间：2012-05-21T06:35:59.757
> 
> 标签：html, button

我得到了一个模板，我已经更改了文本。该站点显示正常，但提交电子邮件地址的唯一方法是按键盘上的 Enter 键。

单击提交按钮什么也不做。

有人可以帮忙吗？

下面是 html，让我知道它是否是有问题的必需部分。

谢谢！

```
 <label class="hide">Email Address:</label> <input
 name="email" value="" class="txt-field"
 type="text" /> </form>
</div>
<div class="button-wrap"> <button type="submit"
value="Submit" id="submit" name="cmdSubmit"
class="link button"><span>Get Instant Access</span></button>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:41:33.263

如果您使用的是表单，那么像这样的代码

```
<label class="hide">Email Address:</label> <input
 name="email" value="" class="txt-field"
 type="text" /> </form>
</div>
<div class="button-wrap"> <input type="submit"
value="Submit" id="submit" name="cmdSubmit"
class="link button">
<span>Get Instant Access</span></button>
</div> 
```

更新（对不起我的愚蠢，现在你可以试试这个）

```
<form><label class="hide">Email Address:</label> <input
 name="email" value="" class="txt-field"
 type="text" /><div class="button-wrap"> <button type="submit"
value="Submit" id="submit" name="cmdSubmit"
class="link button"><span>Get Instant Access</span></button>
</div> </form> 
```

# objective-c - 如果我们有 ARC，如何实现属性

> ID：10680486
> 
> 赞同：0
> 
> 时间：2012-05-21T06:36:20.597
> 
> 标签：objective-c, xcode4, automatic-ref-counting

```
-(Business *) currentBusiness
{
    return _currentBusiness;
}

-(void) setCurrentBusiness:(Business *)currentBusiness
{
    _currentBusiness = currentBusiness;
} 
```

即使是强大的属性也应该这样吗？

我的意思是对于 ARC，我们不需要调用保留释放或其他任何权利？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T06:55:41.847

只要您声明该属性由该 ivar 支持（通过 最容易做到这一点`@synthesize currentBusiness = _currentBusiness;`），是的，这是正确的。

我假设你想在访问器方法中做更多的事情而不是分配/返回，否则你不会费心去实现它们。

# javascript - 限制文本区域中每行的字符

> ID：10680493
> 
> 赞同：6
> 
> 时间：2012-05-21T06:37:21.563
> 
> 标签：javascript, html, textbox

我整个周末都在寻找这个难题的解决方案，但还没有找到一个可以正常工作的解决方案。我想要实现的是限制文本区域中每行的字符数 - 不是相同地限制它们，而是我选择的每行字符数不同。

**例如：**

1.  我只想在我的文本区域中有 4 行
2.  第 1,2 和 3 行将限制为 24 个字符
3.  第 4 行将有无限数量的字符

这是否可以使用 textarea，或者是否有另一种方法可以使用 Div 或其他方式进行 i 操作。我确实意识到以前很可能已经涵盖了这一点，但是要找到涵盖该标准的实际工作脚本已被证明是极其困难的，而且我没有获得这些结果所需的那种技能。

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-21T07:13:38.297

以下是您尝试解决的问题的示例快照：

*   textarea 中的 4 行（将其限制在 textarea 本身，rows="4"）
*   第 1、2 和 3 行限制为 24 个字符
*   第 4 行将有无限数量的字符

**文本区域的快照：**

```
123456789012345678901234
123456789012345678902333
232323232323232323323232
23232323232323232323236464536543654643 
```

**JavaScript：**

```
$('#your-input').keypress(function() {
     var text = $(this).val();
     var arr = text.split("\n");

     if(arr.length > 5) {
         alert("You've exceeded the 4 line limit!");
         event.preventDefault(); // prevent characters from appearing
     } else {
         for(var i = 0; i < arr.length; i++) {
             if(arr[i].length > 24 && i < 3) {
                 alert("Length exceeded in line 1, 2, or 3!");
                 event.preventDefault(); // prevent characters from appearing
             }
         }
     }

     console.log(arr.length + " : " + JSON.stringify(arr));
}); 
```

这可以使用按键事件来完成。`\n`当 keypress 事件触发时，获取文本框的当前值并使用换行符作为分隔符将值拆分为数组。

*   数组的长度告诉你你有多少行。如果您超出了这些界限，我们会发出警报。
*   数组中每个单独字符串的长度表示每一行的长度。我们使用 for 循环来检查前 3 行。如果我们超过 24 的长度，我们会发出警报。
*   我们忽略了循环的最后一次迭代，因为我们不关心最后一行的长度。

这不是一个完整的解决方案，但这肯定会让您开始并为您提供一些您可以修改以满足您的需求的东西。祝你好运！

# php - 需要一些重要提示：- 不同查询的 Sql 注入..

> ID：10680494
> 
> 赞同：0
> 
> 时间：2012-05-21T06:37:29.817
> 
> 标签：php, mysql, sql, cakephp-1.3

如何防止我的代码和 sql 架构从 sql 注入..??

我正在使用 PHP 进行编码..

我有一些登录表格。我读了一些 sql 注入查询

```
string sql = "SELECT * FROM table_name WHERE smth='" + UserInput + "'";
ExecuteSql(sql);

SELECT fieldlist
  FROM table
 WHERE field = 'steve@unixwiz.net''; 
```

我知道发生 sql 注入是因为我们的编码错误和从数据库中检索数据的查询错误.. 我做了一些谷歌来保护我的项目免受 sql 注入器的影响，但我没有得到一些正确的信息..

我也使用 cakephp 框架进行编码，并且我知道在 cakephp sql 注入中非常困难，因为它会清理查询.. 是真的吗？

我得到了这个信息：-

```
CakePHP already protects you against SQL Injection if you use CakePHP's ORM methods (such as find() and save()) and proper array notation (ie. array('field' => $value)) instead of raw SQL. For sanitization against XSS its generally better to save raw HTML in database without modification and sanitize at the time of output/display. 
```

有人会指导我吗？

谢谢 ！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T09:15:22.997

@Learner 专门讨论的是 CakePHP 框架中的查询，而不是一般的注入（尽管这也很重要。

当 CakePHP 说

> 如果您使用 CakePHP 的 ORM 方法（例如 find() 和 save()）和正确的数组表示法（即 array('field' => $value)）而不是原始 SQL，CakePHP 已经保护您免受 SQL 注入。对于 XSS 的清理，通常最好将原始 HTML 保存在数据库中而不进行修改，并在输出/显示时清理。

你需要做的就是它所说的。当您对数据库运行任意查询时，它不会保护您 - 它不能，因为您绕过了 CakePHP。当它确实保护您时，是通过框架运行的查询：

```
$result = $this->Article->find(
    'first', array(
    'conditions' => array('Article.id' => $articleIDtoFind))); 
```

在这个例子中，不管`$articleIDtoFind`来自哪里，查询都是安全的。（如果它充满垃圾，它可能无法正常工作）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-21T06:43:55.237

任何输入都应适当消毒以防止注入：

```
$UserInput = mysql_real_escape_string($_REQUEST['inputfield']);
$sql = "SELECT * FROM table_name WHERE smth='". $UserInput ."'";
ExecuteSql(sql); 
```

您可以随时清理您的输入。如果您有一些实际的代码，这将有助于查看。只需将函数“mysql_real_escape_string”应用于任何字符串，然后再将其添加到查询中。

更新：

我不肯定我从您的评论中正确阅读了这一点，但这就是您的代码的外观：

```
<?php 
$username = mysql_real_escape_string($_POST['username']); 
$password = mysql_real_escape_string($_POST['password']);
$query = "SELECT * FROM users WHERE user='".$username."' AND password='".$password."'";
echo $query;
if($result = mysql_query($query)) {
    // matching user + password found
    $row = mysql_fetch_assoc($result);
    print_r($row); //This will show you the results of the query.
}
else {
    // no matching user and password -- login not granted
    echo "you fail.";
}
?> 
```

由于我添加了“mysql_real_escape_string”函数，像'和'这样的字符将被转义，以便数据库不会将它们视为查询的一部分。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T13:35:58.957

一种可能的 sql 注入方法是输入具有不同条件的数据。例如：您的 aboue 查询可以通过输入以下字符串来破解。

```
 a' or '1=1 
```

为避免这种注入，您可以使用以下方法 1.mysql_real_escape_string(); eg：在执行查询之前

使用，$user_data=mysql_real_escape_string($user_data); 2.addlashes()

```
eg : $user_data=addslashes($user_data) 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-05-21T06:43:20.780

恕我直言，没有任何方法是 100% 完全证明的。但是，清理输入以及正确处理表单数据（这是 99% 的攻击的来源，您忘记提防的文本框）将减少此类事件的发生。

在将数据放入数据库时​​，大多数人都会清理字符串，寻找要转义的字符。互联网上有一个关于“小鲍比；放下桌子；”的笑话。这说明了这个问题。我个人的方法是对进入数据库的字符串进行base64编码，并在它们离开时对其进行base64解码。为什么不使用内置插件？你可以，而且可能应该。但是，就我而言，我已经使用不同的数据库/文件格式执行了很多工作，并且 base64 在处理它们中的任何一个时都很有用。

至于表单，这是与潜在攻击者打交道时乐趣的一部分，您会希望尽可能使用 POST / SESSION。为什么？因为一般来说，您希望尽可能少地向攻击者提供有关您网站/数据库内部的信息。想象一个页面，它接受了一个 Get 请求，它直接执行从中获取的参数：“accounts.php?ACCOUNTID=2347289”。一个懒惰的程序员会在一个表中拥有一个与该变量匹配的字段，一个字符一个字符。然而，正如许多人所指出的，这部分并不严格处理 SQL 注入攻击，但我觉得值得一提，因为您似乎对这一切都很陌生。

# java - JSF 性能

> ID：10680495
> 
> 赞同：1
> 
> 时间：2012-05-21T06:37:32.250
> 
> 标签：java, jsf, richfaces

我是 JSF 编程的新手，并且设计了一个相当简单的 JSF 2.0 Web 应用程序。它具有丰富的：左侧的树，用作分层菜单。当用户单击树中的某些内容时，将触发选择处理程序并触发页面的部分重新加载，该页面显示与您刚刚单击的内容相关的内容。

问题是界面感觉迟缓，所以我启用了一些日志记录并添加了一个自定义阶段侦听器，让我了解瓶颈在哪里。

```
2012-05-21 07:58:05.516 DEBUG NodeBean - Retrieving properties
2012-05-21 07:58:05.516 DEBUG CustomPhaseListener - Before phase: APPLY_REQUEST_VALUES 2
2012-05-21 07:58:05.876 DEBUG RepositoryBean - Selection change event invoked (size: 1)
2012-05-21 07:58:05.876 DEBUG RepositoryBean - Selection change event handled
2012-05-21 07:58:05.876 DEBUG CustomPhaseListener - After phase: APPLY_REQUEST_VALUES 2
2012-05-21 07:58:05.876 DEBUG CustomPhaseListener - Before phase: PROCESS_VALIDATIONS 3
2012-05-21 07:58:06.469 DEBUG CustomPhaseListener - After phase: PROCESS_VALIDATIONS 3
2012-05-21 07:58:06.469 DEBUG CustomPhaseListener - Before phase: UPDATE_MODEL_VALUES 4
2012-05-21 07:58:06.844 DEBUG CustomPhaseListener - After phase: UPDATE_MODEL_VALUES 4
2012-05-21 07:58:06.844 DEBUG CustomPhaseListener - Before phase: INVOKE_APPLICATION 5
2012-05-21 07:58:06.844 DEBUG CustomPhaseListener - After phase: INVOKE_APPLICATION 5
2012-05-21 07:58:06.860 DEBUG CustomPhaseListener - Before phase: RENDER_RESPONSE 6
2012-05-21 07:58:06.985 DEBUG NodeBean - Retrieving properties
2012-05-21 07:58:07.001 DEBUG RepositoryBean - Retrieving content
2012-05-21 07:58:07.001 DEBUG RepositoryBean - Content retrieved
2012-05-21 07:58:07.376 DEBUG CustomPhaseListener - After phase: RENDER_RESPONSE 6 
```

NodeBean 是一个请求范围的 bean，它有一个“getProperties()”方法。我不知道为什么一开始就调用它，但它的开销很小，所以这是另一个问题。

正如您所见，JSF 生命周期需要很长时间才能完成，而自定义代码在开销方面相当微不足道。经过一番谷歌搜索，我发现“immediate='true'”可以让你跳过一些步骤，但将它添加到 rich:tree 没有任何效果。我认为我做错了什么，但对于我的生活，我无法弄清楚是什么。

附带说明：有时（通常在用户不活动之后）该过程将在阶段 3 之后停止，这意味着没有内容返回给用户。在用户重新加载页面之前，rich:tree 中的任何选择都将具有相同的行为。

**编辑：**

经过一些进一步的调试后，richfaces 树似乎在每个请求上都会重建几次。它与这个问题有关：[JSF2 Richfaces 4.1.0 Ajax partial rendering of tree](https://stackoverflow.com/questions/9226357/jsf2-richfaces-4-1-0-ajax-partial-rendering-of-tree)

我的用例是：树基本上是静态的，如果您选择一个项目，与该项目相关的属性和内容应该出现在右侧。所以基本上我有一个 selectionchange 侦听器，它注册您选择的内容，并重新呈现使用该设置加载属性和内容的中央组件。树应该（几乎）永远不会被刷新。但实际发生的情况是，即使部分重新渲染没有提及或引用树，也会为阶段 2、3、4 和 6 重建整个树。

最初我有这个：

```
<rich:tree id="tree" var="node"
        value="#{repository.browser}" 
        render="node" 
        toggleType="client" selectionType="ajax" 
```

如果您将“selectionType”设置为客户端，问题就会消失，但不会在后端重新渲染或调用任何内容。我尝试添加类似

```
<f:ajax event="click" render=":node"/> 
```

但这也失败了（树仍然在后台重建）。有没有办法缓存树或者干脆不为每个请求重建它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T13:39:50.083

我已经为我的特定用例解决了这个问题，但我不确定它是否适用于其他人。我更新了 org.richfaces.component.TreeRange.shouldIterateChildren() 方法：

```
public boolean shouldIterateChildren() {
    if (tree.getRowKey() == null) {
        return true;
    }

    if (tree.isLeaf()) {
        return false;
    }

    return traverseAll || tree.isExpanded();
} 
```

至：

```
public boolean shouldIterateChildren() {
    if (tree.isLeaf())
        return false;
    else {
        char separatorChar = UINamingContainer.getSeparatorChar(FacesContext.getCurrentInstance());
        String clientId = tree.getClientId();
        boolean render = false;
        for (String idToRender : FacesContext.getCurrentInstance().getPartialViewContext().getRenderIds()) {
            // render the tree if you explicitly mention either the client id (e.g. "menuForm:tree") or the parent component client id (e.g. "menuForm")
            // note that when clicking on an object in the tree, the following render target is requested: menuForm:tree@selection
            if (clientId.equals(idToRender) || clientId.matches(idToRender + separatorChar + ".*")) {
                render = true;
                break;
            }
        }
        // always render if it's not a postback
        return render || !FacesContext.getCurrentInstance().isPostback();
    }
} 
```

我仍然不知道我是否使用了rich:tree 错误或者它实际上是一个错误，我已经向 jboss-users 邮件列表发送了一封邮件，如果它实际上是一个错误，将创建一个 jira 问题。至少现在我的 Web 应用程序即使使用大树也能快速响应。

# java - 处理大量文件

> ID：10680498
> 
> 赞同：8
> 
> 时间：2012-05-21T06:37:59.410
> 
> 标签：java, file

我有一个包含十亿个文件的外部磁盘。如果我将外部磁盘安装在计算机 A 中，我的程序将扫描所有文件的路径并将文件的路径保存在数据库表中。之后，当我弹出外部磁盘时，这些数据仍将保留在表中。问题是，如果B机中的一些文件被删除了，我又把它挂载到A机上，我必须同步A机的数据库表。但是，我不想再扫描所有文件，因为它需要很多时间，浪费很多内存。有没有办法在不扫描所有文件的情况下更新数据库表，同时最大限度地减少使用的内存？

此外，就我而言，内存限制比时间更重要。这意味着我宁愿节省更多内存而不是节省更多时间。

我想我可以将文件切割成很多部分并使用一些特定的功能（可能是SHA1？）来检查该部分中的文件是否被删除。但是，我找不到将文件剪切到各个部分的方法。任何人都可以帮助我或给我更好的想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:28:48.470

如果您无法控制磁盘上的文件系统，您别无选择，只能扫描整个磁盘上的文件名。要列出已删除的文件，您可以执行以下操作：

```
update files in database: set "seen on this scan" to false
for each file on disk do:
    insert/update database, setting "seen on this scan" to true
done
deleted files = select from files where "seen on this scan" = false 
```

数据库性能问题的解决方案可能是将文件名累积到某种列表中，并在达到 1000 个文件时进行批量插入/更新。

至于拥有 10 亿个文件的目录，您只需将列出文件的代码替换为包含 C 函数`opendir`和`readdir`. 如果我是你现在就不会太担心了。没有一个理智的人在一个目录中拥有 10 亿个文件，因为这种事情会削弱文件系统和常用的操作系统工具，因此风险很低，解决方案也很简单。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-05T11:52:03.883

如果内存很重要，我会选择操作系统设施。

如果你有 ext4，我会假设你在 Unix 上（你可以在其他操作系统上安装 find，比如 Win）。如果是这种情况，您可以使用本机 find 命令（这将是最后一分钟，您当然可以记住上次扫描时间并将其修改为您喜欢的任何内容）： find /directory_path -type f -mtime -1 -打印

当然你不会有删除。如果启发式算法对您有用，那么您可以创建一个线程，慢慢转到存储在数据库中的每个文件（无论您需要先显示什么，然后从新到旧显示）并检查它是否仍然在线。这不会消耗太多内存。我认为您无论如何都无法向用户显示十亿个文件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-05T11:21:21.103

您是否有删除发生时删除内容的列表（或更改任何删除过程以创建此内容）？如果是这样，您是否不能拥有一个带有时间戳的“我已被删除”列表，然后从该列表中选择项目以仅同步更改的内容？自然地，您仍然希望在服务器上缓慢同步某种批处理作业，但我认为这可以减少负载。

根据更改代码的内容，另一种选择可能是让该进程在删除时直接更新数据库（如果您有多个节点）。这将在系统中引入一些耦合，但将是最有效的方法。

在我看来，最好的方法是对已发生删除的消息传递的想法进行一些变化（即使这只是一个文件，您使用最近删除的文件列表写入某个位置），或者某种直接回调机制，或者通过代码或直接从删除过程中调整应用程序使用的持久数据存储。

即使说了这么多，您总是需要对索引进行某种索引同步或定期完整性检查，以确保所有内容都正确匹配。

您可以（如果您不必根据您拥有的文件数量来划分，我会感到震惊）将文件空间划分为多个文件夹，例如每个文件夹 5,000-10,000 个文件，然后创建一个简单的文件具有文件夹中所有文件名称的哈希值。这会捕获删除，但我仍然认为在删除发生时直接回调某种形式是一个更好的主意。如果你有一个包含所有这些东西的单一文件夹，那么创建一些东西将它分成单独的文件夹（我们在主文件夹下使用简单的数字，这样我们就可以继续下去了）应该会大大加快一切；即使您必须对所有新文件执行此操作并将旧文件原样保留，至少您可以停止文件检索的流血。

在我看来，由于您正在以编程方式控制文件的索引，因此当底层文件系统发生更改时，您确实应该以某种方式涉及（或通知）相同的程序，而不是允许更改发生并且然后查看所有内容以获取更新。自然地，为了捕捉这种通信中断的异常值，您还应该在其中有同步代码来实际检查文件系统中的内容并定期更新索引（尽管这可以并且可能应该分批处理到主应用程序）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T07:00:03.707

理论上，您可以通过检查目录上的“修改”时间戳来加快速度。如果目录没有被修改，那么您不需要检查该目录中的任何文件。不幸的是，您确实需要扫描可能的子目录，并且找到它们涉及扫描目录......除非您保存了目录树结构。

当然，这没有实际意义，因为您有一个包含十亿个文件的平面目录。

* * *

我想您正在组装内存中的所有文件路径，以便您可以在查询数据库之前对它们进行排序。（并且对它们进行排序是一个好主意......）但是还有一种替代内存排序的方法：

1.  将文件路径写入文件。
2.  使用外部排序实用程序将文件排序为主键顺序。
3.  读取排序后的文件，并按关键顺序对数据库执行批量查询。

* * *

（您的光盘上真的有十亿个文件吗？这听起来对您的数据存储来说是个糟糕的设计......）

# ios - 如何解决不可复制的 iOS 问题？

> ID：10680499
> 
> 赞同：0
> 
> 时间：2012-05-21T06:38:13.367
> 
> 标签：ios, xcode, ipad

当点击按钮并按下视图控制器时，我的应用程序的用户报告崩溃。但是，我真的无法在我自己的 iPad 或模拟器上复制该问题。他们都有不同的 iPad（1、2 和 3）和不同的 iOS 版本。我不认为这是内存泄漏，因为此时不应占用内存。

我的项目的基础 SDK 是 iOS 5.1，但部署目标是 iOS 4.3。这可能是问题吗？

是否有一些常见问题需要注意？任何帮助表示赞赏。谢谢

# javascript - 我在哪里可以在 jQuery 中制作像 Chartbeat.com 这样的圆形图表？

> ID：10680503
> 
> 赞同：2
> 
> 时间：2012-05-21T06:38:27.723
> 
> 标签：javascript, jquery, charts

我正计划制作一个分析仪表板，并希望实现类似于此问题所附图像的圆形图表：![在此处输入图像描述](../Images/3ba4724789382487ed5d9d6baae1abba.png)

我想用jQuery来做。你们有任何有用的资源链接或其他 SO 问题吗？会很棒！

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-24T19:07:04.983

你也可以看看：

[http://bernii.github.com/gauge.js/](http://bernii.github.com/gauge.js/)

[http://www.justgage.com/](http://www.justgage.com/)

它们看起来都非常好，而且看起来很容易使用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-21T06:47:03.383

最简单的方法可能是创建一个模仿您想要的外观的 SVG，然后使用 JavaScript/jQuery 修改 SVG 的源代码。您要求的设计可能只需将两条弧线相互叠放即可实现。

从这个关于计算弧的[出色答案中得出，创建两个重叠的可能看起来](https://stackoverflow.com/a/3262746/133802)[像这样](http://jsfiddle.net/Us6Lw/)，这也演示了动态更新弧。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-10T06:43:56.003

lethargicpanda 的建议很酷。也可以查看[jQuery Knob](http://anthonyterrien.com/knob/)。它还允许用户输入。

# xcode - 我如何知道哪个文件打开了 ARC，哪个文件关闭了 ARC？

> ID：10680504
> 
> 赞同：2
> 
> 时间：2012-05-21T06:38:49.207
> 
> 标签：xcode, automatic-ref-counting

ARC 代表自动引用计数。

我刚刚升级了我的项目以使用 ARC。虽然不是全部。一些。

我怎么知道？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-21T06:45:32.787

要查看默认值，您必须检查目标属性（您的目标 -> 构建设置 -> Apple LLVM 编译器 - 语言 -> Objective-C 自动引用计数）

然后您可以更改每个 .m 文件的设置：您的目标 -> 构建阶段 -> 编译源 -> 您有一个 -m 文件列表，每个文件都有一个“编译器标志”字段。要禁用该文件的 arc 作为 flag 传递`-fno-objc-arc`。启用（如果您默认关闭电弧）`-fobjc-arc`

编辑：我添加了一个项目的图像.. ![在此处输入图像描述](../Images/6de827016b929a4e0bd3383b36406b47.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-21T06:45:16.863

在目标的 Compile Sources 构建阶段中的文件上查找`-fno-objc-arc`标志，如[本答案](https://stackoverflow.com/a/6658549/1218876)所示。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T06:45:24.317

如果在源代码级别，这个问题可以回答：[我如何知道编译器是否启用了 ARC 支持？](https://stackoverflow.com/questions/9462372/how-do-i-know-whether-the-compiler-has-arc-support-enabled/9462395#9462395)

如果在构建设置级别，请参阅`-fobjc-arc`或其相反`-fno-objc-arc`。如果未定义，则默认为关闭。

# database - 内网数据库设计 - 公司表

> ID：10680508
> 
> 赞同：0
> 
> 时间：2012-05-21T06:39:10.530
> 
> 标签：database

我正在设计一个 Intranet 应用程序。该 Intranet 是为母公司提供的，该母公司将在其下拥有多个子公司。每个员工都将属于一家公司。到目前为止，我只需要存储公司的名称。

现在为了维持与合作伙伴和客户的外部关系，我们需要存储他们的公司。在这里，我也只需要存储名称。

我的问题是 - 将它们保存在两个单独的表中是否更好，一个公司表用于内部，另一个用于外部？还是最好有一张表并用 FLAG 标识内部和外部公司。

一般问题是两个表是否具有相同的结构但属于不同的请提出建议。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:46:23.623

*在规范化数据库设计的意义上，更好*的是有一个公司表和第二个公司类型表，而不是标志列。稍后您将能够区分外部合作伙伴，而无需添加其他标志。

# windows-phone-7 - 当我在模拟器中运行我的 windows phone apppicatin 时，httpnotificationchannel.open() 会返回 uri 和其他信息吗？

> ID：10680515
> 
> 赞同：1
> 
> 时间：2012-05-21T06:39:42.670
> 
> 标签：windows-phone-7

我正在开发一个使用 windows phone 推送通知服务的 windows phone 应用程序。我知道我们使用 will httpnotificationchannel.open() 来打开一个带有 mspn 的通知通道。我的问题是当我在模拟器中运行我的 windows phone apppicatin 时，httpnotificationchannel.open() 会返回 uri 和其他信息吗？是否有必要在 Windows 手机中运行此应用程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T08:36:21.887

是的，这将在模拟器中工作。

尝试也比写你的问题要快。

# asp.net-mvc - 将 webform 用户控件转换为 MVC 4 控件

> ID：10680518
> 
> 赞同：0
> 
> 时间：2012-05-21T06:40:06.297
> 
> 标签：asp.net-mvc, asp.net-mvc-4

我正在尝试将 webform 用户控件转换为基于 MVC 的用户控件。

消息控制.ascx

```
 public abstract class Feedback : System.Web.UI.UserControl
 {
    public string Message {get;set;}
 }

 public void ShowError()
 {
   lblMessage.InnerHtml = Message;      
 } 
```

所以在 aspx 页面中，我可以调用公共方法 ShowError 并传递将显示在 usercontrol ascx 文件中的错误。

页面

```
 protected void Page_Load(object sender, System.EventArgs e)
 {
     if(isError = true)
     {
          MessageControl1.Message = "Error Occured";
     }  
 } 
```

我怎样才能在 MVC 4.0 中达到同样的效果？

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T13:45:36.000

正确的方法是将模型状态用于强类型模型。我经常使用的另一种更手动的方法是将错误消息放入 Viewbag，然后在视图上检查 Viewbag 中的条目是否存在以及是否显示错误。例如（在 asp.net mvc 中）：

```
<div id="notification_error" class="invalid" <%if (String.IsNullOrEmpty(""+TempData[ "ErrorMsg" ])){ %>style="display: none;"
        <%} %>>
        <%= TempData["ErrorMsg"] %>
    </div> 
```

# c++ - 我是否最有效地使用 SSE 资源？

> ID：10680521
> 
> 赞同：0
> 
> 时间：2012-05-21T06:40:10.033
> 
> 标签：c++, optimization, sse

我有这段代码可以找到低/高范围内有多少关键像素。低高矩阵是从输入大矩阵生成的。我必须输出匹配像素数大于 150（共 256 个）的低/高坐标。

```
int8_t high[8192][8192];
int8_t low[8192][8192];
int8_t key[16][16]

for (int i = 0; i <= 8192 - 16; i++)
for (int j = 0; j <= 8192 - 16; j++)
{
    char *kLoc = key[ii];
    char *lLoc = low[i + ii] + j;
    char *hLoc = high[i + ii] + j;

    __m128i high, low, num;
    low = _mm_loadu_si128((__m128i*)lLoc);
    high = _mm_loadu_si128((__m128i*)hLoc);
    num = _mm_loadu_si128((__m128i*)kLoc);

    // Snip
} 
```

这可以做得更好吗？

我知道有 8 个 128 位 XMM 寄存器和 MMX 寄存器，而我只使用 3 个可用的 XMM 寄存器。我可以优化代码以利用所有寄存器吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-05-21T07:40:57.687

在优化方面，不要在目标/生产环境上猜测、测量和测量。对于简单的算术，瓶颈通常在内存带宽上，因此您可以考虑在加载和保存之间做其他事情。您还可以通过将循环重新排序并将循环交错为：

```
num_1  = loadu(hLoc); hLoc++;
num_2  = loadu(hLoc); hLoc++;
low_1  = loadu(kLoc); kLoc++;
low_2  = loadu(kLoc); kLoc++;
high_1 = loadu(lLoc); lLoc++;
high_2 = loadu(lLoc); lLoc++;

num1   = mm_sub(low1)
num2   = mm_sub(low2)
cmp num1, high1
cmp num2, high2

store num1
store num2 
```

您可能还想将 kLoc、lLoc、hLoc 移到循环之外并像上面那样做增量（即 kLoc++），一些编译器非常愚蠢并生成计算每个循环中地址的代码。

# java - Android 动态填充数据数组

> ID：10680525
> 
> 赞同：0
> 
> 时间：2012-05-21T06:40:37.897
> 
> 标签：java, android

我坚持填充 Array 动态。

我找不到解决方案。正常我会通过任何循环填充数组。

在这种情况下它不起作用我真的花了几个小时来寻找解决方案。

我找到了一个在 android 中使用自定义列表的示例。工作正常。

我创建了一个对象测试。

```
public class Test {
public int icon;
public int PB;
public String title;
public Test(){
    super();
}

public Test(int icon, String title, int PB) {
    super();
    this.icon = icon;
    this.title = title;
    this.PB = PB;
} 
```

}

并在这里填充静态工作正常。但我不知道如何动态填充它。

```
Test test_data[] = new Test[]
    {
        new Test(R.drawable.ic_launcher, "Test 1", 10),
        new Test(R.drawable.ic_launcher, "Test 2", 100)
    }; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:48:46.980

您可以使用 ArrayList 代替静态数组。

```
 In case of array u have to define the size at compile time and then add objects to it like:

    Test test_data[] = new Test[10];
    test_data[0] = new Test(R.drawable.ic_launcher, "Test 1", 10);
    test_data[1] = new Test(R.drawable.ic_launcher, "Test 2", 100);
    .................... 
```

我试过上面的代码。这就是给我 NULL 指针异常的原因。

```
I'm getting data from a database and want to fill this object with the data everytime the activity starts

 You have to use ArrayList like:

 ArrayList<Test> test_data = new ArrayList<Test>;

 test_data.add(new Test(R.drawable.ic_launcher, "Test 1", 10));
 test_data.add(new Test(R.drawable.ic_launcher, "Test 2", 100));

..........
And clear ArrayList by test_data.clear() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T06:57:31.243

将数据动态分配给数组，如下所示：

```
 Test [] test_data = 
{
    new Test(R.drawable.ic_launcher, "Test 1", 10),
    new Test(R.drawable.ic_launcher, "Test 2", 100)
}; 
```

**编辑：**

这只能在您第一次实例化数组时完成。如果你已经知道数组有多大，你应该这样做：

```
Test [] test_array = new Test[size];
for (int i=0; i<size; i++) {
    //DO STUFF
} 
```

如果你不知道从一开始的大小，你应该做的是使用 ListArray，然后将其转换为一个简单的数组（或不转换），这里是代码：

```
ListArray<Test> list = new ListArray<Test>();
// INSERT VALUES

public Test[] listToArray(ArrayList<Test> list) {
     Test [] result = new Test [list.size());
     for (int i = 0; i<list.size(); i++) {
        result[i] = list.get(i);
     }
     return result;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:59:21.803

您需要初始化数组。由于您使用的是数据库，因此数据必须来自游标，因此您可以这样做：

```
Test test_data[] = new Test[cursor.getCount()] 
```

这将为光标中的每条记录创建一个槽。然后你可以运行你的循环并填充它。

# asp.net - 如何将dhtmlxgrid中已编辑的数据更新到数据库中

> ID：10680529
> 
> 赞同：0
> 
> 时间：2012-05-21T06:40:47.000
> 
> 标签：asp.net, visual-studio-2010

我从数据库加载了 dhtmlxgrid。我还可以编辑网格中的数据。我希望编辑后的数据必须存储在我的数据库中。有什么建议么..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-28T14:59:36.653

每次更改 cellValue 并编写和更新查询时，您都可以调用函数。

```
 grid.attachEvent("onCellChanged", updateDatabase(rId,cInd,nValue){}); 
```

nValue 将包含单元格的新值。rId 和 cInd 是更改单元格的行索引和列索引。

[http://docs.dhtmlx.com/doku.php?id=dhtmlxgrid:event_oncellchanged](http://docs.dhtmlx.com/doku.php?id=dhtmlxgrid:event_oncellchanged)

# php - 内部while循环不起作用

> ID：10680530
> 
> 赞同：0
> 
> 时间：2012-05-21T06:40:47.060
> 
> 标签：php, mysql

这是我项目网页中的一段代码。在这里，我想显示用户选择的类别，然后想显示属于该类别的主题。在那里，用户可以拥有多个类别，这没问题。我可以在我的第一个 while 循环中打印所有这些类别。问题是当我尝试打印主题时，它们只显示一行，但每个类别中有更多主题。谁能告诉我发生了什么？

这是我的代码。
**注意：**两个查询都正常工作。我尝试了使用 mysql 客户端程序的那些。

```
<?php

require_once ('../../includes/config.inc.php');
require_once( MYSQL1 );

$q = "SELECT institute_category.category_id, category_name
      FROM institute_category
      INNER JOIN category ON institute_category.category_id = category.category_id
      WHERE institute_category.institute_id = $instituteId";    

$r = mysqli_query( $dbc, $q);

while ( $row = mysqli_fetch_array ( $r, MYSQLI_ASSOC) )   {

    $categoryId = $row['category_id']; 
    $category = $row['category_name']; 

    echo '<fieldset class="alt">
              <legend><span>Category : <em style="color: red;">' . $category .
              '</em></span></legend>';

    $qy = "SELECT category_subject.category_id, category_subject.subject_id, subjects
           FROM category_subject
           INNER JOIN category ON category_subject.category_id = category.category_id
           INNER JOIN subject ON category_subject.subject_id = subject.subject_id
           WHERE category_subject.category_id = $categoryId";   

    $result = mysqli_query( $dbc, $qy);

    $c = $i = 0;

    echo '<table class="form_table" ><tr>'; 

    while($row = mysqli_fetch_array( $result, MYSQLI_ASSOC  )){
        // if remainder is zero after 2 iterations (for 2 columns) and when $c > 0, end row and start a new row:
        if( ($c % 2) == 0 && $c != 0){
            echo "</tr><tr>";
        }

        echo '<td width="50%"><input type="checkbox" name="subject[]"  value="' . 
              $row['category_id'] . ":" . $category . ":"  . $row['subject_id'] . 
              ":". $row['subjects'] . '" />&nbsp;&nbsp;' . $row['subjects'] . 
              '</td>' . "\n";

        $c++; 

    } // while..

    // in case you need to fill a last empty cell:
    if ( ( $i % 2 ) != 0 ){
        // str_repeat() will be handy when you want more than 2 columns
        echo str_repeat( "<td>&nbsp;</td>", ( 2 - ( $i % 2 ) ) );
    }
    echo "</tr></table>";   
} 
echo '</fieldset>'; 
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:47:06.790

将我的评论变成答案：

只看你的代码一秒钟，我就可以看到你将`$row`变量用于外循环和内循环。尝试将外部循环的`$row`变量重命名为`$outerRow`，将内部循环的`$row`变量重命名为`$innerRow`. 这可能是第一个问题。这也可能适用于其他变量，例如`$result`变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:46:04.197

内部循环的用户不同的变量名称`$result`和`$row`喜欢`$inresult`和`$inrow`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:50:26.927

因为您`$row`在两个循环中`$row[]`都使用了相同的变量，所以`inner loop`可能会`reference of outer one`在该结果集中获取您要查找的变量不存在，因此不从内部循环打印任何内容，请更改内部或外部循环的变量。

# qt - QlineEdit 带有一些不应移动光标的默认文本？

> ID：10680535
> 
> 赞同：10
> 
> 时间：2012-05-21T06:41:21.220
> 
> 标签：qt, user-interface, pyqt, qlineedit

在 QT 中，一个 created使用该方法`lineEdit`显示一个文本。`setText()`

1.  但是对于默认文本，光标是可移动的。我希望光标对于默认文本不应该是可移动的。

2.  我的`lineEdit`类型已设置为密码。因此，默认文本（“密码”）也显示为“********”。每当用户键入时，必须将类型更改为密码，并且当没有文本或直到用户没有键入任何文本时，`lineEdit`应显示纯文本“密码”

有解决上述两个问题的想法吗？ ![在此处输入图像描述](../Images/1bf043fe75b92090fcccb87163b57058.png)

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-21T07:16:27.610

在构造函数中放置

```
ui->lineEdit->setPlaceholderText("password");
ui->lineEdit->setReadOnly(1); 
```

在`on_lineEdit_selectionChanged()`SLOT 中，放

```
ui->lineEdit->setText("");
ui->lineEdit->setEchoMode(QLineEdit::Password);
ui->lineEdit->setReadOnly(0); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2017-02-21T23:20:13.960

我注意到这个问题有标签 pyqt 所以我会为那些真正寻找 python 方式而不是 c++ 的人提供与该标签相关的实际答案。

```
self.searchEditText = QtGui.QLineEdit()
self.searchEditText.setPlaceholderText("Search for word") 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-05-21T07:07:28.083

`QLineEdit`我设法通过按照以下方式派生一个类来做你想做的事情..

***构造函数..***

```
QCustomLineEdit::QCustomLineEdit(QWidget *parent) :
    QLineEdit(parent)
{
    connect(this, SIGNAL(textChanged(QString)), this, SLOT(onTextChanged(QString)));
    connect(this, SIGNAL(cursorPositionChanged(int,int)), this, SLOT(onCursorPositionChanged(int,int)));

    setEchoMode(QLineEdit::Password);   // Echo mode in your case..

    m_echoMode = echoMode();            // Member variable to store original echo mode..
    m_placeHolderText = "Password";     // Member variable..
    m_isPlaceHolderActive = true;       // Member varible..

    // Default case..
    setPlaceholderText("");
    setStyleSheet("QCustomLineEdit{color: gray;}");
    setEchoMode(QLineEdit::Normal);
    setText(__placeHolderText);
} 
```

***覆盖`keyPressEvent`..***

```
void QCustomLineEdit::keyPressEvent(QKeyEvent *e)
{
    if(m_isPlaceHolderActive)
    {
        if(e->key() == Qt::Key_Delete || e->key() == Qt::Key_Backspace)
            e->accept();
        else
            QLineEdit::keyPressEvent(e);

        return;
    }

    QLineEdit::keyPressEvent(e);
} 
```

***光标位置改变事件..***

```
void QCustomLineEdit::onCursorPositionChanged(int /*oldPos*/, int newPos)
{
    if(m_isPlaceHolderActive)
    {
        if(newPos != 0)
            setCursorPosition(0);
    }
} 
```

***文本更改事件..***

```
void QCustomLineEdit::onTextChanged(const QString &text)
{
    if(m_isPlaceHolderActive)
    {
        if(text.compare(m_placeHolderText) != 0)
        {
            m_isPlaceHolderActive = false;

            // Remove the 'placeHolderText' from 'text' itself..
            QString temp = text;
            temp = temp.mid(0, text.lastIndexOf(m_placeHolderText));

            setStyleSheet("QCustomLineEdit{color: black;}");
            setEchoMode(m_echoMode);
            setText(temp);
        }
        else
        {
            setEchoMode(QLineEdit::Normal);
            setText(m_placeHolderText);
            setStyleSheet("QCustomLineEdit{color: gray;}");
            setCursorPosition(0);
        }
    }
    else
    {
        if(text.isEmpty())
        {
            m_isPlaceHolderActive = true;
            setStyleSheet("QCustomLineEdit{color: gray;}");
            setEchoMode(QLineEdit::Normal);
            setText(m_placeHolderText);
        }
    }
} 
```

我写得很仓促，只是为了给你看。自己进行测试，并随时指出任何错误或优化。希望这可以帮助。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-01-28T02:01:39.953

对于问题 1，在 Qt 5.0 及更高版本中，setPlaceholderText 可以满足您的需求。[https://codereview.qt-project.org/#change,45326](https://codereview.qt-project.org/#change,45326)

# sencha-touch - sencha touch 无法刷新面板

> ID：10680536
> 
> 赞同：0
> 
> 时间：2012-05-21T06:41:22.623
> 
> 标签：sencha-touch, updatepanel, extjs, panel

我是煎茶触摸的新手。

对于我的移动网站，我面临 UI 元素渲染相互重叠的问题，当我刷新或拉伸窗口时，UI 元素的渲染会按需要出现。

所以，我正在尝试使用 doLayout 刷新面板，但无法做到。可能是我没有在正确的地方使用 doLayout() 。

这是我的代码。

```
var app=new Ext.Application({
    name:'entwoven',
    useLoadMask:true,
    launch:function()
    {

    Ext.setup({tabletStartupScreen:'tablet_startup.png',
        icon:'icon.png',
        glossOnIcon:true,
        onReady:function(){

     var loginScreen = Ext.getCmp('loginPanel').items.items[0];
     loginScreen.doLayout();

    entwoven.views.loginToolbar = new Ext.Toolbar({
    id:'loginToolbar',
    title: 'Login',
    dock :'top'
    });

    entwoven.views.imgPanel = new Ext.Panel({
        id: 'imgPanel',
        html : '<div class="volkwagen"><center></center></div>'

    });

    entwoven.views.formPanel = new Ext.form.FormPanel({
        id : 'formPanel',
        items: [{

            xtype : 'textfield',
            id: 'userId',
            name: 'name',
            placeHolder: 'UserId'
        },
        {
            xtype: 'passwordfield',
            id: 'passwordfield',
            name : 'password',
            placeHolder: 'Password'
        }

    ]
    });

    entwoven.views.storebtnPanel = new Ext.Panel({
        id: 'storebtnPanel',
        layout: 'hbox',
        items :[{
            xtype : 'button',
            cls : 'storebtnAction',
            activeCls : 'activeStore',
            id: 'storebtn'
            },{html : 'Store',
                id: 'storetext'}]
    });

    entwoven.views.btnPanel = new Ext.Panel({
        id: 'btnPanel',
        items:[{
            xtype : 'button',
            cls : 'btnAction',
            id: 'loginbtn',
            activeCls : 'activeLogin',
            name: 'loginButton',

        }]
    });

    entwoven.views.loginPanel = new Ext.Panel({
        id:'loginPanel',
        fullscreen:true,
        cls: 'panelBackground',
        dockedItems: entwoven.views.loginToolbar,
        items : [entwoven.views.imgPanel,entwoven.views.formPanel,entwoven.views.storebtnPanel,entwoven.views.btnPanel]

        });

entwoven.views.viewport = new Ext.Panel({
    layout: 'card',
    fullscreen: 'true',
    cardAnimation: 'slide',
    cls: 'com', 
         items: [entwoven.views.loginPanel]
    });
}
});

}
}); 
```

在控制台上，我收到错误消息`"Uncaught TypeError: Cannot read property 'items' of undefined"`。

请帮助了解如何刷新或“更新”上述面板，以便我可以正确呈现 UI 元素。

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T16:06:20.583

首先，您需要将此代码移动到 onReady 事件的底部：

```
 var loginScreen = Ext.getCmp('loginPanel').items.items[0];
 loginScreen.doLayout(); 
```

原因是，您尚未定义 loginPanel 组件，因此您对它的引用将为空。将其移至底部，或者更具体地说，在 loginPanel 定义之后将解决项目未定义错误。

请更明确地说明 UI 渲染问题：

*   你的目标是什么分辨率？
*   哪些组件没有正确渲染？

# entity-framework - 代码首先使用抽象类，fk 无法生成

> ID：10680540
> 
> 赞同：2
> 
> 时间：2012-05-21T06:41:40.463
> 
> 标签：entity-framework, inheritance, ef-code-first, abstract-class

请看下面的代码。

```
class Program
{
    static void Main(string[] args)
    {
        using (myContext context = new myContext())
        {
            Team t = new Team();
            t.id = 1;
            t.Name = "asd";
            context.teamSet.Add(t);
            context.SaveChanges();
        }
    }
}

public abstract class Base
{
    public virtual int id { get; set; }
}

public abstract class Player : Base
{
    public virtual string Name { get; set; }
    public virtual int Number { get; set; }
    public virtual Team team { get; set; }
    [ForeignKey("team")]
    public int teamId { get; set; }
}

public class Team : Base
{
    public ICollection<Player> Players { get; set; }
    public string Name { get; set; }
}

public class FootballPlayer : Player
{
    public double Speed { get; set; }
}

public class BasketballPlayer : Player
{
    public double Height { get; set; }
    public double Speed { get; set; }
}

public class myContext : DbContext
{
    public DbSet<Player> playerSet { get; set; }
    public DbSet<Team> teamSet { get; set; }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Configurations.Add(new BaseConfiguration()).Add(new PlayerConfiguration()).Add(new TeamConfiguration()).Add(new FootballConfiguration()).Add(new BasketballConfiguration());           
    }
}

public class BaseConfiguration : EntityTypeConfiguration<Base>
{
    public BaseConfiguration()
    {
        HasKey(k => k.id);
        Property(p => p.id).IsRequired().HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);
    }
}

public class PlayerConfiguration : EntityTypeConfiguration<Player>
{ 
    public PlayerConfiguration()
    {
        Map(p=>{
            p.MapInheritedProperties();
        p.ToTable("Player");
        });
    }
}

public class TeamConfiguration : EntityTypeConfiguration<Team>
{
    public TeamConfiguration()
    {
        Map(p =>
        {
            p.MapInheritedProperties();
            p.ToTable("Team");
        });
    }
}

public class FootballConfiguration : EntityTypeConfiguration<FootballPlayer>
{
    public FootballConfiguration()
    {
        ToTable("FootballPlayer");
    }
}

public class BasketballConfiguration : EntityTypeConfiguration<BasketballPlayer>
{
    public BasketballConfiguration()
    {
        ToTable("BasketballPlayer");
    }
} 
```

My Player 类和 Team Class 派生自Based Class，而 FootballPlayer 和 BasketballPlayer 派生自 Player。但是在生成的数据库中，Player 表不包含 FK teamId，它只是一个公共属性。此外， FootballPlayer 和 BasketballPlayer 表不包含派生自 Player 类的属性。任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T07:54:32.263

您要实现什么继承映射？目前，您在和之间有 TPC`Base`和`Player`TPT 之间`Player`及其派生类型。如果您想在这些派生类型中继承属性，您也必须使用 TPC，但在这种情况下，您的数据库中应该没有`Player`表。要将 TPC 用于播放器，您必须`MapInheritedProperties`在其映射配置中使用。

# xml - 在 AS3 中使用 XML 来跟踪游戏得分

> ID：10680542
> 
> 赞同：0
> 
> 时间：2012-05-21T06:41:46.540
> 
> 标签：xml, actionscript-3

我在 AS3 中创建了这个游戏，它显示一个英文单词和 4 种可能的法语翻译。它从一个 XML 文件加载所有单词，并且可以毫无问题地工作（两种语言中大约 1000 个单词的池）。

我想做的是跟踪产生错误的单词，以便我可以再次呈现它们，直到我的学生正确为止，同时“标记”已经成功使用的单词，以便他们做到不再出现。

我想了很久很久，用谷歌搜索，没有任何有趣的东西。所以这是我提出的想法，请随时发表评论并指出我正确的方向。

我的 vocab XML 文件看起来像这样

```
<VOCAB>
<ENGLISH> The dog </ENGLISH>
<FRENCH> Le chien </FRENCH>
<VOCAB_ID> 0458 </VOCAB_ID>
<VOCAB_CATEGORY> 12 </VOCAB_CATEGORY>
</VOCAB> 
```

IDEA1：在我现有的文件中包含一个额外的 XML 标记，它将跟踪所有内容。优点：让我无需加载 2 个 XML 对象并同时处理它们。较小的文件大小 缺点：只有 1 名玩家可以使用游戏，因为分数与词汇文件相关联（但我可以为其他玩家创建重复的词汇文件）

```
<VOCAB>
<ENGLISH> The dog </ENGLISH>
<FRENCH> Le chien </FRENCH>
<VOCAB_ID> 0458 </VOCAB_ID>
<VOCAB_CATEGORY> 12 </VOCAB_CATEGORY>
<SCORE> -2 </SCORE> // Negative number indicates fails, zero = never used, pos number =  success
</VOCAB> 
```

IDEA2：创建一个全新的 XML 文件只是为了保持分数优势：可以有无限数量的玩家，每个人都有自己的分数文件。保持词汇和得分两个不同的东西。缺点：必须进行一些巧妙的编程，以便不会为游戏选择的每个新词汇解析整个 XML 文件，这会减慢速度

```
<TRACKING>
<VOCAB_CATEGORY> 12 </VOCAB_CATEGORY>
<VOCAB_ID> 0458 </VOCAB_ID>
<SCORE>-2</SCORE> // Negative number indicates fails, zero = never used, pos number =  success
</TRACKING> 
```

你怎么看？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T08:02:52.987

反馈：

包含“vocab_id”是您的明智之举，这为您提供了一个唯一键，可用作某种“查找表”或数据库中的标识符。

至于以何种方式追究这个错误，如果是我，我肯定会把答案和文字分开。这使您可以做任何您想做的事情，因为包含单词的“原始文件”不会因为大量不同的结果数据而“混乱”。

借助您的 vocab_id，您可以在用户响应和单词之间创建映射。

在这一点上，你想如何存储数据并不重要。如果您在 xml 中执行此操作，则将来某个时候可以轻松地将所有这些数据放入数据库中。目前最重要的是确保您保存数据并将其存储在安全的地方。（Git/Svn、备份等）

将来，开始使用某种数据库来存储所有数据可能是明智之举。但是，如果您继续使用 xml，您可以创建一些小程序，用来自 xml 的数据填充数据库。

我认为作为下一步，您应该为每个用户创建一个 xml 文件，在其中存储他们回答的单词以及他们对每个单词的回答，或者创建一个包含所有用户和答案的 xml 文件。

```
<words>
<vocab id="458" word="the dog">
<answer timestamp="..">le dog</answer>
<answer timestamp="..">la dog</answer>
<answer timestamp="..">le chien</answer>
</vocab>
<vocab id="404" word="foo">
..
</vocab>
</words> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-10T08:20:55.810

好的，我最终破解了它。

词汇表作为 XML 对象加载，当一个词被正确猜到时，它的节点将从 XML 中删除。通过这种方式，我确保不再询问正确的单词。

同时，一个文本变量保存所有给出的答案（正确或不正确或跳过），格式为 XML（但保留为字符串），用户可以在需要时保存。

当一个新游戏开始时，这个文件被加载（如果存在），并且一旦这个文件被加载，过去的正确答案就会从 XML 对象中删除。

在性能方面，我在文件中有 1500 多个节点，目前还没有看到任何降级。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T06:47:51.930

看单词和播放器的数量，我不会使用 XML。我会使用 SQLite 数据库。您可以轻松地跟踪每个玩家的得分。接下来，您可以使所有内容都与外键相关。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T07:09:33.090

我也会推荐 json 而不是 xml。Json 的内存比 xml 小得多。如果您的实现不知道结构并且需要解析特定的子对象等，那么 XML 很好。如果您的代码知道完整的结构，那么 JSON 会更快（使用 Flash 原生 json）

# javascript - 'beforeunload' Chrome 问题

> ID：10680544
> 
> 赞同：18
> 
> 时间：2012-05-21T06:42:05.047
> 
> 标签：javascript, jquery, google-chrome

我有这段简单的代码-

```
$(window).bind('beforeunload', function(){
    alert("Good Bye")
}); 
```

适用于 Firefox、IE8 但不适用于 Chrome。这是一个已知问题还是有任何替代方案？

实际上，我要做的是在用户尝试关闭浏览器时记录详细信息。

```
function LogTime()
{
    jQuery.ajax({
      type: "POST",
      url: "log.php",
      data: "",
      cache: false,
      success: function(response)
      {
      }
    );
}

$(window).bind('beforeunload', function(){
    LogTime();
}); 
```

这适用于 Firefox，但不适用于 Chrome

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-21T06:45:35.913

而是返回一个字符串：

```
$(window).on('beforeunload', function(){
    return "Good bye";
});​ 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2017-11-28T10:00:36.230

在所有浏览器上试试这个：-

```
window.addEventListener("beforeunload", function (e) {

  var confirmationMessage = "\o/";     
  e.returnValue = confirmationMessage;           
  return confirmationMessage;       

}); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-09-27T15:20:52.773

我必须将它包含在一个 jQuery(document).ready 让它在 chrome 中工作

```
<script>
  jQuery(document).ready( 
    function () { 
      jQuery(window).bind('beforeunload',  
        function (e) {  

          [code here]

        } 
      );

    } 
  );
</script> 
```

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-05-21T06:45:55.380

试试下面：

```
$(window).on('beforeunload', function(){
  return "Good Bye";
}); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-11-13T08:37:49.337

尝试这个：

```
function LogTime(){

jQuery.ajax({
  type: "POST",
  url: "log.php",
  data: "",
  cache: false,
  success: function(response){

  }
}); 
```

}

```
 $(window).bind('beforeunload', function(){
     LogTime();
     return "You're leaving?";
 }); 
```

看来只要在函数体的末尾为这个事件返回一个字符串，就可以在该字符串之前运行代码。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-12-17T14:48:08.077

如果您需要在卸载文档之前发送一些分析数据，请选择[navigator.sendBeacon()](https://w3c.github.io/beacon/#sec-sendBeacon-method)方法而不是 XMLHttpRequest。

sendBeacon() 方法旨在执行少量数据的非阻塞发送。

但首先检查[canIuse 报告](https://caniuse.com/#search=beacon)，因为该方法在全球尚不支持。

# arm - ARM中的中断优先级

> ID：10680547
> 
> 赞同：1
> 
> 时间：2012-05-21T06:42:22.933
> 
> 标签：arm, interrupt

在 ARM 中，使用**中断优先级**。优先级如何决定。它是在硬件级别还是软件级别完成的。

**硬件级别**- 中断控制器中是否有设置中断优先级的选项。

**软件级别**- 优先级由内核计算，并根据优先级执行相应的中断处理程序。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T08:46:22.457

中断的优先级由中断控制器决定。对于这种配置，中断控制器应该是可编程的。

据我所知，对于硬件中断，没有软件级别的优先级。

# php - 关于查询路径的 2 个基本问题

> ID：10680550
> 
> 赞同：2
> 
> 时间：2012-05-21T06:42:40.437
> 
> 标签：php, html-parsing, querypath

1.  如何查找节点是否不存在？我在用

    if ($item->branch()->siblings($tagNames['desc'])->text())

有没有更好的办法 ？

1.  有没有办法执行 OR 查询？如果标签 A 存在获取它的 text()，否则获取 B 的 text()？

我正在使用以下内容：

```
 $desc1 = (  $item->branch()->siblings($tagNames['desc'])->text()  ?
$item->branch()->siblings($tagNames['desc'])   :
$item->branch()->siblings($tagNames['descAlternative']) ) ; 
```

这看起来不是最有效的做事方式。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-23T00:39:49.810

关于第一个：

当 QueryPath 没有找到匹配项时，它的大小为 0。所以你可以这样做：

```
if (count($item) > 0) {
  // do whatever with $item
} 
```

所以对于第二个例子，你可以这样做：

```
if (count($item->branch()->siblings($tagNames['desc']))) {
    $item->branch()->siblings($tagNames['desc']);
    $item->branch()->siblings($tagNames['descAlternative']) ) ;
} 
```

但还有另一种方式：你也可以同时传入两个选择器。

```
$item->branch()->siblings('desc, descAlternative')->text(); 
```

这将选择两者。但是，`text()`只会返回第一个匹配项的文本。所以它具有做 OR 的效果。

# vi - 用特定字符串替换 vi 文本文件中的备用行

> ID：10680552
> 
> 赞同：1
> 
> 时间：2012-05-21T06:42:52.213
> 
> 标签：vi

我有一个包含 5 列的文本文件，如果我想用特定的字符串替换第二列中的每一行，如何在 vi 文本编辑器中做到这一点？

```
eg: 1 CG 54 76 76
    2 CG 45  78 78
    3 CG 48  76 89
    4 CG 49  50 52 
```

如果我想用 CA 替换第 2 行和第 4 行（第 2 列），我该如何在 vi 文本编辑器中执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T13:38:28.790

如果你使用 vim，这是一个简单的宏。如果您不确定您是否使用 vim，那么在命令模式下，键入`qq`并检查您是否在底部的状态行中看到*记录。*如果是这样，那么您可以使用此宏。

从第 1 行开始，使用以下命令记录宏：`qqj0wcwCA[Esc]jq`

这将编辑第 2 行并将您留在第 3 行，现在您在 register 中有宏`q`。键入`100@q`以执行寄存器中的命令`q`100 次。

命令详情：

*   从 1 号线开始
*   **qq** - 这开始录制宏，您会在底部的状态行中看到*录制。*
*   **j** - 移动到下一个（备用）行。
*   **0** - 移动到行首。
*   **w** - 跳转到下一个单词（第 2 列）
*   **cwCA** -将此词更改为*CA。*
*   **Esc 键**- 离开编辑模式。
*   **j** - 移动到下一行。
*   **q** - 这将停止录制宏。

# xmltextreader - 使用 XmlTextReader 通过属性值 C# 从 xml 获取数据

> ID：10680553
> 
> 赞同：0
> 
> 时间：2012-05-21T06:42:59.097
> 
> 标签：xmltextreader

我有一个包含以下内容的文件（myfile.xml）。我必须将所有内容（包括产品节点）都放在带有`id=1`.

```
<products>  
  <product id="1">
       <category>q</category>  
  </product>    
  <product id="2">      
       <category>w</category>    
  </product>   
  <product id="3">       
  <category>e</category>   
 </product>
</products>` 
```

即结果应该是：

```
 <product id="1"> 
      <category>q</category>
  </product> 
```

我怎样才能做到这一点？

我有我应该使用`XmlTextReader`或`XPathNavigator`仅用于此的限制，否则我可以使用这个：[Getting data from xml by attribute vlaue](https://stackoverflow.com/questions/10617994/getting-data-from-xml-by-attribute-vlaue)

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-05-21T06:48:21.247

XmlReader.GetAttribute() 不会工作吗？

[http://msdn.microsoft.com/en-us/library/system.xml.xmlreader.getattribute(v=vs.100](http://msdn.microsoft.com/en-us/library/system.xml.xmlreader.getattribute(v=vs.100) )

添加一些 Skip() 来移动迭代器：

[http://msdn.microsoft.com/en-us/library/system.xml.xmlreader.skip(v=vs.100](http://msdn.microsoft.com/en-us/library/system.xml.xmlreader.skip(v=vs.100) )

# python - 'str' 对象不能使用枚举调用

> ID：10680557
> 
> 赞同：0
> 
> 时间：2012-05-21T06:43:25.083
> 
> 标签：python

我正在尝试执行以下操作：

```
for index, image_properties in enumerate(list_of_properties):
    index = str(index) 
```

但我不断得到

```
TypeError at /
'str' object is not callable 
```

这里出了什么问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T06:51:46.687

正如评论者所提到的，您必须在`str`某处定义并且它覆盖了`str`内置函数。

在 Python 中，您可以像这样轻松地“重新绑定”符号。例如，请参阅此会话：

```
>>> str(2)
'2'
>>> def str(x): return x + 1
... 
>>> str(2)
3
>>> str = 1
>>> str(2)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'int' object is not callable 
```

*此外，您的* `TypeError`建议文本在`str`早些时候被定义为字符串对象。

# ajax - 一个接一个地发送两个ajax请求

> ID：10680561
> 
> 赞同：0
> 
> 时间：2012-05-21T06:43:45.670
> 
> 标签：ajax

我正在处理一个使用多个画布的 HTML5 项目，在用户使用画布完成绘图后，我将它们作为图像保存到服务器。这就是我所拥有的：

```
 function saveViaAJAX()
        {
      $("#dvloader").show();
       document.getElementById("search-result").innerHTML="saving first image...";

        var saveCanvasFront = document.getElementById("collage-front");
        var canvasDataFront = saveCanvasFront.toDataURL("image/png");
        var postDataFront = "canvasData="+canvasDataFront;
        var debugConsole= document.getElementById("search-result");

        var saveCanvasBack = document.getElementById("collage-back");
        var canvasDataBack = saveCanvasBack.toDataURL("image/png");
        var postDataBack = "canvasData="+canvasDataBack;

        var ajax = new XMLHttpRequest();
        ajax.open("POST",'index.php?option=com_canvas&format=raw&task=savecanvas',true);
        ajax.setRequestHeader('Content-Type', 'canvas/upload');

        var ajax2 = new XMLHttpRequest();
        ajax2.open("POST",'index.php?option=com_canvas&format=raw&task=savecanvas',true);
        ajax2.setRequestHeader('Content-Type', 'canvas/upload');    

       ajax.onreadystatechange=function()
        {
            if (ajax.readyState == 4)
                {
              document.getElementById("search-result").innerHTML="saving second image..";
            ajax2.send(postDataBack);
             }
        }

       ajax2.onreadystatechange=function()
       {
        if (ajax2.readyState == 4)
         {

        document.getElementById("search-result").innerHTML="canvases saved successfully";
        setTimeout('top.location.href="index.php"', 4000)
            $("#dvloader").hide();

         }
       }    

       ajax.send(postDataFront);
        } 
```

我确信有一种更优雅的方式来实现这一点。我只是想确保两个请求都成功。这就是我一个接一个地连续调用它们的原因。它是否正确 ？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T09:01:38.013

这对我有用

```
// JavaScript Document

function saveViaAJAX()
{   
      if(some condition){
              alert("false");
              return false;
          } else {
                    if (confirm('confirm')) {
                    callAjax(); 
                    }
         } 

}

function callAjax(){
            document.getElementById("process").innerHTML="processing...";
            ajax0();
}

function ajax0()
{

    var postData = "";
    var ajax = new XMLHttpRequest();
    ajax.open("POST",'index.php?....',true);    
    ajax.setRequestHeader('Content-Type', 'canvas/upload');

    ajax.onreadystatechange=function()
    {
        if (ajax.readyState == 4)
        {   
            document.getElementById("process").innerHTML="next process...";
            ajax1();

        }
    }       

    ajax.send(postData);    

}

function ajax1()
{

    var ajax = new XMLHttpRequest();
    ajax.open("POST",'index.php?...',true);
    ajax.setRequestHeader('Content-Type', 'canvas/upload');

    ajax.onreadystatechange=function()
    {
        if (ajax.readyState == 4)
        {   
        if (ajax.status==403){

            document.getElementById("process").innerHTML="error: " + ajax.status + " retry...";
            setTimeout( ajax1(), 3000 );

          } else if (ajax.status==200 || window.location.href.indexOf("http")==-1 || ajax.responseText != 'failed'){

            document.getElementById("process").innerHTML="processing...";
            ajax2();
          } else {
            document.getElementById("process").innerHTML="error: " + ajax.status;
          }

        }
    }       

    ajax.send(postData);    

}

function ajax2()
{
    var canvasData = saveCanvas.toDataURL("image/png");
    var postData = "canvasData="+canvasData;

    var ajax = new XMLHttpRequest();
    ajax.open("POST",'index.php?...',true);
    ajax.setRequestHeader('Content-Type', 'canvas/upload'); 

    ajax.onreadystatechange=function()
    {
        if (ajax.readyState == 4)
        {   
        if (ajax.status==403){

            document.getElementById("search-result").innerHTML="error: " + ajax.status + " retrying...";
            setTimeout( ajax2(), 3000 );

          } else if (ajax.status==200 || window.location.href.indexOf("http")==-1 || ajax.responseText != 'failed'){
               document.getElementById("search-result").innerHTML="processing....";
               ajax3();
            } else {
               document.getElementById("search-result").innerHTML="error: " + ajax.status;
            }

        }
    }       

    ajax.send(postData);

}

function ajax3()
{

    var postData = "";
    var ajax = new XMLHttpRequest();
    ajax.open("POST",'index.php?...',true);
    ajax.setRequestHeader("Content-type", "application/x-www-form-urlencoded"); 

    ajax.onreadystatechange=function()
    {
        if (ajax.readyState == 4)
        {   

             if (ajax.status==403){

            document.getElementById("search-result").innerHTML="error: " + ajax.status +
            " retrying...";
            setTimeout( ajax3(), 3000 );

             } else if (ajax.status==200 || window.location.href.indexOf("http")==-1 || ajax.responseText != 'failed'){
              document.getElementById("process").innerHTML="success";
              }
              else{
               document.getElementById("process").innerHTML="error:" + ajax.status ;
              }         

        }
    }       

    ajax.send(postData);

} 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-05-21T06:52:17.890

将两个ajax请求写入两个函数。像这样在 main 中调用这些函数。

```
fun main(){
//read the canvas code
    ajax1();
    ajax2();
}

fun ajax1(){
//your call
}

fun ajax2(){
//your call
} 
```

# cocos2d-iphone - Cocos2D 帮助：如何正确将 cocos2d 从 1.0.1 更新到 2.0 rc1？

> ID：10680562
> 
> 赞同：1
> 
> 时间：2012-05-21T06:43:49.360
> 
> 标签：cocos2d-iphone, box2d, box2d-iphone

我有 cocos2D 版本 1.0.1 并在此网站的帮助下安装了 cocos2D 最新版本 2.0 rc1： [http ://www.iphonedevsdk.com/forum/ad-hoc-beta-testing/75910-how-install-cocos2d-xcode .html](http://www.iphonedevsdk.com/forum/ad-hoc-beta-testing/75910-how-install-cocos2d-xcode.html)

现在，当我进入 cocos2d/cocos2d.m 时，我看到的版本如下：

```
static NSString *version = @"cocos2d v1.0.1"; 
```

这是否意味着我的版本仍然是 1.0.1 而不是 2.0 rc1？

我想问的另一件事是我正在尝试从 raywenderlich 的博客中学习 Box2d： [http ://www.raywenderlich.com/457/intro-to-box2d-with-cocos2d-tutorial-bouncing-balls](http://www.raywenderlich.com/457/intro-to-box2d-with-cocos2d-tutorial-bouncing-balls)

当我创建一个新的 box2d 项目并从头开始擦除所有编码时，我按照教程并尝试编码，但随后它显示方法和类无法识别的错误。例如，当我创建一个新的 b2World 对象时，无法识别构造函数。是不是因为cocos2d版本冲突？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T08:52:11.907

[如何在现有项目中升级 cocos2d。](http://www.learn-cocos2d.com/2011/05/update-cocos2d-iphone-existing-project/)最关键的一步是在复制新版本之前**删除**所有 cocos2d 文件，否则您可能最终会得到新旧文件的混合。

请记住，我相信 Box2D 也已升级到 v2.2，而 cocos2d v1.0 附带 Box2D v2.1。Box2D API 也有一些变化。如果您查看 Box2D 模板项目并查阅[Box2D API 参考](http://learn-cocos2d.com/api-ref/latest/Box2D/html/index.html)，这些问题很容易解决。

# java - 什么是好的开源聊天解决方案？

> ID：10680563
> 
> 赞同：4
> 
> 时间：2012-05-21T06:43:50.360
> 
> 标签：java, chat

我正在寻找一个免费的可扩展聊天解决方案，类似于 SOLR，但用于聊天。我有一个需要与之集成聊天的 LAMP 应用程序。对于搜索，我使用 SOLR，因为它有一个 REST 接口与之集成很容易，不需要编写任何 Java。

是否有类似的现成解决方案也具有高性能的聊天功能？显然，基于 MySQL/PHP/AJAX 的定期轮询脚本是不可能的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T06:55:07.487

使用一个好的 jabber 实现。

[http://www.igniterealtime.org/projects/index.jsp](http://www.igniterealtime.org/projects/index.jsp)

[http://www.igniterealtime.org/projects/openfire/index.jsp](http://www.igniterealtime.org/projects/openfire/index.jsp)

[http://www.igniterealtime.org/projects/smack/index.jsp](http://www.igniterealtime.org/projects/smack/index.jsp)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T07:11:20.920

[http://jwebsocket.org/](http://jwebsocket.org/)
他们有一个可以下载和修改的聊天演示（它在 LGPL 下获得许可）。
我正在用 Node.js 开发一个类似 facebook 的聊天，它并不难，而且效果很好。我正在使用“socket.io”，现在我也将使用[https://github.com/Gottox/socket.io-java-client](https://github.com/Gottox/socket.io-java-client)
开发一个 Android 应用程序 你需要私聊吗？还是只公开？@krishnakumarp 发布的 Igniterealtime 似乎更加复杂和完整。

# android - Android：有时视图被绘制为空矩形

> ID：10680570
> 
> 赞同：0
> 
> 时间：2012-05-21T06:44:30.483
> 
> 标签：android, android-view, android-resources

大多数时候视图都正确显示，但有时它们显示为空白。

这是我用来生成对话框的代码。标题和消息有时都显示为白色矩形（我认为这是因为我使用浅色主题，否则我认为它们会是黑色的）。

```
 AlertDialog.Builder b = new AlertDialog.Builder(this);
    b.setTitle(R.string.warning);
    b.setMessage(R.string.want_to_close);
    b.setPositiveButton(R.string.yes, ...);
    b.setNegativeButton(R.string.no, ...);
    b.show(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T07:20:40.333

要显示警报消息，请参阅以下内容，

**警报（getString（R.string.warning），getString（R.string.want_to_close））；**

```
public void Alert(String text, String title)
    { 
        AlertDialog dialog=new AlertDialog.Builder(context).create();
        dialog.setTitle(title);
        dialog.setMessage(text);
        if(!title.equals("") && !text.equals(""))
        {
            dialog.setButton("OK",
                    new DialogInterface.OnClickListener()
                    {
                        public void onClick(DialogInterface dialog, int whichButton)
                        {
                            //Do anything
                        }
                    });
            dialog.setButton2("Cancel",
                    new DialogInterface.OnClickListener()
                    {
                        public void onClick(DialogInterface dialog, int whichButton)
                        {
                             //Do anything
                        }
                    });
        }

        dialog.show();

    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:26:51.863

您需要从中获取`Alertdialog`对象`Builder`然后显示。

```
AlertDialog.Builder b = new AlertDialog.Builder(this);
b.setTitle(R.string.warning);
b.setMessage(R.string.want_to_close);
b.setPositiveButton(R.string.yes, ...);
b.setNegativeButton(R.string.no, ...);

AlertDialog alert = b.create();
alert.show(); 
```

# windows-phone-7 - 如何在不询问用户密码的情况下在 Windows Phone 7 应用程序中实施 OAuth 1.0？

> ID：10680577
> 
> 赞同：1
> 
> 时间：2012-05-21T06:45:14.467
> 
> 标签：windows-phone-7, twitter, oauth

我正在构建一个 WP7 Twitter 客户端。正常的 OAuth 1.0 流程涉及通过使用我的应用程序的使用者密钥将 Web 浏览器导航到[https://api.twitter.com/1/oauth/authenticate来获取请求令牌；](https://api.twitter.com/1/oauth/authenticate)此页面将显示登录提示并要求用户授权我的应用代表他们执行操作。完成后，此页面将重定向到我的应用提供的回调 URL，请求令牌作为参数提供。

对于网络应用程序，这是有道理的。不过，我不明白这应该如何用于独立的移动/桌面应用程序。Twitter API 文档似乎暗示这应该是一个可行的选择。他们确实提供了一种替代的 xAuth 机制，允许应用程序自己收集用户名/密码，然后直接提供它来获取访问令牌。API 文档指出这是一个较差的选项（因为它要求用户使用他们的密码信任应用程序，而不仅仅是 Twitter），但我看不出我有什么合理的选择？

（还有一个基于 PIN 的选项，但这对用户来说是一个相当繁琐的解决方案）

我只是想确保我没有遗漏任何明显的东西。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-21T07:39:34.887

> “对于网络应用程序来说，这是有道理的。不过，我不明白这应该如何用于独立的移动/桌面应用程序。”

只需在您的应用程序中嵌入 Web 浏览器控件，然后导航到 twitter 身份验证页面。然后检测到回调 url 的重定向（使用`Navigating`事件）并检索参数。许多 twitter 应用程序都会这样做，这与询问用户登录名和密码基本相同，只是您显示的是 twitter 页面而不是您自己的控件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T06:55:27.533

不，你是对的。移动/桌面应用程序的选项是基于 pin 的选项或使用 xAuth。一旦您的 xAuth 应用程序具有访问令牌，它就与 OAuth 无法区分（它只会更改授权工作流程）。它确实发生了变化，这对于 Twitter 来说是非常具体的，那就是如果您确实使用 xAuth，那么您的应用程序将不被允许读取或写入直接消息。有关详细信息，请参阅 Twitter 的[应用程序权限模型](https://dev.twitter.com/docs/application-permission-model "应用程序权限模型")页面。

# css - 表，新主题中的 td 样式弄乱了 Google 自定义结果，如何修复？

> ID：10680578
> 
> 赞同：0
> 
> 时间：2012-05-21T06:45:15.460
> 
> 标签：css, styles, wordpress-theming

今天我更改了我博客的 wordpress 主题，但是主题样式文件中的表格 td 样式弄乱了整个 Google 自定义结果。我知道一种解决方案是从文件中删除所有这些样式，让 Google 使用自己的样式。但我也想保留那些我偶尔在帖子中使用的表格。

任何人都可以帮助我如何保持现有的表格，我的主题的 td 风格，同时强制谷歌自定义搜索引擎忽略这些类并加载它自己的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T11:26:58.957

例如你设置这样的`TD`类

```
.td_class { background-color:red} 
```

您可以将类名添加到表中并设置`td_class`为子类

```
.table_class {}
.table_class .td_class {background:red} 
```

**编辑** 如果您不想更改每个表类，您可以`on-the-fly`使用[jQuery 选择器](http://api.jquery.com/category/selectors/)来完成 ，例如您的代码是这样的：

```
<html>
 <div id="MainDiv">
 <table>......</table>
 <table>......</table>
 <table>......</table>
 </div>
 //goole code here // separated from MainDiv
</html> 
```

您可以使用此代码更改表的类

```
$(#MainDiv table).each(function(){
      $(this).addClass('addClass')
}); 
```

# iphone - 如何通过从 iPhone 上的字典中获取纬度和经度来将地图视图缩放到注释点

> ID：10680581
> 
> 赞同：1
> 
> 时间：2012-05-21T06:45:23.250
> 
> 标签：iphone, objective-c

我有一个应用程序，我在地图上放置了多个注释。但是现在我想在删除这些注释时跨越我的地图。这是我在地图上添加注释的代码。

```
- (void)viewDidLoad {

    [super viewDidLoad];
    mapView.mapType = MKMapTypeStandard;
    mapView.showsUserLocation = YES;
    NSMutableArray *annotations = [[NSMutableArray alloc]init];
    [annotations addObjectsFromArray:appDelegate.maparray];
    NSLog(@"%@",annotations);

    if ([annotations count])
    {
        for (int i =0; i < [annotations count]; i++) 
        {
             dict  = [annotations objectAtIndex:i];
            MKCoordinateRegion region = { {0.0, 0.0 }, { 0.0, 0.0 } };
            region.center.latitude = [[dict objectForKey:@"Latitude"] floatValue];
            region.center.longitude = [[dict objectForKey:@"Longitude"] floatValue];

            region.span.longitudeDelta = 0.6f;
            region.span.latitudeDelta = 0.6f;

            Title = [dict objectForKey:@"Title"];

            description = [dict objectForKey:@"DescriptionMobile"];
            NSLog(@"%@",description);
            NSURL *url = [NSURL URLWithString:[dict objectForKey:@"Image"]];
            NSData *data = [[NSData alloc] initWithContentsOfURL:url];
            image = [[UIImage alloc] initWithData:data];
            MyAnnotation *ann = [[MyAnnotation alloc] init];

            ann.title = Title;
            ann.subtitle = description;

            [mapView addAnnotation:ann];

        }
    }

} 
```

如何将我的地图跨越到我的注释点，以便我的所有注释都可见并且我的地图也可以缩放。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T07:46:41.510

试试这个代码，它对我有用

```
- (void)zoomToFitMapAnnotations:(MKMapView *)mapView { 
    if ([mapView.annotations count] == 0) return; 

    CLLocationCoordinate2D topLeftCoord; 
    topLeftCoord.latitude = -90; 
    topLeftCoord.longitude = 180; 

    CLLocationCoordinate2D bottomRightCoord; 
    bottomRightCoord.latitude = 90; 
    bottomRightCoord.longitude = -180; 

    for(Annotation *annotation in mapView.annotations) { 
        topLeftCoord.longitude = fmin(topLeftCoord.longitude, annotation.coordinate.longitude); 
        topLeftCoord.latitude = fmax(topLeftCoord.latitude, annotation.coordinate.latitude); 
        bottomRightCoord.longitude = fmax(bottomRightCoord.longitude, annotation.coordinate.longitude); 
        bottomRightCoord.latitude = fmin(bottomRightCoord.latitude, annotation.coordinate.latitude); 
    } 

    MKCoordinateRegion region; 
    region.center.latitude = topLeftCoord.latitude - (topLeftCoord.latitude - bottomRightCoord.latitude) * 0.5; 
    region.center.longitude = topLeftCoord.longitude + (bottomRightCoord.longitude - topLeftCoord.longitude) * 0.5;      
    region.span.latitudeDelta = fabs(topLeftCoord.latitude - bottomRightCoord.latitude) * 1.1; 

    // Add a little extra space on the sides 
    region.span.longitudeDelta = fabs(bottomRightCoord.longitude - topLeftCoord.longitude) * 1.1; 

    // Add a little extra space on the sides 
    region = [mapView regionThatFits:region]; 
    [mapView setRegion:region animated:YES]; 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T08:35:16.300

我想你错过了这一行：

```
ann.coordinate = region.center; 
```

# javascript - 如何从我的应用程序发布到用户墙上

> ID：10680586
> 
> 赞同：1
> 
> 时间：2012-05-21T06:45:50.870
> 
> 标签：javascript, facebook

我不确定这是否是正确的标题，但这就是我想要发生的事情。

用户订阅了我的应用程序。当我在我的页面上在墙上发帖时，订阅了该应用程序的用户会在他的墙上接收我的帖子。

基本上这就是我想要发生的事情，以某种方式将页面附加到应用程序，每次我在我的墙上发布一些东西时，订阅的用户都会把它放在他们的墙上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:56:56.950

如果我让您正确，您希望发生这种情况：您在您的 FB 页面上发布一些内容。然后将相同的消息发布到用户的流中？

为此，您必须使用`graph.facebook.com/{your_page}/feed`来识别您的页面上何时发布了某些内容。您可以使用其 ID 检索帖子，以确保您是发布者。当您找到一个帖子时，您可以通过 POST 将其写到用户的墙上`graph.facebook.com/{user's_profile_id}/feed`。

您需要获得`publish_stream`用户的许可。此外，由于`offline_access`已弃用，长问题身份验证令牌仅在 60 天内有效，因此您需要每 60 天至少更新一次身份验证令牌。

参考：[https ://developers.facebook.com/docs/reference/api/](https://developers.facebook.com/docs/reference/api/)

一个更好的系统是让您不要直接在页面的提要上发布。相反，构建一个用户界面，您可以在其中输入您的消息，然后将消息发布到您的主页以及您的用户/订阅者的流中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:59:07.840

我的理解是，您想更新页面上的帖子，用户也应该能够在他们的新闻提要中看到它们..?? 如果是，那么您可以使用[**Facebook Graph Api**](https://developers.facebook.com/docs/reference/api/)**更新页面的状态**，用户将能够在他们的**新闻提要**中看到它。

要更新页面状态，您需要**扩展权限**，例如`publish_stream`.

这是一个**完整的教程**：

**[http://thinkdiff.net/facebook/update-facebook-page-status-automatically/](http://thinkdiff.net/facebook/update-facebook-page-status-automatically/)**

希望这可以帮助。

# java - xmlsignature 形式的 XSLT 转换，xmldocument 的一部分？

> ID：10680590
> 
> 赞同：0
> 
> 时间：2012-05-21T06:46:06.400
> 
> 标签：java, xslt, xml-signature

我有一个 HTML 页面（表单），用户将在其中输入他的详细信息。要输入的详细信息是
名称
年龄
工资
状态
城市
现在当用户输入所有详细信息并单击**按钮**时，我将创建包含用户详细信息的 xml 文件，例如

```
<root>
<name>abc</name>
<age>40</age>
<salary>20000</age>
<state>xyz</state>
<city>abc</city>
</root> 
```

在此之后，我想使用*XMLSignature*签署这个 xml 文件。我只想**使用 XSLT 转换**和一些摘要和签名方法签署文档的两个元素，即姓名和薪水元素。

我的问题是如何在我们的 xmlsignature 的转换元素中使用 XSLT 转换。实现这一目标的最佳方法是什么？

另一个问题是，当用户**在 HTML 页面中按下另一个按钮时**，应该向他显示签名的元素，即应该向用户显示姓名和薪水。我怎样才能做到这一点。XSLT 转换也会在这里发挥作用吗？

**注意**：*我正在为 XMLSignature 使用 Java 库*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-28T18:21:27.940

参考[http://www.w3.org/TR/xmldsig-filter2/#sec-Examples](http://www.w3.org/TR/xmldsig-filter2/#sec-Examples)，您可以尝试类似于以下的方法：

```
<dsig:Transforms>
  <dsig:Transform Algorithm="http://www.w3.org/2002/06/xmldsig-filter2">
    <dsig-xpath:XPath Filter="union"> /root/name </dsig-xpath:XPath>
    <dsig-xpath:XPath Filter="union"> /root/salary </dsig-xpath:XPath>
  </dsig:Transform>
</dsig:Transforms> 
```

# networking - TCP可以通过UDP实现吗？

> ID：10680592
> 
> 赞同：34
> 
> 时间：2012-05-21T06:46:19.520
> 
> 标签：networking, tcp, udp

我有一个奇怪的想法。我听说过根据我的理解使用 UDP 传输文件的软件，它减少了 TCP 数据包中的开销。

如果我的应用程序需要 TCP，并且我的 LAN 设置了软件，可以与海岸另一边的另一个数据中心进行通信，并在其端设置了软件。是否可以通过 UDP 发送实际数据，而不是在两端模拟 TCP？

有人对此类项目有任何想法或信息吗？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-05-21T22:35:27.380

如果您问是否可以将 UDP 用作[第 2 层](http://en.wikipedia.org/wiki/Data_link_layer)，那么答案是肯定的。有多种协议允许您使用 UDP 传输创建通往另一个网络的隧道，例如[L2TP](http://en.wikipedia.org/wiki/Layer_2_Tunneling_Protocol)甚至[IPsec（使用 NAT 遍历）](https://www.rfc-editor.org/rfc/rfc3948)。您也可以在[应用层](http://code.google.com/p/udptunnel/)进行。

如果你问 TCP 是否可以在 UDP 中实现，答案是否定的。首先，[TCP 包](http://en.wikipedia.org/wiki/Transmission_Control_Protocol#TCP_segment_structure)和[UDP 包](http://en.wikipedia.org/wiki/User_Datagram_Protocol#Packet_structure)的格式不兼容。其次，TCP 和 UDP 具有不同的协议号（在[IP 标头](http://en.wikipedia.org/wiki/IPv4#Header)中可见），这意味着发往 UDP 端口的 TCP 流量不会传递到正确的上层协议。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-05-21T06:53:34.750

TCP 和 UDP 都建立在 IP 之上，但 TCP 使用不同的数据包结构，并且在第 2 层无法使用 UDP 数据包来模拟 TCP。

当然，如果您对源和目标都有控制权，那么就有可能为 TCP 数据包创建可靠的 UDP 隧道。这将需要 UDP 数据包主体中的一些内部信息（数据包编号、ack/nack 标志）。

有一个有趣的项目[http://udt.sourceforge.net/](http://udt.sourceforge.net/)

它是一种建立在 UDP 之上的具有广播能力的可靠文件传输机制。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-06-02T11:29:05.017

PseudoTCP 是一种在 UDP 之上实现 TCP 算法的协议。之所以引入它是因为 TCP 的 NAT 穿越比 UDP 复杂得多。但是一些 P2P 应用程序确实需要在节点之间进行可靠的数据传输。

据我所知，有两种 PseudoTCP 变体：Libjingle 和 Libnice。Libjingle 是 google 的一个开源库，最初用于 gtalk。您可以查看 libjingle 中的文件共享示例：[https](https://developers.google.com/talk/libjingle/file_share) ://developers.google.com/talk/libjingle/file_share 。最近，Chrome 桌面还使用 libjingle 的 PseudoTCP 实现来实现可靠连接。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-10-21T23:16:27.613

是的，您可以在 UDP 上开发一个模拟 TCP 的协议。但是，如果您完全模拟 TCP，从技术上讲，它会产生更多开销。因为 TCP 是作为数据包实现的，而您的模拟 TCP 是在数据包的主体中实现的。

如果您只需要 TCP 的一两个特性（例如基本排序），那么在 UDP 中实现它是很有用的。

Halo 使用 2-3 (IIRC) UDP 协议来模拟 TCP 的不同功能，然后使用成熟的 TCP 来初始化游戏状态。[I Shot You First Networking，GDC 出版物](http://www.gdcvault.com/play/1014345/I-Shot-You-First-Networking)

例如，在一种情况下，他们发送 3 个重复的 UDP 数据包以克服数据包丢失。

如果你控制两端的软件，并且构建自己的协议具有成本效益，那么 UDP 可以是通用的。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2015-07-15T16:49:53.363

现在在 Linux-3.18+ 上执行此操作的一种方法是使用 Foo over UDP (FOU)，它实现了 Generic UDP Encapsulation ( [GUE](https://datatracker.ietf.org/doc/html/draft-ietf-nvo3-gue) )。这是对 FOU 的一个很好的[介绍](https://lwn.net/Articles/614348/)，以及[ip-fou](http://man7.org/linux/man-pages/man8/ip-gue.8.html)的手册页。

或者，如果您想要一个基于 [开源] UDP 的文件传输系统，可以使用[UDT](http://udt.sourceforge.net/)、[UFTP](http://uftp-multicast.sourceforge.net/)、[Tsunami-UDP](http://tsunami-udp.sourceforge.net/)甚至 Google 的[QUIC](http://www.chromium.org/quic)之类的东西。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-05-21T09:51:15.133

> 如果我的应用程序需要 TCP，并且我的 LAN 具有软件设置，可以与海岸另一边的另一个数据中心进行通信，并在其端进行软件设置。是否可以通过 UDP 发送实际数据，而不是在两端模拟 TCP？

不，UDP 套接字与 TCP 套接字位于不同的命名空间中。您将无法在一端编写 UDP 并在另一端发送或接收 TCP。TCP和UDP是对等协议；两者都存在于IP之上的层。你不能用一个来欺骗另一个。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-05-21T06:54:34.770

嗯，我相信是的。您需要在两端使用代理，但这应该是可能的。

您将遇到的最大问题是 UDP 的设计理念是您不在乎某些数据包是否永远无法到达另一端。

这是一个包含更多信息的链接：

[http://www.cyberciti.biz/faq/key-differences-between-tcp-and-udp-protocols/](http://www.cyberciti.biz/faq/key-differences-between-tcp-and-udp-protocols/)

恕我直言，通过 UDP 传输文件不是一个好主意。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-05-23T19:10:17.860

TCP 的问题在于它的算法，而不是它的标头。

您当然可以在 UDP 之上实现 TCP 算法。这实际上与在 UDP 数据报内隧道传输 TCP 数据报相同。但这所做的只是为每个数据包添加更多字节的开销，并需要另一个端点来解包数据包。

UDP 本身只是 IP 之上的薄垫片：它是一种访问 IP 分组交换网络的便捷方式，无需深入内核或从路由器接收特殊处理。在 UDP 之上实现可靠传输的主要原因是摆脱 TCP 算法，转而采用更高效的方法。上面提到 FileCatalyst 是一家这样做的公司，我自己的公司 Data Expedition, Inc. 也这样做。

因此，您*可以*在 UDP 之上实现 TCP 算法，但您不想这样做。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-05-21T06:58:42.177

您可以模拟诸如通过 UDP 的连接之类的东西，还可以添加可靠性检查以及排序和重传等。- 但是，它仍然不是 TCP，它只是起到作用。

当然，其中一个端点可以是一种进行适应的“集线器”或“代理”。那么您没有 2 端解决方案，但实际上是 4 端解决方案 - 一对带有“真实”TCP，另一对带有“自编”“TCP” - 您将它们与适当制作的程序放在一起.

# magento - Magento 1.6.2 在愿望清单中添加可配置产品：如何在添加到愿望清单之前检查是否所有必填字段都已填写

> ID：10680598
> 
> 赞同：2
> 
> 时间：2012-05-21T06:46:29.390
> 
> 标签：magento, product, configurable

6.2 社区版开发服装网站，每个产品都有各种尺寸，因此所有产品都添加为可配置产品。Tshirt size 是必需属性，设置为下拉菜单，其第一个值为 Select A Size。当从产品页面点击添加到购物车时，是否选择了该属性是正确的检查。我还在产品视图页面中添加了一个添加到愿望清单按钮。但添加到愿望清单不会检查必填字段 - 属性集。它只是直接将可配置产品添加到愿望清单，而不需要其所需的属性大小。

QS：我如何确保像添加到购物车一样，添加到愿望清单按钮首先检查是否选择了 T 恤尺寸，如果仅选择然后将其添加到愿望清单。否则，给出一个错误..就像在添加到购物车的情况下需要 T 恤尺寸..

谢谢穆迪

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-16T02:03:41.797

导航到`/app/design/frontend/<YOUR_PACKAGE>/<YOUR_TEMPLATE>/catalog/product/view/addto.phtml`并更改**`productAddToCartForm.submitLight`**为**`productAddToCartForm.submit`**。完整的行是：

```
<li><a href="<?php echo $_wishlistSubmitUrl ?>" onclick="productAddToCartForm.submitLight(this, '<?php echo $_wishlistSubmitUrl ?>'); return false;" class="link-wishlist"><?php echo $this->__('Add to Wishlist') ?></a></li> 
```

将其更改为：

```
<li><a href="<?php echo $_wishlistSubmitUrl ?>" onclick="productAddToCartForm.submit(this, '<?php echo $_wishlistSubmitUrl ?>'); return false;" class="link-wishlist"><?php echo $this->__('Add to Wishlist') ?></a></li> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-10T16:44:39.613

打开`app/design/frontend/YOUR_PACKAGE/YOUR_THEME/template/catalog/product/view.phtml`

注释`delete Validation.methods`该文件中存在的以下 Javascript 代码中的所有行：

```
productAddToCartForm.submitLight = function(button, url){
    if(this.validator) {
        var nv = Validation.methods;
        //delete Validation.methods['required-entry'];
        //delete Validation.methods['validate-one-required'];
        //delete Validation.methods['validate-one-required-by-name'];
        // Remove custom datetime validators
        for (var methodName in Validation.methods) {
            if (methodName.match(/^validate-datetime-.*/i)) {
                //delete Validation.methods[methodName];
            }
        }

        if (this.validator.validate()) {
            if (url) {
                this.form.action = url;
            }
            this.form.submit();
        }
        Object.extend(Validation.methods, nv);
    }
}.bind(productAddToCartForm); 
```

# eclipse - 为什么maven插件不能与eclipse java编译器一起工作？

> ID：10680599
> 
> 赞同：0
> 
> 时间：2012-05-21T06:46:29.553
> 
> 标签：eclipse, maven, pom.xml

我在我的eclipse中安装了m2eclipse插件。我在eclipse中有一个java项目。然后我将 pom.xml 添加到我的项目的根文件夹中。将我的项目转换为 Maven 项目。现在问题来了：我可以下载 pom.xml 中包含的 jar，但无法将其导入我的 java 文件。我的项目中总是出现 java 编译错误。在包资源管理器视图中，我可以看到 Maven 依赖项。

我试过这个：maven clean，重启eclipse，project clean。

这是我的 pom.xml

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>TomLabs</groupId>
    <artifactId>TomLabs</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <name>test</name>
    <description>Tom source code</description>
    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.3.2</version>
                <configuration>
                    <source>1.6</source>
                    <target>1.6</target>
                </configuration>
            </plugin>
        </plugins>
    </build>
    <dependencies>
        <dependency>
            <groupId>javax.media</groupId>
            <artifactId>jmf</artifactId>
            <version>2.1.1e</version>
        </dependency>
    </dependencies>
</project> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:10:43.493

一种可能性可能是您尝试导入的包/类在您在 pom.xml 中提到的 jar 文件的版本中不可用。

# javascript - Nodejs 事件循环

> ID：10680601
> 
> 赞同：144
> 
> 时间：2012-05-21T06:46:32.783
> 
> 标签：javascript, node.js, event-loop, libev

nodejs架构内部是否有两个事件循环？

*   libev/libuv
*   v8 javascript 事件循环

在 I/O 请求上，节点是否将请求排队到 libeio，然后使用 libev 通过事件通知数据的可用性，最后这些事件由 v8 事件循环使用回调处理？

基本上，libev 和 libeio 是如何集成到 nodejs 架构中的？

是否有任何文档可以清楚地了解 nodejs 内部架构？

* * *

## 回答 #1

> 赞同：177
> 
> 时间：2012-06-18T12:02:27.273

我一直在亲自阅读node.js & v8的源码。

当我试图了解 node.js 架构以编写本机模块时，我遇到了类似的问题。

我在这里发布的是我对 node.js 的理解，这也可能有点偏离轨道。

1.  [Libev](http://software.schmorp.de/pkg/libev.html)是在 node.js 内部实际运行的事件循环，用于执行简单的事件循环操作。它最初是为 *nix 系统编写的。Libev 为进程运行提供了一个简单但优化的事件循环。[您可以在此处](http://pod.tst.eu/http://cvs.schmorp.de/libev/ev.pod)阅读有关 libev的更多信息。

2.  [LibEio](http://software.schmorp.de/pkg/libeio.html)是一个异步执行输入输出的库。它处理文件描述符、数据处理程序、套接字等。您可以在[此处](http://pod.tst.eu/http://cvs.schmorp.de/libeio/eio.pod)阅读有关它的更多信息。

3.  [LibUv](https://github.com/joyent/libuv)是 libeio、libev、c-ares（用于 DNS）和 iocp（用于 windows asynchronous-io）之上的抽象层。LibUv 执行、维护和管理事件池中的所有 io 和事件。（在 libeio 线程池的情况下）。您应该查看[Ryan Dahl](http://vimeo.com/24713213)关于 libUv 的教程。这将使您对 libUv 本身的工作方式变得更有意义，然后您将了解 node.js 如何在 libuv 和 v8 之上工作。

要了解 javascript 事件循环，您应该考虑观看这些视频

*   [JS-会议](http://jsconf.eu/2010/speaker/techniques_for_a_single_stack.html)
*   [JSConf2011（具有非常刺激性的 sfx）](http://blip.tv/jsconf/jsconf2011-tom-hughes-croucher-5478056)
*   [了解事件驱动编程](http://code.danyork.com/2011/01/25/node-js-doctors-offices-and-fast-food-restaurants-understanding-event-driven-programming/)
*   [理解 node.js 事件循环](http://blog.mixu.net/2011/02/01/understanding-the-node-js-event-loop/)

要了解 libeio 如何与 node.js 一起使用以创建异步模块，您应该查看[这个示例](https://github.com/pkrumins/node-png)。

基本上在 node.js 内部发生的是 v8 循环运行并处理所有 javascript 部分以及 C++ 模块[当它们在主线程中运行时（根据官方文档 node.js 本身是单线程的）]。在主线程之外，libev 和 libeio 在线程池中处理它，libev 提供与主循环的交互。所以据我了解，node.js 有 1 个永久事件循环：这就是 v8 事件循环。为了处理 C++ 异步任务，它使用线程池 [通过 libeio 和 libev]。

例如：

```
eio_custom(Task,FLAG,AfterTask,Eio_REQUEST); 
```

出现在所有模块中的通常是调用线程池中的函数`Task`。完成后，它会调用`AfterTask`主线程中的函数。而`Eio_REQUEST`请求处理程序可以是一个结构/对象，其动机是提供线程池和主线程之间的通信。

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2016-04-26T08:34:01.363

看起来一些讨论的实体（例如：libev 等）已经失去了相关性，因为它已经有一段时间了，但我认为这个问题仍然有很大的潜力。

让我试着借助一个抽象的例子来解释事件驱动模型的工作原理，在抽象的 UNIX 环境中，在 Node 的上下文中，截至今天。

**节目视角：**

*   脚本引擎开始执行脚本。
*   任何时候遇到 CPU 绑定操作，它都会完整地内联（真实机器）执行。
*   每当遇到 I/O 绑定操作时，请求及其完成处理程序都会向“事件机制”（虚拟机）注册
*   以与上述相同的方式重复操作，直到脚本结束。CPU 绑定操作 - 执行线内、I/O 绑定操作，向机器发出请求，如上所述。
*   当 I/O 完成时，侦听器被回调。

上面的事件机制称为 libuv AKA 事件循环框架。Node 利用这个库来实现它的事件驱动编程模型。

**节点视角：**

*   有一个线程来托管运行时。
*   拿起用户脚本。
*   将其编译为原生 [杠杆 v8]
*   加载二进制文件，然后跳转到入口点。
*   编译后的代码使用编程原语在线执行 CPU 绑定活动。
*   许多 I/O 和定时器相关的代码都有本地包装。例如，网络 I/O。
*   因此 I/O 调用从脚本路由到 C++ 桥，I/O 句柄和完成处理程序作为参数传递。
*   本机代码执行 libuv 循环。它获取循环，将代表 I/O 的低级别事件和本地回调包装器排入 libuv 循环结构。
*   本机代码返回到脚本 - 目前没有发生 I/O！
*   以上各项重复多次，直到所有非I/O代码都执行完毕，所有I/O代码都注册到libuv。
*   最后，当系统中没有任何东西可以执行时，节点将控制权交给 libuv
*   libuv 开始行动，它获取所有注册的事件，查询操作系统以获得它们的可操作性。
*   那些在非阻塞模式下准备好进行 I/O 的，将被拾取，执行 I/O，并发出它们的回调。一个接一个地。
*   那些还没有准备好的（例如套接字读取，另一个端点还没有写任何东西）将继续被操作系统探测，直到它们可用。
*   循环内部维护一个不断增加的计时器。当应用程序请求延迟回调（例如 setTimeout）时，会利用此内部计时器值来计算触发回调的正确时间。

虽然以这种方式满足了大多数功能，但文件操作的一些（异步版本）是在附加线程的帮助下执行的，这些线程很好地集成到 libuv 中。虽然网络 I/O 操作可以等待外部事件，例如另一个端点响应数据等，但文件操作需要节点本身的一些工作。例如，如果您打开一个文件并等待 fd 准备好数据，这不会发生，因为实际上没有人在读取！同时，如果您在主线程中内联读取文件，它可能会阻塞程序中的其他活动，并且可能会导致明显的问题，因为与 cpu 绑定活动相比，文件操作非常慢。因此使用内部工作线程（可通过 UV_THREADPOOL_SIZE 环境变量配置）对文件进行操作，

希望这可以帮助。

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2016-01-02T13:15:04.857

[libuv 简介](http://nikhilm.github.io/uvbook/introduction.html#background)

> [node.js](http://www.nodejs.org/)项目始于 2009 年，是一个与浏览器分离的 JavaScript 环境。使用 Google 的[V8](http://code.google.com/p/v8/)和 Marc Lehmann 的[libev](http://software.schmorp.de/pkg/libev.html)，node.js 将 I/O 模型（事件）与一种非常适合编程风格的语言结合在一起；由于它被浏览器塑造的方式。随着 node.js 越来越流行，让它在 Windows 上运行很重要，但 libev 只在 Unix 上运行。Windows 等效的内核事件通知机制（如 kqueue 或 (e)poll）是 IOCP。libuv 是围绕 libev 或 IOCP 的抽象，具体取决于平台，为用户提供基于 libev 的 API。在 libuv 的 node-v0.9.0 版本中，[libev 被删除](https://github.com/joyent/libuv/issues/485)。

还有一张[@BusyRich描述 Node.js 中的事件循环的图片](https://twitter.com/BusyRich/status/494959181871316992)

![](../Images/9fea24af560006b2856e7002b9fb6351.png)

* * *

**2017 年 5 月 9 日更新**

根据这个文档[Node.js 事件循环](https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/)，

下图显示了事件循环操作顺序的简化概览。

```
 ┌───────────────────────┐
┌─>│        timers         │
│  └──────────┬────────────┘
│  ┌──────────┴────────────┐
│  │     I/O callbacks     │
│  └──────────┬────────────┘
│  ┌──────────┴────────────┐
│  │     idle, prepare     │
│  └──────────┬────────────┘      ┌───────────────┐
│  ┌──────────┴────────────┐      │   incoming:   │
│  │         poll          │&lt;─────┤  connections, │
│  └──────────┬────────────┘      │   data, etc.  │
│  ┌──────────┴────────────┐      └───────────────┘
│  │        check          │
│  └──────────┬────────────┘
│  ┌──────────┴────────────┐
└──┤    close callbacks    │
   └───────────────────────┘ 
```

注意：每个框将被称为事件循环的“阶段”。

**阶段概述**

*   **timers**`setTimeout()` ：此阶段执行由and安排的回调`setInterval()`。
*   **I/O 回调**：执行几乎所有的回调，除了**关闭回调**、定时器调度的回调和`setImmediate()`.
*   **idle, prepare**：仅在内部使用。
*   **poll** : 检索新的 I/O 事件；节点会在适当的时候阻塞在这里。
*   **check** :`setImmediate()`回调在这里被调用。
*   **关闭回调**：例如`socket.on('close', ...)`。

在事件循环的每次运行之间，Node.js 检查它是否正在等待任何异步 I/O 或计时器，如果没有则干净地关闭。

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2015-08-25T21:37:06.253

NodeJs 架构中有一个事件循环。

## Node.js 事件循环模型

节点应用程序在单线程事件驱动模型中运行。但是，Node 在后台实现了一个线程池，以便可以执行工作。

Node.js 将工作添加到事件队列中，然后让运行事件循环的单个线程将其拾取。事件循环抓取事件队列中的顶部项，执行它，然后抓取下一项。

当执行更长生命周期或阻塞 I/O 的代码时，它不会直接调用函数，而是将函数添加到事件队列中，并在函数完成后执行回调。当 Node.js 事件队列上的所有事件都已执行时，Node.js 应用程序将终止。

当我们的应用程序函数阻塞 I/O 时，事件循环开始遇到问题。

Node.js 使用事件回调来避免等待阻塞 I/O。因此，任何执行阻塞 I/O 的请求都在后台的不同线程上执行。

当从事件队列中检索到阻塞 I/O 的事件时，Node.js 从线程池中检索一个线程，并在那里而不是在主事件循环线程上执行函数。这可以防止阻塞 I/O 阻止事件队列中的其余事件。

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2016-01-06T05:41:30.287

libuv 只提供了一个事件循环，V8 只是一个 JS 运行时引擎。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-10-26T05:24:27.810

作为一个 javascript 初学者，我也有同样的疑问，NodeJS 是否包含 2 个事件循环？经过长时间的研究和与 V8 贡献者之一的讨论，我得到了以下概念。

*   事件循环是 JavaScript 编程模型的一个基本抽象概念。所以 V8 引擎为事件循环提供了一个默认实现，***嵌入器（浏览器、节点）可以替换或扩展***. 你们可以在[这里找到事件循环的 V8 默认实现](https://chromium.googlesource.com/v8/v8/+/master/src/libplatform/default-platform.cc#140)
*   ***在 NodeJS 中，只有一个事件循环存在***，由节点运行时提供。V8 默认事件循环实现被 NodeJS 事件循环实现取代

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-02-17T00:58:26.320

该`pbkdf2`函数具有 JavaScript 实现，但它实际上将所有要完成的工作委托给 C++ 端。

```
env->SetMethod(target, "pbkdf2", PBKDF2);
  env->SetMethod(target, "generateKeyPairRSA", GenerateKeyPairRSA);
  env->SetMethod(target, "generateKeyPairDSA", GenerateKeyPairDSA);
  env->SetMethod(target, "generateKeyPairEC", GenerateKeyPairEC);
  NODE_DEFINE_CONSTANT(target, OPENSSL_EC_NAMED_CURVE);
  NODE_DEFINE_CONSTANT(target, OPENSSL_EC_EXPLICIT_CURVE);
  NODE_DEFINE_CONSTANT(target, kKeyEncodingPKCS1);
  NODE_DEFINE_CONSTANT(target, kKeyEncodingPKCS8);
  NODE_DEFINE_CONSTANT(target, kKeyEncodingSPKI);
  NODE_DEFINE_CONSTANT(target, kKeyEncodingSEC1);
  NODE_DEFINE_CONSTANT(target, kKeyFormatDER);
  NODE_DEFINE_CONSTANT(target, kKeyFormatPEM);
  NODE_DEFINE_CONSTANT(target, kKeyTypeSecret);
  NODE_DEFINE_CONSTANT(target, kKeyTypePublic);
  NODE_DEFINE_CONSTANT(target, kKeyTypePrivate);
  env->SetMethod(target, "randomBytes", RandomBytes);
  env->SetMethodNoSideEffect(target, "timingSafeEqual", TimingSafeEqual);
  env->SetMethodNoSideEffect(target, "getSSLCiphers", GetSSLCiphers);
  env->SetMethodNoSideEffect(target, "getCiphers", GetCiphers);
  env->SetMethodNoSideEffect(target, "getHashes", GetHashes);
  env->SetMethodNoSideEffect(target, "getCurves", GetCurves);
  env->SetMethod(target, "publicEncrypt",
                 PublicKeyCipher::Cipher<PublicKeyCipher::kPublic,
                                         EVP_PKEY_encrypt_init,
                                         EVP_PKEY_encrypt>);
  env->SetMethod(target, "privateDecrypt",
                 PublicKeyCipher::Cipher<PublicKeyCipher::kPrivate,
                                         EVP_PKEY_decrypt_init,
                                         EVP_PKEY_decrypt>);
  env->SetMethod(target, "privateEncrypt",
                 PublicKeyCipher::Cipher<PublicKeyCipher::kPrivate,
                                         EVP_PKEY_sign_init,
                                         EVP_PKEY_sign>);
  env->SetMethod(target, "publicDecrypt",
                 PublicKeyCipher::Cipher<PublicKeyCipher::kPublic,
                                         EVP_PKEY_verify_recover_init,
                                         EVP_PKEY_verify_recover>); 
```

资源：[https ://github.com/nodejs/node/blob/master/src/node_crypto.cc](https://github.com/nodejs/node/blob/master/src/node_crypto.cc)

Libuv 模块还有另一个与标准库中一些非常特殊的功能相关的职责。

对于一些标准库函数调用，Node C++ 端和 Libuv 决定完全在事件循环之外进行昂贵的计算。

相反，他们使用称为线程池的东西，线程池是一系列四个线程，可用于运行计算昂贵的任务，例如`pbkdf2`函数。

默认情况下，Libuv 在这个线程池中创建 4 个线程。

除了事件循环中使用的线程之外，还有四个其他线程可用于卸载需要在我们的应用程序中进行的昂贵计算。

Node 标准库中包含的许多函数都会自动使用这个线程池。功能就是其中`pbkdf2`之一。

这个线程池的存在意义重大。

所以 Node 并不是真正的单线程，因为 Node 使用其他线程来执行一些计算量很大的任务。

如果事件池负责执行计算量大的任务，那么我们的 Node 应用程序将无能为力。

我们的 CPU 在一个线程中一一运行所有指令。

通过使用线程池，我们可以在计算发生时在事件循环中做其他事情。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-06-23T08:48:45.167

简而言之，Node 事件循环是架构级别的循环或循环，它帮助 Javascript 代码处理异步代码。

事件循环内部有不同的循环/循环，用于处理适当的工作，例如 setTimeouts、setimmediate、文件系统、网络请求、promise 和其他东西。

# ios - 当开发人员签名的二进制文件被辞去分发时，get-task-allowed 仍然为真

> ID：10680604
> 
> 赞同：0
> 
> 时间：2012-05-21T06:46:56.150
> 
> 标签：ios, xcode, code-signing, provisioning-profile, entitlements

我想要一个流程，其中我的项目被设置为生成一个使用开发移动配置文件签名的应用程序，稍后可以使用 Xcode 的便捷界面将其重新用于 AdHoc 或 AppStore 分发。

问题是，当我创建由开发配置文件签名的存档时，`embedded.mobileprovision`应用程序二进制文件本身都包含`get-task-allowed`设置为的规范`true`，但是当我为此使用 Xcode 的 UI 重新签署该应用程序时，结果是一个应用程序`embedded.mobileprovision`有`get-task-allowed`设置为`false`（如我所愿），但二进制文件本身仍包含`get-task-allowed`设置为`true`（不是我想要的）。

那么，如何正确地对应用程序进行签名，以便用于重新签名的分发配置文件在整个生成的应用程序中得到正确应用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-26T07:44:10.650

XCode 4.2 随心所欲，即您可以使用开发人员配置文件存档，然后在组织者期间辞职 -> 与分发配置文件共享。只要两个配置文件都用于相同的应用程序 ID，它就会产生正确的输出（对于运行时二进制文件和 Embedded.mobileprovision 文件，get-task-allow 都设置为 false）

然而，XCode 4.3 并没有做同样的事情，我已经使用相同的证书和配置文件执行了相同的步骤，并且如果在 Embedded.mobileprovision 中 get-task-allow=false 而在运行时二进制文件中获得 get-task-allow=true 则结果输出。然后 IPA 将无法与设备同步，并且控制台输出将吐出类似于“get-task-allow has value not allowed”的内容

我目前正在下载 4.4（昨天发布），所以我将在该版本上运行另一组测试。

# mysql - 从 mysql 中的选择查询更新

> ID：10680609
> 
> 赞同：2
> 
> 时间：2012-05-21T06:47:12.370
> 
> 标签：mysql, sql

我使用以下查询在表中插入值

```
INSERT INTO `tbl1` SELECT * FROM tbl2 
```

这里的 tb1 是一个临时表。

现在，我想要这样的东西

```
UPDATE `my_table` SELECT * FROM tbl1 
```

我知道更新的语法是 Update tbl SET cols = vals 但是我们可以有类似上面插入查询的东西吗？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T06:51:22.423

你可以做`Insert with Select`但不能`Update with Select`。但仍然可以通过在`UPDATE`.

```
UPDATE table1 t1 JOIN table2 t2 ON t1.id = t2.id
SET t1.col1 = t2.col2, t1.col2 = t2.col2 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-21T06:50:00.310

您可以使用多表语法加入您的`tbl1`表：`my_table``UPDATE`

```
UPDATE my_table JOIN tbl1 ON ***join_condition***
  SET my_table.foo = tbl1.bar, ... 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T06:54:02.913

你可以这样做：

```
update my_table join tbl1 on my_table.id = tbl1.id
set my_table.Vaal= tbl1.vaal 
```

# php - 免费信用和常规信用的php双减法？

> ID：10680616
> 
> 赞同：-3
> 
> 时间：2012-05-21T06:47:33.353
> 
> 标签：php, mysql

嗨，我有一个需要修复的程序。这是问题所在：

例如我有：

2 的免费学分和 5 的常规学分。

例如，我想以 3 个积分购买一件商品。

我想扣除 2 个免费学分和 1 个常规学分。

所以剩余的余额将是 0 个免费积分和 4 个常规积分。

免费学分将在常规学分扣除之前先扣除。

在我现有的程序中，如果我用 3 学分购买 1 件商品

这是余额：-1 免费积分 5 常规积分

不是那样的。

我想要这样：0 个免费积分 4 个常规积分

我希望有人可以在这个问题上帮助我。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T06:56:16.483

```
$free_credits -= $cost;
if($free_credits < 0) {
    $regular_credits += $free_credits;
    $free_credits = 0;
} 
```

或者最好直接在 SQL 中：

```
START TRANSACTION;
    SELECT @ok := (free_credits + regular_credits) > :cost
        FROM user_credits WHERE id = :id  FOR UPDATE;

    IF @ok THEN
        UPDATE user_credits
            SET
                free_credits = free_credits - :cost,
                regular_credits = regular_credits + IF(free_credits < 0, free_credits, 0)
            WHERE id = :id
    ELSE;
        /* something to cause the commit to fail */
    END IF;
COMMIT; 
```

作为技术性，为此需要对 free_credits 的数据类型进行**签名**。

# java - 在 Play 框架中上传图片

> ID：10680625
> 
> 赞同：0
> 
> 时间：2012-05-21T06:48:46.050
> 
> 标签：java, playframework

我最初尝试实现用于上传文件的 Javascript 函数，但文件从未上传，我无法弄清楚如何使用该代码。

这是“查看文件”：

```
<div id="file-uploader">

    <script>
        function createUploader(){
            var uploader = new qq.FileUploader({
                element: document.getElementById('file-uploader'),
                action: '/upload',
                debug: true
            });
        }
        // in your app create uploader as soon as the DOM is ready
        // don't wait for the window to load
        window.onload = createUploader;
    </script>    

</div> 
```

这是控制器：

```
package controllers;

import java.io.File;
import java.io.FileOutputStream;
import java.io.InputStream;
import models.Photo;
import models.User;
import play.*;
import play.mvc.*;

import org.apache.commons.io.IOUtils;

public class Uploader extends Controller {

    public static Long id;

    public static void index(Long id) {
        System.out.println("this is id inside the tester"+id);
        new Uploader(id);
        render();
    }

    public Uploader(Long id) {
        this.id = id;
    }

    public static void upload(String qqfile) {

        if (request.isNew) {

            FileOutputStream moveTo = null;

            Logger.info("Name of the file %s", qqfile);
            // Another way I used to grab the name of the file
            String filename = request.headers.get("x-file-name").value();

            Logger.info("Absolute on where to send %s", Play.getFile("").getAbsolutePath() + File.separator + "uploads" + File.separator);
            try {

                String filelocation = File.separator + "uploads" + File.separator + filename;

                InputStream data = request.body;

                moveTo = new FileOutputStream(new File(Play.getFile("").getAbsolutePath())
                        + File.separator + "uploads" + File.separator + filename);

                IOUtils.copy(data, moveTo);

                Users.show(id);

            } catch (Exception ex) {

                // catch file exception
                // catch IO Exception later on
                renderJSON("{success: false}");
                System.out.println("Exception is:" + ex);
            }

        }

    }
} 
```

我想自定义它（例如将更多参数传递给上传函数），但找不到这样做的方法......

你能告诉我哪里做错了吗，如果可能的话，你能指导我通过表格上传文件吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T15:11:51.923

[http://www.playframework.org/documentation/1.0/5things](http://www.playframework.org/documentation/1.0/5things)

第 5 点：

HTML 表单：

```
<form action="@{Article.uploadPhoto()}" method="POST" enctype="multipart/form-data">
    <input type="text" name="title" />
    <input type="file" id="photo" name="photo" />
    <input type="submit" value="Send it..." />
</form> 
```

和Java代码：

```
public static void uploadPhoto(String title, File photo) {
   ...
} 
```

# javascript - 在 jquery post 中发送长字符串

> ID：10680630
> 
> 赞同：0
> 
> 时间：2012-05-21T06:48:57.673
> 
> 标签：javascript, jquery, html, servlets

我无法在 jquery post 方法中发送长字符串（超过 96 个字符。在 FF12 和 Chrome 18 中测试）。我的小服务程序是 -

```
public class TestServletAsh extends HttpServlet{
    protected void doPost(HttpServletRequest req, HttpServletResponse resp)
    throws ServletException, IOException {
        super.doPost(req, resp);
        String xml=req.getParameter("xml");
    }
} 
```

我的 jquery 发布请求是 -

```
<body>
<script>
    function callMe() {
        var str = "dkghjkdf dfg jdfgjd gkdfgdjk gdf gdfg dkjgdfjk gdjgdfjg dfjkgdfjkg dfjkgdfjkg dfjkgdf jkdfgdjhgs";
        $.post(
            "TestServletAsh",
            { xml:str },
            function(data) {
                alert("mission successfull");   //nothing to do with it or data here in this SO question
            }
        );
    }
</script>
<a href="javascript:void(0)" onclick="callMe()">Click to send request</a>
</body> 
```

我正在调试 servlet，发现“xml=null”。我正在使用 jboss 作为网络服务器。谁能告诉我问题出在哪里。

当我像这样使用另一个版本的 jquery.post -

```
$.post(
    "TestServletAsh?xml="+str,
    function(data) {
        alert("mission successfull");   //nothing to do with it or data here in this SO question
    }
); 
```

然后我可以发送大约 6000 个字符。对于 6000 多个字符，Firebug 说 - “405 Aborted”。为什么 ？？任何的想法 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T09:35:54.777

可能是您的网络服务器，即 Jboss 可能是问题所在。您可以查看更改服务器配置参数

尝试在 conf/server.xml 文件中设置 maxPostSize = 0

# javascript - 根据屏幕定位文本

> ID：10680631
> 
> 赞同：1
> 
> 时间：2012-05-21T06:49:09.157
> 
> 标签：javascript, jquery, html, css

请检查这个[http://jsfiddle.net/e8UQn/](http://jsfiddle.net/e8UQn/)

在显示屏幕中，向下拖动滚动条可以看到底部的文本，我已将**#text-box**的位置设置为**绝对**，这是显示指定**顶部和左侧**位置所必需的.

我需要的是当浏览器缩小时，后伸图像看起来很完美，但**文本**需要修改其位置，以便不显示滚动条。

top 和 left 属性不应该有任何变化，因为这些值是从我的 Web 应用程序动态派生的，这是必要的。是否有可能根据屏幕尺寸动态更改值？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:53:24.553

更新：

尝试这个：

```
var t = $(window).height() - $("#text-box").outerHeight();
$("#text-box").css("top", t); 
```

[http://jsfiddle.net/e8UQn/3/](http://jsfiddle.net/e8UQn/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T06:53:33.723

您需要`#text-box`相对于窗口底部定位：

```
#text-box {
    position: absolute;
    display: inline-block;
    zoom: 1;
    bottom: 20px; /* This value here */
    left: 51px;
    padding-top: 10px;
    padding-left: 20px;
} 
```

小提琴：http: [//jsfiddle.net/e8UQn/2/](http://jsfiddle.net/e8UQn/2/)

如果您无法更改该输出，请覆盖该`top`值：

```
#text-box {
    top: 'auto';
    bottom: 20px;
} 
```

# android - 我们如何在 android 应用程序中单次登录 facebook？

> ID：10680634
> 
> 赞同：0
> 
> 时间：2012-05-21T06:49:31.327
> 
> 标签：android, facebook

在我的 android 设备中有四个使用 Facebook API 的应用程序，现在登录一个应用程序 Facebook 并最小化该应用程序并使用其他也有 Facebook API 的应用程序，现在我想直接登录这个应用程序，我正在使用以前的应用程序，我不,t需要再次登录..

任何人都有任何想法而不是建议我..

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T06:53:17.860

**更新：**

由于 android 环境在其自己的沙箱上运行每个应用程序，因此绝对无法从一个应用程序登录到另一个应用程序，并且必须在每个应用程序中单独完成。

Facebook SSO 内置在 SDK 中。实现它的代码如下：

```
 Facebook facebook = new Facebook(APPID);

facebook.authorize(SinglePost.this, {PERMISSIONS},
                new DialogListener() {

                    @Override
                    public void onComplete(Bundle values) {
                        // control comes here if the login was successful
                        // Facebook.TOKEN is the key by which the value of
                        // access token is stored in the Bundle called
                        // 'values'
                        Log.d("COMPLETE", "AUTH COMPLETE. VALUES: "
                                + values.size());
                        Log.d("AUTH TOKEN",
                                "== " + values.getString(Facebook.TOKEN));
                        updateStatus(values.getString(Facebook.TOKEN));
                    }

                    @Override
                    public void onFacebookError(FacebookError e) {
                        Log.d("FACEBOOK ERROR",
                                "FB ERROR. MSG: " + e.getMessage()
                                        + ", CAUSE: " + e.getCause());
                    }

                    @Override
                    public void onError(DialogError e) {
                        Log.e("ERROR", "AUTH ERROR. MSG: " + e.getMessage()
                                + ", CAUSE: " + e.getCause());
                    }

                    @Override
                    public void onCancel() {
                        Log.d("CANCELLED", "AUTH CANCELLED");
                    }
                });

@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
    Log.d("onActivityResult", "onActivityResult");
    facebook.authorizeCallback(requestCode, resultCode, data);
} 
```

# java - Servlet/Tomcat 相对文件路径

> ID：10680637
> 
> 赞同：2
> 
> 时间：2012-05-21T06:50:10.997
> 
> 标签：java, jsp, tomcat, servlets

**将文件放在 Tomcat Servlet 应用程序中的什么位置，以使它们对页面相对可见？**

更多细节：我正在使用**外部库开发一个****servlet**页面。该库很大程度上依赖于外部**加载的 XML 文件**（相对文件路径）。所以我需要把这些xml文件放到servlet的**运行目录下。**

 ******Tomcat服务器中有没有一种方法可以**相对**访问文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T07:03:25.977

当 Web 应用程序部署到 Tomcat 时，Web 应用程序的根目录最终为 $CATALINA_HOME/webapps/YOUR_WEB_APP/

因此，如果使用 servlet 访问位于 Web 应用程序根目录中的路径上的 XML 文件，则只需使用以下命令：

```
request.getServletContext().getResourceAsStream("PATH/TO/YOUR/XML_FILE.xml") 
```

这会将 XML 文件加载为`InputStream`. 当然，如果你想访问文件本身，你总是可以使用`getResource(String resource)`方法来获取 a `URL`，`File`可以像这样从中获取对象（包括替代方法）：

```
File f;
try {
  f = new File(url.toURI());
} catch(URISyntaxException e) {
  f = new File(url.getPath());
} 
```

编辑：要使它们对网络浏览器相对可见，只需将它们放在 ./WEB-INF 和 ./META-INF 目录之外。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T08:15:59.787

如果您正在谈论的这个库要在类路径中搜索文件（如 Hibernate 或 Log4J 会这样做），您将不得不将您的 XML 文件放在 WEB-INF 中。但是，我建议您不要手动执行此操作。您可以将文件放在应用程序的源目录中，这将确保文件部署在正确的位置。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2018-03-05T16:44:54.060

这是一个老问题。我正在开发 Tomcat 9。我以 Tomcat 安装目录为基础非常成功。(CATALINA_HOME) 例如，ROOT 中文件的相对路径是“webapps/ROOT/someDir/fileName”

抱怨重复答案的地方是处理重复的问题。******

# mediawiki - 有没有我可以在我自己的页面/站点中实现的 WikiEditor 插件

> ID：10680643
> 
> 赞同：0
> 
> 时间：2012-05-21T06:50:52.813
> 
> 标签：mediawiki, wikimedia

我的客户想要一个与 WikiEditor 相同的编辑器，它的所有功能都在他的网站上（框架几乎接近 codeigniter）。我通过实现 MediaWiki 看到了编辑器“WikiEditor”，但我无法将它单独放入我的页面中。希望有人在那里得到一些答案。

谢谢和问候， 拉杰什莫汉

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-29T14:23:23.940

如果您想要 HTML 输出，您可能会遇到[CKEditor](http://ckeditor.com/)。如果“与具有所有功能的 WikiEditor 相同的编辑器”意味着您想要 wikitext 输出，那么您可能必须查看 MediaWiki 源。

# r - 如何在 R 中创建相关矩阵？

> ID：10680658
> 
> 赞同：90
> 
> 时间：2012-05-21T06:53:09.933
> 
> 标签：r, matrix, visualization, correlation

我有 92 组相同类型的数据。

我想为任何两种可能的组合制作一个相关矩阵。

即，我想要一个矩阵`92x92`。

这样元素 ( `ci`, `cj`) 应该是 和 之间的相关`ci`性`cj`。

我怎么做？

* * *

## 回答 #1

> 赞同：106
> 
> 时间：2012-05-21T07:39:39.690

一个例子，

```
 d <- data.frame(x1=rnorm(10),
                 x2=rnorm(10),
                 x3=rnorm(10))
cor(d) # get correlations (returns matrix) 
```

* * *

## 回答 #2

> 赞同：76
> 
> 时间：2014-07-31T18:48:56.073

您可以使用“corrplot”包。

```
d <- data.frame(x1=rnorm(10),
                 x2=rnorm(10),
                 x3=rnorm(10))
M <- cor(d) # get correlations

library('corrplot') #package corrplot
corrplot(M, method = "circle") #plot matrix 
```

![在此处输入图像描述](../Images/4a06fb1277852e028798991d768fbc74.png)

更多信息在这里：[http ://cran.r-project.org/web/packages/corrplot/vignettes/corrplot-intro.html](http://cran.r-project.org/web/packages/corrplot/vignettes/corrplot-intro.html)

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2012-05-21T07:33:50.523

*cor*函数将在计算相关性时使用矩阵的列。*因此，矩阵x*和矩阵*y*之间的行数必须相同。前任。：

```
set.seed(1)
x <- matrix(rnorm(20), nrow=5, ncol=4)
y <- matrix(rnorm(15), nrow=5, ncol=3)
COR <- cor(x,y)
COR
image(x=seq(dim(x)[2]), y=seq(dim(y)[2]), z=COR, xlab="x column", ylab="y column")
text(expand.grid(x=seq(dim(x)[2]), y=seq(dim(y)[2])), labels=round(c(COR),2)) 
```

![在此处输入图像描述](../Images/02f0c93ebe998988767eb14727b3e144.png)

### 编辑：

以下是使用单个矩阵计算的相关矩阵上的自定义行和列标签的示例：

```
png("corplot.png", width=5, height=5, units="in", res=200)
op <- par(mar=c(6,6,1,1), ps=10)
COR <- cor(iris[,1:4])
image(x=seq(nrow(COR)), y=seq(ncol(COR)), z=cor(iris[,1:4]), axes=F, xlab="", ylab="")
text(expand.grid(x=seq(dim(COR)[1]), y=seq(dim(COR)[2])), labels=round(c(COR),2))
box()
axis(1, at=seq(nrow(COR)), labels = rownames(COR), las=2)
axis(2, at=seq(ncol(COR)), labels = colnames(COR), las=1)
par(op)
dev.off() 
```

[![在此处输入图像描述](../Images/29da135cad77fe201a2e911aacc56f66.png)](https://i.stack.imgur.com/7yOH6.png)

* * *

## 回答 #4

> 赞同：16
> 
> 时间：2016-05-22T20:38:24.290

看看[qtlcharts](https://cran.r-project.org/web/packages/qtlcharts/index.html)。它允许您创建**交互式**相关矩阵：

```
library(qtlcharts)
data(iris)
iris$Species <- NULL
iplotCorr(iris, reorder=TRUE) 
```

[![在此处输入图像描述](../Images/e64d73d1d73b179b410ee46dc9274dda.png)](https://i.stack.imgur.com/nywRM.png)

当您关联更多变量时，它会更令人印象深刻，例如在包的小插图中： [![在此处输入图像描述](../Images/51a399d63a219ea4c71fe490cfccb2f7.png)](https://i.stack.imgur.com/y0VWX.png)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-12T20:07:45.163

这里还有其他方法可以实现这一点：（[将相关矩阵绘制成图表](https://stackoverflow.com/questions/5453336/plot-correlation-matrix-into-a-graph#5454100)），但我喜欢你的版本，其中包含框中的相关性。有没有办法将变量名称添加到 x 和 y 列，而不仅仅是那些索引号？对我来说，这将使它成为一个完美的解决方案。谢谢！

编辑：我试图评论 [Marc in the box] 的帖子，但我显然不知道我在做什么。但是，我确实设法为自己回答了这个问题。

如果 d 是矩阵（或原始数据框）并且列名是您想要的，那么以下工作：

```
axis(1, 1:dim(d)[2], colnames(d), las=2)
axis(2, 1:dim(d)[2], colnames(d), las=2) 
```

las=0 会将名称翻转回它们的正常位置，我的很长，所以我使用 las=2 使它们垂直于轴。

edit2：要抑制在网格上打印数字的 image() 函数（否则它们会与变量标签重叠），请添加 xaxt='n'，例如：

```
image(x=seq(dim(x)[2]), y=seq(dim(y)[2]), z=COR, col=rev(heat.colors(20)), xlab="x column", ylab="y column", xaxt='n') 
```

# jquery - jQuery在剪贴板中复制一些文本+一些附加文本

> ID：10680666
> 
> 赞同：0
> 
> 时间：2012-05-21T06:53:44.860
> 
> 标签：jquery

您能否给我一个具有以下功能的 jQuery 代码示例。

从网站复制一些文本时，我想将复制的文本添加到剪贴板 + 一些文本有点：内容取自以下文章（带链接）。

提前致谢

# time - 具有相同 GMT 偏移量的时区是否有任何不同？

> ID：10680668
> 
> 赞同：4
> 
> 时间：2012-05-21T06:53:48.890
> 
> 标签：time, timezone, gmt

Windows 要求用户从大约[200 个时区](http://unattended.sourceforge.net/timezones.php)中进行选择，而实际上只有 25 个 GMT 偏移量。（见下文）

我可以要求我的应用程序中的用户仅从这些中进行选择吗？具有相同 GMT 偏移的时区之间有什么区别吗？（**例如：**山地标准时间**与**墨西哥标准时间 2）

```
-12.0,GMT -12:00,Eniwetok, Kwajalein
-11.0,GMT -11:00,Midway Island, Samoa
-10.0,GMT -10:00,Hawaii
-9.0,GMT -9:00,Alaska
-8.0,GMT -8:00,Pacific Time, US & Canada
-7.0,GMT -7:00,Mountain Time, US & Canada
-6.0,GMT -6:00,Central Time, US & Canada, Mexico City
-5.0,GMT -5:00,Eastern Time, US & Canada, Bogota, Lima
-4.0,GMT -4:00,Atlantic Time, Canada, Caracas, La Paz
-3.5,GMT -3:30,Newfoundland
-3.0,GMT -3:00,Brazil, Buenos Aires, Georgetown
-2.0,GMT -2:00,Mid-Atlantic
-1.0,GMT -1:00 hour,Azores, Cape Verde Islands
0.0,GMT,Western Europe Time, London, Lisbon, Casablanca
1.0,GMT +1:00 hour,Brussels, Copenhagen, Madrid, Paris
2.0,GMT +2:00,Kaliningrad, South Africa
3.0,GMT +3:00,Baghdad, Riyadh, Moscow, St. Petersburg
3.5,GMT +3:30,Tehran
4.0,GMT +4:00,Abu Dhabi, Muscat, Baku, Tbilisi
4.5,GMT +4:30,Kabul
5.0,GMT +5:00,Ekaterinburg, Islamabad, Karachi, Tashkent
5.5,GMT +5:30,Bombay, Calcutta, Madras, New Delhi
5.75,GMT +5:45,Kathmandu
6.0,GMT +6:00,Almaty, Dhaka, Colombo
7.0,GMT +7:00,Bangkok, Hanoi, Jakarta
8.0,GMT +8:00,Beijing, Perth, Singapore, Hong Kong
9.0,GMT +9:00,Tokyo, Seoul, Osaka, Sapporo, Yakutsk
9.5,GMT +9:30,Adelaide, Darwin
10.0,GMT +10:00,Eastern Australia, Guam, Vladivostok
11.0,GMT +11:00,Magadan, Solomon Islands, New Caledonia
12.0,GMT +12:00,Auckland, Wellington, Fiji, Kamchatka 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-21T07:39:38.497

一般来说，不，你不能。时区不仅因默认的 GMT 偏移量而异，而且因 DST（夏令时）而异。所以两个 TZ 可以有相同的偏移量，但一个有 DST，另一个没有。即使 TZ 具有相同的偏移量并且都具有 DST，DST 的开始和结束时间也可能不同。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-21T07:44:43.693

您还必须考虑 DST。从您的列表中：

```
-5.0,GMT -5:00,Eastern Time, US & Canada, Bogota, Lima 
```

利马和纽约在夏季时差一小时。参见例如[http://www.timeanddate.com/worldclock/](http://www.timeanddate.com/worldclock/)

# c - 让 GDB 列出程序中的所有函数

> ID：10680670
> 
> 赞同：105
> 
> 时间：2012-05-21T06:53:56.310
> 
> 标签：c, linux, gcc, gdb, x86-64

如何使用 GDB 列出程序中的所有函数？

* * *

## 回答 #1

> 赞同：148
> 
> 时间：2012-05-21T07:09:41.170

`info functions`打印所有已定义函数的名称和数据类型。请参阅[16 检查符号表](http://sourceware.org/gdb/onlinedocs/gdb/Symbols.html)。

# asp.net - 在 Asp.net 中将字节数组转换为字符串

> ID：10680672
> 
> 赞同：8
> 
> 时间：2012-05-21T06:54:13.287
> 
> 标签：asp.net, c#-4.0

在 Page1.aspx 中，我有

```
byte[] byt = System.Text.Encoding.UTF8.GetBytes(TextBox1.Text);
Response.Redirect("Page2.aspx?BytArray=" + byt,false); 
```

TextBox1 的值为“mnop”。

现在在 Page2.aspx 我有下面的代码

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {           
        var byteArray = System.Text.Encoding.UTF8.GetBytes(Request.QueryString["BytArray"]);

        var x1 = System.Convert.ToBase64String(byteArray, 0, byteArray.Length);

        var x2 = Encoding.UTF8.GetString(byteArray);
    }
} 
```

*   `x1`输出为**U3lzdGVtLkJ5dGVbXQ==**

*   `x2`输出是**System.Byte[]**

但是如何让“mnop”回来？我错过了什么？

甚至[C#：如何安全地将字节数组转换为字符串并返回？](https://stackoverflow.com/questions/1134671/c-how-can-i-safely-convert-a-byte-array-into-a-string-and-back)给出的答案是**U3lzdGVtLkJ5dGVbXQ==**

谢谢。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-21T06:58:51.927

您不能将原始字节作为查询字符串发送。改用[Base64](http://en.wikipedia.org/wiki/Base64)编码：

```
byte[] byt = System.Text.Encoding.UTF8.GetBytes(TextBox1.Text);
string encoded = HttpUtility.UrlEncode(Convert.ToBase64String(byt));
Response.Redirect("Page2.aspx?BytArray=" + encoded, false); 
```

然后将其取回：

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {           
        byte[] byteArray = Convert.FromBase64String(Request.QueryString["BytArray"]);
        string value = System.Text.Encoding.UTF8.GetString(byteArray);
    }
} 
```

但是当您可以直接发送文本框的字符串值（当然是在 url 编码之后）时，我真的看不出转换为字节数组的整个练习的意义。*如果这是对用户隐藏*真实价值的某种形式，我希望您清楚 Base64 不是加密，而是编码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T07:00:27.823

原始请求没有将其转换`byt`为字符串 - 它只是将其用作字节。所以这一行：

```
Response.Redirect("Page2.aspx?BytArray=" + byt,false); 
```

实际上是去这个网址：

```
Page2.aspx?BytArray=System.Byte[] 
```

您需要将该行更改为：

```
Response.Redirect("Page2.aspx?BytArray=" + HttpUtility.UrlEncode(System.Convert.ToBase64String(byt)), false); 
```

然后在回来的路上替换所有这些：

```
var byteArray = System.Text.Encoding.UTF8.GetBytes(Request.QueryString["BytArray"]);

var x1 = System.Convert.ToBase64String(byteArray, 0, byteArray.Length);

var x2 = Encoding.UTF8.GetString(byteArray); 
```

就这样：

```
var byteArray = Convert.FromBase64String(Request.QueryString["BytArray"]);

var x2 = Encoding.UTF8.GetString(byteArray); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T07:02:36.060

你不能。第一页的代码发送的不是字节数组的值，而是数据类型。`Request.QueryString["BytArray"]`return `System.Byte[]`，因此无法取回原始字节数组的内容。

如果不对它们进行进一步编码，就不能在 URL 中将字节作为数据发送。例如，您可以使用 base64：

```
byte[] byt = System.Text.Encoding.UTF8.GetBytes(TextBox1.Text);
Response.Redirect("Page2.aspx?BytArray=" + Server.UrlEncode(Convert.ToBase64String(byt)), false); 
```

现在 URL 包含实际字节，因此可以获取它们：

```
byte[] byteArray = Convert.FromBase64String(Request.QueryString["BytArray"]);
string x = System.Text.Encoding.UTF8.GetString(byteArray); 
```

# c# - 使用 (Func<>) 在我的视图模型中获取错误回调

> ID：10680675
> 
> 赞同：1
> 
> 时间：2012-05-21T06:54:31.067
> 
> 标签：c#, windows-phone-7, silverlight-4.0, delegates

在我的 Windows Phone 应用程序中，我使用单例类来发送和接收 Web 请求和响应。因此，在我当前的实现中，我将与委托`viewmodel`一起调用 Web 请求。`Action<>`用于检索错误回调，它对我来说工作正常。我的问题是，当我快速应用程序切换应用程序时，Web 请求取消并返回 Web 错误。我需要在我的视图模型中获取此 Web 异常。如何使用`Func<>`委托获得此响应？请任何人帮我解决这个问题。

```
// viewmodel code
private void Login()
{
    LoginContoller.Instance.Login(userName, password, ErrorCallbackCompleted);
}
//callback
private void ErrorCallbackCompleted()
{

}

// code inside singleton class
public static Action ErrorCallbackResponse;

public void Login (string userName, string password, Action errorCallback)
{
    ErrorCallbackResponse = errorCallback;
}

// This method will be invoked from the error callback of web request class
public void GetErrorCallBack(Exception ex) 
{
    ErrorCallbackResponse();
    //I need to pass this ex object to  my viewmodel using Func<>
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T07:10:27.093

```
// viewmodel code
  private void Login()
  {
       LoginContoller.Instance.Login(userName, password, ErrorCallbackCompleted);
  }

 //callback
 public void ErrorCallbackCompleted(Exception exception)
 {
 }

// code inside singleton class

  public static Action<Exception> ErrorCallbackResponse;

public void Login (string userName, string password, Action<Exception> errorCallback)
{
   ErrorCallbackResponse = errorCallback;
}

public void GetErrorCallBack(Exception ex) // This method will be invoked from the error callback of web request class
{
    ErrorCallbackResponse(ex);
} 
```

# php - 如何从 textarea 的值中删除下划线？

> ID：10680678
> 
> 赞同：9
> 
> 时间：2012-05-21T06:54:36.933
> 
> 标签：php, mysql, codeigniter

我从 textare 获取值，如双引号所示

```
"Hi_i_am_working_on_javascript_comment_box" 
```

如何从中删除下划线值...

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-05-21T06:56:56.277

使用[`str_replace()`](http://www.php.net/manual/en/function.str-replace.php)例如。像那样（[见这里的证明](http://ideone.com/HS3HB)）：

```
$input = 'Hi_i_am_working_on_javascript_comment_box';

$output = str_replace('_', ' ', $input); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-05-21T06:56:25.410

`str_replace`与 php 一起使用：

```
$string=str_replace("_"," ",$string); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-21T06:56:47.853

在 sql

```
replace('Hi_i_am_working_on_javascript_comment_box', '_', ' ') 
```

# javafx-2 - 如何制作JavaFX 2.0 项目的可执行文件？

> ID：10680679
> 
> 赞同：18
> 
> 时间：2012-05-21T06:54:51.740
> 
> 标签：javafx-2, executable-jar

我想制作我在 JavaFX 2.0 中制作的项目的可执行文件。谁能帮我这个？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-05-21T16:52:30.400

JavaFX 团队在与 JavaFX 2.2 SDK 捆绑的工具中实现了对此的支持（从更新 6 开始包含在 Java7 中）。用于打包可执行文件的 JavaFX 打包工具集记录在 JavaFX 部署指南的[自包含应用程序](http://docs.oracle.com/javafx/2/deployment/self-contained-packaging.htm)部分中。

有关更多信息，请参阅[RT-19446](http://javafx-jira.kenai.com/browse/RT-19446) “添加将 Java + JavaFX + 应用程序共同捆绑到单个本机可执行文件中的能力”（任何人都可以注册以查看 jira）。

3rd 方工具，例如[JavaFX maven 插件](https://github.com/zonski/javafx-maven-plugin)或[JavaFX gradle 插件](https://bintray.com/shemnon/javafx-gradle/gradle-javafx-plugin#read)，简化了使用通用构建系统构建本机 JavaFX 可执行文件的集成。

JavaFX 打包工具还可用于本地打包任何 Java 应用程序，而不仅仅是 JavaFX 应用程序。例如，一个 Swing 应用程序，正如[在 OS X 上使用 JavaFX 打包 Swing 应用程序的 shell 脚本](https://gist.github.com/jewelsea/5018976)所演示的那样。

如果您想为 JavaFX 的 2.0 或 2.1 版本（不是 JavaFX 2.2+）进行打包，那么您应该查看将[JavaFX 应用程序打包为本地安装程序](http://fxexperience.com/2012/03/packaging-javafx-applications-as-native/)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-05T10:48:47.367

Javafx 2+ 现在可以很容易地打包为本机 exe（带有附加的有效负载，即当前的 JRE），最新的（如 2012 年底）文章在这里：[http ://docs.oracle.com/ javafx/2/deployment/self-contained-packaging.htm](http://docs.oracle.com/javafx/2/deployment/self-contained-packaging.htm)

出于好奇，我在画布和 hello world 示例中在 Windows 上创建了一个可执行文件（将 netbeans 构建代码复制粘贴到 netbeans 的 build.xml 中）：应用程序大约 20k，可执行文件/启动器大约 80k，并且添加了运行时是138mb。

顺便说一句，如果您安装了较旧的 netbeans（安装了 1.7jdk 之前的版本），您可能必须更新它或编辑其 netbeans.conf 以修复“netbeans_jdkhome”路径，否则捆绑的可执行文件的打包可能会失败。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-05-21T07:03:11.483

有多种工具可以为您的 Java 应用程序生成自定义的 exe 启动器。

我对 Winrun4J 有很好的经验：[http ://winrun4j.sourceforge.net/](http://winrun4j.sourceforge.net/)

但是即使您有一个包含所有代码的 .exe，您也总是需要安装 Java/JavaFX 运行时。

# c - 强制套接字函数创建一个旧的 id

> ID：10680680
> 
> 赞同：1
> 
> 时间：2012-05-21T06:55:04.443
> 
> 标签：c, sockets, network-programming

我想知道是否有任何方法可以创建一个已创建但已关闭的套接字 ID。我们使用以下代码行来创建一个套接字。

```
sock = socket(AF_INET, SOCK_STREAM, 0); 
```

假设此调用返回 id 为 3，并且此套接字在程序执行过程中关闭。无论如何，我是否可以创建一个具有相同 ID 3 的套接字？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:44:45.830

不，您无法控制将生成哪些 ID。以这样的假设编写代码具有经常失败的危险可能性。它的设计也很糟糕。

不依赖于套接字句柄，定义您自己的结构/ID 来识别连接。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T07:08:45.207

`open()`您对调用or等​​返回的文件描述符的唯一控制`socket()`是使用的文件描述符是尚未使用的最小正整数。那只是在unix中。不能为 Windows 说话。

如果您需要让代码使用新连接代替旧连接，最好的办法是添加一个间接层 - 例如，创建一个套接字描述符数组，并将连接作为该数组的索引引用，而不是传递描述符本身。

# scala - 似乎是加法的地图成员的排序是否可靠？

> ID：10680684
> 
> 赞同：2
> 
> 时间：2012-05-21T06:55:11.447
> 
> 标签：scala, map

当我通过标准调用`Map()`或通过连接以这种方式创建的现有地图来创建不可变地图时，在我的所有测试中，我发现遍历其成员会按添加顺序提供它们。这正是我需要对它们进行排序的方式，但文档中没有关于地图成员排序的可靠性的文字。

所以我想知道期望标准 Map 按添加顺序返回其项目是否安全，或者我应该寻找其他一些实现以及在这种情况下哪些实现。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-21T07:01:28.200

我认为这不安全，从 5 个元素（Scala 2.9.1）开始不保留顺序：

```
scala> Map(1 -> 1, 2 -> 2, 3 -> 3, 4 -> 4, 5 -> 5)
res9: scala.collection.immutable.Map[Int,Int] = 
  Map(5 -> 5, 1 -> 1, 2 -> 2, 3 -> 3, 4 -> 4) 
```

对于更大的地图，顺序是完全“随机的”，试试`Map((1 to 100) zip (1 to 100): _*)`.

尝试[`LinkedHashMap`](http://www.scala-lang.org/api/current/scala/collection/mutable/LinkedHashMap.html)排序条目并[`TreeMap`](http://www.scala-lang.org/api/current/scala/collection/immutable/TreeMap.html)实现排序条目。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T09:03:39.903

挖掘后，我发现存在一个不可变的行为，它的`ListMap`行为完全符合我的要求，但根据[这张表](http://www.scala-lang.org/docu/files/collections-api/collections_40.html)，它的性能非常糟糕。所以我编写了一个自定义的不可变实现，它应该在除删除之外的所有操作上有效执行，它线性执行。它确实需要更多的内存，因为它由标准`Map`和 a支持`Queue`，它本身使用了`List`两次，但在当前时代这不是问题，对吧。

```
import collection.immutable.Queue

object OrderedMap {
  def apply[A, B](elems: (A, B)*) =
    new OrderedMap(Map(elems: _*), Queue(elems: _*))
}
class OrderedMap[A, B](
  map: Map[A, B] = Map[A, B](),
  protected val queue: Queue[(A, B)] = Queue()
) extends Map[A, B] {
  def get(key: A) =
    map.get(key)
  def iterator =
    queue.iterator
  def +[B1 >: B](kv: (A, B1)) =
    new OrderedMap(
      map + kv,
      queue enqueue kv
    )
  def -(key: A) =
    new OrderedMap(
      map - key,
      queue filter (_._1 != key)
    )
  override def hashCode() =
    queue.hashCode
  override def equals(that: Any) =
    that match {
      case that: OrderedMap[A, B] =>
        queue.equals(that.queue)
      case _ =>
        super.equals(that)
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T07:14:37.067

没有关于订单的承诺`Map`。有一个`OrderedMap`in scalas 集合包。该包中的值按隐式排序`Ordering`。作为快速修复，我建议您使用键列表来排序您的地图。

```
var keyOrdering = List[Int]()
var unorderedMap = Map[Int, String]()

unorderedMap += (1 -> "one")
keyOrdering :+= 1 
```

**编辑**

您可以实现自己的`Ordering`并将其传递给 a `SortedMap`。

**编辑#2**

一个简单的例子如下：

```
scala> import scala.collection.SortedMap
import scala.collection.SortedMap

scala> implicit object IntOrdering extends Ordering[Int]
     | def compare(a: Int, b: Int) = b - a
     | }
defined module IntOrdering

scala> var sm = SortedMap[Int, String]()
sm: scala.collection.SortedMap[Int,String] = Map()

scala> sm += (1 -> "one")

scala> sm += (2 -> "two")

scala> println(sm)
Map(2 -> two, 1 -> one) 
```

隐式 Ordering 应用于键，因此`IntOrdering`可能应用于`SortedMap[Int, Any]`.

**编辑#3**

像我的评论中这样的自排序 DataType 可能看起来像这样：

```
case class DataType[T](t: T, index: Int)
object DataType{
  private var index = -1
  def apply[T](t: T) = { index += 1 ; new DataType[T](t, index)
} 
```

现在我们需要更改排序：

```
implicit object DataTypeOrdering extends Ordering[DataType[_]] {
  def compare(a: DataType[_], b: DataType[_]) = a.index - b.index
} 
```

我希望这是您期望我回答的方式。

# php - 在php中创建动态数组

> ID：10680688
> 
> 赞同：1
> 
> 时间：2012-05-21T06:55:39.263
> 
> 标签：php, arrays, variables, dynamic

我在文本文件中有以下记录，需要从文本文件中提取该记录并将它们视为单独的数组变量

`r1=(1,2,3)|r2=(4,5,6)|r3=(1,2,3,4,5,7)|rn=(9,6,7,8)`用管道（|）分隔

我需要将其表示为数组单独使用，如下所示

```
$r1= Array
(
[0] => 1
[1] => 2
[2] => 3
)

$r2=Array
(
[0] => 4
[1] => 5
[2] => 6
) 
```

我不知道该怎么做，在php中可以吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:06:17.927

只是一个简单的正则表达式来分解字符串，然后对每个组进行分解：

```
if (preg_match_all('#(\w+)=\(([\d,]*)\)#', $s, $matches)) {
    foreach ($matches[2] as $i => $groups) {
        $group_name = $matches[1][$i];
        $$group_name = array_map('intval', explode(',', $groups));
    }
}

print_r($r1);
print_r($r3);
print_r($rn); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:01:29.947

```
$data = "r1=(1,2,3)|r2=(4,5,6)|r3=(1,2,3,4,5,7)|rn=(9,6,7,8)";

$arr = explode("|", $data);

$finArray = array();

foreach($arr as $key=>$value)
{
    $single = explode('(', $value);
    $finArray[] = explode(',', str_replace(')', '', $single[1]));
}

print_r($finArray); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T07:02:10.117

您可以使用评估

```
//Assuming  you can pull the content from text file using fread

$temp = "r1=(1,2,3)|r2=(4,5,6)";
$temp=str_replace("=","=array",$temp);
$split=explode("|",$temp);
echo "<pre>";
foreach($split as $k=>$v){
      $v="$".$v.";";
      //Evaluate a string as PHP code .i.e You will get r1,r2 as a variable now which is array
      eval($v);
}

print_r($r1);
print_r($r2); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T07:03:16.060

此代码将帮助您：-

```
 <?php
    $file = "/tmp/file1.txt"; // this is your file path
    $f = fopen($file, "r");
    while ( $line = fgets($f, 1000) ) {
    print $line;

    $a=explode('|',$line);
    print_r($a);  // I have explode based on | for you...

foreach($a as $key=>$value)
{
    print_r($value);
} 
```

fclose($文件); } ?>

““或者””

```
$a="r1=(1,2,3)|r2=(4,5,6)|r3=(1,2,3,4,5,7)|rn=(9,6,7,8)";

$a=explode('|',$a);
print_r($a); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-21T07:03:39.710

可以这样做：

```
$string="r1=(1,2,3)|r2=(4,5,6)|r3=(1,2,3,4,5,7)|rn=(9,6,7,8)";
$string=str_repla("r1=","",$string);
$yourArray=explode('|', $string); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-05-21T07:34:19.853

```
 <?php
$file = "file.txt";
$f = fopen($file, "r");
while ( $line = fgets($f, 1000) ) {
$str = $line;
}
$str1 = explode("|",$str);
foreach($str1 as $temp) {
    $str2 = explode("=",$temp);
    $data[$str2[0]] = explode(",",trim($str2[1],"()"));
}
echo '<pre>';
print_r($data);
echo '</pre>';
?> 
```

这将完成你的工作。

# c++ - 为什么在 boost python 矢量索引套件中需要比较运算符？

> ID：10680691
> 
> 赞同：6
> 
> 时间：2012-05-21T06:56:06.590
> 
> 标签：c++, boost, boost-python, comparison-operators

我想公开 C++ 代码

```
std::vector<A> 
```

到蟒蛇。我的

```
class A{}; 
```

没有实现比较运算符。当我尝试

```
BOOST_PYTHON_MODULE(libmyvec)
{
  using namespace boost::python;
  class_<A>("A");
  class_<std::vector<A> >("Avec")
    .def(boost::python::vector_indexing_suite<std::vector<A> >());
} 
```

我收到有关比较运算符的错误。如果我将 A 的定义更改为

```
class A {
public:
  bool operator==(const A& other) {return false;}
  bool operator!=(const A& other) {return true;}
}; 
```

它就像一个魅力。

为什么我需要实现这些比较运算符？`vector_indexing_suite`没有它们有什么方法可以使用吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-21T09:09:43.097

`vector_indexing_suite`实现一个`__contains__`成员函数，它需要一个相等运算符的存在。因此，您的类型必须提供这样的运算符。

Boost.Python 的沙盒版本通过使用特征来确定容器上可用的操作类型来解决此问题。例如，`find`仅当值相等可比较时才会提供。

默认情况下，Boost.Python 将所有值视为相等可比和小于可比。由于您的类型不满足这些要求，因此您需要专门化特征以指定它支持的操作：

```
namespace indexing {
  template<>
  struct value_traits<A> : public value_traits<int>
  {
    static bool const equality_comparable = false;
    static bool const lessthan_comparable = false;
  };
} 
```

这[在此处](http://boost-sandbox.sourceforge.net/python/indexing/containers.html#ValueTraits)记录。

# c++ - C++，使用 ifstream 读取文件

> ID：10680698
> 
> 赞同：6
> 
> 时间：2012-05-21T06:56:51.197
> 
> 标签：c++, ifstream

```
class Person {
private:
    string firstName;
    string lastName;
public:
    Person() {}

    Person(ifstream &fin) {
       fin >> firstName >> lastName;
    }

    void print() {
       cout << firstName
           << " "
           << lastName
           << endl;
    }
};

int main() {
    vector<Person> v;
    ifstream fin("people.txt");

    while (true) {
        Person p(fin);
        if (fin == NULL) { break; }
        v.push_back(p);
    }

    for (size_t i = 0; i < v.size(); i++) {
       v[i].print();
    }

    fin.close();
    return 0;
} 
```

请你能解释一下，下面的代码片段是如何工作的？if (fin == NULL) { 休息; }

fin 是堆栈上的对象，而不是指针，因此它不能变为 NULL。我无法在 ifstream 类中找到重载的 operator== 函数。所以我不明白这个片段是如何工作的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-21T07:01:47.197

该类`ifstream`有一个[`operator void *()`（或`operator bool()`在 C++11 中）](http://en.cppreference.com/w/cpp/io/basic_ios/operator_bool)。这就是你测试时所说的`(fin == NULL)`。

测试`fin == NULL`应该与测试完全相同`fin.fail()`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-21T08:29:08.307

`istream`和的基类`ostream`具有隐式转换函数，可以将它们用作布尔值；在 C++11 之前的版本中，隐式转换为`void*`.

从未打算将此转换的结果用作指针，并且类似代码`fin == NULL`显示对 C++ 和标准流的理解极差。编写第一个循环的惯用方式是定义一个默认构造函数和一个 `operator>>`for `Person`，然后编写：

```
Person p;
while ( fin >> p ) {
    v.push_back( p );
} 
```

（当我这样做时：你真的应该测试 的返回值 ，如果失败`fin.close()`则不返回：`0`

```
fin.close();
return fin ? EXIT_SUCCESS : EXIT_FAILURE; 
```

.)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-21T08:33:52.340

这不是应该使用流的方式。没错，这（不幸的是！）编译甚至做了“正确”的事情。但是不要写这样的代码。编写此代码的人可能认为他们很聪明。

但他们真正做的是通过引入一个新的、非常规的 API 来打破 C++ 程序员的期望，但没有真正的优势。

`Person`此代码从输入流初始化类型对象。不幸的是，这样做，代码放弃了在读取对象时测试错误的机会。这不好。一个对象不应该*有*一个接受输入流的构造函数，它应该重载`operator>>`。

# c - 如何使用基于 TCP 的 HTTP 下载图像？

> ID：10680702
> 
> 赞同：0
> 
> 时间：2012-05-21T06:57:09.417
> 
> 标签：c, http, tcp

我有一些图像要使用 HTTP 下载。我得到了这些图像的 URL，如何构建基于 TCP 的 HTTP 缓冲区来下载图像？

我目前的平台没有库，这个平台唯一支持的语言是 C，所以我必须为这些资源构建 HTTP 缓冲区。

目前我已经构建了正常的API请求，它们都是HTTP请求，每个请求都有0个或多个参数。但是图片请求只有一个 URL，比如**http://some-image.jpg**，看起来只是一个**下载**作业，没有 API 参数，没有授权，很简单，但是如何构造 TCP 请求呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T07:09:11.643

您必须实现 HTTP 协议或其子集。有开源实现。例如：

[https://github.com/bagder/curl/tree/master/lib](https://github.com/bagder/curl/tree/master/lib)

[https://github.com/joshthecoder/libhttp](https://github.com/joshthecoder/libhttp)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T08:30:46.343

> 如何构建基于 TCP 的 HTTP 缓冲区来下载图像？

别再想TCP了。它有自己的缓冲区，与 HTTP 级别发生的事情无关。

您真的不想实现自己的 HTTP 堆栈 - 这不是微不足道的。已经有几个写得很好的 - 我建议使用[libcurl](http://curl.haxx.se/libcurl/)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-25T02:03:13.840

根据[http://www.jmarshall.com/easy/http/#sample](http://www.jmarshall.com/easy/http/#sample)，我像这样构建我的 TCP 请求：

```
sprintf(tcp_send_buf, "GET %s HTTP/1.1\r\nHost: %s\r\n\r\n", img_path, img_host);

/* I wrapped TCP APIs for convenient, hope you understand it... */
set_host_and_port(img_host, 80);
tcp_send(tcp_send_buf, strlen(tcp_send_buf), recv_callback); 
```

在我的 上`recv_callback`，我得到了这样的服务器响应：

```
HTTP/1.1 200 OK
Content-Length: 42299
Content-Type: image/jpeg
Last-Modified: Mon, 02 Jul 2007 07:58:47 GMT
Accept-Ranges: bytes
ETag: "e2c8b5d17ebcc71:15d5"
Server: Microsoft-IIS/6.0
X-Powered-By: ASP.NET
Date: Fri, 25 May 2012 01:33:57 GMT

<binary image data> 
```

我从 Chrome 下载了图像，它的大小与 相同`Content-Length: 42299`，我想我得到了图像缓冲区。

# git - git 可以告诉我何时从原点提取回购

> ID：10680703
> 
> 赞同：2
> 
> 时间：2012-05-21T06:57:10.930
> 
> 标签：git, git-pull, git-log

我试图通过查看 git 日志来准确了解网站的某些部分何时上线。

我的设置是这样的：
-我有一个本地 git 存储库，我在其中进行开发、测试和提交更改
-我将更改推送到服务器上的存储库
-当我对更改感到满意时，我将它们拉入第二个存储库使更改生效的同一台服务器。

所以我做出改变`git commit`，，，`git push`。然后 ssh 进入 Web 服务器并`git pull`进行部署。

使用`git log`I can see when I made which commits 但我不知道如何判断我何时执行`git pull`. 这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T08:38:01.983

拉动应该出现在 reflog 中，我认为：`git reflog --format=fuller`

# c# - 将 Outlook PST 文件转换为 XML

> ID：10680707
> 
> 赞同：1
> 
> 时间：2012-05-21T06:57:37.920
> 
> 标签：c#, vb.net

我的最终目标是在不需要安装 Office 的情况下从 Outlook PST 文件中提取 Outlook 约会，但是因为如果没有像“Independentsoft”这样的第 3 方 Com 控件，这是一件非常困难的事情。我想将 PST 文件解析为 XML，稍后我将从中提取约会。

# iphone - 我得到空值，每当我使用“MPMediaItemCollection”将“MPMediaItemPropertyAssetURL”转换为数据时？

> ID：10680709
> 
> 赞同：1
> 
> 时间：2012-05-21T06:57:46.933
> 
> 标签：iphone, objective-c, mpmediaitem

每当我使用`MPMediaItemCollection`转换`MPMediaItemPropertyAssetURL`为数据时，我都会得到空值？

这是我的代码

```
MPMediaItemCollection *collection=[allAlbumsArray objectAtIndex:indexPath.row];
MPMediaItem *item = [collection representativeItem];

NSLog(@" songs titles_str url is===>%@",[item valueForProperty:MPMediaItemPropertyAssetURL]);

NSLog(@"class type is %@",[[item valueForProperty:MPMediaItemPropertyAssetURL] class]);

self.songData=[NSData dataWithContentsOfURL:[item valueForProperty:MPMediaItemPropertyAssetURL]];

NSLog(@"original data is %@",self.songData); 
```

在这里，我正在获取歌曲的网址`ipod-library://item/item.mp3?id=-9207595762773025867`

但是当我转换成数据时，我得到空值感谢提前。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:33:29.393

这里的问题是 URL 有一个自定义方案，`ipod-library`它只能与`AVFoundation`方法一起使用，例如`AVAsset`对象。

MPMediaItem[类参考](http://developer.apple.com/library/ios/#documentation/mediaplayer/reference/MPMediaItem_ClassReference/Reference/Reference.html)说明了这一点`MPMediaItemPropertyAssetURL`：

> MPMediaItemPropertyAssetURL
> 
> 指向媒体项目的 URL，可以从中创建 AVAsset 对象（或其他基于 URL 的 AV Foundation 对象），并根据需要使用任何选项。值是一个 NSURL 对象。
> 
> 该 URL 具有 ipod-library 的自定义方案。例如，一个 URL 可能如下所示：
> 
> ipod-library://item/item.m4a?id=12345
> 
> **不支持在 AV Foundation 框架之外使用 URL。**

# c# - onclick div颜色应该改变

> ID：10680720
> 
> 赞同：0
> 
> 时间：2012-05-21T06:58:46.453
> 
> 标签：c#, javascript, asp.net

我有几个盒子（超过 100 个）将动态创建

```
<div id="window5"></div>
<div id="window18"></div>
<div id="window190"></div> 
```

现在如果我点击一个框颜色应该是红色，然后如果我点击另一个框颜色应该变成红色（第一个框颜色应该正常）。我使用了一些这样的代码，但它不是参加 CSS 课程。

我怎样才能得到这个案例的动态 id。

css 文件：

.selected{ 颜色：红色；}

使用 javascript 代码作为；

```
 <script type="text/javascript">

        $(document).ready(function () {

            $("div[id *= 'window']").click(function (e) {

                $(".selected").removeClass("selected");
                $(this).addClass("selected");
                e.stopPropagation();
            });
            $(document).click(function () {
                $(".selected").removeClass("selected");
            });
        });

    </script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:01:50.727

那是因为它们是生成的。您必须使用该`.on`语句。

```
 $("div[id *= 'window']").on('click', function (e) { 
```

如果您使用的 jQuery 版本早于 1.7，请`.live()`改用：

```
 $("div[id *= 'window']").live('click', function (e) { 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:05:50.593

您将不得不使用 jquery 的 .live 或 .on 因为您动态生成 div。

要更改 div 的背景颜色，您必须在 css 中使用“背景颜色”而不是“颜色”。

[http://jsfiddle.net/fFcua/](http://jsfiddle.net/fFcua/)

# python - zipimport.ZipImportError：无法从使用 py2exe 制作的程序中找到模块

> ID：10680724
> 
> 赞同：1
> 
> 时间：2012-05-21T06:59:20.697
> 
> 标签：python, py2exe

我有一个我写的python程序，我正在尝试用py2exe“编译”，一切顺利并创建了可执行文件。我第一次运行该程序时出现此错误：

Traceback（最近一次调用最后一次）：文件“IMGui.py”，第 13 行，在 ImportError：没有名为 IMCrypt2 的模块

我发现如果我手动将我的自定义模块添加到 /lib/shared.zip 并再次运行该程序，我会收到此错误：

回溯（最后一次调用）：文件“IMGui.py”，第 13 行，在 zipimport.ZipImportError：找不到模块“IMCrypt2”

我一直在做一些广泛的谷歌搜索，我在网上找到的 2 个解决方案是删除 'dist' 和 'build' 文件夹并再试一次，并在我的选项中添加“includes”：“decimal”，但两者都没有这些解决方案对我有用 D=

我正在使用python 2.5（我使用的是新版本，但是用这些构建给了我其他奇怪的运行时错误，而我在Windows 7上成功构建的版本只能在Windows 7上运行，所以我再次尝试使用Python 2.5在 Windows XP 上试图获得更“通用”的 Windows 可执行文件）

我完全被难住了！任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-23T08:52:51.470

我解决了我自己的问题（有点），我能够避免这个错误并通过将我的所有模块合并到一个文件中成功地“编译”我的代码，因此没有导入自定义模块。它导致了一些超级混乱的代码，但它有效！

# javascript - Jquery 和 Ajax 的区别

> ID：10680727
> 
> 赞同：-7
> 
> 时间：2012-05-21T06:59:35.390
> 
> 标签：javascript, ajax, jquery

有人请列出 Jquery 和 Ajax 之间的区别吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-05-21T07:01:51.163

[jQuery](http://jquery.com/)是一个帮助完成数百件事情的库，其中最重要的是“Ajax”。Ajax，最初的意思是“异步 JavaScript 和 XML”，无非就是将数据从客户端异步传输到服务器。jQuery 使执行这些异步操作*变得更加容易。*

```
$.post( "/foo", { name: 'Jonathan' }, function( response ) {
    alert( response );
}); 
```

在上面的示例中，我可以使用 jQuery（由 表示`$`）将数据发布到`/foo`我服务器上的目录中。然后我将服务器的响应处理为`response`，当收到该响应时，我会向用户发出警报。

这个例子符合*Ajax*的要求，尽管 jQuery 在成员中确实有一个更通用的权力存储库`$.ajax`。

进一步阅读：[http ://api.jquery.com/category/ajax/](http://api.jquery.com/category/ajax/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-21T07:02:26.867

[jQuery](http://jquery.com)是一个 JavaScript 库，提供了一系列用于处理浏览器环境的实用函数。

[Ajax](http://en.wikipedia.org/wiki/Ajax_%28programming%29)是一种从网页与服务器交互并在不刷新页面的情况下更新页面的方法。

问他们之间的区别是什么，就像问船和打结之间有什么区别。可能有一种模糊的关系（在船上，你倾向于打结），但就是这样......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T07:01:43.560

jQuery 是一个 JavaScript 框架。Ajax 是“异步 JavaScript 和 XML”，它可以使用 jQuery 轻松执行，允许 javascript 在不刷新网站的情况下发出 Web 服务器请求。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T07:04:18.430

> [**AJAX**](http://en.wikipedia.org/wiki/Ajax_(programming))是一种从网页到服务器[**执行XMLHttpRequest （带外 Http 请求）并发送/检索要在网页上使用的数据的技术。**](http://en.wikipedia.org/wiki/XMLHttpRequest)AJAX 代表异步 Javascript 和 XML。它使用 javascript 来构造 XMLHttpRequest，通常在各种浏览器上使用不同的技术。
> 
> [**jQuery**](http://en.wikipedia.org/wiki/Jquery) ( [**website**](http://jquery.com) ) 是一个 javascript 框架，它通过构建许多可用于搜索和与 DOM 交互的高级功能来更轻松地使用 DOM。jQuery 的部分功能实现了执行 AJAX 请求的高级接口。jQuery 抽象地实现了这个接口，使开发人员在发出请求时免受多浏览器支持的复杂性。

**同样的问题**：**[ajax和jquery有什么区别，哪个更好？](https://stackoverflow.com/questions/931908/what-is-the-difference-between-ajax-and-jquery-and-which-one-is-better)**

希望这可以帮助。

# serial-port - 在 Labview 中模拟输入

> ID：10680730
> 
> 赞同：2
> 
> 时间：2012-05-21T06:59:56.810
> 
> 标签：serial-port, simulation, labview

我正在尝试编写一个 Labview 程序，该程序从串行端口 RS-232 上的热传感器获取输入，对其应用一些基本转换，并将其显示在屏幕上。

我想知道是否有可能以某种方式在labview中模拟传感器，或者通过使用一些外部模拟器应用程序，这样我就可以在访问实际硬件之前测试我的程序。

这可能吗？

我有 Labview 2011。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T08:26:44.737

测试 VI 逻辑的最快方法是制作一个包含示例数据的 CSV 文件，并将从传感器读取的部分临时替换为以相同速率从 CSV 文件中读取数据值的部分。

尝试在较低级别模拟串行端口输入可能不值得，因为 Labview 通常非常可靠地将数据从硬件获取到您的 VI - 这取决于您如何使用它！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T08:29:27.593

您可以让另一个程序模拟传感器并写入不同的 COM 端口。然后，您可以使用零调制解调器电缆连接这些 COM 端口。

为此，您必须弄清楚传感器的工作原理，并将适当格式的数据输入第二个 COM 端口。这些数据最终会被第一个 COM 端口接收，并最终被您的待开发应用程序接收。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-22T09:19:29.443

如果您将所有通信代码封装在一个子VI或一组子VI中，与执行转换和显示部分的代码分开，您可以轻松地将测试代码和测试数据替换为真实的传感器数据。您可以编写一个生成测试数据的子VI，稍后将其替换为真实的传感器通信子VI，或者您可以在子VI中使用案例结构来选择与真实传感器进行通信和仅输出测试数据（正如Moray建议的那样，您可以从文件中读取，以便轻松更改它）。

我建议您编写单独的子 VI 来打开与传感器的通信，从中获取数据点，并在完成后关闭通信端口（尽管您可能只使用串行或 VISA 关闭功能）。使用通信端口（又名 VISA 会话）和错误线将这些 VI 链接在一起。'open' VI 可以接受一个指定是否使用真实/模拟数据的输入，并将该选择存储在全局变量（或功能性全局 VI）中，'get data' VI 每次调用时都会检查该变量。

glglgl 建议从另一个串口发送模拟数据也不错；您在这里需要做的就是在某种循环中使用串行发送和接收功能，在接收命令和发回输出方面做与真实传感器相同的事情。这样做的好处是您不需要对主程序进行任何更改，无论它是连接到真实传感器还是模拟程序，它的工作方式都应该完全相同。然而，现实世界中的串行通信问题通常是由于仪器或设备没有完全按照他们的规格要求做的，所以仅仅因为你的程序与你的模拟完美配合并不能保证它会与你的模拟完美配合。真正的传感器，如果真正的传感器做了你没想到的事情:-)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-30T10:11:19.700

尽管其他答案提供了一些非常棒的想法，但我找到了一种更简单的方法来模拟传感器输入，这对初学者来说很方便。

1.  使用虚拟端口模拟器在您的计算机上创建虚拟串行端口。[http://www.eltima.com/products/vspdxp/](http://www.eltima.com/products/vspdxp/)
2.  获取 Modbus 模拟器。[http://www.plcsimulator.org/](http://www.plcsimulator.org/)
3.  下载 Labview Modbus 库。[http://zone.ni.com/devzone/cda/epd/p/id/4756](http://zone.ni.com/devzone/cda/epd/p/id/4756)

打开 Labview Modbus 库并运行“MB Serial Master Example.vi”

现在应该可以使用示例程序将值读/写到模拟器中。

可以分析示例程序的框图，以了解数据是如何在 Modbus 协议的幕后传输的。

# jquery - fancybox 没有在 safari 中关闭 - rangerror

> ID：10680732
> 
> 赞同：0
> 
> 时间：2012-05-21T07:00:07.467
> 
> 标签：jquery, fancybox

```
$(".editsingle").live('click', function() {
        var editdata_class=$(this).attr('class');
         var editdata_id=$(this).attr('id');
          var editdata_content=$('#'+editdata_id+'>span').html();
           //alert(editdata_content);
           $.fancybox({
             'width': 400,
             'height': 230,
             'type': 'iframe',
             href:'editdata.php?class_data='+editdata_class+'&id_data='+editdata_id+'&content_data='+encodeURIComponent(editdata_content),
                onCleanup: function() {
                     var bla =$("#fancybox-frame").contents().find('#content_para').val();
                       bla=$.text(bla).html();
                        if ($.trim(bla)!=""){
                           // bla=decodeURIComponent(bla);
                        $('#'+editdata_id+'>span').html(bla);
                        }

                }

               })

         });

 $("div#submit_save,#submit_save,").click({
       parent.$.fancybox.close();

  }); 

   <div id="personalsizeleft" class="personalsizeleft" >

       <div>Please enter the client name.</div>

      <div class="errrmsg" style="float:left;"></div>
    <div class="rounded-corners-insidefb">
     <div class="arial bold px15 drkgrey">
                    <input type="text" name="content_para" id="content_para" value="Click here to enter client name." >
               </div>
      <div style="float: left;margin:0px 10px 10px 112px;">
       <a href="javascript:void(0);" id="submit_save" style="text-decoration:none;"><input id="submit_save" type="button" value="Submit"></a>
       </div>
        </div>
        </div> 
```

由于某种原因 thsi 在 ff3 / chrome 中运行良好，即

但是，当涉及到 safari 时，它给了我一个 RangeError：超出了最大调用堆栈大小。

这发生在 parent.$.fancybox.close(); 或者如果按fancybox关闭....

有任何想法吗 ？

# database - 数据库设计结构 | 产品与产品儿童

> ID：10680735
> 
> 赞同：0
> 
> 时间：2012-05-21T07:00:33.597
> 
> 标签：database, database-design, mysql

设计一个可以用 HTML (+PHP) 表单填充的 mysql 表的最佳方法是什么。

实际上我有这个结构：

桌子`PRODUCT`

```
ID | Ordernumber | Name | Desc | Price 
```

桌子`PRODUCT_KIDS`

```
ID | MasterProductID | Ordernumber | Price 
```

我的 2 张桌子之间的唯一区别是`Name`和`Desc`。

`ADD`HTML 表单如下所示：

数据用于`PRODUCT`

```
Ordernumber
Name
Desc
Price 
```

数据用于`PRODUCT_KIDS`

```
Ordnernumber
Price 
```

出于某些原因，客户只需要 2 个没有 MasterProduct 的 PRODUCT_KIDS。在这种情况下，我需要来自 Master- 的名称和描述`Product`。

我的问题如下：

*   我应该将这两个表合并在一起吗？这是搜索东西的最佳方式吗？
*   当我合并这两个表时，我是否也应该保存 PRODUCT_KIDS 的名称和描述（对于上面的示例）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:06:59.133

> 设计一个可以用 HTML (+PHP) 表单填充的 mysql 表的最佳方法是什么。

谁在乎？与流行的看法相反，MySql 只是另一种关系数据库，而 PHP 只是另一种 Web 脚本技术。无论您使用 mysql + php 还是 oracle + java 或 sql server + asp.net，答案都是一样的。

关系数据库设计的原则适用于任何关系数据库。因此，这个问题与 MySql 无关，尤其是与 PHP 无关。

> 表产品
> 
> 表 PRODUCT_KIDS

这是一个关于该主题的简单化观点，其中遗漏了许多甚至合法的项目，例如可能的国际税收、不同的运输代码及其价格（并非所有项目都可以在一次装运中组合），例如一般项目的定制 -我记得写过一家商店，在那里出售 PIPES，定制长度；）有些物品需要单独运输；）

“数据模型资源手册”，第 1 卷，深入讨论了标准企业场景 - 包​​括地址管理（不像大多数人那样简单）、会计和....整个商店 blabla（存储、库存、定价） . 您的两种（！）方法都是简单化的，在我的管辖范围内完全是非法的，因为它不会考虑到正确跟踪各种产品税收的法律要求。

我只能建议它——他们还深入探讨了一些行业层面的特殊性。例如;) - 服装。开一家布料店，你就会对“同一产品的尺寸和颜色的变化”发疯。您的方法会导致一件“衬衫”可能有 200 个孩子（尺寸 * 颜色）；）

我建议：回到绘图板。一本好书；）我个人很喜欢读这本书——嗯——很久以前。

# silverlight - 用句子形式包裹不同风格的长句子

> ID：10680739
> 
> 赞同：0
> 
> 时间：2012-05-21T07:00:57.217
> 
> 标签：silverlight, xaml, user-interface

我想在我的表格中显示一个长句子。
有些单词应该是黑色的，有些是蓝色的。
为此，我添加了不同的 textBlocks 并为每个文本块设置了 Foreground 属性并将它们放在 Horizo​​ntal StackPanel 中。
但我希望它可以被包装，并且通过设置 TextBlock 的 WrapText 属性它没有任何效果，因为它在 StackPanel 中。
有什么解决办法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:03:41.380

您应该对 TextBlock[使用内联](http://msdn.microsoft.com/en-us/library/system.windows.controls.textblock.inlines.aspx)

```
<TextBlock TextWrapping="Wrap">
    <Run Text="This is black text" Foreground="Black"/>
    <Run Text=" While this is blue text!" Foreground="Blue"/>
</TextBlock> 
```

# android - 如何获取图像轮廓（或从图像中获取特定颜色？）-android

> ID：10680743
> 
> 赞同：1
> 
> 时间：2012-05-21T07:01:34.033
> 
> 标签：android, image

见下图，它包含一些黑色轮廓，我只想得到那些轮廓。意味着图像的所有其他部分应该是不可见的。

我怎样才能做到这一点？

我在想是否可以识别一种颜色和不可见的其他颜色？

![在此处输入图像描述](../Images/08f651cab0aa2c45887925e0fce17784.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T07:09:43.540

您可以使用[PorterDuffXfermode使所有其他颜色透明](http://developer.android.com/reference/android/graphics/PorterDuffXfermode.html)

在您的情况下，这似乎还不够，因为您的照片中有黑色区域。一种选择是在添加线条之前将黑色区域的颜色更改为非常深的灰色。

# web-services - BugZilla 安装错误

> ID：10680748
> 
> 赞同：1
> 
> 时间：2012-05-21T07:01:50.943
> 
> 标签：web-services, bugzilla

软件错误：

```
Can't locate Math/Random/ISAAC.pm in @INC (@INC contains: . lib /usr/local/lib/perl5 /usr/local/share/perl5 /usr/lib/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib/perl5 /usr/share/perl5) at Bugzilla/RNG.pm line 28.
BEGIN failed--compilation aborted at Bugzilla/RNG.pm line 28.
Compilation failed in require at Bugzilla/Util.pm line 50.
BEGIN failed--compilation aborted at Bugzilla/Util.pm line 50.
Compilation failed in require at Bugzilla/Error.pm line 33.
BEGIN failed--compilation aborted at Bugzilla/Error.pm line 33.
Compilation failed in require at Bugzilla/Install/Filesystem.pm line 31.
BEGIN failed--compilation aborted at Bugzilla/Install/Filesystem.pm line 31.
Compilation failed in require at Bugzilla/Config.pm line 38.
BEGIN failed--compilation aborted at Bugzilla/Config.pm line 38.
Compilation failed in require at Bugzilla.pm line 38.
BEGIN failed--compilation aborted at Bugzilla.pm line 38.
Compilation failed in require at /var/www/html/bugzilla/index.cgi line 34.
BEGIN failed--compilation aborted at /var/www/html/bugzilla/index.cgi line 34.
For help, please send mail to the webmaster (root@localhost), giving this error message and the time and date of the error. 
```

这是在服务器中执行文件 index.cgi 时给出的错误

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T07:49:58.013

这看起来像是一个缺失的库。您可以通过查看以下输出来获取相关信息：

```
./checksetup.pl --check-modules 
```

请参阅：[Bugzilla 安装](http://www.bugzilla.org/docs/4.2/en/html/installation.html)

如果这对您来说还不够，您需要在此处发布更多信息（Bugzilla 版本、操作系统等...）

亚历克西斯

编辑：

原始错误表明缺少模块：至少您需要安装 Math::Random:ISAAC。*checksetup.pl*应显示完整的缺失要求，但在某些情况下，当 ISAAC 缺失时，这似乎也会崩溃（请参阅[4.2：启用投票扩展时 checksetup.pl 崩溃](http://groups.google.com/group/mozilla.support.bugzilla/browse_thread/thread/3972c886a64f2db8?pli=1)）

# ruby - 我可以在发送之前将完整的 Ruby Net::HTTP 请求作为字符串引用吗？

> ID：10680752
> 
> 赞同：4
> 
> 时间：2012-05-21T07:02:15.373
> 
> 标签：ruby, http, ruby-1.9.2, net-http

`Net::HTTP`显然，我在 Ruby 1.9.2p290 中使用来处理一些网络调用。

我现在需要查看发送到服务器的完整请求（作为一个符合 HTTP 1.0/1.1 的长大字符串。

换句话说，我想`Net::HTTP`处理生成符合 HTTP 标准的请求+正文的繁重工作，但我想使用自定义传递机制发送字符串。

`Net::HTTPRequest`这里似乎没有任何有用的方法——我是否需要降低堆栈并劫持一些东西？

有谁知道一个好的库，也许除了 Net::HTTP 之外，可以提供帮助？

*编辑*：我也想以另一种方式做同样的事情（将字符串响应转换为`Net::HTTP::*`- 尽管似乎我可以`Net::HTTPResponse`自己实例化？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T14:44:12.870

要求：

```
post = Net::HTTP::Post.new('http://google.com')
post.set_form_data :query => 'ruby http'
sio = StringIO.new
post.exec si, Net::HTTP::HTTPVersion, post.path
puts sio.string 
```

回复：

```
si = StringIO.new("HTTP/1.1 200 OK\n")
bio = Net::BufferedIO.new(si)
Net::HTTPResponse.read_new(bio) 
```

# java - 在java中使用try的finally方法

> ID：10680773
> 
> 赞同：1
> 
> 时间：2012-05-21T07:04:01.537
> 
> 标签：java

类 DaemonThread 扩展线程 {

```
public void run() {
    System.out.println("Entering run method");

    try {
        System.out.println("In run Method: currentThread() is"
            + Thread.currentThread());

        while (true) {
            try {
                Thread.sleep(500);
            } catch (InterruptedException x) {
                System.out.println("hi");
            }

            // System.out.println("In run method: woke up again");

            finally {
                System.out.println("Leaving run1 Method");
            }
        }
    } finally {
        System.out.println("Leaving run Method");
    }

}

public static void main(String[] args) {
    System.out.println("Entering main Method");

    DaemonThread t = new DaemonThread();
    t.setDaemon(true);
    t.start();

    try {
        Thread.sleep(900);
    } catch (InterruptedException x) {}

    System.out.println("Leaving main method");
}

} 
```

为什么第二个 finally 方法不运行...我知道 finally 方法必须必须运行任何条件..但在这种情况下只有第一个 finally 方法，为什么不运行第二个 finally 方法。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-21T07:06:48.837

由于永远不会结束的循环，该`println`语句永远不会到达！`while(true)`

如果您离开该循环，则将执行第二个`finally`块。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-21T07:10:37.503

理论上它应该运行第二个 finally 方法，但是由于它超出了永远不会结束的 while(true) 循环，因此无法访问它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T07:08:50.677

您的代码显示您的`while`循环不会结束。因此，不存在到达外部`finally`区块的问题。

只需使用任何其他条件，您可能会得到想要实现的目标。例如：

```
public void run() {
    System.out.println("Entering run method");
    int flag = 1;
    try {
        System.out.println("In run Method: currentThread() is"
            + Thread.currentThread());

        while (flag == 1) {
            try {
                Thread.sleep(500);
                 flag = 0;
            } catch (InterruptedException x) {
                System.out.println("hi");
            }

            // System.out.println("In run method: woke up again");

            finally {
                System.out.println("Leaving run1 Method");
            }
        }
    } finally {
        System.out.println("Leaving run Method");
    }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T07:09:59.317

它永远不会执行 finally 块，因为 while 循环始终为 TRUE。此外，来自 java 注释

```
"if the thread executing the try or catch code is interrupted or killed, the finally block may not execute even though the application as a whole continues." 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-21T07:12:06.133

我猜你希望在 JVM 退出时，因为线程是守护进程，会自动优雅地退出循环。那不是真的。守护线程简单地死掉（在当前执行的代码中的位置）

# java - 如何在 J2me 中动态获取手机 IMEI 号码？

> ID：10680779
> 
> 赞同：0
> 
> 时间：2012-05-21T07:04:29.727
> 
> 标签：java, java-me, imei

我开发了一个 j2me 移动应用程序。现在客户端想查看手机IMEI号码。

所以我不知道如何获得它，我已经尝试过这条线`System.getProperty("com.nokia.IMEI");`，但它只会为空。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T07:10:33.350

诺基亚

```
System.getProperty("phone.imei");
System.getProperty("com.nokia.imei");
System.getProperty("com.nokia.mid.imei"); //especially for S40  devices

Note: Requires signed MIDlet. S60 3rd edition device does not requires signing to fetch this info.On Series 40 phones this requires that your MIDlet is signed to either operator or manufacturer domain, and this is only available in Series 40 3rd Edition, FP1 
```

* * *

设备和更新。索尼爱立信

```
System.getProperty("com.sonyericsson.imei"); 
```

三星

```
System.getProperty("com.samsung.imei"); 
```

摩托罗拉

```
System.getProperty("IMEI");
System.getProperty("com.motorola.IMEI"); 
```

西门子

```
System.getProperty("com.siemens.IMEI"); 
```

LG

```
System.getProperty("com.lge.imei"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T07:39:11.347

您可以尝试 [GET IMEI FROM J2ME](http://www.developer.nokia.com/Community/Wiki/Getting_IMEI_and_IMSI_in_Java_ME)这个从不同的手机获取 imei

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T11:33:16.763

您可以将上述调用结合起来`System.getProperty(“microedition.platform”)`，以便为您的问题找到一个好的解决方案。

# screen-scraping - C# 屏幕抓取处理登录控件

> ID：10680782
> 
> 赞同：1
> 
> 时间：2012-05-21T07:04:52.797
> 
> 标签：screen-scraping

我正在尝试使用屏幕抓取登录网站，但遇到了困难。

```
 HttpWebRequest req = (HttpWebRequest)HttpWebRequest.Create(uri);
    req.UserAgent = "Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0; WOW64; SLCC1; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; InfoPath.2; .NET4.0C; .NET4.0E; MS-RTC LM 8)";
    req.KeepAlive = false;
    req.Proxy = new WebProxy(IPAddress,PORT);
    req.Method = "POST";
    req.Host = host;
    req.Referer = referer;
    req.ContentType = "application/x-www-form-urlencoded";
    req.ContentLength = postBytes.Length;

    StreamWriter requestwriter = new StreamWriter(req.GetRequestStream(), System.Text.Encoding.ASCII);
    requestwriter.Write(postData);
    requestwriter.Close();

    try
    {
        using (HttpWebResponse res = (HttpWebResponse)req.GetResponse())
        {
            using (StreamReader sr = new StreamReader(res.GetResponseStream()))
            {
                sid = sr.ReadToEnd().Trim();
            }
        }
    }
    catch (WebException e)
    {
        Console.WriteLine(uri.ToString());
        Console.WriteLine(e.Message);
    }

    return sid;
} 
```

我得到的只是登录表单，它永远不会让我登录。有什么想法吗？以前有人问过这个问题，有人可以帮我解决这个问题吗……我遇到了同样的问题

# regex - Vim 子列表操作

> ID：10680783
> 
> 赞同：1
> 
> 时间：2012-05-21T07:05:06.060
> 
> 标签：regex, list, vim, echo, sublist

我正在尝试创建一个脚本来检测选择中不同字符的数量。体育

```
a = 4  (the character "a" is 4 times in the selection)
b = 2
e = 10
\ = 2 
```

等等。
为了获得这个，我创建了一个带有子列表的列表，如下所示：
`[['a', 1], ['b', 1], ['e', 1], ['\', 1]]` --> 等
（a = 字符 // 1 = 在文本中找到字符的次数）

我不知道的是：

*   如何在子列表中搜索？pe 我可以搜索列表中是否有“e”或“\”？
*   当匹配“e”时，如何在“e”后面的数字中添加“1”？
    `[['e', 1]] --> [['e', 2]]`
*   以及如何使用正则表达式在子列表中搜索并在回显命令 pe search [af] 中回显它并获得此输出：

    a = 1
    b = 1
    e = 2

    c、d、f 在列表中找不到，必须跳过。

顺便说一句...有谁知道我在哪里可以找到关于子列表的好文档？
（我在 vim 文档中找不到关于子列表的太多信息）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T08:50:57.663

如果我正确理解您的问题，正确的数据结构是将字符映射到出现次数的字典，而不是列表。

```
let occurrences = { 'a': 1, 'b': 1, 'e': 1, '\': 1 } 
```

您可以通过 来检查包含情况`has_key('a')`，并通过 来增加`let occurrences['a'] += 1`。要打印结果，请使用

```
for char in keys(occurrences)
    echo char occurrences[char] "times"
endfor 
```

您可以使用字典上的强大功能`map()`。`filter()`例如，仅包含字符 af：

```
echo filter(copy(occurrences), 'v:key =~# "[a-f]"') 
```

阅读更多`:help Dictionary`。

# javascript - Android 上的 HTML5 网页中的 js 包含文件数量有限

> ID：10680784
> 
> 赞同：1
> 
> 时间：2012-05-21T07:05:10.237
> 
> 标签：javascript, html, webview, include, android-3.0-honeycomb

我正在通过在 WebView 中使用 HTML5、JS 和 CSS3 来开发 iOS/Android 应用程序。装有 Android 2.x 的 iOS 设备和手机可以正常工作。但搭载 Android 3.x 或 4.x 的平板电脑不加载网页。

基本上我正在建立一个这样的网页

```
<html lang="en" style="-webkit-text-size-adjust:none; display:block;">
    <head>
        <meta charset="utf-8"></meta>
        <meta http-equiv="content-script-type" content="text/javascript">
        <title>Project Name</title>
        <script type="text/javascript" src="File1.js"></script>
        <script type="text/javascript" src="File2.js"></script>
        <script type="text/javascript" src="File3.js"></script>
        <script type="text/javascript" src="File4.js"></script>
            ...
    <body style="margin: 0px; width: 100%; height: 100%; overflow:hidden">
    </body>
</html> 
```

（总共包含 25 个 javascript 文件）

我已经覆盖了 WebViewClient::onPageStarted、WebViewClient::onReceivedError、WebViewClient::onPageFinished。WebViewClient::onPageStarted 被调用，日志显示正在加载的 javascript。但是 WebViewClient::onPageFinished 永远不会被调用并且网页不会构建。窗口“加载”回调不会发生，因此没有任何 js 文件被执行。

因此，我在我的窗口“加载”功能中放置了一个警报弹出窗口，并一个接一个地删除了一个文件，看看这是否有帮助。这确实有帮助。当我只包含 4-6 个文件时，会调用窗口“加载”函数。但这也是随机的，并不取决于我删除了哪些文件。LOG 也没有显示任何错误。一切似乎都很好

Android 3.x 及更高版本中引入的包含文件数量是否有限制？Android 2.x 运行没有任何问题。我桌面 PC 上的 Chrome 和 Safari 也可以毫无错误地显示该站点。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T08:40:54.833

我不确定这个限制，但我建议在你的 js 文件上使用[google 闭包编译器来解决这个问题。](https://developers.google.com/closure/compiler/)

# bash - 如何在bash中查看find命令结果的文件日期

> ID：10680786
> 
> 赞同：6
> 
> 时间：2012-05-21T07:05:18.333
> 
> 标签：bash, find, ls

我使用 find 命令在 bash 中查找某些类型的文件。一切都很好，除非显示给我的结果只包含文件名，但不包含文件的（最后修改）日期。我试图将它通过管道传输到 ls 或 ls -ltr 但它只是没有在结果中显示 filedate 列，我也试过这个：

```
ls -ltr | find . -ctime 1 
```

但实际上我没有工作。您能否指导我如何查看 find 命令返回的文件的文件日期？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-21T07:09:51.277

您需要`xargs`或`-exec`为此：

```
find . -ctime 1 -exec ls -l {} \;

find . -ctime 1 | xargs ls -l 
```

（第一个`ls`在每个找到的文件上单独执行，第二个将它们组合成一个或多个大`ls`调用，这样它们的格式可能会稍微好一些。）

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-05-21T07:15:51.153

如果您只想显示类似 ls 的输出，您可以使用`-ls`find 选项：

```
$ find . -name resolv.conf -ls
1048592    8 -rw-r--r--   1 root     root          126 Dec  9 10:12 ./resolv.conf 
```

如果您只想要时间戳，则需要查看该`-printf`选项

```
$ find . -name resolv.conf -printf "%a\n"
Mon May 21 09:15:24 2012 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-21T12:32:01.290

```
find . -ctime 1 -printf '%t\t%p\n' 
```

打印日期时间和文件路径，以[␉ 字符](http://www.fileformat.info/info/unicode/char/2409/index.htm)分隔。

# c# - 在 Windows Phone Mango 中通过电子邮件共享文件

> ID：10680789
> 
> 赞同：1
> 
> 时间：2012-05-21T07:05:48.903
> 
> 标签：c#, windows-phone-7

我在应用程序上创建了在隔离存储中创建文件的应用程序。现在我想通过电子邮件分享它。有什么我可以做到的选择吗？我试过电子邮件启动器，但它没有添加附件的任何选项。如果有人可以帮助我，我将不胜感激。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T08:35:16.940

`EmailComposeTask`不支持附件。这意味着您发送带有附件的电子邮件的唯一方法是通过单独的外部服务。
有许多第三方电子邮件服务可以让您发送带有附件的电子邮件，或者您可以从您自己的基于 Web 的任务中发送它们。
或者，您可以通过文件传输服务（dropbox、skydrive 等）共享文件

# sql - SQL查询返回两个日期之间的行

> ID：10680793
> 
> 赞同：2
> 
> 时间：2012-05-21T07:05:56.217
> 
> 标签：sql

我正在使用此查询来获取两个日期之间的行，但我没有从数据库中获取行，它返回一个空集（在 db 中我有那天的行）

询问：

```
select email 
from users
where date_email_sent between '17-May-12' AND '17-May-12' 
```

当我尝试下面的查询时，我只得到第 17 行

询问：

```
select email
from users
where date_email_sent between '17-May-12' AND '18-May-12' 
```

如果开始日期和结束日期相同，任何人都可以建议我如何单独获得第 17 条记录。

提前致谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-21T07:13:30.720

date_email_sent 是否有日期时间值？如果像 2012-05-17 09:30:00.000 这样的列值同时具有日期和时间，那么您可能需要将时间与日期值放在 where 子句中，

例如

```
where date_email_sent between '17-May-12 00:00:00.000' AND '17-May-12 23:59:59.000' 
```

或者您可以仅查看该字段的日期值

```
where DATEADD(dd, 0, DATEDIFF(dd, 0, date_email_sent )) between '17-May-12' AND '17-May-12' 
```

如果您只输入日期，SQL 总是将其视为 12am，因此如果您想将日期与日期时间值进行比较，则会出现问题

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-21T07:15:35.007

当您指定没有时间部分的日期时，时间会自动假定为上午 12:00。所以当你写

```
date_email_sent between '17-May-12' AND '17-May-12' 
```

这实际上与

```
date_email_sent between '17-May-12 12:00AM' AND '17-May-12 12:00AM' 
```

所以可以看到，这两个时间是相同的，自然没有指定区间的记录。

如果你想要一天的所有记录，你需要测量从午夜到第二天午夜：

```
date_email_sent >= '17-May-12 12:00AM' and date_email_sent < '18-May-12 12:00AM' 
```

要不就：

```
date_email_sent >= '17-May-12' and date_email_sent < '18-May-12' 
```

或者，您可以提取日期的日部分并检查其值是否正确。具体的日期处理函数取决于您的 dbms。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T07:12:30.593

在 SQL Server 中，您应该这样做。

```
select email 
from users
where date_email_sent >= '20120517' and 
      date_email_sent < dateadd(day, 1, '20120517') 
```

如果您使用其他东西，则必须用其他`dateadd`东西替换。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T07:17:01.933

当你写 BETWEEN '17-May-12' AND '17-May-12' 所以你没有提到时间所以在 Date 数据类型中它被认为是

'17-May-12 00:00:00' 和'17-May-12 00:00:00'

所以你的范围是有限的，这就是你没有得到记录的原因。您还应该提及时间以获取具有相同日期的记录。在oracle中你可以这样写

```
BETWEEN to_date('dd-mm-yyyy hh24:mi','17-05-12 00:00') AND to_date('dd-mm-yyyy hh24:mi','17-05-12 23:59') 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-05-21T07:11:17.907

```
select email 
from users
where date_email_sent >= '17-May-12' AND date_email_sent < '18-May-12' 
```

# xpath - 面临查找 xpath 表达式的问题

> ID：10680795
> 
> 赞同：2
> 
> 时间：2012-05-21T07:06:06.013
> 
> 标签：xpath

我的 XPath`'//div[@id='sharetools-container-div']/iframe[@id='sharetools-iframe']'`工作正常，但是在这个标签之后有`'#document'`文本，在这之后`'#document'`有 html 标签，所以当我将 XPath 表达式扩展为 时`'//div[@id='sharetools-container-div']/iframe[@id='sharetools-iframe']/#document/html'`，它会抛出如下异常：

> 引起：类 org.jaxen.saxpath.XPathSyntaxException: //div[@id='sharetools-container-div']/iframe[@id='sharetools-iframe']/#document: 70: 预期为 '. '、'..'、'@'、'*'、QName。

所以请指导我如何为此编写 XPath。

谢谢， 丹南杰

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-01-25T21:14:21.747

据我所知，XPath 不会归结为`iframe`s。您会看到，XPath 表达式与特定的 XML 文档相关联，例如 HTML 文档，¹可以对它们进行评估。在浏览器中，an`iframe`算作一个单独的文档。`<iframe>`节点本身是父文档的一部分；但它只是指向另一个`iframe`完全独立的文档（的内容）的指针。

这似乎是这个[电子邮件链](http://objectmix.com/javascript/344183-xpath-doesnt-seem-descend-into-iframes.html)的要点，并且似乎很自然地脱离了 XPath 表达式通过调用[`document.evaluate`](https://developer.mozilla.org/en-US/docs/Introduction_to_using_XPath_in_JavaScript#document.evaluate)（即，特定`document`对象的成员）来评估的事实，如 Firefox 中实现的那样。这表明定义`iframe`s 和 XPath 的各种规范之间的重叠排除了在单个 XPath 表达式中遍历该文档边界——或者至少这似乎是 Mozilla 的解释。

但请注意，所有这些都是基于 Firefox 对该规范的特定实现的猜测`XPath`。此限制可能适用于其他浏览器，也可能不适用于其他浏览器，但我怀疑它确实适用。

这似乎也解释了为什么 Selenium 要求您将上下文从一个文档（父 HTML 页面）切换到另一个文档（`iframe`自身），以便对其执行 XPath 表达式，正如@singaravelan[和](https://stackoverflow.com/a/28816113/712526) [其他人](https://stackoverflow.com/a/24498605/712526)发布的解决方案所暗示的那样。

* * *

¹但前提是 HTML 文档足够神奇！（并非所有 HTML 文档都是格式良好的 XML：浏览器比 XML 解析器宽松得多；参见@MathiasMüller 的评论。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T09:02:21.840

您还没有显示您的源 XML，但我们确定的一件事是它不包含名为“#document”的元素，因为这不是合法的元素名称。出于同样的原因，您不能在 XPath 表达式中请求名为“#document”的元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T20:07:48.260

您可以使用不同的 XPath 来绕过单词：#document 和单词：descendant 例如：

```
//div[@id='sharetools-container-div']/iframe[@id='sharetools-iframe']/descendant::*[1] 
```

或类似的东西。这取决于您在内部 html 中想要**什么。**

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-04-02T06:46:24.860

首先感谢提出这个问题。我也面临同样的问题。在以下行的帮助下，我的情况得到了解决。

```
driver.SwitchTo().Frame(driver.FindElement(By.Name("fraToc"))); 
```

谢谢。

# html - 用于 textarea 的 CSS 使 textarea 高度跨越第一行的高度？

> ID：10680796
> 
> 赞同：0
> 
> 时间：2012-05-21T07:06:11.317
> 
> 标签：html, css

如何使 textarea 的高度与 textarea 的高度匹配，就好像它只有一行一样。它本质上看起来像一个文本字段。不可重用的方法是使用 height 属性并使 textarea 看起来只跨越一行，但是有可重用的方法吗？

当我使用 CSS 属性 height:auto 时，它跨越两行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:18:55.237

有行属性

```
<textarea rows="1"></textarea>​​​​​​​ 
```

[小提琴](http://jsfiddle.net/mowglisanu/5t4n9/)

不过似乎在 Firefox 中不起作用，并且在许多浏览器中，用户可以简单地调整 texarea 的大小。

# content-management-system - Umbraco 媒体部分不见了？

> ID：10680798
> 
> 赞同：0
> 
> 时间：2012-05-21T07:06:13.410
> 
> 标签：content-management-system, umbraco, umbraco5

我是管理员，但我再也看不到媒体节点，在我的用户部分中看不到它，我可以在哪里让用户访问部分？

以前有人遇到过这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T03:39:16.047

修复了这个问题，这可能是由于数据库中的 startMediaID 被错误地设置为 -1（不知何故）将其更改为节点值造成的。

# java - 对象上的线程锁定是否也确保成员对象上的锁定？

> ID：10680799
> 
> 赞同：1
> 
> 时间：2012-05-21T07:06:13.533
> 
> 标签：java, multithreading, thread-safety

考虑以下我为测试非原始变量 ( `myObject`) 的锁定而编写的类。如果所有线程都在同一个对象实例上工作`SynchronizationTest`，我的问题是：

我知道如果 thread1 正在执行`set(...)`方法，那么任何其他线程（比如说 thread2）都可以执行`anotherSetWithSynchronized(...)`或`anotherSetWithoutSynchronized(...)`.

1.  如果thread1`SynchronizationTest`在执行时锁定了对象`set(...)`，是否意味着它已经获得了所有成员对象变量的锁定？就像在这种情况下`myObject`。如果没有那么，

2.  如果thread1正在执行`set(...)`，thread2可以同时执行`anotherSetWithSynchronized(...)`吗？

3.  这两种方法都不能由线程同时执行吗？

4.  这个设计错了吗？我是否需要明确锁定方法`myObject`。`synchronized` `set(...)`像这样：

    ```
    public synchronized void set(MyValue myValue) {
        synchronized (myObject) {
            myObject.put(myValue);
        }
    } 
    ```

这是我的代码：

```
public class SynchronizationTest {
  private MyObject myObject = new MyObject();

  public synchronized void set(MyValue myValue) {
    myObject.put(myValue);
  }

  public void anotherSetWithSynchronized(MyValue myValue) {
    synchronized (myObject) {
      myObject.put(myValue);
    }
  }

  public void anotherSetWithoutSynchronized(MyValue myValue) {
    myObject.put(myValue);
  }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-21T07:30:27.230

1：不，set(...) 方法由“SynchronizationTest”对象的锁保护。

2：是的，他们的守卫对象和你设计的不一样。

3：一个线程每次只能运行一种方法。如果您的意思是两个线程，正如我所解释的，这些方法由两个对象保护，因此它们可以同时执行

4：是的，你是对的。

* * *

Java中的内在锁在《Java并发实战》一书中有如下描述：

> 同步块有两部分：对将用作锁的对象的引用，以及由该锁保护的代码块。同步方法是跨越整个方法体的同步块的简写，其锁是调用该方法的对象。（静态同步方法使用 Class 对象作为锁。）

* * *

更详细的可以参考《Java并发实战》2.3.1小节。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:14:38.223

> 对象上的线程锁定是否也确保成员对象上的锁定？

不。

> 我知道如果 thread1 正在执行 set(...) 方法，那么任何其他线程（可以说 thread2）都可以执行 anotherSetWithSynchronized 中的任何一个

是的，除非 myObject 具有与“this”相同的值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T07:19:31.417

同步方法等价于

```
public void method(){
   synchronized(this){
      //something
   } 
} 
```

1) 没有

同步仅针对指定对象，而不针对其成员。

2) 没有

3) 是的，他们不能，只有一个线程可以在给定监视器保护的同步部分内活动

4）您不需要（如果您使用显式同步，则不应在方法级别使用同步）。但它更好（对于库/大型代码库），因为这样您就可以控制谁可以访问发生同步的实例，因此其他人无法对其进行同步并导致死锁。

# javascript - 如何使用 id 从 javascript 访问 HTML 元素，该 html 元素属于另一个 html 文档

> ID：10680801
> 
> 赞同：1
> 
> 时间：2012-05-21T07:06:18.427
> 
> 标签：javascript, html, ajax

继续问题标题：

另一个 html 文档也使用 AJAX 加载到父级中，如下所示：

```
$.ajax({
        url: 'calender.aspx',
        cache: false,
        dataType: "html",
        success: function (data) {
           $(".mainBar").html(data);
        }
    }); 
```

我需要从 calender.aspx 获取一个 id 为“tableID”的表；

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T07:09:22.610

在您的成功回调中：

```
$(data).find("#tableID"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:09:23.603

在您的示例中，您似乎正在通过行将文档插入文档中`$(".mainBar").html(data);`。在这种情况下，`$("#tableId")`一旦你完成了，你就可以通过它来获得它：

```
$(".mainBar").html(data);
var theTable = $("#tableId"); 
```

如果您的目标*不是*附加所有内容，而是做其他事情，您可以通过 do 建立一个断开连接的 DOM 树`$(data)`，然后通过以下方式搜索它`find`：

```
var theTable = $(data).find("#tableId"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T07:10:08.320

作为旁注，您可以只使用`.load`. 但是，您可以这样做：

```
var $table;

$.ajax({
        url: 'calender.aspx',
        cache: false,
        dataType: "html",
        success: function (data) {
           $table = $(data).find('#tableID');
           $(".mainBar").empty().append($table);
        }
    }); 
```

同样的事情`.load`：

```
var $table;
$('.mainBar').load('calendar.aspx #tableID', function(html) {
   $table = $(html).find('#tableID');
}); 
```

# magento - Magento 促销车规则设置 - 多个免费礼物

> ID：10680802
> 
> 赞同：0
> 
> 时间：2012-05-21T07:06:29.217
> 
> 标签：magento, cart, rule

我正在尝试设置： 1\. 每购买 100 美元可获得免费礼物 A 2\. 每购买 200 美元可获得免费礼物 A + B

有没有办法配置购物车规则？我尝试添加这 2 条规则（两种产品都应用 100% 折扣）并将规则#2 放在更高的优先级。但是当购物车中价值 300 美元时，客户可以免费获得 3 件 A 和 1 件 B --> 正确的结果应该是只有 2 件 A 和 1 件 B 免费。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-19T12:36:07.710

确保在每个之后禁用进一步的规则处理。

# .net - 如何获取 System.Diagnostics.StackFrame 获得的方法的第一个参数（this）？

> ID：10680805
> 
> 赞同：0
> 
> 时间：2012-05-21T07:06:48.107
> 
> 标签：.net, debugging, stack-trace

**框架回调：**

我正在调试由 PropertyChanged 事件触发的 WPF 绑定。然后这会通过一些中间框架调用回调到属性中。

**调试：**

我在我的属性获取器中设置了一个断点。在即时窗口中，我设置 a`StackTrace`并找到`StackFrame`与`BindingExpression`.

**缺失的实例：**

我希望能够以从我感兴趣的调用中`this`获取的方法从堆栈中获取参数。如何获取此对象引用？`GetMethod``StackFrame`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T09:51:06.073

我发现我可以使用 SOS 通过类似于以下的命令来获取此信息：

```
!CLRStack -p                     // Dump the CLR stack
...
0043d6ec 511dcea7 System.Windows.Data.BindingExpression.TransferValue(System.Object, Boolean)
PARAMETERS:
    this (<CLR reg>) = 0x0db05468
//...

!do 0x0db8e7fc                   // Dump the object
Name:        System.Windows.Data.BindingExpression
//...
Fields:
  MT        Field   Offset                 Type VT     Attr    Value Name
//...
55569fbc  4001ae3       10 System.WeakReference  0 instance 0db8ea9c _targetElement

!do 0x0db8ea9c
Name:        System.WeakReference
Fields:
   MT       Field   Offset                 Type VT     Attr    Value Name
5556ab88  40006ed        4        System.IntPtr  1 instance 0E92C0BC m_handle

!dumpvc 0x5556ab88 0x0E92C0BC    // Dump the value
Name:        System.IntPtr
Fields:
  MT      Field     Offset                 Type VT     Attr    Value Name
5552a3f8  40004a9        0                  PTR  0 instance 0df6d9f8 m_value

!do 0x0df6d9f8
Name:        System.Windows.Controls.TextBox
//... 
```

但是，我想要一些可以在不使用 SOS 的情况下进行调试时用来深入研究的东西。

# visual-studio-2010 - 将 Visual Studio 2010 Web 浏览器视图更改为 Firefox

> ID：10680810
> 
> 赞同：0
> 
> 时间：2012-05-21T07:07:05.650
> 
> 标签：visual-studio-2010, firefox, browser

**Visual Studio 2010 有一个集成的 Web 浏览器视图**：菜单->视图->其他 Windows->Web 浏览器。**如何将此浏览器更改为 FireFox？**

**上下文**：我的目标是将我最喜欢的浏览器安装在硬盘上，并集成到 Visual Studio 中。这样做我可以在编码时以我喜欢的方式浏览我最喜欢的网站。Visual Studio 通常会填满我的 2 个屏幕，使用它，我可以在不离开 Visual Studio 的情况下将浏览器保持在前台。

**请！注意**：这个问题与 .NET WinForms/WPF 项目中可用的 WebBrowser 控件无关，也与在不同浏览器中测试我自己的代码无关。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T11:56:59.120

好的，这是添加菜单中命名的新项目的手动解决`Web Broweser`方案`Other Windows`...

*   在`Tools`菜单中，选择`External Tools`...
*   `Add`在打开的对话框中选择...
*   现在根据字段编辑：

```
标题：“Mozilla Firefox”

命令：[浏览到 Mozilla Firefox 安装文件夹中的文件“firefox.exe”（默认 = C:\Program Files\Mozilla Firefox\firefox.exe）]

参数：[NULL("")]

初始目录：[Mozilla Firefox 安装文件夹的路径（默认 = C:\Program Files\Mozilla Firefox\）]

```

*   单击`Apply`，然后单击`OK`。
*   注意菜单中`Serial No. [Index]`的条目。`Mozilla Firefox``Tools`
*   现在，在`Tools`菜单中，选择`Customize...`...
*   浏览到`Commands`选项卡。
*   选择`RadioButton` `MenuBar`和在相邻的`ComboBox`，选择`View | Other Windows`
*   `WebBrowser`在中选择`Controls` `ListBox`并单击`Add Command...`
*   在`Categories` `ListBox`选择`Tools`.
*   现在记住`Serial No. [Index]`条目的`Mozilla Firefox`...
*   找到与 .. 对应的条目并`External Command` *`Index`*选择该条目。
*   点击`OK`。
*   `External Command` *`Index`*请参阅已添加新项目...
*   点击`Modify Selection`...
*   `Name`将属性更改为`Web &Browser`或`Web Browser`
*   点击`Close`。

检查`View`-->`Other Windows`菜单...你会发现两个`MenuItem`名字`Web Browser`...

第一项[没有图标]是新创建的Firefox快捷方式...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-22T08:10:39.537

我找到了“始终位于顶部”的 Firefox 扩展，它有助于在修改 Visual Studio 中的代码时保持 Firefox 就位并可见。

始终[处于领先地位](https://addons.mozilla.org/en-US/firefox/addon/always-on-top/)。

到目前为止，这对我有所帮助，尽管这不是我最初想要的。

# json - 读取 json 文件并使用 dojo 选择值

> ID：10680811
> 
> 赞同：0
> 
> 时间：2012-05-21T07:07:15.523
> 
> 标签：json, dojo

我正在尝试读取一个 json 文件并在文件中选择一个值，但我的谷歌搜索技能让我失望了。

我遇到过 dojo.xhrGet 和 ItemFileReadStore，但我不确定哪个是正确的。或者都不正确？

任何帮助或向正确方向挥动手电筒将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T08:33:20.123

你可以说得更详细点吗。在文件中选择一个值是什么意思？使用 dojo，您可以执行所有范围的 HTTP 请求（GET、POST、PUT 等）并指定返回的数据是文本还是 json。

```
 xhr.get({
      url:"data.json",
      handleAs:"json",
      load: function(data){
        for(var i in data){
           console.log("key", i, "value", data[i]);
        }
      }
   }); 
```

这里*数据*可以被视为对象，并且可以使用*obj.key*表示法检索基于关键数据

# linux - 这个shell脚本代码是什么意思

> ID：10680813
> 
> 赞同：0
> 
> 时间：2012-05-21T07:07:22.880
> 
> 标签：linux, bash, shell, unix, tar

我需要一些帮助来理解给定 shell 脚本的以下几行。

这里`$_filecount`变量保存要归档的文件数

在这里我想知道什么`$TARC`意思，搜索了这个命令，但没有得到`TARC`和`TARU`命令的结果。谁能解释一下这些命令是什么

```
_archive=${ARCHIVE_PATH}/${_name}_$(hostname)_${_today}.tar

if [ $_filecount -ne 0 ]; then
      if ! [ -f ${_archive} ]; then
        touch ${ARCHIVE_PATH}/${_today}
        $TARC ${_archive} -C ${ARCHIVE_PATH} ${_today}
        rm -f ${ARCHIVE_PATH}/${_today}
      fi
      for i in ${_filelist}; do

        $TARU ${_archive} -C ${_path} $i
        [ $? -eq 0 ] && rm -f ${_path}/$i
      done
    fi 
```

`cygwin` 当使用at line $TARC运行此代码时，`${_archive} -c ${ARCHIVE_PATH} ${_today}`将返回以下错误

```
tar: invalid option -- 'E'
Try `tar --help' or `tar --usage' for more information. 
```

提前感谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T07:13:23.727

`$TARC`并且`$TARU`是变量（如果它们没有在脚本中的某个地方定义，那么它们必须是环境变量）

试着`echo $TARC`看看他们是怎么设置的。

看起来 TARC 是用于归档的 tar 命令，而 TARU 是用于取消归档的 tar 命令。

TARC 和 TARU 必须设置在某个地方，否则你会得到一个不同的错误 - 你看到的错误是 tar 特定的。

# php - PHP - 被调用函数中带有静态变量的参数

> ID：10680817
> 
> 赞同：1
> 
> 时间：2012-05-21T07:07:41.800
> 
> 标签：php, oop

这样做时我有一个疑问：

```
class Logger {
        public static $log_INFO = 'INFO';
        public static $log_ERROR = 'ERROR';
        public function log($logLevel, $param2, $param3) {
              // Write log to some file
        }
}

class Midea {
       public function fn1 {
           $logger = new Logger();
           $logger->log(Logger::$log_INFO, 'some', 'some2');
       }
} 
```

现在我的问题是：*有没有办法让 Logger 类中的日志函数只接受 Logger 类的静态变量（任何静态变量）？它不应接受任何其他字符串或整数作为参数。*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T07:13:04.990

我的回答是基于 $logLevel 包含静态类属性的名称这一事实。

如果您将其用作更新的示例 Logger::$INFO，则将传递值**string(4) "INFO"**，这将不起作用。它需要传递值**string(8) "log_INFO"**

是的，通过使用反射：

```
public function log($logLevel, $param2, $param3) {
    $reflection_property = new ReflectionProperty(get_called_class(), $logLevel);
    if($reflection_property->isStatic()) {
        // rest of the code
    }
} 
```

IMO 这种强制执行是不必要的，它增加了代码的复杂性和开销。而且好处很小。

像这样对您的必要性进行编码对我来说更合适：

```
public static function $log_levels = array('INFO', 'ERROR');
public function log($log_level, $param2, $param3) {
    if(in_array($log_level, static::$log_levels)) {
        // code
    }
} 
```

上面的结构开辟了一个很好的机会：

```
public static function $log_levels = array(
    'INFO' => array('Logger', 'handleInfoLogs'),
    'ERROR' => array('Logger', 'handleErrorLogs')
);
public function log($log_level, $param2, $param3) {
    if(array_key_exists($log_level, static::$log_levels)) {
        return(static::$log_levels[$log_level]($param2, $param3));
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T07:11:41.230

您所要求的类似于 Java 世界中的枚举。在 SO 上查看[此](https://stackoverflow.com/questions/254514/php-and-enums)问题，其中包含有关如何在 PHP 中实现类似概念的一些信息。

更具体地说，您可以像这样实现您的要求：

```
class Logger {
    const INFO = 1;
    const ERROR = 2;
}; 
```

然后，您可以在如下代码中使用它：

```
Logger::INFO 
```

它并不完美，但我相信它与 PHP 一样接近。为了使其防弹，您将不得不采用一些反射来检查传入的参数。关于 SO 的[这个](https://stackoverflow.com/a/2324746/473637)答案有更多关于如何实施它的信息。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T07:31:25.850

这很麻烦，但你可以这样做：

```
abstract class LoggerStatus
{
    public function __toString()
    {
        return $this->status;
    }
}

class LoggerStatusInfo extends LoggerStatus
{
    protected $status = 'INFO';
}

class LoggerStatusError extends LoggerStatus
{
    protected $status = 'ERROR';
}

class Logger {
    public static $log_INFO;
    public static $log_ERROR;

    public function __construct()
    {
        self::$log_INFO = new LoggerStatusInfo();
        self::$log_ERROR = new LoggerStatusError();
    }

    public function log(LoggerStatus $logLevel, $param2, $param3) {
          // Write log to some file
    }
} 
```

我自己从未尝试过，但我看不出有任何原因它不起作用。就个人而言，我会选择更简单的东西。

# ember.js - 如何访问计算属性

> ID：10680819
> 
> 赞同：0
> 
> 时间：2012-05-21T07:07:52.383
> 
> 标签：ember.js

我有一个 Ember.Object 像：

```
App.HelpVideoInfo = Ember.Object.extend({
MyAccount: ['FAe8w0cUCJ0', 'How-to: Change "My Account"'],
StoreInformation: ['UddOjEG-hXw', 'How-to: Change Store Information'],

getSecondAccount:function()
{
    return this.get('MyAccount')[1];
} .property('MyAccount'),
}); 
```

我想从我的 Ember.View 绑定到 getSecondAccount（计算属性）。我用了：

```
App.IconMeaningDialogView = Ember.View.extend({
       accountBinding:    'App.HelpVideoInfo.getSecondAccount';
  }); 
```

但它不起作用。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T12:11:28.810

您的命名约定与 Ember 中的不一致，请参阅[Emberist 博客文章](http://www.emberist.com/2012/04/09/naming-conventions.html)。

您应该命名类`UpperCase`、实例和属性`lowerCase`。然后绑定按预期工作，请参阅[http://jsfiddle.net/pangratz666/PQYYH/](http://jsfiddle.net/pangratz666/PQYYH/)。

我还建议使用内置数组访问器`objectAt`。

**车把**：

```
<script type="text/x-handlebars" >
    {{#view App.IconMeaningDialogView}}
        {{account}}
    {{/view}}
</script>​ 
```

**JavaScript**：

```
App.helpVideoInfo = Ember.Object.create({
    myAccount: ['FAe8w0cUCJ0', 'How-to: Change "My Account"'],
    storeInformation: ['UddOjEG-hXw', 'How-to: Change Store Information'],

    secondAccount: function() {
        return this.get('myAccount').objectAt(1);
    }.property('myAccount').cacheable()
});

App.IconMeaningDialogView = Ember.View.extend({
    accountBinding: 'App.helpVideoInfo.secondAccount'
});​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:38:19.983

访问该属性的方法如下

```
App.IconMeaningDialogView = Ember.View.extend({
    accountBinding: Ember.Binding.from('App.HelpVideoInfo.getSecondAccount')
}); 
```

请参阅[高级 Emberjs 投标](http://code418.com/blog/2012/03/26/advanced-emberjs-bindings/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T10:17:23.553

您可能不想*扩展*Ember.Object*来*创建您的 class `App.HelpVideoInfo`。相反，如果您在那里*创建*一个新对象，它将允许您以您想要的方式绑定到属性。

但是，如果您想使用`App.HelpVideoInfo`子类，则必须先*创建*一个对象，然后才能绑定到它的属性。如何做到这一点的一个例子：http: [//jsfiddle.net/74KX7/1/](http://jsfiddle.net/74KX7/1/)

# asp.net - Gridview 不更新所有字段

> ID：10680822
> 
> 赞同：0
> 
> 时间：2012-05-21T07:08:07.697
> 
> 标签：asp.net, gridview

我有一个从 3 个表中正确填充的 gridview。当我更新它时，它只会更新一个字段（Kommentar），但只会更新第一次。

```
 <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" DataKeyNames="ID,Erledigt,Kommentar"
        DataSourceID="ArtikelDataSource">
        <Columns>
            <asp:CommandField ShowEditButton="True" />
            <asp:BoundField DataField="Name" HeaderText="Name" SortExpression="Name" 
                ReadOnly="True"  >
            <ControlStyle Width="150px" />
            </asp:BoundField>
            <asp:BoundField DataField="Beschreibung" HeaderText="Beschreibung" 
                SortExpression="Beschreibung" ReadOnly="True" >
            <ControlStyle Width="200px" />
            </asp:BoundField>
            <asp:BoundField DataField="Datum" HeaderText="Datum" SortExpression="Datum" 
                ReadOnly="True" >
            <ControlStyle Width="100px" />
            </asp:BoundField>
            <asp:BoundField DataField="Erledigt" HeaderText="Erledigt" 
                SortExpression="Erledigt" >
            <ControlStyle Width="50px" />
            </asp:BoundField>
            <asp:BoundField DataField="Kommentar" HeaderText="Kommentar" 
                SortExpression="Kommentar" >
            <ControlStyle Width="200px" />
            </asp:BoundField>
            <asp:BoundField DataField="LastUpdate" HeaderText="LastUpdate" 
                SortExpression="LastUpdate" ReadOnly="True" />
            <asp:BoundField DataField="ID" HeaderText="ID" InsertVisible="False" 
                ReadOnly="True" SortExpression="ID" Visible="False" />
        </Columns>
    </asp:GridView>
    <asp:SqlDataSource ID="ArtikelDataSource" runat="server" 
        ConnectionString="<%$ ConnectionStrings:MyConnectionString %>" 
        SelectCommand="SELECT ci.Name, ci.Beschreibung, ca.ChkItemID, ca.ChkUserID, ca.Datum, ca.Erledigt, ca.Kommentar, ca.LastUpdate, ca.ID FROM ChecklistActions AS ca INNER JOIN ChecklistItems AS ci ON ca.ChkItemID = ci.ID INNER JOIN ChecklistUsers AS cu ON ca.ChkUserID = cu.ID WHERE (ca.Datum = @datum) AND (cu.Login = @userlogin)" 
        UpdateCommand="UPDATE ChecklistActions SET Kommentar = @Kommentar, LastUpdate = GETDATE() WHERE (ID = @ID)"       
        OnSelecting="_data_Selecting"
        >
        <SelectParameters>
            <asp:Parameter Name="userlogin"/>
            <asp:Parameter Name="datum"/>
        </SelectParameters>
        <UpdateParameters>
            <asp:Parameter Name="Kommentar" Type="string"/>
            <asp:Parameter Name="ID" />
        </UpdateParameters>
    </asp:SqlDataSource> 
```

我首先有一个空字段“Kommentar”，然后它被填充，但是当我再次尝试更改值时，只有 GETDATE() 更改值，Kommentar 的内容与以前相同。

当我尝试通过 SQL 更改“Erledigt”的值时

```
UpdateCommand="UPDATE ChecklistActions SET Erledigt = @Erledigt, Kommentar = @Kommentar, LastUpdate = GETDATE() WHERE (ID = @ID)" 
...
<asp:Parameter Name="Erledigt" Type="Int32"/> 
```

什么都没有更新（除了 Getdate()） - 甚至没有第一次更新字段 Kommentar

似乎 gridview 正在将旧值发送到更新命令（只有第一个更新会收到新的 Kommentar 值），这真的很烦人吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T07:18:30.857

您错过`,` 了 UpdateCommand

```
UPDATE ChecklistActions SET Erledigt = @Erledigt, Kommentar = @Kommentar, LastUpdate = GETDATE() WHERE (ID = @ID)" 
```

## 编辑

仅将数据库表上的主键列名称设置为`DataKeyNames`，在这种情况下，您只需更新 ChecklistActions 表。所以将 ChecklistActions 的主键设置为`DataKeyNames`

# android - 在Android中以弧形放置5张图片

> ID：10680828
> 
> 赞同：2
> 
> 时间：2012-05-21T07:08:27.113
> 
> 标签：android

我有 5 个要以弧形放置的图像视图。视图的中心将是屏幕的右下角。谁能告诉我如何为其创建自定义视图？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T07:50:09.967

你的意思是你想这样安排

[链接在这里](https://github.com/siyamed/android-satellite-menu)

```
 android:layout_gravity="top|right" 
         sat:satelliteDistance="170dp"
         sat:totalSpacingDegree="240" 
```

//做出改变并尝试你自己

![在此处输入图像描述](../Images/d9943762dc60f02de5ae592dfedc1b82.png)

# c# - 忽略读取 Xml 文件中的特定属性

> ID：10680833
> 
> 赞同：0
> 
> 时间：2012-05-21T07:09:12.370
> 
> 标签：c#, asp.net, c#-4.0

> **可能重复：**
> [只读部分 XML 文件](https://stackoverflow.com/questions/10679499/read-only-parts-of-an-xml-file)

```
<Peoples>
  <People>
  <Name>RadheyJang</Name> 
  <Location>India</Location> 
  <Work>Software Developer</Work> 
  <Point>5</Point> 
  <details>
       <People>
       <Name>ArunaTiwari</Name> 
       <Location>India</Location> 
       <Work>SoFtwareCoder</Work> 
       <Point>3</Point> 
       <details/>
       <Test>A</Test>
       </People>
  </details>
  <Test>NA</Test>    
  </People>
</Peoples> 
```

我可以通过使用下面的代码来阅读那个 Xml。

```
XDocument xmlDoc = XDocument.Load(str);
var vrresult = from a in xmlDoc.Descendants("People") 
select new
{
   Name= a.Element("Name").Value,
   Location= a.Element("Location").Value,
   Point= a.Element("Point").Value
};

GridView1.DataSource = vrresult;
GridView1.DataBind(); 
```

但它也在阅读详细的内容。我想跳过阅读 details Element 中的内容。请让我知道如何跳过详细信息属性中的内容。

# html - 如何添加应该覆盖通用 css 的 google chrome 特定 css？

> ID：10680835
> 
> 赞同：0
> 
> 时间：2012-05-21T07:09:19.223
> 
> 标签：html, css, google-chrome

> 前两行是通用 css，由所有浏览器解释，接下来的两行是特定于 chrome 的。但是当我运行页面时，chrome 不会覆盖其特定的 css。它只是解释泛型。

```
 th.column_cars  { width:71.2%; }

                            td.column_cars { width:71.5%; }

                            .chrome th.column_cars { width:72.6%; }

                            .chrome td.column_cars { width:72.6%; } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T07:11:03.887

您可以为此使用媒体查询。像这样写：

```
@media screen and (-webkit-min-device-pixel-ratio:0) { 
 .chrome td.column_cars { width:72.6%; }

} 
```

只有 Chrome 没有 CSS，但基于 webkit 的浏览器没有 CSS。

# c# - 正则表达式开始 (^) 无法正常工作

> ID：10680837
> 
> 赞同：2
> 
> 时间：2012-05-21T07:09:22.773
> 
> 标签：c#, regex

我想匹配`091\d{8}`内容中的模式。
我想提取以 开头的字符串`091`，我试试这个：

```
^(091)\d{8} 
```

此模式仅在字符串以新行开始时匹配，我必须使用什么模式？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T07:11:17.470

您应该匹配[单词边界](http://www.regular-expressions.info/wordboundaries.html)(\b)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T08:04:45.450

`^`如果字符串以 091 开头，则只会匹配数字，而不是介于两者之间。您应该匹配正则表达式中的单词边界，否则它也会获取那些以 091 开头但之后超过 8 位的表达式。

请参阅此正则表达式 `\b((091)\d{8})\b`：[http ://regexr.com?310ra](http://regexr.com?310ra)

括号中的捕获组将为您提供所需的数字。

# java - 如何杀死java中的特定进程

> ID：10680843
> 
> 赞同：1
> 
> 时间：2012-05-21T07:09:51.597
> 
> 标签：java, process

大家好，我的Java应用程序中有两个进程，如下所示。

```
Process p1=some process;
Process p2=some process; 
```

第一次它完美地开始工作。但是当我重新加载应用程序时，旧进程也在运行，所以我只想杀死旧进程，如果它正在执行。我知道我们可以通过使用它的进程 id 来杀死一个进程。但是我怎样才能得到这个 p1 和 p2 的进程 ID。任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T08:39:16.133

在您的应用程序中捕获重新加载事件并在退出之前终止子进程。

如果这不起作用，则您的设计中可能存在错误。尝试修复该错误。真的。我是认真的。

一种解决方法是将 PID 写入文本文件。开始时，请阅读文本文件，**检查这是否是正确的进程**，然后将其终止。

如果没有检查，您可能会杀死由其他人创建的完全有效的进程。我的推理是这样的：重新加载时不能终止进程。这意味着您也不能删除文本文件。所以PID文件会一直存在。最终，您将杀死错误的进程。这将每年发生一次。这将在您离开/换工作/等六个月后的第一次发生。没有人会理解发生了什么，因为它几乎不可能重现。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T12:26:43.467

正如其他人所说，最好以更自然的方式终止该过程。

但是，如果您确实需要强制终止它，那么您可以在 Process 对象上调用 destroy() 方法，只要您不再关心它是否运行。

另外，您真的需要将代码作为进程运行吗？通常有更好的方法。

# c# - 编写LINQ C#的方法

> ID：10680844
> 
> 赞同：1
> 
> 时间：2012-05-21T07:09:52.703
> 
> 标签：c#, linq

我对以下内容感到困惑。

我一直在使用以下格式在我的项目中使用 LINQ：

```
var query =     
    from obj_i in set1
    join obj_j in set2 on 
        new { 
          JoinField1 = obj_i.SomeField1,
          JoinField2 = obj_i.SomeField2,
          JoinField3 = obj_i.SomeField3,
          JoinField4 = obj_i.SomeField4
        } 
        equals 
        new { 
          JoinField1 = obj_j.SomeOtherField1,
          JoinField2 = obj_j.SomeOtherField2,
          JoinField3 = obj_j.SomeOtherField3,
          JoinField4 = obj_j.SomeOtherField4
        } 
```

但最近有人告诉我，以下也是编写 LINQ 查询的“另一种方式”。

```
var query =     
    from obj_i in set1
    join obj_j in set2 on       
    obj_i.SomeField1 = obj_j.SomeOtherField1 and
    obj_i.SomeField2 = obj_j.SomeOtherField2 and
    obj_i.SomeField3 = obj_j.SomeOtherField3 and
    obj_i.SomeField4 = obj_j.SomeOtherField4 
```

据我了解，使用 single是错误的（特别是在 by不适用`=`的情况下，因为您需要使用，但 using也是错误的，因为正确的关键字将是如果您被允许使用任何东西，但在这种情况下。`==``equals``and``&&``equals`

我可以理解 where 子句中`&&`and的使用`==`，这使得上面的代码可以使用更加突出，因为它甚至不编译。

我错过了什么吗？如果是这样，您能否指出我可以在哪里学习这种编写 LINQ 的替代方法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T08:30:20.803

> 但最近有人告诉我，以下也是编写 LINQ 查询的“另一种方式”。

不，您显示的第二种语法不正确。试试看，你会发现它不能编译。

Linq 查询理解语法中的`join`子句被转换为对[`Join`](http://msdn.microsoft.com/en-us/library/bb534675.aspx)扩展方法的调用。例如，这个查询：

```
var query =
    from x in a
    join y in b
    on x.Foo equals y.Bar
    select Baz(x, y); 
```

被翻译成：

```
var query = a.Join(b, x => x.Foo, y => y.Foo, (x, y) => Baz(x, y)); 
```

所以可以看到左右部分`equals`对应`Join`方法的不同参数：左边部分选择第一个源的join key，右边部分选择第二个源的key。然后将这些键相互匹配以执行连接。这是重要的部分：该`on`子句没有指定自由格式的连接条件，它指定了如何提取每一侧的连接键。所以左右键选择器*要*明确分开；您显示的第二种语法不起作用，因为无法为任一源提取完整的关键信息：连接只能通过评估 each 的连接条件来执行`(x, y)`，这是一个`O(n²)`操作而不是（粗略的）`O(n)`操作。

但是，有时您需要比 equi-join 所能提供的更大的灵活性；在这种情况下，您可以使用交叉连接并过滤结果：

```
var query =
    from x in a
    from y in b
    where x.Foo == y.Bar
    select Baz(x, y); 
```

或者在你的情况下：

```
var query =     
    from obj_i in set1
    from obj_j in set2
    where obj_i.SomeField1 == obj_j.SomeOtherField1
    &&    obj_i.SomeField2 == obj_j.SomeOtherField2
    &&    obj_i.SomeField3 == obj_j.SomeOtherField3
    &&    obj_i.SomeField4 == obj_j.SomeOtherField4; 
```

# ruby-on-rails - Rails 3 上的所有者过滤模型对象

> ID：10680845
> 
> 赞同：1
> 
> 时间：2012-05-21T07:09:54.117
> 
> 标签：ruby-on-rails, ruby-on-rails-3, session, default-scope

我需要对我的 ActiveRecord 模型进行一些过滤，我想通过 owner_id 过滤我的所有模型对象。我需要的基本上是 ActiveRecord 的 default_scope。

但我需要按一个会话变量进行过滤，该变量无法从模型中访问。我已经阅读[了一些解决方案](https://stackoverflow.com/questions/4280044/rails-accessing-session-in-model)，但没有一个有效，基本上它们中的任何一个都说您可以在声明 default_scope 时使用会话。

这是我对范围的声明：

```
class MyModel < ActiveRecord::Base
    default_scope { where(:owner_id => session[:user_id]) }
    ...
end 
```

很简单，对吧？但它没有说*方法会话不存在*。

希望你能帮忙

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T19:45:57.560

模型中的会话对象被认为是不好的做法，相反，您应该根据 current_user 向您在 中`User`设置的类添加一个类属性`around_filter``ApplicationController`

```
class User < ActiveRecord::Base

    #same as below, but not thread safe
    cattr_accessible :current_id

    #OR

    #this is thread safe
    def self.current_id=(id)
      Thread.current[:client_id] = id
    end

    def self.current_id
      Thread.current[:client_id]
    end  

end 
```

在你`ApplicationController`做的：

```
class ApplicationController < ActionController::Base
    around_filter :scope_current_user  

    def :scope_current_user
        User.current_id = current_user.id
    yield
    ensure
        #avoids issues when an exception is raised, to clear the current_id
        User.current_id = nil       
    end
end 
```

现在`MyModel`您可以执行以下操作：

```
default_scope where( owner_id: User.current_id ) #notice you access the current_id as a class attribute 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T09:35:51.217

您将无法将其合并到 default_scope 中。由于没有会话，这将破坏（例如）控制台内的所有使用。

你可以做什么：添加一个方法让你的 ApplicationController 像这样

```
class ApplicationController
  ...
  def my_models
    Model.where(:owner_id => session[:user_id])
  end
  ...

  # Optional, for usage within your views:
  helper_method :my_models
end 
```

无论如何，此方法将返回一个范围。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T09:40:04.333

与会话相关的过滤是一个 UI 任务，因此它在控制器中占有一席之地。（模型类无权访问请求周期、会话、cookie 等）。

你想要的是

```
# my_model_controller.rb
before_filter :retrieve_owner_my_models, only => [:index] # action names which need this filtered retrieval

def retrieve_owner_my_models
   @my_models ||=  MyModel.where(:owner_id => session[:user_id])
end 
```

由于按当前用户的所有权进行过滤是一种典型情况，也许您可​​以考虑使用标准解决方案，例如搜索“cancan gem,accessible_by”

还要注意 default_scope 的弊端。[rails3 default_scope，以及迁移中的默认列值](https://stackoverflow.com/questions/3975161/rails3-default-scope-and-default-column-value-in-migration)

# mysql - 使用'like'在MySQL的列中选择带有下划线的记录作为第二个字符

> ID：10680850
> 
> 赞同：2
> 
> 时间：2012-05-21T07:10:32.820
> 
> 标签：mysql, select

我知道要选择以“a”作为列中第二个字母的记录，我们编写以下查询：-

```
Select * from table where column1 like '_a%'; 
```

为了选择列中第三个字母为“a”的记录，我们编写：-

```
Select * from table where column1 like '__a%'; 
```

现在我想选择`column1`包含“_”（下划线）作为第二个字符的记录。例如，我想选择`column1`像 A_John、B_John、A_Jai 等的记录。在这种情况下我可以使用什么转义字符。我怎样才能做到这一点？请帮忙。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-21T07:17:14.040

采用：

```
 Select * from books where title like '\_\_a%'; 
```

首先是两个下划线和

```
Select * from books where title like '\_a%'; 
```

首先是单个下划线和

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T07:16:36.907

'\' 字符用于转义：

```
Select * from table where column1 like '_\_a%'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T07:16:03.400

\ 是 MySQL 中的转义字符。采用：

`Select * from table where column1 like '_\_%';`

# javascript - 在jQuery中隐藏/显示div的孩子

> ID：10680853
> 
> 赞同：0
> 
> 时间：2012-05-21T07:10:41.657
> 
> 标签：javascript, jquery, internet-explorer, html, mouseover

在我的网站中，我有一组`div`s 有一个删除选项（基本上是一个链接）。我想要的是删除选项 - 默认情况下隐藏 - 当鼠标进入 div 时显示并在它离开时隐藏。如果一个 div 有子元素并且鼠标悬停在其中一个子元素上，那么容器和子元素都应该具有可见的删除选项。

这是HTML：

```
<div class="container">
    <a href=".." class="deleteOption">Delete</a>
    <div class="child">
        <a href=".." class="deleteOption">Delete</a>
    </div>
    <div class="child">
        <a href=".." class="deleteOption">Delete</a>
    </div>
    .
    .
    .
    <div class="child">
        <a href=".." class="deleteOption">Delete</a>
    </div>
</div> 
```

所以这是我想出的JavaScript：

```
$('div.container').mouseenter(function () {
    $(this).find('a.deleteOption').show();
    $(this).find('div.child').find('a.deleteOption').hide();
});

$('div.container').mouseleave(function () {
    $(this).find('a.deleteOption').hide();
});

$('div.child').mouseenter(function () {
    $(this).find('a.deleteOption').show();
    $(this).parent.find('a.deleteOption').hide();
});

$('div.child').mouseleave(function () {
    $(this).find('a.deleteOption').hide();
}); 
```

这在 Chrome 和 Firefox 中运行良好，但在 IE（甚至在 IE 9 中）中，删除选项会间歇性地显示和隐藏。有没有更好的方法来为每个浏览器使用 jQuery？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T07:16:04.697

您可以使用纯 css 实现此目的：

```
.container .deleteOption { display:none; }
.container:hover > .deleteOption { display:inline; }
.child:hover > .deleteOption { display:inline; } 
```

# spring-security - 如何在 Spring Security 3.1.1 中获取 SavedRequest？

> ID：10680858
> 
> 赞同：4
> 
> 时间：2012-05-21T07:11:04.957
> 
> 标签：spring-security

我的例子是

```
SavedRequest savedRequest = (SavedRequest) httpRequest.getSession()
       .getAttribute(AbstractProcessingFilter.SPRING_SECURITY_SAVED_REQUEST_KEY); 
```

但这在 SpringSecurity 3.1.1 中不起作用

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-14T11:43:16.853

```
SavedRequest savedRequest = (SavedRequest)httpRequest.getSession().getAttribute(AbstractProcessingFilter.SPRING_SECURITY_SAVED_REQUEST_KEY); 
```

# ios - ios的phonegap中的facebook身份验证

> ID：10680859
> 
> 赞同：2
> 
> 时间：2012-05-21T07:11:07.907
> 
> 标签：ios, facebook, authentication, cordova

我正在尝试实现以下目标：我的网络应用程序上有 facebook 身份验证。身份验证完成后，我想返回 PhoneGap 应用程序。

身份验证流程工作得很好。但是返回应用程序应该通过向 facebook 身份验证 URL 提供重定向 URL 来完成。问题是我不知道 URL 是什么。

我已经尝试过自定义 URL 方案，它在外部 Mobile Safari 窗口中执行身份验证流程时起作用。但在这种情况下，身份验证设置为 Safari 会话，而不是 Web App。

如果不使用外部窗口，但在 Web App 中完成身份验证，则自定义 URL 方案将不起作用。

我有一个提示，这可以通过 PhoneGap ChildBrowser 插件来完成。这是我想尝试的最后一个可能的选择

如果唯一可能的解决方案是 ChildBrowser，我还没有找到任何好的教程或说明如何做到这一点。对此有何建议？

如果有人有更好的例子，请给出解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T20:10:48.807

Phonegap[发布](http://phonegap.com/2011/08/30/get-the-new-phonegap-facebook-platform-plugin/)了一个连接 facebook 的插件：[https ://github.com/davejohnson/phonegap-plugin-facebook-connect](https://github.com/davejohnson/phonegap-plugin-facebook-connect)

# java - 文件程序显示错误

> ID：10680866
> 
> 赞同：0
> 
> 时间：2012-05-21T07:11:35.557
> 
> 标签：java, file, runtime-error

我的文件程序第一次运行得很好。但是当我想运行它之后显示错误。可能是什么原因？

```
import java.io.FileInputStream;
import java.io.IOException;

public class FileSentenceRead {

    /**
     * @param args
     * @throws IOException 
     */
    public static void main(String[] args) throws IOException {
        // TODO Auto-generated method stub
        /*Scanner sn=new Scanner(System.in);
        System.out.println("Enter file name");
        String fname=sn.next();*/
        FileInputStream fis=new FileInputStream("textfile.text");
        int size=fis.available();
        byte bt[]= new byte[size];
        fis.read(bt);
        String pr=new String(bt);
        System.out.println(pr);
        String[] pr1=pr.split("\\s|\\.");
//      @SuppressWarnings("rawtypes")
//      HashSet set=new HashSet();
        StringBuffer s=null;
        StringBuffer ss=new StringBuffer();
        for(int i=0;i<pr1.length;i++){
            s= new StringBuffer(pr1[i]);
//          System.out.print(s.reverse()+" ");
            s=s.reverse();
            ss.append(s+" ");
        }
        System.out.println(ss);
    }
} 
```

这是我的错误信息

```
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(Unknown Source)
at java.lang.ClassLoader.loadClass(Unknown Source)
at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)
at java.lang.ClassLoader.loadClass(Unknown Source) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:33:41.720

> 找不到主类：textfile.text

看起来您没有执行正确的命令行。您的命令行调用应该是这样的（假设您是从生成类的地方执行它）：

```
java -cp . FileSentenceRead 
```

或者如果你把它放在一个包里：

```
java -cp . com.foo.mypackage.FileSentenceRead 
```

如果您从 Eclipse 运行，您可能已将程序参数放入 VM 参数中，这将产生相同的错误。然后只需将您的程序参数移动到正确的字段中并将它们从 VM 参数字段中删除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:50:33.467

是的， **Himanshu Mohta**是正确的。我已经检查了代码

FileInputStream fis=new FileInputStream("c:\\tmp\\textfile.text");

和**一些文本**作为文本文件中的文本，它返回：

这里有一些文字

emo txet ereh

因此，代码没有问题，请检查您的文件系统文件夹安全性读/写权限

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T07:36:18.847

你是如何运行你的类。您的主要班级名称`FileSentenceRead`与`textfile.text`您在错误消息中看到的不同。我运行了你的代码，它总是在我的机器上运行良好。

您的启动配置或您用于运行它的命令可能存在问题。

# android - Android 自定义 Wifi 扫描

> ID：10680867
> 
> 赞同：4
> 
> 时间：2012-05-21T07:11:36.567
> 
> 标签：android, android-wifi, wifimanager

我有兴趣只扫描特定时间间隔的一组特定频率（这与 android api 中的扫描间隔不同）。有没有高级api

或者

用户到内核空间通信接口、机制（sysfs、iotctl、mmap 等）（在有根设备中），可以让我指定在特定时间间隔内扫描的频率集。如果我理解正确，设备请求者会携带此信息？

如果有人能指出我正确的方向，将不胜感激。

提前致谢！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-10T16:17:31.150

在 android.sx 上查看我的[答案](https://android.stackexchange.com/questions/46639/scan-a-single-channel-to-measure-rssi-of-a-specific-ap-when-not-associated/46765#46765)。基本上，[安装`iw`](http://www.onlyxool.net/porting-iw-tools-to-android/)在您的设备上，然后调用：

```
iw dev wlan0 scan freq 2417 
```

但是，我不知道这如何与请求者/连接管理器交互。我们只用它来测量 RSSI。

# java - 使用 Executor 批处理任务

> ID：10680869
> 
> 赞同：0
> 
> 时间：2012-05-21T07:11:44.070
> 
> 标签：java, batch-file, javafx-2, executorservice

我想批量处理一堆任务（更新到 GUI）并每秒运行一次。（我每秒有数百次更新，导致 Java FX 2 冻结）

```
 public void update(String price){
        Platform.runLater(new Runnable(){
            @Override
            public void run() {
                priceLabel.setText(price);

            }});
    } 
```

在 Java 中执行此操作的最简单方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T08:04:05.467

好吧，通常对 GUI 的所有更新都是批处理的，并在 GUI 线程中处理。我认为你的架构是你真正的问题。每 10 毫秒更改一次标签是不明智的。即使 Java FX 支持这一点，用户看到的唯一东西就是闪烁。所以我建议你更新你的内部数据模型，并让你的数据模型的变化以一定的时间速率对用户可见。然后，您的数据模型独立于您的 UI，并且后台线程可以每 2 秒左右向您的 UI提交**一次更新。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T14:17:01.487

是什么触发了变化？如果文本链接到某个对象的值，[您可以使用绑定](http://docs.oracle.com/javafx/2/binding/jfxpub-binding.htm)来在对象的值更改时自动更新 GUI。

或者，您可以尝试手动操作。例如，请参见下面的代码（这很简单 - 您可能需要在运行可运行对象时清除列表以避免运行它们两次 - 在这种情况下您需要处理并发问题等）：

```
ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);
final List<Runnable> list = new CopyOnWriteArrayList<Runnable>(); //your updates
Runnable updateGui = new Runnable() {

    @Override
    public void run() {
        Platform.runLater(new Runnable() {

            @Override
            public void run() {
                for (Runnable r : list) {
                    r.run();
                }
            }
        });
    }
};

scheduler.scheduleAtFixedRate(updateGui, 0, 1, TimeUnit.SECONDS);

list.add(new Runnable() {

    @Override
    public void run() {
        priceLabel.setText(price);
    }
}); 
```

# java - JPA：获取所有行抛出空指针异常

> ID：10680870
> 
> 赞同：1
> 
> 时间：2012-05-21T07:11:46.160
> 
> 标签：java, sql, hibernate, jpa, persistence

我将 JPA 用于持久层。有一个简单的表 EventCategory

```
@Entity
@Table(uniqueConstraints = @UniqueConstraint(columnNames = { "CATEGORY" }))
public class EventCategory {

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long categoryId;

    @NotNull
    private String category;

    @OneToMany(mappedBy = "category", cascade = CascadeType.ALL)
    private List<Event> events;

    // getters and setter

} 
```

我正在尝试获取所有行

```
public List<EventCategory> getAllCategories() {     
    final String query = "SELECT c from EventCategory c";       
    TypedQuery<EventCategory> query1 = em.createQuery(query, EventCategory.class);
    final List<EventCategory> category = query1.getResultList();
    return category;
} 
```

但是有些我如何得到空指针异常。通过从命令提示符运行 sql 查询，我看到了所需的结果。

异常堆栈

```
02:51:52,726 ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/OSU-eTicket-EJB-Servlet].[jsp]] (http-localhost-127.0.0.1-8080-1) Servlet.service() for servlet jsp threw exception: java.lang.NullPointerException
at com.cse769.EJB.Service.EventCategoryService.getAllCategories(EventCategoryService.java:45) [OSU-eTicket-EJB-Session-Entity.jar:]
at com.CSE769.servlet.CategoryCreateServlet.getlist(CategoryCreateServlet.java:38) [classes:]
at org.apache.jsp.events_jsp._jspService(events_jsp.java:137)
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) [jbossweb-7.0.13.Final.jar:]
at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369) [jbossweb-7.0.13.Final.jar:]
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jbossweb-7.0.13.Final.jar:]
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:253) [jbossweb-7.0.13.Final.jar:]
at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [jboss-servlet-api_3.0_spec-1.0.0.Final.jar:1.0.0.Final]
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]
at org.jboss.weld.servlet.ConversationPropagationFilter.doFilter(ConversationPropagationFilter.java:62) [weld-core-1.1.5.AS71.Final.jar:2012-02-10 15:31]
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) [jbossweb-7.0.13.Final.jar:]
at org.jboss.as.jpa.interceptor.WebNonTxEmCloserValve.invoke(WebNonTxEmCloserValve.java:50) [jboss-as-jpa-7.1.1.Final.jar:7.1.1.Final]
at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [jbossweb-7.0.13.Final.jar:]
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368) [jbossweb-7.0.13.Final.jar:]
at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [jbossweb-7.0.13.Final.jar:]
at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671) [jbossweb-7.0.13.Final.jar:]
at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930) [jbossweb-7.0.13.Final.jar:]
at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_30] 
```

获取所有行适用于其他表。不知道为什么它在这里失败。我犯了什么愚蠢的错误吗？

* * *

实体管理器代码

```
@PersistenceContext(unitName = "examples-769-EJB")
EntityManager em; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T07:17:29.297

如果您放置的 getAllCategories() 代码是正确的，那么唯一的可能性是 getAllCategories() 中的实体管理器 (em) 为空。如果您在创建查询之前调试或放置消息，您会看到它。

# objective-c - 在后台做一些事情，一旦完成，在前台做其他事情？

> ID：10680871
> 
> 赞同：2
> 
> 时间：2012-05-21T07:12:01.983
> 
> 标签：objective-c, xcode, automatic-ref-counting, default

我们面临着类似的情况。假设我们想从网络上获取数据。因此，我们从后台获取数据。之后我们回来并根据新数据更新一些视图。

我应该这样做：

```
__block NSDictionary * dic = nil;
__block NSObject* lock = [[NSObject alloc]init];

[Tools doBackground:^{
    @synchronized (lock) {
        dic=(NSDictionary *)[GrabClass JsonParser:alamat];
    }
}];
@synchronized (lock)
{
}

NSString *countView= [[dic objectForKey:[BNUtilitiesQuick currentBusiness].ID] objectForKey:@"CountViews"]; 
```

……呜呜呜

还是我应该做

```
[Tools doBackground:^{
        dic=(NSDictionary *)[GrabClass JsonParser:alamat];
    //}
    [Tools doForeGround:^{
        NSString *countView= [[dic objectForKey:businessReviewed.ID] objectForKey:@"CountViews"];

        CLog(@"countView:%@", countView);
        NSString *countReview=[[dic objectForKey:businessReviewed.ID] objectForKey:@"Review"]; 
```

当然：

`NSString *countReview=[[dic objectForKey:businessReviewed.ID] objectForKey:@"Review"];` 完成后必须调用`dic=(NSDictionary *)[GrabClass JsonParser:alamat];`，不用说。

这也是 doForeGround 和 doBackGround 的定义

```
+(void)doForeGround:(void (^)())block
{
    dispatch_async(dispatch_get_main_queue(), ^{
        block();
    });
}

+(void)doBackground:(void (^)())block
{
    //DISPATCH_QUEUE_PRIORITY_HIGH
    //dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_BACKGROUND,0), ^{
    dispatch_async(dispatch_get_global_queue(-2,0), ^{
        block();
    });
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T07:35:31.697

这是一个如何使用 GCD 的简单示例

```
dispatch_queue_t queue;
queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_LOW, 0);

    //Do stuff async in the backbround
    dispatch_async(queue, ^{

        dispatch_sync(queue, ^{
            //Fetch data sync. When its done... update.
        });

        //Update on the main thread
        dispatch_sync(dispatch_get_main_queue(), ^{
            //Do some updates
        });
    }); 
```

# regex - 正则表达式允许开始字母，然后是数字或字母

> ID：10680875
> 
> 赞同：7
> 
> 时间：2012-05-21T07:12:24.527
> 
> 标签：regex

我需要正则表达式，它应该只以字母开头，然后它可以包含数字或字母。但开始应该只包含字母。我用过

```
^[a-zA-Z]*[a-zA-Z0-9]+$ 
```

但它不起作用。谁能帮帮我？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-05-21T07:16:49.983

您使用了错误的基数。用`+`（*至少一个*）代替`*`（*0个或多个*），如下图：

```
^[a-zA-Z]+[a-zA-Z0-9]*$ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-21T07:17:32.900

您使用的正则表达式非常好。问题`^[a-zA-Z]*[a-zA-Z0-9]+$`在于：您正在使用`*`运算符，它表示 0 次或更多次重复。如果您希望它以字母开头，请使用：`^[a-zA-Z][a-zA-Z0-9]*$`. 这将匹配一个字母和可能跟随的任何字母或数字。

# javascript - 带有 Flash (AS3) 图像上传器、ExternalInterface.call 的 Javascript

> ID：10680877
> 
> 赞同：0
> 
> 时间：2012-05-21T07:12:42.513
> 
> 标签：javascript, actionscript-3, flash, image-uploading

我目前正在进行的一个 Flash 项目需要我拍摄一系列舞台截图并将这些截图上传到服务器。我已经编写了粘贴在下面的 AS3 代码，以将屏幕截图（转换为 jpeg）发送到 php 处理脚本（imageprocess.php）。

```
for (var i:int=0; i<sourceArray.length; i++)
    {
    var jpgEncoder:JPGEncoder = new JPGEncoder(10);
    var jpgStream:ByteArray = jpgEncoder.encode(sourceArray[i]);
    var header:URLRequestHeader = new URLRequestHeader("Content-type", "application/octet-stream");     
    var jpgURLRequest:URLRequest = new URLRequest("imageprocess.php?name=drawing" + i +".jpg");
    jpgURLRequest.requestHeaders.push(header);
    jpgURLRequest.method = URLRequestMethod.POST;
    jpgURLRequest.data = jpgStream;
    navigateToURL(jpgURLRequest, "_blank"); //switch to ExternalInterface.call("someJS") 
    } 
```

不幸的是，我发现navigateToURL 每帧只能运行一次（http://www.actionscript.org/forums/showthread.php3?t=250594）。看起来我必须使用 ExternalInterface.call 加上一些 Javascript 来上传多个屏幕截图，但我不确定这个 Javascript 代码会是什么样子。有人愿意提供一些示例 JS，它可以获取我转换的每个屏幕截图并将它们发送到 php 文件吗？我真的很感激任何和所有的建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T07:33:21.817

您不必使用 JavaScript 来上传图像，为什么不创建一个 JavaScript 函数来在浏览器中打开一个新链接（如弹出窗口）？一个函数的副本，`navigateToURL`但在 JavaScript 中？我想这将是一个更快的修复？使用 JavaScript 打开窗口，请阅读[此](http://dzone.com/snippets/how-open-links-current-window&default=false&zid=159&browser=16&mid=0&refresh=0)链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:48:14.333

URLLoader 可能会解决您的问题。没有使用navigationtourl 进行上传，真的很有趣。 [http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/URLLoader.html](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/URLLoader.html)

# winapi - 如何在控制台应用程序中处理关机\注销？

> ID：10680878
> 
> 赞同：0
> 
> 时间：2012-05-21T07:12:43.587
> 
> 标签：winapi

我正在用 C++ 编写控制台应用程序。

我使用 SetConsoleCtrlHandler 捕获任何应用程序关闭（CTRL+C、关闭控制台、Windows 关闭或注销）。

```
#include <windows.h> 
#include <stdio.h> 

BOOL CtrlHandler( DWORD fdwCtrlType ) 
{   
  switch( fdwCtrlType ) 
  { 
    // Handle the CTRL-C signal. 
    case CTRL_C_EVENT: 
      printf( "Ctrl-C event\n\n" );
      Beep( 750, 300 );
      return( TRUE );

    // CTRL-CLOSE: confirm that the user wants to exit. 
    case CTRL_CLOSE_EVENT: 
      Beep( 600, 200 ); 
      printf( "Ctrl-Close event\n\n" );
      return( TRUE ); 

    // Pass other signals to the next handler. 
    case CTRL_BREAK_EVENT: 
      Beep( 900, 200 ); 
      printf( "Ctrl-Break event\n\n" );
      return FALSE; 

    case CTRL_LOGOFF_EVENT: 
      Beep( 1000, 200 ); 
      printf( "Ctrl-Logoff event\n\n" );
      return FALSE; 

    case CTRL_SHUTDOWN_EVENT: 
      Beep( 750, 500 ); 
      printf( "Ctrl-Shutdown event\n\n" );
      return FALSE; 

    default: 
      return FALSE; 
  } 
} 

int main( void ) 
{       
  //MessageBoxA(0, "test", "test", 0); // ****************

  if( SetConsoleCtrlHandler( (PHANDLER_ROUTINE) CtrlHandler, TRUE ) ) 
  { 
    printf( "\nThe Control Handler is installed.\n" ); 
    printf( "\n -- Now try pressing Ctrl+C or Ctrl+Break, or" ); 
    printf( "\n    try logging off or closing the console...\n" ); 
    printf( "\n(...waiting in a loop for events...)\n\n" ); 

    while( 1 ){ } 
  } 
  else 
  {
    printf( "\nERROR: Could not set control handler"); 
    return 1;
  }
  return 0;
} 
```

这是 msdn 示例，它工作正常，直到我取消注释标记的行。当我这样做时，我的应用程序会处理 CTRL+C、CTRL+Break 和控制台关闭，但在关机或注销时它只是关闭而没有任何反应。

Windows 7、MSVC 10 快捷版

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T14:45:17.277

As soon as you show a dialog from a console app, a message loop is created for that thread.

And once you've got a message loop, you have to handle [WM_ENDSESSION](http://msdn.microsoft.com/en-us/library/windows/desktop/aa376876%28v=vs.85%29.aspx) and [related](http://msdn.microsoft.com/en-us/library/windows/desktop/aa376881%28v=vs.85%29.aspx) messages.

# multithreading - Mac 上 OpenGL 中的多线程视频渲染显示严重的闪烁问题

> ID：10680883
> 
> 赞同：3
> 
> 时间：2012-05-21T07:13:09.013
> 
> 标签：multithreading, performance, opengl, flicker

我有一个视频播放器应用程序，并使用多个线程来保持用户交互仍然流畅。

解码视频的线程最初只是将生成的帧作为 BGRA 写入 RAM 缓冲区，该缓冲区由 glTexSubImage2D 上传到 VRAM，这对于普通视频来说工作得很好，但是 - 正如预期的那样 - 对于高清（尤其是 1920x1080）来说速度很慢。

为了改进这一点，我实现了一种不同类型的池类，它有自己的 GL 上下文（我在 Mac 上的 NSOpenGLContext），它与主上下文共享资源。此外，我更改了代码以便它使用

```
glTextureRangeAPPLE( GL_TEXTURE_RECTANGLE_ARB, m_mappedMemSize, m_mappedMem ); 
```

和

```
glTexParameteri(GL_TEXTURE_RECTANGLE_ARB, GL_TEXTURE_STORAGE_HINT_APPLE, GL_STORAGE_SHARED_APPLE); 
```

对于我使用的纹理，以提高上传到 VRAM 的性能。我没有上传 BGRA 纹理（对于 1920x1080，每帧重约 8MB），我为 Y、U 和 V 上传了三个单独的纹理（每个是 GL_LUMINANCE、GL_UNSIGNED_BYTE 和原始大小的 Y 纹理，以及 U 和 V 的一半尺寸），从而将上传的大小减少到大约 3 MB，这已经显示出一些改进。

我创建了一个 YUV 纹理池（取决于视频的大小，它通常在 3 到 8 个表面之间（乘以 3，因为它是 Y、U 和 V 分量）——每个纹理都映射到上面自己的区域m_mappedMem。

当我收到一个新解码的视频帧时，我会找到一组空闲的 YUV 表面，并使用以下代码更新三个组件：

```
glActiveTexture(m_textureUnits[texUnit]);
glEnable(GL_TEXTURE_RECTANGLE_ARB);

glBindTexture(GL_TEXTURE_RECTANGLE_ARB, planeInfo->m_texHandle);

glTexParameteri(GL_TEXTURE_RECTANGLE_ARB, GL_TEXTURE_STORAGE_HINT_APPLE, GL_STORAGE_SHARED_APPLE);
glPixelStorei(GL_UNPACK_CLIENT_STORAGE_APPLE, GL_TRUE);

memcpy( planeInfo->m_buffer, srcData, planeInfo->m_planeSize );

glTexSubImage2D( GL_TEXTURE_RECTANGLE_ARB, 
                0, 
                0, 
                0, 
                planeInfo->m_width, 
                planeInfo->m_height, 
                GL_LUMINANCE, 
                GL_UNSIGNED_BYTE, 
                planeInfo->m_buffer ); 
```

（作为一个附带问题：我不确定是否应该为每个纹理使用不同的纹理单元？[我使用单元 0 表示 Y，1 表示 U，2 表示 V btw]）

完成此操作后，我将我使用的纹理标记为正在使用，并在 VideoFrame 类中填充它们的信息（即纹理编号，以及它们在缓冲区中占据的区域等），然后放入要渲染的队列中。一旦达到最小队列大小，就会通知主应用程序可以开始渲染视频。

同时主渲染线程（在确保正确的状态等之后）然后访问该队列（该队列类的访问在内部由互斥锁保护）并渲染顶部帧。

该主渲染线程有两个帧缓冲区，并通过 glFramebufferTexture2D 两个纹理与它们关联，以实现某种双缓冲。在主渲染循环中，它会检查哪个是前端缓冲区，然后使用纹理单元 0 将此前端缓冲区渲染到屏幕上：

```
glActiveTexture(GL_TEXTURE0);
glEnable(GL_TEXTURE_RECTANGLE_ARB);            
glBindTexture(GL_TEXTURE_RECTANGLE_ARB, frontTexHandle);            
glTexEnvi(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_REPLACE);

glPushClientAttrib( GL_CLIENT_VERTEX_ARRAY_BIT );
glEnableClientState( GL_VERTEX_ARRAY );
glEnableClientState( GL_TEXTURE_COORD_ARRAY );            
glBindBuffer(GL_ARRAY_BUFFER, m_vertexBuffer);
glVertexPointer(4, GL_FLOAT, 0, 0);
glBindBuffer(GL_ARRAY_BUFFER, m_texCoordBuffer);
glTexCoordPointer(2, GL_FLOAT, 0, 0);
glDrawArrays(GL_QUADS, 0, 4);
glPopClientAttrib(); 
```

在对当前帧的屏幕进行渲染之前（由于视频的通常帧速率约为 24 fps，因此在渲染下一个视频帧之前，可能会渲染此帧几次 - 这就是我使用这种方法的原因）我调用视频解码器检查新帧是否可用的类（即，它负责同步到时间线并用新帧更新后备缓冲区），如果帧可用，那么我将从视频解码器类内部渲染到后备缓冲区纹理（这个发生在与主渲染线程相同的线程上）：

```
glBindFramebuffer(GL_FRAMEBUFFER, backbufferFBOHandle);

glPushAttrib(GL_VIEWPORT_BIT);    // need to set viewport all the time?
glViewport(0,0,m_surfaceWidth,m_surfaceHeight);

glMatrixMode(GL_MODELVIEW);
glPushMatrix();
glLoadIdentity();
glMatrixMode(GL_PROJECTION);
glPushMatrix();
glLoadIdentity();
glMatrixMode(GL_TEXTURE);
glPushMatrix();
glLoadIdentity();
glScalef( (GLfloat)m_surfaceWidth, (GLfloat)m_surfaceHeight, 1.0f );

glActiveTexture(GL_TEXTURE0);
glBindTexture(GL_TEXTURE_RECTANGLE_ARB, texID_Y);

glActiveTexture(GL_TEXTURE1);
glBindTexture(GL_TEXTURE_RECTANGLE_ARB, texID_U);

glActiveTexture(GL_TEXTURE2);
glBindTexture(GL_TEXTURE_RECTANGLE_ARB, texID_V);

glUseProgram(m_yuv2rgbShader->GetProgram());

glBindBuffer(GL_ARRAY_BUFFER, m_vertexBuffer);
glEnableVertexAttribArray(m_attributePos);
glVertexAttribPointer(m_attributePos, 4, GL_FLOAT, GL_FALSE, 0, 0);
glBindBuffer(GL_ARRAY_BUFFER, m_texCoordBuffer);
glEnableVertexAttribArray(m_attributeTexCoord);
glVertexAttribPointer(m_attributeTexCoord, 2, GL_FLOAT, GL_FALSE, 0, 0);
glDrawArrays(GL_QUADS, 0, 4);

glUseProgram(0);

glBindTexture(GL_TEXTURE_RECTANGLE_ARB, 0);                

glActiveTexture(GL_TEXTURE1);
glBindTexture(GL_TEXTURE_RECTANGLE_ARB, 0);

glActiveTexture(GL_TEXTURE0);
glBindTexture(GL_TEXTURE_RECTANGLE_ARB, 0);

glPopMatrix();
glMatrixMode(GL_PROJECTION);
glPopMatrix();
glMatrixMode(GL_MODELVIEW);
glPopMatrix();                            

glPopAttrib();
glBindFramebuffer(GL_FRAMEBUFFER, 0); 
```

[请注意，为简洁起见，我省略了某些安全检查和评论]

在上述调用之后，视频解码器设置了一个可以交换缓冲区的标志，并且在上面的主线程渲染循环之后，它检查该标志并相应地设置 frontBuffer/backBuffer。使用过的表面也被标记为空闲并再次可用。

在我使用 BGRA 并通过 glTexSubImage2D 和 glBegin 和 glEnd 上传的原始代码中，我没有遇到任何问题，但是一旦我开始改进，使用着色器将 YUV 组件转换为 BGRA，以及那些 DMA 传输和 glDrawArrays这些问题开始出现。

基本上它看起来部分像撕裂效果（顺便说一句，我将 GL 交换间隔设置为 1 以与刷新同步），部分像它之间跳回几帧。

我希望有一个我渲染到的表面池，并且在渲染到目标表面后被释放，并且双缓冲该目标表面应该足够了，但显然需要在其他地方进行更多同步 - 但是我不真不知道怎么解决。

我假设因为 glTexSubImage2D 现在由 DMA 处理（以及根据文件应该立即返回的函数）上传可能尚未完成（并且下一帧正在渲染它），或者我忘记了（或不'不知道）关于OpenGL（Mac）需要的其他一些同步机制。

根据我开始优化代码之前的OpenGL分析器：

*   glTexSubImage2D 中几乎 70% 的 GLTime（即将 8MB BGRA 上传到 VRAM）
*   CGLFlushDrawable 中几乎 30%

在我将代码更改为上面的代码后，它现在说：

*   glTexSubImage2D 中大约 4% 的 GLTime（所以 DMA 似乎运行良好）
*   16% 在 GLCFlushDrawable
*   glDrawArrays 中几乎 75%（这让我大吃一惊）

对这些结果有何评论？

如果您需要有关如何设置我的代码的更多信息，请告诉我。关于如何解决这个问题的提示将不胜感激。

编辑：这是我的着色器供参考

```
#version 110
attribute vec2 texCoord;
attribute vec4 position;

// the tex coords for the fragment shader
varying vec2 texCoordY;
varying vec2 texCoordUV;

//the shader entry point is the main method
void main()
{   
    texCoordY = texCoord ;
    texCoordUV = texCoordY * 0.5;
    gl_Position = gl_ModelViewProjectionMatrix * position;
} 
```

和片段：

```
#version 110

uniform sampler2DRect texY;
uniform sampler2DRect texU;
uniform sampler2DRect texV;

// the incoming tex coord for this vertex
varying vec2 texCoordY;
varying vec2 texCoordUV;

// RGB coefficients
const vec3 R_cf = vec3(1.164383,  0.000000,  1.596027);
const vec3 G_cf = vec3(1.164383, -0.391762, -0.812968);
const vec3 B_cf = vec3(1.164383,  2.017232,  0.000000);

// YUV offset
const vec3 offset = vec3(-0.0625, -0.5, -0.5);

void main()
{
    // get the YUV values
    vec3 yuv;
    yuv.x = texture2DRect(texY, texCoordY).r;
    yuv.y = texture2DRect(texU, texCoordUV).r;
    yuv.z = texture2DRect(texV, texCoordUV).r;
    yuv += offset;

    // set up the rgb result
    vec3 rgb;

    // YUV to RGB transform
    rgb.r = dot(yuv, R_cf);
    rgb.g = dot(yuv, G_cf);
    rgb.b = dot(yuv, B_cf);

    gl_FragColor = vec4(rgb, 1.0);
} 
```

编辑 2：作为旁注，我有另一个渲染管道，它使用 VDADecoder 对象进行解码，它的性能非常好，但也有同样的闪烁问题。所以我的代码中的线程肯定存在一些问题 - 到目前为止，我只是无法弄清楚究竟是什么。但是我还需要为那些不支持 VDA 的机器提供软件解码器解决方案，因此 CPU 负载很高，因此我尝试将 YUV 到 RGB 转换卸载到 GPU

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T12:46:41.693

从我所看到的（即 glPushMatrix 调用等）我假设您使用的不是最新的硬件，并且很可能您遇到了旧显卡的问题，例如 CGLFlushDrawable[为什么 CGLFlushDrawable 这么慢？（我正在使用 VBO）](https://stackoverflow.com/questions/10507190/why-is-cglflushdrawable-so-slow-i-am-using-vbos)。

您说的第二件事是 YUV->RGB 着色器，它显然会多次访问源纹理，这在任何显卡上都*必须*很慢，尤其是较旧的显卡。因此，glDrawArrays() 调用的大量时间实际上反映了您正在使用非常繁重的着色器程序（在内存访问方面）的事实，即使着色器代码可能看起来“无辜”。

着色器代码访问纹理（以及系统的 RAM），它在性能方面（对于此显卡）与执行 RAM->VRAM 复制相同。

一般建议：尽量避免使用非矩形和非二次幂纹理。这也可能会扼杀性能。任何非标准的纹理格式和扩展也应该避免。越简单 - 越好。如果您真的需要 FullHD 分辨率，请尝试使用 2048x1024 纹理或 2048x2048 之类的东西（顺便说一下，这*应该*很慢纯算术）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-28T08:32:50.057

好的，经过更多的测试和研究，我终于设法解决了我的问题：

发生的事情是，首先我尝试使用帧缓冲区（使用 glFramebufferTexture2D 作为颜色附件 0 绑定到该纹理）写入目标纹理，然后在将帧渲染到窗口帧缓冲区时尝试在同一帧中读取它。

基本上我错误地假设（在同一帧中被调用，并且彼此直接连续调用）第一个调用将在下一个调用从它读取之前完成对帧缓冲区的写入。因此，调用 glFlush（用于使用 VDADecoder 的类）和 glFinish（用于使用软件解码器的类）就可以解决问题。

旁注：如上面的评论所示，我更改了整个代码，使其不再使用固定管道，并使其看起来更干净。OpenGL Profiler（在 Mac OS X 10.7 下）下的性能测试表明，从我的原始代码到当前代码的更改已将 OpenGL 使用的总应用程序时间从近 50% 减少到约 15%（释放更多资源）用于实际的视频解码 - 在 VDADecoder 对象不可用的情况下）。

# mysql - 优化慢查询 MySQL InnoDB (Doctrine2)

> ID：10680885
> 
> 赞同：0
> 
> 时间：2012-05-21T07:13:23.900
> 
> 标签：mysql, sql-order-by, innodb, database-performance

我在使用 Doctrine2 的 Symfony2 项目中查询缓慢。我不确定是什么在减慢速度。我试图自己追踪它，但已经没有想法了。基本思想是我想从给定的提要中获取前 20 篇文章（按 ID），并按发布日期对它们进行排序。当我在我的开发机器上整理大约 300 篇文章（生产机器有数千篇）时，似乎 1 秒有点长。

查询是：

```
SELECT 
    a0_.id AS id0, a0_.guid AS guid1, a0_.title AS title2, a0_.pub_date AS pub_date3,
    a0_.summary AS summary4, a0_.content AS content5, a0_.source_url AS source_url6,
    a0_.comment_url AS comment_url7, a0_.slug AS slug8, a0_.bitly_url AS bitly_url9,
    a0_.thumbnail_id AS thumbnail_id10, a0_.feed_id AS feed_id11,
    a0_.author_id AS author_id12
FROM
    articles a0_ 
WHERE 
    a0_.feed_id = ?
ORDER BY  
    a0_.pub_date DESC LIMIT 20

Parameters: ['19']
Time: 958.46 ms 
```

运行解释，我得到这个：

```
*************************** 1\. row ***************************
           id: 1
  select_type: SIMPLE
        table: a0_
         type: ref
possible_keys: feed_guid,article_slug_unique,feed
          key: feed_guid
      key_len: 4
          ref: const
         rows: 338
        Extra: Using where; Using filesort
1 row in set (0.11 sec) 
```

这是我的桌子：

```
+--------------+------------------+------+-----+---------+----------------+
| Field        | Type             | Null | Key | Default | Extra          |
+--------------+------------------+------+-----+---------+----------------+
| id           | int(10) unsigned | NO   | PRI | NULL    | auto_increment |
| guid         | varchar(255)     | NO   |     | NULL    |                |
| title        | varchar(255)     | NO   |     | NULL    |                |
| author_id    | int(10) unsigned | YES  | MUL | NULL    |                |
| pub_date     | datetime         | YES  | MUL | NULL    |                |
| summary      | text             | YES  |     | NULL    |                |
| content      | text             | NO   |     | NULL    |                |
| source_url   | varchar(255)     | YES  |     | NULL    |                |
| comment_url  | varchar(255)     | YES  |     | NULL    |                |
| feed_id      | int(10) unsigned | NO   | MUL | NULL    |                |
| slug         | varchar(64)      | NO   | MUL | NULL    |                |
| bitly_url    | varchar(32)      | YES  |     | NULL    |                |
| thumbnail_id | int(10) unsigned | YES  | UNI | NULL    |                |
+--------------+------------------+------+-----+---------+----------------+
13 rows in set (0.09 sec) 
```

我的指数：

```
+----------+------------+-----------------------+--------------+--------------+----------+-------------+----------+--------+------+------------+---------+---------------+
| Table    | Non_unique | Key_name              | Seq_in_index | Column_name  | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment |
+----------+------------+-----------------------+--------------+--------------+------------------------+----------+--------+------+------------+---------+---------------+
| articles |          0 | PRIMARY               |            1 | id           | A         |       51479 |     NULL | NULL   |      | BTREE      |         |               |
| articles |          0 | feed_guid             |            1 | feed_id      | A         |         352 |     NULL | NULL   |      | BTREE      |         |               |
| articles |          0 | feed_guid             |            2 | guid         | A         |         352 |     NULL | NULL   |      | BTREE      |         |               |
| articles |          0 | article_slug_unique   |            1 | feed_id      | A         |         352 |     NULL | NULL   |      | BTREE      |         |               |
| articles |          0 | article_slug_unique   |            2 | slug         | A         |         352 |     NULL | NULL   |      | BTREE      |         |               |
| articles |          0 | UNIQ_BFDD3168FDFF2E92 |            1 | thumbnail_id | A         |       51479 |     NULL | NULL   | YES  | BTREE      |         |               |
| articles |          1 | author                |            1 | author_id    | A         |        3677 |     NULL | NULL   | YES  | BTREE      |         |               |
| articles |          1 | feed                  |            1 | feed_id      | A         |        1660 |     NULL | NULL   |      | BTREE      |         |               |
| articles |          1 | slug_idx              |            1 | slug         | A         |       51479 |     NULL | NULL   |      | BTREE      |         |               |
| articles |          1 | pub_date_idx          |            1 | pub_date     | A         |       51479 |     NULL | NULL   | YES  | BTREE      |         |               |
+----------+------------+-----------------------+--------------+--------------+-----------+-------------+----------+--------+------+------------+---------+---------------+
10 rows in set (0.68 sec) 
```

如果有帮助，这里是 Doctrine2 代码：

```
$dql = $this->getEntityManager()
        ->createQueryBuilder()
        ->select('art')
        ->from('MyMainBundle:Article', 'art')
        ->where('art.feed = :f_id')
        ->orderBy('art.pubDate', 'DESC'); 
```

我认为必须有某种方法让 MySQL 使用我的`pub_date_idx`索引来排序记录。我专门添加了索引，因为我认为我已经阅读过索引应该用于`ORDER BY`. 请帮助我提高此查询性能。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:45:22.197

您应该有一个索引（供稿，pubDate），以便该查询使用索引。如果你把它应该解决：

```
CREATE INDEX idx_feed_pub_date ON articles (feed_id, pub_date) 
```

# c++ - 可以使用初始化列表来初始化 windows api 结构吗？

> ID：10680886
> 
> 赞同：0
> 
> 时间：2012-05-21T07:13:30.283
> 
> 标签：c++, winapi, initialization, structure

不显式设置结构的每个成员的值是否是一种不好的做法，例如在 CHARFORMAT 结构中，您可以在一行中声明将其全部初始化，如下所示：

```
 CHARFORMAT foo = {sizeof(CHARFORMAT),CFM_FACE,0,0,0,0,0,0,"Arial"}; 
```

我特别喜欢这样做，因为这不仅减少了打字，而且我不必调用 _tcscpy 或类似的东西来复制到 szFaceName 的字符串值中。我不确定这是否更快，我不在乎它是否更快，而且我不打算移植或更改编译器、SDK 库或任何东西。

我只想知道，以这种方式进行初始化会产生影响吗？如果是这样，所涉及的风险是否完全不值得麻烦？我是否应该避免以这种方式一起初始化结构并明确地进行初始化？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-05-21T08:14:10.430

我不会这样做，因为它容易出错且不可读。如果代码需要调整，很容易意外插入或删除初始化程序（或替换错误的初始化程序）。

请注意，您可以通过让编译器为您零初始化大多数成员来避免一些输入：

```
CHARFORMAT foo = { 0 };
foo.cbSize = sizeof foo;
foo.dwMask = CEM_FACE;
_tcscpy_s(foo.szFaceName, _countof(foo.szFaceName), T("Arial")); 
```

不幸的是，无法避免`strcpy`调用（尤其是因为 Microsoft 编译器不支持 C99 指定的初始值设定项）。

# r - 如何使字符向量的内容看起来像 R 中的文件？

> ID：10680888
> 
> 赞同：4
> 
> 时间：2012-05-21T07:13:32.963
> 
> 标签：r, jags

`jags.model`需要一个包含 BUGS 模型的文件名作为其第一个参数。为了在一个脚本中包含所有内容，我有时会使用`writeLines`命令将 BUGS 模型写入文件。例如，

```
library(rjags)
writeLines("
model {
    for (i in 1:length(Y1)) {
        Y1[i] ~ dnorm(Beta0, Beta1)
    }
    Beta0 ~ dunif(1, 5)
    Beta1 ~ dunif(0, 10000)
}
"
, "m1.jags")

mod1 <- jags.model("m1.jags", data=Data) 
```

但是，如果我可以选择，我真的不希望创建该文件。

**有没有办法在 R 中创建某种包含文本的虚拟文件？**

我在想可能有某种方法可以使用 R 连接以某种方式将字符串写入变量以模仿文件的特征。

我在想的粗略伪代码：

```
m1.jags <- "model {
        ...
    }
    "
jags.model(SomeRCommand(m1.jags), data=Data) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-05-21T07:28:31.370

谢谢@Andrie 告诉我答案：即，只需用`textConnection`函数包围字符变量。

为了完整起见，这是如何应用于我的具体问题的：

```
m1.jags <- "
model {
    for (i in 1:length(Y1)) {
        Y1[i] ~ dnorm(Beta0, Beta1)
    }
    Beta0 ~ dunif(1, 5)
    Beta1 ~ dunif(0, 10000)
}
"
, "m1.jags")

mod1 <- jags.model(textConnection(m1.jags), data=Data) 
```

# javascript - 从 jQuery .each() 中的 javascript 对象中删除它

> ID：10680892
> 
> 赞同：6
> 
> 时间：2012-05-21T07:13:45.243
> 
> 标签：javascript, jquery, object, each

当来自 jquery循环时，我无法`this`从以下 javascript 对象中删除（特定的“事件”） 。`this``.each()`

天气数据：

```
{
    "events":{
        "Birthday":{
            "type":"Annual",
            "date":"20120523",
            "weatherType":"clouds",
            "high":"40",
            "low":"30",
            "speed":"15",
            "direction":"0",
            "humidity":"0"
        },
        "Move Out Day":{
            "type":"One Time",
            "date":"20120601",
            "weatherType":"storm",
            "high":"80",
            "low":"76",
            "speed":"15",
            "direction":"56",
            "humidity":"100"
        }
    },
    "dates":{
        "default":{
            "type":"clouds",
            "high":"40",
            "low":"30",
            "speed":"15",
            "direction":"0",
            "humidity":"0"
        },
        "20120521":{
            "type":"clear",
            "high":"60",
            "low":"55",
            "speed":"10",
            "direction":"56",
            "humidity":"25"
        }
    }
} 
```

这是`.each()`循环的缩小版本：

```
$.each(weatherData.events, function(i){
    if(this.type == "One Time"){
        delete weatherData.events[this];
    }
}) 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-05-21T07:16:10.823

您正在使用一个需要字符串（属性名称）的对象。我相信你想要：

```
$.each(weatherData.events, function(i){
    if(this.type == "One Time"){
        delete weatherData.events[i];
        // change is here --------^
    }
}); 
```

...因为`$.each`将属性名称（例如，`"Move Out Day"`）作为迭代器函数的第一个参数传递，您将其接受为`i`. 因此，要从对象中删除该属性，请使用该名称。

[无偿的活生生的例子](http://jsbin.com/uxucag)| [资源](http://jsbin.com/uxucag/edit)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T07:18:00.187

您需要项目的名称，而不是对其的引用。使用回调函数中的参数：

```
$.each(weatherData.events, function(key, value){
  if(value.type == "One Time"){
    delete weatherData.events[key];
  }
}); 
```

参考：[http ://api.jquery.com/jQuery.each/](http://api.jquery.com/jQuery.each/)

# c - 看门狗在高中断率时触发

> ID：10680896
> 
> 赞同：1
> 
> 时间：2012-05-21T07:14:04.213
> 
> 标签：c, embedded

我正在开发由我的客户提供的定制/专有 RTOS。

RTOS 使用具有优先级抢占的循环调度。

情景是——

> 1.  瑞萨 H8S 控制器以 20 MHz 运行
> 2.  我已经为以太网中断配置了中断（LAN9221 芯片正在中断）
> 3.  从 LAN 控制器读取数据的 OS 任务在 OS 中以最高优先级运行
> 4.  另一个操作系统任务 TCP，它是系统中优先级第二高的任务
> 5.  一个引用看门狗的操作系统任务

我已经生成了网络流量来模拟网络上的轰炸情况。问题是以太网 ISR 看门狗的高数据速率（超过 500 个数据包/秒）被触发，配置为 1 秒。

看门狗配置为由操作系统的较低优先级任务提供服务，以检测操作系统功能中的任何问题。

我怀疑 ISR 和更高优先级任务的频率不会让看门狗任务被安排。为了证实我的怀疑，我已经为 ISR 本身的看门狗提供了服务，发现它的工作速度为 2000 个数据包/秒。

您能否建议如何处理这种情况，以便即使在更高的数据/中断率下看门狗也不会触发。

看门狗在以正常操作系统优先级运行的操作系统任务中刷新，这有助于捕获无限循环。

操作系统优先级最高的任务是以太网数据包读取任务。当以太网接收数据包时会引发一个硬件中断，并且在 ISR 中我们安排等待以太网数据包读取任务。

同样在我的系统中，操作系统没有使用定时器中断运行（就像其他操作系统运行一样）。操作系统是循环的并自动放弃控制。因此，不可能将看门狗任务的优先级提高到高于正常水平，否则操作系统将始终发现它处于更高的优先级并准备就绪（看门狗在无限循环中刷新，不等待任何事件），其他任务将没有时间执行。只有等待某个事件的任务才能具有高优先级。

所以问题是看门狗任务没有时间刷新，因为频繁的中断和高优先级任务的连续调度（以太网数据包读取）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T08:35:50.193

试着给你看门狗更高的优先级。

乍一看，这似乎是错误的。看门狗不应该获得高优先级，但这仅适用于负载不重的系统。在重负载下，调度会将看门狗向后推（毕竟它是低优先级的），这可能会导致虚假超时。

给看门狗一个高优先级不应该对性能产生很大的影响（这是一个小任务，不经常运行，由中断触发），但要确保它不会饿死。

缺点是你不能再捕获无限循环（因为循环现在可以被看门狗中断）。

您还应该考虑设计不良的硬件或不良的中断映射。也许你可以给看门狗IRQ比网卡更高的优先级。这将允许看门狗及时处理其中断，而不必为任务赋予更高的优先级。

或者，您可以尝试在处理网络数据包时增加计数器。一个新的、高优先级的看门狗线程可以监视这个计数器并重新配置低优先级的看门狗任务，只要计数器发生变化就不会触发。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-22T06:45:21.030

In any form of real-time application you need, by definition, to be 100% aware of what is going on. You must know how much time each task consumes. Measure the time needed for each task with an oscilloscope by toggling a pin. Then [calculate](http://en.wikipedia.org/wiki/Rate-monotonic_scheduling) these times for the whole system. If the higher priority tasks take too much time, well, then obviously the dog will starve.

If this is too complex to measure because of acyclic or non-deterministic behavior, the program needs to be fixed. If the watchdog sits in a high priority task, you have pretty much disabled it for any task with lower prio. You might as well shut the watchdog off entirely then.

Trial & error patches, giving the watchdog higher prio, or increasing the CPU clock until the bug goes away is simply not a professional approach.

But then of course, the hardware might not be sufficient to service such a high data load as you expect. Then you may have no other option but to either use dirty patches or re-design the product from scratch with a suitable MCU.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T18:57:38.763

如果处理网络数据包的任务消耗了太多时间，导致负责刷新看门狗的任务无法获得 CPU 时间；则系统无法处理高网络负载。看门狗问题只是这种“无法处理高网络负载”问题的症状。

解决方案是使用更快的 CPU、降低网络速度、减少处理数据包的开销，或者这些选项的某种组合；这样系统就可以处理高网络负载（并且刷新看门狗的任务确实可以运行）。请注意，“处理高网络负载”可能包括丢弃数据包，这是处理网络拥塞的正常/已建立的方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-05-21T18:23:45.050

您描述的架构应该可以工作，这可能不是告诉如何去做的问题。您需要做的是找出为什么看门狗没有得到服务。

如果您的 RTOS 没有用于调试和测试的仪器或工具，您可以在看门狗循环中添加 I/O 切换并使用示波器观察它 - 它停止切换的所有时间段都是更高优先级任务或中断正在运行的时间 - 如果这发生超过一秒钟，看门狗将触发。然后，您可以将类似的工具添加到您的其他任务和 ISR 中，以查看花费时间的内容。

您是否有可能在高负载下死锁以致系统实际上出现故障？看门狗触发完全有效的情况。如果它实际上检测到系统故障，您不想停止它 - 您想修复系统故障。

# java - 如何以自动方式获取给定字节码位置的 Java 源代码？

> ID：10680898
> 
> 赞同：8
> 
> 时间：2012-05-21T07:14:09.450
> 
> 标签：java, bytecode

我正在试验一种进行静态分析的工具。该工具适用于字节码而不是源代码。（但是，我也有源代码）。

该工具从字节码中输出一些行号，现在我需要一种简单的方法来映射回源代码。Netbeans/Eclipse 一直这样做（当我单击包含库中的方法时，IDE 会将我带到源（如果可用）），所以我知道这是可能的。我只是想不出办法。

例如，考虑以下 hello world 程序：

```
package mypackage;
import java.io.*;
class MyMainClass {
  public static void main(String[] args) { 
    BufferedReader in = new BufferedReader(new InputStreamReader(System.in)); 
    String name0 = "Alice";
    String name1 = "Bob";
    try {
        name0 = in.readLine();
    }
    catch(Exception e) {
        System.out.println("Caught an exception!"); 
    }       
    System.out.println("Hello " + name0 + "!"); 
    System.out.println("Hello " + name1 + "!"); 
  }
} 
```

生成的字节码（从 javap 获得）是：

```
Compiled from "MyMainClass.java"
class mypackage.MyMainClass extends java.lang.Object{
mypackage.MyMainClass();
  Code:
   0:   aload_0
   1:   invokespecial   #1; //Method java/lang/Object."<init>":()V
   4:   return

public static void main(java.lang.String[]);
  Code:
   0:   new     #2; //class java/io/BufferedReader
   3:   dup
   4:   new     #3; //class java/io/InputStreamReader
   7:   dup
   8:   getstatic       #4; //Field java/lang/System.in:Ljava/io/InputStream;
   11:  invokespecial   #5; //Method java/io/InputStreamReader."<init>":(Ljava/io/InputStream;)V
   14:  invokespecial   #6; //Method java/io/BufferedReader."<init>":(Ljava/io/Reader;)V
   17:  astore_1
   18:  ldc     #7; //String Alice
   20:  astore_2
   21:  ldc     #8; //String Bob
   23:  astore_3
   24:  aload_1
   25:  invokevirtual   #9; //Method java/io/BufferedReader.readLine:()Ljava/lang/String;
   28:  astore_2
   29:  goto    42
   32:  astore  4
   34:  getstatic       #11; //Field java/lang/System.out:Ljava/io/PrintStream;
   37:  ldc     #12; //String Caught an exception!
   39:  invokevirtual   #13; //Method java/io/PrintStream.println:(Ljava/lang/String;)V
   42:  getstatic       #11; //Field java/lang/System.out:Ljava/io/PrintStream;
   45:  new     #14; //class java/lang/StringBuilder
   48:  dup
   49:  invokespecial   #15; //Method java/lang/StringBuilder."<init>":()V
   52:  ldc     #16; //String Hello
   54:  invokevirtual   #17; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
   57:  aload_2
   58:  invokevirtual   #17; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
   61:  ldc     #18; //String !
   63:  invokevirtual   #17; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
   66:  invokevirtual   #19; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;
   69:  invokevirtual   #13; //Method java/io/PrintStream.println:(Ljava/lang/String;)V
   72:  getstatic       #11; //Field java/lang/System.out:Ljava/io/PrintStream;
   75:  new     #14; //class java/lang/StringBuilder
   78:  dup
   79:  invokespecial   #15; //Method java/lang/StringBuilder."<init>":()V
   82:  ldc     #16; //String Hello
   84:  invokevirtual   #17; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
   87:  aload_3
   88:  invokevirtual   #17; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
   91:  ldc     #18; //String !
   93:  invokevirtual   #17; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;
   96:  invokevirtual   #19; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;
   99:  invokevirtual   #13; //Method java/io/PrintStream.println:(Ljava/lang/String;)V
   102: return
  Exception table:
   from   to  target type
    24    29    32   Class java/lang/Exception

} 
```

该工具的输出类似于：

```
<mypackage.MyMainClass> 39, 69, 99 
```

这些对应于字节码行号。手动我可以弄清楚这些行必须对应于源代码中的以下行：

```
System.out.println("Caught an exception!"); 
System.out.println("Hello " + name0 + "!"); 
System.out.println("Hello " + name1 + "!"); 
```

但是，我需要自动化这个过程。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-24T19:32:21.237

如果您可以同时访问源文件和相应的行号，那么任务应该很简单，只需逐行加载文件，只需选择与该行号对应的文件即可。

您的方法的问题在于，它依赖于按照[`class`文件格式](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html)以[*属性*](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7)形式存储在编译代码中的可选元数据。有问题的两个，即[`SourceFile`](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.10)和[`LineNumberTable`](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.12)都是**可选**的，这意味着不能保证它们会出现在您的代码中。验证您正在分析的类文件是否已编译为包含此信息！

[`Throwable.getStackTrace`](http://download.java.net/jdk7/archive/b123/docs/api/java/lang/Throwable.html#getStackTrace%28%29)注意：如果您想知道，这些相同的属性用于通过 提供堆栈跟踪信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T08:05:03.507

另一个需要考虑的选择是利用现有的静态分析工具，比如 FindBugs，它有很多功能可以显示标记代码部分的行号，以及生成漂亮的 HTML 报告。您可以相对轻松地使用自己的字节码分析来扩展 FindBugs。我已经成功地遵循了这里的教程：http: [//www.ibm.com/developerworks/library/j-findbug2/](http://www.ibm.com/developerworks/library/j-findbug2/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-06-24T17:10:34.150

[烟灰](https://github.com/Sable/soot/wiki/Tutorials)为你做这件事。您将通过 Soot 运行您的类文件，它将其转换为`Jimple`，然后您可以要求任何代码行的 ，并且`ValueBox`有一个方法：根据他们的文档，返回源的行号或列号代码。`.getJavaSourceStartLineNumber()``.getJavaSourceStartColumnNumber()`

也就是说，到目前为止，这是最简单的方法。Soot 是专为 Java 构建的静态分析工具。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-05-21T07:28:03.737

您可以根据自己的目的使用[JD](http://java.decompiler.free.fr/)。拥有该工具后，您可以使用以下命令通过提示进行反编译：

`jdi-gui.exe YourClassFile.class`.

您可以开始`subprocess`使用`Process`该类，反编译您的`.class`文件，然后使用相应的行号重新编写一个新文件。然后，仅选择工具返回的那些行号。

# delphi - 有没有办法在 Windows 7 中更改 Windows 资源管理器中项目的文本背景颜色？

> ID：10680899
> 
> 赞同：4
> 
> 时间：2012-05-21T07:14:18.343
> 
> 标签：delphi, winapi, windows-7, delphi-xe2, windows-explorer

![http://screenshots.en.sftcdn.net/en/scrn/39000/39972/xentient-labels-1.jpg](../Images/6defd0dcb86c8768ea5f554b2ef78afc.png)

是否可以像应用程序一样更改 Windows 资源管理器中项目的背景颜色[`Xentient Labels`](http://xentient-labels.en.softonic.com/)？是否可以从 Windows 7 中的 Delphi XE2 执行此操作？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-05-21T08:01:39.597

在Windows 7 中*无法*执行此操作，因为 Windows 资源管理器的列表视图使用的`DirectUIHWND`不是`SysListView32`Windows XP 中的。类`DirectUIHWND`控件不侦听列表视图消息，因此您不能[`ListView_SetTextBkColor`](http://msdn.microsoft.com/en-us/library/windows/desktop/bb775114%28v=vs.85%29.aspx)像在 Windows XP 上那样使用宏来更改文本背景颜色。

通过以下简单的测试，您可以验证它。让我们在表单上有一个编辑框和按钮。在该编辑框中输入 Windows 资源管理器的列表视图控件的句柄（例如通过 Spy++ 获得），然后在按下按钮时运行以下代码：

```
uses
  Winapi.CommCtrl;

procedure TForm1.Button1Click(Sender: TObject);
var
  ListViewHandle: HWND;
begin
  ListViewHandle := StrToInt(Edit1.Text);
  ListView_SetTextBkColor(ListViewHandle, $0000CCFF);
end; 
```

这个来自 Windows 7 的 Spy++ 屏幕截图显示了资源管理器列表视图的类名（在 Windows XP 中，它`SysListView32`可以通过标准列表视图消息控制，`DirectUIHWND`不会对它们做出反应）。

![在此处输入图像描述](../Images/4da805e7b462dfe9194e9e32bcca2762.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-21T07:56:12.733

你不能给文本上色，但你可以添加像 TortoiseSVN/CVS/Git/Groove/Dropbox/etc 这样的覆盖。做。

[![带有叠加图标的 Explorer 的屏幕截图](../Images/941df4ca3b1581f95730b7c37464bea2.png)](https://i.stack.imgur.com/V1lKH.png)

（来自[https://tortoisesvn.net/screenshots.html](https://tortoisesvn.net/screenshots.html)）

# ruby - 如何在 Ruby 中处理方法顺序？

> ID：10680907
> 
> 赞同：8
> 
> 时间：2012-05-21T07:15:00.590
> 
> 标签：ruby

我是红宝石的新手。我熟悉其他几种语言。我的问题是关于无序调用方法。例如：

```
def myfunction
    myfunction2
end

def myfunction2
    puts "in 2"
end 
```

在声明 myfunction2 之前如何调用它？几种语言允许您在顶部或 .h 文件中声明它。红宝石如何处理它？

我是否总是需要遵循这个：

```
def myfunction2
    puts "in 2"
end

def myfunction
    myfunction2
end 
```

主要是当我需要`def initialize`为一个类调用另一个方法时，这让我很烦恼。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-05-21T07:27:43.473

在定义方法之前不能调用它。但是，这并不意味着您不能定义`myfunction`before `myfunction2`！Ruby 具有后期绑定，因此在调用之前对`myfunction2`in的调用`myfunction`不会与实际相关联。这意味着只要第一次调用是在声明**之后**完成的，你应该没问题。`myfunction2``myfunction``myfunction` **`myfunction2`**

 **所以，这没关系：

```
def myfunction
    myfunction2
end

def myfunction2
    puts "in 2"
end

myfunction 
```

这不是：

```
def myfunction
    myfunction2
end

myfunction

def myfunction2
    puts "in 2"
end 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-05-21T07:25:01.803

唯一重要的时间方法顺序是纯程序代码，这通常是短视的，给定两种方法：

```
def greet
  puts "%s, Dave" % random_greeting
end
# If I try to use `greet` here, it'll raise a NoMethodError
def random_greeting
  ["Hello", "Bonjour", "Hallo"].sample
end
# I can use `greet` here, because `random_greeting` is now defiend 
```

这可以正常工作，除非你想使用`greet`before`random_greeting`被定义，所有非平凡代码解决这个问题的方法是将行为包装在一个类中：

```
class Doorman
  def greet
    puts "%s, Dave" % random_greeting
  end
  def random_greeting
    ["Hello", "Bonjour", "Hallo"].sample
  end
end
Doorman.new.greet 
```

然后可以用 问候客人`Doorman.new.greet`，通过将行为包装在一个类中，可以更好地为应用程序建模（例如，*酒店*代码中的不同对象可能会给出不同的问候），并且还可以保持`main`命名空间的清洁。

Ruby 中的`main`对象已经定义了 114 个方法，因此最好将自己的方法放入表示项目模型中的参与者或对象的类中。

除了您在关于*in initialize of a class*的问题中所说的话，这是完全可能的：

```
class Doorman
  def initialize
    puts "%s, I'm a new Doorman instance" & random_greeting
  end
  def greet
  "%s, Dave" % random_greeting
  end
  def random_greeting
    ["Hello", "Bonjour", "Hallo"].sample
  end
end 
```

即使`random_greeting`在我们写的时候方法没有定义`initailize`，整个类是在`initialize`被调用之前定义的。同样，通过包装类，这使生活更轻松、更清洁，并意味着事物保持[封装状态](http://en.wikipedia.org/wiki/Encapsulation_%28object-oriented_programming%29)。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T07:22:11.153

Ruby 是解释型语言，因此它不依赖于函数的顺序，例如：

```
[1] pry(main)> def myfunction
[1] pry(main)*   myfunction2    
[1] pry(main)* end  
=> nil
[2] pry(main)> 
[3] pry(main)> def myfunction2
[3] pry(main)*   puts "in 2"    
[3] pry(main)* end  
=> nil
[4] pry(main)> myfunction
in 2
=> nil 
```

此外，例如，如果函数调用不存在的函数，则只有在调用该函数时才会调用运行时异常，即：

```
[5] pry(main)> def foo
[5] pry(main)*   blubry_starego_marycha
[5] pry(main)* end  
=> nil
[6] pry(main)> def boo
[6] pry(main)*   "bom bom bom"
[6] pry(main)* end  
=> nil
[7] pry(main)> boo
=> "bom bom bom"
[8] pry(main)> foo
NameError: undefined local variable or method `blubry_starego_marycha' for main:Object
from (pry):9:in `foo' 
```

如您所见，我已经声明`foo`了调用不存在函数的函数`blubry_starego_marycha`，而 Ruby 对此很好，只有当我调用`foo`.

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-05-21T07:17:12.853

您可以按任何顺序定义方法，顺序无关紧要。**

# c# - 将 List<> 插入 SQL Server 表

> ID：10680910
> 
> 赞同：8
> 
> 时间：2012-05-21T07:15:25.427
> 
> 标签：c#, asp.net, sql-server

我有一个实体`Report`，我想将其值插入到数据库表中。`Report`必须插入以下属性：

```
reportID - int
RoleID - int
Created_BY = SYSTEM(default)
CURRENT_TIMESTAMP 
```

现在问题出在第二个属性上。我有一份带有`LIST<ROLES>`属性的报告。`ROLES`是一个定义明确的实体，它具有 a`ID`和 a `NAME`。从这个列表中，我必须提取每个角色并将每个角色的 ID 插入表中。

所以我的查询目前如下所示：

```
INSERT INTO REPORT_MARJORIE_ROLE(REPORT_ID, ROLE_ID, CREATED_BY, CREATED)
VALUES({0}, {1}, 'SYSTEM', CURRENT_TIMESTAMP) 
```

我从中解析这些值的 C# 代码如下：

```
try
{
    StringBuilder _objSQL = new StringBuilder();
    _objSQL.AppendFormat(Queries.Report.ReportQueries.ADD_NEW_ROLES, report.ID, "report.MarjorieRoles.Add(MarjorieRole")); 
    _objDBWriteConnection.ExecuteQuery(_objSQL.ToString());
    _objDBWriteConnection.Commit();
    _IsRolesAdded = true;
} 
```

所以请指导我如何从 C# 函数添加角色

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-05-21T07:27:55.857

*我假设您说的是**SQL**（结构化查询语言），而您实际上是指 Microsoft **SQL Server**（实际的数据库产品）——对吗？*

您不能将整个列表作为一个整体插入 SQL Server - 您需要为每个条目插入一行。这意味着，您需要多次调用 INSERT 语句。

像这样做：

```
// define the INSERT statement using **PARAMETERS**
string insertStmt = "INSERT INTO dbo.REPORT_MARJORIE_ROLE(REPORT_ID, ROLE_ID, CREATED_BY, CREATED) " + 
                    "VALUES(@ReportID, @RoleID, 'SYSTEM', CURRENT_TIMESTAMP)";

// set up connection and command objects in ADO.NET
using(SqlConnection conn = new SqlConnection(-your-connection-string-here))
using(SqlCommand cmd = new SqlCommand(insertStmt, conn)
{
    // define parameters - ReportID is the same for each execution, so set value here
    cmd.Parameters.Add("@ReportID", SqlDbType.Int).Value = YourReportID;
    cmd.Parameters.Add("@RoleID", SqlDbType.Int);

    conn.Open();

    // iterate over all RoleID's and execute the INSERT statement for each of them
    foreach(int roleID in ListOfRoleIDs)
    {
      cmd.Parameters["@RoleID"].Value = roleID;
      cmd.ExecuteNonQuery();
    }

    conn.Close();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:25:17.770

假设`lstroles`是你的`LIST<ROLES>`。

```
lstroles.ForEach(Role => 
   {            
       /* Your Insert Query like 
        INSERT INTO REPORT_MARJORIE_ROLE(REPORT_ID, ROLE_ID, CREATED_BY, CREATED)
        VALUES(REPORT_ID, Role.ID, {0}, {1}, 'SYSTEM', CURRENT_TIMESTAMP);

       Commit you query*\
   }); 
```

就个人而言：提防 SQL 注入。

# jquery - 如何将Android平板模拟器（Phonegap）分成不同的列（部分）

> ID：10680912
> 
> 赞同：1
> 
> 时间：2012-05-21T07:15:30.877
> 
> 标签：jquery, android, html, cordova

我试图将 Android 模拟器分成 3 部分（列），当我单击按钮/图像时应该完成。每个 cloumn 显示单独的信息。任何人都可以帮助我如何得到这个。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T07:21:30.857

阅读[Fragments](http://developer.android.com/guide/topics/fundamentals/fragments.html)，你会得到你需要的东西。

# iphone - Facebook 错误：处理请求时遇到错误：502 解析服务器响应时出错。在等待未完成的响应时得到 EOF

> ID：10680913
> 
> 赞同：1
> 
> 时间：2012-05-21T07:15:31.703
> 
> 标签：iphone, facebook, cocoa-touch, facebook-graph-api

今天，当我的应用程序尝试发布消息时，我开始从 Facebook 收到错误消息。

该应用程序成功授权，弹出Facebook消息窗口，一切看起来都很好（链接，图片，描述），但是当我按下帖子时。此消息超时

处理请求时遇到错误：502 解析服务器响应时出错。在等待未完成的响应时收到 EOF 请尝试重新发送您的请求。这可能不是proxygen中的错误。根据经验，实习生或最新的实习生由于 SEV 或推送而暂时下降。请先签入 e FYI 或 #e。如果错误通过重试仍然存在，或者如果您有充分的理由怀疑这是 proxygen 中的错误，请将问题报告给 ti-bugs@lists 或 #ti 并提供以下调试信息：2012-05-20 22:24： 40 slb010.02.snc5 1585267068836963531

**更新：这是一个 Facebook 问题。这里有一个打开和分配的错误报告[你](http://developers.facebook.com/bugs/411849912170144?browse=search_4fb9fb43db2468a28526107 "脸书错误报告")**可以在那里订阅以遵循这个过程。

![在此处输入图像描述](../Images/b25dfa646faed40ac75c4a13d6f1233f.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T12:29:00.377

看起来 Facebook 解决了这个问题。我的应用程序运行良好。

如果您仍然遇到同样的问题，您可以在这里查看进度：http: [//developers.facebook.com/bugs/411849912170144 ?browse=search_4fb9fb43db2468a28526107](http://developers.facebook.com/bugs/411849912170144?browse=search_4fb9fb43db2468a28526107)

如果再次出现此问题，请检查此处是否已提交错误：http: [//developers.facebook.com/bugs/](http://developers.facebook.com/bugs/)如果没有提交错误

# opengl - OpenGL 着色不起作用。对象看起来是纯色的

> ID：10680915
> 
> 赞同：2
> 
> 时间：2012-05-21T07:15:38.407
> 
> 标签：opengl, glut, lighting

我目前正在尝试进入 OpenGL 着色和照明，以在一个简单的 GLUT 窗口中显示从 Blender 导出的 3D 模型。

我试图显示典型的 glutSolidTeapot 来验证我的 OpenGL 设置。使用茶壶，一切看起来都很好，如下图所示。

![在此处输入图像描述](../Images/c698a22422a9a1bb8af1b4d9a1a7c59f.png)

如果我现在想用我自己的 Blender 导出的模型替换茶壶，那么阴影不起作用。模型（汽车轮辋）看起来是纯色的。旋转模型时颜色会发生变化，但始终保持不变。

![在此处输入图像描述](../Images/4d311bd7910a74031019cf294ec937ed.png)

glutSolidTeapot 在绘制茶壶模型的引擎盖下做了什么？

这是我用来设置 OpenGL 的代码：

```
void SetupRC()
{
    glClearColor(0.4, 0.4, 0.4, 1.0);

    // Enable lighting and the light we have set up
    glEnable(GL_LIGHTING);
    glEnable(GL_LIGHT0);
    glEnable(GL_DEPTH_TEST);

    //Set lighting parameters
    glLightfv(GL_LIGHT0,GL_POSITION,light_position);
    glLightfv(GL_LIGHT0, GL_AMBIENT,light_ambient);
    glLightfv(GL_LIGHT0, GL_DIFFUSE, light_diffuse);
    glLightfv(GL_LIGHT0, GL_SPECULAR, light_specular);

    glEnable(GL_COLOR_MATERIAL);
    glColorMaterial(GL_FRONT_AND_BACK,GL_DIFFUSE);

    glEnable(GL_BLEND);
    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);

    // Enable shading
    glShadeModel(GL_SMOOTH);

    // Set up the projection parameters
    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();

    glFrustum(-1.0, 1.0, -1.0, 1.0, 2.0, 20.0);

    glMatrixMode(GL_MODELVIEW);
    glLoadIdentity();

    glEnable(GL_AUTO_NORMAL);
    glEnable(GL_NORMALIZE);
} 
```

以及重绘框架的代码：

```
void RenderScene(void)
{
    glLoadIdentity();
    glMatrixMode(GL_MODELVIEW);

    glTranslatef(0.0, 0.0, -2.5f);

    glRotatef(xRot, 1.0f, 0.0f, 0.0f);
    glRotatef(yRot, 0.0f, 1.0f, 0.0f);

    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

    // set input data to arrays
    glVertexPointer(3, GL_FLOAT, 0, BlenderGuru_CarWheelVerts);

    glPolygonMode(GL_FRONT_AND_BACK, GL_FILL);

    GLfloat ambConst[] = { 0.24725, 0.1995, 0.0745, 1.0};
    glMaterialfv(GL_FRONT_AND_BACK, GL_AMBIENT, ambConst);

    GLfloat diffConst[] = { 0.75164, 0.60648, 0.22648, 1.0 };
    glMaterialfv(GL_FRONT_AND_BACK, GL_DIFFUSE, diffConst);

    GLfloat specConst[] = { 0.628281, 0.555802, 0.366065, 1.0 };
    glMaterialfv(GL_FRONT_AND_BACK, GL_SPECULAR, specConst);

    glMaterialf(GL_FRONT_AND_BACK, GL_SHININESS, 51.2);

    // draw data
    glEnableClientState(GL_VERTEX_ARRAY);
        glDrawArrays(GL_TRIANGLES, 0, BlenderGuru_CarWheelNumVerts);
    glDisableClientState(GL_VERTEX_ARRAY);

    glFlush();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T14:56:59.200

您的代码缺少加载/设置正常数据。没有法线，照明就不起作用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-05-21T07:49:55.447

由于您是从 Blender 导出的，因此您导出的数据很可能还包含法线。如果没有，请确保为您的模型生成它们并导出它们。您需要正常数据才能使照明正常工作。

调用[`glEnable(GL_AUTO_NORMAL);`](http://www.opengl.org/sdk/docs/man/xhtml/glEnable.xml)不会做你可能认为它会做的事情。它只会

> `GL_MAP2_VERTEX_3`使用或`GL_MAP2_VERTEX_4`生成顶点时生成法线向量。

因此，您自己导出法线数据并使用它，或者从您可用的网格数据中计算法线。

# asp.net-mvc - 静态内容不适用于 XP 上 IIS 中的虚拟目录

> ID：10680917
> 
> 赞同：1
> 
> 时间：2012-05-21T07:15:48.247
> 
> 标签：asp.net-mvc, iis

XP 上的 IIS 有一个奇怪的问题。

我有一个指向它的虚拟目录的 ASP.MVC Web 应用程序。

该应用程序工作正常，我看到生成的 html 页面。问题是我收到所有静态内容文件（css、js 和图像文件）的 404 错误。

真正奇怪的是，如果我直接在目录上创建应用程序，则会提供静态内容，但我无法从指向同一目录的虚拟目录中获取静态内容！。

顺便说一句，静态内容可以从 VS2010 为应用程序创建的虚拟目录中提供。

我在 IIS 中的 VS2010 创建的虚拟目录（有效）和无效目录之间的配置中找不到任何差异。

我有人有任何想法，我将非常感激......

谢谢，

纳达夫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:18:00.373

我怀疑您已将 url 硬编码到像这样的静态文件中：

```
<script type="text/javascript" src="/scripts/foo.js"></script> 
```

而不是使用 Url 助手：

```
<script type="text/javascript" src="@Url.Content("~/scripts/foo.js")"></script> 
```

当应用程序托管在虚拟目录中时，这当然会考虑虚拟目录的存在并为此静态文件生成正确的 url：

```
<script type="text/javascript" src="/myappname/scripts/foo.js"></script> 
```

# c - Mergesort 在执行时为排序数组的第一个元素提供垃圾值

> ID：10680929
> 
> 赞同：0
> 
> 时间：2012-05-21T07:16:57.840
> 
> 标签：c, algorithm, sorting, garbage, divide-and-conquer

我正在使用“算法简介”中描述的算法来实现 Mergesort。但是，每次执行时，我都会得到一个垃圾值作为排序数组的第一个元素。这是它的代码：

```
#include <stdio.h>
#include <stdlib.h>
#include <limits.h>

void mergesort(int a[], int p, int r);

void merge(int a[], int p, int q, int r)
{
    int *left, *right;
    int i,j,k,l,n1,n2;
    n1 = q-p+1;
    n2 = r-q;
    left = malloc(sizeof(int)*(n1+1));
    right = malloc(sizeof(int)*(n2+1));
    for ( i = 0; i < n1; i++) {
        left[i] = a[p+i];
    }
    for ( j = 0; j < n2; j++) {
        right[j] = a[q+j+1];
    }
    left[n1] = INT_MAX;
    right[n2] = INT_MAX;
    i = 0;
    j = 0;
    for ( k = p; k <= r; k++) {
        if (left[i] <= right[j]) {
            a[k] = left[i];
            i++;
        }
        else {
            a[k] = right[j];
            j++;
        }
    }
    free(left);
    free(right);
    return ;
}

int main(int argc, char* argv[])
{
    int i;
    int a[] = {5,2,4,7,1,3,2,6} ;
    mergesort(a,0,sizeof(a)/sizeof(int));
    for ( i = 0; i < sizeof(a)/sizeof(int); i++) {
        printf("%d\n",a[i]);
    }
    return 0;
}

void mergesort(int a[], int p, int r)
{
    if (p < r) {
        int q;
        q = (p+r)/2 ;
        mergesort(a,p,q);
        mergesort(a,q+1,r);
        merge(a,p,q,r);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T08:16:48.593

看起来您还没有明确定义合并排序参数的含义。在这里，您的最后一个元素位于数组末尾之后的位置：

```
mergesort(a,0,sizeof(a)/sizeof(int)); 
```

但在这儿，

```
mergesort(a,p,q);
mergesort(a,q+1,r); 
```

Q 似乎超过了数组中的最后一个元素。如果您的代码遵循第一个，您将忘记实际对值 q 进行排序。如果它在第二个之后，您将尝试对数组末尾的垃圾值进行排序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T08:03:33.647

不应该

```
mergesort(a,0,sizeof(a)/sizeof(int)); 
```

是

```
 mergesort(a,0,sizeof(a)/sizeof(int)-1); 
```

?

考虑到你这样做

```
 n1 = q-p+1; 
```

等等

几乎可以肯定这里的某个地方存在一个错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T08:01:02.623

您必须选择是否要包含`a[r]`。在这里，您的选择不一致，因此出现错误。

这是一个很好的代码（我不包括`a[r]`）：

```
#include <stdio.h>
#include <stdlib.h>
#include <limits.h>

void mergesort(int a[], int p, int r);

void merge(int a[], int p, int q, int r)
{
    int *left, *right;
    int i,j,k,l,n1,n2;
    n1 = q-p;
    n2 = r-q;
    left = malloc(sizeof(int)*(n1+1));
    right = malloc(sizeof(int)*(n2+1));
    for ( i = 0; i < n1; i++) {
        left[i] = a[p+i];
    }
    for ( j = 0; j < n2; j++) {
        right[j] = a[q+j];
    }
    left[n1] = INT_MAX;
    right[n2] = INT_MAX;
    i = 0;
    j = 0;
    for ( k = p; k < r; k++) {
        if (left[i] <= right[j]) {
            a[k] = left[i];
            i++;
        }
        else {
            a[k] = right[j];
            j++;
        }
    }
    free(left);
    free(right);
    return ;
}

int main(int argc, char* argv[])
{
    int i;
    int a[] = {5,2,4,7,1,3,2,6} ;
    mergesort(a,0,sizeof(a)/sizeof(int));
    for ( i = 0; i < sizeof(a)/sizeof(int); i++) {
        printf("%d\n",a[i]);
    }
    return 0;
}

void mergesort(int a[], int p, int r)
{
    if (r-p > 1) {
        int q;
        q = (p+r)/2 ;
        mergesort(a,p,q);
        mergesort(a,q,r);
        merge(a,p,q,r);
    }
} 
```

# google-maps-api-3 - 有没有办法从 Google Maps Directions Service 获取可粘贴的链接？

> ID：10680931
> 
> 赞同：0
> 
> 时间：2012-05-21T07:17:03.833
> 
> 标签：google-maps-api-3

当我们使用 maps.google.com 时，有一种方法可以“发送”通过电子邮件搜索的当前路线。也可以复制粘贴一个唯一的 URL - 甚至缩短它。

有没有办法通过 JavaScript API (v3) 获得这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T07:42:08.967

API 不这样做，因为如果您有开始和结束位置来获取路线，那么自己构建一个 url 很容易：

`http://maps.google.com/?q=from:A to:B`（必要时编码）

*如果您*想使用地图显示路线，则需要实现自己的查询字符串参数系统并在地图页面中处理这些参数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:21:09.173

您可以生成路线并将其存储在数据库中 - 之后您可以生成链接以调用路线，并使用[Google URL Shortener API缩短路线](https://developers.google.com/url-shortener/v1/getting_started)

# javascript - 如何在不等待用户使用 JavaScript 输入字符的情况下检查大写锁定是否打开？

> ID：10680935
> 
> 赞同：6
> 
> 时间：2012-05-21T07:17:18.567
> 
> 标签：javascript, capslock

当用户打开大写锁定并专注于密码字段时，Gmail 在 Chrome 中显示一个图标，他们如何做到这一点？

有很多相关的问题，但似乎没有人知道如何在没有用户输入的情况下做到这一点，例如：

*   [你如何判断大写锁定是否在使用 JavaScript？](https://stackoverflow.com/questions/348792/how-do-you-tell-if-caps-lock-is-on-using-javascript)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:19:23.993

没关系，这是Chrome浏览器在关注密码字段时的原生功能，聪明！

# php - 视图中的覆盖页面

> ID：10680936
> 
> 赞同：0
> 
> 时间：2012-05-21T07:17:18.517
> 
> 标签：php, javascript, jquery, mysql, html

我对从mysql数据库表查询的显示数据有一点问题，获得的数据是3d数组，我想在javascript函数中使用它

通常，cake php中的数据显示在一个文件名（不包括扩展名）与控制器函数相同的ctp页面中。如果我单击当前页面中的链接，我通常会调用该页面

```
<a href='../nextpage'>Next page</a> 
```

或者

```
<input type='button' onclick='../nextpage'> 
```

'nextpage' 是一个 ctp 页面 (nextpage.ctp) 以及一个控制器函数名称

我的问题是这样的

查询的数据库数据---发送到--->当前页面（有链接/按钮）---点击打开---->下一页

下一页将再次显示从数据库中查询的一些数据。我当然可以将 nextpage 作为一个新的 ctp 页面，但我想将 nextpage 作为一个覆盖页面（一个弹出窗口，一旦它出现，它的父级就会变灰）。有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T20:55:18.160

您可以有一个带有以下标记的 HTML 链接：

```
<a href="#" onclick="someJavascriptFunction()">Next page</a> 
```

这将触发定义为的javascript函数

```
<script>

function someJavascriptFunction(){

//do something here

}

</script> 
```

# wpf - 使用 XAML 或 MVVM 将焦点设置到 UI 元素

> ID：10680941
> 
> 赞同：6
> 
> 时间：2012-05-21T07:17:36.577
> 
> 标签：wpf, xaml, mvvm

当我在文本框中按下箭头键时，我想将焦点设置到 ui 元素（ui 元素是包含 devexpress 网格的弹出窗口）。我希望它纯粹在 XAML 端或通过使用 MVVM 工作。这行得通吗？请让我知道我能做到这一点的方式。

```
<KeyBinding Key="Down" FocusManager.FocusedElement="{Binding ElementName=PART_GridControl}"/> 
```

我正在使用这样的代码，但我想实现 mvvm。当我在文本框中按下箭头键时，我想将焦点从文本框更改为网格控件 -

```
 private void text_KeyDown(object sender, KeyEventArgs e)
 {
     if (e.Key == Key.Down || e.Key == Key.Up || e.Key == Key.Left || e.Key == Key.Right)
     {
        PART_GridControl.Focus();
     }      
 } 
```

# php - PDO 获取最后插入的 ID

> ID：10680943
> 
> 赞同：182
> 
> 时间：2012-05-21T07:17:51.760
> 
> 标签：php, mysql, database, pdo

我有一个查询，我想插入最后一个 ID。字段 ID 是主键并自动递增。

我知道我必须使用这个语句：

```
LAST_INSERT_ID() 
```

该语句适用于如下查询：

```
$query = "INSERT INTO `cell-place` (ID) VALUES (LAST_INSERT_ID())"; 
```

但是，如果我想使用此语句获取 ID：

```
$ID = LAST_INSERT_ID(); 
```

我收到此错误：

```
Fatal error: Call to undefined function LAST_INSERT_ID() 
```

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：418
> 
> 时间：2012-05-21T07:20:34.797

那是因为那是一个 SQL 函数，而不是 PHP。您可以使用[`PDO::lastInsertId()`](http://php.net/manual/en/pdo.lastinsertid.php).

像：

```
$stmt = $db->prepare("...");
$stmt->execute();
$id = $db->lastInsertId(); 
```

如果你想用 SQL 而不是 PDO API 来做，你可以像普通的选择查询一样做：

```
$stmt = $db->query("SELECT LAST_INSERT_ID()");
$lastId = $stmt->fetchColumn(); 
```

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2017-01-13T13:26:33.870

lastInsertId() 仅在 INSERT 查询之后起作用。

**正确的：**

```
$stmt = $this->conn->prepare("INSERT INTO users(userName,userEmail,userPass) 
                              VALUES(?,?,?);");
$sonuc = $stmt->execute([$username,$email,$pass]);
$LAST_ID = $this->conn->lastInsertId(); 
```

**不正确：**

```
$stmt = $this->conn->prepare("SELECT * FROM users");
$sonuc = $stmt->execute();
$LAST_ID = $this->conn->lastInsertId(); //always return string(1)=0 
```

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2019-05-30T09:47:03.870

您可以通过在连接对象($conn) 上运行 lastInsertId() 方法来获取最后一个事务的 id。

像这样 $lid = $conn->lastInsertId();

请查看文档 [https://www.php.net/manual/en/language.oop5.basic.php](https://www.php.net/manual/en/language.oop5.basic.php)

# ios - 无法在按钮上加载 UIImage

> ID：10680950
> 
> 赞同：0
> 
> 时间：2012-05-21T07:18:41.840
> 
> 标签：ios, xcode, uiimage

我想在按钮上添加UIImage，但是del.png不能显示在我的按钮上，我该怎么办？

我尝试了很多加载图片的方法，但都没有效果，比如：

```
UIImage* delImage = [[UIImage alloc] initWithContentsOfFile:@"del.png"];

UIImage* delImage = [UIImage imageNamed:@"del.png"];

UIImage* delImage =[UIImage imageWithContentsOfFile:@"del.png"];

CalDelBtn *BookItem = [[CalDelBtn alloc] initWithFrame:CGRectMake(startPointX, startPointY, 75, 113) statuePicture:delImage]; 
```

请给我一些建议，谢谢！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:34:46.247

首先，您的图像可以加载

```
UIImage * image = [UIImage imageNamed:@"del.png"]; 
```

这是加载图像的最简单方法，因此它应该适用于自动发布的图像。

不要忘记将它添加到您的 xCode 项目资源管理器中！以下是您的图像通常不会显示的原因列表：[https](https://stackoverflow.com/a/9698764/127493) ://stackoverflow.com/a/9698764/127493 。

然后，将其添加到您的按钮：

```
[button setBackgroundImage:image forState:UIControlStateNormal]; 
```

例如。行得通吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:25:43.433

您能否验证您的图像是否已添加到目标中？Xcode 4.3 有一个讨厌的习惯，即在拖放时不将文件包含到目标中。因此，单击 Xcode 左侧的项目文件，转到*Build Phases*并查看您的图像是否在*Copy Bundle Resources*下的列表中。

# jquery - jquery change() vs keyup()

> ID：10680958
> 
> 赞同：2
> 
> 时间：2012-05-21T07:19:44.803
> 
> 标签：jquery, jquery-plugins

我目前在`keyup()`活动中遇到问题。

当我对`.change()`事件使用自动完成时，一切正常。但是我认为，自动完成的建议仅在失去该领域的焦点时才显示，这是正常的。

问题是当我使用该`.keyup()`事件时，会显示建议，但是当您单击建议列表中的项目时，该项目不会放在文本字段中。

与将`change()`建议设置到字段的功能不同。

```
 jQuery(document).ready(function() {  
        jQuery("#customfield_10000").keyup(function(e){
                            teller = teller + 1;
                            if(teller % 2 == 0){
                            if(e.keyCode == 13)
                            {
                                jQuery("#customfield_10001").focus();
                            }    

            crmAccount = jQuery(this).val();
            lijstAccounts.length = 0;

                    jQuery.ajax({
                        url: "http://"+serverIp+"/getAllAccountNamesJsonP?jsonp_callback=?",
                        dataType: 'jsonp',
                        jsonp: "jsonp_callback",
                        data: {
                            featureClass: "P",
                            style: "full",
                            maxRows: 12,
                            name_startsWith: jQuery(this).val(),
                                                            crm_acc: crmAccount,
                            },
                            success: function( data ) {
                                lijstAccounts.length = 0;
                                 jQuery.map( data, function( item ) {
                                                            lijstAccounts.push(item);
                                                            jQuery('#customfield_10000').trigger(
                                                                'setSuggestions',
                                                            { result : textext.itemManager().filter(lijstAccounts, query)

                                                                                                                            }
                                                            );              
                                    return {
                                        label: item.label,
                                        value: item.value    
                                    }
                                });
                            }
                        }); 
                            }
        });

             jQuery('#customfield_10000').textext({
                plugins : 'autocomplete'
                }).bind('getSuggestions', function(e, data)
                    {

                        textext = jQuery(e.target).textext()[0],
                        query = (data ? data.query : '') || '';

                    });
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T07:24:50.330

你为什么不把两者都绑定？根据您的 jQuery 版本：

jQuery 1.7+

```
$(selector).on('keyup change', function() {}); 
```

其他

```
$(selector).bind('keyup change', function() {}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T10:13:02.277

实际上我今天遇到了类似的问题，我将选择器从引用输入字段的 id 更改为如下名称：

```
$("input:text[name=search-box]").keyup(function(){
    //Code
}); 
```

奇怪的是，在我进行更改后一切正常。希望这对你也有效。

# svn - 以最佳方式在颠覆下管理同一项目的多个副本作为不同项目？

> ID：10680959
> 
> 赞同：0
> 
> 时间：2012-05-21T07:19:53.883
> 
> 标签：svn, version-control

我们有一个基于 asp.net framework 2.0 的项目。它经过全面测试并且运行良好。它是一个旧项目，我需要为 3 个新站点实施相同的项目，只需更改一个主题。不需要更改任何一行代码。我们预期的所有更改仅在少数视图文件和 CSS/图像中。

我应该如何管理这个？

我应该复制代码并将其实现为 subversion 中的不同项目，然后实现主题更改吗？问题是，如果我遇到错误，我需要在所有项目中单独修复它。或者如果有一些新的要求，我需要在所有项目中更新。

或者

有没有其他更好的方法来使用颠覆来管理这个，这样我在一个分支中修复的错误也可以更新到其他项目。？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T07:35:51.083

您可以使用[外部](http://svnbook.red-bean.com/en/1.0/ch07s03.html)而不是将所有内容复制到新项目中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T08:17:07.940

Subversion 可能是错误的工具。使用 Ant 或 Maven 之类的构建系统（对于 .NET 应该有类似的东西），它从您的原始项目创建一个“二进制”，您可以在其中添加新项目的依赖项。

然后，构建系统将为您制作必要的副本，使所有内容保持同步。

# x86 - 图灵完备的字母数字 x86 指令集（子集）

> ID：10680960
> 
> 赞同：5
> 
> 时间：2012-05-21T07:20:20.997
> 
> 标签：x86, alphanumeric, opcode, turing-complete

我希望创建一个最小的、计算通用的字母数字 x86 操作码子集。最终，我希望子集包含尽可能少的指令，如果有多个最小子集，我也想知道这一点。该子集应该能够模拟可以使用整套字母数字指令编写的任何程序。说明应仅涵盖与字符“AZ”、“az”和“0-9”相对应的说明。

到目前为止，我认为 a `push`, `pop`, `inc`, `dec`, `cmp`, and`je`就足够了，但我确信还有一个较小的集合。我如何证明我生成的集合能够使用所有字母数字指令模拟任何程序？我怎么能证明这样的集合是最小的？有谁知道这样的指令子集是否存在？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-09-25T10:41:06.583

我不确定我是否得到您的问题，尤其是关于“字母数字”的部分，但我想指出众所周知，两者[`mov`](http://www.cl.cam.ac.uk/~sd601/papers/mov.pdf)都是[`xor`](https://github.com/xoreaxeaxeax/movfuscator/blob/master/post/xor.py)图灵完备的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-08T13:53:06.107

这只是一个指令！这里是证明

[http://en.wikipedia.org/wiki/One_instruction_set_computer](http://en.wikipedia.org/wiki/One_instruction_set_computer)

为什么？只是因为“指令”是一个依赖于机器的概念。您不能仅仅因为没有这样的通用/绝对/原子指令而定义一小组指令：这完全取决于底层硬件：事实上，“真正的”图灵机是一个数学概念（一组规则）而不是物理机器

# mysql - mysql - 如何连接字符串并将字符串转换为日期？

> ID：10680961
> 
> 赞同：3
> 
> 时间：2012-05-21T07:20:25.117
> 
> 标签：mysql, stored-procedures

## 请看一下我的存储过程代码。

```
CREATE DEFINER=`ninjaboy`@`%` PROCEDURE `getMonthlyTotalScore`(IN ninjaId int,  IN month int, IN year int)
BEGIN
    DECLARE startDate DATE;
    DECLARE endDate DATE;
    DECLARE maxDay INTEGER;

    SELECT DAY(LAST_DAY(year + '-' + month + '-01')) INTO maxDay;

    SET startDate = year + '-' + month + '-01';
    SET endDate = year + '-' + month + '-' + maxDay;

    SELECT SUM(SCORE) FROM NINJA_ACTIVITY WHERE NINJA_ID = ninjaId AND DATE BETWEEN startDate AND endDate ORDER BY DATE;
END 
```

## 测试数据：

```
NINJA_ACTIVITY_ID | NINJA_ID | 分数 | 日期
1 1 24 2012-05-01
2 1 36 2012-05-06
3 1 29 2012-05-11

```

函数调用：`call getTotalMonthlyScore (1, 5, 2012)`

我正在尝试根据`ninjaId`.

为什么不工作？知道我哪里错了吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-05-21T07:49:38.747

**CONCAT() 是关键。**

## 前：

```
mysql> CREATE  PROCEDURE `getMonthlyTotalScore`(IN ninjaId int,  IN month int, IN year int)
        -> BEGIN
        ->     DECLARE startDate DATE;
        ->     DECLARE endDate DATE;
        ->     DECLARE maxDay INTEGER;
        -> 
        ->     SELECT year + '-' + month + '-01'; #NOTE THIS
        -> 
        ->     
        -> END;    
        -> |
    Query OK, 0 rows affected (0.00 sec)

    mysql> call getMonthlyTotalScore(1,5,2012);
        -> |
    +----------------------------+
    | year + '-' + month + '-01' |
    +----------------------------+
    |                       2016 |
    +----------------------------+
    1 row in set (0.00 sec) 
```

## 后：

```
mysql> CREATE  PROCEDURE `getMonthlyTotalScore`(IN ninjaId int,  IN month int, IN year int)
    -> BEGIN
    ->     DECLARE startDate DATE;
    ->     DECLARE endDate DATE;
    ->     DECLARE maxDay INTEGER;
    -> 
    ->     SELECT CONCAT(year,'-',month,'-01'); # NOTE THIS
    -> 
    ->     
    -> END;    |
Query OK, 0 rows affected (0.00 sec)

mysql> call getMonthlyTotalScore(1,5,2012);
    -> |
+------------------------------+
| CONCAT(year,'-',month,'-01') |
+------------------------------+
| 2012-5-01                    |
+------------------------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-05-21T07:48:40.873

代替：

```
SELECT DAY(LAST_DAY(year + '-' + month + '-01')) INTO maxDay; 
```

将其替换为

```
SET maxDay := DAY(LAST_DAY(CAST(CONCAT(year, '-',month,'-01) as DateTime))); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-05-21T08:15:33.383

从贝克的回答中得到想法后，我有了这个可行的解决方案。

```
CREATE DEFINER=`ninjaboy`@`localhost` PROCEDURE `getMonthlyTotalScore`(IN ninjaId int,  IN month int, IN year int)
BEGIN
    DECLARE startDate DATE;
    DECLARE endDate DATE;
    DECLARE maxDay INTEGER;

    SELECT DAY(LAST_DAY(CONCAT(year,'-',month,'-01'))) INTO maxDay;

    SET startDate =  CONCAT(year,'-',month,'-01');
    SET endDate = CONCAT(year,'-',month,'-',maxDay);

    SELECT SUM(SCORE) FROM NINJA_ACTIVITY WHERE NINJA_ID = ninjaId AND DATE BETWEEN startDate AND endDate ORDER BY DATE;
END 
```

# user-interface - lwuit中表格的自定义字体？

> ID：10680962
> 
> 赞同：1
> 
> 时间：2012-05-21T07:20:25.257
> 
> 标签：user-interface, java-me, lwuit

在我的应用程序中，我使用资源文件为表格组件使用了自定义字体。我在资源文件中创建了一种字体

```
Font.size = 10
Font.Face = Times new roman

Resources res = null;
res = Resources.open("/lang.res");      
font = res.getFont("SMALL_FONT");

Table table;
table = new Table(tableModel);
table.table.getStyle().setFont(font); 
```

但我无法获得小字体，它显示默认的移动字体。

如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-22T04:57:21.903

根据您的手机，它可能无法正常工作。例如，在黑莓上它总是返回相同的字体，而我在三星 B2710 J2ME 手机上得到相同的行为。我通过使用位图字体并从资源中加载它们来解决这个问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T08:20:41.547

在我看来，您可能将“样式”设置为错误的`Component`。

我正在使用 LWUIT 资源编辑器和 Deafult MIDlet（有一个表`Form`）对其进行测试，并更改 TableCell UIID，我可以修改字体样式。试试这个 UIID。

# c - 改进 Comsol Multiphysics 3.5 的网格和内存使用？

> ID：10680963
> 
> 赞同：1
> 
> 时间：2012-05-21T07:20:30.280
> 
> 标签：c, matlab

如何在不增加系统内存的情况下增加 Comsol 的网格大小？我的系统内存是 32 GB，但我无法模拟我的问题，因为它需要大量内存。

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T07:34:19.330

增加网格尺寸。增加网格大小会导致减少模拟所需的内存量。随着网格大小的增加，您可以用更少的内存解决巨大的问题。没有其他方法可以减少模拟所需的内存量；因为您无需编写任何程序，所有事情都在 COMSOL 中自动完成。

# eclipse - jar 文件在 lib 文件夹中有额外的“.jar”扩展名

> ID：10680966
> 
> 赞同：0
> 
> 时间：2012-05-21T07:20:35.767
> 
> 标签：eclipse, apache, tomcat, openejb

我面临一个奇怪的问题。我不知道这是“带有 Openejb 的 apache-tomcat-5.5.25”问题还是 Eclipse。

我有一个 Maven 项目。我做 maven clean 和 maven install。之后，我将该项目添加到“带有 Openejb 的 apache-tomcat-5.5.25”服务器中，然后将该项目发布到服务器中。

问题从这里开始。当我检查发布的 lib 文件夹时，我发现一些 jar 文件有一个额外的扩展名“.jar”。例如`"xyz.jar"`变成`"xyz.jar.jar"`.

任何想法为什么会发生这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T08:14:44.710

按照上游的问题：Maven 在它的`target`文件夹中产生了什么？

如果它也存在，请使用 运行 Maven `-X`，将日志写入文件并在该文件中搜索损坏的 JAR 名称。

# iphone - 在 Iphone 的 Social App 中发表评论和发布到 Wall 之间的区别

> ID：10680967
> 
> 赞同：-1
> 
> 时间：2012-05-21T07:20:37.270
> 
> 标签：iphone, social

Iphone 中社交应用程序的代码片段涉及 2 个不同的功能，即发布评论和发布到 Wall。

发布包含 groupId、postmessageId 的评论。

```
 urlStr = [NSString stringWithFormat:@"%@%@/post/%@/comment?%@",HEADER_URL_GROUP,[ClassOfMethods getRecentGrpId],postid,[ClassOfMethods getAuthString]];
    url = [[NSURL alloc] initWithString:urlStr];
    [request setURL:url];  
    [request setHTTPMethod:@"PUT"];  
    [request setValue:postLength forHTTPHeaderField:@"Content-Length"];  
    [request setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];  
    [request setHTTPBody:postData]; 
```

而发帖到墙上还包括 groupId 和 PostmessageId

```
 urlStr = [NSString stringWithFormat:@"%@%@/member/%@/post?%@",HEADER_URL_GROUP,[ClassOfMethods getRecentGrpId],postid,[ClassOfMethods getAuthString]];

    url = [[NSURL alloc] initWithString:urlStr];
    [request setURL:url];  
    [request setHTTPMethod:@"PUT"];  
    [request setValue:postLength forHTTPHeaderField:@"Content-Length"];  
    [request setValue:@"applicatiosn/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];  
    [request setHTTPBody:postData]; 
```

那么，发表评论和发布到 Wall 的代码看起来很相似，有谁知道这两个函数之间的区别是什么？明明应该有吧？否则他们不会制作 2 个单独的功能。

如果我的理解不正确，请纠正我。我认为必须先有人在墙上发帖，然后同一组中的其他用户才能发布与墙上发布的消息相关的评论。用户可以将消息发布到其他任何人的墙上，只要他们属于同一个 groupId。

如果有人使用 postId 将帖子发布到其他人的墙上，那么在墙上发布的messgae 之后的后续评论是否具有相同的 postId？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T07:35:54.180

有一个区别`urlStr`：在评论的情况下，它读取`.../comment?%@"`，在发布到墙上的情况下`.../post?%@"`。

# javascript - 如何在 iframe 中加载 google plus 分享按钮？

> ID：10680969
> 
> 赞同：3
> 
> 时间：2012-05-21T07:20:44.350
> 
> 标签：javascript, google-plus, google-plus-one

谁能给我一个关于如何在 iframe 中异步加载 Google plus 分享按钮（而不是 +1 按钮）的解决方案。我设法为 +1 按钮做到了这一点。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-29T16:58:45.947

试试这个 html 片段：

```
<iframe src="https://plusone.google.com/_/+1/fastbutton?bsv&amp;size=medium&amp;hl=en-US&amp;url=http://test.com/&amp;parent=http://test.com/" allowtransparency="true" frameborder="0" scrolling="no" title="+1"></iframe> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-26T21:15:40.867

如果您要做的是在用户将鼠标悬停在某物上时显式渲染按钮，那么您需要做的是使用此处描述的显式渲染流程：

[https://developers.google.com/+/plugins/+1button/](https://developers.google.com/+/plugins/+1button/)

但是，有一个转折点，因为您使用的是共享按钮，所以不能使用显式渲染代码直接渲染到 div。相反，您将创建共享链接，将呈现设置为显式，然后可以使用 JavaScript 触发共享按钮的呈现。

相关代码为：

```
<html>
  <head>
    <title>+Share: Explicit render</title>
    <link rel="canonical" href="http://www.example.com" />
    <script type="text/javascript">
    window.___gcfg = {
      lang: 'en-US',
      parsetags: 'explicit'
    };
    function renderShare() {
      gapi.plus.go(); // Render all the buttons
    }
    </script>
  </head>
  <body>
    <a href="#" onClick="renderShare();">Render the share control</a>
    <!-- a share button that will get rendered when gapi.plus.go is called -->
    <div class="g-plus" data-action="share" id="share-div"></div>
  </body>
  <script type="text/javascript">
    // Asynchronously load the plusone script, for performance
    (function() {
      var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
      po.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(po, s);
    })();
  </script>
</html> 
```

对你来说，我猜你正在尝试使用不同的触发器来呈现你的 +1 按钮，而不是用户明确必须单击的按钮，你可以只使用适当的事件来触发渲染。

# c - 如何通过 DE2 上的 UART 串 行发送数据

> ID：10680970
> 
> 赞同：2
> 
> 时间：2012-05-21T07:20:55.873
> 
> 标签：c, serial-port, uart

当我用 COM 线连接两个 Board-DE2 时，此代码不会通过 UART 发送数据。我不明白为什么它不运行。怎么了？

```
#define RS232_UART_DATA ((volatile int*) 0x10001010)
#define RS232_UART_CONTROL ((volatile int*) (0x10001010+4))

int main()
{
    unsigned char hwld[] = {'H','e','l','l','o',' ','W','o','r','l','d','\0'};
    unsigned char *pOutput;

    pOutput = hwld;
    while(*pOutput) //strings in C are zero terminated
    {
        //if room in output buffer
        if((*RS232_UART_CONTROL)&0xffff0000  ) 
        {
            //then write the next character
            *RS232_UART_DATA = (*pOutput++); 
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-23T07:49:32.257

您能否更具体地了解“通过 Com 线连接两个 Board-DE2”？您希望两个 DE2 板相互通信吗？根据上面@HansPassant 提供的网络链接，您应该将DE2 Board 连接到运行TeraTerm 的PC。首先尝试此设置，并确保您在 TeraTerm 中输入正确的 COM 端口设置，如网页上所述。

# ruby - 获取中间人布局文件中页面的当前路径

> ID：10680971
> 
> 赞同：16
> 
> 时间：2012-05-21T07:21:00.083
> 
> 标签：ruby, middleman

是否可以在中间人文件中检索页面的当前路径？例如，如果我有一个`layout.erb`类似于以下内容的布局文件：

```
<%= page.path %>
<%= yield %> 
```

和一个测试文件`index.html`：

```
Testing 
```

然后当 Middleman 呈现页面时，我会得到类似的东西：

```
/index.html
Testing 
```

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-02-05T02:59:11.147

Middleman 也提供了`current_page`变量。 `current_page.path`是这个资源的源路径（相对于源目录，没有模板扩展）并且`current_page.url`是没有目录索引的路径（所以`foo/index.html`变成了 just `foo`）。

```
<%= current_page.path %>
# -> index.html

<%= current_page.url %>
# -> / 
```

Middleman 的`Middleman::Sitemap::Resource`ruby​​doc 中的详细信息。 [http://rubydoc.info/github/middleman/middleman/Middleman/Sitemap/Resource](http://rubydoc.info/github/middleman/middleman/Middleman/Sitemap/Resource)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-05-21T09:17:51.343

The solution is:

```
<%= request.path %> 
```

# c# - Rx Amb 扩展

> ID：10680973
> 
> 赞同：0
> 
> 时间：2012-05-21T07:21:16.550
> 
> 标签：c#, silverlight, caching, enterprise-library, system.reactive

我正在使用 Silverlight 的 Reactive 框架，并希望实现以下目标。

我正在尝试为 Silverlight 客户端创建一个典型的数据提供程序，该客户端还利用 MS Ent Lib 中提供的缓存框架。这些方案要求我必须在访问 WCF 数据客户端之前检查缓存中的键值对。

通过使用 Rx 扩展 Amb，我可以从缓存或 WCF 数据客户端中提取数据，以先返回者为准，但是如果值在缓存中，我如何阻止 WCF 客户端执行调用？

我还想考虑竞争条件，例如，如果第一个订阅者请求一些数据并且提供者正在从 WCF 数据客户端（异步）获取数据，我如何防止后续异步请求做同样的事情（在这个阶段，缓存尚未填充）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T09:02:25.360

我有完全相同的问题。我使用具有以下签名的扩展方法解决了它：

```
IObservable<R> FromCacheOrFetch<T, R>(
    this IObservable<T> source,
    Func<T, R> cache,
    Func<IObservable<T>, IObservable<R>> fetch,
    IScheduler scheduler) where R : class 
```

实际上，这样做是在源 observable 中获取并返回一个 observable，它将每个输入值与其输出值匹配。

要获取每个输出值，它将首先检查缓存。如果该值存在于缓存中，则使用该值。如果不是，它**只会**在不在缓存中的值上启动`fetch`函数。如果所有值都在缓存中，则该函数将永远不会启动 - 因此没有服务连接设置惩罚等。**`fetch`**

 **我会给你代码，但它基于使用`Maybe<T>`monad 的扩展方法的一个稍微不同的版本——所以你可能会发现你需要摆弄实现。

这里是：

```
 public static IObservable<R> FromCacheOrFetch<T, R>(this IObservable<T> source, Func<T, R> cache, Func<IObservable<T>, IObservable<R>> fetch, IScheduler scheduler)
        where R : class
    {
        return source.FromCacheOrFetch<T, R>(t => cache(t).ToMaybe(null), fetch, scheduler);
    }

    public static IObservable<R> FromCacheOrFetch<T, R>(this IObservable<T> source, Func<T, Maybe<R>> cache, Func<IObservable<T>, IObservable<R>> fetch, IScheduler scheduler)
    {
        var results = new Subject<R>();

        var disposables = new CompositeDisposable();

        var loop = new EventLoopScheduler();
        disposables.Add(loop);

        var sourceDone = false;
        var pairsDone = true;
        var exception = (Exception)null;

        var fetchIn = new Subject<T>();
        var fetchOut = (IObservable<R>)null;
        var pairs = (IObservable<KeyValuePair<int, R>>)null;

        var lookup = new Dictionary<T, int>();
        var list = new List<Maybe<R>>();
        var cursor = 0;

        Action checkCleanup = () =>
        {
            if (sourceDone && pairsDone)
            {
                if (exception == null)
                {
                    results.OnCompleted();
                }
                else
                {
                    results.OnError(exception);
                }
                loop.Schedule(() => disposables.Dispose());
            }
        };

        Action dequeue = () =>
        {
            while (cursor != list.Count)
            {
                var mr = list[cursor];
                if (mr.HasValue)
                {
                    results.OnNext(mr.Value);
                    cursor++;
                }
                else
                {
                    break;
                }
            }
        };

        Action<KeyValuePair<int, R>> nextPairs = kvp =>
        {
            list[kvp.Key] = Maybe<R>.Something(kvp.Value);
            dequeue();
        };

        Action<Exception> errorPairs = ex =>
        {
            fetchIn.OnCompleted();
            pairsDone = true;
            exception = ex;
            checkCleanup();
        };

        Action completedPairs = () =>
        {
            pairsDone = true;
            checkCleanup();
        };

        Action<T> sourceNext = t =>
        {
            var mr = cache(t);
            list.Add(mr);
            if (mr.IsNothing)
            {
                lookup[t] = list.Count - 1;
                if (fetchOut == null)
                {
                    pairsDone = false;
                    fetchOut = fetch(fetchIn.ObserveOn(Scheduler.ThreadPool));
                    pairs = fetchIn.Select(x => lookup[x]).Zip(fetchOut, (i, r2) => new KeyValuePair<int, R>(i, r2));
                    disposables.Add(pairs.ObserveOn(loop).Subscribe(nextPairs, errorPairs, completedPairs));
                }
                fetchIn.OnNext(t);
            }
            else
            {
                dequeue();
            }
        };

        Action<Exception> errorSource = ex =>
        {
            sourceDone = true;
            exception = ex;
            fetchIn.OnCompleted();
            checkCleanup();
        };

        Action completedSource = () =>
        {
            sourceDone = true;
            fetchIn.OnCompleted();
            checkCleanup();
        };

        disposables.Add(source.ObserveOn(loop).Subscribe(sourceNext, errorSource, completedSource));

        return results.ObserveOn(scheduler);
    } 
```

* * *

示例用法如下所示：

您将拥有要获取的索引的来源：

```
IObservable<X> source = ... 
```

您将有一个可以从缓存中获取值的函数和一个可以将它们放入的操作（并且两者都应该是线程安全的）：

```
Func<X, Y> getFromCache = x => ...;
Action<X, Y> addToCache = (x, y) => ...; 
```

然后，您将实际调用从数据库或服务中获取数据：

```
Func<X, Y> getFromService = x => ...; 
```

然后你可以这样定义`fetch`：

```
Func<IObservable<X>, IObservable<Y>> fetch =
    xs => xs.Select(x =>
    {
        var y = getFromService(x);
        addToCache(x, y);
        return y;
    }); 
```

最后，您可以通过调用以下命令进行查询：

```
IObservable<Y> results =
    source.FromCacheOrFetch(
        getFromCache,
        fetch,
        Scheduler.ThreadPool); 
```

当然，您需要订阅结果才能进行计算。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:42:54.697

显然`Amb`这不是正确的方法，因为每次都会同时影响缓存和服务。如果缓存未命中，EntLib 会返回什么？

请注意，这`Observable.Timeout`是一个合理的选择：

```
cache(<paramters>).Timeout(TimeSpan.FromSeconds(1), service<paramters>); 
```

但显然，如果您想处理来自 EntLib 的返回并采取适当的行动，那么超时并不是一个好主意。

我不明白为什么这必然是一个反应性扩展问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-07-07T04:46:02.570

一种简单的方法，可能不如@Enigmativity 的解决方案功能全面，可能类似于：

```
public IObservable<T> GetCachedValue<TKey, TResult>(TKey key, Func<TKey, TResult> getFromCache, Func<TKey, TResult> getFromSource)
{
    return getFromCache(<key>).Concat(getFromSource(<key>).Take(1);
} 
```

这只是一个松散的想法，您需要添加：

*   将项目添加到缓存的机制，或假设 getFromSource 缓存结果
*   某种线程安全性以防止对同一未缓存键的源多次命中（如果需要）
*   如果项目不在缓存中，getFromCache 将需要返回 Observable.Empty()。

但如果你想要一些简单的东西，这不是一个糟糕的起点。**

# vb6 - 如何在 VB6.0 项目中删除引用的组件

> ID：10680974
> 
> 赞同：1
> 
> 时间：2012-05-21T07:21:18.217
> 
> 标签：vb6

目前正在做一个 VB 6.0 项目，在注册了几个 ocx 文件后，最初在项目中添加了相同的文件并稍后将其删除，并使用相同的 ocx 文件从不同位置完成上述步骤。现在我有两个同名的控件出现在组件对话框，想要删除不需要的参考怎么做。请帮帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-21T08:31:57.593

通常组件在通过 Project->References 添加引用后出现。你肯定可以谷歌 wich dll 与哪个 ocx 相关联。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-07-19T15:40:24.703

我遇到了类似的问题，经过几个小时的研究，我找到了解决方案。您需要转到 Regedit 并按名称查找您的 dll。Visual Basic 6.0 IDE 将其注册在注册表中，因此无法将其从 IDE UI 中删除。删除 Regedit 中的密钥并重新启动 IDE 后，不需要的引用消失了。

# java - org.springframework.beans.factory.NoSuchBeanDefinitionException

> ID：10680975
> 
> 赞同：1
> 
> 时间：2012-05-21T07:21:18.373
> 
> 标签：java, spring

当我运行我的第一个 spring 示例代码时，我得到了这个错误。春天好像没有

以某种方式重新调整一个 bean，但我不知道为什么。我制作了一个 bean 定义文件并在那里添加了一个 bean。

然后我在 WEBINF 文件夹下找到了该文件。假设这应该没有任何问题，但看起来

就像我在这里遇到了一些问题。下面是我的bean定义文件和jsp。谁能告诉我

我究竟做错了什么？

应用程序上下文.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
<bean id="HelloSpring" class="com.spring.toby.HelloSpring"></bean>

</beans> 
```

HelloSpring.java

```
package com.spring.toby;

public class HelloSpring {
public String sayHello(String name){
    return "Hello " + name;
}
} 
```

HelloSpring.jsp

```
<%@ page language="java" contentType="text/html; charset=EUC-KR"
pageEncoding="EUC-KR"%>
<%@ page import="org.springframework.context.ApplicationContext" %>    
<%@ page import="org.springframework.web.context.support.WebApplicationContextUtils" %>    
<%@ page import="com.spring.toby.HelloSpring" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">
<title>Insert title here</title>
</head>
<body>
<%
    ApplicationContext context = WebApplicationContextUtils.getWebApplicationContext(
    request.getSession().getServletContext());
    out.println("check");
    HelloSpring helloSpring = context.getBean(HelloSpring.class);

    //out.println(helloSpring.sayHello("seho"));
%>
</body>
</html> 
```

web.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.5" xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee   /web-app_2_5.xsd">

<!-- The definition of the Root Spring Container shared by all Servlets and Filters -->
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>/WEB-INF/spring/root-context.xml</param-value>
</context-param>

<!-- Creates the Spring Container shared by all Servlets and Filters -->
<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>

<!-- Processes application requests -->
<servlet>
    <servlet-name>appServlet</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <init-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>/WEB-INF/spring/appServlet/servlet-context.xml</param-value>
    </init-param>
    <load-on-startup>1</load-on-startup>
</servlet>

<servlet-mapping>
    <servlet-name>appServlet</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping>

</web-app> 
```

这是我的错误日志

org.apache.jasper.JasperException：在第 17 行处理 JSP 页面 /WEB-INF/views/hellospring.jsp 时发生异常

14: ApplicationContext 上下文 = WebApplicationContextUtils.getWebApplicationContext( 15: request.getSession().getServletContext()); 16: out.println("检查"); 17：HelloSpring helloSpring = context.getBean(HelloSpring.class); 18:19 :
//out.println(helloSpring.sayHello("seho")); 20：%>

```
Stacktrace:
    org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:568)
    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:470)
    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238)
    org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:262)
    org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1157)
    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:927)
    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:827)
    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)

root cause

org.springframework.beans.factory.NoSuchBeanDefinitionException: No unique bean of type [com.spring.toby.HelloSpring] is defined: expected single bean but found 0: 
    org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:271)
    org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1101)
    org.apache.jsp.WEB_002dINF.views.hellospring_jsp._jspService(hellospring_jsp.java:81)
    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:238)
    org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:262)
    org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1157)
    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:927)
    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:827)
    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
    org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:778)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
    javax.servlet.http.HttpServlet.service(HttpServlet.java:722) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T07:28:01.500

您需要添加`applicationContext.xml`contextConfigLocation

```
<context-param>
    <param-name>contextConfigLocation</param-name>
    <param-value>/WEB-INF/spring/root-context.xml,
                 /WEB-INF/spring/applicationContext.xml
     </param-value>
</context-param> 
```

`<import:resource>`或者，您也可以使用xml 文件中的标记从另一个文件导入 bean 定义

* * *

**建议**

将逻辑放在控制器（Servlet、控制器类..）上而不是 JSP 上是一种很好的做法

# jquery - 使用以下代码发送回服务器的字符串可以有多大？

> ID：10680979
> 
> 赞同：2
> 
> 时间：2012-05-21T07:21:34.267
> 
> 标签：jquery, asp.net, postback

您好，我需要将一些数据发送回服务器，并且我想使用以下代码。

有人知道使用以下代码发送的字符串的尺寸是否有限制

这是我的 js 代码：

```
 $(document).ready(function() {

          $.ajax({
              type: "POST",
              url: "test.aspx/PassBackdata",
              contentType: "application/json; charset=utf-8",
              data: "{'args': '" + Ldata + "'}",
                   dataType: "json",
                   success: AjaxSucceeded,
                   error: AjaxFailed
               });
           });

      }; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T07:23:24.853

由于您使用的是 POST，因此您发送到服务器的数据可能是任意大的，并且由[`<httRuntime>`](http://msdn.microsoft.com/en-us/library/e1f13641.aspx)web.config 中的元素控制：

```
<!-- Limit the request size to 4MB -->    
<httpRuntime maxRequestLength="4096" /> 
```

如果您在 IIS7+ 中托管，您还应该使用以下[`<requestLimits>`](http://www.iis.net/ConfigReference/system.webServer/security/requestFiltering/requestLimits)标签：

```
<system.webServer>
    <security>
        <requestFiltering>
            <!-- Limit the request size to 4MB -->    
            <requestLimits maxAllowedContentLength="4194304" />
        </requestFiltering>
    </security>
</system.webServer> 
```

另外，我建议您使用该`JSON.stringify`方法来确保正确编码数据：

```
$.ajax({
    type: "POST",
    url: "test.aspx/PassBackdata",
    contentType: "application/json; charset=utf-8",
    data: JSON.stringify({ args: Ldata }),
    dataType: "json",
    success: AjaxSucceeded,
    error: AjaxFailed
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T07:25:22.077

这取决于服务器设置——它将接受多少数据以及等待数据多长时间。通常默认设置为几 MB（PHP 为 8 MB，对于 ASP.NET 不确定），但这取决于配置。但是，大数据会影响用户体验，并且在达到 Web 服务器限制之前，页面可能会明显变慢。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-05-21T07:25:53.980

Web 服务器通常对请求的大小有限制。它因一种服务器类型而异，并且也是可配置的。

例如，Windows IIS 的默认限制是 4 MB。

# asp.net - 如何使用指定的更新命令使用 ASP.net 显示带有联接的 Gridview

> ID：10680980
> 
> 赞同：0
> 
> 时间：2012-05-21T07:21:39.810
> 
> 标签：asp.net, .net

如何使用指定更新命令的 ASP.net 显示带有联接的 Gridview，我尝试使用此代码但仍然没有用:(

`UPDATE WSR.dbo.tb_Project p1 SET p2.ClartiyID=@ClarityID,p2.Start_date=@start_date,p2.End_date=@End_date,p2.Planned_efforts=@Planned_efforts WHERE (ProjectID=@ProjectID)`?

我有两个表，如何通过 Joins 更新它？**我应该在 Update 'table_name'** set **column_name**中提及 Wat 表名以更新两个表中的记录吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-21T08:27:19.923

[如何编写更新查询以使用 SQL 数据源更新两个表？](https://stackoverflow.com/questions/5754869/how-to-write-update-query-to-update-two-tables-with-sql-data-source)有一套完整的答案。

# ant - 如何检查 ant 中的条件并根据其值打印消息？

> ID：10680982
> 
> 赞同：0
> 
> 时间：2012-05-21T07:21:48.747
> 
> 标签：ant

这是一小段代码，请看一下，然后按照说明进行操作....

```
 <condition property="${param1}">
            <or>
                <istrue value="win-x86"/>
                <istrue value= "win-x86-client"/>
                <istrue value= "win-x64"/>
            </or>
     </condition>
    <target name="Mytarget" if="${param1}">
        <echo message="executing windows family build:::${param1}"/>
    </target>
<target name="print.name" >
    <antcall target="win-x86-build">
       <param name="param1" value="${platform.id}"/>
    </antcall>
</target> 
```

我希望当 platform.id 包含任何 Windows 系列名称时，它应该打印该消息`EXECUTING WINDOWS FAMILY BUILD`，但问题是即使该系列是 unix，它也会打印此消息。

我认为要么我没有正确检查条件，要么我犯了其他错误。
有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-05-21T07:44:19.073

看起来您误解了[Condition Task](http://ant.apache.org/manual/Tasks/condition.html)：

> `property`：要设置的属性的名称。

尝试使用[Condition`os`](http://ant.apache.org/manual/Tasks/conditions.html#os)：

> 测试当前操作系统是否属于给定类型。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-01-13T10:57:01.650

从 ant 1.9.1 开始，您可以这样做：

```
<project name="tryit" xmlns:if="ant:if" xmlns:unless="ant:unless">
   <exec executable="java">
     <arg line="-X" if:true="${showextendedparams}"/>
     <arg line="-version" unless:true="${showextendedparams}"/>
   </exec>
   <condition property="onmac">
     <os family="mac"/>
   </condition>
   <echo if:set="onmac">running on MacOS</echo>
   <echo unless:set="onmac">not running on MacOS</echo>
</project> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-05-21T18:49:09.563

Peter 试图解释您必须明确指定属性名称。请尝试以下操作以使您的代码正常工作：

```
<project name="demo" default="Mytarget">

    <condition property="windoze">
        <or>
            <equals arg1="${param1}" arg2="win-x86"/>
            <equals arg1="${param1}" arg2="win-x86-client"/>
            <equals arg1="${param1}" arg2="win-x64"/>
        </or>
    </condition>

    <target name="Mytarget" if="windoze">
        <echo message="executing windows family build:::${param1}"/>
    </target>

</project> 
```

[更好的解决方案是利用内置于 ANT条件](http://ant.apache.org/manual/Tasks/condition.html)任务中的操作系统测试。

```
<project name="demo" default="Mytarget">

    <condition property="windoze">
        <os family="windows"/>
    </condition>

    <target name="Mytarget" if="windoze">
        <echo message="executing windows family build:::${os.name}-${os.arch}-${os.version}"/>
    </target>

</project> 
```

# excel - Excel 2010 - 条件格式

> ID：10680983
> 
> 赞同：0
> 
> 时间：2012-05-21T07:21:58.460
> 
> 标签：excel, xlsm

我有一个电子表格，我希望与周六和周日相关的列自动填充颜色。随着月份和年份的变化，我希望格式能够识别周末并相应地填充列。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-22T08:11:55.730

Kunal，我认为日期/工作日名称来自第 1 行中的日期编号，您已将其格式化为显示工作日。在这种情况下，我会选择例如第一列（所有单元格都突出显示），然后选择条件格式、新规则、使用公式来确定要格式化的单元格并将以下公式放入：

```
 =WEEKDAY(A$1,2)>5 
```

并选择背景颜色。确保选择第一列并使用格式刷将条件格式复制到其他列。这样做是查看第 1 行中的日期编号并计算周一 = 1 到周日为 7 的工作日编号。因此，任何高于 5 的值都是周六或周日。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-05-21T08:28:02.973

在 Excel 2010 中

*   选择要格式化的列
*   单击主页选项卡。
*   在样式组中，单击条件格式
*   选择“新规则”
*   选择规则类型 = 仅格式化包含
*   在格式只有单元格中，将单元格值设置为“等于”星期日
*   单击格式按钮并选择填充选项卡

*   周六也重复上述步骤

    如果您想在此规则后面进行更改，请单击条件格式并选择“管理规则”

    希望对你有帮助..

# php - Is there a way to Find out which PHP script has updated the MySQL database?

> ID：10680988
> 
> 赞同：0
> 
> 时间：2012-05-21T07:22:34.397
> 
> 标签：php, mysql, apache, mysqli

I can find out that certain query has been fired to MySQL database from the mysqlBinLog. But is there a way to find which PHP file has executed those queries ?

My problem is- I am not able to trace which php file in the Application is firing a particular update query.

I have searched in the whole application for that particular update query but I didn't find any match. It is generated programatically somewhere and get executed.

Since the code footprint is too big, it is practically not possible for me to go and put a log statement everywhere.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-21T07:27:46.070

You can wrap a logger class around the database access library (PDO) and log the query together with a backtrace.

```
class LoggerPDO extends PDO
{
    function query()
    {
        return $this->logger('query', func_get_args());
    }

    private function logger($method, $args)
    {
        // log query
        debug_print_backtrace();
        // push to parent
        return call_user_func_array(array($this, 'parent::' . $method), $args);
    }
} 
```

You can add other methods that need logging too, such as `prepare()` or `execute()`.

If you're using `mysql_` functions, good luck :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-21T07:26:42.143

U can put logs from where update queries are fired and get these logs info

# php - 使用 PHP/JS 使用上传的文件动态填充网页

> ID：10680990
> 
> 赞同：0
> 
> 时间：2012-05-21T07:22:55.627
> 
> 标签：php, javascript, dynamic, upload

我的任务是修改一个页面，以便它接受上传的文件并解析该文件的内容以以特定格式显示它。

我有解析文件的代码 - 但目前它读取服务器上的静态文件并将其作为字符串读取。相反，我希望文件的内容在上传后填充字符串。

使用 PHP/JS 完成此任务的最佳方法是什么。如果可能的话，我宁愿完全不使用 PHP，但如果我必须这样做也没关系。

也欢迎其他选择。

谢谢

编辑：

谢谢 - 我会尽快发布代码，因为我还没有对其进行一些更改。

这可能是一个愚蠢的问题，但我不熟悉 AJAX。

文件是否必须上传到任何位置，或者可以临时存放在变量中。

我需要使用的文件是

[http://distributome.avinashc.com/howardL/scripts/distributeome.js](http://distributome.avinashc.com/howardL/scripts/distributome.js)

特别是 xmlDoc = xmlhttp.responseXML;

我正在使用操作打开文件“Distributome.xml”

xmlhttp.open("GET","Distributeome.xml",false);

相反，我想使用用户上传的一个（或两个）XML 文件来填充它。

作为任务的另一部分；我需要使用两个文件，以便它们包含不同的数据；所以现在我只是在我评论的行中附加这两个文件。

编辑：

```
 {        
   /*
   Split into distributions and relations - but append them
    xmlhttp.open("GET","Distributome.xml",false);
    xmlhttp.send();
    if (!xmlhttp.responseXML.documentElement && xmlhttp.responseStream)
        xmlhttp.responseXML.load(xmlhttp.responseStream);
    xmlDoc = xmlhttp.responseXML;
    xmlhttp.open("GET","Distributome-references.xml",false);
    xmlhttp.send();
    if (!xmlhttp.responseXML.documentElement && xmlhttp.responseStream)
        xmlhttp.responseXML.load(xmlhttp.responseStream);
    xmlDoc = xmlDoc+xmlhttp.responseXML;

    */
    getURLParameters();
    /*** Read in and parse the Distributome.xml DB ***/
    var xmlhttp=createAjaxRequest();
    xmlhttp.open("GET","Distributome.xml",false);
    xmlhttp.send();
    if (!xmlhttp.responseXML.documentElement && xmlhttp.responseStream)
        xmlhttp.responseXML.load(xmlhttp.responseStream);
    xmlDoc = xmlhttp.responseXML;
    try{
        DistributomeXML_Objects=xmlDoc.documentElement.childNodes;
    }catch(error){
        DistributomeXML_Objects=xmlDoc.childNodes;
    }

    traverseXML(false, null, DistributomeXML_Objects, distributome.nodes, distributome.edges, distributome.references, distributomeNodes, referenceNodes);

    xmlhttp=createAjaxRequest();
    xmlhttp.open("GET","Distributome.xml.pref",false);
    xmlhttp.send();
    if (!xmlhttp.responseXML.documentElement && xmlhttp.responseStream)
        xmlhttp.responseXML.load(xmlhttp.responseStream);
    var ontologyOrder = xmlhttp.responseXML;    
    getOntologyOrderArray(ontologyOrder);
   } 
```

编辑：

我没有将文件上传到服务器；相反，我只希望在用户上传时解析内容 - 在本地。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-22T04:27:47.800

你可以从这里开始：http: [//www.html5rocks.com/en/tutorials/file/dndfiles/](http://www.html5rocks.com/en/tutorials/file/dndfiles/)

[在这里](https://stackoverflow.com/a/7056216/246260)找到它。

# android - 在 AVD 模拟器中如何查看 sdcard 文件夹并将 APK 安装到 AVD？

> ID：10680992
> 
> 赞同：62
> 
> 时间：2012-05-21T07:23:02.203
> 
> 标签：android, android-emulator, avd

我已经创建了一个 Android 模拟器（Android 虚拟设备），但我无法找到我在创建过程中构建的 SD 卡。

如何找到 SD 卡及其内容以及如何将 APK 文件安装到 AVD？

* * *

## 回答 #1

> 赞同：105
> 
> 时间：2012-05-21T07:40:58.673

1.  切换到**DDMS**视角
2.  **在设备**列表中选择要探索其 SD 卡的模拟器。
3.  打开右侧的**文件资源管理器选项卡。**
4.  展开树状结构。**mnt/sd卡/**

参考下图![在此处输入图像描述](../Images/8369aab90e81686e6196bf31fceb6167.png)

* * *

要手动安装 apk：将您的 apk 复制到 sdk/platform-tools 文件夹并在同一文件夹中运行以下命令

```
adb install apklocation.apk 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-05-21T07:26:21.460

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2016-11-05T11:14:25.780

这些天，模拟 SD 卡的位置在`/storage/emulated/0`

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-05-21T07:35:27.870

在 linux 上，sdcard 映像位于：

```
~/.android/avd/<avd name>.avd/sdcard.img 
```

例如，您可以使用（假设 /mnt/sdcard 是现有目录）安装它：

```
sudo mount sdcard.img -o loop /mnt/sdcard 
```

要安装 apk 文件，请使用 adb：

```
adb install your_app.apk 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2018-04-09T17:15:36.367

[![](../Images/367fe47febb73082f5a04a52193d267e.png)](https://i.stack.imgur.com/41ho3.png)

DDMS 在 android 3.0 中已弃用。“设备文件资源管理器”可用于浏览文件。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-04-04T08:10:29.673

# 拖放

要在avd中安装apk，只需在打开的仿真设备中手动拖放apk文件即可

如果要将文件复制到SD卡，则相同

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2012-05-21T07:27:37.730

如果您使用的是 Eclipse。选择设备后，您应该从右上角切换到 DDMS 透视图，您可以看到文件夹树。要手动安装 apk，您可以使用 adb 命令

```
adb install apklocation.apk 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-05-21T07:30:45.913

//在Linux中

// 在您的主文件夹 .android 隐藏文件夹中，您可以找到打开的 avd 文件夹并检查您创建的 avd 名称打开它，您可以看到`sdcard.img`这是您的 sdcard 文件。

//在linux下安装apk

```
$adb install ./yourfolder/myapkfile.apk 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2020-05-04T01:24:15.597

我使用了以下程序。

安卓工作室 3.4.1

查看>工具窗口>设备文件资源管理器

[![在此处输入图像描述](../Images/41924b1251e06f26e7cea48decf2a533.png)](https://i.stack.imgur.com/3jbDB.jpg)

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2013-02-20T18:11:05.480

添加到 usefile DDMS/文件资源管理器解决方案，对于那些不知道的人，如果您想读取文件，您需要选择文件查看器工具栏上的“从设备中提取文件”按钮。不幸的是，您不能只是拖出，或双击阅读。

# php - 我应该在“LIKE”sql 查询中转义通配符吗？

> ID：10680993
> 
> 赞同：1
> 
> 时间：2012-05-21T07:23:09.040
> 
> 标签：php, sql-injection, security

假设我有一个`LIKE`sql 语句存储在这样的变量中：

```
$movie_title = $_POST['movie_title'];
$query= "SELECT movie FROM movies WHERE title LIKE '%" . $movie_title . "%'"; 
```

`%`我可以通过转义通配符和来防止什么 sql 注入攻击实例`_`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-21T07:55:26.623

使用 PDO：

```
$pdo = new PDO(/* db info */);

$original = $_POST['movie_title'];
$wildcarded = '%'.$original.'%';
$stmt = $pdo->prepare('SELECT movie FROM movies WHERE title LIKE :var');
$stmt->bindParam(':var', $wildcarded);
$stmt->execute();
// fetching and stuff... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-26T23:54:20.567

很简单：

写一个这样的函数：

```
function sqlwildcardesc($x){
    return str_replace(array("%", "_"), array("\\%", "\\_"), mysql_real_escape_string($x));
} 
```

现在您的查询：

```
$query= "SELECT movie FROM movies WHERE title LIKE '%".sqlwildcardesc($movie_title)."%'"; 
```

这应该工作！我在自己的项目中测试过！！玩得开心 ;）

# ruby - 带有请求正文和内容类型的 Ruby Restclient.delete

> ID：10680994
> 
> 赞同：2
> 
> 时间：2012-05-21T07:23:11.560
> 
> 标签：ruby

您能否纠正我在调用 http delete 时在这里犯的错误。我得到 InternalServerError 没有进一步的解释。

相同的调用在 FireFox RESTClient 插件上运行良好。

**示例 RestClient**

```
require "rest_client"
data= {"name" => "foo"}
res = RestClient.delete(url, data.to_json) 
```

抛出：/lib/restclient/request.rb:72:in `process_url_params': undefined method`delete_if' for # (NoMethodError)

**样本网/http**

```
http = Net::HTTP.new('some ip valid', port)
headers = {'Content-Type' => 'application/json'}
data = {"name" => "foo"}
resp, data = http.delete(path, headers) 
```

抛出：Net::HTTP InternalserverError

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-02T01:08:14.890

我遇到了这个问题，并通过删除 json 数据部分使其工作。

```
def doRestDelete(url, values)
    puts "URL: ",  url
    jsonValues = values.to_json
    puts jsonValues
    begin
        raw = RestClient.delete url # removed this bit --->  , jsonValues
        puts raw
    rescue => e
        abort(e.response)
    end
    return JSON.parse(raw)
end 
```