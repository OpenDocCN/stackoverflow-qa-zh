# StackOverflow 问答 11466000-11466999

# objective-c - 使用开关时的问题

> ID：11466006
> 
> 赞同：0
> 
> 时间：2012-07-13T07:30:09.890
> 
> 标签：objective-c, xcode, cocoa-touch, xcode4, uiswitch

我有两个视图控制器和笔尖。我用切换开关填充了一个视图控制器，并在其头文件中声明了这一点：

```
@public UISwitch *toggleSwitch; 
```

并将其公开为这样的属性：

```
@property (nonatomic,retain) IBOutlet UISwitch *toggleSwitch; 
```

我还将开关与`toggleSwitch`插座连接。然后我在我的另一个视图控制器中使用了这个开关，如下所示：

```
theViewControllerWhereIDeclaredTheSwitch.toggleSwitch.on = YES; 
```

尽管默认情况下开关处于打开状态时一切正常，但是当我关闭开关时，它引发了异常：main.m 文件中的“线程 1：信号 SIGABRT”。我在使用 Xcode 时经常遇到这个错误，这个错误真的让我很头疼。请帮忙。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T07:41:01.513

您不应在多个`UIViewControllers`.

更好的方法是`BOOL`在您自己的对象中共享甚至封装状态，继承自`NSObject`并在 2 之间传递`UIViewControllers`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:11:29.383

@werner 是对的。

在对关联的控制器和视图进行编程时，您正在实施 NVC 模式。这个想法是你有这个控制器对象，它是视图和保存数据的模型之间的大脑。因此，您应该在应用程序中执行的操作不是共享开关状态，而是在触发开关时更新模型中的 BOOL 值并与两个控制器共享模型，以便了解两个控制器中的值。

（CF：[维基百科](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller)）

# event-handling - 如何在 textctrl 中制作关键事件 wxpython？

> ID：11466007
> 
> 赞同：1
> 
> 时间：2012-07-13T07:30:10.763
> 
> 标签：event-handling, wxpython, keycode, textctrl

这是我的代码

python 2.7 & wxpython 2.8

[http://pastie.org/4248326](http://pastie.org/4248326)

这 3 个 textctrl，在 chat_c(textctrl)

我想让 chat_c 和 text_c 像聊天室一样

输入是 chat_c 输出是 text_c

这就是我使用的原因

```
def OnReturnDown(self,e):

    key = e.GetKeyCode()
    self.text_c.SetValue(key) #for check out but doesn't work
    if key == wx.WXK_RETURN:
        self.text_c.SetValue(self.chat_c.GetValue()) 

 #key bind
    self.chat_c.Bind(wx.EVT_KEY_DOWN, self.OnReturnDown) 
```

这是错误信息

```
Traceback (most recent call last):
  File "C:\workspace\wx_python_test\main_chat_client.py", line 239, in OnReturnDown
    self.text_c.SetValue(key) #for check out but doesn't work
  File "C:\Python27\Lib\site-packages\wx-2.8-msw-unicode\wx\_controls.py", line 1754, in SetValue
    return _controls_.TextCtrl_SetValue(*args, **kwargs)
TypeError: String or Unicode type required 
```

那是什么？需要Unicode类型？？？

也许改变textctrl的风格？

如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T13:24:24.710

e.GetKeyCode() 返回一个 int。您不会将 int 传递给文本控件。文本控件只接受一个字符串或一个 unicode 字符串。因此，您需要将 int 转换为字符串或执行其他操作。以下是如何投射它：

```
key = str( e.GetKeyCode() ) 
```

# c - 随机化数组元素的序列

> ID：11466008
> 
> 赞同：0
> 
> 时间：2012-07-13T07:30:16.110
> 
> 标签：c, algorithm

> **可能重复：**
> [Fisher-Yates shuffle 的这个 C 实现是否正确？](https://stackoverflow.com/questions/3343797/is-this-c-implementation-of-fisher-yates-shuffle-correct)

为了在我的应用程序中模拟不同顺序的输入序列，我想为数组输入生成一个随机序列列表。例如，给定 arr[10]，默认序列是 0,1,..,8,9。但是，我想将序列操作为随机顺序，例如 2、4、5、1、9、0、3、7、8、6。

我认为 rand() 会生成一个介于 0-9 之间的随机值，但它不能保证每个元素至少生成一次。在这种情况下，我正在考虑下面的伪，但是有没有更好的方法来生成随机输入序列，并确保给定范围内的每个数字至少生成一次？

```
round #1:  
  generate a random number within 0-9\.  
    let say 2 is selected  

round #2:  
    generate a random number within 0-1  
    generate a random number within 3-9  
    let say 0 and 4 are selected  

round #3:  
    generate a random number within 1  
    generate a random number within 3  
    generate a random number within 5-9  
    let say 1, 3, 7 are selected  

round #4:  
    generate a random number within 5-6  
    generate a random number within 8-9  

continue until 10 numbers are selected 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:35:16.957

Look at Fisher-Yates shuffle algorithm [here](http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle) for your requirement.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:34:32.547

这是另一种方法：

1.  Create array of 10 elements and fill it with the values you want to randomize (0, 1, ..., 9).
2.  Iterate for k from 9 down to 0 and pick a random number index = rand(k).
3.  Swap the element at position k with the element at position index.

At the end your array will contain a random permutation of the original values, which is exactly what you wanted.

# php - gzip 有问题

> ID：11466012
> 
> 赞同：0
> 
> 时间：2012-07-13T07:30:34.290
> 
> 标签：php, apache, .htaccess, gzip, pagespeed

我对 gzip 编码有一些问题，我就是想不通！我在我的 htaccess 中添加了“AddOutputFilterByType DEFLATE ... ...”，并使用了[http://www.gidnetwork.com/tools/gzip-test.php](http://www.gidnetwork.com/tools/gzip-test.php)中的工具来检查我的页面是否编码正确。该工具说一切正常。

问题是，当我使用 chrome 或 firebug 的 Web 开发人员工具检查页面时，他们不会将页面识别为 gzip 压缩。在标题部分中，“内容编码：gzip”没有出现，PageSpeed 还说它们没有编码并建议我对它们进行编码。

有任何想法吗？谢谢。

阿迪·乌利奇

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:37:35.827

`AddOutputFilterByType`已弃用尝试`AddOutputFilter`，例如

AddOutputFilter DEFLATE php js css html

# php - 如何在 Dreamweaver 中编写 PHP 代码

> ID：11466015
> 
> 赞同：-4
> 
> 时间：2012-07-13T07:30:48.893
> 
> 标签：php, dreamweaver, notepad++

对不起，我打算在 Dreamweaver 中编写 PHP，因为我厌倦了在 notepad++ 中编写代码（必须手动检查，并且在 n++ 中没有拼写自动更正:(）我的 Dreamweaver 版本是 CS5，我想编写 PHP 5.3.8使用 XAMPP 1.7.3

提前致谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:33:45.083

我建议使用 Netbeans IDE，这是一个非常有用的程序。要在dreamweaver 中编码，以dreamweaver 的身份打开php 文件，然后在屏幕底部按“代码”选项卡。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:35:35.380

还有拆分视图。一次显示代码和设计视图

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:35:56.783

您不能将 Dreamweaver 用于 PHP 编码。它在构建时考虑了 Html/Css。不是 PHP。

以下是现有 PHP 编辑器的候选名单：

*   阿普塔纳
*   日食 PHP
*   网豆
*   PHP风暴

编辑：似乎在 Dreamweaver 的后期版本中，您可以编写 PHP 代码，但我真的不会。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T07:36:46.397

如果您只是因为不想在 Notepad++ 中编写代码而切换到 Dreamweaver，那么我建议您最好改用[Zend Eclipse PDT](http://www.zend.com/en/community/pdt/downloads)。

# android - Android 如何真正测量 ImageView 的一侧以使其成为正方形？

> ID：11466017
> 
> 赞同：1
> 
> 时间：2012-07-13T07:30:53.307
> 
> 标签：android, imageview, measure

我想知道如何真正测量 ImageView 的一侧以使其成为正方形。

例如：

我有这个 ImageView

```
<ImageView
 android:id="@+id/imageView1"
 android:layout_width="fill_parent"
 android:layout_height="0dp"
 android:layout_weight="50"
 android:background="@drawable/image"/> 
```

我想要做的只是获得真正的高度测量（在 DP 或 PX 中）以使用以下代码制作一个正方形：

```
ImageView imageView1 = (ImageView) this.findViewById(R.id.imageView1);
imageView1.getLayoutParams().width = imageView1.getHeight(); 
```

但是，如果我使用这些代码之一，我总是得到“0”：

```
 imageView1.getHeight();
   imageView1.getLayoutParams().height;
   imageView1.getMeasuredHeight(); 
```

因为我将 layout_height "0dp" 设置为 50% layout_weight。

有办法让 ImageView 变成正方形吗？

很多谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-12T02:58:43.030

尝试这个：

```
 public class Something extends Activity {
   ImageView imageView;

  @Override
  protected void onCreate(Bundle savedInstanceState) {
      super.onCreate(savedInstanceState);
      setContentView(R.layout.activity_something);
      imageView = (ImageView) findViewById(R.id.yourImage);
      getDimensions();
  }

    private void getDimensions() {
      imageView.measure(imageView.getMeasuredWidth(),
      imageView.getMeasuredHeight());
      int Width = getMeasuredWidth();
      int Height = getMeasuredHeight();
      Toast.makeText(this, "width: " + Width + " height: " + Height,
            Toast.LENGTH_SHORT).show();
  }

} 
```

它适用于我，使用 api 4 / 17，目标 api 10。结果以 px 为单位。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:37:54.487

用这个

```
imageView.measure(imageView.getMeasuredWidth(), imageView.getMeasuredHeight());
imageView.getHeight();
imageView.getWidth(); 
```

# wpf - 放大包含十张图像的堆栈面板内的特定图像

> ID：11466020
> 
> 赞同：0
> 
> 时间：2012-07-13T07:30:58.453
> 
> 标签：wpf, windows-phone-7, silverlight-4.0, windows-phone-7.1

我有一个带有水平堆栈面板的滚动查看器，其中有 10 个子图像。我需要对开始捏合手势时可见的特定图像进行缩放。有没有可能做到这一点。我尝试在开始捏合时以单独的布局获取图像，但它使用户开始捏合两次。所以请帮助我得到那个

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T22:37:32.707

Do a click event on the image, then popup a window with a semi transparent background and an image control. Then apply pinch events to zoom and mouse move events to pan.

something like this article:

[http://codecopy.wordpress.com/2011/12/15/wp7-pinch-and-pan-zoom-an-image/](http://codecopy.wordpress.com/2011/12/15/wp7-pinch-and-pan-zoom-an-image/)

# c# - jq网格。用户单击添加按钮时如何显示单独的页面？

> ID：11466023
> 
> 赞同：0
> 
> 时间：2012-07-13T07:31:05.617
> 
> 标签：c#, jquery, asp.net-mvc, jquery-ui

我对 MVC、jQuery 和 jqGrid 非常陌生。在过去的两天里，我一直在寻找有关如何在用户单击添加按钮时重定向到另一个页面的解决方案。我也需要在编辑按钮上做同样的事情，但在这样做之前我需要调用一个javascript函数来检查请求的行是否可以被编辑。

非常感谢任何帮助。

这是我用来创建 jqGrid 的代码

```
var jqDataUrl = "Account/LoadBaseData";
        $(document).ready(function () {
            // Set up the jquery grid
            $("#ListTable").jqGrid({
                // Ajax related configurations
                url: jqDataUrl,
                datatype: "json",
                mtype: "POST",
                // Specify the column names
                colNames: ["Bank","Account No","Account Name"],
                // Configure the columns
                colModel: [ { name: "BankReference", index: "BankReference", width: 40, align: "left"}, { name: "AccountNo", index: "AccountNo", width: 40, align: "left"}, { name: "AccountName", index: "AccountName", width: 40, align: "left"}],
                // Grid total width and height
                width: 850,
                height: 400,
                // Paging
                toppager: true,
                pager: $("#ListTablePager"),
                rowNum: 14,
                viewrecords: true, // Specify if "total number of records" is displayed
                // Grid caption
                caption: "BankAccount List",
                editurl: "/GridDemo/GridSave",
            }).navGrid("#ListTablePager",
            { refresh: true, add: true, edit: true, del: true},
                { }, // settings for edit
                {}, // settings for add
                {}, // settings for delete
                {sopt: ["cn"]}  
            );

        }); 
```

提前谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T11:12:10.213

jqgrid自带的添加、编辑按钮，用于通过inline/form添加/编辑记录。在您的情况下，您希望根据某些条件在单击添加/编辑按钮时进行重定向，因此我建议使用自定义按钮，这很容易。

```
$("#ListTable").jqGrid({
  ...
})
.navGrid("#ListTablePager", {edit:false, add:false, del:false,search:false })
.navButtonAdd("#ListTablePager", { // custom add button
   caption:"Add",  
   buttonicon:"ui-icon-add", 
   onClickButton: function(){ 
     var grid = $("#grid_name"); // ur jqgrid
     var rowid = grid.jqGrid('getGridParam', 'selrow'); // get the selected rowid

     // u can get the cell value of the row by 
     // grid.jqGrid('getCell', rowid, 'rowName');

     if(your condition)
        window.location = ...
   }, 
   position:"last"
})
.navButtonAdd('#ListTablePager',{ // custom edit button
   caption:"Edit", 
   buttonicon:"ui-icon-edit", 
   onClickButton: function(){ 
      ...
   }, 
   position:"last"
}); 
```

我不明白您所说的*可以编辑请求的行是*`onClickButton`什么意思，您可以通过以下方式获取事件中当前选定的行

```
var grid = $("#grid_name");

var rowid = grid.jqGrid('getGridParam', 'selrow'); 
```

您可以通过以下方式获取所选行的特定单元格值，

```
grid.jqGrid('getCell', rowid, 'rowName'); 
```

因此，基于此，您可以轻松构建您的条件并设置 window.location 进行重定向。

# javascript - 需要正则表达式来制作 * 粗体之间的文本

> ID：11466024
> 
> 赞同：4
> 
> 时间：2012-07-13T07:31:10.700
> 
> 标签：javascript, html, regex

我正在尝试将 之间的文本加粗`*`，就像`*bold*`我在 JavaScript 中尝试正则表达式一样，但我不知道为什么它不起作用。

```
var bold = /\*(.*?)\*/gim;
var replacedText = replacedText.replace(bold, function($0,$1){
    return $1?$0:'<b>' + $0 + '</b>';
}); 
```

谢谢大家，这是最终答案

**已编辑**

```
var bold = /\*(.*?)\*/gim;
var replacedText = replacedText.replace(bold, function($0,$1){
    return $1 ? ('<b>' + $1 + '</b>') : $0;
}); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T07:35:25.977

正则表达式没问题，但你的逻辑不是：

```
var replacedText = replacedText.replace(bold, function($0,$1){
    return $1 ? ('<b>' + $1 + '</b>') : $0;
}); 
```

条件被颠倒了，无论如何你应该`$1`在替换时使用而不是`$0`（后者包括星号）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:37:24.790

就像是：

```
function makeBold(id) {

  var re = /(\*)([^*]*)(\*)/g;

  var el = document.getElementById(id);
  el.innerHTML = el.innerHTML.replace(re, '<b>$2</b>');
} 
```

应该让你开始。

# css - 锚标签内的多个浮动/块/div

> ID：11466030
> 
> 赞同：1
> 
> 时间：2012-07-13T07:31:31.747
> 
> 标签：css, internet-explorer-7, internet-explorer-6

我需要实现这样的目标：

```
<a style="display:block;" href="#">
  <div style="float:left;display:block;">Left</div>
  <div>
    <div style="display:block;">Right</div>
    <div style="display:block;">Right Bottom</div>
  </div>
</a> 
```

基本上是一个有 2 列的按钮，右列有 2 行。

它在具有内联/块支持的现代浏览器中正确显示，但在 IE6 和 IE7 中，每当我将鼠标悬停在左侧 div（带有浮动）时，它都会显示为“选择”文本图标而不是手形图标（我相信一旦浮动，块将被取消并显示为内联）。有什么方法可以在不使用整个图像的情况下实现这一目标？我需要它是文本，因为它对 SEO 和视网膜显示很重要。

:( :(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:50:38.947

```
<a href="http://www.google.com/" target="_blank" style="display:block; overflow: hidden" href="#">
  <div style="float:left; width:150px;">Left</div>

  <div style="float:right; width:150px;">
    <div style="display:block;">Right</div>
    <div style="display:block;">Right Bottom</div>
  </div>

  <div style="clear: both;"></div><!-- This will clear the floats for IE -->
</a> 
```

为避免文本光标添加此 CSS -

```
a div{cursor: pointer;} 
```

**演示**- [http://jsfiddle.net/ZhKmr/4/](http://jsfiddle.net/ZhKmr/4/)

# c# - 将 webpart 添加到按代码过滤视图不起作用

> ID：11466035
> 
> 赞同：1
> 
> 时间：2012-07-13T07:31:56.490
> 
> 标签：c#, sharepoint, sharepoint-2010, web-parts

我需要在新的文档库中添加一个新页面。这很好用。在页面中，我需要添加一个 webpart 来根据视图中的 3 列过滤来自视图的列表数据。

以下代码没有引发任何异常，但也没有过滤数据。列表中有 3 项

```
// Uncomment the method below to handle the event raised after a feature has been activated.
        public override void FeatureActivated(SPFeatureReceiverProperties properties)
        {
            string pageUrl=AddSponsoringEventsDashboardPage(properties.Feature.Parent as SPWeb);
            AddNavigationLink(properties.Feature.Parent as SPWeb, pageUrl);
        }

        private void AddNavigationLink(SPWeb currentUnsafeWeb, string url)
        {
            bool allowUnsafeUpdatesSetting = false;

            try
            {
                // Cleanup all  quick links
                allowUnsafeUpdatesSetting = currentUnsafeWeb.AllowUnsafeUpdates;
                currentUnsafeWeb.AllowUnsafeUpdates = true;

                SPNavigationNodeCollection quickLaunchNodes = currentUnsafeWeb.Navigation.QuickLaunch;

                foreach (SPNavigationNode node in quickLaunchNodes)
                {
                    if (string.Compare(node.Title, "Lists") == 0)
                    {
                        SPNavigationNode dataNode = new SPNavigationNode("$Resources:SPNLSponsoring,Navigation_SponsoringEventsDashboard_Title", url, true);
                        node.Children.AddAsFirst(dataNode);
                        currentUnsafeWeb.Update();
                        break;
                    }
                } 
            }
            catch
            {
                throw;
            }
            finally
            {
                currentUnsafeWeb.AllowUnsafeUpdates = allowUnsafeUpdatesSetting;
            }

        }

        private string AddSponsoringEventsDashboardPage(SPWeb currentWeb)
        {
            Logger.LogDebug("NLSponsoringSiteConfigSponsoringCentralEventReceiver", "AddSponsoringEventsDashboardPage(SPWeb currentWeb)", "BEGIN");

            SPListTemplateType tempType = SPListTemplateType.DocumentLibrary;
            Guid guid = currentWeb.Lists.Add("$Resources:SPNLSponsoring,SponsoringDashboardDocumentLibrary_Title",
                "$Resources:SPNLSponsoring,SponsoringDashboardDocumentLibrary_Description", tempType);

            SPList docLibrary = currentWeb.Lists[guid];

            SPLimitedWebPartManager mgrPageManager = null;
            SPFile pageDashboard = null;
            string strurl;
            try
            {
                pageDashboard = docLibrary.RootFolder.Files.Add(String.Format("{0}/{1}", docLibrary.RootFolder.ServerRelativeUrl, "sponsoringeventdashboard.aspx"), SPTemplateFileType.StandardPage);
                pageDashboard.CheckOut();

                #region Add Filter webpart
                SimpleFormWebPart sfwp = new SimpleFormWebPart();
                sfwp.Title = "Filter";
                sfwp.Content = "<div onkeydown=\"javascript:if (event.keyCode == 13) _SFSUBMIT_\"><input type=\"text\" name=\"T1\"/>" +
                                "<input type=\"button\" value=\"Go\" onclick=\"javascript:_SFSUBMIT_\"/></div>";
                string idWebPartFilter = pageDashboard.AddWebPartToPage(sfwp, Constants.WEBPART_ZONE_HEADER, 1, PartChromeType.Default);
                #endregion

                #region Add new view
                SPList list = currentWeb.Lists[SponsoringCommon.Constants.LISTNAMES_SPONSORINGEVENTSNAME];
                SPView oView = list.Views[SponsoringCommon.Constants.VIEWS_SPONSORINGEVENTS_DEFAULTLIST].Clone(SponsoringCommon.Constants.VIEWS_SPONSORINGEVENTS_DASHBOARD_NAME, 20, true, false);

                oView.Query = "<Where>" +
                                 "<Or>" +
                                  " <Or>" +
                                   "  <Contains>" +
                                   "    <FieldRef Name=\"EventNumber\"/>" +
                                   "    <Value Type=\"Text\">{ParamEventNumber}</Value>" +
                                    " </Contains>" +
                                    " <Contains>" +
                                    "   <FieldRef Name=\"EventName\"/>" +
                                    "   <Value Type=\"Text\">{ParamEventName}</Value>" +
                                    " </Contains>" +
                                   "</Or>" +
                                   "<Contains>" +
                                     "<FieldRef Name=\"EventLocation\"/>" +
                                     "<Value Type=\"Text\">{ParamEventLocation}</Value>" +
                                   "</Contains>" +
                                 "</Or>" +
                              " </Where>";

                oView.Update(); 
                #endregion

                #region Add XSLT List View WebPart
                string idWebPartSponsoringEvents = "ID_SponsoringEvents";
                pageDashboard.AddXSLTListViewWebPartToPage(currentWeb,
                    SponsoringCommon.Constants.LISTNAMES_SPONSORINGEVENTS, idWebPartSponsoringEvents,
                    string.Empty, Constants.WEBPART_ZONE_HEADER, 2,
                    SponsoringCommon.Constants.VIEWS_SPONSORINGEVENTS_DASHBOARD_NAME, PartChromeType.Default, false);

                mgrPageManager = pageDashboard.GetLimitedWebPartManager(PersonalizationScope.Shared);
                XsltListViewWebPart lvwpOrganisation = mgrPageManager.WebParts[idWebPartSponsoringEvents] as XsltListViewWebPart;
                lvwpOrganisation.ParameterBindings += "<ParameterBinding Name=\"ParamEventNumber\" Location=\"None\" DefaultValue=\"\" />" +
                                                    "<ParameterBinding Name=\"ParamEventName\" Location=\"None\" DefaultValue=\"\" />" +
                                                    "<ParameterBinding Name=\"ParamEventLocation\" Location=\"None\" DefaultValue=\"\" />";

                mgrPageManager.SaveChanges(lvwpOrganisation);
                #endregion

                #region Add Connection
                string[] colConsumerFields = { "EventNumber", "EventName", "EventLocation" };
                string[] colProviderFields = { "T1", "T1", "T1" };

                // connect filter to organisation-webpart
                pageDashboard.ConnectWebPartsByRowToParameters(idWebPartSponsoringEvents,
                    Constants.WEBPART_CONNECTION_DFWPPARAMETERCONSUMERID,
                    colConsumerFields,
                    idWebPartFilter,
                    Constants.WEBPART_CONNECTION_SFWPROWPROVIDERID,
                    colProviderFields);
                #endregion

                pageDashboard.CheckIn(String.Empty);
                strurl = pageDashboard.Url;
            }
            catch (Exception)
            {
                if (pageDashboard != null) pageDashboard.UndoCheckOut();
                throw;
            }

            Logger.LogDebug("NLSponsoringSiteConfigSponsoringCentralEventReceiver", "AddSponsoringEventsDashboardPage(SPWeb currentUnsafeWeb)", "WebParts added. Start configuring connections.");

            return strurl;
        } 
```

![在此处输入图像描述](../Images/19eb7abf8f51b7b25345f013fb1bef1e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T09:19:40.153

问题是参数绑定

我没有使用相同的名称。它必须匹配。

# javascript - domReady (mootools) 后的 Fx.Slide SlideIn 效果

> ID：11466036
> 
> 赞同：1
> 
> 时间：2012-07-13T07:32:06.943
> 
> 标签：javascript, mootools

任何人都知道该javascript代码可能有什么问题吗？它已执行，但没有显示幻灯片动画

我正在使用 mootools 1.2.4

*   mootools-1.2.4-core.js
*   mootools-1.2.4.4-more.js

我的第一次尝试：

```
 window.addEvent('domready', function () {
        var mySlide = new Fx.Slide('errorBox');
        var ie = /MSIE (\d+\.\d+);/.test(navigator.userAgent);

        if ((ie && document.getElementById("errorBox").innerText == "") || !ie && document.getElementById("errorBox").textContent.trim() == "") {
            mySlide.hide();
        }
        else if (!ie && document.getElementById("errorBox").textContent.trim() == "") {
            mySlide.hide();
        } else {
            mySlide.slideIn();
        }
    }); 
```

添加延迟也无济于事，在页面被加载后，框会出现没有任何延迟或动画

```
 window.addEvent('domready', function () {
        var mySlide = new Fx.Slide('errorBox');
        var ie = /MSIE (\d+\.\d+);/.test(navigator.userAgent);

        if ((ie && document.getElementById("errorBox").innerText == "") || !ie && document.getElementById("errorBox").textContent.trim() == "") {
            mySlide.hide();
        }
        else if (!ie && document.getElementById("errorBox").textContent.trim() == "") {
            mySlide.hide();
        } else {
            mySlide.slideIn().chain(function () {
            // Waits one second, then the Element appears without transition.
                this.slideIn.delay(5000, this);
            });
        }
    }); 
```

谢谢

# java - Cucumber-JVM 蚂蚁任务

> ID：11466040
> 
> 赞同：3
> 
> 时间：2012-07-13T07:32:35.270
> 
> 标签：java, ant, groovy, cucumber, cucumber-jvm

我如何告诉 ant 执行文件夹中的所有黄瓜测试（功能、实现）？

我坚持使用这个例子

```
<target name="runcukes" depends="compile-test">
        <mkdir dir="target/cucumber-junit-report"/>
        <java classname="cucumber.cli.Main" fork="true" failonerror="false" resultproperty="cucumber.exitstatus">
            <classpath refid="classpath"/>
            <arg value="--format"/>
            <arg value="junit:target/cucumber-junit-report/allcukes.xml"/>
            <arg value="--format"/>
            <arg value="pretty"/>
            <arg value="--format"/>
            <arg value="html:target/cucumber-html-report"/>
            <arg value="--glue"/>
            <arg value="cucumber.examples.java.helloworld"/>
            <arg value="src/test/resources"/>
        </java>

        <junitreport todir="target/cucumber-junit-report">
            <fileset dir="target/cucumber-junit-report">
                <include name="allcukes.xml"/>
            </fileset>
            <report format="frames" todir="target/cucumber-junit-report"/>
        </junitreport>

        <fail message="Cucumber failed">
            <condition>
                <not>
                    <equals arg1="${cucumber.exitstatus}" arg2="0"/>
                </not>
            </condition>
        </fail>
    </target> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-14T22:14:59.413

> 用法：java cucumber.cli.Main [options] [ [FILE|DIR][:LINE[:LINE]*] ]+

选项：

```
-g, --glue PATH Where glue code (step definitions and hooks) is loaded from.
-f, --format FORMAT[:OUT] How to format results. Goes to STDOUT unless OUT is specified.
                                Available formats: junit, html, pretty, progress, json, json-pretty.
-t, --tags TAG_EXPRESSION Only run scenarios tagged with tags matching TAG_EXPRESSION.
-n, --name REGEXP Only run scenarios whose names match REGEXP.
-d, --dry-run Skip execution of glue code.
-m, --monochrome Don't colour terminal output.
    --dotcucumber Where to write out runtime information.
-v, --version Print version.
-h, --help You're looking at it. 
```

在您的情况下 - 将`<arg value="src/test/resources"/>`目录更改为您要运行的目录。请注意，您可以指定多个以空格分隔的单个文件和目录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-11T07:52:43.310

我也遇到了同样的问题，并通过声明顶级包名来解决，就像在你的情况下包名是“cucumber.examples.java.helloworld”一样只声明黄瓜

```
 <arg value="--glue"/>
 <arg value="cucumber"/> 
```

在你的蚂蚁任务中。它对我有用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-26T09:53:28.993

您可以编写自己的构建文件，而不是使用与 github 中的示例一起提供的构建文件。

尝试使用 ant 的**Junit**任务从 ant 运行 Junit 测试文件。将“@Cucumber.Options”注释的“格式”设置为指向具有您的功能的目录。

例子

要运行 Junit 测试，请将以下目标添加到您的构建文件中，

```
<junit printsummary="yes" failureproperty="junit.failure">

<classpath refid="id_of_the_path_to_find_JARS/.class files"></classpath>

<test name="com.example.YourTestClass" haltonfailure="no" outfile="result" >
<formatter type="plain"/>
<formatter type="xml"/>
</test>

</junit> 
```

`<test name="com.example.YourTestClass" haltonfailure="no" outfile="result" >`将执行中指定的 Juint 测试。YourTestClass.java**看起来**像这样......

```
import cucumber.api.junit.Cucumber;
import org.junit.runner.RunWith;

@RunWith(Cucumber.class)

@Cucumber.Options(format = {"html:target/cucumber-html","junit:target/cucumber-junit/Webpage.xml"},features = "src/test/features")
public class YourTestClass {

} 
```

保存在**src/test/features**中的所有功能文件都将在执行构建文件时运行

# wpf - 将自定义 AttachedProperty 绑定到工具提示 - 错误？

> ID：11466043
> 
> 赞同：3
> 
> 时间：2012-07-13T07:32:49.967
> 
> 标签：wpf, xaml, tooltip, attached-properties

我想将自定义 AttachedProperty 的值绑定到工具提示的内容。

绑定有效，但仅在工具提示的第二次打开时有效。当工具提示第一次打开时，绑定有它的 FallbackValue。

奇怪的是，它适用于“默认”附加属性，例如 Grid.Row。

谁能解释一下？

代码很简单：

```
<Button local:AttachedProperty.TestProperty="Now it works!" Content="Button">
    <Button.ToolTip>
        <ToolTip DataContext="{Binding Path=PlacementTarget, RelativeSource={x:Static RelativeSource.Self}}">
            <TextBlock Text="{Binding (local:AttachedProperty.TestProperty), FallbackValue=&quot;It doesn't work&quot;}" />
        </ToolTip>
    </Button.ToolTip>
</Button> 
```

附加属性的代码：

```
public static class AttachedProperty
{
    public static readonly DependencyProperty TestPropertyProperty = DependencyProperty.RegisterAttached
    (
        "TestProperty",
        typeof(string),
        typeof(AttachedProperty),
        new FrameworkPropertyMetadata
        (
            string.Empty,
            FrameworkPropertyMetadataOptions.Inherits
        )
    );

    public static string GetTestProperty(FrameworkElement target)
    {
        return (string)target.GetValue(TestPropertyProperty);
    }

    public static void SetTestProperty(FrameworkElement target, string value)
    {
        target.SetValue(TestPropertyProperty, value);
    }
} 
```

XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

编辑1：解决方案和一个新问题：

当我在工具提示中再次定义命名空间“本地”时，我发现它有效：

```
<ToolTip xmlns:local="clr-namespace:Test" DataContext=... 
```

但

如果您想在样式中执行此操作，则会收到错误消息

```
"XMLNamespace", "Assembly" or "ClrNamespace" not found in Mapping Expression 
```

我的新测试项目的 XML 代码是：

```
<Grid x:Name="LayoutRoot">
    <Grid.Resources>
        <Style TargetType="{x:Type Button}">
            <Setter Property="ToolTip">
                <Setter.Value>
                    <ToolTip xmlns:local="clr-namespace:Test" DataContext="{Binding Path=PlacementTarget, RelativeSource={x:Static RelativeSource.Self}}" >
                <TextBlock  Text="{Binding (local:AttachedProperty.TestProperty), FallbackValue=&quot;It doesn't work&quot;}" />
            </ToolTip>
                </Setter.Value>
            </Setter>
        </Style>
    </Grid.Resources>

    <Button local:AttachedProperty.TestProperty="Now it works!" Content="Button" HorizontalAlignment="Center" VerticalAlignment="Center" />
</Grid> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:21:10.867

我在 PropertyChangedCallback 中添加了一些跟踪输出（并删除了该`Inherits`标志，因为它在这里没用）：

```
public static readonly DependencyProperty TestPropertyProperty =
    DependencyProperty.RegisterAttached(
        "TestProperty",
        typeof(string),
        typeof(AttachedProperty),
        new FrameworkPropertyMetadata(
            string.Empty,
            (o, e) => Trace.TraceInformation("Setting TestProperty = \"{1}\" on {0}", o, e.NewValue))
); 
```

Visual Studio 输出证明该属性已在绑定抱怨找不到它之前设置：

```
ToolTipAttachedProperty.vshost.exe Information: 0 : Setting TestProperty = "Now it works!" on System.Windows.Controls.Button
System.Windows.Data Warning: 40 : BindingExpression path error: '(local:AttachedProperty.TestProperty)' property not found on 'object' ''Button' (Name='')'. BindingExpression:Path=(local:AttachedProperty.TestProperty); DataItem='Button' (Name=''); target element is 'TextBlock' (Name=''); target property is 'Text' (type 'String') 
```

您或许应该将此发送给 Microsoft。

编辑：参考您关于将工具提示放入样式的编辑。你可以这样写：

```
<Grid.Resources>
    <ToolTip xmlns:local="clr-namespace:Test" x:Key="ButtonToolTip"
             DataContext="{Binding Path=PlacementTarget, RelativeSource={x:Static RelativeSource.Self}}">
        <TextBlock Text="{Binding (local:AttachedProperty.TestProperty), FallbackValue=&quot;It doesn't work&quot;}" />
    </ToolTip>
    <Style TargetType="Button">
        <Setter Property="ToolTip" Value="{StaticResource ButtonToolTip}"/>
    </Style>
</Grid.Resources> 
```

# iphone - 从另一个类访问 NSMutablearray

> ID：11466045
> 
> 赞同：-6
> 
> 时间：2012-07-13T07:32:56.317
> 
> 标签：iphone

> **可能重复：**
> [从同一类的另一个方法中检索一个方法中的 NSMutableArray](https://stackoverflow.com/questions/11465286/retrieve-an-nsmutablearray-which-is-in-a-method-from-another-method-of-same-clas)

我是 iphone 新手，我有点怀疑我有一个 NSMutableArray，它在类 DownloadManager.m 中，如下所示

```
- (void) queueDownload: (Download*) download
{
    [bookTitlesWhichAreInDownloadQueue addObject:download.title_];
    NSLog(@"bookTitlesWhichAreInDownloadQueue is %@",bookTitlesWhichAreInDownloadQueue);
} 
```

在上面的方法`bookTitlesWhichAreInDownloadQueue`中是一个 NSMutableArray

我想在另一个类（BiblePlayerViewController.m）中的方法中访问这个数组，它是下面的方法

```
-(void)showingAlertViewWhenBookIsNotDownloaded {
 NSLog(@"bookNamesWhichAreInDownloadedQueue1 is %d",[bookNamesWhichAreInDownloadedQueue count]);
} 
```

如果有人知道这怎么可能，请帮助我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:31:16.970

像这样在 .h 类中添加 NSMutableArray 的属性

```
@property(nonatomic,retain)NSMutableArray *yourarray; 
```

并在 .m 类中合成数组

```
@synthesize yourarray; 
```

这设置了 getter 和 setter。

# asp.net - Sitecore CMS - 每种语言的域

> ID：11466047
> 
> 赞同：1
> 
> 时间：2012-07-13T07:33:02.837
> 
> 标签：asp.net, sitecore

我有一个 Sitecore CMS 网站。我需要的是在 IIS 中为不同的域（如 www.company.de、www.company.com、www.company.se）托管它。

当用户访问网站时，它应该可以使用与域相关的语言（com - 英语，de - 德语等）进行访问

实现这一目标的最佳方法是什么？Sitecore 多站点是否适合这种情况？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T12:44:16.920

多站点内容树与单独的内容有关。如果您有相同的内容但使用不同的上下文语言，您可以在树中拥有一个站点，只需`<site>`在配置中设置主机名和节点以使用正确的主机名和语言。树中的多个站点对于这些单独主机名上的单独内容很有用。

# android - 在相对布局下的图像按钮下方居中 Textview？

> ID：11466049
> 
> 赞同：10
> 
> 时间：2012-07-13T07:33:12.717
> 
> 标签：android, android-layout

我有这个文本视图的问题不在图像按钮下方居中。无论如何要解决这个问题？编码和图像在下面给出！

![在此处输入图像描述](../Images/0da564f502c3f72401c911fd6168c62d.png)

```
 <LinearLayout android:gravity="center_vertical" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_marginBottom="10dp"> 

       <RelativeLayout  android:gravity="center"  android:layout_weight="1"  android:layout_width="wrap_content" android:layout_height="wrap_content"> 

  <ImageButton
      android:id="@+id/imageButton1"
      android:layout_width="100dp"
      android:layout_height="100dp"
      android:background="@null"
      android:onClick="btnCat1"
      android:src="@drawable/nopic" >
</ImageButton>

<TextView
    style="@style/MenuStyle"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@+id/imageButton1"
    android:layout_centerInParent="true"
    android:clickable="false"
    android:text="text" />

</RelativeLayout>

       <RelativeLayout  android:gravity="center"  android:layout_weight="1"  android:layout_width="wrap_content" android:layout_height="wrap_content"> 

  <ImageButton
      android:id="@+id/imageButton1"
      android:layout_width="100dp"
      android:layout_height="100dp"
      android:background="@null"
      android:onClick="btnContact"
      android:src="@drawable/nopic" >
</ImageButton>

<TextView
    style="@style/MenuStyle"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@+id/imageButton1"
    android:layout_centerInParent="true"
    android:clickable="false"
    android:text="text" />

</RelativeLayout>
</LinearLayout>

   <LinearLayout android:gravity="center_vertical" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_marginBottom="10dp"> 

       <RelativeLayout  android:gravity="center"  android:layout_weight="1"  android:layout_width="wrap_content" android:layout_height="wrap_content"> 

  <ImageButton
      android:id="@+id/imageButton1"
      android:layout_width="100dp"
      android:layout_height="100dp"
      android:background="@null"
      android:onClick="btnRoute"
      android:src="@drawable/nopic" >
</ImageButton>

<TextView
    style="@style/MenuStyle"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@+id/imageButton1"
    android:layout_centerInParent="true"
    android:clickable="false"
    android:text="text" />

</RelativeLayout>

       <RelativeLayout  android:gravity="center"  android:layout_weight="1"  android:layout_width="wrap_content" android:layout_height="wrap_content"> 

  <ImageButton
      android:id="@+id/imageButton1"
      android:layout_width="100dp"
      android:layout_height="100dp"
      android:background="@null"
      android:onClick="btnChecList"
      android:src="@drawable/nopic" >
</ImageButton>

<TextView
    style="@style/MenuStyle"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@+id/imageButton1"
    android:layout_centerInParent="true"
    android:clickable="false"
    android:text="text" />

</RelativeLayout>
</LinearLayout>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-07-13T07:44:36.517

试试这个片段：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="10dp"
    android:gravity="center_vertical" >

    <RelativeLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center" >

        <ImageButton
            android:id="@+id/imageButton1"
            android:layout_width="100dp"
            android:layout_height="100dp"
            android:background="@null"
            android:onClick="btnCat1"
            android:src="@drawable/ic_launcher" >
        </ImageButton>

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imageButton1"
            android:layout_centerInParent="true"
            android:clickable="false"
            android:text="text" />
    </RelativeLayout>

    <RelativeLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center" >

        <ImageButton
            android:id="@+id/imageButton1"
            android:layout_width="100dp"
            android:layout_height="100dp"
            android:background="@null"
            android:onClick="btnCat1"
            android:src="@drawable/ic_launcher" >
        </ImageButton>

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imageButton1"
            android:layout_centerInParent="true"
            android:clickable="false"
            android:text="text" />
    </RelativeLayout>

    <RelativeLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center" >

        <ImageButton
            android:id="@+id/imageButton1"
            android:layout_width="100dp"
            android:layout_height="100dp"
            android:background="@null"
            android:onClick="btnCat1"
            android:src="@drawable/ic_launcher" >
        </ImageButton>

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_below="@+id/imageButton1"
            android:layout_centerInParent="true"
            android:clickable="false"
            android:text="text" />
    </RelativeLayout>
</LinearLayout> 
```

![在此处输入图像描述](../Images/269a72c0d8367f0fe6b01e070946c908.png)

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2015-03-02T16:36:27.650

你可以这样做，简单地（！！！）：

```
android:layout_alignRight="@id/my_image_view"
android:layout_alignLeft="@id/my_image_view" 
```

只需将它左右对齐，结果就是 TextView 居中。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-03-31T13:18:01.110

只需添加这些值：

```
 <TextView
    android:layout_alignLeft="@+id/my_image_view"
    android:layout_alignRight="@+id/my_image_view"
    android:gravity="center" /> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-13T07:38:13.217

将按钮和文本视图放在同一垂直`LinearLayout`位置（您可以将其放置`LinearLayout`在相对布局中）并简单地将中心重心分配给文本视图。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-13T07:36:50.110

`android:layout_centerHorizontal="true"`添加这个

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-13T07:38:59.830

`android:layout_centerInParent="true"`从 textviews中删除该行

或者试试这个

```
<LinearLayout  android:gravity="center"  android:layout_weight="1"  android:layout_width="wrap_content" android:layout_height="wrap_content" android:orientation="vertical"> 

        <ImageButton
            android:contentDescription="@string/app_name"
            android:id="@+id/imageButton1"
            android:layout_width="100dp"
            android:layout_height="100dp"
            android:background="@null"
            android:onClick="btnCat1"
            android:src="@drawable/ic_launcher" >
        </ImageButton>

        <TextView
            style="@style/MenuStyle"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:clickable="false"
            android:text="@string/app_name" 
            android:textColor="@color/black"/>

        </LinearLayout> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-13T13:27:45.260

顺便说一句，我尝试以相反的方式进行操作。我从水平变为垂直并且它起作用了

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
android:id="@+id/widget33"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="horizontal"
xmlns:android="http://schemas.android.com/apk/res/android"
android:background="#FFFFFF" >

   <LinearLayout  android:gravity="center" android:layout_weight="1" android:orientation="vertical" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_marginBottom="10dp"> 

       <RelativeLayout  android:gravity="center"   android:layout_weight="1"  android:layout_width="wrap_content" android:layout_height="wrap_content"> 

    <ImageButton
      android:id="@+id/imageButton1"
      android:layout_width="100dp"
      android:layout_height="100dp"
      android:background="@null"
      android:onClick="btnCat1"
      android:src="@drawable/nopic" >
</ImageButton>

<TextView
    style="@style/MenuStyle"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@+id/imageButton1"
    android:layout_centerHorizontal="true"
    android:clickable="false"
    android:text="Cat 1" />

</RelativeLayout>

       <RelativeLayout  android:gravity="center"  android:layout_weight="1"  android:layout_width="wrap_content" android:layout_height="wrap_content"> 

  <ImageButton
      android:id="@+id/imageButton1"
      android:layout_width="100dp"
      android:layout_height="100dp"
      android:background="@null"
      android:onClick="btnRoute"
      android:src="@drawable/nopic" >
</ImageButton>

<TextView
    style="@style/MenuStyle"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@+id/imageButton1"
    android:layout_centerHorizontal="true"
    android:clickable="false"
    android:text="Route" />

</RelativeLayout>
</LinearLayout>

   <LinearLayout  android:gravity="center" android:layout_weight="1" android:orientation="vertical" android:layout_width="fill_parent" android:layout_height="wrap_content" android:layout_marginBottom="10dp"> 

       <RelativeLayout  android:gravity="center"   android:layout_weight="1"  android:layout_width="wrap_content" android:layout_height="wrap_content"> 

    <ImageButton
      android:id="@+id/imageButton1"
      android:layout_width="100dp"
      android:layout_height="100dp"
      android:background="@null"
      android:onClick="btnContact"
      android:src="@drawable/nopic" >
</ImageButton>

<TextView
    style="@style/MenuStyle"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@+id/imageButton1"
    android:layout_centerHorizontal="true"
    android:clickable="false"
    android:text="Contacts" />

</RelativeLayout>

       <RelativeLayout  android:gravity="center"  android:layout_weight="1"  android:layout_width="wrap_content" android:layout_height="wrap_content"> 

  <ImageButton
      android:id="@+id/imageButton1"
      android:layout_width="100dp"
      android:layout_height="100dp"
      android:background="@null"
      android:onClick="btnChecList"
      android:src="@drawable/nopic" >
</ImageButton>

<TextView
    style="@style/MenuStyle"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@+id/imageButton1"
    android:layout_centerHorizontal="true"
    android:clickable="false"
    android:text="CheckList" />

</RelativeLayout>
</LinearLayout>

</LinearLayout> 
```

# css - Drupal，动态设置css

> ID：11466057
> 
> 赞同：-1
> 
> 时间：2012-07-13T07:33:45.133
> 
> 标签：css, drupal, drupal-7

有谁知道如何在 Drupal 7 主题中设置动态 CSS？根据浏览器，我想选择一个或另一个文件。

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T18:02:12.013

看看[Browser 类](http://drupal.org/project/browserclass)模块和[Browscap](http://drupal.org/project/browscap)模块。这些项目将导致您想要的结果。

> 这个小模块帮助主题开发人员处理跨浏览器兼容性。它使处理不同类型的非广泛使用的浏览器变得更容易，就像它有助于使用不同版本的 Internet Explorer 一样。该模块基于最终用户的浏览器和平台扩展了 page.tpl.php 中的 $body_classes 变量。

> Browscap 提供了 PHP`get_browser()`函数的改进版本。
> 
> 该`get_browser()`功能可用于告诉访问者的浏览器能够做什么。不幸的是，PHP 提供的版本有很多限制，即：
> 
> *   为共享托管环境配置可能很困难或不可能。
> *   用于识别浏览器并确定其功能的数据需要持续维护以保持最新状态。
> 
> Browscap 通过将浏览器数据存储在数据库中并按照可配置的时间表自动检索最新数据来自动化维护。

# c++ - 原语到 char**

> ID：11466061
> 
> 赞同：0
> 
> 时间：2012-07-13T07:34:08.157
> 
> 标签：c++, pointers, c-strings

我正在尝试将“char**”传递给另一个函数（我想使用的函数需要该表单作为参数），但我拥有的是一个双精度数组。我一直在尝试找到某种方法将双精度转换为 C 字符串并收集或连接它们，但是......我正在四处转转，​​除了编译器错误之外什么都没有。我会发布代码，但这一切都不是垃圾。

有人碰巧知道如何获取 7 个双精度值并获得一个 char** 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:58:55.543

如果您使用 C，一种选择是分配`char`缓冲区并调用`snprintf()`以从双精度值构建字符串值，就像您将字符串打印到控制台时所做的那样（例如，格式字符串，例如`"%f"`后跟值）。

如果可以使用C++，`std::ostringstream`类也有类似的效果（`<sstream>`header）；您可以将`<<`数值输入其中，调用`str()`创建 a `std::string`，最后调用`c_str()`对象`string`获取 a `char*`。这些指针可以放入临时 C 数组中以生成`char**`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:04:31.780

如果我正确理解情况：

让我们像这样声明你的函数 f：

```
int f(const int n, const double* values, char** out_words); 
```

第一个参数 n 是双精度数，值是您输入的双精度数，out_words 是您要在其中写入数字的 C 字符串数组。

我假设 out_words 正确分配了至少 n 个指针，每个指针都指向足够多的字节来保存数字。

所以函数体可能是这样的：

```
#include <string.h>
int i;
for (i=0; i<n; ++i) {
    sprintf(out_words[i], "%g", values[i]);
} 
```

# asp.net-mvc - 执行 CQRS 时的 ViewModel 位置

> ID：11466065
> 
> 赞同：1
> 
> 时间：2012-07-13T07:34:14.650
> 
> 标签：asp.net-mvc, viewmodel, dto, cqrs, 3-tier

假设您有一个分层项目，分为表示层、业务层和数据访问层。如果您使用 CQRS，您将直接从数据访问层到表示层进行查询并绕过业务层。

在这种情况下，如果您在表示层中使用 ViewModel，那么您的数据访问层将需要引用表示层以根据表示层中的 ViewModel 返回数据。那不是反模式吗？

此处存在类似的问题 - [MVC 3 应用程序中的模型、视图模型、DTO](https://stackoverflow.com/questions/5995140/models-viewmodels-dtos-in-mvc-3-application)

但是，如果您正在执行 CQRS，您将不会像答案中提到的那样在您的 ViewModel 和 Domain 对象之间进行映射，因为您正在绕过您的 Domain/Business 层那么您应该将 ViewModels 放在哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:50:44.443

据我了解 CQRS，您将从传递给 UI（PresentationLayer）的查询端（又名 DataAccessLayer）获得 DTO（DataTransferObjects）。

这些 DTO 可以直接用作 Views 的 ViewModel，如果它们为 View 提供所有必要的数据，**或者**可以与 ViewModel 中的其他 DTO 聚合。我认为这取决于视图中显示的数据。

回答您的问题：ViewModel 是 PresentationLayer 的一部分。

# ios - CAAnimationGroup 不工作

> ID：11466068
> 
> 赞同：1
> 
> 时间：2012-07-13T07:34:20.640
> 
> 标签：ios, animation, core-animation, caanimation

我有一个问题`CAAnimationGroup`。我有一个名为的视图`animeView`，我想同时应用围绕 Y 轴的 3D 旋转和缩放变换。旋转和缩放动画**分别**工作得非常好！但是当我将它们添加到`CAAnimationGroup`非动画中时！

**问题是什么？**

```
CAKeyframeAnimation *rotation = [CAKeyframeAnimation animation];
CATransform3D rotationTransform = CATransform3DMakeRotation(M_PI, 0.0f, 1.0f, 0.0f);
rotationTransform.m34 = 1.0 / -500;

rotation.values = [NSArray arrayWithObjects:
                   [NSValue valueWithCATransform3D:CATransform3DMakeRotation(0.0f, 0.0f, 1.0f, 0.0f)],
                   [NSValue valueWithCATransform3D:rotationTransform],
                   [NSValue valueWithCATransform3D:CATransform3DMakeRotation(2.0*M_PI, 0.0f, 1.0f, 0.0f)] ,nil];

CAKeyframeAnimation *trans = [CAKeyframeAnimation animation];

trans.values = [NSArray arrayWithObjects:[NSValue valueWithCATransform3D:CATransform3DIdentity],[NSValue valueWithCATransform3D:CATransform3DMakeScale(0.5, 0.5, 0.5)],[NSValue valueWithCATransform3D:CATransform3DIdentity], nil];

CAAnimationGroup *group = [CAAnimationGroup animation];

group.delegate = self;
[group setAnimations: [NSArray arrayWithObjects:rotation, trans, nil]];
group.duration = 2;
group.repeatCount = 3;

[self.animView.layer addAnimation:group forKey:nil]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-15T09:21:21.300

您提供的代码有两点奇怪。

1.  动画不知道他们应该改变什么属性（没有设置关键路径）
2.  两个动画都在改变变换（应该真正使用什么值？）

我看到的方式是您有两个具有相同数量值（三个）的变换关键帧动画。因此，您应该计算总变换矩阵（在一个矩阵中缩放和旋转），并且只将该动画添加到您的视图中。

它看起来像这样（我添加了很多评论来解释 sis 发生了什么）：

```
// Your first rotation is 0 degrees and no scaling
CATransform3D beginTransform = CATransform3DIdentity;

// Your middle rotation is the exact one that you provided ...
CATransform3D middleTransform = CATransform3DMakeRotation(M_PI, 0.0f, 1.0f, 0.0f);
// ... but the rotation matrix is then scaled as well ...
middleTransform = CATransform3DScale(middleTransform, 0.5, 0.5, 0.5);
// ... and the perspective is set
middleTransform.m34 = 1.0 / -500;

// Your end value is rotated but not scaled
CATransform3D endTransform = CATransform3DMakeRotation(2.0*M_PI, 0.0f, 1.0f, 0.0f);

// Create a new animation that should animate the "transform" property (thus the key path "transform")
CAKeyframeAnimation *rotateAndScale = [CAKeyframeAnimation animationWithKeyPath:@"transform"];
// same configurations as your group had
[rotateAndScale setDuration:2.0];
[rotateAndScale setRepeatDuration:3.0];
[rotateAndScale setDelegate:self];
// Set the values of the transform animation (yes, both scaling and rotation in one animation)
[rotateAndScale setValues:[NSArray arrayWithObjects:
                           [NSValue valueWithCATransform3D:beginTransform], 
                           [NSValue valueWithCATransform3D:middleTransform], 
                           [NSValue valueWithCATransform3D:endTransform], nil]];

// Add the animation to the layer, no need for a group here...
[animView.layer addAnimation:rotateAndScale forKey:nil]; 
```

# c# - 从 c# 导出 excel - 日期修改

> ID：11466069
> 
> 赞同：0
> 
> 时间：2012-07-13T07:34:25.337
> 
> 标签：c#, sql, sql-server

在sql中有一条记录，格式为：

> 2012-06-13 08:30:00.000

当我将它导出到 Excel 时，它以这种格式显示：

> 2012-07-18T08:30:00+03:00

我该如何解决？

我使用 MSSQL。这是 c# 代码：（我使用[RKLib.ExportData 组件](http://www.codeproject.com/Articles/8411/C-class-library-for-exporting-data-to-CSV-Excel-fi)）

```
int[] iColumns = { 0, 1, 2, 3, 4, 5, 6 };

RKLib.ExportData.Export objExport = new RKLib.ExportData.Export("Web");

Response.Clear();
Response.ClearHeaders();
Response.ClearContent();
Response.Cache.SetCacheability(HttpCacheability.NoCache);
Response.ContentEncoding = System.Text.Encoding.GetEncoding("windows-1254");
Response.Charset = "windows-1254";

objExport.ExportDetails(dt, iColumns, RKLib.ExportData.Export.ExportFormat.Excel, "exceldocument.xls"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T10:18:57.867

我认为这与出口无关。根据文档`DataTable`，在您的情况下，第一个参数是`dt`.

无论您在代码中的其他任何位置创建和填充此数据表，您都应该能够在那里对格式进行排序。数据库和这个数据表之间的某个地方是添加额外位的地方。

你没有提到它来自的列的数据类型，或者`DataTable`它要进入的列的数据类型，但我会假设源列是`DateTime`你的数据库中的，但它以字符串结尾数据表中的列？如果这是真的，您可以在数据表列上使用字符串操作，或者更改填充它的 sql 以获得您想要的格式。

# sqlite - 使用事件/互斥锁的 SQLite 数据库保护

> ID：11466078
> 
> 赞同：1
> 
> 时间：2012-07-13T07:35:01.623
> 
> 标签：sqlite, events, mutex

我有两个 Windows 应用程序将访问同一个数据库（存储在硬盘中）。这两个应用程序中只有一个在此数据库中执行读/写操作，而第二个应用程序仅执行读操作。当两个应用程序都在访问它时，我是否需要互斥体/事件来保护我的数据库？我正在阅读 SQLite 的常见问题解答，它说我可能不需要任何资源保护，SQLite 具有内置功能..

# r - 使用 ggplot2 更改图例文本的颜色与提到的 geom_point() 的颜色相同

> ID：11466084
> 
> 赞同：2
> 
> 时间：2012-07-13T07:35:28.033
> 
> 标签：r, ggplot2

我的传说具有三个价值，即高低中。

![在此处输入图像描述](../Images/0baa3cad720cb8185244d60c64f7bcd7.png)

我希望文本的颜色**高**到与形状对象相同，即在 geom_point() 中提到蓝色和低到红色和中度为绿色。

是否可以更改图例文本的颜色？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-14T22:22:46.987

如果`p`是您的情节，您可以将其保存为 grob 并使用网格命令一一编辑标签，

```
g = ggplotGrob(p)
grid.draw(g)
grid.edit("label-3", grep=TRUE, global=TRUE,
           gp=gpar(col="red", cex=1)) 
```

# ios - ipad的UI创建

> ID：11466087
> 
> 赞同：0
> 
> 时间：2012-07-13T07:35:35.413
> 
> 标签：ios, ipad

我想在我的应用程序中创建以下 UIView。请给出建议...我可以分别创建 UITextView 和 UIImageView 。但在该图像中，文本放置在图像下方。如何创建这种类型的 UI。请指导我..！

谢谢大家

![在此处输入图像描述](../Images/1bcc8a804942c6db7b2f09d2496294d0.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:55:44.977

一个可能的解决方案是使用 Webview 将文本显示为 html 并在右侧嵌入正确放置的图像。

如果您想`UIImageView`单独使用（出于其他原因，例如 - 使用手势识别器或简单的图像更新） - 那么您可以创建一个空的浮动空间，并将 imageview 作为子视图添加到 webview。

例如：

```
[webView loadHTMLString:
        [NSString stringWithFormat:"<style type=\"text/css\"><font face=\"Helvetica\" color=\"white\">"
        "<style> #buttons {float: right; width: 150px; height:100px;}</style>"
        "<div style=\"float:right;5px;top:1px;display:inline-table; position:relative; "
        "width: 150px; height: 100px;\"><div style=\"float:right;right:170px;top:4px;display:inline-table; "
        "position:relative; left:-8px; color: #fff; font-size: 13px;\"><p></p></div></p></div>"
        "%@</font><div></body>", @"text that will show up around image" baseURL:nil]; 
```

将用文本（@“将显示在图像周围的文本”）填充 webview 并为 UIImageView 留一个空白空间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:50:01.263

您有 2 个选项：

1) 使用 UIWebView。这将允许您轻松实现这一点，但您可能会遇到自动旋转问题，因为 UIWebView 会在您使其框架变大时自动缩放您的文本（当您移动到横向时您会这样做）。

2) 或者您可以放置​​ 2 个文本视图 - 其中一个位于图片左侧，另一个位于图片下方。为了计算第一个 textView 中适合的字符串以及为第二个 textView 留下的字符串，您应该查看[this](https://stackoverflow.com/q/851856/624091)。

我最近尝试了第二种方法，虽然这些方法有一个小错误（不关心单词，它按字符分割单词），但结果非常好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T09:44:54.970

如果它是应该围绕图像流动的同一段文本，您可以使用 CoreText 创建自定义形状的 TextView。当我自己尝试类似的事情时，我发现这个 StackOverflow 帖子是一个很好的起点：[https ://stackoverflow.com/a/5284707/785716](https://stackoverflow.com/a/5284707/785716)

# javascript - Javascript拆分字符串

> ID：11466104
> 
> 赞同：1
> 
> 时间：2012-07-13T07:36:32.863
> 
> 标签：javascript, regex

我有这样的字符串

```
"(length>10)&(length<100)" 
```

我想要这个

```
(,length,>,10,),&,(,length,<,100,) 
```

是否可以使用javascript拆分和正则表达式。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:41:12.590

```
"(length>10)&(length<100)".split( /([()><&])/ ).filter( Boolean )

["(", "length", ">", "10", ")", "&", "(", "length", "<", "100", ")"] 
```

这分裂为：、、、或`(`（“或”是由于周围的原因）。`)``>``<``&``[]`

由于捕获（方括号周围的括号 - 虽然它是 ES5，因此在 IE8 及以下版本中不支持），因此保留了拆分字符。

最后，要删除空字符串，我`filter( Boolean )`在数组上使用（ES5 也是，IE8 及以下版本也不支持）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T07:41:26.253

```
result = subject.split(/\b|(?!\w)/); 
```

这在字母数字和非字母数字字符之间的边界处分裂，另外在两个非字母数字字符之间分裂。您可能会在字符串的开头/结尾得到一个空匹配项，因此您需要丢弃零长度的结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:47:24.633

而不是 a `split`，我会选择一个 global `match`，它的行为更像一个标记器：

```
var input = "(length>10)&(length<100)";
var tokens = input.match(/\d+|[a-zA-Z]\w*|[()]|[<>=&|]+/g); 
```

它扫描输入并匹配以下模式（按顺序）：

```
\d+           # one ore more digits
|             # OR
[a-zA-Z]\w*   # an identifier
|             # OR
[()]          # a single opening- or closing parenthesis
|             # OR
[<>=&|]+      # one or more operators: '<=', '&', '|=', ... 
```

# java - 如何将 s:link 分配给 ui:param 值字段？

> ID：11466105
> 
> 赞同：1
> 
> 时间：2012-07-13T07:36:35.150
> 
> 标签：java, jsf, seam, facelets

我有一个模板，我需要在其中设置一个**ui:param**：

```
<ui:param name="pageCononical" value="#{somevalue}"/> 
```

value= " **#{somevalue}**需要是这个**s:link**：

```
<s:link id="canonical" view="/rewriteSearchLink/resultsPage.xhtml" propagation="none">
   <f:param name="searchString" value="#{currentSearch.searchString}"/>
   <f:param name="placeString" value="#{currentSearch.placeString}"/>
   <f:param name="currentPage" value="#{currentSearch.currentPage}"/>
</s:link> 
```

我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T14:13:52.990

`<ui:param/>`用于传递字符串和类似的简单值。您所追求的功能由`<ui:insert/>`和提供`<ui:define/>`。

在您的模板中，您需要通过以下方式指示插入点`<ui:insert/>`：

```
<ui:insert name="pagecanonical" /> 
```

在您的页面中，通过包含模板`<ui:decorate/>`并使用您的链接重新定义`pagecanonical`占位符：

```
<ui:decorate template="mytemplate.xhtml">
  <ui:define name="pagecanonical">
    <s:link id="canonical" view="/rewriteSearchLink/resultsPage.xhtml" propagation="none">
      <f:param name="searchString" value="#{currentSearch.searchString}"/>
      <f:param name="placeString" value="#{currentSearch.placeString}"/>
      <f:param name="currentPage" value="#{currentSearch.currentPage}"/>
    </s:link>
  </ui:define>
</ui:decorate> 
```

# c# - 解析一个大的 CSV 文件 C# .net 4

> ID：11466107
> 
> 赞同：1
> 
> 时间：2012-07-13T07:36:39.430
> 
> 标签：c#

我知道以前有人问过这个问题，但我似乎无法用我读过的答案来解决这个问题。我有一个 CSV 文件 ~ 1.2GB，如果我像 32 位一样运行进程，我会得到 outOfMemoryException，如果我将它作为 64 位进程运行它就可以工作，但它仍然需要 3.4GB 的内存，我知道我在我的 customData 类中存储了很多数据，但仍然有 3,4gb 的内存？，我在读取文件时做错了什么吗？dict 是一本字典，其中我只有一个映射到要保存某些内容的属性，具体取决于它所在的列。我是否以正确的方式阅读？

```
StreamReader reader = new StreamReader(File.OpenRead(path));
while(!reader.EndOfStream)  {
            String line = reader.ReadLine();
            String[] values = line.Split(';');
            CustomData data = new CustomData();
            string value;
            for (int i = 0; i < values.Length; i++) {
                dict.TryGetValue(i, out value);
                Type targetType = data.GetType();
                PropertyInfo prop = targetType.GetProperty(value);
                if(values[i]==null)
                {
                    prop.SetValue(data, "NULL",null);
                }
                else
                {
                    prop.SetValue(data, values[i], null);
                }

            }
            dataList.Add(data);
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T08:04:24.470

您使用流阅读器似乎没有任何问题，您在内存中读取了一行，然后忘记了它。

但是，在 C# 中，字符串在内存中编码为 UTF-16，因此平均一个字符在内存中消耗 2 个字节。

如果您的 CSV 还包含许多要转换为的空字段，则`"NULL"`每个空字段最多可添加 7 个字节。

因此，总的来说，由于您基本上将文件中的所有数据都存储在内存中，因此您需要几乎 3 倍于内存中的文件大小也就不足为奇了。

实际的解决方案是通过 N 行来解析数据，处理它们，然后从内存中释放它们。

**注意：**考虑使用 CSV 解析器，CSV 不仅仅是逗号或分号，如果您的某个字段包含分号、换行符、引号... 怎么办？

**编辑**

实际上每个字符串在内存中最多占用 20+(N/2)*4 个字节，请参阅[C# in Depth](http://csharpindepth.com/Articles/General/Strings.aspx)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-13T08:10:14.430

好的，这里有几点。

*   正如评论中指出的那样，x86 下的 .NET 每个进程只能消耗 1.5GBytes，因此请考虑您的最大内存为 32 位

*   StreamReader 本身会有开销。我不知道它是否将整个文件缓存在内存中（也许有人可以澄清一下？）。如果是这样，分块读取和处理文件可能是更好的解决方案

*   CustomData 类，它有多少个字段，创建了多少个实例？请注意，x86 中的每个引用都需要 32 位，x64 中的每个引用需要 64 位。因此，如果您有 CustomData 类，它有 10 个 System.Object 类型的字段，则每个 CustomData 类在存储任何数据之前都需要 88 个字节。

*   dataList.Add 在最后。我假设您要添加到通用列表？如果是这样，请注意 List 使用加倍算法来调整大小。如果列表中有 1GByte 并且它需要多 1 个字节的大小，它将创建一个 2GByte 数组并在调整大小时将 1GByte 复制到 2GByte 数组。所以突然之间 1GByte + 1 字节实际上需要 3GBytes 来操作。另一种选择是使用预先确定大小的数组

# javascript - 通过javascript在div中加载页面

> ID：11466117
> 
> 赞同：-1
> 
> 时间：2012-07-13T07:37:15.207
> 
> 标签：javascript, image, load, var

我确定这个问题已经被问过很多次了，但我需要做以下事情

```
<script language="javascript">
var one = 888;
var two = 122;
var three = "ABC";
</script> 
```

我需要发送这些并在 DIV 中返回数据（它将是一个图像）

我不会使用 jQUERY 或任何其他插件

[http://www.example.com/yes?one=888&two=122&three=ABC](http://www.example.com/yes?one=888&two=122&three=ABC)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T07:45:14.417

jQuery 让它变得简单，但如果你愿意，你可以用纯 JS 来做。阅读官方 w3c ajax 教程：

[http://www.w3schools.com/ajax/ajax_xmlhttprequest_create.asp](http://www.w3schools.com/ajax/ajax_xmlhttprequest_create.asp)

[http://www.w3schools.com/ajax/ajax_xmlhttprequest_send.asp](http://www.w3schools.com/ajax/ajax_xmlhttprequest_send.asp)

[http://www.w3schools.com/ajax/ajax_xmlhttprequest_response.asp](http://www.w3schools.com/ajax/ajax_xmlhttprequest_response.asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:46:11.907

我不确定您到底要做什么。这会将图像的 src 设置为您要求的内容并将其添加到 div。

```
img = new Image();
img.src = 'http://www.example.com/yes?one=' + one + '&two=' + two + '&three=' + three;
document.querySelectorAll('#idOfDiv').appendChild(img) 
```

# c# - 使用带有新域的 aspx 页面和 web.config

> ID：11466118
> 
> 赞同：0
> 
> 时间：2012-07-13T07:37:21.733
> 
> 标签：c#, asp.net

我使用了一个新域。当我只设置 html 页面而不是站点运行正确时。但是当我使用 web.config 和 aspx 页面时，网站会出错。

错误是：HTTP 错误 500.19 - 内部服务器错误 请求的页面无法访问，因为该页面的相关配置数据无效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:22:08.453

您可以首先检查 web.config 是否格式正确，然后您可以将 customError 的模式更改为关闭，如下面的片段

```
<customErrors mode="off" /> 
```

以上将揭示与您的 aspx 或代码隐藏相关的任何错误详细信息。

# logging - 有谁知道 DB2 Recovery Expert 在提取事务日志时是如何工作的？

> ID：11466122
> 
> 赞同：0
> 
> 时间：2012-07-13T07:37:26.770
> 
> 标签：logging, transactions, db2, extract

我正在用java编写一个sql2nosql同步工具。我必须提取 DB2 历史存档事务日志，但不像 Oracle logmnr，DB2 没有合适的 API 或方法，除了她自己的工具“Recovery Expert”。不要为我提及快照或事件监视器，因为我正在分析历史存档日志。

提取日志时，有人帮助我 DB2 Recovery Expert 的工作原理吗？

问候来自中国的德银

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T21:34:08.543

DB2 拥有[`db2ReadLog()`](http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/topic/com.ibm.db2.luw.apdv.api.doc/doc/r0001673.html)API 已有*很长时间*了。

# r - ggplot geom_bar - '旋转和翻转'？

> ID：11466131
> 
> 赞同：6
> 
> 时间：2012-07-13T07:38:02.760
> 
> 标签：r, ggplot2

```
test <- data.frame(
    y=seq(18,41,1),
    x=24:1
)

ggplot(test, aes(y=y, x=x)) + geom_bar(stat="identity", aes(width=1)) + 
    opts( axis.text.x = theme_blank(), axis.ticks.x = theme_blank()) + 
    scale_x_continuous(breaks=NULL) + 
    coord_cartesian(ylim = c(17, 42)) 
```

![在此处输入图像描述](../Images/95b25979f523f2855cf488aa94a181da.png)

就旋转和翻转而言，我希望该图中的 y 轴位于顶部，而 x 轴位于右侧。所以条形图从图的右侧“出来”，顶部最长/最高，底部最短。如果它顺时针旋转 90 度，然后翻转一条垂直线即可实现。

coord_flip() 和 scale_y_reverse() 以某种方式走上正确的道路。

编辑：

我想这非常接近，只需要将 y 轴移到图的顶部。

```
ggplot(test, aes(y=y, x=x)) + geom_bar(stat="identity", aes(width=1)) + 
    opts(axis.text.y = theme_blank(), axis.ticks.y = theme_blank()) + 
    scale_x_continuous(breaks=NULL) + scale_y_reverse() + coord_flip()  + scale_x_reverse() 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-13T08:44:52.540

不完全是你描述的，但也许足够接近？

```
ggplot(test, aes(y=y, x=x)) + geom_bar(stat="identity", aes(width=1)) +
  coord_flip() +
  xlim(24, 1) +
  ylim(42, 0) 
```

诀窍是让`xlim`and`ylim`参数以相反的顺序排列。您的轴位置仍然在底部和左侧......

![在此处输入图像描述](../Images/410d52641acd10501a9e9c7758b35f66.png)

# android - Android ImageView 正在切断

> ID：11466133
> 
> 赞同：0
> 
> 时间：2012-07-13T07:38:05.470
> 
> 标签：android

我有一个包含 imageView 的 xml。

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/blockingLayer"
    android:layout_width="880px"
    android:layout_height="600px">
        <ImageView 
            android:layout_width="110px"
            android:layout_height="60px"
            android:id="@+id/fish_image_view"
            android:visibility="visible"
            android:layout_marginLeft="0px"
            android:layout_marginTop="350px"
            />
</RelativeLayout> 
```

在代码中，我得到这个 imageView 并在其上运行 translateAnimation 从 X1 = 10 到 x2 = ScreenWidth ，Y1 & Y2 = 350px。此动画在 android 版本 2.2 上运行良好，但是当我在 OS 2.3 / 4.0 上运行此动画时，ImageView 将在翻译动画期间在屏幕上的某些点上截断并消失。

我不明白这是怎么回事。回应将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:39:25.967

不要使用“px”。把它改成“蘸”

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/blockingLayer"
    android:layout_width="880dip"
    android:layout_height="600dip">
        <ImageView 
            android:layout_width="110dip"
            android:layout_height="60dip"
            android:id="@+id/fish_image_view"
            android:visibility="visible"
            android:layout_marginLeft="0dip"
            android:layout_marginTop="350dip"
            />
</RelativeLayout> 
```

来自这里的来源，[Android上的“px”，“dp”，“dip”和“sp”有什么区别？](https://stackoverflow.com/q/2025282/603744)

> px Pixels - 对应于屏幕上的实际像素。
> 
> dp Density-independent Pixels - 一个基于屏幕物理密度的抽象单位。这些单位与 160 dpi 屏幕相关，因此 1 dp 是 160 dpi 屏幕上的一个像素。dp与像素的比例会随着屏幕密度而变化，但不一定成正比。注意：编译器同时接受“dip”和“dp”，尽管“dp”与“sp”更一致。

# c++ - 使用 fopen 打开文件，在 Windows 上给定绝对路径

> ID：11466139
> 
> 赞同：13
> 
> 时间：2012-07-13T07:38:36.757
> 
> 标签：c++, windows, file, fopen, relative-path

我正在尝试制作一个计算文件行数的程序，当我尝试将绝对路径传递给 fopen 函数时，只是告诉我找不到，这是我的代码：

```
#include <iostream>
#include <stdio.h>
#include <stdlib.h>

using namespace std;

int main(int argc, char *argv[])
{
    int i=0;
    char array[100];

        char caracteres[100];
        FILE *archivo;
        archivo = fopen("C:\Documents and Settings\juegos psps.txt","r");
        if (archivo == NULL){cout<<"Dont Work";}
        while (feof(archivo) == 0)
        {
                fgets(caracteres,100,archivo);
                i++;
                }
                cout << "Number of lines:" << i ;
                return 0;
} 
```

我应该如何将绝对路径传递给我的程序，以便您可以打开文件？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-07-13T07:39:46.680

使用双斜杠：

```
"C:\\Documents and Settings\\juegos psps.txt" 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-13T07:45:08.347

它不起作用，因为编译器会检查文字字符串中的反斜杠以及下一个字符，并且通常将它们解释为一个字符。字符串文字中的这种双字符序列称为*转义序列*。

序列`\D`和`\j`不映射到任何东西（与`\n`映射到换行符的对比），在这种情况下，标准说编译器可以根据自己的选择解释它们。一些编译器选择忽略反斜杠，在您的情况下会导致等效：

```
archivo = fopen("C:Documents and Settingsjuegos psps.txt","r"); 
```

（您可以尝试创建一个具有此名称的文件来测试这是否是您的编译器所做的）。

反斜杠的正确转义序列是双反斜杠，所以你应该把它写成

```
archivo = fopen("C:\\Documents and Settings\\juegos psps.txt","r"); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-01-31T17:34:50.183

在 Windows 和 linux 上也能正常工作：`/`而不是转义反斜杠`\\`

```
"C:/dir1/dir2/file.ext" 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-09T21:55:22.343

检查文件名中的空格。斜线已正确转义，但空白区域未正确转义。

尝试：

`fopen("C:\\\\Documents\ and\ Settings\\\juegos psps.txt","r")`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-03-06T15:42:10.937

在代码块文件夹中创建一个新文件夹

在主文件和头文件旁边的项目文件夹中创建新文件“exemple1”并将您的文件放入其中“file.txt”，然后

```
string nom_fichier;
nom_fichier = "exemple1/file.txt" ;
fichier = fopen(nom_fichier.c_str(), "r+"); 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2015-10-08T02:03:25.230

鉴于所有代码和路径都正确键入，导致 fopen 不起作用的另一个可能原因可能是您的项目属性-> C/C++ 代码生成-> 运行时库设置为 /MD 而不是 /MDd 用于调试构建，此设置应该对应项目配置，XX为Release XX(d)为Debug

# c# - 如何通过动态接收颜色值在 CSS 中设置背景颜色？

> ID：11466142
> 
> 赞同：0
> 
> 时间：2012-07-13T07:38:46.233
> 
> 标签：c#, asp.net

我正在使用以下代码：

```
<style>
    .color-3 {
    background-color: <%= this.BckColor %>;
    }
</style> 
```

从 C# 页面接收值。我的 C# 代码从名为“设置”页面的页面接收背景图像颜色，C# 代码是：

```
 string BckColor ="#" + Convert.ToString((Settings["DOTCOLOR"])); 
```

但是当我这样做时，背景颜色丢失了。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:42:52.967

你应该使用这个：

```
<style>
    .color-3 {
    background-color: #<%= Convert.ToString(Settings["DOTCOLOR"]) %>;

}
</style> 
```

或者在您的页面类中创建一个属性：

```
public string BgColor{
    get { return Convert.ToString(Settings["DOTCOLOR"]); }
} 
```

和

```
<style>
    .color-3 {
    background-color: #<%= BgColor%>;

}
</style> 
```

# c# - 将请求从域传递到视图

> ID：11466150
> 
> 赞同：0
> 
> 时间：2012-07-13T07:39:21.953
> 
> 标签：c#, wpf, multithreading

我正在开发一个 WPF 应用程序，其中用户可以通过按下 UI 上的按钮来启动一个进程。然后可能会提示用户完成该过程必须执行的一系列动作。视图负责将初始请求传递给域以启动流程。该视图还负责显示用户完成该过程必须执行的步骤。另一方面，域是对制定用户必须执行的步骤的直接响应。该域还能够检测用户何时完成了请求的步骤。

如果用户启动一个流程，并且该流程要求他们执行一些物理操作，那么我希望弹出一个框，其中包含描述他们必须做什么的消息。动作完成后，域会检测到它，并且窗口应该会自动关闭。

将请求从视图传递到域很简单。我使用 wpf ICommand 模式执行此操作。它以另一种我认为具有挑战性的方式传递信息。我知道绑定和 INotifyProperyChanged 接口，但我认为这不适合我正在尝试做的事情。

所以，这是我最初的尝试......

该接口由 View 实现并由 Domain 使用。它允许域与用户进行通信；

```
public interface IUserRequestMedium
{
    /// <summary>
    /// Ask the user to perform an action. User does
    /// not need to provide any feedback via the user
    /// interface, since it is possible for the 
    /// application to detect when the action has been
    /// carried out by the user. The dialog will be closed
    /// when either the requested action has been detected,
    /// or the user aborts.
    /// </summary>
    /// <param name="message">
    /// Request to be displayed to the user.
    /// </param>
    /// <param name="userAbortCallback">
    /// Callback invoked by the view when the user cancels
    /// the request.
    /// </param>
    /// <param name="actionDetectedCallback">
    /// Callback invoked by the domain to confirm the 
    /// that the requested action has been completed.
    /// </param>
    void AskUserToPerformDetectableAction(
        string message, Action userAbortCallback,
        out Action actionDetectedCallback);
} 
```

这是 View 代码隐藏。其中一些代码取自网络上的教程（随后被修改）。它不起作用，但我希望它能传达我的意图。

```
public partial class MainWindow : Window, IUserRequestMedium
{
    // Constructor and other stuff...

    public void AskUserToPerformDetectableAction(
        string message, Action userAbortCallback,
        out Action actionDetectedCallback)
    {
        Action closeWindow;
        NewWindowThread(
            () => new ActionRequestBox(message, userAbortCallback),
            out closeWindow);

        actionDetectedCallback = closeWindow;
}

    private Window newWindow;

    private void NewWindowThread(
        Func<Window> construction,
        out Action closeWindow)
    {
        var thread = new Thread(() =>
        {
            newWindow = construction();
            newWindow.Show();
            newWindow.Closed += (sender, e) => newWindow.Dispatcher.InvokeShutdown();
            System.Windows.Threading.Dispatcher.Run();
        });
        thread.SetApartmentState(ApartmentState.STA);
        thread.Start();

        Window rememberedWindow = newWindow;
        closeWindow = () =>
        {
            if (rememberedWindow != null)
                rememberedWindow.Dispatcher.Invoke(
                    System.Windows.Threading.DispatcherPriority.Normal,
                    new Action(Close));
        };
    }
} 
```

这是域中的一个使用示例；

```
public class SomeDomainClass
{
    IUserRequestMedium userRequestMedium; // assume this has been assigned in constructor

    private Action notifyUserOfActionDetected;

    public void PerformSomeProcess()
    {
        bool processCannotBeCompletedWithoutPowerCycle = ...; // some logic
        if (processCannotBeCompletedWithoutPowerCycle)
        {
            userRequestMedium.AskUserToPerformDetectableAction(
                "Please cycle the power on the external device",
                CancelProcess,
                out notifyUserOfActionDetected);
        }
    }

    public void CancelProcess()
    {
        // User doesn't want to perform the required action
        // so process must be aborted...
    }

    private void OnPowerCycleDetected()
    {
        notifyUserOfActionDetected();
    }
} 
```

我怎样才能使这项工作？这是我被抓住的跨线程方面。当域检测到该操作时，我未能成功地使窗口自动关闭。

或者，退后一步，有没有更好的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T10:06:42.860

在了解了一点 Dispatcher.Invoke 之后，这就是我最终得到的。到目前为止，它似乎工作得很好。

```
 private Window activeRequestBox;

    // invoked on domain thread
    public void AskUserToPerformDetectableAction(
        string message, Action userAbortCallback,
        out Action actionDetectedCallback)
    {
        OpenDetectableActionRequestBox(message, userAbortCallback);
        actionDetectedCallback = CloseRequestBox;
    }

    private void OpenDetectableActionRequestBox(
        string message, Action userAbortCallback)
    {
        Action openWindow =
            () =>
            {
                activeRequestBox = new DetectableActionRequestBox(
                     message, userAbortCallback);
                activeRequestBox.Closed += RequestBoxClosedHandler;
                activeRequestBox.Show();
            };
        this.Dispatcher.Invoke(openWindow);            
    }

    // invoked on request box thread
    private void RequestBoxClosedHandler(object sender, EventArgs e)
    {
        activeRequestBox = null;
    }

    // invoked on domain thread
    private void CloseRequestBox()
    {
        if (activeRequestBox != null)
        {
            Action closeWindow =
                () => activeRequestBox.Close();
            this.Dispatcher.Invoke(closeWindow);
        }
    } 
```

# overflow - 如何使一个 div 包含在其他 div 中并且不会溢出

> ID：11466151
> 
> 赞同：0
> 
> 时间：2012-07-13T07:39:22.923
> 
> 标签：overflow, media-queries, css

我有这个： http: [//jsfiddle.net/cN2pS/embedded/result/](http://jsfiddle.net/cN2pS/embedded/result/) 我正在寻找最好的方法来调整圆圈内的div（文本和数字）以便这些div（文本和数字）不要'不溢出圆圈......我不知道我是否解释得很好，但是在不同的分辨率下，有时，圆圈的文字溢出......当你访问jsfiddle上面的链接时，试试调整窗口大小，您会看到左下角的圆圈，其中包含*Zona de Información*，其文本溢出...问候，丹尼尔

**编辑：通过添加****溢出**看起来效果更好：隐藏；并将字体大小减小到 14px。现场示例：http: [//jsfiddle.net/cN2pS/8/embedded/result/](http://jsfiddle.net/cN2pS/8/embedded/result/)

**EDIT2**：只有一个问题：您是否知道任何教程，现场示例等，有效地使用媒体查询以适应移动设备的分辨率？为了适应这些圆形 div...或者我必须多次调整桌面浏览器窗口的大小...有什么*神奇*的工具吗？：） 谢谢

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-14T18:30:52.333

你问这样的事情吗？

[http://www.we-are-gurus.com/tools/responsive-design-tester.php?url=http%3A%2F%2Fsmore.rvadv.com&d=320x480&scroll=off](http://www.we-are-gurus.com/tools/responsive-design-tester.php?url=http%3A%2F%2Fsmore.rvadv.com&d=320x480&scroll=off)

我在为移动设备设计时使用它，它工作得很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:48:21.513

可能你可以使用 CSS **word-wrap: break-word;** 属性：

```
#divInfIzq {
    bottom: 15%;
    left: 15%;
    position: absolute;
    word-wrap: break-word;
} 
```

检查这个[http://jsfiddle.net/cN2pS/5/embedded/result/](http://jsfiddle.net/cN2pS/5/embedded/result/)

# opengl - 如何在 OpenGL 3.1+ 中绘制位图字体？

> ID：11466153
> 
> 赞同：1
> 
> 时间：2012-07-13T07:39:28.703
> 
> 标签：opengl

我想在我的 OpenGL 应用程序中有一些文本。但是，我使用的是 3.1+，并且我在 Internet 上找到的所有文章都使用了已弃用的功能，例如显示列表或 glBitmap 或（最坏的情况）GLUT。

那我应该在Win32上使用什么？（当然，预制纹理中的预先编写的文本除外）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:33:38.433

[Freetype](http://www.freetype.org/)是一个支持基于 SFNT 的位图字体的软件字体引擎。

# c# - 以 c# 的形式获取我的水晶报表的文件名作为标题

> ID：11466160
> 
> 赞同：2
> 
> 时间：2012-07-13T07:40:02.207
> 
> 标签：c#

我有一个字符串=" `C:\\PerxClub\\PerxClub\\Reports\\CrystalReport1.rpt`"

我想获得“ `CrystalReport1.rpt`”仅用作表格上的标题

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:43:30.080

您可以使用 GetFilename [http://msdn.microsoft.com/en-us/library/system.io.path.getfilename.aspx](http://msdn.microsoft.com/en-us/library/system.io.path.getfilename.aspx)

```
string path = @"C:\PerxClub\PerxClub\Reports\CrystalReport1.rpt";
string result = Path.GetFileName(path); 
```

# opencl - 工作组规模

> ID：11466162
> 
> 赞同：11
> 
> 时间：2012-07-13T07:40:06.263
> 
> 标签：opencl, workgroup

对于给定的内核，为什么 work_groups 的大小总是相同的？我在某处读到（对于我们没有指定本地工作大小的情况），openCL 为内核创建了 3 个工作组（每个 217 个工作项），内核有 651 个工作项（可被 3 整除），同时它创建了 653 个工作- 每组 1 个工作项，因为 653 是质数。

假设我们指定 local_work_size（即工作组中的工作项数），假设为 5。我们将工作项总数（global_work_size）设为 9。如何创建工作组？这就是为什么 global_work_size 必须是 local_work_size 的倍数？如果数据只需要 9 个工作项，如何将其增加到 10（local_work_size 的倍数，5）？

如果主机不知道有多少工作组将执行内核，为什么主机不能为结果数组分配内存？

请帮忙。我读了这一切： [http ://www.openclblog.com/2011/09/work-group-sizes.html](http://www.openclblog.com/2011/09/work-group-sizes.html)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-14T16:30:38.497

OpenCL 工作组的大小不需要总是相同的大小。全局工作组的大小通常与问题的大小有关。本地工作组大小的选择基于最大化计算单元吞吐量和需要共享本地内存的线程数。

让我们考虑几个例子；

A) 将图像从 N x M 缩放到 X x Y。

B) 对 N 个数字求和。

为一个）

显而易见的全球工作组规模是 X、Y、1。为什么？这为每个输出像素提供 1 个线程。应根据需要处理以生成输出像素的输入像素的数量来选择本地工作组大小。

例如。

A.1)将图像从 4K x 3.2K 缩放到 64 x 64。GWG 大小 [64,64,1] LWG 大小 256 A.2)将图像从 4k x 3.2k 缩放到 800 x 600.GWG 大小 [800 ,60,1] LWG 尺寸 256

对于 B)

显而易见的全球工作组规模是 N/2,1,1，为什么？因此，每个线程首先将 2 个值相加。本地工作组应设置为设备最大值。

有一些警告；

1) 全局工作组大小受全局内存大小和最大全局内存分配大小的约束。

2) 每个设备的最大本地工作组大小通常为 256

# c++ - C++ 线程和无限循环

> ID：11466163
> 
> 赞同：3
> 
> 时间：2012-07-13T07:40:14.573
> 
> 标签：c++, multithreading, pthreads

我有一个小问题，我写了一个程序，服务器角色，做一个无限循环等待客户端请求。
但我希望这个程序也能返回他的 pid。
因此，我认为我应该使用多线程。
这是我的主要内容：

```
int main(int argc, char **argv) {

    int pid = (int) getpid();
    int port = 5555

    ServerSoap *servsoap;
    servsoap = new ServerSoap(port, false);
    servsoap->StartServer(); //Here starts the infinite loop

    return pid; //so it never executes this
} 
```

如果是 bash 脚本，我会添加`&`以在后台运行它。
我应该使用 pthread 吗？请问该怎么做？

谢谢。
欧

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T07:44:49.267

当程序返回（退出）时，所有正在运行的线程都会终止，因此您不能让后台线程继续运行。

此外， 的`int`返回值`main`（通常）被截断为 7 位值，因此您没有足够的空间来返回完整的 pid。

最好使用 . 将 pid 打印到标准输出`printf`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:47:24.167

我有一种感觉，您正在尝试实现[daemon](http://en.wikipedia.org/wiki/Daemon_%28computing%29)。

要添加到@ecatmur 答案，如果没有发生错误，程序应始终在终止时返回 0。

PID 通常保存在某个文件中，通常在 /var/run/ 目录中。有些程序使用 /tmp/ 目录。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T07:48:29.347

如果你把无限循环放在一个单独的线程中，然后从`main`它返回将杀死整个进程，包括你的新线程。保持线程的一种解决方案是制作一个分离的线程。更好的解决方案可能是创建一个新进程：

```
int main()
{
    int pid = fork();
    if (pid == -1)
        perror("fork");
    else if (pid == 0)
    {
        ServerSoap serversoap(5555, false);
        serversoap.StartServer();
    }

    return pid;
} 
```

**编辑：**`main`还请注意从 ecatmur 的答案中指出的返回值的限制。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T07:51:44.723

你的主要是试图做你的服务器应该做的事情。你在这里混淆了几个模式。

## 模式 #1：守护进程

将 main 视为程序，当它打开时，接受客户端请求并对其执行操作。如果这是程序的结构，则 main 必须等待请求。收到请求后，您才执行请求的操作。main 仅用于打开或关闭此服务。通常这种类型的行为默认由线程处理。例如，侦听器会激活一个线程，该线程调用具有有关请求的信息的特定方法。除非您需要线程来完成您需要完成的工作，否则您不应该为此需要线程。

## 模式#2：工具

或者，您可以简单地将此程序称为工具。您仍然需要一个 Web 服务，但该程序可以与该程序分开。除了你的工具应该做的事情之外，你不应该为此需要线程。

无论哪种情况，我认为您要寻找的不是实现线程。您只是在激活一个什么都不做的服务器。您可能应该考虑添加请求处理程序。

# qt - How can i store Custom types in QSettings?

> ID：11466165
> 
> 赞同：3
> 
> 时间：2012-07-13T07:40:19.257
> 
> 标签：qt

From API docs:

> Custom types registered using qRegisterMetaType() and qRegisterMetaTypeStreamOperators() can be stored using QSettings.

How can I do that? I get the error:

> too few template-parameter-lists at `qRegisterMetaTypeStreamOperators`

My code:

```
class LineUser {
public:
    int uId;
    QString passwd;
    qint8 statusType;
};

Q_DECLARE_METATYPE(LineUser)
QDataStream &operator<<(QDataStream &out, const LineUser &myObj) {
    out<<myObj.uId<<myObj.passwd<<myObj.statusType;
    return out;
}
QDataStream &operator>>(QDataStream &in, LineUser &myObj) {
    in>>myObj.uId>>myObj.passwd>>myObj.statusType;
    return in;
}
qRegisterMetaTypeStreamOperators<LineUser>("LineUser"); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:18:04.583

`qRegisterMetaTypeStreamOperators` is a function, not a macro.

You need to call it from a .cpp file, e.g. in your main() method

# c++ - 从 GridLayout 中删除单元格

> ID：11466166
> 
> 赞同：3
> 
> 时间：2012-07-13T07:40:21.493
> 
> 标签：c++, qt, user-interface

我在 GridLayout 中放置了两个 QSlider，如下所示：

```
layout = new GridLayout();

layout->addWidget(slider_horizontal, 0, 1, 1, 2);
layout->addWidget(slider_vertical, 1, 0, 2, 1); 
```

这形成了一个 2x2 矩阵，因为它们都放置在不同的行和列中。我想要的是删除右下角未使用的单元格（位置：1,1）。

问题是这个单元格发生在我的 QGraphicsView 中并且使该区域不可选择。

后来我做了这个：

```
sliderWidget = new QWidget(graphicsView);
sliderWidget = setLayout(layout); 
```

其中 graphicsView 是 QGraphicsView。

我的第一个想法是这是不可能的，我必须解决这个问题。但我想检查一下你是否可以这样做。

我还想知道是否有其他方法可以使未使用的单元格不在我的图形视图中占据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:58:47.543

将整个图形视图放在右下角的单元格内怎么样？此滑块将在图形视图之外，但通常这不成问题。

不确定您是否真的只需要滚动条来显示较大场景的一小部分，在这种情况下，您可以使用这些：

```
QGraphicsView::setVerticalScrollBarPolicy(...)
QGraphicsView::setHorizontalScrollBarPolicy(...) 
```

# list - VBA 验证列表错误

> ID：11466168
> 
> 赞同：2
> 
> 时间：2012-07-13T07:40:29.893
> 
> 标签：list, validation, excel, vba

我对 vba 编程很陌生。我需要一些编码帮助，在我尝试谷歌搜索解决方案后我无法找到解决方案。

目前我有一个自定义类型，称为类别映射。该类型将用于包含我想要作为 vadliation 列表选项放置的项目。它看起来如下：

```
Public Type categoryMapping
    messageKey As Long
    description As String
End Type 
```

categoryMapping 的一个例子是存储性别代码，6000 代表男性，6001 代表女性。

验证列表的显示 因为我都将它们存储在一个数组中，所以显示它们并不容易。我所做的如下：

```
'Validation drop down list for the whole row
If Has_Elements(mapping) Then
    Dim code As String
    Dim options() As categoryMapping

    code = ""
    options = mapping

    Dim j As Integer
    For j = LBound(options) To UBound(options)
        code = code & options(j).messageKey & ": " & options(j).description & ","
    Next j

    With Range(Rows(7).Address).Validation    'TODO: Need to refactor
        .Add Type:=xlValidateList, _
        AlertStyle:=xlValidAlertStop, _
        Operator:=xlBetween, _
        Formula1:=code
        .InCellDropdown = True
        .InputMessage = "Please choose from of the following"
        .ShowInput = True
    End With
End If 
```

由于我已经将所有要显示的项目放入数组中，因此是否更容易显示它们？我可以直接调用数组吗？

使用单元格从上面的代码可以看出，我已经使用整行的地址来包含验证列表，因为实际上我想要的是整行，除了标题单元格来包含验证列表。

```
With Cells(7,1).Validation    'TODO: Need to refactor
    .Add Type:=xlValidateList, _
    AlertStyle:=xlValidAlertStop, _
    Operator:=xlBetween, _
    Formula1:=code
    .InCellDropdown = True
    .InputMessage = "Please choose from of the following"
    .ShowInput = True
End With 
```

我尝试使用上面的代码来做，但它失败了。有什么办法可以去做吗？

合并多个验证删除

由于上面提到的问题，我需要输入代码来删除某些列的验证列表，如下图：

```
'Delete the unneccessary validation
'TODO: refactor the code so that write in 1 line
Range(Columns(1).Address).Validation.Delete
Range(Columns(2).Address).Validation.Delete
Range(Columns(3).Address).Validation.Delete
Range(Columns(4).Address).Validation.Delete 
```

有什么方法可以将所有删除验证合并到一个语句中？

显示部分选项

从上面可以看出，当我的用户从验证列表中选择一个选项时，整个字符串都会出现。

例如，如果我有“6000：男”和“6001：女”作为选项，并且我选择男，我希望出现“6000”而不是“6000：男”。有没有办法做到这一点？

重新打开后验证数据不存在

生成验证列表后，我关闭程序并重新打开它，出现错误提示“Excel 在 'File name.xls' 中发现不可读的内容。您要恢复此工作簿的内容吗？如果您信任来源在此工作簿中，单击是。

当我单击是时，我的 excel 打开但我所有的验证列表都消失了！我收到以下错误消息。

> - error064240_01.xml 在文件“file_name”中检测到错误 - 已删除功能：来自 /xl/worksheets/sheet2.xml.part 的数据验证

我猜测发生错误是因为验证列表中的选项未存储在工作表中，而是存储在程序内存中，因此当我关闭程序时，内存丢失了。

如果我的猜测是正确的，有没有办法解决这个问题？我正在考虑创建另一个包含验证列表中所有数据的工作表，并让我的单元格验证列表引用它们，但是有更好的方法将它们存储在同一个工作表中吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:00:16.523

不可读的内容是因为您将验证列表存储在内存中的数组中。关闭工作表后，该数组就会超出范围并不再存在。我通常不会将其存储在数组中，而是将列表写入某个工作表，而是创建一个名为列表的新工作表。

您的单元格的实际验证不会使用 VBA。只需创建一个动态命名范围（使用 offset() 和 counta() 从列表表中的相关列填充您的验证列表。然后使用您的 VBA 代码将上面的数组写入该列。（[http://chandoo. org/wp/2010/09/13/dynamic-data-validation-excel/](http://chandoo.org/wp/2010/09/13/dynamic-data-validation-excel/) )

至于在验证和下拉列表中显示不同的文本，这听起来比它的价值更麻烦。是否可以仅调整单元格的大小，使其仅显示前 4 位数字？

# ruby-on-rails - 使用 ruby 迭代数月

> ID：11466169
> 
> 赞同：0
> 
> 时间：2012-07-13T07:40:34.927
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1

我有一个非常奇怪的要求，我需要处理几个月。这是我实际尝试做的事情。我有两个对象说

```
jan_start_date=Time.parse("2012-01-01 00:00:00")
jan_end_date=Time.parse("2012-01-31 23:59:59") 
```

我采用这两个日期时间对象并在 2 月、3 月、4 月和不久之后迭代以获取一些数据。

然后我将获取 2 月的开始和结束日期，并在 3 月、4 月和很快进行迭代。

就像月度数据收集一样。一旦我完成了一月的数据，我需要获取二月的数据等等。我如何做到这一点。因为我需要迭代几个月。

请帮帮我

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:52:07.533

`ActiveSupport`有[begin_of_month](http://apidock.com/rails/ActiveSupport/CoreExtensions/Date/Calculations/beginning_of_month)和[end_of_month](http://apidock.com/rails/v2.3.8/ActiveSupport/CoreExtensions/Date/Calculations/end_of_month)：

```
d = Date.today
#=> Fri, 13 Jul 2012
d.beginning_of_month
#=> Sun, 01 Jul 2012
d.end_of_month
#=> Tue, 31 Jul 2012 
```

您可以使用[Date#>>](http://ruby-doc.org/stdlib-1.9.3/libdoc/date/rdoc/Date.html#method-i-3E-3E)将日期按月向前移动：

```
(d>>2).end_of_month
#=> Sun, 30 Sep 2012
(d>>4).beginning_of_month
#=> Thu, 01 Nov 2012 
```

# javascript - Node.js - 简单示例和 EPERM 错误

> ID：11466171
> 
> 赞同：-1
> 
> 时间：2012-07-13T07:40:39.920
> 
> 标签：javascript, node.js

```
var server = require('http').createServer(function(req, res){

});

server.listen(8080); 
```

这个简单的示例在控制台中返回错误：

```
node node_server.js

node.js:201
    throw e; // process.nextTick error, or 'error' event on first tick
          ^
Error: listen EPERM
    at errnoException (net.js:670:11)
    at Array.0 (net.js:756:28)
    at EventEmitter._tickCallback (node.js:192:41) 
```

到底是怎么回事？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:36:07.210

端口被锁定。主题关闭。

# derby - Apache DerbyDB 日志，如何读取事务日志

> ID：11466173
> 
> 赞同：2
> 
> 时间：2012-07-13T07:40:46.590
> 
> 标签：derby

如果您认为这可能与[这里](https://stackoverflow.com/questions/6744985/how-to-read-apache-derby-database-log)的问题有关，我认为答案是可能的，但我不确定。

我正在寻找一个实用程序，我可以在其中轻松读取发生在 DerbyDB 中的事务日志（嵌入，尽管它可能稍后会在服务器中结束！）。

我对整个系统日志不是很感兴趣，只是对数据库中字段的更新。我的应用程序获取系统上当前用户的名称并使用它登录到嵌入式数据库。

我确信 derby 会记录数据库中行的用户信息和字段名称、表名称（以及某种“键”引用），以及已输入该字段的新值。如果它包含很好的旧值，尽管我确信“搜索”可以查看旧值和更新值是什么，这将相当容易。

我查看了[derby DB 日志格式](http://db.apache.org/derby/papers/logformats.html)的信息，但它是相当技术性的，我没有立即看到对我感兴趣的值的引用。

如果第一个链接中建议的解决方案也能为我提供解决方案，那就太好了。或者 derby 是否将此信息存储在某个系统表中，以便更轻松地访问，如果是这样，我还没有找到此信息。

如果可能的话，一个不错的选择是能够使用 log4j 查看文件。

非常感谢您的想法和回答。

提前致谢。

大卫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-15T16:49:54.110

查看这些工具：[https ://issues.apache.org/jira/browse/DERBY-5195](https://issues.apache.org/jira/browse/DERBY-5195)

它们听起来像你感兴趣的东西。

# android - 欧亚开发环境

> ID：11466178
> 
> 赞同：4
> 
> 时间：2012-07-13T07:41:10.693
> 
> 标签：android, google-play, video-game-consoles, ouya

根据[OUYA 的 Kickstarter 页面](http://www.kickstarter.com/projects/ouya/ouya-a-new-kind-of-video-game-console)上提供的信息，他们提到该系统是基于 Android 构建的，但游戏不一定是 Android 端口。

这是否意味着我们可以一次开发游戏并通过一个包发布到 Google Play 和 OUYA？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-25T17:34:51.163

It has its own exclusive store. And the games wont be direct port from andriod there will be slight differences

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-03T10:48:21.383

我拿了一款在 Google Play 商店中愉快地下载并下载了一年的 Android 游戏，并在我的 Ouya 上构建了它（刚到货时），它运行没有问题，也没有任何代码更改（它是一个 OpenGL实时游戏）。

在我可以在 Ouya 上发布它之前，我所要做的就是替换/注释掉触摸屏控件并用 Ouya 控制方法替换它们（这些都在 Ouya SDK 中，可以从他们的网站免费下载）。我还必须在 Ouya 的支付系统中构建（同样在 SDK 中，非常简单）。

然后它被接受并在 Ouya 上发布，没有任何问题。

如果我必须反其道而行之（即我通过 Eclipse 和 Ouya 上的 Android SDK 开发它），那将同样简单。我只需要开发一个与触摸屏一起使用的控制界面（对于操纵杆来说，它比为操纵杆的模拟控制编程要复杂一些）并删除所有 Ouya 支付程序。

如果您想了解更多详细信息，请告诉我。

# java - 用junit测试我的应用程序

> ID：11466179
> 
> 赞同：1
> 
> 时间：2012-07-13T07:41:12.680
> 
> 标签：java, junit

我是测试世界的新手，我开始用 junit 测试我的应用程序。我有一堂课

```
public class Sender implements Runnable
{
   private httpd server;

   public Sender(httpd server_)
   {
     this.server = server_
   }

   public void run()
   {

     ...    

   }
} 
```

`httpd`我会测试从课堂上收到的参考文献是否是`null`. 我读过我必须使用`assertNotNull`，但我不清楚创建 SenderTest 类后要做什么。我读到在 SenderTest 类（通过junit框架创建）中创建一个具有注释的方法。但是`@Test`在那之后我必须做什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:44:22.840

这不是你应该测试你的课程的方式。

是否`httpd`为 null 不是合同的一部分，`Sender`而是`Sender`.

我建议您执行以下操作：

*   定义如果它作为参数`Sender`接收应该如何表现。`null``server_`

    例如，我会建议说类似*If `server_`is `null`， an `IllegalArgumentException`is throws。*.

*   创建一个断言其行为符合指定的测试。例如通过做类似的事情

    ```
    try {
        new Sender(null);
        fail("Should not accept null argument");
    } catch (IllegalArgumentException expected) {
    } 
    ```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T07:48:58.567

如果您需要使用 JUnit 来测试您的代码，请考虑这种方法。

这是 JUnit 测试应该如何工作的示例：

* * *

```
public class Factorial {

    /**
     * Calculates the factorial of the specified number in linear time and constant space complexity.<br>
     * Due to integer limitations, possible calculation of factorials are for n in interval [0,12].<br>
     * 
     * @param n the specified number
     * @return n!
     */
    public static int calc(int n) {
        if (n < 0 || n > 12) {
            throw new IllegalArgumentException("Factorials are defined only on non-negative integers.");
        }

        int result = 1;

        if (n < 2) {
            return result;
        }

        for (int i = 2; i <= n; i++) {
            result *= i;
        }

        return result;
    }

} 
```

* * *

```
import static org.junit.Assert.*;

import org.junit.Test;

public class FactorialTest {

    @Test
    public void factorialOfZeroShouldBeOne() {
        assertEquals(1, Factorial.calc(0));
    }

    @Test
    public void factorialOfOneShouldBeOne() {
        assertEquals(1, Factorial.calc(1));
    }

    @Test
    public void factorialOfNShouldBeNTimesFactorialOfNMinusOne() {
        for (int i = 2; i <= 12; i++) {
            assertEquals(i * Factorial.calc(i - 1), Factorial.calc(i));
            System.out.println(i + "! = " + Factorial.calc(i));
        }
    }

    @Test(expected = IllegalArgumentException.class)
    public void factorialOfNegativeNumberShouldThrowException() {
        Factorial.calc(-1);
        Factorial.calc(Integer.MIN_VALUE);
    }

    @Test(expected = IllegalArgumentException.class)
    public void factorialOfNumberGreaterThanTwelveShouldThrowException() {
        Factorial.calc(13);
        Factorial.calc(20);
        Factorial.calc(50);
    }
} 
```

# android - 具有多个位置的android sqlite查询

> ID：11466181
> 
> 赞同：2
> 
> 时间：2012-07-13T07:41:13.513
> 
> 标签：android, sqlite

我在android中使用sqlite，我通过传递多个where子句来获取结果，这给了我一个错误。单个 where 子句对我来说很好，问题是多个 where 子句。请向我建议更改或找出我正在做的错误

带有查询的错误消息

```
ERROR/AndroidRuntime(837): Caused by: android.database.sqlite.SQLiteException: 
no such column: Maharashtra:,while compiling: SELECT _id, r_shop FROM retailer 
WHERE r_state = Maharashtra AND r_city = Thane AND r_region = Checknaka

String selection = MySQLiteHelper.STATE + " = Maharashtra"  
                +" AND " + MySQLiteHelper.CITY + " = Thane"
                +" AND " + MySQLiteHelper.REGION + " = Checknaka";

        Cursor cursor = database.query(MySQLiteHelper.RETAILER_TABLE, 
                    new String[] {MySQLiteHelper.COLUMN_ID, MySQLiteHelper.SHOP }, selection, 
                    null, null, null, null); 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-13T07:42:26.917

```
String selection = MySQLiteHelper.STATE + " = 'Maharashtra'"  
            +" AND " + MySQLiteHelper.CITY + " = 'Thane'"
            +" AND " + MySQLiteHelper.REGION + " = 'Checknaka'";

    Cursor cursor = database.query(MySQLiteHelper.RETAILER_TABLE, 
                new String[] {MySQLiteHelper.COLUMN_ID, MySQLiteHelper.SHOP }, selection, 
                null, null, null, null); 
```

可能的原因是，您指的是没有`''`

# c - libx264 Codec 忽略通过 ffmpeg API 设置视频比特率

> ID：11466184
> 
> 赞同：3
> 
> 时间：2012-07-13T07:41:21.953
> 
> 标签：c, ffmpeg, bitrate

我正在使用 c 代码中的 FFMPEG API 对视频进行转码。我正在尝试使用 ffmpeg API 设置视频比特率，如下所示：

```
ovCodecCtx->bit_rate = 100 * 1000; 
```

我使用的编码器是 libx264。

但是这个参数没有生效，结果视频质量很差。我什至尝试设置相关参数，如rc_min_rate、rc_max_rate等。但由于这些相关参数没有生效，视频质量仍然很低。

任何专家都可以告诉人们如何使用 FFMPEG API 正确设置比特率吗？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-07T11:52:15.333

我找到了解决我的问题的方法。事实上，遇到同样问题的人已经在 ffmpeg(libav) 用户论坛上发布了解决方案。这似乎也适用于我的情况。我正在发布我自己问题的答案，以便其他面临类似问题的用户可能会从这篇文章中受益。

问题：

libx264 编解码器不支持以编程方式为 H264 视频编解码器设置视频比特率。尽管它适用于 MPEG1、2 和 MPEG4 视频编解码器，但 H264 视频编解码器无法识别此设置。由此产生的视频质量非常糟糕。

解决方案：

在将解码/调整大小的帧输入编码器之前，我们需要设置它们的 pts。找到解决方案的人已经通过 ffmpeg.c 源代码并能够解决这个问题。我们需要首先将 AVFrame 的 pts 从流的 time_base 重新缩放到编解码器 time_base 以获得一个简单的帧号（例如 1、2、3）。

```
pic->pts = av_rescale_q(pic->pts, ost->time_base, ovCodecCtx->time_base);

avcodec_encode_video2(ovCodecCtx, &newpkt, pic, &got_packet_ptr); 
```

而当我们从 libx264 编解码器接收回编码包时，我们需要将编码视频包的 pts 和 dts 重新缩放到流时基

```
newpkt.pts = av_rescale_q(newpkt.pts, ovCodecCtx->time_base, ost->time_base);
newpkt.dts = av_rescale_q(newpkt.dts, ovCodecCtx->time_base, ost->time_base); 
```

谢谢

# c# - 在 asp.net 中对 TO 和 FROM 日期进行日期验证

> ID：11466185
> 
> 赞同：0
> 
> 时间：2012-07-13T07:41:24.747
> 
> 标签：c#, javascript, asp.net, regex

我在 asp.net 中为 to 和 from 日期选择了标准，如下所示。我想包括对日期格式和comaprision的验证。如何在 sub,it 按钮单击的 asp.net 验证中包含以下要求？

1.  如果用户选择 TO 或 FROM 日期，他必须同时选择 TO 和 FROM。
2.  如果 TO 日期小于 FROM 日期，则应显示错误消息。

![在此处输入图像描述](../Images/d8164e8eccb256adbeda45389403e795.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:41:33.867

要检查格式，请使用`CompareValidator`

```
<asp:CompareValidator Operator="DataTypeCheck" Type="Date" ... 
```

要检查结束日期是否在开始之后，请尝试另一个`CompareValidator`（这应该有效 - 未经测试）

```
<asp:CompareValidator Operator="GreaterThan" 
     ControlToValidate="txtEnd" 
     ControlToCompare="txtStart" 
     Type="Date" 
```

要检查您的更复杂的要求，请使用`CustomValidator`

```
<asp:CustomValidator 
```

# php - android如何将json数组获取到listview

> ID：11466188
> 
> 赞同：1
> 
> 时间：2012-07-13T07:41:29.987
> 
> 标签：php, android, json

```
http://hopscriber.com/log.php

this [{"uname":"faith"},{"uname":"losh"},{"uname":"loshi"},{"uname":"test"}] 
```

我想把它放到列表视图中，但我不知道该怎么做，而且教程中的方法对我来说不是很清楚。

希望有人可以帮助我...

谢谢你

给出上述结果的php

```
<?php
include "db_config.php";

$sql=mysql_query("SELECT`uname` FROM `user`");
 while($row=mysql_fetch_assoc($sql)) $output[]=$row;
 print(json_encode($output));
 mysql_close();
?> 
```

活动

这是更正后的，但列表视图仅显示 pwd 列....这是为什么呢？

```
 package hopscriber.com;

public class Menu extends Activity {

    TextView result;
    Intent intent;

    // JSON Node names
    private static final String TAG_Name = null;
    private static final String TAG_Pass = null;

    // contacts JSONArray
    JSONArray contacts = null;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_menu);

        // Name of the User
        result = (TextView) findViewById(R.id.result);
        intent = getIntent();
        String Naming = intent.getStringExtra("name1");
        result.setText("Hey " + Naming);

        ListView list = (ListView) findViewById(R.id.list);

        try {
            HttpParams params = new BasicHttpParams();
            HttpConnectionParams.setSoTimeout(params, 0);
            HttpClient httpClient = new DefaultHttpClient(params);

            // prepare the HTTP GET call
            HttpGet httpget = new HttpGet("http://hopscriber.com/log.php");
            // get the response entity
            HttpEntity entity = httpClient.execute(httpget).getEntity();

            if (entity != null) {
                // get the response content as a string
                String response = EntityUtils.toString(entity);
                // consume the entity
                entity.consumeContent();

                // When HttpClient instance is no longer needed, shut down the
                // connection manager to ensure immediate deallocation of all
                // system resources
                httpClient.getConnectionManager().shutdown();

                // return the JSON response
                ArrayList<HashMap<String, String>> contactList = new ArrayList<HashMap<String, String>>();

                JSONArray jsonArray = new JSONArray(response.trim());
                if (jsonArray != null) {
                    for (int i = 0; i < jsonArray.length(); i++) {
                        JSONObject object = (JSONObject) jsonArray.get(i);

                        HashMap<String, String> map = new HashMap<String, String>();

                        map.put(TAG_Name, object.getString("uname"));
                        map.put(TAG_Pass, object.getString("pwd"));

                        contactList.add(map);

                    }
                }

                ListAdapter adapter = new SimpleAdapter(this, contactList,
                        R.layout.menu_list_row, new String[] { TAG_Name,
                                TAG_Pass }, new int[] { R.id.LR_Name,
                                R.id.LR_date });
                list.setAdapter(adapter);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }

        // Launching new screen on Selecting Single ListItem
        list.setOnItemClickListener(new OnItemClickListener() {

            public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,
                    long arg3) {
                Toast.makeText(getBaseContext(), "Booyah", Toast.LENGTH_SHORT)
                        .show();
            }
        });
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:49:57.893

试试这个，我没有测试它，但我使用不同数据的相同代码并且它有效..

```
try {
        HttpParams params = new BasicHttpParams();
        HttpConnectionParams.setSoTimeout(params, 0);
        HttpClient httpClient = new DefaultHttpClient(params);

        //prepare the HTTP GET call 
        HttpGet httpget = new HttpGet(urlString);
        //get the response entity
        HttpEntity entity = httpClient.execute(httpget).getEntity();

        if (entity != null) {
            //get the response content as a string
            String response = EntityUtils.toString(entity);
            //consume the entity
            entity.consumeContent();

            // When HttpClient instance is no longer needed, shut down the connection manager to ensure immediate deallocation of all system resources
            httpClient.getConnectionManager().shutdown();

            //return the JSON response
            JSONArray jsonArray = new JSONArray(response.trim());
            if(jsonArray != null) {
               String[] unames = new String[jsonArray.length()];
               for(int i = 0 ; i < jsonArray.length() ; i++) {
                    JSONObject object = (JSONObject) jsonArray.get(i); 
                    unames[i] = object.getString("uname");
               }
               ListAdapter adapter = new SimpleAdapter(this, contactList,
                    R.layout.menu_list_row, unames, new int[] { R.id.LR_Name });
               list.setAdapter(adapter);
            } 
        }
    }catch (Exception e) {
        e.printStackTrace();
    } 
```

要将结果添加到 a `ListView`，请点击此链接[http://www.mkyong.com/android/android-listview-example/](http://www.mkyong.com/android/android-listview-example/)传递`String[] unames`

# java - 使用 Android VideoView 播放 Http Live Streaming (m3u8) 文件时，华硕 padfone 显示黑屏

> ID：11466190
> 
> 赞同：1
> 
> 时间：2012-07-13T07:41:46.340
> 
> 标签：java, android, android-videoview, http-live-streaming, m3u

当我尝试在 ASUS padfone (http://www.asus.com/Mobile/PadFone/) 上播放 HLS m3u8 文件 (http://devimages.apple.com/iphone/samples/bipbop/bipbopall.m3u8) 时，它显示没有视频和音频的黑屏。logcat中没有错误报告。

ASUS padfone 上安装的操作系统是 Android 4.0.3。

我使用的代码可以在 Sansumg Galaxy S2 等其他 Android 手机上完美运行。华硕 padfone 是否缺少用于解码 m3u8 流的 HLS 解码器？其他文件如 3gp、mp4 工作正常。任何建议，将不胜感激！

代码：

```
package com.videoview;

import android.app.Activity;

import android.net.Uri;
import android.os.Bundle;
import android.widget.MediaController;

import android.widget.VideoView;

public class videoview extends Activity {

    /**
     * TODO: Set the path variable to a streaming video URL or a local media
     * file path.
     */
    private String path = "http://devimages.apple.com/iphone/samples/bipbop/bipbopall.m3u8";
//    private String path = "http://www.pocketjourney.com/downloads/pj/video/famous.3gp";
    private VideoView mVideoView;

    @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        try {
            setContentView(R.layout.videoview);
            mVideoView = (VideoView) findViewById(R.id.surface_view);
//          mVideoView.setVideoPath(path);
            mVideoView.setVideoURI(Uri.parse(path));
            mVideoView.setMediaController(new MediaController(this));
            mVideoView.requestFocus();
            mVideoView.start();
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

    }
} 
```

XML 布局文件：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    >

    <VideoView 
        android:id="@+id/surface_view" 
        android:layout_height="fill_parent" android:layout_width="fill_parent"/>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-14T07:23:09.123

一些评论表明，Padfone 缺少几个编解码器。例如，没有 MKV 支持。

从使用说明书：

*您的 PadFone Station 支持的音视频编解码器：

解码器

音频编解码器：AAC LC/LTP、HE-AACv(AAC+)、HE-AACv(增强型 AAC+)、AMR-NB、AMR-WB、MP、FLAC、MIDI、PCM/WAVE、Vorbis、WAV a-law/mu-法、WAV 线性 PCM、WMA 0、WMA 无损、WMA Pro LBR

编码器 音频编解码器：AAC LC/LTP、AMR-NB、AMR-WB 视频编解码器：H.6、H.64、MPEG-4

视频编解码器：H.263、H.264、MPEG-4、VC-/WMV、VP8* ￼</p>

你试过 MX 播放器或最新的 VLC nightly 吗？

# jquery - 如何将图像叠加在另一个之上

> ID：11466192
> 
> 赞同：0
> 
> 时间：2012-07-13T07:42:04.933
> 
> 标签：jquery, css, append, z-index

我正在阅读另一个用户关于如何使用复选框将图像分层的问题。

在大多数情况下，我能够遵循提供的答案，但是我仍然面临原始海报所遇到的问题。出于某种原因，图像正在相互替换，而不是相互叠加。

**[Jquery：如何将图像叠加在一起？](https://stackoverflow.com/questions/10817644/jquery-how-to-layer-images-on-top-of-one-another)**

*   更新问题解决了：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T10:26:15.317

我猜初始代码的总体思路是使用`div id="aluminum"`并`div id="aluminum"`在最顶层定义为重叠图像的占位符。

你总是在使用`$('#shirt').html(html);`。

那就是问题所在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T10:38:59.897

`$('#shirt').html(html);`不断更换图像。因此，在某一情况下，您只看到一张图像。

但是，如果您可以在此处详细解释您要对代码执行的操作，我可以帮助您创建它。

# log4j - log4J：使用 TimeBasedRollingPolicy 的关闭后翻转操作失败

> ID：11466206
> 
> 赞同：5
> 
> 时间：2012-07-13T07:43:24.967
> 
> 标签：log4j

我已经设置 TimeBasedRollingPolicy 以每分钟推出文件（出于测试目的），我面临的问题是警告并且没有创建 zip 或 gz 文件。警告是：

> log4j:WARN 关闭后翻转操作失败

我附上了源以找出问题，但还没有成功。我的 log4j.xml 中是否缺少任何配置？

```
<appender name="errorAppender" class="org.apache.log4j.rolling.RollingFileAppender">
        <param name="File" value="C:/error.log"/>
        <param name="Append" value="true"/>
        <param name="BufferedIO" value="true"/>
        <rollingPolicy class="org.apache.log4j.rolling.TimeBasedRollingPolicy">
            <param name="FileNamePattern" value="C:/error.%d{ddMMMyyyy HH:mm:ss}.log.gz" />
        <param name="ActiveFileName" value="C:/error.log"/>
    </rollingPolicy>

        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%d [%t] %-5p %C (line:%L) - %m%n"/>
        </layout>
        <filter class="org.apache.log4j.varia.LevelRangeFilter">
            <param name="LevelMax" value="error"/>
            <param name="LevelMin" value="error"/>
            <param name="AcceptOnMatch" value="true"/>
        </filter>
    </appender> 
```

我正在使用 log4j-1.2.17 和 apache-log4j-extras-1.1。有没有人看到这个问题或有任何线索？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-12T16:58:43.543

Problem with "***log4j:WARN Failure in post-close rollover action***" message is that in windows-based systems you can not create a file name with the ":" char, so the FileNamePattern specified should not contain any one of these: \, /, :, *, ?, ", <, >, |

Here it is a log4j.xml for my application that works fine using a rolling file appender. For testing purposes I made the rolling to create a new file every second:

```
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">

<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">
  <appender name="consola" class="org.apache.log4j.ConsoleAppender"> 
    <param name="target" value="System.out"/> 
    <layout class="org.apache.log4j.PatternLayout"> 
      <param name="conversionPattern" value="[%d{yyyyMMdd HH:mm:ss:mm,SSS}]%-5p [%t] [%c{1}-%M:%L] - %m%n"/>
    </layout> 
  </appender> 

  <appender name="desarr" class="org.apache.log4j.rolling.RollingFileAppender">
    <param name="Append" value="false"/>
    <rollingPolicy name="desarr" class="org.apache.log4j.rolling.TimeBasedRollingPolicy">
        <param name="fileNamePattern" value="C:/workspace/Probador/log/backups/importacion222.log_%d{mmss_mm}"/>
        <param name="activeFileName" value="C:/workspace/Probador/log/importacion222.log"/>
    </rollingPolicy> 
   <layout class="org.apache.log4j.PatternLayout"> 
        <param name="conversionPattern" value="[%d{yyyyMMdd HH:mm:ss:mm,SSS}]%-5p [%t] [%c{1}-%M] - %m%n"/>
   </layout> 
  </appender> 

  <root> 
    <priority value ="debug" /> 
    <appender-ref ref="consola" /> 
    <appender-ref ref="desarr"/>
  </root>

</log4j:configuration> 
```

Special attention to:

```
<param name="fileNamePattern" value="C:/workspace/Probador/log/backups/importacion222.log_%d{mmss_mm}"/> 
```

Try this before attempting to zip the file.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-03T10:48:30.717

我在 log4j 中使用 WARN 消息遇到了同样的问题 - “log4j:WARN Failure in post-close rollover action”并且日志文件没有翻转。这是由于日志文件被写入的目录的权限不足问题导致的。在这种情况下，Java 的 File.renameTo() 方法默默地失败了（只是返回一个布尔值 false）。花了很多时间来解决这个问题:(

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-19T01:10:08.773

> 我正在使用 log4j-1.2.17 和 apache-log4j-extras-1.1。有没有人看到这个问题并对此有任何线索？

我还使用 log4j-1.2 观察到了这个问题。**16**和 apache-log4j-extras-1.1。完全相同的消息。

我尝试了各种调整都无济于事。似乎观察到**rollingPolicy->FileNamePattern**的唯一时间是在没有**appender->File**参数和**rollingPolicy->ActiveFileName**参数的情况下使用它。但即便如此，我还没有看到它成功翻转，也没有看到*gz*或*zip*以前的文件。

我也收到相同的消息：

```
log4j: setFile called: somepath/somefile.log, true
log4j: setFile ended
log4j:WARN Failure in post-close rollover action 
```

非常令人沮丧。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-10-24T13:34:10.477

对我来说，解决方案是手动创建存档文件的目录。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-04T07:06:33.493

我也有同样的问题，但在我的情况下，这是因为“fileNamePattern”路径文件夹不存在。纠正这对我有用，然后正在创建翻转文件。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-08-15T06:06:26.397

如果您使用的是 org.apache.log4j.rolling.TimeBasedRollingPolicy rollingPolicy，那么该目录必须在 log4j 能够旋转之前存在。

例如，以下翻转仅在 /var/log/blah/archive/YYYY/MM 目录存在时才有效；在每晚的 cronjob 中创建它应该可以解决问题。而且，如前所述，当没有足够的权限创建日志文件时，也会发生这种情况。

```
 <appender name="infoFile"
            class="org.apache.log4j.rolling.RollingFileAppender">
    <param name="threshold"
           value="INFO"/>
    <param name="append"
           value="true"/>
    <rollingPolicy class="org.apache.log4j.rolling.TimeBasedRollingPolicy">
      <param name="ActiveFileName"
             value="/var/log/blah/file.log"/>
      <!-- IMPORTANT the archive folder must already exist, or log4j cannot
      put the rotated log there, and will keep using the old one -->
      <param name="FileNamePattern"
             value="/var/log/blah/archive/%d{yyyy}/%d{MM}/file.log.%d{yyyy-MM-dd}.gz"/>
    </rollingPolicy>
    <layout class="org.apache.log4j.PatternLayout">
      <param name="ConversionPattern"
             value="%5p | %-40c{2} | %-4L | %d{yyyy-MM-dd}T%d{HH:mm:ss} | %m%n"/>
    </layout>
  </appender> 
```

# java - Java 周末计算器 API / 库

> ID：11466214
> 
> 赞同：0
> 
> 时间：2012-07-13T07:43:51.640
> 
> 标签：java, date, calendar, timestamp, dayofweek

假设我有 2 个以毫秒为单位的日期或 java.sql.Timestamp：

```
1342162320 <->  Fri Jul 13 2012 09:52:00 GMT+0300 (FLE Daylight Time)
1343162320 <-> Tue Jul 24 2012 23:38:40 GMT+0300 (FLE Daylight Time) 
```

假设我提供了这两个日期，我需要：

**返回int，如果JUL 13 09:52 - JUL 24 23:58 之间的时间是周末或大假期，如果是，是多少天。**

我想过只是浏览所有日期，并检查它是星期六还是星期天，但也许有一些更聪明的 API？

我也查看了 Joda 库，但它没有专门的这些方法，只有一些简化的 JDK 方法。Joda 没有假期识别。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:05:18.277

您可以使用来自[http://www.calendarlabs.com/ical-calendar-holidays.php](http://www.calendarlabs.com/ical-calendar-holidays.php)的已定义假日日历，它们适用于多个国家/地区。它的格式称为 iCal，由 MS Outlook 使用。为这种格式编写解析器应该不难。然后你就有了“红色”日期，不必定义和更新，只需下载每年的新定义。

也可以从 Google 日历或类似工具中获取假期。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:51:25.853

是的，这很简单，只需按照以下代码：

```
 Calendar cal = new GregorianCalendar();
    cal.setTime(date);
    //cal.setTimeInMillis(milliseconds); use this one instead if you have milliseconds. 
    int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);
    if(Calendar.SUNDAY == dayOfWeek || Calendar.SATURDAY == dayOfWeek){
        System.out.println("it is saturday or sunday")
   } 
```

这样就可以识别出当天是周六还是周日，但是如果要判断是否是公众假期呢？例如：国定假日，我会说通过JDK是不可能的，因为这非常符合不同的地区或国家，它不是永久性的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-15T00:39:55.430

# tl;博士

```
Boolean isWeekend = EnumSet.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY ).contains ( Instant.ofEpochSecond( 1342162320L ).atZone( ZoneId.of( "Europe/Helsinki" ) ).getDayOfWeek() ) 
```

# 细节

其他答案是正确的，但使用过时的遗留类。请改用 java.time 类。

问题的周末部分很容易使用内置的 Java 库。您可以定义一组周末，例如美国的周六和周日。

涵盖假期需要某种外部库、Web 服务或数据库。假期的定义随着时间、管辖权和传统的不同而不同。我将忽略问题的那一部分；将[Kennet 的答案](https://stackoverflow.com/a/11466494/642706)视为一种可能的解决方案。

# `DayOfWeek`

枚举标识一周的`DayOfWeek`7 天中的每一天。您可以询问 a`ZonedDateTime`的`DayOfWeek`.

首先解析您输入的数字。似乎是自 1970 年 UTC 第一时刻以来的整秒数。请注意`L`末尾的 ，以使其成为`long`整数。

```
Instant instant = Instant.ofEpochSecond( 1342162320L ); 
```

应用时区。

```
ZoneId zoneId = ZoneId.of( "Europe/Helsinki" );
ZonedDateTime zdt = instant.atZone( zoneId ); 
```

通过询问一周中的某一天是星期六还是星期日来测试周末。

```
DayOfWeek dow = zdt.getDayOfWeek();
Boolean isWeekend = ( dow.equals( DayOfWeek.SATURDAY ) || dow.equals( DayOfWeek.SUNDAY ) ); 
```

# `EnumSet`

您还可以使用[`EnumSet`](http://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html), 来实现快速执行和低内存使用。

```
Set<DayOfWeek> weekend = EnumSet.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY ); 
```

`static final`如果它的定义在您的应用程序执行期间没有更改，则将其声明为常量。

```
static final Set<DayOfWeek> WEEKEND = EnumSet.of( DayOfWeek.SATURDAY , DayOfWeek.SUNDAY ); 
```

当你得到一个`DayOfWeek`对象时，看看它是否包含在 EnumSet 中，它是一个[`Set`](http://docs.oracle.com/javase/8/docs/api/java/util/Set.html)接口的实现。

```
Boolean isWeekend = WEEKEND.contains( dow.getDayOfWeek() ); 
```

# java.time

java.time框架内置于 Java 8 及更高版本中[。](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html)这些类取代了旧的麻烦的日期时间类，例如`java.util.Date`, `.Calendar`, & `java.text.SimpleDateFormat`。

[现在处于维护模式](https://en.wikipedia.org/wiki/Maintenance_mode)的[Joda-Time](http://www.joda.org/joda-time/)项目建议迁移到 java.time。

要了解更多信息，请参阅[Oracle 教程](http://docs.oracle.com/javase/tutorial/datetime/TOC.html)。并在 Stack Overflow 上搜索许多示例和解释。

许多 java.time 功能在 ThreeTen-Backport 中向后移植到 Java 6 和 7，并在[ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP)中[进一步](http://www.threeten.org/threetenbp/)适应[Android](https://en.wikipedia.org/wiki/Android_(operating_system))。

ThreeTen [-Extra](http://www.threeten.org/threeten-extra/)项目通过附加类扩展了 java.time。该项目是未来可能添加到 java.time 的试验场。

# ruby-on-rails - Bundler 雨滴依赖问题

> ID：11466223
> 
> 赞同：0
> 
> 时间：2012-07-13T07:44:22.203
> 
> 标签：ruby-on-rails, ruby-on-rails-3, gem, bundler, gemfile

一段时间以来，我一直遇到依赖问题，尽管我通常手动克服这些问题，但我想了解解决此类依赖关系的正确方法。到目前为止，我的想法是让它以某种方式工作，但很想知道有知识的人是如何做到这一点的。

所以，我最近的问题是这个..

```
 You have already activated raindrops 0.8.0, but your Gemfile requires raindrops 0.10.0 
```

在我的 gemfile 中，我有雨滴（0.10.0），以及与独角兽（4.2）分组为雨滴（0.7.0）

我当前的 gemfile 在这里[https://gist.github.com/3103422](https://gist.github.com/3103422)

很高兴知道解决这些问题的最佳方法是什么...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:48:22.307

不确定我是否误解了你，但解决依赖问题的“最佳方法”是让 bundler 为你处理它。这就是它被创建的全部原因。“手动”执行它可能有助于了解正在发生的事情，但这不是您想要正常执行的操作。这只是一个巨大的时间消耗，你最终会与依赖解决方案搏斗，而不是专注于解决你原来的问题。

基本思想是`Gemfile`与您使用的宝石搭配。然后运行`bundle install`并让 bundler 解决依赖关系。这是[捆绑器](http://gembundler.com/)网站。

# php - php 语法：switch / case 带有未定义的字符串

> ID：11466232
> 
> 赞同：0
> 
> 时间：2012-07-13T07:44:57.180
> 
> 标签：php, switch-statement

我有这段代码可以将任何项目加载到 ../content/interieur/interieur.php 中的页面中：

```
<ul>
<?
if (glob('content/interieur/*.txt')) {
$files = glob('content/interieur/*.{txt}', GLOB_BRACE);

foreach ($files as $file) {

    $info = pathinfo ($file);
    $file_name = basename($file,'.'.$info['extension']);
    ?>

    <li class="crop"><a href="?topic=<?=$file_name?>" ><img src="content/interieur/<?=$file_name,'.jpg'?>" /></a>
    <p><?=include $file?></p>
    <hr /> 
    </li>
<? } //end foreach

} //end if 

else {?>
<li><img src="./img/404.jpg" />
<p><b>Sorry, </b>Geen projecten gevonden!</p>
</li>

<? ;} //end else

?> 
```

每个项目都应该有一个同名的 .txt、.jpg 和 .html，然后它就可以正常工作了。

接下来，我希望能够单击项目并将具有该名称的项目内容加载到同一个 div 中。因此，在我的 index.php 中，我有以下代码：

```
<div id="mainContent">

        <?
            $files = glob('content/interieur/*.{html}', GLOB_BRACE);
            $info = pathinfo ($file);
            $file_name = basename($file,'.'.$info['extension']);

            if (isset ($_GET["topic"])) {

                foreach ($files as $file) {
                    switch($_GET['topic']){
                        case $file_name: include $file; break;
                        }
                    }

                switch($_GET['topic']){                 
                    case 'home': include("content/home.html" ); break;
                    case 'werkwijze': include("content/werkwijze.html"); break;
                    (et cetera)
                    default: include("content/home.html"); break;
                }
            }
            else
            {
                include("content/home.html");
            }
        ?>  

</div> 
```

我没有得到的是如何将 switch / case 语句与为每个附加项目执行此操作的规则结合起来。就像现在一样，它不会返回任何错误，但是当我单击一个项目时，div 会加载默认情况（home.html）。

那么，如何将这些组合成一个“开关”？我认为大部分代码是正确的，但它可能重定向到错误的文件夹，因此也许我需要使用路径（/comtent/interieur）定义“包含”命令，但我不知道它是如何工作的...... .

看看：[http](http://www.wgwd.nl/bedaux) ://www.wgwd.nl/bedaux并点击“投影-> 内部”

希望这是一个明确的问题；-) 谢谢！

**编辑：** 感谢 var_dump 提示！我试过这个，当我点击“project1”时我得到的字符串确实是“project1”，所以得到正确的？主题工作正常。它只是没有将我引向'project1.html。

所以基本上我认为我需要的是将未定义的情况与其他情况放在一起的东西：

```
 if (isset ($_GET["topic"])) {

                    case $file_name: include $file; break;
                    case 'home': include("content/home.html" ); break;
                    case 'werkwijze': include("content/werkwijze.html"); break;
                    (et cetera)
                    default: include("content/home.html"); break;
                }
            }
            else
            {
                include("content/home.html");
            } 
```

但这当然行不通

或者：代码很好，我需要添加一个路径，比如：

```
foreach ($files as $file) {
    switch($_GET['topic']){
     case $file_name: include './content/interieur/'$file; break;
    }
} 
```

但我想语法是错误的......

**编辑 2 - 已解决：**

我知道了！

查看代码的第一部分，我在其中定义了 $files，然后是第一个开关：

```
 <?
        $files = glob('content/interieur/*.{html}', GLOB_BRACE);
        $info = pathinfo ($file);
        $file_name = basename($file,'.'.$info['extension']);

        if (isset ($_GET["topic"])) {

            foreach ($files as $file) {
                switch($_GET['topic']){
                    case $file_name: include $file; break;
                    }
                } 
```

我注意到我在 foreach 语句中指的是 $file 在它被创建之前（你是这样说的吗？）......所以显然当我这样做时：

```
 <?
            $files = glob('content/interieur/*.{html}', GLOB_BRACE);

            if (isset ($_GET["topic"])) {

                $file_included=0;
                foreach ($files as $file) {
                    $info = pathinfo ($file); 
```

它工作正常！谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:02:57.243

替换为以下部分

```
 $file_included=0;
    foreach ($files as $file) {
                        switch($_GET['topic']){
                            case $file_name: include $file;$file_included=1; break;
                            }
                        }

    if($file_included==0){
                    switch($_GET['topic']){                 
                        case 'home': include("content/home.html" ); break;
                        case 'werkwijze': include("content/werkwijze.html"); break;
                        (et cetera)
                        default: include("content/home.html"); break;
                    }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:19:35.427

也许不是 100% 的答案，而是太多的文字无法放在评论中

```
foreach ($files as $file) {
    switch($_GET['topic']){
         case $file_name: include $file; break;
    }
} 
```

首先，具有一个条件的 swith 基本上是一个`if`, 并且在这个循环中`$_GET`和`$file_name`都设置在循环之外。所以这个比较要么适用于所有文件，要么不适用。所以它真的是这样说的：

```
if ($_GET['topic'] == $file_name) {
    foreach ($files as $file) {
         include $file;
    }
} 
```

关于你总是得到默认的“家”这一点，我猜这是因为你最终出现在`default`声明中。你试过`var_dump($_GET['topic'])`看看里面到底有什么吗？也许您没有收到您期望的价值。

# java - 生成的 WSDL 中的空 soapAction

> ID：11466234
> 
> 赞同：4
> 
> 时间：2012-07-13T07:45:10.753
> 
> 标签：java, web-services, soap, jax-ws

我正在尝试使用 JAX-WS 从我的 Java 代码生成 WSDL。

一切似乎都正常，除了我在 WSDL 中的操作，soapAction 保持为空。

这是我的代码：

```
@WebService
public class MyClass {
    public MyStuff queryStuff(String myParam) {
        return null;
    }
} 
```

生成的 WSDL 包含以下内容：

```
<wsdl:operation name="queryStuff">
    <wsdlsoap:operation soapAction=""/>
    <wsdl:input name="queryStuffRequest">
        <wsdlsoap:body use="literal"/>
    </wsdl:input>
    <wsdl:output name="queryStuffResponse">
        <wsdlsoap:body use="literal"/>
    </wsdl:output>
</wsdl:operation> 
```

我不能说我做错了什么。有任何想法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-13T08:38:36.170

你需要用 注释你的方法`@WebMehtod`。

**例子**

```
@WebService(name = "dataService", targetNamespace = "http://example.com/vap/webservice/dataservice/definition")
@SOAPBinding(style = Style.DOCUMENT, use = Use.LITERAL, parameterStyle = ParameterStyle.WRAPPED)
public interface DataSEI {

    @WebMethod(action = "createAction", operationName = "create")
    DataTransferObjectStatusContainer create(
            @WebParam(name = "objects", targetNamespace = "http://example.com/vap/webservice/dataservice/definition")
            DataTranferObjectContainer pObjectsContainer,
            @WebParam(name = "atomic", targetNamespace = "http://example.com/vap/webservice/dataservice/definition")
            boolean pAsAtomicOperation) throws Fault;
} 
```

**注意：**示例中的许多注释不是必需的，但我将其放在那里是为了向您展示使用 JAX-WS 可以做的所有事情

# mkmapview - 如何在 iOS6 中开发 Mapview

> ID：11466236
> 
> 赞同：1
> 
> 时间：2012-07-13T07:45:17.147
> 
> 标签：mkmapview, xcode4.5

你能告诉我在开发者的角度在 iOS6 中开发地图视图需要做哪些更改。这意味着任何类或方法或任何用户界面更改或其他任何东西。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-28T18:55:27.767

简短的回答是，没有什么需要做的与以前不同。没有可用的新类或方法（或至少我必须使用的）（但您可以仔细检查 Apple 开发网站提供的 API 差异）。

长答案是，如果您要旋转地图视图，那么如果您以前有工作代码并尽职尽责地将 Google 徽标放在左下角，则可能需要进行更改。因此，必须至少将其删除。

此外，如果您正在旋转地图并反向旋转任何注释（因此它们保持水平），则存在一个错误，即如果用户平移或缩放地图，注释将不会旋转。已向 Apple 提交了有关此问题的错误。

# activex - QTP：ActiveX 无法创建对象

> ID：11466247
> 
> 赞同：0
> 
> 时间：2012-07-13T07:46:02.450
> 
> 标签：activex, qtp, hp-quality-center

![运行错误](../Images/60ede126db85844bf0f58aa9d6dd62fb.png)

我尝试从 Quick Test Professional 连接到 SA Api。但它遇到错误并显示“ActiveX-Component 无法创建对象：“SAClient80MP.SAapi”。

有谁能够帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-17T06:32:12.610

`CreateObject`从 QTP调用时，您会得到 VBScript 的本机[CreateObject](http://www.w3schools.com/vbscript/func_createobject.asp)，这意味着您的问题是 VBScript/COM 并且与 QTP 无关。要验证我是否正确，您可以将该`CreateObject`行放在一个`.vbs`文件中并尝试运行它。

COM 的工作方式是它在注册表中（在 下）查找与[progid](http://en.wikipedia.org/wiki/ProgID)同名的键，`HKEY_CLASSES_ROOT`因此在此示例中您应该查找`HKEY_CLASSES_ROOT\SAClient80MP.SAapi`.

有关如何解决此问题的信息，请参阅我对这个[类似问题](https://stackoverflow.com/a/11288776/3848)的回答。

# google-apps-script - 如何使用 javascript 选择 google 电子表格中的所有复选框？

> ID：11466249
> 
> 赞同：3
> 
> 时间：2012-07-13T07:46:10.377
> 
> 标签：google-apps-script, checkbox

描述很简单：我有三个复选框，第三个必须在选中时选中所有其他复选框（一旦取消选中，也必须取消选中它们）。所有这些都必须在一个网格中，我不能使用 html 或任何其他语言，只能使用 Google Apps 脚本。

这对你来说可能是一个简单的任务，但我在 javascript 和英语方面都在努力。无论如何，这是代码：

```
function checkboxes() {
  var range = SpreadsheetApp.getActiveSpreadsheet();
  var sheet = range.getSheetId();
  var myapp = UiApp.createApplication().setTitle('Title').setWidth(1000).setHeight(100);
  var mygrid = myapp.createGrid(3, 3).setCellPadding(5).setCellSpacing(5);

  //One
  mygrid.setWidget(0, 0, myapp.createLabel('One').setId('One'));
  mygrid.setWidget(0, 1, myapp.createCheckBox().setName('One'));

  //Two
  mygrid.setWidget(1, 0, myapp.createLabel('Two').setId('Two'));
  mygrid.setWidget(1, 1, myapp.createCheckBox().setName('Two'));

  var handler1 = myapp.createClientHandler().forTargets(myapp.getElementById('One')).setValue(true).forTargets(myapp.getElementById('Two')).setValue(true);

  //Last
  mygrid.setWidget(2, 0, myapp.createLabel('Last').setId('Last'));
  mygrid.setWidget(2, 1, myapp.createCheckBox().setName('Last').OnClickHandler(handler1));
  //...
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T19:47:24.020

上次我尝试使用带有复选框的 ClientHandlers 验证是不可能的。因此，您必须坚持使用较慢的服务器处理程序，因此您可能需要添加一点无限进度 gif，以便用户知道正在执行某些操作。

这是我使用的解决方案的示例：

```
function mygui() {
  var imgUrl = 'https://f0839004-a-62cb3a1a-s-sites.googlegroups.com/site/hgabreu/files/ajax-loader.gif';
  //I may remove this image from this url at any time. Host yours in a place you control

  var app = UiApp.createApplication().setTitle('CheckAll example');
  var panel = app.createVerticalPanel();

  var boxes = ['Example 1', 'Test', 'Last check'];
  var groupName = 'myCheckBoxes';

  var groupAll = groupName+','+boxes.length;
  var image = app.createImage(imgUrl).setId(groupName+',img').setVisible(false);
  var checkAll = app.createCheckBox("Check All").setId(groupAll).setName(groupAll).addValueChangeHandler(
    app.createServerHandler('checkAll_').addCallbackElement(panel)).addValueChangeHandler(
      app.createClientHandler().forEventSource().setVisible(false).forTargets(image).setVisible(true));

  panel.add(checkAll).add(image);
  for( var i in boxes )
    panel.add(app.createCheckBox(boxes[i]).setId(groupName+','+i));

  SpreadsheetApp.getActive().show(app.add(panel));
}

function checkAll_(e) {
  var app = UiApp.getActiveApplication();
  var p = e.parameter; //just shortening
  var checkState = p[p.source] == 'true';
  var parts = p.source.split(',');
  var groupName = parts[0];
  var size = +parts[1];
  for( var i = 0; i < size; ++i )
    app.getElementById(groupName+','+i).setValue(checkState);
  app.getElementById(groupName+',img').setVisible(false);
  app.getElementById(p.source).setVisible(true);
  return app;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-19T19:06:49.933

这是客户端处理程序的可能解决方法：（已测试）

*我个人发现使用变量来创建小部件更容易、更清晰，而不必通过 id 来获取它们......几行代码可以编写但更容易阅读；-)*

```
function checkboxes() {
  var range = SpreadsheetApp.getActiveSpreadsheet();
  var sheet = range.getSheetId();
  var app = UiApp.createApplication().setTitle('Title').setWidth(200).setHeight(150);
  var grid = app.createGrid(4, 3).setCellPadding(5).setCellSpacing(5);

  //One
  var one = app.createCheckBox().setName('One');
  grid.setWidget(0, 0, app.createLabel('One').setId('One'));
  grid.setWidget(0, 1, one);

  //Two
  var two = app.createCheckBox().setName('Two')
  grid.setWidget(1, 0, app.createLabel('Two').setId('Two'));
  grid.setWidget(1, 1, two);

  //three
  var three = app.createCheckBox().setName('Three')
  grid.setWidget(2, 0, app.createLabel('Three').setId('Three'));
  grid.setWidget(2, 1, three);
  //...
  var r1 = app.createRadioButton('radio').setHTML('All');
  var r2 = app.createRadioButton('radio').setHTML('None');
  grid.setWidget(3, 0, r1)
  grid.setWidget(3, 1, r2)

  var Chandler1 = app.createClientHandler().forTargets(one,two,three).setValue(true)
  r1.addClickHandler(Chandler1)
  var Chandler2 = app.createClientHandler().forTargets(one,two,three).setValue(false)
  r2.addClickHandler(Chandler2)
  app.add(grid)
  var doc = SpreadsheetApp.getActive()
  doc.show(app)
} 
```

**编辑：**按照 Henrique 的评论（非常聪明！！谢谢），这里有一个“完整的复选框”版本，效果很好；-)

```
function checkboxes2() {
  var range = SpreadsheetApp.getActiveSpreadsheet();
  var sheet = range.getSheetId();
  var app = UiApp.createApplication().setTitle('checkBoxes test').setWidth(200).setHeight(150);
  var grid = app.createGrid(4, 3).setCellPadding(5).setCellSpacing(5);

  var one = app.createCheckBox().setName('One');
  grid.setWidget(0, 0, app.createLabel('One').setId('One'));
  grid.setWidget(0, 1, one);

  var two = app.createCheckBox().setName('Two')
  grid.setWidget(1, 0, app.createLabel('Two').setId('Two'));
  grid.setWidget(1, 1, two);

  var allP = app.createVerticalPanel()
  var allA = app.createCheckBox().setName('allA');
  var allB = app.createCheckBox().setName('allB').setVisible(false);
  var allP = app.createVerticalPanel().add(allA).add(allB);
  grid.setWidget(2, 0, app.createLabel('All').setId('all'));
  grid.setWidget(2, 1, allP);

  var ChandlerA = app.createClientHandler().forTargets(one,two,allB).setValue(true).forTargets(allB).setVisible(true).forEventSource().setVisible(false);
  allA.addClickHandler(ChandlerA)
  var ChandlerB = app.createClientHandler().forTargets(one,two,allA).setValue(false).forTargets(allA).setVisible(true).forEventSource().setVisible(false);
  allB.addClickHandler(ChandlerB)
  app.add(grid)
  var doc = SpreadsheetApp.getActive()
  doc.show(app)
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-19T16:34:13.587

今天终于有时间看你的代码了，谢谢你的支持。

就像你在评论中说的那样，我根本不需要图像，所以我试图从 mygui 函数中取出它，让我们看看我能不能做到：

```
function mygui() {
  var app = UiApp.createApplication().setTitle('CheckAll example');
  var panel = app.createVerticalPanel();

  var boxes = ['Example 1', 'Test', 'Last check'];
  var groupName = 'myCheckBoxes';

  var groupAll = groupName+','+boxes.length;
  var checkAll = app.createCheckBox("Check All").setId(groupAll).setName(groupAll).addValueChangeHandler(
    app.createServerHandler('checkAll_').addCallbackElement(panel));

  panel.add(checkAll);
  for( var i in boxes )
    panel.add(app.createCheckBox(boxes[i]).setId(groupName+','+i));

  SpreadsheetApp.getActive().show(app.add(panel));
} 
```

我刚刚取消了第 2、3 和 8 行，然后我截断了第 9 和 10 行。这对于意外的错误已经足够了，站在错误消息中。

# wpf - WPF-win32互操作

> ID：11466253
> 
> 赞同：1
> 
> 时间：2012-07-13T07:46:39.080
> 
> 标签：wpf, winapi, wpf-controls

我有一个非常复杂的 win32 项目，我在我的 wpf 中成功引用了它。
现在我的问题我已经在 wpf 中创建了一个对话框，它选择了一个文件，但是处理这个文件的函数是在我的项目的 win32 部分编写的。是否可以在 wpf 中访问用 win32 部分编写的特定功能？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-13T08:50:27.203

是的你可以。它在使用类方面没有限制（因为它们仍然是用 C# 编写的，对吧？）所以，继续吧。一切都应该工作。如果您有麻烦，请告诉我们。

ps投下票的人，解释一下我错在哪里。我想知道是什么意思。

# knockout.js - knockoutjs 数据绑定不适用于 esri 脚本

> ID：11466255
> 
> 赞同：0
> 
> 时间：2012-07-13T07:46:45.667
> 
> 标签：knockout.js, esri

我是 KnockOutJS 的新手。我正在尝试使用在线示例，如果我不从 html 调用以下脚本，它可以正常工作并显示预期结果。但是我需要使用这个脚本稍后在浏览器上显示 esri 地图。如果我取消注释以下脚本，它将不起作用。如果有人帮助我解决我的问题，我将不胜感激。

```
<script type="text/javascript" src="http://serverapi.arcgisonline.com/jsapi/arcgis/?   v=3.0"/> 
```

这是我的代码

```
<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no"/>
<title>Imagery</title>
<link rel="stylesheet" type="text/css"     href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.0/js/dojo/dijit/themes/claro/claro.c     ss">
 <style type="text/css">
  html, body { height: 100%; width: 100%; margin: 0; padding: 0; }
  #map{padding:0;}
</style>
</head>
<body>
<p data-bind="text: firstName"></p>
<p data-bind="text: lastName"></p>

<input type="text" data-bind="value: firstName" />
<input type="text" data-bind="value: lastName" />
<ul data-bind="foreach: items">
    <li><span data-bind="text:firstName"></span></li>
    <li><span data-bind="text:lastName"></span></li>
</ul>
  <ul data-bind="foreach: items">
    <li data-bind="text:name()"></li>

</ul>
</body>
 <script type="text/javascript" src="http://serverapi.arcgisonline.com/jsapi/arcgis/?     v=3.0"></script> <!--if I comment this line, it works-->
<script type="text/javascript" src="Scripts/knockout-2.1.0.js"></script>
<script type="text/javascript">
   var MyViewModel = function () {
       var self = this;

       self.firstName = ko.observable("Sravan");
       self.lastName = ko.observable("Kumar");

       self.items = ko.observableArray([
           { firstName: "A", lastName: "B", name: ko.computed = function () { return "Hello"; }},
           { firstName: "AA", lastName: "BB", name: ko.computed = function () { return "World"; } }
       ])
    };
   var viewModel = new MyViewModel();
   ko.applyBindings(viewModel);
 </script>

</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-14T09:11:11.950

如果您恢复包含脚本的顺序，您的代码将起作用：

```
<script type="text/javascript" src="Scripts/knockout-2.1.0.js"></script>
<script type="text/javascript" src="http://serverapi.arcgisonline.com/jsapi/arcgis/?     v=3.0"></script> <!--if I comment this line, it works--> 
```

问题是 esri 脚本会引发 XMLHttpRequestException 错误，这会导致页面的其余部分出现问题。

现在您恢复顺序，ko 绑定将起作用，但 Chrome 将继续抛出 XMLHttpRequestException。问题可能是：您正在从文件系统而不是本地 Web 服务器运行代码：

[http://forums.arcgis.com/threads/61584-Sample-scripts-no-longer-work-since-upgrade-to-v3.0-of-the-API](http://forums.arcgis.com/threads/61584-Sample-scripts-no-longer-work-since-upgrade-to-v3.0-of-the-API)

# ios - 如何使用蜂窝网络运行 NSUrlConnection？

> ID：11466261
> 
> 赞同：-2
> 
> 时间：2012-07-13T07:47:12.583
> 
> 标签：ios, wifi, nsurlconnection

我的应用程序使用 wi-fi 而不是蜂窝网络运行。如何解决这个问题？

```
[NSURLConnection sendSynchronousRequest:req returningResponse:&res error:&err];

Unknown thread crashed with unknown flavor: 5, state_count: 1

>Binary Images:
   0x34000 -    0x36fff +Inonu armv7  <a05396698aca383292dd6386b00759ef> /var/mobile/Applications/B59420C5-5393-4A48-97AC-3B863068D970/Inonu.app/Inonu
0x2fe33000 - 0x2fe54e17  dyld armv7  <77eddfd654df393ba9c95ff01715fd08> /usr/lib/dyld
0x305f1000 - 0x305fcff7  AccountSettings armv7  <373e59421d983c93931cfbad87b1ae35> /System/Library/PrivateFrameworks/AccountSettings.framework/AccountSettings
0x3074a000 - 0x3078ffff  GeoServices armv7  <a26be2e76e8730ab91a16502aba376be> /System/Library/PrivateFrameworks/GeoServices.framework/GeoServices
0x30790000 - 0x30800ffb  CoreImage armv7  <86ac6f5a267637b6b7f8a831dfc7c64b> /System/Library/Frameworks/CoreImage.framework/CoreImage
0x308ea000 - 0x308ebffd  CoreSurface armv7  <97f871f09f503c98a6371c2b657430d8> /System/Library/PrivateFrameworks/CoreSurface.framework/CoreSurface
0x30956000 - 0x30956fff  Accelerate armv7  <55b24cf91a8b3532bde6733c96f14c08> /System/Library/Frameworks/Accelerate.framework/Accelerate
0x30969000 - 0x3097aff4  libxpc.dylib armv7  <ccf25b1e49ce3b2fa58d8c8546755505> /usr/lib/system/libxpc.dylib
0x30993000 - 0x30a12ffd  libsqlite3.dylib armv7  <bf01f5ed47b033d8bde30d735ff44416> /usr/lib/libsqlite3.dylib
0x30a13000 - 0x30a4afff  Security armv7  <eea56f71fde83c2981f9281dc7823725> /System/Library/Frameworks/Security.framework/Security
0x30ba5000 - 0x30be1ff7  AppSupport armv7  <311eac85b2a433a884dacba77217b49e> /System/Library/PrivateFrameworks/AppSupport.framework/AppSupport
0x30beb000 - 0x30bf1fff  liblaunch.dylib armv7  <aa2bcba6fc7a36a191958fef2e995475> /usr/lib/system/liblaunch.dylib
0x30bf2000 - 0x30bf2ffe  libkeymgr.dylib armv7  <ebd2dddf55d83cf48a18913968775960> /usr/lib/system/libkeymgr.dylib
0x30f22000 - 0x30f36ffb  PersistentConnection armv7  <54091a638f8731cd85ccf00fa06972c3> /System/Library/PrivateFrameworks/PersistentConnection.framework/PersistentConnection
0x31166000 - 0x31167fff  libsystem_sandbox.dylib armv7  <6a8f2f33c7543808a0f4599101c3b61a> /usr/lib/system/libsystem_sandbox.dylib
0x3138b000 - 0x313e3ffb  CoreAudio armv7  <be335e8eb6f93594b028a6ddd503a183> /System/Library/Frameworks/CoreAudio.framework/CoreAudio
0x313e4000 - 0x313f3ff2  GenerationalStorage armv7  <d84c3fd0e7bd36e78c256f2f4c5a4e91> /System/Library/PrivateFrameworks/GenerationalStorage.framework/GenerationalStorage
0x31676000 - 0x31678ffe  MobileInstallation armv7  <215d93dbb0f63cbf828f9126eb7b5349> /System/Library/PrivateFrameworks/MobileInstallation.framework/MobileInstallation
0x31708000 - 0x3171efff  libdispatch.dylib armv7  <9ecfaef4110a3bf9a92d12f0fe8d1d78> /usr/lib/system/libdispatch.dylib
0x31753000 - 0x31757ffd  libAccessibility.dylib armv7  <9a17d07b5a3b38cfafdf16f78c99b572> /usr/lib/libAccessibility.dylib
0x31758000 - 0x3177dff9  OpenCL armv7  <f4b08361179a3f6bb033415b0d7c6251> /System/Library/PrivateFrameworks/OpenCL.framework/OpenCL
0x317ae000 - 0x317affff  libsystem_blocks.dylib armv7  <9fdc27af7350323bbc7d98e14e027907> /usr/lib/system/libsystem_blocks.dylib
0x31921000 - 0x3193eff7  libsystem_info.dylib armv7  <50863bcbf478323e96a8e5b1a83ea6f9> /usr/lib/system/libsystem_info.dylib
0x3193f000 - 0x31950fff  DataAccessExpress armv7  <e6144ba265da3bb7b9a263aa1a29b054> /System/Library/PrivateFrameworks/DataAccessExpress.framework/DataAccessExpress
0x31dfa000 - 0x31dfafff  vecLib armv7  <a2cfe25e77aa36bfb4a30b2d0d2dd465> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/vecLib
0x3217e000 - 0x32180ffd  libCoreVMClient.dylib armv7  <d4d4aa3090c83e87bcb15ed00b93fd5c> /System/Library/Frameworks/OpenGLES.framework/libCoreVMClient.dylib
0x32183000 - 0x32183fff  libunwind.dylib armv7  <e0a73a57795f3e1698a52ebe6fc07005> /usr/lib/system/libunwind.dylib
0x32184000 - 0x32187ffe  CaptiveNetwork armv7  <f5cc4b97ce9432da9426f12621453325> /System/Library/PrivateFrameworks/CaptiveNetwork.framework/CaptiveNetwork
0x3222d000 - 0x32232ff7  libcopyfile.dylib armv7  <52e874396c393ed29099789ce702cfe2> /usr/lib/system/libcopyfile.dylib
0x32342000 - 0x3238cff9  ManagedConfiguration armv7  <f1fbb825def23043830a095b953a9c94> /System/Library/PrivateFrameworks/ManagedConfiguration.framework/ManagedConfiguration
0x32390000 - 0x3241cff3  libsystem_c.dylib armv7  <f859ce1ad1773f0ba98d7c6e135b7697> /usr/lib/system/libsystem_c.dylib
0x32420000 - 0x32421fff  libdnsinfo.dylib armv7  <9aede8d6579d3430ac39ae5f95cce498> /usr/lib/system/libdnsinfo.dylib
0x32429000 - 0x3251aff3  QuartzCore armv7  <35d64a9da5523ae08c9e41511fd3061b> /System/Library/Frameworks/QuartzCore.framework/QuartzCore
0x3273f000 - 0x327ecff7  libxml2.2.dylib armv7  <58d47f064e0232119f4b838ad659f9c1> /usr/lib/libxml2.2.dylib
0x327ed000 - 0x327eefff  libremovefile.dylib armv7  <402f8956975d3b6fb86ab9b31a43242c> /usr/lib/system/libremovefile.dylib
0x32826000 - 0x32826ffd  liblangid.dylib armv7  <644ff4bcfbf337b5b5859e3f0fc0a9a8> /usr/lib/liblangid.dylib
0x32abc000 - 0x32b06ff3  libvDSP.dylib armv7  <441b42aca07b3da39feab25f8349918f> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libvDSP.dylib
0x32bf4000 - 0x32ce2ffa  libiconv.2.dylib armv7  <2cfefe2ad1d335dd9549562910e7a2e2> /usr/lib/libiconv.2.dylib
0x32ceb000 - 0x32d39fff  CoreLocation armv7  <44550ebedf23334d85441d9743b74e03> /System/Library/Frameworks/CoreLocation.framework/CoreLocation
0x32d8c000 - 0x32d95fff  libMobileGestalt.dylib armv7  <4a15e845dc6f3a4a980de66c1cc44c42> /usr/lib/libMobileGestalt.dylib
0x32f27000 - 0x3303eff9  CoreFoundation armv7  <6d450fe923d7387f8b01845e0edd713d> /System/Library/Frameworks/CoreFoundation.framework/CoreFoundation
0x33067000 - 0x3306bffe  IOMobileFramebuffer armv7  <42dbc26828e934acabb4f3b0a35d8250> /System/Library/PrivateFrameworks/IOMobileFramebuffer.framework/IOMobileFramebuffer
0x3307f000 - 0x33089fff  GraphicsServices armv7  <cb64e146a8ee3fda9e80ffae1ccc9c5a> /System/Library/PrivateFrameworks/GraphicsServices.framework/GraphicsServices
0x3308d000 - 0x3334efff  libLAPACK.dylib armv7  <0e94e9a7e7a334649afaccae0f1215a2> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libLAPACK.dylib
0x337f8000 - 0x33841ff7  AddressBook armv7  <b17a2962e9043e0385c3c2c652155f2b> /System/Library/Frameworks/AddressBook.framework/AddressBook
0x33910000 - 0x33918ffe  MobileWiFi armv7  <b76c3e9fb78234c392058250d4620e72> /System/Library/PrivateFrameworks/MobileWiFi.framework/MobileWiFi
0x33923000 - 0x33939ff3  libmis.dylib armv7  <258bc92be5823b239b4412dd42cb4807> /usr/lib/libmis.dylib
0x3393a000 - 0x33959fff  libSystem.B.dylib armv7  <0c55744b6f7335eebba4ca2c3d10b43c> /usr/lib/libSystem.B.dylib
0x3395a000 - 0x3395fffe  libsystem_dnssd.dylib armv7  <27bb5462450732e380f5a2c170546e93> /usr/lib/system/libsystem_dnssd.dylib
0x33a5d000 - 0x33a63ff3  liblockdown.dylib armv7  <9e45ce468a6f31e5b8263f2c224aa800> /usr/lib/liblockdown.dylib
0x33da6000 - 0x33e50fff  libBLAS.dylib armv7  <bf822cc1a3243ae7b104cf73ca22d352> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libBLAS.dylib
0x33e73000 - 0x33fb8ffb  CoreGraphics armv7  <903545b89a7f311d95100ac7d1d44709> /System/Library/Frameworks/CoreGraphics.framework/CoreGraphics
0x34155000 - 0x3415cff7  libc++abi.dylib armv7  <bab4dcbfc5943d3fbb637342d35e8045> /usr/lib/libc++abi.dylib
0x34177000 - 0x3417affc  CoreTime armv7  <a398de5ba1e43a11b7008e9bb5a7f6fe> /System/Library/PrivateFrameworks/CoreTime.framework/CoreTime
0x3417b000 - 0x34188ff7  libbsm.0.dylib armv7  <750a0de73a733019a77144b805d4d2f8> /usr/lib/libbsm.0.dylib
0x341c5000 - 0x34216ff6  libstdc++.6.dylib armv7  <c352af5a742e3c7a8d4d7e5f6f454793> /usr/lib/libstdc++.6.dylib
0x34325000 - 0x34325fff  libCVMSPluginSupport.dylib armv7  <a80aaa9989483ce3a496a061fd1e9e0a> /System/Library/Frameworks/OpenGLES.framework/libCVMSPluginSupport.dylib
0x343d2000 - 0x343f2fff  libxslt.1.dylib armv7  <39348471007e39dab80af68b08390456> /usr/lib/libxslt.1.dylib
0x343f6000 - 0x344ceff6  vImage armv7  <caf3648be2933384b6aa1ae7408ab4f0> /System/Library/Frameworks/Accelerate.framework/Frameworks/vImage.framework/vImage
0x344dc000 - 0x344e2fff  libnotify.dylib armv7  <9406297de3e43742887890662a87ab53> /usr/lib/system/libnotify.dylib
0x344f5000 - 0x344fdfff  ProtocolBuffer armv7  <0e846afacf823d2b8c029cc3010a8253> /System/Library/PrivateFrameworks/ProtocolBuffer.framework/ProtocolBuffer
0x3490c000 - 0x34e50ff5  FaceCoreLight armv7  <f326d88709683520b251dc53cb847c11> /System/Library/PrivateFrameworks/FaceCoreLight.framework/FaceCoreLight
0x34e51000 - 0x34e67ff7  DictionaryServices armv7  <6ed2e967136f37d4a4b9b318d6c43b83> /System/Library/PrivateFrameworks/DictionaryServices.framework/DictionaryServices
0x34f7c000 - 0x35042d63  libobjc.A.dylib armv7  <90014d1bc583366d85622e43097df416> /usr/lib/libobjc.A.dylib
0x3506e000 - 0x35074fff  MobileIcons armv7  <ed1b46f917903c9b9baaa2be4392dafe> /System/Library/PrivateFrameworks/MobileIcons.framework/MobileIcons
0x35075000 - 0x3507fff7  libbz2.1.0.dylib armv7  <40e4045fb79e382b8833707746cf28b1> /usr/lib/libbz2.1.0.dylib
0x35081000 - 0x35081fff  libgcc_s.1.dylib armv7  <eb82984fa36c329387aa518aa5205f3d> /usr/lib/libgcc_s.1.dylib
0x35086000 - 0x350ceffe  CoreMedia armv7  <e274e1b894753b2eb05cf7b22a36d0c1> /System/Library/Frameworks/CoreMedia.framework/CoreMedia
0x350cf000 - 0x350d6fff  AssetsLibraryServices armv7  <38132ecfd74b325fb1a4142bab663c19> /System/Library/PrivateFrameworks/AssetsLibraryServices.framework/AssetsLibraryServices
0x350d7000 - 0x350daffd  NetworkStatistics armv7  <7848d8ebad99367cb4f7f4e3fe88e5d6> /System/Library/PrivateFrameworks/NetworkStatistics.framework/NetworkStatistics
0x351ab000 - 0x351fcfff  CoreText armv7  <5bfac4ee88d03d5b87a1f105abb7756c> /System/Library/Frameworks/CoreText.framework/CoreText
0x352e2000 - 0x352fbff7  libRIP.A.dylib armv7  <1828cddc5dd93c61afbefb59587d7f8a> /System/Library/Frameworks/CoreGraphics.framework/Resources/libRIP.A.dylib
0x352fc000 - 0x3533afff  IOKit armv7  <fcda71d29d6136dfbd84c1725f4998e5> /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x3533b000 - 0x3533fffd  IOSurface armv7  <443ac3aab9283da480dd9dcda3c5c88e> /System/Library/PrivateFrameworks/IOSurface.framework/IOSurface
0x354a6000 - 0x354bcffd  libsystem_kernel.dylib armv7  <311f379a9fde305d80c1b22b7dd2e52a> /usr/lib/system/libsystem_kernel.dylib
0x354bd000 - 0x354d3ff5  EAP8021X armv7  <952fcfdec0633aff923768fca1a26fcb> /System/Library/PrivateFrameworks/EAP8021X.framework/EAP8021X
0x354d4000 - 0x354deffb  libvMisc.dylib armv7  <e8248c797b9b363594bb652ddf7ce16d> /System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libvMisc.dylib
0x354e4000 - 0x35986ff3  UIKit armv7  <cd513a2f22f53d698c3e10f6fe48a63e> /System/Library/Frameworks/UIKit.framework/UIKit
0x35ae8000 - 0x35b2bfff  libcommonCrypto.dylib armv7  <95b49daf4cf038b6bea8010bba3a1e26> /usr/lib/system/libcommonCrypto.dylib
0x35b5b000 - 0x35b6afff  SpringBoardServices armv7  <a2363f8ed49932dba415d2d4cd32fb74> /System/Library/PrivateFrameworks/SpringBoardServices.framework/SpringBoardServices
0x35b6b000 - 0x35b6ffff  libGFXShared.dylib armv7  <998fccc16cf735dbb62324202995e193> /System/Library/Frameworks/OpenGLES.framework/libGFXShared.dylib
0x35c2b000 - 0x363eaffb  WebCore armv7  <2690c38c9c5f3c09975d619dd1dfbed7> /System/Library/PrivateFrameworks/WebCore.framework/WebCore
0x363eb000 - 0x364bbffc  WebKit armv7  <3c5dd2ec46fe3e189c25bba78ad88fa1> /System/Library/PrivateFrameworks/WebKit.framework/WebKit
0x364bc000 - 0x36508fff  CoreTelephony armv7  <b8f80d5d594c31d2b5d8fba9fdedb7e1> /System/Library/Frameworks/CoreTelephony.framework/CoreTelephony
0x36518000 - 0x3655cffb  MobileCoreServices armv7  <757226927a873d5492be721908077b48> /System/Library/Frameworks/MobileCoreServices.framework/MobileCoreServices
0x36560000 - 0x36563fff  libsystem_network.dylib armv7  <356cb66612e836968ef24e6e5c3364cc> /usr/lib/system/libsystem_network.dylib
0x36564000 - 0x365adff0  libc++.1.dylib armv7  <5b690e5dd5a43a7fb166ade9fe58a7a4> /usr/lib/libc++.1.dylib
0x365bf000 - 0x365f7ff3  VideoToolbox armv7  <9f25f38d1cd13a1daff99cfde8884410> /System/Library/PrivateFrameworks/VideoToolbox.framework/VideoToolbox
0x365f8000 - 0x3671dff3  JavaScriptCore armv7  <2ffc6c87b94434288366bd53765ee267> /System/Library/PrivateFrameworks/JavaScriptCore.framework/JavaScriptCore
0x36ca3000 - 0x36d7aff1  CFNetwork armv7  <765a472c824830eea91b8f02d12867e4> /System/Library/Frameworks/CFNetwork.framework/CFNetwork
0x36d7b000 - 0x36d7cfff  libdyld.dylib armv7  <977b0ad6f2f433108b4a0324a57cd2ab> /usr/lib/system/libdyld.dylib
0x36df9000 - 0x36e72fff  ProofReader armv7  <6db611d8df6530d480f97a40bc519f70> /System/Library/PrivateFrameworks/ProofReader.framework/ProofReader
0x36eea000 - 0x370a7ff7  ImageIO armv7  <02e3578171fa3b6a969b244275fd2bab> /System/Library/Frameworks/ImageIO.framework/ImageIO
0x370a8000 - 0x370cbff7  Bom armv7  <c3435ecd2e5839f89de51edad0e1bb00> /System/Library/PrivateFrameworks/Bom.framework/Bom
0x370cc000 - 0x37101ff7  SystemConfiguration armv7  <4464a4e3bb3f32f7abaa35ebf31fda49> /System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration
0x372f2000 - 0x374d6ff7  AudioToolbox armv7  <c91e27850452330ea804db6408840fd2> /System/Library/Frameworks/AudioToolbox.framework/AudioToolbox
0x37609000 - 0x37615fff  CoreVideo armv7  <364fa32d513f3c11b50970120545f1a8> /System/Library/Frameworks/CoreVideo.framework/CoreVideo
0x37624000 - 0x377a2fff  Foundation armv7  <c40ddb073142315bb4ebb214343d0b7f> /System/Library/Frameworks/Foundation.framework/Foundation
0x37a52000 - 0x37a55ff8  libcompiler_rt.dylib armv7  <b2c05d8601c13be884097192dca4e187> /usr/lib/system/libcompiler_rt.dylib
0x37ae4000 - 0x37ae8ffc  AggregateDictionary armv7  <3a3a33f3a05538988c6e2bb363dc46a8> /System/Library/PrivateFrameworks/AggregateDictionary.framework/AggregateDictionary
0x37b7e000 - 0x37b7fffe  DataMigration armv7  <d77f0e8f39ee37f5a2ac713a3fd9e693> /System/Library/PrivateFrameworks/DataMigration.framework/DataMigration
0x37b80000 - 0x37bc0ffd  libGLImage.dylib armv7  <40448706190031f6b0d9636cc11ee81d> /System/Library/Frameworks/OpenGLES.framework/libGLImage.dylib
0x37cc6000 - 0x37cccffe  MobileKeyBag armv7  <e1f06241ef0e3f0aae00f15df572077e> /System/Library/PrivateFrameworks/MobileKeyBag.framework/MobileKeyBag
0x37d27000 - 0x37d2affd  libmacho.dylib armv7  <e52b77623bd031bc807e77029566c777> /usr/lib/system/libmacho.dylib
0x37d2b000 - 0x37d37ff0  libCRFSuite.dylib armv7  <bdb2b4d1a78c39c1ba60d791207aed2a> /usr/lib/libCRFSuite.dylib
0x37d38000 - 0x37d73ff7  libCGFreetype.A.dylib armv7  <55941c96cf1f3b048e72a148c4496c16> /System/Library/Frameworks/CoreGraphics.framework/Resources/libCGFreetype.A.dylib
0x37d9a000 - 0x37d9effc  libcache.dylib armv7  <d6a7436ed8dc33d795c9b42baf864882> /usr/lib/system/libcache.dylib
0x37e86000 - 0x37e9bfff  libresolv.9.dylib armv7  <66f7557fa4b43979b186e00271839fdb> /usr/lib/libresolv.9.dylib
0x37ea1000 - 0x37feaff1  libicucore.A.dylib armv7  <b70646b63f1f3b33896dd8cb91b8dab1> /usr/lib/libicucore.A.dylib
0x3802c000 - 0x38050ff7  PrintKit armv7  <08509c7bc915358b953de6f5cbef5c56> /System/Library/PrivateFrameworks/PrintKit.framework/PrintKit
0x380c1000 - 0x380cdfff  libz.1.dylib armv7  <36ce86a3dc8c344596c8c325615f374b> /usr/lib/libz.1.dylib
0x380ce000 - 0x380ddff7  OpenGLES armv7  <e80acc691001301e96101bb89d940033> /System/Library/Frameworks/OpenGLES.framework/OpenGLES 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T11:37:10.857

我注意到您正在执行同步请求。如果请求需要很长时间，您的应用可能会强制退出。

尝试改用异步请求。

```
[NSURLConnection connectionWithRequest:request delegate:self]; 
```

并实现委托方法：

```
-(void) connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response;
-(void) connection:(NSURLConnection *)connection didReceiveData:(NSData *)data;
-(void) connectionDidFinishLoading:(NSURLConnection *)connection; 
```

# jquery - jQuery Validate，如何根据条件从自定义函数中给出自定义错误？

> ID：11466262
> 
> 赞同：11
> 
> 时间：2012-07-13T07:47:16.703
> 
> 标签：jquery, jquery-validate

jQuery Validate，如何根据不同的条件从自定义函数中给出自定义错误？？？。

这是示例代码。这不是我的实际代码。在这里，我试图将我的问题放在示例代码中。

我已经使用自定义功能修改了默认所需的功能。但是我怎样才能根据不同的条件给出正确的信息。

```
rules: {
    "data[Model][field1]": {
        required:function(){
            var myValue = $('#myfield').val();
            if( myValue < '5') {
                // Here i want to assign different error message
                return false;
            } else if( myValue > '10') {
                // Here i want to assign different error message
                return false;
            } else {
                return true;
            }
        }
    },
messages: {
    "data[Model][field1]":{ "required":"How can i get the above messages here??" }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:51:20.563

该`messages`选项可以采用返回错误消息的函数，因此您可以编写如下内容：

```
rules: {
    "data[Model][field1]": {
        required: function() {
            var myValue = $("#myfield").val();
            return myValue >= 5 && myValue <= 10;
        }
    }
},
messages: {
    "data[Model][field1]": {
        required: function() {
            var myValue = $("#myfield").val();
            if (myValue < 5) {
                return "Value must be greater than 4";
            } else if (myValue > 10) {
                return "Value must be less than 11";
            }
        }
    }
} 
```

# asp.net-mvc - 亚当的弗里曼书中的 CodeFirst EF 和连接字符串

> ID：11466268
> 
> 赞同：1
> 
> 时间：2012-07-13T07:48:14.027
> 
> 标签：asp.net-mvc, asp.net-mvc-3, ef-code-first, connection-string

我正在学习 Adam Freeman 书中的 asp.net mvc 3。在示例中，一个 SportsStore 应用程序使用 CodeFirst 方法。当解决方案运行引发异常时：**无效的对象名称“dbo.Products”。** 我假设连接字符串中的问题。我的*Web.config*示例：

```
<connectionStrings>
<add name="EFDbContext" connectionString="Data Source=.\SQLEXPRESS;Initial Catalog=SportsStore;Integrated Security=True" providerName="System.Data.SqlClient" /> 
```

和 csharp 代码：

```
public class EFProductRepository : IProductRepository
{
    private EFDbContext context = new EFDbContext();

    public IQueryable<Product> Products
    {
        get
        {
            return context.Products;
        }
    }
}

public class EFDbContext : DbContext
{
    public DbSet<Product> Products { get; set; }
} 
```

将代码添加到*Global.asax*文件 Application_Start() 方法：

```
ControllerBuilder.Current.SetControllerFactory(new NinjectControllerFactory()); 
```

我的控制器：

```
 public class ProductController : Controller
{
    private IProductRepository repository;

    public ProductController(IProductRepository repoParam)
    {
        repository = repoParam;
    }

    public ViewResult List()
    {
        var products = repository.Products.ToList();
        return View(products.AsQueryable());
    }
} 
```

当我投射产品 ToList() 时抛出异常

我下载了包含本书代码示例的存档。更改了*web.config*。启动时，这个解决方案也产生了异常 有人知道是什么问题吗？谢谢！

# bundle - TextMate YAML 包：是否有一个可以显示符号列表（转到符号对话框，Cmd-Shift-T）？

> ID：11466271
> 
> 赞同：5
> 
> 时间：2012-07-13T07:48:29.190
> 
> 标签：bundle, yaml, textmate

我`.yml`最近经常使用 Rails I18n 文件，当它们嵌套很深时，我发现它们导航起来相当乏味。例如，当我必须为“en.this.is.some.deeply.nested.value”添加翻译并且我不知道相应的结构是否已经存在（以及到哪个级别）时，我必须做一个大量的手动浏览和搜索。我严重错过了一个`Cmd-Shift-T`可用于许多其他文件类型的工作“转到符号”对话框（），但不适用于 yml（它只是空的）。那么也许有一个支持这个的 YML 包？我已经使用[https://github.com/textmate/yaml.tmbundle](https://github.com/textmate/yaml.tmbundle)更新了我的包，但这没有这个功能。

# java - 简单的Java句子分类程序

> ID：11466276
> 
> 赞同：0
> 
> 时间：2012-07-13T07:48:46.163
> 
> 标签：java, nlp, sentence

我需要某种形式的句子分类程序的帮助。

读取文件并检查文件中的每个句子以定位任何“关键字”的程序。关键字在另一个文件中，其中写有单词。如果它找到一个关键字，它就会将该句子写入另一个文件。

到目前为止，我对输入文件的读取和分割成句子以及输出文件的编写很满意

您能否就程序如何读取第一个文件中的每个句子并将其与第二个文件中的单词进行比较以及它是否在句子中找到关键字写入第三个文件提供一些指导？

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-04T21:42:34.467

我可以给出一个基于 PHP 的解决方案——

1.  解析句子字符串。
2.  使用 strtok() 函数，将常用的标点符号(",'()/ etc) 定义为分词器/分类器。

3.  形成包含预定义单词的数据字​​典的数组/集合。

4.  使用 preg_match() 函数，对于完整的单词匹配，你可能想使用指定的结构来构建数组 as--> $variable = array ("/(\bword1\b)/", "/(\bword2\b)/ ”）。

5.  对于上述功能的参考目的/规格，请搜索 php 文档 - [http://www.php.net/](http://www.php.net/)

希望我能帮上忙。

干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:54:50.470

关键字是一组，我想。您需要快速访问它们，因此请使用`HashSet`.

如果您的关键字应该只匹配并且只匹配您的句子中的精确对应项，请用任何空格（正则表达式）分割您的句子，`\\s+`并尝试将句子的每个单词与关键字中的元素匹配。

您可以通过这种方式构建依赖关系图，因此您可以拥有一个 HashMap，其中关键字是键，值是引用该关键字的句子集。

最后，你可能会得到这样的结果：

```
[Keyword="StackOverflow"]
    [Values=
        "I like posting on StackOverflow.",
        "StackOverflow is cool."
    ]
[Keyword="posting"]
    [Values=
        "I like posting on StackOverflow."
    ] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T07:53:12.487

您可以使用扫描仪读取文件并直接提取单词。

您可以加载所有关键字以在 TreeSet 中进行比较，然后如果找到，则写入 FileWriter

# haskell - 这个斐波那契函数是如何记忆的？

> ID：11466284
> 
> 赞同：120
> 
> 时间：2012-07-13T07:49:04.560
> 
> 标签：haskell, lazy-evaluation, fibonacci, memoization, pointfree

这个斐波那契函数是通过什么机制来记忆的？

```
fib = (map fib' [0..] !!)                 
     where fib' 1 = 1                                                        
           fib' 2 = 1                                                        
           fib' n = fib (n-2) + fib (n-1) 
```

在相关的说明中，为什么这个版本不是？

```
fib n = (map fib' [0..] !! n)                                               
     where fib' 1 = 1                                                        
           fib' 2 = 1                                                        
           fib' n = fib (n-2) + fib (n-1) 
```

* * *

## 回答 #1

> 赞同：96
> 
> 时间：2012-07-13T08:39:01.747

Haskell 中的评估机制是按需的：当*需要*一个值时，它会被计算出来，并随时准备好，以防再次被要求。如果我们定义了一些列表，`xs=[0..]`然后再请求它的第 100 个元素 ，`xs!!99`则列表中的第 100 个插槽将被“充实”，`99`现在保存该数字，为下一次访问做好准备。

这就是“遍历列表”这个技巧所利用的。在正常的双递归斐波那契定义中`fib n = fib (n-1) + fib (n-2)`，函数本身从顶部被调用两次，导致指数爆炸。但是通过这个技巧，我们为中期结果列出了一个列表，然后“遍历列表”：

```
fib n = (xs!!(n-1)) + (xs!!(n-2)) where xs = 0:1:map fib [2..] 
```

诀窍是创建该列表，并导致该列表在调用`fib`. 实现这一目标的最简单方法是*命名*该列表。**“如果你给它起名字，它就会留下来。”**

* * *

您的第一个版本定义了一个单态常量，第二个版本定义了一个多态函数。多态函数不能为它可能需要服务的不同类型使用相同的内部列表，因此*没有共享*，即没有记忆。

在第一个版本中，编译器对我们很*慷慨*，去掉了​​那个常量子表达式 ( `map fib' [0..]`) 并使其成为一个单独的可共享实体，但它没有任何义务这样做。^(实际上在某些情况下，我们*不*希望它自动为我们这样做。)

（**编辑**：）考虑这些重写：

```
fib1 = f                     fib2 n = f n                 fib3 n = f n          
 where                        where                        where                
  f i = xs !! i                f i = xs !! i                f i = xs !! i       
  xs = map fib' [0..]          xs = map fib' [0..]          xs = map fib' [0..] 
  fib' 1 = 1                   fib' 1 = 1                   fib' 1 = 1          
  fib' 2 = 1                   fib' 2 = 1                   fib' 2 = 1          
  fib' i=fib1(i-2)+fib1(i-1)   fib' i=fib2(i-2)+fib2(i-1)   fib' i=f(i-2)+f(i-1) 
```

所以真正的故事似乎是关于嵌套范围定义的。第 1 个定义没有外部作用域，第 3 个定义注意不要调用 outer-scope `fib3`，而是调用 same-level `f`。

每个新的调用`fib2`似乎都重新创建了它的嵌套定义，因为它们中的任何一个（理论上）都可以根据 的值进行不同的定义*（**感谢*Vitus`n`和 Tikhon 指出这一点）。第一个定义没有`n`依赖，第三个有依赖，但是每个单独的调用`fib3`调用`f`都小心地只调用来自同级范围的定义，这个特定调用的内部`fib3`，所以同样`xs`得到重用（即共享）来调用`fib3`.

但是没有什么能阻止编译器认识到上述任何版本中的内部定义实际上是*独立*于外部绑定的，毕竟`n`执行[lambda 提升，导致完全记忆（多态定义除外）。](https://stackoverflow.com/a/592601/849891)事实上，当使用单态类型声明并使用 -O2 标志编译时，这正是所有三个版本所发生的情况。使用多态类型声明，`fib3`展示本地共享和`fib2`根本不共享。

最终，取决于编译器，使用的编译器优化，以及你如何测试它（在 GHCI 中加载文件，编译与否，是否使用 -O2，或独立），以及它是否获得单态或多态类型的行为可能完全改变——它是否表现出本地（每次调用）共享（即每次调用的线性时间）、记忆化（即第一次调用的线性时间，以及具有相同或更小参数的后续调用的 0 时间），或者根本不共享（指数时间）。

简短的回答是，这是编译器的事情。:)

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-07-13T08:01:33.440

我不完全确定，但这里有一个有根据的猜测：

编译器假设`fib n`不同的可能不同`n`，因此每次都需要重新计算列表。毕竟，`where`语句中的位*可能*取决于。`n`也就是说，在这种情况下，整个数字列表本质上是 的函数`n`。

*没有* 的版本`n`可以创建一次列表并将其包装在一个函数中。该列表*不能*依赖于`n`传入的值，这很容易验证。该列表是一个常量，然后被索引。当然，它是一个惰性求值的常数，因此您的程序不会尝试立即获取整个（无限）列表。由于它是一个常量，因此可以在函数调用之间共享。

它完全被记住了，因为递归调用只需要在列表中查找一个值。由于该`fib`版本会懒惰地创建一次列表，因此它只计算足以得到答案而无需进行冗余计算。这里，“懒惰”意味着列表中的每个条目都是一个 thunk（一个未计算的表达式）。当您*确实*评估 thunk 时，它会变成一个值，因此下次访问它不会重复计算。由于列表可以在调用之间共享，所有之前的条目都已经在您需要下一个条目的时间计算出来。

它本质上是一种基于 GHC 的惰性语义的智能且廉价的动态编程形式。我认为该标准仅指定它必须是*non-strict*，因此兼容的编译器可能会编译此代码以*不*记忆。然而，在实践中，每个合理的编译器都会变得懒惰。

有关第二种情况为何有效的更多信息，请阅读[理解递归定义的列表（用 zipWith 表示的 fibs）](https://stackoverflow.com/questions/6273621/understanding-a-recursively-defined-list-fibs-in-terms-of-zipwith)。

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2012-07-13T08:47:36.923

首先，使用 ghc-7.4.2，编译`-O2`，非记忆版本还不错，斐波那契数字的内部列表仍然为函数的每个顶级调用而记忆。但它不是，也不能合理地在不同的顶级调用中被记忆。但是，对于其他版本，该列表在调用之间共享。

这是由于单态性限制。

第一个由简单的模式绑定（只有名称，没有参数）绑定，因此受单态限制，它必须获得单态类型。推断的类型是

```
fib :: (Num n) => Int -> n 
```

并且这样的约束被默认为（在没有默认声明的情况下）`Integer`，将类型固定为

```
fib :: Int -> Integer 
```

因此只有一个列表（类型`[Integer]`）要记忆。

第二个是用函数参数定义的，因此它仍然是多态的，如果内部列表在调用中被记忆，则必须为`Num`. 那是不切实际的。

在禁用单态限制或使用相同类型签名的情况下编译两个版本，并且都表现出完全相同的行为。（对于较旧的编译器版本并非如此，我不知道哪个版本首先做到了。）

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-04-23T15:19:58.873

Haskell 不需要 memoize 功能。只有经验性编程语言需要这些功能。但是，Haskel 是函数式语言，并且...

所以，这是一个非常快速的斐波那契算法的例子：

```
fib = zipWith (+) (0:(1:fib)) (1:fib) 
```

zipWith 是标准 Prelude 中的函数：

```
zipWith :: (a->b->c) -> [a]->[b]->[c]
zipWith op (n1:val1) (n2:val2) = (n1 + n2) : (zipWith op val1 val2)
zipWith _ _ _ = [] 
```

测试：

```
print $ take 100 fib 
```

输出：

```
[1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181,6765,10946,17711,28657,46368,75025,121393,196418,317811,514229,832040,1346269,2178309,3524578,5702887,9227465,14930352,24157817,39088169,63245986,102334155,165580141,267914296,433494437,701408733,1134903170,1836311903,2971215073,4807526976,7778742049,12586269025,20365011074,32951280099,53316291173,86267571272,139583862445,225851433717,365435296162,591286729879,956722026041,1548008755920,2504730781961,4052739537881,6557470319842,10610209857723,17167680177565,27777890035288,44945570212853,72723460248141,117669030460994,190392490709135,308061521170129,498454011879264,806515533049393,1304969544928657,2111485077978050,3416454622906707,5527939700884757,8944394323791464,14472334024676221,23416728348467685,37889062373143906,61305790721611591,99194853094755497,160500643816367088,259695496911122585,420196140727489673,679891637638612258,1100087778366101931,1779979416004714189,2880067194370816120,4660046610375530309,7540113804746346429,12200160415121876738,19740274219868223167,31940434634990099905,51680708854858323072,83621143489848422977,135301852344706746049,218922995834555169026,354224848179261915075,573147844013817084101] 
```

经过时间：0.00018s

# php - 如何以 symfony2 形式生成多个复选框

> ID：11466287
> 
> 赞同：7
> 
> 时间：2012-07-13T07:49:16.817
> 
> 标签：php, symfony

我想在我的 Symfony 表单中显示预定义数组中的复选框。用户应该能够选择多个，但我无法做到。

这是我的代码：

```
public function buildForm(FormBuilder $builder, array $options)
{
    $roles = array('role1', 'role2', 'role3');
    $builder
        ->add('name')
        ->add('roles', 'checkbox', $roles)
    ;
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-13T07:58:06.997

请参阅[`choice`类型参考](http://symfony.com/doc/master/reference/forms/types/choice.html)。

```
public function buildForm(FormBuilder $builder, array $options)
{
    $roles = ['role1', 'role2', 'role3'];

    $builder
        ->add('name')
        ->add('roles', 'choice', [
            'choices' => $roles,
            'multiple' => true,
            'expanded' => true
        ])
    ;
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-13T08:00:02.300

您可以改用`choice`字段：

```
public function buildForm(FormBuilder $builder, array $options)
{        
    $roles = array("role1","role2","role3");
    $builder
        ->add('name')
        ->add('roles', 'choice', array(
            'choices' => $roles,
            'multiple' => true,
            'expanded' => true,
        ))    
    ;
} 
```

查看文档以了解如何使用此字段类型设置复选框、选择或单选按钮：http: [//symfony.com/doc/current/reference/forms/types/choice.html#forms-reference-选择标签](http://symfony.com/doc/current/reference/forms/types/choice.html#forms-reference-choice-tags)

# asp.net-mvc - MVC/EF 部分更新相关数据

> ID：11466288
> 
> 赞同：0
> 
> 时间：2012-07-13T07:49:18.307
> 
> 标签：asp.net-mvc, entity-framework, entity-relationship, partial, master-detail

我试图了解相关数据，以便在 MVC 中使用 EF 的主细节场景。搜索 StackOverflow 让我在路上取得了很大进展，但我在保存数据时遇到了问题。作为 StackOverflow 上的更多示例，我使用人员/地址设置，对于人员和地址（这是一对多），我仅在我的视图中使用部分实体属性。使用默认脚手架会导致错误，但对于人员实体，我设法使用下面的代码解决了这个问题。但是对于地址实体，我现在得到了同样的错误，我不知道如何解决这个问题。这是我到目前为止所得到的：

联系人控制器：

```
public ActionResult Edit(int id)
{
    Contact contact = db.Contacts
        .Include(c => c.Address)
        .Include(c => c.Relation)
        .Where(c => c.ContactId == id)
        .Single();
    return View(contact);
}

[HttpPost]
public ActionResult Edit(int id, FormCollection formCollection)
{
    var contactToUpdate = db.Contacts
        .Include(c => c.Address)
        .Include(c => c.Relation)
        .Where(c => c.ContactId == id)
        .Single();

    if (TryUpdateModel(contactToUpdate, "", null, new string[] { "Relation" }))
    {
        try
        {
            db.Entry(contactToUpdate).State = EntityState.Modified;
            db.SaveChanges();

            return RedirectToAction("Index");

        }
        catch (DataException ex)
        {
            ModelState.AddModelError("", "Error while saving.");
            return View();
        }
    }
    return View(contactToUpdate); 
} 
```

我的模型的类：

```
namespace MyApp.Models
{
    public class Contact
    {
        public int ContactId { get; set; }
        public string Weergavenaam { get; set; }

        public virtual ICollection<Address> Address{ get; set; }
        public virtual ICollection<Relation> Relation { get; set; }
    }

    public class Address
    {
        public int AddressId { get; set; }
        public string Street{ get; set; }
        public string Postal{ get; set; }
        public string Place{ get; set; }
        public string State{ get; set; }

        public DateTime Created { get; set; }
        public DateTime Modified { get; set; }

        public virtual Contact Contact { get; set; }
    }

    public class Relation
    {
        ...
    }
} 
```

ContactController 的 Edit 操作的视图：

```
@using (Html.BeginForm()) {
@Html.ValidationSummary(true)
<fieldset>
    <legend>Contact</legend>

    @Html.HiddenFor(model => model.ContactId)

    <div class="editor-label">
        @Html.LabelFor(model => model.Name)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.Name)
        @Html.ValidationMessageFor(model => model.Name)
    </div>

    @Html.EditorFor(model => model.Address) 

    <div class="display-field">
        Created: @Html.DisplayFor(model => model.Created)
    </div>
    <div class="display-field">
        Modified: @Html.DisplayFor(model => model.Modiied)
    </div>

    <p><input type="submit" value="Save" /></p>
</fieldset>
} 
```

地址模型的 EditorTemplate

```
@model MyApp.Models.Address
<fieldset>
    <legend>Address</legend>

    @Html.HiddenFor(model => model.AddressId)

    <div class="editor-label">
        @Html.LabelFor(model => model.Street)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.Street)
        @Html.ValidationMessageFor(model => model.Street)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.Postal)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.Postal)
        @Html.ValidationMessageFor(model => model.Postal)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.Place)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.Place)
        @Html.ValidationMessageFor(model => model.Place)
    </div>

    <div class="editor-label">
        @Html.LabelFor(model => model.State)
    </div>
    <div class="editor-field">
        @Html.EditorFor(model => model.State)
        @Html.ValidationMessageFor(model => model.State)
    </div>
</fieldset> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-18T06:42:17.217

在对代码进行了一番努力之后，我认为目前解决问题的唯一方法是使用@Html.HiddenFor 将缺少的属性添加到编辑器模板中。当然，我确信应该有一种更优雅的方式来让我的情况正常工作，但现在它解决了我的问题。

欢迎任何更好的解决方案！

# macos - 使用 GetKeys 函数获取键盘状态

> ID：11466294
> 
> 赞同：0
> 
> 时间：2012-07-13T07:49:42.817
> 
> 标签：macos, cocoa, macos-carbon, core-foundation

有谁知道如何通过 GetKeys 函数获取任何键状态（按下或否）？换句话说，如何处理这个函数：

```
bool result = isPressed(kVK_LeftArrow); 
```

谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-17T02:21:30.143

该`KeyMap`类型是一个整数数组，但它的实际布局是一系列位，每个键码一个。特定键的位数*比*虚拟键码少一。

由于位移对于非常大的值是不合法的（例如，您不能只要求编译器移动 74 位），因此该`KeyMap`类型分为 4 个部分。您需要获取虚拟键码的位数并除以 32 以找到该位的正确整数；然后取余数来确定应该设置哪个位。

所以，试试这个：

```
uint16_t vKey = kVK_LeftArrow;
uint8_t index = (vKey - 1) / 32;
uint8_t shift = ((vKey - 1) % 32);
KeyMap keyStates;
GetKeys(keyStates);
if (keyStates[index] & (1 << shift))
{
    // left arrow key is down
} 
```

# apache-flex - Adobe Flex 的最佳 MVC 框架

> ID：11466295
> 
> 赞同：0
> 
> 时间：2012-07-13T07:49:46.643
> 
> 标签：apache-flex, adobe, cairngorm, robotlegs

我需要在 Adob​​e flex 中开发一个网络会议应用程序，实际上对我可以使用的 MVC 框架感到困惑 我做了一些研究，发现了两个主要的竞争者 1- 机器人腿 2- Cairngorm 谁能告诉哪一个使用其中一个两个还是其他？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T07:59:28.423

Cairngorm 的历史最长，并且可能拥有[最多的开发人员](http://blog.flexdevelopers.com/2011/08/finding-most-popular-flex-framework.html)，Adobe 在 Cairngorm 上的最新举措主要是构建库而不是扩展框架。我听说一些架构抱怨 Cairngorm 使用单例模型，更好的做法应该是利用 IoC（控制反转）和 DI（依赖注入）。如果其中任何一个对您有意义，请选择 Robot Legs 或 Parsley。后两者更新，更现代。但要做好准备，机器人腿和欧芹的学习曲线对某些人来说可能会更陡峭。

如果不是，Cairngorm 也不错，建筑本身非常轻巧，而且有大量书籍和讨论可供您挖掘。毕竟，“最好”在这里是一个主观词。更重要的是及时完成工作。

# javascript - 如何使用 jquery-translate

> ID：11466297
> 
> 赞同：1
> 
> 时间：2012-07-13T07:49:53.433
> 
> 标签：javascript, jquery, translate

我想使用这个脚本，但我不能让它工作。他们在网页上有一个示例，但它不起作用。

有人能看出它有什么问题吗？

[查询翻译](http://jsbin.com/ozenu/1007/edit#javascript,html,live)

我需要这个的原因是因为我想动态更改语言，例如当用户单击标志时，我需要将其翻译成该语言。这个脚本对我来说似乎很好，因为我不必用不同的翻译再次编写所有脚本，这将是一项太多的工作。

如果这不起作用，也许有人可以为我提供一些其他插件

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T07:53:27.363

这不起作用，因为它依赖于现已关闭的 Google Translate API。Google 正在发布一个付费 API，但在该脚本中链接的旧的免费 API 版本已不复存在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:58:57.330

Ajax 调用的响应是：

google.language.callbacks.id101('22', null, 403, '请使用翻译 v2。请参阅[http://code.google.com/apis/language/translate/overview.html](http://code.google.com/apis/language/translate/overview.html) ', 200)

这又回到了吉姆所说的话。

* * *

从`jquery-translate`代码中有：

```
if (key.length < 40) --> Google
else Microsoft 
```

而且我在您的代码中的任何地方都没有看到密钥集，所以这可能是您的问题。

* * *

阅读代码以了解如何使用该库，我们不会为您这样做。

# android - android应用程序中的OutOfMemoryError

> ID：11466300
> 
> 赞同：1
> 
> 时间：2012-07-13T07:49:57.790
> 
> 标签：android, android-widget, out-of-memory

我之前曾在我的 android 应用程序中寻求过有关 OutOfMemoryError 问题的帮助。由于我还没有解决方案，所以我需要再次请您为我提供解决方案。我在几个真正的安卓设备上测试了我的应用程序。但在三星 Galaxy S3 android 4.0.4 我有 OutOfMemoryError 问题。Logcat 消息如下。谢谢你。

```
07-13 10:42:23.820: E/AndroidRuntime(2065): FATAL EXCEPTION: main
07-13 10:42:23.820: E/AndroidRuntime(2065): java.lang.OutOfMemoryError
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.graphics.Bitmap.nativeCreate(Native Method)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.graphics.Bitmap.createBitmap(Bitmap.java:605)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.graphics.Bitmap.createBitmap(Bitmap.java:551)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.graphics.Bitmap.createScaledBitmap(Bitmap.java:437)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.graphics.BitmapFactory.finishDecode(BitmapFactory.java:618)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:593)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:445)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.graphics.BitmapFactory.decodeResource(BitmapFactory.java:468)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at com.emin.avci.SeviyorSevmiyor.onCreate(SeviyorSevmiyor.java:75)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.app.Activity.performCreate(Activity.java:4562)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1053)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1934)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1995)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.app.ActivityThread.access$600(ActivityThread.java:128)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1161)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.os.Handler.dispatchMessage(Handler.java:99)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.os.Looper.loop(Looper.java:137)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at android.app.ActivityThread.main(ActivityThread.java:4514)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at java.lang.reflect.Method.invokeNative(Native Method)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at java.lang.reflect.Method.invoke(Method.java:511)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760)
07-13 10:42:23.820: E/AndroidRuntime(2065):     at dalvik.system.NativeStart.main(Native Method) 
```

好的，这是我的应用程序崩溃的活动的代码。

`公共类 SeviyorSevmiyor 扩展 Activity 实现 OnTouchListener{

```
private int toastX=0,toastY=0;
private int fortuneCon;
private String toastMessage;
private String categoryName;

private ImageView activityHead;
private Vibrator shake;
private Toast toast;
private View layout;
private LayoutInflater inflater ;
private ViewGroup backgForToast;
private TextView textForToast ;

private Intent resultIntent;

private int[] leafIDs={R.id.bir,R.id.iki,R.id.uc,R.id.dort,R.id.bes,R.id.alti,R.id.yedi,
        R.id.sekiz,R.id.dokuz,R.id.on,R.id.onbir,R.id.oniki,R.id.onuc,R.id.ondort,R.id.onbes,R.id.onalti,R.id.iView1};
private int[] drwbles={R.drawable.leaf_1,R.drawable.leaf_2,R.drawable.leaf_3,R.drawable.leaf_4,R.drawable.leaf_5,R.drawable.leaf_6,
        R.drawable.leaf_7,R.drawable.leaf_8,R.drawable.leaf_9,R.drawable.leaf_10,R.drawable.leaf_11,R.drawable.leaf_12,R.drawable.leaf_13,R.drawable.leaf_14,
        R.drawable.leaf_15,R.drawable.leaf_16,R.drawable.papatya_orta};
ImageView[] leafs=new ImageView[17];
private Button leaf11_btn1,leaf11_btn2,leaf12_btn1,leaf12_btn2,leaf13_btn1,leaf13_btn2,leaf13_btn3,leaf14_btn1,leaf14_btn2,leaf15_btn1,
leaf15_btn2,leaf16_btn1,leaf1_btn1,leaf1_btn2,leaf2_btn1,leaf2_btn2,leaf3_btn1,leaf3_btn2,leaf4_btn1,leaf4_btn2,leaf5_btn1,leaf5_btn2
,leaf6_btn1,leaf6_btn2,leaf7_btn1,leaf7_btn2,leaf8_btn1,leaf8_btn2,leaf9_btn1,leaf9_btn2,leaf10_btn1,leaf10_btn2;

private Bitmap[] bmImages=new Bitmap[17];

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
        setContentView(R.layout.seviyor);

        activityHead=(ImageView) findViewById(R.id.activityhead1);
        shake = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);
        BitmapFactory.Options options=new BitmapFactory.Options();

        for(int i=0;i<17;i++){
            if(bmImages[i]!=null){
                bmImages[i].recycle();
                bmImages=null;
            }
        }
        for(int i=0;i<17;i++){
            bmImages[i]=BitmapFactory.decodeResource(getResources(),drwbles[i] , options);
        }

        initilizeToastBackground();
        initilizeButtonsFor16Leafs();
        initilize16Lisener();

        resultIntent=new Intent(this,ResultFrame.class);
        fortuneCon=16;
        for(int i=0;i<17;i++){
            leafs[i]=(ImageView) findViewById(leafIDs[i]);
        }
        for(int i=0;i<17;i++){
            leafs[i].setImageBitmap(bmImages[i]);
        }

    Bundle frompreviousInent=getIntent().getExtras();
    categoryName=frompreviousInent.getString("category");
    setHeadOfActivity();
}

private void setHeadOfActivity() {
    if(categoryName.equalsIgnoreCase("seviyor")){
        activityHead.setImageResource(R.drawable.seviyor);
    }
    else if(categoryName.equalsIgnoreCase("konus")){
        activityHead.setImageResource(R.drawable.konus);
    }
    else if(categoryName.equalsIgnoreCase("ekle")){
        activityHead.setImageResource(R.drawable.ekle);
    }
    else{
        activityHead.setImageResource(R.drawable.teklif_et);
    }
}

private void initilize16Lisener() {
    leaf11_btn1.setOnTouchListener(this);
    leaf11_btn2.setOnTouchListener(this);
    leaf12_btn1.setOnTouchListener(this);
    leaf12_btn2.setOnTouchListener(this);
    leaf13_btn1.setOnTouchListener(this);
    leaf13_btn2.setOnTouchListener(this);
    leaf13_btn3.setOnTouchListener(this);
    leaf14_btn1.setOnTouchListener(this);
    leaf14_btn2.setOnTouchListener(this);
    leaf15_btn1.setOnTouchListener(this);
    leaf15_btn2.setOnTouchListener(this);
    leaf16_btn1.setOnTouchListener(this);
    leaf1_btn1.setOnTouchListener(this);
    leaf1_btn2.setOnTouchListener(this);
    leaf2_btn1.setOnTouchListener(this);
    leaf2_btn2.setOnTouchListener(this);
    leaf3_btn1.setOnTouchListener(this);
    leaf3_btn2.setOnTouchListener(this);
    leaf4_btn1.setOnTouchListener(this);
    leaf4_btn2.setOnTouchListener(this);
    leaf5_btn1.setOnTouchListener(this);
    leaf5_btn2.setOnTouchListener(this);
    leaf6_btn1.setOnTouchListener(this);
    leaf6_btn2.setOnTouchListener(this);
    leaf7_btn1.setOnTouchListener(this);
    leaf7_btn2.setOnTouchListener(this);
    leaf8_btn1.setOnTouchListener(this);
    leaf8_btn2.setOnTouchListener(this);
    leaf9_btn1.setOnTouchListener(this);
    leaf9_btn2.setOnTouchListener(this);
    leaf10_btn1.setOnTouchListener(this);
    leaf10_btn2.setOnTouchListener(this);
}

private void initilizeButtonsFor16Leafs() {
    leaf11_btn1 = (Button) findViewById(R.id.leaf11_bnt1);
    leaf11_btn2 = (Button) findViewById(R.id.leaf11_bnt2);

    leaf12_btn1 = (Button) findViewById(R.id.leaf12_bnt1);
    leaf12_btn2 = (Button) findViewById(R.id.leaf12_bnt2);

    leaf13_btn1 = (Button) findViewById(R.id.leaf13_bnt1);
    leaf13_btn2 = (Button) findViewById(R.id.leaf13_bnt2);
    leaf13_btn3 = (Button) findViewById(R.id.leaf13_bnt3);

    leaf14_btn1 = (Button) findViewById(R.id.leaf14_bnt1);
    leaf14_btn2 = (Button) findViewById(R.id.leaf14_bnt2);

    leaf15_btn1 = (Button) findViewById(R.id.leaf15_bnt1);
    leaf15_btn2 = (Button) findViewById(R.id.leaf15_bnt2);

    leaf16_btn1 = (Button) findViewById(R.id.leaf16_bnt1);

    leaf1_btn1 = (Button) findViewById(R.id.leaf1_btn1);
    leaf1_btn2 = (Button) findViewById(R.id.leaf1_btn2);

    leaf2_btn1 = (Button) findViewById(R.id.leaf2_bnt1);
    leaf2_btn2 = (Button) findViewById(R.id.leaf2_btn2);

    leaf3_btn1 = (Button) findViewById(R.id.leaf3_btn1);
    leaf3_btn2 = (Button) findViewById(R.id.leaf3_btn2);

    leaf4_btn1 = (Button) findViewById(R.id.leaf4_btn1);
    leaf4_btn2 = (Button) findViewById(R.id.leaf4_btn2);

    leaf5_btn1 = (Button) findViewById(R.id.leaf5_btn1);
    leaf5_btn2 = (Button) findViewById(R.id.leaf5_btn2);

    leaf6_btn1 = (Button) findViewById(R.id.leaf6_btn1);
    leaf6_btn2 = (Button) findViewById(R.id.leaf6_btn2);

    leaf7_btn1 = (Button) findViewById(R.id.leaf7_btn1);
    leaf7_btn2 = (Button) findViewById(R.id.leaf7_btn2);

    leaf8_btn1 = (Button) findViewById(R.id.leaf8_btn1);
    leaf8_btn2 = (Button) findViewById(R.id.leaf8_btn2);

    leaf9_btn1 = (Button) findViewById(R.id.leaf9_btn1);
    leaf9_btn2 = (Button) findViewById(R.id.leaf9_btn2);

    leaf10_btn1 = (Button) findViewById(R.id.leaf10_btn1);
    leaf10_btn2 = (Button) findViewById(R.id.leaf10_btn2);
}

public boolean onTouch(View v, MotionEvent event) {
    if(event.getAction() == MotionEvent.ACTION_DOWN){
        toast.cancel();
        this.toastX = (int) event.getRawX();
        this.toastY = (int) event.getRawY();
        switch (v.getId()) {
        case R.id.leaf11_bnt1 :
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf11();
            break;
        case R.id.leaf11_bnt2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf11();
            break;  
        case R.id.leaf12_bnt1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf12();
            break;
        case R.id.leaf12_bnt2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf12();
            break;
        case R.id.leaf13_bnt1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf13();
            break;  
        case R.id.leaf13_bnt2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf13();   
            break;
        case R.id.leaf13_bnt3:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf13();
            break;
        case R.id.leaf14_bnt1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf14();
            break;
        case R.id.leaf14_bnt2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf14();   
            break;
        case R.id.leaf15_bnt1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf15();   
            break;
        case R.id.leaf15_bnt2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf15();
            break;
        case R.id.leaf16_bnt1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf16();   
            break;
        case R.id.leaf1_btn1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf1();
            break;
        case R.id.leaf1_btn2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf1();
            break;
        case R.id.leaf2_bnt1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf2();
            break;
        case R.id.leaf2_btn2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf2();
            break;
        case R.id.leaf3_btn1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf3();
            break;
        case R.id.leaf3_btn2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf3();
            break;
        case R.id.leaf4_btn1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf4();
            break;
        case R.id.leaf4_btn2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf4();
            break;
        case R.id.leaf5_btn1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf5();
            break;
        case R.id.leaf5_btn2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf5();
            break;
        case R.id.leaf6_btn1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf6();
            break;
        case R.id.leaf6_btn2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf6();
            break;
        case R.id.leaf7_btn1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf7();
            break;
        case R.id.leaf7_btn2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf7();
            break;
        case R.id.leaf8_btn1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf8();
            break;
        case R.id.leaf8_btn2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf8();
            break;
        case R.id.leaf9_btn1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf9();
            break;
        case R.id.leaf9_btn2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf9();
            break;
        case R.id.leaf10_btn1:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf10();
            break;
        case R.id.leaf10_btn2:
            showFortuneToast(toastX,toastY);
            shake.vibrate(40);
            clearBtnLeaf10();
            break;
        default:
            break;
        }
    }
    return false;
}

private void showFortuneToast(int toastX2, int toastY2) { 
```

/ ***** *******决定选择哪个类别（seviyor-sevmiyor、ekle-ekleme、konus-konuşma 等）*/ if(categoryName.equalsIgnoreCase("seviyor")){ if(fortuneCon%2==0){ toastMessage="Seviyor"; } 其他{ toastMessage="Sevmiyor"; } } else if(categoryName.equalsIgnoreCase("konus")){ if(fortuneCon%2==0){ toastMessage="Konuş"; } 其他{ toastMessage="Konuşma"; } } else if(categoryName.equalsIgnoreCase("ekle")){ if(fortuneCon%2==0){ toastMessage="Ekle"; } 其他{ toastMessage="Ekleme"; } } 否则 if(categoryName.equalsIgnoreCase("teklifet" )){ if(fortuneCon%2==0){ toastMessage="Teklif Et"; } 其他{ toastMessage="Teklif Etme"; } }*

 *```
 textForToast.setText(toastMessage);
    toast.setGravity(Gravity.TOP|Gravity.LEFT, toastX2-90,toastY2-90);
    toast.setDuration(30);
    toast.setView(layout);
    toast.show();

    fortuneCon--;
    if(fortuneCon==0){
        toast.cancel();
        resultIntent.putExtra("result_cond", toastMessage);
        startActivity(resultIntent);
    }
}

private void initilizeToastBackground() {
    inflater = getLayoutInflater();
    backgForToast=(ViewGroup) findViewById(R.id.toast_layout_root);
    layout = inflater.inflate(R.layout.toastbackground,backgForToast);
    textForToast = (TextView) layout.findViewById(R.id.text);
    toast = new Toast(getApplicationContext());

}
private void clearBtnLeaf10() {
    leafs[9].setVisibility(View.GONE);
    leaf10_btn1.setVisibility(View.GONE);
    leaf10_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf9() {
    leafs[8].setVisibility(View.GONE);
    leaf9_btn1.setVisibility(View.GONE);
    leaf9_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf8() {
    leafs[7].setVisibility(View.GONE);
    leaf8_btn1.setVisibility(View.GONE);
    leaf8_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf7() {
    leafs[6].setVisibility(View.GONE);
    leaf7_btn1.setVisibility(View.GONE);
    leaf7_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf6() {
    leafs[5].setVisibility(View.GONE);
    leaf6_btn1.setVisibility(View.GONE);
    leaf6_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf5() {
    leafs[4].setVisibility(View.GONE);
    leaf5_btn1.setVisibility(View.GONE);
    leaf5_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf4() {
    leafs[3].setVisibility(View.GONE);
    leaf4_btn1.setVisibility(View.GONE);
    leaf4_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf3() {
    leafs[2].setVisibility(View.GONE);
    leaf3_btn1.setVisibility(View.GONE);
    leaf3_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf2() {
    leafs[1].setVisibility(View.GONE);
    leaf2_btn1.setVisibility(View.GONE);
    leaf2_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf1() {
    leafs[0].setVisibility(View.GONE);
    leaf1_btn1.setVisibility(View.GONE);
    leaf1_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf16() {
        leafs[15].setVisibility(View.GONE);
        leaf16_btn1.setVisibility(View.GONE);
}
private void clearBtnLeaf15() {
    leafs[14].setVisibility(View.GONE);
    leaf15_btn1.setVisibility(View.GONE);
    leaf15_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf14() {
    leafs[13].setVisibility(View.GONE);
    leaf14_btn1.setVisibility(View.GONE);
    leaf14_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf13() {
    leafs[12].setVisibility(View.GONE);
    leaf13_btn3.setVisibility(View.GONE);
    leaf13_btn1.setVisibility(View.GONE);
    leaf13_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf12() {
    leafs[11].setVisibility(View.GONE);
    leaf12_btn1.setVisibility(View.GONE);
    leaf12_btn2.setVisibility(View.GONE);
}
private void clearBtnLeaf11() {
    leafs[10].setVisibility(View.GONE);
    leaf11_btn1.setVisibility(View.GONE);
    leaf11_btn2.setVisibility(View.GONE);
}
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
     if (keyCode == KeyEvent.KEYCODE_BACK) {
            Intent menuReturn=new Intent(this,MenuFrame.class);
            startActivity(menuReturn);
            }
    return super.onKeyDown(keyCode, event);
} 
```

}

编辑：Android 版本 4.0.4 不是 4.1 `

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:39:32.793

使用下面的方法来减小图像的大小。由于图像尺寸过大，您会收到 OutOfMemory 错误。

```
public static Bitmap decodeSampledBitmapFromResource(Resources res, int resId,
        int reqWidth, int reqHeight) {

    // First decode with inJustDecodeBounds=true to check dimensions
    final BitmapFactory.Options options = new BitmapFactory.Options();
    options.inJustDecodeBounds = true;
    BitmapFactory.decodeResource(res, resId, options);

    // Calculate inSampleSize
    options.inSampleSize = calculateInSampleSize(options, reqWidth, reqHeight);

    // Decode bitmap with inSampleSize set
    options.inJustDecodeBounds = false;
    return BitmapFactory.decodeResource(res, resId, options);
}

public static int calculateInSampleSize(
            BitmapFactory.Options options, int reqWidth, int reqHeight) {
    // Raw height and width of image
    final int height = options.outHeight;
    final int width = options.outWidth;
    int inSampleSize = 1;

    if (height > reqHeight || width > reqWidth) {
        if (width > height) {
            inSampleSize = Math.round((float)height / (float)reqHeight);
        } else {
            inSampleSize = Math.round((float)width / (float)reqWidth);
        }
    }
    return inSampleSize;
} 
```

并在您的代码中使用

```
mImageView.setImageBitmap(
    decodeSampledBitmapFromResource(getResources(), R.id.myimage, 100, 100)); 
```

有关更多详细信息，我建议您必须阅读Android[开发](http://developer.android.com/training/displaying-bitmaps/index.html)者网站提供的关于 Bitmap 效率的开发者信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T07:55:42.667

由于某种原因，您没有足够的内存来创建`Bitmap`. 您可以将您的`Bitmap`创作包装成`try { ... } catch(OutOfMemoryError) {}`

在 catch 块或其他地方，您可能希望缩小位图，然后它可能会创建类似

```
bmp = Bitmap.createBitmap(bmp, bmp.getWidth()/2, bmp.getheight()/2, true) 
```*

# macos - 自动更新 Mac 应用程序

> ID：11466305
> 
> 赞同：7
> 
> 时间：2012-07-13T07:50:02.847
> 
> 标签：macos

我正在开发一个可以在 Windows 和 Mac 上运行的 Qt 桌面应用程序，

我必须在应用程序中添加一个功能来检查更新并将它们应用到我已经在一个 Windows 上完成的软件（在 Windows 上下载更新 dll/exe 文件删除现有文件并将新文件放在那里）

我对 Windows 上的 mac 上的部署/安装不太熟悉，我只是更新了安装目录中的文件。

要在 mac 中进行类似操作，我是否必须考虑特殊的部署策略来自动更新软件？像我需要为mac制作安装程序还是捆绑它？本质上，我希望能够自动更新软件，无论哪种策略允许我这样做..

重要的是该应用程序不会进入 Mac 商店，而是用户会从网站下载它。

请指教，

谢谢，

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-13T07:53:14.160

如果没有 App Store，我见过的下一个最常见的解决方案是 Sparkle 框架：

[http://sparkle.andymatuschak.org/](http://sparkle.andymatuschak.org/)

# crystal-reports - 有没有办法在水晶报告中禁用放大镜的光标

> ID：11466308
> 
> 赞同：0
> 
> 时间：2012-07-13T07:50:27.567
> 
> 标签：crystal-reports, drilldown, magnify

*Crystal Reports*在组字段中显示*放大镜*光标，从而隐藏标题部分。所以我不想用这个*放大镜*。那么如何禁用这个*放大镜*光标呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T13:12:22.200

简短的回答：它不能完成。

如果您将详细信息部分标记为“抑制（无向下钻取）”，则仍将显示放大镜。此外，双击组标题或摘要字段仍会生成一个向下钻取页面，但详细信息部分将被抑制（不可见）。

大多数用户发现能够查看（“向下钻取”）详细信息是一项有价值的功能。您应该考虑到这一点来设计您的报告。

# jsf-2 - 将高级面板（Primefaces 3.0）默认设置为最小化状态

> ID：11466313
> 
> 赞同：1
> 
> 时间：2012-07-13T07:51:00.273
> 
> 标签：jsf-2, primefaces

我以这种方式使用 primefaces 2 Advanced 面板。

```
 <html>
    <h:body>
    <h:form>

    <p:panel header="Panel 1" toggleable="true"  widgetVar="panel1">  
            <h:panelGrid columns="2">  

               <h:outputText value="Type: *" />  
                          <h:outputText />  
               </h:panelGrid>  
        </p:panel>

        <p:panel header="Panel 2" toggleable="true"  widgetVar="panel2">  
            <h:panelGrid columns="2">  

               <h:outputText value="Type: *" />  
                          <h:outputText />  
               </h:panelGrid>  
        </p:panel>

    </h:form>
    </h:body>
    </html> 
```

我想将默认面板设置为隐藏状态，我也尝试过这里所说 [的在 JSF Primefaces 中隐藏手风琴面板的第一个选项卡](https://stackoverflow.com/questions/10189246/hiding-the-first-tab-of-accordion-panel-in-jsf-primefaces) 但没有工作，我想将面板 1 默认设置为打开，将面板 2 设置为隐藏。

怎么能这样做？任何建议....

# c# - 当前用户杀死进程

> ID：11466319
> 
> 赞同：0
> 
> 时间：2012-07-13T07:51:40.070
> 
> 标签：c#

> **可能重复：**
> [如何在 .NET (C#) 中终止特定用户的进程？](https://stackoverflow.com/questions/426573/how-do-you-kill-a-process-for-a-particular-user-in-net-c)

在我的更新程序应用程序中，我需要在更新之前杀死主程序。

我使用代码来终止更新程序应用程序中的进程，但它会终止具有该名称的所有进程，因此它会终止同一台机器上其他用户的进程。有没有办法只为当前用户杀死进程？

到目前为止，这是我的代码：

```
 foreach (System.Diagnostics.Process myProc in System.Diagnostics.Process.GetProcesses())
        {
            if (myProc.ProcessName == "ProgramName")
            {
                myProc.Kill();
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T09:24:00.347

如果您不介意 WMI，您可以使用 Windows Management Instrumentation (WMI) 来满足您的要求

例子：

```
 System.Management.ManagementObjectSearcher Processes = new System.Management.ManagementObjectSearcher("SELECT * FROM Win32_Process Where Name ='notepad.exe' ");

    string user = "JohnDoe";
    foreach (System.Management.ManagementObject process in Processes.Get())
    {
        if (process["ExecutablePath"] != null)
        {
            string[] OwnerInfo = new string[2];
            process.InvokeMethod("GetOwner", (object[])OwnerInfo);

            if (OwnerInfo[0] == user)
            {
                process.Delete();
            }
        }
    } 
```

# openerp - openerp的google mail小工具的实现

> ID：11466322
> 
> 赞同：1
> 
> 时间：2012-07-13T07:51:48.330
> 
> 标签：openerp, google-gadget

我一直在为 openerp 使用雷鸟插件。

由于我使用的是谷歌邮件，我想知道是否有任何使用 gmail 小工具或谷歌上下文小工具的实现。

我试图寻找，但找不到任何东西。

任何指针/建议。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:53:58.097

这确实是一个不错的功能，但是对于 Google Gadget API，我们遇到的问题是我们无法进行清晰调用的 XML-RPC，而且它们没有 Google Gadget API 支持的成熟 API，因此目前它们没有可用于 OE 的 Google Gadget API。但是我们有可用的 XML-RPC 请求工具，您可以使用它，因为开发同样如此简单。项目由 OF 启动，但由于 API 限制而被放弃。

问候。

# java - 使用 jayspt 和 hibernate 查询数据

> ID：11466325
> 
> 赞同：0
> 
> 时间：2012-07-13T07:52:01.603
> 
> 标签：java, hibernate, persistence, jasypt

嘿，伙计们，我正在使用 Hibernate 将用户模型存储在数据库中，并且发现您可以串联使用 jayspt 将用户名和密码的加密从业务逻辑中抽象出来。这是一个描述我的意思的[链接。](http://www.jasypt.org/hibernate.html)这是来自休眠站点的另一个[链接。](https://community.jboss.org/wiki/SecurityTransparentEncryptionOfPersistedDatawithJasyptUserTypes)现在我可以很好地存储数据了。它是加密的。我可以阅读它，很酷，但是当我尝试查询时会出现问题。我也不确定发生了什么。我首先尝试使用未加密的字符串进行查询。我有一个空指针。我用加密字符串查询。我有一个空指针，所以我对发生了什么感到有点困惑。这是查询：

```
public String getUserId(String email, String password)  {   
    String encryptedPass = encryptor.encrypt(password);
    String encryptedEMail = encryptor.encrypt(email);
    Session sess = manager.getSession();
    Criteria crit = sess.createCriteria(MobsterUser.class);
    crit.add(Restrictions.eq("email", encryptedEMail )).add(Restrictions.eq("password", encryptedPass));
    MobsterUser user = (MobsterUser) crit.uniqueResult();
    sess.flush();
    return user.getUserId();
} 
```

有人对这里可能发生的事情有任何意见吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T15:16:45.460

您不能查询加密数据。您不应该加密而是散列密码。你永远不应该通过密码查询。使用 Hibernate/Jasypt 集成，您无需关心源代码中的加密（没有“encryptor.encrypt”）。这就是它背后的主要思想。

# java - Java HTTP 响应仅包含标头

> ID：11466326
> 
> 赞同：1
> 
> 时间：2012-07-13T07:52:06.770
> 
> 标签：java, http, sockets, tcp

我正在通过 TCP 套接字发送 HTTP 请求，并且我将标头作为响应，尽管内容仅包含一个问号。那是关于什么的？

这是我的代码：

```
Socket sock = null;
OutputStream out = null;
InputStream in = null;

try {
    // open socket
    sock = new Socket(this.addr, this.port);

    // get output stream
    out = sock.getOutputStream();

    // create request
    StringBuffer request = new StringBuffer();
    request.append("GET " + this.uri + " HTTP/1.1").append(this.CRLF);
    request.append("Host: " + this.host).append(this.CRLF);
    request.append("Cache-Control: no-cache").append(this.CRLF);
    request.append("Connection: keep-alive").append(this.CRLF);
    request.append("User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57 Safari/536.11").append(this.CRLF);
    request.append("Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8").append(this.CRLF);
    request.append("Accept-Encoding: gzip,deflate,sdch").append(this.CRLF);
    request.append("Accept-Language: en-GB").append(this.CRLF);
    request.append("Accept-Language: ISO-8859-1,utf-8;q=0.7,*;q=0.3").append(this.CRLF);
    request.append("Pragma: no-cache").append(this.CRLF);
    request.append(this.CRLF);

    // write request per byte for the lulz
    for(int i = 0; i < request.length(); i++) {
        out.write(request.toString().getBytes()[i]);
        System.out.print((char) request.toString().getBytes()[i]);
    }

    out.flush();

    // open inputstream
    in = sock.getInputStream();

    int inbyte;

    // read response per byte for the lulz
    while((inbyte = in.read()) > 0) {
        System.out.print((char) inbyte);
    }

    // close out, in and socket
    out.close();
    in.close();
    sock.close();
} catch (IOException e) {
    e.printStackTrace();
} 
```

您可以看到我的请求标头，但这是实际输出：

```
GET / HTTP/1.1
Host: www.timseverien.nl
Cache-Control: no-cache
Connection: keep-alive
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57 Safari/536.11
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Encoding: gzip,deflate,sdch
Accept-Language: en-GB
Accept-Language: ISO-8859-1,utf-8;q=0.7,*;q=0.3
Pragma: no-cache 
```

最后，回应：

```
HTTP/1.1 200 OK
Date: Fri, 13 Jul 2012 07:47:25 GMT
Server: Apache/2
X-Pingback: http://www.timseverien.nl/xmlrpc.php
Vary: Accept-Encoding,User-Agent
Content-Encoding: gzip
Content-Length: 2758
Keep-Alive: timeout=1, max=100
Connection: Keep-Alive
Content-Type: text/html; charset=UTF-8

? 
```

**为什么我得到这个问号而不是源代码？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:05:38.797

`Content-Encoding: gzip`- 您的回复被压缩，无法可靠地打印到屏幕上。

从您的标题中删除`Accept-Encoding`，您应该会收到纯文本。

如果你想玩 http，从 http/1.0 开始。它更容易处理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:12:04.783

正如 Banthar 已经指出的那样，内容已被压缩，但内容长度为 2758 字节，但您只阅读了 1 个字节。

InputStream.read() 的 javadocs 说：

> 如果 b 的长度为零，则不读取任何字节并返回 0；否则，将尝试读取至少一个字节。如果由于流位于文件末尾而没有可用字节，则返回值 -1；否则，至少读取一个字节并将其存储到 b 中。

我认为您对 > 0 的测试是错误的。

```
while((inbyte = in.read()) > 0) { 
```

应该：

```
while((inbyte = in.read()) >= 0) { 
```

`in.read()`可能返回 0-255 范围内的值（包括一个字节的完整范围）。当没有更多数据可用时，`in.read()`将返回 -1。这就是为什么`in.read()`返回 a`int`而不是 a 的原因`byte`。

# iphone - 如何从其他应用程序打开foursquare iOS应用程序，预先填充搜索

> ID：11466328
> 
> 赞同：1
> 
> 时间：2012-07-13T07:52:12.497
> 
> 标签：iphone, ios, foursquare

我需要通过我的应用程序中的预填充搜索打开foursquare 应用程序。如何才能做到这一点？？

fsq 提供以下选项来链接特定视图。

`Show a venue foursquare://venues/VENUE_ID`

`Show a check-in foursquare://checkins/CHECKIN_ID`

`Show a tip foursquare://tips/TIP_ID`

`Show a user foursquare://users/USER_ID`

如果我想搜索纽约

有没有类似的东西`foursquare://explore/new+york`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T18:40:27.073

没有注册的foursquare深层链接来打开探索，但这是一个很好的建议，我们可能会添加一个（可能是foursquare://venues/explore）

# objective-c - CoreData+RestKit 保留本地实体

> ID：11466329
> 
> 赞同：0
> 
> 时间：2012-07-13T07:52:13.523
> 
> 标签：objective-c, core-data, synchronization, restkit

我正在编写一个使用 CoreData+RestKit 的 iOS 应用程序。我有一个问题，当我从服务器同步时，本地未同步的实体无效。我正在使用 RestKit 0.10.1

**场景：** 从服务器同步数据。在本地添加一个条目（这与服务器不同步）。从服务器同步数据。

**结果：** 本地实体被排除在对象图之外。（我仍然可以在数据库中看到它，只是没有连接）

**JSON**

```
{
  ThreadId: 322,
  ThreadMessages: 
  [    
    {
      Text: "Hello Joe",
      AuthorId: 635236,
      AuthorName: "Trudy",
      Timestamp: "2012-06-09T15:42:45.757",
      ThreadMessageId: 546,
      ThreadId: 322
    }
  ]
} 
```

**映射**

```
threadMessageMapping = [RKManagedObjectMapping mappingForClass:[ThreadMessage class] inManagedObjectStore:objectStore];
threadMessageMapping.primaryKeyAttribute = @"threadMessageId";    
[threadMessageMapping mapKeyPath:@"ThreadMessageId" toAttribute:@"threadMessageId"];
[threadMessageMapping mapKeyPath:@"ThreadId" toAttribute:@"threadId"];
[threadMessageMapping mapKeyPath:@"Text" toAttribute:@"text"];
[threadMessageMapping mapKeyPath:@"AuthorId" toAttribute:@"authorId"];
[threadMessageMapping mapKeyPath:@"AuthorName" toAttribute:@"authorName"];
[threadMessageMapping mapKeyPath:@"Timestamp" toAttribute:@"timestamp"];

threadMapping = [RKManagedObjectMapping mappingForClass:[Thread class] inManagedObjectStore:objectStore];
threadMapping.primaryKeyAttribute = @"threadId";
threadMapping mapKeyPath:@"ThreadId" toAttribute:@"threadId"];
[threadMapping mapKeyPath:@"ThreadMessages" toRelationship:@"threadMessages" withMapping:ThreadMessageMapping]; 
```

**详细信息：** 我可以在我的应用程序中使用上述映射。我还可以在本地插入一个可以正常工作的新 ThreadMessage（它的 threadMessageId 为 0）。当我从服务器同步并且 Restkit/CoreData 发现我的新项目时，就会出现问题。我不会留在我的对象图中。调查 sqlite db 我发现这是因为表中的`ZTHREAD`链接`ZTHREADMESSAGE`被取消了。

有没有办法让 RestKit 留下不是单独来自服务器的项目？

我也尝试使用 connectRelationship 来水合连接，但似乎使用我的 json 是不可行的

此行导致所有实体`ZTHREAD`中的列`ZTHREADMESSAGES`变为空白

```
[threadMapping connectRelationship:@"threadMessages" withObjectForPrimaryKeyAttribute:@"threadId"]; 
```

如果我映射反向关系，则该`ZTHREAD`列很好，但是在重新同步时，新的本地项目仍会从对象图中删除。

```
[threadMessageMapping mapKeyPath:@"ThreadMessageId" toAttribute:@"threadMessageId"];
[threadMessageMapping mapRelationship:@"thread" withMapping:threadMapping];
[threadMessageMapping connectRelationship:@"thread" withObjectForPrimaryKeyAttribute:@"threadMessageId"]; 
```

我一直无法弄清楚 RestKit 在哪里使我的新 ThreadMessage 无效。我认为它在某个地方，`RKObjectMappingOperation`但我看不出魔法发生在哪里。我只能看到 ThreadMessage.ThreadId 在第二次同步后被取消了。

# google-maps - Google Maps API V3 禁用平滑缩放

> ID：11466333
> 
> 赞同：5
> 
> 时间：2012-07-13T07:52:43.870
> 
> 标签：google-maps, google-maps-api-3, samsung-smart-tv

我正在为三星智能电视 2012 及其基本上是 HTML5 和 JavaScript 制作应用程序。Google Maps V3 运行良好，但只有一件事。似乎电视没有足够的处理能力，所以平滑的效果看起来很糟糕。最大的问题是平滑的 setZoom()。所以我的问题是：有没有一种方法或者一个参数可以禁用平滑缩放？或者可能禁用整个地图的所有平滑效果？谢谢！！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-13T08:25:34.540

是的，您可以禁用平滑缩放！但是有一些……变化。在 V2 中，您可以只执行“disableContinuousZoom()”并解决问题，但在这个新版本中，谷歌的人没有实现它。

这是第一种可能性（在我看来也是最糟糕的......）：

```
 * {
  -webkit-transition-property: none!important;
  transition-property: none!important;
  /* These doesn't affect anything, but, just in case. */
  -webkit-animation: none!important;
  animation: none!important;
} 
```

（此解决方案来自：[http ://code.google.com/p/gmaps-api-issues/issues/detail?id=3033&q=continuous%20zoom&colspec=ID%20Type%20Status%20Introduced%20Fixed%20Summary%20Stars% 20ApiType%20内部](http://code.google.com/p/gmaps-api-issues/issues/detail?id=3033&q=continuous%20zoom&colspec=ID%20Type%20Status%20Introduced%20Fixed%20Summary%20Stars%20ApiType%20Internal))

另一个解决方案，我认为最好的，是在 OpenLayers 中实现的：

```
/** 
 * APIMethod: setMapObjectCenter
 * Set the mapObject to the specified center and zoom
 * 
 * Parameters:
 * center - {Object} MapObject LonLat format
 * zoom - {int} MapObject zoom format
 */
setMapObjectCenter: function(center, zoom) {
    if (this.animationEnabled === false && zoom != this.mapObject.zoom) {
        var mapContainer = this.getMapContainer();
        google.maps.event.addListenerOnce(
            this.mapObject, 
            "idle", 
            function() {
                mapContainer.style.visibility = "";
            }
        );
        mapContainer.style.visibility = "hidden";
    }
    this.mapObject.setOptions({
        center: center,
        zoom: zoom
    });
}, 
```

这很奇怪，因为您使用带有样式的地图容器，但取决于您的情况，也许最好的解决方案是这个！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-08-20T21:40:32.823

虽然它不在[gmaps docs](https://developers.google.com/maps/documentation/javascript/reference#MapOptions)上，但这对我有用：

```
map = new google.maps.Map(el, {animatedZoom: false}); 
```

# java - java swing中的标题分隔符

> ID：11466337
> 
> 赞同：3
> 
> 时间：2012-07-13T07:53:05.647
> 
> 标签：java, swing, border, separator

我想在 java swing 应用程序中显示标题分隔符。就像是

> - - - -文本 - - - -

我发现一些提供此功能的第三方库：

*   [http://www.jidesoft.com/javadoc/com/jidesoft/swing/TitledSeparator.html](http://www.jidesoft.com/javadoc/com/jidesoft/swing/TitledSeparator.html)
*   [http://www.jaxfront.org/member/java-core-api/com/jgoodies/forms/builder/PanelBuilder.html](http://www.jaxfront.org/member/java-core-api/com/jgoodies/forms/builder/PanelBuilder.html)

但我对不使用任何第三方 api 的方式感兴趣。我们可以通过扩展 JSeparator 来做到这一点吗？我们还能怎么做呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T08:13:57.733

我认为您可以结合使用 MatteBorder 和 TitledBorder

```
MatteBorder mb = new MatteBorder(1, 0, 0, 0, Color.BLACK);
TitledBorder tb = new TitledBorder(mb, "Some Long Text", TitledBorder.CENTER, TitledBorder.DEFAULT_POSITION); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-13T07:58:09.467

使用 TitledBorder。像这样的例子：

```
import javax.swing.BorderFactory;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;
import javax.swing.border.TitledBorder;

public class TestBorder {

    protected void initUI() {
        JFrame frame = new JFrame(TestBorder.class.getSimpleName());
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        JPanel panel = new JPanel();
        TitledBorder titledBorder = BorderFactory.createTitledBorder("Some title");
        titledBorder.setTitleJustification(TitledBorder.CENTER);
        panel.setBorder(titledBorder);
        frame.add(panel);
        frame.setSize(400, 300);
        frame.setVisible(true);
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                new TestBorder().initUI();
            }
        });
    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-25T21:12:58.523

那是简单的小写字母。

```
import javax.swing.border.*; 
```

然后

```
BevelBorder bedge=new BevelBorder(BevelBorder.RAISED);
lbl.setBorder(bedge); 
```

-----------------下一个边框类型

```
import javax.swing.border.*; 
```

然后

```
TitledBorder tedge=new TitledBorder(TitledBorder.CENTER);
lbl.setBorder(tedge); 
```

# android - 如何检查Android中是否设置了密码或屏幕锁定？

> ID：11466338
> 
> 赞同：0
> 
> 时间：2012-07-13T07:53:08.207
> 
> 标签：android

嗨，朋友，我是 Android 新手

> 如何检查 Android 中是否设置了密码或屏幕锁定。

是否有任何公共 API 可以解决这个问题。我当前的应用程序存储了一些安全数据，因此了解应用程序的业务逻辑很重要。请给我一些建议。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T10:20:27.453

你可以尝试这样的事情：

```
int patternsetting = android.provider.Settings.System.getInt(getContentResolver(), android.provider.Settings.System.LOCK_PATTERN_ENABLED); 
```

0 表示没有模式，1 表示有模式。

> [http://developer.android.com/reference/android/provider/Settings.Secure.html#LOCK_PATTERN_ENABLED](http://developer.android.com/reference/android/provider/Settings.Secure.html#LOCK_PATTERN_ENABLED)

# javascript - 简洁地表达复杂的正则表达式

> ID：11466341
> 
> 赞同：3
> 
> 时间：2012-01-28T05:24:46.083
> 
> 标签：javascript, regex

有什么方法可以更简洁地编写这个简单的正则表达式吗？（这里我使用单独的行来提高可读性，即使我通常不会使用它们）

```
(
(regex (matches|corresponds to) string)
|
(string (matches|corresponds to) regex)
) 
```

“字符串”和“正则表达式”在这里互换，我想简明扼要地表达一下。我想避免多次写入（匹配|对应）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:37:48.813

我唯一能想到的是动态创建它而不是使用文字：

```
function or(){return "("+Array.prototype.join.call(arguments,"|")+")";}
var bidi = ["matches", or("regex", "string"), "corresponds to"];
return new RegExp(or(bidi.join(" "), bidi.reverse().join(" "))); 
```

# c# - 将数组与 TextBox 进行比较以检查数据库中的重复值

> ID：11466348
> 
> 赞同：1
> 
> 时间：2012-07-13T07:53:39.703
> 
> 标签：c#, arrays, linq, combobox

如果用户正在创建数据库，我不知道如何调用该方法来检查数据库是否具有相同的站名。我设法将数据库的列存储到数组中，但我仍然无法检查。有人可以帮我吗？我现在有点卡住了。

这是按钮处理程序中的代码，用于将数据创建到数据库中。

```
 private void btnCreate_Click(object sender, EventArgs e)
    {
        using (testEntities Setupctx = new testEntities())
        {
            station creStation = new station();
            creStation.Station1 = txtStation.Text;
            creStation.Seats = cbSeats.SelectedItem.ToString();
                Setupctx.stations.AddObject(creStation);
                Setupctx.SaveChanges();
                txtStation.Text = "";
                cbSeats.SelectedIndex = -1;
                MessageBox.Show("New Station Has Been Created.");
        }
    } 
```

这是我将列存储到数组中的代码。

```
private string[] StationNameList()
    {
        using (testEntities Setupctx = new testEntities())
        {
            return Setupctx.stations.Select(x => x.Station1).OrderBy(x => x).ToArray();
        }
    } 
```

任何人都可以帮忙吗？对你的帮助表示感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T07:56:43.230

如果您想检查数据库中是否已经存在电台，那么在`btnCreate_Click`添加电台之前，您可以从您的方法中获取电台列表，`StationNameList`然后检查在文本框中输入的电台名称是否已经存在于列表中。你可以做

```
 private void btnCreate_Click(object sender, EventArgs e)
    {
        using (testEntities Setupctx = new testEntities())
        {
         string[] stations = StationNameList();

         if(stations.Contains(txtStation.Text))
              {
              //already exists
              }
         else
              {
              //does not exists
              //your code to insert the new object
              }
        }
   } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:22:36.337

试试这个

```
 private void btnCreate_Click(object sender, EventArgs e)
    {
        using (testEntities Setupctx = new testEntities())
        {
            station creStation = new station(){Station1=txtStation.Text,Name=NameTextbox.text,Seats = cbSeats.SelectedItem.ToString()};
            if (!Setupctx.Stations.Any(st => st.Name == creStation.Name))
            {
                Setupctx.stations.AddObject(creStation);
                Setupctx.SaveChanges();
                txtStation.Text = "";
                cbSeats.SelectedIndex = -1;
                MessageBox.Show("New Station Has Been Created.");
            }
        }
    } 
```

我希望这会有所帮助，并且我希望您在 Station 类中有 Name 属性并绑定到 UI 中的某个文本框。

# mysql - 重新创建/重置根 MySQL 用户/密码

> ID：11466349
> 
> 赞同：0
> 
> 时间：2012-07-13T07:53:49.603
> 
> 标签：mysql, phpmyadmin, windows-server-2008, root, mysql-5.1

我们最近被解雇的一名员工最近开始大肆破坏，因为我们忘记了他对我们所有的 MySQL 数据库都有 root 访问权限，所以他现在已经将它们消灭了。MySQL指南或网上各种文章中的任何说明都无法重置密码，所以我认为他可能删除了root帐户。

我已经尝试了大约 15 种 mysql-init.txt 变体，包括 mysqld、--skip-grant-tables & 以及其他各种不起作用的废话。

谁能告诉我如何擦除当前的 root 帐户（如果它仍然存在）并使用新密码重新创建它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:07:04.117

如果您的数据库已经消失，为什么不直接卸载 MySQL 并进行全新安装。

如果您运行这些命令，我​​假设您有权这样做。

此外，您必须在执行命令之前停止 MySQL `mysqld_safe --skip-grant-tables &`

# asp.net - 如何在后面的代码中获得确认和表单提交或中止..这里我使用了下面的代码

> ID：11466356
> 
> 赞同：0
> 
> 时间：2012-07-13T07:54:28.540
> 
> 标签：asp.net

if (chk > 0) { ClientScript.RegisterStartupScript(GetType(), "hwa", Confirm('Want to Save?');", true);

**// 我希望这条线以下的部分受到确认确定或取消的限制..**

string qry = "插入用户IP值('" + TextBox2.Text + "'," + ddluid.Text + ")"; SqlCommand insert = new SqlCommand(qry, con); con.Open(); insert.ExecuteNonQuery(); con.Close(); TabContainer1.ActiveTabIndex = 1; }

// //如果是/确定单击段运行其他...返回表单返回。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:14:46.173

看看这里[http://forums.asp.net/t/963412.aspx](http://forums.asp.net/t/963412.aspx) asp:Button Validation with OnClientClick

# django - 在 django 中将数据从“多对多”迁移到“多对多通过”

> ID：11466358
> 
> 赞同：21
> 
> 时间：2012-07-13T07:54:36.060
> 
> 标签：django, django-models, django-south

我有一个模型

```
class Category(models.Model):
    title           = models.CharField(...)
    entry           = models.ManyToManyField(Entry,null=True,blank=True,
                                             related_name='category_entries',
                                             ) 
```

我希望重构每个关系都有额外的数据：

```
class Category(models.Model):
    title           = models.CharField(...)
    entry           = models.ManyToManyField(Entry,null=True,blank=True,
                                             related_name='category_entries',
                                             through='CategoryEntry',
                                             ) 
```

但是南删除了现有的表。如何保留现有的 mtm 关系？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2015-06-18T11:14:54.187

在 Django 1.7+ 内置迁移中，“代码状态”（即模型的代码定义）的计算方式不同，需要不同的解决方案。

在 South（Django pre-1.7）中，整个“代码状态”保存在每个迁移中——但在 Django 1.7+ 内置迁移中，它是通过查看整个迁移集得出的，因此您需要指定“代码状态”状态”迁移中的更改而不更改数据库。

像上面一样，这需要通过几个步骤来完成。

1.  创建一个中间模型，如上面的答案：

    ```
    class CategoryEntry(models.Model):
        category = models.ForeignKey(Category, on_delete=models.CASCADE)
        entry = models.ForeignKey(Entry, on_delete=models.CASCADE)   

        class Meta:
             db_table = 'main_category_entries'   #change main_ to your application
             unique_together = ('category', 'entry') 
    ```

2.  `django-admin.py makemigrations`使用并修改代码创建自动迁移；将操作列表移动到操作的`state_operations`参数中[`migrations.SeparateDatabaseAndState`](https://docs.djangoproject.com/en/stable/ref/migration-operations/#separatedatabaseandstate)，并将`database_operations`列表留空。它应该看起来像：

    ```
    class Migration(migrations.Migration):
        operations = [
            migrations.SeparateDatabaseAndState(
                state_operations=[ 
                    migrations.CreateModel(CategoryEntry..)
                    ...
                ],
                database_operations=[]
            ),
        ] 
    ```

3.  编辑`CategoryEntry`以包含您想要的内容并创建一个新的自动迁移`django-admin.py makemigrations`

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-08-16T11:24:29.680

1.  现在创建没有任何额外字段的中间模型。给它一个唯一的约束来匹配现有的，并指定表名来匹配现有的：

    ```
    class CategoryEntry(models.Model):
        category = models.ForeignKey(Category)
        entry = models.ForeignKey(Entry)   

        class Meta:
            db_table='main_category_entries'   #change main_ to your application
            unique_together = (('category', 'entry')) 
    ```

2.  运行 South 模式迁移。

3.  编辑生成的模式迁移脚本并注释掉所有向前和向后的条目，因为您将重新使用现有的交集表。添加`pass`完成方法。

4.  运行迁移。

5.  更新任何现有代码。正如它在[https://docs.djangoproject.com/en/dev/topics/db/models/#many-to-many-relationships](https://docs.djangoproject.com/en/dev/topics/db/models/#many-to-many-relationships)中所说，“与普通的多对多字段不同，您不能使用添加，创建或分配以创建关系”，因此您需要修改任何现有的应用程序代码，例如

    ```
    c.entry.add(e) 
    ```

    可能变成：

    ```
    try:
        categoryentry = c.categoryentry_set.get(entry = e)
    except CategoryEntry.DoesNotExist:
        categoryentry = CategoryEntry(category=c, entry=e)
        categoryentry.save() 
    ```

    和：

    ```
    e.category_entries.add(c) 
    ```

    可能变成：

    ```
    categoryentry = CategoryEntry(category=c, entry=e)  #set extra fields here
    categoryentry.save() 
    ```

    和：

    ```
    c.entry.remove(e) 
    ```

    可能变成：

    ```
    categoryentry = c.categoryentry_set.get(entry = e)
    categoryentry.delete() 
    ```

6.  完成此初始伪迁移后，您应该能够将额外的字段添加到`CategoryEntry`并像往常一样创建进一步的迁移。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-12-12T13:35:43.143

我会通过以下方式做到这一点：

1.  将`CategoryEntry`类添加到模型中，并执行自动模式迁移。这将添加一个包含属性的空表`CategoryEntry`。需要注意的是，较旧的 M2M 表保持不变，因为`through='CategoryEntry'`尚未添加。

2.  执行数据迁移，将现有 M2M 表中的所有数据复制到步骤 1 中创建的表中。为此，请运行`datamigration`命令，并相应地在自动生成的迁移脚本中编辑方法`forward()`和方法。`backward()`

3.  现在添加`through='CategoryEntry'`部分（只是您想要的方式），并进行架构迁移。这将删除旧的 M2M 表。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2020-06-05T21:31:52.673

Django 文档将[这种确切的情况](https://docs.djangoproject.com/en/3.0/howto/writing-migrations/#changing-a-manytomanyfield-to-use-a-through-model)作为 migrations.SeparateDatabaseAndState 操作的应用程序。我完全按照文档所说的做了，但是 Django 一直抛出一个异常，说用于 M2M 映射的表不存在。

我通过中间模型的 Meta 类的“db_table”属性分配了一个表名，这导致了问题（不知道为什么）。然后我明白了，Django文档中示例所示的SQL代码是将Django分配给标准M2M关系表中的M2M关系表的名称更改为Django分配给所使用的中间模型对应的表的新名称。

```
 database_operations=[
            # Old table name from checking with sqlmigrate, new table
            # name from AuthorBook._meta.db_table.
            migrations.RunSQL(
                sql='ALTER TABLE core_book_authors RENAME TO core_authorbook',
                reverse_sql='ALTER TABLE core_authorbook RENAME TO core_book_authors',
            ),
        ], 
```

在此示例中，“core_book_authors”是旧名称，“core_authorbook”是 M2M 关系表的新名称。如果您在迁移中不包含此代码，您将无法向中间模型添加额外的字段（我认为这是拥有自定义 M2M 关系的主要原因），因为 Django 将查找新表名.

总结一下我使用“通过”将标准 M2M 关系更改为自定义关系所做的工作：

1.  创建没有额外字段（只有两个外键）的中间模型，并指定现在通过该模型建立 M2M 关系（使用“通过”）。
2.  运行命令`py manage.py makemigrations`。我将此自动生成的迁移更改为看起来像上面引用的文档中的迁移。
3.  运行命令`py manage.py migrate`。
4.  在中间模型中添加了我需要的所有额外字段。
5.  运行命令`py manage.py makemigrations`。
6.  运行命令`py manage.py migrate`。

以前表示标准 M2M 关系的表现在将具有不同的名称和所有新列。如果表中已有数据，则这些列具有默认值很重要。我发现这是在不丢失任何数据的情况下最直接的方法。

# ios - 如何正确使用 NSString sizeWithFont constratinedToSize 和 NIAttributedLabel

> ID：11466359
> 
> 赞同：0
> 
> 时间：2012-07-13T07:54:41.867
> 
> 标签：ios, nsstring, nsattributedstring, nimbus-ios

我已经在 SO 上回顾了每篇关于这种方法的帖子的感觉。很多海报的答案只是将一个非常大的值作为高度约束。

但是，对我来说，这是行不通的。这是我的代码：

```
//Create the contentLabel Label
    CGSize size = [contentText sizeWithFont:[UIFont fontWithName:@"Helvetica" size:14] constrainedToSize:CGSizeMake(286, 9999) lineBreakMode:UILineBreakModeWordWrap];

    //Create the content label with its position 7 pixels below the title 
    contentLabel = [[NIAttributedLabel alloc] initWithFrame:
                   CGRectMake(7, titleContainerView.frame.origin.y + 7, 286, size.height)];

    //Set the provided text and the font
    contentLabel.font = [UIFont fontWithName:@"Helvetica" size:14];
    contentLabel.numberOfLines = 0;
    contentLabel.lineBreakMode = UILineBreakModeWordWrap;
    contentLabel.text = contentText; 
```

~~我正在使用`NIAttributedLabel`，认为这不应该真正产生影响，因为返回我认为错误大小的方法是`NSString`.~~

~~我确实在Apple的文档中读到该方法有时会截断字符串，尽管我认为这就是大高度约束的用途~~

**编辑：** 我发现这是一个问题`NIAttributedLabel`，如果我使用常规的 UILabel 它可以完美地工作。这是两个源字符串和相应的屏幕截图，第一个展示了我的问题，另一个决定没问题：

`"Buying a Mobile\nHello - I'd like a Motorola Defy with a Smartphone 60 Plan.\nBroadband Problem\nMy Broadband’s out. I've tested the router and cables and ruled out my equipment. Is there a problem at your end?"`

![截图 1](../Images/15e57acb5cda6aafc4f4fe99719db18a.png)

`"Buying a Mobile\nI\'m Mrs Sina Manu-Harris. My account number is 156205169\. I\'m going overseas in 6 months time on the 2nd of September and I\'d like to get organized in advance and buy a new mobile phone.\nBroadband Problem\nGood afternoon. It’s Mrs Sina Manu-Harris here. My account number is 156205169\. My Broadband isn’t working. I’ve checked my network and phone cables and I've also checked my filters."`

![截图 2](../Images/6c2178ca1197bb06d23fc17c5aff26e9.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T16:03:58.630

NimbusKit 1.0 提供了一种计算 NIAttributedLabel 高度的新方法：NISizeOfAttributedStringConstrainedToSize()

我曾经使用 sizeWithFont: 并遇到与您相同的问题。现在新方法对我来说非常有效（我的属性标签中没有任何图像）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-22T19:51:36.513

请检查字符串@"T\nT\nT"，它只会打印@"T\nT\n"。似乎 _textFrame 只显示两条可见线而不是三条。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-22T18:23:11.183

您不能使用与 CoreText 相同的字形放置算法来依赖 NSString。在调整 NIAttributedLabel 大小时，建议您使用标签的`sizeToFit`和`sizeThatFits:`方法，因为它们使用 CoreText 来确定标签的理想大小。

# qt - QGridLayout 不会返回其所有子小部件

> ID：11466360
> 
> 赞同：2
> 
> 时间：2012-07-13T07:54:45.693
> 
> 标签：qt, pyqt, pyqt4, pyside

我有一个`QGridLayout`并且需要删除它的所有按钮然后重新创建它们。我尝试使用 after 循环遍历布局`count()`以`takeAt()`删除返回`LayoutItem`的小部件。然而，出于某种原因，我只得到了一半的小部件：其他`LayoutItem`的没有小部件。正如我所看到的，这很奇怪。

这是我当前的简化代码。

```
import sys
from PySide.QtGui import *
from PySide.QtCore import *

class GridView(QWidget):

    def __init__(self, parent=None):
        super(GridView, self).__init__(parent)
        self.grid = QGridLayout(self)

    def setButtons(self):

        self.clearPage()
        for i in xrange(10):
            btn = QPushButton(str(i))
            self.grid.addWidget(btn, i / 2, i % 2)

    def clearPage(self):
        for i in xrange(self.grid.count()):
            print i
            layoutItem = self.grid.takeAt(i)
                # the following errors out after the fifth iteration as layoutItem.widget() returns None
            print layoutItem.widget()
            layoutItem.widget().deleteLater()

app = QApplication(sys.argv)
mainWindow = QWidget()
layout = QVBoxLayout()
mainWindow.setLayout(layout)
btn = QPushButton('test')
v = GridView()
btn.clicked.connect(v.setButtons)

layout.addWidget(v)
layout.addWidget(btn)
mainWindow.show()
sys.exit(app.exec_()) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T08:03:57.340

尝试使用

```
self.grid.takeAt( 0 ) 
```

代替：

```
self.grid.takeAt(i) 
```

在您的代码中，您在第一次迭代中采取At(0)。这在内部使旧的#1 成为新的#0，旧的#2 成为新的#1，依此类推。

然后在您的下一次迭代中，您采用At(1)，这实际上是旧的#2。这样旧的#1（现在是#0）就不会被删除。

# java - JDBC 4 是否完全兼容 JDBC 3？

> ID：11466367
> 
> 赞同：4
> 
> 时间：2012-07-13T07:55:13.317
> 
> 标签：java, jdbc, db2, websphere

程序员 A 使用 JDBC 3 (db2jcc.jar) 编写了一个应用程序并部署在 WebSphere App Server 上。

是否可以将 JDBC 连接更改为使用 JDBC 4 (db2jcc4.jar) 而不是 JDBC 3？

JDBC 4 是否完全兼容 JDBC 3？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T09:15:59.723

JDBC 4 应该与 JDBC 3 向后兼容，并且您更换驱动程序应该没有问题。

引用[JDBC 4.0 规范](http://jcp.org/aboutJava/communityprocess/final/jsr221/index.html)2.2 目标概述部分，JDBC 4.0 的目标之一是

> 8) 保持与现有应用程序和驱动程序的向后兼容性现有的支持 JDBC 技术的驱动程序（JDBC 驱动程序）和使用它们的应用程序必须继续在支持 JDBC 4.0 API 的 Java 虚拟机的实现中工作。仅使用 JDBC API 早期版本中定义的功能的应用程序不需要更改即可继续运行。现有应用程序迁移到 JDBC 4.0 技术应该很简单。

# java - NSHTTPURLResponse 无法识别自定义 http 响应代码

> ID：11466370
> 
> 赞同：0
> 
> 时间：2012-07-13T07:55:26.127
> 
> 标签：java, objective-c, ios, spring, ios5

我们有一个使用 Java Spring 实现的 restful 服务层，它有以下语句来通知客户端有一些错误

```
 response.setStatus(1024); 
```

尝试从浏览器访问 url 显示后端返回 1024 作为状态

在 iPhone 应用程序中，我们使用 NSURLConnection 从服务器异步下载一些信息。下面是 didReceiveResponse 的代码

```
- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response
    {
      NSHTTPURLResponse* httpResponse = (NSHTTPURLResponse*)response;
      responseStatusCode = [httpResponse statusCode];
      NSLog(@"responseStatusCode ==%i",responseStatusCode);
      [self.responseData setLength:0];
    } 
```

上面的代码总是为 responseStatusCode 返回 500。我不确定到底发生了什么。有人可以对这个问题有所了解吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T21:33:55.337

好吧，NSHTTPURLResponse 将接受任何状态码。（我使用自定义状态码，它工作得很好。（430 到 440）你的状态码应该在 1xx-9xx 范围之外。如果你的 NSLog 输出 500，那是你的服务器抛出 500。

# android - 通过代码添加谷歌帐户

> ID：11466377
> 
> 赞同：3
> 
> 时间：2012-07-13T07:56:18.383
> 
> 标签：android, add, account

如何通过代码添加谷歌帐户？

我只需要添加一个现有帐户，而不是创建一个新帐户。交互过程类似于设置>帐户>添加帐户

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:07:36.453

您必须制定您的用户界面，但添加现有帐户的最简单代码将是这样的：

```
AccountMager mgr = (AccountManager)getSystemService(ACCOUNT_SERVICE);
Account acc = new Account("user@domain.com", "com.google"));
if(mgr.addAccountExplicitly(acc, "password", new Bundle())) {
    //account added successfully
    //do whatever is needed;
}
else {
    //something did not work
} 
```

您将需要`AUTHENTICATE_ACCOUNTS`许可。如果您通过`null`代替密码，则将添加没有密码的帐户，并且在下次重新同步时将提示用户输入密码。

如果您需要对过程进行更多控制，则可以使用方法

```
public AccountManagerFuture<Bundle> addAccount (String accountType,
                                                String authTokenType,
                                                String[] requiredFeatures,
                                                Bundle addAccountOptions,
                                                Activity activity,
                                                AccountManagerCallback<Bundle> callback,
                                                Handler handler) 
```

在课堂`AccountManager`上。查看[`AccountManager`类文档](http://developer.android.com/reference/android/accounts/AccountManager.html)以获取更多详细信息。

# java - 符合 JAX WS 2.0/2.1 是什么意思？

> ID：11466378
> 
> 赞同：1
> 
> 时间：2012-07-13T07:56:26.347
> 
> 标签：java, web-services, soap, jax-ws

我将连接到一个具有 WSDL 的 Web 服务，据说该服务符合 JAX WS 2.0/2.1。这是什么意思？它会对我连接到 Web 服务的方式有任何影响吗？我需要采取哪些特定措施才能成功连接到 JAX WS 2.0/2.1 Web 服务？我正在使用 JDK 1.5，它说 JAX WS 仅在 JDK 1.6 上可用。目前，我正计划手动构建肥皂信封并将其作为正文传递给 HttpURLConnection。我做错了吗？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:03:33.780

您连接 Web 服务的方式不会有任何主要区别，因为您只是向 Web 服务发出请求。这种合规性更多地与 Web 服务的实施者有关。

如果您想检查为什么需要 JDK 1.6 来支持 Jax WS 2.0： [JAX-RPC 演变成更简单、更强大的 JAX-WS 2.0](http://www.devx.com/Java/Article/30459/1954)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:04:34.947

符合 JAX-WS 2.0/2.1 只是意味着 jax ws 可以从 wsdl 生成有效的 pojo 模型，如果您打算自己处理低级别的肥皂消息生成，那么您没有使用 JAX-WS 模型

# objective-c - 我的 NSFontDescriptor 没有效果；这是怎么回事？

> ID：11466379
> 
> 赞同：2
> 
> 时间：2012-07-13T07:56:32.270
> 
> 标签：objective-c, macos, cocoa, nsfont

好吧，我正在尝试在 上使用斜体和衬线`NSAttributedString`，但由于某种原因，字体特征绝对没有效果。我认为我正确地使用了它们（`NSFontDescriptor`在我看来，参考文献写得不是特别好，所以我不确定）。

```
 NSMutableAttributedString *pellString = [[NSMutableAttributedString alloc]
                  initWithString:@"x2 – Dy2 = N"];
    NSFontSymbolicTraits varMask = NSFontModernSerifsClass | NSFontItalicTrait;
    NSDictionary *varSymbolic = [NSDictionary dictionaryWithObject:
                                 [NSNumber numberWithUnsignedInteger:varMask] 
                                                            forKey:NSFontSymbolicTrait];
    NSDictionary *varAttrs = [NSDictionary dictionaryWithObject:varSymbolic
                                                         forKey:NSFontTraitsAttribute];
    NSFontDescriptor *varDesc = [NSFontDescriptor fontDescriptorWithFontAttributes:varAttrs];
    NSFont *variables = [NSFont fontWithDescriptor:varDesc
                                              size:24];
    [pellString addAttribute:NSFontAttributeName value:variables range:NSMakeRange(0, 12)]; 
```

当我 NSLog对象时`variables`，`NSFont`我得到以下信息：

```
"LucidaGrande 24.00 pt. P [] (0x7f9f43e18970) fobj=0x7f9f43e18b40, spc=7.59" 
```

换句话说，`NSFont`没有像我要求的那样创建衬线字体，也没有创建斜体字体（我也独立尝试了它们中的每一个，没有另一个）。记录`NSFontDescriptor`我放在那里的产生的键值对，所以问题必须出在`NSFont`创建对象的步骤上。我的猜测是这些是只读属性，我不能设置它们，只能读取它们。我读对了吗？

如果是这样，指定通用衬线字体的首选方法是什么？还是我必须选择一个特定的字体并处理可能无法访问该字体的用户？

# java - 填充以获取数字中的特定位数

> ID：11466380
> 
> 赞同：12
> 
> 时间：2012-07-13T07:56:35.657
> 
> 标签：java, grails, groovy

```
String val = "98" 
```

我需要将输出设为`0000098`（7 位）。

我需要将零填充到字符串或整数值...

val 中存储的数字是动态的，可以包含任意位数，但输出应始终为 7 位。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-07-13T08:25:08.020

在 groovy 中，您可以像这样填充字符串：

```
val.padLeft( 7, '0' ) 
```

这将用零填充字符串的左侧，直到长度为 7 个字符

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-07-13T08:02:40.740

使用[`String.format`](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#format%28java.util.Locale,%20java.lang.String,%20java.lang.Object...%29)：

```
public class A {
  public static void main(String[] args) {
    System.out.println(String.format("%07d", 98)); // -> 0000098
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:07:15.140

您可以通过以下方式使用 NumberFormat 格式化您的 String 值：

```
NumberFormat formatter = new DecimalFormat("0000000"); 
```

这意味着您的 String 将根据需要以 0 完成。

然后，要格式化您的字符串，您可以执行以下操作：

```
String formatRes = formatter.format(new Double(val)); 
```

因为“格式”方法需要一个双精度参数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T08:00:56.687

看看[http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html](http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html)它提供了类似的功能`leftpad`，`rightpad`...

# c# - 更改数据网格中的类型列

> ID：11466381
> 
> 赞同：0
> 
> 时间：2012-07-13T07:56:36.217
> 
> 标签：c#, .net, wpf, wpfdatagrid

```
MySqlCommand cmd = new MySqlCommand(query, conn);
dt.Load(cmd.ExecuteReader());
source.DataSource = dt;
dataGrid1.ItemsSource = source; 
```

`DateTime`在我的数据网格中，我想用to更改列类型，`String`我该怎么做？

* * *

来源是

```
System.Windows.Forms.BindingSource source = new System.Windows.Forms.BindingSource(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:25:43.040

您可以像这样定义`DataTemplate`值`DateTime`-

```
<DataGrid> 
    <DataGrid.Resources> 
        <DataTemplate DataType="{x:Type DateTime}"> 
            <TextBlock Text="{Binding StringFormat={0:d}}"  /> 
        </DataTemplate> 
    </DataGrid.Resources> 
    ... 
</DataGrid> 
```

参考 -[需要在动态构建的 WPF DataGrid 中格式化日期](https://stackoverflow.com/questions/848702/need-to-format-dates-in-dynamically-built-wpf-datagrid/849037#849037)

# ios - 表视图 iOS 中的 JSON 数据

> ID：11466387
> 
> 赞同：0
> 
> 时间：2012-07-13T07:57:02.923
> 
> 标签：ios, xcode, json, tableview

我必须在 iPhone 应用程序的标签栏控制器中添加一个标签，其中包含显示 JSON 数据的表格视图。

我的问题是现在我看到表格视图但没有数据。这是我的代码：

.h 文件

```
#import <UIKit/UIKit.h>

@interface FourthViewController : UIViewController <UITableViewDataSource, UITableViewDelegate>

    @property (strong, nonatomic) IBOutlet UITableView *myTableView;
    @property (nonatomic, strong) NSArray *tweets;

@end 
```

.m 文件

```
#import "FourthViewController.h"

@interface FourthViewController ()

@end

@implementation FourthViewController

@synthesize myTableView;
@synthesize tweets;

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Issue load request after the view has been loaded.
    [self issueLoadRequest];
}

- (void)viewDidUnload
{
    [self setMyTableView:nil];
    [super viewDidUnload];
}

- (void)issueLoadRequest
{
    // Dispatch this block asynchronosly. The block gets JSON data from the specified URL and performs the proper selector when done.
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
        NSData* data = [NSData dataWithContentsOfURL:[NSURL URLWithString:@"https://api.twitter.com/1/statuses/user_timeline.json?screen_name=jmenter&count=10"]];
        [self performSelectorOnMainThread:@selector(receiveData:) withObject:data waitUntilDone:YES];
    });
}

- (void)receiveData:(NSData *)data {
    // When we have the data, we serialize it into native cocoa objects. (The outermost element from twitter is
    // going to be an array. I JUST KNOW THIS. Reload the tableview once we have the data.
    self.tweets = [NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:nil];
    [self.myTableView reloadData];
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return self.tweets.count;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    UITableViewCell *cell = [[UITableViewCell alloc] init];
    // The element in the array is going to be a dictionary. I JUST KNOW THIS. The key for the tweet is "text".
    NSDictionary *tweet = [self.tweets objectAtIndex:indexPath.row];
    cell.textLabel.text = [tweet objectForKey:@"text"];
    cell.textLabel.font = [UIFont boldSystemFontOfSize:11];
    cell.textLabel.numberOfLines = 3;
    return cell;
}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    // Spit out some pretty JSON for the tweet that was tapped. Neato.
    NSString *formattedJSON = [[NSString alloc] initWithData:[NSJSONSerialization dataWithJSONObject:[self.tweets objectAtIndex:indexPath.row] options:NSJSONWritingPrettyPrinted error:nil] encoding:NSUTF8StringEncoding];
    NSLog(@"tweet:\n%@", formattedJSON);
}

@end 
```

我在这里使用了这个 tut：http: [//jeffmenter.wordpress.com/2012/05/30/json-ios-5-go/](http://jeffmenter.wordpress.com/2012/05/30/json-ios-5-go/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-04-23T04:13:37.043

检查tweet中的objectforkey“text”是否为字符串，如果不是则使用[NSString Stringwithformat:@"%@",[tweet objectForKey:@"text"]];

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:17:04.950

按照目前的定义，tweet 是一个 NSArray。您不应该使用`objectForKey`但使用来访问其成员`objectAtIndex:indexPath.row`。（在`cellForRowAtIndexPath`）

根据您收到的数据，您可能会为推文选择 NSDictionara。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-06-13T04:51:37.170

您应该在表格视图之外的对象中获取 JSON 数据，而不是将其提取到表格视图`cellForRowAtIndexPath`方法中，不要直接提取它。因为下载数据需要一些时间，而且连接不良也是一个问题。因此，如果没有下载数据，表格视图将不会显示任何内容。因此，最好下载它并通过添加断点来检查数据是否存在，而不是尝试获取它。

# c# - 如何从其中一个事件中引用控件？

> ID：11466390
> 
> 赞同：0
> 
> 时间：2012-07-13T07:57:44.217
> 
> 标签：c#, winforms

是否有更简单的方法来获取“panelDown”对象，以便在所有控件中使用相同的代码？

```
    私人无效panelDown_MouseHover（对象发送者，EventArgs e）
    {
        **panelDown**.BorderStyle = BorderStyle.FixedSingle;
    }

```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-13T08:02:14.130

而不`as`是以尼科建议的方式使用，我会投：

```
private void panelDown_MouseHover(object sender, EventArgs e)
{
    var panel = (Panel) sender;
    panel.BorderStyle = BorderStyle.FixedSingle;
} 
```

当您*无条件*转换时，最好使用强制转换，就好像您输入了错误的类型一样，抛出的异常 ( `ClassCastException`) 比使用错误输入`NullReferenceException`的结果时获得 a 更清晰。`as`

（当然，您不必*在*这里使用两个语句 - 我只是觉得它更清楚。）

当输入是不同类型*有效*时使用`as`，如果它是正确的类型，您将*有条件*地采取行动。

 **如果您手动连接事件处理程序，您可以使用 lambda 表达式捕获相关变量，当然：

```
foo.MouseHover += (sender, args) => foo.BorderStyle = BorderStyle.FixedSingle; 
```

或者：

```
foo.MouseHover += delegate { foo.BorderStyle = BorderStyle.FixedSingle }; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T07:59:39.647

```
private void panelDown_MouseHover(object sender, EventArgs e)
{
    (sender as Panel).BorderStyle = BorderStyle.FixedSingle;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T08:01:29.203

投射`sender`到您的控制（可能是面板）。

```
((Panel) sender).BorderStyle = BorderStyle.FixedSingle; 
```**

# android - 将星形样式应用于Android中的复选框

> ID：11466391
> 
> 赞同：5
> 
> 时间：2012-07-13T07:58:00.827
> 
> 标签：android, checkbox, android-widget, styles, android-xml

```
style="?android:attr/starStyle" 
```

将此代码应用于复选框属性后，我无法查看该复选框。代码有错误吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-13T08:13:00.353

发布您的完整 xml 文件。它对我有用：

```
<CheckBox
    android:id="@+id/checkBox1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    style="?android:attr/starStyle"
    android:text="CheckBox" 
/> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-13T08:14:15.923

检查下面的代码它可能会帮助你......

在您的布局文件中，您的复选框...

```
<CheckBox
        android:id="@+id/Check"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="20dp"
        android:layout_marginLeft="5dp"
        android:text="  Not connected "
        android:textSize="14sp"
        android:textStyle="bold"
        android:textColor="#ccc"
        android:clickable="true"
        android:focusable="true" 
        android:button="@drawable/check"/> 
```

在 R/drawable/check.xml - 在此处使用您的星形图像而不是我的图像。

```
<?xml version="1.0" encoding="UTF-8"?>

<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item 
        android:state_checked="true" 
        android:state_window_focused="true"
        android:state_enabled="true"
        android:drawable="@drawable/check_on" />

    <item 
        android:state_checked="false" 
        android:state_window_focused="true"
        android:state_enabled="true"
        android:drawable="@drawable/check_off" />
</selector> 
```

# .net - 在 XmlSchemaValidationException 上触发 ValidationEventHandler 时数据库回滚

> ID：11466392
> 
> 赞同：0
> 
> 时间：2012-07-13T07:58:03.547
> 
> 标签：.net, exception-handling, event-handling, using

我有一个`.xml`文档，我正在解析并在事务中插入到数据库中。如果发现验证错误，我想回滚任何更改。因为文档可能很大，所以我使用`XmlReaderSettings`, 和`ValidationEventHandler`.

这是片段。我实例化`XmlReaderSettings`并附加一个`ValidationEventHandler`.

```
settings.ValidationEventHandler += new System.Xml.Schema.ValidationEventHandler(ValidationEventHandler);

private void ValidationEventHandler(object sender, ValidationEventArgs e)
{
    if (e.Severity == XmlSeverityType.Error)
    {
        throw new XmlSchemaValidationException();
    }
} 
```

然后我尝试捕获并回滚任何异常。

```
using (OracleConnection conn = new OracleConnection(connectionString))
{
    conn.Open();
    using (OracleCommand command = conn.CreateCommand())
    {
        using (OracleTransaction trans = oracleConnection.BeginTransaction(IsolationLevel.ReadCommitted))
        {
            try
            {    
                conn.Transaction = trans;
                using (XmlReader xmlReader = XmlReader.Create(stream, settings))
                {
                    // parsing
                }
             }
             catch (Exception ex)
             {
                trans.Rollback();
             }
         }
    }
} 
```

我期待：

*   即使发生异常，连接、事务、命令和 xmlreader 都会被正确处理
*   事务将在任何异常时回滚（如果连接设法打开）

我错了吗？如果我是，我该如何修复代码？

# c# - 是否可以从 asp.net 的 radioButton 列表中禁用一个 listItem

> ID：11466393
> 
> 赞同：6
> 
> 时间：2012-07-13T07:58:04.567
> 
> 标签：c#, javascript, jquery, asp.net

我想**禁用****RadioButtonList**中的一个 listItem取决于条件，如果`querystring contain true`它会同时显示 ListItem 或者它禁用第二个 listItem 即（外部）。所以用户无法访问第二个列表项

我有像这样的网址

`abc.com/Account.aspx?type=true`

`abc.com/Account.aspx?type=false`

页面上的代码 Account.aspx

```
 <asp:RadioButtonList ID="rdodomiantype" runat="server" RepeatDirection="Horizontal" onclick="setTextbox()">
            <asp:ListItem Selected="True" Value="0" >Default</asp:ListItem>
            <asp:ListItem Value="1" >External</asp:ListItem>
    </asp:RadioButtonList> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-01-22T14:22:20.850

我不想从列表中删除该项目，我想像原始海报要求的那样禁用它。因此，这是我能够使用的代码（编辑 - 转换为 C# 并根据原始帖子检查查询字符串参数：

```
if (!string.IsNullOrEmpty(Request.QueryString["type"]) && Request.QueryString["type"].ToUpper() == "TRUE")
            {
                foreach (ListItem item in rdoList.Items)
                {
                    if (item.Text == "External")
                    {
                        item.Enabled = false;
                        item.Attributes.Add("style", "color:#999;");
                        break;
                    }
                }
            } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-29T11:29:13.800

在这里，我是如何在 HariHaran 的帮助下解决的

```
 protected void Page_Load(object sender, EventArgs e)
 {
   string planType=Request.QueryString["type"];
   if (planType == "False")
    {
      rdodomiantype.Items.Remove(rdodomiantype.Items.FindByValue("1"));
    }
 } 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-13T09:35:03.320

是否有必要禁用一个列表项？我的建议是根据查询字符串值可以绑定下拉。即，如果查询字符串值为真，那么您将下拉列表与两个列表项值绑定；

或者，如果查询字符串值为 false，您可以仅将下拉列表与第一个列表项绑定。

# google-chrome-extension - 将图像重新托管到本地服务器 - chrome 扩展

> ID：11466395
> 
> 赞同：0
> 
> 时间：2012-07-13T07:58:06.967
> 
> 标签：google-chrome-extension

当用户单击右键单击时出现的菜单时，可以将图像重新托管到本地服务器（例如，我使用 mysql 数据库和 wamp 服务器）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-30T02:17:01.847

我通过创建自己的将图像转换为 BLOB 的 upload.php 解决了我的问题。

对不起，我无法解释细节，我英语不流利。:D

# ios5 - 通过 iphone 运行时，MFMessageComposeViewController init 使应用程序崩溃

> ID：11466399
> 
> 赞同：0
> 
> 时间：2012-07-13T07:58:26.873
> 
> 标签：ios5, mfmessagecomposeview

以下代码：

```
-(void)sendSMS
{
    NSUserDefaults *standardUserDefaults = [NSUserDefaults standardUserDefaults];
    if ([MFMessageComposeViewController canSendText])
    { 
        self.msgController = [[MFMessageComposeViewController alloc]init];
        self.msgController.messageComposeDelegate = self;
        self.msgController.body = [standardUserDefaults objectForKey:@"geoAlarmDistressFlareMsgText"];
        self.msgController.recipients = [standardUserDefaults objectForKey:@"geoAlarmDistressFlareTelNumbers"];
        [self presentModalViewController:self.msgController animated:YES];
    }
} 
```

...在 [[MFMessageComposeViewController alloc]init]; 在我的 iphone 上运行时导致应用程序崩溃；符合以下错误：

***由于未捕获的异常“NSInvalidArgumentException”而终止应用程序，原因：“-[__NSCFString count]：无法识别的选择器已发送到实例

我不明白为什么 - msgController 被声明（和合成）为 MFMessageComposeViewController，我已经声明了委托和委托方法。有任何想法吗？这里没有其他问题似乎在问同样的问题......

# java - 从简单但大数据（人口普查）创建许多表格和图表的策略

> ID：11466400
> 
> 赞同：3
> 
> 时间：2012-07-13T07:58:38.263
> 
> 标签：java, jdbc, statistics, business-intelligence

我们的任务是根据人口普查数据创建许多统计分析（大量数据但易于分析 - 主要是（子）数据总和）。分析将表示为表格和图表（在 web - 2 种语言 - 和 pdf 中）让我们假设存储数据的问题已解决（SQL，良好的结构）。Web 应用程序 (GWT) 和 Pdf (iText) 软件已基本完成。我们“只”必须更改数据后端。

什么是有效创建这些分析和表示（表格、图表）的好策略？我想到了两种不同的方式：

*   简单的java编程：jdbc或者jpa、jfreechart（这里我们有经验，编程枯燥）
*   bi 工具 birt、jasper、pentaho、palo...（学习使用它们，无聊的指点和点击）

但可能有第三种方式吗？两者之间的一种方式：使用 bi 工具的 api 对报告进行编程？使用 bi 工具是否值得学习（我认为使用它，创建其他报告或调整现有报告要容易得多？）你怎么看？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T09:57:51.373

我最近也遇到了类似的情况。我已经评估了 Pentaho BI 服务器，所以我的评论基于：

用 Java 实现的自定义系统的优点：

*   可根据用户需求精确定制
*   不需要[星型模式](http://en.wikipedia.org/wiki/Star_schema)（Pentaho 分析只适用于星型模式！Pentaho 报告不需要星型模式，它可以通过简单的 SQL 语句工作）
*   由于不需要星型模式，您可以更轻松地与系统的其余部分集成。我的意思是你可以重用现有的数据源。此外，通过自制 UI，您可以轻松地将其集成到企业基础架构的其余部分（门户网站等）中。
*   速度：自定义 SQL 调优、对您的数据集快速的自定义 UI 等。

使用现成解决方案（例如 Pentaho BI Server）的优点：

*   初始设置后，即使是非技术用户也可以创建新的分析或修改现有的分析。轻松导出到excel、pdf等。
*   Pentaho 带有许多支持工具（用于导入数据的 ETL 工具、用于定期创建报告的调度程序等）。重新实施所有这些将是巨大的成本。此外，新的 Pentaho 服务器具有仪表板功能，这意味着您可以拥有一个带有图表和表格的屏幕，这些图表和表格会随着新数据的进入而更新。
*   如果您可以满足这些功能并且不需要额外的定制，那么部署时间只是开发新软件所需时间的一小部分。

Pentaho 有广泛的基于 Java 的 API，您可以完全用 Java 代码创建报告等。大部分核心是开源的，AFAIK 只有那些在企业服务器中的部分是闭源的（仪表板、分析视图等）

据我所知，对于 Pentaho，有以下 API：

*   创建和修改报告，生成各种格式的报告
*   访问调度程序
*   为仪表板创建自定义小部件
*   访问 OLAP 引擎（例如，创建 MDX 表达式并获取结果）
*   由于 BI 服务器是一个 Spring 容器，因此您或多或少可以将其集成为任何 Spring 应用程序（例如，您可以在自定义企业安全中访问 Spring Security 设置和插件等）

虽然不是 API，但有一些方法可以将 Pentaho 的基于 Web 的报告查看器集成到其他 Web 应用程序中（最简单的方法是使用 IFRAME 并使用 URL 参数自定义报告）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-14T01:40:44.350

你可以看看[icCube](http://www.icCube.com)：

*   基于 JAVA 的后端
*   从您的 SQL 数据结构中轻松创建多维数据集模型
*   前端（图表）由纯 Javascript API（[www](http://www.iccube.com/support/documentation/viz/viz/doc/vizTutorials.html)，[www](http://demo3.iccube.com/icCube/doc/tutorial/ic3report-tutorial.html?ic3demo)）组成
*   使用您自己的图表库的可能性

我猜不需要点击。设置完成后，您将有很大的潜力提供超越简单报告的分析（例如，[直方图比较](http://demo3.iccube.com/icCube/doc/tutorial/ic3report-tutorial.html?ic3demo&ic3reportName=Histogram)）。

# c++ - 正确的 C++ 指针语法

> ID：11466401
> 
> 赞同：3
> 
> 时间：2012-07-13T07:58:46.840
> 
> 标签：c++, pointers, syntax

我正在努力理解正确的指针语法，各种来源似乎做得不同。

其中哪一项是正确的？

```
int* p = NULL;
int * p = NULL;
int *p = NULL; 
```

还有这些？

```
*p = &x;
* p  = &x; 
```

很抱歉初学者的问题，但我似乎无法找到一个直接的答案。

`*`是在数据类型之后，变量名称之前还是在两者之间？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T09:12:03.960

所有都是有效的，并且具有相同的含义，所以这是个人选择的问题。

要提防的一件事是：-

```
int* i,j; 
```

尽管看起来这声明`i`为指向 int 的指针，*但* `j`它只是一个 int。[有关详细信息，请在此处](https://stackoverflow.com/questions/3260784/pointer-syntax-in-c-why-does-only-apply-to-the-first-variable)查看此问题。如果你真的想要这个，使用..

```
int *i;  
int j; 
```

或者，如果您坚持将它们放在一条线上

```
int j, *i; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:02:41.307

这更多是一个语法问题，至于哪个是“正确的”，因为所有都是有效的。

考虑一下声明/代码描述的内容并相应地加入它们。

例如

“我想要一个名为 p的*int 指针”意味着：*`int* p`

“我想`contents pointed to by p`包含 x 的地址”意味着：`*p = &x`

*您希望选择一个易于他人阅读和/或流行使用的标准，以便更轻松地过渡到新的商业开发站点。它们都将具有相似的编码标准。*

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:54:46.277

他们都是正确的。运算符之间、名称和运算符之间的空格等是不相关的。

以对您来说最易读的方式进行。

# android - 使用默认的android程序打开存储在数据库中的文件

> ID：11466405
> 
> 赞同：0
> 
> 时间：2012-07-13T07:58:56.450
> 
> 标签：android, database

我想使用默认的 android 程序打开数据库中的文件...但是我在打开它时遇到了麻烦...我将文件路径存储在我的数据库中（作为字符串），因为最好存储文件路径而不是文件它自己......（从我读到的）但是当我想使用默认的android程序在android中打开它时，它什么也没有......只是空白......我不知道我错了哪一部分，因为日志猫没有显示任何东西......这是我的代码......

```
String fileId = ((TextView)view.findViewById(R.id.fileid)).getText().toString();
String fileName = ((TextView)view.findViewById(R.id.TextView01)).getText().toString();
String filePath = ((TextView)view.findViewById(R.id.filepath)).getText().toString();

//starting activity intent
Intent intent= new Intent();
intent.setAction(Intent.ACTION_VIEW);

File file = new File("http://10.0.2.2/" + filePath);

MimeTypeMap mime = MimeTypeMap.getSingleton();
String ext = file.getName().substring(file.getName().indexOf(".")+1).toLowerCase();
String type = mime.getMimeTypeFromExtension(ext);

intent.setDataAndType(Uri.fromFile(file), type);

try
{
    startActivity(intent);
}
catch (ActivityNotFoundException e)
{
    Toast.makeText(FileChooser.this, "No Application available to View this file", Toast.LENGTH_SHORT).show();
} 
```

filePath 是 android/untitled.jpg 实际上我在开发 android 方面真的很新...我希望任何人都可以帮助我解决我的问题...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-22T10:02:48.357

我明白了...最后我自己完成了...如果你们中的一个人与我混淆了同样的事情...希望这会有所帮助...

```
 public void clearCache() 
    {
        fileCache.clear();
    }

    private File getFileFromUrl(String url)
    {
        File f = fileCache.getFile(url);
        try
        {
            URL docUrl = new URL(url);
            HttpURLConnection conn = (HttpURLConnection)docUrl.openConnection();
            conn.setConnectTimeout(30000);
            conn.setReadTimeout(30000);
            conn.setInstanceFollowRedirects(true);
            InputStream is=conn.getInputStream();
            OutputStream os = new FileOutputStream(f);
            Utils.CopyStream(is, os);
            os.close();
            return f;
        }
        catch (Exception ex)
        {
            ex.printStackTrace();
            return null;
        }
    }

    public String GetExtention(String name)
    {
        name = name.replaceAll("%20", " ");
        MimeTypeMap mime = MimeTypeMap.getSingleton();
        String type = name;
        String filenameArray[] = type.split("\\.");
        type = filenameArray[filenameArray.length-1];
        String ext = mime.getMimeTypeFromExtension(type.toLowerCase());
        return ext;
    } 
```

虽然文件缓存是您制作的类...如果需要更多帮助，[这](http://www.androidhive.info/2012/07/android-loading-image-from-url-http/)可以帮助您...

# php - Ajax 表单提交在 PHP 中接收

> ID：11466407
> 
> 赞同：0
> 
> 时间：2012-07-13T07:58:59.810
> 
> 标签：php, mysql, ajax, forms

我正在制作的表格遇到一些问题。我有代码可以将表单发布到我的 PHP 脚本，该脚本旨在使用以下代码处理数据：

```
<script type="text/javascript">
 $(document).ready(function()
 {
  $("#submit").click(function() 
  {
   var q1 = $("#q1").val();
   var q2 = $("#q2").val();
   var answers = "page=1&q1="+q1+"&q2="+q2;

   $.ajax({
    type:'POST',
    url:'add.php',
    data:answers,
    success:function(response)
    {
     $("#answers").html(response);
    }
   });
  });       
 });
</script> 
```

然后在我的 PHP 脚本中收到此表单，如下所示：

```
$page = $_POST['page'];
$q1 = $_POST['q1'];
$q2 = $_POST['q2'];
echo "Page: " .$page . "<br/>Question 1: " . $q1 . "<br/>Question 2: " . $q2; 
```

这一切的问题是我希望这个表单能够处理 X 数量的输入并且还处理我不知道名称的输入。就像我可以得到 5 个文本框，或者 2 个文本框 + 一串单选按钮等等。有没有办法收集所有 $_POST 数据然后分解它或类似的东西，以便我可以为数据库做好准备？我希望恢复所有问题 id（值）和所有答案值（可以是表示单选按钮 id 的字符串或 int）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:02:04.380

您可以通过简单地将 POST 和 GET 视为一个数组来遍历所有 POST 和 GET 请求参数。例如：

```
print_r($_POST); 
```

或者：

```
foreach ($_POST as $key => $value) {
    echo $key." = ".$value."<br>";
} 
```

如果您想处理不同数量的输入字段，您可以定义一个递增的命名约定并使用循环将它们全部收集到一个数组中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T08:04:08.847

与 print_r($_POST); 您可以查看所有值。

或类似的东西：

```
foreach ( $_POST AS $key => $value) {
echo $key." => ".$value."<br>";
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T08:04:36.523

第一：[让jQuery构建你的数据字符串](http://api.jquery.com/serialize/)，你当前的方法需要你提前知道每个字段，不能处理包含特殊字符的数据。

```
url:'add.php',
data: $('#myForm').serialize(),
success:function(response) 
```

第二：使用具有相同名称约定的 PHP 多个字段来命名您的字段：

```
<input type="radio" name="answer[1]" value="foo">
<input type="radio" name="answer[1]" value="bar"> 
```

然后，您可以通过以下方式访问它们：

```
$_POST['answer'][] 
```

它是一个数组，因此您可以在循环中获取“1”和“foo”或“bar”。

# vb.net - 当添加按钮位于form1上时，如何在位于vb.net中form2上的datagridview中插入行？

> ID：11466408
> 
> 赞同：0
> 
> 时间：2012-07-13T07:59:02.163
> 
> 标签：vb.net, datagridview

```
 Private Sub btn_add_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles btn_add.Click
        Dim Query As String
        mysqlconn.Open()
        Query = "insert into details(id,s1,c1)values('" & txt_.Text & "','" & txt1.Text & "','" & txt2.Text & "')"
        Dim cmd As MySqlCommand = New MySqlCommand(Query, mysqlconn)
        Dim i As Integer = cmd.ExecuteNonQuery()

        mysqlconn.Close()

        If (i > 0) Then
            MsgBox("Record is Successfully added")
            mysqlconn.Open()

            Dim strSQL As String = "SELECT * from details "
            Dim cmd1 As New MySqlCommand(strSQL, mysqlconn)
            Dim reader As MySqlDataReader = cmd1.ExecuteReader
            Dim table1 As New DataTable()
            table1.Load(reader)
            datagridview1.DataSource = table1
            ' datagridview1.RefreshEdit()
            mysqlconn.Close()
            mysqlconn.Dispose()
        Else
            MsgBox("Record is not added")
        End If
        mysqlconn.Close()
end sub 
```

我有两种形式：`Form1`和`Form2`.

`Form1`- 在上面的代码中，当我点击添加按钮后，在文本框中输入的id、txt1、txt2被保存到详细信息表中。（mysql数据库）

同时，我想将该条目插入到位于`Form2`.

我在 msgbox “成功添加”之后写了一些代码。执行相同的代码时我没有收到错误，但在运行时没有在 datagridview 中添加行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-15T17:20:42.587

您只想将相同的内容添加到数据网格视图中？

```
Form2.datagridview.rows.add( New Object() {Value1, value2, value3}) 
```

每个逗号代表行中的不同列。

您可以从任何地方操作 DGV。

# html - 图片库水平对齐

> ID：11466409
> 
> 赞同：1
> 
> 时间：2012-07-13T07:59:09.083
> 
> 标签：html, css

我正在尝试制作一个图像列表（图片库），我找到了一个源代码并对其进行了修改，但我不知道如何更改它，因此将图像设置在水平线上：这是代码（已更改）如果有人有任何想法会很好提前谢谢你

```
<body>

    <div id="ps_slider" class="ps_slider">
        <a class="prev disabled"></a>
        <a class="next disabled"></a>
        <div id="ps_albums">
            <div class="ps_album" style="opacity:0;"><img    src="albums/album1/thumb/thumb.jpg" alt=""/></div>
            <div class="ps_album" style="opacity:0;"><img src="albums/album2/thumb/thumb.jpg" alt=""/></div>
            <div class="ps_album" style="opacity:0;"><img src="albums/album3/thumb/thumb.jpg" alt=""/></div>
            <div class="ps_album" style="opacity:0;"><img src="albums/album4/thumb/thumb.jpg" alt=""/></div>
            <div class="ps_album" style="opacity:0;"><img src="albums/album5/thumb/thumb.jpg" alt=""/></div>
            <div class="ps_album" style="opacity:0;"><img src="albums/album6/thumb/thumb.jpg" alt=""/></div>
            <div class="ps_album" style="opacity:0;"><img src="albums/album7/thumb/thumb.jpg" alt=""/></div>
            <div class="ps_album" style="opacity:0;"><img src="albums/album8/thumb/thumb.jpg" alt=""/></div>
            <div class="ps_album" style="opacity:0;"><img src="albums/album9/thumb/thumb.jpg" alt=""/></div>
        </div>  
    </div>

    <div id="ps_overlay" class="ps_overlay" style="display:none;"></div>
    <a id="ps_close" class="ps_close" style="display:none;"></a>
    <div id="ps_container" class="ps_container" style="display:none;">
        <a id="ps_next_photo" class="ps_next_photo" style="display:none;">                </a>
    </div>
body, ul, li, h1, h2, h3{
margin:0;
padding:0;
}

/* Image container style */
 .ps_container{
width:480px;
height:350px;
position:absolute;
top:50%;
margin-top:-175px;
left:50%;
margin-left:-240px;
z-index:100;
}
.ps_container img{
border:1px solid #fff;
position:absolute;
top:50%;
left:50%;
-moz-box-shadow:1px 1px 10px #000;
-webkit-box-shadow:1px 1px 10px #000;
box-shadow:1px 1px 10px #000;
}

a.ps_next_photo:hover,

/* Thumbnail slider style */
.ps_slider{
width:845px;
height:300px;
position:relative;
margin:110px auto 0px auto;
}
.ps_slider a.next,
.ps_slider a.prev{
position:absolute;
background-color:#000;
background-position:center center;
background-repeat:no-repeat;
border:1px solid #232323;
width:20px;
height:20px;
top:20%;
margin-top:-10px;
opacity:0.6;
-moz-border-radius:5px;
-webkit-border-radius:5px;
border-radius:5px;
cursor:pointer;
outline:none;
}
.ps_slider a.prev:hover,
.ps_slider a.next:hover{
border:1px solid #333;
opacity:0.9;
}
.ps_slider a.disabled,
.ps_slider a.disabled:hover{
opacity:0.4;
border:1px solid #111;
cursor:default;
}
.ps_slider a.prev{
left:-30px;
background-image:url(../images/prev.png);
}
.ps_slider a.next{
right:-30px;
background-image:url(../images/next.png);

}
.ps_slider .ps_album{
width:140px;
height:100px;
padding:10px;
background-color:#333;
border:1px solid #444;
position:absolute;
top:0px;
text-align:center;
cursor:pointer;
-moz-box-shadow:1px 1px 4px #000;
-webkit-box-shadow:1px 1px 4px #000;
box-shadow:1px 1px 4px #000;
-webkit-box-reflect:
    below 5px 
    -webkit-gradient(
        linear, 
        left top, 
        left bottom, 
        from(transparent), 
        color-stop(0.6, transparent), 
        to(rgb(18, 18, 18))
    );
}
.ps_slider .ps_album:hover{
    background-color:#383838;
}
.ps_slider .ps_album img{
height:90px;
border:1px solid #444;
-moz-box-shadow:1px 1px 4px #000;
-webkit-box-shadow:1px 1px 4px #000;
box-shadow:1px 1px 4px #000;
}

.ps_slider .ps_album:hover .ps_desc{
background-image:none;
}
.ps_slider .ps_album .ps_desc span{
display:block;
margin:0px 10px 10px 10px;
border-top:1px solid #333;
padding-top:5px;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:04:12.167

你可以把它们放在一张桌子里

```
<table>
    <tr>
        <td>image1 stuff</td>
        <td>image2 stuff</td> // and so on
    </tr>
</table> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:10:22.053

尝试将此添加到您的 CSS 中：

```
.ps_slider .ps_album {
   float: left;
} 
```

# iphone - 如何在 iPhone 中转换时间格式器？

> ID：11466411
> 
> 赞同：0
> 
> 时间：2012-07-13T07:59:20.737
> 
> 标签：iphone, ios, nsdateformatter

目前我在 iPhone 应用程序中工作，在这里我使用`NSString`来存储`(2012-07-11 11:49:55 +0000)`和使用`NSDateFormatter`来转换日期和时间，但是输出来了`05:19:55`，但是我想要`11:49:55`，请任何人帮助我

在这里我尝试了源代码供您参考

```
NSString *dateString = [NSString stringwithformat:%@,(2012-07-11 11:49:55 +0000)];
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
dateFormatter.dateFormat = @"hh:mm:ss";
[dateFormatter setTimeZone:[NSTimeZone systemTimeZone]];
NSLog(@"The Current Time is %@",[dateFormatter stringFromDate:dateString]);
[dateFormatter release]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:06:17.403

您的系统时区不是 +0000。所以时间是根据它格式化的。解决方案是将同一时区设置为 GMT (+0000)。

```
[dateFormatter setTimeZone:[NSTimeZone timeZoneForSecondsFromGMT:0]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:04:50.850

原因是您正在更改`TimeZone`，请注释掉以下行，它应该返回您在 中提供的时间`dateString`：

```
[dateFormatter setTimeZone:[NSTimeZone systemTimeZone]]; 
```

# android - android并将数据发送到HTTP服务器

> ID：11466412
> 
> 赞同：0
> 
> 时间：2012-07-13T07:59:24.100
> 
> 标签：android, http

我在 android 上编写需要与 http 服务器交换 xml 数据的应用程序。我想知道什么是更好的方法。通过 POST 发送整个文件，或者从文件中获取所有文本，将其放在 String 上，然后通过 POST 发送此字符串。会不会有些不同？如果是，什么是更好的选择？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:18:42.477

我强烈建议使用`POST`. 虽然理论上可以使用发送文件内容`GET`，但在某些情况下，使用长度超过 2000 个字符的 URL 时可能会遇到问题。RFC 没有严格的限制，但是一些客户端和服务器有自己的限制。查看[这个问题](https://stackoverflow.com/questions/417142/what-is-the-maximum-length-of-a-url)以获取更多详细信息。

这`POST`不适用，您可以发送（几乎）任何大小的数据。要发送文件，您仍然需要读取文件的内容并将其作为 POST 参数发送。同样，实际上，大多数服务器不会接受超过 2GB 的容量，但这是一个单独的问题。

# php - PHP 窗口 64 位

> ID：11466414
> 
> 赞同：0
> 
> 时间：2012-07-13T07:59:26.537
> 
> 标签：php, windows, binary, 64-bit

我们在他的 Windows 服务器上为客户端安装了一个 PHP 应用程序，使用 Apache 和 Mysql。现在客户想要升级他的服务器并询问“应用程序、apache web 服务器和 mysql 是否支持 Windows 64 位？”

现在，我看到有一个适用于 64 位 Windows 的 mysql 版本，但我找不到任何适用于 Apache 和 PHP 的官方版本，只能找到来自 3rd-party 站点的二进制文件。

有谁知道是否有适用于 Windows 64 位的官方 Apache 和 PHP 版本（或者至少是值得信赖的第 3 方）？对于 Apache，我可以使用 IIS，所以这不是一个真正的问题，所以它主要是我感兴趣的 PHP。

或者，如果我运行 PHP 站点提供的标准最新二进制文件，会有问题吗？

一如既往，提前感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:04:23.530

我正在使用 Windows 7 64 位并使用 XAMPP 32 位。
因此，您可以在 64 位机器上安装 32 位系统的 Apache、PHP 和 MySQL。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T08:27:48.373

您可以在 64 位 Windows 系统上获得 WAMP 堆栈。但是，某些 dll 扩展可能存在一些问题，例如[本文所述的](http://www.andrejfarkas.com/2012/07/wamp-2-2-and-php_curl-dll-extension-problem-on-64bit-architecture/)CURL 。

# javascript - 通过函数添加到对象

> ID：11466417
> 
> 赞同：0
> 
> 时间：2012-07-13T07:59:47.027
> 
> 标签：javascript, object

我目前正在尝试通过函数添加到对象。

我的代码是：

```
var ob = {};

function add(f, fun) {
    ob[f] = fun();
}

add('hi', function() {
    alert('hello')
})

ob.hi()​ 
```

所以这假设将 ob 更改为：

```
var ob = {
     hi: function(){
      alert('hello')
     }
} 
```

它确实会发出警报`hello`，但只是从触发 add 函数（我想停止）而不是从`ob.hi()`函数中触发。

谢谢你的帮助。如果你愿意，你也可以检查[小提琴](http://jsfiddle.net/shawn31313/r6ZXy/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:01:54.123

您正在执行该函数并将其返回值分配给该属性。您需要将对该函数的引用分配给该属性。改变你的`add`功能：

```
function add(f, fun) {
    ob[f] = fun; //No invoking parentheses!
} 
```

这是一个[更新的小提琴](http://jsfiddle.net/jamesallardice/r6ZXy/1/)。

如果您查看原始小提琴中的控制台，您会发现出现了什么问题：

> 未捕获的类型错误：对象的属性“hi”`#<Object>`不是函数

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:02:03.900

将您的函数添加为对象的属性：

```
ob['hi'] = function() {
    alert('hello')
}; 
```

或者

```
ob[funname] = fun; 
```

如果函数在别处定义。

不要`add`仅仅为了设置属性而编写函数。用自定义设置器替换语言的标准功能不会使代码更具可读性。

并且不要忘记您可以在 javascript 中定义类：

```
function Rect(x,y,w,h){
    this.x = x;
    this.y = y;
    this.w = w;
    this.h = h;
}

Rect.prototype.contains = function(x, y) {
    return x>=this.x && x<=this.x+this.w && y>=this.y && y<=this.y+this.h;
}; 
```

创建的所有对象`new Rect(0, 1, 2, 3)`都具有该`contains`功能。

# bash - 如何使用参数创建 bash 别名？

> ID：11466419
> 
> 赞同：44
> 
> 时间：2012-07-13T08:00:04.357
> 
> 标签：bash

我通常使用`ps -elf | grep proceesname`来获取名为`processname`. 我认为我必须为此写太多。

现在我在想的是创建一个 bash 别名

```
alias lsps='ps -elf | grep $1' 
```

这将仅通过使用来给出上述详细描述`lsps processname`。

所以，我的问题是如何创建一个接受参数的 bash 别名。

PS：我知道我可以为上述任务编写一个 shell 脚本，但我只是想知道如何使用 bash 别名来完成它。

* * *

## 回答 #1

> 赞同：75
> 
> 时间：2012-07-13T08:03:45.587

很简单;

```
alias lsps='ps -elf | grep' 
```

命令行参数将自动添加到别名的末尾：

```
lsps arg1 arg2 arg3 => converted to => ps -elf | grep arg1 arg2 arg3 
```

仅当您想在别名末尾添加参数时才有效。

如果要在扩展命令行中获取别名的参数，则必须使用函数：

例如：

```
lsps()
{
    ps -elf | grep "$1" | grep -v grep
} 
```

函数和别名可以保存在您的`~/.bashrc`文件中）或其中包含的文件）：

```
$ cat /tmp/.bash_aliases
lsps()
{
    ps -elf | grep "$1" | grep -v grep
}

$ . /tmp/.bash_aliases
$ 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-07-13T08:02:11.690

用这个：

```
alias lsps='ps -elf | grep' 
```

然后你可以发出这个：

```
lsps processname 
```

# android - 如何获取文件的mime类型，在android上的文件名中有点

> ID：11466422
> 
> 赞同：0
> 
> 时间：2012-07-13T08:00:15.413
> 
> 标签：android, mime-types, filenames, android-file

我使用以下代码获取文件的 mime 类型：

```
 private String getMimeType(String url) {

        String type = null;
        String extension = MimeTypeMap.getFileExtensionFromUrl(url);
        Log.e("extension ", extension);

        if (extension != null) {
        MimeTypeMap mime = MimeTypeMap.getSingleton();
        type = mime.getMimeTypeFromExtension(extension);
        }
        return type;
    }

   where url is the absolute file path

    i am getting file and folder by the following way
    File file_arr [];
    file_arr = new   File(Environment.getExternalStorageDirectory().getPath()).listFiles();
    url = file_arr[i].getAbsolutePath(); 
```

这工作正常，但**对于文件名中带有点“.”的文件，它始终返回 null**。

例如

如果文件名是**picture1.jpg**，那么 getMimeType() 返回**image/jpeg**

在文件名的情况下，其名称中包含点 (.)，例如**27-05-2012 22.05.14.jpg**然后 getMimeType() 返回 null。

我已将该文件重命名为 27-05-2012.jpg，它的返回图像/jpeg。

我的问题如何在android上获取所有类型的文件名（具有点或特殊字符）的mime类型？请帮我。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-07-13T08:09:37.347

这个怎么样：

```
File f = new File(file);
System.out.println(new MimetypesFileTypeMap().getContentType(f)); 
```

或者

```
 if(url.lastIndexOf(".") != -1) {
    String ext = url.substring(url.lastIndexOf(".")+1);
    MimeTypeMap mime = MimeTypeMap.getSingleton();
    String type = mime.getMimeTypeFromExtension(ext);
   } else {
    String type = null;
   } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:18:27.577

```
private String getMimeType(String url) {

    String fileExtension = MimeTypeMap.getFileExtensionFromUrl(url);
    String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(
            fileExtension);
    Toast.makeText(
            this,
            "FileExtension: " + fileExtension + "\n" + "MimeType: "
                    + mimeType, Toast.LENGTH_LONG).show();
    return mimeType;
} 
```

问题在于您的文件名之间有空格，请尝试使用此代码获取具有（“。”，“-”，“_”）等的任何文件的 mime 类型...

试试这个，即使它会起作用：**27-05-20.....1222.05.14.jpg**

# javascript - 滚动到 div 的底部

> ID：11466431
> 
> 赞同：0
> 
> 时间：2012-07-13T08:00:59.653
> 
> 标签：javascript, jquery, html, css

我在使用 jQuery将 div 滚动**到底部时遇到问题。**

**分区**

*HTML：*

```
<div id="chatbox"></div> 
```

*CSS：*

```
 #chatbox {
    width:300px;
    height:400px;
    background:grey;
    overflow-x:hidden;
    overflow-y:auto;
    border-radius: 10px;
    background: #045671;
} 
```

当我使用 onclick -> $("#chatbox").scrollTop(9999) 滚动到底部时，问题出现在再次单击后滚动向上 +20px。

例子 ：`http://46.238.10.232:10001/chat/`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:12:06.097

如果您过度设置[`scrollTop`](https://developer.mozilla.org/en/DOM/element.scrollTop)，就会发生魔术（或不会，取决于您的期望）。设置`scrollTop`为 9999 将`scrollTop`根据需要将 设置为 0 到 9999 之间的任意数字。您也可以*read* `scrollTop`，因此将其设置为`x`并不意味着它将保持不变`x`，它将是实际位置，因此如果您有兴趣查询该值，它仍然是有意义的。

如果元素的内容发生变化，则必须重新设置`scrollTop`。通常 to[`scrollHeight`](https://developer.mozilla.org/en/DOM/element.scrollHeight)总是足够的（是的，您可以尝试`scrollTop`完美准确地计算，但为什么要麻烦？让浏览器进行计算，然后重新开始工作）。

所以我想，当你“再次点击”（无论是什么）时，你正在向你的聊天框添加更多内容。是的？然后你必须*再次*设置`scrollTop`！

 ** * *

如果你每次**都**设置`scrollTop`，你可能做得太早了。您应该在修改元素的内容之后执行此操作，而不仅仅是响应`onclick`事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:13:40.713

`<a>`标签可能会起作用。我知道它很丑陋，但是使用 css 您可以将其设置为普通文本或完全隐藏它。

1.  将自定义元素放置在您要滚动到的位置。
2.  将其 id 设置为 (例如) `scrollelement`。
3.  设置`window.location.hash`为“滚动元素”。

归功于李 Kowalkowski。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:04:58.660

```
$(document).scrollTop($("#chatbox").position.top+$("#chatbox").height()); 
```*

# php - 如何将phpexcel集成到silex框架？

> ID：11466432
> 
> 赞同：2
> 
> 时间：2012-07-13T08:01:03.350
> 
> 标签：php, phpexcel, silex

我把phpexcel放到/silex/vendor/

索引.php：

```
 <?php
require_once __DIR__.'/../vendor/autoload.php';

$app = new Silex\Application();
$app->register(new Silex\Provider\PHPExel());
$app->get('/hello', function() {
    $objPHPExcel = \PHPExcel::newInstance();
    $objPHPExcel = $objReader->load('123.xls');
    return 'Hello!';
});

$app->run(); 
```

`Fatal error: Class 'Silex\Provider\PHPExel' not found`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-20T09:36:36.263

你可以通过 composer 安装 PHPexcel，参见[https://github.com/ddeboer/phpexcel](https://github.com/ddeboer/phpexcel)。要通过 composer 使用 PHPExcel，只需在您的代码中创建一个新实例：

```
$phpExcel = new \PHPExcel(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-13T02:06:40.047

我刚刚写了一个 Silex Service Provider 用于将 PHPExcel 与 Silex 集成：[https ://github.com/Jaza/ExcelServiceProvider](https://github.com/Jaza/ExcelServiceProvider)

使用这个包在 Silex 中开始使用 PHPExcel 应该很简单。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T08:25:17.740

首先，注册你自己的命名空间：

```
$app['autoloader']->registerNamespace('MyNamespace', __DIR__.'../lib' ); 
```

*（在我的示例中，将 PHPExcel 文件放在文件夹“lib”中）*

2 - 在 PHPExcel 文件的开头添加命名空间：

```
 namespace MyNamespace; 
```

*（如果 PHPExcel 在子文件夹中，不要忘记将其添加到命名空间路径中！）*

3 - 在你的主文件中使用这个命名空间：

```
use MyNamespace\PHPExcel as PHPExcel; 
```

主文件代码：

```
<?php
require_once __DIR__.'/../vendor/autoload.php';

use MyNamespace\PHPExcel as PHPExcel;

$app = new Silex\Application();
$app['autoloader']->registerNamespace('MyNamespace', __DIR__.'../lib' );
$app->register(new PHPExcel()); 
```

# iphone - 不同按钮调用同一个类时如何传递参数？

> ID：11466434
> 
> 赞同：0
> 
> 时间：2012-07-13T08:01:08.467
> 
> 标签：iphone, objective-c

我正在为 iPhone 开发我正在开发的应用程序有很多按钮，我希望所有按钮都调用同一个类但具有不同的参数

例如，我希望 button1 调用 displayimageclass

和 button2 应该调用同一个类 displayimageclass 所以，不同的方法如何调用同一个类以及在同一个类中如何从调用特定类的位置获取不同的按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:09:36.830

这几乎是标准的。只需根据需要定义尽可能多的 IBAction 方法。

在 viewController 的 .h 文件中：

```
- (IBAction)actionButton1:(UIButton *)sender;
- (IBAction)actionButton2:(UIButton *)sender;
- (IBAction)actionButton3:(UIButton *)sender; 
```

在其 .m 文件中：

```
{
    //react here to button1 pressed
}

- (IBAction)actionButton1:(UIButton *)sender
{
    //react here to button1 pressed
}

- (IBAction)actionButton2:(UIButton *)sender
{
    //react here to button2 pressed
}

- (IBAction)actionButton3:(UIButton *)sender
{
    //react here to button3 pressed
} 
```

然后将操作与按钮的事件相关联（我猜 TouchUpInside 是最合适的）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:21:59.190

您应该将标签属性添加到您的按钮。假设你的按钮是

```
button1.tag =1;
button2.tag =2;
button3.tag =3; 
```

当您单击任何按钮时，NSLog 会显示相关的按钮标记号。即你会得到你想要的结果。

```
- (IBAction)buttonClicked:(id)sender {

        UIButton* button = (UIButton *)sender;
        NSLog(@"The number of tag:%d",button.tag);
    } 
```

我想这会对你有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:33:42.587

您是否在寻找 1) 几个按钮执行相同的方法和相同的行为 2) 几个按钮执行相同的方法但根据按钮特性具有不同的行为 3) 每个按钮执行自己的方法。

1）您可以在同一个 IBAction 上注册多个按钮，它们都会调用它并执行相同的代码 2）在方法中所有按钮都已注册（参见：1）可以通过子类化 UIButton 类对按钮进行排序，给出一个表示按钮应该执行什么的枚举值，然后在被调用的方法中使用开关检查枚举值以触发想要的行为

UIBarButtonItem 已经具有此标记属性，因此您可以通过为 Interface Builder 中的每个 UIBarButtonItem 赋予一个值来使用它们，并将它们设置为调用以下方法

```
- (IBAction) myButtonsMethod:(id)object
  if ([object isKindOfClass:[UIBarButtonItem class]])
  {
    switch ([(UIBarButtonItem *)object tag]) 
    {
      case myFirstTagValue
    ...
    } 
```

3）@Hermann Klecker 解决方案是正确的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T08:06:14.907

您可以像这样实现您的操作方法：

```
- (IBAction)action:(UIButton *)sender
{
    //sender will be different for different button
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-13T08:11:25.487

设置按钮的标签值并获取这些按钮，例如

```
- (IBAction)action:(UIButton *)sender
{
  UIButton *btn = (UIButton*)sender;
} 
```

# perl - 如何使用 ppm 升级所有可升级包？

> ID：11466440
> 
> 赞同：13
> 
> 时间：2012-07-13T08:01:35.040
> 
> 标签：perl, upgrade

当我打开时`ppm`，UI 显示了几个可升级的包。不幸的是，我无法通过键入`Ctrl``a`或单击第一个元素、按住`Shift`然后选择列表中的最后一个元素来选择它们。

我**真的**必须遍历所有元素并按下`+`键才能选择它们吗？拒绝相信。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-07-13T08:11:35.753

您可以从命令行执行此操作。

```
C:\>ppm upgrade --install 
```

这将在不询问的情况下升级所有软件包。[Activestate 在线文档](http://docs.activestate.com/activeperl/5.10/bin/ppm.html)中有一些关于它的内容。

# java - 从父类对象调用子类方法

> ID：11466441
> 
> 赞同：21
> 
> 时间：2012-07-13T08:01:42.793
> 
> 标签：java, inheritance

我有以下课程

```
class Person {
    private String name;
    void getName(){...}}

class Student extends Person{
    String class;
    void getClass(){...}
}

class Teacher extends Person{
    String experience;
    void getExperience(){...}
} 
```

这只是我实际模式的简化版本。最初我不知道需要创建的人的类型，因此处理这些对象的创建的函数将通用`Person`对象作为参数。

```
void calculate(Person p){...} 
```

现在我想使用这个父类对象访问子类的方法。我还需要不时访问父类方法，所以**我不能让它抽象**。

* * *

我想我在上面的例子中简化了太多，所以这里是实际的结构。

```
class Question {
  // private attributes
  :
  private QuestionOption option;
  // getters and setters for private attributes
  :
  public QuestionOption getOption(){...}
 }

 class QuestionOption{
 ....
 }
 class ChoiceQuestionOption extends QuestionOption{
 private boolean allowMultiple;
 public boolean getMultiple(){...}
 }

 class Survey{
  void renderSurvey(Question q) {
      /*
          Depending on the type of question (choice, dropdwn or other, I have to render
          the question on the UI. The class that calls this doesnt have compile time 
          knowledge of the type of question that is going to be rendered. Each question 
          type has its own rendering function. If this is for choice , I need to access 
          its functions using q. 
      */
      if(q.getOption().getMultiple())
        {...}
  }
 } 
```

if 语句说“找不到 QuestionOption 的 getMultiple”。OuestionOption 有更多的子类，它们具有不同类型的方法，在子类中不常见（getMultiple 在子类中不常见）

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-07-13T08:05:23.970

***注意：***虽然这是可能的，但完全不推荐这样做，因为它会破坏继承的原因。最好的方法是重构您的应用程序设计，以便**没有父子**依赖关系。父母永远不需要知道自己的孩子或他们的能力。

但是..你应该能够这样做：

```
void calculate(Person p) {
    ((Student)p).method();
} 
```

一种安全的方法是：

```
void calculate(Person p) {
    if(p instanceof Student) ((Student)p).method();
} 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-07-13T08:26:06.973

父类不应该有子类的知识。您可以实现一个方法`calculate()`并在每个子类中覆盖它：

```
class Person {
    String name;
    void getName(){...}
    void calculate();
} 
```

接着

```
class Student extends Person{
    String class;
    void getClass(){...}

    @Override
    void calculate() {
        // do something with a Student
    }
} 
```

和

```
class Teacher extends Person{
    String experience;
    void getExperience(){...}

    @Override
    void calculate() {
        // do something with a Teacher
    }

} 
```

顺便一提。您关于抽象类的陈述令人困惑。您可以调用在抽象类中定义的方法，但当然只能调用子类的实例。

在您的示例中，您可以对and 的实例进行`Person`抽象和使用。`getName()``Student``Teacher`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-13T08:09:26.443

这里的许多答案都建议使用“Classical Object-Oriented Decomposition”来实现变体类型。也就是说，任何一个变体可能需要的东西都必须在层次结构的基础上声明。我认为这是一种类型安全但通常非常糟糕的方法。您要么最终暴露所有不同变体的所有内部属性（其中大多数对于每个特定变体都是“无效的”），要么最终用大量程序方法使层次结构的 API 混乱（这意味着您必须每次都重新编译构想了一个新的程序）。

我对此犹豫不决，但这是我写的一篇博客文章的一个无耻插件，其中概述了在 Java 中执行变体类型的 8 种方法。它们都很糟糕，因为 Java 很讨厌变体类型。到目前为止，唯一正确的 JVM 语言是 Scala。

[http://jazzjuice.blogspot.com/2010/10/6-things-i-hate-about-java-or-scala-is.html](http://jazzjuice.blogspot.com/2010/10/6-things-i-hate-about-java-or-scala-is.html)

Scala 的创建者实际上写了一篇关于八种方式中的三种的论文。如果我能找到它，我会用一个链接更新这个答案。

**更新**：在[这里](http://lampwww.epfl.ch/~emir/written/MatchingObjectsWithPatterns-TR.pdf)找到它。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-02-20T06:56:37.077

我有同样的情况，我找到了一些工程方法，如下所示 -

1.  您必须在没有任何参数的父类中使用您的方法并使用 - -

    ```
    Class<? extends Person> cl = this.getClass(); // inside parent class 
    ```

2.  现在，使用“cl”，您可以使用 - - 访问所有带有名称和初始化值的子类字段

    ```
    cl.getDeclaredFields(); cl.getField("myfield"); // and many more 
    ```

3.  在这种情况下，如果您通过子类对象调用父方法，您的“this”指针将引用您的子类对象。

4.  您可能需要使用的另一件事是 Object obj = cl.newInstance();

让我知道你是否仍然被困在某个地方。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-07-13T08:22:08.907

为什么不在 Person 中编写一个空方法并在子类中覆盖它呢？并在需要时调用它：

```
void caluculate(Person p){
  p.dotheCalculate();
} 
```

这意味着你必须在两个子类中使用相同的方法，但我不明白为什么这会是一个问题。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-10-04T09:25:55.677

```
class Car extends Vehicle {
        protected int numberOfSeats = 1;

        public int getNumberOfSeats() {
            return this.numberOfSeats;

        }

        public void  printNumberOfSeats() {
          //  return this.numberOfSeats;
            System.out.println(numberOfSeats);
        }

    } 

//Parent class

  class Vehicle {
        protected String licensePlate = null;

        public void setLicensePlate(String license) {
            this.licensePlate = license;
            System.out.println(licensePlate);
        }

   public static void main(String []args) {
       Vehicle c = new Vehicle();

      c.setLicensePlate("LASKF12341"); 

//Used downcasting to call the child method from the parent class. 
//Downcasting = It’s the casting from a superclass to a subclass.

      Vehicle d = new Car();
      ((Car) d).printNumberOfSeats();

   }
   } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-16T11:12:11.137

一种可能的解决方案是

```
class Survey{
  void renderSurvey(Question q) {
  /*
      Depending on the type of question (choice, dropdwn or other, I have to render
      the question on the UI. The class that calls this doesnt have compile time 
      knowledge of the type of question that is going to be rendered. Each question 
      type has its own rendering function. If this is for choice , I need to access 
      its functions using q. 
  */
  if(q.getOption() instanceof ChoiceQuestionOption)
  {
    ChoiceQuestionOption choiceQuestion = (ChoiceQuestionOption)q.getOption();
    boolean result = choiceQuestion.getMultiple();
    //do something with result......
  }
 }
} 
```

# asp.net - if..else 语句在 foreach 循环中不起作用

> ID：11466447
> 
> 赞同：1
> 
> 时间：2012-07-13T08:02:11.920
> 
> 标签：asp.net

其他语句在 foreach 循环中无法正常工作？这是我的代码。如果我的代码解释有问题会很好。

```
protected void getdata_Click(object sender, EventArgs e)
{
    using (var db2 = new cftzClassDataContext())
    {
        var username = (from p in db2.cftzAccounts
                        where p.username.Equals(getdata2.Text)
                        select p);
        foreach (var p in username)
        {
            if (getdata2.Text == p.username)
            {
                displayMSG.Text = "Is this correct ";
                displayData.Text = p.username;
                displayQuestionMark.Text = "?";
            }
            else
            {
                displayMSG.Text = "No User Found.";
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-07-13T08:04:35.243

该`if`语句完全是多余的，因为您已经过滤了您的列表以仅包含用户名等于的帐户`getData2.Text`。因此，您的`if`测试将始终评估为`true`.

可以这样改写，效果一样

```
 using (var db2 = new cftzClassDataContext())
    {
        var username = (from p in db2.cftzAccounts.Take(100)
                        where p.username.Equals(getdata2.Text)
                        select p);

        foreach (var p in username)
        {
            displayMSG.Text = "Is this correct ";
            displayData.Text = p.username;
            displayQuestionMark.Text = "?";
        }
    } 
```

但是，正如 Hans 指出的那样，您的循环也是不必要的，因为所有用户名都是相同的。您的代码可能很简单：

```
 using (var db2 = new cftzClassDataContext())
    {
        var user = db2.cftzAccounts.
              FirstOrDefault(account => account.username.Equals(getdata2.Text));

        if (user != null)
        {
            displayMSG.Text = "Is this correct ";
            displayData.Text = user.username;
            displayQuestionMark.Text = "?";
        }
        else 
        {
            displayMSG.Text = "No User Found.";
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:13:21.680

不确定您尝试实现什么，但看起来您正在尝试查找用户是否在数据库中，如果是，则配置 displayMSG 对象。你不能做类似的事情吗

```
var user=db2.Single(u=> u.username==getdata2.Text); 
```

如果没有找到用户，Singe 会抛出异常。如果你不这样做，你可以使用 SingleOrDefault() 方法

```
protected void getdata_Click(object sender, EventArgs e)
{
    using (var db2 = new cftzClassDataContext())
    {
        try
        {
            var user=db2.Single(u=> u.username==getdata2.Text);
            displayMSG.Text = "Is this correct ";
            displayData.Text = user.username;
            displayQuestionMark.Text = "?";
        }
        catch
        {
            displayMSG.Text = "No User Found.";
        }
    }
} 
```

# c# - 用相同路径的较小版本填充路径

> ID：11466450
> 
> 赞同：3
> 
> 时间：2012-07-13T08:02:18.677
> 
> 标签：c#, .net, graphics

这个问题对我来说很难解释，所以我将用一些图像和文字来说明。

对于钢制雕刻机，我需要使用 .NET 的普通图形框架来创建发送到雕刻机的“文档”——它被视为普通打印机。有问题的机器是这个：

[http://www.rolanddga.com/products/impactprinters/mpx90/features.asp](http://www.rolanddga.com/products/impactprinters/mpx90/features.asp)

我可以使用 C# 在其上打印文本大纲：

```
// ALL UNITS ARE SET IN MILIMETERS (MM)

Graphics g = <instantiated from my printers-printpage-event>;

// The following values are set as "constants" here for the purpose of my question
// they normally are passed as parameters
string s = "ABC";
float fontSize = 4.0F;
RectangleF r = new RectangleF(0, 30.0F, 100.0F, 40.0F);

StringFormat sfDraw = new StringFormat();
sfDraw.Alignment = StringAlignment.Center;
FontStyle fStyle = FontStyle.Regular;

using (var gpDraw = new GraphicsPath())
{
  gpDraw.AddString(text, fFamily, (int)fStyle, fSize, r, sfDraw);

  SolidBrush brushFG = new SolidBrush(Color.Black);
  Pen pen = new Pen(brushFG, 0.01F);

  g.DrawPath(pen, gpDraw);
} 
```

它给出了类似这样的输出：http: [//i47.tinypic.com/mruu4j.jpg](http://i47.tinypic.com/mruu4j.jpg)

我现在想要的是填写这个大纲。不仅仅是使用画笔填充（可以通过 g.FillPath(brushFG, gpDraw) 轻松完成。

相反，它应该用越来越小的轮廓“填充”，如下图所示：http: [//i46.tinypic.com/b3kb29.png](http://i46.tinypic.com/b3kb29.png)

（不同的线条颜色仅用于使示例更清晰）。

当我在 Photoshop 中制作示例时，我意识到我实际上想要做的是模仿功能，您可以在 Photoshop 的 Select/Modify/Contract 中找到该功能。

但我对如何实现这一点束手无策。

有什么帮助吗？我不是在寻找一个完整的解决方案，但我现在完全陷入困境。我尝试过简单的缩放，这可能是错误的方式（因为它不会产生正确的结果......）

**2012-07-16 更新：**我现在正在使用 Clipper 库[http://www.angusj.com/delphi/clipper.php ，它有一个名为](http://www.angusj.com/delphi/clipper.php)**OffsetPolygons**的精彩功能。

我的测试代码显示在这里： http: [//pastie.org/4264890](http://pastie.org/4264890)

它适用于“单个”多边形 - 例如“C”，因为它仅由单个多边形组成。“O”由两个多边形组成——一个内部和一个外部。“A”也是如此。这些给我带来了一些麻烦。看这些图片：

C: [http://i46.tinypic.com/ap304.png](http://i46.tinypic.com/ap304.png) O: [http://i45.tinypic.com/35k60xg.jpg](http://i45.tinypic.com/35k60xg.jpg) A: [http://i50.tinypic.com/1zyaibm.png](http://i50.tinypic.com/1zyaibm.png) B: [http:// /i49.tinypic.com/5lbb40.png](http://i49.tinypic.com/5lbb40.png)

你得到了图片（嘿嘿...... ;-)

我认为问题是，当实际上有 2 个（在 A 和 O 的情况下）和 3 个在 B 的情况下，我从 GraphicsPath 中提取所有内容作为单个多边形。

Clipper 的 OffsetPolygons 实际上需要一个多边形数组，所以我想它能够做到这一点。但我不知道如何从 GraphicsPath 中提取我的路径作为单独的多边形。

**更新 2012-07-16（当天晚些时候）：**

好的，我现在实际上已经成功完成了它，并将在答案中解释它，希望它可以帮助其他有类似问题的人。

**非常感谢一路上帮助过的每一个人！**我接受自己的答案的唯一原因是，其他人可能会通过完整的解决方案从这个问题中受益。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:09:44.740

看看[An algorithm for inflating/deflating (offset, buffering) polygons——](https://stackoverflow.com/questions/1109536/an-algorithm-for-inflating-deflating-offsetting-buffering-polygons)那里的提问者实际上是在询问反向操作，但那里的答案也适用于你的情况。其中一个（评分最高的）有一个指向具有 C# 版本的开源库的指针。

顺便说一下，您描述的操作的通常名称是“多边形偏移”。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-16T10:24:50.107

使用 Clipper 库只是成功的一半。

我从单个数组中提取了 GraphicsPath 中的所有点，因此无意中创建了一个基于 2 个单独多边形的畸形多边形（在“A”的情况下）。

相反，我需要检查 GraphicsPath 上的 PointTypes 数组属性。每当一个点的 PointType == 0 时，就意味着一个新多边形的开始。所以提取方法应该使用这个，而不是返回一个多边形数组而不是一个多边形：

```
private ClipperPolygons graphicsPathToPolygons(GraphicsPath gp)
{
    ClipperPolygons polyList = new ClipperPolygons();
    ClipperPolygon poly = null;

    for (int i = 0; i < gp.PointCount; i++)
    {
        PointF p = gp.PathPoints[i];
        byte pType = gp.PathTypes[i];

        if (pType == 0)
        {
            if (poly != null)
                polyList.Add(poly);
            poly = new ClipperPolygon();
        }

        IntPoint ip = new IntPoint();
        ip.X = (int)(p.X * pointScale);
        ip.Y = (int)(p.Y * pointScale);
        poly.Add(ip);
    }
    if (poly != null)
        polyList.Add(poly);

    return polyList;
} 
```

Clipper 的 OffsetPolygons 实际上想要一个多边形列表，所以这对我来说应该很明显。

完整的代码可以在这里看到：http: [//pastie.org/4265265](http://pastie.org/4265265)

如果你很好奇，我已经将整个测试项目压缩到这里，以便在 Visual Studio 中打开并编译。

[http://gehling.dk/wp-content/uploads/2012/07/TestClipper.zip](http://gehling.dk/wp-content/uploads/2012/07/TestClipper.zip)

它没有以任何方式优化速度。

/ 卡斯滕

# mysql - 如何根据mysql中的点添加排名

> ID：11466452
> 
> 赞同：0
> 
> 时间：2012-07-13T08:02:19.767
> 
> 标签：mysql

我正在为 mysql 查询而苦苦挣扎。请帮我。这是我的查询，我得到了正确的结果，但我需要在 mysql 中修改结果。

```
 SELECT  bu.username,
                    bg.id as goal_id,
                    br.id as reason_id,
                    (SELECT COUNT(test_reason_id) FROM test_rank WHERE test_reason_id = br.id) as point
                FROM
                    test_goal AS bg INNER JOIN test_reason AS br ON 
                    br.user_id=bg.user_id INNER JOIN test_user AS bu ON
                    br.user_id=bu.id
                WHERE
                    bg.id       =   br.test_goal_id
                GROUP BY
                    bg.id
                ORDER BY
                    point DESC 
```

**Tabble-1** 当我使用 ORDER BY point DESC 时，我的实际表格看起来像这样，然后它看起来像**Table-2**

```
username     goal_id    reason_id   point
 khan           8            3        2
 john           6            9        5
 yoyo           5           21        4
 smith         11            6        5 
```

**表 2** 我的结果集如下所示

```
username     goal_id    reason_id   point
 john           6            9        5
 smith         11            6        5
 yoyo           5           21        4
 khan           8            3        2 
```

但我想要这样的结果集

```
username     goal_id    reason_id   point   rank
 john           6            9        5       1
 smith         11            6        5       2
 yoyo           5           21        4       3
 khan           8            3        2       4 
```

这可能吗？请任何人都可以帮助我。这对我来说太难了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T08:05:12.770

像这样添加一个行计数变量：

```
select a.*,  (@row := @row + 1) as rank
from (
      SELECT  bu.username,
                bg.id as goal_id,
                br.id as reason_id,
                (SELECT COUNT(test_reason_id) FROM test_rank WHERE test_reason_id = br.id) as point                   
            FROM
                test_goal AS bg INNER JOIN test_reason AS br ON 
                br.user_id=bg.user_id INNER JOIN test_user AS bu ON
                br.user_id=bu.id                    
            WHERE
                bg.id       =   br.test_goal_id
            GROUP BY
                bg.id
            ORDER BY
                point DESC
) a, (SELECT @row := 0) r 
```

请参阅[这个简化的 SQLFiddle 示例](http://sqlfiddle.com/#!2/c465d/11)

# javascript - 发表后评论框不隐藏

> ID：11466457
> 
> 赞同：1
> 
> 时间：2012-07-13T08:02:45.423
> 
> 标签：javascript, jquery, html, ajax

发布任何内容后，评论框不会隐藏。目前使用 AJAX 发布数据。只是想在提交后隐藏输入区域。这是完整的 **[工作示例](http://jsfiddle.net/DkAMN/)**

我也用这段代码打开评论框。

```
$(document).ready(function() {
    $(".comment_button").click(function() {

        var element = $(this);
        var I = element.attr("id");

        $("#slidepanel" + I).slideToggle(300);
        $(this).toggleClass("active");

        return false;
    });
}); 
```

建议您在**[此处查看示例](http://jsfiddle.net/DkAMN/)**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:08:09.267

将以下内容添加到`success`回调中：

```
$("#slidepanel" + Id).hide(); 
```

或者，为了匹配淡入：

```
$("#slidepanel" + Id).slideToggle(300); 
```

请参阅[此处](http://jsfiddle.net/DkAMN/1/)以获取更新的 jsFiddle。请注意，在 jsFiddle 中不会调用成功回调，因为 php 页面不存在于`http://fiddle.jshell.net/DkAMN/1/show/insertajax.php`.

# c# - 如何在 MVC 中使用单独的模型类进行验证

> ID：11466462
> 
> 赞同：0
> 
> 时间：2012-07-13T08:03:10.713
> 
> 标签：c#, asp.net-mvc

我不确定如何实现这一点，我在 Controllers 文件夹中有一个 MovieController.cs，在 Models 文件夹中有一个 MovieCreateViewModel.cs。我需要为创建、编辑和删除视图添加验证。

MovieDetailsViewModel.cs

```
public class MovieDetailsViewModel
{
    public int Id { get; set; }
 } 
```

然后我有 MovieController.cs

```
public class MovieController : Controller
{

    Connect connection;
    MovieCreateViewModel movie;
    MovieDetailsViewModel id;

    public MovieController()
    {
        this.connection = new Connect();
        this.movie = new MovieCreateViewModel();
        this.id = new MovieDetailsViewMode();
    } 

    public ActionResult Edit(MovieDetailsViewModel id)
    {
        movie = this.connection.MovieContext.Where(m => m.ID == id).SingleOrDefault();  **//I get an error here**
        return View(movie);
    }

    //
    // POST: /Movie/Edit/5

    [HttpPost]
    public ActionResult Edit(MovieCreateViewModel movieedit)
    {
        try
        {
            if (ModelState.IsValid)
            {
                this.connection.MovieContext.AddObject(movieedit);
                this.connection.MovieContext.Context.SaveChanges();
                return RedirectToAction("Index");
            }

        }
        catch
        {
            return View(movieedit);
        }
    } 
```

对于httpPost，我`MovieDetailsViewModel id`在参数列表中输入了类型，请问我从哪里开始？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:14:36.533

现在将对您的模型实例执行验证，要检查它，您可以：

```
ModelState.IsValid 
```

在保存操作之前的控制器方法中。只要视图上的输入名称与模型类的属性名称相对应，绑定和验证就会在执行操作方法之前隐式执行。要在视图中显示验证消息，请将 Html.ValidationMessage() 添加到视图顶部。希望这可以帮助。顺便说一句，它非常值得一试[Foolproof Validation](http://foolproof.codeplex.com/)，它提供了条件验证属性和其他一些好东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:53:20.930

更好的做法是使用单独的模型和视图模型。将您的模型转换为视图模型，然后将其传递给视图

```
public ActionResult Edit(int id)
{
     var movie = this.connection.MovieContext.SingleOrDefault(m => m.ID == id);
     var vm = new MovieCreateViewModel{ Id = movie.Id};
     return View(vm);
}

//
// POST: /Movie/Edit/5

[HttpPost]
public ActionResult Edit(MovieCreateViewModel vm)
{
    try
    {
        if (ModelState.IsValid)
        {
            var movie = new Movie{Id = vm.Id};
            this.connection.MovieContext.Attach(movie);
            this.connection.MovieContext.Context.SaveChanges();
            return RedirectToAction("Index");
        }

    }
    catch
    {
        return View(movieedit);
    }
} 
```

# android - 移动浏览器，支持什么？

> ID：11466465
> 
> 赞同：1
> 
> 时间：2012-07-13T08:03:30.093
> 
> 标签：android, ios, mobile

我想问一下业内其他人在移动浏览器支持方面正在做什么，有没有办法能够理解人们正在使用的实际浏览器的细分，而不仅仅是他们的操作系统，例如我有 Safari、Opera、 Chrome 和 Skyfire 安装在我的 iPhone 上，并且大部分时间都倾向于使用 Chrome。

我假设它们仍然会以不同的方式呈现？

任何帮助将不胜感激，谢谢

# jquery - 方向感知悬停上的动画 Div 叠加，使用 jQuery 和 CSS3

> ID：11466466
> 
> 赞同：0
> 
> 时间：2012-07-13T08:03:32.543
> 
> 标签：jquery, html, css

只是想开发一个类似于[http://www.lippincott.com/work/](http://www.lippincott.com/work/)的投资组合页面。

但是，如何实现这种叠加效果（请参阅上面 URL 中的组合项目），它根据鼠标悬停在元素上的方向显示/动画叠加，比如 DIV。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:12:49.090

There's no need for a plug-in! **Here's a [jsfiddle](http://jsfiddle.net/w8pCw/11/) that redoes the same effect.**

```
<div id="BigDiv">

    <div class="MyWrapper">
        <div class="MyContent">5</div>
        <div class="MyOverlay"></div>
    </div>

    <div class="MyWrapper">
        <div class="MyContent">5</div>
        <div class="MyOverlay"></div>
    </div>

    <div class="MyWrapper">
        <div class="MyContent">5</div>
        <div class="MyOverlay"></div>
    </div>

</div>​ 
```

Here's the CSS:

```
.MyWrapper{
    margin:3px 3px;
    float:left;
    width:50px;
    height:50px;
    border:2px solid green;}

.MyContent{
    width:50px;
    height:50px;
    position:relative;}

.MyOverlay{
    opacity:0;   
    width:0px;
    height:50px;
    position:relative;
    top:-50px;
    left:0px;
    background:blue;} 
```

Here's the javascript:

```
 $(document).ready(function () {
        PageHandler();
    });

    function PageHandler() {

    $('#BigDiv').on({

        mouseenter: function() {
            $(this).parent().find('.MyOverlay').css({
                opacity: '0.5',
                width: '0px'
            }).stop().animate({
                width: '50px'
            }, 500);
        },
    }, '.MyContent');

    $('#BigDiv').on({

        mouseleave: function() {
            $(this).parent().find('.MyOverlay').each(function() {
                $(this).stop().animate({
                    opacity: '0'
                }, 300, function() {
                    $(this).css('width', '0px');
                });} 
            )}
    }, '.MyWrapper');
} 
```

I left the opacity at 0.5 instead of 0.95 so that you can see the 5 underneath better; it'll look better when you'll put a picture instead. You can also ply with the durations of the animations. But overall, it's the same effect; you just need to make it work with your design. **No plugin**, just jquery.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-03T21:28:38.687

tympanus.net 上发表了一篇文章，描述了它是如何工作的： [http ://tympanus.net/codrops/2012/04/09/direction-aware-hover-effect-with-css3-and-jquery/](http://tympanus.net/codrops/2012/04/09/direction-aware-hover-effect-with-css3-and-jquery/)

这是一个您可以使用的简单插件，您所要做的就是正确设置您的 css。它基本上检查您进入和离开悬停元素时的鼠标偏移量，基于它会决定从哪一侧为悬停设置动画。

# drupal-7 - Facebook 无法从主机下载 og:image

> ID：11466468
> 
> 赞同：-3
> 
> 时间：2012-07-13T08:03:35.210
> 
> 标签：drupal-7, share, facebook-opengraph

将我创建的网站从一台主机迁移到另一台主机后，出现了问题：

当我去分享时，Facebook 无法获取 og:image。前东道主并非如此。

**关于网站的一些信息：**

*   它在 Drupal 7.14 上运行

*   两个站点是相同的，包括 .htaccess 文件。

**我在寻找问题时已经发现的东西**

*   HTTPS 问题

*   .htaccess：选项 FollowSymLinks

*   图片纵横比 < 3:1

上述解决方案均未奏效。

通过 Facebook linter 运行网站时出现错误：无法下载 og:image：无法下载 og:image 标签的 url 引用的图像。

我还通过 OpenGraph 检查器运行了它，这里没有错！ [http://ogp.spypixel.com/Pogo/checker/index.php?url=http%3A%2F%2Fwww.bikinicontest.be%2Fbabe%2Fjana-claus](http://ogp.spypixel.com/Pogo/checker/index.php?url=http%3A%2F%2Fwww.bikinicontest.be%2Fbabe%2Fjana-claus)

您可以在此处找到该页面：http: [//www.bikinicontest.be](http://www.bikinicontest.be)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T09:45:25.303

根据[Facebook 的调试工具](https://developers.facebook.com/tools/debug)，您在该页面上有一个循环重定向路径：

```
original    http://www.bikinicontest.be/
og:url  http://www.bikinicontest.be/home
301 http://www.bikinicontest.be/ 
```

尝试先修复它

如果这不能解决问题，则可能是图像文件本身的问题，或者 Facebook 爬虫的错误 - 在这种情况下，您应该在[错误跟踪器中提交错误报告](https://developers.facebook.com/bugs/)

# google-bigquery - IS NULL 函数不起作用

> ID：11466471
> 
> 赞同：0
> 
> 时间：2012-07-13T08:03:58.630
> 
> 标签：google-bigquery

我已经测试`IS NULL`了 Google BigQuery 提供的功能，但它似乎没有给出正确的结果。

**样本数据：**

```
id   age   gender   password
1,   11,    NULL,     NULL
1,   11,   "NULL",   "NULL"
1,   11,   "null",   "null"
1,     ,    NULL,     NULL 
```

**询问：**

```
SELECT id, age, gender, password, id IS NULL, age IS NULL, gender IS NULL, password IS NULL 
FROM privatedata.testnull 
```

**输出：**

```
Row id  age gender  password f0_    f1_      f2_     f3_     
1   1   11   NULL    NULL   false   false   false   false    
2   1   11   NULL    NULL   false   false   false   false    
3   1   11   null    null   false   false   false   false    
4   1   0    NULL    NULL   false   false   false   false 
```

但是这个 SQL 有效：

```
SELECT NULL IS NULL, COUNT(*) FROM privatedata:testnull 
```

所以我不确定是否`IS NULL`工作。此外，我对如何以字符串格式和数字格式插入空数据感到困惑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T16:53:11.807

编辑答案：

对于非常旧的表，存在一个问题，即我们没有保留空字段和 NULL 字段之间的值。应该为 2013 年 3 月之后创建的任何表修复此问题。

旧答案：

我认为问题在于对于字符串字段，我们将 NULL 解释为字符串“NULL”。如果您只使用`, ,`字符串值怎么办？

令人惊讶的是，第 4 行中的年龄应该显示为空。看起来 IS_NULL 函数有问题。我已经在内部提交了一个错误。然而，IS_EXPLICITLY_DEFINED() 函数应该返回您所期望的（例如，第 4 行中年龄的 IS_EXPLICITLY_DEFINED 将返回 fasle）。

# javascript - 通过“onclick”事件从另一个函数调用一个函数

> ID：11466476
> 
> 赞同：0
> 
> 时间：2012-07-13T08:04:14.417
> 
> 标签：javascript

我想要做的是，通过单击该函数中的单选按钮从另一个函数调用一个函数。这是我迄今为止工作的代码 -

```
<script type="text/javascript">
rad1 = document.createElement("input");
rad1.type = "radio";
rad1.name = "dooropt";
rad1.id = "rb1";
rad1.value = "y";
newP.appendChild(rad1);
text1 = document.createTextNode("Yes ");
newP.appendChild(text1);
rad2 = document.createElement("input");
rad2.type = "radio";
rad2.name = "dooropt";
rad2.id = "rb2";
rad2.value = "n";
newP.appendChild(rad2);
text2 = document.createTextNode("No ");
newP.appendChild(text2);
button1 = document.createElement("input");
button1.type = "button";
button1.value = "Open main door";
button1.style.visibility = "hidden";
newP.appendChild(button1);
button2 = document.createElement("input");
button2.type = "button";
button2.value = "Open apartment door";
button2.style.visibility = "hidden";
newP.appendChild(button2);
area.appendChild(newP);
rad1.onclick = mainalso();
rad2.onclick = onlyapp();
}

 function mainalso()
{ 
    button1.style.visibility="visible";
    button2.style.visibility="visible";
    }

 function onlyapp()
{
    button2.style.visibility="visible";
    button1.style.visibility="hidden";
    }
</script> 
```

现在，每当单击 rad1 时，我希望 mainalso() 运行，这可能从代码中可以清楚地看出。由于我对 JavaScript 相当陌生，我不知道我在哪里犯了错误，在语法或概念上。此外，第一个函数（在 mainalso() 之前）是 add()，在其中，我在单击正文中的按钮时反复附加相同的内容。我希望很清楚我想要做什么。单击 rad1 时，我希望两个按钮（按钮 1 和按钮 2）都出现，但单击 rad2 时，我只希望出现一个按钮。最初，两者都设置为“隐藏”可见性。请帮帮我。对不起，如果看起来不清楚，我尽力了.. 谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:08:38.343

尝试改变：

```
rad1.onclick = mainalso();
rad2.onclick = onlyapp(); 
```

到：

```
rad1.onclick = mainalso;
rad2.onclick = onlyapp; 
```

就目前而言，您正在将调用`function`s的结果分配给`onclick`of `rad1`，`rad2`在这种情况下将是`undefined`. 通过删除`()`您将`function`正确分配。

为了确保`button1`和`button2`在您被调用时可用并设置为正确的值，您`function`可以将代码更改为：

```
...
newP.appendChild(button2);
area.appendChild(newP);
(function (b1, b2) {
    rad1.onclick = function () {
        b1.style.visibility="visible";
        b2.style.visibility="visible";
    };
    rad2.onclick = function () {
        b2.style.visibility="visible";
        b1.style.visibility="hidden";
    };
})(button1, button2); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:09:12.590

你应该做这个：

```
rad1.onclick = mainalso;
rad2.onclick = onlyapp; 
```

编辑：我试过这个，它对我有用。查看[示例](http://jsfiddle.net/BU4PW/)

```
window.onload = function() {
rad1 = document.createElement("input");
rad1.type = "radio";
rad1.name = "dooropt";
rad1.id = "rb1";
rad1.value = "y";
newP.appendChild(rad1);
text1 = document.createTextNode("Yes ");
newP.appendChild(text1);
rad2 = document.createElement("input");
rad2.type = "radio";
rad2.name = "dooropt";
rad2.id = "rb2";
rad2.value = "n";
newP.appendChild(rad2);
text2 = document.createTextNode("No ");
newP.appendChild(text2);
button1 = document.createElement("input");
button1.type = "button";
button1.value = "Open main door";
button1.style.visibility = "hidden";
newP.appendChild(button1);
button2 = document.createElement("input");
button2.type = "button";
button2.value = "Open apartment door";
button2.style.visibility = "hidden";
newP.appendChild(button2);
area.appendChild(newP);
rad1.onclick = mainalso();
rad2.onclick = onlyapp();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:47:22.557

您必须定义您正在使用的 newP 和区域：
area.appendChild(newP);

由于标签 HTML 是这样使用的：

```
<input type="radio" name="dooropt" id="rb1" value="y" onClick="mainalso()"/> 

```

所以你可以使用：

rad1.onClick=mainalso;

# c# - Datagridview 强制在一列中只选择一个复选框

> ID：11466488
> 
> 赞同：3
> 
> 时间：2012-07-13T08:05:10.803
> 
> 标签：c#, .net, winforms, datagridview, checkbox

如何强制在 Datagridview 的列中仅选中一个复选框？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-08-09T14:40:26.750

```
 private void grdRegClass_CellContentClick(object sender, DataGridViewCellEventArgs e)
    {
        if (grdRegClass.Columns.IndexOf(grdRegClass.Columns["Status"]) == e.ColumnIndex)
        {
            int currentcolumnclicked = e.ColumnIndex;
            int currentrowclicked = e.RowIndex;
            foreach (DataGridViewRow dr in grdRegClass.Rows)
            {
                dr.Cells[currentcolumnclicked].Value = false;
            }
            grdRegClass.CurrentRow.Cells[currentrowclicked].Value = true;  
        }
    } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-13T08:10:04.083

您必须订阅`CellValueChanged`网格事件，并根据当前单元格的检查状态，循环 DataGridView 并将 true/false 设置为其他单元格的值。

```
void grd_CellValueChanged(object sender, DataGridViewCellEventArgs e)
{
      if ((sender as DataGridView).CurrentCell is DataGridViewCheckBoxCell)
      {
           if (Convert.ToBoolean(((sender as DataGridView).CurrentCell as DataGridViewCheckBoxCell).Value))
           {
                   // Maybe have a method which does the
                    //loop and set value except for the current cell
            }
        }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-08-08T23:59:38.650

```
 private void dataGridViewProduit_CellValueChanged(object sender, DataGridViewCellEventArgs e)
    {
        if ((sender as DataGridView).CurrentCell is DataGridViewCheckBoxCell)
        {
            if (Convert.ToBoolean(((sender as DataGridView).CurrentCell as DataGridViewCheckBoxCell).Value))
            {
                foreach (DataGridViewRow row in (sender as DataGridView).Rows)
                {
                    if (row.Index != (sender as DataGridView).CurrentCell.RowIndex && Convert.ToBoolean(row.Cells[e.ColumnIndex].Value) == true)
                    {
                        row.Cells[e.ColumnIndex].Value = false;
                    }
                }
            }
        }
    }

    private void dataGridViewClient_CurrentCellDirtyStateChanged(object sender, EventArgs e)
    {
        if (this.dataGridViewClient.IsCurrentCellDirty)
        {
            dataGridViewClient.CommitEdit(DataGridViewDataErrorContexts.Commit);
        }
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T08:10:22.777

您可以使用`CellEndEdit`event of `DGV`，因为它发生在修改单元格之后。请阅读以下代码片段中的注释以使用以下代码：

```
private void dgrvUserProfileView_CellEndEdit(object sender, DataGridViewCellEventArgs e)
{
    int CheckedCount = 0;

    //Make sure you have set True Value/ false Value property of check box column to 1/0 or true/false resp.
    //Lets say your column 5th(namely Department) is a checked box column
    if (dgrvUserProfileView.Columns[e.ColumnIndex].Name == "Department")
    {
        for (int i = 0; i <= dgrvUserProfileView.Rows.Count - 1; i++)
        {
            if (Convert.ToBoolean(dgrvUserProfileView.Rows[i].Cells["Department"].Value) == true)
            {
                CheckedCount = CheckedCount + 1;
            }
        }

        if (CheckedCount == 1)
        {
            for (int i = 0; i <= dgrvUserProfileView.Rows.Count - 1; i++)
            {
                if (Convert.ToBoolean(dgrvUserProfileView.Rows[i].Cells["Department"].Value) == true)
                {
                    dgrvUserProfileView.Rows[i].Cells["Department"].ReadOnly = true;
                }
            }
        }
        else
        {
            for (int i = 0; i <= dgrvUserProfileView.Rows.Count - 1; i++)
            {
                dgrvUserProfileView.Rows[i].Cells["Department"].ReadOnly = false;
            }
        }
    }
} 
```

希望这可以帮助！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-19T07:21:19.360

```
private void dgvlist_CellContentClick(object sender, DataGridViewCellEventArgs e)  
    {  
        int currentcolumnclicked = e.ColumnIndex;  
        for (int i = 0; i <= dgvlist.Columns.Count - 1; i++)  
        {  
            if (dgvlist.Columns[i] is DataGridViewCheckBoxColumn)  
            {  
                if (Convert.ToString(dgvlist.CurrentRow.Cells[i].EditedFormattedValue) == "True" && i !=currentcolumnclicked)  
                {  
                    dgvlist.CurrentRow.Cells[i].Value = false;  
                }  
            }  
        }  
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-02-15T12:15:28.680

```
private void dgvCaixa_CellContentClick(object sender, DataGridViewCellEventArgs e)
        {
            if ((sender as DataGridView).CurrentCell is DataGridViewCheckBoxCell)
            {
                foreach (DataGridViewRow row in dgvCaixa.Rows)
                {
                    if (row.Index != dgvCaixa.CurrentCell.RowIndex && Convert.ToBoolean(row.Cells[e.ColumnIndex].Value) == true)
                    {
                        row.Cells[e.ColumnIndex].Value = false;
                    }
                }
            }
        } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-12-22T19:10:07.703

在 vb.net 中：

```
Private Sub DataGridViewJobsList_CellValueChanged(sender As Object, e As DataGridViewCellEventArgs) Handles DataGridViewJobsList.CellValueChanged
    If TypeOf TryCast(sender, DataGridView).CurrentCell Is DataGridViewCheckBoxCell Then
        Dim cell1 As DataGridViewCell
        cell1 = TryCast(sender, DataGridView).CurrentCell
        If cell1.Value = True Then
            For Each row As DataGridViewRow In TryCast(sender, DataGridView).Rows
                If row.Index <> cell1.RowIndex AndAlso row.Cells(e.ColumnIndex).Value = "1" Then
                    row.Cells(e.ColumnIndex).Value = False
                End If
            Next
        End If
    End If
End Sub

Private Sub DataGridViewJobsList_CurrentCellDirtyStateChanged(sender As Object, e As EventArgs) Handles DataGridViewJobsList.CurrentCellDirtyStateChanged
    If Me.DataGridViewJobsList.IsCurrentCellDirty Then
        DataGridViewJobsList.CommitEdit(DataGridViewDataErrorContexts.Commit)
    End If
End Sub 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-05-02T09:25:49.987

您可以在**DGV 上将****VirtualMode**设置为**TRUE**以仅允许一个复选框。并且您可以在**DatagridView上将****VirtualMode**设置设置为**FALSE**以检查多个。

 ******我认为这是解决方案的最简单方法。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-05-26T04:00:49.577

不用担心 Column 并且永远不会失败，试试这个：

```
private void DgvIVA_CellContentClick(object sender, DataGridViewCellEventArgs e)
{
    DataGridView dg = (DataGridView)sender;
    if (dg.Rows.Count == 0) return;
    if (dg.Rows[e.RowIndex].Cells[e.ColumnIndex].GetType() == typeof(DataGridViewCheckBoxCell))
    {
        int rowSelIndex = e.RowIndex;
        foreach (DataGridViewRow row in dg.Rows)
        {
            if (row.Index != rowSelIndex)
            {
                row.Cells[e.ColumnIndex].Value = false;
            }
        }
    }
} 
```

* * *

## 回答 #10

> 赞同：-2
> 
> 时间：2013-11-12T09:39:31.057

```
private void dataGridView3_CellContentClick(object sender, DataGridViewCellEventArgs e)
        {
            if (e.ColumnIndex == 1)
            {
                try
                {
                    string val = dataGridView3.Rows[e.RowIndex].Cells[e.ColumnIndex].Value.ToString();
                    if (val == "False")
                        val = "True";
                    else if (val == "True")
                        val = "False";
                    dataGridView3.Rows[e.RowIndex].Cells[e.ColumnIndex].Value = val;

                for (int i = 0; i < dataGridView3.Rows.Count; i++)
                {
                    string active = "";
                    if (i != e.RowIndex)
                    {
                        if (val == "False")
                        {
                            dataGridView3.Rows[i].Cells[1].Value = "True";
                            active = "Y";
                        }
                        else if (val == "True")
                        {
                            dataGridView3.Rows[i].Cells[1].Value = "False";
                            active = "N";
                        }
                    }
                    else
                    {
                        if (val == "False")
                            active = "N";
                        else
                            active = "Y";
                    }

                }

            }
            catch (Exception ex)
            { }
        }
    } 
```******

# android - 当用户单击暂停图标时，libgdx 游戏如何显示暂停屏幕

> ID：11466496
> 
> 赞同：2
> 
> 时间：2012-07-13T08:05:24.197
> 
> 标签：android, libgdx

在 libgdx 中，当用户单击暂停时如何显示暂停屏幕，它应该覆盖当前屏幕，并且当用户单击恢复时它应该关闭屏幕我如何在 libgdx 中实现它。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T12:25:57.567

我不喜欢这里关于使用原生 Android View 的建议，这可以在 libgdx 本身内巧妙地完成。

我会有一些变量来定义游戏的当前状态。如果按下暂停按钮，或者游戏被 android 暂停（例如，如果用户按下主页按钮），则该变量应该获得一个暂停值。然后在您的 render() 方法中，如果此变量具有 pause 值，您将绘制一些暂停屏幕。

该屏幕可以以多种方式绘制。如果您使用舞台，您有两个不错的选择：

1.  如果暂停，除了游戏阶段之外，在您绘制游戏阶段之后，绘制一个带有暂停项目的圣人。然后它将在游戏的顶部。

2.  您可以创建一些 Window 演员，并将暂停项目添加到其中。然后，当游戏暂停时，您将其添加/使其在您的舞台上可见。

一些示例代码：

```
public class GameScreen implements Screen {

    private Stage mystage;

    public static final int GAME_RUNNING = 0;
    public static final int GAME_PAUSED = 0;

    private int gamestatus;

    // ...

    public void render(float deltaTime) {
        // draw game normally, probably shouldn't update positions etc. if 
        // the game is paused..

        if (pausebutton is pressed) {
            pauseGame();
        }

        if (gamestatus == GAME_PAUSED) {
            // draw pause screen
        }

    }   
    public void pauseGame() {
        gamestatus = GAME_PAUSED;
    }

    // this is called by android 
    public void pause() {
        pauseGame();
    }
} 
```

不是一个完整的示例，但显示了基本逻辑。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-11T12:23:44.847

声明它

```
public static final int GAME_READY = 0; 

public static final int GAME_RUNNING = 1; 

public static final int GAME_PAUSED = 2; 

public static final int GAME_OVER = 4;

public static int state; 
```

并在更新方法中

```
 switch (state) {
    case GAME_READY:
        updateReady();
        break;
    case GAME_RUNNING:
        updateRunning(delta);
        break;
    case GAME_PAUSED:
        updatePaused();
        break;
    case GAME_OVER:
        gameOver = true;
        updateGameOver();
        break;
    } 
```

这肯定会对你有所帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-05-17T04:10:57.553

```
 boolean GAME_PAUSED = false;

    if (GAME_PAUSED) {
    //Do not update camera
        batch.begin();
        resumeButton.draw(batch);
        batch.end();
    } else {
    //Update Camera
    Gdx.gl.glClearColor(0.0f, 0.0f, 0.0f, 0.0f);
    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);
    world.step(1/60f, 8, 3);
    camera.update();
    debugRenderer.render(world, camera.combined);
    //Do your game running
    } 
```

# windows - Windows Live Mail 使用什么代替 UTF-8

> ID：11466499
> 
> 赞同：0
> 
> 时间：2012-07-13T08:05:44.710
> 
> 标签：windows, email, encoding, utf-8

我有一个客户从网站接收邮件，邮件有四种语言：意大利语、英语、德语和俄语。一切都很好，除了俄语，他正在使用 Windows Live Mail。

是否有任何 ISO 字符集可以替代 UTF-8 并支持这些语言？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-14T16:21:55.550

在 Windows Live Mail 2011 中通过收件箱抓取任意电子邮件，显示正常：

```
...
Date: Fri, 6 Jul 2012 10:31:46 -0700
Subject: =?UTF-8?B?KEludml0YXRpb24pIENhc2FibGFuY2EgKEV2ZW50SUQ2MzgzKQ==?=
Content-Type: multipart/alternative;
    boundary="--boundary_251791_d10ae85f-6531-47e3-9bd7-dc701f50b1c6"

----boundary_251791_d10ae85f-6531-47e3-9bd7-dc701f50b1c6
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMCBUcmFuc2l0aW9u
...etc
ZnQgQ29ycG9yYXRpb24KT25lIE1pY3Jvc29mdCBXYXkKUmVkbW9uZCwgV0EgOTgwNTI=
----boundary_251791_d10ae85f-6531-47e3-9bd7-dc701f50b1c6-- 
```

请注意在主题和邮件正文中大量使用 utf-8 以及 base64 编码，以避免邮件被电子邮件网关破坏。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-14T13:46:25.400

不支持 UTF-8 的 MUA？我不得不回应[deceze](https://stackoverflow.com/users/476/deceze)的评论“你不可能是认真的”。

但如果这是真的，那么您可以做的是将电子邮件分解为多部分/混合 MIME 消息，多部分的每个部分都包含不同语言的文本，并使用适合该语言的不同传统国家字符编码。如果所有部分的类型均为 text/something（text/plain 或 text/html）并且具有`Content-Disposition: inline`，则第二部分和后续部分不应显示为附件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-05-27T09:15:11.107

关闭 Windows Live Mail 后，在开始搜索框中键入 regedit，然后按 Enter。如果要求，请授予 UAC 权限。

在左侧窗格中，导航到 HKEY_CURRENT_USER\Software\Microsoft\Windows Live Mail\Compose\Preferences\PostEditor\Autoreplace 并单击 Autoreplace。

在右侧窗格中，双击 SmartQuotes。在数值数据框中键入 0（数字零），然后单击确定。

按 F5，然后关闭注册表编辑器窗口。

启动 Windows Live Mail 并进行测试。

有关[Windows 技术支持](http://www.spotageek.com/services/windows-technical-support.php)的更多详细信息，请访问[http://www.spotageek.com](http://www.spotageek.com)

# matlab - matlab上没有使用mex的C编译器，有什么简单的编译器/解决方案吗？

> ID：11466501
> 
> 赞同：0
> 
> 时间：2012-07-13T08:05:53.353
> 
> 标签：matlab, compiler-construction, remote-desktop, mex

我整天都在为这些事情发疯……

我在远程桌面（64 位 windows server 2008）上安装了 Matlab2010a，然后我需要使用“mex”命令重新编译代码（已经在我的笔记本电脑上编译（64 位），但是当我复制时它不起作用.mexw64 到远程）

但是在远程桌面上，没有Visual Studio/VC6.0。而且您知道在远程桌面上安装类似的东西太难而且不可行......

那么，我还有其他解决方案可以在 matlab 上编译 .cpp 吗？

非常感谢你，因为我被逼疯了......耶稣......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T12:10:22.403

尝试以下操作以查看可用的编译器

```
mex

Select a compiler: 
[1] Lcc-win32 C 2.4.1 in C:\PROGRA~1\MATLAB\R2012a\sys\lcc 
[2] Microsoft Visual C++ 2010 in C:\Program Files (x86)\Microsoft Visual Studio 10.0 
```

输出显示我的 MATLAB 可能使用这两个编译器之一来创建 mex 文件。

如果我想设置我的另一个编译器，我必须使用以下命令

```
mex -setup 
```

# android - 如何在 tabhost 中从儿童活动切换到家庭活动

> ID：11466506
> 
> 赞同：0
> 
> 时间：2012-07-13T08:06:21.513
> 
> 标签：android, tabs, android-activity

我正在我的应用程序中实现选项卡。为此，我创建了一个类来处理选项卡内的活动。我的问题是我一个接一个地开始了一些活动，比如A、B、C、D。现在我想从D回到活动A，而其他活动如B、C和D应该被销毁。请帮我实现这一点。这是我用来处理活动的代码......

```
public class TabGroupActivity extends ActivityGroup {

protected Context mCTX;
protected ArrayList<String> mIdList;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    if(mIdList == null){
        mIdList = new ArrayList<String>();
    }

    //set context
    mCTX = this;

}

public void startChildActivity(String Id, Intent intent){
    Id+= System.currentTimeMillis();
    Window window = getLocalActivityManager().startActivity(Id,intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP));

    if (window != null) {
        mIdList.add(Id);
        setContentView(window.getDecorView());
    }
}

@Override
public void onBackPressed() {
    // TODO Auto-generated method stub

    int length = mIdList.size();
    if(length > 0){
        Activity current = getLocalActivityManager().getActivity(mIdList.get(length-1));
        current.finish();
    }

}

@Override
public void finishFromChild(Activity child) {

    LocalActivityManager manager = getLocalActivityManager();
    int index = mIdList.size()-1;

    if (index < 1) {
        finish();
        return;
    }

    manager.destroyActivity(mIdList.get(index), true);
    mIdList.remove(index);
    index--;
    String lastId = mIdList.get(index);
    Intent lastIntent = manager.getActivity(lastId).getIntent();
    Window newWindow = manager.startActivity(lastId, lastIntent);
    setContentView(newWindow.getDecorView());
}

} 
```

当我开始活动时，我将使用以下代码。

```
Intent locIntent = new Intent(HomeActivity.this,SomeActivity.class);
TabGroupActivity parent = (TabGroupActivity) getParent();
parent.startChildActivity("some id", locIntent); 
```

我还有一个疑问......如何将一个选项卡中的活动切换到另一个选项卡中的活动。提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T08:10:16.520

不要在 TabHost 中使用活动，这会浪费内存。我宁愿使用片段。您可以轻松地将它们添加到 TabHost。这是一个很好的教程：

[http://thepseudocoder.wordpress.com/2011/10/13/android-tabs-viewpager-swipe-able-tabs-ftw/](http://thepseudocoder.wordpress.com/2011/10/13/android-tabs-viewpager-swipe-able-tabs-ftw/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T12:46:38.033

为什么不`FLAG_ACTIVITY_CLEAR_TOP`为您要调用的新意图设置标志以返回到之前启动的活动。

您需要在该 Activity 的清单文件中将您的 launchMode 设置为多个实例，并且仅使用 FLAG_ACTIVITY_CLEAR_TOP。

如 FLAG_ACTIVITY_CLEAR_TOP 理论所述。

例如，考虑一个由以下活动组成的任务：A、B、C、D。如果 D 调用 startActivity() 并带有一个解析为活动 B 的组件的 Intent，那么 C 和 D 将完成并且 B 接收给定的 Intent ，导致堆栈现在是：A，B。

我已经使用它并且它工作得非常好，所以请让我知道它是否对您有意义，或者您在实施它时是否遇到任何问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T11:38:19.593

以下链接非常有用 [http://thepseudocoder.wordpress.com/2011/10/13/android-tabs-viewpager-swipe-able-tabs-ftw/](http://thepseudocoder.wordpress.com/2011/10/13/android-tabs-viewpager-swipe-able-tabs-ftw/)

# datetime - 创建日期的奇怪行为

> ID：11466507
> 
> 赞同：0
> 
> 时间：2012-07-13T08:06:27.100
> 
> 标签：datetime, timezone, plone

我对创建对象的时间有些奇怪。

我在法国，服务器时间还可以。

当我在 09:45 创建一个新文档时，我在目录中有这些数据：

```
Date                2012-07-13T07:45:01+00:00 
ModificationDate    2012-07-13T07:45:01+00:00 
created             2012/07/13 05:44:37.933325 GMT 
modified            2012/07/13 05:45:1.990650 GMT 
CreationDate        2012-07-13T07:44:37+00:00 
```

创建和修改是 4 小时前！

有没有办法修复时区或纠正它？

# c# - WPF Datagrid Combobox XAML 和代码隐藏

> ID：11466509
> 
> 赞同：0
> 
> 时间：2012-07-13T08:06:33.167
> 
> 标签：c#, .net, wpf, xaml, wpfdatagrid

由于我是 WPF 的初学者，所以我有一个可能是基本性质的问题。

我有一个带有组合框的数据网格。

我写的xaml是：

```
<DataGridComboBoxColumn Header="ControlOption" Width="100"
       SelectedItemBinding="{Binding Path=DataGridComboxBox_Control}">
    <DataGridComboBoxColumn.ItemsSource>
        <col:ArrayList>
            <sys:String>Database1</sys:String>
            <sys:String>DataBase2</sys:String>
        </col:ArrayList>
    </DataGridComboBoxColumn.ItemsSource>
</DataGridComboBoxColumn> 
```

我有 3 个值，它们应该在组合框的下拉列表中。1.工作流1 2.工作流2 3.工作流3

现在我如何为 ComboxBox 编写代码隐藏。请在这方面给我指点。:)

非常感谢。

阿舒托什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:31:19.520

不好意思，没太看懂你。您想从后面的代码中替换组合框的 itemssource 吗？在这种情况下，您可以将组合框的 ItemsSource 绑定到属性。像那样：

```
<Controls:DataGridComboBoxColumn Header="Gender" ItemsSource="{Binding Path=Genders}" /> 
```

并且在后面的代码中会像

```
 public ObservableCollection<string> Genders
    {
        get {
            return _genders;
        }
        set { _genders = value;
            PropertyChanged(this, new PropertyChangedEventArgs("Genders"));
        }
    } 
```

如果你的意思是别的，请解释一下。可能是我以错误的方式理解你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-16T11:25:32.597

使用 datagrid_PreviewKeyDown 函数来捕获网格中的按键。如果单元格被聚焦，则使用 datagrid.BeginEdit() 将单元格从文本块转换为组合框。我认为这将有助于解决问题。

# android - 如何在警报对话框运行时运行进度对话框

> ID：11466511
> 
> 赞同：0
> 
> 时间：2012-07-13T08:06:53.177
> 
> 标签：android, progressdialog, android-alertdialog

我有`AlertDialog`一个物品清单。当我单击 的某些项目时`AlertDialog`，我想运行`ProgressDialog`.

我该怎么做？

这是我的代码的一部分：

```
final CharSequence[] items = { "Detalles", "Reprogramarlo",
    "Ejecutarlo", "Cancelarlo", "Evaluación" };

AlertDialog.Builder builder = new AlertDialog.Builder(
    SeleccionarServicio.this);
builder.setTitle("¿Qué quiere hacer?");
builder.setItems(items, new DialogInterface.OnClickListener() {
public void onClick(DialogInterface dialog, int item) {

    if (items[item].equals("Detalles")) {

    }

    if (items[item].equals("Reprogramarlo")) {

    }

    if (items[item].equals("Ejecutarlo")) {
        //Here I want to run progress dialog

        final ProgressDialog pd = ProgressDialog.show(SeleccionarServicio.this, "Medidas a Adoptar",
                "Comprobando Medidas...");
        new Thread(new Runnable() {
            public void run() {
                app.ActualizarMedidasAdoptar(clickedObject.getNumeroCliente(), clickedObject.getCodigoObra());

                pd.dismiss();

            }
        }).start();

        }                           
        });
    }

    if (items[item].equals("Cancelarlo")) {
        DilogCancelarServicio();
    }

    if (items[item].equals("Evaluación")) {

    }

}
});
AlertDialog alert = builder.create();

alert.show();

} 
```

提前致谢。

# mod-rewrite - 重定向匹配不起作用

> ID：11466513
> 
> 赞同：0
> 
> 时间：2012-07-13T08:06:58.167
> 
> 标签：mod-rewrite, redirect, url-rewriting

我有这个网址：

```
http://www.example.com/prospective/deginfo.php?classname=PE&diploma_description=BSc+in+Mathematical+Sciences 
```

我需要重定向到这个 URL：

```
http://www.example.ie/prospective/deginfo.php?classname=PEC&diploma_description=BSc+in+Mathematical+Sciences+with+French+%27Bachelor+Honours+Degree%27 
```

我想我可以用 a`RedirectMatch`来“捕捉”`Bsc`从那里到那里的所有东西，让它重定向到我想要的 URL，但它不起作用：

```
RedirectMatch ^/.*BSc\+in\+Physical\+Education http://www.example.ie/prospective/deginfo.php?classname=PEC&degree_description=BSc+in+Mathematical+Sciences+with+French+%27Bachelor+Honours+Degree%27 
```

谁能告诉我我做错了什么以及如何纠正？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:16:41.823

您无法匹配 a 中的查询字符串`RedirectMatch`，它仅匹配 URI。您可以使用 mod_rewrite 和 a 来匹配它`RewriteCond`：

```
RewriteEngine On

RewriteCond %{QUERY_STRING} ^classname=PE&diploma_description=BSc\+in\+Mathematical\+Sciences$
RewriteRule ^/?prospective/deginfo.php$ /prospective/deginfo.php?classname=PEC&degree_description=BSc+in+Mathematical+Sciences+with+French+'Bachelor+Honours+Degree' [L,R] 
```

# java - 1 个作家服务器 1 个搜索服务器实时工作

> ID：11466514
> 
> 赞同：1
> 
> 时间：2012-07-13T08:07:01.873
> 
> 标签：java, solr

我有2个服务器，其中一个正在编写进程，同时想有一个搜索进程与搜索进程必须同时进行，可以帮助提供有关此主题的信息吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T11:54:42.470

有点难以理解这个问题。但如果我理解这一点，您希望索引到 solr 服务器并从 solr 服务器的不同实例中搜索。

如果是这种情况，请查看[SolrReplication](http://wiki.apache.org/solr/SolrReplication)。

# facebook-opengraph - 如何在 Open Graph 中使用直方图进行列表聚合？

> ID：11466518
> 
> 赞同：-1
> 
> 时间：2012-07-13T08:07:13.487
> 
> 标签：facebook-opengraph

我在文档中找到：

> 列表：帮助突出显示用户最近的活动或喜欢的对象。列表还有一个相关的直方图，灰色阴影，将自动出现在列表中显示的每一行。

但是如何在列表中做直方图呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-15T22:36:53.747

您的聚合应在标题行中包含 {count} 或其他一些聚合单元。

例如：{count} 次

之后该列表将成为直方图。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T11:17:18.427

您不“做”直方图，当您发布的操作显示在聚合单元中的用户时间轴上时，它会自动显示在列表后面的阴影块中

请参阅我的个人资料中的附件：

![带有直方图的列表格式的聚合](../Images/36f7b05a555b44b5be32504eab408320.png)

# jquery - 使用 jquery 向表中添加新行不起作用

> ID：11466525
> 
> 赞同：1
> 
> 时间：2012-07-13T08:07:37.393
> 
> 标签：jquery, jquery-selectors

我正在尝试添加/删除`<tr>`包含一些表单元素的新表格行，点击使用 jquery。我尝试使用一些教程开发 jquery 代码，但我的代码不起作用。我无法添加或删除任何行。

虽然我已经提供了下面的代码，如果你仍然想在 jsfiddle 上看到代码，请查看这个链接：[demo](http://jsfiddle.net/xtyFh/)

你能告诉我我哪里做错了吗？谢谢 ：）

HTML

```
 <h2><a href="#" id="addScnt">Add Another Input Box</a></h2>
  <table class="dynatable">
        <thead>
            <tr>
                <th>Type</th>
                <th>Account Name</th>
                <th>Debit</th>
                <th>Credit</th>

            </tr>
        </thead>

     <tbody id="p_scents">

         <tr>
        <td><select name="type" id="type">
              <option value="Debit">Debit</option>
              <option value="Credit">Credit</option>
              </select> 
             </td>

             <td><select name="accounts" id="accounts">
    <option value="">SELECT</option>
    <option value="One">One</option>
    <option value="Two">Two</option>
       </select> </td>

      <td><input type="text" name="debit_amount" id="debit_amount" /> </td>
      <td><input type="text" name="credit_amount" id="credit_amount"/></td>

      </tr>
    </tbody>
  </table> 
```

jQuery

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js">
</script>
<script>
  $(function() {
    var scntDiv = $('#p_scents');
    var i = $('#p_scents tr').size() + 1;

    $('#addScnt').live('click', function() {
        ('<tr>
           <td> <select name="type" id="type">
               <option value="Debit">Debit</option>
              <option value="Credit">Credit</option>
             </select> </td>

         <td> <select name="accounts" id="accounts">
              <option value="">SELECT</option>
              <option value="One">One</option>
              <option value="Two">Two</option>
             </select>  </td>

        <td><input type="text" name="debit_amount" id="debit_amount"/></td>
        <td><input type="text" name="credit_amount" id="credit_amount"/></td>
   <td><a href="#" id="remScnt">Remove</a></td></tr>').appendTo(scntDiv);

            i++;
            return false;
     });

      //Remove button
         $('#remScnt').live('click', function() { 
            if( i > 2 ) {
                    $(this).parents('<tr>').remove();
                    i--;
            }
            return false;
          });
       });
   </script>​​ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:39:05.533

这是一个工作示例，包括删除行功能：[DEMO](http://jsfiddle.net/scumah/xtyFh/8/)。

这是生成的 JS：

```
var scntDiv = $('#p_scents');
var i = $('#p_scents tr').size() + 1;

$('#addScnt').click(function() {
    scntDiv.append('<tr><td><select name="type" id="type"><option value="Debit">Debit</option><option value="Credit">Credit</option></select></td><td><select name="accounts" id="accounts"><option value="">SELECT</option><option value="One">One</option><option value="Two">Two</option></select></td><td><input type="text" name="debit_amount" id="debit_amount"/></td><td><input type="text" name="credit_amount" id="credit_amount"/></td><td><a href="#" id="remScnt">Remove</a></td></tr>');   
    i++;
    return false;
});

//Remove button
$(document).on('click', '#remScnt', function() {
    if (i > 2) {
        $(this).closest('tr').remove();
        i--;
    }
    return false;
});​ 
```

首先，您的 HTML 有几个语法问题（在小提琴中解决了）。你在哪里使用[.append()](http://api.jquery.com/append/)，函数错误，并且你最后一个函数中的选择器 ('$(this).parents('').remove();') 需要只是 'tr'。

没什么：P

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-13T08:20:35.983

Hiya**工作演示** `:)` [http://jsfiddle.net/9S2Sc/](http://jsfiddle.net/9S2Sc/) **完整工作版** [http://jsfiddle.net/UBxTf/](http://jsfiddle.net/UBxTf/)

有很多事情需要注意：**也**请使用最新版本的 Jquery 已弃用的`.on`事件，`.live`

请参阅下面的其余代码。

希望这有助于事业

**代码**

```
$(function() {

    var scntDiv = $('#p_scents');

    var i = $('#p_scents tr').size() + 1;

    $('#addScnt').on('click', function() {

        $('<tr><td> <select name="type" id="type"><option value="Debit">Debit</option><option value="Credit">Credit</option></select> </td><td> <select name="accounts" id="accounts"> <option value="">SELECT</option> <option value="One">One</option><option value="Two">Two</option> </select>  </td><td><input type="text" name="debit_amount" id="debit_amount"/></td><td><input type="text" name="credit_amount" id="credit_amount"/></td><td><a href="#" id="remScnt">Remove</a></td></tr>').appendTo(scntDiv);

                i++;
                return false;
         });
});

          //Remove button
             $('#remScnt ').on('click ', function() { 
                if( i > 2 ) {
                        $(this).parents(' < tr > ').remove();
                        i--;
                }
                return false;
              });
         ​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:22:19.063

[jQuery.append()](http://api.jquery.com/append/)函数应该像这样使用：

```
$('#addScnt').live('click', function() {
scntDiv.append('<tr>
           <td> <select name="type" id="type">
               <option value="Debit">Debit</option>
              <option value="Credit">Credit</option>
             </select> </td>

         <td> <select name="accounts" id="accounts">
              <option value="">SELECT</option>
              <option value="One">One</option>
              <option value="Two">Two</option>
             </select>  </td>

        <td><input type="text" name="debit_amount" id="debit_amount"/></td>
        <td><input type="text" name="credit_amount" id="credit_amount"/></td>
   <td><a href="#" id="remScnt">Remove</a></td></tr>');

            i++;
            return false;
     }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T08:30:34.803

删除行的函数中存在另一个错误。一定是

```
$(this).parents(' tr ').remove(); 
```

没有`<`和`>`

提示：浏览器 Firefox、Chrom 和 Safari 为 Javascript 提供了错误控制台。所以你可以看到错误信息。

# c - 从哪里可以找到 cp 命令的源代码？

> ID：11466526
> 
> 赞同：12
> 
> 时间：2012-07-13T08:07:40.320
> 
> 标签：c, linux, cross-compiling, cp

看，我想要`cp`Android 上的命令，但它不存在，所以我想交叉编译`cp`.

Linux 有 cp 命令，那么我在哪里可以找到它的代码`cp`？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-07-13T08:14:08.283

`cp`是[coreutils](http://www.gnu.org/software/coreutils/)的一部分。还有不同的实现，例如[busybox](http://www.busybox.net/)。

很奇怪，`cp`android上没有。你仔细看了吗？

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-13T08:17:01.590

转到此站点[coreutils](http://ftp.gnu.org/gnu/coreutils/) 下载最新的存档并转到 /src/ 那里您可以找到 cp.c 文件（以及更多）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-07-13T08:16:48.920

[http://coreutils.sourcearchive.com/documentation/7.4/cp_8c-source.html](http://coreutils.sourcearchive.com/documentation/7.4/cp_8c-source.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-13T08:17:47.233

我的 android 上也缺少它。

您可以使用以下方法解决：

```
 cat source > dest 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-09T03:36:29.153

我相信你想要的就在[这里](http://www.linuxquestions.org/questions/linux-general-1/where-i-can-get-source-code-of-the-cp-command-142046/)

从那个论坛我可以从这里下载源代码

[ftp://ftp.gnu.org/gnu/coreutils/coreutils-5.0.tar.gz](ftp://ftp.gnu.org/gnu/coreutils/coreutils-5.0.tar.gz)

解压后在 /src 目录下。

最新版本的核心工具可以在这里找到

[http://ftp.gnu.org/gnu/coreutils/](http://ftp.gnu.org/gnu/coreutils/)

# vb.net - Vb.net PRTSC（屏幕截图） - 错误

> ID：11466532
> 
> 赞同：0
> 
> 时间：2012-07-13T08:08:15.913
> 
> 标签：vb.net, screen, bmp, take

你好，这次我的问题与这段代码有关，我使用的是 Visual Studio beta 2012，我似乎找不到问题，如果你们能帮助我，我会很感激

```
Public Class Form1

    Private Sub fullScreen_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles fullScreen.Click
        SendKeys.SendWait("^{PRTSC}")
        Dim clip As IDataObject = Clipboard.GetDataObject()
        If clip.GetDataPresent(GetType(System.Drawing.Bitmap)) Then
            Dim screenCapture As Bitmap = CType(clip.GetData(GetType(System.Drawing.Bitmap)), Bitmap)
            screenCapture.Save("C:\fullScreenCapture.bmp")
        End If
        Clipboard.Clear()
    End Sub
End Class 
```

错误 ：

```
A first chance exception of type 'System.Runtime.InteropServices.ExternalException' occurred in System.Drawing.dll 
```

附加信息：GDI+ 中的一般错误。

如果有这个异常的处理程序，程序可以安全地继续。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:11:29.153

您是否要捕获屏幕？为什么不使用 VS 的类来捕获屏幕？

[http://forum.codecall.net/topic/51761-creating-a-screen-shot-tool-vbnet](http://forum.codecall.net/topic/51761-creating-a-screen-shot-tool-vbnet/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:22:07.847

您可以使用以下方法更轻松地截取屏幕截图（根据我的经验，发送键总是被击中和错过）

```
Private Function TakeScreenShot() As Bitmap
    Dim scrn As Screen = Screen.FromControl(Me)
    Dim screenSize As Size = New Size(scrn.Bounds.Width, scrn.Bounds.Height)
    Dim screenGrab As New Bitmap(screenSize.Width, screenSize.Height)
    Dim g As Graphics = Graphics.FromImage(screenGrab)
    g.CopyFromScreen(New Point(scrn.Bounds.X, scrn.Bounds.Y), New Point(0, 0), screenSize)
    Return screenGrab
End Function 
```

# c# - ThreadPool 设置是全局的还是仅适用于工作项？

> ID：11466533
> 
> 赞同：1
> 
> 时间：2012-07-13T08:08:26.907
> 
> 标签：c#, winforms, multithreading, threadpool

如果我`ThreadPool.SetMaxThreads`在 WinForms 应用程序中设置此设置是否仅适用于工作项或整个程序集线程，如计时器和 gui 更新？

我正在构建一个应用程序，它将连续处理半短操作，通常每个大约 1 分钟。我首先想出了一个可以正常工作的手动线程创建版本。因为我正在为每个操作创建一个新线程，所以我正在寻找是否可以创建一个更快、更高效的版本，并且我尝试了 ThreadPool，它的工作效果并不好，它甚至阻止了我的计时器和 gui 更新。这是正常的还是我用错了？

这是我的伪代码：

手动线程版本：（所有`MaxThread`和`ThreadCount`读写都是用锁完成的）

```
timer1.Tick += Tick();

private void Tick()
{
    //do some text logging
    //do some TextBox updating
}

int MaxThreads = 10

while(true)
{
    if(ThreadCount < MaxThreads)
    {
        new Thread(() => Process()).Start();
        ThreadCount++;
    }
    else
    {
        Thread.Sleep(10000);
    }
}

private void Process()
{
    //do something

    ThreadCount--;
} 
```

ThreadPool 版本：（电脑为双核 Xeon on 32bit Windows server OS）

```
timer1.Tick += Tick();

private void Tick()
{
    //do some text logging
    //do some TextBox updating
}

ThreadPool.SetMaxThreads(10,10) **<--removing this didn't help with freezing at all**

while(true)
{
    if(ThreadPool.GetAvailableThreads() > 0)
    {
        ThreadPool.QueueWorkItem(Process, null)
    }
    else
    {
        Thread.Sleep(10000);
    }
}

private void Process()
{
    //do something
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T09:49:12.143

根据我对 MSDN 的研究，限制`ThreadPool`线程数会影响以下线程机制：

*   线程池
*   System.Threading.Timer
*   System.Timers.Timer
*   TPL 任务

因为他们在后台使用线程池来运行他们的工作。
以下将在他们自己的线程上运行：

*   线
*   后台工作者

GUI 计时器将在 UI 线程上运行：`System.Windows.Threading.DispatcherTimer`和`System.Windows.Forms.Timer`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:18:19.707

在我看来，您在这里使用的任何一种方法都不是实现您想要的最佳方法。

再次猜测线程池应该具有的最佳线程数是不明智的，并且有许多因素会对此产生影响。框架和操作系统更有能力做的事情。

在这种情况下，您最好使用信号量。

为了回答你的问题，这里有一篇很好的文章。

[线程池节流](http://msdn.microsoft.com/en-us/magazine/ff960958.aspx)

# rdf - 我什么时候应该使用语义网技术？

> ID：11466536
> 
> 赞同：4
> 
> 时间：2012-07-13T08:08:40.233
> 
> 标签：rdf, semantic-web, jena, ontology, owl

我的目标是为我的数据实现语义搜索。我的数据域包含专业技能。我的数据结构需要额外的关系，比如“sameAs”和“broader”。因此，例如，如果我要搜索“关系数据库”，我也会期望“SQL”和“RDBMS”作为结果。

我的问题是，用 RDF（语义网络技术）来描述这些关系是否有意义。我的技能已经放在 MySql 数据库中，所以我会借助语义网络技术创建技能之间的关系（例如，sameAs 或相等）。这种方法是否对我的场景过度设计？我不知道什么时候应该使用语义网络技术。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T10:04:20.457

有几点需要考虑：

*   您的数据库会成为“数据孤岛”，即自包含或（最终）旨在与更广阔的世界相互联系吗？即，您是否会发现自己正在规范化已经作为关联数据可用的实体、概念等，和/或您是否希望其他人开始链接到您的数据？例如，您是否想生成带有搜索引擎会选择的语义标记的网页？
*   您是否需要某种推理，例如将`broader`其视为传递属性，以便您的应用程序知道如果 X 是 Y 的更广泛概念，Z 是 X 的更广泛概念，Z 也是 Y 的更广泛概念。
*   是否有开箱即用的语义 Web 解决方案或多或少适合您的用例？当涉及到语义网络技术在一个用例中的可行性时，建立在一个框架上的能力，例如[链接媒体框架](https://code.google.com/p/lmf/)是非常决定性的。

如果您的答案肯定是否定的，我会开始使用“传统”技术进行研究。

如果有疑问，您可以开始开发，但不要忘记诸如稳定标识符之类的问题。在开发过程中，您可以尝试将其导入 LMF 或使用[D2R](http://d2rq.org/d2r-server)编写映射，看看它是否会给表格带来额外的东西。

您还可以尝试浏览/询问[语义网的 Stackoverflow 等效项](http://answers.semanticweb.com/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-15T10:50:09.627

如果您对“更广泛”/“更窄”类型的关系最感兴趣，也许[SKOS](http://www.w3.org/2004/02/skos/)可能是一种合适的方法。它在叙词表、分类系统等中引入了一些“软语义”（不是我的话），这似乎是您拥有的那种数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-10-30T22:33:26.910

使用 RDF 来描述这些关系肯定是有意义的。是否需要语义 Web 技术取决于您希望如何使用结构化数据。如果您希望能够选择探索大量相关概念，您可以将数据表示为 RDF 三元组并相应地遍历 RDF 图。如果您需要组合多个问题的复杂查询，SPARQL 可以作为答案，这同样需要在 RDF 中表示数据。此外，如果您想自动化数据管理任务，使用语义 Web 技术将是一个不错的选择。所以基本上这一切都取决于你想要执行什么样的任务以及如何执行。

# c# - WCF 奇怪的行为

> ID：11466537
> 
> 赞同：1
> 
> 时间：2012-07-13T08:08:53.150
> 
> 标签：c#, wcf, exception-handling, wcf-client, wcf-rest

当我使用网络服务时，我得到了这个：

> 合约“IServices”的“登录”操作指定了多个要序列化的请求主体参数，而无需任何包装器元素。最多一个 body 参数可以在没有包装元素的情况下被序列化。删除额外的正文参数或将 WebGetAttribute/WebInvokeAttribute 上的 BodyStyle 属性设置为 Wrapped。

我使用的界面如下：

```
namespace DreamServices
{
    // NOTE: You can use the "Rename" command on the "Refactor" menu to change the interface name "IService1" in both code and config file together.
    [ServiceContract]
    public interface IServices
    {
        [OperationContract]
        [WebInvoke(Method = "GET",
        ResponseFormat = WebMessageFormat.Json,

        BodyStyle = WebMessageBodyStyle.Wrapped,

        UriTemplate = "LogIn/{username}/{password}")]
        string Login(string username, string password);

        [OperationContract]
        [WebInvoke(
            Method = "GET",
            ResponseFormat = WebMessageFormat.Json,
            BodyStyle = WebMessageBodyStyle.Wrapped,
            UriTemplate = "WaletTotalAmount/{userid}")]
        double? WaletTotalAmount(string userid);

        [OperationContract]
        [WebInvoke(
            Method = "GET",
            ResponseFormat = WebMessageFormat.Json,
            BodyStyle = WebMessageBodyStyle.Wrapped,
            UriTemplate = "UserService/{userid}")]
        IList<UserServiceses> UserService(string userid);

        [OperationContract]
        [WebInvoke(Method = "POST",
            ResponseFormat = WebMessageFormat.Json,
            RequestFormat = WebMessageFormat.Json,
            BodyStyle = WebMessageBodyStyle.Wrapped,
            UriTemplate = "InsertUpdateWallet/{userid}/{Amount}/{ComissionAmount}")]
        void InsertUpdateWallet(string userid, string Amount, string ComissionAmount);

    }
} 
```

然后我托管它，然后我向我的网站添加网络引用并修改 web.config，这样就会像

```
<system.serviceModel>

    <behaviors>
      <endpointBehaviors>
        <behavior name="web">
          <webHttp />
          <dataContractSerializer maxItemsInObjectGraph="2147483647"/>
        </behavior>
      </endpointBehaviors>
      <serviceBehaviors>
        <behavior>
          <dataContractSerializer maxItemsInObjectGraph="2147483647" />
          <serviceMetadata httpGetEnabled="true" />
          <serviceDebug includeExceptionDetailInFaults="true" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <bindings>
      <webHttpBinding>
        <binding name="defaultRest">
          <readerQuotas maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxDepth="64" maxNameTableCharCount="2147483647" />
          <security mode="None" />
        </binding>
      </webHttpBinding>
    </bindings>

    <client>
      <endpoint address="http://localhost:1381/PMAHost/Service.svc" binding="webHttpBinding" contract="ServiceReference.IServices" behaviorConfiguration="web"/>
    </client>

    <serviceHostingEnvironment multipleSiteBindingsEnabled="true" />
  </system.serviceModel> 
```

知道如何解决此错误吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T18:35:07.687

首先我不确定你为什么使用 GET 操作登录，你应该使用 POST 对吗？接下来，您在 中定义了两个参数，`UriTemplate`但该方法仅包含一个。我建议你使用一个类作为参数，而不是返回字符串，你也可以返回一个模型。

```
public class LoginModel
{
   public string username { get; set; }
   public string password { get; set; }
}

public class Result
{
   public bool success { get; set; }
   public string error { get; set; }
}

[WebInvoke(Method = "POST",
RequestFormat = WebMessageFormat.Json,
ResponseFormat = WebMessageFormat.Json,
UriTemplate = "/LogIn")]
public Result login(LoginModel loginModel) 
```

# mysql - 如何实现每组用户的序号数据库？

> ID：11466539
> 
> 赞同：2
> 
> 时间：2012-07-13T08:08:59.030
> 
> 标签：mysql

`sequence`创建用于存储数字的数据库表很容易；但是这种设计适合`sequence`所有用户共享的事件。我想要的是`sequence`为每个用户**组**创建：这`group`可以随时增长，因为它是一个数据库表，即管理员可以随时创建一个组，并将用户分配到一个特定的组。那么如何实现`sequence`按组生成呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:12:54.193

如果您使用的是 myisam

[http://dev.mysql.com/doc/refman/5.0/en/example-auto-increment.html](http://dev.mysql.com/doc/refman/5.0/en/example-auto-increment.html)

**下面从上面的链接中提取。**

> 对于 MyISAM 和 BDB 表，您可以在多列索引中的辅助列上指定 AUTO_INCREMENT。在这种情况下，AUTO_INCREMENT 列的生成值计算为 MAX(auto_increment_column) + 1 WHERE prefix=given-prefix。当您要将数据放入有序组时，这很有用。

```
CREATE TABLE animals (
    grp ENUM('fish','mammal','bird') NOT NULL,
    id MEDIUMINT NOT NULL AUTO_INCREMENT,
    name CHAR(30) NOT NULL,
    PRIMARY KEY (grp,id)
) ENGINE=MyISAM;

INSERT INTO animals (grp,name) VALUES
    ('mammal','dog'),('mammal','cat'),
    ('bird','penguin'),('fish','lax'),('mammal','whale'),
    ('bird','ostrich');

SELECT * FROM animals ORDER BY grp,id;
Which returns:

+--------+----+---------+
| grp    | id | name    |
+--------+----+---------+
| fish   |  1 | lax     |
| mammal |  1 | dog     |
| mammal |  2 | cat     |
| mammal |  3 | whale   |
| bird   |  1 | penguin |
| bird   |  2 | ostrich |
+--------+----+---------+ 
```

对于您的情况：

```
CREATE TABLE mytable (
   user_id MEDIUMINT NOT NULL AUTO_INCREMENT,
    group_id MEDIUMINT NOT NULL,   
     user_name CHAR(30) NOT NULL,
    PRIMARY KEY (group_id,user_id)
     ) ENGINE=MyISAM;

INSERT INTO mytable (group_id, user_name) VALUES
     (1,'alex'),(1,'jenny'),(2,'baz'),(1,'tim'),(2,'danny'),(3,'joe');

SELECT * FROM mytable ORDER BY group_id,user_id; 
```

回报：

```
user_id group_id    user_name
1            1          alex
2            1          jenny
3            1          tim
1            2          baz
2            2          danny
1            3          joe 
```

# directory - 远程共享文件夹的目录级别配额

> ID：11466549
> 
> 赞同：1
> 
> 时间：2012-07-13T08:09:42.213
> 
> 标签：directory, shared, ntfs, quota

我在 AD 中有 2 台服务器 (2008R2) 在其中一台服务器上我有共享文件夹 (c:\Shared\dirForUserAAA ==> \DC1\dir1) 在另一台服务器上我有 c# 程序必须管理 \DC1\dir1 上的文件夹配额是有可能以及如何做到这一点？

我尝试使用这段代码，但它只适用于本地路径:(

```
 public static void SetQuotaToFolder(string UNCPathForQuota, int quotaLimitBytes)
        {
            if (!Directory.Exists(UNCPathForQuota))
            {
                Directory.CreateDirectory(UNCPathForQuota);
            }

            // Create our interface
            IFsrmQuotaManager FSRMQuotaManager = new FsrmQuotaManagerClass();
            IFsrmQuota Quota = null;

            try
            {
                // First we need to see if there is already a quota on the directory.
                Quota = FSRMQuotaManager.GetQuota(UNCPathForQuota);
                // If there is quota then we just set it to our new size
                Quota.QuotaLimit = quotaLimitBytes;
            }
            catch (COMException e)
            {
                unchecked
                {
                    if (e.ErrorCode == (int)0x80045301)
                    {
                        // There is no quota on this directory so we need to create it.
                        Quota = FSRMQuotaManager.CreateQuota(UNCPathForQuota);
                        // And then set our desired quota
                        Quota.QuotaLimit = quotaLimitBytes;
                    }
                    else
                    {
                        // some other COM exception occured so we return the error
                        Console.WriteLine(e);
                        return;
                    }
                }
            }
            catch (Exception e)
            {
                // Generic error handling would go here
                Console.WriteLine(e);
                return;
            }

            // and finally we commit our changes.
            Quota.Commit();
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-03-14T09:41:35.783

老问题，但如果有人需要提示：

在保存文件夹的服务器上打开 RemotePowershell。[然后从这里](https://docs.microsoft.com/en-us/powershell/module/fileserverresourcemanager/?view=win10-ps)使用 Cmdlet

一些代码片段：

打开运行空间：

```
public static Runspace CreateAndOpen(string domain, string username, string password, string computername)
{
    string userName = username + "@" + domain;
    var securePassword = password.ToSecureString();

    PSCredential credential = new PSCredential(username, securePassword);
    var connectionInfo = new WSManConnectionInfo(false, computername, 5985, "/wsman", shellUri, credential);
    connectionInfo.AuthenticationMechanism = AuthenticationMechanism.Default;
    connectionInfo.OpenTimeout = 2 * 60 * 1000; // 2 minutes
    Runspace powershellRunspace = RunspaceFactory.CreateRunspace(connectionInfo);
    powershellRunspace.Open();

    return powershellRunspace;
} 
```

在路径上设置配额

```
public void SetQuotaTemplateOnPath(Runspace runspace, string path, string template)
{
    using (var pipe = runspace.CreatePipeline())
    {
        var newFsrmQuotaCommand = new Command("New-FsrmQuota");
        newFsrmQuotaCommand.Parameters.Add("Path", path);
        newFsrmQuotaCommand.Parameters.Add("Template", template);
        newFsrmQuotaCommand.Parameters.Add("Confirm", false);
        pipe.Commands.Add(newFsrmQuotaCommand);

        var results = pipe.Invoke();

        if (pipe.Error.Count > 0)
        {
             //Handle error
        }
    }
} 
```

# java - 一个数组占用多少空间？

> ID：11466553
> 
> 赞同：7
> 
> 时间：2012-07-13T08:10:11.463
> 
> 标签：java, arrays

如果我创建 10 个整数和一个 10 的整数数组，占用的总空间会有什么不同吗？

我必须创建一个包含数百万条记录的布尔数组，所以我想了解数组本身将占用多少空间。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T08:17:56.993

整数数组表示为用于保存整数的内存块和对象头。对于 32 位 JVM，对象标头通常需要 3 个 32 位字，但这取决于平台。（标头包含一些标志位、对类描述符的引用、原始锁信息的空间以及实际数组的长度。加上填充。）

所以一个 10 个整数的数组可能会占用`13 * 4`字节区域。

在 an 的情况下`Integer[]`，每个 Integer 对象都有一个 2 字标题和一个包含实际值的 1 字字段。您还需要添加填充和 1 个字（或 64 位 JVM 上的 1 到 2 个字）以供参考。这通常是数组的每个元素 5 个字或 20 个字节……除非某些 Integer 对象出现在数组中的多个位置。

* * *

笔记：

1.  在 64 位 JVM 上实际用于引用的字数取决于是否使用“压缩 oops”。
2.  在某些 JVM 上，堆节点以 16 字节的倍数分配……这会增加空间使用量（例如上面提到的填充）。
3.  如果您获取一个对象的标识哈希码并且它在下一次垃圾回收中幸存下来，则它的大小会膨胀至少 4 个字节以缓存哈希码值。
4.  除了上面列举的可变性来源之外，这些数字都是特定于版本和供应商的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-13T08:14:21.197

一些粗略的下界计算：

每个 int 占用四个字节。= 10 个 40 个字节

一个 int 数组为每个组件占用四个字节加上四个字节来存储长度加上另外四个字节来存储对它的引用。= 48 字节（+ 可能有一些填充以将所有对象对齐在 8 字节边界）

一个 Integer 至少占用 8 个字节，再加上另外 4 个字节来存储对它的引用。= 十个至少 120

一个整数数组至少占用十个整数的 120 个字节加上四个字节的长度，然后可能需要一些填充来对齐。加上四个字节来存储对它的引用。（@Marko 报告说他甚至测量了每个插槽大约 28 个字节，因此对于 10 个数组来说，这将是 280 个字节）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-13T08:13:21.900

在 java 中，你有 Integer 和 int。假设您指的是 int ，则 int 数组被认为是一个对象，并且对象具有元数据，因此 10 个 int 的数组将占用超过 10 个 int 变量

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-07-13T08:19:43.457

根据您的评论，如果您使用数组，则不会有太大的不同。Array 将为其功能本身使用可忽略不计的内存量。所有其他内存将由存储的对象使用。

编辑：您需要了解的是布尔包装器和布尔原始类型之间的区别。包装类型通常会比原语占用更多的空间。因此，对于记录任务，请尝试使用原语。

正如您所说，在处理记录任务时要记住的另一件事是Java Autoboxing。如果您无意中在遍历整个数组的函数中使用它，性能损失可能会很大。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-13T08:27:35.177

你可以做的是**测量**：

```
public static void main(String[] args) {
  final long startMem = measure();
  final boolean[] bs = new boolean[1000000];
  System.out.println(measure() - startMem);
  bs.hashCode();
}
private static long measure() {
  final Runtime rt = Runtime.getRuntime();
  rt.gc();
  try { Thread.sleep(20); } catch (InterruptedException e) {}
  rt.gc();
  return rt.totalMemory() - rt.freeMemory();
} 
```

当然，这与标准免责声明是一致的：`gc()`没有特别的保证，所以重复几次，看看你是否得到一致的结果。在我的机器上，答案是每个`boolean`.

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-07-09T09:02:17.103

它不必对老师/面试官产生不良影响。

您对内存中变量的大小和对齐方式的关心程度取决于您需要代码的性能。例如，如果您的软件处理交易（EFT / 股票市场），这很重要。

变量在内存中的大小、对齐方式和打包可能会影响 CPU 缓存命中/未命中，这可能会影响代码的性能高达 100 倍。

只要您负责任地使用性能提升技巧，就知道在低级别发生了什么并不是一件坏事。

例如，我来到这个线程是因为我需要确切地知道这个问题的答案，以便我可以调整基元数组的大小以填充 CPU 缓存行的整数倍，因为我需要对这些数组执行计算的代码快速执行的原语，因为我有一个有限的窗口，我需要我的计算为结果的消费者做好准备。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-07-13T08:12:21.697

在RAM空间方面，没有真正的区别

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-07-13T08:18:41.353

如果你使用一个数组，你有 11 个对象、10 个整数和数组，而且数组里面还有其他元数据。所以使用数组会占用更多的内存空间。

现在说真的。这种问题实际上出现在工作面试和考试中，这表明你有什么样的面试官或老师......在虚拟机和操作系统本身中有这么多抽象层，有什么意义在思考这个东西？微优化内存...！

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-07-13T08:30:05.270

> 我的意思是，如果我创建 10 个整数和 10 个整数数组，占用的总空间会有什么不同。

```
(integer array of 10) = (10 integers) + 1 integer 
```

最后一个“+1 整数”用于数组的索引（数组可以容纳 2,147,483,647 的数据量，它是一个整数）。这意味着当你声明一个数组时，说：

```
int[] nums = new int[10]; 
```

您实际上从内存中保留了 11 个 int 空间。数组元素为 10，数组本身为 +1。

# c++ - 传递 int 数组时的行为变化

> ID：11466562
> 
> 赞同：0
> 
> 时间：2012-07-13T08:10:41.570
> 
> 标签：c++, c, arrays, pointers

> **可能重复：**
> [在 C++ 中将数组作为参数传递](https://stackoverflow.com/questions/763861/passing-an-array-as-an-argument-in-c)
> [给 C 编程语言中的数组大小？](https://stackoverflow.com/questions/1975128/sizeof-an-array-in-the-c-programming-language)

您能否解释以下代码的输出：

```
#include<iostream>
using namespace std;

void foo(int array[])
{
    int size = sizeof(array) / sizeof(array[0]);    
    cout<<size<<endl;
}
int main()
{
    int array[] = {1,2,3};

    int size = sizeof(array) / sizeof(array[0]);
    cout<<size<<endl;
    foo(array);
    return 0;
} 
```

对应的输出是：

```
3
2 
```

**foo()**和**main()**中的代码看起来都与我相似，以产生相同的输出，但事实并非如此，您能解释一下原因吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:15:49.543

```
void foo(int array[]) 
```

在 C 或 C++ 中，您不能按值传递数组，因此上述声明被解释为：

```
void foo(int * array) 
```

考虑通过引用传递数组：

```
template <size_t N>
void foo( int(&array)[N] )
{   
    cout << N << endl;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-13T08:15:55.257

您没有将*数组*传递给函数，而是将*指针*传递给数组。

这意味着，在 function`foo()`中，结果`sizeof(array)`是指向 char 数组的指针的大小，*而不是*数组本身的大小，因此该函数实际上是这样做的：

```
cout << sizeof(int *) / sizeof(array[0]); 
```

在这种情况下，大小`int *`为 8，int 大小为 4，因此您从函数中得到 2 的输出。

# selenium-ide - 如何将从下拉框中选择的选项存储在硒的变量中？

> ID：11466563
> 
> 赞同：0
> 
> 时间：2012-07-13T08:10:48.170
> 
> 标签：selenium-ide

我使用 id 从下拉框中选择了选项。现在我想将从下拉框中选择的值存储在一个变量中，以便在其他地方使用该值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T10:31:22.727

```
<tr>
    <td>storeSelectedValue</td>
    <td>id=Month</td>
    <td>monthvalue</td>
</tr> 
```

我们可以使用 storeSelectedValue 命令获取下拉列表中选择的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:20:11.983

我有你的示例代码..（gmail注册->性别下拉菜单）。我选择了男性选项

```
storeText  |  //div[@id='Gender']/div  |  gender
echo       | ${gender} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-14T12:56:25.130

使用此 HTML 结构：

```
<div id="test">
    <label for="merchantType">Merchant Type</label>
    <select>
        <option value="Firm">Firm</option>
        <option value="Institution">Institution</option>
        <option value="Association">Association</option>
    </select>
</div> 
```

...例如，您可以使用以下方法存储特定选项的值：

```
storeText   |   //div[@id='test']/select/option[2]   |   myvalue 
```

=> 在这里它将获得第二个选项值。这在循环中很方便，例如使用 "option[${i}]" 来获取不同变量中的所有值。

您还可以使用以下方法选择特定选项：

```
select   |   //div[@id='test']/select   |   index=${i} 
```

# java - 在 Java 中使用 PrintWriter

> ID：11466564
> 
> 赞同：0
> 
> 时间：2012-07-13T08:10:49.757
> 
> 标签：java, printwriter

我试图从 Java 运行多个命令 shell。我能够做到这一点（并使用 PrintWriter 在控制台中获取输出）。但是，我希望能够在单独的字符串中获取每个命令的输出。那可能吗？

这是代码的一部分：

```
 File wd = new File("/bin");
    Process proc = null;
    BufferedReader in = new BufferedReader(new InputStreamReader(proc.getInputStream()));
    PrintWriter out = new PrintWriter(new BufferedWriter(new OutputStreamWriter(proc.getOutputStream())), true);
    out.println("cd ..");

    out.println("ls");
    System.out.println("moving to /var directory");
    out.println("cd /var/");
    out.println("ls");
    //get output of ls command in string variable
    out.println("cd ..");
    out.println("cd /etc/");
    out.println("ls -a");
    out.println("ps");

    out.println("exit");
    try {
        String line;
        while ((line = in.readLine()) != null) {
            System.out.println(line);
        }
        proc.waitFor();
        in.close();
        out.close();
        proc.destroy();
    }
    catch (Exception e) {
         e.printStackTrace();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-14T18:35:53.640

你试过放一个像

```
StringBuilder builder = new StringBuilder();
String line = null;
while ((line = in.readLine()) != null) {
    builder.append(line).append("\n");
}
String commandOutput = builder.toString(); 
```

在每个命令之后？这大致是您想要实现的目标吗？

# c - 使用联合和匿名结构的 C 模

> ID：11466568
> 
> 赞同：0
> 
> 时间：2012-07-13T08:11:26.880
> 
> 标签：c, modulus, unions, anonymous-struct

我在联合中使用匿名结构来快速获得 a%b。

你知道任何其他方法来获得 a%b 而不使用 b 的 2 的幂。

包括清单：

```
#include<stdio.h>
#include<stdlib.h>
#include<time.h> 
```

和工会宣言：

```
//C99
//my first program to test rand() for any periodicity
union //for array indexing without modulus operator
{
unsigned int counter; //32 bit on my computer
struct
{
    unsigned int lsb:16; //16 bit 
    unsigned int msb:16; //16 bit   
};
struct 
{
    unsigned int bit[32];
};
} modulo;

union // for rand()%256
{
unsigned int randoom; //from rand() 
struct
{
unsigned int lsb:5;//equivalent to rand()%32 without any calculations
unsigned int msb:27;
};
}random_modulus; 
```

这里是主要功能：

```
int main()
{
srand(time(0));

modulo.counter=0;//init of for-loop counter

// i am takin (counter%65536) for my array index which is modulus.lsb
unsigned int array_1[65536]; 
float array_mean=0,delta_square=0;
clock_t clock_refe;

//taking counter%65536 using lsb (2x faster)
clock_refe=clock();
for(;modulo.counter<1000000000;modulo.counter++)
{
// i need accumulated randoms for later use for some std. dev. thing.
random_modulus.randoom=rand();
array_1[modulo.lsb]+=random_modulus.lsb;
}

//getting average clock cycles
for(int i=0;i<65536;i++)
{
array_mean+=array_1[i];

}
array_mean/=65536.0f;

//getting square of deltas
float array_2[65536];

for(int i=0;i<65536;i++)
{
array_2[i]=(array_1[i]-array_mean)*(array_1[i]-array_mean); 
}

//horizontal histogram for resoluton of 20 elements
for(int i=0;i<65536;i+=(65536)/20)
{

for(int j=0;j<(array_2[i]*0.01);j++)
{

    printf("*");
}
printf("\n");
}

//calculations continue .....
return 0;

} 
```

某些数组中的预先计算的值可能吗？但是如果我只使用一次 % calc 部分，这是一样的。你能提供一些关于按位操作手册的书籍参考吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:23:36.817

在这种情况下，按位运算是最便携的方法。这是一些示例函数；它们是为了可读性而编写的，但可以很容易地使其更快：

```
int lsb(int input) {
    int mask = 0x00FF; // 0x00FF is 0000000011111111 in binary
    return input & mask;
}

int msb(int input) {
    int mask = 0xFF00; // 0xFF00 is 1111111100000000 in binary
    return (input & mask) >> 8;
} 
```

通常，用 屏蔽您想要的位`&`，然后用 将它们向右对齐`>>`。K&R 第 2 版（Brian Kernighan 和 Dennis Ritchie 的 C 编程语言）包含几乎所有 C 主题的信息，包括位掩码。

如果您想要`a % b`where`b`不是 2 的幂，则本机`%`运算符是最快的方式（在现代编译器中，它与按位运算一样快，即使`b`是 2 的幂）。不过，按位运算在其他情况下很有用。

# python - 如何使用 7zip 而不是 zip 压缩，代码更改

> ID：11466572
> 
> 赞同：11
> 
> 时间：2012-07-13T08:11:30.103
> 
> 标签：python

我有一个代码可以用 zip 压缩特定文件夹中的每个文件，但我想用 7zip 压缩它，那该怎么办？

这是我到目前为止所拥有的：

```
for date in dict_date:#zipping folders and get same name like the folder
    with ZipFile(os.path.join(src, '{0}.7z'.format(date)), 'w') as myzip:
        for subFolder in dict_date[date]:
            for fil in os.listdir(os.path.join(src, date, subFolder)):
                if not fil.endswith('.7z'):
                    myzip.write(os.path.join(src, date, subFolder, fil)) 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-13T08:37:20.843

可以试试命令行方法

```
import subprocess
subprocess.call(['7z', 'a', filename+'.7z', filename]) 
```

或文件夹中的所有文件

```
subprocess.call(['7z', 'a', filename+'.7z', "*.*"]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-18T15:55:04.943

似乎没有一个好的 Python 模块来创建 7z 存档（尽管文档说，py7zlib 只能*读取*它们）。

一种解决方法是下载 7z SDK ( [http://www.7-zip.org/sdk.html](http://www.7-zip.org/sdk.html) ) 并通过 subprocess 模块使用随附的 7zr 可执行文件。7z 属于公共领域，因此您可以不受限制地携带这个独立程序。

# javascript - 将html输入文件元素从一种形式复制到另一种形式

> ID：11466577
> 
> 赞同：0
> 
> 时间：2012-07-13T08:11:52.880
> 
> 标签：javascript, html

嗨，我有如下要求，我在一个表单中有一个文件元素，这个表单还包含许多其他字段，所以我无法提交它，但是在选择文件后我需要上传，所以我用 iframe 创建了第二个表单。我无法将文件元素从一种形式复制到另一种形式，尤其是在我尝试使用 cloneNode 和 appendChild 时都没有任何建议。我真的被困住了。

```
<form name ="form1">
   <input type="file"/>
</form>

<form name="form2">       
<form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:37:04.383

看起来[cloneNode](http://jsfiddle.net/lalatino/m3942/)允许克隆文件输入。可能的代码如下：

```
<form name="form1">
  <input id="file1" type="file" onchange="copy_file_input()" />
</form>
<form name="form2" enctype="multipart/form-data">
  <input type="hidden" name="test" value="form2sent" />
</form> 
```

```
function copy_file_input() {
  var target_form = document.forms.form2;
  if (target_form.file2 != undefined) {
    target_form.removeChild(target_form.file2);
  }
  var elem = document.getElementById('file1');
  var copy = elem.cloneNode(true);
  copy.name = 'file2';
  target_form.appendChild(copy);
} 
```

此[链接](https://stackoverflow.com/a/1686201/1422309)也可能有用。

# visual-c++ - LNK1112 模块机器类型“X86”与目标机器类型“x64”冲突 (VC++ 2005)

> ID：11466579
> 
> 赞同：0
> 
> 时间：2012-07-13T08:11:58.873
> 
> 标签：visual-c++, 64-bit, visual-c++-2005

我正在尝试使用以下步骤在 Visual Studio 2005 Professional 中构建一个空白的 64 位 C++ 应用程序：

1.  创建一个新的 Win32 控制台应用程序项目
2.  转到配置管理器，创建 x64 类型的新解决方案平台，从 Win32 复制设置
3.  保存并构建

但是，我收到此错误：

`LINK : fatal error LNK1104: cannot open file 'kernel32.lib'`

因此，我尝试更新库目录以指向`kernel32.lib`：

1.  转到项目属性、链接器、常规、附加库目录并设置“C:\Program Files\Microsoft Visual Studio 8\VC\lib\amd64”
2.  保存并构建

这给了我错误：

`LINK : fatal error LNK1104: cannot open file 'user32.lib'`

因此，我尝试更新库目录以指向`user32.lib`：

1.  转到项目属性、链接器、常规、附加库目录并添加“C:\Program Files\Microsoft SDKs\Windows\v7.1\Lib\x64”
2.  保存并构建

但现在我得到了错误：

`.\x64\debug\stdafx.obj : fatal error LNK1112: module machine type 'X86' conflicts with target machine type 'x64'`

任何想法我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:33:59.900

听起来问题出在目标文件`stdafx.obj`而不是系统库上。警告是说它`stdafx.obj`是 32 位的，所以它不能链接到 64 位目标。要尝试的事情：

*   删除构建目录`x64`和`win32`
*   重建项目
*   检查构建设置`stdafx.cpp`以确保其构建为 64 位

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-16T03:28:26.853

一定是 Visual Studio 的安装损坏。新安装的 Windows 和 VS2005 解决了这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-16T06:57:00.307

自从提出这个问题以来已经很久了，但是为了其他碰巧读到这个问题的人的利益，所需的更改是在链接器标志设置中。将 /machine:I386 更改为 /machine:x64

# javascript - 如何对具有多个条件的特定 json 对象的值求和（例如，对象“TYPE”的值是“ABC”）？

> ID：11466580
> 
> 赞同：0
> 
> 时间：2012-07-13T08:12:01.777
> 
> 标签：javascript, json

我有这样的[json](http://jsonviewer.stack.hu/#http://www.greenfields.co.id:502/service1.svc/id)。在那个 json 中有对象名称`tipe`，我想在同一个提示中求和`act_qty1`, `act_val1`, `acvqty`, `acvval`, `budqty`, `budval`, `cm_val1`, （例如`cm_val2`，`cm_val3` 在它们`tipe`是“ESL”的地方求和）。如何在javascript中总结？可以用循环完成吗？

这是我到目前为止所做的：

```
function detail(kodenegara, koderesult)
        {   
            $.mobile.showPageLoadingMsg(); 
            $.ajax({
                type: "GET",
                contentType: "application/json; charset=utf-8",
                url: "http://www.greenfields.co.id:502/Service1.svc/"+kodenegara,
                dataType: "json",
                success:function(data){
                    var result = koderesult;

                    var details = "";

                    for (i = 0; i < data[result].length; i++){
                        $("#"+data[result][i].tipe).empty();
                    }
                    for (i = 0, types={} ; i < data[result].length; i++){
                        $("#"+data[result][i].tipe).append("<tr>"+
                            "<td>"+data[result][i].mc+"</td>"+
                            "<td>"+data[result][i].value3+"</td>"+
                            "<td>"+data[result][i].value2+"</td>"+
                            "<td>"+data[result][i].value1+"</td>"+
                            "<td>"+data[result][i].avgqty+"</td>"+
                            "<td>"+data[result][i].budqty+"</td>"+
                            "<td>"+data[result][i].budval+"</td>"+
                            "<td>"+data[result][i].acvqty+"</td>"+
                            "<td>"+data[result][i].acvval+"</td>"+
                          "</tr>").trigger('create');

                            //----------------------------------//
                            // HERE IS what I've made TO SUM THE VALUES //
                            //vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv//

                           for(i = 0; i < data[result].length; i++) {
                    if(data[result][i].tipe == 'ESL') 
                    {
                        //how to summing data[result][i].cm_val3 where data[result][i].tipe == 'ESL'
                                        var b = i + 1;
                            var test = parseInt(data[result][i].cm_val3) + parseInt(data[result][b].cm_val3)
                    }
                }

                    }

                    //show the page
                    $.mobile.changePage("#detail_"+kodenegara, "slide", false, true);
                },
                error: function () { 
                    alert("ERROR"); 
                }
            });
        } 
```

我不知道如何编写正确的循环来对`tipe`“ESL”（或“ESL1L”或“WHP”或其他）的值求和。如果我使用这个：

```
var b = i + 1;
var test = parseInt(data[result][i].cm_val3) + parseInt(data[result][b].cm_val3) 
```

仅对最后一个数组求和。如何编写正确的循环以对该条件求和？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:08:45.470

这里有一个工作小提琴 [http://jsfiddle.net/xKJn8/1/](http://jsfiddle.net/xKJn8/1/)

```
var SumByTipe = {};
for(i in data.GetReportIdResult){
    var currtipe = data.GetReportIdResult[i].tipe;
    if (currtipe){
        if (currtipe in SumByTipe){
            for (j in data.GetReportIdResult[i]){
                if (j != "tipe" && j != "mc"){
                    SumByTipe[currtipe][j + '_total'] += parseFloat(data.GetReportIdResult[i][j]);
                }
            }
        }else{
            var firstSum = {};
            for (j in data.GetReportIdResult[i]){
                if (j != "tipe" && j != "mc"){
                    firstSum[j + '_total'] = parseFloat(data.GetReportIdResult[i][j]);
                }
            }
            SumByTipe[currtipe]=firstSum;
        }
    }
}
console.debug(SumByTipe); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T09:28:23.283

这应该够了吧 ：

```
var sum_cm_val3=0;

for (var i=0;i<data[result].length;i++) {
    if (data[result][i].tipe == "ESL") {
        var cm_val3 = data[result][i].cm_val3;
        if (parseInt(cm_val3)==cm_val3) {
            sum_cm_val3 += parseInt(cm_val3);
        }
    }
} 
```

# ruby-on-rails - 带条件导轨的复杂三重连接

> ID：11466586
> 
> 赞同：1
> 
> 时间：2012-07-13T08:12:07.657
> 
> 标签：ruby-on-rails, ruby-on-rails-3, activerecord, model

我对 Rails 很陌生，但是看到我的进步感觉很好，但是我面临着我的第一个真正的复杂模型问题：/

这是我的模型的样子：

```
class Top < ActiveRecord::Base
  has_many :line_tops, :dependent => :destroy
  has_many :ideas, :through => :line_tops
  has_many :top_subscriptions
  has_many :users, :through => :top_subscriptions

class User < ActiveRecord::Base
  has_many :top_suscribtions
  has_many :tops, :through => :top_suscribtions
  has_many :idea_suscribtions
  has_many :ideas, :through => :idea_suscribtions

class IdeaSubscription < ActiveRecord::Base
  belongs_to :idea
  belongs_to :user
  attr_accessible :idea, :user, :done (is a boolean) 
```

我想检索一个顶部，所有已经完成这个顶部的所有想法（done=true）的用户。我很迷茫，因为我真的不知道该怎么办。顶级模型或方法中的新属性？我可以使用活动记录查询界面还是应该使用纯 sql？实现这一目标的“最佳”方法是什么？

谢谢你的帮助 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:25:41.810

它应该是这样的：

```
top = Top.find(top_id)
top.users.includes(:idea_subscriptions).where("idea_subscriptions.done = true") 
```

# html - 花岗岩背景的html5 svg vs canvas

> ID：11466587
> 
> 赞同：1
> 
> 时间：2012-07-13T08:12:10.683
> 
> 标签：html, html5-canvas

我想制作像[http://www.tivli.com/](http://www.tivli.com/)这样的花岗岩背景，中心有渐变。我在 w3c 教程中找到了如何使用这两种方法进行渐变，但是有没有关于如何在 html5 画布或 svg 中制作花岗岩背景的教程？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-27T14:21:25.717

您引用的站点实际上使用了一个简单的“noize.png”，然后使用 css3 径向渐变来构建该背景。我知道您已经知道这一点，我为未来的读者提及这一点。
*鉴于这一事实，我将在我的其余答案中假设您想学习，而不是复制意大利面解决方案。*

**我**很久以前就放弃了svg looong。但是在画布中它既简单又有趣……（尤其是现在 flash 终于正式死了。万岁）。

因此，正如其他人已经在对您的问题的评论中提出的那样，为什么不使用**无缝**噪声图像呢？（你知道在哪里可以找到一个：P）。
您仍然可以将此图像作为“数据”嵌入到 html（，提示：甚至甚至将图像数据直接馈送到画布中，将其呈现为您的“noise.php”）。

但是……你是对的：如果你想改变噪声大小怎么办？
而且你想知道如何制作花岗岩/噪音......
并且以数学/编程方式描述这种噪音的字符数（文件大小）低于提供现成的图像（-片段）？

**开始更新 2 第 1 部分：**
实际上，经过一夜好眠后，我意识到/记得视觉噪音是确定随机性的最佳方法之一。众所周知，人类擅长寻找视觉模式，即使是[专业人士也使用它](http://www.random.org/bitmaps/)（因此，这在密码学中也被大量使用——例如——一个有用[的一次性密码](http://en.wikipedia.org/wiki/One-time_pad)本）。
另请参阅从 19 分 7 秒到 22 分 37 秒的“[指挥官](http://www.imdb.com/title/tt0238380/)”克罗克福德的 YUI 讲座[“安全原则”](http://www.youtube.com/watch?v=zKuFu19LgZA&t=19m07s)。

为什么这很重要？那么[ECMA 脚本（又名 javascript）定义了一个松散的 Math.random() 函数](http://ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf#page=128)：

> “返回一个带正号的数值，大于或等于 0 但小于 1，随机或伪随机选择， *在该范围内近似均匀分布，**使用依赖于实现的算法或策略***”

重新阅读斜体/粗体部分并欢迎自己来到现实：每个浏览器（品牌/版本）都有自己的随机程序！
“但是这是什么意思？” 嗯.. 简单地说.. 取决于浏览器（版本）的 ES 脚本实现（咳嗽 IE）：**基于 Math.random() 的噪声将/可能**在噪声中呈现可见模式（与可能的图块大小无关） ！！
所以对于这个答案的其余部分，我们将假设一个理想的世界，浏览器吐出适当的随机数，或者你控制并使用更强大的“可预测”随机解决方案，正如谷歌[泡沫的](http://dontbubble.us/)[这篇精彩文章](http://web.archive.org/web/20101106000458/http://baagoe.com/en/RandomMusings/javascript/)中所讨论的那样意外泄露 :)**结束更新 2 第 1 部分**

 **所以让我们从径向渐变部分开始。你已经想通了。

好的，然后遵循画布中的噪声函数（您可以在径向渐变之前执行此操作，但是此顺序会提供更好的颗粒并扩散渐变产生的[色带](http://en.wikipedia.org/wiki/Color_banding)- 在平均液晶显示器上，您无论如何都会看到它们，因为它们是不是真彩色-)：***这是通过生成随机像素来完成的***。
会有很多不同的算法可供使用，我使用了一种简单明了的算法，您无需数学就可以理解。
请注意，现代全屏分辨率产生的噪声很容易大于 1 兆像素的分辨率，所以这会很慢！为了克服这个问题，我们需要生成并重用一个小的无缝图块。我们将其用作已具有径向渐变的全尺寸图像中的*图案填充。*

我还假设您希望将径向渐变流畅地放置在视口中间，因此如果您想采用固定方式（与您引用的 noize.png/css3 方式相反），您还需要一个额外的eventhandler 'onResize()' 让画布呈现一个新的背景。为什么？好吧，如果您在哪里让浏览器自动缩放此背景图像（在页面加载时创建），那么您的噪声的良好粒度将变为，甚至会导致您不想要的可见图案..

（因为我现在非常想睡觉..）：其余部分在我为您编写的函数的源代码中进行了详尽的解释..

**这是我为您编写的完整文档代码的链接：** [jsfiddle.net/sU74C/在这里您可以在](http://jsfiddle.net/sU74C/)[全屏预览](http://fiddle.jshell.net/sU74C/show/)中看到它。   **更新 1：**功能 genNoise 80% 更快！

如果您愿意，可以使用它（保留此答案的链接）或从中学习并做自己的事情。
请不要忘记接受这个问题的答案（希望是我的:)）

希望这可以帮助！

**更新 2 第 2 部分：**
有更多与画布交互的方式。例如，还可以计算/（重新）使用/生成/保存/导入像素图/数组（如 png 或 base64 或 jpg 或 ...），请参阅这篇关于更快 8 位甚至更快 32 位的[优秀文章](https://hacks.mozilla.org/2011/12/faster-canvas-pixel-manipulation-with-typed-arrays/)（如果浏览器支持“Uint8ClampedArray”作为 ImageData 对象的数据属性的类型）像素数组，包括解决处理器字节序的正确解决方案！

因此，经过深思熟虑后，事实证明，要做到这一点“正确”实际上是一个挑战，应该分为两部分：

*   我从哪里获得噪声数据（Math.random() 或自定义随机或预定义的外部（图像、json 字符串、random.com）或嵌入（打包？）数据）？
*   在全屏尺寸/画布上构建/存储/重新使用这种噪音的最快方法是什么。

鉴于此更新第 1 部分中的陈述，并且我们不希望可见噪声中出现模式，我开始倾向于使用嵌入在噪声发生器：否则会产生运行您自己的非引擎优化随机函数的开销（时间..很多..）。
此外，我认为之后可能会只使用黑白和透明度。这可能会大大加快速度并减少嵌入的像素数据。
想一想：黑色或白色等于 0 或 1。
在 base 64 中，一个字符可以表示 6 位。所以一个 30x30px 的图像有 900 像素除以 6 位 = 150 个字符（甜蜜点增加 6 像素，所以接下来是 36 像素*36 像素是 216 个字符）。**

# javascript - 这种断绝的目的是什么？

> ID：11466590
> 
> 赞同：3
> 
> 时间：2012-07-13T08:12:23.460
> 
> 标签：javascript, performance, reverse-engineering

以下代码来自google analitycs api。我可以想象其中一些目的是为了加密脚本，而另一些目的是为了减小文件大小。但我觉得还有更多这些。除了这些，这种宣誓的目的还能是什么？

```
var g = void 0, 
i = !0, 
j = null, 
k = !1, 
aa = encodeURIComponent, 
ba = Infinity, 
fa = setTimeout, 
ga = decodeURIComponent, 
l = Math;
function ha(a,b){
    return a.name=b
    }

var 
m = "push",
ia = "test",
ja = "slice",
o = "replace",
ka = "load", 
la = "floor",
ma = "charAt",
na = "value",
q = "indexOf",
oa = "match",
pa = "port",
qa = "createElement",
ra = "path",
r = "name",
t = "host",
u = "toString",
v = "length",
w = "prototype",
sa = "clientWidth",
x = "split",
ta = "stopPropagation",
ua = "scope",
y = "location",
va = "search",
z = "protocol",
wa = "clientHeight",
xa = "href",
A = "substring",
ya = "apply",
za = "navigator",
B = "join",
C = "toLowerCase",
D; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T08:15:05.900

这些变量可用于动态创建 javascript 变量名称。加上选择的变量类型（仅一个或两个字母）将缩短代码。

更新：示例：

```
var 
  m = "push",
  ia = "test";

for(i=0;i<100;i++)
  eval("var " + ia + i " = \"my_value\";"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:21:15.243

由于它是一项 Google 服务，因此他们使用 Closure Compiler 来缩小 JS 文件。闭包尽最大努力将所有东西压缩在尽可能小的空间中。

例如，since `j === null`，您现在可以说`x=j`而不是`x=null`（节省 3 个字符）。

声明本身也经过优化，因此其中一些可能看起来有点不直观：

```
void 0 === undefined
!0 === true
!1 === false 
```

至于字符串，我怀疑它们用于缩短对对象方法的调用（`x[m]()`而不是`x.push()`，节省 2 个字符）。

# java - JPA 参考表映射

> ID：11466593
> 
> 赞同：2
> 
> 时间：2012-07-13T08:12:26.347
> 
> 标签：java, jpa, one-to-many

有两个主要`@Entity`类反映了这些表：

```
TableA {id,name}
TableB {id,name} 
```

和一张参考表

```
TableC {tableA.id,tableB.id} 
```

问题是：如何将具有关系`TableA`的实体字段映射`@OneToMany`到 TableB 对象列表：

```
@OneToMany
??????????
private List<TableBEntity> tableBItems; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T08:24:39.983

如果您真正拥有的是 OneToMany（这意味着给定`tableB.id`最多出现一次`TableC`），那么映射如下：

```
@OneToMany
@JoinTable(name = "TableC",
           joinColumns = @JoinColumn(name = "TABLE_A_ID"),
           inverseJoinColumns = @JoinColumn(name = "TABLE_B_ID"))
private List<TableBEntity> tableBItems; 
```

否则，您实际上拥有的是一个 ManyToMany，并且映射是相同的，只是`@OneToMany`必须替换为`@ManyToMany`.

# c# - 使用 C# 监听文本/事件流

> ID：11466595
> 
> 赞同：2
> 
> 时间：2012-07-13T08:12:47.623
> 
> 标签：c#, server-sent-events, event-stream

我正在编写一个 C# 类来包装一个简单的 Web 服务。RESTful 的东西很容易总结，但现在我需要在服务器上的某些东西发生变化时引发一个事件。

我已经设置了服务器以使事件流可用，但我不知道如何在 C# 中获取流。

目前我正在做这样的事情：

```
public class ServiceWrapper
{
    private readonly wc = new WebClient();

    public ServiceWrapper()
    {
        wc.OpenReadAsync(new Uri(UriOfEvent));
        wc.OpenReadCompleted += ServerEventOccurs;
    }

    private void ServerEventOccurs(object sender, OpenReadCompletedEventArgs args)
    {
        using (var sr = new StreamReader(args.Result))
        {
            var message = ParseStream(sr);
            RaiseServerEventOccurred(message);
        }

        wc.OpenReadAsync(new Uri(UriOfEvent));
    } 

    //usual code for declaring and raising ServerEventOccurred event
} 
```

在我的测试中，该事件被拾取一次，但不是两次。服务器上的事件本质上是一个开关——有些事情发生了，它继续，其他事情发生了，它熄灭了。我知道切换是有效的，因为我已经将事件流连接到一个普通的网页来测试它。

我应该如何处理 C# 中的事件流？

编辑 1：我已经更新了代码以修复 TimVK 指出的错误，但事件流仍然没有被第二次拾取。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:19:22.547

`wc`当您将您的作为属性放在类中而不是在您的方法中始终创建一个新属性时，它不起作用吗？

```
public class ServiceWrapper 
{ 
    WebClient wc {get;set;}
    public ServiceWrapper() 
    { 
        wc = new WebClient(); 
        wc.OpenReadAsync(new Uri(UriOfEvent)); 
        wc.OpenReadCompleted += ServerEventOccurs; 
    } 

    private void ServerEventOccurs(object sender, OpenReadCompletedEventArgs args) 
    { 
        using (var sr = new StreamReader(args.Result)) 
        { 
            var message = ParseStream(sr); 
            RaiseServerEventOccurred(message); 
        } 

        wc = new WebClient(); 
        wc.OpenReadAsync(new Uri(UriOfEvent)); 
    }  

    //usual code for declaring and raising ServerEventOccurred event 
} 
```

然后我想应该每次都提出这个事件。

# c++ - 过载运算符 = 错误

> ID：11466599
> 
> 赞同：1
> 
> 时间：2012-07-13T08:12:54.540
> 
> 标签：c++

我正在尝试使用重载概念来等同于 3 个对象`c1`, `c2`, `c3`. 但这给了我一个错误

```
error: no match for 'operator=' in 'c3 = c2\. circle::operator=(((circle&)(& c1)))' 
```

是什么原因造成的，怎么改？？

```
#include<iostream>
using namespace std;

class circle
{
  private:
    int radius;
    float x,y;
  public:
    circle()
    {}
    circle(int rr,float xx,float yy)
    {
      radius=rr;
      x=xx;
      y=yy;
    }
    circle& operator=(const circle& c)
    {
     cout<<endl<<"assignment operator invoked";  
     radius=c.radius;
     x=c.x;
     y=c.y;
     return *this;
     }
    void showdata()
    {
      cout<<endl<<"\n radius="<<radius;
      cout<<endl<<"x coordinate="<<x;
      cout<<endl<<"y coordinate="<<y<<endl;
    }
};
int main()
{
  circle c1 (10,2.5,2.5);
  circle c2,c3;
  c3=c2=c1;
  c1.showdata();
  c2.showdata();
  c3.showdata();
  return 0;
} 
```

所以这个重载的运算符将被调用两次。首先是 c2=c1，然后是 c3=c2 但是编译器如何将它与重载的运算符定义进行比较？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T08:15:12.787

为了链接`operator=`调用，您必须确保它返回一个引用

```
circle& operator=(const circle& c)
{
   cout<<endl<<"assignment operator invoked";  
   radius=c.radius;
   x=c.x;
   y=c.y;
   return *this;
} 
```

`c1=c2=c3`被解析为`c1 = (c2 = c3)`。if`operator =`不返回引用，`c2 = c3`是一个右值，并且它不能绑定到的引用参数`c1.operator =`（如果参数是对 const 的引用，它可以绑定到右值，但这并不意味着你不应该返回参考）。

另请注意，通过 const 引用获取参数是有意义的，因为您不想更改分配的参数。

还要记住[三的规则](http://en.wikipedia.org/wiki/Rule_of_three_%28C++_programming%29)，也就是说，如果您确实需要执行以下任何操作：

*   超载`operator =`

*   显式提供一个复制构造函数

*   显式提供析构函数

那么你可能也想做另外两个。在您的特定情况下，您似乎根本不需要超载`operator =`。

# gwt - 在 GWT 中重新排序树节点

> ID：11466600
> 
> 赞同：2
> 
> 时间：2012-07-13T08:12:58.977
> 
> 标签：gwt, tree

我正在使用 GWT 2.4。我在我的项目中使用**树。**我想在特定节点旁边的按钮单击上向上或向下移动树节点。有什么办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:24:06.037

**@Janki，您可以尝试Tree**的以下属性来重新排序附加到它的**TreeItems 。**

```
myTree.insertItem(beforeIndex, item); 
```

此属性在包含指定文本的指定索引处插入一个子树项目，其中**beforeIndex**是要插入项目的索引，而**itemText**是要添加的文本。

# iphone - 在另一个视图中显示 modalViewController

> ID：11466602
> 
> 赞同：0
> 
> 时间：2012-07-13T08:13:04.320
> 
> 标签：iphone, objective-c, ios, xcode

我已经实现了一个类似 facebook 的幻灯片菜单。当我滑动导航栏时，“设置”视图将出现在下方。

问题是当我尝试从“设置”视图呈现模式视图时。我尝试实现一个反馈系统（MFMailComposeViewController），但如果我从下面的设置视图中呈现它，一半的模式视图将被覆盖视图（rootView 控制器）阻止。

我能做些什么来解决这个问题？

提前致谢

```
masterViewController = [[MatchTable alloc] initWithNibName:@"MatchTable" bundle:nil];
self.navigationController = [[UINavigationController alloc] initWithRootViewController:masterViewController];

self.window.rootViewController = self.navigationController;
[self.window makeKeyAndVisible];

Settings *sideMenuViewController = [[Settings alloc] initWithNibName:@"Settings" bundle:nil]; 

//  make sure to display the navigation controller before calling this
[MFSideMenuManager configureWithNavigationController:self.navigationController sideMenuController:sideMenuViewController]; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T10:41:54.773

好吧，我这样做是为了给它一种动画效果..您可以选择您喜欢的任何其他效果：

```
 [UIView beginAnimations:@"Flip" context:nil];
        [UIView setAnimationDuration:1.0];
        [UIView setAnimationCurve:UIViewAnimationCurveEaseInOut];
        [UIView setAnimationTransition:UIViewAnimationTransitionCurlUp forView:appDelegate.window.rootViewController.view cache:YES];
        [appDelegate.window.rootViewController.view addSubview:@"Your View Object"];
        [UIView commitAnimations]; 
```

# python - 从 ASCII 表中仅提取感兴趣的列

> ID：11466604
> 
> 赞同：4
> 
> 时间：2012-07-13T08:13:08.403
> 
> 标签：python, tabular

我绝不是程序员，但我偶然发现了一个非常讨厌的固定宽度的 ASCII 表，这可能需要我成为一个:)（我希望能得到你们的帮助）

我确实已经向 Google 先生征求了一些建议，他为我指出了 Python 的方向。所以我在这里 - 很迷茫:(

有问题的表如下所示：

```
列 1 列 2 列 3 列 4 列 5 列 6 列 7 ... 列 N
   数据 垃圾 垃圾 数据 垃圾 垃圾 数据
   数据 垃圾 垃圾 数据 垃圾 垃圾 数据
   数据垃圾垃圾数据垃圾垃圾   
   数据垃圾垃圾垃圾垃圾   
   数据 垃圾 垃圾 数据 垃圾 垃圾 数据
   数据 垃圾 垃圾 数据 垃圾 垃圾 数据
   数据 废话 废话 废话 数据
   数据垃圾数据垃圾数据垃圾数据
   数据 垃圾 垃圾 数据 垃圾 垃圾 数据
   数据 垃圾 垃圾 数据 垃圾 垃圾 数据
```

正如您所看到的，列数可能会有所不同，并且表中有些部分没有数据，也有一些列包含我不感兴趣的数据。

我的目标是最后有一个表格，如下所示：

```
列 1 列 4 列 7 ... 列 N
   数据数据数据
   数据数据数据
   数据数据       
   数据           
   数据数据数据
   数据数据数据
   数据数据
   数据数据数据
   数据数据数据
   数据数据数据
```

所以，现在我不想要的所有列都消失了。这基本上是我的目标 - 一个只有我感兴趣的列的表。你认为这样的事情可以在 Python 中完成吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:31:46.913

听起来您正在尝试从文本文件中读取表格信息，然后重新格式化。一些基本处理可能如下所示：

```
# First read content into an array
# Each item in the array will be a line of the file
with open('filename.txt') as f:
    content = f.readlines()

# Next, parse each line
data = []
for line in content:
    # You might need to split by spaces
    # This takes care of multiple whitespaces, so "data1   data2 data3    data4"
    # Becomes ['data1','data2','data3','data4']
    row = line.split()
    # Or, maybe you will need to split the row up by tabs into an array
    # [] is a list comprehension, strip() will remove extra whitespace
    row = [item.strip() for item in line.split('\t')]
    # Finally, append the row to your data array
    data.append(row)

# Now, print the data back to a file how you'd like
fout = open('output.txt','w')
for row in data:
   # For specific columns
   fout.write('{0} {1} {2} {3}'.format(row[0],row[1],row[7],row[8]))
   # Or, if you just need to remove a couple columns, you might do:
   row.pop(6)
   row.pop(5)
   row.pop(4)
   fout.write(' '.join(row)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:20:27.813

是的，这可以做到。在 python 中，字符串是序列，因此您可以使用固定索引将行分割成列：

```
>>> row = "   data    crap    crap            crap    crap   data"
>>> width = 8 # Column width
>>> columns = [row[i*width:(i+1)*width].strip() for i in range((len(row)/width)+1)]
>>> columns
['data', 'crap', 'crap', '', 'crap', 'crap', 'data'] 
```

现在您所要做的就是选择您的列：

```
>>> columns[0], columns[3], columns[6]
('data', '', 'data') 
```

我可以想象上面的代码对你来说仍然是胡言乱语；我强烈建议您开始阅读有关学习编程的内容。[Python 是一门优秀的语言，从http://wiki.python.org/moin/BeginnersGuide](http://wiki.python.org/moin/BeginnersGuide)开始，然后从那里开始！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:33:18.310

虽然我真的认为你应该为了学习 python 而在 python 中编写代码，但如果你只想完成它，请尝试使用 Excel！

*   在表格中阅读（如果 Excel 无法弄清楚这一点，我会感到惊讶！）
*   删除您不感兴趣的列
*   导出/另存为固定宽度

# .net - 将固定长度的十六进制字符串与前导零进行比较

> ID：11466606
> 
> 赞同：0
> 
> 时间：2012-07-13T08:13:20.307
> 
> 标签：.net

我有两个字符串：

```
var Number1 = "1CDDE";
var Number2 = "01CDDE"; 
```

数字的长度是固定的，六个字符。

我必须在没有前导零的情况下比较这些数字。如果数字的长度小于六，我应该删除第一个零还是添加零？

没问题，如果值是 int，但是当我尝试用字符串（例如解析为 int 或传入 String.Format）做类似的事情时，我做不到。

解决办法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:15:09.907

[`string.TrimStart`](http://msdn.microsoft.com/en-us/library/system.string.trimstart)如果您无法控制前导零，则使用它来删除它们，或者如果您这样做，则使用标准化方法（始终或从不包含前导零）。

例如：

```
var equal = "1CDDE" == "01CDDE".TrimStart(new[] { '0' }); // true 
```

# c# - 平均存储过程中的空列

> ID：11466609
> 
> 赞同：2
> 
> 时间：2012-07-13T08:13:24.857
> 
> 标签：c#, asp.net, sql, stored-procedures

我有一个存储过程，我想平均空列。

这是我的存储过程：

```
SELECT 
    AVG(planned) AS Planned,
    AVG(achieved) AS Achieved 
FROM 
    Port 
INNER JOIN 
    Technology ON Port.portID = Technology.portRef 
```

我使用数据源将此存储过程绑定到图表，当列为空时，C# 代码会引发此错误：

> 对于 Decimal，值太大或太小。

如何处理我的存储过程到`avg`那些空列？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:17:33.940

当查询不返回任何值时会发生这种情况。用这个

```
SELECT 
    coalesce(avg(planned),0) as Planned,
    coalesce(avg(achieved),0) as Achieved 
FROM 
    Port inner join Technology on Port.portID = Technology.portRef 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T08:21:06.180

另一种方式

```
SELECT avg(isnull(planned,0))as Planned,avg(isnull(achieved,0))  as Achieved 
FROM Port inner join Technology on Port.portID = Technology.portRef 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:23:45.477

使用关键字`unpivot`

```
select id, AVG(Q)
from (select * from myTable) a
unpivot(Q for QQ IN(Q1,Q2,Q3,Q4,Q5)) b
group by id 
```

如果所有列都是`null`，则它不会返回任何内容。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T09:01:10.243

我看到有几个人对是否使用`ISNULL`或感到困惑`COALESCE`。我强烈推荐`COALESCE`。在某些情况下，两者都可以正常运行，但在某些情况下`ISNULL`，如果处理不当会给出错误的输出。

请检查以下代码段：

```
SELECT  
    ISNULL(Nullif('test', 'test'), '12345') AS using_isnull,
    COALESCE(Nullif('test', 'test'), '12345') AS using_coalesce,
    ISNULL(Nullif('test', 'test'), 12345) AS int_using_isnull,
    COALESCE(Nullif('test', 'test'), 12345) AS int_using_coalesce 
```

# java - 禁用登录 PDFBox

> ID：11466610
> 
> 赞同：13
> 
> 时间：2012-07-13T08:13:40.120
> 
> 标签：java, log4j, pdfbox

我们正在使用 PDFBox 进行一些 PDF 阅读和操作。但是在解析过程中，我收到了一堆这样的消息：

```
Changing font on <m> from <Arial Bold> to the default font 
```

现在我该如何禁用这些？因为如果嵌入了字体，那么在输入的每个字符上都会输出这样的消息，因此日志文件变得非常不可用。

现在更改整体日志级别不是一种选择，因为我需要来自其他组件的语句。

我正在使用 Tomcat 5.5、log4j 1.2.16 和 pdfbox-app 1.6.0

这是我的 log4j 配置文件：

```
# Root logger option
log4j.rootLogger=INFO, file, stdout

# Direct log messages to a log file
log4j.appender.file=org.apache.log4j.DailyRollingFileAppender
#log4j.appender.file.File=/home/PDF/WS/PDF.log
log4j.appender.file.File=C:\\loging.log
log4j.appender.file.MaxFileSize=5MB
log4j.appender.file.MaxBackupIndex=1
log4j.appender.file.layout=org.apache.log4j.PatternLayout
log4j.appender.file.layout.ConversionPattern=%d{ISO8601} %-5p [%c{2}]: %m%n

# Direct log messages to stdout
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.Target=System.out
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.file.layout.ConversionPattern=%d{ISO8601} %-5p [%c{2}]: %m%n 
```

**编辑**

修改我的 log4j 文件后，它是这样的：

```
# Root logger option
log4j.rootLogger=INFO, file, stdout

log4j.rootLogger.org.apache.pdfbox=ERROR

# Direct log messages to a log file
log4j.appender.file=org.apache.log4j.DailyRollingFileAppender
#log4j.appender.file.File=/home/PDF/WS/PDF.log
log4j.appender.file.File=C:\\loging.log
log4j.appender.file.MaxFileSize=5MB
log4j.appender.file.MaxBackupIndex=1
log4j.appender.file.layout=org.apache.log4j.PatternLayout
log4j.appender.file.layout.ConversionPattern=%d{ISO8601} %-5p [%c{2}]: %m%n

# Direct log messages to stdout
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.Target=System.out
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.file.layout.ConversionPattern=%d{ISO8601} %-5p [%c{2}]: %m%n 
```

无论我把这`log4j.rootLogger.org.apache.pdfbox=ERROR`条线放在哪里，错误仍然会在日志文件中不断弹出：

```
2012-07-16 15:36:46,652 WARN  [font.PDSimpleFont]: Changing font on <r> from <Arial Bold> to the default font
2012-07-16 15:36:46,652 WARN  [font.PDSimpleFont]: Changing font on <o> from <Arial Bold> to the default font
2012-07-16 15:36:46,667 WARN  [font.PDSimpleFont]: Changing font on <c> from <Arial Bold> to the default font
2012-07-16 15:36:46,667 WARN  [font.PDSimpleFont]: Changing font on <e> from <Arial Bold> to the default font
2012-07-16 15:36:46,667 WARN  [font.PDSimpleFont]: Changing font on <s> from <Arial Bold> to the default font
2012-07-16 15:36:46,667 WARN  [font.PDSimpleFont]: Changing font on <u> from <Arial Bold> to the default font
2012-07-16 15:36:46,667 WARN  [font.PDSimpleFont]: Changing font on < > from <Arial Bold> to the default font
2012-07-16 15:36:46,667 WARN  [font.PDSimpleFont]: Changing font on <P> from <Arial Bold> to the default font 
```

**编辑 2**

在咨询[log4j: package-specific logging](https://stackoverflow.com/questions/5297686/log4j-package-specific-logging)之后，我发现了正确的语法：

```
log4j.logger.org.apache.pdfbox=ERROR 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2017-03-17T09:20:16.737

禁用所有日志记录的简单方法：

```
java.util.logging.Logger
    .getLogger("org.apache.pdfbox").setLevel(java.util.logging.Level.OFF); 
```

或者，如果您只想看到严重的消息：

```
java.util.logging.Logger
    .getLogger("org.apache.pdfbox").setLevel(java.util.logging.Level.SEVERE); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-07-13T08:25:46.333

pdfbox 确实像您之前所说的那样记录错误，如果您将以下行添加到 log4j.properties 它应该清理

```
log4j.rootLogger.org.apache.pdfbox.pdmodel.font.PDFont=fatal 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2015-07-05T19:41:36.053

这对我有用： - 请注意，有多个这样的问题适用于这个答案，并且我已经被要求将事物标记为重复。因此，如果有人找到时间 - 继续合并......

```
 // you might want to switch off logging here to improve performance
        String[] loggers = { "org.apache.pdfbox.util.PDFStreamEngine",
            "org.apache.pdfbox.pdmodel.font.PDSimpleFont",
            "org.apache.pdfbox.pdmodel.font.PDFont",
            "org.apache.pdfbox.pdmodel.font.FontManager",
            "org.apache.pdfbox.pdfparser.PDFObjectStreamParser" };
        for (String logger : loggers) {
          org.apache.log4j.Logger logpdfengine = org.apache.log4j.Logger
              .getLogger(logger);
          logpdfengine.setLevel(org.apache.log4j.Level.OFF);
        } 
```

# opencl - GPU 可以成为 OpenCL 程序的宿主吗？

> ID：11466617
> 
> 赞同：0
> 
> 时间：2012-07-13T08:14:05.847
> 
> 标签：opencl

*一点免责声明：这更像是一种理论/学术问题，而不是我遇到的实际问题。*

*在OpenCL*中设置并行程序的常用方法是编写 C/C++ 程序，该程序设置设备（GPU 和/或其他 CPU）、内核和数据缓冲区以在设备上执行内核。
这个程序是从主机启动的，它曾经是一个 CPU。

是否可以编写一个 OpenCL 程序，其中主机是 GPU，设备是其他 GPU 和/或 CPU？

这种情况的先决条件是什么？
是否需要特殊的 GPU，或者是否可以使用任何支持 OpenCL 的 GPU？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-14T12:13:54.807

您是在寻找一个完整的主机还是只是一个内核启动器？

即将推出的 CUDA (v 5.0) 引入了在内核中启动内核的功能。因此，设备可用于在其自身上启动内核。可能在不久的将来 OpenCL 也会支持此功能。

# android - android 服务中的线程无法按预期工作

> ID：11466619
> 
> 赞同：0
> 
> 时间：2012-07-13T08:14:08.943
> 
> 标签：android, android-service

我有一个创建和启动服务的应用程序。然后服务创建一个线程。这个线程的作用是做一些任务，休眠5秒，然后再做任务，休眠5秒，以此类推。

我面临的问题是，有时，线程不会在 2 分钟内醒来，而不是睡 5 秒。我了解 Android 系统可以做一些高优先级的工作，这可能会导致线程唤醒延迟。有什么办法可以改进它，线程总是在 5 秒后唤醒。

服务 onCreate() 的代码。请注意，我正在日志文件中记录带有时间戳的“线程运行”以计算延迟。

```
@Override
public void onCreate() {
    logger.Log("MTrackService::onCreate()");
    thMain = new Thread(new Runnable() {
        public void run() {
            while(running) {
                logger.Log("Thread Running");
                try {
                    //Do Stuff
                    Thread.sleep(5*1000);
                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                    running = false;
                }
            }
        }
    });
    thMain.start();
} 
```

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-19T16:51:47.677

您的设备很可能会进入睡眠状态。在这种情况下，您的线程将不会每 5 秒运行一次。在设备唤醒之前它不会再次运行。

您可以通过保持设备唤醒来验证这一点（使用唤醒锁或将其插入 USB 电源并在应用程序-> 开发人员设置中设置“插入时不休眠”。

如果你真的需要让你的线程每 5 秒运行一次，那么你需要获得一个唤醒锁并确保设备不会进入睡眠状态。当然，这会耗尽电池电量并惹恼您的用户；-)

# jquery - 带有 jquery/ajax 调用的慢速浏览器缓存

> ID：11466622
> 
> 赞同：1
> 
> 时间：2012-07-13T08:14:17.803
> 
> 标签：jquery, ajax, firebug, browser-cache

我正在调查 jQuery、Ajax 和浏览器缓存的问题。

我们使用 jQuery 通过 Ajax 从服务器获取一段 html。当没有缓存时，响应大约需要 10 毫秒（根据 Firebug）。不管这是 200 还是 304 响应。当浏览器不访问服务器时（我在 Firebug 中通过灰线和缓存响应标头看到），FireBug 报告“等待”时间超过 200 毫秒。

有人知道这里有什么问题吗？

编辑：可能是 Firebug 减慢了缓存速度。关闭 Firebug 会提供一个更快捷的页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:22:05.567

在整个 Web 浏览器缓存中查找合适的信息取决于您的计算机速度。

当数据不在您的 Web 浏览器缓存中时，会立即从服务器中找到数据。当数据在您的 Web 浏览器缓存中时，在您的 Web 浏览器缓存中的所有数据中搜索相应的数据需要时间。

# macos - 如何在mac上为openoffice创建插件

> ID：11466624
> 
> 赞同：0
> 
> 时间：2012-07-13T08:14:24.737
> 
> 标签：macos, openoffice.org

您好，我打算在 mac lion 上为 OpenOffice 创建一个小插件。有人可以让我知道如何启动这个过程，因为我找不到任何启动这个过程的途径。多谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-14T15:24:51.933

你应该阅读：[http ://wiki.openoffice.org/wiki/Extensions_development](http://wiki.openoffice.org/wiki/Extensions_development)

假设您想使用 Java 制作它，我建议您：

*   安装 OpenOffice.org
*   安装 OpenOffice.org SDK
*   安装 Netbeans
*   安装 Netbeans OpenOffice.org 扩展 (http://wiki.openoffice.org/wiki/OpenOffice_NetBeans_Integration)

您将拥有用于在 Netbeans > New Project 中创建 OpenOffice.org 扩展的存根

# php - 如何在 CodeIgniter 中使用数据映射器

> ID：11466626
> 
> 赞同：0
> 
> 时间：2012-07-13T08:14:33.657
> 
> 标签：php, codeigniter

我正在尝试在 CodeIgniter 中使用数据映射器。我已经使用[安装说明进行了设置](http://stensi.com/datamapper/pages/installation.html)

```
<?php
class Users extends DataMapper{

function Users(){
    parent::DataMapper();
}

function create($username, $hashed_password, $salt, $department_id, $role_id){
    $user = new User();
    $user->username = $username;
    $user->hashed_password = $hashed_password;
    $user->salt = $salt;
    $user->department_id = $department_id;
    $user->role_id = $role_id;

    $user->save();
} 
```

我已经在 database.php 上设置了数据库信息，我还自动加载了 datamapper 和数据库库。这是我得到的错误：

```
Error Number: 1146

Table 'rpt.datamappers' doesn't exist

DESCRIBE `DataMappers`

Filename: D:\web_files\tester\php\ci_tester\system\database\DB_driver.php

Line Number: 330 
```

我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:34:20.160

我认为您在示例中某处的类名错误，您的类称为“Users”，但在创建方法中您称为“new User”。

错误消息“表 'rpt.datamappers' 不存在”实际上来自您的数据库。看起来生成表名的 automagick 使用了错误的类名（DataMapper）而不是“User（s？）”，尝试像这样将表名显式设置为 DataMapper 后代类，以确认：

```
class Users extends DataMapper{
    public $table = 'users';
    // ...
} 
```

另外，如果您只想委托给父构造函数，请不要用您自己的构造函数覆盖它，特别是如果您不保留方法的签名。

# c++ - Why is `is_open()` non-const?

> ID：11466630
> 
> 赞同：24
> 
> 时间：2012-07-13T08:14:41.273
> 
> 标签：c++, ofstream

I have a function similar to below which is const and needs to check that a file stream is open prior to continuing:

```
bool MyClass::checkSomeStuff() const
{
    // Where outputFile_ is a std::ofstream
    if ( ! outputFile_.is_open() )
    {
        throw std::runtime_error( "Output file not open." );
    }

    // ... do more stuff 
```

However, It seems I can't do this as `is_open()` is declared as:

```
bool is_open ( ); 
```

(i.e. non-const)

To me it seems a bit odd that a function like this - which is clearly a pure accessor - should be non-const. Is there a logic behind it which makes sense?

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-07-13T08:21:46.550

It is in fact `const` in C++11\. The C++03 version is an unfortunate error.

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2012-07-13T08:21:07.630

This is a known discrepancy in the standard library. You can find more information about it over here: [http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-defects.html#365](http://www.open-std.org/jtc1/sc22/wg21/docs/lwg-defects.html#365)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-13T08:23:30.327

*   Let's see on CPPReference, what is `is_open()` for:

> The stream is associated with a file if either a previous call to member open succeeded or if the object was successfully constructed using the parameterized constructor, and close has not been called since.

So, use it immediately after `open()` / `close()`. That is why the old `is_open()` non-const. ;)

*   Use `bool good() const` instead.

# jquery - 调用位于单独文件中的 jQuery 函数

> ID：11466635
> 
> 赞同：0
> 
> 时间：2012-07-13T08:14:54.087
> 
> 标签：jquery, file, external

我的脚本变得越来越大，我想将其中的一些移到一个单独的文件中，但无法让它工作。

我有以下内容：

```
jQuery(document).ready(function ($) {

some code....

initEdit(theme, isAdmin, dataAdapterCustomers, dataAdapterShops, dataAdapterOrderStatus);

some more code.....

}); 
```

在 edit.js 文件中，我有以下内容：

```
function initEdit(theme, isAdmin, dataAdapterCustomers, dataAdapterShops, dataAdapterOrderStatus) {

        $("#dateEdit").jqxDateTimeInput({ 
            width: '200px', 
            height: '18px', 
            formatString: "yyyy-MM-dd",
            theme: theme  
        });

some more code.....

} 
```

这样做时，我收到以下错误：

> 未捕获的类型错误：对象 [object DOMWindow] 的属性“$”不是函数

我尝试将 initEdit 函数包含在以下内容中：

```
(function($) {
function initEdit(theme, isAdmin, dataAdapterCustomers, dataAdapterShops, dataAdapterOrderStatus) {

        $("#dateEdit").jqxDateTimeInput({ 
            width: '200px', 
            height: '18px', 
            formatString: "yyyy-MM-dd",
            theme: theme  
        });

some more code.....

}})(jQuery); 
```

但后来我得到一个错误，它找不到 initEdit。

我确实包含了附加的 .js 文件，当我检查文件的源代码并单击它时，它会加载，因此页面确实加载了它。我必须补充一点，原始的 jQuery 脚本位于 php 文件的脚本标记中。我还在 noConflict 模式下运行 jQuery。

会不会是 edit.js 在从主函数调用之前被执行？

任何建议将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:18:25.437

试试这个：

```
function initEdit(theme, isAdmin, dataAdapterCustomers, dataAdapterShops, dataAdapterOrderStatus) {

        jQuery("#dateEdit").jqxDateTimeInput({ 
            width: '200px', 
            height: '18px', 
            formatString: "yyyy-MM-dd",
            theme: theme  
        });
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:19:42.287

包含 .js 文件的顺序是否正确？确保首先加载主 jqueryfile，然后是 edit.js，然后是调用该函数的代码。错误看起来不知道 jquery 语法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:31:26.550

同意@32bitfloat，你必须有正确的顺序包含.js文件..

第一次包含 jquery 文件 `<script type="text/javascript" src="jquery.js">`

然后包含您的文件包含该功能 `<script type="text/javascript" src="function.js">`

然后打电话

`(function ($){ code here... })`

# django - Django 模型过滤多态

> ID：11466643
> 
> 赞同：0
> 
> 时间：2012-07-13T08:15:38.430
> 
> 标签：django, django-models, django-orm

我有两个模型

```
class Market(Model):
    title=models.Charfield()

class Product(Model):
    title=Models.Charfield()
    markets=ManyToMany(Market) 
```

我想在我的视图中获取产品列表。我只想为每个市场购买一种产品。 **如何做呢？**

```
product_for_each_market_list=Products.objects.filter()# should be rather simple.. but i can't figure what to do 
```

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T10:29:58.840

我不确定这会有多重，但这是你可以使用的：

```
Products.objects.filter(markets__in=Market.objects.all()).distinct() 
```

# hibernate - Tomcat 在 Spring3 MVC 应用程序的无限循环中创建 Hibernate SessionFactory

> ID：11466646
> 
> 赞同：2
> 
> 时间：2012-07-13T08:15:58.580
> 
> 标签：hibernate, tomcat, spring-mvc, sessionfactory

我有简单的 Spring3 MVC 应用程序。我正在使用带有 MySQL 作为数据库和 Tomcat6 的 Hibernate 3。当我部署我的 war 文件时，第一次创建 SessionFactory 时，webapp 被初始化。但是tomcat进入无限循环并一次又一次地创建会话工厂。（即使没有从浏览器发送请求）我尝试了很多清理但不知道为什么会发生这种情况。请帮忙

因此，当我发送从 db 获取 domainList 的请求时，我的请求处于等待状态，因为 tomcat 再次创建 sessionfactory。因此，一旦创建它，​​就会获取数据并将其作为响应发送。

**域DAO**

```
 public interface DomainDao {

    public void addContact(Object contact);
    public List<Object> listContact();
    public void removeContact(Integer id);
} 
```

**域DAOImpl**

```
@Repository
    public class DomainDAOImpl implements DomainDao {

        private SessionFactory sessionFactory;

            @Autowired
            public DomainDAOImpl(SessionFactory sessionFactory){
                this.sessionFactory = sessionFactory;
            }

            public void addContact(Object contact) {
                 sessionFactory.getCurrentSession().save(contact);
            }

            @SuppressWarnings("unchecked")
            public List<Object> listContact() {
                 return sessionFactory.getCurrentSession().createQuery("from Domain").list();
            }

            public void removeContact(Integer id) {
                 Domain domain = (Domain) sessionFactory.getCurrentSession().load(
                         Domain.class, id);
                    if (null != domain) {
                        sessionFactory.getCurrentSession().delete(domain);
                    }
            }
    } 
```

**域服务**

```
public interface DomainService {
     public void addContact(Object contact);
        public List<Object> listContact();
        public void removeContact(Integer id);
} 
```

**DomainServiceImpl**

```
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import com.dashboard.bo.DomainService;
import com.dashboard.dao.DomainDao;
import com.dashboard.entities.Domain;

@Service
public class DomainServiceImpl implements DomainService{

        @Autowired
        private DomainDao domainDAO;

        @Transactional
        public void addContact(Object domain) {
            domainDAO.addContact(domain);
        }

        @Transactional
        public List<Object> listContact() {

            return domainDAO.listContact();
        }

        @Transactional
        public void removeContact(Integer id) {
            domainDAO.removeContact(id);
        }

} 
```

**调度程序-servlet.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
 xmlns:p="http://www.springframework.org/schema/p"
  xmlns:tx="http://www.springframework.org/schema/tx"
   xmlns:mvc="http://www.springframework.org/schema/mvc"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  xmlns:context="http://www.springframework.org/schema/context"
 xsi:schemaLocation="http://www.springframework.org/schema/tx
  http://www.springframework.org/schema/tx/spring-tx-3.0.xsd 
  http://www.springframework.org/schema/beans
  http://www.springframework.org/schema/beans/spring-beans-2.5.xsd  
  http://www.springframework.org/schema/context 
  http://www.springframework.org/schema/context/spring-context.xsd
  http://www.springframework.org/schema/mvc
  http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd">
            <context:annotation-config />
            <context:component-scan base-package="com.dashboard.bo, com.dashboard.bo.impl, com.dashboard.controller, com.dashboard.dao, com.dashboard.dao.impl" />
            <mvc:annotation-driven />
            <bean
                        class="org.springframework.web.servlet.view.InternalResourceViewResolver">
                        <property name="prefix">
                                    <value>/WEB-INF/pages/</value>
                        </property>
                        <property name="suffix">
                                    <value>.jsp</value>
                        </property>
            </bean>

       <bean id="messageSource"
        class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="basename" value="classpath:messages" />
        <property name="defaultEncoding" value="UTF-8" />
    </bean>

    <bean id="propertyConfigurer"
        class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"
        p:location="/WEB-INF/jdbc.properties" />         

   <bean id="dataSource"
        class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close"
        p:driverClassName="${jdbc.driverClassName}"
        p:url="${jdbc.databaseurl}" p:username="${jdbc.username}"
        p:password="${jdbc.password}" />

    <bean id="sessionFactory"
        class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">
        <property name="dataSource" ref="dataSource" />
        <property name="configLocation">
            <value>/WEB-INF/hibernate.cfg.xml</value>
        </property>
              <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">${jdbc.dialect}</prop>
                <prop key="hibernate.show_sql">true</prop>
            </props>
        </property>
    </bean>

     <tx:annotation-driven transaction-manager="transactionManager" />
    <bean id="transactionManager"
        class="org.springframework.orm.hibernate3.HibernateTransactionManager">
        <property name="sessionFactory" ref="sessionFactory" />
    </bean>
</beans> 
```

**Web.xml**

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns="http://java.sun.com/xml/ns/javaee"
 xmlns:web="http://java.sun.com/xml/ns/j2ee/web-app_2_5.xsd"
 xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee 
 http://java.sun.com/xml/ns/j2ee/web-app_2_5.xsd"
            version="2.5">
            <display-name>HiberDash</display-name>
            <description>HiberDash</description>
            <servlet>
                        <servlet-name>dispatcher</servlet-name>
                        <servlet-class>org.springframework.web.servlet.DispatcherServlet
                        </servlet-class>
                        <load-on-startup>1</load-on-startup>
            </servlet>
            <servlet-mapping>
                        <servlet-name>dispatcher</servlet-name>
                        <url-pattern>/</url-pattern>
            </servlet-mapping>
            <listener>
                        <listener-class>org.springframework.web.context.ContextLoaderListener
                        </listener-class>
            </listener>

            <context-param>
                   <param-name>contextConfigLocation</param-name>
                 <param-value>
                 /WEB-INF/dispatcher-servlet.xml
                 </param-value>
            </context-param>
</web-app> 
```

**Tomcat 控制台**

```
> Jul 13, 2012 1:42:13 PM org.apache.catalina.core.ApplicationContext
> log INFO: Initializing Spring FrameworkServlet 'dispatcher' Jul 13,
> 2012 1:42:13 PM org.springframework.web.servlet.FrameworkServlet
> initServletBean INFO: FrameworkServlet 'dispatcher': initialization
> started Jul 13, 2012 1:42:13 PM
> org.springframework.context.support.AbstractApplicationContext
> prepareRefresh INFO: Refreshing WebApplicationContext for namespace
> 'dispatcher-servlet': startup date [Fri Jul 13 13:42:13 IST 2012];
> parent: Root WebApplicationContext Jul 13, 2012 1:42:13 PM
> org.springframework.beans.factory.xml.XmlBeanDefinitionReader
> loadBeanDefinitions INFO: Loading XML bean definitions from
> ServletContext resource [/WEB-INF/dispatcher-servlet.xml] Jul 13, 2012
> 1:42:14 PM org.springframework.core.io.support.PropertiesLoaderSupport
> loadProperties INFO: Loading properties file from ServletContext
> resource [/WEB-INF/jdbc.properties] Jul 13, 2012 1:42:14 PM
> org.springframework.beans.factory.support.DefaultListableBeanFactory
> preInstantiateSingletons INFO: Pre-instantiating singletons in
> org.springframework.beans.factory.support.DefaultListableBeanFactory@1357784:
> defining beans
> [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,domainServiceImpl,welcomeController,domainDAOImpl,org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter#0,org.springframework.web.servlet.view.InternalResourceViewResolver#0,messageSource,propertyConfigurer,dataSource,sessionFactory,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager];
> parent:
> org.springframework.beans.factory.support.DefaultListableBeanFactory@1bd06bf
> Jul 13, 2012 1:42:14 PM org.hibernate.cfg.Configuration configure
> INFO: configuring from url:
> jndi:/localhost/HiberDash/WEB-INF/hibernate.cfg.xml Jul 13, 2012
> 1:42:14 PM org.hibernate.cfg.Configuration doConfigure INFO:
> Configured SessionFactory: null Jul 13, 2012 1:42:14 PM
> org.hibernate.cfg.AnnotationBinder bindClass INFO: Binding entity from
> annotated class: com.dashboard.entities.Domain Jul 13, 2012 1:42:14 PM
> org.hibernate.cfg.annotations.EntityBinder bindTable INFO: Bind entity
> com.dashboard.entities.Domain on table domains Jul 13, 2012 1:42:14 PM
> org.springframework.orm.hibernate3.LocalSessionFactoryBean
> buildSessionFactory INFO: Building new Hibernate SessionFactory Jul
> 13, 2012 1:42:14 PM org.hibernate.connection.ConnectionProviderFactory
> newConnectionProvider INFO: Initializing connection provider:
> org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider
> Jul 13, 2012 1:42:23 PM org.hibernate.cfg.SettingsFactory
> buildSettings INFO: RDBMS: MySQL, version: 5.0.83-community-nt Jul 13,
> 2012 1:42:23 PM org.hibernate.cfg.SettingsFactory buildSettings INFO:
> JDBC driver: MySQL-AB JDBC Driver, version: mysql-connector-java-5.1.7
> ( Revision: ${svn.Revision} ) Jul 13, 2012 1:42:23 PM
> org.hibernate.dialect.Dialect <init> INFO: Using dialect:
> org.hibernate.dialect.MySQLDialect Jul 13, 2012 1:42:23 PM
> org.hibernate.transaction.TransactionFactoryFactory
> buildTransactionFactory INFO: Transaction strategy:
> org.springframework.orm.hibernate3.SpringTransactionFactory Jul 13,
> 2012 1:42:23 PM
> org.hibernate.transaction.TransactionManagerLookupFactory
> getTransactionManagerLookup INFO: No TransactionManagerLookup
> configured (in JTA environment, use of read-write or transactional
> second-level cache is not recommended) Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Automatic flush
> during beforeCompletion(): disabled Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Automatic
> session close at end of transaction: disabled Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: JDBC batch size:
> 15 Jul 13, 2012 1:42:23 PM org.hibernate.cfg.SettingsFactory
> buildSettings INFO: JDBC batch updates for versioned data: disabled
> Jul 13, 2012 1:42:23 PM org.hibernate.cfg.SettingsFactory
> buildSettings INFO: Scrollable result sets: enabled Jul 13, 2012
> 1:42:23 PM org.hibernate.cfg.SettingsFactory buildSettings INFO: JDBC3
> getGeneratedKeys(): enabled Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Connection
> release mode: auto Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Maximum outer
> join fetch depth: 2 Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Default batch
> fetch size: 1 Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Generate SQL
> with comments: disabled Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Order SQL
> updates by primary key: disabled Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Order SQL
> inserts for batching: disabled Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory createQueryTranslatorFactory INFO:
> Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory Jul
> 13, 2012 1:42:23 PM org.hibernate.hql.ast.ASTQueryTranslatorFactory
> <init> INFO: Using ASTQueryTranslatorFactory Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Query language
> substitutions: {} Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: JPA-QL strict
> compliance: disabled Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Second-level
> cache: enabled Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Query cache:
> disabled Jul 13, 2012 1:42:23 PM org.hibernate.cfg.SettingsFactory
> createCacheProvider INFO: Cache provider:
> org.hibernate.cache.NoCacheProvider Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Optimize cache
> for minimal puts: disabled Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Structured
> second-level cache entries: disabled Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Echoing all SQL
> to stdout Jul 13, 2012 1:42:23 PM org.hibernate.cfg.SettingsFactory
> buildSettings INFO: Statistics: disabled Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Deleted entity
> synthetic identifier rollback: disabled Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Default
> entity-mode: pojo Jul 13, 2012 1:42:23 PM
> org.hibernate.cfg.SettingsFactory buildSettings INFO: Named query
> checking : enabled Jul 13, 2012 1:42:23 PM
> org.hibernate.impl.SessionFactoryImpl <init> INFO: building session
> factory Jul 13, 2012 1:42:23 PM
> org.hibernate.impl.SessionFactoryObjectFactory addInstance INFO: Not
> binding factory to JNDI, no JNDI name configured Jul 13, 2012 1:42:23
> PM org.springframework.web.servlet.handler.AbstractUrlHandlerMapping
> registerHandler INFO: Mapped URL path [/welcome] onto handler
> [com.dashboard.controller.WelcomeController@18aeabe] Jul 13, 2012
> 1:42:23 PM
> org.springframework.web.servlet.handler.AbstractUrlHandlerMapping
> registerHandler INFO: Mapped URL path [/welcome.*] onto handler
> [com.dashboard.controller.WelcomeController@18aeabe] Jul 13, 2012
> 1:42:23 PM
> org.springframework.web.servlet.handler.AbstractUrlHandlerMapping
> registerHandler INFO: Mapped URL path [/welcome/] onto handler
> [com.dashboard.controller.WelcomeController@18aeabe] Jul 13, 2012
> 1:42:23 PM
> org.springframework.web.servlet.handler.AbstractUrlHandlerMapping
> registerHandler INFO: Root mapping to handler
> [com.dashboard.controller.WelcomeController@18aeabe] Jul 13, 2012
> 1:42:23 PM
> org.springframework.web.servlet.handler.AbstractUrlHandlerMapping
> registerHandler INFO: Mapped URL path [/getDomain] onto handler
> [com.dashboard.controller.WelcomeController@18aeabe] Jul 13, 2012
> 1:42:23 PM
> org.springframework.web.servlet.handler.AbstractUrlHandlerMapping
> registerHandler INFO: Mapped URL path [/getDomain.*] onto handler
> [com.dashboard.controller.WelcomeController@18aeabe] Jul 13, 2012
> 1:42:23 PM
> org.springframework.web.servlet.handler.AbstractUrlHandlerMapping
> registerHandler INFO: Mapped URL path [/getDomain/] onto handler
> [com.dashboard.controller.WelcomeController@18aeabe] Jul 13, 2012
> 1:42:23 PM
> org.springframework.web.servlet.handler.AbstractUrlHandlerMapping
> registerHandler INFO: Mapped URL path [/getUsers] onto handler
> [com.dashboard.controller.WelcomeController@18aeabe] Jul 13, 2012
> 1:42:23 PM
> org.springframework.web.servlet.handler.AbstractUrlHandlerMapping
> registerHandler INFO: Mapped URL path [/getUsers.*] onto handler
> [com.dashboard.controller.WelcomeController@18aeabe] Jul 13, 2012
> 1:42:23 PM
> org.springframework.web.servlet.handler.AbstractUrlHandlerMapping
> registerHandler INFO: Mapped URL path [/getUsers/] onto handler
> [com.dashboard.controller.WelcomeController@18aeabe] Jul 13, 2012
> 1:42:23 PM
> org.springframework.orm.hibernate3.HibernateTransactionManager
> afterPropertiesSet INFO: Using DataSource
> [org.apache.commons.dbcp.BasicDataSource@18bff68] of Hibernate
> SessionFactory for HibernateTransactionManager Jul 13, 2012 1:42:23 PM
> org.springframework.web.servlet.FrameworkServlet initServletBean INFO:
> FrameworkServlet 'dispatcher': initialization completed in 9360 ms 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-15T09:36:50.703

**终于经过整整一周的思考..发现问题...**

**损坏的 JAR 文件！:(**

**解决方案：** 从 m2 存储库中删除所有依赖项的 jar 文件。做了maven-update-dependencies。（来自 m2eclipse 插件）Maven 下载了新的 jar 文件。问题解决了！

**问题是：** 当您的 Internet 连接/防火墙不正确或由于任何原因 m2eclipse 无法连接到 maven 存储库时，它不会给出错误消息，而是在存储库中创建一个虚拟 jar 文件（大小为 8.98kb）。这个文件是空的，在 Maven 构建期间它使用这些文件，因此在构建时没有错误。但是在运行时这些文件会产生很多问题。

# rest - REST 客户端 - 如何使用 PUT 请求发送数据？

> ID：11466655
> 
> 赞同：1
> 
> 时间：2012-07-13T08:16:43.490
> 
> 标签：rest

我使用 Codeigniter 创建了一个 REST API，我正在使用 wiztools.org REST 客户端[https://code.google.com/p/rest-client/对其进行测试](https://code.google.com/p/rest-client/)

我如何以及应该如何为 PUT 请求发送数据？我已经看到一些 PHP 示例，其中 JSON 在标头中发送，但我不确定如何在我正在测试的客户端中执行此操作或如何从请求中读取此数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:22:52.700

您可以使用[cURL](http://blogs.plexibus.com/2009/01/15/rest-esting-with-curl/)发送 PUT 请求。

# facebook - 如何在 Facebook 群组中串流讨论

> ID：11466666
> 
> 赞同：0
> 
> 时间：2012-07-13T08:17:43.590
> 
> 标签：facebook

任何人都知道如何将内容从我的 facebook 公开组流式传输到我的个人网页。任何小部件？我尝试了评论小部件，但它只流式传输通过小部件发布的帖子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T11:29:39.747

目前没有社交插件可以做到这一点，但您可以创建一个应用程序来读取群组帖子并将它们显示在您的网站上。您需要对您网站的用户进行身份验证并为他们请求 user_groups 权限。然后，他们的访问令牌可用于通过调用此处详述的组对象上的提要连接来向他们显示组的内容： [https ://developers.facebook.com/docs/reference/api/group/](https://developers.facebook.com/docs/reference/api/group/)

示例：[https](https://graph.facebook.com/) : //graph.facebook.com/ /feed?access_token=

# symfony - Symfony2：即使存在对象，也要在非对象上调用成员函数 getId()？

> ID：11466673
> 
> 赞同：4
> 
> 时间：2012-07-13T08:18:12.217
> 
> 标签：symfony, doctrine

我不断收到此错误：

```
 /* ... */
    $em = $this->getDoctrine()->getEntityManager();
    $movie = $em->getRepository('MyMyBundle:Movie')->findMovieByName('moviename'); // Repository Class
    \Doctrine\Common\Util\Debug::dump($movie); // dumps the object just fine! The Repository found it
    echo $movie->getId(); // brings me the error nevertheless 
```

致命错误：在线调用 ... 中的非对象上的成员函数 getId()

我的实体中有 getId() 方法。***即使它是***和对象，其他方法也不起作用！

该对象被转储为：

```
..... array(1) { [0]=> object(stdClass)#759 (59) { ["__CLASS__"]=> string( ..... 
```

有什么提示吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-07-13T08:36:53.910

没关系，我找到了答案：（`echo $movie[0]->getId();`存储库返回了一个对象数组）。抱歉，有时你只见树木不见森林。

# image - IE7、CSS3、背景图片和缩放

> ID：11466679
> 
> 赞同：1
> 
> 时间：2012-07-13T08:18:45.760
> 
> 标签：image, css, internet-explorer-7, scaling

好的，这是我的问题。对于我正在使用灯箱（在本例中为 slimbox2）的客户端，我已修改其内容，以便如果图像大于屏幕尺寸，则图像最大宽度/高度就是屏幕尺寸本身。

换句话说：**如果图像 > 屏幕尺寸 => 图像 == 屏幕尺寸**

我对大多数浏览器都使用 css3 background-size 属性，效果很好。对于 IE5.5+，我使用的是**过滤器： AlphaImageLoader**。

这一切都很好，但是当我将鼠标悬停在图像上时，我应该得到一个下一个和上一个按钮。这在 IE7 中不起作用 - 按钮似乎停留在背景图像下，因为它具有**css 过滤器：AlphaImageLoader**。有没有办法让按钮可见？

这是我的一段代码**（JQUERY MERGED WITH PHP）：**

```
 $bgsize = preload.width +'px '+preload.height +'px';
        $(image).css({backgroundImage: "url(" + activeURL + ")",
                          visibility: "hidden",
                          display: "block",
                          'background-size':$bgsize,
                          '-webkit-background-size':$bgsize,
    'filter':'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\''+ activeURL+'\',sizingMethod=\'scale\')',
'-ms-filter':'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\''+ activeURL+'\',sizingMethod=\'scale\' 
```

这是CSS：

```
#lbImage {
    position: absolute;
    left: 0;
    top: 0;
    background-repeat: no-repeat;
}

#lbPrevLink, #lbNextLink {
    display: block;
    position: absolute;
    top: 0;
    right:-10px;
    width: 50%;
    outline: none;
}

#lbPrevLink {
    left: 0;
}

#lbPrevLink:hover {
    background: url(prevlabel.jpg) no-repeat 0 15%;
}

#lbNextLink {
    right: 0;
        z-index:20000;
}

#lbNextLink:hover {
    background: transparent url(nextlabel.jpg) no-repeat 100% 15%;
} 
```

**PS：尝试了最常见的解决方案，如z-index，定位相对/绝对等。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-31T20:15:35.107

AlphaImageLoader 在对象背景和内容之间放置了一个图像，所以下面的所有东西都是[obscured](http://msdn.microsoft.com/en-us/library/ms532847)。使用[背景大小的垫片](https://stackoverflow.com/questions/9330733/good-background-size-cover-fallbacks-shims-tricks-for-cross-browser-compatibi/9693100#9693100)或[纯 CSS 灯箱](http://www.cssplay.co.uk/menu/cssplayBox.html)作为替代。

# matlab - 如何更改 Matlab 树中有效数字的数量

> ID：11466680
> 
> 赞同：0
> 
> 时间：2012-07-13T08:18:51.853
> 
> 标签：matlab, tree

我做了一个回归树，但 Matlab 显示的数字有 6 个有效数字。树非常密集，我不需要这么高的精度，这使得它很难阅读。例如，如何将其更改为 3 个数字？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-18T09:00:25.090

您可以使用`vpa`

例如

```
vpa([114.234 0.0013452],3)= [ 114.0, 0.00135] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:58:16.333

我认为您需要以下内容

在打印您可能使用的东西时

```
a=2.335444444444
sprintf ('%.2f',a) % I want to print 2 significant digits of a only 
```

输出

```
ans =

2.34 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T12:41:09.293

尝试将[格式](http://www.mathworks.co.uk/help/techdoc/ref/format.html)更改为您喜欢的格式 ( `help format`)

您可能对以下内容感兴趣：

```
format bank 
```

或者

```
format short 
```

# facebook - Facebook Oauth access_token andpoint 不返回“过期”值

> ID：11466684
> 
> 赞同：6
> 
> 时间：2012-07-13T08:19:22.233
> 
> 标签：facebook, facebook-graph-api, oauth, facebook-authentication, facebook-access-token

我对 Facebook Oauth access_token 端点有一个奇怪的问题：

```
https://graph.facebook.com/oauth/access_token?             
    client_id=APP_ID&
    client_secret=APP_SECRET&
    grant_type=fb_exchange_token&
    fb_exchange_token=EXISTING_ACCESS_TOKEN 
```

[此处](https://developers.facebook.com/roadmap/offline-access-removal/)的文档（在“场景 3”中）说：“如果在该用户仍有有效的长期用户 access_token 时进行调用，则第二次调用返回的用户 access_token 可能相同或可能已更改，但无论哪种情况，过期时间都将设置为较长的​​过期时间。”

如果我获得了一个有效的长寿命用户 access_token，这个端点返回我已经拥有的相同的访问令牌，并且 expires 参数也**只是短期的**。因此，如果我在一段时间后（例如几个小时）重复上述相同的调用并使用相同的 access_token 指向它，它只会返回没有 expires 参数的 access_token。...所以我无法确定我的 access_token 何时到期。请注意，返回的 access_token 仍然有效并且可以正常工作。

你遇到过同样的问题吗？你有什么建议吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T15:23:57.707

我们遇到了同样的问题。我建议在您的数据库中记录到期时间。当然，不是过期的秒数，而是实际的过期日期/时间。我们也将发送一封电子邮件请求用户更新他们的令牌。如果有其他方法可以提出该请求，我们也有兴趣了解它。向用户询问另一件事（他们的电子邮件）听起来不是一个好主意。

# android - 如何强制顺序执行android

> ID：11466686
> 
> 赞同：1
> 
> 时间：2012-07-13T08:19:24.240
> 
> 标签：android, asynchronous, execution

我正在调用一个函数来下载一个PDF文件，下载后，调用另一个类的函数来查看它，问题是不要指望它完成下载，连续运行并且没有足够的时间下载

例子：

```
if(EstudiosVO.libroEnSd==0){
                Log.v(LOGTAG, "4: INSERT BOOK IN DB");
                insercionEnBD(EstudiosVO.db, EstudiosVO.idLibroPulsado);
                Log.v(LOGTAG, "5: DOWNLOAD BOOK");
                startDownload(EstudiosVO.idLibroPulsado);
            }
        }else{
            Toast.makeText(getBaseContext(), "CONECTION ERROR " +
                    "de datos",Toast.LENGTH_LONG).show();
        }
        Log.v(LOGTAG, "CLOSE DB");
        EstudiosVO.c.close();
        EstudiosVO.db.close();
        Log.v(LOGTAG, "PUT VAR 0");
        EstudiosVO.libroEnSd=0;
     } 
```

![在此处输入图像描述](../Images/9d0874802dade1b1d4497d5a95ddf346.png)

谢谢！

# spring-mvc - 使用带有 SpringMVC 的 Flex 进行应用程序开发

> ID：11466687
> 
> 赞同：0
> 
> 时间：2012-07-13T08:19:26.433
> 
> 标签：spring-mvc, flex4

我想构建一个使用 SpringMVC 作为后端和 Flex 作为前端的演示应用程序。谁能帮助我完成这项工作。我的问题： 1) 我应该使用哪个工具，我可以在哪里为 SpringMVC 和 Flex 编写代码？2）如何整合这两个不同的组件？3）我只想构建一个注册/登录演示。请帮我？

注意：我只想使用免费工具、插件等

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:24:35.240

您可以同时使用 Eclipse - 只需下载 Flashbuilder 插件即可开发 Flex。看看像 BlazeDS 这样的东西，它允许你从 Flex 调用 spring MVC 类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:32:30.340

您可以使用[Powerflasher 的 FDT](http://fdt.powerflasher.com/)，它是基于 Eclipse 的，上次我检查它有免费版本。就像 TrueDub 说的，BlazeDS 值得一看，还有[Spring BlazeDS 集成](http://www.springsource.org/spring-flex/)你也可以利用。

# php - 使用 FPDF 在 PHP 中创建的报告中的边框环绕图像

> ID：11466696
> 
> 赞同：2
> 
> 时间：2012-07-13T08:20:07.027
> 
> 标签：php, image, report, fpdf

我已经在使用 FPDF 的 PHP 生成的 pdf 中添加了一个图像，当我插入一个图像时会出现问题，该图像被插入到正确的位置，但它周围有一个丑陋的边框，而在实际图像中没有边框。这里需要提到的另一件重要的事情是我已经使用 FPDF Image() 方法参数重新调整了它的大小，我的代码是：

```
$this->Image('report_footer.jpg',10,280,190,8); 
```

边框仅出现在图像的顶部和左侧，如下所示： ![FPDF 中的边界问题](../Images/ced41d692adddfcade02599a47ad2857.png)

有什么想法可以摆脱我的图像周围的边框吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-15T08:35:30.030

您可以尝试提供图像*类型*以及其他参数。您也可以尝试将图像编辑到所需的尺寸，然后试一试。如果这不起作用，您可以尝试使用带有 html 写入的 TCPDF 和带有*边框 0*属性的*图像。*

# android - 卸载后应用程序离开虚拟文件（包名）（Android）

> ID：11466698
> 
> 赞同：1
> 
> 时间：2012-07-13T08:20:12.890
> 
> 标签：android

我已将数据库存储在`/mnt/sdcard/Android/data/(My package Name)`.

卸载后，App 会留下一个虚拟文件（或文件夹）。它不能用文件资源管理器删除。

并且虚拟文件的固定日期是`01-01-1970`. 并且没有删除，读取，写入的权限。

这不会一直发生。一些用户之前报告过这个问题。但我无法解决它，因为我不知道问题是什么。现在..它发生在我身上:(

因此，一些用户和我无法重新安装我的应用程序。
我需要将数据库存储在，`/mnt/sdcard/Android/data/(My package Name)`以便人们卸载我的应用程序时可以删除数据库。

卸载应用程序时可能没有发生这种情况。它可能在安装过​​程中发生。

对于这个问题可以做些什么？

# android - Android：无法下载 vitamio SDK

> ID：11466700
> 
> 赞同：1
> 
> 时间：2012-07-13T08:20:23.863
> 
> 标签：android, android-mediaplayer

我需要支持 m3u8 直播视频，所以我尝试下载 vitamio SDK，但他们的网站已关闭。我还有其他地方可以下载 SDK 吗？或者有人可以通过电子邮件将其发送给我吗？谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:44:06.090

你可以从这里下载它[https://dl.dropbox.com/s/9s65mxj67ix4t3d/Vitamio-SDK.7z?dl=1](https://dl.dropbox.com/s/9s65mxj67ix4t3d/Vitamio-SDK.7z?dl=1)

# php - 将字段附加到数组的末尾

> ID：11466703
> 
> 赞同：0
> 
> 时间：2012-07-13T08:20:38.927
> 
> 标签：php

我有一个数组，当我`echo`得到以下输出时；

```
Array[{"name":"Kat","age":"10"}] 
```

现在，我需要在其中添加一个附加文件；所以最后它应该显示为；

```
Array[{"message":"Success","name":"Kat","age":"10"}] 
```

如果`$arr`是我的数组，我将如何追加`"message":"Success"`？

对不起，我没有任何代码来演示我的工作，我被困在这里。如果有人可以帮助我，我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:26:20.043

就像 Waygood 所说，如果你想在数组的末尾添加一个值，只需使用：

`$array[] = $value;`或者`$array['somekey'] = $somevalue;`

但是，如果您需要在数组的开头添加一个值（如您的示例），您可以使用：

`array_unshift($array, $value);`

或者，如果您需要在开头添加一个键和一个值，您可以简单地使用键 => 值对创建一个数组，然后像这样合并两个数组：

`$firstArray = array("message" => "Success");`

`$newArray = array_merge($firstArray, $secondArray);`

作为参考，这里是 php.net 文档的链接：

[array_unshift](http://us3.php.net/array_unshift)

[数组合并](http://us3.php.net/array_merge)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:27:19.000

您的数组内容对我来说看起来像 JSON。但是，如果您的数组实际上只是 PHP 数组，那么请执行以下操作：

```
$arr = array('name' => 'Kat', 'age' => '10');
$arr['message'] = 'Success'; 
```

如果是 JSON 编码的数组：

```
$arr = json_decode('{"name":"Kat","age":"10"}' , true)); //true decodes to an array and not a standard object
$arr['message'] = 'Success';

echo $arr;

//If you want it back in JSON
$json = json_encode($arr);
echo $json; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:24:47.223

要添加命名字段，您可以使用以下命令：

```
$array['message'] = 'Success'; 
```

要添加一个未命名的字段，可以这样做：

```
$array[] = $value; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T08:25:48.813

有多种方法可以做到这一点。

PHP数组函数

[http://php.net/manual/en/function.array-push.php](http://php.net/manual/en/function.array-push.php)

[http://php.net/manual/en/function.array-merge.php](http://php.net/manual/en/function.array-merge.php)

+ 运算符

或者像其他人提到的使用 $arg['var'] =

只需将 "message":"Success" 定义为另一个数组并使用 push、merge 或 +

看起来你也有 Json 编码。你也需要处理它。

数组函数仅适用于常规数组，不适用于编码字符串。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-13T08:23:45.757

怎么样`$arr["message"]="Success";`？

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-13T08:30:28.467

尝试这个：

```
$arr = array("name"=>"Kat","age"=>"10");
print_r($arr);
$arr = array_merge(array("message" => "Success"), $arr);
print_r($arr); 
```

# gwt - GWT 2.5 与 GWT 2.4 的集成

> ID：11466708
> 
> 赞同：2
> 
> 时间：2012-07-13T08:21:11.033
> 
> 标签：gwt, gwt-2.5

我正在`GWT 2.4`使用`Hibernate 3.0`. 我想知道我需要在我的应用程序中进行哪些更改才能集成`GWT 2.5`到我的应用程序中？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T09:18:42.633

没什么特别的。

将 2.4.0 依赖项替换为 2.5.0-rc1 依赖项（取决于您管理依赖项的方式，[下载 SDK](http://code.google.com/p/google-web-toolkit/)并删除新的 JAR 以替换以前的 JAR，或者在您的 POM 中增加版本号 - 如果使用 Maven - 或类似的构建文件）。

如果您使用 Maven 和 gwt-maven-plugin，请确保您也[重新定义插件依赖](http://mojo.codehaus.org/gwt-maven-plugin/user-guide/using-different-gwt-sdk-version.html)项（注意 gwt-maven-plugin 2.4.0 也需要`gwt-servlet`被覆盖）；或者您可以[测试 gwt-maven-plugin 2.5.0-rc1](https://groups.google.com/d/topic/codehaus-mojo-gwt-maven-plugin-users/c0EQromeRgc/discussion)。

不过，请检查[重大更改列表](https://developers.google.com/web-toolkit/release-notes#Release_Notes_Current)；它们影响您的可能性很小，但仍然存在风险。

# java - 当常数未知时，在 O(n) 和 O(n^2) 之间选择正确的算法

> ID：11466710
> 
> 赞同：0
> 
> 时间：2012-07-13T08:21:11.273
> 
> 标签：java, algorithm

我已经为解决相同问题的两种算法提供了运行时函数。比方说——

对于第一个算法：`T(n) = an + b`（n中的线性）
对于第二个算法：`T(n) = xn^2 + yn + z`（n中的二次）

每本书都说时间线性优于二次，当然它适用于更大`n`（多大？）。我觉得 Big changes的定义基于常量`a`、`b`、`x`和。`y``z`

您能否告诉我如何找到`n`我们应该何时从 algo2 切换到 algo1 的阈值，反之亦然（是否只能通过实验找到？）。如果有人能解释它是如何在专业软件开发组织中完成的，我将不胜感激。

如果不能，我希望我能够解释我的问题，请告诉我。

在此先感谢您的帮助。

PS - 该实现将使用 Java 并有望在各种平台上运行。我发现很难用数学方法估计常数、`a`、`b`和`x`。我们如何解决专业软件开发中的这一困境？`y``z`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-13T08:26:00.873

我总是使用 O(n) ，对于较小的 n 它可能会更慢，但无论如何 n 很小。如果尝试为每个数据集选择最佳算法，代码中增加的复杂性将使调试和维护变得更加困难。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-13T08:26:39.840

不可能在所有实际感兴趣的情况下估计固定因子。即使可以，除非您还可以预测输入的大小在未来将如何演变，否则它也无济于事。

除非其他因素也起作用（例如内存消耗），否则应该始终首选线性算法。如果*实际性能*不可接受，您可以寻找替代方案。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-17T06:48:51.977

实验。我还遇到过一种情况，我们有代码可以在实例列表中查找特定实例。原始代码做了一个简单的循环，它运行了好几年。有一次，我们的一位客户记录了一个性能问题。在他的案例中，列表包含数千个实例，查找速度非常慢。

我的开发伙伴的解决方案是在列表中添加散列，这确实解决了客户的问题。但是，现在其他客户开始抱怨，因为他们突然遇到了性能问题。似乎在大多数情况下，列表只包含几个（大约 10 个）条目，并且散列比仅循环列表要慢得多。

最终的解决方案是测量两种备选方案（循环与散列）的时间，并确定循环变得比散列慢的点。在我们的例子中，这大约是 70。所以我们改变了算法：

*   如果列表包含少于 70 个项目，我们循环
*   如果列表包含超过 70 个项目，我们会散列

解决方案可能与您的情况类似。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-13T08:24:27.787

只需使用预期的输入大小来分析代码，如果您还添加最坏情况的输入，那就更好了。不要浪费时间求解方程，这可能一开始就无法推导出来。

通常，从 n = 10000 的大小，您可以预期 O(n ² ) 比 O(n) 慢得多。明显慢意味着任何人都可以注意到它更慢。根据算法的复杂性，您可能会注意到较小 n 处的差异。

重点是：根据时间复杂度来判断算法可以让我们忽略一些算法，这些算法对于最大输入大小的任何输入来说显然太慢了。但是，根据输入数据的域，某些具有较高复杂度的算法实际上会优于其他具有较低时间复杂度的算法。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-07-13T08:32:54.940

你问的是数学问题，而不是编程问题。

注意我会假设 x 是积极的......

你需要知道什么时候

```
an+b < xn^2 + yn + z 
```

IE

```
0 < xn^2 + (y-a)n + (z-b) 
```

您可以将其插入求解二次方程的标准方程[http://en.wikipedia.org/wiki/Quadratic_equation#Quadratic_formula](http://en.wikipedia.org/wiki/Quadratic_equation#Quadratic_formula)

并取较大的 0，然后您知道对于所有大于此的值（作为 x 正数）O(n^2) 更大。

你最终得到一个包含 x、y、a、z 和 b 的可怕方程，我非常怀疑它对你有什么用处。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-07-17T06:42:01.293

当我们为大规模目的编写算法时，我们希望它在较大的“n”中表现良好。在您的情况下，取决于`a, b, x, y and z`，第二种算法可能会表现得更好，尽管它是二次的。但无论 的值是什么，都会有一些（比如说）`a, b, x, y and z`下限，超过该下限，第一个算法（线性算法）总是比第二个更快。`n``n0`

```
If f(n) = O(g(n))
then it means for some value of n >= n0 (constant)
f(n) <= c1*g(n)

So
if g(n) = n,
then f(n) = O(n) 
```

因此，根据您的使用情况选择算法`n`

# c# - 从一个列表框复制到另一个列表框

> ID：11466712
> 
> 赞同：2
> 
> 时间：2012-07-13T08:21:36.037
> 
> 标签：c#, winforms, listbox

我正在使用 c# 处理 Windows 窗体应用程序。我有两个列表框，即 listbox1 和 listbox2 以及一个按钮，即 btnall。listbox1 是使用数据绑定绑定的，而 listbox2 是空的。我想从绑定到其他空的 listbox2 的 listbox1 中复制所有项目。点击 btnAll_click 事件。我正在尝试这个

```
private void btnAll_Click(object sender, EventArgs e)
{
    listbox2.Items.AddRange(listbox1.Items);
} 
```

但我得到的是 data.datarowview 而不是值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T08:27:49.780

您可以遍历 LIstbox1 中的项目并一次添加一个，如下所示：

```
 foreach (var item in Listbox1.Items)
 {
     listbox2.Items.Add(item.ToString());
 } 
```

那会做你想要的吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:26:02.183

尝试这个

```
listbox2.DataSource = listbox1.Items; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:29:14.460

如果您通过`DataSource`属性填充列表控件，请尝试设置`DataSource`和`DataMember`. 不要忘记：

```
listBox.DisplayMember = "displayMember";
listBox.ValueMember = "valueMember"; 
```

否则试试这个：

```
var mylistSource = new List<string>();
foreach (var item in Listbox1.Items)
{
    mylistSource.Add(item.ToString());
}

listBox2.DataSource = mylistSource; 
```

# python - GAE“用户”类替换自己的“用户”类？

> ID：11466722
> 
> 赞同：0
> 
> 时间：2012-07-13T08:22:09.580
> 
> 标签：python, google-app-engine

我的 GAE Python 应用程序有一种称为“用户”的类型，具有各种自定义字段。最近，当我的应用程序一夜之间没有活动时，我在第二天早上尝试登录时会出错。

在登录期间，我得到一个 id（来自 Facebook），它是数据存储区中实体的 key_name：

```
 user = User.get_by_key_name(id_from_facebook)
    logging.debug(user.favorite_color) 
```

这会导致错误，因为返回的实体实际上是 google 库中的某个类，因此没有字段“favorite_color”。但是，它正在从数据存储中获取“一些东西”，所以我检查了对象的内容：

```
 for key in user.__dict__.keys():
      log.debug("%s: %s" % (key, user.__dict__[key])) 
```

这显示了不在我的“用户”类型中的键，例如“_first_name”、“_last_name”和“_email”。

我还尝试从方法内部的“myapp.models”而不是文件顶部导入我的类，但没有任何改变。但是，一旦我关闭了在 GAE 上运行的实例并再次访问我的应用程序以启动一个新实例，它就可以正常工作。

我唯一的线索是我听说我的应用程序导入的内容和 GAE 导入的内容之间存在差异，但没有别的。除了将所有用户复制到新的唯一类型（如“MyUser”）之外，我还能做些什么吗？

编辑：

我发现不需要的类实际上是来自 Kay Framework 的“用户”，它也在我的项目中。但是，我不会在代码中的任何地方导入该类，尤其是在发生错误的模块中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-20T07:34:27.887

您可能正在`User`从`google.appengine.api.users`.

幸运的是，Python 使得这类事情很容易追踪，因为导入是显式的。只需检查模块顶部的导入行，并确定该对象的来源。

# html - 如何避免垂直下拉菜单在底部添加垂直滚动条？

> ID：11466723
> 
> 赞同：2
> 
> 时间：2012-07-13T08:22:13.230
> 
> 标签：html, css, drop-down-menu

我不知道如何完美地提出我的问题，所以我做了一个（快速）示例，以便准确说明我的问题：http: [//jsfiddle.net/kn5GT/1/](http://jsfiddle.net/kn5GT/1/)

如果最后一项靠近底部并且您将其悬停，则子菜单将像其他一样显示，但这会扩展页面的高度，从而显示浏览器的垂直滚动条。

我想避免这种情况，方法是通过不是从上显示，而是从底部显示（子菜单的底部将接近末尾）来扩展页面高度的所有下拉菜单。

这是否只能在 CSS 中实现，还是我必须在其中放入一些 js？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:55:51.093

这可能不是最好的解决方案，但您可以在 css-pseudoclass 的帮助下解决这个问题`nth-last-of-type()`。

我修改[了你的小提琴](http://jsfiddle.net/kn5GT/5/)（边框只是为了更好的视觉区分。）

我刚刚添加了以下规则：

```
ul>li:nth-last-of-type(-n+2)>div {
    top:auto;
    bottom: 50px;
} 
```

不要被奇怪的选择器弄糊涂了，本质上是`(-n+2)`让最后 2 个子菜单从底部弹出而不是从顶部弹出。

# android - 设备旋转导致的 ViewPager 和 LoaderManager 错误

> ID：11466727
> 
> 赞同：1
> 
> 时间：2012-07-13T08:22:19.347
> 
> 标签：android, android-viewpager, android-loadermanager

我使用了一个 ViewPager，里面有 3 个片段。使用 LoaderManager 额外加载每个片段数据。我实现了自己的加载器，但如果我旋转设备并且实际选择了加载器选项卡，则寻呼机和加载器组合运行在 NullPointerException 中。这是我的日志猫。

> java.lang.NullPointerException android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:960) android.support.v4.app.FragmentManagerImpl.performPendingDeferredStart(FragmentManager.java:768) android.support.v4.app.FragmentManagerImpl .startPendingDeferredFragments(FragmentManager.java:1104) android.support.v4.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManager.java:410) android.support.v4.content.Loader.deliverResult(Loader.java:103) com.android .droidfridge.loader.FridgeLoader.deliverResult(FridgeLoader.java:144) com.android.droidfridge.loader.FridgeLoader.deliverResult(FridgeLoader.java:1) android.support.v4.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:221 ) android.support.v4.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:61) android.support.v4.content。ModernAsyncTask.finish(ModernAsyncTask.java:461) android.support.v4.content.ModernAsyncTask.access$500(ModernAsyncTask.java:47) android.support.v4.content.ModernAsyncTask$InternalHandler.handleMessage(ModernAsyncTask.java:474)

这是我完整的加载器代码：

```
package com.android.droidfridge.loader;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.LinkedList;
import java.util.List;
import java.util.TreeSet;

import android.content.Context;
import android.support.v4.content.AsyncTaskLoader;
import android.util.Log;

import com.android.droidfridge.adapters.FridgeEntryItem;
import com.android.droidfridge.adapters.Item;
import com.android.droidfridge.adapters.SectionItem;
import com.android.droidfridge.database.DatabaseHelper;
import com.android.droidfridge.database.Items;
import com.j256.ormlite.dao.Dao;
import com.j256.ormlite.stmt.QueryBuilder;

public class FridgeLoader extends AsyncTaskLoader<List<Item>>
{
    private final static String TAG = "FridgeLoader";

    private DatabaseHelper db = null;
    private List<Item> item;

    private ItemComparator option;
    private boolean ascending;

    public FridgeLoader( Context context, DatabaseHelper db, ItemComparator option, boolean ascending )
    {
        super( context );
        this.db = db;
        this.option = option;
        this.ascending = ascending;
    }

    @Override
    public List<Item> loadInBackground()
    {
        Log.i( TAG, "Started loadInBackground." );

        ArrayList<Item> result = new ArrayList<Item>();
        TreeSet<String> sections = new TreeSet<String>();

        try
        {
            // search for all items
            Dao<Items, Integer> dao = db.getItemsDao();
            QueryBuilder<Items, Integer> builder = dao.queryBuilder();
            builder.where().gt( Items.ACTUAL_AMOUNT_COLUMN, 0 );
            List<Items> data = dao.query( builder.prepare() );

            // sort items list
            data = sortData( data );

            // create list view items
            for( Items item : data )
            {
                // add Category
                if( !sections.contains( item.getCategory().getName() ) )
                {
                    sections.add( item.getCategory().getName() );
                    result.add( new SectionItem( item.getCategory() ) );
                }

                // add Item
                result.add( new FridgeEntryItem( item ) );
            }
        }
        catch( SQLException e )
        {
            Log.e( TAG, "loadInBackground: " + e.getMessage() );
        }

        return result;
    }

    private List<Items> sortData( List<Items> data )
    {
                //...
        return sortedResult;
    }

    @Override
    public void deliverResult( List<Item> data )
    {
        if( isReset() )
        {
            if( data != null )
            {
                onReleaseResources( data );
            }
        }

        List<Item> oldData = data;
        item = data;

        if( isStarted() )
        {
            super.deliverResult( data );
        }

        if( oldData != null )
        {
            onReleaseResources( oldData );
        }
    }

    @Override
    protected void onStartLoading()
    {
        Log.d( TAG, "onStartLoading()" );

        if( item != null )
        {
            deliverResult( item );
        }

        if( takeContentChanged() || item == null )
        {
            forceLoad();
        }
    }

    @Override
    protected void onStopLoading()
    {
        Log.d( TAG, "onStopLoading()" );

        cancelLoad();
    }

    @Override
    public void onCanceled( List<Item> data )
    {
        Log.d( TAG, "onCanceled()" );
        super.onCanceled( data );
        onReleaseResources( data );
    }

    @Override
    protected void onReset()
    {
        Log.d( TAG, "onReset()" );
        super.onReset();

        onStopLoading();

        if( item != null )
        {
            onReleaseResources( item );
            item = null;
        }
    }

    private void onReleaseResources( List<Item> data )
    {
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-14T09:22:49.260

我找到了解决我的问题的方法。它位于片段事务中。重要的一行是：

```
setRetainInstance( true ); 
```

这条线来自我的片段，它从上面使用这个加载器。它在他的构造函数中。

# android - 相对布局中的 layout_height="fill_parent" 不起作用

> ID：11466729
> 
> 赞同：5
> 
> 时间：2012-07-13T08:22:28.250
> 
> 标签：android, android-relativelayout, fill-parent

我有以下布局：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/item_background"
    android:layout_margin="10dip"
    android:gravity="center_vertical">

    <View
        android:layout_width="30dip"
        android:layout_height="fill_parent"
        android:background="@color/test_color"/>

    <ImageView
        android:id="@+id/task_item_startstop_button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:src="@drawable/start_task"
        android:layout_centerVertical="true"
        android:focusable="false"
        android:background="#0000"/>

    <View
        android:id="@+id/task_item_line"
        android:layout_width="2dp"
        android:layout_height="40dip"
        android:layout_margin="5dip"
        android:background="@color/line_color"
        android:layout_toRightOf="@id/task_item_startstop_button"/>

    <TextView
        android:id="@+id/task_item_title"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:textColor="@android:color/black"
        android:textSize="22sp"
        android:textStyle="bold"
        android:layout_toRightOf="@id/task_item_line" />

    <TextView
        android:id="@+id/task_item_status"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/task_item_suspended"
        android:textSize="18sp"
        android:textColor="@android:color/black"
        android:layout_toRightOf="@id/task_item_line"
        android:layout_below="@id/task_item_title"/>

    <TextView
        android:id="@+id/task_item_timer"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginLeft="5dip"
        android:textSize="18sp"
        android:textColor="@android:color/black"
        android:layout_toRightOf="@id/task_item_status"
        android:layout_below="@id/task_item_title"/>

</RelativeLayout> 
```

我想在布局的左侧有垂直线（根布局内的第一个视图），固定宽度和高度等于父级的高度。但是如果我设置 layout_height="fill_parent" 它没有帮助。高度为 0。如果我设置高度，例如 40dip，它将是 40 dip。但我需要确切的 fill_parent 属性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-31T13:20:14.987

这能解决你的问题吗？只需用您自己的替换相关元素

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

        <Button 
            android:layout_height="match_parent"
            android:layout_width="30dp"
            android:id="@+id/thebutton"
            android:text="hello world"
            />

    <AnalogClock
        android:id="@+id/analogClock1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/thebutton" />

</RelativeLayout> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-01-23T07:53:44.790

您已经为 Parent 相对布局提供了边距，这就是为什么每当您添加任何内容时，它总是为您的小部件提供边距。从您的父级相对布局中删除 android:layout_margin="10dip" 然后您会得到 fil 父级中的行。

# java - 保护要复制的 USB 内容

> ID：11466730
> 
> 赞同：-1
> 
> 时间：2012-07-13T08:22:29.047
> 
> 标签：java, jackrabbit, copy-protection, data-protection

我们有一个应用程序，它使用了一些使用flash、PPT开发的内容，存储到文件系统中。

我们正在使用 USB 驱动器将这个应用程序分发给最终客户，因此我们希望保护 USB 的内容，这样任何人都无法复制它。

但是我们的 java 应用程序应该能够访问这些内容。

我正在考虑使用 JackRabbit 内容管理系统构建一个小型 Java 应用程序，所有内容都将使用 JackRabbit 以加密形式。

我还检查了一些工具，例如多合一保护器。它使用自己的刻录机将内容写入 CD/USB，并且需要播放器打开我们不想要的所有内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:50:55.903

如果您需要通过非安全通道（第三方可以访问的 USB）向您的客户发送敏感数据，那么您需要使用某种形式的带有公钥/私钥对的非对称加密（例如 RSA）。使用客户的公钥对文件内容进行编码，没有私钥就无法解码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:44:40.187

我认为你真的不能那样做。我在解释：您总是可以开发一个小程序来检测 USB 并读取它拥有的所有字节。这可以在此刻产生一个副本。这样做的好处是这种程序可能很难创建，但它是可能的。

事实上，如果你想“保护”USB，你可以使用很多程序来改变USB文件的索引，但它很容易被破解。

抱歉，但在我看来，USB 是永久分发数据最糟糕的一种存储方式。

# html - 复选框样式提示

> ID：11466732
> 
> 赞同：1
> 
> 时间：2012-07-13T08:22:42.233
> 
> 标签：html, css, mobile, checkbox, cross-browser

在不同的浏览器上测试我的应用程序复选框的样式似乎并不容易或非常好..

在 chrome 上，您会在复选框周围看到一个轻微的橙色框。

但是当设置背景或边框之类的东西并在我的黑莓上运行我的应用程序时。没有什么不同的。

我的复选框很简单，就像这样

```
<label for="chk">Checkbox</label>
<input type="checkbox" id="chk"/> 
```

当复选框处于焦点时，加粗复选框标签有多难？

我的目标基本上是，不聚焦时的正常检查，用户在聚焦时知道的某种效果，例如粗体标签，边框什么？

这必须适用于 chrome + blackberry 网络浏览器和网络工程......

与其他所有内容相比，为什么复选框样式很奇怪也很困惑...

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:25:45.350

检查这些：

*   [http://ryanfait.com/resources/custom-checkboxes-and-radio-buttons/](http://ryanfait.com/resources/custom-checkboxes-and-radio-buttons/)
*   [http://cssdeck.com/item/321/css-checkbox-styles](http://cssdeck.com/item/321/css-checkbox-styles)

# wcf - 如何在 Visual Studio 中设置相对服务引用？

> ID：11466733
> 
> 赞同：3
> 
> 时间：2012-07-13T08:22:42.680
> 
> 标签：wcf, visual-studio

![在此处输入图像描述](../Images/c8abe9e80c310bc68204d7b80020ff9c.png)

我们有一个 WCF 客户端，并且我们在一个文件中获取了 wsdl 信息。如何输入相对 URL（到 Visual Studio 项目）而不是绝对 URL？我尝试了许多表格，但都没有成功，错误消息是 Invalid URI。

理由：并非所有开发人员都已在同一目录中签出项目。所以更新服务引用很麻烦。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:27:27.610

我们在类似情况下所做的就是让 url 指向 localhost。

因此，每个开发人员都在其 IIS 中使用相同的 url 配置了服务，例如**http:\localhost...**所以配置对所有人都是相同的。

如果这不是一个选项，您可以使用[Slow Cheetah](http://visualstudiogallery.msdn.microsoft.com/69023d00-a4f9-4a34-a6cd-7e854ba318b5/)来转换 web.configs（我们将它用于指向 DEV、QA、Beta 等的配置）

# php - 登录时使用两个数据库

> ID：11466737
> 
> 赞同：1
> 
> 时间：2012-07-13T08:22:54.680
> 
> 标签：php, mysql, include

我尝试实现一个代码，我只希望那些用户注册我已将其电子邮件存储在一个数据库中的用户，以便只有该特定位置的人可以注册到数据库中。因此，我希望在用户输入电子邮件时在网站注册期间，我的脚本会检查一个数据库以查看该用户是否可以在那里注册，如果可以，则检查第二个数据库以查看该用户是否已经注册。如果没有，则仅注册用户。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T08:24:56.613

PHP 是服务器端的，因此您的包含与浏览器缓存没有任何关系。您的客户端连接到您的服务器，PHP 进行处理，然后返回结果。

包含只是在服务器磁盘上找到文件并执行它。如果有的话，它会慢一点，但是这不太可能是一个很大的性能瓶颈。你肯定想让你的文件简洁明了，并在逻辑上使用包含。

如果您正在优化，首先确定是什么让您慢下来很重要。

# wso2 - 如何将响应从 text/plain 更改为 text/xml

> ID：11466738
> 
> 赞同：0
> 
> 时间：2012-07-13T08:23:00.767
> 
> 标签：wso2, plaintext

我有一项服务返回文本/纯文本内容。响应消息如：RESP0Success" 但在 ESB4.0.3 中，响应如下：

```
<text xmlns="http://ws.apache.org/commons/ns/payload">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;message&gt;&lt;MsgType&gt;RESP&lt;/MsgType&gt;&lt;ReturnCode&gt;0&lt;/ReturnCode&gt;&lt;ReturnMessage&gt;Success&lt;/ReturnMessage&gt;&lt;/message&gt;
 </text> 
```

我在axis2.xml中设置了builder和formatter。但是没有用。

```
<messageBuilder contentType="text/plain"             
class="org.apache.axis2.format.PlainTextBuilder"/>
<messageFormatter contentType="text/plain"
class="org.apache.axis2.format.PlainTextFormatter"/> 
```

anyxone 可以告诉我如何在axis2.xml 中设置构建器和格式化程序吗？我的服务配置是：

```
<proxy xmlns="http://ws.apache.org/ns/synapse" name="TextPlain" transports="https,http" statistics="disable" trace="disable" startOnLoad="true">
   <target>
      <inSequence>
         <property name="ContentType" value="text/plain" scope="axis2" />
         <log level="full" />
      </inSequence>
      <outSequence>
         <log level="full" />
         <property name="ContentType" value="text/plain" scope="axis2" />
         <send />
      </outSequence>
      <endpoint>
         <address uri="http://172.20.28.206:8080/AAAService/recieveMsg" format="pox">
         </address>
      </endpoint>
   </target>
</proxy> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-03T13:56:39.200

我有同样的问题，然后我设置

```
<property name="messageType" value="text/plain" scope="axis2"/> 
```

现在它可以工作了，如果我从 URL 调用它，它只会返回文本。

```
<proxy xmlns="http://ws.apache.org/ns/synapse" name="RESTE" transports="http" statistics="disable" trace="disable" startOnLoad="true">
   <target>
      <inSequence>
         <log level="full"/>
      </inSequence>
      <outSequence>
         <log level="full"/>
         <property name="messageType" value="text/plain" scope="axis2"/>
         <send/>
      </outSequence>
      <endpoint>
         <address uri="http://10.15.21.189:8180/contadorServicos/ola-mundo"/>
      </endpoint>
   </target>
   <parameter name="serviceType">proxy</parameter>
   <description></description>
</proxy> 
```

不幸的是，Tryit 功能停止工作，现在它给出了以下错误。

```
<parsererror xmlns="http://www.mozilla.org/newlayout/xml/parsererror.xml">Erro no processamento de XML: formatação incorreta Posição: http://xxxxxxx/services/RESTE?tryit# Número da linha 1, coluna 221:
   <sourcetext>&lt;TryitProxyError h:status='SOAP envelope error' xmlns:h='http://wso2.org/ns/TryitProxy'&gt;org.apache.axis2.AxisFault: com.ctc.wstx.exc.WstxUnexpectedCharException: Unexpected character 'r' (code 114) in prolog; expected '&lt;'at [row,col {unknown-source}]: [1,1]&lt;/TryitProxyError&gt; ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------^</sourcetext>
</parsererror> 
```

ps：当我使用其他工具如 SOAPUI 时，它可以正常工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T12:58:05.877

您需要指定消息的 ContentType。由于来自 HTTP 的输入将包含 Soap 信封和正文，因此您的内容将包含在此类标记中。

当您现在告诉您的端点，消息是文本/纯文本类型时，PlainTextFormatter 会将其转换为真实文本并将其发送给您的端点（axis2.xml 只是配置 - 现在您需要告诉您要使用现在是 PlainTextFormatter)

缺少这一行：

```
<property name="ContentType" value="text/plain" scope="axis2"/> 
```

# sql-server - 使用 UPDATE-OUTPUT 事务在同一张表上死锁

> ID：11466739
> 
> 赞同：1
> 
> 时间：2012-07-13T08:23:04.413
> 
> 标签：sql-server, sql-server-2008-r2, deadlock

我在日志中发现了一堆死锁错误事件。

导致死锁的事务是 Update-Output 事务（例如，Update table1 ... Output table1.some_id ... 我认为这与 Update-Select 事务基本相同。我无法检查是否事务正在访问同一行，因为日志仅显示使用的变量。

从跟踪生成的死锁图中，似乎它们使用的是同一个表和非聚集索引。在 Index 的属性上，检查行锁和页锁。有什么办法可以防止这种情况再次发生？或帮助我进一步诊断的步骤？

# c++ - 是否可以知道我的应用程序是从 Windows 7 中的任务栏启动的？

> ID：11466749
> 
> 赞同：0
> 
> 时间：2012-07-13T08:23:49.017
> 
> 标签：c++, winapi, windows-7, taskbar

我正在使用带有 WinAPI 的 C++/MFC 进行编码，我很好奇是否有可能知道我的应用程序是通过单击任务栏图标（固定在那里）启动的？

PS。我需要知道这一点才能在任务栏上我的程序图标上方显示一个弹出菜单，就像右键单击后发生的那样。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-13T11:18:40.487

您可以知道您的应用程序是否已固定以及正常位置。
我不会推荐它，但你可以知道它是从鼠标的位置开始的。
这并不总是有效，因为有些键盘具有用于任务栏项目的按钮。

# drupal-7 - 如何将论坛与 OG 群组整合？

> ID：11466760
> 
> 赞同：1
> 
> 时间：2012-07-13T08:24:40.390
> 
> 标签：drupal-7, integration, forum, organic-groups

我正在使用drupal 7。

我想在 OG 组中添加论坛，以便添加到 OG 组中的论坛只能由 OG 组的成员访问。

除了使用表单访问之外，是否还有其他选项可以授予对表单的访问限制，因为它不会将群组与论坛集成？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-16T21:31:26.160

不是现在。Drupal 6有[OG 论坛模块](http://drupal.org/project/og_forum)，但不再维护。关于将其移植到 Drupal 7 存在一个未解决的问题，但我不确定目前这种可能性有多大：http: [//drupal.org/node/1007700](http://drupal.org/node/1007700)

您最好的选择可能是创建自己的自定义内容类型并通过评论或类似的东西模拟论坛行为......

==================添加=====================

Drupal 7 目前正在努力：http: [//drupal.org/project/og_forum_D7](http://drupal.org/project/og_forum_D7)

# python - MySQL 的列名中的通配符

> ID：11466764
> 
> 赞同：10
> 
> 时间：2012-07-13T08:24:56.600
> 
> 标签：python, mysql, sql

我正在尝试从数据库中选择多个列，但不是所有列。我要选择的所有列都将以“word”开头。

所以在伪代码中我想这样做：

```
SELECT "word%" from searchterms where onstate = 1; 
```

或多或少。我没有找到有关如何执行此操作的任何文档-在 MySQL 中是否可能？基本上，我试图在单行中存储一个带有标识符的单词列表，并且我想在提取记录时将所有单词与该标识符相关联。所有的单词都将作为一个字符串连接起来，并通过它们的标识符传递给数组/字典中的另一个函数。

我正在尝试尽可能少地调用数据库以保持快速的代码。

**好的，还有一个问题要问你们：**

将有可变数量的列名称为“word”。对每一行进行单独的数据库调用会更快，每行生成一个 Python 查询，还是简单地选择 * 并只使用我需要的列会更快？可以说 SELECT * NOT XYZ 吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-07-13T08:29:11.057

不，SQL 没有为您提供任何语法来进行这样的选择。

您*可以*做的是首先向 MySQL 询问[列名列表](https://dev.mysql.com/doc/refman/5.0/en/columns-table.html)，然后根据该信息生成 SQL 查询。

```
SELECT column_name
FROM information_schema.columns
WHERE table_name = 'your_table'
    AND column_name LIKE 'word%' 
```

让我们选择列名。然后您可以在 Python 中执行以下操作：

```
"SELECT * FROM your_table WHERE " + ' '.join(['%s = 1' % name for name in columns]) 
```

我建议不要使用字符串连接，而是使用[SQLAlchemy](http://www.sqlalchemy.org/)来为您生成 SQL。

但是，如果您所做的只是限制列数，则根本不需要进行这样的动态查询。数据库的艰苦工作是选择行；将 10 列中的 5 列或全部 10 列发送给您几乎没有什么区别。

在这种情况下，只需使用 a`"SELECT * FROM ..."`并使用 Python 从结果集中挑选列。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:28:38.000

不，您不能动态生成要选择的列的列表。它必须在您的最终查询中进行硬编码。

您当前的查询将生成一个包含一列的结果集，该列的值将是`"word%"`满足条件的所有行中的字符串。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T08:32:29.670

您可以首先使用生成列名列表

```
SHOW COLUMNS IN tblname LIKE "word%" 
```

然后循环游标并使用上面查询中的所有列生成 SQL 语句。

```
"SELECT {0} FROM searchterms WHERE onstate = 1".format(', '.join(columns)) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T08:36:08.677

这可能会有所帮助：[选择中的 MySQL 通配符](https://stackoverflow.com/questions/5582144/mysql-wildcard-in-select)

总之，直接在 MySQL 中是不可能的。

作为一个肮脏的解决方法，您可以做的是使用初始查询（[http://dev.mysql.com/doc/refman/5.0/en/show-columns.html](http://dev.mysql.com/doc/refman/5.0/en/show-columns.html)）从表中获取所有列名，然后比较python 如果名称与您的模式匹配。之后，您可以使用找到的列名执行 MySQL select 语句，如下所示：

```
SELECT word1, word2, word3 from searchterms where onstate = 1; 
```

# .net - 如何在 Visual Studio 2010 中为 .NET 2.0 创建强类型数据集

> ID：11466768
> 
> 赞同：0
> 
> 时间：2012-07-13T08:25:04.257
> 
> 标签：.net, vb.net, compilation, dataset, strongly-typed-dataset

我在 VS2010 中创建了一个数据集，并尝试构建一个引用此数据集的 ASP.NET 网站。

然而，当我尝试编译这个网站时，我得到了很多错误。

我已经看到在数据集的声明中，到处都引用了版本 4.0.0.0 中的 TypedDataSetGenerator。

```
<Global.System.Diagnostics.DebuggerNonUserCodeAttribute(),  _
Global.System.CodeDom.Compiler.GeneratedCodeAttribute("System.Data.Design.TypedDataSetGenerator", "4.0.0.0")>  _ 
```

所以现在我认为这是问题所在，因为我在 GAC 中注册了一些 .NET 4.5 DLL。

我将如何使用 .NET Framework 2.0 来编译 DataSet？

谢谢你的时间

//编辑：我从 GAC 卸载了那些 .NET 4.5 DLL，但在尝试构建时仍然遇到相同的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:43:58.960

我已经接近解决方案了。

当然，在卸载这些 .NET 4.5 DLL 后，我还必须重新启动 Visual Studio 才能使更改生效。

现在我可以毫无错误地编译了。

（但如果我可以在面向 .NET 2.0 框架的情况下不使用 .NET 4.0 编译器进行构建，那仍然会很好，但我想这是一种错觉。）

# django - Django：动态 IntegerField 初始值（呈现为空）

> ID：11466771
> 
> 赞同：1
> 
> 时间：2012-07-13T08:25:09.740
> 
> 标签：django, forms

我需要一个整数表单字段来具有“默认”值。但我需要在运行时定义这个值。

我这样做：

```
# at my form constructor:
def __init__(self, data=None, files=None, auto_id='id_%s', prefix=None, initial=None, error_class=ErrorList,
             label_suffix=':', empty_permitted=False):
    super(FlatSearchForm, self).__init__(data, files, auto_id, prefix, initial, error_class, label_suffix,
        empty_permitted)

    min_price = ... # some code to find the minimum price
    self.price_min = min_price # will be used later

    max_price = ... # some code to find the maximum price
    self.price_max = max_price

    # here we go:
    self.fields['price_from'] = forms.IntegerField(min_value=min_price, max_value=max_price, initial=min_price)
    self.fields['price_to'] = forms.IntegerField(min_value=min_price, max_value=max_price, initial=max_price)

# ...
# how I use the form (in views.py):
class SearchFlatView(ListView):
    model = Flat
    context_object_name = 'flats'
    template_name = 'catalog/search.html'

    def get_context_data(self, **kwargs):
        context = super(SearchFlatView, self).get_context_data(**kwargs)
        context['form'] = FlatSearchForm(self.request.GET)
        return context 
```

问题是：当我使用 {{form.price_from}} 和 {{form.price_to}} 呈现字段时，表单中没有显示值 - 这些字段只是空的！

你能告诉我我做错了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:00:02.217

您不能为绑定表单中的字段动态设置初始值。请参阅文档：[https ://docs.djangoproject.com/en/dev/ref/forms/fields/#initial](https://docs.djangoproject.com/en/dev/ref/forms/fields/#initial)

> 初始参数允许您指定在未绑定表单中呈现此字段时要使用的初始值。

但是，您可以做的是创建一个未绑定的表单，但仍保留 request.GET 参数：

```
initial = request.GET.copy()
initial['price_from'] = some_min_price
initial['price_to'] = some_max_price
context['form'] = FlatSearchForm(initial=initial) 
```

在 __iniit__ 形式中，您将拥有：

```
def __init__(self, *args, **kwargs):
    super(Form, self).__init__(*args, **kwargs)
    initial = kwargs.get("initial", {})
    default_min_value = ... #  some default value in case there is no `initial` passed
    default_max_value = ...
    self.fields['price_from'] = forms.IntegerField(min_value=initial.get('min_value', default_min_value), max_value=initial.get('max_value', default_max_value))
    self.fields['price_to'] = forms.IntegerField(min_value=initial.get('min_value', default_min_value), max_value=initial.get('max_value', default_max_value)) 
```

或者，如果需要，您可能想要更改此逻辑。

# webview - 如何实现 WebView 的动态高度（在 Titanium Appcelerator 中）？

> ID：11466773
> 
> 赞同：2
> 
> 时间：2012-07-13T08:25:13.540
> 
> 标签：webview, titanium, appcelerator, titanium-mobile, appcelerator-mobile

嘿 Appcelerator 开发人员，

我只是在使用 AdServer 系统和新型广告进行测试。问题是，当您通过 JavaScript 点击它时，广告会改变它的高度。我怎样才能实现 WebView 会相应地改变它的高度？因为我希望 WebView 只有广告内容的高度，这样你仍然可以点击 WebView 后面/下面的内容。我将 WebView 放在 zIndex 非常高的窗口顶部。也可能是没有广告投放，广告的大小为0。我也可以相应地更改高度吗？如果 WebView 会根据其内容自动更改其高度，那就太好了。

任何帮助将不胜感激:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-23T14:03:40.030

在您的页面标题中包含视口元标记

```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> 
```

我还设置了 WebView 宽度（我不确定这是必要的）。

[您可以在 Mozilla 开发者网络https://developer.mozilla.org/en-US/docs/Mobile/Viewport_meta_tag](https://developer.mozilla.org/en-US/docs/Mobile/Viewport_meta_tag)上找到有关视口元的更多信息

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-16T21:12:10.757

广告是网络视图中唯一的东西吗？如果是这样，给 web 视图一个 height 属性

```
height:Ti.UI.SIZE 
```

这将为 Web 视图提供其子视图的高度。然后，尝试在 click 函数中添加它

```
webView.addEventListener('click', function(e){
   webView.setHeight(Ti.UI.SIZE);
}); 
```

这应该在每次单击时将 Web 视图的高度重置为子项的大小。我从来没有测试过这个，但理论上它听起来很可靠。让我知道这是否有帮助。祝你好运！

# java - Eclipse中如何监控开发者的工作数据？

> ID：11466774
> 
> 赞同：6
> 
> 时间：2012-07-13T08:25:15.567
> 
> 标签：java, eclipse, version-control, eclipse-plugin

我正在写我的学士论文（这是我的第一个研究项目），并试图评估不同的可能性来监控开发人员一天的工作，将其汇总并稍后进行说明。为此，我定义了一些我想衡量的指标（它们可能会随着时间的推移而变化，并且可能会出现更多）。

我的问题与显示器有关。首先，我决定（仅）在 Eclipse 中监控开发人员的工作（稍后添加 TFS 实现）：

*   **工作项**：我想知道开发人员解决、编辑和创建了多少工作项。如果可能，我想从 MyLin 访问数据，因为可以使用多个不同的任务/错误跟踪器（Bugzilla、Mantis 等）。不幸的是，我不确定这是否可能？

*   **IDE-stuff**：（开始），我想计算代码中的选择和编辑次数，可能还包括开发人员在 IDE 中的点击次数。我读到，我可以在 Eclipse 上创建侦听器并获取数据。这是对的吗，有人知道关于该主题的不错的教程吗？

*   **源代码管理**：要跟踪开发人员的工作，我需要获取开发人员的源代码更改（提交）。对于 SVN、GIT 和 CVS，有多个 API，我可以使用 Java 或通过 webrequests 访问它们。但在我开始之前，我想问你，是否有人知道插件或其他东西，我可以从不同的版本控制系统访问提交？做这样的事情最简单的方法是什么？

我还有一些其他的东西，我要测量......我的目标是在 Eclipse 插件中聚合数据，然后将其发送到服务器以进行可视化。

我不一定在寻找完全实施的解决方案，而是更多地寻找提示、教程、技巧、您的意见，可能还有问题和提议！

谢谢你！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T14:43:01.750

您可以尝试使用 Eclipse 的 rabbit 插件来跟踪花费的时间。它有不同的跟踪器来记录关于执行的不同命令的统计信息、使用的透视或视图的持续时间、在编辑器上花费的时间等。这个插件有一个视图来查看收集的所有统计信息。看看下面的链接：

[http://code.google.com/p/rabbit-eclipse/](http://code.google.com/p/rabbit-eclipse/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:34:59.497

您想要的一些指标是由 Hudson/Jenkins 插件生成的，作为起点，您可以查看这些插件如何生成这些指标。同样适用于 Eclipse 指标找到现有的插件来操作或使用您想要的一些指标并将其用作起点 - 因为它们中的大多数都是开源的。

# ruby - 使用图像魔术将矩形添加到图像

> ID：11466776
> 
> 赞同：1
> 
> 时间：2012-07-13T08:25:19.580
> 
> 标签：ruby, imagemagick

再会。如何使用 Imagemagic 在下图中的 logo.jpg 上施加 white_rectangle.jpg。
还有一个额外的问题：Ruby 的方法可以完成这项任务。

```
def (path_to_image)
# impose white_rectangle.jpg on logo
end 
```

![移除徽标](../Images/9c0aff127d1622ff78983caac949136b.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T10:05:54.917

这可以使用[RMagick](http://rmagick.rubyforge.org/)轻松完成：

```
require 'RMagick'

logo = Magick::Image.read("logo.jpg").first
rect = Magick::Image.read("white_rectangle.jpg").first
result = logo.composite(rect, x, y, Magick::CopyCompositeOp)
result.write "result.jpg" 
```

另一种方法是只绘制一个白色矩形而不使用合成图像：

```
image = Magick::Image.read("logo.jpg").first
gc = Magick::Draw.new
gc.stroke = 'white'
gc.fill = 'white'
gc.rectangle x_start, y_start, x_end, y_end
gc.draw(image)
image.write "result.jpg" 
```

使用 ImageMagick 命令行工具，您可以像这样将一张图像与另一张图像叠加：

```
$ composite white_rectangle.jpg logo.jpg -geometry +x+y result.jpg 
```

# iphone - 将 UILabel 的选定部分设为粗体

> ID：11466777
> 
> 赞同：0
> 
> 时间：2012-07-13T08:25:27.690
> 
> 标签：iphone, uilabel

我有两个 UILabel，两者都有动态文本但相互关联。例如：

```
label1.text=@"Abc";
label2.text=@"Meaning of Abc is ......"; 
```

现在 label2 总是有 label1.text 加上一些额外的文本。

我想将 label2 中的这一部分设为粗体。

到目前为止，我发现可以通过在 drawRect 中绘制文本来完成，但这似乎非常复杂。

有没有其他出路可能？？

谢谢

本

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:28:00.980

iOS 6 将支持此类事物的属性标签。在此之前或者如果 iOS 5=< 兼容性对您很重要，您可以将标签设置为 a`UIWebView`并使用 HTML 标记。或者用 drawRect 来做这件事（效果会更好）。

编辑：有添加属性标签的第三方库，[Nimbus](http://docs.nimbuskit.info/interface_n_i_attributed_label.html)就是其中一个运行良好的库。

# knockout.js - 没有找到 knockout.js-ko

> ID：11466779
> 
> 赞同：1
> 
> 时间：2012-07-13T08:25:31.053
> 
> 标签：knockout.js

这是我的 js 文件：

```
function AppViewModel() 
{
    this.firstName = ko.observable("Bert");
    this.lastName = ko.observable("Bertington");
}
ko.applyBindings(AppViewModel()); 
```

这是我的 html 文件：

```
<html>
<head>
    <script type='text/javascript' src='ko.js'></script>
    <script type='text/javascript' src='knockout-2.1.0.debug.js'></script>

</head>
<body>
    <p>First name: <strong data-bind="text: firstName"></strong></p>
    <p>Last name: <strong data-bind="text: lastName"></strong></p>

    <p>First name: <input data-bind="value: firstName" /></p>
    <p>Last name: <input data-bind="value: lastName" /></p>
</body>
</html> 
```

**未捕获的 ReferenceError: ko is not defined**。

有人可以帮我弄这个吗 ？

提前致谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-13T08:29:12.480

尝试颠倒您的 JavaScript 文件的顺序 -

```
<script type='text/javascript' src='knockout-2.1.0.debug.js'></script>
<script type='text/javascript' src='ko.js'></script> 
```

我怀疑该文件在主“敲除”js文件中定义之前`ko.js`试图访问该对象。`ko`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-01T12:36:05.057

对我来说，解决方案是将我的 ko 脚本按上述顺序排列，并在使用 JQuery（或等效）文档就绪功能加载文档后执行任何 ko.xyz 代码。例如

```
 $(document).ready(function(){
            var model = new ReviewersViewModel();
            ko.applyBindings(model);

            $('.datetimepicker_mask').datetimepicker({
                mask: '9999/19/39 29:59'
            });

            ko.bindingHandlers.datetimepicker = {
                init: function (element, valueAccessor, allBindingsAccessor) {
                    //initialize datepicker with some optional options
                    var options = allBindingsAccessor().datetimepickerOptions || {};
                    $(element).datetimepicker(options);

                    //handle the field changing
                    ko.utils.registerEventHandler(element, "change", function () {
                        var observable = valueAccessor();
                        try {
                            observable($(element).datetimepicker("getDate"));//****
                        }
                        catch (ex) { }
                    });

                    //handle disposal (if KO removes by the template binding)
                    ko.utils.domNodeDisposal.addDisposeCallback(element, function () {
                        $(element).datetimepicker("destroy");
                    });

                },
                update: function (element, valueAccessor) {
                    var value = ko.utils.unwrapObservable(valueAccessor()),
                        current = $(element).datetimepicker("getDate");

                    if (value - current !== 0) {
                        $(element).datetimepicker("setDate", value);
                    }
                }
            };
        }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-18T11:54:58.297

定义脚本，它是 Knockout js 库，它包含淘汰预定义的方法。

# django-haystack - django haystack 自定义表单

> ID：11466792
> 
> 赞同：6
> 
> 时间：2012-07-13T08:26:20.623
> 
> 标签：django-haystack

我正在尝试使用 django haystack 制作自定义搜索表单，我只是从 haystack 的文档中修改：

表格.py

```
from django import forms
from haystack.forms import SearchForm

class DateRangeSearchForm(SearchForm):
    start_date = forms.DateField(required=False)
    end_date = forms.DateField(required=False)

   def search(self):
        # First, store the SearchQuerySet received from other processing.
        sqs = super(DateRangeSearchForm, self).search()

        # Check to see if a start_date was chosen.
        if self.cleaned_data['start_date']:
            sqs = sqs.filter(pub_date__gte=self.cleaned_data['start_date'])

        # Check to see if an end_date was chosen.
        if self.cleaned_data['end_date']:
            sqs = sqs.filter(pub_date__lte=self.cleaned_data['end_date'])

        return sqs 
```

到 ：

```
from django import forms
from haystack.forms import HighlightedModelSearchForm

class CustomSearchForm(HighlightedModelSearchForm):
    title   = forms.CharField(max_length = 100, required = False)
    content = forms.CharField(max_length = 100, required = False)
    date_added = forms.DateField(required = False)
    post_by = forms.CharField(max_length = 100, required = False)

    def search(self):
        sqs = super(CustomSearchForm, self).search()
        if self.cleaned_data['post_by']:
            sqs = sqs.filter(content = self.cleaned_data['post_by'])
        if self.cleaned_data['title']:
            sqs = sqs.filter(content = self.cleaned_data['title'])
        if self.cleaned_data['content']:
            sqs = sqs.filter(content = self.cleaned_data['content'])
        if self.cleaned_data['date_added']:
            sqs = sqs.filter(content = self.cleaned_data['date_added']) 
        return sqs 
```

干草堆.urls：

```
urlpatterns = patterns('haystack.views',
    url(r'^$', search_view_factory(view_class = SearchView, form_class = CustomSearchForm), name='haystack_search'),
) 
```

当我转到 url 时，它显示：AttributeError at /search/

“CustomSearchForm”对象没有属性“cleaned_data”

你们能帮帮我吗？谢谢

然后我尝试评论搜索方法，但是当我向自定义字段提交一个单词时，结果总是什么都没有，只有当我向非自定义字段提交一个单词时它才能给我想要的结果，已经尝试理解这一点一整天，请帮忙

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-26T23:02:31.473

我知道这是一个有点老的问题，但是为了帮助其他可能正在查看这个并想知道同样事情的人，这就是我在相同情况下如何工作的方式。

这些方面的东西：

```
...
def search(self)
    sqs=super(MyFooSearchForm, self).search()

    if self.is_valid() and self.cleaned_data['foo']:
        sqs = sqs.filter(foostuff__exact=self.cleaned_data['foo'])

    return sqs 
```

基本上，我在 self.cleaned_data[''] 之前添加了 'self.is_valid and' 这为我消除了错误。希望这可以帮助。

所以，

```
def search(self):
    sqs = super(CustomSearchForm, self).search()
    if self.cleaned_data['post_by']:
        sqs = sqs.filter(content = self.cleaned_data['post_by'])
    if self.cleaned_data['title']:
        sqs = sqs.filter(content = self.cleaned_data['title'])
    if self.cleaned_data['content']:
        sqs = sqs.filter(content = self.cleaned_data['content'])
    if self.cleaned_data['date_added']:
        sqs = sqs.filter(content = self.cleaned_data['date_added']) 
    return sqs 
```

会成为：

```
def search(self):
    sqs = super(CustomSearchForm, self).search()
    if self.is_valid() and self.cleaned_data['post_by']:
        sqs = sqs.filter(content = self.cleaned_data['post_by'])
    if self.is_valid() and self.cleaned_data['title']:
        sqs = sqs.filter(content = self.cleaned_data['title'])
    if self.is_valid() and self.cleaned_data['content']:
        sqs = sqs.filter(content = self.cleaned_data['content'])
    if self.is_valid() and self.cleaned_data['date_added']:
        sqs = sqs.filter(content = self.cleaned_data['date_added']) 
    return sqs 
```

可能有更好的方法来做到这一点，我是 django/python 的相对初学者，但它对我有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-09-27T19:34:53.447

问题是首先调用了 form.is_valid() 。在调用 isvalid() 方法之前，数据不会处于清理状态。因此，在验证所有字段时，它会将所有字段一一放入其cleaned_data 属性中，如果它们根据表单定义是有效的。如果任何字段使is_valid() 为false，那么clean_data 也存在并包含之前验证过的那些数据。

# javascript - 在 YUI 3 上模拟触摸事件

> ID：11466796
> 
> 赞同：1
> 
> 时间：2012-07-13T08:26:36.067
> 
> 标签：javascript, touch, yui, yui3

我想在与 YUI 3 的链接上模拟/触发触摸事件（touchstart 或 touchend）。

函数 .simulate 不处理“触摸事件”，而只处理 click/dblclick 等....

当我在官方文档中搜索时，事件部分没有任何内容。

有没有办法做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T09:33:58.943

我不确定您是否可以在非触摸设备上使用 touchstart 或 touch{move,end}。也许您想尝试触发“gesturemovestart”，这应该是跨设备的。Y.one.('#yourLink').fire('gesturemovestart') 见[http://yuilibrary.com/yui/docs/event/touch.html#move](http://yuilibrary.com/yui/docs/event/touch.html#move)

单击链接时，我会触发“gesturemovestart”：http: [//jsfiddle.net/DrMw8/](http://jsfiddle.net/DrMw8/)

最好的问候，卢多

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-14T14:25:31.257

不，尚不支持模拟触摸事件。它记录在这里：http: [//yuilibrary.com/yui/docs/event/simulate.html#no-touch-events-yet](http://yuilibrary.com/yui/docs/event/simulate.html#no-touch-events-yet)

# android - 如何在不扩展 Activity 的类中显示 Toast 消息

> ID：11466799
> 
> 赞同：13
> 
> 时间：2012-07-13T08:26:46.667
> 
> 标签：android, android-activity, toast

> **可能重复：**
> [我如何从非活动课程中祝酒？](https://stackoverflow.com/questions/5543769/how-do-i-make-a-toast-from-a-non-activity-class)

如何`Toast`从不扩展`Activity`类的类中创建和显示消息？我在另一个由`Activity`.

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-07-13T08:33:26.547

您需要上下文参考。只要有一个辅助方法，比如

```
 public static void showToastMethod(Context context) {
        Toast.makeText(context, "mymessage ", Toast.LENGTH_SHORT).show();
  } 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-13T08:36:54.013

---------------------- 新的模块化版本 ------------------------

创建接口

```
 public interface ShowToast {
      public onShowToast (String message); [additionally you can pass toast duration]
} 
```

在Activity类中，实现该接口并编写Toast方法来显示消息。

```
public class ActivityClass extends Activity implements ShowToast{

  public giveCallToNonActivityClass(){
     new NonActivityClass(this); //Here we're passing interface impl reference.
  }

  public onShowToast (String message) {
        Toast.makeText(ActivityClass.this, message, Toast.LENGTH_SHORT).show();
  }
} 
```

示例 NonActivityClass 将如下所示：

```
public class NonActivityClass {

  public NonActivityClass (ShowToast interfaceImpl) {
       interfaceImpl.onShowToast("I'm calling Toast from Non Activity ");
  }
} 
```

早期版本太旧，无法参考。希望这种更模块化的方法有所帮助。

-------------------------------- 旧版本 2012 --------------- -------------

您可以通过将值传递给 nonActivity 类将该活动的上下文传递给您的类

例子：

```
new NonActivityClass(Activityclass.this) ; 
```

和上面的答案一样

```
new MyClass(ActivityClass.this); 
```

在非活动类中

```
public class NonActivityClass {

  public NonActivityClass (Context context) {

        Toast.makeText(context, "mymessage ", Toast.LENGTH_SHORT).show();
  }

} 
```

希望这对你有用...

# php - 我究竟做错了什么？尝试存储设备令牌

> ID：11466801
> 
> 赞同：0
> 
> 时间：2012-07-13T08:26:51.997
> 
> 标签：php, iphone, ios, database, devicetoken

好的，我已经尝试解决这个问题大约三周了，我认为我不需要再剃光头了！！！我已尽可能多地解构代码，因此我可以专注于将设备令牌获取到我的数据库中。当我运行代码时，我在我的数据库中得到一个时间戳记录，就是这样，所以我知道它是连接的，但那里什么也没有。

这是我的代码

```
- (void)application:(UIApplication*)application
didRegisterForRemoteNotificationsWithDeviceToken:(NSData*)deviceToken {

NSString *tokenStr = [deviceToken description];
NSString *pushToken = [[[[tokenStr 
                          stringByReplacingOccurrencesOfString:@"<" withString:@""] 
                         stringByReplacingOccurrencesOfString:@">" withString:@""] 
                        stringByReplacingOccurrencesOfString:@" " withString:@""] retain];
// Save the token to server

NSString *urlStr = [NSString stringWithFormat:ServerApiURL];
NSURL *url = [NSURL URLWithString:urlStr];
NSMutableURLRequest *req = [NSMutableURLRequest requestWithURL:url];

[req setHTTPMethod:@"POST"];
[req setValue:@"application/x-www-form-urlencoded charset=utf-8" forHTTPHeaderField:@"Content-Type"];

NSMutableData *postBody = [NSMutableData data];

[postBody appendData:[[NSString stringWithFormat:@"&token=%@", 
                       pushToken] dataUsingEncoding:NSUTF8StringEncoding]];

[req setHTTPBody:postBody];
[[NSURLConnection alloc] initWithRequest:req delegate:nil];
NSLog(@"%@", pushToken);
NSLog(@"%@", url); 
```

}

这是非常简单的PHP

```
// initialize connection to database
$db = mysql_connect('localhost', 'xxxxxxxxx', 'xxxxxxxx');
$db_name = "xxxxxxxxxxxx";
mysql_select_db($db_name, $db);

// store incoming data as php variables
error_log(print_r($_POST, true));
$token = $_POST['token'];

// create mysql query

mysql_query("INSERT INTO iPhone (device_token)
VALUES ('$token')");
mysql_query($query);

mysql_close($db);
?> 
```

我在数据库中得到的是时间戳，但在 device_token 下没有任何内容。我将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:49:17.623

是否`NSLog(@"%@", pushToken);`有您要提交的有效令牌？

此外，您可以尝试在 PHP 页面上转储 $_POST 以查看它收到的内容。

另一方面，在将 PHP 页面上的输入插入数据库之前，请务必使用`mysqlrealescapestring();`或考虑使用 PDO，因为现在不鼓励使用旧的 mysql 函数。PDO 还会自动清理输入。

以下是有关 PDO 的更多信息：

[http://us2.php.net/manual/en/ref.pdo-mysql.php](http://us2.php.net/manual/en/ref.pdo-mysql.php)

[http://us2.php.net/manual/en/pdo.query.php](http://us2.php.net/manual/en/pdo.query.php)

**编辑：**

这可能是问题的原因。代替

`NSMutableData *postBody = [NSMutableData data]; [postBody appendData:[[NSString stringWithFormat:@"&token=%@", pushToken] dataUsingEncoding:NSUTF8StringEncoding]];`

和

`NSData *postBody = [[NSString stringWithFormat:@"&token=%@", pushToken] dataUsingEncoding:NSUTF8StringEncoding];`

唯一的区别是 NSData 而不是 NSMutableData 以及更直接的设置方式。我不确定这是否是问题的原因，但尝试一下也无妨。

# algorithm - 凸包分拣步骤

> ID：11466802
> 
> 赞同：2
> 
> 时间：2012-07-13T08:27:02.277
> 
> 标签：algorithm, computational-geometry, convex-hull

我正在阅读格雷厄姆扫描算法以从 CLRS 中找到凸包。CLRS 中针对 Convex hull 给出的算法是::

![在此处输入图像描述](../Images/971c8eec1d23fe560f529a3f0582be5b.png)

我无法理解这一行（算法的第 2 步）：

> 如果两个或多个点相对于 p0 具有相同的极角，那么除了最远的点之外，其他所有点都是 p0 和最远点的凸组合，因此我们完全不考虑它们。

1.  这是什么意思？如果多个点相对于 Po 有相同的极角怎么办？

也可以说，我做了一个结构

```
struct points
{
    int x, y;
} P[10000]; 
```

2.  我应该如何使用 C++ STL 库实现排序步骤？我的意思是，我应该如何定义*比较器*功能`sort(P+1, P+N, comparator)`？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:45:03.787

> 这是什么意思，如果多个点相对于 Po 具有相同的极角，我该怎么办？

假设 P [0]是`(0,0)`， P [1]是`(1,1)`并且 P [2]是`(2,2)`。现在 P [1]和 P [2相对于 P] [0]具有相同的角度，在这种情况下您丢弃 P [1]。[如果 P 0]和 P [2]之间有更多具有相同角度的点，则丢弃除 P [2之外的]*所有*点（当然还有 P [0]）。

> 我应该如何使用 C++ STL（算法中的排序函数）库实现排序步骤？特别是我的意思是排序（P+1，P+N，比较器）。我应该如何定义比较器功能？

不太熟悉 C++ (STL)，但请检查它是否具有`atan2`您可以使用的功能。另请参阅：[找到两点之间的角度，相对于水平轴？](https://stackoverflow.com/questions/7829010/find-angle-between-two-points-respective-to-horizontal-axis)以及[如何计算一条线与水平轴之间的角度？](https://stackoverflow.com/questions/7586063/how-to-calculate-the-angle-between-two-points-relative-to-the-horizontal-axis)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-08-06T09:09:40.443

这是我在 C++ 中对凸包的 gharam 扫描算法的实现

```
struct vert
{
    int x,y;
    float rad;
    int idx;
};    
bool operator<(const vert &a,const vert &b)//this is the function u are looking for
{
    if(a.rad<b.rad)
        return true;
    if(a.rad==b.rad)
    {
        if(a.y>b.y)
            return true;
        else if(a.y==b.y&&a.x>b.x)
            return true;
        else
            return false;
    }
    return false;
}    
vert operator-(vert x,vert y)
{
    vert tmp;
    tmp.x=x.x-y.x;
    tmp.y=x.y-y.y;
    return tmp;
}
double dist(vert a,vert b)
{
    vert ab=b-a;
    return sqrt(ab.x*ab.x+ab.y*ab.y);
}
int cross(vert a,vert b,vert c)
{
    vert ab,bc;
    ab=b-a;
    bc=c-b;
    return ab.x*bc.y-ab.y*bc.x;
}
int main()
{
    int t,i,j,k,n;
    //("example.txt","r",stdin);
    scanf("%d",&t);
    vert a[100009],point[100009];
    int kx,ky;
    while(t--)
    {
        scanf("%d",&n);
        for(i=0;i<n;i++)
        {
            scanf("%d%d",&a[i].x,&a[i].y);
            a[i].idx=i+1;
        }
        vert d;
        d=a[0];
        for(i=1;i<n;i++)
        {
            if(a[i].y<d.y)
                d=a[i];
            else if(a[i].y==d.y&&a[i].x<d.x)
                d=a[i];
        }
        vector<vert> v;
        for(i=0;i<n;i++)
        {
            kx=a[i].x-d.x;
            ky=a[i].y-d.y;
            if(kx==0&&ky==0)
                continue;
            a[i].rad=atan2(kx,ky)*-1.00;
            v.push_back(a[i]);
        }
        sort(v.begin(),v.end());
        float rad=-10000;
        j=0;
        for(i=0;i<v.size();i++)
        {
            if(v[i].rad!=rad)
            {
                a[j++]=v[i];
                rad=v[i].rad;
            }
        }
        k=0;
        point[k++]=d;
        for(i=0;i<j;i++)
        {
            if(k<=1)
                point[k++]=a[i];
            if(cross(point[k-2],point[k-1],a[i])>0)
            {
                point[k++]=a[i];
            }
            else
            {
                do
                {
                    k--;
                    if(cross(point[k-2],point[k-1],a[i])>0)
                        break;
                }while(k>1);
                point[k++]=a[i];
            }
        }
        double dis=0;
        for(i=1;i<k;i++)
            dis+=dist(point[i],point[i-1]);
        dis+=dist(point[0],point[k-1]);
        printf("%0.2f\n",dis);
        for(i=0;i<k;i++)
            printf("%d ",point[i].idx);
        cout<<endl<<endl;;
    }
    return 0;
} 
```

您可以使用比较器功能，也可以像我在这里所做的那样使 operator< 重载。这将类似地工作，但现在您不必将任何比较器函数作为 sort() 函数中的第三个参数传递

我希望这有帮助

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-06-11T16:24:37.933

> (B)我应该如何使用 C++ STL（算法中的排序函数）库实现排序步骤？特别是我的意思是排序（P+1，P+N，比较器）。我应该如何定义比较器功能？

我建议你避免凌乱的浮点运算。正如同一本书的练习 33.1-3 所指出的，您可以使用叉积简单地按极角排序。这是如何做到的：

```
struct Point {int x,y;}

int operator^(Point p1, Point p2) {return p1.x*p2.y - p1.y*p2.x;}

Point p0; //set this separately

bool operator<(Point p1, Point p2) 
{
    p1=p1-p0; p2=p2-p0; 
    if(p1.y==0&&p1.x>0) return true; //angle of p1 is 0, thus p2>p1
    if(p2.y==0&&p2.x>0) return false; //angle of p2 is 0 , thus p1>p2
    if(p1.y>0&&p2.y<0) return true; //p1 is between 0 and 180, p2 between 180 and 360
    if(p1.y<0&&p2.y>0) return false;
    return (p1^p2)>0; //return true if p1 is clockwise from p2
} 
```

> (A)这是什么意思，如果多个点相对于Po有相同的极角，我该怎么办？

如果 p0、pi 和 pj 共线，只有离 p0 最远的那个可能是凸包的一部分。因此，我们应该删除其他点。我们可以在 C++ 中做到这一点。首先定义点积，

```
int operator*(Point p1, Point p2) {return p1.x*p2.x + p1.y*p2.y;} 
```

并将这一行添加到比较器：

```
if((p1^p2)==0&&p1*p2>0) return p1*p1<p2*p2; 
```

现在在相同角度的情况下，点将按与 p0 的距离排序。现在我们可以使用`unique`STL 中的函数根据需要从以下位置删除点`vector<Point> P`：

```
sort(P.begin(),P.end());
P.erase(unique(P.begin(),P.end(),eq),P.end()); 
```

在这里，`eq`如果点的角度相同，则函数返回 true。

```
bool eq(Point p1, Point p2) 
{
    p1=p1-p0; p2=p2-p0;
    return ((p1^p2)==0&&p1*p2>0); 
} 
```

# c++ - gmp 兼容替代 gsl

> ID：11466813
> 
> 赞同：2
> 
> 时间：2012-07-13T08:27:49.997
> 
> 标签：c++, gmp, gsl

到目前为止，我已经使用 GSL 例程来计算特征值/向量并在 C++ 中求解常微分方程 (ODE)。

现在我必须使用 GNU 多精度库 (GMP)，但 GSL 不支持 double 以外的其他数据类型。

有谁知道计算特征值和求解与 GMP 数据类型（mpf_class）兼容的 ODE 的好方法？

目前我正在考虑使用数字食谱中提供的例程。有谁知道这对我的任务是否是个好主意？

最好的问候多米尼克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-05-21T01:35:15.920

虽然显然不是您希望的答案，但我认为您可以努力修改 GSL 库以使其与 GMP 库兼容。两者都是开源的，所以至少对于许可证来说没有问题，顺便说一句，我想很多人会非常感激。由于问题仅在于数据的类型，因此将GSL库的所有代码扫一遍并逐个替换例程就足够了。这不会是一个快速的工作，但它会是一个简单的工作。

# batch-file - 编程设置/p输入

> ID：11466816
> 
> 赞同：1
> 
> 时间：2012-07-13T08:28:03.517
> 
> 标签：batch-file

我有两个脚本。第一个脚本要求用户提供一些输入并调用另一个脚本，将输入作为参数提供给它。第二个脚本再次要求用户提供相同的输入。

*第一个.bat*

```
set /p input=Insert your input:
call second.bat %input% 
```

*第二个.bat*

```
if %1 == "Y" input=%1 & goto skipInput
set /p input=Insert the same input:

:skipInput
echo Skipped user input 
```

是否可以在不按下相同输入值的情况下使用第一个输入值设置第二个用户输入？问题是`set /p`second.bat不能像上面的例子那样被跳过*。*

**更新的解决方案：**

*第一个.bat*

```
set /p input=Insert your input:
echo %input% | (cd path/to/file & second.bat)
echo %input% | (cd path/to/file & second.bat)
pause >nul 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:33:26.213

我不是 100% 确定你想要做什么，但也许这个

*第一个.bat*

```
set /p input=Insert your input:
call second.bat %input% 
```

*二.bat*

```
if %1=="Y" set input=%1 
```

这会将`input`第二个脚本中的变量设置为`input`第一个脚本中的值。

***更新***

如果您只能访问调用其他批次的初始批次，那么试试这个

```
@echo off
set /p input=Insert your input:
echo %input%| second.bat
pause >nul 
```

运行后，我设法在第二批中获得了提示，该提示仅`set /p`使用管道重定向填充了行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-04-02T20:38:45.800

```
:first.bat
cls
set /p input=Enter input.
if "%input%" equ "" goto first.bat
call seccond.bat %input% 
```

这里发生的情况是，如果用户的输入等于“NUL”，则返回开始。

```
:seccond.bat
cls
set input=%*
if /i "%input%" equ "Y" do command 
```

将您的代码放在下面的 SECCOND.bat

# c# - 您能否拥有一个仅由公共接口在内部使用的内部接口

> ID：11466817
> 
> 赞同：1
> 
> 时间：2012-07-13T08:28:07.190
> 
> 标签：c#, inheritance, interface, accessor

我想做一些类似的事情：

```
internal interface IInternalStore
{
    object GetValue(object key);
}

public interface IStore<in TKey, TValue>
    : IInternalStore
{
    TValue GetValue(TKey key);
}

public interface IStore
    : IInternalStore
{
    TValue GetValue<in TKey, TValue>(TKey key);
} 
```

我想这样做的原因是我可以检查该类是否为 IInternalStore 而不必检查各个接口类型。

IE。

```
// Defined by the implementing developer
public class MyStoreA
    : IStore<int, int>
{
    int GetValue(int key);
}

public class MyStoreB<TKey, TValue>
    : IStore
{
    TValue GetValue(TKey key);
}

// Internal method used by me
void GetValueFromStore(object store)
{
    if (store is IInternalStore)
    {
       {do something}
    }
} 
```

但据我所知，我想做的事情是不可能的，因为 IInternalStore 必须与继承的接口具有相同的访问器，并且它需要开发人员实现所有继承的方法。

我错了吗？有没有办法做我想做的事？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:36:17.373

> 我错了吗？有没有办法做我想做的事？

不，你是对的——公共接口不能扩展内部接口。

我建议你把这两个接口分开。如果需要，您始终可以拥有一个扩展两者的*内部接口，或者只是让相关类实现这两个类。*

# javascript - 网站中的静态内容

> ID：11466818
> 
> 赞同：2
> 
> 时间：2012-07-13T08:28:25.740
> 
> 标签：javascript, html, css, ajax

我有一个网站，我想让它的一部分成为静态的。发生的情况是每个页面的页眉、菜单栏和页脚都是一致的。我想让它们总是被加载，当我点击菜单按钮时，它只会重新加载网站的主体。

是否有一个简单的代码块可以尽早实现这一目标？js或ajax中的东西？很抱歉，我在这些语言方面没有足够的经验来独自完成一些事情。我已经尝试检查 jQuery 库，但它仍然让我很困惑。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:50:54.970

只需在每个页面中添加一个带有标题、菜单栏和页脚 ID 的 div 容器，然后使用以下内容加载它：

```
$(document).ready(function(){ 
    $('#header').load('header.html');
    $('#menubar').load('menubar.html');
    $('#footer').load('footer.html');
}); 
```

只需确保 html 文件中没有 html、head 或 body 标签，只有您将在 div 中编写的 HTML 代码。就像 PHP 中的 include 函数一样。

**编辑：**

为了简单和简单的实现，将上面的代码存储在 .js 文件中（例如 include.js），并将其添加到每个头中，就在 html 文件的所有其他脚本的包含下方：

```
<script type="text/javascript" src="include.js"></script> 
```

**编辑2：**

另一种解决方案是加载页面内容而不是页眉、菜单栏、页脚。在这里，您采用相同的规范（内容 html 文件中没有 html、body 等标签）

命名您的内容 div 例如`<div id="content"></div>`

例如，您的导航栏：

```
<div id="navbar">
    <a href="content1.html">Content1</a>
    <a href="content2.html">Content2</a>
</div> 
```

JavaScript 代码：

```
$(document).ready(function() {
    //Click on a link that's child of the navbar
    $('#navbar > a').click(function() {
        //Get the html file (e.g. content1.html)
        var file = $(this).attr('href');
        //Load this file into the #content
        $('#content').load(file);
        return false;
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T09:02:36.800

我认为你甚至不需要 Ajax 或 css ！只需使用 iFrame！他们太棒了，发生的事情是你只设计一个页面作为静态内容的持有者（Header-Menu ...）并将一个 iFrame 放在那里作为你想要加载的任何页面的占位符，你应该使用适当的 css 代码将 iFrame 放置在您想要的位置，现在，对于菜单中的每个链接，只需将“target”属性设置为等于您的 iFrame 的名称，所有链接都将加载到该 iFrame 中，您的页面将不会每次点击链接都会重新加载...我会回来提供一些代码...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T17:18:45.153

您应该考虑使用包含的服务器端：[http ://httpd.apache.org/docs/current/howto/ssi.html](http://httpd.apache.org/docs/current/howto/ssi.html)

这不是很容易理解（因为它指的是 apache 配置），但这是一个非常好的解决方案。

简而言之，您在主页中包含部分 html 代码：

```
 <!--#include virtual="/footer.html" --> 
```

您不必使用或理解所有 JQuery Framewol，用户代理不必解析（如果他们能够！）Javascript。

对于这种目的，这是 PHP / ASP / Java 的一个很好的替代品。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-07-13T08:35:42.923

如果您对 Jquery 有所了解，则使用菜单链接上的单击事件将页面加载到 div 中，如下语法可能对您有所帮助。

```
$(document).ready(function(){
   $("a.menu").click(function(){
      $("#bodyContent").load("http://abc.com/your-linked-page.html");
   });
}); 
```

要动态加载 url，请使用以下代码：在您的菜单栏中，链接如下所示：

```
<a href="javascript:void(0);" title="Specify-Complete-URL">Home</a> 
```

在您的 Jquery 代码中：

```
$(document).ready(function(){
   $("a.menu").click(function(){
      url = $(this).attr("title"); // here url is just a variable
      $("#bodyContent").load(url);
   });
}); 
```

第 1 步：将 Jquery 文件添加到您的 html 页面中。

第 2 步：使用上面的 jquery 代码并将您的菜单链接更改为我在此处所说的新内容。

第3步：如果你做得对，它会为你工作。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-07-13T08:31:57.767

您可以使用 ajax 来请求每个页面的正文。但这只是一种可能性——有很多。另一种方法是使用脚本语言（php、perl）服务器端创建页面内容，并在那里使用一个函数，为每个页面添加页脚、页眉和其他任何内容。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-07-13T08:56:24.760

传统的怎么样`iframe`？

在您的菜单中：

```
<a target="body" href="URL_to_your_Menu1_page">Menu1</a> 
```

然后在文档中进一步：

```
<iframe name="body" src="URL_to_homepage"></iframe> 
```

* * *

## 回答 #7

> 赞同：-2
> 
> 时间：2012-07-13T08:32:28.627

您可以使用框架集和框架并相应地组织您的页面。因此，包含菜单的框架可以始终处于显示状态，并且在单击菜单时显示内容时，您可以将目标设置为您希望加载内容的框架。

# javascript-events - jQuery 全局插件实例化

> ID：11466823
> 
> 赞同：0
> 
> 时间：2012-07-13T08:29:00.810
> 
> 标签：javascript-events, jquery

抱歉标题不好，但我有类似下面的代码

```
$('[data-value]').each(function() {
            var $this = $(this);
            $this.val($this.data('value'));
}); 
```

和

```
<select data-value="14:00">
    <option>12:00</option>
    <option>13:00</option>
    <option>14:00</option>
    <option>15:00</option>
</select> 
```

目标是轻松预先选择列表中的“数据值”。

代码运行良好，除非我在页面初始化后添加选择元素。

例如，这将不起作用

```
$('body').append('<select data-value=yellow><option>black</option><option>yellow</option><option>red</option></select>'); 
```

那么，即使在页面初始化后添加 DOM 元素，如何才能使其工作呢？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T09:09:01.693

好的，你可以使用类似的东西：

它检查新的选择元素，如果发现一些没有“处理”类的元素，它会处理它们。

```
function checkNewSelects() {
    $('select').not(".processed").each(function() {
        var $this = $(this);
        $this.val($this.data('value'));
        $this.addClass('processed');
    });
    setTimeout(checkNewSelects, 300);
}
setTimeout(checkNewSelects, 300); 
```

# jquery - 溢出：隐藏在FF中

> ID：11466824
> 
> 赞同：7
> 
> 时间：2012-07-13T08:29:03.320
> 
> 标签：jquery, html, css, firefox

我遇到了溢出问题：隐藏内容，但仅限于 FF。 ![在此处输入图像描述](../Images/9db82ddd4ae9d8cd6efc0e44b77d10a9.png)

我有两个 div（垂直箭头的每一侧，见上文）每个都有溢出：隐藏应用屏蔽它们各自的子 div。子元素正在通过 jQuery 旋转 onscroll 事件。无论出于何种原因，每个子元素中的背景图像都没有像它们的父 div 那样被屏蔽。

看到这种不一致； [http://www.pearman.com.au/](http://www.pearman.com.au/)

奇怪的是，在 Firebug 中检查任何父 CSS 属性时会出现子内容。

编辑：找到 CSS / HTML / JQuery

每次更新 onscroll 时都会运行此代码（很多）；

```
 scrollAnimations.push({ 'start': 0, 'end': 450,
                'callback': function(scrollTop,scrollDirection){ 
                    ran_one.css({
                        '-ms-transform': 'rotate('+ -(scrollTop)*0.4 +'deg)',
                        '-webkit-transform': 'rotate('+ -(scrollTop)*0.4 +'deg)',
                        '-moz-transform': 'rotate('+ -(scrollTop)*0.4 +'deg)',
                        '-o-transform': 'rotate('+ -(scrollTop)*0.4 +'deg)',
                        'transform': 'rotate('+ -(scrollTop)*0.4 +'deg)' })
                    }
                });
            scrollAnimations.push({ 'start': 0, 'end': 900,
                'callback': function(scrollTop,scrollDirection){
                    ran_two.css({
                        '-ms-transform': 'rotate('+ -(scrollTop)*0.4 +'deg)',
                        '-webkit-transform': 'rotate('+ -(scrollTop)*0.4 +'deg)',
                        '-moz-transform': 'rotate('+ -(scrollTop)*0.4 +'deg)',
                        '-o-transform': 'rotate('+ -(scrollTop)*0.4 +'deg)',
                        'transform': 'rotate('+ -(scrollTop)*0.4 +'deg)' })
                    }
                }); 
```

CSS ;

```
#rainbow-mask-right{
        width:421px;
        height:421px;
        display:block;
        position:absolute;
        bottom:0;
        left: 50%;
        overflow:hidden;
        }
    #rainbow-mask-left{
        width:421px;
        height:421px;
        display:block;
        position:absolute;
        bottom:0;
        left: 50%;
        overflow:hidden;
        margin-left: -420px;
        visibility:visible;
        }
    #ran-one{
        background:url(images/home/rainbow/ran-dash.gif) no-repeat;
        width:421px;
        height:421px;
        display:block;
        top: 421px;
        position: absolute;

        transform: rotate(50deg);
        -ms-transform: rotate(50deg); /* IE 9 */
        -webkit-transform: rotate(50deg); /* Safari and Chrome */
        -moz-transform: rotate(50deg); /* Firefox */
        -o-transform: rotate(50deg); /* Opera */
        }
    #ran-two{
        background:url(images/home/rainbow/ran-colour.gif) no-repeat transparent;
        width:421px;
        height:421px;
        display:block;
        top: 421px;
        position: absolute;
        left: 421px;
        }
   .set-origin {
    transform-origin:0 0;
    -ms-transform-origin:0 0; /* IE 9 */
    -webkit-transform-origin:0 0; /* Safari and Chrome */
    -moz-transform-origin:0 0; /* Firefox */
    -o-transform-origin:0 0; /* Opera */
    } 
```

和 HTML

```
<div id='rainbow-mask-right'><div id='ran-one' class="set-origin"></div></div>
<div id='rainbow-mask-left'> <div id='ran-two' class="set-origin"></div></div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T16:57:36.763

好吧，经过一段时间的调试，我很确定我找到了问题所在。

看起来 FireFox 不喜欢显示空容器。我在 13.1，但是在通过 FireBug 编辑你的 HTML 之后，这是最终结果：

![空间进入](../Images/6ba6fa9e3ce639df66dd5cd613903d40.png)

只需添加一个简单的

```
&nbsp; 
```

到彩虹，这应该是一场胜利。

很棒的网站！享受，

```
<div id="rainbow-mask-right"><div id="ran-one" class="set-origin">&nbsp;</div></div>
<div id="rainbow-mask-left"><div id="ran-two" class="set-origin">&nbsp;</div></div> 
```

# android - 如何在 SBT 中向 Jan Berkel 的 Android 插件添加更多类似的任务和设置？

> ID：11466836
> 
> 赞同：4
> 
> 时间：2012-07-13T08:29:46.237
> 
> 标签：android, scala, sbt, android-install-apk, sbt-android-plugin

我正在尝试为使用[SBT](https://github.com/harrah/xsbt "SBT")的[Scala扩展](http://www.scala-lang.org/ "斯卡拉")[Jan Berkel 的 Android 插件](https://github.com/jberkel/android-plugin "Jan Berkel 的 Android 插件")。

我有类似的操作和设置，比如已经定义`android:install-device`和`android:install-emulator`.
让它们被称为`android:dev-install-device`and `android:dev-install-emulator`。

我在以下位置添加了新密钥`AndroidKeys.scala`：

```
val devInstallDevice = TaskKey[Unit]("dev-install-device")
val devInstallEmulator = TaskKey[Unit]("dev-install-emulator")

val devStartDevice = TaskKey[Unit]("dev-start-device", "Start package on device after installation")
val devStartEmulator = TaskKey[Unit]("dev-start-emulator", "Start package on emulator after installation") 
```

我还在`AndroidLaunch.scala`：

```
lazy val settings: Seq[Setting[_]] =
    //AndroidInstall.settings ++
    AndroidFastInstall.settings ++
    inConfig(Android) (Seq (
        devStartDevice <<= startTask(false),
        devStartEmulator <<= startTask(true),
        //startDevice <<= startTask(false),
        //startEmulator <<= startTask(true),

        devStartDevice <<= devStartDevice dependsOn devInstallDevice,
        devStartEmulator <<= devStartEmulator dependsOn devInstallEmulator
        //startDevice <<= startDevice dependsOn installDevice,
        //startEmulator <<= startEmulator dependsOn installEmulator
    )) 
```

问题是，如果我希望自己的任务可用，我必须注释掉原来的标准任务，而我不想这样做。

有什么我忽略的吗？

* * *

更新：
我尝试了不同的设置顺序。

当`AndroidFastInstall`出现之前`AndroidInstall`，`AndroidInstall`无论我调用`android:install-device`还是执行`android:dev-install-device`。

```
 lazy val settings: Seq[Setting[_]] =
    AndroidFastInstall.settings ++
    inConfig(Android) (Seq (
      devStartDevice <<= devStartTask(false),
      devStartEmulator <<= devStartTask(true),

      devStartDevice <<= devStartDevice dependsOn devInstallDevice,
      devStartEmulator <<= devStartEmulator dependsOn devInstallEmulator
    ))++
    AndroidInstall.settings ++
    inConfig(Android) (Seq (
      startDevice <<= startTask(false),
      startEmulator <<= startTask(true),

      startDevice <<= startDevice dependsOn installDevice,
      startEmulator <<= startEmulator dependsOn installEmulator
    )) 
```

* * *

当`AndroidInstall`出现之前`AndroidFastInstall`，`AndroidFastInstall`无论我调用`android:install-device`还是执行`android:dev-install-device`。

```
 lazy val settings: Seq[Setting[_]] =
    AndroidInstall.settings ++
    inConfig(Android) (Seq (
      startDevice <<= startTask(false),
      startEmulator <<= startTask(true),

      startDevice <<= startDevice dependsOn installDevice,
      startEmulator <<= startEmulator dependsOn installEmulator
    )) ++
    AndroidFastInstall.settings ++
    inConfig(Android) (Seq (
      devStartDevice <<= devStartTask(false),
      devStartEmulator <<= devStartTask(true),

      devStartDevice <<= devStartDevice dependsOn devInstallDevice,
      devStartEmulator <<= devStartEmulator dependsOn devInstallEmulator
    )) 
```

似乎最后添加的总是覆盖它们之前的可见性。有谁知道这个问题的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-18T16:53:27.270

这个问题需要一些额外的信息。

这是完整的源代码：[https ://github.com/ioreskovic/android-plugin](https://github.com/ioreskovic/android-plugin)

显然，您已将`settings`from in复制[`AndroidInstall`](https://github.com/ioreskovic/android-plugin/blob/master/src/main/scala/AndroidInstall.scala#L184)到`devSettings`in [`AndroidFastInstall`](https://github.com/ioreskovic/android-plugin/blob/master/src/main/scala/AndroidFastInstall.scala#L392)。然后，您在 中添加了新的任务键`AndroidLaunch`。

您遇到的问题是，显然调用`dev-install-device`与`install-device`. 这并不是因为一个覆盖了另一个的可见性（它们都是可见的，只是它们做同样的事情）。问题是它们都依赖于同一组其他任务键，并且您更改了这些任务键两次 - 最后一次更改会影响之前的更改。

更具体地说，您的问题在这里：

```
lazy val settings: Seq[Setting[_]] =
  AndroidFastInstall.devSettings ++
  ...
  AndroidInstall.settings ++
  ... 
```

看看这些`settings`和`devSettings`序列里面有什么：

`AndroidFastInstall`：

```
lazy val devSettings: Seq[Setting[_]] = inConfig(Android) (devInstallerTasks ++ Seq (
  uninstallEmulator <<= devUninstallTask(emulator = true),
  uninstallDevice <<= devUninstallTask(emulator = false),
  ...
  >>>   proguard <<= proguardTask   <<< 
```

`AndroidInstall`：

```
lazy val settings: Seq[Setting[_]] = inConfig(Android) (installerTasks ++ Seq (
  uninstallEmulator <<= uninstallTask(emulator = true),
  uninstallDevice <<= uninstallTask(emulator = false),
  ...
  >>>   proguard <<= proguardTask   <<< 
```

在这里，您重新定义了一个名为`proguard`which`dev-install-device`和都`install-device`依赖的任务键。第`proguardTask`一种方法是 in `AndroidFastInstall`，第二种方法是 in ，`AndroidInstall`它们做不同的事情。由于您最后调用第二个，它重新定义了`proguard`任务的含义。

（我提请注意`proguard`两者`dev-install-device`和`install-device`传递依赖的任务键，但在 和 中还有其他此类任务键的示例`settings`。`devSettings`）

为了更好地理解这一点，您必须了解真正的设置和任务以及它们是如何工作的：

*   [https://github.com/harrah/xsbt/wiki/Getting-Started-Basic-Def](https://github.com/harrah/xsbt/wiki/Getting-Started-Basic-Def)

*   [https://github.com/harrah/xsbt/wiki/Getting-Started-More-About-Settings](https://github.com/harrah/xsbt/wiki/Getting-Started-More-About-Settings)

*   [https://github.com/harrah/xsbt/wiki/Getting-Started-Custom-Settings](https://github.com/harrah/xsbt/wiki/Getting-Started-Custom-Settings)

有关如何声明任务键的示例，请参阅“定义键”。

有关如何实现任务的示例，请参阅“实现任务”和“根据其他键的值计算值：<<=”。

它的要点是 - 任务键首先通过`:=`and声明和实现`<<=`。可能会`<<=`被多次调用——每次调用都会`<<=`重新实现任务键。

为了让您的问题消失，为您的任务创建单独`proguard`的密钥`dev`和常规版本。并对除`proguard`.

# symfony - 无需重新加载整个表单即可生成新的 CSRF 令牌

> ID：11466837
> 
> 赞同：21
> 
> 时间：2012-07-13T08:29:51.280
> 
> 标签：symfony

如果用户在使用我的 Symfony2 应用程序时在后台退出（由于会话到期或其他原因），我已经实现了一个 JS 层出现在屏幕上，允许用户立即重新登录并继续使用该网站。

问题是，如果用户正在填写表单并被注销，在使用 JS 层重新登录后，他仍在查看具有他已经设法输入的值的相同表单，但他的会话发生了变化。因此表单中的 CSRF 令牌无效。

有没有办法根据当前会话和特定表单生成新的 CSRF 令牌，通过 AJAX 抓取它并在表单中替换？或者也许还有其他解决方案？

我不想禁用 CSRF 保护。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-07-24T14:10:33.933

假设您使用默认的 CSRF Provider，在您的 AJAX 控制器中，您可以获得您的 CSRF Provider 服务并“要求”它重新生成令牌：

### Symfony 2.3（及之前）

```
/** @var \Symfony\Component\Form\Extension\Csrf\CsrfProvider\SessionCsrfProvider $csrf */
$csrf = $this->get('form.csrf_provider');
$token = $csrf->generateCsrfToken($intention); 

return new Response($token); 
```

* * *

### Symfony 2.4

```
/** @var \Symfony\Component\Security\Csrf\CsrfTokenManagerInterface $csrf */
$csrf = $this->get('security.csrf.token_manager');
$token = $csrf->refreshToken($intention);

return new Response($token); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2014-05-14T15:03:44.447

使用它来重新生成 CSRF 令牌（自 Symfony2.4 起）：

```
$csrf = $this->get('security.csrf.token_manager'); //Symfony\Component\Security\Csrf\CsrfTokenManagerInterface
$token = $csrf->refreshToken($intention); // Intention is specified in form type

return new Response($token); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-10-23T19:52:50.797

是的，机器人可以获取一个 csrf 令牌并将某些内容发布到表单中，但是由于令牌绑定到会话，所以没关系。CSRF 令牌并非旨在阻止机器人提交表单。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-13T08:36:04.780

对我来说，更简单的解决方案是在同一个表单上重定向用户，传递已经通过 POST 插入的数据。
这样，令牌将以自动方式再次生成。
此外，您不会丢失数据输入。

# zend-framework - Zend 如何使用自己的表字段值更新表值

> ID：11466839
> 
> 赞同：0
> 
> 时间：2012-07-13T08:30:07.593
> 
> 标签：zend-framework, zend-db-table

如何在 Zend DB 表上执行此操作？喜欢，

```
UPDATE location AS main
  SET main.parent_location = 28, 
  main.description = CONCAT(
          (SELECT sub.description FROM wms_location AS sub WHERE sub.id_location=28), 
           main.designation
      ) 
WHERE main.id_location in (11, 14); 
```

这甚至可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:38:24.083

```
$table->update(
    "parent_location" => new Zend_Db_Expr(
        "CONCAT(" . (string)$subSelect . ", designation)"
    ),
    "id_location IN(11, 14)"
); 
```

我不确定别名 - 它们是否可能以及是否需要它们。

# c# - 如何使用 System.Drawing.Image 对象刷按钮的背景？

> ID：11466842
> 
> 赞同：0
> 
> 时间：2012-07-13T08:30:20.543
> 
> 标签：c#, wpf, pixelsense

我在 Surface 编程中使用 C# 和 WPF，现在我有一个 Image 对象，但未能将其用作 Button 对象的背景...这是一些相关代码：

```
using System.Windows.Media.Imaging;
using System.Drawing;
using Microsoft.Surface;
using Microsoft.Surface.Presentation;
using Microsoft.Surface.Presentation.Controls;
using Microsoft.Surface.Presentation.Input;

Image image = Image.FromFile(someFile);
SurfaceButton button1 = new SurfaceButton(); 
```

现在该怎么做？我已成功使用 ImageBrush 显示图像，但这次我只想使用 Image 图像本身。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:41:25.240

```
var imgBrush = new ImageBrush();
imgBrush.ImageSource =
        new BitmapImage(new Uri(someFile, UriKind.Absolute));
surfaceButton.Background = imgBrush; 
```

如果您需要图像作为源，则需要转换器。看看这里 [将位图转换为图像源](https://stackoverflow.com/questions/1118496/using-image-control-in-wpf-to-display-system-drawing-bitmap/1118557#1118557)

# javascript - 如何用方位角和距离计算谷歌地图中的其他 2 个坐标

> ID：11466851
> 
> 赞同：0
> 
> 时间：2012-07-13T08:31:26.300
> 
> 标签：javascript, google-maps

我正在使用谷歌地图 v3 api，我只有坐标（latlng），即 22.75297222、75.86708333，我想在 240 度方位角方向创建 10 公里长的三角形

有没有公​​式或代码？？？

我想知道怎么做

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T12:19:57.643

查看[几何库的computeOffset()方法：](https://developers.google.com/maps/documentation/javascript/geometry)

> 给定特定的航向、起点位置和行驶距离（以米为单位），您可以使用 computeOffset() 计算目的地坐标。

# java - Java 可序列化保存

> ID：11466856
> 
> 赞同：1
> 
> 时间：2012-07-13T08:31:51.417
> 
> 标签：java, serializable

好吧，我为我正在制作的游戏准备了这门课，我正在尝试保存 ArrayList 笔记。当我注销时，它会正确打印大小，例如，如果我有 5 个笔记，当我注销时 notes.getSize() 将为 5，但当我登录时，它会重置为空。为什么不保存笔记？

```
public class Notes implements Serializable {

    private static final long serialVersionUID = -4947870743226160329L;
    private ArrayList<Note> notes = new ArrayList<Note>(30);

    public class Note implements Serializable {

        private static final long serialVersionUID = -4589885080580317958L;

        private int color = 0;
        private String text = "";

        public Note(int color, String text) {
            this.setColor(color);
            this.setText(text);
        }

        public void setText(String text) {
            this.text = text;
        }

        public String getText() {
            return text;
        }

        public void setColor(int color) {
            this.color = color;
        }

        public int getColor() {
            return color;
        }
    }

    private transient Player player;

    public Notes(Player p) {
        this.player = p;
    }

    public void addNote(String text) {
        System.out.println("Note Text: "+text);
        if (text.length() > 50) {
            player.getPackets().sendGameMessage("You can only enter notes up to 50 characters!");
            return;
        }
        if (notes.size() < 30) {
            notes.add(new Note(0, text));
        } else {
            player.getPackets().sendGameMessage("You cannot add more then 30 notes!");
            return;
        }
        int NoteId = notes.size() - 1;
        player.getPackets().sendConfig(1439, NoteId);
        player.getTemporaryAttributtes().put("selectedNote", NoteId);
        refreshNotes(false);
    }

    public void addNote(String text, int color) {
        notes.add(new Note(color, text));
    }

    public void loadNotes() {
        player.getPackets().sendIComponentSettings(34, 9, 0, 30, 2621470);
        player.getPackets().sendHideIComponent(34, 3, false);
        player.getPackets().sendHideIComponent(34, 44, false);
        player.getPackets().sendIComponentText(34, 13, "Loading notes<br>Please wait...");
        player.getPackets().sendConfig(1439, -1);
        refreshNotes(true);
    }

    public void refreshNotes(boolean sendStartConfigs) {
        for (int i = 0; i < 30; i++) {
            player.getPackets().sendGlobalString(149 + i, i < notes.size() ? notes.get(i).getText() : "");
        }
        if (sendStartConfigs) {
            for (int i = 1430; i < 1450; i++)
                player.getPackets().sendConfig(i, i);
        }
        player.getPackets().sendConfig(1440, getFirstTotalColorValue());
        player.getPackets().sendConfig(1441, getSecondTotalColorValue());
    }

    public int intColorValue(int color, int noteId) {
        return (int) (Math.pow(4, noteId) * color);
    }

    public int getFirstTotalColorValue() {
        int Color = 0;
        for (int i = 0; i < 15; i++) {
            if (notes.size() > i)
                Color += intColorValue(notes.get(i).getColor(), i);
        }
        return Color;
    }

    public int getSecondTotalColorValue() {
        int color = 0;
        for (int i = 0; i < 15; i++) {
            if (notes.size() > (i + 16))
                color += intColorValue(notes.get(i + 16).getColor(), i);
        }
        return color;
    }

    public void deleteSelectedNote() {
        if ((int)player.getTemporaryAttributtes().get("selectedNote") > -1) {
            int slot = (int) player.getTemporaryAttributtes().get("selectedNote");
            notes.remove(slot);
            player.getTemporaryAttributtes().put("selectedNote", -1);
            player.getPackets().sendConfig(1439, -1);
            refreshNotes(false);
        }
    }

    public void clear() {
        notes.clear();
        refreshNotes(false);
    }

    public void editNote(String string, int index) {
        notes.get(index).setText(string);
        refreshNotes(false);
    }

    public void setColor(int color, int index) {
        notes.get(index).setColor(color);
        refreshNotes(false);
    }

    public void deleteNote(int slot) {
        notes.remove(slot);
        refreshNotes(false);
    }

    public void setNotes(ArrayList<Note> setNotes) {
        notes = setNotes;
        refreshNotes(false);
    }

} 
```

这是我管理保存/加载的类

公共类 SerializableFilesManager {

```
private static final String PATH = "data/characters/";
private static final String BACKUP_PATH = "data/charactersBackup/";

public synchronized static final boolean containsPlayer(String username) {
    return new File(PATH + username + ".p").exists();
}

public synchronized static Player loadPlayer(String username) {
    try {
        return (Player) loadSerializedFile(new File(PATH + username + ".p"));
    } catch (Throwable e) {
        Logger.handle(e);
    }
    try {
        Logger.log("SerializableFilesManager", "Recovering account: "
                + username);
        return (Player) loadSerializedFile(new File(BACKUP_PATH + username
                + ".p"));
    } catch (Throwable e) {
        Logger.handle(e);
    }
    return null;
}

public static boolean createBackup(String username) {
    try {
        Utils.copyFile(new File(PATH + username + ".p"), new File(
                BACKUP_PATH + username + ".p"));
        return true;
    } catch (Throwable e) {
        Logger.handle(e);
        return false;
    }
}

public synchronized static void savePlayer(Player player) {
    try {
        storeSerializableClass(player, new File(PATH + player.getUsername()
                + ".p"));
    } catch (ConcurrentModificationException e) {
        //happens because saving and logging out same time
    } catch (Throwable e) {
        Logger.handle(e);
    }
}

public static final Object loadSerializedFile(File f) throws IOException,
        ClassNotFoundException {
    if (!f.exists())
        return null;
    ObjectInputStream in = new ObjectInputStream(new FileInputStream(f));
    Object object = in.readObject();
    in.close();
    return object;
}

public static final void storeSerializableClass(Serializable o, File f)
        throws IOException {

    ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(f));
    out.writeObject(o);
    out.close();
}

private SerializableFilesManager() {

} 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:57:56.030

1.  **不要**将 Player 标记为瞬态，因为您正在保存它，瞬态将阻止如果被保存，并且会在反序列化时将 player 带到**默认值 null**。

2.  您是否使播放器类可序列化？

3.  它是被序列化**或没有序列化的****整个**对象图......瞬态的目的是使特定成员在序列化过程中被忽略，以便序列化过程顺利进行。

***   例如，假设在一个游戏中，我们想要保留玩家的进度和该会话的游戏小时数，而不是开始和结束时间。所以开始和结束时间可以是瞬态的。** 

 *** * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:59:14.153

你应该保存你的 ArrayList ：

```
 FileOutputStream fos = null;
    ObjectOutputStream out = null;
    try {
        fos = new FileOutputStream("filename",false);
        out = new ObjectOutputStream(fos);
        out.writeObject(notes);
        out.close();
        System.out.println("Object Persisted");
    } catch (IOException ex) {
        ex.printStackTrace();
    } 
```

当你打开你的项目时，导入你的Arraylist：

```
 FileInputStream fos;
    try {
            fos = new FileInputStream("filename");
             ObjectInputStream oos = new ObjectInputStream(fos);
             notes=(ArrayList) oos.readObject();
                fos.close();
            {
          catch {
        } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T08:59:49.767

那是因为您`Player`是`transient`...我试图在其他示例中演示您的逻辑...当`Player`设置为时`private`，序列化已成功并且所有数据都已加载回。否则，当瞬态时，播放器引用为`null`，它仅加载其他序列化字段，如`int`. 当 中只有一个`transient Player`as 字段时`class`，`NullPointerException`会发生，但`ArrayList`有`size > 0`。**

# c# - 将自动生成的类的实例序列化为 XML 字符串

> ID：11466861
> 
> 赞同：0
> 
> 时间：2012-07-13T08:31:57.980
> 
> 标签：c#, xml, serialization, xml-serialization

我从 xsd.exe 生成了以下类。这就是为什么我不能只`[XML Attribute("...")]`在代码中添加类似的东西。

```
public partial class MethodCheckType {

    private WebServiceType[] webServiceField;

    /// <remarks/>
    [System.Xml.Serialization.XmlElementAttribute("WebService")]
    public WebServiceType[] WebService {
        get {
            return this.webServiceField;
        }
        set {
            this.webServiceField = value;
        }
    }
}

public partial class WebServiceType {

    private string uRLField;

    private string parameterField;

    private string returnValueField;

    private CredentialsType credentialsField;

    /// <remarks/>
    public string URL {
        get {
            return this.uRLField;
        }
        set {
            this.uRLField = value;
        }
    }

    /// <remarks/>
    public string Parameter {
        get {
            return this.parameterField;
        }
        set {
            this.parameterField = value;
        }
    }

    /// <remarks/>
    public string ReturnValue {
        get {
            return this.returnValueField;
        }
        set {
            this.returnValueField = value;
        }
    }

    /// <remarks/>
    public CredentialsType Credentials {
        get {
            return this.credentialsField;
        }
        set {
            this.credentialsField = value;
        }
    }
} 
```

也许我必须更改我的 XSD 文件，然后我不得不再次在类代码中编写它。

为了更好地理解它：我想证明另一种方法（下面的方法“ReadXml”）可以正常工作。

```
/// <summary>
/// Reads an XML File in an array of WebServiceType objects.
/// </summary>
/// <param name="path">The filename to read.</param>
/// <returns>An array of WebServiceType Objects.</returns>
public static WebServiceType[] ReadXml(string path)
{
    // Is the path NOT a valic UNC path?
    if (!IsValidPath(path))
    {
        Console.Write(MethodCheck.Properties.Resources.ERR003);
        return null;
    }

    XmlSerializer serializer = new XmlSerializer(typeof(MethodCheckType));
    MethodCheckType output = null;
    StringReader reader = null;

    try
    {
        reader = new StringReader(path);
        output = (MethodCheckType)serializer.Deserialize(reader);
    }
    catch (Exception)
    {
        throw;
    }
    finally
    {
        reader.Dispose();
    }

    return output.WebService;
} 
```

要检查 ReadXml 方法，我必须编写一个方法（用于 unti 测试），该方法将 WebServiceType 对象数组作为参数并返回一个字符串。我不知道如何编写这个方法。下面是一个示例字符串：

![示例 XML 文档](../Images/9666dd2744b1bb6de391cbdfd171d7a0.png)

**编辑：** 这段文字似乎很难理解。我将尝试以更清晰的方式来表述它：我已经有了 ReadXml 方法。为了证明它是否正确，我编写了一个测试方法：

```
 /// <summary>
 ///A test for ReadXml
 ///</summary>
 [TestMethod()]
 public void ReadXmlTest2()
 {
     string path = @"C:\Users\pp-admin\Documents\Visual Studio 2010\Methodenpruefung der Webservices\Methodenpruefung\Methodenpruefung\BeispielXmlDatei.xml";
     string expected = testXMLFile;
     string  actual;
     WebServiceType[] xmlSerialized = WebserviceReader.ReadXml(path);
     // Deserialisieren des XML Objekts um einen String zu bekommen
     actual = WebServiceType.SerializeToXml(xmlSerialized);
     Assert.AreEqual(expected, actual);
     Assert.Inconclusive("Verify the correctness of this test method.");
 } 
```

SerializeToXml 方法必须采用 WebServiceType 对象数组，但它应该返回一个完整的 XML 字符串，如示例中所示。

```
/// <summary>
/// This method deserializes an arrayof WebServiceType objects into a XML string.
/// </summary>
/// <param name="services">The WebServiceType object to deserialize.</param>
/// <returns>A XML string.</returns>
public static string SerializeToXml(WebServiceType[] services)
{
    XmlSerializer serializer = new XmlSerializer(typeof(MethodCheckType));
    MemoryStream ms = null;
    StreamReader reader = null;
    StringBuilder builder = new StringBuilder();

    try
    {
        ms = new MemoryStream();
        reader = new StreamReader(ms);
        Object t = (Object)serializer.Deserialize(reader);
    }
    finally
    {
        reader.Dispose();
        ms.Dispose();
    }
    return null;
} 
```

也许在我这边有些混淆“序列化”和“反序列化”的含义，对此感到抱歉。但我希望现在我的意思更清楚了。

**编辑：** 首先感谢以下答案。SerializeToXml 方法现在似乎可以工作了。

还有另一个问题：使用以下代码我得到一个错误：

```
[XmlElement(ElementName = "MethodCheck")]
public partial class MethodCheckType { } 
```

错误信息是：

> 属性“XmlElement”在此声明类型上无效。它仅对“属性、索引器、字段、参数、返回”声明有效。

我必须添加另一个 using 声明吗？或者为什么这不起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T10:04:52.080

是的，您需要*序列化*（将对象转换为可以存储的某种表示形式，如字符串），而不是*反序列*化（将字符串或其他某种表示形式转换为内存中的对象）。

您的其他问题的[答案](https://stackoverflow.com/a/11448270/351301)已经为您提供了大部分您需要的东西。

```
public static string SerializeToXml(WebServiceType[] webServices)
{
    // Make a MethodCheck object to hold the services.
    // This ensures that you get a top-level <MethodCheck> tag in the XML.
    MethodCheckType container = new MethodCheckType();
    container.WebService = webServices;

    using (var writer = new StringWriter())
    {
        var serializer = new XmlSerializer(typeof(MethodCheckType));
        // Note that you're serializing, not deserializing.
        serializer.Serialize(writer, container);
        writer.Flush();
        return writer.ToString();
    }
} 
```

* * *

但是，这里有两点需要注意：

*   比较两个 XML 字符串可能不会给您想要的结果。即使 XML 在技术上是相同的，即使是*无关紧要*的空格中的最小差异也会导致字符串比较返回 false。例如，这两个 XML 块将无法进行字符串比较，即使 XML 具有相同的结构：

```
<a><b>Text</b></a>

<a>
    <b>Text</b>
</a> 
```

*   标签的名称可能不正确。这些*标签*称为`<MethodCheck>`和`<WebService>`。这些*类型*被称为`MethodCheckType`and `WebServiceType`，并且它们没有`[XmlElement]`属性可以赋予它们不同的*序列化*名称，我认为这就是您在答案开头所指的内容。因为 xsd.exe 会为您生成部分类，所以您可以创建**另一个源文件**来*扩展*生成的类。例子：

```
[XmlElement(ElementName = "WebService")]
partial class WebServiceType
{
}

// And the same for MethodCheckType. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T10:07:01.643

序列化和反序列化在分布式架构中发挥着重要作用。为了简单起见，您可以说序列化正在以一种可以存储或从一台机器传输到另一台机器的方式将对象转换为字符串，反之亦然，过程是反序列化。

# cakephp - 在 CakePHP 中将 ajax 和非 ajax 操作放在同一个控制器中

> ID：11466862
> 
> 赞同：0
> 
> 时间：2012-07-13T08:32:09.050
> 
> 标签：cakephp

由于添加了一些 ajax 操作，我在 CakePHP 应用程序中遇到了问题。

我的表被调用`orders`所以很明显我的控制器被调用`OrdersController`并且模型被调用`Order`

我对 CakePHP 最佳实践的理解是，如果我要在`Order`模型上运行任何逻辑，它应该在`OrdersController`. 这对于基本的 CRUD 内容来说很好，但现在我的一些视图需要发送 ajax 请求来操作`Order`数据，我遇到了问题。

问题是要让ajax正常工作，我必须把它放在开头`OrdersController`

```
var $layout = 'ajax';  // uses an empty layout
var $autoRender=false; // renders nothing by default 
```

然后，为了阻止安全组件干扰我的 Ajax 表单提交，我还需要这个：

```
public function beforeFilter() {
    parent::beforeFilter();
    $this->Security->csrfUseOnce = false;
    $this->Security->csrfExpires = '+1 hour';
} 
```

如果控制器仅用于 Ajax 请求，这些都不是问题，但问题是它也用于常规 Cake 操作。

答案是我应该有两个控制器吗？一个用于常规操作，一个用于 ajax 操作？Cake 文档中似乎没有提到这一点，而且它似乎不是一种非常有效的做事方式。

我知道我可以在每个操作的基础上更改布局和可能的自动渲染设置，但我不明白如何使用需要在 beforeFilter 中的 csrf 设置来做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:43:17.207

无需单独的控制器。使用蛋糕请求处理程序。在您的控制器方法中，您可以测试它是否是 Ajax 请求。

```
if ($this->request->is('ajax')) {
    //set to Ajax layout and security settings, etc 
```

您需要在控制器顶部包含请求处理程序组件：

```
public $components = array('RequestHandler'); 
```

有关更多信息，请参阅烹饪书中的此页面：http: [//book.cakephp.org/2.0/en/core-libraries/components/request-handling.html](http://book.cakephp.org/2.0/en/core-libraries/components/request-handling.html)

# c# - 客户端缓存 C# 表单应用程序

> ID：11466864
> 
> 赞同：0
> 
> 时间：2012-07-13T08:32:15.723
> 
> 标签：c#, windows, c#-4.0

我有一个查询数据库记录的应用程序。记录可能有数千个，这可能会增加进程的内存并最终导致崩溃或响应缓慢。

分页查询是一种解决方案，但记录中的信息总是不断变化。因此，为了提供独特的体验，我们被迫显示用户进行查询时可用的信息。

使用分页可以在从一个页面移动到另一个页面时动态更新内容。我相信客户端缓存可以解决这个问题。

我发现的一种方法是以 XML 格式将结果存储到磁盘并使用 LINQ to XML 进行查询。是否有任何经过验证的客户端缓存机制可以与桌面应用程序（而不是 Web）一起使用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:47:47.297

查看一些模式，例如[http://msdn.microsoft.com/en-us/library/ff664753](http://msdn.microsoft.com/en-us/library/ff664753) 它讨论了企业库缓存应用程序块的使用，它允许开发人员在他们的应用程序中合并本地缓存。

另请阅读[http://www.codeproject.com/Articles/8977/Using-Cache-in-Your-WinForms-Applications](http://www.codeproject.com/Articles/8977/Using-Cache-in-Your-WinForms-Applications)

企业库 5.0 可以在这里找到[http://msdn.microsoft.com/en-us/library/ff632023](http://msdn.microsoft.com/en-us/library/ff632023)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:49:18.513

除非您让缓存无限增长，否则内存使用应该不是真正的问题。预取太多用户可能永远不会看到的页面，或者保留用户很长时间没有查看的页面几乎没有什么好处。动态获取下一个/上一个页面可以保持高性能，但您应该从缓存页面中清除已编辑或超过某个时间跨度的页面。从缓存中清除只需要丢弃对页面的所有引用（例如从任何列表或字典中删除它）并允许垃圾收集器完成它的工作。

您还可以潜在地将[WeakReference](https://stackoverflow.com/questions/930198/does-weakreference-make-a-good-cache)存储到您的对象，并让垃圾收集器在需要时收集您的对象，但这使您对什么是未缓存的控制较少。

或者，有一些非常好的第三方解决方案，特别是如果它是一个网格控件。[DevExpress 网格控件](http://documentation.devexpress.com/#WPF/CustomDocument6279)具有出色的服务器模式，可以以良好的性能处理非常大的数据集。

# c# - 保持响应式 UI

> ID：11466865
> 
> 赞同：0
> 
> 时间：2012-07-13T08:32:15.707
> 
> 标签：c#, .net, multithreading, gridview, long-running-processes

我有一个有几个组合框和一个gridview 的winform。

最初，我正在创建带有行和列的网格视图，并且没有填充数据。

![在此处输入图像描述](../Images/d1f606dd8cc43354bb18c61c609d5c9b.png)

将数据填充到网格是一项长期运行的任务，它将遍历所有行并读取列标题，并根据它对每个单元格应用不同的颜色和数据。

我想要实现的是在表单加载事件中加载上述网格，并在表单加载后开始将数据填充到网格中，以便用户可以看到发生了什么。同样的事情也适用于组合框值的变化，因为我将根据组合值加载数据。

我尝试过的是这样的......

在表单加载中，我正在调用方法

```
 private void LoadForm()
        {                        
            DataBind(); // this will load the initial grid without cell data            

            this.BeginInvoke((MethodInvoker)this.LongRunningProcess1);

            this.BeginInvoke((MethodInvoker)this.LongRunningProcess2);

         } 
```

但它仍然需要很长时间，而且我没有响应式 UI。

我也尝试过这样的事情，但没有运气......

```
 ThreadStart ts = LongRunningProcess1;
            Thread t1 = new Thread(ts);
            t1.Start(); 
```

同样使用后台工作人员完成长时间运行的操作会导致***“跨线程操作”***问题。

```
 private void backgroundWorker_DoWork(object sender, DoWorkEventArgs e)
        {
                LongRunningProcess1();
                LongRunningProcess2();           
        } 
```

任何帮助使这项工作都非常感谢..

谢谢

**更新**

我找到了一个非常酷的解决方案[从另一个线程更新您的表单，而无需为每种类型的更新创建委托](http://www.codeproject.com/Articles/52752/Updating-Your-Form-from-Another-Thread-without-Cre)

感谢您的回答！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:39:57.883

为了避免在后台工作的完成事件中出现 CrossThreadException，请像这样包装您的回调方法：

```
public void WorkerCompleted(object sender, RunWorkerCompletedEventArgs e)
{
    if (this.InvokeRequired)
    {
        this.Invoke(new RunWorkerCompletedEventHandler(WorkerCompleted), new {sender, e});
    }
    else 
    {
        // Business logic goes here
    }
} 
```

通常，您将在 else 块中填充加载到 GridView 中的数据。另一方面，如果您想从长时间运行的后台任务中逐步填充 GridView，您可以使用来自后台工作人员的回调通过类似的技术实现此目的：

```
public void Worker_DoWork(object sender, DoWorkEventArgs e)
{
   foreach (var someParameter in parameterList) // Long-running loop 
   {
     var data = LoadData(someParameter); // Load data for row X
     this.Invoke(new Action<object>(UpdateRow),new[]{data});  // Update on UI-thread
   }
}

public void UpdateRow(object data)
{
   // Code to populate DataGrid row X with data from argument
} 
```

请注意，如果您想异步进行 UI 更新，则可以调用 BeginInvoke 而不是 Invoke。在这种情况下，这通常不会产生影响。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T10:24:40.550

使用 BackgroundWorker 和 RunWorkerAsync 的简单示例。希望这可以帮助。

```
public partial class Form2 : Form
{

    BackgroundWorker worker = new BackgroundWorker();

    public Form2()
    {

        worker.WorkerReportsProgress = true;
        worker.WorkerSupportsCancellation = true;

        worker.DoWork += new DoWorkEventHandler(worker_DoWork);
        worker.RunWorkerCompleted += new RunWorkerCompletedEventHandler(worker_RunWorkerCompleted);
        worker.ProgressChanged += new ProgressChangedEventHandler(worker_ProgressChanged);

        InitializeComponent();
    }

    void worker_DoWork(object sender, DoWorkEventArgs e)
    {
        int totalSteps = 5;
        for (int i = 1; i <= totalSteps; i++)
        {
            Thread.Sleep(1000);
            worker.ReportProgress(i);
        }
    }

    void worker_ProgressChanged(object sender, ProgressChangedEventArgs e)
    {
        progressBar1.Value = e.ProgressPercentage;
    }

    void worker_RunWorkerCompleted(object sender, RunWorkerCompletedEventArgs e)
    {
        resultText.Text = "Worker complete";
        btnDoWork.Enabled = true;
        progressBar1.Visible = false;
    }

    private void btnDoWork_Click(object sender, EventArgs e)
    {
        progressBar1.Visible = true;
        worker.RunWorkerAsync();
    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:38:01.763

后台工作进程是正确的方法，您只需要通过确保修改表单元素的所有调用都使用`Control.Invoke`方法包装器来消除所有“跨线程操作”异常。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T08:46:49.827

如果您想使用后台工作程序/多线程，您可以使用委托更新您的表单（它们在 ui 线程上运行）。请参阅此处的示例：[如何从 C# 中的另一个线程更新 GUI？](https://stackoverflow.com/questions/661561/how-to-update-gui-from-another-thread-in-c)

# asp.net - 仅加载内容页面

> ID：11466867
> 
> 赞同：1
> 
> 时间：2012-07-13T08:32:26.500
> 
> 标签：asp.net, .net, master-pages

我想知道，当我们使用母版页+内容页时，每次我们请求基于母版页的任何页面时，每次相同的母版页加载内容页时。

那么，当我们请求页面时，如果请求的内容页面相同，则只有内容页面而不是母版页是否有可能被加载。

只有在不同的内容页面不同时才应该加载它。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:42:44.063

MasterPages 被实现为页面的控件。

Asp.net 页面加载呈现页面所需的所有控件。

如果您的页面使用 MasterPage 控件，您将**无法**避免完全加载它。

如果您的页面非常大，并且想要减少发送给客户端的数据大小，请考虑使用部分渲染。[UpdatePanels](http://msdn.microsoft.com/en-us/library/bb386454.aspx)应该可以帮助您入门。

如果加载页面需要很长时间，则应该考虑缓存。Asp.net 有很多方法可以只缓存页面的一部分。

查看[页面的缓存部分](http://msdn.microsoft.com/en-us/library/h30h475z.aspx)。

# java - 断言与junit一起使用

> ID：11466875
> 
> 赞同：0
> 
> 时间：2012-07-13T08:33:11.017
> 
> 标签：java, junit

我必须测试我的类的一个方法返回一个不同于零的值。我的问题是我不知道我必须使用的断言。只有 assertEquals 而不是 assertNotEquals。我该怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:38:39.863

利用：

```
assertTrue(currentValue!=0); 
```

或者您可以切换到[TestNG](http://testng.org/javadocs/org/testng/Assert.html)并且有“assertNotEquals”方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:35:50.537

利用

```
Assert.assertTrue(actualValue!=0); 
```

但这不会在失败的情况下为您提供信息性消息

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T09:07:47.280

我认为您使用 JUnit3（或更高版本）并且您想测试一个`int i != 0`. 你应该使用：

```
import junit.framework.TestCase;
public class Tests extends TestCase {
    public void testMe(){
        int i = 4;
        assertNotSame("msg on fail", i, 0);
    }
} 
```

用于`assertNotSame`测试不平等。用于`assertNotNull`_`o != null`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-14T08:25:35.720

Hamcrest 是你的朋友。利用

```
assertThat(currentValue, not(equalTo(0))) 
```

这是可读的，并且在失败的情况下会产生一个体面的消息。

# android - Android Facebook API 未发送 APP 请求

> ID：11466888
> 
> 赞同：0
> 
> 时间：2012-07-13T08:33:43.997
> 
> 标签：android, facebook

我正在使用 Android Hackbook 应用程序。我稍微修改了代码以向自定义朋友发送应用请求。这是代码。

```
Bundle params = new Bundle();
    params.putString("title", "invite friends");
    params.putString("message", getString(R.string.request_message));
    params.putString("to", userId);
    Utility.mFacebook.dialog(Hackbook.this, "apprequests", params, new AppRequestsListener()); 
```

这会弹出一个对话框，向我选择的用户 ID 的朋友发送应用请求。AppRequestsListener 代码被执行，它向我展示了请求成功的祝酒词。用户如何永远不会收到请求。我究竟做错了什么。我需要先授予应用程序一些权限吗？真的卡住了，任何帮助都会很好

亲切的问候，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T09:15:33.063

试试这个：

```
 Facebook facebook = new Facebook(YOUR_APP_ID);
        Bundle params = new Bundle();
        params.putString("to", userId);
        params.putString("message", "getString(R.string.request_message)");
        facebook.dialog(((Activity) ctx).getParent(), "apprequests",
                params, new DialogListener() {

                    public void onComplete(Bundle values) {
                        // TODO Auto-generated method stub
                        Toast.makeText(ctx, "<<Complete>>",
                                Toast.LENGTH_SHORT).show();
                    }

                    public void onFacebookError(FacebookError e) {
                        // TODO Auto-generated method stub
                    }

                    public void onError(DialogError e) {
                        // TODO Auto-generated method stub
                    }

                    public void onCancel() {
                        // TODO Auto-generated method stub
                    }

        }); 
```

这对我有用。用户按预期接收请求。

# sungridengine - 如何在 SGE 中进行逻辑分区？

> ID：11466890
> 
> 赞同：1
> 
> 时间：2012-07-13T08:33:46.637
> 
> 标签：sungridengine

我正在使用 GE2011.11。以前，我使用的是 Torque/Maui。在毛伊岛，有一个分区的概念，借助它我们可以在逻辑上划分集群。一个节点不能属于多个分区。

在 GE 中，我正在考虑使用主机组来实现这一点，但是一个节点（主机）可以属于多个主机组，这是不可取的。任何想法，我们如何实现与主机组的分区？

在 GE 中，有一个特性叫做多集群。我们可以使用这个特性来实现分区吗？任何想法，我们如何使用它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-31T00:08:47.543

使用 SGE，您可以手动修改主机组，以便主机（节点）仅存在于单个主机组中。然后，您可以创建仅使用单个主机组的队列。然后用户将作业提交到特定队列（它们本身可以受用户限制）以访问特定的主机组。这将有效地划分您的网格。

执行此设置时要注意的基本事项与 all.q 队列和 @allhosts 主机组有关。如果您从 @allhosts 组中删除所有主机，您应该可以这样做。

如果您还有其他问题，请告诉我，我很乐意提供帮助，因为我多年来一直在管理 SGE 集群。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-20T10:17:39.633

由于管理员定义了主机组的成员资格，因此只需定义组以免重叠。如果您想控制哪些用户可以在哪个分区上运行，您可以通过为每组用户定义 Grid Engine acls/usersets 并使用增强的队列配置语法将不同的列表与队列定义中的每个主机组相关联来做到这一点。

```
user_lists chemists,[@physicshosts=physicists],[@biologyhosts=biologists] 
```

如果您尝试做的是确保给定作业在一组主机或另一组主机上运行但不是混合运行，那么您需要定义多个相同的并行环境并使用类似的技巧将每个 PE 与不同的主机组相关联。

```
pe_list mpich-A,[@switchb=mpich-B],[@switchc=mpich-C] 
```

然后，用户在提交作业时请求通配符 PE：

```
#$ -pe mpich-* 8 
```

# android - android 4.0.3 和 jquery 兼容性

> ID：11466892
> 
> 赞同：0
> 
> 时间：2012-07-13T08:33:58.763
> 
> 标签：android, jquery

我目前正在开发一个使用 WebView 加载 html/js 页面的 Android 应用程序。

这些页面是用 jQuery 开发的游戏，特别是用于制作动画。

我在 Android 4.0.3 上有一个问题。我无法让动画正常工作。但奇怪的是它可以在 Nexus S 上运行，而不是在索尼平板电脑上运行。两者都运行 Android 4.0.3 和具有相同代码的相同应用程序。

我尝试使用 jQuery mobile 但它不起作用

你怎么看？

请帮我。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:53:33.717

这似乎是 jQuery 营的一个已知问题：http:
[//forum.jquery.com/topic/jquerymobile-1-0-does-not-support-android-4-0-ice-cream-sandwich](http://forum.jquery.com/topic/jquerymobile-1-0-does-not-support-android-4-0-ice-cream-sandwich)

# python - 如何使用单个 UDP 端口检测 LAN Messenger 上的其他主机？

> ID：11466893
> 
> 赞同：0
> 
> 时间：2012-07-13T08:33:58.880
> 
> 标签：python, sockets, udp, lan, messenger

如[IP Messenger Help](http://ipmsg.org/ipmsghlp_eng.htm)中所述，它使用 UDP 端口 2425 来检测其他主机。它实际上是如何通过单个端口实现的？

我如何继续实现这一点，比如创建一个套接字，然后广播和所有步骤。

任何想法和帮助将不胜感激..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T10:19:47.037

1.  创建数据报socket()
2.  绑定（）端口
3.  准备数据包
4.  sendto() UDP 数据包到广播（多播）地址
5.  recvfrom() 尽可能多的答案

# assembly - 一个奇怪的汇编代码：cmp ebp, ds:dword_84B8844

> ID：11466895
> 
> 赞同：-1
> 
> 时间：2012-07-13T08:34:00.260
> 
> 标签：assembly, x86, addressing-mode

我使用 IDAPro 反汇编一个 elf 文件。在函数 sub_8210884 中，我注意到一些奇怪的代码：

sub_8049DB6：

```
...
call    sub_8210884 
```

sub_8210884：

```
push    ebp
mov     ebp, esp
push    esi
push    ebx
mov     ebx, [ebp+arg_0]
mov     eax, [ebx+0Ch]
cmp     eax, 1
...  (not modify ebp)
cmp     ebp, ds:dword_84B8844 
```

什么意思？我猜它是对 sub_8049DB6 中的局部变量的引用，但不确定。

这是完整的汇编代码：

```
LOAD:08049DB6 sub_8049DB6 proc near               ; CODE XREF: sub_8049D8A+21p
LOAD:08049DB6                                         ; sub_8049F74+Ep ...
LOAD:08049DB6
LOAD:08049DB6 arg_0           = dword ptr  8
LOAD:08049DB6
LOAD:08049DB6                 push    ebp
LOAD:08049DB7                 mov     ebp, esp
LOAD:08049DB9                 sub     esp, 8
LOAD:08049DBC                 sub     esp, 0Ch
LOAD:08049DBF                 mov     eax, [ebp+arg_0]
LOAD:08049DC2                 add     eax, 4
LOAD:08049DC5                 push    eax
LOAD:08049DC6                 call    sub_8210884 
LOAD:08049DCB                 add     esp, 10h
LOAD:08049DCE                 leave
LOAD:08049DCF                 retn
LOAD:08049DCF sub_8049DB6     endp

LOAD:08210884 sub_8210884 proc near   ; CODE XREF: sub_8049DB6+10p
LOAD:08210884                                         ; sub_8056626+16p ...
LOAD:08210884
LOAD:08210884 arg_0           = dword ptr  8
LOAD:08210884
LOAD:08210884                 push    ebp
LOAD:08210885                 mov     ebp, esp
LOAD:08210887                 push    esi
LOAD:08210888                 push    ebx
LOAD:08210889                 mov     ebx, [ebp+arg_0]
LOAD:0821088C                 mov     eax, [ebx+0Ch]
LOAD:0821088F                 cmp     eax, 1
LOAD:08210892                 jz      short loc_82108B4
LOAD:08210894                 jle     loc_8210970
LOAD:0821089A                 cmp     eax, 2
LOAD:0821089D                 jz      short loc_8210918
LOAD:0821089F                 cmp     eax, 3
LOAD:082108A2                 jz      loc_8210962
LOAD:082108A8
LOAD:082108A8 loc_82108A8:                            ; CODE XREF: sub_8210884+EEj
LOAD:082108A8                 mov     eax, 16h
LOAD:082108AD
LOAD:082108AD loc_82108AD:                            ; CODE XREF: sub_8210884+C4j
LOAD:082108AD                 lea     esp, [ebp-8]
LOAD:082108B0                 pop     ebx
LOAD:082108B1                 pop     esi
LOAD:082108B2                 leave
LOAD:082108B3                 retn
LOAD:082108B4 ; ---------------------------------------------------------------------------
LOAD:082108B4
LOAD:082108B4 loc_82108B4:                            ; CODE XREF: sub_8210884+Ej
LOAD:082108B4                 cmp     ebp, ds:dword_84B8844
LOAD:082108BA                 mov     eax, ebp
LOAD:082108BC                 mov     esi, offset unk_83A44C0
LOAD:082108C1                 jnb     short loc_82108F0
LOAD:082108C3                 cmp     ebp, ds:dword_84B883C
LOAD:082108C9                 jb      short loc_82108D8
LOAD:082108CB                 cmp     ebp, ds:dword_84B8854
LOAD:082108D1                 mov     esi, offset unk_83A40A0
LOAD:082108D6                 jb      short loc_82108F0
LOAD:082108D8
LOAD:082108D8 loc_82108D8:                            ; CODE XREF: sub_8210884+45j
LOAD:082108D8                 mov     edx, ds:dword_84B8820
LOAD:082108DE                 test    edx, edx
LOAD:082108E0                 jz      loc_8210996
LOAD:082108E6                 call    search_in_array_84B8880
LOAD:082108EB                 mov     esi, eax
LOAD:082108ED                 lea     esi, [esi+0]
LOAD:082108F0
LOAD:082108F0 loc_82108F0:                            ; CODE XREF: sub_8210884+3Dj
LOAD:082108F0                                         ; sub_8210884+52j ...
LOAD:082108F0                 cmp     [ebx+8], esi
LOAD:082108F3                 jz      loc_821098C
LOAD:082108F9                 lea     eax, [ebx+10h]
LOAD:082108FC                 mov     edx, esi
LOAD:082108FE                 call    sub_8213CC8
LOAD:08210903                 mov     [ebx+8], esi
LOAD:08210906                 mov     dword ptr [ebx+4], 0
LOAD:0821090D                 xor     eax, eax
LOAD:0821090F
LOAD:0821090F loc_821090F:                            ; CODE XREF: sub_8210884+DCj
LOAD:0821090F                                         ; sub_8210884+EAj ...
LOAD:0821090F                 lea     esp, [ebp-8]
LOAD:08210912                 pop     ebx
LOAD:08210913                 pop     esi
LOAD:08210914                 leave
LOAD:08210915                 retn
LOAD:08210915 ; ---------------------------------------------------------------------------
LOAD:08210916                 align 4
LOAD:08210918
LOAD:08210918 loc_8210918:                            ; CODE XREF: sub_8210884+19j
LOAD:08210918                 cmp     ebp, ds:dword_84B8844
LOAD:0821091E                 mov     eax, ebp
LOAD:08210920                 mov     esi, offset unk_83A44C0
LOAD:08210925                 jnb     short loc_8210940
LOAD:08210927                 cmp     ebp, ds:dword_84B883C
LOAD:0821092D                 jnb     short loc_82109A6
LOAD:0821092F
LOAD:0821092F loc_821092F:                            ; CODE XREF: sub_8210884+12Fj
LOAD:0821092F                 mov     esi, ds:dword_84B8820
LOAD:08210935                 test    esi, esi
LOAD:08210937                 jz      short loc_82109B8
LOAD:08210939                 call    search_in_array_84B8880
LOAD:0821093E                 mov     esi, eax
LOAD:08210940
LOAD:08210940 loc_8210940:                            ; CODE XREF: sub_8210884+A1j
LOAD:08210940                                         ; sub_8210884+12Dj ...
LOAD:08210940                 cmp     [ebx+8], esi
LOAD:08210943                 mov     eax, 23h
LOAD:08210948                 jz      loc_82108AD
LOAD:0821094E                 sub     esp, 8
LOAD:08210951                 lea     eax, [ebx+10h]
LOAD:08210954                 push    esi
LOAD:08210955                 push    eax
LOAD:08210956                 call    sub_82137F0
LOAD:0821095B                 xor     eax, eax
LOAD:0821095D                 mov     [ebx+8], esi
LOAD:08210960                 jmp     short loc_821090F
LOAD:08210962 ; ---------------------------------------------------------------------------
LOAD:08210962
LOAD:08210962 loc_8210962:                            ; CODE XREF: sub_8210884+1Ej
LOAD:08210962                 lea     eax, [ebx+10h]
LOAD:08210965                 xor     edx, edx
LOAD:08210967                 call    sub_8213CC8
LOAD:0821096C                 xor     eax, eax
LOAD:0821096E                 jmp     short loc_821090F
LOAD:08210970 ; ---------------------------------------------------------------------------
LOAD:08210970
LOAD:08210970 loc_8210970:                            ; CODE XREF: sub_8210884+10j
LOAD:08210970                 test    eax, eax
LOAD:08210972                 jnz     loc_82108A8
LOAD:08210978                 sub     esp, 8
LOAD:0821097B                 push    0
LOAD:0821097D                 lea     ecx, [ebx+10h]
LOAD:08210980                 push    ecx
LOAD:08210981                 call    sub_82137F0
LOAD:08210986                 xor     eax, eax
LOAD:08210988                 jmp     short loc_821090F
LOAD:08210988 ; ---------------------------------------------------------------------------
LOAD:0821098A                 align 4
LOAD:0821098C
LOAD:0821098C loc_821098C:                            ; CODE XREF: sub_8210884+6Fj
LOAD:0821098C                 inc     dword ptr [ebx+4]
LOAD:0821098F                 xor     eax, eax
LOAD:08210991                 jmp     loc_821090F
LOAD:08210996 ; ---------------------------------------------------------------------------
LOAD:08210996
LOAD:08210996 loc_8210996:                            ; CODE XREF: sub_8210884+5Cj
LOAD:08210996                 or      eax, 1FFFFFh
LOAD:0821099B                 lea     esi, [eax-41Fh]
LOAD:082109A1                 jmp     loc_82108F0
LOAD:082109A6 ; ---------------------------------------------------------------------------
LOAD:082109A6
LOAD:082109A6 loc_82109A6:                            ; CODE XREF: sub_8210884+A9j
LOAD:082109A6                 cmp     ebp, ds:dword_84B8854
LOAD:082109AC                 mov     esi, offset unk_83A40A0
LOAD:082109B1                 jb      short loc_8210940
LOAD:082109B3                 jmp     loc_821092F
LOAD:082109B8 ; ---------------------------------------------------------------------------
LOAD:082109B8
LOAD:082109B8 loc_82109B8:                            ; CODE XREF: sub_8210884+B3j
LOAD:082109B8                 or      eax, 1FFFFFh
LOAD:082109BD                 lea     esi, [eax-41Fh]
LOAD:082109C3                 jmp     loc_8210940
LOAD:082109C3 sub_8210884 endp
LOAD:082109C3 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-08-17T09:26:44.763

cmp ebp, ds:dword_84B8844 告诉我们将存储在 ebp 中的值与存储在 DS:dword_84B8844 中的值（由 dword_84B4884 命名的 dword）进行比较（或者如果指令尚未执行，则比较），dword_84B8844 将包含一个值并使用该值（cfr. variablename, variablevalue）

# java - 如何在 Java 中构造动态字符串？

> ID：11466897
> 
> 赞同：0
> 
> 时间：2012-07-13T08:34:01.883
> 
> 标签：java

我正在尝试在我的应用程序中做某事，但我被卡住了，无法找到前进的方向。这是我的问题：-

我想以编程方式创建 Oracle 查询。2 这样的查询例如是 DROP TABLE tableName & ALTER TABLE tableName PRIMARY KEY (col1, col2, col3....);

在我的课堂上，我创建了这 2 个最终的静态字符串：-

```
private static final String DROP_TABLE = "DROP TABLE %1$s";

createDropStmt() {
    System.out.format(DROP_TABLE, tableName);
} 
```

如您所见，这种方法适用于 DROP 语句，但不适用于 PK，因为我不知道在运行时之前会有多少列存在。(private static final String PRIMARY_KEY = "ALTER TABLE %1$s PRIMARY KEY {不知道放什么}"`)

所以，我的问题是如何为 PK 做这种事情，以便我的模板字符串可以动态获取值并构造查询。？Java 是否有一个干净的方法来做到这一点，或者我的方法应该不同？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:46:36.423

如果您有多个主键列，则必须用逗号连接它们的名称。`java.util.Formatter`不提供连接数组或值列表的方法。你必须为自己做这件事。

当您不想编写自己的连接器时，可以使用[Guava](http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/base/Joiner.html)[库](http://code.google.com/p/guava-libraries/)中的连接器，如下所示：

```
Joiner.on(",").join(primaryKeyColumns); 
```

然后将其插入到 ALTER TABLE 语句中。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-07-13T08:39:10.383

看看 PreparedStatement。

还有一些框架可以简化 Java 中的 sql 使用（http://www.jooq.org/ 作为一个随机示例）。

我真的不会使用字符串连接进行查询构造。它在 OWASP 前 10 名（sql 注入）中。

# php - 有没有办法检查一个属性是否已经超载？

> ID：11466899
> 
> 赞同：-1
> 
> 时间：2012-07-13T08:34:13.160
> 
> 标签：php, reflection, overloading

我有一个属性，用于定义在类上使用的一组字段。

最终，当类扩展时，PHP 允许您重新定义此属性，但我不想允许这样做，因为父级上可用的字段可能会在重载时丢失。

这是一个例子：

```
class A {
    protected $_fields = array('a', 'b');
}

class B extends A {
    protected $_fields = array('c', 'd'); // I'm loosing 'a' and 'b' fields
} 
```

如果物业超载，我可以在施工时检查吗？也许通过使用反射方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:45:09.013

如果您不想让扩展类重新定义属性，请将属性定义为私有。私有属性只能在定义类内部访问，并且在扩展父类的类中对属性的任何重新定义都不会更改父类访问的值。

```
class A {
    private $_fields = array('a', 'b');

    function foo() { var_dump($this->_fields); }
}

class B extends A {
    protected $_fields = array('c', 'd'); // I'm loosing 'a' and 'b' fields

    function foo2() { var_dump($this->_fields); }
}

$b = new B();
$b->foo();
$b->foo2(); 
```

将输出：

```
array(2) {
  [0]=>
  string(1) "a"
  [1]=>
  string(1) "b"
}
array(2) {
  [0]=>
  string(1) "c"
  [1]=>
  string(1) "d"
} 
```

.. 由于第一次访问将读取父类中的属性（在继承值的类中不能被覆盖），并且扩展器仍然能够获取任何本地属性的值，无论在父类。

# javascript - 将“in”运算符用于带有 javascript 的二维数组

> ID：11466900
> 
> 赞同：1
> 
> 时间：2012-07-13T08:34:14.027
> 
> 标签：javascript, arrays, string, multidimensional-array, operators

所以我定义了以下数组：

```
 var a = new Array();
            a[1] = new Array();

            a[1][0] = "Computer Science";
            a[1][1] = "Computer Engineering";
            a[1][2] = "Aerospace Engineering";
            a[1][3] = "Engineering (Other)";
            a[1][4] = "Web Development";
            a[1][5] = "Computer Programming";
            a[1][6] = "Android Development";
                    //a[2] through a[n] defined similarly 
```

在某一时刻，我试图测试一个字符串是否包含在 a[i] 中的任何位置，比如“计算机科学”，所以我执行以下操作：

```
 for(j=1; j<n; j++)
                    if("Computer Science" in a[j])
                    {
                              //DO SOMETHING
                    } 
```

但是，这总是返回 false，但我已经验证 a[j] 实际上包含字符串（在 a[j][0] 中）。知道为什么会这样吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-13T08:40:33.510

[`in`运算符](https://developer.mozilla.org/en/JavaScript/Reference/Operators/in)用于测试对象上是否存在属性*（名称）*。例如，`"5" in a[j]`为真 - 数组有一个索引`5`。

您想使用该[`indexOf`方法](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf)检查数组中是否存在元素：

```
if (a[j].indexOf("Computer Science") > -1)
    //DO SOMETHING 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:50:37.823

这有效：

```
var a = [];
a[0] = [];
a[1] = [];

a[1][0] = "Computer Science";
a[1][1] = "Computer Engineering";
a[1][2] = "Aerospace Engineering";
a[1][3] = "Engineering (Other)";
a[1][4] = "Web Development";
a[1][5] = "Computer Programming";
a[1][6] = "Android Development";

for(j=0; j<a.length; j++) {
    if("Computer Science" in oc(a[j])) {
       alert("test");               
    }
}

function oc(a)
{
  var o = {};
  for(var i=0;i<a.length;i++)
  {
    o[a[i]]='';
  }
  return o;
} 
```

[http://jsfiddle.net/SRPEU/](http://jsfiddle.net/SRPEU/)

# java - 冰：选择一个菜单

> ID：11466902
> 
> 赞同：0
> 
> 时间：2012-07-13T08:34:18.490
> 
> 标签：java, icefaces

我现在只使用 Ice:faces 一个星期，我在弄清楚如何在我的页面上实现一个简单的 selectOneMenu 时遇到问题，这样我就可以通过一个简单的下拉菜单来选择一个人的性别，而不是输入内容。

我得到的错误如下

* * *

类型异常报告

信息

描述服务器遇到一个内部错误 () 阻止它完成这个请求。

例外

javax.el.MethodNotFoundException：找不到方法：data.SelectMenuHomes@ad503c.selectedGender(javax.faces.event.ValueChangeEvent)

note 异常的完整堆栈跟踪及其根本原因可在 Sun GlassFish Enterprise Server v2.1.1 日志中找到。

* * *

所以我认为我显然指的是不存在的东西

这是我的代码

在页面 jsp 表单中：

```
<ice:selectOneMenu valueChangeListener="#{homeSelect.selectedGender}">
    <f:selectItems value="#{homeSelect.genders}"/>
</ice:selectOneMenu> 
```

选择菜单的类：

```
import java.util.LinkedList;
import java.util.List;

import javax.faces.event.ValueChangeEvent;
import javax.faces.model.SelectItem;

public class SelectMenuHomes
{
    public static String selectedGender = null;

    public static void changeGender(ValueChangeEvent event)
    {
    selectedGender = event.getNewValue().toString();
    }

    public List<SelectItem> getGenders()
    {
        List<SelectItem> genderList = new LinkedList<SelectItem>();
        genderList.add(new SelectItem("Male"));
        genderList.add(new SelectItem("Female"));
        return genderList;
    }

    public String getSelectedGender() {
        return selectedGender;
    }

    public void setSelectedGender(String selectedGender) {
        this.selectedGender = selectedGender;
    }

} 
```

homeSelect 是我提供的托管 bean 的名称，用于引用 MenuSelectHomesClass

感谢您的任何帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:52:53.527

您缺少 valueChangedListener 调用的方法。jsf 文件中的 valueChangeListener="#{homeSelect.selectedGender}" 指向缺少的 homeSelect bean 中的方法“selectedGender(javax.faces.event.ValueChangeEvent)”。您没有使用 value= 属性。

如果没有转换器或实用程序，您无法将对象直接放在这些菜单中。

请参阅“在 selectMenu 中使用对象”：[http](http://balusc.blogspot.ch/2007/09/objects-in-hselectonemenu.html) ://balusc.blogspot.ch/2007/09/objects-in-hselectonemenu.html 还可以查看： http: [//omnifaces.org](http://omnifaces.org)，它带有这样的[转换器](http://showcase.omnifaces.org/converters/SelectItemsConverter)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-16T12:43:35.260

解决了

```
<ice:selectOneMenu value="#{dataControl.appendGender}"> 
<f:selectItems value= "#{homeSelect.genders}"/> 
</ice:selectOneMenu> 
```

appendGender 是用于运行 SQL 查询的方法中的变量以及 appendName appendSurname 等变量

# c - 在 c 程序中使用 glib 库

> ID：11466904
> 
> 赞同：3
> 
> 时间：2012-07-13T08:34:30.767
> 
> 标签：c, linux, glib

我想在我的 c 程序中使用哈希表。

我编码：

```
...
#include <glib.h>

void main(int argc, char **argv)
{
  GHashTable *g_hash_table;
  ...  
  g_hash_table = g_hash_table_new(g_int_hash, g_int_equal);
...
} 
```

然后我编译：

```
$ gcc -I/usr/include/glib-2.0
-I/usr/lib/i386-linux-gnu/glib-2.0/include
-lglib-2.0 -o test test.c 
```

或相同的命令：

```
$ gcc `pkg-config --cflags --libs glib-2.0` -o test test.c 
```

但无论如何结果是：

```
test.c: underfined reference to `g_int_equal`
test.c: underfined reference to `g_int_hash` 
test.c: underfined reference to `g_hash_table_new`
collect2: ld returned 1 exit status 
```

**为什么我不能编译我的程序？我错误地包含了 glib 库？**

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-13T08:57:57.897

您需要在使用它们的源文件和目标文件*之后在命令行中指定库：*

```
gcc test.c `pkg-config --cflags --libs glib-2.0` -o test 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:44:38.460

从IBM developerper 的[这个 pdf](http://www.ibm.com/developerworks/linux/tutorials/l-glib/l-glib-pdf.pdf)`glib`文件中，如果您使用以下命令进行标准安装，最好使用 pkg-config ：

```
$ gcc `pkg-config --cflags --libs glib-2.0` -o ex-compile ex-compile.c 
```

您的包含看起来正确以及您使用它的方式。不确定`'`会改变什么，但您可能想查看 PDF，它包含很多示例和说明。

# java - java - 如何在java的http标头中将内容长度设置为长值？

> ID：11466905
> 
> 赞同：15
> 
> 时间：2012-07-13T08:34:41.157
> 
> 标签：java

我正在用 Java 编写一个 Web 服务器，它可以传输高达 2GB 的文件。当我搜索原因时，我发现像 java HttpServelet 只允许我们将内容长度设置为 int。由于整数的最大大小为 2GB，当我使用 response.setContentLength 方法时，它可以正常工作到 2GB。现在问题是默认情况下 response.setContentLength 具有整数参数。所以它不以长值作为参数。我已经尝试过 response.setHeader("Content-Length", Long.toString(f.length())); response.addHeader("内容长度", Long.toString(f.length())); 但没有任何工作。当它是一个长值时，它总是无法添加内容长度。因此，请为 HTTPServletResponse 提供任何可行的解决方案，以便我可以将内容长度设置为长值。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2014-07-04T10:16:37.817

您也可以使用下面的示例代码。

```
long length = fileObj.length();

if (length <= Integer.MAX_VALUE)
{
  response.setContentLength((int)length);
}
else
{
  response.addHeader("Content-Length", Long.toString(length));
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-07-13T08:56:51.177

尝试这个：

```
long length = ...;
response.setHeader("Content-Length", String.valueOf(length)) 
```

希望这可以帮助...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-03T07:19:59.417

根本不要设置。

让它使用分块传输模式，这是默认的。在这种情况下没有 Content-Length 标头。[请参阅此问题](https://stackoverflow.com/q/2595460/207421)下的@BalusC 评论。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-10-07T10:37:26.233

不要设置它并使用分块编码。还要注意**HEAD请求=这些请求应该返回与****GET**相同的内容长度，但不发送实际的正文。*javax.servlet.http.HttpServlet中***HEAD**的默认实现是通过在同一 URL 上调用**GET并忽略所有写入的响应正文（仅计算字符）来完成的 - 请参见以下片段：**

 ***```
protected void doHead(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
    NoBodyResponse response = new NoBodyResponse(resp); // mock response (not writing)
    doGet(req, response); // performs a normal GET request
    response.setContentLength(); // this uses INTEGER counter only
} 
```

问题是内容长度计数器也是整数。所以我建议重载**doHead**方法并且根本不设置内容长度（您可能还想离开**GET**调用以节省生成巨型文件的时间）。***

# ios - 2个ios设备之间的UDP连接

> ID：11466908
> 
> 赞同：0
> 
> 时间：2012-07-13T08:35:04.197
> 
> 标签：ios, udp

我目前正在使用**GCDAsyncUdpSocket**构建一个可以与 UDP 协议通信的应用程序。

我正在测试连接是否适用于这个 iPhone 应用程序“ **UDP_Test** ”>>[应用程序链接](http://itunes.apple.com/kz/app/udp-test/id499559043?mt=8)

当我从我的 iOS 模拟器发送消息时，消息确实出现在我的 iPhone“UDP_Test”应用程序上。但是，当我将我的项目下载到另一部 iPhone 并设置与具有“UDP_Test”应用程序的 iPhone 的连接时，通信不起作用。

然后我尝试使用“UDP_Test”让两部 iPhone 进行通信，但效果不佳。iPad 和 iPhone 也是如此。两个 iOS 设备与 UDP 通信是否有限制？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-16T01:27:23.203

我找到了一种方法。我们必须进入网络设置并选择您的网络。然后转到“HTTP 代理”并选择“手动”，然后输入您的设备要监听的端口，然后它就可以工作了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T09:54:30.513

您的两台设备需要位于 WiFi 网络的同一子网中。

# node.js - 如何在 node.js 中获取系统参数？

> ID：11466909
> 
> 赞同：3
> 
> 时间：2012-07-13T08:35:15.980
> 
> 标签：node.js, command-line-arguments

```
node helloworld.js alex 
```

我希望它控制台.log() 亚历克斯。如何将“alex”作为参数传递到代码中？

在python中，它是`sys.argv[1]`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:39:21.697

`process.argv`您可以使用node.js访问命令行参数。

该数组还包括节点命令和应用程序文件，因此第一个自定义命令行参数的索引 = 2。

```
process.argv[2] === 'alex'; // true 
```

[http://nodejs.org/api/process.html#process_process_argv](http://nodejs.org/api/process.html#process_process_argv)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-01T10:15:59.930

如果您的要求更复杂，并且您可以利用命令行参数解析器，则有多种选择。两个看起来很受欢迎的是

*   [https://www.npmjs.org/package/minimist](https://www.npmjs.org/package/minimist)（简单且极简）
*   [https://www.npmjs.org/package/nomnom](https://www.npmjs.org/package/nomnom)（带有生成的用法和命令的选项解析器）

更多选项可在[如何传递命令行参数？](https://stackoverflow.com/questions/4351521/how-to-pass-command-line-arguments-to-node-js)

# html - CSS：固定定位，右：0px 但不服从最大宽度

> ID：11466911
> 
> 赞同：6
> 
> 时间：2012-07-13T08:35:28.310
> 
> 标签：html, css-position, css

我无法让定位、最大宽度和“正确：0px”和谐地一起工作！我正在创建一个固定在我网站右上角的 div。页面内容的最大宽度为 1000 像素，但是标签仅遵守我的“右：0 像素”规则并坚持向右，一旦达到最大宽度就会不遵守。还应该注意的是，默认情况下，div 在左上角并遵守最大宽度（如果我输入 'left: 0px;' 但它不遵守规则，它会粘在左边）。

CSS：

```
#content {
margin: 0 auto;
max-width: 1000px; }

#div {
width: 150px;
position: fixed;
right: 0px; } 
```

以下是我已经尝试过的一些替代方案：

*   width: 100% (with text-align: right) <--- 不太正确，我不喜欢 100% 的宽度而不是 150px
*   添加代码以在 html 中“手动”定位 div（不是 CSS）
*   我发现 float 和 text-align 不会影响固定定位

非常感谢您的帮助！谢谢你。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-07-13T09:57:33.723

如果我理解正确，[这就是你所追求的](http://jsfiddle.net/Jayx/vFQpX/2/)。

您需要添加一个具有绝对位置的容器以将内容移到右侧，然后使用固定位置的容器将其保持在您需要的右上角。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-01-27T02:06:43.250

如果您不想添加额外的绝对容器，则可以选择

```
#div {
  width: 150px;
  position: fixed;
  right: calc(50% - 500px); /* will move the div as far as 50% of viewport
  then move it back to 500px (that is half of max-width) */
}

/* if needed, you can add media query */
@media (max-width: 1000px) {
  right: 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T09:03:56.167

我让它在[jsfiddle](http://jsfiddle.net/miley/H3B79/)中正常工作。您可能想查看影响该区域的 CSS。如果#content 不是块级元素（不会应用宽度等），您可能会遇到问题。您提供的更多代码将非常有帮助，因此我们确切地知道发生了什么并可以为您提供更多帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-13T09:07:19.510

我想你需要这个：

```
#content {
  margin: 0 auto;
  max-width: 1000px; 
  height:20px;
  background:yellow;
  position: relative;
}
#div {
  width: 150px;
  position: absolute;
  right: 0px;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-13T09:12:34.883

position:fixed 与任何容器都不相关。它相对于 DOM 的 html 元素。这就是为什么无论您对#content 做什么，您都会在极右端看到它。

# iphone - 如何使用 vDSP 函数进行短时傅里叶变换？

> ID：11466915
> 
> 赞同：1
> 
> 时间：2012-07-13T08:35:33.987
> 
> 标签：iphone, fft, vdsp

我试图了解如何将 vDSP 函数用于 STFT。所以我使用苹果示例中的 FFT 代码，我可以得到前 1024 帧的 FFT，但是我怎么能得到下一个 1024 - 2047 帧的 FFT 等等，直到文件结束..（在这种情况下，我想象文件的大小是 int f = 10000)。

```
//vDSP variables
DOUBLE_COMPLEX_SPLIT A;
FFTSetupD setupReal;
uint32_t log2n;
uint32_t n, nOver2;
int32_t  stride;
double *obtainedReal;
double   scale;

log2n = N;
n = 1 << log2n;

stride = 1;
nOver2 = n/2;

int f = 10000;

buffer = malloc(f *sizeof(double));
obtainedReal = malloc(f *sizeof(double));
A.realp = malloc(f *sizeof(double));
A.imagp = malloc(f *sizeof(double));

vDSP_ctozD((DOUBLE_COMPLEX*) buffer, 2, &A, 1, nOver2);
setupReal = vDSP_create_fftsetupD(log2n, FFT_RADIX2);

if (setupReal == NULL) {
    NSLog(@"fft_setup failed to allocate enough memory for real FFT\n");
return 0 ;
    }

vDSP_fft_zripD(setupReal, &A, stride, log2n, FFT_FORWARD);

scale = (double) 1.0 / (2 * n);

vDSP_vsmulD(A.realp, 1, &scale, A.realp, 1, nOver2);
        vDSP_vsmulD(A.imagp, 1, &scale, A.imagp, 1, nOver2);

vDSP_ztocD(&A, 1, (DOUBLE_COMPLEX *) obtainedReal, 2, nOver2); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T14:35:45.307

如果您只是想要接下来 1024 个元素的 FFT，请将 nOver2 添加到 A.realp 和 A.imagp，然后执行另一个 vDSP_fft_zripD 和另一个 vDSP_ztocD。您可能也希望提前获取真实值，否则新结果将覆盖旧结果。

请注意，更改 A.realp 和 A.imagp 会丢失起始地址，因此您将无法释放此内存，除非您在更改 A.realp 和 A.imagp 之前重新计算起始地址或将它们保存在其他位置。

此外，10,000 不是 1024 的整数倍，因此您的最后一部分不会有 1024 个元素，因此您需要找出替代方案，例如获取更多数据或用零填充数据。

您为 A.realp 和 A.imagp 分配了太多内存。它们每个都接收缓冲区中一半的元素，因此它们每个只需要一半的内存。

甚至不需要那么多内存。您可以使用 vDSP_ctozD 仅将 1024 个元素移动到 A.realp 和 A.imagp（各 512 个）中，然后执行 FFT，然后使用 vDSP_ztocD 将数据移动到 gettingReal，然后使用 vDSP_ctozD 移动到下一个组以移动 1024 个新元素将元素放入之前使用的 A.realp 和 A.imagp 中的同一空间。

# php - 通过回显 $_POST vars 的代码注入漏洞？

> ID：11466916
> 
> 赞同：5
> 
> 时间：2012-07-13T08:35:34.630
> 
> 标签：php, code-injection

我想知道我在 fwrite 下面是否有代码注入漏洞？

```
foreach($_POST as $key=>$val) {
    fwrite($fh, "\nPOST variable named " . $key . " has the value " . $val);
} 
```

我应该在将它们写入日志文件之前以某种方式清理这些值吗？

更新。fh 是一个日志文件处理程序

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T08:37:06.033

只要日志文件被其消费者视为纯文本（应该始终如此），就不存在漏洞。

如果您决定将日志文件的未处理内容作为某些 HTML 的一部分输出，那么这将是一个真正的漏洞（可能不会产生非常严重的实际影响，但仍然如此）。但问题在于“其他”代码在 HTML 中显示文本而不调用`htmlspecialchars`，而不是这里的代码只是写日志。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-13T08:38:34.820

那将取决于是什么`$fh`。如果`$fh`是 HTML 文件，您可能会遇到麻烦。如果它是一些文本文件或者外部的任何浏览器都无法访问，则不是真的。

`htmlspecialchars(..)`在 HTML 输出的情况下使用它总是一个好主意。

**更新**：

只要：

*   您的日志文件在其他地方（在 public_html 之外，基本上无法通过浏览器访问）
*   您的网络服务器不会发送`text/html`标头并将其视为普通文本文件（如果可访问）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-07-13T08:40:32.873

这可能是反射 XSS（跨站点脚本）攻击的来源（如果您正在写入提供给用户的 HTML 文件）。您不会受到攻击的伤害，但一些天真的用户会受到伤害。

# ruby-on-rails-3 - 更新到 Rails 3.2.6 或 Rspec 2.11.0 时出现路由错误

> ID：11466917
> 
> 赞同：7
> 
> 时间：2012-07-13T08:35:37.950
> 
> 标签：ruby-on-rails-3, rspec, journey

升级到 Rails 3.2.6 或 Rspec 2.11.0 后，我的规范开始显示如下路由错误：

```
 4) UsersController GET activate activation code not exist 
     Failure/Error: subject{ get :activate }
     ActionController::RoutingError:
       No route matches {:controller=>"users", :action=>"activate"} 
```

每个钩子之后还有一个错误

```
An error occurred in an after(:each) hook
  RSpec::Mocks::MockExpectationError: (#<EmailSubscriber[...]>).update_attributes({:enable=>true})
    expected: 1 time
    received: 0 times
  occurred at [...]/spec/controllers/users_controller_spec.rb:75:in `block (3 levels) in <top (required)>' 
```

开发模式下的应用程序仍然运行良好。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-13T08:35:39.743

Rspec 2.11.0 和 Rails 3.2.6 都使用最新的 Journey gem (1.0.4)。它有一些问题，通过明确地将其锁定到以前的版本，规范错误消失了。

```
gem 'journey', '1.0.3' 
```

**更新**

我最近使用 Journey 1.0.4 将 Rails 更新到 3.2.11，并且所有规范都通过了。我的 Rspec 是 2.11.0 因此不再需要解锁旅程，只需更新 Rails。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-08T18:02:25.410

功能测试中的环境似乎比生产或开发中的环境更严格。

在后两者中，无法事先“知道”参数名称，因为它们是通过查看根据/匹配的路由定义来确定的。

**然而，在测试中，需要***明确地*提供参数名称。这使得环境更加挑剔。

由于这种行为偏离了让 test-env 尽可能与 prod-env 匹配的原则，我认为这是一个错误并相应地提出了问题（[https://github.com/rails/journey/issues/59](https://github.com/rails/journey/issues/59)）。

为了**暂时解决此问题**，请确保您的参数名称与您的路线完全匹配。

我建议添加相应的路线，直到就提交的问题确定结果为止。这样，如果它被认为是一个错误并解决了，你只需要再次删除路由 - 而不是在控制器级别摆弄你的生产逻辑（它已经完美地工作了）。

# java - 如何从tomcat 7中的工作文件夹中删除以前的项目

> ID：11466926
> 
> 赞同：1
> 
> 时间：2012-07-13T08:36:15.133
> 
> 标签：java, tomcat7

我已经在文件夹中部署了一些项目`tomcat7`并将它们`webapps`从`work`文件夹中删除，但是当尝试部署一些新项目时，因为`war` `to webapps`它没有被提取，并且所有以前的项目文件夹都存在于工作文件夹中，这会造成一些问题。

所以请告诉我如何从tomcat7中完全删除旧项目？

引用甚至不存在的文件夹的日志文件

```
 SEVERE: Error starting static Resources
    java.lang.IllegalArgumentException: Document base D:\netbeans_workspace\Servlets-DWR\build\web does not exist or is not a readable directory

Jul 13, 2012 2:38:07 PM org.apache.catalina.core.StandardContext resourcesStart
SEVERE: Error starting static Resources
java.lang.IllegalArgumentException: Document base D:\netbeans_workspace\Servlets-DWR\build\web does not exist or is not a readable directory
        at org.apache.naming.resources.FileDirContext.setDocBase(FileDirContext.java:140)
        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4894)
        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5074)
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)
        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)
        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)
        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:649)
        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1585)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
Jul 13, 2012 2:38:07 PM org.apache.catalina.core.StandardContext startInternal
SEVERE: Error in resourceStart()
Jul 13, 2012 2:38:07 PM org.apache.catalina.core.StandardContext startInternal
SEVERE: Error getConfigured
Jul 13, 2012 2:38:07 PM org.apache.catalina.core.StandardContext startInternal
SEVERE: Context [/Servlets-DWR] startup failed due to previous errors
Jul 13, 2012 2:38:07 PM org.apache.catalina.deploy.NamingResources cleanUp
WARNING: Failed to retrieve JNDI naming context for container [StandardEngine[Catalina].StandardHost
[localhost].StandardContext[/Servlets-DWR]] so no cleanup was performed for that container
javax.naming.NameNotFoundException: Name [comp/env] is not bound in this Context. Unable to find [co
mp].
        at org.apache.naming.NamingContext.lookup(NamingContext.java:820)
        at org.apache.naming.NamingContext.lookup(NamingContext.java:168)
        at org.apache.catalina.deploy.NamingResources.cleanUp(NamingResources.java:977)
        at org.apache.catalina.deploy.NamingResources.stopInternal(NamingResources.java:959)
        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
        at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5483)
        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:160)
        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)
        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)
        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)
        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:649)
        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1585)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
Jul 13, 2012 2:38:07 PM org.apache.catalina.startup.HostConfig deployDescriptor
INFO: Deploying configuration descriptor D:\Servers\apache-tomcat-7.0.27\conf\Catalina\localhost\Sli
ngeLeaveNotifier.xml
Jul 13, 2012 2:38:07 PM org.apache.catalina.core.StandardContext resourcesStart
SEVERE: Error starting static Resources
java.lang.IllegalArgumentException: Document base D:\netbeans_workspace\SlingeLeaveNotifier\build\we
b does not exist or is not a readable directory
        at org.apache.naming.resources.FileDirContext.setDocBase(FileDirContext.java:140)
        at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4894)
        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5074)
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)
        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)
        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)
        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:649)
        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1585)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
Jul 13, 2012 2:38:07 PM org.apache.catalina.core.StandardContext startInternal
SEVERE: Error in resourceStart()
Jul 13, 2012 2:38:07 PM org.apache.catalina.core.StandardContext startInternal
SEVERE: Error getConfigured
Jul 13, 2012 2:38:07 PM org.apache.catalina.core.StandardContext startInternal
SEVERE: Context [/SlingeLeaveNotifier] startup failed due to previous errors
Jul 13, 2012 2:38:07 PM org.apache.catalina.deploy.NamingResources cleanUp
WARNING: Failed to retrieve JNDI naming context for container [StandardEngine[Catalina].StandardHost
[localhost].StandardContext[/SlingeLeaveNotifier]] so no cleanup was performed for that container
javax.naming.NameNotFoundException: Name [comp/env] is not bound in this Context. Unable to find [co
mp].
        at org.apache.naming.NamingContext.lookup(NamingContext.java:820)
        at org.apache.naming.NamingContext.lookup(NamingContext.java:168)
        at org.apache.catalina.deploy.NamingResources.cleanUp(NamingResources.java:977)
        at org.apache.catalina.deploy.NamingResources.stopInternal(NamingResources.java:959)
        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
        at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5483)
        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:160)
        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:895)
        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:871)
        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:615)
        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:649)
        at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1585)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
        at java.util.concurrent.FutureTask.run(FutureTask.java:138)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
Jul 13, 2012 2:38:07 PM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory D:\Servers\apache-tomcat-7.0.27\webapps\docs
Jul 13, 2012 2:38:07 PM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory D:\Servers\apache-tomcat-7.0.27\webapps\examples
Jul 13, 2012 2:38:07 PM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory D:\Servers\apache-tomcat-7.0.27\webapps\host-manager
Jul 13, 2012 2:38:07 PM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory D:\Servers\apache-tomcat-7.0.27\webapps\manager
Jul 13, 2012 2:38:07 PM org.apache.catalina.startup.HostConfig deployDirectory
INFO: Deploying web application directory D:\Servers\apache-tomcat-7.0.27\webapps\ROOT
Jul 13, 2012 2:38:07 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["http-apr-8080"]
Jul 13, 2012 2:38:07 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["ajp-apr-8009"]
Jul 13, 2012 2:38:07 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 4251 ms 
```

问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-17T13:50:00.860

我今天解决了一个类似的问题：

在`tomcatHome/conf/Catalina/localhost`我有两个应用程序 xml 文件。

在每个文件中声明了一个资源：这两个资源具有相同的名称。

我更改了两个资源之一的名称，一切正常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T08:43:49.137

我没有在我的工作计算机上安装 Tomcat7，但我在我的 Tomcat6 中查找。在程序文件夹中应该退出一个 webapps 文件夹，也许还有一个工作文件夹。进入最后一个并搜索您的应用程序。显然，服务器将您的战争文件提取到其中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-07-13T08:50:00.493

在 Tomcat 目录中，您可以找到 conf/context.xml 文件，其中包含在其他位置的部署描述。如果您从 IDE 启动 Tomcat，例如从 Eclipse，您可以在服务器视图中找到应用程序和工作目录的配置。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-07-13T09:07:43.777

跟着这些步骤：

1.  删除`Servlets-DWR.xml`可以在下面找到的文件`tomcatHome/conf/Catalina/localhost`
2.  将你的war文件复制到webapps目录
3.  重启Tomcat

希望这可以帮助！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-07-31T02:59:54.090

我解决了一个类似的问题，因为文件“tomcatHome/conf/Catalina/localhost/app.xml”有一些错误的配置。标签`<Context path="/app1" ......>`，你可以发现路径的内容和我的项目名称不一样。当我更改为相同时，一切正常。

# javascript - Internet Explorer 9 queryCommandValue('backColor') 返回一个数字？

> ID：11466936
> 
> 赞同：0
> 
> 时间：2012-07-13T08:37:10.970
> 
> 标签：javascript, html

我只是在搞乱 contenteditable 属性，在 backColor 命令上使用 queryCommandValue 时，Internet Explorer 9 返回一个数字，而不是像 Chrome 或 Firefox 中的 rgb 或十六进制颜色。

例如在具有背景颜色的随机文本上使用 queryCommandValue: rgb(255, 204, 0); 返回 52479。

[http://jsfiddle.net/Vu7Dk/12/](http://jsfiddle.net/Vu7Dk/12/)

我能做些什么来强制 IE 返回 rgb 颜色？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:57:50.287

尝试用这个函数转换它：

```
function toColor( input ) {
    if( typeof input != "number" ) {
        return input;
    }

    return "rgb(" + (input & 0xFF) + ", " +
                    ((input & 0xFF00) >> 8) + ", " +
                    ((input & 0xFF0000) >> 16 ) + ")";
}
//Usage
toColor(52479);
//"rgb(255, 204, 0)" 
```

演示[http://jsfiddle.net/Vu7Dk/16/](http://jsfiddle.net/Vu7Dk/16/)

# java - 如何使用 JDBC 连接到 Solaris OS 中的 Oracle DB？

> ID：11466940
> 
> 赞同：1
> 
> 时间：2012-07-13T08:37:21.563
> 
> 标签：java, oracle, jdbc, odbc, solaris

我正在尝试编写一个 java 代码来连接到 Oracle9i 企业版 9.2.0.4.0。我的机器是windows XP。Oracle DB OS 是 Solaris 8。我目前所做的是：

```
java.lang.Class.forName("sun.jdbc.odbc.JdbcOdbcDriver"); 
```

我不确定 Oracle DB 的 ODBC 是否使用任何用户名和密码，因为客户端没有向我提供。唯一提供的是 Oracle DB 服务器主机名。但我需要做好准备，以防他们有用户名和密码。所以假设现在我已经有了用户名、密码和主机名。如何使用这些参数进行连接？我需要下载任何 jdbc 驱动程序吗？我应该把它放在哪里？我完全迷失了，因为我没有任何 Solaris 8 和 Oracle 9 可以进行测试。因为根据我的发现，连接字符串/网址因版本、操作系统等而异。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-07-13T08:44:01.783

我强烈建议您直接使用 oracle 驱动程序，而不是使用 ODBC 连接到数据库。您可以从 Oracle 免费下载它 - 它是一个小 jar 文件：[http ://www.oracle.com/technetwork/database/features/jdbc/index-091264.html](http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html)

然后您可以使用以下代码连接到数据库：

```
Connection connection = null;
try {
    // Load the JDBC driver
    String driverName = "oracle.jdbc.driver.OracleDriver";
    Class.forName(driverName);

    // Create a connection to the database
    String serverName = "sun.host.name.or.ip.address";
    String portNumber = "1521";
    String sid = "dbname";
    String url = "jdbc:oracle:thin:@" + serverName + ":" + portNumber + ":" + sid;
    String username = "username";
    String password = "password";
    connection = DriverManager.getConnection(url, username, password);
} catch (ClassNotFoundException e) {
    // Could not find the database driver
} catch (SQLException e) {
    // Could not connect to the database
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-12-27T11:23:32.950

我认为有一个拼写错误。连接字符串的数据库部分应使用斜杠 (/) 而不是冒号 (:) 分隔。对应行的正确代码如下：

... 字符串 url = "jdbc:oracle:thin:@" + serverName + ":" + portNumber + "/" + sid; ...

# .net - LINQ to XML 忽略属性中的换行符

> ID：11466944
> 
> 赞同：7
> 
> 时间：2012-07-13T08:37:23.373
> 
> 标签：.net, xml, c#-4.0, linq-to-xml, xml-attribute

根据这个问题：

[XML 属性值中是否允许换行？](https://stackoverflow.com/questions/449627/are-line-breaks-in-xml-attribute-values-valid)

XML 属性中的换行符是完全有效的（尽管可能不推荐）：

```
<xmltag1>
    <xmltag2 attrib="line 1
line 2
line 3">
    </xmltag2>
</xmltag1> 
```

当我使用 LINQ to XML ( `System.Xml.Linq`) 解析此类 XML 时，这些换行符会默默地转换为空格`' '`字符。

有没有办法告诉`XDocument.Load()`解析器保留这些换行符？

PS：我解析的XML是第三方软件写的，所以无法改变换行符的写法。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-07-13T08:42:33.467

如果要保留属性值中的换行符，则需要使用字符引用来编写它们，例如

```
<foo bar="Line 1.&#10;Line 2.&#10;Line3."/> 
```

否则，根据 XML 规范[http://www.w3.org/TR/xml/#AVNormalize，XML](http://www.w3.org/TR/xml/#AVNormalize)解析器会将它们规范化为空格。

[编辑]如果你想避免属性值规范化，那么加载带有遗留的 XML`XmlTextReader`有助于：

```
 string testXml = @"<foo bar=""Line 1.
Line 2.
Line 3.""/>";

            XDocument test;
            using (XmlTextReader xtr = new XmlTextReader(new StringReader(testXml)))
            {
                xtr.Normalization = false;
                test = XDocument.Load(xtr);
            }
            Console.WriteLine("|{0}|", test.Root.Attribute("bar").Value); 
```

那输出

```
|Line 1.
Line 2.
Line 3.| 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-13T09:16:47.543

# 根据[MSDN](http://msdn.microsoft.com/en-us/library/ms256097.aspx#sectionSectionEFBHA)：

> 尽管 XML 处理器保留元素内容中的所有空白，但它们经常在属性值中对其进行规范化。制表符、回车和空格报告为单个空格。在某些类型的属性中，它们会修剪值主体之前或之后的空白，并将值中的空白减少为单个空格。（如果 DTD 可用，将对所有非 CDATA 类型的属性执行此修剪。）
> 
> 例如，一个 XML 文档可能包含以下内容：
> 
> ```
> <whiteSpaceLoss note1="this is a note." note2="this
> is
> a
> note."> 
> ```
> 
> XML 解析器将两个属性值报告为`"this is a note."`，将换行符转换为单个空格。

我找不到任何关于保留属性空格的信息，但我想根据这个解释可能是不可能的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-13T08:51:17.897

解析时换行符不是空格（不是 ASCII 代码 32）如果您逐步浏览每个字母，您会看到“空格”是 ASCII 代码 10 =LF(LineFeed)(!!) - 所以换行符仍然如果您需要尝试在您的代码中用 ASCII 13 替换它们......（文本框（Windows 窗体）不将 LF 显示为换行符）

# django - django - ImportError：没有名为 modpython 的模块

> ID：11466949
> 
> 赞同：2
> 
> 时间：2012-07-13T08:37:52.017
> 
> 标签：django, apache2, mod-python

我正在尝试在我的虚拟主机上设置 django 并陷入此错误：

```
MOD_PYTHON ERROR

ProcessId:      4496
Interpreter:    'ouiop'

ServerName:     'ouiop.com'
DocumentRoot:   '/var/www/vhosts/ouiop.com/httpdocs'

URI:            '/'
Location:       '/'
Directory:      None
Filename:       '/var/www/vhosts/ouiop.com/httpdocs/'
PathInfo:       ''

Phase:          'PythonHandler'
Handler:        'django.core.handlers.modpython'

Traceback (most recent call last):

  File "/usr/lib/python2.7/dist-packages/mod_python/importer.py", line 1537, in HandlerDispatch
    default=default_handler, arg=req, silent=hlist.silent)

  File "/usr/lib/python2.7/dist-packages/mod_python/importer.py", line 1202, in _process_target
    module = import_module(module_name, path=path)

  File "/usr/lib/python2.7/dist-packages/mod_python/importer.py", line 304, in import_module
    return __import__(module_name, {}, {}, ['*'])

ImportError: No module named modpython 
```

我在网上做了一些研究，看看是否有人有同样的问题，但没有运气解决它：/

这也是我的 vhosts.conf

```
<Location "/">
SetHandler python-program
PythonPath "['/var/www/vhosts/ouiop.com/httpdocs/django_projects'] + sys.path"
PythonHandler django.core.handlers.modpython
SetEnv DJANGO_SETTINGS_MODULE ouiop.settings
PythonDebug On
PythonInterpreter ouiop
</Location>

<Location "/media">
SetHandler None
</Location>

<LocationMatch "\.(jpg|gif|png)$">
SetHandler None
</LocationMatch> 
```

任何帮助表示赞赏

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-27T15:39:49.037

您可能正在使用已停止支持 mod_python 的 Django 1.5

对于切换到 wsgi，请参见[http://library.linode.com/frameworks/django-apache-mod-wsgi/ubuntu-10.04-lucid](http://library.linode.com/frameworks/django-apache-mod-wsgi/ubuntu-10.04-lucid)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T09:34:28.473

你需要 apache 的 mod_python 库

[http://www.modpython.org/](http://www.modpython.org/)

顺便说一句，这已被弃用。您可能应该使用 mod_wsgi

# objective-c - iOS 故事板内存管理

> ID：11466950
> 
> 赞同：2
> 
> 时间：2012-07-13T08:37:58.647
> 
> 标签：objective-c, xcode

我是 iOS 开发的新手，但遇到了困难，我的应用程序运行良好，但是存在内存问题。我创建了多个带有按钮的视图控制器。在 Interface Builder 中，我在按钮和下一个视图之间创建了一个模态 segue。

这一切都很好，但是通过使用工具，我可以看到随着应用程序的移动，内存正在增加，高达 200mb，这似乎会导致崩溃。我猜这是因为应用程序正在加载视图控制器，并且它们的内容保留在设备的内存中并且正在堆积。

我已经尝试将项目转换为 ARC，这似乎没有任何效果，有什么明显的我错过了吗？

任何帮助都会很棒:)

谢谢加里

# mysql - 涉及多列的 MySQL 约束

> ID：11466964
> 
> 赞同：2
> 
> 时间：2012-07-13T08:39:10.493
> 
> 标签：mysql, constraints

我在当前架构为的应用程序中有一个表：

```
CREATE TABLE quotes
(
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  quote_request_id INT UNSIGNED NOT NULL,
  quote_amount DECIMAL(12, 2) NOT NULL,
  accepted TINYINT UNSIGNED NOT NULL DEFAULT 0,
  FOREIGN KEY (quote_request_id) REFERENCES quote_requests(id)
) Engine=InnoDB; 
```

我想强制执行一个约束，使得对于给定的报价请求只能接受一个报价 - 即，如果它尝试修改表以便两个或多个具有相同`quote_request_id`值的行将具有`accepted`值，则 UPDATE 或 INSERT 查询应该失败1.

这在 MySQL 中可能吗？强制执行约束，例如外键、除主键以外的列的唯一性等工作正常，我可以找到有关将 UNIQUE 约束应用于多个列的信息，但我找不到有关涉及多个列的更复杂约束的任何信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-23T08:22:13.387

如果您想在没有触发器的情况下执行此操作，您可以添加另一个表，其中仅存储接受的报价 - 您可以`accepted`从表中删除该列`quotes`：

```
CREATE TABLE quotes
(
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  quote_request_id INT UNSIGNED NOT NULL,
  quote_amount DECIMAL(12, 2) NOT NULL,
  --- accepted TINYINT UNSIGNED NOT NULL DEFAULT 0,             --- removed
  FOREIGN KEY (quote_request_id) REFERENCES quote_requests(id)
  UNIQUE KEY (quote_request_id, id)               --- needed for the FK below
) Engine=InnoDB;

CREATE TABLE quotes_accepted
(
  id INT UNSIGNED NOT NULL PRIMARY KEY,
  quote_request_id INT UNSIGNED NOT NULL,
  UNIQUE KEY (quote_request_id),            --- this ensures there is only one
                                            --- accepted quote per request
  FOREIGN KEY (quote_request_id, id) 
    REFERENCES quotes(quote_request_id, id)
) Engine=InnoDB; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:42:05.350

你的意思是你想要`UNIQUE`这样的：

```
UNIQUE `quote_accepts` (`quote_request_id`, `accepted`) 
```

其中，对于一对重复的`quote_request_id`& `accepted`，`INSERT`将失败。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-23T08:11:58.767

由 a_horse_with_no_name 回答，但在评论中无法接受：

“我认为如果不恢复到 MySQL 中的触发器，这是不可能的，因为 MySQL 不支持部分索引。”

# c# - 为什么我在 App.config 中的 AppSettings 更改没有在运行时考虑？（控制台应用程序）

> ID：11466965
> 
> 赞同：13
> 
> 时间：2012-07-13T08:39:11.807
> 
> 标签：c#, .net, app-config, configurationmanager

我有一个控制台应用程序，它有自己的 App.config。

我需要不时更改部分中的一些值。

我的问题是，当我在 bin/debug 文件夹中执行 exe 时，它​​会正确获取相关的 appsettings。但是当我编辑和更改某些键/值对的值并重新运行 exe 时，它​​仍然会读取原始值。

（通过重新运行，我的意思是通过调用 MyTool.exe 在命令提示符上运行应用程序）

我试着打电话

```
ConfigurationManager.RefreshSection("appSettings"); 
```

在我的 Main 方法的开头。但没有帮助。

你能给些建议么？谢谢

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-07-13T08:41:00.683

> 但是当我编辑和更改某些键/值对的值并重新运行 exe 时，它​​仍然会读取原始值。

取决于您如何重新运行此 exe。如果您在 Visual Studio 中执行此操作，通过点击`F5`，VS 只需将项目中的 app.config 文件复制到输出并将其重命名为`AppName.exe.config`. 因此，如果您希望将您的更改考虑在内，您必须修改`AppName.exe.config`（不是`App.config`），然后从 Windows 资源管理器运行可执行文件。

话虽如此， App.config 只被读取和解析一次。当应用程序启动时。然后缓存这些值，以避免在您的应用程序每次请求某些值时进行昂贵的 XML 解析。

App.config 旨在存储不应更改的配置值。如果您需要动态更改配置值，您应该使用其他一些存储机制：文件、数据库、...

但该`ConfigurationManager.RefreshSection("appSettings");`方法应该有效。修改`AppName.exe.config`文件后，调用此方法，然后重新获取您需要使用的值，该值`ConfigurationManager.AppSettings["someKey"];`应返回新值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-26T19:47:36.540

```
 Configuration config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);
// change ConnectionString in App.Config for Entity FrameWork Object....
 //..... 
config.Save(); 
```

你保存配置文件吗？

# jakarta-ee - 将 SQL 连接语句转换为 JPQL

> ID：11466966
> 
> 赞同：0
> 
> 时间：2012-07-13T08:39:15.787
> 
> 标签：jakarta-ee, jpql

我有 3 个具有以下结构的表。

## 用户

uid 用户名 密码

## 朋友

id uid fid

## 邮政

pid uid 消息

我想查找用户的朋友所做的所有帖子。在 SQL 中，我使用以下语句提取它：

```
SELECT post.* FROM Post 
INNER JOIN Friend f ON f.fid = post.uid 
INNER JOIN User u ON f.uid = u.uid
WHERE u.uid = 1; 
```

如何将其转换为 JPQL？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-13T08:43:31.627

JPQL 查询实体和它们的关联，你还没有描述它们，所以有点难说。但是假设一个帖子有一个多对一和一个朋友，一个朋友有一个多对多和一个用户，查询将是：

```
select post from Post post
inner join post.friend friend
inner join friend.users user
where user.uid = 1 
```

# python - Python替换为重用未知字符串

> ID：11466973
> 
> 赞同：2
> 
> 时间：2012-07-13T08:39:57.293
> 
> 标签：python, replace, capture-group

我有一个 XML，我想在其中重命名一个标记组，如下所示：

```
<string>ABC</string>
<string>unknown string</string> 
```

应该

```
<xyz>ABC</xyz>
<xyz>unknown string</xyz> 
```

ABC 总是一样的，所以这没问题。但是，“未知字符串”总是不同的，但由于我需要提取此信息，我也希望在替换中保留相同的字符串。

这是我到目前为止得到的：

```
 import re
    #open the xml file for reading:
    file = open('path/file','r+')
    #convert to string:
    data = file.read()
    file.write(re.sub("<string>ABC</string>(\s+)<string>(.*)</string>","<xyz>ABC</xyz>[\1]<xyz>[\2]</xyz>",data))
    print (data)
    file.close() 
```

我尝试使用捕获组，但没有正确执行。该字符串在我的 XML 中被替换为奇怪的符号。另外，它被打印了两次。我的 XML 中有未更改的版本和已更改的版本，这是我不想要的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-07-13T08:57:54.030

您遇到的问题不是由于您的正则表达式模式。字符串中的反斜杠 ( `\`) 正在转义正在进行的字符，从而导致您看到*奇怪的符号。*

```
>>> print "hello\1world"
helloworld
>>> print r"hello\1world"
hello\1world 
```

始终使用[原始字符串表示法](http://docs.python.org/library/re.html#raw-string-notation)来定义您的 re 模式。

```
>>> data = """
... <string>ABC</string>
... <string>unknown string</string>
... """
>>> print re.sub(r"<string>ABC</string>(\s+)<string>(.*)</string>",r"<xyz>ABC</xyz>\1<xyz>\2</xyz>",data)

<xyz>ABC</xyz>
<xyz>unknown string</xyz> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-13T08:41:35.227

为什么在替换操作中包含内容？您需要做的就是：

*   替换`<string>`为`<xyz>`。
*   替换`</string>`为`</xyz>`。

这将需要两个操作，但您的代码的意图很明确，您不需要知道是什么`unknown string`。

# sql - 查询以通过 managerID 获取经理姓名

> ID：11466976
> 
> 赞同：1
> 
> 时间：2012-07-13T08:40:07.133
> 
> 标签：sql

我有一个名为 Employee 的表，它的字段为 ID、Name、EmpID、rankID、DeptID 和 managerID。我已将 managerID 设置为 Employee 表的外键，并参考员工表中的 ID。现在我想要一个查询来获取所有员工及其经理信息。“经理信息应该是经理姓名而不是经理ID。”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T08:44:09.507

```
select e1.ID, e1.Name, e1.EmpID, e1.rankID, e1.DeptID, e2.name as managername
from employee e1
left outer join employee e2 on e1.managerID = e2.id 
```

# c - 使用 memcpy 将数据复制到数组中

> ID：11466978
> 
> 赞同：3
> 
> 时间：2012-07-13T08:40:30.657
> 
> 标签：c

```
#include <stdio.h>

int main(){
    int a[4];
    int b[4],i;
    a[0] = 4;
    a[1] = 3;
    a[2] = 2;
    a[3] = 1;
    memcpy(&b, &a, sizeof(a));
    for (i = 0; i < 4; i++){
        printf("b[%d]:%d",i,b[i]);
    }
    printf("%d",sizeof(b));
} 
```

## 回答：

```
b[0]:4b[1]:3b[2]:2b[3]:116
Exited: ExitFailure 2 
```

我得到了正确的答案。但是得到一个异常退出：ExitFailure 2。

这种使用 memcpy 复制数组数据的方式是错误的吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-07-13T08:48:06.190

尝试`return 0;`在`main()`.

省略返回值可能会导致函数返回堆栈垃圾。（这不是 0）

因此，测试应用程序/脚本在看到非零返回值时会抱怨失败。

* * *

在 C99 之前，省略该`return`语句在技术上是未定义的行为。从 C99 开始，`0`如果省略则默认为。

更多细节在这里：[为什么 main 在这里不返回 0？](https://stackoverflow.com/questions/8677672/why-main-does-not-return-0-here)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-07-13T08:52:43.333

**更正：**

不明确返回 0( `return 0;`) 导致`undefined behaviour`之前`C99`。

但是，由于特定寄存器通常用于存储函数的返回值（例如`eax`in `x86`），因此返回该寄存器中的值。

恰好`printf("%d",sizeof(b));`将数组的大小存储在`char`用于从函数返回值的同一寄存器中。

因此，返回值为`2`.

**原答案：**

由于您没有`return 0;`在 main 的末尾声明，因此最后一次`printf`调用被解释为 main 的返回值。

`sizeof(b)`返回`16`字符`2`长，因此程序`2`作为退出代码返回。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-07-13T10:45:32.163

您的 memcpy 语句有问题。

1）您应该将指针传递给数组，而不是将指针传递给
数组的指针。

2）您应该传递数组的大小， sizeof(a) 将仅返回 int 的大小，因此您必须将其与数组的最大索引相乘。

您必须对代码进行少量修改，如下所示，

memcpy(b, a, sizeof(a) * 4);

# java - Spring 身份验证如何工作？

> ID：11466985
> 
> 赞同：1
> 
> 时间：2012-07-13T08:40:43.557
> 
> 标签：java, web-services, spring, spring-security

我一直在尝试制作一个网络服务，它接收用户名和密码并返回某种会话，告诉接收者他们能做什么和不能做什么。

1.  Spring 在哪里以及如何处理会话和权限？
2.  在我的登录表单上，我有

`<form method="POST" action="<c:url value="/j_spring_security_check" />">`

这是做什么的，是否有可能创建一个做同样事情的 Web 服务？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-13T08:49:19.310

我认为您的项目与 spring-security 插件集成。`<c:url value="/j_spring_security_check">`-- 这一行将用户 ID、密码提交给 spring 安全拦截器，后者又决定调用服务或执行 spring-security.xml 文件中提到的任何操作。检查您的 web.xml 文件中的以下代码以进行确认..

```
 <filter-mapping>
      <filter-name>springSecurityFilterChain</filter-name>
      <url-pattern>/*</url-pattern>
    </filter-mapping> 
```

发布您的 spring configuration.xml 文件和 web.xml 以进行更多分析。对于身份验证，为什么要编写 web 服务？有关弹簧安全性的更多信息，请阅读文档[http://static.springsource.org/spring-security/site/](http://static.springsource.org/spring-security/site/)

# ruby - 将带逗号的字符串转换为整数

> ID：11466988
> 
> 赞同：96
> 
> 时间：2012-07-13T08:41:15.140
> 
> 标签：ruby, integer, data-conversion

是否有任何巧妙的方法可以将“1,112”转换为整数 1112，而不是 1？

我有一个，但不整洁：

```
"1,112".split(',').join.to_i #=> 1112 
```

* * *

## 回答 #1

> 赞同：179
> 
> 时间：2012-07-13T08:44:03.290

这个怎么样？

```
 "1,112".delete(',').to_i 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-05-14T13:11:21.023

您可能还想确保您的代码正确本地化，或者确保用户习惯了“国际”表示法。例如，“1,112”实际上表示不同国家的不同数字。在德国，它的意思是比一多一点的数字，而不是一千之类的数字。

相应的 Wikipedia 文章位于[http://en.wikipedia.org/wiki/Decimal_mark](http://en.wikipedia.org/wiki/Decimal_mark)。不过现在好像写得不好。例如作为一个中国人，我不确定这些关于中国千位分隔符的描述来自哪里。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-07-13T08:48:09.520

更方便一些

```
"1,1200.00".gsub(/[^0-9]/,'') 
```

它使“1 200 200”也能正常工作

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-12-12T19:51:40.173

以下是另一种可行的方法，尽管与其他一些方法一样，它会去除小数位。

```
a = 1,112
b = a.scan(/\d+/).join().to_i => 1112 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-01-17T18:52:51.743

我会使用[`String#tr`](http://ruby-doc.org/core-2.1.0/String.html#method-i-tr)：

```
"1,112".tr(',','').to_i # => 1112 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2016-06-01T03:16:01.320

如果有人希望分出的不仅仅是逗号，我喜欢：

```
"1,200".chars.grep(/\d/).join.to_i 
```

不知道性能，但它比 a 更灵活`gsub`，即：

```
"1-200".chars.grep(/\d/).join.to_i 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-07-08T14:20:14.247

```
String count = count.replace(",", ""); 
```

# linux - Git 别名 - 分支名称的命令行自动补全

> ID：11466991
> 
> 赞同：34
> 
> 时间：2012-07-13T08:41:24.633
> 
> 标签：linux, git, autocomplete, alias

如果我运行一个常规的 git 命令，例如当`git checkout`我按下 tab 键时，我会得到有用的分支名称自动补全。

我有一些将分支名称作为参数的 git 别名，我想知道是否有办法让分支名称自动完成功能与它们一起使用？

***编辑：***

只是为了从评论中的讨论中提供一些澄清，具有直接映射的别名可以正常工作，即：

```
ci = commit
co = checkout 
```

它涉及更多，并`$1`用作不涉及的参数，例如：

```
tagarchive = !f() { git tag archive/$1 origin/$1 && git push origin :$1 && git push origin archive/$1 && git branch -d $1; }; f 
```

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-07-13T11:08:15.593

对于 git 别名，git 命令 ( `__git()`) 的自动完成功能使用调用`git config --get "alias.$1"`来确定等效的自动完成功能。这适用于简单的映射，但会阻塞更复杂的别名。

要解决此问题，请定义一个名称与您的别名匹配的自动完成函数，即`_git_tagarchive()`. git 的自动完成功能应该选择它并将其用于自动完成。

例如：

```
[me@home]$ git tagarchive <TAB><TAB>
AUTHORS             gentleSelect/       .gitignore          LICENSE             test_multiple.html  
cron/               .git/               index.html          README.md  
[me@home]$ _git_tagarchive() {
> _git_branch  # reuse that of git branch
> }
[me@home]$ git tagarchive  <TAB><TAB>
enable_multiple          master                   origin/gh-pages          v0.1                     v0.1.3 
FETCH_HEAD               ORIG_HEAD                origin/HEAD              v0.1.1                   v0.1.3.1 
HEAD                     origin/enable_multiple   origin/master            v0.1.2 
```

要获得更持久的解决方案，只需将函数定义添加到您的`bashrc`文件中。例如：

```
_git_tagarchive() 
{
    _git_branch
} 
```

请注意，我只是将自动完成功能重用于`git branch`; 您可能希望将其更改为更合适的内容或编写您自己的内容。

### 更多信息

该解决方案是基于对`/etc/bash_completion.d/git`.

通常，别名 git 命令由`__git_aliased_commands()`解析输出`git config --get "alias.$1"`以决定要使用的自动完成功能的函数处理。可以理解，使用更复杂的 shell 命令作为别名目标会挫败这种方法。

`_git()`进一步看，通过简单地在函数前面加上`_git_`（命令中的破折号（`-`）替换为下划线），它似乎在子命令的自动完成功能中出现了 git ( ) 链的自动完成功能。这是在`__git_aliased_command()`检查之前完成的，所以这是我们可以使用的。

```
_git ()
{ 
   # .....
   local completion_func="_git_${command//-/_}"
   declare -f $completion_func >/dev/null && $completion_func && return

   local expansion=$(__git_aliased_command "$command")
   if [ -n "$expansion" ]; then
       completion_func="_git_${expansion//-/_}"
       declare -f $completion_func >/dev/null && $completion_func
   fi

} 
```

因此，我采用的方法是确保存在与您的别名匹配的函数，即`_git_tagarchive()`.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-08-02T20:18:02.320

2015 年 7 月更新 (Git 2.5)：在`contrib/completion/git-completion.bash`.

请参阅[SZEDER Gábor (](https://github.com/szeder) [)的](https://github.com/szeder)[commit 12bdc88](https://github.com/git/git/commit/12bdc880c793e87b5485a1316a3a0c73ef0f1f83)和[commit e8f9e42](https://github.com/git/git/commit/e8f9e42829ddb966194f0d38443f321113032bb0)（2015 年 5 月 10 日） 。^(（由)^([Junio C Hamano 合并 --](https://github.com/gitster)) ^([--](https://github.com/gitster))^在^([提交 935d937](https://github.com/git/git/commit/935d93764466c52cae7218c13bde93043bd609bd))^(中，2015 年 5 月 22 日）)[`szeder`](https://github.com/szeder)
^([`gitster`](https://github.com/gitster))

~~~~~~~~~~~~~~

Git 补全应该在 Git 2.1（2014 年 8 月）中更好地处理复杂别名。
请参阅[Steffen Prohaska的](https://github.com/sprohaska)[提交 56f24e8](https://github.com/git/git/commit/56f24e80f0af4dd3591c8f143183b59cf9a34620) ( [)](https://github.com/sprohaska)[`sprohaska`](https://github.com/sprohaska)

## 完成：处理“ `!f() { ... }; f`”和“ `!sh -c '...' -`”别名

> ' `!f() { ... }; f`' 和 " `!sh -c '....' -`" 是用于声明更复杂别名的推荐模式（请参阅[git wiki](https://git.wiki.kernel.org/index.php/Aliases)）。
> 这个提交教导完成来处理它们。
> 
> 在确定为别名使用哪个补全时，现在会跳过左大括号或单引号，并继续搜索 git 命令。
> 例如，别名 ' `!f() { git commit ... }`' 或 " `!sh -c 'git commit ...'`" 现在会触发提交完成。
> 之前搜索停在左大括号或引号上，补全尝试判断如何补全，显然没用。
> 
> 现在跳过`null`命令“ `:`”，以便可以将其用作声明所需完成样式的解决方法。
> 
> 例如，别名：

```
!f() { : git commit ; if ... } f
!sh -c ': git commit; if ...' - 
```

> 现在触发提交完成。
> 
> Shell 函数声明现在可以在括号前有或没有空格的情况下工作，即' `!f() ...`' 和 ' `!f () ...`' 都可以工作。

# nuget - 升级到 2.0.1 后推送到 Nuget.Server 失败

> ID：11466995
> 
> 赞同：1
> 
> 时间：2012-07-13T08:41:33.780
> 
> 标签：nuget, nuget-server

我将我们内部使用的 nuget.server 从 1.7 升级到 2.0.1。升级推送停止工作后，看起来它正在工作，但包没有被推送。

在我运行后，`nuget push ...`我收到消息“您的包裹已被推送”。但没有推送任何内容，我也没有收到任何错误消息。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-13T09:09:18.170

这似乎是我安装的 2.0.1 版本的问题。降级到 2.0.0 后一切正常。此外，下载代码并测试 2.1.0 也按预期工作。