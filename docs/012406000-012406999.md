# StackOverflow 问答 12406000-12406999

# ios - 实现 FastPdfKit 注释

> ID：12406005
> 
> 赞同：0
> 
> 时间：2012-09-13T12:14:14.780
> 
> 标签：ios, ipad, pdf, annotations

我正在使用 iOS 中的 pdf 查看器。我的要求是在 pdf 中添加注释。我尝试了 fastpdfkit 试用版。在那我看到了一个名为“FPKAnnotation”的类。

它可以用于我的要求吗..如果可以的话，我如何将注释添加到带有 tht 类的 pdf 中？

我想添加一个便笺图标并向便笺图像添加文本？​​我该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-24T18:23:23.707

> 它可以用于我的要求吗？如果是这样，我如何使用该类将注释添加到 pdf 中？

你不能。FastKitPDF 是 PDF 阅读器工具，而不是 PDF 生成工具。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T11:01:40.353

[在 iPhone SDK 中注释 PDF](https://stackoverflow.com/questions/2313008/annotate-pdf-within-iphone-sdk)

^ 这是一种不同的方式，但如果你想坚持使用 fastpdfkit

[http://support.fastpdfkit.com/kb/how-to/multimedia-overlays](http://support.fastpdfkit.com/kb/how-to/multimedia-overlays) 那是使用 fastpdfkit 进行注释的教程

：） 希望这可以帮助 ：]

# iphone - 设备上 iPhone kccparamerror 中的 AES 加密

> ID：12406010
> 
> 赞同：2
> 
> 时间：2012-09-13T12:14:39.820
> 
> 标签：iphone, ios, cryptography, aes, security-framework

我正在加密像图像文件这样的大文件（可能有任何大小 - 从一些 KB 到大 MB）。我正在使用以下代码进行加密，这在 iPhone Simulator 5.1 上运行良好：

```
+ (NSData *)encryptedDataForData:(NSData *)data key:(NSData *)key error:(NSError **)error {
   size_t outLength;
   NSMutableData * cipherData = [NSMutableData dataWithLength:data.length + kCCBlockSizeAES128];
   CCCryptorStatus result = CCCrypt(kCCEncrypt,
                 kCCAlgorithmAES128, 
                 kCCOptionPKCS7Padding, 
                 key.bytes, 
                 key.length, 
                 NULL,
                 data.bytes, 
                 data.length, 
                 cipherData.mutableBytes,
                 cipherData.length, 
                 &outLength); 

   if (result == kCCSuccess) {
       cipherData.length = outLength;
   } 
   else {

    NSLog(@"errorcode: %d", result);

    return nil;
}

   return cipherData;
} 
```

但是，当我使用相同的代码加密设备上的某些图像时 - iPhone 5.1.1，

这种加密给了我一个 kCCaramError (-4300)。我在模拟器中有相同的值 - 但它在那里工作正常。请问有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:01:42.263

我使用了错误的密钥。

我的密钥由 42 个字符组成。

相反，它应该有 24 个字符。（使用密钥 = 123456789012345678901234 有效）。

# c# - FillContains 方法的奇怪行为

> ID：12406013
> 
> 赞同：2
> 
> 时间：2012-09-13T12:14:48.883
> 
> 标签：c#, .net, wpf, geometry

我正在尝试使用 Geometry 类中的 fillContains 方法来检测geometry1 是否在geometry2 内，但是当geometry1 放置在第一个几何图形的右侧或底部边缘时出现问题。这是一个很奇怪的结果：

```
var rect = new Rect(new Point(0, 0), new Point(100, 100));
RectangleGeometry geometry1 = new RectangleGeometry(rect);

var rect2 = new Rect(new Point(0, 0), new Size(10, 10));
RectangleGeometry geometry2 = new RectangleGeometry(rect2);

var rect3 = new Rect(new Point(90, 90), new Size(10, 10));
RectangleGeometry geometry3 = new RectangleGeometry(rect3);

var rect4 = new Rect(new Point(90, 80), new Size(10, 10));
RectangleGeometry geometry4 = new RectangleGeometry(rect4);

Assert.True(geometry1.FillContains(geometry2));
Assert.True(geometry1.FillContains(geometry3));
Assert.True(geometry1.FillContains(geometry4)); // Assertion failed 
```

你能帮我如何正确地做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:50:37.187

这可能与公差有关……或几何相交算法内部的某些东西……也许他们正在以某种方式缩放值……这取决于您使用的可能导致相交检查的值得出意想不到的结果（例如，当点为 90、80 时）。

我已经稍微扩展了您的代码，以显示有关 2 个几何图形如何相交的更多详细信息，并希望可以用来确定原因。

```
 var rect = new Rect(new Point(0, 0), new Point(100, 100));
    RectangleGeometry geometry1 = new RectangleGeometry(rect);

    var rect2 = new Rect(new Point(0, 0), new Size(10, 10));
    RectangleGeometry geometry2 = new RectangleGeometry(rect2);

    var rect3 = new Rect(new Point(90, 90), new Size(10, 10));
    RectangleGeometry geometry3 = new RectangleGeometry(rect3);

    var rect4 = new Rect(new Point(90, 80), new Size(10, 10));
    RectangleGeometry geometry4 = new RectangleGeometry(rect4);

    var rect4fits = new Rect(new Point(90, 80), new Size(9, 10));
    RectangleGeometry geometry4fits = new RectangleGeometry(rect4fits);

    double tolerance = 0.25; // same as standard flattening tolerance
    ToleranceType tolerancetype = ToleranceType.Relative;

    var bcontains2 = geometry1.FillContains(geometry2);
    var bcontainsdetail2 = geometry1.FillContains(geometry2, tolerance, tolerancetype);
    var detail2 = geometry1.FillContainsWithDetail(geometry2);
    var detailtolerance2 = geometry1.FillContainsWithDetail(geometry2, tolerance, tolerancetype);

    var bcontains3 = geometry1.FillContains(geometry3);
    var bcontainsdetail3 = geometry1.FillContains(geometry3, tolerance, tolerancetype);
    var detail3 = geometry1.FillContainsWithDetail(geometry3);
    var detailtolerance3 = geometry1.FillContainsWithDetail(geometry3, tolerance, tolerancetype);

    var bcontains4 = geometry1.FillContains(geometry4);
    var bcontainsdetail4 = geometry1.FillContains(geometry4, tolerance, tolerancetype);
    var detail4 = geometry1.FillContainsWithDetail(geometry4);
    var detailtolerance4 = geometry1.FillContainsWithDetail(geometry4, tolerance, tolerancetype);

    var bcontains4fits = geometry1.FillContains(geometry4fits);
    var bcontainsdetail4fits = geometry1.FillContains(geometry4fits, tolerance, tolerancetype);
    var detail4fits = geometry1.FillContainsWithDetail(geometry4fits);
    var detailtolerance4fits = geometry1.FillContainsWithDetail(geometry4fits, tolerance, tolerancetype); 
```

# iphone - 带有 cameraOverlayView 的 ImagePickerController 未添加到 ViewController 的视图中

> ID：12406015
> 
> 赞同：1
> 
> 时间：2012-09-13T12:14:52.723
> 
> 标签：iphone, ios5, uiimagepickercontroller, camera-overlay

我正在尝试在其上呈现`UIImagePickerController`带有叠加视图的视图。我正在将`OverlayViewController's`视图作为子视图添加到`ViewController`. 但是当我将应用程序转储到设备中时，它会显示一个空白屏幕。

**我的代码在这里：**

视图控制器.m

```
@interface ViewController ()

@property (nonatomic, retain) OverlayViewController *overlayViewController;

@end

@implementation ViewController

- (void)viewDidLoad
{ 
[super viewDidLoad];

self.overlayViewController =
[[[OverlayViewController alloc] initWithNibName:@"OverlayViewController" bundle:nil] autorelease];

// as a delegate we will be notified when pictures are taken and when to dismiss the image picker
self.overlayViewController.delegate = self;

if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera])
{
    [self.overlayViewController setupImagePicker:UIImagePickerControllerSourceTypeCamera];
    [self presentModalViewController:self.overlayViewController.imagePickerController animated:YES];
}

// Do any additional setup after loading the view, typically from a nib.
} 
```

OverlayViewController.m

```
@interface OverlayViewController ()
@property (nonatomic, retain) IBOutlet UIButton *Capture;
@property (nonatomic, retain) IBOutlet UIButton *Library;
@property (nonatomic, retain) IBOutlet UIButton *ZoomOut;
@property (nonatomic, retain) IBOutlet UIButton *FrontCam;
@property (nonatomic, retain) IBOutlet UISlider *zoom;

@end

@implementation OverlayViewController
@synthesize delegate;
- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
if (self) {
    // Custom initialization

    self.imagePickerController = [[UIImagePickerController alloc] init];

    self.imagePickerController.delegate = self;

}
return self;
}

- (void)dealloc
{

[_imagePickerController release];

[super dealloc];
}

- (void)setupImagePicker:(UIImagePickerControllerSourceType)sourceType
{
self.imagePickerController.sourceType = sourceType;

if (sourceType == UIImagePickerControllerSourceTypeCamera)
{
    // user wants to use the camera interface
    //
    self.imagePickerController.showsCameraControls = NO;

    if ([[self.imagePickerController.cameraOverlayView subviews] count] == 0)
    {
        // setup our custom overlay view for the camera
        //
        // ensure that our custom view's frame fits within the parent frame
       CGRect overlayViewFrame = self.imagePickerController.cameraOverlayView.frame;

        NSLog(@"Overlay view Frame heidgt is %f and width is %f", self.imagePickerController.cameraOverlayView.frame.size.height,self.imagePickerController.cameraOverlayView.frame.size.width);

        CGRect newFrame = CGRectMake(0.0, 20.0, 320.0, 480.0);

        NSLog(@"Overlay view Frame heidgt is %f and width is %f", self.view.frame.size.height,self.view.frame.size.width);

        self.view.frame = newFrame;

        [self.imagePickerController.cameraOverlayView addSubview:self.view];

    }
}
} 
```

我已经从[https://developer.apple.com/library/ios/#samplecode/PhotoPicker/Introduction/Intro.html#//apple_ref/doc/uid/DTS40010196](https://developer.apple.com/library/ios/#samplecode/PhotoPicker/Introduction/Intro.html#//apple_ref/doc/uid/DTS40010196)下载了示例代码来执行此操作。

我想展示一个带有一些控件（捕获按钮、闪光按钮......等）的自定义视图。我怎样才能做到这一点..？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-01-17T03:11:10.057

只需放置

```
self.backgroundColor = [UIColor clearColor];
self.opaque = NO; 
```

在`initWithFrame`你的方法中`overlayView`，并使用它：

```
CGRect crossFrame = CGRectMake(self.view.bounds.size.width/2.0-50, self.view.bounds.size.height/2.0-50, 100, 100);
UIView *crosshairView = [[BNRCameraCrosshair alloc]initWithFrame:crossFrame];
imagePicker.cameraOverlayView = crosshairView; 
```

# javascript - 动态更改 SlickGrid 单元格样式

> ID：12406022
> 
> 赞同：0
> 
> 时间：2012-09-13T12:15:21.960
> 
> 标签：javascript, slickgrid

```
grid.setCellCssStyles("birthday_highlight", {
    0: {
        birthday: "highlight", 
        age: "highlight" 
    },

    9: {
        birthday: "highlight",
        age: "highlight"
    }
}) 
```

在上面的代码中，我们可以传递任何动态变量而不是 0 和 9 数字，即，如果我想通过单击特定单元格来更改任何单元格的样式，是否可以更改特定的单元格样式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T12:04:24.877

这不是关于`Slickgrid`，而是关于`JS`- 创建一个对象并将其传递给`setCellCssStyles`：

```
var cellStyle = {};

cellStyle[rowNum] = {}; // <- your particular cell in a row with number rowNum
cellStyle[rowNum]["birthday"] = "highlight";
grid.setCellCssStyles("birthday_highlight", cellStyle); 
```

# c# - Loading associated entities in one query

> ID：12406025
> 
> 赞同：2
> 
> 时间：2012-09-13T12:15:41.257
> 
> 标签：c#, dynamics-crm-2011

I have the following code which works but I believe it is performing multiple look ups just to get the "Account" entity that is associated with my custom "Project" entity.

Is it possible to specify which associated entities you would like populated without having to loop through the initial result set?

```
 public IList<new_project> GetAssociatedProjectsByPostcode(string postcode)
    {
        FilterExpression filter = new FilterExpression();
        filter.FilterOperator = LogicalOperator.And;
        filter.AddCondition(new ConditionExpression("new_project_zippostalcode", ConditionOperator.Equal, postcode));

        QueryExpression query = new QueryExpression();
        query.EntityName = new_project.EntityLogicalName;
        query.ColumnSet = new ColumnSet(true);
        query.Criteria = filter;

        OrganizationServiceCache serviceCache = new OrganizationServiceCache(MemoryCache.Default, base.CrmConnection);

        using (CachedOrganizationService service = new CachedOrganizationService(CrmConnection, serviceCache))
        using (XrmServiceContext xrmServiceContext = new XrmServiceContext(service))
        {
             //Run the query to return the project entities in a list
             IList<new_project> projects = service.RetrieveMultiple(query)
                                            .Entities
                                            .Select(item => item.ToEntity<new_project>())
                                            .ToList<new_project>();

             //Define the relationships we want populated
             Relationship accountRel = new Relationship("new_account_new_project");

             //We cannot call load property with tracking turned on 
             xrmServiceContext.MergeOption = MergeOption.NoTracking;

             //Loop through the original list and get our associations
             foreach (new_project np in projects)
                 xrmServiceContext.LoadProperty(np, accountRel);

             return projects;
        }            
    } 
```

Is it possible to produce the equivalent with the ServiceContext?

```
Select Project.Name, Account.Name
From Project
Join Account ON Account.Id = Project.AccountId 
```

**EDIT :**

After using the link entities as described by James below I now have the following which produces an entity collection with projects and accounts populated in one query but I cannot transfer this flat dataset into the hierarchical object structure.

```
 public IList<new_project> GetAssociatedProjectsByPostcode(string postcode)
    {
        FilterExpression filter = new FilterExpression();
        filter.FilterOperator = LogicalOperator.And;
        filter.AddCondition(new ConditionExpression("new_project_zippostalcode", ConditionOperator.BeginsWith, PostcodeUtility.RegionFromPostcode(postcode)));

        QueryExpression query = new QueryExpression();
        query.EntityName = new_project.EntityLogicalName;
        query.ColumnSet = new ColumnSet(true);
        query.Criteria = filter;

        query.LinkEntities.Add(new LinkEntity(new_project.EntityLogicalName, Account.EntityLogicalName, "new_associatedaccountid", "accountid", JoinOperator.Inner));
        query.LinkEntities[0].Columns = new ColumnSet(true);
        query.LinkEntities[0].EntityAlias = Account.EntityLogicalName;

        OrganizationServiceCache serviceCache = new OrganizationServiceCache(MemoryCache.Default, base.CrmConnection);

        using (CachedOrganizationService service = new CachedOrganizationService(CrmConnection, serviceCache))
        using (XrmServiceContext xrmServiceContext = new XrmServiceContext(service))
        {
            EntityCollection ec = service.RetrieveMultiple(query);

            //*****************************************************************
            //The entity collection is now populated with the accounts but they
            //are just additional key value pairs
            //e.g. (String)((AliasedValue)ec[0]["account.name"]).Value;
            //*****************************************************************

            //Turn the entity collection into our class structure
            IList<new_project> projects = ec.Entities
                                           .Select(item => item.ToEntity<new_project>())
                                           .ToList<new_project>();
            return projects;
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T19:21:14.310

是的，这应该很简单，你有几个选择。

1.  FetchXml，这是一种 xml 语法，类似于 tsql 的方法，它不具备所有功能，但您可以使用[MSDN](http://msdn.microsoft.com/en-gb/library/gg328117.aspx)`link-entity`中所示的方式进行连接。

2.  `QueryExpression`, 有一个`LinkEntities`可以像这个[MSDN](http://msdn.microsoft.com/en-gb/library/gg328149.aspx)一样使用的属性。

3.  您可以发出一个`RetrieveRequest`，填充[这里](http://woodsworkblog.wordpress.com/2012/07/27/querying-crm-relationships/)`RelatedEntitiesQuery`显示的。

* * *

**编辑**

因此，实体集合看起来像是返回了我期望的结果（例如这些帐户的帐户和值）-我认为 typeof(ec[0]) 是实体？

所以它只是转换为错误的早期界限。

我没有用过很多 linq 来进行 crm，所以我开始猜测，但是从这个[例子](http://msdn.microsoft.com/en-us/library/gg334754.aspx)来看。

您可能只需要：

1.  EnableProxyTypes 在您的服务上，显然这是完整的早期绑定支持所必需的。
2.  将实体转换为您的早期绑定类型。

例如（来自示例）：

```
_serviceProxy.EnableProxyTypes();

Account retrievedAccount = (Account)_serviceProxy.Retrieve("account", _accountId, cols);

retrievedAccount.Address1_PostalCode = "98052"; 
```

Retrieve 只返回一个实体（EntityCollection.Entities 的类型），并且强制转换似乎在这里工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-20T20:40:02.003

[编辑自 James Wood 的评论... 您可以使用Retrieve Request](http://woodsworkblog.wordpress.com/2012/07/27/querying-crm-relationships/)检索实体的子实体子实体。您必须拥有父实体的 GUID 才能使其正常工作...另一方面，您可以通过将列添加到链接实体的列集合来包含子实体的值。您可以指定别名或只接受默认名称。

我已经广泛使用这些扩展方法来访问父实体的别名值：

```
 // This needs to be placed in a public static class and it's namespace added as a using to whatever class you'd like to use it in

    /// <summary>
    /// Returns the Aliased Value for a column specified in a Linked entity
    /// </summary>
    /// <typeparam name="T">The type of the aliased attribute form the linked entity</typeparam>
    /// <param name="entity"></param>
    /// <param name="attributeName">The aliased attribute from the linked entity.  Can be preappeneded with the
    /// linked entities logical name and a period. ie "Contact.LastName"</param>
    /// <returns></returns>
    public static T GetAliasedValue<T>(this Entity entity, string attributeName)
    {
        string aliasedEntityName = SplitAliasedAttributeEntityName(ref attributeName);

        AliasedValue aliased;
        foreach (var attribute in entity.Attributes.Values)
        {
            aliased = attribute as AliasedValue;
            if(entity.IsAttributeAliasedValue(attributeName, aliasedEntityName, aliased))
            {
                try
                {
                    return (T)aliased.Value;
                }
                catch (InvalidCastException)
                {
                    throw new InvalidCastException(
                        String.Format("Unable to cast attribute {0}.{1} from type {2} to type {3}",
                                aliased.EntityLogicalName, aliased.AttributeLogicalName,
                                typeof(T).Name, aliased.Value.GetType().Name));
                }
            }
        }

        throw new Exception("Aliased value with attribute " + attributeName +
            " was not found!  Only these attributes were found: " + String.Join(", ", entity.Attributes.Keys));
    }

    /// <summary>
    /// Returns the Aliased Value for a column specified in a Linked entity, returning the default value for 
    /// the type if it wasn't found
    /// </summary>
    /// <typeparam name="T">The type of the aliased attribute form the linked entity</typeparam>
    /// <param name="entity"></param>
    /// <param name="attributeName">The aliased attribute from the linked entity.  Can be preappeneded with the
    /// linked entities logical name and a period. ie "Contact.LastName"</param>
    /// <returns></returns>
    public static T GetAliasedValueOrDefault<T>(this Entity entity, string attributeName)
    {
        T value;
        if (entity.HasAliasedAttribute(attributeName))
        {
            value = entity.GetAliasedValue<T>(attributeName);
        }
        else
        {
            value = default(T);
        }
        return value;
    }

    private static bool IsAttributeAliasedValue(this Entity entity, string attributeName, string aliasedEntityName, AliasedValue aliased)
    {
        bool value =
       (aliased != null &&
            (aliasedEntityName == null || aliasedEntityName == aliased.EntityLogicalName) &&
            aliased.AttributeLogicalName == attributeName);

        /// I believe there is a bug in CRM 2011 when dealing with aggregate values of a linked entity in FetchXML.
        /// Even though it is marked with an alias, the AliasedValue in the Attribute collection will use the 
        /// actual CRM name, rather than the aliased one, even though the AttributeCollection's key will correctly
        /// use the aliased name.  So if the aliased Attribute Logical Name doesn't match the assumed attribute name
        /// value, check to see if the entity contains an AliasedValue with that key whose attribute logical name 
        /// doesn't match the key (the assumed bug), and mark it as being the aliased attribute
        if (!value && aliased != null && entity.Contains(attributeName))
        {
            var aliasedByKey = entity[attributeName] as AliasedValue;
            if (aliasedByKey != null && aliasedByKey.AttributeLogicalName != attributeName && 
                Object.ReferenceEquals(aliased, aliasedByKey))
            {
                value = true;
            }
        }

        return value;
    }

    /// <summary>
    /// Returns the Aliased Value for a column specified in a Linked entity
    /// </summary>
    /// <typeparam name="T">The type of the aliased attribute form the linked entity</typeparam>
    /// <param name="entity"></param>
    /// <param name="attributeName">The aliased attribute from the linked entity.  Can be preappeneded with the
    /// linked entities logical name and a period. ie "Contact.LastName"</param>
    /// <returns></returns>
    public static bool HasAliasedAttribute(this Entity entity, string attributeName)
    {
        string aliasedEntityName = SplitAliasedAttributeEntityName(ref attributeName);
        return entity.Attributes.Values.Any(a =>
            entity.IsAttributeAliasedValue(attributeName, aliasedEntityName, a as AliasedValue));
    }

    /// <summary>
    /// Handles spliting the attributeName if it is formated as "EntityAliasedName.AttributeName",
    /// updating the attribute name and returning the aliased EntityName
    /// </summary>
    /// <param name="attributeName"></param>
    /// <param name="aliasedEntityName"></param>
    private static string SplitAliasedAttributeEntityName(ref string attributeName)
    {
        string aliasedEntityName = null;
        if (attributeName.Contains('.'))
        {
            var split = attributeName.Split(new char[] { '.' }, StringSplitOptions.RemoveEmptyEntries);
            if (split.Length != 2)
            {
                throw new Exception("Attribute Name was specified for an Alaised Value with " + split.Length +
                " split parts, and two were expected.  Attribute Name = " + attributeName);
            }
            aliasedEntityName = split[0];
            attributeName = split[1];
        }

        return aliasedEntityName;
    } 
```

# ruby-on-rails - 获取十进制数的小数部分

> ID：12406032
> 
> 赞同：30
> 
> 时间：2012-09-13T12:16:05.270
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我正在尝试在rails中获取十进制数的一小部分。例如，我有一个数字，即“1.23”，我想得到“23”。这可能太容易了，但是，有人知道我该怎么做吗？

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-09-13T12:21:35.973

尝试使用模法：

```
1.23.modulo(1) => 0.23 
```

在这里阅读更多：[http ://www.ruby-doc.org/core-1.9.3/Numeric.html#method-i-modulo](http://www.ruby-doc.org/core-1.9.3/Numeric.html#method-i-modulo)

或者您可以将浮点数转换为整数并从原始浮点值中减去它。

```
1.23 - 1.23.to_i => 0.23 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-09-13T12:21:48.743

我不确定这是否是最简单的方法 - 但您可以使用“。”简单地拆分数字。性格——像这样：

```
number = 1.23
parts = number.to_s.split(".")
result = parts.count > 1 ? parts[1].to_s : 0 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2012-09-13T12:21:02.353

```
n = 1.23

n.modulo(1)
=> 0.22999999999999998

n - n.to_i
=> 0.22999999999999998 
```

推荐阅读[http://floating-point-gui.de/](http://floating-point-gui.de/)

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2015-04-30T16:35:42.470

如果你知道你想要的精度，这可能比 to_s 解决方案快一点。

```
1.1234.modulo(1).round(4) #0.1234 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2015-11-13T01:16:38.740

决定正确的解决方案需要了解您正在使用的类型。如果您的值是 Float（Ruby 中非整数的标准类型），那么逻辑上正确的答案`mod(1)`可能会因[浮点错误](https://stackoverflow.com/questions/2100490/floating-point-inaccuracy-examples)而产生意外结果。对于 Float 是首先要使用的正确数据类型的任何情况，这可能是可以接受的。

如果浮点错误是*不可接受*的，请不要使用`Float`! Ruby 附带了一个很棒的[`BigDecimal`](http://ruby-doc.org/stdlib-1.9.3/libdoc/bigdecimal/rdoc/BigDecimal.html)类，它以性能为代价更加准确，语法也更加冗长。

```
decimal = BigDecimal.new("1.23")
decimal.frac #=> 0.23 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2018-09-12T13:36:00.000

> ...“1.23”，我想得到“23”。

只需删除整数部分并乘以每 100。

```
((number - number.to_i) * 100).to_i 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2014-12-29T06:15:56.843

```
 a=1.23 #value of a will be 1.23
 a=a-a.to_i #value of a will be 0.23 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-02-25T03:46:08.227

在尝试了一切之后......我觉得最好的答案是`(num - num.to_i).abs`因为它也适用于负数。

例如

(1.23 - 1.23.to_i).abs = 0.23

(-1.23 - -1.23.to_i).abs = 0.23

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-04-26T06:28:24.637

我们可以通过多种方式实现输出`modulo`是其中之一

`1.23.modulo(1) => 0.22999999999999998`

您可以根据自己的方便对结果进行四舍五入

但要实现您在问题中提出的要求

我将遵循一个非常简单的方法

```
value = 1.23.to_s.split('.') -> ["1", "23"]
value.last.to_i -> "23" 
```

# silverlight - How to do the unit testing for the simple silverlight application

> ID：12406038
> 
> 赞同：0
> 
> 时间：2012-09-13T12:16:24.130
> 
> 标签：silverlight, unit-testing, selenium, nunit

I am having simple Calculator application. In this i have one Method. I don't know how to test that method nu? Can you please any one help me.

Thanks in advance

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T15:56:53.270

Silverlight 工具包中包含一个 Silverlight 单元测试框架，可[在此处](http://silverlight.codeplex.com/)获得。可以在[此处](http://archive.msdn.microsoft.com/silverlightut/)找到有关单元测试框架的更多信息。

我自己经常使用的另一种方法是将非 UI Silverlight 代码分离到例如可从 Silverlight 应用程序以及常规 .NET 应用程序或 WP7 应用程序引用的可[移植类库中。](http://visualstudiogallery.msdn.microsoft.com/b0e0b5e9-e138-410b-ad10-00cb3caf4981/)然后我创建一个普通的[NUnit](http://nunit.com/) .NET Framework 测试库来对我的可移植类库的组件进行单元测试。

# mysql - 从 mysql 中的查询创建视图 - mysql 不允许创建视图

> ID：12406040
> 
> 赞同：0
> 
> 时间：2012-09-13T12:16:35.653
> 
> 标签：mysql, view, subquery

我正在尝试从我的查询中创建视图，这样：

```
CREATE VIEW v_test
(
OS_ID,
OS_IMIE,
KO_SYMBOL,
OS_NAZWISKO,
OS_SYGNATURA_APS,
UP_DATA_WAZNOSCI_SZKOLENIA,
UP_WAZNOSC_SZKOLENIA_DNI,
UP_DATA_SZKOLENIA,
KT_ID,
KT_DZIEDZINA
)
AS
SELECT
a.OS_ID,
a.OS_IMIE,
a.KO_SYMBOL,
a.OS_NAZWISKO,
a.OS_SYGNATURA_APS,
b.UP_DATA_WAZNOSCI_SZKOLENIA,
b.UP_WAZNOSC_SZKOLENIA_DNI,
b.UP_DATA_SZKOLENIA,
b.KT_ID,
b.KT_DZIEDZINA

FROM (SELECT
      v_ra_osoby_uprawnione.OS_ID,
      v_ra_osoby_uprawnione.KO_SYMBOL,
      v_ra_osoby_uprawnione.OS_NAZWISKO,
      v_ra_osoby_uprawnione.OS_IMIE,
      v_ra_osoby_uprawnione.OS_SYGNATURA_APS,
      v_ra_osoby_uprawnione.OS_EMAIL,
      v_ra_osoby_uprawnione.OS_UZYTKOWNIK
      FROM v_ra_osoby_uprawnione AS v_ra_osoby_uprawnione) AS a INNER JOIN (SELECT
      v_ra_uprawnienia.UP_ID,
      v_ra_uprawnienia.OS_ID,
      v_ra_uprawnienia.UP_NR_POSWIADCZENIA,
      v_ra_uprawnienia.UP_DATA_WAZNOSCI_KLAUZULI,
      v_ra_uprawnienia.UP_DATA_WYDANIA_POSWIADCZENIA,
      v_ra_uprawnienia.UP_NR_ZASWIADCZENIA_O_SZKOLENIU,
      v_ra_uprawnienia.UP_DATA_SZKOLENIA,
      v_ra_uprawnienia.UP_DATA_WAZNOSCI_SZKOLENIA,
      v_ra_uprawnienia.UP_DATA_WAZNOSCI_SZKOLENIA - CURDATE() as UP_WAZNOSC_SZKOLENIA_DNI,
      v_ra_uprawnienia.KT_ETYKIETA,
      v_ra_uprawnienia.KT_DZIEDZINA,
      v_ra_uprawnienia.KT_ID,
      v_ra_uprawnienia.SCISLE_TAJNE,
      v_ra_uprawnienia.TAJNE,
      v_ra_uprawnienia.POUFNE,
      v_ra_uprawnienia.ZASTRZEZONE
      FROM v_ra_uprawnienia AS v_ra_uprawnienia) AS b ON b.OS_ID = a.OS_ID 
```

但是mysql不允许创建视图，错误码是：SQL Error: View's SELECT contains a subquery in the FROM clause

我想避免为每个子查询创建视图。在这种情况下，是否可以通过将我的查询重写为没有子查询的等价物来创建单个视图？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:21:03.970

> 在这种情况下，是否可以通过将我的查询重写为没有子查询的等价物来创建单个视图？

是的：

```
CREATE VIEW v_test AS
SELECT a.OS_ID,
       a.OS_IMIE,
       a.KO_SYMBOL,
       a.OS_NAZWISKO,
       a.OS_SYGNATURA_APS,
       b.UP_DATA_WAZNOSCI_SZKOLENIA,
       b.UP_DATA_WAZNOSCI_SZKOLENIA - CURDATE() AS UP_WAZNOSC_SZKOLENIA_DNI,
       b.UP_DATA_SZKOLENIA,
       b.KT_ID,
       b.KT_DZIEDZINA
FROM   v_ra_osoby_uprawnione a JOIN v_ra_uprawnienia b USING (OS_ID) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:23:33.123

为什么要使用子查询？

您的查询仅适用于联接

```
SELECT
    a.OS_ID,
    a.OS_IMIE,
    a.KO_SYMBOL,
    a.OS_NAZWISKO,
    a.OS_SYGNATURA_APS,
    b.UP_DATA_WAZNOSCI_SZKOLENIA,
    b.UP_WAZNOSC_SZKOLENIA_DNI - CURDATE() as UP_WAZNOSC_SZKOLENIA_DNI
    b.UP_DATA_SZKOLENIA,
    b.KT_ID,
    b.KT_DZIEDZINA

    FROM v_ra_osoby_uprawnione AS a 
    INNER JOIN v_ra_uprawnienia AS b ON b.OS_ID = a.OS_ID 
```

尝试用这个创建视图

# c++ - 带有 VS C++ 2008 编译器的 Qt 创建器中的 Pantheios

> ID：12406045
> 
> 赞同：1
> 
> 时间：2012-09-13T12:16:55.893
> 
> 标签：c++, qt, visual-studio-2008, qt-creator, pantheios

我无法使用**VS2008 C++ 编译器在****Qt Creator**（使用 VS2008 编译器从源代码编译的创建者 2.5.2 + SDK 4.8.2 ）中使用**Pantheios**（版本 1.0.1-beta210）记录器编译我的项目。但它适用于 Visual Studio 2008！

 ****1.  首先，我编译了 Pantheios 库，因为它应该使用 VS 命令行和带有路径的 nmake`pantheios_path\build\vc9\`

2.  然后我用VS2008和Qt Addin编写了一个简单的Qt程序，它工作正常：

    ```
    #include <pantheios/pantheios.hpp>
    #include <pantheios/inserters/args.hpp>
    #include <pantheios/backends/bec.WindowsConsole.h>

    #include <pantheios/implicit_link/core.h>
    #include <pantheios/implicit_link/fe.simple.h>
    #include <pantheios/implicit_link/be.WindowsConsole.h>

    #include <QApplication>
    #include "MainWindow.h"

    extern "C" const char PANTHEIOS_FE_PROCESS_IDENTITY[] = PANTHEIOS_LITERAL_STRING("play.with.logger");

    int main(int argc, char *argv[])
    {
        QApplication a(argc, argv);
        MainWindow w;
        w.show();

        pantheios::log(pantheios::debug, "debug processing condition");

        return a.exec();
    } 
    ```

3.  但是当我将它导出到 Qt Creator 项目时，它不想与错误链接：

    ```
    pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegCloseKey@4 referenced in function _pantheios_util_onBailOut_canUseWarnMessage_x_
    pantheios.1.util.vc9.dll.debug.lib(util.time.dll.debug.obj) : error LNK2001: unresolved external symbol __imp__RegCloseKey@4
    pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegQueryValueExA@24 referenced in function _pantheios_util_onBailOut_canUseWarnMessage_x_
    pantheios.1.util.vc9.dll.debug.lib(util.time.dll.debug.obj) : error LNK2001: unresolved external symbol __imp__RegQueryValueExA@24
    pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegOpenKeyA@12 referenced in function _pantheios_util_onBailOut_canUseWarnMessage_x_
    pantheios.1.util.vc9.dll.debug.lib(util.time.dll.debug.obj) : error LNK2001: unresolved external symbol __imp__RegOpenKeyA@12
    pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__DeregisterEventSource@4 referenced in function _pantheios_onBailOut3
    pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__ReportEventA@36 referenced in function _pantheios_onBailOut3
    pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegisterEventSourceA@8 referenced in function _pantheios_onBailOut3
    debug\Logging3.exe : fatal error LNK1120: 6 unresolved externals 
    ```

    顺便说一句，在`project.pro`我设置的文件中：

    ```
    ...
        INCLUDEPATH += $(STLSOFT)/include \
                   $(PANTHEIOS_ROOT)/include

        LIBS += -L$(PANTHEIOS_ROOT)/lib
    ... 
    ```

4.  我也尝试通过以下方式更改 LIBS 变量：

    ```
    LIBS += d:\workspaces\VS\pantheios-1.0.1-beta210_32\lib\pantheios.1.util.vc9.dll.debug.lib \
        d:\workspaces\VS\pantheios-1.0.1-beta210_32\lib\pantheios.1.core.vc9.dll.debug.lib \
        d:\workspaces\VS\pantheios-1.0.1-beta210_32\lib\pantheios.1.fe.simple.vc9.dll.debug.lib \
        d:\workspaces\VS\pantheios-1.0.1-beta210_32\lib\pantheios.1.bec.WindowsConsole.vc9.dll.debug.lib \
        d:\workspaces\VS\pantheios-1.0.1-beta210_32\lib\pantheios.1.be.WindowsConsole.vc9.dll.debug.lib 
    ```

    得到这个：

    ```
    pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegCloseKey@4 referenced in function _pantheios_util_onBailOut_canUseWarnMessage_x_
    pantheios.1.util.vc9.dll.debug.lib(util.time.dll.debug.obj) : error LNK2001: unresolved external symbol __imp__RegCloseKey@4
    pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegQueryValueExA@24 referenced in function _pantheios_util_onBailOut_canUseWarnMessage_x_
    pantheios.1.util.vc9.dll.debug.lib(util.time.dll.debug.obj) : error LNK2001: unresolved external symbol __imp__RegQueryValueExA@24
    pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegOpenKeyA@12 referenced in function _pantheios_util_onBailOut_canUseWarnMessage_x_
    pantheios.1.util.vc9.dll.debug.lib(util.time.dll.debug.obj) : error LNK2001: unresolved external symbol __imp__RegOpenKeyA@12
    pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__DeregisterEventSource@4 referenced in function _pantheios_onBailOut3
    pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__ReportEventA@36 referenced in function _pantheios_onBailOut3
    pantheios.1.util.vc9.dll.debug.lib(util.bailout.dll.debug.obj) : error LNK2019: unresolved external symbol __imp__RegisterEventSourceA@8 referenced in function _pantheios_onBailOut3
    debug\Logging3.exe : fatal error LNK1120: 6 unresolved externals 
    ```

我还尝试了不同的组合：

```
LIBS += -L$(PANTHEIOS_ROOT)/lib -llibname_without_extension 
```

谁能给我一个有用的建议？也许有人在 Qt Creator 下使用 Pantheios ......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T01:17:12.847

请在 MSDN 中搜索功能，然后您可以找到您错过的库。例如符号“_ *imp* _RegCloseKey@4”，请在MSDN中搜索“RegCloseKey”，会发现漏掉了“Advapi32.lib”，然后将这个库添加到你的`.pro`文件中。

```
LIBS += -lAdvapi32 
```****

# sql - Postgres 没有正确排序两列

> ID：12406051
> 
> 赞同：0
> 
> 时间：2012-09-13T12:17:14.317
> 
> 标签：sql, postgresql

我正在从 Postgres 按名称 ASC 排序中选择一个名称、一个操作和一个计数，操作 ASC 如下所示：

```
SELECT u.firstname || ' ' || u.surname AS user,
    nt.name AS action,
    cn.count
FROM (
    SELECT actioned_by_id, note_type_id, COUNT(id) AS count
    FROM customer_notes
    WHERE actioned_date IS NOT NULL 
    GROUP BY actioned_by_id, note_type_id
) AS cn
LEFT JOIN note_type AS nt ON cn.note_type_id = nt.id
LEFT JOIN users as u on cn.actioned_by_id = u.id
WHERE cn.actioned_by_id IS NOT NULL 
ORDER BY user, action; 
```

但是结果表明它忽略了用户子句，仅按操作排序。

```
"ADMIN USER" "CALL OUT"   1
"ADMIN USER" "EMAIL"      1
"ADMIN USER" "LETTER"     2
"AA AA"      "MEETING"    1
"ADMIN USER" "PHONECALL"  7
"AA AA"      "PHONECALL"  1 
```

有谁明白为什么？以及如何正确订购？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T12:18:27.913

`user`是保留字 - 返回当前用户名

尝试

```
order by u.firstname || ' ' || u.surname, action 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:19:17.310

尝试使用列的位置排序

```
SELECT u.firstname || ' ' || u.surname AS user,
    nt.name AS action,
    cn.count
FROM (
    SELECT actioned_by_id, note_type_id, COUNT(id) AS count
    FROM customer_notes
    WHERE actioned_date IS NOT NULL 
    GROUP BY actioned_by_id, note_type_id
) AS cn
LEFT JOIN note_type AS nt ON cn.note_type_id = nt.id
LEFT JOIN users as u on cn.actioned_by_id = u.id
WHERE cn.actioned_by_id IS NOT NULL 
ORDER BY 1, 2; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:22:54.883

试试这个顺序子句：-

按你的名字订购 || ' ' || u.姓氏，行动；

我认为它忽略了列 USER 的顺序，因为这是一个派生列 - 您需要指定派生本身，而不是派生的名称。

# compilation - 从命令行编译 Visual Studio 6 C 项目

> ID：12406053
> 
> 赞同：4
> 
> 时间：2012-09-13T12:17:30.493
> 
> 标签：compilation, visual-studio-6

我正在尝试自动构建 Visual Studio 6 项目（用 C 编写）。当我从 Visual Studio 开发环境构建它们时，一切正常，但如果可能的话，我需要一些帮助才能使用命令行工具从命令行编译项目 (.dsp) 或整个工作区 (.dsw)，如这应该通过一次对多个项目的批处理作业来完成。

有关如何从头开始执行此操作的教程或一些说明会很好...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:24:59.657

```
 msdev FileName [/MAKE "ProjectName – ConfigName | ALL"] [/REBUILD /CLEAN /NORECURSE /OUT LogFile /USEENV] 
```

其中 FileName 是您的项目 (.dsp) 或**工作区 (.dsw)**文件的名称。

例如，以下语法删除所有中间文件，然后构建一个名为 MyProject 的项目：

```
msdev MyProject.dsp /MAKE "MyProject – Win32 Debug" /REBUILD 
```

取自[MSDN](http://msdn.microsoft.com/en-us/library/aa699274%28v=VS.60%29.aspx)

必应关键词：

> Visual Studio 6 项目命令行

并打开第一个结果！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-13T12:26:15.817

您的命令行需要如下所示：

```
msdev myworkspace.dsw /MAKE "myproject - Win32 Release" /OUT buildlog.txt 
```

您还需要将开发环境放在您的 PATH 上 - 如果它不存在，您需要运行`c:\Program Files\Microsoft Visual Studio\VC98\Bin\vcvars32.bat`或类似的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T12:24:31.173

这里有一些资源。

[从命令行构建项目](http://msdn.microsoft.com/en-us/library/aa699274%28v=vs.60%29.aspx)。

[在 Visual Studio 命令行中工作](http://www.devsource.com/c/a/Using-VS/Working-at-the-Visual-Studio-Command-Line/)。

这是[关于使用命令行的论坛对话](http://social.msdn.microsoft.com/Forums/en-US/vcgeneral/thread/fadabec2-9fea-48c6-ad10-4cf34931b5bd)。

# android - How to create table using GridView like this

> ID：12406055
> 
> 赞同：1
> 
> 时间：2012-09-13T12:17:34.450
> 
> 标签：android

How to create table using GridView like this:

![example](../Images/cbb639fa5eea6e7f8dc8c4ca41b102e0.png)

I mean:

```
1st column - 2 rows;
2nd column - 1 row;
3rd column - 2 rows;
.... and so on 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T14:16:42.243

您可以为 gridview 创建一个自定义适配器。

假设网格中的每个单元格都包含一个按钮，因此您需要一些列表

```
ArrayList<Button> listOfButtons = new ArrayList<Button>(); 
```

您的 GridView 将有 7 列，您需要在布局 xml 文件中指定这些列

```
android:numColumns="5" 
```

您的适配器类将检查列表并查看正在实例化的单元格。如果它是正确的单元格，则对其进行修改。

```
public class MyAdapter extends BaseAdapter {

private Context context;

public MyAdapter(Context context) {
    this.context = context;
}

public int getCount() {
    return listOfButtons.size();
}

@Override
public boolean areAllItemsEnabled() {
    return true;
}

public boolean isEnabled(int position) {
    return true;
    // return true for clickable, false for not
}

public Button getItem(int position) {
    return listOfButtons.get(position);
}

public long getItemId(int position) {
    return listOfButtons.get(position).getId();
}

@Override
public int getViewTypeCount() {
    return 1;
}

public View getView(int position, View convertView, ViewGroup parent) {
        Button b;

        //Here is where you check to see if it's the correct cell
        //You can use the methods declared above to check
        //say i wanted every even item to be 1 cell

        if (position % 2 = 0)
            b.setHeight(100);//however high two columns are

        /*you'd also need to make the other button that's 
         * being overlapped invisible. This requires that 
         * you know what position it's going to be in. 
         * Using the same eample with 7 columns, 
         * position 8, 10, 12 and 14 will be overlapped so 
         * you can do something like*/
        if (position == 8 || position == 10 || 
            position ==12 || position ==14)
        {
            b.setVisibility(View.GONE);
            return b;
        }
        if (convertView == null) {
            b.setPadding(10, 10, 10, 10);
        } else {
            b = (Button) convertView;
        }

        //Set properties of each
        return b;
    } 
```

}

希望这可以帮助

# sugarcrm - 如何将多个用户分配到会议

> ID：12406059
> 
> 赞同：1
> 
> 时间：2012-09-13T12:17:44.717
> 
> 标签：sugarcrm

**我想做的事：**
我想为一个会议添加几个用户（员工）。我不会组建团队，因为不需要：有两个广告：老板（谁是广告）和另一个广告。建立一个团队并不多。
实际上，我只能分配一个用户并更改他，但不能将另一名员工添加到会议中。

**我尝试过的：**
我尝试更改字段 "meetings_assigned_users" 的关系，但显然这是灰色阴影，我无法修改它。

**那么：**
如何在 detail-edit-create 视图中添加一个“加号”按钮来分配另一个用户？
我必须自己构建另一个字段/模块吗？

感谢air4x，我通过在会议中添加“受邀者”来实现它！（我认为“受邀者”按钮只添加了联系人，而不是员工。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T17:22:57.203

在编辑会议时，您可以在页面底部找到一个标题为“添加受邀者”的面板。用另一个用户的电子邮件地址填写电子邮件文本框，然后单击搜索。现在将获取另一个用户并显示在下面。单击添加按钮以将此用户包括在会议中。

# c# - “Oracle.DataAccess.Client.OracleBulkCopy”的类型初始值设定项引发异常

> ID：12406064
> 
> 赞同：1
> 
> 时间：2012-09-13T12:18:03.640
> 
> 标签：c#, asp.net, ado.net, oracle10g, oracle11g

我有一个 Windows 服务，它可以**批量复制**到**Oracle 10g**服务器。这项服务在我的机器上运行良好。但是当我在另一台机器（安装了 Oralcle 10g 和 VS 2010）上安装此服务时，它给出了以下错误。

**'Oracle.DataAccess.Client.OracleBulkCopy' 的类型初始化程序引发了异常。**

我使用了放在我的 Service Bin 文件夹中的**Oracle.DataAccess.dll （版本 2.112.3.0）。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T15:52:35.800

检查您的配置文件。当 oracle 在你的 VS2010 项目中创建自定义类型时，一些属性被硬编码在配置文件中（查找 YourApplication.exe.config）

您将找到一个 <oracle.dataaccess.client> 部分。检查 [schema owner] 和 [factory name] 在定义的所有自定义类型中对于您的“生产”环境是否正确。

# html - 如果没有提供字符编码，HTML5 是否会为 HTML 文档指定默认字符编码？

> ID：12406066
> 
> 赞同：23
> 
> 时间：2012-09-13T12:18:07.913
> 
> 标签：html, character-encoding

通过 HTTP 检索的示例 HTML 文档缺少：

*   HTTP`Content-Type`标头
*   一个 HTML`<meta charset="<character encoding>" />`
*   一个 HTML`<meta http-equiv='Content-Type' content='Type=text/html; charset=<character encoding>'>`

关于 HTML5，是否将默认值（例如 UTF-8）假定为字符编码？还是完全由读取 HTML 文档的应用程序来选择默认值？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-09-13T12:22:13.807

使用以下规则确定字符集：

> 1.  用户覆盖。
> 2.  “内容类型”字段中的 HTTP“字符集”参数。
> 3.  HTML 文档本身中任何其他数据之前的字节顺序标记。
> 4.  具有“字符集”属性的 META 声明。
> 5.  将“http-equiv”属性设置为“Content-Type”并为“charset”设置值的 META 声明。
> 6.  未指定的启发式分析。
> 
> ...进而...
> 
> 1.  根据 Unicode 技术标准 #22 中定义的字符集别名匹配规则规范化给定的字符编码字符串。
> 2.  覆盖一些有问题的编码，即有意将某些编码视为不同的编码。最常见的覆盖是将 US-ASCII 和 ISO-8859-1 视为 Windows-1252，但此表中还列出了其他几种编码覆盖。正如规范所指出的，“根据上表将某些编码视为其他编码的要求是故意违反 W3C 字符模型规范。”

但最重要的是：

> 您应该**始终在****每个**HTML 文档上指定字符编码，否则**会发生不好的事情**。你可以用困难的方式（HTTP Content-Type 标头）、简单的方式（`<meta http-equiv>`声明）或新的方式（`<meta charset>`属性）来做，但请这样做。网络谢谢你。

**资料来源：**

*   [http://blog.whatwg.org/the-road-to-html-5-character-encoding](http://blog.whatwg.org/the-road-to-html-5-character-encoding)
*   [http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#determining-the-character-encoding](http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#determining-the-character-encoding)

# ireport - 在 iReport 中使用 ResourceBundle

> ID：12406069
> 
> 赞同：1
> 
> 时间：2012-09-13T12:18:18.180
> 
> 标签：ireport

在 iReport 中，我使用的是使用资源包属性文件的国际化。但我注意到这些属性文件放置在 ireport 的类路径中......

我的查询是我希望将这些文件放在除 ireport 的类路径之外的***其他位置的某个位置***，并在 iReport 中使用相同的属性文件（放置在外部）...。我可以实现吗？请帮忙。

# python - 从模块导入的类与从模块访问的类不匹配

> ID：12406077
> 
> 赞同：0
> 
> 时间：2012-09-13T12:18:56.347
> 
> 标签：python

我有以下代码

```
import imp
from my_module import MyClass
import my_module

imp.reload(my_module)
print(MyClass == my_module.MyClass) # Result is False 
```

为什么`MyClass`导入`my_module`的不等于`my_module.MyClass`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:18:56.347

您的问题的答案隐藏在您重新加载模块的行中。重新加载后，python 重新编译整个模块，重新创建其中的所有对象并加载它。

因此，在重新加载模块时，会创建一个全新的类，该类`MyClass`与之前的对象不同。

您可以检查此代码：

```
import imp
from my_module import MyClass
import my_module
print(MyClass == my_module.MyClass) # Result is True
imp.reload(my_module)
print(MyClass == my_module.MyClass) # Result is False 
```

# perl - 模板工具包 - 遍历哈希数组

> ID：12406080
> 
> 赞同：1
> 
> 时间：2012-09-13T12:18:59.167
> 
> 标签：perl, iteration, template-toolkit, dancer

我在网上找不到这个问题的答案。

使用 Dancer 和 Template 工具包，我有一个哈希数组，我想将它们打印到我的 web 应用程序的表格中。这就是我将数据结构发送到模板的方式：

```
template "find_ip_results2", {
    user => \@user,
}; 
```

迭代此结构并访问每个键值对的正确 foreach 语法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T12:27:30.357

```
[% FOR u = user %]
    [% u.key    # or u.item('key') %]
[% END %] 
```

[您可以在此处](http://template-toolkit.org/docs/manual/index.html)阅读文档。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-25T17:19:43.200

对 eugene y 修复迭代器语法的答案稍作修改：

```
 <ul>
 [% FOREACH u IN user %]
    <li>
      communities: [% u.communities %]<br/>
      priority: [% u.priority %]<br/>
      policyName: [% u.policyName %]
    </li>
 [% END %]
 </ul> 
```

# cakephp - 在cakephp中连接两个表时只选择一个表的数据

> ID：12406081
> 
> 赞同：1
> 
> 时间：2012-09-13T12:19:04.003
> 
> 标签：cakephp, jointable

我使用了这段代码，但只选择了一个表的数据。

我需要从两个表中选择所有字段：

```
$options['joins'] = array(
                array('table' => 'tbl_users',
                    'alias' => 'Users',
                    'type' => 'INNER',
                    'foreignKey' => 'assigned_by',
                    'fields' => 'Users.user',
                    'conditions' => array(
                        'TravancoAdmin.assigned_by = Users.id'
                    )
                )
            );
            $options['conditions'] = array( 'TravancoAdmin.id' => $task_id);
$result = $this->find('all', $options);
        return $result ? $result : 1; 
```

如何从两个表中获取所有字段？

如果我的代码有任何错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T12:23:14.227

您需要将`'fields'`选项移出`'joins'`. 否则 $this->find 只会获取当前模型的字段。请记住在指定时添加您需要的所有字段`'fields'`，包括当前模型的字段和您要加入的表中需要的字段。

例如：

```
$options['joins'] = array(
                array('table' => 'tbl_users',
                    'alias' => 'Users',
                    'type' => 'INNER',
                    'foreignKey' => 'assigned_by',
                    // 'fields' => 'Users.user', <- get rid of this
                    'conditions' => array(
                        'TravancoAdmin.assigned_by = Users.id'
                    )
                )
            );
$options['fields'] = array('TheModelThatThisRefersTo.*','Users.user'); // <- insert this
$options['conditions'] = array( 'TravancoAdmin.id' => $task_id);
$result = $this->find('all', $options);
return $result ? $result : 1; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:24:16.663

尝试使用 reucrsive 2，如果要检索数据，则必须正确地将表与模型相关联。查询后，您可以拥有一个包含所有字段的大数组，尝试使用 var_dump 打印以查看您是否拥有所需的所有字段

```
$this->recursive = 2;
$options['joins'] = array(
                array('table' => 'tbl_users',
                    'alias' => 'Users',
                    'type' => 'INNER',
                    'foreignKey' => 'assigned_by',
                    'fields' => 'Users.user',
                    'conditions' => array(
                        'TravancoAdmin.assigned_by = Users.id'
                    )
                )
            );
            $options['conditions'] = array( 'TravancoAdmin.id' => $task_id);
$result = $this->find('all', $options);
        return $result ? $result : 1; 
```

# jquery - 带有 1000 个复选框的 jQuery Dynatree 非常慢

> ID：12406082
> 
> 赞同：1
> 
> 时间：2012-09-13T12:19:05.637
> 
> 标签：jquery, dynatree, jquery-dynatree

我正在将 1000 多个节点（包括子节点）加载到一个[**动态树**](http://wwwendt.de/tech/dynatree/doc/sample-select.html)中，并为每个节点使用一个复选框来选择。

但是，如果我们像演示中那样全选或取消全选，[http://wwwendt.de/tech/dynatree/doc/sample-select.html](http://wwwendt.de/tech/dynatree/doc/sample-select.html)，它会非常慢并且浏览器会挂起 10 秒。

有解决办法吗？

**编辑：**一棵树有 6-8 层嵌套。每个级别大约有 5-10 个节点。

**更新代码**

```
 <a href="#" id="select-all">select all</a>
 <div id="echoSelection"></div>
 <div id="my-tree"></div>

 $('#select-all').click(function(){
    alert($("#my-tree").dynatree("getRoot").length);
    $("#my-tree").dynatree("getRoot").visit(function(node){
            node.select(false);
        });
     return false;

});

 $("#my-tree").dynatree({
        initAjax: {
            url: 'jsonData.aspx',
            data: { type: "all" }
        },
        checkbox: true,
        selectMode: 3,
        onSelect: function (select, node) {
            // Display list of selected nodes
            var selNodes = node.tree.getSelectedNodes();
            // convert to title/key array
            var selKeys = $.map(selNodes, function (node) {
                return "[" + node.data.key + "]: '" + node.data.title + "'";
            });
            $("#echoSelection2").text(selKeys.join(", "));
        },
        onClick: function (node, event) {
            // We should not toggle, if target was "checkbox", because this
            // would result in double-toggle (i.e. no toggle)
            if (node.getEventTargetType(event) == "title")
                node.toggleSelect();
        },
        onKeydown: function (node, event) {
            if (event.which == 32) {
                node.toggleSelect();
                return false;
            }
        },

        fx: { height: "toggle", duration: 200 },
        autoCollapse: true
    });
} 
```

**JSON 格式示例**

```
[
{"title":"Node 1","isFolder":false,"isLazy":false,"key":"1","icon":null,"prevNode":0,"nextNode":0,"children":[{"title":"Node 6","isFolder":false,"isLazy":false,"key":"6","icon":null,"prevNode":0,"nextNode":0,"children":[],"tooltip":null,"addClass":null,"expand":false,"MetaData":null}],"tooltip":null,"expand":false,"MetaData":null},{"title":"Node 2","isFolder":false,"isLazy":false,"key":"2","icon":null,"prevNode":0,"nextNode":0,"children":[],"tooltip":null,"expand":false,"MetaData":null},{"title":"Node 3","isFolder":false,"isLazy":false,"key":"3","icon":null,"prevNode":0,"nextNode":0,"children":[],"tooltip":null,"expand":false,"MetaData":null}] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-20T20:52:58.523

您可以尝试延迟加载，这是一个示例 [http://www.gehbeez.com/dynatree-lazy-load-example-with-asp-net/](http://www.gehbeez.com/dynatree-lazy-load-example-with-asp-net/)

# c++ - 如何将字符串转换为十六进制字符串？

> ID：12406084
> 
> 赞同：-1
> 
> 时间：2012-09-13T12:19:12.567
> 
> 标签：c++

> **可能重复：**
> [C++ 将字符串转换为十六进制，反之亦然](https://stackoverflow.com/questions/3381614/c-convert-string-to-hexadecimal-and-vice-versa)

尝试我在 StackOverflow 中找到的这个示例代码......

```
std::string text = "¯"; // AF in HEX ASCII. 
std::ostringstream result;  
result << std::setw(2) << std::setfill('0') << std::hex << std::uppercase;  
std::copy(text.begin(), text.end(), std::ostream_iterator<unsigned int>(result, " ")); 
```

result.str() 将是 'FFFFFFAF' 而不仅仅是 'AF'

我能做些什么？

我的文本可以有多个字符，例如： text = '¯ABCÈ'; // AF414243C8 “转换”后的结果是：FFFFFFAF414243FFFFFFC8。

.

好吧，我用替换解决了它......在这种情况下这不是一个好习惯，但解决了。

```
 if(value > 6)
                    {   //replace
                        std::string& str = stringlist2[count];
                        const std::string& from = "FFFFFF";
                        const std::string& to = "";
                        size_t j;
                        for ( ; (j = stringlist2[count].find( from )) != string::npos ; ) {
                            stringlist2[count].replace( j, from.length(), to );
                        }
                    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:39:22.423

你没有传递`unsigned int`给被`operator<<`调用的 `ostream_iterator`; 你正在传递一个`char`. 根据您的系统， `char`可能是有符号或无符号的，如果它是有符号的 8 位（最常见的情况），它不能包含 0xAF（即 175）。如果位模式是 0xAF，它实际包含的是 -0x51（或 -81）。它将通过将其添加到 转换为无符号`UINT_MAX+1`，这会产生非常大的无符号值。

您可能需要做的是将每个字符转换为`unsigned char`第一个字符。`UCHAR_MAX+1`这将导致通过添加;来转换负值 如果你加上 0x100 + (0-x51)，你会得到 0xAF。作为一个正值，所以当它转换为`unsigned`（甚至转换为 `int`）时，它会保留它的值。

通常，当一个人在做这种事情时，一次只有一个角色，并且：

```
result << static_cast<int>( static_cast< unsigned char >( ch ) ); 
```

用来。（注意双重转换。）但是，您可以执行以下操作：

```
std::vector< unsigned char > tmp( text.begin(), text.end() ); 
```

并使用您的电话复制`tmp`。或使用`std::transform`：

```
struct ToUnsignedChar
{
    unsigned char operator()( char ch ) const
    {
        return static_cast<unsigned char>( ch );
    }
};

std::transform( 
    text.begin(),
    text.end(),
    std::ostream_iterator<unsigned int>( result, " " ),
    ToUnsignedChar() ); 
```

（如果你有 C++11，这将是一个很好的 lambda 候选者。）

# php - 如果我需要在数据库中存储大量相关文件，我应该使用 MongoDB 吗？

> ID：12406088
> 
> 赞同：-1
> 
> 时间：2012-09-13T12:19:24.847
> 
> 标签：php, mysql, mongodb

我开始着手一个新项目。该项目涉及跟踪潜在的数千个文档。每个文档至少是表中的一行，包含标题、作者、描述等字段（主文档表）。

然而，每个文档在文件系统中是或至少可以以几种不同的形式表示。

例如：

（1）每个文档都有或至少应该有pdf版本，（2）如果有pdf，则将pdf的每一页提取为图像文件，以及（3）提取每个文档的文本从 PDF 或以其他方式派生。

因此，系统中的每个文档实际上都有几个（可能五十个或更多，取决于页数）与之关联的文件。

为了比我原来更简洁：

每个文档可以有一个或多个与之关联的不同数据对象（pdf 文件、jpgs、文本）。但数量和类型是任意的。

最初，这些数据对象只是存储在服务器上的文件，使用目录结构来保持它们的组织。示例：/documents/{id}/images、/documents/{id}/pdfs 等。为了避免不断扫描文件系统，此目录结构在 MySQL 数据库中表示，使用大量表和外键。获取有关文档的所有信息——与其关联的每个文件——需要一个复杂的 JOIN。

像 MongoDB 这样的 NoSQL 解决方案会更好吗？我对最终将所有文件存储在数据库中特别感兴趣，以更好地确保文档与其数据之间的完整性。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T18:07:55.557

几千并转向 NoSQL？我们不要低估 MySQL、Postgres 等 RDBMS。您可以毫无问题地处理数百万行……只要确保您的应用程序编写正确。

# c# - 读取 URL 的 Web 服务器内容时出错

> ID：12406092
> 
> 赞同：0
> 
> 时间：2012-09-13T12:19:32.017
> 
> 标签：c#, c#-4.0

我正在 Window 7 中使用 C#.NET 开发一个 Window 应用程序。该应用程序从 URL 读取 Web 服务器内容。当我尝试这样做时，出现以下异常：

错误：uri 的格式无法确定具有 System.UriFormatException。

这是我的代码：

```
StreamReader instream; 
WebRequest webrequest; 
WebResponse webresponse;
webrequest = WebRequest.Create(textBox1.Text);
webresponse = webrequest.GetResponse();
instream = new StreamReader(webresponse.GetResponseStream());
textBox2.Text = instream.ReadToEnd(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:24:44.683

利用

```
Uri myUri = new Uri(textBox1.Text);    
webrequest = WebRequest.Create(myUri ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:35:55.053

Fix your input string. It is likely missing the protocol (`http`, `https`, `ftp`, etc) or is malformed in some other way.

# jquery - jquery如何在悬停时仅更改一个父级

> ID：12406094
> 
> 赞同：5
> 
> 时间：2012-09-13T12:19:40.883
> 
> 标签：jquery, hover, parent

当我将鼠标悬停在`<p>`标签上时，我只想更改一个父级。代码是：

```
$('.hover').each(function () {
    $(this).parent().hover(function () {
            $('p').parent(this).css('font-size','30px');
        }, function () {
            $('p').parent(this).css('font-size','10px');
    });
}); 
```

HTML是：

```
 <ul>
        <li>1 <p class='hover'>xxxx</p></li>
        <li>2 <p class='hover'>yyyy</p></li>
    </ul> 
```

当我将鼠标悬停在“xxxx”上时，我希望“1”和“xxxx”发生变化，但“2”和“yyyy”什么也不做，当我将鼠标悬停在“yyyy”上时，我希望“2”和“yyyy”发生变化但是“1”和“xxxx”什么都不做。

我是 jQuery 的新手。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-13T12:24:52.310

```
$('p.hover').parent().hover(function() {
    $(this).children('p').css('font-size','30px');
}, function () {
    $(this).children('p').css('font-size','10px');
}); 
```

您不必使用 each 循环来添加悬停。如果您选择了多个元素，它将将该事件应用于所有元素。

话虽如此，我稍微优化了您的代码。

就像你一样，我已经在段落的父级上添加了悬停。通过`$(this)`在事件的回调中使用，我实际上可以选择悬停的元素并在该元素上应用样式。

因为我希望将字体大小应用于段落，所以我首先选择所需的子项。

* * *

综上所述：

*   查找段落元素 ( `$('p.hover')`)
*   获取它的父`li`元素 ( `.parent()`)
*   应用悬停事件 ( `.hover()`)

调用悬停事件后：

*   获取当前元素 ( `$(this)`)
*   查找内部段落 ( `.children('p')`)
*   应用样式

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:22:36.790

你可以使用

```
$('p').closest('li').css('font-size','30px'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:25:37.090

`<p>`在您的情况下，父级是`<li>`. 你需要：

```
$('.hover').parent().parent().hover(
    function () {
        $(this).css('font-size','30px');
    }, function () {
        $(this).css('font-size','10px');
    }); 
```

# c++ - 图形生成器未发布，渲染在后台

> ID：12406095
> 
> 赞同：0
> 
> 时间：2012-09-13T12:19:46.250
> 
> 标签：c++, windows, winapi, visual-c++, directshow

我在我的应用程序中遇到了一些问题我制作了一个可以检测可用网络摄像头并渲染它们的应用程序我们可以随时从一个网络摄像头切换到另一个但问题是当我切换新的渲染显示为主流而旧的选择网络摄像头显示在背景中

这是显示问题的图像：

![在此处输入图像描述](../Images/75541af9ed872e4849e43fe7155bb150.png)

我所做的是释放graphbuilder并使用它工作的新过滤器再次重新初始化，但我对这个逻辑不满意

```
MessageBox(NULL,"this is the reload","",NULL);
if(this->videoFilter){  this->videoFilter->Release();   this->videoFilter=NULL; }
if(this->mediaEvent){   this->mediaEvent->Release(); this->mediaEvent=NULL;     }
if(this->videoWindow){  this->videoWindow->Release(); this->videoFilter=NULL;   }
if(this->mediaControl){ this->mediaControl->Release(); this->mediaControl=NULL; }
    // and reallocate them 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:26:25.083

您没有从图表中删除过滤器。释放它们并不是移除它们。

# objective-c - 为什么将 NSNumber 除以浮点数会将结果四舍五入到小数点后 1 位？

> ID：12406097
> 
> 赞同：0
> 
> 时间：2012-09-13T12:19:55.167
> 
> 标签：objective-c, ios, floating-point, decimal-point

请参阅以下代码：

```
NSNumber *fileSystemSizeInBytes = [dictionary objectForKey: NSFileSystemFreeSize];
float totalSpaceInMB = (([fileSystemSizeInBytes longLongValue] /1024.0)/1024.0); 
```

这里`totalSpaceInMB`总是四舍五入到小数点后 1 位。

例如，如果`fileSystemSizeInBytes = 13261987840`，那么`totalSpaceInMB = 12647.6`

我想要 4 个小数位，`totalSpaceInMB = 12647.6172`. 为什么会这样？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:26:04.983

更好地尝试：

```
NSNumber *fileSystemSizeInBytes = [dictionary objectForKey: NSFileSystemFreeSize];
double totalSpaceInMB = (([fileSystemSizeInBytes longLongValue] /1024.0)/1024.0);
NSLog(@"%.4lf",totalSpaceInMB); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:26:34.990

```
NSNumber *fileSystemSizeInBytes = [dictionary objectForKey: NSFileSystemFreeSize];

double totalSpaceInMB = (([fileSystemSizeInBytes longLongValue] /1024.0)/1024.0);

NSLog(@"%.4f",totalSpaceInMB); 
```

希望这可以帮助 ：）

# ruby-on-rails-3 - Twitter Bootstrap 和 Rails 3

> ID：12406098
> 
> 赞同：1
> 
> 时间：2012-09-13T12:19:56.090
> 
> 标签：ruby-on-rails-3, twitter, twitter-bootstrap

我已经下载了“bootstrap.js”，并将其放入我的 assets/javascript 目录中，并将其放入我的 rails 视图中：

新的.html.erb

```
<a href="#myModal" role="button" class="btn" data-toggle="modal">Launch demo modal</a>

<-- Modal -->
<div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">Modal header</h3>
  </div>
  <div class="modal-body">
    <p>One fine body…&lt;/p>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    <button class="btn btn-primary">Save changes</button>
  </div>
</div> 
```

这与 twitter 指南中的代码完全相同。当我重新加载页面时，模式就在那里，并且根本不起作用，当我按下按钮时没有显示动画，模式只是弹出！有什么建议让它发挥作用吗？

我还把这样的 JS 代码放在哪里？

```
$('#myModal').modal('toggle') 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:58:04.057

检查您的`/assets/javascripts/application.js`.

包括这条线吗？

```
//= require_tree . 
```

或boostraps所需的任何线路。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-19T11:14:45.343

在您的 Gemfile 中包含`twitter-bootstrap-rails`和Gems：`jquery-rails`

```
gem 'twitter-bootstrap-rails'
gem 'jquery-rails' 
```

然后运行：

```
bundle install 
```

然后运行：

```
rails generate bootstrap:install 
```

这应该注意加载引导程序和 jQuery 的位置。至于你自己的 JavaScript 代码放在`filename.js`里面`/assets/javascripts/`

# magento - 我想在 Magento 产品页面中显示产品选项值

> ID：12406100
> 
> 赞同：2
> 
> 时间：2012-09-13T12:19:59.770
> 
> 标签：magento

我想在 Magento 产品页面中显示产品选项值。我试过这段代码：

```
<?php echo $_product->getAttributeText('color'); ?> 
```

但选项没有出现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:25:21.677

如果您在实际的产品视图页面上，您可以使用帮助程序来获得您想要的内容：

```
echo $_helper->productAttribute($_product, $_product->getColor(), 'color'); 
```

或者

```
echo $_helper->productAttribute($_product, $_product->getData('attribute_code'), 'attribute_code'); 
```

或者你可以试试这个：

```
$_product->getResource()->getAttribute('color')->getFrontend()->getValue($_product); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:41:10.987

你可以这个，

```
<?php $attributeValue = Mage::getModel('catalog/product')->load($_product->getId())->getColor();?> 
```

# twitter-bootstrap - 缺少下拉菜单引导程序

> ID：12406102
> 
> 赞同：1
> 
> 时间：2012-09-13T12:20:08.287
> 
> 标签：twitter-bootstrap

我想弄清楚为什么我的下拉栏导航没有出现？

该网站在上面，代码在这里：

[http://pastebin.com/Tv9gkC9v](http://pastebin.com/Tv9gkC9v)

我尝试包括所有主要的 jQuery 库以及引导库，有人可能会发现我做错了什么吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:38:44.917

添加`style="display: block; position: static; margin-bottom: 5px; *width: 180px;"`到您的`<ul>`

![截屏](../Images/38864edb9e38e4b4d5e805496b9abcb1.png)

# java - 显示 Android Toast 成功/不成功消息

> ID：12406106
> 
> 赞同：-1
> 
> 时间：2012-09-13T12:20:16.357
> 
> 标签：java, android, toast

我下面的应用程序将文件从原始文件夹复制到代码中写入的分配位置，我想要做的是显示一条 toast 消息，说明文件是否已成功写入或是否失败。

需要什么代码，我将把它放在我现有的代码欢呼家伙的什么地方。

```
public class TrialActivity extends Activity {

private ProgressDialog progressDialog;
/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    runDialog(5);
}

private void runDialog(final int seconds)
{
    progressDialog = ProgressDialog.show(this, "Please Wait...", "unpacking patch in progress");

    new Thread(new Runnable(){
        public void run(){
            try {
                Thread.sleep(seconds * 1000);
                progressDialog.dismiss();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }).start();

    ((Button)findViewById(R.id.button1)).setOnClickListener(new View.OnClickListener()
    {
      public void onClick(View paramView)
      {

      }

   {

              InputStream in = null;
              OutputStream out = null;
  String filename="savegame.bin";           
  try {    

                in = getResources().openRawResource(R.raw.savegame);
                out = new FileOutputStream("/sdcard/Android/data/com.glu.android.brawler/files/" + filename);
                copyFile(in, out);
                in.close();
                in = null;
                out.flush();
                out.close();
                out = null;
              } catch(Exception e) {
                  Log.e("tag", e.getMessage());
                  Message message = Message.obtain();      
                  message.what = 1;               
                  mHandler.sendMessage(message);
              }       

      }
      private void copyFile(InputStream in, OutputStream out) throws IOException {
          byte[] buffer = new byte[1024];
          int read;
          while((read = in.read(buffer)) != -1){
            out.write(buffer, 0, read);

            Handler mHandler = new Handler() {
                public void handleMessage( Message msg ) 
                {  
                    Toast toast;
                        switch(msg.what) 
                        {          
                           case 1: // for success
                               toast = Toast.makeText(getBaseContext(), "File has been successfully written.", Toast.LENGTH_LONG);
                               toast.show();
                           break;
                           case 0: // for Error
                               toast = Toast.makeText(getBaseContext(), "Error occur during writting file.", Toast.LENGTH_LONG);
                               toast.show();
                           break;

                       }
               };
            };

          }
      }
      }
    );

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:26:16.663

您可以使用 Handler 类，在线程结束时调用处理程序。

但是我个人会选择 AsyncTask 类。此类允许您在线程上工作，并且在线程完成后，您可以对 UI 进行更改。

在 Android 开发者网站上阅读它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:37:38.130

您可以通过在代码中使用**Handler来做到这一点。**

您应该将消息传递给处理您需要在操作系统上显示的内容......如下所示......

```
Message message = Message.obtain();      
message.what = 1;  // success message               
mHandler.sendMessage(message); 
```

并根据该消息在您的处理程序中显示 Toast...

```
Handler mHandler = new Handler() {
     public void handleMessage( Message msg ) 
     {  
         Toast toast;
             switch(msg.what) 
             {          
                case 1: // for success
                    toast = Toast.makeText(getBaseContext(), "File has been successfully written.", Toast.LENGTH_LONG);
                    toast.show();
                break;
                case 0: // for Error
                    toast = Toast.makeText(getBaseContext(), "Error occur during writting file.", Toast.LENGTH_LONG);
                    toast.show();
                break:

            }
    } 
```

}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:48:11.433

```
private void runDialog(final int seconds)
{
    progressDialog = ProgressDialog.show(this, "Please Wait...", "patch is being prepared");

    new Thread(new Runnable(){
        public void run(){
            try {
                Thread.sleep(seconds * 1000);
                progressDialog.dismiss();
                         runOnUiThread(new Runnable() {
                    public void run() {
                                 Toast.makeText(ActivityName.this,"Message",Toast.LENGTH_SHORT).show();
                                                   }});
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }).start();

    ((Button)findViewById(R.id.button1)).setOnClickListener(new View.OnClickListener()
    {
      public void onClick(View paramView)
      {

      }

   { 
```

# python - Upload using python script takes very long on one laptop as compared to another

> ID：12406109
> 
> 赞同：1
> 
> 时间：2012-09-13T12:20:23.160
> 
> 标签：python, upload, ftp

I have a python 2.7 code which uses STORBINARY function for uploading files to an ftp server and RETRBINARY for downloading from this server.

However, the issue is the upload is taking a very long time on three laptops from different brands as compared to a Dell laptop. The strange part is when I manually upload any file, it takes the same time on all the systems.

The manual upload rate and upload rate with the python script is the same on the Dell Laptop. However, on every other brand of laptop (I have tried with IBM, Toshiba, Fujitsu-Siemens) the python script has a very low upload rate than the manual attempt. Also, on all these other laptops, the upload rate using the python script is the same (1Mbit/s) while the manual upload rate is approx. 8 Mbit/s.

I have tried to vary the filesize for the upload to no avail. TCP Optimizer improved the download rate on all the systems but had no effect on the upload rate. Download rate using this script on all the systems is fine and same as the manual download rate.

I have checked the server and it has more than 90% free space. The network connection is the same for all the laptops, and I try uploading only with one laptop at a time. All the laptops have almost the same system configurations, same operating system and approximately the same free drive space. If anything the Dell laptop is a little less in terms of processing power and RAM than 2 of the others, but I suppose this has no effect as I have checked many times to see how much was the CPU usage and network usage during these uploads and downloads, and I am sure that no other virus or program has been eating up my bandwidth.

* * *

even with 'storbinary' command , when i specify the blocksize to be of 57344(56 kB), the upload rate improves to about 5 Kbit/s from 1 to 1.5 Kbit/s originally...whats the reason for that? and how can i find out the blocksize used by my manual upload client(i used filezilla), or better yet the optimal blocksize for upload?? @guidot

* * *

Complete code :

```
def upnew(counter=0):

    f=open("c:/10", "w")

    f.write(os.urandom(10*1024*1024))
    f.close()

    print "Logging in..."

    ftpserver='xxxxxxx'

    ftpuser='xxxxxxx'

    ftppw='xxxxxxxxx'

    ftp = FTP(ftpserver)    
    ftp.login(ftpuser, ftppw)  

    t = open("c:/10", "rb")                       
    upstart = time.clock() 

    ftp.storbinary('STOR 10', t)

    upende = time.clock()-upstart

    print ((10*8)/upende)

    print "press Return to disconnect"
    raw_input()

    ftp.quit()
    print "FTP Verbindung abgebaut"

upnew(1) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T14:47:50.357

我可能错了，但问题似乎在于您调用和使用 ftp.storbinary() 的方式

我会尝试改用 ftp.ntransfercmd() 并在处理过程中使用缓冲区来分解传输。这为您提供了额外的好处，即能够跟踪 ftp 传输的进度，并且理论上允许您根据需要暂停和重新启动该过程。

尚未测试此脚本的性能，但您可以尝试执行以下操作：

```
 def ftpUploader():
        BLOCKSIZE = 57344 # size 56 kB

        ftp = ftplib.FTP()
        ftp.connect(host)
        ftp.login(login, passwd)
        ftp.voidcmd("TYPE I")
        f = open(zipname, 'rb')
        datasock, esize = ftp.ntransfercmd(
            'STOR %s' % os.path.basename(zipname))
        size = os.stat(zipname)[6]
        bytes_so_far = 0
        print 'started'
        while 1:
            buf = f.read(BLOCKSIZE)
            if not buf:
                break
            datasock.sendall(buf)
            bytes_so_far += len(buf)
            print "\rSent %d of %d bytes %.1f%%\r" % (
                  bytes_so_far, size, 100 * bytes_so_far / size)
            sys.stdout.flush()

        datasock.close()
        f.close()
        ftp.voidresp()
        ftp.quit()
        print 'Complete...' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T17:33:24.920

Python 主要用于脚本和流程自动化，在技术上不被认为是一种快速变化的语言（尽管比大多数其他脚本语言更快）。Filezilla 使用 C/C++ 编码，性能远优于 Python。话虽如此，这不是一个公平的比较，我们应该在尝试识别可能导致一般性能问题的逻辑问题时考虑它。

storbinary 基本上充当 ntransfercmd 的包装器，调用 ntransfercmd 而不需要我们定义自己的缓冲区（这就是我之前推荐的原因）。

此外，在再次分析您的代码 snip-it 之后，我注意到您通过 print 语句调用 storbinary ......这是错误的吗？

此时，我们将需要此示例中使用的所有相关代码来识别可能影响性能的任何逻辑问题，请在您之前的 snip-it 的基础上为我们提供更多信息。

这里要考虑的另一个因素是您进行测试的一般系统环境......考虑您执行所述测试的每个系统的位置，它们与 FTP 服务器的距离，此外，ISP 或 DNS 的差异在解决与基于 TCP/IP 的连接（例如 ftp）相关的性能问题时，服务器可能是一个主要因素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:32:54.663

请提供您的代码的工作示例...无法看到您如何实现 ftp 功能不可能提供有用的反馈，但通常您可能会从使用线程或套接字中受益。

# java - Android Mediaplayer 播放不同的歌曲

> ID：12406110
> 
> 赞同：3
> 
> 时间：2012-09-13T12:20:33.813
> 
> 标签：java, android, media-player, midi

我在旅途中生成 MIDI 文件。我想连续播放这些文件。

我初始化了一个媒体播放器并启动了 song1.mid。然后我用下面的代码播放song2.mid

```
// set on completion listener music file
                mediaPlayer
                        .setOnCompletionListener(new MediaPlayer.OnCompletionListener() {
                            @Override
                            public void onCompletion(MediaPlayer mp) {

                                String filePath2 = null;
                                File file = null;
                                FileInputStream inputStream = null;

                                //set the filePath
                                try {
                                    filePath2 = getCacheDir() + "/optimuse" + song + ".mid";
                                    file = new File(filePath2);
                                    if (file.exists()) {
                                        inputStream = new FileInputStream(file);
                                        if (inputStream.getFD().valid()) {
                                            System.out.println("Valid!");
                                        }
                                    }
                                } catch (Exception e1) {
                                    e1.printStackTrace();
                                    System.exit(-1);
                                }

                                //set Mediaplayer's datasource
                                if (file.exists()) {
                                    try {
                                        mediaPlayer = new MediaPlayer();
                                        mediaPlayer.setDataSource(inputStream.getFD());
                                        inputStream.close();
                                    } catch (Exception e1) {
                                        e1.printStackTrace();
                                        System.exit(-1);
                                    }

                                    try {
                                        mediaPlayer.prepare();
                                    } catch (IllegalStateException e) {

                                        e.printStackTrace();
                                    } catch (IOException e) {
                                        e.printStackTrace();
                                    }
                                }

                                //if the player is not running
                                if (!mediaPlayer.isPlaying()) {
                                    //start the player
                                    mediaPlayer.start();
                                    Toast.makeText(MainActivity.this,
                                            "mediaPlayer.start()", Toast.LENGTH_LONG)
                                            .show();
                                }
                            }
                        });                         

                            }
                        }); 
```

问题是媒体播放器在歌曲 2 之后停止。但我想让 song3 开始。我可以增加全局变量，好的。但是当第二首歌结束时，onCompletionListener 似乎不起作用。

我想我应该初始化 MediaPlayer mp 也有一个 onCompletionListener 吗？不确定最好的方法是什么。

或者我应该做类似的事情：

```
new class MediaPlayer implements OnCompletionListener(){
@Override
song++;
//code to start the mediaplayer
} 
```

谢谢你让我朝着正确的方向前进。当我不断启动新的媒体播放器时，我也有点担心效率......

基本上，我想做的是连续播放song1.mid，song2.mid，...，但文件是在程序期间生成的。

**编辑** 感谢@Gan 的出色帮助。我知道有以下工作代码：

```
 // set on completion listener music file
            mediaPlayer
                    .setOnCompletionListener(new MediaPlayer.OnCompletionListener() {
                        @Override
                        public void onCompletion(MediaPlayer mp) {

                            String filePath2 = null;
                            File file = null;
                            FileInputStream inputStream = null;

                            //set the filePath
                            try {
                                filePath2 = getCacheDir() + "/optimuse" + song + ".mid";
                                file = new File(filePath2);
                                if (file.exists()) {
                                    inputStream = new FileInputStream(file);
                                    if (inputStream.getFD().valid()) {
                                        System.out.println("Valid!");
                                    }
                                }
                            } catch (Exception e1) {
                                e1.printStackTrace();
                                System.exit(-1);
                            }

                            //set Mediaplayer's datasource
                            if (file.exists()) {
                                try {

                                    mp.stop();
                                    mp.reset();
                                    mp.setDataSource(inputStream.getFD());
                                    inputStream.close();
                                } catch (Exception e1) {
                                    e1.printStackTrace();
                                    System.exit(-1);
                                }

                                try {
                                    mp.prepare();
                                } catch (IllegalStateException e) {

                                    e.printStackTrace();
                                } catch (IOException e) {
                                    e.printStackTrace();
                                }
                            }

                            //if the player is not running
                            if (!mp.isPlaying()) {
                                //start the player
                                mp.start();
                                Toast.makeText(MainActivity.this,
                                        "mp.start()", Toast.LENGTH_LONG)
                                        .show();
                            }

                        }
                    });                         

                        }
                    }); 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-13T12:33:07.053

将源位置存储在一个数组中，并在源的 onCompletionListener 循环中。像这样的东西（使用相同的媒体播放器实例）

```
mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {
@Override
public void onCompletion(MediaPlayer mp) 
{
   if(currentPosition<sourceArray.size())
   {
        mediaPlayer.reset();
       /* load the new source */
       mediaPlayer.setDataSource(sourceArray[position]);
       /* Prepare the mediaplayer */
       mediaPlayer.prepare();
       /* start */
       mediaPlayer.start();
   }
   else
   {
       /* release mediaplayer */
       mediaPlayer.release();
   }
 } 
```

# api - ThriftDB Rest API 如何获取值范围的匹配项？

> ID：12406112
> 
> 赞同：0
> 
> 时间：2012-09-13T12:20:45.030
> 
> 标签：api

我正在尝试提取所有匹配的黑客新闻评论：

*   在过去 24 小时内创建，

*   超过 10 分（例如）

使用以下查询：

[http://api.thriftdb.com/api.hnsearch.com/items/_search?pretty_print=true&filter[fields][create_ts]=[NOW-100HOURS%20TO%20NOW]&filter[fields][points]=10](http://api.thriftdb.com/api.hnsearch.com/items/_search?pretty_print=true&filter%5Bfields%5D%5Bcreate_ts%5D=%5BNOW-100HOURS%20TO%20NOW%5D&filter%5Bfields%5D%5Bpoints%5D=10)

这`filter[fields][points]=10`给了我所有完全匹配 10 分的项目，但不是超过 10 分的项目。如何获得所有超过 10 分的项目？

[ThirftDB Rest API](http://www.thriftdb.com/documentation/rest-api/search-api)的文档在这里，但我只是不知道该怎么做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:37:55.527

查询语法似乎类似于 Solr ( [http://wiki.apache.org/solr/SolrQuerySyntax](http://wiki.apache.org/solr/SolrQuerySyntax) )：

[http://api.thriftdb.com/api.hnsearch.com/items/_search?pretty_print=true&filter[fields][create_ts]=[NOW-100HOURS TO NOW]&filter[queries][]=points:[10+TO+ *]](http://api.thriftdb.com/api.hnsearch.com/items/_search?pretty_print=true&filter%5Bfields%5D%5Bcreate_ts%5D=%5BNOW-100HOURS%20TO%20NOW%5D&filter%5Bqueries%5D%5B%5D=points%3a%5B10%20TO%20%2a%5D)

# jquery - Bind rows in datatables.net on fnReloadAjax

> ID：12406113
> 
> 赞同：1
> 
> 时间：2012-09-13T12:20:57.107
> 
> 标签：jquery, bind, jquery-datatables

I am using [Datatables](http://datatables.net/) and I am using this code to get clickable rows, called from `fnInitComplete`:

```
function createClickableRowsAllTickets() {
      $(allTable.fnGetNodes()).click( function() {
           alert('row clicked');        
      });
} 
```

This works fine. However when I use `fnReloadAjax` to update the table the row clicks are no longer bound.

I tried to call the function once again on the callback of the `fnReloadAjax` but it doesn't work:

```
$("#alltickets input[type=checkbox]").click(function() {
    allTable.fnReloadAjax('get_tickets', createClickableRowsAllTickets());
}); 
```

What am I doing wrong?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T19:36:25.587

问题解决了。

代码应该是：

```
$("#alltickets input[type=checkbox]").click(function() {
allTable.fnReloadAjax('get_tickets', function() { createClickableRowsAllTickets();},    null);
}); 
```

代替：

```
$("#alltickets input[type=checkbox]").click(function() {
allTable.fnReloadAjax('get_tickets', createClickableRowsAllTickets());
}); 
```

注意回调参数中 function() 的使用。

# http - RESTful API 中的响应代码

> ID：12406114
> 
> 赞同：0
> 
> 时间：2012-09-13T12:21:00.583
> 
> 标签：http, rest, response

如果我有以下 REST API：

/资源/{id}

其中 id 是特定信息的哈希值。如果使用不“正确”的 id 访问它，例如 'abc' (/resource/abc)，

这应该导致找不到 404 还是应该导致其他结果？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T12:26:34.917

是的，如果您尝试无查询 GET，它应该是 404。您正在指定一个找不到的资源路径，这就是 404 的含义。

如果您尝试使用错误的查询参数，您可能需要 400。

如果您尝试使用不受支持的方法查询资源，您可能需要 405。

阅读[http 状态代码](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html)，您应该能够决定您真正需要什么。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:24:24.880

这取决于您使用的 http 方法。 `404 Not found`请求`GET`肯定没问题。

# jquery - 页面更改后的setLabel jqgrid

> ID：12406125
> 
> 赞同：1
> 
> 时间：2012-09-13T12:21:34.160
> 
> 标签：jquery, jqgrid

我想在 gridComplete 之后更改列名，所以我在 gridComplete 块中调用：

```
setTimeout(function(){
            formatCols()
        },"200"); 
```

formatCols 函数是一个 ajax 函数：

```
function formatCols(){
var ids = new Array();
$("tr.jqgrow").each(function(){
    ids.push($(this).attr("id"));
})
$.ajax({
    type: "post",
    dataType: "json",
    data:{
        podszkola: $('#szkola_select').val(),
        ids: ids
    },
    url: location.protocol+"//"+location.host+"/sekretariat/ksiegaewidencji/getyears",
    success: function(data){
        var columnNames = $("#list").jqGrid('getGridParam','colModel');
        for(var i =1; i<=13 ; i++){
            $("#list").setLabel(columnNames[i+1].name.toString(), data.response[i] ,"",{});
        }

        if(firstGrid){
            jQuery("#list").jqGrid('setGroupHeaders', {
                useColSpanStyle: true, 
                groupHeaders:[
                {
                    startColumnName: 'Nr.', 
                    numberOfColumns: 2, 
                    titleText: '<em>Dane Osobowe</em>'
                },
                {
                    startColumnName: 'r1', 
                    numberOfColumns: 13, 
                    titleText: '<em>Spełnienie obowiązku szkolnego w kolejnych latach</em>'
                }
                ]
            });
        }
        firstGrid = false;
        updateCellWidth("list")
        $("#mainLoadingScreen").hide();
    }
}) 
```

}

这些功能的主要部分是：

```
for(var i =1; i<=13 ; i++){
            $("#list").setLabel(columnNames[i+1].name.toString(), data.response[i] ,"",{});
        } 
```

它工作正常，但只有一次！当我尝试更改网格表函数的页面时，会更改错误列的名称。我认为问题是 setLabel() 函数的第一个参数，但我不知道我应该在那里传递什么以使其正常工作。如何获取当前（更改后）colNames，或者只是如何使其工作？

提前致谢。

# hibernate - Grails -- 非法尝试取消引用 Hql 中的集合错误

> ID：12406128
> 
> 赞同：1
> 
> 时间：2012-09-13T12:21:40.220
> 
> 标签：hibernate, grails, groovy, hql, grails-orm

我有一个培训领域课程

```
 class Training {

     String type
     Date createdOn
     Date modifiedOn

    static belongsTo = [course: Course]
    static hasMany = [attachments: Attachment]
  } 
```

我有课程领域课程

```
 class Course {

          String name

          static hasMany = [trainings: Training, tracks: Track]
          static belongsTo = Track
   } 
```

和跟踪域类

```
 class Track {
        String name 
    } 
```

我想根据轨道选择培训。

现在说我得到了track id，我想根据Track id检索训练

我试过这样的查询

```
 def query = "FROM Training AS t WHERE  t.course.tracks.id IN (1,2)"
  trainingList = Training.findAll(query) 
```

它给

```
 illegal attempt to dereference collection 
```

错误..因为我做不到`t.course.tracks.id`

如果我有跟踪 ID（比如 1、2），请帮助我编写正确的 hql 查询以获得培训

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-22T00:21:47.523

你能做的就是这个

```
def query = "FROM Training AS t join t.course as c join c.tracks as tr WHERE  tr.id IN (1,2)"
trainingList = Training.findAll(query) 
```

问题是当您尝试从一个到多个时。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-13T13:18:18.060

Please find below the HQL to retrieve all the trainings for tracid 1 & 2.

> from Course c, Track tr, Training t where tr.courceid= c.courceid and tr.trackid=c.tracid and tr.trackid in (1,2)

# javascript - pageflip UI 可以在 IE 中使用吗？

> ID：12406129
> 
> 赞同：2
> 
> 时间：2012-09-13T12:21:42.280
> 
> 标签：javascript, html, internet-explorer, css

[受 Flipboard 启发的实验性页面布局](http://tympanus.net/Development/FlipboardPageLayout/?page=0)显示了一个翻转页面，其中页面像书页一样被翻转。

是否有可能在 IE 中使用 HTML、CSS3 和 JavaScript，而不使用 Flash？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:24:30.050

我认为在 IE 10 中应该是可能的。
该网站使用 CSS 3 属性`-webkit-transform`。

新的 IE 10（仅适用于 Windows 7* 和 8）本机**支持** `transform`，无需任何供应商前缀！

IE 9 仅支持包含`-ms`前缀的 2D 变换。

^(*) 仅允许部分 beta 测试人员下载适用于 Windows 7 的 IE 10。)

# css - 如何正确设置css？

> ID：12406131
> 
> 赞同：2
> 
> 时间：2012-09-13T12:21:45.793
> 
> 标签：css, wrapper

嘿，有人能告诉我这部分 CSS 是对还是错吗？

我个人认为这是错误的，但这是我可以将内容放在屏幕中央的唯一方法，如果我将所有内容都替换为左侧`999px`。`auto`

如果有人知道如何正确编写它，那就太好了！

我做网站已经有一段时间了，但我需要学习正确的方法。

```
#wrapper {
    width: 999px;
    margin: 0 auto;
} 
```

**[演示](http://jsfiddle.net/prQXJ/)**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:24:32.677

如果您希望将其`#wrapper`留在页面的中心，则您的代码是正确的。

您可以指定所需的每个宽度，但不能指定`auto`.

* * *

如果您正在寻找**响应式设计**，请查看`@Media Queries`

[http://googlewebmastercentral.blogspot.co.uk/2012/04/responsive-design-harnessing-power-of.html](http://googlewebmastercentral.blogspot.co.uk/2012/04/responsive-design-harnessing-power-of.html)

* * *

例子：

为正常样式编写您的 css，然后添加：

```
/* Landscape phone to portrait tablet */
@media (max-width: 767px) { ... }

/* Landscape phones and down */
@media (max-width: 480px) { ... } 
```

在这里，您可以为具有该最小或最大尺寸的浏览器指定不同的尺寸和样式。

开始使用响应式设计的一个好工具是：**[Bootstrap](http://twitter.github.com/bootstrap/)**

# android - android 2点之间有多少像素

> ID：12406138
> 
> 赞同：1
> 
> 时间：2012-09-13T12:22:03.130
> 
> 标签：android, point

我想计算屏幕上两个点之间有多少像素。

我已经看到我可以使用 Path 类在两点之间画一条直线，但我真的不想画那条线，我只想知道它有多长（以像素为单位）。

我真的需要它来实现我的 MapView 集群..

我可以毫无问题地获得屏幕上的每个标记位置，但不知道如何计算它们之间的像素“距离”......我知道有可用的集群实现，但我想尝试创建自己的一个

帮助将不胜感激:)

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-13T12:26:10.170

使用一些代数这非常简单:)

取两个点的坐标并计算它们的 x 和 y 值之间的差异，例如

```
dx = p1.x - p2.x;
dy = p1.y - p2.y;

distance = Math.sqrt( (dx * dx) + (dy * dy) ); 
```

你想得到的点在哪里`p1`和是找到之间的距离，是结果。这将是双倍的，但如果您愿意，可以将其四舍五入到最接近的值`p2``distance``int`

# c - 如何将浮点输入转换为整数并保持最大精度？

> ID：12406139
> 
> 赞同：0
> 
> 时间：2012-09-13T12:22:03.857
> 
> 标签：c, floating-point, floating-accuracy, floating-point-precision, floating-point-conversion

我必须使用一种算法，它需要一个整数矩阵作为输入。我拥有的输入是真正有价值的，因此我想在将输入传递给算法之前将其转换为整数。

我虽然将输入缩放一个大常数，然后将其四舍五入为整数。这看起来是一个很好的解决方案，但是如何决定使用一个好的常量，特别是因为浮点输入的范围可能因情况而异？也欢迎任何其他想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T14:02:05.920

这个问题的最佳一般答案可能是找出您的算法可以接受的最大整数值作为矩阵中的一个元素，而不会导致算法本身溢出。一旦你有了这个最大值，在你的输入数据中找到最大的浮点值，然后按这两个最大值的比率缩放你的输入，然后四舍五入到最接近的整数（避免截断）。

实际上，您可能无法做到这一点，因为您可能无法确定算法可以接受而不会溢出的最大整数值是多少。也许你不知道算法的细节，或者它以一种复杂的方式依赖于所有的输入值。如果是这种情况，您只需要选择一个似乎工作得很好的任意最大输入值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:26:17.877

首先将您的输入标准化为 [0,1) 范围，然后使用常用方法对其进行缩放：

```
f(x) = range_max_exclusive * x + range_min_inclusive 
```

之后，将 f(x) （或根据需要舍入）转换为整数。通过这种方式，您可以处理诸如实际值在范围内`[0,1)`或`[0,n) where n>1`.

通常，您最喜欢的库包含矩阵运算，您可以轻松实现此技术，并且比您可能的实现具有更好的性能。

编辑：按比例缩小然后按比例放大肯定会丢失一些精度。我喜欢它，因为标准化操作通常随库一起提供。您也可以通过以下方式在不缩小规模的情况下做到这一点：

```
f(x) = range_max_exlusive / max_element * x + range_min_inclusive 
```

# xquery - 如何在 XQuery 中对变量执行多个函数（不同值、计数）？

> ID：12406143
> 
> 赞同：1
> 
> 时间：2012-09-13T12:22:16.497
> 
> 标签：xquery, distinct-values

我有一个包含以下条目的 XML 文件：

```
<file>
 <unit id="u-1.01"/>
 <unit id="u-1.02"/>
 <unit id="u-1.03"/>
 <unit id="u-1.04"/>
 <unit id="u-1.05"/>
 <unit id="u-1.06"/>
 <unit id="u-1.07"/>
 <unit id="u-2.01"/>
 <unit id="u-2.02"/>
 <unit id="u-2.03"/>
 <unit id="u-2.04"/>
 <unit id="u-2.05"/>
 <unit id="u-2.06"/>
</file> 
```

我想使用下面的查询来计算不同值的数量。

查询遍历每个*@id*属性并选择字符串中的第三个字符。

```
declare function local:count-base-pages($basefile) {
for $identifiers in $basefile/unit/@id
let $id := distinct-values(substring($identifiers, 3, 1)) 
return count($id) 
}; 
```

但是，此查询返回以下序列：

```
1 1 1 1 1 1 1 2 2 2 2 2 2 
```

期望的结果将是`2`因为有两个不同的值：1 和 2。

我如何滥用*distinct-values*和*count*函数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:56:34.107

您需要将函数包装在实际的 FLWOR 表达式周围：`count(distinct-values(for ... return ...))`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T14:16:16.943

**使用较短的**：

```
count(distinct-values(/*/*/@id/substring(.,3,1))) 
```

**对提供的 XML 文档执行上述 XQuery**：

```
<file>
 <unit id="u-1.01"/>
 <unit id="u-1.02"/>
 <unit id="u-1.03"/>
 <unit id="u-1.04"/>
 <unit id="u-1.05"/>
 <unit id="u-1.06"/>
 <unit id="u-1.07"/>
 <unit id="u-2.01"/>
 <unit id="u-2.02"/>
 <unit id="u-2.03"/>
 <unit id="u-2.04"/>
 <unit id="u-2.05"/>
 <unit id="u-2.06"/>
</file> 
```

**产生想要的正确结果**：

```
2 
```

# spring - 在 Tomcat 6 中使用 Spring Insight

> ID：12406146
> 
> 赞同：6
> 
> 时间：2012-09-13T12:22:40.337
> 
> 标签：spring, tomcat6, spring-insight

我想将 Spring Insight 与 Tomcat 6 一起使用。由于我无法控制的原因，我无法使用 TC 服务器。所以我正在考虑将 Spring Insight 与 Tomcat 6 集成。以前有没有人在这方面工作过，或者任何人都可以向我指出任何文档。

谢谢， 阿努杰

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-17T16:36:26.570

Insight Developer（免费产品）有两种形式，与 tc Server Developer 打包和与 STS 打包。这两个选项都不会提供将 Insight 安装到 Tomcat 的简单机制。我并不是说它不能做到，只是没有简单的方法可以做到。

如果您真的想在 Tomcat 上运行 Insight，那么您将需要做一些工作。以下是您需要执行的粗略步骤。

1.  下载 vFabric tc 服务器开发人员
2.  创建一个启用了 Insight 的 vFabric tc 服务器实例。
3.  下载最新的 Apache Tomcat 6.0.x 或 7.0.x
4.  从带有 Insight 的 tc 服务器实例中复制以下文件和文件夹

    *   bin/setenv.sh
    *   bin/insight-bootstrap-tcserver-1.8.3.RELEASE.jar
    *   洞察力
    *   库/*
    *   webapps/insight.war
5.  编辑 conf/server.xml 并将以下 Valve 添加到 Engine 块。

    `<Valve className="com.springsource.insight.collection.tcserver.request.HttpRequestOperationCollectionValve"/>`

6.  编辑 conf/context.xml 并在结束 Context 标记之前添加以下内容。

    `<Loader loaderClass="com.springsource.insight.collection.tcserver.ltw.TomcatWeavingInsightClassLoader" />`

    `<Listener className="com.springsource.insight.collection.tcserver.lifecycle.ApplicationLifecycleCollectionListener" />`

7.  启动 Tomcat 实例。

或者，Insight Operations（付费产品）使这变得更加容易，并提供了一个安装程序，使您可以轻松快速地将 Insight Agent 添加到不同的容器中，包括 ASF Tomcat。这是文档的链接。

[http://pubs.vmware.com/vfabric51/topic/com.vmware.vfabric.tc-server.2.7/operations/install-agents.html](http://pubs.vmware.com/vfabric51/topic/com.vmware.vfabric.tc-server.2.7/operations/install-agents.html)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-28T13:50:04.303

我认为这个指令对你有帮助[http://blog.jelastic.com/2012/11/28/application-monitoring-in-the-cloud-with-spring-insight/](http://blog.jelastic.com/2012/11/28/application-monitoring-in-the-cloud-with-spring-insight/) 实际上在本教程中 Tomcat 是一个云实例，但我想它也适合本地安装。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-12T07:56:44.373

我下载了 vfacbric-tc-server-2.9.6 并按照 Daniel Mikusa 提到的说明设置对 tomcat 7 的洞察力。不幸的是，tomcat 在提供的 jar 中找不到类 HttpRequestOperationCollectionValve、TomcatWeavingInsightClassLoader 和 ApplicationLifecycleCollectionListener。在努力添加包含这些类的新 jar 并获得类冲突 2 天之后，最后我发现只需删除 server.xml 和 context.xml 中的配置就足以获得在 tomcat 上工作的洞察力。

因此，您需要在 tomcat 上设置洞察力，只需他回答中的步骤 1 到 4 和 7。为了其他人方便，我正在复制相同的内容

1.  下载 vFabric tc 服务器开发人员
2.  创建一个启用了 Insight 的 vFabric tc 服务器实例。
3.  下载最新的 Apache Tomcat 6.0.x 或 7.0.x
4.  从带有 Insight bin/setenv.sh bin/insight-bootstrap-tcserver-1.8.3.RELEASE.jar 洞察 lib/* webapps/insight.war 的 tc 服务器实例中复制以下文件和文件夹
5.  启动 Tomcat 实例。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-04-08T22:31:16.263

我正在尝试遵循“nagamanojv”提供的更新说明。我可以在 Tomcat 6 上启动[http://localhost:8080/insight/](http://localhost:8080/insight/)，但我没有看到任何应用程序。我已经在同一个 tomcat 实例上部署了我的一个 Web 应用程序。如果我遗漏了什么，请告诉我。

# python - Python如何在注册表中获取文件夹名称

> ID：12406150
> 
> 赞同：2
> 
> 时间：2012-09-13T12:22:50.200
> 
> 标签：python, windows, registry, directory

我想获取注册表中路径的文件夹名称，而不是键值！

我已经可以读取键值，那么如何读取文件夹值？

我想要它，因为我需要版本 nr。libreOffice，它只存储在文件夹名称中。

```
def getRegistryKeyValue (self, root, dir, key):
       currentKey = winreg.OpenKey(root, dir)
       currentVersion, valuetype = winreg.QueryValueEx(currentKey, key)

key = self.getRegistryKeyFolder(winreg.HKEY_LOCAL_MACHINE, "SOFTWARE\\LibreOffice") 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:07:58.250

使用[EnumKey](http://docs.python.org/library/_winreg.html#_winreg.EnumKey)遍历“文件夹”（在注册表中称为“键”）

```
parentKey = winreg.OpenKey(root, dir)
i = 0
while True:
   try:
       key = winreg.EnumKey(parent, i)
       print key
       i += 1
   except WindowsError: 
       break 
```

# linux - 我们可以将 Perl 脚本中使用的变量设置为环境变量吗？

> ID：12406152
> 
> 赞同：2
> 
> 时间：2012-09-13T12:22:59.777
> 
> 标签：linux, perl, bash, unix

我有一个 Perl 脚本，它有一个像`my $name`. 我们可以将 $name 的内容设置为可以导入其他文件并在其他文件中使用的环境变量吗？

我试过`$ENV{NAME}=name`了，但这不起作用。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-13T12:26:55.873

如果要影响进程或子进程的环境，只需使用`%ENV`哈希：

```
$ENV{CVSROOT}='<cvs>'; 
```

如果你想影响你的父进程的环境，你不能。至少不是没有父进程的合作。标准流程是发出一个 shell 脚本并让父进程执行该 shell 脚本：

```
#!/usr/bin/perl -w
print 'export CVSROOT=<cvs>'; 
```

...并从外壳（脚本）调用该脚本：

```
eval `myscript.pl` 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-13T12:30:46.863

环境变量特定于进程。当子进程产生时，它继承其父环境变量的副本，但它对它们所做的任何更改都仅限于它自己以及它在更改后产生的任何子进程。

所以不，你不能在你运行的脚本中为你的 shell 设置一个环境变量。

# php - 奇怪的 PDO 查询结果

> ID：12406153
> 
> 赞同：1
> 
> 时间：2012-09-13T12:23:00.773
> 
> 标签：php, pdo

好吧，PDO 的最弱点是无法调试它，因为准备好的语句实际上存储在服务器端。我花了一整天的时间来解决我根本无法理解的问题。所以，情况是这样的：

```
//the query itself
            //Did other customers from the list buy the same style in last 3 months?
            $end = date("Y-m-d H:i:s");
            $start = strtotime("-3 month", strtotime($end));
            $start = date('Y-m-d 00:00:00', $start);
            $q = $db->prepare('SELECT COUNT(*) as totals FROM web_order
                            JOIN web_order_item ON web_order_item.od_id = web_order.od_id
                            WHERE web_order.p_vendor IN (:id)
                            AND od_pcode = :pcode
                            AND od_date BETWEEN :start AND :end
                            ');
            $q->bindValue(":pcode", '1008GD');
            $q->bindValue(":id", $custList);
            $q->bindValue(":start", $start);
            $q->bindValue(":end", $end);
            $q->execute();
            echo "SELECT COUNT(*) as totals FROM web_order
                            JOIN web_order_item ON web_order_item.od_id = web_order.od_id
                            WHERE web_order.p_vendor IN ($custList)
                            AND od_pcode = '1008GD'
                            AND od_date BETWEEN '$start' AND '$end'";
            $res = $q->fetchAll();
die(print_r($res)); 
```

有趣的地方来了——`print_r($res)`打印空数组。

```
Array ( [0] => Array ( [totals] => 0 [0] => 0 ) ) 
```

虽然打印出具有完全相同查询的 echo 语句

> `SELECT COUNT(*) as totals FROM web_order JOIN web_order_item ON web_order_item.od_id = web_order.od_id WHERE web_order.p_vendor IN ('210','1107','2295','2452') AND od_pcode = '1008GD' AND od_date BETWEEN '2012-06-13 00:00:00' AND '2012-09-13 13:15:36'`

如果我自己执行回显查询，我会得到“总计”列的值为 1。同时 PDO 语句不返回任何内容。

任何帮助将不胜感激。

**更新：** 虽然发布了答案，但我仍然不明白为什么这不起作用。$custList 实际上是一个字符串，而不是一个数组，因为我使用了

```
$custList = implode(",", $custList); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:05:14.290

正如肯在对您的问题的评论中提到的那样，您的问题是`:id`绑定，即 PDO 不允许您将数组绑定为参数。您需要遍历数组并将各个元素绑定到查询中。

通常，我使用一个循环来处理这个问题，该循环为数组的每个元素`foreach`添加 a`?`到查询中，然后我将每个元素以正确的顺序与其他准备好的变量绑定到查询中（因为`?`是位置的，而不是命名的）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T16:53:43.800

我看到的是两个大错误：第一个由@Joe 解释，但第二个在这里：

```
$q->bindValue(":start", $start);
$q->bindValue(":end", $end); 
```

通过传递第三个参数，您忘记说“这些参数是整数，所以不要引用它们”。$q->bindValue(":start", $start,PDO::PARAM_INT); $q->bindValue(":end", $end,PDO::PARAM_INT);

# android - SherlcokFargments 一个片段中的按钮来调用第二个片段

> ID：12406154
> 
> 赞同：0
> 
> 时间：2012-09-13T12:23:01.910
> 
> 标签：android, android-fragments, actionbarsherlock

我试图弄清楚片段是如何工作的。我有 3 个类，MainActivity、Fragment1 和 Fragment2。

MainActivity 扩展了 SherlockFragmentActivity 和

```
 @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    Fragment1 firstFragment = new Fragment1();
    firstFragment.setArguments(getIntent().getExtras());
    getSupportFragmentManager().beginTransaction()
                .add(R.id.fragment_container1, firstFragment).commit(); 
```

现在，我将 Fragment1 加载到我的 fragment_container 中，它显示得很好。

（所以 main_activity.xml 只有一个）

好的，Fragment1 扩展了 SherlockFragment，然后什么都不做

```
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {

    return inflater.inflate(R.layout.fragment1layout, container, false); 
```

所以我只是从我的 .xml 中膨胀它，它有一个文本视图和一个按钮。

现在我可以在世界上的哪个地方实例化 Button，并给他代码用 Fragment2 替换 Fragment1？

代码是什么，因为我现在“在 Fragment1 中”，所以我需要以某种方式与 Fragment holder 沟通并告诉它“用 Fragment2 替换我”。

Fragment2 还扩展了 SherlockFragment，并且什么都不做，将其膨胀为空的 .xml

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:31:00.710

您必须从 fragment1 调用您的 fragment2，如下所示

```
 public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
     View view = inflater.inflate(R.layout.fragment1layout, container, false);
            Button button = (Button)view.findViewById(R.id.yourButton);
            button.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    //Replace your fragment

                }
            });
        return view;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:00:48.413

> 我现在“在 Fragment1 中”，所以我需要以某种方式与 Fragment holder 沟通并告诉它“用 Fragment2 替换我”。

如果您想在单击进入 Fragment1 的按钮时将 Fragment1 替换为 Fragment2：

（最佳实践）

1.  您应该像[这里描述的那样创建从 fragment1 到 MainActivity 的回调](http://developer.android.com/guide/components/fragments.html#EventCallbacks)
2.  进入 MainActivity 放置逻辑，将片段 1 替换为片段 2。

（不良做法）

1.  创建`MainActivity`将一个片段替换为另一个片段的方法，例如`changeFirstFragmentToAnother()`
2.  那么当您需要将 fragment1 更改为 fragment2 时，您可以手动（从 fragment1）调用此方法，如下所示：

    `((MainActivity)getActivity()).changeFirstFragmentToAnother();`

# html - 在内容伪类中添加更多空白

> ID：12406155
> 
> 赞同：0
> 
> 时间：2012-09-13T12:23:02.110
> 
> 标签：html, css, pseudo-class

如何使用内容伪类添加更多空间

我正在使用下面的代码来添加单个空格。

```
h3:before{content:" "} 
```

我需要通过使用内容来添加更多空间。

PS：html请不要添加

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:24:44.227

使用一些填充权而不是空格怎么样？

```
h3 {
    padding-right: 10px
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:28:10.563

..................................................

用于**边距**或**填充**_`after`

像这样

```
h3:before{content:"";
margin-left:40px;
} 
```

***[演示](http://tinkerbin.com/kAbUIlRu)***

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:32:07.730

如果您只想在第一行文本之前腾出空间，那为什么不使用

```
h3:first-line{padding:0 0 0 40px;} or
h3{padding:0 0 0 40px;} 
```

这些“填充”是

```
padding-top padding-right padding-bottom padding-left 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-10-26T06:41:30.013

实现此目的的另一个解决方案是使用“word-spacing”属性来增加每个空格正在使用的空间。

比如`word-spacing: 10px;`会让每个空间占用10个像素。

这使您可以使用具有多个单词的单个伪元素，并且仍然在无法提供帮助的地方添加分隔`margin`符`padding`。

*例子*

```
.my-class::before {
    content: 'One Two Three';
    word-spacing: 10px;
} 
```

* * *

如果您需要更多控制，您还可以转义`content`属性中的空格，并使用`white-space: pre;`允许显示转义的空格（因为默认情况下大多数元素将忽略它们）。

*例子*

```
.my-class::before {
    content: 'One \ \ Two \ \ Three';
    white-space: pre;
} 
```

* * *

参考：

[MDN 网络文档：字间距](https://developer.mozilla.org/en-US/docs/Web/CSS/word-spacing)

[MDN 网络文档：空白](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)

[CSS 字符转义序列](https://mathiasbynens.be/notes/css-escapes)

# iphone - 代码符号错误：应用程序标识符“com.reapptive.Floors2Go”与当前设置“com.reapptive.Floors2Go”不匹配

> ID：12406159
> 
> 赞同：40
> 
> 时间：2012-09-13T12:23:15.240
> 
> 标签：iphone, xcode, provisioning

我更新了我的配置文件以包含更多用于 Ad-Hoc 测试的设备，我添加了这个新配置文件并删除了旧配置文件，现在我收到了这个错误：

> 代码符号错误：配置文件“Floors2Go”指定了与当前设置“com.reapptive.Floors2Go”不匹配的应用程序标识符“com.reapptive.Floors2Go”

如果你看起来它们完全一样，我已经删除，重新添加了一个新的配置文件，删除并在我的 plist 中重新输入了捆绑包名称，对于我的生活，我无法弄清楚这一点。

我也尝试过清理所有并重建，但无济于事。

有任何想法吗？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-09-16T19:52:21.693

似乎是 Xcode GM Seed 中的一个错误，每次更改配置文件时我都必须杀死 Xcode 并重新打开它。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-11-09T10:29:34.157

我在尝试用更新版本替换开发配置文件时也遇到了这个问题。看起来像一个错误。

运行 XCode clean，然后将代码签名身份（在我的情况下为开发人员）设置为“不进行代码签名”，然后将代码签名身份设置回相关的开发配置文件解决了构建错误。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-01-08T03:00:59.120

在 Xcode（我使用的是 4.5.2）> 构建设置 > 代码签名部分：

1.  将所有内容更改为`Don't Code Sign`
2.  将个人设置更改为适当的开发人员/分发配置文件。

例如：

![在此处输入图像描述](../Images/e6240f4774a2c3576986b4d121ffc417.png)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-27T11:34:44.587

就我而言，删除钥匙串中重复且无效的证书解决了这个问题。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-19T07:32:57.110

1.  Remove all Prov. Profile from Organizer
2.  From Menu Select **Editor** -> **Refresh From Developer Center**
3.  Enter your apple id and password and wait
4.  Go to **Buit Settings** of App select **development profile** for **debug** and **ad-Hoc profile** for **release**

**Note** It is Advice to create two different profile for development and testing

*   For Development - > Create Development Profile -> Use
*   For Distribution -> Create Ad Hoc Profile

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-18T12:44:32.823

*   1- 清洁（产品 --> 清洁）
*   2-删除省。配置文件（Window --> Organizer）删除未使用和过期的证明。轮廓
*   3-在您的项目和目标中将所有内容设置为不进行代码签名（在代码签名下的构建设置下按下您的项目，将所有内容设置为不进行代码签名并在您的目标上再次执行此操作）
*   4-重新启动 Xcode
*   5-重新添加省。轮廓
*   6-再次转到代码签名并将它们设置为您的省。轮廓。
*   7- 再次执行步骤 6 以在您的目标中进行代码签名。如果它不起作用，请尝试进行下一步
*   8-调试下的任何 iOS SDK 将其设置为自动配置文件选择器下的 iPhone 或 iPad 开发人员。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-13T12:26:18.673

plist文件中的应用程序标识符应该有问题。检查一下。您是否安装了新的配置文件？

# java - 处理 JDBC 异常

> ID：12406161
> 
> 赞同：-1
> 
> 时间：2012-09-13T12:23:21.750
> 
> 标签：java, oracle, exception, jdbc, noclassdeffounderror

我面临一个 JDBC 异常（100 次一次）。但即使在那种情况下，我也想控制那个异常并使过程顺利

```
Caused by: java.lang.NoClassDefFoundError
at oracle.jdbc.driver.T4CDriverExtension.allocatePreparedStatement(T4CDriverExtension.java:67)
at oracle.jdbc.driver.PhysicalConnection.prepareStatement(PhysicalConnection.java:3559)
at oracle.jdbc.driver.PhysicalConnection.prepareStatement(PhysicalConnection.java:3445)
at oracle.jdbc.OracleDatabaseMetaData.getTables(OracleDatabaseMetaData.java:2766)
at com.mchange.v2.c3p0.impl.DefaultConnectionTester.activeCheckConnection(DefaultConnectionTester.java:70)
at com.mchange.v2.c3p0.impl.DefaultConnectionTester.statusOnException(DefaultConnectionTester.java:59)
at com.mchange.v2.c3p0.impl.C3P0PooledConnection$ProxyConnectionInvocationHandler.handleMaybeFatalToPooledConnection(C3P0PooledConnection.java:837)
at com.mchange.v2.c3p0.impl.C3P0PooledConnection$ProxyConnectionInvocationHandler.invoke(C3P0PooledConnection.java:732)
at com.mchange.v2.c3p0.impl.$Proxy55.prepareStatement(Unknown Source)
at org.springframework.jdbc.core.PreparedStatementCreatorFactory$PreparedStatementCreatorImpl.createPreparedStatement(PreparedStatementCreatorFactory.java:232)
at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:581)
at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:843)
at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:288) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:13:44.957

这不是 SQLException。您的问题在于您的 JDBC 驱动程序对您的应用程序不可用。换句话说，您正在尝试使用不存在的东西（驱动程序）。

解决方案：

1) 确保您拥有 Oracle 的正确 JDBC 驱动程序 ( [http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html](http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html) )

2) 确保为您的应用程序提供驱动程序

这是开始[http://docs.oracle.com/javase/tutorial/jdbc/overview/index.html的好地方](http://docs.oracle.com/javase/tutorial/jdbc/overview/index.html)

# python - 使用日期时间绘制切片熊猫数据框时出现 KeyError

> ID：12406162
> 
> 赞同：22
> 
> 时间：2012-09-13T12:23:23.853
> 
> 标签：python, pandas, numpy, matplotlib

当我尝试绘制带有日期时间的 pandas DataFrame 列的一部分时，我得到一个 KeyError。有人知道是什么原因造成的吗？

我设法在一个独立的小示例中重现了该错误（您也可以在此处查看：http: [//nbviewer.ipython.org/3714142/](http://nbviewer.ipython.org/3714142/)）：

```
import numpy as np
from pandas import DataFrame
import datetime
from pylab import *

test = DataFrame({'x' : [datetime.datetime(2012,9,10) + datetime.timedelta(n) for n in range(10)], 
                  'y' : range(10)}) 
```

现在，如果我绘制：

```
plot(test['x'][0:5]) 
```

没有问题，但是当我绘制时：

```
plot(test['x'][5:10]) 
```

我得到下面的 KeyError （并且错误消息对我不是很有帮助）。这只**发生在日期时间**列上，而不是其他列（据我所知）。例如`plot(test['y'][5:10])`不是问题。

错误信息：

```
---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)
<ipython-input-7-aa076e3fc4e0> in <module>()
----> 1 plot(test['x'][5:10])

C:\Python27\lib\site-packages\matplotlib\pyplot.pyc in plot(*args, **kwargs)
   2456         ax.hold(hold)
   2457     try:
-> 2458         ret = ax.plot(*args, **kwargs)
   2459         draw_if_interactive()
   2460     finally:

C:\Python27\lib\site-packages\matplotlib\axes.pyc in plot(self, *args, **kwargs)
   3846         lines = []
   3847 
-> 3848         for line in self._get_lines(*args, **kwargs):
   3849             self.add_line(line)
   3850             lines.append(line)

C:\Python27\lib\site-packages\matplotlib\axes.pyc in _grab_next_args(self, *args, **kwargs)
    321                 return
    322             if len(remaining) <= 3:
--> 323                 for seg in self._plot_args(remaining, kwargs):
    324                     yield seg
    325                 return

C:\Python27\lib\site-packages\matplotlib\axes.pyc in _plot_args(self, tup, kwargs)
    298             x = np.arange(y.shape[0], dtype=float)
    299 
--> 300         x, y = self._xy_from_xy(x, y)
    301 
    302         if self.command == 'plot':

C:\Python27\lib\site-packages\matplotlib\axes.pyc in _xy_from_xy(self, x, y)
    215         if self.axes.xaxis is not None and self.axes.yaxis is not None:
    216             bx = self.axes.xaxis.update_units(x)
--> 217             by = self.axes.yaxis.update_units(y)
    218 
    219             if self.command!='plot':

C:\Python27\lib\site-packages\matplotlib\axis.pyc in update_units(self, data)
   1277         neednew = self.converter!=converter
   1278         self.converter = converter
-> 1279         default = self.converter.default_units(data, self)
   1280         #print 'update units: default=%s, units=%s'%(default, self.units)
   1281         if default is not None and self.units is None:

C:\Python27\lib\site-packages\matplotlib\dates.pyc in default_units(x, axis)
   1153         'Return the tzinfo instance of *x* or of its first element, or None'
   1154         try:
-> 1155             x = x[0]
   1156         except (TypeError, IndexError):
   1157             pass

C:\Python27\lib\site-packages\pandas\core\series.pyc in __getitem__(self, key)
    374     def __getitem__(self, key):
    375         try:
--> 376             return self.index.get_value(self, key)
    377         except InvalidIndexError:
    378             pass

C:\Python27\lib\site-packages\pandas\core\index.pyc in get_value(self, series, key)
    529         """
    530         try:
--> 531             return self._engine.get_value(series, key)
    532         except KeyError, e1:
    533             if len(self) > 0 and self.inferred_type == 'integer':

C:\Python27\lib\site-packages\pandas\_engines.pyd in pandas._engines.IndexEngine.get_value (pandas\src\engines.c:1479)()

C:\Python27\lib\site-packages\pandas\_engines.pyd in pandas._engines.IndexEngine.get_value (pandas\src\engines.c:1374)()

C:\Python27\lib\site-packages\pandas\_engines.pyd in pandas._engines.DictIndexEngine.get_loc (pandas\src\engines.c:2498)()

C:\Python27\lib\site-packages\pandas\_engines.pyd in pandas._engines.DictIndexEngine.get_loc (pandas\src\engines.c:2460)()

KeyError: 0 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-16T19:03:26.833

HYRY 解释了为什么会出现 KeyError。要使用 matplotlib 绘制切片，您可以执行以下操作：

```
In [157]: plot(test['x'][5:10].values)
Out[157]: [<matplotlib.lines.Line2D at 0xc38348c>]

In [158]: plot(test['x'][5:10].reset_index(drop=True))
Out[158]: [<matplotlib.lines.Line2D at 0xc37e3cc>] 
```

x, y 一次绘制 0.7.3

```
In [161]: test[5:10].set_index('x')['y'].plot()
Out[161]: <matplotlib.axes.AxesSubplot at 0xc48b1cc> 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-09-13T13:43:36.910

您可以调用 Series 对象的 plot 方法，而不是调用`plot(test["x"][5:10])`：

```
test["x"][5:10].plot() 
```

原因：`test["x"][5:10]`是一个整数索引从 5 到 10 的 Series 对象。`plot()`尝试获取它的索引 0，这将导致错误。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-05-02T19:51:03.113

`pd.groupby`我在 Pandas 0.14.0 中遇到了这个错误并用`df = df[df['col']!= 0].reset_index()`

# c# - 实现字典 >，按键顺序？

> ID：12406167
> 
> 赞同：2
> 
> 时间：2012-09-13T12:23:56.020
> 
> 标签：c#

我可以选择把两个钥匙放在哪里；

```
 Dictionary<key1, Dictionary<key2, int>>
 Dictionary<key2, Dictionary<key1, int>> 
```

如果 key1 比 key2 小 32 倍

我应该实施哪一个以获得最大速度？

重要吗？

有没有更好的方法来实现它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:27:38.587

通过实现复合键，您可能会获得最佳性能：

```
struct Key { key1; key2; } 
```

实现`Equals`并`GetHashCode`为此（更好的是`IEquatable<Key>`接口）。

使用这种模式，您只需要一个字典和一个哈希查找。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T15:37:14.243

所以在玩耍之后，我选择了这个解决方案；

```
 int[,][] myDict; 
```

代替

```
 Dictionary<int, Dictionary<int, int>> myDict; 
```

或两个键的元组或结构

# javascript - 从 xmlHttp.responseText 获取某些元素作为响应？

> ID：12406168
> 
> 赞同：0
> 
> 时间：2012-09-13T12:23:59.530
> 
> 标签：javascript, ajax, html, getelementbyid

根据此链接[xmlhttp.responseText 不显示文本](https://stackoverflow.com/questions/12404431/xmlhttp-responsetext-not-display-text/12404599#comment16671053_12404599)。我有另一个关于定位 div id 以显示更新状态的问题。我有数百个 div id="result" 正在等待响应代码采取行动：成功 || 错误。现在的问题是当我更新任何字段时。只有第一个 div id="result" 是变化。那么如何从 php 中取回 id 并让它以自己的状态显示呢？

```
<script type="text/javascript">

//auto update
function updateField(nameValue){
    var xmlHttp=null;
    try{
        xmlHttp=new XMLHttpRequest();
        }
catch (e){
    try{
        xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
        }
catch (e){
    alert("No AJAX!");
    return false;
    }
}
xmlHttp.onreadystatechange=function(){
    if(xmlHttp.readyState==4){
        if (xmlHttp.status==200){
            //this will be called after update
            var responseText = xmlHttp.responseText;        
                doSomethingAfterUpdate(responseText);
            }
        }
    }
    //this will send the data to server to be updated
    xmlHttp.open("GET", 'inc/room_rate_updatez.php?'+ nameValue, true);//return "x" or "y"
    xmlHttp.send(null);
}

function doSomethingAfterUpdate(retValFromPHP){
    if (retValFromPHP == "x"){
       document.getElementById("result").innerHTML = "<img src=\"../images/ico_no.png\" alt=\"X\"/>";
       document.getElementById("result").className="error"
    }else{
       document.getElementById("result").innerHTML = "<img src=\"../images/ico_yes.png\" alt=\"Y\" />";
       document.getElementById("result").className="success"
    }
}

</script> 
```

这是HTML：

```
<table border="1">
<tr id="zebra">
<td>01 Nov 2012</td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|498|6400-5200-4600-5600-4100|0" id="498" value="6400" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|498|6400-5200-4600-5600-4100|1" id="498" value="5200" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|498|6400-5200-4600-5600-4100|2" id="498" value="4600" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|498|6400-5200-4600-5600-4100|3" id="498" value="5600" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|498|6400-5200-4600-5600-4100|4" id="498" value="4100" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
</tr>
<tr id="zebra">
<td>02 Nov 2012</td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|499|6200-5200-4600-5600-4100|0" id="499" value="6200" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|499|6200-5200-4600-5600-4100|1" id="499" value="5200" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|499|6200-5200-4600-5600-4100|2" id="499" value="4600" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|499|6200-5200-4600-5600-4100|3" id="499" value="5600" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|499|6200-5200-4600-5600-4100|4" id="499" value="4100" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
</tr>
<tr id="zebra">
<td>03 Nov 2012</td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|500|6200-5200-4500-5600-4100|0" id="500" value="6200" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|500|6200-5200-4500-5600-4100|1" id="500" value="5200" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|500|6200-5200-4500-5600-4100|2" id="500" value="4500" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|500|6200-5200-4500-5600-4100|3" id="500" value="5600" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|500|6200-5200-4500-5600-4100|4" id="500" value="4100" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
</tr>
<tr id="zebra">
<td>04 Nov 2012</td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|501|6200-5200-4600-5400-4100|0" id="501" value="6200" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|501|6200-5200-4600-5400-4100|1" id="501" value="5200" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|501|6200-5200-4600-5400-4100|2" id="501" value="4600" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|501|6200-5200-4600-5400-4100|3" id="501" value="5400" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
<td id="rate"><div id="result"></div>&nbsp;<input type="text" name="rate|501|6200-5200-4600-5400-4100|4" id="501" value="4100" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
</tr>
</table> 
```

现在的问题是：

1.  如何根据 "document.getElementById("resultXXX").innerHTML" 中 PHP 的 responseText 更改 "XXX"？
2.  我想命名 div id="rate[$i]" 并更新，然后在更新成功时发回。

请建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T14:44:05.797

这对我来说太难了。所以我决定只为所有更新设置一个状态：

```
function doSomethingAfterUpdate(retValFromPHP){
    if (retValFromPHP == "x"){
        $("#result").fadeIn(1000);
       document.getElementById("result").innerHTML = "<img src=\"../images/ico_no.png\" alt=\"X\"/> Error";
       document.getElementById("result").className="error"
        $("#result").fadeIn(1000);
    }else{
        $("#result").fadeIn(100);
       document.getElementById("result").innerHTML = "<img src=\"../images/ico_yes.png\" alt=\"Y\" /> Succeed";
       document.getElementById("result").className="success"
       $("#result").fadeOut(1000);
    }
} 
```

这将使所有更新状态浮动在内容之上。问题解决了！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:34:28.837

首先，可以使用 jQuery Ajax 实现。这将使事情变得容易得多。其次，`id`应该是唯一的，并且您有多个具有相同 ID 的元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:36:37.163

您的第一个问题是所有 div、输入和 trs 具有相同的 id。ID 只能在 html 页面上存在一次，因此您应该将它们重命名为更具描述性的名称。此外，id 不能以数字开头（在下面的示例中为 fe id="498"）

```
<tr id="zebra1">
<td>01 Nov 2012</td>
<td id="rate_20121101_498"><div id="result_20121101_498"></div>&nbsp;<input type="text" name="rate|498|6400-5200-4600-5600-4100|0" id="input_20121101_498" value="6400" size="10" onchange="updateField(this.name + '=' + this.value);"/></td>
.... and so forth 
```

要知道应该更新哪个值，您可以让 PHP 返回一个 JSON 响应，例如：

```
[
{ "id" : "20121101_498", "status" : "error" },
{ "id" : "20121101_500", "status" : "success" }
] 
```

然后您可以在 doSomethingAfterUpdate 函数中访问它。

```
function doSomethingAfterUpdate(JSON){
  // Loop through the json response
  for (var i = 0 ; i < JSON.length ; i++)
  {
    // Set the class name for each object in the json response
    document.getElementById('result_' + JSON[i].id).className = JSON[i].status;
    // If you want to you can also access the input from here using
    // document.getElementById('input_' + JSON[i].id)
  }
} 
```

你也可以直接把图片放到css类中：

```
.error
{
  background:url('/images/ico_no.png') no-repeat;
  width:20px;
  height:20px;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-13T12:31:40.350

你所做的是违背 id 的含义，即元素的唯一标识符。当然，样式规则适用于具有特定 id 的所有元素，但您应该在 DOM 中保持 id 的唯一性。存在`document.getElementById`和不存在`getElementsById`（注意额外的's'）是有原因的。

只需使用其他东西来完成您的任务。准确地说，是类。所以，有像

```
<div class="result"></div>
...
<span class="result"></span>
... 
```

你可以做

```
var outputs = document.getElementsByClassName("result");
for (var i = 0; i < outputs.length; i++)
    outputs[i].innerHTML = "<img src=\"../images/ico_no.png\" alt=\"X\"/>"; 
```

# winjs - 调用 forceLayout 时的内存泄漏

> ID：12406169
> 
> 赞同：1
> 
> 时间：2012-09-13T12:24:00.937
> 
> 标签：winjs

我有一个*ListView*对象，它调用*forceLayout () 方法以在其 css 属性**display*设置为 none后重新呈现自己。我调用上述方法的原因是因为我有一个包含许多列表视图的主从列表，一次只有一个列表视图可见。选择主从列表中的每个列表项后，将显示相应的列表视图。

每次*调用 forceLayout* () 方法时，内存会增加 10mb 左右，即使在应用程序挂起后也不会回收。这是一个错误还是我不应该经常调用该方法？

顺便说一句，我在 Release Preview 上运行 Visual Studio RC 2012。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T02:21:06.647

在 Release Preview 和 RTM 之间修复了大量内存泄漏，所以我的第一个建议是获取 RTM 位并尝试一下。

如果做不到这一点，这可能是您的代码保留对您的数据或呈现的 DOM 元素的引用的问题，但是如果没有看到您的代码，很难说出它可能是什么。

# zend-framework - Zend 框架：从动作助手重定向

> ID：12406170
> 
> 赞同：0
> 
> 时间：2012-09-13T12:24:03.050
> 
> 标签：zend-framework

那是我的控制器助手：

```
class Application_Controller_Helper_Test extends Zend_Controller_Action_Helper_Abstract
{
    public function preDispatch()
    {
        $this->_helper->redirector->gotoUrl('/index/index');
        // ...
    } 
```

但是有错误，我无法修复：

> 调用`gotoUrl()`非对象的成员函数

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T12:29:05.827

如果要从动作助手重定向，则必须从助手代理检索重定向助手。以下代码段将重定向到`index/index`.

```
$controller = $request->getControllerName();
$action = $request->getActionName();

// Prevent redirection loop
if ($controller.'/'.$action !== 'index/index') {
    $redirector = Zend_Controller_Action_HelperBroker::getStaticHelper('Redirector');
    $redirector->gotoSimpleAndExit('index', 'index', 'default');
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:53:11.683

```
$this->_redirector = $this->_helper->getHelper('Redirector'); 
```

`$this->redirector('targetAction', 'targetController');`

# jquery - 自定义内循环需要调整

> ID：12406171
> 
> 赞同：0
> 
> 时间：2012-09-13T12:24:03.670
> 
> 标签：jquery

所以在我开始提出我的问题之前，我已经在[jsFiddle](http://jsfiddle.net/9vFkg/2/)中设置了代码；

正确的...

1.  现有的6个选项有一个默认循环运行没问题！

2.  在每张幻灯片中都有不同数量的跨度，这些跨度保持休眠状态，直到它的寻呼机悬停。

    1.  您将看到有一个警报，这会显示相关幻灯片中的跨度数 - 无法正常工作，因为它似乎不喜欢重置。不需要修复，这只是为了测试目的。
    2.  自动化似乎完美地循环通过跨度，这很好 - 但计时器似乎无法正常工作。
    3.  只有一个跨度的幻灯片似乎无视 if 语句 n>1 并且无论如何都会循环播放。

非常感谢任何帮助修复 2/3 的项目！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T10:37:31.047

别担心，我修好了。

[http://benalman.com/projects/jquery-dotimeout-plugin/](http://benalman.com/projects/jquery-dotimeout-plugin/)这有助于解决主要问题，但在 Internet Explorer 中不起作用，因此我使用了浏览器检测。

可以在下面找到工作的 js 以供将来参考。

```
if ( $.browser.msie ) {
    function nextSlide() {
            var active = $("#slides .activeInner img.active");
            var next   = active.next();
            if (next.length === 0) {
                var next = $('#slides .activeInner img:first');
            }

            active.removeClass('active').css('display','none');
            next.addClass('active').css('display','block');
    }

    setInterval(nextSlide, 5000);
} else {
    $.doTimeout('loop',5000,function() {
        var active = $("#slides .activeInner img.active");
        var next   = active.next();
        if (next.length === 0) {
            var next = $('#slides .activeInner img:first');
        }

        active.removeClass('active').css('display','none');
        next.addClass('active').css('display','block');
        return true;
    });
} 
```

# css - SmartGWT SelectItem 与 GWT DateBox 重叠

> ID：12406178
> 
> 赞同：1
> 
> 时间：2012-09-13T12:24:21.180
> 
> 标签：css, gwt, z-index, smartgwt, datebox

> **可能重复：**
> [带有 Smartgwt 的 GWT Suggestbox](https://stackoverflow.com/questions/8713770/gwt-suggestbox-with-smartgwt)

我有两个 GWT DateBoxes 和一个 SmartGWT SelectItem 用于多个选择，外观为 PICKLIST。

问题是，当单击 DateBox 并显示 DatePicker 时，它位于 SelectItem 的后面，如下图所示：

编辑：由于我还没有 10 声望，我无法发布图片。所以这里是链接：

[http://i.imgur.com/m6lg9.png](https://i.imgur.com/m6lg9.png)

这是 SelectItem 的代码：

```
 selectItemFilterList.setTitle("Filter:");  
    selectItemFilterList.setMultiple(true);
    selectItemFilterList.setMultipleAppearance(MultipleAppearance.PICKLIST);
    selectItemFilterList.setWidth(250);        
    ... values are set here ...
    selectItemFilterList.setValueMap(valueMap);

    DynamicForm filterForm = new DynamicForm();
    filterForm.setItems(selectItemFilterList);
    filterForm.setStyleName(style.inline());
    addToFilterPanel(filterForm); 
```

我能以某种方式解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T20:32:11.643

为了解决这个问题，我必须设置 DateBox **Popup**的 z-index而不是 DateBox 或 DatePicker！

将以下内容添加到 war 目录中我的应用程序的 css 文件后，一切都按预期工作：

```
 .dateBoxPopup {
        z-index: 1000001;
    } 
```

# c++ - 将字符串拆分为数组 C++

> ID：12406181
> 
> 赞同：0
> 
> 时间：2012-09-13T12:24:22.230
> 
> 标签：c++, mingw, codeblocks, getline

如何拆分用于`getline(cin, input);`输入变量的输入字符串？我想将它拆分成一个 char 数组，如下所示：

```
char[] = { // What goes here to make it read the input variable and split it into chars } 
```

有没有办法做到这一点？

你们的新帖子呢？哪个最好？这是我需要修改以读取输入变量并将其字符存储在字符数组中的凯撒密码：

```
// Test Code ONLY
// Not A Commercial Program OR A Crypter
// THIS IS A TEXT CIPHERER

#include <windows.h>
#include <cstdlib>
#include <iostream>
#include <string.h>
#include <vector>

using namespace std;

int main()

{
    string in;
    string out;
    char lower[25] = {a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z};
    char upper[25] = {A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z};
    char upcip[25] = {Z,Y,X,W,V,U,T,S,R,Q,P,O,N,M,L,K,J,I,H,G,F,E,D,C,B,A};
    char locip[25] = {z,y,x,w,v,u,t,s,r,q,p,o,n,m,l,k,j,i,h,g,f,e,d,c,b,a};
    cout << "Enter PlainText: ";
    getline(cin, in);
    // which sample goes here to read the input var char by char, then store the chars in order in a char array in your opinion?
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T12:28:43.867

字符串已经**是**一个字符数组：

```
for (std::string line; std::getline(std::cin, line); )
{
    for (std::size_t i = 0, e = line.size(); i != e; ++i)
    {
        std::cout << "char[" << i << "] = '" << line[i] << "'\n";
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:32:21.937

```
string str;
    std::getline(cin,str);
    char* pArr = new char[str.size() + 1]; // add 1 for zero element which is the end of string
    strcpy(pArr,str.c_str());

/*
some actions with pArr, for ex.
while(*pArr)
    std::cout << *pArr; // output string on the screen

*/

// updated: release memory obtained from heap
delete [] pArr; 
```

# c - GTK+ 如何通过提示询问超级用户

> ID：12406187
> 
> 赞同：0
> 
> 时间：2012-09-13T12:24:37.403
> 
> 标签：c, linux, gtk, root

我正在用 GTK+-2.0 开发一个应用程序。我需要访问 /dev/mmcblk0 设备，但它需要超级用户权限。在终端中以 su 身份登录并运行程序对用户不友好。

我想创建一个提示窗口并询问超级用户密码并以超级用户权限运行程序。GParted 是一个以这种方式运行的程序，我想要一个微笑的打开程序。

我怎样才能做到这一点？如何在程序中获得超级用户权限？

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:18:50.927

你可以在 live gnome 上查看[gksu 页面](https://live.gnome.org/gksu)，或者如果你想使用[策略工具包框架](https://live.gnome.org/PolicyKit)，你可以在谷歌上搜索示例程序（例如[，像这个](http://www.mail-archive.com/polkit-devel@lists.freedesktop.org/msg00142.html)）。
另一种更直接的方法是需要创建一个组（允许用户访问 /dev/mmcblk0）并要求 root 将特定允许的用户添加到该组。

# java - 带有 Spring Webflow 的 Maven 项目：ClassNotFoundException：org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean

> ID：12406188
> 
> 赞同：2
> 
> 时间：2012-09-13T12:24:39.273
> 
> 标签：java, spring, hibernate, maven, spring-webflow

我第一次尝试使用 Maven，我有一个工作项目是 Spring WebFlow，MySQL 和 Hibernate 在我开始使用 maven 之前正在工作，但我想学习 maven .. 我收到这个错误：

```
Maven Project with Spring Webflow: ClassNotFoundException: org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean 
```

这是我的 POM.XML 请帮忙

```
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>org.springsource.greenbeans.maven</groupId>
    <artifactId>MemberInquiry</artifactId>
    <packaging>war</packaging>
    <version>0.0.1-SNAPSHOT</version>
    <name>MemberInquiry</name>
    <url>http://maven.apache.org</url>
    <dependencies>

    <dependency>
            <groupId>c3p0</groupId>
            <artifactId>c3p0</artifactId>
            <version>0.9.1.2</version>
        </dependency>

        <dependency>
            <groupId>javax.mail</groupId>
            <artifactId>mail</artifactId>
            <version>1.4.5</version>
        </dependency>

        <dependency>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <version>5.1.21</version>
        </dependency>

        <dependency>
            <groupId>org.apache.httpcomponents</groupId>
            <artifactId>httpcore</artifactId>
            <version>4.2.1</version>
        </dependency>

        <dependency>
            <groupId>org.apache.httpcomponents</groupId>
            <artifactId>httpclient</artifactId>
            <version>4.2.1</version>
            <exclusions>
                <exclusion>
                    <artifactId>commons-logging</artifactId>
                    <groupId>commons-logging</groupId>
                </exclusion>
            </exclusions>
        </dependency>

        <!-- <dependency> <groupId>org.jasig.cas</groupId> <artifactId>cas-server-core</artifactId> 
            <version>3.5.0</version> <exclusions> <exclusion> <artifactId>jcl-over-slf4j</artifactId> 
            <groupId>org.slf4j</groupId> </exclusion> </exclusions> </dependency> <dependency> 
            <groupId>org.slf4j</groupId> <artifactId>jcl-over-slf4j</artifactId> <version>1.6.6</version> 
            </dependency> -->
        <dependency>
            <groupId>jstl</groupId>
            <artifactId>jstl</artifactId>
            <version>1.2</version>
        </dependency>

        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-core</artifactId>
            <version>3.6.3.Final</version>
        </dependency>

        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-validator</artifactId>
            <version>4.3.0.Final</version>
        </dependency>

        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-annotations</artifactId>
            <version>3.5.6-Final</version>
        </dependency>

        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>3.8.1</version>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>org.aspectj</groupId>
            <artifactId>aspectjtools</artifactId>
            <version>1.6.2</version>
        </dependency>

        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-aspects</artifactId>
            <version>3.1.2.RELEASE</version>
        </dependency>

        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-context</artifactId>
            <version>3.1.2.RELEASE</version>
        </dependency>

        <dependency>
            <groupId>org.springframework.webflow</groupId>
            <artifactId>spring-webflow</artifactId>
            <version>2.3.1.RELEASE</version>
        </dependency>

        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-core</artifactId>
            <version>3.1.2.RELEASE</version>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-web</artifactId>
            <version>3.1.2.RELEASE</version>
        </dependency>
        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-config</artifactId>
            <version>3.1.2.RELEASE</version>
        </dependency>

        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-ldap</artifactId>
            <version>3.1.2.RELEASE</version>
        </dependency>

        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-cas</artifactId>
            <version>3.1.2.RELEASE</version>
        </dependency>

        <dependency>
            <groupId>org.springframework.security</groupId>
            <artifactId>spring-security-cas-client</artifactId>
            <version>3.0.7.RELEASE</version>
        </dependency>

        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-aop</artifactId>
            <version>3.1.2.RELEASE</version>
        </dependency>

        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.17</version>
        </dependency>

        <dependency>
            <groupId>c3p0</groupId>
            <artifactId>c3p0</artifactId>
            <version>0.9.1.2</version>
        </dependency>

        <dependency>
            <groupId>org.springframework.ldap</groupId>
            <artifactId>spring-ldap-core</artifactId>
            <version>1.3.0.RELEASE</version>
        </dependency>

        <dependency>
            <groupId>org.springframework.ldap</groupId>
            <artifactId>spring-ldap-core-tiger</artifactId>
            <version>1.3.0.RELEASE</version>
        </dependency>

        <!-- <dependency> <groupId>org.jasig.cas</groupId> <artifactId>cas-server-core</artifactId> 
            <version>3.5.0</version> </dependency> -->
        <dependency>
            <groupId>org.jasig.cas.client</groupId>
            <artifactId>cas-client-core</artifactId>
            <version>3.1.12</version>
        </dependency>

        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>1.6.6</version>
        </dependency>

        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-ext</artifactId>
            <version>1.6.6</version>
        </dependency>

        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
            <version>1.6.6</version>
        </dependency>
        <!-- <dependency> <groupId>org.apache.directory.server</groupId> <artifactId>apacheds-core</artifactId> 
            <version>1.5.5</version> <scope>runtime</scope> </dependency> <dependency> 
            <groupId>org.apache.directory.server</groupId> <artifactId>apacheds-server-jndi</artifactId> 
            <version>1.5.5</version> <scope>runtime</scope> </dependency> -->
        <dependency>
            <groupId>org.apache.tiles</groupId>
            <artifactId>tiles-jsp</artifactId>
            <version>2.2.2</version>
            <exclusions>
                <exclusion>
                    <groupId>org.slf4j</groupId>
                    <artifactId>slf4j-nop</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.slf4j</groupId>
                    <artifactId>slf4j-api</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.slf4j</groupId>
                    <artifactId>jcl-over-slf4j</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

    </dependencies>
    <build>
        <finalName>WebFlowTemplate</finalName>
    </build>
</project> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T12:30:36.920

您必须将依赖项添加到`spring-orm`：

```
 <dependency>
        <groupId>org.springframework</groupId>
        <artifactId>spring-orm</artifactId>
        <version>3.1.1.RELEASE</version>
    </dependency> 
```

# c# - 如何将 Visual Studio 2010 SP1 解决方案转换为 Visual Studio 2012 解决方案？

> ID：12406197
> 
> 赞同：7
> 
> 时间：2012-09-13T12:25:05.070
> 
> 标签：c#, visual-studio, visual-studio-2012

我知道它们（大多数项目类型）在 2010 SP1 和 2012 之间是相互兼容的，并且没有必要进行转换，但是如果我仍然需要它怎么办？如果我需要将我的解决方案标记为 Visual Studio 2012 解决方案怎么办？双击 VS2010 解决方案时，版本选择器会自动使用 VS2010 打开它（即使我现在安装了 VS2012），图标上也有一个数字 10（而不是数字 11）。

怎么做？？。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-13T12:26:46.270

在VS2012中打开它，然后点击文件，另存为。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-08T22:53:45.957

只需在文本编辑器中打开解决方案文件并更改以下两行

```
Microsoft Visual Studio Solution File, Format Version 11.00
# Visual Studio 2010 
```

到

```
Microsoft Visual Studio Solution File, Format Version 12.00
# Visual Studio 2012 
```

或者，您可以右键单击解决方案文件，选择属性，然后将用于打开文件的程序从 Visual Studio Selector 更改为 Visual Studio 2012。无论文件的版本如何，它将在 VS 2012 中打开解决方案，我有点喜欢。

![在此处输入图像描述](../Images/c0d54c70bbe14d53fa361ca7a0e081c6.png)

# mysql - 数据目录移动后 MySQL 不会启动。

> ID：12406198
> 
> 赞同：3
> 
> 时间：2012-09-13T12:25:07.067
> 
> 标签：mysql, innodb, datadirectory

我在 Ubuntu 10.04 上运行 MySQL 5.1，直到最近，我使用默认数据目录位置。配置文件的其他一些部分针对性能进行了调整，但路径保持默认。

最近，我开始空间不足，决定添加另一个硬盘，将其挂载为 /mysql 并仅用于 MySQL 数据。因此，我更改了路径，将旧数据目录复制到新数据目录中，并认为这将结束。

不幸的是，事实并非如此——后来发现 apparmor 是问题所在，尽管我在 apparmor 中更新了 MySQL 配置文件以反映新路径。经过一些混乱，禁用apparmor，服务器可以工作，我能够导入大数据库，这是我需要更多空间的最初原因。

现在，那是昨天 - 导入了整个 200GB 的数据库，对密钥进行了排序，一切似乎都很好，直到我今天尝试启动服务器。这是我在日志中看到的错误：

```
120913 13:53:38  InnoDB: Operating system error number 2 in a file operation.
InnoDB: The error means the system cannot find the path specified.
InnoDB: If you are installing InnoDB, remember that you must create
InnoDB: directories yourself, InnoDB does not create them.
InnoDB: File name /home/{my_username}/mysql/data/ibdata1
InnoDB: File operation call: 'create'.
InnoDB: Cannot continue operation. 
```

这里有一些奇怪的事情：

a) 我以 root 身份使用 sudo-ed，并且我正在使用“service mysql start”命令来启动它 b) 在任何配置中都没有提到 /home/{my_username}... path ANYWHERE。

我找不到有关此类问题的任何信息或错误报告。我什至不知道我会搜索什么，因为这个问题不能用不到 2 段来解释。

更多信息：手动设置**innodb_data_home_dir**消除了早期的问题，但是，现在我得到了这个：

```
120913 14:08:06  InnoDB: Operating system error number 2 in a file operation.
InnoDB: The error means the system cannot find the path specified.
InnoDB: If you are installing InnoDB, remember that you must create
InnoDB: directories yourself, InnoDB does not create them.
InnoDB: File name /home/poplar/mysql/innodb-logs/ib_logfile0
InnoDB: File operation call: 'create'.
InnoDB: Cannot continue operation. 
```

现在，这个盒子上没有“白杨”用户，我一点也不知道为什么它要尝试将日志文件放在那里。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:33:03.790

好吧，事实证明，将**innodb_log_group_home_dir**设置为新的 MySQL 数据目录（我的日志之前所在的位置，无论如何它应该默认设置的位置）起到了作用。

服务器现在正常启动，所有数据似乎都在那里。

我仍然不知道它从哪里获得“poplar”用户名作为尝试放置日志文件的好主意，但它可能是 AppArmor 的一些剩余（错误）配置，当我卸载它时没有完全重新设置。

# c++ - 在win2k3上运行.exe时出现“无法在动态链接库kernel32.dll中定位程序入口点GetErrorMode”错误

> ID：12406199
> 
> 赞同：0
> 
> 时间：2012-09-13T12:25:07.657
> 
> 标签：c++, c, visual-studio-2008, windows-server-2003

我正在使用 vs2008 在 win2k3 服务器上构建我的 c++ 项目。我可以成功编译我的项目。但是在 win2k3 上运行 it's.exe 时，会出现“无法在动态链接库 kernel32.dll 中找到过程入口点 GetErrorMode”的错误

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:28:04.727

Windows Vista 及更高版本支持[GetErrorMode 。](http://msdn.microsoft.com/en-us/library/windows/desktop/ms679355%28v=vs.85%29.aspx)最低服务器版本为 2008。

# php - 如何让php打开页面？

> ID：12406203
> 
> 赞同：0
> 
> 时间：2012-09-13T12:25:16.650
> 
> 标签：php, http, curl

我试图在加载 PHP 页面时自动打开指定页面，但不是通过重定向，file_get_contents 是否适合这个？我也尝试过 curl 使用以下内容，但是我没有看到任何响应：

```
curl_setopt($ch=curl_init(), CURLOPT_URL, "http://www.google.com");
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
$response = curl_exec($ch);
curl_close($ch); 
```

提前谢谢了

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:26:53.850

如果您只想获取页面的内容，`file_get_contents`就可以了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:27:45.550

使用`file_get_contents`可以解决问题，但您需要启用 allow_url_fopen。

您也可以使用 CURL，但您的代码无法正常工作，因为您丢失了`CURLOPT_FOLLOWLOCATION`

完整脚本

```
curl_setopt($ch=curl_init(), CURLOPT_URL, "http://www.google.com");
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
echo curl_exec($ch);
curl_close($ch); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T12:27:56.130

cURL 非常适合这种情况。如果您只想显示页面，则无需设置`curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);`为默认行为是显示结果。

检查错误：

```
if ($response === false) {
    echo curl_error($ch);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-13T12:29:28.003

> > file_get_contents 适合这个吗？

是的，如果您的服务器允许您使用此功能，它是合适的

```
 <?php
    echo "<h2>Here we go</h2>";
    $content = file_get_contents("http://www.google.com");
    echo $content;
 ?> 
```

您还可以修改 $content

# php - 如何定期从 rss 提要中获取（轮询）数据

> ID：12406211
> 
> 赞同：-1
> 
> 时间：2012-09-13T12:25:31.807
> 
> 标签：php, xml, parsing, rss, polling

我有一个经常更新的 rss 提要 (xml)。如果 rss 提要 (xml) 上有新的更新可用，我需要向 APNS 发送通知。到目前为止，我知道我可以使用 php 解析 xml，并使用我在 Mac 上的本地 Apache 服务器（MAMP）将结果发送到 APNS。

但我只需`php xxx.php`在终端窗口上输入命令即可。文件`xxx.php`首先解析 xml 文件，然后将结果发送到 APNS 服务器。

我的问题是

**如何在服务器上定期运行此 php 文件？
我需要虚拟专用服务器吗？
如果是这样，连续或每 10 分钟运行 php 文件的代码或函数是什么？**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T12:42:13.303

要定期运行文件，您必须管理 cron 作业，我想描述您必须做什么，但我找到了一篇很好的深刻文章，值得一看。 [http://net.tutsplus.com/tutorials/php/managing-cron-jobs-with-php-2/](http://net.tutsplus.com/tutorials/php/managing-cron-jobs-with-php-2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:30:09.540

您可以`cron`在 linux/mac 服务器上使用定期运行任何命令（例如`php xxx.php`：）

I）在命令提示符下，您可以编辑`crontab`：`crontab -e`

二）。最后，为要定期运行的每个脚本添加一行。每行必须遵循以下模式：

```
`minute` `hour` `day of the month` `month` `day of the week` `command` 
```

例如，如果您想每小时运行一次脚本，请添加以下行：

```
* */1 * * * php xxx.php 
```

III) 然后退出`CTRL+X`并保存。

[维基百科](http://en.wikipedia.org/wiki/Cron)上的更多示例。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:30:27.637

您需要的是一项*cron 作业*：请参阅此[Wikipedia](http://en.wikipedia.org/wiki/Cron)条目。检查您的主机是否允许您运行 cron 作业，如果不允许，请考虑联系他们，看看他们是否可以为您设置。

# iphone - UILabel 没有显示来自 UITableview 的值

> ID：12406213
> 
> 赞同：0
> 
> 时间：2012-09-13T12:25:35.630
> 
> 标签：iphone, xcode, uitableview, uilabel

对不起，伙计们又是我了。

在我`UITableview`用于显示weather.so的项目中，我需要在`UILabel`没有任何按钮操作或水的情况下显示第一行文本。我只想将单元格文本发送到 UILabel 而不进行任何操作。

**例如：** 在表格视图的第一个单元格中，将文本显示为“可爱的 IOS”，我想在没有任何操作的情况下向 UILABEL 显示相同的文本**。**我接受`UILabel`了xib。提前致谢

请提供任何示例代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:42:30.380

您只为特定单元格设置操作

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {

  if (indexPath.row == 1){
 //set action for cell
}
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:29:49.373

In the method `- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath` equate

```
 cell.textLabel.text = [array objectAtIndex:indexPath.row]; 
 LabelName.text= cell.textLabel.text; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:30:55.423

你有你的单元格的数据，所以有什么大不了的`UIlabel`。你只需要在那里设置相同的文本。 **更新**：-

```
UITableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath];
NSString *cellText = cell.textLabel.text; 
```

你会得到文本。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-13T12:40:35.707

您有两个选项可以添加添加 UILable 或在以下方法中将文本设置为 cell.textLabel.text。 `(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath`

# c# - 基于现有查询构造动态查询（或算法）

> ID：12406218
> 
> 赞同：0
> 
> 时间：2012-09-13T12:25:51.733
> 
> 标签：c#, sql, algorithm

我的任务是根据现有查询和用户选择的字段构建动态查询（或算法）。让我解释：

可以说我有一个功能

ConstructQuery(string inputQuery, string[] requiredTables, string[] userFields) 带有 2 个输入参数：

*   inputQuery：具有许多字段和表、连接和 where 条件的字符串查询
*   强制表：强制表列表
*   userFields：用户在某些 Web 或桌面应用程序中选择的字段列表

函数必须返回优化查询，其中包含查询成功所需的表和连接。

inputQuery 例如构造如下：

```
SELECT
    Table1.SomeFieldA,
    Table2.SomeFieldB,
    Table2.SomeFieldC,
    Table3.SomeFieldD
FROM   Table1
JOIN   Table2 ON Table1.Code = Table2.Code
JOIN   Table3 ON Table2.Code = Table3.Code
WHERE  Table1.SomeConditionField = "xyz" 
```

用户字段是：SomeFieldB、SomeFieldC

强制性表格：Table1

所以预期的查询是：

```
SELECT
    Table2.SomeFieldB,
    Table2.SomeFieldC
FROM   Table1
JOIN   Table2 ON Table1.Code = Table2.Code
WHERE  Table1.SomeConditionField = "xyz" 
```

我的问题是：是否有某种工具可以解决此类问题，或者你们将如何解决？我在考虑二叉树...

问候，贾尼

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T14:41:45.380

这就是所谓的联接删除。这（非常）困难。仅仅解析查询是不平凡的，那么你必须分析语义，考虑什么是唯一键，什么是外键，才有机会删除一些表。在您的示例中：算法必须知道 table3.code 是唯一的，并且是 table2.code 的外键，否则查询不等效。

首先生成正确的查询可能更容易。这就是一些 ORM 所做的。

# iphone - 为 iOS 设备构建时“CoreFoundation.h：未找到”，但适用于模拟器

> ID：12406224
> 
> 赞同：0
> 
> 时间：2012-09-13T12:26:15.160
> 
> 标签：iphone, ios, core-foundation

为“设备”构建时，出现以下错误：

```
CoreFoundation/CoreFoundation.h: No such file or directory 
```

它为**Simulator**构建良好。

我搜索但没有得到有效的解决方案

我正在使用**Xcode 4.3.2**。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:30:04.260

转到项目“构建设置”。

搜索框架搜索路径，然后删除其内容中可见的任何路径

# c - 在 C 中的 struct 中使用的尖点稀疏矩阵

> ID：12406231
> 
> 赞同：2
> 
> 时间：2012-09-13T12:26:29.980
> 
> 标签：c, cuda, sparse-matrix, cusp-library

我正在使用带有 CUDA 的[cusp](http://code.google.com/p/cusp-library/)库来使用稀疏矩阵。我不能`struct`在 C 中使用它，例如：

```
 #include <cusp/coo_matrix.h>
  #include <cusp/multiply.h>
  #include <cusp/print.h>
  #include <cusp/transpose.h>
  struct Cat{
         int id;
         cusp::coo_matrix<int, double, cusp::host_memory> A(2,100,10);
  };
  int main(){
  } 
```

我收到错误：

```
try.cu(7): error: expected a type specifier
try.cu(7): error: expected a type specifier
try.cu(7): error: expected a type specifier 
```

在 a 中使用它的正确方法是什么，`struct`以便我可以拥有这样的结构数组？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T13:57:16.003

那段代码`coo_matrix`看起来很像 C++ 模板。如果是这样，请为您`Cat struct`提供构造函数并在那里初始化 A：

```
struct Cat {
  int id;
  cusp::coo_matrix<int, double, cusp::host_memory> A;
  Cat(): id(0), A(2,100,10) {}
} 
```

# jquery - Fancybox iframe 类型在关闭时返回值

> ID：12406232
> 
> 赞同：5
> 
> 时间：2012-09-13T12:26:29.877
> 
> 标签：jquery, fancybox

我正在使用 fancxbox，可以将变量从 fancybox 子级传回给父级。

在子页面中有一个名为`banner_width1`( `<input name="banner_width" id="banner_width1" type="text" size="5" value="1000"/>`)的文本字段

```
'onClosed':function() 
{
alert($("#banner_width1").val());
var x = $("#fancybox-frame").contentWindow.targetFunction();
alert(x.val());
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-13T18:37:50.027

如果您使用的是 fancybox v1.3.4，那么您将无法使用回调获取值 ( `.val()`)，因为将在所有 fancybox 内容已被删除时执行。你宁愿改用（你仍然可以在关闭fancybox后提醒价值）`onClosed``onClosed``onCleanup``x`

所以对于 Fancybox **v1.3.4**使用这个 API 选项

```
"onCleanup": function(){
 x = $('#fancybox-frame').contents().find('#banner_width1').val();
},
"onClosed": function(){
 alert("the value of input#banner_width1 is : "+x); // optional
} 
```

确保您已`var x;`在脚本之上声明以使其可从任何回调或任何其他函数访问。

对于 Fancybox **v2.x**使用此 API 选项

```
beforeShow : function(){
 x = $('.fancybox-iframe').contents().find('#banner_width1').val();
},
afterClose: function(){
 alert("the value of input#banner_width1 is : "+x); // optional
} 
```

# asp.net-mvc - 与 WebSecurity.IsAuthenticated 一起使用时，MVC 4 OutputCache 会导致错误

> ID：12406236
> 
> 赞同：0
> 
> 时间：2012-09-13T12:26:39.220
> 
> 标签：asp.net-mvc, asp.net-mvc-3, asp.net-mvc-4, master-pages, outputcache

我有一个名为“列表”的控制器/操作。此方法具有内置的属性

> [OutputCache(Duration = 3600, VaryByParam = "*")]

此操作具有 3600 秒的缓存，因为从数据库加载数据并且每 1 小时（更多/更少）更改一次。

问题出在 Layout.cshtml 上，因为我的主布局（它的主页面）在标题顶部栏显示**用户名**（如果已通过身份验证的用户）或在用户未通过身份验证时显示静态文本**用户。**请看下面的代码：

> @Html.Raw（WebSecurity.IsAuthenticated ？WebSecurity.CurrentUserName：“用户”）

当任何人通过身份验证时，页面上第一次访问的名称缓存完成，然后所有用户，经过身份验证或未经过身份验证，请参见标题顶部栏上的第一个经过身份验证的用户的用户名。这真是太糟了！

我以为不会做layout.cshtml缓存，只有Controller/Action指定的数据。

我该如何解决？

我不喜欢删除 OutputCache，因为它对我来说非常重要。标题顶部栏对所有用户都是通用的，因为它具有内置的布局页面。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T16:15:20.267

I think what you are trying to achieve is Donut Caching, caching all the page except a section. I'm not sure whether MVC supports this (MVC 3 - no). There is an open source available [DevTrends.MvcDonutCaching](http://mvcdonutcaching.codeplex.com/) that 'll help you.

# python - Python函数提取文件路径的多个段

> ID：12406240
> 
> 赞同：3
> 
> 时间：2012-09-13T12:26:53.323
> 
> 标签：python, string, filepath

我想编写一个能够获取文件路径的 Python 函数，例如：

> /abs/path/to/my/file/file.txt

并返回三个字符串变量：

*   `/abs`- 根目录，加上路径中的“最顶层”目录
*   `file`- 路径中的“最底层”目录；的父母`file.txt`
*   `path/to/my`- 路径中最顶层和最底层目录之间的所有内容

所以有以下伪代码：

```
def extract_path_segments(file):
    absPath = get_abs_path(file)
    top = substring(absPath, 0, str_post(absPath, "/", FIRST))
    bottom = substring(absPath, 0, str_post(absPath, "/", LAST))
    middle = str_diff(absPath, top, bottom)

    return (top, middle, bottom) 
```

在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-13T12:33:16.740

您正在寻找[`os.sep`](http://docs.python.org/library/os.html#os.sep)，连同各种`os.path`模块功能。只需按该字符拆分路径，然后重新组装您要使用的部件。就像是：

```
import os

def extract_path_segments(path, sep=os.sep):
    path, filename = os.path.split(os.path.abspath(path))
    bottom, rest = path[1:].split(sep, 1)
    bottom = sep + bottom
    middle, top = os.path.split(rest)
    return (bottom, middle, top) 
```

这*不能*很好地处理 Windows 路径，其中`\` *和* `/`都是合法的路径分隔符。在这种情况下，您*还有*一个驱动器号，因此无论如何您也必须对其进行特殊处理。

输出：

```
>>> extract_path_segments('/abs/path/to/my/file/file.txt')
('/abs', 'path/to/my', 'file') 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-13T12:44:55.043

使用`os.path.split`：

```
import os.path

def split_path(path):
    """
    Returns a 2-tuple of the form `root, list_of_path_parts`
    """
    head,tail = os.path.split(path)
    out = []
    while tail:
        out.append(tail)
        head,tail = os.path.split(head)
    return head,list(reversed(out))

def get_parts(path):
    root,path_parts = split_path(path)
    head = os.path.join(root,path_parts[0])
    path_to = os.path.join(*path_parts[1:-2])
    parentdir = path_parts[-2]
    return head,path_to,parentdir

head,path_to,parentdir = get_parts('/foo/path/to/bar/baz')
print (head)        #foo
print (path_to)     #path/to
print (parentdir)   #bar 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-13T12:47:56.420

使用`os.path.split()`和`os.path.join()`我们应该做的

```
>>> import os
>>> pth = "/abs/path/to/my/file/file.txt"
>>> parts = []
>>> while True:
...     pth, last = os.path.split(pth)
...     if not last:
...         break
...     parts.append(last)
...
>>> pth + parts[-1]
'/abs'
>>> parts[1]
'file'
>>> os.path.join(*parts[-2:1:-1])
'path/to/my' 
```

作为一个函数

```
import os

def extract_path_segments(pth):
    parts = []
    while True:
        pth, last = os.path.split(pth)
        if not last:
            break
        parts.append(last)
    return pth + parts[-1], parts[1], os.path.join(*parts[-2:1:-1]) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-13T12:48:29.897

```
>>> p = '/abs/path/to/my/file/file.txt'
>>> r = p.split('/')
>>> r[1],'/'.join(r[2:-2]),r[-2]
('abs', 'path/to/my', 'file') 
```

# mysql - mysql将一个表分成2个不同的列名

> ID：12406242
> 
> 赞同：2
> 
> 时间：2012-09-13T12:27:03.813
> 
> 标签：mysql

我有一个 mysql 表，我需要将其分成两个。目前，该表包含有关两个松散相关实体的信息。例如，实体可以是公司的员工和他被标记到的公司的笔记本电脑。下表解释了我的示例。我有一个`employee`包含以下列的表

```
employee_id,employee_name,employee_detail,join_date,laptop_id,laptop_type,laptop_tagged_date,laptop_details,laptop_make. 
```

我需要将此表拆分为 2，如下所示。 `employee`没有笔记本电脑列的表

```
employee_id,employee_name,employee_detail,join_date. 
```

`laptop`以employee_id 为键的新表。

```
employee_id,laptop_id,laptop_type,laptop_tagged_date,laptop_details,laptop_make 
```

以下陈述适用于当前的数据库设计

*   该`employee`表被后端代码大量使用。后端代码是用java和php编写的。
*   `employee`无法重命名表。意味着我不想创建 2 个新表。我想保留该`employee`表，但从中删除所有笔记本电脑信息。
*   添加新行/现有行每天更新。

我的问题是

1.  是否有一种设计方法可以让我从当前的单表设计平滑过渡到新建议的设计？
2.  是否有任何最佳实践可遵循以确保顺利过渡。
3.  您能否建议/重新指导我完成此任务的步骤。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T14:17:54.850

1.  [备份](http://dev.mysql.com/doc/en/using-mysqldump.html)现有数据库：

    ```
    mysqldump my_db > backup.sql 
    ```

2.  创建一个新的*空*表`laptop`（我没有在下面的示例中定义索引或外键约束，但您应该做任何适合您的数据结构的事情）：

    ```
    CREATE TABLE laptop
    SELECT employee_id,
           laptop_id,
           laptop_type,
           laptop_tagged_date,
           laptop_details,
           laptop_make
    FROM   employee
    WHERE  FALSE; 
    ```

3.  在原始表上定义[触发器以将每种类型的写入操作（插入/更新/删除）转发到新表：](http://dev.mysql.com/doc/en/triggers.html)

    ```
    CREATE TRIGGER employee_insert AFTER INSERT ON employee FOR EACH ROW
      INSERT INTO laptop VALUES (
        NEW.employee_id,
        NEW.laptop_id,
        NEW.laptop_type,
        NEW.laptop_tagged_date,
        NEW.laptop_details,
        NEW.laptop_make
      );

    CREATE TRIGGER employee_update AFTER UPDATE ON employee FOR EACH ROW
      UPDATE laptop SET
        employee_id         =  NEW.employee_id,
        laptop_id           =  NEW.laptop_id,
        laptop_type         =  NEW.laptop_type,
        laptop_tagged_date  =  NEW.laptop_tagged_date,
        laptop_details      =  NEW.laptop_details,
        laptop_make         =  NEW.laptop_make
      WHERE
        employee_id        <=> OLD.employee_id,
        laptop_id          <=> OLD.laptop_id,
        laptop_type        <=> OLD.laptop_type,
        laptop_tagged_date <=> OLD.laptop_tagged_date,
        laptop_details     <=> OLD.laptop_details,
        laptop_make        <=> OLD.laptop_make;

    CREATE TRIGGER employee_delete AFTER DELETE ON employee FOR EACH ROW
      DELETE FROM laptop WHERE
        employee_id        <=> OLD.employee_id,
        laptop_id          <=> OLD.laptop_id,
        laptop_type        <=> OLD.laptop_type,
        laptop_tagged_date <=> OLD.laptop_tagged_date,
        laptop_details     <=> OLD.laptop_details,
        laptop_make        <=> OLD.laptop_make; 
    ```

4.  清空新表（触发器已插入的任何内容），然后*在同一个事务*中，使用[`INSERT ... SELECT`](http://dev.mysql.com/doc/en/insert-select.html)将原始表中的所有现有数据复制到其中：

    ```
    START TRANSACTION;

    DELETE FROM laptop;
    INSERT INTO laptop
    SELECT employee_id,
           laptop_id,
           laptop_type,
           laptop_tagged_date,
           laptop_details,
           laptop_make
    FROM   employee;

    COMMIT; 
    ```

5.  彻底搜索您的代码库（包括数据库存储的程序）以查找访问原始表中的笔记本电脑列的所有操作。注意是否每次操作：

    *   仅从这些列中读取；

    *   只写入那些列；或者

    *   读取和写入这些列（例如`UPDATE employee SET laptop_tagged_date = laptop_tagged_date + INTERVAL 1 WEEK WHERE ...`）。

6.  修改读取操作以使用新表，将读取和写入操作拆分为单独的步骤（例如`UPDATE employee JOIN laptop ON ... SET employee.laptop_tagged_date = laptop.laptop_tagged_date + INTERVAL 1 WEEK WHERE ...`）。

    这种更改不需要原子地影响，因为原始表和新表将通过触发器保持同步：因此，应用程序的某些部分可以从新表中读取，而其他部分继续使用原始表。

    **在您对该步骤已完成感到满意之前不要继续下一步**，因为下一步将导致表变得不同步。您甚至可以使用 MySQL 用户权限来阻止写入新表（触发器除外），直到您对该步骤完成感到满意为止。

7.  修改写操作以使用新表。

    此更改不需要原子地影响，因为对原始表的任何写入都将由触发器转发到新表：因此，应用程序的某些部分可以写入新表，而其他部分继续写入原始表。

8.  从原始表中删除列：

    ```
    ALTER TABLE employee
      DROP COLUMN laptop_id,
      DROP COLUMN laptop_type,
      DROP COLUMN laptop_tagged_date,
      DROP COLUMN laptop_details,
      DROP COLUMN laptop_make; 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:38:37.283

如果您想拥有 2 个不同的物理表，您可以调整 Sebastien M. 的答案：

创建一个带有相应数据的笔记本电脑表以将它们外部化

```
CREATE TABLE laptop AS
SELECT DISTINCT employee_id,laptop_id,laptop_type,laptop_tagged_date,laptop_details,laptop_make
FROM employee
WHERE ... 
```

提供一个employee_laptop 视图来模仿员工的行为并获得向后兼容性

```
create view employee_laptop as 
select employee_id, e.employee_name,e.employee_detail,e.join_date,
       l.laptop_id,l.laptop_type,l.laptop_tagged_date,l.laptop_details,l.laptop_make
from employee e join laptop l using(employee_id); 
```

那么你就有足够的空间从员工表中删除不必要的列

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T13:34:20.620

我可以建议您一种可能的方法，当您创建`laptop`表时使用以下查询类型：-

```
create table laptop select employee_id,laptop_id,laptop_type,
laptop_tagged_date,laptop_details,laptop_make from
employee; 
```

`laptop`在上述过程中创建表后，您可以从`employee`表中删除指定的列，以获取具有相关字段的新员工表。

从表中删除列`employee`。

```
alter table employee
drop column laptop_id,laptop_type,laptop_tagged_date,laptop_details,laptop_make; 
```

现在新`employee`表有以下字段：

```
employee_id,employee_name,employee_detail,join_date 
```

现在该`laptop`表具有以下字段：

```
mployee_id,laptop_id,laptop_type,
    laptop_tagged_date,laptop_details,laptop_make 
```

希望它会帮助你。

# php - 选择“启用”行加上当前选择的行

> ID：12406250
> 
> 赞同：1
> 
> 时间：2012-09-13T12:27:20.777
> 
> 标签：php, mysql

我有一张用户表。每个用户都有一个启用标志，该标志为 1 或 0。

假设我想要一个包含所有启用用户的选择框，这很容易做到。**当用户正在编辑**表单并拉出**当前**启用的用户，但当前选择的用户**不是**启用的用户时，我的麻烦就来了。

通常我的查询会是这样的

```
SELECT first_name, last_name from users WHERE enabled = 1 
```

但是，如果这是一个编辑表单，并且当前选择的用户不再启用并且用户提交表单，我将失去当前选择的用户。

处理这个问题的最佳方法是什么？我能想到的唯一方法是在查询中创建一个连接，该连接也可以获得当前启用的用户，但我想知道是否有更好的方法。主要是因为我们的一些表单在页面上的 5 或 6 个位置有此用户字段，我必须进行 5 或 6 个不同的查询才能获得当前用户。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-21T18:49:35.593

如果您在生成下拉列表之前可以获取所选用户的 ID，则只需`OR`在查询中添加一个子句。

> SELECT first_name, last_name from users WHERE enabled = 1 **OR user_id = ?**

这将保证先前选择的用户出现在列表中。在所有情况下添加`OR`子句都是安全的（无论所选用户是否启用）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-21T18:49:49.780

您可以编写一个仅在当前用户未启用时才被调用的函数。

```
$result=your_database_version('select username from users where enabled=1');
$found = false;
user_options = '';
while($row=your_db_fetch_array($result)){
    $selected = '';
    if($current_user == $row['user']) {
        $found = true;
        $selected = 'selected';
    }
    $user_options.="<option value='{$row['user']}' $selected>{$row['user']}</option>";
}
if(!$found) {
    $user_options .= add_current_user($current_user);
}

function add_current_user($current_user) {
    //Get info from database for $current_user
    $row=your_db_fetch_array($result)
    return "<option value='{$row['user']}' selected>{$row['user']}</option>";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T14:53:33.193

我想我终于明白了这个问题。我可以解决此问题的最简单方法是加载所有用户，但仅在构建下拉列表时过滤它们。

下拉条件将变为：

```
if ($user['enabled'] || $user['id'] == $lead['admin']) { ... } 
```

您可以对 SQL 中的条件执行相同的操作`JOIN`，但如果表单上存在多个角色，则需要更多的工作。

加载所有用户是否是一个问题，我不能说:)

# iphone - 两部 iPhone 之间的距离

> ID：12406258
> 
> 赞同：5
> 
> 时间：2012-09-13T12:27:46.087
> 
> 标签：iphone, objective-c, geolocation, distance

我正在尝试创建一个应用程序，它允许我使用来自 GPS 的数据来测量两部 iPhone 之间的距离。我已经找到了位置，但我不知道如何让他们交换这些数据以评估他们之间的距离。你能帮我解决这个问题吗？提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-13T12:30:43.097

我相信最好的方法是建立一个服务器（例如使用谷歌应用引擎）并让手机连接到它来交换他们的位置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:50:52.783

您可以在“CLLocation”中使用“getDistanceFrom”函数

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T12:41:10.643

您可以选择点对点（短信，但这不是您想要的方式）或客户端-服务器通信：

*   类似于[FireBase项目](http://www.firebase.com/)
*   XMMP 服务器 (Jabber)
*   [CloudFoundry](http://www.cloudfoundry.com/)， Google App Engine（正如我在写这篇文章时提到的）等。
*   拥有带有数据库的 http 服务器
*   *可能有很多下一个可能性......*

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-13T12:43:50.290

您可以为此使用 google distance matrix api，但它不能解决两个用户的位置信息交换。

[https://developers.google.com/maps/documentation/distancematrix/](https://developers.google.com/maps/documentation/distancematrix/)

# java - 有哪些 Java 实用程序可用于对机器的 CPU、内存、磁盘和网络 I/O 性能进行基准测试？

> ID：12406259
> 
> 赞同：11
> 
> 时间：2012-09-13T12:27:48.410
> 
> 标签：java, performance, jvm, benchmarking, utilities

我需要解释为什么我的应用程序在远程位置表现不佳。安装探查器对我来说会很不方便。我怀疑机器配置不当，但我需要一些简单的方法来证明标准应用程序在他们的机器上受到影响，从而免除我的应用程序并将注意力转移到他们的系统管理员身上。

理想情况下，我建议他们安装一个简单的 Java 应用程序来测试主机环境的性能。如果它可以返回一些关于 CPU、磁盘、网络等的规范，那将是完美的。

我希望在网上找到这样的东西，但到目前为止我的搜索一直没有成功。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-13T12:37:36.353

至于“简单的 Java 应用程序”，我之前做过类似的事情。我的工作重点是分析 Java VM（虚拟机 - “JVM”），而不是测试特定 Java 应用程序的性能。重点是测试托管操作系统的功能 - 练习：

*   中央处理器
*   记忆
*   操作系统
*   如果是虚拟化的，则服务器 VM（不是 JVM）本身——包括上述所有的虚拟化和物理组件。
*   很大程度上忽略了外部因素，例如磁盘和网络。

我为此查看的解决方案包括：

*   来自[http://math.nist.gov/scimark2/index.html](http://math.nist.gov/scimark2/index.html)和[http://math.nist.gov/scimark2/about.html](http://math.nist.gov/scimark2/about.html)：

> SciMark 是一种复合 Java 基准测试，用于测量科学和工程应用中出现的数字代码的性能。它由五个计算内核组成：FFT、Gauss-Seidel 松弛、稀疏矩阵乘法、蒙特卡洛积分和密集 LU 分解。
> 
> 选择这些内核是为了指示底层 JVM/JIT 在使用这些类型算法的应用程序上的执行情况。为了隔离内存层次结构的影响并专注于内部 JVM/JIT 和 CPU 问题，我们特意选择了较小的问题大小。更大版本的基准测试 (SciMark 2.0 LARGE) 解决了内存子系统的性能以及缓存外问题大小的问题。
> 
> 它测量几个计算内核并以近似 Mflops（每秒百万次浮点运算）报告综合得分。

虽然有些过时（2004 年），但 SciMark 似乎仍然非常有效。

每次测试运行大约需要 30 秒来执行。

*   来自[http://www.spec.org/jvm2008/](http://www.spec.org/jvm2008/)：

> SPECjvm2008（Java 虚拟机基准测试）是用于衡量 Java 运行时环境 (JRE) 性能的基准测试套件，包含几个专注于核心 Java 功能的现实应用程序和基准测试。该套件侧重于 JRE 执行单个应用程序的性能；它反映了硬件处理器和内存子系统的性能，但对文件 I/O 的依赖性较低，并且不包括跨机器的网络 I/O。SPECjvm2008 工作负载模拟各种常见的通用应用程序计算。这些特征反映了该基准将适用于测量各种客户端和服务器系统上的基本 Java 性能的意图。
> 
> SPEC 还发现 Java 的用户体验很重要，因此该套件包括启动基准测试，并有一个称为 base 的必需运行类别，必须在没有任何 JVM 调整的情况下运行，以提高开箱即用的性能。
> 
> **SPECjvm2008 基准测试亮点**
> 
> *   利用现实生活中的应用程序（如 derby、sunflow 和 javac）和以区域为中心的基准（如 xml、序列化、加密和 scimark）。
> *   还在执行 JRE 的上下文中测量操作系统和硬件的性能。

与 SciMark 不同，SPECjvm2008 需要更长的时间才能完全执行该套件 -[只需 2 多小时](http://www.spec.org/jvm2008/docs/FAQ.html#Q1.9)。

* * *

为了测试网络，我会使用类似[iperf](http://iperf.sourceforge.net/)的东西，适用于 Linux/Windows/等。

对于测试磁盘性能，这背后有一门完整的科学，不知道你使用的是什么操作系统，我无法给你一个具体的答案。但是，例如，如果您使用的是 Linux，我会查看[此](https://www.google.com/search?q=linux%20test%20disk%20performance).

# asp.net - 在 ASP.NET MVC 3 中使用 Log4net 但任何日志都没有存储在 sql server 数据库中？

> ID：12406260
> 
> 赞同：0
> 
> 时间：2012-09-13T12:27:49.503
> 
> 标签：asp.net, asp.net-mvc-3, log4net

我已经执行了所有可能的步骤，如 web.config 中的配置、管理 global.aspx 页面等，但记录未存储在数据库表中。当我们输入用户名 =“sameer”和密码是 =“singh123”时，我有一个名为 Account controller 的控制器，但我输入了错误的密码，我想将此错误日志保存在数据库中

```
 <logger name="SMSBA">
    <appender-ref ref="ADONetAppender" />
  </logger>
  <param name="File" value="log-file.txt" />
  <param name="AppendToFile" value="true" />
  <rollingStyle value="Size" />
  <maxSizeRollBackups value="10" />
  <maximumFileSize value="10MB" />
  <staticLogFileName value="true" />
  <connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
  <add name="SMSBA" connectionString="data source=.\SQLEXPRESS;Integrated Security=SSPI;Initial Catalog=SMSBA;" providerName="System.Data.SqlClient" />
  <commandText value="INSERT INTO Log ([Date],[Thread],[Level],[Logger],[Message]) VALUES (@log_date, @thread, @log_level, @logger, @message)" />
  <parameter>
    <parameterName value="@log_date" />
    <dbType value="DateTime" />
    <layout type="log4net.Layout.PatternLayout" value="%date{yyyy'-'MM'-'dd HH':'mm':'ss'.'fff}" />
  </parameter>
  <parameter>
    <parameterName value="@thread" />
    <dbType value="String" />
    <size value="255" />
    <layout type="log4net.Layout.PatternLayout" value="%thread" />
  </parameter>
  <parameter>
    <parameterName value="@log_level" />
    <dbType value="String" />
    <size value="50" />
    <layout type="log4net.Layout.PatternLayout" value="%level" />
  </parameter>
  <parameter>
    <parameterName value="@logger" />
    <dbType value="String" />
    <size value="255" />
    <layout type="log4net.Layout.PatternLayout" value="%logger" />
  </parameter>
  <parameter>
    <parameterName value="@message" />
    <dbType value="String" />
    <size value="4000" />
    <layout type="log4net.Layout.PatternLayout" value="%message" />
  </parameter>
</appender>
<root>
  <level value="All"/>
  <appender-ref ref="AdoNetAppender_SqlServer"/>
</root> 
```

这是 web.config 文件

```
public class MvcApplication : NinjectHttpApplication
{
    private static readonly log4net.ILog log = log4net.LogManager.GetLogger(System.Reflection.MethodBase.GetCurrentMethod().DeclaringType);
    public static void RegisterGlobalFilters(GlobalFilterCollection filters)
    {
        //filters.Add(new log4netExceptionFilter()); 
        filters.Add(new HandleErrorAttribute());

    }

    public static void RegisterRoutes(RouteCollection routes)
    {
        routes.IgnoreRoute("{resource}.axd/{*pathInfo}");

        routes.MapRoute(
            "Default", // Route name
            "{controller}/{action}/{id}", // URL with parameters
            new { controller = "Account", action = "LogOn", id = UrlParameter.Optional } // Parameter defaults
        );

    }
    protected override void OnApplicationStarted()
    {
        log4net.Config.XmlConfigurator.Configure();
        log4net.ILog log = log4net.LogManager.GetLogger(this.GetType());
        log.Info("stuff");
        log.Info("stuff");

        log.Debug("log Debug");
            log.Info("log Info");
            log.Warn("log Warn");
            log.Error("log Error");
            log.Fatal("log Fatal"); 
        SMSBAContextInitializer.Init();
        const string userName = "Administrator";
        if (Membership.GetUser(userName) == null)
        {
            Membership.CreateUser(userName, "test##123");
        }
        AreaRegistration.RegisterAllAreas();
        RegisterGlobalFilters(GlobalFilters.Filters);
        RegisterRoutes(RouteTable.Routes);
        RegisterAllControllersIn(Assembly.GetExecutingAssembly());
    }

    protected override IKernel CreateKernel()
    {
        var modules = new INinjectModule[]
        {
            new ServiceModule()
        };

        return new StandardKernel(modules);
    }
    internal class ServiceModule : NinjectModule
    {
        public override void Load()
        {
            Bind<IFormsAuthenticationService>().To<FormsAuthenticationService>();
            Bind<IMembershipService>().To<AccountMembershipService>();
            Bind<MembershipProvider>().ToConstant(Membership.Provider);
            Bind<IDepartmentRepository>().To<DepartmentRepository>();
            Bind<IPersonnelRepository>().To<PersonnelRepository>();
            Bind<IPersonnelTitleRepository>().To<PersonnelTitleRepository>();
            Bind<IProcessInputRepository>().To<ProcessInputRepository>();
            Bind<ILoggingService>().To<Logging>();
        }
    }
} 
```

这是全局 .asax 文件

```
public ActionResult LogOn(LogOnModel model, string returnUrl)
        {
            try
            {
                if (ModelState.IsValid)
                {
                    if (MembershipService.ValidateUser(model.UserName, model.Password))
                    {
                        FormsService.SignIn(model.UserName, model.RememberMe);
                        if (Url.IsLocalUrl(returnUrl))
                        {
                            return Redirect(returnUrl);
                        }
                        else
                        {
                            return RedirectToAction("Index", "Department");
                        }
                    }
                    else
                    {
                        _loggingService.Log("Password changed for user " + model.UserName);
                       // AddError("The user name or password provided is incorrect.");
                        ModelState.AddModelError("", "The user name or password provided is incorrect.");
                    }
                }

            }

            catch (Exception ex)
            {
                if (Logger.IsErrorEnabled)
                {
                    AddError(ex.Message);
                    Logger.Error("login error : " + ex.Message);
                }
            }
            return View(model);
        } 
```

这是控制器代码

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:33:18.677

如果没有更多信息，不确定会发生什么，但我会为您提供有关如何排除故障的建议

在 web.config 上添加以下行

```
<!--Enables log4net internal debugging-->
<appSettings>
    <add key="log4net.Internal.Debug" value="true"/>
</appSettings>

<!--Sets an output file for the internal debugging. Without this, 
 it outpusts to the console-->
<system.diagnostics>
  <trace autoflush="true">
    <listeners>
      <add 
        name="textWriterTraceListener" 
        type="System.Diagnostics.TextWriterTraceListener" 
        initializeData="C:\tmp\log4net.txt" />
    </listeners>
  </trace>
</system.diagnostics> 
```

# javascript - iframe 正在添加标签，需要删除它们

> ID：12406261
> 
> 赞同：1
> 
> 时间：2012-09-13T12:27:53.813
> 
> 标签：javascript, jquery

我试图获取 iframe 的内容（转换为简单的富文本编辑器），然后使用 jquery 修改这些内容，但我遇到了问题，因为在 IE 和 FF 中，当我获取内容时它添加了一个额外的 span 标签和带有样式的 div 标签。如何删除这些标签/样式。

这就是我获取内容的方式...

```
var frame = window.frames['richTextField'].document.body.innerHTML; /////Gets contents of iframe
$("#songRes").html(frame); /////Places info into proper div 
```

我试图找出第一个字符是否是'{'，如果是，那么做一些事情

```
var frame = window.frames['richTextField'].document.body.innerHTML; /////Gets contents of iframe
  adj = frame.replace(/<div>/gi,"<br \/>").replace(/<\/div>/gi,""); /////String replaces contents of frame
  $("#songRes").html(adj+'<hr />'); /////Places info into proper div
  var array = adj.split("<br />"); /////Splits each line into array values
  var array = frame.split("<br />");
  for(var i = 0; i < array.length; i++){
    var str = array[i];
    if(str.charAt( 0 ) != '{'){/**/}else{/**/} // 
  } 
```

但问题是它从我没有添加的跨度标签中将起始字符显示为“<”。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T22:40:08.297

我发现了一个惊人的网站，它基本上为 javascript 重写了 php 代码。我从那里使用了 strip_tags 函数。一探究竟...

```
function strip_tags (input, allowed) {
    allowed = (((allowed || "") + "").toLowerCase().match(/<[a-z][a-z0-9]*>/g) || []).join(''); // making sure the allowed arg is a string containing only tags in lowercase (<a><b><c>)
    var tags = /<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,
        commentsAndPhpTags = /<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;
    return input.replace(commentsAndPhpTags, '').replace(tags, function ($0, $1) {
        return allowed.indexOf('<' + $1.toLowerCase() + '>') > -1 ? $0 : '';
    });
} 
```

在... [phpjs.org找到它](http://www.phpjs.org)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T23:32:38.987

我不知道为什么`.innerText`不起作用（可能是因为您使用的是 Firefox）。无论如何，这是另一个建议：

```
function strip(html)
{
   var tmp = document.createElement("DIV");
   tmp.innerHTML = html;
   return tmp.textContent||tmp.innerText;
} 
```

这是[从 Text JavaScript](https://stackoverflow.com/questions/822452/strip-html-from-text-javascript)问题中剥离 HTML 的公认答案。

# c++ - 使用时间函数后字符串被损坏

> ID：12406263
> 
> 赞同：0
> 
> 时间：2012-09-13T12:27:57.793
> 
> 标签：c++, string, datetime

我写了一个 datediff in days 函数，它返回两个日期的天数（输入格式为 20100810）

运行程序后，我的输入字符串被损坏，无法理解我在哪里做错了。

我在 AIX 上运行它，当我在 Redhat 上运行它时，字符串没有损坏。

以下是代码

```
#include <iostream>
#include <ctime> 
#include <sstream>
using namespace std;

int GetYear(std::string dateStr)
{
std::string year = dateStr.substr (0,4);
int sYr = atoi(year.c_str());
//std::cout <<"<<<GetYear dateStr:"<< dateStr << " yearStr:"<< year <<", int sYr:" << sYr << std::endl;
return sYr;
}

int GetMonth(std::string dateStr)
{
 //std::cout <<">>>GetMonth dateStr:"<< dateStr << std::endl;
 int sMn =0;
 std::string mm = dateStr.substr (4,2);
 sMn = atoi(mm.c_str());
// std::cout <<"<<<GetMonth dateStr:"<< dateStr <<"MonthStr:"<< mm <<", int MM:" << sMn << std::endl;
 return sMn;
}

int GetDay(std::string dateStr)
{
 //std::cout << ">>>GetDay dateStr:"<< dateStr << std::endl;
 int sDy = 0;
 std::string dd = dateStr.substr (6,2);
 sDy = atoi(dd.c_str());
 //std::cout << "<<<GetDay dateStr:"<< dateStr<<" DayStr:"<< dd <<", int DD:" << sDy << std::endl;
 return sDy;
}

int dateDiff_Days (std::string startStr,std::string endStr){
std::cout << ">>>dateDiff_Days" << std::endl; 
int sYr;
 int eYr;
 int sMn;
 int eMn;
 int sDy;
 int eDy;
 time_t end;
 time_t start;
 struct tm *startDate;
 struct tm *endDate;
 int dif;
 int i =0;
//Move over the start date to string and convert string to int
 sYr = GetYear(startStr);
 sMn = GetMonth(startStr);
 sDy = GetDay(startStr);
//Move over the end date to string and convert string to int
 eYr = GetYear(endStr);      
 eMn = GetMonth(endStr);
 eDy = GetDay(endStr);
//Move information into startDate structure
start = time(0);
  startDate = localtime (&start); 
  startDate->tm_year = (sYr-1900);  //Years since 1900
  startDate->tm_mday = sDy;          //Day of the month: 1-31
  startDate->tm_mon = sMn-1;           //Months since Jan: 0-11
//Leave default zero's in for the rest
  startDate->tm_sec = '0';           
  startDate->tm_min = '0';
  startDate->tm_hour = '0';
  startDate->tm_wday = '0';
  startDate->tm_yday = '0';
  startDate->tm_isdst = '0';
  start = mktime (startDate);

//Move info into endDate structure, same as startDate.
end = time(0);
  endDate = localtime (&end);
  endDate->tm_year = (eYr-1900);
  endDate->tm_mday = eDy;
  endDate->tm_mon = eMn-1;
  endDate->tm_sec = '0';
  endDate->tm_min = '0';
  endDate->tm_hour = '0';
  endDate->tm_wday = '0';
  endDate->tm_yday = '0';
  endDate->tm_isdst = '0';
  end = mktime (endDate);

  dif = difftime (end, start);
  dif = dif/86400;
 return dif;

}   
int main (){

std::string dt1 = "20100810";
std::string dt2 = "20100810";

        std::cout << ">>>GetLaterDate before dt1="<< dt1 <<" dt2="<< dt2 << std::endl;   
        std::string tempDt1 (dt1);
        std::string tempDt2 (dt2);
        int i = dateDiff_Days(dt1,dt2);
        std::cout << ">>>GetLaterDate before dt1="<< dt1 <<" dt2="<< dt2 << std::endl; 
        std::cout << ">>>GetLaterDate before tempDt1="<< tempDt1 <<"   tempDt2="<< tempDt2 << std::endl; 
return 0;
} 
```

输出：

```
>>>GetLaterDate before dt1=20100810 dt2=20100810
>>>dateDiff_Days
>>>GetLaterDate before dt1=NULLNULL dt2=NULLNULL
>>>getLaterDate before tempDt1=NULLNULL tempDt2=NULLNULL

```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-13T12:32:17.123

几乎所有初始化`tm`结构的行都是错误的，例如：

```
startDate->tm_sec = '0'; 
```

这实际上设置`startDate->tm_sec`为`48`。这些字段是*整数*而不是*字符*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T22:50:52.820

作为旁注，实际上没有必要调用`time`并且`localtime`只是为了获得指向 a 的指针，`struct tm`当你无论如何都要覆盖它时。你应该做这个：

```
struct tm ttm;

memset(&ttm, 0, sizeof(ttm));
ttm.tm_year = sYr - 1900;
ttm.tm_mon = sMn - 1;
ttm.tm_mday = sDy;
time_t start = mktime( &ttm );

memset(&ttm, 0, sizeof(ttm));    // Because mktime can alter the struct
ttm.tm_year = eYr - 1900;
ttm.tm_mon = eMn - 1;
ttm.tm_mday = eDy;
time_t end = mktime( &ttm ); 
```

我不知道你是否有可能破坏堆，因为`localtime`返回的东西是虚假的。也许。无论如何尝试我在这里给出的内容，至少它是更好的做法，即使它不能解决你的问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-02-29T13:19:24.133

localtime 和 gmtime 使用静态分配的 struct tm 实例。这意味着对它们中的任何一个的调用可能会改变 tm 值，其地址（如您所拥有的）保存在另一个指针中，期望调用将为您分配一个 tm 并返回地址。

根据本文档的“返回值”部分（[http://www.cplusplus.com/reference/ctime/localtime/](http://www.cplusplus.com/reference/ctime/localtime/)）

> 返回的值指向一个内部对象，其有效性或值可能会被任何后续调用 gmtime 或 localtime 更改。

您应该拥有该地址，分配另一个 tm 并将值复制到该地址，而不是仅捕获对这些函数的多次调用返回的地址（很可能每次都相同）。让时间函数和静态实例一起玩。:)

希望能帮助到你。

# asp.net-mvc-3 - 验证不成功时如何使 MVC 操作返回 http 错误

> ID：12406266
> 
> 赞同：1
> 
> 时间：2012-09-13T12:28:04.690
> 
> 标签：asp.net-mvc-3, jquery

我在我的控制器中创建了一个操作，该操作将用于 jQuery Ajax 方法来验证用户登录详细信息。如何配置我的操作以引发 $.Ajax 错误处理程序检测到的错误？

我正在使用以下代码引发错误，但 $.Ajax 未检测到该错误。

```
throw new HttpException(401, "message"); 
```

这是我的 JS 代码：

```
$.ajax({
        url: $('#signin_submit').data('url'),
        data: params,
        type: "POST",
        success: function (aData, aTextStatus, aJqXHR) { Signin.success(aData, aTextStatus, aJqXHR); },
        error: function (aJqXHR, aTextStatus, anErrorThrown) { Signin.error(aJqXHR, aTextStatus, anErrorThrown); }
    }) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T15:02:46.990

如果您在应用程序中设置了**表单身份验证**，您就不能轻易地从应用程序中抛出**401**错误。框架将对这些状态代码做出反应并采取不同的行为。

[如本文所述，](http://haacked.com/archive/2011/10/04/prevent-forms-authentication-login-page-redirect-when-you-donrsquot-want.aspx)您可以通过创建自定义 http 模块等方法来克服此问题。

# php - 如何使用mysql执行多个更新查询

> ID：12406267
> 
> 赞同：0
> 
> 时间：2012-09-13T12:28:05.007
> 
> 标签：php, mysql, phpmyadmin

我正在尝试一次执行多个更新查询。请查看下面提到的代码。

**实际代码块：**

```
$relist_item_id  = $_REQUEST['relist_item_id'];   // an array
$relist_item_num = count($relist_item_id);

for($j = 0; $j < $relist_item_num; $j++){
  $item_id = $relist_item_id[$j]; 
  $update_query = "UPDATE items SET ActiveItem=1 WHERE id=$item_id";
  mysql_query($update_query);
} 
```

上面的代码将一个一个地执行每个查询。但我想一次执行所有查询，所以我尝试了下面的代码。

```
$update_query = '';
for($j = 0; $j < $relist_item_num; $j++){
  $item_id = $relist_item_id[$j]; 
  $update_query .= "UPDATE items SET ActiveItem=1 WHERE id=$item_id;";
}
mysql_query($update_query); 
```

上面提到的代码没有执行/更新记录。但是，我想以类似的方式执行。有可能这样做吗？

在 phpmyadmin 中使用“SQL”，我检查了我们一次可以执行多个查询，即一次可以执行多个更新查询。例如。下面提到的更新查询将一次执行。

```
UPDATE items SET ActiveItem=1 WHERE id=1;UPDATE items SET ActiveItem=1 WHERE id=5;UPDATE items SET ActiveItem=1 WHERE id=10;UPDATE items SET ActiveItem=1 WHERE id=12;UPDATE items SET ActiveItem=1 WHERE id=15;UPDATE items SET ActiveItem=1 WHERE id=16;UPDATE items SET ActiveItem=1 WHERE id=20; 
```

我还想知道查询是否有任何限制，例如我们一次最多可以执行 20 个查询？

我的实际目标是节省执行时间，因为可能会有一个巨大的 for 循环，并且可能需要很多时间来逐个执行每个查询。我上面的方法可能不正确。但是，你的想法可以帮助我做到这一点。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T12:33:16.513

您可以尝试使用 IN：

```
ids = array(1,2,3....);
$update_query .= "UPDATE items SET ActiveItem=1 WHERE id IN (".implode(',', $ids).")"; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-13T12:31:53.487

为什么不使用这样的`in`函数：

```
$relist_item_id  = $_REQUEST['relist_item_id'];   // an array
$query="UPDATE items 
    SET ActiveItem=1 WHERE id in (".implode(', ', $relist_item_id).")"; 
```

假设这些值是数字的，不需要用单引号括起来。如果是，这应该有效：

```
$query="UPDATE items 
    SET ActiveItem=1 WHERE id in ('".implode("', '", $relist_item_id)."')"; 
```

# json - 在 PostgreSQL 9.2 中的 json 字段上创建索引

> ID：12406269
> 
> 赞同：3
> 
> 时间：2012-09-13T12:28:13.663
> 
> 标签：json, postgresql, indexing, postgresql-9.2

我有一些带有 json 列的表，并且想在这些列上建立索引。但是，我得到了一个默认的运算符类（[http://www.postgresql.org/docs/9.2/static/sql-createopclass.html](http://www.postgresql.org/docs/9.2/static/sql-createopclass.html)）。有人已经这样做了还是给了我一个替代方案？

要重现该问题，请尝试：

```
>> create table foo (json json, id int);
CREATE TABLE
>> create index on foo (id);
CREATE INDEX
>> create index on foo (json);
ERROR:  data type json has no default operator class for access method "btree"
HINT:  You must specify an operator class for the index or define a default operator class for the data type. 
```

这同样适用于`gist`或`gil`索引。

有趣的是，当我尝试以下操作时，我没有收到错误：

```
>> create type "nested" as (json json, extra text);
CREATE TYPE
>> create table bar (id int, json nested);
CREATE TABLE
>> create index on bar (json);
CREATE INDEX 
```

那是因为没有为组件创建索引吗？

好的，主要问题是默认运算符。感谢您提供任何帮助或共享经验。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T13:18:11.087

如果您想安装 PLV8 JavaScript 语言，有一个解决方法：

[http://people.planetpostgresql.org/andrew/index.php?/archives/249-Using-PLV8-to-index-JSON.html](http://people.planetpostgresql.org/andrew/index.php?/archives/249-Using-PLV8-to-index-JSON.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T23:17:37.333

最适合我的情况的解决方案如下：

我只是将 json 视为文本并在文本上创建索引。

```
>> create index on foo ((json::text)); 
```

然后必须转换查询，以便它使用索引。

解释显示是否使用索引。

```
>> explain select * from foo where json::text = 'foo'; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T13:07:21.033

JSON 或 XML 类型没有内部索引类型。此字段可以保存一个值，但它不能是索引 - 您需要使用 hstore 列或类似的辅助列。

# asp.net - 将 aspx 页面导出为 pdf 并在 asp.net 中通过邮件发送

> ID：12406272
> 
> 赞同：0
> 
> 时间：2012-09-13T12:28:26.770
> 
> 标签：asp.net

我想通过电子邮件发送 aspx 页面。所以我把它转换成pdf。问题是在保存数据之前创建了 pdf。所以当我打开pdf时，我的测试箱是空的。请给我一个解决方案。下面是正在使用的代码。我也想将pdf文件作为附件发送。

```
 protected void SendMail()
    {

        var userName = "4.n-4@gmail.com";

        var toAddress = YourEmail.Text.ToString();

        const string Password = "Mypassword123#";

        string subject = YourSubject.Text.ToString();
        string body = "From: " + YourName.Text + "\n";
        body += "Email: " + YourEmail.Text + "\n";
        body += "Subject: " + YourSubject.Text + "\n";
        body += "Question: \n" + Comments.Text + "\n";

        var smtp = new System.Net.Mail.SmtpClient();
        {
            smtp.Host = "10.238.52.240";
            smtp.Port = 25;
            smtp.EnableSsl = false;
            smtp.DeliveryMethod = System.Net.Mail.SmtpDeliveryMethod.Network;
            smtp.Credentials = new NetworkCredential(userName, Password);
            smtp.Timeout = 20000;
        }

        smtp.Send(userName, toAddress, subject, body);
    }

     protected void Button1_Click(object sender, EventArgs e)
    {

        Response.ContentType = "application/pdf"; 
        Response.AddHeader("content-disposition", "attachment;filename=TestPage.pdf");
        Response.Cache.SetCacheability(HttpCacheability.NoCache); 
        StringWriter sw = new StringWriter(); HtmlTextWriter hw = new HtmlTextWriter(sw); 
        this.Page.RenderControl(hw); 
        StringReader sr = new StringReader(sw.ToString());
        Document pdfDoc = new Document(PageSize.A4, 10f, 10f, 100f, 0f); 
        HTMLWorker htmlparser = new HTMLWorker(pdfDoc);
        PdfWriter.GetInstance(pdfDoc, Response.OutputStream); 
        pdfDoc.Open(); 
        htmlparser.Parse(sr); 

        Response.Write(pdfDoc);

         try
        {
             SendMail();

            DisplayMessage.Text = "Your Comments after sending the mail";
            DisplayMessage.Visible = true;
            YourSubject.Text = "";
            YourEmail.Text = "";
            YourName.Text = "";
            Comments.Text = "";
            pdfDoc.Close();
            Response.End();
        }
        catch (Exception) { }
    }
        }
      } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:47:20.737

我不知道您背后的其余代码，但我猜您缺少足够的 PostBack 处理。当您单击提交按钮时，页面首先被发布（即'PostBack' - 重新处理整个页面生命周期，包括`Page_Load`事件；重新初始化页面），因此当您到达按钮的 Click 事件时之后，表单和您的文本框将为空。

[您可以在msdn](http://msdn.microsoft.com/en-us/library/ms178472%28v=vs.80%29.aspx)上阅读 ASP.NET 页面生命周期。

# javascript - 如何告诉 MathJax 使用另一种下标语法？

> ID：12406274
> 
> 赞同：3
> 
> 时间：2012-09-13T12:28:35.223
> 
> 标签：javascript, math, mathjax

我的博客有问题。写帖子时，我还可以使用 MathJax 添加数学。我也有我的一点标记语言，我可以在其中处理斜体和粗体文本。斜体的语法与 MathJax 的下标语法发生冲突。

因此，如果我在端口中写入以下内容：

```
My cat was doing this strange sound: _Prrrrrr_. 
```

下划线之间的文本通过使用斜体样式的 span 标签重新绘制。

但是在 MathJax 中使用下划线意味着有下标。有时我当然会遇到问题。关键是首先处理我的标记语言，然后才能运行 Mathjax。

有没有办法告诉 MathJax 在不使用下划线但使用替代语法的情况下制作下标和上标？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:10:29.307

有一种方法。如此处所述使用宏：[在 MathJax 中配置 Tex](http://www.mathjax.org/docs/2.0/options/TeX.html#configure-tex)。通过设置这样的东西：

```
MathJax.Hub.Config({TeX: {Macros:{subscript:['_{#1}',1],superscript:['^{#1}',1]}}}); 
```

系统（MathJax）会用下划线代替这些东西然后解析，我的问题其实是这样解决的！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-04-16T09:12:39.213

我发现用反斜杠转义下划线很有帮助，如下所示：

```
...strange sound: \_Prrrrrr\_. 
```

但这确实导致一些解析器错误地呈现事物。

但是，如果您还将 ' ' 定义`\_`为仅输出 ' `_`' 的宏，那么这一切似乎都有效。

在 MathJax 中执行此操作：

```
MathJax.Hub.Config({TeX: {Macros: { '\_': ['_'] }}, /* rest of config here... */ }); 
```

要在 Katex 中执行此操作，我更改`katex_config.js`为：

```
module.exports = {
  macros: { '\\_': '_' }
} 
```

# c# - WCF如何避免定义许多操作合同

> ID：12406276
> 
> 赞同：1
> 
> 时间：2012-09-13T12:28:37.317
> 
> 标签：c#, .net, wcf

在我的界面中，我会有很多功能。所有这些都将绑定为 OperationContract。

有没有办法避免在这些函数中的每一个上输入 [OperationContract] ？

```
[ServiceContract]
public interface IStudentService
{
    [OperationContract]
    String GetStudentFullName (int studentId);

    [OperationContract]
    StudentInformation GetStudentInfo (int studentId);
    ... about 20 more
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-13T12:46:02.957

您应该避免包含大量（如 20 个或更多）运营合同的服务合同。

首先你可以做的是改变你的服务所依赖的模式。与其作为操作结果发布和返回单个数据值，不如使用 DTO（或 STE，如果这适用于您）并对对象图进行操作：

```
[OperationContract]
StudentDTO GetStudent(int studentId);
[OperationContract]
StudentDTO UpdateStudent(CreateStudentDTO student);
[OperationContract]
StudentDTO UpdateStudent(UpdateStudentDTO student);

[DataContract]
public class StudentDTO
{
  public int Id { get; set; }
  public string Name { get; set; }
  public StudentInformationDTO StudentInformation { get; set; }

  // other student's data here
} 
```

第二件事 - 将此类合同分成小合同（记住单一责任原则）。你不应该做对全世界负责的合同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:41:22.533

没有简单的方法来做到这一点。如果您希望服务的客户端可以使用所有方法，则必须使用 [OperationContract] 属性进行修饰。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T13:15:22.327

对于客户端可见性，所有方法都必须用 [OperationContract] 修饰。看起来您正在构建一个健谈的界面（GetStudentThis(id)、GetStudentThat(id) 等）——非常类似于存储过程。尝试通过使用更少的方法来完成更多的工作，从而使您的界面变得厚实。

例如，将“请求”对象传递给您的所有方法。此请求将封装执行您的方法所需的参数。像这样的东西：GetStudent（StudentRequestObject/Message request）。现在，您的方法实现可以检查单个参数的内容，采取相应措施，并将“响应”对象返回给封装有效负载的客户端。

结果将是更少的方法（[OperationContract]）、更容易的维护和更少的代码。

# gwt - Google Plugin for Eclipse 无法正确安装

> ID：12406281
> 
> 赞同：1
> 
> 时间：2012-09-13T12:28:56.793
> 
> 标签：gwt, eclipse-plugin

我已经在我的 Eclipse-Helios-3.6 中安装
**了适用于 Eclipse 3.6**
**Google Web Toolkit SDK 2.4.0**
的 Google 插件， 但在我的工具栏中找不到 google 插件图标，而且我可以在 Windows>>Preferences中找到**Google 。**

操作系统-Ubuntu

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:19:36.757

好吧，既然您可以在 Windows 首选项中看到 google，我假设安装确实有效。您是否尝试过创建一个新的 GWT 项目。如果项目错误，GWT 按钮可能不会显示。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T18:33:59.300

不要在 Ubuntu 中使用预打包的 Eclipse（那个版本通常已经过时了）。而是从 Eclipse 网站获取当前版本并将其安装在您喜欢的目录中（从而避免 Eclipse 更新机制出现问题，该机制不太符合 Linux 目录指南）。

# c# - 添加列表 or Arraylist to an array of CustomObject[] I have tried many ways like Cast<customobject>, as Customobject and ToArray(Customobject) but nothing worked. How can I add 问问题 问问题 2012-09-13T12:29:07.310 811 次 This question shows research effort; it is useful and clear 0 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. I have tried many ways like Cast<customobject>, as Customobject and ToArray(Customobject) but nothing worked. How can I add List or ArrayList via AddRange to a CustomObject[] Array? Code is really difficult. But if you have some time you can get the complete source of the destination list from here: http://www.codeproject.com/Articles/4012/C-List-View-v1-3?msg=3844172#xx3844172xx This is a Custom Listview I activated a combobox for the second column, so I can select diferrent values for a cell. But before this, I have to add something to select. This is the hole problem. Update: Firstly, thanks for the help ! Secondly, Found a solution in the comments from the website with the source. Had to add some code and changed the destination custom array to a List Test cases are associated to test sets via the TestCases collection on TestSet in the WSAPI. This code example demonstrates creating a few test cases and then creating a test set associated with the newly created test cases. RallyRestApi restApi = new RallyRestApi(new URI(SERVER), USERNAME, PASSWORD); try { //Create some test cases JsonArray testCases = new JsonArray(); for(int i = 0; i < 3; i++) { JsonObject newTestCase = new JsonObject(); newTestCase.addProperty("Name", "New Test Case " + i); CreateRequest createRequest = new CreateRequest("testcase", newTestCase); CreateResponse createResponse = restApi.create(createRequest); String ref = createResponse.getObject().get("_ref").getAsString(); System.out.println(String.format("Created test case %s", ref)); //Keep track of the test case JsonObject testCase = new JsonObject(); testCase.addProperty("_ref", ref); testCases.add(testCase); } //Create test set JsonObject newTestSet = new JsonObject(); newTestSet.addProperty("Name", "New Test Set"); newTestSet.add("TestCases", testCases); CreateRequest createRequest = new CreateRequest("testset", newTestSet); CreateResponse createResponse = restApi.create(createRequest); System.out.println(String.format("Created test set %s", createResponse.getObject().get("_ref").getAsString())); } finally { //Release all resources restApi.close(); } c#arrayslistobject 4 5 回答 5 This answer is useful 6 list.Cast<customobject>().ToArray() 只要列表中的内容实际上是CustomObject. 如果它们可能是其他类型，您可以使用OfType<customobject>()代替Cast. 这将过滤掉任何不兼容的类型。 于 2012-09-13T12:33:17.723 回答 This answer is useful 1 假设objects确实是 的实例CustomObject，请使用 LINQSelect方法： objList.Select(o => o as CustomObject).ToArray(); 否则你会得到一个数组null。 于 2012-09-13T12:32:39.603 回答 This answer is useful 0 如果它是一个List<customobject>那么让我们说 CustomObject[] coarr = list_of_customobject.ToArray(); 如果它是一个 ArrayList 那么 CustomObject[] coarr = arraylist.OfType<customobject>().ToArray(); 于 2012-09-13T12:33:08.720 回答 This answer is useful 0 如果您不确定您的所有对象是否都属于该类型，请CustomObject 尝试 var result = list.OfType<customobject>.ToArray(); 于 2012-09-13T12:34:53.807 回答 This answer is useful 0 严格来说，您不能将元素添加到数组中，因为数组的长度在其生命周期内保持不变。你可以做两件事： 创建一个新数组 myArray = myTList.ToArray() // generic) myArray = myArrayList.Cast<customobject>().ToArray() // cast, non-generic myArray = myArrayList.OfType<customobject>().ToArray() // filter by type, non-generic 设置数组的元素 myArray[x] = myTList[y] // generic myArray[x] = (CustomObject)myArrayList[y] // non-generic 我建议您尽可能使用通用集合。它们为您提供额外的类型安全性。强制转换object变量会导致运行时错误，您可以使用泛型类型在编译时检测到。 如果您确实想向现有集合添加元素，您可以尝试使用动态集合类型而不是数组：List <t>: IList<t>orLinkedList <t>: ICollection<t>是一个很好的起点，或者更具体的类型，例如Stack<t>or Queue<t>。 于 2012-09-13T12:48:58.507 回答 Related 1 c++ - C ++计算日期之间的差异 2 c# - 尽管首先调用 GetNamespacesInScope，但“未定义命名空间‘x’” 6 c# - 单机上的Socket编程？ 3 wso2 - REST TO REST 使用 WSO2 ESB 5 javascript - 查找最小和最大日期 2 php - 发送多封电子邮件并设置了重写规则 0 c# - 访问另一个程序集的隔离存储 2 c# - AssemblyInfo.cs 中必须具备什么？ 2 asp.net - 在用户控制中使用回发 的 Asp.net 输出缓存替换 1 python - 调用 __unicode__ 方法 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641</t></t></t></t></t></t></customobject></customobject></customobject></customobject></customobject></customobject></customobject></customobject></customobject>

> ID：12406285
> 
> 赞同：0
> 
> 时间：
> 
> 标签：c#, arrays, list, object

I have tried many ways like `Cast<CustomObject>`, `as Customobject` and `ToArray(Customobject)` but nothing worked.

How can I add `List` or `ArrayList` via AddRange to a `CustomObject[]` Array?

Code is really difficult. But if you have some time you can get the complete source of the destination list from here: [http://www.codeproject.com/Articles/4012/C-List-View-v1-3?msg=3844172#xx3844172xx](http://www.codeproject.com/Articles/4012/C-List-View-v1-3?msg=3844172#xx3844172xx)

This is a Custom Listview I activated a combobox for the second column, so I can select diferrent values for a cell. But before this, I have to add something to select. This is the hole problem.

Update: Firstly, thanks for the help ! Secondly, Found a solution in the comments from the website with the source. Had to add some code and changed the destination custom array to a List

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-13T12:33:17.723

```
list.Cast<CustomObject>().ToArray() 
```

只要列表中的内容实际上是`CustomObject`. 如果它们可能是其他类型，您可以使用`OfType<CustomObject>()`代替`Cast`. 这将过滤掉任何不兼容的类型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:32:39.603

假设`objects`确实是 的实例`CustomObject`，请使用 LINQ`Select`方法：

```
objList.Select(o => o as CustomObject).ToArray(); 
```

否则你会得到一个数组`null`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:33:08.720

如果它是一个`List<CustomObject>`那么让我们说

```
CustomObject[] coarr = list_of_customobject.ToArray(); 
```

如果它是一个 ArrayList 那么

```
CustomObject[] coarr = arraylist.OfType<CustomObject>().ToArray(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-13T12:34:53.807

如果您不确定您的所有对象是否都属于该类型，请`CustomObject` 尝试

```
var result = list.OfType<CustomObject>.ToArray(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-13T12:48:58.507

严格来说，您不能*将*元素添加到数组中，因为数组的长度在其生命周期内保持不变。你可以做两件事：

**创建一个新数组**

```
myArray = myTList.ToArray() // generic)
myArray = myArrayList.Cast<CustomObject>().ToArray() // cast, non-generic
myArray = myArrayList.OfType<CustomObject>().ToArray() // filter by type, non-generic 
```

**设置数组的元素**

```
myArray[x] = myTList[y] // generic
myArray[x] = (CustomObject)myArrayList[y] // non-generic 
```

我建议您尽可能使用通用集合。它们为您提供额外的类型安全性。强制转换`object`变量会导致运行时错误，您可以使用泛型类型在编译时检测到。

如果您确实想向现有集合*添加*元素，您可以尝试使用动态集合类型而不是数组：`List<T> : IList<T>`or`LinkedList<T> : ICollection<T>`是一个很好的起点，或者更具体的类型，例如`Stack<T>`or `Queue<T>`。

# c++ - C++ - Logging statements according to the level

> ID：12406291
> 
> 赞同：0
> 
> 时间：2012-09-13T12:29:23.260
> 
> 标签：c++

I have the following statements:

```
static Logging::Logger* common_logger = new Logging::Logger(Logging::Logger::LEVEL); 
```

In the Logger.h i have

```
 class Logger {
public:

    enum LEVEL {
        Debug,
        Warning,
        Notification,
        Error
    };
  } 
```

I have included the file Logger.h inside my another class as :

```
 Logging::log(CustomDialog::logger, Logging::Entry, CustomDialog::CLASSNAME, "CustomDialog"); 
```

I need to know if this is the right way to do the reason why i am doing this is to get logs based upon the level.

Regards,

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T12:34:59.097

看一下[Log4cxx](http://logging.apache.org/log4cxx/) - 它易于使用，并且几乎包含您在 C++ 日志框架中可能需要的所有功能。它是可扩展的，可以通过配置文件进行配置，甚至支持开箱即用的远程登录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T13:04:53.530

您可以使用 ACE_DEBUG，它看起来很老派（ala printf），但线程安全、可靠且完全可配置（使用日志文件、标准输出等）。当然，您必须链接[libACE（自适应通信框架）](http://www.cs.wustl.edu/~schmidt/ACE.html)，但它是如今，默认情况下，许多 Linux 发行版中都可以轻松获得开发包。我一直在查看 C++ 日志库帖子中提到的列表`Als`，但似乎大多数人都遇到了许多框架的内存泄漏，并且 boost::Log 还没有发布。

另一点是大多数日志库使用流，例如：

```
// from thread 1
mlog(mlog::DEBUG) << "Debug message goes here" << mlog::endl;

// from thread 2
mlog(mlog::INFO) << "Info message goes here" << mlog::endl; 
```

在多线程环境中将无法按预期工作，而 ACE 将在那里正确执行。

上面的输出将如下所示：

```
[thread1 | 12:04.23] Debug me[thread2 | 12:04.24] Info message goesssage goes herehere 
```

# git - 克隆和拉取时下载不同的文件

> ID：12406292
> 
> 赞同：1
> 
> 时间：2012-09-13T12:29:22.947
> 
> 标签：git, github

我试图玩 github 的分叉，所以我分叉了 AndEngine 项目。现在当我这样做时：

```
git clone https://github.com/Apoptyzm/AndEngine.git 
git pull origin master 
```

我得到了大量的自动合并冲突和冲突，例如：

> 冲突：FontFactory.java 在 HEAD 中删除并在 {HASH} 中修改。FontFactory.java 的 {HASH} 版本留在树中。

所以我的问题是为什么我默认从我的仓库下载不同的文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:33:19.397

原始 repo 的 HEAD 分支是`GLES2`，这意味着它是克隆后签出的分支。它必须与`master`分支完全不同，这就是为什么在拉出它时会发生冲突。

改用`GLES2`，你应该没问题，或者 checkout `master`，取决于你想用什么分支编码。

# android - android forcing localized resource selection by own decision not by device configurations

> ID：12406293
> 
> 赞同：0
> 
> 时间：2012-09-13T12:29:23.433
> 
> 标签：android, android-resources

in my case the application will be installed on a single device and will be used by different users to login and use the app, problem here is that the users are of different languages you can say some are of french language and some are English language so i decided to do this by putting two strings.xml files, one in "Values-fr" for french ones and one in "Values" means if the person is french then use french resources otherwise default will be English resources. as this will not work because device is single and it'll be irritating if french one have to change device language to french to see app in french and then when English user came he needs again to change the device local language to English to see app in English. so language prefrences are stored in database for each user. i just want here that the selection of localized resources i.e the selection between "Values" and "Values-fr" should be done by my decision not by android deciding on the basis of device local language. is this possible?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:50:10.253

您可以尝试从应用程序中更改区域设置，以便分配正确的值并在退出时恢复它。这是对您的问题的粗略解决方案。

此[链接](http://www.tutorialforandroid.com/2009/01/force-localize-application-on-android.html)可能对您的任务有用。

# sql - 如何在sqlite中查询不同的日期格式

> ID：12406295
> 
> 赞同：21
> 
> 时间：2012-09-13T12:29:29.360
> 
> 标签：sql, sqlite

我`sqlite`在移动设备和我的数据库中使用本地数据库，我有带有列名的日期字段`RN_CREATE_DATE`。我的`RN_CREATE_DATE`列值采用这种格式`'dd-mm-yy HH:MM:SS'`，我想获取给定日期的数据。我尝试使用以下数据库列和值的确切查询是什么

**RN_CREATE_DATE

2012-07-27 11:04:34

2012-05-28 10:04:34
2012-07-22 09:04:34**

```
SELECT  RN_CREATE_DATE 
FROM DISPOSITION 
WHERE  RN_CREATE_DATE=strftime('%Y', '2012-07-28 12:04:34') 
```

但没有找到结果，请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2012-09-13T12:45:01.537

[`strftime`](https://www.sqlite.org/lang_datefunc.html)像这样工作：

```
sqlite> select strftime('%d-%m-%Y %H:%M:%S', datetime('now'));
2012-09-13 12:42:56 
```

如果要在`WHERE`子句中使用它，请替换为格式`datetime('now')`中要匹配的日期时间 。`YYYY-mm-dd HH:MM:SS`

**例子：**

```
SELECT *
  FROM t
 WHERE c = strftime('%d-%m-%Y %H:%M:%S', '2012-09-13 12:44:22');
--                   dd-mm-YYYY HH:MM:SS  YYYY-mm-dd HH:MM:SS 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-04-01T17:41:36.453

我想添加一些有关在 UNIX 纪元时间中使用 SQLite 日期和时间的信息：

UNIX 纪元是 1970-01-01 的 00:00:00，即 1970 年 1 月 1 日午夜。UNIX 机器（如运行 Linux 的机器）上的当前时间以从那时起以秒为单位测量。

SQLite 支持这个纪元时间，我发现它在 SQLite 中用作 DateTime 字段的格式非常有用。

具体来说，假设我想要一个 Event 表，用于音乐会等活动。我想要一个 fromDateTime 字段来存储活动开始的时间。我可以通过将 fromDateTime 字段设置为 INTEGER 类型来做到这一点，如下所示：

```
CREATE TABLE IF NOT EXISTS Event(
    eventID                     INTEGER PRIMARY KEY,
    name                        TEXT,
    ratingOutOf10               REAL,
    numberOfRatings             INTEGER,
    category                    TEXT,   
    venue                       TEXT,
    fromDateTime                INTEGER,
    description                 TEXT,   
    pricesList                  TEXT,   
    termsAndConditions          TEXT                
); 
```

现在，让我们来看看 UNIX 纪元与 SQLite DateTime 字段的用法：

```
Basic
    select strftime('%s', '2016-01-01 00:10:11');               --returns 1451607012
    select datetime(1451607012, 'unixepoch');                   --returns 2016-01-01 00:10:11
    select datetime(1451607012, 'unixepoch', 'localtime');      --returns 2016-01-01 05:40:11 i.e. local time (in India, this is +5:30).

Only dates and/or times:
    select strftime('%s', '2016-01-01');                        --returns 1451606400
    select strftime('%s', '2016-01-01 16:00');                  --returns 1451664000
    select date(-11168899200, 'unixepoch');                     --returns 1616-01-27        
    select time(-11168899200, 'unixepoch');                     --returns 08:00:00

Other stuff:
    select strftime('%d-%m-%Y %H:%M:%S', '2012-09-13 12:44:22') --returns 13-09-2012 12:44:22 
```

现在，这是我们的事件表的上述示例用法：

```
EXAMPLE:
    insert into Event 
        (name, ratingOutOf10, numberOfRatings, category, venue, fromDateTime, description, pricesList, termsAndConditions)
        VALUES
        ('Disco', '3.4', '45', 'Adventure; Music;', 'Bombay Hall', strftime('%s','2016-01-27 20:30:50'), 'A dance party', 'Normal: Rs. 50', 'Items lost will not be the concern of the venue host.');

    insert into Event 
        (name, ratingOutOf10, numberOfRatings, category, venue, fromDateTime, description, pricesList, termsAndConditions)
        VALUES
        ('Trekking', '4.1', '100', 'Outdoors;', 'Sanjay Gandhi National Park', strftime('%s','2016-01-27 08:30'), 'A trek through the wilderness', 'Normal: Rs. 0', 'You must be 18 or more and sign a release.');

    select * from event where fromDateTime > strftime('%s','2016-01-27 20:30:49'); 
```

我喜欢这个解决方案，因为它非常容易使用编程语言，无需过多考虑 SQLite 的 DATE、TIME、DATETIME 等数据类型所涉及的各种格式。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T20:55:48.030

[`strftime`](https://www.sqlite.org/lang_datefunc.html)总是生成四位数的年份，所以你必须使用[`substr`](http://www.sqlite.org/lang_corefunc.html)截掉前两位数：

```
... WHERE RN_CREATE_DATE = strftime('dd-mm-', '2012-07-28 12:04:34') ||
                           substr(strftime('%Y %H:%M:%S', '2012-07-28 12:04:34'), 3) 
```

* * *

以 SQLite 直接理解的格式存储列值会更容易。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-13T12:50:33.027

`strftime('%Y', '2012-07-28 12:04:34')`返回**2012**，如：

```
sqlite> select strftime('%Y', '2012-07-28 12:04:34');
2012 
```

但 RN_CREATE_DATE 是 datetime 类型，它需要一个完整的 datetime，如“2012-07-28 12:04:34”。你想要的可能很简单：

```
SELECT  RN_CREATE_DATE 
FROM DISPOSITION 
WHERE  RN_CREATE_DATE='2012-07-28 12:04:34' 
```

# asp.net - 使用 PassOnNull 进行 MVC 万无一失的验证 - 可空或“01.01.0001 00:00:00”

> ID：12406297
> 
> 赞同：0
> 
> 时间：2012-09-13T12:29:43.927
> 
> 标签：asp.net, asp.net-mvc, validation, data-annotations

我尝试验证仅需要第一个日期的两个日期（开始-> 结束），但是当用户输入第二个日期时，它必须大于第一个日期。我正在使用带有“PassOnNull”参数的 MVC Foolproof 包。

**模型**

```
<Required()> _
<DisplayName("Event Start")> _
<DataType(DataType.DateTime)> _
'This doesn't work:
Public Property EventStart As Nullable(Of DateTime)
'This does work but with the ugly default value in the textbox
Public Property EventStart As DateTime

<DisplayName("Event End")> _
<DataType(DataType.DateTime)> _
<GreaterThan("EventStart", PassOnNull:=True)> _
Public Property EventEnd As Nullable(Of DateTime) 
```

我可以通过将 EventStart 日期设置为**不可**为空，但随后我在文本框中获得一个默认日期，其值为“01.01.0001 00:00:00”，这甚至不是我的国家/地区设置！

因此，我想让它与可为空的模型属性一起使用，或者摆脱“01.01.0001 00:00:00”值并改用空白文本男孩！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:14:44.970

好的，在 Codeplex 上阅读[http://foolproof.codeplex.com/discussions/220498](http://foolproof.codeplex.com/discussions/220498)后，我现在知道它可以反过来工作：

```
<Required()> _
<DisplayName("Event Start")> _
<LessThan("EventEnd", PassOnNull:=True)> _
Public Property EventStart As Nullable(Of DateTime)

<DisplayName("Event End")> _
Public Property EventEnd As Nullable(Of DateTime) 
```

# asp.net-mvc-3 - EF, POCO, DbContext and Validating Deletions

> ID：12406298
> 
> 赞同：1
> 
> 时间：2012-09-13T12:29:45.463
> 
> 标签：asp.net-mvc-3, entity-framework-4, dbcontext

I'm fairly new to the world of MVC and EF, and I've come quite a ways on my own, but one thing I haven't been able to find online is how people validate for "do not delete" conditions.

I'm using EF4.1 database-first POCO classes generated with the DbContext T4 template. In my partial class files I've already decorated all of my classes with the "IValidatableObject" interface that gets called on changes for my business rules that go beyond the standard MetaData attribute type of validations.

What I need now is a validation that works via the same mechanism (and is, therefore, transparent to the UI and the controller) for checking if deletions are OK. My thought was to create an interface like so:

```
public interface IDeletionValidation
{
    DbEntityValidationResult ValidateDeletion(DbEntityValidationResult validationResults);
} 
```

...and then do this in an override to ValidateEntity in the DbContext...

```
public partial class MyEntityContext
{
   protected override DbEntityValidationResult ValidateEntity(DbEntityEntry entityEntry, IDictionary<object, object> items)
    {
        DbEntityValidationResult val = base.ValidateEntity(entityEntry, items);
        if (entityEntry.State == EntityState.Deleted)
        {
            IDeletionValidation delValidationEntity = entityEntry.Entity as IDeletionValidation;
            if (delValidationEntity != null)
                val = delValidationEntity.ValidateDeletion(val);
        }
        return val;
    } 
```

...and then I could implement the IDeletionValidation interface on those classes that need to have a validation done before they can be safely deleted.

An example (not working, see caveat in comments) of the ValidateDeletion code would be...

```
public partial class SalesOrder : IDeletionValidation, IValidatableObject  
{
    public DbEntityValidationResult ValidateDeletion(DbEntityValidationResult validations)
    {
        // A paid SalesOrder cannot be deleted, only voided
        // NOTE: this code won't work, it's coming from my head and note from the actual source, I forget
        // what class I'd need to add to the DbEntityValidationResult collection for this type of validation! 
        if (PaidAmount != 0) 
             validations.Add(new ValidationResult("A paid SalesOrder cannot be deleted, only voided"));
        return validations;
    }

    public IEnumerable<ValidationResult> Validate(ValidationContext validationContext)
    {
        List<ValidationResult> validations = new List<ValidationResult>();

        // Verify that the exempt reason is filled in if the sales tax flag is blank
        if (!IsTaxable && string.IsNullOrEmpty(TaxExemptReason))
            validations.Add(new ValidationResult("The Tax Exempt Reason cannot be blank for non-taxable orders"));

        return validations;
    }

    ....
} 
```

Am I on the right track? Is there a better way?

Thanks,
CList

# EDIT --- Summary of the one-interface method proposed by Pawel (below)

I think the one-interface way presented below and my way above is a little bit of a chocolate vs. vanilla argument in terms of how you want to do it. Performance should be about the same for large numbers of updates / deletes, and you may *want* to have your delete validation be a separate interface that doesn't apply to all of your validated classes, but if you want all of your validations in one place here it is...

## Mod your DBContext

```
protected override bool ShouldValidateEntity(DbEntityEntry entityEntry)
{
    return entityEntry.Sate == EntityState.Deleted || 
           base.ShouldValidateEntity(entityEntry);
}

protected override DbEntityValidationResult ValidateEntity(DbEntityEntry entityEntry, IDictionary<object, object> items)
{
    var myItems = new Dictionary<object, object>();
    myItems.Add("IsDelete", (entityEntry.State == EntityState.Deleted));

    // You could also pass the whole context to the validation routines if you need to, which might be helpful if the 
    // validations need to do additional lookups on other DbSets
    // myItems.Add("Context", this);

    return base.ValidateEntity(entityEntry, myItems);
} 
```

## Put the deletion-validation in your entity's Validate

```
 public IEnumerable<ValidationResult> Validate(ValidationContext validationContext)
    {
        List<ValidationResult> validations = new List<ValidationResult>();

        bool isDelete = validationContext.Items.ContainsKey("IsDelete")
                                ? (bool)validationContext.Items["IsDelete"] 
                                : false;
        if (isDelete)
        {
            if (PaidAmount != 0)
                validations.Add(new ValidationResult("You cannot delete a paid Sales Order Line", new string[] { "PaidAmount" }));
            return validations;
        }

        // Update / Add validations!!
        // Verify that the exempt reason is filled in if the sales tax flag is blank
        if (!IsTaxable && string.IsNullOrEmpty(TaxExemptReason))
            validations.Add(new ValidationResult("The Tax Exempt Reason cannot be blank for non-taxable orders"));

        return validations;
    } 
```

...and in the interest of brevity and only putting all of the check-if-delete code in one place, you could even create an extension method on the ValidationContext class (if you're into that sort of thing) like so...

```
public static class MyExtensions
{
    public static bool IsDelete(this System.ComponentModel.DataAnnotations.ValidationContext validationContext)
    {
        return validationContext.Items.ContainsKey("IsDelete")
                                ? (bool)validationContext.Items["IsDelete"] 
                                : false;
    }
} 
```

...which gives us this for our validation code...

```
 public IEnumerable<ValidationResult> Validate(ValidationContext validationContext)
    {
        List<ValidationResult> validations = new List<ValidationResult>();

        if (validationContext.IsDelete())
        {
            .... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T18:14:57.050

我不太确定为什么您需要一个单独的界面来仅用于已删除的实体。您可以使用传递给 base.ValidateEntity() 方法的项目字典将实体状态（或 EntityEntry 对象或上下文）传递给 IValidatableObject.Validate() 方法。[查看此博客文章http://blogs.msdn.com/b/adonet/archive/2011/05/27/ef-4-1-validation.aspx](http://blogs.msdn.com/b/adonet/archive/2011/05/27/ef-4-1-validation.aspx)中的“自定义验证示例：Uniqness”部分。这样，您可以只使用一个接口 - IValidatableObject 来完成所有操作。除此之外 - 默认情况下，EF 仅验证已添加和已修改的实体。如果要验证处于 Deleted 状态的实体，您需要使用以下内容覆盖 DbContext.ShouldValidateEntity() 方法：

```
protected override bool ShouldValidateEntity(DbEntityEntry entityEntry)
{
    return entityEntry.Sate == EntityState.Deleted || 
               base.ShouldValidateEntity(entityEntry);
} 
```

# php - Split a big txt file with php

> ID：12406300
> 
> 赞同：0
> 
> 时间：2012-09-13T12:29:47.827
> 
> 标签：php, split

I have a big txt file (84mb) with over 1 million lines.

I want to split it in seperate 50k lines files. How can i do it? I searched on-line but I found nothing about it.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:17:45.407

This is a modified version of my script at : [Read through huge text files and store each line in database](https://stackoverflow.com/questions/10270162/read-through-huge-text-files-and-store-each-line-in-database/10271542#10271542)

### Usage

```
set_time_limit(0);

// Split by Byte
splitData("b.php", __DIR__ . "/test", 1024 * 50); //Split 50Kb

// Split By line
splitLine("b.php", __DIR__ . "/test", 50000); 
```

### Functions

```
function splitData($filename, $destination, $chunkSize) {
    $pathInfo = pathinfo($filename);
    $handle = fopen($filename, 'rb');
    $counter = 0;
    if ($handle === false) {
        return false;
    }
    while ( ! feof($handle) ) {
        $counter ++;
        $filePart = $destination . DIRECTORY_SEPARATOR . $pathInfo['filename'] . "_" . $counter . "." . $pathInfo['extension'];
        touch($filePart);
        file_put_contents($filePart, fread($handle, $chunkSize));
    }
    $status = fclose($handle);
    return $status;
}

function splitLine($filename, $destination, $lineSize) {
    $pathInfo = pathinfo($filename);
    $handle = fopen($filename, 'rb');
    $counter = 0;
    $splitCount = 0;
    if ($handle === false) {
        return false;
    }

    $content = "";
    while ( ($buffer = fgets($handle, 4096)) !== false ) {
        $content .= $buffer;
        $counter ++;

        if ($counter >= $lineSize) {
            $splitCount ++;
            $filePart = $destination . DIRECTORY_SEPARATOR . $pathInfo['filename'] . "_" . $splitCount . "." . $pathInfo['extension'];
            touch($filePart);
            file_put_contents($filePart, $content);
            $content = "";
            $counter = 0;
        }
    }
    $status = fclose($handle);
    return $status;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:56:50.783

```
<?php 
$handle = @fopen("/tmp/inputfile.txt", "r");
$maxLines = 50;
if ($handle) {
    $counter = 1;
    $fileCount = 1;
    $data = array();
    while (($buffer = fgets($handle, 4096)) !== false) {
        $data[] = $buffer;
        if(count($data) % $maxLines == 0) {
            file_put_contents("filename{$fileCount}.txt", implode("\n\r", $data));
            $data = array();
            $fileCount++;
        }
        $counter++;
    }
    if (!feof($handle)) {
        echo "Error: unexpected fgets() fail\n";
    }
    fclose($handle);
}  
?> 
```

像这样的东西应该可以工作，尽管我永远不会推荐它，这不是解决问题的好方法。

# jquery - 使用 jQuery 使图像居中

> ID：12406302
> 
> 赞同：0
> 
> 时间：2012-09-13T12:29:49.760
> 
> 标签：jquery

我有这个代码：

```
// gets the image size and position in order to make it fullscreen and centered.    
getImageDim = function(img) {
    var $img = new Image();
    $img.src = img;

    var $win = $(window),
        w_w = $win.width(),
        w_h = $win.height(),
        r_w = w_h / w_w,
        i_w = $img.width,
        i_h = $img.height,
        r_i = i_h / i_w,
        new_w, new_h, new_left, new_top;

    if (r_w > r_i) {    
        new_h = w_h;
        new_w = w_h / r_i;
    }
    else {    
        new_h = w_w * r_i;
        new_w = w_w;
    }

    return {
        width: new_w,
        height: new_h,
        left: (w_w - new_w) / 2,
        top: (w_h - new_h) / 2
    };
} 
```

任何人都可以帮助对此进行切片以完全理解吗？是什么`r_w`？是什么`r_i`？我们为什么要评估`r_w > r_i`？我在最后看到了返回函数，但是这些、 和`width`值`height`将分配给哪个元素？分配这个有什么意义？提前致谢！`left``top``$img.src = img;`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:34:02.463

为了始终适应可用空间，您必须考虑纵横比，以便如果您的屏幕/窗口/图层与原始图像的 a/r 不同，您可以尽可能地对其进行裁剪。r_w >r_I 有这个目的，选择是否需要适合宽度 [因此裁剪图像的顶部/底部] 或高度 [裁剪左/右]

# iphone - IOS5 - 应用程序在模拟器上运行但在设备上崩溃

> ID：12406303
> 
> 赞同：0
> 
> 时间：2012-09-13T12:29:54.813
> 
> 标签：iphone, ios, xcode, runtime-error

我正在开发我的第一个应用程序，现在是时候在真实设备上对其进行测试了。我在办公室有一部旧的 iPhone 3GS，我更新到了最新版本的 IOS。

当我尝试在 iPhone 模拟器上启动应用程序时，一切正常。但是，我尝试在我的设备上启动它，应用程序崩溃并出现以下错误：

```
2012-09-13 14:16:01.556 MyFirstApp[1702:707] *** Terminating app due to uncaught
exception 'NSUnknownKeyException', reason: '[<__NSCFString 0x15e2e0> valueForUndefinedKey:]: 
this class is not key value coding-compliant for the key testKey.' 
```

我检查了我的构建设置，如下所示：

![在此处输入图像描述](../Images/793620f8f372d5e5b5d1f2d26c2cd689.png)

我也听说它可能来自一些在 IB 中没有正确设置或删除的变量，但我没有任何警告......

这是我在与错误有关的视图上使用的一些代码：

```
@implementation HomeViewController {
    @private
    NSArray *_orders;
    __strong UIActivityIndicatorView *_activityIndicatorView;
}

@synthesize orderList = _orderList;

- (void)reload:(id)sender {
    [_activityIndicatorView startAnimating];

    [Order orderListWithBlock:^(NSArray *orders) {
        if (orders) {
            _orders = orders;
            [self.orderList reloadData];
        }
        [_activityIndicatorView stopAnimating];
    }];
}

- (void)viewDidLoad
{
    [self reload:nil];
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Custom Cell Segment";
    static NSString *OtherCellIdentifier = @"Other Cell Segment";
    Order *o = [_orders objectAtIndex:indexPath.row];

    if ([o.testKey isEqualToString:@""]) {
        [SOME STUFF]
    }
    else {
        [SOME OTHER STUFF]
    }
} 
```

有谁知道错误可能来自哪里？

谢谢你的帮助 ！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:38:01.120

我认为您正在使用界面构建器来开发用户界面，检查 IBOutlet 的警告，您更改了任何视图的名称。并检查文件 Owner 。

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:38:07.870

在某处您尝试`testKey`使用键值编码访问该属性，但您尝试在没有该属性的对象上访问它（更具体地说，您正在尝试在字符串上访问它）。

我不知道在哪里以及为什么会发生这种情况，因为您没有发布任何代码。

检查您的项目是否有任何通过 KVC 完成的访问权限`testKey`（甚至可能是由于您在 xib 中放入的内容）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:38:14.007

这可能不是因为模拟器与设备的关系，而是因为您**在 Interface Builder 中有一个旧的 IBOutlet 被删除**，但连接仍然存在于 XIB 中。**只需打开具有旧 IBOutlet“testKey”连接的 XIB 并删除连接。**

现在，为什么您的应用程序到目前为止可以在您的模拟器上运行，这是因为 XIB 尚未重新编译，或者您从源代码中删除的一些旧 XIB 仍在先前构建的构建产品中。

所以我敢打赌，**如果你完全清理你的项目，删除构建目录并从头开始重建，你将在模拟器中遇到同样的问题，**从而可以重现和调试它。

为此，您可以从“产品”菜单执行“清理”，或者在打开此菜单以选择“清理构建文件夹...”时更好地使用选项键。有时它仍然不够，因此您可以从 Finder 中删除整个构建文件夹：

*   打开管理器（菜单“窗口”->“管理器”）
*   选择顶部的“项目”选项卡，然后在左侧选择您的项目
*   单击“派生数据”区域旁边的“删除”按钮。

这将删除您的构建输出目录，以便下次构建项目时，它将从头开始重新编译所有内容。

从那里您可能会在 XIB 文件上看到警告，并且您会观察到您的应用程序也会在模拟器中崩溃，这意味着这不是由于设备导致的崩溃，而是由于以前的构建搞砸了您的构建应用。您可以为设备和模拟器修复此崩溃（通过删除 XIB 中旧的“testKey”插座连接）。

# c# - 如何在 ASP.NET C# 中获取下拉列表的 DataValue

> ID：12406306
> 
> 赞同：0
> 
> 时间：2012-09-13T12:30:02.210
> 
> 标签：c#, asp.net, drop-down-menu

正如主题所说，我有一个问题。

我在 sql server 中有一个表课程字段是 courseID 和 course。

我想要的是在下拉列表中列出课程并且我成功但我无法做的是当我从下拉列表中选择课程时，应该在 HiddenField/textbox/label 中选择 courseID

怎么做

这是我尝试过的代码::

```
protected void Page_Load(object sender, EventArgs e)
{
    string select = "select * from courses";
    DropDownList1.Items.Add("-- Select Course --");
    DropDownList1.SelectedIndex = 0;
    DataTable dt = con.select_command(select);
    for (int i = 0; i < dt.Rows.Count; i++)
    {
        DropDownList1.Items.Add(dt.Rows[i][1].ToString());
        DropDownList1.DataValueField = dt.Rows[i][0].ToString();
        DropDownList1.DataTextField = dt.Rows[i][1].ToString();
    }        

} 
```

在下拉列表中，我在页面加载方法中获取值

我也尝试了 dropdownlist_selectedindex 更改方法来选择 courseID

```
protected void DropDownList1_SelectedIndexChanged(object sender, EventArgs e)
{
    LLabel1.Text = DropDownList1.SelectedValue.ToString();
} 
```

我做错了什么？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:40:36.730

在更新 page_load 中的下拉菜单之前放置​​一个块 问题是您的代码将在触发事件`if (!IsPostBack)`后重新填充下拉菜单。`DropDownList1_SelectedIndexChanged`

这将向服务器发出一个发布请求，他将运行`DropDownList1_SelectedIndexChanged`附加到`IndexChange`事件的函数，然后 `page_load`

因为页面假设要再次加载，并且会产生一个新的选定值，这不是您所期望的。

还有一件事：在从 DataTable 的行中获取值时使用字符串标识符，这样代码会更加友好。（可读性很重要...）

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
    string select = "select * from courses";
    DropDownList1.Items.Add("-- Select Course --");
    DropDownList1.SelectedIndex = 0;
    DataTable dt = con.select_command(select);
    for (int i = 0; i < dt.Rows.Count; i++)
    {
        DropDownList1.Items.Add(dt.Rows[i]["CourseName"].ToString());
        DropDownList1.DataValueField = dt.Rows[i]["CourseID"].ToString();
        DropDownList1.DataTextField = dt.Rows[i]["CourseName"].ToString();
    }
    }        

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:43:29.323

试试上面的代码，您手动将项目添加到下拉列表，因此您必须添加数据值以及

```
 protected void Page_Load(object sender, EventArgs e)
        {
          if(!Ispostback)
            {
            string select = "select * from courses";
            DropDownList1.Items.Add("-- Select Course --","0");

            DataTable dt = con.select_command(select);
            for (int i = 0; i < dt.Rows.Count; i++)
            {
                DropDownList1.Items.Add(new listitem(dt.Rows[i][1].ToString(),dt.Rows[i][0].ToString();
        ));

            }        
                DropDownList1.SelectedIndex = 0;
        }
  } 
```

和您的选择索引更改事件

```
protected void DropDownList1_SelectedIndexChanged(object sender, EventArgs e)
{
    LLabel1.Text = DropDownList1.SelectedValue.ToString();
} 
```

# json - Haskell，Aeson - 如何调试实例？

> ID：12406311
> 
> 赞同：5
> 
> 时间：2012-09-13T12:30:15.313
> 
> 标签：json, parsing, haskell, aeson

我有一个复杂的嵌套 json，我试图用 Aeson 和 Attoparsec 将其解析为我的自定义类型。基于来自问题的信息：[Haskell, Aeson & JSON parsing into custom type](https://stackoverflow.com/questions/6930944/haskell-aeson-json-parsing-into-custom-type)，[Aeson: How to convert Value into custom type？](https://stackoverflow.com/questions/6566149/haskell-aeson-how-to-convert-value-into-custom-type)和一些来自互联网的信息。

当我使用以下代码时，我从重叠的 FromJSON 实例中获取“Nothing”值，但代码肯定会通过每个实例，我已经通过禁用其他一些实例来测试这一点。所以主要问题是**：如何在实例中测试代码并查看 GHCi 中数据在执行过程中如何变化？**

PS：尝试设置断点和“跟踪”，但它们仅在 main 和 parseCfg 函数中有效。

```
{-# LANGUAGE OverloadedStrings, FlexibleInstances #-}

-- high level data
data Cfg = Cfg { nm  :: CProperty,
             author :: CProperty,
             langs :: CValue,
             grops :: CListArr,
             projs :: CPropArr
           } deriving (Show)

...

instance FromJSON CProperty where
parseJSON _          = mzero
parseJSON (Object o) = CProperty <$> toCProperty o
  where
    toCProperty :: (HM.HashMap T.Text Value) -> J.Parser (T.Text, T.Text)
    toCProperty _  = error "unexpected property"
    toCProperty o' = do
      l <- return $ HM.toList o'
      k <- return $ fst $ head l
      v <- return $ snd $ head l
      v' <- parseJSON v
      return $ (k, v')

... lot's of different instances

-- |this instance is specific for different files
-- based on common functions to work with most of nested json code
instance FromJSON Cfg where
  parseJSON _          = mzero
  parseJSON (Object o) = do
    nm     <- (parseJSON :: Value -> J.Parser CProperty) =<< (o .: T.pack "Name")
    autor  <- (parseJSON :: Value -> J.Parser CValue)    =<< (o .: T.pack "Author")
    langs  <- (parseJSON :: Value -> J.Parser CProperty) =<< (o .: T.pack "Languages")
    groups <- (parseJSON :: Value -> J.Parser CListArr)  =<< (o .: T.pack "Groups")
    projs  <- (parseJSON :: Value -> J.Parser CPropArr)  =<< (o .: T.pack "Projects")
    return $ Cfg nm author langs groups projs
------------------------------------------------------------------------------------

main :: IO ()
main = do:
  s <- L.readFile "/home/config.json"
  -- print $ show s
  let cfg =  parseCfg s
  print $ show $ cfg

parseCfg :: L.ByteString -> Maybe Cfg
parseCfg s = decode s 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:07:42.543

明显的问题是，在

```
instance FromJSON CProperty where
    parseJSON _          = mzero
    parseJSON (Object o) = ... 
```

第一个子句匹配所有输入，因此您的实例返回`mzero`任何参数。您应该更改子句的顺序。

当编译带有警告时，GHC 会告诉你重叠的模式。

# c# - 查找鼠标在哪一点上速度太慢

> ID：12406313
> 
> 赞同：0
> 
> 时间：2012-09-13T12:30:26.547
> 
> 标签：c#, wpf

好的，所以现在当我点击网格时，它会遍历网格上的所有“路径”并检查它们是否是椭圆以及鼠标是否在它们上方，如果有 2 个选择它计算相距的距离.. ..但是如果我在网格上得到 50+ 点，点击一个点什么也做不了.. 有没有更有效的方法来做到这一点？

这是我的代码：

```
foreach (var x in GraphPanel.Children)
{
     try
     {
         if (((Path)x).IsMouseOver && ((Path)x).Data.ToString() == "System.Windows.Media.EllipseGeometry")
         {
            listViewPoints.SelectedItems.Add(listViewPoints.Items[PointIndex]);
            var converter = new System.Windows.Media.BrushConverter();
            var brush = (System.Windows.Media.Brush)converter.ConvertFromString("#FFB1D100");
                    ((Path)x).Stroke = brush;
                    ((Path)x).StrokeThickness = 8;

            if (listViewPoints.SelectedItems.Count == 2)
            {
                 double diffX;
                 double diffY;

                 double ptAX = ((Points)listViewPoints.SelectedItems[0]).A;
                 double ptAY = ((Points)listViewPoints.SelectedItems[0]).B;
                 double ptBX = ((Points)listViewPoints.SelectedItems[1]).A;
                 double ptBY = ((Points)listViewPoints.SelectedItems[1]).B;

                 if (ptAX > ptBX)
                 {
                     diffX = ptAX - ptBX;
                 }
                 else
                 {
                     diffX = ptBX - ptAX;
                 }
                 if (ptAY > ptBY)
                 {
                     diffY = ptAY - ptBY;
                 }
                 else
                 {
                     diffY = ptBY - ptAY;
                 }
                 //the distance between the points = sqr/-diff in x squared + diff in y squared
                 double result = Math.Sqrt(Math.Pow(diffX,2) + Math.Pow(diffY,2));
                 CalculatedDistanceApart.Content = "Distance Apart: " + result.ToString() + "'";
             }
        }

        if (((Path)x).Data.ToString() == "System.Windows.Media.EllipseGeometry")
        {
            PointIndex++;
        }
    }
    catch { }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:38:40.657

您可以将椭圆添加到网格中，而不是使用 Path，然后将[MouseLeftButtonUp](http://msdn.microsoft.com/en-us/library/system.windows.uielement.mouseleftbuttonup.aspx)事件处理程序附加到每个椭圆。

您不需要所有这些命中测试代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T13:04:09.287

好吧，我不知道你的慢`IsMouseOver`，但整个事情当然可以加速和整理：

```
//why make these for every item?
var converter = new System.Windows.Media.BrushConverter(); 
var brush = (System.Windows.Media.Brush)converter.ConvertFromString("#FFB1D100"); 

foreach (var x in GraphPanel.Children) 
{ 
    //this is tidier, but what if it's not a Path, is that possible?
    var path = (Path)x;

    //jump out here if it's not the right type, reduces nesting and removes one comparison
    if(!(path.Data is System.Windows.Media.EllipseGeometry)) continue;

     try
     {
         if (path.IsMouseOver)
         { 
            listViewPoints.SelectedItems.Add(listViewPoints.Items[PointIndex]); 
            path.Stroke = brush; 
            path.StrokeThickness = 8;      
            if (listViewPoints.SelectedItems.Count == 2) 
            {
                 double ptAX = ((Points)listViewPoints.SelectedItems[0]).A; 
                 double ptAY = ((Points)listViewPoints.SelectedItems[0]).B; 
                 double ptBX = ((Points)listViewPoints.SelectedItems[1]).A; 
                 double ptBY = ((Points)listViewPoints.SelectedItems[1]).B; 

                 //you're going to square these, so negatives don't matter
                 double diffX = ptAX - ptBX;
                 double diffY = ptAY - ptBY;

                 //the distance between the points = sqr/-diff in x squared + diff in y squared 
                 //don't use Math.Pow for squaring
                 double result = Math.Sqrt(diffX*diffX + diffY*diffY); 
                 CalculatedDistanceApart.Content = "Distance Apart: " + result + "'"; 
                 //are we done now?
             } 
        } 
        PointIndex++; 

    } 
    catch { } 
} 
```

[Math.Pow(x,2) 与 x * x](http://bytewrangler.blogspot.co.uk/2011/10/mathpowx2-vs-x-x.html)

# jquery - 按 Enter 键检查或选择复选框

> ID：12406321
> 
> 赞同：12
> 
> 时间：2012-09-13T12:30:47.850
> 
> 标签：jquery, forms, checkbox, enter

新手-我想用这些复选框做两件事：

1.  使用`TAB`键通过选项选项卡，这部分工作
2.  当我`TAB`通过选项时，我想`ENTER`按键选择该复选框，这部分不起作用

下面是示例代码。我将复选框用作一个组。

有没有人有什么建议？

```
<!doctype html>
    <head>
        <title>test Radio buttons checkbox</title>
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
        <script type="text/javascript">
            $(document).ready(function(){
                $('input:checkbox[name=Colors]').keypress(function(event) {
                    var keycode = (event.keyCode ? event.keyCode : event.which);
                    if (keycode == 13) {
                        Checkbox_to_RadioButton(this);
                        alert("Enter key was pressed");
                    }   
                    event.stopPropagation();
                });

                $('input:checkbox[name=Colors]').click(function(){
                    Checkbox_to_RadioButton(this);
                });
            });

            function Checkbox_to_RadioButton(box){
                $('input:checkbox[name=' + box.name + ']').each(function(){
                    if (this != box)
                        $(this).attr('checked', false);
                });
            }
        </script>
    </head>

    <body>
        <h1>test Radio buttons checkbox</h1>
        <form name="form1">
            <input type="text" id="dname" name="dname"><br>
            <input type="checkbox" id="Colors" name="Colors" value="Red" />Red<br />
            <input type="checkbox"  id="Colors" name="Colors" value="Blue" />Blue<br />
            <input type="checkbox" id="Colors"  name="Colors" value="Green" />Green<br     />
            <input type="checkbox" id="Colors"  name="Colors" value="Yellow"         />Yellow<br /> 
            <br>
        </form>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2015-04-20T13:57:22.710

我发现推荐的解决方案过于臃肿。这效果更好

```
$('input:checkbox').keypress(function(e){
    if((e.keyCode ? e.keyCode : e.which) == 13){
        $(this).trigger('click');
    }
}); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-13T13:13:44.880

试试这个代码

```
<!doctype html>
<html>
  <head>
    <title>test Radio buttons checkbox</title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $('input:checkbox[name=Colors]').keypress(function(event) {
                var keycode = (event.keyCode ? event.keyCode : event.which);
                if (keycode == 13) {
                    Checkbox_to_RadioButton(this,"enter");
                }   
                event.stopPropagation();
            });

            $('input:checkbox[name=Colors]').click(function(){
                Checkbox_to_RadioButton(this,"click");
            });
        });

        function Checkbox_to_RadioButton(box,myEvent){
            if(myEvent == "enter")
            {
                var $box = $(box);
                if($box.attr('checked'))
                    $box.attr('checked',false);
                else
                    $box.attr('checked',true);
            }
            $('input:checkbox[name=' + box.name + ']').each(function(){
                if (this != box)
                    $(this).attr('checked', false);
            });
        }
    </script>
</head>

<body>
    <h1>test Radio buttons checkbox</h1>
    <form name="form1">
        <input type="text" id="dname" name="dname"><br>
        <input type="checkbox" id="Colors" name="Colors" value="Red" />Red<br />
        <input type="checkbox"  id="Colors" name="Colors" value="Blue" />Blue<br />
        <input type="checkbox" id="Colors"  name="Colors" value="Green" />Green<br     />
        <input type="checkbox" id="Colors"  name="Colors" value="Yellow"         />Yellow<br /> 
        <br>
    </form>
  </body>
</html> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2019-03-09T11:33:40.950

r3wt 的方法效果很好，但我注意到在我的表单上按下`Enter`也会提交表单或做其他不需要的事情。`e.preventDefault();`当在复选框上按 enter 时，添加会阻止默认浏览器操作。

```
$('input:checkbox').keypress(function(e){
    e.preventDefault();
    if((e.keyCode ? e.keyCode : e.which) == 13){
        $(this).trigger('click');
    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-11-13T20:34:14.180

这对我有用。

```
$('input:checkbox').keypress(function(e){
    if((e.keyCode ? e.keyCode : e.which) == 13){
        $(this).trigger('click');
    }
}); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-09-13T13:05:01.800

首先，您在`form`标签之前缺少一个括号。

其次，您忘记实际激活按键上的复选框：

```
if (keycode == 13) {
    $(this).attr('checked', checked); // << this line!
    Checkbox_to_RadioButton(this);
    alert("Enter key was pressed");
} 
```

[在这里工作小提琴。](http://jsfiddle.net/R7Cvs/1/)

# sql - 为什么当我使用 column1 = 'ABCD' 过滤它时，我的一个视图的工作速度要慢 4 倍

> ID：12406328
> 
> 赞同：0
> 
> 时间：2012-09-13T12:31:13.143
> 
> 标签：sql, oracle, view, plsql, toad

我有以下脚本。为了减少执行时间，我将 get_function() 替换为常量 'ABCD' （这是 get_function() 的结果）。我希望减少执行时间；而有趣的是，执行时间增加了近 4 倍。

```
alter system flush buffer_cache; 
alter system flush shared_pool; 
Set timing on; 
declare x number(3); 
begin 
    select v.QTY 
    into x 
    from viewName v 
    where v.col1 = get_function() --'ABCD'; 
    exception when others then dbms_output.put_line(sqlerrm||' '||sqlcode); 
end; 
Set timing off; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T12:36:34.030

原因是两个查询之间的执行计划发生了变化（前者显然更高效）。

每个查询的执行计划都是独立计算的，两个语法不同的查询没有理由产生完全相同的计划。Oracle 使用规则、统计和概括在合理的时间内生成计划。CBO（基于成本的优化器）采取的每一步都是可能导致次优计划的近似值。通常，有了最新的统计数据，对于简单的查询，Oracle 会产生一个合理的计划。有时，您必须通过提示、精心挑选的统计数据、调整参数或其他优化工具来帮助 Oracle 选择最佳计划。

既然你没有给出其他说明，我们只能推测第二个计划更糟糕的原因。我的第一个猜测是，第二个查询产生一个`INDEX RANGE SCAN`不适合的，而第一个查询产生一个有效的`FULL TABLE SCAN`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:37:36.253

到目前为止，在 column1 上没有过滤器，它可能正在使用一些索引。一旦您引入了不属于任何这些索引的 column1，将执行表扫描（因为这是一个 varchar 列），因此会增加执行时间。您应该在 column1 上添加此新过滤器之前和之后查看视图的执行计划，您将能够找出正确的索引定义/修改。

# javascript - 在不阻止默认行为的情况下检测 IE10 中的捏合/缩放

> ID：12406329
> 
> 赞同：4
> 
> 时间：2012-09-13T12:31:18.510
> 
> 标签：javascript, touch, internet-explorer-10

在 Javascript 中，我试图检测用户何时捏捏，**同时允许他们这样做。**

```
var elm = $("#wrapper")[0];
var myGesture = new MSGesture();
myGesture.target = elm;

elm.addEventListener("MSGestureChange", handleGesture);         
elm.addEventListener("MSPointerDown", function (e) {
    myGesture.addPointer(e.pointerId);
}); 
```

我得到了这个`MSPointerDown`事件。

但据我所知，我需要使用`-ms-touch-action: none`（或 pan-y pan-x）设置有问题的元素（#wrapper）的样式，以便能够`MSGestureChange`在捏合时接收事件。

我不想阻止默认的捏合行为，那么我的选择是什么？

有没有办法解决这个问题，还是我坚持做一个或另一个？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-11T06:22:46.727

您可以通过检查几个窗口/文档/屏幕变量的比率来检测缩放变化 - 请参阅[http://jsbin.com/abuzaz/8](http://jsbin.com/abuzaz/8)

通过在窗口`onscroll`和`onresize`事件上注册事件来检测缩放变化。如果您担心调整大小或滚动事件“丢失”（可能会发生），那么一个丑陋的解决方案可能是还注册一个慢速间隔计时器以进行仔细检查。

您可以通过查看 与 的比率来检测当前的捏缩放级别`document.documentElement.offsetHeight`-`window.innerHeight`但这可能是由于错误/怪癖（见下文！）。

您可以通过查看`screen.deviceXDPI`onresize 事件中的更改来检测页面缩放 (ctrl-+) 级别。

[要获得更多乐趣，请在http://jsbin.com/otocer/12](http://jsbin.com/otocer/12)上玩一下绿色框- 用一根手指然后另一`MSPointerCancel`根手指触摸，当第二根手指触摸时您会收到一个事件。但是同时触摸两者，你不会得到任何事件。

触摸缩放时您经常会收到窗口滚动事件，但我不确定您是否可以 100% 依赖它。似乎您在触摸缩放结束时会收到一个窗口调整大小事件（但可能并非总是如此 - 请参阅[http://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/1065f624-32a8-4c80- 8ced-998ba624763e)-](http://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/1065f624-32a8-4c80-8ced-998ba624763e)-)试试[http://jsbin.com/otocer/17](http://jsbin.com/otocer/17)

请注意，触摸缩放（不是页面缩放）有一些**大**错误：

*   如果在捏缩放后身体大小发生变化，身体滚动条是完全错误的 - 请参阅[http://jsbin.com/abuzaz/1](http://jsbin.com/abuzaz/1) - 或参阅[http://connect.microsoft.com/IE/feedback/details/779009/ie10-pinch -缩放-不调整-可滚动-区域-大小-在-身体大小-改变后](http://connect.microsoft.com/IE/feedback/details/779009/ie10-pinch-zoom-doesnt-adjust-scrollable-area-size-after-body-size-is-changed)

*   `position:fixed`很奇怪-请参阅[http://jsbin.com/iciqaf/1](http://jsbin.com/iciqaf/1)（如果捏缩放然后滚动，粉红色的固定位置框可能会离开视口）。

*   使用 CSS`html { -ms-touch-action: pan-x pan-y; }`会禁用捏合缩放，但会使页面文本变得难以阅读（取决于设备、配置和页面大小），我看不出这`-ms-viewport`会解决这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T02:33:02.330

**请注意，此评论现在已在 Windows 8 的最终版本中过时**

在阅读应用您指定的 css 样式的文档时`-ms-touch-action:none`，告诉浏览器对于该元素，应用程序应该生成您想要捕获的 javascript 事件。所以，实际上，我不相信你的蛋糕也可以吃，要么你得到 JS 事件，要么你得到内置行为（[http://msdn.microsoft.com/en-US/图书馆/即/hh673557.aspx](http://msdn.microsoft.com/en-US/library/ie/hh673557.aspx)）。

# javascript - 活动选项卡的源代码 - 获取变量-s 值

> ID：12406331
> 
> 赞同：1
> 
> 时间：2012-09-13T12:31:31.163
> 
> 标签：javascript, google-chrome-extension

我已经编写了一个 Hello World 示例扩展。现在我正在尝试编写一个 Chrome 扩展来获取某个 JavaScript 变量的值，如果它被声明的话。

所以假设有一个

```
var test = 'a'; 
```

在源代码中。我想得到那个`a`值。

**更新：**我*无法*访问“原始”网站的代码，但我知道这个变量总是存在的，并且具有一定的价值，总是不同的。

一个警报就可以了。（我可以从扩展程序页面发出警报吗？）

我看到有“权限”和“标签”之类的东西，我不确定我可能会错过什么。

我试图搜索，发现类似的东西，但是当我点击链接时，[这个](https://stackoverflow.com/questions/10173628/display-specific-line-of-source-code-in-popup)例子没有做任何事情。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:41:41.750

从内容脚本中，您无法访问页面上声明的变量。

取自[文档](http://developer.chrome.com/extensions/content_scripts.html#execution-environment)：

> 内容脚本在称为孤立世界的特殊环境中执行。他们可以访问被注入页面的 DOM，但不能访问页面创建的任何 JavaScript 变量或函数。

我看到的唯一方法是在后台页面中通过[XHR](http://developer.chrome.com/extensions/xhr.html)加载脚本源并解析它。然后，如果要将结果发送到内容脚本，则可以使用[消息传递。](http://developer.chrome.com/extensions/messaging.html)请注意，如果变量的值已被后续脚本更改，则此解决方案将不起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T10:29:23.103

如果您可以控制该页面，则可以将该值放入页面上的隐藏 HTML 元素中，然后您的扩展程序可以使用内容脚本提取该元素。

在网站上：

```
var test a = 'a';
document.documentElement.dataset["a"] = a; 
```

在扩展的内容脚本中：

```
var a = document.documentElement.dataset["a"]; 
```

只需确保内容脚本在页面上的脚本之后执行（例如，通过添加`"run_at": "document_end"`到清单中）

# vb.net - 从形式到所有者

> ID：12406332
> 
> 赞同：-1
> 
> 时间：2012-09-13T12:31:32.283
> 
> 标签：vb.net, winforms

我可以从所有者那里获取数据到表单，但不能反过来。如何将表单中的数据传递给我的所有者。?

我真的不能不使用

```
 Dim ownerFrm As New ownerFrm() 
```

如果我这样做，这个表单将不会加载到数据库连接和更多的东西，所以我宁愿避免弄乱它。必须有一个非常简单的解决方案。但我就是想不出来。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:41:39.100

所有者表单需要将自身引用到子表单。有多种方法可以做到这一点。例如，当所有者表单显示子表单时，它可以执行以下操作：

```
frmChild = New ChildForm()
frmChild.Parent = Me
frmChild.Show() 
```

或者，您可以重载子表单的构造函数，而不是属性：

```
frmChild = New ChildForm(Me)
frmChild.Show() 
```

或者，您可以创建一个显示子表单并将父表单作为参数的方法：

```
frmChild = New ChildForm()
frmChild.ShowChild(Me) 
```

在所有这些情况下，子表单都必须有一个变量来保持对父表单的引用，以便它可以对其进行回调。

另一种选择是在子表单上添加事件。当子窗体需要向所有者窗体发送数据时，它可以引发包含数据的事件，所有者窗体将处理该事件并以这种方式获取数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:39:52.830

您应该使用事件（参见[WithEvents](http://msdn.microsoft.com/en-us/library/stf7ebaz%28v=vs.80%29.aspx)）。

# java - FileInputStream("hello.txt")，除非我指定绝对路径（C:\User\Documents 等），否则不起作用

> ID：12406337
> 
> 赞同：6
> 
> 时间：2012-09-13T12:31:48.863
> 
> 标签：java, fileinputstream

嗨，有什么方法可以让 FileInputStream`hello.txt`在不指定路径的情况下在同一目录中读取？

```
package hello/
    helloreader.java
    hello.txt 
```

我的错误信息：`Error: .\hello.txt (The system cannot find the file specified)`

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-13T12:46:51.690

您可以读取具有相对路径的文件，例如。

```
File file = new File("./hello.txt"); 
```

*   你的项目

    ->垃圾箱

    ->你好.txt

    ->.classpath

    ->.项目

这里是作品

```
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;

public class fileInputStream {

    public static void main(String[] args) {

        File file = new File("./hello.txt");
        FileInputStream fis = null;

        try {
            fis = new FileInputStream(file);

            System.out.println("Total file size to read (in bytes) : "
                    + fis.available());

            int content;
            while ((content = fis.read()) != -1) {
                // convert to char and display it
                System.out.print((char) content);
            }

        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            try {
                if (fis != null)
                    fis.close();
            } catch (IOException ex) {
                ex.printStackTrace();
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-09-13T12:35:39.420

您可以使用`YourClassName.class.getResourceAsStream("Filename.txt")`，但您的文本文件必须与您的`YourClassName`文件位于同一目录/包中。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-13T12:38:23.727

当您打开“hello.txt”时，您将在进程的当前[工作目录](http://en.wikipedia.org/wiki/Working_directory)中打开一个文件。即程序是从哪里运行的，而不是你的jar 所在的位置或其他目录。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-09-13T12:47:59.747

当您使用 path 打开文件时`hello.txt`，该文件`hello.txt`应位于执行`java`命令的同一目录中，即工作目录。并且您可以在运行 Java 程序时使用以下代码打印工作目录：

```
System.out.println(System.getProperty("user.dir")); 
```

假设您像这样执行代码`java hello.helloreader`，那么您应该使用以下路径来获取`hello.txt`：

```
new FileInputStream("hello/hello.txt") 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-13T12:47:49.443

您可以尝试 System.getProperty("dir") 显示您的当前目录，您将知道如何编写文件路径

# android - 使用 Android 平板电脑作为“输入设备”

> ID：12406341
> 
> 赞同：1
> 
> 时间：2012-09-13T12:31:56.700
> 
> 标签：android

我正在寻求了解 android 开发的开发人员的帮助。我们有一个客户想要在有人走进他们的办公室时使用 Android 平板电脑来收集数据。问题是他们不想要任何后台功能或访问设备上的网络（它可以让人们登录，因此它不应该在没有其他凭据的情况下从该功能移动以“解锁”设备。）

使用苹果，我知道您可以将屏幕锁定到页面/应用程序，但不确定安卓？在网上找不到任何可以告诉我它可以在android上完成的东西。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T12:35:02.010

使用 Android，您可以替换启动器（主屏幕）应用程序，如果该应用程序无法让您访问启动其他内容，那么您将无法执行其他操作。在安装另一个候选启动器后第一次按主屏幕键时，Android 会询问您要运行哪个主屏幕应用程序（原始应用程序或新应用程序），并允许您将答案设置为默认值，从而消除将来的问题。

# c - gdb 调试器错误：“-var-create：无法创建变量对象”

> ID：12406342
> 
> 赞同：3
> 
> 时间：2012-09-13T12:32:03.603
> 
> 标签：c, gcc, gdb

我在 Windows 7 x86 系统上使用带有 C/C++ 插件的 Netbeans。调试代码时出现错误。但是当我运行代码时，它运行没有任何问题。当我开始调试代码时，它在“main（）”应用程序之前的 2-3 行处停止。并且得到如下调试器错误：

```
(gdb) 
17^error,msg="-var-create: unable to create variable object"
(gdb) 
18^done,changelist=[]
(gdb) 
19^error,msg="-var-create: unable to create variable object"
(gdb) 
20^done,changelist=[]
(gdb) 
21^done,name="var3",numchild="4",value="{...}",type="const MyVar",has_more="0"
(gdb) 
24-var-show-attributes "var3"
.
.
.
.

This application has requested the Runtime to terminate it in an unusual way.
Please contact the application's support team for more information. 
```

我将不胜感激任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T06:21:47.923

看起来它是netbeans中的一个错误。 [http://netbeans.org/bugzilla/show_bug.cgi?id=205708](http://netbeans.org/bugzilla/show_bug.cgi?id=205708)

试试其他版本。（你用的是什么版本，能不能更新一下，对别人有用）。谢谢

# java - 如何知道黑莓中打开了哪个屏幕？

> ID：12406348
> 
> 赞同：1
> 
> 时间：2012-09-13T12:32:19.423
> 
> 标签：java, blackberry, screen

如何知道黑莓中哪个屏幕打开/在前台？换句话说，我们能否得到一个当前在 BB 中打开的屏幕的名称。它可以包括其他应用程序，通话记录，消息等，不一定是我的APP。这可以做到吗？谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T23:24:52.040

ApplicationDescriptor 中有三种方法可以帮助您找出当前前台应用程序。获取 Application 对象本身可能会有点困难，但您至少可以发现 ApplicationDescriptor。

```
ApplicationManager mgr = ApplicationManager.getApplicationManager();
final ApplicationDescriptor[] vApps = mgr.getVisibleApplications();
int foregroundId = mgr.getForegroundProcessId();
for(int i = 0; i < vApps.length; i++) {
   int id = mgr.getProcessId(vApps[i]);
   if(id == foregroundId) {
       // we have a winner!
   }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:33:34.093

希望这就是你的意思：

```
if  (Application.getApplication().isForeground()) {
  Screen scr = UiApplication.getUiApplication().getActiveScreen()​;
} 
```

# visual-studio-2012 - VS2012 更改了 IIS Express 站点绑定，我该如何阻止它？

> ID：12406349
> 
> 赞同：1
> 
> 时间：2012-09-13T12:32:20.380
> 
> 标签：visual-studio-2012, iis-express, applicationhost

对于同一个项目，我有几个在 IIS Express 中运行的站点。

它们通过主机文件`local.xxx.com`等映射到真实域，而不是`localhost:XXX`

`https`我在文件的一个站点下为 , 添加了一个绑定`applicationhost.config`，但它不断被删除，似乎是 VS2012 随机删除的。意思是，我添加它。保存它，它可以工作，然后在某个时间点，VS2012 编辑我的`applicationhost.config`文件并删除，只是`https`绑定，保持`http`绑定完好无损。它不会在配置中的所有站点上执行此操作，即使这些站点在同一个解决方案中也是如此。只有一个站点。

我如何让它停止？

# mondrian - XMLA 发现未解析结果错误（在 Windows 7 上的 Mondrian 中）

> ID：12406352
> 
> 赞同：0
> 
> 时间：2012-09-13T12:32:28.260
> 
> 标签：mondrian, xmla

我设置了 Mondrian，它工作正常，但我无法使其成为 XMLA 提供程序。

即，`http://localhost:8080/mondrian`工作正常，但`http://localhost:8080/mondrian/xmla.jsp`返回以下错误：-

```
<SOAP-ENV:Envelope SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">
<SOAP-ENV:Header></SOAP-ENV:Header>
<SOAP-ENV:Body>
<SOAP-ENV:Fault>
<faultcode>SOAP-ENV:Server.00HSBE02</faultcode>
<faultstring>XMLA Discover unparse results error</faultstring>
<faultactor>Mondrian</faultactor>
<detail>
<XA:error>
<code>00HSBE02</code>
<desc>The Mondrian XML: In DataSources: In DataSource: Expected <ProviderName> but found <Catalogs>
</desc>
</XA:error>
</detail>
</SOAP-ENV:Fault>
</SOAP-ENV:Body>
</SOAP-ENV:Envelope> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-13T21:59:36.073

请检查您的 mondrian.properties 文件或 datasources.xml 文件，然后添加标签：

`<DataSourceName>Provider=Mondrian;DataSource=YourDataSourceName;</DataSourceName>`

而已。祝你好运

# php - 卷曲发送表单到 https

> ID：12406353
> 
> 赞同：0
> 
> 时间：2012-09-13T12:32:30.837
> 
> 标签：php, curl, https

我正在尝试使用 curl 向服务器发送图像和更多选项，但我不知道为什么它不起作用。这是代码：

```
<?php

header('Location: https://www.reporo.com/analytics/inventory-advertiser-banner.php?clientid=xxxx&campaignid=xxxx&type=smrc');

$uploadUrl = "C:\wamp\www\autofill\demo_300x250.png";
$uploadUrl = "@$uploadUrl";

$post_data['description'] = 'Name';
$post_data['url'] = 'http://www.url.pl';
$post_data['campaignid'] = xxxxx;
$post_data['clientid'] = xxxxx;
$post_data['bannertext'] = 'some text';
$post_data['upload_smrc'] = $uploadUrl;

    foreach ( $post_data as $key => $value)
{
    $post_items[] = urlencode($key) . '=' . urlencode($value);
}
$post_string = implode ('&', $post_items);

$ch = curl_init(); 
curl_setopt($ch, CURLOPT_HEADER, 0);
curl_setopt($ch, CURLOPT_VERBOSE, 0);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_BINARYTRANSFER, 1);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt ($ch, CURLOPT_POSTFIELDS, $post_string);
curl_setopt ($ch, CURLOPT_REFERER, "https://www.reporo.com/analytics/inventory-advertiser-banner.php?clientid=xxxxx&campaignid=xxxxx&type=smrc");
curl_setopt ($ch, CURLOPT_URL, 'https://www.reporo.com/analytics/inventory-advertiser-banner-update.php');
$upload_result = curl_exec ($ch);

curl_close ($ch);

?> 
```

$post_data 中的索引是正确的。该表单与 CURLOPT_REFERER 位于同一链接中。我形成的字段操作包含：inventory-advertiser-banner-update.php。

此外，我无法使用 curl 登录到该站点，但是当我之前登录时，重定向可以正常工作，因此它应该可以正常工作。

有没有可能这个站点站点不能使用 curl ？我问是因为在我遇到登录问题之前我没有解决，现在这个问题。

也许有一种解决方法？

问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T12:32:11.737

关闭 SSL 对等验证不是一个好主意。如果您想使用 SSL 对等验证，您可以在 Windows 上为所有应用程序全局使用下一个解决方案：

1.  从这里下载带有根证书的文件：http: [//curl.haxx.se/docs/caextract.html](http://curl.haxx.se/docs/caextract.html)
2.  添加到 php.ini：

`curl.cainfo=C:/path/to/ca-bundle.crt`

这很神奇，CURL 现在可以验证证书。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:41:45.423

这可能不是原因，但`urlencode`如果您手动构建 POST 字符串，则需要 POST 键和值。

```
foreach ($post_data as $key => $value) {
    $post_items[] = urlencode($key) . '=' . urlencode($value);
}
$post_string = implode ('&', $post_items); 
```

否则，如果您的任何键或值包含等`&`，您将得到各种意外结果。`=`

话虽如此，您可以直接使用数组`CURLOPT_POSTFIELDS`：

`curl_setopt ($ch, CURLOPT_POSTFIELDS, $post_data);`

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-13T12:39:37.117

你可能有问题`CURLOPT_SSL_VERIFYHOST`

尝试

```
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); 
```

# css - 滑动切换无法正常工作

> ID：12406356
> 
> 赞同：1
> 
> 时间：2012-09-13T12:32:37.230
> 
> 标签：css, asp.net-mvc-3

我正在使用 Razor 语法开发 MVC 应用程序。我正在尝试滑动切换 Div，这意味着当我单击一个 Div 时，其他 div 应该被展开。加载后它工作正常，但是为什么页面加载时它已经扩展了？但在我的应用程序中它已经扩展/切换。

如何解决这个问题？

```
 @model  IEnumerable<CRMEntities.Comment>

<html xmlns="http://www.w3.org/1999/xhtml">

<head runat="server">

    <title></title>

     <!DOCTYPE html>

    <script src="../../Scripts/jquery.js" type="text/javascript"></script>

    <script type="text/javascript">

    function clearText() 

    {
         document.getElementById('Comment').value = "";

    }

</script>

<script src="../../Scripts/jquery.js" type="text/javascript"></script>

<script type="text/javascript">

    $(document).ready(function () {

        $(".ShowComments").click(function () {

            $(".ParentBlock").slideToggle("slow");

        });

    });

</script>

<style type="text/css"> 

div.ParentBlock
{
position:relative;

}

div.ShowComments
{
   position:relative;

}

</style>

</head>
<body>

@{

    <p class="ShowComments">Show Comments</p>

    <div class="ParentBlock">

    @foreach (var item in Model)
    {
        <div id="OwnerName">

         <span class="EmpName"> @Html.ActionLink(item.Owner.FullName, "Details", "EMployee", new { id = item.OwnerId }, new { @style = "color:#1A6690;" })</span>

           @Html.DisplayFor(ModelItem => item.CommentDateTime)

        </div>

        <div id="CommentTextBlock">
           @Html.DisplayFor(ModelItem => item.CommentText)
        </div>
        <br />

    }

    </div>

   @Html.TextArea("Comment", "", 5, 80, "asdsd")

    <input type="button" value="Add Comment"/>                         
    <input type="button" value="Clear" onclick="clearText()"/>                    

}

</body>
</html> 
```

问题的总结是，Div 在调用 Jscript 之前被切换。如何避免呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:36:59.663

将应该隐藏的 div 设置为使用 css 隐藏。这样，当您切换它时，它将关闭并滑动打开。

# c - 在 C 中我可以写（&'\n', 1） where write(char[], int)

> ID：12406358
> 
> 赞同：-1
> 
> 时间：2012-09-13T12:32:51.513
> 
> 标签：c, coding-style

我可不可以做

```
write(&'\n', 1); 
```

它是否等同于

```
char a = '\n';
write(&a, 1); 
```

您将如何以时尚的方式解决这个问题？

我正在尝试使用仅将 char 数组作为第一个参数的函数编写换行符，并在第二个参数中指定其维度（必须指定维度，因为`\0`它是有效的可写字符）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:36:59.693

您不能获取字符文字地址的原因是因为编译器实际上将其替换为字符的实际 ASCII 值，在本例中为 10。所以您的代码实际上是：

```
write(&10, 1); 
```

而且您不能获取数字文字的地址，因为它很可能不存储在内存中，而是实际生成的代码的一部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:39:38.720

正如其他人已经指出的那样，您不能获取字符文字的地址。

即使可以，它也会是错误的类型，因为字符数组通常必须以零结尾。

您正在寻找的是：

写（“\n”，1）；

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T12:39:50.953

你可以这样做：

```
write("\n", 1); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-13T12:41:09.353

你要问的是两个不同的事情：

`'\n'`是字符文字，将被视为整数文字。

`char a`是一个字符变量。

您可以获得变量的地址，而不是文字。

# .net - 谁负责在同一个进程中运行多个 AppDomain？

> ID：12406360
> 
> 赞同：0
> 
> 时间：2012-09-13T12:32:58.080
> 
> 标签：.net, clr, appdomain

我知道多个应用程序可以在同一进程内的不同 AppDomain 中运行，我的问题是：谁负责这样做，操作系统会在某些条件下这样做，还是程序员的唯一责任是利用这样的功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:41:20.383

.NET 应用程序可以在同一个（它自己的）进程中创建 AppDomain，并将可执行文件加载到 AppDomain 中。

据我所知，操作系统不会为您执行此操作。

利用

```
var newDomain = AppDomain.CreateDomain("New Domain");
newDomain.ExecuteAssembly("MyApplication.exe"); 
```

# matlab - matlab中rand函数的种子生成器

> ID：12406362
> 
> 赞同：0
> 
> 时间：2012-09-13T12:33:05.803
> 
> 标签：matlab, random, seed

> **可能重复：**
> [如何为伪随机数生成器设置自定义种子](https://stackoverflow.com/questions/4682080/how-to-set-custom-seed-for-pseudo-random-number-generator)

我正在尝试`rand()`在 Matlab 中为函数设置种子生成器，但没有找到方法。有人可以帮助我吗？尽管我阅读了该函数的帮助，但我不明白如何设置此值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:11:45.177

函数 rng 用于设置种子。

`rng(seed)`

# php - 在 URL 和表单中传递与查询字符串相同的名称。PHP将使用哪一个？

> ID：12406366
> 
> 赞同：0
> 
> 时间：2012-09-13T12:33:14.650
> 
> 标签：php, html, query-string

在 URL 和表单中传递与查询字符串相同的名称。PHP将使用哪一个？

例如，

```
<form method='post' action='test.php?nameval=abc'>
<input type='text' name='nameval'>
<input type='submit' value='Submit'>
</form> 
```

问候， Jeyakumar N

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:37:07.340

您将使用 捕获 URL 变量，使用 捕获`$_GET['numeral']`表单变量`$_POST['numeral']`（除非您的表单方法是`GET`。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:37:24.307

因为`$_REQUEST`这取决于您`php.ini`如何传递变量，[请在此处阅读](http://php.net/manual/en/ini.core.php#ini.variables-order)，通常`$_POST`会通过，其余部分相同：

```
$_GET['nameval'] = abc
$_POST['nameval'] = your input form
$_REQUEST['nameval'] = your input form 
```

# php - 如何反序列化由 ajax 发送的数据？

> ID：12406372
> 
> 赞同：-1
> 
> 时间：2012-09-13T12:33:29.413
> 
> 标签：php, serialization

数据如下：

```
sport[]=1&music[]=0&web[]=2 
```

我做了：

```
$data = unserialize($post["data"]); 
```

但这是一个错误：

```
ErrorException [ 8 ]: unserialize() [function.unserialize]: Error at offset 0 of 27 bytes ~ APPPATH\classes\controller\ajax.php [ 14 ] 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-13T12:35:16.223

你应该使用[`parse_str()`](http://php.net/parse_str)，像这样：

```
parse_str( 'sport[]=1&music[]=0&web[]=2', $data); 
```

现在`$data`包含来自该字符串的值：

```
Array
(
    [sport] => Array
        (
            [0] => 1
        )

    [music] => Array
        (
            [0] => 0
        )

    [web] => Array
        (
            [0] => 2
        )

) 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-13T12:36:24.810

`$_POST`并且`$_GET`数组已经保存`application/x-www-form-urlencoded`了您请求中的未序列化数据。

去打印`var_dump()`你的`$_POST`数组，看看如何访问这些值。

# database - 使用 JDBC 连接到外部 (Oracle) 数据库

> ID：12406377
> 
> 赞同：1
> 
> 时间：2012-09-13T12:33:52.113
> 
> 标签：database, cloud-foundry

我想将 CF 用作应用程序容器，但由于 CF 不提供 Oracle DB 服务，我必须使用外部 Oracle DB。我在 CF 基础架构上运行的 Java 应用程序是否可以使用 JDBC 连接到位于另一台服务器上的外部 Oracle 数据库？

在 Google App Engine 中，您根本无法使用 JDBC。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T07:23:33.437

你应该能够。我认为唯一被 CloudFoundry.com 阻止的出站端口是 25 端口（原因很明显）。

# java - 通过 https 从 WSDL 使用 wsimport 生成存根

> ID：12406378
> 
> 赞同：2
> 
> 时间：2012-09-13T12:33:53.190
> 
> 标签：java, web-services, https, jboss, jax-ws

我正在尝试使用 jax-ws wsimport 生成我的客户端存根。我的 Web 服务在 Jboss 7.1.1 上运行，但所有请求都通过 https 转到 Apache，这只是将 Url 从 https 重写为 http 并编辑端口。

我的 wsimport 看起来像这样：

```
wsimport -keep https:// server/webservice?wsdl 
```

我的发布地址：

```
http://server :8099/webservice 
```

如果我直接访问 Jboss，一切都很好，但是如果我尝试使用 https 访问 apache，我会遇到以下异常：

```
[ERROR] White spaces are requieed between publicId and systemId.
 line 1 of https: //server/webservice?wsdl
[ERROR] White spaces are requieed between publicId and systemId.
 Failed to read the WSDL document: https://...., because 1)could not find the document; /2)the document could not be read; /3 the root element of the document is not <wsdl:definitions>.
[ERROR] failed.noservice=Could not find wsdl:service in the provided WSDL(s):
At leadt one WSDL with at least one service definition needs to be provided.
    Failed to parse the wsdl 
```

如果我通过 https，我是否需要做任何配置？

# jsf-1.2 - 需要在 jsf 1.2 中的按钮的 accesskey 下方提供下划线

> ID：12406384
> 
> 赞同：0
> 
> 时间：2012-09-13T12:34:05.683
> 
> 标签：jsf-1.2

jsf 1.2中的按钮需要在accesskey下面提供下划线假设accesskey是CTRL+SHIFT+S，按钮文本是Submit，那么只有S下面才应该有下划线。请帮助如何做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-22T17:41:56.890

不可能这么直接地做这件事，但是有几个围绕这个问题的工作。这是其中的两个：

```
 1.You can do it using background image in Button.
 2\. You can write a javascript function to underline the desired text of the button 
    and call the function in onload event of the html body. 
```

干杯和快乐的编码！

# macos - Kext 超类未启动 - IOSCSIPeripheralDeviceType00::start() 未返回

> ID：12406387
> 
> 赞同：0
> 
> 时间：2012-09-13T12:34:10.990
> 
> 标签：macos, device-driver, kernel-extension

我正在`IOSCSIPeripheralDeviceType00`为连接 USB 的大容量存储设备编写一个 SCSI 直通设备驱动程序。该设备在固件中截获一些特定于供应商的 SCSI 命令并适当地回复，以及响应“正常”的 SCSI 命令。

我已经实现了[这个 Wagerlabs 代码](http://wagerlabs.com/blog/2008/02/04/writing-a-mac-osx-usb-device-driver-that-implements-scsi-pass-through/)风格的驱动器。

`init()`and方法基本上是空的`probe()`，只是做一些记录和调用重复的超类函数。这些似乎工作正常（日志按预期显示，并且在插入设备时将驱动程序分配给设备）。但是，当调用驱动程序的`start()`方法时，先调用超类' `start()`，但直到拔掉设备才返回。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:34:10.990

最后，事实证明设备没有正确初始化附加的磁盘，因此不允许`start()`通过类传递的方法`IOSCSIProtocolInterface::start()`与设备正确通信，挂起启动直到设备物理拔出。

# ruby-on-rails - 如何使用 cron job rails 3 在 rake 任务中生成 pdf

> ID：12406391
> 
> 赞同：0
> 
> 时间：2012-09-13T12:34:12.860
> 
> 标签：ruby-on-rails, rake-task, wicked-pdf

嗨，我正在使用 rails 3 和 wicked pdf gem 在我的控制器中生成 pdf。但现在我想

在 rake 任务中生成 pdf，它将通过 cron 作业运行。创建此 PDF 后，我将发送

它在电子邮件中。

```
 this is my normal controller method to generate pdf

    def generate_invoice_pdf
      begin
        @trunk_groups_orig = TrunkGroupSubscriber.all
        render :pdf => "GenerateInvoice", :layout => false, :template => "/accountings/generate_invoice_pdf"
     rescue => client
      puts client.inspect
     end
    end 
```

但是我如何在 rake 任务中生成 pdf

非常感谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:37:38.603

如果你正在使用`pdfkit` ，`wicked_pdf`那么你可以试试[这个](http://iparamtech.blogspot.in/2011/09/generate-pdf-using-erb-or-haml-and.html)，看看它是否有效。

更新代码

```
class PdfInvoice
 def generate_invoice
  @trunk_groups_orig = TrunkGroupSubscriber.all
   content = File.read('#{Rails.root}/app/views/accountings/generate_invoice_pdf.erb')
   template = ERB.new(content) 
   # THis will generate html content 
   html_content = template.result(binding) 
   # now you have html content
   pdf= WickedPdf.new.pdf_from_string(html_content)
   # then save to a file
  save_path = Rails.root.join('pdfs','filename.pdf')
  File.open(save_path, 'wb') do |file|
   file << pdf
  end
 end 
end

PdfInvoice.new.generate_pdf
#You can customize method based on your requirement, 
```

# c# - 如何从方法引用生成委托类型？

> ID：12406393
> 
> 赞同：2
> 
> 时间：2012-09-13T12:34:34.217
> 
> 标签：c#, .net, reflection, mono, mono.cecil

我正在尝试从 MethodReference 生成委托类型，但 PEVerify 一直说我的类型无效。

这是我的代码：

```
 TypeDefinition CreateDelegates(TypeDefinition type, MethodReference source) {
            var desiredname = source.Name.ToLowerInvariant() + "__DELEGATE";
            var module = type.Module;

            if (type.HasNestedTypes) {
                foreach (var deleg in type.NestedTypes) {
                    if (deleg.Name == desiredname) return deleg;
                }
            }

            var multiDelegateType = module.Import(typeof(MulticastDelegate));
            var voidType = module.Import(typeof(void));
            var objectType = module.Import(typeof(object));
            var nativeIntType = module.Import(typeof(IntPtr));
            var asyncCallbackType = module.Import(typeof(AsyncCallback));
            var asyncResultType = module.Import(typeof(IAsyncResult));

            // Create new delegate type
            var dlgtype = new TypeDefinition("", desiredname, TypeAttributes.Sealed | TypeAttributes.NestedAssembly, multiDelegateType);
            type.NestedTypes.Add(dlgtype);

            var constructor = new MethodDefinition(".ctor", MethodAttributes.Public | MethodAttributes.CompilerControlled | MethodAttributes.RTSpecialName | MethodAttributes.SpecialName | MethodAttributes.HideBySig, voidType);

            constructor.IsRuntime = true;
            constructor.HasThis = true;
            constructor.IsHideBySig = true;
            //constructor.IsVirtual = true;
            constructor.IsPublic = true;

            constructor.Parameters.Add(new ParameterDefinition("'object'", ParameterAttributes.None, objectType)); 
            constructor.Parameters.Add(new ParameterDefinition("'method'", ParameterAttributes.None, nativeIntType));
            dlgtype.Methods.Add(constructor);

            var begininvoke = new MethodDefinition("BeginInvoke", MethodAttributes.Public | MethodAttributes.HideBySig | MethodAttributes.NewSlot | MethodAttributes.Virtual, asyncResultType);
            begininvoke.IsRuntime = true;
            begininvoke.HasThis = true;
            begininvoke.IsHideBySig = true;
            begininvoke.IsRuntimeSpecialName = true;
            begininvoke.IsSpecialName = true;
            begininvoke.IsPublic = true;
            begininvoke.IsVirtual = true;

            foreach (var para in source.Parameters) {
                begininvoke.Parameters.Add(new ParameterDefinition(para.Name, para.Attributes, para.ParameterType));
            }

            begininvoke.Parameters.Add(new ParameterDefinition("callback", ParameterAttributes.None, asyncCallbackType));
            begininvoke.Parameters.Add(new ParameterDefinition("object", ParameterAttributes.None, objectType));

            dlgtype.Methods.Add(begininvoke);

            var endinvoke = new MethodDefinition("EndInvoke", MethodAttributes.Public | MethodAttributes.HideBySig | MethodAttributes.NewSlot | MethodAttributes.Virtual, voidType);
            endinvoke.Parameters.Add(new ParameterDefinition("result", ParameterAttributes.None, asyncResultType));

            endinvoke.IsRuntime = true;
            endinvoke.HasThis = true;
            endinvoke.IsHideBySig = true;
            endinvoke.IsRuntimeSpecialName = true;
            endinvoke.IsSpecialName = true;
            endinvoke.IsPublic = true;

            dlgtype.Methods.Add(endinvoke);

            var invoke = new MethodDefinition("Invoke", MethodAttributes.Public | MethodAttributes.HideBySig | MethodAttributes.NewSlot | MethodAttributes.Virtual, voidType);

            foreach (var para in source.Parameters) {
                invoke.Parameters.Add(new ParameterDefinition(para.Name, para.Attributes, para.ParameterType));
            }

            invoke.IsRuntime = true;
            invoke.HasThis = true;
            invoke.IsHideBySig = true;
            invoke.IsVirtual = true;
            invoke.IsPublic = true;

            dlgtype.Methods.Add(invoke);

            return dlgtype;

        } 
```

在 peverify 我得到：

```
[token  0x02000008] Type load failed.
[token  0x02000009] Type load failed.
[token  0x0200000A] Type load failed.
[token  0x0200000B] Type load failed. 
```

哪些是代表。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-04-17T18:18:11.483

我很确定我来晚了，但这里什么都没有。我敢打赌，由于构造函数参数周围的单引号，您会收到“类型加载失败”错误消息。如果你有兴趣，这里有一个完全实现的 Delegate 发射器类：

[https://github.com/SusirinkeLaborams/LaborasLang-aka-ForScience-/blob/master/LaborasLangCompiler/Codegen/Types/DelegateEmitter.cs](https://github.com/SusirinkeLaborams/LaborasLang-aka-ForScience-/blob/master/LaborasLangCompiler/Codegen/Types/DelegateEmitter.cs)

我希望我有所帮助！

# xpath - Jackrabbit XPath 查询在升级到 JR 2.4.2 后抛出异常

> ID：12406398
> 
> 赞同：4
> 
> 时间：2012-09-13T12:34:46.183
> 
> 标签：xpath, jackrabbit, magnolia

我们目前正在努力将我们系统上的 Jackrabbit 从 1.6.5 升级到 2.4.2。我们在一些过去在 1.6.5 上完美运行的 XPath 查询上遇到了问题，现在它在 2.4.2 上抛出 javax.jcr.query.InvalidQueryException 异常 - Jackrabbit 是否改变了它解析 XPath 查询的方式？

查询是：

```
//programs//*[child::*/@sunday] 
```

在版本 1.6.5 上返回：

```
0 nodes returned in 1ms 
```

并在 2.4.2 返回：

```
null for statement: for $v in //programs//*[child::*/@sunday] return $v 
```

# css - 如何在管理生成器中使用自定义 CSS 文件（用于 sfGuardUser）？

> ID：12406399
> 
> 赞同：0
> 
> 时间：2012-09-13T12:34:46.303
> 
> 标签：css, symfony1, admin-generator

我想将自己的 css 添加到 sfGuardUser 模型

我有这种配置`generator.yml`

```
generator:
class:              sfPropelAdminGenerator
param:
  model_class:      sfGuardUser
  theme:            default
  css:              foomain 
```

css-line 是我为测试添加的，因为我想摆脱`/sf/sf_admin/css/main.css`它会自动添加到这些视图中。

接下来是什么？我应该输入什么来为此生成新的东西？我的意思是，如何运行生成器在缓存文件夹中生成文件？`generator.yml`在更新设置和再次创建管理视图时，我没有从网上找到任何教程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T04:47:39.130

在 config 目录中创建一个 view.yml，它与管理员生成的模块的正常模块相同。

见：[http ://www.symfony-project.org/reference/1_4/en/13-View](http://www.symfony-project.org/reference/1_4/en/13-View)

# regex - 正则表达式：匹配模式但不是某些单词

> ID：12406403
> 
> 赞同：7
> 
> 时间：2012-09-13T12:34:56.257
> 
> 标签：regex

是否有可能编写一个匹配`[a-zA-Z]{2,4}`但不匹配单词的正则表达式`test`？还是我需要分几个步骤过滤？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-13T12:38:29.737

当然，您可以使用[负前瞻](http://www.regular-expressions.info/lookaround.html)。

```
(?!test)[a-zA-Z]{2,4} 
```

我不知道您是否需要它来执行您正在做的事情，但请注意，如果您正在检查整个输入是否与该模式匹配，您可能需要使用开始和结束锚点（`^`和）。`$`否则，它可能会匹配类似的东西，`ouaeghAEtest`因为它仍然会在某个不是“测试”的地方找到四个字符。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-13T12:39:22.607

```
[A-Za-su-z][A-Za-df-z]{0,1}[A-Za-rt-z]{0,1}[A-Za-su-z]{0,1} 
```

只是一个想法，还没有使用真正的代码来尝试

# iphone - 如何在 xcode 4.4 中将屏幕从应用程序委托导航到 viewController

> ID：12406405
> 
> 赞同：0
> 
> 时间：2012-09-13T12:34:56.553
> 
> 标签：iphone, xcode4.4

我在 os x 10.7 上使用 xcode 4.4，在任何版本中，如果我们在 appdelegate 中提供导航控制器，屏幕将导航到我们提供的视图控制器。但在 Xcode 4.4 中，它不导航并且显示空视图控制器。在那个视图控制器中，我也无法通过使用按钮来导航到另一个视图控制器。

提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T14:52:43.317

应用程序委托永远不会出现在屏幕上......它具有指向屏幕的 window 属性。我建议做的是初始化一个视图控制器，然后初始化一个导航控制器并将它的 rootviewcontroller 属性设置为您之前创建的视图控制器。然后在应用委托的**applicationDidFinishLaunchingWithOptions方法中，执行****[self.window setRootViewController: *nameOfYourNavigationController* ];**

# c - 链接没有c文件的头文件

> ID：12406408
> 
> 赞同：0
> 
> 时间：2012-09-13T12:35:00.193
> 
> 标签：c, makefile

我想链接一个没有相应 c 文件的头文件。

我该怎么做，这是我当前的 Makefile。

```
CC=powerpc-linux-gcc

LIBS = libdrmko.o libdrm.o libs3gko.o

C_SRC = main.c lstLib.c vxTypes.h

C_OBJ = main.o lstLib.o vxTypes.o

graphics_test: $(LIBS) $(C_OBJ)
    $(CC) -o graphics_test $(LIBS) $(C_OBJ) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-13T12:36:41.783

您不链接头文件，而是将它们包含在相关的 C 文件中：

```
#include "myheader.h" 
```

请参阅[GCC 文档](http://gcc.gnu.org/onlinedocs/cpp/Header-Files.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:38:16.320

头文件通常是`#include`'d（类似于`#include <stdio.h>`）。如果头文件只包含原型，而不包含实际实现，那么无论你做什么，最终都会出现编译错误。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T12:45:19.787

我假设您的意思是您希望将一些头文件放入您的项目中，这些头文件**不在**您的 .c 文件中作为`#include`s。如果您的 .h 文件位于源目录 appart 中，则可以将其包含在：

```
CFLAGS=-I/directory/to/add 
```

你会在那里找到所有的 .h 文件。

# asp.net-mvc-3 - Asp.net MVC Html.TextboxFor 标题和验证消息冲突

> ID：12406411
> 
> 赞同：0
> 
> 时间：2012-09-13T12:35:12.267
> 
> 标签：asp.net-mvc-3, validation, razor

我有一个 Asp.net MVC 应用程序（使用 Razor View），其中我使用 Html.Textboxfor 作为文本框。下面是代码：

```
@Html.TextBoxFor(m => m.Textbox1, Model.Attributes) 
```

我为这些添加的属性是

```
Model.Attributes = new Dictionary<string,object>);                               
Model.Attributes .Add("size", "3");
Model.Attributes .Add("min", 0);
Model.Attributes .Add("max", 100);                               
Model.Attributes .Add("title", "Value"); 
```

因此，当我单击提交时，我正在验证文本框，当输入超出指定范围的数据时，它会将默认标题显示为错误消息。有什么方法可以防止这种情况发生并添加与标题不同的自定义错误消息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:43:29.477

我不确定你想做什么，但我认为你只需要使用数据注释

```
 [StringLength(100,  MinimumLength=1, ErrorMessage = "error message here")]
 public string title { get; set; } 
```

# c# - 在 GDI+ 中沿其笔划宽度绘制具有线性渐变的折线

> ID：12406416
> 
> 赞同：2
> 
> 时间：2012-09-13T12:35:32.580
> 
> 标签：c#, .net, graphics, gdi+, gradient

是否可以绘制一条沿笔触宽度具有线性渐变的折线？也就是说，如果您有一个渐变，黑色为 0 和 100%，白色为 50%，无论角度如何，黑色将始终位于线条边缘，白色位于中间。将其视为某种 3D 管道。当然，线条的笔触宽度至少为 10px。这里的所有问题都询问如何在两端之间填充一条线。我绝对对此不感兴趣。我正在使用 GDI+ 在 C# 中工作，可以是任何 .NET 版本。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-14T14:08:06.793

我认为这就是你想要的：

![截屏](../Images/438f9b8656c09c52b1e79a3c7089e24a.png)

```
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
    }

    private void Form1_Paint(object sender, PaintEventArgs e)
    {
        e.Graphics.SmoothingMode=SmoothingMode.AntiAlias;

        DrawPipe(e.Graphics, 10f, new PointF(10, 10), new PointF(250, 80), Color.White, Color.Black);

        DrawPipe(e.Graphics, 10f, new PointF(15, 60), new PointF(280, 120), Color.BlueViolet, Color.Black);
    }

    private void DrawPipe(Graphics g, float width, PointF p1, PointF p2, Color mid_color, Color edge_color)
    {
        SizeF along=new SizeF(p2.X-p1.X, p2.Y-p1.Y);
        float mag=(float)Math.Sqrt(along.Width*along.Width+along.Height*along.Height);
        along=new SizeF(along.Width/mag, along.Height/mag);
        SizeF perp=new SizeF(-along.Height, along.Width);

        PointF p1L=new PointF(p1.X+width/2*perp.Width, p1.Y+width/2*perp.Height);
        PointF p1R=new PointF(p1.X-width/2*perp.Width, p1.Y-width/2*perp.Height);
        PointF p2L=new PointF(p2.X+width/2*perp.Width, p2.Y+width/2*perp.Height);
        PointF p2R=new PointF(p2.X-width/2*perp.Width, p2.Y-width/2*perp.Height);

        GraphicsPath gp=new GraphicsPath();
        gp.AddLines(new PointF[] { p1L, p2L, p2R, p1R});
        gp.CloseFigure();

        Region region=new Region(gp);
        using(LinearGradientBrush brush=new LinearGradientBrush(
            p1L, p1R, Color.Black, Color.Black))
        {                
            ColorBlend color_blend=new ColorBlend();
            color_blend.Colors=new Color[] { edge_color, mid_color, edge_color };
            color_blend.Positions=new float[] { 0f, 0.5f, 1f };
            brush.InterpolationColors=color_blend;
            g.FillRegion(brush, region);
        }
    }
} 
```

**编辑 1**

另一种方法是使用`PathGradientBrush`

```
GraphicsPath gp = new GraphicsPath();
gp.AddLines(new PointF[] { p1, p1L, p2L, p2, p2R, p1R });
gp.CloseFigure();

Region region = new Region(gp);
using (PathGradientBrush brush = new PathGradientBrush(gp))
{
    brush.CenterColor = mid_color;
    brush.SurroundColors = new Color[] 
    {
        mid_color, edge_color,edge_color,mid_color,edge_color,edge_color
    };          
    g.FillRegion(brush, region);
} 
```

**编辑 2**

要使边缘更平滑，请使用一些 alpha 透明度：

```
using(LinearGradientBrush brush=new LinearGradientBrush(
    p1L, p1R, Color.Black, Color.Black))
{
    ColorBlend color_blend=new ColorBlend();
    color_blend.Colors=new Color[] { 
        Color.FromArgb(0, edge_color), edge_color, mid_color, 
        edge_color, Color.FromArgb(0, edge_color) };
    color_blend.Positions=new float[] { 0f, 0.1f, 0.5f, 0.9f, 1f };
    brush.InterpolationColors=color_blend;
    g.FillRegion(brush, region);
} 
```

![截图2](../Images/7b1a3e7391d751828c0687fefdbbae8c.png)

**编辑 3** 使用一些工件绘制多条线，方法是先在线条之间渲染圆圈，然后再在线条之间渲染

```
 private void DrawPipes(Graphics g, float width, PointF[] points, Color mid_color, Color edge_color)
    {
        for (int i = 0; i < points.Length; i++)
        {
            using (GraphicsPath gp = new GraphicsPath())
            {
                gp.AddEllipse(points[i].X - width / 2, points[i].Y - width / 2, width, width);

                using (PathGradientBrush brush = new PathGradientBrush(gp))
                {
                    brush.CenterColor = mid_color;
                    brush.SurroundColors = new Color[] { edge_color };
                    brush.CenterPoint = points[i];
                    g.FillPath(brush, gp);
                }
            }
            if (i > 0)
            {
                DrawPipe(g, width, points[i - 1], points[i], mid_color, edge_color);
            }
        }
    } 
```

![截屏](../Images/97182f327a2109ccc0a25483daca4cf0.png)

# android - 读取用户定义的数据字段android联系人

> ID：12406420
> 
> 赞同：0
> 
> 时间：2012-09-13T12:35:38.750
> 
> 标签：android, android-contentprovider, android-contacts

我正在尝试阅读我使用谷歌联系人添加到我的联系人的字段。
我知道这些字段会同步，因为我可以使用替代的联系人查看器应用程序查看它。-> SoftWyer 的联系人视图
我如何查询这些数据？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T10:44:54.033

```
ContentResolver cr = getContentResolver();
String selection = ContactsContract.Data.MIMETYPE + " = ?" ;
String[] selectionParams = new String[]    
  {"vnd.com.google.cursor.item/contact_user_defined_field"};

Cursor tokenCur = cr.query(
ContactsContract.Data.CONTENT_URI,
null,
selection ,
selectionParams ,
null); 
```

# opencv - BRISK 特征检测器检测零关键点

> ID：12406429
> 
> 赞同：5
> 
> 时间：2012-09-13T12:36:13.530
> 
> 标签：opencv, github, qt-creator

下面显示的 Brisk 检测器没有给我任何关键点。有人可以提出一个问题。我将尝试用一些代码来解释我在下面做什么。

```
#include "opencv2/features2d/features2d.hpp"

using namespace cv;    
using namespace std;

Ptr<FeatureDetector> detector;
detector =  FeatureDetector::create("BRISK");

// the filename is given some path

Mat img = imread(filename, 0);
CV_Assert( !img.empty() );

vector<KeyPoint> kp;

detector->detect(img, kp); 
```

所以，当我调试它并检查关键点（kp）时，它说 <0 items>

使用类似的代码，其他检测器（如 ORB、SIFT 或 SURF）按预期工作！

有人可以建议一个解决方案。

我正在使用带有 Qt creator 2.5.2 的 opencv 2.4.9

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T07:15:16.710

好的，我自己搞定了！

对于感兴趣的人，BriskFeatureDetector 参数的默认值，即 octaves = 3 和 thres = 30 根本没有给我关键点。但是当我改变 octaves = 0 如原作者的演示所示使用 Brisk 的 AGAST 检测器时，它给了我相当多的关键点。

感谢并享受！

# mamp - 在崇高的文本中打开 php 文件 2

> ID：12406438
> 
> 赞同：1
> 
> 时间：2012-09-13T12:36:53.467
> 
> 标签：mamp, sublimetext2

有没有办法用 sublime text 2 在本地打开 .php 文件？我为每个浏览器创建了三个版本，但使用时它们只是被发送到我的下载文件夹。我正在测试 Coda 2，它可以工作！我也安装了 MAMP Pro；这和崇高有什么关系吗？

# proxy - 如何使用 FTPWebRequest 通过代理导航到子目录

> ID：12406439
> 
> 赞同：0
> 
> 时间：2012-09-13T12:36:56.690
> 
> 标签：proxy, ftp, ftpwebrequest

我目前正在尝试通过 ftp 代理登录到 ftp 服务器。使用以下代码段

```
 async {
          let r = FtpWebRequest.Create("ftp://<ftp-proxy-address>") :?> FtpWebRequest
          r.Method <- WebRequestMethods.Ftp.ListDirectoryDetails      
          r.Timeout <- req.Timeout.TotalMilliseconds |> int
          r.Proxy <- null 
          r.Credentials <- NetworkCredential("user@host/subdirectory","password")
          use! response = r.AsyncGetResponse()
          use sr = new StreamReader(response.GetResponseStream(), req.Encoding)
          let result = handler sr
          return result
        } 
```

但是，这总是让我登录到用户目录根目录，而不是我在用户凭据中指定的子目录。有没有办法让它工作？

**注意**如果我不使用 FTP 代理而是指定 HTTP 代理，它似乎可以工作。我可以看到正在发出 CWD 命令，我最终进入了我期望的目录

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:58:32.727

您必须先登录，然后更改目录。

# vba - 方法 FieldNameToFieldConstant 运行时错误 1004

> ID：12406442
> 
> 赞同：0
> 
> 时间：2012-09-13T12:37:03.477
> 
> 标签：vba, runtime, ms-project

如果脱机工作，我曾尝试为 Microsoft Project 制作此宏，但如果我尝试使用项目服务器，则该方法在运行时返回错误 1004。检查上面的代码。

```
Function RetornaValorCampo(NomeCampo As String)
    Dim Campo
    Campo = FieldNameToFieldConstant("NomeCampo", pjTask)
    RetornaValorCampo = ActiveProject.ProjectSummaryTask.GetField(Campo)
End Function 
```

坦克寻求任何帮助。[]的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T22:13:44.177

您将`NomeCampo`作为参数传递给`RetornaValorCampo`函数。当您调用[FieldNameToFieldConstant](http://msdn.microsoft.com/en-us/library/office/ff860541.aspx)函数时，您将`"NomeCampo"`作为第一个参数传递。

由于`"`字符，无论您将什么传递给函数，`"NomeCampo"`都将始终是字符串。`"NomeCampo"``RetornaValorCampo`

尝试：

`Campo = FieldNameToFieldConstant(NomeCampo, pjTask)`

使用您传入的参数值

# php - 通过 URL 检查 CakePHP ACL 权限

> ID：12406448
> 
> 赞同：2
> 
> 时间：2012-09-13T12:37:23.103
> 
> 标签：php, cakephp, permissions, cakephp-2.0, acl

我在我的 web 应用程序中使用 CakePHP ACL CRUD 系统，我正在尝试根据当前登录用户的权限生成一些菜单。

我遇到了 CakePHP 手册中没有记录的问题（至少我找不到）。我想根据以下 URL 格式检查权限：

```
$url = '/admin/users/add';
$this->Acl->check(array('User' => array('id' => 2)), $url); 
```

我尝试使用 Router::parse() 将 URL 解析为数组格式，但 check() 无法处理这种格式。

Acl->check() 的第二个参数需要一个“带有 'model' 和 'foreign_key'、模型对象或字符串值的数组”..

将我的 $url 转换为 checks() 接受的格式的最佳方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T20:02:08.317

urls 映射到控制器和动作，所以使用 ActionsAuthorize

# c - C中使用指针的子字符串

> ID：12406459
> 
> 赞同：2
> 
> 时间：2012-09-13T12:37:55.773
> 
> 标签：c, pointers, substring

我有一个字符指针，它指向一个字符串的开头和一个小于字符串长度的索引。现在我想创建一个指针，将原始字符串的子字符串从开头指向索引或具有上述约束的子字符串。请帮助我找到完成它的方法。这是一些代码：

```
char* ch="323+465";//this is the original string
int index=2;  //this is the index upto which I wish to create a substring, 
              // in java, it would have been ch.substring(0,3), if ch were a String 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:55:38.533

如果不创建 3 个字符串，您将无法做到这一点。字符点仅标记字符串的开头，因此您需要将指针和索引组合成一个新类型。请记住，您在 C 中没有字符串。在 Java（和其他）等语言中，无论如何都会创建子字符串的副本。

```
struct pseudo_string { char *s, int index; } vstring[3];
char* ch="323+465";
vstring[0].s = ch;
vstring[0].index = 2;
vstring[1].s = ch + index + 1;  // weird
vstring[1].index = 1;
vstring[2].s = vstring[1].s + 1;
vstring[2].index = 2; 
```

所以它过于复杂和无用。在这种情况下，索引被用作计数器......

如果你想保持相同的基指针，你需要 2 个索引或 1 个索引和一个 len：

```
struct pseudo_string2 { char *s; int start; int end; }; 
```

但这对于小字符串来说是过度的。

如果不想使用 malloc，可以尝试使用矩阵：

```
char vstring[3][10]={0};
strncpy(vstring[0], ch, 3);
strncpy(vstring[1], ch+3, 1);
strncpy(vstring[2], ch+4, 3); 
```

矩阵的优点是，即使浪费了几个字节，也不需要释放它。但是，如果您需要在此函数之外使用这些值，那么除了使用 malloc 和 free 之外，您别无其他选择（不要为此考虑全局变量 ;-)。

```
#include <stdio.h>
#include <string.h>
#include <stdlib.h>

char * substr(char *s, int start, int end)
{
       int size = end - start + 2; // 1 for the inclusive limits and another 1 for the \0
       char * r = (char*)malloc(size);
       strncpy(r,s+start, size-1);
       r[size-1]=0;
       return r;
}
int main()
{
    char* ch="323+465";
    char *parts[3];
    parts[0] = substr(ch, 0,2);
    parts[1] = substr(ch, 3,3);
    parts[2] = substr(ch, 4,6);
    printf("%s %s %s\n", parts[0], parts[1], parts[2]);
    free(parts[0]);
    free(parts[1]);
    free(parts[2]);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:38:52.840

复制适当数量的字符：

```
char * substr = malloc(index + 2);
strncpy(substr, ch, index + 1);
substr[index + 1] = 0;

// ...

free(substr); 
```

如果您乐于破坏原始字符串，只需插入一个空字节：

```
ch[index + 1] = 0; 
```

奇怪`+ 1`的是您的索引似乎是*包容性*的，这通常是一个[坏主意](https://stackoverflow.com/a/9963438/596781)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:39:23.950

你不能，因为这意味着修改字符串文字，这是非法的。

选择：

```
char ch[]="323+465";
int index=2;
ch[index] = '\0'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-13T12:41:29.577

首先，通过使用 char 数组而不是指向字符串文字的指针来使字符串可写。然后

```
char ch[] = "323+456";

int idx = 2;
ch[idx] = 0; /* Now ch holds the string "32" */ 
```

你应该避免标识符与经典的 BSD`index`函数发生冲突，这就是我使用它的原因`idx`。

此解决方案假定可以修改原始字符串。如果没有，您需要先分配一个新字符串。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-13T12:41:53.323

java子字符串的相同行为（分配新字符串）

```
 char* res = (char*)malloc(index+2);
 strncpy(res,ch,index+1);
 res[index+1]='\0'; 
```

我看到您尝试用 + 分隔，所以使用 strtok 更容易：

```
 char ch[] ="323+465";
 char * res;
 res = strtok (ch,"+");
 // res= 323 
```

# php - Adding up variables in mysql

> ID：12406461
> 
> 赞同：1
> 
> 时间：2012-09-13T12:38:01.077
> 
> 标签：php, mysql, sql

I own an rpg and want to add up all the levels of the users monster and get an end number.

So I narrowed it down for one user and works great.

```
$_SESSION['username'] = "smbisme";

$query = "SELECT belongsto, SUM(level) FROM user_pokemon WHERE `belongsto` = '".$_SESSION['username']."' "; 

$result = mysql_query($query) or die(mysql_error());

// Print out result
while($row = mysql_fetch_array($result)){
    echo $row['belongsto'];
    echo "". $row['SUM(level)'];
    echo "<br />";
} 
```

Now, that shows and works for the user 'smbisme' but now I want to do it for all users.

So I try and take the where out like so.

```
$query = "SELECT belongsto, SUM(level) FROM user_pokemon  "; 

$result = mysql_query($query) or die(mysql_error());

// Print out result
while($row = mysql_fetch_array($result)){
    echo $row['belongsto'];
    echo "". $row['SUM(level)'];
    echo "<br />";
} 
```

But then for some reason i am only getting the highest result ( 1 result ) i would like to do what i did for the 1 user but grab all of the results instead of just the one user.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:39:18.320

You need to use a group by statement for multiple row aggregates:

```
SELECT 
    belongsto, 
    SUM(level) 
FROM 
    user_pokemon 
group by 
    belongsto 
```

On that note, as PLB points out in the comments, this code is rather vunlerable to a code injection. You should consider using a prepared statement instead to get this result. No injections, it's a good thing.

To order by a column or aggregate:

```
SELECT 
    belongsto, 
    SUM(level) as sumLevel 
FROM 
    user_pokemon 
group by 
    belongsto 
order by 
    sumLevel desc 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:39:32.470

`SUM` is an aggregate function so you need a `group by`

```
SELECT belongsto, SUM(level) as sumlevel FROM user_pokemon group by belongsto order by sumlevel DESC 
```

# telerik - 将行添加到网格时具有 ASP.NET MVC3 默认值的 Kendo UI

> ID：12406463
> 
> 赞同：5
> 
> 时间：2012-09-13T12:38:07.147
> 
> 标签：telerik, kendo-ui

我正在将现有应用程序从 Telerik MVC 扩展转换为更新的 KendoUI 产品。我正在使用网格控件。向网格添加新行时，如何指定列的默认值？

使用旧的 Telerik MVC 扩展，我做了以下事情：

```
.Editable(editing=>editing.Mode(GridEditMode.InCell).DefaultDataItem(Model.defaultItem)) 
```

我的模型的 defaultItem 是我添加行的默认值。那么我该如何用剑道做到这一点呢？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-13T19:52:35.340

哟哟哟伙计

您需要通过 dataSource 模型配置为每个字段指定默认值

这是您可以使用的示例；）

```
@(Html.Kendo()
.Grid<TestModel>()
.Name("SomeOtherGridName")
.DataSource(ds => ds.Ajax().Read("test", "test").Model(
    x => {
        x.Field(c => c.Val1).DefaultValue(5);
        x.Field(c => c.Val2).DefaultValue("cool!");
    }
 ))
.Columns(columns =>
{
    columns.Bound(c => c.Val1);
    columns.Bound(c => c.Val2);
})
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T16:46:01.513

DefaultDataItem[当前不存在](http://www.kendoui.com/forums/ui/grid/replacement-for-defaultdataitem.aspx)于 MVC 扩展中。[但是，如果不使用 MVC 扩展](http://docs.kendoui.com/api/framework/model#model.define)作为解决方法，它仍然是可能的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-09T06:05:50.817

我写了一个扩展方法来完成`DefaultDataItem()`. 它读取默认项的每个属性并在数据源模型定义中设置`Field()`and ：`DefaultValue()`

```
public static class DataSourceModelDescriptorFactoryExtensions
{
    public static DataSourceModelDescriptorFactory<TModel> DefaultDataItem<TModel>(
        this DataSourceModelDescriptorFactory<TModel> dataSourceModelBuilder,
        TModel defaultDataItem) where TModel : class
    {
        var propertyInfos = typeof(TModel).GetProperties();
        foreach (var propertyInfo in propertyInfos)
        {
            dataSourceModelBuilder
                .Field(propertyInfo.Name, propertyInfo.PropertyType)
                .DefaultValue(propertyInfo.GetValue(defaultDataItem));
        }

        return dataSourceModelBuilder;
    }
} 
```

像这样使用它：

```
@(Html.Kendo().Grid<MyEntity>()
    ...
    .DataSource(ds => ds
        ...
        .Model(model =>
        {
            model.Id(n => n.Id);
            model.DefaultDataItem(myDefaultEntity);
        }
    )
) 
```

# nant - 必须包含带有 GUID 的 NAnt + 项目

> ID：12406464
> 
> 赞同：1
> 
> 时间：2012-09-13T12:38:13.200
> 
> 标签：nant

我今天才开始使用 NAnt，我遵循了一些示例。我很难解决一个问题：

它的说法是：“必须包含 GUID '{32845370-6F32-411F-B4C5-383F9C3EDE29}' 的项目才能使构建工作。”

现在我能够追踪该项目。这是我的目录结构：

`c:\dev\stockclockbuild`-> 这是解决方案和构建文件所在的位置。所以我运行命令：

```
nant -buildfile:c:\dev\stockclockbuild\stocks.build 
```

我有一个`c:\dev\_sharedlibs\mdrlibs`名为“MDR.StockPlatform”的项目，它似乎被包含在内，但在该项目文件中，我找到了错误中提到的 GUID 的项目（依赖项）。

该项目称为“MDR.Base”，但它与 MDR.StockPlatform 位于同一文件夹中。 **此外，如果我要打开此解决方案并在 Visual Studio 中构建它，它构建时不会出现错误。**

这是完整的详细输出：

```
c:\Dev\_Misc\Tools\nAnt\bin>nant -buildfile:c:\dev\stockclockbuild\stocks.build
NAnt 0.92 (Build 0.92.4543.0; release; 6/9/2012)
Copyright (C) 2001-2012 Gerry Shaw
http://nant.sourceforge.net

Buildfile: file:///c:/dev/stockclockbuild/stocks.build
Target framework: Microsoft .NET Framework 4.0
Target(s) specified: rebuild

clean:

build:

build.stockclock:

 [solution] Starting solution build.
 [solution] Loading projects...
 [solution] Loading project 'c:\dev\stockclockbuild\StockClock.Common\StockClock
.Common.csproj'.
 [solution] Using MSBuild version 4.0.30319.1.
 [solution] Loading referenced project 'c:\dev\_SharedLibs\MDRLibs\MDR.StockPlat
form\MDR.StockPlatform.csproj'.

BUILD FAILED

Project with GUID '{32845370-6F32-411F-B4C5-383F9C3EDE29}' must be included for
the build to work.

Total time: 0.6 seconds. 
```

这是构建文件的副本：

```
<project name="Solution Build Example" default="rebuild">
    <property name="configuration" value="release"/>

    <target name="clean" description="Delete all previously compiled binaries.">
        <delete>
            <fileset>
                <include name="**/bin/**" />
                <include name="**/obj/**" />
                <include name="**/*.suo" />
                <include name="**/*.user" />
            </fileset>
        </delete>
    </target>

    <target name="build" description="Build all targets.">
        <call target="build.stockclock"/>
    </target>

    <target name="rebuild" depends="clean, build" />

    <target name="build.stockclock">
        <solution configuration="${configuration}" solutionfile="Stockclock.sln" verbose="true">
        </solution>
    </target>

</project> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-16T03:56:39.427

我假设您使用的是现代 IDE，并且来自[NAnt 文档](http://nant.sourceforge.net/release/latest/help/tasks/solution.html)：

```
Note: Right now, only Microsoft Visual Studio .NET 2002 and 2003 solutions and
projects are supported. Support for .NET Compact Framework projects is also not
available at this time. 
```

在我的 NAnt 脚本中，我使用[NauckIT MSBuild 任务](http://dev.nauck-it.de/projects/utilities/wiki/NAntTasksMSBuild)：

```
<msbuild projectFile="${solution.file}" targets="Build" verbosity="Quiet">
    <property name="Configuration" value="${build.configuration}" />
    <property name="Platform" value="${build.platform}" />
    <arg value="/flp:NoSummary;Verbosity=normal;LogFile=${build.log}" />
    <arg value="/p:SignAssembly=true" if="${isReleaseBuild}" />
    <arg value="/p:AssemblyOriginatorKeyFile=${solution.keyfile}" if="${isReleaseBuild}" />
    <arg value="/p:DelaySign=false" if="${isReleaseBuild}" />
</msbuild> 
```

不过这是个人喜好，因为您也可以使用[NAnt exec 任务](http://nant.sourceforge.net/release/latest/help/tasks/exec.html)并直接调用 msbuild。

# c++ - 访问与派生方法同名的重载基类方法

> ID：12406476
> 
> 赞同：0
> 
> 时间：2012-09-13T12:38:41.907
> 
> 标签：c++, inheritance

我正在尝试从与派生类中的方法同名的基类中调用方法。这是一个简化的示例：

```
#include <iostream>

using namespace std;

class Base
{
public:
    void print() {
        cout << "Printing from base" << endl;
    }

    void print(int num) {
        cout << "Printing number from base: " << num << endl;
    }
};

class Derived : public Base
{
    using Base::print;

public:
    void print() {
        cout << "Printing from derived" << endl;
    }
};

int main()
{
    Derived x;

    x.print();
    x.Base::print(1);

    //x.print(1); // Gives a compilation error

    return 0;
} 
```

基本上，我希望能够调用 x.print(1) 并获得“从基数打印数字：1”，即自动调用与签名匹配的方法，即使它驻留在基类中。

没有`using Base::print;`, 我得到`error: no matching function for call to 'Derived::print(int)'`，由于名称隐藏，这非常有意义。

因此，我添加了该行，但现在错误是`error: 'void Base::print(int)' is inaccessible`

为什么会这样？我使用公共继承，所以我会认为它很容易获得？

如示例中所示，手动调用可以正常工作`x.Base::print(1);`，但我想更透明地进行。然后我当然可以在派生类中重新实现函数的包装器，但这似乎也不是很优雅。

如果之前的问题已经涵盖了这一点，我深表歉意，我阅读了其中的一堆并发现了很多类似的案例，但没有任何帮助我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T12:40:24.333

using 指令的位置决定了可见性。只需将它放在公共区域，你应该没问题：

```
//...
class Derived : public Base
{

public:
    using Base::print;

    void print() {
        cout << "Printing from base" << endl;
    }
};
//... 
```

[http://ideone.com/06NNk](http://ideone.com/06NNk)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:44:41.757

您可以使您的功能虚拟化。任何从基类继承的未重载的虚函数都将通过派生类调用。

```
class base 
{
  public:
    virtual void Foo() {}
}

class Derived
{
}

Derived d;
d.foo(); // calls base::foo() 
```

# regex - 将正则表达式搜索添加到 Vim 中的列表

> ID：12406477
> 
> 赞同：3
> 
> 时间：2012-09-13T12:38:42.983
> 
> 标签：regex, vim, pattern-matching, text-extraction

我一直在尝试将 ib 提供的技术应用到 stackoverflow 的另一个答案中，但无法让它在 m 情况下工作。

我正在尝试使用这种格式的参考链接从文本中提取数字列表

```
[1]:www.example.com    
[2]:www.example.2.com 
```

提取数字后，我希望从列表中获取最大值，以便找到下一个要使用的合适数字。

这是在一个很好的答案中提出的：

[如何使用 Vim 提取正则表达式匹配](https://stackoverflow.com/questions/9079561/how-to-extract-regex-matches-using-vim)

对另一个人，以下格式可能有效：

```
:let nextreflink=[] | %s/\d\zs/\=add(nextreflink,submatch(1))[1:0]/g 
```

但是，`"echo new"`在我的情况下，调用时，列表是空的。

任何想法都会非常受欢迎！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:19:19.253

您需要`\d`通过将其括在中来捕获匹配的数字`\(...\)`；the`submatch(1)`指的是第一次捕获。此外，您可能希望匹配多个数字`\d\+`以支持超过九个引用。

```
:let nextreflink=[] | %s/\(\d\+\)\zs/\=add(nextreflink,submatch(1))[1:0]/g 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T14:04:38.240

以下内容明确匹配行首的“[N]”，因此更加严格。这类似于上面的答案，但它不会从参考文献中删除数字（我不太确定这是怎么回事）。

```
let refs=[] | %s/^\[\zs\d\+\ze\]/\=add(refs, submatch(0))[-1]/g 
```

这使参考列表保持不变。然后你可以得到下一个可用的参考：

```
let next = max(refs) + 1 
```

这不考虑跳过的数字。如果引用是，`[1, 2, 5]`那么`next`将是`6`.

# qt - 在 QT 应用程序中嵌入 HTML 帮助

> ID：12406482
> 
> 赞同：2
> 
> 时间：2012-09-13T12:39:11.173
> 
> 标签：qt

我用 Qt 编写了一个应用程序，它有一个非常大的帮助系统，其中包括图像、表格、链接等......这个帮助系统作为简单的 HTML 文件与图像一起存储在磁盘上的特定位置并使用 QWebkit 控件根据请求将其加载到应用程序中，并且用户可以浏览它等...

现在，我想摆脱我的“内部，基于文件”的帮助解决方案，这意味着：我想要一个仍然使用我的 HTML 文件的帮助系统，但不需要向用户发送 100 个文件，只有 1 个或 2。

我知道 Qt 的帮助系统（[http://doc-snapshot.qt-project.org/4.8/qthelp-framework.html](http://doc-snapshot.qt-project.org/4.8/qthelp-framework.html)），但我想知道是否有任何其他解决方案提供相同或相似的功能。

我在找什么：

1.  获取所有 HTML 文件并创建其中一个，包括图像
2.  阅读器可能嵌入在应用程序中，但单独的应用程序也很好。
3.  多平台
4.  支持上下文相关帮助（即：“单击这是什么”，帮助显示相关页面）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T15:35:42.933

对于大量帮助文档，最好的方法是使用[Qt Help Framework](http://qt-project.org/doc/qt-4.8/qthelp-framework.html)。例如 QAssistant 就是这样完成的。

它主要由几个类似html的文件和索引文件组成。然后你“编译”它们以获得二进制（和压缩）版本。您可以将帮助拆分为多个部分，依此类推...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-26T16:55:39.020

我正在使用 QWebView 来显示 HTML 帮助文件。您将获得一个小部件并可以将其集成到您的应用程序中。

Qt 在这里有一个很好的简单示例：http: [//qt-project.org/wiki/Open_Web_Page_in_QWebView](http://qt-project.org/wiki/Open_Web_Page_in_QWebView)

由于它是一个小部件，因此您可以增加独立或集成的外观，并且非常灵活。

# c# - 使用带有 CvMat 的 OpenCVSharp HoughLines2 方法遇到问题

> ID：12406483
> 
> 赞同：1
> 
> 时间：2012-09-13T12:39:11.837
> 
> 标签：c#, .net, opencv, opencvsharp

我正在使用 OpenCVSharp 2.3，但在使用 CvMat 和 Cv.Houghlines2 方法时遇到问题！HoughLines2 不接受我正在创建的任何 CvMat 对象。我之前使用过 Cv.MemStorage 结构，这很有效，但是它不允许您对要检测的行数设置限制？

我试过这样的事情：

```
CvMat testCvMat1 = new CvMat(maxNoOfLines,1, MatrixType.F32C2);
// Line detection
OpenCvSharp.CvSeq lines = srcImgGray.HoughLines2(storage, OpenCvSharp.HoughLinesMethod.Standard, this.rhoSteps, this.thetaSteps, this.accuThreshold, 0, 0);
testCvMat1.Dispose(); 
```

或与 PPHL

```
CvMat testCvMat2 = new CvMat(maxNoOfLines, 1, MatrixType.S32C4);
lines = srcImgGray.HoughLines2(testCvMat2, HoughLinesMethod.Probabilistic, this.rhoSteps, this.thetaSteps, this.accuThreshold, 50, 10);
testCvMat2.Dispose(); 
```

我总是得到同样的异常，这显然是一个 C# 异常：

> 错误：值不能为空。参数名称：ptr

即使我尝试这样的事情

```
CvMat testCvMat1 = new CvMat(maxNoOfLines,1, MatrixType.F32C2, new float[limit,2]);
CvMat testCvMat1 = new CvMat(1, maxNoOfLines, MatrixType.F32C2, new float[maxNoOfLines, 2]);
CvMat testCvMat1 = new CvMat(1, maxNoOfLines, MatrixType.F32C2);
CvMat testCvMat1 = new CvMat(1, maxNoOfLines, MatrixType.F32C2, 0); 
```

我总是得到同样的例外，这显然是不对的。

我还搜索了 OpenCVSharp 源代码是否有任何错误代码，但一切似乎都是有效的？！

那么，我做错了什么？？有没有人有同样的经历？

* * *

好的，我自己找到了解决这个问题的方法：

包装器在 HoughLines2 函数的非托管调用发生的位置有一些错误代码：

```
public static CvSeq HoughLines2(CvArr image, CvMat line_storage, HoughLinesMethod method, double rho, double theta, int threshold, double param1, double param2)
    {
        if (image == null)
            throw new ArgumentNullException("image");
        if (line_storage == null)
            throw new ArgumentNullException("line_storage");
        IntPtr result = CvInvoke.cvHoughLines2(image.CvPtr, line_storage.CvPtr, method, rho, theta, threshold, param1, param2);
        return new CvSeq(result);
    } 
```

返回值导致异常，因为当一个有效的 CvMat 对象被选为 lineStorage 结构时，HoughLines2 返回 nullPtr，这对于在该方法的最后一行构建 CvSeq 对象无效！这必须改变！只需检查结果指针是否为有效指针并处理返回值，该值也可以为 null。

我现在改用 CvInvoke.Houghlines2(...) 并自己处理这个问题。而且效果很好:)！

# mysql - 如果 MySQL 中的字段为空，如何更新字段？

> ID：12406484
> 
> 赞同：2
> 
> 时间：2012-09-13T12:39:15.553
> 
> 标签：mysql, sql, null

我有一个名为`size`. 有些行是`null`. 我想将这些行的`size`字段更新为`0`. 我会怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T12:40:03.240

```
update tablename
set    size = 0
where  size is null; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-13T12:40:47.323

```
UPDATE TABLENAME
SET size = 0
WHERE size IS NULL 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-13T12:40:10.433

您必须`WHERE size IS NULL`在更新子句中使用：

```
UPDATE table SET size = 0 WHERE size IS NULL; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-13T12:41:56.080

```
UPDATE TABLENAME 
SET SIZE=0
WHERE SIZE IS NULL; 
```

# android - Android微调器突出显示所选项目

> ID：12406486
> 
> 赞同：8
> 
> 时间：2012-09-13T12:39:19.937
> 
> 标签：android, android-spinner

我有基本的 android 微调器，单击它后，我希望列表中的项目突出显示其中一个项目，即最初选择的项目。

就像在这里完成的那样： [http ://www.warriorpoint.com/blog/wp-content/uploads/2009/05/05spinner-thumb.png](http://www.warriorpoint.com/blog/wp-content/uploads/2009/05/05spinner-thumb.png)

但是使用我自己的项目布局而不是单选框，而是使用我自己的背景。

我怎样才能做到这一点？选择器中有什么用处，还是我必须以编程方式进行？

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2015-10-29T03:44:00.357

以下是我测试和验证的解决方案。您可以使用 setSelection(N) 突出显示您想要的项目。

```
class HighLightArrayAdapter extends ArrayAdapter<CharSequence> {

        private int mSelectedIndex = -1;

        public void setSelection(int position) {
            mSelectedIndex =  position;
            notifyDataSetChanged();
        }

        public HighLightArrayAdapter(Context context, int resource, CharSequence[] objects) {
            super(context, resource, objects);
        }

        @Override
        public View getDropDownView(int position, View convertView, ViewGroup parent) {
            View itemView =  super.getDropDownView(position, convertView, parent);

            if (position == mSelectedIndex) {
                itemView.setBackgroundColor(Color.rgb(56,184,226));
            } else {
                itemView.setBackgroundColor(Color.TRANSPARENT);
            }

            return itemView;
        }
    } 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-12-27T21:43:44.647

```
public class MainActivity extends Activity {

Spinner mySpinner;
String[] myArray={"1","2","3","4","5"};
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    mySpinner = (Spinner)findViewById(R.id.spinner_test);

    mySpinner.setAdapter(new MyAdapter(this,android.R.layout.simple_spinner_item, myArray));

}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.main, menu);
    return true;
}

public class MyAdapter extends ArrayAdapter<String>{

    public MyAdapter(Context context, int textViewResourceId,
            String[] objects) {
        super(context, textViewResourceId, objects);
        // TODO Auto-generated constructor stub
    }

    @Override
    public View getDropDownView(int position, View cnvtView, ViewGroup prnt){
        LayoutInflater inflater = getLayoutInflater();
        View spinnerItem = inflater.inflate(android.R.layout.simple_spinner_item, null);

        TextView mytext= (TextView)spinnerItem.findViewById(android.R.id.text1);
        mytext.setText(myArray[position]);

        //int selected = Spinner.
        int selected = mySpinner.getSelectedItemPosition();
        if(position == selected){
            spinnerItem.setBackgroundColor(Color.BLUE);
        }
        return spinnerItem;

    }

}

} 
```

这应该会有所帮助。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2019-07-09T22:24:26.167

Kotlin 版本更直接：

```
 val spinner = Spinner(context)
    val adapter = object: ArrayAdapter<Any>(context, android.R.layout.simple_spinner_item, choices.toTypedArray()) {
        override fun getDropDownView(position: Int, convertView: View?, parent: ViewGroup): View {
            return super.getDropDownView(position, convertView, parent).also { view ->
                if(position == spinner.selectedItemPosition)
                    view.setBackgroundColor(Color.rgb(204, 255, 255))
            }
        }
    }
    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item
    spinner.adapter = adapter 
```

您显然可以设置视图的其他属性 - 返回的视图`android.R.layout.simple_spinner_dropdown_item`是的子类，`TextView`因此您可以设置文本对齐和类似属性，例如右对齐文本：

```
 (view as? TextView)?.textAlignment = TEXT_ALIGNMENT_VIEW_END 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-09-18T12:57:32.310

要回答我的问题，你需要有这样的东西：

```
public class mySpinnerAdapter extends SimpleCursorAdapter implements SpinnerAdapter {

public OrderSpinnerAdapter(Context context, int layout, Cursor c, String[] from, int[] to) {
    super(context, layout, c, from, to);
    // TODO whatever you need
}

public View getDropDownView(int position, View convertView, ViewGroup parent) {
    if (convertView == null) {
        convertView = mInflater.inflate(android.R.layout.simple_dropdown_item_1line, parent, false);
    }

    // TODO set the background color of the convertView
    // depending on your wishes

    return convertView;
}
} 
```

这样我们就可以像这样控制下拉列表的创建。如果您需要不同的选择器，您可以在 XML 文件中轻松完成。

然后，当您只是简单地创建适配器并使用方法 setAdapter 将它们绑定到微调器时。

# spring-webflow-2 - requestcontextholder 并发访问

> ID：12406496
> 
> 赞同：0
> 
> 时间：2012-09-13T12:39:38.670
> 
> 标签：spring-webflow-2, thread-local-storage

我在 weblogic 服务器上运行的 spring webflow 应用程序中使用以下代码。

`RequestContextHolder.getRequestContext() .getExternalContext().getNativeRequest()).getSession()`

我知道`RequestContextHolder`用于`ThreadLocal`存储`requestContext`启动和恢复期间的步骤。

现在的问题是一个线程可以访问`requestContext`其他线程的任何远程可能性（可能是因为线程被weblogic重用或由于其他原因）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-18T22:01:45.470

升级到 SWF 2.3.0 解决了问题（线程之间共享数据） SWF 版本 (2.2.1) 有一个错误。它的 ExpressionParser 不是线程安全的（[JIRA](https://jira.springsource.org/browse/SWF-1437)）。

# iphone - NSnumberFormatter 在模拟器上工作但不在设备上

> ID：12406500
> 
> 赞同：1
> 
> 时间：2012-09-13T12:39:51.180
> 
> 标签：iphone, objective-c, ios, xcode, nsnumberformatter

我的应用程序中有一个价格字段。我使用了 NSNumberFormatter，我正在使用核心数据存储和检索值。它在模拟器上运行良好，但设备上没有任何显示。

我还显示了在模拟器上运行良好但在设备上运行良好的本地货币值。我对货币使用了以下代码：

```
NSLocale *theLocale = [NSLocale currentLocale];
NSString *a = [theLocale objectForKey:NSLocaleCurrencySymbol]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-20T13:01:12.607

对于印度数字系统

```
 NSNumberFormatter *frm=[[NSNumberFormatter alloc] init];
[frm setNumberStyle:NSNumberFormatterDecimalStyle];

    [frm setLocale:[[[NSLocale alloc] initWithLocaleIdentifier:@"en_IN"] autorelease]];
[frm setCurrencySymbol:@""];

NSString *formattedAmt=[frm stringFromNumber:[NSNumber numberWithDouble:tmpAmt]]; 
```

**将 LocaleIdentifier 更改为 en_US 表示百万**

# ios - 在 iOS 应用程序中再次编辑编辑的 UIImage

> ID：12406501
> 
> 赞同：0
> 
> 时间：2012-09-13T12:39:51.840
> 
> 标签：ios, uiimage

在我的 iOS 应用程序中，我将几个 UIImages 放在一个背面 UIImage 上，然后通过以编程方式截取屏幕截图来保存整个背面图像，并在其上添加所有子图像。

现在我想更改该保存图像的子视图 UIImages 位置。所以想知道如何检测子视图图像的位置，因为我已经将整个图像作为屏幕截图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:16:51.313

Record their frame as converted to window coordinates. The pixels of the image should be the same as the frame origin (for normal) or double for retina. The screenshot is of the whole screen, so its dimensions are equivalent to the window frame. UIView has some convenience methods to convert arbitrary view frames to other view (or window) coordinates.

EDIT: to deal with content fit, you have to do the math yourself. You know the frame of the imageView, and you can ask the image for its size. Knowing the aspect ratio of each will let you determine in which dimension the image completely fits, and then you can compute the other dimension (which will be a value less than the imageView frame. Divide the difference of the view dimension minus the image dimension by two, and that lets you know the offset to the image inside the view. Now you can save the frame of the image as its displayed in the view.

# ios - 如何在界面生成器中制作与 4 英寸 iPhone 兼容的 uitableview

> ID：12406505
> 
> 赞同：11
> 
> 时间：2012-09-13T12:39:59.143
> 
> 标签：ios, ios5, ios6

如何在界面生成器中制作与 4 英寸 iphone5 和旧 iPhone 4/4s 兼容的 uitableview？

Xcode 4.5 中有三个选项：

*   自由形式
*   视网膜3.5全面屏
*   视网膜4全面屏

如果我选择 Retina 4，那么在 3.5 英寸手机中它会越过/溢出屏幕边框

使用代码，我可以相应地设置框架，但是使用界面生成器有什么用呢？

应该如何使用 Interface Builder 来做到这一点？

**编辑**

我的问题是针对 iphone 5 视网膜 4 英寸屏幕。在检查具有状态栏和导航栏的视图大小时，这里是 self.view.frame.size.height/width 的值，如果我选择 freeform/none/retina 3.5，框架为 320.000000 x 416.000000

设置自动调整大小选项，以便视图在所有方向上扩展，即启用所有支柱和弹簧。

**编辑** 为了在 iOS6 模拟器中进行测试，如果我在代码中设置以下内容

```
self.tableView.frame    = CGRectMake(0, 0, 320, 546);
self.tableView.bounds   = CGRectMake(0, 0, 320, 546);
self.view.frame         = CGRectMake(0, 0, 320, 546);
self.view.bounds        = CGRectMake(0, 0, 320, 546);
NSLog(@"%2f - %2f", self.view.bounds.size.width, self.view.bounds.size.height);
NSLog(@"%2f - %2f", self.tableView.bounds.size.width, self.tableView.bounds.size.height); 
```

我得到以下输出

```
 320.000000 - 546.000000
 320.000000 - 546.000000 
```

并且顶部 480 像素以下的所有行都是不可选择的，因为“视图”仍然认为它们超出了范围。

**我的解决方案**

将所有屏幕的大小设置为 Retina 4，包括主窗口 xib 文件。在此之后，即使在 iphone 4 上它似乎也能正常工作。并且所有低于 480px 的行现在都可以在 iOS 6 模拟器中点击

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-09-25T19:22:27.850

**如果您在应用程序中显示操作表，请注意将 size 属性设置为“Retina 4 Full Screen” **。**此解决方案实际上将主窗口的尺寸设置为 iPhone 5 的尺寸。在我的情况下，当您尝试显示操作表时在 iPhone 4 中设置此受影响的显示，因为它会尝试从可视屏幕下方显示它.**

 **适用于所有情况的正确解决方案是将大小设置为 none 并在应用程序委托 didfinishloading 方法中检测屏幕大小并将主窗口设置为该大小或将 rootviewcontroller 的视图设置为该大小。操作表将正常工作。

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {

self.window.frame = CGRectMake(0, 0, [[UIScreen mainScreen]bounds].size.width, [[UIScreen mainScreen]bounds].size.height);

} 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-09-14T08:06:07.447

选择您的 xib 文件并更改`Size`属性。

![在此处输入图像描述](../Images/fcf38e01e0336a7512986c1b0787f7d9.png)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-13T12:58:36.523

在 Interface Builder 中选择“freeform”、“Retina 3.5”或“Retina 4”等设置位于右侧面板的“**模拟**指标”部分*（注意添加的重点）*。

这意味着它们仅用于向您展示视图在以这些尺寸显示时的外观。通常，您可以在设计时使用它来了解布局视图所需的空间。但是 UIViewController 的 UIView 在最后显示在屏幕上时总是会调整大小。

例如，如果您知道顶部有一个状态栏和一个 NavigationBar，底部有一个 TabBar，那么您在屏幕上组织剩余视图的空间就会减少，因此请在“模拟指标”部分中选择它们面板的 将帮助您查看视图中有哪些空间，并避免将元素放置在 y=460 处，由于这些 NavBar 和 TabBar，这些元素将在运行时离开屏幕。

但最后，UIViewController 将调整其视图的大小以占用最大的可用空间，并根据 AutoresizingMask 属性（您可以在 IB 的 Size Inspector 窗格中配置的支柱和弹簧）移动子视图。

总之，您唯一需要做的就是：

*   更喜欢为您的视图选择“Retina 3.5”模拟指标，以便在 Interface Builder 中查看显示此视图时可能具有的最小尺寸（帮助您避免将视图和控件放置在屏幕的一部分中，这些部分仅在 4 “屏幕但不在 3.5”屏幕上，并通过牢记最小的公共区域来设计您的视图）
*   正确配置您的 AutoResizing Masks（或使用 AutoLayout 和约束，如果您计划仅发布适用于 iOS6 而不是 iOS4 或 iOS5 的应用程序），以便在屏幕较高（Retina 4"）时正确重新排列您的视图。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-09-13T12:47:09.760

据我了解，您想创建一个适用于 iPhone 4 和 5 的表格视图。首先我没有尝试过 Xcode 4.5，但是代码

```
 CGRect fullScreenRect = [[UIScreen mainScreen] bounds];
 theTableView.frame = CGRectmake = (0,0,fullScreenRect.width,fullScreenRect.height); 
```

将`fullScreenRect`返回当前设备的边界，无论是 3.5 还是 5 英寸。你可以动态设置高度和宽度。

让我知道它是否有效..

干杯

W

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-17T03:52:19.037

如果您的界面使用故事板：

使用“文本编辑器”打开 *.Storyboard

然后走到最后找到 `<simulatedScreenMetrics key="destination" type="retina4"/>`

删除 `type="retina4"`

那么它将是 3.5 的默认尺寸”**

# php - $moduleManager->getEventManager()->getSharedManager()->attach 在稳定的 zf2 中不起作用

> ID：12406507
> 
> 赞同：2
> 
> 时间：2012-09-13T12:40:04.780
> 
> 标签：php, zend-framework2

```
namespace Auth;

use Zend\ModuleManager\ModuleManager;

class Module
{
    public function init(ModuleManager $moduleManager)
    {
        $sharedEvents = $moduleManager->getEventManager()->getSharedManager();
        $sharedEvents->attach(__NAMESPACE__, 'dispatch', function($e) {
               echo "I am init module dispatch";
               exit();
        }, 100);
    }
} 
```

`$moduleManager->getEventManager()->getSharedManager()->attach()`在 ZF2 BETA5 中运行良好，但在稳定的最终版本中无法运行。

此功能是否已在最终版本中取消？
如何在 ZF2 最终版本中进行这项工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-24T04:22:02.533

```
public function onBootstrap(MvcEvent $e)
{
    $application   = $e->getApplication();
    $sharedManager = $application->getEventManager()->getSharedManager();

    $sharedEvents->attach(__NAMESPACE__, 'dispatch', function($e) {
           echo "I am init module dispatch";
           exit();
    }, 100);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T18:28:02.453

在zend framework2的Beta系列中

```
Auth\src\User\Controller\UserController.php 
```

但在 zf2 的最终版本中，这不起作用。主命名空间文件夹应与 src 文件夹下的完全相同。所以上面只会这样工作

```
Auth\src\Auth\Controller\UserController.php
or
User\src\User\Controller\UserController.php 
```

不要忘记在 module.php 和 module.config.php 以及控制器文件中更改命名空间和路径。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-27T15:09:28.143

有两种方式，

您可以从 Module.php 的 init 方法中获取它，方法是将 ModuleManger 对象传递给它，然后传递 modulemanager->getEventManager。

或者再次来自 Module.php 中的 onBootstrap 方法，但不是来自 ModuleManager，而是来自应用程序对象，就像 Abdul 所做的那样。

请记住，init 和 onBoostrap 方法针对每个页面请求运行。在那里注册事件是可以的，但不要在那里放重的东西。我更喜欢 sharedEventManager，因为即使将来初始化服务也可以使用。

干杯!

# asp.net-mvc - 无法使用类数组作为操作输入在 mvc4 应用程序中完整读取查询字符串数据

> ID：12406511
> 
> 赞同：0
> 
> 时间：2012-09-13T12:40:10.120
> 
> 标签：asp.net-mvc, asp.net-mvc-4

我已经制作了一个 mvc4 应用程序，并且我有一个输出 png 文件的控制器，如下所示：

```
using System.Drawing;
using System.Drawing.Drawing2D;
using System.Drawing.Imaging;
using System.Drawing.Text;
using System.IO;
using System.Web.Mvc;
using Foobar.Classes;

namespace Foobar.Controllers
{
  public class ImageController : Controller
  {
    public ActionResult Index(Label[] labels)
    {
      var bmp = new Bitmap(400, 300);
      var pen = new Pen(Color.Black);
      var font = new Font("arial", 20);

      var g = Graphics.FromImage(bmp);

      g.SmoothingMode = SmoothingMode.HighQuality;
      g.TextRenderingHint = TextRenderingHint.AntiAliasGridFit;

      if (labels != null)
      {
        g.DrawString("" + labels.Length, font, pen.Brush, 20, 20);

        if (labels.Length > 0)
        {
          g.DrawString("" + labels[0].label, font, pen.Brush, 20, 40);
        }
      }

      var stream = new MemoryStream();
      bmp.Save(stream, ImageFormat.Png);

      stream.Position = 0;

      return File(stream, "image/png");
    }
  }
} 
```

Label 类如下所示：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;

namespace Foobar.Classes
{
  public class Label
  {
    public string label { get; set; }
    public int fontsize { get; set; }
  }
} 
```

当我在 url 中运行我的控制器时：

```
http://localhost:57775/image?labels[0][label]=Text+rad+1&labels[0][fontsize]=5&labels[1][fontsize]=5&labels[2][fontsize]=5 
```

我得到了正确数量的标签，因此图像将显示 3。但 Label 的实例不会填充其数据成员。我也尝试使用普通变量（而不是属性）来做到这一点。

如果它们被填写，图像实际上会显示“3”和“Text rad 1”。

那么我应该在“标签”类中添加什么来获得正确的属性？应该有某种注释吗？

我在哪里读到这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T07:50:18.330

我明白了，查询字符串是错误的，应该是这样的：

```
http://localhost:57775/image?labels[0].label=Text+rad+1&labels[0].fontsize=5&labels[1].fontsize=5&labels[2].fontsize=5 
```

# android - 如何在 android 的内部存储器中创建文件，以便稍后我可以将其附加到电子邮件

> ID：12406512
> 
> 赞同：0
> 
> 时间：2012-09-13T12:40:11.220
> 
> 标签：android, email-attachments, createfile

我想在android的内部存储器中创建文件。然后我必须将其附加到电子邮件中。请帮我。我不知道这个文件存储在哪里。？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:48:00.643

这是创建和读取文件的代码，

```
public class ReadNWriteFile extends Activity {

 final String TEST_STRING = new String("Hello Android");
 final String FILE_NAME = "SAMPLEFILE.txt";

 @Override
 public void onCreate(Bundle savedInstanceState) {
  super.onCreate(savedInstanceState);
  TextView tv = new TextView(this);
  fileCreate();
  tv.setText(readFile());
  setContentView(tv);
 }

 private void fileCreate() {
  try {
   OutputStream os = openFileOutput(FILE_NAME, MODE_WORLD_READABLE);
   OutputStreamWriter osw = new OutputStreamWriter(os);
   osw.write(TEST_STRING);
   osw.close();
  } catch (Exception e) {
   Log.i("ReadNWrite, fileCreate()", "Exception e = " + e);
  }
 }

 private String readFile() {
  try {
   FileInputStream fin = openFileInput(FILE_NAME);
   InputStreamReader isReader = new InputStreamReader(fin);
   char[] buffer = new char[TEST_STRING.length()];
   // Fill the buffer with data from file
   isReader.read(buffer);
   return new String(buffer);
  } catch (Exception e) {
   Log.i("ReadNWrite, readFile()", "Exception e = " + e);
   return null;
  }
 }
} 
```

要获得路径，`/data/data/package_name/yourFile_Name`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:57:05.343

它很容易尝试/遵循这个，我希望它会对你有所帮助

```
 @Override
     public void onCreate(Bundle savedInstanceState) {
     super.onCreate(savedInstanceState);
     setContentView(R.layout.main);

     buttonSend = (Button) findViewById(R.id.buttonSend);

    textTo = (EditText) findViewById(R.id.editTextTo);
    textSubject = (EditText) findViewById(R.id.editTextSubject);
    textMessage = (EditText) findViewById(R.id.editTextMessage);

    buttonSend.setOnClickListener(new OnClickListener() {

    @Override
    public void onClick(View v) {

        String to = textTo.getText().toString();
        String subject = textSubject.getText().toString();
        String message = textMessage.getText().toString();

        Intent i = new Intent(Intent.ACTION_SEND);
        i.setType("plain/text");
        File data = null;
        try {
            Date dateVal = new Date();
            String filename = dateVal.toString();
            data = File.createTempFile("Report", ".csv");
            FileWriter out = (FileWriter) GenerateCsv.generateCsvFile(
                    data, "Name,Data1");
            i.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(data));
            i.putExtra(Intent.EXTRA_EMAIL, new String[] { to });
            i.putExtra(Intent.EXTRA_SUBJECT, subject);
            i.putExtra(Intent.EXTRA_TEXT, message);
            startActivity(Intent.createChooser(i, "E-mail"));

        } catch (IOException e) {
            e.printStackTrace();
        }

    }
});
}

 public class GenerateCsv {
public static FileWriter generateCsvFile(File sFileName,String fileContent) {
    FileWriter writer = null;

    try {
        writer = new FileWriter(sFileName);
        writer.append(fileContent);
                     writer.flush();

    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }finally
    {
        try {
            writer.close();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }
    return writer;
} 
```

}

在 AndroidManifest.xml 文件中添加这一行：

```
 <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"></uses-       
  permission> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:41:43.753

通读[http://developer.android.com/guide/topics/data/data-storage.html](http://developer.android.com/guide/topics/data/data-storage.html)，如果您仍有疑问，请发布更具体的内容。

# javascript - javascript获取json内部值

> ID：12406516
> 
> 赞同：0
> 
> 时间：2012-09-13T12:40:34.413
> 
> 标签：javascript, json

让我有下一个对象

```
 var o = { "foo" : {"bar" : "omg"} }; 
```

我可以`foo`使用

```
o["foo"] // return {"bar" : "omg"} 
```

我可以使用 `bar`里面的键值`foo`

```
o["foo"]["bar"]  // return "omg" 
```

我可以一次使用括号获得键的`bar`值`foo`吗`[]`？
喜欢的东西

```
o["foo.bar"] // not working( 
```

或者

```
o["foo/bar"] // not working( 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:21:58.550

创建一个 getter 函数来做这样的事情是相当普遍的。来自评论：

> 我有对象 o 和字符串 'foo.bar'，我想得到“omg”。

```
var getProp = function (theObject, propString) {
    var current = theObject;
    var split = propString.split('.');

    for (var i = 0; i < split.length; i++) {
        if (current.hasOwnProperty(split[i])) {
            current = current[split[i]];
        }
    }

    return current;
}; 
```

[http://jsfiddle.net/MXu2M/](http://jsfiddle.net/MXu2M/)

注意：这是一个综合示例，您需要在将其放到您的网站之前进行防弹和增强。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:13:29.210

有一种方法，但我不确定这是你要求的：

```
eval("o.foo.bar"); 
```

虽然它很危险，并且不使用`[]`，但是如果您想要使用字符串来访问它可以工作的任何对象

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:42:17.917

不幸的是，您只能使用`o["foo"]["bar"]`或`o.foo.bar`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-13T12:43:09.133

不，您必须使用`o["foo"]["bar"]`，因为它是另一个对象中的一个对象。如果你想用“foo.bar”访问它，这意味着你必须像这样创建第一个对象：

```
var o = {"foo.bar": "omg"} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-13T12:45:19.273

`o["foo.bar"]`或`o["foo/bar"]`对您的示例无效。您可以使用这种更简洁的表示法：

```
var bar = o.foo.bar // bar will contain 'omg' 
```

# javascript - 无法让画布元素正确旋转

> ID：12406523
> 
> 赞同：2
> 
> 时间：2012-09-13T12:40:54.723
> 
> 标签：javascript, animation, canvas

我正在尝试为画布上的旋转重复图标设置动画，但它没有围绕图像中心旋转。我不确定该怎么做才能使其正常旋转。

```
setInterval(draw, 30);
    var degrees = 0.0;

    function draw() {

        var canvas = document.getElementById('tutorial');

        if (canvas.getContext) {
            var ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, 16, 16);
            degrees += 0.10;

            ctx.save();

            ctx.translate(8,8);
            ctx.rotate(degrees);

            // Draw half open circle
            ctx.beginPath();
            ctx.lineWidth = 2;
            ctx.arc(8, 8, 6, 0, 1.75 * Math.PI);
            ctx.stroke();

            // Draw arrowhead
            ctx.lineWidth = 2;
            ctx.moveTo(13, 1);
            ctx.lineTo(9, 5);
            ctx.lineTo(13, 5);
            ctx.lineTo(13, 1);
            ctx.stroke();

            ctx.restore();
        }
    } 
```

小提琴：http: [//jsfiddle.net/xTFkU/](http://jsfiddle.net/xTFkU/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:52:33.667

您正在旋转画布并进行平移，但绘制然后执行您的绘图功能，就好像画布没有被平移一样。

基本上，您需要做的是将画布转换为您正在绘制的图像宽度和高度的一半。这将使 0,0 成为图像的中心。然后从所有坐标中减去偏移量。

我所做的是添加一个偏移值，即宽度和高度除以 2。然后我将画布平移该偏移量，并从所有坐标中减去该偏移量。

**[工作演示](http://jsfiddle.net/loktar/xTFkU/2/)**

```
(function() {

    setInterval(draw, 30);
    var degrees = 0.0;
    var offset = 8;
    function draw() {

        var canvas = document.getElementById('tutorial');

        if (canvas.getContext) {
            var ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, 16, 16);
            degrees += 0.10;

            ctx.save();

            ctx.translate(offset, offset);
            ctx.rotate(degrees);

            // Draw half open circle
            ctx.beginPath();
            ctx.lineWidth = 2;
            ctx.arc(8-offset , 8-offset, 6, 0, 1.75 * Math.PI);
            ctx.stroke();

            // Draw arrowhead
            ctx.lineWidth = 2;
            ctx.moveTo(13-offset , 1-offset);
            ctx.lineTo(9-offset , 5-offset);
            ctx.lineTo(13-offset , 5-offset);
            ctx.lineTo(13-offset , 1-offset);
            ctx.stroke();

            ctx.restore();
        }
    }
})();​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:00:03.510

随着`ctx.translate(8,8);`您将坐标原点移动到画布的中心，然后旋转。您现在需要围绕中心 ( `0/0`) 画一个圆圈，而不是围绕点 ( `8/8`)：http: [//jsfiddle.net/xTFkU/4/](http://jsfiddle.net/xTFkU/4/)。或者，您可以通过以下方式将旋转的坐标系移回：http `ctx.translate(-8,-8);`: [//jsfiddle.net/xTFkU/5/](http://jsfiddle.net/xTFkU/5/)

# delphi - 德尔福精灵（旋钮）

> ID：12406529
> 
> 赞同：1
> 
> 时间：2012-09-13T12:41:13.153
> 
> 标签：delphi, user-interface, pascal

我目前正在设计一个应该包含一个旋钮的 GUI。

png 文件有点像堆叠的“电影”（缺少更好的词）。

假设图像的长度为 32，每个旋钮的高度为 32：我需要代码每转 32 下。所以在默认情况下，Timage 显示 32x32 的图像，但是当旋钮被打开时（通过鼠标点击并向上移动鼠标）它显示 32x64 的 png 等等。

我将如何继续这样做？我知道我可以单独渲染每个图像，然后一张一张地更改图像，但这似乎是一种不好的方式。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-14T18:16:31.883

我建议您研究 GUI 框架[DIB 控件](http://www.delphipages.com/comp/dib_controls-4533.html)，它包含一个旋钮组件，可以完全按照您的意愿工作（“图像精灵”可能是您缺少的词）

例如：

![DIB 在几个旋钮上控制精灵加载器和单帧](../Images/0d7691a34508e9bd51ebd1b7f9b6130b.png)

# azure - 从 Blob 存储平滑流式传输视频

> ID：12406534
> 
> 赞同：5
> 
> 时间：2012-09-13T12:41:27.627
> 
> 标签：azure, video-streaming, flash, blobstorage

我有一个 MVC 4 应用程序，其中包含一个仅显示来自 MP4 格式的 azure blob 存储的“视频”的视图。目前我使用 MediaElment.js（或任何典型的 Flash 播放器）作为视频播放器。如何以流畅的流式传输或渐进式下载（自适应流式传输）方法播放这些视频。我必须在 Azure 中设置哪些配置才能支持流式传输？在将 MP4 文件上传到 blob 存储之前，我需要做些什么吗？

我已经浏览了这个链接 [http://msdn.microsoft.com/en-us/spazuretrainingcourse_spblobstorageazure.aspx](http://msdn.microsoft.com/en-us/spazuretrainingcourse_spblobstorageazure.aspx)，据我了解，Windows Azure Blobs Uploader 用于将视频文件上传到 azure 和 silverlight 作为客户端。就我而言，视频是从单独的应用程序上传的，因此无法操作视频文件。那么除了使用 silverlight 之外，还有什么方法可以在没有任何更改的情况下实现流式传输并在视频播放器中播放？

如果我可以在上传时更改媒体文件，是否可以做任何事情？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T14:49:05.720

我几乎一直在这样做，但没有自适应流媒体（我正在处理只有 25mb 或更小的视频文件）。我在我的网页中使用 JWPlayer 作为前端，并且视频在 Azure blob 存储中。

我正在使用预先构建的 Windows 二进制 ffmpeg.exe 将其上传到 Azure（将其放在 Worker Role 项目的根目录中），然后我在 WorkerRole 中使用 System.Diagnostics.Process 来按摩视频文件。您可以执行相同的操作来创建所需的不同质量版本。

因此，当用户上传视频时，我的业务逻辑层会在 Azure 消息队列中发出一条消息，我的辅助角色会拾取它，将视频复制到 Azure LocalStorage（LocalStorage 是您可以在 Azure 项目设置文件中配置的物理磁盘），在文件上运行 ffmpeg.exe，然后将其放回 blob 存储中。

# android - 如何在android中启动和停止gif图像

> ID：12406540
> 
> 赞同：2
> 
> 时间：2012-09-13T12:41:39.257
> 
> 标签：android

在我的应用程序中，我想播放 gif 图像，我可以播放 gif 图像，但我想处理 gif 图像，例如单击开始按钮动画应该开始，如果单击停止按钮动画应该停止。

```
 strtbtn.setOnClickListener(this);

      public void onClick(View v) {
        // TODO Auto-generated method stub
        Canvas canvas=new Canvas(mBitmap);
        long now = android.os.SystemClock.uptimeMillis();
        if (mMovieStart == 0) {   // first time
            mMovieStart = now;
        }
        if (mMovie != null) {
            int dur = mMovie.duration();
            if (dur == 0) {
                dur = 1000;
            }
            int relTime = (int)((now - mMovieStart) % dur);
            mMovie.setTime(relTime);
            mMovie.draw(canvas, mBitmap2.getWidth() - mMovie.width(),
                        mBitmap2.getHeight() - mMovie.height());
      //                invalidate();
            Log.i("movie",""+mMovieStart);
            Log.i("jjhjhhnjhj",""+mMovie);
        }
    } 
```

请帮助我如何启动和停止 gif 动画图像。在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:56:45.417

步骤1

找出你想要的动画图像。它们应该是按顺序排列的，这样我们才能意识到它是连续翻转的。GIF，PNG等图像文件类型。找到后，将它们复制并通过复制粘贴的方式放置它们

“你的项目” -> res -> drawable-mdpi -> 粘贴图片

Drawable 分为三类

```
hdpi-> high dots per inch
ldpi->large dots per inch
mdpi->medium dots per inch 
```

第2步

有两种方法可以执行此动画。1) 通过创建“BitmapDrawable”对象，2) 通过创建“动画”xml 文件。我们将一一看到这两种方法。

使用“BitmapDrawable”

```
Syntax:

BitmapDrawable object=(BitmapDrawable) getResources().getDrawable(R.drawable.<image_name>);

Example

Suppose I have image named "sample.png" in "res.drawable" directory, then

 BitmapDrawable frame1=(BitmapDrawable)getResources().getDrawable(R.drawable.sample);

 AnimationDrawable animation = new AnimationDrawable();

Now, we can add frames which we have created above as like you want.

Syntax:

 AnimationDrawable.addFrame(BitmapDrawable,duration);

Example

 animation.addFrame(frame1,1000);

In this animation, while you start this animation, it will stop after last added frame. If you like to continue this animation, following method must be implemented. 
```

动画.setOneShot(false);

```
Now, bind "ImageView" object of layout

  ImageView img=(ImageView)findViewById(R.id.imageView1);
    img.setBackgroundDrawable(animation);   

    animation.start();
    animation.stop();

Description:
    Duration is in milliseconds.
    setBackgroundDrawable(animation) method will set background with animation and give control over animation.
    start() method will start your animation and stop() will stop this animation.

  <?xml version="1.0" encoding="utf-8"?>
    <animation-list
      xmlns:android=http://schemas.android.com/apk/res/android
      android:oneshot="false">
      <item android:drawable="@drawable/sample1" android:duration="50"/>
      <item android:drawable="@drawable/sample2" android:duration="50"/>
      <item android:drawable="@drawable/sample3" android:duration="50"/>
    </animation-list>

In above code, I have added 3 frames with "android:drawable" attribute and duration in milliseconds.

Now, bind "ImageView" object with layout and implement following methods.

  ImageView img=(ImageView)findViewById(R.id.imageView1);
    img.setImageBitmap(null);
    img.setBackgroundResource(R.anim.animation);

Next, create object of "AnimatinDrawable" and give background to "AnimationDrawable" so that it can handle it.

  AnimationDrawable animation = (AnimationDrawable) img.getBackground();
    animation.start();
    animation.stop(); 
```

使用“BitmapDrawable”

主.java

```
package com.animationapp;

import android.app.Activity;
import android.graphics.drawable.AnimationDrawable;
import android.graphics.drawable.BitmapDrawable;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;

public class AnimationAppActvity extends Activity {
    /** Called when the activity is first created. */

    ImageView img;
    Button btnStart,btnStop;
    AnimationDrawable animation;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        int duration = 150;
        img = (ImageView)findViewById(R.id.imageView1);

        BitmapDrawable frame1 =
            (BitmapDrawable)getResources().getDrawable(R.drawable.d1);
        BitmapDrawable frame2 =
            (BitmapDrawable)getResources().getDrawable(R.drawable.d2);
        BitmapDrawable frame3 =
            (BitmapDrawable)getResources().getDrawable(R.drawable.d3);       

        animation = new AnimationDrawable();       
        animation.addFrame(frame1, duration);
        animation.addFrame(frame2, duration);
        animation.addFrame(frame3, duration);

        animation.setOneShot(false);

        img.setBackgroundDrawable(animation);

        btnStart = (Button)findViewById(R.id.btnStart);
        btnStop = (Button)findViewById(R.id.btnStop);

        btnStart.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
                  // TODO Auto-generated method stub
                  animation.start();
            }
        });

        btnStop.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
             // TODO Auto-generated method stub
             animation.stop();
             }
        });
    }
} 
```

布局文件

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    >
<TextView 
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="@string/hello"
    />
<ImageView
      android:layout_height="wrap_content"
      android:id="@+id/imageView1"
      android:layout_width="wrap_content"
      android:minHeight="191px" android:minWidth="285px">
</ImageView>
<Button
      android:text="Start"
      android:id="@+id/btnStart"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content">
</Button>
<Button
      android:text="Stop"
      android:id="@+id/btnStop"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content">
</Button>
</LinearLayout> 
```

使用“animation.xml”文件

```
package com.AnimApp;

import android.app.Activity;
import android.graphics.drawable.AnimationDrawable;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView; 

public class AnimAppActivity extends Activity {
    /** Called when the activity is first created. */

      Button btnStart,btnStop;
      ImageView img;
      AnimationDrawable animation;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        btnStart=(Button)findViewById(R.id.button1);
        btnStop=(Button)findViewById(R.id.button2);

        img=(ImageView)findViewById(R.id.imageView1);       
        img.setBackgroundResource(R.anim.animation);
        animation=(AnimationDrawable)img.getBackground();

        btnStart.setOnClickListener(new View.OnClickListener() {   
              @Override
              public void onClick(View v) {
                   // TODO Auto-generated method stub
                   animation.start();
              }
        });

        btnStop.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
            // TODO Auto-generated method stub
            animation.stop();
            }
        });
    }
} 
```

动画.xml

```
<?xml version="1.0" encoding="utf-8"?>
<animation-list
  xmlns:android="http://schemas.android.com/apk/res/android"
  android:oneshot="false">
  <item android:drawable="@drawable/d1" android:duration="50"/>
  <item android:drawable="@drawable/d2" android:duration="50"/>
  <item android:drawable="@drawable/d3" android:duration="50"/>
</animation-list> 
```

# php - 使用未定义的常量 STDOUT - 假定为“STDOUT”

> ID：12406549
> 
> 赞同：1
> 
> 时间：2012-09-13T12:42:02.820
> 
> 标签：php, apache, postgresql, postgresql-9.1, proc-open

我正在运行以下`proc_open`功能。加载页面时，我收到错误消息：

```
Use of undefined constant STDOUT - assumed 'STDOUT'` 
```

我应该如何设置`STDOUT`和`STSDERR`正确？

**PHP 代码段**

```
$cmd = 'psql -p 5432 -d nominatim';

$descriptorspec = array(
   0 => array("pipe", "r"),  // stdin is a pipe that the child will read from
   1 => STDOUT,  // stdout is a pipe that the child will write to
   2 => STDERR // stderr is a file to write to
);

$pipes = null;

$process = proc_open($cmd, $descriptorspec, $pipes); 
```

* * *

## 更新

```
<?php

    $cmd = 'psql -p 5432 -d nominatim';

    $descriptorspec = array(
        0 => array('pipe', 'r'), // stdin
        1 => array('pipe', 'w'), // stdout
        2 => array('pipe', 'a') // stderr
    );

    $pipes = null;

    $process = proc_open($cmd, $descriptorspec, $pipes);

?> 
```

当我在命令行（CentOS）中`chmod 755 test.php`运行`./test.php`时，我得到错误输出：

```
: No such file or directory
: command not found
./test.php: line 3: =: command not found
: command not found
: command not found
./test.php: line 5: syntax error near unexpected token `('
'/test.php: line 5: `   $descriptorspec = array( 
```

这令人费解，`=`是不是命令？

* * *

## 更新 2

```
#!/usr/bin/php <?php

    $cmd = 'psql -p 5432 -d nominatim';

    $descriptorspec = array(
        0 => array('pipe', 'r'), // stdin
        1 => array('pipe', 'w'), // stdout
        2 => array('pipe', 'a') // stderr
    );

    $pipes = null;

    $process = proc_open($cmd, $descriptorspec, $pipes);

?> 
```

我得到输出：

```
Status: 404 Not Found
X-Powered-By: PHP/5.3.16
Content-type: text/html

No input file specified. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:49:03.543

您可以使用：

```
$descriptorspec = array(
    0 => array('pipe', 'r'), // stdin
    1 => array('pipe', 'w'), // stdout
    2 => array('pipe', 'a') // stderr
); 
```

反而

看看[说明书](http://php.net/manual/en/function.proc-open.php)

# android - 共享首选项不保存数据

> ID：12406551
> 
> 赞同：0
> 
> 时间：2012-09-13T12:42:05.937
> 
> 标签：android, sharedpreferences

我正在使用 sharedpreffrence 存储切换按钮的状态。如果选中切换按钮，我将设置为“ON”，如果未选中切换按钮，则设置为“OFF”。但是当我检索状态时，它总是返回“ON” 这是代码

```
SharedPreferences.Editor  shfEditMessageSMS;
SharedPreferences  shfResponderMessage;
shfResponderMessage=getSharedPreferences("MESSAGE", Context.MODE_PRIVATE);
shfEditMessageSMS=shfResponderMessage.edit();

toggleStatus=(ToggleButton)findViewById(R.id.toggleButtonStatus);

toggleStatus.setOnClickListener(new View.OnClickListener()
{           
    public void onClick(View v)
    {
        // TODO Auto-generated method stub
        if(((ToggleButton)v).isChecked())
        {
            shfEditMessageSMS.putString("SMSRESPONDERONOFF", "ON");
            shfEditMessageSMS.commit();

            showNotification("ON");                   
        }
        else
        {
            shfEditMessageSMS=shfResponderMessage.edit();
            shfEditMessageSMS.putString("SMSRESPONDERONOFF", "OFF");
            shfEditMessageSMS.commit();

            showNotification("OFF");
            String SMSResponderOnOrOff=shfResponderMessage.getString("SMSRESPONDERONOFF", "NONE");
            Log.i("SMS Responder on click "+SMSResponderOnOrOff," "); 
        }
    }
}); 
```

正如您在代码中看到的那样，如果未选中切换按钮，我正在做

```
shfEditMessageSMS.putString("SMSRESPONDERONOFF", "OFF");
shfEditMessageSMS.commit(); 
```

但是当我使用日志检索和打印时

```
String SMSResponderOnOrOff=shfResponderMessage.getString("SMSRESPONDERONOFF", "NONE");
Log.i("SMS Responder on click "+SMSResponderOnOrOff," "); 
```

它总是在日志中显示“ON”。

可能是什么问题呢。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:19:42.800

我在我的应用程序中实现了相同的东西。可能会帮助您解决问题。尽管无法找出您在代码中犯的错误。请参考下面的代码。

```
boolean on; 
 public SharedPreferences spref; 
  final String PREF_NAME="preferences"; 
 ToggleButton tb;

@Override protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState); 
    setContentView(R.layout.fb_intermidiate);
    spref = getSharedPreferences(PREF_NAME, MODE_PRIVATE);
    tb = (ToggleButton) findViewById(R.id.toggleButton1);
    on = spref.getBoolean("On", true);  //default is true
    if (on = true) 
    {
      tb.setChecked(true);
    }       else
    {
      tb.setChecked(false);
    }
    back = (Button)findViewById(R.id.button_back); 
    //back.setText(R.string.back_button_in_settings);
    back.setOnClickListener(new View.OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            finish();
        }
    });  } 

public void onToggleClicked(View view) {

    on = ((ToggleButton) view).isChecked();
    if (on) {
        Toast.makeText(this, "On : Notification will be Enabled", Toast.LENGTH_SHORT).show();
        SharedPreferences.Editor editor = spref.edit();
        editor.putBoolean("On", true); // value to store
        editor.commit();

    } else {
    Toast.makeText(this, "Off : Notification will be Disabled", Toast.LENGTH_SHORT).show();
        SharedPreferences.Editor editor =spref.edit();
        editor.putBoolean("On", false); // value to store
        editor.commit();
    }   } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:48:28.693

我有一个类似的问题，但保存一个字符串数组。我通过在每次保存时增加一个变量来“解决”这个问题。

```
 public void saveProfileList(Context context) {
            SharedPreferences sharedprefs = context.getSharedPreferences(PREFS_NAME,Activity.MODE_PRIVATE);
            Editor editor = sharedprefs.edit();
            editor.putStringSet("vpnlist", profiles.keySet());

            // For reasing I do not understand at all 
            // Android saves my prefs file only one time 
            // if I remove the debug code below :(
            int counter = sharedprefs.getInt("counter", 0);
            editor.putInt("counter", counter+1);
            editor.apply();

    } 
```

android 代码中的某处似乎存在一个错误，它并不总是检测到 sharedpreferences 已更改。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T13:36:57.400

我有一个模糊的回忆，可能需要一段时间才能正确读回该值。您可以通过封装该值并将其存储在一个变量中来解决这个问题，您也可以从该变量中检索它。您还应该考虑使用`apply()`而不是，`commit()`因为它不会中断 UI 线程。因此，我提出类似的建议：

```
public class Preferences {
    private SharedPreferences mPrefs;
    private static final String KEY = "SMSRESPONDERONOFF";
    private String mValue;

    public Preferences(SharedPreferences prefs) {
        mPrefs = prefs;
    }

    public String getValue() {
        if (mValue == null) {
            mValue = mPrefs.getString(KEY, "NONE");
        }

        return mValue;
    }

    public void setValue(String value) {
        mValue = value;
        mPrefs.edit().putString(KEY, value).apply();
    }
} 
```

# c# - 处理动态加载的用户控件的按钮单击事件？

> ID：12406556
> 
> 赞同：1
> 
> 时间：2012-09-13T12:42:17.213
> 
> 标签：c#, asp.net, user-controls, event-handling

我正在尝试从我的主机页面处理动态加载的用户控件的按钮单击事件。我的相关代码发布在下面，我认为我走在正确的道路上，但我还需要什么才能正确实现此功能？我目前收到“错误绑定到目标方法”。当我尝试创建用户控件时。提前感谢您的任何帮助！

**aspx**

```
<asp:UpdatePanel ID="upLeadComm" runat="server" UpdateMode="Conditional">
    <ContentTemplate>
        <asp:PlaceHolder ID="phComm" runat="server"></asp:PlaceHolder>
    </ContentTemplate>
</asp:UpdatePanel> 
```

**aspx.cs**

```
else if (e.CommandName == "GetComm")
{
    string[] cplArg = e.CommandArgument.ToString().Split('§');

    UserControl ucLeadComm = (UserControl)LoadControl("Controls/Comments.ascx");

    // Set the Usercontrol Type 
    Type ucType = ucLeadComm.GetType();

    // Get access to the property 
    PropertyInfo ucPropLeadID = ucType.GetProperty("LeadID");
    PropertyInfo ucPropLeadType = ucType.GetProperty("LeadType");

    EventInfo ucEventInfo = ucType.GetEvent("BtnCommClick");
    MethodInfo ucMethInfo = ucType.GetMethod("btnComm_Click");
    Delegate handler = Delegate.CreateDelegate(ucEventInfo.EventHandlerType, ucType, ucMethInfo);
    ucEventInfo.AddEventHandler(ucType, handler);

    // Set the property 
    ucPropLeadID.SetValue(ucLeadComm, Convert.ToInt32(cplArg[0]), null);
    ucPropLeadType.SetValue(ucLeadComm, cplArg[1], null);

    phComm.Controls.Add(ucLeadComm);

   upLeadComm.Update();
} 
```

**ascx.cs**

```
public int LeadID { get; set; }
public string LeadType { get; set; }
public event EventHandler BtnCommClick;

public void btnComm_Click(object sender, EventArgs e)
{
    BtnCommClick(sender, e);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:06:04.607

> 我从这一行收到错误：Delegate handler = Delegate.CreateDelegate(ucEventInfo.EventHandlerType, ucType, ucMethInfo);

问题是您的传递`ucType`，而您应该传递您的 UserControl 的实例，所以尝试这样做：

```
Delegate handler = Delegate.CreateDelegate(ucEventInfo.EventHandlerType, ucLeadComm, ucMethInfo); 
```

我不确定这`ucLeadComm`是 UserControl 的一个例子，因为我从来没有使用过，`LoadControl()`所以如果它不是 use:[`Activator.CreateInstance();`](http://msdn.microsoft.com/en-us/library/system.activator.createinstance.aspx)或者使用它来创建你的对象的实例。 `GetContructor()``Invoke()`

**编辑1：**

> 感谢您的回复，我现在收到“对象与目标类型不匹配”。在下一行：ucEventInfo.AddEventHandler(ucType, handler);

同样在该行中，您应该传递您的实例`UserControl`而不是`ucType`.

**编辑2：**

> 非常感谢您的帮助！该项目构建并且不会引发任何错误。但是，当单击按钮时，如何将其重新绑定到 aspx 页面中的方法以实际执行某些操作？

如果我理解这种情况，您应该在您的*aspx.cs*中创建该方法：

```
public void btnComm_Click(object sender, EventArgs e)
{
   //Here what you want to do in the aspx.cs
} 
```

And then create another `handler` creating a `MethodInfo` tied to `btnComm_Click` contained in the *aspx.cs* and passing it to `Delegate.CreateDelegate()`:

```
MethodInfo ucMethInfo = this.GetType().GetMethod("btnComm_Click"); 
```

# encoding - Z3 唯一分配

> ID：12406557
> 
> 赞同：0
> 
> 时间：2012-09-13T12:42:25.393
> 
> 标签：encoding, z3

我有一个名为 as 的未解释函数`uniqueFunc`。现在，我想为 0 到 16 的每个索引分配一个唯一的数字 1 到 17。所以我的代码是 -

```
(declare-fun uniqueFunc (Int) Int)

(assert (and (> (uniqueFunc 0) 0) (< (uniqueFunc 0) 18)))
(assert (and (> (uniqueFunc 1) 0) (< (uniqueFunc 1) 18)))
(assert (and (> (uniqueFunc 2) 0) (< (uniqueFunc 2) 18)))
(assert (and (> (uniqueFunc 3) 0) (< (uniqueFunc 3) 18)))
(assert (and (> (uniqueFunc 4) 0) (< (uniqueFunc 4) 18)))
(assert (and (> (uniqueFunc 5) 0) (< (uniqueFunc 5) 18)))
(assert (and (> (uniqueFunc 6) 0) (< (uniqueFunc 6) 18)))
(assert (and (> (uniqueFunc 7) 0) (< (uniqueFunc 7) 18)))
(assert (and (> (uniqueFunc 8) 0) (< (uniqueFunc 8) 18)))
(assert (and (> (uniqueFunc 9) 0) (< (uniqueFunc 9) 18)))
(assert (and (> (uniqueFunc 10) 0) (< (uniqueFunc 10) 18)))
(assert (and (> (uniqueFunc 11) 0) (< (uniqueFunc 11) 18)))
(assert (and (> (uniqueFunc 12) 0) (< (uniqueFunc 12) 18)))
(assert (and (> (uniqueFunc 13) 0) (< (uniqueFunc 13) 18)))
(assert (and (> (uniqueFunc 14) 0) (< (uniqueFunc 14) 18)))
(assert (and (> (uniqueFunc 15) 0) (< (uniqueFunc 15) 18)))
(assert (and (> (uniqueFunc 16) 0) (< (uniqueFunc 16) 18)))

(assert (and (not (= (uniqueFunc 0) (uniqueFunc 1)))
     (not (= (uniqueFunc 0) (uniqueFunc 2)))
     (not (= (uniqueFunc 0) (uniqueFunc 3)))
     (not (= (uniqueFunc 0) (uniqueFunc 4)))
     (not (= (uniqueFunc 0) (uniqueFunc 5)))
     (not (= (uniqueFunc 0) (uniqueFunc 6)))
     (not (= (uniqueFunc 0) (uniqueFunc 7)))
     (not (= (uniqueFunc 0) (uniqueFunc 8)))
     (not (= (uniqueFunc 0) (uniqueFunc 9)))
     (not (= (uniqueFunc 0) (uniqueFunc 10)))
     (not (= (uniqueFunc 0) (uniqueFunc 11)))
     (not (= (uniqueFunc 0) (uniqueFunc 12)))
     (not (= (uniqueFunc 0) (uniqueFunc 13)))
     (not (= (uniqueFunc 0) (uniqueFunc 14)))
     (not (= (uniqueFunc 0) (uniqueFunc 15)))
     (not (= (uniqueFunc 0) (uniqueFunc 16)))
     (not (= (uniqueFunc 1) (uniqueFunc 2)))
     (not (= (uniqueFunc 1) (uniqueFunc 3)))
     (not (= (uniqueFunc 1) (uniqueFunc 4)))
     (not (= (uniqueFunc 1) (uniqueFunc 5)))
     (not (= (uniqueFunc 1) (uniqueFunc 6)))
     (not (= (uniqueFunc 1) (uniqueFunc 7)))
     (not (= (uniqueFunc 1) (uniqueFunc 8)))
     (not (= (uniqueFunc 1) (uniqueFunc 9)))
     (not (= (uniqueFunc 1) (uniqueFunc 10)))
     (not (= (uniqueFunc 1) (uniqueFunc 11)))
     (not (= (uniqueFunc 1) (uniqueFunc 12)))
     (not (= (uniqueFunc 1) (uniqueFunc 13)))
     (not (= (uniqueFunc 1) (uniqueFunc 14)))
     (not (= (uniqueFunc 1) (uniqueFunc 15)))
     (not (= (uniqueFunc 1) (uniqueFunc 16)))
     (not (= (uniqueFunc 2) (uniqueFunc 3)))
     (not (= (uniqueFunc 2) (uniqueFunc 4)))
     (not (= (uniqueFunc 2) (uniqueFunc 5)))
     (not (= (uniqueFunc 2) (uniqueFunc 6)))
     (not (= (uniqueFunc 2) (uniqueFunc 7)))
     (not (= (uniqueFunc 2) (uniqueFunc 8)))
     (not (= (uniqueFunc 2) (uniqueFunc 9)))
     (not (= (uniqueFunc 2) (uniqueFunc 10)))
     (not (= (uniqueFunc 2) (uniqueFunc 11)))
     (not (= (uniqueFunc 2) (uniqueFunc 12)))
     (not (= (uniqueFunc 2) (uniqueFunc 13)))
     (not (= (uniqueFunc 2) (uniqueFunc 14)))
     (not (= (uniqueFunc 2) (uniqueFunc 15)))
     (not (= (uniqueFunc 2) (uniqueFunc 16)))
     (not (= (uniqueFunc 3) (uniqueFunc 4)))
     (not (= (uniqueFunc 3) (uniqueFunc 5)))
     (not (= (uniqueFunc 3) (uniqueFunc 6)))
     (not (= (uniqueFunc 3) (uniqueFunc 7)))
     (not (= (uniqueFunc 3) (uniqueFunc 8)))
     (not (= (uniqueFunc 3) (uniqueFunc 9)))
     (not (= (uniqueFunc 3) (uniqueFunc 10)))
     (not (= (uniqueFunc 3) (uniqueFunc 11)))
     (not (= (uniqueFunc 3) (uniqueFunc 12)))
     (not (= (uniqueFunc 3) (uniqueFunc 13)))
     (not (= (uniqueFunc 3) (uniqueFunc 14)))
     (not (= (uniqueFunc 3) (uniqueFunc 15)))
     (not (= (uniqueFunc 3) (uniqueFunc 16)))
     (not (= (uniqueFunc 4) (uniqueFunc 5)))
     (not (= (uniqueFunc 4) (uniqueFunc 6)))
     (not (= (uniqueFunc 4) (uniqueFunc 7)))
     (not (= (uniqueFunc 4) (uniqueFunc 8)))
     (not (= (uniqueFunc 4) (uniqueFunc 9)))
     (not (= (uniqueFunc 4) (uniqueFunc 10)))
     (not (= (uniqueFunc 4) (uniqueFunc 11)))
     (not (= (uniqueFunc 4) (uniqueFunc 12)))
     (not (= (uniqueFunc 4) (uniqueFunc 13)))
     (not (= (uniqueFunc 4) (uniqueFunc 14)))
     (not (= (uniqueFunc 4) (uniqueFunc 15)))
     (not (= (uniqueFunc 4) (uniqueFunc 16)))
     (not (= (uniqueFunc 5) (uniqueFunc 6)))
     (not (= (uniqueFunc 5) (uniqueFunc 7)))
     (not (= (uniqueFunc 5) (uniqueFunc 8)))
     (not (= (uniqueFunc 5) (uniqueFunc 9)))
     (not (= (uniqueFunc 5) (uniqueFunc 10)))
     (not (= (uniqueFunc 5) (uniqueFunc 11)))
     (not (= (uniqueFunc 5) (uniqueFunc 12)))
     (not (= (uniqueFunc 5) (uniqueFunc 13)))
     (not (= (uniqueFunc 5) (uniqueFunc 14)))
     (not (= (uniqueFunc 5) (uniqueFunc 15)))
     (not (= (uniqueFunc 5) (uniqueFunc 16)))
     (not (= (uniqueFunc 6) (uniqueFunc 7)))
     (not (= (uniqueFunc 6) (uniqueFunc 8)))
     (not (= (uniqueFunc 6) (uniqueFunc 9)))
     (not (= (uniqueFunc 6) (uniqueFunc 10)))
     (not (= (uniqueFunc 6) (uniqueFunc 11)))
     (not (= (uniqueFunc 6) (uniqueFunc 12)))
     (not (= (uniqueFunc 6) (uniqueFunc 13)))
     (not (= (uniqueFunc 6) (uniqueFunc 14)))
     (not (= (uniqueFunc 6) (uniqueFunc 15)))
     (not (= (uniqueFunc 6) (uniqueFunc 16)))
     (not (= (uniqueFunc 7) (uniqueFunc 8)))
     (not (= (uniqueFunc 7) (uniqueFunc 9)))
     (not (= (uniqueFunc 7) (uniqueFunc 10)))
     (not (= (uniqueFunc 7) (uniqueFunc 11)))
     (not (= (uniqueFunc 7) (uniqueFunc 12)))
     (not (= (uniqueFunc 7) (uniqueFunc 13)))
     (not (= (uniqueFunc 7) (uniqueFunc 14)))
     (not (= (uniqueFunc 7) (uniqueFunc 15)))
     (not (= (uniqueFunc 7) (uniqueFunc 16)))
     (not (= (uniqueFunc 8) (uniqueFunc 9)))
     (not (= (uniqueFunc 8) (uniqueFunc 10)))
     (not (= (uniqueFunc 8) (uniqueFunc 11)))
     (not (= (uniqueFunc 8) (uniqueFunc 12)))
     (not (= (uniqueFunc 8) (uniqueFunc 13)))
     (not (= (uniqueFunc 8) (uniqueFunc 14)))
     (not (= (uniqueFunc 8) (uniqueFunc 15)))
     (not (= (uniqueFunc 8) (uniqueFunc 16)))
     (not (= (uniqueFunc 9) (uniqueFunc 10)))
     (not (= (uniqueFunc 9) (uniqueFunc 11)))
     (not (= (uniqueFunc 9) (uniqueFunc 12)))
     (not (= (uniqueFunc 9) (uniqueFunc 13)))
     (not (= (uniqueFunc 9) (uniqueFunc 14)))
     (not (= (uniqueFunc 9) (uniqueFunc 15)))
     (not (= (uniqueFunc 9) (uniqueFunc 16)))
     (not (= (uniqueFunc 10) (uniqueFunc 11)))
     (not (= (uniqueFunc 10) (uniqueFunc 12)))
     (not (= (uniqueFunc 10) (uniqueFunc 13)))
     (not (= (uniqueFunc 10) (uniqueFunc 14)))
     (not (= (uniqueFunc 10) (uniqueFunc 15)))
     (not (= (uniqueFunc 10) (uniqueFunc 16)))
     (not (= (uniqueFunc 11) (uniqueFunc 12)))
     (not (= (uniqueFunc 11) (uniqueFunc 13)))
     (not (= (uniqueFunc 11) (uniqueFunc 14)))
     (not (= (uniqueFunc 11) (uniqueFunc 15)))
     (not (= (uniqueFunc 11) (uniqueFunc 16)))
     (not (= (uniqueFunc 12) (uniqueFunc 13)))
     (not (= (uniqueFunc 12) (uniqueFunc 14)))
     (not (= (uniqueFunc 12) (uniqueFunc 15)))
     (not (= (uniqueFunc 12) (uniqueFunc 16)))
     (not (= (uniqueFunc 13) (uniqueFunc 14)))
     (not (= (uniqueFunc 13) (uniqueFunc 15)))
     (not (= (uniqueFunc 13) (uniqueFunc 16)))
     (not (= (uniqueFunc 14) (uniqueFunc 15)))
     (not (= (uniqueFunc 14) (uniqueFunc 16)))
     (not (= (uniqueFunc 15) (uniqueFunc 16))))) 
```

有更好的方法吗？

谢谢， 普拉纳夫

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:57:10.783

是的，Z3有`distinct`表情。这将为您完成所有不相等的排列。以下是 API 说明：

[http://research.microsoft.com/en-us/um/redmond/projects/z3/ml/z3.html#VALmk_distinct](http://research.microsoft.com/en-us/um/redmond/projects/z3/ml/z3.html#VALmk_distinct)

对于您的示例：

`(assert (distinct (uniqueFunc 0) (uniqueFunc 1) (uniqueFunc 2) (uniqueFunc 3) (uniqueFunc 4) (uniqueFunc 5) (uniqueFunc 6) (uniqueFunc 7) (uniqueFunc 8) (uniqueFunc 9) (uniqueFunc 10) (uniqueFunc 11) (uniqueFunc 12) (uniqueFunc 13) (uniqueFunc 14) (uniqueFunc 15) (uniqueFunc 16)))`

# ios - CoreAudio，收集准确数量的样本

> ID：12406559
> 
> 赞同：1
> 
> 时间：2012-09-13T12:42:30.570
> 
> 标签：ios, cocoa-touch, audio, core-audio

我正在阅读带有`AVAssetReaderAudioMixOutput`. 所以我会得到`AudioBuffer`通常 2*8192 样本的对象。现在我想对每 1024 个样本移动 1024 的 2*44100 个样本进行一些分析。有没有一种简单的方法来收集准确数量的样本？还是我必须自己构建所有这些？是否有一个像环形缓冲区这样的集合可以很好地使用`AudioBuffer`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T20:11:56.210

我发现最好的方法是使用 TPCircularBuffer (https://github.com/michaeltyson/TPCircularBuffer)。它有一个类可以直接处理 AudioBuffer 对象。所以我将它们放入缓冲区，直到缓冲区中有 2*44100 字节，然后我删除最后的 2*8192 字节。奇迹般有效！

# android - Android 3.1 上的虚拟键盘故障 - PhoneGap 解决方案？

> ID：12406563
> 
> 赞同：2
> 
> 时间：2012-09-13T12:42:46.747
> 
> 标签：android, html, cordova, browser, input

当我在我的 Android 3.1 设备上查看带有 HTML5 表单的网页并点击 type="number" 的输入时，会弹出虚拟键盘，其中带有标记为“Next”的继续按钮 - 尽管没有页面上的其他输入（除了提交按钮）。我输入一个有效的数字，点击这个“下一步”按钮，没有任何反应。

如果我然后点击网页上的其他地方，虚拟键盘就会消失，然后再次点击相同的输入，继续按钮标签会神奇地变为“完成”！所以我然后输入一个有效的数字，点击这个“完成”按钮，键盘很好地消失在视野之外。

我的问题：我怎样才能让他的“完成”按钮从一开始就出现？当我将我的应用程序视为 Web 应用程序以及使用 PhoneGap 包装为本机/混合应用程序时，都会出现此问题。最终，我的应用程序将是本机/混合 PhoneGap 应用程序，因此该级别的解决方案会很好。

# c# - 网络凭据未保存在 CredentialCache 中

> ID：12406566
> 
> 赞同：2
> 
> 时间：2012-09-13T12:43:04.753
> 
> 标签：c#, asp.net, .net, networkcredentials

我必须将凭据缓存中的用户名和密码分配给 Httpwebrequest。当我分配给缓存时，它正在工作，但是从缓存中分配给 Webrequest 时，它显示为空。我哪里错了？

```
string strServer = "";
        strServer = "http://servername/";
        Uri uri = new Uri(strServer);
        HttpWebRequest request = (HttpWebRequest)WebRequest.Create(uri);
        CredentialCache cache = new CredentialCache();  
        cache.Add(new Uri(strServer), "Basic", new System.Net.NetworkCredential("username", "password","Domain"));
        cache.Add(new Uri(strServer), "Digest", new System.Net.NetworkCredential("username", "password","Domain"));
        request.Credentials = cache; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-12-13T13:43:42.913

您好，您只需从缓存中检索凭证，然后将其添加到 Web 请求中，示例如下：

```
 cache.Add(new Uri(strServer), "Basic", new System.Net.NetworkCredential("username", "password","Domain"));
    cache.Add(new Uri(strServer), "Digest", new System.Net.NetworkCredential("username", "password","Domain"));    

    NetworkCredential  currentCredentials= cache.GetCredential(new Uri(strServer), "Basic");  //Get specific credential
    request.Credentials = currentCredentials; //Allocate credential 
```

# jquery - jquery mobile的混合搭配组件

> ID：12406572
> 
> 赞同：1
> 
> 时间：2012-09-13T12:43:21.447
> 
> 标签：jquery, cordova, jquery-mobile

这可能是一个愚蠢的问题，但是有谁知道混合 Jquery Mobile 组件的效果。

我问是因为我有一个在旧版本的 Jquery 移动设备上运行的 ios 应用程序，并决定将它变成一个 android 应用程序。但是 HTC 上的输入框有一个错误，所以我升级到了更新版本的 Jquery mobile。这修复了文本框，但破坏了我所有的样式。

那么有没有办法保留旧的 Jquery 移动样式表并使用更新的 Jquery 移动 .js 文件？有人试过这个吗？

我正在考虑的确切组合是：

```
Cordova 2.0.0
jquery-1.8.1.min.js
jquery.mobile-1.2.0-beta.1.min.js
jquery.mobile-1.1.0.min.cs 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T10:19:14.947

在尝试了这个并混合了上面的组合之后，尽管你可以使用足够的代码来让它工作。事实证明，这不仅仅是重新设计一切的工作。就像@Jack 评论的那样，还有自定义构建的选项。所以它的工作量大致相同。但是，我不建议在尝试后混合和匹配。

# javascript - 从信息框调用弹出式图片库？

> ID：12406575
> 
> 赞同：0
> 
> 时间：2012-09-13T12:43:34.750
> 
> 标签：javascript, popup, image-gallery

在我的博客文件夹中，我有两个子文件夹：地图和画廊。Map 有一个带有餐厅图标的交互式城市地图，gallery 有每个餐厅的图像子文件夹。每个餐厅的图像文件夹当前包含两个附加文件：“get_images.php”从文件夹内容创建图像数组，“index.html”从该数组生成画廊。我可以使用地图上的信息框为每家餐厅调用弹出式图片库：

```
boxText.innerHTML="<a href='javascript:popUp("+'"../gallery/'+restaurant+'/index.html"'+")'>gallery</a><br/>" 
```

其中“restaurant”变量是从 mySql 数据库中提取的，“popUp”是一个创建弹出窗口的函数。

这很麻烦，我想消除在每个餐厅文件夹中都有 get_images.php 和 index.html 文件的需要。我可以将 get_images.php 放在任何地方并从主脚本中调用它，但我正在努力寻找一种方法来调用位于弹出窗口中 index.html 中的 rotate_images() 函数。这是功能：

```
var curimg=0
function rotate_images(){
document.getElementById("gallery").setAttribute("src", ""+galleryarray[curimg])
curimg=(curimg<galleryarray.length-1)? curimg+1 : 0
} 
```

我试过了

```
"<a href=   'javascript:rotate_images(" + '"' + '../gallery/pizzahut/files/' + galleryarray[curimg] + '"' + ")'>gallery</a><br/>"; 
```

当我将鼠标悬停在链接上时，它显示 'javascript:rotate_images("../gallery/pizzahut/files/pizzahut1.jpg")'，但当我点击它时什么也没有。我假设这是因为我没有包含“img id”标签，但我不知道在哪里放置它以指示弹出窗口。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:06:36.053

将您的函数`rotate_images`放在一个名为`map.js`例如的文件中。然后将此文件包含在任何需要该功能的 html 页面中。

例子 ：

**索引.html**

```
<head>
<!-- include map.js here -->
<script src="path/to/map.js"></script>
</head>
<body>
(...)
<a href="#" onclick='javascript:rotate_images(" + '"' + '../gallery/pizzahut/files/' + galleryarray[curimg] + '"' + ");return false'>gallery</a><br/>
(...)
</body> 
```

# android - android SherlockFragmentActivity - 如何保存值以进一步启动同一活动

> ID：12406576
> 
> 赞同：0
> 
> 时间：2012-09-13T12:43:43.193
> 
> 标签：android

我在使用 minSdkVersion 8 运行的应用程序中使用了很棒的 ActionBarSherlock 库。

我必须学习的最后一点是如何为同一个 SherlockFragmentActivity 的进一步调用保存值（中间没有活动被破坏）

到目前为止我尝试的所有方法似乎都不起作用

*   底层支持库不支持 setRetainInstance()
*   onRetainNonConfigurationInstance -> 无法覆盖 FragmentActivity 的最终方法
*   onRetainCustomNonConfigurationInstance 似乎没有被调用

我希望我能监督一些简单的事情。基本上我想存储一些值，这样当用户单击主页按钮时我可以保留一个状态（操作菜单向上..）如何解决这个问题？

非常感谢

马丁

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:49:47.993

您只需将有关活动状态的信息保存到永久存储中。我建议查看[sharedpreferences](http://developer.android.com/reference/android/content/SharedPreferences.html)

ABS 的当前底层支持库 (r7)也支持`setRetainInstance()` **IS 。**

# networking - 在java中监控自己的网络流量

> ID：12406577
> 
> 赞同：1
> 
> 时间：2012-09-13T12:43:48.870
> 
> 标签：networking, jakarta-mail

我有一个 Java 程序，它连接到 Internet 并发送文件（带有附件的电子邮件、SSL、javamail）。它一次只发送一封电子邮件。

有没有办法让我的程序跟踪它本身产生的网络流量？这样我就可以跟踪正在发送的电子邮件的进度......

如果它是跨平台解决方案也很好......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T18:11:44.257

另一个用户的方法在这里： [Using JProgressBar with Java Mail（在 transport.send() 之后知道进度）](https://stackoverflow.com/questions/6818972/using-jprogressbar-with-java-mail-knowing-the-progress-after-transport-send)

在较低级别上，如果您想监视发送的字节数，您应该能够编写自己的 SocketFactory 来生成 Sockets，这些 Sockets 生成包装的 InputStreams 和 OutputStreams 来监视通过它们的数据量。这有点工作，可能比你真正想要的要低，但这是另一种方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T03:10:51.567

一段时间以来，我一直想自己做这件事，但我仍在等待那轮学费...... :-)

无论如何，这里只是更详细一点。一旦你进入它，可能会有我不知道的陷阱......

您需要创建自己的 SocketFactory 类。JavaMail SSLNOTES.txt 文件中有一个简单的示例，它委托给另一个工厂来完成工作。您需要使用“new MySocket(factory.createSocket(...))”而不是 factory.createSocket(...)，其中 MySocket 是您编写的一个类，它覆盖所有方法以委托给传入的 Socket构造函数。除了 getInputStream 和 getOutputStream 方法，它们必须使用类似的方法来使用您自己创建的流类包装返回的流。然后，这些流类必须覆盖所有读取和写入方法，以跟踪传输的数据量，并根据您希望监控进度的代码提供该信息。在您执行要监控的操作之前，你重置计数。然后随着操作的进行，计数将被更新。什么**不会**为您提供“完成百分比”度量，因为您不知道需要发送多少低级数据才能完成操作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-14T03:19:14.817

这是另一种仅适用于发送消息的方法...

要发送的消息的数据由 Message.writeTo 方法生成，并通过将其直接发送到套接字的各种流进行过滤。您可以继承 MimeMessage，覆盖 writeTo 方法，用您自己的 OutputStream 包装 OutputStream 来计算流经它的数据（类似于我的其他建议），并将其报告给您的程序。在代码中...

```
public class MyMessage extends MimeMessage {
    ...
    public void writeTo(OutputStream os, String[] ignoreList) throws IOException, MessagingException {
        super.writeTo(new MyCountingStream(os), ignoreList);
    }
} 
```

如果您想要完成百分比，您可以首先使用 Message.writeTo 将消息写入流，该流只计算正在写入的数据量，同时丢弃数据。然后你就知道消息到底有多大，所以当消息被发送时，你可以知道消息的百分比。

希望有帮助...

# datetime - 两个日期/时间字段之间的差异 - Lotus Notes

> ID：12406581
> 
> 赞同：3
> 
> 时间：2012-09-13T12:43:51.600
> 
> 标签：datetime, field, lotus-notes, domino-designer-eclipse

我有三个可编辑的日期/时间字段，前两个是（field1 和 field2），样式：日历/时间控件。他们都显示时间：小时和分钟，例如：15:51。

第三个字段也是（可编辑的），我想显示字段 1 和字段 2 之间的区别。

例如：如果 field1 是 14:41，field2 是 14:30，则 field3 = 00:11。我试过 field1-field2 但没有用。该表单具有自动刷新字段属性。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:46:26.173

您的第三个字段需要计算，不可编辑。

如果由于某种原因它必须是可编辑的，并且您希望它在其他两个字段更改时更新，请执行以下操作：

创建一个新字段并使其为显示计算并隐藏。给它一个这样的公式

```
@If(field1=null | field2=null; @Return(""); "");
seconds := field1-field2;
hours := @Integer(seconds/3600);
minutes := @Modulo(@Integer(seconds/60); 60);
output := @Right("00" + @Text(hours); 2) + ":" + @Right("00" + @Text(minutes); 2);
@setfield("field3"; output);
@Command([ViewRefreshFields]);
"" 
```

菲尔

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-14T19:22:47.373

我写了这段代码，更容易......

字段“开始时间”和“结束时间”：键入日期/时间，使用日历/时间控件，将其设置为仅显示时间。检查属性“值更改后运行退出/OnChange 事件”。退出事件应如下所示：

```
Sub Exiting(Source As Field)
    Call UpdateDuration()
End Sub 
```

字段“持续时间”：可编辑的文本字段，但隐藏。

字段“dspDuration”：为显示文本字段计算。值只是“持续时间”（没有引号）。

然后将以下代码添加到表单全局部分：

```
Sub UpdateDuration()
    Dim ws As New NotesUIWorkspace
    Dim uidoc As NotesUIDocument
    Dim starttime As NotesDateTime
    Dim endtime As NotesDateTime
    Dim duration As Integer

    Set uidoc = ws.CurrentDocument
    '*** Exit if not both times are entered
    If uidoc.FieldGetText("StartTime") = "" Then
        Exit Sub
    Elseif uidoc.FieldGetText("StartTime") = "" Then
        Exit Sub        
    End If
    '*** Calculate duration in seconds and update field
    Set starttime = New NotesDateTime( uidoc.FieldGetText("StartTime") )
    Set endtime = New NotesDateTime( uidoc.FieldGetText("EndTime") )
    duration = endtime.TimeDifference( starttime )
    Call uidoc.FieldSetText("Duration", Cstr(duration) )
    Call uidoc.Refresh()
End Sub 
```

That's it. Easy, isn't it? If you want to modify the output (duration), you can easily do that, perhaps change it into minutes by diving it by 60.

![Screenshot](../Images/def5fd1206bbfa2f2b49c4dcabc6c627.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T13:19:30.540

确保您了解两个日期时间字段之间的差异。如果需要，可以使用 @TextToTime 公式将文本转换为日期时间类型。

然后只需从第二个日期中减去第一个日期，您就会得到以秒为单位的差异。

然后将其除以 60 以分钟为单位得到差异。

# ruby-on-rails - 使用嵌套属性的 Rails 中的多对多关系的下拉菜单

> ID：12406583
> 
> 赞同：2
> 
> 时间：2012-09-13T12:44:09.743
> 
> 标签：ruby-on-rails, ruby, many-to-many, nested-attributes, has-many-through

我通过多对多关联有三个表：超市、产品和供应。每个超市可以容纳许多产品，每种产品都可以在许多超市销售。该关联是通过供应模型建立的。

超级市场：

```
class Supermarket < ActiveRecord::Base
  attr_accessible :name, :address, :products_attributes

  has_many :supplies
  has_many :products, :through => :supplies

  accepts_nested_attributes_for :products
end 
```

产品：

```
class Product < ActiveRecord::Base
  attr_accessible :name, :supermarkets_attributes

  has_many :supplies
  has_many :supermarkets, :through => :supplies
  accepts_nested_attributes_for :supermarkets
end 
```

通过供应关联：

```
class Supply < ActiveRecord::Base
  attr_accessible :supermarket_id, :product_id

  belongs_to :supermarket
  belongs_to :product
end 
```

我已经创建了脚手架并填充了超市表。在我的产品表单中，我想使用一个（或多个）下拉菜单来选择对应的超市名称。目标是创建一个新产品，同时通过供应表创建关联。如果我想从那里选择相应的超市，代码在产品的表单和/或控制器中应该是什么样的？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T17:54:30.640

在您的产品表单中，您需要添加此行...

```
<%= collection_select(:product, :supermarket_ids, SuperMarket.all, :id, :name, {}, { :multiple => true } )%> 
```

您也不应该为此使用accepts_nested_attributes，您已经建立的多对多关联应该负责其余的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:52:18.257

我认为在意见

`<%= f.collection_select "super_market_ids[]",@super_markets,:id,:name,{},{:multiple=>"multiple'} %>`

我不确定`super_market_ids`or`super_market_ids[]`和语法刚刚验证过一次。

在选择标签中，如果您想要复选框类型的多选，则有一个[选定](http://harvesthq.github.com/chosen/)的库可以帮助您构建更好的 UI，

# android - 滚动具有两种布局的列表视图时更改布局

> ID：12406584
> 
> 赞同：1
> 
> 时间：2012-09-13T12:44:11.703
> 
> 标签：android, android-listview

我正在尝试为我的列表视图使用两种布局。当我滚动列表视图时，布局更改为第一个。编码：

```
public View getView(int position, View convertView, ViewGroup parent) {
  // TODO Auto-generated method stub

  View vi = convertView;
  if (convertView == null) fll = flag.get(position);
  if(fll.equals("I")) {
    vi = inflater.inflate(R.layout.conersation_replay, null);   
    TextView t1 = (TextView)vi.findViewById(R.id.mess1);
    TextView t2 = (TextView)vi.findViewById(R.id.name1);
    TextView t3 = (TextView)vi.findViewById(R.id.time1);

    t1.setText(message.get(position));
    t2.setText(name);
    t3.setText(time.get(position));
  }
  else {
    vi = inflater.inflate(R.layout.conversation_custome, null);
    TextView t1 = (TextView)vi.findViewById(R.id.mess);
    TextView t2 = (TextView)vi.findViewById(R.id.name);
    TextView t3 = (TextView)vi.findViewById(R.id.time);
    t1.setText(message.get(position));
    t2.setText(name);
    t3.setText(time.get(position));
  }

  return vi;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:50:54.063

您需要在两个布局中创建相同的控件 ID，并执行如下操作

```
@Override
public View getView(int position, View convertView, ViewGroup parent) {

    chati = mlist.get(position);

    if(fll.equals("I")) {   
          // your layout here       
        convertView = ((Activity)mcontext).getLayoutInflater().inflate(R.layout.conersation_replay, null);
    }else{
        convertView = ((Activity)mcontext).getLayoutInflater().inflate(R.layout.conversation_custome, null);            
    }       

      TextView t1 = (TextView)convertView.findViewById(R.id.mess);
      TextView t2 = (TextView)convertView.findViewById(R.id.name);
      TextView t3 = (TextView)convertView.findViewById(R.id.time);
      t1.setText(message.get(position));
      t2.setText(name);
      t3.setText(time.get(position));

    return convertView;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T13:10:54.490

如果两个布局仅在颜色上有所不同，则重用 convertView 并调整 elemtns 的颜色（保存您查看膨胀）。

如果视图不同（例如 - 具有不同的图标和元素），则使用根元素的 ID 来确定提供的视图的种类，以确定它是否是合适的类型，只有在不合适的情况下才会膨胀。

还可以考虑使用 ViewHolder 模式来避免查找文本视图：

[http://www.jmanzano.es/blog/?p=166](http://www.jmanzano.es/blog/?p=166)

# android - 动画沿着基于android中路径的自动旋转路径

> ID：12406588
> 
> 赞同：12
> 
> 时间：2012-09-13T12:44:30.993
> 
> 标签：android, android-animation

我一直在尝试在**android 版本 2.2中为苍蝇的图像制作动画，该图像在如下图所示的路径中移动（我添加了一个清晰的想法）**

好吧，这可以在 iphone 中以非常简单的方式完成，因为它们具有在使用绘制路径后设置自动旋转的属性

```
animation.rotationMode = kCAAnimationRotateAuto; 
```

我相信会根据路径旋转对象`

![飞行路径](../Images/db4ec430074f831b1870d8fde0edf584.png)

我可以使用[Nineoldandroid](http://nineoldandroids.com/)库使用方法让 ma 飞过这条路径

```
 path.moveTo(float x, float y);
 path.lineTo(float x, float y);
 path.curveTo(float c0X, float c0Y, float c1X, float c1Y, float x, float y); 
```

这样曲线是通过三次贝塞尔曲线绘制的。

现在我一直在尝试实现一些东西，让我的苍蝇沿着路径自行旋转，而我似乎无法到达任何地方。

请帮我出一些主意！！！:( :(

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-26T10:10:07.377

**请检查以下链接。希望它会有所帮助。**

[https://github.com/JakeWharton/NineOldAndroids](https://github.com/JakeWharton/NineOldAndroids)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-14T22:31:46.783

**如果你想使用我的解决方案，你必须下载[nineoldandroids](http://nineoldandroids.com/)的demo和lib以及[这4个java文件](https://dl.dropboxusercontent.com/u/11125128/pathanimationangle.zip)**

这很简单，我在 Nineoldandroids 的演示中修改了评估器。

在这里发帖太多了：

只是为了得到这个想法：

我用视场角扩展 PathPoint。然后将所有计算的点写入堆栈（一个简单的 float[][]）

在第一次计算之后，角度可以通过 atan 和堆栈中的最后 2 个点来计算。

如果您不想使用堆栈，您可以修改时间参数并期待下一个点将被绘制并计算出这些点的角度。

试想一下：你是先看你要去哪里然后走路，还是你只是走路然后选择目的地的角度。这不是必需的，因为我们有很高的显示密度并计算每个像素的角度。

这是路径评估器

```
public class PathEvaluatorAngle implements TypeEvaluator<PathPointAngle> {

private static final int POINT_COUNT = 5000;
private float[][] stack = new float[POINT_COUNT][2];
private int stackC = 0;

@Override
public PathPointAngle evaluate(float t, PathPointAngle startValue, PathPointAngle endValue) {
    float x, y;
    if (endValue.mOperation == PathPointAngle.CURVE) {
        float oneMinusT = 1 - t;
        x = oneMinusT * oneMinusT * oneMinusT * startValue.mX +
                3 * oneMinusT * oneMinusT * t * endValue.mControl0X +
                3 * oneMinusT * t * t * endValue.mControl1X +
                t * t * t * endValue.mX;
        y = oneMinusT * oneMinusT * oneMinusT * startValue.mY +
                3 * oneMinusT * oneMinusT * t * endValue.mControl0Y +
                3 * oneMinusT * t * t * endValue.mControl1Y +
                t * t * t * endValue.mY;
    } else if (endValue.mOperation == PathPointAngle.LINE) {
        x = startValue.mX + t * (endValue.mX - startValue.mX);
        y = startValue.mY + t * (endValue.mY - startValue.mY);
    } else {
        x = endValue.mX;
        y = endValue.mY;
    }

    stack[stackC][0] = x;
    stack[stackC][1] = y;

    double angle;

    if (stackC == 0){
        angle = 0;
    } else if (stackC >= POINT_COUNT){
        throw new IllegalStateException("set the stack POINT_COUNT higher!");
    } else {
        angle = Math.atan(
                (stack[stackC][1] - stack[stackC-1][1]) /
                (stack[stackC][0] - stack[stackC-1][0])     
                ) * 180d/Math.PI;
    }
    stackC++;
    return PathPointAngle.moveTo(x, y, angle);
} 
```

}

# c++ - Visual Studio Ultimate 2012 项目创建失败

> ID：12406589
> 
> 赞同：3
> 
> 时间：2012-09-13T12:44:36.913
> 
> 标签：c++, visual-studio, visual-c++, visual-studio-2012

这个问题我已经有一段时间了，这很令人沮丧。好的，所以每当我启动 VS 并启动一个新的 C++ 项目时，我都会收到相同的旧消息“项目创建失败”。我完全不知道如何解决这个问题。我已经搜索了一下，但没有任何帮助。

我运行 Windows 7 64 位操作系统。

你们可能想知道的一些信息：

我已经多次重新安装了这个。没运气。我已经尝试过 Visual C++ Express（从 Mircorsoft 正确下载）。没运气。我试过盗版软件。没运气。2012 年和 2010 年的产品一直在发生这种情况。

# html - 显示 HTML 用户输入，安全问题

> ID：12406590
> 
> 赞同：3
> 
> 时间：2012-09-13T12:44:37.623
> 
> 标签：html, security, input

在我的网站上，用户将能够为内容输入 html 标签，因此文本可以是粗体、斜体或链接和图像。我计划使用真正使用 HTML 标签（不是 BBC 代码或 wiki 语法）的 ckeditor 或 tinymce 如果我允许 HTML，当文本显示时，它将被解释，并且可能包含一些“hack”，如 javascript 或 XSS .. .. 我该如何避免这个安全问题？我是否必须列出想要的 html 标签并删除所有不需要的标签和内容？我可以为此使用条形标签吗？

例如，它是如何在 stackoverflow 上完成的？

你知道一些可以安全保存和安全解释有限html标签的插件php/jquery插件吗？

在此先感谢您的帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T13:09:54.603

您需要同时使用服务器端 HTML 清理程序和[内容安全策略](http://www.w3.org/TR/CSP/)，以防止内联脚本、评估和远程托管脚本

根据您在服务器端使用的语言，使用 HtmlSanitiser 或 python Bleach。

使用客户端验证或幼稚过滤根本不会保护您：

1.  如果用户手动提交表单，@Smamatti 建议的客户端验证将无济于事。
2.  当`str_replace('<script>', '', $str);`有人上传`<script src="foo">`或`<<script>script>alert('foo');</script>`或`<body onload="alert('foo')";</body>`

# sql - sql 从视图和表中选择

> ID：12406592
> 
> 赞同：5
> 
> 时间：2012-09-13T12:44:39.773
> 
> 标签：sql, view

我有一个选择查询，我想在其中对一个视图和另一个表进行连接。该视图工作正常，表格也可以单独工作。但是当我尝试做类似的事情时：

```
select VIEW.col1, VIEW.col2
from VIEW, TABLE
where VIEW.col1 = TABLE.col1 
```

我明白了`The multi-part identifier "VIEW.col1" could not be bound.`

语法是错误的，还是视图中不允许这样做？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-13T12:50:43.183

这应该工作

```
select v.col1, t.col2
from VIEW v, TABLE t
where v.col1 = t.col1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:47:59.340

```
SELECT VIEW.col1, VIEW.col2
from VIEW AS VIEW INNER JOIN TABLE AS TABLE
ON VIEW.col1 = TABLE.col1 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T12:51:18.960

```
SELECT MYVIEWNAME.col1, MYVIEWNAME.col2
FROM VIEWNAME AS MYVIEWNAME INNER JOIN TABLENAME AS MYTABLENAME
ON MYVIEWNAME.col1 = MYTABLENAME.col1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-13T12:53:44.063

我建议您使用左连接或内连接，并为表和视图设置别名。

```
select v.col1 , v.col2

 from view v
 inner join table t on t.col1 = v.col1 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-13T13:03:52.340

你必须有`view`这样的：

```
create table MyView
as
select column1 as col1, column2 as col2
from tab

or

CREATE VIEW MyView (col1,col2)
as
select column1, column2
from tab 
```

然后你可以加入它：

```
select MyView.col1, MyView.col2
from MyView, TABLE
where MyView.col1 = MyView.col1

or

select v.col1, v.col2
from MyView v, TABLE t
where t.col1 = t.col1

or

select v.col1, v.col2
from MyView v
join TABLE t on t.col1 = t.col1 
```

也许某些示例不适用于所有 RDBMS。

# c# - 如何在 Web 服务中使用 Active Directory 进行自动完成

> ID：12406595
> 
> 赞同：0
> 
> 时间：2012-09-13T12:44:47.550
> 
> 标签：c#, asp.net, web-services, autocomplete, active-directory

我想用 Ajax 构建一个带有自动完成功能的 ASP.NET 应用程序。我想使用 Active Directory 来获取数据如何显示名称。

这是我的代码：

ASPX：

```
 <tr>
            <td><asp:Label ID="lblVertreter" runat="server" /></td>
            <td>
            <asp:TextBox ID="txtVertreter" runat="server"></asp:TextBox>
            <asp:AutoCompleteExtender ID="AutoComlete" runat="server" TargetControlID="txtVertreter" ServiceMethod="MitarbeiterErmitelln" ServicePath="Service1.asmx"></asp:AutoCompleteExtender>
            AutoCompleteExtender
            </td>
</tr> 
```

asmx代码：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Services;
using System.Data;
using System.DirectoryServices;

namespace ADWebService
{

    [WebService(Namespace = "http://tempuri.org/")]
    [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
    [System.ComponentModel.ToolboxItem(false)]

    public class Service1 : System.Web.Services.WebService
    {
        public static string GetLdapProperty(SearchResult searchResult, string PropertyName)
        {

            if (searchResult.Properties.Contains(PropertyName))
            {
                return searchResult.Properties[PropertyName][0].ToString();
            }
            else
            {
                return string.Empty;
            }

        }

        [WebMethod]
        public string[] MitarbeiterErmitelln(string prefix)
        {
            string filterung = "((&(objectClass=user)(objectCategory=user)(!userAccountControl:1.2.840.113556.1.4.803:=2)(sn=*)(|(telephoneNumber=*)(mail=*))(displayName=*" + prefix + "*)))";

            string ADPfad = "Domain";

            int Counter = 0;

            List<Benutzer> result = new List<Benutzer>();

            DirectoryEntry Entry = new DirectoryEntry(ADPfad);

            DirectorySearcher Searcher = new DirectorySearcher(Entry, filterung);

            foreach (SearchResult usr in Searcher.FindAll())
            {
                result.Add(new Benutzer()
                {
                    DisplayName = GetLdapProperty(usr, "displayName"),

                });
                Counter++;
            }

            return result.ToArray(); 
        }

    }
}

//The Class Benutzer is my Model Class 
```

怎么了。我想直接使用 Active Directory ！

# c# - 无效的 URI；无法确定 URI，C# 中的谷歌分析

> ID：12406597
> 
> 赞同：1
> 
> 时间：2012-09-13T12:44:54.137
> 
> 标签：c#, google-analytics

我有一个工作解决方案，它成功地从 Google Analytics 网站检索数据。但是它开始产生 404 错误，阅读后我发现谷歌更改了他们的服务网址。我做了同样的事情，现在我得到了一个错误：

无效的 URI：无法确定 URI 的格式。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Xml.Linq;
using System.Xml;

namespace FractalConnect
{
public class BaseData
{

    public IEnumerable<KeyValuePair<Dimension, string>> Dimensions { get; set; }
    public IEnumerable<KeyValuePair<Metric, string>> Metrics { get; set; }

    private const string PageViewReportUrl =
      "https://www.google.com/analytics/feeds/data?ids={0}&dimensions={1}&metrics={2}&start-date={3}&end-date={4}&sort={5}&max-results={6}";
    internal static string authenticationKey { get; set; }

    private static XDocument getXMLData(string tableID, IEnumerable<Dimension> dimensions,
        IEnumerable<Metric> metrics, DateTime from, DateTime to, Metric sort, SortDirection direction, int maxrecords)
    {
        XDocument doc = null;
        if (authenticationKey.Length > 0)
        {
            var dimension = new StringBuilder();
            for (var i = 0; i < dimensions.Count(); i++)
            {
                dimension.Append("ga:" + dimensions.ElementAt(i));
                if (i < dimensions.Count() - 1)
                    dimension.Append(",");
            }
            var metric = new StringBuilder();
            for (var i = 0; i < metrics.Count(); i++)
            {
                metric.Append("ga:" + metrics.ElementAt(i));
                if (i < metrics.Count() - 1)
                    metric.Append(",");
            }
            var sorter = "ga:" + sort;
            if (direction == SortDirection.Descending)
                sorter = "-" + sorter;
            var fromDate = from.ToString("yyyy-MM-dd");
            var toDate = to.ToString("yyyy-MM-dd");
            var header = new[] { "Authorization: GoogleLogin " + authenticationKey };
            var url = string.Format(PageViewReportUrl, "ga:" + tableID, dimension, metric, fromDate, toDate, sorter, maxrecords);

            doc = XDocument.Parse(HttpRequests.HttpGetRequest(url, header));
        }

        return doc;
    }

    public static IEnumerable<BaseData> GetBaseData(string tableID, IEnumerable<Dimension> dimensions,
        IEnumerable<Metric> metrics, DateTime from, DateTime to, Metric sort, SortDirection direction, int maxrecords)
    {
        IEnumerable<BaseData> data = null;
        XDocument xml = getXMLData(tableID, dimensions, metrics, from, to, sort, direction, maxrecords);
        if (xml != null)
        {
            XNamespace dxp = xml.Root.GetNamespaceOfPrefix("dxp");
            XNamespace dns = xml.Root.GetDefaultNamespace();
            data = xml.Root.Descendants(dns + "entry").Select(element => new BaseData
            {
                Dimensions =
                  new List<KeyValuePair<Dimension, string>>(
                  element.Elements(dxp + "dimension").Select(
                    dimensionElement =>
                    new KeyValuePair<Dimension, string>(
                      dimensionElement.Attribute("name").Value.Replace("ga:", "")
                      .ParseEnum<Dimension>(),
                      dimensionElement.Attribute("value").Value))),
                Metrics =
                  new List<KeyValuePair<Metric, string>>(
                  from metricElement in element.Elements(dxp + "metric")
                  select new KeyValuePair<Metric, string>(
                    metricElement.Attribute("name").Value.Replace("ga:", "")
                      .ParseEnum<Metric>(),
                    metricElement.Attribute("value").Value))
            });
        }
        return data;
    }

    public static XDocument GetProfilesData(string email, string pwd)
    {

        XDocument docAnalyticsData = null;

        if (authenticationKey.Length > 0)

        {
            var header = new[] { "Authorization: GoogleLogin " + authenticationKey };
            docAnalyticsData = XDocument.Parse(HttpRequests.HttpGetRequest("https://www.googleapis.com/analytics/v2.4/data?ids=ga:XXXX&dimensions=ga:date&metrics=ga:visits&start-date=2012-04-01&end-date=2012-04-02&key?", header));
        }
        return docAnalyticsData;
    }

} 
```

}

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Xml.Linq;
using System.Xml;
using System.IO;

namespace FractalConnect
{
public class GADataFetcher
{
    public string Email { get; set; }
    public string Password { get; set; }
    private string AuthenticationKey { get; set; }
    private const string AuthenticationUrl = "https//www.googleapis.com/analytics/v2,4/management/accounts?key=AIzaSyDGaZZnDrHNaUyMwQHE-KnEB0LYvi8wQtI";
    public GADataFetcher(string email, string password)
    {
        this.Email = email;
        this.Password = password;
        try
        {
            Authenticate();
            BaseData.authenticationKey = AuthenticationKey;
        }
        catch
        {
            throw;
        }
    }

    private void Authenticate()
    {
        string AuthenticationPost = string.Format("accountType=GOOGLE&Email={0}&Passwd={1}&service=analytics&source=xxx-xxx",
            this.Email, this.Password);

        this.AuthenticationKey = null;
        string result = HttpRequests.HttpPostRequest(AuthenticationUrl, AuthenticationPost);
        var tokens = result.Split(new string[] { "\n" }, StringSplitOptions.RemoveEmptyEntries);
        foreach (var item in tokens)
        {
            if (item.StartsWith("Auth="))
                AuthenticationKey = item;
        }
    }

    static IEnumerable<GAProfile> GetProfiles<T>(XDocument xml)
    where T : GAProfile, new()
    {
        XNamespace dxp = xml.Root.GetNamespaceOfPrefix("dxp");
        XNamespace dns = xml.Root.GetDefaultNamespace();
        IEnumerable<GAProfile> profiles = null;
        profiles = xml.Root.Descendants(dns + "entry").Select(f => new GAProfile
        {
            AccountID = f.Elements(dxp + "property").Where(x => x.Attribute("name").Value == "ga:accountId").First().Attribute("value").Value,
            AccountName = f.Elements(dxp + "property").Where(x => x.Attribute("name").Value == "ga:accountName").First().Attribute("value").Value,
            ProfileID = f.Elements(dxp + "property").Where(x => x.Attribute("name").Value == "ga:profileId").First().Attribute("value").Value,
            WebPropertyID = f.Elements(dxp + "property").Where(x => x.Attribute("name").Value == "ga:webPropertyId").First().Attribute("value").Value,
            Currency = f.Elements(dxp + "property").Where(x => x.Attribute("name").Value == "ga:currency").First().Attribute("value").Value,
            TimeZone = f.Elements(dxp + "property").Where(x => x.Attribute("name").Value == "ga:timezone").First().Attribute("value").Value,
            TableID = f.Element(dxp + "tableId").Value,
            Updated = DateTime.Parse(f.Element(dns + "updated").Value),
            ID = f.Element(dns + "id").Value,
            Title = f.Element(dns + "title").Value
        });
        return profiles;
    }
    public IEnumerable<GAProfile> GetUserProfiles()
    {
        var xml = BaseData.GetProfilesData(Email, Password);
        return GetProfiles<GAProfile>(xml);
    }

    public IEnumerable<GAData> GetAnalytics(string tableID, DateTime from, DateTime to, int max, List<Dimension> dimensions, List<Metric> metrics, Metric sort, SortDirection order)
    {
        IEnumerable<BaseData> data = BaseData.GetBaseData(tableID, dimensions, metrics, from, to, sort, order, max);
        return data.Select(d => new GAData
        {
            Pageviews = Convert.ToInt32(d.Metrics.FirstOrDefault(met => met.Key == Metric.pageviews).Value),
            Bounces = Convert.ToInt32(d.Metrics.FirstOrDefault(met => met.Key == Metric.bounces).Value),
            Entrances = Convert.ToInt32(d.Metrics.FirstOrDefault(met => met.Key == Metric.entrances).Value),
            Exits = Convert.ToInt32(d.Metrics.FirstOrDefault(met => met.Key == Metric.exits).Value),
            NewVisits = Convert.ToInt32(d.Metrics.FirstOrDefault(met => met.Key == Metric.newVisits).Value),
            TimeOnPage = Convert.ToDouble(d.Metrics.FirstOrDefault(met => met.Key == Metric.timeOnPage).Value),
            TimeOnSite = Convert.ToDouble(d.Metrics.FirstOrDefault(met => met.Key == Metric.timeOnSite).Value),
            Visitors = Convert.ToInt32(d.Metrics.FirstOrDefault(met => met.Key == Metric.visits).Value),
            Visits = Convert.ToInt32(d.Metrics.FirstOrDefault(met => met.Key == Metric.pageviews).Value),
            UniquePageviews = Convert.ToInt32(d.Metrics.FirstOrDefault(met => met.Key == Metric.uniquePageviews).Value),
            ExitPagePath = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.exitPagePath).Value,
            LandingPagePath = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.landingPagePath).Value,
            NextPagePath = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.nextPagePath).Value,
            PagePath = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.pagePath).Value,
            PageTitle = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.pageTitle).Value,
            PreviousPagePath = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.previousPagePath).Value,
            SecondPagePath = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.secondPagePath).Value,
            Browser = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.browser).Value,
            BrowserVersion = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.browserVersion).Value,
            City = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.city).Value,
            ConnectionSpeed = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.connectionSpeed).Value,
            Country = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.country).Value,
            Date = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.date).Value,
            DaysSinceLastVisit = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.daysSinceLastVisit).Value,
            Day = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.day).Value,
            FlashVersion = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.flashVersion).Value,
            Hostname = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.hostname).Value,
            IsMobile = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.isMobile).Value,
            Hour = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.hour).Value,
            JavaEnabled = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.javaEnabled).Value,
            Language = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.language).Value,
            Latitude = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.latitude).Value,
            Longitude = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.longitude).Value,
            Month = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.month).Value,
            NetworkDomain = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.networkDomain).Value,
            NetworkLocation = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.networkLocation).Value,
            OperatingSystem = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.operatingSystem).Value,
            OperatingSystemVersion = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.operatingSystemVersion).Value,
            PageDepth = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.pageDepth).Value,
            Region = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.region).Value,
            ScreenColors = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.screenColors).Value,
            ScreenResolution = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.screenResolution).Value,
            SubContinent = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.subContinent).Value,
            UserDefinedValue = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.userDefinedValue).Value,
            VisitCount = Convert.ToInt32(d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.visitCount).Value),
            VisitLength = Convert.ToInt32(d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.visitLength).Value),
            VisitorType = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.visitorType).Value,
            Week = Convert.ToInt32(d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.week).Value),
            Year = Convert.ToInt32(d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.year).Value),
            Source = d.Dimensions.FirstOrDefault(dim => dim.Key == Dimension.source).Value
        });
    }
}
public enum Dimension
{
    exitPagePath,
    landingPagePath,
    nextPagePath,
    pagePath,
    pageTitle,
    previousPagePath,
    secondPagePath,
    browser,
    browserVersion,
    city,
    connectionSpeed,
    country,
    date,
    daysSinceLastVisit,
    day,
    flashVersion,
    hostname,
    isMobile,
    hour,
    javaEnabled,
    language,
    latitude,
    longitude,
    month,
    networkDomain,
    networkLocation,
    operatingSystem,
    operatingSystemVersion,
    pageDepth,
    region,
    screenColors,
    screenResolution,
    subContinent,
    userDefinedValue,
    visitCount,
    visitLength,
    visitorType,
    week,
    year,
    source,

}
public enum Metric
{
    bounces,
    entrances,
    exits,
    newVisits,
    pageviews,
    timeOnPage,
    timeOnSite,
    visitors,
    visits,
    uniquePageviews
}

public enum SortDirection
{
    Ascending,
    Descending
} 
```

}

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Text;
using System.Net;
using System.IO;
/// <summary>
/// Summary description for HttpRequests
/// </summary>
public static class HttpRequests
{
public static string HttpPostRequest(string url, string post)
{
    var encoding = new ASCIIEncoding();
    byte[] data = encoding.GetBytes(post);
    WebRequest request = WebRequest.Create(url);
    request.Method = "POST";
    request.ContentType = "application/x-www-form-urlencoded";
    request.ContentLength = data.Length;
    Stream stream = request.GetRequestStream();
    stream.Write(data, 0, data.Length);
    stream.Close();
    WebResponse response = request.GetResponse();
    String result;
    using (var sr = new StreamReader(response.GetResponseStream()))
    {
        result = sr.ReadToEnd();
        sr.Close();
    }
    return result;
}

public static string HttpGetRequest(string url, string[] headers)
{
    String result;
    WebRequest request = WebRequest.Create(url);
    if (headers.Length > 0)
    {
        foreach (var header in headers)
        {
            request.Headers.Add(header);
        }
    }
    WebResponse response = request.GetResponse();
    using (var sr = new StreamReader(response.GetResponseStream()))
    {
        result = sr.ReadToEnd();
        sr.Close();
    }
    return result;
} 
```

}

这些似乎是导致错误的所有页面，对此主题的任何帮助将不胜感激。

# batch-file - 从批处理文件以管理员身份运行程序

> ID：12406601
> 
> 赞同：1
> 
> 时间：2012-09-13T12:45:07.590
> 
> 标签：batch-file, cmd, command

我正在尝试从批处理文件以管理员身份运行程序。

我桌面上的快捷方式设置`cmd`为以管理员身份运行。然后我想从这个命令提示符窗口运行我的命令。

```
@echo off

call /k \\c:\Users\Adam Wilson\Desktop\Cmd-Admin.lnk

START /k "netsh wlan start hostednetwork" 
```

它不运行命令，我不确定要放在它前面的命令；无论是启动、调用、运行还是其他。我只是希望它打开 cmd，然后运行该命令。

在此先感谢，希望我已经说清楚了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T03:17:28.803

这将启动您的 lnk 并执行命令，但我怀疑不是 .lnk 的安全设置：

```
start "title" "c:\Users\Adam Wilson\Desktop\Cmd-Admin.lnk" /K netsh wlan start hostednetwork 
```

如果您不希望在完成 netsh 命令后窗口挂起：

```
start "title" "c:\Users\Adam Wilson\Desktop\Cmd-Admin.lnk" /C netsh wlan start hostednetwork 
```

用你喜欢的一些漂亮的标题替换“标题”......

# css - 使用 IE 的“通过电子邮件发送页面”选项在页面上发送特定 div 的内容

> ID：12406603
> 
> 赞同：1
> 
> 时间：2012-09-13T12:45:16.390
> 
> 标签：css, internet-explorer, media

我有一个隐藏 div 的页面，其中包含一些内容。如果 IE，我希望能够仅发送此隐藏 div 的内容，而不是在页面上使用“通过电子邮件发送页面”选项的其他内容。我怎样才能做到这一点？为此目的是否有任何特定的 css 支持，例如我们有用于打印文档的打印媒体类型？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:26:47.757

“通过电子邮件发送 -> 页面”似乎将所有页面内容复制到新的电子邮件窗口中。CSS 似乎没有固定，但表格结构可以（至少在 Outlook 电子邮件中）。这可能是因为 Outlook 无法处理 css 布局。我最近没有做过任何 HTML 电子邮件（谢天谢地），但据我所知，你不能指望 CSS 来布置 HTML 电子邮件，尤其是对于基于 MS 的电子邮件客户端。

这告诉我的是，这不是页面的“版本”，就像页面的屏幕和打印版本在浏览器中使用应用的 CSS 呈现的方式一样。当电子邮件从该命令加载时，它会抓取页面上的所有内容，甚至是默认情况下通过 CSS 隐藏的内容。我的感觉是它抓取 HTML 并将其与嵌入的图像一起直接粘贴到电子邮件中。

最终结论：**CSS 的标准媒体指令在这种情况下将毫无用处。**

您最好的选择是准备页面的替代版本（仅包含 HTML 源代码中存在的所需元素），它使用表格进行粗略的页面布局。让用户单击此页面，然后指示他们使用“发送 -> 通过电子邮件发送页面”命令。

# authentication - Salesforce 中的直接登录和联合登录

> ID：12406611
> 
> 赞同：0
> 
> 时间：2012-09-13T12:45:27.807
> 
> 标签：authentication, login, salesforce, saml-2.0, federated-identity

我为联合身份验证配置了 Salesforce。伟大的！我做了？

它适用于“身份提供者发起的登录”（请参阅[​​联合身份验证和 salesforce 中的委托身份验证](https://stackoverflow.com/questions/12369604/federated-authentication-and-delegated-authentication-in-salesforce/12370138#12370138)）。我正在使用联合身份。但是我的问题是该用户可以使用他的用户名和密码直接登录到 salesforce？我怎样才能禁用它？

“服务提供商发起的登录”表示它将来到身份提供商。当我尝试使用 Salesforce 登录页面登录时，它不会是身份提供者吗？

# ruby - Sublime Text 2 在终端中启动 ruby 文件

> ID：12406613
> 
> 赞同：5
> 
> 时间：2012-09-13T12:45:50.180
> 
> 标签：ruby, sublimetext2, sublimetext

我正在尝试从 Sublime Text 2 启动终端，该终端将运行**Ruby 文件**（通过构建系统）。**我不使用内置 ruby​​ 构建系统的原因是我的 ruby​​ 脚本需要输入，这在sublime 输出面板**中不起作用。

有没有人有这样的构建系统？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-26T17:04:21.097

好的，您可以创建一个 ruby​​.sh 文件（例如在您的主文件夹中）：

/home/your/home/ruby.sh

```
 #!/bin/sh
 /usr/bin/xterm -e /bin/sh -c "/path/to/ruby $1; exec /bin/sh" & 
```

创建一个新的 Sublime 构建文件：

```
{
    "cmd": ["/home/your/home/ruby.sh", "$file"]
} 
```

现在，当您按下 CTRL-B 时，您的**ruby​​.sh**应该会被执行，并且会使用您当前的缓冲区/文件执行**ruby ​​。**它将 xterm 作为新窗口打开（已测试）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-19T10:39:04.850

关于添加自定义构建系统文件，我想添加一些具体的东西。

1 创建构建系统文件时，将其保存在：~/Library/Application Support/Sublime Text 2/Packages/User

PC 我不确定，可能像目录路径： *...APPDATA/ROAMING/Sublime Text2/ ...*

2 build-system 文件的源代码不完整。也许以下更好：

```
{
    "cmd": ["~/.rvm/bin/rvm-auto-ruby", "$file"],
    "file_regex": "^(...*?):([0-9]*):?([0-9]*)",
    "selector": "source.ruby"
} 
```

更多信息：[更多信息](http://addyosmani.com/blog/custom-sublime-text-build-systems-for-popular-tools-and-languages/)

# javascript - 使用 JavaScript 检测 Flash

> ID：12406615
> 
> 赞同：-3
> 
> 时间：2012-09-13T12:45:58.243
> 
> 标签：javascript, flash

> **可能重复：**
> [如何检测是否安装了 Flash，如果没有，显示一个隐藏的 div 通知用户？](https://stackoverflow.com/questions/998245/how-can-i-detect-if-flash-is-installed-and-if-not-display-a-hidden-div-that-inf)

所以：

```
var _isflash = navigator.plugins['Shockwave Flash'];  
if(_isflash == "undefined")
{
  console.log("not exists flash")
}
else
{
  console.log("flash!") 
} 
```

为什么这不起作用？

```
document.write(_isflash) // undefined 
```

如果闪退，_isflash = undefined...请帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:49:14.327

在您的示例中，`"undefined"`是一个字符串，因此两者不相等。这将做你想做的事情：

```
if(!_isflash)
{
    console.log("not exists flash")
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:48:28.227

您期望`_isflash`成为一个字符串`"undefined"`。你应该做这个：

```
if(_isflash == undefined) 
```

# visual-studio-2010 - 错误 C3867：函数调用缺少参数列表

> ID：12406620
> 
> 赞同：1
> 
> 时间：2012-09-13T12:46:16.870
> 
> 标签：visual-studio-2010, c++-cli, function-pointers, function-call

我正在尝试在 Visual Studio 中编译代码，但我不断收到以下错误：

> 错误 4 错误 C3867: 'MindSet::Form1::handleDataValueFunc': 函数调用缺少参数列表；使用 '&MindSet::Form1::handleDataValueFunc' 创建指向成员 c:\documents and settings\licap\desktop\mindset\mindset\mindset\Form1.h 的指针 122 1 MindSet

这是我的代码

```
#pragma endregion
void handleDataValueFunc(unsigned char extendedCodeLevel, unsigned char code,
    unsigned char valueLength, const unsigned char *value, void *customData)
{
    FILE *arq1;
    FILE *arq2;
    FILE *arq3;
        arq1 = fopen("raw.txt","a");
        arq2 = fopen("atencao.txt","a");
        arq3 = fopen("meditacao.txt","a");

    if (extendedCodeLevel == 0 && code == RAW_WAVE_CODE)
    {
        short rawValue = ((value[0] << 8) & 0xff00) | (0x00ff & value[1]);
        printf("%d\n", rawValue);
        fprintf(arq1,"%d\n",rawValue);
    }
    if (extendedCodeLevel == 0 && code == ATTENTION_LEVEL_CODE)
        {
            short attentionValue = (value[0] & 0xFF);
            printf("%d\n", attentionValue);
            fprintf(arq2,"%d\n",attentionValue);
        }
    if (extendedCodeLevel == 0 && code == MEDITATION_LEVEL_CODE)
        {
            short meditationValue = (value[0] & 0xFF);
            printf("%d\n", meditationValue);
            fprintf(arq3,"%d\n",meditationValue);
        }
    fclose(arq1);
    fclose(arq2);
    fclose(arq3);
}
private: System::Void IniciarCaptura_Click(System::Object^  sender, System::EventArgs^  e) {

    SerialPort* port = new SerialPortW32();

    if (port->open())
    {
        /* Initialize ThinkGear stream parser */
        ThinkGearStreamParser parser;
        THINKGEAR_initParser(&parser, PARSER_TYPE_PACKETS, handleDataValueFunc, NULL);

        unsigned char byteRead;
        for (int i = 0; i < 100000; i++)
        {
            if (port->read(&byteRead, 1) == 1)
            {
                THINKGEAR_parseByte(&parser, byteRead);
                fflush(stdout);
            }
            else
            {
                //cerr << "Erro na leitura da porta" << endl;
                break;
            }
        }

        port->close();
    }
    else
    {
        //cout << port->getErrorMessage() << endl;
    }
    delete port;
    //return 0;
    }
}; 
```

}

我已经尝试在“handleDataValueFunc”之前添加一个“&”，但它只返回另一个错误消息。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:56:05.637

您将不得不使用`gcroot` 参见[http://msdn.microsoft.com/en-us/library/481fa11f.aspx](http://msdn.microsoft.com/en-us/library/481fa11f.aspx)

```
struct nativeMindSetFormHandle
{
    nativeMindSetFormHandle(MindSet::Form1 ^ h) : handle(h) {}
    gcroot<MindSet::Form1 ^> handle;
};

static void handleDataValueFuncProxy(unsigned char extendedCodeLevel,
    unsigned char code, unsigned char valueLength, const unsigned char *value,
    void *customData)
{
    static_cast<nativeMindSetFormHandle *>(customData)->handle->handleDataValueFunc(extendedCodeLevel, code, valueLength, value, NULL);
} 
```

并更新`IniciarCaptura_Click`包括：

```
nativeMindSetFromHandle * nativeHandle = new nativeMindSetFormHandle(this);
THINKGEAR_initParser(&parser, PARSER_TYPE_PACKETS, handleDataValueFuncProxy, nativeHandle); 
```

完成后不要忘记`delete nativeHandle`。

# c# - 使用 WMI 在 c# 中关闭 Hyper-v 虚拟机

> ID：12406621
> 
> 赞同：1
> 
> 时间：2012-09-13T12:46:24.810
> 
> 标签：c#, wmi, virtual-machine, hyper-v

我想使用我的 C# 应用程序关闭虚拟机 hyper v 2008 服务器，然后在中间过程完成后再次重新启动。我不知道如何在 C# 中使用 WMI。任何代码片段都会非常有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-16T18:58:54.570

这是看起来像并回答您的问题的东西：http: [//blogs.msdn.com/b/taylorb/archive/2008/05/21/hyper-v-wmi-using-powershell-part-4-and-负1.aspx](http://blogs.msdn.com/b/taylorb/archive/2008/05/21/hyper-v-wmi-using-powershell-part-4-and-negative-1.aspx)

我建议调用 powershell - 您可以从远程服务器（控制站）执行此操作。

**停止它：** Stop-VM -ComputerName name.of.hyper-v.server -Name name.of-vm [http://technet.microsoft.com/en-us/library/hh848468.aspx](http://technet.microsoft.com/en-us/library/hh848468.aspx)

**启动它：** Start-VM -ComputerName name.of.hyper-v.server -Name name.of-vm

附言。检查 technet 链接以获取示例。

# iphone - 如何重新加载 UIViewController

> ID：12406624
> 
> 赞同：3
> 
> 时间：2012-09-13T12:46:36.573
> 
> 标签：iphone, ios5, uiviewcontroller

谁能告诉我如何重新加载视图。在我的程序中，它包含一个选项卡视图控制器。选项卡中有一个名为“A”的项目。这个“A”项目指向一个视图控制器。在那个视图控制器中，它正在显示一些数据，我在其中包含了 UIActionSheet。操作表中有一个按钮-删除。此删除按钮用于删除特定数据。现在我的问题是我需要重新加载该视图，以便不显示这些已删除的数据。所以请任何人告诉我如何重新加载页面。我之前已经包含了以下代码

```
[self presentModalViewController:historyView animated:YES];
[historyView setNeedsDisplay]; 
```

但它显示了一些错误：-

```
 No visible @interface for viewcontroller declares the selector 'setNeedsDisplay' 
```

请告诉我解决方案.. :(

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-13T13:03:08.257

**UIViewController**类没有方法**setNeedsDisplay**。UIView类**确实**有这个方法。所以你可以这样写：

```
[historyView.view setNeedsDisplay]; 
```

但是此方法不会重新加载视图。它只是将接收器的整个边界矩形标记为需要重绘（来自苹果文档[iOS Developer Library](http://developer.apple.com/library/ios/#documentation/uikit/reference/uiview_class/uiview/uiview.html)）。因此，**drawRect**方法将被调用。

为了解决您的问题，您可以在视图控制器中创建自己的函数，如*initializeUI*，然后在视图最初加载时调用它（在**viewDidLoad**方法中），例如在需要更新视图时删除数据后调用它。

# jquery - 替换后jquery replacewith函数无法识别id

> ID：12406625
> 
> 赞同：0
> 
> 时间：2012-09-13T12:46:45.237
> 
> 标签：jquery

嗯，我正在用 php 和 jquery 创建一个简单的系统。所以流程将是。在这样的表中 ![在此处输入图像描述](../Images/2cae2f944c497c83359fae432b55c635.png)

一旦我点击小铅笔图标，value-2 和 value-4 将被文本替换。

![在此处输入图像描述](../Images/f6027d2f27e8be84db075d933c487eaa.png)

我替换铅笔的 id 和图像，并在单击文本框中的值后进行检查含义将被保存。

这是我的代码

```
 <input type="hidden" id="del<?php echo $counter ?>" value="<?php echo $row['sub_code'] ?>" />
                        <td><center><a href = "#" class="a1"><?php echo $row['sub_code']; ?></a></td></center>
                        <td><span class="a2"><?php echo $row['sub_section']; ?></span></td>
                        <td><a href = "#" class="a3"><?php echo $row['sub_desc']; ?></a></td>
                        <td><?php echo $row['sub_sched']; ?></td>
                        <td><center><?php echo $row['sub_level']; ?></td></center>
                        <td>
                        <img src="images/edit2.png" style="width: 10px; height: 10px; border: 0px; background-color: white; cursor: pointer;" id="edit" />
                        <img src="images/Delete.png" style="width: 10px; height: 10px; border: 0px; background-color: white; cursor: pointer;" id="delete" /> 
```

和我的jQuery代码

$("#edit").click(function(){ $(".a1").replaceWith("").replaceWith("");

```
});

$("save").click(function(){
alert("save");
}); 
```

一旦铅笔图像变成检查我点击它有一个样本警报，但它没有。任何人都知道为什么 jquery 在我的 id 中没有反应。我使用 replacewith 在编辑功能上替换它，但为什么它不起作用？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:48:14.263

你应该使用：

```
$("#edit").on('click', function() 
```

和

```
$("#save").on('click', function() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:55:45.480

它不起作用，因为您没有更改以前的`edit`id

```
<img src="images/edit2.png" style="width: 10px; height: 10px; border: 0px; background-color: white; cursor: pointer;" id="edit" /> 
```

应该

```
<img src="images/edit2.png" style="width: 10px; height: 10px; border: 0px; background-color: white; cursor: pointer;" id="save" /> 
```

和

```
$("#save").on('click', function() {
alert("save");
}); 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-09-13T12:58:09.393

您也可以为此使用实时功能：

```
 $('#save').live('click',function () {
            alert("called");
        }); 
```

# java - Java：套接字读取超时异常

> ID：12406628
> 
> 赞同：14
> 
> 时间：2012-09-13T12:46:51.050
> 
> 标签：java, sockets, exception, timeout

我试图打电话给一个非常繁重的过程。它的平均工作时间估计为 9-10 分钟。

当我执行这个过程时，我将超时设置为一个非常大的数字：99999999。

2分钟后，我收到以下错误：

> java.net.SocketTimeoutException：读取超时

我试图再弄乱它一些，我将超时设置为 3000，并且在预期的 3 秒后，我得到了同样的错误。

您知道为什么`socket.setSoTimeout(99999999)`将其设置为最大 120000 吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-11T07:53:39.123

我遇到了同样的问题， `socket.shutdownInput(); socket.shutDownOutput();`直到最后一次读取或写入数据到套接字时才使用该解决方案。这使套接字进入 FIN_WAIT 状态，因此在关闭前等待 2 分钟。[你可以在这篇文章](https://stackoverflow.com/questions/17007529/socket-time-out-after-two-minutes-although-set-to-more-than-two-mintues/)中阅读更多关于它的信息

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-09T09:47:57.490

显然，您没有设置您认为您正在设置的超时，或者其他人在之后更改它。您必须发布一些代码才能进一步阐明。

请注意，根据*TCP/IP Illustrated,* Vol II, #17.4 中的 WR Stevens 的说法，超时保持在 1000Hz 滴答数的短时间内，因此不可能超过 11 分钟。这适用于 BSD 代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T12:54:33.733

我不确定您的应用程序是如何工作的，但请尝试为[套接字设置无限超时](http://docs.oracle.com/javase/6/docs/api/java/net/Socket.html#setSoTimeout%28int%29)

> ```
> public void setSoTimeout(int timeout)
>               throws SocketException 
> ```
> 
> 使用指定的超时启用/禁用`SO_TIMEOUT`，以毫秒为单位。将此选项设置为非零超时，与此 Socket 关联的`read()`调用`InputStream`将仅阻塞此时间量。如果超时到期，`java.net.SocketTimeoutException`则引发 a，尽管 Socket 仍然有效。必须在进入阻塞操作之前启用该选项才能生效。超时必须是`> 0`。超时为零被解释为无限超时。

如果您提供有关您的电话的更多信息，我可能会改进答案。

# c# - 为什么基于 ChannelFactory 的客户端应用程序不能使用事件驱动的异步调用模型

> ID：12406632
> 
> 赞同：2
> 
> 时间：2012-09-13T12:47:06.497
> 
> 标签：c#, .net, wcf, asynchronous-wcf-call

我在 MSDN 中发现基于 ChannelFactory 的客户端不能使用事件驱动的异步调用模型，但是基于 ServiceModel.ClientBase 的客户端可以

这如何合理？原因是什么？这是 MSDN 链接[http://msdn.microsoft.com/en-us/library/ms731177](http://msdn.microsoft.com/en-us/library/ms731177)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:42:18.553

[`ClientBase`](http://msdn.microsoft.com/en-us/library/ms576141.aspx)是一个包装器[`ChannelFactory`](http://msdn.microsoft.com/en-us/library/ms576132.aspx)。`ClientBase`旨在通过标志[`svcutil.exe`](http://msdn.microsoft.com/en-us/library/aa347733)直接支持基于事件和基于回调/委托的异步方法。`/async`

`ChannelFactory`本身没有[Begin/End 模式](http://msdn.microsoft.com/en-us/library/ms731177)的知识，所以你需要使用`ClientBase`来实现内置的 async-awareness 或[自己创建它`ChannelFactory`](http://msdn.microsoft.com/en-us/library/bb885132)。

# iphone - 如何创建适合xcode的数据库？

> ID：12406643
> 
> 赞同：0
> 
> 时间：2012-09-13T12:47:31.753
> 
> 标签：iphone, ios, xcode

我已经了解了核心数据的基本概念以及如何在 xcode 中创建模式或数据模型。但是我正在努力创建数据库并将其导入 xcode。

我以前没有任何创建数据库的经验。

有人可以在这里指导我。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:50:19.520

使用 SqlLite 对我来说更有吸引力，因为我在没有对 android 版本进行任何修改的情况下导入数据库。

我做了一些通用类来处理任何适用于 android 和 iPhone 的数据库，但我不能在这里分享。

```
Class DBWRAPPER
{
    initDB();
    ExecuteScalar()
    ExecuteDicionary();
    Close();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:00:40.113

如果您的应用程序是基于文档的，那么数据库就是文档。您在创建文档时在代码中创建它。

如果它不是基于文档的并且只使用一个数据库，那么您通常在第一次运行应用程序时在代码中创建它（或者，更有可能的是，每当应用程序启动并且它找不到已经存在的数据库时）。

在任何一种情况下，如果数据库可以开始为空，这就是您所需要的。如果空数据库无效，并且在初始化时确实需要一些最少的数据，则必须在创建时填充它。

根据您的最小数据库需要多少数据，您可以对初始化进行硬编码，也可以在应用程序包中使用静态资源（即文件），其中包含您知道如何读取和使用的某种形式的初始化数据填充数据库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T13:06:37.983

为了跟进`AnalogFile`答案，如果您的应用程序不是文档库，您可能希望将核心数据与预先存在的 SQLite DB 一起使用。您可以使用 Python 之类的脚本语言来为您的数据库提供数据。例如，我认为这是一种比在 XCode 中以编程方式填充数据库更好的方法。查看本[教程](http://www.raywenderlich.com/980/core-data-tutorial-how-to-preloadimport-existing-data)以获取有关此方法的更多信息。

# c# - MonoTouch - 从 Main Bundle 中读取文件

> ID：12406644
> 
> 赞同：3
> 
> 时间：2012-09-13T12:47:33.923
> 
> 标签：c#, ios, xamarin.ios, mainbundle

我有一个用 MonoTouch 编写的应用程序。我将一个名为 ARCSDev 的文件放入应用程序文件夹并将其包含在项目中，然后尝试使用以下代码读取该文件：

```
private void generateChart (int chartNumber, string palette)
        {
            string path = Environment.GetFolderPath (Environment.SpecialFolder.Personal); 
            string filePath = Path.Combine(path, "ARCSDev");

            Loader loader = new Loader (filePath); 
```

但是我的应用程序似乎找不到该文件，谁能解释我做错了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-13T13:09:40.173

快速浏览一下，您尝试从“文档”目录加载（即您具有读写访问权限的目录，可以通过 iTunes 访问并进行备份），而您自己的文件位于应用程序目录中（已读取-只要）。

你想要的是（可能）`NSBundle.MainBundle.BundlePath`

这篇 Xamarin 的[文章](http://developer.xamarin.com/guides/ios/application_fundamentals/working_with_the_file_system/)涵盖了这个（以及更多）关于 iOS 文件系统的内容。

# mysql - MySQL查询-如果找不到条目， 如何返回占位符值而不是NULL

> ID：12406647
> 
> 赞同：1
> 
> 时间：2012-09-13T12:47:54.980
> 
> 标签：mysql, coalesce

假设我有一个名为 references 的表，它有两个字段：一个 id 和一个 reference 字段。

我想创建一个查询，该查询将为我提供基于 id 的参考号。像这样：

```
SELECT reference 
  FROM references 
 WHERE id = x 
```

*（其中 x 是某个整数）*

但是，如果在表中找不到 id，我希望查询显示 -1 而不是 NULL。

我怎样才能做到这一点？

```
SELECT COALESCE(reference, -1) FROM references WHERE id = x 
```

不工作

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-14T11:20:29.797

如果子集有`cardinality`0（id = 2 的元素），则没有什么可比较的，可以确定这样的 (id = 2) 元素不存在。另一方面，如果你想找到那个空子集中的最大元素，你将得到未知值（超集的每个成员都是空集的上确界和下确界）

我不确定这是否正确，但恕我直言，很合乎逻辑

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T13:03:51.670

这里有一些方法：

```
SELECT COALESCE(MAX(reference), -1)
  FROM references
 WHERE id = ...
;

SELECT COALESCE(reference, -1)
  FROM references
 RIGHT
 OUTER
  JOIN (SELECT 1 c) t
    ON id = ...
;

SELECT COALESCE
        ( ( SELECT reference
              FROM references
             WHERE id = ...
          ),
          -1
        )
; 
```

（我个人会选择第一个，但所有三个都可以。）

# python - 在管理员中预填充 django 过滤器水平

> ID：12406648
> 
> 赞同：2
> 
> 时间：2012-09-13T12:47:56.527
> 
> 标签：python, django, model, filter, django-admin

我有一个关于网球网络的简单 Django 项目。我想在我的管理界面中使用播放器的名称预先填充水平过滤器。此外，一些玩家可以在晚上 7 点玩，而其他玩家可以在晚上 9 点玩。我的**model.py**如下：

```
class thursday(models.Model):
    date = models.DateField()
    time_first = models.ManyToManyField(player, related_name='firsttime', verbose_name='7PM')
    time_second = models.ManyToManyField(player, related_name='secondtime', verbose_name='9PM') 
```

和我的**admin.py**：

```
class ThursdayAdmin(admin.ModelAdmin):
    list_display = ('date', 'status')
    search_fields = ['date']
    filter_horizontal = ('time_first', 'time_second',)
    list_filter = ('date',)
    fieldsets = (
        (None, {
            'fields': ('date', 'time_first', 'time_second', 'status')
        }),
    ) 
```

显然，我想预先填充水平的“time_first”过滤器，只有可以在晚上 7 点播放的玩家，第二个同上。怎么可能做到这一点？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T08:52:12.877

谢谢你的帮助。[我在davydany 的网站](http://davydany.com/post/8701385688/django-excluding-with-limit-choices-to)上找到了一个很好的解决方案：

```
time_first = models.ManyToManyField(player, related_name='firsttime', verbose_name='7PM', limit_choices_to={'id__in': player.objects.filter(preference='7PM')}) 
```

我希望这对其他人有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T14:22:08.393

你总是可以创建一个自定义表单

```
from django.contrib.admin.widgets import FilteredSelectMultiple
class SomeForm(forms.ModelForm):
    class Meta:
         model = MyModel
    time_first = ModelMultipleChoiceField(
    queryset=Player.objects.filter(......), required=False, widget=FilteredSelectMultiple) 
```

# ruby-on-rails - 一个模型与两个模型的关联

> ID：12406659
> 
> 赞同：1
> 
> 时间：2012-09-13T12:48:18.023
> 
> 标签：ruby-on-rails, model, associations

我有一个模型'Match'，属于一个名为'Team'的模型。球队有很多比赛。它看起来像这样：

```
 $class Match < ActiveRecord::Base
 belongs_to :home_team, :class_name => "Team"
 belongs_to :away_team, :class_name => "Team"

 class Team < ActiveRecord::Base
 has_many :matches 
```

在数据库中，我已经在“matches”表中正确设置了两个需要的字段 home_team_id 和 away_team_id。我尝试了多种方法，但每当我在匹配控制器中执行此类操作时：

```
 @matches = Match.find(:all, :include => :team)
 # Or:
 @matches = Match.where('team.gender = ?', true) 
```

我收到此错误：

```
Association named 'team' was not found; perhaps you misspelled it? 
```

在我看来，该协会不起作用。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:57:01.707

您尚未添加已添加的任何`team`关联`home_team`，`away_team`因此在您的代码中包括主队和客队。或创建团队关联

还有一件事，您将如何知道哪个是主队和客队，主队或客队应该需要一个外键，并添加`foreign_key`您的代码以识别它们。

# mysql - 带有 3 个表的简短 SQL 挑战，最大/分组依据，连接和排序依据

> ID：12406660
> 
> 赞同：1
> 
> 时间：2012-09-13T12:48:21.550
> 
> 标签：mysql, sql

给定 3 个表格，其列如下...

表（列）

> A (a_pk, b_pk, 其他)
> 
> B (b_pk, a_pk, c_pk)
> 
> C (c_pk, b_pk, 日期)

（注释：pk是主键，date是日期）

...我正在尝试选择...

> A.a_pk, A.other, C.date

...具有以下限制：

> max(B.b_pk) 按 B.a_pk 分组（只为每个 A.a_pk 选择 B.b_pk 的最大值）
> 
> A.other = 'something'（只是一个 WHERE 示例）
> 
> ORDER BY C.date（按最晚日期排序）

下面是一次没有成功的尝试（其他人看起来更糟了）

```
SELECT A.a_pk, A.other, C.date
FROM A, C
WHERE   
 A.other = 'something'
 AND
 A.a_pk IN 
  (
  SELECT max(B.b_pk), B.a_pk, B.c_pk, C.date
  FROM B
  INNER JOINT C ON C.b_pk = B.b_pk
  GROUP BY B.a_kp
  )
ORDER BY C.date DESC 
```

应该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:55:57.683

尝试

```
 Select A.a_pk, A.other, C.date
     From A Left Join (B Join C On C.b_pk = B.b_pk)
         On B.a_pk = A.a_pk
             And B.b_pk = 
                 (Select Max(b_pk)
                  From B
                  Where a_pk = A.a_pk)
     Order By C.Date 
```

# android - onListItemClickListener：传递长id值

> ID：12406661
> 
> 赞同：0
> 
> 时间：2012-09-13T12:48:22.860
> 
> 标签：android, database, sqlite, onitemclicklistener

## 更新

我最初问的问题是关于我的长 id 值，但因为你们说的正确，我有正确的 id，所以我删除了我的错误。谢谢您的帮助。阅读我的答案以获取更多详细信息。

1）我的应用程序使用本地 android SQLiteDatabase 并具有三个表。我对其中两个表没有问题，但事实证明我的第三个表出现了一些问题，因为我的列声明是`public static final string COLUMN_NAME = "name";`等等。

我的活动没有扩展 ListActivity，因此我可以为每个活动拥有自定义列表和列表视图。

我正在获取我`listview = (ListView) findViewById(R.id.myList);`的列表视图并向列表视图添加一个侦听器，`listview.setOnItemClickListener(ListListener);`然后这是我的列表侦听器方法：

```
 OnItemClickListener ListListener = new OnItemClickListener(){

    public void onItemClick(AdapterView<?> arg0, View v, int position,
            final long id)
{
        AlertDialog.Builder dialog = new AlertDialog.Builder(ExerciseList.this)
        .setIcon(R.drawable.edit)
        .setTitle("Update Selected Exercise")
        .setMessage("Would you like to update the current Exercise? Click continue to proceed.")
        .setPositiveButton("Continue", new DialogInterface.OnClickListener() {

            public void onClick(DialogInterface arg0, int arg1) {

                final Intent i = new Intent(getBaseContext(), AddExercise.class);
                i.putExtra(ExerciseDbAdapter.KEY_ROW_ID, id);
                startActivityForResult(i, EDIT_EXERCISE);

            }
        })
        .setNegativeButton("Back", new DialogInterface.OnClickListener() {

            public void onClick(DialogInterface dialog, int which) {
                dialog.cancel();

            }
        });
        dialog.show();  
    }
}; 
```

上面的方法只是一个列表项点击监听器！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:57:44.387

```
 Intent.putExtra("Key",value) is right way to put the data in intent so 

   i.putExtra("INSERT THE KEY HERE",ExerciseDbAdapter.KEY_ROW_ID, id); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T17:04:59.397

好的，伙计们，我发现了我的应用程序的问题，你们没事。我从应用程序中获得了正确的行 ID。

然而，我通过我的意图传递了另一个数据成员，导致`setRowIdFromIntent()`方法将 id 从更改`null`为`0`. 或从`null`不到`0`。

基本上，无论我传递的值是什么，由于我传递的数据成员，它都是`0`从我的方法中设置的。`setRowIdFromIntent()`因此上面的代码几乎与我的问题无关。

所以如果你想要一个点击列表监听器，上面的监听器肯定会帮助你将正确的 id 传递给你的新活动。再次为我的困惑感到抱歉。再次感谢所有其他帖子！

# javascript - 获取 ajax 加载图像的大小

> ID：12406665
> 
> 赞同：1
> 
> 时间：2012-09-13T12:48:33.687
> 
> 标签：javascript, jquery, image-size

我试过使用`$element.width()`or`$element.height()`并且两者似乎都无助于检索 ajax 加载图像的值。如何使用 jQuery 或常规 JS 获得这些？图像在 CSS 中没有设置。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T12:56:13.537

当您加载内容时，在您的 ajax 成功中使用类似这样的东西

```
var real_image_sizes = {};
$('your loaded images').one('load', function() {
    //get real image size
    real_image_sizes.width = this.width;   // Note: $(this).width() will not
    real_image_sizes.height = this.height; // work for in memory images.
}).each(function() {
    if(this.complete) $(this).load();
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:59:27.393

只需使用负载处理程序！

```
var $img = $('<img/>').attr('src','img_url.jpg').load(function(){ 
    console.log('width: ', $img.width(), ' height: ', $img.height()); 
});
$('body').append($img); 
```

这是一个[小提琴](http://jsfiddle.net/Q7Dpg/)

# css - IE9：使用过滤器时出现链接问题

> ID：12406667
> 
> 赞同：0
> 
> 时间：2012-09-13T12:48:39.893
> 
> 标签：css, filter, hyperlink, internet-explorer-9, gradient

我的问题：我有一个显示块的链接。在 IE9 上一切顺利。但是当我添加一个过滤器以获得渐变时，光标只有手在边框和文本上，而不是在框的其余部分上。

我已经在[jsfiddle中测试了我的代码](http://jsfiddle.net/pingoooo/SesGh/6/)

我可能做错了什么吗？我的代码适用于所有浏览器和版本。为了清楚起见，我只是删除了其他浏览器的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T21:27:51.400

`filter`为 IE8 工作“更好”。但对于 IE9，我会推荐 SVG 渐变。

在这里你可以找到微软官方的[SVG 渐变背景制作工具](http://ie.microsoft.com/testdrive/graphics/svggradientbackgroundmaker/default.html)

你会得到这样的东西：

```
/* SVG as background image (IE9/Chrome/Safari/Opera) */ 
background-image:url(data:image/svg+xml;base64,PHN2ZyBetcetcetc); 
```

您可以通过以下方式将其添加到您的规则中：

```
a {
    padding: 3px 5px;
    margin:5px;
    display:block;
    border:1px solid #000;
    background:#FAFAFA; /* fallback for browsers not supporting gradients */
    background-image:url(data:image/svg+xml;base64,PHN2ZyBetcetcetc); /* FF13, Opera12, IE9 */
    background:linear-gradient(#FAFAFA, #EAEAEA) repeat scroll 0 0 transparent; /* W3C */
} 
```

然后，使用[条件注释](http://nicolasgallagher.com/better-conditional-classnames-for-hack-free-css/)，您可以再次定位 IE8：

```
.ie8 a {
    filter:progid:DXImageTransform.Microsoft.gradient(startColorStr='#FAFAFA',EndColorStr='#EAEAEA'));
} 
```

无论如何，我建议你在谷歌上搜索“Visual CSS tool”以获得完整的跨浏览器代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:53:36.137

您只使用`-moz-linear-gradient`它，它仅适用于旧版本的 Firefox Mozilla。

对于 IE9，您还可以使用`CSS3`：`linear-gradient: { ... }`

对于旧版本的 Chrome 和 Safari，您应该使用`-webkit-linear-gradient`Opera`-o-linear-gradient`和`-ms-`IE（但并非一切都可以正常工作）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:55:31.680

一种解决方案是将您包装`a`在另一个中`div`并在其上应用您的背景属性，而不是在`a`;

```
<div class = "container"><a href="/">Glee is awesome!</a></div> 
```

CSS：

```
.container {
    filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='#FAFAFA',EndColorStr='#EAEAEA'));
    background: -moz-linear-gradient(#FAFAFA, #EAEAEA) repeat scroll 0 0 transparent;
    border: 1px solid #000;
    padding: 3px 5px;
    margin: 5px;
}
a {
    display: block;  
} 
```

这是一个小演示：[little link](http://jsfiddle.net/glee/Mch8T/)。

# postgresql - 如何在 cakephp 和 postgres 数据库中进行行锁定？

> ID：12406669
> 
> 赞同：0
> 
> 时间：2012-09-13T12:48:44.950
> 
> 标签：postgresql, cakephp, cakephp-2.0

我在我的 cakephp 项目中使用 postgres 数据库。我有一个包含一些数据的表和一个名为“状态”的列。“状态”是枚举，可以是“等待”、“进行中”、“完成”。

我的脚本必须使用 status=waiting 获取第一个找到的记录，将状态更改为“in_progress”，并在一个原子过程中获取该记录的 id 和所有这些。

计算后需要 id 将状态更改为“已完成”。将有许多这样的脚本并行工作，这就是为什么我需要这个简单的“行锁定”。

我第一次使用 postgres db - 有什么简单的方法可以做到这一点吗？也许蛋糕支持一些方便的方式来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:23:19.300

与 cakePHP 没有区别你有什么样的数据库，只需使用`$this->Model->find...`修改你的状态，然后 '$this->Model->save....`

```
$row = $this->Model->find('first',array('conditions' => array('Model.status' => 'waiting')));
$row['Model']['status'] = 'in progress';
$this->Model->save($row);
(...do something...)

$row['Model']['status'] = 'completed';
$this->Model->save($row); 
```

可能您想循环运行它并将某种 const 作为状态...

# c# - 如何使用 RANK() SQl 函数？

> ID：12406670
> 
> 赞同：1
> 
> 时间：2012-09-13T12:48:51.877
> 
> 标签：c#, asp.net, sql

我有一个**Marks**表，其中有一个列**tags_score**，我想使用**Order BY Marks_score Desc**使用选择查询添加一个 Rank 列。

我不知道如何使用 RANK() SQL 函数

提前致谢！！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T12:50:15.480

用这个：

**RANK() OVER (ORDER BY TOTAL_CNT DESC DESC) 作为排名**

```
 select t1.*,RANK() OVER (ORDER BY t1.Marks_score DESC) AS Rank  from Marks as t1 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:50:22.437

试试这个：

```
SELECT  *,RANK() OVER (order by marks_score  desc) as rnk
FROM    Marks 
```

[您可以在此处](http://blog.sqlauthority.com/2007/10/09/sql-server-2005-sample-example-of-ranking-functions-row_number-rank-dense_rank-ntile/)找到更多示例

同样的方式您可以使用 ROW_NUMBER()、DESNSE_RANK() 函数..

请阅读[本文](http://thehobt.blogspot.in/2009/02/rownumber-rank-and-denserank.html)以找出它们之间的区别

# android - ListView 中的硬件加速

> ID：12406672
> 
> 赞同：5
> 
> 时间：2012-09-13T12:48:57.693
> 
> 标签：android, listview, android-listview, hardware-acceleration

有没有办法在 ListView 中强制硬件加速。我有一个包含 400 多个项目的 ListView，带有一个图标，滚动非常慢。每个项目都有相同的图标。我还添加了一个 ViewHolder。在清单文件中，我启用了硬件加速。当我运行此代码时：

```
ListView list_new = (ListView) findViewById(R.id.listview01);
list_new.isHardwareAccelerated(); 
```

它返回假。我的手机是带有 Jelly Bean 的 Nexus S。如何强制硬件加速？

**编辑：** 这是我的列表视图：

```
<ListView
    android:id="@android:id/list"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:persistentDrawingCache="scrolling"
    android:hardwareAccelerated="true"
    android:fastScrollEnabled="true" 
    android:scrollingCache="true" 
    android:smoothScrollbar="true" >
</ListView> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:57:47.603

并非所有 View 都支持硬件加速。HardwareAccelerated 用于在 Canvas 上绘图。对于 ListView 使用

```
<ListView
...
android:smoothScrollbar="true";
...
> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-18T13:24:16.883

在您的列表视图中 `android:layerType="hardware"`

# c - 指向数组的特定值

> ID：12406675
> 
> 赞同：0
> 
> 时间：2012-09-13T12:49:08.867
> 
> 标签：c, pointers, array-address

我有一个数组，`int* array`有超过 10.000 个 int 值，但我想指向每个 100 个位置，这意味着我将有`int ** matrix`，其中：
`matrix[i][j]`，我想`i`从我的矩阵指向`array[i * 100]`，你如何替换地址？这是我所做的：

```
u_int8_t **matrix = (u_int8_t **)malloc(width * sizeof(u_int8_t *));

int width_cr = 0;
for (int i = 0; i < width; i ++) {
    if (i % 100 == 0) {

        u_int8_t *position = matrix[width_cr];
        position = &array[i];
        width_cr ++;           

    }
} 
```

问题是它指向数组的开头

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T12:53:51.640

存储`array[i]`in的地址`matrix[i / 100]`。

```
#define HOW_MUCH_NUMBERS 10000

[...]
{
  int array[HOW_MUCH_NUMBERS];
  int i = 0;
  int **matrix;

  matrix = malloc(sizeof(*matrix) * (HOW_MUCH_NUMBERS / 100));
  while (i < HOW_MUCH_NUMBERS)
  {
    matrix[i / 100] = &array[i];
    i += 100;
  }
  [...]
} 
```

# wordpress - 通过带有文本框的选项页面存储一个数组

> ID：12406678
> 
> 赞同：0
> 
> 时间：2012-09-13T12:49:18.303
> 
> 标签：wordpress, option

我在 Wordpress 中做了一个选项页面。我有一个文本框，并在一个 id 中放置一个值。现在我想将一组值存储在一个 ID 中。我在主题选项中存储一个文本的代码。

```
array(  "name" => __('Text'),
                    "desc" => __('Your Text username, to be used on the links'),
                    "id" => $shortname."_test",
                    "std" => "Tset",
                    "type" => "text"), 
```

从文本框中保存数据

```
case 'text':
        ?>
        <tr valign="top"> 
            <th scope="row"><label for="<?php echo $value['id']; ?>"><?php echo __($value['name'],'twentyeleven'); ?></label></th>
            <td>
                <input name="<?php echo $value['id']; ?>" id="<?php echo $value['id']; ?>" type="<?php echo $value['type']; ?>" value="<?php if ( get_option( $value['id'] ) != "") { echo get_option( $value['id'] ); } else { echo $value['std']; } ?>" />
                <?php echo __($value['desc'],'twentyeleven'); ?>

            </td>
        </tr> 
```

我想创建更多文本字段并保存在一个 ID 中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:03:23.900

对数组进行[序列化，或者对其进行](http://php.net/manual/en/function.serialize.php)[Json 编码](http://php.net/manual/en/function.json-encode.php)。

这将有效地将数组存储到您的选项表中，并在其适当的 ID 下作为字符串。拉取选项时，可以将选项反[序列化](http://www.php.net/manual/en/function.unserialize.php)或[Json 解码](http://www.php.net/manual/en/function.json-decode.php)回数组。

Json Encode/Decode 通常是首选，但请记住，在解码时，它默认为 Object 类型。将调用 Json Decode 的第二个参数设置为 true，以便它作为关联数组返回。

# eclipse - 如何在 Tycho 构建中向 Eclipse 包添加依赖项

> ID：12406680
> 
> 赞同：0
> 
> 时间：2012-09-13T12:49:19.863
> 
> 标签：eclipse, maven, p2, tycho

我想包含`org.eclipse.uml2.uml_4.0.0.v20120604-0919.jar`在一个 Maven 模块中。我已经设置了 p2 存储库

```
<repository>
    <id>juno</id>
    <layout>p2</layout>
    <url>http://download.eclipse.org/releases/juno</url>
</repository> 
```

并配置了 Tycho 构建扩展。我必须使用哪个`groupdId`和`artifactId`我必须使用第谷才能将`org.eclipse.uml2.uml_4.0.0.v20120604-0919.jar`其作为依赖项包含在内？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T16:09:19.057

`META-INF/MANIFEST.MF`在 Tycho 中，您需要在 OSGi 清单文件 ( )中指定插件的依赖关系。所以对于给定的 Eclipse 插件，你会写类似

```
Require-Bundle: org.eclipse.uml2.uml 
```

你不能通过 POM 配置来做同样的事情。

这背后的想法是第谷遵循所谓的*清单优先*方法。Tycho 的主要配置文件是 OSGi 清单和其他 Eclipse PDE 文件格式（如 feature.xml、*.product 文件等）。

其他工具，如 maven-bundle-plugin 遵循构建 OSGi 包的*POM 优先方法。*对于 maven-bundle-plugin，您需要在 POM 中指定依赖项，并相应地生成清单。

# objective-c - 库未加载

> ID：12406686
> 
> 赞同：21
> 
> 时间：2012-09-13T12:49:33.213
> 
> 标签：objective-c, ios, cocoa-touch

我以与添加其他框架相同的方式在我的应用程序中添加了 Social.framework。我已经下载了 xcode 4.5 和 iOS 6 。但我的应用程序仅在设备上崩溃并出现以下错误。它在模拟器上运行良好。

```
 dyld: Library not loaded: /System/Library/Frameworks/Social.framework/Social
  Referenced from: /var/mobile/Applications/FC88291D-2052-45D6-A7BB-65CE340F07BF/Uploading       Image.app/Uploading Image
 Reason: image not found 
```

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-09-14T05:08:33.753

我得到了这个确切的错误。我的应用程序当前的部署目标是 5.1。我想添加 Facebook 分享。我找到了这篇旧帖子，[有条件地包括一个适用于不同 iOS SDK 版本的库？](https://stackoverflow.com/questions/7723783/conditionally-including-a-library-for-different-ios-sdk-versions). 我所做的只是将“Social.framework”设置为“可选”并成功了，然后我的应用程序将在 ios 5.1 和 ios 6.0 上运行。当然，您需要在运行时检查设备运行的操作系统，否则如果您尝试在 ios 5.1 或更早版本中访问 social.framework，您可能会遇到崩溃。希望有帮助！

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2012-11-02T22:51:40.473

在`Xcode`go to `targets`、Go to`build phase`和搜索中，`Social frame work`您会在`"Link Binary with Libraries"`部分下找到该内容。选择`social frame work`并查看右侧有一个选项`required/optional`，只需更改`required`为`optional`。现在您可以在所有 ios 设备上运行而不会出现任何崩溃。 ![在此处输入图像描述](../Images/493ab77c3e8067a9c69ba4da51c09b94.png)

# c# - 如何使数据网格列可编辑

> ID：12406691
> 
> 赞同：0
> 
> 时间：2012-09-13T12:49:55.200
> 
> 标签：c#

我想让 DataGrid 中的 2 列可编辑。我尝试将 readonly 更改为 false，但这没有帮助。

所以任何人都可以告诉我我可以尝试的任何其他方式，或者这是不允许它可编辑的东西。

谢谢

我去了 DataDridView 任务，在那个特定的列上我更改了 ReadOnly 'false'。但这没有帮助。是的，它是一个 WinForm。

```
namespace Payroll
{
    partial class AttendanceLog
    {
        /// <summary>
        /// Required designer variable.
        /// </summary>
        private System.ComponentModel.IContainer components = null;

        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        /// <param name="disposing">true if managed resources should be disposed; otherwise, false.</param>
        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }

        #region Windows Form Designer generated code

        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        private void InitializeComponent()
        {
            System.Windows.Forms.DataGridViewCellStyle dataGridViewCellStyle1 = new System.Windows.Forms.DataGridViewCellStyle();
            this.label11 = new System.Windows.Forms.Label();
            this.groupBox1 = new System.Windows.Forms.GroupBox();
            this.btnShow = new System.Windows.Forms.Button();
            this.cmbMonth = new System.Windows.Forms.ComboBox();
            this.label6 = new System.Windows.Forms.Label();
            this.cmbYear = new System.Windows.Forms.ComboBox();
            this.btnClose = new System.Windows.Forms.Button();
            this.dgAttendanceLog = new System.Windows.Forms.DataGridView();
            this.btnSave = new System.Windows.Forms.Button();
            this.statusStrip1 = new System.Windows.Forms.StatusStrip();
            this.toolStripStatusLabel1 = new System.Windows.Forms.ToolStripStatusLabel();
            this.slno = new System.Windows.Forms.DataGridViewTextBoxColumn();
            this.empId = new System.Windows.Forms.DataGridViewTextBoxColumn();
            this.empName = new System.Windows.Forms.DataGridViewTextBoxColumn();
            this.workedDays = new System.Windows.Forms.DataGridViewTextBoxColumn();
            this.absentDays = new System.Windows.Forms.DataGridViewTextBoxColumn();
            this.weeklyOff = new System.Windows.Forms.DataGridViewTextBoxColumn();
            this.lateCominBy = new System.Windows.Forms.DataGridViewTextBoxColumn();
            this.earlyGoingBy = new System.Windows.Forms.DataGridViewTextBoxColumn();
            this.groupBox1.SuspendLayout();
            ((System.ComponentModel.ISupportInitialize)(this.dgAttendanceLog)).BeginInit();
            this.statusStrip1.SuspendLayout();
            this.SuspendLayout();
            // 
            // label11
            // 
            this.label11.AutoSize = true;
            this.label11.Font = new System.Drawing.Font("Tahoma", 8.25F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Point, ((byte)(0)));
            this.label11.ForeColor = System.Drawing.SystemColors.ControlText;
            this.label11.Location = new System.Drawing.Point(14, 42);
            this.label11.Name = "label11";
            this.label11.Size = new System.Drawing.Size(49, 13);
            this.label11.TabIndex = 106;
            this.label11.Text = "Month :";
            // 
            // groupBox1
            // 
            this.groupBox1.Controls.Add(this.btnShow);
            this.groupBox1.Controls.Add(this.cmbMonth);
            this.groupBox1.Controls.Add(this.label11);
            this.groupBox1.Controls.Add(this.label6);
            this.groupBox1.Controls.Add(this.cmbYear);
            this.groupBox1.Font = new System.Drawing.Font("Tahoma", 9.75F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Point, ((byte)(0)));
            this.groupBox1.ForeColor = System.Drawing.Color.MidnightBlue;
            this.groupBox1.Location = new System.Drawing.Point(12, 12);
            this.groupBox1.Name = "groupBox1";
            this.groupBox1.Size = new System.Drawing.Size(688, 79);
            this.groupBox1.TabIndex = 108;
            this.groupBox1.TabStop = false;
            this.groupBox1.Text = "Select";
            // 
            // btnShow
            // 
            this.btnShow.Font = new System.Drawing.Font("Tahoma", 8.25F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Point, ((byte)(0)));
            this.btnShow.ForeColor = System.Drawing.Color.Black;
            this.btnShow.Location = new System.Drawing.Point(533, 34);
            this.btnShow.Name = "btnShow";
            this.btnShow.Size = new System.Drawing.Size(75, 33);
            this.btnShow.TabIndex = 108;
            this.btnShow.Text = "Show";
            this.btnShow.UseVisualStyleBackColor = true;
            this.btnShow.Click += new System.EventHandler(this.btnShow_Click);
            // 
            // cmbMonth
            // 
            this.cmbMonth.Font = new System.Drawing.Font("Tahoma", 8.25F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((byte)(0)));
            this.cmbMonth.FormattingEnabled = true;
            this.cmbMonth.Items.AddRange(new object[] {
            "Month",
            "Jan",
            "Feb",
            "Mar",
            "Apr",
            "May",
            "Jun",
            "Jul",
            "Aug",
            "Sep",
            "Oct",
            "Nov",
            "Dec"});
            this.cmbMonth.Location = new System.Drawing.Point(83, 34);
            this.cmbMonth.Name = "cmbMonth";
            this.cmbMonth.Size = new System.Drawing.Size(125, 21);
            this.cmbMonth.TabIndex = 104;
            // 
            // label6
            // 
            this.label6.AutoSize = true;
            this.label6.Font = new System.Drawing.Font("Tahoma", 8.25F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Point, ((byte)(0)));
            this.label6.ForeColor = System.Drawing.SystemColors.ControlText;
            this.label6.Location = new System.Drawing.Point(283, 42);
            this.label6.Name = "label6";
            this.label6.Size = new System.Drawing.Size(39, 13);
            this.label6.TabIndex = 107;
            this.label6.Text = "Year :";
            // 
            // cmbYear
            // 
            this.cmbYear.Font = new System.Drawing.Font("Tahoma", 8.25F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((byte)(0)));
            this.cmbYear.FormattingEnabled = true;
            this.cmbYear.Location = new System.Drawing.Point(341, 34);
            this.cmbYear.Name = "cmbYear";
            this.cmbYear.Size = new System.Drawing.Size(125, 21);
            this.cmbYear.TabIndex = 105;
            // 
            // btnClose
            // 
            this.btnClose.Font = new System.Drawing.Font("Tahoma", 8.25F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Point, ((byte)(0)));
            this.btnClose.ForeColor = System.Drawing.Color.Black;
            this.btnClose.Location = new System.Drawing.Point(625, 501);
            this.btnClose.Name = "btnClose";
            this.btnClose.Size = new System.Drawing.Size(75, 33);
            this.btnClose.TabIndex = 9;
            this.btnClose.Text = "Close";
            this.btnClose.UseVisualStyleBackColor = true;
            this.btnClose.Click += new System.EventHandler(this.btnClose_Click);
            // 
            // dgAttendanceLog
            // 
            this.dgAttendanceLog.AllowUserToAddRows = false;
            dataGridViewCellStyle1.BackColor = System.Drawing.Color.LightCyan;
            this.dgAttendanceLog.AlternatingRowsDefaultCellStyle = dataGridViewCellStyle1;
            this.dgAttendanceLog.BackgroundColor = System.Drawing.Color.WhiteSmoke;
            this.dgAttendanceLog.ColumnHeadersHeightSizeMode = System.Windows.Forms.DataGridViewColumnHeadersHeightSizeMode.AutoSize;
            this.dgAttendanceLog.Columns.AddRange(new System.Windows.Forms.DataGridViewColumn[] {
            this.slno,
            this.empId,
            this.empName,
            this.workedDays,
            this.absentDays,
            this.weeklyOff,
            this.lateCominBy,
            this.earlyGoingBy});
            this.dgAttendanceLog.Location = new System.Drawing.Point(12, 107);
            this.dgAttendanceLog.Name = "dgAttendanceLog";
            this.dgAttendanceLog.RowHeadersVisible = false;
            this.dgAttendanceLog.Size = new System.Drawing.Size(688, 388);
            this.dgAttendanceLog.TabIndex = 109;
            this.dgAttendanceLog.CellDoubleClick += new System.Windows.Forms.DataGridViewCellEventHandler(this.dgAttendanceLog_CellDoubleClick);
            // 
            // btnSave
            // 
            this.btnSave.Font = new System.Drawing.Font("Tahoma", 8.25F, System.Drawing.FontStyle.Bold, System.Drawing.GraphicsUnit.Point, ((byte)(0)));
            this.btnSave.ForeColor = System.Drawing.Color.Black;
            this.btnSave.Location = new System.Drawing.Point(544, 501);
            this.btnSave.Name = "btnSave";
            this.btnSave.Size = new System.Drawing.Size(75, 33);
            this.btnSave.TabIndex = 110;
            this.btnSave.Text = "Save";
            this.btnSave.UseVisualStyleBackColor = true;
            this.btnSave.Click += new System.EventHandler(this.btnSave_Click);
            // 
            // statusStrip1
            // 
            this.statusStrip1.Items.AddRange(new System.Windows.Forms.ToolStripItem[] {
            this.toolStripStatusLabel1});
            this.statusStrip1.Location = new System.Drawing.Point(0, 545);
            this.statusStrip1.Name = "statusStrip1";
            this.statusStrip1.Size = new System.Drawing.Size(711, 22);
            this.statusStrip1.TabIndex = 111;
            this.statusStrip1.Text = "statusStrip1";
            // 
            // toolStripStatusLabel1
            // 
            this.toolStripStatusLabel1.Name = "toolStripStatusLabel1";
            this.toolStripStatusLabel1.Size = new System.Drawing.Size(298, 17);
            this.toolStripStatusLabel1.Text = "Note : Please Single click on respective field for manual entry";
            // 
            // slno
            // 
            this.slno.HeaderText = "Sl No.";
            this.slno.Name = "slno";
            this.slno.Width = 50;
            // 
            // empId
            // 
            this.empId.HeaderText = "Emp. ID";
            this.empId.Name = "empId";
            this.empId.Width = 75;
            // 
            // empName
            // 
            this.empName.HeaderText = "Emp. Name";
            this.empName.Name = "empName";
            this.empName.Width = 125;
            // 
            // workedDays
            // 
            this.workedDays.HeaderText = "Worked Days";
            this.workedDays.Name = "workedDays";
            this.workedDays.ReadOnly = true;
            this.workedDays.Width = 75;
            // 
            // absentDays
            // 
            this.absentDays.HeaderText = "Absent Days";
            this.absentDays.Name = "absentDays";
            this.absentDays.ReadOnly = true;
            this.absentDays.Width = 75;
            // 
            // weeklyOff
            // 
            this.weeklyOff.HeaderText = "Weekly Off";
            this.weeklyOff.Name = "weeklyOff";
            this.weeklyOff.Width = 75;
            // 
            // lateCominBy
            // 
            this.lateCominBy.HeaderText = "Late Going By (in Days)";
            this.lateCominBy.Name = "lateCominBy";
            // 
            // earlyGoingBy
            // 
            this.earlyGoingBy.HeaderText = "Early Going By (in Days)";
            this.earlyGoingBy.Name = "earlyGoingBy";
            // 
            // AttendanceLog
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.BackColor = System.Drawing.Color.WhiteSmoke;
            this.ClientSize = new System.Drawing.Size(711, 567);
            this.ControlBox = false;
            this.Controls.Add(this.statusStrip1);
            this.Controls.Add(this.btnSave);
            this.Controls.Add(this.dgAttendanceLog);
            this.Controls.Add(this.btnClose);
            this.Controls.Add(this.groupBox1);
            this.Font = new System.Drawing.Font("Tahoma", 8.25F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((byte)(0)));
            this.Name = "AttendanceLog";
            this.StartPosition = System.Windows.Forms.FormStartPosition.CenterScreen;
            this.Text = "Attendance Log";
            this.Load += new System.EventHandler(this.AttendanceLog_Load);
            this.groupBox1.ResumeLayout(false);
            this.groupBox1.PerformLayout();
            ((System.ComponentModel.ISupportInitialize)(this.dgAttendanceLog)).EndInit();
            this.statusStrip1.ResumeLayout(false);
            this.statusStrip1.PerformLayout();
            this.ResumeLayout(false);
            this.PerformLayout();

        }

        #endregion

        private System.Windows.Forms.Label label11;
        private System.Windows.Forms.GroupBox groupBox1;
        private System.Windows.Forms.Button btnShow;
        private System.Windows.Forms.Button btnClose;
        private System.Windows.Forms.DataGridView dgAttendanceLog;
        private System.Windows.Forms.ComboBox cmbMonth;
        private System.Windows.Forms.Label label6;
        private System.Windows.Forms.ComboBox cmbYear;
        private System.Windows.Forms.Button btnSave;
        private System.Windows.Forms.StatusStrip statusStrip1;
        private System.Windows.Forms.ToolStripStatusLabel toolStripStatusLabel1;
        private System.Windows.Forms.DataGridViewTextBoxColumn slno;
        private System.Windows.Forms.DataGridViewTextBoxColumn empId;
        private System.Windows.Forms.DataGridViewTextBoxColumn empName;
        private System.Windows.Forms.DataGridViewTextBoxColumn workedDays;
        private System.Windows.Forms.DataGridViewTextBoxColumn absentDays;
        private System.Windows.Forms.DataGridViewTextBoxColumn weeklyOff;
        private System.Windows.Forms.DataGridViewTextBoxColumn lateCominBy;
        private System.Windows.Forms.DataGridViewTextBoxColumn earlyGoingBy;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:07:17.030

在 WinForms 中，您可以将 DataGrid 的 EditMode 属性设置为**EditOnEnter**。datagrid 视图的只读属性也应该为 false。然后您可以为每个列设置 ReadOnly。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T14:34:37.733

好的，我发现了你的问题。您最有可能不使用数据源或使用 a`ReadOnlyCollection`作为数据源。然后 DataGridView 将根本不允许编辑。

如果我只将行添加到数据网格，我会看到与您相同的行为。只要我使用 a`BindingList`作为数据源，我就可以进行编辑（单击一次进入单元格并开始输入）。您也可以考虑删除您的双击处理程序，因为这会干扰默认行为。

这对我有用：

```
public class Person
{
  public string Name { get; set; }
  public string EmpId { get; set; }
}

public MainForm()
{
  InitializeComponent();

  // bind column to property of person
  empName.DataPropertyName = "Name";
  empId.DataPropertyName = "EmpId";

  // set our bindinglist of persons as datasource
  var bindingList = new BindingList<Person>();
  bindingList.Add(new Person(){ Name = "John", EmpId = "12345" });
  bindingList.Add(new Person(){ Name = "David", EmpId = "12346" });
  dgAttendanceLog.DataSource = bindingList;
} 
```

# javascript - 带有时区的 Javascript 日期字符串转换器

> ID：12406693
> 
> 赞同：0
> 
> 时间：2012-09-13T12:49:59.243
> 
> 标签：javascript, datetime

使用 JavaScript，我如何翻译如下日期字符串：

```
Sep 13, 1:13PM GMT+01:00
Sep 12, 4:00PM EDT 
```

自纪元以来的 Unix 时间戳或 JavaScript 毫秒？

我认为格式是：

```
MMM DD, h:mmtt ?K 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:58:31.830

我已经走了这么远，接近答案。

*   它对字符串执行正则表达式并将每个元素捕获到一个组中
*   时间的 24 小时表示已更正
*   我假设这是今年
*   它没有考虑到时区
*   使用[解析](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/parse)方法

```
function getTimestamp(str){
 var re = /(\w{3}) (\d{2}), (\d):(\d{2})(\w{2}) (.*)/;
  var match = re.exec(str);
  if (match !== null) {
      var HH = match[5]==='PM' ? +match[3]+12 : match[3];
      return Date.parse(match[1]+' '+match[2]+', '+new Date().getFullYear()+' '+ HH +':'+match[4]);
  }
}

getTimestamp('Sep 12, 4:00PM EDT'); //=> 1347462000000 
```

# tfs - 缺少 TFS 2012 中的 SCRUM“积压”和“板”选项卡

> ID：12406695
> 
> 赞同：2
> 
> 时间：2012-09-13T12:50:11.203
> 
> 标签：tfs, scrum

我已经在 Windows server 2008 上安装了 TFS 2012 Express。
创建了新项目，并选择了 Scrum 2.0 流程模板。

从所有教程中，我了解到我应该有**backlog**、**board**和**work items**选项卡。
但是，我只有**工作项**。我如何获得另外两个？

这里：[TFS11 主页中缺少 View Backlog 链接](http://social.msdn.microsoft.com/Forums/en-US/TFSvnext/thread/6712d988-4186-4367-980f-42e6f422c3b8/) 有人指出管理页面中有 Web 访问权限设置，但在管理页面中，我也缺少**Web 访问**选项卡。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-14T13:50:38.470

[敏捷规划工具在 TFS Express 中不可用](http://blogs.msdn.com/b/buckh/archive/2012/06/07/visual-studio-2012-features-enabled-by-using-a-tfs-2012-server.aspx)。在帖子的“敏捷/Scrum”部分下，它说：

> 产品待办事项和 Sprint 计划——这些需要 Premium 或 Ultimate（请参阅这篇关于通过[许可功能](http://blogs.msdn.com/b/buckh/archive/2012/06/03/after-upgrading-updating-licensing-and-enabling-async-checkout-for-server-workspaces.aspx)启用的帖子）

文章最后还提到：

> [2012 年 6 月 7 日更新] [TFS Express](http://www.microsoft.com/visualstudio/11/en-us/downloads#tfs-express)不包含任何敏捷特性。它真正专注于源代码控制、构建和错误跟踪。[你可以在这里](http://blogs.msdn.com/b/bharry/archive/2012/02/23/coming-soon-tfs-express.aspx)阅读更多关于它的信息。

# windows - Windows API 将窗口附加到桌面的左侧或右侧

> ID：12406698
> 
> 赞同：0
> 
> 时间：2012-09-13T12:50:22.080
> 
> 标签：windows, api

> **可能重复：**
> [如何将应用程序停靠在 Windows 桌面上？](https://stackoverflow.com/questions/2792024/how-to-dock-an-application-in-the-windows-desktop)

我需要像 Google 桌面那样的窗口行为。Google 桌面的主窗口可以附加在桌面的左侧或右侧，并且不会与桌面图标重叠。图标会自动从这个地方移动！如果最大化另一个窗口，它只使用可用空间并且不使用附加的 Google 桌面窗口占用的区域。它也适用于 Windows XP

Google 桌面使用什么 API 来处理此类行为？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T13:02:34.170

您所说的 UI 元素是应用程序栏，或简称为应用程序栏。它是使用 API 函数[`SHAppBarMessage'](http://msdn.microsoft.com/en-us/library/windows/desktop/bb762108%28v=vs.85%29.aspx)创建和操作的。

例如，要创建一个新的应用栏，您需要向它`ABM_NEW`发送带有消息标识符的消息，Windows 可以使用它与它进行通信。要将条放置在桌面的一个边缘，请向其发送`ABM_SETPOS`消息。定义了很多消息；它们列在我上面链接的页面上。

# iphone - 内存警告 IOS 6 App Dev 与仪器中的低活动字节

> ID：12406701
> 
> 赞同：3
> 
> 时间：2012-09-13T12:50:27.023
> 
> 标签：iphone, memory, warnings, cgimage, ios6

我正在更新应用程序以使其与 IOS 6 兼容，出现内存警告。仪器中的实时字节显示使用率低（2.3 MB）。在 VM 跟踪器中，脏大小约为 50%。在 VM Tracker 类型 = CG Image -> 脏大小增加到 100%。我的应用程序要求用户拍照，但我没有使用任何核心图形对象。有没有办法释放 CG Image 脏内存？感谢您抽出时间查看我的请求。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-19T11:36:18.647

我使用 ARC 的应用程序在 iOS6 上开始严重泄漏内存，而在 iOS5 上完美运行。当我说“泄漏”时，我实际上是指分配内存，然后当我从可变数组中删除对象时没有正确释放内存，导致应用程序的内存使用量急剧增加。

在经历了很多挫折之后，我设法通过在有问题的部分周围设置一个 @autoreleasepool { ... } 来解决它。

我怀疑 iOS6 对我的应用程序的线程处理与 iOS5 不同，因为曾经有一个 @autorelease 池覆盖该进程。

我建议您尝试该解决方案，因为它实施起来非常快。

# vba - 删除当前行

> ID：12406703
> 
> 赞同：-1
> 
> 时间：2012-09-13T12:50:31.983
> 
> 标签：vba, ms-access, delete-row

我有一个与查询相关的掩码。

此掩码显示访问表中的记录（一次一条记录），例如 A 表。

当用户点击一个按钮时，记录被复制到另一个表中，比如 B，它必须从原始表 (A) 中删除。此外，如果有的话，掩码必须传递到下一个或上一个记录。

表 B 不能有键字段。

我如何通过 vba 实现这一目标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:17:35.713

Have your button copy, and then delete the record being displayed on the form on your button press.

```
Sub btnCopy()
    Dim strSQL as string
    strSQL = "INSERT INTO TableB SELECT fld1, fld2 FROM TableA WHERE fld1 = '" & txtFld1 & "'"
    CurrentDb.Execute strSQL
    strSQL = "DELETE FROM TableA WHERE fld1 = '" & txtFld1 & "'"
    CurrentDb.Execute strSQL
End Sub 
```

# c# - 从使用的命名空间中排除一个类

> ID：12406708
> 
> 赞同：7
> 
> 时间：2012-09-13T12:50:49.367
> 
> 标签：c#, .net, namespaces

我所有 C# 文件的第一条语句是“ **using System;** ”。现在使用框架版本 4，这个命名空间包含一个名为“Action”的类。这也是我自己的代码在经常使用的命名空间中的类的名称。现在当然有冲突。当然，我可以在以前使用“Action”的地方使用显式的“MyNamespace.Action”来解决这个冲突。这是几百行，如果不是几千行的话。或者我无法使用 System 命名空间，这当然会导致许多其他问题。我想写一些类似“使用 System 但不是 System.Action”的东西，但我找不到执行此操作的语句。有任何想法吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-13T12:53:07.677

不，你不能。

但是你可以添加`using Action = MyNamespace.Action`. 不过，这对于新开发人员来说会非常混乱，因为 Action 自 3.5 以来是 .net 的基本部分，所以我强烈建议您重命名您的类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:54:34.387

该`using`指令有两个用途：

要允许在命名空间中使用类型，因此您不必限定在该命名空间中使用类型：

```
using System.Text; 
```

为命名空间或类型创建别名（*你可以选择这个*）。

```
using Project = PC.MyCompany.Project; 
```

该`using`关键字还可用于创建`using`语句，这些语句定义何时释放对象。有关更多信息，请参阅`using`声明。

[using 指令（C# 参考）](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-directive)

# eclipse - 在eclipse中将不同的更新站点合并为一个

> ID：12406714
> 
> 赞同：2
> 
> 时间：2012-09-13T12:51:21.143
> 
> 标签：eclipse, eclipse-plugin, eclipse-rcp

我有 2 个不同的更新站点（来自 2 个不同的客户端）。是否可以使用 Eclipse 机制将这两个更新站点合并为一个，以便我可以在“安装软件”菜单中提供单个 url/位置并显示两个更新站点的内容？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:15:14.723

您可以使用所谓的复合存储库。要创建这样的存储库，您可以使用特殊的 p2 ant 调用，例如

```
<p2.composite.repository>
  <repository location="file:/myDestination" name="A new repository" kind="M" />
  <add>
    <repository location="http://aSource/" kind="M" />
  </add>
</p2.composite.repository> 
```

有关详细信息，请参阅[Eclipse Wiki](http://wiki.eclipse.org/Equinox/p2/Composite_Repositories_%28new%29)

# css - 输入元素填满剩余宽度

> ID：12406724
> 
> 赞同：0
> 
> 时间：2012-09-13T12:52:17.177
> 
> 标签：css

已经有很多关于 CSS 和剩余宽度的问题。阅读它们后，我仍然有一个无法解决的问题。当试图让输入元素用完剩余的宽度时，它总是比其包含的`div`.

```
<!DOCTYPE html>
<html>
<body>
    <div>
        <div style='float:left; margin-right:10px;'>Hello:</div>
        <div style='overflow:hidden'><input style='width:100%'/></div>
    </div>
</body>
</html> 
```

`input`元素总是 4 像素太宽而无法显示其右边框。如果我将`margin-left`输入设置为`-4px`可见，但不显示左边框。

用 Chrome 对此进行了测试。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T13:08:25.173

您可以添加`box-sizing: border-box;`到您的`input`以避免溢出。它的作用基本上是在设置时会考虑边框和填充`width: 100%`。请注意，您必须为不同的浏览器包含几个供应商前缀：

```
.myinput {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    border: 2px solid orange; /*just to make border more clear*/
    width: 100%;
} 
```

小演示：[小链接](http://jsfiddle.net/glee/3WtXh/)。

# ruby-on-rails - 嵌套表单在 rails_admin 中不起作用

> ID：12406727
> 
> 赞同：1
> 
> 时间：2012-09-13T12:52:20.697
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, rubygems, rails-admin

品牌**有很多**形象是我的联想。图片使用回形针

在 Rails Admin 中，我想在添加品牌时添加图片

```
class Brand < ActiveRecord:Base
  has_many :images, as=> :imageable
end

class Image < ActiveRecord:Base
  attr_accessor :image_thumb
  attr_accessible :image, :imageable_id, :imageable_type, :image_thumb
  has_attached_file :image, :styles => { :medium => "300x300>", :thumb => "100x100>" }
  belongs_to :imageable, :polymorphic => true
end 
```

但这就是我得到的

![在此处输入图像描述](../Images/4afe368ac97ac601d68afb059d4db322.png)

***我怎样才能实现我的目标？***

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T14:45:07.030

我需要添加 attr_accessible

```
class Brand < ActiveRecord::Base
    attr_accessible :name, :images_attributes
    has_many :products
    has_many :images, :as => :imageable
  accepts_nested_attributes_for :images, :allow_destroy => true
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-26T13:40:14.187

解决方案是当您使用acts_as_taggable 时，将下一个代码添加到您的rails_admin.rb 配置文件中：

```
field :tag_list do
  label "Tag"
end 
```

或“image_list”，取决于您使用的是什么。

# javascript - 使用 jQuery 的不寻常图形

> ID：12406730
> 
> 赞同：-1
> 
> 时间：2012-09-13T12:52:36.340
> 
> 标签：javascript, jquery, canvas, graph, svg

如何使用 javascript 制作此图？

什么库可以处理这个（canvas/svg）？

![在此处输入图像描述](../Images/234ad12910df600abc413f0cdf463213.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:02:30.597

高图

[http://www.highcharts.com/demo/areaspline](http://www.highcharts.com/demo/areaspline)

# jquery - 使用 jQuery prepend 添加 div 元素

> ID：12406736
> 
> 赞同：-1
> 
> 时间：2012-09-13T12:53:10.223
> 
> 标签：jquery

我想知道是否可以有几个具有不同 id 的 div 元素具有不同的内容，然后根据菜单中的选择添加它们？当页面加载时，所有这些元素都应该被隐藏。我可以这样做吗？

编辑：我的想法是将所有信息放在一个页面上，并根据用户的选择只显示一些部分，而不是加载几个不同的页面，而不是只加载一些文本，但主题不同。这是一个坏主意吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:01:16.007

**[演示](http://jsbin.com/ilecik/2/edit)**

创建所有*菜单*和*框*元素：

```
<ul id="menu">
   <li>1</li>
   <li>2</li>
   <li>3</li>
</ul>

<div class="box">Box 1</div>
<div class="box">Box 2</div>
<div class="box">Box 3</div> 
```

确保你的盒子是 CSS：

```
display:none; 
```

比简单地做：

```
$(function(){
   $('#menu li').click(function(){
        var menuLiIndex = $(this).index();
        $('.box').hide().eq( menuLiIndex ).show();
   });
}); 
```

# mysql - 在 MySql 中使用循环

> ID：12406738
> 
> 赞同：0
> 
> 时间：2012-09-13T12:53:11.467
> 
> 标签：mysql

我对 MySQL 有疑问。我有一张桌子，里面有一些列。我必须使用条目本身对每个条目进行计算。目前我对每个条目都使用以下方式......

```
select ((count(b)*10)/sum(a)) as AvgT from Kross where b = 'ABC'; 
```

无论如何都可以在不使用 WHERE 的情况下对所有条目执行此操作？？？可能正在为 b 列中的每个条目或类似的东西使用循环...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T12:59:08.630

尝试：[`group by`](http://www.postgresql.org/docs/8.0/static/sql-select.html)而不是`where`.

```
select ((count(b)*10)/sum(a)) as AvgT from Kross group by b 
```

# bash - eduroam 安装和设置后主机名已更改

> ID：12406739
> 
> 赞同：0
> 
> 时间：2012-09-13T12:53:22.543
> 
> 标签：bash, hostname

我刚刚在我的笔记本电脑上设置了 eduroam，今天早上当我启动我的终端时，我注意到我的主机名很可能被 eduroam 设置为一个新值。任何想法为什么或如何发生这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:05:46.537

每次加入新网络时（至少可能），您都会获得一个新的主机名。主机名标识计算机，因此由您连接的网络分配。这通常作为 DHCP 的一部分发生，您可以在其中获得 IP 地址和路由信息。

这是完全正常的，无需担心。如果您绝对需要某个主机名，请与网络管理员联系。

# facebook - 带有自定义 URL 的 Facebook 多朋友选择器（邀请朋友）

> ID：12406743
> 
> 赞同：1
> 
> 时间：2012-09-13T12:53:40.240
> 
> 标签：facebook, facebook-graph-api

我已经按照本页[https://developers.facebook.com/docs/reference/dialogs/requests/的说明实施了 FB 多朋友选择器](https://developers.facebook.com/docs/reference/dialogs/requests/)

```
 function sendRequestViaMultiFriendSelector() {
    FB.ui({method: 'apprequests',
      message: 'My Great Request'
    }, requestCallback);
  } 
```

但是我想将自定义网址发送给用户，因为我的 Facebook 应用程序末尾有一些参数，如下所示 [http://apps.facebook.com/MY_APP_NAME/MY_PARAMETERS](http://apps.facebook.com/MY_APP_NAME/MY_PARAMETERS)

但是，使用上述方法，用户将获得以下链接，其中省略了 MY_PARAMETERS

我在“apprequests”方法中看不到任何“url”参数。但是，这是 Sweepstakes 成功完成的事情。他们能够在消息中传递所有参数，我想复制相同的功能。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T14:19:16.443

该请求会将接受用户指向您的画布 URL - 您无法更改任何内容。

但是，如果您需要将自定义数据与请求“一起”传递 –`data`对话框的参数就是为此。在从 API 读取请求对象的详细信息后，您将获得放在那里的信息。

# php - 使用 PHP 进行特定 MySQL 查询时如何返回数据？

> ID：12406746
> 
> 赞同：0
> 
> 时间：2012-09-13T12:53:45.337
> 
> 标签：php, mysql

这是我的 PHP MySQL 查询：

```
$query = "SELECT falsegoto FROM timeconditions WHERE [timeconditions_id] = 0";
$result =  mysql_query($query); 
```

此查询应该只有一个结果，我不确定如何在 PHP 中显示它？ `mysql_result()`似乎只适用于更大的数据集？

任何帮助或解释都会受到重视。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T12:55:43.113

正如 Peeha 提到的，您使用 mysql，但最好使用 mysqli

所以代码将如下所示：

```
$query = "SELECT falsegoto FROM timeconditions WHERE [timeconditions_id] = 0";
$result =  mysqli_query($query);
    while($row = myslqi_fetch_assoc($result){
    // DO STUFF
} 
```

我用它来做所有事情。它只是遍历结果中的每一行。如果只有一排，则只有一次....

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:56:58.083

像这样使用它：

```
while ($row = mysql_fetch_assoc($result)) {
    echo $row['firstname'];
    echo $row['lastname'];
    echo $row['address'];
    echo $row['age'];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T13:02:24.340

您必须获取行，有几种方法可以做到这一点：`mysql_fetch_object`、`mysql_fetch_row`和. 这些方法将从结果中读取一行并将其从处理程序中删除，因此如果您循环调用，它将一一读取所有行，直到它到达末尾并返回 false。`mysql_fetch_array``mysql_fetch_assoc`

例子：

```
while($obj = mysql_fetch_object($result)){
    echo $obj->name;
} 
```

PHP.net 文档：
[mysql_fetch_object](http://php.net/manual/en/function.mysql-fetch-object.php)、
[mysql_fetch_row](http://php.net/manual/en/function.mysql-fetch-row.php)、
[mysql_fetch_array](http://php.net/manual/en/function.mysql-fetch-array.php)、
[mysql_fetch_assoc](http://php.net/manual/en/function.mysql-fetch-assoc.php)

# ios - 模拟器中的 iOS 6 自动旋转与实际的 iOS 6 设备不同

> ID：12406748
> 
> 赞同：8
> 
> 时间：2012-09-13T12:53:58.643
> 
> 标签：ios, objective-c

我的应用程序不会在 iOS 6 GM 模拟器中自动旋转，但它会在设备上使用相同版本的 iOS。这可能是模拟器错误吗？该应用程序正在使用已弃用的自动旋转方法，但它们在设备本身上运行良好，这让我想知道模拟器 API 是否不同？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-27T13:34:27.777

它仍应与已弃用的旋转方法一起使用，但您需要将以下内容添加到您的`didFinishLaunchingWithOptions:`方法中：

```
self.window.rootViewController = yourRootViewController; 
```

这告诉主`window`视图控制器将旋转通知发送到哪个视图控制器。这是 iOS 6.0 SDK 的新功能。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-09-13T14:04:00.877

这是我添加的让我的应用程序再次运行的内容：

```
// Tell the system what we support
- (NSUInteger)supportedInterfaceOrientations {
    return UIInterfaceOrientationMaskAllButUpsideDown;
}

// Tell the system It should autorotate
- (BOOL) shouldAutorotate {
    return YES;
}

// Tell the system which initial orientation we want to have
- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation {
    return UIInterfaceOrientationPortrait;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-26T18:06:02.747

添加以下内容不足以使其在模拟器上运行：

```
- (NSUInteger)supportedInterfaceOrientations {
    return UIInterfaceOrientationMaskAllButUpsideDown;
}
- (BOOL) shouldAutorotate {
    return YES;
}
- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation {
    return UIInterfaceOrientationPortrait;
} 
```

为了使它工作，我还在 appDelegate 类的 didFinishLaunchingWithOptions 函数中添加了以下内容：

```
self.window.rootViewController = viewController; 
```

添加后我不再收到以下错误： ***应用程序窗口应该在应用程序启动结束时有一个根视图控制器***

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-25T06:23:53.280

```
- (BOOL)shouldAutorotate {
    return NO;
} 
```

并将 app plist 文件中根视图控制器的支持旋转设置为仅纵向。

# c# - 通过指定多个条件在通用列表中查找项目

> ID：12406750
> 
> 赞同：22
> 
> 时间：2012-09-13T12:54:07.010
> 
> 标签：c#, linq, lambda

大多数情况下，我们会找到带有如下代码的通用列表：

```
CartItem Item = Items.Find(c => c.ProductID == ProductID);
Item.Quantity = Quantity;
Item.Price = Price; 
```

所以上面的代码是用其他数据来查找和更新的，但是如果我想通过多个条件来查找，那我该如何编写代码呢？

我想编写如下代码：

```
CartItem Item = Items.Find(c => c.ProductID == ProductID and c.ProductName == "ABS001"); 
```

当我们找到通用列表时，请指导我了解多种情况。

* * *

## 回答 #1

> 赞同：65
> 
> 时间：2012-09-13T12:56:18.313

尝试这个：

```
CartItem Item = Items.Find(c => (c.ProductID == ProductID) && (c.ProductName == "ABS001")); 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-09-13T12:56:05.370

尝试这个：

```
Items.Find(c => c.ProductID == ProductID && c.ProductName == "ABS001"); 
```

lambda 表达式的主体只是一个方法。您可以在其中使用所有语言结构，就像在常规方法中一样。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-04-24T15:24:33.957

就个人而言，我更喜欢

```
Items.Find(item => item.ProductId == ProductID && item.ProductName.Equals("ABS001")); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-09-13T12:59:37.480

使用*&&*代替*and*

```
var result = Items.Find(item => item.ProductId == ProductID && item.ProductName == "ABS001"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-05-23T10:54:31.160

当有人用大写的第一个字符命名变量时，我很恼火，所以（productID 而不是 ProductID）：

```
CartItem Item = Items.Find(c => (c.ProductID == productID) && (c.ProductName == "ABS001")); 
```

:)

# jquery - jquery 禁用表中的所有复选框

> ID：12406751
> 
> 赞同：0
> 
> 时间：2012-09-13T12:54:10.240
> 
> 标签：jquery

如何仅禁用表格行中的一个复选框？我在 phtml 文件中有我的 for 条件。我的 html 有一个`td`复选框，但如果我单击一个复选框，它会禁用表中的所有复选框。下面是我的带有复选框的 for 循环。

```
<?php    
    foreach($this->rows as $record)
    {         
        echo "<tr>";       
        echo "<td >". $record['firstname'] . "</td>";      
        echo "<td>".$record['advicetoowners'] . "</td>";        
        echo"<td>".$record['customdata'] . " <br /> ".$record['reservation'."</td>"; 
        ?>

        <td class='stylecontent'width='2' >
            <input type="checkbox" name="seen" value="" class='chkAll'/>
        </td>     
        <?php
    }          
?> 
```

我的 jQuery 是：

```
$('.chkAll').change(function() {
    // This disables all the check box in a table.How to make it to disable only one
    $('input:checkbox').attr('disabled', this.checked); 
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:57:15.420

将其更改为

```
 $('.chkAll').change(function() {
        $('input:checkbox').attr('disabled', this.checked); 
 }); 
```

这个

```
 $('.chkAll').change(function() {
        $(this).attr('disabled', this.checked); 
 }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T12:56:45.340

```
$('.chkAll').change(function() {
        $(this).attr('disabled', this.checked); 
    }); 
```

# macos - IOServiceOpen 返回 0x10000003 (MACH_SEND_INVALID_DEST)

> ID：12406754
> 
> 赞同：1
> 
> 时间：2012-09-13T12:54:20.487
> 
> 标签：macos, device-driver, kernel-extension

当我尝试为驱动程序打开服务（根据[SimpleUserClient 示例](https://developer.apple.com/library/mac/#samplecode/SimpleUserClient/Introduction/Intro.html)使用用户客户端）时，IOServiceOpen 返回 0x10000003（`MACH_SEND_INVALID_REQUEST`）：

```
mach_port_t machPort = mach_task_self();
kern_return_t kernResult;
io_service_t service;

classesToMatch = IOServiceNameMatching(DRIVER_NAME);

kernResult = IOServiceGetMatchingServices(kIOMasterPortDefault, classesToMatch, &iterator); 

while ((service = IOIteratorNext(iterator)) != IO_OBJECT_NULL){
    kernResult = IOServiceOpen(service, machPort, 0, &connect);

    if (kernResult != KERN_SUCCESS){
        //0x10000003 = MACH_SEND_INVALID_DEST causes a return false here
        fprintf(stderr, "IOServiceOpen returned 0x%08x - machPort is %lu\n"), kernResult, machPort);
        return false;
    }
} 
```

因此，该服务永远不会打开。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T12:54:20.487

您需要在驱动程序个性中添加一个字典条目，以说明代码中调用的用户客户端类：

```
IOUserClientClass:     com_MyCompany_driver_MyDriverUserClient 
```

# c# - 无法读取数据库文件asp.net c#

> ID：12406757
> 
> 赞同：0
> 
> 时间：2012-09-13T12:54:30.513
> 
> 标签：c#, asp.net, sql, visual-studio-2010

我不知道为什么在代码中给我这个错误：

> 无法读取数据库文件

我在 da.fill(dt) 线上收到此错误？

我正在尝试从我的数据库中选择并将它们显示在我的 DayPilotScheduler1 中。

```
private void loadResources()
{
    DayPilotScheduler1.Resources.Clear();

    string roomFilter = "0";
    if (DayPilotScheduler1.ClientState["filter"] != null)
    {
        roomFilter = (string)DayPilotScheduler1.ClientState["filter"]["room"];
    }
    SQLiteConnection con = new SQLiteConnection(@"Data Source=.\SQLEXPRESS;Initial Catalog=Korisnik;Integrated Security=True");
    SQLiteDataAdapter da = new SQLiteDataAdapter("SELECT [id], [name], [beds], [bath] FROM [RoomDetails] WHERE beds = @beds or @beds = '0'", con);
    da.SelectCommand.Parameters.AddWithValue("beds", roomFilter);
    DataTable dt = new DataTable();
    da.Fill(dt);

    foreach (DataRow r in dt.Rows)
    {
        string name = (string)r["name"];
        string id = (string)r["id"];
        string bath = (string)r["bath"];
        int beds = Convert.ToInt32(r["beds"]);
        string bedsFormatted = (beds == 1) ? "1 bed" : String.Format("{0} beds", beds);

        Resource res = new Resource(name, id);
        res.Columns.Add(new ResourceColumn(bedsFormatted));
        res.Columns.Add(new ResourceColumn(bath));

        DayPilotScheduler1.Resources.Add(res);
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T12:58:38.340

根据您的连接字符串，您连接的是 SQL Server Express 数据库，而不是 SQLite 数据库。

使用 a`SqlConnection`代替`SQLiteConnection`（以及相应的 DataAdapter 等）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T10:15:35.127

每当出现这种类型的错误时，连接字符串中就有可能出现错误，因此请跟踪您的 web.config 文件。在上面的代码中，您提到**了 Sqliteconnection**应该是**Sqlconnection**，并在代码中进行相应的更改。

# tinymce - 如何在 Firefox 14 中使用 Selenium IDE 在 TinyMCE 编辑器中输入文本

> ID：12406762
> 
> 赞同：2
> 
> 时间：2012-09-13T12:54:48.027
> 
> 标签：tinymce, selenium-ide

我做了一个测试，该测试在较新或较旧的 firefox 版本中运行，互联网连接速度较慢或更快（至少我说我在 vmware 中的虚拟机的互联网速度很慢），但是有些东西，我不知道是什么原因导致 typeKeys 后失败在另一台计算机上的命令。TinyMCE 编辑器中没有写入文本，因此断言失败。

谁能告诉我什么可能导致这样的事情，或者可能有不兼容的命令？

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="http://tinymce.com" />
<title>New Test</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">New Test</td></tr>
</thead><tbody>
<tr>
    <td>open</td>
    <td>http://tinymce.com/tryit</td>
    <td></td>
</tr>
<tr>
    <td>waitForPageToLoad</td>
    <td>15000</td>
    <td></td>
</tr>
<tr>
    <td>assertElementPresent</td>
    <td>id=demo_tab</td>
    <td></td>
</tr>
<tr>
    <td>waitForElementPresent</td>
    <td>id=content_ifr</td>
    <td></td>
</tr>
<tr>
    <td>selectFrame</td>
    <td>id=content_ifr</td>
    <td></td>
</tr>
<tr>
    <td>focus</td>
    <td>//body[@id='tinymce']</td>
    <td></td>
</tr>
<tr>
    <td>clickAt</td>
    <td>//body[@id='tinymce']</td>
    <td>(1,1)</td>
</tr>
<tr>
    <td>typeKeys</td>
    <td>//body[@id='tinymce']</td>
    <td>writing something in this silly form</td>
</tr>
<tr>
    <td>fireEvent</td>
    <td>//body[@id='tinymce']</td>
    <td>blur</td>
</tr>
<tr>
    <td>assertTextPresent</td>
    <td>writing something</td>
    <td></td>
</tr>
<tr>
    <td>selectFrame</td>
    <td>relative=parent</td>
    <td></td>
</tr>
<tr>
    <td>assertElementPresent</td>
    <td>id=submitbtn</td>
    <td></td>
</tr>
<tr>
    <td>clickAndWait</td>
    <td>id=submitbtn</td>
    <td></td>
</tr>
<tr>
    <td>waitForTextPresent</td>
    <td>Post dump</td>
    <td></td>
</tr>
<tr>
    <td>assertTextPresent</td>
    <td>HTML output from post</td>
    <td></td>
</tr>
<tr>
    <td>verifyTextPresent</td>
    <td>writing something</td>
    <td></td>
</tr>
</tbody></table>
</body>
</html> 
```

不要犹豫，问我是否不够清楚。

感谢您提前回复。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-04-07T17:36:22.000

尝试使用
命令 | runScript
目标 | tinyMCE.get('text_area_id_not_iframe_id').setContent('Your text')
这将适用于特定的 tinyMCE，或者如果您在一页上有多个 tinyMCE

否则如果您只有一个 tinyMCE，请运行脚本 | tinyMCE.activeEditor.setContent('你的文字')

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-18T16:08:07.353

这对我有用，基本上，通过选择框架（其他人建议这样做），然后单击和聚焦命令将使其成为活动编辑器，允许 sendKeys 命令工作。在这个例子中，我将一个变量传递给编辑器，并将 TinyMCE 创建的 iframe 保存为一个变量。对于多个实例，我基于 ${frame} 变量循环遍历它们。<

```
tr>
    <td>selectWindow</td>
    <td>null</td>
    <td></td>
</tr>
<tr>
    <td>selectFrame</td>
    <td>xpath=//*[contains (@id, '${frame}')]</td>
    <td></td>
</tr>
<tr>
    <td>click</td>
    <td>xpath=//*[contains (@id, 'tinymce')]</td>
    <td></td>
</tr>
<tr>
    <td>focus</td>
    <td>xpath=//*[contains (@id, 'tinymce')]</td>
    <td></td>
</tr>
<tr>
    <td>sendKeys</td>
    <td>xpath=//*[contains (@id, 'tinymce')]</td>
    <td>${date} ${frame}</td>
</tr> 
```

# c# - 为 Sharepoint 2010 UserProfiles 执行 foreach 时，有没有办法对它们进行排序？

> ID：12406768
> 
> 赞同：2
> 
> 时间：2012-09-13T12:55:12.010
> 
> 标签：c#, visual-studio, sharepoint, sharepoint-2010, web-parts

我正在为 Sharepoing 2010 制作一个简单的生日日历 webpart。

我需要遍历网站的所有用户并显示在所述日期过生日的人。我需要按用户姓名的字母顺序呈现用户。

我可以通过这样做来遍历用户列表：

```
SPSite currentSite = ...
ServerContext ospServerContext = ServerContext.GetContext(currentSite);
UserProfileManager ospUserProfileManager = new UserProfileManager(ospServerContext);
foreach (UserProfile ospUserProfile in ospUserProfileManager) { ... } 
```

但是，我无法控制配置文件的顺序。是否有任何内置方法可以通过一些简单的规则对配置文件进行排序，或者我是否必须制作一个 Dictionary(string,UserProfile)，从 UserProfileManager 填充它，然后按其键对其进行排序，然后为其成员执行 foreach？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:10:28.127

添加使用块：

```
using System.Linq; 
```

创建用户配置文件的集合：

```
var collection = new List<UserProfile>(); 
```

填充它：

```
foreach (UserProfile ospUserProfile in ospUserProfileManager) 
{ 
   collection.Add(ospUserProfile);
} 
```

然后[对其进行排序](http://msdn.microsoft.com/en-us/library/bb534966.aspx)：

```
var sorted = collection.OrderBy(p => p.PropertyToSort); 
```

# asp.net - ASP.net 从 Google 重定向到移动网站

> ID：12406771
> 
> 赞同：2
> 
> 时间：2012-09-13T12:55:38.713
> 
> 标签：asp.net, .net, vb.net, mobile-website, response.redirect

我有 ASP.net 网站。我在主页的页面加载中检查了设备是否是移动设备。如果是移动设备，则设备路由到移动页面。有用。但是当我从谷歌进入我的网站时，如果设备是移动的，则没有路由到移动页面。这里有什么问题 ？

控制声明：

```
If Request.Browser.IsMobileDevice Then
        Response.Redirect("MobileHomePage.aspx", True)
    End If 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T13:36:46.333

`IsMobileDevice`不是 100% 可靠的。

这种方法也不是，但你应该有更多的运气使用它（可能 99% 可靠？）：

```
Public Shared Function IsMobile() As Boolean
    Dim curcontext As HttpContext = HttpContext.Current
    Dim user_agent As String = curcontext.Request.ServerVariables("HTTP_USER_AGENT")
    user_agent = user_agent.ToLower

    ' Checks the user-agent
    If (Not (user_agent) Is Nothing) Then
        ' Checks if its a Windows browser but not a Windows Mobile browser
        If (user_agent.Contains("windows") AndAlso Not user_agent.Contains("windows ce")) Then
            Return False
        End If
        ' Checks if it is a mobile browser
        Dim pattern As String = "up.browser|up.link|windows ce|iphone|iemobile|mini|mmp|symbian|midp|wap|phone|pocket|mobile|pda|psp"
        Dim mc As MatchCollection = Regex.Matches(user_agent, pattern, RegexOptions.IgnoreCase)
        If (mc.Count > 0) Then
            Return True
        End If
        ' Checks if the 4 first chars of the user-agent match any of the most popular user-agents
        Dim popUA As String = "|acs-|alav|alca|amoi|audi|aste|avan|benq|bird|blac|blaz|brew|cell|cldc|cmd-|dang|doco|eric|hipt|inno|" & _
        "ipaq|java|jigs|kddi|keji|leno|lg-c|lg-d|lg-g|lge-|maui|maxo|midp|mits|mmef|mobi|mot-|moto|mwbp|nec-|" & _
        "newt|noki|opwv|palm|pana|pant|pdxg|phil|play|pluc|port|prox|qtek|qwap|sage|sams|sany|sch-|sec-|send|" & _
        "seri|sgh-|shar|sie-|siem|smal|smar|sony|sph-|symb|t-mo|teli|tim-|tosh|tsm-|upg1|upsi|vk-v|voda|w3c |" & _
        "wap-|wapa|wapi|wapp|wapr|webc|winw|winw|xda|xda-|"
        If popUA.Contains(("|" + (user_agent.Substring(0, 4) + "|"))) Then
            Return True
        End If
    End If

    ' Checks the accept header for wap.wml or wap.xhtml support
    Dim accept As String = curcontext.Request.ServerVariables("HTTP_ACCEPT")
    If (Not (accept) Is Nothing) Then
        If (accept.Contains("text/vnd.wap.wml") OrElse accept.Contains("application/vnd.wap.xhtml+xml")) Then
            Return True
        End If
    End If

    ' Checks if it has any mobile HTTP headers
    Dim x_wap_profile As String = curcontext.Request.ServerVariables("HTTP_X_WAP_PROFILE")
    Dim profile As String = curcontext.Request.ServerVariables("HTTP_PROFILE")
    Dim opera As String = curcontext.Request.Headers("HTTP_X_OPERAMINI_PHONE_UA")
    If ((Not (x_wap_profile) Is Nothing) OrElse ((Not (profile) Is Nothing) OrElse (Not (opera) Is Nothing))) Then
        Return True
    End If
    Return False
End Function 
```

# android - 适用于 Android 的 Web 调试工具？

> ID：12406772
> 
> 赞同：1
> 
> 时间：2012-09-13T12:55:41.860
> 
> 标签：android, debugging, mobile

我正在寻找一些方便的方法来在 Android 上调试网站。到目前为止，我发现的一切都不方便（包括 StackOverflow 上的答案和 Google 中的搜索结果）。

我正在寻找这样的东西：[https](https://www.youtube.com/watch?v=s4zpL4VBbuU#) ://www.youtube.com/watch?v=s4zpL4VBbuU# ！但我没有设备来测试它。我在 Windows 7 上安装了 Android SDK。有什么想法可以实现吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:06:07.460

这是一个关于 Android 远程调试的好教程： [http ://www.smartjava.org/content/remote-chrome-debugging-android](http://www.smartjava.org/content/remote-chrome-debugging-android)

# emacs - Iswitchb忽略dired缓冲区

> ID：12406774
> 
> 赞同：2
> 
> 时间：2012-09-13T12:55:43.430
> 
> 标签：emacs, iswitchb-mode

有没有办法告诉 iswitchb 基于模式而不是字符串忽略缓冲区？我想排除以 dired 模式打开的缓冲区，这些缓冲区通常数量最多，并且很难在其中的 minibuffer 中找到打开的文件。对此的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T15:30:17.700

您可以向 iswitchb-buffer-ignore 添加自定义函数来执行此操作。iswitchb.el 中实际上有一个示例——基于此，这可以解决问题：

```
(defun iswitchb-ignore-dired-mode (name)
    "Ignore all dired mode buffers."
    (with-current-buffer name
        (derived-mode-p 'dired-mode)))

(setq iswitchb-buffer-ignore '("^ " iswitchb-ignore-dired-mode)) 
```

这保留了忽略以空格开头的缓冲区名称的默认行为，并为 dired-mode 缓冲区添加过滤器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T15:30:34.547

基于 iswitchb 源代码中的类似示例：

```
(defun iswitchb-ignore-dired-buffers (buffer)
  (with-current-buffer buffer
    (eq major-mode 'dired-mode)))

(add-to-list 'iswitchb-buffer-ignore 'iswitchb-ignore-dired-buffers) 
```

# xml - StreamXmlRecordReader 在 hadoop 中无法正常工作

> ID：12406777
> 
> 赞同：2
> 
> 时间：2012-09-13T12:55:47.383
> 
> 标签：xml, hadoop-streaming

使用 hadoop 我尝试在单独的节点中拆分以下 xml

```
<?xml version="1.0" encoding="UTF-8" ?>
<pages>
    <page>
            <title>Sourav</title>
    </page>
    <page>
            <title>Gaurav</title>
    </page>
    <page>
            <title>sachin</title>
    </page>
    <page>
            <title>Rahul</title>
    </page>
</pages> 
```

喜欢

```
<page>
        <title>abc</title>   
</page> 
```

我通过以下命令运行它

```
hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-streaming-2.0.0-mr1-cdh4.0.1.jar -inputreader "StreamXmlRecordReader,begin=<page>,end=</page>" -input /usr/root/xml  -output /usr/root/xmloutput 
```

但是我得到了以下输出而不是四个单节点

```
<page>
    <title>Sourav</title>
</page> 
<page>
    <title>Gaurav</title>
</page> 
<page>
    <title>sachin</title>
</page> 
<page>
    <title>Rahul</title>
</page> 
```

和

```
<page>
    <title>sachin</title>
</page> 
<page>
    <title>Rahul</title>
</page> 
```

难道我做错了什么？感谢您对我做错了什么的任何见解。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T09:07:09.430

不，你没有做错任何事。

这是 Hadoop Streaming 中一个恼人的错误。

```
https://issues.apache.org/jira/browse/MAPREDUCE-577 
```

这是 0.20 中的一个已知错误，但他们说它已在 0.22 中修复。我不知道，但不幸的是它在 1.0.4 中再次被破坏。

同时，您可以将您的 xml 预处理为更好的流式处理。

# java - 在不指定绝对客户端 ID 的情况下更新组件

> ID：12406778
> 
> 赞同：0
> 
> 时间：2012-09-13T12:55:49.370
> 
> 标签：java, jsf, primefaces

下面的代码片段代表一个编辑器。在我的应用程序中，一个窗口在选项卡面板中显示一组编辑器，每个选项卡都包含一个数据表，其中编辑器作为行。当一个节点被选中时，它的文本将显示在*organizationUnit*输入文本中。编辑不应该知道它的父母。是否可以在不使用绝对客户端 ID 的情况下更新 organizationUnit？

```
<p:tabView value="#{accountsBean.groups}" var="group">
    <p:tab title="#{eval.getString(group.name)}">
        <p:dataTable value="#{group.editors}"
            var="editor">                       
            <p:column>
                 <custom:include src="#{editor.component}">
                     <ui:param name="bean" value="#{editor.beanName}"/>
                     <ui:param name="mandatory" value="#{editor.mandatory}"/>
                     <ui:param name="name" value="#{editor.name}"/>
                 </custom:include>
            </p:column>
        </p:dataTable>
    </p:tab>                        
</p:tabView>

<h:panelGrid id="containerEditor" columns="2">
    <h:outputText value="#{name}: #{mandatory ? '*' : ''}" />
    <p:tree value="#{bean.root}" var="node" selectionMode="single" selection="#
        {selectedNode}">
        <p:ajax event="select" listener="#{bean.onNodeSelect}"
            update="update_organization_unit" immediate="true" />
        <p:treeNode>
            <h:outputText value="#{node}" />
        </p:treeNode>
    </p:tree>
    <h:outputText />
    <p:inputText id="organizationUnit" value="#{bean.selectedItemPath}"
        disabled="true" />
</h:panelGrid> 
```

选项卡面板位于名为*form*且 prependId="false"的表单内

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T15:22:05.757

当您在不同的 NamingContainers 中有组件，并且这些组件不是嵌套的**时，您必须使用绝对客户端 ID。

在您的情况下，如果您在开始时不使用分隔符，则 findComponent 算法将向上搜索，直到找到 NamingContainer: 这将是您的`p:tree`. 然后它会尝试在 中查找组件`p:tree`，因为它不存在，所以会抛出您提到的异常。

另一方面，如果您*在*开头使用分隔符，则必须使用绝对客户端 ID。

简短回答：不。除非您更改组件的组织方式，否则您无法在不使用绝对客户端 ID 的情况下更新*organizationUnit 。*

* * *

** 如果 NamingContainer 是嵌套的，则外部 NamingContainer 内的组件*可能*会通过在要更新的实际组件的 id 之前引用它们的 id 来更新*内部*`update="innerContainer1Id:componentId"`NamingContainer 内的组件，例如： ，甚至`update="innerContainer1Id:innerContainer2:componentId"`。

* * *

[JavaDoc 中解释了算法。](http://docs.oracle.com/cd/E17802_01/j2ee/javaee/javaserverfaces/2.0/docs/api/javax/faces/component/UIComponent.html#findComponent%28java.lang.String%29)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T16:34:23.227

我用来避免引用 id 的一个常见“技巧”是使用绑定。

例子：

```
<h:form>
    <p:button binding="#{button}" ...
</h:form>

....
<p:button update=":#{button.clientId}" ... 
```

**注意：**这不适用于某些`h:outputText`不生成 id 的标签。

# php - 当我添加新行时，它会覆盖我添加的最后一行

> ID：12406780
> 
> 赞同：0
> 
> 时间：2012-09-13T12:55:58.943
> 
> 标签：php, phpexcel

我正在使用 PHPExcel 将 Excel (xlsx) 文件加载到我的 html 页面中。

我设法使用下面的表单添加了一个新表单，但不幸的是，我添加的每一行都会覆盖第一行。有没有办法刷新，这样我就不会覆盖以前的附加值？

这是我添加新行的表格：

```
<form action="" method="post" id="AddForm" name="AddForm">
<input type="text" id="company" name="company" value="Enter new name" />
<input type="submit" id="save" name="add" value="add"/>
</form> 
```

下面是我用来加载/显示/添加新行的代码

```
 <?php

    require_once '../inc/phpexcel/Classes/PHPExcel.php';
    require_once '../inc/phpexcel/Classes/PHPExcel/IOFactory.php';
    $objPHPExcel = PHPExcel_IOFactory::load("myExcelFile.xlsx");
    $objWorksheet = $objPHPExcel->getActiveSheet();

    //add the new row
    $num_rows = $objPHPExcel->getActiveSheet()->getHighestRow();
    $objWorksheet->insertNewRowBefore($num_rows + 1, 1);
    $name = isset($_POST['name']) ? $_POST['name'] : '';
    if($submit){
//SAVING THE NEW ROW - on the last position in the table
    $objWorksheet->setCellValueByColumnAndRow(0,$num_rows+1,$name);
    }

    //display the table
    echo '<table>'."\n";
    echo '<thead>
    <tr>
        <th>Company Name</th>
    </tr>
    </thead>'."\n";
    echo '<tbody>'."\n";
    foreach ($objWorksheet->getRowIterator() as $row) {
    echo '<tr>'."\n";
    $cellIterator = $row->getCellIterator();
    $cellIterator->setIterateOnlyExistingCells(false);
    foreach ($cellIterator as $cell) {
    echo '<td>'.$cell->getValue().'</td>'."\n";
    }
    echo '</tr>'."\n";
    }
    echo '</tbody>'."\n";
    echo '</table>'."\n";
    ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T13:55:31.997

我找到了解决方案：在循环内部，每次请求后都需要保存文件：

```
$objWorksheet->setCellValueByColumnAndRow(0,$num_rows+1,$company_name);
$objWriter = PHPExcel_IOFactory::createWriter($objPHPExcel, 'Excel2007');
$objWriter->save('myExcelFile.xlsx');
echo date('H:i:s') . " Write to Excel2007 format\n"; 
```

# wcf - 有没有办法在 wcf 中提到接口作为已知类型？

> ID：12406786
> 
> 赞同：1
> 
> 时间：2012-09-13T12:56:19.550
> 
> 标签：wcf, known-types

我正在使用 wcf 服务，因为我需要返回一些从名为 IComponents 的接口派生的复杂对象，而不是在服务中将 concreate 类称为已知类型，有没有办法在 wcf 中将 IComponents 称为已知类型？

提前致谢...

# list - Playframework 2 在列表（不是表单）中包含一个可更新的组合框

> ID：12406790
> 
> 赞同：0
> 
> 时间：2012-09-13T12:56:39.917
> 
> 标签：list, combobox, twitter-bootstrap, onclick, playframework-2.0

我正在使用播放框架 2.0。我在其中列出了用户可以编辑/删除的所有元素的页面。从另一个表查找中列出的元素之一。我在表格中编写了一个选择代码，效果很好。

我想在显示的列表中包含组合框，这样用户就可以在那里更新它，而不必深入每个元素来更新字段。有没有办法做到这一点？我想听听组合框中的变化并更新底层模型。

我尝试了几次迭代，但选择框似乎想要一个 play.api.data.Field ，而不是我提供的值。

页面的参数是这样的可分页列表
@(currentPage: Page[Deal], currentSortBy: String, currentOrder: String, currentFilter: String)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T15:24:48.937

我不知道我是否理解这个问题，但我认为你所说的问题会在客户端得到更好的解决，其中包含一些 ajax ......

否则，每次用户更新项目时，您都会发出整个页面刷新

我会像 rest-json web 服务一样公开可分页列表，我会从 javascript 调用它，绑定 on-change 事件......

这里有一个使用 select2 进行查找和使用 rest web 服务的示例：http: [//bb-jugar.rhcloud.com/assets/js/tmp/select2/demo.html](http://bb-jugar.rhcloud.com/assets/js/tmp/select2/demo.html)

# javascript - 使用 LESS，我如何在单独的 font-awesome .less 文件中引用一个类？

> ID：12406793
> 
> 赞同：1
> 
> 时间：2012-09-13T12:56:42.663
> 
> 标签：javascript, css, asp.net-mvc, less, webfonts

## 背景

*   我正在使用带有[LessJS的](http://lesscss.org/)[Twitter Bootstrap](http://twitter.github.com/bootstrap/) LESS 源
*   我正在使用[font-awesome](http://fortawesome.github.com/Font-Awesome/) .less （从 Bootstrap.less 中引用）
*   我已经从引导程序中删除了图标部分，因此它们不会发生冲突。
*   我有一个 site.less 文件，我也从 Bootstrap 中引用它，其中包含一些特定于站点的样式。

## 目标

我希望能够在我的 site.css 文件中执行以下操作：

```
.feedbackItemIconPraise
{
    .icon-thumbs-up; //class included in font-awesome.less
    color:Green;
} 
```

## 问题

当我尝试上述方法时，出现以下错误：

![在此处输入图像描述](../Images/75554b657b410d7a75bed15ae414db34.png)

这个错误是有道理的；我只是不确定如何最好地纠正它而不在我的 site.less 中创建额外的 font-awesome.less 导入（我想这将是它自己的问题）。

**澄清一下：**根据下面的评论：我有一个从 Knockout 视图模型中使用的类名。（例如，如果选择“Praise”，它将应用“FeedbackItemPraise”类）。如果选择了 FeedbackItemPraise，我希望它应用 font-awesome 中的 .icon-thumbs-up 类（通过网络字体显示图标），然后将颜色设为绿色。

## 到目前为止我所拥有的

Bootstrap.less 定制（仅显示相关部分）：

```
//Sean's customizations
@import "background.less"; // Background images and colors 
@import "font-awesome.less"; // Font Awesome font (SK 2012/09/04)
@import "site.less"; // site-specific LESS 
```

site.less 中的类：

```
.feedbackItemIconPraise
{
    .icon-thumbs-up; //class included in font-awesome.less
    color:Green;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T17:07:25.707

## 更新

再次查看 Font-Awesome 时，看起来他们现在已经为图标包含了 mixin。请参阅以下两个文件。

[https://github.com/FortAwesome/Font-Awesome/blob/master/less/variables.less](https://github.com/FortAwesome/Font-Awesome/blob/master/less/variables.less)

[https://github.com/FortAwesome/Font-Awesome/blob/master/less/mixins.less](https://github.com/FortAwesome/Font-Awesome/blob/master/less/mixins.less)

像这样使用：

```
.feedbackItemIconPraise
{
    .icon(@thumbs-up-alt)
    color:Green;
} 
```

## 原来的

如果您查看 font-awesome.less ，您会发现该类不存在，它实际上是`.icon-thumbs-up:before`. 不幸的是，您不能将伪类用作混合，例如`.icon-thumbs-up:before;`.

你需要修改你的 font-awesome.less 文件（或者只是添加这个类，或者`content: "\f087";`直接放在它需要去的地方）所以有一个非`:before`版本：

```
.icon-thumbs-up:before            { content: "\f087"; }
.icon-thumbs-up                   { content: "\f087"; } 
```

然后应用这个概念：

```
.feedbackItemIconPraise {
    font-family: "FontAwesome";
    font-size: 90px;
    padding-top: 7px;

    font-weight: normal;
    font-style: normal;
    display: inline-block;
    text-decoration: inherit;

    &:before {
        .icon-thumbs-up;
    }

} 
```

似乎 Font-Awesome 图标必须使用`:before`伪才能显示。

演示： http: [//pulse-dev.com/files/stackoverflow/fontawesomeclass/](http://pulse-dev.com/files/stackoverflow/fontawesomeclass/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T13:13:39.670

可能有另一种解决方案，但我在通过 LESS 编译器运行它之前将我的脚本（自动）合并到一个文件中。这允许我预先定义可以在我的任何 LESS 文件中使用的变量和混合。

[在线文档](http://lesscss.org/)确实提到 LESS 可以包含文件，从而使`@import`变量和 mixin 可用。您可能需要确保您使用的是最新版本的编译器，并且如果导入文件以文件夹结构组织，您可能需要告诉编译器在哪里搜索。

```
var parser = new(less.Parser)({
    paths: ['.', './lib'], // Specify search paths for @import directives
    filename: 'style.less' // Specify a filename, for better error messages
}); 
```

# python - 从 Google Appengine 发送到 Kindle 的附件未被识别

> ID：12406800
> 
> 赞同：0
> 
> 时间：2012-09-13T12:56:54.157
> 
> 标签：python, google-app-engine, email, kindle

使用下面的代码，我试图从 Appengine 应用程序向我的 Kindle 发送附件。

```
from google.appengine.api import mail
     import cStringIO
     out=cStringIO.StringIO()
     out.write('Hello, World!')

     reading = mail.EmailMessage(
          sender='[sender email]',
          subject='convert',
          to=[list or recipient emails], 
          attachments=[('test.txt', out.getvalue())])

     reading.send() 
```

然而，亚马逊回复

> 您发送给 Kindle 的电子邮件不包含任何附件

接下来，我尝试将我的电子邮件添加到收件人列表中，并且我收到了带有附件的电子邮件。

亚马逊怎么没有？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-19T22:25:52.077

您正在尝试发送 .TXT 文件，但这不是受支持的文件类型。

来自[亚马逊的文档](http://www.amazon.com/gp/help/customer/display.html/ref=kinw_myk_pd_ln?ie=UTF8&nodeId=200767340)：

> Kindle 个人文档服务支持多种文件类型，包括：
> 
> *   Microsoft Word（.DOC、.DOCX）
> *   HTML（.HTML、.HTM）
> *   RTF (.RTF)
> *   JPEG（.JPEG、.JPG）
> *   Kindle 格式（.MOBI、.AZW）
> *   GIF (.GIF)
> *   PNG (.PNG)
> *   BMP (.BMP)
> *   PDF (.PDF)

# javascript - ASP.Net 方法不会通过 JSON 调用

> ID：12406806
> 
> 赞同：0
> 
> 时间：2012-09-13T12:57:04.873
> 
> 标签：javascript, jquery, asp.net-mvc, json

我尝试发出 JSON 请求以在后台获取我的数据，我以我的一位同事的作品为例。第一个结果/方法是我的同事，另一个是我的。问题是我的方法甚至没有被调用，也没有弹出警报。

我看不出有任何显着差异，请帮助我：

ASPX：

```
<script language="javascript" type="text/javascript">    
    function UpdateSettings() {
        var result = $.getJSON('GetProgressMessage?uploaderId=111&iId=1&fileName=test', function (data) { alert(data); }, 'json');
        var result2 = $.getJSON('GetCustomerUploadSettings?customerId=1', function (data) { alert(data.Name); }, 'json'); 
        alert('test');
    }
</script> 
```

第一种方法：

```
[NoCache]  
public ActionResult GetProgressMessage(string uploaderId, short iId, string fileName)  
{  
    //some stuff before   
    return this.Json(messageObject, JsonRequestBehavior.AllowGet);  
} 
```

第二种方法：

```
[NoCache]
public ActionResult GetCustomerUploadSettings(int customerId)
{
    return this.Json(new { Name = "test" }, JsonRequestBehavior.AllowGet);
} 
```

当然，这两种方法都在同一个类中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:08:33.920

您可以在浏览器中打开开发工具并查看更多详细信息。对于火狐 - Firebug。Chrome 和 IE 都有自己的工具。按 F12 并重新加载页面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:01:51.980

在你的控制器类中试试这个

```
public JsonResult YourMethodName()
{
    JsonResult json = new JsonResult();
    json.Data = new { OBJECT_TO_RETURN };
    return Json(json, JsonRequestBehavior.AllowGet);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T13:15:09.543

也许路由不起作用。您是否查看了 Global.asax.cs 文件以查看您的同事是否创建了自定义路由来获取该方法？

# wpf - 表达式深色主题的日期选择器样式

> ID：12406814
> 
> 赞同：1
> 
> 时间：2012-09-13T12:57:16.153
> 
> 标签：wpf, datepicker, styling

我正在为我的一个 WPF 应用程序使用表达黑暗主题，我尝试将其样式设置为与主题一起使用，但我只是在 WPF 样式设置方面非常糟糕以使其正常工作，你们现在是否有人已将 Datepicker 样式设置为匹配 Expression dark？

[http://wpf.codeplex.com/wikipage?title=WPF%20Themes](http://wpf.codeplex.com/wikipage?title=WPF%20Themes)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-12T18:12:53.837

你的问题的答案是肯定的。

我只是在拉你的鼻子。DatePicker 真的很复杂。最好的办法是利用 Expression Blend 获取默认模板并使用它。当然，用于 DatePicker 的 ControlTemplate 是不够的……但我相信你已经知道了。

您必须为 Datepicker 的所有部分和 Calendar 的所有部分编辑模板

因此，如果您使用 Expression Blend 来处理这些默认样式……您最终会得到

Datepicker、Button（DatePicker 的一部分）、DatePickerTextBox、Calendar、CalendarItem、CalendarButton、CalendarDayButton。

您可以一一编辑它们。

我真的很乐意在这里发布代码，但它有超过 500 行。而且我确信现在——当你真正知道你想编辑什么时——你可以自己做。你不想复制粘贴它:)

# dcom - DCOM 和 OpenMPI

> ID：12406815
> 
> 赞同：0
> 
> 时间：2012-09-13T12:57:18.367
> 
> 标签：dcom, openmpi

我使用启动和远程访问权限执行了 DCOMCNFG，授予我在每个节点上的本地登录权限。在 root 和远程机器上安装 OpenMPI_v1.6.1-x64。已在目标节点中指定 .exe 的路径。但是在使用 mpirun 从根节点运行 .exe 时。我收到以下错误：

```
D:\x64\Release>mpirun -np 2 -hostfile myhostfile.txt MPISample.exe
connecting to n1234
username:toney.mathew
password:********
Save Credential?(Y/N) n
[n1205:04420] Could not connect to namespace cimv2 on node n1234\. Error code =-2147023174
--------------------------------------------------------------------------
mpirun was unable to start the specified application as it encountered an error.

More information may be available above.
--------------------------------------------------------------------------
[n1205:04420] [[28225,0],0] ORTE_ERROR_LOG: A message is attempting to be sent t
o a process whose contact information is unknown in file ..\..\..\openmpi-1.6.1\
orte\mca\rml\oob\rml_oob_send.c at line 145
[n1205:04420] [[28225,0],0] attempted to send to [[28225,0],1]: tag 1
[n1205:04420] [[28225,0],0] ORTE_ERROR_LOG: A message is attempting to be sent t
o a process whose contact information is unknown in file ..\..\..\openmpi-1.6.1\
orte\orted\orted_comm.c at line 126 
```

更具体地说，我在两个节点中都使用 windows7-64bit 操作系统，相同的用户登录。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:36:37.703

关闭防火墙，它运行顺利。

# css - 我可以同时设置左边框和右边框吗？

> ID：12406817
> 
> 赞同：1
> 
> 时间：2012-09-13T12:57:25.637
> 
> 标签：css

有时我发现自己处于想要为`border`元素的左侧和右侧定义规则的情况。但老实说，`border-left: solid 1px #999; border-right: solid 1px #999`有点笨拙。它浪费空间，我必须两次应用更改，它可能会或可能不会降低效率。

有没有办法一次性定义水平边框或垂直边框？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-13T12:59:49.280

```
<div id="myDiv">Your Div</div> 
```

**CSS：**

```
#myDiv
{
border-width:0 1px 0 1px;
border-color:#ddd;
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-13T13:07:23.993

您可以像这样一次性完成：

```
#myDiv
{
    width: 100px;
    height: 100px;
    border: 1px solid #999;
    border-width: 0 1px; /*horizontal, vertical*/
}​​​​​​ 
```

[http://jsfiddle.net/52AEP/](http://jsfiddle.net/52AEP/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:59:16.427

不。

来自[https://developer.mozilla.org/en-US/docs/CSS/border](https://developer.mozilla.org/en-US/docs/CSS/border)：

> 虽然border-width、border-style和border-color属性，甚至margin和padding的简写属性最多接受四个值，允许为不同的边框设置不同的宽度、样式或颜色，但该属性只接受一个值对于每个属性，导致四个边缘的边界相同。

因此，您可以切换到使用单独的边框宽度、边框样式和边框颜色属性，使用它们的简写属性来设置每边样式 - 但我认为您最好还是拥有它。

也就是说，确保将样式定义保存为 CSS 类 - 然后可以跨元素重复使用，而不是在整个页面的元素上逐一应用这些“样式”属性。

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2012-09-13T12:59:33.697

不幸的是，css 中没有选项......您必须手动编写所有边框参数。

# c++ - 同时运行多个 OpenGL 进程时如何防止 FBO 渲染损坏？

> ID：12406818
> 
> 赞同：0
> 
> 时间：2012-09-13T12:57:26.447
> 
> 标签：c++, windows, opengl

我需要能够使用 OpenGL 同时渲染多个进程。

我正在使用 FBO 渲染成纹理。我在一个进程（平铺渲染）中多次通过 glGetTexImage() 读取像素。

然后我启动了多个程序同时运行，并注意到有时它可以工作，有时它不能。有时整个图像被损坏（仅重复一个图块），有时只有一小部分被损坏。我之前还注意到，由于某种原因，我无法使用 4096x4096 大小的 FBO 纹理，并且该纹理大小的错误与此“一次多个进程”平铺错误相同，所以我认为这可能与程序试图获得尚未完全渲染的纹理？我还注意到我使用的纹理越小，我可以同时运行的进程就越多。我想我的 GFX 卡内存是 256 MB。但即使有 8 个 1024x1024 大小的纹理大小的进程，它最坏的情况也只使用 33 MB 的内存，所以这不可能是我的 GFX 卡内存限制。

平铺错误看起来它没有获得新的平铺像素数据，因此它再次使用旧缓冲区。

我可以做些什么来防止我的渲染损坏？

这是我的渲染代码结构：

```
for(y...){
    for(x...){
        // set viewport & translatef

        glBindFramebuffer(GL_FRAMEBUFFER, fboId);
        // glclear()
        render_tile();
        glFlush();
        glBindFramebuffer(GL_FRAMEBUFFER, 0);

        glBindTexture(GL_TEXTURE_2D, textureId);
        glGetTexImage(GL_TEXTURE_2D, 0, GL_RGB, GL_UNSIGNED_BYTE, pixels);
        glBindTexture(GL_TEXTURE_2D, 0);
        copy_tile_pixels_to_output_image();
    }
} 
```

这里是 FBO 初始化（只显示了 opengl 相关的命令）：

```
// texture:
glGenTextures(1, &textureId);
glBindTexture(GL_TEXTURE_2D, textureId);
glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA8, TEXTURE_WIDTH, TEXTURE_HEIGHT, 0, GL_RGBA, GL_UNSIGNED_BYTE, 0);
glBindTexture(GL_TEXTURE_2D, 0);

// FBO:
glGenFramebuffers(1, &fboId);
glBindFramebuffer(GL_FRAMEBUFFER, fboId);

glGenRenderbuffers(1, &rboId);
glBindRenderbuffer(GL_RENDERBUFFER, rboId);
glRenderbufferStorage(GL_RENDERBUFFER, GL_DEPTH_STENCIL, TEXTURE_WIDTH, TEXTURE_HEIGHT);
glBindRenderbuffer(GL_RENDERBUFFER, 0);
glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, textureId, 0);
glFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_DEPTH_ATTACHMENT, GL_RENDERBUFFER, rboId);
glFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_STENCIL_ATTACHMENT, GL_RENDERBUFFER, rboId);

checkFramebufferStatus(); // will exit if errors found. none found, however.

glBindFramebuffer(GL_FRAMEBUFFER, 0); 
```

**编辑：**正如 datenwolf 所注意到的，问题通过使用 glReadPixels() 消失了。但我仍然不确定为什么，所以最好知道引擎盖下发生了什么，以确保它在未来**无论如何都不会犯这样的错误！**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T17:21:36.163

FBO 本身只是一个抽象对象，没有自己的支持图像存储。基本上，FBO 本身只包含可以插入图像接收器和源的插槽。纹理可以充当这样的角色，但也有渲染缓冲区，它们具有相同的目的，但不能用作纹理样本源

您可以使用 glReadPixels 从绑定的 FBO 直接读取。

# python - 为什么鼻子测试没有发现任何东西？

> ID：12406821
> 
> 赞同：14
> 
> 时间：2012-09-13T12:57:35.433
> 
> 标签：python, unit-testing

我正在从 python 的 unittest 框架切换到nosetests，试图重用我`unittest.TestCase`的 s

在`cd`进入我的测试包后，我[按照他们主页上的描述](http://nose.readthedocs.org/en/latest/index.html)开始了鼻子测试：

```
./test/$ nosetests

----------------------------------------------------------------------
Ran 0 tests in 0.000s

OK 
```

为什么我需要指定每个模块让鼻子发现它的测试，如下例所示？

```
./test/$ nosetests test_all.py
.......
----------------------------------------------------------------------
Ran 7 tests in 0.002s

OK 
```

同样在上面的一个文件夹中运行测试也不会改变任何东西。

```
./tests/$ cd ..
./$ nosetests

----------------------------------------------------------------------
Ran 0 tests in 0.000s

OK 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-19T15:06:27.257

我可以在您的存储库中看到至少有一些文件是可执行的，所以这至少是问题的一部分。默认情况下，nose 不会收集这些：它试图避免运行可能对导入造成破坏性的脚本。尝试 --exe 标志，或从测试文件中删除可执行位。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T13:06:41.127

如果你想让鼻子运行那个包中的所有测试，你需要在上面的目录中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-04-27T18:13:08.793

就我而言，我在测试文件的末尾有以下行：

```
unittest.main() 
```

从我所有的测试中删除它解决了我的问题。

# python - 如何在没有 Internet 连接的 Windows 上安装 suds 0.4

> ID：12406827
> 
> 赞同：0
> 
> 时间：2012-09-13T12:57:54.580
> 
> 标签：python, suds

我需要在没有 Internet 连接的 Windows 机器上安装 suds（和其他 Python 模块）（使用 ftp 将软件移动到机器上）。在另一个线程中，建议我获取源代码（.gz 或 .zip），将其解压缩到机器上，然后使用模块 setup.py 安装它，例如`python setup.py install`. 然而，这种方法也需要互联网连接——至少在泡沫的情况下。我得到错误：

```
Download error: [Errno 11001] getaddrinfo failed — Some packages may not be found!  
No local packages or download links found for distribute 
```

我已经到处搜索了用于 suds 的 msi 或 exe 安装程序，但没有找到。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-23T11:24:57.493

如果你已经安装了“distribute”，你可以解压 suds（例如到 c:\Install\Python\suds-jurko-0.4.1.jurko.4），在 python 脚本目录中打开命令窗口（例如 c:\Python32\脚本）并以解压后的目录作为参数运行easy_install.exe（例如easy_install.exe c:\Install\Python\suds-jurko-0.4.1.jurko.4）。

# javascript - 检测表单是否可见

> ID：12406828
> 
> 赞同：1
> 
> 时间：2012-09-13T12:58:06.003
> 
> 标签：javascript

我有这种情况，我正在检测网站上的所有表单：`document.forms`

我正在尝试检测哪些形式是可见的，哪些是不可见的。

```
var formElement = []
for (i=0,l=document.forms.length;i<l;i++){
   var formIndex = document.forms.item(i);
   if (<need here just visible forms>){
       formElement.push(formIndex);
  }
} 
```

只是说我是在另一个与带有该表单的浏览器窗口通信的弹出窗口上执行此操作的，这取决于主机站点上是否存在 jQuery，因此 jQuery 不是解决方案。

做这个的最好方式是什么。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T12:59:07.263

`var isVisible = form.style.display != 'none';`

**更新#1：`hidden`属性**

如果指定了属性，则元素也可以不可见[`hidden`](http://www.w3schools.com/html5/att_global_hidden.asp)，因此可以将条件更改为

`var isVisible = form.style.display != 'none' && !form.hasAttribute('hidden');`

**更新 #2：jQuery 方法：**

找到所有不可见的形式：

`$('form:hidden');` 或者 `$('form:not(:visible)');`

查找所有可见形式：

`$('form:visible');`

检查表格是否可见：

`$(form).is(':visible');`

**更新#3：特殊情况（对于有问题的原始代码）**

使用我的演示中的函数来确定可见表单效果很好：

```
function isVisible(el) {
    return el.style.display != 'none' && !el.hidden;
}

var formElement = [];
for (i=0, l=document.forms.length; i<l; i++) {
    var formIndex = document.forms.item(i);
    if(isVisible(formIndex)) {
        formElement.push(formIndex);
    }
}
console.log(formElement); 
```

演示中的这个循环是相同的：

```
for(var i = document.forms.length; 0 < i--;) {
    log('Form #' + i + ': ' + isVisible(document.forms[i]));
} 
```

**[演示](http://jsfiddle.net/f0t0n/FfSfw/)**

**更新#4：弹出窗口**

我已经为弹出窗口调整了我的示例，但我不得不说你无法**处理**来自其他主机的文档中的元素 -**弹出窗口和打开窗口都应该属于同一个主机**。

```
<script type="text/javascript">
    var wnd = window.open('popup.html');

    function isVisible(el) {
        return el.style.display != 'none' && !el.hidden;
    }
    wnd.onload = function() {
        /* This is working pretty well: */
        var formElement = [];
        console.log(wnd.document.forms);
        for (i=0,l=wnd.document.forms.length;i<l;i++){
           var formIndex = wnd.document.forms.item(i);
           console.log(formIndex);
           if (isVisible(formIndex)){
               formElement.push(formIndex);
               console.log('Form ' + formIndex.id + ' is visible');
          }
        }
    };
</script> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T12:59:55.027

var forms = document.getElementsByTagName("form");

然后，您可以遍历数组并检查标签是否可见。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T12:59:53.467

你可以使用这个：

```
$(element).is(":visible") // Checks for display:[none|block], ignores visible:[true|false] 
```

参考。 [如何检查元素是否隐藏在 jQuery 中？](https://stackoverflow.com/questions/178325/testing-if-something-is-hidden-with-jquery)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-13T13:00:25.307

您可以使用 ：

```
$('#form').is(':visible') 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-13T13:00:45.947

以下将遍历所有表单，并说明哪些是可见的，哪些是不可见的：

```
$("form").each(function() {
   if ($(this).is(":visible")) {
       console.log("Visible: ", this);
   } else {
       console.log("Hidden: ", this);
   }
}); 
```

或者如果您想一次获得所有可见的：

```
$("form:visible") 
```

还有那些隐藏的：

```
$("form:hidden") 
```

# iphone - 在运行时检查“发布构建”

> ID：12406831
> 
> 赞同：4
> 
> 时间：2012-09-13T12:58:22.923
> 
> 标签：iphone, objective-c, ios, xcode

我正在为我开发的组件创建一个 .framework（或静态库），并且我想将其出售给第三方。

我计划添加一些代码来保护框架免遭未经授权的重复使用、重新分发或转售。

我认为实现这一点的一个好方法是要求购买者告诉我将使用框架的应用程序的捆绑 ID 是什么，将其作为 NSString 属性保存在框架中，并创建一个在运行时检查是否使用框架的应用程序的捆绑 ID 是否匹配。

但是，我还想免费试用该框架。因此，我只想在包含应用程序在发布模式下编译时启用捆绑 ID 检查，或者当应用程序在最终用户设备上运行时，在开发沙箱之外。

当然，我不能使用任何依赖于项目文件中设置的变量或宏的方法，因为它们太容易被利用。我需要在运行时进行......并且无需购买者采取任何行动。

有没有办法在运行时检查应用程序是否在开发人员沙箱中运行？或者，如果一个应用程序是使用发布构建配置文件构建的？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T16:52:26.807

过去，我在免费评估但不能免费部署组件的情况下实现了一个简单的定时炸弹到期。该库将在某个日期 X 之前运行，然后停止工作。用户只需重新下载最新的位以继续评估。一个付费订单，一个没有定时炸弹的下载链接或一个带有数字签名许可证的许可证文件一起禁用了定时炸弹逻辑。依赖运行时环境特性充其量是脆弱的。

# android - 将对象从一个应用程序传递到另一个应用程序

> ID：12406838
> 
> 赞同：0
> 
> 时间：2012-09-13T12:58:44.553
> 
> 标签：android, android-sdk-2.3

我需要将自定义对象从一个应用程序的活动传递到另一个应用程序的主要活动。

我是否能够使用 intent.putExtra 来完成此操作，如下所示：

```
putExtra("key",obj); 
```

它显示错误，因为 putExtra 方法不支持这一点。如何做到这一点？

任何帮助表示赞赏。

**编辑**

以下类的实例，我需要传递给另一个应用程序。我将有对象'obj'如下，我需要传递：

```
CounterAndNotifier obj = new CounterAndNotifier(5, this) 
```

obj 是要传递的对象

```
public class CounterAndNotifier
{
private int counter = 0;
private int count;
private Runnable runnable;

public CounterAndNotifier(int count, Runnable runnable)
{
    this.count = count;
    this.runnable = runnable;
}

public synchronized void incrementCounter()
{
    counter++;
    if (counter == count) {
        runnable.run();
    }
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T13:31:34.137

更新 2：示例构造函数：

```
CounterAndNotifier counter = new CounterAndNotifier(0, new SerializableRunnable() {
            @Override
            public void run() {

            }
        }); 
```

或者

```
SerializableRunnable runnable = new SerializableRunnable() {
        @Override
        public void run() {
            /* Running code here */
        }
});
CounterAndNotifier counter = new CounterAndNotifier(0, runnable); 
```

更新： Runnable 是一个接口，本身不能序列化。为了解决这个问题，创建一个像这样的新类：

```
public abstract class SerializableRunnable implements Runnable, Serializable {
    /* Nothing needs to go here */
} 
```

然后将 Runnable 的引用更改为 SerializableRunnable，您应该能够毫无问题地将对象序列化为意图。

您的新对象将如下所示：

```
public class CounterAndNotifier implements Serializable
{
    private int counter = 0;
    private int count;
    private SerializableRunnable runnable;

    public CounterAndNotifier(int count, SerializableRunnable runnable)
    {
        this.count = count;
        this.runnable = runnable;
    }

    public synchronized void incrementCounter()
    {
        counter++;
        if (counter == count) {
            runnable.run();
        }
    }
} 
```

您仍然可以使用相同的方式创建 Runnable 对象，只是使用不同的名称。

原始答案：您不能将常规对象放入`Intent`额外对象中。如果您的对象成员都是可序列化的类型，那么您可以只实现`Serializable`接口，然后您可以将对象放入`Intent`. 否则，您可以实现`Parceable`对象并将其展平为 Parcel。

`Serializable`只要您的对象成员是基本类型，使用就需要更少的代码更改。此外，您应该首先检查接收应用程序是否支持以确定您应该使用哪个。

它看起来像这样：

```
public class YourObject implements Serializable {

    private static final long serialVersionUID = -6242440735315628245L;
    /* Your class members */

} 
```

添加到意图：

```
Intent intent = new Intent();
intent.putExtra("YourKey", new YourObject()); 
```

脱离本意：

```
YourObject obj = (YourObject)intent.getSerializableExtra("YourKey"); 
```

# ruby-on-rails - 如何在删除之前检查对象是否被引用？（多对多关系）

> ID：12406839
> 
> 赞同：1
> 
> 时间：2012-09-13T12:58:48.177
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, activeadmin

我对**ruby​​ on rails**世界很陌生。我有两个类，A 和 B，并以下列方式定义：

```
class AClass < ActiveRecord::Base
  has_many :a_b_class
end

class ABClass < ActiveRecord::Base
  validates_presence_of :attr1, :attr2

  belongs_to :a_class
  belongs_to :b_class

  attr_accessible :attr1,:attr2,:a_class, b_class
end

class BClass < ActiveRecord::Base
  validates_presence_of :attr4, :attr5

  has_many :a_b_class

  attr_accessible :attr4,:attr5
end 
```

我正在使用***activeadmin***来管理数据库数据等。问题是***activeadmin***允许我删除由 AClass（通过 ABClass 关系）对象引用的 BClass 对象，因此当我进入[http://example.com/ a_class](http://example.com/a_class)视图失败，因为视图尝试访问**nil**元素的 attr1。如何向**模型**添加验证以避免删除引用的对象？

**编辑**：我纠正了关系，是**多对多**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:06:01.923

我认为您的关联在某个地方是错误的，首先纠正例如文章有很多评论，所以评论有article_id，而评论`validates_presence_of :article_id`没有文章，如果您删除文章，则应删除相应的评论，因为您需要'dependent=>：destroy"

```
class Article <AR
 has_many :comments,:dependent=>:destroy
end

class Comment <AR
 belongs_to :article
 attr_accessible :article_id,....
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:06:22.297

我不确定这是否能解决问题 - 但您可以尝试向 BClass 添加belongs_to 属性以标记它属于AClass 吗？

```
belongs_to :a_class 
```

此外，你不能这样做：

```
validates_presence_of :b_class_id 
```

因为可能有很多ID..

# php - DATE（时间戳）返回错误的月份

> ID：12406840
> 
> 赞同：2
> 
> 时间：2012-09-13T12:58:49.167
> 
> 标签：php, mysql, timestamp

这是我的查询：

```
$chart_result = mysql_query("SELECT * 
                             FROM (SELECT DATE(timestamp) AS ts, 
                                          YEAR(timestamp) AS year, 
                                          MONTH(timestamp) AS month, 
                                          DAY(timestamp) AS day, 
                                          SUM(paymentgross) AS sales 
                                   FROM stats_ans_1 
                                   GROUP BY DATE(timestamp) DESC 
                                   LIMIT 10
                                  ) AS TBL 
                             GROUP BY ts"); 
```

这是时间戳：

```
2012-09-12 19:45:23 
```

MONTH(timestamp) 绝对确定时间戳是在 10 月而不是 9 月 - 这显然是错误的。怜悯我可怜的脑细胞！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T13:06:27.707

您可以使用[DATE_FORMAT](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date-format)函数以字符串格式返回月份：

```
SELECT DATE_FORMAT('2012-09-12 19:45:23', '%M') AS `month`; 
```

你也不需要使用`GROUP BY`两次，试试这个查询：

```
SELECT DATE(timestamp) AS ts,
       YEAR(timestamp) AS year,
       MONTH(timestamp) AS month,
       DAY(timestamp) AS day,
       SUM(paymentgross) AS sales
FROM stats_ans_1
GROUP BY DATE(timestamp) DESC
LIMIT 10; 
```

# android - 位图内存不足异常

> ID：12406842
> 
> 赞同：0
> 
> 时间：2012-09-13T12:59:02.947
> 
> 标签：android

我在我的应用程序中使用位图。使用它们后，我将它们回收并设置为空。尽管我这样做了，但在分配跟踪器中，我可以看到位图的分配没有被释放。它导致我的应用程序崩溃...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:07:56.680

这是解决内存问题的代码部分，我在调整位图大小时使用了此代码，

```
public Bitmap custom_SizedImage(String intent_data2) {

        Options options = new Options();
        options.inJustDecodeBounds = true;
        BitmapFactory.decodeFile(intent_data2, options);
        double sampleSize = 0;
        Boolean scaleByHeight = Math.abs(options.outHeight - targetHeight) >= Math
                .abs(options.outWidth - targetWidth);

        if (options.outHeight * options.outWidth * 2 >= 1638) {
            sampleSize = scaleByHeight ? options.outHeight / targetHeight
                    : options.outWidth / targetWidth;
            sampleSize = (int) Math.pow(2d,
                    Math.floor(Math.log(sampleSize) / Math.log(2d)));
        }
        options.inJustDecodeBounds = false;
        options.inTempStorage = new byte[128];
        while (true) {
            try {
                options.inSampleSize = (int) sampleSize;
                           // here you can do you Decode process
                //mBitmap = BitmapFactory.decodeFile(intent_data2, options);

                break;
            } catch (Exception ex) {
                try {
                    sampleSize = sampleSize * 2;
                } catch (Exception ex1) {

                }
            }
        }
        return scaledBitmap;

    } 
```

# c# - 如何授予对程序的数据库访问权限？

> ID：12406852
> 
> 赞同：0
> 
> 时间：2012-09-13T12:59:36.120
> 
> 标签：c#, sql-server, linq-to-sql

我创建了一个使用 LinqToSql 访问我的 SQL Server 数据库的 MVC 应用程序。但我在*dbGuestbookContext.SubmitChanges();*

> 建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。（提供者：命名管道提供者，错误：40 - 无法打开与 SQL Server 的连接）

我可以从其他应用程序访问该服务器上的其他数据库。

你能告诉我对此我能做些什么吗？

谢谢。

# c#-4.0 - X 轴第一个值未显示 - MS 图表

> ID：12406853
> 
> 赞同：2
> 
> 时间：2012-09-13T12:59:46.383
> 
> 标签：c#-4.0, mschart

我在 .Net 图表中工作。我正在显示过去 52 周的柱形图。这样它将从“17/09/2011 到 08/09/2012”开始。

```
 Chart1.ChartAreas["ChartArea1"].AxisX.Minimum = min;
            Chart1.ChartAreas["ChartArea1"].AxisX.Maximum = max;
            Chart1.ChartAreas["ChartArea1"].AxisX.Interval = 7;
            Chart1.ChartAreas["ChartArea1"].AxisX.IsMarginVisible = true; 
```

我已经使用了上面的代码。但我只得到 51 列。我无法查看第一列（即）2011 年 9 月 17 日的记录。

![在此处输入图像描述](../Images/46388b25eacc11287dfd114c7a2e5e20.png)

在图像中，看到第一列是空白的。但我对此有价值..

# iphone - buildDate 和 buildNumber 的 plist 属性名称？

> ID：12406854
> 
> 赞同：3
> 
> 时间：2012-09-13T12:59:46.683
> 
> 标签：iphone, objective-c, xcode, cocoa-touch

我一直在寻找一种将 buildDate 和 buildNumber 添加到我的项目（我发现）的方法，但我有点困惑，大多数人建议将属性添加到被`info.plist`调用的`CFBuildDate`and `CFBuildNumber`。

# 编辑：

这些属性是否以 CF 开头，因为：

1.  他们属于核心基金会，这就是惯例？
2.  它们不是 CF 的一部分，但约定是无论如何都要使用 CF 吗？
3.  它们可以被称为任何东西，CF 只是让它们与其他 CF 键匹配？
4.  没关系，随心所欲地称呼他们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T11:36:44.190

[当我问自己这个问题时，我从类似于这篇文章的文章](https://stackoverflow.com/questions/7371345/xcode-projects-build-number)中获得了我的原始信息，该文章讨论了使用`CFBuildNumber`并`CFBuildDate`提供了一些巧妙的脚本创意来生成它们。

经过详尽的搜索，我找不到任何有关在任何 iOS 项目或最近的 OSX 项目中使用`CFBuildNUmber`/的官方 Apple 文档。[Information Property List Key Reference (Core Foundation Keys)](http://developer.apple.com/library/ios/#documentation/general/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/TP40009249-SW1)也没有提及它们，所以我的结论是它们不是官方的，只是使用 CF 作为前缀，类似于现有的 Core Foundation 键。`CFBuildDate`

对于您的问题，我相信 #2、#3 和 #4（正如您所怀疑的那样）是由于缺少关于这两个键的任何官方 Apple 文档。

> *   它们不是 CF 的一部分；惯例是无论如何都要使用CF。
> *   它们可以被称为任何东西；CF 只是使它们与其他 CF 键匹配。
> *   他们的名字并不重要，他们可以叫你想要的。

我不能说 OSX 开发，但从 iOS 方面来看，为这些目的提供的两个键是`CFBundleShortVersionString`和`CFBundleVersion`。前者是 App Store 可见的短版本，后者是扩展版本，如果需要，可以添加数字。

我使用 CI 服务器生成的内部版本号，并`CFBundleVersion`在编译时将其附加到密钥的末尾。如果您想添加日期，可以将其添加到同一个键中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:46:53.400

Core Foundation 框架为包提供了底层基础设施，包括在运行时用于加载包和解析其结构的代码。因此，该框架识别的许多键是定义捆绑包本身的基础，并且有助于确定捆绑包的内容。

Core Foundation 键使用前缀 CF 将它们与其他键区分开来。

有关更多和详细信息，[请参阅此...](https://developer.apple.com/library/ios/#documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html)

# html - 谷歌图表拥挤

> ID：12406855
> 
> 赞同：3
> 
> 时间：2012-09-13T12:59:47.103
> 
> 标签：html, ajax, google-visualization

我正在尝试使用 Google 图表，下面提供的示例必须保持其大小以适合我的布局。

[http://jsfiddle.net/eSKzR/](http://jsfiddle.net/eSKzR/)

```
<html>
  <head>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Year', 'Max'],
          ['00h',  1],
          ['01h',  1],
          ['02h',  1],
          ['03h',  1],
          ['04h',  0],
          ['05h',  20],
          ['06h',  40],
          ['07h',  3],
          ['08h',  1],
          ['09h',  1],
          ['10h',  1],
          ['12h',  1],
          ['13h',  1],
          ['14h',  1],
          ['15h',  1],
          ['16h',  1],
          ['17h',  1],
          ['18h',  1],
          ['19h',  0],
          ['20h',  0],
          ['21h',  0],
          ['22h',  1],
          ['now',  1],
        ]);

        var options = { };

        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>
  </head>
  <body>
    <div id="chart_div" style="width: 540px; height: 150px;"></div>
  </body>
</html> 
```

底部的小时数是重叠的，我想知道你是否可以将它们侧向转动，它们在哪里垂直？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:10:18.843

从[文档中](https://google-developers.appspot.com/chart/interactive/docs/gallery/linechart)：

```
var options = {
    hAxis: { slantedText: true, slantedTextAngle: 90 }
}; 
```

更新小提琴：http: [//jsfiddle.net/eSKzR/15/](http://jsfiddle.net/eSKzR/15/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T13:10:24.760

在[选项](http://jsfiddle.net/eSKzR/17/)中设置：

```
var options = {
    hAxis:
       {
         slantedText : true,
         slantedTextAngle: 90
        }
    }; 
```

# php - 在我的整个应用程序中需要在 zend 应用程序中初始化变量的位置？

> ID：12406857
> 
> 赞同：-1
> 
> 时间：2012-09-13T12:59:52.007
> 
> 标签：php, zend-framework, global-variables, variable-initialization

我想初始化一个需要在我的 zend 应用程序中使用的变量。我应该在哪里初始化它？在**index.php**或**bootstrap.php**中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:04:40.327

Bootstrap 是正确的地方。Bootstrap 用于 Web 应用程序，而针对 index.php 的 CLI 应用程序仅在应用程序用作 Web 应用程序时使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T15:04:42.580

用于全局存储值。您可以使用 zend 注册表。像

**Zend_Registry::set('index', 'value');**

并通过以下方式在任何地方检索它：-

**Zend_Registry::get('index');**

引用 Zend 手册：

> 注册表是用于在应用程序空间中存储对象和值的容器。通过将值存储在注册表中，相同的对象在整个应用程序中始终可用。此机制是使用全局存储的替代方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-16T07:28:38.173

我想说这真的取决于你想要使用的变量类型。如果您想定义可以在应用程序中的任何位置使用的系统路径或公共 url，您可以在 index.php 文件中使用 define('varname', 'value')。我真的只保留一些仅由核心系统使用的主要内容，否则您的代码将很快变得一团糟。其余的可以在 Boostrap.php 文件中初始化。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-13T14:54:46.170

你可以把它放在你的boostrap 上的注册中心（比如Zend_Registry）或者你的配置文件里（比如application.ini）。

# plugins - 在 C# 中获取状态码文本

> ID：12406864
> 
> 赞同：2
> 
> 时间：2012-09-13T13:00:05.047
> 
> 标签：plugins, dynamics-crm-2011

我正在使用插件并希望根据记录状态码值执行操作。我在网上看到你可以用来`entity.FormattedValues["statuscode"]`从选项集中获取值，但是当我尝试它时，我得到一个错误，说“字典中不存在给定的键”。

我知道当插件无法找到您要查找的字段的更改时会发生这种情况，但我已经检查过这确实存在使用`entity.Contains("statuscode")`并且它通过了很好但仍然遇到此错误。

谁能帮我弄清楚为什么它失败了？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T19:05:59.080

我没见过`entity.FormattedValues`以前的。

我通常使用`entity.Attributes`，例如`entity.Attributes["statuscode"]`。

[MSDN](http://msdn.microsoft.com/en-us/library/microsoft.xrm.sdk.entity.attributes "MSDN")

* * *

**编辑**

Crm 将许多值包装在包含附加信息的对象中，在这种情况下，状态码使用 OptionSetValue，因此要获取您需要的值：

```
((OptionSetValue)entity.Attributes["statuscode"]).Value 
```

这将返回一个数字，因为这是 Crm 中的基础值。

如果您在 Crm 中打开自定义选项，您通常（某些系统字段被锁定）能够看到每个选项的标签和值。

![在此处输入图像描述](../Images/852f9df8a41a88bdbec9d18320a22dbf.png)

如果您需要标签，您可以根据 Crm 中的信息进行一些硬编码。

[或者您可以从这里](http://andreaswijayablog.blogspot.co.uk/2011/09/crm-2011-get-optionsetvalue-label-text.html)描述的元数据服务中检索它。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-14T08:22:40.017

为避免您的错误，您需要检查您希望使用的集合（而不是`Attributes`集合）：

```
if (entity.FormattedValues.Contains("statuscode")){
    var myStatusCode = entity.FormattedValues["statuscode"];
} 
```

但是，尽管 SDK 无法确认这一点，但我怀疑`FormattedValues`它只存在于数字或货币属性中。（不过我的部分猜测）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-28T13:05:31.710

entity.FormattedValues 仅适用于字符串显示值。

例如，您有一个显示名称为 1、2、3 的选项集，上述语句无法识别这些值，因为它们是整数。如果您在下面的链接中看到了格式化值的确切定义

[http://msdn.microsoft.com/en-in/library/microsoft.xrm.sdk.formattedvaluecollection.aspx](http://msdn.microsoft.com/en-in/library/microsoft.xrm.sdk.formattedvaluecollection.aspx)

你会发现这个语句只对字符串显示值有效。如果您尝试将此语句与整数值一起使用，它将抛出在字典异常中找不到键。

因此，请尽量避免使用此语句来检索代码中的整数显示名称选项集。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-04-14T15:03:43.947

试试这个

```
string Title = (bool)entity.Attributes.Contains("title") ? entity.FormattedValues["title"].ToString() : ""; 
```

当您谈论选项集时，您有价值和标签。这会给你的是标签。“？” 将确保永远不会传递空值。

# php - 如何在url末尾添加字符串

> ID：12406866
> 
> 赞同：0
> 
> 时间：2012-09-13T13:00:07.683
> 
> 标签：php, curl

我使用 cURL 向 REST API 发送请求，我想在执行它之前向创建的 url 添加一个字符串。此字符串不是参数。

你知道我该怎么做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T13:01:46.103

这称为[字符串连接](http://php.net/manual/en/language.operators.string.php)。在php中可以这样做：`$str = $string1.$string2;`

ps 在询问某事之前，请务必阅读文档。在那里，您可以找到大多数问题的答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:03:42.347

这取决于你想做什么。如果要通过附加 GET 查询参数来调用 URL，可以使用[字符串连接](http://www.phpf1.com/tutorial/php-string-concatenation.html)。

```
<?php
function get_data($url, $add) {
    $url = $url.$add;
    $ch = curl_init();
    $timeout = 5;
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, $timeout);
    $data = curl_exec($ch);
    curl_close($ch);
    return $data;
}

echo get_data('http://example.com', '?page=mine');
?> 
```

但是，如果您想通过发送 POST 查询参数来检索特定的 URL（例如，模拟正在提交的表单），您需要实现类似的[东西](http://davidwalsh.name/curl-post)。

# python - 不知道如何使用 Django 模型

> ID：12406867
> 
> 赞同：1
> 
> 时间：2012-09-13T13:00:07.903
> 
> 标签：python, django, django-models

有了这个模型

```
class Event(models.Model):
    name = models.CharField('Name', max_length = 200)

class EventSchedule(models.Model):
    event = models.ForeignKey(Event)
    active = models.BooleanField(default = False)
    sales_start = models.DateTimeField('Sales start')
    sales_finish = models.DateTimeField('Sales end') 
```

如何有效地获取至少有一个 EventSchedule 处于活动状态且在销售开始和结束期间的所有事件对象？

EventSchedule 对象的过滤器是

```
filter(active = True, sales_start__lte = now, sales_finish__gte = now) 
```

但我需要 Event 对象而不是 EventSchedule 对象？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:02:46.443

使用双下划线语法遍历关系：

```
Event.objects.filter(eventschedule__active=True, 
                     eventschedule__sales_start__lte=now,
                     eventschedule__sales_finish__gte=now) 
```

**编辑**实际上，上面的代码将显示具有符合任何这些条件的时间表的事件，即使它们不是相同的时间表。这实际上需要一个子查询，可以这样完成：

```
Event.objects.filter(eventschedule__in=EventSchedule.objects.filter(
    (active=True, sales_start__lte=now, sales_finish__gte=now)) 
```

**第三次尝试**这样更好吗？

```
Event.objects.filter(id__in=EventSchedule.objects.values_list('event').filter(
    (active=True, sales_start__lte=now, sales_finish__gte=now)).distinct() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:28:39.130

我只是觉得简单：

```
events = []
obj = EventSchedule.objects.filter(active=True, sales_start__lte=now, sales_finish__gte=now)
for i in obj:
    if not i.event in events:
          events.append(i.event) 
```

# powershell - 如何将字符串中的多个值检索到powershell中的数组中

> ID：12406869
> 
> 赞同：0
> 
> 时间：2012-09-13T13:00:19.397
> 
> 标签：powershell

我正在寻找一种方法来将字符串中列出的所有 MX 记录检索到文本文件中。
到目前为止，我有一个脚本，它为我提供了一个我使用过的 HTML 输出：

```
$Records = Get-Content -Path "C:\NETESP\MXRecords\MXRecordsHTML.txt" | Select-String -SimpleMatch -Pattern "MX: " 
```

这导致 $Records 包含以下字符串：

```
<DIV class="well transcript">&nbsp;&nbsp;0&nbsp;&nbsp;nsb.nic.uk&nbsp;&nbsp;156.154.101.3&nbsp;&nbsp;NON-AUTH&nbsp;&nbsp;Recieved 2 Referrals , 
rcode=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NS: ns.mainnameserver.com,NS: ns2.mainnameserver.com,&nbsp;&nbsp;<BR><BR>&nbsp;&nbsp;1&nbsp;&nbsp;ns2.
mainnameserver.com&nbsp;&nbsp;79.170.43.3&nbsp;&nbsp;AUTH&nbsp;&nbsp;Recieved 2 Answers , rcode=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MX: exchange
=engine01-20052-1.icritical.com/pref=10,MX: exchange=engine02-20052-2.icritical.com/pref=20,&nbsp;&nbsp;<BR><BR></DIV></DIV></DIV></SPAN><TD>mx: </TD> 
```

有没有办法将 MX 记录和首选项值放入文本文件？根据运行的服务器，可能有多达 6 条 MX 记录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T14:59:09.407

像这样修改你的`Select-String`：

```
... | Select-String 'MX:\s*([^,]+)' -AllMatches | 
      Foreach {$_.Matches | Foreach {$_.Value}} 
```

您需要`([^,]+)`在您的正则表达式中创建一个捕获组。这将允许您仅提取匹配文本更改的那部分。您还需要指定`-AllMatches`每行是否可以有多个 MX 记录。之后，您将要枚举每个`Matches`并吐出我们的值（这将是捕获组文本）。

顺便说一句，此捕获组假定每个 MX 记录以逗号结尾。如果不是这种情况，您将需要找到适当的正则表达式来仅从周围的文本中捕获 MX 记录。

# database - 自动增量与复合键

> ID：12406870
> 
> 赞同：0
> 
> 时间：2012-09-13T13:00:21.577
> 
> 标签：database, database-design, foreign-keys, primary-key, composite-primary-key

我还有一个与帖子相关的问题： [数据库中的复合主键](https://stackoverflow.com/questions/12387695/composite-primary-keys-in-databases)

请查看那边的帖子（否则我只需要重复一遍）。

现在我的问题是：如果我将 ID 自动增量作为主键（正如我接受的那样，它允许我通过该键再次引用当前表），我如何确保User_ID 和 Admin_ID （两个 FK）之间的**组合**可以插入时只存在一次（是**唯一的）？**这是一个多对多的关系。
它可以在前端的编程中完成（通过select检查现有记录），但是我的感觉告诉我这不是最好的方法，我想知道我是否可以直接将限制放在后端。

我会在逻辑上将 FK 添加到主键，但随后我回到复合键，这是我通常被建议而不是不要使用的。
这样做的正确方法是什么？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T18:33:59.813

> 如何确保 User_ID 和 Admin_ID（两个 FK）之间的组合在插入时只能存在一次（唯一）？

创建一个复合键。

> 它可以在前端的编程中完成（通过select检查现有记录）

它不能，除非您是唯一访问该表的客户。¹

在真实的并发环境中，您永远无法知道另一个事务是否在您的 SELECT*之后但**在*您的 INSERT 之前插入了相同的值（正如您尝试插入的那样）。

即使你是唯一一个访问数据库的人，你也需要一个索引来有效地执行 SELECT。那么为什么不让 DBMS 使用这个索引作为键呢？

> 我会在逻辑上将 FK 添加到主键，但随后我回到复合键，这是我通常被建议而不是不要使用的。

错误的建议。如果列或列组合必须是唯一的，**则必须**创建一个键。²您不能仅仅因为您有另一个（代理）密钥而跳过创建一个强制数据正确性的密钥。

代理通常不能**替换**自然键，只能添加。³所以问题就变成了：代理的额外开销值得吗？[有时](https://stackoverflow.com/questions/11637914/create-userid-even-though-usernames-unique/11639189#11639189)是，有时不是，但这里没有一刀切的规则。

* * *

*¹或者愿意锁定整个表，破坏进程的可扩展性。*

*²虽然它不一定是**主要**的。*

*³他们通常“取代”的是自然键作为主键的角色，但自然键仍然作为备用键继续存在。*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T13:17:43.133

I would go for a composite key

If I really need an auto-increment primary key, then I'll create a unique index on the two foreign key columns

Side note: The advantage of using a composite key is that when using an ORM tool like Entity Framework, it automatically recognizes it as a many to many relationship, and abstracting away the additional intersection table into just a relationship.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-14T00:28:54.467

考虑以下（假设的）模式。您会在“棋盘”表中添加代理键吗？{xxx,yyy,pc} 的值受“受限”域或 PK+FK 约束的约束。

在哪些情况下添加代理键（对于 {xxx,yyy} 有帮助？

（真正的国际象棋游戏需要额外的约束（例如：每种颜色不超过一个国王......），（但部分）业务规则（如有效移动......）将由“应用程序逻辑”无论如何）

```
-- this is Postgres-specific:
-- create a schema to play in
DROP SCHEMA chess CASCADE ;
CREATE SCHEMA chess ;
SET search_path='chess' ;

        -- Domain with only values A-H to three allowed.
CREATE DOMAIN chess_column
        AS CHAR(1) NOT NULL
        check (value >= 'A' AND value <= 'H')
        ;
        -- Domain with only values 1-8 allowed.
CREATE DOMAIN chess_row
        AS INTEGER NOT NULL
        check (value >= 1 AND value <= 8)
        ;
        -- Table with only valid pieces
CREATE TABLE chess_piece
        ( id INTEGER NOT NULL PRIMARY KEY
        , pname varchar
        ) ;
INSERT INTO chess_piece(id,pname) VALUES
 ( -6, 'Black King' ) , ( -5, 'Black Queen' ) , ( -4, 'Black Rook' )
, ( -3, 'Black Bishop' ) , ( -2, 'Black Knight' ) , ( -1, 'Black Pawn' )
, ( 6, 'White King' ) , ( 5, 'White Queen' ) , ( 4, 'White Rook' )
, ( 3, 'White Bishop' ) , ( 2, 'White Knight' ) , ( 1, 'White Pawn' )
        ;

CREATE TABLE chessboard
        ( xxx chess_column
        , yyy chess_row
        , pc INTEGER NOT NULL REFERENCES chess_piece(id)
        , PRIMARY KEY (xxx,yyy)
        );
        -- Too lazy to enter the entire board
        -- ; only put a White Pawn at E2
INSERT INTO chessboard(xxx,yyy,pc)
SELECT 'E', 2, p.id
FROM chess_piece p
WHERE p.pname = 'White Pawn';
        ;
        -- Shift the pawn
UPDATE chessboard b
SET yyy = 4
FROM chess_piece p
WHERE b.pc = p.id
AND p.pname = 'White Pawn';
AND b.xxx = 'E' AND b.yyy = 2
        ;
        -- Try to put a piece outside the board
\echo Try put a piece outside the board
INSERT INTO chessboard(xxx,yyy,pc)
SELECT 'I', 2, p.id
FROM chess_piece p
WHERE p.pname = 'Black Pawn';
        ;
        -- add a non-existing piece
\echo add a non-existing piece
INSERT INTO chessboard(xxx,yyy,pc)
VALUES( 'H', 1, 42)
        ;
        -- Position is already occupied
\echo Position is already occupied
INSERT INTO chessboard(xxx,yyy,pc)
SELECT 'E', 4, p.id
FROM chess_piece p
WHERE p.pname = 'Black Pawn';
        ; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-13T14:59:16.013

带着身份证去。我非常同意另一页上的答案。对于快速而肮脏的应用程序，复合键很好。但是，我通常将自动递增的 id 放入我创建的新表中，除非它们是用于报告的静态表。

对于您的具体问题，我至少可以想到四个答案：

1.  实施约束以使这两个字段永远不会重复。
2.  在两列上创建唯一索引。
3.  在表上实施触发器以检查重复项。
4.  通过检查数据有效性的存储过程进行插入。

我的偏好是（4），结合（1）或（2）。我发现通过存储过程控制插入给了我很大的灵活性，特别是当我想记录或调试问题时。也就是说，我通常不使用大容量事务系统，在这些系统中，减少开销至关重要。

在另一个答案中遗漏了自动递增的 id 有一个优势。以下查询：

```
select *
from t
order by 1 desc 
```

返回最近添加的记录，假设 id 是第一列（因为它在我的所有表中）。仅仅能够查看最近插入的记录就足以让我使用 id。

# java - Drools 管道问题

> ID：12406872
> 
> 赞同：1
> 
> 时间：2012-09-13T13:00:30.227
> 
> 标签：java, jboss, drools

我在 tibco 上有一个队列。我正在尝试使用 drools 管道从队列中接收对象，如下所示。

```
KnowledgeBuilder kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder(); 
String jmsRules ="jms.drl";
kbuilder.add(ResourceFactory.newClassPathResource(jmsRules, getClass()), ResourceType.DRL);

    if (kbuilder.hasErrors()) { 
        System.out.println("KBuilder has errors: " + kbuilder.getErrors()); 
        return; 
    } 

    KnowledgeBase kbase = KnowledgeBaseFactory.newKnowledgeBase(); 
    kbase.addKnowledgePackages(kbuilder.getKnowledgePackages()); 
    StatefulKnowledgeSession ksession = kbase.newStatefulKnowledgeSession(); 
    KnowledgeRuntimeCommand insertStage = PipelineFactory.newStatefulKnowledgeSessionInsert(); 

    Action unwrapObjectStage = PipelineFactory.newJmsUnwrapMessageObject(); 
    unwrapObjectStage.setReceiver(insertStage); 

    Pipeline entry = PipelineFactory.newStatefulKnowledgeSessionPipeline(ksession); 
    entry.setReceiver(unwrapObjectStage); 

    Properties props = new Properties(); 

    props.setProperty(Context.INITIAL_CONTEXT_FACTORY, "com.tibco.tibjms.naming.TibjmsInitialContextFactory"); 
    props.setProperty(Context.URL_PKG_PREFIXES, "com.tibco.tibjms.naming"); 
    props.setProperty(Context.PROVIDER_URL, "tibjmsnaming://10.6.8.21:7222"); 
    String destinationName = "DIAG1_vmware-ucs-1-v02_routing"; 

    Service messenger = PipelineFactory.newJmsMessenger(entry, props, destinationName, null); 
    messenger.start(); 
    ksession.fireAllRules(); 

    System.out.println("NUMBER OF FACTS INSERTED===>"+ksession.getFactCount());
    ksession.dispose(); 

    messenger.stop(); 
```

指定的队列（DIAG1_vmware-ucs-1-v02_routing）已经很少有对象。当我运行程序时，我得到以下异常。

```
Exception in thread "main" java.lang.RuntimeException: Unable to instantiate JmsFeeder
    at org.drools.runtime.pipeline.impl.JmsMessenger.<init>(JmsMessenger.java:63)
    at org.drools.runtime.pipeline.impl.JmsMessengerProviderImpl.newJmsMessenger(JmsMessengerProviderImpl.java:34)
    at org.drools.runtime.pipeline.PipelineFactory.newJmsMessenger(PipelineFactory.java:410)
    at com.sample.JMSPipelineSmooksDemo.go(JMSPipelineSmooksDemo.java:78)
    at com.sample.JMSPipelineSmooksDemo.main(JMSPipelineSmooksDemo.java:26)
Caused by: javax.naming.NameNotFoundException: Name not found: 'ConnectionFactory'
    at com.tibco.tibjms.naming.TibjmsContext.lookup(TibjmsContext.java:713)
    at com.tibco.tibjms.naming.TibjmsContext.lookup(TibjmsContext.java:489)
    at javax.naming.InitialContext.lookup(Unknown Source)
    at org.drools.runtime.pipeline.impl.JmsMessenger.<init>(JmsMessenger.java:60)
    ... 4 more 
```

请帮助我解决问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-14T07:18:48.387

**Drools Pipeline 已弃用**，请改用 Drools Camel。

# jquery - jQuery ui droppable 不触发

> ID：12406874
> 
> 赞同：4
> 
> 时间：2012-09-13T13:00:39.040
> 
> 标签：jquery, jquery-ui, jquery-ui-draggable, jquery-tools

我正在尝试构建一个拖放系统，可以将图像拖放到特定的 div 中。因为图像在滚动条中，所以我必须对可拖动对象使用克隆。我遇到的问题是，当我将图像拖到 div 上时，似乎没有触发“drop”事件。我在网上搜索过，但没有找到有效的解决方案。

我有以下内容：

```
$( "#droppable" ).droppable({
  activeClass: "ui-state-highlight",
  drop: function( event, ui ) {
    alert('ok');
  }
});

$( ".draggable" ).draggable({ 
  helper: "clone", 
  scroll: false
}); 
```

这样当 .draggable 元素被放到 #droppable div 上时，我应该会看到一个警报。droppable 确实获得了 activeClass，所以它已经走了那么远，但是当我放下图像时，什么都没有发生 - 它只是消失了。

html是：

对于 droppable（它在一个可滚动的 div 中，使用 jQuery ui 可滚动）：

```
<div class="scrollable" id="scrollable">
  <div id="scrollable-items" class="items">
    <div id="scrollerDiv_1">
      <div>
        <div id="droppable" class="droppable ui-droppable">
          <div class="ImageArea"></div>
          <div class="CaptionArea">Drag a photo or video into the box above to create a new frame</div>
        </div>
      </div>
    </div>
  </div>
</div> 
```

对于可拖动的图像：

```
<div id="EditMain">
  <div id="libraryMain">
    <div id="my-asset-list" class="assetList">
      <div class="listItem draggable scroll-content-item ui-draggable">
        <span class="assetItem">
          <img src="xxx"/>
        </span>
      </div>
      <div class="listItem draggable scroll-content-item ui-draggable">
        <span class="assetItem">
          <img src="xxx"/>
        </span>
      </div>
      <div class="listItem draggable scroll-content-item ui-draggable">
        <span class="assetItem">
          <img src="xxx"/>
        </span>
      </div>
    </div>
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T13:29:09.923

得到它的工作 - 感谢您的帮助。

一旦我意识到它对其他人有用，我认为它必须与其他东西发生冲突 - 果然，还有另一个“可放置”的脚本，我很久以前就输入了它并忘记了。删除它，一切正常。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T13:21:18.690

这将为您工作：

```
$("#droppable").droppable({
            activeClass: "ui-state-highlight",
            drop: function (event, ui) {
                alert('ok');
                x = $(ui.helper).clone();
                x.appendTo($(this));

            }
        }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T13:11:26.890

对我来说，它工作正常.. 做一件事，暂时为您的可放置 div 提供背景颜色。这样您就可以知道可以放置图像的区域。因为您只能将图像放置在您定义为可放置的区域中

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-13T13:10:44.723

在 drop 函数中，您需要将放置的项目附加到容器中：

```
drop: function(event, ui) {
    $('#mycontainer').append(ui.draggable);
    return true;
} 
```

返回值表示drop是否成功。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-09-10T16:28:13.963

有一个与遏制解决方案相关的类似问题，或者特别是可拖动对象与可放置对象的关系。最初尝试这个没有成功；

```
drag.getSymbolElement().draggable( {
       containment: 'parent',
       ... 
```

将包含更改为 html 解决了该问题；

```
drag.getSymbolElement().draggable( {
       containment: 'html',
       ... 
```

注意：如果这是一个附加因素，该解决方案适用于 Adob​​e Edge。

# android - 如何以编程方式在android中找到支持语言？

> ID：12406878
> 
> 赞同：1
> 
> 时间：2012-09-13T13:00:44.683
> 
> 标签：android, localization

> **可能重复：**
> [Android 上支持的语言/区域列表是什么？](https://stackoverflow.com/questions/7973023/what-is-the-list-of-supported-languages-locales-on-android)

在我的 android 应用程序中，我想通过该特定设备获取支持语言的列表。请任何人告诉我他们有什么方法可以做到这一点

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:06:29.063

你可以试试这个

```
 Locale[] locs= Locale.getAvailableLocales();
    for(Locale l:locs){
        Log.d(tag, l.getDisplayLanguage());
    } 
```

# actionscript-3 - 在 ActionScript3 中概括实例名称

> ID：12406880
> 
> 赞同：0
> 
> 时间：2012-09-13T13:00:48.553
> 
> 标签：actionscript-3, actionscript, movieclip

想象有这样一种情况：我有 100 个具有实例名称的影片剪辑：MC1a、MC2a、MC3a .. MC100a，我希望它们全部不可见，除了：

```
MC1a.visible = false; ... MC100a.visible = false; 
```

因为这样代码变得非常繁重，我认为这不是正确的方法。所以我在想有没有可能的方法是这样的：

```
MC*a.visible = false; 
```

所有在乞求和“a”中包含“MC”和结尾的电影剪辑都消失了吗？也许有数组的东西？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:12:28.953

如果所有这些影片剪辑的父级称为容器，您可以这样做：

```
container["MC"+i+"a"].visible=false 
```

这是由于 ActionScript 的脚本性质造成的。

对于您的特定情况，您可以这样做

```
for(i=0;i<100;i++){
    container["MC"+i+"a"].visible=false;
} 
```

如果您没有 0 到 100 之间的所有数字，则可以执行以下操作：

```
for each(MovieClip mc in container){
    name=mc.name;
    if(name.substring(0,2)=="MC" && name.substring(-1)=="a"){
        mc.visible=false;
    }
} 
```

（这是未经测试的即时编写的伪代码）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:20:00.003

有几种方法可以实现这一目标。首先 - 制作一个 Sprite 容器，这将是它们的共同父级，然后改变它的可见性。这不是一种灵活的方式，例如，如果您的电影剪辑位于舞台的两个不同区域，并且需要以某种方式进行交互，您可能无法将它们全部放在显示列表中的单个父项下。第二种方法是在实例化时从这 100 个影片剪辑中创建一个数组（当然，如果可能的话），然后遍历数组并在循环中分配它们的可见性。

基本上，如果您有一些应该形成结构的对象，请考虑首先以某种方式链接它们，然后将它们的可见性或其他参数一起更改。如果您需要一次将它们全部移动或隐藏，容器方法会更好。如果您需要它们执行相似但不完全相同的动作（例如，您将怪物作为电影剪辑，并且您需要它们一起移动，但每个都有自己的方向和速度），您应该有一个数组。

另一件需要考虑的事情，如果有一个名为“MCbig_a”的影片剪辑，即符合您的条件，但不完全属于您希望使其不可见的 MC 组，您将不得不采取预防措施关于此类事件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T15:24:25.677

假设所有孩子都被添加到名为 myContainer 的同一个容器中

```
var container:MovieClip = myContainer;
var i:uint = container.numChildren;
while (i--)
{
    var child:* = container.getChildAt(i);
    child.visible = false;
} 
```

# driver - 从win7 x86驱动程序写入命名共享内存时出现蓝屏

> ID：12406881
> 
> 赞同：0
> 
> 时间：2012-09-13T13:00:53.547
> 
> 标签：driver

```
#include "ntddk.h"

NTSTATUS    DriverEntry( IN PDRIVER_OBJECT DriverObject, IN PUNICODE_STRING RegistryPath );
VOID            DriverUnload( IN PDRIVER_OBJECT DriverObject );

INT InitializeGlobalAddressSpace(VOID);
#define BUF_SIZE 256

TCHAR szName[]=TEXT("\\BaseNamedObjects\\MyFileMappingObject");
char szMsg[]="New Message";

NTSTATUS DriverEntry( IN PDRIVER_OBJECT DriverObject, IN PUNICODE_STRING RegistryPath )
{
    NTSTATUS    ntStatus = STATUS_UNSUCCESSFUL;

    DriverObject->DriverUnload = DriverUnload;

    DbgPrint("Hello World Driver Loaded!");
    InitializeGlobalAddressSpace();
    ntStatus = STATUS_SUCCESS;

    return ntStatus;
}

VOID DriverUnload( IN PDRIVER_OBJECT DriverObject )
{
    DbgPrint("Hello World Driver unloaded!");
}

INT InitializeGlobalAddressSpace(VOID)
{
    OBJECT_ATTRIBUTES ObjectAttributes;
    UNICODE_STRING PhysMemName = RTL_CONSTANT_STRING(L"\\BaseNamedObjects\\MyFileMappingObject");
    NTSTATUS Status;
    HANDLE PhysMemHandle;
    PVOID BaseAddress;
    PVOID NullAddress;
    LARGE_INTEGER Offset;
    ULONG ViewSize;
    BaseAddress = NULL;
    Offset.LowPart = 0;
    Offset.HighPart = 0;
    ViewSize = 0;

    InitializeObjectAttributes(&ObjectAttributes,&PhysMemName,0,NULL,NULL);
    Status = ZwOpenSection(&PhysMemHandle, SECTION_ALL_ACCESS, &ObjectAttributes);

    if (!NT_SUCCESS(Status))
     {
        DbgPrint("Couldn't open Global\\MyFileMappingObject - error:%x\n",Status);
        return(0);
     }

   Status = ZwMapViewOfSection(PhysMemHandle,ZwCurrentProcess(),&BaseAddress,0,0,&Offset,&ViewSize,ViewShare,0,PAGE_READWRITE);

   if (!NT_SUCCESS(Status))
     {
        DbgPrint("Couldn't open Global\\MyFileMappingObject - error:%x\n",Status);
        return(0);
     }

   DbgPrint("%s",Status);

    try
    {
        memcpy((PVOID)Status, szMsg, (strlen(szMsg) * sizeof(TCHAR)));
    }
    except(EXCEPTION_EXECUTE_HANDLER)//will crash without this.
    {
        DbgPrint("error:%x");
    }

   return (1);
} 
```

**memcpy**函数导致驱动程序崩溃系统，我在**zwopensection/zwmapviewofsection**中做错了什么导致这种情况发生。**注意**：驱动程序不会使用**try/except**函数使系统崩溃。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T17:39:28.337

你正在尝试在 Status 中写一些东西：

```
memcpy((PVOID)Status, szMsg, (strlen(szMsg) * sizeof(TCHAR))); 
```

实际上你应该写在 BaseAddress ... :-)

# gwt - 使用 gwt uibinder 显示 jsonp 查询结果

> ID：12406886
> 
> 赞同：1
> 
> 时间：2012-09-13T13:01:19.113
> 
> 标签：gwt, jsonp, uibinder

我使用 GWT UiBinder 创建 GWT 应用程序的视图。视图中有一个动态部分，我需要对外部服务器进行 jsonp 查询，并将 jsonp 查询的字符串结果显示到 gwt 视图页面中。

有没有巧妙的方法告诉 uibinder xml 文件如何显示这些动态 jsonp 结果？

它基本上是在视图的动态部分插入超链接列表。我们如何用 uibinder 做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:58:04.200

你不能。您应该在您的应用程序中检索此字符串，并将其注入您的视图中。

您可以创建一个自定义小部件来执行此操作，然后您可以在 Ui:Binder 中使用此小部件，但您应该考虑它会如何影响您的应用程序的自动化测试。

# macos - Github 未安装在终端操作系统中

> ID：12406888
> 
> 赞同：0
> 
> 时间：2012-09-13T13:01:31.970
> 
> 标签：macos, github-for-mac

我下载并安装了适用于 OS X 的 GitHub（最新版本），在应用程序中的**Github**下安装了命令行实用程序，尝试在名为“basic-twitbstrap”的存储库中创建我的第一个自述文件时遇到错误。

```
Macbooks-MacBook-Pro-2:basic-twitbstrap macbook$ git init
-bash: git: command not found 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:06:05.090

如果它们没有安装在标准位置，命令行程序需要调用一些环境修改，这包括将它们的目录添加到 PATH 环境变量中。

所以在你的情况下，你需要添加`/usr/local/github`到你的路径中，[看看如何](http://www.tech-recipes.com/rx/2621/os_x_change_path_environment_variable/).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-14T18:29:19.003

我安装了最新版本的 Ruby 版本管理器，然后在终端中输入了“git”。它提出了使用和常用命令的列表。

现在它运行了。

```
Macbooks-MacBook-Pro-2:~ macbook$ git --version
git version 1.7.4.4 
```

# java - 如何在 EE6 中做 JavaMail 对吗？

> ID：12406889
> 
> 赞同：2
> 
> 时间：2012-09-13T13:01:31.453
> 
> 标签：java, jpa-2.0, java-ee-6, jakarta-mail, quartz-scheduler

我想知道其他人是如何做他们的邮件的，你对最佳实践有什么看法。当我考虑如何完成邮寄的事情时，我只能想到一种解决方案，可以通过不同的技术以不同的方式实现。

1.  使邮件以某种方式持久化（保存在数据库中，通过 JMS 发送）
2.  不断检查（使用调度程序从 DB 或通过 JMS 获取）尚未成功发送的新邮件并尝试发送它们，当发生错误时，稍后再试

希望没有人在没有充分理由的情况下使用的另一个选项是在业务逻辑中发送邮件，并可能导致事务失败（或在特定时间重试发送邮件时需要很长时间），因为邮件无法发送。

在另一个项目中，我看到了一个独立的邮件发件人应用程序，它不断查询数据库并根据当前时间等标准发送电子邮件。

那么您认为什么是好的解决方案，或者您在项目中实际使用了什么？我无法通过谷歌找到任何真实世界的例子，也许我搜索得不够，但如果是这样，请与我分享你的资源！

**编辑** 要定义“正确的方式”，我想添加一些要求：

*   邮件必须是持久的、可编辑的、可重新发送的
*   根据某些标准，邮件可以在特定时间发送
*   解决方案应水平缩放

EE6 为 EJB 提供 TimerService 和异步操作。通过询问 EE6 环境的“正确方式”，我想知道应该如何使用/实施邮件来满足此类标准要求。

oracle 站点上有一些文章显示了@Async EJB 方法中邮件会话的用法，但这种用法听起来有些错误。我应该使用计时器服务重试发送邮件吗？我应该将邮件保存到数据库并使用间隔计时器来获取并尝试发送它们吗？我应该将邮件的发送移到应用程序之外吗？

我想知道其他人使用什么解决方案，并听取关于对于此类（希望不仅对我而言）常见要求可能是更好或更差的解决方案的意见。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:25:17.630

在我们的项目中，我们使用 Quartz 调度程序来运行作业。在作业被安排发送电子邮件之前，消息是组成的，电子邮件的不同部分（如主题、正文、收件人）存储在数据库中。当石英作业运行并且能够成功发送电子邮件时，消息的sent_flg 将被设置为SENT。如果失败，quartz 作业将在一段时间后使用相同的参数再次运行。在放弃之前，它肯定会尝试几次。还有一个屏幕，管理员可以在其中重新发送失败的消息，以防他想发送它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T13:07:10.327

一种选择是只安装一个[MTA](http://en.wikipedia.org/wiki/Message_transfer_agent)，可能专门用于此目的，例如用于 Linux 的 sendmail。我会让它在与我的 (Java) 应用程序相同的节点上运行。特别是如果在本地运行，该服务器应该“保证”可用。只需让应用程序服务器使用它作为 SMTP 服务器发送邮件。那时，它实际上是“即发即弃”，并且与 JMS 之类的东西一样好。正确配置的 MTA 将立即接受消息（允许 JVM 继续前进） - 并花时间在其自己的线程上尝试重新发送任何消息等。

这种方法唯一真正的缺点是，您将无法轻松地从 Java（不解析日志文件等）检查给定电子邮件的实际进度 - 但即便如此，电子邮件也无法得到保证，因为它可能被任何上游邮件服务器或接收客户端拒绝/丢弃。

# javascript - 使用 Javascript 插入 HTML

> ID：12406890
> 
> 赞同：1
> 
> 时间：2012-09-13T13:01:36.390
> 
> 标签：javascript, html

**更新**

我正在尝试使用 onClick 函数在 html 中添加一个包含文本框和简单文本的组

这是按钮的html部分

```
 <div id="dynamicForm">
        <input type="submit" name="Add_fields" value="+" onclick="generateRow()">
    </div> 
```

和js

```
 <script>
function generateRow()
{
    document.getElementById('dynamicForm').innerHTML +='
                    <input name="dneven" type="text" width="30"/>
                        дневен
                    <select name="zapl">
                        <option selected="selected" value="3">-----</option> 
                        <option 1>платен</option>
                        <option 2>неплатен</option>
                    </select>
                        отпуск от  
                    <select name="god">
                        <option selected="selected" value="11">---</option>
    <option 1>2011</option>
    <option 2>2012</option>
                    </select>г.
                ';
}
</script> 
```

但它什么也没做。我的错误在哪里，以及如何让按钮在按下一次后消失？我会提前感谢您的所有帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:06:37.617

你有一个语法错误，因为你的引号。

```
innerHTML+="<input name="name" type="text" width="30"/> some text <input name="name" type="text" width="30"/>"; 
```

这是一个语法正确的版本。注意字符串是单引号，这意味着双引号的 HTML 属性不会意外终止字符串。

```
innerHTML+='<input name="name" type="text" width="30"/> some text <input name="name" type="text" width="30"/>'; 
```

如果你仍然卡住，你可能需要给我们更多的代码——你是用`innerHTML`一个元素的实际 innerHTML 的简写，还是它是在某处声明的变量？

**更新**

> 我没有在任何地方声明innerHTML

如果要将 HTML 字符串添加到元素，则需要使用：

```
document.getElementById('myElementId').innerHTML += 'html string'; 
```

就像放

```
innerHTML += 'html string'; 
```

创建一个隐式全局变量（以及错误，因为您试图附加到尚不存在的东西）。

**更新**

> 我想在按钮之后插入 HTML

HTML：

```
<div id="dynamicForm">
    <input type="submit" name="Add_fields" value="+" onclick="generateRow()">
</div> 
```

JS：

```
function generateRow() {
    document.getElementById('dynamicForm').innerHTML += '<input name="name" type="text" width="30"/> some text <input name="name" type="text" width="30"/>';
} 
```

稍后，您可能希望开始创建元素并将它们附加到 DOM，而不使用字符串，并在脚本而不是 HTML 中添加事件处理程序——但这应该可以帮助您入门。

**更新**

JavaScript 中的字符串中不能有换行符，因此您需要一行或大量附加。[这里的工作示例](http://jsfiddle.net/uLKpB)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-25T01:07:26.050

用户[发电机](http://jnerator.com)。

1.  创建jtag：

    ```
    var jtag = $j.tagArray([
        $j.inputText({ name: 'dneven', width: 30 }),
        'дневен',
        $j.select([
            $j.option({ selected: 'selected', value: '3', child: '------' }),
            $j.option({ value: '1', child: 'платен' }),
            $j.option({ value: '2', child: 'неплатен' })
        ]),
        'отпуск от ',
        $j.select({
            name: 'god',
            child: [
                $j.option({ selected: 'selected', value: '11', child: '------' }),
                $j.option({ value: '1', child: '2011' }),
                $j.option({ value: '2', child: '2012' })
            ]
        })
    ]); 
    ```

2.  获取html代码

    ```
    var htmlCode = jtag.html();
    // jtag.html() returns:
    // <input name="dneven" width="30" type="text" ></input>дневен<select><option selected="selected" value="3" >------</option><option value="1" >платен</option><option value="2" >неплатен</option></select>отпуск от <select name="god" ><option selected="selected" value="11" >------</option><option value="1" >2011</option><option value="2" >2012</option></select> 
    ```

3.  将 HTML 代码插入现有标签

    ```
    document.getElementById('dynamicForm').innerHTML += htmlCode; 
    ```

# node.js - 如何在不保持比例的情况下调整图像大小？

> ID：12406895
> 
> 赞同：2
> 
> 时间：2012-09-13T13:01:58.013
> 
> 标签：node.js, resize, graphicsmagick

我正在使用节点 gm（节点的 GraphicsMagick），我想知道如何调整图像大小（忽略它的比例）。

如何在不保持比例的情况下调整图像大小？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-27T21:22:49.740

对我来说，这不起作用，我不得不添加一个额外的参数来实现它。

```
    var gm = 要求('gm');

    gm('/path/to/image.jpg')
      .resize(353, 257, "!") //添加感叹号
      .autoOrient()
      .write('/path/to/newImage.jpg', function (err) {
        if (!err) console.log('万岁！');
      });

```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-14T19:11:58.023

你真的要忽略这个比例吗？如果是，您可以简单地使用 gm[网站上](http://aheckmann.github.com/gm/)的示例：

```
var gm = require('gm');

gm('/path/to/image.jpg')
  .resize(353, 257) // use your own width and height
  .autoOrient()
  .write(writeStream, function (err) {
    if (!err) console.log(' hooray! ');
  }); 
```

# installation - “完成”屏幕中验证脚本的来源

> ID：12406897
> 
> 赞同：1
> 
> 时间：2012-09-13T13:02:05.757
> 
> 标签：installation, install4j

是否可以区分作为“验证表达式”内容编写的脚本内的来源？

按下任何按钮时都会触发此脚本：屏幕框架中的“关闭”或“x”按钮。

如果“x”是源，我想进行一些额外的处理（即使触发了默认复选框，也阻止启动应用程序，做一些自定义的事情等）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T08:29:00.077

对于大多数屏幕，只有在单击“下一步”按钮时才会执行验证脚本。一个例外是“完成”屏幕或选择了“屏幕后退出”属性的任何屏幕。在这些屏幕上，关闭窗口相当于单击“完成”按钮。不幸的是，没有办法区分这两者。

一些用户选择通过关闭窗口来关闭最后一个屏幕上的安装程序，如果没有区分“完成”屏幕和常规屏幕，这可能会导致回滚。

# android - 在其他应用程序中使用 Content Provider 编写数据库。安卓

> ID：12406898
> 
> 赞同：0
> 
> 时间：2012-09-13T13:02:08.397
> 
> 标签：android, android-layout, android-intent, android-service, android-contentprovider

谷歌搜索后，我发现内容提供程序正在应用程序的主线程中运行。

并且用户必须在 Android Mainfeast 文件中提及它。

我有一个情况。我有两个应用程序 A 和 B。我想在应用程序 B 中使用内容提供程序创建一个数据库，而不运行应用程序 B。我将 Intent 从应用程序 A 传递到 B.for 在那里调用将创建数据库并执行其他操作的服务无需将应用程序 B 带入用户视野即可完成任务。

我要求所有专家向我提出解决方案。有可能做这个任务吗？我可以使用内容提供者创建数据库吗？我认为可以从其他应用程序创建数据库。但我很困惑 Content Provider 任务是否有效？

# java - Findbugs 2.0 ThreadPoolExecutor.submit for void callable 忽略异常返回值

> ID：12406899
> 
> 赞同：2
> 
> 时间：2012-09-13T13:02:10.167
> 
> 标签：java, findbugs, java.util.concurrent

我`java.util.concurrent.ExecutorService.submit(Callable<T>)`用来调用`Callable`返回 void 的任务。我们选择的原因`Callable`是`Runnable`利用`Callable`抛出检查异常的能力，因为我们并没有真正的结果。迁移到 Findbugs 2.0 后，提交调用被标记为违规，因为我们忽略了异常返回值。只是想检查这是否是一个公平的违规行为——因为无论如何我都不想检查返回值。

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:11:03.413

如果您使用 Callable 是因为它可以引发异常，那么您似乎想要抓取并检查 Future 以查看是否引发了异常。否则，您正在设计代码以抛出已检查异常但从不处理它。

# printing - 通过微控制器的 SPP 进行蓝牙打印

> ID：12406901
> 
> 赞同：0
> 
> 时间：2012-09-13T13:02:15.250
> 
> 标签：printing, bluetooth, microcontroller, printer-control-language, spp

我们有一个自建的移动设备，可以通过蓝牙 SPP 将数据传输到 PC。市场上有许多通过蓝牙充当移动打印机的设备。其中一些使用自定义的基于 ASCII 的打印语言，例如 Zebra 的标签打印机。

所以就有了从我们的设备通过 SPP 打印的想法。遗憾的是，互联网上没有太多关于这个专题的有用信息。

您能否推荐任何能够通过蓝牙 SPP 进行打印且具有公开可用协议规范的打印机（至少 A4）？或者你有什么建议从哪里开始？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T15:03:46.110

蓝牙打印机通常使用 SPP 以外的配置文件。有几种口味，一些打印机将支持多种口味：

1) BPP - 基本打印配置文件可以发送简单的基于文本的数据，不需要打印机特定的驱动程序

2) HCRP - 硬拷贝电缆更换配置文件用于发送与通过电线相同的数据格式，通常需要特定于打印机的驱动程序来格式化数据。

3) BIP - 基本成像配置文件允许传输照片等。

4) OPP - 对象推送配置文件有时也用于传输文件

因此，一般而言，您将无法仅使用 SPP 与普通打印机通信，尽管这些其他配置文件可能位于 SPP 之上。

# jquery - 具有多个放置区域的 jQuery filedrop

> ID：12406902
> 
> 赞同：1
> 
> 时间：2012-09-13T13:02:16.833
> 
> 标签：jquery, html, file-upload

我正在尝试构建一个包含多个放置区域的页面，用于上传文件。每个区域都有特定的参数来接受/上传不同类型的图像。我用过 jQuery [filedrop](https://github.com/weixiyen/jquery-filedrop)。

一个独特的放置区一切顺利，但有多个区域，只有最后一个有效。你可以在这里看到一个[例子](http://areatest1.latuagenziadiviaggi.it/lab/html5upload/filedrop.html)。

我不知道这是否是 filedrop 的限制，或者我做错了什么。

有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-25T18:29:36.043

好的，我找到了解决方案的开始。

您可以做的是为每个 Dropbox 创建一个函数

```
$.fn.filedrop = function(options) {
    opts1 = $.extend( {}, default_opts, options );

    this.bind('drop', drop).bind('dragenter', dragEnter).bind('dragover', dragOver).bind('dragleave', dragLeave);
    $(document).bind('drop', docDrop).bind('dragenter', docEnter).bind('dragover', docOver).bind('dragleave', docLeave);
}; 
```

为第一个投递箱创建一个 var `opts1`，然后`opts2`为第二个投递箱创建一个 var，依此类推......并在每个函数`$.fn.filedrop`中替换 var `opts`，`opts1` `opts2`这样你就有一个`$.fn.filedrop1`用于第一个投递箱的函数，然后是`$.fn.filedrop2`第二个投递箱的函数，依此类推。在每个函数中，您将 drop 函数绑定到每个`drop1` `drop2`函数`this.bind('drop', drop2)`，并创建与 dropbox 一样多的 drop 函数。在每个 drop 函数中，您添加第一行，因此在每次 drop 时，它将根据 dropbox 更新选项

```
function drop2(e) {
    opts = opts2;
    opts.drop(e);
    files = e.dataTransfer.files;
    if (files === null || files === undefined) {
        opts.error(errors[0]);
        return false;
    }

    files_count = files.length;
    upload();
    e.preventDefault();
    return false;
} 
```

当然，您根据每个保管箱绑定每个 filedrop 功能`dropbox2.filedrop2({...`

# ios - IPA 文件大小 Flash Builder 导出

> ID：12406903
> 
> 赞同：0
> 
> 时间：2012-09-13T13:02:18.647
> 
> 标签：ios, actionscript-3, ipad, flash-builder

我打算为 iPad 构建一个 IOS 应用程序，并且我做了一个快速的 test.api。我的问题是文件的大小已经 13 MB 大。我添加了用于测试的视频和声音（总共 9 MB），所以我想知道在 Flash Builder 中制作 ipa 时是否有最小文件大小？

也许大约 4 MB？

13MB - 9MB = 4MB？

然后 4MB 是标准的 ipa 大小。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T16:17:28.127

Flex/AS3 移动应用程序必须在输出中包含 SDK 才能运行。它被称为“Captive Runtime”，是 Android 上的一个选项，但在 iOS 上是强制性的。本质上，它们是作为虚拟机运行的本机应用程序，允许您在设备上显示您的 AS3/Flex 应用程序，而无需使用 Objective-C 或 Java。这些 SDK 远非小。如果您查看 %FlashBuilder 安装目录%/sdks/，您会发现这些 SDK 的大小可能接近 1GB。显然，这并没有全部包括在内，但根据我的经验，我创建的最小 IPA 大约是 8MB。

对于这些 SDK 的绝对最小大小，我没有一个可靠的答案，谷歌什么也没找到，但我的猜测是在 4-8MB 之间，这取决于你是否使用 Flex。

# asp.net - ASP.NET UserControl 输入参数

> ID：12406904
> 
> 赞同：1
> 
> 时间：2012-09-13T13:02:19.397
> 
> 标签：asp.net, user-controls

我已经像这样编写了我的第一个 UserControl：

```
public partial class DefectMap : System.Web.UI.UserControl
{
    const string imageProviderUrl = "~/DefectMapImageProvider.ashx?";

    public long MapID { get; set; }
    public int Rows { get; set; }
    public int Cols { get; set; }
    public int? Width { get; set; }
    public int? Height { get; set; }

    protected void Page_Load(object sender, EventArgs e)
    {
        ComposeImageUrl();
        GenerateTableStructure();
    }

    void ComposeImageUrl()
    {
        StringBuilder builder = new StringBuilder(imageProviderUrl);
        builder.AppendFormat("DefectMapId={0}", MapID);

        // set up width & height
        if (Width != null && Width > 0)
        {
            builder.AppendFormat("&Width={0}", Width);
            MapImage.Width = (Unit)Width;
        }

        if (Height != null && Height > 0)
        {
            builder.AppendFormat("&Height={0}", Height);
            MapImage.Height = (Unit)Height;
        }

        MapImage.ImageUrl = builder.ToString();
    }

    void GenerateTableStructure()
    {
        if (Rows > 0 && Cols > 0)
        {
            TableHelper.CreateStructure(MapTable, Rows, Cols);
        }
    }
} 
```

如果我在某个页面上添加此控件并在标记中设置值

```
<uc:DefectMap ID="DefectMap" runat="server" Height="80" MapID="1" /> 
```

它像我期望的那样工作。但是，如果我试图在代码中设置值（行、MapID 等），它就不起作用。你明白为什么不？我应该使用不同的方法（而不是 Page_Load）来处理控制逻辑吗？我将此控件用作 GridView 的子控件，尝试这样做：

```
protected void GridView_RowDataBound(object sender, GridViewRowEventArgs e)
    {
        GridView grid = (GridView)sender;
        if (e.Row.RowType == DataControlRowType.DataRow)
        {
            DefectMap defectMap = (DefectMap)e.Row.FindControl("DefectMap");
            DEFECTMAP data = (DEFECTMAP)e.Row.DataItem;

            defectMap.MapID = data.ID_DEFECTMAP;
            defectMap.Rows = data.ROWS;
            defectMap.Cols = data.COLS;
        }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:43:52.277

是的，`Page_Load`为时过早 - 值不可用。要么覆盖该`DataBind`方法并将代码放在那里（我的第一选择），要么覆盖该`OnPreRender`方法并将其放在那里。

# c# - 字符串相等 - 这里发生了什么？

> ID：12406908
> 
> 赞同：18
> 
> 时间：2012-09-13T13:02:32.153
> 
> 标签：c#, string

为了调试我的代码中的问题，我声明了以下两个字符串，假设它们是等价的：

```
String print = "8A9B485ECDC56B6E0FD023D6994A57EEC49B0717";
String newPrint = thumbprint.Trim().Replace(" ", "").ToUpper(); 
```

我发现他们不是。太好了，这就是我问题的根源。但是，我正在即时窗口中检查事情（在声明之后的行）并且不明白发生了什么。这是输出：

```
print
"8A9B485ECDC56B6E0FD023D6994A57EEC49B0717"
newPrint
"‎8A9B485ECDC56B6E0FD023D6994A57EEC49B0717"
String.Compare(print, newPrint);
0
print == newPrint
false
print.Equals(newPrint)
false 
```

嗯？为什么他们不相等？

编辑：

我需要使用“指纹”作为基础。这是用户输入的字符串。我只是使用“newPrint”作为临时变量来保存修剪/上限值。print 是预期的结果。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-09-13T13:08:53.910

事实上，它们并不等同。我复制了这两个值，`newPrint`长度为 41，而`print`长度为 40。 的第一个字符`newPrint`是 ASCII 值为 14 的字符。有趣的是，这已从您的即时窗口转移到 SO 到我的 LINQPad。

```
print.Length
40
newPrint.Length
41
(sbyte)print[0]
56
(sbyte)newPrint[0]
14 
```

`Trim`这实际上与您的and调用无关，而是与您使用而不是作为基础`Replace`的事实有关。我只能假设包含那个额外的字符。它来自哪里我不知道。如果你改变你的第二行来代替你会得到你期望的结果。`thumbprint``print``thumbprint``print``thumbprint`

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2012-09-13T13:11:44.267

您发布的字符串*不*相等。只需这样做：

```
string val   = "8A9B485ECDC56B6E0FD023D6994A57EEC49B0717"; 
string val1  = "‎8A9B485ECDC56B6E0FD023D6994A57EEC49B0717";
var bt = System.Text.Encoding.UTF8.GetBytes(val);
var bt_1 = System.Text.Encoding.UTF8.GetBytes(val1); 
```

您将看到第二个数组在*开头*包含更多元素。

```
226 
128 
142 
```

在这三个元素内容相等之后。

起作用的原因`String.Compare`是原因：

> 比较使用当前文化来获取特定于文化的信息，例如大小写规则和单个字符的字母顺序

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T13:20:02.017

这个问题有问题。如果没有，请。指定完整的环境，因为我在 MS .NET 上尝试过，但在 Mono 上没有。试试这个方法： - 我没有错误，跟踪语句的输出是

> 字符串相等 = True

```
void TestString()
{
    String print = "8A9B485ECDC56B6E0FD023D6994A57EEC49B0717";
    String newPrint = print.Trim().Replace(" ", "").ToUpper();
    Trace.TraceInformation("Strings are equal = {0}", (print == newPrint) && (print.Equals(newPrint)));
    Debug.Assert(print == newPrint);
    Debug.Assert(print.Equals(newPrint));
} 
```

# ios - xcode中的“摘要”选项卡不可见？

> ID：12406909
> 
> 赞同：2
> 
> 时间：2012-09-13T13:02:33.123
> 
> 标签：ios, xcode, xcode4

我正在尝试使用 xcode 更改我的应用程序的启动图像，但相关目标下的“摘要”选项卡不可见，我只看到“信息”、“构建设置”、“构建阶段”和“构建规则”。

有什么想法可以进入摘要选项卡吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-14T07:20:51.277

选择目标，而不是项目。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-03T04:43:31.673

事实证明，在某些情况下，例如尚未构建项目时，摘要选项卡是不可见的。

# java - 使用 -Xmx 内存参数可能会导致错误“无法创建 Java 虚拟机”

> ID：12406913
> 
> 赞同：3
> 
> 时间：2012-09-13T13:02:41.283
> 
> 标签：java, memory, error-handling, parameters, jvm

我创建了一个 java 应用程序，许多用户都在使用它。我已将应用程序捆绑在一个 exe 文件中，使用以下命令运行它：

> java -jar -Xms256m -Xmx1024m MyApplication.jar

我使用这个高“-Xmx”值是因为有时应用程序可能需要高内存才能工作，或者可能导致“内存不足”错误。

该应用程序对我来说运行得很好，因为我有 3GB Rams，但许多其他用户在启动时收到错误“无法创建 Java 虚拟机”，因为他们的内存不足：1.5GB 或 2GB。

我被困在 2 个错误“**内存不足**”和“**无法创建 Java 虚拟机**”之间！！

***如果此内存可用，是否有 java 参数保留 1024 内存，如果没有，则在需要时保留最大内存？***

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:05:25.647

您要么需要 1 GB，要么不需要。

如果您想使用更多可用内存，我会尝试使用`-server`默认为最多 1/4 主内存的 JVM。它还可以使长时间运行的程序更快。;)

在您的情况下，它将使最大堆（不是总内存）成为

```
1.5 GB -> 0.38 GB
2 GB   -> 0.5 GB
3.5 GB -> 0.88 GB 
```

这可能已经足够接近了。您也可以考虑使用堆外内存，因为这可以为您提供更多使用内存的选择。

顺便说一句：4 GB 内存的成本不到 20 美元。:P

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T13:06:25.973

Java 虚拟机需要`contiguous allocation`Windows 中的内存。如果 RAM 是 2GB 并且它可能没有足够`contiguous block of memory`的 1GB，因此会出现错误。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T13:10:22.463

我不相信有。

您面临的更大问题是，如果您将 Xmx 设置得较低（即其他用户可以使用相同的 Xmx）时出现 Out Of Memory ，那么它们也会*出现*Out of Memory ，因此您并没有通过允许它们来帮助任何事情设置较低的 Xmx。

我认为简单的答案是您需要为运行程序设置一些最低内存要求。

# c - 在 C 中使用信号和警报作为超时

> ID：12406915
> 
> 赞同：0
> 
> 时间：2012-09-13T13:02:45.293
> 
> 标签：c

首先，我是 C 的新手。我继承了一些遗留的 C 代码。在此应用程序中，超时无法正常工作。它使用信号和警报来创建超时。我已经阅读了两者，但我仍然遇到问题。

```
signal(SIGALRM, timeouthandler);
alarm(3);
...(connection to a server that may hang)...

alarm(0);

timeouthandler(){
...(connection to a server that may hang)...
} 
```

现在这工作正常，直到我必须将超时添加到代码的不同部分。

```
signal(SIGALRM, timeouthandler2);
alarm(3);
...(log the time out)...

alarm(0);

timeouthandler2(){
...(log the time out)...
} 
```

为什么我的第二次超时不起作用？信号和报警之间有什么联系？是否有更清洁（不复杂）的方式来做到这一点。此外，我将需要另一个包含这两个超时的超时处理程序。谢谢！！

**编辑**：好的，所以看起来我不能同时进行两次超时。让我解释一下我想要做什么。我有一个要连接的服务器列表。我希望每个连接有 3 秒的连接时间，如果没有超时。然后我还希望`global`服务器列表超时，这样如果所有连接时间的总时间超过 12 秒，它就会超时并继续前进。还有其他方法可以做到这一点吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:16:27.297

信号和告警的关系是告警是待处理的信号；该警报的信号（SIGALRM）将在未来传递。`man alarm`有关详细信息，但摘要是`alarm(5);`导致 SIGALRM 在 5 秒内发送，并`alarm(0);`取消（尚未交付）警报。发送信号时将调用您的信号处理函数（调用的第二个参数`signal()`）（这将暂停程序的主要执行，直到信号处理程序返回）。

至于为什么它不工作......什么没有发生？你没有提供任何细节。

至于更清洁的做事方式……目前尚不清楚您要做什么，因此无法回答。为什么会`...code...`超过3秒？如果理解了，那么您的问题可能会得到回答。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:16:34.737

如果秒数为零，则不会安排新警报。从[`alarm`手册页](http://linux.die.net/man/2/alarm)：

> 如果秒数为零，则不会安排新的 alarm()。

但是也：

> 在任何情况下，任何先前设置的 alarm() 都会被取消。

因此，通过第二次调用`alarm`，您可以取消任何先前设置的警报。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-13T13:16:39.923

[`alarm(2)`](http://www.kernel.org/doc/man-pages/online/pages/man2/alarm.2.html)安排`SIGALRM`在给定秒数内传递给进程的信号，*取消*先前的请求。您不能像这样设置多个超时。这是一个或没有。

如果您在 Linux 上，您可能想探索可轮询[`timerfd`](http://www.kernel.org/doc/man-pages/online/pages/man2/timerfd_create.2.html)工具。

# c# - WinRT md5 哈希

> ID：12406917
> 
> 赞同：0
> 
> 时间：2012-09-13T13:02:49.713
> 
> 标签：c#, microsoft-metro, windows-runtime, md5

我尝试获取 md5 哈希：

```
 String clearKey = "test";
        IBuffer buffEntry = CryptographicBuffer.ConvertStringToBinary(clearKey, BinaryStringEncoding.Utf8);
        HashAlgorithmProvider algProvider = HashAlgorithmProvider.OpenAlgorithm(HashAlgorithmNames.Md5);

        IBuffer buffHashed = algProvider.HashData(buffEntry);

        byte[] bytesKey;
        CryptographicBuffer.CopyToByteArray(buffHashed, out bytesKey);
        Debug.WriteLine(String.Format("bytesKey lenght : {0}", bytesKey.Length)); 
```

为什么我的结果大小为 16 字节？如何获得经典的 32 字节结果？

感谢您的帮助，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:05:32.833

MD5 有一个 128 位或 16 字节的输出。所以期望 32 个字节是错误的。我假设使用 32 个字节，您的意思是一个十六进制编码的字符串，其中每个字节映射到两个字符，从而产生一个 32 个字符的字符串。

在地铁你可以 [`CryptographicBuffer.EncodeToHexString`](http://msdn.microsoft.com/en-us/library/windows/apps/windows.security.cryptography.cryptographicbuffer.encodetohexstring.aspx)。将字节转换为十六进制字符串。

在你的情况下，这变成：

```
string md5Hex = CryptographicBuffer.EncodeToHexStringbuffHashed(buffEntry); 
```

# r - R没有在括号中列出行号

> ID：12406920
> 
> 赞同：1
> 
> 时间：2012-09-13T13:02:56.600
> 
> 标签：r, brackets

我有一个妨碍我分析的问题。出于某种奇怪的原因，每当我导入表格（csv、文本等）时，我永远不会让行号出现在括号中。而不是这个：

```
>ID Year  
[1,]  1 1944  
[2,]  1 1945  
[3,]  1 1946 
```

我明白了：

> ID 年份
> 1 1 1944
> 2 1 1945
> 3 1 1946

问题是 R 最终使用第一列 (1,2,3) 作为 ID 并破坏了分析。有任何想法吗？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:19:06.837

您的*“用括号中的行号打印的对象”*可能是 a [`matrix`](http://stat.ethz.ch/R-manual/R-devel/library/base/html/matrix.html)，而从 csv 读取时您会得到一个[`data.frame`](http://stat.ethz.ch/R-manual/R-devel/library/base/html/data.frame.html).

如果您通过阅读 csv 来调用`as.matrix()`您`data.frame`获得的信息，您将获得所需的结果。

**例如：**

像这样的矩阵对象：

```
m1 <- matrix(c(1,1,1,1944,1945,1946),nrow=3,ncol=2)
colnames(m1) <- c('ID','Year')

m1 
```

产量：

```
> m1
     ID Year
[1,]  1 1944
[2,]  1 1945
[3,]  1 1946 
```

从 csv 读取相同数据时：

```
m2 <- read.csv(text="ID,Year
1,1944
1,1945
1,1946")

m2 
```

你得到：

```
> m2
  ID Year
1  1 1944
2  1 1945
3  1 1946 
```

将 m2 转换为矩阵：

```
m3 <- as.matrix(m2)
m3 
```

你得到这个：

```
> m3
     ID Year
[1,]  1 1944
[2,]  1 1945
[3,]  1 1946 
```

# c++ - 禁用设备

> ID：12406923
> 
> 赞同：9
> 
> 时间：2012-09-13T13:03:08.913
> 
> 标签：c++, windows

我的程序中的一个简单函数有问题，该函数（如下所列）应该找到具有*HardwareId* id 的设备，然后将其关闭/打开。它找到它，但随后出现错误，并且*GetLastError()*返回值超出 msdn 范围中的描述。我用注释标记了代码中的错误。如果有人看到这个熟悉*SetupDiCallClassInstaller()*请帮忙。我不知道在哪里搜索该错误以及它是代码错误还是系统环境。我正在使用 Windows 7 64 位并以管理员身份运行此程序。

```
bool DisableInterface(bool bStatus) {   
IN LPTSTR HardwareId;      
HardwareId = L"DAUDIO\\FUNC_01&VEN_10DE&DEV_0018&SUBSYS_10DE0101";   

DWORD NewState ;   

if(bStatus) {   
    NewState = DICS_DISABLE;   
}   
else {   
    NewState = DICS_ENABLE;   
}   

DWORD i, err;   
bool found = false;   

HDEVINFO hDevInfo;   
SP_DEVINFO_DATA spDevInfoData ;   

hDevInfo=SetupDiGetClassDevs(NULL, 0, NULL, DIGCF_ALLCLASSES | DIGCF_PRESENT);   
if(hDevInfo == INVALID_HANDLE_VALUE)   
{   
    printf("blad1");   
    return false;   
}   

spDevInfoData.cbSize=sizeof(SP_DEVINFO_DATA);   
for(i=0; SetupDiEnumDeviceInfo(hDevInfo, i, &spDevInfoData); i++)   
{   
    DWORD DataT;   
    LPTSTR p, buffer = NULL;   
    DWORD buffersize = 0;   

    // get all devices info
    while(!SetupDiGetDeviceRegistryProperty(hDevInfo,   
                                            &spDevInfoData,   
                                            SPDRP_HARDWAREID,   
                                            &DataT,   
                                            (PBYTE)buffer,   
                                            buffersize,   
                                            &buffersize) )   
    {   
        if(GetLastError() == ERROR_INVALID_DATA) {    
            break ;   
        }   
        else if(GetLastError() == ERROR_INSUFFICIENT_BUFFER) {    
            if(buffer) 
                LocalFree(buffer);   
            buffer = (wchar_t*)LocalAlloc(LPTR,buffersize);   
        }   
        else {   
            goto cleanup_DeviceInfo;   
        }   
    }   

    if(GetLastError() == ERROR_INVALID_DATA) 
        continue;   

    //find device with HardwerId
    for(p = buffer; *p && (p<&buffer[buffersize])  ; p += lstrlen(p) + sizeof(TCHAR)) {   
        if( !_tcscmp(HardwareId, p) ) {   
            found = true;   
            break;   
        }   
    }   

    if(buffer) 
        LocalFree(buffer);   

    // if device found change it's state
    if(found)   
    {   
        SP_PROPCHANGE_PARAMS params;   

        params.ClassInstallHeader.cbSize=sizeof(SP_CLASSINSTALL_HEADER);   
        params.ClassInstallHeader.InstallFunction=DIF_PROPERTYCHANGE ;   
        params.Scope=DICS_FLAG_GLOBAL ;   
        params.StateChange = NewState ;   

        // setup proper parameters            
        if(!SetupDiSetClassInstallParams(hDevInfo, &spDevInfoData, &params.ClassInstallHeader, sizeof(params))) {   
            DWORD errorcode = GetLastError();   
        }   

        // use parameters
        if(!SetupDiCallClassInstaller(DIF_PROPERTYCHANGE, hDevInfo, &spDevInfoData)) {   
            DWORD errorcode = GetLastError(); // error here  
        }   

        switch(NewState) {   
            case DICS_DISABLE :   
                printf("off");   
                break;   
            case DICS_ENABLE :   
                printf("on");   
                break;   
        }   

        break;   
    }   

}   

cleanup_DeviceInfo :   
err = GetLastError();   
SetupDiDestroyDeviceInfoList(hDevInfo);   
SetLastError(err);   

return true;   
} 
```

感谢帮助。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-13T19:34:38.527

您的错误的十六进制版本是 0xE0000235。查看 SetupAPI.h 我们可以看到它映射到 ERROR_IN_WOW64。

如果您查看[此 MSDN 线程](http://social.msdn.microsoft.com/Forums/en-US/windowsgeneraldevelopmentissues/thread/7d731747-724d-4a65-9f12-c6af92fa888f/%20%22%22)，您可以看到其他人遇到此问题。在页面下方大约 1/3 处，*Maarten van de Bospoort MSFT*对此做出了回应：

```
The error is because you’re calling SetupDiCallClassInstaller from a x86 process on a x64 machines. 
```

似乎这是您问题的原因，您使用的是 64 位版本的 Windows，但从 32 位进程调用它。尝试编译为 64 位。

# python - 通过python读取多个文件

> ID：12406927
> 
> 赞同：0
> 
> 时间：2012-09-13T13:03:28.473
> 
> 标签：python, python-2.7

我必须打开几个文件，比如 50 个名为 1.txt、2.txt、3.txt 等的文件，并且必须一一阅读。我可以阅读它们的方式是

```
data = loadtxt("1.txt", float) 
```

这样文件名就被用作字符串，我不能使用任何循环来读取它们。而且单独读取每个文件非常繁琐。有没有办法使用循环来读取所有文件？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-13T13:05:33.350

您可以*轻松地*构造一个包含整数的字符串：

```
>>> '{0}.txt'.format(1)
'1.txt' 
```

循环执行：

```
for i in range(50):
    data = loadtxt('{0}.txt'.format(i + 1), float) 
```

鲍勃是你的叔叔。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-13T13:05:14.923

很容易：

```
for i in range(1,51):
   data = loadtxt('{0}.txt'.format(i),float)
   #process data here. 
```

如果您更喜欢 c 风格的字符串格式，老式的字符串插值也可以工作：

```
datafile = '%d.txt' % (i) 
```

# database - 打破规范化规则以适应计划任务

> ID：12406937
> 
> 赞同：2
> 
> 时间：2012-09-13T13:03:56.053
> 
> 标签：database, database-design, scheduled-tasks

好的，所以这很难解释，但我会尽力而为。

我有一张表，其中包含与某些客户硬件相关的信息，其中一些硬件将受到定期监控，一些每 24 小时一次，一些甚至更短的时间间隔（5-15 分钟）

这种监控将使用一些预定的脚本来完成，并且需要从另一个表中进行一些总计，该表在设备上收集数据。

我想弄清楚的是，让脚本扫描整个表会更好吗？

```
if 24hr enabled
    execute 24hr script
if instant enabled
    execute instant script 
```

或者我最好运行一个将硬件分成两个表的脚本：

*   24小时启用设备
*   即时启用设备

这意味着计划的工作要做的工作更少，基本上对表中的每个设备进行检查并完成。

这打破了规范化规则，因为我在某些表中会有重复的数据，但由于这些表仅从源表中填充，我认为这可能不是问题。

显然我很不确定，这是我第一次不得不处理如此复杂的系统。

例如，我的表目前看起来像（添加了命名和设置数据）

*   设备ID
*   警报高值
*   警报低值
*   enable_alarm_day
*   enable_instant_alarms

我不确定我是否提供了足够的信息来提供帮助，所以如果有人有任何问题，请提出。非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-28T05:40:40.673

我建议使用以下高级方法将日志收集数据与作业创建和执行数据分开

a) 以您当前正在执行的任何格式或表格收集日志记录数据

b) 创建一个新表，其中包含通过分析日志表填充的作业执行数据。这可以通过预定的作业来完成。作业脚本在此表外运行，还使您能够跟踪需要完成的作业以及任何反馈、错误等

# php - 使用xpath获取值

> ID：12406939
> 
> 赞同：0
> 
> 时间：2012-09-13T13:03:58.303
> 
> 标签：php, xpath, namespaces

好的，所以我有这个 xml：

```
<resin xmlns="http://caucho.com/ns/resin" xmlns:resin="urn:java:com.caucho.resin">
<cluster>
<host host-name="www.1.com">
<host-alias>1.com</host-alias>
<root-directory>c:/docroot</root-directory>
<web-app id="/" document-directory="."/>
</host>
<host host-name="www.2.com">
<host-alias>2.com</host-alias>
<root-directory>c:/docroot</root-directory>
<web-app id="/" document-directory="."/>
</host>
</cluster>
</resin> 
```

如果我使用它，我如何获取（在 php 中）主机名“www.1.com”的 xpath：

```
$items = $xpath->query(sprintf('//host[@host-name="%s"]', $hostNameToLookFor)); 
```

没有

```
xmlns="http://caucho.com/ns/resin" xmlns:resin="urn:java:com.caucho.resin" 
```

有用

请帮忙，它让我发疯！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:12:18.077

```
 $data = <<<xml
<resin xmlns="http://caucho.com/ns/resin" xmlns:resin="urn:java:com.caucho.resin">
<cluster>
<host host-name="www.1.com">
<host-alias>1.com</host-alias>
<root-directory>c:/docroot</root-directory>
<web-app id="/" document-directory="."/>
</host>
<host host-name="www.2.com">
<host-alias>2.com</host-alias>
<root-directory>c:/docroot</root-directory>
<web-app id="/" document-directory="."/>
</host>
</cluster>
</resin>

xml;

        $xml = new SimpleXMLElement($data);
        $xml->registerXPathNamespace('ns', 'http://caucho.com/ns/resin');
        $xml->registerXPathNamespace('resin', 'urn:java:com.caucho.resin');

        foreach ($xml->xpath ('//ns:host[@host-name="www.2.com"]') as $v)
        {
            // ...
        } 
```

# javascript - mac eclipse android phonegap 与 sqlite 数据库自动增量和 maxid retreivel

> ID：12406940
> 
> 赞同：0
> 
> 时间：2012-09-13T13:04:01.747
> 
> 标签：javascript, android, sqlite, cordova

我实际上是 dotnet 开发人员，现在我开始使用 eclipse android 和 phonegap 开发移动应用程序，我在 docs.phonegap.com 中研究过这些，我在示例中没有发现任何困难，即相机设备和加速度计。我已经成功连接到数据库现在我的问题是我如何在创建表中应用自动增量并从数据库中检索（max id +1）给定代码不起作用
**我的代码是**
**Javascript代码#**

```
 function onDeviceReady() {
            var db = window.openDatabase('dbNexTrainer','1.0', 'NexTrainer',2 * 1024 * 1024);
            db.transaction(populateDB, errorCB, successCB);
        }
function populateDB(tx) {
tx.executeSql('CREATE TABLE IF NOT EXISTS tbl_Excercise  (ExId INTEGER PRIMARY KEY AUTOINCREMENT ,ExName ,ExDescription ,ExPreCondition ,ExImage ,IsActive INTEGER,AddDate DATE)');
tx.executeSql('Delete from tbl_Excercise');
tx.executeSql('INSERT INTO tbl_Excercise  VALUES (1,"Excercise 1","Description 1","Pre Condition 1","image/image1.png",1,"12/09/2012 01:00:00")');
tx.executeSql('INSERT INTO tbl_Excercise  VALUES (2,"Excercise 2","Description 2","Pre Condition 2","image/image2.jpg",1,"12/09/2012 01:00:00")');
tx.executeSql('INSERT INTO tbl_Excercise  VALUES (3,"Excercise 3","Description 3","Pre Condition 3","image/image3.jpg",1,"12/09/2012 01:00:00")');
tx.executeSql('INSERT INTO tbl_Excercise  VALUES (4,"Excercise 4","Description 4","Pre Condition 4","image/image4.jpg",1,"12/09/2012 01:00:00")'); 
```

第二个问题如何检索 max id
**Javascript 代码**

```
 function NewExcercise(){
     var db = window.openDatabase('dbNexTrainer','1.0', 'NexTrainer',2 * 1024 * 1024);
          db.transaction(GetNewExId, errorCB);    
    }
var  GetNewExId=function(tx) 
       {
           var db = window.openDatabase('dbNexTrainer','1.0', 'NexTrainer',2 * 1024 * 1024);
          var sql = "SELECT MAX(ExId)+1 as ExId FROM tbl_Excercise";
           tx.executeSql(sql, [], ReturnNewId, errorCB); 
           return  window.localStorage.getItem('NewExId') 
      }

      var  ReturnNewId  = function(transaction, results) {
   try{       
         var row = results.rows.item(i);          
         window.localStorage.setItem('NewExId', row['ExId']);            
    }
    catch(e){
    alert(e);
    }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:08:49.573

您在 CREATE TABLE 语法中有错误，您需要为所有表字段定义数据类型，

试试这个说法，

```
tx.executeSql('CREATE TABLE IF NOT EXISTS tbl_Excercise  (ExId INTEGER PRIMARY KEY AUTOINCREMENT ,ExName TEXT ,ExDescription TEXT ,ExPreCondition TEXT ,ExImage BLOB ,IsActive INTEGER,AddDate DATE)'); 
```

# sql - 从数据表中获取每两行结果

> ID：12406944
> 
> 赞同：2
> 
> 时间：2012-09-13T13:04:26.037
> 
> 标签：sql, postgresql, select, rows

我有一个包含多语言字符串的表，如下所示：

```
type_id_fk  lang_id_fk  ui_text   
1           1           "Faktúra"
1           2           "Invoice"
2           1           "Dodací list"
2           2           "Bill of delivery"
3           1           "Objednávka"
3           2           "Order sheet" 
```

我想要一个生成此结果的选择：

```
1;"Faktúra";"Invoice"
2;"Dodací list";"Bill of delivery"
3;"Objednávka";"Order sheet" 
```

其中，1,2,3 来自`type_id_fk`。我尝试了 Group by，但没有成功。或者尝试过这样的事情：

```
SELECT (t_type.type_id as typeID) ||';'||(
    SELECT t_type_ml.type_name FROM t_type_ml WHERE t_type_ml.type_id_fk = typeID AND t_type_ml.language_id_fk = 1)||';'||(
    SELECT t_type_ml.type_name FROM t_type_ml WHERE t_type_ml.type_id_fk = typeID AND t_type_ml.language_id_fk = 2)||';'
FROM t_type; 
```

但它甚至没有运行。我需要加入吗？感谢帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T13:19:12.313

或者，您可以旋转数据，例如：-

```
SELECT  TYPE_ID,
    MAX(CASE LANGUAGE_ID WHEN 1 THEN UI_TEXT ELSE NULL END) AS FRENCH,
    MAX(CASE LANGUAGE_ID WHEN 2 THEN UI_TEXT ELSE NULL END AS ENGLISH
FROM    TABLE_NAME
GROUP BY TYPE_ID 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-13T13:13:27.390

```
SELECT t1.type_id||';'||t1.type_name||';'||t2.type_name
FROM t_type t1 LEFT JOIN t_type t2 ON t1.type_id=t2.type_id AND t2.language_id_fk = 2
WHERE t1.language_id_fk = 1 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-13T16:24:22.783

使用聚合函数[`string_agg()`](http://www.postgresql.org/docs/current/interactive/functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE)：

```
SELECT type_id_fk, string_agg(ui_text, ';' ORDER BY lang_id_fk)
FROM   t_type
GROUP  BY 1
ORDER  BY 1; 
```

添加的`ORDER BY lang_id_fk`排序根据`lang_id_fk`聚合字符串内。
这适用于*任何*数量的语言，而不仅仅是两种语言的特殊情况。

或者，如果您实际上想要每行一个字符串：

```
SELECT type_id_fk::text || ';' 
       || COALESCE(string_agg(ui_text, ';' ORDER BY lang_id_fk), 'no text')
... 
```

[`COALESCE()`](http://www.postgresql.org/docs/current/interactive/functions-conditional.html#FUNCTIONS-COALESCE-NVL-IFNULL)处理`NULL`值，如果有的话。

# html - svg 路径 边界 模糊

> ID：12406946
> 
> 赞同：0
> 
> 时间：2012-09-13T13:04:42.803
> 
> 标签：html, svg

我在使用 svg 圆形按钮图像时遇到问题。当我用 2px 的边框（使用 svg 路径）绘制图像时，边框是模糊的。我将位置偏移 0.5 以防止模糊，但这似乎只适用于 1px 边框。在 FF 和 Chrome 中都显得模糊。

另外，我注意到使用带有圆角、边框 2px 的 svg rect 进行绘图没有同样的问题。线条很锐利。

```
<svg width="225" height="50" viewBox="-1.5 -1.5 225 50"><path d="m 103 0 l -93 0 c -5 0 -10 5 -10 10 l 0 22 c 0 5 5 10 10 10 l 93 0 z" stroke="#000" stroke-width="2px" fill="#fff" /><path d=" m 103 0 l 93 0 c 5 0 10 5 10 10 l 0 22  c 0 5 -5 10 -10 10 l -93 0 z" stroke="#000" stroke-width="2px" fill="#999" /></svg> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T10:23:41.440

将 viewBox 更改为`"-2 -2 225 50"`，它看起来不错。

# cuda - 使用推力的向量数组

> ID：12406948
> 
> 赞同：6
> 
> 时间：2012-09-13T13:04:49.760
> 
> 标签：cuda, gpu, gpgpu, nvidia, thrust

是否可以使用 Thrust 创建一个 device_vectors 数组？我知道我无法创建 device_vector 的 device_vector，但我将如何创建 device_vectors 数组？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-18T16:05:59.973

以下代码对我有用。如果将此代码放在扩展名为 .cu 的文件中，则编译良好，但如果将其放在扩展名为 .cpp 的文件中，则会导致编译时断言失败。

```
thrust::device_vector<float> vectors[3];
//thrust::device_vector<float> *vectors = new thrust::device_vector<float>[3];

vectors[0] = thrust::device_vector<float>(10);
vectors[1] = thrust::device_vector<float>(10);
vectors[2] = thrust::device_vector<float>(10);

printf("Works\n"); 
```

断言失败如下

```
1>../for_each.inl(96) : error C2027: use of undefined type 'thrust::detail::STATIC_ASSERTION_FAILURE<x>' 
```

# c# - 从返回的响应数组中选择所需的对象 - IF 语句中的未知类型

> ID：12406950
> 
> 赞同：-2
> 
> 时间：2012-09-13T13:04:52.750
> 
> 标签：c#, .net, web-services

背景信息：使用 VS10 在 C# .NET 2.0 中工作。

我正在调用一个 web 服务，它会返回一些东西作为响应，其中之一是*States*。*States又是一个**State*数组。每个州都有几个属性，有些可以为空。我有兴趣隔离第三个属性**Type**。Type 是**ObjectType 类型**，它可以是多种事物，其中之一是“Article”。这实际上有点奇怪，因为我不确定**ObjectType**是什么类型（定制）。在 Web 服务界面，它被定义为“Choice of”......“”，“Article”，“video”等......但是当我调用它并检查 xml 响应的日志时，我看到了什么我想这样写：

```
 <Type>Article</Type> 
```

这让我对 State.Type 中实际包含的内容感到困惑：

```
 -<States>
       -<State>
             <Id>1</Id>
             <Name>Personal</Name>
             <Type>Article</Type>
        </State>
        ....
   </States> 
```

所以我想为每个单独的州（在州内）运行数组并检查它是否是“文章”。

```
 string stateID = null;

 myWebServer.State oneoftheStates = null; 

      for (int i = 0; i < objInfo.States.Length; i++) 
      {
          oneoftheStates = objInfo.States[i];
            if (oneoftheStates.Type == "Article") //This is the problem!!!
            {
               statusID = oneoftheStates.Id; 

                break; // found it!

            }
        } 
```

现在的问题：

我应该使用什么来代替“文章”，因为“”引号不起作用，并且文章本身不起作用等等。使用 IF 在这里完成的方式，我收到错误“操作员 == 不能应用于 ObjectType 和 'char' 类型的操作数。还会出现“字符文字中的字符过多”错误。

额外信息（编辑）

```
<complexType name="State">
   <all>
      <element name="Id" type="xsd:string"/>
      <element name="Name" type="xsd:string" nillable="true"/>
      <element name="Type" type="tns:ObjectType" nillable="true"/>
      <element name="Produce" type="xsd:boolean" nillable="true"/><!-- If true for layouts, output will be send if set in featurelist -->
      <element name="Color" type="tns:Color" nillable="true"/>
      <element name="DefaultRouteTo" type="xsd:string" nillable="true"/><!-- default route to for this status, returned by server, no need to send as client -->
    </all>     
  </complexType> 
```

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:30:45.053

这是您的来源的一些更好的示例，我认为这就是您想要的。

```
string stateId = null;

        var states = new string[] { "bla", "bla2", "bla3" };

        for (int i = 0; i < states.Length; i++)
        {
            var stateType = states[i]; // get property by doing .Type;
            if (stateType == "Article")
            {
                stateId = states[i]; // get the Id by doing .Id;
                break;
            }
        } 
```

使用 foreach 代替 for 可能更好，因为这样更容易阅读。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T15:00:11.723

好吧，我想通了。当我使用命令提示符*手动运行 wsdl 时，我得到了生成的 .cs 代码。*在那里，我可以看到我眼中的类型，仅带有接口信息，来自“网络参考”等的 wsdl 和日志。看起来像一个“字符串”，但它是一个“枚举”（这对我来说是一个新事物..） . 仍然可能有人可以从中受益。这是 if 语句中的新代码，这让我非常悲伤：

```
 if (oneoftheStates.Type == myWebServer.ObjectType.Article)
                {
                    statusID = oneoftheStates.Id;
                    break;
                } 
```

这就是它在生成的 .cs 中的样子：

```
public enum ObjectType {

/// <remarks/>
[System.Xml.Serialization.XmlEnumAttribute("")]
Item,

/// <remarks/>
Article,

/// <remarks/>
ArticleTemplate,

/// <remarks/>
Layout,

/// <remarks/>
LayoutTemplate,

/// <remarks/>
Image,

/// <remarks/>
Advert,

/// <remarks/>
AdvertTemplate,

/// <remarks/>
Plan,

/// <remarks/>
Audio,

/// <remarks/>
Video,

/// <remarks/>
Library,

/// <remarks/>
Dossier,

/// <remarks/>
DossierTemplate,

/// <remarks/>
LayoutModule,

/// <remarks/>
LayoutModuleTemplate,

/// <remarks/>
Task,

/// <remarks/>
Hyperlink,

/// <remarks/>
Presentation,

/// <remarks/>
Archive,

/// <remarks/>
Other, 
```

}

希望这可以帮助其他没有想到枚举的人......谁知道。（更改标题等以反映这一点）

# javascript - 搜索 JavaScript 日期选择器滑块

> ID：12406953
> 
> 赞同：2
> 
> 时间：2012-09-13T13:04:55.600
> 
> 标签：javascript, jquery, datepicker

我正在寻找一个日期选择器，它将为用户提供一个日期选择滑块（类似于[移动框](http://css-tricks.com/examples/MovingBoxes/#&slider1=3)）

我（预加载程序员）选择一个日期，用户可以滑动任何一种方式，一次更改一天。

我正在使用`jquery`，但任何其他框架也可以正常工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-13T13:15:42.687

[也许您会使用FullCalendar](http://arshaw.com/fullcalendar/)找到您想要的东西

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-10T13:10:53.907

```
$(function() {
  var baseDate = new Date(2011, 1-1, 1);
  $('#datepicker').datepicker(); // Initialise datepicker
  $('#slider').slider({ // Initialise slider
        slide: function(event, ui) { // As it slides
              var date = new Date(baseDate.getTime()); // Calculate the new date
              date.setDate(date.getDate() + ui.value);
              $('#datepicker').datepicker('setDate', date); // And set into the datepicker
        }
  }); 
```

});

# opencart - 使用 OpenCart 作为后端服务

> ID：12406962
> 
> 赞同：2
> 
> 时间：2012-09-13T13:05:25.703
> 
> 标签：opencart

我有一个想使用 OpenCart 的客户。但是我们不想将它用于绝大多数事情（前端等）。我知道它有模板选项，但我们对它们不满意。

是否可以将 OpenCart 用作后端服务（通过一些 API）并拥有我们自己的前端服务？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T13:54:21.353

当然可以只使用管理部分。前端没有“API”，您需要创建自己的，或者搭载框架

# git - Git致命错误：找不到信息/参考

> ID：12406963
> 
> 赞同：14
> 
> 时间：2012-09-13T13:05:25.647
> 
> 标签：git, github

我收到以下错误：

```
fatal: https://github.com/username/repository-name.git/info/refs not found: did you run git update-server-info on the server? 
```

如果我尝试推送我的存储库而不先在 github.com 上创建它。如果我先在 github 上创建我的存储库，那么我可以毫无问题地推送分支。这个程序是例行程序吗？还是我做错了什么？我认为可以在本地创建存储库并推送，而无需先在 github 上创建它。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-09-13T13:51:59.447

> 致命：[https](https://github.com/username/repository-name.git/info/refs) ://github.com/username/repository-name.git/info/refs not found：你在服务器上运行了 git update-server-info 吗？

在 GitHub 上下文中，此消息应理解为“存储库不存在”。你应该推向一个已经存在的裸存储库。裸存储库是没有工作目录的存储库，通常位于服务器端。

> 如果我先在 github 上创建我的存储库，那么我可以毫无问题地推送分支。这个程序是例行程序吗？

是的。您应该首先在 GitHub 上创建您的存储库。请参阅**[有关此的帮助主题](https://help.github.com/articles/create-a-repo)**

事实上，正如文档*“要将您的项目放到 GitHub 上，您需要有一个 GitHub 存储库供其使用。”*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-13T13:51:17.573

我确认您需要先在 GitHub 上创建您的存储库，然后才能推送到所述（远程）存储库。

创建后，您可以将其作为名为“origin”的远程添加到本地存储库和“ `git push origin master`”（用于第一次推送）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-29T20:28:35.400

另请注意，存储库名称区分大小写。哎呀！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-08-20T01:32:52.713

您确定您尝试访问的 git 存储库支持 HTTPS 协议吗？

而不是这个： `git clone https://github.com/TeaCodie/TeaCodie-Website.git`

尝试这个： `git clone git@github.com/TeaCodie/TeaCodie-Website.git`

您可能需要配置 SSH 密钥。

有关详细信息，请参阅：[http](http://git-scm.com/book/ch4-1.html) ://git-scm.com/book/ch4-1.html 和[https://help.github.com/articles/set-up-git](https://help.github.com/articles/set-up-git)和[https://help.github。 com/articles/generating-ssh-keys](https://help.github.com/articles/generating-ssh-keys)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2020-04-22T08:47:58.430

`info/refs not found`当我克隆本地存储库并通过 http 提供服务时，我遇到了同样的错误。

似乎克隆存储库不会创建 info/refs 文件，因此无法远程提供它（https、ssh 等），因为如果不列出 .git 文件夹，就无法远程获取主分支的名称，因此 info/refs 提供了当前 git 存储库 HEAD 的路径和 commitid。

```
mkdir clone-without-refs; cd clone-without-refs
git clone ../origin.git .
ls -l .git/info 
```

所以我以这种方式手动创建了它（在源存储库中，假设您运行一种`/bin/sh`shell）

```
gitid=$(git rev-parse  HEAD)
echo HEAD: $gitid
echo -e "$gitid\trefs/heads/master" > .git/info/refs
if [ ! -e .git/refs/heads/master ]; then
    echo $gitid > .git/refs/heads/master
fi 
```

然后我再次进行了克隆并且它起作用了（`$origin`用你的改变）：

```
rm -rf ../cloned
# checking if refs file is there (httpds server side):
origin="http://localhost:8080/~$USER/$(pwd|sed -e "s,$HOME/,,")/.git"
curl $origin/info/refs
git clone $origin ../cloned
# verify
git -C ../cloned log -2 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-02-09T15:56:48.123

The issue I had was due to the fact that the user didn't have write permission on the master branch.

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-06-01T12:25:41.537

此外，请确保可以从您的网络访问存储库 URL。

就我而言，我的互联网订阅即将到期，因此我的服务提供商将所有 HTTP/HTTPS 调用重定向到他们的续订页面。

因此，GIT 无法访问存储库。

# android - 无法获取连接工厂客户端。API 密钥有效

> ID：12406970
> 
> 赞同：2
> 
> 时间：2012-09-13T13:05:45.317
> 
> 标签：android

我正在尝试在 Android 中实现一个简单的地图应用程序。到目前为止，我确保我拥有正确的 API 密钥，并且屏幕上实际显示了一个简单的地图。我什至可以控制缩放级别并查看效果。但我不能做任何其他事情，例如 setCenter() 之类的基本操作。

```
My LogCat gives the error : "Couldn't get connection factory client" 
```

我应该怎么办？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-13T13:15:25.157

使用 getFromLocationName 时出现同样的问题，出现“java.io.IOException:Service not Available”错误。

做了一些谷歌搜索，似乎这是软件中的一个错误。

[http://code.google.com/p/android/issues/detail?id=8816](http://code.google.com/p/android/issues/detail?id=8816)

[Android MapActivity：无法获取连接工厂客户端](https://stackoverflow.com/questions/6006835/android-mapactivity-couldnt-get-connection-factory-client)

[无法获得连接工厂客户端 - 与谷歌地图打架](https://stackoverflow.com/questions/7982320/couldnt-get-connection-factory-client-fighting-with-google-maps)

引用自[无法获取连接工厂客户端](https://stackoverflow.com/questions/2199403/couldnt-get-connection-factory-client)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-13T13:40:41.017

我在我的特殊情况下发现了问题。据我所知，这是一个愚蠢的情况。

我仍然无法摆脱“无法获得连接工厂客户端”的问题（在我实际阅读的其中一个消息来源中指出，此消息是一个错误，在大多数情况下应该被忽略。大多数时候问题是什么别的。）

我的“实际”问题只是以错误的格式输入 GeoPoints。我首先是这样做的：

```
GeoPoint point = new GeoPoint(19.2,-99.1); 
```

显然这是错误的放置方式。根据文档，这些数字预计会更大。所以我使用了以下方法，它起作用了......

```
GeoPoint point = new GeoPoint(19240000,-99120000); 
```

对不起，误导性的问题。但我会把它留在这里。也许其他smo也会有同样的问题。

# mongodb - Doctrine Mongo ODM 参考 3 合集

> ID：12406974
> 
> 赞同：0
> 
> 时间：2012-09-13T13:06:01.123
> 
> 标签：mongodb, doctrine-odm, odm

嗨，我正在尝试引用 3 个集合，但我在 2 > 3 引用中失败了，让我解释一下我要做什么。

我有 User 类，它有参考帖子 referenceMany > Posts，在帖子中我有 referenceMany > 评论。

**注意**：学说 Mongo ODM + Zend Framework 2

这就像用户写了一篇文章然后有人评论它。

```
/** @MongoDB\Document */
class Users {

    /** @MongoDB\ReferenceMany(targetDocument="Posts", mappedBy="user") */
    private $posts;

}

/** @MongoDB\Document */
class Posts {

    /** @MongoDB\Id */
    private $wallPostId;

    /** @MongoDB\ReferenceOne(targetDocument="Users", inversedBy="posts") */
    private $user;

    /** @MongoDB\ReferenceMany(targetDocument="Comments", mappedBy="post") */
    private $comments;

    /** @MongoDB\String */
    private $content;

}

/** @MongoDB\Document */
class Comments {

    /** @MongoDB\Id */
    private $commentId;

    /** @MongoDB\ReferenceOne(targetDocument="Posts", inversedBy="comments") */
    private $post;

    /** @MongoDB\String */
    private $content;

} 
```

我正在尝试使用此代码从任何帖子中获取所有评论

```
$post = $wallPostsAction->getWallPostById("5051d2a1e71a382c1b000000");
$output = "";
$output .= "Wall post content: " . $post->getContent() . "<br>";
//      $comment = new Comments();
//      $comment->setContent("Nice topic!");
//      $comment->setPost($post);
//      $this->dm->persist($comment);
//      $this->dm->flush();

echo count($post->getComments());
foreach($post->getComments() as $comment){
    $output .= " comment: " . $comment->getComment() . "<br>";
} 
```

其中一份文件看起来像这样以供评论：

```
{
   "_id": ObjectId("---"),
   "post"?: {
     "$ref": "Posts",
     "$id": ObjectId("---"),
     "$db": "db" 
  },
   "content": "Nice topic!" 
} 
```

问题是为什么当我尝试获取特定帖子的评论时，我的评论计数为 0，但是当我尝试从用户那里获取帖子时，我可以得到它们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-14T14:15:01.140

因为 getComments() 返回的只是该集合的游标。在您开始迭代该集合之前，Doctrine 不会运行任何查询来获取信息。

Add this to the query in your getWallPostById method.

```
->field('comments')->prime(true) 
```

This will tell doctrine to fetch the data about the comments when you fetch a post and then your cursor from getComments should have the count information you are looking for.

[Priming references](http://docs.doctrine-project.org/projects/doctrine-mongodb-odm/en/latest/reference/priming-references.html)

# c - 将文本添加到行尾

> ID：12406983
> 
> 赞同：0
> 
> 时间：2012-09-13T13:06:14.440
> 
> 标签：c, file-io, split

我正在处理一个文件。我想取每一行并在空格后分割。例如，如果 line1 有：今天是星期一我想要今天，是，星期一分开，以便处理它们

到目前为止，这是我的代码：

```
FILE *file = fopen ( "file1", "r" );

            if ((file != NULL ))
            {
                char line [ 128 ]; 
                while( ( fgets ( line, sizeof line, file ) != NULL ))
                {
                //tokenize the line based on space

                ??

                }
how to add text at the end of the line? i mean i have **today is monday** and i want to add for example **Yupppy** at the end of today is monday line.

            fclose ( file );

            } 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-09-13T13:08:11.517

要标记字符串，您可以使用[strtok()](http://www.cplusplus.com/reference/clibrary/cstring/strtok/) 检查我发布的链接中的示例，只需将分隔符更改为空格：

（链接示例中的代码）

```
#include <stdio.h>
#include <string.h>

int main ()
{
  char str[] ="- This, a sample string.";
  char * pch;
  printf ("Splitting string \"%s\" into tokens:\n",str);
  pch = strtok (str," ");
  while (pch != NULL)
  {
    printf ("%s\n",pch);
    pch = strtok (NULL, " ");
  }
  return 0;
} 
```

# sql-server - 排序数据库中的项目符号

> ID：12406985
> 
> 赞同：7
> 
> 时间：2012-09-13T13:06:16.770
> 
> 标签：sql-server, sql-server-2008

我`[datatype:varchar(50)]`在数据库（SQL Server 2008）中有一个列，其值如下所示：

```
1
2
1.1.11
4.1
5
2.1
1.1
4
1.2.1
4.2.2
4.3
4.2
4.3.1
4.2.1
11.2
1.2.4
4.4 
```

这些是我的记录的编号项目符号我需要将它们排序为按顺序对所有记录进行分组`1,1.1,1.1.1,2,3.1,4,10.1,11.1....`

请在这方面帮助我。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-13T13:12:28.937

```
WITH T(YourColumn) AS
(
SELECT '1' UNION ALL
SELECT '2' UNION ALL
SELECT '1.1.11' UNION ALL
SELECT '4.1' UNION ALL
SELECT '5' UNION ALL
SELECT '2.1' UNION ALL
SELECT '1.1' UNION ALL
SELECT '4' UNION ALL
SELECT '1.2.1' UNION ALL
SELECT '4.2.2' UNION ALL
SELECT '4.3' UNION ALL
SELECT '4.2' UNION ALL
SELECT '4.3.1' UNION ALL
SELECT '4.2.1' UNION ALL
SELECT '11.2' UNION ALL
SELECT '1.2.4' UNION ALL
SELECT '4.4'
)
SELECT *
FROM T 
ORDER BY CAST('/' + YourColumn + '/' AS HIERARCHYID) 
```

退货

```
YourColumn
----------
1
1.1
1.1.11
1.2.1
1.2.4
2
2.1
4
4.1
4.2
4.2.1
4.2.2
4.3
4.3.1
4.4
5
11.2 
```

那是你需要的吗？

# r - R中的全局变量声明和访问

> ID：12406988
> 
> 赞同：1
> 
> 时间：2012-09-13T13:06:25.107
> 
> 标签：r

我有一个数据框，我正在从测试文件中读取数据，如下所示

```
 Country,count
    uk,34
    au,35
    us,53
    in,44 
```

这是我的 R 脚本。这只是一个例子。当我尝试访问在 for 循环内创建的循环外的数据框变量时，我收到 object not found 错误。即使我尝试使用分配。得到同样的错误。我正在使用 R 版本 2.15.1。

```
 args <- commandArgs()
    #Storing the filename in fn given next to "--args"
    fn <- args[which(args=="--args")+1]
    t<-read.table(fn,sep=",",header=TRUE,as.is=TRUE,quote="")
    t
    for (i in levels(t$Country)){
            if ( i == us ) {
            RES <<- t[t$Country == i,]
            }
    }
    RES

    > args <- commandArgs()
    > #Storing the filename in fn given next to "--args"
    > fn <- args[which(args=="--args")+1]
    > t<-read.table(fn,sep=",",header=TRUE,as.is=TRUE,quote="")
    > t
      Country count
    1      uk    34
    2      au    35
    3      us    53
    4      in    44
    > for (i in levels(t$Country)){
    +       if ( i == us ) {
    +       RES <<- t[t$Country == i,]
    +       }
    + }
    > RES
    Error: object 'RES' not found
    Execution halted 
```

我相信，我做错了什么。请指教。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-13T13:19:50.740

大多数情况下 if 约​​束永远不会满足（i == us）

它永远不会与我们平等。尝试删除“级别”

```
 for (i in t$Country)
      if (i =="us") 
```

# python - 如何参数化通用 Python 模块？

> ID：12406997
> 
> 赞同：3
> 
> 时间：2012-09-13T13:06:39.713
> 
> 标签：python, generics, module, abstract

我可以创建一个使用模块进口商提供的功能的模块吗？

我想编写通用代码而不指定几个关键功能的实现。我希望用户指定这些。我可以将这些作为所有函数的输入，但这看起来很难看。

如果我正在编写一个对象，我将创建一个抽象类。模块有等价物吗？

编辑：我特别询问如何使用模块中的函数而不是类中的方法来做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-13T13:11:30.183

可以在运行时给模块打补丁并为模块添加新功能。

```
import my_module
def my_implementation():
    pass

my_module.implementation = my_implementation 
```

然而，这在 Python 社区中是不受欢迎的。它本质上是不稳定的，因为这会影响该模块的所有用户。例如，如果您使用的另一个模块也使用了您已修补过的模块，那么您的另一个模块可能会显示出难以调试的不稳定行为。

对于你想做的事情，你最好创建一个抽象类:-)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-13T14:01:40.300

如果您在一个模块中执行此操作，那么如果有一天在同一个程序中，一个模块想要将您的通用模块与实现一起使用，而另一个模块想要将它与另一个模块一起使用，那么您将遇到问题。

解决方案是编写一个模块，该模块主要包含一个提供所需服务的类。

例如，查看“随机”模块。所有模块函数，如“randint”、“uniform”、“gauss”，实际上都绑定到 random.Random 类的隐藏实例的方法。但是您也可以使用自己的 Random 类实例，或者通过重新定义一些关键方法来对其进行子类化，以更改生成随机数的方式，但保留所有有用的方法。

请参阅[http://docs.python.org/library/random.html](http://docs.python.org/library/random.html)