# StackOverflow 问答 11078000-11078999

# playframework - Play 2.0 框架中允许的最大表格数量是多少？

> ID：11078003
> 
> 赞同：0
> 
> 时间：2012-06-18T06:41:45.340
> 
> 标签：playframework, playframework-2.0

嗨所以我创建了一个快速表：

```
package models;
import javax.persistence.*;
import play.db.ebean.Model;

@Entity
public class Phone extends Model {
@Id
public Long phoneID;
public String group;
public String name;
} 
```

我收到以下错误：

> PersistenceException：错误获取序列 nextval javax.persistence.PersistenceException：错误获取序列 nextval com.avaje.ebean.config.dbplatform.SequenceIdGenerator.getMoreIds（SequenceIdGenerator.java:213）com.avaje.ebean.config.dbplatform.SequenceIdGenerator.loadMoreIds（ SequenceIdGenerator.java:163) com.avaje.ebean.config.dbplatform.SequenceIdGenerator.nextId(SequenceIdGenerator.java:118) com.avaje.ebeaninternal.server.deploy.BeanDescriptor.nextId(BeanDescriptor.java:1218) com.avaje。 ebeaninternal.server.persist.DefaultPersister.setIdGenValue(DefaultPersister.java:1304) com.avaje.ebeaninternal.server.persist.DefaultPersister.insert(DefaultPersister.java:403) com.avaje.ebeaninternal.server.persist.DefaultPersister.saveEnhanced( DefaultPersister.java:345) com.avaje.ebeaninternal。server.persist.DefaultPersister.saveRecurse(DefaultPersister.java:315) com.avaje.ebeaninternal.server.persist.DefaultPersister.save(DefaultPersister.java:282) com.avaje.ebeaninternal.server.core.DefaultServer.save(DefaultServer.save) java:1577) com.avaje.ebeaninternal.server.core.DefaultServer.save(DefaultServer.java:1567) com.avaje.ebean.Ebean.save(Ebean.java:538) play.db.ebean.Model.save( Model.java:76) models.Command.createCommand(Command.java:100) models.Command.populateCommands(Command.java:68) Global.onStart(Global.java:22) play.core.j.JavaGlobalSettingsAdapter.onStart( JavaGlobalSettingsAdapter.scala:15) play.api.GlobalPlugin.onStart(Global.scala:134) play.api.Play$$anonfun$start$1.apply(Play.scala:60) play.api.Play$$anonfun$start $1.apply(Play.scala:60) scala.collection。LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59) scala.collection.immutable.List.foreach(List.scala:45) play.api.Play$.start(Play.scala:60) play.core.ReloadableApplication$$ anonfun$get$1$$anonfun$apply$3$$anonfun$1.apply(ApplicationProvider.scala:125) play.core.ReloadableApplication$$anonfun$get$1$$anonfun$apply$3$$anonfun$1.apply(ApplicationProvider.scala :112) scala.Option.map(Option.scala:133) play.core.ReloadableApplication$$anonfun$get$1$$anonfun$apply$3.apply(ApplicationProvider.scala:112) play.core.ReloadableApplication$$anonfun$ get$1$$anonfun$apply$3.apply(ApplicationProvider.scala:110) scala.Either$RightProjection.flatMap(Either.scala:27​​7) play.core.ReloadableApplication$$anonfun$get$1.apply(ApplicationProvider.scala:110 ) play.core。ReloadableApplication$$anonfun$get$1.apply(ApplicationProvider.scala:110) akka.dispatch.Future$$anon$3.liftedTree1$1(Future.scala:195) akka.dispatch.Future$$anon$3.run(Future.scala :194) akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:83) akka.jsr166y.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1381) akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259) akka.jsr166y .ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:974) akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1478) akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)run(AbstractDispatcher.scala:83) akka.jsr166y.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1381) akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259) akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool. java:974) akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1478) akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)run(AbstractDispatcher.scala:83) akka.jsr166y.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1381) akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259) akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool. java:974) akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1478) akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

我允许使用 h2 内存数据库的表的最大数量是多少？我真的不明白这个错误来自哪里。如果我删除此行，它可以正常工作，但看起来是另一个类导致了问题：createCommand，它只有以下内容：

```
public static void create(Command data) {
    data.save();
}
public static void populateCommands() {
    createCommand(0x00, "Cmd1");
    createCommand(0x02, "Cmd2");
    createCommand(0x03, "Cmd3");
} 
```

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T04:14:41.483

我认为问题在于我打开了日食。我注意到 eclipse 和同时运行的一些问题。我需要关闭 Eclipse 运行播放框架并再次打开 Eclipse。

# android - 删除项目再次重新出现在列表视图中

> ID：11078010
> 
> 赞同：0
> 
> 时间：2012-06-18T06:42:38.690
> 
> 标签：android, android-listview

我有一个`ListView`. 我的问题`ListView`是，一旦我从我的项目中删除一个项目`ListView`并再次在其中添加一个新项目`ListView`而不退出应用程序，它会在我的应用程序中显示已删除的项目`ListView`而不是显示新添加的项目，一旦我退出应用程序并打开应用程序它显示新添加的项目，而不显示已删除的项目。它与刷新问题有关，尽管我使用过`notifyDataSetChanged()`.

为什么会这样，请帮我解决这个问题。

```
 // This is on create of Activity Class
    ArrayList<String> fileStrings = new ArrayList<String>(m_ItemCount);     
    for (int i = 0; i < m_ItemCount; i++)
    {
        fileStrings.add(NoteManager.getSingletonObject().getImageName(i));

        if(NoteManager.getSingletonObject().getStatusArray(i) == 1)
        {
            m_CompletedItemCount++;     
        }
    }

    // Call ListViewAdapter class that extend BaseAdapter class inside the method setListAdapter
    // Display all the items in the list view 
    m_Adapter = new ListViewAdapter(this, fileStrings);
    setListAdapter(m_Adapter);      
    listView = getListView();

// Adapter Class

public class ListViewAdapter extends BaseAdapter 
{
    private Activity activity;
    private ArrayList<String> listItem;
    private LayoutInflater inflater=null;

    public ListViewAdapter(Activity a,  ArrayList<String> d) 
    {
        activity = a;
        listItem = d;
        inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
    }

    public int getCount() 
    {
        return listItem.size();
    }

    public Object getItem(int position) 
    {
        return position;
    }

    public long getItemId(int position) 
    {
        return position;
    }

    public class ViewHolder
    {
        Button butDelete, butAdd;
    }

    public View getView(final int position, View convertView, ViewGroup parent) 
    {
        ViewHolder holder;

        if(convertView == null)
        {
            holder = new ViewHolder();
            convertView = inflater.inflate(R.layout.list_item, null);
            holder.butDelete = (Button)convertView.findViewById(R.id.but_delete);   
            holder.butAdd = (Button)convertView.findViewById(R.id.but_delete);
            convertView.setTag(holder);
        }
        else
        {
            holder = (ViewHolder)convertView.getTag();
        }

        // Delete item on click of delete item
        holder.butDelete.setOnClickListener(new OnClickListener() 
        {           
            @Override
            public void onClick(View v) 
            {               
                deleteItem(position);
            }
        });

        holder.butAdd.setOnClickListener(new OnClickListener() 
        {           
            @Override
            public void onClick(View v) 
            {               
                addItem(name);
            }
        });

        return convertView;
    }   

    // Add item in listView
    public void addItem(String stringName)
    {
        listItem.add(0, stringName);
        notifyDataSetChanged();
    }

    // delete item in listView
    public void deleteItem(int position)
    {   
        listItem.remove(position);
        notifyDataSetChanged();
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:54:08.107

您需要使用新值更新 listItem 然后调用 notifyDataSetChanged(); 如下

```
listItem.clear();           
listItem.addAll(ArrayList<String>);// put update ArrayList Value addAll() method
notifyDataSetChanged(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T08:51:03.293

这里的 m_ItemCount 是什么？？？

此外，您只是从列表中删除数据..实际上，也将其从数据的实际位置中删除。因为每次您的列表失效时，它都会存储以前的数据，因此也将其从实际位置中删除。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T09:47:52.017

根据您的要求使用此代码，因为它适用于我：

```
 int m_ItemCount=10;
        @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main1);

      ListView listView;
        ArrayList<String> fileStrings = new ArrayList<String>(m_ItemCount);     
        for (int i = 0; i < m_ItemCount; i++)
        {
            fileStrings.add(i+"");

            /*if(NoteManager.getSingletonObject().getStatusArray(i) == 1)
            {
                m_CompletedItemCount++;     
            }*/
        }

        // Call ListViewAdapter class that extend BaseAdapter class inside the method setListAdapter
        // Display all the items in the list view 
        ListViewAdapter m_Adapter = new ListViewAdapter(this, fileStrings);
        setListAdapter(m_Adapter);      
        listView = getListView();

    // Adapter Class
}
     class ListViewAdapter extends BaseAdapter 
    {
        private Activity activity;
        private ArrayList<String> listItem;
        private LayoutInflater inflater=null;

        public ListViewAdapter(Activity a,  ArrayList<String> d) 
        {
            activity = a;
            listItem = d;
            inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        }

        public int getCount() 
        {
            return listItem.size();
        }

        public Object getItem(int position) 
        {
            return position;
        }

        public long getItemId(int position) 
        {
            return position;
        }

        public class ViewHolder
        {
            Button butDelete, butAdd;
        }

        public View getView(final int position, View convertView, ViewGroup parent) 
        {
            ViewHolder holder;

            if(convertView == null)
            {
                holder = new ViewHolder();
                convertView = inflater.inflate(R.layout.item, null);
                holder.butDelete = (Button)convertView.findViewById(R.id.but_delete);   
                holder.butAdd = (Button)convertView.findViewById(R.id.but_add);
                convertView.setTag(holder);
            }
            else
            {
                holder = (ViewHolder)convertView.getTag();
            }

            // Delete item on click of delete item
            holder.butDelete.setOnClickListener(new OnClickListener() 
            {           
                @Override
                public void onClick(View v) 
                {               
                    deleteItem(position);
                }
            });

            holder.butAdd.setOnClickListener(new OnClickListener() 
            {           
                @Override
                public void onClick(View v) 
                {               
                    addItem("AA");
                }
            });

            return convertView;
        }   

        // Add item in listView
        public void addItem(String stringName)
        {
            listItem.add(0, stringName);
            notifyDataSetChanged();
        }

        // delete item in listView
        public void deleteItem(int position)
        {   
            listItem.remove(position);
            notifyDataSetChanged();
        }

    } 
```

# php - 如何将变量值从 javascript 发布到 PHP？

> ID：11078011
> 
> 赞同：1
> 
> 时间：2012-06-18T06:42:40.313
> 
> 标签：php, javascript, html, post

我正在使用 JavaScript 将变量传递给另一个 php 文件。我在 javascript 中有一个值，我想将它作为 post 变量传递给另一个 php 文件。

Javascript代码：

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" >

//Important code here to post a variable to bh.php:
$(document).ready(function(){
  $('#op_comp_id').load('bh.php').show();
    $('#get_value_id').keyup(function() {
    $.post('bh.php', { id: form.get_value.value },
        function(result){
            $('#op_comp_id').html(result).show();
            });  
    });
});
</script>

</head> 
<body>
<?$id = $_GET['id'];?>
<form  name="form">
<input type="text" id="get_value_id" name="get_value" value="<?php echo $id ?>">
</input>
</form>

<div id="op_comp_id"></div> 

</body> 
</html> 
```

这是我尝试将变量值从 javascript 传递到`bh.php`post 模式。

```
bh.php?id=value 
```

有没有替代方法或更好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T06:57:01.147

使用以下方法通过帖子将 JavaScript 变量传递给 php：

```
 $(input[name=get_value]).bind('keyup click blur focus change paste',function(){ 
                var id = $(this).val();
                $.ajax({    
                    type: "POST",                                  
                    url: "bh.php",
                    async: false,
                    data: "clientId="+id ,
                    success:function(response){
                    $('#op_comp_id').html(response).show();

                    }                        
                });
               } 
```

**bh.php**使用以下代码

```
<?php
 $id = $_REQUEST['clientId'];
 // your code
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-03T10:30:55.540

您还可以在 javascript 中使用隐藏的输入字段。javascript 通过 getElementbyId 获取值并将其替换为隐藏输入的值（也使用 getElementbyId）。然后 javascript 会自动提交带有隐藏输入的表单（document.forms["formID"].submit();）。而已。值将通过表单方法发送。因此，您可以非常轻松地通过邮寄方式发送。

# asp.net - 在水晶报表的页尾插入一行

> ID：11078014
> 
> 赞同：0
> 
> 时间：2012-06-18T06:42:53.787
> 
> 标签：asp.net, crystal-reports

我在水晶报告中有一个场景，我有 2 页。记录在第一页的底部和第二页的中间填充。

这里我想要的是在第一页中我想在页面末尾插入一行，而第二页我不想要，因为数据没有完全填充。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T14:56:24.047

最好的方法是：

```
if PageNumber = TotalPageCount then
    true
else
    false 
```

如果只有一页，这不会显示该行。如果有多个页面，则在所有页面上显示该行，但最后一个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T14:24:54.400

首先，使用您想要的线条创建文本对象。然后，右键单击对象，选择“设置文本格式”。在“常用”选项卡上，单击“抑制”右侧的公式按钮（上面有“x-2”和铅笔的按钮......）。然后，插入下一个公式：

```
IF PAGENUMBER = 1 
THEN FALSE
ELSE TRUE 
```

单击“保存并关闭”，然后单击“确定”，这应该可以完成工作...

# knockout.js - 使用淘汰绑定更改选择上的事件，我怎么知道它是否是真正的更改？

> ID：11078016
> 
> 赞同：94
> 
> 时间：2012-06-18T06:42:56.477
> 
> 标签：knockout.js

我正在构建权限 UI，我有一个权限列表，每个权限旁边都有一个选择列表。权限由绑定到选择列表的可观察对象数组表示：

```
<div data-bind="foreach: permissions">
     <div class="permission_row">
          <span data-bind="text: name"></span>
          <select data-bind="value: level, event:{ change: $parent.permissionChanged}">
                   <option value="0"></option>
                   <option value="1">R</option>
                   <option value="2">RW</option>
           </select>
      </div>
 </div> 
```

现在的问题是：第一次填充 UI 时会引发 change 事件。我调用我的 ajax 函数，获取权限列表，然后为每个权限项引发事件。这真的不是我想要的行为。我希望**仅当用户真正在选择列表中为权限选择新值时才**提出它，我该怎么做？

* * *

## 回答 #1

> 赞同：120
> 
> 时间：2013-12-05T10:35:48.810

实际上**你想知道事件是由用户还是程序触发的**，很明显该事件会在初始化时触发。

添加的淘汰赛方法`subscription`在所有情况下都没有帮助，为什么因为在大多数模型中都会这样实现

1.  用未定义的数据初始化模型，只是结构 *`(actual KO initilization)`*
2.  使用初始数据更新模型 *`(logical init like load JSON , get data etc)`*
3.  用户交互和更新

我们要捕获的实际步骤是 3 中的更改，但在第二步`subscription`中会调用，因此更好的方法是添加到事件更改中，例如

```
 <select data-bind="value: level, event:{ change: $parent.permissionChanged}"> 
```

并检测到`permissionChanged`函数中的事件

```
this.permissionChanged = function (obj, event) {

  if (event.originalEvent) { //user changed

  } else { // program changed

  }

} 
```

* * *

## 回答 #2

> 赞同：32
> 
> 时间：2012-06-20T01:51:00.930

这只是一个猜测，但我认为它正在发生，因为它`level`是一个数字。在这种情况下，`value`绑定将触发一个`change`事件以`level`使用字符串值进行更新。因此，您可以通过确保`level`以字符串开头来解决此问题。

此外，更“淘汰”的做法是不使用事件处理程序，而是使用可观察对象和订阅。`level`创建一个可观察对象，然后为其添加订阅，该订阅将在更改时运行`level`。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-06-18T09:04:38.750

这是一个可能有助于解决这种奇怪行为的解决方案。我找不到比放置一个按钮来手动触发更改事件更好的解决方案。

编辑：也许像这样的自定义绑定可能会有所帮助：

```
ko.bindingHandlers.changeSelectValue = {

   init: function(element,valueAccessor){

        $(element).change(function(){

            var value = $(element).val();

            if($(element).is(":focus")){

                  //Do whatever you want with the new value
            }

        });

    }
  }; 
```

并在您的选择数据绑定属性中添加：

```
changeSelectValue: yourSelectValue 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-06-13T10:12:25.830

我使用这个自定义绑定（基于RP Niemeyer 的[这个](http://jsfiddle.net/rniemeyer/utsvJ/)小提琴，请参阅他对[这个](https://stackoverflow.com/a/10127300/932282)问题的回答），它确保数值从字符串正确转换为数字（如 Michael Best 的解决方案所建议的那样）：

Javascript：

```
ko.bindingHandlers.valueAsNumber = {
    init: function (element, valueAccessor, allBindingsAccessor) {
        var observable = valueAccessor(),
            interceptor = ko.computed({
                read: function () {
                    var val = ko.utils.unwrapObservable(observable);
                    return (observable() ? observable().toString() : observable());
                },
                write: function (newValue) {
                    observable(newValue ? parseInt(newValue, 10) : newValue);
                },
                owner: this
            });
        ko.applyBindingsToNode(element, { value: interceptor });
    }
}; 
```

示例 HTML：

```
<select data-bind="valueAsNumber: level, event:{ change: $parent.permissionChanged }">
    <option value="0"></option>
    <option value="1">R</option>
    <option value="2">RW</option>
</select> 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-01-25T17:51:01.333

如果您使用可观察对象而不是原始值，则选择不会在初始绑定时引发更改事件。你可以继续绑定到 change 事件，而不是直接订阅 observable。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-06-18T07:11:56.767

快速而肮脏，使用一个简单的标志：

```
var bindingsApplied = false;

var ViewModel = function() {
    // ...

    this.permissionChanged = function() {
        // ignore, if flag not set
        if (!flag) return;

        // ...
    };
};

ko.applyBindings(new ViewModel());
bindingsApplied = true; // done with the initial population, set flag to true 
```

如果这不起作用，请尝试将最后一行包装在 setTimeout() 中 - 事件是异步的，因此当 applyBindings() 已经返回时，最后一个可能仍然处于挂起状态。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-05-30T15:41:13.107

我有一个类似的问题，我只是修改了事件处理程序来检查变量的类型。类型仅在用户选择一个值后设置，而不是在页面首次加载时设置。

```
self.permissionChanged = function (l) {
    if (typeof l != 'undefined') {
        ...
    }
} 
```

这似乎对我有用。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-01-30T09:52:02.330

试试这个：

```
self.GetHierarchyNodeList = function (data, index, event)
{
    debugger;
    if (event.type != "change") {
        return;
    }        
} 

event.type == "change"
event.type == "load" 
```

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2017-04-26T13:35:05.640

如果您正在使用 Knockout，请使用可观察功能敲除的关键功能。
在该函数中使用`ko.computed()`方法并执行和触发 ajax 调用。

* * *

## 回答 #10

> 赞同：-1
> 
> 时间：2019-05-17T12:36:47.173

用这个：

```
this.permissionChanged = function (obj, event) {

    if (event.type != "load") {

    } 
} 
```

* * *

## 回答 #11

> 赞同：-1
> 
> 时间：2021-01-20T12:49:15.117

创建js组件

```
define([
    'Magento_Ui/js/form/element/select',
    'mage/translate'
], function (AbstractField, $t) {
    'use strict';

    return AbstractField.extend({
        defaults: {
            imports: {
                update: 'checkout.steps.shipping-step.shippingAddress.shipping-address-fieldset.country_id:value'
            },
            modules: {
                vat_id: '${ $.parentName }.vat_id'

            }
        },

        /**
         * Initializes UISelect component.
         *
         * @returns {UISelect} Chainable.
         */
        initialize: function () {
            this._super();
            this.vat_id().visible(false);
            return this;
        },
        update: function (value) {
            if(value == 'GB'){
                this.vat_id().visible(true);
            }else{
                this.vat_id().visible(false);

            }
        }

    });
}); 
```

# android - 如何使用 TraficStats API 安卓

> ID：11078022
> 
> 赞同：0
> 
> 时间：2012-06-18T06:43:19.500
> 
> 标签：android

在android中，我们可以`TrafficStats.getTotalTxBytes()`明智地约会吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:47:16.663

我不确定您是按时间顺序表示“数据”还是“日期”。无论哪种方式，您都可以在代码开始的地方调用 getTotalTxBytes 并存储值。要获得从那时起传输的总字节数，您将再次调用该函数并从先前存储的值中减去返回值。

要按时间顺序监视这些值，您将使用的方法因实施而异。对于初学者，您可以`System.currentTimeMillis()`在调用 getTotalTxBytes 时进行存储。

# c# - 将 Gridview 导出到 Excel 时删除复选框

> ID：11078027
> 
> 赞同：3
> 
> 时间：2012-06-18T06:43:52.607
> 
> 标签：c#, asp.net, gridview, export-to-excel

我有一个需要导出到 Excel 的网格视图。我已设法从行中删除复选框，但不知道如何从标题中删除并完全删除复选框列。感谢帮助。

```
 <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" CellPadding="4" DataKeyNames="Id">
    <Columns>
        <asp:TemplateField HeaderText="Select" >
            <HeaderTemplate>
                <input id="chkAll" onclick="checkAll(this);" runat="server" type="checkbox" />
            </HeaderTemplate>
            <ItemTemplate>
            <asp:CheckBox  ID="CheckBox1" runat="server" />
            </ItemTemplate>
        </asp:TemplateField>
        <asp:BoundField DataField="Event" HeaderText="Event" SortExpression="Event" />
        <asp:BoundField DataField="Event_Description" HeaderText="Event_Description" SortExpression="Event_Description" />
        <asp:BoundField DataField="Start_Date" HeaderText="Start_Date" SortExpression="Start_Date" />
    </Columns>
    </asp:GridView> 
```

这是要导出到 excel 的后端 C# 代码。

```
protected void download_Click(object sender, EventArgs e)
{
    PrepareGridViewForExport(GridView1);
    Response.ClearContent(); 
    Response.AddHeader("content-disposition", "attachment; filename=GridViewToExcel.xls"); 
    Response.ContentType = "application/excel"; 
    StringWriter sWriter = new StringWriter();
    HtmlTextWriter hTextWriter = new HtmlTextWriter(sWriter);
    GridView1.RenderControl(hTextWriter);
    Response.Write(sWriter.ToString());
    Response.End();
}
public override void VerifyRenderingInServerForm(Control control)
{
}
private void PrepareGridViewForExport(Control gv)
{
    Literal l = new Literal();
    string name = String.Empty;
    for (int i = 0; i < gv.Controls.Count; i++)
    {
        if (gv.Controls[i].GetType() == typeof(CheckBox))
        {
            gv.Controls.Remove(gv.Controls[i]);
            gv.Controls.AddAt(i, l);
        }
        if (gv.Controls[i].HasControls())
        {
            PrepareGridViewForExport(gv.Controls[i]);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T06:49:47.440

试试这个导出功能，它隐藏了不需要的列，即行的第 0 列......

```
protected void btnExportExcel_Click(object sender, EventArgs e)
{
    Response.Clear();
    Response.Buffer = true;
    Response.AddHeader("content-disposition", "attachment;filename=GridViewExport.xls");
    Response.Charset = "";
    Response.ContentType = "application/vnd.ms-excel";
    StringWriter sw = new StringWriter();
    HtmlTextWriter hw = new HtmlTextWriter(sw);
    GridView1.DataBind(); 

    GridView1.HeaderRow.Cells[0].Visible = false; 

    for (int i = 0; i < GridView1.Rows.Count;i++ )
    {
       GridViewRow row = GridView1.Rows[i];
       row.Cells[0].Visible = false;
       row.Cells[0].FindControl("chkCol0").Visible = false; 
     }
    GridView1.RenderControl(hw);
    Response.Write(style);
    Response.Output.Write(sw.ToString());
    Response.End();
} 
```

**或者**

在导出时，删除该列。类似的东西：

```
GridView1.Columns[0].visible = false;
 GridView1.DataBind();
  GridView1.RenderControl(htmlWrite);
 Response.Write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-05-20T10:22:05.290

我们可以在导出到 Excel 之前删除它们，而不是隐藏控件。
这可以通过遍历单元格并找到单元格中存在的控件来完成。然后识别控件类型并将它们从该单元格中删除。

**以下是代码：**

```
foreach (GridViewRow row in GridView1.Rows)
{
  row.BackColor = Color.White;
  foreach (TableCell cell in row.Cells)
  {
    cell.CssClass = "textmode";
    for (int i = 0; i < cell.Controls.Count; i++)
    {
      Control ctr = cell.Controls[i];
      if (ctr is TextBox)
        cell.Controls.Remove(ctr);
      else if (ctr is DropDownList)
        cell.Controls.Remove(ctr);
      else if (ctr is Label)
        {
          if (ctr.ClientID.Contains("lblrow"))
            cell.Controls.Remove(ctr);
        }
    }
  }
} 
```

在上面的代码中，我循环遍历每一行和单元格。然后删除那里存在的所有 ID**为 lblrow的****TextBox、DropdownList 和 Label 。**

# android - 如何使用 MSSHAPV2 身份验证连接到 Microsoft VPN 服务器

> ID：11078031
> 
> 赞同：6
> 
> 时间：2012-06-18T06:44:32.200
> 
> 标签：android, authentication, vpn

你能指导一下在哪里挖吗？

**我有的：**

1.  我有一台带有 ICS (Android 4.x) 的设备 (HTC One X)。
2.  我的公司有一个基于 Microsoft VPN 服务（RRAS 等）的企业 VPN 服务器。
3.  Microsoft VPN Server 应用了一个策略，告诉它只接受具有 MSCHAPV2 身份验证的连接。

* * *

**我需要的：**

1.  我需要从我的设备建立 VPN 连接到我的公司 VPN 服务器。

* * *

**问题：**

1.  ICS 的板载 VPN 客户端是否可以满足我的需求？
2.  是否有任何第三方 VPN 客户端可以做到这一点？
3.  如何向 Google 询问我的需求？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-08-15T19:02:14.473

Android 支持 MS-CHAP V2，但这是第 2 阶段身份验证的一部分，并在握手期间自动配置。首先需要回答的问题是使用的是什么VPN协议？PPTP？检查是否需要启用加密 (MPPE)
L2TP/IPSec？可能所有这些都受支持；您可能还需要检查它是 PSK 还是 RSA。如果是 RSA，则需要安装证书才能连接。
SSTP？SSTP 仅在 Windows 上可用。

您还应该知道 PPTP 上的 MSCHAPV2 被认为是损坏的（加密不安全）。Android 不支持 SSTP。我假设 SSTP 是一个选项，而 OpenVPN 不是因为该公司使用的是 MS VPN。

回答您的问题：
1\. 如果服务器启用了 PPTP 或 (L2TP/)IPSec，Android 2.x+ 应该能够连接，只要供应商没有去掉库存 Android 的内置 VPN。
2\. 任何第 3 方 VPN 客户端都应支持这两种广泛使用的协议。
3.如果VPN客户端有问题，请参考Google Code上的Android仓库：[https ://code.google.com/p/android/issues/advsearch](https://code.google.com/p/android/issues/advsearch)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-15T16:22:03.073

我对 Android 中的 VPN 不太了解，但您可以尝试以下几种解决方案：

1.  安装 StrongSwan VPN 客户端 - [https://play.google.com/store/apps/details?id=org.strongswan.android&hl=en_GB](https://play.google.com/store/apps/details?id=org.strongswan.android&hl=en_GB) - 但不知道它是否可以工作或者是否需要服务器软件。最好的猜测是尝试一下。

2.  安装自定义 ROM（CyanogenMod/AOKP/Pacman/Paranoid/etc）然后尝试。通常，自定义 ROM 包含（蹩脚的）库存 ROM 中不存在的此类功能。

祝你好运：P

# javascript - 使用 JavaScript 为 IE9 用户在启动时重新加载页面

> ID：11078034
> 
> 赞同：0
> 
> 时间：2012-06-18T06:44:44.680
> 
> 标签：javascript

我想要一个页面强制重新加载一次，以便 IE9 用户清除缓存。我一直在试验这个功能：

```
location.reload(); 
```

问题：是否可能针对使用 IE9 的人，并且只在加载时重新加载一次。

感谢我能得到的任何帮助。

/莱纳斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:57:36.033

参考：[stackoverflow 类似的问题](https://stackoverflow.com/questions/11051413/redirect-to-html-page-using-javascript/11051521#comment14491837_11051521)

从链接到答案采取

两种选择：

> 1-您可以使用cookies。登录时设置一个 cookie，并在加载期间检查它。然后在执行初始化后清除它，以便下次加载检查将失败。
> 
> 2- 您可以使用地址，既可以作为 ?justLoggedIn 之类的参数，也可以作为 #justLoggedIn 之后的哈希值。然后检查并重定向到相同的 url 减去 justLoggedIn 部分。# 版本的优点是它实际上不会重新加载页面，这与使用 ? 版本。

**更新**：参考：[stackoverflow 类似问题](https://stackoverflow.com/questions/6985507/one-time-page-refresh-after-first-load)

我会说使用哈希，如下所示：

```
window.onload = function() {
    if(!window.location.hash) {
        window.location = window.location + '#loaded';
        window.location.reload();
    }
} 
```

**更新 2：**

我想你应该看看这个问题我直到现在才知道 pjax 所以我不太了解它

[堆栈溢出问题](https://stackoverflow.com/questions/6985507/one-time-page-refresh-after-first-load)

在答案中查看[http://pjax.heroku.com/](http://pjax.heroku.com/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:47:25.460

如果你能设计一些策略，让你不依赖于浏览器版本，那可能是最好的。

话虽如此，这里有一个[链接](http://msdn.microsoft.com/en-us/library/ms537509%28v=vs.85%29.aspx)可以让您检测 IE9。

# c# - 在 asp.net 中上传大文件

> ID：11078043
> 
> 赞同：0
> 
> 时间：2012-06-18T06:46:07.147
> 
> 标签：c#, asp.net, .net, file-upload

我想用 asp.net 文件上传控制上传 30GB，我听说 ftp 可以做到这一点或一些高级上传器。我搜索但没有找到任何适合 asp.net 的代码或一些开源插件。你知道一些图书馆或什么是正确的方法来做到这一点，我很困惑。
我正在寻找 ASP.Net 文件上传，它可以上传大文件，例如 30GB，并且具有任何逻辑，如 ftp 或其他一些恢复方式。那么有什么插件可以完成这项工作吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:01:08.980

我不认为你能做到这一点。许多浏览器都有上传限制 ~ 2GB。考虑与 HTTP POST 不同的解决方案，例如直接 FTP 上传。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T07:07:30.260

这是一个很好的问题 [http://weblogs.asp.net/jgalloway/archive/2008/01/08/large-file-uploads-in-asp-net.aspx](http://weblogs.asp.net/jgalloway/archive/2008/01/08/large-file-uploads-in-asp-net.aspx)

根据我几年前在 .net 中处理千兆字节上传的经验，在通用控件和基础架构中这并不容易。您将与 http 超时作斗争，并且必须调整 web.config 以允许文件大小和 web.config 中的一些更改。

使其工作必须发生的是某种形式的分块。因此，您将文件分成更小的部分，然后尝试上传每个部分。然后你必须记录你得到了哪些碎片，哪些没有。

更好/更简单的解决方案是向您的应用程序添加一些 RIA 功能，以便您可以处理上传

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T08:00:43.900

你可以试试 NeatUpload [http://neatupload.codeplex.com/](http://neatupload.codeplex.com/)。我上次使用它来上传大至 10MB 的文件而没有问题。不过，从未尝试过使用多 GB 文件。

控制需要完全信任。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T15:00:39.123

我认为最好的应该是 WebDAV 服务器引擎方法[http://www.webdavsystem.com/server/documentation/large_files_iis_asp_net](http://www.webdavsystem.com/server/documentation/large_files_iis_asp_net)

# blackberry - 我需要在 BlackBerry Webworks Application（对于 BlackBerry 6/7）中嵌入 > 4MB 的内容文件。我有哪些选择？

> ID：11078052
> 
> 赞同：3
> 
> 时间：2012-06-18T06:46:56.630
> 
> 标签：blackberry, cordova, blackberry-webworks

我正在开发一个内容丰富的 Webworks 应用程序。为了使应用程序有用，它需要维护一个本地内容数据库（大约 4MB 的 SQL 形式；进一步减少它的唯一方法是删除整个内容类别）。

我最初的想法是我会在应用程序中嵌入 SQL 文件（就像 CSS 和 JS 一样），然后在第一次运行时加载到 SQlite。该策略在 Ripple 模拟器的开发中起作用。

当我尝试在真实的测试设备上构建和运行时，结果很悲痛。编译后的 COD 有 > 127 个同级 COD，因此无法安装（花了一周时间才发现）。

我设计了另一种方法的原型——第一次运行时从网上下载 SQL 文件。我不喜欢第二种方法——有理由；此应用程序旨在用于世界上具有昂贵/参差不齐的带宽的区域。

有没有办法在 BB 6/7 的 BlackBerry 应用程序中嵌入大量内容而不会遇到应用程序大小限制（兄弟 COD 的数量 [不能超过 127] 或应用程序的绝对大小）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T22:35:29.087

看起来不像：http: [//supportforums.blackberry.com/t5/Testing-and-Deployment/The-maximum-size-of-a-BlackBerry-smartphone-application/ta-p/1300209](http://supportforums.blackberry.com/t5/Testing-and-Deployment/The-maximum-size-of-a-BlackBerry-smartphone-application/ta-p/1300209)

具体来说：

> 单个应用程序中可以存在的同级 COD 文件的数量限制为 127。这意味着应用程序的最大理论大小限制为 16256 KB，其中包括 8128 KB 的应用程序数据和 8128 KB 的资源数据。此值有一些开销，这使实际最大大小限制更接近 14000 KB。应用程序的实际最大大小将根据应用程序的内容而略有不同。
> 
> 任何一种数据类型（应用程序或资源）都不可能使用另一种数据类型的未使用空间，这意味着即使应用程序数据远低于限制，资源数据也无法使用应用程序数据空间。

# java - java添加来自其他类的jpanels

> ID：11078053
> 
> 赞同：1
> 
> 时间：2012-06-18T06:47:04.913
> 
> 标签：java, swing, jframe, jpanel

我正在用java开发一个游戏，我正在尝试从不同的类文件加载不同的级别。每个级别的类文件都是一个 jpanel。这个想法是，当 level1 完成时，它会加载一个删除 jpanel level1 并添加 jpanel level2 的方法。但是当我尝试从 level1 加载 level2 时，我得到一个 java.lang.OutOfMemoryError: unable to create new native thread。错误

我有 3 个类文件：

*   main：加载jframe和添加jpanels的方法
*   level1：加载level1，然后通过main中的方法加载level2
*   级别2：加载级别2

这是主类中的方法：

```
public static void levelChanger(int currentMap){
    map1 map1 = new map1(null);
    map2 map2 = new map2(null);

    if(currentMap == 1){
        frame.add(map1);
        frame.validate();
    }else if(currentMap == 2){
        frame.remove(map1);
        frame.add(map2);
        frame.validate();
    }
} 
```

这就是我从level1调用它的方式：

```
mainScreen.levelChanger(2); 
```

希望我提供了足够的信息。谢谢！

* * *

这是整个主类：

```
import java.awt.Color;
import java.awt.Toolkit;
import java.awt.event.KeyEvent;
import java.awt.event.WindowEvent;
import javax.swing.JFrame;

public class mainScreen{

    static JFrame frame = new JFrame("Tile System");

    //Key variables
    public static int keyUp = KeyEvent.VK_UP;
    public static int keyDown = KeyEvent.VK_DOWN;

    public static void main(String[] args) {
        levelChanger(1);
        frame.setSize ( 800, 600 );
        frame.setResizable ( false );
        frame.setLocationRelativeTo ( null );
        frame.setDefaultCloseOperation ( JFrame.EXIT_ON_CLOSE );
        frame.setVisible ( true );
        frame.setBackground(new Color(135, 206, 250));//RGB color code
        frame.setFocusable(true);

        new map1(null);
    }
    public static void exit(){
        WindowEvent wev = new WindowEvent(frame, WindowEvent.WINDOW_CLOSING);
        Toolkit.getDefaultToolkit().getSystemEventQueue().postEvent(wev);
    }

    public static void levelChanger(int currentMap){
        public static map1 map1 = new map1(null);
            public static map2 map2 = new map2(null);
        if(currentMap == 1){
            frame.add(map1);
            frame.validate();
        }else if(currentMap == 2){
            frame.remove(map1);
            frame.add(map2);
            frame.validate();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:56:36.510

首先，`OutOfMemoryError`这段代码实际上并没有任何东西，可能`map1`并且`map2`正在分配大量内存，也许这个答案会帮助你释放一些内存。

1.  每次调用时，您`levelChanger`都在分配一个新对象。即使您只会使用这些对象*之一*`map1``map2`

**   `map1`更改为级别 2 时，您不会删除相同的对象。

    *   （你可以让`levelChanger`取一个`map`参数）* 

 ** * *

一种改进的`levelChanger`方法可能如下所示：

```
// allocate maps once
static map1 map1 = new map1(null);
static map2 map2 = new map2(null);

public static void levelChanger(int currentMap){

    if (currentMap == 1){
        frame.add(map1);
        frame.validate();
    } else if (currentMap == 2) {
        frame.remove(map1);
        frame.add(map2);
        frame.validate();
    }
} 
```

* * *

更好的方法是创建一个接口`Map`并让`map1`和`map2`实现`Map`，同时为地图创建一个自己的面板（`mapPanel`）。像这样的东西：

```
public static void levelChanger(Map map){
    mapPanel.removeAll();
    mapPanel.add(map);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:59:20.587

我无法确定您提供的代码，但您的错误是 OutOfMemoryError，您是否增加了默认的 java 内存？尝试`-Xms512m -Xmx1024m`命令行选项（或放在那里你想要的任何内存大小）。*

# c# - 从 wcf Web 服务发送电子邮件

> ID：11078059
> 
> 赞同：-2
> 
> 时间：2012-06-18T06:47:24.053
> 
> 标签：c#, wcf, web-services, email

我有一个 WCF 网络服务。我想从此服务发送电子邮件。有用于从 WCF 发送电子邮件的库吗？
我希望该库具有简单的调度程序，例如，每小时发送一次或类似的东西。什么都找不到。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T06:49:25.097

.NET 的[SmtpClient](http://msdn.microsoft.com/en-us/library/system.net.mail.smtpclient.aspx)在 WCF Web 服务中运行良好。

您可以使用[Task Scheduler](http://msdn.microsoft.com/en-us/library/windows/desktop/aa383614%28v=vs.85%29.aspx)或[Quartz.Net](http://quartznet.sourceforge.net/)来安排电子邮件的发送。

# android - Phonegap - Android - 相机 API 不工作

> ID：11078063
> 
> 赞同：1
> 
> 时间：2012-06-18T06:47:41.590
> 
> 标签：android, cordova, camera

我正在查看适用于 android 的 PhoneGap API，并尝试了相机示例应用程序示例。
我使用的是phonegap 1.8.1，我的安卓版本是2.3.5。

我试图`navigator.camera.getPicture()`从我的应用程序中调用该函数，但没有任何反应。
我已经包含了正确的`.js`文件和其他依赖项。
我能错过什么？

```
function capturePhotoURI() {
        navigator.camera.getPicture(onCapturePhotoURISuccess, fail, 
            { destinationType: Camera.DestinationType.FILE_URI, quality: 50 });
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:28:04.113

你有

```
<uses-permission android:name="android.permission.CAMERA" /> 
```

在你的清单中？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-01T17:02:54.727

这似乎是一个众所周知的问题。[您可以在此线程](https://groups.google.com/forum/?fromgroups=#!topic/phonegap/GFwv2OticKw)上查看有关它的其他信息。

简而言之，我们可以这样描述问题：

*当相机启动时，PhoneGap (Cordova) Activity 有时会被 Android 操作系统的垃圾收集器销毁以释放内存。*

到目前为止，我发现的最佳解决方案是使用“ [phonegap-plugins](https://github.com/phonegap/phonegap-plugins) ”存储库中的“ [ForegroundCamera](https://github.com/phonegap/phonegap-plugins/tree/master/Android/ForegroundCamera) ”插件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:04:21.907

尝试将目标类型更改为

```
destinationType: Camera.DestinationType.DATA_URL 
```

# android - Android ExpandedListView 动画展开缓慢流畅

> ID：11078065
> 
> 赞同：2
> 
> 时间：2012-06-18T06:48:19.030
> 
> 标签：android, expandablelistview

当普通的 ExpandableListView 展开时，我们通常看到的只是展开的结果。我想添加动画以清楚地看到它会缓慢而平滑地扩展自己，以便让用户明白他点击了 listitem 并打开了它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:03:36.323

*   这可以通过 Accordion 组件来实现。
    看看这个[链接](http://android-puremvc-ormlite.blogspot.in/2011/07/android-simple-accordion-panel.html)

可能对你有帮助。谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-22T21:57:52.573

如果您想要手风琴之类的东西，但只想一次展开一个项目，并且想继续使用普通的 ListView，我会推荐这个项目：[https ://github.com/tjerkw/Android-SlideExpandableListView](https://github.com/tjerkw/Android-SlideExpandableListView)

是的，我是作者！

# android - 为什么我的 LoaderManager/CursorLoader 组合在 ListView 中显示数据库查询时无法正常工作？

> ID：11078070
> 
> 赞同：0
> 
> 时间：2012-06-18T06:48:52.337
> 
> 标签：android, android-listview, android-loadermanager, android-cursorloader

我整天都在为此工作，并一直试图了解它们是如何组合在一起的，并重新编写我的代码以使其很好地组合在一起。
所以我会告诉你我有什么。没有错误，只是空白。

**MyAgendaLoaderManager.java：**

```
public class MyAgendaLoaderManager implements LoaderCallbacks<Cursor>{

MyAgendaAdapter agendaAdapter;
Context mContext;
String date;

public MyAgendaLoaderManager(Context context, MyAgendaAdapter adapter, String date) {
    agendaAdapter = adapter;
    mContext = context;
    this.date = date;
}

@Override
public Loader<Cursor> onCreateLoader(int arg0, Bundle arg1) {
    Uri baseUri = SmartCalProvider.CONTENT_URI;
    return new CursorLoader(mContext, baseUri, 
            new String[] {"_id, event_name, start_date, start_time, end_date, end_time, location"}, 
            "WHERE date(?) >= start_date and date(?) <= end_date", new String[]{date, date}, null);
}

@Override
public void onLoadFinished(Loader<Cursor> arg0, Cursor arg1) {
    // TODO Auto-generated method stub
    agendaAdapter.swapCursor(arg1);
}

@Override
public void onLoaderReset(Loader<Cursor> arg0) {
    // TODO Auto-generated method stub
    agendaAdapter.swapCursor(null);
}

} 
```

* * *

**CalProvider.java：**

```
public class SmartCalProvider extends ContentProvider {
public static final String AUTHORITY = "content://com.smartcal.eventprovider";
public static final Uri CONTENT_URI = Uri.parse(AUTHORITY);

private static final int DATABASE_VERSION = 1;
private static final String DATABASE_NAME = "cal.db";

private SmartCalOpenHelper openHelper;
private SQLiteDatabase database;

@Override
public boolean onCreate() {
    openHelper = new SmartCalOpenHelper(getContext());
    return true;
}

@Override
public String getType(Uri uri) {
    return null;
}

@Override
public Cursor query(Uri uri, String[] projection, String selection,
        String[] selectionArgs, String sortOrder) {
    database = openHelper.getWritableDatabase();
    return database.query("events_info", projection, selection, selectionArgs, null, null, null);
}

@Override
public Uri insert(Uri uri, ContentValues values) {
    return null;
}

@Override
public int delete(Uri arg0, String arg1, String[] arg2) {
    return 0;
}

@Override
public int update(Uri uri, ContentValues values, String selection,
        String[] selectionArgs) {
    return 0;
}
} 
```

* * *

如果它很重要，下面是在主要活动中运行它的代码：

```
agendaAdapter = new MyAgendaAdapter(this, null);
MyAgendaLoaderManager loader = new MyAgendaLoaderManager(this, agendaAdapter, getChosenDate()); 
```

我只是不明白它是如何空白的。请记住，我故意在 CursorLoader 和 LoaderManager 中留了一些空白，因为我不想全部填写以发现有错误，所以我只是在测试是否显示初始列表，并且它不是。任何帮助找出我做错了什么将不胜感激。

编辑：实际上，现在我考虑了一下，除了当我的适配器创建包含它的视图时，没有什么能真正将我正在做的事情与特定列表联系起来。但该视图不是常规布局的一部分。所以也许这就是我的错误，不幸的是我不知道该怎么做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:03:20.533

您不应该直接实例化加载器。您需要通过活动`getLoaderManager()`方法才能正确初始化和启动它。因此，根据需要从您的活动中调用`getLoaderManager().initLoader()/restartLoader()`。

# java - 无法使用java小程序读取文本文件

> ID：11078071
> 
> 赞同：0
> 
> 时间：2012-06-18T06:48:52.387
> 
> 标签：java, netbeans, text-files, java-io, japplet

我在使用 JApplet 和 Java Web Start 时尝试读取文本文件时遇到问题，基本上我有一个文件，其中包含我希望读取的用户数据。文本文件存储在 Web 服务器上。这是代码：

```
company.readCompanyFile("file:///C:/Users/Chris/Desktop/ArFile Clients/" + companyName + "/"
                    + companyName + ".cmp"); 
```

readCompanyFile 函数是：

```
public void readCompanyFile(String cname)
{
    try
    {
        BufferedReader br = new BufferedReader(new FileReader(cname));

        name = br.readLine();
        quota = Float.parseFloat(br.readLine());

        String s;
        while ((s = br.readLine()) != null)
        {
            String[] parts = s.split(":");

            metadataFields.add(parts);
        }

        br.close();
    }
    catch(IOException e)
    {
        System.out.println("File does not exist, or has invalid format");
    }
} 
```

尝试通过 java web start 启动时会引发以下错误

```
BadFieldException[ The field <extension>href has an invalid value: C:\Users\Chris\Desktop\ArFile Clients,C:\Users\Chris\Desktop\ArFile Clients]
    at com.sun.javaws.jnl.XMLUtils.getAttributeURL(Unknown Source)
    at com.sun.javaws.jnl.XMLUtils.getRequiredURL(Unknown Source)
    at com.sun.javaws.jnl.XMLFormat.handleResourceElement(Unknown Source)
    at com.sun.javaws.jnl.XMLFormat.access$800(Unknown Source)
    at com.sun.javaws.jnl.XMLFormat$2$1.visitElement(Unknown Source)
    at com.sun.javaws.jnl.XMLUtils.visitChildrenElements(Unknown Source)
    at com.sun.javaws.jnl.XMLFormat$2.visitElement(Unknown Source)
    at com.sun.javaws.jnl.XMLUtils.visitElements(Unknown Source)
    at com.sun.javaws.jnl.XMLFormat.buildResourcesDesc(Unknown Source)
    at com.sun.javaws.jnl.XMLFormat.parse(Unknown Source)
    at com.sun.javaws.jnl.LaunchDescFactory.buildDescriptor(Unknown Source)
    at com.sun.javaws.jnl.LaunchDescFactory.buildDescriptor(Unknown Source)
    at com.sun.javaws.jnl.LaunchDescFactory.buildDescriptorFromCache(Unknown Source)
    at com.sun.javaws.jnl.LaunchDescFactory.buildDescriptorFromCache(Unknown Source)
    at sun.plugin2.applet.JNLP2Manager.initialize(Unknown Source)
    at sun.plugin2.main.client.PluginMain.initManager(Unknown Source)
    at sun.plugin2.main.client.PluginMain.access$200(Unknown Source)
    at sun.plugin2.main.client.PluginMain$2.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)
Error while initializing manager: BadFieldException[ The field <extension>href has an invalid value: C:\Users\Chris\Desktop\ArFile Clients,C:\Users\Chris\Desktop\ArFile Clients], bail out 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:08:16.293

> 文本文件存储在 Web 服务器上。

...而小程序在客户端计算机上运行。它将如何读取文件？

您必须使其可通过网络访问，例如通过 HTTP（将其放在服务器上的小程序旁边）。

此外，该堆栈跟踪似乎与您的代码没有任何关系。看起来 Webstart 无法解析部署描述符（也可能是因为引用了服务器磁盘上的文件）。

# php - 在php中取消转义双引号

> ID：11078077
> 
> 赞同：0
> 
> 时间：2012-06-18T06:49:11.730
> 
> 标签：php, sql, postgresql

我的 PHP 代码是：

```
$query="select company_name from company_names where cik=".$cik; 
```

哪个在印刷上给出

```
select company_name from company_names where cik=0001001871 
```

我想得到像这样的输出

```
select company_name from company_names where cik='0001001871' 
```

如何在 PHP 中添加单引号？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T06:50:19.577

简单地：

```
$query = "select company_name from company_names where cik = '$cik'"; 
```

或者：

```
$query = "select company_name from company_names where cik = '" . $cik . "'"; 
```

请注意，要防止**SQL 注入**，请参见：

*   [防止 SQL 注入的最佳方法](https://stackoverflow.com/questions/11077685/how-much-security-is-really-needed-on-a-private-website/11077748#11077748)

**更多信息：**

*   [http://php.net/manual/en/language.types.string.php](http://php.net/manual/en/language.types.string.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T06:50:13.960

```
$query="select company_name from company_names where cik='".$cik."'"; 
```

# iphone - 点击 MapView 上的按钮正在缩放地图..？

> ID：11078081
> 
> 赞同：0
> 
> 时间：2012-06-18T06:49:25.440
> 
> 标签：iphone, ios, ios5, xcode4.2, mkmapview

我有一个 MapView，在其上添加了一个 UIView（0、216、320、200），其中包含 10 个 UIButton。这个 UIView 就像一个菜单一样工作，并且在某个按钮动作上显示和隐藏。

这里的问题是，当菜单显示时，当我点击一个按钮时，它可以完美地工作，但是多次点击它会使 MapView 缩放（它位于包含按钮的 UIView 下）。这意味着触摸事件正在传递给 MapView。

详细信息：在 MapView 缩放中非常快速地点击按钮，当您停止点击时执行按钮操作。

我怎样才能防止这种情况？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T08:22:19.517

您可以做的是在按钮处理程序期间禁用用户交互。所以在选择器中做：

```
-(void)buttonSelector:(id)sender {
    _mapView.userInteractionEnabled = NO;

    // ... do what your button needs to do

    _mapView.view.userInteractionEnabled = YES;
} 
```

当然，这假设您的按钮在地图视图之前获取事件......我认为应该这样做，因为它位于地图视图的顶部。

要处理快速点击，您可以创建 UIButton 的子类并使用以下代码：

```
-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{
    _mapView.userInteractionEnabled = NO;
}

-(void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event 
{
    _mapView.userInteractionEnabled = YES;
} 
```

在构建器中，将 UIButton 的类更改为您的子类。如果您在传递给`touchesEnd`方法的集合中调试触摸并查看 tapCount，您会看到所有的点击都被捕获到了这里。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T11:37:28.733

是的，所以问题是，我在 MapView 上添加 UIView 作为子视图。我通过在 self.view 上添加 UIView 作为子视图来修复它

# c# - 从 MS Access 数据库中获取数据到 C# 中的 List<>

> ID：11078083
> 
> 赞同：0
> 
> 时间：2012-06-18T06:49:32.603
> 
> 标签：c#, database, ms-access

目前我有一个名为 Diff_ProductName 的数据存储字符串列表<>。

```
List<string[]> Diff_ProductName = ("SELECT GUID,ProductName FROM Table_A bla bla bla.... "); 
```

所以我需要使用 Diff_ProductName 中的 GUID 从另一个表中复制另一个数据。

```
For (int i = 0; i < Diff_ProductName; i++)
{    
List<string[]> DCB_CopyData = ("SELECT Name, ID FROM Table_B WHERE='"+(((string[])Diff_ProductName[i])[0]+"'");
} 
```

问题是，每个 GUID 都有一些 ID 和名称。意思是 ：

```
TABLE_B

    GUID      Name     ID
    1          A       012
    1          B       013
    1          c       014
    2          AB      015
    3          D       016
    3          E       017
    4          ACE     018
    4          ADE     019 
```

所以当我运行程序时。DCB_CopyDate 处的数据仅存储最后一个 GUID 数据。DCB_CopyData 的平均值只有：

```
 GUI   Name      ID
    4     ACE     018
    4     ADE     019 
```

那么我的代码有什么问题？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:02:26.803

您正在为每个 GUID 执行查询，如果您的列表真的很长，这会很痛苦。
您可以像这样简单地执行一个查询

```
SELECT ta.*, tb.* FROM Table_A AS ta
LEFT JOIN Table_B AS tb ON ta.GUID = tb.GUID 
```

关于您的代码：如果您向我们展示伪代码，那么您的第二个查询在语法上似乎确实是错误的。

# objective-c - 在 Objective-C 中将引用作为函数参数传递

> ID：11078096
> 
> 赞同：2
> 
> 时间：2012-06-18T06:50:19.980
> 
> 标签：objective-c, cocoa

我不知道在哪些情况下将引用作为函数参数传递更方便：

```
- (void)exportXMLToString:(NSMutableString **)aString 
```

我可以按值传递字符串并在方法完成执行时将其返回吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:16:15.960

您可能会发现以下线程很有用。我认为您的问题在这里得到了广泛的讨论： [Use of pass by reference in Objective-C](https://stackoverflow.com/questions/2249040/use-of-pass-by-reference-in-objective-c)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:11:59.817

当您不想要额外的String副本时传递引用更方便，额外副本意味着更多空间，如果您想读取/附加String<最好不要创建新的。您可以通过传递 String 值（创建一个新值）轻松地做到这一点，但这不是很有效。（你想要两个玻璃杯空间来储存 1/2 杯水 :)）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:35:38.667

据我了解您要实现的目标，您可以命名您的方法`- (NSString *)xmlStringValue`。

这是风格问题，我个人只在必要时使用 ObjC 中的引用（这并不真正符合语言恕我直言的精神），并且几乎专门用于`(NSError **)`.

# maven - 如何在 Maven 中设置特定的部署顺序？

> ID：11078097
> 
> 赞同：3
> 
> 时间：2012-06-18T06:50:24.833
> 
> 标签：maven

有一个包含多个子模块的项目，我如何指定哪个模块是第一个部署的，哪个是第二个等等？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:07:25.370

此顺序与反应器中的构建顺序相同（`deploy`模块在打包后完成，模块在模块之后完成），因此它取决于模块之间的依赖关系。如果在 reactor 构建顺序中有多个具有相同“优先级”的模块，`pom.xml`则使用 order in。

因此，一般来说，不依赖于其他模块的模块将在开始的某个地方构建，而对其他模块有很多依赖关系的模块将在最后的某个地方构建。

# mysql - 创建一个索引，它是 MySQL 中另一个索引的子集

> ID：11078100
> 
> 赞同：3
> 
> 时间：2012-06-18T06:50:32.600
> 
> 标签：mysql, indexing

我正在使用 MySQL，尽管我怀疑这是一个通用的数据库问题。

我有一个由 6 个数字列组成的表。其中前 5 个构成主键。

这是一个大表（2000 万行并且还在增长），所以一些查询需要时间 - 大约 10 秒，这本身并不太长，但我需要运行很多。

我知道主键是自动索引的 - 我单独索引我通常查询的主键中的某些列组有什么优势吗？

也就是说，如果我定期查询 5 个主键列中的前 3 个，我应该为这 3 个创建额外的索引，还是因为它已经是主键索引的一部分，所以这是多余的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T13:16:35.020

对于返回一行或少量行的查询来说，十秒是相当长的时间。但是，如果查询返回表内容的 3%，那么 10 秒不会太长。

您的主唯一键由复合索引备份，假设索引

```
 (I1,I2,I3,I4,I5) 
```

你是对的，像这样的查询

```
 WHERE I1 = val AND I2 = val AND I3 = val 
```

和

```
 WHERE I3 = val AND I2 = val AND I1 = val 
```

应该使用为主键创建的索引。重要的是复合索引中的列都被使用了，从最左边开始。像这样的查询

```
 WHERE I3 = val AND I4 = val AND I5 = val 
```

如果有的话，不会很好地使用主键的复合索引。对键中提到的列值进行某种计算的查询也不会，例如

```
 WHERE I1+I2+I3=sumvalue 
```

请记住，“应该有效”与“有效”不同。尝试在 MySQL 中使用 EXPLAIN 命令来确定 DBMS 是否按照您的预期执行查询。

[http://dev.mysql.com/doc/refman/5.1/en/explain.html](http://dev.mysql.com/doc/refman/5.1/en/explain.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:04:55.453

为什么不只创建一些测试查询，在表的副本上创建索引并查看它的执行情况？

在绩效方面，衡量总是比相信意见更好。

数据库中的“最佳”解决方案很大程度上取决于所涉及表的具体细节。列中值的范围、值的分布、查询类型、选择/删除/插入/更新查询的相对频率等。

话虽如此，我的猜测是，如果该子集包含查询中使用的所有列，则子集上的索引将有所帮助。如果在索引中包含结果集（选择中的列），您可能会获得更好的性能。

# php - 防止在 Yii 框架上使用 ajaxButton/ajaxSubmitButton 加载 jQuery 资产

> ID：11078103
> 
> 赞同：4
> 
> 时间：2012-06-18T06:51:07.017
> 
> 标签：php, javascript, jquery, yii

我的布局上有 jQuery 加载资产，我想使用`CHtml::ajaxButton/ajaxSubmitButton`. 但是当我在运行时将它与另一个渲染一起使用时，它会再次加载 jQuery 资产并出错。如何防止脚本加载？

```
<?php echo CHtml::ajaxSubmitButton( 'Submit',
                                        CHtml::normalizeUrl(array('site/AjaxRequest/30')),
                                        array(
                                        'error'=>'js:function(){
                                            alert(\'error\');
                                        }',
                                        'beforeSend'=>'js:function(){
                                            alert(\'beforeSend\');
                                        }',
                                        'success'=>'js:function(data){
                                            alert(\'data from server: \'+data);
                                        }',
                                        'complete'=>'js:function(){
                                            alert(\'complete\');
                                        }',
                                        //'update'=>'#response',
                                        )
                                    );
    ?> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-18T07:34:07.167

这也是 IMO 一个非常烦人的问题。我解决的方法是创建 CClientScript 的派生类并将其用作 clientScript 组件（您可以覆盖配置文件中的类类型）：

```
'clientScript' => array
(
    'class'                       => 'MyClientScript',
), 
```

我的类重写了“registerCoreScript”函数，该函数用于注册 jQuery 和 Yii 包含的其他基本脚本。我在那里所做的几乎就是添加对ajax的检查，如果是的话，不要将其传递给父类。它看起来像这样：

```
public function registerCoreScript($sName)
{
   if (Yii::app()->request->isAjaxRequest)
      return $this;

   return parent::registerCoreScript($sName);
} 
```

这可以防止在 ajax 调用期间加载任何核心脚本（并再次添加资产）。

您也可以对其中的其他功能执行相同的操作（例如 registerScriptFile）

希望有帮助。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-18T07:46:43.463

```
Yii::app()->clientScript->scriptMap=array(
                    'jquery.js'=>false,
                    'jquery.ba-bbq.js'=>false,
                    'jquery.yiilistview.js'=>false
                ); 
```

使用这种方式来防止加载已经加载的 javascript 文件。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T07:47:00.040

这是绕过这个烦人问题的另一种方法：在 de 'render' 调用之前禁用脚本：

```
 Yii::app()->clientScript->corePackages = array();
    Yii::app()->clientScript->scriptMap = array('jquery.yiigridview.js' => false,
                                                'CGridView.css' => false,
                                                'pager.css' => false,
                                                ...
                                                'jquery-ui-i18n.min.js'=> false,);
    echo $this->renderPartial('myView',array('model'=>$model, 'dataProvider'=>$dataProvider),true,true); 
```

您必须手动放置您不想插入到 html 中的任何 .js 和 .css 文件。这使您可以启用和禁用您想要/需要的任何东西。

# protobuf-net - Protobuf-net 运行时序列化

> ID：11078104
> 
> 赞同：1
> 
> 时间：2012-06-18T06:51:07.503
> 
> 标签：protobuf-net

```
[ProtoContract]
public abstract class Animal
{
    [ProtoMember(1)]
    public abstract string Type { get; set; }
    [ProtoMember(2)]
    public string Name { get; set; }
    [ProtoMember(3)]
    public int Likeability { get; set; }
}

public class Cat : Animal
{
    public override string Type { get; set; }
    public int Friendliness { get; set; }

    public override string ToString()
    {
        return String.Format("Type : {0}, Name : {1}, Likeability : {2}, Friendliness : {3}", Type, Name, Likeability, Friendliness);
    }
} 
```

用例即

```
var animal = new Cat() { Name = "Whiskers", Friendliness = 10 , Type = "cat", Likeability = 5};
var model = TypeModel.Create();
model[typeof(Animal)].AddSubType(4, typeof(Cat));
model[typeof(Cat)].AddField(1, "Friendliness");
var typeModel = model.Compile();

var memoryStream = new MemoryStream();
typeModel.Serialize(memoryStream, animal);

var deserializedCat = new Cat() { Name = "PusPus" };
memoryStream.Seek(0, SeekOrigin.Begin);
var deserializedCat1 = typeModel.Deserialize(memoryStream, deserializedCat, typeof(Cat));
Console.WriteLine("deserializedCat : hash : " + deserializedCat.GetHashCode() + "\n" + deserializedCat);
Console.WriteLine("deserializedCat1 : hash : " + deserializedCat1.GetHashCode() + "\n" + deserializedCat1); 
```

上述用例对于可重用的运行时序列化是否正确，或者是否应该显式映射“Cat”而忽略“Animal”并且有点困惑“ComplileInPlace”与 Compile 有何不同？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:12:38.957

就运行时的映射而言，这看起来不错。它是否按预期工作？即你有一只猫回来吗？和`Animal`成员`Cat`？

方法的区别`Compile*`：

*   `CompileInPlace()` makes the *existing* model, such that future calls to `model.Serialize(...)` will use the serialized form. Normally this is automatic anyway the first time each type is required, but this allows it to be prepared ahead of time; the "in place" approach also has extra features - it can access private members, and it can do extra stack tricks for small performance tweaks - but it is not available on all platforms
*   `Compile(string,string)` allows you to compile the model to a separate dll file, which can be referenced and used for fully-static serialization (i.e. no reflection at runtime)
*   `Compile()` does something *like* that, but creates an instance of a `TypeModel` built from the model, without a separate dll file

In most cases, `CompileInPlace()` is what you are after - although you don't need to do anything at all, since it will usually automatically compile-in-place when needed

# jquery - 解析值数组 - jQuery

> ID：11078105
> 
> 赞同：3
> 
> 时间：2012-06-18T06:51:08.403
> 
> 标签：jquery, asp.net

我正在从我的 jQuery 调用 Web 服务来获取两者`Staff`和`Student`详细信息。在我的 Web 服务中，我有 Staff 和 Students 的值，并将这些值作为字符串数组返回。虽然返回值只是将这两个序列化为

```
[WebMethod(EnableSession = true)]
public string[] fetchStudentStaff(string sectionId)
{
string student;
string staff;
////
////
student = jsonSerialize.Serialize(studentList);
staff = jsonSerialize.Serialize(staffList);

return new string[] { student, staff };
} 
```

在这里，我有一个变量`category`需要提及他是员工还是学生。并在我的 jQuery 部分收到这个，

```
 [
    [
        [
            {
                "Name": "shanish",
                "StudentId": "12",
                "Category": "Student",
                "Mobile": "8147708287",
                "Email": "shanish@gmail.com"
            }
        ]
    ],
    [
        [
            {
                "Name": "shanish",
                "StaffId": "78",
                "Category": "Staff",
                "Mobile": "8147708287",
                "Email": "shanish@gmail.com"
            }
        ]
    ]
] 
```

在这里，我尝试使用`jQuery.parseJSON(data.d)`对结果进行分组，但结果是`null`，我需要用`student`and对结果进行分类`staff`，这里我有一名学生和一名员工，对于 5 名学生和 2 名员工的情况，我需要将学生存储在单独的变量和 2 个工作人员在一个单独的变量中。

我不知道如何实现这一点，任何人都可以在这里帮助我...在此先感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T06:55:48.157

我会发送一条结构化的消息：

```
return jsonSerialize.Serialize(new {students=studentList, staff=staffList}); 
```

然后在客户端：

```
$.ajax({url: urlToFetchStudentStaff, data: sectionId, dataType: 'json',
        success: function(result) {
            // assuming result.d is the JSON result message
            alert(result.d.students.length); // d.students is an array of students
            alert(result.d.staff.length); // d.staff is an array of staff
        }); 
```

# sql - 如何在 SQL Server 2008 中描述表？

> ID：11078106
> 
> 赞同：48
> 
> 时间：2012-06-18T06:51:09.520
> 
> 标签：sql, sql-server-2008

我想描述 SQL Server 2008 中的一个表，就像我们可以`DESC`在 Oracle 中使用该命令一样。

我有`[EX].[dbo].[EMP_MAST]`我想描述的表，但它不起作用。

显示错误：

> 对象“EMP_MAST”在数据库“master”中不存在或对该操作无效。

* * *

## 回答 #1

> 赞同：87
> 
> 时间：2012-06-18T07:00:05.247

您可以使用[sp_columns](http://msdn.microsoft.com/en-us/library/ms176077.aspx)，这是一个用于描述表的系统存储过程。

```
exec sp_columns TableName 
```

您也可以使用[sp_help](http://msdn.microsoft.com/en-us/library/ms187335%28v=sql.90%29.aspx)。

* * *

## 回答 #2

> 赞同：41
> 
> 时间：2012-06-18T11:45:00.403

根据[此文档](http://ss64.com/ora/desc.html)：

> DESC MY_TABLE
> 
> 相当于
> 
> SELECT column_name "Name", nullable "Null?", concat(concat(concat(data_type,'('),data_length),')') "Type" FROM user_tab_columns WHERE table_name='TABLE_NAME_TO_DESCRIBE';

我已经为您粗略地将其翻译为 SQL Server 等效项 - 只要确保您在`EX`数据库上运行它即可。

```
SELECT column_name AS [name],
       IS_NULLABLE AS [null?],
       DATA_TYPE + COALESCE('(' + CASE WHEN CHARACTER_MAXIMUM_LENGTH = -1
                                  THEN 'Max'
                                  ELSE CAST(CHARACTER_MAXIMUM_LENGTH AS VARCHAR(5))
                                  END + ')', '') AS [type]
FROM   INFORMATION_SCHEMA.Columns
WHERE  table_name = 'EMP_MAST' 
```

* * *

## 回答 #3

> 赞同：30
> 
> 时间：2014-02-12T17:01:20.613

sp_help 内置过程是 SQL Server 最接近 Oracle 的 DESC 函数恕我直言

```
sp_help MyTable 
```

采用

```
sp_help "[SchemaName].[TableName]" 
```

或者

```
sp_help "[InstanceName].[SchemaName].[TableName]" 
```

如果您需要进一步限定表名

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2013-08-11T16:03:47.467

这可能会有所帮助：

```
Use MyTest
Go
select * from information_schema.COLUMNS where TABLE_NAME='employee' 
```

{ where: MyTest= DatabaseName Employee= TableName } --可选条件

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2016-07-11T05:52:28.797

您可以使用键盘快捷键来获取表格中的描述/详细信息`SQL Server 2008`。

## 遵循以下步骤：

1.  写表名，
2.  选择它，然后按`Alt` **+** `F1`
3.  它将显示上述表格的详细信息/描述，

    1）表创建日期，
    2）列描述，
    3）身份，
    4）索引，
    5）约束，
    6）参考等。如下图所示[*示例*]：

[![Alt+F1 演示](../Images/9cde1175a95b883ec75933e5aadfbf56.png)](https://i.stack.imgur.com/rpGDv.png)

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2013-10-03T16:06:41.213

我喜欢尝试进行翻译的答案，但是，在使用代码时它不喜欢不是 VARCHAR 类型的列，例如 BIGINT 或 DATETIME。我今天需要类似的东西，所以我花时间根据自己的喜好对其进行修改。它现在也被封装在一个函数中，这是我能找到的最接近于在 oracle 处理它时键入描述的东西。我的案例陈述中可能仍然缺少一些数据类型，但这适用于我尝试过的所有内容。它还按序号位置排序。这也可以扩展为轻松包含主键列。

```
CREATE FUNCTION dbo.describe (@TABLENAME varchar(50))
returns table
as
RETURN
(
SELECT TOP 1000 column_name AS [ColumnName],
       IS_NULLABLE AS [IsNullable],
       DATA_TYPE + '(' + CASE 
                                    WHEN DATA_TYPE = 'varchar' or DATA_TYPE = 'char' THEN 
                                      CASE 
                                        WHEN Cast(CHARACTER_MAXIMUM_LENGTH AS VARCHAR(5)) = -1 THEN 'Max'
                                        ELSE Cast(CHARACTER_MAXIMUM_LENGTH AS VARCHAR(5))
                                      END
                                    WHEN DATA_TYPE = 'decimal' or DATA_TYPE = 'numeric' THEN
                                      Cast(NUMERIC_PRECISION AS VARCHAR(5))+', '+Cast(NUMERIC_SCALE AS VARCHAR(5))
                                    WHEN DATA_TYPE = 'bigint' or DATA_TYPE = 'int' THEN
                                      Cast(NUMERIC_PRECISION AS VARCHAR(5))
                                    ELSE ''
                                  END + ')' AS [DataType]
FROM   INFORMATION_SCHEMA.Columns
WHERE  table_name = @TABLENAME
order by ordinal_Position
);
GO 
```

一旦你在这里创建函数是我使用的示例表

```
create table dbo.yourtable
(columna bigint,
 columnb int,
 columnc datetime,
 columnd varchar(100),
 columne char(10),
 columnf bit,
 columng numeric(10,2),
 columnh decimal(10,2)
 ) 
```

然后可以如下执行

```
select * from describe ('yourtable') 
```

它返回以下内容

ColumnName IsNullable 数据类型

* * *

columna NO bigint(19)
columnb NO int(10)
columnc NO datetime() columnd
NO varchar(100)
columne NO char(10)
columnf NO bit()
columng NO numeric(10, 2)
columnh NO decimal(10, 2)

希望这可以帮助某人。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2014-03-19T15:48:28.860

作为 Bridge 答案的变体（我还没有足够的代表发表评论，并且对编辑该答案感觉不正确），这是一个更适合我的版本。

```
SELECT column_name AS [Name],
   IS_NULLABLE AS [Null?],
   DATA_TYPE + CASE
                 WHEN CHARACTER_MAXIMUM_LENGTH IS NULL THEN ''
                 WHEN CHARACTER_MAXIMUM_LENGTH > 99999 THEN ''
                 ELSE '(' + Cast(CHARACTER_MAXIMUM_LENGTH AS VARCHAR(5)) + ')' 
               END AS [Type]
FROM   INFORMATION_SCHEMA.Columns
WHERE  table_name = 'table_name' 
```

显着变化：

*   适用于**没有长度的类型**。对于 int 列，我看到类型为 NULL，因为长度为 null 并且它清除了整个 Type 列。所以不要打印任何长度分量（或括号）。
*   将检查*CAST*长度更改为 -1 以**检查实际长度**。我收到语法错误，因为大小写导致“*”而不是 -1。执行算术检查似乎比 CAST 溢出更有意义。
*   **非常长时不要打印长度**（任意 > 5 位）。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2016-04-26T17:27:51.593

只需输入以下行。

```
exec sp_help [table_name] 
```

# c# - 如何将值从网格列设置到文本框？

> ID：11078107
> 
> 赞同：0
> 
> 时间：2012-06-18T06:51:09.853
> 
> 标签：c#, winforms, datagridview

我有一个 DataGridView，其中有一列“总计”。DataGridView 是可编辑的。在网格视图下方，我有一个文本框，其中我想要网格的“总计”列的总数。我所做的是，当用户进入网格中的总列时，它会反映到网格视图下方的总文本字段中。为了在文本字段中显示总计，我添加了网格视图的总计列。但问题是，如果我第一次进入网格视图的总列，它会立即反映到下面的文本字段中。但是如果我在 DataGridView 的总列中编辑相同的值，网格下方的文本字段会将其与以前的值相加，我希望在文本字段中添加新的编辑值。如何解决这个问题？以下是代码：-

```
 private void grdCaret_CellEndEdit(object sender, DataGridViewCellEventArgs e)
    {
        try
        {

            string value = grdCaret.Rows[e.RowIndex].Cells[e.ColumnIndex].Value.ToString();
            if (e.ColumnIndex == 1)
            {
               int val = int.Parse(value);
               quantity = val;
               ekundag = ekundag + quantity;
               tbTotDag_cr.Text =ekundag.ToString();
            }

            if (e.ColumnIndex == 2)
            {
                float val = float.Parse(value);
                total = val;
                ekunrakam = ekunrakam + total;
                tbTotPrice_cr.Text = ekunrakam.ToString();
            }
            grdCaret.Columns[3].ReadOnly = false;
        }
        catch (Exception ex)
        {
            MessageBox.Show(ex.Message.ToString());
        }
    } 
```

# sql - 在存储过程中写入 LOGS

> ID：11078108
> 
> 赞同：0
> 
> 时间：2012-06-18T06:51:21.690
> 
> 标签：sql, sql-server, stored-procedures

我正在使用 SQL Server。我正在编写一个执行一系列查询的存储过程。我想记录每个查询的执行时间。是否可以？请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:31:14.020

使用日志表的示例：

> create procedure procedure_name
> as
> begin
> 
>     declare @start_date datetime = getdate(),
>                  @execution_time_in_seconds int
> 
>     /*你的过程代码在这里*/
> 
>     @execution_time_in_seconds = datediff(SECOND,@start_date,getdate())
>      插入你的 logging_table(execution_time_column) values(@execution_time_in_seconds )
> 结束

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T08:27:45.853

引擎已经将执行统计信息保存在[`sys.dm_exec_query_stats`](http://msdn.microsoft.com/en-us/library/ms189741.aspx). 在您将繁重的日志记录添加到您的过程中的日志表之前，请考虑您可以从这些统计信息中提取什么。包含以下值：

*   执行次数
*   执行时间（经过）
*   工作时间（并行查询中所有 CPU 的非阻塞实际 CPU 时间）
*   逻辑读/写
*   物理读取
*   返回的行数

这种信息对于性能调查来说比你在幼稚的方法中登录的信息要丰富得多，也更有用。大多数指标包含最小值、最大值和总值（通过执行计数，您还可以得到平均值）。您可以立即了解什么是昂贵的查询（经过的平均值较大的查询），哪些是经常阻塞的查询（经过的时间远高于工作时间），会导致大量写入或读取，会返回大量结果等.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T06:57:34.940

您可以通过跟踪时间戳`CURRENT_TIMESTAMP`并在要执行的语句之前和之后记录它，然后记录它们，然后比较它们以查看，当然还有有意义的消息，指示什么时候开始和结束。或者，如果您也想查看它，也可以使用它：`SET STATISTICS TIME ON`以及`SET STATISTICS TIME OFF`我在查询分析器中使用的这个。

根据您确切想要的内容，您需要确定将这些消息存储在何处以进行日志记录。像一张桌子或其他东西。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T07:01:25.790

使用 PRINT & GETDATE 记录执行时间信息

例子：

```
 DECLARE @Time1 DATETIME
    DECLARE @Time2 DATETIME
    DECLARE @Time3 DATETIME
    DECLARE @STR_TIME1 VARCHAR(255)
    DECLARE @STR_TIME2 VARCHAR(255)
    DECLARE @STR_TIME3 VARCHAR(255)

    --{ execute query 1 }
    SET @Time3 = GETDATE()
    --{ execute query 2 }
    SET @Time2 = GETDATE()
    --{ execute query 3 }
    SET @Time3 = GETDATE()

    SET @STR_TIME1 = CONVERT(varchar(255),@Time1,109)
    SET @STR_TIME2 = CONVERT(varchar(255),@Time2,109)
    SET @STR_TIME3 = CONVERT(varchar(255),@Time3,109)

    PRINT 'T1 is' + @STR_TIME1
    PRINT 'T2 is ' + @STR_TIME2
    PRINT 'T3 is ' + @STR_TIME3 
```

# sharepoint-2007 - 计时器作业未在计时器作业定义 + Sharepoint 2007 中列出

> ID：11078111
> 
> 赞同：0
> 
> 时间：2012-06-18T06:51:24.100
> 
> 标签：sharepoint-2007

我创建了一个自定义计时器作业，该作业在激活功能时添加。该功能确实被激活，没有任何例外。但计时器作业未列在 Central Admin 的计时器作业定义中。

在登台服务器上也是如此，但我在生产服务器中面临这个问题。

我正在研究 Sharepoint2007。

以下是我在**Feature Activated**中所做的。

```
public override void FeatureActivated(SPFeatureReceiverProperties properties)
        {
            try
            {
                SPSecurity.RunWithElevatedPrivileges(delegate()
                {
                    SPWeb parentWeb = properties.Feature.Parent as SPWeb;
                    UpdateEmpReferralListTimer taskJob;
                    SPMinuteSchedule schedule;
                    foreach (SPJobDefinition job in parentWeb.Site.WebApplication.JobDefinitions)
                    {

                        if (job.Name == "xyz")
                            job.Delete();
                    }
                    parentWeb = properties.Feature.Parent as SPWeb;
                    taskJob = new UpdateEmpReferralListTimer("xyz", parentWeb.Site.WebApplication);
                    schedule = new SPMinuteSchedule();
                    schedule.BeginSecond = 0;
                    schedule.EndSecond = 59;
                    taskJob.Schedule = schedule;
                    taskJob.Update();

                });
            }
            catch (Exception Ex)
            {
                string str = Ex.Message.ToString();
            }
        } 
```

**功能范围是“Web”**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-01T05:20:25.250

你怎么知道你的功能没有错误地被激活。您的代码有 try/catch 块，而您在 catch 块中什么也没做。如果您的代码抛出任何错误，您的 catch 块将抑制它。在你的 catch 块中添加这一行并检查 sharepoint 日志。

Microsoft.SharePoint.Administration.SPDiagnosticsService.Local.WriteTrace(0, new SPDiagnosticsCategory("开发调试", TraceSeverity.Unexpected, EventSeverity.Information), TraceSeverity.Unexpected, str, null);

您可以在 C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\14\LOGS 文件夹中找到日志文件

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T17:21:51.703

据我所知，如果 SharePoint 帐户设置正确，则尝试执行需要管理员权限的任务（例如创建计时器作业）不应该通过站点级功能激活回调起作用。网站正常运行的帐户没有管理权限。

由于所有帐户都具有相同的权限，它可能适用于您的登台服务器。查看您的生产服务器上的 SharePoint 日志以查看异常是什么（在删除吃异常而不重新抛出/报告它的代码之后 - `catch (Exception Ex) {...}`）。

# batch-file - 调用exe应用程序的批处理文件

> ID：11078118
> 
> 赞同：0
> 
> 时间：2012-06-18T06:52:22.970
> 
> 标签：batch-file, splunk

我有一个脚本，如果我在命令提示符下手动调用它，我可以完美地运行它。

```
cd \
cd impressio
cd input

for %%f in (.txt)do (
 echo "%%~nf"

"C:\Program Files\Splunk\bin\splunk cmd python" "D:impressio\deployment code\add_null.py" "%%~nf.txt" "%%~nf_processed.txt"

) 
```

当我将此脚本另存为`<filename>.bat`并双击时，它总是提示我一条错误消息：*“程序文件未被识别为内部或外部命令”*。

是因为环境变量设置问题吗？以前有没有人遇到过这样的事情，或者我的代码有问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:31:17.250

不确定`Program Files`错误消息中提到的原因，但您调用 Python 脚本的行似乎确实存在问题。

特别是这一点：

```
"C:\Program Files\Splunk\bin\splunk cmd python" 
```

应该是这样的：

```
"C:\Program Files\Splunk\bin\splunk" cmd python 
```

# python - 在矩阵中查找匹配的子矩阵

> ID：11078122
> 
> 赞同：9
> 
> 时间：2012-06-18T06:52:49.917
> 
> 标签：python, numpy

我有一个 100x200 二维数组，表示为一个由黑色 (0) 和白色 (255) 单元组成的 numpy 数组。它是一个位图文件。然后我有 2D 形状（最容易将它们视为字母），它们也是 2D 黑白单元格。

我知道我可以天真地遍历矩阵，但这将是我代码的“热门”部分，所以速度是一个问题。有没有一种快速的方法可以在 numpy/scipy 中执行此操作？

我简要地看了一下 Scipy 的相关函数。我对“模糊匹配”不感兴趣，只对精确匹配感兴趣。我还看了一些学术论文，但它们在我的头上。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-18T08:54:16.707

您*可以*使用关联。您需要将黑色值设置为 -1，将白色值设置为 1（反之亦然），以便您知道相关峰值的值，并且它只出现在正确的字母中。

下面的代码做我认为你想要的。

```
import numpy
from scipy import signal

# Set up the inputs
a = numpy.random.randn(100, 200)
a[a<0] = 0
a[a>0] = 255

b = numpy.random.randn(20, 20)
b[b<0] = 0
b[b>0] = 255

# put b somewhere in a
a[37:37+b.shape[0], 84:84+b.shape[1]] = b

# Now the actual solution...

# Set the black values to -1
a[a==0] = -1
b[b==0] = -1

# and the white values to 1
a[a==255] = 1
b[b==255] = 1

max_peak = numpy.prod(b.shape)

# c will contain max_peak where the overlap is perfect
c = signal.correlate(a, b, 'valid')

overlaps = numpy.where(c == max_peak)

print overlaps 
```

这将输出`(array([37]), array([84]))`代码中设置的偏移量的位置。

您可能会发现，如果您的字母大小乘以您的大数组大小大约大于 Nlog(N)，其中 N 是您正在搜索的大数组的相应大小（对于每个维度），那么您可能会得到通过使用基于 fft 的算法来加快速度`scipy.signal.fftconvolve`（请记住，如果您使用的是卷积而不是相关性，则需要翻转其中一个数据集的每个轴 -`flipud`和`fliplr`）。唯一的修改是分配 c：

```
c = signal.fftconvolve(a, numpy.fliplr(numpy.flipud(b)), 'valid') 
```

比较上述尺寸的时间：

```
In [5]: timeit c = signal.fftconvolve(a, numpy.fliplr(numpy.flipud(b)), 'valid')
100 loops, best of 3: 6.78 ms per loop

In [6]: timeit c = signal.correlate(a, b, 'valid')
10 loops, best of 3: 151 ms per loop 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-18T09:02:11.367

这是一种您可以使用或调整的方法，具体取决于您的需求细节。它使用[`ndimage.label`和`ndimage.find_objects`：](http://docs.scipy.org/doc/scipy/reference/ndimage.html)

1.  使用此标记图像`ndimage.label`查找数组中的所有 blob 并将它们标记为整数。
2.  使用获取这些 blob 的切片`ndimage.find_objects`
3.  然后使用 set intersection 查看是否`found blobs`与您的对应`wanted blobs`

`1.`和的代码`2.`：

```
import scipy
from scipy import ndimage
import matplotlib.pyplot as plt

#flatten to ensure greyscale.
im = scipy.misc.imread('letters.png',flatten=1)
objects, number_of_objects = ndimage.label(im)
letters = ndimage.find_objects(objects)

#to save the images for illustrative purposes only:
plt.imsave('ob.png',objects)
for i,j in enumerate(letters):
    plt.imsave('ob'+str(i)+'.png',objects[j]) 
```

示例输入：

![在此处输入图像描述](../Images/84d65e0c17439d0ba9e4966b5819150d.png)

标签：

![在此处输入图像描述](../Images/4229e339cdb3044a198f853f4a608e16.png)

要测试的孤立 blob：

![在此处输入图像描述](../Images/6616d7f7ae082c1a47331aa8e8617a4b.png) ![在此处输入图像描述](../Images/bd93179cd3146fe7a049d655d2b8f370.png) ![在此处输入图像描述](../Images/0d5d7db51dea3e63f4cbdd48f6cc6619.png) ![在此处输入图像描述](../Images/c0a11fafb34e2470e752073b237d09d0.png) ![在此处输入图像描述](../Images/cacaf587d810e6c40059754b855bff74.png) ![在此处输入图像描述](../Images/f854633e8294333b8bbb223b1289de18.png)

# javascript - Javascript 按钮和 document.location

> ID：11078123
> 
> 赞同：1
> 
> 时间：2012-06-18T06:52:50.467
> 
> 标签：javascript, html, url, hyperlink

我正在尝试用 javascript 做一些事情（我是初学者，我正在研究它），我想知道如何打开保存在变量中的链接。我正在尝试...

```
<input type="button" onclick="document.location.href=Query;" /> 
```

其中 Query 是 Ricerca 方法中的一个变量，可与另一个按钮一起使用

```
function ricerca()
        {
            var Link = "http://www.mysite.com/search?q=variabile&k=&e=1";

            var Name= document.getElementById('utente').value;

            var Query = Link.replace("variabile",Name);

            alert(Query); 
            return false;
        } 
```

另一个按钮生成自定义搜索链接...

```
input type="text" id="utente">
<input type="submit" value="Click me" onclick="return ricerca();" /> 
```

我的代码有什么问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T06:58:44.033

这个标记：

```
<input type="button" onclick="document.location.href=Query;" /> 
```

...将要求您有一个名为 的*全局*变量`Query`，而您没有。您在函数中有一个局部变量。您需要有一个函数（可能是您的`ricerca`函数？）*返回*URL，然后调用该函数。像这样的东西：

```
function ricerca()
{
    var Link = "http://www.mysite.com/search?q=variabile&k=&e=1";

    var Name= document.getElementById('utente').value;

    var Query = Link.replace("variabile",Name);

    return Query;
} 
```

和

```
<input type="button" onclick="document.location.href=ricerca();" /> 
```

另外，只需使用`location.href`而不是`document.location.href`. `location`是一个全局变量（它是 的属性`window`，并且所有`window`属性都是全局变量），这就是您用来加载新页面的变量。

# php - 在xcode中将PHP变量传递给NSString

> ID：11078125
> 
> 赞同：0
> 
> 时间：2012-06-18T06:53:00.900
> 
> 标签：php, iphone, xcode

是否可以在 NSString 中存储 PHP 变量值？

获取变量.php

```
<?php
$variable = 6;
?> 
```

注意：我对仅使用 UIWebview 访问 getvariable.php 并回显 $getvariable 不感兴趣。我需要将此变量存储在 NSString 中。

我该怎么做？是通过 NSURLRequest、NSURLConnection 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:59:52.230

我知道了。

在变量.php

```
<?php
$var = 11;
echo $var;
?> 
```

在我的 xcode class.m

```
NSString * url = [NSString stringWithFormat:@"http://website.com/variable.php"];
NSData *data = [NSData dataWithContentsOfURL:[NSURL URLWithString:url ]];
NSString * serverOutput= [[NSString alloc]initWithData:data encoding:NSASCIIStringEncoding];

NSLog(@"php variable is %@,serverOutput"); // it will print 11; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:29:49.497

您不能将变量从 PHP 传递到 Objective c，或任何其他客户端应用程序，您需要创建一个层 XML 或 RESTful 接口来获取该变量

例如，您可以将您的 php 更新为以下内容（如果需要，可以使用 JSON 的简单文本）

```
<?php
echo ("Variable:6");
?> 
```

然后在 xCode 中执行以下操作

```
NSString *strContent = [NSString stringWithContentsOfURL:@"YourUrl/getvariable.php"];
//Then get the var
NSString *strVariable = [strContent substringFromIndex:
               [strContent rangeOfString:@":"].location]; 
```

这是一个简单的同步文本请求，如果您愿意，可以将其更改为 JSON 和异步

# asp.net-mvc-3 - 更新对象图时实体框架的断开行为

> ID：11078126
> 
> 赞同：3
> 
> 时间：2012-06-18T06:53:10.853
> 
> 标签：asp.net-mvc-3, wcf, entity-framework-4.1, disconnected-environment

我目前正在处理一个使用以下技术的项目。

1.  ASP.net MVC - 表示层
2.  数据服务层 - (WCF)
3.  具有自动映射器的数据传输对象 (DTO) 层
4.  领域层（POCO，代码优先实体框架）
5.  存储库层 + 实体框架 4.3 + DbContext。

我们使用 DTO 使用自动映射器反之转换域对象，并使用 WCF 服务发送到前端。

此外，我们在 WCF 层为每个请求创建基于每个请求的 DBContext，我们的 WCF 服务上下文是由客户端 DTO 中的 Per Call 和 No Tracking enable 构造的，并且它是完全断开的。

我们也有以下对象图。

```
public class User : BaseEntity
    {
        public virtual Identity Identity { get; set; }

        public string UserName { get; set; }

        public string Password { get; set; }

        public int IdentityId { get; set; }

        public virtual IList<Group> Groups{ get; set; }
    }

 public class Identity : BaseEntity
    {
        public string FirstName { get; set; }

        public string LastName { get; set; }

        public virtual IList<Email> Emails { get; set; }

        public virtual IList<PhoneNumber> PhoneNumbers { get; set; }
    } 
```

与域相比，我们的 Dto 结构更像相同。

我的问题：

当涉及到更新对象图例如：**UpdateUser(User user)** ; Entity Framework 的最佳方法是什么？

现在我们使用单个函数来保存导航数据，例如：**UpdateEmail(userId, Email)**（只保存原始数据而不是关系）；因此，当我们考虑一个 UnitOfWork 时，它会在数据库中进行大量插入和更新。

当前实现如下

```
 public void UpdateUser(User user)
    {
    UpdateEmail(user.userId, user.Idenity.Emails);
    UpdatePhone(user.userId, user.Identity.PhoneNumbers);

    etc.............

    UpdateUser(user);
    UnitOfWork.Commit();// Calling DbContext.SaveChanges();
    } 
```

在上述情况下，是否有任何模式或最佳实践可以与实体框架一起使用断开对象图？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-18T11:23:19.277

解决它的选择并不多。[EF 没有任何直接支持](https://stackoverflow.com/questions/3635071/update-relationships-when-saving-changes-of-ef4-poco-objects/3635326#3635326)更新断开连接的对象图。您必须编写更新逻辑，通常有两种方法：

*   当您从服务请求中收到更新的用户时，您将调用数据库并获取当前数据库状态 = 具有所有受影响关系的用户。您将使用数据库版本和更新版本来构建有效的更改集，因此最终 EF 将仅更新、插入和删除真正更改的数据。
*   您还将修改您的 DTO 以传输状态，并且您的客户将负责设置他对 DTO 所做的修改类型。您将使用此信息正确配置`ChangeTracker`每个收到的实体。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-01-08T13:00:39.237

[Julie Lerman 在一些视频](http://pluralsight.com/training/Courses/TableOfContents/efarchitecture)中很好地解释了这一点

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T14:34:27.543

现在您的问题是您使用 EF 并且需要大量更新吗？我在这里看不到解决方法，因为您的电话号码和电子邮件是单独的表格。您可以为包含前五个的用户创建一个扁平实体，并映射到插入的过程。它会减少电话，但不是最干净的恕我直言。如果您同时处理许多用户，那么可能会分解 UO​​W 以仅针对每个用户执行操作，这样您的交易就会更短。当前是否存在性能问题或只是未来的问题？——</p>

如果没有展平，您与不使用 EF 的情况没有什么不同。我不明白为什么认为因为您使用的是 DDD，所以您不能引入特定于数据映射的实体。您的实体仍然可以使用，您只是另外有一个带有映射的新实体。实际上，您可以稍后在存储库中没有实体的情况下执行此操作（存储库查询更改的对象、展平并发送到数据访问层以调用 proc）

# php - php中唯一的API密钥

> ID：11078127
> 
> 赞同：0
> 
> 时间：2012-06-18T06:53:12.993
> 
> 标签：php, cakephp, phpmyadmin

```
<?php
if(isset($_POST['btnSubmit']) and $_GET['action'] == "Add")
{
    $Users->copyPostData();
    $Users->_password(md5($_POST[password]));
    $Users->_status(0);
    $Users->_apikey(md5("ONE@:".$_POST[uname].":@STEP"));

    $userNum = $Users->checkUserExist($Users->_username());
    $userEmail = $Users->checkEmailExist($Users->_email());
    if(($userNum == '0' || $userNum == '') && ($userEmail == '0' || $userEmail == '')) {

    $randomVar = generateRandomNo(8);
    $Users->_activationcode($randomVar); 
```

我这行代码生成一个 API KEY 并将其保存在我的数据库中。我的表名是 USERS .. 但是这行代码生成的 api 密钥对所有用户都是相同的......我想要所有用户的唯一 API 密钥......你能帮忙吗？

```
$Users->_apikey(md5("ONE@:".$_POST[uname].":@STEP")); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T08:03:31.823

您应该使用 uniqid() 来生成唯一密钥！顺便说一下，它是一个内置的 php 函数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T07:06:11.073

您正在创建一个字符串的 md5，它对所有用户都相同的唯一原因是因为该字符串对每个人都是相同的。

检查内容`$_POST['uname']`

# cgi - MapServer cgi-bin 从查询字符串中获取值并连接到 Postgres 查询

> ID：11078130
> 
> 赞同：2
> 
> 时间：2012-06-18T06:53:44.303
> 
> 标签：cgi, mapserver, map-files

我正在使用 cgi-bin 并显示一张地图，其中包含 Postgres 数据库中的一些数据。

但是，我需要引入一个输入，用户可以在其中选择一个日期，这个日期将过滤数据库中的结果。

我有输入并通过 URL（get 方法）发送参数，但我不知道如何从 cgi-bin 查询字符串中获取此参数以及如何将参数的值连接到数据库查询。

这是地图文件的代码部分：

```
LAYER
DATA "the_geom from (select * from
  vista_puntos where date > <DATE_VAR_FROM_QUERY_STRING>) as subquery
  using unique id_valor using srid=4326" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-22T09:49:38.820

**在DATA**中使用 select 查询， 然后使用**FILTER** * *MAPSERV* * 为 Filter 创建 Where 子句

**例子**

```
 DATA "geom from roads"
    FILTER "type='%road1%' or type='%road2%'"

        CLASS
            NAME "Road Type1"
            EXPRESSION ('[type]' = 'type1')
            STYLE
                SIZE 10
                COLOR 255 0 0 
            END
        END

        CLASS
            NAME "Road Type2"
            EXPRESSION ('[type]' = 'type2')
            STYLE
                SIZE 10
                COLOR 0 255 0
            END
        END 
```

查询字符串格式如下：`..mapserv.exe?map=mapfile&road1=type1&road2=type2`

# c++ - 提升 async_read_some 不完全是异步的

> ID：11078134
> 
> 赞同：0
> 
> 时间：2012-06-18T06:54:12.633
> 
> 标签：c++, boost, boost-asio, shared-ptr, boost-thread

这是我的服务器代码：

```
socket_.async_read_some(boost::asio::buffer(data_read.data(), Message::header_length),
    boost::bind(&TcpConnection::handle_read_header, shared_from_this(),
    boost::asio::placeholders::error)); 
```

如果我在循环中编写以下代码

```
boost::thread::sleep(boost::posix_time::seconds(2)); 
```

在上面的'async_read_some'调用的'handle_read_header'函数中，整个线程正在等待直到睡眠结束。因此，当另一个请求进来时，它不会被处理，直到睡眠结束。不是假设异步处理每个请求吗？我是 boost 和 C++ 的新手。如果我提到了任何错误，请告诉我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T06:58:16.013

Read schedule with`async_read_some`是在调用的线程中实现的`io_service::run()`。如果您只有一个线程**，它将等待完成一个读取处理程序，然后再启动另一个**。

您可以通过运行更多线程`io_service::run()`或缩短读取处理程序的执行时间来创建线程池。

# php - Codeigniter - SQL Server 2008：如何在存储过程中获取参数输出

> ID：11078139
> 
> 赞同：0
> 
> 时间：2012-06-18T06:54:29.133
> 
> 标签：php, sql-server, codeigniter

我在 SQL Server 2008 中有一个过程

```
CREATE PROCEDURE dbo.testing
    @parm varchar(10),
    @parmOUT varchar(30) OUTPUT
AS
BEGIN
   SELECT @parmOUT = 'parm 1 ' + @parm
END 
```

我有一个查询可以在 Codeigniter 框架字中访问此过程。我使用 sqlsrv_driver 数据库。

```
$param1 = 'test';
$param2 = '1';
$this->db->query("dbo.testing ?,  ?", array($param1, $param2)); 
```

我已经执行了该过程，但我无法检索第二个参数值 ($param2)。

任何人都知道得到这个第二个参数值？

谢谢b4

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:24:02.520

在您的存储过程中，您正在传递一个输入参数和一个指定的输出参数。所以SP应该像下面这样修改

```
ALTER PROCEDURE dbo.testing
@parm varchar(10),
@parmOUT varchar(30) OUTPUT
AS
BEGIN
SELECT  'parm 1 ' + @parm
END 
```

现在为了执行上面的 SP 你只需要传递一个输入参数

```
 declare @out varchar(30)
 exec testing 'test', @parmOUT=@out OUTPUT 
```

您只需将结果检索为

```
 param1test 
```

没有第二个参数可以从您的 SP 中检索。您将获得的唯一值是您在选择查询中指定的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-03-07T07:12:11.250

```
$sql = 'DECLARE @RETURNV VARCHAR(20)
EXEC dbo.testing ?, @parmOUT= @RETURNV OUTPUT
SELECT @RETURNV AS RETURNV';
$param = array(
  "This is first param"
);
$temp = $this->db->query($sql, $param);
$result = $temp->result_array();
echo "<pre>".print_r($result, true)."</pre>"; 
```

# javascript - 如何在 Node.js 中为非常大（> 1GB）文件的每一行运行异步函数

> ID：11078141
> 
> 赞同：6
> 
> 时间：2012-06-18T06:54:36.247
> 
> 标签：javascript, node.js, asynchronous, stream, filestream

假设您有一个巨大的 (> 1GB) CSV 记录 ID：

```
655453
4930285
493029
4930301
493031
... 
```

对于每个`id`您想要调用 REST API 来获取记录数据、在本地对其进行转换并将其插入到本地数据库中的操作。

你如何使用 Node.js 的[Readable`Stream`](https://github.com/joyent/node/wiki/Streams)做到这一点？

我的问题基本上是这样的：你如何逐行读取一个非常大的文件，为每一行运行一个异步函数，并且[可选地]能够从特定行开始读取文件？

从以下 Quora 问题我开始学习使用`fs.createReadStream`：

[http://www.quora.com/What-is-the-best-way-to-read-a-file-line-by-line-in-node-js](http://www.quora.com/What-is-the-best-way-to-read-a-file-line-by-line-in-node-js)

```
var fs = require('fs');
var lazy = require('lazy');

var stream = fs.createReadStream(path, {
  flags: 'r',
  encoding: 'utf-8'
});

new lazy(stream).lines.forEach(function(line) {
  var id = line.toString();
  // pause stream
  stream.pause();
  // make async API call...
  makeAPICall(id, function() {
    // then resume to process next id
    stream.resume();
  });
}); 
```

但是，该伪代码不起作用，因为该[`lazy`模块](https://github.com/pkrumins/node-lazy/blob/master/lazy.js#L179)会强制您读取整个文件（作为流，但没有暂停）。所以这种方法似乎行不通。

另一件事是，我希望能够从特定行开始处理此文件。这样做的原因是，处理每个`id`记录（进行 api 调用、清理数据等）每条记录最多可能需要半秒，所以我不想每次都从文件的开头开始。我正在考虑使用的天真的方法是捕获最后处理的 id 的行号，然后保存它。然后，当您再次解析文件时，您逐行遍历所有 id，直到找到您离开的行号，然后您就可以执行此操作`makeAPICall`。另一种天真的方法是编写小文件（比如 100 个 id）并一次处理每个文件（足够小的数据集，可以在没有 IO 流的情况下在内存中执行所有操作）。有一个更好的方法吗？

我可以看到这变得多么棘手（以及[node-lazy](https://github.com/pkrumins/node-lazy)出现的地方），因为`chunk`in`stream.on('data', function(chunk) {});`可能只包含一行的*一部分*（如果 bufferSize 很小，每个块可能是 10 行但因为它`id`是可变长度的，它可能只是9.5 行或其他）。这就是为什么我想知道解决上述问题的最佳方法是什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2017-11-06T04:44:48.117

与 Andrew Андрей Листочкин 的回答相关：

您可以使用像[byline](https://github.com/jahewson/node-byline)`data`这样的模块来为每一行获取单独的事件。它是围绕原始文件流的转换流，它`data`为每个块生成一个事件。这使您可以在每行之后暂停。

`byline`不会像`lazy`显然那样将整个文件读入内存。

```
var fs = require('fs');
var byline = require('byline');

var stream = fs.createReadStream('bigFile.txt');
stream.setEncoding('utf8');

// Comment out this line to see what the transform stream changes.
stream = byline.createStream(stream); 

// Write each line to the console with a delay.
stream.on('data', function(line) {
  // Pause until we're done processing this line.
  stream.pause();

  setTimeout(() => {
      console.log(line);

      // Resume processing.
      stream.resume();
  }, 200);
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T08:01:43.773

我想你不需要使用`node-lazy`. 这是我在[Node 文档](http://nodejs.org/api/stream.html#stream_event_data)中找到的内容：

> **事件**：`data`
> 
> ```
> function (data) { } 
> ```
> 
> 该`data`事件发出一个`Buffer`（默认情况下）或一个`string`if `setEncoding()`被使用。

所以这意味着你调用`setEncoding()`你的流然后你的`data`事件回调将接受一个字符串参数。然后在这个回调中你可以调用使用[`.pause()`](http://nodejs.org/api/stream.html#stream_stream_pause)和[`.resume()`](http://nodejs.org/api/stream.html#stream_stream_resume)方法。

伪代码应如下所示：

```
stream.setEncoding('utf8');
stream.addListener('data', function (line) {
    // pause stream
    stream.pause();
    // make async API call...
    makeAPICall(line, function() {
        // then resume to process next line
        stream.resume();
    });
}) 
```

*尽管文档没有明确指定流是逐行读取的，但我认为文件流就是这种情况。至少在其他语言和平台中，文本流以这种方式工作，我认为节点流没有任何不同的理由。*

# java - 如何使用 hibernateTemplate 获取多个 HQL 的 EntityObject

> ID：11078143
> 
> 赞同：0
> 
> 时间：2012-06-18T06:54:47.390
> 
> 标签：java, spring, hibernate

我有一张桌子说

```
MyTable (myId,myStringCol1,myStringCol2,myStringCol3) 
```

使用时

## QUERY1

```
hibernateTemplate.find("SELECT new(myId,myStringCol1) from MyTable") 
```

我正在获取 MyTable 对象，为此在 MyTable 类中应该有一个构造函数，如下所示

```
MyTable{
      MyTable(Integer id,String col1){
          this.id = id;
          this.col1 = col1;
       }

} 
```

但是当我在另一种方法中这样调用时

## QUERY2

```
hibernateTemplate.find("SELECT new(myId,myStringCol2) from MyTable")  ///myStringCol2 
```

在这里，也有一个构造函数，就像上面一样，但是我们不能创建相同的签名构造函数。因此，在运行第二个查询（QUERY2）时，由于第一个构造函数，我在 col1 中获取了 myStringCol2 值。

那么我该如何解决这个问题..

等待建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:20:25.273

首先，在这两种情况下，我可能会简单地选择完整的实体，因为它在性能方面不会有太大的区别，你会有一个附加的实体，它会简单得多。

现在回答您的技术问题，只需自己实现结果循环：

```
String hql = "select mt.myId, mt.myStringCol2 from MyTable mt";
List<Object[]> rows = session.createQuery(hql).list();
List<MyTableDTO> result = new ArrayList<MyTableDTO>(rows.size());
for (Object[] row : rows) {
    result.add(new MyTableDTO((Long) row[0], (String) row[1]));
} 
```

就这么简单，您将获得可重构代码作为额外的奖励。

我还强烈建议不要使用实体类来存储此类查询的结果。创建仅包含查询返回的字段的特定 DTO 对象。如果一个方法返回一个实体类的实例，调用者将期望得到正确的、完全填充的、附加的实体实例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:14:29.897

这个怎么样：

```
class MyTable1{
      MyTable1(Integer id,String col1, String col2){
          this.id = id;
          this.col1 = col1;
          this.col2 = col2;
       }

} 
```

进而：

第一季度

```
hibernateTemplate.find("SELECT new(myId,myStringCol1,'') from MyTable") 
```

第二季度

```
hibernateTemplate.find("SELECT new(myId,'',myStringCol2) from MyTable") 
```

**如果**你可以传递 null 而不是 ''会很好，但 AFAIK 你**不能**，因为有一个错误阻止你这样做：[https ://forum.hibernate.org/viewtopic.php?f=1&t=985612&start =0](https://forum.hibernate.org/viewtopic.php?f=1&t=985612&start=0)。所以，你将**不得不**使用**''**

受 Talha 答案启发的另一种选择是：

```
class MyTable{
      MyTable(Integer id,String col1, Boolean isColumn2){
          this.id = id;
          if(isColumn2){
             this.col2 = col2;
          }
          else{
             this.col1 = col1;
          }
      }      
} 
```

然后你可以写：

第一季度

```
hibernateTemplate.find("SELECT new(myId,myStringCol1,false) from MyTable") 
```

第二季度

```
hibernateTemplate.find("SELECT new(myId,myStringCol2,true) from MyTable") 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:26:41.750

您需要的是一个单独的 DTO。

```
MyTableDto {
      MyTableDto1(Integer id,String col) {
          this.id = id;
          this.col = col;
       }

} 
```

然后，您可以分别查询列：

```
hibernateTemplate.find("SELECT new MyTableDto(t.id,t.myStringCol1) from MyTable t"); 
```

和

```
hibernateTemplate.find("SELECT new MyTableDto(t.id,t.myStringCol2) from MyTable t"); 
```

为了进一步消除代码中的歧义并使其更具可读性，您可以创建两个单独的 DTO 对象（它们只会在名称上有所不同，但会使您的代码更具可读性，因为它们包含不同的数据）。

# qt - 在 Qt 中返回 uint QDir::count () const

> ID：11078145
> 
> 赞同：0
> 
> 时间：2012-06-18T06:54:53.740
> 
> 标签：qt, qt4

假设我有一个文件夹，里面还有另外两个文件。

但是当我使用 uint QDir::count () const 时，它给了我 4 而不是 2 。额外的 2 用于“。” 和“..”。我不明白这是什么“。” 和 ”..”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T06:56:25.200

“。” 是当前文件夹，“..”是父文件夹。它更像是 Linux 的东西，而不是 Windows 的东西。如果您只是计算文件夹中的文件，则可以忽略它们。

# linux - Bash 多行回显

> ID：11078146
> 
> 赞同：1
> 
> 时间：2012-06-18T06:54:55.987
> 
> 标签：linux, bash, echo, ubuntu-12.04

我试图创建一个脚本来列出目录的内容：

```
#!/bin/bash
matched=$(ls -1 /data/ | grep $1)
echo $matched 
```

我已将参数添加`-1`到`ls`命令中，当这样执行时`./script dir`，输出在一行：

```
dir1 dir2 
```

我也试过`echo -e $matched`，但输出是：

```
-e dir1 dir2 
```

那么如何在单独的行上列出每个目录？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:58:00.387

尝试在要回显的字符串周围使用双引号：

```
echo "$matched" 
```

这里的引号导致某些特殊字符被保留；看[这里](https://www.gnu.org/software/bash/manual/bash.html#Double-Quotes)。

**编辑**：请参阅 cdarke 的评论以获得更好的解释。

# android - 当画廊开始滚动和停止滚动时，我怎么能 kong

> ID：11078147
> 
> 赞同：0
> 
> 时间：2012-06-18T06:54:59.123
> 
> 标签：android, android-gallery, android-scroll

我有一个画廊，我从*Android 源代码*中的画廊重写它。

现在我想获得它的开始和停止状态，我该怎么做？

我只想知道**画廊什么时候开始和停止**，所以我可以让我的动画正确开始停止！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:00:54.327

您可以通过调用 setCallbackDuringFling(false) 稍微调整一下 Galleryview 的行为。这应该将对 onItemSelected 的调用限制在用户停止滚动的情况下。

查看[链接](https://stackoverflow.com/questions/4733798/how-to-know-when-gallery-widget-stop-scrolling)

# mysql - MySQL 如何在转换（InnoDB）时处理巨大的插入？

> ID：11078152
> 
> 赞同：1
> 
> 时间：2012-06-18T06:55:28.730
> 
> 标签：mysql, transactions, innodb

我正在开展一个项目，其中大量导入，在我的情况下意味着大约 20 000 行和 20 列数据，并且正在计划一些自制的不安全解决方案，以确保如果中途出现错误不会导入任何数据。

考虑到我将使用的数据量，我认为 MySQL 事务不适合此目的。只是为了确定，我测试了它。在导入之前我开始一个事务，完成导入我提交它。在提交语句中，20 000+ 行在几毫秒内顺利插入到表中，在导入期间没有任何显着的内存或 CPU 使用。

我无法围绕它来思考！这是如何运作的？极限在哪里？我浏览了 TRANSACTION 文档，找不到任何关于它如何在引擎盖下运行的信息。我在想 MySQL 肯定在使用一些技巧，我应该注意以防适得其反。

我会接受任何关于上述段落的可靠信息的答案

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T07:15:51.017

仅受 redo_log_size 的限制，当然还有您的硬件规格。如果您进行大型事务（20.000 足够体面，但并非闻所未闻的几百万个事务，从长远来看），请确保将 inno_db_log_file_size=[accepptable file size, like 256M of more] 设置为大数量足够。

有关优秀 mysqlperformanceblog 的更多有用信息：[http ://www.mysqlperformanceblog.com/2009/01/13/some-little-known-facts-about-innodb-insert-buffer/](http://www.mysqlperformanceblog.com/2009/01/13/some-little-known-facts-about-innodb-insert-buffer/)

# python - manage.py 和 other.py 文件不在同一级别文件中

> ID：11078158
> 
> 赞同：1
> 
> 时间：2012-06-18T06:55:52.320
> 
> 标签：python, django, django-settings

我有 Django 1.4 和 Python 2.6.6 当我使用“django-amdin.py startproject djproject”时，请按照网页 [https://www.ibm.com/developerworks/cn/linux/l-django/#resources](https://www.ibm.com/developerworks/cn/linux/l-django/#resources)中的步骤操作 而我获取文件如下：

```
djproject/
|-- djproject
|   |-- __init__.py
|   |-- settings.py
|   |-- urls.py
|   `-- wsgi.py
`-- manage.py 
```

注意：manage.py 和 other.py 文件不在同级文件夹，为什么？

++++++

```
DATABASES = {  
    'default': {  
        'ENGINE': 'django.db.backends.sqlite3', # Add 'postgresql_psycopg2', 'mysql', 'sqlite3' or 'oracle'.  
        'NAME': 'db/tdata.db',                      # Or path to database file if using sqlite3\.  
        'USER': '',                      # Not used with sqlite3\.  
        'PASSWORD': '',                  # Not used with sqlite3\.  
        'HOST': '',                      # Set to empty string for localhost. Not used with sqlite3\.  
        'PORT': '',                      # Set to empty string for default. Not used with sqlite3\.  
    }  
} 
```

当我将“ENGINE”配置为“sqlite3”而不是“django.db.backends.sqlite3”时，出现错误：

```
django.core.exceptions.ImproperlyConfigured: 'sqlite3' isn't an available database backend.  
Try using django.db.backends.sqlite3 instead.  
Error was: No module named base 
```

这也是1.4的新角色吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T06:58:38.197

这[在 Django 1.4](https://docs.djangoproject.com/en/dev/releases/1.4/#updated-default-project-layout-and-manage-py)中有所改变：

> Django 1.4 附带更新的默认项目布局和用于 startproject 管理命令的 manage.py 文件。这些修复了之前 manage.py 处理 Python 导入路径的一些问题，这些问题导致双重导入、从开发到部署的麻烦以及其他难以调试的路径问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T06:59:03.130

项目目录结构在 Django 1.4 中改变

更多细节在这里 - [http://www.tdd-django-tutorial.com/blog/articles/2012/tutorials-updated-django-14-and-its-weird-new-fold/](http://www.tdd-django-tutorial.com/blog/articles/2012/tutorials-updated-django-14-and-its-weird-new-fold/)

# scala - Scala集合一对一映射？

> ID：11078161
> 
> 赞同：1
> 
> 时间：2012-06-18T06:56:04.473
> 
> 标签：scala, scala-collections

如果它很简单，请原谅我，但在 scala 中执行以下操作的最有效方法是什么：

假设我有两个具有完全相同数量的元素的集合 A 和 B。例如，

```
A = {objectA1, objectA2, .... objectAN} 
B = {objectB1, objectB2, .... objectBN} 
```

我想得到`{{objectA1, objectB1}, {objectA2, objectB2}, ... {objectAN, objectBN}}`。请注意，这些集合可能非常大。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-18T08:14:45.057

@Tomasz 回答的一些补充：如果集合非常大，则使用效率低下，`a zip b`因为它将创建一个完整的中间集合。有一个替代方案：

```
scala> (a,b).zipped
res15: scala.runtime.Tuple2Zipped[Int,Seq[Int],Char,Seq[Char]] = scala.runtime.Tuple2Zipped@71060c3e

scala> (a,b,b).zipped // works also for Tuple3
res16: scala.runtime.Tuple3Zipped[Int,Seq[Int],Char,Seq[Char],Char,Seq[Char]] = scala.runtime.Tuple3Zipped@30b688e1 
```

在内部，[Tuple2Zipped](http://www.scala-lang.org/api/current/index.html#scala.Tuple2%24Zipped)和[Tuple3Zipped](http://www.scala-lang.org/api/current/index.html#scala.Tuple3%24Zipped)使用迭代器。当您想要转换拉链时，这会提高效率。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-18T07:02:21.100

压缩它们：

```
A zip B 
```

例子：

```
scala> val a = Seq(1, 2, 3, 4, 5)
a: Seq[Int] = List(1, 2, 3, 4, 5)

scala> val b = Seq('a', 'b', 'c', 'd', 'e')
b: Seq[Char] = List(a, b, c, d, e)

scala> a zip b
res5: Seq[(Int, Char)] = List((1,a), (2,b), (3,c), (4,d), (5,e)) 
```

如果`A`和`B`是迭代器，这也将创建一个对的迭代器。

# php - 带有静态方法的 PHP C++ 扩展

> ID：11078162
> 
> 赞同：1
> 
> 时间：2012-06-18T06:56:08.900
> 
> 标签：php, static-methods, php-extension

我有一个包含静态方法的 C++ 类。

声明：

```
class QConfig
{       
    public:
        static int testStatic();
}; 
```

执行：

```
int QConfig::testStatic()
{
    return 12345;
} 
```

我希望能够从 PHP 中使用它，如下所示：

```
echo QConfig::testStatic() // expected result: 12345 
```

我试过使用：

```
PHP_METHOD(QConfig, testStatic)
{
    QConfig *qconfig;
    qconfig_object *obj = (qconfig_object *)zend_object_store_get_object(
        getThis() TSRMLS_CC);
    qconfig = obj->qconfig;
    if (qconfig != NULL) {
        RETURN_LONG(qconfig->testStatic, 1);
    }
    RETURN_NULL();
} 
```

...

```
function_entry qconfig_methods[] = {
    PHP_ME(QConfig,  staticTest,      NULL, ZEND_ACC_PUBLIC)
    {NULL, NULL, NULL}
}; 
```

但这会导致构建错误：

```
/home/testuser/test/mytest.cc:81:9: error: invalid conversion from 'int (*)()' to 'long int' [-fpermissive]
/home/testuser/test/mytest.cc: At global scope:
/home/testuser/test/mytest.cc:122:1: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
make: *** [mytest.lo] Error 1 
```

如何访问 C++ PHP 扩展中的静态方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-02-07T16:12:39.990

更改`ZEND_ACC_PUBLIC`为`ZEND_ACC_STATIC`。

# c# - 在主窗口边界上方/外部显示 wpf 内容

> ID：11078163
> 
> 赞同：8
> 
> 时间：2012-06-18T06:56:10.790
> 
> 标签：c#, wpf, xaml, clipping, mainwindow

我正在尝试实现将主窗口边界与控件重叠的效果。很难用语言来解释这一点，这也可能是为什么我很难找到有关如何执行此操作或什至可能的信息的原因。

下面是我试图获得的效果示例（来自设计器），其中“注释”对象漂浮在主窗口的边界之外。

![示例 1](../Images/ac53cc4b68e712d9cf762a2534dbade9.png)

但是我在运行时得到的效果是这样的（下图），内部控件被主窗口的边界剪裁。

![示例 2](../Images/fd96234987f4c93f0cd6b26a512cf088.png)

**有人可以告诉我这是否可能（或不可能），以及是否有一些关于如何获得这种效果的建议。**

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-08-14T01:55:42.270

有一个控件可以实现这种行为你试过一个**Popup**控件吗？看看[这个](http://msdn.microsoft.com/en-us/library/bb613596(v=vs.110).aspx)

这是一个例子；e"

```
<Window x:Class="MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="MainWindow" Height="350" Width="525">
<Grid>
    <ToggleButton x:Name="MainButton" Content="Show popup" VerticalAlignment="Top" HorizontalAlignment="Right"/>
    <Popup PlacementTarget="{Binding ElementName=MainButton}" Placement="Bottom" AllowsTransparency="True" IsOpen="{Binding ElementName=MainButton, Path=IsChecked}">
        <Grid>
            <Border BorderBrush="Orange" BorderThickness="1" Background="Yellow"/>
            <TextBlock Text="Lorem Ipsum is simply dummy text of the printing and typesetting industry"/>
        </Grid>            
    </Popup>
</Grid> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T07:29:44.223

窗口的内容总是会被剪裁。所以基本上只有一种方法可以去这里。您可以通过为浮动内容创建一个新的透明窗口，然后根据主窗口的位置手动设置和更新浮动内容窗口的位置来获得所需的效果。

到目前为止，我一直在使用[AvalonDock](http://avalondock.codeplex.com/)来实现类似的功能。你可以试一试...

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T07:28:41.303

我认为没有办法在窗口范围之外进行绘制。但是，您可以简单地为便笺控件创建一个新窗口并将其与主窗口对齐。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T07:06:40.503

您是否尝试[过 ClipToBounds](http://msdn.microsoft.com/en-us/library/system.windows.uielement.cliptobounds.aspx)属性？

# ruby-on-rails - 如何在没有 RVM 的 Ubuntu 上安装 Ruby 1.9.3？

> ID：11078166
> 
> 赞同：19
> 
> 时间：2012-06-18T06:56:21.150
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1, rubygems

我想在没有 rvm 的 Ubuntu 上安装 ruby​​ 1.9.3

我跑

```
sudo apt-get install ruby 
```

它需要 ruby​​ 1.8 和 ruby​​ 1.9.1。

如果我这样做

```
sudo apt-get install ruby 1.9.3 -p XXXX 
```

我仍然无法安装红宝石。如何在 Ubuntu 上安装 ruby​​？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-10-12T14:06:29.927

在 Ubuntu 12.04 LTS 上，我让它与以下内容一起工作：

```
sudo apt-get install ruby 1.9.3
cd /etc/alternatives
sudo ln -sf /usr/bin/ruby1.9.3 ruby 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-09-30T09:04:03.157

第一种方法

来源
[http://lenni.info/blog/2012/05/installing-ruby-1-9-3-on-ubuntu-12-04-precise-pengolin/](http://lenni.info/blog/2012/05/installing-ruby-1-9-3-on-ubuntu-12-04-precise-pengolin/)

新的 Ubuntu 版本刚刚推出，并附带了大量的新软件包。就个人而言，我非常密切地跟踪 Ruby 的开发，但 Ubuntu 上的默认 Ruby 仍然是我不能推荐的 1.8 系列。与 1.9.2 相比，Ruby 1.9 有一些性能改进，特别是 1.9.3 有很多改进。

然而，正如我在上一篇文章中所阐述的那样，在 Ubuntu 上不使用 RVM 而不是 1.8 获得 Ruby 1.9 系列并不是那么容易。如果您对详细信息感兴趣，请阅读该帖子。

简短的版本是：您可以通过安装 ruby​​-1.9.1 包获得 Ruby 1.9.3-p0。（该软件包称为 1.9.1，因为那是 ABI 版本。）

如果您想将 Ruby 1.9 设为默认值，请执行以下操作：

```
sudo apt-get update

sudo apt-get install ruby1.9.1 ruby1.9.1-dev \

 rubygems1.9.1 irb1.9.1 ri1.9.1 rdoc1.9.1 \ build-essential libopenssl-ruby1.9.1 libssl-dev zlib1g-dev

sudo update-alternatives --install /usr/bin/ruby ruby /usr/bin/ruby1.9.1 400 \
     --slave   /usr/share/man/man1/ruby.1.gz ruby.1.gz \
                /usr/share/man/man1/ruby1.9.1.1.gz \
     --slave   /usr/bin/ri ri /usr/bin/ri1.9.1 \
    --slave   /usr/bin/irb irb /usr/bin/irb1.9.1 \
    --slave   /usr/bin/rdoc rdoc /usr/bin/rdoc1.9.1

# choose your interpreter
# changes symlinks for /usr/bin/ruby , /usr/bin/gem
# /usr/bin/irb, /usr/bin/ri and man (1) ruby

 sudo update-alternatives --config ruby
 sudo update-alternatives --config gem

# now try
 ruby --version 
```

如果你想让它成为你的专属 Ruby 并摆脱 Ruby 1.8，请按照卸载说明进行操作。

编辑：我今天发现还有一个名为 ruby​​1.9.3 的包，但这只是一个代理包，它本身没有任何文件，只依赖于 ruby​​1.9.1。Aptitude 证实了这一点：

Ruby 使用两种并行版本控制方案：“Ruby 库兼容性版本”（此包为 1.9.1），类似于库 SONAME，以及“Ruby 版本”（此包为 1.9.3）。Debian 中的 Ruby 包是使用 Ruby 库兼容版本命名的，这有时会让不密切关注 Ruby 开发的用户感到困惑。这个包依赖于 ruby​​1.9.1 包，并提供从 1.9.3 可执行文件和手册页到 1.9.1 对应的兼容性符号链接。

似乎没有rubygems1.9.3。

第二种方法

我发现这个链接也很有用，它非常简单有效。

[http://ryanbigg.com/2010/12/ubuntu-ruby-rvm-rails-and-you/](http://ryanbigg.com/2010/12/ubuntu-ruby-rvm-rails-and-you/)

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-06-18T07:12:09.977

使用 1.9.3 的亮盒包。您将不得不添加他们的仓库，但为了简短起见，只需使用他们的帮助页面：[http ://blog.brightbox.co.uk/posts/next-generation-ruby-packages-for-ubuntu](http://blog.brightbox.co.uk/posts/next-generation-ruby-packages-for-ubuntu)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-06-18T11:01:04.980

**从源代码编译**是标准方法。

[从这里](http://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.3-p194.tar.gz)下载源代码，使用 README 文件获取说明。

另一种方法是apt包管理器系统。

```
$ sudo apt-get install ruby1.9.1 
```

是的，这将安装 Ruby 1.9.2。它的“库兼容版本”为 1.9.1，因此得名。

如果您安装“ruby”软件包，您将获得较旧的 Ruby 1.8。

# javascript - 在 Rails 中，我可以在 JS 响应后在控制器操作中执行 ActionMailer 逻辑吗？

> ID：11078170
> 
> 赞同：0
> 
> 时间：2012-06-18T06:56:41.620
> 
> 标签：javascript, ruby-on-rails-3, controller, actionmailer

每当在我的应用程序中创建模型时，都会向几个人发送一封电子邮件。对模型创建的响应是 JS，因此在更新页面时会有一点延迟，因为首先所有电子邮件都被发送，然后 JS 视图逻辑启动（即在按下 Create 按钮和按下 Create 按钮的时间之间存在明显的延迟当页面自行更新时）。

有没有办法可以设置我的控制器，以便在视图完成更新后发送电子邮件？

这是我的控制器操作基本上如下所示：

```
def create
  @model = Model.new(params[:model])
  @model.save

  @followers.each do |f|
    ModelMailer.some_email(f).deliver
  end

  respond_to do |format|
    format.js { render :layout => false }
  end
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:07:44.263

您可以使用 DelayJob 或其他后台工作人员来执行此操作并添加`handle_asynchronously :deliver`到您的邮件中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T15:00:20.137

我赞成 Hauleth 的回答，因为这是处理发送邮件的正确方法。

另一种选择是在系统运行时向用户提供反馈。这是一种 UI 设计模式，有各种名称，如“加载”和“处理”。简而言之：在发送请求之前在客户端设置一条消息，然后在响应完成时更新该消息成功或失败，这本身可以超时，因此消息是临时的。

如果操作是远程的，也就是 ajax，那么您应该始终应用此 UI 模式。

如果该操作正在呈现一个全新的页面，那么当您知道响应可能很慢时它很有用，就像您的情况一样。

# matlab - 从组合矩阵中提取特定行

> ID：11078174
> 
> 赞同：0
> 
> 时间：2012-06-18T06:57:37.920
> 
> 标签：matlab, combinatorics

假设我有 121 个元素并且想要一次获取 4 个元素的所有组合，即 121c4。
由于`combnk(1:121, 4)`需要很多时间，我想通过提供以下内容来获得该组合的 2%：

```
z = 1:50:length(121c4(:, 1)) 
```

例如：第 1行、第 5^行、第 100^行等等，直到 121c4，只从 121c4 矩阵中选择那些行而不生成完整的组合（对于像 625c4 这样的大数字来说，它消耗太多了）^。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T12:19:25.963

如果您还没有定义组合的顺序，为什么不直接使用

```
randi(121,p,4) 
```

`p`你想要的组合数量在哪里？使用这种方法，您可能想要也可能不想替换重复项。

如果您已经定义了组合的顺序，请告诉我们它是什么。

# iphone - 如何在 iOS 上进行这样的联系人字段输入？

> ID：11078190
> 
> 赞同：0
> 
> 时间：2012-06-18T06:59:05.573
> 
> 标签：iphone, ios

我有一个应用程序，当点击一个按钮时，它会向用户显示一个视图以输入用户的联系号码，如下图所示。任何人都可以帮助我实现这一目标吗？我需要我的用户在标志中选择他们的国家，并且需要有相应的标准代码![在此处输入图像描述](../Images/268264c7c75f339152692c304e0a49e4.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:03:29.227

我在示例中看到的内容：国家标志的 UIImageView、国家代码的 UILabel 和电话号码占位符的 UITextField。您可以在 IB 中或以编程方式设置占位符的 de 值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:01:39.503

您将不得不为此创建一个自定义视图。

步骤：

*   从 UIView 派生一个类。
*   将 UIImageView、UILabel 和 UITextField 添加到其中。
*   布局合理。
*   单击按钮时，使用适当的框架/边界显示此视图。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T07:02:01.050

创建一个类似于您显示的视图并最初将其隐藏，当用户单击按钮使视图可见时。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T07:02:14.930

ON 动作事件将此子视图添加到您的视图中

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T07:10:39.533

在 Xib 文件中，单击标签并查看右侧属性，在该属性中，您将找到占位符选项。在该占位符中，键入您想要的文本。当用户点击该文本时，该文本将作为提示出现。或者，直接在您声明标签的代码中，在该标签代码中

```
label.placeholder=@"Enter Contact here"; 
```

# javascript - javascript / jquery在输入输入字段时阻止文本

> ID：11078198
> 
> 赞同：-4
> 
> 时间：2012-06-18T06:59:58.870
> 
> 标签：javascript, jquery, html, css

javascript / jquery / html / css /其他东西是否可以在输入所述字段时阻止输入字段内的所有文本？

这听起来像n00b问题，但我找不到答案>_<

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T07:02:25.807

您的意思是一旦输入事件触发`disabled`后您可以使用javascript添加的属性吗？`blur`

```
$("input[type=text]").blur(function(){
    if($(this).val().length){
        $(this).attr("disabled","disabled");
    }
}); 
```

应该做的伎俩（未经测试，但应该工作）。

# ssrs-2008 - 大于 SSRS 表达式中的相乘值

> ID：11078204
> 
> 赞同：1
> 
> 时间：2012-06-18T07:00:24.620
> 
> 标签：ssrs-2008

这是我试图通过表达式做的简化版本。

如果`response_time > response goal`，“颜色”，但如果`response_time > response_goal * 0.25`，“颜色#2”

这可以通过表达式起作用吗？

在把我的头撞到墙上的舞台上......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T14:49:06.490

我并不完全了解 SSRS 将使用的操作顺序，但请尝试将相乘后的值括在括号中。

```
IIf(response_time > response_goal, "colour", IIf(response_time > (response_goal * 0.25), "colour#2","default option")) 
```

`response_time`如果不大于`response_goal`或`response_goal`* 0.25 ，您可能希望使用表达式应返回的任何内容更改“默认选项” 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T15:00:28.840

我会从 Nick 那里改进这个表达式，因为即使第二个条件为真，第一个条件也会评估为真。如果您使用 Switch 功能，它也会更容易阅读。所以尝试这样的事情：

```
=Switch(response_time > response_goal and response_time <= response_goal * 0.25,"colour", response_time > response_time * 0.25, "colour#2") 
```

更新：尼克的操作顺序是正确的——我输入的是大于号而不是数学操作。我仍然更喜欢 Switch 函数，但只是为了更正记录 - 表达式应该如下所示：

```
=Switch(response_time > response_goal 0.25 and response_time <= response_goal ,"colour#2", response_time > response_time, "colour") 
```

# android - Tabhost 应用程序在 android/eclipse 中意外关闭

> ID：11078205
> 
> 赞同：0
> 
> 时间：2012-06-18T07:00:32.140
> 
> 标签：android, eclipse, android-tabhost

现在我正在尝试显示从一个页面到标签主机的第一个标签的消费结果，该标签包含 android 上的两个标签。

但是模拟器运行后只是显示`your application" has stopped unexpectedly`。
如何解决这个问题呢。

**演示.webserviceactivity.java**

```
public class Demo_webserviceActivity extends Activity
{
/** Called when the activity is first created. */

   private static String NAMESPACE = "http://tempuri.org/";
   private static String METHOD_NAME = "FahrenheitToCelsius";
   private static String SOAP_ACTION = "http://tempuri.org/FahrenheitToCelsius";
   private static String URL = "http://www.w3schools.com/webservices/tempconvert.asmx?WSDL";

EditText txtFar;
Button btnFar;
SharedPreferences sharedPreferences;

@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.main1);

    txtFar=(EditText)findViewById(R.id.editText1);
    btnFar=(Button)findViewById(R.id.btnFar);

    btnFar.setOnClickListener(new View.OnClickListener() {

   public void onClick(View v){
   SoapObject request = new SoapObject(NAMESPACE,METHOD_NAME);

   request.addProperty("Fahrenheit",txtFar.getText().toString());

   SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);

   envelope.setOutputSoapObject(request);
   envelope.dotNet = true;

   try
   {
       HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

       androidHttpTransport.call(SOAP_ACTION, envelope);

       SoapPrimitive result = (SoapPrimitive)envelope.getResponse();

if(result != null)
{
    sharedPreferences=PreferenceManager.getDefaultSharedPreferences(Demo_webserviceActivity.this);
    Editor editor1 = sharedPreferences.edit();
    editor1.remove("answer");
    editor1.commit();

    sharedPreferences=PreferenceManager.getDefaultSharedPreferences(Demo_webserviceActivity.this);
    Editor editor = sharedPreferences.edit();
    Log.i("set value",""+txtFar.getText().toString());
    editor.putString("answer",txtFar.getText().toString());
    editor.commit();
   }
   else
   {
    Toast.makeText(getApplicationContext(), "oops! empty!...",        Toast.LENGTH_SHORT).show();
    }
   }    
       catch(Exception e)
       {
        e.printStackTrace();
    }
            }
        });
        }
    } 
```

* * *

**日志猫：**

```
06-18 12:22:59.902: D/AndroidRuntime(482): Shutting down VM
06-18 12:22:59.922: W/dalvikvm(482): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
06-18 12:22:59.932: E/AndroidRuntime(482): FATAL EXCEPTION: main
06-18 12:22:59.932: E/AndroidRuntime(482): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.demo.webser/com.demo.webser.Demo_webserviceActivity}: java.lang.NullPointerException
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.os.Handler.dispatchMessage(Handler.java:99)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.os.Looper.loop(Looper.java:123)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.ActivityThread.main(ActivityThread.java:4627)
06-18 12:22:59.932: E/AndroidRuntime(482):  at java.lang.reflect.Method.invokeNative(Native Method)
06-18 12:22:59.932: E/AndroidRuntime(482):  at java.lang.reflect.Method.invoke(Method.java:521)
06-18 12:22:59.932: E/AndroidRuntime(482):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
06-18 12:22:59.932: E/AndroidRuntime(482):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
06-18 12:22:59.932: E/AndroidRuntime(482):  at dalvik.system.NativeStart.main(Native Method)
06-18 12:22:59.932: E/AndroidRuntime(482): Caused by: java.lang.NullPointerException
06-18 12:22:59.932: E/AndroidRuntime(482):  at com.demo.webser.Demo_webserviceActivity.onCreate(Demo_webserviceActivity.java:45)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
06-18 12:22:59.932: E/AndroidRuntime(482):  ... 11 more 
```

主要的.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<EditText
    android:id="@+id/editText1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:ems="10" >

    <requestFocus />
</EditText>

<Button
    android:id="@+id/btnFar"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Get result" />

</LinearLayou> 
```

main1.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<TabHost
    android:id="@android:id/tabhost"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical" >

        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" >
        </TabWidget>

        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="match_parent"
            android:layout_height="match_parent" >

            <LinearLayout
                android:id="@+id/tab1"
                android:layout_width="match_parent"
                android:layout_height="match_parent" >
            </LinearLayout>

            <LinearLayout
                android:id="@+id/tab2"
                android:layout_width="match_parent"
                android:layout_height="match_parent" >
            </LinearLayout>

            <LinearLayout
                android:id="@+id/tab3"
                android:layout_width="match_parent"
                android:layout_height="match_parent" >
            </LinearLayout>
        </FrameLayout>
    </LinearLayout>
</TabHost> 
```

**修复后的 Logcat**

```
06-18 12:22:59.902: D/AndroidRuntime(482): Shutting down VM
06-18 12:22:59.922: W/dalvikvm(482): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
06-18 12:22:59.932: E/AndroidRuntime(482): FATAL EXCEPTION: main
06-18 12:22:59.932: E/AndroidRuntime(482): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.demo.webser/com.demo.webser.Demo_webserviceActivity}: java.lang.NullPointerException
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.os.Handler.dispatchMessage(Handler.java:99)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.os.Looper.loop(Looper.java:123)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.ActivityThread.main(ActivityThread.java:4627)
06-18 12:22:59.932: E/AndroidRuntime(482):  at java.lang.reflect.Method.invokeNative(Native Method)
06-18 12:22:59.932: E/AndroidRuntime(482):  at java.lang.reflect.Method.invoke(Method.java:521)
06-18 12:22:59.932: E/AndroidRuntime(482):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
06-18 12:22:59.932: E/AndroidRuntime(482):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
06-18 12:22:59.932: E/AndroidRuntime(482):  at dalvik.system.NativeStart.main(Native Method)
06-18 12:22:59.932: E/AndroidRuntime(482): Caused by: java.lang.NullPointerException
06-18 12:22:59.932: E/AndroidRuntime(482):  at com.demo.webser.Demo_webserviceActivity.onCreate(Demo_webserviceActivity.java:45)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
06-18 12:22:59.932: E/AndroidRuntime(482):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
06-18 12:22:59.932: E/AndroidRuntime(482):  ... 11 more
06-18 12:52:27.612: W/KeyCharacterMap(509): No keyboard for id 0
06-18 12:52:27.612: W/KeyCharacterMap(509): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
06-18 12:52:31.523: I/set value(509): 56 
```

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:06:39.287

从外观上看，问题可能出在此处：

> 06-18 12:22:59.932：E/AndroidRuntime(482)：引起：java.lang.NullPointerException 06-18 12:22:59.932：E/AndroidRuntime(482)：在 com.demo.webser.Demo_webserviceActivity.onCreate (Demo_webserviceActivity.java:45)

看看你的代码，我猜第 45 行是（因为没有给出行号）：

> btnFar.setOnClickListener(new View.OnClickListener() {

你确定那`btn`不是NULL吗？

# dll - DLL 清单中的不完整字符串版本

> ID：11078206
> 
> 赞同：0
> 
> 时间：2012-06-18T07:00:40.097
> 
> 标签：dll, visual-studio-2005, manifest

每次当我尝试在我的应用程序中加载 .dll 时，我都会遇到错误。我在构建它时没有收到任何错误。这是从我的 .dll 中提取的清单，除了字符串版本之外，我在这里看不到任何问题这个字符串版本是否正常，如果不是，我该如何解决？

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0">
  <dependency>
    <dependentAssembly>
      <assemblyIdentity type="win32" name="Microsoft.VC80.DebugCRT" version="8.0.50727.6195" processorArchitecture="x86" publicKeyToken="1fc8b3b9a1e18e3b"></assemblyIdentity>
    </dependentAssembly>
  </dependency>
  <dependency>
    <dependentAssembly>
      <assemblyIdentity type="win32" name="Microsoft.VC80.DebugMFC" version="8.0.." processorArchitecture="x86" publicKeyToken="1fc8b3b9a1e18e3b"></assemblyIdentity>
    </dependentAssembly>
  </dependency>
</assembly> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:27:41.527

> 版本="8.0.."

不，这是不正常的，而且肯定会导致您的程序无法启动。该字符串来自 vc\atlmfc\include\mfcassem.h，它可能已损坏。不要编辑文件*来*修复损坏，从另一台机器复制它。这样更新仍然可以正常工作。

# iphone - 链接在 UIWebview 上不起作用

> ID：11078208
> 
> 赞同：2
> 
> 时间：2012-06-18T07:00:55.913
> 
> 标签：iphone, ios, uiwebview

在我的应用程序中，我使用 UIWebview 来显示一些 url，比如“Google”。问题是，它正确显示了网页，但该页面上的链接不起作用。

假设如果在 Google 页面上我点击地图或 gmail，那么什么也不会发生。我知道，我遗漏了一些小东西，仍然需要你的帮助。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-19T06:20:15.490

`UIWebView`在“属性检查器”（右侧面板的第 4 个选项卡）中的“`Web View` `Detection Links`复选框”中检查您的 .xib 的 Interface Builder 。**必须选中它才能使链接正常工作。**

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-26T09:37:21.083

您还需要确保选中“已启用用户交互”（在属性选项卡的“视图”部分中）。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-18T07:04:07.493

确保您的链接完全像这样构建：

```
<a href="http://www.google.com">Google</a> 
```

它应该只是“工作”。

# java - 有没有办法用 2.3 的联系人照片填充列表视图？

> ID：11078211
> 
> 赞同：0
> 
> 时间：2012-06-18T07:01:23.630
> 
> 标签：java, android, android-listview, android-contacts, android-photos

> **可能重复：**
> [如何从联系人的 ID 显示联系人的照片？](https://stackoverflow.com/questions/11010928/how-do-i-display-a-contacts-photo-from-the-contacts-id)

一个多星期以来，我一直在尝试使用我设备中的联系人照片在我的 ListView 中填充我的 ImageView，但无济于事。

是否有针对*API 级别 10*执行此操作的*完整解决方案*？

 ***我的 LogCat 代码：**

[为什么我的联系人照片没有显示在列表视图中？](https://stackoverflow.com/questions/11029475/why-are-my-contact-photos-not-displaying-in-listview)

** CustomAdapter 类：**

```
public class CustomAdapter extends ArrayAdapter<String> {

        Cursor c;
        String TAG = "CustomAdapter";
        private Context context = null;
        ArrayList<String> elements = null;
        private ArrayList<String> data = null;

        public static String contactName;
        public static int count = 0;

        private ArrayList<Boolean> itemChecked = null;
        public static List<String> messages;
        public static List<String> contactID;

        String body;
        String phoneNumber;

        public CustomAdapter(Context context, int type, ArrayList<String> elements) {
                super(context, type, elements);

                data = elements;
                this.elements = elements;
                this.context = context;
        }

        // THIS IS SIMPLY A CLASS VIEW WILL HOLD DIFFERENT VIEWS OF YOUR ROW.
        static class ViewHolder {
                public ImageView photo;
                public TextView contact;
        }

        @Override
        public View getView(final int position, View convertView, ViewGroup parent) {
                View rowView = convertView;
                final ViewHolder holder;

                if (rowView == null) {
                        LayoutInflater inflater = (LayoutInflater) context
                                        .getSystemService(Context.LAYOUT_INFLATER_SERVICE);

                        // HERE I AM INFLATING LISTVIEW LAYOUT.
                        rowView = inflater.inflate(R.layout.contact_entry, null, false);
                        holder = new ViewHolder();
                        holder.photo = (ImageView) rowView.findViewById(R.id.iv_contactPic);
                        holder.contact = (TextView) rowView
                                        .findViewById(R.id.contactEntryText);
                        rowView.setTag(holder);

                        // RETRIEVE LATEST CONTACTS WHO SENT SMS (for visual)
                        contactID = new ArrayList<String>();
                        contactID = elements;

                        String folder = "content://sms/inbox/";
                        Uri mSmsQueryUri = Uri.parse(folder);
                        contactID = new ArrayList<String>();

                        try {
                                c = context.getContentResolver().query(
                                                mSmsQueryUri,
                                                new String[] { "_id", "thread_id", "address", "date",
                                                                "body" }, null, null, null);
                                if (c == null) {
                                        Log.i(TAG, "cursor is null. uri: " + mSmsQueryUri);
                                }

                                c.moveToFirst();
                                while (c.moveToNext()) {
                                        phoneNumber = c.getString(0);
                                        contactID.add(phoneNumber);
                                }

                        } catch (Exception e) {
                                // Log.e(TAG, e.getMessage());
                        } finally {
                                c.close();
                        }

                } else {
                        holder = (ViewHolder) rowView.getTag();
                }

                if (holder != null) {

                        // bind the data to the row views
                        holder.contact.setText(data.get(position));
                        holder.photo.setImageBitmap(getByteContactPhoto(contactID
                                        .get(position)));

                // SHOW CONTACT PHOTO IF IT EXISTS. IF NOT, DEFAULT (***NOT WORKING***)
                Long l = Long.parseLong(contactID.get(position));
                        contactPhoto = loadContactPhoto(context.getContentResolver(), l);
                        if(contactPhoto == null){
                                holder.photo.setImageResource(R.drawable.ic_intel);
                        } else{
                                holder.photo.setImageBitmap(contactPhoto);
                        }

                return rowView;
        } // end if

        // GET CONTACT PHOTO
        private static Bitmap loadContactPhoto(ContentResolver cr, long  id) {
    Uri uri = ContentUris.withAppendedId(ContactsContract.Contacts.CONTENT_URI, id);
    InputStream input = ContactsContract.Contacts.openContactPhotoInputStream(cr, uri);
    if (input == null) {
        return null;
    }
    return BitmapFactory.decodeStream(input);
}

} // end class 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:04:47.680

使用此代码从联系人中获取照片............

```
public static Bitmap loadContactPhoto(ContentResolver cr, long id) {
Uri uri = ContentUris.withAppendedId(ContactsContract.Contacts.CONTENT_URI, id);
InputStream input = ContactsContract.Contacts.openContactPhotoInputStream(cr, uri);
// InputStream input = ContactsContract.Contacts.Photo
if (input == null) {
    return null;
}
return BitmapFactory.decodeStream(input); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:36:41.330

在你想要的地方写这个片段

```
// set the profile picture
ImageView profile = (ImageView) findViewById(R.id.display_contact_image);
Bitmap bitmap = loadContactPhoto(getContentResolver(), _id);
if(bitmap == null) {
    //Set default contact image
    profile.setImageResource(R.drawable.default_contact_image);
} else {
    profile.setImageBitmap(bitmap);
} 
```

方法是

```
private static Bitmap loadContactPhoto(ContentResolver cr, long  id) {
    Uri uri = ContentUris.withAppendedId(ContactsContract.Contacts.CONTENT_URI, id);
    InputStream input = ContactsContract.Contacts.openContactPhotoInputStream(cr, uri);
    if (input == null) {
        return null;
    }
    return BitmapFactory.decodeStream(input);
} 
```

并分享您尝试过的代码......（从上周开始：）*

# c++ - 得到 std::bad_alloc 错误；如何交叉验证操作系统确实内存不足

> ID：11078216
> 
> 赞同：8
> 
> 时间：2012-06-18T07:01:43.123
> 
> 标签：c++, memory-management, memory-leaks, operating-system

我有一个 C++ 程序/Linux，它在运行的 2-3 秒内开始`std::bad alloc`在 32GB RAM 上吐出错误（并由包装调用者重新启动）。我真正关心的是解决这个问题，但我想一步一步地去建立我对问题理解的信心。

看起来系统无法为`new`请求分配内存（当操作系统内存不足时会发生这种情况）。在程序运行时，在另一个终端上，我`sar`以尽可能小的间隔（1 秒）运行命令，但我看到它`kbcached`是 ~24GB 内存。为什么操作系统无法释放缓存并使该内存可用于`new`请求？1 秒时间太长（与程序运行速度相比），或者我在这里做错了什么。

基本上我想交叉验证并指出操作系统确实内存不足，因此无法分配内存，然后从这一点开始。怎么做？

理想情况下，我希望在内存分配失败时获得系统统计信息，例如缓存量、总内存使用量等。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:21:35.453

如果你真的想看看你的进程的内存是如何分配的，你可以`gdb`在抛出异常时设置一个断点。如果是，请使用[pmap](http://linux.die.net/man/1/pmap)之类的工具检查进程，该工具可以向您显示有关进程如何使用内存的其他信息。

如果这太原始（很快就会变得`pmap`非常原始），[valgrind](http://valgrind.org/)包含 Massif 和许多其他实用程序，用于诊断内存使用情况、CPU 使用情况和其他运行时问题。

# android - 在android中保存文件的目录？

> ID：11078231
> 
> 赞同：0
> 
> 时间：2012-06-18T07:02:57.607
> 
> 标签：android, android-sdcard

根据我的应用程序，我正在下载图片和一些数据，我需要将它们保存在手机内存或 sd 卡中的某个位置。由于图片可能很大，我决定将其保存到 SD 卡中。我正在使用下面的代码来确定 SD 卡是否可用。如果是，我正在使用 SD 卡，如果不是，我正在使用手机内存。但问题是，如果我弹出 SD 卡，我的应用程序会在启动时崩溃，并且出现 File Not Found 异常。据我了解，由于手机有内置SD卡，

```
android.os.Environment.getExternalStorageState().equals(android.os.Environment.MEDIA_MOUNTED) 
```

总是返回“已安装”。我如何理解外部 SD 卡是否真的被弹出？

**编辑：**我试图检查 SD 卡是否可用，因为我正在使用下面的代码并且因为我的手机中有内部 SD 卡

```
android.os.Environment.getExternalStorageState().equals(android.os.Environment.MEDIA_MOUNTED) 
```

总是返回 true 并且它在没有 SD 卡的情况下创建目录。因此，检查目录是否为 null 无法了解该文件是否存在。下面是我的代码。

```
if (android.os.Environment.getExternalStorageState().equals(android.os.Environment.MEDIA_MOUNTED)) {
        cacheDir=new File(context.getExternalFilesDir(null), applicationDirectory + folderName);
    }
    else {
        cacheDir = new File(context.getCacheDir(), applicationDirectory + folderName);
    }
    if(!cacheDir.isDirectory())
        cacheDir.mkdirs(); 
```

所以根据我的解决方案，我尝试读取所需的文件，如果我得到 FileNotFoundException，我会在应用程序启动时将所有内容从 assets 文件夹复制到目录（SD 卡或手机内存），并用 shared 中的布尔值控制它喜好。这样，如果用户弹出 SD 卡，内容将被复制到手机内存并从该目录工作。

我需要大约 10MB 的缓存空间来保存我的一些文件，并且使用这个解决方案（我不确定它是否有效）如果用户运行应用程序，我的内容将同时存在 SD 卡和手机内存中没有 SD 卡。还有其他解决方案可以找出文件、外部或内部存储器的保存位置吗？感谢您的回答。任何想法将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:07:34.840

您可以使用这些方法来检查外部 sd 上的文件夹是否存在：

```
if(myFolder != null && myFolder.exists()) { /* work here */ } 
```

myFolder 将是一个针对外部 sd 的文件（您应该检查内部存储器中的供应商映射，因为它们因每个供应商而异）。

遗憾的是，两个 sd 并不是真正的 Android 方式，这导致 Android 认为内部 sd 是外部的。

[这里](https://stackoverflow.com/questions/5694933/find-an-external-sd-card-location)有一个讨论和一个代码示例，用于查找外部 sd 。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:08:45.557

检查这个线程：

[android 应用程序如何检测设备中的两个 SD 卡](https://stackoverflow.com/questions/8337358/how-android-application-detects-two-sd-cards-in-a-device)

也许您可以检查 sdcard 的文件夹是否存在并以不同方式处理卡不存在的情况？

所以像：

```
sdcardloc = /mnt/sdcard/sdcard1;
if(sdcardloc != null && myFolder.exists()) { /*case where card is mounted*/ }

else { /*handle case where no card is mounted*/} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T07:10:36.063

**外置 SD 卡**，这个概念是特定于设备供应商的。在 android 只有外部存储概念。并且还`Environment.getExternalStorageDirectory()`指设备制造商认为是“外部存储”的任何内容。

# wpf - 在后面的代码中使用一个字符串设置 MeshGeometry 位置

> ID：11078240
> 
> 赞同：0
> 
> 时间：2012-06-18T07:04:11.823
> 
> 标签：wpf

在 XAML 中，我们可以在位置属性中放置一个长字符串，我该如何在后面的代码中执行此操作？

XAML方式：

```
<MeshGeometry3D x:Name="MeshGeometry3D"
                                Positions="
                                  -1,-1,-1   1,-1,-1   1,-1, 1  -1,-1, 1
                                  -1,-1, 1   1,-1, 1   1, 1, 1  -1, 1, 1
                                   1,-1, 1   1,-1,-1   1, 1,-1   1, 1, 1
                                   1, 1, 1   1, 1,-1  -1, 1,-1  -1, 1, 1
                                  -1,-1, 1  -1, 1, 1  -1, 1,-1  -1,-1,-1 
                                  -1,-1,-1  -1, 1,-1   1, 1,-1   1,-1,-1
                                  "
                              /> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:16:16.587

```
PointCollectionConverter pcc = new PointCollectionConverter();
var points = (PointCollection)pcc.ConvertFromString("-1,-1,-1   1,-1,-1   1,-1, 1  -1,-1, 1");
MeshGeometry3D mg = new MeshGeometry3D();
mg.Positions = points; 
```

# c# - 根据请求动态更改语言资源的好方法

> ID：11078242
> 
> 赞同：8
> 
> 时间：2012-06-18T07:04:22.877
> 
> 标签：c#, asp.net, .net, localization, asp.net-web-api

我有一个 ASP.NET Web API 应用程序，它应该对用户的 Accept-Language 标头做出适当的反应。

目前，字符串存储在 resx 中，并通过 Visual Studio 生成的类以编译安全的方式访问。我想做的是保留当前的方法并为每个翻译版本的 resx 创建附属程序集。然后分析用户的 Accept-Language 标头以查看用户接受哪些语言并从附属程序集中加载所请求语言的资源。

我想我可以通过`ResourceManager`在 的帮助下创建一组特定于语言的对象来自己实现所有这些行为，`ResourceSet`但是由于 Visual Studio 会自动更新 resx 的类，因此无法保持编译时安全文件。

动态选择本地化语言资源的最佳方法是什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-18T08:46:56.387

通过阅读您的问题，我没有看到 ASP.NET 没有自动提供的任何内容。您可以将 ASP.NET（无论是 WebForms 还是 MVC）配置为使用`accept-language`请求标头并设置适当的 UICulture（这将影响 ResourceManager 加载哪个附属程序集）和 Culture（这将影响依赖于区域设置的格式和解析，例如日期和数字）适当。

要将您的应用程序配置为使用`accept-language`列表为每个请求设置 UICulture 和 Culture（根据[此 MSDN 页面](http://msdn.microsoft.com/en-us/library/bz9tc508.aspx)），请像这样配置您的 web.config：

```
<globalization uiCulture="auto" culture="auto" /> 
```

每页还有一个等效的配置设置。

然后，根据[资源回退](http://msdn.microsoft.com/en-us/library/sb6a8618.aspx)过程，如果您的应用程序包含匹配文化的附属程序集（或者，如果失败，则为其父中性文化），资源管理器将使用它。如果不是，那么将使用您的默认资源（如果那是您的基本语言，则为英语）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-18T07:18:46.583

您可以编写一个`HttpModule`检测语言标头并设置当前线程文化的代码。

```
public class LanguageModule : IHttpModule
{
    public void Dispose()
    {
    }

    public void Init(HttpApplication context)
    {
        context.BeginRequest += new EventHandler(context_BeginRequest);
    }

    void context_BeginRequest(object sender, EventArgs e)
    {
        var application = sender as HttpApplication;
        var context = application.Context;
        var lang = context.Request.Headers["Accept-Language"];

        // eat the cookie (if any) and set the culture
        if (!string.IsNullOrEmpty(lang))
        {
            var culture = new System.Globalization.CultureInfo(lang); // you may need to interpret the value of "lang" to match what is expected by CultureInfo

            Thread.CurrentThread.CurrentCulture = culture;
            Thread.CurrentThread.CurrentUICulture = culture;
        }
    }
} 
```

`ResourceManager`等人将从线程文化中找出要使用的正确本地化版本。

# jquery - 从 html 字符串中删除元素（这个脚本有什么问题）

> ID：11078243
> 
> 赞同：0
> 
> 时间：2012-06-18T07:04:29.583
> 
> 标签：jquery

```
script = "<div><p>sss</p></div>";
$(script).find('p').remove();
console.log($(script)); 
```

我想从脚本中删除 p 元素为什么 p 元素仍然可用？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T07:05:44.390

# 更新

这是您可以检查它的方法：

```
script = "<div><p>sss</p>i am a div</div>";
$(script).contents().find('p').remove();
console.log($(script).contents().find('p')); 
```

**输出：**

```
[] 
```

尝试使用[`contents()`](http://api.jquery.com/contents/)：

> 描述：获取匹配元素集中每个元素的子元素，包括文本和注释节点。

```
script = "<div><p>sss</p></div>";
a = $(script).contents().find('p').remove();
console.log($(script));
console.log(a); 
```

## [工作示例](http://jsbin.com/upalob)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:07:42.373

使用`filter()`代替`find()`：

```
$(script).filter('p').remove(); 
```

# maya - 汽车和玛雅中的透视相机？

> ID：11078247
> 
> 赞同：-1
> 
> 时间：2012-06-18T07:04:50.993
> 
> 标签：maya

我是 Maya 新手，有没有办法将相机设置在车内？我知道有某些相机，例如透视相机，但我无法确定是否有一种简单的方法来设置相机，或者是否有可能。谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T22:00:00.480

制作相机**Create -> Cameras -> Camera**，然后启用移动/旋转工具并将其放在您想要的任何地方。您甚至可以移动现有的相机以相同的方式定位，或者通过拖动鼠标和*alt* +mmb 、*alt+lmb+mmb*和*alt+lmb*。

# javascript - playframework 2.0 流式音频

> ID：11078249
> 
> 赞同：0
> 
> 时间：2012-06-18T07:05:00.207
> 
> 标签：javascript, jquery, html, playframework, playframework-2.0

所以我使用 playframework 2.0 并且我在服务器上使用以下代码成功地流式传输音频：

```
public static Result recording() {
    File wavFile = new File("C:\\test.wav");
    return ok(wavFile);
} 
```

这很好用。

我遇到的问题是它更改为新页面。我希望它改为打开一个小对话框，或者创建一个新的周围 div。所以我想我必须创建一个 ajax 请求，我可以创建一个新的 div，但我不确定如何处理成功的数据对象。任何示例都会非常有帮助，我找不到任何示例：

```
$('#sound').click( function(evt) {
            $.ajax({
                type: 'POST',
                url:  jQuery("#sound").attr("href"),
                data: jQuery("#sound").serialize(),
                dataType: "json",
                success: function(data) {
                            //What do i need to do here
                    alert('Call history download');
                },
                error: function(data) {
                    setError('Call history download failed');
                }
            });
            return false;
        }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T08:43:31.490

查看[html5 <audio> 标签](https://developer.mozilla.org/en/Using_HTML5_audio_and_video)。

这样的事情应该可以解决问题：

```
<audio src="@routes.MyController.recording()" controls autoplay loop>  
   <p>Your browser does not support the audio element </p>  
</audio> 
```

如果你想用 javascript 开始声音，你可以跳过所有的 ajax 东西，只用 javascript/jQuery 添加一个元素。然后声音应该自动开始。

请注意，IE 不支持波形文件（图！！）。IE 9 仅支持 MP3。但 Firefox 和 Opera 不支持 MP3。要支持多种文件格式，您可以执行以下操作：

```
<audio controls autoplay loop>  
   <source src="@routes.MyController.recordingWave()" type="audio/wave" />
   <source src="@routes.MyController.recordingMp3()" type="audio/mp3" />
   <p>Your browser does not support the audio element </p>  
</audio> 
```

# windows-phone-7 - WP7 UI 控件（如按钮和列表框事件）不会在用户控件类中触发

> ID：11078251
> 
> 赞同：0
> 
> 时间：2012-06-18T07:05:07.400
> 
> 标签：windows-phone-7, events, user-controls, uicontrol

我有一个用户控件，并且在该用户控件中有 ui 控件，例如按钮和列表框，我已从 xaml 附加了这些控件的单击和选择更改事件，并且还尝试通过以编程方式附加它们，但这些事件没有被触发。

任何形式的帮助将不胜感激，非常感谢

这是代码 .cs 和 xaml

```
 <UserControl 
x:Class="VisioLink.Views.MagazineListPage"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
xmlns:views="clr-namespace:VisioLink.Views"
xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit" 
FontFamily="{StaticResource PhoneFontFamilyNormal}"
FontSize="{StaticResource PhoneFontSizeNormal}"
Foreground="{StaticResource PhoneForegroundBrush}"    
mc:Ignorable="d" d:DesignHeight="768" d:DesignWidth="480"
shell:SystemTray.IsVisible="True"
Loaded="PhoneApplicationPage_Loaded"
 xmlns:local="clr-namespace:VisioLink.Views">
<UserControl.Resources>
    <local:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    <Style x:Key="ListBoxItemStyle1" TargetType="ListBoxItem">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
        <Setter Property="Padding" Value="0"/>
        <Setter Property="HorizontalContentAlignment" Value="Left"/>
        <Setter Property="VerticalContentAlignment" Value="Top"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ListBoxItem">
                    <Border x:Name="LayoutRoot" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" HorizontalAlignment="{TemplateBinding HorizontalAlignment}" VerticalAlignment="{TemplateBinding VerticalAlignment}">
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal"/>
                                <VisualState x:Name="MouseOver"/>
                                <VisualState x:Name="Disabled">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="LayoutRoot">
                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource TransparentBrush}"/>
                                        </ObjectAnimationUsingKeyFrames>
                                        <DoubleAnimation Duration="0" To=".5" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="ContentContainer"/>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="SelectionStates">
                                <VisualState x:Name="Unselected"/>
                                <VisualState x:Name="Selected">
                                    <Storyboard>
                                        <ObjectAnimationUsingKeyFrames
                                Storyboard.TargetName="ContentContainer"
                                Storyboard.TargetProperty="Foreground"
                                Duration="0">
                                            <DiscreteObjectKeyFrame  KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <SolidColorBrush Color="White"/>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                        <ObjectAnimationUsingKeyFrames
                                Storyboard.TargetName="border"
                                Storyboard.TargetProperty="Background"
                                Duration="0">
                                            <DiscreteObjectKeyFrame  KeyTime="0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <SolidColorBrush Color="LightBlue"/>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <StackPanel x:Name="border" Orientation="Horizontal">
                            <!--<CheckBox x:Name="checkBox" IsChecked="{Binding RelativeSource={RelativeSource TemplatedParent}, 
Path=IsSelected, Mode=TwoWay}" DataContext="{TemplateBinding IsSelected}" Visibility="{Binding Converter={StaticResource BooleanToVisibilityConverter}}" HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"/>-->
                            <ContentControl x:Name="ContentContainer" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" Foreground="{TemplateBinding Foreground}" HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </StackPanel>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</UserControl.Resources>

<!--LayoutRoot is the root grid where all page content is placed-->
<Grid x:Name="LayoutRoot" Background="White">
    <toolkit:GestureService.GestureListener>
        <toolkit:GestureListener  Flick="GestureListener_Flick"   />
    </toolkit:GestureService.GestureListener>
    <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
        <ColumnDefinition x:Name="firstCol" Width="40"></ColumnDefinition>
        <ColumnDefinition x:Name="secondCol" Width="10"></ColumnDefinition>
        <ColumnDefinition  Width="*"/>
    </Grid.ColumnDefinitions>
    <views:LeftMenuControl Visibility="Collapsed" x:Name="leftMenuControl" Grid.Column="0" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Grid.Row="1" ></views:LeftMenuControl>
    <Button x:Name="flipBtn" Click="flip_click"  Grid.Column="0" Height="70" Grid.Row="1" VerticalAlignment="Center">

        <Button.Background>
            <ImageBrush ImageSource="file:///C:/VisioLink/Resources/Images/next.png" />
        </Button.Background>
    </Button>
    <Rectangle Fill="Black" Width="1" Grid.Column="1" Grid.Row="1" VerticalAlignment="Stretch" />

    <!--TitlePanel contains the name of the application and page title-->
    <StackPanel x:Name="TitlePanel" Grid.Row="0" Grid.Column="2" Margin="0,0,0,0">
        <TextBlock x:Name="ApplicationTitle" Foreground="Black" Text="Nyhet" Style="{StaticResource PhoneTextNormalStyle}"/>

    </StackPanel>

    <!--ContentPanel - place additional content here-->
    <StackPanel x:Name="ContentPanel" Grid.Row="1"  Grid.Column="2" Margin="5,12,12,0">
        <ListBox x:FieldModifier="public" x:Name="databoundListBoxMag"   SelectionChanged="listBox1_SelectionChanged" ItemContainerStyle="{StaticResource ListBoxItemStyle1}" SelectionMode="Single">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border Margin="7"
                        BorderThickness="1"
                        BorderBrush="SteelBlue"
                        CornerRadius="3" x:Name="border1">
                        <StackPanel Width="450" x:Name="listItemPanel" Orientation="Vertical" Height="100" Margin="10,10,10,10">
                            <StackPanel x:Name="firstStack" Orientation="Horizontal">
                            <Image x:Name="magImage" Height="40" Width="40" Visibility="Collapsed" Source="Example4.PNG"></Image>
                            <TextBlock x:Name="itemone" FontWeight="Bold" TextAlignment="Left" Foreground="Black" Margin="0,0,0,0" HorizontalAlignment="Left"  FontSize="22" Text="{Binding name}" Style="{StaticResource PhoneTextNormalStyle}"/>
                        </StackPanel>
                        <TextBlock x:Name="itemtwo" TextAlignment="Left" Foreground="Black" HorizontalAlignment="Left" Margin="0,0,0,0"  FontSize="16" Text="{Binding content}" Style="{StaticResource PhoneTextNormalStyle}"/>
                            <!--<phone:WebBrowser Name="webBrowserContent"   ScriptNotify="wb1_ScriptNotify"  IsScriptEnabled="True"  Source="http://www.bing.com"  >

                            </phone:WebBrowser>-->
                        </StackPanel>

                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
            <!--<ListBoxItem  Style="{StaticResource ListBoxItemStyle1}">
                <StackPanel x:Name="itemPanel" Grid.Row="0" Margin="0,0,0,28">
                    <TextBlock Height="72" HorizontalAlignment="Left"  Name="nameBlock" Text="{Binding name}" VerticalAlignment="Top" Width="379" />
                    <TextBlock Height="72" HorizontalAlignment="Left"  Name="detailBlock" Text="{Binding detail}" VerticalAlignment="Top" Width="379" />
                </StackPanel>
            </ListBoxItem>-->

        </ListBox>

    </StackPanel>
</Grid>
<!--Sample code showing usage of ApplicationBar-->
<!--<phone:PhoneApplicationPage.ApplicationBar>
    <shell:ApplicationBar IsVisible="True" IsMenuEnabled="True">
        <shell:ApplicationBarIconButton IconUri="/Images/appbar_button1.png" Text="Button 1"/>
        <shell:ApplicationBarIconButton IconUri="/Images/appbar_button2.png" Text="Button 2"/>
        <shell:ApplicationBar.MenuItems>
            <shell:ApplicationBarMenuItem Text="MenuItem 1"/>
            <shell:ApplicationBarMenuItem Text="MenuItem 2"/>
        </shell:ApplicationBar.MenuItems>
    </shell:ApplicationBar>
</phone:PhoneApplicationPage.ApplicationBar>--> 
```

这是它的 .cs

```
 using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Net;
    using System.Windows;
    using System.Windows.Controls;
    using System.Windows.Documents;
    using System.Windows.Input;
    using System.Windows.Media;
    using System.Windows.Media.Animation;
    using System.Windows.Navigation;
    using System.Windows.Shapes;
    using Microsoft.Phone.Controls;
    using System.Windows.Data;
    using System.Globalization;
    using System.Xml;
    using System.Xml.Linq;
    using System.IO;
    using System.IO.IsolatedStorage;
    using System.Windows.Resources;
    using System.Text.RegularExpressions;
    using VisioLink.DTO;

   namespace VisioLink.Views
  {
public partial class MagazineListPage : UserControl
{
    public MagazineListPage()
    {
       InitializeComponent();
    }
    List<Article> articles = new List<Article>();

    public int CatalogId { get; set; }
    public string ContentToSee = string.Empty;
    private void PhoneApplicationPage_Loaded(object sender, RoutedEventArgs e)
    {
        databoundListBoxMag.SelectionChanged += new SelectionChangedEventHandler(listBox1_SelectionChanged);

        // List<Magazine> listMag = new List<Magazine>();
        // listMag.Clear();
        if(IsolatedStorageSettings.ApplicationSettings.Contains("magazineListPage"))
        {
            IsolatedStorageSettings.ApplicationSettings.TryGetValue("magazineListPage", out ContentToSee);
            DoProcessingOnData();
        }
        else
        {
            WebClient client = new WebClient();
            client.DownloadStringCompleted += new DownloadStringCompletedEventHandler(client_DownloadStringCompleted);
            client.DownloadStringAsync(new Uri("http://device01.e-pages.dk/content/default4.php?customer=kaleva&catalog=" + CatalogId, UriKind.RelativeOrAbsolute));

        }

    }

    void client_DownloadStringCompleted(object sender, DownloadStringCompletedEventArgs e)
    {
            ContentToSee = e.Result;
            IsolatedStorageSettings.ApplicationSettings.Add("magazineListPage", e.Result);
            DoProcessingOnData();                   

    }

    private void DoProcessingOnData()
    {
        leftMenuControl.parent = this;

        leftMenuControl.contentToSee = ContentToSee != "" ? ContentToSee : "";

        XDocument doc = XDocument.Parse(ContentToSee);
        XElement content = null;
        foreach (XElement element in doc.Descendants("article"))
        {
            XElement refId = element.Element("refid");
            XElement page = element.Element("page");

            XElement title = element.Element("title");
            XElement images = element.Element("images");
            XElement image = null;
            if (images != null)
            {
                foreach (XElement img in images.Descendants("image"))
                {
                    image = img.Element("medium");
                }
            }
            content = element.Element("content");
            String detail = Regex.Replace(content.Value, @"<[^>]*>", String.Empty);
            String cont = "";
            if (detail.Length > 300)
            {
                cont = detail.Substring(0, 300) + ".....";

            }
            else
            {
                cont = detail;
            }
            Article art = new Article(title.Value, cont);
            art.detail = detail;
            art.page = Convert.ToInt32(page.Value);
            art.refId = refId.Value;
            if (image != null)
            {
                art.imageSrc = image.Value;
            }
            articles.Add(art);
        }

        this.databoundListBoxMag.ItemsSource = articles;
    }

    private void wb1_ScriptNotify(object sender, NotifyEventArgs e)
    {
        // The browser is zooming the text so we need to
        // reduce the pixel size by the zoom level... 
        // Which is about 0.50

    }

    private void listBox1_SelectionChanged(object sender, SelectionChangedEventArgs e)
    {
        Article art = databoundListBoxMag.SelectedItem as Article;
        string id = art.refId;
        MagazinePage page = new MagazinePage();
        page._id = id;
        page._content = art.detail;
        page._title = art.name;
        this.Content = page;
    }
    private void GestureListener_Flick(object sender, FlickGestureEventArgs e)
    {
        if (e.Angle > 90 && e.Angle < 270)
        {
            // MessageBox.Show("right");
            GridLength len = new GridLength(50);
            firstCol.Width = len;
            flipBtn.Visibility = Visibility.Visible;
            leftMenuControl.Visibility = Visibility.Collapsed;

        }
        else
        {

            // MessageBox.Show("left");
        }
    }

    private void flip_click(object sender, RoutedEventArgs e)
    {
        GridLength len = new GridLength(200);
        firstCol.Width = len;
        flipBtn.Visibility = Visibility.Collapsed;
        leftMenuControl.Visibility = Visibility.Visible;
    }
    private void SaveHTMLFile2()
    {
        string fileName = "TextFile2.htm";
        IsolatedStorageFile isolatedStorageFile = IsolatedStorageFile.GetUserStoreForApplication();
        if (isolatedStorageFile.FileExists(fileName) == true)
        {
            isolatedStorageFile.DeleteFile(fileName);
        }
        StreamResourceInfo streamResourceInfo = Application.GetResourceStream(new Uri(fileName, UriKind.Relative));
        using (BinaryReader binaryReader = new BinaryReader(streamResourceInfo.Stream))
        {
            byte[] data = binaryReader.ReadBytes((int)streamResourceInfo.Stream.Length);

            using (BinaryWriter bw = new BinaryWriter(isolatedStorageFile.CreateFile(fileName)))
            {
                bw.Write(data);
                bw.Close();
            }
        }
    }

}

public class BooleanToVisibilityConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        return System.Convert.ToBoolean(value) ? Visibility.Visible : Visibility.Collapsed;
    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        return value.Equals(Visibility.Visible);
    }

} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T09:35:23.177

您需要通过`UserControl`. 请参阅我对此主题的回答：[我的 UserControl 上的 XAML 中的自定义事件](https://stackoverflow.com/questions/8067089/custom-events-in-xaml-on-my-usercontrol-on-windows-phone-7)

# ruby-on-rails - 接受_nested_attributes_for 别名？

> ID：11078252
> 
> 赞同：0
> 
> 时间：2012-06-18T07:05:09.520
> 
> 标签：ruby-on-rails, ruby-on-rails-3, json

在`Topic`模型中：

```
class Topic < ActiveRecord::Base
  has_many :choices, :dependent => :destroy
  accepts_nested_attributes_for :choices
  attr_accessible :title, :choices
end 
```

在 POST 创建期间，`params`提交的是`:choices`，而不是`:choices_attributes`Rails 预期的，并给出错误：

```
ActiveRecord::AssociationTypeMismatch (Choice(#70365943501680) expected,
got ActiveSupport::HashWithIndifferentAccess(#70365951899600)): 
```

有没有办法配置`accepts_nested_attributes_for`接受参数传递`choices`而不是`choices_attributes`JSON 调用？

目前，我在控制器中创建了属性（这似乎不是一个优雅的解决方案）：

```
 def create
    choices = params[:topic].delete(:choices)
    @topic = Topic.new(params[:topic])
    if choices
      choices.each do |choice|
        @topic.choices.build(choice)
      end
    end
    if @topic.save
      render json: @topic, status: :created, location: @topic
    else
      render json: @topic.errors, status: :unprocessable_entity
    end
  end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-15T21:03:26.603

这是一个较老的问题，但我遇到了同样的问题。有没有其他方法可以解决这个问题？看起来“_attributes”字符串是在nested_attributes.rb 代码中硬编码的（[https://github.com/rails/rails/blob/master/activerecord/lib/active_record/nested_attributes.rb#L337](https://github.com/rails/rails/blob/master/activerecord/lib/active_record/nested_attributes.rb#L337)）。

在提交表单时将“choices_attributes”分配给属性很好，但如果它被用于 API 怎么办。在那种情况下，它只是没有意义。

在为 API 传递 JSON 时，有没有人有办法解决这个问题或替代方案？

谢谢。

更新：

好吧，因为我还没有听到任何关于这方面的更新，所以我将展示我现在是如何解决这个问题的。作为 Rails 的新手，我愿意接受建议，但这是我目前唯一能弄清楚的方法。

我在我的 API base_controller.rb 中创建了一个 adjust_for_nested_attributes 方法

```
def adjust_for_nested_attributes(attrs)     
  Array(attrs).each do |param|
    if params[param].present? 
      params["#{param}_attributes"] = params[param]
      params.delete(param)
    end
  end
end 
```

此方法基本上将传入的任何属性转换为#{attr}_attributes，以便它与accepts_nested_attributes_for 一起使用。

然后在需要此功能的每个控制器中，我添加了一个 before_action 像这样

```
before_action only: [:create] do 
  adjust_for_nested_attributes(:choices) 
end 
```

现在我只担心创建，但如果您需要它进行更新，您可以将其添加到 before_action 的“唯一”子句中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T08:42:05.780

`choices=`您可以在模型中创建方法为

```
def choices=(params)
  self.choices_attributes = params
end 
```

但是你会打破你的选择关联的二传手。

最好的方法是修改您的表单以`choices_attributes`返回`choices`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-20T18:13:51.733

```
 # Adds support for creating choices associations via `choices=value`
  # This is in addition to `choices_attributes=value` method provided by
  # `accepts_nested_attributes_for :choices`
  def choices=(value)
    value.is_a?(Array) && value.first.is_a?(Hash) ? (self.choices_attributes = value) : super
  end 
```

# python - 如何检测cherrypy是否正在关闭

> ID：11078254
> 
> 赞同：4
> 
> 时间：2012-06-18T07:05:33.210
> 
> 标签：python, cherrypy

我已经制作了一个基于cherrypy的服务器，但是我有一个重复的任务，需要很长时间（超过一分钟）才能运行。这一切都很好，直到我需要关闭服务器，然后我一直在等待线程完成。

我想知道您如何检测客户端线程内的cherrypy关闭，以便在服务器关闭时线程可以中止。

我追求的是这样的：

```
class RootServer:
    @cherrypy.expose

    def index(self, **keywords):
        for i in range(0,1000):
            lengthyprocess(i)
            if server_is_shutting_down():
                return 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-18T15:28:59.280

您可以直接检查状态：

```
if cherrypy.engine.state != cherrypy.engine.states.STARTED:
    return 
```

或者，您可以在“停止”通道上注册一个侦听器：

```
class RootServer:

    def __init__(self):
        cherrypy.engine.subscribe('start', self.start)
        cherrypy.engine.subscribe('stop', self.stop)

    def start(self):
        self.running = True

    def stop(self):
        self.running = False

    @cherrypy.expose
    def index(self, **keywords):
        for i in range(0,1000):
            lengthyprocess(i)
            if not self.running:
                return 
```

如果您还希望在服务器启动时而不是在请求时启动冗长的进程（或执行一些准备），则后者特别有用。

# c# - 如何在 Quickbooks 中检索账单信息以进行检查

> ID：11078255
> 
> 赞同：0
> 
> 时间：2012-06-18T07:05:36.403
> 
> 标签：c#, quickbooks, qbfc

我想获取已生成特定支票的所有账单的列表。

考虑我在一个表格上有 2 个网格。第一个网格 ( `gridChecks`) 显示 Quickbooks 中的所有支票，当用户选择支票时，链接到该支票的所有账单都应显示在第二个网格中，即`gridBills`有列`Date, Type, ReferenceNumber, OriginalAmount, Balance, Paid Amount`。

我无法找到如何使用`IBillPaymentCheckRet`或使用哪个界面以及如何使用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T17:20:44.780

已应用支票的账单在`AppliedToTxnRet`元素 ( `QBFC: AppliedToTxnRetList`) 中引用。为了填充此元素，您必须在查询请求的`IncludeRetElement`列表中指定它。`BillPaymentCheck`

# liferay - 将 conf 菜单添加到我的 portlet

> ID：11078256
> 
> 赞同：4
> 
> 时间：2012-06-18T07:05:42.050
> 
> 标签：liferay, portlet

我正在尝试在我的自定义 portlet 的 conf 中添加一个选项卡，在本地导入/导出和权限旁边。

就像这张图片：http: [//imageshack.us/photo/my-images/716/sampledn.png/](http://imageshack.us/photo/my-images/716/sampledn.png/)

此选项卡必须允许更改定义某些变量的 conf.properties 中的参数值。

我怎样才能做到这一点？

问候。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T13:32:46.747

Yup you can do it by first of all adding this to your portlet.xml as a child of the "portlet" node:

```
 <init-param>
        <name>config-jsp</name>
        <value>/html/config.jsp</value>
    </init-param> 
```

The in your liferay-portlet.xml you need to add this as a child of the "portlet" node:

```
<configuration-action-class>com.yourportlet.action.ConfigurationActionImpl</configuration-action-class> 
```

Then you need to create this files in the directories you've specified in your XML, and your ConfigurationActionImpl should implement the ConfigurationAction interface so the skeleton would look like this:

```
public class ConfigurationActionImpl implements ConfigurationAction {

@Override
public String render(PortletConfig config, RenderRequest renderRequest, RenderResponse renderResponse) throws Exception {                   
    return "/html/config.jsp";
} 
```

Let me know if this helps or you have any other questions! :)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:19:08.123

将编辑模式添加到您的 portlet.xml：

```
 <supports>
        <mime-type>text/html</mime-type>
        <portlet-mode>view</portlet-mode>
        <portlet-mode>edit</portlet-mode> <!-- add this line -->
    </supports> 
```

然后您将在菜单中看到首选项选项。覆盖 portlet 类中的 doEdit 方法以呈现编辑模式的内容。

**编辑：**

更高级的解决方案：

您可以通过钩子更改门户 jsp 来添加另一个选项卡。您需要更改的jsp是：

/html/portlet/portlet_configuration/tabs1.jsp

请注意，这将更改所有 portlet 的配置窗口。

# ajax - Internet Explorer 和 JSON

> ID：11078258
> 
> 赞同：0
> 
> 时间：2012-06-18T07:05:51.300
> 
> 标签：ajax, json, internet-explorer, parse-error

我对 IE 有一种奇怪的行为。在开发环境中，JSON 调用可以完美运行，而在生产环境中，即使状态代码为 200，它们也会因“parsererror”而失败。我在 stackoverflow 中看到了其他消息，但我之所以发布，是因为我在两者之间有这种不同的行为环境。

开发环境：Ubuntu / Tomcat 6.026

产品环境：Win 2003 服务器/Tomcat 6.0.33

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T10:21:41.687

我通过将内容类型和字符集添加到 @RequestMapping 注释来解决

```
@RequestMapping(value = "/paged", method = RequestMethod.GET, produces="application/json; charset=utf-8") 
```

# iphone - 我们是否需要 adobe Digital Marketing Suite 对我的 ios 应用的 appMeasurement 进行身份验证？

> ID：11078259
> 
> 赞同：-1
> 
> 时间：2012-06-18T07:06:10.627
> 
> 标签：iphone, objective-c, adobe-analytics

我只想在我的 IOS 应用程序中使用 adobe 的omniture，所以我需要在omniture 中的数字营销套件上创建一个帐户。谁能提供我使用omniture 的任何**示例源代码**。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T22:44:15.847

如果您或您的组织是现有的 Digital Marketing Suite 客户，您可以通过导航到管理控制台中的代码管理器来获取所有测量库。您还可以在此处的帮助界面中获取实现代码示例：

[http://microsite.omniture.com/t2/help/en_US/home/index.html#Developer](http://microsite.omniture.com/t2/help/en_US/home/index.html#Developer)

如果您不是现有用户，则没有太多理由或用途来实现代码，因为您将无法访问由此产生的任何报告。

# sql-server - 如何获得计算值的总和

> ID：11078261
> 
> 赞同：0
> 
> 时间：2012-06-18T07:06:22.050
> 
> 标签：sql-server, sql-server-2008, sql-server-2005

```
 select sum(Weight) as 'PP04' from dbo.tbl_insertxmldetails where 
        Section in (select Material from [Mst_tbl_ExtMaterialGroupList] 
        where [Ext# Matl Group] = 'PP04') and
        OrderName like @jobno+'%' 
```

--PP12

```
 select sum(Weight) as 'PP12' from dbo.tbl_insertxmldetails where 
         Section in (select Material from [Mst_tbl_ExtMaterialGroupList] 
         where [Ext# Matl Group] = 'PP12') and
         OrderName like @jobno+'%' 
```

我想编写存储过程来计算同一存储过程中的一些 PP04 和 PP12。如何在单个语句中编写查询。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:18:21.710

目前尚不清楚您希望如何返回总和，或者您是否仍希望将部分总和与总数一起返回。

如果您只需要总值，请使用以下查询而不是其他两个：

```
SELECT
  Total = SUM(Weight)
FROM dbo.tbl_insertxmldetails
WHERE x.OrderName LIKE @jobno + '%'
  AND Section IN (
    SELECT Material
    FROM [Mst_tbl_ExtMaterialGroupList] 
    WHERE [Ext# Matl Group] IN ('PP04', 'PP12')
  )
; 
```

如果您想要所有三个值，您应该指定是否要将它们作为单行的单独列：

```
PP04   PP12   Total
-----  -----  -----
…      …      … 
```

或在单个列中但在单独的行中：

```
Ext# Matl Group  Weight
---------------  ------
PP04             …
PP12             …
Total            … 
```

如果是前者（单行，单独的列），这是实现这一目标的一种方法：

```
SELECT
  PP04  = SUM(CASE m.[Ext# Matl Group] WHEN 'PP04' THEN x.Weight END),
  PP12  = SUM(CASE m.[Ext# Matl Group] WHEN 'PP12' THEN x.Weight END),
  Total = SUM(x.Weight)
FROM dbo.tbl_insertxmldetails AS x
  INNER JOIN Mst_tbl_ExtMaterialGroupList AS m ON x.Section = m.Material
WHERE m.[Ext# Matl Group] IN ('PP04', 'PP12')
  AND x.OrderName LIKE @jobno + '%'
; 
```

如果您希望将结果放在单独的行中，那么您可以尝试使用汇总进行分组：

```
SELECT
  [Ext# Matl Group] = COALESCE(m.[Ext# Matl Group], 'Total'),
  Weight            = SUM(x.Weight)
FROM dbo.tbl_insertxmldetails AS x
  INNER JOIN Mst_tbl_ExtMaterialGroupList AS m ON x.Section = m.Material
WHERE m.[Ext# Matl Group] IN ('PP04', 'PP12')
  AND x.OrderName LIKE @jobno + '%'
GROUP BY
  ROLLUP(m.[Ext# Matl Group])
; 
```

注意：如果您的数据库处于 SQL Server 2000 兼容模式，`GROUP BY ROLLUP()`将无法工作。在这种情况下，请使用旧语法：

```
…
GROUP BY
  m.[Ext# Matl Group]
WITH ROLLUP 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:08:33.670

```
create procedure calcProc as
   declare @returnValue int

   select @returnValue = sum(Weight) as 'PP04' ...
   select @returnValue = @returnValue  + sum(Weight) as 'PP12' ...

   select @returnValue 
go 
```

# html - 如何摆脱 GMail HTML 电子邮件中的“显示修剪内容”？

> ID：11078264
> 
> 赞同：65
> 
> 时间：2012-06-18T07:06:37.617
> 
> 标签：html, gmail, html-email

我发送了很多 HTML 电子邮件。GMail 的问题是，如果有多封相同主题的电子邮件，它会隐藏一些相似的内容并显示“...”以显示“修剪的内容”。这搞砸了我的格式。

如果改变主题不是一种选择，有没有办法避免这种行为？

编辑：我应该澄清一下，我使用 Amazon SES 从 php 脚本以编程方式发送电子邮件。这就是我在 Stack Overflow 中发布问题的原因。

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2013-01-29T15:06:18.147

我自己也遇到过这个问题，从我的调查来看，如果 GMail 确实与前面的电子邮件相似，它确实会修剪内容。

我的解决方案只是在每封电子邮件的末尾插入当前时间戳：

> [15:02:21 29/01/2013] 消息结束。

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2018-04-27T05:32:39.897

为了防止在 HTML 电子邮件中出现这种情况，我添加了两个不可见的独特元素：在邮件的开头和结尾。像这样：

```
...

<body>
<!-- this ensures Gmail doesn't trim the email -->
<span style="opacity: 0"> {{ randomness }} </span>

...

<!-- this ensures Gmail doesn't trim the email -->
<span style="opacity: 0"> {{ randomness }} </span>
</body> 
```

`{{ randomness }}`正在被我的模板引擎替换为`Date.now()`（我正在使用 node.js，可以是任何产生唯一输出的东西）

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2013-03-04T17:41:54.700

瞧！最后经过长时间的测试，我找到了解决这个问题的方法。

如果邮件与以前的邮件相似，或者邮件的主题与邮件内容中的内容一样，Gmail 所做的就是将其放入“显示修剪过的内容”选项中。

为避免这种情况，只需尝试在您的邮件中插入任何随机生成的字符串，这将使您的电子邮件消息与众不同，并且不会让 Gmail 插入“显示修剪的内容”选项。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-04-16T05:11:15.413

如果你不能改变你的主题，你当然可以去优化 HTML 邮件。

1.  因为 Gmail 允许的 HTML 文件大小为 102kb。如果 Gmail 发现您的 HTML 文件大小超过 102kb，那么它会在您的 HTML 邮件底部显示已剪辑的消息。文件大小与邮件中包含的图像大小无关（我正在考虑此处的图像链接）。

2.  如果您的 HTML 文件中有很多空格和回车符。所以最好的选择是使用 mail chimps 内联 CSS 工具内联你的 CSS，然后压缩你的 HTML 文件（然后有许多在线的 HTML 压缩器可用）。这 2 个技巧肯定会起作用，以避免您的电子邮件被截断消息。

更多参考可以访问[这个](http://www.adestra.com/avoid-gmail-clipping-emails/)链接。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2016-10-20T10:26:37.247

设置 --> 常规 --> 对话视图 --> 对话视图关闭

这基本上不会对电子邮件进行分组，而且不会修剪内容。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-09-25T05:23:47.660

在您的签名下方插入一两个随机字符似乎足以混淆 gmail 以使内容保持不变，但也让我看起来像一个醉酒的疯子。如果 google 希望人们认真对待 gmail，则需要解决此问题。我希望可以选择集成更多的谷歌产品，但是像这样不费吹灰之力的小错误让我很难做出承诺。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2014-01-27T21:24:41.400

除了其他答案之外，请注意，大小超过 102K 的消息可能会被修剪。注意导致文件过大的臃肿 CSS 或内联图像。

编辑：此信息的一些来源，供好奇者使用-

*   [关于酸的电子邮件](http://www.emailonacid.com/blog/details/C13/12_things_you_must_know_when_developing_for_gmail_and_gmail_mobile_apps#gmail_tip10)
*   [发送循环](http://sendloop.com/blog/whats-the-maximum-file-size-for-an-html-email)
*   [精确定位](http://www.pinpointe.com/blog/gmail-html-email-tips)

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2017-03-08T09:07:20.253

我认为这将是避免“**隐藏扩展内容 Gmail** ”并防止内容被剥离的最佳选择。

有两种方法可以做到这一点。

1.  只需在电子邮件末尾添加一个随机数
2.  只需将小书签添加到您的书签工具栏，然后在您要撰写电子邮件时单击即可

欲了解更多详情，请点击以下链接

[参考](https://www.labnol.org/internet/gmail-trimming-signature/28762/)

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2015-01-11T14:39:37.343

Just insert any unique content after the trimmed contents. That can be anything. Even you can make it invisible by adding it in very light color, like light gray.

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2012-07-06T15:04:37.570

此线程中有一些解决方法：

[http://productforums.google.com/forum/#!topic/gmail/yoAlDr3PyN4](http://productforums.google.com/forum/#!topic/gmail/yoAlDr3PyN4)

不过，解决方法似乎很蹩脚。我希望你有第二个名字......

> 我只记得有一个建议，在您的签名中使用不同的名称。
> 
> 如果您的名字是 Jim，请尝试使用 Melvin 或 Horatio。这应该可以防止修剪，但不能保证。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2020-08-13T16:29:30.547

如果收件人具有来自同一地址的相同内容，则如果邮件内容相同，Gmail 会执行此操作。因此，您应该生成一些随机 ID，或者动态地在 HTML 中进行更改。此外，如果您将随机 ID 放入隐藏类型的内容中，隐藏类型将被忽略。

解决方案：在用python生成HTML时，我决定把今天的日期。

```
import datetime
datetime.datetime.now().strftime("%d %B %Y, %H:%M:%S %p")

13 August 2020, 20:29:15 PM 
```

* * *

## 回答 #12

> 赞同：-5
> 
> 时间：2015-03-04T19:10:42.580

只需删除您的 gmail 签名正上方将您的消息与签名分开的小条。

# c++ - 是否有 eval("function(arg1, arg2)") 的 C/C++ 等价物？

> ID：11078267
> 
> 赞同：30
> 
> 时间：2012-06-18T07:06:44.827
> 
> 标签：c++, eval

它需要一种方法来调用名称存储在类似于 eval 的字符串中的函数。你能帮我吗？

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-06-18T07:34:17.900

C++ 没有反射，所以你必须破解它，即：

```
#include <iostream>
#include <map>
#include <string>
#include <functional>

void foo() { std::cout << "foo()"; }
void boo() { std::cout << "boo()"; }
void too() { std::cout << "too()"; }
void goo() { std::cout << "goo()"; }

int main() {
  std::map<std::string, std::function<void()>> functions;
  functions["foo"] = foo;
  functions["boo"] = boo;
  functions["too"] = too;
  functions["goo"] = goo;

  std::string func;
  std::cin >> func;
  if (functions.find(func) != functions.end()) {
    functions[func]();
  }
  return 0;
} 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-06-18T07:10:04.323

至少有两种选择：

*   [命令](http://en.wikipedia.org/wiki/Command_pattern)模式。
*   在 Windows 上，您可以使用`GetProcAddress`按名称获取回调，并在 *nix 上使用`dlopen`+ 。`dlsym`

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2016-07-27T21:47:21.630

```
#include <iostream>
#include <fstream>
#include <cstdlib>
using namespace std;

double eval( string expression );

int main( int argc, char *argv[] )
{
    string expression = "";
    for ( int i = 1; i < argc; i++ )
    {
       expression = expression + argv[i];
    }
    cout << "Expression [ " << expression << " ] = " << endl;

    eval( expression );
}

double eval( string expression )
{
    string program = "";
    program = program + "#include <cmath>\n";
    program = program + "#include <iostream>\n";
    program = program + "using namespace std;\n";
    program = program + "int main()\n";
    program = program + "{\n";
    program = program + "   cout << ";
    program = program + expression;
    program = program + " << endl;\n";
    program = program + "}";

    ofstream out( "abc.cpp" );
    out << program;
    out.close();

    system( "g++ -o abc.exe abc.cpp" );
    system( "abc" );
} 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-06-18T07:51:55.507

您可以尝试采用现有的脚本引擎，向它公开您喜欢的功能，然后使用它来评估您的语句。V8 引擎就是这样一种引擎：[https](https://developers.google.com/v8/intro) ://developers.google.com/v8/intro ，但有许多替代方案和不同的语言可供选择。

这里有些例子：

*   [提升 Python](http://www.boost.org/doc/libs/1_49_0/libs/python/doc/)
*   [V8](https://developers.google.com/v8/intro)
*   [卢阿](http://www.lua.org/)
*   [天使脚本](http://www.angelcode.com/angelscript/)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2016-06-02T11:08:45.053

除了在程序中使用函数映射并在 Makefile 上破解它，您可以通过**ELF**访问它。

我认为这种方法更好，因为它不需要编写重复的代码并每次在不同的机器上编译它。

这是我的演示[C/C++ 等价于 eval(“function(arg1, arg2)”)](https://github.com/YongHaoWu/C_eval)

```
#include<stdio.h>
#include<stdlib.h>
#include<elf.h>
#include<libelf.h>
#include<unistd.h>
#include<fcntl.h>
#include<gelf.h>
#include<string.h>

void my_fun()
{
    int a = 19;
    printf("my_fun is excute, a is %d \n", a);
}

void my_fun2()
{
    printf("my_fun2 is excute\n");
    return;
}

void my_fun3()
{
    return;
}

void excute_fun(char *program_name, char *function_name)
{
    int i, count;
    Elf32_Ehdr *ehdr;
    GElf_Shdr   shdr;
    Elf *elf;
    Elf_Scn *scn = NULL;
    Elf_Data *data;
    int flag = 0;
    int fd = open(program_name, O_RDONLY);
    if(fd < 0) {
        perror("open\n");
        exit(1);
    }
    if(elf_version(EV_CURRENT) == EV_NONE) {
        perror("elf_version == EV_NONE");
        exit(1);
    }
    elf = elf_begin(fd, ELF_C_READ, (Elf *) NULL);
    if(!elf) {
        perror("elf error\n");
        exit(1);
    }
    /* Elf32_Off e_shoff; */
    /* if ((ehdr = elf32_getehdr(elf)) != 0) { */
    /*     e_shoff = ehdr->e_shoff; */
    /* } */
    /* scn = elf_getscn(elf, 0); */
    /* printf("e_shoff is %u\n", e_shoff); */
    /* scn += e_shoff; */
    while ((scn = elf_nextscn(elf, scn)) != NULL) {
        gelf_getshdr(scn, &shdr);
        if (shdr.sh_type == SHT_SYMTAB) {
            /* found a symbol table. */
            break;
        }
    }
    data = elf_getdata(scn, NULL);
    if(!shdr.sh_entsize)
        count = 0;
    else
        count = shdr.sh_size / shdr.sh_entsize;
    for (i = 0; i < count; ++i) {
        GElf_Sym sym;
        gelf_getsym(data, i, &sym);
        char *sym_name = elf_strptr(elf, shdr.sh_link, sym.st_name);
        if(sym_name != NULL && sym_name[0] != '_' && sym_name[0] != '\0' && sym_name[0] != ' ' && sym.st_value != 0)
        {
            /* printf("sym_name is %s\n", sym_name); */
            /* printf("%s = %X\n", elf_strptr(elf, shdr.sh_link, sym.st_name), sym.st_value); */
            if(!strcmp(sym_name, function_name)) {
                void (*fun)(void) = (void*)sym.st_value;
                (*fun)();
                flag = 1;
            }
        }
    }
    if(!flag)
        printf("can not find this function\n");

    elf_end(elf);
    close(fd);
}

int main(int argc, char *argv[])
{
    char *input = (char*)malloc(100);
    for(;;) {
        printf("input function_name to excute: ");
        scanf("%s", input);
        excute_fun(argv[0], input);
        memset(input, 0, sizeof(input));
        printf("\n");
    }
    free(input);
    return 0;
} 
```

此实现基于[打印 ELF 符号表的示例](https://docs.oracle.com/cd/E19683-01/817-0679/6mgfb878d/index.html)

# .net - 如果不存在则插入，使用自动增量主键。mvc3

> ID：11078284
> 
> 赞同：1
> 
> 时间：2012-06-18T07:07:49.613
> 
> 标签：.net, asp.net-mvc-3, insert, primary-key, auto-increment

我有自动增量主键的问题..

当我将学生添加到我的数据库时，我可以一遍又一遍地添加同一个学生，因为学生的主键是自动递增的，所以它当然不会重复，我需要验证学生的 SSN 没有插入前已存在于数据库中。

我怎么能在 mvc3 上做到这一点？（我在 .net 和 mvc3 中是全新的）

我在学生控制器中创建的代码是：

```
[HttpPost]
    public ActionResult Create(Alumno alumno)
    {
        try
        {
            using (var db = new administracionEntities())
            {
                db.Alumno.Add(alumno);
                db.SaveChanges();
            }
            return RedirectToAction("Index");
        }
        catch
        {
            return View();
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:12:27.647

在插入之前检查输入 alumno.ssn 是否不存在

```
db.Alumno.where(a=> a.ssn == alumno.ssn).Any() 
```

如果返回 true，则数据库中存在 ssn。

在 MVC 中有不同的方法可以实现这一点。在其中一种方法中，您可以在对控制器的单独调用中进行此调用，而不是在 Create Action 中进行调用。您可以通过 JQuery.Ajax 调用客户端上的 SSN 文本框模糊事件来检查是否存在重复的 SSN。

```
$.ajax({
   type: "Get",
   url: "StudentController/DoesSSNExist",
   data: "ssn=#", 
   success: function(msg){
       if(msg)
        alert('ssn already exists');
   } 
```

这是控制器动作

```
public bool DoesSSNExist(string ssn)
{
    return db.Alumno.where(a=> a.ssn == ssn).Any()
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-21T23:46:15.577

在我的模型类

```
public class Student {
    public int StudentID { get; set; }
    [Remote("UsernameChecker", "Student")]
    public string Username { get; set; }
} 
```

在我的控制器中

```
public virtual JsonResult UsernameChecker(string Username){
    bool checkuser = db.Student.Any(i => i.Username == Username);
    return checkuser
        ? Json("Username already exists", JsonRequestBehavior.AllowGet)
        : Json(true, JsonRequestBehavior.AllowGet);
} 
```

# c - 从 Ruby 调用 ANSI C 方法

> ID：11078286
> 
> 赞同：0
> 
> 时间：2012-06-18T07:08:07.320
> 
> 标签：c, ruby, dll

有一个`dll`用 ANSI C 构建的。它有一些可以导出的方法 ( `extern "C"`)。

是否可以从 Ruby 1.9.3（或 Ruby on Rails 3.2.3）调用它们？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T07:26:42.540

看看[Ruby FFI](https://github.com/ffi/ffi)：

> Ruby-FFI 是一个 ruby​​ 扩展，用于以编程方式加载动态库、在其中绑定函数以及从 Ruby 代码调用这些函数。此外，Ruby-FFI 扩展无需更改即可在 Ruby 和 JRuby 上运行。

要查看有关如何调用 Windows DLL 函数的示例，您可以查看 Wiki：
[https ://github.com/ffi/ffi/wiki/Windows-Examples](https://github.com/ffi/ffi/wiki/Windows-Examples)

# sqlite - SQLITE：如何向表中添加几列？

> ID：11078289
> 
> 赞同：1
> 
> 时间：2012-06-18T07:08:32.127
> 
> 标签：sqlite

嗨，在我的应用程序中，我使用的是 SQLITE 数据库，

我想在表中添加多个列，

如果我要添加一个可以正常工作的列，

我正在使用 ALTER 表添加新列，

有了这个我可以更新一列，

```
ALTER TABLE "main"."tblCredit" ADD COLUMN "CardDetail" VARCHAR 
```

但是如何在`tblCredit`表中添加多个列。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-18T07:10:36.243

重复调用`ALTER TABLE`.

无论如何，你不应该经常这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-03-17T07:19:33.757

在 DB2 中，借助 alter 命令在表中添加多列

```
ALTER TABLE TABLE_NAME ADD COLUMN F_NAME VARCHAR(30)
ADD COLUMN L_NAME VARCHAR(30)
ADD COLUMN ROLL_NO INTEGER
ADD COLUMN MOBILE_NUMBER VARCHAR(12); 
```

# html - Expand Collapse for JQMobi not working in the nav tag

> ID：11078293
> 
> 赞同：0
> 
> 时间：2012-06-18T07:09:14.050
> 
> 标签：html, expand, collapse, nav, jqmobi

展开折叠 JQMobi 在侧导航栏（导航标签）中不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-01T16:42:31.237

你的意思是你不能让侧面菜单切换？您在 iPad 或其他宽设备上吗？如果是这样，那是设计使然。有关详细信息，请参阅[此线程](http://forums.appmobi.com/viewtopic.php?f=26&t=1215&p=5565&hilit=toggle%20menu#p5565)。

检查`jq.ui.css`文件。在最底部有一个媒体查询说：

`@media handheld,only screen and (min-width: 768px)`

如果您想为任何宽度设备提供切换菜单，只需更改为`min-width: 9999px;`
（或一起删除媒体查询 CSS）

# javascript - Extjs 在基本 CRUD 之外实现存储

> ID：11078298
> 
> 赞同：0
> 
> 时间：2012-06-18T07:09:40.110
> 
> 标签：javascript, extjs4, extjs-stores

我在使用 extjs 实现服务器端功能时遇到了一种情况。
问题是我需要从服务器端获取数据，比如文件系统。我没有将文件系统存储在某个数据库中，所以我没有任何“id”字段开头。
然后，用户可以对文件系统中的节点（文件或目录）执行多项操作。
就像重命名、删除、添加新文件、添加新目录、更改文件内容、复制文件、移动文件一样。
对于所有这些，Extjs stores.api 提供的基本 CRUD 功能还不够。那么有没有办法扩展 api 或商店本身的功能呢？
或者关于改变架构的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T02:48:39.820

我认为您应该查看的是代理（例如 Ext.data.proxy.Proxy），而不是商店。例如，您可以考虑创建一个扩展 WebProxy 的自定义代理（如果 WebProxy 具有您正在寻找的某些功能）。

另一个想法是通过 web 服务公开您需要在服务器上执行的所有操作，然后您可以使用 ajax 代理的 extjs 实现在需要时触发这些操作。

# makefile - Makefile 自动依赖生成 (%.o)

> ID：11078300
> 
> 赞同：0
> 
> 时间：2012-06-18T07:10:04.187
> 
> 标签：makefile

我想使用此处上演的自动依赖管理技巧制作 *.[cpp,h] 文件的平面布局：http: [//locklessinc.com/articles/makefile_tricks/](http://locklessinc.com/articles/makefile_tricks/)

我的工作是：

```
.PHONY：全部干净

CXX ?= g++
调试？=“1”

ifeq ($(DEBUG), "1")
    CFLAGS+=-g
万一

BODIES := ExecuteStart GraphNode IdNodeMap IdValuePairCollection IScenarioReader XMLScenarioReader INodeExecute
SRCS := $(添加后缀 .cpp, $(BODIES))
对象 := $(addsuffix .o, $(BODIES))
DEPS := $(添加后缀 .d, $(SRCS))

无依赖 = %.o %.a %.d %.h
展开 = $($(var)) $(var) $(var).d
依赖测试 = $(如果 $(过滤器 $(dependless),$(var)),$(var),$(expand))
依赖 = $(排序 $(foreach var,$(1),$(depend_test)))

默认：全部

包括 $(通配符 *.d)

& = $(过滤掉 %.h %.d,$^)

全部：$（对象）

%.cpp.d: %.cpp
    @echo 为 $ $@' 创建 $@'

干净的：
    rm $(对象) $(DEPS)

```

问题是规则 %.o: $(call depend, %.cpp) 不起作用，因此如果我制作 --warn-undefined-variables 它会警告 %.cpp。结果是 make 弄清楚如何生成 *.o 文件并且不使用我的规则。

我有跳过的问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T19:15:37.703

我在规则中发现了可怕的失误：

```
全部：$（DEPS）$（对象）

```

这解决了这个问题。但它需要明确的“生成依赖”规则添加到所有。

# jquery - 如何从“ ”获取文本

> ID：11078302
> 
> 赞同：-1
> 
> 时间：2012-06-18T07:10:06.680
> 
> 标签：jquery

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T07:11:45.447

```
$('#here').text($('#group_name').text()); 
```

上面的代码应该可以工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:13:00.923

# ruby-on-rails - 这个错误在 Rails 中是什么意思：“Errno::ENOENT in AssetsController#get ...No such file or directory....”

> ID：11078303
> 
> 赞同：0
> 
> 时间：2012-06-18T07:10:13.753
> 
> 标签：ruby-on-rails, file-upload, amazon-s3, paperclip

我正在编写一个应用程序来在 Amazon S3 上存储文件。我非常接近，我能够使用 url 保存和检索文件。但是，由于这些链接是公开的，我试图在我的 assetscontroller 中使用以下方法从 S3 检索存储的文件。

作为链接，可以在浏览器中查看/访问这些文件，但如果我使用此代码：

```
#This action will let the users download the files (after a simple authorization check)
def get
  asset = current_user.assets.find_by_id(params[:id])
  if asset
  #Parse the URL for special characters first before downloading  
  data = open("#{URI.parse(URI.encode(asset.uploaded_file.url))}")
  #then again, use the "send_data" method to send the above binary "data" as file.  
   send_data data, :filename => asset.uploaded_file_file_name 

 else
   flash[:error]="Access Violation"
   redirect_to assets_path
 end 
```

结尾

我在浏览器中收到此错误：

```
Errno::ENOENT in AssetsController#get
No such file or directory - http://s3.amazonaws.com/BUCKETNAME/assets/29/FILENAME.jpeg?    1339979591 
```

当我在登录 S3 管理控制台时单击 S3 站点上的资源时，该文件显示在我的浏览器中，其链接为

```
https://s3.amazonaws.com/BUCKETNAME/assets/29/FILENAME.jpeg?     AWSAccessKeyId=XXXXXXXXXXXExpires=1340003832&Signature=XXXXXXXXXXXXXXXXXX-amz-security-      token=XXXXXXXXX//////////XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX 
```

所以它确实存在但无法通过我的应用程序访问

这是我的浏览器中的应用程序跟踪：

```
app/controllers/assets_controller.rb:99:in `initialize'
app/controllers/assets_controller.rb:99:in `open'
app/controllers/assets_controller.rb:99:in `get' 
```

关于发生了什么的任何线索？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-02T15:35:28.133

您也可以将用户重定向到 S3 上的文件。

你试一试

```
redirect_to asset.uploaded_file.url 
```

而不是`send_file`. `send_file`需要一个本地文件的路径，然后由网络服务器使用。

如果你已经设置`s3_permissions => :private`，那么你需要调用

```
redirect_to asset.uploaded_file.expiring_url(10) 
```

有趣的是，在您的错误消息中，它是 s3 中针对 https 的 http - 您也可以尝试将以下选项添加到模型的 has_attached_file

```
:s3_protocol => 'https' 
```

希望这可以帮助。

# python - 如何在classytags（django）中传递*args

> ID：11078312
> 
> 赞同：-2
> 
> 时间：2012-06-18T07:11:05.620
> 
> 标签：python, django

在这里，我想在优雅的标签中发送一个未知参数列表，我在网站上搜索过它，但没有发现任何有用的东西。

请帮帮我

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T09:36:50.683

转到给定的链接，此处已正确解释

[django-classy-tags.readthedocs.org/en/latest/…](http://django-classy-tags.readthedocs.org/en/latest/reference.html#classytags.arguments.MultiKeywordArgument)

# arm - 可以在arm平台上运行qtmobility

> ID：11078313
> 
> 赞同：1
> 
> 时间：2012-06-18T07:11:27.203
> 
> 标签：arm, gstreamer, multimedia, qt-mobility

我将 qtmobility modules 多媒体编译到 arm（使用 QtE4.8.1 arm-linux-gcc），我还将 lib 文件和插件文件放在我的 arm linux 文件系统中。当我运行演示视频播放器（在桌面上运行良好）有像这样的错误：</p>

找不到服务 - “com.nokia.qt.mediaplayer” 是否可以在其上运行 qtmobility 多媒体套件

所以我把 gstreamer 库放在 arm-linux-gcc 编译的 /lib 目录中。也发生了错误

(:267): GStreamer-CRITICAL **: gst_object_ref: 断言`object != NULL' failed (<unknown>:267): GLib-GObject-CRITICAL **: g_object_set: assertion`G_IS_OBJECT (object)' 失败 (:267): GStreamer-CRITICAL **: gst_object_ref: 断言`object != NULL' failed (<unknown>:267): GStreamer-CRITICAL **: gst_element_link_pads_full: assertion`GST_IS_ELEMENT (dest)' 失败 (:267): GStreamer-CRITICAL ** ：gst_element_set_state：断言`GST_IS_ELEMENT (element)' failed (<unknown>:267): GStreamer-CRITICAL **: gst_element_set_state: assertion`GST_IS_ELEMENT（元素）'失败（：267）：GStreamer-CRITICAL **：gst_element_unlink：断言`GST_IS_ELEMENT (dest)' failed (<unknown>:267): GStreamer-CRITICAL **: gst_bin_remove: assertion`GST_IS_ELEMENT（元素）'失败（：267）：GStreamer-CRITICAL **：gst_obje

有什么帮助吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T19:19:53.197

你好像有什么事情搞砸了。你知道 GStreamer 有原生的 qt 绑定吗？

# php - 如何使 dojo 数据网格具有可编辑的行数据、可排序和分页

> ID：11078314
> 
> 赞同：0
> 
> 时间：2012-06-18T07:11:32.920
> 
> 标签：php, mysql, json, dojo, dojox.grid

我有一个带有 json 类型数据存储的 dojo 数据网格。我已经完成了显示从 mysql 数据库中获取的数据。我想做的是允许分页，使行数据可编辑并将编辑后的数据更新到数据库中。这是我到目前为止所得到的：

```
<style type="text/css">
    @import "dojoroot/dijit/themes/claro/claro.css";
    @import "dojoroot/dojo/resources/dojo.css";
    @import "dojoroot/dojox/grid/enhanced/resources/claro/EnhancedGrid.css";
    @import "dojoroot/dojox/grid/enhanced/resources/EnhancedGrid_rtl.css";

</style>
<script type="text/javascript" src="dojoroot/dojo/dojo.js" data-dojo-config="async: true, isDebug: true, parseOnLoad: true"></script>
<script type="text/javascript">

require(["dojo/store/JsonRest"], function(JsonRest){
    myStore = new JsonRest({target:"jsonExample.php"});
});
require([
"dojox/grid/EnhancedGrid",
"dojox/grid/enhanced/plugins/Pagination",
"dojo/data/ObjectStore",
"dojo/domReady!",
"dijit/form/Form"
], function(DataGrid, ObjectStore){
grid = new DataGrid({
store: dataStore = ObjectStore({objectStore: myStore}),
editable:true,
structure: [
    {name:"ID", field:"writer_id", width: "50px"},
    {name:"Writer's Name", field:"writer_name", width: "200px", editable: true},
    {name:"Writer's Email", field:"writer_email", width: "200px", editable: true}
],
//declare usage of plugins
plugins: {
    pagination: {
        sizeSwitch: false,
        defaultPageSize: 10
    }
},
}, "target-node-id"); // make sure you have a target HTML element with this id
grid.startup();
});
</script> 
```

jsonExample.php 从 mysql 获取数据并将数据转换为 json 格式

```
<?php
$db=mysql_connect("localhost","root","") or die("could not connect to mysql server");
mysql_select_db("demo",$db) or die("could not connect to database");
$query="SELECT * FROM writers";
$resultSet=mysql_query($query,$db);
$arr = array();
while($row = mysql_fetch_object($resultSet)){               
    $arr[] = $row;
}
$jsonStr = json_encode($arr);
mysql_close($db);
echo "{$jsonStr}";
?> 
```

我在我的 javascript 控制台中收到以下错误 this.option is undefined this.defaultPage=this.option.defaultPage>=1?parseInt(this.option.defaultPage,10):1;

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:49:15.197

要使您的网格可编辑，您应该将网格布局（结构）列设置为可编辑，如下所示：

```
structure: [
    {name:"ID", field:"writer_id", width: "50px"},
    {name:"Writer's Name", field:"writer_name", width: "200px", editable: true, type: dijit.form.TextBox}, //make editable and use input
    {name:"Writer's Email", field:"writer_email", width: "200px", editable: true, type: dijit.form.Textarea} //make editable and use textarea
] 
```

要启用分页，您必须使用**dojox/grid/EnhancedGrid**而不是 DataGrid 并加载一个名为**dojox/grid/enhanced/plugins/Pagination**的插件。

然后像这样声明分页插件的用法：

```
grid = new dojox.grid.EnhancedGrid({
    store: dataStore = ObjectStore({objectStore: myStore}),
    editable:true,
    structure: [
        {name:"ID", field:"writer_id", width: "50px"},
        {name:"Writer's Name", field:"writer_name", width: "200px", editable: true},
        {name:"Writer's Email", field:"writer_email", width: "200px", editable: true}
    ],
    //declare usage of plugins
    plugins: {
        pagination: {
            sizeSwitch: false,
            defaultPageSize: 10
        }
    }
}, "target-node-id") 
```

之后，由于您使用的是 JsonRestStore，因此您必须使用 php 代码在后端实现排序和分页逻辑。

排序和页面信息通过网格的 ajax 请求中的请求标头传递到后端。因此，您只需要解析模型的排序和页眉并响应正确的 json 数据。有关更多示例和详细信息，请参阅[本教程](http://dojotoolkit.org/documentation/tutorials/1.7/store_driven_grid/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-20T18:58:57.667

我已在 http://pradipchitrakar.com.np/programming/dojo-grid-php-mysql-with-pagination/ 上发布了解决方案，并在[http://pradipchitrakar.com.np/demos/dojogrid/](http://pradipchitrakar.com.np/demos/dojogrid/)[上](http://pradipchitrakar.com.np/programming/dojo-grid-php-mysql-with-pagination/)发布了演示

# javascript - Blackberry webworks：onHardwareKey keyUp 事件？

> ID：11078319
> 
> 赞同：3
> 
> 时间：2012-06-18T07:11:48.770
> 
> 标签：javascript, dom-events, blackberry, blackberry-webworks

是否有可能在 blackberry-webworks 上捕获硬件键的按键事件？

按下键时触发，`blackberry.system.event.onHardwareKey`但我希望只要按下键就增加一个值，所以我需要让键向上事件停止增加值...

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-28T01:25:09.257

我们发现 Kitchen Sink 是查看 WebWorks 可以做的事情的绝佳资源 [http://blackberry.github.com/WebWorks-Samples/kitchenSink/](http://blackberry.github.com/WebWorks-Samples/kitchenSink/)

看看用户输入 - 响应物理用户输入：键盘事件示例，看看它是否有帮助： [http ://blackberry.github.com/WebWorks-Samples/kitchenSink/html/browser/keyevents.html](http://blackberry.github.com/WebWorks-Samples/kitchenSink/html/browser/keyevents.html)

注意：使用 Firebug/Chromes 开发者工具查看 keyevents.js 文件完成所有工作。

# css - 我不能将 text-decoration 覆盖为 none 吗？

> ID：11078322
> 
> 赞同：2
> 
> 时间：2012-06-18T07:11:56.780
> 
> 标签：css, inheritance

> **可能重复：**
> [如何让这个 CSS 文本装饰覆盖工作？](https://stackoverflow.com/questions/1823341/how-do-i-get-this-css-text-decoration-override-to-work)

Chrome 和 Firefox 正在密谋阻止我尝试使用 td 与 line-through text-decoration，有时会被跨度禁用，如下所示：

```
<style type="text/css">
tr.st td {
  text-decoration: line-through;
}

tr.st td span.unstrike{
  text-decoration: none;
  background:yellow;
}

tr.st td span#unstrike-id{
  text-decoration: none;
  background:yellow;
}

tr.st td span.unstrike-important{
  text-decoration: none ! important;
  background:yellow;
}

</style>

<table  border>
    <tbody>
      <tr>
        <td>normal</td>
      </tr>
      <tr class="st">
        <td>struck out</td>
      </tr>

      <tr class="st">
        <td>struck out <span class="unstrike">unstrike class: shouldn't I be normal?</span></td>
      </tr>

      <tr class="st">
        <td>struck out <span id="unstrike-id">unstrike-id identifier.  Shouldn't I be normal?</span></td>
      </tr>

      <tr class="st">
        <td>struck out <span class="unstrike-important">unstrike-important: shouldn't I  be even more normal?</span></td>
      </tr>
    </tbody>
  </table> 
```

我眯着眼睛看规格，我不明白。

文本修饰的特殊情况？是什么赋予了？

演示[在这里](http://danny.sadinoff.com/bugdemo/cascade/line-through-cascade.html)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:42:39.250

删除线应用于表格单元格，而不是其内容。类似的情况是对`<td>`. 删除 span 上的边框不会阻止 td 上的边框通过。

您可以向跨度添加不透明背景。

* * *

添加：

```
position: relative;
display: inline-block;
top: 0px; 
```

[似乎修复它。](http://jsfiddle.net/qVYCg/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:48:09.383

看起来这是几个问题的欺骗，特别是：

[如何让这个 CSS 文本装饰覆盖工作？](https://stackoverflow.com/questions/1823341/how-do-i-get-this-css-text-decoration-override-to-work/1823388#1823388)

简而言之，[http](http://www.w3.org/TR/CSS21/text.html#propdef-text-decoration) ://www.w3.org/TR/CSS21/text.html#propdef-text-decoration 上的（对我来说非常模糊）语言 说“没有覆盖”。

版主/编辑，请关闭我作为一个骗子。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:39:12.767

如果你有一个特定的序列来使用属性，你可以使用`:nth-child()`

或者尝试将 line-decoration 添加到 span，而不是 td. 看我的例子：[jsfiddle](http://jsfiddle.net/qVYCg/)

# json - 如何使用 jQuery 创建 JSON 对象

> ID：11078324
> 
> 赞同：82
> 
> 时间：2012-06-18T07:11:58.850
> 
> 标签：json, arrays

我有一个以下格式的 JSON 对象：

```
temp:[
        {
           test:'test 1',
           testData:  [ 
                       {testName: 'do',testId:''}
                         ],
           testRcd:'value'                             
        },
        {
            test:'test 2',
           testData:  [
                            {testName: 'do1',testId:''}
                         ],
           testRcd:'value'                           
        }
      ], 
```

我如何在 jquery 中为上述格式创建 JSON 对象。我想创建一个动态 JSON 对象。

* * *

## 回答 #1

> 赞同：215
> 
> 时间：2012-06-18T07:15:46.133

只需将您的数据放入这样的对象中：

```
var myObject = new Object();
myObject.name = "John";
myObject.age = 12;
myObject.pets = ["cat", "dog"]; 
```

然后通过以下方式对其进行字符串化：

```
var myString = JSON.stringify(myObject); 
```

为此，您不需要 jQuery。它是纯 JS。

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2012-06-18T07:15:26.273

“JSON 对象”没有意义：[JSON](http://www.json.org/)是一种基于 Javascript 对象声明结构的交换格式。

如果要将 javascript 对象转换为 json 字符串，请使用`JSON.stringify(yourObject)`;

如果你想创建一个 javascript 对象，只需这样做：

```
var yourObject = {
          test:'test 1',
          testData: [ 
                {testName: 'do',testId:''}
          ],
          testRcd:'value'   
}; 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-02-12T21:37:53.953

我相信他要求将新的 json 写入目录。您将需要一些 Javascript*和*PHP。因此，要捎带其他答案：

脚本.js

```
var yourObject = {
  test:'test 1',
  testData: [ 
    {testName: 'do',testId:''}
   ],
   testRcd:'value'   
};
var myString = 'newData='+JSON.stringify(yourObject);  //converts json to string and prepends the POST variable name
$.ajax({
   type: "POST",
   url: "buildJson.php", //the name and location of your php file
   data: myString,      //add the converted json string to a document.
   success: function() {alert('sucess');} //just to make sure it got to this point.
});
return false;  //prevents the page from reloading. this helps if you want to bind this whole process to a click event. 
```

buildJson.php

```
<?php
    $file = "data.json";  //name and location of json file. if the file doesn't exist, it   will be created with this name

    $fh = fopen($file, 'a');  //'a' will append the data to the end of the file. there are other arguemnts for fopen that might help you a little more. google 'fopen php'.

    $new_data = $_POST["newData"]; //put POST data from ajax request in a variable

    fwrite($fh, $new_data);  //write the data with fwrite

    fclose($fh);  //close the dile
?> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-07-17T05:14:54.793

如何将输入字段值附加为json

```
temp:[
        {
           test:'test 1',
           testData:  [ 
                       {testName: 'do',testId:''}
                         ],
           testRcd:'value'                             
        },
        {
            test:'test 2',
           testData:  [
                            {testName: 'do1',testId:''}
                         ],
           testRcd:'value'                           
        }
      ], 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-03-07T06:33:31.167

嵌套`JSON`对象

```
var data = {
        view:{
            type: 'success', note:'Updated successfully',
        },
    }; 
```

你可以解析这个`data.view.type`和`data.view.note`

`JSON`对象和内部数组

```
var data = {
          view: [ 
                {type: 'success', note:'updated successfully'}
          ],  
     }; 
```

你可以解析这个`data.view[0].type`和`data.view[0].note`

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2015-12-24T15:01:39.447

```
var model = {"Id": "xx", "Name":"Ravi"};
$.ajax({    url: 'test/set',
                        type: "POST",
                        data: model,
                        success: function (res) {
                            if (res != null) {
                                alert("done.");
                            }
                        },
                        error: function (res) {

                        }
                    }); 
```

# asp.net - 跟踪电子邮件是否被标记为垃圾邮件

> ID：11078331
> 
> 赞同：2
> 
> 时间：2012-06-18T07:12:17.890
> 
> 标签：asp.net, spam, email-spam

我有一个 asp.net 自动回复器，可以向数百万订阅者发送电子邮件。我想跟踪是否有人将我的电子邮件标记为垃圾邮件。有什么办法吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T19:26:01.870

我会推荐[http://www.mxtoolbox.com/](http://www.mxtoolbox.com/)作为用于检查您的服务器/发送 IP 是否被列入黑名单的站点示例。

您还可以向主要或相关电子邮件提供商注册反馈循环服务，以便在邮件被报告为垃圾邮件时通知您的列表。反馈循环可能是您尝试收集信息的最佳机制。

反馈循环示例以及如何订阅它： http: [//postmaster.aol.com/Postmaster.FeedbackLoop.php](http://postmaster.aol.com/Postmaster.FeedbackLoop.php)

我不能发布超过 2 个链接，但如果您使用 Google 搜索“反馈循环”和电子邮件提供商的名称，您可能会找到注册他们的警报所需的内容。

希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:14:06.437

不，没有。在您的邮件被发送到收件人的 SMTP 服务器后，就无法再追踪它了。

我知道你在想什么：一些邮件客户端如何追踪一封电子邮件是否已被阅读（例如在 Outlook 中）。他们可以通过在他们的邮件 (html) 中添加一点 img-tag 来做到这一点。当用户打开邮件时，它会打开 img 的 src-attribute 中指定的路径。由于这是一个脚本（如 PHP 或其他东西），它可以在打开邮件时自动将标志设置为“已看到”。

当然，还有其他一些方法可以追踪到这一点，但我认为这是最受欢迎的一种。

但是，这无法检查邮件是否已被拒绝、删除或移动到垃圾邮件文件夹。

# sql - SQL Server 和股票盘中间隔的移动平均线

> ID：11078332
> 
> 赞同：0
> 
> 时间：2012-06-18T07:12:21.803
> 
> 标签：sql, sql-server, aggregation, stock, moving-average

我对 sql server 非常陌生。我想要一张包含日内股票信息和分析计算的表格（例如简单移动平均线 - SMA）。

我设计了一个包含市场数据的表格并将数据导入其中。现在我想将 SMA 添加到表中并保存。第二天我想添加市场新数据并根据前一天的最后一个 SMA 数据计算并再次保存到同一张表中。

它是在 sql server 中采用这种方式，还是我应该有一个查询来获取 SMA，然后有一种方法将结果保存到源表中，因为我希望它在一个表中，而不是对相同的数据再次执行查询！

我的意思是，如果我不将 MVA 结果数据保存到表（最好是源表）中，我相信必须再次对旧数据进行查询和计算，再加上新数据以获取新一天的分析，这是不切实际的。

**请指导我正确的方式！如果详细（如何！），我将不胜感激。**

更详细——我使用的是 sql server 2008。我使用 excel 和 vba 轻松获得了所有这些结果，但由于数据量巨大，我需要转移到 sql server。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:41:33.340

创建用户定义的函数来计算 SMA 并将此函数用作表中计算列的值。

sudo 代码 - 这只是一个想法 - 我没有测试过：

```
CREATE FUNCTION dbo.GetSMAValue(INT @price, INT @date)
RETURNS IN
AS 
  SELECT (@recid + sma) / no-of-days --whatever the formula for SMA
  FROM price_table 
  WHERE date = dateadd (day,-1, @date)

ALTER TABLE price_table 
ADD sma AS dbo.GetSMAValue(price, date) 
```

# asp.net - 对于每个循环超出范围异常 MVC

> ID：11078333
> 
> 赞同：2
> 
> 时间：2012-06-18T07:12:23.967
> 
> 标签：asp.net, asp.net-mvc, vb.net

我面临一个奇怪的问题。

我正在循环一个列表对象。该列表包含 18 个对象。循环运行了 18 次，但第 18 次结束时**未将对象引用设置为对象的实例。**.

```
 @For Each Slogs As SFAMobile.MobileServices.CustomerDetail In Model.Customers  
           @<option value='@Slogs.CustomerId' @selectedVal >@Slogs.Name ( @Slogs.CustomerId ) </option>
      Next 
```

请帮我解决这个问题

提前致谢 Ramesh RC

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:20:16.363

您应该确保该`Model.Customers`集合不包含空元素。顺便说一句，为了生成下拉列表，您可能会考虑使用`Html.DropDownListFor`帮助程序而不是编写循环和东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:47:48.557

此外，您正在使用“As SFAMobile.MobileServices.CustomerDetail”来转换 Model.Customers 中的每个元素 - 如果无法将 Model.Customers 中的第 18 项转换为该元素，则该迭代的“Slogs”将为空。

# javascript - 为什么简单的 JQuery 对话框/弹出窗口不起作用？

> ID：11078339
> 
> 赞同：0
> 
> 时间：2012-06-18T07:12:47.630
> 
> 标签：javascript, jquery, html, css

我将所有内容放在一页中，它应该可以工作并且不工作：

```
<html>
<head>  <link href="css_js/styles.css" rel="stylesheet" type="text/css">
    <script language="JavaScript1.2" src="css_js/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script language="JavaScript1.2" src="css_js/jquery-ui-1.8.17.custom.min.js" type="text/javascript"></script>   
    <script language="JavaScript1.2" type="text/javascript">
function popup() {
    alert('test');
    var popup = $('.newpopup');
    popup.draggable();
    popup.resizable();
    popup.html('<p>Where is pancakes house?</p>');
    popup.show('fast');
}
$('button').click(popup);
    </script>
</head>
<body>
<div class='newpopup'></div>
<button>popup</button>  
</body>
</html> 
```

我想用 Jquery 制作一个简单的弹出/对话框，但它根本不起作用。它有什么问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T07:17:36.647

调用函数`document.ready`

```
$(document).ready(function(){
  $('button').click(function(){
     popup();
  });
}) 
```

或者

```
$(function(){
  $('button').click(function(){
     popup();
  });
}) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:17:14.040

你应该以 jQuery 风格运行你的函数：

```
$('button').click(function() { 
     popup();
     return false; //optional
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:17:46.040

`src`当您包含 jquery 时，您确定参考有效吗？我使用 Google 托管的 JQuery 和 JQuery-ui 版本让您的代码[在这个 jsfiddle 上运行良好。](http://jsfiddle.net/24nLZ/)

# android - Android中的背景音乐

> ID：11078342
> 
> 赞同：-5
> 
> 时间：2012-06-18T07:13:02.013
> 
> 标签：android, audio

这是一个非常常见但很少解决的话题。我真的需要这些家伙的帮助。

我得到了[这段](https://stackoverflow.com/questions/7928803/background-music-android)代码。尝试从主启动活动调用此服务。
但是没有成功，没有声音。

请帮助编码人员。提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:21:12.540

*   通过 markana 后台服务音乐查看此示例。

    这是[链接](http://marakana.com/forums/android/examples/60.html)

# c# - C# 类多态性

> ID：11078343
> 
> 赞同：3
> 
> 时间：2012-06-18T07:13:05.337
> 
> 标签：c#, polymorphism

为什么闲置代码的结果是：

> A
> 类 A 类 A
> 类

```
public class A {
    public virtual void f() {
        Console.WriteLine("Class A");
    }
}
public class B : A {
    public virtual void f() {
        Console.WriteLine("Class B");
    }
}
public class C : B {
    public override void f() {
        Console.WriteLine("Class C");
    }
}
//...
static void Main(string[] args) {
    A[] array = new A[3];
    array[0] = new A();
    array[1] = new B();
    array[2] = new C();
    for(int d = 0; d < 3; d++)
        array[d].f();
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-18T07:17:26.150

这是因为`virtual`不等于`override`。通过使用`virtual`关键字，您实际上创建了新方法，该方法是虚拟的，但对于您的类（B 类）来说是新的，并且不会覆盖类的 A 方法。从 B 继承的 C 类不知道类的 A 方法 f()，因此需要 Bf() 来覆盖它。在 Main 方法中，您正在创建一个 A 类数组，其中仅存在 Af() 方法。如果你想

```
Class A  
Class B  
Class C 
```

输出使用`override`而不是`virtual`在 B 类中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T10:38:47.697

AAA 因为

```
A[] array = new A[3]; /*main reference to A object*/ 
```

# android - 如何获得像 Wash Post 应用程序中那样的 Android 菜单下拉菜单？

> ID：11078354
> 
> 赞同：0
> 
> 时间：2012-06-18T07:13:59.150
> 
> 标签：android, menu

我想使用右上角的网格按钮创建一个类似的下拉菜单，就像 Wash Post android 应用程序一样。

我浏览了网络。但是可以找到任何答案，因为我是新手，真的不知道要搜索什么关键字。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:19:28.287

库[ActionBarSherlock](http://actionbarsherlock.com/index.html)能够在 Android 3.0 以下的目标中执行此操作 - 从 Honeycomb 开始，它就可以通过正常的菜单机制使用。

如果您希望您的项目出现在该下拉列表中 - 只需定义正确的标志

[SHOW_AS_ACTION_NEVER](http://developer.android.com/reference/android/view/MenuItem.html#SHOW_AS_ACTION_NEVER)

# service - 分析服务 - MDX - 逐月比较不同年份的数据

> ID：11078355
> 
> 赞同：0
> 
> 时间：2012-06-18T07:14:02.217
> 
> 标签：service, mdx, analysis, cube

我是分析服务/性能点的初学者，我需要一些帮助来创建图表。

我正在使用[Contoso 示例数据库](http://www.microsoft.com/en-us/download/details.aspx?id=18279)。

我找到了一个帮助我创建下图的教程：

X 轴为月份，Y 轴为销售额，我显示了 2008 年和 2009 年的数据

所以通过这张图，我在 X 轴上得到了从 2008 年 1 月到 2009 年 12 月的月份。（我使用来自 [日期].[日历月] 的数据）问题是我需要逐月比较不同年份的数据。因此，在 X 轴上，无论年份信息如何，我都需要显示从 1 月到 12 月的月份。

我尝试使用 MDX 查询和*parrallelperiod*函数，但无法显示我需要的内容。我想我需要按月份的名称对数据进行分组，所以我尝试像在 sql 中一样使用“group by”，但没有成功。也许我需要多维数据集中的更多数据？像月份列表（没有年份关系）

我不确定要采取的方向，任何帮助将不胜感激。如果您需要，我可以提供更多详细信息。

（看起来冒险作品的尺寸非常相似，所以如果有人用这个立方体做同样的事情，那也很棒。）

[编辑]

这是自动生成的查询：

```
SELECT
HIERARCHIZE( { [Date].[Calendar Month].&[200901], [Date].[Calendar Month].&[200902], [Date].[Calendar Month].&[200903], [Date].[Calendar Month].&[200904], [Date].[Calendar Month].&[200905], [Date].[Calendar Month].&[200906], [Date].[Calendar Month].&[200907], [Date].[Calendar Month].&[200908], [Date].[Calendar Month].&[200909], [Date].[Calendar Month].&[200910], [Date].[Calendar Month].&[200911], [Date].[Calendar Month].&[200912], [Date].[Calendar Month].&[200812], [Date].[Calendar Month].&[200811], [Date].[Calendar Month].&[200810], [Date].[Calendar Month].&[200809], [Date].[Calendar Month].&[200808], [Date].[Calendar Month].&[200807], [Date].[Calendar Month].&[200806], [Date].[Calendar Month].&[200805], [Date].[Calendar Month].&[200804], [Date].[Calendar Month].&[200803], [Date].[Calendar Month].&[200802], [Date].[Calendar Month].&[200801] } )
ON COLUMNS,

HIERARCHIZE( { [Date].[Calendar Year].&[2008], [Date].[Calendar Year].&[2009] } )
ON ROWS

FROM [Sales]

WHERE ( [Measures].[Sales Amount] )

CELL PROPERTIES VALUE, FORMATTED_VALUE, CELL_ORDINAL, FONT_FLAGS, FORE_COLOR, BACK_COLOR 
```

[/编辑]

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-07-02T07:45:41.320

更改时间维度属性之间的属性关系如下：日期->月份->年份，然后您可以在过滤器中选择任何年份，X 轴中的月份将对应年份。如果您在 X 轴上有 May 并且没有选择任何年份（默认情况下是 All member），那么您将累积所有 May，但是如果您选择 Year 2010，则向下您将有 May 2010，如果您在过滤器中选择 Year 2011 in X 轴你会 2011 年 5 月。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-07-02T20:46:58.537

如果你不想改变时间维度属性之间的关系，你可以喜欢这个：

```
WITH SET [months_2008_2009] AS { [Date].[Calendar Year].&[2008].Children, [Date].[Calendar Year].&[2009].Children }

MEMBER [Date].[Calendar Month].[January]  AS Aggregate(Filter([months_2008_2009] , [Date].CurrenMember.MemberValue = 'the member value for January'))
MEMBER [Date].[Calendar Month].[February] AS Aggregate(Filter([months_2008_2009] , [Date].CurrenMember.MemberValue = 'the member value for February'))

SELECT {[Date].[Calendar Month].[January], [Date].[Calendar Month].[February]} ON COLUMNS
FROM [Sales]
WHERE ( [Measures].[Sales Amount] ) 
```

`[months_2008_2009]`应该有 2008 年和 2009 年的所有月份。

`[Date].[Calendar Month].[January]`是一个计算成员，它将是 和 的`[Date].[Calendar Month].&[200801]`聚合`[Date].[Calendar Month].&[200901]`。您必须为其他月份添加其他成员。

我假设 than`[Calendar Year]`和`[Calendar Month]`是属于同一层次结构的两个级别。

# uitabbarcontroller - Xcode 4.3 Storyboard - 将表格单元格值从一个标签栏传递到第二个标签栏而不使用导航控制器

> ID：11078356
> 
> 赞同：0
> 
> 时间：2012-06-18T07:14:05.540
> 
> 标签：uitabbarcontroller, xcode4.3

请帮我解决这个问题。我在标签栏应用程序中有两个标签栏项目。第一个带有 UITableView 的标签栏视图和带有标签的第二个标签栏视图。我试图通过单击表格单元格并在第二个选项卡视图的标签中显示值来将表格单元格值传递给第二个选项卡视图。底部的标签栏控制器应该仍然可见。最主要的是我希望应该选择相应的选项卡。我正在使用 Xcode 4.3.2。这看起来像，我想通过单击表格单元格从另一个选项卡栏视图打开一个选项卡栏视图。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:36:23.683

将故事板中的一条线从**tableviewcell**（单元格！）拖到您的视图中。

在

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender 
```

您可以像这样获得目标控制器：

```
 if ([[segue identifier] isEqualToString:@"my_vc_1"]) {        
        MyViewController *detailViewController = [segue destinationViewController];
        // here you can either reference the outlet directly
        detailViewController.my_label.text = @"my value";
 } 
```

不要忘记在顶部包含您的“MyViewController.h”。

查看：

[http://developer.apple.com/library/ios/#DOCUMENTATION/General/Conceptual/iCloud101/ImplementingtheDetailViewController/ImplementingtheDetailViewController.html](http://developer.apple.com/library/ios/#DOCUMENTATION/General/Conceptual/iCloud101/ImplementingtheDetailViewController/ImplementingtheDetailViewController.html)

# validation - 在 dojo 中收听表单内的字段更改

> ID：11078358
> 
> 赞同：0
> 
> 时间：2012-06-18T07:14:18.243
> 
> 标签：validation, dojo

保存表单时，我会停用保存按钮以避免重复提交。保存是通过 Ajax 调用进行的，所以我停留在同一页面上。仅当表单发生更改时，我才想重新启用该按钮。如何使用 Dojo 1.6 dojo.connect 收听特定表单内的任何字段更改？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:51:24.077

查看 dijit/form/_FormMixin.js 的第 358 行 connectChildren 函数：) 它为您提供了所有必要的信息！基本上，如果您的孩子已连接（您可以调用该函数以确保），那么您只需要监视 form.value

# java - java：将图像保存在文件夹中

> ID：11078359
> 
> 赞同：-1
> 
> 时间：2012-06-18T07:14:18.790
> 
> 标签：java, image-processing, netbeans

我已经从网络摄像头捕获图像并将它们存储在一个文件夹中。提供文件夹路径和图像名称，即硬编码为代码。现在我不想硬编码图像的名称，我想动态创建它。我给出的路径为

```
 String string_ip="F:\\gatepass\\Gatepass\\Images\\rose.jpg"; 
```

在这里，我想动态创建名称rose.jpg，并且我想将名称作为用户名（用户名是从数据库中获取的）但我无法做到这一点，请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:27:45.427

它应该像这样简单

```
String base_url="F:\\gatepass\\Gatepass\\Images\\{0}.jpg";

String username_from_DB = "rose"

String string_ip = MessageFormat.format(base_url,username_from_DB); 
```

然后将图像保存在 string_ip，与保存之前相同。

# jquery - 如何获得视觉最顶层元素 - jQuery

> ID：11078369
> 
> 赞同：0
> 
> 时间：2012-06-18T07:15:03.607
> 
> 标签：jquery, html, css, dom, z-index

有没有一种巧妙的方法来使用 jQuery 获取最顶层的元素？

我的意思不是关于 DOM 层次结构。即`.closest()`不是我需要的。

我的意思是，就`z-index`目前而言，显然应该是`:visible`

我开始编写自定义选择器，但认为最好看看是否有更好的方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:36:39.087

尝试这个：

```
elem = [];
$("*").each(function(i){
    elem[$(this).index()] = $(this).css('z-index');
})

function compareNumbers(a,b) {
    return a - b;
}

topmostIndex = elem.sort(compareNumbers).reverse();
alert(topmostIndex[0]) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:28:50.220

尝试这个：

```
$(':visible').each(function(){
    var z = parseInt($(this).css('z-index'), 10);
    vat maxz = -1;
    if (!best || maxz < z) {
        best = this;
        maxz = z;
    }

}); 
```

# c - 在攻击场景中使用无效输入传递时处理 memcpy 段错误

> ID：11078371
> 
> 赞同：0
> 
> 时间：2012-06-18T07:15:18.830
> 
> 标签：c, segmentation-fault, memcpy

我在这里用一个守护进程测试一个小问题（用linux编写）。我想知道所做的是否正确。

守护程序使用 dlopen 调用加载共享对象文件 (.so)。共享对象通过网络从客户端接收一些缓冲区。它使用以下调用来读取缓冲区：

```
read_buffer(something, length of buffer read, buffer contents); 
```

read_buffer 函数使用 memcpy 将第二个参数中指定长度的缓冲区复制到另一个位置

在客户端，执行以下操作：

```
write_buffer(something, length of buffer, buffer contents); 
```

问题是，如果我们发送一个无效的长度参数（与第三个参数中复制的实际长度不匹配），从客户端，在 memcpy 位置的服务器端存在段错误

我不确定如何输入验证传递给 memcpy 函数的参数

请您帮助我了解可能的解决方案

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:34:38.067

要检查 C/C++ 代码是否存在内存分配/访问错误，请使用[Valgrind](http://valgrind.org)。服务器端无法（据我所知）确定传递的参数是否有效。这就是 C/C++ 的信条：知道你在做什么，否则你就会死。没有安全网。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T08:19:02.650

您可以在缓冲区的开头附加缓冲区的长度。
-------------------------------------------------- ------------
| 缓冲区的固定长度 - n 字节 | 缓冲区
-------------------------------------------------- ------------

现在每次在服务器端读取它时，首先读取包含长度的“n”个字节（保留用于存储长度）。当数据到达时，您可以进行比较`length of buffer`和`first n bytes`验证。希望这可以帮助。

# jquery - 如何将数据从 jquery 插入到 sql server management studio？

> ID：11078372
> 
> 赞同：1
> 
> 时间：2012-06-18T07:15:20.587
> 
> 标签：jquery

我这里有问题。。

我已经使用 jquery 完成了拖放图像。然后在放置后，我得到图像的xy坐标。然后会显示一个弹出消息。在弹出消息中用户可以插入他们想要命名的位置的名称。弹出窗口中有一个保存按钮向上消息。单击保存时，我希望将 xy 坐标和位置名称插入到 sql server 管理中。怎么做？？？我必须使用ajax http请求吗？请帮我！！.....

这是我到目前为止所做的代码：

```
$('#dragThis').draggable({
        cursor: 'move',        // sets the cursor apperance
        containment: '#dragThis2',
        drag: function() {
        var offset = $(this).offset();
        var xPos = Math.abs(offset.left);
        var yPos = Math.abs(offset.top);
        $('#posX').text('x: ' + xPos);
        $('#posY').text('y: ' + yPos);

},
stop: function(event, ui) {

 // begin: you can use the code below where ever you'd like to display the popup

$('.popup').remove();

var $d = $('<div></div>')
    .addClass('popup')
    .html('<form method="POST" action="your_action.html"><div><label>Set a     name          for  your location</label><div><input type="text" name="location_name"   /></div></div><button type="save" class="save">Save</button><button type="button"    class="cancel">Cancel</button></form>')
    .appendTo(document.body)
    .hide();

     $d.find('button.save').click(function(e) {
        e.preventDefault();
        $('#dragThis').draggable('disable');
        alert('Saved'); 
        $d.remove();
    });

    //insert

    $d.find('button.cancel').click(function(e) {
        $('#dragThis').draggable('enable');
        $d.remove();
    });

     $('#dragThis').draggable('disable');

var $win = $(window);

$d.css({ top: $win.scrollTop() + ($win.height()-$d.height())/2,
         left: $win.scrollLeft() + ($win.height()-$d.width())/2,
         position: 'absolute'
       })
  .show();

// end

}
});

     // Show dropped position.

    var Startpos = $("#dragThis").position();
    var Stoppos = $(this).position();
    $("#dragThis").val((Stoppos.left - Startpos.left));
    var left = Math.abs(Stoppos.left);
    var top = Math.abs(Stoppos.top);

    $('#posX').text('left: ' + left);
    $('#posY').text('top: ' + top);
//        prompter();  
// 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:22:48.450

您需要将数据从运行 javascript 代码的客户端发送到*数据库*所在的服务器。而且您需要一些服务器端组件来处理您的请求并将其保存到数据库中。**可以通过提交表单**或通过**ajax http 请求**将数据从客户端发送到服务器，您可以使用 jQuery 来完成。在您的情况下，可能首选 ajax 方式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:31:26.220

尝试：

```
$("#btnSave").click(function()
{
    var location = $("#LocationName").val();

    $.ajax({
              type: "POST",
              contentType: "application/json; charset=utf-8",
              url: "savePage.aspx/SaveIntoDB",
              data: "{'Location':'" + location + "', 'posX':'" + $('#posX').text() + "', 'posY':'" + $('#posY').text() + "'}",
              success:
               function(msg){
                    if(msg.d == "save")
                    {
                        alert("Save");                                    
                    }
                    else
                    {

                    }
               },
              error:
               function(XMLHttpRequest, textStatus, errorThrown){
                   alert( "Error Occured!" + errorThrown.toString());
               }
             });
}); 
```

使用 ajax 你可以保存到 Sql.. $('#posX').text() 它可以是 $('#posX').val() 或者取决于你的 html .. 希望它能工作..

# unix - 如何找出 Unix 密码所需的复杂性

> ID：11078380
> 
> 赞同：4
> 
> 时间：2012-06-18T07:15:54.277
> 
> 标签：unix, passwd

我的 Unix 密码已经超时，我需要输入一个新密码，所以我一登录就得到了这个：

```
Current Password:####  
New Password: 
```

但是我输入的任何东西都太简单了（显然），甚至`1y4y5re987wnf`

我可以输入一些东西来找出密码的规则吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:21:10.480

您应该询问您的系统管理员：可能`1y4y5re987wnf`是因为它不包含任何特殊字符或没有大写字母而被拒绝。您还可以在文件中找到有关所需密码的更多信息`/etc/default/passwd`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:27:23.190

我希望你至少需要一个大写字母，至少一个小写字母，至少一个数字，最好至少一个标点或控制字符，总共至少 8 个字符。但是，如果不知道更多关于您使用的是哪个版本的 Unix（Linux 等），没有人能比这更精确。不同的系统会施加不同的规则。不同的系统可能会对密码长度施加不同的上限。

# mysql - 按投票排序

> ID：11078387
> 
> 赞同：0
> 
> 时间：2012-06-18T07:16:21.273
> 
> 标签：mysql, sql

我有一张桌子`Responses`和一张桌子`Votes`。该`Votes`表有一列`vote_value`可以是`1`或`-1`取决于人们是否对给定的响应投赞成票或反对票。我想知道如何根据投票的总和对回复进行排序。

进行连接并简单地按`SUM(vote.vote_value) as score`（降序）排序的问题是某些响应没有投票，因此`score`-1 的响应将高于没有投票的响应（得分为0 真的）。

如果没有办法用 SQL 做到这一点，我想我可以自己在应用程序代码中进行排序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:18:42.717

当 SUM 返回 NULL 时，使用[COALESCE](http://dev.mysql.com/doc/refman/5.5/en/comparison-operators.html#function_coalesce)选择一个值：

```
COALESCE(SUM(vote.vote_value), 0) AS score 
```

# java - 用 Java 获取计算机内存信息

> ID：11078389
> 
> 赞同：0
> 
> 时间：2012-06-18T07:16:30.107
> 
> 标签：java, memory, process, ram

是否有任何用于**内存测试**的应用程序，最好用**java**（或其他编程语言）编写，显示有关**计算机内存**的信息或用于测试它的东西（如**总内存**、**空闲内存**、**进程和内存消耗**等）。我想要来自: ...的**资源监视器之类的东西或类似的东西。**`Windows`![资源监视器屏幕截图](../Images/6f742f92a1fe4a324c343bd32e951803.png)

我需要源代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T07:23:22.573

没有集成的 API 可以做到这一点。

在 Windows 上，我建议您使用 ProcessBuilder执行[systeminfo ：](http://ss64.com/nt/systeminfo.html)

```
ProcessBuilder processBuilder = new ProcessBuilder("systeminfo");
processBuilder.redirectErrorStream(true);
Process process = processBuilder.start();
String output = readOutput(process);
try {
    if (process.waitFor() != 0) {
        throw new IOException(
            "command exited in error: " + process.exitValue()
                + "\n" + output);
    }
} catch (InterruptedException e) {
    e.printStackTrace();
}

// here parse output for what you want 
```

systeminfo 的输出是这样的：

```
Total Physical Memory: xxx MB
Available Physical Memory: xxx MB
Page File: Max Size: xxxx MB
Page File: Available: xxxx MB
Page File: In Use: xxx MB 
```

# c++ - 如何在 C 或 C++ 中实现 SDP？

> ID：11078392
> 
> 赞同：1
> 
> 时间：2012-06-18T07:16:49.127
> 
> 标签：c++, c, sdp

我正在尝试查找将会话描述符协议 (SDP) 与 C++ 或 C 结合使用的示例。您能推荐一些文献或网页吗？我知道[RFC 4566](http://www.ietf.org/rfc/rfc4566.txt)，但是这个规范对我来说毫无用处，因为它没有任何示例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:34:53.907

试试[openSIPS](http://www.opensips.org/)，它是用 C语言编写的。

这是一 本您可以从亚马逊购买的[实践书。](https://rads.stackoverflow.com/amzn/click/com/B0058C2MW4)

# c++ - 在 v8 中将字符串转换为函数

> ID：11078394
> 
> 赞同：1
> 
> 时间：2012-06-18T07:17:01.833
> 
> 标签：c++, v8

我正在尝试将函数硬编码为字符串，将其转换为函数并运行它。

```
Local<Function> cb = "function(){ console.log('HELLO BOSS'); }";
int argc=0;
v8::Handle<v8::Value> * argv;
cb->Call(Context::GetCurrent()->Global(),argc,argv); 
```

编译器说我不能直接这样做：

```
 error C2664: 'v8::Handle<T>::Handle(T *)' : cannot convert parameter 1 from 'const char *' to 'v8::Function *'
      with
      [
         T=v8::Function
      ]
      Types pointed to are unrelated; conversion requires reinterpret_cast, C-style cast or function-style cast 
      x.cpp(15) : see reference to function template instantiation 'v8::Local<T>::Local<const char>(S *)' being compiled
      with
      [
         T=v8::Function,
         S=const char
      ] 
```

那我该怎么办？此外，所有好东西（eval、new Function 等）都在哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:36:36.060

我做到了。男孩，我喜欢这个东西。

```
v8::Script::Compile(v8::String::New(
    " console.log('WORKS BOSS'); "
    " console.log('Happy?'); "
    " console.log('2+2=' + (2+2)); "
))->Run(); 
```

我不知道它是否正确（就像“任何相关风险”一样），但它似乎有效。

# php - SimpleCart(js) 保存到数据库以进行登录会话

> ID：11078396
> 
> 赞同：2
> 
> 时间：2012-06-18T07:17:14.200
> 
> 标签：php, sql, shopping-cart

*** 解决 ***

我在我的一个项目中实现了**SimpleCart(js) 。**

一个可以`register`和`login`。进入`logged`后，您可以使用**购物**车`purchase items`。

我有一个问题，因为**simplecart** (js) 将购物车保存到**localstorage**，如果您`login`使用其他帐户。您会看到相同的购物车结果。

有没有人为此提供**php sql**解决方案，将购物车结果存储到每个用户的**sql中？**`individual session`

***我用这个解决了这个问题***，这是一项基本技术，但它完美地满足了我的需要，我仍然会调整 php 以检查购物车项目是否存在于数据库中，是否更新或创建。

*jQuery*

```
$(".saveCart").click(function(){
        $(".itemRow").each(function(){
            var custId = "<?php echo $_SESSION['Username'] ?>";
            var itemName = $(this).find(".item-name").text();
            var itemPrice = $(this).find(".item-price").text();
            var itemQty = $(this).find(".item-quantity").text();
            var itemTotal = $(this).find(".item-total").text();

            $.ajax({
                // Enter below the full path to your "cart" php file
                url: "cart.php",
                type: "POST",
                data: {custId: custId, itemName: itemName, itemPrice: itemPrice, itemQty: itemQty, itemTotal: itemTotal},
                cache: false,
                success: function (html) {
                  // If form submission is successful
                  if ( html == 1 ) {
                  }
                  // Double check if maths question is correct
                  else {
                  }
                }
            });            

        });
    }); 
```

*PHP*

```
<?php

$con = mysql_connect("localhost","root","pass");
if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }

mysql_select_db("test", $con);

$sql="INSERT INTO cart (Id, itemName, itemPrice, itemQty, itemTotal)
VALUES
('$_POST[custId]','$_POST[itemName]','$_POST[itemPrice]','$_POST[itemQty]','$_POST[itemTotal]')";

if (!mysql_query($sql,$con))
  {
  die('Error: ' . mysql_error());
  }

if ($sql) { echo "1"; }
else {echo "2"; }

mysql_close($con);
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:23:20.310

```
mysql_query("UPDATE table SET sessid = ".session_id()." WHERE user = ".$user_id); 
```

类似的东西？

# mysql - 将 Excel Forumla 转换为 MySQL 查询

> ID：11078399
> 
> 赞同：1
> 
> 时间：2012-06-18T07:17:32.170
> 
> 标签：mysql, sql, excel, excel-formula

我在这里有一个问题的答案[**：**](https://stackoverflow.com/questions/11066870/counting-multiple-items-in-excel-based-on-specific-criteria)

```
=SUMPRODUCT(($A$1:$A$10=A1)*($B$1:$B$10=B1)) 
```

和

```
=COUNTIFS(G:G,G2,H:H,H2) 
```

两者都完成了工作，但是速度非常慢。我相信我需要用 SQL 来做这件事，而不是用十万多行。

我想知道的是如何在 SQL 中完成相同的数字？

我想我可以将我独特的供应商放在一张桌子上，然后将我的产品插入一张桌子，同时将我`vendorsID`的产品从桌子上拉出来`vendors`。

此时我将有两个表...在`vendors`表中我可以为每个供应商的产品数量添加另一列（如上面的链接中所述）和一个包含产品名称和供应商 ID 的产品表。

问题是这个查询看起来如何？查询一个表以使用产品和供应商 ID 填充另一个表，我*认为*我理解但实际上进行我需要的计算（每个供应商的匹配产品数量）我完全迷失了。

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:45:26.327

假设您已经填充了两个表：

**供应商：**

*   `Id`, `Name`.

**产品：**

*   `Id`, `VendorId`, `Name`...

然后，为了：

> 计算供应商有多少相同的产品名称。

您应该执行以下操作：

```
SELECT v.Id, v.Name, COUNT(p.Id) AS 'Total Products'
FROM Vendors v INNER JOIN Products p ON v.Id = p.VendorId
GROUP BY v.Id, v.Name 
```

**编辑：**如果要将从此查询中获得的结果集插入到另一个表中，则应使用[`INSERT ... SELECT`Syntax](http://dev.mysql.com/doc/refman/5.0/en/insert-select.html)，例如：

```
INSERT INTO NewTable(VendorId, VendorName, ProductsCount)
SELECT v.Id, v.Name, COUNT(p.Id) AS 'Total Products'
FROM Vendors v INNER JOIN Products p ON v.Id = p.VendorId
GROUP BY v.Id, v.Name 
```

**Edit2：**要更新已经有供应商列表的现有表，您应该通过将表与结果集连接来更新表

```
UPDATE ExistingTable t
INNER JOIN 
(
    SELECT v.Id, v.Name, COUNT(p.Id) AS 'TotalProducts'
    FROM Vendors v INNER JOIN Products p ON v.Id = p.VendorId
    GROUP BY v.Id, v.Name
) v ON t.VendorId = v.Id
SET t.VendorId = v.Id, t.VendorName = v.Name, t.ProductsCount = v.TotalProducts 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:45:53.900

假设表结构如 excel 即一张表：[http ://sqlfiddle.com/#!2/fb9f3/1](http://sqlfiddle.com/#!2/fb9f3/1)

SQL 将如下所示：

```
SELECT vendor, product, SUM(qty) from tblOrder 
GROUP BY vendor, product 
```

# c# - 使用不是管理员组成员的用户登录时无法加载文件或程序集“Microsoft.CSharp”

> ID：11078404
> 
> 赞同：14
> 
> 时间：2012-06-18T07:17:56.693
> 
> 标签：c#, compiler-errors, permissions

我创建了一个网站，当我使用**管理员**登录时编译成功，但是当我使用任何其他用户登录时，出现以下错误。

> 无法加载文件或程序集 'Microsoft.CSharp, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' 或其依赖项之一。未提供所需的模拟级别，或者提供的模拟级别无效。（来自 HRESULT 的异常：0x80070542）

**管理员**用户是

*   Acronis 远程用户
*   管理员
*   远程桌面用户

而另一个用户是

*   Acronis 远程用户
*   管理员 *
*   IIS_IUSRS
*   远程桌面用户
*   SQLServerMSSQLUser$vm-tmp-abcd-1$MSSQLSERER
*   用户

我正在使用
带有 64 位操作系统的 Windows Server 2008 R2 Enterprise

*   最初，其他用户不属于**管理员**组。我向其中添加了**管理员**角色，但仍然遇到相同的错误。

注意：如果我选择 VS2010 以**管理员身份运行，**它将成功编译网站。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2014-11-19T11:21:37.770

这个解决了我的问题。

1.  右键单击 Visual Studio（无论您使用哪个版本）
2.  特性
3.  选择兼容性选项卡
4.  填写“以管理员身份运行此程序”复选框
5.  从文件位置打开项目
6.  运行应用程序

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-30T13:49:04.720

当我找不到选项始终以管理员身份运行 vs 2017 pro (devenv.exe) 的文件时，我感到很惊讶。它已解决并仅使用疑难解答兼容性选项进行设置。

最新窗口版本的解决方案：

```
 - Find  "devenv.exe" file
  - Right mouse click and selects "troubleshoot compatibility" option
  - Troubleshoot program option
  - Checks "The program requires additional permissions"
  - Next
  - Test the program
  - Next 
  - Yes,save these settings for this program 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-08-01T09:10:20.360

接受的答案在最新版本的 Windows 中不起作用。我的带有 VS 2017 的 Windows 10 操作系统在属性窗口中没有“兼容性选项卡”——看来他们现在已经移动了这个选项。

**对于 Windows 10 用户，请按照以下步骤操作：**

首先，您需要以您正在使用的计算机的管理员身份登录。

1.  右键单击 Visual Studio（无论哪个版本）。
2.  单击“属性” - 将打开一个属性窗口。
3.  单击“快捷方式”选项卡。
4.  单击右下角的“高级”框。
5.  选中“以管理员身份运行”框，然后单击“确定”。
6.  在 Visual Studio 属性窗口中单击“应用”，然后单击“确定”。

**对于以前的版本，请按照以下步骤操作**

1.  右键单击 Visual Studio（无论哪个版本）。
2.  单击“属性” - 将打开一个属性窗口。
3.  单击“兼容性”选项卡。
4.  选中“以管理员身份运行”框。
5.  在 Visual Studio 属性窗口中单击“应用”，然后单击“确定”。

**您的项目现在应该以管理员身份打开，并且对程序集的常见访问问题将得到解决。**

# sql - SQL Server 中的数字字符串比较

> ID：11078406
> 
> 赞同：1
> 
> 时间：2012-06-18T07:18:09.380
> 
> 标签：sql, sql-server

我对 SQL Server 有一个相当愚蠢的问题。我正在尝试将 BigInt 存储在 SQL Server 中，并认为可以在将其插入`Nvarchar(Max)`-style 字段之前将其转换为字符串。

但是，我需要`SELECT`针对该列运行一个语句，因为它是一个字符串，我不知道如何评估它。我知道某些语言中的字符串确实以数字方式计算，因此“234234”被认为小于“2342545345344”。可以在这里做类似的事情吗？

**编辑：** 爆炸，我是个白痴。我的意思是说 C# 的 BigInteger，它可以保存比 SQL 的 BigInt 大得多的值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:20:47.130

```
order by cast(varchar_column as bigint) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T09:37:56.080

`SELECT`你会表演什么类型的？作为快速的第一步（假设所有值都是正数，并存储为数字序列（没有科学记数法或符号）），您可以比较两个字符串的长度。

较短的字符串是两者中较小的。如果两个字符串*的*长度相同，则较小的字符串（按字母顺序）在数字上较小。

因此，输出小于`0`，等于，大于：`a``b``1``2``a``b`

```
CASE
  WHEN LEN(a) < LEN(b) THEN 0
  WHEN LEN(a) > LEN(b) THEN 2
  WHEN a < b THEN 0
  WHEN a > b THEN 2
  ELSE 1
END 
```

# perl - 如何在 perl 中将 1996-08-29T00:00:00.0000Z 日期格式更改为 17-May-2013

> ID：11078409
> 
> 赞同：-3
> 
> 时间：2012-06-18T07:18:31.950
> 
> 标签：perl

> **可能重复：**
> [格式化日期的简单方法](https://stackoverflow.com/questions/9497960/simple-way-to-format-date)

如何在 perl 中将“1996-08-29T00:00:00.0000Z”日期格式更改为 2013 年 5 月 17 日

需要帮助。非常感谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T07:30:01.697

```
use DateTime::Format::RFC3339 qw( );
my $format = DateTime::Format::RFC3339->new();
my $dt = $format->parse_datetime('1996-08-29T00:00:00.0000Z');
say $dt->strftime('%d-%b-%Y');  # 29-Aug-1996 
```

[日期时间::格式::RFC3339](http://search.cpan.org/perldoc?DateTime::Format::RFC3339)

* * *

更轻的解决方案：

```
use POSIX qw( strftime );
my ($y, $m, $d) = '1996-08-29T00:00:00.0000Z' =~ /^(....)-(..)-(..)/s;
say strftime('%d-%b-%Y', 0,0,0, $d,$m-1,$y-1900);  # 29-Aug-1996 
```

# javascript - 如何根据对属性的引用确定父对象

> ID：11078410
> 
> 赞同：3
> 
> 时间：2012-06-18T07:18:40.623
> 
> 标签：javascript, object, properties

```
var object = {foo: 'bar'}; 
```

JavaScript 是否有办法确定这`object.foo`是`object`从传递给的函数内部的属性`object.foo`？换句话说，是否有可能编写一个可以做到这一点的函数：

```
getSource(object.foo) === object 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T07:22:51.497

不，在 JavaScript 中没有类似的反向引用。传递给函数的是值 -- `5`、`"foo"`、对象引用等。没有关于该值的信息可以告诉您该值来自对象属性，更不用说*哪个*对象的属性了。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T07:28:36.850

对于变量，Javascript 使用“按值传递”，换句话说，当`object.foo`被传递给任何函数时，函数将接收的是`'bar'`，而不是对 的引用`object.foo`：

```
var object = {foo: 'bar'};
function by_value(v) {
    v = v + v
}
document.write(by_value(object.foo)) // Writes 'bar' 
```

换句话说，一旦你传递`object.foo`给任何函数，就无法知道 this 来自`object`

但是，如果您传递一个对象，该变量的*值*将是对该对象的*引用：（**注意：这不是真正的“按引用传递”，请参阅@tj-crowder 的评论）：*

```
function as_reference(o) {
    o.foo = o.foo + o.foo
}
document.write(by_reference(object)) // Writes 'barbar' 
```

这意味着作为一种廉价的解决方法，您也可以在对象中存储对对象的“引用”：

```
var object = {foo: 'bar'};
object.foo = {val: object.foo, parent: object}
function do_something(v) {
    console.log(v.val);   // foo
    console.log(v.parent) // object
}
do_something(object.foo) 
```

有帮助吗？

# sencha-touch - Sencha Touch 2 Navigation View 响应很慢

> ID：11078412
> 
> 赞同：2
> 
> 时间：2012-06-18T07:18:46.087
> 
> 标签：sencha-touch, extjs, sencha-touch-2, sencha-architect

我是 Sencha Touch 2 的新手。我正在为 Android 2.3.4 构建一个 PhoneGap + Sencha Touch 2 应用程序。我完成了我的应用程序的开发。在测试应用程序时，我发现我使用的导航视图在点击披露项时响应非常慢。我正在使用列表容器视图、列表视图和编辑器视图。下面给出了它们的代码。下面的代码工作正常，但在点击披露项时，事件编辑器视图会在 10 秒后显示，有时我什至不知道它是否被点击。

所以我在两件事上需要帮助：1.）当我点击披露项目时，我应该显示屏蔽以知道我至少点击了它 2.）或者加快事件编辑器视图的显示

列表容器视图：

```
Ext.define('Sample.view.ListContainer', {
    extend: 'Ext.NavigationView',
    xtype:'listContainer',
    id: 'idListContainer',
    config: {
        id:'idIncidentListContainer',
        items:[

               {
                   xtype:"incidentsList",
                   cls: "clsHeader"
               }

           ]
    }
}); 
```

列表显示：

```
Ext.define("Sample.view.IncidentsList", {
    extend: "Ext.Panel",
    xtype: 'incidentsList',
    id: 'idIncidentList',
    requires:[
              'Ext.dataview.List',
              'Ext.data.proxy.Memory',
              'Ext.data.Store',
          ],
    alias:'widget.incidentslist',
    config: {
        id: 'idIncidentList',
        layout:'fit',
        items: [
        {
            xtype: "toolbar",
            docked: "top",
            ui:'light',
            id:"idHeaderTwo",
            cls:"clsHeaderTwo" ,
                items: [
                        {   xtype: 'title' ,
                            cls: 'clsLeftTitle',
                            title: "My Incidents",
                        },
                        { xtype: 'spacer'},
                        {   xtype: 'title' ,
                            cls: 'clsRightTitle',
                            id: 'idIncidentsListTitle',
                            title:"Welcome",
                        },
                        ]
        }, 
        {
            xtype: "list",
            store: "IncidentStore",
            itemId:"incidentsList",
            id:"inclist",
            loadingText: "Loading Incidents...",
            emptyText: "<div class=\"empty-text\">No incidents found.</div>",
            onItemDisclosure: true,
            itemTpl: Ext.create('Ext.XTemplate',
                    '<tpl if="TKT_STATUS_NAME == \'CLOSED\'">',
                    '<div class="vm_statusRed">',
                    '</tpl>',
                    '<tpl if="TKT_STATUS_NAME == \'OPENED\'">',
                    '<div class="vm_statusYellow">',
                    '</tpl>',
                    '<tpl if="TKT_STATUS_NAME == \'ASSIGNED\'">',
                    '<div class="vm_statusOrange">',
                    '</tpl>',
                    '<tpl if="TKT_STATUS_NAME == \'PENDING\'">',
                    '<div class="vm_statusRed">',
                    '</tpl>',
                    '<tpl if="TKT_STATUS_NAME == \'RESOLVED\'">',
                    '<div class="vm_statusOrange">',
                    '</tpl>',
                    '<tpl if="TKT_STATUS_NAME == \'REOPEN\'">',
                    '<div class="vm_statusYellow">',
                    '</tpl>',
                    '<div class="vm_dvList"><h4 class="vm_txtName"><span class="vm_listHeader"><label>Inci.#{TKT_ID} by </label><label class="vm_txtFirstName"><i>{FIRST_NAME:ellipsis(15, true)}</i></label></span><div class="date vm_clsDate">{CREATED_ON:date("d-M-y H:i")}</div></h4>',
                    '<div class="vm_title">{TKT_SUBJECT}</div>',
                    '<div class="vm_subDesc">{TKT_DESC}</div></div></div>'
                )       
        }],
        listeners: [
        {
            delegate: "#incidentsList",
            event: "disclose",
            fn: "onIncidentsListDisclose",
            loadingText: "Loading ...",
        },
        ]
    }, 
    initialize: function() {
        this.callParent(arguments);
        var getLoginData = localStorage.getItem('userData');
        var parseData = JSON.parse(getLoginData);
        var fname = parseData[0].FIRST_NAME;
        var getIncidentData = localStorage.getItem('userIncidentData');
        var parseIncidentData = JSON.parse(getIncidentData);
        Ext.getCmp("idIncidentsListTitle").setTitle("Welcome, " + fname);
        Ext.getStore("IncidentStore").setData(localStorage.userIncidentData).load();
    },
    onIncidentsListDisclose: function (list, record, target, index, evt, options) {
        console.log("editIncidentCommand");
        /*var list = Ext.getCmp('idIncidentList');
        list.setMasked({
            xtype:'loadmask',
            message:'Loading...'
        });*/
        this.fireEvent('editIncidentCommand', this, record);
    }
}); 
```

编辑器视图：

```
Ext.define("Sample.view.IncidentEditor", {
    extend: 'Ext.form.Panel',
    xtype: 'incidentsEditor',
    id:'incidentsEditorView',
    alias: "widget.incidenteditorview",

    config: {
        scrollable: 'vertical',
        id:'idIncidentEditor',
        layout:'vbox',
        items: [
            {
                xtype: "toolbar",
                docked: "top",
                ui:'light',
                id:"idHeaderTwo",
                cls:"clsHeaderTwo",
                items: [
                        {   xtype: 'title' ,
                            cls: 'clsLeftTitle',
                            title: "Incident Details",
                        },
                        {xtype: 'spacer'},
                        {   xtype: 'title' ,
                            cls: 'clsRightTitle',
                            id: 'idIncidentEditorTitle',
                            title:"Welcome",
                        },
                        ]
            }, 
            { xtype: "fieldset",

                items: [
                    {
                        xtype: 'textfield',
                        name: 'TKT_SUBJECT',
                        label: 'Subject',
                        labelAlign: 'top',
                        cls:'vm_fieldFont',
                        clearIcon:false,
                        disabled:true
                    },
                    {
                        xtype: 'textareafield',
                        name: 'TKT_DESC',
                        label: 'Description',
                        labelAlign: 'top',
                        cls:'vm_fieldFont',
                        clearIcon:false,
                        disabled:true
                    },
                    {
                        xtype: 'textfield',
                        name: 'SEV_DESC',
                        label: 'Impact',
                        labelWidth:'45%',
                        cls:'vm_fieldFont',
                        clearIcon:false,
                        disabled:true
                    },
                    {
                        xtype: 'textfield',
                        name: 'SERVICE_NAME',
                        id:'displayIncident',
                        cls:'vm_fieldFont',
                        label: 'IncidentType',
                        disabled: true,
                        labelWidth:'45%',
                    },
                    {
                        xtype: 'textfield',
                        label: 'Category',
                        name: 'CATEGORY_NAME',
                        cls:'vm_fieldFont',
                        id:'getCategory',
                        labelWidth:'45%',
                        disabled: true,
                    },
            ]
            },
        ],            
    },    

    initialize: function() {
        var getLoginData = localStorage.getItem('userData');
        var parseData = JSON.parse(getLoginData);
        var fname = parseData[0].FIRST_NAME;
        Ext.getCmp("idIncidentEditorTitle").setTitle("Welcome, " + fname);
        //var list = Ext.getCmp('idIncidentList');
        //list.unmask();
     },
     onIncidentsListDisclose: function (list, record, target, index, evt, options) {
         console.log("editIncidentCommand");
         this.fireEvent('editIncidentCommand', this, record);
     }
}); 
```

控制器：

```
Ext.define("Sample.controller.Incidents", {        
    extend: "Ext.app.Controller",
    config: {
        refs: {
            //lookup for views by xtype
            incidentsListView:'incidentslist',
            incidentEditorView: 'incidenteditorview', 
            incidentsList: 'incidentsList',
            listContainer:'listContainer'
        },
        control: {
            incidentsListView: {
                //commands fired by the Incidents list container.
                editIncidentCommand: "onEditIncidentCommand",
            },
        }
    },
    //Transitions
    slideLeftTransition: { type: 'slide', direction: 'left' },
    slideRightTransition: { type: 'slide', direction: 'right' },

    //Helper function(generates random integer)
    getRandomInt: function (min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    },

    //Function to get incident details and set them to incidentview
    activateIncidentEditor: function (record) {
        var incidentContainer = this.getListContainer();
        var incidentEditorView = Ext.create("Sample.view.IncidentEditor");
        incidentEditorView.setRecord(record); // load() is deprecated.
        incidentContainer.push(incidentEditorView);            
    },

    //on edit incident command
    onEditIncidentCommand: function (list, record) {
        this.activateIncidentEditor(record);
    }
}); 
```

请帮帮我......提前谢谢......！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:23:26.487

*我遇到同样的问题。以 MVC 格式编码 Sencha Touch 2 使应用程序在“旧”硬件上的响应超慢。尤其是安卓。这是 HTML5 vs Native 的缺点。但是他们声称手动构建库时性能会提高，我几乎没有任何改进。*

在 Android 上，大多数基于性能的问题都与动画有关。尝试将显示/隐藏动画设置为无，看看它是否有所改善。您也可以尝试在控制器上设置 onBackButtonTap 和其他事件。这应该会改善页面渲染分配。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-17T07:25:29.360

我有一个类似的问题，在我的情况下，解决方案是这样的：

[http://www.sencha.com/forum/showthread.php?184341-Best-practice-to-prevent-App-peformance-from-Slowly-degrading-after-drilling-around&p=900511&posted=1#post900511](http://www.sencha.com/forum/showthread.php?184341-Best-practice-to-prevent-App-peformance-from-Slowly-degrading-after-drilling-around&p=900511&posted=1#post900511)

# java - PowerMock - 模拟静态系统类抛出 IllegalStateException

> ID：11078415
> 
> 赞同：2
> 
> 时间：2012-06-18T07:18:54.090
> 
> 标签：java, junit, easymock, powermock, illegalstateexception

我有以下代码

```
public class A{    
    public void createFile() {
        File tempXmlFile = null;
        String extension = ".xml";
        String name = "someName";
        try {
            tempXmlFile = File.createTempFile(name, extension);

            if (tempXmlFile.exists()) {
                tempXmlFile.delete();
            }
        } catch (IOException e) {
            System.out.println(e.getStackTrace());
        }
    }
}

@RunWith(PowerMockRunner.class)
@PrepareForTest(A.class)
public class testA  extends TestCase{
    private A classUnderTest;

    @Override
    @Before
    public void setUp() {
        classUnderTest = PowerMock.createMock(A.class); //the class is more complex in my case and I have to mock it
    }

    public void testCreateFile() throws IOException{
        String extension = ".xml";
        String name = "someName";
        PowerMock.mockStatic(File.class);
        File tempFileMock = PowerMock.createMock(File.class);

        expect(File.createTempFile(name, extension)).andReturn(tempFileMock);
        expect(tempFileMock.exists()).andReturn(true);
        expect(tempFileMock.delete()).andReturn(true);

        replay(File.class, tempFileMock, classUnderTest);
        classUnderTest.createFile();
        verify(File.class, tempFileMock, classUnderTest);
    }
} 
```

正如我所说，在测试类中，必须模拟被测类（我无法创建新对象）。当我运行测试时，我得到：

```
java.lang.IllegalStateException: no last call on a mock available
    at org.easymock.EasyMock.getControlForLastCall(EasyMock.java:174)
    at org.easymock.EasyMock.expect(EasyMock.java:156)
    at myPackage.testA.testCreateFile(testA.java:35)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:59)
    at org.junit.internal.runners.MethodRoadie.runTestMethod(MethodRoadie.java:98)
    at org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:79)
    at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:87)
    at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:77)
    at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:42)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:163)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:120)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:113)
    at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:27)
    at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:37)
    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:111)
    at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:87)
    at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:44)
    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49)
    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)
    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197) 
```

我在这里阅读了文档[http://code.google.com/p/powermock/wiki/MockSystem](http://code.google.com/p/powermock/wiki/MockSystem)但测试仍然无法正常工作。我错过了什么吗？

编辑：我用一个真实的 A 对象测试了之前的代码（并将其从重放中删除）

```
 classUnderTest = new A(); 
```

但我仍然得到同样的例外。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-06T17:43:59.743

尝试将 File.class 添加到 @PrepareForTest。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:25:13.910

我认为你需要抑制构造函数

检查这个 [http://code.google.com/p/powermock/wiki/SuppressUnwantedBehavior](http://code.google.com/p/powermock/wiki/SuppressUnwantedBehavior)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T10:42:04.520

尝试 org.powermock.reflect.internal.WhiteboxImpl.newInstance() 方法创建类的对象，然后直接调用方法。1）这将抑制类的构造函数 2）如果你的类包含静态块，那么使用 suppressStaticInitilaizationFor 来抑制它。

问候阿尼尔夏尔马

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-09-03T09:40:02.117

将 File.class 添加到 @PrepareForTest 并检查重播的导入并验证。它们应该来自 PowerMock。

# android - Android：ListView 中的标题

> ID：11078417
> 
> 赞同：1
> 
> 时间：2012-06-18T07:19:06.023
> 
> 标签：android, android-listview

我想在 a 的顶部有一个标题`ListView`，但是**如果用户向下滚动 ListView，标题总是堆栈到视图的顶部**（*操作栏的正下方*）。

我创建了一个`RelativeLayout`包含我`LinearLayout`的标题及其下方的 ListView，但是当 ListView 向下滚动时，标题消失了。我也尝试过，`addHeaderView`但还没有运气。

有人可以在这里发光吗？

编辑：我的布局是这样的：

```
<include
    android:id="@+id/IncludeFiltersZoekAndBoek"
    android:layout_above="@+id/AcommodatiesListView"
    layout="@layout/filters_header_layout" />

<ListView
    android:id="@+id/AcommodatiesListView"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_above="@+id/LoadMoreAccommodaties"
    android:layout_alignParentTop="true"
    android:scrollingCache="false" >

</ListView>

<Button
    android:id="@+id/LoadMoreAccommodaties"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:text="Laad meer resultaten..."
    android:visibility="gone" /> 
```

对于标题：

```
<LinearLayout
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_weight="1" >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center_horizontal"
        android:text="Populariteit" />

    <ImageButton
        android:layout_width="15dip"
        android:layout_height="15dip"
        android:src="@drawable/triangle" />

    <ImageButton
        android:layout_width="15dip"
        android:layout_height="15dip"
        android:src="@drawable/triangle" />
</LinearLayout>

<LinearLayout
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_weight="1" >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center_horizontal"
        android:text="Prijs" />

    <ImageButton
        android:layout_width="15dip"
        android:layout_height="15dip"
        android:src="@drawable/triangle" />

    <ImageButton
        android:layout_width="15dip"
        android:layout_height="15dip"
        android:src="@drawable/triangle" />
</LinearLayout>

<LinearLayout
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_weight="1" >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:gravity="center_horizontal"
        android:text="Rating" />
</LinearLayout> 
```

现在，似乎没问题，唯一的问题是`ListView`位于标题下方，向下滚动时，您可以看到`ListView`.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T07:21:43.760

根据您的要求，您实际上不需要为 ListView 设置标题视图，因为标题可以与列表的其他内容一起滚动。

在您的情况下，只需将该视图添加到您的 ListView 的顶部（上方），该视图应作为其标题。到那时，即使您滚动列表，它也会留在那里。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:31:37.980

你需要这样的东西：

```
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@android:color/darker_gray"
android:orientation="vertical" >

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@android:color/white" >

    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:text="THIS IS A HEADER"
        android:textColor="@android:color/black"
        android:textSize="20sp"
        android:typeface="serif" />
</LinearLayout>

<ListView
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" 
    android:scrollingCache="false"
    >
</ListView>

</LinearLayout> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:39:33.560

您必须设置标题权重，然后查看结果。:)

# c# - 获取文件的 MimeType（内容类型）

> ID：11078420
> 
> 赞同：0
> 
> 时间：2012-06-18T07:19:22.993
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, razor, mime

如何通过文件扩展名获取特定文件的 Mime 类型或内容类型？本程序采用 MVC3 Razor Syntax 开发，代码如下：

```
if (System.IO.File.Exists(file))
            return File(file, "application/pdf", id);
        else
            return RedirectToAction("Index"); 
```

我想将 application/pdf 更改为动态值，以便它通过发送到控制器的 id 或文件名提供 MIME 类型。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:26:42.163

您可以在 中查找注册表值`HKCR\<file extension>\Content Type`。此值并不适用于所有文件类型，但可能适用于您感兴趣的所有文件类型。

# asp.net-mvc - 根据角色隐藏链接

> ID：11078423
> 
> 赞同：11
> 
> 时间：2012-06-18T07:19:29.947
> 
> 标签：asp.net-mvc, asp.net-mvc-3, razor, asp.net-roles

我是 asp.mvc 的新手。我正在尝试开发一个门户来维护员工数据。在我的系统中，只有“经理”有权创建员工。如何在经理登录时启用链接并在员工登录时禁用链接。谢谢

我的观点

```
@model IEnumerable<SealManagementPortal_3._0.Models.VOC_CUSTODIAN>
@{
    ViewBag.Title = "List of Custodians";
}
<h2>Index</h2>
<p>
    @Html.ActionLink("Create New", "Create")
</p>
<script type="text/javascript">
    jQuery(document).ready(function () {
        jQuery("#list2").jqGrid({
            url: '@Url.Action("GridData", "Custodian")',
            datatype: 'json',
            mtype: 'GET',
            colNames: ['Agent ID', 'Branch', 'Unique ID', 'Custodian Name', /*'NRIC No', 'E-Mail', 'Contact No', 'Mobile No',*/'Role', 'Details', 'Edit', 'Delete'],
            colModel: [
                { name: 'Agent ID', index: '', width: 10, align: 'left' },
                { name: 'Branch', index: '', width: 10, align: 'left' },
                { name: 'Unique ID', index: '', width: 10, align: 'left' },
                { name: 'Custodian Name', index: '', width: 10, align: 'left' },                
                {name: 'Role', index: '', width: 10, align: 'left' },
                { name: 'Details', index: '', width: 5, align: 'left' },
                { name: 'Edit', index: '', width: 5, align: 'left' },
                { name: 'Delete', index: '', width: 5, align: 'left'}],
            pager: jQuery('#pager2'),
            rowNum: 10,                
            sortname: 'Id',
            sortorder: "desc",
            viewrecords: true,
            autowidth: true,
            caption: 'Custodians List'
        });
    }); 
</script>
@using (Html.BeginForm())
{
    <table id="list2" class="scroll" cellpadding="0" cellspacing="0"></table> 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-18T07:24:41.667

你可以使用角色。首先**也是最重要的事情**是装饰应该使用`Authorize`属性执行更新的控制器操作，并指定用户必须拥有的正确角色才能访问此控制器操作：

```
[HttpPost]
[Authorize(Roles = "Managers")]
public ActionResult Create(Employee emp)
{
    ...
} 
```

一旦服务器上的所有内容都安全了，您就可以在视图中进行修饰并仅在用户处于`Managers`角色时才显示链接：

```
@if (User.IsInRole("Managers"))
{
    @Html.ActionLink("Create employee", "Create")
} 
```

您可以查看[以下文章](http://www.asp.net/mvc/tutorials/older-versions/security/authenticating-users-with-forms-authentication-cs)以获取有关表单身份验证和角色的更多信息。

# jquery - jQuery 自动更正插件不适用于 1.7.2 版本

> ID：11078424
> 
> 赞同：0
> 
> 时间：2012-06-18T07:19:53.493
> 
> 标签：jquery, autocorrect

我正在使用这个很棒的插件： http: [//www.sanisoft.com/blog/2009/06/22/jquery-auto-correct-plugin/](http://www.sanisoft.com/blog/2009/06/22/jquery-auto-correct-plugin/)

但它不适用于 1.6.2 或更高版本...

它可以正常工作到 jQuery v1.5.2。

你知道我该如何解决这个问题吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:26:47.537

只需删除插件中的第一个 if 语句。例如，删除这个：

```
// If plugin attached to text/textarea field then don't need to proceed further
if (0 > jQuery.inArray(jQuery(this).attr("type"), new Array("text", "textarea")))
{
    return;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:28:04.427

使用 jQuery`jQuery.noConflict()`

可能重复 - [JQuery 版本冲突](https://stackoverflow.com/questions/6332111/jquery-version-conflict)

和一个参考 - [http://forum.jquery.com/topic/how-to-remove-jquery-version-conflict](http://forum.jquery.com/topic/how-to-remove-jquery-version-conflict)

# asp.net - 从 MVC 控制器返回不同的视图

> ID：11078429
> 
> 赞同：8
> 
> 时间：2012-06-18T07:20:22.240
> 
> 标签：asp.net, asp.net-mvc, asp.net-mvc-3

我有一个 MVC 应用程序，其 SharedLayout 视图（母版页）为用户提供了搜索功能。他们可以通过 Order No 或 By Bill no 搜索他们的订单。因此，共享视图和文本框有两个选项按钮。代码有点像这样

```
 @using (Html.BeginForm("Track", "Tracking", FormMethod.Post))
        {
            <div style="text-align: center">
                <textarea cols="20" id="txtNo" name="txtOrderNo" rows="2" ></textarea>
            </div>
            <div style="text-align: center">
                <input type="radio" name="optOrderNo" checked="checked" value="tracking" />Order No                    <input type="radio" name="optRefNo" value="tracking" />Ref No
            </div>
            <div style="text-align: center">
                <input type="submit" value="Track" />
            </div>
        } 
```

所以它会去里面的 TrackingController 和 Track Method 并返回视图。它适用于单个搜索，因为视图与控制器的方法相关联。它工作正常，但我怎么能有条件地根据单选按钮选择返回另一个视图。

我想出的是这个

```
 [HttpPost]
    public ActionResult Track(FormCollection form)
    {
        string refNo = null;
        if (form["optRefNo"] == null)
        {
            string OrderNo = form["txtOrderNo"];
            var manager = new TrackingManager();
            var a = manager.ConsignmentTracking(OrderNo);
            var model = new TrackingModel();
            if (OrderNo != null)
                model.SetModelForConsNo(a, consNo);
            return View(model);
        }

        refNo = form["txtConsNo"];
        return TrackByRef(refNo);
    }

    public ActionResult TrackByRef(string refNo)
    {
       //what ever i want to do with reference no
        return View();
    } 
```

请指导。谢谢

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-06-18T07:23:00.390

`View`有一个重载，其中第一个参数是一个字符串。这是您要使用的视图的名称（或路径），而不是默认名称（与操作名称匹配的视图）。

```
public ActionResult TrackByRef(string refNo)
{
   //what ever i want to do with reference no
    return View("Track");
   // or, if you want to supply a model to Track:
   // return View("Track", myModel);
} 
```

# sql-server-2008 - 创建存储过程以修改行（如果存在）并在表中插入新行（如果不存在）

> ID：11078431
> 
> 赞同：3
> 
> 时间：2012-06-18T07:20:44.197
> 
> 标签：sql-server-2008, tsql, stored-procedures

![在此处输入图像描述](../Images/15066f1ca8e3111178f42e80c1b6ebe1.png)

如何创建存储过程以根据 Id 和 Name 参数更新 Std_Course 的列，或者如果 Id 和 Name 不存在则插入新行

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:24:30.057

尝试这样的事情：

```
CREATE PROCEDURE dbo.proc_InsertOrUpdate
    @ID INT, @Name VARCHAR(50), @StdCourse INT
AS 

    IF EXISTS (SELECT * FROM dbo.YourTable WHERE ID = @ID AND Name = @Name)

        UPDATE dbo.YourTable
        SET Std_course = @StdCourse
        WHERE ID = @ID AND Name = @Name

    ELSE    

        INSERT INTO dbo.YourTable(ID, Name, Std_Course)
        VALUES(@ID, @Name, @StdCourse 
```

**更新：**由于您使用的是 SQL Server 2008，因此您还可以使用简单的`MERGE`语句 - 直接“内联”或在存储过程中。它看起来像这样：

```
CREATE PROCEDURE dbo.proc_InsertOrUpdate
    @ID INT, @Name VARCHAR(50), @StdCourse INT
AS 
    MERGE dbo.YourTable AS t
    USING (SELECT @ID, @Name, @StdCourse) AS Source(ID, NAME, Std_Course) 
    ON source.ID = t.ID AND source.Name = t.Name

    WHEN MATCHED THEN
        UPDATE SET Std_Course = @StdCourse

    WHEN NOT MATCHED THEN
        INSERT(ID, Name, Std_Course)
        VALUES(source.ID, source.Name, source.Std_Course); 
```

# java - 如何立即打印出消息？java聊天室

> ID：11078437
> 
> 赞同：0
> 
> 时间：2012-06-18T07:21:19.213
> 
> 标签：java, sockets, arraylist, serversocket, chatroom

我有一个服务器/客户端聊天室。当客户端连接到服务器并发送消息时，客户端程序会打印出它发送的消息，但在另一个连接到服务器的客户端程序上，它不会打印出，直到用户按下“输入”键.

在客户端：

```
try {
    //Strings to hold messages in and out:
        String userinput, serverinput;

        //Getting input from the user:
        BufferedReader input = new BufferedReader(new InputStreamReader(System.in));

        //Messages from the server will be printed to the console, messages from console will be sent to the socket:
        while(true) {
            userinput = input.readLine();
            serverout.println(username + "> " + userinput);

            serverinput = clientin.readLine();
            System.out.println(serverinput);
        }
    } 
```

在服务器端：

```
public void run() {
            PrintWriter output = null;
            BufferedReader input = null;
            String message;
            SchoolRoomServer server = new SchoolRoomServer();;
            try {
                //i/o for clients:
                output = new PrintWriter(socket.getOutputStream());
                input = new BufferedReader(new InputStreamReader(socket.getInputStream()));
            } catch (IOException ioe) {
                System.err.println(ioe);
                System.exit(1);
            }

            try {
                while((message = input.readLine()) != null) {
                    server.showAll(message, output);
                }
            } catch (IOException ioe) {
                System.err.println(ioe);
                System.err.println("Damn errors.");
                System.exit(1);
            }
        } 
```

顺便说一句 - server.showAll(message, output); 方法是这样的：

```
public void showAll(String msg, PrintWriter printwriter) {
    for(int i = 0; i < listWriters.size(); i++) {
        if(listWriters.get(i) != printwriter) {
            listWriters.get(i).println(msg);
        }
    }
} 
```

listWriters 是 PrintWriters 的 Arraylist，每次为该客户端创建新线程时，它都会获取与该客户端关联的 PrintWriter。

那么：关于如何立即打印消息的任何想法？

感谢您的任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:48:29.613

阅读[Socket](http://docs.oracle.com/javase/1.4.2/docs/api/java/net/Socket.html)和[ServerSocket](http://docs.oracle.com/javase/1.4.2/docs/api/java/net/ServerSocket.html)

基本上你需要建立一个`client socket`连接到一个`server socket`然后你需要在`i/o streams`两者之间传递来打印从客户端到服务器的消息，反之亦然。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:33:55.750

[您遇到与此处](https://stackoverflow.com/questions/1066318/how-to-read-a-single-char-from-the-console-in-java-as-the-user-types-it)相同的问题。System.in 在用户按下回车之前不会返回任何内容。然后你可以阅读整行。

# iphone - 删除视图中的图像

> ID：11078439
> 
> 赞同：0
> 
> 时间：2012-06-18T07:21:36.617
> 
> 标签：iphone, ios, xcode

我似乎在删除 UIScrollView 中的图像时遇到问题。我能够从中删除它，`NSDocumentDirectory`但它仍然留在视图中。按下按钮时如何将其删除。这是我的代码：

```
- (IBAction)buttonClicked:(id)sender {
    UIButton *button = (UIButton *)sender;
    [_images objectAtIndex:button.tag];
    [_images removeObjectAtIndex:button.tag];

    NSFileManager *fileManager = [NSFileManager defaultManager];
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString *fullPath = [documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@"%d.png", button.tag]];
    [fileManager removeItemAtPath: fullPath error:NULL];

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T07:23:05.897

您将需要从超级视图中删除视图，如下所示

```
//In your button clicked function
- (IBAction)buttonClicked:(id)sender {
    UIButton *button = (UIButton *)sender;
    [button removeFromSuperView];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:26:08.113

我想在完成你的删除选项之后。你不会重新加载你的视图。所以我保持那个形象。

# magento - 自定义注册字段数据在 magento 1.7 中不可见

> ID：11078440
> 
> 赞同：3
> 
> 时间：2012-06-18T07:21:36.380
> 
> 标签：magento

我正在按照[这里](http://www.excellencemagentoblog.com/customer-registration-fields-magento1-6)的说明进行操作。我在 magento 1.7 CE 中创建了一个自定义字段，名为 Mobile 的注册字段。它工作正常，即在时间注册时输入，但在单击我的帐户时它没有显示值。所有其他字段的值都会出现，例如名字姓氏电子邮件。但不是在我的手机文件中。它是空白的。

我知道它适用于 v 1.6。但我让它以某种方式在 v1.7 上工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-10T19:56:11.927

您是否刷新了后端缓存？在 magento 系统 > 配置 > 缓存页面中，它是右上角的橙色按钮。Magento 缓存 db 结构

# symfony - 由于注册问题未引发事件侦听器

> ID：11078443
> 
> 赞同：0
> 
> 时间：2012-06-18T07:21:46.800
> 
> 标签：symfony, dispatcher

我在尝试将自己的事件/侦听器注册到事件调度程序时遇到问题。我通过我的包@MyBundle/Resources/services.yml 的服务注册的内容仅在渲染过程中加载，因此在控制器中进行调度时它不可用。

```
 webservice.listener.data_connect:
    class: Trav\CoreBundle\EventListener\WebService\WebServiceListener
    arguments:
        mailer: '@doctrine.orm.entity_manager'
    tags:
        - { name: kernel.event_listener, event: trav.webservice.error_connection, method: onDataConnectEvent, class: Trav\CoreBundle\EventListener\WebService\WebServiceListener } 
```

但是在 defaultControler 中执行此操作时：

```
$this->event_dispatcher = $this->container->get("event_dispatcher");
    $this->event_dispatcher->dispatch("travelyo.webservice.listener.data_connect", new DataConnectEvent(array())); 
```

它不起作用，尝试调试，我可以看到在调度方法中，它找不到我要附加的侦听器。

当尝试放入事件 kernel.request 而不是 trav.webservice.error_connection 以使其正常工作（未调用侦听器，请参见调试栏中），但 WebServiceListener::OnDataConnect 中的事件是 GetResponseEvent 而不是 DataConnectEvent。

有人知道这里有什么问题吗？我从中受到启发：http: [//iamproblematic.com/leveraging-the-symfony2-event-dispatcher/](http://iamproblematic.com/leveraging-the-symfony2-event-dispatcher/)。

这似乎以完全相同的方式工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T14:46:39.030

您调度的事件需要与您正在侦听的事件相匹配。示例代码正在发送**travelyo.webservice.listener.data_connect**事件，并且监听器被配置为接收**trav.webservice.error_connection**事件，这意味着该监听器不会接收到该事件。

# google-app-engine - 需要澄清 App Engine SearchAPI 配额

> ID：11078446
> 
> 赞同：2
> 
> 时间：2012-06-18T07:22:11.873
> 
> 标签：google-app-engine, full-text-search

我正在尝试使用 appengine 的 Search API，并且一直遇到此 SO 帖子中描述的“短期突发配额”：[appengine search api for java](https://stackoverflow.com/questions/10567267/quotas-on-appengine-search-api-for-java)的配额。

在我们的用例中，我们需要从索引中删除所有文档，然后重新填充索引。我们通过以下方式对此进行了攻击：

1.  遍历列表并删除文档
2.  通过任务队列添加文档（1/s）吞吐率

我*仍然*遇到这个突发限制，我想知道当我删除文档时是否需要睡觉？

这种突发率严重限制了我们（因为我们正在根据其他标准动态构建这些索引）并且很好奇是否有人有更多的见解。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:30:19.557

1.  您应该使用队列而不是睡眠来限制使用（永远不要在 AppEngine 中使用睡眠）。
2.  您可以请求[增加您的配额](https://docs.google.com/a/google.com/spreadsheet/viewform?formkey=dFFJUi1GUW1mVGpOQllJUjBUOUVJUUE6MQ)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-02T07:50:50.570

我相信每分钟有 100 个呼叫配额以及每天 20k 个呼叫（尽管现在可能已经取消了每分钟配额）。

我发现解决这个问题的最好方法是使用游标和任务队列来分散负载。

# .net - BulkCopy 与 BCP 插入

> ID：11078454
> 
> 赞同：2
> 
> 时间：2012-06-18T07:22:50.403
> 
> 标签：.net, sql, sql-server, silverlight, sql-server-2008

我需要将大量数据插入数据库中的不同表中。我可以选择哪些选项以使性能永远不会成为问题？（这是一个 silverlight 应用程序，我将从客户端在服务器上运行它。）我发现了一些选项，例如 SMO 中的 BulkCopy 和 BCP Insert。哪个最适合我的场景？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T07:55:39.547

您可以改用 SqlBulkCopy 类。我已经使用了很多次，它非常高效且易于使用。

看看这篇文章： [http ://social.msdn.microsoft.com/Forums/eu/adodotnetdataproviders/thread/dcc7a701-9acf-4c2f-a5d7-1fcb4dbb05f2](http://social.msdn.microsoft.com/Forums/eu/adodotnetdataproviders/thread/dcc7a701-9acf-4c2f-a5d7-1fcb4dbb05f2)

使用示例：http: [//msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlbulkcopy.aspx](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlbulkcopy.aspx)

# git - Git总是询问我的用户名（和密码）？

> ID：11078456
> 
> 赞同：2
> 
> 时间：2012-06-18T07:22:53.740
> 
> 标签：git, github

> **可能重复：**[当git从windows机器推送http时，](https://stackoverflow.com/questions/11069256/automate-username-password-entry-when-git-pushing-over-http-from-windows-machine)
> [有没有办法在使用https://github时跳过密码输入自动输入用户名/密码](https://stackoverflow.com/questions/5343068/is-there-a-way-to-skip-password-typing-when-using-https-github)

我在 PC 上使用 Git 已经有一段时间了。我的一个新仓库现在要求输入用户名和密码。

以前，它总是要求我输入密码。

这就是我要去的..

GIT BASH => git push ' [https://github.com](https://github.com) ' 的用户名：（我输入 purekrome 然后回车）' [https://purekrome@github.com](https://purekrome@github.com) ' 的密码：是的 pew pew secret stuff

然后..等很久？1分钟？2 分钟？

然后它提交。

有什么方法可以让它记住我的用户名？（我不在乎它每次都询问我的密码）。

干杯！

# facebook - Facebook og:url 被忽略，取而代之的是关于 og 实体的 Facebook 托管页面

> ID：11078461
> 
> 赞同：0
> 
> 时间：2012-06-18T07:23:16.797
> 
> 标签：facebook, facebook-opengraph

我正在尝试在我的页面上实现 Like 按钮。

这些页面代表产品的评论页面。当用户喜欢该页面时，它会显示在 Facebook 中（不是作为链接，而是作为喜欢一个实体），但是当您单击 Facebook 中的实体时，它会链接到代表该页面的 facebook.com 托管页面。我希望用户被重定向到 og:url 页面？

例如，当您喜欢 Grooveshar 上的艺术家页面时，就会发生这种情况：http://grooveshark.com/#!/artist/Elbow/ [4795](http://grooveshark.com/#!/artist/Elbow/4795)

我显然是“做错了”。

我正在使用以下标记来包含 SDK。MYAPPID 包含在 Facebook 提供的代码生成器中，所以我认为它是必需的。

```
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=MYAPPID";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script> 
```

然后是我的代码来呈现 Like 按钮。

```
<div class="fb-like" data-send="false" data-width="450" data-show-faces="true"></div> 
```

最后是我的 og 标签：

```
<meta property="og:title" content="My product" />
<meta property="og:type" content="product" />
<meta property="og:url" content="http://site.com/product_1/" />
<meta property="og:image" content="http://site.com/image1.jpg" />
<meta property="og:site_name" content="My-Site-Name.com" />
<meta property="fb:admins" content="MYFACEBOOKID" />
<meta property="fb:app_id" content="MYAPPID" /> 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T09:12:21.910

听起来您将该 URL 的管理页面与 URL 本身混淆了，但我可能是错的，因为管理页面顶部有一条消息解释这个看起来像这样： ![管理页面消息](../Images/a71091475d9349bcc549cb08fdb57224.png)

只有管​​理员才能看到 Facebook 上的管理页面，其他用户将被带回到`og:url`被赞的 URL 上定义的值。如果您没有在 HTML5 Like 插件中指定 data-href 参数，这将是当前页面或`og:url`当前页面元标记上的任何值

检查[Facebook 的调试工具](https://developers.facebook.com/tools/debug)对您想要喜欢的 URL 的说明，并确保标签被正确读取

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T09:14:44.357

Grooveshark 示例的问题在于它们使用的是`#!`url。如果您喜欢`http://grooveshark.com/artist/Elbow/4795`它，它将正常工作。如果您使用这样的 URL 模式，那么您将遇到问题，并且您需要覆盖 like 按钮才能在没有它的情况下点击 url。

# python - 如何在 Python 中将十六进制颜色值转换为 RGB

> ID：11078462
> 
> 赞同：0
> 
> 时间：2012-06-18T07:23:17.163
> 
> 标签：python, rgb, rgba

如何将十六进制颜色值（如`#ff3ab4`）转换为三元组 RGB 值，如`(128, 255, 0)`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T08:04:11.680

省略前导零的原因是因为字符串被转换为数字，当您再次尝试将数字表示为字符串时，它不会显示任何前导 0，因为数字没有确定长度，不知道它起源于一个字符串，而字符串又确实有一定的长度。

在您的情况下，我假设您希望将单独的 A、R、B 和 G 部分作为格式良好的字符串返回。如果您想手动执行此操作，我将执行以下操作：

```
def colorComponents(hexAsString):
    def uniformLength(string):
        return string[:2] + "".zfill(10-len(string)) + string[2:]
    re = []
    re.append(str(hex(int(hexAsString, 16) & int("0xFF000000", 16))))
    re.append(str(hex(int(hexAsString, 16) & int("0x00FF0000", 16))))
    re.append(str(hex(int(hexAsString, 16) & int("0x0000FF00", 16))))
    re.append(str(hex(int(hexAsString, 16) & int("0x000000FF", 16))))

    for i in range(len(re)):
        re[i] = uniformLength(re[i])
    return re 
```

请注意，这并没有以任何方式优化性能。:) 您应该立即使用整数（例如使用 255 而不是 int("0xFF000000", 16)）。这样，尽管您可以清楚地看到我用来将单独的组件过滤为十六进制数字的位掩码。

我相当肯定还有一些像字符串格式化程序这样的东西可以将数字表示为漂亮的字符串，但我从未使用过它们，所以我无法告诉你这些解决方案的外观如何:)

编辑：如果你不清楚我使用的位掩码是如何工作的，这里有一个（希望是）简单​​的例子：假设你有 2 个字节的数据以它们的位形式表示：

```
bytes0 = 0011 0101
bytes1 = 0000 1111 
```

该`&`运算符是按位 AND 运算符。

```
bytesAND = bytes0 & bytes1 
```

`bytesAND`现在看起来像这样：

```
0000 0101 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:44:45.303

```
>>> bit32_to_bytes = lambda x: [255 & (x >> 8 * i) for i in (0,1,2,3)]
>>> bit32_to_bytes(0xFFEE2200)
[0L, 34L, 238L, 255L] 
```

一些解释：

```
>>> bin(0xFF00)
'0b1111111100000000' # this is string, not a number
>>> bin(0xFF00 >> 8) # shift right by 8 bits
'0b11111111' # leading zeros striped
>>> bin(0xA0FF00)
'0b101000001111111100000000' # 24-bit number
>>> bin(0xA0FF00 >> 8) # shift by 1 byte (drop the lowest byte)
'0b000000001010000011111111' # leading zeros added by myself!
>>> bin(255 & (0xA0FF00 >> 8)) # shift right (by 1 byte) and mask (get last byte)
'0b000000000000000011111111' # leading zeros added by myself! 
```

屏蔽后`y = 255 & x`，`y`接收数字中低字节的值`x`。 `y = 255 & (x >> 8 * n)`-> y = x 的第 n 个字节

# xcode - 如何在 Xcode 中将 JSON 数组转换为数组？

> ID：11078466
> 
> 赞同：0
> 
> 时间：2012-06-18T07:23:36.347
> 
> 标签：xcode, arrays, json

我如何转换这个 JSON 数组：

这是一个序列化的 JSON 数组

```
 2012-06-18 09:22:07.647 TableView[468:f803] (
                {
                "Countries" = Iceland;
                 "id"=9046567;
                  "name"=abceeeffdsg;

            },
                {
                "Countries" = Greenland;
                "id"=3524695;
                "name"=gsfjgfsethju;
    },
                {
                 "Countries" = Switzerland;
                 "id"=4613583;
                 "name"=hdfkdgs;
        ) 
```

但我需要将此数组转换为以下数组：

```
 {
                   NSArray* Countries =         (
                        Iceland,
                        Greenland,
                        Switzerland,
                    );
NSArray *id=(9046567,3524695,4613583 );
NSArray * name=(abceeeffdsg,gsfjgfsethju,hdfkdgs);
                } 
```

否则我只是想在我的表格视图中将这些项目显示为一个单元格.. 任何人都可以提出一些代码并解释这一点....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:42:44.110

这会将所有国家/地区获取到一个数组中：

```
NSArray *countries = [myArrayFromJson valueForKey:@"Countries"]; 
```

请注意，您的第二个片段是`NSDictionary`一个键（'Countries'）和一个值数组。所以它不仅仅是“一个数组”......

所以，如果你真的想要这样，你可以这样做：

```
// After collecting the values into 'countries' array like above...
NSDictionary *countriesDict = [NSDictionary dictionaryWithObject:countries forKey:@"Countries"]; 
```

# android - 钛中的 android onHandleIntent() 等价物是什么

> ID：11078475
> 
> 赞同：0
> 
> 时间：2012-06-18T07:24:33.817
> 
> 标签：android, titanium, intentservice

钛中是否有任何等效的 API 用于 android `onHandleIntent()`？

# php - jquery fancybox登录框不加载外部php文件

> ID：11078479
> 
> 赞同：0
> 
> 时间：2012-06-18T07:24:47.983
> 
> 标签：php, jquery, ajax, fancybox

我正在尝试使用 fancybox 来显示如下登录表单

```
<div style="display:none">
    <form id="login_form" method="post" action="">
            <p id="login_error">Please, enter data</p>
        <p>
            <label for="login_name">Login: </label>
            <input type="text" id="login_name" name="login_name" size="30" />
        </p>
        <p>
            <label for="login_pass">Password: </label>
            <input type="password" id="login_pass" name="login_pass" size="30" />
        </p>
        <p>
            <input type="submit" value="Login" />
        </p>
        <p>
            <em>Leave empty so see resizing</em>
        </p>
    </form>
</div> 
```

的java脚本是

```
$("#login_form").bind("submit", function() {

    if ($("#login_name").val().length < 1 || $("#login_pass").val().length < 1) {
        $("#login_error").show();
        $.fancybox.resize();
        return false;
    }

    $.fancybox.showActivity();

    $.ajax({
        type        : "POST",
        cache   : false,
        url     : "login.php",
        data        : $(this).serializeArray(),
        success: function(data) {
            $.fancybox(data);
        }
    });

    return false;
}); 
```

html是

```
<a id="tip5" title="Login" href="#login_form"><?php echo "Login" ; ?></a> 
```

当我单击登录链接时，它会显示登录弹出窗口，但是当我单击提交按钮时，它会关闭弹出窗口并刷新页面。

实际上它应该检查数据并在弹出窗口上显示数据而不是刷新页面。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T08:11:27.820

可能还有更多问题：

1.  Fancybox 可能正在克隆原始 HTML 以将其放入弹出窗口。因此，您需要使用 function`live`而不是`bind`.
2.  Fancybox 可能会以某种方式更改表单的 ID（使用一些 DOM Inspector（如 FireBug for FireFox）检查）并确保弹出窗口中的表单 ID 是您为之提交事件的 ID。

我也更喜欢使用`event.preventDefault()`而不是返回 false... 我的 JS 代码将是：

```
$("#login_form").live("submit", function(e) {
    e.preventDefault();
    if ($("#login_name").val().length < 1 || $("#login_pass").val().length < 1) {
        $("#login_error").show();
        $.fancybox.resize();
        return false;
    }

    $.fancybox.showActivity();

    $.ajax({
        type        : "POST",
        cache   : false,
        url     : "login.php",
        data        : $(this).serializeArray(),
        success: function(data) {
            $.fancybox(data);
        }
    });
}); 
```

# jquery - 发布后 MVC 4 移动模板重定向到操作失败

> ID：11078481
> 
> 赞同：3
> 
> 时间：2012-06-18T07:25:06.607
> 
> 标签：jquery, c#-4.0, jquery-mobile, asp.net-mvc-4, beta

我正在为一个项目使用 MVC 4.0 移动模板，但在使用默认脚手架/模板时遇到了一个奇怪的问题。我创建了一个简单的模型：

```
public class Person
{
    public int Id { get; set; }
    [Required]
    public string Name { get; set; }
} 
```

然后我创建了一个带有索引操作和创建操作的简单控制器：

```
public ActionResult Index()
    {
        List<Person> persons = new List<Person>();
        return View(persons);
    }

public ActionResult Create()
    {
        Person p = new Person();
        return View(p);
    }

    //
    // POST: /Person/Create

    [HttpPost]
    public ActionResult Create(Person p)
    {
        try
        {
            // TODO: Add insert logic here
            //empty

            //return Redirect("/Person/Index");
            return RedirectToAction("Index", "Person", null);
        }
        catch
        {
            return View();
        }
    } 
```

为两个操作生成了视图：对于 Index 我生成了一个 List 视图，对于 Create 我生成了一个 Create 视图。现在的问题是，在我创建一个新产品后，它应该重定向到索引视图，它以一种奇怪的方式执行，但 url 仍然是 /Person/Create，然后当我单击索引视图上的“新建”链接时，什么也没有发生。（在生成时创建新链接：@Html.ActionLink("Create New", "Create")）

我认为这是一个错误，但我还没有在网上找到任何东西。关于如何使这项工作的任何建议？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-25T13:56:13.997

有一个解决方法：[jQuery Mobile/MVC: Getting the browser URL to change with RedirectToAction](https://stackoverflow.com/questions/7824243/jquery-mobile-mvc-getting-the-browser-url-to-change-with-redirecttoaction)

此外，页面没有刷新（我使用 IE），所以我必须遵循这个答案才能在 IE 上刷新页面`RedirectToAction`：[如何停止 MVC 缓存调用操作方法的结果？](https://stackoverflow.com/questions/2969450/how-to-stop-mvc-caching-the-results-of-invoking-an-action-method)

# types - 模块和类型绑定过程

> ID：11078482
> 
> 赞同：1
> 
> 时间：2012-06-18T07:25:08.623
> 
> 标签：types, fortran

我收到以下错误消息：

```
The name of the module procedure conflicts with a name
in the encompassing scoping unit.   [ADD_SUB] 
```

在64 位平台`ifort 12.0.3`上编译下面的源代码时。`ubuntu 12.04`

有任何想法吗？

```
Module Header

  Type :: hello

      Integer :: a
      Integer :: b    
      Integer :: sum

    contains

      procedure, pass :: add => add_sub

  End type hello

  Interface

    Subroutine add_sub(this)
       Import hello
       Implicit None
       class(hello) :: this

    End Subroutine add_sub

  End Interface

End Module

Module Routines

  use Header

contains

  Subroutine add_sub(this)    
    Implicit None    
    class(hello), intent(inout) :: this
    this%sum=this%a+this%b    
  End Subroutine

End Module

Program Test

  use Header    
  use Routines

  Implicit None

  Type(hello) :: x

  x%a=1    
  x%b=2

  call x%add()

  write(*,*) x

End Program Test 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T13:32:29.267

I think that the problem you have is that, because Fortran compilers give all module procedures an explicit interface, the compiler finds two instances of `add_sub` within the topmost scope of program `test`.

I've had a look at the Fortran 2003 standard and can't immediately find a rule to forbid what you have done. However, it is unusual. The urge to put routine declarations and definitions in separate compilation units seems to afflict C/C++ programmers a lot more than it does run-of-the-mill Fortran programmers.

If you do want to separate these in your coding I think you have the following options:

*   Put your subroutine definitions into a compilation unit which is not a module. I could, for example, compile your program fragment by removing the module `routines` and having the subroutine `add_sub` in a compilation unit of its own.
*   Use the `include` statement to include the text of the source file in which routines are defined.
*   Wait for compilers to implement Fortran 2008's `submodule` capabilities.

I don't really see this as a particular problem, I'm one of those run-of-the-mill Fortran programmers who is used to putting the entire definition of type-bound procedures in the same compilation unit as the declarations of the types to which they are bound.

It is possible, mind you, that the Fortran standard does not prohibit you doing what you are trying to do but that the Intel compiler doesn't yet implement the feature, or implements it incorrectly. Why not run this past their tech support people, they're usually pretty good.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T08:33:41.697

您已经定义了两次例程`add_sub`，并且名称相互冲突。这可以通过在模块开头添加以下行来轻松解决`Header`：

```
private add_sub 
```

这使得`add_sub`模块私有的定义，因此任何导入模块的例程都不能直接访问它 - 相反，它们将通过公共接口访问它`add`

# winforms - TPL 可用于顺序场景

> ID：11078484
> 
> 赞同：0
> 
> 时间：2012-06-18T07:25:24.260
> 
> 标签：winforms, c#-4.0

我有需要执行的顺序步骤..可以说：

step1——完成后——执行step2

step2——完成后——执行step3

step3——完成后——执行step4

step4——完成后——执行step5

第五步

这些步骤需要在没有 UI 阻塞的情况下执行（调用异步）.. 需要您的建议如何使用 TPL 任务并行库来完成

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:41:15.153

您可以使用[ContinueWith](http://msdn.microsoft.com/en-us/library/dd235663) ()：

```
Task t1 = new Task(...);
Task t2 = t1.ContinueWith(()=>{ ... });
Task t3 = t2.ContinueWith(()=>{ ... });
Task t4 = t3.ContinueWith(()=>{ ... });
Task t5 = t4.ContinueWith(()=>{ ... });

t1.Start(); 
```

# android - Android布局文件中的“工具：上下文”是什么？

> ID：11078487
> 
> 赞同：1005
> 
> 时间：2012-06-18T07:25:48.703
> 
> 标签：android, xml, android-layout, android-context, android-tools-namespace

从最近的 ADT 新版本开始，我注意到布局 XML 文件中的这个新属性，例如：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    tools:context=".MainActivity" /> 
```

**“工具：上下文”是做什么用的？**

它甚至如何知道那里编写的活动的确切路径？它是否查看清单内的应用程序包？

它仅限于扩展 Context 的类还是仅限于活动？它可用于 ListView 项目等吗？

* * *

## 回答 #1

> 赞同：492
> 
> 时间：2012-06-18T07:56:54.150

这是 UI 编辑器用于呈现布局预览的工具的活动。它记录[在这里](https://developer.android.com/studio/write/tool-attributes#toolscontext)：

> 此属性声明默认情况下此布局与哪个活动相关联。这将启用需要了解活动的编辑器或布局预览中的功能，例如预览中的布局主题应该是什么，以及当您从 quickfix 制作这些处理程序时在哪里插入 onClick 处理程序

* * *

## 回答 #2

> 赞同：394
> 
> 时间：2012-06-19T23:33:55.893

该属性基本上是布局上方“关联活动”选择的持久性。在运行时，布局总是与活动相关联。它当然可以与多个相关联，但至少与一个相关联。在该工具中，我们需要了解此映射（在运行时发生在另一个方向；活动可以调用 setContentView(layout) 来显示布局）以驱动某些功能。

现在，我们只将它用于一件事：为布局选择正确的主题（因为清单文件可以注册主题以用于*活动*，并且一旦我们知道与布局关联的活动，我们就可以选择为布局显示的正确主题）。将来，我们将使用它来驱动其他功能 - 例如渲染操作栏（与活动相关联），添加 onClick 处理程序的位置等。

这是一个 tools: namespace 属性的原因是这只是一个供工具使用的设计时映射。布局本身可以被多个活动/片段等使用。我们只是想为您提供一种选择设计时绑定的方法，例如我们可以显示正确的主题；您可以随时更改它，就像您可以更改我们的列表视图和片段绑定等一样。

（这是完整的变更集，其中包含更多详细[信息](https://android-review.googlesource.com/#/c/36273/)）

是的，上面列出[的 Nikolay 链接显示了新配置选择器的外观和工作方式](http://tools.android.com/recent/newconfigchooser)

还有一件事：“工具”命名空间很特别。android打包工具知道忽略它，所以这些属性都不会打包到APK中。我们将它用于布局中的额外元数据。例如，它也是存储抑制 lint 警告的属性的地方——作为工具：忽略。

* * *

## 回答 #3

> 赞同：97
> 
> 时间：2014-02-20T16:16:18.887

根据[Android 工具项目网站](http://tools.android.com/tech-docs/tools-attributes)：

**工具：上下文**

此属性通常设置在布局 XML 文件中的根元素上，并记录布局与哪个活动相关联（在设计时，因为显然一个布局可以被多个布局使用）。例如，布局编辑器将使用它来猜测默认主题，因为主题是在清单中定义的，并且与活动相关联，而不是与布局相关联。您可以使用与清单中相同的点前缀来指定活动类，而无需完整的应用程序包名称作为前缀。

```
<android.support.v7.widget.GridLayout
    xmlns:android="http://schemas.android.com/apk/res/android"    
    xmlns:tools="http://schemas.android.com/tools"
    tools:context=".MainActivity"> 
```

使用者：Studio 和 Eclipse 中的布局编辑器、Lint

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2017-10-15T03:57:01.123

## 一、说明

`tools: context = "activity name"`它不会被打包进`apk`.Only `ADT`Layout Editor 在你当前的 Layout 文件中设置对应的渲染上下文，显示你当前的 Layout 在渲染上下文中是 Activity 名称对应的 Activity，如果`manifest`文件中的 Activity 设置了 Theme，那么`ADT`布局编辑器将根据主题呈现您当前的布局。意味着如果您设置`MainActivity`了主题。光（另一个），然后您会在可视化布局管理器中看到应该是主题的背景控制。光的样子。只为向您展示所见即所得的结果。

有些人看到会明白一些，有些人看到了也不知道，我再补充几句解释：

## 2.样品

> 举个简单`tools:text`的例子，多一些图片，方便进一步了解`tools:context`

```
<TextView
    android:id="@+id/text1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="sample name1" />

<TextView
    android:id="@+id/text2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    tools:text="sample name2" /> 
```

[![在此处输入图像描述](../Images/4bfa8dff3ebd42f0c6877ac08da749fe.png)](https://i.stack.imgur.com/UpeZz.png)

> `TextView`1 采用了`android: text`, 并 `tools:text`在`TextView`2 中使用 , 布局编辑器右侧会显示`sample name1`, 这`sample name2`两种字体，如果你运行代码编译后生成`apk`，终端只显示`sample name1`，不显示`sample name2`字样。你可以试试运行，看看效果如何。

## 3.具体说明

1.`tools: context = "activity name"`它不会被打包进`apk`（理解：相当于this is commented，编译后没有效果。）

2.只有`ADT`Layout Editor（即模拟器右侧上面的图标）在当前Layout文件中设置了对应的渲染上下文，当前XML在渲染上下文中的Layout就是activity名称对应的activity，如果清单文件中的activity设置了一个主题，然后`ADT`布局编辑器将根据主题呈现您当前的布局。意味着如果您设置了`MainActivity`一个主题。Light也可以是（other）。（理解：你添加了`tools: context = "activity name"`，xml布局是渲染指定activity，在manifest文件中建立一个Theme，上图右边模拟器的Theme风格也会跟着Theme对应的变化。）

## 4.总结

综上所述，这些属性主要针对上面对的工具，模拟器调试的时候显示状态，编译不行，

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2016-07-13T11:08:28.047

“tools:context”是设计属性之一，可以在开发框架中促进 XML 中的布局创建。此属性用于向开发框架显示选择了哪些活动类来实现布局。使用“tools:context”，Android Studio 会自动为预览选择必要的主题。

如果您想了解更多有关 Android 应用程序开发的其他属性和有用工具的信息，请查看此评论：[http ://cases.azoft.com/4-must-know-tools-for-effective-android -发展/](http://cases.azoft.com/4-must-know-tools-for-effective-android-development/)

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2019-01-21T05:26:19.190

这是最好的解决方案： [https ://developer.android.com/studio/write/tool-attributes](https://developer.android.com/studio/write/tool-attributes)

这是我们可以在 xml 中设置活动上下文的设计属性，例如

```
tools:context=".activity.ActivityName" 
```

适配器：

```
tools:context="com.PackegaName.AdapterName" 
```

[![在此处输入图像描述](../Images/435f1679b2c1764098e07f2b815042fd.png)](https://i.stack.imgur.com/6TAC5.png)

单击标记的图标时，您可以导航到 java 类，并且工具具有更多功能，例如

```
tools:text=""
tools:visibility:""
tools:listItems=""//for recycler view 
```

等

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-05-08T07:33:37.777

`tools:context=".MainActivity"` thisline 用在 xml 文件中，表示使用哪个 java 源文件来访问这个 xml 文件。这意味着为特定的 java 文件显示此 xml 预览。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-06-17T02:37:27.153

```
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity">

    //more views

</androidx.constraintlayout.widget.ConstraintLayout> 
```

在上面的代码中，tools:context 的基本需求就是告诉布局文件默认关联的是哪个activity或者fragment。因此，您可以使用与清单文件中相同的点前缀来指定活动类名称。

这样一来，Android Studio 将自动为预览选择必要的主题，您无需手动进行预览设置。众所周知，一个布局文件可以与多个活动相关联，但主题是在清单文件中定义的，并且这些主题与您的活动相关联。因此，通过在布局文件中添加 tools:context，Android Studio 预览会自动为您选择必要的主题。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-06-17T13:46:57.480

此属性有助于获得与您的布局关联的活动的最佳知识。当您必须使用 QuickFix 在视图上添加 onClick 处理程序时，这也很有用。

```
tools:context=".MainActivity" 
```

# javascript - 仅 JavaScript 正则表达式货币小数

> ID：11078488
> 
> 赞同：0
> 
> 时间：2012-06-18T07:25:51.370
> 
> 标签：javascript, regex

我对正则表达式的了解非常薄弱。到目前为止，我已经设法创建了一个表达式来验证字符串是否为整数。问题是我只想要十进制数字而不需要整个数字。

**正则表达式：**

```
"currency": {
                    "regex": /^\s*(\+|-)?((\d+(\.\d\d)?)|(\.\d\d))\s*$/,
                    "alertText": "* Not a valid decimal number."
                }, 
```

**例子**

```
valid:
45.00

invalid:
$45.00
45
$45 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T07:28:23.707

你可以使用：

```
/^\s*[+-]?(\d+\.\d\d)\s*$/ 
```

如果您想允许`.50`更改`\d+`为`\d*`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T16:05:15.250

如果小数位数可以大于 2，那么您可以使用：

```
^\s*[+-]?\d*\.\d+\s*$ 
```

这将处理 10.50、.50、10.5123456 等

# android - 在运行时更改背景颜色

> ID：11078495
> 
> 赞同：1
> 
> 时间：2012-06-18T07:26:25.020
> 
> 标签：android, themes, background-color

我正在开发一个类似于电子阅读器的 android 应用程序，但它读取 xml 文件。我希望它使用更改背景按钮更改 xml 文件视图的背景颜色。非常类似于 Kindle 应用程序在阅读电子书时，您可以将背景颜色切换为黑色、白色或棕褐色。我相信这将需要改变整个主题而不仅仅是背景，因为文本颜色也会改变。

在这方面的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:28:23.137

无法在运行时更改主题 - 您必须重新启动当前活动，它将使用新主题。

您可以通过迭代视图并自己设置颜色来更改 Layout 和 TextViews 的背景。

如果您想使用主题方法，您必须执行以下操作：

```
setTheme(android.R.style.Theme_Black);
myActivity.startActivity(new Intent(myActivity.this, myActivity.class));
myActivity.finish(); 
```

# c# - 正则表达式（只写一个字母的正则表达式

> ID：11078496
> 
> 赞同：-1
> 
> 时间：2012-06-18T07:26:30.477
> 
> 标签：c#, javascript, .net

我想为格式为的字符串编写一个验证正则表达式

SDDDDDD/DDC

在哪里：

*   S - 字符串应以 S 字符开头
*   DDDDDD - 0-9 之间的任何数字，可以是 1-6 位数字
*   DD - 0-9 之间的任何数字，2 位必填
*   C - a-zA-Z 之间的任何字符

例如 S123456/22F

我写了以下表达式：

```
/S[0-9]{1,6}\/[0-9]{2}[A-Z]{1}/ 
```

但它不适合。验证此类字符串的正确表达式是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:34:18.850

你正在寻找的是

```
^S\d{1,6}/\d{2}[a-zA-Z]$ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:34:58.917

尝试这个。S[0-9]{1,6}/[0-9]{2}[AZ]{1}

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:35:52.610

`S\d{1,6}/\d{2}[A-Za-z]`或者

`^S\d{1,6}/\d{2}[A-Z]$`如果它必须匹配整个字符串

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T10:27:32.927

尝试这个

```
^S\d{1,6}/\d{2}[A-Z]$ 
```

# grails - grails 异步引导

> ID：11078503
> 
> 赞同：1
> 
> 时间：2012-06-18T07:26:42.857
> 
> 标签：grails, bootstrapping

是否可以在 grails 引导类中异步使用服务？我试图在 grails-2.0.4 和 grails-executor-plugin 中执行以下操作，但只出现第一条日志消息：

```
class BootStrap {

def myService

def init = { servletContext ->

    log.info("Bootstrapping")

    runAsync {
        log.info("Doing myService async ")
        myService.doSomething()
    }

} 
```

没有错误消息，只是第二条日志语句没有输出。提前非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:31:21.493

删除`runAsync`关闭 - 这不是它的正确位置。您可以在不同的环境中使用像`production`和这里这样的闭包：`development`

```
class BootStrap {

def myService

def init = { servletContext ->
    log.info("Bootstrapping")
    development {
        log.info("Doing myService async ")
        myService.doSomething()
    }
}

class MyService {
    def doSomething() {
        runAsync {
            // executed asynchronously
        }
    }
} 
```

# php - 链接到 WordPress 中的新页面？

> ID：11078504
> 
> 赞同：0
> 
> 时间：2012-06-18T07:26:46.690
> 
> 标签：php, wordpress

如何在 WordPress 中应用指向下一页的链接？我想从 index.php 转到 page.php。

href= 我使用了这段代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:30:44.360

基本上是`<a href="page.php">Click to go to page.php</a>`

JSF中：

[http://jsfiddle.net/HhPC9/](http://jsfiddle.net/HhPC9/)

（当然链接不起作用，因为那里没有这样的页面）

**这是一个普遍的答案，可能是 wordpress 有它自己的页面系统，而 page.php 实际上是所有页面“页面”，并使用您浏览这些页面的参数。

# css - 如何增加标签按钮的可点击区域？

> ID：11078509
> 
> 赞同：91
> 
> 时间：2012-06-18T07:27:09.610
> 
> 标签：css, button, html, clickable

我从这篇[文章](https://stackoverflow.com/questions/2777256/making-buttons-button-or-div/2777280#comment14500094_2777280)中了解到，总是使用`<a>`标签或`<button>`标签来制作按钮。现在我正在尝试使用`<a>`标签。我的问题是：有什么办法可以增加标签的可点击区域？假设我`<a>`在 div 框中使用。我希望整个 div 框成为一个按钮。我可以将点击区域更改为整个 div 框吗？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：178
> 
> 时间：2013-12-02T11:54:07.010

要增加文本链接的区域，您可以使用以下 css；

```
a {     
   display: inline-block;     
   position: relative;    
   z-index: 1;     
   padding: 2em;     
   margin: -2em; 
} 
```

*   显示：需要 inline-block 以便可以设置边距和填充
*   位置需要是相对的，这样......
*   z-index 可用于使可点击区域停留在随后的任何文本之上。
*   padding 增加了可点击的区域
*   负边距保持周围文本的流动，因为它应该是（注意重叠的链接）

* * *

## 回答 #2

> 赞同：59
> 
> 时间：2012-06-18T07:30:23.143

**编辑：**

[@t1m0thy 的回答](https://stackoverflow.com/a/20327676/1225328)比我的更优雅，最好听从他的建议。

此外，[@aldemarcalazans](https://stackoverflow.com/users/4941815/aldemarcalazans)在评论中提出了很好的链接：[https](https://davidwalsh.name/html5-buttons) ://davidwalsh.name/html5-buttons 。

* * *

**原答案：**

`<a />`当您需要链接时使用（*锚的**a*）。需要按钮时使用。*`<button />`*

 *也就是说，如果您确实需要扩展`<a />`，请在其上添加 CSS 属性`display: block;`。然后，您将能够指定宽度和/或高度（即，就好像它是 a 一样`<div />`）。

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2012-06-18T07:29:53.787

是的，如果您使用的是**HTML5** ，则可以，否则此代码**无效：**

```
<a href="#foo"><div>.......</div></a> 
```

如果您不使用 HTML5，则可以创建链接`block`：

```
<a href="#foo" id="link">Click Here</a> 
```

**CSS：**

```
#link {
  display : block;
  width:100px;
  height:40px;
} 
```

`width`请注意，`height`只有在制作链接块级元素之后，您才能应用。

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2012-06-18T07:31:10.483

只需制作锚点`display: block`和`width/height: 100%`. 例如：

```
.button a {
    display: block;
    width: 100%;
    height: 100%;
} 
```

jsFiddle：http: [//jsfiddle.net/4mHTa/](http://jsfiddle.net/4mHTa/)

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2012-06-18T07:29:46.220

如果您使用的是 HTML 5，即文档类型

```
<!doctype html> 
```

那么你可以只使用[块级链接](http://html5doctor.com/block-level-links-in-html-5/)。

```
<a href="google.com">
  <div class="hello">
    ..
  </div>
</a> 
```

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2014-05-07T06:56:18.423

添加`padding`到锚标签的CSS类。如果需要，请根据您想要的可点击区域单独添加`padding-top`, ,...。`padding-bottom`它对我有用。

* * *

## 回答 #7

> 赞同：7
> 
> 时间：2020-02-26T07:39:11.123

对我来说，填充解决方案并不好，因为我在按钮上使用了边框，并且很难修改标记来为触摸区域创建覆盖。

所以我所做的是，我只是使用了 :before 伪标签，并创建了一个覆盖，这在我的情况下是完美的，因为单击事件以相同的方式传播。

```
button.my-button:before {
    content: '';
    position: absolute;
    width: 26px;
    height: 26px;
    top: -6px;
    left: -5px;
} 
```

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2012-06-18T07:34:17.683

您可以尝试使用 display: block 或 display: inline-block。一个不错的教程可以在这里找到：[http ://robertnyman.com/2010/02/24/css-display-inline-block-why-it-rocks-and-why-it-sucks/](http://robertnyman.com/2010/02/24/css-display-inline-block-why-it-rocks-and-why-it-sucks/)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-06-19T11:43:14.437

使用位置 css 属性并将顶部、右侧、底部和左侧设置为零.. 如果需要，在我的情况下设置 z-index 在我使用文本缩进因为我不想显示链接“文本”但如果你想显示链接“ text" ，只是不要使用 text-indent

```
display:block;
position: absolute;
top: 0;
left: 0;
right: 0;
bottom: 0;
text-indent: -99999px; 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2020-06-11T05:04:17.637

非常感谢这里的答案的贡献者，它为我指明了正确的方向。

对于那里的 Bootstrap4 用户，这对我有用。将链接（点击目标）设置为正确的大小，以通过移动设备上的灯塔站点审核。

```
 <span class="small">
         <a class="d-inline position-relative p-3 m-n3" style="z-index: 1;" href="/AdvancedSearch" title="Advanced Site Search using extra optional filters">Advanced Site Search</a>
    </span> 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2020-08-13T15:14:06.267

我发现的简单方法：在**“a”**标签列表项的右侧添加一个**“li”标签**

 **```
<li></span><a><span id="expand1"></span></a></li> 
```

在 CSS 文件上创建如下：

```
#expand1 {
 padding-left: 40px;
} 
```***

# cocos2d-iphone - Cocos2D- 只有一个小图像的帧率打嗝

> ID：11078511
> 
> 赞同：0
> 
> 时间：2012-06-18T07:27:21.417
> 
> 标签：cocos2d-iphone, frame-rate

我正在尝试从 0 到屏幕外的汽车旅行。但我可以看到，当汽车移动时，显示屏上有明显的打嗝。让我向您展示我的工作：

我有一辆@property (nonatomic,strong) CCSprite 汽车；

在 init 方法中，我执行以下操作：

```
self.car=[CCSprite spriteWithFileName:@"car.png"];
CGSize *windowSize=[[CCDirector sharedDirector] winSize];
CGSize carSize=car.contentSize;
car.position=ccp(0-carSize.width/2,windowSize.height/2);
[selp addChild:car];
[self schedule:@selecor(tick:) interval:0.5]; 
```

这是打勾方法：

```
-(void)tick:(ccTime)time{
 [[self.car runAction:MoveBy actionWithDuration:time position:ccp(100,0)];
} 
```

如您所见，它只是一个简单的测试应用程序。图片“car.png”的大小为 64x128。在 AppDelegate.m 中，帧速率设置为 30 FPS。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:52:54.360

首先，如果你只是想让你的精灵移出屏幕边框，为什么不只使用一个动作而不每 0.5 秒开始一个新动作呢？您可以创建单个操作。同样使用这种方法，如果出现滞后，您将遇到问题。例如，如果您的应用程序由于任何原因会延迟 2 秒，那么在此之后，您的精灵将在 X 轴上缓慢移动 100 个点，因为无法保证您总是会收到 0.5 作为时间参数。如果延迟 2 秒，您将收到时间 = 2。

如果你真的想用某种更新方法移动你的精灵，最好用 setPosition 改变它的位置，而不是用动作。例如，如果您想将精灵的显示位置与它在物理世界（b2World 等）中的位置同步，它会很有用。或者在某种复杂运动的情况下。例如，在使用公式 sin(t) 或阿基米德螺线进行运动的情况下。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T12:41:52.883

在您的 tick 方法中，我会在运行新的移动之前停止动作。此外，不要使用“时间”作为动作持续时间，而是使用 0.5f。时间是你实际得到的时间，可能是 0.5 的一些数字（如果我不得不猜测的话，可能是 +/- 1/60 秒）。随着更多对象出现在屏幕上，再加上用户操作，在预定方法上接收到的“时间”将变得更加随机。我个人只用它来计算预定方法处理的两个元事件之间的经过时间。

# blackberry - 如何在字段类中添加位图字段或点击侦听器？

> ID：11078517
> 
> 赞同：0
> 
> 时间：2012-06-18T07:27:47.030
> 
> 标签：blackberry, field, bitmapfield

我的`Custom_Field`课是这样的：

```
public class Custom_BottomField extends Field {

private Bitmap _backgroundBitmap = Bitmap
        .getBitmapResource("footer_bar.png");

private Bitmap finance = Bitmap.getBitmapResource("icon_economy.png"),
        special = Bitmap.getBitmapResource("icon_title.png"),
        forum = Bitmap.getBitmapResource("icon_forum.png"),
        discussion = Bitmap.getBitmapResource("icon_discussion.png"),
        other = Bitmap.getBitmapResource("icon_other.png");

private BitmapField financebtn, specialbtn, forumbtn, discussionbtn,
        otherbtn;

Custom_BottomField() {
    Background background = BackgroundFactory
            .createBitmapBackground(_backgroundBitmap);
    setBackground(background);
}

protected void layout(int width, int height) {
    width = Math.min(width, getPreferredWidth());
    height = Math.min(height, getPreferredHeight());
    setExtent(width, height);
}

public int getPreferredHeight() {
    return 70;
}

public int getPreferredWidth() {
    return Display.getWidth();
}

protected void paint(Graphics graphics) {
    int rectHeight = getPreferredHeight();
    int rectWidth = getPreferredWidth();
    graphics.drawRect(0, 0, rectWidth, rectHeight);
    graphics.drawBitmap(getGap(), 5, finance.getWidth(),
            finance.getHeight(), finance, 0, 0);
    graphics.drawBitmap(rectWidth / 5 + getGap(), 5, special.getWidth(),
            special.getHeight(), special, 0, 0);
    graphics.drawBitmap(rectWidth * 2 / 5 + getGap(), 5, forum.getWidth(),
            forum.getHeight(), forum, 0, 0);
    graphics.drawBitmap(rectWidth * 3 / 5 + getGap(), 5,
            discussion.getWidth(), discussion.getHeight(), discussion, 0, 0);
    graphics.drawBitmap(rectWidth * 4 / 5 + getGap(), 5, other.getWidth(),
            other.getHeight(), other, 0, 0);
}

private int getGap() {
    return ((getPreferredWidth() / 5) - finance.getWidth()) / 2;
}

private void Button() {
    financebtn = new BitmapField(finance, BitmapField.FOCUSABLE) {
        protected boolean navigationClick(int status, int time) {
            MyApp.getUiApplication().pushScreen(new Main_ParticulatCategoryAllNews());
            return true;
        }
    };
}
} 
```

上面的类是[这张](http://imageshack.us/f/502/91172222.png/)图片中突出显示的

我无法在`Field`课堂上添加 BitmapField，因为我想点击按钮去`Main_ParticulatCategoryAllNews`上课。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T09:21:26.753

通过扩展`HorizontalFieldManager`和使用解决`add()`

# android - 如何通过WIFI在android中运行facebook应用

> ID：11078518
> 
> 赞同：1
> 
> 时间：2012-06-18T07:27:53.863
> 
> 标签：android, android-wifi

我在 android 中有一个 facebook 应用程序。如果我通过移动网络使用它工作正常。
但是当我尝试通过*WIFI*方式运行它时，它甚至没有登录。
我是否需要为*WIFI*或其他我错过的东西授予任何权限？

谢谢。

# asp.net-mvc - 如果我没有 BeginForm，如何从我的视图中收集字段值？

> ID：11078519
> 
> 赞同：0
> 
> 时间：2012-06-18T07:27:56.570
> 
> 标签：asp.net-mvc

我有一个没有 BeginForm 的视图，我想从下拉列表和字段中收集值并将它们发送到控制器以执行查询。我想使用某种类型的按钮将参数发送到控制器。

问题：我是否应该将视图的字段包装在 BeginForm 中以便可以使用 ?

我可以使用不需要 BeginForm 的 FormCollection 或类似的东西吗？

如何从视图的字段中获取值并将它们作为参数传递给控制器​​？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:45:42.323

我只是将它们包装在一个表格中。表单元素属于一个表单。

要么在每个元素上使用 JavaScript，要么向控制器发出 Ajax 请求。也许看着 Knockout 来管理这个过程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T11:10:25.637

在这些情况下，我总是建议使用 HTML 表单。如果您正在使用`Html.BeginForm`或直接放置由您决定的表单元素来创建，尽管我推荐较早的那个。

```
Can I use FormCollection or something similar that does not require a BeginForm? 
```

要`FormCollection`在 action 参数中使用`BeginForm`，不必在视图中使用或什至有一个表单。使用 jquery，您可以轻松地根据其 id 或名称收集字段，您可以使用它`$.post`来发出发布请求，并且您仍然可以在操作中使用 formcollection。`FormCollection`如果可能，您必须创建一个视图模型并使用它，而不是使用它。

> 如何从视图的字段中获取值并将它们作为参数传递给控制器​​？

如果您不使用表单，那么您已经使用“id”收集每个字段值。$("#ddlCity")，形成一个 json 对象，你可以使用 jquery 的[$.post](http://api.jquery.com/jQuery.post/)方法。

# oracle - 以明文形式从 ldap 服务器读取 userPassword 字段

> ID：11078520
> 
> 赞同：0
> 
> 时间：2012-06-18T07:27:59.090
> 
> 标签：oracle, migration, ldap, oid, opendj

我正在构建一个实用程序，它将从 Oracle Internet Directory 服务器复制用户和组并将它们传输到 OpenDJ LDAP 服务器。

经过大量工作后，我已经到了从 OID 读取用户属性的地步，我被困在 userPassword 字段中。

有什么方法可以让我以明文形式读取密码？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T07:56:03.517

如果密码以明文形式放置，您只能以明文形式阅读密码。*出于非常好的安全和法律*原因，大多数情况下并非如此。但是，您不需要为此目的：只需照原样复制内容即可。这将包括一个标签，显示密码上使用的任何散列方案，目标 LDAP 服务器应该正确处理它。

# c# - 此签名和加密代码与顺序加密和签名文件有什么区别？

> ID：11078521
> 
> 赞同：1
> 
> 时间：2012-06-18T07:27:59.533
> 
> 标签：c#, .net, bouncycastle, pgp

此[页面](http://www.bouncycastle.org/devmailarchive/msg08137.html)有一个代码片段，用于在一个步骤中对文件进行签名和加密（在签名和加密代码下）。

`KeyBasedFileProcessor`这与顺序加密然后签署文件（分别使用和`SignedFileProcessor`Bouncy Castle Crypto）有什么区别？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T09:10:05.547

见[这篇文章](http://world.std.com/~dtd/sign_encrypt/sign_encrypt7.html)。

> 为什么 naïve Sign & Encrypt 不安全？最简单地说，S&E 容易受到“秘密转发”的影响：Alice 为 Bob 的眼睛签名和加密，但 Bob 重新加密 Alice 的签名消息，让 Charlie 看到。最后，查理相信爱丽丝是直接给他写信的，并没有发现鲍勃的诡计。鲍勃这样做可能只是为了让爱丽丝或查理难堪，或两者兼而有之
> 
> ...
> 
> 有趣的是，naïve Encrypt-then-Sign 并不比 Sign & Encrypt 好。在这种情况下，任何窃听者很容易将发送者的签名替换为自己的签名，从而声称加密明文的作者身份

# php - 为 CRC16 函数将 C 转换为 PHP

> ID：11078524
> 
> 赞同：4
> 
> 时间：2012-06-18T07:28:09.127
> 
> 标签：php, c, crc16

我需要帮助将 C 代码转换为 PHP。以下是C代码：

```
static const U16 crctab16[] = { 0x0000, 0x1189, ... };

U16 GetCrc16(const U8* pData, int nLength)
{
  U16 fcs = 0xffff;
  while(nLength > 0)
  {
    fcs = (fcs >> 8) ^ crctab16[fcs ^ *pData) & 0xff];
    nLength--; pData++;
  }
  return ~fcs;
} 
```

到目前为止，我已经设法转换了以下 PHP 代码：

```
$crctab16 = array(0x0000, 0x1189, ... );

function getCrc16($pData)
{
    $hexdata = pack('H*',$pData);
    $nLength = strlen($hexdata);
    $fcs = 0xFFFF;
    $pos = 0;
    while($nLength > 0)
    {
        $fcs = ($fcs >> 8) ^ $crctab16[($fcs ^ $hexdata[$pos]) & 0xFF];
        $nLength--;
        $pos++;
    }
    return ~$fcs;
} 
```

我试图运行以下代码：

```
$str = "0A1344010400010005"; 
var_dump(getCrc16($str));
var_dump(bin2hex(getCrc16($str))); // result supposed to be 08 45 
```

它似乎显示了错误的结果。当我尝试`$str`用其他值替换时，结果将始终相同。

我相信我的 PHP 代码可能有问题。但是，我似乎无法弄清楚造成这种情况的原因。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:31:20.883

试试这个

```
function crc16($sStr, $aParams = array()){ 

 $aDefaults = array( 
   "polynome" => 0x1021, 
   "init" => 0xFFFF, 
   "xor_out" => 0, 
 ); 

 foreach ($aDefaults as $key => $val){ 
   if (!isset($aParams[$key])){ 
     $aParams[$key] = $val; 
   } 
 } 

 $sStr .= ""; 
 $crc = $aParams['init']; 
 $len = strlen($sStr); 
 $i = 0; 

 while ($len--){ 
   $crc ^= ord($sStr[$i++]) << 8; 
   $crc &= 0xffff; 

   for ($j = 0; $j < 8; $j++){ 
     $crc = ($crc & 0x8000) ? ($crc << 1) ^ $aParams['polynome'] : $crc << 1; 
     $crc &= 0xffff; 
   } 
 } 

 $crc ^= $aParams['xor_out']; 

 return $crc; 
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T08:44:01.850

我已经设法找出解决方案。感谢@nhahtdh、@Carsten 和@odiszapc，他们提供了帮助。

这是正确的 PHP 函数：

```
function getCrc16($pData)
{
    $hexdata = pack('H*',$pData);
    $nLength = strlen($hexdata);
    $fcs = 0xFFFF;
    $pos = 0;
    while($nLength > 0)
    {
        $fcs = ($fcs >> 8) ^ $crctab16[($fcs ^ ord($hexdata[$pos])) & 0xFF];
        $nLength--;
        $pos++;
    }
    return ~$fcs;
} 
```

看来我需要`ord()`在字节格式数据中起作用。我在@Carsten 提供的 CRC16 示例之后发现了这一点。

十分感谢大家！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-06-20T15:20:21.367

```
Code fragment of the CRC-ITU lookup table algorithm implemented based on C language is as follow: 

static const U16 crctab16[] = {     0X0000, 0X1189, 0X2312, 0X329B, 0X4624, 0X57AD, 0X6536, 0X74BF,     0X8C48, 0X9DC1, 0XAF5A, 0XBED3, 0XCA6C, 0XDBE5, 0XE97E, 0XF8F7,     0X1081, 0X0108, 0X3393, 0X221A, 0X56A5, 0X472C, 0X75B7, 0X643E,     0X9CC9, 0X8D40, 0XBFDB, 0XAE52, 0XDAED, 0XCB64, 0XF9FF, 0XE876,     0X2102, 0X308B, 0X0210, 0X1399, 0X6726, 0X76AF, 0X4434, 0X55BD,     0XAD4A, 0XBCC3, 0X8E58, 0X9FD1, 0XEB6E, 0XFAE7, 0XC87C, 0XD9F5,     0X3183, 0X200A, 0X1291, 0X0318, 0X77A7, 0X662E, 0X54B5, 0X453C,     0XBDCB, 0XAC42, 0X9ED9, 0X8F50, 0XFBEF, 0XEA66, 0XD8FD, 0XC974,     0X4204, 0X538D, 0X6116, 0X709F, 0X0420, 0X15A9, 0X2732, 0X36BB,     0XCE4C, 0XDFC5, 0XED5E, 0XFCD7, 0X8868, 0X99E1, 0XAB7A, 0XBAF3,     0X5285, 0X430C, 0X7197, 0X601E, 0X14A1, 0X0528, 0X37B3, 0X263A,     0XDECD, 0XCF44, 0XFDDF, 0XEC56, 0X98E9, 0X8960, 0XBBFB, 0XAA72,     0X6306, 0X728F, 0X4014, 0X519D, 0X2522, 0X34AB, 0X0630, 0X17B9,     0XEF4E, 0XFEC7, 0XCC5C, 0XDDD5, 0XA96A, 0XB8E3, 0X8A78, 0X9BF1,     0X7387, 0X620E, 0X5095, 0X411C, 0X35A3, 0X242A, 0X16B1, 0X0738,     0XFFCF, 0XEE46, 0XDCDD, 0XCD54, 0XB9EB, 0XA862, 0X9AF9, 0X8B70,     0X8408, 0X9581, 0XA71A, 0XB693, 0XC22C, 0XD3A5, 0XE13E, 0XF0B7,     0X0840, 0X19C9, 0X2B52, 0X3ADB, 0X4E64, 0X5FED, 0X6D76, 0X7CFF,     0X9489, 0X8500, 0XB79B, 0XA612, 0XD2AD, 0XC324, 0XF1BF, 0XE036,     0X18C1, 0X0948, 0X3BD3, 0X2A5A, 0X5EE5, 0X4F6C, 0X7DF7, 0X6C7E,     0XA50A, 0XB483, 0X8618, 0X9791, 0XE32E, 0XF2A7, 0XC03C, 0XD1B5,     0X2942, 0X38CB, 0X0A50, 0X1BD9, 0X6F66, 0X7EEF, 0X4C74, 0X5DFD,     0XB58B, 0XA402, 0X9699, 0X8710, 0XF3AF, 0XE226, 0XD0BD, 0XC134,     0X39C3, 0X284A, 0X1AD1, 0X0B58, 0X7FE7, 0X6E6E, 0X5CF5, 0X4D7C,     0XC60C, 0XD785, 0XE51E, 0XF497, 0X8028, 0X91A1, 0XA33A, 0XB2B3,     0X4A44, 0X5BCD, 0X6956, 0X78DF, 0X0C60, 0X1DE9, 0X2F72, 0X3EFB,     0XD68D, 0XC704, 0XF59F, 0XE416, 0X90A9, 0X8120, 0XB3BB, 0XA232,     0X5AC5, 0X4B4C, 0X79D7, 0X685E, 0X1CE1, 0X0D68, 0X3FF3, 0X2E7A,     0XE70E, 0XF687, 0XC41C, 0XD595, 0XA12A, 0XB0A3, 0X8238, 0X93B1,     0X6B46, 0X7ACF, 0X4854, 0X59DD, 0X2D62, 0X3CEB, 0X0E70, 0X1FF9,     0XF78F, 0XE606, 0XD49D, 0XC514, 0XB1AB, 0XA022, 0X92B9, 0X8330,     0X7BC7, 0X6A4E, 0X58D5, 0X495C, 0X3DE3, 0X2C6A, 0X1EF1, 0X0F78, }; 

//  calculate the 16-bit CRC of data with predetermined length.

U16 GetCrc16(const U8* pData, int nLength) {     
  U16  fcs  =  0xffff;         //  initialization     
  while(nLength>0){         
    fcs = (fcs >> 8) ^ crctab16[(fcs ^ *pData) & 0xff];         
    nLength--;         
    pData++;     
  }     
  return  ~fcs;         //  negated 
} 
```

# php - fputcsv 显示前导零

> ID：11078531
> 
> 赞同：12
> 
> 时间：2012-06-18T07:28:38.097
> 
> 标签：php, csv

我正在使用 PHP 脚本从结果集查询生成 excel CSV 文件。一切正常，但是当我阅读我的 excel 文件时，我无法显示前导零。

这是我的代码：

```
$rows = $this->Query($sql);

$filename = "/www/zendsvr/htdocs/Project/public/report.xls";
$realPath = realpath( $filename );

$filename = realpath( $filename );
$handle = fopen( $filename, "w" );
$finalData = array();

for( $i = 0; $i < count( $rows ); $i++ ) {
    $finalData[] = array( utf8_decode( $rows[$i]->CODE ) );
}

foreach ( $finalData AS $finalRow ) {
    fputcsv( $handle, $finalRow, "\t" );
}

fclose( $handle ); 
```

如果我创建一个`var_dump()`，`$finalData[]`我会看到正确的值，例如“000198”、“000199”、“000200”，但我的 XLS 文件中的相同值是 198,199,200

如何在 XLS 文件中也显示前导零？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2016-02-16T19:15:19.717

要添加到 DemoUser 的方法：

该`\t`方法对我有用，但略有变化

```
$column_data = "\t000543"; 
```

添加`\t`解决了我的前导零消失的问题，即使 CSV 是正确的并且 Excel 是“错误的”，`\t`在 excel 中显示时保持前导零完整的工作。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2020-02-29T15:14:54.273

经过这么多年没有人提出可行的解决方案，我感到很惊讶。

这对我有用：

```
$records = [
    ['name' => 'John', 'phone' => '01234567'],
    ['name' => 'Jane', 'phone' => '01234569'],
];

$file = fopen('php://output', 'w');

fputcsv($file, ['Name', 'Phone N°']);

foreach ($records as $record) {
    fputcsv($file, [$record['name'], "=\"" . $record['phone'] . "\""]);
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-06-18T07:46:50.810

您的数据保存正确，是 Excel 试图变得聪明。

使用 Excel 导入数据向导而不是直接打开文件（如有必要，将 .csv 文件重命名为 .txt）。在导入向导中，将列的数据类型选择为“文本”而不​​是“常规”：

![文本导入向导步骤 3](../Images/9708ba0ff1f84dfeb5cd1182d725a9f0.png)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-06-18T07:37:41.327

尝试将其转换为字符串，例如：

```
fputcsv($fp, (string) $val); 
```

或者，打开 XLS 文件将截断前导 0，因此请尝试在零之前添加 /t 以避免在创建行值时截断 0。

# php - 如何在 PHP 中使用自定义 MVC 框架创建漂亮的 URL？

> ID：11078536
> 
> 赞同：0
> 
> 时间：2012-06-18T07:28:56.640
> 
> 标签：php, model-view-controller, frameworks, pretty-urls

所以，我开始编写一个 PHP 应用程序网站的过程，它将在 MVC 架构中编码，但想实现使用 Pretty URL 的方法。由于我以前从未创建过自己的 Pretty URL 代码，我不知道从哪里开始。过去，我会使用查询字符串 URL（我认为这是正确的术语），例如 example.com/index.php?act=controller&sub=method&id=123456... 对于这个网站，我更喜欢 URL更像 example.com/controller/method/article-title/123456。但是，就像我说的，我什至不确定从哪里开始。

如果... 提供的方法未找到、无效或根本未提供，我将如何正确指向 URL？example.com/controller/article-title/123456（将指向 example.com/provided-controller/default-method/page-title/123456

提供的方法找到了，有效，提供了，但是没有找到控制器或者无效或者没有提供？example.com/article-title/123456（应指向 example.com/default-controller/provided-method/123456）

我希望我对所有事情都很清楚，并且你明白我在说什么。基本上，我想做一些类似 CodeIgniter URL Router 系统的东西。

谢谢你的时间！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:32:19.757

假设您没有使用已经为您提供此功能的现有 MVC 框架，并且您想创建自己的，我的建议是让您实现 Front Controller。这是一个关于如何做到这一点的教程：http: [//onlamp.com/pub/a/php/2004/07/08/front_controller.html](http://onlamp.com/pub/a/php/2004/07/08/front_controller.html)

您还可以在这里查看一个极其简单的示例：[什么是前端控制器以及它是如何在 PHP 中实现的？](https://stackoverflow.com/questions/6890200/what-is-a-front-controller-and-how-is-it-implemented-in-php)

# glsl - 如何在 GLSL 或类似中创建下雨？

> ID：11078539
> 
> 赞同：0
> 
> 时间：2012-06-18T07:29:33.440
> 
> 标签：glsl, webgl, hlsl

有没有关于如何在 GLSL 或类似着色器中创建雨的很棒的教程？我可以很容易地为 Maya 找到那些，但遗憾的是，这不是。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T16:42:59.447

“雨”是什么意思。有很多方式来表示雨

这个样本有下雨效果和涟漪效果

[https://cvs.khronos.org/svn/repos/registry/trunk/public/webgl/sdk/demos/google/particles/index.html](https://cvs.khronos.org/svn/repos/registry/trunk/public/webgl/sdk/demos/google/particles/index.html)

虽然没有教程。它的工作原理是创建一堆单位方块，给每个单位一个随机值，将该随机值添加到一个时间值，然后计算着色器中的一个位置，如下所示

```
uniform float u_time;          // a time value passed in by JavaScript
uniform mat4 u_view_inverse;   // view inverse (camera world matrix)
uniform mat4 u_view_projection;// view projection matrix

attribute vec4 a_vertex;       // the unit quad values
attribute vec4 a_position;     // the base position of this particle repeated for
                               // each vertex
attribute vec4 a_velocity;     // velocity for this quad, repeated for each vertex
attribute float a_time_offset; // a time offset for this particle 
                               // repeated for each vertex

// compute a position
float localTime = u_time + a_time_offset;
vec4 base_position = a_position + a_velocity * localTime;

// rotate quad so it's perpendicular to the view
vec4 quadX = viewInverse[0] * a_vertex.x;
vec4 quadZ = viewInverse[1] * a_vertex.y;

// compute the real world position for this vertex
vec4 position = base_position + quadX + quadZ;

// at this point position is the same as any other 'standard' 3d shader
// do with it whatever. Example:
gl_Position = viewProjectionMatrix * position; 
```

对不起，如果这太简洁了。

# filesystems - Fat32 浏览工具

> ID：11078546
> 
> 赞同：-1
> 
> 时间：2012-06-18T07:30:03.277
> 
> 标签：filesystems, fat32

是否有任何开源库/工具可以让我浏览和 FAT32 格式的图像文件？我想从图像中提取一些文件。（编辑：对不起，我忘了说我想在 Windows 7 上执行此操作）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T09:04:38.610

您可以使用我们的[CallbackDisk](http://www.eldos.com/cbdisk/)库在代码中创建虚拟磁盘。CallbackDisk 包含的示例将让您指向 FAT 映像文件并拥有一个磁盘。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:34:41.580

在 Linux（可能还有其他一些基于 unix 的操作系统）下，您可以使用`-o loop`mount 命令的选项挂载格式化的映像文件：

```
mount -o loop /path/to/image_file mount_point 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-29T00:28:35.023

IsoBuster 正是这样做的！

[www.isobuster.com](http://www.isobuster.com)

# c# - C# 中的 Linq to sql：如何通过 id 获取名称

> ID：11078557
> 
> 赞同：0
> 
> 时间：2012-06-18T07:30:53.270
> 
> 标签：c#, sql, linq

我在 ASP.NET C# 中的应用程序，我使用 linq to sql 从数据库传递数据。我的代码如下

LINQ转SQL：

![数字](../Images/d6d882fca447191b820aeba007845b58.png)

我的代码：

```
 public class course_list
        {
            //Id of event            
            public int id { get; set; }
            // Name of event
            public string name { get; set; }
            //type of event
            public string e_type { get; set; }
            //name of the compay
            public string compay { get; set; }
        }
        // Get data
        protected void show_event()
        {
            for_testDataContext db = new for_testDataContext();
            IQueryable<course_list> CourseList = from cl in db.events
                                                select new course_list()
                                                {
                                                    id = cl.id,
                                                    name = cl.name,
                                                    e_type = cl.e_type_id, // how to get name of e_type
                                                    compay = cl.company_id //How to get name of company
                                                };

        } 
```

如何分配`e_type = name of e_type`匹配`cl.e_type_id`和`company`=`name of compay`匹配`cl.company_id`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T07:36:34.313

```
select new course_list
{
  id = cl.id,
  name = cl.name,
  e_type = cl.e_type.name,
  company = cl.company.name
}; 
```

# css - Twitter bootstrap 带有标签的图标的完整列表

> ID：11078558
> 
> 赞同：15
> 
> 时间：2012-06-18T07:31:02.863
> 
> 标签：css, twitter-bootstrap

我是新手，使用优秀的 css twitter bootstrap 工具并且遇到问题，我无法找到带有有意义标签的所有图标的完整列表。我只是谷歌搜索没有任何变化。请给我一个链接好吗？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2012-06-18T07:48:51.670

您可以使用本机 twitter bootstrap 图标：[twitter bootstrap](http://getbootstrap.com/2.3.2/base-css.html#icons)

或者[字体真棒](http://fortawesome.github.com/Font-Awesome/)，它有更多的图标。

也许有一些现成的字体可以使用，但我只知道这一种。

在这里您可以阅读如何使用它们：[w3resource](http://www.w3resource.com/twitter-bootstrap/icons.php)

因此，您可以使用自己的图标。如何做到这一点：[创建自定义图标](http://favbulous.com/post/1006/create-custom-icons-for-twitter-bootstrap-easily)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-07-11T19:41:48.107

我发现[http://glyphsearch.com/](http://glyphsearch.com/)非常有帮助。有些图标有多个标签，它可以让你搜索标签。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-08-14T20:57:24.053

对于 Bootstrap 3，请查看官方文档[http://getbootstrap.com/components/#glyphicons](http://getbootstrap.com/components/#glyphicons)。

如果您想要图标的代码，这是我找到的最佳资源：http: [//bootply.com/61521](http://bootply.com/61521)。

请注意，HTML 发生了一些变化；代替使用标签，使用标签和 .icon .icon-* 和 .icon-white 类现在是 .glyphicon、.glyphicon-*、.glyphicon-white。

编辑：Bootstrap 更新了他们的文档，您现在可以在[http://getbootstrap.com/2.3.2/base-css.html#icons找到整个列表](http://getbootstrap.com/2.3.2/base-css.html#icons)

# android - Android：无需root的屏幕截图

> ID：11078560
> 
> 赞同：0
> 
> 时间：2012-06-18T07:31:13.113
> 
> 标签：android, image, file, screen

我尝试了下面的代码，但是当我运行它时，它在 android mobile 上给出了一个黑屏图像，在模拟器上它给出了一个文件，通过打开这个文件我得到消息*预览不可用*。

```
View v = activity.getWindow().getDecorView();

    v.setDrawingCacheEnabled(true);
    v.destroyDrawingCache();

    int width = activity.getWindowManager().getDefaultDisplay().getWidth();
    int height = activity.getWindowManager().getDefaultDisplay().getHeight();
    v.measure(MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED), 
             MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED));
    v.layout(0, 0, width, height); 

    v.buildDrawingCache(true);
    Bitmap b = Bitmap.createBitmap(v.getDrawingCache());
    v.setDrawingCacheEnabled(false); // clear drawing cache

    FileOutputStream fos = null;
    File fTree = new File(sdCardRoot,"/fi.png");
    fTree.createNewFile();

    try {

        fos = new FileOutputStream(fTree,true);
        if (null != fos) {
            b.compress(Bitmap.CompressFormat.PNG, 90, fos);
            fos.flush();
            fos.close();
        }
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    } 
```

请有人帮忙。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:43:30.843

好吧。您可能必须覆盖以下方法。问题是因为您的视图尚未创建，甚至在此之前您正试图获取实际上不存在的背景，因此您没有得到任何图像。

试试这个，

```
 @Override 
public void onWindowFocusChanged(boolean hasFocus) 
{ 
   // add the entire code for getting the background within this and it will work 
} 
```

一旦你的视图被绘制，这个方法就会被调用，因此你将通过覆盖这个方法来获得所需的输出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T21:04:46.670

这在 onCreate() 中不起作用，因为只有在 onCreate() 完成后才能看到 Activity。当 onCreate() 完成时触发一些事件来运行你的代码。可能是按钮事件的 onClick()。

# jquery-ui - jquery-ui droppable：防止父母接受孩子

> ID：11078566
> 
> 赞同：1
> 
> 时间：2012-06-18T07:31:28.020
> 
> 标签：jquery-ui, droppable, jquery-ui-droppable, jquery-droppable

我正在制作一个文档列表，我需要阻止一个可拖动元素被其父级接受。该选项设置如下：

```
$( ".onedoc" ).droppable({
accept: ".onedoc"
}); 
```

但我希望 droppable 不接受它的直系孩子。问题是因为它是一个嵌套列表，父母和孩子有相同的班级，所以我需要做类似的事情

```
accept: $(".onedoc").not($(this).children()) 
```

但这当然行不通。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T09:17:16.380

也许是因为`accept:`正在寻找一个选择器并且您正在为它提供一个 jQuery 对象？

你给它提供一个功能怎么样？

```
$(".onedoc").droppable({
    accept: function (elem) {
        // check elem here for being a child and return false
        return !$(this).has(elem).length;
    }
}); 
```

# ruby-on-rails - 如何使用 div Rails 创建链接

> ID：11078570
> 
> 赞同：1
> 
> 时间：2012-06-18T07:31:39.043
> 
> 标签：ruby-on-rails, ruby-on-rails-3.1, hyperlink

我相信这是一个相当简单的问题，但我有点挣扎。我目前有以下内容：

```
 <% @jobs.each do |f| %>
   <div class="job">                
    <div class="job-desc"><%= f.company %> are looking for a <%= f.job_title %>
        <div class="job-sal"><%= f.job_salary %></div>
    </div>  
    </div>
 <% end %> 
```

我想创建它，以便每个`job`实例都是指向该作业显示页面的链接。我无法解决的是如何整合rails'`<%= link_to "something", job_path %>`

我已经尝试将整个代码块放入上面示例中的“某物”部分，但这似乎不起作用。

任何想法将不胜感激:)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T07:43:37.463

如果我理解正确，您希望整个 div 都是链接吗？如果是这种情况，请尝试以下方法：

```
<% @jobs.each do |job| %>
  <%= link_to job_path(job) do %>
    <div class="job">                
      <div class="job-desc"><%= job.company %> are looking for a <%= job.job_title %>
        <div class="job-sal"><%= job.job_salary %></div>
      </div>  
    </div>
  <% end %>
<% end %> 
```

我建议在 rails API doc 中查看它。[http://api.rubyonrails.org/](http://api.rubyonrails.org/)

# sql - 需要使用 SQL 减去两列

> ID：11078571
> 
> 赞同：2
> 
> 时间：2012-06-18T07:31:43.027
> 
> 标签：sql, sql-server, database, tsql, subtraction

我有这个查询，它给了我使用的许可证数量和许可证总数，但我需要减去这些列并将结果列命名为“可用数量”。

我需要的是（总数 - 许可证用户数 = 可用数）

**查询至今：**

```
SELECT Count(u.user_id) "Number Used",
       kp.temp_num_license
FROM   products p,
       user_products u
WHERE  user_id IN (SELECT user_id
                   FROM   t_users
                   WHERE  end_date IS NULL)
       AND kp.product_id IN ( 2, 3, 4, 5, 7, 8 )
       AND u.product_id = p.product_id
GROUP  BY temp_num_license 
```

我非常感谢您对此提供的任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:34:53.807

```
SELECT Count(u.user_id) "Number Used", kp.temp_num_license, COUNT(u.user_id) - (kp.temp_num_licencse) "Number Available"
FROM products p,user_products u 
WHERE user_id in (select user_id from t_users where end_date is null) and kp.product_id in (2,3,4,5,7,8) AND u.product_id=p.product_id group by temp_num_license 
```

# php - 我应该在登台/生产环境中使用 PHPUnit 吗？

> ID：11078572
> 
> 赞同：2
> 
> 时间：2012-06-18T07:31:47.140
> 
> 标签：php, phpunit

我已经安装了 PHPUnit 框架来执行单元测试。我已经编写了测试用例，并且还使用了现有的 PHPUnit 库进行测试。

staging 和 production 环境中是否需要配置 PHPUnit 框架？如果是这样，phpunit 测试框架和相关文件在暂存和生产中占用了内存，这是不必要的。

在本地环境中使用 PHPUnit 测试框架是否足够？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-19T08:54:33.260

如果您将单元测试保存在它们自己的顶级子目录中（例如，请参阅[如何管理项目中的单元测试文件？您是否将它们添加到 git 中？](https://stackoverflow.com/questions/11070682/how-do-you-manage-the-unit-test-files-in-projects-do-you-add-them-in-git)`tests` ）然后您可以在 git checkout 后简单地删除该目录。或者，如果使用 ftp，则 ftp 除该目录之外的所有其他目录。或者，如果使用 rsync，则`--exclude=tests/`.

但是，我发现我不同意迄今为止回答的其他人。为了高枕无忧，在登台和生产服务器上运行单元测试非常有用。如果测试在您的开发服务器上通过，但在登台或生产中失败，您就会收到一个大红旗。最好让您的单元测试告诉您您对实时服务器的依赖项之一是不同的版本，而不是让您的客户为您发现它！

但是，这需要小心。如果您的任何单元测试不是独立的，则不得运行它们。显而易见的情况是，如果他们使用数据库，并且单元测试不是从创建该数据库开始（其名称永远不会与生产数据库冲突）并通过删除它来完成。另一种情况是任何直接或间接导致磁盘文件更新的测试。尤其要考虑任何进行日志记录的功能。您应该注意的另一种类型的测试是那些需要很长时间才能完成或使用大量 CPU 或内存的测试。确保在生产服务器处于活动状态并承受负载时永远不会运行这些。

制作副本的一个想法`phpunit.xml.dist`是明确列出那些安全且没有副作用的测试。然后用`phpunit --configuration production_tests.xml`. 或者，在测试中，`@group`用来标记安全或不安全的测试功能，然后像`phpunit --group safe_for_production`或`phpunit --exclude-group modifies_db`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-10-05T14:09:12.747

我想理想的场景是你有 3 个级别：开发、登台和生产。

开发是您保留 phpunit 和调试器的地方，但是这台机器可能与生产完全不同。例如，在这里您可以在 Windows 上进行开发，即使您要在 ubuntu 上进行部署

登台机器也可以保留 phpunit 和调试器，但如果与服务器不同，它必须具有非常接近的架构，并且可能访问真实数据库的副本。它必须具有与生产服务器相同的 linux 风格、相同版本的 apache/php/mysql/libraries。访问真实数据有时也会产生影响。

生产机器不应该有 phpunit 或调试器工具。那个甚至不应该在你作为开发人员的控制之下。也许首席开发人员和系统管理员正在那里部署代码并根据需要微调应用程序，并准备回滚或其他突发事件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:50:26.727

不，正如 GordonM 所说，这样做对安全性不利。此外，您应该在将其放入生产环境之前对其进行测试，所以您为什么要这样做。一些调试工具（不是专门的 PHPUnit，而是其他一些工具）也会降低应用程序的效率。

# c# - 将布尔转换为字节

> ID：11078576
> 
> 赞同：4
> 
> 时间：2012-06-18T07:32:07.793
> 
> 标签：c#

```
bool myBool = true;
byte myByte; 
```

*   此转换运行`myByte = Convert.ToByte(myBool);`
*   此转换未运行`myByte = (byte)myBool;`

对于新手（`me`）：为什么以上不同？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-18T07:35:26.513

`Convert.ToByte`是一种方法——它可以做任何想做的事，可能是这样的：

```
return input ? (byte) 1 : (byte) 0; 
```

强制转换是*语言级别的*操作。它要求语言知道转换本身，或者所涉及的类型之一具有用户定义的转换以及正确的输入和输出类型。`bool`从 转换为时，这两种情况都不是`byte`。

基本上，该语言没有定义强制转换的含义，因此编译器禁止它。

# java - 如果会话过期或销毁，如何阻止所有发送到服务器的请求

> ID：11078581
> 
> 赞同：1
> 
> 时间：2012-06-18T07:32:34.393
> 
> 标签：java, spring, tomcat

如标题所示，现在我已经捕获了会话过期时的事件，但现在的问题是，一旦会话不再有效，我是否可以阻止所有发送`server(Tomcat)`或不发送的请求。`Spring`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T07:35:45.027

编写一个[servlet 过滤器](http://viralpatel.net/blogs/tutorial-java-servlet-filter-example-using-eclipse-apache-tomcat/)并检查会话是否（尚未）过期。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:38:37.933

阻止所有请求是什么意思？除非您开始修改防火墙以与您的 tomcat 对话以检查会话是否有效（或无效），否则您无法阻止传入请求的 TCP 连接到 Tomcat。

您可以做的是阻止用户在没有建立适当的会话管理的情况下继续操作。正如@CristopheD 所指出的，您可以编写servlet 来阻止请求通过，或者您可以将请求重定向到另一个页面（例如登录页面）等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:40:12.707

只需将所有资源的安全设置为需要一个角色，大概主页和登录页面除外，并将注销操作的目标设置为主页。

# build - 如何使目标依赖于 lib 文件，但将其从 $^ 中排除（涉及 VPATH）？

> ID：11078582
> 
> 赞同：3
> 
> 时间：2012-06-18T07:32:34.530
> 
> 标签：build, makefile, vpath

想象一下这个结构：

```
root/
|
+-- include/
+-- src/
+-- build/
+-- lib/
+-- tests/
    |
    +-- common
    +-- test1
    +-- test2
    +-- test3 
```

在`tests/`中，该文件夹`common/`包含几个源文件，它们生成数据或从记录的文件中读取数据等，这些文件在所有测试之间共享。因此，每个测试只有一个文件；`main.c`（目前）。每个`Makefile`测试的看起来像这样：

```
.SUFFIXES:
.SUFFIXES: .c .o

TARGET := test
# OS dependent stuff omitted for brevity
CFLAGS += -I../../include -I../common
LDFLAGS += -L../../lib -lname

VPATH = ../common

.phony: all clean
all: $(TARGET)
clean:
    -$(RM) *.o $(TARGET)
# Other targets removed for brevity

OBJECTS := main.o io.o read_str.o
$(TARGET): $(OBJECTS) ../../lib/libname.a
    $(LD) -o $@ $(OBJECTS) $(LDFLAGS)
%.o: %.c
    $(CC) -c $(CFLAGS) -o $@ $<
main.o: main.c io.h $(wildcard ../../include/*.h) 
```

起初我`common/`在每个测试中都复制了文件，一切都很好，但现在我把它们放进去`common/`使用了`VPATH`，我遇到了一个问题。

让我解释几行：

```
main.o: main.c io.h $(wildcard ../../include/*.h)
               ^^^^
           VPATH correctly finds this file in common/

$(TARGET): $(OBJECTS) ../../lib/libname.a
                      ^^^^^^^^^^^^^^^^^^^
                  If the library is rebuilt, the tests need to re-link

    $(LD) -o $@ $(OBJECTS) $(LDFLAGS)
                ^^^^^^^^^^
            I can't use $^ because that also includes ../../lib/libname.a 
```

正如您可能已经猜到的那样，由于`common/*.o`文件不在此文件夹中，因此`$(LD)`无法找到它们。另一方面，`make`, given`VPATH = ../common`找到它们没有问题。如果我可以删除`../../lib/libname.a`，然后使用`$^`，我可以提供目标文件的正确路径。

然而，删除对 lib 文件的依赖意味着当我`make`处于顶层时，如果仅更新 lib 本身，测试将不会得到更新。

所以，我的问题是，**如果`make`其他依赖项是使用`VPATH`?**

我考虑过删除依赖项，并在`Makefile`that builds`libname.a`中，在创建库后添加一个命令，告诉`Makefile`测试的 s 删除它们`TARGET`的 s：

```
lib/Makefile:

.SUFFIXES:

TARGET = libname.a
VPATH = ../build

.PHONY: all clean
all: $(TARGET)
clean:
        -$(RM) $(TARGET)

$(TARGET): list.o of.o my.o library.o files.o
        $(AR) $(TARGET) $^
        @$(MAKE) --no-print-directory -C ../tests remove_targets 
```

这将迫使`$(LD)`他们再次制造。然而，这种解决方案往往会使`Makefile`关系变得一团糟。`Makefile`构建 lib 与是否有测试无关，我更喜欢将它们解耦。

* * *

我进行了很多构建和测试，这就是为什么我尝试完成依赖项，以便`make`采取尽可能少的操作来正确构建所有内容。说，每次都清理和重建的解决方案不是一种选择。

我也知道[这种语法](http://www.chemie.fu-berlin.de/chemnet/use/info/make/make_4.html#SEC30)，如果我想将 lib 文件目录提供给`gcc`，而不是使用`-Lpath/to/lib -lname`. 但是我不确定这是否是一个好主意（我的意思是，我总是看到与 链接`-L`，我不确定直接提供库文件是否有缺点）

顺便说一句，如果我做错了什么，或者我让自己太难了，请告诉我应该如何正确地做到这一点。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T09:34:18.523

> 所以，我的问题是，**如果其他依赖项是使用 VPATH 找到的，我怎么能告诉 make 存在对另一个文件（lib 文件）的依赖项，但它没有在它下面的命令中使用？**

问题是“我怎样才能使 LIB 成为先决条件但不在所有先决条件列表中？”

这可能不是最好的答案，但应该可以，只需将其从列表中过滤出来：

```
$(TARGET): $(OBJECTS) ../../lib/libname.a
    $(LD) -o $@ $(filter-out ../../lib/libname.a,$^) $(LDFLAGS) 
```

# linux - 分号在 awk 动作中代表什么？

> ID：11078585
> 
> 赞同：6
> 
> 时间：2012-06-18T07:32:41.130
> 
> 标签：linux, awk

我试图破译以下`awk`语句中的动作，特别是`;`在第一个用户定义变量之后指的是什么。

```
{ num_gold++; wt_gold += $2 }
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T07:51:19.703

在`awk`中，可以在一行中写两条语句，用`;`（分号）隔开

```
{ num_gold++; wt_gold += $2 } 
```

否则，您应该将它们放在单独的行中：

```
{
    num_gold++
    wt_gold += $2
} 
```

* * *

要打印变量，您只需`print`在变量之前添加：

```
{
    num_gold++
    wt_gold += $2

    print num_gold
    print wt_gold
} 
```

正如我所说，您可以将它们全部放在一行中：

```
{ num_gold++; wt_gold += $2; print num_gold; print wt_gold; } 
```

它太长了！

`print`也接受多个参数，所以请尝试`print num_gold, wt_gold`.

# java - VLCJ 创建多个视频面板

> ID：11078586
> 
> 赞同：3
> 
> 时间：2012-06-18T07:32:43.753
> 
> 标签：java, vlc, vlcj

我正在使用 vlcj 创建多个视频面板。对于每个视频窗口，我应该添加代码：

```
 factory0 = new MediaPlayerFactory();
 mediaPlayer0 = factory0.newEmbeddedMediaPlayer();
 mediaPlayer0.setVideoSurface(factory0.newVideoSurface(videoCanvas[0]));
 mediaPlayer0.setPlaySubItems(true);
 ... 
```

如果我想要 8 个视频面板，那么我将不得不重复这些代码（不是动态的）。

我的问题是：我想将 MediaPlayerFactory 和 MediaPlayerFactory 作为数组，这样我就可以缩短我的代码，然后只需更改 Num_Video 就可以动态地运行它。

我的完整代码如下。我在 mainPanel 中创建 4 个视频面板。

谢谢。

```
import uk.co.caprica.vlcj.binding.internal.libvlc_media_t;
import uk.co.caprica.vlcj.player.MediaPlayer;
import uk.co.caprica.vlcj.player.MediaPlayerEventAdapter;
import uk.co.caprica.vlcj.player.MediaPlayerFactory;
import uk.co.caprica.vlcj.player.embedded.EmbeddedMediaPlayer;

public class MultiThreadedWindow extends JFrame implements ActionListener {

    private JPanel topPanel = new JPanel();
    private JPanel statusPanel = new JPanel();
    private JButton playButton = new JButton("Play");private JButton btnStop = new JButton("Stop");
    private JButton btnPause = new JButton("Pause");
    private MediaPlayerFactory factory0, factory1, factory2, factory3;
    private EmbeddedMediaPlayer mediaPlayer0, mediaPlayer1, mediaPlayer2, mediaPlayer3;

    int Video_Width = 200;
    int Video_Height = 150;
    int Num_Video = 4;

    public MultiThreadedWindow() {
        final String jnaLibraryPath = System.getProperty("jna.library.path");
        final StringBuilder newJnaLibraryPath = new StringBuilder(jnaLibraryPath != null ? (jnaLibraryPath + ":") : "");
        newJnaLibraryPath.append("/Applications/VLC.app/Contents/MacOS/lib");
        System.setProperty("jna.library.path", newJnaLibraryPath.toString());

        playButton.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                play();
            }
        });

        btnStop.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
               stop();
            }
        });

        btnPause.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
               pause();
            }
        });

        topPanel.add(playButton);
        topPanel.add(btnStop);
        topPanel.add(btnPause);

        this.setSize(1000, 800);
        this.setLayout(new BorderLayout());
        this.setVisible(true);
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        JPanel mainPanel = new JPanel(new FlowLayout());

        Canvas[] videoCanvas = new Canvas[Num_Video];
        JPanel[] vidPanel = new JPanel[Num_Video];

        for (int i = 0; i < Num_Video; i++) {
            vidPanel[i] = new JPanel();
            videoCanvas[i] = new Canvas();

            vidPanel[i].setPreferredSize(new Dimension(Video_Width, Video_Height));
            vidPanel[i].setBackground(Color.black);
            vidPanel[i].setLayout(new BorderLayout());

            videoCanvas[i].setBackground(Color.black);
            vidPanel[i].add(videoCanvas[i], BorderLayout.CENTER);

            mainPanel.add(vidPanel[i]);

        }

        factory0 = new MediaPlayerFactory();
        mediaPlayer0 = factory0.newEmbeddedMediaPlayer();
        mediaPlayer0.setVideoSurface(factory0.newVideoSurface(videoCanvas[0]));
        mediaPlayer0.setPlaySubItems(true);
        mediaPlayer0.addMediaPlayerEventListener(new MediaPlayerEventAdapter() {

            @Override
            public void mediaSubItemAdded(MediaPlayer mediaPlayer, libvlc_media_t subItem) {
                List<String> items = mediaPlayer.subItems();
                System.out.println(items);
            }
        });

        factory1 = new MediaPlayerFactory();
        mediaPlayer1 = factory1.newEmbeddedMediaPlayer();
        mediaPlayer1.setVideoSurface(factory1.newVideoSurface(videoCanvas[1]));
        mediaPlayer1.setPlaySubItems(true);
        mediaPlayer1.addMediaPlayerEventListener(new MediaPlayerEventAdapter() {

            @Override
            public void mediaSubItemAdded(MediaPlayer mediaPlayer, libvlc_media_t subItem) {
                List<String> items = mediaPlayer.subItems();
                System.out.println(items);
            }
        });

        factory2 = new MediaPlayerFactory();
        mediaPlayer2 = factory2.newEmbeddedMediaPlayer();
        mediaPlayer2.setVideoSurface(factory2.newVideoSurface(videoCanvas[2]));
        mediaPlayer2.setPlaySubItems(true);
        mediaPlayer2.addMediaPlayerEventListener(new MediaPlayerEventAdapter() {

            @Override
            public void mediaSubItemAdded(MediaPlayer mediaPlayer, libvlc_media_t subItem) {
                List<String> items = mediaPlayer.subItems();
                System.out.println(items);
            }
        });

        factory3 = new MediaPlayerFactory();
        mediaPlayer3 = factory3.newEmbeddedMediaPlayer();
        mediaPlayer3.setVideoSurface(factory3.newVideoSurface(videoCanvas[3]));
        mediaPlayer3.setPlaySubItems(true);
        mediaPlayer3.addMediaPlayerEventListener(new MediaPlayerEventAdapter() {

            @Override
            public void mediaSubItemAdded(MediaPlayer mediaPlayer, libvlc_media_t subItem) {
                List<String> items = mediaPlayer.subItems();
                System.out.println(items);
            }
        });

        this.add(topPanel, BorderLayout.NORTH);
        this.add(mainPanel, BorderLayout.CENTER);
        this.add(statusPanel, BorderLayout.SOUTH);
    }

    public void actionPerformed(ActionEvent e) throws IllegalStateException {

        if (e.getActionCommand().equals("OK")) {
            this.dispose();
        }
    }

    private void start() {
        this.setVisible(true);
    }

    private void play() {
        mediaPlayer0.playMedia("/Users/pujan/1-pix.mp4");
        mediaPlayer1.playMedia("/Users/pujan/1-shakira.mp4");
        mediaPlayer2.playMedia("/Users/pujan/1-flowers.mp4");
        mediaPlayer3.playMedia("/Users/pujan/1-aam.mp4");
    }

    private void stop() {
        mediaPlayer0.stop();
        mediaPlayer1.stop();
        mediaPlayer2.stop();
        mediaPlayer3.stop();
    }

    private void pause() {
        mediaPlayer0.pause();
        mediaPlayer1.pause();
        mediaPlayer2.pause();
        mediaPlayer3.pause();
    }

    public static void main(String[] args) throws Exception {

        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                new MultiThreadedWindow().start();
            }
        });
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-19T17:12:22.797

我可以通过这个来实现

```
EmbeddedMediaPlayer mediaPlayer[] = new EmbeddedMediaPlayer[Num_Video]; 
```

然后在循环中

```
factory[i] = new MediaPlayerFactory();
mediaPlayer[i] = factory[i].newEmbeddedMediaPlayer();
mediaPlayer[i].setVideoSurface(factory[i].newVideoSurface(videoCanvas[i]));
mediaPlayer[i].setPlaySubItems(true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-09-25T14:39:48.807

你可以做：

```
for (int i = 0; i < numVideo; i++) {
    vidPanel[i] = new JPanel();
    videoCanvas[i] = new Canvas();
    vidPanel[i].setPreferredSize(new Dimension(larguraVideo, alturaVideo));
    vidPanel[i].setBackground(Color.black);
    vidPanel[i].setLayout(new BorderLayout());
    videoCanvas[i].setBackground(Color.black);
    vidPanel[i].add(videoCanvas[i], BorderLayout.CENTER);
    mainPanel.add(vidPanel[i]);

    factory[i] = new MediaPlayerFactory();
    mediaPlayer[i] = factory[i].newEmbeddedMediaPlayer();
    mediaPlayer[i].setVideoSurface(factory[i].newVideoSurface(videoCanvas[i]));
    mediaPlayer[i].setPlaySubItems(true);
    mediaPlayer[i].addMediaPlayerEventListener(new MediaPlayerEventAdapter() {
        @Override
        public void mediaSubItemAdded(MediaPlayer mediaPlayer, libvlc_media_t subItem) {
            List<String> items = mediaPlayer.subItems();
            System.out.println(items);
        }
    });
} 
```

告诉我：经过这么长时间，你的代码怎么样？

# jquery - jQuery + WordPress：$ 未定义

> ID：11078588
> 
> 赞同：0
> 
> 时间：2012-06-18T07:32:48.467
> 
> 标签：jquery, function

以下代码与 jQuery 有一些问题。

```
<script type="text/javascript">
        $(window).load(function() {
            ..
        });
    </script> 
```

如果我在文档头中包含 jQuery，然后使用上面的代码，它将正常工作。但是，如果我使用 Wordpress 函数使用包含 jQuery `wp_enqueue_script`，我会收到以下错误：`$ is not defined`. 我可以从页面源代码中看到 jQuery 在标题中正确加载。我该如何解决？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T07:34:14.230

使用这个词`jQuery`代替`$`并传递一个`$`参考

```
jQuery(function($) {
    // you can use $ here
    $(window).load(function() {
        ..
    });
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T07:34:28.167

嘿：使用`jQuery`大写`Q`字母而不是 $ 使其起作用。Wordpress 通常包含一个`jQuery.noConflict()`在最后调用的脚本，而 $ 未定义。

好吧，如果有人在否决之前不喜欢这个答案评论，请:)

```
jQuery(function($) { //jQuery passed in as first param, so you can use $ inside
   // use $
}); 
```

# c# - 将源设置为 BitmapImage 时出错

> ID：11078590
> 
> 赞同：0
> 
> 时间：2012-06-18T07:32:53.640
> 
> 标签：c#, windows-phone-7, memorystream, bitmapimage

我是一名 WP7 开发人员。我正在使用以下功能：

```
public BitmapImage SetImageSource(byte[] byteArray)
{
    BitmapImage bitmap = new BitmapImage();          
    try
    {
        MemoryStream ms = new MemoryStream(byteArray, 0, byteArray.Length);
        bitmap.SetSource(ms);
        ms.Flush();
        ms.Dispose();
    }

    catch (Exception ex)
    {
       MessageBox.Show(ex.Message);
    }
    return bitmap;
} 
```

将 byteArray 写入位图图像。但在某些情况下，它会触发异常：

```
System.OutOfMemoryException was unhandled
Message=OutOfMemoryException
StackTrace:
       at MS.Internal.FrameworkCallbacks.NotifyManagedDebuggerOnNativeOOM()
       at MS.Internal.XcpImports.BitmapSource_SetSourceNative(IntPtr bitmapSource, CValue& byteStream)
       at MS.Internal.XcpImports.BitmapSource_SetSource(BitmapSource bitmapSource, CValue& byteStream)
       at System.Windows.Media.Imaging.BitmapSource.SetSourceInternal(Stream streamSource)
       at System.Windows.Media.Imaging.BitmapImage.SetSourceInternal(Stream streamSource)
       at System.Windows.Media.Imaging.BitmapSource.SetSource(Stream streamSource)
       at FileEncrypt.ListImage.SetImageSource(Byte[] byteArray)
       at FileEncrypt.ListImage.LoadFiles()
       at FileEncrypt.ListImage.ListImage_Loaded(Object sender, RoutedEventArgs e)
       at MS.Internal.CoreInvokeHandler.InvokeEventHandler(Int32 typeIndex, Delegate handlerDelegate, Object sender, Object args)
       at MS.Internal.JoltHelper.FireEvent(IntPtr unmanagedObj, IntPtr unmanagedObjArgs, Int32 argsTypeIndex, Int32 actualArgsTypeIndex, String eventName) 
```

我使用`try..catch block`来捕获异常但未捕获异常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:50:03.463

我做了这个功能并这样做

```
 private BitmapSource ConvertPic(Stream Image)
        {
            BitmapSource ContactImage;
            if (Image == null)
            {
                return ContactImage = null;
            }
            var bmp = new BitmapImage();
            bmp.SetSource(Image);
            ContactImage = bmp;
            return ContactImage;
        } 
```

# c# - 将xml转换为数据集

> ID：11078591
> 
> 赞同：0
> 
> 时间：2012-06-18T07:32:54.597
> 
> 标签：c#, xml, dataset

当我尝试转换数据集中的 xml 隔离存储文件时，出现*“无法访问，因为正在被另一个用户使用”之类的异常*

我的代码：

```
IsolatedStorageFile isfInsuranceFirm = null;

isfInsuranceFirm = IsolatedStorageFile.GetStore(IsolatedStorageScope.User | IsolatedStorageScope.Assembly | IsolatedStorageScope.Domain, null, null);
Stream stream1 = new IsolatedStorageFileStream("PageAccess.xml",FileMode.OpenOrCreate, FileAccess.ReadWrite, FileShare.None, isfInsuranceFirm);

stream1.Position = 0;

string path1 = stream1.GetType().GetField("m_FullPath", BindingFlags.Instance | BindingFlags.NonPublic).GetValue(stream1).ToString();
string path2 = stream2.GetType().GetField("m_FullPath", BindingFlags.Instance | BindingFlags.NonPublic).GetValue(stream2).ToString();

XmlDataDocument doc = new XmlDataDocument();
//doc.LoadXml(path1.Substring(path1.IndexOf('/') + 1));
doc.Load(path1); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T09:03:46.997

您似乎没有正确处理`IDisposable`资源。您应该始终将它们包装在 using 语句中，以确保您没有泄漏句柄：

```
using (IsolatedStorageFile isfInsuranceFirm = IsolatedStorageFile.GetStore(IsolatedStorageScope.User | IsolatedStorageScope.Assembly | IsolatedStorageScope.Domain, null, null))
using (Stream stream1 = new IsolatedStorageFileStream("PageAccess.xml", FileMode.OpenOrCreate, FileAccess.ReadWrite, FileShare.None, isfInsuranceFirm))
{

    stream1.Position = 0;

    string path1 = stream1.GetType().GetField("m_FullPath", BindingFlags.Instance | BindingFlags.NonPublic).GetValue(stream1).ToString();
    string path2 = stream2.GetType().GetField("m_FullPath", BindingFlags.Instance | BindingFlags.NonPublic).GetValue(stream2).ToString();

    XmlDataDocument doc = new XmlDataDocument();
    //doc.LoadXml(path1.Substring(path1.IndexOf('/') + 1));
    doc.Load(path1);
} 
```

# android - 第一次布局后，Android WebView 无法获取 viewWidth

> ID：11078592
> 
> 赞同：0
> 
> 时间：2012-06-18T07:32:55.420
> 
> 标签：android, html, webview

在我的 Android 应用程序中，我使用了一个 html 页面。当我尝试调用 html 页面时。它给了我这样的错误

```
 W/webcore(23533): Can't get the viewWidth after the first layout 
```

这里是带有 webview 的 XML 文件，用于在 Android 中加载 html 页面

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<WebView
    android:id="@+id/webViewMyBook"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" />

</RelativeLayout> 
```

这里代码用于在 webview 中显示 html 页面

```
public class MyBookActivity extends Activity {
Context myContext;
GeneralHelper objHelper;

WebView myBookWebView;

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);

    System.gc();

    requestWindowFeature(Window.FEATURE_NO_TITLE);
    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
            WindowManager.LayoutParams.FLAG_FULLSCREEN);

    setContentView(R.layout.my_book_layout);

    myContext = this;

    objHelper = new GeneralHelper(myContext);

    myBookWebView = (WebView) findViewById(R.id.webViewMyBook);
    myBookWebView.setBackgroundColor(Color.parseColor("#FFFCA9"));

    myBookWebView.setHorizontalScrollBarEnabled(false);
    myBookWebView.setVerticalScrollBarEnabled(false);
    myBookWebView.getSettings().setJavaScriptEnabled(true);

    final JavaScriptHandler objScriptHandler1 = new JavaScriptHandler(
            myContext, MyBookActivity.this);

    myBookWebView.addJavascriptInterface(objScriptHandler1,
            "AndroidFunction");

    myBookWebView.setWebChromeClient(new WebChromeClient() {
        @Override
        public boolean onJsAlert(WebView view, String url, String message,
                final android.webkit.JsResult result) {
            new AlertDialog.Builder(view.getContext())
                    .setMessage(message)
                    .setPositiveButton(android.R.string.ok,
                            new AlertDialog.OnClickListener() {
                                public void onClick(DialogInterface dialog,
                                        int which) {
                                    result.confirm();
                                }
                            }).setCancelable(true).show();

            return true;
        };
    });

    myBookWebView.loadUrl("file:///android_asset/mybook.html");
}
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T09:18:43.007

我取消了 addJavascriptInterface 的调用。在这种情况下，一切正常。

```
import android.app.Activity;
import android.app.AlertDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.graphics.Color;
import android.os.Bundle;
import android.view.Window;
import android.view.WindowManager;
import android.webkit.WebChromeClient;
import android.webkit.WebView;

public class MyBookActivity extends Activity {

    Context myContext;
//  GeneralHelper objHelper;

    WebView myBookWebView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);

        System.gc();

        requestWindowFeature( Window.FEATURE_NO_TITLE);
        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
                WindowManager.LayoutParams.FLAG_FULLSCREEN);

        setContentView(R.layout.my_book_layout);

        myContext = this;

//      objHelper = new GeneralHelper(myContext);

        myBookWebView = (WebView) findViewById(R.id.webViewMyBook);
        myBookWebView.setBackgroundColor( Color.parseColor( "#FFFCA9" ));

        myBookWebView.setHorizontalScrollBarEnabled(false);
        myBookWebView.setVerticalScrollBarEnabled(false);
        myBookWebView.getSettings().setJavaScriptEnabled(true);

//      final JavaScriptHandler objScriptHandler1 = new JavaScriptHandler(myContext, MyBookActivity.this);

//      myBookWebView.addJavascriptInterface(objScriptHandler1, "AndroidFunction");

        myBookWebView.setWebChromeClient(new WebChromeClient() {
            @Override
            public boolean onJsAlert(WebView view, String url, String message,
                    final android.webkit.JsResult result) {
                new AlertDialog.Builder(view.getContext())
                        .setMessage( message )
                        .setPositiveButton( android.R.string.ok, new AlertDialog.OnClickListener() {
                            public void onClick( DialogInterface dialog, int which ) {
                                result.confirm();
                            }
                        } ).setCancelable(true).show();

                return true;
            };
        });

        myBookWebView.loadUrl("file:///android_asset/mybook.html");
    }

} 
```

资产文件夹中的 mybook.html

```
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <link rel="stylesheet" type="text/css" href="test.css" />
    <title>Insert title here</title>
  </head>
  <body>
    <H1>TEST.HTML</H1>
  </body>
</html> 
```

# java - 从消息头指定日志级别 - Spring Integration - 日志通道适配器

> ID：11078593
> 
> 赞同：1
> 
> 时间：2012-06-18T07:33:07.920
> 
> 标签：java, spring, logging, spring-integration

如图所示，我已经设置了一个日志记录通道适配器。

```
<int:logging-channel-adapter id="logger" logger-name="messages" 
  expression="payload.toLogString()" level="????" /> 
```

对于这个级别，我想要一个完成逻辑的 SpEL 表达式

```
if(headers.isSet("LoggingLevel"))
  level = headers.get("LoggingLevel);
else
  level = "INFO"; 
```

最好使用三元运算符。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T11:46:59.073

目前还没有办法为日志通道适配器动态设置日志级别；请随时在此处打开“改进”JIRA 问题[https://jira.springsource.org/browse/INT](https://jira.springsource.org/browse/INT)

同时，您可以通过定义多个 <logging-channel-adapter> 来解决它，每个都有不同的级别，并使用 <header-value-router> 路由到适当的适配器。

您可以将其封装在一个 <import>ed 配置文件中，以便您可以在多个应用程序中重用它。

# asp.net-mvc - MVC 和 WebApi 之间的 ModelState 键不一致

> ID：11078594
> 
> 赞同：2
> 
> 时间：2012-06-18T07:33:14.453
> 
> 标签：asp.net-mvc, asp.net-web-api

如果我使用 MVC 控制器，我会得到键的属性名称。如果我使用 WebApi 控制器，我会得到“parameterName.property”作为键的名称。

```
public class SomeClass
{
    [StringLength(12, MinimumLength = 12)]
    public string Blah { get; set; }
} 
```

在 MVC 控制器中

```
[HttpPost]
public ActionResult Create(SomeClass collection)
{
    // ModelState.Keys.ElementAt(0) == "Blah"
} 
```

在 WebApiController 中（传递一些请求正文，如“blah=1”）

```
public HttpResponseMessage Post(SomeClass someClass1)
{
    // ModelState.Keys.ElementAt(0) == "someClass1.Blah"
} 
```

因此，我得到的不是与 MVC 一致的“Blah”，而是“someClass1.blah”。为什么会出现这种不一致？有没有我缺少的设置？这是RC中的错误吗？这两个项目都是在 VS2012 RC 中从头开始创建的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-26T20:43:50.037

这实际上是设计使然。有关更多详细信息，请查看[此处](http://www.asp.net/web-api/overview/formats-and-model-binding/model-validation-in-aspnet-web-api)和[此处](http://blogs.msdn.com/b/youssefm/archive/2012/06/28/error-handling-in-asp-net-webapi.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T16:05:22.427

对我来说，这看起来像是 RC 代码中的错误。但是，Web API 中的模型绑定与 ASP.NET MVC 模型绑定是分开的，因此如果您添加了一些自定义**MVC**模型绑定代码，它将不适用于 Web API 控制器。这篇[好的博客文章](http://blogs.msdn.com/b/carlosfigueira/archive/2012/02/27/disabling-model-binding-on-asp-net-web-apis-beta.aspx)有一些关于 Web API 和 MVC 模型绑定之间差异的好信息。

# coldfusion - 使用 cfexchange 标签连接到 Exchange Online 的 Office365

> ID：11078602
> 
> 赞同：1
> 
> 时间：2012-06-18T07:33:51.717
> 
> 标签：coldfusion, http-status-code-302

有没有人成功`<cfexchange>`连接到基于云的交换服务，特别是 Office365？

我们正在将我们的用户迁移到 Office365 for Exchange，我收到以下错误：

```
Unable to connect to the Exchange server using HTTP/HTTPS protocol.
HTTP response code : 302 
```

以下是我与 cfexchange 标记一起使用的参数：

*   交换服务器 IP
*   交换用户
*   交换密码
*   收件箱名称

注意：我已经使用 keytool 安装了 SSL 证书。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T11:08:18.170

响应代码是 302，这是一个重定向。要确切了解发生了什么，我会试试这个：

1.  安装[提琴手](http://fiddler2.com)
2.  [配置 Fiddler 以拦截 HTTPS 连接](http://fiddler2.com/fiddler/help/httpsdecryption.asp)。您可能必须导入 Fiddler 的证书，但这已在链接页面中介绍。
3.  设置 ProxyHost 和 ProxyPort 属性（或您用于连接的任何标签
4.  重新运行代码并观察请求/响应以查看有问题的响应的内容是什么以及它将您重定向到哪里。这可能足以诊断问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T14:50:15.400

我还会尝试在此上运行 Charles，以确切了解发送的内容以及返回的内容以及从何处返回。302 是从交换服务器返回的吗？还是介于两者之间的某种防火墙？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T10:29:08.660

当然，您不是指[http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=Tags_d-e_13.html](http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=Tags_d-e_13.html)`<cfexchangeconnection>`中描述的内容？

# tags - ctrl-] 不适用于 tcl 代码导航

> ID：11078605
> 
> 赞同：5
> 
> 时间：2012-06-18T07:34:01.003
> 
> 标签：tags, tcl, vim, ctags

我是 Tcl/Tk 的新手，我正在使用 Vim 进行编码和浏览。Tcl/Tk 的语法高亮工作正常。使用不起作用的跳转到函数`Ctrl``]`它给了我一条消息说“ `cstag: tag not found`”。我已经安装了 ctags 并使用“ `ctags -R *.tcl`”生成了标签。我在 Tcl/Tk 代码中广泛使用了命名空间。在标签文件中生成的标签是这样的“ `namespace1::function1`”。

我如何在 Vim 中工作`Ctrl``]`（以及`Ctrl``T`从堆栈中弹出）？

跳转的函数可以是下面显示的两种格式中的任何一种

1.  `function1`
2.  `namespace1::function1`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-21T11:14:01.480

尝试：

```
:set isk+=: 
```

似乎“：”默认情况下不会被识别为代码字。

要每次都完成这项工作，请将该行添加到您的 '~/.vimrc' 中。

来源：http: [//vim.1045645.n5.nabble.com/How-to-have-vim-recognize-in-cursor-for-tcl-namespaces-tp1163540p1163541.html](http://vim.1045645.n5.nabble.com/How-to-have-vim-recognize-in-cursor-for-tcl-namespaces-tp1163540p1163541.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-07-03T02:28:41.247

找到解决我的问题的方法：

生成的标签文件包含格式为`namespace::function`.

我刚刚`namespace::`从生成的标签文件中删除。
现在`Ctrl`+`]`工作！！！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-18T07:39:21.423

Vim 说他找不到你生成的标签。

添加`set tags=./tags,tags;`你的`.vimrc`然后再试一次。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-08-23T21:09:36.040

您的 .vimrc 应该有以下行

```
set tags=tags;/ 
```

粘贴它，保存，重新启动 vim，你就成功了。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-07-04T11:23:13.460

您使用的是什么键盘布局？我不熟悉您的特定问题，但是在浏览帮助页面时，我遇到了瑞典语键盘上的`Ctrl`+问题。`]`

在那里，`Ctrl`+`]`对我不起作用（可能是因为`]`用`Altgr`+键入`9`）。但是，`Ctrl`+ 'key to left of Enter' 有效（这是`]`位于英文键盘布局上的位置）。

我可以使用我第一次尝试将`Ctrl`+映射`]`到另一个组合的帮助页面来解决我的问题，但这仍然不起作用（不知道为什么）。因此，如果您遇到同样的问题，重新映射可能无法解决问题。

# django - 设置服务以在 Web 集群环境中执行任务

> ID：11078619
> 
> 赞同：1
> 
> 时间：2012-06-18T07:34:55.610
> 
> 标签：django, amazon-web-services, celery, amazon-sqs

我正在寻找在 Web 集群环境中可靠地执行任务（仅在某个日期/时间执行一次）的方法：例如，在初始注册后 7 天后向用户发送电子邮件提醒。我知道使用 cron/django-cron/django-chronograph 等来实现这一点的方法，但到目前为止我发现的所有东西似乎都是为单服务器场景设计的。

我想避免由于在多台服务器上运行相同的作业而发送重复的提醒，到目前为止，似乎在 Web 集群中使用锁定、过期超时等来汇总您自己的基于数据库的解决方案确实是唯一的选择。是否有任何现有的解决方案可以在 Web 集群环境中运行良好？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-09-24T13:40:06.423

您可以使用[Celery Periodic Task](http://celery.readthedocs.org/en/latest/userguide/periodic-tasks.html)。

```
from datetime import timedelta

CELERYBEAT_SCHEDULE = {
    'add-every-30-seconds': {
        'task': 'tasks.add',
        'schedule': timedelta(seconds=30),
        'args': (16, 16)
    },
}

CELERY_TIMEZONE = 'UTC' 
```

# python - 如何在 lambda 表达式中使用循环变量

> ID：11078621
> 
> 赞同：4
> 
> 时间：2012-06-18T07:35:04.060
> 
> 标签：python

我正在尝试使用 for 循环将多个编号命令添加到 Tkinter 菜单。当调用命令时，它的编号应该用作命令函数的参数。以下代码不起作用，因为 i 在调用命令时被评估，这是在循环完成之后。这意味着传递给 function1 的参数始终为 15，而我打算传递命令标签上显示的数字。有没有办法做到这一点？

注意：标签按预期工作，产生 16 个标记为 0 到 15 的选项

```
newMenu = Menu(menuButtonInstance)
for i in range(16):
    newMenu.add_command(label = '%s'%i,
                        command = lambda:function1(i))
menuButtonInstance.config(menu = newMenu) 
```

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T08:09:01.590

处理 的后期绑定的一种常用方法`lambda`是为 lambda 提供一个参数，该参数设置为更改变量的默认值：

```
 newMenu.add_command(label='{0}'.format(i),
                        command=lambda x=i: function1(x)) 
```

另一种可能性是使用[`partial`](http://docs.python.org/library/functools.html#functools.partial)from `functools`：

```
 newMenu.add_command(label='{0}'.format(i),
                        command=partial(function1, i)) 
```

（请注意，[PEP8](http://www.python.org/dev/peps/pep-0008/)建议不要在关键字参数中使用时的每一侧都使用空格字符`=`。另一方面，您*应该*在所有运算符周围放置空格字符，就像`%`在您的示例中一样）

# c# - 在运行时获取对象的成员

> ID：11078624
> 
> 赞同：2
> 
> 时间：2012-06-18T07:35:30.103
> 
> 标签：c#, asp.net, .net, controls

我有一个情况，不知道我的方法是否正确，请指导我。假设我有一个 Panel 控件，其中包含许多控件，在运行时我使用属性对该面板中的每个控件执行了迭代 `Panel1.Controls`，现在在这些控件中它们可以是任何东西`TextBox`，`Button`等等`DropDown`。现在我想在运行时找到哪个控件是哪种类型，然后查找该控件中是否包含任何特定属性以及该属性是否存在于该控件中，然后设置该属性的值。我想我必须使用`Reflection`这里做一些事情，但不知道从哪里开始。

示例代码：

```
 foreach (Control cntrl in Panel1.Controls)
        { 
            //find type of the control
            // find any specific property's existence in that control
            // if property exists than set value of that property
        } 
```

也欢迎任何其他更相关的方法，以便在运行时执行此任务。

对不起，我忘了提到我不想`is`在这里使用关键字，因为控件是可能的类型，我想创建一个全局函数，它可以用于任何面板，而无需知道该面板中存在的控件类型。

提前谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:39:10.117

通过使用反射，您可以实现这一点。

`Get the metadata for the property`, 然后设置。这将允许您**检查属性是否存在**，并验证它是否可以设置：

```
foreach (Control cntrl in Panel1.Controls)
{ 
   PropertyInfo prop = cntrl.GetType().GetProperty("Name", BindingFlags.Public |            BindingFlags.Instance);
   if(null != prop && prop.CanWrite)
   {
       prop.SetValue(cntrl, "MyName", null);
   }
} 
```

或者如果您不想使用反射，请尝试此操作

```
foreach (Control cntrl in Panel1.Controls)
            { 
                if(cntrl is TextBox)
                {
                  TextBox txt = (TextBox)ctrl;
                  txt.Text = "Your value here";
                  // your textbox code here
                }
                else if(cntrl is DropDown)
                {
                  // your DropDown code here
                }
                if(cntrl is Button)
                {
                  // your Button code here
                }
            } 
```

*注意：* **is**关键字检查对象是否与给定类型兼容。例如，以下代码可以确定对象是 MyObject 类型的实例，还是从 MyObject 派生的类型：

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:37:33.843

[is](http://msdn.microsoft.com/en-us/library/scekt9xw.aspx)关键字是您要查找的内容。

```
foreach(Control ctrl in Panel1.Controls)
{
 if(ctrl is TextBox) //Is the control of type TextBox?
 {
   (TextBox)ctrl.Text = "TextBox Test!"; //Cast it to a TextBox
 } else if(ctrl is Button) //Is the control of type Button?
 {
   (Button)ctrl.Text = "Button Test!";
 }
} 
```

从 A 型到 B 型有 2 种转换方式；

```
(TextBox)ctrl 
```

或者

```
ctrl as TextBox; 
```

不同之处在于，如果强制转换失败，第一种方法会引发异常，第二种方法返回 null。在你的情况下，你相当确定它是正确的类型，所以你使用哪种并不重要。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:39:51.270

您可以使用`OfType`扩展程序：

```
List<TextBox> textBoxes = myPanel.Controls.OfType<TextBox>().ToList();
string allText = string.Join("\n", textBoxes.ConvertAll(t => t.Text)); 
```

上面的示例将在面板中找到所有 TextBox 控件，然后将它们的文本读入单个字符串。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T07:46:50.097

您可以使用来自 MSDN 的 Type.GetProperties 方法：

```
public class TypeMain
{
    public static void Main() 
    {
        Type myType =(typeof(MyTypeClass));
        // Get the public properties.
        PropertyInfo[] myPropertyInfo = myType.GetProperties(BindingFlags.Public|BindingFlags.Instance);
        Console.WriteLine("The mumber of public properties is {0}.", myPropertyInfo.Length);
        // Display the public properties.
        DisplayPropertyInfo(myPropertyInfo);
        // Get the nonpublic properties.
        PropertyInfo[] myPropertyInfo1 = myType.GetProperties(BindingFlags.NonPublic|BindingFlags.Instance);
        Console.WriteLine("The number of protected properties is {0}.", myPropertyInfo1.Length);
        // Display all the nonpublic properties.
        DisplayPropertyInfo(myPropertyInfo1);       
    }
    public static void DisplayPropertyInfo(PropertyInfo[] myPropertyInfo)
    {
        // Display information for all properties.
        for(int i=0;i<myPropertyInfo.Length;i++)
        {
            PropertyInfo myPropInfo = (PropertyInfo)myPropertyInfo[i];
            Console.WriteLine("The property name is {0}.", myPropInfo.Name);
            Console.WriteLine("The property type is {0}.", myPropInfo.PropertyType);
        }
    } 
```

PropetyInfo 类也有一些有用的属性，例如 CanRead、CanWrite。查看[PropertyInfo的 MSDN 页面](http://msdn.microsoft.com/en-us/library/system.reflection.propertyinfo.aspx)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T07:58:16.597

我自己找到了一个解决方案，请查看它，并从性能的角度告诉我它是否正确。

```
 foreach (Control cntrl in Panel1.Controls)
        {
            System.Reflection.PropertyInfo[] props = cntrl.GetType().GetProperties();
            IEnumerable<System.Reflection.PropertyInfo> searchedProp = props.Where(delegate(System.Reflection.PropertyInfo p)
                                                                        {
                                                                            return p.Name.Contains("YourPropertyName");
                                                                        });
            if (searchedProp != null && searchedProp.Count() > 0)
                searchedProp.First().SetValue(cntrl, true, null); // Here true should be replaced by the value that is allowed by the property you are setting at runtime
        } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-18T09:02:57.463

对于每个控件，获取控件类型和类型的名称。通过反射获取控件的值，如果它的期望值对期望的属性执行设置值操作。

```
foreach (Control control in panel1.Controls)
                {

                    Type controlType = control.GetType();
                    switch (controlType.Name)
                    {
                        case "CheckBox":
                            if ((bool)controlType.GetProperty("Checked").GetValue(control,null))
                                controlType.GetProperty("Name").SetValue(control,"Check1",null);                        
                            break;
                        case "TextBox":
                          //TODO
                            break;
                        case "ComboBox":
                           //TODO
                            break;
                        default:
                            break;
                    }
                }
            } 
```

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2012-06-18T07:41:28.020

你可以尝试如下，

```
using System.Reflection;  // reflection namespace
 // get all public static properties of MyClass type
PropertyInfo[] propertyInfos;

 foreach (Control cntrl in Panel1.Controls)
{

if( cntrl is TextBox)
{

propertyInfos = typeof(TextBox).GetProperties(BindingFlags.Public |
                                              BindingFlags.Static);
//Loop thru property info n find the name using PropertyInfo.Name
 if(property.Name == "property name")
  //assign values
}
else 
{ 
    //others
}

} 
```

# php - 如何删除不是图像的文件？

> ID：11078626
> 
> 赞同：0
> 
> 时间：2012-06-18T07:35:34.963
> 
> 标签：php

我编写了这段代码来存储图像并避免有人存储恶意软件或与图像不同的其他文件：

```
$content = file_get_contents($image);
file_put_contents($path, $content);

// Check imagesize to know if it is an image or not:
$sizeimage = getimagesize(dirname(__FILE__)."/".$path);
if($sizeimage[0]<10000){ echo "ok"; }else{ unlink(dirname(__FILE__)."/".$path); } 
```

我尝试插入另一个文件，如 CSS 文件，并将 CSS 存储在数据库中。

为什么 ？我的代码有什么问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:40:10.610

```
if($sizeimage[0]<10000){ echo "ok"; }else{ unlink(dirname(__FILE__)."/".$path); } 
```

当文件不是图像时，getimagesize 返回 false，但您不检查它。您使用 [0]，但如果它不存在，它将变为“null”，小于 10000。所以：

```
<?php
if($sizeimage !== false && isset($sizeimage[0]) && $sizeimage[0] < 10000 && $imagesize[0] > 0) {
    echo "Okay.";
}
else {
    unlink(dirname(__FILE__)."/".$path);
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T07:39:31.770

如果图像文件无效，则`$sizeimage[0]`返回`0`（检查[PHP 文档](http://php.net/manual/en/function.getimagesize.php)）。因此，如果文件不是有效图像
，以下语句也会验证：`true`

```
if($sizeimage[0]<10000) 
```

考虑使用以下语句：

```
if($sizeimage[0]>0 && $sizeimage[0]<10000) 
```

这仅`true`在`getimagesize()`找到小于 1000 像素的图像时验证。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T07:55:47.267

请检查文件扩展名。如果它的扩展名无效，则不允许。

[在此处查看 PHP 示例](http://www.w3schools.com/php/php_file_upload.asp)

```
if ((($_FILES["file"]["type"] == "image/gif") || ($_FILES["file"]["type"] == "image/jpeg") || ($_FILES["file"]["type"] == "image/pjpeg"))) { echo 'valid file'; }else { echo 'invalid file type';} 
```

要删除文件，请使用 PHP [unlink()](http://php.net/manual/en/function.unlink.php)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T07:40:03.187

getimagesize 将返回`false`错误。这意味着：

*   `$sizeimage = false`
*   `$sizeimage[0] = null`
*   `null`转换为`0`和`0 < 10000`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T08:19:51.033

我将您的代码修改如下：

```
$content = file_get_contents($image);
file_put_contents($path,$content);

// Check imagesize to know if it is an image or not:

$sizeimage = getimagesize(dirname(__FILE__)."/".$path);
if($sizeimage){ echo "ok"; } else { unlink(dirname(__FILE__)."/".$path); } 
```

这应该有效。当 $sizeimage 为 null 或 false 时，将执行取消链接。

有一种更好的方法可以通过检查文件的 mime 类型来真正判断文件是否为图像。请参阅**finfo_file** (PHP 4) 或**finfo** (PHP 5)。

# javascript - 将数据从一个 json 对象动态添加到另一个

> ID：11078630
> 
> 赞同：-5
> 
> 时间：2012-06-18T07:36:04.017
> 
> 标签：javascript, jquery, json, dynamically-generated

假设我有一个 json 对象朋友为：

```
{
   title: Friends
   link: /friends.json
   description: "My friends"
   people: [
   {
   id: "1",
   name: "Matthew",
   img: "img/matthew.jpg"
   },
   {
   id: "2",
   name:"Matt",
   img: "img/matt.jpg"
   },
   {
   id: "3",
   name: "David",
   img: "img/dav.jpg"
   }
   ]
} 
```

这存储为文件 friends.json

现在使用javascript/jQuery，我需要创建一个新对象good_friends.json，并需要使用“people.id”从friends.json的“people”字段中添加值（动态和一对一）。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:47:44.760

如果要保存更改，您几乎需要一个服务器端进程。

您可以通过以下方式加载 JSON `ajax`：

```
$.ajax({
    url: "/path/to/friends.json",
    dataType: "json",
    success: function(data) {
        // Here, `data` will be the object resulting from deserializing the JSON
        // Store `data` somewhere useful, perhaps you might have a `friends`
        // variable declared somewhere; if so:
        friends = data;
    },
    error: function() {
       // Handle the error
    }
}); 
```

要添加到反序列化对象，只需在内存中修改它：

```
friends.people.push({
    id: String(friends.people.length + 1),
    name: "John",
    img: "img/john.jpg"
}); 
```

当然，这些值可能来自输入字段或其他内容，例如：

```
function addPerson() {
    friends.people.push({
        id: String(friends.people.length + 1),
        name: $("#nameField").val(),
        img: $("#imgField").val()
    });
} 
```

现在您有了数据的内存副本。要将其*存储*在某处，您必须有一个可以将其发布到的服务器端进程。您可能会在发布之前对其进行序列化，例如，通过`JSON.stringify`或类似方式。如果您的浏览器本身没有`JSON.stringify`（大多数现代浏览器有，一些旧浏览器没有），您可以使用[Crockford 的](https://github.com/douglascrockford/JSON-js/).

或者，如果这只是供您自己使用，您可以在文本字段中显示字符串化结果，并使用复制和粘贴将其粘贴到`friends.json`文本编辑器中。

这是一个完整的示例，它在文本区域中显示 JSON：[Live copy](http://jsbin.com/eruqev) | [资源](http://jsbin.com/eruqev/edit#html)

```
<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>Test Page</title>
<style>
  body {
    font-family: sans-serif;
  }
</style>
</head>
<body>
  <label>Name:
    <input type="text" id="nameField">
  </label>
  <br><label>Img:
    <input type="text" id="imgField">
  </label>
  <br><input type="button" id="btnAdd" value="Add" disabled>
  <input type="button" id="btnShow" value="Show JSON" disabled>
  <br><div id="msg">&nbsp;</div>
  <hr>
  <textarea id="showField" rows="10" cols="60"></textarea>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script>
// Note that all of our script tags are at the end of the
// document. This lets the page load as quickly as possible
// and means we don't have to worry about whether the elements
// have been created yet (they have, because the scripts are
// below them).

// Put all of our code inside a function so we don't
// create globals
(function($) {
    if (typeof JSON === "undefined") {
        // Load Crockford's json2.js
        // NOTE: You'd want to use your own copy, not a hotlink
        // to his github like this.
        var scr = document.createElement('script');
        scr.src = "https://raw.github.com/douglascrockford/JSON-js/master/json2.js";
        document.documentElement.appendChild(scr);
    }

    var friends; // Where our deserialized friends.json will go

    // Focus the first field
    $("#nameField").focus();

    // Load the JSON
    $.ajax({
        url: "http://jsbin.com/ojexuz",
        dataType: "json",
        success: function(data) {
            // Here, `data` will be the object resulting from deserializing the JSON
            // Store `data` somewhere useful, perhaps you might have a `friends`
            // variable declared somewhere; if so:
            friends = data;

            // Enable our buttons now that we have data
            $("input[type='button']").prop("disabled", "");
        },
        error: function() {
            // Handle the error
            alert("Error loading friends.json");
        }
    });

    // Handle clicks on the "Add" button
    $("#btnAdd").click(function() {
        var nameField = $("#nameField"),
            imgField  = $("#imgField"),
            name      = $.trim(nameField.val()),
            img       = $.trim(imgField.val());
        if (!name || !img) {
            alert("Please supply both name and image");
            return;
        }
        addPerson(name, img);
        $("#msg").text("Added '" + name + "'");
        nameField.focus();
    });

    // An "add this person" function
    function addPerson(name, img) {
        friends.people.push({
            id:   String(friends.people.length + 1),
            name: name,
            img:  img
        });
    }

    // Handle clicks on the "Show" button
    $("#btnShow").click(function() {
        $("#showField").val(JSON.stringify(friends));
    });

})(jQuery);
</script>
</body>
</html> 
```

# jakarta-ee - 在 EAR 文件外部配置 web.xml 的 auth-method

> ID：11078638
> 
> 赞同：0
> 
> 时间：2012-06-18T07:36:37.650
> 
> 标签：jakarta-ee, properties, system, jboss7.x, web.xml

目前尝试在外部配置 web.xml 的 AUTH-METHOD 元素（通过在 JBoss 7.1.1 启动期间加载的系统属性），但没有成功。

我认为这可以完成这项工作：

```
<login-config>
    <auth-method>${prest_authMethod}</auth-method>
    <realm-name>PREST Authentication</realm-name>
</login-config> 
```

但它在部署期间崩溃：

```
12:56:01,773 ERROR [org.apache.catalina.startup.ContextConfig] (MSC service thread 1-4) Cannot configure an authenticator for method ${prest_authMethod} 
```

有没有办法从 web.xml 访问系统属性？或者任何其他方式来配置 AUTH-METHOD 与外部配置？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-12T15:27:02.003

我试图通过在standalone.xml 的system-properties 部分中设置它们来以这种方式访问​​属性。它以这种方式坠毁并烧毁，这很可惜。

在服务器启动时使用 -Dproperty=myProperty 设置它确实有效。

顺便说一句，我使用的是几乎相同版本的 Jboss EAP 6.0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-16T07:07:47.010

显然，此配置不再适用于 JBoss 7，但适用于 JBoss 5 和 6。请查看[https://issues.jboss.org/browse/AS7-3195](https://issues.jboss.org/browse/AS7-3195)。原因是“超出 EE 规范”。

然而，由于大量社区投诉，这应该会在 EAP 7.1.2 和 7.2 GA 中回归（社区版本 7.1.2 不是作为发布版本构建的，补丁应该随 7.2 一起提供）。

# objective-c - 如何在目标c中流畅地绘制徒手线？

> ID：11078645
> 
> 赞同：3
> 
> 时间：2012-06-18T07:37:10.360
> 
> 标签：objective-c

我已经使用 uigraphics cgcontext 在触摸时画线...但是我的线不平滑我的意思是边缘不平滑所以有人可以建议我如何绘制平滑线..？这是我用来画线的代码：

```
/* touchesBegan */
UITouch *touch = [touches anyObject];
lastPoint = [touch locationInView:imagevw];

/* touchesMoved */

CGFloat width = [mySlider value];
UIGraphicsBeginImageContext(imagevw.frame.size);
[imagevw.image drawInRect:CGRectMake(0, 0, imagevw.frame.size.width,imagevw.frame.size.height)];
CGContextSetLineCap(UIGraphicsGetCurrentContext(), kCGLineCapRound);
CGContextSetLineWidth(UIGraphicsGetCurrentContext(), width);
UITouch *touch = [touches anyObject];
mouseSwiped = YES;  
    CGPoint currentPoint = [touch locationInView:imagevw];
    CGContextBeginPath(UIGraphicsGetCurrentContext());
    CGContextMoveToPoint(UIGraphicsGetCurrentContext(), lastPoint.x, lastPoint.y);
    CGContextAddLineToPoint(UIGraphicsGetCurrentContext(), currentPoint.x, currentPoint.y);
    CGContextStrokePath(UIGraphicsGetCurrentContext());
    imagevw.image = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
lastPoint = currentPoint;

/*  touchesEnded */
/* same here */ 
CGContextMoveToPoint(UIGraphicsGetCurrentContext(), lastPoint.x, lastPoint.y);
        CGContextAddLineToPoint(UIGraphicsGetCurrentContext(), lastPoint.x, lastPoint.y);` 
```

这是我的代码，我可以徒手画线，但显示像素不是那么平滑，我的意思是边缘不平滑

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T08:05:28.417

kyoji 发布的这段代码完美运行。您可以在[此处](https://stackoverflow.com/questions/5076622/iphone-smooth-sketch-drawing-algorithm/ "这里")阅读问题：

```
 CGPoint midPoint(CGPoint p1, CGPoint p2)
{

    return CGPointMake((p1.x + p2.x) * 0.5, (p1.y + p2.y) * 0.5);

}

-(void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{

    UITouch *touch = [touches anyObject];

    previousPoint1 = [touch previousLocationInView:self];
    previousPoint2 = [touch previousLocationInView:self];
    currentPoint = [touch locationInView:self];

}

-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{

    UITouch *touch = [touches anyObject];

    previousPoint2 = previousPoint1;
    previousPoint1 = [touch previousLocationInView:self];
    currentPoint = [touch locationInView:self];

    // calculate mid point
    CGPoint mid1 = midPoint(previousPoint1, previousPoint2); 
    CGPoint mid2 = midPoint(currentPoint, previousPoint1);

    UIGraphicsBeginImageContext(self.imageView.frame.size);
    CGContextRef context = UIGraphicsGetCurrentContext();
    [self.imageView.image drawInRect:CGRectMake(0, 0, self.imageView.frame.size.width, self.imageView.frame.size.height)];

    CGContextMoveToPoint(context, mid1.x, mid1.y);
    // Use QuadCurve is the key
    CGContextAddQuadCurveToPoint(context, previousPoint1.x, previousPoint1.y, mid2.x, mid2.y); 

    CGContextSetLineCap(context, kCGLineCapRound);
    CGContextSetLineWidth(context, 2.0);
    CGContextSetRGBStrokeColor(context, 1.0, 0.0, 0.0, 1.0);
    CGContextStrokePath(context);

    self.imageView.image = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-03T11:55:54.437

使用点不是流畅和平滑的。你应该使用 NSBeziePath ......

它花了3000行但非常流畅，作为“竹子”工具。

正确的方法是使用 Bezier 路径：

*   记录每一张图纸
*   用于在视图上有效绘制
*   您应该在跟踪时计算贝塞尔路径的动态锚点（您不绘制事件的接触点）
*   您甚至可以记录并保存它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-08-03T12:51:41.093

```
- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{   
    UITouch *touch = [touches anyObject];
    pointCurrent = [touch locationInView:self.view];
}

- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{   
    UITouch *touch = [touches anyObject];
    CGPoint pointNext = [touch locationInView:self.view];
    UIGraphicsBeginImageContext(img.frame.size);
    [img.image drawInRect:CGRectMake(0, 0, img.frame.size.width, img.frame.size.height)];
    CGContextSetLineWidth(UIGraphicsGetCurrentContext(), 2.0);
    CGContextSetRGBStrokeColor(UIGraphicsGetCurrentContext(), 1.0, 0.0, 0.0, 1.0);
    CGContextMoveToPoint(UIGraphicsGetCurrentContext(), pointCurrent.x, pointCurrent.y);
    CGContextAddLineToPoint(UIGraphicsGetCurrentContext(), pointNext.x, pointNext.y);
    CGContextStrokePath(UIGraphicsGetCurrentContext());
    img.image = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    pointCurrent = pointNext;
} 
```

# objective-c - 如何在 iOS、模拟器和设备上读取/写入文件？

> ID：11078647
> 
> 赞同：10
> 
> 时间：2012-06-18T07:37:24.983
> 
> 标签：objective-c, ios, nsfilemanager, read-write

由于我需要在启动应用程序时读取文件并有时在使用时写入文件，因此我尝试通过以下方式访问它：

```
NSString *dataFile = [[NSBundle mainBundle] pathForResource:@"data" ofType:@"txt"];
NSLog(@"%@",dataFile); 
```

该文件应该在我的项目文件夹中，而是在模拟器文件夹中：

> 2012-06-13 17:36:56.398 MyFileApp[610:15203] /Users/Rob/Library/Application Support/iPhone Simulator/5.1/Applications/1FFD4436-DCCA-4280-9E47-F6474BEE0183/MyFileApp.app/myFile.txt

所以如果我想用模拟器和真实设备读/写它，我该怎么办？

感谢您的建议

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-18T07:40:28.557

要从包中读取文件，请执行以下操作

```
NSString *dataFile = [[NSBundle mainBundle] pathForResource:@"data" ofType:@"txt"]; 
```

从沙盒存储（文档）中读取它

```
NSString *docPath = [NSHomeDirectory() stringByAppendingPathComponent:@"Documents/YourFile.txt"];
NSString *dataFile = [NSString stringWithContentsOfFile:docPath 
                                           usedEncoding:NSUTF8StringEncoding 
                                                  error:NULL]; 
```

写入文件夹

```
NSString *docPath = [NSHomeDirectory() stringByAppendingPathComponent:@"Documents/YourFile.txt"];
[dataFile writeToFile:docPath 
          atomically:YES 
            encoding:NSUTF8StringEncoding 
               error:NULL]; 
```

请注意，您将无法在应用程序的 bundle 文件夹中写入文件

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-10-29T07:28:07.113

这是您编写和读取文件文本所需的内容：

写一个文件：

```
-(void) writeStringToFile:(NSString *)aString{
    NSString *filePath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
    NSString *fileName = @"textFile.txt";
    NSString *fileAtPath = [filePath stringByAppendingString:fileName];
    if (![[NSFileManager defaultManager] fileExistsAtPath:fileAtPath]) {
        [[NSFileManager defaultManager] createFileAtPath:fileAtPath contents:nil attributes:nil];
    }
    [[aString dataUsingEncoding:NSUTF8StringEncoding] writeToFile:fileAtPath atomically:NO];
} 
```

并读取一个文件：

```
-(NSString *)readStringFromFile{
    NSString *filePath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
    NSString *fileName = @"textFile.txt";
    NSString *fileAtPath = [filePath stringByAppendingString:fileName];
    return [[NSString alloc] initWithData:[NSData dataWithContentsOfFile:fileAtPath] encoding:NSUTF8StringEncoding];
} 
```

最后我在以下位置测试我的代码`viewDidLoad`：

```
 NSString *text = @"I'm an iOS developer and I'm living at HCM city";
    [self writeStringToFile:text];
    NSString *strResult = [self readStringFromFile];
    NSLog(@"%@", strResult); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T07:44:25.833

对于写入文件，如果您链​​接到 Foundation 框架`-[NSData writeToURL:atomically:]`，`-[NSString writeToURL:atomically:encoding:error:]`则可以使用这些方法。

读取文件的方法是`-[NSData initWithContentsOfURL:options:error:]`和`-[NSString initWithContentsOfURL:encoding:error:]`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-25T06:58:00.990

```
#import "ViewController.h"

@interface ViewController ()

@property (strong, nonatomic) IBOutlet UITextView *txtWriteText;
@property (strong, nonatomic) IBOutlet UIButton *btnWriteFile;
@property (strong, nonatomic) IBOutlet UIButton *btnReadFile;
@property (strong, nonatomic) IBOutlet UILabel *lblReadText;

- (IBAction)btnWriteFileTouched:(id)sender;
- (IBAction)btnReadFileTouched:(id)sender;

@property NSFileManager *filemgr;
@property NSString *docsDir;

@end

@implementation ViewController

- (void)viewDidLoad
{
    [super viewDidLoad];

    _filemgr =[NSFileManager defaultManager];
    NSArray *dirPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask, YES);
    _docsDir = dirPaths[0];
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
}

- (IBAction)btnWriteFileTouched:(id)sender {
    NSString *filePath = [_docsDir stringByAppendingPathComponent: @"texfile.txt"];
    NSData *databuffer = [@"PREFIX: " dataUsingEncoding: NSASCIIStringEncoding];
    [_filemgr createFileAtPath: filePath contents: databuffer attributes:nil];

    NSFileHandle *file = [NSFileHandle fileHandleForWritingAtPath:                                filePath];
    if (file == nil){
        NSLog(@"Failed to open file");
        return;
    }

    NSMutableData *data = [NSMutableData dataWithData:[_txtWriteText.text dataUsingEncoding:NSASCIIStringEncoding]];

    [file seekToEndOfFile];
    [file writeData: data];
    [file closeFile];
}

- (IBAction)btnReadFileTouched:(id)sender {
    NSString *filePath = [_docsDir stringByAppendingPathComponent: @"texfile.txt"];
    NSData *databuffer;
    NSFileHandle *file = [NSFileHandle fileHandleForReadingAtPath: filePath];
    if (file == nil){
        NSLog(@"Failed to open file");
        return;
    }

    databuffer = [file readDataToEndOfFile];
    [file closeFile];

    NSString *datastring = [[NSString alloc] initWithData: databuffer encoding:NSASCIIStringEncoding];
    _lblReadText.text = datastring;
}

@end 
```

# android - 当我们使用 SOAP 网络服务时？

> ID：11078651
> 
> 赞同：0
> 
> 时间：2012-06-18T07:37:56.980
> 
> 标签：android, iphone, soap, service, web

我是 Web 服务的初学者，我知道一些基于 SOAP 的 Web 服务概念，在移动应用程序开发中，如 iphone 和 android，但我就是不明白我们在哪种特殊情况下使用肥皂？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T11:40:19.080

SOAP 可能是一种真正的痛苦。如果可能的话，我真的建议使用 JSON 之类的东西。如果您不能并且您被困在使用 SOAP 中，那么[这](http://sudzc.com/)可能会对您有所帮助。它是一个方便的代码生成器，允许您导入 SOAP 服务的 WSDL 文件（描述服务的文件）并生成 Objective-c 类。

但请注意，导入 XSD 并不能很好地处理 WSDL :(

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:39:16.777

根据您的平台，您可以将 SOAP 用于远程过程调用（例如）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:45:32.257

当您从服务器公开服务时，您应该使用 SOAP。这些服务将处理请求。您将使用 SOAP 定义规则（协议/服务）。稍后任何客户端并遵循规则使用服务..举一个简单的例子-您可以提供提供时间和发布模式的服务。以后任何想使用此服务的人都会遵守规则（模式）并调用。

它可以来自客户端，可以是移动的，任何嵌入式设备或浏览器

# svn - authz 目录标识符不支持

> ID：11078653
> 
> 赞同：0
> 
> 时间：2012-06-18T07:38:24.907
> 
> 标签：svn, authz

在不使用 authz 的情况下，所有 svn 用户都可以毫无问题地登录和使用 repos。但是，我想限制对某些目录的访问 - 不是所有用户都可读或可写的。

`svnserve --version`=>`1.6.6`

我都尝试了，授予用户和组访问权限。我也试过单独的，只有组或只有用户访问。

```
[groups]
admingroup=i_can_access_anything
limitedgroup=i_am_limited
[/]
#*=
@admingroup=rw
i_can_access_anything=rw
[projectX]
#i also tried [repository:/projectX]
#*=
@limitedgroup=rw
i_am_limited=rw 
```

尝试在 svn 访问 / 或 /projectX 失败。=>访问被拒绝没有authz，它可以正常工作，但也授予对不属于“受限”用户组的其他项目的访问权限：-/

你知道那里有什么问题吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T09:12:08.137

我想您尝试授予访问权限的方式存在一些问题。

而是尝试使用这个： -

一种。假设您的用户使用 id 作为“admin”登录 svn，您想要授予所有权限（读/写）并说有另一个用户使用 id 作为“普通”登录，他拥有权限（只读) 到某个特定文件夹 (projectX)

```
[groups]
admingroup=admin
limitedgroup=normal

[/]    
*=

[repository:/projectX]
@admingroup=rw
@limitedgroup=r 
```

基本上在这里，您将 projectX 文件夹的读取和写入权限授予 admingroup，并将 projectX 文件夹的读取权限授予 limitedgroup。

湾。如果这不起作用，请尝试使用“VisualSVN 服务器”。它有一个非常好的 gui 来添加用户并给他们特权。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-28T14:51:04.207

**您应该以前导“ /** ”开始每个目录部分：

```
 [/projectX] 
```

[更多信息](http://svnbook.red-bean.com/en/1.6/svn.serverconfig.pathbasedauthz.html "更多信息")

# javascript - 如何在一个变量中收集 HTML 页面的所有脚本标签

> ID：11078654
> 
> 赞同：8
> 
> 时间：2012-06-18T07:38:26.637
> 
> 标签：javascript, html, html-parsing

我想`<script> ....</script>`在某个变量中收集 HTML 页面中存在的所有代码部分。

什么应该是更简单的方法，知道如何使用 JavaScript 检索它。？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-06-18T07:41:51.013

要获取您可以使用的脚本列表

*   `document.getElementsByTagName("script");`按标签
*   `document.scripts;`内置集合
*   `document.querySelectorAll("script");`通过选择器
*   `$("script")`jQuery的选择器

```
var scripts = document.getElementsByTagName("script");
for (var i = 0; i < scripts.length; i++) {
  if (scripts[i].src) console.log(i, scripts[i].src)
  else console.log(i, scripts[i].innerHTML)
}

// To get the content of the external script 
// - I use jQuery here - only works if CORS is allowing it

// find the first script from google 
var url = $("script[src*='googleapis']")[0].src; 

$.get(url,function(data) { // get the source 
  console.log(data.split("|")[0]); // show version info
}); 
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script>
  console.log("Inline script");
</script>
<script>
  function bla() {
    console.log("Other inline script");
  }
</script>
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-06-18T07:47:49.643

最简单的方法可能是`document.scripts`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T07:42:41.173

你会这样做：

```
var scripts = document.getElementsByTagName( 'script' ); 
```

现在`scripts`是一个 NodeList（像一个数组），您可以使用 访问每个节点列表`scripts[0]`，`scripts[1]`依此类推。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-18T07:44:44.777

尝试这个

```
var scripts = document.getElementsByTagName("script"); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-18T07:43:07.960

没有 jQuery ：

```
var scripts = document.getElementsByTagName("script"); 
```

使用 jQuery：

```
var scripts = $("script"); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-07-14T14:36:27.693

干得好 -

```
(function () { 
        'use strict';
        let logscript = function () {
            let js = document.scripts;
            for (let i = 0; i < js.length; i++) {
                if (js[i].src) {
                        console.log(i, js[i].src);
                    } else {
                        console.log(i, js[i].innerHTML);
                }   
            }
        };
        if (document.readyState === 'complete') {
                logscript();
        } else {
                window.addEventListener('load', logscript);
        }
})(); 
```

# sql - SQL Server：无法执行聚合函数

> ID：11078655
> 
> 赞同：0
> 
> 时间：2012-06-18T07:38:30.617
> 
> 标签：sql, sql-server-2008

有人可以解释一下为什么会这样：

```
select val1, val2, 
   count(case when table2.someID in (1, 2, 3, 48967, 123456) then table2.someId end) as val3
from table1
join table2 on table1.someId = table2.someId
where blabla
group by val1, val2
order by val1 
```

但这里的查询：

```
select val1, val2, 
   count(case when table2.someID in (Select someId from table567) then table2.someId end) as val3
from table1
join table2 on table1.someId = table2.someId
where blabla
group by val1, val2
order by val1 
```

给出错误：

> 无法对包含聚合或子查询的表达式执行聚合函数。

（`someId`在PK中`table2`）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T07:45:26.353

好吧，如果它“*无法对包含 (...) 子查询的表达式执行聚合函数*`Select someId from table567`”，那么原因很简单：在第二个查询中，聚合函数中有子查询 ( )，`count`而第一个则没有。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T07:54:00.700

您可以通过使用左连接而不是子查询来解决这个问题。

```
select  val1, 
        val2, 
        count(table567.someID) as val3
from    table1
        join table2 on table1.someId = table2.someId
        left join table567 on table2.someID = table567.someID
where blabla
group by val1, val2
order by val1 
```

# ssis - SSIS 中的多文件连接管理器

> ID：11078656
> 
> 赞同：0
> 
> 时间：2012-06-18T07:38:31.863
> 
> 标签：ssis

我正在处理一个场景，我需要将 3 个 csv 文件加载到我的表中。为此，我使用了 3 个平面文件连接管理器。

现在，我不需要使用 3 个平面文件连接管理器，而是只需要对所有 3 个文件使用一个连接管理器。

我知道我们可以为此目的使用多文件连接管理器，但这仅在文件具有相同列时才有效。

**1\. 我的第一个 csv 有 id, Rate, Amount,Total_Amt 列
2\. 第二个 CSV 文件有 id, Rate, Amount, Total_Amt, Date, Debt 列
3\. 第三个 CSV 文件有 id, Rate, Amount, Total_Amt, loss, Gain 列**

我如何为这种方法使用多文件连接管理器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:45:44.850

你不能；多文件连接管理器有效地循环您指定的文件并将相同的设置应用于每个文件。如果您想要不同的设置，您将需要使用不同的连接管理器或创建自己的连接管理器（无论如何，这可能只是三个单独的连接管理器的包装器）。

无论如何，这听起来像是一个不寻常的要求；只有一个连接管理器的原因是什么？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:50:33.027

[您可以尝试在Sathya Narayanan Srinivasan 在她的帖子中解释的](http://geekswithblogs.net/sathya/archive/2010/06/22/how-to-import-and-export-csv-files-directly-in-ssis.aspx)那样使用 OLEdb instea 平面文件。

1.  创建一个新的连接管理器
2.  选择新的 Oledb 连接
3.  选择提供程序作为 Microsoft Jet 4.0 Oledb 提供程序
4.  在左侧的同一窗口中选择后，您将有两个选项卡可以切换。一个是全部（其中提到了连接的属性），另一个是连接信息
5.  选择全部。您会看到一个名为 ExtendedProperties 的属性。
6.  在那个不带引号的粘贴中：“text;HDR=Yes;FMT=Delimited”
7.  将有另一个名为 Mode 的属性，它会提到 16（只读），如果你想让它读/写，请将其更改为 19。
8.  在连接选项卡下的服务器或文件名文本框中，提供 csv 文件的路径。只给它直到文件夹名称而不是 csv 文件本身。（例如：如果您的文件是 c:\sathya\contact.csv，则将其命名为 c:\sathya）
9.  如果您将模式更改为 19 即读/写，您也可以在 Oledb 源任务、查找任务和 Oledb 目标任务中使用此 Oledb 连接。
10.  在编写查询以从 csv 中获取时，由于您只放弃了该文件夹作为数据源，因此您需要编写诸如“select * from contact.csv”之类的查询

替换步骤 10 以进行您自己的查询：

1.  从 yourFile.csv 中选择 id、Rate、null 作为 Amount、Amount、Total_Amt、null 作为 Date、null 作为 Debt
2.  从 yourFile.csv 中选择 id、Rate、Amount、Total_Amt、Date、Debt
3.  很快

免责声明：未经测试。

# android - 如何在android中集成linkedin

> ID：11078661
> 
> 赞同：0
> 
> 时间：2012-06-18T07:38:55.137
> 
> 标签：android

我正在开发一个向linkedin 墙发布消息的应用程序。请，任何人都可以提供一些示例代码。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T08:18:36.227

我已经为linkedin 连接创建了一个示例应用程序。您可以从以下链接下载源代码

[https://github.com/srivastavavivek1987/LinkedIn-Connection-in-Android](https://github.com/srivastavavivek1987/LinkedIn-Connection-in-Android)

在此示例中，您将获得用户的 access_token。

因此，进一步使用带有 access_token 的[LinkedIn REST API](http://developer.linkedin.com/documents/share-api#)在墙上发帖。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:46:16.407

该网站已经提供 Android 应用程序，考虑一下！

否则这里有一些官方文档：[http ://code.google.com/p/linkedin-j/](http://code.google.com/p/linkedin-j/)

和[http://developer.linkedin.com/](http://developer.linkedin.com/)，主要是[http://developer.linkedin.com/documents/libraries-and-tools](http://developer.linkedin.com/documents/libraries-and-tools)

PS谷歌的力量！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:41:59.890

您可以尝试Java的[LinkedIn API 包装器。](http://code.google.com/p/linkedin-j/)OAuth 令牌必须是您自己的 -[在此处](http://developer.linkedin.com/)获取。

# highcharts - highcharts 中的甜甜圈图在导出时出现混乱

> ID：11078662
> 
> 赞同：0
> 
> 时间：2012-06-18T07:38:55.943
> 
> 标签：highcharts

我们使用 highcharts 作为我们的图表库。它很棒，除了一种情况外，导出在所有情况下都能正常工作。我们有一个包含两个级别的圆环图。当它在浏览器中呈现时，它显示得很好：

![在浏览器中](../Images/347609d6e3083bbb185d4c143714941d.png)

如果您现在使用默认的 highcharts 服务导出此图表，它会显示如下： ![导出的图像](../Images/0a342dabd00aee4893c1ee59cda726b1.png)

任何人都知道为什么会发生这种情况，如果有什么方法可以解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T11:13:08.967

我在配置中的错误是当我动态更新颜色时：

```
chart.series[0].data[s].update({color: "#FFFFFF")}, false); 
```

这不仅意味着我正在更新颜色，而且还意味着整点。这意味着通过运行上述内容，我将 y 运行到一无所有！尽管图表显示正常，但发送到导出服务的数据的切片值未设置。因此图表中的切片为空。要修复它，我必须执行以下操作：

```
chart.series[0].data[s].update({
              color: "#FFFFFF",
              y: chart.series[0].data[s].y,
              name: chart.series[0].data[s].name,
)}, false); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T08:32:25.457

我建议您为您的问题创建一个小提琴，并通过电子邮件发送有关它的 HighCharts 支持（或在此处链接小提琴），它们非常有帮助并且通常会快速响应。

但是，您的问题似乎与您的代码有关，因为我也毫无问题地生成和导出圆环图

# daemon - 如何为使用“--daemon”选项启动的 Poco::ServerApplication 生成核心转储文件？

> ID：11078674
> 
> 赞同：0
> 
> 时间：2012-06-18T07:40:03.843
> 
> 标签：daemon, core, dump, poco-libraries

我使用 POCO 库的 ServerApplication 类，并使用“--daemon”选项启动程序。我发现我可以为运行控制台的应用程序生成核心转储文件，但不能为这个守护程序应用程序生成核心转储文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-16T08:54:43.563

看一下 Net/samples/TimeServer/src/TimeServer.cpp 可以生成core文件

```
[root@slayer src]# pwd
/root/cppstuff/poco-1.4.5-all/Net/samples/TimeServer/src
[root@slayer src]# g++ TimeServer.cpp -lPocoUtil -lPocoNet -g -o tsev
[root@slayer src]# ls
tcln.py  TimeServer.cpp  tsev  tsev.properties
[root@slayer src]# ulimit -c unlimited
[root@slayer src]# ./tsev --daemon
[root@slayer src]# ps aux | grep tsev | grep -v grep
root     13498  0.0  0.5  60680  2160 ?        Ssl  16:18   0:00 ./tsev --daemon
[root@slayer src]# gcore 13498
[Thread debugging using libthread_db enabled]
[New Thread 0x2ad7c2c36940 (LWP 13501)]
[New Thread 0x2ad7c2235940 (LWP 13500)]
[New Thread 0x2ad7c1834940 (LWP 13499)]
warning: no loadable sections found in added symbol-file system-supplied DSO at 0x7fff935fd000
0x000000346a230898 in do_sigwait () from /lib64/libc.so.6
Saved corefile core.13498
[root@slayer src]# ls
core.13498  tcln.py  TimeServer.cpp  tsev  tsev.properties 
```

# c# - 'Microsoft.ACE.OLEDB.12.0' 提供程序未在 64 位机器中的本地计算机上注册

> ID：11078675
> 
> 赞同：4
> 
> 时间：2012-06-18T07:40:05.430
> 
> 标签：c#, windows

我在 Windows 应用程序中工作。我正在从 Excel 中读取一个值并更新到数据库中。我的代码是

```
 string Con_Str = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + filepath +
                         ";Extended Properties=\"Excel 8.0;HDR=Yes;IMEX=1\";"; 
```

它在我的本地工作正常，我有 32 位机器。我在 64 位机器的服务器中运行了 exe。我收到了类似的错误

```
The 'Microsoft.ACE.OLEDB.12.0' provider is not registered on the local machine. 
```

我已经从这个链接下载了最新的..

[http://www.microsoft.com/en-us/download/details.aspx?id=13255](http://www.microsoft.com/en-us/download/details.aspx?id=13255)

我仍然收到问题。如何解决这个..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:56:16.703

您正在使用`Microsoft.ACE.OLEDB.12.0;`（简称 ADE）。这意味着您需要在目标机器上安装适当的位。构建应用程序时选择的架构会使这变得复杂。

**您为 AnyCPU 构建：**

```
Install ADE 32bit on 32bit target machine
Install ADE 64bit on 64bit target machine 
```

**你为 x86 构建**

```
Install ADE 32bit on 32bit or 64bit target machine. 
```

如您所见，最简单的退出方法是针对 x86 架构编译您的应用程序。

# python - Python 脚本和标准输出

> ID：11078684
> 
> 赞同：3
> 
> 时间：2012-06-18T07:40:48.207
> 
> 标签：python, ipython

我有一个简单的 python 脚本（比如 simple.py），比如

```
a = 5
b = a + a
print(b) 
```

但我想要以下内容：输出结果，就好像这些命令在解释器中执行一样，比如

```
>>> a = 5
>>> b = a + a
>>> print(b)
10 
```

我想要这个在标准输出中:) 这可能以某种简单的方式吗？IPython 也是同样的问题。这个问题有助于编写一个小的“how-to”来使用 Python/IPython 解释器

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T07:47:10.157

可以使用该语句执行一行代码（以下是 Python 2 代码，如果你希望它是 Python 3 `exec`，请将 print 语句更改为）：`print()`

```
import sys

def run(filename):
    with open(filename) as f:
        for line in f:
            print ">>> ", line
            exec line

if __name__ == "__main__":
    try:
        run(sys.argv[1])
    except KeyError:
        print "You should pass one filename as parameter." 
```

我应该注意到它似乎还不能很好地处理多行语句（因为它正在单独评估每一行）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T09:33:47.530

我从@Simeon 的代码修改。

将下面的代码另存为**theprinter.py**

```
import sys
if __name__ == '__main__':
    c = {}
    for line in sys.stdin:
        sys.stdout.write('>>> %s' % line)
        exec(line, c) 
```

用法：**cat yourscript.py | python theprinter.py**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T07:51:42.173

根据您用于创建操作指南的工具，您可能还想使用[Sphinx](http://sphinx.pocoo.org/)，它是一种在 Python 中生成文档的工具。它能够输出多种格式，尤其是 HTML 和 PDF。它有一个非常好的[doctest](http://sphinx.pocoo.org/ext/doctest.html)模块，允许将 Python 指令放入您的文档中。它们将在您编译文档时运行，并且将显示说明及其结果。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T07:50:44.123

这应该是交互式嵌入和使用 Python shell（[ActiveState 代码配方](http://code.activestate.com/recipes/355319/)）的良好开端。

对于 IPython，您可能可以使用[IPShellEmbed](http://folk.uio.no/steikr/doc/python/ipython/node9.html)。

# iphone - 如何使用手势动作将一个 ImageView 添加到另一个 ImageView？

> ID：11078691
> 
> 赞同：0
> 
> 时间：2012-06-18T07:41:16.743
> 
> 标签：iphone, image

我正在开发一个应用程序。在那个 iam 中使用一个 uiimageview。并获取另一个图像视图并添加到第一个 imageview。并将 uitapgesturerecognizer 操作添加到第二个 imageview。如果第二个 imageview 可以出现在第一个 imageview 之外，如果我们点击它imageview 那么没有检测到手势动作。所以请告诉我如何解决这个问题。我的代码如下所示。

```
 UIImageView *img1=[[UIImageView alloc]initWithFrame:CGRectMake(100,100,500 ,500)];
 [self.view addsubview:img1];

float x=[[xvalues objectAtIndex:h] floatValue];
            float y=[[yvalues objectAtIndex:h] floatValue];
            UIImage *pinimage=[UIImage imageNamed:@"PINpurple.png"];
UIImageView *img3=[[UIImageView alloc]initWithFrame:CGRectMake(x-pinimage.size.width,y-pinimage.size.height,pinimage.size.width ,pinimage.size.height)];
            img1.userInteractionEnabled=YES;
            img3.userInteractionEnabled=YES;
 UITapGestureRecognizer *tap5=[[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(calculate:)];
            tap5.delegate=self;
            [img3 addGestureRecognizer:tap5];
            [img1 addSubview:img3]; 
```

这里 xvalues 和 yvalues 是两个数组。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:50:56.940

您是否尝试在该点调用 [super hitTest:point withEvent:event] ？

# sql - phpMyAdmin 不运行 SQL 并显示“正在加载”消息

> ID：11078695
> 
> 赞同：4
> 
> 时间：2012-06-18T07:41:43.477
> 
> 标签：sql, phpmyadmin

我安装了带有 LAMP 堆栈的 Ubuntu 12.04：

*   PHP 5.3.10
*   MySQL 5.5.24
*   阿帕奇 2.2.22
*   phpMyAdmin 3.4.10.1deb1。

phpMyAdmin 正在工作，除了当我运行 SQL 查询时，有时它运行正常，但在大多数情况下，phpMyAdmin 在黄色背景上显示“正在加载”消息，然后停止运行查询，就像什么都没发生一样，没有给出任何错误消息。

我尝试运行不正确的 SQL 代码，而 phpMyAdmin 没有显示任何错误，只是显示“正在加载”消息。

我通过旧版本的 LAMP 上的旧 phpMyAdmin 运行这些 SQL 查询没有问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T16:04:01.590

我在 WAMP 堆栈中也经历过这种情况——当查询的结果为空结果时似乎会发生这种情况。您可以通过从 mysql CLI 运行相同的查询来验证这一点，或者更改查询以确保某些记录与搜索匹配。

我认为这可能是 phpmyadmin 中的一个错误。

# c# - C# 读取西里尔字母

> ID：11078701
> 
> 赞同：1
> 
> 时间：2012-06-18T07:42:23.450
> 
> 标签：c#, character-encoding

大家好，例如，当我用记事本打开一个文本文件时，它会显示例如这个字符（对我来说这个输出没问题）

```
"ÍÜÞ ËÀÉÍ ÑÈÍÅÌÀ"
"ÕÅÐÎÍ ÊÎÌÌÜÞÍÈÊÅÉØÍÇ" 
```

但是当我尝试用 C# 阅读它时

```
OpenFileDialog ofd = new OpenFileDialog();
if (ofd.ShowDialog() == DialogResult.OK)
{
     text = File.ReadAllText(ofd.FileName);
     textBox1.Text = text;
} 
```

表明

```
"��� ���� ������"
"����� ��������������" 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T07:44:16.337

您需要将正确的编码传递给`File.ReadAllText`：

```
textBox1.Text = File.ReadAllText(ofd.FileName, encoding); 
```

但是，您需要事先*知道*编码，或者使用启发式方法来解决（总有可能您会得到错误的编码）。

对于您的实际用例，您知道编码是什么吗？

# java - 运行 jar 文件时抛出 java.lang.NoClassDefFoundError

> ID：11078713
> 
> 赞同：1
> 
> 时间：2012-06-18T07:43:26.847
> 
> 标签：java

我正在尝试在 Mac 上运行我的 jar 文件（尚未在任何其他平台上尝试过）。当我使用 java -jar MyApp.jar 运行时，出现以下错误

**堆栈跟踪：**

```
Exception in thread "main" java.lang.NoClassDefFoundError: org/apache/log4j/Logger
at tabalchi.MyLogger.getLogger(MyLogger.java:51)
at tabalchiApp.TabalchiApp.printSystemProps(TabalchiApp.java:117)
at tabalchiApp.TabalchiApp.main(TabalchiApp.java:37) 
```

因此，如您所见，主类已被识别。这是清单文件。--->

```
Manifest-Version: 1.0
Class-Path: . jars/log4j-1.2.16.jar jars/jfugue-4.1.0-20120125.jar jars/gervill.jar jars/AppleJavaExtensions.jar  
Main-Class: tabalchiApp.TabalchiApp
SplashScreen-Image: tabalchiApp/resources/splash.png 
```

<--- 以及jar文件中的文件夹结构如下。--->

```
META-INF/MANIFEST.MF
jars/AppleJavaExtensions.jar
jars/gervill.jar
jars/jfugue-4.1.0-20120125.jar
jars/log4j-1.2.16.jar
tabalchiApp/TabalchiApp.class   <-- this is the main class
tabalchiApp/otherClasses.....class 
```

<---

我已经阅读了很多关于运行 .jar 文件的帖子，但没有一个解决方案对我有用。我非常感谢您对此提供的帮助。

我正在通过从 eclipse 导出来创建 jar 文件。如果我导出到可运行的 jar 文件，那么我无法控制清单文件的制作。我需要在清单文件中添加启动图像。我在可运行的 jar 导出方面遇到了一些其他问题。因此这条路。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T07:49:22.123

似乎缺少。它在类路径`log4j`中期待。`jars/log4j-1.2.16.jar`

```
jars/log4j-1.2.16 
```

应该在文件夹结构下。

```
 jars/log4j-1.2.16.jar 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:52:15.413

您尝试在哪个目录中使用：java -jar MyApp.jar

您可以在类路径中指定包/目录以确保找到它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-19T16:57:43.373

好的，所以根据这个链接，

[http://docs.oracle.com/javase/tutorial/deployment/jar/downman.html](http://docs.oracle.com/javase/tutorial/deployment/jar/downman.html)

Class-Path 标头指向本地网络上的类或 JAR 文件，而不是 JAR 文件中的 JAR 文件或可通过 Internet 协议访问的类。要将 JAR 文件中的 JAR 文件中的类加载到类路径中，您必须编写自定义代码来加载这些类。例如，如果 MyJar.jar 包含另一个名为 MyUtils.jar 的 JAR 文件，则不能使用 MyJar.jar 清单中的 Class-Path 标头将 MyUtils.jar 中的类加载到类路径中。

所以，似乎我不能在我的 jar 文件中包含其他 jar 文件。

# java - 如何使用 MyFaces Trinidad 输入日期组件？

> ID：11078718
> 
> 赞同：1
> 
> 时间：2012-06-18T07:43:56.067
> 
> 标签：java, jakarta-ee, jsf-2, myfaces, trinidad

我有一个带有一些表单、xhtml 页面的 JSF 2.0 项目，在添加 MyFaces Trinidad Input Date 组件并运行应用程序后，当我单击 Input Date 图标时，它没有响应并且不执行任何操作？或者我收到此错误：

**/_ *ADFv* _.xhtml 在 ExternalContext 中找不到作为资源**

我正在使用 Eclipse Indigo 3.7.2、MyFaces Trinidad 2.0.1 和 JSF 2.0

我的 xhtml 页面：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:tr="http://myfaces.apache.org/trinidad">
<h:body>
<h:form>
<ui:composition template="mainForm.xhtml">
    <ui:define name="content">

    <tr:panelBox>

    <tr:panelCaptionGroup captionText="Request:">
        <tr:panelFormLayout>
            <tr:inputDate id="RequestDate" label="Request Date:" >
                <f:convertDateTime dateStyle="short"/> 
            </tr:inputDate>

            <tr:selectOneChoice id="RequestStatus" label="Request Status:" >
             <f:selectItem itemLabel="Enter Text"/>
             </tr:selectOneChoice>

             <tr:inputText id="Motivation" label="Motivation:" rows="5" columns="35"/>
        </tr:panelFormLayout>
    </tr:panelCaptionGroup>

    <tr:panelCaptionGroup captionText="Requestor:">
        <tr:panelFormLayout>
            <tr:selectOneRadio id="RadRequestor" layout="horizontal">
              <f:selectItem itemLabel="Employee" itemValue="Employee"/>
        <f:selectItem itemLabel="Committee" itemValue="Committee"/>
        <f:selectItem itemLabel="Group of Departments" itemValue="Group of Departments"/>
            </tr:selectOneRadio>

            <tr:selectOneChoice id="ComboRequestor">
             <f:selectItem itemLabel="Enter Text"/>
             </tr:selectOneChoice>

             <tr:inputText id="Contact" label="Contact Details:"/>

              <tr:inputText id="Contact1"/>

               <tr:inputText id="Contact2"/>

                <tr:inputText id="Contact3"/>

                 <tr:inputText id="Designation" label="Designation:"/>

                  <tr:inputText id="Department" label="Department:"/>
        </tr:panelFormLayout>
    </tr:panelCaptionGroup>

    <tr:panelCaptionGroup captionText="Request Details:">

            <tr:spacer height="15"/>
     <tr:selectOneChoice id="ComboRequestType" label="Request Type:">
             <f:selectItem itemLabel="Create/Update/Cancel/Deactivate"/>
             </tr:selectOneChoice>

             <tr:spacer height="20"/>

    <tr:panelTabbed position="above">
         <tr:showDetailItem text="Create">
         <tr:panelHeader text="Details of Change: Create Chart Field">

        <tr:panelFormLayout>
                    <tr:selectOneChoice id="ComboChart" label="Chart Segment:">
             <f:selectItem itemLabel="Chart Segment"/>
             </tr:selectOneChoice>
                    <tr:inputText id="ChartField" label="Chart Field:"/>
                    <tr:inputText id="Description" label="Description :"/>
                     <tr:selectOneChoice id="ComboAggregation" label="Aggregation Level :">
             <f:selectItem itemLabel="Aggregation Level"/>
             </tr:selectOneChoice>
                    <tr:inputText id="ParentField" label="Parent Field :"/>
                    <tr:selectOneChoice id="ComboPosting" label="Non-Posting/Posting Level:">
             <f:selectItem itemLabel="Non-Posting/Posting Level"/>
             </tr:selectOneChoice>
             <tr:selectOneChoice id="ComboAccount" label="Account Type:">
             <f:selectItem itemLabel="Account Type"/>
             </tr:selectOneChoice>
              <tr:selectOneChoice id="ComboBreakdown" label="Breakdown Allowed:">
             <f:selectItem itemLabel="Yes/No"/>
             </tr:selectOneChoice>
             <tr:inputText id="ParentClearing" label="Clearing Account Indicator:"/>
             <tr:inputText id="Motivation2" label="Motivation:" rows="5" columns="35" value="Motivation"/>
             <tr:inputDate id="RequestDate" label="Effective Date:">
                <f:convertDateTime dateStyle="short"/>
                    </tr:inputDate>
                </tr:panelFormLayout>
        </tr:panelHeader>
        </tr:showDetailItem>

         <tr:showDetailItem text="Change">
         <tr:panelHeader text="Details of Change: Activate/Deactivate Chart Field">
         <tr:commandButton text="Select"/> 

        <tr:panelFormLayout>
                    <tr:inputText id="ChartSegment" label="Chart Segment:"/>
                    <tr:inputText id="ChartField2" label="Chart Field:"/>
                    <tr:inputText id="Description2" label="Description:"/>
                     <tr:selectOneChoice id="ComboAction" label="Action:">
             <f:selectItem itemLabel="Activate/Deactivate"/>
             </tr:selectOneChoice>
             <tr:inputText id="Motivation3" label="Motivation:" rows="5" columns="35" value="Motivation"/>
             <tr:inputDate id="EffectiveDate" label="Effective Date:">
                <f:convertDateTime dateStyle="short"/>
                    </tr:inputDate>
                </tr:panelFormLayout>
        </tr:panelHeader>
        </tr:showDetailItem>

         <tr:showDetailItem text="Update">
         <tr:panelHeader text="Details of Change: Update Chart Field">
         <tr:commandButton text="Select"/> 

        <tr:panelFormLayout>
                    <tr:inputText id="ChangeDesc" label="Description of Change:" value="Necessary ?"/>
                    <tr:inputText id="Chartseg" label="Chart Segment:"/>
                    <tr:inputText id="ChartField3" label="Chart Field:"/>
                    <tr:inputText id="Description3" label="Description:"/>
                    <tr:inputText id="ParentField" label="Parent Field:"/>
                    <tr:spacer height="10" />
                    <tr:inputText id="NewFieldName" label="New Field Name:"/>
                    <tr:inputText id="NewDescription" label="New Description :"/>
                    <tr:panelHorizontalLayout halign="left">
                    <tr:commandButton text="Select"/>
                    <tr:inputText id="NewParentField" label="New Parent Field:"/>
                    </tr:panelHorizontalLayout>
             <tr:inputText id="Motivation4" label="Motivation:" rows="5" columns="35" value="Motivation"/>
             <tr:inputDate id="EffectiveDate2" label="Effective Date:">
                <f:convertDateTime dateStyle="short"/>
                    </tr:inputDate>
                </tr:panelFormLayout>
        </tr:panelHeader>
        </tr:showDetailItem>

         <tr:showDetailItem text="Cancel">
         <tr:panelHeader text="Details of Change: Cancel Chart Field">
         <tr:commandButton text="Select"/> 

        <tr:panelFormLayout>
                    <tr:inputText id="Chartseg2" label="Chart Segment:"/>
                    <tr:inputText id="ChartField4" label="Chart Field:"/>
                    <tr:inputText id="Description4" label="Description:"/>
                    <tr:spacer height="20" />
             <tr:inputText id="Motivation5" label="Motivation:" rows="5" columns="35" value="Motivation"/>
             <tr:inputDate id="EffectiveDate3" label="Effective Date:">
                <f:convertDateTime dateStyle="short"/>
                    </tr:inputDate>
                </tr:panelFormLayout>
        </tr:panelHeader>
        </tr:showDetailItem>

        </tr:panelTabbed>

    </tr:panelCaptionGroup>

    <tr:spacer height="20"/>

    <tr:panelButtonBar halign="center">
        <tr:commandButton text="Cancel"/>
        <tr:commandButton text="Submit"/>
        <tr:commandButton text="Save"/>
    </tr:panelButtonBar>

    </tr:panelBox>

    </ui:define>

</ui:composition>
</h:form>
</h:body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T17:56:12.157

我仍然找到解决方案，但如果您替换它，一个解决方案在 web.xml 中：

```
<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>*.xhtml</url-pattern>
</servlet-mapping> 
```

和：

```
<servlet-mapping>
    <servlet-name>Faces Servlet</servlet-name>
    <url-pattern>/faces/*</url-pattern>
</servlet-mapping>` 
```

它似乎工作正常。

# javascript - 如何在 IE8 中使用 XDomainRequest 实现 SOAP 调用

> ID：11078719
> 
> 赞同：1
> 
> 时间：2012-06-18T07:43:59.967
> 
> 标签：javascript, web-services, soap, cross-domain, xdomainrequest

我试图在 IE8 中使用肥皂调用 WCF 服务，但我似乎无法理解 xdr 的工作原理。它们可以用于将 xml 传递给肥皂端点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-07-01T14:03:27.230

> 它们可以用于将 xml 传递给肥皂端点吗？

我们基本上是在讨论具有正确格式的 XML SOAP 有效负载的 POST 请求，您可以肯定地使用[XDomainRequest](http://msdn.microsoft.com/en-us/library/ie/cc288060%28v=vs.85%29.aspx)对象来做到这一点。这是一个基本示例：

```
<script type="text/javascript">
    var xdr;

    function soapTest() {
        var data =  '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:tem="http://tempuri.org/">' +
                    '   <soapenv:Body>' +
                    '      <tem:Add>' +
                    '         <tem:a>1</tem:a>' +
                    '         <tem:b>2</tem:b>' +
                    '      </tem:Add>' + 
                    '   </soapenv:Body>' +
                    '</soapenv:Envelope>';

        if (window.XDomainRequest) {
            xdr = new XDomainRequest();
            if (xdr) {
                xdr.onerror = function() { alert("an error occured"); };
                xdr.ontimeout = function() { alert("timeout"); };
                xdr.onload = function() { alert(xdr.responseText); }
                xdr.timeout = 10000;
                xdr.open("post", "http://SomeServer/SoapCalculator");
                xdr.send(data);
            } else {
                alert("Failed to create XDR");
            }
        } else {
            alert("XDR doesn't exist");
        }
    }
</script> 
```

示例中的有效负载[用于公开此合同的 Web 服务](http://www.html2xml.nl/Services/Calculator/Version1/Calculator.asmx?wsdl)。您可以在响应标头的服务器上基于该 WSDL 创建一个模拟 Web 服务`Access-Control-Allow-Origin`。然后，如果一切顺利，您应该会看到如下响应：

![在此处输入图像描述](../Images/8422c0ef3992e362dbec8c6acf702ef2.png)

然后，您可以[解析响应](https://stackoverflow.com/questions/649614/xml-parsing-of-a-variable-string-in-javascript)以提取您需要的数据，而不是打印原始字符串。

对于故障排除，还请查看以下帖子：[XDomainRequest - Restrictions, Limitations and Workarounds](http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx)。

# sharepoint - 手动部署的 Sharepoint 工作流在网站集工作流中不可见

> ID：11078720
> 
> 赞同：0
> 
> 时间：2012-06-18T07:44:06.897
> 
> 标签：sharepoint, sharepoint-2007, workflow-foundation, moss, sharepoint-workflow

我正在为 MOSS 2007 开发一个三级工作流，我使用**stsadm installfeature**和**activatefeature**将它发布到我们的测试环境，它运行良好。

[我按照这篇文章发布了新的工作流程。](http://www.documentmanagementworkflowinfo.com/workflow/how-to-manually-deploy-visual-studio-2005-workflow-sharepoint.htm)

在测试会话之后，我尝试将其发布到相同环境的实时环境中，并且新的工作流程在**站点设置**>**站点功能**（状态为活动）中可见，但不会显示在**站点设置**>**站点集合中工作流程**。

我不知道是什么问题，因为在测试环境中一切正常。

关于系统的一些信息： Windows 2003 server Sharepoint (MOSS 2007 with SP3) Visual Studio 2008

谢谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-26T09:14:06.137

我将此问题报告给 MS 官方支持，几天后，他们通过一些电话解决了我的问题。

我犯了一个大错误，我为 Feature Id 属性生成了一个新的 GUID，但是我忘记为 Workflow Id 生成新的 GUID，这会导致错误，因为有两个 WF 具有相同的 GUID。在我改变它之后，它开始运作良好。

```
<Feature Id="Generate new GUID !!!!"
Title="Default Title"
Description="This feature is a workflow that ..."
Version="12.0.0.0"
Scope="Site"
xmlns="http://schemas.microsoft.com/sharepoint/">
<ElementManifests>
<ElementManifest Location="workflow.xml" />
</ElementManifests>
<Properties>
<Property Key="GloballyAvailable" Value="true" />
</Properties>
</Feature>

<Elements xmlns="http://schemas.microsoft.com/sharepoint/">
<Workflow
Name="My Workflow"
Description="This workflow ..."
Id="Generate new GUID !!!!"
CodeBesideClass="ProjectName.Workflow1"
CodeBesideAssembly="ProjectName, Version=1.0.0.0, Culture=neutral, PublicKeyToken=publicKeyToken"
TaskListContentTypeId="0x000"
AssociationUrl="_layouts/MyAssocForm.aspx"
InstantiationUrl="_layouts/MyInitForm.aspx"
ModificationUrl="_layouts/MyModForm.aspx"
StatusUrl="_layouts/WrkStat.aspx">
<Categories/>
<MetaData>
<Modification_GUID_Name>
Name of Modification
</Modification_GUID_Name>
</MetaData>
</Workflow>
</Elements> 
```

# java - ArrayList 的问题

> ID：11078721
> 
> 赞同：-2
> 
> 时间：2012-06-18T07:44:10.753
> 
> 标签：java, arraylist

我无法将对象存储在`ArrayList`.

我想`ArrayList`用一个名为`Variable`. 它有 2 个字符串属性：名称和值。问题是当我`Variable`向列表中添加一个新对象时，之前添加的`Variable`对象的属性似乎为空。此外，新对象不会被添加到列表的末尾，而是被插入到第一个位置。

这是代码：

```
ArrayList<Variable> variables = new ArrayList<Variable>();

Variable author = new Variable();
author.setName("Author");
author.setValue("lusyo"); 

variables.add(author);

System.out.println(variables.get(0).getName());

Variable scenario = new Variable();
author.setName("Scenario");
author.setValue("Login"); 

variables.add(scenario);

System.out.println(variables.get(0).getName());
System.out.println(variables.get(1).getName()); 
```

输出是：

```
Author
Scenario
null 
```

如您所见，`scenario`它位于索引 0 处，但不应该如此。我无法弄清楚这段代码发生了什么。

预先感谢您的帮助 ！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T07:46:18.330

```
Variable scenario = new Variable();
author.setName("Scenario");
author.setValue("Login"); 
```

那里有什么打扰你吗？`:)`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T07:45:33.077

您正在设置作者变量属性两次 :) 一次在这里

```
Variable author = new Variable();
author.setName("Author");
author.setValue("lusyo"); 
```

然后 ：

```
Variable scenario = new Variable();
author.setName("Scenario");
author.setValue("Login"); 
```

但是您从不设置场景属性。

试试这个 ：

```
Variable scenario = new Variable();
scenario.setName("Scenario");
scenario.setValue("Login"); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-18T07:46:04.820

错误在那里，你会发现它：

```
Variable scenario = new Variable();
author.setName("Scenario");
author.setValue("Login"); 
```

# ruby-on-rails-3 - Rails::Generator::Base:Class 的未定义方法“write_inheritable_attribute”（NoMethodError）

> ID：11078723
> 
> 赞同：14
> 
> 时间：2012-06-18T07:44:14.780
> 
> 标签：ruby-on-rails-3

我正在使用 Rails，Rails 服务器突然停止工作。它工作正常，我使用了以下命令 [platform windows 7]

```
gem install -v=2.3.5 rails 
```

当我使用时`rails s`，它给出了以下错误：

```
c:/Ruby193/lib/ruby/gems/1.9.1/gems/rails-2.3.5/lib/rails_generator/options.rb:32:in `default_options': undefined method `write_inheritable_attribute' for Rails::Generator::Base:Class (NoMethodError)
    from c:/Ruby193/lib/ruby/gems/1.9.1/gems/rails-2.3.5/lib/rails_generator/base.rb:90:in `<class:Base>'
    from c:/Ruby193/lib/ruby/gems/1.9.1/gems/rails-2.3.5/lib/rails_generator/base.rb:85:in `<module:Generator>'
    from c:/Ruby193/lib/ruby/gems/1.9.1/gems/rails-2.3.5/lib/rails_generator/base.rb:48:in `<module:Rails>'
    from c:/Ruby193/lib/ruby/gems/1.9.1/gems/rails-2.3.5/lib/rails_generator/base.rb:6:in `<top (required)>'
    from c:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:55:in `require'
    from c:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:55:in `require'
    from c:/Ruby193/lib/ruby/gems/1.9.1/gems/rails-2.3.5/lib/rails_generator.rb:34:in `<top (required)>'
    from c:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:55:in `require'
    from c:/Ruby193/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:55:in `require'
    from c:/Ruby193/lib/ruby/gems/1.9.1/gems/rails-2.3.5/bin/rails:14:in `<top (required)>'
    from c:/Ruby193/bin/rails:23:in `load'
    from c:/Ruby193/bin/rails:23:in `<main>'

$ rails -v
Rails 2.3.5
$ ruby -v
ruby 1.9.3p194 (2012-04-20) [i386-mingw32] 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-02T06:09:07.517

我有同样的问题，但这是拥有`gem rmagick`.

我运行了以下内容：

```
gem uninstall rmagick 
gem cleanup 
```

然后在我的堆栈中重新运行`bundle`，它再次对我有用。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-18T07:53:04.453

我已经解决了这个问题。使用以下命令，问题就消失了

```
 gem install rails 
```

这将安装更新的导轨并再次找到所有工作。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-12-12T08:34:35.350

跑步`bundle exec rails s`对我有用。

我的项目使用的是 Rails 3.x，但是当我运行时，`rails -v`我得到`2.3.17`了我之前工作的项目使用的版本。不知何故安装此版本必须设置为“默认”。

有人可以解释一下吗？

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-10-25T06:33:43.640

如果您使用的是最新版本的 rails 3 或 rails 4，请使用`class_attributes`而不是`write_inheritable_attribute`，即

```
class_attribute :variable_name
self.variable_name = value 
```

代替

```
write_inheritable_attribute(:variable_name, value) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-13T22:17:07.333

我遇到了这个问题，碰巧我在 rvm 中使用了错误的 ruby​​ 和 gemset。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2014-06-02T02:07:00.257

（@jeremy-f 和 @alex-villa 正在正确地识别问题本身。）

这里的问题是`rails ...`Rails 版本 2 中的命令是生成器，相当于`rails new ...`Rails 3+ 中的命令。`rails s`生成一个名为“s”的新 Rails 2 应用程序的 Rails 2 命令也是如此（而我们大多数人在编写时都`rails s`打算使用 Rails 3，即启动服务器！）

如果您安装 gem，它通常会在路径中安装其二进制文件，因此您应该能够按照 OP 所说的那样执行`gem install rails -v 2.3.15`then来导致此错误。`rails s`

修复它的三种方法：

*   `gem install rails`安装较新版本的 Rails（您可能必须指定版本 >= 3.0）
*   运行应用程序`bundle exec rails s`（仅当您的 Gemfile 中有 Rails 3 时）
*   运行 Rails 2 项目的常用方法很简单`script/server`

# html - HTML5进度条动画

> ID：11078726
> 
> 赞同：0
> 
> 时间：2012-06-18T07:44:25.077
> 
> 标签：html, progress-bar

我在我的应用程序中使用 HTML5 进度条。我想知道是否有任何方法可以控制进度条的动画速度。我想在某个时间间隔后显示进度，我使用了 javascript 的 setTimeout 方法，以便在呈现屏幕后设置值。但是动画太快了。有没有办法控制它？

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T08:02:50.867

我不确定我理解您所说的“动画”是什么意思，但这里有一个在控制进度速度的同时使用进度条的示例：http: [//jsfiddle.net/526hM/](http://jsfiddle.net/526hM/)

html:

```
<progress max="200" value="1"></progress>
<div id="val"></div> 
```

脚本：

```
$(document).ready(function(){
    var interval = 2, //How much to increase the progressbar per frame
        updatesPerSecond = 1000/60, //Set the nr of updates per second (fps)
        progress =  $('progress'),
        animator = function(){
            progress.val(progress.val()+interval);
            $('#val').text(progress.val());
            if ( progress.val()+interval < progress.attr('max')){
               setTimeout(animator, updatesPerSecond);
            } else { 
                $('#val').text('Done');
                progress.val(progress.attr('max'));
            }
        }

    setTimeout(animator, updatesPerSecond);
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T08:04:11.260

这是示例。JavaScript 函数：

```
window.onload = addTenPercent();

function addTenPercent() {
    var bar = document.getElementById("progressBar");
    setInterval(addTenPercent, 100);
    bar.value += 5;
}; 
```

HTML：

```
<progress id="progressBar" max="100" value="0"></progress> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-06-13T03:50:05.933

Mantas 上面的答案看起来不错并且可以工作（不必使用 jQuery），但我想知道我们是否也可以使用 setTimeout 函数？100 次迭代后退出的递归函数中的 setTimeout 是否也有效？从上面复制 Mantas 的代码并稍作改动：

JavaScript：

```
function onWindowLoad(){ // to be called by onload event
    var bar = document.getElementById("progressBar");
    addOne();
}

function addOne() {
    if (bar.value < 100) { // this is the max value of the bar and the # of iterations
        setTimeout(addOne, 80); // this literal value controls the speed
        bar.value += 1;    
    }else{  
        return;
    } 
} 
```

HTML：

```
<progress id="progressBar" max="100" value="0"></progress> 
```

# azure - 天蓝色缓存预览

> ID：11078736
> 
> 赞同：1
> 
> 时间：2012-06-18T07:45:14.530
> 
> 标签：azure, azure-caching

我在我的电脑上尝试了新 sdk 附带的新 azure preview。我放置了一个带有缓存预览的工作角色，并放置了一个具有 30% 缓存大小的协同定位角色。在我的控制器上，我输入了以下代码：

```
 [OutputCache(Duration=int.MaxValue, VaryByParam="none")]
    public ActionResult Index()
    {
        ViewBag.Message = "Welcome to ASP.NET MVC!";
        ViewBag.Id = Microsoft.WindowsAzure.ServiceRuntime.RoleEnvironment.CurrentRoleInstance.Id;
        return View();
    } 
```

现在我通过具有 4 个实例的模拟器运行 worker 角色。结果是，每次我看到一个不同的 id - 这意味着输出缓存永远不会与所有 4 个实例一起使用（要清楚，我将输出缓存配置为与缓存预览一起使用）。

只有当我将额外的缓存工作者角色作为专用角色时，一切才开始正常工作。

我的问题是：我是否需要额外的工作人员角色才能真正使缓存预览正常工作？- 这意味着不使用 azure appfabric 缓存的权衡是放置额外的机器

我做了什么工作，它应该与网络角色一起工作吗？

谢谢

编辑：这是我的 web.config 的另一部分

```
<dataCacheClients>
<tracing sinkType="DiagnosticSink" traceLevel="Error" />
<dataCacheClient name="default">
  <autoDiscover isEnabled="true" identifier="NugetTest" />
  <!--<localCache isEnabled="true" sync="TimeoutBased" objectCount="100000" ttlValue="300" />
</dataCacheClient> 
```

如果我的标识符有 NugetTest （这是我的网络角色 - 我有 4 个），每次我切换机器时我都会得到不同的缓存。如果我将标识符更改为我的工人角色，我会得到结果

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-21T05:09:31.673

您可以在应用程序的 web.config 的提供程序配置中添加**applicationName标记吗？**如果不添加，实例将不会共享缓存。请注意**applicationName**标签。这应该在**专用或托管缓存方案**中为 web.config 添加 web.config 。如果这解决了您的问题，请回复。

```
<caching>
  <outputCache defaultProvider="DistributedCache">
    <providers>
      <add name="DistributedCache" type="Microsoft.Web.DistributedCache.DistributedCacheOutputCacheProvider, Microsoft.Web.DistributedCache" cacheName="<cacheName>" applicationName ="<anyName>" dataCacheClientName="<dataCacheClientName>" />
    </providers>
  </outputCache>
</caching> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T12:23:23.533

我无法重现此问题。我总是看到相同的实例，并且我在浏览器中使用 Ctrl+F5（因此排除了浏览器缓存）。请确保您已按照[http://www.windowsazure.com/en-us/develop/net/how-to-guides/cache/](http://www.windowsazure.com/en-us/develop/net/how-to-guides/cache/)中的说明配置了输出缓存提供程序。

```
<!-- If output cache content needs to be saved in a Windows Azure
     cache, add the following to web.config inside system.web. -->
<caching>
  <outputCache defaultProvider="DistributedCache">
    <providers>
      <add name="DistributedCache"
            type="Microsoft.Web.DistributedCache.DistributedCacheOutputCacheProvider, Microsoft.Web.DistributedCache"
            cacheName="default"
            dataCacheClientName="default" />
    </providers>
  </outputCache>
</caching> 
```

最好的祝福，

明旭。

# java - 将 JKS 的公钥导入 Pem，反之亦然

> ID：11078737
> 
> 赞同：0
> 
> 时间：2012-06-18T07:45:23.810
> 
> 标签：java, openssl, jks

我有一个`Java Server`明白的`.jks format`和明白的客户`.pem`。我已经生成`Server key-pair`using`keytool`和`Client key-pair`using`openssl`但是对于相互身份验证，我如何导入`client's public key into server's JKS`和`Server Public key into client .pem`归档。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:20:14.247

最新版本的 keytool 了解 PEM。所以在那些情况下，一个使用

```
keytool -importcert ... 
```

并假设您已经导入了您已签署客户端证书的证书（作为 trustcacert），您应该很好。否则，还要使用 -trustcacert 导入它（或者如果它是自签名的 - 将该标志添加到导入中）。

如果您使用的是较旧的 java，例如 RHEL，那么您需要先将其转换为 DER 格式。转换通过以下方式完成：

```
openssl x509 -in client.pem -out client.der -outform DER
openssl x509 -in client.pem -out client.net -outform NET 
```

应该就是这样。在客户端——通常不会将服务器证书导入客户端证书——而是将它们单独导入您的应用程序。因此，要回答这个问题，需要知道您的客户端应用程序是什么。

# iphone - 在 Interfacebuilder 中创建自定义视图并在代码中使用它

> ID：11078745
> 
> 赞同：0
> 
> 时间：2012-06-18T07:45:43.990
> 
> 标签：iphone, objective-c, ios

我在应用程序中创建了一个显示 UITableView 的视图。它几乎总是会充满结果（显然），但是当它没有任何结果时，我想显示另一个视图，告知用户他/她如何填充表格。

我想在 interfacebuilder 中设计该视图。我必须在代码中检查数据源是否为空，以便在两个不同的 nib 之间切换。如何实例化和配置在 Interfacebuilder 中创建的视图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:51:07.723

最简单的方法是在xib中添加视图并使其可见

现在在`viewDidLoad`

获取两个视图

```
UIView *noDataView = [self.view viewWithTag:222];
UITableView *tableView = [self.view viewWithTag:111];
//Hide both of them or only the noDataView until you know if you have data from the dataSource or not 
```

检查您的数据源

```
//hasElements do you have any element to show?
if(hasElements)
{
    noDatView.hidden = YES;
    tableView.hidden = NO;
}
else
{
    noDatView.hidden = NO;
    tableView.hidden = YES;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:53:06.223

您可以根据条件加载nib文件。您可以编写如下类别：

```
self.view = (UIView *)[self loadNib:@"SecondView" inPlaceholder:self.view];

- (UIView *)viewFromNib:(NSString *)nibName
{
    NSArray *xib = [[NSBundle mainBundle] loadNibNamed:nibName owner:self options:nil]; 
    for (id view in xib) { // have to iterate; index varies
        if ([view isKindOfClass:[UIView class]]) return view;
    }
    return nil;
}

- (UIView *)loadNib:(NSString *)nibName inPlaceholder:(UIView *)placeholder
{
    UIView *nibView = [self viewFromNib:nibName];
    [nibView setFrame:placeholder.frame];
    self.view = nibView;
    //[self.view insertSubview:nibView aboveSubview:placeholder];
    //[placeholder removeFromSuperview];
    return nibView;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T08:04:20.417

其他答案为您提供了可能的技术解决方案，但我建议如果您使用标准的 Apple 设计指南，您可能甚至不需要担心。例如，在屏幕上的某处，您应该有一个带有标识符“Add”（显示加号图标）的条形按钮项。然后，不要对如何添加项目进行冗长（通常本地化程度不高）的描述，而只需为一个空白部分设置一个标题，上面写着“没有项目”，用任何适合您的表项目的复数名词替换项目。例如，对于我正在开发的射箭相关应用程序：

![带有明显条形按钮项的空表视图](../Images/c141138667653896dfdbf0213414c6ab.png)

请注意编辑按钮当前是如何被禁用的，因此无需解释，因为此时他们唯一能做的就是点击添加按钮（Appstore 上的屏幕截图将向他们展示他们在此之后可以看到的内容）。

# image - OpenCV：处理 12 位灰度原始数据

> ID：11078748
> 
> 赞同：5
> 
> 时间：2012-06-18T07:45:53.000
> 
> 标签：image, image-processing, opencv

过去我使用 OpenCv 处理 32 位 .bmp 文件，并取得了成功的结果。如何利用 Opencv 函数处理***12 位原始***数据？我的处理将主要是诸如查找 1000 个像素之类的操作。

**编辑** 我得到的文件是 .bin 文件。并且图像中的像素是这样放置的（文件的所有内容都是这样的，因为我正在拍一张白纸）：

```
(FF)(0F)(FF)(0F)(FF)(0F)(FF)(0F)(FF)(0F)(FF)(0F)(FF)(0F) 
```

显然我可以对此进行 16 位处理。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T17:14:03.107

好吧，我想对这张图片进行 16 位处理。这个秘密随后被[另一个问题](https://stackoverflow.com/questions/11086649/what-is-the-bmp-format-for-gray-scale-images)所吸引。

对于 16 位，我将不得不切换到 PNG 而不是 bmp！

[该文档](http://opencv.willowgarage.com/documentation/cpp/reading_and_writing_images_and_video.html)说我可以在 OpenCV 中使用 16 位 PNG

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T08:23:47.840

据我所知，OpenCV 只能正确处理 8、16 和 32 位图像。

取决于你想做什么，你应该

*   将[您的 12 位图像转换为 8 位](https://stackoverflow.com/questions/10403841/convert-12-bit-bayer-image-to-8-bit-rgb-using-opencv)（假设它是 12 位拜耳编码图像）
*   或通过用零填充值手动将其转换为 16。从我在[这里](http://www.fourcc.org/rgb.php)找到的内容来看，这可能已经在您的图像上完成了。

我建议你在做任何事情之前仔细看看你的像素是如何准确地放置在你的图像中的。这将极大地帮助您了解什么是最好的。一个好方法是使用[bless](http://home.gna.org/bless/)或其他十六进制编辑器

**编辑：**

[取自这里](http://www.luminous-landscape.com/tutorials/understanding-series/u-raw-files.shtml)，您的数据（我认为）编码为 16 位，并带有填充

只需使用 Opencv 从 16 位转换为 8 位就可以了，因为它是在转换为 JPEG 时所做的。你至少尝试过吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-10-04T11:10:11.633

左移这些位并将它们存储为 16 位。

对于单色相机：

```
cv::Mat imgOpenCV = cv::Mat(cv::Size(img->width, img->height), CV_16UC1, (char*)img->imageData, cv::Mat::AUTO_STEP); //Convert the raw image
imgOpenCV.convertTo(imgOpenCV, CV_16UC1, 1.0*(2^4), 0.0); //Shift left 4 bits 
```

对于彩色相机：

```
// Convert the image using the manufacturer's SDK (Imperx in this case)
IpxImage* imgConverted = nullptr;
IpxError err = IPX_CAM_ERR_OK;
IpxSize imgSize;
imgSize.height = img->height;
imgSize.width = img->width;
uint32_t pixelType = II_PIX_BGR12;
err = IpxCreateImage(&imgConverted, imgSize, pixelType);
err = IpxBayer_ConvertImage(hBayer, img, imgConverted);

// Create OpenCV converted image
cv::Mat imgOpenCV = cv::Mat(cv::Size(imgConverted->width, imgConverted->height), CV_16UC3, (char*)imgConverted->imageData, cv::Mat::AUTO_STEP); //Convert the image
imgOpenCV.convertTo(imgOpenCV, CV_16UC3, 1.0*(2^4), 0.0); //Shift left 4 bits 
```

You could also use the manufacturer's SDK to convert to 16 bit directly, but I suspect this scales the bit depth instead of shifting it in some cases. I'd rather preserve the raw bit depth information, so doing the shift myself prevents me from having to look under the hood when I switch manufacturers (GigE cameras force you to use the manufacturer SDK unfortunately).

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-06-18T08:37:28.063

OpenCV 没有任何功能支持 12 位数据。

将数据读取为“char”。3 个字符 = 2x12 位数据。该数据可以方便地转换为 16 位数据：

1.  将 char1 左移 4 位并存储到 short1。
2.  将其与 (char2 & 0xF0) 添加以获取 short1 中的前 12 位数据。
3.  将 (char2 & 0x0F) 左移 8 位并存储到 short2。
4.  将其与 char3 相加以获取 short2 中的下一个 12 位数据。

# magento - 为什么在网关取消订单的状态没有转换为“payment_pending”？

> ID：11078751
> 
> 赞同：2
> 
> 时间：2012-06-18T07:45:56.430
> 
> 标签：magento, magento-1.6

我正在使用 Magento 社区 ver1.6.1.0。
我在 Magento wiki [http://www.magentocommerce.com/wiki/2_-_magento_concepts_and_architecture/order_management上找到了这个状态图](http://www.magentocommerce.com/wiki/2_-_magento_concepts_and_architecture/order_management)

![在此处输入图像描述](../Images/d7f95537430b084623925e8f31950066.png)

我的问题是状态切换，如粗体红线所示。
当用户离开我的（商家）网站时，状态是新的（状态=待定）。但是如果客户没有完成支付（在支付网关），状态仍然是“pending”，而应该是“pending_payment”。在“pending_payment”状态下，工作人员会打电话给客户询问任何问题。

所以我的问题是，为什么按照这张图进行状态转换？还是我错过了什么？我该如何解决这个问题？因为很难区分 COD“待处理”订单和此类“中止”订单。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-21T05:27:06.150

我添加了一个 cron 作业来将状态从“待处理”更改为“待付款”。它完成了这项工作，并且可以配置为注意不转换新订单。还可以添加一个简单的邮件功能，以在进行此转换时通知工作人员。

完整的答案（由我）在这里：[https ://stackoverflow.com/a/11131787/558094](https://stackoverflow.com/a/11131787/558094)

# perl - 如何在 Perl 中关闭浏览器窗口

> ID：11078760
> 
> 赞同：0
> 
> 时间：2012-06-18T07:46:54.070
> 
> 标签：perl

我有以下代码在 Perl 中打开浏览器

```
$IE = Win32::OLE->new("InternetExplorer.Application");
$IE->{visible} = 1; #BTW what is visible doing here?
$IE->Navigate("http://google.com");
# Now I want to close the current window, how would I do this? 
```

我试过：

`$IE->close();`和`$IE->close;`

没啥事儿。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T08:03:42.537

试试这个我已经测试过它并且它有效：

```
 $IE->Quit(); 
```

# css - 如何以这种方式在 Compass 中获取 css sprite 类？

> ID：11078767
> 
> 赞同：0
> 
> 时间：2012-06-18T07:47:35.400
> 
> 标签：css, compass-sass, sass

```
.offbeat {background-position: x y }
.active .offbeat {background-position: x y } 
```

因为在活动状态下我想改变图像的位置。

在我的情况下选择的主动平均值

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:51:59.097

对于样式，只需添加活动类 -

```
<div class="offbeat active">Some Content</div> 
```

如果您使用的是 jQuery -

```
$('.offbeat').click(function(){
  $(this).toggleClass('active')
}); 
```

并更改图像的背景位置 -

```
.active{
  background-position: x y; /*New Position*/
} 
```

不要用另类继承活动类

尝试添加 -

```
.offbeat:active{...............} 
```

不了解指南针，但这就是 CSS 的工作原理！

# templates - 如何在 Play2 中向反向路由添加参数？

> ID：11078769
> 
> 赞同：2
> 
> 时间：2012-06-18T07:47:41.813
> 
> 标签：templates, scala, playframework-2.0

我的主页有一个用于搜索的 GET 表单：

```
 val searchForm = Form (
      tuple(
        "address" -> nonEmptyText,
        "latitude" -> nonEmptyText,
        "longitude" -> nonEmptyText
      )
    ) 
```

搜索结果页面本身将表单参数保存在会话中。然后，用户从结果导航到位置的详细信息页面。

在详细信息页面的顶部有让用户导航回搜索结果的面包屑。所以在那里我需要一个附加表单参数的链接：

```
<a href="@routes.Application.search()...add something here?...">Search for "@session.get("search_address")"</a> 
```

*   如何在不手动构建和 url 编码的情况下添加表单参数？
*   有没有更好的方法来处理这种情况？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:55:19.217

搜索动作应该这样定义：

```
GET  /search  controllers.Application.search(address: String, latitude: String, longitude: String) 
```

然后你这样称呼它（`get`只有当你能确定地址会在那里时才使用）：

```
@routes.Application.search(session.get("address").get, ...) 
```

# objective-c - FJSTransitionController 在 View Controller 中的设置和使用不是主应用程序委托

> ID：11078773
> 
> 赞同：0
> 
> 时间：2012-06-18T07:47:53.567
> 
> 标签：objective-c

我正在尝试设置 Corey Floyd 的 FJSTransitionController。我的应用程序使用主视图控制器来管理主视图导航。

我还通过源代码为 ARC 修复它。

遵循指示，在我的主要代表 .h 中，我在通常的位置：

```
FJTransitionController* mainTransitionController;

@property (nonatomic,retain) FJTransitionController* mainTransitionController; 
```

代表 .m 具有以下内容

```
@synthesize mainTransitionController 
```

而在 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions

```
mainTransitionController=[[FJTransitionController alloc] init]; // do I need to instantise?
[self.window addSubview:mainTransitionController.view];

[mainTransitionController setViewControllerClass:[[mainViewController sendMissionsPanelViewController] class] forKey:@"missionView"]; 
```

最后一行是抱怨 FJTransitionController 没有@interface？

请提供任何帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T09:12:50.263

好吧，今天有点脑残，但快速查看头文件发现没有 setViewControllerClass，所以我只使用了 setViewController 方法。

```
[mainTransitionController setViewController:[mainViewController sendMissionsPanelViewController] forKey:@"missionView"]; 
```

似乎是类型安全的。还来测试你！

编辑：该方法 setViewControllerClass 在标头中公开，因此它必须是另一个问题。

# ant - 是否可以完全关闭 ivy 的缓存？

> ID：11078774
> 
> 赞同：1
> 
> 时间：2012-06-18T07:47:58.080
> 
> 标签：ant, build, ivy

我说的是 ivy 2，而不是较新的版本。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T20:59:43.117

关闭缓存会影响性能。关闭它会失去依赖管理的一大好处，因为你会强制每个构建下载所有内容......

话虽如此，随着时间的推移，缓存有时会变得陈旧，尤其是在远程模块可能具有不断变化的依赖关系的情况下（可能在开发过程中发生）。为了解决这个问题，我总是包含一个额外的构建目标来清除我的常春藤缓存：

```
<target name="clean-all" depends="clean">
    <ivy:cleancache />
</target> 
```

这为您提供了两全其美的体验。禁用缓存是通过首先运行清除来完成的，如下所示：

```
ant clean-all build 
```

# xslt - 连接 xslt 中的两个变量（非数字和/或数字）

> ID：11078775
> 
> 赞同：5
> 
> 时间：2012-06-18T07:48:08.380
> 
> 标签：xslt

我在 xslt 中有两个变量，我无法将它们添加并分配给另一个变量，任何帮助将不胜感激。

```
<xsl:variable name="Book" select="hummpty" />
<xsl:variable name="Book1" select="andro" />
<xsl:variable name="Total">
<xsl:value-of select="$Book + $Book1/>
</xsl:variable> 
```

当我尝试打印“总计”时，我得到的值是 NaN。我如何实现这一目标？实现这一点后，我想将其分配为属性值。例如：

```
<Book totakBook="$Total" /> 
```

类似上面的东西。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2012-06-18T08:16:50.377

如果你真的想连接字符串值，试试这个：

```
<xsl:value-of select="concat($Book, $Book1)" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:57:17.050

试试这个

```
 <xsl:value-of select="sum($Book + $Book1)"/> 
```

前提是两个变量都包含有效的数值。

# java - 如何创建一个四位数的密码 Android 布局

> ID：11078781
> 
> 赞同：7
> 
> 时间：2012-06-18T07:48:46.590
> 
> 标签：java, android, layout

我想为具有数字键盘并采用四位数字来确定它是否与预设密码值匹配的 Android 应用程序创建一个布局。

我见过一些应用程序使用它，所以我会认为它是某种描述的高级小部件。

我能找到的唯一与我想要的很接近的是：

```
<EditText
    android:id="@+id/editText1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_weight="1"
    android:ems="10"
    android:inputType="numberPassword" >

    <requestFocus />
</EditText> 
```

但这并不是我真正想要的。

任何输入都会很棒，并提前感谢。

编辑：这是我想要的 iOS 保管箱应用程序开始屏幕的图像：

![Dropbox iOS 密码屏幕](../Images/cd9dc01299de5ea4b959b31dd2a54518.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2017-06-06T16:35:23.150

> 我是Android的初学者。当我坚持编码时，我总是用来引用stackoverflow。我从 stackoverflow 学到了很多东西。这是我第一次敢于回答这个问题。如果我错了，请原谅我，并且非常感谢有关编码或在 stackoverflow 中编写代码的方式的任何建议。谢谢你..

我在 Fragments 中做过类似的事情。在 xml 中为所有 4 个 EditText 取 4 个 EditText 并将 maxLength 属性设置为 1。您可以根据需要修改 EditText。

注意：在 Stock Android KeyBoard 中，可能会或可能不会为 DEL(BackSpace) 调用 OnKey 方法。

```
public class VerifyCodeFrag extends Fragment implements TextWatcher,View.OnKeyListener,View.OnFocusChangeListener
                        {
                            private EditText et_digit1, et_digit2, et_digit3, et_digit4;//In this et_digit1 is Most significant digit and et_digit4 is least significant digit
                            private int whoHasFocus;
                            char[] code = new char[4];//Store the digits in charArray.
                            @Override
                            public void onCreate(Bundle savedInstanceState)
                            {
                                super.onCreate(savedInstanceState);
                            }

                            @Override
                            public View onCreateView(LayoutInflater inflater, ViewGroup container,
                                                     Bundle savedInstanceState)
                            {
                                View view=inflater.inflate(R.layout.fragment_verify_code, container, false);
                                initializeView(view);
                                et_digit1.requestFocus();//Left digit gets focus after adding of fragment in Container
                                return view;
                            } 
```

此方法用于 intilize 视图。

```
private void initializeView(View view)
  {                          
 et_digit1 = (EditText) view.findViewById(R.id.et_vfcode_digit1);
 et_digit2 = (EditText) view.findViewById(R.id.et_vfcode_digit2);
 et_digit3 = (EditText) view.findViewById(R.id.et_vfcode_digit3);
 et_digit4 = (EditText) view.findViewById(R.id.et_vfcode_digit4);
 setListners();
  } 
```

该方法是为每个 EditTexts 设置监听器。

```
private void setListners()
  {
   et_digit1.addTextChangedListener(this);
   et_digit2.addTextChangedListener(this);
   et_digit3.addTextChangedListener(this);
   et_digit4.addTextChangedListener(this);

   et_digit1.setOnKeyListener(this);
   et_digit2.setOnKeyListener(this);
   et_digit3.setOnKeyListener(this);
   et_digit4.setOnKeyListener(this);

   et_digit1.setOnFocusChangeListener(this);
   et_digit2.setOnFocusChangeListener(this);
   et_digit3.setOnFocusChangeListener(this);
   et_digit4.setOnFocusChangeListener(this);
     } 
```

这些是接口 OnFocusChangeListner 的覆盖方法，通过它我正在检查哪个 EditText 当前具有焦点，在 afterTextChnged 方法（TextWatcher 的覆盖方法）中从相应的 EditText 框中获取数字很有用。

```
 @Override
  public void onFocusChange(View v, boolean hasFocus)
  {
  switch(v.getId())
  {
  case R.id.et_vfcode_digit1:
  whoHasFocus=1;
  break;

  case R.id.et_vfcode_digit2:
  whoHasFocus=2;
  break;

  case R.id.et_vfcode_digit3:
  whoHasFocus=3;
  break;

  case R.id.et_vfcode_digit4:
  whoHasFocus=4;
  break;

   default:
   break;
   }
   } 
```

这些是 TextWatcher 接口的覆盖方法。在此 afterTextChanged(override method) 中，我从 EdiTexts 中获取数字，并将它们存储在 charArray 的相应索引中。一旦用户在 EditText 中输入数字，下一个 EditText 将通过 requestfocus 方法获得焦点（示例：et_digit2.requestFocus()）。

```
@Override
public void beforeTextChanged(CharSequence s, int start, int count, int    after)
{
}

@Override
public void onTextChanged(CharSequence s, int start, int before, int count)
{
}  
@Override
public void afterTextChanged(Editable s)
{
switch (whoHasFocus)
{
case 1:
if(!et_digit1.getText().toString().isEmpty())
{
code[0]= et_digit1.getText().toString().charAt(0);
et_digit2.requestFocus();
}
break;

case 2:
if(!et_digit2.getText().toString().isEmpty())
{
code[1]= et_digit2.getText().toString().charAt(0);
et_digit3.requestFocus();
}
break;

case 3:
if(!et_digit3.getText().toString().isEmpty())
{
code[2]= et_digit3.getText().toString().charAt(0);
et_digit4.requestFocus();
}
break;

case 4:
if(!et_digit4.getText().toString().isEmpty())
{
code[3]= et_digit4.getText().toString().charAt(0);
}
break;

default:
break;
}
} 
```

此方法将用作删除（BackSpace）键。
在此覆盖方法中，我正在检查 EditText 是否为空和 DEL（按下键盘中的退格键）。如果为真，则先前的 EditText 将获得焦点。

```
@Override
public boolean onKey(View v, int keyCode, KeyEvent event)
{
if (event.getAction() == KeyEvent.ACTION_DOWN)
{
if (keyCode == KeyEvent.KEYCODE_DEL)
{
switch(v.getId())
{
 case R.id.et_vfcode_digit2:
 if (et_digit2.getText().toString().isEmpty())
 et_digit1.requestFocus();
 break;

 case R.id.et_vfcode_digit3:
 if (et_digit3.getText().toString().isEmpty())
 et_digit2.requestFocus();
 break;

case R.id.et_vfcode_digit4:
if (et_digit4.getText().toString().isEmpty())
et_digit3.requestFocus();
break;

default:
break;
}
}
}
return false;
}
} 
```

示例图像。

> [1]：[https ://i.stack.imgur.com/DAc9y.jpg](https://i.stack.imgur.com/DAc9y.jpg)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-18T07:51:28.657

您是否尝试添加以下内容：

```
android:maxLength="4"
android:password="true" 
```

这导致更像密码的方式。

更新：我会实现四个 EditText 并使它们每个 maxLength="1"。如果您将它们水平对齐，这应该可以工作:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:56:15.540

> 我想为具有数字键盘并采用四位数字来确定它是否与预设密码值匹配的 Android 应用程序创建一个布局。

搜索电话客户端数字键盘（例如 SipDroid（[拨号盘链接](http://code.google.com/p/sipdroid/source/browse/trunk/res/layout-finger/dialpad.xml)）、IMSDroid），根据您的需要重建布局（例如删除#、* 和其他您不需要的键）。

使用来自@Tim Messerschmidt 的建议属性

想出一种安全的方式来存储和检索该 4 位密码。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-07-05T02:02:20.887

最后，我创建了多个自定义小部件。

有一个键盘小部件。它继承自`TableLayout`并具有四行三个按钮。每个按钮修改一个字符串 - 添加数字或删除它们。

我添加的另一个小部件称为 PINEntry。它需要一个 int 来指定输入了多少位并相应地显示该信息。

我在另一个视图中同时使用这两个小部件来重新创建密码屏幕。

# java - 引用（而不是复制）一维数组的子范围？

> ID：11078784
> 
> 赞同：1
> 
> 时间：2012-06-18T07:48:54.837
> 
> 标签：java, arrays

假设我有以下方法签名

```
int f (int[] values) 
```

我这样称呼它：

```
int[] myValues = {1,2,3,4,5}
f (myvalues) 
```

然后，由于数组是对象，而对象是引用类型，f 接收对 int 的*引用*，并且可以更改它们的值，以便调用者可以看到更改。

**现在，我如何才能`f`在不复制的情况下接收对数组元素 2、3、4 的引用（即从索引 1 到 3 的子范围）`myValues`？** 就像是

```
f ((int[]) myvalues[1]) 
```

哪个当然不会编译（并且会保持打开数组的大小）但可能会传达我正在寻找的想法？

在其他语言中，我可以使用指针算法来计算 的地址`myValues[2]`，并将其视为整数数组的开头，并传递显式计数参数。（当然，相当类型不安全。）

**我可以在不将三个元素的值复制到中间数组的情况下在 Java 中执行此操作吗？**

子问题：作为值类型的数组元素是否存储在连续的地址中，或者数组是否由引用整数的元素组成？难道这个问题没有意义，因为即使后者的答案是“是”，我也无法在此基础上构建，因为那将是 Java 源代码不能构建在它之上的实现细节？它甚至不能——它没有语义，对吧？

*编辑：愚蠢的索引错误*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T07:59:18.840

您可以使用`List`而不是数组。

```
int[] myValues = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
List<Integer> myValuesList = Arrays.asList(myValues);

// change the argument of function to List
doSomething(List<Integer> input);

// and then just give the function a range of the myValues.
// This List is still backed by your array myValues, it just
// a view of the original array.
doSomething(myValuesList.subList(2,3)); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T07:56:39.857

如果不创建容器的新实例，则无法返回数组（也是集合）中的项目范围/子集。

我不能不猜就回答第二个问题，但是**如果**JVM 想为一个数组分配 2 个内存区域，它可以在你不知道的情况下做到这一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T08:00:01.667

在 C/C++ 中，这将非常容易通过一些指针算术来完成，但在 Java 中，我不太确定它是否可能。

您可以做的最好的事情是使用[copyOfRange](http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#copyOfRange%28int%5B%5D,%20int,%20int%29)方法，尽管这会产生**深层复制**。

# php - 在 kohana 中发送电子邮件

> ID：11078795
> 
> 赞同：3
> 
> 时间：2012-06-18T07:49:39.143
> 
> 标签：php, email, kohana, kohana-3

嗨朋友如何通过 kohana 3.0 发送电子邮件

我试过但没有工作我的代码是这样的

```
 $subject = ' : Message to Leet Street';
 $from = array('Clarence', 'ratnaraju.java@gmail.com');
 email::send('ratnaraju.bonam@gmail.com', $from , $subject, 'hi how r u Brother ');
 url::redirect(); 
```

配置文件是：

```
return array
(
'default' => array(
    'transport' => 'smtp',
    'options' => array
        (
        'hostname' => 'smtp.gmail.com',
        'username' => 'ratnaraju.bonam@gmail.com',
        'password' => 'Ratna',
        'port' => '465',
    ),
) 
```

);

提前致谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-08-05T12:58:45.933

使用此模块发送电子邮件： [https](https://github.com/shadowhand/email) ://github.com/shadowhand/email 它需要供应商目录中的此供应商： [https ://github.com/swiftmailer/swiftmailer](https://github.com/swiftmailer/swiftmailer)

# mysql - 选择缺失的行并按日期分组（对数据库具有只读访问权限）

> ID：11078798
> 
> 赞同：0
> 
> 时间：2012-06-18T07:49:48.473
> 
> 标签：mysql, sql

我有一个数据集，我需要从中计算每天分组的所有行出现次数，并将它们汇总为以下格式的数据集：

```
|     date     |  count  |
|  2001-01-01  |    11   |
|  2001-01-02  |    0    |
|  2001-01-03  |    4    | 
```

问题是，某些时间段的某些数据丢失了，应该创建新的日期以使计数为零。考虑到同样的问题，我搜索了各种主题，从他们那里我了解到，可以通过创建一个临时日历表来保存所有日期并将结果数据集与日期表连接来解决。

不过，我对我正在使用的数据库只有读取权限，因此我无法创建单独的日历表。那么这是否可以仅在单个查询中解决？如果没有，我总是可以在 PHP 中执行此操作，但我更喜欢更直接的方式来执行此操作。

**编辑：**只是根据评论中提出的问题进行澄清：缺少的日期是特定的用户给定时间范围所必需的。例如，查询可能是：

```
SELECT date(timestamp), count(distinct(id)) 
FROM 'table' 
WHERE date(timestamp) BETWEEN date("2001-01-01") AND date("2001-12-31")
GROUP BY date(timestamp) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:10:07.230

试试这个...

```
SELECT Date, COUNT(*) Count
FROM yourtable
GROUP BY Date 
```

这肯定有效！

让我知道，如果它有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T09:52:35.930

SQL**真的不**适合这种工作：/

这是可能的，但真的很混乱，我**强烈**建议你不要这样做。

最简单的方法是拥有一个单独的日历表，但正如您所说，您只有对数据库的读取访问权限。

另一种是使用这种技巧生成序列：

```
SELECT @rownum:=@rownum+1 rownum, t.*FROM (SELECT @rownum:=0) r, ("yourquery") t; 
```

正如我已经告诉你的那样，我不会进入它，它真的很丑:(

# drupal - 提交分类时重定向 Drupal 7

> ID：11078799
> 
> 赞同：1
> 
> 时间：2012-06-18T07:49:49.220
> 
> 标签：drupal, drupal-7, drupal-taxonomy

在 Drupal 7 上，我想在提交术语时重定向到后端的主列表；默认情况下，如果您提交一个术语，您将停留在同一个添加的页面上。

我有这个代码..

```
function MODULE_form_taxonomy_form_term_alter(&$form, &$form_state, $form_id) {
        if($form['#term']['vocabulary_machine_name'] == 'foo') {
            $form['actions']['submit']['#submit'][]='form_foo_submit';
        }
}

function form_foo_submit($form, &$form_state) {
  $form_state['redirect'] = 'admin/content/foo_view_list';
} 
```

好吧，我把这些放在 Drupal 7 上并且工作正常，但是这个词不能正确保存！

有谁能够帮我？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T16:36:07.623

尝试 drupal_goto 而不是重定向方法：

```
function form_foo_submit($form, &$form_state) {
  ...
  ...
  drupal_goto('admin/content/foo_view_list');'
} 
```

这最终会奏效吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-19T07:32:45.723

您需要将代码修改为：

```
function MODULE_form_taxonomy_form_term_alter(&$form, &$form_state, $form_id)
{
    if($form['#term']['vocabulary_machine_name'] == 'foo')
    {
        $form['#redirect'] = 'YOUR_NEW_PATH';
    }
} 
```

希望这会有所帮助……穆罕默德。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-23T16:38:45.383

```
function MODULE_form_taxonomy_form_term_alter(&$form, &$form_state, $form_id) {
        if($form['#term']['vocabulary_machine_name'] == 'foo') {
            $form['#submit'][]='form_foo_submit';
        }
}
function form_foo_submit($form, &$form_state) {
  $form_state['redirect'] = 'admin/content/foo_view_list';
} 
```

这个例子对我有用

# ios - iOS 存储指针

> ID：11078801
> 
> 赞同：0
> 
> 时间：2012-06-18T07:49:58.663
> 
> 标签：ios, ios5

在我的 ios 应用程序中，我想存储一个对象的引用。这个对象可以是接口 A、B、C 或 D 中的一个实例。我知道它总是会是这四个中的一个，但永远不知道是哪一个。我如何在我的代码中表示这个对象？

真诚的，佐利

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:55:48.627

将其表示为类型 ID。

```
id ptr; 
```

另外，请注意您可以将类型**id**专门用于某些协议。

```
id <SomeProtocol>; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T08:08:52.037

我知道您应该创建该对象的共享实例。例子：-

1.  创建一个名为 SavedReference 的新类。
2.  并在实现文件中写入此代码

代码：

```
static SavedReference *sharedInstance = nil;  //if using iOS5 or above no need to nil it.    
+(SavedReference*)sharedInstance    
{     
    @synchronized(self)
    {   
         if(!sharedInstance)     
         {   
              sharedInstance = [[self alloc]init];
              return sharedInstance;
         }
     }
    return nil; 
}

-(id)init
{
    self = [super init];    
    if(self)    
    {
        //initialize variables
    }

    return self;
 } 
```

并将此类称为`[[SavedReference sharedInstance] write ur method]`

# unix - 文件的第二列等于一些变量

> ID：11078810
> 
> 赞同：2
> 
> 时间：2012-06-18T07:50:57.317
> 
> 标签：unix, awk

如果文件的第二列等于以下数字之一：

```
65,81,83,97,99,113,129,145,147,161,163,177     #To be read 65 OR 81 OR 83 OR 97 OR 99 etc.. 
```

然后我需要在输出文件中打印整行，所以输入以下内容：

```
samtools view myfile.bam | awk '{for (i=65,81,83,97,99,113,129,145,147,161,163,177) if ($2==i) ; print$0} > output.bam 
```

那行得通吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T08:07:09.890

您可以构建一个`dict`包含`BEGIN`块中数字列表的内容。
然后`dict`用作过滤器。

```
awk '
BEGIN {
    dict[65]
    dict[81]
    # skip
    dict[177]
}
$2 in dict' file.txt 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T09:44:32.363

如果您的列表很长，而不是有很多明确的分配：

```
awk 'BEGIN {
    numlist = "65,81,83,97,99,113,129,145,147,161,163,177"
    split(numlist, a, ",")
    for (i in numlist) {
        nums[a[i]]
    }
}
$2 in nums' inputfile 
```

# php - 使用 GROUP_CONCAT 时出错？

> ID：11078816
> 
> 赞同：0
> 
> 时间：2012-06-18T07:51:25.247
> 
> 标签：php, mysql

我有一个样本数据

```
mobile(id, name)
mobile(1, 'Nokia')
mobile(2, 'Samsung')
mobile(3, 'Motorola') 
```

和类别

```
categories(id, name, mobile_id)
categories(1, 'mobile', '1,2,3') 
```

和mysql：

```
SELECT cat.name as cat_name, GROUP_CONCAT(mobile.name) as mobile_name
FROM `mobile` as mobile
LEFT OUTER JOIN `categories` AS cat ON cat.mobile_id = mobile.id 
```

这个结果如何：

```
(1,"mobile","Nokia,Samsung,Motorola") 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:54:47.007

你应该尝试添加

```
GROUP cat.name 
```

在您的查询结束时

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:55:26.330

您需要添加`GROUP BY cat.id` ，因为`GROUP_CONCAT`它是一个`GROUP BY (Aggregate) Function`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:55:36.690

您应该创建一个新表“mobiles_categories”，将手机与其各自的类别耦合，如下所示：

`mobile_category`

*   id_category - id_mobile
*   1 - 1
*   1 - 2
*   1 - 3
*   2 - 1
*   2 - 2

这样做你可以简单地加入类别。

# android - 可以在设置中识别正在执行的 JUnit 测试用例吗？

> ID：11078817
> 
> 赞同：1
> 
> 时间：2012-06-18T07:51:25.303
> 
> 标签：android, junit

我已经为我的应用程序中的一个活动编写了一个 Android JUnit 测试。Activity 是模态的，可以通过启动意图进行配置。

我想编写测试方法来测试不同的模式。这将涉及 setup 方法中的 setActivityIntent 调用，根据我们正在运行的测试用例配置 Activity。

我的问题是，如何确定要从 setup 方法运行哪个测试用例？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:46:46.173

事实证明，这个问题的答案非常简单。junit.framework.TestCase 有一个 getName 方法，它返回当前测试用例的名称。完美的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-07-19T04:13:36.237

在 Junit 4.X 中，您可以对 TestName 类做同样的事情：

```
public class MyTest {

  @Rule public TestName name = new TestName();

  @Before
  public void before() {
    System.out.println("running...", name.getMethodName());
  }
} 
```

# iphone - 区分 UIsegmentedontrol 值更改是来自用户还是来自系统

> ID：11078821
> 
> 赞同：0
> 
> 时间：2012-06-18T07:51:40.547
> 
> 标签：iphone, objective-c, ios

您好，我有一个带有两个段的 UISegmentedControl。选定的段在某些情况下以编程方式修改，而在其他情况下由用户修改。我只想在更改归因于用户操作时触发选择器（仅当用户实际按下分段控件而不是当系统执行 segmentedControl.selectedSegmentIndex = ...）。任何的想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T07:58:07.813

如果你这样做

```
[self.segment setSelectedSegmentIndex:1]; 
```

这不会在段上调用 ​​valueChanged 的​​操作，那么您的问题是什么？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T08:03:38.250

```
[segmentedControl addTarget:self action:@selector(segmentAction:) forControlEvents: UIControlEventValueChanged];

- (IBAction)segmentAction:(id)sender {
 // valuechanged connected function

        UISegmentedControl *segControll = (UISegmentedControl *)sender;

    if (segControll.tag == 0) {

       }
        else {

            isProgramaticallyChanged = NO; //important

        }

} 
```

# button - 在哪里可以找到更改集中的按钮覆盖

> ID：11078826
> 
> 赞同：4
> 
> 时间：2012-06-18T07:51:58.830
> 
> 标签：button, salesforce, changeset

我想通过出站更改集在自定义对象上移动标准按钮覆盖（克隆），但我无法在可能的更改中找到这个位置。

按钮覆盖存储在哪个类别中？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T13:07:54.190

自定义按钮和链接列在“按钮或链接”下的更改集中。要部署分配给它们的页面布局，请务必将其添加到“页面布局”下的更改集中。

如果您想部署一个被 Visualforce 页面覆盖的按钮，您将需要部署整个对象、Visualforce 页面、其 Apex 类以及 Visualforce 页面中的任何组件。此外，一旦您部署了页面和类，您将需要进入新环境并授予对它们的适当配置文件的访问权限，否则导航到该页面会给它们一个“权限不足”错误。

如果您希望更精细地控制要部署的特定元数据组件（并且您不只是想在目标组织中手动执行），那么您应该考虑使用 Salesforce 提供的基于 ANT 的元数据迁移工具。在迁移元数据的子组件方面，它具有更多的功能和灵活性。[这](http://wiki.developerforce.com/page/Migration_Tool)是一个包含一些入门视频的链接，[这里](http://www.salesforce.com/us/developer/docs/daas/index.htm)是文档。

# perl - 在模具中使用未初始化的值...（perl）

> ID：11078829
> 
> 赞同：2
> 
> 时间：2012-06-18T07:52:02.777
> 
> 标签：perl, die

当我运行我的脚本时，我得到了错误：

```
Use of uninitialized value in die at /usr/local/bin/tacms/subscriptionScheduler.pl line 101.
Died at /usr/local/bin/tacms/subscriptionScheduler.pl line 101. 
```

第 101 行是这样一行：

```
$contentRow = $contentSth->fetchrow_hashref() or die $dbh->errstr; 
```

澄清一下，当我更改关键字时会出现此错误。如果我使用我的测试关键字`VERSETEST AND QUOTETEST`，我不会收到此错误。但是当我使用关键字时`VERSE and QUOTE`，我遇到了这个错误。

有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T09:06:28.237

当没有更多行要[`fetchrow_hashref`](http://search.cpan.org/perldoc?DBI#fetchrow_hashref)返回时，返回是完全正常的。`undef`既然`$dbh->errstr`也回来`undef`了，那一定是发生了什么事。

这就是我通常将该[`RaiseError`](http://search.cpan.org/perldoc?DBI#RaiseError)属性设置为 true 的原因，这样我就不必在每次调用 DBI 后检查错误。这样，我知道`fetchrow_hashref`返回时`undef`它表示结果结束而不是错误。

如果不使用`RaiseError`，可以如下检查错误：

```
unless ($contentRow = $contentSth->fetchrow_hashref()) {
  die $dbh->errstr if defined($contentSth->err);
  print "No more results\n"; # if we get here
} 
```

# symfony - 为什么教义会更新我表单的每个对象？

> ID：11078832
> 
> 赞同：4
> 
> 时间：2012-06-18T07:52:26.090
> 
> 标签：symfony, doctrine-orm

我在一个庞大的集合（超过 10k 个对象）上有一个很大的 Symfony 2 表单。出于简单的原因，我无法显示数千个对象的形式。我正在展示大约 300 个对象的形式。

我发现无法将集合过滤到表单中，因此执行以下操作：

```
 $bigSetOfObjects = array(
        'myObject' => $this
                ->getDoctrine()
                ->getRepository('MyObject')
                ->findBy(... )
    );

    $form = $this->createForm(new MyObjectForm(), $bigSetOfObjects);

    // And a little further
    if ($this->getRequest()->getMethod() == 'POST') {
        $form->bindRequest($this->getRequest());
        $this->getDoctrine()->getEntityManager()->flush();
    } 
```

一切都很好。表单以正确的值显示，更新也可以正常工作。数据已正确保存到数据库中。问题是 Doctrine**对每个对象执行一个更新语句，**这意味着整个页面大约有 300 个 SQL 语句，这会导致**性能问题**。

我不明白的是我只更新了表单的几个值，而不是全部。那么为什么 Doctrine 不能检测到更新的对象，从而只更新数据库中的那些对象呢？

有什么我做错了吗？我可能忘记了？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-07-02T16:29:20.290

默认情况下，Doctrine 将逐个属性地检测托管对象的更改。如果没有属性发生变化，那么它不应该为它执行更新查询。您可能需要检查表单是否不会无意中更改任何内容。

[但是，您可以通过修改跟踪策略](http://docs.doctrine-project.org/en/latest/reference/change-tracking-policies.html)来更改原则确定对象已更改的方式。由于您正在处理大量对象，因此您可能需要更改`DEFERRED_EXPLICIT`跟踪策略。使用此方法，您将专门调用：

```
$em->persist($object); 
```

在要更新的实体上。您必须实现自己的逻辑来确定**对象是否**需要持久化。

# jquery - jquery：选择除自己的孩子以外的元素

> ID：11078835
> 
> 赞同：1
> 
> 时间：2012-06-18T07:52:39.967
> 
> 标签：jquery

我需要选择某个类的元素，除了 $(this) 的子元素。诀窍是没有元素具有 id 属性，并且父元素和子元素的类相同，所以

```
<div class="onedoc">1
    <div class="onedoc">1.1
        <div class="onedoc">1.1.1</div>
    </div>
    <div class="onedoc">1.2</div>
</div>
<div class="onedoc">2</div>
<div class="onedoc">3</div> 
```

在这个例子中，如果 $(this) 是 1（第一个元素），我需要选择包含 1.1.1、2 和 3 的元素

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-18T07:57:50.233

像这样的东西应该工作：

```
$('.onedoc').not($(this).children()); 
```

[**演示**](http://jsfiddle.net/6FDMd/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T08:05:13.490

```
 $('.onedoc:not(:has(.onedoc))'); 
```

您可以通过执行以下操作指定目标：

```
 $('.onedoc:not(:has(.onedoc))', $target); // where $target is some element you selected 
```

[http://jsfiddle.net/HackedByChinese/PqxbL/](http://jsfiddle.net/HackedByChinese/PqxbL/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:56:04.327

您可以使用`jquery remove()`：[http](http://api.jquery.com/remove/) ://api.jquery.com/remove/ 。

选择所有`onedoc`元素，然后使用从 DOM 中删除子元素`remove()`

例如

```
$('.onedoc').remove($(this).children()); 
```

根据评论编辑：如果您不想包含节点本身，那么也将其删除：

```
$('.onedoc').remove($(this).children()).remove($(this)); 
```

# java - 测试用例中的 FileNotFoundException 使用 Spring 资源加载器与 Maven 一起运行

> ID：11078838
> 
> 赞同：2
> 
> 时间：2012-06-18T07:53:03.647
> 
> 标签：java, spring, maven, junit, filenotfoundexception

我们的程序正在发送邮件。对于发送邮件，它包含一个附件。

该项目是用maven设置的。JUnit 测试用例首先加载 spring 配置。Spring 正在使用其[DefaultResourceLoader](http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/core/io/DefaultResourceLoader.html)加载文件。当直接在工作区中运行它时，它运行良好，但是作为一个 Maven 测试它失败了。

资源加载器的 Spring 配置：

```
<property name="defaultResourceLoader">
    <bean class="org.springframework.core.io.DefaultResourceLoader" />
</property> 
```

实施类：

```
@Service
public class SomeClassA {

     @Autowired
     private DefaultResourceLoader defaultResourceLoader; 

     @Value("${mailLogoPath}")
     private String mailLogo; 

     public void someMethod(){
         String filePath = defaultResourceLoader.getResource(mailLogo).getFile().getAbsolutePath();   
     }
} 
```

异常指向实际问题和区别：

> java.io.FileNotFoundException：类路径资源 [templates/efmaillogo.jpg] 无法解析为绝对文件路径，因为它不驻留在文件系统中：jar:file:/C:/IBM/workspace/efMy10/ef-mvxsrv -reactor/ef-mvxsrv-service-resources/target/ef-mvxsrv-service-resources-1.5.23-SNAPSHOT.jar!/templates/efmaillogo.jpg at org.springframework.util.ResourceUtils.getFile(ResourceUtils.java: 204) 在 org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:52) 在 SomeClassA.someMethod(SomeClassA.java:9)

Spring 尝试在 jar 中查找文件。在 eclipse 中将其作为 junit 测试运行时，一切正常，因为 spring 直接在工作区中找到该文件。但是，当使用 maven 运行相同的单元测试时，它会失败，因为它找不到文件，因为它在不同模块的 jar 中。另一个模块中的文件是不同模块需要的，所以我不想移动它。在部署了所有内容的应用程序服务器上，它也可以正常工作，因为 .ear 文件已展开。

我想知道是否有其他方法可以使用 Spring 访问文件，这样我就不必使用 maven 跳过这个测试用例。

**更新** 尝试使用以下方法查找文件：

```
 String filePath = defaultResourceLoader.getResource(mailLogo).getURL.getFile(); 
```

但是，它现在在实际发送邮件时失败了`Transport.send(msg)`。

> java.io.FileNotFoundException: 文件:\C:\Users\uhe.m2\repository\com\clavisit\ef\mvxsrv\ef-mvxsrv-service-resources\1.5.23-SNAPSHOT\ef-mvxsrv-service-resources- 1.5.23-SNAPSHOT.jar!\templates\efmaillogo.jpg（文件名、目录名或卷标语法不正确。）在 com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1141) at javax .mail.Transport.send0(Transport.java:195) 在 javax.mail.Transport.send(Transport.java:124) 在 com.clavisit.ef.ep.service.integration.handler.mail.SendMail.sendMessage(SendMail .java:153)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T08:58:07.910

字符串文件路径 = defaultResourceLoader.getResource(mailLogo)。**获取URL( )** .getFile();

上述代码更改必须按照此线程[http://www.coderanch.com/t/474047/Spring/Spring-cannot-find-file-classpath中的讨论工作](http://www.coderanch.com/t/474047/Spring/Spring-cannot-find-file-classpath)

# image - 是否有一种算法可以确定是否可以在屏幕上显示一张或两张图像？（单页与双页）

> ID：11078841
> 
> 赞同：0
> 
> 时间：2012-06-18T07:53:30.013
> 
> 标签：image, algorithm, image-resizing

给定已知数量的具有相同宽高比和尺寸的图像，是否有一种算法可以确定在分辨率可能不同的屏幕上呈现它们的最佳方式？又名安排他们单页或双页。

例如，确定您是否可以在屏幕上显示两个图像，或者在给定宽度/高度的情况下，“检测”只有一个看起来更好。看看是否最好让它们适合宽度，在它们上方和/或下方有一些空白空间，或者适合高度，在左边/右边有空白空间。

我已经做了一些尝试来确定我自己的这种算法，但我并不完全满意，我希望可能有更好的解决方案或一些建议。

不幸的是，正如我发现的那样，它不像“宽度 > 高度 => 两张图片，否则一张图片”那么简单。

总结一下，现在我首先根据图像高度进行所有计算，然后检查屏幕宽度是否大于 1.5 x 我的图像宽度。更大意味着我会降低高度以适应两张图像，更小意味着我只呈现一张图像。尽管如此，对于图像尺寸/屏幕分辨率的某些组合，我仍然得到一些不希望的结果。

如果您偶然发现了同样的问题并且有一些代码或提示可用，我们将不胜感激。

PS 如您所知，这是关于展示杂志。

[编辑] 我忘了提到我正在使用 javascript（香草，无插件/框架）进行编码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T08:01:32.943

您可以使用 kd-tree 算法。kd-tree 层次结构将屏幕细分为矩形，并使用类似于二叉树的数据结构来存储信息。它在许多应用程序中使用，例如显示磁盘空间。Jquery 插件 Masonry 可以做同样的事情。我还会看一下 Jquery 插件树形图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-25T14:54:08.110

要回答我自己的问题，似乎没有这样的算法，或者至少我找不到。建议的 kd-tree 是一个 waaaaaaaaaaaaaay 过于复杂的过度杀伤解决方案，不实用。

最后，我选择了我自己想出的那个：

*   首先我检查窗口高度，看看最大的图像是否合适。如果没有，我会检查某个百分比（75%）是否有。如果它仍然很大，我会缩小高度
*   一旦确定适合的高度，我会检查两个图像是否适合总宽度。如果他们这样做，这意味着我有一个双页模式，否则是单页模式

这是一个香草 javascript 实现

```
var selCase = 0; //an "ok" var
//pageH = array with page heights
//pageW = array with page widths
//currentWH = window height
//currentWW = windowWidth

 for(i = pageH.length - 1; i >= 0; i--) {
    if(!selCase) {
        if(pageH[i] <= currentWH) { //if the page height is lower than the total height
            if(pageW[i] * 2 <= currentWW) { //if we have room for double pages
                currentMode = 'L';
                currentPW = pageW[i];
                currentPH = pageH[i];
                selCase = 11;
            }else {
                if(currentWW > currentWH) { //if the width is bigger, double-page mode is prefered
                    if((pageW[i] * 1.5) >= (currentWW - 20)) { //there wouldn't be much space left for double-pages 
                        currentMode = 'P';
                        currentPW = pageW[i];
                        currentPH = pageH[i];
                        selCase = 12;
                    } // else: the height fits, but not the width so a smaller height is required
                }else { //standard portrait mode
                    if(pageW[i] <= (currentWW - 20)) {
                        currentMode = 'P';
                        currentPW = pageW[i];
                        currentPH = pageH[i];
                        selCase = 13;
                    }
                }
            }   
        }else { //we check to see if maybe we can shrink the page a little to fit in the total height
            var sPerc; //scale percentage
            sPerc = currentWH * 100 / pageH[i];
            if(sPerc >= perc) {
                var newW = pageW[i] * sPerc / 100; 
                if(newW * 2 <= (currentWW - 20)) { //if we have room for two also-scaled pages
                    currentMode = 'L';
                    currentPW = Math.floor(newW);
                    currentPH = currentWH;
                    selCase = 21; 
                }else { 
                    if(currentWW > currentWH) { //same as before
                        if((newW * 1.5) >= (currentWW - 20)) { //only one scaled page fits
                            currentMode = 'P';
                            currentPW = Math.floor(newW);
                            currentPH = currentWH;
                            selCase = 22;
                        }
                    }else {
                        if(newW < (currentWW - 20)) {
                            currentMode = 'P';
                            currentPW = Math.floor(newW);
                            currentPH = currentWH;
                            selCase = 23;
                        }
                    }
                }
            }
        }
    }       
} 
```

# objective-c - UIView 动画不会回到原始状态

> ID：11078843
> 
> 赞同：1
> 
> 时间：2012-06-18T07:53:35.340
> 
> 标签：objective-c, background-color, uiviewanimation, commitanimations, beginanimations

我试图 `UIView`来回发光两次。我下面的动画可以工作，但在它完成后它会进入我动画它的状态，而不是原始状态。我将 autoreverses 设置为 YES 那么为什么它不回到原始状态？

```
[UIView beginAnimations:nil context:NULL];
[UIView setAnimationRepeatCount:2];
[UIView setAnimationRepeatAutoreverses:YES];
[UIView setAnimationDuration:0.3];
[UIView setAnimationBeginsFromCurrentState:YES];
textDetailView.layer.backgroundColor = [UIColor colorWithRed:0 green:1 blue:0 alpha:0.3].CGColor;
[UIView commitAnimations]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T08:17:32.477

动画反转，但值不反转。动画完成后，它会将自己从视图中移除（实际上是从视图层中移除），并且视图似乎具有已在其上设置的属性。

您可以在完成块或您正在使用的旧 UIView 动画的选择器中设置该值。

或者，对于值不变的动画，您可以从使用 Core Animation 中受益（它不会挂起该值（在动画之后视图返回到其原始状态））。

您需要导入 QuartzCore.framework 并包含`QuartzCore/QuartzCore.h`以使其工作。

还需要将其更新为以下内容：

```
CABasicAnimation *myColorAnimation = [CABasicAnimation animationWithKeyPath:@"backgroundColor"];
[myColorAnimation setAutoreverses:YES];
[myColorAnimation setRepeatCount:2];
[myColorAnimation setDuration:0.3];
[myColorAnimation setToValue:(id)[myColor CGColor]];
// the default "from value" is the current value
[[textDetailView layer] addAnimation:myColorAnimation forKey:@"myColorKey"]; 
```

# xcode - 如何在表格视图中将导航栏设置为顶部？

> ID：11078844
> 
> 赞同：2
> 
> 时间：2012-06-18T07:53:47.930
> 
> 标签：xcode, storyboard, uinavigationbar

如何在情节提要界面构建器的表格视图中将导航栏设置为顶部？是否可以？

如果我在我的表格视图中添加导航栏，我只会在我的记录下得到它！

我正在使用 Xcode 4.3.2

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-06-18T08:50:39.067

您不应该自己添加导航栏。当场景嵌入导航控制器或导航堆栈的一部分时，界面构建器将自动执行此操作。因此，如果您的 tableview 是根控制器，请选择您的场景，然后转到：

> 编辑器 > 嵌入 > 导航控制器

否则，当您将来自另一个控制器（即堆栈的一部分）的 segue 连接到您的 tableview 控制器时，导航栏将自动添加。

# jquery - 如何在我的自定义 JQuery Widget 回调中访问“this”

> ID：11078845
> 
> 赞同：1
> 
> 时间：2012-06-18T07:53:54.743
> 
> 标签：jquery, jquery-plugins, widget

我在 JCarousel 控件之上添加了一些功能。由于在我们的代码中很多地方都用到了它，所以我开始为它创建一个 JQuery Widget。我的问题是我无法在 JCarousel 控件的回调方法中获取对“this”对象的引用。请在下面找到示例代码以供参考。

```
(function ($, undefined) {
$.widget('custom.MyCarousel', {
   options: {
        noOfVisibleItems: 2
        },
   _init: function () { this.BindCarosuel(); },
   BindCarosuel: function () {
   jQuery(this.element).jcarousel({
        size: this.options.noOfVisibleItems.length,
        itemLoadCallback: { this.mycarousel_itemLoadCallback }

        });
   },
   MyWidgetCustomMethod: function (index) {
   },
   mycarousel_itemLoadCallback: function (carousel, state) {
        // How to get access to options object (noOfVisibleItems) 
        // and methods like MyWidgetCustomMethod ?
   }
   }
)
} (jQuery)); 
```

我的问题在 mycarousel_itemLoadCallback 方法内部 - 如上面的代码中所述，如何访问“this”小部件实例？我尝试使用 $.custom.MyCarousel.prototype 对象，但这会为不同的小部件实例返回相同的选项数据。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-20T13:42:43.537

我想我找到了问题的解决方案：使用 $.proxy。感谢大家的帮助。所以修改的行是：

```
itemLoadCallback: { $.proxy(Self.mycarousel_itemLoadCallback, this) } 
```

然后在回调方法中， this 将开始引用小部件实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T08:06:55.280

最简单的解决方案是使用`me`“hack”。通过在更全局但私有的范围内分配`this`给变量`me`，这意味着您可以在回调中访问该对象。尝试这样的事情：

```
(function ($, undefined)
{
    $.widget('custom.MyCarousel',
    {
        me: this,

        options: {
            noOfVisibleItems: 2
        },

        _init: function () { this.BindCarosuel(); },

        BindCarosuel: function ()
        {
            jQuery(this.element).jcarousel({
                size: this.options.noOfVisibleItems.length,
                itemLoadCallback: { this.mycarousel_itemLoadCallback }

            });
        },

        MyWidgetCustomMethod: function (index) {

        },

        mycarousel_itemLoadCallback: function (carousel, state) {
            // How to get access to options object (noOfVisibleItems) 
            // and methods like MyWidgetCustomMethod ?

            alert(me.options.noOfVisibileItems);
        }
    })
}(jQuery)); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-18T08:01:00.550

试试这个：

```
$(this)[0]
or
this[0] 
```

我不确定它是否可以与此插件一起使用，但根据经验 - 当您在回调中有一个 jquery 实例，并且您想访问底层对象时，您可以像我一样使用数组运算符来访问它上面已经给你看了。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-10-23T02:07:44.983

我认为以下解决方案有效

```
jQuery(this.element).jcarousel({
    size: this.options.noOfVisibleItems.length,
    itemLoadCallback: function(){ return this.mycarousel_itemLoadCallback() }

    }); 
```

# wpf - WPF自定义着色器效果属性绑定动画

> ID：11078846
> 
> 赞同：0
> 
> 时间：2012-06-18T07:53:55.520
> 
> 标签：wpf, animation, storyboard

我正在 WPF 应用程序中实现转换。

首先，我在 2 ImageBrush 中“保存”我的 2 FrameworkElement。然后我用它们设置我的着色器效果的 Input & Back (Brush) 属性。

```
 CustomEffect s = new CustomEffect();

    RenderTargetBitmap rtb = new RenderTargetBitmap((int)SourceFrameWorkElement.ActualWidth, (int)SourceFrameWorkElement.ActualHeight, 96, 96, PixelFormats.Pbgra32);

    rtb.Render(SourceFrameWorkElement);
    ImageBrush ib = new ImageBrush(rtb);
    s.Input = ib;

    rtb.Render(TargetFrameWorkElement);
    ib.ImageSource = rtb;
    s.Back = ib;

    SourceFrameWorkElement.Effect = s; 
```

现在一切都设置好了，我想为我的着色器的 Time 属性设置动画，我试过这个：

```
 DoubleAnimation refDoubleAnimation = new DoubleAnimation(0.0, 1.0, Duration);
    Storyboard.SetTarget(refDoubleAnimation, SourceFrameWorkElement);
    Storyboard.SetTargetProperty(refDoubleAnimation, new PropertyPath("(Effect).(CustomEffect.Time)");
    refStoryboard.Children.Add(refDoubleAnimation);
    refStoryboard.Completed += new EventHandler(OnStoryboardCompleted);
    refStoryboard.Begin(SourceFrameWorkElement, true); 
```

我在 begin 方法上得到一个 InvalidOperationException 并带有此消息：

> “无法解析属性路径 '(Effect).(CustomEffect.Time)' 中的所有属性引用。
> 验证适用的对象是否支持这些属性。”

但是当我使用像 BlurEffect 这样的内置效果时，它可以工作......

有人能告诉我哪里错了吗？

**编辑：**
我也试过

```
 SourceElement.Effect.BeginAnimation(SlideInEffect.TimeProperty, refDoubleAnimation) 
```

而不是使用情节提要，我没有得到异常，但是第二张图像立即弹出并且动画没有播放

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T06:12:11.787

解决方案是使用 BeginAnimation ^^

事实上，我有第二张不透明度为 1 的图像，并且动画正在播放（我检查了进入我的 OnAnimationCompleted 事件处理程序的时间是否与转换持续时间相匹配）

所以我用 2 DiscreteDoubleKeyFrames 在 TargetElement 不透明度上创建了第二个动画来完成这个技巧，现在它可以工作了^^

如果我在 PropertyPath 中添加命名空间，也许故事板的东西可以工作，但我没有时间测试它，所以如果你愿意，可以尝试一下，并更新帖子 ^^。

# sql - 用逗号插入小数被解释为两个值

> ID：11078848
> 
> 赞同：2
> 
> 时间：2012-06-18T07:54:04.243
> 
> 标签：sql, reporting-services, decimal

我正在创建一个 ssrs 报告并创建一个 mockdata sql 脚本。
在脚本中，我想插入一个十进制值，如下所示：

```
declare @tempTable table(
  aString varchar(50),
  aDecimal decimal(5,2)
)

insert into @tempTable
values ("somestring", 1,23) 
```

“someString”后面的值实际上是一个十进制值，用逗号作为小数分隔符。SQL 将其解释为单独的值，因此会引发有关列数的值过多的错误。如何解决这个问题？

**更新**
澄清：我在“。”的地区。是千位分隔符，',' 是小数分隔符。
把它放在引号之间也不起作用。它给了我`Error converting data type varchar to numeric`信息

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T10:07:09.483

要在 SQL 脚本中将数字指定*为常量*，您应该遵循 SQL*语法*规则，而不是区域设置。语法规定您使用 a`.`作为小数分隔符。至于千位分隔符，根本不用。

请注意，这完全是关于在脚本中*编码数据，而不是**显示*它们。显示是您的区域设置确实重要的地方，如果它们按顺序排列，您应该相应地格式化输出：小数分隔符为逗号，千位分隔符为句点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T08:03:36.300

插入 SQL 时使用逗号分隔值。我不知道这是什么类型的字段，但如果它是 INT 或 DECIMAL，它将不起作用。

要使其正常工作，请在它们周围加上引号，如下所示：

```
insert into @tempTable
values ("somestring", '1,23') 
```

最好的办法是：

1.  如果是小数，请使用 . 作为逗号，然后操作字符串。
2.  如果是 1000 分隔符，去掉它，显示的时候可以这样做

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-05-05T12:41:03.300

实际上添加参数为我解决了同样的问题。

```
cmd.CommandText = "INSERT dbo.tickets (places,date,client_id,price,trip_id) VALUES (" + PlaceQuontity.Value + ",@date "  + "," + id + "," + "@price" + "," + TripId + ")";

            cmd.Parameters.Add("@date", SqlDbType.Date).Value = TicketDate.Value.Date;
            cmd.Parameters.Add("@price", SqlDbType.Decimal).Value = FinalPrice; 
```

其中 cmd 是我的 sql 命令，而 finalprice 是十进制的。

# java - @XmlRegistry - 它是如何工作的？

> ID：11078850
> 
> 赞同：11
> 
> 时间：2012-06-18T07:54:14.837
> 
> 标签：java, xml, jaxb, jaxb2

我在互联网上找到了一些 JAXB2 的示例，`@XmlRegistry`但是没有很好的深入教程来讨论使用`@XmlRegistry`with的概念`@XmlElementDecl`，想知道它是否是一个一般没有太多探索的概念。

无论如何，这是我的问题，首先是一些示例类，我使用 JAXB 来解组 xml：

我试图使用 JAXB 解组的主要类 - Employee.java

```
package com.test.jaxb;

import java.util.List;

import javax.xml.bind.JAXBElement;
import javax.xml.bind.annotation.XmlElementDecl;
import javax.xml.bind.annotation.XmlRegistry;
import javax.xml.bind.annotation.XmlRootElement;
import javax.xml.namespace.QName;

import com.test.jaxb.dto.Address;

@XmlRootElement
public class Employee {
    private int id;
    private String name;
    private String email;

    private List<Address> addresses;

    public int getId() {
        return id;
    }
    public void setId(int id) {
        this.id = id;
    }
    public String getName() {
        return name;
    }
    public void setName(String name) {
        this.name = name;
    }
    public String getEmail() {
        return email;
    }
    public void setEmail(String email) {
        this.email = email;
    }

    public List<Address> getAddresses() {
        return addresses;
    }
    public void setAddresses(List<Address> addresses) {
        this.addresses = addresses;
    }

    @SuppressWarnings("unused")
    @XmlRegistry
    public static class XMLObjectFactory {
        @XmlElementDecl(scope = Employee.class, name= "id")
        JAXBElement<String> createEmployeeId(String value) {
            return new JAXBElement<String>(new QName("id"), String.class, "100");
        }
        @XmlElementDecl(scope = Employee.class, name= "name")
        JAXBElement<String> createName(String value) {
            return new JAXBElement<String>(new QName("name"), String.class, "Fake Name");
        }
        @XmlElementDecl(scope = Employee.class, name= "email")
        JAXBElement<String> createEmail(String value) {
            return new JAXBElement<String>(new QName("email"), String.class, value);
        }

        @XmlElementDecl(scope = Employee.class, name= "addresses")
        JAXBElement<List> createAddresses(List value) {
            return new JAXBElement<List>(new QName("addresses"), List.class, value);
        }
    }
} 
```

子类 - Address.java

```
package com.test.jaxb.dto;

import javax.xml.bind.JAXBElement;
import javax.xml.bind.annotation.XmlElementDecl;
import javax.xml.bind.annotation.XmlRegistry;
import javax.xml.bind.annotation.XmlRootElement;
import javax.xml.namespace.QName;

import com.test.jaxb.Employee;

@XmlRootElement
public class Address {
    private String addressLine1;
    private String addressLine2;
    private String addressLine3;
    public String getAddressLine1() {
        return addressLine1;
    }
    public void setAddressLine1(String addressLine1) {
        this.addressLine1 = addressLine1;
    }
    public String getAddressLine2() {
        return addressLine2;
    }
    public void setAddressLine2(String addressLine2) {
        this.addressLine2 = addressLine2;
    }
    public String getAddressLine3() {
        return addressLine3;
    }
    public void setAddressLine3(String addressLine3) {
        this.addressLine3 = addressLine3;
    }

    @SuppressWarnings("unused")
    @XmlRegistry
    private static class XMLObjectFactory {
        @XmlElementDecl(scope = Employee.class, name= "addressLine1")
        JAXBElement<String> createAddressLine1(String value) {
            return new JAXBElement<String>(new QName("addressLine1"), String.class, value);
        }
        @XmlElementDecl(scope = Employee.class, name= "addressLine2")
        JAXBElement<String> createAddressLine2(String value) {
            return new JAXBElement<String>(new QName("addressLine2"), String.class, value);
        }
        @XmlElementDecl(scope = Employee.class, name= "addressLine3")
        JAXBElement<String> createAddressLine3(String value) {
            return new JAXBElement<String>(new QName("addressLine3"), String.class, value);
        }
    }
} 
```

要解组的 xml - employee.xml

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<employee>
    <id>1</id>
    <name>Vaishali</name>
    <email>Vaishali@example.com</email>
    <addresses>
        <address>
            <addressLine1>300</addressLine1>
            <addressLine2>Mumbai</addressLine2>
            <addressLine3>India</addressLine3>
        </address>
        <address>
            <addressLine1>301</addressLine1>
            <addressLine2>Pune</addressLine2>
            <addressLine3>India</addressLine3>
        </address>
    </addresses>
</employee> 
```

解组代码：

```
package com.test.jaxb;

import java.io.FileReader;

import javax.xml.bind.JAXBContext;
import javax.xml.bind.Unmarshaller;

public class ObjectFactoryTest {
    public static void main(String[] args) throws Exception {
        FileReader reader = new FileReader("resources/employee.xml");
        JAXBContext context = JAXBContext.newInstance(Employee.class);
        Unmarshaller unmarshaller = context.createUnmarshaller();
        Object obj = unmarshaller.unmarshal(reader);
        System.out.println(obj);
    }
} 
```

当我使用上面的代码解组员工 xml 时，地址列表不会被填充。生成的员工对象只有一个空白的地址列表。我的映射有什么问题吗？

为了了解发生了什么并查看员工对象是否实际上是使用对象工厂创建的（具有 @XMLRegistry 注释），我更改了工厂方法中 id 和 name 的值，但这对输出没有影响，这告诉我 JAXB 实际上并没有使用 ObjectFactory，为什么？

我对这一切都错了吗？任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-18T13:24:01.380

> @XmlRegistry - 它是如何工作的？

`@XmlRegistry`用于标记具有`@XmlElementDecl`注释的类。要让您的 JAXB 实现处理此类，您需要确保它包含在用于引导`JAXBContext`. 仅仅成为您的域模型类之一的静态内部类是不够的：

```
JAXBContext context = JAXBContext.newInstance(Employee.class, Employee.XMLObjectFactory.class); 
```

> @XmlElementDecl - 它是如何工作的？

如果字段/属性的值将是 a`JAXBElement`那么您需要利用`@XmlElementDecl`. A`JAXBElement`捕获有用的信息：

*   元素名称，如果您要映射到多个元素属于同一类型的选择结构，则这是必需的。如果元素名称不对应于唯一类型，那么您将无法往返文档。
*   `JAXBElement`可用于表示带有 的元素`xsi:nil="true"`。

**XmlObjectFactory**

`@XmlElementDecl`还允许您指定范围。我已经修改了你发布的模型。我介绍了一个`XmlObjectFactory`有两个`@XmlElementDecl`. 两者都指定了`address`. 我利用了该`scope`属性，以便为类中的属性使用与`Employee`该类`@XmlElementDecl`相对应的属性`Address`。

```
package forum11078850;

import javax.xml.bind.JAXBElement;
import javax.xml.bind.annotation.XmlElementDecl;
import javax.xml.bind.annotation.XmlRegistry;
import javax.xml.namespace.QName;

@XmlRegistry
public class XmlObjectFactory {

    @XmlElementDecl(scope = Employee.class, name = "address")
    JAXBElement<Address> createAddress(Address value) {
        return new JAXBElement<Address>(new QName("address"), Address.class, value);
    }

    @XmlElementDecl(name = "address")
    JAXBElement<String> createStringAddress(String value) {
        return new JAXBElement<String>(new QName("address"), String.class, value);
    }

} 
```

**员工**

注释将`@XmlElementRef`导致属性的值与其根元素名称匹配。`@XmlRootElement`可能的匹配将包括用或映射的类`@XmlElementDecl`。

```
package forum11078850;

import java.util.List;

import javax.xml.bind.JAXBElement;
import javax.xml.bind.annotation.*;

@XmlRootElement
@XmlType(propOrder = { "id", "name", "email", "addresses" })
public class Employee {
    private int id;
    private String name;
    private String email;

    private List<JAXBElement<Address>> addresses;

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    @XmlElementWrapper
     @XmlElementRef(name="address")
    public List<JAXBElement<Address>> getAddresses() {
        return addresses;
    }

    public void setAddresses(List<JAXBElement<Address>> addresses) {
        this.addresses = addresses;
    }

} 
```

**对象工厂测试**

```
package forum11078850;

import java.io.FileReader;
import javax.xml.bind.*;

public class ObjectFactoryTest {
    public static void main(String[] args) throws Exception {
        FileReader reader = new FileReader("src/forum11078850/input.xml");
        JAXBContext context = JAXBContext.newInstance(Employee.class, XmlObjectFactory.class);
        Unmarshaller unmarshaller = context.createUnmarshaller();
        Object obj = unmarshaller.unmarshal(reader);

        Marshaller marshaller = context.createMarshaller();
        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
        marshaller.marshal(obj, System.out);
    }
} 
```

该类`Address`和`input.xml`我的原始答案可用于运行此示例。

* * *

**原始答案**

我不确定您是如何尝试使用`@XmlRegistry`的，因此我将重点关注您帖子的以下部分：

> 当我使用上面的代码解组员工 xml 时，地址列表不会被填充。生成的员工对象只有一个空白的地址列表。我的映射有什么问题吗？

您的`Address`对象列表包含在分组元素 ( `addresses`) 中，因此您需要使用`@XmlElementWrapper`注释来映射此用例。下面是一个完整的例子：

**员工**

```
package forum11078850;

import java.util.List;
import javax.xml.bind.annotation.*;

@XmlRootElement
@XmlType(propOrder = { "id", "name", "email", "addresses" })
public class Employee {
    private int id;
    private String name;
    private String email;

    private List<Address> addresses;

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    @XmlElementWrapper
    @XmlElement(name = "address")
    public List<Address> getAddresses() {
        return addresses;
    }

    public void setAddresses(List<Address> addresses) {
        this.addresses = addresses;
    }

} 
```

**地址**

```
package forum11078850;

public class Address {
    private String addressLine1;
    private String addressLine2;
    private String addressLine3;

    public String getAddressLine1() {
        return addressLine1;
    }

    public void setAddressLine1(String addressLine1) {
        this.addressLine1 = addressLine1;
    }

    public String getAddressLine2() {
        return addressLine2;
    }

    public void setAddressLine2(String addressLine2) {
        this.addressLine2 = addressLine2;
    }

    public String getAddressLine3() {
        return addressLine3;
    }

    public void setAddressLine3(String addressLine3) {
        this.addressLine3 = addressLine3;
    }

} 
```

**对象工厂测试**

```
package forum11078850;

import java.io.FileReader;
import javax.xml.bind.*;

public class ObjectFactoryTest {
    public static void main(String[] args) throws Exception {
        FileReader reader = new FileReader("src/forum11078850/input.xml");
        JAXBContext context = JAXBContext.newInstance(Employee.class);
        Unmarshaller unmarshaller = context.createUnmarshaller();
        Object obj = unmarshaller.unmarshal(reader);

        Marshaller marshaller = context.createMarshaller();
        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);
        marshaller.marshal(obj, System.out);
    }
} 
```

**输入.xml/输出**

```
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<employee>
    <id>1</id>
    <name>Vaishali</name>
    <email>Vaishali@example.com</email>
    <addresses>
        <address>
            <addressLine1>300</addressLine1>
            <addressLine2>Mumbai</addressLine2>
            <addressLine3>India</addressLine3>
        </address>
        <address>
            <addressLine1>301</addressLine1>
            <addressLine2>Pune</addressLine2>
            <addressLine3>India</addressLine3>
        </address>
    </addresses>
</employee> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-18T08:44:52.080

您必须获取地址的列表对象。在该对象中，您必须添加包含诸如 addressline1 之类的数据的对象。addressline2 等等。

```
 i.e.
 List addrObjList = new List();
 addrObjList.add(object); // Bind an object containing data and add one by one 
```

# asp.net - ASP.NET 获取中继器中单选按钮列表的所有值？

> ID：11078856
> 
> 赞同：-1
> 
> 时间：2012-06-18T07:54:32.710
> 
> 标签：asp.net, repeater, radiobuttonlist

.aspx 文件：

```
<asp:Repeater ID="Repeater_sorular" runat="server">
<HeaderTemplate>
</HeaderTemplate>
<ItemTemplate>
  <div class="div_soru">
     <div class="div_soru_wrapper">
         <%#Eval("Subject")%>
         <asp:RadioButtonList ID="RadioButtonList_secenekler" runat="server" Visible='<%# Eval("TypeId").ToString() == "1" %>'
            DataSource='<%#Eval("Secenekler")%>' DataTextField='<%#Eval("OptionName")%>' DataValueField='<%#Eval("OptionId")%>'>
         </asp:RadioButtonList>
         <asp:CheckBoxList ID="CheckBoxList_secenekler" runat="server" Visible='<%# Eval("TypeId").ToString() == "2" %>'
            DataSource='<%#Eval("Secenekler")%>' DataTextField='<%#Eval("OptionName")%>' DataValueField='<%#Eval("OptionId")%>'>
         </asp:CheckBoxList>
     </div>
  </div>
</ItemTemplate>
<FooterTemplate>
</FooterTemplate>
</asp:Repeater> 
```

和代码隐藏：

```
SpAnketDataContext db = new SpAnketDataContext();

protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
         BindRepeaterSorular();
    }
}

protected void ImageButton_kaydet_OnCommand(object source, CommandEventArgs e)
{

}

private void BindRepeaterSorular()
{
    int anket_id = 3;

    var sorular = from soru in db.TableSurveyQuestions
                  where soru.SurveyId == anket_id
                  select new
                  {
                      soru.TypeId,
                      soru.Subject,
                      soru.QuestionId,
                      soru.SurveyId,
                      soru.QueueNo,
                      SurveyTitle = soru.TableSurvey.Title,
                      TypeName = soru.TableSurveyQuestionType.TypeName,

                      Secenekler = from secenekler in soru.TableSurveyOptions
                                   select new
                                   {
                                       secenekler.OptionId,
                                       secenekler.OptionName,
                                       secenekler.QuestionId,
                                   }
                  };

    Repeater_sorular.DataSource = sorular;
    Repeater_sorular.DataBind();
} 
```

这是我尝试获取值的代码，但我只能获取最后一个单选按钮列表值。

```
protected void Repeater_sorular_ItemCommand(object sender, RepeaterCommandEventArgs e)
{
    foreach (RepeaterItem item in Repeater_sorular.Items)
    {
        if (e.Item.ItemType == ListItemType.Item || e.Item.ItemType == ListItemType.AlternatingItem)
        {
            CheckBoxList CheckBoxList1 = (CheckBoxList)e.Item.FindControl("CheckBoxList_secenekler");
            RadioButtonList RadioButtonList1 = (RadioButtonList)e.Item.FindControl("RadioButtonList_secenekler");
            if (CheckBoxList1 != null)
            {
                foreach (ListItem li in CheckBoxList1.Items)
                {
                    TableSurveyVote votes=new TableSurveyVote();
                    votes.MemberId=1;
                    votes.OptionId=Int32.Parse(li.Value);

                    db.TableSurveyVotes.InsertOnSubmit(votes);
                    db.SubmitChanges();
                }
            }

            if (RadioButtonList1 != null)
            {
                foreach (ListItem li in RadioButtonList1.Items)
                {
                    TableSurveyVote votes=new TableSurveyVote();
                    votes.MemberId=1;
                    votes.OptionId=Int32.Parse(li.Value);

                    db.TableSurveyVotes.InsertOnSubmit(votes);
                    db.SubmitChanges();
                }
            }
        }
    }
} 
```

怎么了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T11:42:03.247

您得到的结果与您在评论中所说的相同，因为您不使用`foreach`循环中的填充 (the `item`)，而是在循环中使用相同的引用`e.Item`。

# javascript - Javascript 冲突（mootools、jquery_notification）

> ID：11078857
> 
> 赞同：-1
> 
> 时间：2012-06-18T07:54:34.990
> 
> 标签：javascript

```
<link href="css/jquery_notification.css" type="text/css" rel="stylesheet"/>
<script type="text/javascript" src="js/jquery_v_1.4.js"></script>
<script type="text/javascript" src="js/jquery_notification_v.1.js"></script>

<link rel=stylesheet href="css/mootime.css" type="text/css" media=screen> 
<script src="js/mootools1.2.js" type="text/javascript"></script> 
<script src="js/mootime.js" type="text/javascript"></script> 
```

只有以下 javascript 之一在工作....请告诉我一个解决方案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T07:59:24.130

您可以使用[`$.noConflict`](http://api.jquery.com/jQuery.noConflict/)which 允许您将 jQuery 与其他框架一起使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T07:59:58.560

你应该使用[`jQueury.noConflict()`](http://api.jquery.com/jQuery.noConflict/).

更多文档[在这里](http://docs.jquery.com/Using_jQuery_with_Other_Libraries)

# maven - 如何为 Maven 设置环境变量以正确运行测试？

> ID：11078863
> 
> 赞同：10
> 
> 时间：2012-06-18T07:55:05.743
> 
> 标签：maven, junit, pom.xml

是否可以在 junit 测试使用的 pom.xml 中设置环境变量？Netbeans 可以获取环境变量并正确构建项目。但是当我使用命令行（mvn clean -> mvn install）时，由于测试错误，构建失败。

谢谢。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-18T08:01:20.930

我知道有两种方法。

**命令行：**

您可以在命令行中传递它，例如

```
mvn -DAM_HOME=conf install 
```

**使用 pom ：**

如果`AM_HOM`是变量且值为`conf`，则进行如下输入。

```
<plugins>
    ...

 <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-plugin</artifactId>
        ...
        <configuration>
            ...
            <environmentVariables>
                <AM_HOME>conf</AM_HOME>
            </environmentVariables>
        </configuration>
    </plugin>

...
<plugins> 
```

# html - 将图像垂直定位在 li 的中心

> ID：11078864
> 
> 赞同：0
> 
> 时间：2012-06-18T07:55:06.720
> 
> 标签：html, css

我知道这个已经被问过几次了（[1](https://stackoverflow.com/questions/7434113/verticaly-center-align-the-text-in-a-div) , [2](https://stackoverflow.com/questions/8796220/center-image-to-the-center-of-div)），但我似乎错过了这一点，因为我在我的例子中无法做到这一点。这是示例：[jsfiddle Link](http://jsfiddle.net/Hitman666/aDVyu/)。感谢您的帮助。

HTML：

```
<li class="imageFrame">
    <a class="nyroModal" rel="gal" href="#photo_3680" title="Take a walk on the wild side ">
        <img class="" src="http://salon-cakovec.fotografija.hr/prijava/upload/thumb/fepessoa_1339763389.jpg" height="120" width="120" alt="Take a walk on the wild side">
    </a>
</li>​ 
```

CSS：

```
.imageFrame {
    border-radius: 5px;
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    padding: 5px;
    margin: 5px;
    width: 120px;
    height: 120px;
    text-align: center;
    float: left;
    border: 3px solid #EEE;
    background-color: #CCC;
}

.imageFrame img {
    height: auto;
    width: auto;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T08:03:02.257

检查更新的小提琴 - [http://jsfiddle.net/aDVyu/4/](http://jsfiddle.net/aDVyu/4/)

评论 -`float`并添加 -

```
display: table-cell;
vertical-align: middle; 
```

是的！IE7 不支持显示：table-cell；财产

如果您希望它也可以在 IE7 中使用，那么您需要使用 jQuery 来计算高度 - [http://jsfiddle.net/tQBVy/](http://jsfiddle.net/tQBVy/)

# javascript - JavaScript onkeyup 驼峰式与小写

> ID：11078875
> 
> 赞同：1
> 
> 时间：2012-06-18T07:56:05.287
> 
> 标签：javascript

我似乎找不到正确的“onkeyup”版本：

驼峰式：**onKeyUp**

或者

小写：**onkeyup**

[更新] [http://www.w3.org/TR/html4/intro/sgmltut.html](http://www.w3.org/TR/html4/intro/sgmltut.html)提到：

“属性名称始终不区分大小写。”

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T07:57:55.020

HTML 不区分大小写。因此，如果它们位于 HTML 元素中，则两者都可以，如下所示：

```
<div onkeyup='alert()'></div> 
```

但是，JavaScript 是区分大小写的。只有小写将在那里工作：

```
document.getElementById('div').addEventListener('keyup', function (){
    someCode();
}, false); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T08:00:44.160

`onkeyup`是正确的，`onKeyUp`因为 HTML 不区分大小写。（XHTML 区分大小写，因此您应该使用`onkeyup`它作为属性。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T07:58:30.723

小写版本是正确的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T07:59:04.023

```
onkeyup 
```

参考 - [http://www.w3schools.com/jsref/event_onkeyup.asp](http://www.w3schools.com/jsref/event_onkeyup.asp)

# java - Android 基础数学不及格

> ID：11078879
> 
> 赞同：0
> 
> 时间：2012-06-18T07:56:17.080
> 
> 标签：java, android, precision

> **可能重复：**
> [Java 浮点除法精度](https://stackoverflow.com/questions/7286681/java-float-division-precision)

我正在尝试修复我的一个游戏中的错误，并且需要为此计算最佳图块大小。为此，我获取设备的屏幕分辨率、该级别的行数和列数，然后计算允许我的游戏使用最大屏幕空间的图块大小。然而，Android 似乎在基本数学上失败了，在简单的除法运算上失去了精度。这是适当的代码：

```
while(!foundIt)
    {
        int tileArea = boxes*i*i; //Boxes = 20*26
        float ratio = displayArea/tileArea;  //displayArea = width*height
        Log.d("Balance", displayArea + "/" + tileArea);
        Log.d("Balance", boxes + ", " + i);
        Log.d("Balance", "Ratio: " + ratio);
        int last = 0;
        if(ratio>1)
        {
            if(last==LAST_WAS_LESS_THAN_ONE)
            {
                i--;
                foundIt=true;
            }
            last = LAST_WAS_MORE_THAN_ONE;
        }
        else if(ratio==1)
        {
            Log.d("Balance", "Found a perfect fit!!");
            foundIt=true;
        }
        else if(ratio<1)
        {
            if(last==LAST_WAS_MORE_THAN_ONE)
            {
                i--;
                foundIt=true;
            }
            last = LAST_WAS_LESS_THAN_ONE;
        }
        if(!foundIt)
        {
            i++;
        }
    } 
```

这是在我的 Nexus S 上运行的示例（分辨率：480 x 800）：

```
06-18 13:20:45.808: D/Balance(1069): Width: 480 Height: 800
06-18 13:20:45.808: D/Balance(1069): 384000/520
06-18 13:20:45.808: D/Balance(1069): 520, 1
06-18 13:20:45.808: D/Balance(1069): Ratio: 738.0
06-18 13:20:45.808: D/Balance(1069): 384000/2080
06-18 13:20:45.808: D/Balance(1069): 520, 2
06-18 13:20:45.808: D/Balance(1069): Ratio: 184.0
06-18 13:20:45.808: D/Balance(1069): 384000/4680
06-18 13:20:45.808: D/Balance(1069): 520, 3
06-18 13:20:45.808: D/Balance(1069): Ratio: 82.0
06-18 13:20:45.808: D/Balance(1069): 384000/8320
06-18 13:20:45.808: D/Balance(1069): 520, 4
06-18 13:20:45.808: D/Balance(1069): Ratio: 46.0
06-18 13:20:45.808: D/Balance(1069): 384000/13000
06-18 13:20:45.808: D/Balance(1069): 520, 5
06-18 13:20:45.808: D/Balance(1069): Ratio: 29.0
06-18 13:20:45.808: D/Balance(1069): 384000/18720
06-18 13:20:45.808: D/Balance(1069): 520, 6
06-18 13:20:45.808: D/Balance(1069): Ratio: 20.0
06-18 13:20:45.808: D/Balance(1069): 384000/25480
06-18 13:20:45.808: D/Balance(1069): 520, 7
06-18 13:20:45.808: D/Balance(1069): Ratio: 15.0
06-18 13:20:45.808: D/Balance(1069): 384000/33280
06-18 13:20:45.808: D/Balance(1069): 520, 8
06-18 13:20:45.808: D/Balance(1069): Ratio: 11.0
06-18 13:20:45.808: D/Balance(1069): 384000/42120
06-18 13:20:45.808: D/Balance(1069): 520, 9
06-18 13:20:45.808: D/Balance(1069): Ratio: 9.0
06-18 13:20:45.808: D/Balance(1069): 384000/52000
06-18 13:20:45.808: D/Balance(1069): 520, 10
06-18 13:20:45.808: D/Balance(1069): Ratio: 7.0
06-18 13:20:45.808: D/Balance(1069): 384000/62920
06-18 13:20:45.808: D/Balance(1069): 520, 11
06-18 13:20:45.808: D/Balance(1069): Ratio: 6.0
06-18 13:20:45.808: D/Balance(1069): 384000/74880
06-18 13:20:45.808: D/Balance(1069): 520, 12
06-18 13:20:45.808: D/Balance(1069): Ratio: 5.0
06-18 13:20:45.808: D/Balance(1069): 384000/87880
06-18 13:20:45.808: D/Balance(1069): 520, 13
06-18 13:20:45.808: D/Balance(1069): Ratio: 4.0
06-18 13:20:45.808: D/Balance(1069): 384000/101920
06-18 13:20:45.808: D/Balance(1069): 520, 14
06-18 13:20:45.808: D/Balance(1069): Ratio: 3.0
06-18 13:20:45.808: D/Balance(1069): 384000/117000
06-18 13:20:45.808: D/Balance(1069): 520, 15
06-18 13:20:45.808: D/Balance(1069): Ratio: 3.0
06-18 13:20:45.808: D/Balance(1069): 384000/133120
06-18 13:20:45.812: D/Balance(1069): 520, 16
06-18 13:20:45.812: D/Balance(1069): Ratio: 2.0
06-18 13:20:45.816: D/Balance(1069): 384000/150280
06-18 13:20:45.816: D/Balance(1069): 520, 17
06-18 13:20:45.816: D/Balance(1069): Ratio: 2.0
06-18 13:20:45.816: D/Balance(1069): 384000/168480
06-18 13:20:45.816: D/Balance(1069): 520, 18
06-18 13:20:45.816: D/Balance(1069): Ratio: 2.0
06-18 13:20:45.816: D/Balance(1069): 384000/187720
06-18 13:20:45.816: D/Balance(1069): 520, 19
06-18 13:20:45.816: D/Balance(1069): Ratio: 2.0
06-18 13:20:45.816: D/Balance(1069): 384000/208000
06-18 13:20:45.816: D/Balance(1069): 520, 20
06-18 13:20:45.816: D/Balance(1069): Ratio: 1.0
06-18 13:20:45.816: D/Balance(1069): Found a perfect fit!! 
```

在计算器上计算比率会导致精度下降。有人知道这是为什么吗？我的实现有问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T08:02:22.490

从打印出来，似乎`displayArea`and`tileArea`被声明为`int`or `long`。在结果被提升为type 并分配给之前，您正在执行**整数除法**( ) 。`displayArea/tileArea``float``ratio`

既然你在比较一个是否大于另一个，为什么不直接比较`displayArea`and`tileArea`呢？这比玩弄浮点运算要好得多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T08:02:38.593

似乎是类型转换问题，尝试将您的 displayArea 转换为浮动。

# android - 摩托罗拉 Razor XT910 (android 2.3) 无法正确显示列表

> ID：11078882
> 
> 赞同：1
> 
> 时间：2012-06-18T07:56:33.460
> 
> 标签：android, user-interface, motorola

我为 android 2.3 开发了一个 UI。UI 包含一个列表，以及屏幕底部的一些图标。

我`@android:style/Theme.Holo.Light`在`<application/>`标签中使用过。

我已经在`Samsung galaxy nexus (android 2.3)`和上测试过这个应用程序`galaxy nexus (android 4.0)`。它工作得很好。

但是当我在 上运行这个应用程序时`Motorola Razor XT910 (android 2.3)`，如果列表只包含几个元素，即它没有覆盖整个屏幕区域（即底部图标上方的屏幕区域），则空白部分显示为灰色。我还将`background`布局标签设置为`white`颜色。Moto 上的 UI 如下所示：

![在此处输入图像描述](../Images/852e4d5222c986eea0028e31b0bc9882.png)

请建议我如何将这个灰色区域设为白色背景。我已经尝试了很多，但找不到解决方案。

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-06-26T14:39:23.607

与其将其高度设置为 wrap_content ，不如将以下属性添加到您的列表视图中。

问题是`android:overScrollFooter`。摩托罗拉有一个默认设置，它会引起悲伤。要摆脱它，`android:overScrollFooter="@null"`请在您的`ListView`.

我在摩托罗拉设备中也遇到了同样的问题

*   违抗 MB526 操作系统 2.3.4
*   Droidx 操作系统 2.3.4

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-21T02:16:26.680

此问题出现在使用 android 2.3 的摩托罗拉设备上。最简单的解决方法是将列表视图高度设置为 wrap_content。更多关于这里的问题.. [Moto Listview](http://community.developer.motorola.com/t5/MOTODEV-Blog/Why-Does-My-ListView-Look-Different/ba-p/17462)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-06-18T08:28:58.030

将主布局的背景颜色设置为白色。它将正常工作

# c# - 使用 FtpWebRequest 上传文件时，我如何知道传输了多少字节

> ID：11078893
> 
> 赞同：1
> 
> 时间：2012-06-18T07:57:42.103
> 
> 标签：c#, .net

我正在使用 FtpWebRequest 上传大文件。假设在上传过程中我的网络连接失败。我怎么知道传输了多少字节？当我重新开始上传相同的文件时，我需要从连接失败的地方开始上传文件。

我该如何实施？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:14:05.253

我认为如果您可以在某处恢复，这将取决于服务器 - 所以当然您必须在连接丢失后再次提供孔文件（只需重做到目前为止的所有步骤）。 `FtpWebRequest`应该为您处理所有这些细节。

除此之外，您还将获得[FtpWebResponse](http://msdn.microsoft.com/en-us/library/system.net.ftpwebresponse.aspx) -Objekt`GetResponse`以及其他信息

# c - C：for循环中的scanf行为

> ID：11078894
> 
> 赞同：3
> 
> 时间：2012-06-18T07:57:44.453
> 
> 标签：c, for-loop

我遇到了以下代码：

```
int i;
for(; scanf("%s", &i);)
    printf("hello"); 
```

根据我的理解，如果我们提供整数输入`scanf`将无法读取并因此返回 0，因此循环甚至不应运行一次。但是，它通过接受所有类型的输入作为成功读取来无限运行。

有人会解释这种行为吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-18T08:00:28.407

那是`int`: should be的不正确格式说明符`"%d"`。

它试图将字符串读入`int`变量，可能会覆盖内存。如`"%s"`指定的那样，将读取所有输入，因此`scanf()`返回一个大于零的值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T08:32:41.633

（编辑：我认为这个答案**不**应该被接受。也许赞成，但不被接受。它根本没有解释无限循环，@hmjd 就是这样做的。）

（这实际上并没有回答这个问题，其他答案就是这样做的，但它很有趣并且很高兴知道。）

正如 hmjd 所说，`scanf`像这样使用会覆盖内存（[“粉碎堆栈”](https://en.wikipedia.org/wiki/Stack_buffer_overflow)），因为它开始写入`i`内存，然后继续运行，即使在`i`占用的 4 字节内存（或 8 字节，在 64-位平台）。

为了说明，请考虑以下代码：

```
#include<stdio.h>

int main() {
    char str_above[8] = "ABCDEFG";
    int i;
    char str_below[8] = "ABCDEFG";

    scanf("%s", &i);

    printf("i = %d\n", i);
    printf("str_above = %s\nstr_below = %s\n", str_above, str_below);

    return 0;
} 
```

编译并运行它，然后输入`1234567890`会产生以下输出：

```
i = 875770417
str_above = 567890
str_below = ABCDEFG 
```

几点：

*   `i`与整数几乎没有对应关系`1234567890`（它与字符的值`'1'`，...`'4'`以及系统的字节序有关）。
*   `str_above`已被修改`scanf`：字符`'5'`,...,,`'0'`已`'\0'`超出为 保留的内存块的末尾，`i`并已写入为 保留的内存`str_above`。
*   堆栈已被“向上”粉碎，即存储`str_above`在内存中的时间比存储在内存中的时间早。（换句话说，和。）`i``str_below``&str_above > &i``&str_below < &i`

这是“缓冲区溢出攻击”的基础，通过将过多数据写入数组来修改堆栈上的值。这就是为什么`gets`是危险的（并且*永远不*应该使用）并且也不应该使用`scanf`通用`%s`格式说明符。

# android - getIntent().getStringExtra() 显示为空

> ID：11078896
> 
> 赞同：5
> 
> 时间：2012-06-18T07:57:52.627
> 
> 标签：android, android-intent

我正在使用一个 EditText 字段和一个微调器。我必须将两者的结果传递给下一个活动。这里，reqd_bloodgroup 是微调项，我使用以下方法转换为字符串： reqd_bloodgrp = String.valueOf(spinner.getSelectedItem()); 在微调器的 onItemSelected() 内。

```
intent.putExtra("city", citySelected.getText().toString());
intent.putExtra("bloodgroup", reqd_bloodgrp);
intent = new Intent(FindDonor.this,SpecificDonor.class);
startActivity(intent); 
```

在这里，当我尝试显示这些时，没有问题。它们正确显示。但是当我尝试在 SpecificDonor 活动中获取它们时，它们显示空值。这里使用的代码是：

```
String text_city,text_bloodgroup;
text_city = getIntent().getStringExtra("city");
text_bloodgroup = getIntent().getStringExtra("bloodgroup");
Toast.makeText(getApplicationContext(), text_city + " " + "bloodgrp: " + text_bloodgroup, Toast.LENGTH_SHORT).show(); 
```

可能是什么问题呢？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-18T08:02:02.883

我认为你必须这样做：

```
intent = new Intent(FindDonor.this,SpecificDonor.class); 
```

在添加额外内容之前。尝试：

```
intent = new Intent(FindDonor.this,SpecificDonor.class);
intent.putExtra("city", citySelected.getText().toString());            
intent.putExtra("bloodgroup", reqd_bloodgrp);
startActivity(intent); 
```

# php - PHP中的自动CSS版本控制？

> ID：11078900
> 
> 赞同：-1
> 
> 时间：2012-06-18T07:58:01.293
> 
> 标签：php, css, versioning

如何在 PHP 中实现这样的版本控制系统？

```
<link href="/assets/ver_e139fafc4ba724c15e947555e00fca64/css/style.css" type="text/css" rel="stylesheet" /> 
```

在quote.fm 上找到了这个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T08:03:34.640

我认为最简单的方法是附加一个 ? 以及css文件的修改时间。

# c++ - 尝试使用重新分配的变量作为依赖项时，在 make 3.81 中观察到的奇怪行为

> ID：11078902
> 
> 赞同：1
> 
> 时间：2012-06-18T07:58:04.537
> 
> 标签：c++, dynamic, makefile, gnu

我在使用 C++ makefile 时遇到了一个奇怪的问题。今天下午我重写了它，因为我使用的旧版本让我想自杀，而且我遇到了一个关于变量重新分配和动态依赖的奇怪问题。

就本问题而言，假设以下值：

```
OBJMOD_MODULENAME = obj/lib/foo.o obj/lib/bar.o obj/lib/quux.o
LIBDIR         = lib/
CXX            = g++
CXXLIBLINK     = -shared
LIB            = -lm -lpt 
```

我有以下格式的目标：

```
modulename: OBJ_CURRENTMOD = $(OBJMOD_MODULENAME)
modulename: $(OBJMOD_MODULENAME) lib/metrics.so 
```

稍后，另一种以下格式：

```
$(LIBDIR)%.so: $(OBJ_CURRENTMOD)
    $(CXX) $(CXXLIBLINK) -o $@ $(OBJ_CURRENTMOD) $(LIB) 
```

代码块中的行总是按照它们在代码块中出现的顺序出现，但是在调试过程中，我已经改变了块相对于彼此的位置。

在我更改源文件并尝试使用“make modulename”重新编译后出现问题。构建目标文件按预期工作，但如果文件已经存在，则不会重新构建库，即`$(OBJ_CURRENTMOD)`忽略指定的依赖项。`$(OBJMOD_MODULENAME)`在库依赖项中使用按预期工作。我已经通过多种方式验证了 的值`$(OBJ_CURRENTMOD)`是否符合预期（`echo $(OBJ_CURRENTMOD)`例如，坚持库目标的第一行），但无论我尝试什么，变量似乎都没有及时更新以触发重新编译到依赖检查。

当我输入这个时，我找到了一个解决方法：

```
OBJMOD_MODULENAME = obj/lib/foo.o obj/lib/bar.o obj/lib/quux.o
LIBDIR         = lib/
CXX            = g++
CXXLIBLINK     = -shared
LIB            = -lm -lpt

modulename: OBJ_CURRENTMOD = $(OBJMOD_MODULENAME)
modulename: $(OBJMOD_MODULENAME) lib/metrics.so

$(LIBDIR)%.so: herp $(OBJ_CURRENTMOD)
    $(CXX) $(CXXLIBLINK) -o $@ $(OBJ_CURRENTMOD) $(LIB)

herp: $(OBJ_CURRENTMOD) 
```

在变量引用之前添加的这个虚拟目标似乎强制它更新并解决了我的问题。这是make中的错误还是什么？make --version 表示 GNU make 3.81。其他人可以确认这种奇怪的行为吗？我只是在做一些非常愚蠢的事情吗？我已经盯着它看了好几个小时，我不会那么惊讶。

编辑：事实证明，这并没有真正修复它，它只是让它每次都运行，不管它是否需要它。

要验证更改的值：

```
$(LIBDIR)%.so: $(OBJ_CURRENTMOD)
    echo $(OBJ_CURRENTMOD)
    $(CXX) $(CXXLIBLINK) -o $@ $(OBJ_CURRENTMOD) $(LIB) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T08:17:55.570

您正在规则的先决条件列表中使用[特定于目标的变量值。](http://www.gnu.org/software/make/manual/make.html#Target_002dspecific) 这是不允许的：特定于目标的变量只能在目标的配方中使用。`OBJ_CURRENTMOD``$(LIBDIR)%.so`

另一个问题是您正在定义变量`OBJ_MODULENAME`，然后访问另一个`$(OBJMOD_MODULENAME)`尚未分配的变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T15:54:08.760

正如我在我的一条评论中所说，我看不出该`$(LIBDIR)%.so`模式将如何匹配任何先决条件，`modulename`但假设`metrics.so`是这样，`lib/metrics.so`那么它将用于构建`lib/metrics.so`.

正如 interjay 指出的那样，“*与自动变量一样，这些值仅在目标配方的上下文中可用（以及在其他特定于目标的分配中）。* ”它们不能用于目标模式或 pre 列表中-requisites，它解释了为什么当先决条件之一`$(OBJ_MODULENAME)`发生变化时目标不会被重建。

要`$(OBJ_CURRENTMOD)`在先决条件列表中有效，您需要使用[辅助扩展](http://www.gnu.org/software/make/manual/make.html#Secondary-Expansion)

```
*.SECONDEXPANSION:* 
$(LIBDIR)%.so: *$$* (OBJ_CURRENTMOD)
        $(CXX) $(CXXLIBLINK) -o $@ $(OBJ_CURRENTMOD) $(LIB)
```

# ms-access - 在过滤器字符串中使用变量

> ID：11078904
> 
> 赞同：0
> 
> 时间：2012-06-18T07:58:09.933
> 
> 标签：ms-access, vba

我有一个从表中返回数据的子表单。但是我想通过使用 filter 属性进一步过滤这些数据。

我有一组单选按钮、组合框和一个 case 语句，它根据单选按钮的选择将我想要使用的变量设置为正确的值

我用于填充变量的代码运行良好，但我不能使用 vba 来设置过滤器，除非我手动输入我想要的字符串。

我认为我的问题是我的过滤器字符串在语法上不正确，但我不确定如何。可能与文本分隔符有关。

```
Forms![frmPendingActions]![qryPendingAction subform].Form.Filter = Filterby = FilterCrit
Forms![frmPendingActions]![qryPendingAction subform].Form.FilterOn = True 
```

假设这个问题 Filterby=[Reporter] 和 FilterCrit= Fake Name

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T08:42:47.887

是的，我认为问题与文本分隔符有关。代码应类似于以下内容：

```
Forms![frmPendingActions]![qryPendingAction subform].Form.Filter = "[Reporter] ='" &  FilterCrit  & "'" 
```

过滤器的构建应该与没有 where 字的 where 子句完全相同。如果您过滤的列具有文本数据类型，则条件需要用单引号或双引号括起来。如果列是日期数据类型，则需要将其括在 # 中。如果该列是数字数据类型，则不需要将其括起来。

如果您不总是希望按 Reporter 列进行过滤，那么您可以使用 if 语句或 select case 语句构建一个字符串，然后将该字符串应用于表单过滤器。

例如：

```
If [somecondition] Then
   strFilter="[Reporter]='" & FilterCrit & "'"
Else
   strFilter="[ID]=" & 0
End If
Forms![frmPendingActions]![qryPendingAction subform].Form.Filter = strFilter 
```

我希望这有帮助。

# c# - 在 T4 模板中使用类

> ID：11078905
> 
> 赞同：10
> 
> 时间：2012-06-18T07:58:10.793
> 
> 标签：c#, t4

我需要能够在 T4 模板中使用一个类，这两个模板都位于我的解决方案中。我有一个名为`Container`in的类`Container.cs`。在我的文本模板中，我希望能够访问`Container`类。关于如何做到这一点的任何想法。基本上是这样的：

`<#@ template language="C#" #>`

`<# var container = new Container() #>`

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-06-18T22:48:39.600

通常，如果您需要在模板中实际使用 Container 类的功能，则需要加载项目正在构建的程序集。这确实引入了循环依赖，因为您需要构建版本的程序集才能重新生成将包含在该程序集中的代码，因此请注意这一点。

如果您使用的是 VS2010 或更高版本，您将能够使用类似：

```
<#@ assembly name="$(TargetPath)" #>
<#@ import namespace="Your.Namespace" #> 
```

然后使用您的 Container 类。

如果您有 VS2010SP1 或更高版本，这将不会导致您无法将该程序集锁定在内存中，但如果您比这更早，那么您必须在每一代之后重新启动 Visual Studio，然后才能重建您的项目。

# javascript - 带返回值的验证函数

> ID：11078908
> 
> 赞同：1
> 
> 时间：2012-06-18T07:58:22.353
> 
> 标签：javascript, jquery

我有一个通用的验证功能

```
function connect_and_update_destination() {
        var flag = true;
        // Validate IP
        if (!validate_ip_address()) {
            alert(protect.lang.enter_valid_ip);
            return;
        }

        if ($('#pjm_alias').val() === '') {
            $('#pjm_alias').focus();
            alert(protect.lang.enter_alias);
            return;
        }

        if ($('#pjm_auth_name').val() === '') {
            $('#pjm_auth_name').focus();
            alert(protect.lang.enter_auth_name);
            return;
        }

        if ($('#pjm_auth_password').val() === '') {
            $('#pjm_auth_password').focus();
            alert(protect.lang.enter_auth_pwd);
            return;
        }
        var ip = $('#pjm_ip1').val()+'.'+$('#pjm_ip2').val()+'.'+$('#pjm_ip3').val()+'.'+$('#pjm_ip4').val();
        return establish_connection(ip, $('#pjm_alias').val(), $('#pjm_auth_name').val(), $('#pjm_auth_password').val());
    } 
```

成功验证后，它总是返回**建立连接（）**，我的问题是我像这样调用这个**connect_and_update_destination（）**，

```
function first_call(){
  connect_and_update_destination();
}
function second_call(){
  connect_and_update_destination();
} 
```

当第一次调用时，我需要在成功验证**建立连接（）**后返回，但是当我使用第二个函数 [second_call（）] 调用它时，它不应该返回**建立连接（）**，而不是返回建立连接（ **）** ，我只需要返回。但是我该怎么做，这意味着我不想在我使用**second_call() 调用时输入establish_connection()**。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T08:02:11.867

您可以向`connect_and_update_destination`函数添加参数：

```
function connect_and_update_destination(establishConnection) {
    var flag = true;
    // Validate IP
    if (!validate_ip_address()) {
        alert(protect.lang.enter_valid_ip);
        return;
    }

    if ($('#pjm_alias').val() === '') {
        $('#pjm_alias').focus();
        alert(protect.lang.enter_alias);
        return;
    }

    if ($('#pjm_auth_name').val() === '') {
        $('#pjm_auth_name').focus();
        alert(protect.lang.enter_auth_name);
        return;
    }

    if ($('#pjm_auth_password').val() === '') {
        $('#pjm_auth_password').focus();
        alert(protect.lang.enter_auth_pwd);
        return;
    }

    if (!establishConnection) {
        return;
    }

    var ip = $('#pjm_ip1').val()+'.'+$('#pjm_ip2').val()+'.'+$('#pjm_ip3').val()+'.'+$('#pjm_ip4').val();
    return establish_connection(ip, $('#pjm_alias').val(), $('#pjm_auth_name').val(), $('#pjm_auth_password').val());
} 
```

进而：

```
function first_call() {
    connect_and_update_destination(true);
}
function second_call() {
    connect_and_update_destination(false);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-18T08:02:12.523

你可以做一些简单的事情，比如传递一个变量。

```
function connect_and_update_destination(establishConnection) {

 ...

 if(!establishConnection)
   return;

 return establish_connection(ip, $('#pjm_alias').val(), $('#pjm_auth_name').val(), $('#pjm_auth_password').val());
}

function first_call(){
  connect_and_update_destination(true);
}
function second_call(){
  connect_and_update_destination(false);
} 
```

对于更通用的解决方案，您可以传递回调：

```
function connect_and_update_destination(callback) {

    ...

    if(typeof callback === 'function') {
       return callback(ip);
    }

    return;
}

function first_call() {
    var result = connect_and_update_destination(function(ip) {
       return establish_connection(ip, $('#pjm_alias').val(), $('#pjm_auth_name').val(), $('#pjm_auth_password').val());
    });
}

function second_call() {
    connect_and_update_destination();
} 
```

# bash - 在bash中执行字符串中的命令

> ID：11078910
> 
> 赞同：0
> 
> 时间：2012-06-18T07:58:35.300
> 
> 标签：bash, fastq

我有一个字符串，其中包含我想在 bash 脚本中执行的命令。我怎样才能做到这一点？抱歉这么基本的问题，但我是 bash 的新手。这是我的代码：

```
echo "What is the path to save the result files?"
read out_path

end_cm1=$"fastqc -o "$out_path$" --noextract -fastq "$files1 
```

我想执行 end_cm1 变量中的指令。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T08:06:48.073

首先，您根本不必将该命令放在字符串中：您可以这样做：

```
fastqc -o "$out_path" --noextract -fastq $files1 
```

（如果路径中有空格，我建议`$out_path`在此处加上引号。我没有加上`$files1`引号，因为您的变量是复数，所以我假设有多个；您也应该注意这些文件名中的空格。 )

其次，您提出的问题的答案是`eval`：

```
eval $end_cm1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T12:26:07.767

您的字符串中只有一个轻微的语法问题：

```
end_cm1="fastqc -o $out_path --noextract -fastq $files1"
$enc_cm1 
```

话虽如此，@ams 是正确的，首先不需要将其分配给字符串，以及不引用所涉及的风险`$files1`。

# objective-c - 内存泄漏的地方，因为显示泄漏

> ID：11078911
> 
> 赞同：0
> 
> 时间：2012-06-18T07:58:37.060
> 
> 标签：objective-c, ios, cocoa-touch, instruments

在我的代码中显示 2 处内存泄漏，请参阅并帮助我。

1.第一

```
UIButton *push = (UIButton *)sender;
NSString *string = [NSString stringWithFormat:@"%@",[push currentTitle]];
NSArray *chunks = [[NSArray alloc]initWithArray:[stringcomponentsSeparatedByString:@"-"]];
list = [[NSMutableArray alloc]initWithArray:chunks];
(NSMutableArray *list;)
[chunks release]; 
```

2.第二

这里首先是源代码

```
NSAutoreleasePool *pool = [NSAutoreleasePool new];
NSURL *url = [[NSURL alloc]initWithString:@"http://www/absdf.com/myXML.xml"];
self.parser = [[NSXMLParser alloc]initWithContentsOfURL:url];
[parser setDelegate:self];
[parser parse];
[parser release];
[url release];
[pool drain]; 
```

虽然我正在执行此代码并在行号上使用此仪器工具：2 显示内存泄漏和最重的回溯。所以请告诉原因。？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:06:12.073

显然，`list = [[NSMutableArray alloc]initWithArray:chunks];`永远不会被释放。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T08:08:51.813

```
self.parser = [[NSXMLParser alloc]initWithContentsOfURL:url]; 
```

`alloc/init`返回一个`retained`对象，如果你的`parser`属性是用`retain`属性声明的，那么你就过度保留它了。它应该是：

```
 self.parser = [[[NSXMLParser alloc]initWithContentsOfURL:url] autorelease]; 
```

PS 确保您对`list`实例变量进行了适当的内存管理。只是为了确保您更好地使用属性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T08:09:05.357

1.  列表应该在某个地方发布，也许在 dealloc

    ```
    - (void)dealloc {
       [list release];
       [super dealloc];
    } 
    ```

2.  `parser = [[NSXMLParser alloc]initWithContentsOfURL:url];`

或者

```
NSXMLParser *tempParser = [[NSXMLParser alloc]initWithContentsOfURL:url];
self.parser = tempParser;
[tempParser release]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-18T08:09:34.813

除了其他答案之外，您的池应该被释放

```
NSAutoreleasePool *pool = [NSAutoreleasePool new];

//... then
[pool release]; 
```

# html - 如何在 CSS 中设置图像的最大宽度

> ID：11078913
> 
> 赞同：97
> 
> 时间：2012-06-18T07:58:42.960
> 
> 标签：html, css, image, image-resizing

在我的网站上，我想在具有特定尺寸（`width: 600px`）的新窗口中显示用户上传的图像。问题是图像可能很大。所以如果它们比这些大`600px`，我想调整它们的大小，保留纵横比。

我尝试了`max-width`CSS 属性，但它不起作用：图像的大小没有改变。

有没有办法解决这个问题？

**HTML**：

```
<div id="ImageContainerr">
    <img src="DisplayImage.do?ad_id=${requestScope.advert.id}" class="Image" />
</div> 
```

**CSS**：

```
img.Image { max-width: 100%;}
div#ImageContainer { width: 600px; } 
```

我也尝试设置`max-width: 600px`图像，但不起作用。图像从 servlet 流式传输（它存储在 Tomcat 的 webapps 文件夹之外）。

* * *

## 回答 #1

> 赞同：152
> 
> 时间：2012-06-18T08:09:07.727

你可以这样写：

```
img{
    width:100%;
    max-width:600px;
} 
```

检查这个[http://jsfiddle.net/ErNeT/](http://jsfiddle.net/ErNeT/)

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2019-07-16T16:38:48.753

我看到这还没有作为最终答案。

我看到您的最大宽度为 100%，宽度为 600。翻转它们。

一个简单的方法也是：

```
 <img src="image.png" style="max-width:600px;width:100%"> 
```

我经常使用它，然后您也可以控制单个图像，而不是在所有 img 标签上都有它。你也可以像下面这样 CSS 它。

```
 .image600{
     width:100%;
     max-width:600px;
 }

     <img src="image.png" class="image600"> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2017-01-23T16:32:36.507

问题是**img**标签是内联元素，你不能限制内联元素的宽度。

因此，要首先限制 img 标签宽度，您需要将其转换为 inline-block 元素

```
img.Image{
    display: inline-block;
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-02-02T11:12:05.630

给定您的容器宽度 600px。

如果您只想要更大的图像以适合内部，请添加：CSS：

```
#ImageContainer img {
    max-width: 600px;
} 
```

如果您希望所有图像占用可用（600 像素）空间：

```
#ImageContainer img {
    width: 600px;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-18T08:11:23.033

尝试这个

```
 div#ImageContainer { width: 600px; }
 #ImageContainer img{ max-width: 600px} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-08-17T06:08:53.697

你的CSS几乎是正确的。您只是`display: block;`在图像 css 中丢失了。你的身份证上还有一个错字。它应该是`<div id="ImageContainer">`

```
img.Image { max-width: 100%; display: block; }
div#ImageContainer { width: 600px; }
```

```
<div id="ImageContainer">
    <img src="http://placehold.it/1000x600" class="Image">
</div>
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2022-02-02T04:44:42.847

将元素包装在具有固定宽度/高度的 div 中：

```
<div style="width: 600px;">
  <img src="whatever" />
</div> 
```

# c++ - 如何在 64 位机器上将 C++ 程序编译为 64 位？

> ID：11078915
> 
> 赞同：20
> 
> 时间：2012-06-18T07:58:57.910
> 
> 标签：c++, compilation, makefile, g++, 64-bit

也许是一个非常微不足道的问题：

我需要将程序编译为 64 位（早期编写的 makefile 将其编译为 32 位）。

我看到选项 -m32 出现在每个文件编译的命令行参数中。因此，我修改了 makefile 以摆脱 OPTFLAG 中的 -m32 ，但是当程序再次编译时，我仍然看到 -m32 出现并且二进制文件仍然是 32 位的。这个 m32 是否也来自其他地方？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-06-18T09:16:47.043

`-m32`只能来自你的makefile中的某个地方，你必须追踪它（使用递归grep）并删除它。

> 当我能够强制 -m64 时，我得到“您选择的 CPU 不支持 x86-64 指令集”。任何线索？uname -a 给出 x86_64

该错误意味着`-march=i686`在 makefile 中有一个选项，该选项对 64 位编译无效，请尝试将其删除。

如果你不能删除它（努力尝试！）然后`-march=x86-64`在命令行上添加它会指定一个通用的 64 位 CPU 类型。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-06-18T08:16:10.823

如果您尝试构建的软件是基于自动工具的，那么这应该可以解决问题：

```
./configure "CFLAGS=-m64" "CXXFLAGS=-m64" "LDFLAGS=-m64" && make 
```

或者，对于一个普通的 Makefile：

```
env CFLAGS=-m64 CXXFLAGS=-m64 LDFLAGS=-m64 make 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-07-16T02:48:02.237

如果您使用的是 cmake，则可以通过以下方式添加 m64 编译选项：

```
add_compile_options(-m64) 
```

# python - Scrapy忽略URL中#标签后的内容

> ID：11078916
> 
> 赞同：0
> 
> 时间：2012-06-18T07:58:58.420
> 
> 标签：python, url, scrapy

嗨，我正在抓取一个具有如下 URL 的网站

```
http://www.example.com/categories-Mobile-Phones.aspx#RSS=pgZZ1QQdivZZctl00_ContentPlaceHolder1_ctl00_ctl03 
```

我已将其放入`start_url`并要求回复，但我收到的回复如下

```
<200 http://www.example.com/categories-Mobile-Phones.aspx> 
```

也就是说，它只是忽略了之后的内容`hash tag`，所以我阅读了一些帖子并开始知道，当我们请求带有哈希标签的 url 时，服务器只会忽略哈希片段，我的意思是哈希片段用于加载一些额外的信息ajax 或 javascript requests.so 我用下面`start_url`的`exclamatory mark(!)`after替换了 url`# tag`

```
http://www.example.com/categories-Mobile-Phones.aspx#!RSS=pgZZ1QQdivZZctl00_ContentPlaceHolder1_ctl00_ctl03 
```

现在的输出是

```
<GET http://www.example.com/categories-Mobile-Phones.aspx?_escaped_fragment_=RSS=pgZZ1QQdivZZctl00_ContentPlaceHolder1_ctl00_ctl03 
```

我已经通过阅读这篇文章做到了这一点`https://developers.google.com/webmasters/ajax-crawling/docs/getting-started`，根据这篇文章中的概念，我需要将输出 URL 转换为`?_escaped_fragment_=`包含`#`（我的意思是原始 URL）的 URL 以完全解析页面，而不会忽略哈希片段。如何转换它。

我希望我解释得很好，如果不是，请纠正我，让我知道如何使不忽略来自 URL 的哈希片段的scrapy 的概念。

提前致谢...............

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T08:39:34.807

没关系。无论有没有哈希，URI 都指向完全相同的页面。

散列后的东西是片段标识符。您的浏览器将使用它将页面滚动到页面的特定部分。

像这样...

[http://www.w3.org/TR/html4/intro/intro.html#h-2.1.2](http://www.w3.org/TR/html4/intro/intro.html#h-2.1.2)

...和这个...

[http://www.w3.org/TR/html4/intro/intro.html](http://www.w3.org/TR/html4/intro/intro.html)

..都检索相同的页面。前者只是告诉您从页面上的哪个位置开始阅读。

编辑：

start_urls = ['themobilestore.in/home-mobiles-&-tablet/?page=1', 'themobilestore.in/home-mobiles-&-tablet/?page=2', ]

# magento - 如何覆盖magento默认欢迎消息？

> ID：11078918
> 
> 赞同：3
> 
> 时间：2012-06-18T07:59:16.157
> 
> 标签：magento

我编写了以下代码。

我的文件夹结构是 :: app\code\local\ChangeWelcome\Page （最后两个是 NameSpace/Module_Name）

我的 config.xml 是

```
<config>
 <modules> 
    <ChangeWelcome_Page> 
        <version >0.1.0 </version > 
    </ChangeWelcome_Page > 
    </modules > 
 <global>
    <page>
        <block>
            <html>
                <rewrite>
                    <item>ChangeWelcome_Page_Block_Html_Header</item>
                </rewrite>
            </html>
        </block>
    </page>
   </global>
 </config> 
```

我的 ChangeWelcome/Page/Block/Html/Header.php 是

```
class ChangeWelcome_Page_Block_Html_Header extends Mage_Page_Block_Html_Header
        {
            public function getWelcome()
            {
               echo "Ok------------1";
            }
        } 
```

我的 app/etc/modules/ChangeWelcome_Page.xml 是

```
<config>
      <modules>
    <ChangeWelcome_Page>
        <active>true</active>
        <codePool>local</codePool>
    </ChangeWelcome_Page>
    </modules>
</config> 
```

该模块显示为 System -> COnfiguration -> Advanced-> Advanced as ChangeWelcome_Page（已启用）。

前端仍然没有任何反应。

任何帮助将不胜感激。

谢谢和问候， Rupak Banerjee。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T08:26:41.073

你的 config.xml 是错误的。它需要看起来像这样......

```
<config>
    <modules> 
        <ChangeWelcome_Page> 
            <version>0.1.0</version> 
        </ChangeWelcome_Page> 
    </modules> 
    <global>
        <blocks>
            <page>
                <rewrite>
                    <html_header>ChangeWelcome_Page_Block_Html_Header</html_header>
                </rewrite>
            </page>
        </blocks>
    </global>
</config> 
```

如果您只想更改欢迎消息，您实际上可以通过管理区域执行此操作，而无需模块和块重写：

```
system > configuration > design > header > welcome text 
```

# c# - BindingSource/DataGridView 交互

> ID：11078919
> 
> 赞同：6
> 
> 时间：2012-06-18T07:59:19.240
> 
> 标签：c#, winforms, datagridview

我不明白为什么我的 DataGridView 一直为空（没有行，没有自动生成的列）：

```
BindingList<MyObject> bList = new BindingList<MyObject>();
 fileStream.Position = 0;
 MyObject.Deserialize(fileStream).ForEach(
     j => bList.Add(j));

 this.bindingSource1.SuspendBinding();

 this.dataGridView1.Columns.Clear();
 this.dataGridView1.AutoGenerateColumns = true;
 this.dataGridView1.Enabled = false;
 this.dataGridView1.Invalidate();
 this.bindingSource1.DataSource = bList;
 this.dataGridView1.DataSource = bindingSource1;
 this.bindingSource1.ResumeBinding();
 this.dataGridView1.Enabled = true;
 this.dataGridView1.Refresh(); 
```

其中 MyObject 定义为

```
public class MyObject
{
    public DateTime CreationDate;
    public string CreationId;

    public static List<MyObject> Deserialize(Stream s)
    {
        XDocument xml = XDocument.Load(s);

        var ps = from p in xml
                      .Descendants("p")
                      .Descendants("object")
                  select
                      new MyObject
                      {
                          CreationId = p.Attribute("creationid").Value
                      };

        return ps.ToList();
    }

} 
```

此外，如果我如下明确设置列，则会将行添加到网格中，但它们都是空的

```
DataGridViewTextBoxColumn dc = new DataGridViewTextBoxColumn();
            dc.DataPropertyName = "CreationDate";
            dc.HeaderText = "CreationDate";
            dc.Name = "CreationDate";
            dc.Visible = true;
            dc.AutoSizeMode = DataGridViewAutoSizeColumnMode.Fill;
            this.dataGridView1.Columns.Add(dc);

            dc = new DataGridViewTextBoxColumn();
            dc.DataPropertyName = "CreationId";
            dc.HeaderText = "CreationId";
            dc.Name = "CreationId";
            dc.Visible = true;
            dc.AutoSizeMode = DataGridViewAutoSizeColumnMode.Fill;
            this.dataGridView1.Columns.Add(dc); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-18T09:30:04.687

在 Winforms 项目中，尝试此代码（您已发布的模拟器的类型 & `it works !`）然后映射/调试到您现有的代码以缩小问题范围：-

```
 DataGridView dgv = new DataGridView();
    //Note: AutogenerateColumns is true by default
    BindingSource bs = new BindingSource();
    BindingList<Customer> bList = new BindingList<Customer>();

    // Fill bList with Customers
    bList.Add(new Customer(){Name="John"});

    bs.DataSource = bList;
    dgv.DataSource = bs;

    this.Controls.Add(dgv); 
```

> **MyObject**等价物**：-**

```
public class Customer
    {
        public string Name { get; set; }
    } 
```

* * *

因此，`to Debug your code` *通过映射到上述一个*，您可以**删除**这些位 -

```
 this.bindingSource1.SuspendBinding();
 this.dataGridView1.Columns.Clear();
 this.dataGridView1.AutoGenerateColumns = true;
 this.dataGridView1.Enabled = false;
 this.dataGridView1.Invalidate();
 this.bindingSource1.ResumeBinding();
 this.dataGridView1.Enabled = true;
 this.dataGridView1.Refresh(); 
```

＆`just have this`在第一次审判中 -

```
 this.bindingSource1.DataSource = bList;
 this.dataGridView1.DataSource = bindingSource1; 
```

# objective-c - 删除两个字符之间的字符串

> ID：11078928
> 
> 赞同：3
> 
> 时间：2012-06-18T08:00:13.273
> 
> 标签：objective-c, ios

这是我的示例字符串

> （括号）中要（删除）的单词字符串

我想删除括号内的所有单词以及一对括号，之后字符串将如下所示：

> 一串单词 in to be

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-18T08:08:11.537

使用正则表达式删除字符串如下所示（这`@"\\(.+?\\)"`是 ( 和 ) 之间的字符串的正则表达式）

```
NSMutableString *str = [@"String of words in (brackets) to be (removed)" mutableCopy];

NSRegularExpression *regex = [NSRegularExpression         
                              regularExpressionWithPattern:@"\\(.+?\\)"
                              options:NSRegularExpressionCaseInsensitive
                              error:NULL];

[regex replaceMatchesInString:str 
                      options:0 
                        range:NSMakeRange(0, [str length])  
                 withTemplate:@""]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T08:31:32.647

您可以在空间基础上拆分字符串，然后在您获取数组索引之后......并组合该字符串。

# c# - gtk#有一个弹出添加窗口更新调用窗口的liststore和gtktreeview

> ID：11078930
> 
> 赞同：0
> 
> 时间：2012-06-18T08:00:15.957
> 
> 标签：c#, gtk#

我是 GTK# 和 C# 的新手，并且已经阅读了可用的教程并且进展顺利，但是我有一个找不到答案的问题。

我已经建立了一个带有 GTKTreeview 的窗口，它使用 ListStore 作为模型。我写了一个添加窗口，当按下添加按钮时会弹出。添加窗口将数据添加到数据库中，但我希望能够使用新添加的数据更新 liststore 和 gtktreeview 窗口。

添加窗口清除输入字段并重新聚焦文本条目，以便您可以在关闭添加窗口之前进行多次添加。每次按下添加按钮时，我都想用 gtktreeview 更新调用窗口，但不知道该怎么做。

我希望这是有道理的，并希望有人可以帮助 c# 和 gtk# 的新手。

谢谢，安东尼

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:17:09.020

最简单的方法是向添加窗口传递一个对调用窗口的引用，并为调用窗口提供合适的方法供添加窗口调用以完成这些更新。如果您不介意在调用窗口之外修改它们，您也可以将相关数据结构直接传递到添加窗口。

# regex - 在 Eclipse 正则表达式中重复模式匹配

> ID：11078933
> 
> 赞同：1
> 
> 时间：2012-06-18T08:00:20.903
> 
> 标签：regex, eclipse

我正在尝试将 XML 文件转换为 Eclipse 中的 SQL 语句，以节省转换大文件的手动工作。

一行如：

```
<TABLE_NAME COL_1="value1" COL_2="value2"/> 
```

应转换为：

```
insert into TABLE_NAME (COL_1, COL_2) values ("value1", "value2"); 
```

到目前为止，我已经成功地匹配并捕获了表名和第一列/值对：

```
<(\w+)( \w+)=(".+?").*/> 
```

`.*`近端只是用来测试模式的第一部分，一旦完成就应该移除。

以下替换模式产生以下结果：

```
insert into $1 ($2) values ($3);
insert into TABLE_NAME ( COL_1) values ("value1"); 
```

我遇到的问题是不同表的列数不同，所以我想要一个匹配*n*列/值对并在替换模式中重复使用捕获的组的通用模式。`\G`尽管似乎是一个不错的候选人，但我还没有设法理解如何做到这一点。

理想情况下，这将在单个正则表达式语句中解决，尽管我也不会反对必须按顺序运行的多个语句（尽管我真的不想强迫开发人员为每一列执行一次/值对）。

有人有想法么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-19T07:17:40.263

I did not in the end solve this with regular expressions as originally envisaged. Taking alternative solutions in mind, it was solved in the end by re-factoring test code to make it re-usable and then co-opting [dbunit](http://www.dbunit.org/) to use tests to write data to the different stages of the development databases.

I know that this is a misuse of tests, but it does make the whole thing much simpler since the user gets a green/red feedback as to whether the data is inserted or not and the same test data can be inserted for manual acceptance tests as is used for the automated component/integration tests (which used dbunit with an in-memory database). As long as these fake test classes are not added to the test suite, then they are only executed by hand.

The resulting fake tests ended up being extremely simple and lightweight, for instance:

```
public class MyComponentTestDataInserter extends DataInserter {
  @Override
  protected String getDeleteSql() {
    return "./input/component/delete.sql";
  }

  @Override
  protected String getInsertXml() {
    return "./input/component/TestData.xml";
  }

  @Test
  public void insertIntoDevStage() {
    insertData(Environment.DEV);
  }

  @Test
  public void insertIntoTestStage() {
    insertData(Environment.TEST);
  }
} 
```

This also had the additional advantage that a developer can insert the data in to a single environment by simply executing a single test method via the context menu in the IDE. At the same time, by running the whole test class, the exact same data can be deployed to all environments simultaneously.

Also, a failure at any point during data cleanup or insertion causes the whole transaction to be rolled back, preventing an inconsistent state.

# android - Android：ImageView、LinearLayout 和 TextView 高度返回负数，0 和 0，为什么？

> ID：11078936
> 
> 赞同：1
> 
> 时间：2012-06-18T08:00:39.320
> 
> 标签：android, android-layout

我试图在我的线性布局中缩放图像以填充可用空间，但我不明白我得到的布局宽度的值。这是我的 main.xml 布局文件的相关部分：

```
<LinearLayout 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/LeftButtonsLayout"
    android:layout_width="0dip"
    android:layout_height="fill_parent"
    android:layout_weight="10"
    android:orientation="vertical" >

    <TextView
    android:id="@+id/Jump"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="@string/jump"
    android:textStyle="bold"
    android:padding="5dip"
    />
    <ImageView
    android:id="@+id/JumpButton"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:adjustViewBounds="true"
    android:src="@drawable/jump"
    android:contentDescription="@string/jump"
    android:padding="5dip"
    />
<LinearLayout 
```

这是我的活动的 onCreate() 方法，它有一个调试打印：

```
public void onCreate (Bundle savedInstanceState) {

    setContentView(R.layout.main);

    LinearLayout leftButtonsLayout = (LinearLayout) findViewById(R.id.LeftButtonsLayout);
    imageView = (ImageView) findViewById(R.id.ResetButton);

    Log.d("DEBUG", CLASS_NAME + "scaleLeftButtonsLayoutContents: \n" + 
          "linear layout height: " + leftButtonsLayout.getHeight() + "\n" +
      "text height: " + ((TextView)findViewById(R.id.Jump)).getHeight()  + "\n" +
          "image height: " + imageView.getLayoutParams().height); 

} 
```

1) 如果我在 Log.d() 调试打印之后放置 setContentVew() 调用，我会得到一个空指针异常。为什么？在视图上使用之前，是否没有为 LinearLayout 分配内存？

2）我看到的打印是：线性布局高度：0 文本高度：0 图像高度：-2 我在这里做错了什么？我希望在这里看到合理的值，因为我可以在设备屏幕上看到 imageView。

3) 我打算使用以下方法缩放图像：imageView.getLayoutParams().height = newHeight。这样做对吗？这样做会自动更新屏幕上的 imageView，还是我必须再次执行 setContentView()？

在此先感谢您的帮助。

**更新**

谢谢大家的回答。我已经覆盖了我的活动的 onWindowFocusChanged() 方法，但是当我检查下面嵌套的 ImageView 的大小时，它报告为 -2。调整它的大小是可行的，但我很好奇为什么它应该有一个理智的值时是-2。我的代码如下：

```
@Override
public void onWindowFocusChanged (boolean hasFocus) {
    super.onWindowFocusChanged(hasFocus);

    if (hasFocus)
        scaleLeftButtonsLayoutContents();
}

private void scaleLeftButtonsLayoutContents () {
    LinearLayout leftButtonsLayout = (LinearLayout)findViewById(R.id.LeftButtonsLayout);

    imageView = (ImageView) findViewById(R.id.JumpButton);      
    Log.d("TAG", CLASS_NAME + "JumpButton.height " + imageView.getLayoutParams().height);
    imageView.getLayoutParams().height = verticalSpaceAvailable;
    imageView.getLayoutParams().width = verticalSpaceAvailable;

    leftButtonsLayout.requestLayout();
} 
```

这会产生打印： JumpButton.height -2

调整大小会产生一个健全的图像，但为什么初始高度是-2？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-18T08:07:18.860

为了回答你的观点，

1）这是因为你还没有初始化你的Button或ImageView。由于您在执行此操作之前调用了 Log，显然 Button 和 ImageView 为空，因此您会收到异常。

2）初始化并不意味着您的视图被完全绘制为您提供宽度和高度。所以你必须提供时间让自己被吸引。但不幸的是，我们不知道绘制的确切时间。所以Android提供了这个方法，

```
 @Override 
public void onWindowFocusChanged(boolean hasFocus) 
{ 
   // which gets called when your view is drawn. 
 } 
```

刚才[在这里](https://stackoverflow.com/a/11078714/603744)回答了一个类似的问题。

所以你要做的是，在你的活动中的这个方法中添加你的日志，然后检查结果的宽度和高度。

3）要回答您的第三个问题，您绝对不应该再次调用 setContentView() ，这可能会引发其他一些异常。但是在考虑缩放时，您可能会使用一些位图来执行此操作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-18T08:15:18.030

这里有一些答案给你：

1）如果您在调用 view.getHeight() 之后放置 setContentView ，您将获得空指针，因为该视图未在 Activity 内容上设置，因此在将其设置为 Activity 内容之前您无法获得对它的引用

2）您会看到，因为视图没有时间进行布局..如果您想查看视图的高度/宽度，最好使用这样的 ViewTreeObserver 侦听器：

```
view.getViewTreeObserver().addOnGlobalLayoutListener(new     ViewTreeObserver.OnGlobalLayoutListener() {
            @Override
            public void onGlobalLayout() {
                /* don't forget to remove the listener after you use it once */
                view.getViewTreeObserver().removeGlobalOnLayoutListener(this);

                Log.d("MY VIEW WIDTH","width:"+view.getWidth());

            }
        }); 
```

3）设置视图的布局参数后，不要忘记调用`view.requestLayout()`以确保您的视图将刷新。您不必再次调用 setContentView()。

编辑：如果您想查看线性布局的子视图，LinearLayout 的宽度必须至少为 wrap_content 如果不是 fill_parent 或大于 0 的值。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-18T08:12:49.920

你不能这样做。因为线性布局是您活动的主要容器。您不能提供`android:layout_weight="10"`和`android:layout_width="0dip"`主布局。在此之外创建一个线性布局`android:id="@+id/LeftButtonsLayout"`，并将布局高度和宽度设置为`fill_parent`or `match_parent`。这将适用于您的情况。

还有一件事，你不能允许在`setContentView`.

# java - 集成检票口和发音

> ID：11078939
> 
> 赞同：0
> 
> 时间：2012-06-18T08:00:47.907
> 
> 标签：java, web-services, maven, wicket, enunciate

我现在正在学习如何通过这篇文章[http://docs.codehaus.org/display/ENUNCIATE/A+Rich+Web+service+API+for+Wicket](http://docs.codehaus.org/display/ENUNCIATE/A+Rich+Web+service+API+for+Wicket)来集成检票口和发音。但结果与那个网站不同。api 文件夹已成功生成，但是当我指向 xml 或 json 或 rest 或 soap 中的 API 时，我无法访问它们。

以下是我在 cmd 中尝试“mvn:jetty-run”时得到的信息：

```
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building Wicket Examples 1.5.7
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] >>> jetty-maven-plugin:7.4.2.v20110526:run (default-cli) @ wicket-example
s >>>
[WARNING] Could not transfer metadata org.jvnet.staxex:stax-ex/maven-metadata.xm
l from/to java.net.1 (http://download.java.net/maven/1): No connector available
to access repository java.net.1 (http://download.java.net/maven/1) of type legac
y using the available factories WagonRepositoryConnectorFactory
[INFO]
[INFO] --- maven-enunciate-spring-plugin:1.18:assemble (default) @ wicket-exampl
es ---
[INFO] C:\Users\AGI\Downloads\apache-wicket-1.5.7\src\wicket-examples\enunciate.
xml exists, so it will be used.
[INFO] initializing enunciate.
[INFO] invoking enunciate:generate step...
[INFO] [c] Skipping C code generation because everything appears up-to-date.
[INFO] [csharp] Skipping C# code generation because everything appears up-to-dat
e.
[INFO] [jaxws-ri] Skipping generation of JAX-WS RI support as everything appears
 up-to-date....
[INFO] [jaxws-support] Skipping JAX-WS support generation as everything appears
up-to-date...
[INFO] [jersey] Skipping generation of JAX-RS support files because everything a
ppears up-to-date.
[INFO] [obj-c] Skipping C code generation because everything appears up-to-date.

[INFO] [ruby] Skipping Ruby code generation because everything appears up-to-dat
e.
[INFO] [xml] Skipping generation of XML files since everything appears up-to-dat
e...
[INFO] [jaxws-client] Skipping generation of JAX-WS Client sources as everything
 appears up-to-date...
[INFO] [docs] Skipping documentation source generation as everything appears up-
to-date...
[INFO] [spring-app] Skipping generation of spring config files as everything app
ears up-to-date...
Note: Some input files use or override a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
[INFO] invoking enunciate:compile step...
[INFO] [jaxws-client] Skipping compilation of JAX-WS client classes as everythin
g appears up-to-date...
[INFO] invoking enunciate:build step...
[INFO] [jaxws-client] Skipping creation of JAX-WS client jar as everything appea
rs up-to-date...
[INFO] [jaxws-client] Skipping creation of the JAX-WS client source jar as every
thing appears up-to-date...
[INFO] [basic-app] Skipping the build of the expanded war as everything appears
up-to-date...
[INFO] invoking enunciate:package step...
[INFO] closing enunciate.
[INFO]
[INFO] --- maven-remote-resources-plugin:1.2:process (default) @ wicket-examples
 ---
[INFO] Setting property: classpath.resource.loader.class => 'org.codehaus.plexus
.velocity.ContextClassLoaderResourceLoader'.
[INFO] Setting property: velocimacro.messages.on => 'false'.
[INFO] Setting property: resource.loader => 'classpath'.
[INFO] Setting property: resource.manager.logwhenfound => 'false'.
[WARNING] Failure to transfer org.jvnet.staxex:stax-ex/maven-metadata.xml from h
ttp://download.java.net/maven/1 was cached in the local repository, resolution w
ill not be reattempted until the update interval of java.net.1 has elapsed or up
dates are forced. Original error: Could not transfer metadata org.jvnet.staxex:s
tax-ex/maven-metadata.xml from/to java.net.1 (http://download.java.net/maven/1):
 No connector available to access repository java.net.1 (http://download.java.ne
t/maven/1) of type legacy using the available factories WagonRepositoryConnector
Factory
[INFO]
[INFO] --- maven-resources-plugin:2.4.3:resources (default-resources) @ wicket-e
xamples ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 661 resources
[INFO] Copying 12 resources
[INFO] Copying 3 resources
[INFO]
[INFO] --- maven-compiler-plugin:2.4:compile (default-compile) @ wicket-examples
 ---
[INFO] Compiling 5 source files to C:\Users\AGI\Downloads\apache-wicket-1.5.7\sr
c\wicket-examples\target\classes
[INFO]
[INFO] --- maven-bundle-plugin:2.2.0:manifest (bundle-manifest) @ wicket-example
s ---
[WARNING] Ignoring project type war - supportedProjectTypes = [jar, bundle]
[INFO]
[INFO] --- maven-resources-plugin:2.4.3:testResources (default-testResources) @
wicket-examples ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 3 resources
[INFO]
[INFO] --- maven-compiler-plugin:2.4:testCompile (default-testCompile) @ wicket-
examples ---
[INFO] Nothing to compile - all classes are up to date
[INFO]
[INFO] <<< jetty-maven-plugin:7.4.2.v20110526:run (default-cli) @ wicket-example
s <<<
[INFO]
[INFO] --- jetty-maven-plugin:7.4.2.v20110526:run (default-cli) @ wicket-example
s ---
[INFO] Configuring Jetty for project: Wicket Examples
[INFO] Webapp source directory = C:\Users\AGI\Downloads\apache-wicket-1.5.7\src\
wicket-examples\src\main\webapp
[INFO] Reload Mechanic: automatic
[INFO] Classes = C:\Users\AGI\Downloads\apache-wicket-1.5.7\src\wicket-examples\
target\classes
[INFO] Context path = /
[INFO] Tmp directory = C:\Users\AGI\Downloads\apache-wicket-1.5.7\src\wicket-exa
mples\target\tmp
[INFO] Web defaults = org/eclipse/jetty/webapp/webdefault.xml
[INFO] Web overrides =  none
[INFO] web.xml file = file:/C:/Users/AGI/Downloads/apache-wicket-1.5.7/src/wicke
t-examples/src/main/webapp/WEB-INF/web.xml
[INFO] Webapp directory = C:\Users\AGI\Downloads\apache-wicket-1.5.7\src\wicket-
examples\src\main\webapp
[INFO] Starting jetty 7.4.2.v20110526 ...
2012-06-18 14:50:04.567:INFO::jetty-7.4.2.v20110526
2012-06-18 14:50:08.422:INFO::No Transaction manager found - if your webapp requ
ires one, please configure one.
2012-06-18 14:50:08.664:INFO:/:Initializing Spring root WebApplicationContext
INFO  - ContextLoader              - Root WebApplicationContext: initialization
started
INFO  - XmlWebApplicationContext   - Refreshing Root WebApplicationContext: star
tup date [Mon Jun 18 14:50:08 GMT+07:00 2012]; root of context hierarchy
INFO  - XmlBeanDefinitionReader    - Loading XML bean definitions from class pat
h resource [applicationContext.xml]
INFO  - DefaultListableBeanFactory - Pre-instantiating singletons in org.springf
ramework.beans.factory.support.DefaultListableBeanFactory@141622d: defining bean
s [contactDao,wicketApplication]; root of factory hierarchy
INFO  - ContextLoader              - Root WebApplicationContext: initialization
completed in 396 ms
2012-06-18 14:50:09.064:INFO::started o.m.j.p.JettyWebAppContext{/,file:/C:/User
s/AGI/Downloads/apache-wicket-1.5.7/src/wicket-examples/src/main/webapp/},file:/
C:/Users/AGI/Downloads/apache-wicket-1.5.7/src/wicket-examples/src/main/webapp/
2012-06-18 14:50:13.260:INFO::Started SelectChannelConnector@0.0.0.0:8080 STARTI
NG
[INFO] Started Jetty Server
[INFO] Starting scanner at interval of 60 seconds. 
```

我认为，我尝试的发音有问题，但我不知道我应该在哪里检查，因为如果我认为我已经完成了 codehaus 告诉我的操作。你能引导我走上正确的道路吗？

感谢您的关注。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-29T12:47:29.653

尝试使用发音 1.28。

我尝试使用旧版本的库进行我的项目但没有成功，并成功使用了最新版本。

# jquery - 如果附加参数，查询效果不起作用

> ID：11078943
> 
> 赞同：0
> 
> 时间：2012-06-18T08:01:08.857
> 
> 标签：jquery, parameters, effects

我有这个代码

```
<html>
<head>

<script src="jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="jquery-ui-1.8.20.custom.min.js" type="text/javascript"></script>

<script type = "text/javascript">
function MyFunc(obj,method){
    // obj.hide("slow"); // This part is working fine i.e. it is hiding the paragraph
    obj + "." + method + "(\"slow\")"; // This is not working

$(function(){
    $("#pid1").click(function(){
        MyFunc($("#pid1"),"hide");
    });
});

</script

</head>

<body>
<p id = "pid1">Test Paragraph</p>
</body>

</html> 
```

即我想将参数传递给jquery hide 函数并形成正确的字符串来调用效果，但它不像上面的代码那样工作。我错过了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T08:03:33.983

您可以使用方括号通过字符串访问对象的属性：

```
function MyFunc(obj, method) {
    obj[method]("slow"); 
} 
```

另请注意，您错过了`MyFunc`.

您当前所做的只是通过将一堆字符串与一个对象连接来生成一个字符串。它不会抛出错误，但它不会做任何事情。

# frameworks - 小写字母只是较小的大写字母的字体

> ID：11078944
> 
> 赞同：0
> 
> 时间：2012-06-18T08:01:09.367
> 
> 标签：frameworks, fonts

我正在寻找一种字体，其中小写字母只是较小的大写字母。

为什么我需要这个是因为在我们的一个嵌入式设备上，我们有很多下标文本，而 .NET 紧凑框架不支持按钮中的下标文本。因此，如果我能找到一种字体，我就不需要为所有内容编写自定义控件。

最好的祝福

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T08:26:12.510

看看“trajan pro”字体。

# c# - 从字符串中获取枚举类型

> ID：11078946
> 
> 赞同：1
> 
> 时间：2012-06-18T08:01:26.620
> 
> 标签：c#, types, enums

我想做的是从字符串中获取枚举类型。

例子：

```
//enum which can be changed I'll know only string name of it at runtime ("Color")
public enum Color
{ 
   Black,
   Green,
   Yellow
} 
```

我对谷歌进行了一些研究，但找不到可以满足我需要的东西。过去有人解决过这个问题吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-06-18T08:04:22.970

尝试这个：

```
Color c = (Color) Enum.Parse(typeof(Color), "Yellow", true);
Console.WriteLine("Color Value: {0}", c.ToString()); 
```

**PS：使用`Colors`代替`Color`**

**[以供参考](http://msdn.microsoft.com/en-us/library/essfb559.aspx)**

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-18T08:03:08.373

您将需要[Type.GetType 方法](http://msdn.microsoft.com/en-us/library/w3f99sx1.aspx)

```
public static Type GetType(
    string typeName
) 
```

# c# - C# 和 xml：xs:dateTime 和 DateTime 比较

> ID：11078947
> 
> 赞同：1
> 
> 时间：2012-06-18T08:01:27.403
> 
> 标签：c#, xml, datetime, xsd

我有一个 xs:dateTime 的 xml 对象“日期”类型：

```
<MyTable>
<Date>2012-06-18T:00:00:00</Date>
...[some other data]...
</MyTable> 
```

我正在使用 DataSet 从我的 xml 中获取数据。

我想从表中选择日期>=给定日期的所有行：

```
MyTable.Select("Date >" + givenDate.ToString()); 
```

我应该如何将 givenDate 转换为字符串？用面膜？或者仅仅使用 givenDate.ToString() 就足够了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T08:44:42.707

`xs:dateTime`允许多种格式选择，全部基于[ISO 8601](http://en.wikipedia.org/wiki/ISO_8601)。如果您想在格式中包含时区信息，这可能有助于无损传输到不同的时区，请使用以下命令：

```
ToString("yyyy-MM-ddTHH\:mm\:ss.fffffffzzz"); 
```

否则：

```
ToString("s"); 
```

# c++ - 将 C++ 双数组（指向指针的指针）传递给 Python 脚本

> ID：11078952
> 
> 赞同：2
> 
> 时间：2012-06-18T08:01:43.070
> 
> 标签：c++, python, pointers, boost-python

我正在尝试将带有一些 2D 数组成员变量的 C++ 类传递给 Python 脚本。二维数组直接分配到类中，独立于构造函数。我正在使用 boost_python 库进行此转换，而包装函数使用 add_property/reference_existing_object 函数，期望它从 C++ 脚本的双指针创建一个新的 Python 2D 数组。

但是，我收到一条错误消息，告诉我在处理数组时 boost 无法从 const double 转换为 double 。但是数组不应该首先设置为 const 吗？有可能我在这里。我是新手，自从我写 C++ 以来已经有一段时间了，所以我希望你们中的一些人能以一种简单的方式帮助解释这一点:) 如果我的方法不是要走的路，我怎么能传递这些数组？

我在这里发布类和包装函数以供参考。

```
class Interface 
{
public:

   double zUpPatch1[NVALUES_UPSWEEP][N_VALUES_IN_TUPLE+1];
   double zUpPatch2[NVALUES_UPSWEEP][N_VALUES_IN_TUPLE+1];
   double zDownPatch1[NVALUES_UPSWEEP][N_VALUES_IN_TUPLE+1];
   double zDownPatch2[NVALUES_UPSWEEP][N_VALUES_IN_TUPLE+1];

   bool bNewData[N_VALUES_IN_TUPLE+1];
   int mrows, ncols;

   Interface();
   void GetRawData(int);
};

Interface::Interface()
{
   mrows = NVALUES_UPSWEEP;
   ncols = N_VALUES_IN_TUPLE+1;
}

BOOST_PYTHON_MODULE(GetRawDataPy_ext)
{
   using namespace boost::python;

   class_<Interface>("Interface", init<>())
     .def("GetRawData", &Interface::GetRawData)
     .def_readwrite("mrows", &Interface::mrows)
     .def_readwrite("ncols", &Interface::ncols)
     .def_readwrite("bNewData", &Interface::bNewData)

     .add_property("zUpPatch1",
     make_getter(&Interface::zUpPatch1, return_value_policy<reference_existing_object>()),
     make_setter(&Interface::zUpPatch1, return_value_policy<reference_existing_object>()))

     .add_property("zUpPatch2",
     make_getter(&Interface::zUpPatch2, return_value_policy<reference_existing_object>()),
     make_setter(&Interface::zUpPatch2, return_value_policy<reference_existing_object>()))

     .add_property("zDownPatch1",
     make_getter(&Interface::zDownPatch2, return_value_policy<reference_existing_object>()),
     make_setter(&Interface::zDownPatch2, return_value_policy<reference_existing_object>()))

     .add_property("zDownPatch2",
     make_getter(&Interface::zDownPatch2, return_value_policy<reference_existing_object>()),
     make_setter(&Interface::zDownPatch2, return_value_policy<reference_existing_object>()))

     .add_property("bNewData",
     make_getter(&Interface::bNewData, return_value_policy<reference_existing_object>()),
     make_setter(&Interface::bNewData, return_value_policy<reference_existing_object>()))
  ;
} 
```

这是来自 boost 编译器的错误消息的摘录：

```
C:\...\.../data_members.hpp(64) : error C2440: '=' : cannot convert from 
'const double [1000][5]' to double [1000][5]'
          There is no context in wich this conversion is possible
C:\...\.../data_members.hpp(63) : while compiling class template member function 
'void boost::python::detail::member<Data,Class>::operator ()(Class &,const double (&))   const'
    with
    [
        Data=double [1000][5],
        Class=Class
    ] 
```

提前致谢！

# javascript - 如何使用java脚本控制系统音量

> ID：11078955
> 
> 赞同：-4
> 
> 时间：2012-06-18T08:01:53.130
> 
> 标签：javascript

我想使用 java 脚本控制系统音量（如果可能的话，每个进程也可以）。我用谷歌搜索但无法找到一种方法来做到这一点，请指教。

我的目标是编写与平台无关的代码，是否可以通过 java，如果可以，那么我如何才能从现有的 C++ 代码中使用它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-05T20:23:49.543

Javascript 在浏览器中运行，因此无法帮助您控制系统。而且恐怕Java无法控制系统音量。它只能控制通过它播放的某个声音文件的音量。

# java - 多点触控缩放甚至对单点触控交互也有反应

> ID：11078958
> 
> 赞同：0
> 
> 时间：2012-06-18T08:02:05.627
> 
> 标签：java, android, zooming, multi-touch

我为放大/缩小编写了这段代码。它可以工作，但即使用一根手指也可以放大/缩小，而它应该只能用两根手指（多点触控）工作。有谁知道为什么？

```
 boolean surfaceTouchEvent(MotionEvent event) {
      pointNum=event.getPointerCount();
      switch (event.getAction() & MotionEvent.ACTION_MASK) {
      case MotionEvent.ACTION_DOWN:
        //User is pressing on finger
        x0=event.getX(0);
        y0=event.getY(0);
        mode = false; //DRAG
        break;
      case MotionEvent.ACTION_POINTER_DOWN:
        x1=event.getX(0);
        x2=event.getX(1);
        y1=event.getY(0);
        y2=event.getY(1);
        z4 = dist(x1, y1, x2, y2);
        mode = true; // pinch
        break;
    case MotionEvent.ACTION_UP:
     mode = false;
      case MotionEvent.ACTION_POINTER_UP:
        // User is released one of the fingers.
      mode = false;

        break;
      case MotionEvent.ACTION_MOVE:
        if (mode = false) {
         // x1=event.getX(0)-x0;
          //y1=event.getY(0)-y0;
        }
        if (mode = true) {
          x1=event.getX(0);
          x2=event.getX(1);
          y1=event.getY(0);
          y2=event.getY(1);
          float z3 = dist(x1, y1, x2, y2);
          if ( z3 > z4 ) { 
            zoom += 0.1;
          }
          else if ( z3 < z4) {
            zoom -= 0.1;
          }
        }
        break;
      }
      return super.surfaceTouchEvent(event);
    } 
```

我编辑代码如下，但这次它根本不起作用，至少第一个代码有效，但缩放反应很奇怪，请帮忙

```
 float x1,x2,y1,y2 = -1;
    boolean surfaceTouchEvent(MotionEvent event) {
      pointNum=event.getPointerCount();
      if (pointNum >=2) {
        x1=event.getX(0);
        x2=event.getX(1);
        y1=event.getY(0);
        y2=event.getY(1);
        z4 = dist(x1, y1, x2, y2);
        if ( z3 > z4 ) {
          zoom += z3/z4;
        }
        else if ( z3 < z4) {
          zoom -= z3/z4;
        }
      }
      else {
        return false;
      }
      z3 = z4;
      return super.surfaceTouchEvent(event);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:04:44.333

仅当有多个手指时才应执行此操作。如果在你的代码之前添加这个：

```
boolean surfaceTouchEvent(MotionEvent event) {
  pointNum=event.getPointerCount();
  if(pointNum >= 2) {
    // your code here
  } else {
    return false;
  }
} 
```

# php - 使用 PHP 将 POST 数据发送到网站

> ID：11078964
> 
> 赞同：1
> 
> 时间：2012-06-18T08:02:23.557
> 
> 标签：php, paypal, http-headers

我正在从我的论坛网站（没有 PHP 功能）拦截 PayPal 按钮点击，因此我可以使用我自己的服务器（确实有 PHP）处理额外的安全信息。

完成处理后，我希望将用户连同他们的请求数据发送回 PayPal。目前我只是在 Location 标头中使用相当大的 GET 查询字符串，因为没有发送敏感数据。这工作得很好。

我希望纯粹使用 POST，这样它就不会向用户的地址栏发送垃圾邮件。我听说您可以为此使用 cURL，但是对于与 PayPal 的 HTTPS 连接，这真的是一个好主意吗？

任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-18T08:30:37.967

那么你可以使用`CURL`

```
/* Some params you wish to send */
$sEncodedParams = 'foo=Bar%20Baz&key=1234';

/* Create a new CURL Object */
$ch = curl_init();

/* Set the URL */
curl_setopt($ch, CURLOPT_URL, $sUrl);

/* Make CURL use POST */
curl_setopt($ch, CURLOPT_POST, true);

/* Add the POST-Data */
curl_setopt($ch, CURLOPT_POSTFIELDS, $sEncodedParams);

/* SET the Headers */
curl_setopt($ch, CURLOPT_HEADER, 0);

/* Execute the request */
curl_exec($ch);

/* Close CURL */
curl_close($ch); 
```

您甚至可以使用类似这样的方法将响应返回到变量中

```
/* Tell CURL to return the response into a variable instead of echoing it */
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);

/* Save the response */
$sResponse = curl_exec($ch); 
```

希望这可以帮助

问候

编辑：除了 SSL 支持（没有`CURL`）：

```
/* Timeout */
$iTimeout = 30;

/* EOL style */
$sEOL = "\r\n";

/* Some params you wish to send */
$sEncodedParams = 'foo=Bar%20Baz&key=1234';

/* Initialize the SSL-Socket */
$rSSLSocket = @fsockopen("ssl://www.domain.com", 443, $iError, $sError, $iTimeout);

/* Will contain the response data */
$sResponse = '';

/* If it worked */
if($rSSLSocket !== false) {

    /* Put whatever you need here */
    fputs($rSSLSocket, 'POST /path/here HTTP/1.0' . $sEOL);
    fputs($rSSLSocket, 'Host: www.domain.com' . $sEOL);
    fputs($rSSLSocket, 'Content-type: application/x-www-form-urlencoded' . $sEOL);
    fputs($rSSLSocket, 'Content-Length: ' . strlen($sEncodedParams) . $sEOL);
    fputs($rSSLSocket, 'Connection: close' . $sEOL . $sEOL);
    fputs($rSSLSocket, $sEncodedParams);

    while(!feof($rSSLSocket)) {
        $sResponse .= @fgets($rSSLSocket, 2048);
    }
    fclose($rSSLSocket);
} else {
    // ERROR
} 
```

我希望这有帮助。但要小心，因为`fsockopen`可能很棘手

# java - 如何从 PreparedStatementWrapper 对象打印语句？

> ID：11078965
> 
> 赞同：1
> 
> 时间：2012-06-18T08:02:23.960
> 
> 标签：java, sql, string

我创建了一个`PreparedStatementWrapper`包含`INSERT`语句的对象。现在我想打印我的对象。我想测试我的`INSERT`陈述，看看它是否正确。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:40:50.837

只需在执行之前使用`System.out.println()`and方法。`toString()`

```
PreparedStatement ps = con.prepareStatement(QUERY);
ps.setString(1, "Test");
System.out.println(ps.toString()); 
```

* * *

编辑：它仅在您使用`MYSQL`驱动程序时才有效。

# ruby-on-rails - 如何使用 MongoId 创建多级文档

> ID：11078966
> 
> 赞同：1
> 
> 时间：2012-06-18T08:02:36.923
> 
> 标签：ruby-on-rails, mongodb

我正在开发一个 Ruby on Rails (3.2.6) 应用程序并使用 MongoId (3.0.0) 与 MongoDB 数据库进行交互。我只是想知道如何保存包含多个级别而不仅仅是一个级别的嵌入 JSON 对象。

我得到了一个具有这种结构和类似结构的旧 MongoDB 数据库，因此我需要使用相同的结构保存新文档。

*这来自文档，用于添加一级文档：*

```
Person.create(
  first_name: "Heinrich",
  last_name: "Heine"
) 
```

*如何添加具有此结构的对象：*

```
{
    "basic": {
        "file_id": {
            "file": "cf1952761a806c56c9bee60665418f02c"
        },
        "share": false,
        "status": "created"
    },
    "data": {
        "id": "4fd942dder5f5e88837300026e",
        "name": "roberta",
        "comment": "This is a comment"
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T08:23:24.927

最简单的方法是创建类`basic`并将`data`它们嵌入到您的顶级文档中。

嵌入式文档类在 Mongoid 中的定义方式与其他具有`embedded_in`调用和匹配的文档`embeds_one`或`embeds_many`在顶级文档中的方式相同。

另一种选择是简单地定义一个 Hash 字段，但这显然可以具有任何结构。

```
Class Person
    include Mongoid::Document

    field :data, :type => Hash

    ...
end 
```

`:data`将接受任何散列，即使是嵌套散列。

# sqlclient - 使用 SqlOledb 成功连接但无法使用 sqlClient 连接

> ID：11078972
> 
> 赞同：1
> 
> 时间：2012-06-18T08:03:04.300
> 
> 标签：sqlclient

嗨朋友们，

我整天都在为这个问题苦苦挣扎。我在 iis 7 上运行了 asp .net 4.0 Web 应用程序。当不在数据库上执行连接时，它运行良好。

我正在使用 sqlserver 2005。当我使用 SqlClient 连接到服务器时，它会产生如下错误：

```
A connection was successfully established with the server, but then an error occurred during the pre-login handshake. (provider: SSL Provider, error: 0 - The wait operation timed out.) 
```

但是当我使用 sqloledb 连接到我的远程数据库时，然后成功连接。如果有人能给我一些关于我的问题的解决方案，我将不胜感激。

谢谢你。

# typo3 - Typo3 和 DirectMail - 替代

> ID：11078973
> 
> 赞同：0
> 
> 时间：2012-06-18T08:03:05.953
> 
> 标签：typo3, newsletter, typoscript

我在 Typo3 中使用 DirectMail 发送的时事通讯模板是这样的：

```
<span>DEAR ###USER_first_name### ###USER_last_name###</span> 
```

但是有一个“在浏览器中显示时事通讯”的链接。在这种情况下，无法显示名称，因为此信息位于 tt_address 中，并且在引擎发送电子邮件时已填充，但我想替换它，以便至少用户可以阅读：

```
Dear reader, 
```

有没有办法做到这一点，以便电子邮件继续显示名称，而网络版本显示通用问候语？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:43:51.977

您可以使用通用内容创建第二个页面，并在您的时事通讯中链接到该页面。该页面还可能包含更多内容，例如社交媒体“点赞按钮”。

或者您可以在链接中添加一个参数来标识用户，这样网络版就可以从数据库中加载该特定用户的数据。在最后一种情况下，如果您的参数不够安全并且可能被猜测或迭代，则可能会带来潜在的安全风险。因此，如果您将其个性化，请务必确保该东西的安全。

# java - Primefaces Extension 的 Dynaform 是动态的

> ID：11078988
> 
> 赞同：3
> 
> 时间：2012-06-18T08:04:15.487
> 
> 标签：java, jsf-2, primefaces, primefaces-extensions

[有谁知道 Primefaces Extension 的 Dynaform 的 Dynamic 到底是什么。动态表单示例](http://fractalsoft.net/primeext-showcase-mojarra/sections/dynaform/basicUsage.jsf)似乎没有任何动态。据我所知，这只是一个具有固定布局和固定输入组件的表单。[鉴于头版上](http://fractalsoft.net/primeext-showcase-mojarra/views/dynaForm.jsf)的声明，这不是我所期望的：        

> 通常，如果行数/列数、元素位置等已知，我们可以通过 h:panelGrid 或 p:panelGrid 构建一个非常简单的表单。这对于静态表单是正确的。但是，如果表单是在运行时动态描述的，则无法使用 h:panelGrid 或 p:panelGrid。例如，如果整个表单的定义放在数据库或 XML 文件中。
> 
> DynaForm 可以通过模型构建带有标签、输入、选择和其他元素的动态表单。其他增强功能包括可扩展的扩展视图区域（网格）、自动提交功能、小部件的客户端 API、各种方面。支持的方面

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T10:19:35.437

我是这个组件的创建者。为什么你认为布局是固定的？它不是固定的，您在 Java 中定义布局。Java 控件/标签和表单元素中定义的映射通过“类型”属性发生。当然，所有可能的表单元素都应该在页面上，因为在 XHTML 中将它们描述为标签更容易，而不是在 Java 中创建。想象一下，您将在 Java 中创建一个 SelectOneMenu，其中包含 SelectItems、Ajax 行为、Action / ActionListener 以及许多其他属性……更容易指定 1-N 映射，例如 p:treeNode 和 TreeNode。这里是一样的——你有 pe:dynaFormControl 和 DynaFormControl。请浏览所有代码示例。

谢谢。奥列格。

PS[我上一篇博文](http://ovaraksin.blogspot.de/2012/06/dynamic-forms-jsf-world-was-long.html)是关于这个组件的。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-18T10:21:40.393

Primefaces Extension 的作者之一在他的博客上更详细地解释了它：http: [//ovaraksin.blogspot.hu/2012/06/dynamic-forms-jsf-world-was-long.html](http://ovaraksin.blogspot.hu/2012/06/dynamic-forms-jsf-world-was-long.html)。

重要的部分是：

> 子标签 pe:dynaFormControl 匹配在 Java 控件中由“type”属性创建的。这通常是“一对多”的关系。

您无需在 xhtml 页面中定义布局，您只需创建一些您在 java 代码中引用的自定义组件。

在[basicUsage](http://fractalsoft.net/primeext-showcase-mojarra/sections/dynaform/basicUsage.jsf)示例中，您可以看到：

```
<pe:dynaFormControl type="calendar" for="cal">
    <p:calendar id="cal" value="#{data.value}" />
</pe:dynaFormControl> 
```

这将创建一个日历控件类型，使用`p:calendar`. 您可以在支持 bean 中引用它：

```
DynaFormControl control = row.addControl(property, "calendar", 1, 1); 
```

# php - 如何更新/删除一行文本中的单个单词

> ID：11078989
> 
> 赞同：0
> 
> 时间：2012-06-18T08:04:16.657
> 
> 标签：php, mysql, str-replace, explode

我有一个小问题需要你的帮助。如何更新以逗号分隔的部分文本组。当文本输入数据库时​​，它是一行文本，每个单词之间有逗号，但是当我想将它回显时，我使用explode函数将它们分成单独的单词，而不是像我这样的单行文本它在数据库中。

所以我现在的问题是，如何对数据库中的单个单词进行更新/删除。请记住，我将它作为数据库中的单行文本，我对更新整行文本不感兴趣......只是文本中的一个单词..

谢谢。

```
$text = "name,fname,lname,class,age" ;    
$newtext = explode(",", $text) ; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T08:16:56.617

从数组中更新或删除单词，然后将数组内爆并将新值保存到数据库字段中。

```
//Remove all instances of $value from $array
function array_remove($array, $value) {
  return array_filter($array, function ($e) use ($value) {
      return $e != $value;
    });
}

// Add only unique values
function array_add($array, $value) {
  if (!in_array($value, $array))
    $array[] = $value;
  return $array;
}

$text = "name,fname,lname,class,age" ;
$newtext = explode(",", $text) ;
$newtext = array_remove($newtext, 'lname'); // Remove lname
$newtext = array_add($newtext, 'mail');     // Add mail
$newtext = array_add($newtext, 'class');    // Won't add it again
$newtext = implode(',', $newtext);          // name,fname,class,age,mail 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-18T08:09:56.377

可以在 sql 更新查询中使用 replace() 函数。

```
Update table SET text=REPLACE(text,'age','newstring') 
```

# c# - 如何在运行 XNA 时为应用程序进行自动更新

> ID：11078992
> 
> 赞同：0
> 
> 时间：2012-06-18T08:04:33.577
> 
> 标签：c#, .net, xna, auto-update

我有一个使用 XNA 框架用 C# 编写的应用程序。`Update()`所以，它基本上是用和构建的游戏`Draw()`，另一件事是这个应用程序旨在连续运行而不会停止。

问题是我想在运行时进行自动更新。我的意思是：我的应用程序正在运行，并且我有一个功能可以一直检查我的应用程序的其他版本（我对我的应用程序所做的更改并在新版本中重建它们）

如何使功能更新到指定文件夹中的另一个版本。它检查该文件夹是否包含项目新版本的 zip 存档，解压缩并关闭当前应用程序并从给定的 zip 存档启动新版本的应用程序。你能给我这个问题的起点吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-18T08:12:00.077

我会做其他管理它的应用程序......就像[看门狗](http://en.wikipedia.org/wiki/Watchdog_timer)

这个应用程序将检查文件夹并重新启动主应用程序，并且应该可以配置为要求重新启动或不重新启动，并在一个时间范围内进行重新启动......（¿每天下午12:00？）

要杀死一个进程：

```
Process []pArry = Process.GetProcesses();

foreach(Process p in pArry)
{       
    if (p.ProcessName.CompareTo("yourapp") ==0)
    {
       p.Kill();
       break; 
    }
}
p.WaitForExit(); // This is blocking so be careful, maybe it should be run in other thread 
```

要启动一个进程：

```
Process.Start(path); 
```

您应该知道您的应用程序的流程应该是：

```
 1\. Is a good time to patch the app?
     1.1 NO-> Sleep for some time to recheck (¿12h?) and goto 1
  2\. Is there a new path?
     2.1 NO-> Goto 1.1
  3\. Kill the main process
  4\. Apply the patch
  5\. Restart app
  6\. Goto 1 
```

# javascript - 如何选择一个div的其余部分？

> ID：11078996
> 
> 赞同：-2
> 
> 时间：2012-06-18T08:04:50.960
> 
> 标签：javascript, jquery, addclass, removeclass

我有问题

```
<div id='parent'>
  <div id='child'>
  </div>
</div> 
```

我想要的是当孩子被点击 addClass 时，当父母的其余部分被点击 removeClass 时，所以当我尝试做

```
$('#child').click(function(){
  $(this).addClass();
})
$('#parent').click(function(){
  $('#child').removeClass();
}) 
```

它不工作我认为这是因为孩子实际上是在父母里面，所以当孩子被点击时，父母点击了吗？

那我该怎么做呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-18T08:06:57.373

尝试这个：

```
$('#child').click(function(evt){
  evt.stopPropagation();
  $(this).addClass("myClass");
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-18T08:07:57.743

您可以使用[event.stopPropagation](http://api.jquery.com/event.stopPropagation/)来防止事件在 DOM 树中冒泡，从而防止任何父处理程序收到该事件的通知。

```
$('#child').click(function(e){
  e.stopPropagation();
  $(this).addClass();
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-18T08:13:53.187

一些用户已经提出了一个很好的解决方案——这里解释了它的工作原理：

当您单击一个 HTML 元素（实际上是一个 DOM 对象...）时，单击事件会一直“冒泡”到根元素。例如，正如您预期的那样，点击`#child`也会触发点击。`#parent`

要停止这种行为，您需要调用`.stopPropagation()`click 事件 - 这将告诉浏览器您不希望该事件传播，但将其保持为“本地”。基本上，当您在这里处理它时，您已经完成了它并且不想再次看到它。

方便地，jQuery 事件处理程序将事件作为第一个参数，因此如果您使用签名分配任何函数，您可以按照其他人的建议`function (e) { ... }`停止事件传播。`e.stopPropagation();`在你的情况下，你想要

```
$('#child').click(function(e){
  $(this).addClass();
  e.stopPropagation();
});
$('#parent').click(function(){
  $('#child').removeClass();
}); 
```

# objective-c - 从 NSString 中删除开头和结尾的换行符

> ID：11078998
> 
> 赞同：20
> 
> 时间：2012-06-18T08:05:03.983
> 
> 标签：objective-c, cocoa-touch, nsstring

如何从 NSString中**仅**删除开头和结尾的新行**\n 。**

例如

```
@"\n\n\n\Hi\nHow are you\nToday.\n\n\n\n" 
```

输出：

```
@"Hi\nHow are you\nToday." 
```

谢谢。

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2012-06-18T08:30:14.410

使用**nsstring**的 stringByTrimmingCharactersInSet 方法，该方法返回一个新字符串，该字符串是通过从给定字符集中包含的接收器字符的两端删除而生成的。

## 迅速

```
yourString = yourString.trimmingCharacters(in: NSCharacterSet.whitespacesAndNewlines) 
```

## Objective-C

```
 yourString = [yourString stringByTrimmingCharactersInSet:[NSCharacterSet newlineCharacterSet]] 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-06-18T09:01:57.333

```
NSString *string = @"\n \n  new lines or white spaces in front and at the end \n \n ";
NSString *trimmedString = [string stringByTrimmingCharactersInSet:
                                  [NSCharacterSet whitespaceAndNewlineCharacterSet]]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-11-14T11:21:04.373

**斯威夫特 3.0**

```
var yourString = "\n your string \n"
yourString = yourString.trimmingCharacters(in: .whitespacesAndNewlines) 
```

**输出** `"your string"`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-10-01T05:29:48.963

试试这个它对我有用，

```
 NSString *trimmedValue = [value stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]]; 
```

希望这会有所帮助。