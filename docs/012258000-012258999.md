# StackOverflow 问答 12258000-12258999

# php - 如何正确使用 content-type:image/jpeg？

> ID：12258000
> 
> 赞同：1
> 
> 时间：2012-09-04T06:37:40.110
> 
> 标签：php, sql-server, mime-types, content-type

我使用 content-type:image/jpeg 创建了一个页面“student_picture.php”。当我想在同一页面中添加其他文本时遇到问题..

这是我的代码示例：

```
<?php
session_start();

if(!isset($_SESSION["StudentNo"])){
    header("location:login.php");
}

$StudentNo = $_SESSION['StudentNo'];

require("includes/connection.php");

$sql = "SELECT StudentPicture from dbo.Students where StudentNo = '$StudentNo'";
$stmt = sqlsrv_query( $conn, $sql );

if( $stmt === false) {
    die( print_r( sqlsrv_errors(), true) );
}

while( $row = sqlsrv_fetch_array( $stmt, SQLSRV_FETCH_ASSOC) ) {
    $img = $row['StudentPicture'];

    if ($img == null ) {
        echo "<img src='img/default_pic.gif'>";
    } else {
        $img =  trim($img);
        header('Content-Type: image/jpeg');
        echo $img;
    }

    echo $StudentNo;
}
?> 
```

图像已成功显示，但未显示 echo $StudentNo .. 谁能帮我解决我的问题？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-09T08:10:30.957

您可能需要使用以下代码：

```
<?php 

$image = 'http://www.example.com/image.jpg';

$info = getimagesize($image);

header('Content-Type: '.$info['mime']);

echo file_get_contents($image);

exit;

?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T06:53:17.370

我认为您在使用`Content-Type`of`image/jpeg`或我知道的任何其他类型的图像格式时无法显示文本。文本只能与`text/?`或其他例外一起显示，例如`application/pdf`。

如果您在使用 php 文件时不知道如何在单独的页面上显示图像，请使用：

```
<img src="path/to/yourphpfile.php" /> 
```

就像任何其他图像一样。

希望有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T06:43:39.293

你必须到`exit`你的脚本，因为它`header`被发送到客户端浏览器。如果`$_SESSION["StudentNo"]`不存在，脚本将处理并尝试输出您的图像。

```
<?php
    session_start();
    if(!isset($_SESSION["StudentNo"])){
        header("location:login.php");
        die();
    } 
```

这不是输出图像的正确方法，而且不正确`echo "<img src='img/default_pic.gif'>";`，`header('Content-Type: image/jpeg');`要么在没有该标题的情况下返回，要么读取图像：

```
if ($img == null){
    $img = 'img/default_pic.gif';
} else {
    $img =  trim($img);
}

header('Content-Type: image/jpeg');
readfile($img); 
```

或者你丢失了标题标签

```
if ($img == null){
    $img = "<img src='img/default_pic.gif'>";
} else {
    $img = "<img src='".trim($img)."'>";
}
echo $img; 
```

所以你的脚本可能是：

```
<?php
    session_start();
    if(!isset($_SESSION["StudentNo"])){
        header("location:login.php");
        die();
    }
    $StudentNo = $_SESSION['StudentNo'];

    require("includes/connection.php");

    $sql = "SELECT StudentPicture from dbo.Students where StudentNo = '$StudentNo'";
    $stmt = sqlsrv_query( $conn, $sql );
    if( $stmt === false) {
        die( print_r( sqlsrv_errors(), true) );
    }

    while( $row = sqlsrv_fetch_array( $stmt, SQLSRV_FETCH_ASSOC) ) {
        $img = $row['StudentPicture'];
        if ($img == null){
            $img = "<img src='img/default_pic.gif'>";
        } else {
            $img = "<img src='".trim($img)."'>";
        }
        echo $img;
        echo $StudentNo;
    }
?> 
```

我不知道您的数据库连接中的功能，但我认为您应该使用类似的东西`$row = sqlsrv_fetch_row( $stmt, SQLSRV_FETCH_ASSOC);`并在没有它的情况下使用`while`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-04T06:49:33.723

当在数据库中找到图像时，您正在输出图像，您需要通过包含动态 img

```
<img src="anotherscript.php"> 
```

或者使用内置图像库之一生成 jpg 文件并将其文件名存储在该数据库中，而不是存储原始数据

# ruby - 使用 Nokogiri 进行数据抓取

> ID：12258007
> 
> 赞同：0
> 
> 时间：2012-09-04T06:38:06.420
> 
> 标签：ruby, nokogiri

我可以使用 Nokogiri抓取[http://www.example.com/view-books/0/new-releases但如何抓取所有页面？](http://www.flipkart.com/view-books/0/new-releases)这个有五页，但不知道最后一页我该如何继续？

这是我写的程序：

```
require 'rubygems'
require 'nokogiri'
require 'open-uri'
require 'csv'

urls=Array['http://www.example.com/view-books/0/new-releases?layout=grid&_pop=flyout',
           'http://www.example.com/view-books/1/bestsellers',
           'http://www.example.com/books/pre-order?query=book&cid=1&layout=list&ref=4b116001-01a6-4f53-8da7-945b74fdb253'
      ]

@titles=Array.new
@prices=Array.new
@descriptions=Array.new
@page=Array.new

urls.each do |url|
  doc=Nokogiri::HTML(open(url))
  puts doc.at_css("title").text

  doc.css('.fk-inf-scroll-item').each do |item|
   @prices << item.at_css(".final-price").text
   @titles << item.at_css(".fk-srch-title-text").text
   @descriptions << item.at_css(".fk-item-specs-section").text
   @page << item.at_css(".fk-inf-pageno").text rescue nil
  end

  (0..@prices.length - 1).each do |index|
    puts "title: #{@titles[index]}"
    puts "price: #{@prices[index]}"
    puts "description: #{@descriptions[index]}"
  #  puts "pageno. : #{@page[index]}"
    puts ""
  end
end

CSV.open("result.csv", "wb") do |row|
  row << ["title", "price", "description","pageno"]
  (0..@prices.length - 1).each do |index|
    row << [@titles[index], @prices[index], @descriptions[index],@page[index]]
  end
end 
```

如您所见，我已经对 URL 进行了硬编码。你如何建议我刮掉整个书籍类别？我正在尝试海葵，但无法让它发挥作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T08:37:34.110

如果您检查加载更多结果时究竟发生了什么，您会意识到他们实际上是在使用 JSON 来读取带有偏移量的信息。

所以，你可以得到这样的五个页面：

```
http://www.flipkart.com/view-books/0/new-releases?response-type=json&inf-start=0
http://www.flipkart.com/view-books/0/new-releases?response-type=json&inf-start=20
http://www.flipkart.com/view-books/0/new-releases?response-type=json&inf-start=40
http://www.flipkart.com/view-books/0/new-releases?response-type=json&inf-start=60
http://www.flipkart.com/view-books/0/new-releases?response-type=json&inf-start=80 
```

基本上，您会不断增加`inf-start`并获得结果，直到您获得的结果`result-set`应该`20`是最后一页为止。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-05T06:18:03.333

这是一个未经测试的代码示例，可以执行您的操作，只是写得更简洁一点：

```
require 'nokogiri'
require 'open-uri'
require 'csv'

urls = %w[
  http://www.flipkart.com/view-books/0/new-releases?layout=grid&_pop=flyout
  http://www.flipkart.com/view-books/1/bestsellers
  http://www.flipkart.com/books/pre-order?query=book&cid=1&layout=list&ref=4b116001-01a6-4f53-8da7-945b74fdb253
]

CSV.open('result.csv', 'wb') do |row|

  row << ['title', 'price', 'description', 'pageno']

  urls.each do |url|

    doc = Nokogiri::HTML(open(url))
    puts doc.at_css('title').text

    doc.css('.fk-inf-scroll-item').each do |item|

      page = {
        titles:       item.at_css('.fk-srch-title-text').text,
        prices:       item.at_css('.final-price').text,
        descriptions: item.at_css('.fk-item-specs-section').text,
        pageno:       item.at_css('.fk-inf-pageno').text rescue nil,
      }

      page.each do |k, v|
        puts '%s: %s' % [k.to_s, v]
      end

      row << page.values
    end
  end
end 
```

您可以使用一些有用的数据来帮助您确定需要检索多少条记录：

```
var config = {container: "#search_results", page_size: 20, counterSelector: ".fk-item-count", totalResults: 88, "startParamName" : "inf-start", "startFrom": 20}; 
```

要访问这些值，请使用以下内容：

```
doc.at('script[type="text/javascript+fk-onload"]').text =~ /page_size: (\d+).+totalResults: (\d+).+"startFrom": (\d+)/
page_size, total_results, start_from = $1, $2, $3 
```

# android - 在画布上显示和隐藏对象？

> ID：12258010
> 
> 赞同：0
> 
> 时间：2012-09-04T06:38:09.157
> 
> 标签：android, object, game-loop

我正在开发一款安卓游戏。我在屏幕上创建了一个画布。我想在其屏幕上显示一个对象 2 秒钟，然后它应该消失。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T06:43:44.113

使用此代码删除您的画布对象

```
Paint paint = new Paint();
paint.setXfermode(new PorterDuffXfermode(Mode.CLEAR));
canvas.drawPaint(paint);
paint.setXfermode(new PorterDuffXfermode(Mode.SRC)); 
```

别的

```
Canvas.drawColor(Color.TRANSPARENT, PorterDuff.Mode.CLEAR) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T06:45:13.170

保留 2 个位图副本。在第 2 次不要绘制对象并交替绘制这 2 个位图，或者查看[这](https://stackoverflow.com/questions/5980589/undo-in-a-drawing-app) 将对您有所帮助

# c# - 任务管理器中的多个 WinWord

> ID：12258018
> 
> 赞同：-3
> 
> 时间：2012-09-04T06:38:55.303
> 
> 标签：c#

我的 c# 应用程序在任务管理器中创建 winword 并从任务管理器正确关闭。但万一我的应用程序崩溃了，winword 仍然在任务管理器中打开，并且无法处理那些 word 文档。

所以在那种情况下，我想单独杀死那些由我的应用程序而不是全部创建的winword。

请帮助完成这个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T21:05:16.900

When instances of winword.exe are created through interop, they'll have the string "/Automation -Embedding" included in the process command line.

So, if you want to manually kill only your interop winword processes, without killing any user-initiated instances of Microsoft Word, you can open up Mark Russinovich's free ProcessExplorer utility, right click on a line with winword.exe, choose "properties", and look at the command line (in the Image tab). If you see the /Automation switch, you'll know it's an interop process and you can kill it. Here's how the interop winword.exe will look in ProcessExplorer:

![interop winword in Process Explorer](../Images/a5e010d563fbccd103e5fbfdbcfec965.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T08:50:36.793

尝试以下操作：

```
try
{
    // open your word document
    // process your word document
}
catch
{
    // handle any errors (e.g. provide error messages
}
finally
{
    // close the word document properly
} 
```

为了防止孤立的文字进程，您需要将打开的进程集中存储在应用程序中，并在关闭应用程序之前关闭所有剩余进程。此外，您可以注册未处理的错误事件，然后在发生这种情况时关闭所有进程。

在大多数情况下，如果您无法打开文档，则无法关闭文字处理，因为该文档可能会在“真实”单词实例中打开以进行编辑。

# linux - 内核模块中的 CPU 信息

> ID：12258020
> 
> 赞同：1
> 
> 时间：2012-09-04T06:39:04.787
> 
> 标签：linux, kernel, kernel-module

我想知道内核模块内的 cpu 信息，如 cpu 数、核心数等。有没有办法找到它？除了在 /proc/cpuinfo 等内核模块中打开文件之外。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T08:30:13.757

尝试`lscpu`命令或`lshw`程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:49:56.497

根据您的内核版本，您也可以在下面找到信息`/sys/devices/system/cpu/`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T06:52:52.643

检查`/proc`. 你可以在那里找到一些关于你的 CPU 和当前在你的系统上运行的进程的有趣的东西。

# regex - Preg 匹配由空格分隔的整数

> ID：12258021
> 
> 赞同：0
> 
> 时间：2012-09-04T06:39:08.710
> 
> 标签：regex

抱歉这么基本的问题，但我在其他地方找不到这个

我怎样才能找到/回显字符串中的整数（由空格分隔），如下所示：

```
Find the integers 24 / 850 
```

我怎么能只返回 24 或 850？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T06:48:22.267

您可以在示例中使用正则表达式获取组：[预览](http://www.rubular.com/r/AlJqhWrVTG)

因此，要获取组，您可以使用 (\d+)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T06:51:41.590

如何使用`(\d)+`？

`\d`表示数字。

# f# - VS2012 Mstest 在 F# 解决方案的 Release 版本中找不到任何测试。怎么修？

> ID：12258029
> 
> 赞同：1
> 
> 时间：2012-09-04T06:39:36.397
> 
> 标签：f#, mstest, visual-studio-2012

我有一个 VS2012 解决方案，其中包含两个针对 .NET 4.5 的 F# 项目。项目 B 是项目 A 的**MSTest**单元测试项目。在**调试**模式下构建解决方案时，测试资源管理器识别出4 个可以正确执行的**单元测试。**但是当至少一个项目以**发布**模式构建时，比
**没有找到测试**！
一个重要的细节是两个项目都已签名并应用了适当的 InternalsVisibleTo 属性（在调试模式下它可以工作）。我有 Debug 和 Release -.testsettings，除了执行超时之外，这是默认设置。我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T00:41:00.390

澄清一下——当您在调试模式下构建两个项目（通过构建解决方案）时，会找到测试，但是如果您在发布模式下构建任何一个项目，都找不到测试？我的第一个猜测——发布模式下的一个（或两个）项目配置有问题。一些设置（如强名称签名）是特定于配置的，因此很容易忘记为这两种配置设置它们。

[Jack P](https://stackoverflow.com/questions/12258029/vs2012-mstest-finds-no-tests-in-release-build-of-f-solution-how-to-fix#comment16446409_12258029)的解决方案。

非常感谢您的提示。发布配置中缺少 --keyfile 标志。不清楚，想，在没有密钥文件的情况下构建是如何成功的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-07T00:57:18.663

澄清一下——当您在调试模式下构建两个项目（通过构建解决方案）时，会找到测试，但是如果您在发布模式下构建任何一个项目，都找不到测试？我的第一个猜测——发布模式下的一个（或两个）项目配置有问题。一些设置（如强名称签名）是特定于配置的，因此很容易忘记为这两种配置设置它们。

# php - iOs 值到 PHP 脚本 - BAD_EXC_ACCES

> ID：12258030
> 
> 赞同：-1
> 
> 时间：2012-09-04T06:39:41.200
> 
> 标签：php, ios, post, exc-bad-access

我无法将我的值发送到我的 php 文件。我的应用程序暂停，因为发送连接处有一个线程

```
- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response {
    responseData = [[NSMutableData alloc] init];
}

         NSURL *url = [NSURL URLWithString:@"http://www.yoursite.nl/locatie.php"];

    NSMutableURLRequest *theRequest = [NSMutableURLRequest requestWithURL:url
                                                              cachePolicy:NSURLRequestReloadIgnoringCacheData
                                                          timeoutInterval:60];

    [theRequest setHTTPMethod:@"POST"];
    [theRequest setValue:@"application/x-www-form-urlencoded" forHTTPHeaderField:@"Content-Type"];

    NSString *postData = [NSString stringWithFormat:@"longitude=%@&latitude=%@&stringFromDate=%@", longitude, latitude, stringFromDate];

    NSString *length = [NSString stringWithFormat:@"%d", [postData length]];
    [theRequest setValue:length forHTTPHeaderField:@"Content-Length"];

    [theRequest setHTTPBody:[postData dataUsingEncoding:NSASCIIStringEncoding]];

    - (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response {
        responseData = [[NSMutableData alloc] init];
    }

    - (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data {
        [responseData appendData:data];
    }

    - (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error {
        [responseData release];
        [connection release];
        [textView setString:@"Unable to fetch data"];
    }

    - (void)connectionDidFinishLoading:(NSURLConnection *)connection
    {
        NSLog(@"Succeeded! Received %d bytes of data",[responseData
                                                       length]);
        NSString *txt = [[[NSString alloc] initWithData:responseData encoding: NSASCIIStringEncoding] autorelease];

    }

    } 
```

我的 PHP 文件如下所示：

```
<?php

 $id = $_POST['id'];
 $longitude = $_POST['longitude'];
  $latitude = $_POST['latitude'];
  $timestamp = $_POST['stringFromDate'];

  $con = mysql_connect('db.server.nl', 'user', 'pass');
  if (!$con)
  {
 die('Could not connect: ' . mysql_error());
 }

  mysql_select_db("db", $con);

  mysql_query("INSERT INTO locatie (id, longitude, latitude, timestamp)
   VALUES ('06', 'longitude','latitude','timestamp')");

 mysql_close($con);
  ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T06:57:53.520

您可以添加以下代码....

```
NSString *post = [[NSString alloc] initWithFormat:@"log=%@&pwd=%@",strUserName,strPassword];
NSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:YES];
NSString *postLength = [NSString stringWithFormat:@"",[postData length]];
NSURL *url = [NSURL URLWithString:@"http://ideaact.neonexusdemo.com/wp-content/themes/idea/andr.php"];
NSMutableURLRequest *theRequest = [NSMutableURLRequest requestWithURL:url];
[theRequest setHTTPMethod:@"POST"];
[theRequest setValue:postLength forHTTPHeaderField:@"Content-Length"];
[theRequest setHTTPBody:postData];
NSURLConnection *theConnection = [[NSURLConnection alloc] initWithRequest:theRequest delegate:self];
if (theConnection) {
    webData = [[NSMutableData data] retain];
} 
```

# regex - 如何将变量传递给PERL中的正则表达式

> ID：12258032
> 
> 赞同：0
> 
> 时间：2012-09-04T06:39:41.637
> 
> 标签：regex, perl

以下程序不起作用。我无法使用变量将单词替换为新单词（用户输入）

```
#Perl program that replace word with given word in the string
$str="\nThe cat is on the tree";
print $str;
print "\nEnter the word that want to replace";
$s1=<>;
print $s1;
print "\nEnter the new word for string";
$s2=<>;
print $s2;
$str=~ tr/quotemeta($s1)/quotemeta($s2)/;
print $str 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T06:41:07.360

您需要使用`s///`运算符而不是`tr///`.

第一个表示“替换”：它用于将文本的某些部分（与给定模式匹配）替换为其他文本。例如：

```
my $x = 'cat sat on the wall';
$x =~ s/cat/dog/;
print $x; # dog sat on the wall 
```

第二个意思是“音译”：它用于将某个范围的符号替换为另一个范围。

```
my $x = 'cat sat on the wall';
$x =~ tr/cat/dog/;
print $x; # dog sog on ghe woll; 
```

这里发生的情况是所有的 'c' 都被 'd' 取代，'a' 变成了 'o' 并且 't' 变成了 'g'。很酷，对吧。)

[这部分](http://perldoc.perl.org/perlop.html#Quote-and-Quote-like-Operators)Perl 文档会带来更多的启示。)

PS 这是您脚本的主要逻辑问题，但还有其他几个问题。

首先，您需要从输入字符串中删除结束符 ( `chomp`)：否则该模式可能永远不会匹配。

其次，您应该在表达式的第一部分将`quotemeta`call替换为 sequence ，但从第二部分完全删除它（因为我们替换为*text*，而不是模式）。`\Q...\E``s///`

 *最后，我强烈建议开始使用词法变量而不是全局变量——并尽可能将它们声明为接近它们的使用位置。

所以它变得接近这个：

```
# these two directives would bring joy and happiness in your Perl life!
use strict; 
use warnings; 

my $original = "\nThe cat is on the tree";
print $original;

print "\nEnter the word that want to replace: ";
chomp(my $word_to_replace = <>);
print $word_to_replace, "\n";

print "\nEnter the new word for string: ";
chomp(my $replacement = <>);
print $replacement, "\n";

$original =~ s/\Q$word_to_replace\E/$replacement/;
print "The result is:\n$original"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T06:43:46.663

尝试以下操作：

```
$what = 'server'; # The word to be replaced
$with = 'file';   # Replacement
s/(?<=\${)$what(?=[^}]*})/$with/g; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T06:44:55.393

```
#Perl program that replace word with given word in the string
$str="\nThe cat is on the tree";
print $str;
print "\nEnter the word that want to replace";
chomp($s1=<>);
print $s1;
print "\nEnter the new word for string";
chomp($s2=<>);
print $s2;
$str=~ s/\Q$s1\E/\Q$s2\E/;
print $str; 
```*

# c# - WCF、SOAP、EF、POCO

> ID：12258033
> 
> 赞同：2
> 
> 时间：2012-09-04T06:40:07.207
> 
> 标签：c#, wcf, entity-framework, soap, poco

我们正在开发一个应用程序，它应该使用实体框架及其简单的 WCf Soap 服务（不是 Wcf 数据服务）。我现在很困惑，我已经阅读了以下这些帖子，但我不明白该去哪里[这个](https://stackoverflow.com/questions/7927452/ef-with-poco-wcf-wpf-reuse-poco-classes-on-client-or-use-dtos)问题几乎相同，但我有使用 POCO 的限制并尽量避免 DTO。它不是那么大的服务。但是我提到的链接在回答它时写道，如果我尝试在线发送 POCO 类，序列化就会出现问题。

[这篇](http://www.toplinestrategies.com/dotneters/net/wcf-entity-framework-and-n-tier-solutions-part-2/?lang=en)文章已经实现了与我的问题相关的解决方案，但他没有提到任何与序列化问题相关的内容。他只是更改了我在许多其他文章中也发现的 ProxyCreationEnabled =false。

但是这些帖子也有点老了，所以今天的推荐是什么。我还必须发布并获取大量 Word/Excel/PDF/Text 文件，所以发送 POCO 类是否可以，否则序列化会出现问题。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T06:55:20.993

I definitely do not agree with [this answer](https://stackoverflow.com/questions/7927452/ef-with-poco-wcf-wpf-reuse-poco-classes-on-client-or-use-dtos). The answer mentioned suggests to reinvent the wheel (The answer does not even indicate why not using POCOs).

You can definitely go with POCOs, I see no reason to have serialization issues; but if you have any, you can write DTOs for these specific problematic parts and map them to POCOs in the Business layer.

It is a good practice to use POCOs as the name itself suggests; Plain Old CLR objects. Writing the same classes again instead of generating them will not have any advantage. You can simply test it.

UPDATE:

Lazy Loading: Lazy loading means fetching related objects from database whenever they are accessed. If you have already serialized and deserialized an entity (ex. you have sent the entity to client side over a wire), Lazy Loading will not work, since you will not have a proxy in the client side.

Proxy: Proxy class simply enables to communicate with DB (a very simple definition by the way). It is not possible to use an instance of Proxy in the client side; it does not make sense. Just seperate the Proxy class and POCO entities into two different DLLs and share only the POCO objects with the client. And use the proxy in the service side.

# android - 无论如何我可以在wifi直接组创建中设置我选择的SSID和密码

> ID：12258034
> 
> 赞同：3
> 
> 时间：2012-09-04T06:40:17.113
> 
> 标签：android, android-wifi, wifi-direct

我想在普通的 android WiFi 设备和另一个支持 WiFi 直接的 android 设备之间创建 p2p 连接。我能够成功地创建一个组（uisng createGroup of WifiP2pManager）并使用 android 给出的 SSID 和密码短语我还能够成功地将普通 WiFi 设备连接到启用 WiFi 直接的设备（在其中我使用 wifi 创建了组直接api）。但是这里**android 给出了一些随机的 WiFi SSID 和密码短语，这导致我总是在 adb 日志中查看 SSID 名称，然后输入其他设备。**

**无论如何，我可以设置我选择的 SSID 和密码吗？**

谢谢科兹洛夫

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:36:30.137

requestGroupInfo() 使您能够同时获取 SSID 和密码，但是，我认为（还）无法调整这些。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-04-07T17:12:40.050

首先，最好的方法是不要更改，而只是检索 WifiP2p 设置，然后使用蓝牙或 NFC 等不同的通道将它们传递给连接的旧设备（不支持 WifiP2p 的设备，因为只有你需要密码）。二维码也可以使用。

上一条消息向您展示了如何获取 SSID 和密码。密码不能更改，但是 SSID 可以。Wifi Direct 规范将 SSID 设置为“DIRECT__”，其中 xy 是设置期间随机生成的一些字母。所以你不能改变这个前缀“DIRECT”和这两个字母，因为字母和密码都是在内部库中生成的，只有一个只读副本被传递回应用程序。

但是，您可以使用反射 API 更改 SSID 前缀之后的内容。

```
 private void openWifiDirectChannel(String name){
    WifiP2pManager manager = (WifiP2pManager) getSystemService(Context.WIFI_P2P_SERVICE);
    WifiP2pManager.Channel channel = manager.initialize(this, getMainLooper(), null);
    //Use reflection API to get the hidden method for setting the P2P network name
    try {
        Method m = manager.getClass().getMethod(
                "setDeviceName",
                WifiP2pManager.Channel.class, String.class, WifiP2pManager.ActionListener.class );
        m.invoke(manager, channel, name, new WifiP2pManager.ActionListener() {
            public void onSuccess() {
                //Code for Success in changing name
            }

            public void onFailure(int reason) {
                //Code to be done while name change Fails
            }
        });
    } catch (Exception e)
        e.printStackTrace();
    } 
```

# ruby-on-rails - 设置第一组 group_by？

> ID：12258037
> 
> 赞同：0
> 
> 时间：2012-09-04T06:40:28.733
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2

美好的一天，我想知道，如果我像这样使用 group_by 进行选择，是否有可能

```
 @p = Performance.includes(place: [:category]).
  order("places.title ASC").
  group_by{|p| p.place.category} 
```

因此，如果我希望某个特定类别排在第一位，我该怎么办？

```
EDIT 1 
```

查看@p.each 对结果进行的解析 do |p|

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:25:43.373

的返回值`group_by`只是一个普通的哈希，所以你可以应用`sort_by`它来首先放置你想要的类别：

```
group_by { |p| p.place.category }.sort_by { |k,v| (k=="category name") ? "" : k } 
```

您要优先考虑的类别的名称在哪里`category name`（空字符串使其在排序结果中排在第一位，其他所有内容都将按字母顺序排序）。

这会将散列转换为数组。如果要将数据保留为哈希形式，请将结果包装在`Hash[...]`：

```
Hash[group_by { |p| p.place.category }.sort_by { |k,v| (k=="category name") ? "" : k }] 
```

另请参阅这篇关于排序哈希的文章：[http ://www.rubyinside.com/how-to/ruby-sort-hash](http://www.rubyinside.com/how-to/ruby-sort-hash)

**更新**：

一种处理器密集度稍低的排序替代方案：

```
grouped = group_by { |p| p.place.category }
Hash[*grouped.assoc("category name")].merge(grouped.except("category name")) 
```

可能有一种更简单的方法可以做到这一点，但基本上这会将“类别名称”的键和值添加到哈希的头部。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T09:31:33.920

尽管我认为 shioyama 的回答可能会对您有所帮助，但我怀疑您是否真的需要排序过程。正如 shio 正确指出的那样，您的 sort_by 的返回值是一个哈希值。那么，您为什么不直接访问想要作为第一个值的值，只需将其用作哈希键？

# jquery - 我怎样才能只打乱表格的第一列？

> ID：12258042
> 
> 赞同：2
> 
> 时间：2012-09-04T06:40:43.163
> 
> 标签：jquery, shuffle

我正在使用[这个问题](https://stackoverflow.com/questions/7620677/jquery-shuffle-table-rows/12191498#12191498)中的一个函数来使用 jQuery 对表的行进行洗牌。我真正想要的是只洗牌第一列，其余部分保持不变，如下所示：

```
a b c d
e f g h
i j 
```

对此：

```
e b c d
i f g h
a j 
```

[Rob W 的回答](https://stackoverflow.com/a/7620712/2359271)中的功能是：

> ```
> (function($){
>     //Shuffle all rows, while keeping the first column
>     //Requires: Shuffle
>  $.fn.shuffleRows = function(){
>      return this.each(function(){
>         var main = $(/table/i.test(this.tagName) ? this.tBodies[0] : this);
>         var firstElem = [], counter=0;
>         main.children().each(function(){
>              firstElem.push(this.firstChild);
>         });
>         main.shuffle();
>         main.children().each(function(){
>            this.insertBefore(firstElem[counter++], this.firstChild);
>         });
>      });
>    }
>   /* Shuffle is required */
>   $.fn.shuffle = function() {
>     return this.each(function(){
>       var items = $(this).children();
>       return (items.length)
>         ? $(this).html($.shuffle(items))
>         : this;
>     });
>   }
> 
>   $.shuffle = function(arr) {
>     for(
>       var j, x, i = arr.length; i;
>       j = parseInt(Math.random() * i),
>       x = arr[--i], arr[i] = arr[j], arr[j] = x
>     );
>     return arr;
>   }
> })(jQuery) 
> ```

但这与我想要的相反——它打乱了除第一列之外的所有*行*。我怎样才能改变它，使它*只*洗牌第一列？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T06:55:28.650

Here's what I came up with:

```
var $firstCells = $("#tableIdHere tr td:first-child"),
    $copies = $firstCells.clone(true);

[].sort.call($copies, function() { return Math.random() - 0.5; });

$copies.each(function(i){
    $firstCells.eq(i).replaceWith(this);
}); 
```

That is, select all the first cells using the [`:first-child` selector](http://api.jquery.com/first-child-selector/), make a copy of them, and sort the copies randomly. Then loop through the (now randomised) copies and replace the originals with them.

Demo: [http://jsfiddle.net/nnnnnn/ceTmL/](http://jsfiddle.net/nnnnnn/ceTmL/)

P.S. Note that this technique will randomly sort any collection of table cells or elements if you just change the selector that creates the `$firstCells` jQuery object, e.g., if you change the selector to `"#tableIdHere tr"` it will randomly sort the *rows*.

UPDATE:

> *"I cannot understand what the* `[]` *does?"*

JavaScript arrays have a [`.sort()` method](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/sort) that allows you to pass in a custom sort comparison function like the one I used above that returns a random number between -0.5 and +0.5 to sort in random order. But jQuery objects are not arrays so you can't just say `$copies.sort(...)` on the `$copies` jQuery object. However, jQuery objects are *like* arrays in that they have numerically indexed elements and a `length` property, and some array methods (including `.sort()`) can be called on array-like objects if you use the [`.call()`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/call) or `.apply()` methods to call them. I could've said:

```
Array.prototype.sort.call($copies, ... 
```

...but instead I went with the easier to type:

```
[].sort.call($copies, ... 
```

...where `[]` is just an empty array that is there solely to provide access to the array `.sort()` method. The sort will be applied to the object that is the first parameter to `.call`, not to the empty array.

# iphone - 我可以在 nsuserdefaults 中对存储的分数进行排序吗？

> ID：12258044
> 
> 赞同：0
> 
> 时间：2012-09-04T06:40:50.683
> 
> 标签：iphone, ios, nsuserdefaults

我正在开发游戏应用程序，在该应用程序中，我在 nsuserdefaults 中存储名称、分数 ....但是根据我的要求，我想根据分数存储名称和分数（从高到低）....有什么解决方案用于在 nsuserdefaults 中排序分数...我想在顶部显示我的高分

谢谢在 adv

-(void)btnSaveScore { if(!dictWinData) dictWinData = [[NSMutableDictionary alloc] init];

```
 array = [[NSMutableArray alloc] init];
    array = [[[NSUserDefaults standardUserDefaults] valueForKey:@"ScoreName"] mutableCopy];
    if([array count] == 0)
    {
        array = [[NSMutableArray alloc] init];
    }

NSString *strName = [NSString stringWithFormat:@"%@",strNameOFPlayer];
NSString *strScore = [NSString stringWithFormat:@"%@",[NSString stringWithFormat:@"%d",iTap]];

if([strNameOFPlayer length]==7)
    [array addObject:[NSString stringWithFormat:@"%@                   %@",strName,strScore]];
else if ([strNameOFPlayer length] == 6)
    [array addObject:[NSString stringWithFormat:@"%@                     %@",strName,strScore]];
else if ([strNameOFPlayer length] == 5)
    [array addObject:[NSString stringWithFormat:@"%@                       %@",strName,strScore]];
else if ([strNameOFPlayer length] == 4)
    [array addObject:[NSString stringWithFormat:@"%@                         %@",strName,strScore]];
else if ([strNameOFPlayer length] == 3)
    [array addObject:[NSString stringWithFormat:@"%@                           %@",strName,strScore]];
else if ([strNameOFPlayer length] == 2)
    [array addObject:[NSString stringWithFormat:@"%@                             %@",strName,strScore]];
else if ([strNameOFPlayer length] == 1)
    [array addObject:[NSString stringWithFormat:@"%@                              %@",strName,strScore]];

   NSUserDefaults *dfltsData = [NSUserDefaults standardUserDefaults];
   [dfltsData setObject:array forKey:@"ScoreName"];
   [dfltsData synchronize];
   UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Alert"
                                                message:@"Score is saved."
                                               delegate:self
                                      cancelButtonTitle:@"Ok"
                                      otherButtonTitles:nil, nil];
          [alert show];
          [alert release]; 
```

请帮帮我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T06:47:10.527

从 NSUserDefault 获取数组，如下所示：

```
NSMutableArray *arrScores = [[NSUserDefaults standardUserDefaults] ObjectforKey:@"ScoreName"]; 
```

现在排序 arrScores 应该只包含 strScore 值，只能使用以下方法：

```
-(NSMutableArray *)sortByfloatvalue:(NSMutableArray *)array
{ 

  for(int i=0;i<[array count];i++)
  {
    for(int j=i+1;j<[array count];j++)
    {
        if([[array objectAtIndex:i] floatValue] < [[array objectAtIndex:j] floatValue])
        {
            [array exchangeObjectAtIndex:i withObjectAtIndex:j];
        }
    }
  }
  return array;
} 
```

# jquery - tinyMCE 与 nicEdit？

> ID：12258048
> 
> 赞同：1
> 
> 时间：2012-09-04T06:41:12.230
> 
> 标签：jquery, css, tinymce, customization, nicedit

有没有人尝试过两者？

我从 nicEditor 开始，但正在考虑切换到 TinyMCE，因为：

*   nicEditor 不再处于开发阶段，因此可能与未来的 CSS/HTML/jQuery 版本存在不兼容问题
*   很少支持
*   没有那么多自定义选项，至少与 tinyMCE 相比。

另外 TinyMCE 还有一个阿拉伯语插件。但是，我发现 tinyMCE 体积庞大，而且从人们的问题来看，定制并不容易，并且会弄乱 CSS。

我的应用程序要求是动态创建、删除和保存页面上可编辑、可拖动、可调整大小的文本框的内容。

有没有人尝试过两者，你的意见是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T17:55:40.753

我在 Windows 上使用了 tinymce，但在 iPad 上出现了问题（因为 iframe），所以我在 ipad 上使用了 niceeditor，它使用了内容可编辑的 div。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-10T09:08:32.967

Tinymce 适合您的需求，但可能需要一些时间才能进入。从我的角度来看，tinymce 值得付出努力（现在甚至可以在 iPad 上使用）。Tinymce 带有许多功能，但需要进行配置才能按需要工作（如果您希望使用默认功能以外的一些特殊功能）。

# ubuntu - 如何在 Ubuntu 上使用 Virtualbox 和 Vagrant 安装 Gitlab

> ID：12258049
> 
> 赞同：9
> 
> 时间：2012-09-04T06:41:12.700
> 
> 标签：ubuntu, github, virtualbox, vagrant

我不知道如何在 Ubuntu 上安装带有 Virtualbox 和 Vagrant 的 Gitlab。我完全迷失了，从在线研究中一无所获。

请帮我..

谢谢并恭祝安康。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-02-26T21:51:36.753

亚搏体育app首席执行官在这里。您可以在您的虚拟机中安装 Omnibus 包，这是 2 分钟的工作，请参阅[https://about.gitlab.com/downloads/](https://about.gitlab.com/downloads/)

如果您想自动安装 Omnibus 包，则在[https://about.gitlab.com/installation/上列出了一个社区 Vagrant 选项](https://about.gitlab.com/installation/)

不再支持也不推荐使用说明书或 virtualbox 映像。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-09-04T06:48:00.327

您不需要从头开始执行此操作，只需使用提供的 Gitlab Virtualbox 映像即可。

参考[https://github.com/gitlabhq/gitlabhq/wiki/VirtualBox-Image](https://github.com/gitlabhq/gitlabhq/wiki/VirtualBox-Image)。

下载可在[http://minus.com/m55CpmY6C/](http://minus.com/m55CpmY6C/)找到的 Virtualbox 映像。

使用 vagrant 访问虚拟机：

```
vagrant box add gitlab /path/to/the/GITLAB-UBUNTU-SERVER-10.04-I386.box
vagrant init gitlab
vagrant up 
```

在流浪文件中：

```
Vagrant::Config.run do |config|
  config.vm.box = "gitlab"
  config.vm.network :hostonly, "33.33.33.10"
end 
```

登录 vagrant：

```
vagrant ssh 
```

重启和升级 Gitlab Web 服务器：

```
cp gitlabhq/config/gitlab.yml{.example,}
cp gitlabhq/config/database.yml{.example,}
./restart_and_upgarde_gitlabhq 
```

这将启动 Gitlab 服务器，您可以登录到 Gitlab 网站：`http://33.33.33.10`

GitLab 管理员登录已经使用用户名“admin@local.host”和密码“5iveL!fe”设置。

# android-listview - 自定义列表视图中的 setOnItemClickListener

> ID：12258059
> 
> 赞同：3
> 
> 时间：2012-09-04T06:42:11.120
> 
> 标签：android-listview

这是`ShowData.java`我设置自定义列表视图的活动..现在我需要单击该列表视图上的视图并需要显示另一个活动但会强制关闭..它会引发错误 `listview.setAdapter(adapter);`

```
public class ShowData extends Activity
{

    ListView listview;
    Intent intent;
    ArrayList<BeanClass> datalist;
    CustomAdapter adapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);

        listview = (ListView) findViewById(R.id.listView1);

        Intent intent = getIntent();
        datalist = (ArrayList<BeanClass>) intent.getSerializableExtra("list");
        Log.i("Size of ArrayList", "is " +datalist.size());

            adapter = new CustomAdapter(ShowData.this, R.layout.customrow , datalist);

            listview.setAdapter(adapter);
          listview.setOnItemClickListener(new OnItemClickListener() 
            {
        @Override
            public void onItemClick(AdapterView<?> arg0, View arg1, int arg2,long arg3) 
            {
                Intent i = new Intent(ShowData.this,DetailActivity.class);
                i.putExtra("datalist", datalist);
                i.putExtra("position", arg2);
                startActivity(i);
            }               
}  
} 
```

这里是`CustomAdapter.java`

```
public class CustomAdapter extends ArrayAdapter<BeanClass>
{
    Context context;
    int layoutResourceId;
    BeanClass bc;
    ArrayList<BeanClass> vbc;

    public CustomAdapter(Context context, int layoutResourceId, ArrayList<BeanClass> vbc) 
    {
        super(context, layoutResourceId, vbc);
        this.context=context;
        this.layoutResourceId=layoutResourceId;
        this.vbc=vbc;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) 
    {
        View row = convertView;
        StringReaderHolder holder;

        if(row == null)
        {
            LayoutInflater inflater = ((Activity)context).getLayoutInflater();
            row = inflater.inflate(layoutResourceId, parent,false);

            holder= new StringReaderHolder();

            holder.mytext1 = (TextView) row.findViewById(R.id.textView1);
            holder.mytext2 = (TextView) row.findViewById(R.id.textView2);
            holder.mytext3 = (TextView) row.findViewById(R.id.textView3);

            row.setTag(holder);
        }
        else
        {
            holder = (StringReaderHolder) row.getTag();
        }

        BeanClass bsObject = vbc.get(position);

        holder.mytext1.setText(bsObject.name);
        holder.mytext2.setText(bsObject.address);
        holder.mytext3.setText(bsObject.phone);

        return row;
    }

    static class StringReaderHolder
    {

        TextView mytext1,mytext2,mytext3;

    }

} 
```

我应该如何使用 setOnItemClickListener ...？？？谢谢...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-04T07:55:52.007

在您的 getView 方法中尝试：

```
row.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                // TODO Auto-generated method stub
                Intent i = new Intent(context,DetailActivity.class);
                i.putExtra("datalist", vbc);
                i.putExtra("position", position);
                startActivity(i);
            }
        }); 
```

# iphone - 如何在 iOS SDK 中获取崩溃日志

> ID：12258064
> 
> 赞同：2
> 
> 时间：2012-09-04T06:42:38.350
> 
> 标签：iphone, ios

是否可以从我的应用程序中获取崩溃日志？我知道我们可以通过 NSSetUncaughtExceptionHandler 获取异常处理程序，但我想获取 Organizer 可以找到的崩溃文件。我想访问该文件并发送到我的服务器。是否有任何受支持的 SDK 可以做到这一点？

谢谢！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T06:47:47.627

流行的服务 HockeyApp 基于开源软件，它有自己的客户端，位于您的应用程序中，以及一个用于从您的应用程序收集崩溃报告的基本服务器。

查看他们的 github 帐户，了解有关设置的更多信息。

[https://github.com/TheRealKerni/QuincyKit](https://github.com/TheRealKerni/QuincyKit)

# asp.net-mvc-3 - MVC3 MongoDB 项目架构

> ID：12258066
> 
> 赞同：0
> 
> 时间：2012-09-04T06:42:43.163
> 
> 标签：asp.net-mvc-3, mongodb

我们正在启动新项目，该项目将使用 MVC3 和 mongoDB 进行数据库存储。谁能指出我们更好的项目架构。

我们有以下查询：

1.  我们可以在 Visual Studio 解决方案文件中有 Project.Data（用于对 mongoDB 的数据访问）、Project.WEB.UI（MVC）、Project.Core（业务逻辑）- 3 个项目吗？
2.  哪里有模型课？在 Project.Core 中？如何在这些项目之间共享模型？
3.  如果有人有这种架构并且有一些示例类和接口（在 VS 项目文件中），请为我分享
4.  我们还需要数据模型来与 mongodb 交互吗？把这些模型放在哪里？我们可以在所有项目中共享这些模型吗？任何工作代码都受到高度赞赏。

注意：我已经看到了一些其他的 SO 问题，而且这些问题并没有直接回答我的问题。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:17:03.320

在我参与的一个项目中，我们最终将您拥有的核心和数据结合在一起。最初，我们将关注点与服务中的业务逻辑和具有 Mongo 查询的 DAL 完全分离。因为当您使用 MongoDB 时，它与使用 RDBMS 完全不同，我们发现我们的大部分业务逻辑都是以特定于 Mongo 的方式编写的，所以我们组合了这些层，因为我们似乎有一个冗余层，如果我们确实决定回到 RDBMS，我们可能会重写一些逻辑。

至于您的问题，您的 Domain 对象是您的 Mongo 实体，所以我会将它们放在您的数据层中。然后，我会在您的 WEB 项目中拥有您的 MVC 模型，并使用 Automapper 在它们之间进行映射。

# java - 在 Android 中取消 AsyncTask

> ID：12258067
> 
> 赞同：2
> 
> 时间：2012-09-04T06:42:51.010
> 
> 标签：java, android, android-asynctask

我`AsyncTask`在我的 Android 应用程序中使用。

这是我的任务：

```
public class MyTask extends AsyncTask<String, String, Boolean> {
    private ProgressDialog progressDialog;
    private boolean isCancelled = false;
    public MyTask(ProgressDialog progressDialog) {
        this.progressDialog = progressDialog;
    }

    @Override
    protected Boolean doInBackground(String... params) {
        try {
            if (!isCancelled()) {
                isCancelled = false;
            } else
                isCancelled = true;
        } catch (Exception e) {

            isCancelled = true;
        }
        return isCancelled;
    }

    @Override
    protected void onCancelled() {
        super.onCancelled();
        isCancelled = true;
    }

    @Override
    protected void onPostExecute(Boolean result) {
        super.onPostExecute(result);
        progressDialog.dismiss();
        if (!isCancelled) {
            // start an activity
        }
    }
} 
```

我想在按下设备的后退按钮时取消此任务并取消`ProgressDialog`，但此任务执行速度很快。按下后退按钮时，将`ProgressDialog`取消，但任务完成。

这`AsyncTask`是从这样的活动中调用的：

```
ProgressDialog progressDialog = new ProgressDialog(this);
progressDialog.setMessage("Loading");
progressDialog.setOnCancelListener(new OnCancelListener() {
    @Override
    public void onCancel(DialogInterface dialog) {
        if (myTask!= null
                && myTask.getStatus() != AsyncTask.Status.FINISHED
                && !myTask.isCancelled()) {
        myTask.cancel(true);
        }                       
    }
});

progressDialog.show();
myTask = new MyTask(progressDialog);
myTask.execute(); 
```

登录时，我发现`onDismissListener`在执行`onPostExecute()`. 如何正确取消此任务？

我的意图是取消任务，无论任务是否完成，按下后退按钮。是否可以从中取消 AsyncTask `onPostExecute()`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T06:48:18.583

实际上，您的代码看起来不错，

In ProgressDialog的`OnCancel()`

在调用`myTask.cancel(true);`方法之后，将在之后调用`onCancelled(Object)`, 而不是 ) 。`onPostExecute(Object``doInBackground(Object[])`

**笔记：**

```
If you call cancel(true), an interrupt will be sent to the background thread, 
which may help interruptible tasks. Otherwise, you should simply make sure to check
isCancelled() regularly in your doInBackground() method. 
```

[您可以在http://code.google.com/p/shelves](http://code.google.com/p/shelves)看到这方面的示例。

但我建议您不要取消 AsyncTask 并保持您的布尔标志仅在按下后关闭对话框，并且`onPostExecute()`AsyncTask 使用您的布尔标志条件决定如何处理结果。

# java - 运行时 exec 在执行中途暂停

> ID：12258074
> 
> 赞同：0
> 
> 时间：2012-09-04T06:43:41.033
> 
> 标签：java, runtime.exec

我正在从一个 bat 脚本运行一个 Java (.jar) 程序，该脚本接近尾端具有以下内容（在 Windows 上）

```
Runtime.getRuntime().exec("svn co http://myrepository.com/someproj");
Thread.sleep(20000); 
```

它检查了大约 1/10 的目录和 1 个文件，然后它什么也不做。我怀疑它在文件上暂停的原因，但我找不到任何东西。bat 脚本以管理员身份运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T06:49:55.377

命令阻塞的一个常见原因`exec`是它正在等待来自父进程（或控制台）的输入，或者因为父进程没有读取子进程的标准输出或错误流而被阻塞。

# c# - 在实体框架中锁定数据库行

> ID：12258079
> 
> 赞同：3
> 
> 时间：2012-09-04T06:44:07.920
> 
> 标签：c#, .net, entity-framework

我正在使用实体框架 3.5

我需要编辑一个数据库行，并且我想确保一旦我开始编辑它就没有其他进程编辑该行。

如何在 Entity Framework 3.5 中实现这一点？

我正在寻找锁定特定行，而不是整个表。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T06:49:18.010

这可以通过实现**悲观并发来实现。**

查看本[教程](http://www.asp.net/web-forms/tutorials/continuing-with-ef/handling-concurrency-with-the-entity-framework-in-an-asp-net-web-application)以了解有关 EF 中的并发性的更多信息。同一个网站上也有一些关于如何实现处理并发的不同方法的教程。

希望这可以帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:04:36.600

您可以像这样使用范围：

```
var transactionOptions = new TransactionOptions
{
    IsolationLevel = IsolationLevel.Serializable,
    Timeout = TimeSpan.MaxValue
};

using (var scope = new TransactionScope(
        TransactionScopeOption.Required, transactionOptions))
{
    // Your code
} 
```

# python - Python：通过查看扩展名来确定文件类型

> ID：12258080
> 
> 赞同：1
> 
> 时间：2012-09-04T06:44:25.400
> 
> 标签：python, file, package, file-type

我想根据它们在 python 中的扩展名对文件类型进行分类。在自己编写之前，我想检查是否有任何 python 包可用于此目的。通过文件类型，我的意思是将其分类为例如。Doc、ppt、pdf、tar、txt、iso 等。理想情况下，它将文件名作为输入并返回其类型。我在 linux 上运行

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T08:12:12.840

您应该查看文档元数据解析器。我在一些项目中使用了[Apache Tika ，它是一个 java 库。](http://tika.apache.org/)你可以看看这个问题[Python-based document metadata parser?](https://stackoverflow.com/questions/2239459/python-based-document-metadata-parser) 看看如何在 Python 中使用它

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:02:35.837

在 Linux 中，您可以使用确定文件类型的“文件”实用程序。因此，如果您愿意，也可以在脚本中使用它：

```
import subprocess
subprocess.call(['file', 'yourfile']) 
```

# c# - 手动打开约会和从插件打开约会之间的区别

> ID：12258083
> 
> 赞同：1
> 
> 时间：2012-09-04T06:44:35.680
> 
> 标签：c#, vsto, ms-office, office-2010

我正在尝试从 Outlook 2010 中的加载项打开新约会。发送此类约会时，**页面挂起**，有时约会页面在发送约会后**没有关闭**。但是当我从文件菜单中打开约会时，从未出现过解释的问题，而且速度非常快。我可能犯了一个错误。

我如何从 Ribbon.cs 打开约会项目

```
var newAppointment =
   (AppointmentItem)(Globals.ThisAddIn.Application.CreateItem(OlItemType.olAppointmentItem));
newAppointment.MeetingStatus = OlMeetingStatus.olMeeting;
newAppointment.Display(true); 
```

功能区按钮的外观。单击执行上述代码的位置。 ![示例功能区按钮](../Images/e56fa9283d7be1b79eb98acd9cee52e5.png)

新约会项目已打开，尚未按下发送。 ![新约会项目已打开](../Images/e4cd5f42de44c5642235a26de3119222.png)

按发送后，约会被发送给用户并保存到我的日历中，但出现了问题并且没有关闭。 ![扭曲的外观](../Images/454c4586f9893422edd10b116f291a0e.png)

当我尝试调试时，我发现它正在重新加载功能区，我不确定它是否重新打开了页面。但我的线索较少。

可能是什么原因？让我知道我是否表达得足够清楚。

# java - java@jboss4.0和linux环境下找不到方法

> ID：12258085
> 
> 赞同：1
> 
> 时间：2012-09-04T06:44:47.390
> 
> 标签：java, linux, jboss

在 jar 文件中找不到 Linux 方法

环境 1：[在 JBoss 4.0 和 Windows 上正常工作]
环境 2：[在 JBoss 4.0 和**Linux 上**出现问题]

错误信息：

> 严重：>> {==================堆栈跟踪是======================== == 2012 年 9 月 4 日下午 5:12:13 com.bct.platform.logger.BPMSLogger logString 严重：>> com.bpms.core.exception.BPMSRuntimeException：BEACP015：没有像这样的可用方法->uploadDocument(org.apache .commons.fileupload.FileItem,java.lang.String,java.lang.String)com.bpms.engine.workflowprocessor.actions.ActionCallProgram.executeAction(ActionCallProgram.java:571) com.bpms.engine.CommonInterface.executeActions(CommonInterface .java:188)

我们称之为反射

下面是代码示例，我在 Linux 环境中找不到 Java 时尝试调用 saveALDocument。在 Windows 中它工作正常

```
 import java.io.ByteArrayInputStream;
import java.io.File;
import java.io.FileInputStream;
import java.net.URL;
import java.rmi.RemoteException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import javax.activation.MimetypesFileTypeMap;

import org.apache.commons.fileupload.FileItem;
import org.apache.commons.io.FilenameUtils;
import org.apache.commons.lang.StringUtils;

public class FileUpdation
{

    public String saveALDocument(FileItem filebuff,String fileName,String fileUuid) throws Exception
    {

        String uuidURLMap = "Retry...";
        System.out.println("***************SaveDOCUment Entered *************");
        try {

            byte[] content = filebuff.get();
            String filename = filebuff.getName();
            if (filename != null) {
                filename = FilenameUtils.getName(filename);
            }
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        return uuidURLMap; 
    }

    public String _getDocURL(String uuid)
    {
        String strUrl = null;
        try {
            .........
        }
        catch (Exception e) {
            e.printStackTrace();
        }
        return strUrl;
    }

    public String _getName(String strUUID) {

        return fileName;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T10:37:26.463

commons-fileupload-1.2.jar 和 commons-io-1.1.jar ，把它们放在 lib

# google-chrome - 如何以 root 身份运行 Google Chrome？

> ID：12258086
> 
> 赞同：24
> 
> 时间：2012-09-04T06:44:48.967
> 
> 标签：google-chrome, ubuntu, ubuntu-10.10

我已经在 Ubuntu 10.10 中安装了 Google Chrome。当我尝试在普通用户中使用时，它工作正常。

现在，如果我想用作根，它会给出以下错误：

> 谷歌浏览器不能以 root 身份运行

此外，当我在终端中尝试以下命令时，它会打开 Google Chrome：

```
google-chrome --user-data-dir 
```

我需要一个永久的解决方案。任何人都可以给我这个想法吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2016-04-10T17:15:06.580

从终端运行

```
# google-chrome --no-sandbox --user-data-dir 
```

或者

打开文件 opt/google/chrome/google-chrome 并替换

> exec -a "$0" "$HERE/chrome" "$@"

至

> exec -a "$0" "$HERE/chrome" "$@" --user-data-dir --no-sandbox

它适用于 CentOS 6 中的 chrome 版本 49。Chrome 也会发出警告。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-09-04T06:55:18.263

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-07-07T10:14:50.347

1.  去`/opt/google/chrome`。

2.  打开`google-chrome`.

3.  为数据目录附加当前主目录。替换这个：

```
exec -a "$0" "$HERE/chrome" "$@" 
```

有了这个：

```
exec -a "$0" "$HERE/chrome" "$@" --user-data-dir $HOME 
```

如需参考，请访问本网站，“<a href="http://computernetworkingnotes.com/ubuntu-12-04-tips-and-tricks/how-to-run-chrome-as-root-user-in-ubuntu .html" rel="noreferrer">如何在 Ubuntu 中以 root 用户身份运行 chrome。”</p>

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2014-01-23T03:56:50.700

我按照这些步骤

```
Step 1\. Open /etc/chromium/default file with editor
Step 2\. Replace or add this line 
CHROMIUM_FLAGS="--password-store=detect --user-data-dir=/root/chrome-profile/"
Step 3\. Save it.. 
```

就是这样......启动浏览器......

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2019-01-30T05:54:34.677

```
I tried this with Kali linux, Debian, CentOs 7,And Ubuntu 
```

（永久方法）

1.  使用任何文本编辑器编辑文件（我使用 Leafpad）在您的终端上运行此代码`leafpad/opt/google/chrome/google-chrome`

2.  （通常是它的结束线）找到`exec -a "$0" "$HERE/chrome" "$@"` 或`exec -a "$0" "$HERE/chrome" "$PROFILE_DIRECTORY_FLAG" \ "$@"`

3.  改变为`exec -a "$0" "$HERE/chrome" "$@" --no-sandbox --user-data-dir`

（只是简单的方法）

在终端中运行此命令

```
$ google-chrome --no-sandbox --user-data-dir 
```

或者

```
$ google-chrome-stable --no-sandbox --user-data-dir 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-04-20T05:59:08.053

只需替换以下行

```
exec -a "$0" "$HERE/chrome" "$@" 
```

和

```
exec -a "$0" "$HERE/chrome" "$@" --user-data-dir 
```

一切都会好起来的。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-07-08T03:39:39.193

步骤1：`cd /opt/google/chrome`

第 2 步：编辑 google-chrome 文件。`gedit google-chrome`

STEP 3： 找到这一行：`exec -a "$0" "$HERE/chrome" "$@"`。

大多数情况下，这一行位于 google-chrome 文件的末尾。

像这样评论它：`#exec -a "$0" "$HERE/chrome" "$@"`

STEP 4：在同一位置添加一个新行。

```
exec -a "$0" "$HERE/chrome" "$@" --user-data-dir 
```

第 5 步：保存 google-chrome 文件并退出。然后你可以使用 chrome 作为 root 用户。好好享受！

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-10-21T05:10:41.483

`gksu`只要您为 Chrome 提供配置文件目录，Chrome 就可以以 root 身份运行（记住在这样做时使用）。

与其在每次运行时都输入配置文件目录，不如创建一个新的 bash 文件（我将其命名为`start-chrome.sh`）

```
#/bin/bash
google-chrome --user-data-dir="/root/chrome-profile/" 
```

请记住以 root 权限调用该脚本！

```
$ gksu /root/start-chrome.sh 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2016-01-31T02:02:46.447

用 .启动 Chrome 已经不够了`--user-data-dir=/root/.config/google-chrome`。它只是打印`Aborted`和结束（Ubuntu 12.04 上的 Chrome 48）。

您实际上需要以非 root 用户身份运行它。你可以这样做

```
gksu -wu chrome-user google-chrome 
```

`chrome-user`您认为应该运行 Chrome 的用户在哪里？您的 Chrome 用户个人资料位于`~chrome-user/.config/google-chrome`。

顺便说一句，在二进制文件中更改所有出现的`geteuid`to的旧技巧不再有效。`getppid``chrome`

# ruby - RVM pkg 安装校验和错误

> ID：12258087
> 
> 赞同：5
> 
> 时间：2012-09-04T06:44:49.867
> 
> 标签：ruby, rvm, zlib

```
root@li417-132:~# rvm pkg install zlib
Fetching zlib-1.2.7.tar.gz to /usr/local/rvm/archives
There is no checksum for 'http://prdownloads.sourceforge.net/libpng/zlib-1.2.7.tar.gz' or 'zlib-1.2.7.tar.gz', it's not possible to validate it.
If you wish to continue with unverified download add '--verify-downloads 1' after the command.

Please note that it's required to reinstall all installed rubies:

    rvm reinstall all --force
    rvm all-gemsets do rvm gemset pristine 
```

今天发生了一个奇怪的问题，我几天前设置的其他 linux 机器从未这样做过，但今天我无法安装任何 rvm 包，并且在命令后添加“--verify-downloads 1”似乎根本没有效果.

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-04T08:51:02.287

这是 RVM 中的一个新变化，您可以使用它：

```
rvm --verify-downloads 1 pkg install zlib 
```

最好的解决方案是为 zlib 添加 md5 / sha512 以便对其进行验证

命令解析已经修复，请更新 rvm 使其工作：

```
rvm get head 
```

* * *

# 弃用警告：

`rvm pkg`被**autolibs**弃用：

```
rvm get stable
rvm autolibs enable
rvm install ruby 
```

如果需要，RVM 将自动使用系统包管理器安装缺少的库并使用适当的编译设置配置 ruby​​ - 在 OSX RVM 上检测 macports、homebrew、fink，如果未找到安装 macports 来处理库安装。

# rest - 使用 Windows Live ID 访问 Windows Azure 服务管理 API

> ID：12258095
> 
> 赞同：1
> 
> 时间：2012-09-04T06:45:45.033
> 
> 标签：rest, azure

根据[文档](http://msdn.microsoft.com/en-us/library/windowsazure/ee460782)，似乎只能通过将证书附加到我之前上传到管理门户的每个请求来针对 Windows azure 服务管理 API 进行身份验证。[新的管理 API](http://manage.windowsazure.com)是使用服务管理 API 构建的，但它使用 Windows Live 身份验证。是否可以使用 windows live 获取 windows azure 订阅 ID 和证书，所以我可以使用管理门户使用的相同身份验证机制？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T06:59:25.217

是什么让您认为 Service Management API 使用 Live ID 进行身份验证？它只是使用 Live ID 进行身份验证的门户。

如果您深入研究一下，您会注意到来自管理门户的所有服务请求都是针对[https://manage.windowsazure.com/Service](https://manage.windowsazure.com/Service)发出的，而[管理服务的基本 URI](http://msdn.microsoft.com/en-us/library/windowsazure/ee460786.aspx)是：[https://management.core.windows。网](https://management.core.windows.net)

所以，不，您不能使用 Live ID 对 Management API 进行身份验证。而且，它的管理 API 并不新鲜。门户是新的。管理 API 已经存在了一段时间，并且会不时更新以反映即将推出的新服务。

**2 条评论后更新**

按照 Gaurav 的解释，我将添加一个简单的架构图（超级简化，完全是我的想法，但这就是我将如何以非常简约的方式构建它）：

[用户的浏览器（门户）] ==> 将 XmlHttpRequest (AJAX) 发送到 ==> [门户服务] 然后 [门户服务后端] ==> 使用预定义的证书签署请求并将请求发送到 ==> [management.core.windows .net/subscription-id/whatever/service/command]

这实际上是向（Web）服务提供 UI 的一种非常常见的做法。

这样两个条件都实现了：

1.  您使用 Live ID 对门户进行身份验证
2.  Windows Azure 服务管理 API 仍然、仍然且仅受证书保护。

# c# - 访问 DocumentationComment 节点给定一个 DocumentationComment 琐事？

> ID：12258097
> 
> 赞同：0
> 
> 时间：2012-09-04T06:45:55.830
> 
> 标签：c#, roslyn

![语法可视化屏幕截图](../Images/b36ebe8ebf2d83d617c95ea639492283.png)

有一个 MethodDeclarationSyntax 节点，我正在尝试访问它的 DocumentationCommentSyntax 节点。

我可以通过这样做获得 DocumentationComment 琐事：

```
var firstToken = member.GetFirstToken();
var documentationTrivias = firstToken.LeadingTrivia.Where(t => t.Kind == SyntaxKind.DocumentationComment);
if(documentationTrivias.Count() != 1)
    return null;
var documentationTrivia = documentationTrivias.Single(); 
```

现在，我只需要访问树中它正下方的节点。我相信这很简单，但我找不到方法。

任何帮助将不胜感激，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T09:37:51.583

要访问该节点，您需要调用`GetStructure()`. `SyntaxTrivia`那会返回`StructuredTriviaSyntax`，但既然你知道你有`DocumentationComment`，它实际上会是`DocumentationCommentSyntax`，所以你可以将它转换为那个。

另外，您不需要处理`FirstToken`，您可以使用它`GetLeadingTrivia()`来代替。

```
var documentationCommentTrivia =
    method.GetLeadingTrivia()
          .SingleOrDefault(t => t.Kind == SyntaxKind.DocumentationComment);
if (documentationCommentTrivia.Kind == SyntaxKind.None)
    return null;

var documentationCommentSyntax =
    (DocumentationCommentSyntax)documentationCommentTrivia.GetStructure(); 
```

# php - 如何在 wpalchemy 中使用复选框

> ID：12258103
> 
> 赞同：1
> 
> 时间：2012-09-04T06:46:19.060
> 
> 标签：php, wordpress

我使用以下代码在 WordPress 页面（在管理部分）中创建了一个复选框：

```
<?php while($mb->have_fields_and_multi('sidebar-block')): ?>
<?php $mb->the_group_open(); ?>

    <!-- Some more code here for other fields -->

    <p class="checkbox">
    <input name="<?php $metabox->the_name('blue-block'); ?>" type="checkbox" value="1" <?php if ($metabox->get_the_value('blue-block')) echo ' checked="checked"'; ?>>
    <label>Do not use Blue Block for content</label>
    </p>

<?php $mb->the_group_close(); ?>
<?php endwhile; ?> 
```

上面的代码工作正常。我的问题是如何检查是否在主网站（前端）上选中了此复选框？

以下是我的前端模板中的代码：

```
<?php
    $my_meta = get_post_meta($post->ID,'_sidebar_meta',TRUE);
    if ($my_meta['sidebar-block']) {
    foreach ($my_meta['sidebar-block'] as $sidebar)
    {
?>
<div id="aside-blue">
    <?php if ($sidebar['side_heading']) { ?>
        <h2 class="sideheading"><?php echo $sidebar['side_heading']; ?></h2>
    <?php } ?>
    <?php echo apply_filters( 'the_content', $sidebar['side_content'] ); ?>
</div>
<?php } ?>
<?php } ?> 
```

我只想`id="aside-blue"`在选中复选框时添加。

* * *

我为此尝试了以下代码，但它不起作用

```
<?php
    $my_meta = get_post_meta($post->ID,'_sidebar_meta',TRUE);
    if ($my_meta['sidebar-block']) {
    foreach ($my_meta['sidebar-block'] as $sidebar)
    {
?>

<div <?php if ($sidebar['blue-block'] == 'yes') { ?>id="aside-blue"<?php } ?>>

</div>
<?php } ?>
<?php } ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T13:08:11.473

检查 wp_postmeta 表中值的存储方式。当我使用复选框时，值是序列化的。在使用元值之前，您可能需要对其进行反[序列化。](http://php.net/manual/en/function.unserialize.php)

# c# - 无需使用 C# 打开文档即可对 docx 进行数字签名

> ID：12258106
> 
> 赞同：3
> 
> 时间：2012-09-04T06:46:47.003
> 
> 标签：c#, digital-signature

我尝试了下面的代码，但没有打开它就无法签署文件。是否可以在不打开证书的情况下签署带有证书的文件。

```
object TempFilePath = TemporaryFolder + FileTempName;
object Visible = false;
object readonlyfile = false;

try
{
    object missing = System.Reflection.Missing.Value;
    Microsoft.Office.Interop.Word.ApplicationClass wordapp = new
    Microsoft.Office.Interop.Word.ApplicationClass();
    Microsoft.Office.Interop.Word.Document wordDocument = wordapp.Documents.Open(ref
TempFilePath, ref missing,
    ref readonlyfile, ref missing, ref missing,
    ref missing, ref missing, ref missing,
    ref missing, ref missing, ref missing,
    ref Visible, ref missing, ref missing,
    ref missing, ref missing);

    //    wordDocument.Activate();

    //  object sigID = "{00000000-0000-0000-0000-000000000000}";

    //   wordDocument.ActiveWindow.Application.ActiveDocument.Signatures.AddSignatureLine(sigID);
    //   wordDocument.ActiveWindow.Application.ActiveDocument.Signatures.Commit();
    SignatureSet signatureSet = wordDocument.Signatures;
    Signature objSignature = signatureSet.Add();

    if (objSignature == null)
    {
        DocumentNotSigned(item);
        return false;
    }
    else
    {
        signatureSet.Commit();
        object saveChanges = true;
        wordDocument.Close(ref saveChanges, ref missing, ref missing);
        wordapp.Quit(ref missing, ref missing, ref missing);
        return true;
    } 
```

# amazon-s3 - DynamoDb + S3 + CloudSearch + Redis

> ID：12258110
> 
> 赞同：0
> 
> 时间：2012-09-04T06:47:28.007
> 
> 标签：amazon-s3, redis, amazon-dynamodb, amazon-cloudsearch

我目前正在为我的应用程序创建一个方案，我想知道我的想法是否正确

示例：电子商务网站

在 DynamoDb 中，我会将产品（product_id，元数据链接到 S3）

S3，我会用它来存储搜索数据格式（SDF/JSON）（产品名称、产品描述、价格等）

Amazon CloudSearch 将用于索引 S3 中的文档，并能够搜索它们。Redis 将用于缓存结果

我的方案对吗？s3 可以成为一个好的“数据库”吗？

这里甚至需要 DynamoDb 吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-04T18:08:08.173

如果您认为 S3 只是您的产品的记录源，并且您不期望大量的读/写，那么它可以工作，但您必须认识到它比使用真正的数据库要慢得多。不仅慢 1-2 倍，而且慢很多数量级。我们使用 S3 来存储 Postgres 中存储的实时数据的审计数据 - 很有魅力，但这是一次写入且很少读取的数据。必须检索审计记录的检索时间大于 50 毫秒。当您需要一次处理多条记录时，这种速度通常是不可接受的。

如果您仍然要使用 dynamoDB，为什么不直接使用它来存储您要在 s3 上存储的内容呢？为了坚持保持简单的概念，我将使用以下堆栈：

*   dynamoDB 成为记录系统并进行一些搜索
*   Cloudsearch 提供比 dynamodb 提供的更灵活的搜索
*   S3 用于静态文件（产品图片等）

再次，为了简单起见，如果您已经在使用 dynamoDB 并且不打算使用任何 Redis 的专用数据类型，请跳过 Redis 进行缓存 - 即：您的缓存只不过是字符串的键等。如果您使用 Redis，请使用您计划利用它的其他数据类型，或者如果您希望缓存更接近您的应用程序 - 即：您计划在网络服务器上使用 Redis。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T06:50:52.547

Dynamo 用于存储写入扩展数据。如果您的应用程序不需要对 product_id 和元数据进行大量写入，我认为 RDS/MySQL 会更好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T12:51:26.150

在设计应用程序时，您确实应该从一开始就让事情尽可能简单。随着时间的推移，情况总是会变得更糟：）

`S3`不是**一个好的数据库**。它不是为此而设计的，而且**速度太慢**。它仅用于文件存储。如果您想坚持使用`DynamoDB`，则应将所有产品信息（包括元数据）放入其中。

`CloudSearch`可能是一个不错的选择。您还**可以**在`DynamoDB`. 它需要更多的**设计和编程**，但可能值得考虑。这是一篇关于这个问题的优秀博客文章的链接：http: [//blog.coredumped.org/2012/01/amazon-dynamodb.html](http://blog.coredumped.org/2012/01/amazon-dynamodb.html)。

所以，

*   是否甚至需要 DynamoDB：是的，或者 RDS、Mongo、...任何真正的数据库，具体取决于您的需要。
*   S3 是一个好的数据库吗：我不这么认为。

# sql-server-2008 - 在索引字段上设置字段精确大小

> ID：12258112
> 
> 赞同：0
> 
> 时间：2012-09-04T06:47:44.890
> 
> 标签：sql-server-2008

我在 SQL-Server 中有 10 列的表，其中之一是`IP`varchar(39)。我在此处存储 IP 地址，并且此字段具有`secondary non-clustered index`，因为我`search`按此字段执行。

该字段设置为 39 个符号，对于 IPv4 来说绰绰有余。如果我将此字段设置为精确的 IPv4 地址大小 15 个符号，我会获得性能优势吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T06:58:33.737

性能优势是存在的，但考虑的非常小。但是，如果您的数据是固定长度的，您应该使用 CHAR/NCHAR，因为不建议为某些固定数据浪费存储空间。

此外，如果您错误地尝试为 IPV4 地址输入更大的值，您将无法这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:32:41.753

不会有任何性能提升，但可以节省空间。就是这样

# algorithm - 树中的大 O(h) 与大 O(logn)

> ID：12258114
> 
> 赞同：8
> 
> 时间：2012-09-04T06:47:49.910
> 
> 标签：algorithm, data-structures, time-complexity

我对树木操作中的时间复杂度有疑问。
据说（Data Structures，Horowitz 等人）在 BST 中插入、删除、搜索、查找 mins-max、后继和前驱节点的时间复杂度`O(h)`是`O(logn)`.
我不完全明白有什么区别。考虑`h=[logn]+1`到这一点，那么为什么我们要说`O(h)`和其他地方`O(logn)`呢？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-04T06:49:30.767

`h`是树的高度。它总是`Omega(logn)`[不是渐近地小于`logn`]。它可以非常接近于`logn`完整的树（然后你真的得到`h=logn+1`，但是在腐烂成链的树中（每个节点只有一个子节点）它是`O(n)`。

对于平衡树，`h=O(logn)`（事实上它是`Theta(logn)`），所以任何`O(h)`算法实际上都是`O(logn)`。

自平衡搜索树（AVL 就是其中之一）的想法是防止树衰减到链（或靠近它的某个地方）的情况，并且它的（平衡树）特性确保了我们的`O(logn)`高度。

**编辑：**
为了更好地理解这个问题，请考虑接下来的两棵树（请原谅我是糟糕的 ascii 艺术家）：

```
 tree 1                                tree 2
            7
           /
          6
         /
        5                                         4
       /                                      /       \
      4                                      2         6
     /                                    /    \     /   \
    3                                    1      3   5     7
   /
  2
 /
1 
```

两者都是有效的二叉搜索树，并且在两者中搜索元素（比如`1`）都是`O(h)`. 但在第一个中，`O(h)`实际上是`O(n)`，而在第二个中，它是`O(logn)`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T06:53:13.613

`O(h)`意味着复杂度线性依赖于树的高度。如果树是平衡的，则此渐近变为`O(logn)`（n - 元素数）。但并非所有树都如此。想象一下非常不平衡的二叉树，其中每个节点只有左子节点，这棵树变得类似于列表，并且该树中的元素数量等于树的高度。所描述操作的复杂性将`O(n)`代替`O(logn)`

# eclipse - 在 Eclipse 项目资源管理器中拖放文件时，DragSourceListener 从未调用过

> ID：12258116
> 
> 赞同：4
> 
> 时间：2012-09-04T06:47:59.660
> 
> 标签：eclipse, drag-and-drop, eclipse-pde

我正在开发 eclipse 插件，它允许将 java bean 拖到 jsp 文件上，然后在 drop 事件中调用一些代码生成器。

我正在尝试使用扩展点“org.eclipse.ui.dropActions”，但拖放侦听器永远不会被调用。有没有办法将拖放侦听器附加到 IFile 对象。

我在 DropActionDelegate 的正确轨道上吗？

代码：

拖动监听器

```
class DragListener implements DragSourceListener {

  @Override
  public void dragFinished(DragSourceEvent event) {     
    System.out.println("Finish");
  }

  @Override
  public void dragSetData(DragSourceEvent event) {  
    PluginTransferData p;

    p = new PluginTransferData  (
      "dream_action", // must be id of registered drop action
      "some_data".getBytes() // may be of arbitrary type
    );
    event.data = p;
  }

  @Override
  public void dragStart(DragSourceEvent event) {
    // TODO Auto-generated method stub
    System.out.println("Start");    
  }
} 
```

DropActionDelegate

```
class DropActionDelegate implements IDropActionDelegate {   
  @Override
  public boolean run(Object source, Object target) {
    String Data= (String) target; 
    return true; 
  }
} 
```

插件.xml

```
<extension point="org.eclipse.ui.dropActions"> 
  <action 
    id="dream_action" 
    class="newdreamfileplugin.wizards.DropActionDelegate"> 
  </action> 
</extension> 
```

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-14T07:53:22.340

解决了。​​最后我使用 org.eclipse.ui.navigator.navigatorContent 扩展创建了我自己的导航器，它有一个属性 dropAssistant。

# xml - XML 文件中的日期格式

> ID：12258119
> 
> 赞同：0
> 
> 时间：2012-09-04T06:48:06.557
> 
> 标签：xml, date, simpledateformat, date-formatting

我需要知道如何在 XML 文件中写入格式化的日期值，如下面定义的：

```
 <dateNum>2006-06-01</dateNum> 
```

但我得到如下：

```
<dateNum>2006-06-01T00:00:00+05:30</dateNum> 
```

我在代码中执行了以下操作：

```
 operation.setDateNum(new SimpleDateFormat("dd/MM/yyyy").parse("01/06/2006")); 
```

在 .xsd 文件中：

```
 <xs:element name="dateNum" type="xs:date"/> 
```

知道如何实现这一目标吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T06:49:50.953

```
String xsdDate = operation.setDateNum(new SimpleDateFormat("yyyy-MM-dd").format(new Date()).split("T")[0]; 
```

但是，在这种情况下，您必须在将其发送到 XSD 之前将其存储为字符串。

以下是更推荐的处理方式。

对于数据类型 Date 的 XSD 句柄，请查看[http://www.w3schools.com/Schema/schema_dtypes_date.asp](http://www.w3schools.com/Schema/schema_dtypes_date.asp)

另请访问[http://weblogs.java.net/blog/kohsuke/archive/2006/03/how_do_i_map_xs.html](http://weblogs.java.net/blog/kohsuke/archive/2006/03/how_do_i_map_xs.html)

# oracle - 在 oracle 中使用更新

> ID：12258122
> 
> 赞同：0
> 
> 时间：2012-09-04T06:48:20.520
> 
> 标签：oracle, sql-update

我有一个名为`date_col`数据类型日期的列。这个查询有什么问题？

```
update test set date_col = to_date(sysdate,'DD-Mon-YYYY HH24:MI:SS') 
```

只有日期 mon 和 yy 可见。不是时间。

我怎样才能让它工作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T06:49:57.477

SYSDATE 仍然是一个日期。您不需要将 SYSDATE 转换为日期类型，因为它是 date_

```
update test 
set date_col = sysdate 
```

要查看时间分数，请使用[to_char](http://docs.oracle.com/cd/B19306_01/server.102/b14200/functions180.htm#i1009324)：

```
select to_char(date_col, 'HH24 MI')
from test; 
```

# css - Bootstrap - Div 显示在导航栏下方，而不是导航栏的右侧

> ID：12258134
> 
> 赞同：1
> 
> 时间：2012-09-04T06:49:09.950
> 
> 标签：css, twitter-bootstrap

我尝试设置一个始终位于屏幕最左侧的导航栏，以及一个始终位于导航栏右侧的主容器。目前它始终位于导航栏下方。主容器（以仪表板为标题）应始终位于导航栏的右侧，即使屏幕太小。在主容器中，当前只显示了一张表。这张桌子的宽度应该是流动的。

这是我的 jsfiddle 资源：

[来源](http://jsfiddle.net/yhPdA/)

[结果](http://jsfiddle.net/yhPdA/embedded/result/)

如果我可以在主体不再收缩时设置宽度，那就太好了，比如主容器的最小宽度。

将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T09:04:36.097

侧边栏必须在容器内才能与“仪表板”并排。

```
<div class="container-fluid">
    <div class="row-fluid">
        <div class="span4">
            <!--Sidebar content-->
        </div>
        <div class="span8">
            <!--Dashboard content-->
        </div>
    </div>
</div> 
```

为防止在某些屏幕尺寸下调整大小，只需[在此处](http://twitter.github.com/bootstrap/customize.html)获取自定义 Bootstrap ，取消选中您不想支持的尺寸。

# php - 我想使用 openpaths 收集的我的位置数据。有没有使用 openpaths api 的示例程序？

> ID：12258135
> 
> 赞同：2
> 
> 时间：2012-09-04T06:49:12.953
> 
> 标签：php, api, location

我想使用 PHP 编写自己的 Web 应用程序来访问使用 openpaths 收集的位置数据。Openpaths 提供 API 来访问位置数据，但我是网络编程的菜鸟。我无法启动我的应用程序来访问位置数据。是否有使用[**openpaths**](https://openpaths.cc/) API 的示例程序？

# xml - 亚马逊产品广告 API：如何获取 ItemLookup/Search 的 JSON 响应

> ID：12258139
> 
> 赞同：37
> 
> 时间：2012-09-04T06:49:18.740
> 
> 标签：xml, xslt, jsonp, amazon

我正在尝试从其 ASIN 中获取亚马逊产品的详细信息。产品 API 允许使用 进行 Itemlookup `ASIN`，但返回值在`XML`.

我想从客户端对 Itemlookup 进行此调用，因此想进行`JSONP`调用，但找不到。

我在网上找到了一些`JSON`使用 XSLT 样式表将 XML 转换为格式的文章：

(a) [https://bitbucket.org/basti/python-amazon-product-api/src/tip/examples/json-results.py](https://bitbucket.org/basti/python-amazon-product-api/src/tip/examples/json-results.py)

我尝试使用这个`python-amazon-product-api`和这个例子，但我无法得到`JSON`回报。

(b) [http://www.kokogiak.com/gedankengang/2006/05/sumption-amazons-web-api-directly.html](http://www.kokogiak.com/gedankengang/2006/05/consuming-amazons-web-api-directly.html)

我试图发送的请求是：

```
http://xml-us.amznxslt.com/onca/xml?AWSAccessKeyId=[ACCESS KEY]&AssociateTag=[ASSOCIATE TAG]&ContentType=text%2Fjavascript&IdType=ASIN&ItemId=B008IEGS9W&Operation=ItemLookup&ResponseGroup=Images%2CItemAttributes&Service=AWSECommerceService&Style=http%3A%2F%2Fforums.delphiforums.com%2Fdelphidocsz%2Famazon%2Fjson.xsl&Timestamp=2012-09-04T06%3A40%3A11Z&Signature=AGOqXvVSeMp3YyVkT4mGNXVx0cFGG%2Bh%2FdAebevbbF9o%3D 
```

请帮助获取带有 .json 格式的 JSON 格式`Amazon product API`。欢迎任何建议。

* * *

OP 可以运行此样式表（未使用输入文档）来确定他的 XSLT 版本。

```
<xsl:stylesheet version="1.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:msxsl="urn:schemas-microsoft-com:xslt"
  exclude-result-prefixes="xsl msxsl">
<xsl:output method="html" indent="yes"/>

<xsl:template match="/">
  <html>
    <head><title>About your XSLT Processor</title></head> 
   <body>
     <ul>
       <li>xsl:version=<xsl:value-of select="system-property('xsl:version')" /></li>
       <li>xsl:vendor=<xsl:value-of select="system-property('xsl:vendor')" /></li>
       <li>xsl:vendor-url=<xsl:value-of select="system-property('xsl:vendor-url')" /></li>
       <li>xsl:product-name=<xsl:value-of select="system-property('xsl:product-name')" /></li>
       <li>xsl:product-version=<xsl:value-of select="system-property('xsl:product-version')" /></li>
       <li>xsl:is-schema-aware=<xsl:value-of select="system-property('xsl:is-schema-aware')" /></li>
       <li>xsl:supports-serialization=<xsl:value-of select="system-property('xsl:supports-serialization')" /></li>
       <li>xsl:supports-backwards-compatibility=<xsl:value-of select="system-property('xsl:supports-backwards-compatibility')" /></li>
       <li>msxsl:version=<xsl:value-of select="system-property('msxsl:version')" /></li>
     </ul>  
   </body>  
 </html>  
</xsl:template>

</xsl:stylesheet> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-04T17:12:53.403

Try either of these ::

1.  [Amazon JSON API](https://github.com/christianhellsten/amazon-json-api) - This is a ruby webservice to pass through requests and translate the responses to JSON.
2.  Try any of these Javascript functions to convert the XML you already have into JSON :
    1.  [http://goessner.net/download/prj/jsonxml/](http://goessner.net/download/prj/jsonxml/)
    2.  [http://davidwalsh.name/convert-xml-json](http://davidwalsh.name/convert-xml-json)
    3.  [http://www.fyneworks.com/jquery/xml-to-json/](http://www.fyneworks.com/jquery/xml-to-json/)
    4.  [http://www.thomasfrank.se/xml_to_json.html](http://www.thomasfrank.se/xml_to_json.html)

I've tried thomasfrank myself. Its easy and works well :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-28T07:03:34.667

（披露）我是 Max，我是 Zinc (zinc.io) 的联合创始人。我们的 API 为定价和产品详细信息页面生成 JSON 响应。以下是对 ASIN 详细信息的典型回复：[https](https://www.dropbox.com/s/peccdc1m2j34e0d/B018QPI98A.json?dl=0) ://www.dropbox.com/s/peccdc1m2j34e0d/B018QPI98A.json?dl=0 。如果您有兴趣，请参阅此处：docs.zincapi.com

# android - javax.xml.stream.XMLStreamReader 类型无法解析

> ID：12258145
> 
> 赞同：2
> 
> 时间：2012-09-04T06:49:44.340
> 
> 标签：android

无法解析 javax.xml.stream.XMLStreamReader 类型。它是从所需的 .class 文件中间接引用的。我在一行中收到此错误。我缺少哪个 jar？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T06:54:09.220

`javax.xml.stream.XMLStreamReader`适用于 Java SE 6 及更高版本：不适用于 Android 平台。您必须使用依赖于该类的库，但它不是平台的标准部分。[https://www.findjar.com/class/javax/xml/stream/XMLStreamReader.html](https://www.findjar.com/class/javax/xml/stream/XMLStreamReader.html)有一个可能包含它的 jar 文件列表，但不能保证您能够成功合并它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-01-05T22:37:17.563

在尝试让 Apache POI 在 Android 上运行时，我遇到了完全相同的话题。Apache Poi 也在使用 XmlStreamReader。docx4java 链接上描述的信息是一个有价值的痛点集合，但最终重新编译完整库可能是一项复杂的任务。

对于 Apache POI，我发现 POI-Android 库已经完成了这项工作并使 POI 与 android 兼容（不幸的是旧的 POI 3.17，但在我的情况下工作正常）。

POI-Android：[https ://github.com/SUPERCILEX/poi-android](https://github.com/SUPERCILEX/poi-android)

*重要：*要让 POI-Android 运行，设置 Fasterxml Impls 很重要，如下所述：[https ://github.com/ozlerhakan/poiji/issues/31](https://github.com/ozlerhakan/poiji/issues/31)

# java - AspectJ 表达式在切入点错误中给出正式的未绑定

> ID：12258150
> 
> 赞同：25
> 
> 时间：2012-09-04T06:50:15.363
> 
> 标签：java, spring, spring-aop, pointcut

我在**aspectJ**中有这样的表达：

```
@Pointcut("within(com.param.cpms.dao.impl.ProjectMetaDaoImpl)")
public void daoExceptionHandle() {

} 
```

在*Spring 3.0*启动时，我收到以下错误**：**

```
nested exception is java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut 
```

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-09-04T08:44:24.540

可能问题不在于您的切入点，而在于使用该切入点和使用切入点中不存在的参数的建议。只需从建议中删除参数（好吧，或者将其添加到切入点）。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2018-05-03T19:57:10.347

它是 Joinpoint ("p 小写)

```
org.aopalliance.intercept.Joinpoint; 
```

更改为 JointPoint("P 大写)

```
org.aspectj.lang.JoinPoint; 
```

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2016-05-11T14:09:42.900

该帖子相当陈旧，但为了完整起见，如果您使用@Around 建议，我会添加另一个原因。

根据[Spring AspectJ 文档](http://docs.spring.io/spring/docs/2.5.x/reference/aop.html#aop-ataspectj-around-advice)，建议的第一个参数必须是 ProceedingJoinPoint。如果它丢失，您将收到此异常消息。可悲的是，该异常并不指向错误的建议，因此解决该错误是一个偶然的机会。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2017-03-31T11:32:03.333

由于类的错误导入，我得到了这个错误。我应该导入 import org.aspectj.lang.JoinPoint class ，而是从不同的包中导入了一些其他的 Joinpoint 类。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-01-28T11:47:38.033

我遇到了同样的错误，在我的场景中我使用**了两个方法参数**

```
public void methodName(JoinPoint joinPoint ,HttpServletRequest request) throws 
```

我的注释就像

```
@Before("execution(public * com.java.controller.*Controller.*(..))") 
```

**作为解决方案，我添加了**

> 参数（请求，..）

```
@Before("execution(public * com.java.controller.*Controller.*(..)) && args(request,..)") 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2018-10-21T09:24:56.457

有时原因可能是这个。

```
 public void afterReturning(JoinPoint joinPoint, Object result) 
```

`Object result`只需按如下方式删除，它就对我有用。

```
public void afterReturning(JoinPoint joinPoint) 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2018-01-04T14:58:04.763

我也有这个问题，在我的情况下，这是一个错误的导入：`org.aopalliance.intercept.Joinpoint;`

它需要是：`org.aspectj.lang.JoinPoint;`

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2018-11-05T06:30:55.297

切入点异常中的正式未绑定也发生在 AOP 中的两个响应中。

**原因一：如果****在返回通知后**没有返回语句

 **对于基于 XML 的实现

```
<aop:aspect id="myaspect" ref="trackAspect">
<aop:pointcut id="pointCutAfterReturning" expression="execution(* com.springlearn.Operation.*(..))" />
<aop:after-returning method="myAdvice"  returning="result" pointcut-ref="pointCutAfterReturning"/>  //Make sure returning result is added
</aop:aspect> 
```

对于基于注释的实现

```
@AfterReturning(  
              pointcut = "execution(* Operation.*(..))",  
              returning= "result") //Make sure returning result is added 
```

**原因2：**如果没有投掷**后投掷建议**

对于基于 XML 的实现

```
<aop:aspect id="myaspect" ref="trackAspect" >  
     <!-- @AfterThrowing -->  
     <aop:pointcut id="pointCutAfterThrowing"    expression="execution(* com.javatpoint.Operation.*(..))" />  
     <aop:after-throwing method="myadvice" throwing="error" pointcut-ref="pointCutAfterThrowing" />  //Make sure throwing error is added
  </aop:aspect> 
```

对于基于注释的实现

```
@AfterThrowing(  
              pointcut = "execution(* Operation.*(..))",  
              throwing= "error")  //Make sure throwing error is added 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2018-04-03T10:37:04.370

如果您使用的是基于 XML 的配置并且您的配置是这样的：

```
<aop:config>
<aop:aspect ref="bAdvice">
    <aop:pointcut id="displayPointcut" expression="execution(* com.example.demo.BusinessClass.display())"/>
    <aop:before method="before" pointcut-ref="displayPointcut" />
</aop:aspect>
</aop:config> 
```

然后在 2 种情况下，您会收到错误消息：

1.  如果在切入点表达式中，在我们的例子中，方法即 display() 没有定义任何参数，而在实际的类方法中有一些参数。
2.  如果在之前的通知中，即aop:before，method="before" 没有定义arg-names 并且在实际的通知类中，方法"before" 有一些参数。

最终当 XML 中定义的方法参数与实际方法不匹配时，就会出现这个错误。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2018-04-08T04:55:54.680

**这不是您的回答，但可能会对您有所帮助。**

[Spring AOP 教程](http://www.baeldung.com/spring-aop-pointcut-tutorial)你可以参考这个教程

```
@Before("execution(* com.de.controller..*(..))")
public void beforeLoggerAdvice(JoinPoint joinPoint, WebRequest request) {
    DeUtil.looger.info("--working");
} 
```

我得到了相同的异常，但是由于**WebRequest**，我删除了它并使用了替代方法

```
HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest(); 
```**

# php - 即使在正确的 CFLAGS 之后，也无法在 64 位 linux 机器（AWS EC2 实例）上创建 32 位 php 扩展

> ID：12258154
> 
> 赞同：1
> 
> 时间：2012-09-04T06:50:21.657
> 
> 标签：php, linux, mongodb, xampp, php-extension

我有一个 64 位 linux EC2 实例，它带有预安装的 php。

但是我需要 xammp，所以我安装了 32 位 XAMPP。一切正常。

我安装了 mongodb，它也可以正常工作。

现在我需要安装一个 pecl php 扩展的 mongo 以便我的 webapp 可以正常运行。

为此，我发现需要 32 位 mongo.sa，因为我在 XAMPP 中的 php 是 32 位，因此我关注了这篇文章：[在 Ubuntu (Linux) 上使用 Lamp 安装 Mongodb](https://stackoverflow.com/questions/9392054/installing-mongodb-with-lamp-on-ubuntu-linux)

问题是，即使在设置 CFALGS="-m32" 之后生成的 mongo.so 仍然是 64 位 :(。

我哪里错了？

这就是我为安装 mongo 扩展所做的事情

```
/opt/lampp/bin/pecl download mongo
tar xvzf mongo-1.2.12.tgz
cd mongodb-1.2.12
CFLAGS="-m32"
sudo /opt/lampp/bin/phpize 
./configure
make
cd modules
ls ( gives mongo.so)
file mongo.so ( still shows its ELF64 bit extension)

mongo.so: ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked, not stripped 
```

：（。 请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T15:11:00.567

而不是简单的`make`步骤，尝试`make CFLAGS="-m32"`.

```
linux-1:/tmp/mongo-1.2.12$ file modules/mongo.so
modules/mongo.so: ELF 32-bit LSB shared object, Intel 80386, version 1 (SYSV), dynamically linked, BuildID[sha1]=0x37bbd16cd2928f1b8e86be001d6604046945d9f1, not stripped 
```

# java - 在 Java 中高效读取大量小文件

> ID：12258156
> 
> 赞同：2
> 
> 时间：2012-09-04T06:50:25.487
> 
> 标签：java, file, io

> **可能重复：**
> [将大量小文件读入内存的最快方法是什么？](https://stackoverflow.com/questions/625420/what-is-the-fastest-way-to-read-a-large-number-of-small-files-into-memory)

我有大量的小文本文件（大小为 29 个字节），但其中有 1000 多个。

我正在尝试使用 BufferedReader 读取，但考虑到所有文件都存储在本地，它似乎很慢。我们已经尝试使用非常少量的这些文件（等 12 个）并且读取几乎是瞬时的。

是否有更有效的读取方式或缓冲区某处存在瓶颈？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:01:44.363

瓶颈最有可能出现在打开文件中，您对此无能为力。

（评论中链接的 Q&A 建议使用内存映射文件。但这直接与 Javadoc 相矛盾，[Javadoc](http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html#map%28java.nio.channels.FileChannel.MapMode,%20long,%20long%29)指出设置映射的开销很大，而且您只会从*大*文件中获得回报。还有一个一点数学表明，他的基准测试使用平均大小为 5642 字节的文件……与 29 字节的文件大小相比，这是巨大的。）

获得牵引力的唯一方法是使用可以有效读取/加载的轻量级格式将小文件组合成一个大文件。除非您避免压缩，否则 ZIP 不是最好的主意。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T07:02:35.713

打开和关闭文件非常慢，尤其是如果您有 HDD。典型的 HDD 的寻道时间为 8 毫秒或大约每秒 125 次。由于文件很小，因此阅读内容并不重要。

我同意内存映射文件只有在你有

*   一个快速磁盘子系统，您的瓶颈不是您的驱动器。
*   文件很大（GB 到 TB）

顺便说一句：如果您使用 SSD，它们可以执行大约 80K 到 230K IOPS，这要快得多。

唯一的其他解决方案是合并文件。读取 64 KB 文件与读取 29 字节文件所需时间大致相同，但可以存储数千倍的数据（并且需要的文件少数千倍）

# javascript - javascript中的Websockets，页面刷新或导航到其他页面时连接终止

> ID：12258159
> 
> 赞同：1
> 
> 时间：2012-09-04T06:50:38.793
> 
> 标签：javascript, sockets, web

我编写了一个使用 javascript 实现的 servlet 和 websockets 聊天的程序。问题是当页面刷新或用户导航到其他页面时，websocket 连接被终止（并且在下一页加载时它重新连接）。

我可以在每个页面中包含包含 webscokets 连接的外部 js 文件，它是正确的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T10:01:03.953

您可以使用 IFrame 或 ajax 请求来允许“导航”而无需重新加载页面。

如果网站很大或很复杂，可能很难修改，但如果你只有几页，那就没问题了。

看到这个类似的问题：[如何在页面之间维护 WebSockets 连接？](https://stackoverflow.com/questions/10886910/how-to-maintain-a-websockets-connection-between-pages/10887115#10887115)

# parsing - 部署 Tomcat6 JSF 应用程序时出现解析错误 - digester.Digester

> ID：12258160
> 
> 赞同：0
> 
> 时间：2012-09-04T06:50:39.910
> 
> 标签：parsing, jsf, tomcat, myfaces, apache-commons-digester

当我尝试使用我的应用程序启动 Tomcat6 时（我试图从 Tomcat7 移植到 Tomcat6），我遇到了一个奇怪的解析问题。Digester 本身在遇到意外的文件结尾之前不会声明错误 - 这种解析本身一定是错误的。

有没有人有任何想法？

我的 web.xml 在下面，后面是控制台的一部分。

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.5" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">

<description>ilearn web.xml</description>
    <display-name>iLearn</display-name>
    <welcome-file-list>
        <welcome-file>home.jsf</welcome-file>
    </welcome-file-list>
        <servlet>
        <servlet-name>Faces Servlet</servlet-name>
        <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>Faces Servlet</servlet-name>
        <url-pattern>*.jsf</url-pattern>
    </servlet-mapping>
    <context-param>
    <param-name>                        javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL </param-name>
    <param-value>true</param-value>
    </context-param>
    <filter>
        <filter-name>Extensions Filter</filter-name>
        <filter-class>org.apache.myfaces.webapp.filter.ExtensionsFilter</filter-class>
        <init-param>
            <param-name>uploadMaxFileSize</param-name>
            <param-value>100m</param-value>
        </init-param>
        <init-param>
            <param-name>uploadThresholdSize</param-name>
            <param-value>100k</param-value>
        </init-param>
        <init-param>
            <param-name>uploadRepositoryPath</param-name>
            <param-value>/iLearnData/temp/</param-value>
        </init-param>
    </filter>
</web-app> 
```

这是faces-config.xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<faces-config
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
    version="2.0">
    <!-- Config here -->
</faces-config> 
```

这是 beans.xml

```
<?xml version="1.0" encoding="UTF-8"?> 
```

这是控制台日志的一部分

```
[methodName=setComponentFamily, paramCount=0, paramTypes={java.lang.String}]
2012-09-04 02:20:42,503 DEBUG [main] digester.Digester (CallMethodRule.java:615)     - [CallMethodRule]{faces-config/render-kit/renderer/component-family} Call org.apache.myfaces.config.impl.digester.elements.Renderer.setComponentFamily(javax.faces.SelectMany/java.lang.String)
2012-09-04 02:20:42,503 DEBUG [main] Digester.sax      (Digester.java:1094)     - characters(
        )
2012-09-04 02:20:42,503 DEBUG [main] Digester.sax      (Digester.java:1410)     - startElement(http://java.sun.com/xml/ns/javaee,renderer-type,renderer-type)
2012-09-04 02:20:42,503 DEBUG [main] digester.Digester (Digester.java:1417)     -   Pushing body text '

        '
2012-09-04 02:20:42,503 DEBUG [main] digester.Digester (Digester.java:1436)     -   New match='faces-config/render-kit/renderer/renderer-type'
2012-09-04 02:20:42,503 DEBUG [main] digester.Digester (Digester.java:1451)     -   Fire begin() for CallMethodRule[methodName=setRendererType, paramCount=0, paramTypes={java.lang.String}]
2012-09-04 02:20:42,503 DEBUG [main] Digester.sax      (Digester.java:1094)     - characters(javax.faces.Checkbox)
2012-09-04 02:20:42,503 DEBUG [main] Digester.sax      (Digester.java:1164)     - endElement(http://java.sun.com/xml/ns/javaee,renderer-type,renderer-type)
2012-09-04 02:20:42,503 DEBUG [main] digester.Digester (Digester.java:1167)     -   match='faces-config/render-kit/renderer/renderer-type'
2012-09-04 02:20:42,504 DEBUG [main] digester.Digester (Digester.java:1168)     -   bodyText='javax.faces.Checkbox'
2012-09-04 02:20:42,504 DEBUG [main] digester.Digester (Digester.java:1190)     -   Fire body() for CallMethodRule[methodName=setRendererType, paramCount=0, paramTypes={java.lang.String}]
2012-09-04 02:20:42,504 DEBUG [main] digester.Digester (Digester.java:1210)     -   Popping body text '
  '
2012-09-04 02:20:42,567 DEBUG [main] digester.Digester (Digester.java:1190)     -   Fire body() for ObjectCreateRule[className=org.apache.myfaces.config.impl.digester.elements.FacesConfig, attributeName=null]
2012-09-04 02:20:42,567 DEBUG [main] digester.Digester (Digester.java:1190)     -   Fire body() for SetPropertiesRule[]
2012-09-04 02:20:42,568 DEBUG [main] digester.Digester (Digester.java:1190)     -   Fire body() for SetPropertiesRule[]
2012-09-04 02:20:42,568 DEBUG [main] digester.Digester (Digester.java:1210)     -   Popping body text ''
2012-09-04 02:20:42,568 DEBUG [main] digester.Digester (Digester.java:1220)     -   Fire end() for SetPropertiesRule[]
2012-09-04 02:20:42,568 DEBUG [main] digester.Digester (Digester.java:1220)     -   Fire end() for SetPropertiesRule[]
2012-09-04 02:20:42,568 DEBUG [main] digester.Digester (Digester.java:1220)     -   Fire end() for ObjectCreateRule[className=org.apache.myfaces.config.impl.digester.elements.FacesConfig, attributeName=null]
2012-09-04 02:20:42,568 DEBUG [main] digester.Digester (ObjectCreateRule.java:219)     - [ObjectCreateRule]{faces-config} Pop org.apache.myfaces.config.impl.digester.elements.FacesConfig
2012-09-04 02:20:42,568 DEBUG [main] Digester.sax      (Digester.java:1254)     - endPrefixMapping()
2012-09-04 02:20:42,568 DEBUG [main] Digester.sax      (Digester.java:1254)     - endPrefixMapping(xsi)
2012-09-04 02:20:42,568 DEBUG [main] Digester.sax      (Digester.java:1114)     - endDocument()
Sep 4, 2012 2:20:42 AM org.apache.myfaces.config.DefaultFacesConfigurationProvider getWebAppFacesConfig
INFO: Reading config /WEB-INF/faces-config.xml
2012-09-04 02:20:42,571 DEBUG [main] Digester.sax      (Digester.java:1341)     - setDocumentLocator(com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser$LocatorProxy@154e4e31)
2012-09-04 02:20:42,572 DEBUG [main] Digester.sax      (Digester.java:1375)     - startDocument()
2012-09-04 02:20:42,574 ERROR [main] digester.Digester (Digester.java:1655)     - Parse Fatal Error at line 3 column 1: Premature end of file.
org.xml.sax.SAXParseException: Premature end of file.
    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:174)
    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:388)
    at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1427)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:1056)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647)
    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808)
    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119)
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)
    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
    at org.apache.commons.digester.Digester.parse(Digester.java:1745)
    at org.apache.myfaces.config.impl.digester.DigesterFacesConfigUnmarshallerImpl.getFacesConfig(DigesterFacesConfigUnmarshallerImpl.java:309)
    at org.apache.myfaces.config.impl.digester.DigesterFacesConfigUnmarshallerImpl.getFacesConfig(DigesterFacesConfigUnmarshallerImpl.java:36)
    at org.apache.myfaces.config.DefaultFacesConfigurationProvider.getWebAppFacesConfig(DefaultFacesConfigurationProvider.java:345)
    at org.apache.myfaces.config.DefaultFacesConfigurationMerger.getFacesConfigData(DefaultFacesConfigurationMerger.java:75)
    at org.apache.myfaces.config.FacesConfigurator.configure(FacesConfigurator.java:416)
    at org.apache.myfaces.webapp.AbstractFacesInitializer.buildConfiguration(AbstractFacesInitializer.java:338)
    at org.apache.myfaces.webapp.Jsp21FacesInitializer.initContainerIntegration(Jsp21FacesInitializer.java:73)
    at org.apache.myfaces.webapp.AbstractFacesInitializer.initFaces(AbstractFacesInitializer.java:140)
    at org.apache.myfaces.webapp.StartupServletContextListener.contextInitialized(StartupServletContextListener.java:119)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4206)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4705)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
    at org.apache.catalina.core.StandardService.start(StandardService.java:525)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)
Sep 4, 2012 2:20:42 AM org.apache.myfaces.webapp.AbstractFacesInitializer initFaces
SEVERE: An error occured while initializing MyFaces: org.xml.sax.SAXParseException: Premature end of file.
javax.faces.FacesException: org.xml.sax.SAXParseException: Premature end of file.
    at org.apache.myfaces.config.DefaultFacesConfigurationProvider.getWebAppFacesConfig(DefaultFacesConfigurationProvider.java:357)
    at org.apache.myfaces.config.DefaultFacesConfigurationMerger.getFacesConfigData(DefaultFacesConfigurationMerger.java:75)
    at org.apache.myfaces.config.FacesConfigurator.configure(FacesConfigurator.java:416)
    at org.apache.myfaces.webapp.AbstractFacesInitializer.buildConfiguration(AbstractFacesInitializer.java:338)
    at org.apache.myfaces.webapp.Jsp21FacesInitializer.initContainerIntegration(Jsp21FacesInitializer.java:73)
    at org.apache.myfaces.webapp.AbstractFacesInitializer.initFaces(AbstractFacesInitializer.java:140)
    at org.apache.myfaces.webapp.StartupServletContextListener.contextInitialized(StartupServletContextListener.java:119)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4206)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4705)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
    at org.apache.catalina.core.StandardService.start(StandardService.java:525)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)
Caused by: org.xml.sax.SAXParseException: Premature end of file.
    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1231)
    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)
    at org.apache.commons.digester.Digester.parse(Digester.java:1745)
    at org.apache.myfaces.config.impl.digester.DigesterFacesConfigUnmarshallerImpl.getFacesConfig(DigesterFacesConfigUnmarshallerImpl.java:309)
    at org.apache.myfaces.config.impl.digester.DigesterFacesConfigUnmarshallerImpl.getFacesConfig(DigesterFacesConfigUnmarshallerImpl.java:36)
    at org.apache.myfaces.config.DefaultFacesConfigurationProvider.getWebAppFacesConfig(DefaultFacesConfigurationProvider.java:345)
    ... 21 more
Sep 4, 2012 2:20:42 AM org.apache.catalina.core.ApplicationContext log
SEVERE: StandardWrapper.Throwable
java.lang.IllegalStateException: No Factories configured for this Application. This happens if the faces-initialization does not work at all - make sure that you properly include all configuration settings necessary for a basic faces application and that all the necessary libs are included. Also check the logging output of your web application and your container for any exceptions!
If you did that and find nothing, the mistake might be due to the fact that you use some special web-containers which do not support registering context-listeners via TLD files and a context listener is not setup in your web.xml.
A typical config looks like this;
<listener>
  <listener-class>org.apache.myfaces.webapp.StartupServletContextListener</listener-class>
</listener>

    at javax.faces.FactoryFinder._getFactory(FactoryFinder.java:286)
    at javax.faces.FactoryFinder.getFactory(FactoryFinder.java:206)
    at javax.faces.webapp.FacesServlet.init(FacesServlet.java:116)
    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1206)
    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1026)
    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4421)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4734)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
    at org.apache.catalina.core.StandardService.start(StandardService.java:525)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)
Sep 4, 2012 2:20:42 AM org.apache.catalina.core.StandardContext loadOnStartup
SEVERE: Servlet /ilearn threw load() exception
java.lang.IllegalStateException: No Factories configured for this Application. This happens if the faces-initialization does not work at all - make sure that you properly include all configuration settings necessary for a basic faces application and that all the necessary libs are included. Also check the logging output of your web application and your container for any exceptions!
If you did that and find nothing, the mistake might be due to the fact that you use some special web-containers which do not support registering context-listeners via TLD files and a context listener is not setup in your web.xml.
A typical config looks like this;
<listener>
  <listener-class>org.apache.myfaces.webapp.StartupServletContextListener</listener-class>
</listener>

    at javax.faces.FactoryFinder._getFactory(FactoryFinder.java:286)
    at javax.faces.FactoryFinder.getFactory(FactoryFinder.java:206)
    at javax.faces.webapp.FacesServlet.init(FacesServlet.java:116)
    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1206)
    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1026)
    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4421)
    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4734)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)
    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1057)
    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)
    at org.apache.catalina.core.StandardService.start(StandardService.java:525)
    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)
    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)
    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)
Sep 4, 2012 2:20:42 AM org.apache.coyote.http11.Http11Protocol start
INFO: Starting Coyote HTTP/1.1 on http-8080
Sep 4, 2012 2:20:42 AM org.apache.jk.common.ChannelSocket init
INFO: JK: ajp13 listening on /0.0.0.0:8009
Sep 4, 2012 2:20:42 AM org.apache.jk.server.JkMain start
INFO: Jk running ID=0 time=0/19  config=null
Sep 4, 2012 2:20:42 AM org.apache.catalina.startup.Catalina start
INFO: Server startup in 7062 ms 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2014-01-19T06:44:16.063

您可以使用 JBoss EL。

指示

下载 Seam 2 的最新版本提取 lib/jboss-el.jar 将其复制到 WEB-INF/lib/jboss-el.jar 在您的 web.xml 集中：

```
 <context-param>
        <param-name>com.sun.faces.expressionFactory</param-name>
        <param-value>org.jboss.el.ExpressionFactoryImpl</param-value>
    </context-param> 
```

# linux - Centos Bootup 发送串行消息

> ID：12258161
> 
> 赞同：0
> 
> 时间：2012-09-04T06:50:42.823
> 
> 标签：linux, operating-system, usb, serial-port, centos

我有一个设置，其中 2 台带有 Linux 的电脑正在尝试与 RS232 串行和以太网通信。其中一台 PC，PC(B)，我正在使用 USB<->RS232 连接器。当 PC(A) 发出重新启动命令时，PC(B) 重新启动，但在再次启动时，它在 PC(A) 处收到来自 PC(B) 的垃圾消息。PC(A) 仍在串行端口上侦听。其中一些垃圾消息恰好是我正在听的，这不好！

有谁知道这些消息是什么？有没有办法删除它们？Centos 是否发送一些初始化消息用于测试目的或什么？Linux 的其他发行版怎么样？

如果有人知道发生了什么，请提前致谢。=)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T16:46:56.153

您不能指望 USB 串行转换器在系统重启后表现良好。有一段时间设备未初始化，可能会在数据线上产生故障。数据线上的任何切换都将在 A 上显示为垃圾 Rx 数据。

如果你想做你想做的事，你必须在 A 上放一些代码来查找已知的启动消息并丢弃任何前置的垃圾字节。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-29T22:45:16.133

我也注意到了垃圾。在尝试了几种波特率后，我使用示波器*检查了信号。事实证明，该消息是有效输出，而不是随机信号的结果。它以 9600 波特、8N1 发送，类似于二进制倒计时。具体发送以下字节（十六进制）：11、10、0F、0E、0D、0C、0B、0A、09、08、07、06、05、04、03、02、01、00

这些字节的发送时间与（视频）控制台上显示登录提示的时间差不多。在启动过程的早期还有另一个非常短的信号序列，一个快速的 20 us 脉冲，然后是一个 10 us 的脉冲。这个序列太短，无法确定它是实际数据还是只是某种切换的副产品。

我没有注意到带有 PCI 串行控制器卡的 Windows 7 桌面上的任何东西，根据其文档，它使用 MCS9865 芯片。

*   该盒子正在运行 Ubuntu 12.10。Linux 内核版本为 3.5.0。串行端口控制器位于 PCI Express 卡上，lspci 将其标识为“NetMos Technology PCIe 9922 Multi-I/O Controller”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-08T14:16:20.153

可能是BIOS。我的一位同事注意到他的笔记本电脑在启动期间以 115200 bps 的速度通过 RS-232 提供了 BIOS 版本号和更多信息。尝试以不同的波特率收听 RS-232；你可能会看到一些有意义的东西。

# iphone - 在objective-c中检测图像的拍摄位置（位置）

> ID：12258166
> 
> 赞同：1
> 
> 时间：2012-09-04T06:50:57.737
> 
> 标签：iphone, objective-c, ios, xcode

我正在做一个项目，该项目将要求用户从相机或照片库中拍摄图像，然后获取拍摄图像的位置。我已经使用 UIImagePickerController 来获取图像，我需要知道检测当前位置（如果图像是从相机拍摄的）或拍摄图像的位置（如果图像是从照片库中选择的）

任何人都可以帮助或指导我获得有用的教程吗？

干杯

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-04T09:15:31.010

```
NSData* jpegData =  UIImageJPEGRepresentation(pImage);

    CGImageSourceRef imageData= CGImageSourceCreateWithData((CFDataRef)jpegData, NULL);
    NSDictionary *metadata = (NSDictionary *) CGImageSourceCopyPropertiesAtIndex(imageData, 0, NULL); 
```

这将提供带有 EXIF 区域的字典。您感兴趣的是 GPS 数据。您使用以下方法提取它们：

```
NSDictionary *exifGPSDictionary = [[[metadata objectForKey:(NSString *)kCGImagePropertyGPSDictionary]mutableCopy]autorelease];
   // you don't have to autorelease when you use ARC 
```

此 exifGPSDictionary 保存您使用键`kCGImagePropertyGPSLatitude`和查找的值`kCGImagePropertyGPSLongitude`。然后你使用`objectForKey`.

# unix - 绑定失败：地址已在使用中，即使回收和重用标志设置为 1

> ID：12258167
> 
> 赞同：0
> 
> 时间：2012-09-04T06:51:01.380
> 
> 标签：unix, networking, curl, tcp

环境：

Unix 客户端和 Unix 服务器。

使用的工具：卷曲。

客户端/服务器在建立连接时应忽略时间等待时间（2 *MSL）。

这是通过执行以下命令来完成的：

sysctl net.ipv4.tcp_tw_reuse=1

sysctl net.ipv4.tcp_tw_recycle=1

必须指定本地端口，以便它可以重复使用。

开始连接。

示例：而 [1]; 做 curl --local-port 9056 192.168.40.2; 睡30；完毕

即使它应该忽略时间等待期，我仍然看到错误。知道为什么会这样吗？

# xml - 使用指定的小数位数格式化双精度值

> ID：12258168
> 
> 赞同：2
> 
> 时间：2012-09-04T06:51:02.783
> 
> 标签：xml, xslt

我需要根据指定的小数位数进行格式化。

例如：值=0.012877 decimalPlaces=3

```
format-number(value,'how to declare here based on specified decimal places') 
```

我知道一般格式： format-number(value,'0.00') 但这里的小数位是固定的，但在我的情况下，它会根据我的小数位而改变，所以请任何人帮助我。

谢谢，@nag

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:03:29.557

以下序列构造函数...

```
<xsl:variable name="decimalPlaces" select="3" />
<xsl:value-of select="format-number(0.012877, substring('0.0000000000000',1,$decimalPlaces+2))"/> 
```

...发射...

```
0.013 
```

...作为一个字符串。

在 value-of 指令中，写入与 $decimalPlaces 的最大范围一样多的零。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T09:54:51.867

在 2.0 中，更直接的方法是

```
round-half-to-even($number, $decimalPlaces) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T13:10:23.580

**这是一个简单的 XSLT 1.0 解决方案，不需要（可能无限）零字符串：**

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output method="text"/>

 <xsl:param name="pNum" select="0.012877"/>
 <xsl:param name="pPrec" select="3"/>

 <xsl:template match="/">
   <xsl:value-of select="substring-before(concat($pNum, '.'), '.')"/>

   <xsl:if test="contains($pNum, '.')">
    <xsl:text>.</xsl:text>
     <xsl:value-of select="substring(substring-after($pNum,'.'), 1, $pPrec)"/>
   </xsl:if>
 </xsl:template>
</xsl:stylesheet> 
```

**当将此转换应用于任何 XML 文档（未使用）时，将产生所需的正确结果**：

```
0.012 
```

# vlc - 我无法通过 Autohotkey 向 VLC 发送一些命令行参数

> ID：12258170
> 
> 赞同：0
> 
> 时间：2012-09-04T06:51:17.870
> 
> 标签：vlc, autohotkey

我不知道如何通过 ahk 上的命令行参数让我的音频提取器脚本工作。我知道命令行参数是正确的，因为我可以通过批处理文件让它工作，但我不断收到下面的错误。我想我可能在语法上做错了什么，但我就是不知道是什么。
我真的很感激任何帮助。谢谢。

> 错误：以下变量名包含非法字符“channels=2,samplerate=44100}:standard{access="file",mux=dummy,dst="%A_LoopF​​ield%.mp3"}

代码：

```
fileselectfile, File_Name, M3
SplitPath, File_Name, name
Loop, parse, name, `n
 if a_index = 2
       {
        msgbox, %A_LoopField%
        Run, "C:\Program Files\VideoLAN\VLC\vlc.exe" "-I dummy -v %File_Name% :sout=#transcode{vcodec=none,acodec=mp3,ab=128,channels=2,samplerate=44100}:standard{access="file",mux=dummy,dst="%A_LoopField%.mp3"}"
 } 
```

如果您对我所说的音频提取功能感到好奇，这里是原始批处理代码

```
@ECHO OFF
REM Loop through files (Recurse subfolders)
REM Syntax
REM      FOR /R [[drive:]path] %%parameter IN (set) DO command
REM
REM Key
REM    drive:path  : The folder tree where the files are located.
REM
REM    set         : A set of one or more files. Wildcards must be used.
REM                  If (set) is a period character (.) then FOR will
REM                  loop through every folder.
REM
REM   command     : The command(s) to carry out, including any
REM                 command-line parameters.
REM
REM    %%parameter : A replaceable parameter:
REM                  in a batch file use %%G (on the command line %G)
FOR /R %%G IN (*.mp3) DO (CALL :SUB_VLC "%%G")
FOR /R %%G IN (*.mp3.mp*) DO (CALL :SUB_RENAME "%%G")
GOTO :eof

:SUB_VLC
 SET _firstbit=%1
 SET _qt="
 CALL SET _newnm=%%_firstbit:%_qt%=%%
 SET _commanm=%_newnm:,=_COMMA_%
 REM echo %_commanm%

 ECHO Transcoding %1
 REM Here's where the actual transcoding/conversion happens. The next line
 REM fires off a command to VLC.exe with the relevant arguments:
 CALL "C:\Program Files\VideoLAN\VLC\vlc" -I dummy -v %1 :sout=#transcode{vcodec=none,acodec=mp3,ab=128,channels=2,samplerate=44100}:standard{access="file",mux=dummy,dst="%_commanm%.mp3"} vlc://quit
 REM Having no SLEEP-esque command, we have to trick DOS/Windows into pausing
 REM for a bit between encode ops - To give the host OS a chance to do what it
 REM needs to - Via clever use of the PING utility:
 REM (Thanks to http://www.computing.net/answers/programming/dos-command-for-wait-5-seconds/11192.html for the tip! :-)
 PING -n 1 -w 10000 1.1.1.1 > NUL
GOTO :eof

:SUB_RENAME
 SET _origfnm=%1
 SET _endbit=%_origfnm:*.mp3=%
 CALL SET _newfilenm=%%_origfnm:.mp3%_endbit%=.mp3%%
 SET _newfilenm=%_newfilenm:_COMMA_=,%
 COPY %1 %_newfilenm%

GOTO :eof

:eof
REM My own little addition to prevent the batch window from "vanishing" without
REM trace at the end of execution, as if a critical error had occurred.
PAUSE 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T01:13:27.507

我找到了答案。我犯了语法错误，我只是没有知识来修复自己。新的 RUN 语句完美运行。

这是新修改的脚本

```
fileselectfile, File_Name, M3
SplitPath, File_Name, name, dir, ext, name_no_ext, drive

    StringReplace, File_Name, File_Name,`n, \

Loop, parse, name, `n
 {if a_index = 2
        msgbox, %A_LoopField%
        Run % "C:\Program Files\VideoLAN\VLC\vlc.exe -I dummy -v """ File_Name """ :sout=#transcode{vcodec=none,acodec=mp3,ab=128,channels=2,samplerate=44100}:standard{access=""file"",mux=dummy,dst=""" A_LoopField ".mp3""} "

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T11:17:39.180

你试过不带`SplitPath, File_Name, name`吗？我摆脱了这样的错误，但我不知道它最终是否会产生你想要的结果。

# android - android上的自我复制技术

> ID：12258172
> 
> 赞同：1
> 
> 时间：2012-09-04T06:51:33.807
> 
> 标签：android

我希望我的应用程序通过蓝牙具有自我复制能力。意味着可以自我发送。它在 j2me 上使用 Matryoshka 技术和 Broken Matryoshka 技术（优化）完成。

如何在安卓上做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T06:57:13.930

你不能。目前还没有办法让 Android 应用程序通过蓝牙传输自身。您可以发送指向 Play 商品详情的 URL，但实际上不能发送 APK。

# jquery - 如何在 jquery 移动网页周围创建边框？

> ID：12258175
> 
> 赞同：0
> 
> 时间：2012-09-04T06:51:45.327
> 
> 标签：jquery, html, css, jquery-mobile

我基本上是在尝试创建与下图类似的移动网页风格，并在页面边缘周围具有相同的边框和边距：

![在此处输入图像描述](../Images/b6463ed43b7e41795e7eaf04558019c6.png)

如果您注意到整个页面如何被页面其余部分的某种边距包围并将其固定到位。我不确定是什么在控制它。

我从 interwebz 上复制了这个，但这就是典型的 jquery 移动页面的外观：

![在此处输入图像描述](../Images/cfc8df4de59fed24e0bb0f1949fd9b10.png)

我试图弄清楚如何添加边距，但我意识到我不知道如何更改 CSS 来控制实际块本身。

在我现在正在处理的 jquery 移动页面中，为了显示“标题”，它在代码中显示为：

```
<div data-role="header"> 
```

然后对于整个“页面”本身，除了数据角色和 div id 是页面之外，它是相同的。有没有人有 jquery mobile 的经验来谈论这样做的正确方法。我会粘贴 CSS，但我什至不了解这个“数据角色”概念及其含义，我习惯于“id”和“class”，我不知道如何控制盒子本身。

谁能指导我正确的方向？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T06:57:21.677

你能在你的脚本中编辑那个 div 吗？关于什么

```
$('div[data-role=header]').addClass('foo'); 
```

然后你可以将任何你喜欢的 CSS 应用到 .foo

# java - 解析特定的文本文件java

> ID：12258176
> 
> 赞同：0
> 
> 时间：2012-09-04T06:51:52.203
> 
> 标签：java, android, regex, pattern-matching

我有一个来自 adb 的 logcat 文件。该文件如下所示，

```
 09-03 17:12:04.562   479   957 I ActivityManager: Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.amazon.mShop.android/com.amazon.mShop.home.HomeActivity } from pid 1230
09-03 17:12:04.687   479  1030 I ActivityManager: Start proc com.amazon.mShop.android for activity com.amazon.mShop.android/com.amazon.mShop.home.HomeActivity: pid=19164 uid=10158 gids={1006, 3003}
09-03 17:12:05.593   479   912 I ActivityManager: Starting: Intent { dat=?paramSuggestionText=cell%20phone flg=0x20000 cmp=com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity (has extras) } from pid 19164
09-03 17:12:05.796   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity: +186ms (total +1s119ms)
09-03 17:12:08.601   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mShop.home.HomeActivity: +3s925ms
09-03 17:12:08.601   479   620 I ActivityManager: Resumed Activity: com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity totalTime: 4037 ms
09-03 17:13:35.742   479   957 I ActivityManager: Starting: Intent { act=intentActionStartActivity flg=0x20000 cmp=com.amazon.mShop.android/com.amazon.mShop.categoryBrowse.CategoryBrowseActivity } from pid 19164
09-03 17:13:36.007   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mShop.categoryBrowse.CategoryBrowseActivity: +222ms
09-03 17:13:53.328   479   957 I ActivityManager: Starting: Intent { dat=?&paramSuggestionFilters=s%3An%3A%2C%3A4991425011%0As%3An%3A%2C%3A4991426011%0As%3An%3A%2C%3A5088769011%0As%3An%3A%2C%3A5263615011&paramDepartmentName=Programs flg=0x20000 cmp=com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity (has extras) } from pid 19164
09-03 17:13:53.484   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity: +145ms
09-03 17:14:54.585   479   484 I ActivityManager: Starting: Intent { cmp=com.amazon.mShop.android/com.amazon.mShop.barcodeSearch.BarcodeFirstTryTipActivity } from pid 19164
09-03 17:14:54.718   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mShop.barcodeSearch.BarcodeFirstTryTipActivity: +102ms
09-03 17:15:30.210   479   957 I ActivityManager: Starting: Intent { flg=0x20000 cmp=com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity (has extras) } from pid 19164
09-03 18:03:02.140   479   967 I ActivityManager: Starting: Intent { act=intentActionStartActivity flg=0x4000000 cmp=com.amazon.mShop.android/com.amazon.mShop.home.HomeActivity } from pid 19164
09-03 18:03:08.054   479  1005 I ActivityManager: Starting: Intent { dat= flg=0x20000 cmp=com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity (has extras) } from pid 19164
09-03 18:03:08.171   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity: +105ms
09-03 18:04:24.937   479   967 I ActivityManager: Starting: Intent { cmp=com.amazon.mShop.android/com.amazon.mShop.barcodeSearch.BarcodeFirstTryTipActivity } from pid 19164
09-03 18:04:25.046   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mShop.barcodeSearch.BarcodeFirstTryTipActivity: +92ms
09-03 18:05:00.554   479  5949 I ActivityManager: Starting: Intent { flg=0x20000 cmp=com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity (has extras) } from pid 19164
09-03 18:06:43.781   479  1019 I ActivityManager: Starting: Intent { act=intentActionStartActivity flg=0x4000000 cmp=com.amazon.mShop.android/com.amazon.mShop.home.HomeActivity } from pid 19164
09-03 18:07:12.984   479  1001 I ActivityManager: Starting: Intent { dat= flg=0x20000 cmp=com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity (has extras) } from pid 19164
09-03 18:07:13.140   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity: +135ms
09-03 18:08:29.890   479  5949 I ActivityManager: Starting: Intent { cmp=com.amazon.mShop.android/com.amazon.mShop.barcodeSearch.BarcodeFirstTryTipActivity } from pid 19164
09-03 18:08:29.976   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mShop.barcodeSearch.BarcodeFirstTryTipActivity: +81ms
09-03 18:09:05.515   479   961 I ActivityManager: Starting: Intent { flg=0x20000 cmp=com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity (has extras) } from pid 19164
09-03 18:18:42.132   479  1039 I ActivityManager: Starting: Intent { act=intentActionStartActivity flg=0x20000 cmp=com.amazon.mShop.android/com.amazon.mShop.categoryBrowse.CategoryBrowseActivity } from pid 19164
09-03 18:18:42.359   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mShop.categoryBrowse.CategoryBrowseActivity: +144ms
09-03 18:19:09.890   479  1030 I ActivityManager: Starting: Intent { act=intentActionStartActivity flg=0x4000000 cmp=com.amazon.mShop.android/com.amazon.mShop.home.HomeActivity } from pid 19164
09-03 18:19:17.406   479   485 I ActivityManager: Starting: Intent { dat= flg=0x20000 cmp=com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity (has extras) } from pid 19164
09-03 18:19:17.515   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity: +97ms
09-03 18:20:58.500   479  5949 I ActivityManager: Starting: Intent { flg=0x20000 cmp=com.amazon.mShop.android/.search.image.SnapItActivity } from pid 19164
09-03 18:20:58.546   479   967 I ActivityManager: Starting: Intent { cmp=com.amazon.mShop.android/.search.image.SnapItPhotoCaptureActivity } from pid 19164
09-03 18:20:58.898   479   620 I ActivityManager: Displayed com.amazon.mShop.android/.search.image.SnapItPhotoCaptureActivity: +340ms (total +387ms)
09-03 18:21:26.156   479  1039 I ActivityManager: Starting: Intent { cmp=com.amazon.mShop.android/com.amazon.mShop.barcodeSearch.BarcodeFirstTryTipActivity } from pid 19164
09-03 18:21:26.359   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mShop.barcodeSearch.BarcodeFirstTryTipActivity: +185ms
09-03 18:21:42.750   479   957 W ActivityManager: Duplicate finish request for HistoryRecord{408f9da0 com.amazon.mShop.android/com.amazon.mShop.barcodeSearch.BarcodeFirstTryTipActivity}
09-03 18:26:05.968   479   963 I ActivityManager: Starting: Intent { act=intentActionStartActivity flg=0x4000000 cmp=com.amazon.mShop.android/com.amazon.mShop.home.HomeActivity } from pid 19164
09-03 18:27:53.515   479   957 I ActivityManager: Starting: Intent { flg=0x10000000 cmp=com.amazon.mShop.android/com.amazon.mobileads.mraid.MraidBrowser (has extras) } from pid 19164
09-03 18:27:54.750   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mobileads.mraid.MraidBrowser: +1s218ms
09-03 18:29:12.726   479   484 I ActivityManager: Starting: Intent { act=intentActionStartActivity flg=0x4000000 cmp=com.amazon.mShop.android/com.amazon.mShop.home.HomeActivity (has extras) } from pid 19164
09-03 18:29:15.609   479  1039 I ActivityManager: Starting: Intent { flg=0x10000000 cmp=com.amazon.mShop.android/com.amazon.mobileads.mraid.MraidBrowser (has extras) } from pid 19164
09-03 18:29:16.882   479   620 I ActivityManager: Displayed com.amazon.mShop.android/com.amazon.mobileads.mraid.MraidBrowser: +1s261ms
09-03 18:32:41.750   479   967 I ActivityManager: Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.amazon.mShop.android/com.amazon.mShop.home.HomeActivity } from pid 1230 
```

现在我想从文件中提取活动名称。它要从与此类似的每一行中提取，

```
09-03 18:29:15.609   479  1039 I ActivityManager: Starting: Intent { flg=0x10000000 cmp=com.amazon.mShop.android/com.amazon.mobileads.mraid.MraidBrowser (has extras) } from pid 19164 
```

或者

```
09-03 17:12:08.601   479   620 I ActivityManager: Resumed Activity: com.amazon.mShop.android/com.amazon.mShop.search.SearchActivity totalTime: 4037 ms 
```

从这一行我只需要字符串*com.amazon.mobileads.mraid.MraidBrowser* 需要删除该行的其他部分。不包含*Starting:Intent*或*ActivityManager: Resumed Activity:*的行应该被删除。

最后我会有一个字符串序列，比如，

```
com.amazon.mobileads.mraid.MraidBrowser

com.amazon.mShop.search.SearchActivity 
```

依此类推，具体取决于他们的行号。

我怎样才能做到这一点？我可以使用字符串标记器，但这是一个乏味且效率低下的过程，我认为正则表达式匹配或类似的东西会更好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T08:15:14.737

你可以试试正则表达式

```
ActivityManager: (?:Starting: Intent.*?cmp=|Resumed Activity:\s*)(\S+) 
```

您想要的子字符串**将存储在组 1**中。

[在 Regexr 上](http://regexr.com?321hu)查看

要在 Java 中使用这个正则表达式，您必须转义所有反斜杠，所以它应该看起来像

```
ActivityManager: (?:Starting: Intent.*?cmp=|Resumed Activity:\\s*)(\\S+) 
```

第一部分匹配来自“ActivityManager”的字符串，直到您要提取的部分，最后一部分`(\\S+)`匹配一系列非空白字符并将其存储在第 1 组中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:26:59.493

我知道我的方法可能一点也不可爱，但它确实有效。将是一种解决方案：

```
String filePath = "res/textfile.txt";
String line;
List<String> myL = new ArrayList<String>();

try {
    BufferedReader read = new BufferedReader(new FileReader(filePath)); 
    while((line = read.readLine()) != null) {
        if(line.contains("Resumed Activity") || line.contains("Starting: Intent")) {
            String str[] = line.split(" ");
            for(String s : str) {
                if(s.contains("com.amazon"))
                    myL.add(s);
            }
        }
    }

    for(String s : myL) {
         System.out.println(s);
    }

} catch (FileNotFoundException e) {
    e.printStackTrace();
} catch (IOException e) {
    e.printStackTrace();
} 
```

**更新：** 我刚刚再次阅读了您的帖子并更新了我的解决方案。我以某种方式错过了应该删除包括“Resumed Activity”或“Starting: Intent”在内的行。

# c# - 自定义按钮 Clear() 黑色背景

> ID：12258184
> 
> 赞同：0
> 
> 时间：2012-09-04T06:52:13.000
> 
> 标签：c#, graphics, background

我正在使用 Graphics 类手动创建一个按钮控件，但是当我尝试为鼠标悬停或鼠标按下事件更改按钮的背景颜色时，背景只是继续在现有背景上绘制。
除非我使用 Graphics.Clear()，在这种情况下，它会创建一个黑色背景，并在其上绘制我想要的背景。

这是我的代码：

```
internal class CloseButton : Control
{
    private Color _backColor = Color.FromArgb(32, 255, 255, 255);

    public CloseButton(Control _parent)
    {
        SetStyle(ControlStyles.SupportsTransparentBackColor, true);
        SetStyle(ControlStyles.Opaque, true);
        SetStyle(ControlStyles.ResizeRedraw, true);
        this.BackColor = Color.Transparent;
        this.Width = 28;
        this.Height = 23;
        this.Location = new Point(_parent.Width - this.Width, 0);

        this.MouseEnter += new EventHandler(CloseButton_MouseEnter);
        this.MouseLeave += new EventHandler(CloseButton_MouseLeave);
        this.MouseDown += new MouseEventHandler(CloseButton_MouseDown);
    }
    protected override CreateParams CreateParams
    {
        get
        {
            const int WS_EX_TRANSPARENT = 0x20;
            CreateParams cp = base.CreateParams;
            cp.ExStyle |= WS_EX_TRANSPARENT;
            return cp;
        }
    }
    protected override void OnPaint(PaintEventArgs __e)
    {
        Graphics _graphics = __e.Graphics;
        Draw(_graphics);
    }
    private void Draw(Graphics __graphics = null)
    {
        Graphics _graphics;
        if (__graphics == null)
        {
            _graphics = this.CreateGraphics();
        }
        else
        {
            _graphics = __graphics;
        }

        _graphics.SmoothingMode = SmoothingMode.AntiAlias;

        #region "Draw background"
        GraphicsPath _backgroundPath = new GraphicsPath();

        //right line
        _backgroundPath.AddLine(
            new Point(this.Width, 0),
            new Point(this.Width, this.Height - 9));
        //bottom right curve
        _backgroundPath.AddBezier(
            new Point(this.Width, this.Height - 8),
            new Point(this.Width, this.Height - 4),
            new Point(this.Width - 4, this.Height),
            new Point(this.Width - 8, this.Height));
        // bottom line
        _backgroundPath.AddLine(
            new Point(this.Width - 8, this.Height),
            new Point(0, this.Height));
        // left line
        _backgroundPath.AddLine(
            new Point(0, this.Height),
            new Point(0, 0));

        Brush _backgroundBrush = new SolidBrush(_backColor);
        _graphics.FillPath(_backgroundBrush, _backgroundPath);
        #endregion
    }
    private void CloseButton_MouseEnter(Object __sender, EventArgs __e)
    {
        _backColor = Color.FromArgb(64, 255, 255, 255);
        Draw();
    }
    private void CloseButton_MouseLeave(Object __sender, EventArgs __e)
    {
        _backColor = Color.FromArgb(32, 255, 255, 255);
        Draw();
    }
    private void CloseButton_MouseDown(Object __sender, EventArgs __e)
    {
        _backColor = Color.FromArgb(32, 0, 0, 0);
        Draw();
    }
} 
```

我能做些什么来解决这个问题？

# android - Android 如何防止用户提取我的应用程序的 APK？

> ID：12258185
> 
> 赞同：1
> 
> 时间：2012-09-04T06:52:17.577
> 
> 标签：android, apk, protection, extraction, fraud-prevention

我知道有一种方法可以阻止用户提取`APK`我们的应用程序，但我不知道该怎么做。

你知道如何？

例如，如果我使用`Astro File Manager`提取`APK`应用程序的 ，对于某些应用程序它可以工作，但对于其他应用程序我不能使用它。如何保护我的应用程序？

请给我看代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:37:01.953

我同意@Meirav 的观点，即没有 100% 的保护，而且很难以高安全性保护您的代码。但是有一种非常快速的方法可以混淆您的代码。这意味着只有您可以看到干净的代码，其他将反编译您的 apk 的人会看到混淆的代码，很难阅读并理解正在做什么

你可以通过添加来做到这一点

```
proguard.config=proguard.cfg 
```

在 /project.properties

如果你想了解更多（[这里](http://developer.android.com/tools/help/proguard.html)）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:27:17.117

没有实际的方法可以这样做。当您将您的应用程序上传到“Play”商店（坏名...）时，Google 会要求您将该应用程序仅在手机上或 SD 上。这是一个非常糟糕的保护。

您需要以没人会理解的方式编写您的应用程序代码。（如果您害怕窃取您的应用程序创意）这是唯一的方法......没有 100% 的保护......这样的方式有很多缺点，例如：升级您的应用程序将是一项艰巨的任务……这不值得！您在保护和安全方面所付出的金钱（时间）所付出的代价将超过窃取您的代码所造成的“损害”......

# java - JApplet 不使用paintComponent(Graphics g) 方法绘制圆

> ID：12258187
> 
> 赞同：0
> 
> 时间：2012-09-04T06:52:31.387
> 
> 标签：java, swing, graphics, paintcomponent, japplet

问题都在标题中:)。我不知道我的代码有什么问题以及为什么它不会将圆圈绘制到 Japplet 上。你能帮我吗？

这是我的代码：

```
import javax.swing.*;
import java.awt.Graphics;
import java.awt.Event;

public class BouncingBall extends JApplet {
    private static final long serialVersionUID = 1L;
    boolean b = true;
    long speed = 50;
    int pos = 250;

    public void init(){
        setSize(500,500);
    }
    public boolean mouseDown(Event e, int x, int y)
    {

        if(y>250)
        {
            speed = speed - 10;
        }
        else
        {
            speed = speed + 10;
        }

        repaint();
        return true;
    }
    public void paintComponents(Graphics g)
    {
        g.drawOval(250,pos,100,100);
        if(speed <= 20)
        {
            speed++;
            repaint();
        }
        try
        {
            Thread.sleep(speed);
        }
        catch(InterruptedException e){e.printStackTrace();}
        if(pos>=400)
        {
            b = false;
        }
        if(pos<=100)
        {
            b = true;
        }
        if(b==true)
        {
            pos = pos +5;
        }
        else
        {
            pos = pos -5;
        }
        repaint();
    }
} 
```

乳液

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T09:35:08.377

在我准备回复时，请仔细阅读

*   [使用 Swing 创建 GUI](http://docs.oracle.com/javase/tutorial/uiswing/index.html)
*   [二维图形](http://docs.oracle.com/javase/tutorial/2d/index.html)
*   [摇摆绘画](http://java.sun.com/products/jfc/tsc/articles/painting/index.html)
*   [编写事件监听器](http://docs.oracle.com/javase/tutorial/uiswing/events/index.html)
*   [事件调度线程](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html)
*   [Swing 中的并发性](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)
*   [线程和摆动](http://java.sun.com/products/jfc/tsc/articles/threads/threads1.html)

好的。关于你做对的唯一一件事，就是从`JApplet`

你的“绘画”方法是一团糟......

```
public void paintComponents(Graphics g) {
   // Where's the super call???  All paint methods have a super
   // if you don't call it, expect really bad things to happen...
   if(speed <= 20)
    {
        speed++;
        // Don't do this
        repaint();
    }
    try
    {
        // NEVER, EVER do this, EVER
        Thread.sleep(speed);
    }
    catch(InterruptedException e){e.printStackTrace();}

    // These choices should be made else where.
    if(pos>=400)
    {
        b = false;
    }
    if(pos<=100)
    {
        b = true;
    }
    if(b==true)
    {
        pos = pos +5;
    }
    else
    {
        pos = pos -5;
    }
    // NEVER DO THIS IN A PAINT METHOD...
    repaint(); 
```

正如已经指出的那样，不要使用`mouseDown`方法，[`MouseListener`](http://docs.oracle.com/javase/7/docs/api/java/awt/event/MouseListener.html)而是使用 a

正如已经指出的那样，不要在顶级容器（`JApplet`或任何类型的窗口或框架）上绘制，而是使用自定义组件。

```
public class BouncingBall extends JApplet {

    private static final long serialVersionUID = 1L;

    public void init() {
        setSize(500, 500);
        setLayout(new BorderLayout());
        add(new BouncyPane());
    }

    protected class BouncyPane extends JPanel {

        private boolean b = true;
        private int speed = 50;
        private int pos = 250;
        private Timer timer;
        private int amount = 10;

        public BouncyPane() {
            addMouseListener(new MouseAdapter() {
                @Override
                public void mouseClicked(MouseEvent e) {

                    if (speed > 250) {
                        amount = -10;
                    } else if (speed <= 0) {
                        amount = 10;
                    }

                    speed += amount;
                    timer.stop();
                    timer.setDelay(speed);
                    timer.restart();

                    repaint();
                }
            });

            timer = new Timer(speed, new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent e) {
                    if (pos >= 400) {
                        b = false;
                    }
                    if (pos <= 100) {
                        b = true;
                    }
                    if (b == true) {
                        pos = pos + 5;
                    } else {
                        pos = pos - 5;
                    }

                    repaint();

                }
            });

            timer.setRepeats(true);
            timer.setCoalesce(true);
            timer.start();
        }

        @Override
        protected void paintComponent(Graphics g) {
            super.paintComponent(g);

            g.drawRect(0, 0, getWidth() - 1, getHeight() - 1);
            g.setColor(Color.RED);
            g.drawOval(250, pos, 100, 100);
        }
    }
} 
```

请努力阅读以上所有链接，它们将突出显示代码中的问题区域

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-04T06:58:14.780

该方法被调用[`paintComponents`](http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html#paintComponents%28java.awt.Graphics%29)而不是`paintComponent`. 是复数。要发现此类错误，我建议您将注释添加`@Override`到您重写的方法中。就在这里

```
@Override
public void paintComponents(Graphics g) 
```

如果没有方法可以覆盖，编译器会给你一个错误。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-04T07:18:36.073

不要在顶级容器上绘画！

相反，添加一个`JPanel`（或`JComponent`）并覆盖`paintComponent(Graphics)`小程序中所做的方法。如果直接在小程序中完成，覆盖的方法将是`paint(Graphics)`.

# wordpress - Wordpress 获取没有内容的子页面的缩略图？

> ID：12258188
> 
> 赞同：0
> 
> 时间：2012-09-04T06:52:32.790
> 
> 标签：wordpress, thumbnails, featured

我试图在 wordpress 中显示子页面，让我们说页面“A”，并且只显示每个子页面的特色图像，而不显示内容或标题..

现在我有这个作为我的代码

```
<div id="primary" class="full-width">
    <div id="content" role="main">
        <?php query_posts(array('post_parent' => 7, 'post_type' => 'page')); while (have_posts()) { the_post(); ?>
            <?php if ( has_post_thumbnail() ) {?>
                <a href="<?php the_permalink(); ?>" title="<?php the_title_attribute(); ?>" >
                    <?php echo the_post_thumbnail(large); ?>
                </a>
            <?php } else { ?>
                <!-- Else Don't show anything -->
            <?php } ?>
         <?php } ?>
...
    </div>
</div> 
```

每次缩略图下方都是子页面的标题和其中的内容。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T09:38:34.567

我会使用[WP_Query](http://codex.wordpress.org/Class_Reference/WP_Query)实例而不是[query_posts](http://codex.wordpress.org/Function_Reference/query_posts)。query_posts 更改了主查询，因此对于这样的帖子的嵌套显示（我猜这就是您正在做的事情，WP_Query 是前进的方向。阅读手册条目以获取更多详细信息。

所以，这样的事情应该可以解决问题。

```
<?php

$args = array('post_parent' => 7, 'post_type' => 'page');
$my_query = new WP_Query($args);
  if($my_query -> have_posts()) :
    while($my_query -> have_posts()) : $my_query->the_post();
      // your stuff goes in this bit.
      if ( has_post_thumbnail() ) : ?>
        <a href="<?php the_permalink(); ?>" title="<?php the_title_attribute(); ?>" >
        <?php echo the_post_thumbnail(large); ?></a>
      <?php endif;
      // end your stuff.
    endwhile;
  else :
    // Do the no posts found message
  endif;

?> 
```

# apache - 如果 tomcat down 使 apache 服务另一个页面

> ID：12258194
> 
> 赞同：0
> 
> 时间：2012-09-04T06:52:54.250
> 
> 标签：apache, tomcat

我有一个链接到 Apache Http Server 的 tomcat 实例。我正在寻找的是，如果我因为部署新版本的 Web 应用程序或其他原因而停止我的 tomcat 服务一段时间，那么我的 apache 会识别出 tomcat 已关闭，然后它会为其他一些静态页面提供服务，说“对不起，我们是停机维护”，有可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T11:35:25.210

当 Apache 无法将请求转发到 Tomcat 实例时，它将以 HTTP 状态代码 500 进行响应。您可以提供自定义的[ErrorDocument](https://httpd.apache.org/docs/2.2/custom-error.html)，其中包含您的维护消息。

# android - 将自定义视图与其父活动通信

> ID：12258195
> 
> 赞同：0
> 
> 时间：2012-09-04T06:52:56.337
> 
> 标签：android, android-custom-view

通过自定义视图从其父活动访问变量的最佳方式是什么？通过从 xml 文件膨胀创建了一个自定义视图。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T06:55:17.300

将 getter 和 setter 添加到自定义视图类定义中，然后在其膨胀后从父 Activity 调用它们。

编辑：一旦视图在 XML 中膨胀，您就无法保证父上下文将是什么。我仍然认为您最好的选择是添加设置器，然后使用您感兴趣的值从父活动中调用它们。

或者，您可以使用[`getContext`](http://developer.android.com/reference/android/view/View.html#getContext%28%29)检索主机上下文，检查它是否是正确的类类型，将其转换为该类型，然后调用其上的方法来检索您的值。

# ios - 如何使用滑动 iphone 应用程序控制 UITableView 编辑？

> ID：12258200
> 
> 赞同：1
> 
> 时间：2012-09-04T06:53:20.853
> 
> 标签：ios, iphone, uitableview, swipe

我正在使用`UITableView`. 我在`UIViewController`子视图 UITableView 中添加了编辑选项。当用户`swipe the screen the Delete button is showing`在这种情况下我已将 barbutton 项目**'Edit' 更改为 'Done'**。在这种情况下，我已经从代表下方跟踪控制，

```
- (UITableViewCellEditingStyle)tableView:(UITableView *)aTableView editingStyleForRowAtIndexPath:(NSIndexPath *)indexPath
-(void) tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath 
```

但是当用户再次滑动视图时，**“删除”**按钮被隐藏，但我无法触发控件。这样我就无法将 barbutton 项目**"Done" 更改为 "Edit"**。你能帮我解决这个问题吗？我可以在哪里触发滑动控件以隐藏“删除”选项？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:09:24.970

这行得通吗？：

```
- (void)tableView:(UITableView *)tableView didEndEditingRowAtIndexPath:(NSIndexPath *)indexPath
{
    // update button title here
} 
```

# c# - ajax参数到c#webservice

> ID：12258202
> 
> 赞同：1
> 
> 时间：2012-09-04T06:53:30.403
> 
> 标签：c#, ajax, parameters

我有一个 webservice 函数 HellowWorld(string str)，我想在 js 中调用它。如何将参数从 js 传递到 HelloWorld？我的代码如下。非常感谢。

//js中的代码

```
function BindJson() {

    $.ajax({
        type: 'GET',
        url: 'Service1.asmx?op=HelloWorld',

        data: {str: 'asdasdas'},

        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function (data1) {
            alert('suc    ' + data1.d);
        },
        error: function (request, status, errorThrown) {
            alert('err    ' + status + errorThrown);
        }
    });
}

$(document).ready(function() {
    BindJson();    
}); 
```

//c#webservice中的代码

```
[WebMethod]
        public void HelloWorld(string str)
        {
            StreamWriter _testData = new StreamWriter(Server.MapPath("~/data.txt"), true);
            _testData.WriteLine(str); // Write the file.
            _testData.Flush();
            _testData.Close(); // Close the instance of StreamWriter.
            _testData.Dispose(); // Dispose from memory.       
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:08:56.577

?op= 是通过浏览器测试 web 服务的操作参数，您可以使用 'Service1.asmx/HelloWorld' 而不是 Service1.asmx/?op= HelloWorld

# zend-framework - ajax进度条zend框架

> ID：12258203
> 
> 赞同：1
> 
> 时间：2012-09-04T06:53:48.353
> 
> 标签：zend-framework, progress-bar, action

我使用 zend farmework。我有 2 个 ajax。我的 ajax 处理一个文件到 db 并花费几分钟。另一个获得第一个操作的状态并获得第一个 ajax 的百分比。我对此拖 ajax 有拖车操作。第一个在 zend 中调用“模型类”。我的“模型类”具有保持状态的属性。此属性从 0 到 100 开始。我想在我的第二个中获得该属性行动。例如，我每 10 秒调用一次此操作并获取状态。我怎样才能做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-16T20:20:19.523

假设您的文件逐行处理到数据库中，让您的第一个操作创建一个 Zend_Session_Namespace 来存储两个值：

1.  文件中的总行数，以及
2.  到目前为止处理的行数（将随着每行处理而更新。）

然后您的第二个操作将访问 Zend_Session_Namespace 并返回这两个值。然后，您可以使用 Javascript 将值插入进度条插件，或者您希望直观地表示该信息。如果您需要使用异步 javascript 上传文件并检查其处理进度，请查看[PHP Session Upload Progress](http://www.php.net/manual/en/session.upload-progress.php) - 这样您可以有一个进度条用于上传，另一个用于处理该文件（尽管很多浏览器在其本机状态栏中指示上传进度。）

# ruby - 如何在转储到 YAML 之前简化 Ruby 类？

> ID：12258204
> 
> 赞同：0
> 
> 时间：2012-09-04T06:53:54.857
> 
> 标签：ruby

我有一个手写的 YAML 文件片段：

```
:alerts:
  :ctlr_alerts:
    - :param: Collector temp
      :direction: '>'
      :value: 190
    - :param: 
      :direction: 
      :value: 
    - :param: 
      :direction: 
      :value: 
```

这被读入 Web 服务器，数据用于填充表单。如果用户更改表单中的值，则新数据将写回 YAML 文件，但首先会被丑化：

```
:alerts: 
  :ctlr_alerts: 
  - :param: !str:WEBrick::HTTPUtils::FormData 
      str: Collector temp
      "@filename": 
      "@header": &id001 {}

      "@name": alerts.ctlr_alerts.0.param
      "@next_data": 
      "@raw_header": &id002 []

    :value: !str:WEBrick::HTTPUtils::FormData 
      str: "190"
      "@filename": 
      "@header": *id001 
```

ETC...

我有一些定期运行的小型实用程序脚本，它们也读取相同的 YAML 文件。由于添加了上面的片段，他们在尝试读取文件时收到以下错误：

```
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `transfer': invalid subclass (TypeError) 
```

一种解决方法是添加

```
require 'webrick' 
```

到每个小脚本。但是，当脚本与此无关时，不得不吸收整个 Web 服务器的代码似乎很可笑。这是一个运行ruby 1.8.6的小型嵌入式系统，资源有点紧张。

在将其转储到 YAML 之前，如何“清理”这个数据结构（将其转换回一个简单的数组）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:56:12.193

我试过这个：

```
if alert_change
  # convert from webrick form class to vanilla array
  alrts = @config[:alerts][:ctlr_alerts]
  aaa = []
  alrts.each do |a|
    aaa <<  { :param => a[:param].to_s,
      :direction => a[:direction].to_s,
      :value => a[:value].to_f}
  end
  @config[:alerts][:ctlr_alerts] = aaa
end

Predict.dump_config(@config)
@config = Predict.load_config 
```

那行得通！

# javascript - Phonegap 从 PDF 文件中获取内容

> ID：12258205
> 
> 赞同：4
> 
> 时间：2012-09-04T06:53:57.280
> 
> 标签：javascript, android, cordova

我想使用 phonegap(android) 从 pdf 文件中获取内容。那可能吗？我一直在搜索“如何使用 javascript 从 pdf 文件中获取内容”，但我认为指定我正在使用的工具可能会更好。

我的目标是`Content`在 PDF（字符串/单词）中搜索并显示它。我的想法是打开 PDF 文件并将其内容提取到一个变量中，但问题是内存，我认为该变量不能支持大量的单词内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T09:03:06.397

嗨，我认为您可以使用 HTML-5 的强大功能，即使用 HTML 5 FileReader API。我认为这是可能的

[检查这个](http://www.html5rocks.com/en/tutorials/file/dndfiles/)

# html - 一个程序中的所有浏览器（所有版本）

> ID：12258212
> 
> 赞同：-3
> 
> 时间：2012-09-04T06:54:38.680
> 
> 标签：html, browser, web

我有一个使用 .png 文件的本地 html，我想检查我在所有浏览器上的 html 行为。是否有任何程序包含知名浏览器（Chrome-Mozilla-IE...等）及其版本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T06:59:45.697

不会。您将获得的最接近的是 Browsershots 或 Adob​​e Browser Lab 之类的在线服务（这些可能需要您的文件在线）。

更好的选择是 crossbrowsertesting.com，它使用基于 Web 的远程访问运行所有不同浏览器和操作系统的计算机。这将要求您的文件在线。

对于基本的 IE 测试，您可以将 IE Tester 作为独立程序使用，但它充满了 bug，而且不太可靠。这将处理本地文件，但仅包括 IE 5.5 到 IE10。

# android - 如何在 Android 平板电脑中正确显示印度地区语言？

> ID：12258213
> 
> 赞同：2
> 
> 时间：2012-09-04T06:54:45.797
> 
> 标签：android, unicode, localization, typeface

我需要在 Android 应用程序中显示泰卢固语文本。我可以使用 ttf 字体文件在 Android 手机中显示。但我无法在平板电脑和模拟器中正确显示。我不关心模拟器。但我想在平板电脑中正确显示，所以请建议我如何解决这个问题。

我在手机中显示泰卢固语文本的示例代码是

```
final Typeface telugu = Typeface.createFromAsset(getAssets(), "DroidSansRegionalAAD.ttf");
yourName = (TextView) findViewById(R.id.nameofyours12);
yourName.setTypeface(telugu); 
```

# jquery - Jquery Accordion 添加替换属性

> ID：12258214
> 
> 赞同：0
> 
> 时间：2012-09-04T06:54:47.717
> 
> 标签：jquery, html, css, jquery-ui-accordion

我正在尝试更改位于此处的手风琴标题部分的字体大小`body { font: 16px Sans-Serif;
}`

不幸的是，我已经有一个“body”属性覆盖了我网站中的上述代码。

如何替换上述属性并将其替换为与标题字体大小更改相对应的另一个属性名称。例如，不是“body”，而是“title_size”。

任何帮助将不胜感激！

Jquery 手风琴在这里：http: [//jsfiddle.net/q2Gm9/](http://jsfiddle.net/q2Gm9/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T06:59:51.377

添加这个CSS，它会工作：

```
.accordion dt{font: 16px sans-serif;} 
```

# c - 将华氏温度转换为摄氏温度并打印给用户

> ID：12258215
> 
> 赞同：0
> 
> 时间：2012-09-04T06:54:50.303
> 
> 标签：c

我想将 -50 度和 200 摄氏度之间的所有内容以 10 度的步长转换为华氏温度，并向用户打印两个值，以及哪个更大/更小或者它们是否相等。我目前的代码是：

```
#include <stdio.h>

main()
{
    int fahr;

    for(fahr = -50; fahr < 201; fahr = fahr + 10)
    {
        double celsius = (5.0/9.0) * (fahr-32);

        if(fahr == celsius)
        {
           printf("%3d = %6.1f\n", fahr, celsius);
        }

        if(fahr > celsius)
        {
            printf("%3d > %6.1f\n", fahr, celsius);
        }

        if(fahr < celsius)
        {
            printf("%3d < %6.1f\n", fahr, celsius);
        }
    }
} 
```

我的基本思考过程是，我需要使用 for 语句，其中包含一些 if 来表示小于、大于和等于。但是，每当我使用 if 语句时，摄氏度只会以一个数字的形式出现，并且每次转换后华氏温度都不会跳跃 10 =/ 所以我有点不知所措。

编辑：好吧，我用=而不是==有点愚蠢的错误。我是编程新手，所以我仍在努力理解 = 实际上并不意味着等于。无论如何，这至少修复了华氏温度不正确的间隔，但摄氏度仍然保持在 2.2，而不是每次都改变。

编辑：嗯，谢谢你的帮助，原来我只需要学习什么时候使用正确的数据类型！我将代码更改为最终形式，以防万一有人需要它！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T06:58:29.070

这条线`if(fahr = celsius)`不符合你的想法。它*分配* `celsius`并`fahr`检查结果是否非零。

你的意思是：

```
if (fahr == celsius)
//      ^^^^ 
```

这将比较两个值是否相等。

* * *

作为一个完全不相关的准确性点，您应该像这样编写转换：

```
int celsius = (5 * (fahr - 32)) / 9; 
```

这将不需要任何昂贵的浮点转换或转换回整数时的舍入误差，并且它将尽可能长时间地延迟除法。当然请注意，您的摄氏温度值只会近似于最接近零的整数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T06:59:07.030

这是任务

```
if(fahr = celsius) 
```

这是比较

```
if(fahr == celsius) 
```

# sql-server - 如何在 sql server 中逐步调试存储过程

> ID：12258216
> 
> 赞同：0
> 
> 时间：2012-09-04T06:55:05.013
> 
> 标签：sql-server, tsql, sql-server-2008

如何在 SQL Server 中逐步调试存储过程...？？我在存储过程中放了一个断点并开始调试，但我得到了一个错误

> “无法启动 T-SQL 调试。无法附加到 'WCHN-210' 上的 SQL Server 进程单击帮助以获取更多信息”...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T11:20:13.203

这就是我所做的：

1.  编写过程脚本。你应该得到这样的东西：

    ```
    DROP PROCEDURE [dbo].[ups_Test]
    GO

    SET ANSI_NULLS ON
    GO

    SET QUOTED_IDENTIFIER ON
    GO

    CREATE PROCEDURE [dbo].[ups_Test]
    @ParameOne int,
    @ParameTwo nvarchar(10)
    AS
    BEGIN
        -- Your code
    END

    GO 
    ```

2.  删除“drop/create”、“begin/end”等语句。

3.  在每个参数前面添加一个“DECLARE”，如果它没有默认值，则添加一个值。

    ```
    DECLARE @ParameOne int=10,

    DECLARE @ParameTwo nvarchar(10)=''

    -- Your code 
    ```

就是这样——执行语句，看看问题出在哪里。

# sql-server - 将计数器列添加到表中

> ID：12258218
> 
> 赞同：0
> 
> 时间：2012-09-04T06:55:07.213
> 
> 标签：sql-server, counter

如何通过添加计算原始记录的列将值从另一个表插入到表变量中。例如

```
 Value              Number    Value
----------  --->    ----------------
 56                 1         56
 78                 2         78
 90                 3         90 
```

但是，我不能使用 an`IDENTITY(1,1)`自动生成计数器值，因为我想将值显式插入`Number`列中。可能我应该使用[CTE](http://msdn.microsoft.com/en-us/library/ms190766%28v=sql.105%29)吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-04T07:11:24.377

```
select row_number() over (order by (select 0)) as number,value from @tablevariable 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-03T13:28:59.510

如果您在查询期间不使用“ORDER BY”，则可以使用：

```
SET @number=0;
SELECT @number:=@number+1 AS number, value FROM your_table; 
```

# php - 如何使用 json_encode twig 函数在 twig 文件中使用 php json_encode 选项

> ID：12258225
> 
> 赞同：35
> 
> 时间：2012-09-04T06:55:25.610
> 
> 标签：php, symfony, twig

我正在尝试使用 twig json_encode 函数但是当我这样做时

```
 var packageDetails =  {{(packageDetails|json_encode)}}; 
```

并且 packageDetails 是从控制器传递的数组数组

它给了我错误的说法

```
 invalid property id 
```

因为`&quot;` 所以我想使用转义过滤器；我该如何使用它？

* * *

## 回答 #1

> 赞同：65
> 
> 时间：2012-09-04T06:58:41.097

仅仅是因为您没有将输出用引号括起来吗？

```
var variable = '{{{reference}}}'; 
```

**更新：**

解决问题的实际答案是根据评论将 |raw 添加到标签中

```
var packageDetails =  {{(packageDetails|json_encode|raw)}}; 
```

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2013-10-07T08:17:19.780

您可以通过以下方式添加选项：

```
{{ data|json_encode(constant('JSON_PRETTY_PRINT'))|raw }} 
```

添加这个是因为它回答了您标题中的问题，但听起来原始过滤器确实是您正在寻找的。不过，其他人可能会觉得这很有用。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-09-22T13:04:44.900

对于任何对 Blade / Laravel5.x 有类似问题的人

```
var v = JSON.parse('{!! $v !!}'); 
```

# ruby-on-rails - 使用 rails 配置 mongomapper

> ID：12258229
> 
> 赞同：0
> 
> 时间：2012-09-04T06:55:33.613
> 
> 标签：ruby-on-rails, mongodb, mongomapper

mongo.rb:1: 未初始化的常量 MongoMapper (NameError) 这是我在 config/initializers/mongo.rb 文件中遇到的错误。

[我按照http://www.mongodb.org](http://www.mongodb.org)网站上的配置教程进行操作，这是 mongo.rb 文件中的代码

MongoMapper.connection = Mongo::Connection.new('localhost', 27017) MongoMapper.database = "#monmil-#{Rails.env}"

如果定义了？(PhusionPassenger) PhusionPassenger.on_event(:starting_worker_process) 做 |forked| MongoMapper.connection.connect 如果分叉端结束

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T09:40:05.937

不再需要初始化程序。该教程已过时。阅读[http://mongomapper.com/上的文档](http://mongomapper.com/)

# internet-explorer-6 - IE 6.0 : font failure error while parsing styles

> ID：12258233
> 
> 赞同：0
> 
> 时间：2012-09-04T06:55:48.173
> 
> 标签：internet-explorer-6

Error parsing styles Internet Explorer 6.0

```
line 9  { font-family:"Neo Sans"; src:('../fonts/Neo_Sans_Medium.eot'); src: local('ufonts.com_neo-sans-medium'), local('ufonts'), url('fonts/Neo_Sans_Medium.ttf') format('truetype'); } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:23:26.327

我认为你应该使用`@fontface`

```
@font-face {
          font-family:"Neo Sans"; 
          src:('../fonts/Neo_Sans_Medium.eot'); 
          src: local('ufonts.com_neo-sans-medium'), 
               local('ufonts'), 
               url('fonts/Neo_Sans_Medium.ttf') format('truetype');
} 
```

# time - 活动监视器（节目时间跟踪器）

> ID：12258236
> 
> 赞同：-1
> 
> 时间：2012-09-04T06:56:02.537
> 
> 标签：time, monitor

我正在寻找一个不错的 Windows（还有 Mac？）工具来监控用户在每个程序中花费的时间。程序不应计算程序打开的时间，而是程序处于活动状态（活动使用）的时间。我还需要访问数据。

[个人活动监视器](http://activitymonitor.codeplex.com/)将完全满足我的需求，但不幸的是它非常不稳定。我也尝试过[Wamon](http://code.google.com/p/wamon/)，但除了提供的网站之外，我发现无法以编程方式访问数据......

你有什么建议吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-05T08:44:00.507

我现在设法用 Wamon 做我想做的事。:) 数据存储在 C:\ProgramData 下的 SQLight DB 中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-13T07:24:00.040

我创建了自己的 Program Monitor 作为学习 Azure 的项目。客户端在 Windows 上运行，所有信息都上传到 Azure 表存储。它是根据我想要的而创建的。其中一些要求会让一些人失去兴趣——登录需要一个 gmail 帐户（我不想记住另一个密码）。显然，您的所有信息也会记录到“云”中，这也可能是不可取的。无论如何它是免费的，我已经运行了 2 个月没有崩溃 - 它非常稳定。

网址是[http://waidmonitor.com](http://waidmonitor.com)。如果您真的想在其中看到任何内容，那么您登录后也会有一个反馈表。

# java - Java中泛型的方法重载和参数

> ID：12258239
> 
> 赞同：6
> 
> 时间：2012-09-04T06:56:22.800
> 
> 标签：java, generics, overloading

我有以下两种方法：

```
public static double calculateMeanInt(List<Integer> numbers) {
    double sum = 0.0;
    for(Integer number : numbers)
        sum += number;
    return sum/numbers.size();
}

public static double calculateMeanDouble(List<Double> numbers) {
    double sum = 0.0;
    for(Double number : numbers)
        sum += number;
    return sum/numbers.size();
} 
```

您是否有一个优雅的解决方案（除了使用类型转换和对象）可以避免上面的重复代码并使用单个方法名称？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-04T07:02:53.380

Java 中的每个数字类型都扩展自`Number`，因此您可以使用有界类型参数（感谢 Paul）在一种方法中平均所有数字类型：

```
 public static <N extends Number> double calculateMean(List<N> numbers) {
    double sum = 0.0;
    for (N number : numbers)
      sum += number.doubleValue();
    return sum / numbers.size();
  } 
```

像这样的：

```
double intMean = calculateMean(Lists.newArrayList(1,2,3,4,5));
double doubleMean = calculateMean(Lists.newArrayList(1d,2d,3d,4d,5d));
double longMean = calculateMean(Lists.newArrayList(1l,2l,3l,4l,5l)); 
```

请注意，这`Lists`是番石榴的一部分。

# php - 在 MAC 终端中执行的 PHP 脚本：无法打开流：权限被拒绝

> ID：12258240
> 
> 赞同：1
> 
> 时间：2012-09-04T06:56:31.677
> 
> 标签：php, fopen

我有个问题。我有一个 PHP 脚本，它执行一些操作，然后创建一个 .txt 以将一些日志放入其中。

当我使用浏览器运行脚本时，它运行良好，创建了 txt 文件（每次使用脚本时都会创建一个新文件），将日志写入其中..

但是当我使用命令 php 从终端启动脚本时，出现错误：Warning fopen [...] failed to open stream: Permission denied

我保存日志的文件夹的权限是 755。该文件夹位于 /Library/WebServer/Documents/ 内，_www 是该文件夹的所有者。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T06:59:34.793

检查目录/文件夹是否可供所有人访问，并且该目录/文件夹的默认文件创建权限使整个系统可以公开访问该文件，而不仅仅是单个用户。这有时会把它塞满。

如果这不起作用，你总是可以尝试`sudo`在你的命令前面加上一个空格，就像这样：

`$ sudo php whatever here`

然后将提示您输入用户密码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:01:00.320

因此，当您在浏览器中运行脚本时，该脚本正在由 _www 用户执行，该用户是您的 Web 服务器 apache（可能）使用的隐藏用户。

然后，当您自己运行脚本时，它由您的用户帐户运行，该用户帐户不拥有日志所在的目录，因此您无法写入该目录。您可以通过以管理员身份运行脚本 (sudo php script.php) 来解决此问题。

* * *

或者，您可能可以对用户和组进行一些操作，以使您的用户帐户和 _www 帐户都可以使用。也许您可以将自己和 _www 用户添加到一个组中，然后将该组设置为该目录的所有者。我对这部分不太有信心，但如果你想要一个比每次都使用 sudo 更强大的解决方案，它应该会让你朝着正确的方向前进。

# java - 从 CSV 文件中添加数据和输出数据必须在 java 中的行中对齐

> ID：12258241
> 
> 赞同：0
> 
> 时间：2012-09-04T06:56:33.833
> 
> 标签：java, csv

下面的代码正在读取一个 .csv 文件并以**（当前输出）**方式在控制台上显示它。

我希望它在控制台上显示为**（想要的输出）**方式...对不起，我无法添加图像... **（行）**表示在 2 个数据之间，我需要一条垂直线...请指导我.谢谢你提前

**想要的输出：-**

```
Firstname (line) Lastname (line) Main-Email (line) (current employer) (line)
ram       (line) rfa      (line) k@.com     (line) (golhys)           (line) 
```

**电流输出：-**

```
Line # 1 Token : "First Name","Last Name","Main-Email","Current Employer","Internal    Contact ID","PSI Club Member Nbr.","Membership Type","Membership Status","Member Since","Membership Card Sent","Membership Start Date","Membership Expiration Date","Nationality 1","Membership ID" 
```

**读取文件.java**

```
public static void main(String[] args) {
    String fileName="C:/Users/Desktop/cvsFile.csv";
    try {
        BufferedReader br = new BufferedReader( new FileReader(fileName));
        //  String strLine = null;
        StringTokenizer st = null;
        int lineNumber = 0, tokenNumber = 0;
        while( (fileName = br.readLine()) != null)
        {
            lineNumber++;

            //break comma separated line using ","
            st = new StringTokenizer(fileName, "");
            while(st.hasMoreTokens())
            {
                //display csv values
                tokenNumber++;
                System.out.println("Line # " + lineNumber + " Token : "+     st.nextToken());//.replaceAll(",", ",|,") replaceAll("..(?!$)", "$0 ")

            }
            //reset token number
            tokenNumber = 0;
        }
    }

    catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:15:41.513

参考这段代码：

```
public static void main(String[] args) {
    String fileName="/home/Csvfile.csv";
    try {
      BufferedReader br = new BufferedReader( new FileReader(fileName));
      String strLine = null;
      StringTokenizer st = null;
      int lineNumber = 0, tokenNumber = 0;
      while( (fileName = br.readLine()) != null)
      {
        lineNumber++;
        //break comma separated line using ","
        st = new StringTokenizer(fileName, ",");
    System.out.print("\n" + lineNumber + " | ");    
        while(st.hasMoreTokens())
        {
          //display csv values
          tokenNumber++;
          System.out.print(st.nextToken()+" | ");
        }
        //reset token number
        tokenNumber = 0;
      }
    }
    catch (FileNotFoundException e) {
      e.printStackTrace();
    } catch (IOException e) {
      e.printStackTrace();
    }
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T08:00:49.123

这是我的做法

```
public static void main(String[] args) {
    String fileName = "cvsFile.csv";
    ArrayList<Integer> margins = new ArrayList<Integer>();
    BufferedReader br;
    String line, token;
    int i;
    try {
        br = new BufferedReader(new FileReader(fileName));
        while ((line = br.readLine()) != null) {
            StringTokenizer st = new StringTokenizer(line, ",\"");
            i = 0;
            while (st.hasMoreTokens()) {
                token = st.nextToken();
                if (margins.size() <= i) {
                    margins.add((Integer) token.length());
                } else {
                    margins.set(
                            i,
                            Math.max(margins.get(i),
                                    (Integer) token.length()));
                }
                i++;
            }
        }
        br = new BufferedReader(new FileReader(fileName));
        while ((line = br.readLine()) != null) {
            StringTokenizer st = new StringTokenizer(line, ",\"");
            i = 0;
            while (st.hasMoreTokens()) {
                token = st.nextToken();
                System.out.print(token);
                for (int j = 0; j < margins.get(i) - token.length(); j++) {
                    System.out.print(" ");
                }
                System.out.print("|");
                i++;
            }
            System.out.println();
        }
    } catch (IOException e) {
        e.printStackTrace();
    }
} 
```

# java - 使用 StreamGobbler 处理输入

> ID：12258243
> 
> 赞同：6
> 
> 时间：2012-09-04T06:56:49.723
> 
> 标签：java, runtime.exec, outputstream

我已经通过以下 URL 的 StreamGobbler

[JavaWorld : 流食者](http://www.javaworld.com/jw-12-2000/jw-1229-traps.html?page=4)

我了解它的用法和实施的原因。然而，所涵盖的场景只是那些可能有来自命令/处理错误的输出的场景。

我没有发现任何使用 StreamGobbler 处理输入的场景。例如，在 中`mailx`，我必须指定电子邮件的正文，我已按以下格式完成

```
Process proc = Runtime.getRuntime().exec(cmd);
OutputStreamWriter osw = new OutputStreamWriter(proc.getOutputStream());
osw.write(mailBody);
osw.close(); 
```

这如何通过 StreamGobbler 处理，或者不需要通过它处理。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-04T07:18:25.590

理想情况下，`StreamGobbler`如果您已经期待 on 上的某些内容，您将在错误流上使用（在单独的线程中）`InputStream`，以查看何时`process.waitFor()`返回非零值以找出错误消息。如果您对 不感兴趣`InputStream`，那么您可以在完成对命令的输入后直接在代码中读取 ErrorStream。

```
Process proc = Runtime.getRuntime().exec(cmd)
// Start a stream gobbler to read the error stream.
StreamGobbler errorGobbler = new StreamGobbler(proc.getErrorStream());
errorGobbler.start();

OutputStreamWriter osw = new OutputStreamWriter(proc.getOutputStream())
osw.write(mailBody)
osw.close();

int exitStatus = proc.waitFor();
if (0 != exitStatus) {
    /*
     * If you had not used a StreamGobbler to read the errorStream, you wouldn't have
     * had a chance to know what went wrong with this command execution.
     */
    LOG.warn("Error while sending email: " + errorGobbler.getContent());
} 
```

# annotations - JPA 注释上的幻数声纳违规

> ID：12258252
> 
> 赞同：6
> 
> 时间：2012-09-04T06:57:20.053
> 
> 标签：annotations, sonarqube

我们正在使用声纳来管理我们的代码质量。我对 JPA 注释的“幻数”违规有疑问：

```
@NotNull
@Size(min = 1, max = 300)
@Column(name = "NAME") 
```

这是对注释的真正违反吗？

如果不是，我们如何处理这种 Sonar 违规？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-04T07:35:03.627

幻数违规不了解此数字是否出现在注释中。恕我直言，这是一个误报，您可以通过两种方式处理它。在您的质量配置文件中禁用此规则或创建一个 MAGICNUMBER 类并列出您作为静态属性使用的所有数字。例如看下面的类

```
public final class MAGICNUMBER {
public static final int L8000 = 8000;
public static final int L300 = 300; 
```

}

然后你可以像这样在你的课堂上使用它

```
@NotNull
@Size(min = 1, max = MAGICNUMBER.L300)
@Column(name = "NAME") 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-12-05T21:41:58.337

我不确定 2012 年的情况如何，但现在发现，似乎有一种方法可以仅针对 v 3.3.2 中的注释禁用它，而且肯定高于此

![在注释中禁用幻数。 显示的是声纳 3.3.2](../Images/fe847d09c3f112ce632f7e83a4ca3535.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-04-03T07:28:18.783

您可以在 checkstyle 文件中编辑规则，使其不考虑注释、哈希码方法或特定数字。

```
<module name="MagicNumber">
    <property name="ignoreNumbers" value="-1, 0, 1, 2, 3"/>
    <property name="ignoreHashCodeMethod" value="true" />
    <property name="ignoreAnnotation" value="true" />
</module> 
```

# java - 在 Java 中的 ArrayList 中添加方法

> ID：12258256
> 
> 赞同：-4
> 
> 时间：2012-09-04T06:57:40.320
> 
> 标签：java, jakarta-ee

我`ArrayList`用来存储用户在购物车中输入的数量值。但是，在尝试将数量添加到 时`ArrayList`，并未添加数量。为什么没有添加数量？

代码在这里：

```
public class Add_Cart1 extends HttpServlet {

    String id, name, cost, stock;
    ArrayList qty = new ArrayList();

        if(id != null)
        {
            for(j = 0; j < qty.size(); j++)
            {
                System.out.println("values......." + req.getParameterValues("qty"));
                System.out.println("qty........." +
                  qty.add(req.getParameterValues("qty")));

            }   
        }
} 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-04T07:05:45.360

你`qty.add()`在这个 for 循环中：

```
 for(j=0;j<qty.size();j++) 
```

But`qty.size()`是 0，因为您还没有向列表中添加任何内容。所以什么都没有添加。

此外，该[`add()`方法始终返回 boolean](http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html#add(E))。你确定你不是在找`get()`方法吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:06:55.367

检查[ArrayList.size()](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html#size%28%29)

```
 ArrayList<String> qty = new ArrayList<String>();
    qty.add("123");
    System.out.println(qty.size());
    qty.add("1234");
    System.out.println(qty.size()); 
```

它会输出`1`，`2`

永远不要在 servlet 中将成员变量用于随每个用户更改的数据，因为可能同时执行许多请求。

将您的课程声明`ArrayList`为（假设`qty`是字符串）

```
ArrayList<String> qty = Collections.synchronizedList(new ArrayList<String>()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T07:09:59.480

qty.size() 最初将为 0，因此它不会进入循环。

# perl - Mechanical Turk API：为什么 HITReviewStatus 总是“NotReviewed”？

> ID：12258257
> 
> 赞同：6
> 
> 时间：2012-09-04T06:57:44.077
> 
> 标签：perl, api, mechanicalturk

即使已通过 Amazon Mturk UI 手动审核并“接受”了 HIT 的所有“分配”，HIT 仍显示“未审核”的 HITReviewStatus？

有没有其他人注意到这一点？

给定 HIT 的 HITReviewStatus 何时更改？

我正在创建一组自动化脚本，所以这个状态字段非常重要。

谢谢！

编辑：HITReviewStatus 仅在使用“GetHIT”操作时通过 API 显示

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-08-07T21:16:49.383

在一个不起眼的 amzn PDF 中找到了答案：

" 如果提交的 HIT 违反了 Mechanical Turk 的适当内容政策，Mechanical Turk 用户可以请求管理员审查 HIT。HITReviewStatus 指示 HIT 是否尚未经过审查，是否已被用户标记为审查，或者已由管理员审核并认为适当或不适当。”

因此，HITReviewStatus 似乎是 AMZN 的内部审计状态。

# apache-pig - 没有属性文件的嵌入式 Pig 程序

> ID：12258261
> 
> 赞同：3
> 
> 时间：2012-09-04T06:57:53.890
> 
> 标签：apache-pig

我编写了一个嵌入式 Pig 程序，它在我的机器上执行并在服务器（hadoop 机器）上执行查询并存储结果。但在这我将 pig.property 文件提供给我的类路径。

我们可以在不提供 Pig.property 文件的情况下编写 Pig-Embedded 程序吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T08:37:26.930

您可以使用 org.apache.pig.PigServer 从 Java 程序运行 pig 脚本。

```
PigServer pigServer = new PigServer(ExecType.MAPREDUCE);
pigServer.registerScript("scripts/test.pig"); 
```

在类路径上需要“pig.properties”。

fs.default.name=hdfs://: mapred.job.tracker=: 或者将 java.util.Properties 的实例传递给 PigServer 构造函数。

```
Properties props = new Properties();
props.setProperty("fs.default.name", "hdfs://<namenode-hostname>:<port>");
props.setProperty("mapred.job.tracker", "<jobtracker-hostname>:<port>");
PigServer pigServer = new PigServer(ExecType.MAPREDUCE, props); 
```

还要检查[这个](http://wiki.apache.org/pig/EmbeddedPig)

# wordpress - wordpress register_post动作的参数是什么

> ID：12258263
> 
> 赞同：1
> 
> 时间：2012-09-04T06:57:58.110
> 
> 标签：wordpress

我有一个插件功能和这样定义的动作：

```
function wp_validate($login, $email, $errors) {

    // do some validations here
    return $errors;
}

add_action('register_post', 'wp_validate', 10, 3); 
```

当用户填写注册表并提交时调用 wp_validate 函数。并且错误显示正确。

但是，我不明白 10 和 3 是什么。有人可以告诉我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T09:06:29.537

*   第三个参数（`10`在您的示例中）定义了您的函数在与该`register_post`操作相关的任何其他参数中的优先级。
*   第四个参数（`3`在您的示例中）定义您的函数接受的参数数量。

这两个参数都是可选的。请参阅：[http ://codex.wordpress.org/Function_Reference/add_action](http://codex.wordpress.org/Function_Reference/add_action)

# wcf - ExecuteSprocAccessor 引发“无法为类型 T 创建映射”错误

> ID：12258264
> 
> 赞同：1
> 
> 时间：2012-09-04T06:58:04.053
> 
> 标签：wcf

我编写了一个程序来获取一个字符串作为输入并返回参数列表。我使用 ExecuteSprocAccessor 将结果映射到具有 ExecuteSprocAccessor 返回的属性的模式。

详细例外：

> System.InvalidOperationException 未处理 消息=无法为 CampaignModel 类型创建映射。Source=Microsoft.Practices.EnterpriseLibrary.Data StackTrace：
> 在 Microsoft.Practices.EnterpriseLibrary.Data.ReflectionRowMapper `1..ctor(IDictionary`2 propertyMappings) 在 Microsoft.Practices.EnterpriseLibrary.Data.MapBuilder `1.MapBuilderContext.Build() at Microsoft.Practices.EnterpriseLibrary.Data.MapBuilder`1.BuildAllProperties() 在 Microsoft.Practices.EnterpriseLibrary.Data.DatabaseExtensions。 CreateSprocAccessor[TResult](Database database, String procedureName, IParameterMapper parameterMapper)
> 在 Microsoft.Practices.EnterpriseLibrary.Data.DatabaseExtensions.ExecuteSprocAccessor[TResult](Database database, String procedureName, IParameterMapper parameterMapper, Object[] parameterValues) 在 SolarWinds.Services.BusinessLayer.Repositories.DataWarehouseCampaignRepository.GetCampignData(String campaignId) 在 C:\ P4\Lokesh.Ravichandru\depot\EnterpriseServices\Main\Services\Src\Lib\SolarWinds.Services.BusinessLayer\Repositories\DataWarehouseCampaignRepository.cs：C 中 Registration.Campaign.Test.Program.Main(String[] args) 的第 28 行:\P4\Lokesh.Ravichandru\depot\EnterpriseServices\Main\Services\Registration.Campaign.Test\Program.cs：System.AppDomain._nExecuteAssembly 的第 16 行（RuntimeAssembly 程序集，String[] args）在 System.AppDomain.ExecuteAssembly（字符串汇编文件，Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly() 的证据 assemblySecurity, String[] args)
> 在 System.Threading.ThreadHelper.ThreadStart_Context(Object state)
> 在 System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean ignoreSyncCtx) 在 System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state ) 在 System.Threading.ThreadHelper.ThreadStart() InnerException: System.TypeInitializationException Message='Microsoft.Practices.EnterpriseLibrary.Data.ReflectionRowMapper 1 StackTrace 的类型初始化器：在 Microsoft.Practices.EnterpriseLibrary.Data.ReflectionRowMapper`1' threw an exception.
> Source=Microsoft.Practices.EnterpriseLibrary.Data
> TypeName=Microsoft.Practices.EnterpriseLibrary.Data.ReflectionRowMapper``1..ctor(IDictionary`2 propertyMappings) InnerException: System.IO.FileNotFoundException Message=Could not load file or assembly 'Microsoft.Practices.Unity, Version=2.1.505.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' 或其依赖项之一。该系统找不到指定的文件。
> Source=Microsoft.Practices.EnterpriseLibrary.Data
> FileName=Microsoft.Practices.Unity，版本=2.1.505.0，文化=中性，PublicKeyToken=31bf3856ad364e35
> Ravichandru/depot/EnterpriseServices/Main/Services/Registration.Campaign.Test/bin/Debug/Microsoft.Practices.Unity/Microsoft.Practices.Unity.EXE。StackTrace：在 Microsoft.Practices.EnterpriseLibrary.Data.ReflectionRowMapper`1..cctor() InnerException：

添加更多细节。

我尝试通过设置`var resultMapper = MapBuilder<CampaignModel>.MapAllProperties().Build();`

我在上面一行中遇到了异常。

请任何人都可以说出这背后的错误是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-05T06:33:52.593

问题是由于未添加以下 dll 的引用

Microsoft.Practices.Unity.dll、Microsoft.Practices.Unity.Configuration.dll、Microsoft.Practices.Unity.Interception.dll、Microsoft.Practices.Unity.Interception.Configuration.dll。

在一直使用该库的应用程序中。

-洛克什

# windows-8 - 在 Windows 8 Metro 应用程序中禁用滚动查看器的放大和缩小

> ID：12258266
> 
> 赞同：2
> 
> 时间：2012-09-04T06:58:07.830
> 
> 标签：windows-8, scrollviewer, zooming

我正在使用 RichTextBlock 显示一些文本，并且 RichTextBlock 在滚动查看器中，代码如下所示：

```
<ScrollViewer Grid.Column="0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <StackPanel Orientation="Vertical" Margin="12,0">
                    <TextBlock x:Name="TitleRun" FontSize="26" FontWeight="SemiBold" />
                </StackPanel>
                <RichTextBlock x:Name="MRichTextBlock" Grid.Row="1" Padding="12" FontSize="18">
                </RichTextBlock>
            </Grid>
        </ScrollViewer> 
```

当我的应用在平板电脑上运行时，只要我用两根手指在scrollviewer 区域捏合和拉出，RichTextBlock 就会放大或缩小，这是意料之外的。

所以我想知道如何在这种情况下禁用缩放行为。

提前致谢。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-04T09:13:02.113

From MSDN, setting ZoomMode=Disabled in ScrollViewer will work.

# path - Ubuntu cakephp 2.2 控制台路径设置

> ID：12258271
> 
> 赞同：0
> 
> 时间：2012-09-04T06:58:37.440
> 
> 标签：path, console, cakephp-2.0, ubuntu-12.04

我目前正在使用 Ubuntu 12 并尝试运行 cakephp 的最新稳定版本 cakephp 2.2 并从控制台烘焙我的文件。

当我输入`cake bake`时，它显示旧控制台版本如下：

`Welcome to CakePHP v1.3.7 Console`

有谁知道，我怎样才能更新到 CakePHP 2.2 版？

尽早回复将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:15:08.190

它通过以下命令使用更新版本的 cake 成功运行：

```
/path/to/cake_2_2_0/app/Console/cake.php bake 
```

您只需要更改到应用程序中的应用程序目录并运行

# java - SQL 语句转换为休眠条件（具有 count 子句）

> ID：12258272
> 
> 赞同：1
> 
> 时间：2012-09-04T06:58:40.427
> 
> 标签：java, sql, hibernate, criteria, having

我有一个 SQL 查询，我想将其转换为标准（Hibernate 3.3.2）以将其用于我的持久层。那是查询：

```
select last_name
  from member
  where
    member.end_date > SYSDATE
  group by member.last_name
  having count(member.last_name) >1; 
```

我已经尝试了很多组合，但是没有对我有好处的结果......这是我的代码：

```
Criteria criteria = getSession(false).createCriteria(Member.ENTITY_NAME);
criteria.setProjection(Projections.projectionList()
            .add(Projections.groupProperty("lastName"))
            .add(Projections.count("lastName").as("cptLastName"))
            );
criteria.add(Restrictions.ge("endDate", now))
            .add(Restrictions.le("startDate", now))
            //.add(Restrictions.gt("cptLastName", new Integer(1)))
            .addOrder(Order.asc("lastName"))
; 
```

通过使用注释行编写它，我有一个对象列表，其中包含名称和名称在数据库中出现的次数。但是当我想取消它时，这个错误：java.sql.SQLException: ORA-00904: "Y1_": invalid identifier

为了开发此代码，我受到以下不同帖子的启发：

*   [Hibernate Criteria: Projecting Count with group by 子句](https://stackoverflow.com/questions/3919445/hibernate-criteria-projecting-count-with-group-by-clause)

*   [具有某些条件的休眠计数行](https://stackoverflow.com/questions/8310516/hibernate-count-rows-with-some-criterias)

*   [我们如何使用 Hibernate 计算行数？](https://stackoverflow.com/questions/1372317/how-do-we-count-rows-using-hibernate)

*   [如何在休眠中使用 HAVING COUNT(*)](https://stackoverflow.com/questions/8605708/how-to-use-having-count-with-hibernate)

*   [Hibernate Criteria API - HAVING 子句变通方法](https://stackoverflow.com/questions/467172/hibernate-criteria-api-having-clause-work-arounds)

我想我离解决方案不远，但有没有人可以帮助我？如果您有任何问题，请随时问我。如果您找到了另一种解决方法让我粘贴到此查询中，请不要犹豫提出它...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T12:29:23.333

嗨，如果我是对的，您现在不能直接在休眠条件中使用 having 子句计数，请在修改后的查询下方找到。如果它不起作用，请发布整个堆栈跟踪

```
DetachedCriteria innerQuery = DetachedCriteria.forClass(Member.ENTITY_NAME, "inner");
  innerQuery.setProjection(Projections.rowCount());
  innerQuery.add(Restrictions.eqProperty("lastName", "outer.lastName"));

  Criteria c = s.createCriteria(Member.ENTITY_NAME, "outer");
  c.setProjection(Projections.property("lastName"));
  c.add(Restrictions.gt("endDate", now))   
  c.add(Subqueries.eq(new Integer(1), innerQuery)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T09:20:04.963

我根据您的提议修改了我的代码，这就是我所拥有的：

```
DetachedCriteria innerQuery = DetachedCriteria.forEntityName(Member.ENTITY_NAME,"inner")
    .setProjection(Projections.rowCount())
    .add(Restrictions.eqProperty("lastName", "outer.lastName"));

Criteria criteria = getSession(false).createCriteria(Member.ENTITY_NAME, "outer")
    .setProjection(Projections.property("lastName"))
    .add(Restrictions.g("endDate", now))
    .add(Subqueries.gt(new Integer(1), innerQuery)); 
```

所以，就像我在上面的评论中所说的那样，它可以工作，但需要很长时间......给我错误的结果（它应该给我八条记录）。

我激活了显示休眠查询的选项（hibernate.show_sql=true）。如果我将其格式化为 sql 查询格式，这就是它能够执行：

```
select this.last_name
from member this 
where this.END_DATE>=SYSDATE 
and 1 > 
    (select count(*) 
    from member inner  
    where inner.last_name = this.last_name); 
```

那么，可以用这个查询做什么来给我想要的结果？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-12T13:02:51.080

事实上，我的回答部分成功了......因为我只展示了我的大请求的一部分。是这样的：

```
select member.last_name, member.first_name, 
from member
where  
  member.end_date > SYSDATE
and
  member.last_name in 
  (select member.last_name
  from member 
  where
    member.end_date > SYSDATE
  group by member.last_name
  having count(member.last_name) >1)
order by member.last_name; 
```

并显示数据库中所有具有同音异义词（同名）的成员。因此，供您参考，这是我的最终标准：

```
Calendar now = Calendar.getInstance();
DetachedCriteria innerQuery = DetachedCriteria.forEntityName(Member.ENTITY_NAME,"inner")
        .setProjection(Projections.rowCount())
        .add(Restrictions.eqProperty("lastName", "outer.lastName"))
        .add(Restrictions.ge("endDate", now));

Criteria criteria = getSession(false).createCriteria(Member.ENTITY_NAME, "outer")
        .setProjection(Projections.property("lastName"))                
        .add(Restrictions.ge("endDate", now))
        .add(Subqueries.lt(new Integer(1), innerQuery)); 
```

稍微解释一下，通过投影，我计算行数并将（选择的）姓氏与主查询的姓氏进行比较。此外，始终需要主要标准的第二行。如果使用子查询 (DetachedCriteria)，则必须使用 Projection。但是，最后，我使用 HQL 查询来运行我的代码，因为条件更繁重......

所以，谢谢你的回答...

# c# - 以编程方式为 InvokeCommandAction 设置绑定

> ID：12258274
> 
> 赞同：1
> 
> 时间：2012-09-04T06:58:55.020
> 
> 标签：c#, silverlight

我无法以编程方式设置此绑定：

```
<i:Interaction.Triggers>
    <i:EventTrigger EventName="MouseLeftButtonDown">
        <i:InvokeCommandAction Command="{Binding Path=Document.MyDelegateCommandProperty}" />
    </i:EventTrigger>
</i:Interaction.Triggers> 
```

我试过：

```
InvokeCommandAction ica = new InvokeCommandAction();
Binding actionCommandBinding = new Binding("Document.MyDelegateCommandProperty");
BindingOperations.SetBinding(ica, InvokeCommandAction.CommandProperty, actionCommandBinding);
System.Windows.Interactivity.EventTrigger eventTrigger = new System.Windows.Interactivity.EventTrigger("MouseLeftButtonDown");
eventTrigger.Actions.Add(ica);
eventTrigger.Attach(myUiElement); 
```

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T21:02:34.330

这似乎是一个旧帖子，但由于我遇到了同样的问题，我想我会发布解决方案。

替换 `eventTrigger.Attach(myUiElement);` 为 `Interaction.GetTriggers(myUIElement).Add(eventTrigger);`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T07:34:40.210

从未`Binding`在代码中使用过，但根据[Binding](http://msdn.microsoft.com/en-us/library/ms597578.aspx)类的 MSDN 示例，您必须设置`Binding.Source`属性

```
Binding actionCommandBinding = new Binding("Document.MyDelegateCommandProperty");
actionCommandBinding.Source = ...... 
```

你只是传入`string`没有源对象/数据上下文的构造函数。

这篇文章对你有帮助吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-19T17:33:55.470

试试这个。

```
Sub MapEventToCommand(eventNameSource As String, commandDestination As string)
        Dim t = New InvokeCommandAction()
        Dim commandAction As New InvokeCommandAction()
        Dim actionCommandBinding As New Binding(commandDestination)
        BindingOperations.SetBinding(commandAction, InvokeCommandAction.CommandProperty, actionCommandBinding)
        Dim eventTrigger As New EventTrigger(eventNameSource)
        eventTrigger.Actions.Add(commandAction)
        Interaction.GetTriggers(Me).Add(eventTrigger)
    End Sub 
```

# windows-8 - 如何从 Windows Store (Metro Style) 应用程序中的 XML 资源读取数据？

> ID：12258279
> 
> 赞同：2
> 
> 时间：2012-09-04T06:59:19.957
> 
> 标签：windows-8, microsoft-metro, application-resource

我有一个 Windows 商店应用程序。我有一个包含数据的 XML 文件。我需要将此文件添加为我的应用程序的资源。我需要从这个文件中读取数据到 XDocument。

1) 将 XML 文件添加到项目时我应该设置什么构建操作？（我认为这是“内容”）

2) 如何从此 XML 文件中获取 XDocument 对象？

2小时后，我得到了这个代码：

```
public static class DataLoader {
    public static XDocument LoadFromXmlResource(string path){
        path.Replace('\\', '/');
        path.TrimEnd('/');
        string uriPath = "ms-appx:///MyApp/" + path;
        Task<StorageFile> operation = StorageFile.GetFileFromApplicationUriAsync(new Uri(uriPath)).AsTask<StorageFile>();
        StorageFile file = operation.Result;
        Task<string> fileReadingTask = FileIO.ReadTextAsync(file).AsTask<string>();
        string fileContent = fileReadingTask.Result;
        XDocument result = XDocument.Parse(fileContent, LoadOptions.None);
        return result;
    }
} 
```

这行得通，但我不确定它是否正确。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T08:59:37.973

我没有找到其他方法。你可以试试再找一个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-30T13:11:45.133

这是在应用程序中引用内容的正确方法。您还可以通过 ResourceLoader 将 .resw 文件添加到项目中以存储资源以在运行时加载。

资源有所不同，因为它们被设计为对文化敏感，因此它们适用于按钮文本值等的翻译。

如果您不需要此功能，那么使用构建操作“内容”添加的资产是完美的，您可以使用 ms-appx 或 ms-appdata URI 方案来解决它们。

通过 ms-appx 打包内容

[http://msdn.microsoft.com/en-us/library/windows/apps/Hh781215.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/Hh781215.aspx)

通过 ms-appdata 的可变数据

[http://msdn.microsoft.com/en-us/library/windows/apps/hh464917.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh464917.aspx)

-和-

[http://msdn.microsoft.com/en-us/library/windows/apps/Hh781229.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/Hh781229.aspx)

# iphone - 使用 UIImagePickerController 捕获具有特定分辨率的照片

> ID：12258280
> 
> 赞同：13
> 
> 时间：2012-09-04T06:59:21.457
> 
> 标签：iphone, ios, ios4, uiimagepickercontroller

我想拍一张A4纸上写字的照片。重要的是，我希望文本可读，但我不希望图像分辨率为 2592x1936 像素或 3264x2448 像素，因为那样会太大。另外，我认为在拍摄后重新缩放照片需要额外的时间，所以我也想避免这种情况。

我们可以选择以下品质：

```
UIImagePickerControllerQualityTypeHigh = 0   
UIImagePickerControllerQualityTypeMedium          = 1  default value   
UIImagePickerControllerQualityTypeLow            = 2   
UIImagePickerControllerQualityType640x480         = 3,   
UIImagePickerControllerQualityTypeIFrame1280x720  = 4,   
UIImagePickerControllerQualityTypeIFrame960x540   = 5 
```

如果我们使用，我们可以从[这个漂亮的表格中](http://developer.apple.com/library/ios/#documentation/AudioVideo/Conceptual/AVFoundationPG/Articles/04_MediaCapture.html#//apple_ref/doc/uid/TP40010188-CH5-SW30)`AVFoundation`选择分辨率（在标题“捕获静止图像”下）。

但是有没有类似的表格`UIImagePickerController`，例如`UIImagePickerControllerQualityTypeHigh`在 iPhone 3gs 上等于 1920x1080？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-09-06T10:05:39.220

[UIImagepickerController 质量](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIImagePickerController_Class/UIImagePickerController/UIImagePickerController.html#//apple_ref/c/tdef/UIImagePickerControllerQualityType)用于视频录制（在 UIImagepickerController 属性“videoQuality”中使用）。

我想如果你想指定确切的照片分辨率应该是什么，你应该使用 AV Foundation 框架而不是 UIImagepickerController。或者如你所说，之后转换图片。

之后调整它的大小（在[此处](https://stackoverflow.com/questions/5578921/how-to-set-the-resolution-of-a-saved-image-from-the-uiimagepickercontroller)找到）：

```
//  ==============================================================
//  resizedImage
//  ==============================================================
// Return a scaled down copy of the image.  

UIImage* resizedImage(UIImage *inImage, CGRect thumbRect)
{
    CGImageRef          imageRef = [inImage CGImage];
    CGImageAlphaInfo    alphaInfo = CGImageGetAlphaInfo(imageRef);

    // There's a wierdness with kCGImageAlphaNone and CGBitmapContextCreate
    // see Supported Pixel Formats in the Quartz 2D Programming Guide
    // Creating a Bitmap Graphics Context section
    // only RGB 8 bit images with alpha of kCGImageAlphaNoneSkipFirst, kCGImageAlphaNoneSkipLast, kCGImageAlphaPremultipliedFirst,
    // and kCGImageAlphaPremultipliedLast, with a few other oddball image kinds are supported
    // The images on input here are likely to be png or jpeg files
    if (alphaInfo == kCGImageAlphaNone)
        alphaInfo = kCGImageAlphaNoneSkipLast;

    // Build a bitmap context that's the size of the thumbRect
    CGContextRef bitmap = CGBitmapContextCreate(
                NULL,
                thumbRect.size.width,       // width
                thumbRect.size.height,      // height
                CGImageGetBitsPerComponent(imageRef),   // really needs to always be 8
                4 * thumbRect.size.width,   // rowbytes
                CGImageGetColorSpace(imageRef),
                alphaInfo
        );

    // Draw into the context, this scales the image
    CGContextDrawImage(bitmap, thumbRect, imageRef);

    // Get an image from the context and a UIImage
    CGImageRef  ref = CGBitmapContextCreateImage(bitmap);
    UIImage*    result = [UIImage imageWithCGImage:ref];

    CGContextRelease(bitmap);   // ok if NULL
    CGImageRelease(ref);

    return result;
} 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-09T15:50:05.423

一句话：没有。

没有“相似表”，因为您误解`UIImagePickerControllerQualityTypeHigh`了`UIImagePickerController`.

如果您正在捕捉静止图像，`UIImagePickerController`您将获得相关设备的默认（即最高）质量——从 iPhone 4s 的 8 MP 到 iPod touch 或 iPad 2 的 < 1 MP）。

但是，借助 AVFoundation，您可以选择，这要归功于您引用的会话预设。

但与这些 AVFoundation 会话预设不同，这些`UIImagePickerController` `UIImagePickerControllerQualityType`选项仅适用于动态视频，而不适用于静态图像捕获。

因此，您可以选择使用 AVFoundation 来控制捕获大小，或者在保存之前重新调整全尺寸图像的大小；但`UIImagePickerController`恐怕不能做你想做的事。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-12-04T19:16:06.813

[温度计的答案的](https://stackoverflow.com/questions/12258280/capturing-photos-with-specific-resolution-using-the-uiimagepickercontroller?answertab=active#tab-top)问题在于它与图像方向有关。

我发现[这个解决方案](http://iphonedevsdk.com/forum/iphone-sdk-development/1164-rotate-uiimage-help.html)可以解决方向问题并具有更快的性能：

```
- (UIImage *)scaleAndRotateImage:(UIImage *)image {
    int kMaxResolution = 320; // Or whatever

    CGImageRef imgRef = image.CGImage;

    CGFloat width = CGImageGetWidth(imgRef);
    CGFloat height = CGImageGetHeight(imgRef);

    CGAffineTransform transform = CGAffineTransformIdentity;
    CGRect bounds = CGRectMake(0, 0, width, height);
    if (width > kMaxResolution || height > kMaxResolution) {
        CGFloat ratio = width/height;
        if (ratio > 1) {
            bounds.size.width = kMaxResolution;
            bounds.size.height = bounds.size.width / ratio;
        }
        else {
            bounds.size.height = kMaxResolution;
            bounds.size.width = bounds.size.height * ratio;
        }
    }

    CGFloat scaleRatio = bounds.size.width / width;
    CGSize imageSize = CGSizeMake(CGImageGetWidth(imgRef), CGImageGetHeight(imgRef));
    CGFloat boundHeight;
    UIImageOrientation orient = image.imageOrientation;
    switch(orient) {

        case UIImageOrientationUp: //EXIF = 1
            transform = CGAffineTransformIdentity;
            break;

        case UIImageOrientationUpMirrored: //EXIF = 2
            transform = CGAffineTransformMakeTranslation(imageSize.width, 0.0);
            transform = CGAffineTransformScale(transform, -1.0, 1.0);
            break;

        case UIImageOrientationDown: //EXIF = 3
            transform = CGAffineTransformMakeTranslation(imageSize.width, imageSize.height);
            transform = CGAffineTransformRotate(transform, M_PI);
            break;

        case UIImageOrientationDownMirrored: //EXIF = 4
            transform = CGAffineTransformMakeTranslation(0.0, imageSize.height);
            transform = CGAffineTransformScale(transform, 1.0, -1.0);
            break;

        case UIImageOrientationLeftMirrored: //EXIF = 5
            boundHeight = bounds.size.height;
            bounds.size.height = bounds.size.width;
            bounds.size.width = boundHeight;
            transform = CGAffineTransformMakeTranslation(imageSize.height, imageSize.width);
            transform = CGAffineTransformScale(transform, -1.0, 1.0);
            transform = CGAffineTransformRotate(transform, 3.0 * M_PI / 2.0);
            break;

        case UIImageOrientationLeft: //EXIF = 6
            boundHeight = bounds.size.height;
            bounds.size.height = bounds.size.width;
            bounds.size.width = boundHeight;
            transform = CGAffineTransformMakeTranslation(0.0, imageSize.width);
            transform = CGAffineTransformRotate(transform, 3.0 * M_PI / 2.0);
            break;

        case UIImageOrientationRightMirrored: //EXIF = 7
            boundHeight = bounds.size.height;
            bounds.size.height = bounds.size.width;
            bounds.size.width = boundHeight;
            transform = CGAffineTransformMakeScale(-1.0, 1.0);
            transform = CGAffineTransformRotate(transform, M_PI / 2.0);
            break;

        case UIImageOrientationRight: //EXIF = 8
            boundHeight = bounds.size.height;
            bounds.size.height = bounds.size.width;
            bounds.size.width = boundHeight;
            transform = CGAffineTransformMakeTranslation(imageSize.height, 0.0);
            transform = CGAffineTransformRotate(transform, M_PI / 2.0);
            break;

        default:
            [NSException raise:NSInternalInconsistencyException format:@"Invalid image orientation"];

    }

    UIGraphicsBeginImageContext(bounds.size);

    CGContextRef context = UIGraphicsGetCurrentContext();

    if (orient == UIImageOrientationRight || orient == UIImageOrientationLeft) {
        CGContextScaleCTM(context, -scaleRatio, scaleRatio);
        CGContextTranslateCTM(context, -height, 0);
    }
    else {
        CGContextScaleCTM(context, scaleRatio, -scaleRatio);
        CGContextTranslateCTM(context, 0, -height);
    }

    CGContextConcatCTM(context, transform);

    CGContextDrawImage(UIGraphicsGetCurrentContext(), CGRectMake(0, 0, width, height), imgRef);
    UIImage *imageCopy = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();

    return imageCopy;
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-12-08T16:56:51.467

对于您的 Swift 2.1 项目，这是@marcelosalloum 代码的翻译：

```
func scaleAndRotateImage(image: UIImage, kMaxResolution: CGFloat) -> UIImage {
    var imageCopy: UIImage = image
    if let imgRef: CGImageRef = image.CGImage {

        let width = CGFloat(CGImageGetWidth(imgRef))
        let height = CGFloat(CGImageGetHeight(imgRef))

        var transform = CGAffineTransformIdentity
        var bounds = CGRectMake(0, 0, width, height)

        if width > kMaxResolution || height > kMaxResolution {
            let ratio = width/height
            if ratio > 1 {
                bounds.size.width = kMaxResolution
                bounds.size.height = bounds.size.width / ratio
            } else {
                bounds.size.height = kMaxResolution
                bounds.size.width = bounds.size.height * ratio
            }
        }

        let scaleRatio = bounds.size.width / width
        let imageSize = CGSizeMake(width, height)
        let boundHeight: CGFloat
        let orient: UIImageOrientation = image.imageOrientation
        switch orient {
        case .Up:
            transform = CGAffineTransformIdentity

        case .UpMirrored:
            transform = CGAffineTransformMakeTranslation(imageSize.width, 0.0)
            transform = CGAffineTransformScale(transform, -1.0, 1.0)

        case .Down:
            transform = CGAffineTransformMakeTranslation(imageSize.width, imageSize.height)
            transform = CGAffineTransformRotate(transform, CGFloat(M_PI))

        case .DownMirrored: //EXIF = 4
            transform = CGAffineTransformMakeTranslation(0.0, imageSize.height);
            transform = CGAffineTransformScale(transform, 1.0, -1.0);

        case .LeftMirrored: //EXIF = 5
            boundHeight = bounds.size.height;
            bounds.size.height = bounds.size.width;
            bounds.size.width = boundHeight;
            transform = CGAffineTransformMakeTranslation(imageSize.height, imageSize.width);
            transform = CGAffineTransformScale(transform, -1.0, 1.0);
            transform = CGAffineTransformRotate(transform, 3.0 * CGFloat(M_PI) / 2.0);

        case .Left: //EXIF = 6
            boundHeight = bounds.size.height;
            bounds.size.height = bounds.size.width;
            bounds.size.width = boundHeight;
            transform = CGAffineTransformMakeTranslation(0.0, imageSize.width);
            transform = CGAffineTransformRotate(transform, 3.0 * CGFloat(M_PI) / 2.0);

        case .RightMirrored: //EXIF = 7
            boundHeight = bounds.size.height;
            bounds.size.height = bounds.size.width;
            bounds.size.width = boundHeight;
            transform = CGAffineTransformMakeScale(-1.0, 1.0);
            transform = CGAffineTransformRotate(transform, CGFloat(M_PI) / 2.0);

        case .Right: //EXIF = 8
            boundHeight = bounds.size.height;
            bounds.size.height = bounds.size.width;
            bounds.size.width = boundHeight;
            transform = CGAffineTransformMakeTranslation(imageSize.height, 0.0);
            transform = CGAffineTransformRotate(transform, CGFloat(M_PI) / 2.0);
        }
        UIGraphicsBeginImageContext(bounds.size)

        if let context: CGContextRef = UIGraphicsGetCurrentContext() {
            if orient == .Right || orient == .Left {
                CGContextScaleCTM(context, -scaleRatio, scaleRatio)
                CGContextTranslateCTM(context, -height, 0)
            } else {
                CGContextScaleCTM(context, scaleRatio, -scaleRatio)
                CGContextTranslateCTM(context, 0, -height)
            }

            CGContextConcatCTM(context, transform)

            CGContextDrawImage(UIGraphicsGetCurrentContext(), CGRectMake(0,0,width,height), imgRef)
            imageCopy = UIGraphicsGetImageFromCurrentImageContext()
            UIGraphicsEndImageContext()
        }
    }
    return imageCopy
} 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-04-04T16:28:45.107

[marcelosalloum 的答案](https://stackoverflow.com/a/27302139/844710)的快速 3 翻译：

```
private func scale(image originalImage: UIImage, toLessThan maxResolution: CGFloat) -> UIImage? {
    guard let imageReference = originalImage.cgImage else { return nil }

    let rotate90 = CGFloat.pi/2.0 // Radians
    let rotate180 = CGFloat.pi // Radians
    let rotate270 = 3.0*CGFloat.pi/2.0 // Radians

    let originalWidth = CGFloat(imageReference.width)
    let originalHeight = CGFloat(imageReference.height)
    let originalOrientation = originalImage.imageOrientation

    var newWidth = originalWidth
    var newHeight = originalHeight

    if originalWidth > maxResolution || originalHeight > maxResolution {
        let aspectRatio: CGFloat = originalWidth / originalHeight
        newWidth = aspectRatio > 1 ? maxResolution : maxResolution * aspectRatio
        newHeight = aspectRatio > 1 ? maxResolution / aspectRatio : maxResolution
    }

    let scaleRatio: CGFloat = newWidth / originalWidth
    var scale: CGAffineTransform = .init(scaleX: scaleRatio, y: -scaleRatio)
    scale = scale.translatedBy(x: 0.0, y: -originalHeight)

    var rotateAndMirror: CGAffineTransform

    switch originalOrientation {
    case .up:
        rotateAndMirror = .identity

    case .upMirrored:
        rotateAndMirror = .init(translationX: originalWidth, y: 0.0)
        rotateAndMirror = rotateAndMirror.scaledBy(x: -1.0, y: 1.0)

    case .down:
        rotateAndMirror = .init(translationX: originalWidth, y: originalHeight)
        rotateAndMirror = rotateAndMirror.rotated(by: rotate180 )

    case .downMirrored:
        rotateAndMirror = .init(translationX: 0.0, y: originalHeight)
        rotateAndMirror = rotateAndMirror.scaledBy(x: 1.0, y: -1.0)

    case .left:
        (newWidth, newHeight) = (newHeight, newWidth)
        rotateAndMirror = .init(translationX: 0.0, y: originalWidth)
        rotateAndMirror = rotateAndMirror.rotated(by: rotate270)
        scale = .init(scaleX: -scaleRatio, y: scaleRatio)
        scale = scale.translatedBy(x: -originalHeight, y: 0.0)

    case .leftMirrored:
        (newWidth, newHeight) = (newHeight, newWidth)
        rotateAndMirror = .init(translationX: originalHeight, y: originalWidth)
        rotateAndMirror = rotateAndMirror.scaledBy(x: -1.0, y: 1.0)
        rotateAndMirror = rotateAndMirror.rotated(by: rotate270)

    case .right:
        (newWidth, newHeight) = (newHeight, newWidth)
        rotateAndMirror = .init(translationX: originalHeight, y: 0.0)
        rotateAndMirror = rotateAndMirror.rotated(by: rotate90)
        scale = .init(scaleX: -scaleRatio, y: scaleRatio)
        scale = scale.translatedBy(x: -originalHeight, y: 0.0)

    case .rightMirrored:
        (newWidth, newHeight) = (newHeight, newWidth)
        rotateAndMirror = .init(scaleX: -1.0, y: 1.0)
        rotateAndMirror = rotateAndMirror.rotated(by: CGFloat.pi/2.0)
    }

    UIGraphicsBeginImageContext(CGSize(width: newWidth, height: newHeight))
    guard let context = UIGraphicsGetCurrentContext() else { return nil }
    context.concatenate(scale)
    context.concatenate(rotateAndMirror)
    context.draw(imageReference, in: CGRect(x: 0, y: 0, width: originalWidth, height: originalHeight))
    let copy = UIGraphicsGetImageFromCurrentImageContext()
    UIGraphicsEndImageContext()

    return copy
  } 
```

# mysql - Mysql select查询不返回确切结果

> ID：12258281
> 
> 赞同：1
> 
> 时间：2012-09-04T06:59:21.990
> 
> 标签：mysql

我有两个名为 User、Holiday 的表。现在我的目标是搜索用户。我需要通过用户表中的名称或假日表中的城市来搜索用户。如果我按名称搜索，则应显示用户表中的名称和假期表中的城市。如果我按城市搜索，则应显示假日表中的城市和用户表中的姓名。

用户表:: ![](../Images/22e3db73037ca02c935ae9b21e214a78.png)

假期表 ![在此处输入图像描述](../Images/f7dbe7c796863208a795ce414990855e.png)

我尝试了以下方法::

```
 SELECT * FROM `holiday`,`user` 
          WHERE holiday.UserID=user.UserID 
                and user.Name like '%Bre%' 
                or holiday.City like '%Bre%' 
```

但 ：（

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:06:45.723

我希望你使用 LEFT JOIN，

```
 SELECT user.Name,holiday.City FROM  `user` LEFT JOIN `holiday`
                  ON user.UserID  =holiday.UserID
                        WHERE (user.Name like '%Bre%' 
                        or holiday.City like '%Bre%') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:04:00.767

你不能使用`select *`，因为在两个表中有一些列具有相同的名称，例如 UserID。

试试这个：

```
SELECT `user`.userID, `user`.Name, `holiday`.city 
FROM `holiday`,`user` 
WHERE holiday.UserID=user.UserID 
      and user.Name like '%Bre%' 
      or holiday.City like '%Bre%' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T07:04:24.697

尝试：

```
 SELECT * FROM `user` left join `holiday` on holiday.UserID=user.UserID 
      WHERE user.Name like '%Bre%' 
            or holiday.City like '%Bre%' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-04T07:07:49.480

试试这个：

```
SELECT 
  * 
FROM 
  `holiday` h
LEFT JOIN 
 `user` u
ON 
  h.UserID = u.UserID
WHERE
  u.Name like '%Bre%' or h.City like '%Bre%' 
```

请注意，给定您的表格，不会返回任何结果。

# javascript - TypeError：$ 不是 WordPress 的函数

> ID：12258282
> 
> 赞同：58
> 
> 时间：2012-09-04T06:59:23.160
> 
> 标签：javascript, jquery, wordpress

`.js`我购买的主题中的文档可能有错误：

```
$('.tagcloud a').wrap('<span class="st_tag" />'); 
```

我正在尝试解决它，但我不是程序员，所以我不知道如何解决。该网站是这样的：[http](http://www.framerental.com) ://www.framerental.com 。

* * *

## 回答 #1

> 赞同：142
> 
> 时间：2012-09-04T07:10:47.763

您使用`jQuery.noConflict();`So`$`是未定义的。

你可以在这里阅读更多关于它的[文档](http://api.jquery.com/jQuery.noConflict/)

尝试以这种方式修改您的代码（将`$`符号添加到就绪函数）：

```
jQuery(document).ready(function($) {
    // Code that uses jQuery's $ can follow here.
}); 
```

* * *

## 回答 #2

> 赞同：40
> 
> 时间：2014-01-05T13:48:26.217

功能错误在几乎所有内容管理系统中都很常见，有几种方法可以解决这个问题。

1.  使用以下方法包装您的代码：

    ```
    <script> 
    jQuery(function($) {

    YOUR CODE GOES HERE

    });
    </script> 
    ```

2.  您还可以使用 jQuery 的 API[`noConflict();`](http://api.jquery.com/jquery.noconflict/)

    ```
    <script>
    $.noConflict();
    jQuery( document ).ready(function( $ ) {
    // Code that uses jQuery's $ can follow here.
    });
    // Code that uses other library's $ can follow here.
    </script> 
    ```

3.  另一个使用 noConflict 而不使用 document ready 的例子：

    ```
    <script>
    jQuery.noConflict();
        (function( $ ) {
            $(function() { 
                // YOUR CODE HERE
            });
         });
    </script> 
    ```

4.  您甚至可以选择创建自己的别名以避免这样的冲突：

    ```
    var jExample = jQuery.noConflict();
    // Do something with jQuery
    jExample( "div p" ).hide(); 
    ```

5.  另一个更长的解决方案是将 $ 的所有引用重命名为 jQuery：

    `$( "div p" ).hide();`至`jQuery( "div p" ).hide();`

* * *

## 回答 #3

> 赞同：20
> 
> 时间：2017-02-27T17:32:56.057

而不是这样做：

```
$(document).ready(function() { }); 
```

你应该这样做：

```
jQuery(document).ready(function($) {

    // your code goes here

}); 
```

这是因为 WordPress 可能在将来或现在将 $ 用于 jQuery 以外的其他东西，因此您需要以 $ 只能在 jQuery 文档就绪回调中使用的方式加载 jQuery。

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2016-02-18T13:05:42.663

只需添加以下内容：

```
<script>
var $ = jQuery.noConflict();
</script> 
```

到 header.php 中的 head 标签。或者，如果您想在管理区域（或不使用 header.php 的地方）中使用美元符号，就在您想要使用它的地方之前。

（可能存在一些我不知道的冲突，请对其进行测试，如果有，请使用此处或以下链接提供的其他解决方案。）

资料来源： http: [//www.wpdevsolutions.com/use-the-dollar-sign-in-wordpress-instead-of-jquery/](http://www.wpdevsolutions.com/use-the-dollar-sign-in-wordpress-instead-of-jquery/)

* * *

## 回答 #5

> 赞同：9
> 
> 时间：2012-09-04T07:34:15.823

正如一些人所建议的那样，您要么不包括 jquery toolkit/lib，要么存在各种冲突。测试：包括 jQuery 并像这样测试：

```
console.log($);
console.log($ === jQuery); 
```

如果`$`不是未定义的，并且`$ === jQuery`记录为假，那么您肯定会遇到冲突。用你的替换可以`$`解决`jQuery`这个问题，但这可能非常乏味（所有额外的输入......）。通常我开始我的脚本`$jq = _$ = jQuery;`至少有一个对 jQuery 对象的更短的引用。
当然，在您这样做之前，请检查您是否不小心覆盖了预先设置的变量：当然，`console.log($jq, _jQ, _$);`无论哪个*不* `undefined`应该被单独留下

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2017-03-22T09:41:39.493

我添加了一个在该部分末尾加载的自定义脚本文件`head`，并在顶部插入了以下内容：

```
(function (jQuery) {
    window.$ = jQuery.noConflict();
})(jQuery); 
```

（这是对Fanky答案的修改）

* * *

## 回答 #7

> 赞同：9
> 
> 时间：2017-11-14T09:57:14.887

除了 noConflict，这也很有帮助：

```
(function( $ ) {
    // Variables and DOM Caching using $.
    var body = $('body');
    console.log(body);
})( jQuery ); 
```

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2012-09-04T07:09:09.293

如果你已经包含了 jQuery，可能会有冲突。尝试使用`jQuery`而不是`$`.

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2019-11-26T00:55:00.890

有一种简单的方法可以修复它。只需安装一个[插件](https://github.com/LuRenJiasWorld/jQuery-WP53-Fix)并激活它。更多信息：[https](https://www.aitlp.com/wordpress-5-3-is-not-a-function-fix/) ://www.aitlp.com/wordpress-5-3-is-not-a-function-fix/ 。

使用 Wordpress 5.3 版测试。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-03-27T01:55:17.980

我在我的 WordPress 网站中遇到了与 jquery 相同的问题，我通过重新排列脚本解决了这个问题。

[![在此处输入图像描述](../Images/cfce46797330f390e72c7c14f01a7749.png)](https://i.stack.imgur.com/r62KE.png)

如果 aowl 首先在我的网站中加载，那么我会在问题上提到错误。

并确保 jquery 在 aowl carousel 脚本之前首先加载，然后添加下面的代码，错误不应该出现。希望它可以帮助将来的人。

```
 jQuery(document).ready(function($) {
        // Code that uses jQuery's $ can follow here.
    }); 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-11-07T18:54:08.767

我能够很容易地解决这个我简单的排队 jQuery `wp_enqueue_script("jquery");`

* * *

## 回答 #12

> 赞同：-5
> 
> 时间：2012-09-04T07:05:39.930

[jQuery](https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js)可能会丢失。

`<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>`

# ios - iOS：UIScrollView 检测滑动手势

> ID：12258289
> 
> 赞同：6
> 
> 时间：2012-09-04T06:59:52.473
> 
> 标签：ios, uiscrollview, uigesturerecognizer

我有一个 UIScrollView，它使用一个计时器自动滚动，它每 3 秒滚动一次到下一页（一种幻灯片）。

现在我想实现一个检测任何用户交互的功能，一旦用户与滚动视图交互就取消定时器，这样他就可以自己滚动滚动视图。

最好的方法是什么？ScrollView 不是子类，而是使用 UIScrollViewDelegate。

会很高兴一些提示。干杯。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-04T07:06:09.870

UIScrollViewDelegate 有一个方法来检测用户何时“开始”拖动：

```
- (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView
{
    // disable timer here
} 
```

# html - 用于“多窗格布局”的 HTML5 库 (CSS/JS)

> ID：12258293
> 
> 赞同：2
> 
> 时间：2012-09-04T07:00:06.360
> 
> 标签：html, mobile-website

多[窗格布局](http://developer.android.com/design/patterns/multi-pane-layouts.html)在移动应用程序中非常常见：

![安卓示例](../Images/01b5a36705d76d0af48eb93ee296219a.png)

如果您在手机或平板电脑上使用过 Facebook、Twitter、Gmail 或许多其他应用程序，您就会熟悉这种风格。

我想在移动版网站中实现这种风格的界面。我对如何从头开始滚动这个有一个非常清楚的想法，但这感觉就像重新发明轮子。

是否有任何现有的库可以使使用 HTML 更容易？

这种布局是否有更一致的名称（即 iOS、Win、RIM 和 Android 通用）（Google 上的“多窗格布局”出现了很多 Android 应用程序解决方案，但我需要这个用于网站，而不是一个应用程序）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T16:48:35.970

我相信[Enyo](http://enyojs.com/)支持多面板布局。

# c# - 有没有办法在 C# 中使用 MongoDB ObjectId 作为可选参数而不重载函数

> ID：12258294
> 
> 赞同：2
> 
> 时间：2012-09-04T07:00:31.567
> 
> 标签：c#, mongodb, optional-parameters, objectid

通常，您不能将 ObjectId 作为 C# 中的可选参数，因为 ObjectId 是一个没有“设计时间常数”默认值的结构。

ObjectId.Empty 是一个执行代码的属性，并且出于同样的原因不允许使用 default(ObjectId)。

有没有人有关于如何创建一个有效的设计时间常数的解决方案，以便以下语句起作用？（这不是真正的方法，而是一个例子）

```
MyObject LoadOrCreate(ObjectId id = somedefaultvalue)
{} 
```

如果我在上面的任何例子中尝试这个，它不会编译？

我当然可以使用方法的单独重载，但我宁愿使用选项而不是重载。

正如我在对第一个答案的评论中指出的那样，可为空是一种选择，但由于必须强制转换为不可为空，我更喜欢不使用它。

所以我仍在寻找一些“更好”的解决方案；）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-04T07:06:49.703

使其可空并默认为空？

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-06T03:07:17.103

试试这个：

```
public static void SomeMethod(ObjectId id = default(ObjectId))
{
    // do something
} 
```

# jquery - 使两个 jquery 脚本一起工作

> ID：12258295
> 
> 赞同：2
> 
> 时间：2012-09-04T07:00:46.390
> 
> 标签：jquery

我是一个 jquery newby，想知道如何让这两个脚本相互“交谈”：

```
<form action="" method="post">
<fieldset>
<div id="selextender"></div>
<p><a href="#" id="seladd">Add</a></p>
</fieldset>
</form>    

$(function () {
     $('a#seladd').click(function () {
         $('<p><select name="items[]"><option value="1">One</option><option value="2">Two</option><option value="3">Three</option></select><a href="#" class="remove">Remove</a></p>').fadeIn("slow").appendTo('#selextender');
         return false;
     });
     $('.remove').live('click', function () {
         $(this).parent().fadeOut(300, function () {
             $(this).empty();
             return false;
         });
     });
 }); 
```

示例：http: [//jsfiddle.net/UV6Tw/](http://jsfiddle.net/UV6Tw/)

以上复制了我的选择框 - 我如何合并以下内容以动态添加选择框选项并仍然复制选择框？

```
 $(document).ready(function () {
     $('select[name="products"]').focus(function () {
         if ($('option', this).length < 2) {
             $.getJSON('products.php?product=' + $(this).attr('value'), outputProducts);
         }
     })
 });

 function outputProducts(response) {
     $('select[name="products"]').html(response.html).attr('selectedIndex', response.index);
     return true;
 }

<form action="#" method="post">
<select name="products">
<option selected="selected">Please select</option>
</select>   
</form> 
```

任何帮助将不胜感激，谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T09:54:44.307

给定一些看起来像这样的 html：

```
<form action="#" method="post">
<div id="selextender"></div>
<p><a href="#" id="seladd">Add</a></p>
</form> 
```

您可以添加一个新的选择，并在它集中时使用 ajax 加载您的数据：

```
//set a counter
var i = $('input').size() + 1;   

//add select
$('a#seladd').click(function() {
    $('<p><select name="product"><option value="0">Please select</option></select><a href="#" class="remove">Remove</a></p>').fadeIn("slow").appendTo('#selextender');         
    return false;
});

//fadeout selected item and remove
$('.remove').live('click', function() {
    $(this).parent().fadeOut(300, function(){
        $(this).empty();
        return false;
    });
});

// dynamically load options when focused.
$('select[name="product"]').live('focus',function(){
    var $this = $(this);
    $this.children(':first').text('please wait.... loading.');
    $.ajax({
        type: 'GET',
        url: 'products.php?product=' + $this.attr('value'),
        success: function(data){
           $this.html(data);
        }                
    });
}); 
```

我在这里模拟了一个现场示例：http: [//jsfiddle.net/SJP8h/](http://jsfiddle.net/SJP8h/)（但是，请注意这使用了 jsfiddle 的模拟 ajax 调用）

# javascript - 有没有办法将 mouseOver 上的个人文本添加到 fullcalendar

> ID：12258298
> 
> 赞同：2
> 
> 时间：2012-09-04T07:00:58.990
> 
> 标签：javascript, jquery, css, fullcalendar, mouseover

我正在尝试将个人文本添加到完整日历中的鼠标悬停。下面的脚本仅适用于事件的标题。示例：[JS 小提琴示例](http://jsfiddle.net/G6K6Y/358/)。请问如何让鼠标悬停显示我的个人文本。

## JavaScript

```
$(document).ready(function() {

var date = new Date();
var d = date.getDate();
var m = date.getMonth();
var y = date.getFullYear();

$('#calendar').fullCalendar({
    theme: true,
    header: {
        left: 'prev,next today',
        center: 'title',
        right: 'month,agendaWeek,agendaDay'
    },
    editable: true,

    // add event name to title attribute on mouseover
    eventMouseover: function(event, jsEvent, view) {
        if (view.name !== 'agendaDay') {
            $(jsEvent.target).attr('title', event.title);
        }
    },

    // For DEMO only
    // *************
    events: [
        {
        title: 'All Day Event',
        start: new Date(y, m, 1)},
    {
        title: 'Long Event',
        start: new Date(y, m, d - 5),
        end: new Date(y, m, d - 2)},
    {
        id: 999,
        title: 'Repeating Event',
        start: new Date(y, m, d - 3, 16, 0),
        allDay: false},
    {
        id: 999,
        title: 'Repeating Event',
        start: new Date(y, m, d + 4, 16, 0),
        allDay: false},
    {
        title: 'Meeting',
        start: new Date(y, m, d, 10, 30),
        allDay: false},
    {
        title: 'Lunch',
        start: new Date(y, m, d, 12, 0),
        end: new Date(y, m, d, 14, 0),
        allDay: false},
    {
        title: 'Birthday Party',
        start: new Date(y, m, d + 1, 19, 0),
        end: new Date(y, m, d + 1, 22, 30),
        allDay: false},
    {
        title: 'Click for Google',
        start: new Date(y, m, 28),
        end: new Date(y, m, 29),
        url: 'http://google.com/'}
    ]
});

});​ 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-04T15:10:49.697

您可以使用`eventRender`回调来执行此操作。

检查这个小提琴：http: [//jsfiddle.net/100thGear/h9cC6/](http://jsfiddle.net/100thGear/h9cC6/)

让我知道这是否有帮助！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T08:26:56.087

```
$(document).ready(function() {

var date = new Date();
var d = date.getDate();
var m = date.getMonth();
var y = date.getFullYear();
var additionaltext="this is aditional text";

$('#calendar').fullCalendar({
    theme: true,
    header: {
        left: 'prev,next today',
        center: 'title',
        right: 'month,agendaWeek,agendaDay'
    },
    editable: true,

    // add event name to title attribute on mouseover
    eventMouseover: function(event, jsEvent, view) {
        if (view.name !== 'agendaDay') {
            $(jsEvent.target).attr('title', event.title);
        }
    },

    // For DEMO only
    // *************
    events: [
        {
        title: 'All Day Event' + additionaltext,
        start: new Date(y, m, 1)},
    {
        title: 'Long Event' + additionaltext,
        start: new Date(y, m, d - 5),
        end: new Date(y, m, d - 2)},
    {
        id: 999,
        title: 'Repeating Event' + additionaltext,
        start: new Date(y, m, d - 3, 16, 0),
        allDay: false},
    {
        id: 999,
        title: 'Repeating Event' + additionaltext,
        start: new Date(y, m, d + 4, 16, 0),
        allDay: false},
    {
        title: 'Meeting' + additionaltext,
        start: new Date(y, m, d, 10, 30),
        allDay: false},
    {
        title: 'Lunch' + additionaltext,
        start: new Date(y, m, d, 12, 0),
        end: new Date(y, m, d, 14, 0),
        allDay: false},
    {
        title: 'Birthday Party',
        start: new Date(y, m, d + 1, 19, 0),
        end: new Date(y, m, d + 1, 22, 30),
        allDay: false},
    {
        title: 'Click for Google' + additionaltext,
        start: new Date(y, m, 28),
        end: new Date(y, m, 29),
        url: 'http://google.com/'}
    ]
});

});​ 
```

寻找它你是否在等待相同如果是标记为答案

# php - 在字符串中的每 12 个字符后添加一个分词标记

> ID：12258300
> 
> 赞同：0
> 
> 时间：2012-09-04T07:00:59.950
> 
> 标签：php, html, string

```
$my_string = "Lorem Ipsum is simply dummy text of the printing and typesetting industry." 
```

预期结果 ：

```
"Lorem Ipsum <br/> is simply<br/> dummy text<br/>of the printing<br/> and typesetting<br/> industry." 
```

应在每 12 个字符后添加标签，而不是这样：

```
There are ma<br/>ny variations 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-04T07:03:59.260

[**用wordwrap**](http://www.php.net/manual/en/function.wordwrap.php)试试看。我认为它应该可以解决您的问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:06:41.023

试试这个

```
$newtext = wordwrap($text,12, "<br />"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T07:07:36.647

```
$text = "Lorem Ipsum is simply dummy text of the printing and typesetting industry.";
$newtext = wordwrap($text, 12, "<br />\n");

echo $newtext; 
```

输出：

```
Lorem Ipsum
is simply
dummy text
of the
printing and
typesetting
industry. 

http://www.php.net/manual/en/function.wordwrap.php 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-04T07:08:40.593

只是用一个例子来扩展Shakti的答案：

```
$my_string = "Lorem Ipsum is simply dummy text of the printing and typesetting industry.";
$my_wrapped_string = wordwrap($my_string, 12, '<br />'); 
```

的值`$my_wrapped_string`将是`Lorem Ipsum<br />is simply<br />dummy text<br />of the<br />printing and<br />typesetting<br />industry.`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-04T13:20:29.463

您的预期结果在空间和休息方面似乎非常不一致。听起来你想要一些定制的解决方案，更像是你所追求的：

```
$array = $my_string.explode(" ");

counter = 0;
for(index=0; index<array.length; index++){
    counter += array[index].length+1;
    if(counter > 12){
        array[index-1] += "<br>"; //put some error handling here
        counter = 0;
    }
}

//then convert back to string and do whatever 
// - I tested this in JS and it worked fine 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-12-15T13:17:18.453

```
<?php
$text = "A very long woooooooooooooooooord. and something";
$newtext = wordwrap($text, 8, "\n", false);

echo "$newtext\n";
?> 
```

上面的示例将输出：

```
A very
long
woooooooooooooooooord.
and
something 
```

# java - ProGuard 混淆

> ID：12258303
> 
> 赞同：1
> 
> 时间：2012-09-04T07:01:17.583
> 
> 标签：java, jar, obfuscation, proguard, executable-jar

我可以使用 Ant 脚本用 ProGuard 混淆我的应用程序。我按照下列步骤操作：[混淆 NetBeans Java 应用程序项目](http://netbeans.dzone.com/tips/obfuscating-netbeans-java-appl)

但是当我尝试通过双击或使用来运行 jar 时`java -jar myjarname.jar`，它会给出 VM 错误。但是它通过使用执行`java -cp myjarname.jar com.mypackage.myclass`

你能帮我如何指定清单吗？或者让我知道如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:17:45.917

您是否尝试过将文件`MANIFEST.MF`放入 JAR 的根目录中，其内容类似于以下内容：

```
Manifest-Version: 1.0
Main-Class: com.mypackage.myclass 
```

仅供参考，Main-Class 表示执行 jar 文件时应运行的类。

# javascript - 如何使用 Javascript 更改 HTML 元素的类？

> ID：12258306
> 
> 赞同：0
> 
> 时间：2012-09-04T07:01:42.373
> 
> 标签：javascript, jquery, html, css

我创建了一个 cms 主题，它有一些我想在现场演示中展示的自定义功能。基本上我想添加 Javascript 样式切换器或修饰符。我希望用户从复选框中选择一些值或选择标签，并且选择的值应该反映在 html 元素上。例如，

我的页面容器是

```
<div id="container"> <!--PAGE GOES HERE --> </div> 
```

如果用户在选择此选项时单击“配色方案蓝色”，我希望我的容器添加“blue_theme”类

```
<div id="container" class="blue_theme" > <!--PAGE GOES HERE --> </div> 
```

另外，是否可以像这样直接更改css属性

```
/* Base property */
#container{
background:red;
} 
```

如果用户在选择此选项时单击“配色方案蓝色”，我想让我的容器成为

```
/* Base property */
#container{
background:blue;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:24:41.070

你也可以用 CSS 来做。像这样写：

**HTML**

```
<input type="radio" name="color" class="red"/> Red
<input type="radio" name="color" class="blue" /> Blue
<div id="container" for>
    choose theme:
</div> 
```

**CSS**

```
#container {
    width: 100%;
    height: 500px;
    overflow: auto;
}

.red:checked ~ #container { background: red}
.blue:checked ~ #container  { background: blue } 
```

检查这个 [http://jsfiddle.net/wd6Cr/1/](http://jsfiddle.net/wd6Cr/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:13:21.817

# 你在尝试这样的事情：

## 解决方案1：

**HTML：**

```
<div id="container">
    choose theme:
    <input type="radio" name="radio-theme" data-color="red" /> Red
    <input type="radio" name="radio-theme" data-color="blue" /> Blue
</div>​ 
```

**jQuery**

```
$("#container").find("input[type=radio]").on("change", function(){
    var dataTheme = $(this).data("color");
    $("#container").removeAttr("class");
    $("#container").addClass(dataTheme);   
});​ 
```

## [演示 1](http://jsfiddle.net/akhurshid/wd6Cr/)

## 解决方案2：

**HTML：**

```
<div id="container">
    choose theme:
    <input type="checkbox" name="radio-theme" data-color="red" /> Red
    <input type="checkbox" name="radio-theme" data-color="blue" /> Blue
</div>​ 
```

**jQuery：**

```
$("#container").find("input[type=checkbox]").on("change", function(){    
    var dataTheme = $(this).data("color");    
    if( $(this).is(":checked") ) {        
        $("#container").removeAttr("class");
        $("#container").addClass(dataTheme);         
    } else {
        $("#container").removeAttr("class"); 
    }  
});​ 
```

## [演示 2](http://jsfiddle.net/akhurshid/pDkAX/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T07:16:36.463

如果您想使用 jQuery 为其添加样式，您可以执行以下操作：

```
$('#container').css({
    "background-color" : "blue",
    "color" : "red"
}); 
```

或者，您可以在用户单击按钮时为其添加一个类：

```
<label for="blue_theme">Blue</label>
<input type="checkbox" id="blue_theme"/>
<div id="container"></div>​

$("#blue_theme").click(function() {
    $("#container").attr('class', 'blue_theme');
})​ 
```

例如）[http://jsfiddle.net/charlescarver/jp8UL/](http://jsfiddle.net/charlescarver/jp8UL/)

此外，您应该注意，如果您希望样式在页面加载时保持不变，您可能需要设置一个 cookie。我会看看GitHub 上的[jQuery Cookie](https://github.com/carhartl/jquery-cookie)。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-04T07:18:10.183

使用类而不是 ID，您的函数和 HTML 可能如下所示：

HTML：

```
<ul id="changer">
  <li class="blue">Blue color</li>
  <li class="red">Red color</li>
</ul>
<div id="container"></div> 
```

jQuery

```
var $container = $('#container');
$('#changer').on('click', 'li', function(){

  var $this = $(this),
      $color = $this.attr('class');

  $container.removeClass().addClass($color);

}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-08-23T10:45:43.537

用这个：

```
$('#bluebttn').click(function(){
    $('#container').removeClass().addClass('blue_theme') ;
}); 
```

假设

你的蓝色按钮的 ID 是#bluebttn

你的蓝色 css 类的名称是 blue_theme

*重复其他颜色。*

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-08-20T06:28:39.203

你可以使用这个纯 JavaScript 来做到这一点

```
colorOption.onchange = function() {
    var colorValue = option[colorOption.selectedIndex].value;
        template.style.background = colorValue;
        template.innerHTML = template.innerHTML;
}; 
```

[你可以使用这个jsfiddle](http://jsfiddle.net/thanushcst/u5Lnuzc4/1/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-08-26T16:39:59.797

如果您不想添加或删除类并且只想更改颜色，您可以试试这个。

```
 $('#yourbutton').click(function(){
        $('#container').css('background-color', 'blue');
    }); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-01-29T12:04:38.777

像这样的东西：http: [//jsbin.com/EKEYOfEl/4/](http://jsbin.com/EKEYOfEl/4/)

**HTML**：

```
<select class="themeSwitch">
    <option value="red">Red</option>
    <option value="blue">Blue</option>
</select>     
<div id="container"> <!--PAGE GOES HERE --> </div> 
```

**CSS**：

```
#container{
    background:red;
    height:100px;
    width:100%;
}

.custom_class_added{
    background:blue !important;
} 
```

**JS**：

```
$(document).on("change", ".themeSwitch", function(){
    var theme = $(this).val();
    if(theme=="red"){     
        $("#container").removeClass("custom_class_added");
    }else if(theme=="blue"){
        $("#container").addClass("custom_class_added");
    }
}); 
```

现在通过更改选择框的值，您可以通过切换 css 类来简单地更改背景颜色。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-09-04T07:05:34.350

尝试这个：

```
$(".button").click(function(){
    $("#container").attr('class','custom_class_added');
}) 
```

您也可以使用 addClass() 和 removeClass()，具体取决于您的功能

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-09-04T07:06:10.587

设置一个类而不是更改`<div>`. 特别是因为 ID 名称中不允许有空格。

HTML（改变状态）

```
<div id="container" class="custom_class_added"> 
```

CSS

```
#container.custom_class_added{
    background: blue;
} 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2012-09-04T07:08:15.377

对于添加类，[addClass()](http://api.jquery.com/addClass/)：

```
$('#container').addClass('custom_class_added'); 
```

对于更改 css，[css()](http://api.jquery.com/css/)：

```
$('#container').css('color', 'blue'); 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2012-09-04T07:08:51.117

`$('#container).css({'background-color' : 'blue'});`在您的 onchange 事件中使用。这应该适用于 CSS 样式部分。
至于要在标签中添加类的部分，请使用`$('#container).attr('class', 'custom_class_added');`，这会将类属性添加到标签中。

将此代码用于选择框之类的表单元素将如下所示：

```
<select id="mySelectBox">
    <option value="blue">Blue</option>
    <option value="green">Green</option>
</select>

<script type="text/javascript">
    $(document).ready(function(){
        $("#mySelectBox").change(function(){
            $("#theElementYouWant").css({"background-color" : $("#mySelectBox").val()});
        });
    });
</script> 
```

要使用`$('#container).attr('class', 'custom_class_added');`代码，您可以将其放置在`<script></script>`标签之间的任何位置。

# asp.net-mvc - 实体框架中的 DropCreateDatabaseIfModelChanges 工作，但我希望在我们更改模型或添加你的类时不要删除数据库中的数据？

> ID：12258309
> 
> 赞同：1
> 
> 时间：2012-09-04T07:01:43.647
> 
> 标签：asp.net-mvc, entity-framework, ef-code-first

我刚刚开始使用实体框架。我使用了数据库初始化器。我想要做的是更改数据库的属性，例如添加表、字段和 ol。
使用`DropCreateDatabaseIfModelChanges`它可以工作，但数据库中的数据被删除。那么有什么方法可以在不删除以前数据的情况下更改数据库属性？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T08:48:50.077

查看[实体框架代码优先数据库迁移](http://msdn.microsoft.com/en-US/data/jj591621)。另一个在工作中看到这一点的地方是[Scott Guthrie 的这段视频](http://channel9.msdn.com/Events/TechDays/Techdays-2012-the-Netherlands/2364)。

# jquery - Jquery选择器：获取除多个选择框外的所有选择框

> ID：12258312
> 
> 赞同：1
> 
> 时间：2012-09-04T07:01:52.653
> 
> 标签：jquery, jquery-selectors

我正在尝试选择所有选择框，但文档中的多个选择框。我试过：

```
$('select').not('[multiple]').hide(); 
```

我怎样才能做到这一点？

**编辑：**

选择框的定义：

```
<select>
    <option></option>
</select> 
```

多选框的定义：

```
<select multiple>
    <option></option>
    <option></option>
    <option></option>
</select> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T07:04:59.727

关闭：

```
$('select:not(select[multiple])').hide(); 
```

或者：

```
$('select').not('select[multiple]').hide(); 
```

# exception - x86 32 位保护模式：从调用堆栈中读取？

> ID：12258313
> 
> 赞同：0
> 
> 时间：2012-09-04T07:01:54.340
> 
> 标签：exception, assembly, x86, interrupt

如何从调用堆栈中获取地址？我正在编写一个异常处理程序，我想让它显示 CPU 异常是否发生？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:53:56.457

从 intel.com 或 amd.com 获取一份 CPU 手册。查看有关中断和异常处理的章节。找到显示中断或异常发生时堆栈内容的图表。例如，来自 1986 年的 INTEL 80386 程序员参考手册：

```
Figure 9-5\.  Stack Layout after Exception of Interrupt 

                           WITHOUT PRIVILEGE TRANSITION

      D  O      31          0                     31          0
      I  F    ╠═══════╦═══════╣                 ╠═══════╦═══════╣
      R       ║▒▒▒▒▒▒▒║▒▒▒▒▒▒▒║    OLD          ║▒▒▒▒▒▒▒║▒▒▒▒▒▒▒║    OLD
      E  E    ╠═══════╬═══════╣   SS:ESP        ╠═══════╬═══════╣   SS:ESP
      C  X    ║▒▒▒▒▒▒▒║▒▒▒▒▒▒▒║     │           ║▒▒▒▒▒▒▒║▒▒▒▒▒▒▒║     │
      T  P    ╠═══════╩═══════╣&lt;────┘           ╠═══════╩═══════╣&lt;────┘
      I  A    ║  OLD EFLAGS   ║                 ║  OLD EFLAGS   ║
      O  N    ╠═══════╦═══════╣                 ╠═══════╦═══════╣
      N  S    ║▒▒▒▒▒▒▒║OLD CS ║    NEW          ║▒▒▒▒▒▒▒║OLD CS ║
         I    ╠═══════╩═══════╣   SS:ESP        ╠═══════╩═══════╣
       │ O    ║    OLD EIP    ║     │           ║    OLD EIP    ║    NEW
       │ N    ╠═══════════════╣&lt;────┘           ╠═══════════════╣   SS:ESP
       │      ║               ║                 ║  ERROR CODE   ║     │
       v                                        ╠═══════════════╣&lt;────┘
                                                ║               ║

              WITHOUT ERROR CODE                 WITH ERROR CODE 
```

所以，就是这样，您的中断处理程序在堆栈上收到的最后一件事是错误代码（可选；并非所有异常都有它，您需要在执行之前将其弹出`iret`），然后`eip`是导致错误代码`cs`的位置异常或已被中断。

# jprofiler - JProfiler：IDE 找不到选定的类

> ID：12258314
> 
> 赞同：1
> 
> 时间：2012-09-04T07:01:54.917
> 
> 标签：jprofiler

JProfiler 7.1.2 与 Eclipse 3.6.2 集成

当我右键单击一个类/方法名称并选择“显示源代码”时，JProfiler 只是提醒我“IDE 无法找到所选的类”

是 JProfiler 的问题吗？我怎么解决这个问题？提前致谢。

# javascript - Rails - 带有单选按钮的表单，带有 javascript 操作以启用/禁用附加的元素

> ID：12258315
> 
> 赞同：0
> 
> 时间：2012-09-04T07:01:54.690
> 
> 标签：javascript, ruby-on-rails-3, forms

我想创建一个表单，其中有一个由三个链接的单选按钮组成的块，每个按钮都附加一个单独的输入字段，例如

*   选项 1：[ **__*下拉框*__** ]
*   选项 2：[ **__*下拉框*__** ]
*   选项 3：[ **__*文本字段*__** ]

这三个选项中的每一个都将在模型中具有一个属性。

I want each of the three options to have a radio button, which when selected will automatically activate the input field beside it, and disable the other two. 在提交表单的控制器中，我还需要知道选择了哪个单选按钮，从关联的输入中获取值，并将其他两个字段设置为 nil，然后再保存记录。

几个月前我尝试过这个并且失败了，现在再试一次对我来说仍然没有多大意义，我对任何 Web UI/标记语言都非常缺乏经验。

如果有人可以向我指出一个示例或必要的资源，以便我可以阅读我需要组合的各种方法，那将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:34:28.920

[http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-radio_button](http://api.rubyonrails.org/classes/ActionView/Helpers/FormHelper.html#method-i-radio_button)

将值传递给 :class 以对单选按钮进行分组。为每个单选按钮分配不同的 ID，并在 javascript 中处理相关字段的隐藏/显示。在模型中，根据所选单选按钮传递的值使用验证。

```
validates :mmc_value, :numericality => { :message => ERR_NUMBER }, :if => :modifier_type

def modifier_type
  ['MMC', 'LMC'].include?(self.modifier) #modifier is the value on which the validation of other fields is based.
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-08T04:09:41.370

我最终这样做是为了让它工作：

看法：

```
<label for="hide" style="display: inline-block">Override V</label>
<input id="v_toggle" type="checkbox" value="Hide" />
<br/>
<%= f.input :v_id, :collection => @vs, :prompt => "Choose a V" %>
<%= f.input :v, :label => false %> 
```

JS文件：

```
jQuery(document).ready(function(){
    $('#service_v').hide();
    jQuery('#v_toggle').live('click', function(event) {        
        jQuery('#service_v_id').toggle('show');
        jQuery('#service_v').toggle('show');            
    });
}); 
```

# c# - SUM() 的 LINQ 和投影

> ID：12258316
> 
> 赞同：0
> 
> 时间：2012-09-04T07:02:09.523
> 
> 标签：c#, asp.net, linq, projection

此查询从我们的数据库中返回前 25 个畅销产品，按客户：

```
var query =  from bs in db.MYDATABASE
             where bs.COMPANY == "MY COMPANY"
             group bs by bs.PRODCODE into g
             orderby g.Sum(x => x.MQTY) descending
             select new BestSeller
             {
                 product_code = g.Key,
                 product_description = g.First().DESCRIPTION,
                 total_quantity = g.Sum(x => x.MQTY) 
             };
var top25 = query.Take(25); 
```

[在这个问题](https://stackoverflow.com/questions/12251413/linq-query-with-group-and-sum)中有人告诉我，我需要在以下行为以下 LINQ 查询创建一个投影：

```
total_quantity = g.Sum(x => x.MQTY) 
```

请有人能解释一下投影的含义和例子吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:17:37.767

当您从查询中选择几个字段并将其创建/投影到新类型时，投影是用于 LINQ 的术语。当您`select new`在查询中进行操作时，您实际上是在进行投影。在您的情况下，您正在从查询表达式中选择字段`g.Key`，`g.First().DESCRIPTION`并创建一个新的 type 对象`BestSeller`。

由于您的[原始](https://stackoverflow.com/questions/12251413/linq-query-with-group-and-sum)问题没有将`total_quantity`字段分配给任何内容，因此 Jon Skeet 要求您将总和添加到您的投影中。

您需要在 MSDN 上查看以下有关投影的文章：

[制定投影](http://msdn.microsoft.com/en-us/library/bb386978.aspx)
[查询表达式语法示例：投影](http://msdn.microsoft.com/en-us/library/bb738447%28v=vs.100%29.aspx)

# c++ - 使用ideone时如何传入命令行参数？

> ID：12258317
> 
> 赞同：14
> 
> 时间：2012-09-04T07:02:08.683
> 
> 标签：c++, python, command-line

我正在使用 ideone 在线解释器 ( [http://ideone.com/](http://ideone.com/) ) 来测试一些 C++ 和 Python 程序。如何指定命令行参数而不是使用 STDIN 输入？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-04T07:07:46.157

看起来你不能，但*快速破解*应该可以解决问题：

```
static char * const ARGV[] = { "myprog", "hello", "world", NULL };

int main(int argc, char * argv[])
{
    argc = 3;
    argv = ARGV;

    // ...
} 
```

或者将标准输入转换为 args：

```
#include <vector>
#include <string>
#include <iterator>
#include <iostream>

std::vector<char *> fabricate(std::vector<std::string> & v)
{
    std::vector<char *> res(v.size() + 1, NULL);
    for (std::size_t i = 0; i != v.size(); ++i) { res[i] = &v[i][0]; }
    return res;
}

std::vector<std::string> args_vector((std::istream_iterator<std::string>(std::cin)), std::istream_iterator<std::string>());

std::vector<char *> argv_vector = fabricate(args_vector);

int main(int argc, char * argv[])
{
    argc = args_vector.size();
    argv = argv_vector.data();

    // ...
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-04T09:43:11.647

在 python 中，你可以像这样硬编码：

```
import sys

print sys.argv
sys.argv[1:] = ["test1", "test2"]
print sys.argv 
```

这将输出：

```
['prog.py']
['prog.py', 'test1', 'test2'] 
```

从标准输入读取：

```
import sys
import shlex

print sys.argv
sys.argv[1:] = shlex.split(None)
print sys.argv 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-04T07:07:13.647

只需初始化以模拟命令行参数

```
static char *argv[] = {"program_name", "1st argument", "2nd argument", NULL};
static int argc = 3;
int main() {

} 
```

# windows-8 - Windows 8 平板电脑和手机 8 的屏幕分辨率？

> ID：12258319
> 
> 赞同：1
> 
> 时间：2012-09-04T07:02:14.190
> 
> 标签：windows-8

谁能告诉我平板电脑应用程序是否可以在没有任何 UI 更改的情况下在 windows phone 8 上运行？

我的意思是，如果平板电脑应用程序可以在 windows phone 8 上完全运行，并且平板电脑屏幕将适合 phone 8。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-16T22:24:49.720

Windows Phone 8 的分辨率为 15:9 或 16:9，通常为纵向。所有 Windows RT 平板电脑都是 16:9，通常横向放置。

所以无论你怎么看，你都可能不得不重新设计你的 UI。

我也不建议重用 XAML - 你可以重用大量代码隐藏或无 ui 类，但如果你将它们放在可移植库中（适用于 WP7、WinRT 和大概 8）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-03T15:15:27.703

Windows 8 应用程序在构建时牢记这些事情。

1) 它应该支持至少 10.6 英寸的屏幕，最小分辨率为 1366*768 等等 应用程序 UI 的设计考虑到了他们可用的宽空间网格

在 windows phone 中，屏幕尺寸是 4.​​3 英寸，所以你可以想象它们实际上不适合

# c# - WPF 页面导航窗口图标

> ID：12258320
> 
> 赞同：0
> 
> 时间：2012-09-04T07:02:24.463
> 
> 标签：c#, .net, wpf

我正在使用 WPF 页面导航。

如何在窗口中添加图标？

如何控制窗户的高度和宽度？

谢谢你。

# sql-server - 使用 EF Code First 导入和导出数据

> ID：12258322
> 
> 赞同：0
> 
> 时间：2012-09-04T07:02:30.033
> 
> 标签：sql-server, entity-framework, entity-framework-migrations

我不想使用 EF 迁移。

我有 SQL Server 2012 Express 并且导入/导出向导不会将数据保存在 Excel 工作表中。

如何仅导入/导出数据？

我不想在每次数据模型更改时丢失数据。

TIA

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T13:12:40.533

您是否只是想禁用自动迁移并自行处理以防止数据丢失？默认情况下，EF 不会删除并重新创建您的数据库，您需要调整设置以创建此行为。但是，如果您想确定，您可以简单地设置：

```
Database.SetInitializer<YourModel>(null); 
```

要将初始化程序设置为 null - 如果您在 web 项目中执行此操作，那么一个好地方将是 global.asax 中的 Application_Start。如果没有，只需将它放在应用程序生命周期的早期。

如果您使用的是 EF 4.3 或更高版本，您还可以在 Configuration 类中将 AutomaticMigrationsEnabled 设置为 false：

```
 public Configuration()
    {
        AutomaticMigrationsEnabled = true;
    } 
```

# javascript - javascript恢复样式

> ID：12258332
> 
> 赞同：1
> 
> 时间：2012-09-04T07:03:06.883
> 
> 标签：javascript, jquery

我想在全屏上查看特定的 div 并更改样式，为此，我使用了此功能：

```
$(function () {
  $('#trigger').click(function () {
      var screenres = screen.width + 'x' + screen.height;
      document.getElementById("map").style.backgroundColor = "white";
      if (screenres == "1920x1080") {
          document.getElementById("map_canvas").style.height = "1000px";
      }
      if (screenres == "1366x768") {
          document.getElementById("map_canvas").style.height = "600px";
      }     
  });
} 
```

样式已更改，但不会恢复到以前的状态。比如全屏之前；全屏后地图div的高度：300px，其值为1000px。

我怎样才能返回第一个值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:13:26.070

```
 $(function () {
var DivHeight = document.getElementById("map_canvas").style.height;

// Use this DivHeight  whenever you want uese, you can also get it using jquery $("#map_canvas").height();

            $('#trigger').click(function () {
                var screenres = screen.width + 'x' + screen.height;
                document.getElementById("map").style.backgroundColor = "white";
                if (screenres == "1920x1080") {
                    document.getElementById("map_canvas").style.height = "1000px";
                }
                if (screenres == "1366x768") {
                    document.getElementById("map_canvas").style.height = "600px";
                }

            }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:14:08.527

您在此处显示的代码只能在两种精确的屏幕尺寸下运行。大多数情况下，查看器的屏幕与您的两个`if`语句中的任何一个都不匹配，因此不会设置宽度。

也许你想要这样的东西：

```
$(function () {
  $('#trigger').click(function () {
      document.getElementById("map").style.backgroundColor = "white";
      if (screen.height >= 1920) {
          document.getElementById("map_canvas").style.height = "1000px";
      } else {
          document.getElementById("map_canvas").style.height = "600px";
      }     
  });
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-04T07:18:21.627

尝试跟踪旧大小（我修改了代码，以便它可以对单击的元素本身进行操作 - 随时修改它以更改您之前拥有的任何地图元素的大小）：

```
 var resizer = function (event) {
           var self = event.currentTarget;

           var prevw = $(self).width();
           var prevh = $(self).height();

           var screenres = screen.width + 'x' + screen.height;
           document.getElementById("trigger").style.backgroundColor = "white";
           if (screenres == "1920x1080") {
               document.getElementById("trigger").style.height = "1000px";
           }
           else if (screenres == "1600x900") {
               document.getElementById("trigger").style.height = "600px";
           }

           $(this).one('click',function(){

                   document.getElementById("trigger").style.width = prevw;
                   document.getElementById("trigger").style.height = prevh;
                  $(this).one('click',resizer);
           });

    };
    $('#trigger').one('click', resizer); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-04T07:12:18.470

您可以通过 CSS 选择器设置默认样式：

```
#trigger {
  height: 300px;
} 
```

在您返回正常（默认）状态后，您只需清除`style`属性：

```
$('#trigger').attr("style", ""); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-04T07:17:15.613

你得动起来。在 if 调用之前使用 jquery 获取地图的动态宽度，然后简单地调整 if 语句；但我不会根据特定的 map_canvas 高度来做；所有浏览器和窗口大小在客户端都是可变的。做类似 function () { var divHeight = document.getElementById("map_canvas").style.height;

$("#map_canvas").height();

```
 $('#trigger').click(function () {
            var screenres = screen.width + 'x' + screen.height;
            document.getElementById("map").style.backgroundColor = "white";
            if (screenres == "1920x1080") {
                document.getElementById("map_canvas").style.height = "1000px";
            }
            if (screenres == "1366x768") {
                document.getElementById("map_canvas").style.height = "600px";
            }

        }); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-04T08:01:55.277

下面是一个更通用的解决方案，您可以使用它来更改节点的属性并恢复该属性的先前值。支持 JQuery 和纯 javascript：

```
function attributeMutation (node) {
  this.node = node;
  this.isJQuery = (Object.prototype.toString.call(node) === "[object Array]");
  this.store = {};             
}

attributeMutation.prototype.change = function (name) {
  this.name = name;
  return this;
}

attributeMutation.prototype.to = function (value) {
  if (this.isJQuery) {
    this.store[this.name] = this.node.attr(this.name);
    this.node.attr(this.name, value);
  } else {
    this.store[this.name] = this.node.getAttribute(this.name);
    this.node.setAttribute(this.name, value);
  }
}

attributeMutation.prototype.restore = function (name) {
  var currentValue;
  if (this.isJQuery) {
    currentValue = this.node.attr(name);
    this.node.attr(name, this.store[name]);
  } else {
    currentValue = this.node.getAttribute(name);
    this.node.setAttribute(name, this.store[name]);
  }
  this.store[name] = currentValue;
} 
```

用法是：

```
var mapCanvas = document.getElementById("map_canvas")
  , mapCanvasAttributes = new attributeMutation(mapCanvas)
  , screenres = screen.width + 'x' + screen.height;

if (screenres == "1920x1080") {
  mapCanvasAttributes.change('height').to('1000px');
}
if (screenres == "1366x768") {
  mapCanvasAttributes.change('height').to('6000px');
}

// and to restore to the previous height
mapCanvasAttributes.restore('height'); 
```

# operating-system - linux下半部分如何在中断上下文中执行？

> ID：12258333
> 
> 赞同：1
> 
> 时间：2012-09-04T07:03:08.533
> 
> 标签：operating-system, linux-kernel, kernel

在了解上半部分和下半部分的概念时，我遇到了一个问题。

这是我的理解：上半部分和下半部分在中断上下文中执行。唯一的区别是下半部分在启用中断的情况下执行，而上半部分在相应的 irq 禁用的情况下执行（仍然可以通过使用`SA_INTERRUPT`标志来克服）。

问题：就在从上半部分处理程序返回之前，`return_from_intr`被调用。现在调度程序被调用并执行下半部分，如果有任何未决的。既然`return_from_intr`被调用了，下半部分如何在中断上下文中执行？它将处于内核模式而不是中断模式？

如果我错了，请纠正我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T09:38:44.353

下半部分不在中断上下文中执行，这是将中断处理分成两半并将较慢的代码移到 ISR 之外的全部要点。不过，它们仍在内核上下文中。例如，请参阅[这篇文章](http://www.ibm.com/developerworks/linux/library/l-tasklets/index.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-17T15:29:14.670

小任务和软中断是中断处理的不同部分，运行在软件中断之上。因此，据说它们在中断上下文中运行（令人困惑的是，我将其称为下半部分上下文），其中所有的硬中断都在所有 CPU 上启用（仍然控制在我们手中）。如果需要，也可以在使用 spin_lock_bh() 处理软件中断时禁用软件中断。
工作队列，另一种不同的中断处理方式，在内核进程上下文中运行。因此，它们可能会阻塞、休眠或调用调度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-02-12T11:56:35.650

您的问题中有一些假设是错误的：

*   上半部分处理程序在中断上下文中运行
*   存在 3 种不同的下半部分机制：
    *   **Softirqs**，在中断上下文中运行
    *   **Tasklet**构建在 softirq 之上，因此在中断上下文中运行
    *   **工作队列**，这是在进程上下文中运行的唯一下半部分机制

您可能想参考[Robert Love 的优秀著作，](https://rads.stackoverflow.com/amzn/click/com/0672329468)它解释了所有这些机制。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-04-26T21:54:05.670

这里的“中断上下文”是指软件中断/软中断上下文，其中 in_interrupt() 返回 true，而 in_irq() 将返回 false。也就是说，这个核心上的其他软中断被禁用，但硬件中断被启用。

# elisp - 如何在 elisp 中使用“隐藏区域”包

> ID：12258334
> 
> 赞同：0
> 
> 时间：2012-09-04T07:03:14.907
> 
> 标签：elisp

有这个众所周知的包 hide-region [Link to the package (hide-region.el)](http://www.emacswiki.org/emacs-zh/hide-region+) 我想在我的文件中将 hide-region-hide 从某个“点 a”应用到“点 b”[a 区域]。我怎样才能做到这一点？我需要定义什么？当我手动突出显示一些文本时它可以工作，但我需要在我的代码中执行它并请求它。区域和区域的结尾并将其应用于结果区域。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:36:35.260

这个包写得有点糟糕，并且不允许你将一个区域作为参数传递给函数。您可能可以通过类似的方法解决此问题

```
(save-excursion
  (let (deactivate-mark) ; see save-excursion docs for why
    (set-mark point-a)  ; beginning of region you want to hide
    (goto-char point-b) ; end of region you want to hide
    (hide-region-hide) ) ) 
```

`hide-region-hide`不过，如果在非交互式调用时将区域作为参数会更好。也许维护者会很乐意接受这个补丁。另请参阅文档，`set-mark`其中特别建议不要像我上面所做的那样使用它。此外，也许您还想查看`save-excursion`.

# iphone - 从childviewcontroller访问parentviewcontroller的控制器

> ID：12258335
> 
> 赞同：0
> 
> 时间：2012-09-04T07:03:26.117
> 
> 标签：iphone, ios

我的代码中使用 addsubview 添加了一个 childviewcontroller。例子：

```
Chidviewcontroller *child=[Chidviewcontroller alloc]intwithnibname:child....];
[parentviewcontroller.view addsubview:child.view]; 
```

现在的问题是，当我在 childviewcontroller 中工作时：不允许访问 childviewcontroller 中的任何 parentviewcontroller 对象甚至不允许导入 Parentviewcontrollerr.h 文件，它显示错误：`-UnknownTypeName`

我已阅读[此链接](https://stackoverflow.com/questions/1368757/setting-property-value-of-parent-viewcontroller-class-from-child-viewcontroller)。

但是仍然不允许我导入和制作 parentviewcontroller 的对象请帮助我如何解决这个问题并执行此操作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:29:42.627

您需要导航到子类而不是将其添加为子视图。如果你想把它用作子视图，你需要使用委托来调用父类的方法。让我知道你是否理解我的观点

希望能帮助到你。快乐编码:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:07:41.743

这可能有助于[看一下](https://stackoverflow.com/a/12208730/1357776)，不同之处在于它在这里导航到子视图，而您子添加了子视图

# python - Google AJAX 页面的 302 重定向

> ID：12258337
> 
> 赞同：1
> 
> 时间：2012-09-04T07:03:29.987
> 
> 标签：python, ajax, urllib2

我正在尝试从没有 API 的 Google 转销商面板中获取数据。

我可以使用 urllib2 和 cookiejar 成功登录，并且可以看到安全数据，但是我需要的数据是使用 AJAX 加载的。

当我尝试直接访问 AJAX 端点时，我得到一个 302 或 404 重定向。有任何想法吗？

这是我的代码：

```
import cookielib, urllib2, urllib, re, pprint

cj = cookielib.CookieJar()
opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj))
opener.addheaders = [
    ('User-Agent', 'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.11) Gecko/20101012 Firefox/3.6.11'),
    ]

# Define URLs (borrowed this from Google voice script on Github)
login_page_url = 'https://accounts.google.com/ServiceLogin?service=grandcentral'
authenticate_url = 'https://accounts.google.com/ServiceLoginAuth?service=grandcentral'
gv_home_page_url = 'https://www.google.com/voice/#inbox'

# Load sign in page
login_page_contents = opener.open(login_page_url).read()

# Find GALX value
galx_match_obj = re.search(r'name="GALX"\s*value="([^"]+)"', login_page_contents, re.IGNORECASE)

galx_value = galx_match_obj.group(1) if galx_match_obj.group(1) is not None else ''

# Set up login credentials
login_params = urllib.urlencode({
    'Email' : "<my username>",
    'Passwd' : "<my password>",
    'continue' : 'https://www.google.com/voice/account/signin',
    'GALX': galx_value
})

# Login
opener.open(authenticate_url, login_params)

# Open GV home page
gv_home_page_contents = opener.open(gv_home_page_url).read()

# Fine _rnr_se value
key = re.search('name="_rnr_se".*?value="(.*?)"', gv_home_page_contents)

if not key:
    logged_in = False
else:
    logged_in = True
    print "Logged in!"

    reseller_home = opener.open("https://www.google.com/a/cpanel/<my reseller domain>/Reseller2Customers#Reseller2Customers")
    print reseller_home.read() #prints data behind the login, http status code 200

    opener.addheaders += [
    ('Referer', 'https://www.google.com/a/cpanel/<my reseller domain>/Reseller2Customers'),
    ]

    reseller_ajax = opener.open("https://www.google.com/a/cpanel/<my reseller domain>/Reseller/GetSubscriptions?sortField=CREATION_DATE&sortAscending=true&nextToken=&customerDomainPrefix=covision.com").read()
    #this gives me error 302 or 404 
```

# mysql - MYSQL 函数 IF 语法

> ID：12258340
> 
> 赞同：0
> 
> 时间：2012-09-04T07:03:50.467
> 
> 标签：mysql, syntax, mysql-error-1064

我正在尝试使用 IF 编写一个函数，但出现错误

> 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以获取正确的语法，以便在第 8 行代码 1064 的 '' 附近使用

这就是功能。

```
DELIMITER $$

DROP FUNCTION IF EXISTS `my_fun` $$
CREATE FUNCTION `my_fun` (nid INT) RETURNS VARCHAR(200)
BEGIN
DECLARE abc varchar(100);
SELECT foo INTO abc FROM my_table WHERE bar = nid;
IF abc = ''
THEN
SELECT foo INTO abc FROM my_table WHERE bar = -1;
RETURN abc;
END $$

DELIMITER ; 
```

我不确定这里的[语法](http://dev.mysql.com/doc/refman/5.5/en/if.html)是什么，我也试过了`IF abc IS NULL`。我只想检查第一个选择语句是否返回空值然后执行另一个语句。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:06:45.637

你缺少`END IF`陈述。

您的代码应该是：

```
DELIMITER $$

DROP FUNCTION IF EXISTS `my_fun` $$
CREATE FUNCTION `my_fun` (nid INT) RETURNS VARCHAR(200)
BEGIN
DECLARE abc varchar(100);
SELECT foo INTO abc FROM my_table WHERE bar = nid;
IF abc = ''
THEN
SELECT foo INTO abc FROM my_table WHERE bar = -1;
END IF;
RETURN abc;
END $$

DELIMITER ; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:18:40.420

首先，您缺少 END IF 语句，其次为什么不在 IF 条件语句中执行以下操作：

`IF (SELECT foo FORM my_table WHERE bar = nid) IS NULL`
`THEN`
`SELECT foo INTO abc FROM my_table WHERE bar = -1;`
`END IF`

# ruby - rvm 不是函数

> ID：12258343
> 
> 赞同：0
> 
> 时间：2012-09-04T07:04:24.227
> 
> 标签：ruby, ubuntu, rvm

当我运行时`rvm use 1.9.3`，它显示**rvm 不是一个函数**。然后我添加**[[ -s "$HOME/.rvm/scripts/rvm" ]] && 。"$HOME/.rvm/scripts/rvm"**，然后运行`source .zshrc`，它显示 **/home/lct/.rvm/scripts/cli:240: parse error near `-i'**，rvm 仍然不是函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T08:57:32.053

更新您的 rvm：

```
curl -L get.rvm.io | bash -s stable --auto 
```

而不是向您添加采购`.zshrc`应该在您的终端中启用登录外壳，这是一个示例：[https ://rvm.io/integration/gnome-terminal/](https://rvm.io/integration/gnome-terminal/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:43:44.280

如果zsh不是登录shell或者你没有尝试过“source rvm/scripts/rvm”，搜索之前解决的其他问题，答案太多了。但如果这不能解决，请参见下文：

我也遇到过解析错误。但可能不是脚本中的同一行。此错误通常意味着您的原始 zshrc 配置和 rvm 脚本中存在一些冲突。尝试注释 zshrc 文件的某些部分，直到错误消失。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-30T19:49:19.777

这是我目前在 .zshrc 使用的行：

源 ~/.rvm/scripts/rvm

# android - 在 Android 中使用 TextView 自定义 Horizo ntalSctollView

> ID：12258344
> 
> 赞同：0
> 
> 时间：2012-09-04T07:04:24.143
> 
> 标签：android, textview, horizontalscrollview

我有一些如图 1 所示的类别。我已经用于`HorizontalScrollView`类别滚动，但是当滚动滚动进度显示在 textview 的底部时（如图所示）。实际上不想显示这个，也想放两个按钮左右滚动（如图2所示）。我已经搜索了很多但没有这样做，如果您有任何想法，请建议我。**图。1** ![在此处输入图像描述](../Images/c82daf5e21d3d69c165da67e1d3e552c.png)

![在此处输入图像描述](../Images/5f5e6310a6942c042f72c0fd03869907.png)

**图2**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:08:20.457

您可以简单地在 Horizo​​ntalScrollView 定义中删除滚动条：

```
android:scrollbars="none" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:07:31.773

试试这个属性`android:scrollbars="none"`，看看它是否有效。=)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T07:07:34.583

将此属性放在 Horizo​​ntalScrollView

```
android:scrollbars="none" in your xml file for disable scrollbar as picture 1.

<HorizontalScrollView android:id="@+id/horizontalScroll"
     android:layout_width="fill_parent"
     android:layout_height="wrap_content" 
     android:scrollbars="none" > 
```

**尝试按照 xml 获取图 2 的解决方案。**

```
<?xml version="1.0" encoding="UTF-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="match_parent" >

    <ImageView android:src="@drawable/ic_launcher" 
        android:layout_height="wrap_content" 
        android:layout_width="wrap_content" 
        android:layout_alignParentLeft="true"/>

    <ImageView android:src="@drawable/ic_launcher" 
        android:layout_height="wrap_content" 
        android:layout_width="wrap_content" 
        android:layout_alignParentRight="true"/>         

    <HorizontalScrollView android:id="@+id/horizontalScroll"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" 
        android:scrollbars="none" 
        android:fadingEdgeLength="20dp">
</HorizontalScrollView>
</RelativeLayout> 
```

检查此[链接](http://pavantilak.blogspot.in/2012/02/code-to-display-horizontal-scrollview.html)。

# php - 我们可以在类中的其他静态函数中调用静态函数吗

> ID：12258352
> 
> 赞同：0
> 
> 时间：2012-09-04T07:05:27.350
> 
> 标签：php, oop

如果可以，我们可以在类中的其他静态函数中调用静态函数吗？请帮助我。我正在使用这个 php 代码。

```
static function getconfig()
{
$db = JFactory::getDBO();
$query='select * from #__yellowpages_config';
$db->setQuery($query);
$result=$db->loadObject();

$config->city=JRequest::getVar('city',0);
$config->country=JRequest::getVar('c',0);

if($config->city==0)

$config->city=$result->city;

if($config->country==0)

$config->country=$result->country;

return $config;

}
static function getitem()
       {
        //how I call the getconfig function here.
       } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-04T07:06:44.203

尝试`self::getconfig()`改用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T07:08:38.627

[`self::method()`](http://php.net/manual/en/language.oop5.constants.php)如果您想引用同一类，请使用。

如果[`static::method()`](http://de2.php.net/manual/en/language.oop5.static.php)您想引用层次结构中调用该方法的任何类，请使用。

另请参阅此问题：[新自我与新静态](https://stackoverflow.com/a/5197655/603003)

# ios - iOS App 分发模式

> ID：12258353
> 
> 赞同：-2
> 
> 时间：2012-09-04T07:05:29.150
> 
> 标签：ios, model, distribution, b2b

我们有一个应用程序，它“只是”完整解决方案的一部分。该解决方案本身是基于服务器的，也可以通过浏览器、android 或 windows phone 以及用于 mac 或 windows 的桌面客户端使用。

如您所见，iOS os 只有一种可能的客户端。客户 (B2B) 与我们签订了批量合同，假设其中包括 400 个用户。

苹果表示，由于客户必须为使用该解决方案付费，我们应该启用应用内购买或销售应用（现在是免费的）。

我们的客户是大型国际公司，他们不希望他们的员工必须购买应用程序或应用程序内购买才能在 ipad 上使用他们的包。

什么是让我们的应用程序在应用程序商店中免费交付并且不让用户在应用程序内为他们的承包商支付的费用付费的最佳方式。

有什么解决方案吗？

帮助表示赞赏

MadMaxApp

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:25:17.890

> 客户 (B2B) 与我们签订了批量合同，假设其中包括 400 个用户。

如果我没记错的话，你可以通过 Apple 的 B2B 商店销售你的应用，在那里你可以批量销售。您的客户可以购买一定数量的应用程序副本并根据需要管理这些许可证。这至少使个人用户更容易。您的企业客户可能不会因为为 iOS 客户端支付额外费用而感到兴奋，但至少您可以责怪 Apple。

# jquery - 将 fancybox 升级到 2.1 后，图像的默认高度为 100px

> ID：12258357
> 
> 赞同：0
> 
> 时间：2012-09-04T07:05:36.683
> 
> 标签：jquery, fancybox, fancybox-2

所有图像的高度为 100 像素，屏幕顶部的自动宽度 - 不居中（图像高于 100 像素）。这发生在我今天升级到最新版本 2.1 时。这是最新版本中的错误吗？

使用调整大小按钮时大小似乎是正确的 - 但仍然没有垂直居中。

```
 $("a[href*='.jpeg'], a[href*='.jpg'], a[href*='.png'], a[href*='.gif']").attr("rel", "imagegroup").fancybox({
        prevEffect: 'elastic',
        nextEffect: 'elastic',
        helpers: {
            title: null,
            overlay: {
                opacity: 0.8,
                css: {
                    'background-color': '#000'
                }
            },
            thumbs: { // remove if you do not want thumbnails at bottom
                width: 50,
                height: 50
            },
            buttons: {} // remove if you do not want buttons at top
        }
    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:31:02.900

这不是一个错误。您可能已经升级了 js 文件但忘记升级 css 文件。

带有 fancybox **css**文件（或更低）的Fancybox **js**文件将生成 100px 高度并与窗口顶部对齐的图像。`v2.1.0`**`v2.0.6`**

 **[看演示](http://www.picssel.com/playground/jquery/imagesResizedTo100px_04sep12.html)**

# actionscript-3 - 发布模式中的错误详细信息 (Actionscript)

> ID：12258360
> 
> 赞同：0
> 
> 时间：2012-09-04T07:05:48.703
> 
> 标签：actionscript-3, runtime-error

在我的项目的发布模式下（在客户端上）发生错误并被记录。比如Error 1009，我不知道它进入了哪个类。

如果您不知道它来自哪个类，那么调试 1009 会困难得多。有什么办法可以在发生 null 或其他错误时。我至少可以登录课程？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T09:18:30.517

Flash 播放器不提供有关此错误的任何其他信息。我使用了很多 try..catch 和自定义堆栈跟踪。

# php - PHP的登陆下载页面

> ID：12258361
> 
> 赞同：1
> 
> 时间：2012-09-04T07:05:59.137
> 
> 标签：php, download

我在[这里](http://www.kextil.com/register.php)嵌入了一个销售人员表格。此表单的作用是将用户输入数据从我的站点带到 salesforce.com，并在将数据保存在那里后，通过传入表单的返回 url 返回到我的站点。

现在，它应该返回的页面具有文件下载功能。文件下载正常，但浏览器中的 url 是提交表单的位置。我希望浏览器在提交表单后导航到我的站点并下载文件，同时显示一条消息。目前只有文件下载，而且也是从空白页面下载的。

现在我从下载/谢谢页面传递的标题是：

```
 header('Content-Type: "'.$mime.'"');
        header('Content-Disposition: attachment; filename="'.$filename.'"');
        header("Content-Transfer-Encoding: binary");
        header('Expires: 0');
        header('Pragma: no-cache');
        header("Content-Length: ".strlen($data)); 
```

然后我刷新缓冲区：

```
 ob_clean(); flush(); 
    exit($data); 
```

如果您愿意，请查看表格，如果信息不充分，请发表评论。该站点仍处于调试模式。另外，指导我应该做些什么来实现我想要的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:13:44.913

浏览器到达的最终 URL 要么是具有浏览器可以理解的 MIME 类型的文档（例如`text/html`），要么不能。如果是，浏览器会显示它并在地址栏中显示相应的URL。如果不是（例如`application/exe`），它将下载它并保持 URL 不变。

如果您想在下载时显示一条消息，您必须返回一个显示`text/html`“您的下载将很快开始”的 HTML 页面（使用 MIME 类型），然后使用 JavaScript 开始下载，例如：

```
<!DOCTYPE html>

<html>
  <head>
    <title>Downloading your file</title>
  </head>

  <body>
    <h1>Downloading your file</h1>
    <p>Your download will begin shortly</p>

    <script>
        window.setTimeout(
            function() {
                window.location.href = "/mydownload.exe";
            },
            3000 // start download after 3 seconds
        );
    </script>
  </body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:14:27.073

您需要做的是让 saleforce.com 的“返回”页面成为一个常规的 php 文件，例如，*thankyou.php*，它只向最终用户显示 HTML。在 HTML/JS 中，您还可以重定向到下载。像这样的东西：

```
echo "Thank you.  Your file download will start shortly</h2>";
echo "<script type='text/javascript'>window.location = '$filename'</script>"; 
```

然后在单独的*download.php*中放置您在上面显示的代码。

请注意，我只是向您展示这个想法。通常，您会希望 (a) 将 HTML 和 JS 分开；(b) 检查您是否确实来自正确的 salesforce.com 页面并获得了正确的返回结果。最后，您可能需要延迟，以便在页面显示后 5-10 秒后开始下载。检查`setTimeout`javascript函数。

# actionscript-3 - 从 byteArray 读取位图数据时，AS3 不乘 alpha

> ID：12258363
> 
> 赞同：0
> 
> 时间：2012-09-04T07:06:06.890
> 
> 标签：actionscript-3

我正在尝试从 ByteArray 读取位图，我正在使用：

```
bitmapData = new BitmapData(width, height, transparent);
bitmapData.setPixels(new Rectangle(0, 0, width, height), byteArray); 
```

但是，我正在读取的位图具有预乘 alpha，并且使用此方法最终会在某些半透明区域中出现灰色像素。

有没有办法可以取消代码中的源代码？或者可能以不同的方式加载 ByteArray 来解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:33:34.983

例如，您可以使用着色器过滤器对 alpha 进行反乘。像这样说：

```
kernel unmultiply_alpha
<   namespace : "Your Namespace";
    vendor : "Your Vendor";
    version : 1;
>
{
    input image4 src;
    output pixel4 dst;

    void
    evaluatePixel()
    {
        pixel4 samp = sampleNearest(src,outCoord());
        if (samp.a>0.1) {
            samp.r=samp.r/samp.a;
            samp.g=samp.g/samp.a;
            samp.b=samp.b/samp.a;
        }
        dst=samp;
    }
} 
```

只需在代码中为 alpha 设置正确的阈值。这里 alpha 在区间 0..1 中，所以使用适当的值。是的，要应用过滤器，首先在代码中导入着色器的 PBJ（要制作 PBJ，使用 Pixel Bender）作为 ByteArray，然后使用：

```
var shader:Shader=new Shader(new ImportedShader() as ByteArray);
var filter:ShaderFilter=new ShaderFilter(shader);
bitmapData.applyFilter(bitmapData,bitmapData.rect,new Point(),filter); 
```

# android - 浏览屏幕

> ID：12258373
> 
> 赞同：0
> 
> 时间：2012-09-04T07:06:47.563
> 
> 标签：android, xml, file

我在导航屏幕时遇到了一个小问题，实际上我通过菜单按钮创建了一个事件以显示 SD 卡中文件的内容。每当单击菜单时，都会发生运行时异常，我已经附上了我的代码、错误日志和 xml。任何帮助将不胜感激。

菜单按钮处理 //处理菜单按钮

```
public boolean onKeyUp(int keyCode, KeyEvent event) {
        if (keyCode == KeyEvent.KEYCODE_MENU) {

             startActivity(new Intent(ContactListActivity1.this,App2Activity.class)); 
             finish();

        }

    return true;
} 
```

App2Activity.java

```
public class App2Activity extends ContactListActivity1 {

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.file_view);

            File sdcard= Environment.getExternalStorageDirectory();
            File dir = new File(sdcard.getAbsolutePath() + "/dir1/dir2");

            File file = new File(dir, "my_group.txt");

            StringBuilder text = new StringBuilder();
            try {
                BufferedReader br = new BufferedReader(new FileReader(file));
                String line;

                while ((line = br.readLine()) != null) {
                    text.append(line);
                    text.append('\n');

                }
            }
            catch (IOException e) {

                e.printStackTrace();

            }

            TextView tv = (TextView)findViewById(R.id.text_view);                   
            tv.setText(text);

    }

} 
```

文件视图.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout 
   xmlns:android="http://schemas.android.com/apk/res/android"
   android:orientation="vertical"
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
>
<TextView 

    android:id="@+id/text_view" 
    android:layout_width="fill_parent" 
    android:layout_height="fill_parent"
    />

</LinearLayout> 
```

错误日志

```
09-04 13:51:33.680: W/CursorWrapperInner(25536): Cursor finalized without prior close()
09-04 13:51:33.880: I/System.out(25536): Am I Coming here  !! 
09-04 13:51:33.900: D/AndroidRuntime(25536): Shutting down VM
09-04 13:51:33.900: W/dalvikvm(25536): threadid=1: thread exiting with uncaught exception (group=0x409961f8)
09-04 13:51:33.940: E/AndroidRuntime(25536): FATAL EXCEPTION: main
09-04 13:51:33.940: E/AndroidRuntime(25536): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.contactlistactivity1/com.example.contactlistactivity1.App2Activity}: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list'
09-04 13:51:33.940: E/AndroidRuntime(25536):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1955)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1980)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at android.app.ActivityThread.access$600(ActivityThread.java:122)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1146)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at android.os.Handler.dispatchMessage(Handler.java:99)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at android.os.Looper.loop(Looper.java:137)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at android.app.ActivityThread.main(ActivityThread.java:4340)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at java.lang.reflect.Method.invokeNative(Native Method)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at java.lang.reflect.Method.invoke(Method.java:511)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at dalvik.system.NativeStart.main(Native Method)
09-04 13:51:33.940: E/AndroidRuntime(25536): Caused by: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list'
09-04 13:51:33.940: E/AndroidRuntime(25536):    at android.app.ListActivity.onContentChanged(ListActivity.java:243)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:254)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at android.app.Activity.setContentView(Activity.java:1835)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at com.example.contactlistactivity1.App2Activity.onCreate(App2Activity.java:20)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at android.app.Activity.performCreate(Activity.java:4465)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)
09-04 13:51:33.940: E/AndroidRuntime(25536):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1919)
09-04 13:51:33.940: E/AndroidRuntime(25536):    ... 11 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:13:44.880

您正在使用 ListActivity 。所以 ListActivity 期望你的内容视图有一个 id 的 listView`@android:id/list`

因此，将您的 xml 更改为以下

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout 
   xmlns:android="http://schemas.android.com/apk/res/android"
   android:orientation="vertical"
   android:layout_width="fill_parent"
   android:layout_height="fill_parent"
>
<TextView 

    android:id="@+id/text_view" 
    android:layout_width="fill_parent" 
    android:layout_height="fill_parent"
    />
<ListView android:id="@android:id/list"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#00FF00"
    android:layout_weight="1"
    android:drawSelectorOnTop="false"/>    
</LinearLayout> 
```

# python - Python urlopen 需要很长时间才能加载网页

> ID：12258377
> 
> 赞同：0
> 
> 时间：2012-09-04T07:06:58.890
> 
> 标签：python, web-scraping

我正在使用以下代码打开网页

```
cj_civil = cookielib.LWPCookieJar()
opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj_civil)) 
```

问题是 opener.open 函数需要大约 20 秒才能加载网页。但是，如果我在浏览器中打开同一个站点，那么它的加载速度会更快。

如何在代码中更快地加载网页？我也在使用正确的标题值。

urllib2 有没有比 urllib2 更快并且自动处理 cookie 的替代方法？

# wordpress - WordPress 多站点域映射插件不起作用

> ID：12258378
> 
> 赞同：0
> 
> 时间：2012-09-04T07:07:03.317
> 
> 标签：wordpress

我正在使用 WordPress 2.8.5 并且我已经在站点中安装了 wordpress-mu-domain-mapping.0.5.4.2.zip 插件，在我激活插件后它已成功安装到我的 WordPress 站点，它显示错误是'**域映射插件仅在站点安装在 / 中时才有效。这是虚拟服务器工作方式的一个限制，并且很难解决。**' 但这个插件在 WordPress 最新版中运行良好。

谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-05-31T09:16:23.787

在 wp-config.php 上使用它

```
/* That's all, stop editing! Happy blogging. */
/* Multisite */
define( 'WP_ALLOW_MULTISITE', true );
define('MULTISITE', true);
define('SUBDOMAIN_INSTALL', false);
define('DOMAIN_CURRENT_SITE', 'localhost/wordpress');
define('PATH_CURRENT_SITE', '/');
define('SITE_ID_CURRENT_SITE', 1);
define('BLOG_ID_CURRENT_SITE', 1); 
```

我认为它会起作用 wordpress 是我的项目文件夹，您可以像这样添加

```
define('DOMAIN_CURRENT_SITE', 'localhost/project_name'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:18:58.563

![在此处输入图像描述](../Images/5091110fb9ae242acfa25aa32c2b7d92.png)

你至少需要 wordpress 2.9.2，考虑升级你的 wordpress 版本

# c# - 当同一行中的另一个单元格发生更改时，如何更改 DataGridView Cell 的值？

> ID：12258388
> 
> 赞同：0
> 
> 时间：2012-09-04T07:07:59.343
> 
> 标签：c#, winforms, windows-forms-designer

![在此处输入图像描述](../Images/8cde32724f5d54b09935b36d12cf89fc.png)

我想改变`Amount cell`when `Qty or Price changed`。

`Amount = Qty * Price`

我试过这段代码，它总是给我 ArgumentOutOfRangeException 。

```
private void dataGridView1_CellValueChanged(object sender, DataGridViewCellEventArgs e)
        {
            if (dg_invoices_items.Columns[e.ColumnIndex].Name == "qty")
            {   
                dg_invoices_items[e.RowIndex, 4].Value =Convert.ToString(
                        Convert.ToInt32(dg_invoices_items[e.RowIndex, 2].Value) *
                        Convert.ToInt32(dg_invoices_items[e.RowIndex, 3].Value));
            }
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:15:18.623

列索引从 0 开始，您的列索引太高了。

*   第 1 列：0，产品
*   第 2 栏：1，数量
*   第三栏：2，价格
*   第 4 栏：3，金额

为避免这种情况，您可能可以使用命名列：

```
dg_invoices_items["Qty", e.RowIndex].Value = Convert.ToString(
     Convert.ToInt32(dg_invoices_items["Price", e.RowIndex].Value) *
     Convert.ToInt32(dg_invoices_items["Amount", e.RowIndex].Value)); 
```

虽然我目前无法测试任何代码，所以这可能行不通。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-09-21T17:24:45.120

我遇到过同样的问题。它的工作原理如下

```
dgvInvoice["TOTAL", e.RowIndex].Value = Convert.ToInt32(dgvInvoice["QUANTITY", e.RowIndex].Value.ToString()) * Convert.ToInt32(dgvInvoice["U_PRICE", e.RowIndex].Value.ToString()); 
```

# .htaccess - mod_rewrite 重定向而不是重写 URL

> ID：12258389
> 
> 赞同：0
> 
> 时间：2012-09-04T07:08:01.117
> 
> 标签：.htaccess, mod-rewrite, hosting

今天是个好日子，

我有一个包含以下内容的 HTACCESS 文件：

```
Options +FollowSymlinks

RewriteEngine on

RewriteRule ^(.*)$ http://mydomain.com/public/$1

RewriteCond %{REQUEST_FILENAME} -s [OR]
RewriteCond %{REQUEST_FILENAME} -l [OR]
RewriteCond %{REQUEST_FILENAME} -d 
```

该代码的目的是当用户键入我的域名'mydomain.com'时，它不会调用mydomain.com/index.php，而是会在没有用户的情况下调用mydomain.com/public/index.php注意到重定向（或内部重定向）。

我在某个网站上获得了代码，它可以在我的本地机器（WAMP 堆栈）上运行。问题是，当我现在将其传输到共享托管服务器时，会发生外部重定向而不是内部重定向。例子：

然后在地址栏中键入 mydomain.com 将是 mydomain.com/public。

我已经检查了托管服务器的配置，是的，

*   HTACCESS 已启用。
*   mod_rewrite 已启用。
*   我可以使用 HTACCESS 文件修改 PHP 设置。

共享托管服务器实现 LAMP 堆栈。

关于我缺少什么的任何想法？非常感谢你！

**编辑**

我所有的重写不仅重定向了在我的本地计算机上完美运行的代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:19:37.253

摆脱`http://mydomain.com`规则目标中的 。它告诉重写引擎重定向而不是内部重写。

# vb.net - 更新 DataGridView 中的行后如何将焦点设置在更新的行上？

> ID：12258390
> 
> 赞同：0
> 
> 时间：2012-09-04T07:08:00.477
> 
> 标签：vb.net

更新 DataGridView 中的行后如何将焦点设置在更新的行上？

我想在更新行后将焦点放在更新的行上，然后显示 datagrridview

DataGridView.CurrentCell = DataGridView.Rows(RowIndex)...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T08:52:01.090

利用

```
 'update en refresh your datagrid like so.
    myDataGrid.Update()
    myDataGrid.Refresh()

    'fill in the correct rowindex and column index and this will select/focus the 
    'correct row.
    myDataGrid.Select(rowIndex, ColumnIndex) 
```

# matlab - Sublime Text 2中Matlab命令的制表符完成？

> ID：12258391
> 
> 赞同：2
> 
> 时间：2012-09-04T07:08:02.770
> 
> 标签：matlab, sublimetext2, tab-completion

我最近开始使用 Sublime Text 2 来编辑我的 Matlab 文件 (.m)，因为我对它的内置编辑器感到沮丧。

我想知道，在 Sublime Text 中是否有本机编辑器（用于函数和命令）的**制表符补全？**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-09T19:40:54.603

受 Flom Enol 问题的启发，我为 MATLAB 标准工具箱创建了一个片段库。他们可以在[这里找到](https://github.com/AGS-Knight/matlab-snipp)

目前，这个库中有大致的`4000`片段。我希望在不久的将来添加额外的工具箱并将这些库合并到 ST2 的“包控制”中。

希望这些有用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T09:19:51.203

我认为您必须为您希望在 ST2 中以制表符完成的那些 matlab 函数创建片段。据我所知，没有可用的现有库。

例如，来自我的 ST2：

![在此处输入图像描述](../Images/0de79e00764c94555607238d74e0f08b.png)

# android - 模拟分辨率1024 X 600的安卓平板电脑

> ID：12258392
> 
> 赞同：0
> 
> 时间：2012-09-04T07:08:02.770
> 
> 标签：android, android-emulator

我想在我的 eclipse for android 中模拟平板电脑。如何模拟 600 X 1024 分辨率的平板电脑。使用模拟器 WXGA 720 是否可以达到同样的目的？请提供帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:12:08.190

在 Eclipse 中，您可以选择 Window --> AVD Manager，然后选择 In AVD Manager as --> New / Edit --> 选择 Resolution 和 value as 1024 X 600。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:13:12.863

要更改分辨率，您必须在 Eclipse 中打开 AVD 管理器和

*   选择正在运行的模拟器
*   点击编辑
*   将打开 AVD 窗口，然后选择选项分辨率
*   填充你想要的分辨率例如 600 * 1024

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T07:09:33.327

在 Create New AVD 下，您可以在皮肤下指定分辨率

# php - 通过循环php简单计数？

> ID：12258397
> 
> 赞同：0
> 
> 时间：2012-09-04T07:08:19.030
> 
> 标签：php, variables, loops

我有一个简单的问题，我不太确定如何使用循环来获取 php 变量并将它们添加在一起

假设我有这个循环

```
$total = 0;
while ( $foo ='bar' );
    $amount = meta($row, 'amount');
endwhile;

$total = 'NEW AMOUNT'; 
```

我的问题是，如何将金额（从 1 到 200 的任何地方）加在一起以创建底部`$total`？对象的数量`while ( $foo ='bar');`不断增长，可以是 2 个对象，也可以是 2000 个。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:13:30.070

```
$total = 0;
while ( $foo ='bar' )
{
    $amount = meta($row, 'amount');
    $total = $total + $amount;
} 
```

像这样的东西？如果两者`$total`和`$amount`都是整数，则可以将它们加在一起。

我还假设`meta()`是一种计算金额并返回的方法？

请注意我是如何更改 while 循环（添加大括号）的，在右大括号之后，您应该拥有`$total`包含总量的变量。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T07:11:10.957

添加`$total`并更改`;`前面的`while`with`:`以开始`while`：

```
$total = 0;
while ( $foo = 'bar' ):
    $total += meta($row, 'amount'); // assuming `meta()` is one of your functions that extract `amount` from someplace ..
endwhile;

echo $total; 
```

# github - 如何在 GitHub 存储库中创建文件夹？

> ID：12258399
> 
> 赞同：574
> 
> 时间：2012-09-04T07:08:28.013
> 
> 标签：github, github-services

我想在 GitHub 存储库中创建一个文件夹，并想在该文件夹中添加文件。我如何实现这一目标？

* * *

## 回答 #1

> 赞同：482
> 
> 时间：2015-12-14T02:53:47.943

**TL;DR**在文件名字段中使用`/`以创建文件夹，例如`folder1/file1`在文件名字段中键入将创建一个文件夹`folder1`和一个文件`file1`。

**原始答案**
您不能创建一个空文件夹*，然后*将文件添加到该文件夹​​，而是必须在创建文件夹的*同时*添加至少一个文件。这是因为 git 不跟踪空文件夹。

在 GitHub 上，您可以这样做：

*   转到要在其中创建另一个文件夹的文件夹
*   点击*新建文件*
*   在文件名的文本字段中，首先写下您要创建的文件夹名称
*   **然后键入`/`**。这将创建一个文件夹
*   您可以类似地添加更多文件夹
*   最后，为新文件命名（例如，`.gitkeep`通常用于让[*Git*](https://stackoverflow.com/a/7229996)跟踪其他空文件夹；但它不是 Git 功能）
*   最后，点击*Commit new file*。

* * *

## 回答 #2

> 赞同：255
> 
> 时间：2012-09-04T07:12:33.503

[Git 不存储空文件夹](https://git.wiki.kernel.org/index.php/GitFaq#Can_I_add_empty_directories.3F)。只需确保文件夹中有一个文件，如 doc/foo.txt 并运行`git add doc`or `git add doc/foo.txt`，该文件夹将在您提交后添加到您的本地存储库（并在您推送后显示在 GitHub 上）。

* * *

## 回答 #3

> 赞同：51
> 
> 时间：2017-01-10T06:22:05.453

对于使用网络浏览器的用户，您可以执行以下操作：

*   进入主存储库后，单击`Create new file`。
*   在顶部的文件名称框中，输入**文件夹的名称**
*   在文件夹名称后使用**/键。****使用此正斜杠创建文件夹**
*   您可以看到文件夹名称旁边出现一个新框，您可以在其中键入文件的名称。
*   在页面底部的*提交新文件框中，您可以键入文件的描述。*
*   选择单选按钮*直接提交到`master`分支*。
*   点击`Commit new file`按钮
*   您将看到将创建新目录。

* * *

## 回答 #4

> 赞同：41
> 
> 时间：2012-09-04T07:17:37.043

首先，您必须将存储库克隆到本地计算机

```
git clone github_url local_directory 
```

然后你可以在你的内部创建本地文件夹和文件`local_directory`，并使用以下命令将它们添加到存储库中：

```
git add file_path 
```

您还可以使用以下方法添加所有内容：

```
git add . 
```

请注意，Git 不会跟踪空文件夹。一种解决方法是在要跟踪的空文件夹中创建一个文件。我通常命名该文件`empty`，但它可以是您选择的任何名称。

最后，您提交并推送回 GitHub：

```
git commit
git push 
```

有关 Git 的更多信息，请查看*[Pro Git](http://git-scm.com/book)*书籍。

* * *

## 回答 #5

> 赞同：27
> 
> 时间：2020-08-28T14:40:57.817

### 简单的步骤：

**第一步：点击`Create new File`**

[![点击](../Images/3a20354ce86cdc07106cacb2ad1f9476.png)](https://i.stack.imgur.com/RAwXS.jpg)

* * *

**第 2 步：输入您想要的文件夹名称，然后按`/`**

[![在文本字段中输入文件夹名称](../Images/81512be6598da865b5924a864e7ba6e0.png)](https://i.stack.imgur.com/aFY8E.jpg)

* * *

**第 3 步：输入示例文件名。您必须输入一些文本。**

[![输入样本文件名](../Images/2241a8fbb7a51e0761f7aced803672d9.png)](https://i.stack.imgur.com/E04Zd.jpg)

* * *

**第四步：点击`Commit new file`创建文件夹**

[![点击](../Images/e549e978625bf1f3db005ef29494fa37.png)](https://i.stack.imgur.com/lMvFr.jpg)

* * *

**第 5 步：您的文件夹已创建！**

[![文件夹出现在存储库主页内](../Images/e7fcb0eafd176a02ba2c5eca80a8844c.png)](https://i.stack.imgur.com/bMFhB.jpg)

* * *

## 回答 #6

> 赞同：8
> 
> 时间：2016-02-22T05:30:10.457

创建一个新文件，然后在文件名上使用斜杠。例如

Java/Helloworld.txt

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2012-09-04T07:51:05.967

您只需在本地存储库中创建所需的文件夹。例如，您创建了`app`和`config`目录。

您可以在这些文件夹下创建新文件。

对于 Git 规则：

1.  首先，我们需要将文件添加到目录中。
2.  然后提交那些添加的文件。

执行提交的 Git 命令：

1.  `git add app/ config/`
2.  `git commit`

然后给出提交信息并保存提交。

然后推送到你的远程仓库，

```
git push origin remote 
```

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2017-07-20T14:12:24.193

实际上 GitHub 并没有创建一个空文件夹。

例如，要在 中创建文件夹`C:\Users\Username\Documents\GitHub\Repository`：

*   创建一个名为**docs的文件夹**

*   `index.html`在**docs**下创建文件名

***   打开 GitHub 桌面应用程序

    它会自动同步，并且会在那里。** 

 *** * *

## 回答 #9

> 赞同：3
> 
> 时间：2020-04-25T07:40:27.513

在 github repo 在线点击***新文件。***然后写入文件名，`myfolder/myfilename`然后给出文件内容并提交。然后文件将在该新文件夹中创建。

* * *

## 回答 #10

> 赞同：2
> 
> 时间：2021-04-14T11:06:53.783

请按照以下步骤在存储库下创建文件夹

```
1\. Login into Github.
2\. Select your repository.
3\. Tap on "Add file" to the "Create New File" Option.
4\. Enter your Folder Name(Ex: RepositoryName/FolderName) and enter "/".
5\. Enter file name to commit. I have created README.md for each folder so that it will be easy for me to maintain the details of every folder.
6\. Scroll down to the Commit new file section.
7\. Choose an option to merge directly to the "master" branch or "Create a new branch".
8\. Finally, You need to tap on "Commit new file". 
```

现在，只要您点击提交新文件，它就会创建并将您带回存储库。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2020-07-22T12:35:28.787

**这是在存储库中**创建文件夹****的一种简单快捷**、目前可用的**浏览器方法。****

 ****1）单击存储库/创建一个新的存储库。

2）点击创建添加文件，然后创建一个新文件。

3）给你要创建的文件夹名称加上'/'标记，然后在其中添加一个文件

4）提交更改

单击[此处](https://medium.com/@shrimaliasi/create-folders-inside-a-repository-in-github-ae81b9ab003b)按顺序显示上述步骤的可视化表示。

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2020-11-01T14:35:19.973

我不知道每当我在存储库名称中使用“/”时，它都会被“-”替换，也许 github 改变了创建文件夹的方法。

所以我要告诉你我做了什么来创建一个空文件夹并添加文件。

1.  点击新建
2.  输入您的文件夹名称，仅此而已
3.  点击“添加自述文件”
4.  单击“创建存储库”
5.  现在克隆您创建的文件夹。
6.  在本地仓库中添加文件或文件夹
7.  提交更改。
8.  你去吧。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2017-12-11T07:28:16.457

要添加新目录，您只需在本地存储库中创建一个新文件夹。创建一个新文件夹，并在其中添加一个文件。

现在转到您的终端并像在 Git 中添加普通文件一样添加它。将它们推送到存储库中，并检查状态以确保您已创建目录。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2022-01-15T10:32:56.287

只需将文件夹从 Windows 资源管理器拖到显示 github 上传文件的浏览器中 - 现在文件夹将自动添加...******

# c - 为什么编译器不停止在指定点取输入？

> ID：12258402
> 
> 赞同：-3
> 
> 时间：2012-09-04T07:08:40.097
> 
> 标签：c

```
#include <stdio.h>

int main()
{
    int c1;
    char op;
    printf("\n(Int or Float) \n\t[1.for int  2.for float] \nEnter Choise : ");
    scanf("%d",&c1);

    if (c1==1)
    {
        printf("\n(select opearion) \n\t[+, -, *] \nEnter Choise : ");
        scanf("%c", &op);

        int a,b,r;
        printf("\n Enter Two no. : ");
        scanf("%d%d ", &a,&b);

        switch (op)
        { 
        case '+': r=a+b;
            break;
        case '-': r=a-b;
            break;
        case '*': r=a*b;
            break;
        default:
            printf("Wrong Operator Entered");   
        }
        printf("\n\n Result = %d \n\n",r);
    }
    else if(c1==2)
    {
        printf("\n(select opearion) \n\t[+, -, *] \nEnter Choise : ");
        scanf("%c", &op);

        float a,b,r;
        printf("\n Enter two numbers : ");
        scanf("%f%f", &a,&b);

        switch (op)
        { 
        case '+': r=a+b;
            break;
        case '-': r=a-b;
            break;
        case '*': r=a*b;
            break;
        default:
            printf("Wrong Operator Entered");   
        }
        printf("\n\n Result = %f\n\n",r);
    }
    else
    {
        printf("\n\n Wrong choise entered \n\n");
    }
} 
```

运行该程序后，程序不等待取 op 的值，而是直接进入询问 Entering Two no。为什么会这样？

为什么程序会跳过从所需操作的用户那里取值的部分，并进入下一步询问要执行操作的两个编号。为什么程序会跳过该值参与。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-04T07:26:16.303

scanf 可能是有史以来从用户那里获取输入的最不友好的方式。它适用于固定格式的文件（或多或少），但对于交互式输入，我不会用 bargepole 触摸它。

第一个读取数字的 scanf 在第一个非数字处终止，并将其留给下一个 scanf 读取。第一个非数字是您很可能输入的换行符。

这就是你得到的操作。

您最好的选择可能是使用 getline 读取一整行用户输入并在其上使用 sscanf （如果您想稍微验证输入，则使用 strtoul ）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-04T07:25:05.560

在第一个之后`scanf()`，输入缓冲区中剩下一个换行符，由下一个消耗`scanf`。所以，它不等待输入。

在第一次调用 scanf 后使用`getchar()`以消耗换行符。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-04T07:34:41.110

与标准输入关联的控制台设备通常是行缓冲的，因此 scanf() 直到有完整的行可用时才返回。但是 %d 转换说明符仅消耗数字字符，将*换行符*（以及您可能键入的任何非数字字符）留在缓冲区中，因此下一个 scanf 调用立即返回但不执行转换。

如果您从未输入任何数字字符而只是按“Enter”，您也会遇到问题。

你应该做两件事：

1.  检查 scanf() 的返回值以检查有效转换。
2.  刷新所有剩余字符的行缓冲区，包括*换行符*。

例如：

```
int scanf_check ;

...

// Accept valid input
do
{
    scanf_check = scanf("%d",&c1);

} while( scanf_check != 0 )

while( getchar() != '\n' ) { /* do nothing */ } // Flush the line 
```

使用 %ca 时需要稍微不同的习语；转换检查是不必要的，因为所有字符都可以用 %c 读取，但是如果输入 id “空”，仍然会有换行符，所以：

```
scanf("%c", &op);
while( op != '\n' && getchar() != '\n' ) { /* do nothing */ } // Flush the line 
```

如果 op 已经是*newline*，则会发生 && 的短路评估并且不会调用 getchar() ，否则会像以前一样调用 getchar() 直到找到输入的结尾。

# c++ - 如何释放 GLU_TESS_COMBINE 回调中分配的内存

> ID：12258404
> 
> 赞同：1
> 
> 时间：2012-09-04T07:08:43.797
> 
> 标签：c++, opengl

我正在使用 GLUtesselator 来填充一些非凸多边形。

它工作得很好，但是对于一些多边形，它*抱怨*它需要一个组合函数，所以我提供了一个非常简单的 GLU_TESS_COMBINE 回调，它分配一个新顶点并只复制坐标（它是纯色的 2D，所以我不需要插值RGB值或任何东西）：

```
void CALLBACK tessCombine( GLdouble coords[3], GLdouble * vertex_data[4], GLfloat weight[4], GLdouble **outData )
{
    GLdouble *vertex = new GLdouble[3];
    vertex[0] = coords[0];
    vertex[1] = coords[1];
    vertex[2] = coords[2];
    *outData = vertex;
} 
```

现在一切都按预期呈现，但它显然泄漏了内存。文档说：

> 分配另一个顶点，[...] 在调用 gluTessEndPolygon 后的某个时间释放内存。

但是在我发现的所有示例中，它们都没有显示如何处理内存。回调是免费函数，没有办法释放那里分配的内存，是吗？

我能想到的唯一方法是将它们存储在某个地方，然后自己删除它们。这是正确的方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T07:26:39.470

看看[这个 OpenGL Tessellation 教程](http://www.songho.ca/opengl/gl_tessellation.html)。

关键是不要在回调中分配任何内存（否则你会得到内存泄漏）。相反，您应该将顶点数据复制到回调中的内存位置（就像在示例中所做的那样[）](http://www.songho.ca/opengl/gl_tessellation.html)。从哪里复制顶点数据，由您决定。

这是回调函数在他们的[示例](http://www.songho.ca/opengl/gl_tessellation.html)中的样子：

```
void CALLBACK tessCombineCB(const GLdouble newVertex[3], const GLdouble *neighborVertex[4],
                            const GLfloat neighborWeight[4], GLdouble **outData)
{
    // copy new intersect vertex to local array
    // Because newVertex is temporal and cannot be hold by tessellator until next
    // vertex callback called, it must be copied to the safe place in the app.
    // Once gluTessEndPolygon() called, then you can safly deallocate the array.
    vertices[vertexIndex][0] = newVertex[0];
    vertices[vertexIndex][1] = newVertex[1];
    vertices[vertexIndex][2] = newVertex[2];

    // compute vertex color with given weights and colors of 4 neighbors
    // the neighborVertex[4] must hold required info, in this case, color.
    // neighborVertex was actually the third param of gluTessVertex() and is
    // passed into here to compute the color of the intersect vertex.
    vertices[vertexIndex][3] = neighborWeight[0] * neighborVertex[0][3] +   // red
                               neighborWeight[1] * neighborVertex[1][3] +
                               neighborWeight[2] * neighborVertex[2][3] +
                               neighborWeight[3] * neighborVertex[3][3];
    vertices[vertexIndex][4] = neighborWeight[0] * neighborVertex[0][4] +   // green
                               neighborWeight[1] * neighborVertex[1][4] +
                               neighborWeight[2] * neighborVertex[2][4] +
                               neighborWeight[3] * neighborVertex[3][4];
    vertices[vertexIndex][5] = neighborWeight[0] * neighborVertex[0][5] +   // blue
                               neighborWeight[1] * neighborVertex[1][5] +
                               neighborWeight[2] * neighborVertex[2][5] +
                               neighborWeight[3] * neighborVertex[3][5];

    // return output data (vertex coords and others)
    *outData = vertices[vertexIndex];   // assign the address of new intersect vertex

    ++vertexIndex;  // increase index for next vertex
} 
```

# jquery - 包含选项绑定的 KnockoutJS Foreach 不更新 ViewModel

> ID：12258410
> 
> 赞同：1
> 
> 时间：2012-09-04T07:09:07.777
> 
> 标签：jquery, data-binding, foreach, knockout.js

我正在尝试在 KO 的绑定中使用嵌套的`options`, ( `optionsText`, `optionsValue`) 和`value`绑定。`foreach`

我希望以下代码将选择框绑定到 ViewModel 的相关项`Item`，但它似乎没有更新视图模型中的值——它们始终保持为我用“n/a”初始化它们的值——我该怎么做那？

我已经设置了一个html页面，如下所示：

```
<table>
    <tbody data-bind="foreach: Items">
        <tr>
            <td>
                <select data-bind="options: $parent.Countries, optionsText: 'Name', optionsValue: 'Code', value: 'Country'"></select>
            </td>
            <td>
                <span data-bind="text: Country"></span>                    
            </td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <td colspan="2">
                <a href="#" data-bind="click: AddItem">Add item</a>
            </td>
        </tr>
    </tfoot>
</table> 
```

使用以下 JavaScript：

```
var countries = ko.observableArray([
    { Name : "United Kingdom", Code : "UK", Population : "1 Monarch" },
    { Name : "Australia", Code : "AU", Population : "22 million kangaroos" },
    { Name : "Antarctica", Code : "AQ", Population : "100,000 penguins (0 polar bears)" }
]);

var item = { Country : "n/a" };

var ViewModel = function() {
    this.Countries = countries;

    this.Items = ko.observableArray();
    this.AddItem = function() {
        this.Items.push(ko.mapping.fromJS(item));
    };
};
var vm = new ViewModel();

ko.applyBindings(vm); 
```

小提琴在[这里](http://jsfiddle.net/UCAxs/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:19:02.913

从`value`绑定中删除引号：

```
<select data-bind="options: $parent.Countries, 
                   optionsText: 'Name', 
                   optionsValue: 'Code', 
                   value: Country"></select> 
```

这是工作小提琴： [链接](http://jsfiddle.net/UCAxs/1/)

# sql - T-SQL 错误信息 Msg 10709 是什么意思，

> ID：12258412
> 
> 赞同：2
> 
> 时间：2012-09-04T07:09:13.297
> 
> 标签：sql, tsql

这是我的代码，我添加了相同的行，所以它匹配它为什么仍然说错误？

```
Use KudlerFineFoods
INSERT INTO Employee (Lastname,Firstname,[Address],City,[State],TelephoneAreaCode,TelephoneNumber,EmployerInformationReport,HiredDate,Salary,Gender,Age,JobTitleID)

VALUES 
('Edelman','Glenn','175 Bishop Lane','La    Jolla','CA','619','5550199','https://ecampus.phoenix.edu/secure/aapd/CIST/VOP/Business/Kudl er2/intranet/docs/Glenn%20Edelman%202004.pdf','07/10/2003','$21,500','m','1979/12/01',4),
 ('McMullen','Eric', '763 Church Street','Lemon Grove','CA','619','5550135', 'https://ecampus.phoenix.edu/secure/aapd/CIST/VOP/Business/Kudler2/intranet/docs/Eric%20McMullen%202004.pdf',
  '2002/11/01','13,500.00','m','1992/01/01',3),
('Slentz','Raj', '123 Torrey Drive','North Clairmont','CA','619','5550123','https://ecampus.phoenix.edu/secure/aapd/CIST/VOP/Business/Kudler2/intranet/docs/Raj%20Slentz%202004.pdf','2001/06/01','48,000.00','m','1978/02/04',2),
 ('Broun','Erin', '2045 Parkway Apt 2BY','Encinitas' ,'CA','760','555','5550100', 'https://ecampus.phoenix.edu/secure/aapd/CIST/VOP/Business/Kudler2/intranet/docs/Erin%20Broun%202004.pdf','2003/12/03','$10,530.00','f','19880201',3),
 ('Carpenter','Donald', '927 Seond Street', 'Encinitas','CA', '927','5550154','https://ecampus.phoenix.edu/secure/aapd/CIST/VOP/Business/Kudler2/intranet/docs/Donald%20Carpenter%202004.pdf','2003/11/01','$15,000.00','m','1995/01/01',9),
 ('Esquivez','David','1083 N. Coast HWY Apt 902','Encinitas','CA','760','5550108','https://ecampus.phoenix.edu/secure/aapd/CIST/VOP/Business/Kudler2/intranet/docs/David%20Esquivez%202004.pdf','2003/07/25','$18,500.00','m','1991/01/01',8),
 ('Sharp','Nancy', '10793 Montecino Road','Domona','CA','858','5550135', 'https://ecampus.phoenix.edu/secure/aapd/CIST/VOP/Business/Kudler2/intranet/docs/Nancy%20Sharp%202004.pdf','2003/07/12','$21,000.00','f','1992/07/07',4); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:17:03.057

第一列中的 HiredDate 具有不同的语法：

```
'07/10/2003' 
```

Broun 行与`'555','5550100'`其他`'555'`行相比是额外的数据

# facebook-graph-api - 获取 Facebook 活动的类别

> ID：12258413
> 
> 赞同：3
> 
> 时间：2012-09-04T07:09:15.367
> 
> 标签：facebook-graph-api

[由于Facebook Graph Api Event 端点](https://developers.facebook.com/docs/graph-api/reference/v2.2/event)没有类别属性，因此我在查找 Facebook 事件的类别时遇到问题。我希望有一些我错过的聪明方法来做到这一点。

先举几个例子。假设用户在 Facebook 上为“汤姆的生日派对”创建了一个活动。这可能属于“派对”类别。而“朱迪的画作——在 FussFuss 画廊开幕”将属于“艺术”类别。

我能找到的唯一方法是：

1.  将活动与其场地（[Facebook Page 端点](https://developers.facebook.com/docs/graph-api/reference/v2.2/page)）配对并使用场地类别，但通常此类别与活动不太匹配。
2.  另一种方法是对事件描述进行文本分析。例如，如果事件描述是“Jerry's Basement 的现场重金属音乐之夜。BYOB”，那么我们可以做一些简单的事情，比如检测“音乐”关键字，一直到 NLP 来尝试确定含义。
3.  以上与加权的某种组合。

以上所有内容有时会产生错误的类别。

有没有人对如何确定事件类别有更好的想法？任何想法表示赞赏！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-01-25T16:20:01.237

从 graph api v2.4 开始，类别字段现在可用。唯一的问题（无论如何从我的测试来看）是没有多少人在创建事件时使用这个字段。在当前为我的呼叫返回的 434 个事件中（来自使用的 95 个 ID），只有 2 个提供了一个类别。这可能只与我正在调用的事件类型有关，但认为注意它会很有用:)

# java - jdbc连接关闭和preparedstatement关闭

> ID：12258414
> 
> 赞同：5
> 
> 时间：2012-09-04T07:09:18.590
> 
> 标签：java, jdbc, database-connection, prepared-statement

大家好，我知道这是一个老问题，但今天只是好奇。正如我们所知，connection.close 也会关闭preparedStatement（如果我错了，请纠正我）。但是如果我关闭连接然后关闭preparedStatement怎么办

```
conn.close();
ps.close(); 
```

我会得到一个空指针异常吗？

有人说取决于你的jvm速度。有时 ps.close() 会在 conn.close 完成他的工作之前先运行并关闭，所以你不会得到空指针。

为了测试，我修改了代码

```
conn.close();
Thread.sleep(5000);//I give 5s to conn.close to finish his work. should be enough
ps.close(); 
```

但我没有得到空指针。

所以我的问题是，如果我先关闭 conn 然后关闭 ps，这里会发生什么。

谢谢大家。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-04T07:15:40.230

状态的 JavaDoc `Statement.close()`：

> 对已关闭`close`的对象调用该方法无效。`Statement`

我建议这意味着如果您的语句已经通过调用`Connection.close()`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:16:57.643

根据语句接口的javadoc

```
close
void close()
           throws SQLExceptionReleases this Statement object's database and JDBC resources immediately instead of waiting for this to happen when it is automatically closed. It is generally good practice to release resources as soon as you are finished with them to avoid tying up database resources. 
**Calling the method close on a Statement object that is already closed has no effect.** 
```

所以如果你关闭一个已经关闭的 Statement 不会有任何问题。

# android - 在我的应用程序中为 inputType = number 显示拨号键盘？

> ID：12258417
> 
> 赞同：1
> 
> 时间：2012-09-04T07:09:25.093
> 
> 标签：android, input, android-input-method

我有一个editText，它设置为只接受数字，正如预期的那样，键盘会弹出来输入数字，但它也有`@, & #,`等等。我想显示我们在默认拨号器中拥有的键盘，用于输入电话号码打电话。当动机是只输入数字时，这个更容易使用。有什么办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:13:21.237

`android:inputType="phone"`应该做你想做的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:12:02.853

根据您的要求设置编辑文本属性，例如...

android:inputType="numberDecimal"

安卓：inputType="数字"

**安卓：inputType="电话"**

# php - 如何控制我在 MySQL 中的最后一次导入

> ID：12258423
> 
> 赞同：0
> 
> 时间：2012-09-04T07:10:11.493
> 
> 标签：php, mysql, database, import

好吧，我有一个脚本可以处理一些数据，然后将其导入 mysql 数据库。

然后，我还有另一个脚本，它处理一些其他数据，然后它也将其导入 mysql 数据库。

**我想做的事：**

我想用第三个脚本来控制（例如，查看最后导入了多少行）仅使用最后一个脚本导入的行。不是这些由第一个导入的（但我不希望删除第一个导入的行以仅包含最后导入的行）。

MySQL或PHP中有什么方法吗？

如果我不清楚某事告诉我。

先感谢您！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:14:08.360

您总是可以`last_import`在数据库中添加一列。每次您的脚本将某些内容导入 mysql 数据库时，在导入之前，它会将所有的值更改`last_import`为 no 或类似的值，然后输入其值为 yes 或类似的值的行。使用此方法，您可以轻松判断哪些是上次导入的。

假设这是您的数据库：

```
-----------------
|  id  |  name  |
-----------------
|   1  |  Simon |
-----------------
|   2  | Richard|
-----------------
|   3  |  Jon   |
----------------- 
```

添加此字段：

```
-------------------------------
|  id  |  name  | last_import |
-------------------------------
|   1  |  Simon |     N       |
-------------------------------
|   2  | Richard|     N       |
-------------------------------
|   3  |  Jon   |     N       |
------------------------------- 
```

因此，如果您使用的是 mysql（如果不是，请告诉我），请在每次插入和处理数据时执行此操作：

```
// Process data before here
$query = "UPDATE thetable SET last_import = 'N'"; // Changes all values of last_import in table to N
$result = @mysql_query($query) or die (mysql_error());
$query = "INSERT command here"; // do your inserting, while inserting the rows, put Y as the value of the last_import. 
```

然后在您的最终检查文件中：

```
$query = "SELECT * FROM thetable WHERE last_import = 'Y'"; // Selects all that was last imported
// Process the query here 
```

那应该行得通。

**更新：**感谢 Gavin 的建议（感谢 Gavin！）我还建议使用时间戳值。这将像这样工作：

你的桌子会是这样的：

```
-------------------------------
|  id  |  name  | last_import |
-------------------------------
|   1  |  Simon |  1346748315 |
-------------------------------
|   2  | Richard|  1346748315 |
-------------------------------
|   3  |  Jon   |  1346748315 |
------------------------------- 
```

在您的插入查询中：

```
// Process data before here
$currenttimestamp = time();
$query = "INSERT command here"; // do your inserting, while inserting the rows, put $currenttimestamp as the value of the last_import. 
```

并且在选择时：

```
$query = "SELECT last_import FROM thetable ORDER BY last_import DESC LIMIT 1"; // Selects the most recent timestamp
$result = @mysql_query($query) or die (mysql_error());
$mostrecenttstmp = @mysql_result($result, 0);
$query = "SELECT * FROM thetable WHERE last_import = '$mostrecenttstmp'";
// Process the query here 
```

# cocoa - 从 NSOutlineView 中拖放

> ID：12258426
> 
> 赞同：8
> 
> 时间：2012-09-04T07:10:45.983
> 
> 标签：cocoa, drag-and-drop, nsoutlineview

我试图弄清楚如何实现从 NSOutlineView 到自身的拖放。

例如，我希望用户能够对 NSOutlineView 中的项目进行重新排序、嵌套和重新嵌套，但我不需要能够从任何其他源（如文件或其他视图）拖动项目。

我能找到的所有示例都涉及将项目拖动到 NSOutlineView 中，而不仅仅是在其内部并且看起来过于复杂。我认为这是可能的。

有人可以指出一些只处理这种情况的文档吗？也许我只是错过了显而易见的事情。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-04T07:58:03.463

我发现这方面的文档有些不清楚，除其他外，在 Lion 中添加了新的方法。

假设您需要 10.7 或更高版本，那么这可能是您实现的框架：

在您的数据源/委托类中，实现：

```
// A method to register the view for dragged items from itself. 
// Call it during initialization
-(void) enableDragNDrop
{
    [self.outlineView registerForDraggedTypes: [NSArray arrayWithObject: @"DragID"]];
}

- (id <NSPasteboardWriting>)outlineView:(NSOutlineView *)outlineView pasteboardWriterForItem:(id)item 
{
    // No dragging if <some condition isn't met>

    if ( dontDrag )  {
        return nil;
    }

    // With all the blocking conditions out of the way,
    // return a pasteboard writer.

    // Implement a uniqueStringRepresentation method (or similar)
    // in the classes that you use for your items.
    // If you have other ways to get a unique string representation
    // of your item, you can just use that.
    NSString *stringRep = [item uniqueStringRepresentation];

    NSPasteboardItem *pboardItem = [[NSPasteboardItem alloc] init];

    [pboardItem setString:stringRep forType: @"DragID"];

    return pboardItem;
}

- (NSDragOperation)outlineView:(NSOutlineView *)outlineView validateDrop:(id < NSDraggingInfo >)info proposedItem:(id)item proposedChildIndex:(NSInteger)index
{
    BOOL dragOK = // Figure out if your dragged item(s) can be dropped
                  // on the proposed item at the index given

    if ( dragOK ) {
        return NSDragOperationMove;
    }
    else {
        return NSDragOperationNone;
    }
}

- (BOOL)outlineView:(NSOutlineView *)outlineView acceptDrop:(id < NSDraggingInfo >)info item:(id)item childIndex:(NSInteger)index
{           
    // Move the dragged item(s) to their new position in the data model
    // and reload the view or move the rows in the view.
    // This is of course quite dependent on your implementation        
} 
```

最后一种方法需要填写大量代码，关于动画运动，samir 的评论中提到的 Apple 的[复杂表格视图演示代码](http://developer.apple.com/library/mac/#samplecode/TableViewPlayground/Introduction/Intro.html)非常有用，虽然有点难以破译。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-10-22T14:17:15.787

我创建了一个[小型示例项目](https://github.com/besi/mac-quickies/tree/master/OutlineView)，`NSOutlineView`您可以在其中添加和删除项目。

今天我已经根据@Monolo 的回答实现了拖放支持（[请参阅更改](https://github.com/besi/mac-quickies/commit/e8d2c2506349fa00a342c291a0031c40a1f598e3)）。

![截屏](../Images/83e455f395c1d6009ab4731fa2c52e92.png)

# ruby-on-rails - Ruby on Rails - 将变量传递给部分中的部分

> ID：12258429
> 
> 赞同：9
> 
> 时间：2012-09-04T07:10:51.127
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, partial-views

我通过 :collection 选项将集合（@feed_items）传递给 _feed_item 部分。在**_feed_item**部分内，我想渲染另一个部分**_like_button**。在**_like_button**部分中，我希望能够访问集合的特定成员。我应该从**_feed_item**部分传递什么到**_like_button**部分？

```
 @feed_items = current_user.user_feed.order("id DESC").limit(5) 
```

**_feed.html.erb**

```
 <%= render partial: 'shared/feed_item', collection: @feed_items %> 
```

**_feed_item.html.erb**

```
 <%= render 'likes/like_button', ????? %> 
```

**_like_button.html.erb**

```
 <% if like = current_user.likes.find_by_feed_id(feed_item.id) %> 
```

**编辑**

根据以下答案传递局部变量有效：

```
 <%= render :partial => 'likes/like_button', :locals =>{:feed_item => feed_item} %> 
```

`ActionView::Template::Error (undefined local variable or method 'feed_item'`但是，在提交 like 之后，当它尝试通过 ajax 再次呈现表单时，我得到了一个。如何通过 ajax 调用再次传递局部变量？

**控制器**

```
class LikesController < ApplicationController
  def create
    @like = Like.create(params[:like])
    @feed = @like.feed
    render :toggle
  end

  def destroy
    like = Like.find(params[:id]).destroy
    @feed = like.feed
    render :toggle
  end
end 
```

**切换.js.erb**

```
 $("#like").html("<%= escape_javascript render('like_button') %>"); 
```

**_like_button.html.erb**

```
 <% if like = current_user.likes.find_by_feed_id(feed_item.id) %>
  <%= form_for like, :html => { :method => :delete }, :remote => true do |f| %>
    <%= f.submit "Unlike" %>
  <% end %>
 <% else %>
  <%= form_for current_user.likes.build(:feed_id => feed_item.id), :remote => true do |f| %>
   <%= f.hidden_field :feed_id %>
   <%= f.hidden_field :user_id %>
   <%= f.submit "Like" %>
  <% end %>
 <% end %> 
```

**_feed_item.html.erb**

```
 <div id="like">
      <%= render :partial => 'likes/like_button', :locals =>{:feed_item => feed_item} %>
    </div> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-04T07:15:36.133

```
 <%= render :partial => 'likes/like_button', :locals =>{:feed_item => feed_item} %> 
```

Rails 有一些很棒的文档[http://guides.rubyonrails.org/layouts_and_rendering.html#passing-local-variables](http://guides.rubyonrails.org/layouts_and_rendering.html#passing-local-variables)

在切换.js

```
 $("#like").html("<%= escape_javascript(render :partial => 'likes/like_button', :locals =>{:feed_item => @feed}) %>"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:15:22.330

您需要将`feed_item`变量作为局部变量传递给局部变量`_like_button.html.erb`。

```
<%= render 'likes/like_button', :locals => { :feed_item => feed_item } %> 
```

这只是将`feed_item`内部部分中命名的本地设置为`feed_item`外部部分中的任何内容。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-04T07:26:05.223

当使用集合渲染部分时，您将获得与渲染文件名相同的局部变量。因此，您可以将文件名作为局部变量传递。

例如，如果您有 _feed_item.html.erb 并且您正在使用集合呈现此部分

```
render "feed_item", collection: @feed_items 
```

因此，您将在这个 feed_item 部分中获得 feed_item 局部变量。

因此，您可以将此 feed_item 变量作为局部变量传递给另一个部分（在您的情况下为 _like_button.html.erb）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-04T08:53:02.500

如果我理解，您必须执行以下操作：

**_feed.html.erb**

```
 <%= render partial: 'shared/feed_item', collection: @feed_items %> 
```

**_feed_item.html.erb**

在这里，您定义了一个名为的局部变量`feed_item`，并将该值分配为集合的每个元素。你可以省略这个词`locals`，因为 Rails 足够聪明，知道它是一个`local`变量。

```
 <% @feed_items.each do |feed_item| %>
 <%= render 'likes/like_button', feed_item: feed_item %>
 <% end %> 
```

**_like_button.html.erb**

```
 <% if like = current_user.likes.find_by_feed_id(feed_item.id) %> 
```

希望它可以帮助你。

# eclipse - 如何将 Eclipse 帮助系统中的 javadoc 链接到代码（javadoc 位置）

> ID：12258431
> 
> 赞同：0
> 
> 时间：2012-09-04T07:11:08.143
> 
> 标签：eclipse, birt

[一些 Eclipse 项目通过http://help.eclipse.org/juno/index.jsp](http://help.eclipse.org/juno/index.jsp)和/或在 Eclipse 的帮助系统 (F1) 中提供他们的 javadoc 。问题是这些 javadocs 没有链接到代码 - 悬停（或 f2）在类上产生

```
Note: The Javadoc for this element could neither be found in the attached source nor the attached Javadoc. 
```

那么如何将 javadoc 从帮助系统链接到代码呢？

（在我的特殊情况下，我希望链接 birt 帮助）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T08:20:02.480

单击缺少源的方法，然后按 F3。然后点击`Attach Source...`。现在您必须选择一个包含 BIRT 源代码的 jar 文件。

# c# - 在 C# 中更改 PDF 文本颜色

> ID：12258433
> 
> 赞同：3
> 
> 时间：2012-09-04T07:11:18.710
> 
> 标签：c#, pdf, .net

我正在寻找一种以编程方式更改 PDF 文档的文本颜色的方法。我找到了几个库，但现在我找到了一种只更改背景颜色的方法。我会很感激一个示例代码。开源库是首选。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T15:01:19.003

如果您负担得起商业工具，[Amyuni PDF Creator .Net](http://www.amyuni.com/en/developer/pdfcreator)允许您通过更改所需[文本对象](http://www.amyuni.com/WebHelp/Amyuni_PDF_Creator_for_NET/Object_Attributes/Drawing_Objects_Attributes/Text_Object_Attributes.htm)的 TextColor 和 BackColor 属性来完成此操作。这个 PDF 版本库可以修改页面内容，它会在文本下方为您绘制矩形。*通常免责声明适用于此建议*。

另一种可能性是从您的 PDF 文件生成位图，例如使用 ImageMagic，然后以编程方式应用颜色映射处理每个位图（例如，将每个颜色通道替换为 255 值以获得颜色反转），然后显示生成的图像或从中生成新的 PDF。这种方法的缺点是整个 PDF 将被转换为光栅图像，您将无法在其上选择文本。

# android - 运行 android lint 错误

> ID：12258435
> 
> 赞同：6
> 
> 时间：2012-09-04T07:11:19.790
> 
> 标签：android

我正在使用带有 Eclipse 的 android lint 工具来查找我的项目中的潜在错误，但几秒钟后它显示：

> “运行 Android Lint 遇到问题”

当我单击详细信息时，它显示：

> “失败的 java.lang.NullPointerException”。

有人可以给我一些建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T07:13:43.947

Lint Tool 指示资源中 XML 布局文件中的错误，检查所有布局文件并解决错误。

要查看错误，您可以从 Eclipse Menu-> Windows -> Show View-> Problems 执行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-16T23:22:33.940

转到帮助->安装新软件->使用“ [https://dl.google.com/android/eclipse/](https://dl.google.com/android/eclipse/) ”

注意：确保您使用的是 https，而不是更新中心的 http URL：[https ://dl.google.com/android/eclipse/](https://dl.google.com/android/eclipse/)

现在，当您重新启动 Eclipse IDE 时，您应该看不到任何 Lint Error 弹出消息。

# delphi - 如果只有一个指向它的指针，则释放一个对象

> ID：12258436
> 
> 赞同：0
> 
> 时间：2012-09-04T07:11:23.127
> 
> 标签：delphi, variables, pointers, delphi-xe2

我有一个存储指向某些对象的指针的数组，我想知道如果你只有一个指向它的指针，是否可以释放一个对象。例如：

```
var test_form :Tform;
    p: Pointer;
vartest := Tform.create(nil);
p:=@vartest; 
```

如果在运行时我只有**p** 是否可以释放**vartest**？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-04T07:25:44.607

指针`p`指向一个`TObject`变量。也就是说，`p`是一个指向对象引用的指针。因此，您需要取消引用`p`. 像这样：`p^`。因为`p`它是无类型的，所以您需要在调用 Free 方法之前对其进行转换。

所以，把它放在一起，你可以像这样释放对象：

```
TObject(p^).Free; 
```

不过，这不会修改`vartest`变量。它只会破坏对象。如果您也想设置`vartest`为`nil`，那么您可以这样做：

```
FreeAndNil(p^); 
```

`FreeAndNil`是一个奇怪的野兽，因为它需要一个无类型的参数。这就是为什么您不需要强制转换为`TObject`.

为了避免所有这些转换，最好将 p 声明为类型化指针，例如`^TObject`or `^TForm`。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-04T07:26:11.927

您只需要指定指针的类型，`p: ^TObject`而不是`p: pointer`，如下所示：

```
var test_form :Tform;
    p: ^TObject;

vartest := Tform.create(nil);
p:=@vartest;

....
p^.Free; 
```

然后您可以使用`p^`取消引用指针并使用指向对象实例。

*关于指针的一般建议：使用指针时，最好不要使用泛型`pointer`类型（除非它是强制性的），而是使用强类型的指针（就像大多数代码中`p: ^TObject`的所有`P* = ^T*`类型一样）：你的代码会很多更容易编码和调试。*

但请确保您的列表存储对象的指针，而不是对象本身。

大多数时候，列表存储对象引用自己。在这种情况下，只需将类型转换`pointer`为`TObject`.

```
var L: TList;
    i: integer;

L := TList.Create;
try
  L.Add(TObject.Create); // create an instance and add to the list
  ...
finally
  for i := 0 to L.Count-1 do
    TObject(L[0]).Free; // typecast to TObject and free the instance
  L.Free; // free the list
end; 
```

当然，在`TObjectList`这里使用 a 可能是自然的做法，但这显示了`pointer`<->`TObject`类型转换的真实用例。

# git - 带有远程 git 存储库的本地 Netbeans 设置

> ID：12258449
> 
> 赞同：5
> 
> 时间：2012-09-04T07:12:13.807
> 
> 标签：git, netbeans

我有一个远程生产 linux Web 服务器。在它上面，我实现了[这个设置](http://joemaller.com/990/a-web-focused-git-workflow/)：我在 web 根目录中有一个主要的存储库，并附加了集线器。我还有一个站点的 .dev 域设置，并且在该域的 webroot 中我有另一个存储库。我将经过测试的更改从它推送到集线器，然后它们会自动推送到主要位置。到现在为止还挺好。

我有两台用于开发的 PC（台式机和笔记本电脑，都是 Win）。我的 IDE 是 netbeans，我在那里通过 ssh 处理远程项目。每次在 netbeans 中编辑文件时，它都会自动将其上传到临时存储库，因此我可以立即进行测试，无需任何提交。然后当我看到这个特性很好时，我就提交了，在测试之后我把它推到集线器上，然后再推上去。

在我开始大量使用分支机构之前，这对我来说非常方便。每次我在服务器上签出一个新分支时，我都必须将整个项目重新下载到 netbeans，而且我经常忘记这样做。此外，当我在另一台 PC 上工作时，有时我也会忘记重新下载该项目。

我可以像以前一样使用 WinSCP+Notepad++，但我会怀念 netbeans 的酷炫之处。我可以一直通过 shell 和 vim 工作，但我对此还不够酷。如果我建立了一个本地存储库，那么我将不得不推送每个更改以进行测试，这既愚蠢又肮脏。也许使用 Dropbox 来存储存储库并自动同步？同样，我对服务器部分完全满意，本地编辑是问题所在。

**您如何建议我改进我的工作流程？**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T11:17:19.060

好的，一个月后，我对我采取的方法感到 100% 满意，并且我没有发现它有任何副作用。

我将我的 git 存储库放在服务器（Centos）上的 Dropbox 文件夹中。然后，到我的本地开发人员机器上，这些存储库会自动同步。我使用 NetBeans 打开同步的项目，无论我是否在线，都可以在本地工作。当我在线时，更改会无缝同步到服务器，因此我可以立即查看更改并在 .dev 域上进行测试。一个小的更改与服务器同步大约需要 3 秒。

我可以通过 Netbeans 在本地使用 git 存储库，也可以通过命令行 git 在服务器上使用。我更喜欢在服务器上提交和切换分支，在 NB 本地查看更改，使用视觉差异等。

这种方法非常适合[上述工作流程](http://joemaller.com/990/a-web-focused-git-workflow/)

# python - tox 如何通过需求文件安装模块？

> ID：12258456
> 
> 赞同：64
> 
> 时间：2012-09-04T07:12:56.087
> 
> 标签：python, tox

我们的 python 项目有一个 requirements.txt 文件，其中列出了一些依赖模块。我们曾经使用

```
pip install -r requirements.txt 
```

安装这些依赖项。我们现在正在使用 tox 来构建测试环境。我的问题是我们如何直接通过 requirements.txt 安装模块。

以下是我们的 tox.ini 和 requirements.txt：

毒物.ini：

```
[tox]
envlist=py27
[testenv]
deps=pytest
     boto
commands=py.test 
```

要求.txt：

```
boto 
```

有什么方法可以从 tox.ini 中删除“boto”并添加类似的东西

```
deps_files=requirements.txt 
```

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2012-09-04T07:16:23.780

```
 deps = -r{toxinidir}/tools/pip-requires
        -r{toxinidir}/tools/test-requires 
```

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2013-09-23T16:56:03.897

以下对我有帮助（其他解决方案对我不起作用）：

```
deps=
    pytest
    -rrequirements.txt 
```

至少如果您添加并使用相对较新的 `tox (>= 1.6.1) 版本（[请参阅此处](http://tox.readthedocs.org/en/latest/example/basic.html#depending-on-requirements-txt)`requirements.txt`），这至少有效。`MANIFEST.in`

* * *

## 回答 #3

> 赞同：24
> 
> 时间：2016-05-26T01:43:39.257

我已经按照上面接受的答案设置了我的依赖项，但是没有像第一次运行 tox 时那样安装任何新的依赖项。要在 virtualenv 中安装新的依赖项，我必须强制 tox 重新创建环境，如下所示：

`tox --recreate -e py27`

[更新：这个问题应该在`tox`v4 中修复]

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2017-12-03T12:20:51.800

您可以将依赖项和测试依赖项放在`requirements.txt`根`requirements.testing.txt`目录中。

放入`tox.ini`项目的根目录，您可以使用以下方法安装依赖项。

`[testenv] deps = -r{toxinidir}/requirements.txt -r{toxinidir}/requirements.testing.txt`

除了升级依赖

`[testenv] deps = -Ur{toxinidir}/requirements.txt -Ur{toxinidir}/requirements.testing.txt`

# asp.net - UserNameRequiredErrorMessage 未显示在 asp.net 中使用验证摘要

> ID：12258468
> 
> 赞同：0
> 
> 时间：2012-09-04T07:13:33.230
> 
> 标签：asp.net

`UserNameRequiredErrorMessage`不适用于验证摘要。我已经把登录控制。在登录控件的验证过程中，没有消息。它只显示星号。我在包含母版页的页面中使用以下代码..

```
<asp:Login ID="Login1" 
  runat="server" 
  BackColor="#F7F7DE" 
  BorderColor="#CCCC99"
  ValidatorTextStyle-ForeColor="Red" 
  PasswordRequiredErrorMessage="You must enter a password."
  UserNameRequiredErrorMessage="You must enter a user name." 
  TextBoxStyle-Width="150"
  BorderStyle="Solid" BorderWidth="1px" 
  Font-Names="Verdana" Font-Size="10pt"
  TitleText="Members Login" 
  InstructionText="Please enter your user name and password for login."
  onauthenticate="Login1_Authenticate" 
  onloginerror="Login1_LoginError">

  <TitleTextStyle BackColor="#476042" Font-Bold="True" ForeColor="#FFFFFF"/>

</asp:Login>

<asp:ValidationSummary id="ValidationSummary1" 
  ShowMessageBox="true" 
  ShowSummary="true" 
  runat="server" 
  ValidationGroup="Login1">
</asp:ValidationSummary> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:18:11.090

问题是您没有将`ErrorMessage`属性添加到登录控件请参阅下面的代码我在登录控件中添加了错误消息属性

```
<asp:Login ID="Login1" 
   runat="server" 
   BackColor="#F7F7DE" 
   ErrorMessage="Write your Error Message here"
   BorderColor="#CCCC99"
   ValidatorTextStyle-ForeColor="Red" 
   PasswordRequiredErrorMessage="You must enter a password."
   UserNameRequiredErrorMessage="You must enter a user name." 
   TextBoxStyle-Width="150"
   BorderStyle="Solid" BorderWidth="1px" 
   Font-Names="Verdana" Font-Size="10pt"
   TitleText="Members Login" 
   InstructionText="Please enter your user name and password for login."
   onauthenticate="Login1_Authenticate" 
   onloginerror="Login1_LoginError">

   <TitleTextStyle BackColor="#476042" Font-Bold="True" ForeColor="#FFFFFF"/>

</asp:Login> 
```

来自[MSDN](http://msdn.microsoft.com/en-us/library/dd5c6s6h%28v=vs.71%29.aspx)关于 ValidationSummary：

> 根据 DisplayMode 属性的值，摘要可以显示为列表、项目符号列表或单个段落。页面上每个验证控件的 ValidationSummary 控件中显示的**错误消息**由每个验证控件的 ErrorMessage 属性指定。**如果未设置验证控件的 ErrorMessage 属性，则不会**在该验证控件的 ValidationSummary 控件中显示错误消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:32:46.210

当您使用带有摘要的验证器时，您必须执行这些步骤

在验证器上设置`ErrorMessage="your message"`(UserNameRequiredErrorMessage)

在验证器上设置`Display="None"`(UserNameRequiredErrorMessage)

设置`ShowSummary="true"`摘要 (ValidationSummary1)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T07:56:52.570

如果您正在使用母版页并且您的登录控件位于内容页中，请尝试使用以下解决方法：

将此代码放在内容页面的 Page_Load 事件中：

```
if (Login1 != null)
{
  // Replace the returned underscores with dollar signs.
  ValidationSummary1.ValidationGroup = Login1.ClientID.Replace("_", "$");
} 
```

# android - 如何在android中跨越布局本身的textview？

> ID：12258473
> 
> 赞同：5
> 
> 时间：2012-09-04T07:14:01.210
> 
> 标签：android, textview, html

我可以跨越一个文本视图以使布局本身中的某些部分变为粗体。我有大约 20 个 xml 文件。我没有为他们使用任何活动，所以我不能以编程方式进行。那么有没有办法在xml布局本身中指定它。我已经尝试在它们之间使用，但它不起作用。

```
android:text="Lets look how to make <b> negative sentences <b> in simple present tense." 
```

不起作用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T07:28:45.747

您可以在 xml 中设置 textView 的样式，但我相信它必须是字符串资源，而不是像您正在做的硬编码值。将字符串移动到 strings.xml 并使用资源 id 访问它

```
 android:text="@string/name" 
```

检查这篇[文章](http://developer.android.com/guide/topics/resources/string-resource.html)。

从帖子中引用：

```
Supported HTML elements include:

<b> for bold text.
<i> for italic text.
<u> for underline text. 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-04T07:22:05.343

在这里检查

[http://developer.android.com/reference/android/text/Spannable.html](http://developer.android.com/reference/android/text/Spannable.html)

或者

[https://sites.google.com/site/androidhowto/style-text](https://sites.google.com/site/androidhowto/style-text)

或者

[http://www.java2s.com/Code/Android/2D-Graphics/UsingSpannabletextandsetstyle.htm](http://www.java2s.com/Code/Android/2D-Graphics/UsingSpannabletextandsetstyle.htm)

# tinymce - TinyMCE：从单词选项强制粘贴

> ID：12258474
> 
> 赞同：2
> 
> 时间：2012-09-04T07:14:05.960
> 
> 标签：tinymce

我使用 TinyMCE 只是从 word 中粘贴。我实际上正在做的是我正在使用 word 按钮中的粘贴，然后我在里面粘贴。

我想在每次粘贴时自动启用 word 粘贴功能，这样用户就不需要单击 word 粘贴按钮然后粘贴到第二个窗口中。

我正在使用 word 中的粘贴，因为从 word 中粘贴时添加了我不需要的所有样式。

这是我在使用简单粘贴选项时得到的 html 文本示例：

```
<!--        @page { margin: 0.79in }        P { margin-bottom: 0.08in; direction: ltr; color: #000000; line-height: 0.24in; text-align: justify; widows: 2; orphans: 2 }        P.western { font-size: 12pt; so-language: en-US }       P.cjk { font-family: "Times New Roman"; font-size: 12pt; so-language: de-DE }       A:link { color: #0000ff; so-language: zxx } --> Global Health Governance 
```

我只需要全球卫生治理。

非常感谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-10T09:05:14.217

在这种情况下，您需要使用 tinymce 配置设置[paste_preprocess](http://www.tinymce.com/wiki.php/Plugin:paste)来实现此功能。通过 tinymce 源代码进行浏览（可能是 js_scripts/tiny_mce/plugins/paste/editor_plugins_src.js 下的粘贴插件并将相关代码放在那里，或者按照我在另一个 stackoverflow 问题中提到的那样实现它： [TinyMCE Paste As Plain Text](https://stackoverflow.com/questions/4122451/tinymce-paste-as-plain-text)

# c#-4.0 - 这一段是什么意思？（来自 c#4.0 Herbert schildt）

> ID：12258475
> 
> 赞同：-1
> 
> 时间：2012-09-04T07:14:07.530
> 
> 标签：c#-4.0, c#-3.0

ref 和 out 的使用不限于值类型的传递。它们也可以在传递引用时使用。当 ref 或 out 修改引用时，它会导致引用本身通过引用传递。这允许方法更改引用所指的对象。

* * *

这部分是什么意思？

当 ref 或 out 修改引用时，它会导致引用本身通过引用传递。这允许方法更改引用所指的对象。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:23:18.793

这意味着通过使用`ref`您可以更改变量指向的对象，而不仅仅是对象的内容。

假设您有一个带有`ref`参数的方法，它替换了一个对象：

```
public static void Change(ref StringBuilder str) {
   str.Append("-end-");
   str = new StringBuilder();
   str.Append("-start-");
} 
```

当你调用它时，它会改变你调用它的变量：

```
StringBuilder a = new StringBuilder();
StringBuilder b = a; // copy the reference
a.Append("begin");

// variables a and b point to the same object:

Console.WriteLine(a); // "begin"
Console.WriteLine(b); // "begin"

Change(b);

// now the variable b has changed

Console.WriteLine(a); // "begin-end-"
Console.WriteLine(b); // "-start-" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:24:03.920

你可以这样做：

```
MyClass myObject = null;
InitializeIfRequired(ref myObject);
// myObject is initialized
...

private void InitializeIfRequired(ref MyClass referenceToInitialize)
{
    if (referenceToInitialize == null)
    {
        referenceToInitialize = new MyClass();
    }
} 
```

# java - java jsp显示数据库中的数据

> ID：12258478
> 
> 赞同：0
> 
> 时间：2012-09-04T07:14:09.597
> 
> 标签：java, oracle, jsp, tomcat, web.xml

您好我正在尝试在 jsp 页面中显示数据库的内容。我希望数据的连接和处理在 java 文件中，并且只有数据的显示将包含在 jsp 页面中。

我正在使用tomcat服务器。我的 WEB-INF/lib 文件夹中有 ojdbc6.jar 和 jstl-1.2.jar。

请告知我所缺少的。任何想法将不胜感激。谢谢你。

这是java文件的内容。

## DBConn.java

```
public class DBConn extends HttpServlet {

    public void getData(HttpServletRequest request,
                        HttpServletResponse response) throws IOException,
                                                             ServletException {
        Connection connection = null;
        List dataList = new ArrayList();
        try {
            // Load the JDBC driver
            String driverName = "oracle.jdbc.driver.OracleDriver";
            Class.forName(driverName);

            // Create a connection to the database
            String serverName = "localhost";
            String portNumber = "1521";
            String sid = "xe";
            String url =
                "jdbc:oracle:thin:@" + serverName + ":" + portNumber + ":" +
                sid;
            String username = "hr";
            String password = "hr";
            connection = DriverManager.getConnection(url, username, password);

            Statement stmt = connection.createStatement();
            ResultSet rset = stmt.executeQuery("select * from employees");
            while (rset.next()) {
                dataList.add(rset.getInt("employee_id"));
                dataList.add(rset.getString("first_name"));
            }
            stmt.close();

        } catch (ClassNotFoundException e) {
            // Could not find the database driver
        } catch (SQLException e) {
            // Could not connect to the database
        }

        request.setAttribute("data", dataList);
        String strViewPage = "index.jsp";
        RequestDispatcher dispatcher =
            request.getRequestDispatcher(strViewPage);
        if (dispatcher != null) {
            dispatcher.forward(request, response);
        }

    }
} 
```

这是jsp文件的内容。

## 索引.jsp

```
<%@page import="java.util.List"%>
<%@page import="java.util.Iterator"%>
<%@page language="java" import="java.util.*" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>JSP Page</title>
</head>
<body>
    <h1>Hello World!</h1>
    <table border="1" width="303">
        <tr>
            <td width="119"><b>Employee ID</b></td>
            <td width="168"><b>First Name</b></td>
        </tr>
        <%Iterator itr;%>
        <% List data = (List) request.getAttribute("data");
            for (itr = data.iterator(); itr.hasNext();) {
        %>
        <tr>
            <td width="119"><%=itr.next()%></td>
            <td width="168"><%=itr.next()%></td>
        </tr>
        <%}%>
    </table>
</body>
</html> 
```

## web.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app 
xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
        http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
version="3.0">

<!-- Config here. No taglibs! -->
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->

<!--web.xml code -->
<servlet>
<servlet-name>DBConn</servlet-name> 
<servlet-class>DBConn</servlet-class>
</servlet>

<servlet-mapping>
<servlet-name>DBConn</servlet-name>
<url-pattern>/DBConn</url-pattern>
</servlet-mapping>
</web-app> 
```

## 输出：

```
org.apache.jasper.JasperException: An exception occurred processing JSP page /index.jsp at line 26

23:             </tr>
24:             <%Iterator itr;%>
25:             <% List data = (List) request.getAttribute("data");
26:                 for (itr = data.iterator(); itr.hasNext();) {
27:             %>
28:             <tr>
29:                 <td width="119"><%=itr.next()%></td>

Stacktrace:
org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:568)
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:470)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)
 root cause

  java.lang.NullPointerException
org.apache.jsp.index_jsp._jspService(index_jsp.java:88)
org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:37:03.100

您必须从 Web 浏览器（客户端）请求*servlet*`doGet`的服务方法-或.*`http://localhost:8084/DBConn``http://localhost:8084/webapp_context/DBConn`*

 *创建一个 POJO，

```
public class Employee{
   private Integer id;
   private String  name;
   //public constructors and
   //setter/getter
} 
```

并更改您的 servlet 代码，

```
public class DBConn extends HttpServlet{
  @Override
  public void doGet(HttpServletRequest request, 
                    HttpServletResponse response) 
                       throws IOException, ServletException {
    Connection connection = null;
    Statement stmt=null;
    ResultSet rset=null;
    List<Employee> dataList = new ArrayList<Employee>();
    try {
        // Load the JDBC driver
        String driverName = "oracle.jdbc.driver.OracleDriver";
        Class.forName(driverName);

        // Create a connection to the database
        String serverName = "localhost";
        String portNumber = "1521";
        String sid = "xe";
        String url = "jdbc:oracle:thin:@" + serverName + ":" + portNumber + ":" + sid;
        String username = "hr";
        String password = "hr";
        connection = DriverManager.getConnection(url, username, password);

        stmt = connection.createStatement();
        rset = stmt.executeQuery("select * from employees");
        while (rset.next()) {
            dataList.add(new Employee(rset.getInt("employee_id"),
                                      rset.getString("first_name"));
        }
    } catch (ClassNotFoundException e) {
        // Could not find the database driver
    } catch (SQLException e) {
        // Could not connect to the database
    } finally{
        if(rs!=null){
            try{ 
              rs.close();
            }catch(Exception ex) { /* */ }
        }
        if(stmt!=null){
            try{ 
              stmt.close();
            }catch(Exception ex) { /* */ }
        }
        if(connection !=null){
            try{ 
              connection.close();
            }catch(Exception ex) { /* */ }
        }
     }

     request.setAttribute("data", dataList);
     String strViewPage = "index.jsp";
     RequestDispatcher dispatcher = request.getRequestDispatcher(strViewPage);
      if (dispatcher != null) {
         dispatcher.forward(request, response);
      }
   }
} 
```

和标记`index.jsp`，

```
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<c:forEach var="employee" items="${data}">
  <br/> ${employee.id}  ${employee.name}
</c:forEach> 
```

注意：永远不要在*默认包中创建**类型（类）*。您*必须*为 POJO 和 Servlet 子类指定包名称。*

# jasper-reports - 如何避免报表中数据行之间的空格

> ID：12258481
> 
> 赞同：0
> 
> 时间：2012-09-04T07:14:36.823
> 
> 标签：jasper-reports

我正在使用*Jaspersoft Studio*（基于*Eclipse的**JasperReports*设计器），并且我定义了四个文本字段，代表数据库表中的四列。但是当我预览报告时，我注意到每条记录都将显示在单独的行上（每行之间会有一个空格），这看起来很奇怪。

 *那么如何去掉行与行之间的空格，让表格布局正常显示呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T08:08:50.257

似乎我应该重新调整边距的大小，这样字段下就不应该有空白了。*

# ios - MagicalRecord 如何在关系中添加对象

> ID：12258483
> 
> 赞同：4
> 
> 时间：2012-09-04T07:15:01.810
> 
> 标签：ios, core-data, magicalrecord

在 iOS5.0 中，使用 arc，我使用 Magical 记录在核心数据中创建对象。我有一个产品对象，它与 Promotion 对象具有一对多的关系，称为“currentPromotions”。促销对象也具有反向关系“parentProduct”。我能够创建这些对象，但是在如何使用 github 中的 MagicalRecord 创建关系并将促销对象附加到产品上时遇到了困难。

此外，关于魔法记录的文档也太少了。对此的任何指示也将有所帮助。

提前感谢您对此的帮助

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-04T20:24:02.547

使用 MagicalRecord 时，大多数有关 Core Data 的信息都适用。我建议在查找文档时先查看那里。MagicalRecord 基本上试图将文档告诉您的内容编成一个好主意。

但是，对于您的问题，您似乎有这样的关系：

```
Product <---> Promotion 
```

你像这样连接你的两个实例：

```
Product *a = //...;
a.promotion = [Promotion createEntity]; 
```

其他一切都为您完成，不是由 MagicalRecord，而是由 Core Data。如果您想将产品添加到您的产品集合中进行促销，您可以执行以下操作：

```
Promotion *p = //...;
[p addProductOjbect:[Product createEntity]]; 
```

该`addProductObject:`方法是由 Core Data 在运行时为您创建的。

我强烈建议您在查看 MagicalRecord 时了解更多有关 Core Data 的信息，因为 MagicalRecord 并没有真正隐藏任何内容。它只是让“简单”的东西变得简单，让困难的东西成为可能。

# sonarqube - What exactly is the meaning of False-positive operation in sonar?

> ID：12258484
> 
> 赞同：11
> 
> 时间：2012-09-04T07:15:06.813
> 
> 标签：sonarqube, qa

When I encounter a violation in Sonar (in violation drilldown tab), in the source code view Sonar has some action like comment, assign, etc, one of those is False-positive, I want to know what exactly is the meaning of this operation, and when should I use it?

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-04T07:56:45.110

As any automatic tool, Sonar - and the rule engines it relies on (Findbugs/PMD/Checkstyle/...), can make "mistakes" while raising a violation: only a human can detect this, and you have the ability to flag this "mistake" as a false-positive to be sure that you won't spend time on it again.

Obviously, this feature must not be used to mute real violations. What's more, each time you flag a violation as false-positive, a good habit is to write a meaningful comment (and also report the issue on the user mailing list of the corresponding tool).

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T07:20:52.973

False-positive is then the software tells you there is a violation but you know better (like there is a reason, better than laziness, why the statement is poorly written) and this way you can mark the encounter as "Done The Right Way".

However, this functionality is sometimes used to get "clean" report for the manager. It's the worst that could happen.

Generally speaking - you should not use it.

# hadoop - Hive 从客户端机器加载数据

> ID：12258492
> 
> 赞同：1
> 
> 时间：2012-09-04T07:15:22.803
> 
> 标签：hadoop, hive

我正在尝试编写一个独立的 java 文件以在 Windows 机器中连接到`hadoop`db`HiveJDBC`并从本地 csv 文件加载表数据。

我正在出错`"Error in semantic analysis: Line 1:23 Invalid path 'd:/Sample2.txt': only "file" or "hdfs" file systems accepted".`

我正在尝试的是对还是错？`hadoop`我们可以从客户端 Windows 机器为db加载数据吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T19:49:41.963

该错误清楚地表明该 api 仅接受 file:// 或 hdfs://。

也检查这个问题 - [How to make your mapper write on local file system in hadoop](https://stackoverflow.com/questions/6898766/how-to-make-your-mapper-write-on-local-file-system-in-hadoop)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T19:56:46.633

我认为你需要使用类似的东西：

```
file:d:/Sample2.txt 
```

# c# - 通过 XAudio2 播放 sinus

> ID：12258495
> 
> 赞同：6
> 
> 时间：2012-09-04T07:15:36.240
> 
> 标签：c#, audio, slimdx, xaudio2

我正在使用 XAudio2 制作音频播放器。我们在 640 字节的数据包中传输数据，采样率为 8000Hz，采样深度为 16 字节。我们正在使用 SlimDX 访问 XAudio2。

但是在播放声音时，我们注意到音质很差。例如，这是一条 3KHz 正弦曲线，使用 Audacity 捕获。 ![3KHz 正弦曲线](../Images/62da27cb965140f58cf0678ae0140f7c.png)

我已经将音频播放器浓缩为最基本的内容，但音频质量仍然很差。这是 XAudio2、SlimDX 或我的代码中的错误，还是只是从 8KHz 到 44.1KHz 时发生的伪影？最后一个似乎不合理，因为我们还生成了可以由 Windows Media Player 完美播放的 PCM wav 文件。

下面是基本的实现，它生成了断弦。

```
public partial class MainWindow : Window
{
    private XAudio2 device = new XAudio2();
    private WaveFormatExtensible format = new WaveFormatExtensible();
    private SourceVoice sourceVoice = null;
    private MasteringVoice masteringVoice = null;
    private Guid KSDATAFORMAT_SUBTYPE_PCM = new Guid("00000001-0000-0010-8000-00aa00389b71");
    private AutoResetEvent BufferReady = new AutoResetEvent(false);

    private PlayBufferPool PlayBuffers = new PlayBufferPool();

    public MainWindow()
    {
        InitializeComponent();

        Closing += OnClosing;

        format.Channels = 1;
        format.BitsPerSample = 16;
        format.FormatTag = WaveFormatTag.Extensible;
        format.BlockAlignment = (short)(format.Channels * (format.BitsPerSample / 8));
        format.SamplesPerSecond = 8000;
        format.AverageBytesPerSecond = format.SamplesPerSecond * format.BlockAlignment;
        format.SubFormat = KSDATAFORMAT_SUBTYPE_PCM;
    }

    private void OnClosing(object sender, CancelEventArgs cancelEventArgs)
    {
        sourceVoice.Stop();
        sourceVoice.Dispose();
        masteringVoice.Dispose();

        PlayBuffers.Dispose();
    }

    private void button_Click(object sender, RoutedEventArgs e)
    {
        masteringVoice = new MasteringVoice(device);

        PlayBuffer buffer = PlayBuffers.NextBuffer();

        GenerateSine(buffer.Buffer);
        buffer.AudioBuffer.AudioBytes = 640;

        sourceVoice = new SourceVoice(device, format, VoiceFlags.None, 8);
        sourceVoice.BufferStart += new EventHandler<ContextEventArgs>(sourceVoice_BufferStart);
        sourceVoice.BufferEnd += new EventHandler<ContextEventArgs>(sourceVoice_BufferEnd);

        sourceVoice.SubmitSourceBuffer(buffer.AudioBuffer);

        sourceVoice.Start();
    }

    private void sourceVoice_BufferEnd(object sender, ContextEventArgs e)
    {
        BufferReady.Set();
    }

    private void sourceVoice_BufferStart(object sender, ContextEventArgs e)
    {
        BufferReady.WaitOne(1000);

        PlayBuffer nextBuffer = PlayBuffers.NextBuffer();
        nextBuffer.DataStream.Position = 0;
        nextBuffer.AudioBuffer.AudioBytes = 640;
        GenerateSine(nextBuffer.Buffer);

        Result r = sourceVoice.SubmitSourceBuffer(nextBuffer.AudioBuffer);
    }

    private void GenerateSine(byte[] buffer)
    {
        double sampleRate = 8000.0;
        double amplitude = 0.25 * short.MaxValue;
        double frequency = 3000.0;
        for (int n = 0; n < buffer.Length / 2; n++)
        {
            short[] s = { (short)(amplitude * Math.Sin((2 * Math.PI * n * frequency) / sampleRate)) };
            Buffer.BlockCopy(s, 0, buffer, n * 2, 2);
        }
    }
}

public class PlayBuffer : IDisposable
{
    #region Private variables
    private IntPtr BufferPtr;
    private GCHandle BufferHandle;
    #endregion

    #region Constructors
    public PlayBuffer()
    {
        Index = 0;
        Buffer = new byte[640 * 4]; // 640 = 30ms
        BufferHandle = GCHandle.Alloc(this.Buffer, GCHandleType.Pinned);
        BufferPtr = new IntPtr(BufferHandle.AddrOfPinnedObject().ToInt32());

        DataStream = new DataStream(BufferPtr, 640 * 4, true, false);
        AudioBuffer = new AudioBuffer();
        AudioBuffer.AudioData = DataStream;
    }

    public PlayBuffer(int index)
        : this()
    {
        Index = index;
    }
    #endregion

    #region Destructor
    ~PlayBuffer()
    {
        Dispose();
    }
    #endregion

    #region Properties
    protected int Index { get; private set; }
    public byte[] Buffer { get; private set; }
    public DataStream DataStream { get; private set; }
    public AudioBuffer AudioBuffer { get; private set; }
    #endregion

    #region Public functions
    public void Dispose()
    {
        if (AudioBuffer != null)
        {
            AudioBuffer.Dispose();
            AudioBuffer = null;
        }

        if (DataStream != null)
        {
            DataStream.Dispose();
            DataStream = null;
        }
    }
    #endregion
}

public class PlayBufferPool : IDisposable
{
    #region Private variables
    private int _currentIndex = -1;
    private PlayBuffer[] _buffers = new PlayBuffer[2];
    #endregion

    #region Constructors
    public PlayBufferPool()
    {
        for (int i = 0; i < 2; i++)
            Buffers[i] = new PlayBuffer(i);
    }
    #endregion

    #region Desctructor
    ~PlayBufferPool()
    {
        Dispose();
    }
    #endregion

    #region Properties
    protected int CurrentIndex
    {
        get { return _currentIndex; }
        set { _currentIndex = value; }
    }

    protected PlayBuffer[] Buffers
    {
        get { return _buffers; }
        set { _buffers = value; }
    }
    #endregion

    #region Public functions
    public void Dispose()
    {
        for (int i = 0; i < Buffers.Length; i++)
        {
            if (Buffers[i] == null)
                continue;

            Buffers[i].Dispose();
            Buffers[i] = null;
        }
    }

    public PlayBuffer NextBuffer()
    {
        CurrentIndex = (CurrentIndex + 1) % Buffers.Length;
        return Buffers[CurrentIndex];
    }
    #endregion
} 
```

一些额外的细节：

这用于以各种压缩方式重放录制的语音，例如 ALAW、µLAW 或 TrueSpeech。数据以小数据包的形式发送，解码并发送到该播放器。这就是为什么我们使用如此低的采样率和如此小的缓冲区的原因。但是，我们的数据没有问题，因为使用数据生成 WAV 文件会导致 WMP 或 VLC 完美回放。

编辑：我们现在已经通过在 NAudio 中重写播放器来“解决”这个问题。我仍然会对有关这里发生的事情的任何输入感兴趣。是我们在 PlayBuffers 中的方法，还是仅仅是 DirectX 或包装器中的错误/限制？我尝试使用 SharpDX 而不是 SlimDX，但这并没有改变任何结果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-26T13:29:22.127

看起来好像在没有适当的抗混叠（重建）滤波器的情况下完成了上采样。截止频率太高（高于原始奈奎斯特频率），因此保留了许多混叠，导致输出类似于以 8000 Hz 采集的样本之间的分段线性插值。

尽管您所有不同的选项都在进行从 8kHz 到 44.1kHz 的上变频，但它们执行此操作的方式很重要，而且一个库做得很好这一事实并不能证明上变频不是另一个库的错误来源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-26T10:05:01.160

自从我处理声音和频率以来已经有一段时间了，但这是我记得的：你有一个 8000Hz 的采样率并且想要一个 3000Hz 的正弦频率。因此，在 1 秒内，您有 8000 个样本，而在那一秒内，您希望正弦波振荡 3000 次。这低于奈奎斯特频率（采样率的一半），但几乎没有（参见[奈奎斯特-香农采样定理](http://en.wikipedia.org/wiki/Nyquist%E2%80%93Shannon_sampling_theorem "奈奎斯特-香农采样定理")）。所以我不希望这里有好的质量。

事实上：单步执行`GenerateSine`- 方法，您会看到`s[0]`它将包含值 0、5792、-8191、5792、0、-5792、8191、-5792、0、5792...

尽管如此，这并不能解释您记录回来的奇怪正弦波，而且我不确定人耳需要多少样本才能听到“好”的正弦波。

# excel - 使用 IIS 上传文件时发生错误

> ID：12258498
> 
> 赞同：0
> 
> 时间：2012-09-04T07:15:53.477
> 
> 标签：excel, c#-4.0

我开发了一个 Web 应用程序，从 Visual Studio 执行时运行良好。

该应用程序的主题是获取excel文件中的内容并显示出来。

我们的应用程序中有一个文件上传控件，用于获取 excel 文件。

从 VS 执行时它就像魅力一样，我可以看到所需的结果，但是通过 IIS 浏览时它会出错。

代码在 Framework 4.0 中开发

excel文件未上传，并抛出读取文件时发生错误的错误。

这是我的代码..

通过 IIS 浏览时，您能检测到出现了什么问题吗？

```
 DataSet dsRates = new Schemas.Rates();
        DataTable dtExcel = new DataTable();
        dtDBTable = dsRates.Tables[0];
        DataTable dtColumnNameNotFound = new DataTable();

        FileStream stream;
        string changed = string.Empty;
        string FilePath = string.Empty;

        try
        {
            if (ValidateUserInputs())
            {
                DataSet dsExcel = new DataSet();
                OleDbConnection con = new OleDbConnection();
                try
                {
                    if (fupExtract.HasFile == true)
                    {
                        FilePath = Server.MapPath("~/Temp/" + fupExtract.PostedFile.FileName);

                        fupExtract.SaveAs(FilePath);

                    }
                    else
                    {
                        fupExtract = ((FileUpload)Session["FileUploadCtrl"]);
                        FilePath = Server.MapPath("~/Temp/" + fupExtract.PostedFile.FileName);
                        fupExtract.SaveAs(FilePath);

                    }

                    //Read the Excel Data in to Datatable
                    string _ConnectionString = string.Empty;
                    string _Extension = Path.GetExtension(FilePath);
                    if (_Extension.Equals(".xls", StringComparison.CurrentCultureIgnoreCase))
                    {
                        _ConnectionString = "Provider=Microsoft.Jet.OLEDB.4.0; Data Source=" + FilePath + ";Extended Properties=" + (char)34 + "Excel 8.0;HDR=NO;IMEX=1;" + (char)34;

                    }
                    //Use ACE OleDb     
                    else if (_Extension.Equals(".xlsx", StringComparison.CurrentCultureIgnoreCase))
                    {

                        _ConnectionString = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + FilePath + ";Extended Properties=" + (char)34 + "Excel 8.0;HDR=NO;IMEX=1;" + (char)34;

                    }
                    else
                    {
                        lblMessage.Text = fupExtract.FileName + "is not a supported format, only '.xls|.xlsx' files are supported";

                        return;
                    }
                    int i = 0;

                    con = new OleDbConnection(_ConnectionString);
                    con.ResetState();
                    con.Open();

                    DataTable dt = con.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);
                    foreach (DataRow Sheet in dt.Rows)
                    {
                        OleDbDataAdapter daExcel = new OleDbDataAdapter("SELECT * FROM [" + Sheet["TABLE_NAME"].ToString().Trim() + "]", con);

                        DataTable dtData = new DataTable();
                        daExcel.Fill(dtData);
                        var filteredRows = dtData.Rows.Cast<DataRow>().Where(row => row.ItemArray.Any(field => !(field is System.DBNull)));
                        if (filteredRows.Count() > 0)
                        {
                            dsExcel.Tables.Add(dtData);
                        }
                        i++;
                    }
                    con.Close();
                }
                catch (Exception ex)
                {
                    lblMessage.Text = "Error occured while reading the file";

                    con.Close();
                }
        finally
                {
                    if (File.Exists(FilePath))
                    {
                        File.Delete(FilePath);
                    }

                } 
```

请帮忙

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T05:54:22.800

我已经得到了我的问题的答案。

就是我没有安装Office 64位和Microsoft.ACE.OLEDB.12.0。我使用的是 32 位的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:38:28.810

Tou 可以使用 Interop 来阅读您的 excel 文档

```
 object misValue = System.Reflection.Missing.Value;
        var xlApp = new Excel.ApplicationClass();
        var xlWorkBook = xlApp.Workbooks.Open("yourFile.xls", 0, true, 5, "", "", true, Microsoft.Office.Interop.Excel.XlPlatform.xlWindows, "\t", false, false, 0, true, 1, 0);
        var xlWorkSheet = (Excel.Worksheet)xlWorkBook.Worksheets.get_Item(1);

        Console.Write(xlWorkSheet.get_Range("A1","A1").Value2.ToString());

        xlWorkBook.Close(true, misValue, misValue);
        xlApp.Quit();

        releaseObject(xlWorkSheet);
        releaseObject(xlWorkBook);
        releaseObject(xlApp); 
```

# iphone - 将文本字段输入限制为 1 并在文本字段上隐藏光标

> ID：12258499
> 
> 赞同：0
> 
> 时间：2012-09-04T07:15:57.407
> 
> 标签：iphone, uitextfield

在我的应用程序中，我有一个使用 4 个文本字段输入 4 位密码的视图。当用户触摸第一个文本字段并输入第一个字符时，控件应自动转到第二个字符，依此类推.. 第四次验证应该发生。用户也应该当他触摸文本框时看不到光标。如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:35:51.987

尝试以下：

```
 - (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string
{
    if( [textField.text length]==0)
    {
        [nextText becomeFirstResponder];
    }

    return YES;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:39:06.233

尝试这个

```
 - (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:      (NSRange)range     replacementString:(NSString *)string
    { 

    if(theTextField == wordTextField1) {
    [wordTextField1 setText:string];
     if(string.length == 1) {
     [wordTextField2 becomeFirstResponder];
    }
     }
    else if(theTextField == wordTextField2) {
    [wordTextField2 setText:string];
    if(string.length == 1) {
    [wordTextField3 becomeFirstResponder];
     }
       }
         else if(theTextField == wordTextField3) {
       [wordTextField3 setText:string];
    if(string.length == 1) {
    [wordTextField4 becomeFirstResponder];
    }
    }
      else if(theTextField == wordTextField4) {
      [wordTextField4 setText:string];
      if(string.length == 1) {
      [wordTextField1 becomeFirstResponder];
     }
     }
    } 
```

# sql - SQL 查询日期条件

> ID：12258505
> 
> 赞同：1
> 
> 时间：2012-09-04T07:16:23.697
> 
> 标签：sql, sql-server

我在`Ms SQL Server`2005 年（2008 年）有以下结构的表格

```
ID Name     AddDate                   AmendDate                 Status
-----------------------------------------------------------------------
1  Jason    2012-09-03 08:01:00.000   2012-09-03 14:02:00.000   Amended
2  Robert   2012-09-03 08:05:00.000   NULL                      New
3  Celia    2012-09-03 08:10:00.000   2012-09-03 14:02:00.000   Amended
4  Jason    2012-09-03 14:02:00.000   NULL                      New
5  Robert   2012-09-03 14:03:00.000   2012-09-03 20:02:00.000   Amended
6  Celia    2012-09-03 14:07:00.000   2012-09-03 20:02:00.000   Amended
7  Jason    2012-09-03 20:00:00.000   NULL                      New
8  Robert   2012-09-03 20:02:00.000   NULL                      New
9  Celia    2012-09-03 20:04:00.000   NULL                      New 
```

例行程序每天运行三次作为快照，

请问如何使用 SQL Query

1.  选择任何一天早上（或晚上）的所有记录

2.  如果我在历史中`ISNULL(AmendDate, '2012.09.04')`行走`AmendDate`，`Null value`例如返回所有行`AddDate <= '2012-09-01' and AmendDate >= '2012-09-02'`

3.  问题`SELECT - FROM - WHERE -`只是

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:22:06.460

对于第一个，您可以在日期上使用[DATEPART](http://msdn.microsoft.com/en-us/library/ms174420.aspx)函数来提取小时，并应用您的标准来判断您是否对早上或晚上添加的记录感兴趣。

```
DATEPART(hh, AddDate) BETWEEN 0 AND 12 -- Morning. 
```

第二个问题不清楚:(

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:35:56.917

对于 2\. 问题，你想要这样的东西吗？我使用了一个参数，因为它更容易显示：

```
 DECLARE @AddDate datetime

    SELECT *
    FROM yourTable
    WHERE 
    AddDate <= @AddDate 
    and AmendDate >= ISNULL(AmendDate,DATEADD(day, 1, @AddDate)) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-04T07:40:09.557

从早上/晚上选择任何一天的所有记录

```
select *
from Table t
where t.AddDate > '2012-09-03' 
      and t.AddDate < '2012-09-04'
      and DatePart(HOUR, t.AddDate) < 12 -- Morning
      -- and DatePart(HOUR, t.AddDate) > 18 -- Evening 
```

对于第二部分（鉴于要求不是很清楚），我认为您可以将[`Coalesce`](http://msdn.microsoft.com/en-us/library/ms190349.aspx)函数与`CTE`

```
;WITH FullData(Id, Name, AddDate, AmendDate, Status)
     AS (SELECT t.Id,
                t.Name,
                t.AddDate,
                COALESCE(t.AmendDate, '2012-09-04'),
                Status
         FROM   Table t)
SELECT *
FROM   FullData d
WHERE  d.AddDate <= '2012-09-01'
       AND t.AmendDate >= '2012-09-02' 
```

# delphi - 如何从剪贴板保存 PngImage

> ID：12258519
> 
> 赞同：6
> 
> 时间：2012-09-04T07:17:06.873
> 
> 标签：delphi, png, transparency, clipboard

如何将 pngimage 保存到从 Adob​​eFirewoks（剪贴板）或 Photoshop 复制的文件中而不会丢失透明度。

我正在使用delphi2009。

先感谢您。

@TLama 我尝试了这段代码，但没有透明度。我也不知道我做得对不对。

```
 png := TPngimage.Create;
  try
    png.LoadFromClipboardFormat(CF_BITMAP,
      Clipboard.GetAsHandle(CF_BITMAP), CF_BITMAP);
    image1.Picture.Assign(png);
  finally
    png.Free;
  end; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-08-01T23:30:06.820

Photoshop 的剪贴板格式很糟糕。包含存储在剪贴板中的 alpha 通道的唯一非常有效的数据是......猜猜？...指向Alpha通道内存的指针到“Photoshop粘贴到位”块中......太可怕了。如果您复制某些内容然后重新启动 Photoshop，则 alpha 将...丢失 :)

但是，您可以轻松了解剪贴板是否包含 Photoshop 图像。

询问剪贴板它有哪些块。

如果剪贴板有两个块，分别名为*“Photoshop Paste In Place”*和 *“Object Descriptor”*，您*可以 99.9% 确定*Photoshop正在系统上*运行*并且剪贴板包含对 Photoshop 数据的*引用。*（当 Photoshop 退出时，对象描述符块会从剪贴板中删除，因此 alpha 将永远丢失）

那么，你有两个选择：

**选择 1（不推荐）：**打开 Photoshop 的进程内存并从指针中读取原始 32 位图像数据……这总体上是愚蠢的，*而且不安全*，**或者**

**选择 2（推荐）：使用 COM**从 Photoshop 中提取图像数据。当然，COM 方法是最好的方法。让您的程序生成并运行以下**VBS**脚本：

```
On Error Resume Next
Set Ps = CreateObject("Photoshop.Application")
Set Shell = CreateObject("WScript.Shell")
Set FileSystem = CreateObject("Scripting.FileSystemObject") 

Dim PNGFileName
PNGFileName = Shell.CurrentDirectory & "\psClipboard.png"

If FileSystem.FileExists(PNGFileName) Then 
    FileSystem.DeleteFile PNGFileName
End If

Set Doc = Ps.Documents.Add(1,1,72,"psClipboard",,3)

Doc.Paste()
Doc.RevealAll()

If Err.Number = 0 Then 
    set PNGSaveOptions = CreateObject("Photoshop.PNGSaveOptions")
    doc.saveAs PNGFileName, PNGSaveOptions
End If

doc.Close() 
```

在脚本的 CurrentDirectory 中，将生成一个名为“ *psClipboard.png ”的文件。*使用 libPng 或其他方式在程序中读取此文件，并将其视为来自剪贴板。该脚本将删除*psClipboard.png*，然后向 Photoshop 索要它。如果粘贴返回错误，脚本将停止并且不会生成文件，在这种情况下，剪贴板不包含有效的 Photoshop 参考数据。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-04T12:23:40.950

根据我的同事使用以下测试代码确认的具有 Adob​​e Photoshop CS 6 13.0 x32 的经验结果，指出无法从 Adob​​e Photoshop 复制的剪贴板中保存图像而不会丢失透明度，因为它不复制 alpha 通道数据。

Adobe Photoshop（至少在上述版本中）使用 24 位像素格式进行剪贴板图像数据传输。而且，因为它是 24 位位图，所以不能有 Alpha 通道。不知道有谁要验证 Adob​​e Fireworks，但可以肯定的是，他们使用自己注册的剪贴板格式在其产品之间传输图像，包括 alpha 通道。

Adobe Photoshop 剪贴板使用的[`CF_BITMAP`](http://msdn.microsoft.com/en-us/library/windows/desktop/ff729168%28v=vs.85%29.aspx#CF_BITMAP)or[`CF_DIB`](http://msdn.microsoft.com/en-us/library/windows/desktop/ff729168%28v=vs.85%29.aspx#CF_DIB)格式据说支持 alpha 通道，正如一些人所说（我没有尝试过），但这仅适用于 32 位像素格式，不适用于 24 位像素格式。唯一肯定支持透明度的剪贴板格式是，[`CF_DIBV5`](http://msdn.microsoft.com/en-us/library/windows/desktop/ff729168%28v=vs.85%29.aspx#CF_DIBV5)但与其他格式一样，图像必须以 32 位像素格式存储以保留 alpha 通道：

以下代码显示了有关当前复制的剪贴板内容的信息：

```
uses
  ActiveX;

function GetClipboardFormatString(Format: Word): string;
var
  S: string;
begin
  case Format of
    1: S := 'CF_TEXT';
    2: S := 'CF_BITMAP';
    3: S := 'CF_METAFILEPICT';
    4: S := 'CF_SYLK';
    5: S := 'CF_DIF';
    6: S := 'CF_TIFF';
    7: S := 'CF_OEMTEXT';
    8: S := 'CF_DIB';
    9: S := 'CF_PALETTE';
    10: S := 'CF_PENDATA';
    11: S := 'CF_RIFF';        
    12: S := 'CF_WAVE';
    13: S := 'CF_UNICODETEXT';
    14: S := 'CF_ENHMETAFILE';
    15: S := 'CF_HDROP';
    16: S := 'CF_LOCALE';
    17: S := 'CF_DIBV5';
    $0080: S := 'CF_OWNERDISPLAY';
    $0081: S := 'CF_DSPTEXT';
    $0082: S := 'CF_DSPBITMAP';
    $0083: S := 'CF_DSPMETAFILEPICT';
    $008E: S := 'CF_DSPENHMETAFILE';
    $0200: S := 'CF_PRIVATEFIRST';
    $02FF: S := 'CF_PRIVATELAST';    
    $0300: S := 'CF_GDIOBJFIRST';
    $03FF: S := 'CF_GDIOBJLAST';
  else
    begin      
      SetLength(S, 255);
      SetLength(S, GetClipboardFormatName(Format, PChar(S), 255));      
      if Length(S) = 0 then
        S := 'Unknown, unregistered clipboard format';
      Result := S + ' (' + IntToStr(Format) + ')';
      Exit;
    end;
  end; 
  Result := 'Standard clipboard format (' + S + ')';
end;

function GetClipboardFormats: string;
var
  S: string;
  FormatEtc: TFormatEtc;
  DataObject: IDataObject;
  EnumFormatEtc: IEnumFormatEtc;
begin
  Result := '';
  if Succeeded(OleGetClipboard(DataObject)) then
  begin
    if Succeeded(DataObject.EnumFormatEtc(DATADIR_GET, EnumFormatEtc)) then
    begin
      S := DupeString('-', 65) + sLineBreak +
        'Clipboard data formats: ' + sLineBreak +
        DupeString('-', 65) + sLineBreak;
      while EnumFormatEtc.Next(1, FormatEtc, nil) = S_OK do
        S := S + GetClipboardFormatString(FormatEtc.cfFormat) + sLineBreak;
      Result := S;
    end;
  end;
end;

function GetClipboardInfoDIB: string;
var
  S: string;
  ClipboardData: HGLOBAL;
  BitmapInfoHeader: PBitmapInfoHeader;
const
  BI_JPEG = 4;
  BI_PNG = 5;
begin
  Result := '';
  if OpenClipboard(0) then
  try
    ClipboardData := GetClipboardData(CF_DIB);
    if ClipboardData <> 0 then
    begin
      BitmapInfoHeader := GlobalLock(ClipboardData);
      if Assigned(BitmapInfoHeader) then
      try
        S := DupeString('-', 65) + sLineBreak +
          'Clipboard data of CF_DIB format: ' + sLineBreak +
          DupeString('-', 65) + sLineBreak +
          'Width: ' + IntToStr(BitmapInfoHeader.biWidth) + ' px' + sLineBreak +
          'Height: ' + IntToStr(BitmapInfoHeader.biHeight) + ' px' + sLineBreak +
          'Bit depth: ' + IntToStr(BitmapInfoHeader.biBitCount) + ' bpp' + sLineBreak +
          'Compression format: ';
        case BitmapInfoHeader.biCompression of
          BI_RGB:   S := S + 'Uncompressed format (BI_RGB)';
          BI_RLE8: S := S + 'RLE format for bitmaps with 8 bpp (BI_RLE8)';
          BI_RLE4: S := S + 'RLE format for bitmaps with 4 bpp (BI_RLE4)';
          BI_BITFIELDS: S := S + 'Not compressed with color masks (BI_BITFIELDS)';
          BI_JPEG: S := S + 'Compressed using JPEG file format (BI_JPEG)';
          BI_PNG:   S := S + 'Compressed using PNG file format (BI_PNG)';
        end;
        S := S + sLineBreak;
        Result := S;
      finally
        GlobalUnlock(ClipboardData);
      end;      
    end;
  finally
    CloseClipboard;
  end;
end;

function GetClipboardInfoDIBV5: string;
var
  S: string;
  ClipboardData: HGLOBAL;
  BitmapInfoHeader: PBitmapV5Header;
const
  BI_JPEG = 4;
  BI_PNG = 5;
begin
  Result := '';
  if OpenClipboard(0) then
  try
    ClipboardData := GetClipboardData(CF_DIBV5);
    if ClipboardData <> 0 then
    begin
      BitmapInfoHeader := GlobalLock(ClipboardData);
      if Assigned(BitmapInfoHeader) then
      try
        S := DupeString('-', 65) + sLineBreak +
          'Clipboard data of CF_DIBV5 format: ' + sLineBreak +
          DupeString('-', 65) + sLineBreak +
          'Width: ' + IntToStr(BitmapInfoHeader.bV5Width) + ' px' + sLineBreak +
          'Height: ' + IntToStr(BitmapInfoHeader.bV5Height) + ' px' + sLineBreak +
          'Bit depth: ' + IntToStr(BitmapInfoHeader.bV5BitCount) + ' bpp' + sLineBreak +
          'Compression format: ';
        case BitmapInfoHeader.bV5Compression of
          BI_RGB:   S := S + 'Uncompressed format (BI_RGB)';
          BI_RLE8: S := S + 'RLE format for bitmaps with 8 bpp (BI_RLE8)';
          BI_RLE4: S := S + 'RLE format for bitmaps with 4 bpp (BI_RLE4)';
          BI_BITFIELDS: S := S + 'Not compressed with color masks (BI_BITFIELDS)';
          BI_JPEG: S := S + 'Compressed using JPEG file format (BI_JPEG)';
          BI_PNG:   S := S + 'Compressed using PNG file format (BI_PNG)';
        end;
        S := S + sLineBreak;
        Result := S;
      finally
        GlobalUnlock(ClipboardData);
      end;      
    end;
  finally
    CloseClipboard;
  end;
end;

procedure TForm1.Button1Click(Sender: TObject);
var
  S: string;
begin
  S := GetClipboardFormats;
  if IsClipboardFormatAvailable(CF_DIB) then
    S := S + sLineBreak + GetClipboardInfoDIB;
  if IsClipboardFormatAvailable(CF_DIBV5) then
    S := S + sLineBreak + GetClipboardInfoDIBV5;
  ShowMessage(S);
end; 
```

Adobe Photoshop CS 6 13.0 复制到剪贴板的上述透明图像代码的输出（点击放大）：

[![点击放大](../Images/4314a1ec44b7638d8e9f814a040add7e.png)](https://i.stack.imgur.com/zAiIy.jpg)

一些有用的阅读：

*   [`How to copy an image to clipboard keeping its transparency`](http://www.notesoncode.com/articles/2010/08/16/HandlingTransparentImagesOnTheClipboardIsForSomeReasonHard.aspx)
*   [`How to copy & paste images using CF_DIBV5 format preserving transparency`](http://www.mombu.com/programming/programming/t-transparent-image-copy-to-clipboard-adds-blue-bg-727131.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-04T14:20:56.917

[此链接中解释](http://www.delphi-zone.com/2010/08/how-to-copypaste-a-bitmap-tofrom-the-clipboard/)的解决方案可能有效。

```
unit EG_ClipboardBitmap32;
{
  Author William Egge. egge@eggcentric.com
  January 17, 2002
  Compiles with ver 1.2 patch #1 of Graphics32

  This unit will copy and paste Bitmap32 pixels to the clipboard and retain the
  alpha channel.

  The clipboard data will still work with regular paint programs because this
  unit adds a new format only for the alpha channel and is kept seperate from
  the regular bitmap storage.
}

interface

uses
  ClipBrd, Windows, SysUtils, GR32;

procedure CopyBitmap32ToClipboard(const Source: TBitmap32);
procedure PasteBitmap32FromClipboard(const Dest: TBitmap32);
function CanPasteBitmap32: Boolean;

implementation

const
  RegisterName = 'G32 Bitmap32 Alpha Channel';
  GlobalUnlockBugErrorCode = ERROR_INVALID_PARAMETER;

var
  FAlphaFormatHandle: Word = 0;

procedure RaiseSysError;
var
  ErrCode: LongWord;
begin
  ErrCode := GetLastError();
  if ErrCode <> NO_ERROR then
    raise Exception.Create(SysErrorMessage(ErrCode));
end;

function GetAlphaFormatHandle: Word;
begin
  if FAlphaFormatHandle = 0 then
  begin
    FAlphaFormatHandle := RegisterClipboardFormat(RegisterName);
    if FAlphaFormatHandle = 0 then
      RaiseSysError;
  end;
  Result := FAlphaFormatHandle;
end;

function CanPasteBitmap32: Boolean;
begin
  Result := Clipboard.HasFormat(CF_BITMAP);
end;

procedure CopyBitmap32ToClipboard(const Source: TBitmap32);
var
  H: HGLOBAL;
  Bytes: LongWord;
  P, Alpha: PByte;
  I: Integer;
begin
  Clipboard.Assign(Source);
  if not OpenClipboard(0) then
    RaiseSysError
  else
    try
      Bytes := 4 + (Source.Width * Source.Height);
      H := GlobalAlloc(GMEM_MOVEABLE and GMEM_DDESHARE, Bytes);
      if H = 0 then
        RaiseSysError;
      P := GlobalLock(H);
      if P = nil then
        RaiseSysError
      else
        try
          PLongWord(P)^ := Bytes - 4;
          Inc(P, 4);
          // Copy Alpha into Array
          Alpha := Pointer(Source.Bits);
          Inc(Alpha, 3); // Align with Alpha
          for I := 1 to (Source.Width * Source.Height) do
          begin
            P^ := Alpha^;
            Inc(Alpha, 4);
            Inc(P);
          end;
        finally
          if (not GlobalUnlock(H)) then
            if (GetLastError() <> GlobalUnlockBugErrorCode) then
              RaiseSysError;
        end;
      SetClipboardData(GetAlphaFormatHandle, H);
    finally
      if not CloseClipboard then
        RaiseSysError;
    end;
end;

procedure PasteBitmap32FromClipboard(const Dest: TBitmap32);
var
  H: HGLOBAL;
  ClipAlpha, Alpha: PByte;
  I, Count, PixelCount: LongWord;
begin
  if Clipboard.HasFormat(CF_BITMAP) then
  begin
    Dest.BeginUpdate;
    try
      Dest.Assign(Clipboard);
      if not OpenClipboard(0) then
        RaiseSysError
      else
        try
          H := GetClipboardData(GetAlphaFormatHandle);
          if H <> 0 then
          begin
            ClipAlpha := GlobalLock(H);
            if ClipAlpha = nil then
              RaiseSysError
            else
              try
                Alpha := Pointer(Dest.Bits);
                Inc(Alpha, 3); // Align with Alpha
                Count := PLongWord(ClipAlpha)^;
                Inc(ClipAlpha, 4);
                PixelCount := Dest.Width * Dest.Height;
                Assert(Count = PixelCount,
                  'Alpha Count does not match Bitmap pixel Count,
                  PasteBitmap32FromClipboard(const Dest: TBitmap32);');

                // Should not happen, but if it does then this is a safety catch.
                if Count > PixelCount then
                  Count := PixelCount;

                for I := 1 to Count do
                begin
                  Alpha^ := ClipAlpha^;
                  Inc(Alpha, 4);
                  Inc(ClipAlpha);
                end;
              finally
                if (not GlobalUnlock(H)) then
                  if (GetLastError() <> GlobalUnlockBugErrorCode) then
                    RaiseSysError;
              end;
          end;
        finally
          if not CloseClipboard then
            RaiseSysError;
        end;
    finally
      Dest.EndUpdate;
      Dest.Changed;
    end;
  end;
end;

end. 
```

该功能`PasteBitmap32FromClipboard`显然是您所需要的。[在这个问题中回答](https://stackoverflow.com/questions/4670533/save-bitmap-with-transparency-to-png-in-delphi-2007)了将位图保存为 PNG 。

# javascript - 带有单选按钮的html表复制粘贴到xls

> ID：12258520
> 
> 赞同：0
> 
> 时间：2012-09-04T07:17:14.263
> 
> 标签：javascript, html, excel

我有一个 HTML`table`元素，其中的行不仅包含纯文本字符，还包含`radio buttons`,`lists`等。

我想要的是，当用户将表格的内容复制粘贴到 MS Excel（作为纯文本）中时，`radio buttons`应该用它们的值替换（例如：“选中”和“未选中”），列出元素应替换为他们选择的值等。

有没有办法在浏览器中实现这个？（最好不使用flash或java小程序组件）

谢谢，克里斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:27:45.700

您可以使用 javascript（使用 jquery 之类的框架会更容易）来修改已复制的代码。一般过程是将单选按钮设置为不可见，然后根据其当前值在其位置添加文本。

有很多问题可以帮助解决实施细节：[https ://stackoverflow.com/search?q=%5Bjavascript%5D+copied+text&submit=search](https://stackoverflow.com/search?q=%5Bjavascript%5D+copied+text&submit=search)

**更新：**结果你甚至不需要删除单选按钮，至少对于我的 excel 版本。这是一个工作示例（过度评论以解释发生了什么）：

```
<!DOCTYPE html>
<html>
  <head>
    <style type='text/css'>
      .radioCopyVal{
      font-size: 0;
      }
    </style>
  </head>
  <body>
    <form>
      <table>
    <tr>
      <td><input type='radio' name='woots' id='oneWoot' checked/><span class='radioCopyVal'>Checked.</span></td>
      <td><label for='oneWoot'>Woot.</label></td>
    </tr>
    <tr>
      <td><input type='radio' name='woots' id='twoWoot' /><span class='radioCopyVal'>Not checked.</span></td>
      <td><label for='twoWoot'>Woot. Woot.</label></td>
    </tr>
      </table>
    </form>
    <script src="jquery-1.7.2.min.js"></script>
    <script type='text/javascript'>
      $("#oneWoot").attr("checked", true); //on page load, make sure oneWoot is the default selection

      $("input[name=woots]:radio").change(function(){ //anytime the radio buttons of name woots are changed...
          $(".radioCopyVal").remove(); //remove the old radioCopyVal spans (to be replaced with new ones)
          $("input[name=woots]:radio").each(function() { //for each radio button in name woots
              if ($(this).attr("checked")) { //if the button is checked, add a span saying 'Checked.' after it. css is used to hide the span
                  $(this).after('<span class="radioCopyVal">Checked.</span>');
          }else {
              $(this).after('<span class="radioCopyVal">Not checked.</span>');
          }
          })
      });
    </script>
  </body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:39:41.640

恐怕不可能。但你可以这样做：有一个指向 javascript 的链接，脚本将隐藏这些项目并以纯文本显示它们的值，因此可以反转此操作。

这可以使用 JQuery 轻松完成：这显示了单选值：

```
$("input:radio").each(function() {
    if ($(this).attr("checked")) {
        $(this).after('<span class="value">checked</span>');
    }
    else {
        $(this).after('<span class="value">unchecked</span>');
    }
}).css("display", "none"); 
```

我留下了一个跨度类，以便可以使用脚本轻松隐藏这些值。

# iphone - 创建通知后立即调用 Appdelegate 函数 'didreceivelocalnotification'

> ID：12258522
> 
> 赞同：1
> 
> 时间：2012-09-04T07:17:21.653
> 
> 标签：iphone, objective-c, xcode4.3, uilocalnotification, appdelegate

我`UILocalNotification`在 iPhone 中使用 s 来创建警报。当我单击 a 时，会安排警报`UIButton`。我的问题是`– application:didReceiveLocalNotification:`当我单击此按钮时调用它，即当我创建本地通知时。但是，`– application:didReceiveLocalNotification:`只有在到达通知时间时才应该调用。我在模拟器和设备上检查了它并得到了相同的结果。任何人都可以帮助我...在此先感谢。

```
-(void)createalarm:(NSString *)datend_time:(NSString *)message//creating alarm
{
NSLog(@"created!!!!!!!!!!!!!");
NSString *datestr = datend_time;
NSString *textstr = message;
NSDateFormatter *formatter = [[NSDateFormatter alloc]init];
[formatter setDateFormat:@"MM/dd/yyyy hh:mm a"];    
NSDate *alerttime = [formatter dateFromString:datestr];
UIApplication * app = [UIApplication sharedApplication];    

UILocalNotification *notification = [[UILocalNotification alloc] init];
if (notification)
{
    notification.fireDate = alerttime;
    //notification.timeZone = [NSTimeZone defaultTimeZone];
    notification.repeatInterval = 0;
    notification.alertBody = textstr;
    notification.soundName = UILocalNotificationDefaultSoundName;        
    [app scheduleLocalNotification:notification];

    [app presentLocalNotificationNow:notification];          
}

}

-(void)application:(UIApplication *)application didReceiveLocalNotification:    (UILocalNotification *)notification
{
NSLOG(@"delegate called")    
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-19T07:33:30.890

这是因为你打电话

```
[app presentLocalNotificationNow:notification]; 
```

因此，它会在您创建通知后立即显示。删除这行代码。

`[app scheduleLocalNotification:notification]`; 可以正常工作，并会在 fireDate 发出通知。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-04T07:35:31.033

下面是一个 NSLocalnotification 的例子：

```
-(void) scheduleNotificationForDate: (NSDate*)date {

/* Here we cancel all previously scheduled notifications */
 [[UIApplication sharedApplication] cancelAllLocalNotifications];

UILocalNotification *localNotification = [[UILocalNotification alloc] init];

localNotification.fireDate = date;
NSLog(@"Notification will be shown on: %@",localNotification.fireDate);

localNotification.timeZone = [NSTimeZone defaultTimeZone];
localNotification.alertBody = [NSString stringWithFormat:
                              @"Your notification message"];
localNotification.alertAction = NSLocalizedString(@"View details", nil);

/* Here we set notification sound and badge on the app's icon "-1" 
means that number indicator on the badge will be decreased by one 
- so there will be no badge on the icon */

localNotification.soundName = UILocalNotificationDefaultSoundName;
localNotification.applicationIconBadgeNumber = -1;

[[UIApplication sharedApplication] scheduleLocalNotification:localNotification];
} 
```

确保您设置的日期不是过去的！

# nginx - 无法在 nginx+php-fpm 上运行 .html 文件

> ID：12258524
> 
> 赞同：7
> 
> 时间：2012-09-04T07:17:35.233
> 
> 标签：nginx, php

我无法在运行 Nginx 和 php-fpm 的 Ubuntu 12.04 服务器上运行 .html 文件。

执行 .html 扩展文件时，我得到的是**Access denied 。**.php 文件运行良好。

这是我的配置代码。

***nginx.conf***

```
user www-data;
worker_processes 4; # Make this equal to no of processors you have "cat /proc/cpuinfo |grep processor" @mayur
pid /var/run/nginx.pid;

events {
        worker_connections 2048; # Essential to keep it high for heavy sites @mayur
        # multi_accept on;
}

http {

        ##
        # Basic Settings
        ##

        sendfile on;
        tcp_nopush on;
        tcp_nodelay on;
        keepalive_timeout 65;
        types_hash_max_size 2048;
        server_tokens on; #Make this off Live Server for Security Reasons: @mayur

        # server_names_hash_bucket_size 64;
        # server_name_in_redirect off;

        include /etc/nginx/mime.types;
        default_type application/octet-stream;

        ##
        # Logging Settings
        ##

        access_log /var/log/nginx/access.log;
        error_log /var/log/nginx/error.log;

        log_format      main    '$remote_addr - $remote_user [$time_local] $request '
                        '"$status" $body_bytes_sent "$http_referer" '
                        '"$http_user_agent" "$http_x_forwarded_for"';
        ##
        # Gzip Settings
        ##

        gzip on;
        gzip_disable "msie6";

        # gzip_vary on;
        # gzip_proxied any;
        # gzip_comp_level 6;
        # gzip_buffers 16 8k;
        # gzip_http_version 1.1;
        # gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript;

        ##
        # nginx-naxsi config
        ##
        # Uncomment it if you installed nginx-naxsi
        ##

        #include /etc/nginx/naxsi_core.rules;

        ##
        # nginx-passenger config
        ##
        # Uncomment it if you installed nginx-passenger
        ##

        #passenger_root /usr;
        #passenger_ruby /usr/bin/ruby;

        ##
        # Virtual Host Configs
        ##

        include /etc/nginx/conf.d/*.conf;
        include /etc/nginx/sites-enabled/*;
} 
```

***网站可用/默认***

```
server {
        listen   80; ## listen for ipv4; this line is default and implied

        access_log /var/log/nginx/access.log;
        error_log /var/log/nginx/error.log;

        root /data/paytm/htdocs;
        index index.php index.html;

        server_name localhost;

        ssi on;

        location ~* ^.+\.(jpg|js|jpeg|png|ico|gif|js|css|swf)$ {
                expires 24h;
        }

        location ~ ^/.*\.html$ {
                fastcgi_pass    unix:/tmp/php5-fpm.sock;
                fastcgi_index   index.html;
                fastcgi_param   SCRIPT_FILENAME  /data/paytm/htdocs/$fastcgi_script_name;
                include         fastcgi_params;
        }

        location ~ ^/.*\.php$ {
                fastcgi_pass    unix:/tmp/php5-fpm.sock;
                fastcgi_index   index.html;
                fastcgi_param   SCRIPT_FILENAME  /data/paytm/htdocs/$fastcgi_script_name;
                include         fastcgi_params;
        }

        # For APIs and other stuff where we write our own Header Variables
        underscores_in_headers on;
        ignore_invalid_headers off;
} 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-13T00:14:03.383

见这里：[https](https://bugs.php.net/bug.php?id=60763) ://bugs.php.net/bug.php?id= 60763 您需要添加到 [www] 部分内的 /etc/php5/fpm/pool.d/www.conf

```
security.limit_extensions = .php .html 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-09-04T07:22:39.307

请删除`location ~ ^/.*\.html$`站点可用/默认中的部分。

# jsp - 如何在重定向操作中传递 ActionMessage 和 ActionError

> ID：12258530
> 
> 赞同：4
> 
> 时间：2012-09-04T07:18:02.447
> 
> 标签：jsp, struts2

> **可能重复：**
> [我可以在不同的动作类之间传播 struts2 ActionErrors 吗？](https://stackoverflow.com/questions/1070111/can-i-propagate-struts2-actionerrors-between-different-action-classes)

在行动.Test1

公共类 Test1 扩展 ActionSupport {

```
 public String execute() {
        addActionMessage("Hello in test2");
        return SUCCESS;
    } else {
      addActionError("Please try again");
        return INPUT;
    }
} 
```

在 struts.xml 中

```
<action name="test1" class="action.Test1">
        <result name="success" type="redirect">test2</result>
  </action>
<action name="test2" class="action.Test2">
        <result name="success">/test2.jsp</result>
</action> 
```

我想 显示`ActionMessage`和`ActionError``test2.jsp`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T11:13:07.143

因为`redirect`这意味着一个新请求，这将使框架删除与第一个请求相关的所有数据，并且请求和响应的新对象将被放置在值堆栈中，因此在您的情况下，您的`ActionMessage`数据`ActionError`将丢失。

如果您在相同的应用程序上下文中执行此操作，则更建议使用`redirectAction`它是否要执行其他操作，因为`redirect`结果用于重定向到另一个 URL（Web 资源）。

为了保存数据，您有这些选项

1.  使用会话保存值并在其他操作中检索值。
2.  使用范围

# uiimage - 延迟后使 UIImage 逐帧可见

> ID：12258542
> 
> 赞同：0
> 
> 时间：2012-09-04T07:18:37.117
> 
> 标签：uiimage

当单击按钮时，我希望线条图像慢慢变得可见。我需要它逐渐变得可见。一旦整条线变得可见，动画应该停止..

请尽快回复提前谢谢

# forms - 联系表格 7 (wordpress)

> ID：12258549
> 
> 赞同：0
> 
> 时间：2012-09-04T07:18:58.747
> 
> 标签：forms, wordpress, contact

我在我的网站上使用联系表 7 让客户从我的 Wordpress 网站订购产品。

但是我想让用户（客户）添加他们自己的表单字段，如果他们想添加其他产品然后在表单中列出。

那可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T13:03:12.640

CF7 创建器中的字段作为一种简码/内部格式插入，然后通过解析器将它们更改为有效的 HTML 表单元素。你可以做的是使用 DOM（文档对象模型）来创建一个新元素——但是，之后你一定要注意你的 PHP 代码。

# vb.net - 在 datagridview 中搜索特定数据

> ID：12258551
> 
> 赞同：0
> 
> 时间：2012-09-04T07:19:07.153
> 
> 标签：vb.net, winforms, datagrid

我必须处理一个**没有数据源的数据网格视图的项目。**它也是在 vb.net 中完成的。我想遍历特定列上的每一行以查找特定数据并将我的注意力集中在该记录上。

```
For Each item As C1.Win.C1FlexGrid.Row In myDataGrid.Rows
    ' something like searchFor/contains 
    ' (no idea, can't find the right way to search) for mySpecificData
Next 
```

帮助表示赞赏，最好的问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:38:05.463

我假设您使用的是**组件 One FlexGrid**，因此我查看了[相应站点上的](http://helpcentral.componentone.com/nethelp/c1flexgrid/#!XMLDocuments/C1FlexRef/html/AllMembers_T_C1_Win_C1FlexGrid_Row.htm)**文档**。每行都有一个**Item 属性**，因此此示例可能有效

 **```
For Each row As C1.Win.C1FlexGrid.Row In myDataGrid.Rows
    if row.Item("COLUMNNAME") = YOUR_VALUE then
        ' select range
        C1.Win.C1FlexGrid.Select(row.Index, COLUMN_INDEX);
    end if    
Next 
```

如果您想直接访问一个单元格，您可以使用[Select 方法](http://helpcentral.componentone.com/nethelp/c1flexgrid/default.htm#!XMLDocuments/C1FlexRef/html/M_C1_Win_C1FlexGrid_C1FlexGridBase_GetUserData_2_fdad1945.htm)。**

# sql-server - 表中没有任何索引的主键？

> ID：12258555
> 
> 赞同：8
> 
> 时间：2012-09-04T07:19:28.990
> 
> 标签：sql-server, sql-server-2008

我只是想知道我们可以在没有任何类型索引的 sql server 表上创建一个主键吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-04T07:23:29.873

不可以。作为一个*实现*细节，SQL Server 使用索引来维护主键。你不能阻止它这样做。主键：

*   确保不存在重复的键值
*   允许识别/访问单个行

SQL Server 已经拥有提供这些功能的机制——唯一索引——因此它使用这些机制来强制执行约束。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T11:37:52.740

实际上，索引功能与遍历书籍的方式相同。除非有页码及其与主题的关系，否则无法转到特定页面或主题。这种行的“分页”（排序）是由 SQL Server 中的聚集索引物理完成的。如果表中没有 PK，则可以在任何唯一键限定列上添加聚集索引。由于一张表上不能有多个聚集索引，并且所有其他非聚集索引都依赖于聚集索引进行搜索/遍历，因此您不能在没有聚集索引的情况下创建列 PK。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-06-28T22:53:04.353

`NONCLUSTERED`您可以通过在单词后面添加关键字来创建具有非聚集索引的主键的表`primary key`。

# hibernate - 如何使用唯一键而不是主键在 Hibernate 中检索记录

> ID：12258556
> 
> 赞同：10
> 
> 时间：2012-09-04T07:19:32.577
> 
> 标签：hibernate, key, unique

使用`session.load()`or`session.get()`或任何其他方法`org.hibernate.session`，是否可以根据 Unique 列而不是 PK 列值在休眠中获取记录？

我的要求是我需要根据唯一列值而不是主键来获取记录。

就像我不想使用 Criteria API。我需要使用 session.get 或 load 类型的方法。您提到的答案是进行搜索。但我要求根据唯一键获取一条记录。比如说。我的类 Fruit 有一个 PK 列 ID 和一个唯一列 fruitID，它是唯一键。我想根据fruitID 而不是ID 检索唯一记录。例如。水果fruit = (Fruit) session.get(Fruit.class,fruitID); 这里 fruitID 是 Fruit 类的唯一列。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-04T07:25:15.153

你的意思是这样的？

```
Criteria criteria = session.createCriteria(User.class);  
criteria.add( Restrictions.eqProperty("uniqueField", "value") )
List results = criteria.list();
Object myObj = results.get(0); 
```

查看[休眠手册](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/querycriteria.html)以获取有关条件的更多信息

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-06-05T14:13:49.330

如果使用只需要查找行的现有表，您可能会发现这很有帮助，也许可以进行简单的编辑并且您不需要主键

将@Id注解移动到唯一键字段并省略主键或使其成为普通列

如果您只进行查找或编辑该表，则此工作会出现更复杂的操作，但是您可以定义第二个实体来进行查找，如果您以后需要执行主键操作，则通过主键重新查找

```
@Entity 
class RealEntity implements Serializable {
    @Id
    private int id;

    @Column(...)
    private String uniqueSecondKey;

    ...
}

@Entity
class LookupEntity implements Serializable {
    @Column()
    private int id;

    @Id
    @Column(...)
    private String uniqueSecondKey;

    ...
} 
```

# jquery - jquery导航栏：子菜单没有隐藏在jsfiddle中的documentReady上

> ID：12258558
> 
> 赞同：0
> 
> 时间：2012-09-04T07:19:39.260
> 
> 标签：jquery, jsfiddle, navigationbar, document-ready

以下是我的代码：[导航栏](http://jsfiddle.net/vaanipala/DhA2Z/2/)

此导航栏在我的计算机上运行良好 - 子菜单在文档准备就绪时隐藏。但是，在 jsfiddle 上，我不知道为什么子菜单没有隐藏在准备好的文档中。有人可以指出我要去哪里错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:24:32.067

从 js 段中删除此行`<script type="text/javascript">`并`</script>`

[小提琴更新](http://jsfiddle.net/DhA2Z/6/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:23:41.373

将脚本标签（开始和结束）从 jsFiddle 的脚本部分中取出，您的代码将运行。

演示：http: [//jsfiddle.net/jfriend00/DhA2Z/7/](http://jsfiddle.net/jfriend00/DhA2Z/7/)

# android - 中文平板可以当安卓模拟器设备吗？

> ID：12258559
> 
> 赞同：-4
> 
> 时间：2012-09-04T07:19:42.693
> 
> 标签：android, android-emulator

中文平板可以当安卓模拟器设备吗？

因为我的日食无法检测到任何设备，三星凯斯也是如此。

有谁知道如何连接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:21:26.280

是的，您可以，这与平板电脑的制造方式无关，它与正在运行的 Android 版本有关。

只需将其连接到您的 PC 并确保在 Android 设置中允许在设备上进行调试。

例如：[http ://www.groovypost.com/howto/mobile/how-to-enable-usb-debugging-android-phone/](http://www.groovypost.com/howto/mobile/how-to-enable-usb-debugging-android-phone/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:25:15.740

模拟器只是 sdk 中使用的虚拟设备，允许您在没有真实设备的情况下进行开发，所以实际上您是在询问我们是否可以使用您的设备运行您的应用程序。

是的，很明显。

如果您运行的是 Android，您可以在平板电脑上安装您的 apk，只需连接它并选择“USB 设备”而不是“模拟器”，否则模拟器将启动。不要忘记在您的设置中添加“调试”。

如果您无法将平板电脑与 PC 连接（由于 USB 驱动程序问题或其他原因），您仍然可以将您的 apk 上传到某个地方并安装它（例如通过邮件发送给您，或将其上传到您的 Dropbox 文件夹中）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T08:40:54.603

是的。正如 Gerald 所说，它不依赖于设备，而是依赖于操作系统。

**要将 Android 设备用作模拟器，您需要：**

1.  **在您的 PC 上安装与您的设备对应的 ADB 驱动程序。**如果您没有安装它，那么您的设备将无法在您的 PC 上被识别。三星设备的 ADB 驱动程序可以在 Samsung Kies 上找到。
2.  **必须在手机上启用 USB 调试。**要在手机上启用 USB 调试，请转到 > 设置 > 应用程序 > 开发并选中“USB 调试”。如果您不启用它，那么您将无法将您的手机/桌子用作 Android 模拟器设备。

# iphone - 使用 UIPanGestureRecognizer 在视图周围移动子层是一个不错的选择吗？

> ID：12258560
> 
> 赞同：1
> 
> 时间：2012-09-04T07:19:47.543
> 
> 标签：iphone, ios, core-animation, calayer, uigesturerecognizer

我有一个 CALayer，作为这个 CALayer 的子层，我添加了一个 imageLayer，其中包含分辨率为 276x183 的图像。

我在主视图中添加了一个 UIPanGestureRecognizer 并计算 CALayer 的坐标如下：

```
- (void)panned:(UIPanGestureRecognizer *)sender{

        subLayer.frame=CGRectMake([sender locationInView:self.view].x-138, [sender locationInView:self.view].y-92, 276, 183);

} 
```

在 viedDidLoad 我有：

```
subLayer.backgroundColor=[UIColor whiteColor].CGColor;
subLayer.frame=CGRectMake(22, 33, 276, 183);

imageLayer.contents=(id)[UIImage imageNamed:@"A.jpg"].CGImage;
imageLayer.frame=subLayer.bounds;
imageLayer.masksToBounds=YES;
imageLayer.cornerRadius=15.0;

subLayer.shadowColor=[UIColor blackColor].CGColor;
subLayer.cornerRadius=15.0;
subLayer.shadowOpacity=0.8;
subLayer.shadowOffset=CGSizeMake(0, 3);
[subLayer addSublayer:imageLayer];
[self.view.layer addSublayer:subLayer]; 
```

它提供了所需的输出，但在模拟器中有点慢。我还没有在设备中测试过它。所以我的问题是 - 移动包含图像的 CALayer 可以吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T15:36:30.950

是的，可以移动包含图像的 CALayer。

如果您想要对平移手势做的只是移动图像，那么`frame`您应该只更新图层的`position`属性，而不是更新整体。像这样：

```
- (void)panned:(UIPanGestureRecognizer *)sender {
    subLayer.position=CGPointMake([sender locationInView:self.view].x, [sender locationInView:self.view].y);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-06T12:15:40.417

两件事情：

First, you can't draw ANY conclusions based on the performance of the simulator. Some things on the simulator are an order of magnitude faster than on a device, and other things are significantly slower. Animation is especially a mixed bag.

If you're doing performance-critical work, test it on the device, early and often.

Second, you can certainly animate a layer using a gesture recognizer, but that is an awfully round-about way to do it. Gesture recognizers are designed to work on views, and it's much easier and cleaner to tie the recognizer to a subview rather than a sub layer.

One of the big problems you will have with using a layer is hit-testing. If you let go of your image, then try to drag it some more, you'll have to have the gesture on the containing view, take the gesture coordinates and do hit testing on the layer. Ugh.

Take a look at the gesture based version of the touches sample app from Apple. It shows you how to cleanly move UIView objects around the screen using gestures.

Note that you can create a view that has custom layer content, and drag that around.

# ruby-on-rails - 如何让 nginx 基于 Redis 缓存返回 304 Not Modified？

> ID：12258567
> 
> 赞同：1
> 
> 时间：2012-09-04T07:20:23.253
> 
> 标签：ruby-on-rails, caching, nginx, redis, http-status-code-304

我正在考虑设置一个 Redis 缓存来加速使用 nginx 部署的 Ruby on Rails 应用程序。我希望 nginx 基于 Redis 数据库中的时间戳（例如上次修改）或基于密钥的存在发送 304 Not Modified。到目前为止，我发现的唯一一件事是如何在 Redis 中缓存整个页面，例如 HttpRedis 模块中的以下示例：

```
server {
  location / {
    set $redis_key $uri;

    redis_pass     name:6379;
    default_type   text/html;
    error_page     404 = /fallback;
  }

  location = /fallback {
    proxy_pass backend;
  }
} 
```

有谁知道这是否可能？或者你会推荐另一种方式来发送 304 响应而不进入 Rails 堆栈？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T21:52:05.823

您应该能够使用[HttpRedis2Module](http://wiki.nginx.org/HttpRedis2Module)和[HttpLuaModule](http://wiki.nginx.org/HttpLuaModule)来做到这一点。

# django - 如何编辑用户资料

> ID：12258568
> 
> 赞同：-3
> 
> 时间：2012-09-04T07:20:27.190
> 
> 标签：django

大家好，我是 Django 的新手。我希望当我登录我的帐户时，有一个编辑按钮，它向我显示我可以编辑的某些字段的表单。

我很困惑如何将数据保存到同一个用户配置文件中。

谁能告诉我这怎么可能。可以举一个例子给我看

使用我的 profile.html，我可以看到我的个人资料，然后单击编辑按钮，我可以编辑我的个人资料

```
{% extends 'base.html' %}
{% block content %}
    <p>User_id: {{ drinker.user_id }}
    <p>Name: {{ drinker.name }}</p>
        <p>Birthday: {{ drinker.birthday }}</p>
        <p>first_name: {{ user.first_name }}</p>     
        <p>Users: {{ user.username }}</p>
    <p><a href="/edit/">Edit Profile</a>
{% endblock %} 
```

**编辑功能**

```
 def Edit(request):
        if not request.user.is_authenticated():
             return HttpResponseRedirect('/login/') 
        drinker = request.user.get_profile()
        context = {'drinker':drinker}
        return render_to_response('edit.html', context, context_instance=RequestContext(request))

**Edit.html**

{% extends "base.html" %}
{% block extrahead %}
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.23/jquery-ui.min.js" type="text/javascript"></script>
    <script>
    $(function() {
        $( "#birth" ).datepicker();
    });
    </script>
{% endblock %}
{% block content %}
<form action="/edit1/" method="post">
{% csrf_token %}

<div class="register_div">
    <p><label for="name">Name:</label></p>
    <p><input type="text" value="{{ drinker.name }}"></p>
</div>
<div class="register_div">

    <p><label for="birthday">Birthday: {{ drinker.birthday }} </label></p>
        <p>Choose new date of birth</p>
    <p><input type="text" value="" id="birth"></p>
</div>
<p><input type="submit" value="submit" /></p>
</form>
{% endblock %} 
```

在 edit1 上编辑请求功能有效

```
def EditRequest(request):
    #if request.method == 'POST':
       #form = UserProfileForm(request.POST, instance=user)

  #if request.user.is_authenticated():
    #return render_to_response('hgdhg')
    if request.method == 'POST':
         form = EditForm(request.POST)
         if form.is_valid():
            user=User.objects.create_user(usere_id=form.cleaned_data['user_id'])
         #user.save()
            drinker=user.get_profile()
            drinker.name=form.cleaned_data['name']
            drinker.birthday=form.cleaned_data['birthday']
            drinker.save()
            return HttpResponseRedirect('/profile/')
         else:
             return HttpResponseRedirect('/f/') 
    else:
            return render_to_response('f')#,{'form':form} , context_instance=RequestContext(request)) 
```

**这个编辑请求不起作用？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:36:11.873

以下是编辑用户个人资料所需执行的步骤：

1.  找出登录的用户（阅读[用户身份验证](https://docs.djangoproject.com/en/dev/topics/auth/)）
2.  检查用户是否有个人资料；为此使用正常的 django 查询机制。
3.  如果用户有个人资料；使用配置文件的实例填充 ModelForm（请参阅手册中的[此页面](https://docs.djangoproject.com/en/dev/topics/forms/modelforms/#a-full-example)）
4.  像任何其他表单一样向最终用户显示表单。
5.  当用户提交更改时，进行正常的表单验证并将对象保存到数据库中。

这是执行步骤 1-4 的一些代码：

```
from django.shortcuts import render, redirect
from django.contrib.auth.decorators import login_required

from myapp.models import UserProfile
from myapp.forms import UserProfileForm 

@login_required
def edit_profile(request):
    try:
       user_profile = UserProfile.objects.get(user=request.user)
    except UserProfile.DoesNotExist:
       # this user has no profile
       return redirect('/error')

    user_profile_form = UserProfileForm(instance=user_profile)
    return render(request,'profile_edit.html',{'form':user_profile_form}) 
```

`UserProfileForm`班级：

```
from django import forms
from myapp.models import UserProfile

class UserProfileForm(forms.ModelForm):
    class Meta:
        model = UserProfile 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T08:02:06.697

我之前做过的例子：

```
@login_required                              
def lexuseditform(request,userpk):
    if Adult.objects.filter(user=request.user).exists():
        adult = Adult.objects.get(user=request.user) # load existing Adult
    else:
        adult = Adult(user=request.user) # create new Adult
    if request.method == 'POST': # If the form has been submitted...
        form = AdultForm(request.POST,instance=adult) # A form bound to the POST data
        if form.is_valid(): # All validation rules pass
            form.save()
            redirect_url = reverse('lexusedited',kwargs={'userpk': request.user.pk})
            return HttpResponseRedirect(redirect_url) # Redirect after POST
    else:
           form = AdultForm(instance=adult) # An unbound form
    return render(request,'lexus/lexuseditform.html', {'form': form})

@login_required                              
def lexusedited(request,userpk):
    return render(request,'lexus/lexusedited.html') 
```

希望这可以帮助...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T07:39:43.090

沿模型表单传递用户实例

```
 user = User.objects.get(user_name = username)
  form  = Registrationform(instance=user) 
```

并将此表单呈现给您的模板

# javascript - 在普通链接上打开共享/书签弹出表单

> ID：12258570
> 
> 赞同：0
> 
> 时间：2012-09-04T07:20:32.830
> 
> 标签：javascript, html

我正在使用共享/书签脚本：

```
<div class="singles-right">
  <a href="#" class="bookmark"></a>
  <script type="text/javascript" src="http://static.addinto.com/ai/ai2_bkmk.js"></script>
  <a href="#" class="travels"></a>
  <a href="http://www.addinto.com/ai?type=bkmk" onmouseover="ai2display_bkmk(this, '', '', '');" onmouseout="ai2close_bkmk();" class="share"></a>
</div> 
```

**但是如果单击“给朋友发送电子邮件”**链接，则希望打开相同的电子邮件弹出窗口

![在此处输入图像描述](../Images/bceb37609a3f1575c0ef9b1193b25e46.png)

![在此处输入图像描述](../Images/15f5509cd61441e4da33ad27d8bb0efb.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:39:00.287

好吧，我刚刚发现

```
<a href="javascript:;" onclick="ai2display_bkmk(this, 'email','', '');"><img src="http://www.addinto.com/ai/im/email.png" alt="AddInto" border="0" /></a> 
```

> 感谢我的设计师 Ashok :)

# sql - Oracle 中的动态交叉表查询

> ID：12258576
> 
> 赞同：1
> 
> 时间：2012-09-04T07:21:43.563
> 
> 标签：sql, oracle, dynamic, pivot

我需要创建一个动态交叉表查询，其中列的数量并不总是固定的，因此不能使用 case when 进行硬编码。我用谷歌搜索，它确实找到了一个关于在 SQL Server 中做同样事情的博客，但我想知道是否有任何这样的文章博客关于在 Oracle 中做同样的事情。没有在 SQL Server 中工作过。Fol 是关于我的问题的信息。

我写的硬编码交叉表查询

```
SELECT

LU_CITY.CITY_NAME as "City",
count(CASE WHEN emp.emp_category='Admin'  THEN emp.emp_id END) As "Admins",
count(CASE WHEN emp.emp_category='Executive'  THEN emp.emp_id END) As "Executive",
count(CASE WHEN emp.emp_category='Staff'  THEN emp.emp_id END) As "Staff",
count(emp.emp_id) As "Total"

FROM emp, LU_CITY

where

   LU_CITY.CITY_ID = EMP.CITY_ID(+)
group by
LU_CITY.CITY_NAME, LU_CITY.CITY_ID
order by
LU_CITY.CITY_ID 
```

表

```
 emp (emp_id, emp_name, city_id, emp_category)
        lu_city(city_id,city_name) 
```

查询结果

```
 ------------------------------------------
          City | Admins | Executive | Staff . . . .
          ------------------------------------------ 
          A    |    1   |   2       | 3
          B    |    0   |   0       | 4
          .    |    .   |   .       | . 
          .
          . 
```

emp_category 可以由用户根据需要添加。查询应该是这样的，它应该动态生成所有这些类别。

在这方面的任何指导将不胜感激。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:37:42.640

您可以使用动态游标执行从 VARCHAR2 变量编译的动态 SQL：

```
DECLARE 
       w_sql             VARCHAR2 (4000);
       cursor_           INTEGER;
       v_f1    NUMBER (6);
       v_f2    NUMBER (2);
       v_some_value_2_filter_4    NUMBER (2);
       rc      INTEGER         DEFAULT 0;
BEGIN
        -- join as many tables as you need and construct your where clause
        w_sql :='SELECT f1, f2 from TABLE1 t1, TABLE2 t2, ... WHERE t1.f1 =' || v_some_value_2_filter_4 ; 

       -- Open your cursor
       cursor_ := DBMS_SQL.open_cursor;
       DBMS_SQL.parse (cursor_, w_sql, 1);
       DBMS_SQL.define_column (cursor_, 1, v_f1);
       DBMS_SQL.define_column (cursor_, 2, v_f2);
      -- execute your SQL
       rc := DBMS_SQL.EXECUTE (cursor_);

       WHILE DBMS_SQL.fetch_rows (cursor_) > 0
       LOOP
          -- get values from record columns
          DBMS_SQL.COLUMN_VALUE (cursor_, 1, v_f1);
          DBMS_SQL.COLUMN_VALUE (cursor_, 2, v_f2);

          -- do what you need with v_f1 and v_f2 variables

       END LOOP;

END; 
```

或者您可以使用[execute immediate](http://docs.oracle.com/cd/B19306_01/appdev.102/b14261/executeimmediate_statement.htm)，如果您只需要检查一个值或执行和插入/更新/删除查询，则更容易实现

```
 w_sql :='select f1 from table where f1 = :variable';
    execute immediate w_sql into v_f1 using 'valor1' 
```

这里有关动态游标的更多信息：http: [//docs.oracle.com/cd/B10500_01/appdev.920/a96590/adg09dyn.htm](http://docs.oracle.com/cd/B10500_01/appdev.920/a96590/adg09dyn.htm)

# c++ - 销毁时执行自动内存覆盖的模板

> ID：12258577
> 
> 赞同：6
> 
> 时间：2012-09-04T07:21:47.660
> 
> 标签：c++, security, templates, destructor

使用模板强制编译器初始化原始/POD 类型值是一种常见模式（[https://stackoverflow.com/a/11493744/16673](https://stackoverflow.com/a/11493744/16673)或[http://www.codeproject.com/Articles/825/Using-用于初始化的模板](http://www.codeproject.com/Articles/825/Using-templates-for-initialization)）。

是否存在类似的模式，一旦出于安全原因，值超出范围时可用于擦除该值，以确保在变量被破坏后该值不会留在堆栈中？我担心一个幼稚的类似实现可能不起作用，因为编译器可以自由地忽略对超出范围的值的任何赋值，因为可以简单地证明该值不再被使用。是否有一些一致且合理便携的解决方案，例如使用易失性？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-04T08:19:12.047

Windows API 中有一个名为 SecureZeroMemory 的函数。你可以看看它的实现。

但是，一般来说，编译器被迫接受易失性写入。如果您将变量设置为 volatile，则它应该无法删除写入。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-04T08:00:21.680

您可以使用一些 c++11 功能来使其更便携，但这可能足以作为起点：

**班级**

```
template<typename T>
class t_secure_destruct {
  static const size_t Size = sizeof(T);
  static const size_t Align = alignof(T);
public:
  t_secure_destruct() : d_memory() {
    new(this->d_memory)T;
  }

  ~t_secure_destruct() {
    reinterpret_cast<T*>(this->d_memory)->~T();
    this->scribble();
  }

  // @todo implement or delete op-assign and remaining constructors

public:
  T& get() {
    return *reinterpret_cast<T*>(this->d_memory);
  }

  const T& get() const {
    return *reinterpret_cast<const T*>(this->d_memory);
  }

private:
  void scribble() {
    for (size_t idx(0); idx < Size; ++idx) {
      this->d_memory[idx] = random();
    }
  }

private:
  __attribute__((aligned(Align))) char d_memory[Size];
}; 
```

**演示**

```
#include <iostream>

class t_test {
public:
  t_test() : a(-1) {
    std::cout << "construct\n";
  }

  ~t_test() {
    std::cout << "destruct\n";
  }

public:
  void print() const {
    std::cout << "a = " << a << "\n";
  }

public:
  int a;
};

int main(int argc, const char* argv[]) {
  t_secure_destruct<t_test>test;
  test.get().print();
  test.get().a = 100;
  test.get().print();
  return 0;
} 
```

当然，如果您愿意，您也可以使用堆分配来支持该分配。如果你需要比优化器更聪明，你可能需要把涂鸦器放在它够不到的地方。

# google-app-engine - HTTP 标头中指定的字符编码 (iso-8859-1) 与 元素中的值 (utf-8)不同

> ID：12258582
> 
> 赞同：2
> 
> 时间：2012-09-04T07:22:27.340
> 
> 标签：google-app-engine, gwt

我开发了一个 GWT / GAE 应用程序并试图让它被谷歌索引。为了首先检查我的主页是否 100% 干净，我使用 W3C 验证服务来检查语法。

验证服务返回有关字符编码不匹配的错误，如下所示：

“HTTP 标头 (iso-8859-1) 中指定的字符编码与`<meta>`元素 (utf-8) 中的值不同。我将使用 HTTP 标头 (iso-8859-1) 中的值进行此验证。 "

你能帮我解决这个问题吗：

*   在开发环境中，该文件存储在 utf-8 中，所以我期待 Web 服务器也会返回带有字符编码 utf-8 的文件。在使用以下命令验证 osx 上的字符编码后，我很确定它是 utf-8：“file -I HOME_PAGE_NAME.jsp”返回“HOME_PAGE_NAME.jsp: text/html; charset=utf-8”

*   我应该做些什么才能以正确的字符编码交付文件？

谢谢，

雨果

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T09:05:54.683

确保您的 JSP 文件被编码为`UTF-8`.

并确保您的 JSP 页面包含此标头：

```
<%@ page pageEncoding="utf-8" %> 
```

另外，可以肯定的是，我还会将此添加到您的 GWT html 文件中：

```
<meta http-equiv="content-type" content="text/html; charset=UTF-8"> 
```

# html - Html 水平导航菜单

> ID：12258584
> 
> 赞同：-1
> 
> 时间：2012-09-04T07:22:38.853
> 
> 标签：html, css, css-float

我正在使用标准 UL LI 方法的网站上使用 Html 导航菜单。但问题是，当我调整浏览器窗口的大小时，菜单会调整大小，并且可视区域之外的菜单项会向下移动。有没有人遇到过类似的问题？html

```
<div style="margin-top: 11px; display: block;" class="menubar">
<ul class="tabs">
            <li ><a  href="#">Menu1</a></li>
            <li><a  href="#">Menu2</a></li>
            <li><a  href="#">Menu3</a></li>
            <li><a  href="#">Menu4</a></li>
            <li><a  href="#">Menu5</a></li>
            <li><a  href="#">Menu6</a></li>

</ul>
</div> 
```

CSS

```
 .menubar {
background: url("images/bg.png") repeat scroll left top #222222;
border-bottom: 1px solid #B2D7FC;
border-top: 1px solid #B2D7FC;
color: #FFFFFF;
float: left;
height: 35px;
margin: 10px 0 0;
padding: 0 2%;
width: 96%;
}
ul.tabs {
display: block;
list-style-type: none;
margin: 5px 0 0;
padding: 0;
}
ul.tabs li {
background: url("images/tab_right.png") no-repeat scroll right top transparent;
float: left;
padding: 0;
position: relative;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:29:45.063

`min-width`在您的容器上设置 a或`<ul>`.

```
<ul>
    <li></li>
    <li></li>
</ul> 
```

CSS

```
ul{
    min-width:720px;
} 
```

将 更改为`720px`您希望菜单的大小。这样，它将调整大小，直到达到该限制。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T07:31:41.563

请定义它`width`，如果你没有像

```
div
 { width:size %/px/em;
   min-width:%/px/em;
   position:absolute;
  } 
```

# c - 使用 recv() 调用的多个请求

> ID：12258588
> 
> 赞同：1
> 
> 时间：2012-09-04T07:22:44.257
> 
> 标签：c, recv

> **可能重复：**
> [套接字 recv() 挂在带有 MSG_WAITALL 的大消息上](https://stackoverflow.com/questions/8470403/socket-recv-hang-on-large-message-with-msg-waitall)

我正在开发一个网络服务器。对于每个新的连接请求，我都会产生一个线程。在线程函数中，我使用 recv() 来接收请求。

```
 while (1) {ret = (int)recv(s, buf, sizeof(buf), MSG_WAITALL);
    SYSLOG(LOG_USER, "s=%d recv returned with ret=%d\n", s, ret);
    if (ret == -1) {
        if (errno == 11)
            continue;
        else
            break;
    } else if (ret == 0)
        break;
...........   //handling the request 
```

但是，它只处理第一个请求，然后客户端（httperf）收到客户端超时错误。recv() 返回值 -1 和 errno EAGAIN。如何通过同一连接处理多个请求？

# java - jstack 输出 - 获取 java Thread.getId 的 tid

> ID：12258589
> 
> 赞同：0
> 
> 时间：2012-09-04T07:22:51.177
> 
> 标签：java, multithreading, jconsole, jstack

我查看了有关获取线程 ID 的现有问题，例如[java-thread-id-and-stack-trace](https://stackoverflow.com/questions/222108/getting-the-java-thread-id-and-stack-trace-of-run-away-java-thread)。

但我无法弄清楚一些看似简单的事情。我想制作一个 JSP 工具来停止 Java 中的线程。

我知道这通常是个坏主意，但我们需要它，因为我们不能在我们的环境中使用 JConsole 会导致 JBoss 的一些硬化。

我的问题是，取一个 jstack 输出示例：

1.  `Event Batch Processing (Spring UAA/1.0.2)" daemon prio=10 tid=0x0000000041e27800 nid=0x363b waiting on condition [0x00007f9a89267000]` 从此哪个 id 将是`thread.getId()`定义的`java.lang.Thread`？这一行的最后一个标记是什么`[0x00007f9a89267000]`？
2.  如何将（Java 代码将是超级）`hex`转换为 Java `long`？
3.  你能告诉我为什么这不起作用 -> 我`tid=`从一个挂在一个永无止境的循环中的线程的 jstack 中获取了一个十六进制。然后我这样做了：

    ```
    Thread thrd = null;
    String thrdId =request.getParameter("thrd");
    if(thrdId != null){
        out.print("thread " + thrdId + " :");
        out.flush();
        Map<Thread,StackTraceElement[]> map = Thread.getAllStackTraces();
        Set tt = map.keySet();
        Iterator<Thread> ti = tt.iterator();
        try{
            long idFind = Long.parseLong(thrdId);
            out.print("<br> idFind thread |" + idFind + "| <br>");
            boolean found = false;
            while(ti.hasNext() ){
                thrd = ti.next();
                if(thrd.getId() == idFind){
                    out.print("<br> stopping thread " + thrd + " <br>");
                    out.flush();
                    thrd.stop();
                    out.print("<br>stopped " );
                    found = true;
                    break;
                }
            }
            if(!found){
                out.print("<br>not found " );

            }
        }catch(Exception e){
            out.println("<br>err " + e + "<br>");
        }

    } 
    ```

未找到此输出。输入参数是 tid - 粘贴在 Windows 7 calc, Programmer mode (hex) 中，然后单击 Dec.

**更新：**

在我的测试代码中，当我制作了一个无限循环的 JSP，每隔几 10000 次迭代输出一个字符 - 然后做了一个 jstack，得到：

```
"http-0.0.0.0-8181-4" daemon prio=6 tid=0x000000000d4eb000 nid=0x2f58 waiting on condition [0x0000000010fee000]
   java.lang.Thread.State: TIMED_WAITING (sleeping)

...(stack trace)
at org.apache.jsp.t.testing.loop_jsp._jspService(loop_jsp.java
...more stack trace... 
```

我运行 jstack 几次，每次都得到这个条目。

但是当我用 thread 运行我的 JSP 时`id = 000000000d4eb000`，它找不到它，因为应用程序容器唯一地命名了线程，我能够找到线程并且当我打印时：

```
out.print("" + cnt + " \"" + thrd.getName() + "\"| id :" + thrd.getId() + "| hex :" +  Long.toHexString(thrd.getId()) + "| <br>"); 
```

我得到：

```
93 "http-0.0.0.0-8181-4"| id :1389| hex :56d| 

93 is the thread number in my internal counter in the loop. 
```

那么 jstack 显然将其识别为`0x000000000d4eb000`内部 JVM 所知道的 发现`1389 hex :56d`？最后将 JSP 改为按名称搜索并停止线程。幸运的是线程名称都不同。但这是一个错误 - 运行 Windows、JBoss 4.2、Java 1.6 更新 32？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:34:52.047

您只能找到并停止您自己的线程。我会尝试中断线程，以防它可以优雅地停止。

停止线程通常是个坏主意，因为它会使应用程序处于不一致或不可恢复的状态。避免这种情况的唯一方法是对线程可能正在做的所有事情有一个很好的了解，在这种情况下，修复代码使其优雅停止可能更简单更好

> 我们不能在我们的环境中使用 jconsole

无论如何，jvisualvm 都是一个更好的工具。我不会使用 jconsole 除非你不得不这样做。

> 我如何将十六进制转换（java代码会超级）到java long？

```
long idFind = Long.parseLong(thrdId, 16); 
```

> 你能告诉我为什么这不起作用

要么你没有从同一个进程运行它，要么线程捕获了`ThreadDeath`你触发的错误。

# iphone - UITableView 在设备旋转后更正滚动位置

> ID：12258591
> 
> 赞同：2
> 
> 时间：2012-09-04T07:23:12.177
> 
> 标签：iphone, ios, uitableview, scroll, screen-rotation

我正在为一本书构建类似阅读器的东西。当用户旋转手机时，我想增加字体大小。我正在使用 a`UITableView`来显示文本块。

问题是，增加字体大小会增加表格视图中行的高度，如果我在纵向模式下阅读第 320 段，我会在横向模式下得到 280 或类似的东西。

我已经使用以下代码设置了一个轮换通知侦听器：

```
 UIDevice *device = [UIDevice currentDevice];                
    [device beginGeneratingDeviceOrientationNotifications];
    NSNotificationCenter *nc = [NSNotificationCenter defaultCenter];
    [nc addObserver:self                                
           selector:@selector(orientationChanged:)
               name:UIDeviceOrientationDidChangeNotification
             object:device]; 
```

并尝试在旋转前保存最后一段索引，然后在旋转后向下滚动到它，但我似乎无法达到预期的效果。

处理这种情况的最佳方法是什么？我在哪里实际实施“之前”和“之后”的轮换状态？

我希望它可以在 iOS 4+ 上运行。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2016-09-29T20:47:43.870

**Said Ali Samed 回答的**Swift 3**`willRotateToInterfaceOrientation`版本（`didRotateFromInterfaceOrientation`已弃用）：**

 **```
override func willTransition(to newCollection: UITraitCollection, with coordinator: UIViewControllerTransitionCoordinator) {
    coordinator.animate(alongsideTransition: { context in
            // Save the visible row position
            self.visibleRows = self.tableView.indexPathsForVisibleRows!
            context.viewController(forKey: UITransitionContextViewControllerKey.from)
        }, completion: { context in
            // Scroll to the saved position prior to screen rotate
            self.tableView.scrollToRow(at: self.visibleRows[0], at: .top, animated: false)
        })
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-09-22T12:17:22.593

使用委托方法 willRotateToInterfaceOrientation: 将可见单元格存储在数组中，然后使用 UITableView 的另一个委托方法 didRotateFromInterfaceOrientation: 滚动到您之前存储在数组中的可见索引路径。这是推荐的，您不必依赖不同线程中不一致的 0.2 秒等待来处理旋转后事件。

```
- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration
{
    // Save the visible row position
    visibleRows = [tableview indexPathsForVisibleRows];
}

-(void)didRotateFromInterfaceOrientation:(UIInterfaceOrientation)fromInterfaceOrientation
{
    // Scroll to the saved position prior to screen rotate
    [tableView scrollToRowAtIndexPath:[visibleRows objectAtIndex:0] atScrollPosition:UITableViewScrollPositionTop animated:NO];
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-04T10:13:34.413

由于我无法得到一个好的答案，我会回答自己。我到处寻找，但找不到一种方法来做我想做的事，所以我只是使用该`shouldAutorotateToInterfaceOrientation`方法来增加字体的大小，然后启动一个休眠 0.2 秒的小线程，然后滚动到所需的行。谢谢你的帮助。

编辑：使用委托方法 willRotateToInterfaceOrientation: 将可见单元格存储在数组中，然后使用委托方法 didRotateFromInterfaceOrientation: 滚动到您在数组中记录的可见索引路径。

```
- (void)willRotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation duration:(NSTimeInterval)duration
{
    // Save the visible row position
    visibleRows = [tableview indexPathsForVisibleRows];
}

-(void)didRotateFromInterfaceOrientation:(UIInterfaceOrientation)fromInterfaceOrientation
{
    // Scroll to the saved position prior to screen rotate
    [tableView scrollToRowAtIndexPath:[visibleRows objectAtIndex:0] atScrollPosition:UITableViewScrollPositionTop animated:NO];
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-04T08:13:05.137

一种简单的方法是存储顶部可见单元格的索引路径，更改字体大小然后恢复顶部单元格：

```
NSIndexPath* topCellIndexPath = [[_tableView indexPathsForVisibleRows] objectAtIndex:0];
//Insert code to change font size here
[_tableView scrollToRowAtIndexPath:topCellIndexPath atScrollPosition:UITableViewScrollPositionTop animated:NO]; 
```

可以将此代码放入在方向更改时运行的任何方法中，例如`orientationChanged:`您在问题中放入的方法。

这不会考虑将单元格向下滚动到一半，因此如果单元格的高度很大，它将无法正常工作，并且需要使用内容偏移的更复杂的方法。让我知道是否是这种情况。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-04T09:29:15.970

首先，要重新加载所有表格单元格，请使用`[self.tableView reloadData]`

`UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath`其次，在 (方法中添加负责收缩的代码行。

例子：

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
//Some identifier and recycling stuff

if (UIInterfaceOrientationIsPortrait(self.interfaceOrientation)) {
    //Make labels smaller
}
else {
    //Make them bigger
}
} 
```

或者你可以`updateCellForRotate:forRow:`在制作它们时调用你的方法。但我不确定该功能是如何工作的，所以我不能太具体。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-04T09:40:47.867

```
 - (void)didRotateFromInterfaceOrientation:(UIInterfaceOrientation)
fromInterfaceOrientation 
{
NSLog(@"didRotateFromInterfaceOrientation:%d",fromInterfaceOrientation);
[tableView reloadRowsAtIndexPaths:[tableView indexPathsForVisibleRows] withRowAnimation:UITableViewRowAnimationNone];
} 
```

然后我建议将 interfaceOrientation 编号或简单的表格宽度添加到出列单元格名称中，这样 tableView 就知道一个旋转中的单元格与另一个旋转中的单元格不同。像这样：

```
- (UITableViewCell *)tableView:(UITableView *)tv
     cellForRowAtIndexPath:(NSIndexPath *)indexPath
     withType:(NSString *)s_type
{

UITableViewCell *cell = nil;
// add width of table to the name so that rotations will change the cell dequeue names
s_cell = [s_cell stringByAppendingString:
          [NSString stringWithFormat:@"%@%d",@"Width",(int)tv.bounds.size.width]
          ];

NSLog(@"%@",s_cell);
cell = [tv dequeueReusableCellWithIdentifier:s_cell];
if( cell == nil ) { 
    cell = [[[UITableViewCell alloc]
             initWithFrame:CGRectZero reuseIdentifier:s_cell] autorelease];
    }
} 
```**

# class - 当两个类分配给一个 div 时，类否决

> ID：12258596
> 
> 赞同：94
> 
> 时间：2012-09-04T07:23:18.860
> 
> 标签：class, css, html

我正在创建一个`<div>`标签，我想在其中应用两个类作为`<div>`缩略图库的标签。一类是为了它的位置，另一类是为了它的风格。这样我就可以应用这种风格，我得到了一些奇怪的结果，这让我想到了一个问题。

可以将两个类分配给一个`<div>`标签吗？如果是这样，哪一项优先于另一项或哪一项具有优先权？

* * *

## 回答 #1

> 赞同：169
> 
> 时间：2012-09-04T07:27:23.273

可以将多个类分配给一个 div。只需将它们在类名中用空格分隔，如下所示：

```
<div class="rule1 rule2 rule3">Content</div> 
```

然后这个 div 将匹配三个不同类选择器的任何样式规则`.rule1`：`.rule2`和`.rule3`.

CSS 规则应用于页面中的对象，这些对象按照它们在样式表中遇到的顺序与它们的选择器匹配，如果两个规则之间存在冲突（多个规则试图设置相同的属性），则[CSS 特异性](http://coding.smashingmagazine.com/2007/07/27/css-specificity-things-you-should-know/)确定哪个规则优先。

如果冲突规则的 CSS 特性相同，则后面的规则（样式表中稍后定义的规则或后面的样式表中定义的规则）优先。对象本身的类名顺序无关紧要。如果 CSS 特异性相同，那么样式表中样式规则的顺序很重要。

所以，如果你有这样的风格：

```
.rule1 {
    background-color: green;
}

.rule2 {
    background-color: red;
} 
```

然后，由于两个规则都匹配 div 并且具有完全相同的 CSS 特异性，所以第二个规则稍后出现，因此它具有优先权并且背景将是红色的。

* * *

如果一条规则具有更高的 CSS 特异性（`div.rule1`分数高于`.rule2`）：

```
div.rule1 {
    background-color: green;
}

.rule2 {
    background-color: red;
} 
```

然后，它将优先，这里的背景颜色将是绿色。

* * *

如果两条规则不冲突：

```
.rule1 {
    background-color: green;
}

.rule2 {
    margin-top: 50px;
} 
```

然后，将应用这两个规则。

* * *

## 回答 #2

> 赞同：35
> 
> 时间：2015-04-17T09:29:28.037

实际上，最后在 css 中定义的类 - 应用于您的 div。

看看这个：

## CSS中的最后一个红色

```
.blue{ color: blue; }
.red { color: red;  }
```

```
<div class="blue red">blue red</div>
<div class="red blue">red blue</div>
```

对比

## CSS中的最后一个蓝色

```
.red { color: red;  }
.blue{ color: blue; }
```

```
<div class="blue red">blue red</div>
<div class="red blue">red blue</div>
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-09-04T07:27:28.790

如果您询问它们是否具有相同的属性，那么根据 CSS 规则，它采用最后一条语句。

```
<div class="red green"></div> 
```

**CSS**

```
.red{
 color:red;
}
.green{
 color:green;
} 
```

根据上面的示例，它根据 css 树采用最后一条语句，即**.green**。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-09-04T07:26:45.133

如果没有其他条件，CSS 中最后定义的类具有优先权。

[阅读 CSS 优先级](http://hungred.com/useful-information/css-priority-order-tips-tricks/)以了解它是如何工作的。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-09-04T07:27:19.553

许多类可以分配给一个元素，你只需用空格分隔它们

`<div class="myClass aSecondClass keepOnClassing stayClassySanDiego"></div>`

由于 CSS 中的级联，*最接近*文档底部的覆盖规则将应用于元素。

所以如果你有

```
.myClass
{
    background: white;
    color: blue;
}

.keepOnClassing
{
    color: red;
} 
```

将使用红色，但不使用背景颜色，因为它没有被覆盖。

您还必须考虑 CSS 的特殊性，如果您有更具体的选择器，将使用这个：

```
.myClass
{
    background: white;
    color: blue;
}

div.myClass.keepOnClassing
{
    background: purple;
    color: red;
}

.stayClassySanDiego
{
    background: black;
} 
```

这里将使用第二个选择器，因为它更具体。

您可以[在这里查看所有内容](http://jsfiddle.net/Kyle_Sevenoaks/KjMad/)。

# javascript - javascript confirm() ok 和 cancel 返回相同的结果

> ID：12258601
> 
> 赞同：0
> 
> 时间：2012-09-04T07:23:46.933
> 
> 标签：javascript, confirm

这是我的代码：

```
<input type="submit" value="Delete" onclick="del('Are you sure you want to Delete?')">

<script language="JavaScript">
function del(display) 
{   
    var inputs = document.myform;   

    if(inputs[5].value != '')
    {
        confirm(display);  
    }
}
</script> 
```

当我单击“确定”或“取消”时，它们都以相同的方式（确定方式）

我怎样才能让“取消”做它应该做的事情？

注意：为了简单起见，我在那里有一个表格，我没有包括在内。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T07:28:46.217

像这样更改您的代码。

```
onclick="return del('Are you sure you want to Delete?')"

    if(inputs[5].value != '')
        {
            return confirm(display);  
        } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T07:24:55.793

```
<input type="submit" value="Delete" onclick="return del('Are you sure you want to Delete?')">

<script language="JavaScript">
function del(display) 
{   
    var inputs = document.myform;   

    if(inputs[5].value != '')
    {
        return confirm(display);  
    }
}
</script> 
```

您需要`return`在代码中添加两个（`onclick`属性和内部`del()`函数）。如果您的条件`inputs[5].value != ''`为假，您还应该返回一些东西

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T07:25:11.567

像这样做;

```
onclick="return del('Are you sure you want to Delete?')" 
```

# asp.net-mvc - asp.net MVC3 验证默认颜色显示为黑色而不是红色

> ID：12258602
> 
> 赞同：0
> 
> 时间：2012-09-04T07:23:49.640
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我正在使用 MVC3。我有一个运行良好的基本项目，并将默认 MVC 验证显示为红色。

现在验证虽然仍然有效，但显示为黑色而不是红色。除此之外一切都很好。

```
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@Html.ValidationSummary(true, "Login was unsuccessful. Please correct the errors and try again.")

    @using (Html.BeginForm("Logon", "Research", 
            new { returnUrl = Request.QueryString["ReturnUrl"] }, FormMethod.Post, 
            new { @class = "form"}))
    {

                <div style="margin-top:20px">
                  @Html.LabelFor(m => m.UserName)
                  <div class="input">
                    @Html.TextBoxFor(m => m.UserName)                
                  </div>
                  <div class="input">
                    @Html.ValidationMessageFor(m => m.UserName)
                  </div>              
                </div>

                <div>
                  @Html.LabelFor(m => m.Password)
                  <div class="input">
                    @Html.PasswordFor(m => m.Password)                
                  </div>
                  <div class="input">
                    @Html.ValidationMessageFor(m => m.Password)
                  </div>
                </div>

                <div class="actions" style="margin-bottom:20px">              
                  <input type="submit" value="Log On" class="button" />
                </div>

    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T08:17:08.157

在默认站点 css 文件中更改以下类：

```
.field-validation-error
{
    color: Black;
}

.validation-summary-errors
{
    font-weight: bold;
    color: Black;
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2015-06-21T18:08:30.947

包括`~/Content/css`在您的布局中

# ruby-on-rails - Ruby：与主应用程序文件位于同一目录中的文件未在 IRB 中加载

> ID：12258607
> 
> 赞同：1
> 
> 时间：2012-09-04T07:24:09.267
> 
> 标签：ruby-on-rails, ruby, sinatra, irb

在 Sinatra 应用程序中我的主应用程序文件 (tinyclone.rb) 的顶部，此哈希用于需要多个 gem 和一个文件“dirtywords.rb”。脏字文件与 tinyclone.rb 文件位于同一目录中。

```
%w(rubygems data_mapper sinatra haml dm-core dm-timestamps dm-types uri restclient xmlsimple dirty_words).each  { |lib| require lib} 
```

当我在 irb 中加载 tinyclone.rb 文件时

```
require '/Users/mm/sites/cloning/tinyclone.rb' 
```

它将所有这些文件/宝石加载到哈希中，除了dirty_words文件

```
cannot load such file -- dirty_words
    from /Users/mm/.rvm/rubies/ruby-1.9.3-rc1/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:55:in `require'
    from /Users/mm/.rvm/rubies/ruby-1.9.3-rc1/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:55:in `require'
    from /Users/mm/sites/cloning/tinyclone.rb:1:in `block in <top (required)>'
    from /Users/mm/sites/cloning/tinyclone.rb:1:in `each'
    from /Users/mm/sites/cloning/tinyclone.rb:1:in `<top (required)>'
    from /Users/mm/.rvm/rubies/ruby-1.9.3-rc1/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from /Users/mm/.rvm/rubies/ruby-1.9.3-rc1/lib/ruby/site_ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
    from (irb):1
    from /Users/mm/.rvm/rubies/ruby-1.9.3-rc1/bin/irb:16:in `<main>' 
```

谁能解释为什么没有正确需要一个文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T08:06:43.163

Ruby 1.9 不包含当前目录到搜索路径中。

有几个选项可以解决这个问题：

```
# Ruby 1.9 only:
require_relative 'dirty_words'

# Ruby 1.9 and 1.8 compatible:
require File.expand_path('dirty_words', File.dirname(__FILE__))

# Both options above imply that you separate `dirty_words` from the list of libs which
# are present in $LOAD_PATH, and require it separately. Here's another option which
# should allow you to keep require iteration as it is, though it's considered dirty:
$LOAD_PATH << File.dirname(__FILE__) 
```

# c++ - c++模板函数参数推导和函数解析

> ID：12258608
> 
> 赞同：4
> 
> 时间：2012-09-04T07:24:20.290
> 
> 标签：c++, function, templates, c++11, resolution

今天只想提一个问题，关于c++ 11（我用的是vs2010 sp1）中的C++模板函数参数推导和模板函数重载解析。我定义了两个模板函数，如下所示：

功能#1：

```
template <class T>
void func(const T& arg)
{
    cout << "void func(const T&)" <<endl;
} 
```

功能#2：

```
template <class T>
void func(T&& arg)
{
   cout << "void func(T&&)" <<endl;
} 
```

现在考虑以下代码：

```
int main() {
    //I understand these first two examples:

    //function #2 is selected, with T deduced as int&
    //If I comment out function #2, function#1 is selected with
    //T deduced as int
    {int a = 0; func(a);}

    //function #1 is selected, with T is deduced as int.
    //If I comment out function #1, function #2 is selected,
    //with T deduced as const int&.
    {const int a = 0; func(a);}

    //I don't understand the following examples:  

    //Function #2 is selected... why?
    //Why not function #1 or ambiguous...
    {func(0);}

    //But here function #1 is selected.
    //I know the literal string “feng” is lvalue expression and
    //T is deduced as “const char[5]”. The const modifier is part
    //of the T type not the const modifier in “const T&” declaration. 
    {func(“feng”)}

    //Here function#2 is selected in which T is deduced as char(&)[5]
    {char array[] = “feng”; func(array);}
} 
```

我只想知道在这些场景下指导函数重载解析背后的规则。

我不同意下面的两个答案。我认为 const int 示例与文字字符串示例不同。我可以稍微修改一下#function 1，看看地球上的推断类型是什么

```
 template <class T>
 void func(const T& arg)
 {
    T local;
    local = 0;
    cout << "void func(const T&)" <<endl;
 }
 //the compiler compiles the code happily 
 //and it justify that the T is deduced as int type
 const int a = 0;
 func(a);

 template <class T>
 void func(const T& arg)
 {
T local;
Local[0] = ‘a’;
cout << "void func(const T&)" <<endl;
 }
 //The compiler complains that “error C2734: 'local' : const object must be     
 //initialized if not extern
 //see reference to function template instantiation 
 //'void func<const char[5]>(T (&))' being compiled
  //    with
  //    [
  //        T=const char [5]
  //    ]

 Func(“feng”); 
```

在 const int 示例中，“const T&”声明中的 const 修饰符吃掉了 const int 的“常量性”；而在文字字符串示例中，我不知道“const T&”声明中的 const 修饰符在哪里。声明一些像int& const 是没有意义的（但是声明int* const 是有意义的）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-04T07:48:30.317

这里的诀窍是`const`. F1 和 F2 都可以接受任何类型的任何值，但 F2 通常是更好的匹配，因为它是完美的转发。因此，除非该值是`const`左值，否则 F2 是最佳匹配。但是，当左值为 时`const`，F1 是更好的匹配。这就是为什么它更适合 const int 和字符串文字的原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T08:10:42.610

请注意，重载 #2 与 T& 和 T&& 完全匹配。所以这两个重载都可以绑定到右值和左值。在您的示例中，重载区分主要是在 constness 上完成的。

```
//Function #2 is selected... why?
//Why not function #1 or ambiguous...
{func(0);} 
```

`0`is `int&&`- 完全匹配`T&&`

```
//But here function #1 is selected.
//I know the literal string “feng” is lvalue expression and
//T is deduced as “const char[5]”. The const modifier is part
//of the T type not the const modifier in “const T&” declaration. 
{func(“feng”)} 
```

字面`"feng"` 量是`const char(&)[5]`- 与第一次重载完全匹配`const T&`。`(&)`表示这是一个参考。

```
//Here function#2 is selected in which T is deduced as char(&)[5]
{char array[] = “feng”; func(array);} 
```

数组 - 是- 与第二次重载`char(&)[5]`完全匹配`T&`

# hibernate - 如何保持实体管理器连接有效？

> ID：12258610
> 
> 赞同：1
> 
> 时间：2012-09-04T07:24:21.567
> 
> 标签：hibernate, jpa-2.0

我们正在实现一个基于 Liferay 的 Web 应用程序。该数据库由 JPA 2.0 和实体管理器处理。

当系统长时间空闲（如8小时）时，Persistance Context中的Session会丢失，数据库将无法访问。有没有可以解决这个问题的配置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-05T08:12:28.260

也许你可以设置这个属性：

```
<property name="minIdle" value="1"/> 
```

当你声明你的 DataSource bean

更新：如果您使用hibernate的persistence.xml，您应该设置属性：hibernate.c3p0.min_size：C3P0始终保持就绪的最小JDBC连接数

```
<property name="hibernate.c3p0.min_size" value="1"/> 
```

# zend-form - Zend 表单装饰器定制

> ID：12258611
> 
> 赞同：2
> 
> 时间：2012-09-04T07:24:23.757
> 
> 标签：zend-form, decorator

我正在实现如下的 zend 装饰器：

```
$formDecorators = array(
    'FormElements',
    array( 'HtmlTag', array('tag'   => 'dl', 
                            'class' => 'survey_form')),
    'Form',
);

$elementDecorators = array(
    'ViewHelper',
    'Errors',
    array('HtmlTag', array('tag'   => 'dd', 
                           'class' => 'survey_form_dd')),
    array('Label', array('tag'   => 'dt', 
                         'class' => 'survey_form_label name')),
); 
```

生成像：

```
<dl>
<dt>
<dd class="survey_form_dd">
<label style="white-space: nowrap;"> 
```

现在，我想将类添加到`<dd>`-->`<Label>`并且还想根据 TABLE 结构自定义我的装饰器。

# sql - vb.net sqlclient 插入输出

> ID：12258614
> 
> 赞同：4
> 
> 时间：2012-09-04T07:24:37.820
> 
> 标签：sql, sql-server, vb.net, sqlcommand

我有一个 ms sql 表 PRODUCTS。它有三列 ID (int),NAME (nvarchar),TSTAMP (timestamp)

我想获取新插入行的 id 和时间戳（如多选 scope_identity）。我可以在sql中实现如下：

```
INSERT INTO PRODUCTS (NAME)
OUTPUT inserted.ID,inserted.TSTAMP
VALUES ('Example Product') 
```

但是我如何在插入时使用 sqlclient.sqlcommad 在 vb.net 中读取它？我必须使用 sqlcommand 的哪个功能以及如何使用？ExecuteReader 也许？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:31:45.637

使用*SqlCommand的***ExecuteReader()**方法与使用*SELECT*的工作方式相同。

 **> OUTPUT 子句的工作方式类似于 SELECT 语句，但在 INSERT、UPDATE 和 DELETE 命令中的用法不同

这是一个示例代码。试试看。

```
Dim connString As String = "server=Test; database=Test;" + _
                           "uid=sa; pwd="
Dim conn As New SqlConnection(connString)

Dim cmdString As String = "INSERT INTO PRODUCTS (NAME) " + _
                          "OUTPUT inserted.ID,inserted.TSTAMP " + _
                          "VALUES ('Example Product')"
Dim cmd As New SqlCommand(cmdString, conn)
conn.Open()
Dim reader As SqlDataReader = cmd.ExecuteReader()
conn.Close() 
```

这里有一些链接

[从 C# 运行 OUTPUT 子句](http://www.adrianbanks.co.uk/?p=46)

[在 SQL Server 2008 中实现 OUTPUT 子句](http://www.simple-talk.com/sql/learn-sql-server/implementing-the-output-clause-in-sql-server-2008/)**

# postgresql - 如何选择一个数字作为 PostgreSQL 中日期添加功能的一部分放入 INTERVAL

> ID：12258616
> 
> 赞同：1
> 
> 时间：2012-09-04T07:24:48.063
> 
> 标签：postgresql, datetime, intervals

我有一个包含时区偏移量、+1、-7、+5 等的表。我还有另一个可连接的表，其中包含包括日期时间在内的日志信息。

我想从第二个表中选择日期时间，并使用例如 INTERVAL '1 hours'、INTERVAL '-7 hours' 等添加偏移量。

我的伪代码将类似于：

```
SELECT l.status, l.inserted + INTERVAL (coalesce(timezone_offset, '0')||' hours' )  AS inserted FROM log l
LEFT OUTER JOIN users u on u.usersid = l.usersid
LEFT OUTER JOIN companies c on c.companiesid = u.companiesid 
WHERE l.usersid=? 
```

这不起作用，但我不知道如何使它在 PostgreSQL 8.3 中工作。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:38:13.047

事实证明，您可以将 INTERVAL 乘以一个数字。因此，如果我创建一个“1 小时”的 INTERVAL 并将其乘以存储的偏移量，这将起作用，产生：

```
SELECT l.status, l.inserted + (INTERVAL '1 hours' *  coalesce(timezone_offset, '0')) FROM log as l
LEFT OUTER JOIN users u on u.usersid = l.usersid
LEFT OUTER JOIN companies c on c.companiesid = u.companiesid 
WHERE l.usersid=? 
```

瞧！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T07:42:32.517

您也可以使用串联，因此`(l.inserted || ' hours')::INTERVAL`也可以使用。

# c# - 如何从文件系统中读取大量 XML 文件

> ID：12258617
> 
> 赞同：0
> 
> 时间：2012-09-04T07:24:51.690
> 
> 标签：c#, asp.net, linq-to-entities, linq-to-xml

让我们假设，我有一组国家（超过 100 个）。每个国家可以有许多州。每个州在文件系统中都有一个 xml 文件。我必须根据国家、州或 xml 文件中存在的任何 Id 等参数来搜索这些 xml 文件。

文件系统中的xml文件结构：

```
<Country code="in">
    <States Name="Delhi">
        <Subscriptions>
                <Subscription Id="100" Code="ABC">
                         ...
                        </Subscription>
                        <Subscription Id="101" Code="XYZ">
                         ...
                        </Subscription>
            </Subscriptions>
        </States>
</Country> 
```

文件结构（国家文件夹 -> 国家文件夹 -> Subscription.xml 文件）：

```
US -> California-> Subscription.xml
US -> Alaska-> Subscription.xml
In -> Delhi -> Subscription.xml
In -> Tamil Nadu -> Subscription.xml 
```

. . .

例如：如果用户搜索 id = 100，我必须查看每个国家/地区文件夹...在每个州文件夹中...在每个 Subscription.xml 文件中，是否存在具有 100 的 id。

请分享您对如何使用 C# 实现搜索功能的想法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T07:45:36.767

如果数据不会改变，您可以将其全部加载到内存中的对象图中并自己实现搜索。如果有 100 个国家，每个国家有 100 个州，每个国家有 100 个订阅，那么总共只有 1000000 个对象，这应该不会太繁重。

如果您想支持对数据的更改，那么您将需要某种数据库。

如果您希望您执行的搜索灵活，或者您可能想稍后调整架构，我会再次建议您使用数据库。

# regex - 正则表达式检查重复字符

> ID：12258622
> 
> 赞同：8
> 
> 时间：2012-09-04T07:25:09.467
> 
> 标签：regex

我必须创建一个正则表达式，它允许在文本“*ALL”（不区分大小写）*或*az、AZ 和 0-9 范围内的字符中输入，这些字符长度必须为 17 个字符。我这样做没有任何问题：

```
^([\*][Aa][Ll][Ll]|[a-zA-Z0-9]{17})$ 
```

我遇到的问题是如何改变它，以便如果多次输入相同的字符（例如 17 个 x），它就会被拾取。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-04T07:39:37.700

为此，您需要使用捕获括号。这是一个概念，您用括号括起来的任何内容都将被捕获到正则表达式解析器的内存中。

因此，如果您有以下表达式：

```
(\w)\1+ 
```

它将匹配单个单词字符： `[a-zA-Z0-9_]`以及它之后的相同字符。因为括号捕捉并记住了其中存储的内容。

所以在你的情况下：

```
^((?:\*[aA][lL]{2})|([a-zA-Z0-9])\1{17})$ 
```

其中 (?:) 是非捕获括号。

您还可以使用`\1{1,17}`结构，这意味着字符应重复 1 到 17 次。

另一方面，我认为在这里使用正则表达式有点矫枉过正。您可能应该保存字符串，将其小写，然后将其与 '*all' 进行比较。如果它不相等，那么您可以使用正则表达式`^([a-zA-Z0-9])\1{17}$`来提高可读性。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-04T07:30:44.297

如果您的实现语言支持，您可以使用反向引用

尝试`([a-zA-Z0-9])\1{16}`

the`\1`指的是先前匹配的组`()`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-04T07:59:28.183

## **[正则表达式](http://regexr.com?321h9)**：

### 非捕获：

```
^(?:[\*][Aa][Ll][Ll]|([a-zA-Z0-9])\1{16})$ 
```

正则表达式的第二部分`([a-zA-Z0-9])\1{16}`, 匹配一个字母数字字符，然后再重复 16 次。

### 捕获：

如果要捕获整个事物，请删除`?:`（这意味着不要捕获此组）并更改`\1`为`\2`：

```
^([\*][Aa][Ll][Ll]|([a-zA-Z0-9])\2{16})$ 
```

## 火柴：

```
*ALL
*all
all
aaaaaaaaaaaaaaaaa # 17 times same character 
```

## 不匹配：

```
all
ALL
aaaaaaaaaaaaaaaa    # 16 times same character
aaaaaaaaaaaaaaaaaa  # 18 times same character
ababababababababa   # 17 times different characters 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-04T07:36:21.853

试试这个——

```
*[Aa][Ll][Ll]|([a-zA-Z0-9])\1{16} 
```

# symfony - 如何发送电子邮件 Symfony 2 + AWS SES + Swiftmailer？

> ID：12258625
> 
> 赞同：0
> 
> 时间：2012-09-04T07:25:13.767
> 
> 标签：symfony, amazon-web-services, amazon-ses

我已将一个应用程序移至 symfony2 中构建的亚马逊，并使用 swiftmailer 发送电子邮件，但我无法从该应用程序发送电子邮件。

因此，搜索发送电子邮件的解决方案。如果有任何发送电子邮件 SES 或为 symfony2 配置 SMTP 的解决方案，请告诉我。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-30T11:32:18.707

我让我的工作与以下细节：

```
transport: "%mailer_transport%"
host:      "%mailer_host%"
username:  "%mailer_user%"
password:  "%mailer_password%"
auth_mode:  login
encryption: tls
port:  587
logging:  "%kernel.debug%" 
```

最后，确保发送 FROM 电子邮件地址得到验证。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:49:23.007

我从未使用过 AWS SES，但您可以使用[mailjet](https://mailjet.com/)发送电子邮件。你只需要配置 Swiftmailer Transport 来使用他们的 SMTP 就可以了。

他们还通过提供多种技术确保您的电子邮件能够正常发送（即：不在垃圾邮件中）。您将不得不设置其中的一些。

他们没有为 Swiftmailer 提供示例，但这里为 Zend 提供了一个很好的示例（您将看到它是多么容易）：

```
$config = array(
  'ssl'      => 'ssl',
  'port'     => 465,
  'auth'     => 'login',
  'username' => 'your_Mailjet_API_Key',
  'password' => 'your_Mailjet_Secret_Key');

$transport = new Zend_Mail_Transport_Smtp('in-v3.mailjet.com', $config);

$mail = new Zend_Mail();

$mail->setFrom('your_sender@address.com', 'You');
$mail->addTo('recipient@example.com', 'Anybody');
$mail->setSubject('My first email by Mailjet');
$mail->setBodyText('Hello from Mailjet & Zend Framework !');

$mail->send($transport); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-02-15T20:02:49.590

Amazon SES 具有来自官方 AWS Php SDK 的优秀 Php API：

[http://docs.aws.amazon.com/aws-sdk-php/guide/latest/service-ses.html](http://docs.aws.amazon.com/aws-sdk-php/guide/latest/service-ses.html)

如您所见，SES 不是用作 SMTP 网关（像 Mailjet 那样），而是用作 HTTP API（通过 Guzzle，一个用于 HTTP 查询的 Php 库）。依赖或不依赖亚马逊服务（如 S3/SeS/SNS 等）始终是一个重要的决定……也许您不想依赖任何亚马逊技术？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-08-08T10:46:28.423

您可以尝试使用 AWS SES Monitor Bundle 来管理通过 SwiftMailer 和 Symfony 发送的电子邮件。

问题是，当您开始使用 AWS SES 时，您处于沙箱中并且要上线，您需要向 Amazon 提交问题，要求将您从发送箱中移除。

要求是您可以管理退回和投诉。要获得有关这些的通知，您需要连接到简单通知服务（另一种选择是通过电子邮件获得通知）。

要自动化所有这些工作，您可以使用[AWS SES Monitor Bundle](http://github.com/Aerendir/aws-ses-monitor-bundle)为您完成所有这些工作。它还为 SwiftMailer 注册了一个插件，该插件可以拦截消息并避免将消息发送到您不应发送电子邮件的地址。

# xmpp - 如何使用 python 重新启动带有 XMPP/EJABBER 服务器的操作系统

> ID：12258634
> 
> 赞同：0
> 
> 时间：2012-09-04T07:25:51.257
> 
> 标签：xmpp, ejabberd

我想在我的网络上创建一个 XMPP 服务器，然后用 python 向它发送消息，以便这个服务器可以重新启动网络上的目标计算机，现在我该如何设置这个服务器，我该如何做剩下的过程？tnx

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T16:06:07.170

我不确定您要在什么环境中执行此操作，但 XMPP 已在通常的聊天和即时消息程序（例如负载平衡器、rpc...）之外的环境中使用。

有几种方法可以做到这一点。我现在能想到的一种方法是使用[Jabber RPC xep-0009](http://xmpp.org/extensions/xep-0009.html)，它说：

```
This specification defines an XMPP protocol extension for 
transporting XML-RPC encoded requests and responses between two XMPP entities. 
The protocol supports all syntax and semantics of XML-RPC except that 
it uses XMPP instead of HTTP as the underlying transport. 
```

明智的工作流程是如何使这项工作：

1.  您将需要一个在 host-A 上启动并运行的 jabber 服务器
2.  您将需要在网络中的其他主机上配置启动服务（例如在 host-B、host-C、host-D 上）。这个启动服务只不过是一个 xmpp 客户端守护进程，它会在主机启动时在后台启动。
3.  这个配置为启动服务的 xmpp 客户端是特殊的，因为它们将接受传入的 rpc 调用（支持 XEP-0009）并在主机上执行接收到的命令。
4.  收到的 RPC 命令可以是 的同义词`shutdown`，`kill -9 xxxx`具体取决于您的具体需要。
5.  最后，主机 C 上的 xmpp 客户端可以将一个或多个包装在一个节中的命令发送到运行在主机 B 上的 xmpp 客户端。

您可以使用现有的[python xmpp 客户端库](https://stackoverflow.com/questions/1901828/best-python-xmpp-jabber-client-library)之一，并为您的用例简单地扩展它们的工作示例。您还需要检查有关如何根据您的操作系统配置启动服务的详细信息（例如[update-rc.d for ubuntu](http://manpages.ubuntu.com/manpages/precise/man8/update-rc.d.8.html)或[sc.exe for windows](http://wsinnovations.com/softeng/support/manualservice.html)）

# vb.net - 哪些解决方案可以安装 20 多人使用的 VB.NET 应用程序？

> ID：12258660
> 
> 赞同：0
> 
> 时间：2012-09-04T07:28:02.803
> 
> 标签：vb.net, visual-studio, visual-studio-2008, clickonce

我用 VS2008 开发了一个 vb.net 应用程序。该应用程序被公司 20 多人使用。我需要一种能够自动安装此应用程序更新的方法。所以我通过 ClickOnce 部署它。此应用程序的“安装”文件夹位于服务器上，可通过网络访问。每当有人启动应用程序时，它都会检查更新。如果有，则要求用户安装它。

在选择 ClickOnce 解决方案之前，我会考虑其他替代方案。我注意到了 3 个解决方案：

1.  ClickOnce，如上所述。
2.  经典的“设置”安装文件并在本地计算机上安装可执行文件。
3.  经典的“设置”安装文件并安装在服务器上，因此每个人都使用相同的“共享”可执行文件。

我认为解决方案 3 是最糟糕的，因为每当我需要安装更新时，每个人都必须离开应用程序，然后我才能用更新覆盖实际文件（否则文件被锁定，因为可执行文件正在由某人运行）。ClickOnce 解决方案没有这个问题，因为可执行文件仍安装在用户的本地计算机上。

**我的问题：我说得对吗？我想念其他解决方案吗？**

感谢您的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-06T23:28:34.983

我认为 ClickOnce 可能是您最好的选择，因为选项 2 需要安装 msi，如果没有第三方工具，该安装将无法轻松更新，而选项 3 将出现您所描述的锁定问题。

如果你有一个 Windows 域，那么你的网络管理员可以设置一个组策略对象来自动部署软件，但这是更多的工作，而不是标准做法。ClickOnce 是从您的描述出发的方法。

# android - Android ItextPDF ...图像不需要的边框

> ID：12258662
> 
> 赞同：-2
> 
> 时间：2012-09-04T07:28:13.717
> 
> 标签：android, itextpdf

android 中的 iTextPDF 在 PDF 中的图像中设置了我不想要的边框。如何解决这个问题。注意：-我搜索了很多解决方案，但找不到任何解决方案。

```
com.itextpdf.text.Document pdfDocument  =   new com.itextpdf.text.Document();
    pdfDocument.setPageSize(PageSize.A4);
    pdfDocument.setMargins(72f,72f,72f,72f);                                                                        

    File extStore           =   Environment.getExternalStorageDirectory();

    try {
        PdfWriter.getInstance(pdfDocument,new FileOutputStream(extStore.getAbsolutePath()+"/MyNewPDF.pdf"));
    } catch (FileNotFoundException e1) {
        e1.printStackTrace();
    } catch (DocumentException e1) {
        e1.printStackTrace();
    }

    pdfDocument.open();

    BaseColor colorBlack    =   new BaseColor(0, 0, 0);                                                             

    /*Setting the Image Header*/
    Drawable myImage                =       getResources().getDrawable(R.drawable.pdf_logo);
    Bitmap bitmap                   =       ((BitmapDrawable)myImage).getBitmap();
    ByteArrayOutputStream stream    =       new ByteArrayOutputStream();
    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);
    byte[] bitmapdata = stream.toByteArray();

    Image imageHeader = null;

    try {
        imageHeader = Image.getInstance(bitmapdata);
    } catch (BadElementException e1) {
        e1.printStackTrace();
    } catch (MalformedURLException e1) {
        e1.printStackTrace();
    } catch (IOException e1) {
        e1.printStackTrace();
    }

    imageHeader.setAlignment(Element.ALIGN_RIGHT);                                                                  
    Font font = new Font(Font.FontFamily.UNDEFINED,15,Font.ITALIC);
    try {
        pdfDocument.add(imageHeader);
        pdfDocument.add(Chunk.NEWLINE);
        /*Setting the heading line*/
        pdfDocument.add(new Paragraph("Document Name: Qwert Document ID: Dgj",font));
    } catch (DocumentException e1) {
        e1.printStackTrace();
    }  

    /*Black Line*/
    Chunk linebreak         =   new Chunk(new LineSeparator(1f, 100f, colorBlack, Element.ALIGN_CENTER, -1));
    try {
        pdfDocument.add(linebreak);
        pdfDocument.add( Chunk.NEWLINE );
        pdfDocument.add( Chunk.NEWLINE );
        pdfDocument.add( Chunk.NEWLINE );
        pdfDocument.add( Chunk.NEWLINE );
    } catch (DocumentException e) {
        e.printStackTrace();
    }

    /*Main Image*/
    Bitmap bitMap                   =   mBitmapArray.get(mPager.getCurrentItem()).mBitmap;
    ByteArrayOutputStream streamNew =   new ByteArrayOutputStream();
    bitMap.compress(Bitmap.CompressFormat.PNG, 100, streamNew);
    byte[] byteArray = streamNew.toByteArray();

    Image imageMain = null;
    try {
        imageMain = Image.getInstance(byteArray);
    } catch (BadElementException e) {
        e.printStackTrace();
    } catch (MalformedURLException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
    imageMain.setAlignment(Element.ALIGN_CENTER);
    try {
        pdfDocument.add(imageMain);
        pdfDocument.add( Chunk.NEWLINE );
        pdfDocument.add( Chunk.NEWLINE );
        pdfDocument.add( Chunk.NEWLINE );
    } catch (DocumentException e) {
    }

    Chunk linebreak2        =   new Chunk(new LineSeparator(2f, 100f, colorBlack, Element.ALIGN_CENTER, -1));
    try {
        /*Black Line*/
        pdfDocument.add(linebreak2);
        /*Last Line*/
        pdfDocument.add(new Paragraph("Sent by Traveler ID"));
    } catch (DocumentException e) {
        e.printStackTrace();
    }
    pdfDocument.close(); 
```

提前谢谢你

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-09T09:13:16.117

我通过使用另一个库解决了这个问题。

# xml - 在 UIIMageView 上设置图像，其中图像名称来自 xml

> ID：12258669
> 
> 赞同：0
> 
> 时间：2012-09-04T07:28:48.587
> 
> 标签：xml, uiimageview, uiimage

我正在添加一个图像，该图像位于我的资源文件夹中，其中图像名称来自 xml 文件。
Xml 解析正在正确返回图像的名称，因为它在控制台上显示。
现在使用设置此图像，

```
UIImageView Images=[[UIImageView alloc]initWithFrame:CGRectMake(0, 0, 320, 480)];
Images.image=[UIImage imageNamed:[myEngine.CountryImageArr objectAtIndex:0]];
[self.view addSubview:Images]; 
```

这里 [myEngine.CountryImageArr objectAtIndex:0] 给出了正确的图像名称和硬编码该名称在 imageview 上显示图像。但是在运行时，如代码所示，它无法在 UIImageView 上显示图像。

我也使用了 [UIImage imagewithContentOfFile:] 但它也没有解决问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:55:00.457

请确保图像名称具有正确的扩展名和所有内容。也试试

```
UIImageView Images=[[UIImageView alloc]initWithFrame:CGRectMake(0, 0, 320, 480)];
UIImage *img = [UIImage  imageNamed:[myEngine.CountryImageArr objectAtIndex:0]];
[Images setImage:img];
img = nil;
[self.view addSubview:Images]; 
```

# git - Git远程克隆失败，但在本地机器上成功

> ID：12258673
> 
> 赞同：1
> 
> 时间：2012-09-04T07:28:58.923
> 
> 标签：git, gitstack

我已经在远程服务器上设置了 GitStack。现在我想将存储库克隆到本地机器，但它失败了。

服务器环境：
GitStack-2.2.3、
Git-1.7.10、
Windows 7
客户端环境：
Git-1.7.10
Windows 7

第 1 步：如果我直接在服务器上运行克隆命令，它可以工作，

```
$Git clone http://robin@localhost:8082/TestGit.git 
```

第 2 步：如果我在客户端计算机上运行相同的命令。克隆将失败并显示以下错误消息：

```
Cloning into 'TestGit'...  
error: Failed connect to `10.158.169.66:1080;` No error while accessing      `http://robin@10.158.169.66:8082/TestGit.git/info/refs`  
fatal: HTTP request failed 
```

我的故障排除过程：
1\. 正如我上面提到的，我直接在服务器上运行了相同的命令，它可以工作。
2.我检查了TCP端口1080和8082，都启用了。入站和出站规则都已添加到防火墙
3。服务器是可访问的，因为我可以通过浏览器浏览客户端计算机上的存储库。

问：
我不知道根本原因是什么。

# c# - 向 CheckBoxList 添加新项目时，如何使 CheckBoxList 具有唯一项目？

> ID：12258678
> 
> 赞同：1
> 
> 时间：2012-09-04T07:29:21.793
> 
> 标签：c#, asp.net

我有一个`DropDownList`类似的项目：

1.  卧室
2.  厨房
3.  浴室
4.  LIVING_HALL……等等……

我有一个`TextBox`只接受号码。

例如，如果我从 中选择**BEDROOM**，并且如果我在for 例如`DropDownList`中键入任何数字。**2**， and 中的选定项目将与放入循环中的数字连接，并且在 button_click 上的项目被一一添加到类似：`TextBox`**`DropDownList``CheckBoxList`**

 **1.  卧室1
2.  卧室2

我写的.cs代码是：

```
protected void Button_Click(object sender, EventArgs e)
    {
            int q1 = Convert.ToInt16(TextBox1.Text);
            for (int i = 1; i <= q1; i++)
            {
                string t1 = DropDownList1.SelectedItem.ToString().Trim();
                CheckBoxList1.Items.Add(string.Concat(t1, i));
            }
            TextBox1.Text = "";
    } 
```

类似地，对于 中的其他项目也遵循相同的过程`DropDownList`。就像选择了**KITCHEN**并且中的数字`TextBox`是**3**一样。在 button_click 上，项目如下：

1.  厨房1
2.  厨房2
3.  将 KITCHEN3 添加到`CheckBoxList`.

从上面的例子我`CheckBoxList`会看起来像：

1.  卧室1
2.  卧室2
3.  厨房1
4.  厨房2
5.  厨房3

所以现在我的问题是在列表中添加了 KITCHEN 项目后，我想再次添加一个 BEDROOM。

因此，如果我从 中选择 BEDROOM并在 中`DropDownList`键入**1**`TextBox`，然后在 button_click 上，我希望**将 BEDROOM4**添加到`CheckBoxList`. 但是**BEDROOM1**根据我的代码再次添加。

请请帮助...在此先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:36:53.843

将您的处理程序重写为如下内容：

```
protected void Button_Click(object sender, EventArgs e)
{
    int q1 = Convert.ToInt16(TextBox1.Text);

    string t1 = DropDownList1.SelectedItem.ToString().Trim();
    int start = 1;
    string checkBoxValue = string.Concat(t1, start);
    while (CheckBoxList1.Items.Cointains(new ListItem(checkBoxValue)))
    {
        start++;
        checkBoxValue = string.Concat(t1, start);
    }

    for (int i = start; i <= start + q1 - 1; i++)
    {
        CheckBoxList1.Items.Add(string.Concat(t1, i));
    }

    TextBox1.Text = "";
} 
```

本质上，我们只是检查每个递增值是否存在于复选框列表集合中。一旦找到不存在的值，我们就会像以前一样添加请求的值范围。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:40:44.867

在连接一个新项目之前首先检查它是否存在 例如，您在下拉列表中选择 BEDROOM 并且下拉列表中已经有 3 个 BEDROOM 项目。现在首先检查 BEDROOM1 是否存在于下拉列表中？如果是，则将编号从 1 增加到 2，例如 BEDROOM1 到 BEDROOM2，如果存在，则再次增加数字……您可以轻松地将项目检查为

```
 bool check = DropDownList1.Items.Contains(new ListItem("name", "value"));
  if( check )
  {
      string t1 = DropDownList1.SelectedItem.ToString().Trim();
        CheckBoxList1.Items.Add(string.Concat(t1, i));
  }
  else
  {
      // again concatenate a new item 
    } 
```

只需在前面添加上面的行**

# java - Maven 无法从 .m2/repository 中找到 jars

> ID：12258679
> 
> 赞同：1
> 
> 时间：2012-09-04T07:29:30.623
> 
> 标签：java, maven, spring-mvc, maven-3, maven-plugin

我正在使用 mercurial 插件克隆项目。但是，当我要构建项目时发生以下错误。

```
 9/4/12 12:53:10 PM IST: Missing artifact org.slf4j:slf4j-api:jar:1.6.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.slf4j:slf4j-log4j12:jar:1.6.1:compile
9/4/12 12:53:10 PM IST: Missing artifact log4j:log4j:jar:1.2.16:compile
9/4/12 12:53:10 PM IST: Missing artifact net.bull.javamelody:javamelody-core:jar:1.31.0:compile
9/4/12 12:53:10 PM IST: Missing artifact org.jrobin:jrobin:jar:1.5.9:compile
9/4/12 12:53:10 PM IST: Missing artifact org.hibernate:hibernate-core:jar:3.6.7.Final:compile
9/4/12 12:53:10 PM IST: Missing artifact antlr:antlr:jar:2.7.6:compile
9/4/12 12:53:10 PM IST: Missing artifact dom4j:dom4j:jar:1.6.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.hibernate:hibernate-commons-annotations:jar:3.2.0.Final:compile
9/4/12 12:53:10 PM IST: Missing artifact org.hibernate.javax.persistence:hibernate-jpa-2.0-api:jar:1.0.1.Final:compile
9/4/12 12:53:10 PM IST: Missing artifact javax.transaction:jta:jar:1.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.hibernate:hibernate-entitymanager:jar:3.6.7.Final:compile
9/4/12 12:53:10 PM IST: Missing artifact cglib:cglib:jar:2.2:compile
9/4/12 12:53:10 PM IST: Missing artifact asm:asm:jar:3.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.hibernate:hibernate-c3p0:jar:3.6.7.Final:compile
9/4/12 12:53:10 PM IST: Missing artifact c3p0:c3p0:jar:0.9.1:compile
9/4/12 12:53:10 PM IST: Missing artifact net.sf.ehcache:ehcache-core:jar:2.4.4:compile
9/4/12 12:53:10 PM IST: Missing artifact mysql:mysql-connector-java:jar:5.1.17:runtime
9/4/12 12:53:10 PM IST: Missing artifact org.hibernate:hibernate-jpamodelgen:jar:1.0.0.Final:compile
9/4/12 12:53:10 PM IST: Missing artifact org.liquibase:liquibase-core:jar:2.0.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.hibernate:hibernate-validator:jar:4.2.0.Final:compile
9/4/12 12:53:10 PM IST: Missing artifact javax.validation:validation-api:jar:1.0.0.GA:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-web:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact aopalliance:aopalliance:jar:1.0:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-beans:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-core:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-webmvc:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-asm:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-expression:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-aop:jar:3.0.5.RELEASE:runtime
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-context-support:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-orm:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-jdbc:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-tx:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-jms:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-oxm:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework.ws:spring-ws-core:jar:2.0.2.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework.ws:spring-xml:jar:2.0.2.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact wsdl4j:wsdl4j:jar:1.6.1:compile
9/4/12 12:53:10 PM IST: Missing artifact commons-logging:commons-logging:jar:1.1.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework.security:spring-security-core:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.aspectj:aspectjrt:jar:1.6.8:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework.security:spring-security-web:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework.security:spring-security-taglibs:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework.security:spring-security-acl:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework.security:spring-security-config:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.activemq:activemq-core:jar:5.5.0:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.geronimo.specs:geronimo-jms_1.1_spec:jar:1.1.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.activemq:activeio-core:jar:3.1.2:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.activemq:kahadb:jar:5.5.0:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.activemq.protobuf:activemq-protobuf:jar:1.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.osgi:org.osgi.core:jar:4.1.0:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.geronimo.specs:geronimo-j2ee-management_1.1_spec:jar:1.0.1:compile
9/4/12 12:53:10 PM IST: Missing artifact commons-net:commons-net:jar:2.0:compile
9/4/12 12:53:10 PM IST: Missing artifact org.jasypt:jasypt:jar:1.7:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.activemq:activemq-spring:jar:5.5.0:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.geronimo.specs:geronimo-jta_1.0.1B_spec:jar:1.0.1:compile
9/4/12 12:53:10 PM IST: Missing artifact commons-pool:commons-pool:jar:1.5.4:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework.osgi:spring-osgi-core:jar:1.2.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework.osgi:spring-osgi-io:jar:1.2.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.activemq:activemq-pool:jar:5.5.0:compile
9/4/12 12:53:10 PM IST: Missing artifact commons-codec:commons-codec:jar:1.5:compile
9/4/12 12:53:10 PM IST: Missing artifact commons-fileupload:commons-fileupload:jar:1.2.2:compile
9/4/12 12:53:10 PM IST: Missing artifact commons-io:commons-io:jar:2.0.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.httpcomponents:httpclient:jar:4.1.2:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.httpcomponents:httpcore:jar:4.1.2:compile
9/4/12 12:53:10 PM IST: Missing artifact org.jscience:jscience:jar:4.3.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.aspectj:aspectjweaver:jar:1.6.11:runtime
9/4/12 12:53:10 PM IST: Missing artifact org.codehaus.jackson:jackson-core-asl:jar:1.8.5:compile
9/4/12 12:53:10 PM IST: Missing artifact org.codehaus.jackson:jackson-mapper-asl:jar:1.8.5:compile
9/4/12 12:53:10 PM IST: Missing artifact joda-time:joda-time:jar:2.0:compile
9/4/12 12:53:10 PM IST: Missing artifact xerces:xercesImpl:jar:2.9.1:compile
9/4/12 12:53:10 PM IST: Missing artifact xml-apis:xml-apis:jar:1.3.04:compile
9/4/12 12:53:10 PM IST: Missing artifact org.gavaghan:geodesy:jar:0.1:compile
9/4/12 12:53:10 PM IST: Missing artifact javassist:javassist:jar:3.4.GA:runtime
9/4/12 12:53:10 PM IST: Missing artifact javax.mail:mail:jar:1.4.4:compile
9/4/12 12:53:10 PM IST: Missing artifact javax.activation:activation:jar:1.1:compile
9/4/12 12:53:10 PM IST: Missing artifact net.sf.opencsv:opencsv:jar:2.1:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.xbean:xbean-spring:jar:3.7:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.velocity:velocity:jar:1.7:compile
9/4/12 12:53:10 PM IST: Missing artifact commons-lang:commons-lang:jar:2.4:compile
9/4/12 12:53:10 PM IST: Missing artifact net.sf.json-lib:json-lib:jar:jdk15:2.4:compile
9/4/12 12:53:10 PM IST: Missing artifact commons-beanutils:commons-beanutils:jar:1.8.0:compile
9/4/12 12:53:10 PM IST: Missing artifact net.sf.ezmorph:ezmorph:jar:1.0.6:compile
9/4/12 12:53:10 PM IST: Missing artifact taglibs:standard:jar:1.1.2:compile
9/4/12 12:53:10 PM IST: Missing artifact javax.servlet:jstl:jar:1.1.2:compile
9/4/12 12:53:10 PM IST: Missing artifact displaytag:displaytag:jar:1.2:compile
9/4/12 12:53:10 PM IST: Missing artifact com.lowagie:itext:jar:1.3:compile
9/4/12 12:53:10 PM IST: Missing artifact javax.servlet:servlet-api:jar:2.5:provided
9/4/12 12:53:10 PM IST: Missing artifact javax.servlet.jsp:jsp-api:jar:2.1:provided
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-test:jar:3.0.5.RELEASE:test
9/4/12 12:53:10 PM IST: Missing artifact junit:junit:jar:4.8.2:test
9/4/12 12:53:10 PM IST: Missing artifact org.easymock:easymock:jar:3.0:test
9/4/12 12:53:10 PM IST: Missing artifact cglib:cglib-nodep:jar:2.2:test
9/4/12 12:53:10 PM IST: Missing artifact org.objenesis:objenesis:jar:1.2:test
9/4/12 12:53:10 PM IST: Missing artifact net.sourceforge.htmlunit:htmlunit:jar:2.9:test
9/4/12 12:53:10 PM IST: Missing artifact xalan:xalan:jar:2.7.1:test
9/4/12 12:53:10 PM IST: Missing artifact xalan:serializer:jar:2.7.1:test
9/4/12 12:53:10 PM IST: Missing artifact org.apache.httpcomponents:httpmime:jar:4.1.2:test
9/4/12 12:53:10 PM IST: Missing artifact net.sourceforge.htmlunit:htmlunit-core-js:jar:2.9:test
9/4/12 12:53:10 PM IST: Missing artifact net.sourceforge.nekohtml:nekohtml:jar:1.9.15:test
9/4/12 12:53:10 PM IST: Missing artifact net.sourceforge.cssparser:cssparser:jar:0.9.5:test
9/4/12 12:53:10 PM IST: Missing artifact org.w3c.css:sac:jar:1.3:test
9/4/12 12:53:10 PM IST: Missing artifact org.dbunit:dbunit:jar:2.4.8:test
9/4/12 12:53:10 PM IST: Missing artifact com.google.code.gson:gson:jar:1.7.1:test
9/4/12 12:53:10 PM IST: Missing artifact opensymphony:sitemesh:jar:2.4.2:compile
9/4/12 12:53:10 PM IST: Missing artifact net.sourceforge.jexcelapi:jxl:jar:2.6.12:compile
9/4/12 12:53:10 PM IST: Missing artifact org.apache.commons:commons-math:jar:2.2:compile
9/4/12 12:53:10 PM IST: Missing artifact org.springframework:spring-context:jar:3.0.5.RELEASE:compile
9/4/12 12:53:10 PM IST: Missing artifact org.opensymphony.quartz:quartz-all:jar:1.6.1:compile
9/4/12 12:53:10 PM IST: Missing artifact commons-collections:commons-collections:jar:3.2.1:compile
9/4/12 12:53:15 PM IST: Maven Builder: AUTO_BUILD 
9/4/12 12:53:41 PM IST: [WARN] The POM for org.hibernate:hibernate-entitymanager:jar:3.6.7.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
9/4/12 12:53:41 PM IST: [WARN] The POM for org.springframework:spring-webmvc:jar:3.0.5.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
9/4/12 12:53:41 PM IST: [WARN] The POM for org.springframework.ws:spring-ws-core:jar:2.0.2.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
9/4/12 12:53:41 PM IST: [WARN] The POM for org.apache.activemq:activemq-core:jar:5.5.0 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
9/4/12 12:53:41 PM IST: [WARN] The POM for org.springframework.osgi:spring-osgi-core:jar:1.2.1 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
9/4/12 12:53:41 PM IST: [WARN] The POM for org.apache.httpcomponents:httpcore:jar:4.1.2 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details 
```

我得到了存储库的路径到属性-> maven-> 用户设置，但仍然没有解决。

有什么建议么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:37:53.623

检查设置`%M2_HOME%\conf\settings.xml`

```
<localRepository>/path/to/local/repo</localRepository> 
```

应该在玩具本地 repo 上
设置，配置文件应该在一些 repo 上设置

```
 <profiles>
     <profile>
     <id>myprofile</id>
     <repositories>
       <repository>
         <id>my-repo2</id>
         <name>your custom repo</name>
         <url>http://jarsm2.dyndns.dk</url>
       </repository>
     </repositories>
   </profile>  
</profiles> 
```

也激活此配置文件

```
<activeProfiles>
   <activeProfile>myprofile</activeProfile>
 </activeProfiles> 
```

# android - 什么是资源？

> ID：12258685
> 
> 赞同：-8
> 
> 时间：2012-09-04T07:29:51.987
> 
> 标签：android, android-linearlayout, android-resources

`<resources>`和有什么区别`<Linearlayout>`？什么是`<resources>`我们在哪里使用它？我搜索并看到了 android 网站，但我不明白那是什么`<resources>`。

为什么在`strings.xml`我们使用`<resources>`？例如，在这段代码中我们使用了为什么不使用`<LinearLayout>`？

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <array name="difficulty">
        <item>@string/easy_label</item>
        <item>@string/medium_label</item>
        <item>@string/hard_label</item>
    </array>
</resources> 
```

干杯。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:36:27.943

资源基本上是指您为 android 项目制作并存储在 res 文件夹中的资源。您可以通过 R.java 文件访问这些资源。资源和线性布局的区别在于线性布局定义了一种布局格式。Strings.xml 是一个资源文件。保存在此处的资源可以通过 R.strings.yourStringName 访问。有关更多详细信息，请参阅[http://developer.android.com/guide/topics/ui/declaring-layout.html](http://developer.android.com/guide/topics/ui/declaring-layout.html) [http://developer.android.com/guide/topics/resources/available-resources.html](http://developer.android.com/guide/topics/resources/available-resources.html)

# android - 根据用户方向计算两个位置之间的方位角

> ID：12258688
> 
> 赞同：2
> 
> 时间：2012-09-04T07:30:22.253
> 
> 标签：android

我正在使用以下方法来查找我当前位置和目的地位置之间的角度。

```
public  float calculateBearing(Location before, Location after) {
     Point pBefore = location2Point(before);
         Point pAfter = location2Point(after);
float res = -(float) (Math.atan2(pAfter.y - pBefore.y,pAfter.x-pBefore.x)*180/ Math.PI) + 90.0f;
          if (res < 0)
      {
          Log.e("angle ",""+(res + 360.0f));
              return res + 360.0f;
      }
      else
      {
          Log.e("angle ",""+res);
              return res;
      }
    } 
```

但这给出了从用户当前位置始终朝向北方的角度。但如果用户转向南方或东方，我也需要根据用户方位计算角度。

我知道使用传感器管理器可以计算方位角。但是我如何计算从用户当前位置到目标位置的方位角。

提前致谢

# java - jboss 中的全局自定义设置

> ID：12258690
> 
> 赞同：0
> 
> 时间：2012-09-04T07:30:32.033
> 
> 标签：java, jboss

我开发了一个网络应用程序。
它的后端是jboss 6.1。
在这种环境中，实现以下内容的最佳方法是：
文件外部的一些自定义条目，如 DEBUG 或 STAGE 或类似的东西，其值可以更改。在会话 bean 中，我想读取此值并根据此设置进行操作。
在其他环境中，实现这一点的一个好方法是使用属性文件。
但它也与jboss吗？非常感谢
沃尔夫冈

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:37:24.260

如果配置有限，那么您可以[使用](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html)

在启动 Jboss 时，您可以使用 -D 选项指定属性。

> -Dproperty=value 设置系统属性值。如果 value 是包含空格的字符串，则必须将字符串括在双引号中： java -Dfoo="some string" SomeClass

您可以使用[System.getProperty(String Key)](http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html#load%28java.io.InputStream%29)来访问它的值。

# apache - apache tomcat + apache httpd + mod_proxy + mod_rewrite + 表单发布数据

> ID：12258698
> 
> 赞同：1
> 
> 时间：2012-09-04T07:30:56.030
> 
> 标签：apache, mod-rewrite, http-post, reverse-proxy, mod-proxy

请帮我。我确实尝试在这里阅读旧帖子找到类似的问题，但我没有找到任何东西。我的帖子数据有问题。我正在使用 Apache tomcat + ajp + Apache Httpd 2.2 这是我的**httpd.conf**的一部分：

```
#Application has context url = konakart, and tomcat post 8789 for ajp
#I want to avoid typing port in my URL
ProxyPass / ajp://localhost:8789/konakart/

#pretty urls
#I don't want to type http://myshop.com/konakart
#I want http://myshop.com
#I want to put away /konakart/ from URL
RewriteEngine on
Options +FollowSymlinks
RewriteRule ^/konakart/(.*) /$1 [R=301,L] 
RewriteRule send-mail index.php?send-mail [NC,P] 
```

Everyting 没问题...除了 POST 数据丢失。似乎是因为 R=301。但我不能收起 R=301。如果我这样做，没有任何效果。我正在使用 VDS，所以我可以做任何事情......请帮助我克服这个问题 .:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T12:20:32.680

这是 mod_rewrite 和 GWT 以及我的 curl 手的综合问题；）这是有效的 httpd.conf 代码，请参阅代码中的注释：

```
 #Tomcat through Apache httpd
    ProxyPass /konakart ajp://localhost:8789/konakart
    ProxyPass / ajp://localhost:8789/konakart/

    #pretty urls

    RewriteEngine on
    Options +FollowSymlinks
#do not do anything for POST actions and GWT stuff. It's better not to touch it at all.
#mod_rewrite breaks interconnection of GWT RPC calls.
    RewriteCond  %{REQUEST_URI} !/(.*)EditCartSubmit\.do(.*)
    RewriteCond  %{REQUEST_URI} !/(.*)Submit\.do(.*)
    RewriteCond  %{REQUEST_URI} !/(.*)\.cache\.html
    RewriteCond  %{REQUEST_URI} !/(.*)\.nocache\.(.*)\.js
#Previously GWT servlet had mapping "/konakart"
#I've renamed it to "/KonakartGWTServlet"
    RewriteCond  %{REQUEST_URI} !/KonakartGWTServlet
    RewriteRule ^/konakart/(.*) /$1 [R=301,L] 
```

# mysql - 使用引用从同一个表中选择行

> ID：12258699
> 
> 赞同：0
> 
> 时间：2012-09-04T07:30:56.233
> 
> 标签：mysql

我有一个名为 tblA 的表。我有以下一组值。

```
ID    REF     
---------
1     ASD    
2     null    
3     null    
4     null    
5     FGH     
6     null 
```

现在我正在尝试获取第 1 到第 4 行（即起始行将是 ref 列中值为“ASD”的行，最后一行将是 REF 列中具有某些值的行的前一行，例如“FGH” ）。

我尝试使用 between 关键字，但我没有正确。有什么办法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T07:45:50.457

可以使用rank方法：

```
select * from(
SELECT @rank :=  IF(@prevVal<>ref or ref is null,@rank, @rank+1) AS rank, 
       id,ref,
@prevVal:=ref
FROM   scores
, 
       (SELECT @rank := 0,@prevVal:=null) r 
order by id) m
where m.rank=1 
```

[SQL FIDDLE 在这里。](http://sqlfiddle.com/#!2/88757/7)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:47:33.267

```
SELECT ID, REF, 
    (CASE WHEN REF IS NOT NULL THEN @refs := @refs + 1 ELSE @refs END) AS counter
FROM (  SELECT ID, REF
        FROM tblA, (SELECT @refs := 0) AS vars
        WHERE ID >= 1
        ORDER BY ID ASC) AS h
HAVING counter = 1 
```

这应该适合你。

# ajax - 使用 jQuery AJAX 定位特定无序列表时如何选择最后 5 个列表项？

> ID：12258701
> 
> 赞同：0
> 
> 时间：2012-09-04T07:30:59.833
> 
> 标签：ajax, jquery

我还没有做太多 jQuery AJAX 的东西，只是开始学习加载功能，这对于我需要的东西来说绝对是惊人的......但我的问题现在更具体关于我如何可能只选择最后 5 条记录/列表项针对特定列表项时...

例如;

页面名称：targeted.html

```
 <div id="targeted_div">
  <ul>
  <li>Want to select this list item</li>
  <li>Want to select this list item</li>
  <li>Want to select this list item</li>
  <li>Want to select this list item</li>
  <li>Want to select this list item</li>
  <li>Do NOT want this list item</li>
  <li>Do NOT want this list item</li>
  <li>Do NOT want this list item</li>
  <li>Do NOT want this list item</li>
  <li>Do NOT want this list item</li>
  <li>Do NOT want this list item</li>
  <li>Do NOT want this list item</li>
  </ul>
  </div> 
```

页面名称：new.html

```
<div id="new_div">
</div> 
```

我通常会选择整个无序列表，例如；

```
<script>
$('#new_div').load('/targeted.html #targeted_div');
</script> 
```

那么如何做到这一点，在此先感谢 :) 也可以从下到上选择最后 5 条记录...干杯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:51:48.933

使用[`:lt()`-selector](http://api.jquery.com/lt-selector/)

```
$('<ul/>')
 .appendTo($('#new_div').empty())
   .load('/targeted.html #targeted_div li:lt(5)'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:45:26.313

向文件中的最后 5 个元素添加一个类`targeted.html`：

```
<div id="targeted_div">
  <ul>
    <li class='selectMe'>Want to select this list item</li>
    <li class='selectMe'>Want to select this list item</li>
    <li class='selectMe'>Want to select this list item</li>
    <li class='selectMe'>Want to select this list item</li>
    <li class='selectMe'>Want to select this list item</li>
    <li>Do NOT want this list item</li>
    <li>Do NOT want this list item</li>
    <li>Do NOT want this list item</li>
    <li>Do NOT want this list item</li>
    <li>Do NOT want this list item</li>
    <li>Do NOT want this list item</li>
    <li>Do NOT want this list item</li>
  </ul>
</div> 
```

然后，在`new.html`运行中：

```
<script>
   //get only $('.selectMe') elements from targeted.html contents
   var loadedCode = $.load('/targeted.html .selectMe');

   //construct new code
   var newCode = '<ul>'+loadedCode+'</ul>';

   //insert new code into #newDiv
   $('#newDiv').html(newCode);

   //reorder <li> elements
   var ul = $("ul");
   var li = ul.children("li");
   li.detach().sort();
   ul.append(li);
</script> 
```

# datatable - 从转发器中的数据表中删除特定行

> ID：12258704
> 
> 赞同：0
> 
> 时间：2012-09-04T07:31:05.483
> 
> 标签：datatable, repeater

我有一个中继器，每行都有一个按钮，按钮会将一些数据记录添加到数据表中，所以如果我在每一行中单击该按钮，它将向数据表添加更多记录。我在每一行都有一个删除按钮，应该删除从同一转发器行添加的记录，因此只有从该行添加的记录应该被删除。我的代码工作正常，只是它从数据表中删除了所有记录。如何删除从特定行添加的特定记录？

我的代码：

```
for (int i = GRX.Rows.Count - 1; i >= 0; i--)
                {
                    DataRow dr = GRX.Rows[i];

                    if (lbl4.Text == "2" || lbl4.Text == "4")
                    {
                        dr.Delete();
                    }
                } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:36:14.017

`DataRow dr = GRX.Rows[i];`可能正在选择一些您不想删除的值。

尝试在条件中添加`(`和。`)``if`

此外，检查是否将正确的参数传递给删除行的 SQL 查询。您可能缺少一个`WHERE id = xx`子句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-06T10:56:25.417

我在转发器中有一个序列号，因此我在添加到数据表的每条记录中添加了序列，并将其添加到 if 语句中。

修改后的代码是：

```
for (int i = GRX.Rows.Count - 1; i >= 0; i--)
                {
                    DataRow dr = GRX.Rows[i];

                    string seq = lbl7.Text;
                    string GRXseq = dr[5].ToString();
                    string GRXseat = dr[4].ToString();

                    if (GRXseat == "R" && lbl4.Text == "2" && GRXseq == seq || GRXseat == "R" && lbl4.Text == "4" && GRXseq == seq)
                    {
                        dr.Delete();

                    }
                } 
```

# javascript - 如何在不使用 JS 发出新请求的情况下读取当前标头？

> ID：12258705
> 
> 赞同：27
> 
> 时间：2012-09-04T07:31:07.973
> 
> 标签：javascript, http-headers

> **可能重复：**
> [在 Javascript 中访问 HTTP 标头？](https://stackoverflow.com/questions/220231/accessing-http-headers-in-javascript)

我知道用 javascript 读取当前标题的唯一方法是：

```
var req = new XMLHttpRequest();
req.open('GET', document.location, false);
req.send(null);
var headers = req.getAllResponseHeaders().toLowerCase(); 
```

但我不想提出新的请求，我想阅读当前的标题。

这可能吗？谢谢！

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-09-04T07:41:19.663

在不发送 ajax 请求的情况下，无法通过 Javascript 访问页面标题。

# selenium - 是否可以将 Selenium IDE 测试用例导出为 Java/TestNG/WebDriver？

> ID：12258712
> 
> 赞同：4
> 
> 时间：2012-09-04T07:31:29.063
> 
> 标签：selenium, webdriver, testng, selenium-ide, selenium-webdriver

在 Selenium IDE 1.9.0 中，可以选择将测试用例导出为 Java / JUnit4 / Webdriver 和 Java / TestNG / Remote Control（以及更多选项）。

我想知道有没有办法将测试用例导出为 Java/TestNG/Webdriver？如果没有，是否有任何解决方法？或者我们可以将它导出为 JUnit 并通过一些简单的步骤将其更改为 TestNG？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-04T08:26:45.623

目前无法做到这一点！

解决方法：

将其导出为 Java JUnit4 Webdriver，只需更改导入和注释。

这就是你需要做的一切

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-10T07:32:36.947

是的，无法将 Selenese 脚本从 IDE 导出到 Java/TestNG/WebDriver。但是，您可以编辑脚本并在 TestNG 上运行。有用！！

对于替代解决方案，请使用 Sauce 中的**Selenium Builder**进行此组合 [https://saucelabs.com/builder](https://saucelabs.com/builder)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-08T03:57:28.183

如果您必须使用 Selenium IDE，那么您必须导出为 Java JUnit4 Webdriver 并更改导入和注释，但不要这样做......

使用调味汁。它是一个比 Selenium IDE 更好的工具，主要是因为它正确地理解了 Selenium 1 API 和 Selenium 2 API 之间的区别，并且它工作得很好。当然，用户界面很笨重，但我会用一个笨拙的用户界面来破解一个每次都可以工作的工具的输出。这是链接...

[https://saucelabs.com/builder](https://saucelabs.com/builder)

# java - 尝试在我的程序中发现混乱

> ID：12258714
> 
> 赞同：-2
> 
> 时间：2012-09-04T07:31:33.063
> 
> 标签：java, list, try-catch

我正在开发一个小蛇和梯子游戏，其中我正在生成蛇生成器类，该类验证蛇是否在逻辑上构造蛇。

我已经为蛇的头部和尾部采取了头部和尾部阵列。

蛇类具有返回对象在棋盘上的位置的`getTail()`,方法。`getHead()`

`position.getPositionNumber()`返回从 1 到 100 的整数值。

我在班板上有蛇的排列清单。

蛇生成器是一个验证蛇在逻辑上是否正确的类（它必须删除构造错误的蛇）。

如果两条蛇的头相同，则它必须忽略一条蛇（最新的蛇）并与其他蛇一起给棋盘。

这是板级：

```
public class Board {

    private int[] head = { 15,16,15,15};
    private int[] tail = {3,4,5,6};
    List<Snake> snakes = new ArrayList();
 public void getBoard()  {
        Snake snake;

 ListIterator<Snake> listIterator = snakes.listIterator();
        while (listIterator.hasNext()) {
            snake = listIterator.next();
            System.out.println(snake.getHead().getPositionNumber());
        }

             SnakesGenerator snakesGenerator = new SnakesGenerator(snakes);

          snakes=snakesGenerator.addSnakes();
          listIterator = snakes.listIterator();
            while (listIterator.hasNext()) {
                snake = listIterator.next();
                System.out.println(snake.getHead().getPositionNumber());
            }
    }         
} 
```

下面给出了蛇生成器类..

```
public class SnakesGenerator {

    List<Snake> snakes = new ArrayList();

    public SnakesGenerator(List<Snake> snakes) {
        super();
        this.snakes = snakes;
    }

    @SuppressWarnings("unchecked")
    public List<Snake> addSnakes() {
        Snake snake;
        Snake snakePrevious = null;

        Collections.sort(snakes, new SnakesCompator());
            int i=0;
        // ListIterator<Snake> listIterator = snakes.listIterator();
        // System.out.println("hai this is addsnakes");
        for (Snake s : snakes)
            System.out.println(s.getTail().getPositionNumber());

                snakePrevious =snakes.get(0);

        System.out.println("before the method execution"
                + snakePrevious.getTail().getPositionNumber());
        for(i=1;i<3;i++) {

            snake=snakes.get(i);
            System.out.println(snake.getTail().getPositionNumber());

            try {
                if (snakePrevious.getHead().getPositionNumber() == snake
                        .getHead().getPositionNumber()) {
                    snakes.remove(snake);
                    throw new Exception("two snakes have same head..");

                }
            } catch (Exception e) {

                for (Snake s : snakes)
                              System.out.println(s.getTail().getPositionNumber());
            }
            snakePrevious = snake;
        }
        return snakes;
    }
} 
```

我只能删除一个重复项并且程序正在终止。

我认为我在使用 try catch 块时遇到了问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:40:41.980

我的猜测是你抛出了一个异常，但是因为你忽略了它，即没有打印出来，你不知道它是什么或导致它的原因。

我怀疑你的问题是，当你移除一条蛇时，你的物品比你预期的要少，而你正试图从中获取一个`snakes`不再存在的元素。

我建议您通过单步调试代码并了解它的实际作用，尝试使用调试器调试您的程序。

顺便说一句：抛出异常并立即捕获它是令人困惑且毫无意义的。

# java - 在 IBM WebSphere 8.5 中将 LogBack 作为 SharedLibrary

> ID：12258719
> 
> 赞同：1
> 
> 时间：2012-09-04T07:31:50.753
> 
> 标签：java, jakarta-ee, websphere, logback

我想将 LogBack 与 IBM WebSphere 8.5 一起用作共享库。我的问题是我不知道将 logback.xml 放在哪里，所以我可以将一些日志重定向到不同的文件。目前我所有的日志都被定向到 WAS 中的 System.out.log，这是我不想要的。

我试图将 logback.xml 放在我的动态应用程序项目 WEB-INF/classes 文件夹中，在我的 EJB 项目 ejbModule 文件夹中，但没有成功。

我试过用谷歌搜索，但我找不到任何指向这个问题的东西。

任何的想法？

问候，

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T08:22:33.100

我已经成功地将 SLF4J API 与 WAS 7 的 Logback 实现一起使用。我的配置是：

*   logback-classic-x.jar, logback-core-x.jar (, slf4j-api-x.jar) 在我 EAR 的 lib 目录中
*   我的 EJB 的根源文件夹 (ejbModule) 中的 logback.xml

就是这样。

将 logback.xml 放入 JAR 并将该 JAR 放入 EAR 的库中也应该可以工作。

在应用程序启动期间，您不会收到任何与 logback 相关的错误吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-05T06:50:11.097

从[Logback 常见问题解答](http://logback.qos.ch/faq.html#configFileLocation)：

将 logback.xml 放入

*   在类路径中声明的任何文件夹
*   WEB-INF/类直接

# android - 单标签 Android 中的多个活动

> ID：12258720
> 
> 赞同：0
> 
> 时间：2012-09-04T07:31:57.883
> 
> 标签：android, android-intent, tabs, android-activity

在我的应用程序中，我试图使用意图从选项卡中的按钮打开一个活动。但是，新活动不是在同一个选项卡中打开，而是覆盖整个屏幕，并且这些选项卡不可见。我如何在同一个选项卡中打开多个活动。

以下代码是我的主要课程：

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    TabHost tabHost = getTabHost();
    tabHost.addTab(tabHost.newTabSpec("tab1").setIndicator("OPT").setContent(new Intent(this, TabGroup1Activity.class)));
    tabHost.addTab(tabHost.newTabSpec("tab2").setIndicator("EDIT").setContent(new Intent(this, TabGroup2Activity.class)));
    tabHost.setCurrentTab(1);
} 
```

以下是 TabGroupActivity 的代码：

```
public class TabGroupActivity extends ActivityGroup{

ArrayList<String> list;
Window window;
@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);

    if(list.equals(null))
    {
        list = new ArrayList<String>();
    }
}

@Override
public void finishFromChild(Activity child)
{
    LocalActivityManager manager = getLocalActivityManager();
    int index = list.size() -1;
    if(index < 1)
    {
        finish();
        return;
    }
    manager.destroyActivity(list.get(index), true);
    list.remove(index);
    index--;
    String lastId = list.get(index);
    Intent in = manager.getActivity(lastId).getIntent();
    window = manager.startActivity(lastId, in);
    setContentView(window.getDecorView());
}

public void startChildActivity(String Id, Intent intent)
{
    window = getLocalActivityManager().startActivity(Id, intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP));
    if(window != null)
    {
        list.add(Id);
        setContentView(window.getDecorView());
    }
}

@Override
public boolean onKeyDown(int keyCode, KeyEvent event)
{
    if(keyCode == KeyEvent.KEYCODE_BACK)
        return true;
    return super.onKeyDown(keyCode, event);
}

@Override
public boolean onKeyUp(int keyCode, KeyEvent event)
{
    if(keyCode == KeyEvent.KEYCODE_BACK)
    {
        onBackPressed();
        return true;
    }
    return super.onKeyUp(keyCode, event);
}

@Override
public void onBackPressed()
{
    int length = list.size();
    if(length > 1)
    {
        Activity current = getLocalActivityManager().getActivity(list.get(length - 1));
        current.finish();
    }
}
} 
```

TabGroup1Activity 的代码 TabGroup2Activity 也具有相同的代码：

```
public class TabGroup1Activity extends TabGroupActivity{
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    startChildActivity("TestClass", new Intent(this,TestClass.class));
}
} 
```

TestClass 活动的代码：

```
public class TestClass extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.newview);
}
} 
```

请帮我解决我的问题..

提前致谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:35:13.467

您可以使用[片段](http://developer.android.com/guide/components/fragments.html)..检查[http://mobile.tutsplus.com/tutorials/android/android-compatibility-working-with-fragments/](http://mobile.tutsplus.com/tutorials/android/android-compatibility-working-with-fragments/)

# javascript - 使用javascript在html 5中经过的时间

> ID：12258721
> 
> 赞同：-2
> 
> 时间：2012-09-04T07:32:02.013
> 
> 标签：javascript, html

我制作了一个 html5 应用程序，我想在其中显示从应用程序开始经过的时间，并且应该在我想要的时候停止。如何使用java脚本来做到这一点。请举一些例子或参考。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:44:11.893

除了 Charlies 的答案，它需要一个功能齐全的框架来完成一项简单的任务，并且根据您的要求 - 一个纯粹而简单的超时功能可以更轻松地完成这个技巧并且重量更轻。[请参阅此链接](http://www.sitepoint.com/creating-accurate-timers-in-javascript/)。

该链接解释了如何在 javascript 中创建最简单的计时器，但也将介绍此方法的不准确性 - 并为您提供如何使用 Date 对象创建非常准确的计时器的示例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:40:19.127

有许多预制的 Javascript 计时器，例如[http://bornagainprogrammer.net/2010/08/19/a-simple-stop-watch-timer-using-jquery/](http://bornagainprogrammer.net/2010/08/19/a-simple-stop-watch-timer-using-jquery/)，您可以在网上找到。

在您构建或找到一个之后，将其附加到 run `.ready()`，然后允许用户通过按下按钮来停止它...

```
$(document).ready(function() {
  // Start timer
}); 
```

然后结束计时器

```
$("input[type=submit]").click(function(){
  // End timer
}); 
```

[请注意，上面的两个示例使用[jQuery](http://jquery.com)。]

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T07:47:15.447

这是一个创建计时器的javascript示例：

```
<script>
function myFunction()
{
myTimer();
setInterval(function(){myTimer()},1000);
}

var d=new Date();

function myTimer()
{
var newd = new Date();
var diff = newd.getTime() - d.getTime();
diff = Math.floor(diff / 1000);
document.getElementById("Clock").innerHTML=diff ;
}
</script> 
```

# python - Python文本聚类软件或包

> ID：12258722
> 
> 赞同：-2
> 
> 时间：2012-09-04T07:32:02.850
> 
> 标签：python, cluster-analysis, nltk

对于我的项目，我需要对一些文本（英文文本）进行聚类。我对任何聚类算法都很好，比如[k-means](https://en.wikipedia.org/wiki/K-means_clustering)或[hierarchy](https://en.wikipedia.org/wiki/Hierarchical_clustering)。唯一的一点是我还需要软件给集群命名，让文本的集群有不同的名字。

这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T09:00:09.870

是的。有可以命名集群的软件

```
cluster_1
cluster_2
cluster_3
cluster_4 
```

说真的**，您*希望*集群名称是**什么？集群文章的自动摘要？文本摘要还没有很好地扩展。但是您可能会尝试通过文本摘要引擎运行完整的集群。

请注意，k-means 会产生相当人工的集群。它不知道也不关心主题。它只是优化了数学方差，这对于文本数据可能不是很有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T09:01:41.287

您可以做的是：使用现成的聚类算法对单词进行聚类，然后运行一些算法检查每个聚类以找到以某种方式指示该聚类的单词。这样做有很多选择，但首先想到的是在集群和每个术语之间进行良好的旧[chi² 测试](https://en.wikipedia.org/wiki/Pearson%27s_chi-squared_test)，然后选择具有最高测试统计值的术语。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T14:27:42.670

您的目标是什么，或者您的数据是什么样的，并不完全清楚。（每个段落的字数列表？还有别的吗？）

那么，对于初学者，我建议将数据收集/准备与分析分开。特别是，您将需要一个具有预定义集群实现的包，以使探索性分析可行，而直接的代码实现通常有点过于简单。考虑使用具有集成可视化和数据表示功能的东西来帮助您更好地理解集群的含义：[R](http://www.r-project.org/)（统计软件）、MATLAB 或[Orange](http://orange.biolab.si/)（基于 python 的数据挖掘套件）等预定义包都是不错的选择。

Orange 有很多非常好的 GUI 选项来控制如何选择集群（距离度量、迭代等），它还提供了几种不同的方法来探索哪些集群最有用。然而，至少在一年前，我的经验是它在中型 (800 MB) 数据集上实现 k-means 聚类的速度慢得可笑。其中一些是由于 python 本质上比其他语言慢，但我怀疑还有其他问题。无论您使用什么，都需要确保仔细查看输入文件文档。

# orbeon - 是否可以使用 orbeon 将没有固定结构的 XML 转换为 XForms？

> ID：12258726
> 
> 赞同：0
> 
> 时间：2012-09-04T07:32:28.633
> 
> 标签：orbeon, xforms

我有一个要转换为 xforms 的 XML 文件。我知道如果数据是固定的，可以通过提交模型的一部分来完成，但是我的 XML 文件可能会更改，这可能意味着需要解析 XML 文件。

orbeon能做到吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T13:14:43.510

要仅转换 XML 文件，我更愿意使用`XSLT`. 使用`Orbeon XForms`，可以利用创建具有许多很酷功能的丰富 Web 表单的优势，并将输入的数据保存为 xml 格式。

使用`Orbeon XForms`，您可以获取一个 xml 文件并将其作为模型实例，然后您可以根据需要修改该实例，然后将该实例推送到您想要的任何位置，它可以是 Web 服务、外部应用程序、数据库，等等

# python - 为什么在 Python 中舍入浮点数时会发生这种情况？

> ID：12258729
> 
> 赞同：0
> 
> 时间：2012-09-04T07:32:34.587
> 
> 标签：python, floating-accuracy

我正在研究 Python 中的舍入浮点数，以下行为似乎很奇怪：

**代码**：

```
a = 203.25
print '%.2f'%(a/10.)
print '%.2f'%(round(a/10., 2))
print '%.2f'%(0.1*a) 
```

**输出**：

```
20.32
20.32
20.33 
```

为什么第一种，尤其是第二种情况会失败？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-04T07:41:16.443

[http://en.wikipedia.org/wiki/Rounding#Round_half_to_even](http://en.wikipedia.org/wiki/Rounding#Round_half_to_even)

> **Round half to even**
> 一个偏少的平局规则是**round half to even**，即：
> 
> 如果 y 的分数为 0.5，则 q 是最接近 y 的偶数。因此，例如，+23.5 变为 +24，+24.5 也是如此；而-23.5 变成-24，-24.5 也是如此。
> 
> 这种方法对称地处理正负值，因此没有符号偏差。更重要的是，对于 y 值的合理分布，四舍五入的数字的预期（平均值）与原始数字的预期（平均值）相同。然而，这条规则会为偶数引入趋向零的偏差，而为奇数引入趋向无穷大的偏差。
> 
> 这种四舍五入法的变体也称为**无偏舍入、收敛舍入、统计学家舍入、荷兰式舍入、高斯舍入、奇偶舍入**或**银行家舍入**，广泛用于簿记。
> 
> 这是 IEEE 754 计算函数和运算符中使用的默认舍入模式。

```
>>> "%.2f"%20.325
'20.32'
>>> "%.2f"%20.335
'20.34'
>>> "%.2f"%20.345
'20.34'
>>> "%.2f"%20.355
'20.36' 
```

所以真正的问题应该是*为什么第三种情况会失败？*

`203.25`可以用浮点表示精确地表示，但是`0.1`不能，结果证明它比`0.1`

```
>>> 0.1*203.25
20.325000000000003 
```

所以它被四舍五入

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T07:43:14.700

这可能是答案的一部分：

```
>>> a*.1
20.325000000000003
>>> a/10
20.325 
```

有关如何实现 IEEE 754 舍入，请参阅 @gnibbles 说明。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-04T07:39:06.463

我不知道为什么这些情况不能按预期工作的具体细节，但如果你想对你的浮点数进行严格的准确性，请使用像[decimal 模块这样的](http://docs.python.org/library/decimal.html)东西。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-04T07:40:55.250

没有失败。看看[每个程序员应该知道的关于浮点运算的知识](http://floating-point-gui.de/)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-04T07:43:18.377

您可以使用 printf 查看发生了什么

```
 print '%0.20f'%20.325
 20.32499999999999928946 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-04T07:44:17.790

Python 文档[`round()`](http://docs.python.org/library/functions.html?highlight=round#round)指向答案。基本上，浮点数[不能准确地表示某些数字](http://docs.python.org/tutorial/floatingpoint.html#tut-fp-issues)。例如，`0.1`最终看起来像`0.10000000000000001`. 这种不精确性有时会导致意想不到的结果。使用浮点数在给定的容差范围内进行计算确实非常困难。计算在您的情况下有效的原因`0.1 * a`是因为它在您所需的舍入方向上略有偏差。

如果你真的需要精度，你应该考虑使用[Decimal 模块](http://docs.python.org/library/decimal.html)。使用十进制数字也可能是一件苦差事，但它确实可以更轻松地获得所需的精度。

# arrays - 在 VBA 中将数组转换为集合的简单方法

> ID：12258732
> 
> 赞同：9
> 
> 时间：2012-09-04T07:32:46.817
> 
> 标签：arrays, vba, collections

有没有一种简单的方法可以在 VBA 中使用数组中的所有值填充集合？例如类似的东西

```
Dim c As New Collection
Dim a(10) As Variant
...
c.AddAll a 
```

一个简单的解决方案将导致迭代数组，但我希望现代语言提供开箱即用的此类方法......

```
Dim c As New Collection
Dim a(10) as Variant
...
For Each item in a
  c.Add item
Next item 
```

感谢您的任何提示！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-04T07:46:35.473

“现代语言”是您的问题所在 - VBA/VB6 并不是真正的现代语言 - 几年来也没有进步太多。

如果你需要做很多，写一个函数来做循环：

```
Sub AddAll(ByVal c as Collection, a as Variant)
    For Each item in a
      c.Add item
    Next item
End Sub 
```

或者如果您每次都想要一个新集合：

```
Function ToCollection(a as Variant) As Collection
    Dim c As New Collection
    For Each item in a
      c.Add item
    Next item
    Set ToCollection = c
End Function 
```

然后使用它：

```
Dim c As New Collection
Dim a(10) as Variant
...
AddAll c,a 
```

或者

```
Dim a(10) as Variant
Dim c as Collection
...
Set c = ToCollection(a) 
```

# html - 在访问网站的不同页面时自动恢复 mp3

> ID：12258733
> 
> 赞同：0
> 
> 时间：2012-09-04T07:32:50.750
> 
> 标签：html, flash, master-pages

我在我的母版页上使用 Flash mp3 播放器。即使用户在不重新启动的情况下访问不同的网页，我也希望在整个网站上播放音乐曲目。我不想使用 iframe。还有什么方法可以将当前播放时间从 Flash 对象存储到 cookie，并在重新加载时使用它来开始播放。如果是，那怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T08:20:43.027

Flash 中的 Cookie 称为[共享对象](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/SharedObject.html)。

# ruby-on-rails - 在 rails 3.2.8 中未定义 read_inheritable_attribute

> ID：12258735
> 
> 赞同：7
> 
> 时间：2012-09-04T07:32:53.867
> 
> 标签：ruby-on-rails, ruby, nomethoderror

升级到 rails 3.2.8 后出现以下错误消息

```
NoMethodError (undefined method `read_inheritable_attribute' for AdminController:Class): 
```

有人可以解释一下如何解决这个错误吗？

整个痕迹

```
 NoMethodError (undefined method `read_inheritable_attribute' for AdminController:Class):
  vendor/plugins/ssl_requirement/lib/ssl_requirement.rb:45:in `ssl_allowed?'
  vendor/plugins/ssl_requirement/lib/ssl_requirement.rb:50:in `ensure_proper_protocol'
  activesupport (3.2.8) lib/active_support/callbacks.rb:440:in `_run__1166038054673275564__process_action__1642131706225346260__callbacks'
  activesupport (3.2.8) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.8) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
  activesupport (3.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.8) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.2.8) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (3.2.8) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
  activesupport (3.2.8) lib/active_support/notifications.rb:123:in `block in instrument'
  activesupport (3.2.8) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (3.2.8) lib/active_support/notifications.rb:123:in `instrument'
  actionpack (3.2.8) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.2.8) lib/action_controller/metal/params_wrapper.rb:207:in `process_action'
  activerecord (3.2.8) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (3.2.8) lib/abstract_controller/base.rb:121:in `process'
  actionpack (3.2.8) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.8) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.8) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.8) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.8) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.8) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.8) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.8) lib/action_dispatch/routing/route_set.rb:600:in `call'
  actionpack (3.2.8) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.1) lib/rack/etag.rb:23:in `call'
  rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.8) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.8) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.8) lib/action_dispatch/middleware/flash.rb:242:in `call'
  rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
  rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
  actionpack (3.2.8) lib/action_dispatch/middleware/cookies.rb:339:in `call'
  activerecord (3.2.8) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.8) lib/active_record/connection_adapters/abstract/connection_pool.rb:473:in `call'
  actionpack (3.2.8) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.8) lib/active_support/callbacks.rb:405:in `_run__2439266315320850734__call__4114460638497368676__callbacks'
  activesupport (3.2.8) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.8) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.8) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.8) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  rack (1.4.1) lib/rack/sendfile.rb:102:in `call'
  actionpack (3.2.8) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.8) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.8) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.8) lib/rails/rack/logger.rb:26:in `call_app'
  railties (3.2.8) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.8) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.1) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.8) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.1) lib/rack/lock.rb:15:in `call'
  rack-cache (1.2) lib/rack/cache/context.rb:136:in `forward'
  rack-cache (1.2) lib/rack/cache/context.rb:245:in `fetch'
  rack-cache (1.2) lib/rack/cache/context.rb:185:in `lookup'
  rack-cache (1.2) lib/rack/cache/context.rb:66:in `call!'
  rack-cache (1.2) lib/rack/cache/context.rb:51:in `call'
  railties (3.2.8) lib/rails/engine.rb:479:in `call'
  railties (3.2.8) lib/rails/application.rb:223:in `call'
  railties (3.2.8) lib/rails/railtie/configurable.rb:30:in `method_missing'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/rack/request_handler.rb:96:in `process_request'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/abstract_request_handler.rb:513:in `accept_and_process_next_request'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/abstract_request_handler.rb:274:in `main_loop'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/rack/application_spawner.rb:206:in `start_request_handler'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/rack/application_spawner.rb:171:in `block in handle_spawn_application'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/utils.rb:479:in `safe_fork'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/rack/application_spawner.rb:166:in `handle_spawn_application'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/abstract_server.rb:180:in `start'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/rack/application_spawner.rb:129:in `start'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/spawn_manager.rb:253:in `block (2 levels) in spawn_rack_application'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/abstract_server_collection.rb:132:in `lookup_or_add'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/spawn_manager.rb:246:in `block in spawn_rack_application'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/abstract_server_collection.rb:82:in `block in synchronize'
  <internal:prelude>:10:in `synchronize'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/spawn_manager.rb:244:in `spawn_rack_application'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/spawn_manager.rb:137:in `spawn_application'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/spawn_manager.rb:275:in `handle_spawn_application'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/abstract_server.rb:357:in `server_main_loop'
  /usr/lib64/ruby/site_ruby/1.9.1/phusion_passenger/abstract_server.rb:206:in `start_synchronously'
  /usr/share/phusion-passenger/helper-scripts/passenger-spawn-server:99:in `<main>' 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-04T07:52:49.070

`read_inheritable_attribute`已被弃用，您可能需要查看[class_attribute](http://apidock.com/rails/v3.2.8/Class/class_attribute)

# xaml - 具有 DataFormatString 的文化特定货币

> ID：12258737
> 
> 赞同：1
> 
> 时间：2012-09-04T07:32:54.763
> 
> 标签：xaml, dataformat

我正在使用 Telerik Silverlight 网格 (XAML)，并且有一个始终需要使用 $ 符号显示的货币字段。

我用它来将值格式化为货币：DataFormatString="{}{0:c}"

但是，这使用了线程文化（如您所料） - 因此，如果客户端位于不同的区域，它会显示该货币格式化程序。我知道我可以使用转换器并使用 String.Format 设置 CultureInfo，但是，我的问题是：您可以使用 XAML 在 DataFormatString 中执行此操作并且没有代码后面吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T11:14:21.217

尝试：

```
DataFormatString="{}{0}$" 
```

# sql-server - 加密字段的部分搜索

> ID：12258738
> 
> 赞同：3
> 
> 时间：2012-09-04T07:33:02.853
> 
> 标签：sql-server, database, search, encryption

最近我被分配了一个问题，加密了 SSN 等数据库字段，但仍然必须保持“部分搜索”的工作。

例如：SSN 123-45-6789 在数据库中被加密为 abcdxyz。当用户在搜索框中输入“2345”时，它必须出现在结果中。

我们在数据库中有数百万条记录。我们正在使用 SQL Server 2008 R2。我一直在谷歌搜索，但仍然没有看到任何好的解决方案。有什么好的解决方案吗？

感谢帮助。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-09-04T08:03:07.127

不，没有。如果可以搜索加密字段，那么根据定义，它将被严重加密。可能的替代方案是：

1.  搜索解密的值。这在实践中是无法忍受的缓慢，因为每个查询都必须解密数百万个值。
2.  仅搜索完全匹配。由于加密值是加盐的，因此只有在加密安全散列与加密数据一起存储并且对散列值进行搜索时，才能进行精确匹配搜索。
3.  使用[透明数据加密](http://msdn.microsoft.com/en-us/library/bb934049.aspx)而不是列加密。

选项 3) 是迄今为止最好的，但需要企业版许可。如果 TDE 不可用，则必须删除部分搜索的要求，没有现实的方法来满足它。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-04T08:23:32.037

SSN 的可能值不到 10 亿个，而且分布不均。如果有人要获取您的数据库的副本，那么对任何特定记录的暴力攻击都是很简单的。事实上，如果这个人的出生日期和状态在记录中是明文的，并且他们是在 2011 年之前出生的，那么自定义算法可以极大地减少可能的 SSN 的数量，从而使暴力攻击变得更加容易。

正如您所注意到的，一旦您加密了数据，如果不首先解密每条记录，您就无法搜索它的明文——这是一个不合理的昂贵操作。

我赞赏保护人们隐私的愿望，但您应该使用 TDE、BitLocker 或 EFS，而不是像这样加密单个字段。

# html - 如何使表格扩展到整个页面

> ID：12258741
> 
> 赞同：1
> 
> 时间：2012-09-04T07:33:22.227
> 
> 标签：html, css, layout, jquery-mobile

我有一个带有侧边栏的 2 列布局和一个包含表格的主 div。

侧边栏有一个固定的宽度，而主 div 应该有一个灵活的宽度，所以它总是会延伸到屏幕的末端。有没有 CSS 方法可以做到这一点，还是我需要使用 JavaScript？

## HTML

```
<div id="content" data-role="content" role="main">
    <section>       
        ....
    </section>
    <div id="gridContainer">
        <table border="0" id="tblBrvGrid" class = "background" data-sort = "Name" data-asc_desc = "asc" data-filter = "">               
        <thead>
            <tr>
                <th></th>
                <th class="service sortable" data-field="Name" I18N="COLUMN_HEADER_SERVICE">
                    <span class="sort-asc"></span>
                </th>
                <th I18N="COLUMN_HEADER_STATUS"></th>
                <th I18N="COLUMN_HEADER_PERFORMANCE"></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            ....
        </tbody>
    </table>
    <a id ="gridPaging" class="more-data-active" I18N="MORE_DATA" data-role="button" data-theme="g"></a>
    </div>
    <!-- end #gridContainer -->
</div>
<!-- end #content --> 
```

## CSS

```
section {
  float: left;
  width: 255px;
  border-right: 1px solid #DDDDDD;
}

#gridContainer {
  float: left;
  padding-left: 10px;
  min-width: 70%;
}

table {
  color: #222;
  width: 100%;
} 
```

这是一个更精致的小提琴：http: [//jsfiddle.net/RmQR6/](http://jsfiddle.net/RmQR6/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:36:22.547

如果我理解正确，那可能就是您想要的[http://jsfiddle.net/RmQR6/1/ 。](http://jsfiddle.net/RmQR6/1/)像这样写：

```
#gridContainer {
  padding-left: 10px;
  overflow:hidden;
} 
```

# java - 有没有办法用 Xuggler 获得视频的分辨率？

> ID：12258742
> 
> 赞同：3
> 
> 时间：2012-09-04T07:33:23.057
> 
> 标签：java, video, resolution, xuggler

我正在开发一个项目，它本质上是一个视频上传器，我想知道是否有任何方法可以使用 Java 中的 Xuggler 库来获取上传视频的分辨率。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-04T07:59:39.410

在类[`IStreamCoder`](http://build.xuggle.com/view/Stable/job/xuggler_jdk5_stable/javadoc/java/api/com/xuggle/xuggler/IStreamCoder.html)中有`getHeight`和`getWidth`方法。

所以你应该只使用这些方法，[这个示例](http://xuggle.googlecode.com/svn/trunk/java/xuggle-xuggler/src/com/xuggle/xuggler/demos/DecodeAndPlayVideo.java)应该告诉你如何去做。

我提取了你应该重要的东西。

```
// Create a Xuggler container object
IContainer container = IContainer.make();

// Open up the container
if (container.open("/path/to/video.avi", IContainer.Type.READ, null) < 0)
  throw new IllegalArgumentException("could not open file: " + filename);

// query how many streams the call to open found
int numStreams = container.getNumStreams();

// and iterate through the streams to find the first video stream
int videoStreamId = -1;
IStreamCoder videoCoder = null;
for (int i = 0; i < numStreams; i++) {
  // Find the stream object
  IStream stream = container.getStream(i);
  // Get the pre-configured decoder that can decode this stream;
  IStreamCoder coder = stream.getStreamCoder();

  if (coder.getCodecType() == ICodec.Type.CODEC_TYPE_VIDEO) {
    videoStreamId = i;
    videoCoder = coder;
    break;
  }
}
if (videoStreamId == -1)
  throw new RuntimeException("could not find video stream in container: "
      +filename);

/*
 * Now we have found the video stream in this file. 
 * Let's open up our decoder so it can do work.
 */
if (videoCoder.open() < 0)
  throw new RuntimeException("could not open video decoder for container: "
      + filename);

// here you have what you need
int height = videoCoder.getHeight();
int width = videoCoder.getWidth(); 
```

# svn - 如何使用 svn.exe 将文件添加到存储库

> ID：12258743
> 
> 赞同：2
> 
> 时间：2012-09-04T07:33:27.870
> 
> 标签：svn

我需要将新文件添加到 Apache Subversion 存储库。

我在 Windows 7 上使用 SVN 1.7.6 和以下命令：

```
svn.exe add <path> 
```

路径是指*存储库路径*还是*工作副本路径*？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:39:15.263

工作副本已经“知道”与之关联的存储库路径。

该`svn add`命令要求您输入要**添加**到 Subversion 的文件或文件夹的路径（即添加到您的工作副本）。[请参阅http://svnbook.red-bean.com/en/1.7/svn.ref.svn.c.add.html](http://svnbook.red-bean.com/en/1.7/svn.ref.svn.c.add.html)上的命令行参考

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:40:10.487

```
cd C:\myrepo

svn add myfile 
```

或者

```
svn add mydir\myotherdir\myfile 
```

请参阅[此处的参考](http://svnbook.red-bean.com/en/1.7/svn.ref.svn.c.add.html)

# jquery - jQuery 验证器：自定义验证在 Symfony2 中不起作用

> ID：12258745
> 
> 赞同：0
> 
> 时间：2012-09-04T07:33:44.657
> 
> 标签：jquery, symfony, twig, jquery-validate

我正在尝试在我的 symfony2 项目中实现 jquery 验证。如果我`class="required "`在文本字段中应用，验证工作正常但是当尝试应用自定义验证时

```
$("#checkoutForm").validate({  
    rules: {
        checkout_name: {
            required:true
        } 
    }
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-26T04:45:26.027

试试这个

```
$("#checkoutForm").validate({  
    rules: {
        'checkout[name]': {
            required:true
        } 
    }
}); 
```

# c# - 使用动态构建的字典来构建表单的 MVC3 中表单的空响应

> ID：12258750
> 
> 赞同：1
> 
> 时间：2012-09-04T07:34:15.020
> 
> 标签：c#, asp.net-mvc-3, razor

我正在尝试创建一个系统，用于使用表单编辑 pdf 文件中的字段。编辑数据后，我想保存一个版本。但是，要求是系统应或多或少与任何使用表格的 pdf 一起使用。我对此的解决方案是我使用 iTextSharp 读取 pdf 中的字段并将其存储在模型内的 Dictionary 中。为了能够将字典存储在数据库中（使用实体框架），我制作了一个序列化程序，将字典与字符串连接/拆分。

现在问题来了：当我保存表单时，我的问题就开始了。数据很好地到达视图，但是从视图中出来并再次进入控制器，没有来自字典创建的字段的数据。我假设问题来自使用字典和动态构建表单，但我很难看到我将如何解决这个问题。

这是代码：

该模型：

```
 public class Diplom
    {
        public string filnavn { get; set; }
        public int Id { get; set; }

        private Dictionary<string, string> _fields;

        private DateTime datevalue;

        // CTOR:
        public Diplom()
        {
            _fields = new Dictionary<string, string>();
        }

        public DateTime BestaattTid
        {
            get
            {
                return datevalue.Date;
            }
            set
            {
                datevalue = value;
            }
        }

        // Get/set, whole dictionary.
        public Dictionary<string, string> Fields
        {
            get
            {
                return _fields;
            }
            set
            {
                _fields = value;
            }
        }
                ...
                ...
} 
```

控制器中的方法：现在返回的方法基本上被注释掉了，我只是在那里使用一个断点来检查对象返回模型，这表明_field字典是空的。

```
 //
    // GET: /Diplom/Edit/5

    public ActionResult Edit(int id)
    {
        using (var db = new ProjectContext())
        {
            var d = db.Diplomas.Find(id);
            return View(d);
        }
    }

    //
    // POST: /Diplom/Edit/5

    [HttpPost]
    public ActionResult Edit(int id, Diplom returningmodel)
    {
        try
        {
            //var db = new ProjectContext();
            //db.Entry(returningmodel).State = System.Data.EntityState.Modified;
            //db.SaveChanges();

            return RedirectToAction("Index");
        }
        catch
        {
            return View();
        }
    } 
```

最后是视图（Edit.cshtml）：

```
@model txt.Models.Diplom

@{
    ViewBag.Title = "Edit";
}

<h2>Edit</h2>

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>Diplom</legend>

        <div class="editor-label">
            @Html.LabelFor(model => model.filnavn)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.filnavn)
            @Html.ValidationMessageFor(model => model.filnavn)
        </div>

        @Html.HiddenFor(model => model.Id)

        <div class="editor-label">
            @Html.LabelFor(model => model.BestaattTid)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.BestaattTid)
            @Html.ValidationMessageFor(model => model.BestaattTid)
        </div>

        <h3>Dynamic fields</h3>

        @foreach(var modelfield in Model.Fields )
        {
            <div class="editor-label">
                @Html.Label(modelfield.Key)
            </div>

            <div class="editor-field">
                @Html.EditorFor( m => modelfield.Value )
                @Html.ValidationMessage( modelfield.Value)
            </div>
        }
        <p><input type="submit" value="Save" /></p>
    </fieldset>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div> 
```

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T08:10:03.960

默认模型绑定器可能无法将表单中提交的动态字段列表连接到模型中的字典。由于这是一个非常具体的要求，我建议在您的 post 方法中使用 FormCollection 而不是模型绑定器来获取从您的表单提交的所有字段。

```
[HttpPost]
public ActionResult Edit(int id, FormCollection form)
{
    try
    {
        foreach(var field in form.Keys)
        {
            switch (fieldToUpper().Trim())
            {
                case "FIELDNAME":
                    // assign value to your model property
                    break;
            }
        }

        return RedirectToAction("Index");
    }
    catch
    {
        return View();
    }
} 
```

# html5-canvas - 通过 html5 画布保存图像

> ID：12258752
> 
> 赞同：0
> 
> 时间：2012-09-04T07:34:23.673
> 
> 标签：html5-canvas

下面的代码无法保存图像。

我想在单击时在画布上绘制图像，并希望在单击时使用另一个保存按钮进行保存。

```
<head>
    <script type="text/javascript">
    function draw()
    {
      var canvas = document.getElementById("MyCanvas");
      if (canvas.getContext) {
          var ctx = canvas.getContext("2d");                // Get the context.
          ctx.clearRect(0,0,canvas.width,canvas.height);    // Clear the last image, if it exists.
          var image = document.getElementById("pix");       // Get the address of the picture.

          ctx.drawImage(image,125,125,200,200);         
          dataURL = canvas.toDataURL("image/png");

          dataURL.onload = function () {
            ctx.drawImage(img, 0, 0);
            canvas.addEventListener("mousedown", function(event) {
                canvas.toBlob(function(blob) {
                    saveAs(blob, "exported_image.png");
                }, "image/png");
            });
        }

       }  
    }
    </script>
    </head>
    <body>
        <p>This picture will appear below.</p>
        <div>
        <img id="pix" src="http://go.microsoft.com/fwlink/?LinkID=199028" />   
        </div>
        <button onclick="draw()">Draw Images on canvas</button> 
      <canvas id="MyCanvas" width="600" height="500"> </canvas>
    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T13:34:09.080

您绘制可能尚未加载的图像，在画布上绘制图像之前使用 onload() 函数：

```
 var image = document.getElementById("pix");       // Get the address of the picture.
     image.onload = function() { //ADD THIS LINE TO YOUR CODE
      ctx.drawImage(image,125,125,200,200);  
     }; 
```

# linux - Xinetd 禁用标准错误重定向

> ID：12258758
> 
> 赞同：6
> 
> 时间：2012-09-04T07:34:44.433
> 
> 标签：linux, shell, networking, service, xinetd

我只是为我的一个二进制文件设置了 xinetd 以作为服务运行。但是在我看来，stdout 和 stderr 都被重定向到套接字流中。

无论如何要禁用 stderr 吗？我在 xinetd 设置的服务器字段中尝试：`server = binary 2>/dev/null`但它不起作用

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-17T16:22:28.787

我通过将其放入将 stderr 重定向为 null 的 bash 包装器中进行了解决，然后将脚本放入 xinetd 配置中。

# iphone - 越狱的iphone可以进行视频通话吗？

> ID：12258764
> 
> 赞同：0
> 
> 时间：2012-09-04T07:35:09.770
> 
> 标签：iphone, video, call

我想开发一个需要通过 3g 发起视频通话的 iphone 应用程序。是否可以在 iphone 中以编程方式发起视频通话？设备可以越狱。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:37:29.740

是的，很有可能以编程方式在 iphone 中发起视频通话。虽然在越狱设备中我不太确定。

# eclipse-plugin - 无法在 eclipse indigo 中安装 m2e-wtp（无法连接到 mavenarchiver 更新站点）

> ID：12258769
> 
> 赞同：3
> 
> 时间：2012-09-04T07:35:49.863
> 
> 标签：eclipse-plugin, m2eclipse

有人知道mavenarchiver是否还有其他更新站点？我正在尝试从这个更新站点安装 m2eclipse-wtp：http: [//download.jboss.org/jbosstools/updates/m2eclipse-wtp/](http://download.jboss.org/jbosstools/updates/m2eclipse-wtp/)

这由 3 个其他更新站点组成，其中一个用于 mavenarchiver (http://repository.tesla.io:8081/nexus/content/sites/m2e.extras/m2eclipse-mavenarchiver/0.15.0/N/0.15\. 0.201207090125/)。我可以通过浏览器访问此页面，但无法下载任何文件，也无法访问此站点上的任何文件夹。同样，我的 Eclipse 也无法连接到这个更新站点。如果没有 maven 归档器，我将无法安装 m2e-wtp。

我正在我的 CI 服务器中安装这些插件，在过去的 3 个月里我没有遇到任何问题。自上周五（2012 年 8 月 31 日）以来，我遇到了这个问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T17:01:38.310

看起来有一个基于[http://dev.eclipse.org/mhonarc/lists/m2e-wtp-dev/msg00029.html](http://dev.eclipse.org/mhonarc/lists/m2e-wtp-dev/msg00029.html)的更新。

更新在[http://git.eclipse.org/c/m2e-wtp/org.eclipse.m2e.wtp.git/commit/?id=c9da2ffa7ae8e17f7e00a2ecbef01f3871e83cb8](http://git.eclipse.org/c/m2e-wtp/org.eclipse.m2e.wtp.git/commit/?id=c9da2ffa7ae8e17f7e00a2ecbef01f3871e83cb8)

我怀疑您可能对网站被阻止有疑问。

# asp.net - 登录后，当我单击帖子中另一条消息的链接时，它会将我重定向到登录页面？

> ID：12258776
> 
> 赞同：0
> 
> 时间：2012-09-04T07:36:12.067
> 
> 标签：asp.net, .net, vb.net

登录后，当我单击帖子中另一条消息的链接时，它会将我重定向到登录页面，但是如果我复制链接并从 URL 中删除 www，它不会将我重定向到登录页面？我在代码隐藏中使用 ASP.NET 和 VB.NET。当我从 url 复制链接并在消息中发布时，会出现此问题，然后单击该链接它将重定向到登录页面。但是，如果我从没有“”http：// www“的帖子中复制链接，那么它会正常工作。我在谷歌上搜索但没有发现任何有用的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:56:04.457

如果您使用的是 IIS 7 在左侧选择您的应用程序，然后在 Bindings 选项卡中单击右侧的绑定，添加新的绑定行“http:// *”和“www.* ”

# css - 居中 div 并保持它的长度与里面的文本一样宽而不设置宽度

> ID：12258778
> 
> 赞同：0
> 
> 时间：2012-09-04T07:36:17.977
> 
> 标签：css

如何在不为 .headline 设置宽度的情况下将 div 标题居中并使其长度与内部文本（我的标题）一样宽。

```
<div class="sidebar">

    <div class="headline"><p>My title</p></div>

</div> 
```

现在我正在使用这个 css，但是“我的标题”是由 php 生成的并且长度不同：

```
.headline {
    width: 5em;
    background: #900;
    color: #FFF;
    text-align: center;
    text-transform: uppercase;
    line-height: 2em;
    border: solid 1px #555;
    border-top: none;
    padding: 0;
    margin: 0 auto
} 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:38:16.733

```
.sidebar {
  text-align: center;
}
.headline {
  display: inline-block;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:38:52.607

像这样写：

```
.sidebar{
 text-align:center;
}
.headline {
    background: #900;
    color: #FFF;
    text-align: center;
    text-transform: uppercase;
    line-height: 2em;
    border: solid 1px #555;
    border-top: none;
    padding: 0;
    display:inline-block;
    *display:inline; /*For IE7*/
    *zoom:1; /*For IE7*/
} 
```

# c# - Debug > Windows > Output 这个控制台消息是什么意思？

> ID：12258781
> 
> 赞同：2
> 
> 时间：2012-09-04T07:36:22.233
> 
> 标签：c#, winforms, visual-studio-2010

我有一个很小的、非常简单的 winforms，它调用一个类并将其结果写入 Visual Studio 控制台窗口中的控制台 -`Output`在 VSs`Debug`菜单中找到的控制台。

控制台上会自动生成一些消息，我有兴趣了解它们的含义；在winforms写入控制台的信息之后立即出现以下内容 - 这是正在执行处理的线程吗？

`The thread '<No Name>' (0x2280) has exited with code 0 (0x0).`

我在 VS 中看到的屏幕截图...

![在此处输入图像描述](../Images/bd6009cb65650e64a402ee528dbf1704.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T07:41:20.113

该消息意味着一个线程已经结束，但这不应该是一个惊喜。

我想您想知道为什么线程在您的应用程序中结束，即使您没有在代码中创建任何新线程。当使用像 Windows 窗体这样的框架时，该框架将使用线程来执行一些额外的工作。这些线程通常取自 .NET 线程池。不过，该线程在结束之前一直在做什么需要更多的研究。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T07:40:15.603

它显示当前用于运行您的应用程序的线程以及为调试器运行的线程。当应用程序运行时，调试器可以产生新线程以及结束线程。当您看到线程以代码 0 退出时，这意味着实现了正常退出，这意味着没有错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T07:38:46.187

关于该`Thread`消息，`Thread`存在的a`code 0`已成功完成所有程序。任何其他代码都会表明`unhandeled exceptions`

`headfirstPage204Farmer.vshost.exe`消息是`Visual studio`用于运行应用程序的可执行文件

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-04T07:38:46.880

以代码 0 退出通常意味着成功完成（没有错误）。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-04T07:39:35.150

这意味着有一个线程，正确执行并返回`0`。那是。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-04T07:41:21.787

代码 0 很好，它的调试信息表明进程按预期结束，没有异常。

# node.js - 如何使用 Passport.js 访问 Cookie 集

> ID：12258795
> 
> 赞同：15
> 
> 时间：2012-09-04T07:37:48.857
> 
> 标签：node.js, cookies, login, passport.js

我正在使用 Passport.js 来实现登录到我的 Node-App。但是在我的应用程序中，我需要访问用户的 ID，目前，我不知道如何实现这件事！

我如何访问用户 ID 或者我应该自己在 cookie 中发送它？

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-09-04T08:10:07.843

您应该在您的应用程序中，在策略配置旁边引入以下代码：

```
passport.serializeUser(function(user, done) {
   done(null, user.id);
});

passport.deserializeUser(function(obj, done) {
   done(null, obj);
}); 
```

这样，当您`done`使用经过身份验证的用户调用该函数时，passport 会负责将 userId 存储在 cookie 中。每当您想访问 userId 时，您都可以在请求正文中找到它。（快递 `req["user"]`）。

`serializeUser`如果您想在会话中存储其他数据，您也可以开发该功能。我这样做：

```
passport.serializeUser(function(user, done) {
   done(null, {
      id: user["id"],
      userName: user["userName"],
      email: user["email"]
   });
}); 
```

你可以在这里找到更多：http: [//passportjs.org/docs/configure](http://passportjs.org/docs/configure)

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-03-14T11:51:28.587

添加到登录路径

```
res.cookie('userid', user.id, { maxAge: 2592000000 });  // Expires in one month 
```

添加到注销路径

```
res.clearCookie('userid'); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2021-07-17T14:49:25.153

[user1071182](https://stackoverflow.com/a/15408473/2441655)的回答是正确的，但没有明确将 cookie 设置代码放在哪里。

这是一个更完整的例子：

```
app.get("/auth/google/callback",
    passport.authenticate("google"),
    setUserIDResponseCookie,
    (req, res, next)=>{
        // if success
        if (req.user) {
            res.redirect("http://localhost:3000");
        } else {
            res.redirect("http://localhost:3000/login-failed");
        }
        next();
    });

function setUserIDResponseCookie(req, res, next) {
    // if user-id cookie is out of date, update it
    if (req.user?.id != req.cookies["myapp-userid"]) {
        // if user successfully signed in, store user-id in cookie
        if (req.user) {
            res.cookie("myapp-userid", req.user.id, {
                // expire in year 9999 (from: https://stackoverflow.com/a/28289961)
                expires: new Date(253402300000000),
                httpOnly: false, // allows JS code to access it
            });
        } else {
            res.clearCookie("myapp-userid");
        }
    }
    next();
} 
```

**注意：**确保：

1.  将显示的处理程序添加到`authXXX/callback`路由，而不是`authXXX`路由。
2.  叫`passport.authenticate`“明明白白”，即。没有重定向选项。如果您在那里设置重定向选项，cookie 将无法正确设置（据我所知）。相反，在设置 cookie 后添加自定义重定向代码。（如上图）
3.  如果您有“退出”路由，请将上面的处理程序也添加到该路由。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-13T09:11:17.017

如果您正在使用`angular-fullstack`生成器，这就是我修改`setUserCookie`以获取`_id`用户 cookie 的方式（稍后我可以在 AngularJS 中检索它）。

```
setUserCookie: function(req, res, next) {
    if (req.user) {
        req.user.userInfo['_id'] = req.user._id;
        console.log('Cookie', req.user.userInfo);
        // Splice in _id in cookie
        var userObjWithID = {
            "provider": req.user.userInfo.provider,
            "role": req.user.userInfo.role,
            "name": req.user.userInfo.name,
            "_id": req.user._id
        };
        res.cookie('user', JSON.stringify(userObjWithID));
    }
    next();
} 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2017-08-16T05:18:48.327

或者，您可以执行以下操作：

```
passport.serializeUser(User.serializeUser());

passport.deserializeUser(User.deserializeUser());
 app.use((req, res, next) => {
  res.locals.login = req.isAuthenticated();
  res.locals.thisUser = req.user;
  next();
}); 
```

# asp.net - 如何在 NHibernate 中跟踪查询的原因/堆栈跟踪

> ID：12258798
> 
> 赞同：0
> 
> 时间：2012-09-04T07:37:52.897
> 
> 标签：asp.net, nhibernate, log4net

我有一个页面，我在其中发出一些查询，所有这些查询都使用**log4net**记录：

```
<appender name="NHibernateAppenderSQL" type="log4net.Appender.RollingFileAppender">
<file value="c:\dev\log\nhibernate-sql.log" />
<appendToFile value="true" />
<maximumFileSize value="10MB" />
<maxSizeRollBackups value="2" />

<layout type="log4net.Layout.PatternLayout">
  <conversionPattern value="%date %level %thread %logger - %message%newline" />
</layout>
<filter type="log4net.Filter.LevelRangeFilter">
  <acceptOnMatch value="true" />
  <levelMin value="DEBUG" />
  <levelMax value="FATAL" />
</filter>

<lockingModel type="log4net.Appender.FileAppender+MinimalLock" />
</appender> 
```

所以我可以看到在页面生命周期内发出的所有查询（**ASP .NET Web Forms**）。我发现由于某种原因，NHibernate 向我的一张表发出了大约 10 个 id 查询。我想通过预加载数据来提高性能。但是我无法确定触发这些查询的位置。

我知道 NHibernate Profiler 可以让我放心，但我没有在工作中使用它的许可证。有没有其他方法可以找出这些查询的原因。我也分析了映射文件，但没有任何成功。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:44:09.053

编辑：我假设您使用的是 MVC ...它似乎可以与普通的旧 ASP.NET 一起使用

我使用[Mini Profiler](http://miniprofiler.com/)来查找慢点并提高我的网站性能。它是由 StackOverflow 创建的框架。它为您提供查询，并通过添加**Steps**您可以确定谁在调用它。

它还与 nHibernate 集成以显示执行的 sql，以及每个页面渲染在 sql 中花费了多长时间。

# sql - 在 FrontBase SQL 中将 int 列转换为 varchar？

> ID：12258801
> 
> 赞同：1
> 
> 时间：2012-09-04T07:38:06.600
> 
> 标签：sql, casting, integer, varchar, frontbase

如何在**FrontBase SQL 中将**int 列转换为 varchar ？我需要连接一个**varchar**和一个**int**字段，我不能只是连接它们，因为两个参数都需要是一个 varchar。

我想标记这个“Frontbase”，但由于声誉 < 1500，我没有权限。

服务器和数据库版本为 4.2.7

查询如下所示：

```
select (TVERKOPEN.CPREFIX || CAST(TVERKOPEN.CNUMMER AS VARCHAR)) as PurchaseOrder
from TVERKOPEN 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:44:41.627

尝试：

```
CAST(field AS VARCHAR(30)) 
```

# php - PHP颜色强度检测

> ID：12258802
> 
> 赞同：1
> 
> 时间：2012-09-04T07:38:10.230
> 
> 标签：php

如何检测这种十六进制颜色的强度：`#000000`？我可以对该代码使用该方法。例如，如果背景颜色为黑色，则 text-color 必须设置为`#FFFFFF`(white)。我正在使用此代码段生成随机颜色：

```
$random_color = '#'.base_convert(rand(0, 16777215), 10, 16); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T08:21:17.283

有几种有效的方法，但最简单的方法是将颜色转换为灰度，然后检查结果值是否在上半部分或更低。如果在上部，那么它是浅色，你应该使用黑色作为文本颜色，如果在下部，那么它是黑暗的，所以白色效果最好。像这样的东西：

```
function getReadableTextColor( $backgroundColor ) {
    $R = ($backgroundColor >> 16 ) & 0x000000ff;
    $G = ($backgroundColor >>  8 ) & 0x000000ff;
    $B = ($backgroundColor       ) & 0x000000ff;

    // grayscale: 0.3RED + 0.59GREEN + 0.11Blue
    $K = (($R * 0.3) + ($G * 0.59) + ($B * 0.11));

    // black fg color for light background, white for dark ones
    return ( $K > 128 ) ? 0x000000 : 0xffffff;
} 
```

然后像这样使用

```
$bgColor = rand(0, 16777215);
$bgcolorHTML = '#' . base_convert($bgColor, 10, 16);
$fgColor = getReadableTextColor( $bgColor );
$fgColorHtml = '#' . base_convert($fgColor, 10, 16); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-04T08:00:39.853

我认为，您需要计算负颜色以获得良好的可读性。试试这个功能：

```
<?php 
    function NegativeColor($color)
    {
        $r = substr($color, 0, 2);
        $g = substr($color, 2, 2);
        $b = substr($color, 4, 2);

        //Invert colors, (255  - colVal)
        $r = 0xff-hexdec($r);
        $g = 0xff-hexdec($g);
        $b = 0xff-hexdec($b);

        return str_pad(dechex($r),2,0,STR_PAD_LEFT)
               .str_pad(dechex($g),2,0,STR_PAD_LEFT)
               .str_pad(dechex($b),2,0,STR_PAD_LEFT);
    }   
    var_dump(NegativeColor('000000'));
    //output : string(6) "ffffff" 
?> 
```

# javascript - mocha 测试需要外部 js 文件

> ID：12258806
> 
> 赞同：11
> 
> 时间：2012-09-04T07:38:20.813
> 
> 标签：javascript, node.js, coffeescript, bdd, mocha.js

所以我在我的 express.js 项目中使用 BDD 和 mocha。我才刚刚开始，所以这是我的第一个测试用例：

```
should = require "should"
require "../lib/models/skill.js"

describe 'Skill', ->
    describe '#constructor()', ->
        it 'should return an instance of class skill', ->
            testSkill = new Skill "iOS", "4 years", 100
            testSkill.constructor.name.should.equal 'Skill' 
```

（这个coffeescript也会生成一些看起来很奇怪的js，因为它会插入返回到最后一条语句。这是用coffeescript设置测试的正确方法吗？）

现在，当我运行 mocha 时，出现此错误：

```
 1) Skill #constructor() should return an instance of class skill:
     ReferenceError: Skill is not defined 
```

我认为这意味着 Skill.js 没有正确导入。此时我的技能类非常简单，只是一个构造函数：

```
class Skill
    constructor: (@name,@years,@width) -> 
```

如何导入我的模型以便我的 mocha 测试可以访问它们？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-04T07:46:16.073

您需要像这样导出技能类：

```
class Skill
    constructor: (@name,@years,@width) ->

module.exports = Skill 
```

并将其分配给测试中的变量：

```
should = require "should"
Skill = require "../lib/models/skill.js"

describe 'Skill', ->
    describe '#constructor()', ->
        it 'should return an instance of class skill', ->
            testSkill = new Skill "iOS", "4 years", 100
            testSkill.constructor.name.should.equal 'Skill' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:42:56.697

如果 Skill.js 与您的测试代码位于同一路径中，请尝试此操作。

```
require "./skill.js" 
```

# java - 对 Modeshape 休息服务器的 DELETE 请求

> ID：12258808
> 
> 赞同：3
> 
> 时间：2012-09-04T07:38:22.487
> 
> 标签：java, rest, http-delete, modeshape

我正在使用[Modeshape 休息服务器](http://docs.jboss.org/modeshape/latest/manuals/reference/html/web_access.html#rest_server)。Modeshape 的版本是 2.8.2。

当我向某个节点发送 GET 请求时，`http://localhost:8080/modeshape-server/repo/workspace1/items/file`它会返回有关该节点的信息。

但是，当我在相同的地址上发送 DELETE 请求（例如使用 Fiddler）时，它会返回`405 Method Not Allowed`. 根据[文档](http://docs.jboss.org/modeshape/latest/manuals/reference/html/web_access.html#supported_rest_resources)地址，这样的地址应该支持 DELETE 请求。

更详细。我发

```
删除 http://localhost:8080/modeshape-server/repo/workspace1/items/uploads/file HTTP/1.1
用户代理：提琴手
主机：本地主机：8080

```

我明白了

```
HTTP/1.1 405 方法不允许
服务器：Apache-Coyote/1.1
允许：POST、OPTIONS
内容类型：text/html;charset=utf-8
内容长度：984
日期：格林威治标准时间 2012 年 9 月 4 日星期二 14:16:38

<html><head><title>JBoss Web/7.0.13.Final - 错误报告</title><style><!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background -color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family :Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white ;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black; font-size:12px;}A {color : black;}A.name {color : black;}HR {color : #525D76;}--></style> </head><body><h1>HTTP 状态405 - </h1><HR size="1" noshade="noshade"><p><b>type</b> 状态报告</p><p><b>消息</b> <u></u></p><p><b>描述</b> <u>指定的HTTP请求的资源 () 不允许使用方法。</u></p><HR size="1" noshade="noshade"><h3>JBoss Web/7.0.13.Final</h3></body ></html>
```

我用来构建 rest-server.war 的 pom.xml

```
<?xml 版本="1.0" 编码="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <属性>
        <modeshape.version>2.8.2.Final</modeshape.version>
    </属性>

    <父>
        <artifactId>modeshape</artifactId>
        <groupId>org.modeshape</groupId>
        <version>2.8.2.Final</version>
    </父>

    <groupId>modeshape.demo</groupId>
    <版本>0.1</版本>

    <artifactId>modeshape-server</artifactId>
    <包装>战争</包装>
    <name>Modeshape 休息服务器</name>
    <description>提供对 JCR 项的 RESTful 访问的 ModeShape servlet</description>
    <url></url>
    <依赖项>
        <依赖>
            <groupId>javax.servlet</groupId>
            <artifactId>servlet-api</artifactId>
            <版本>2.5</版本>
        </依赖>

        <依赖>
            <groupId>org.modeshape</groupId>
            <artifactId>modeshape-web-jcr</artifactId>
            <version>${modeshape.version}</version>
        </依赖>

        <依赖>
            <groupId>org.modeshape</groupId>
            <artifactId>modeshape-jcr-api</artifactId>
            <version>${modeshape.version}</version>
        </依赖>

        <依赖>
            <groupId>org.modeshape</groupId>
            <artifactId>modeshape-jcr</artifactId>
            <version>${modeshape.version}</version>
        </依赖>

        <依赖>
            <groupId>org.modeshape</groupId>
            <artifactId>modeshape-search-lucene</artifactId>
            <version>${modeshape.version}</version>
        </依赖>

        <依赖>
            <groupId>org.modeshape</groupId>
            <artifactId>modeshape-cnd</artifactId>
            <version>${modeshape.version}</version>
        </依赖>

        <依赖>
            <groupId>org.modeshape</groupId>
            <artifactId>modeshape-repository</artifactId>
            <version>${modeshape.version}</version>
        </依赖>

        <依赖>
            <groupId>org.modeshape</groupId>
            <artifactId>modeshape-graph</artifactId>
            <version>${modeshape.version}</version>
        </依赖>

        <依赖>
            <groupId>org.modeshape</groupId>
            <artifactId>modeshape-common</artifactId>
            <version>${modeshape.version}</version>
        </依赖>

        <依赖>
            <groupId>org.modeshape</groupId>
            <artifactId>modeshape-web-jcr-rest</artifactId>
            <version>${modeshape.version}</version>
        </依赖>

        <依赖>
            <groupId>org.modeshape</groupId>
            <artifactId>modeshape-connector-jdbc-metadata</artifactId>
            <version>${modeshape.version}</version>
        </依赖>

        <依赖>
            <groupId>mysql</groupId>
            <artifactId>mysql-connector-java</artifactId>
            <版本>5.1.6</版本>
            <scope>编译</scope>
        </依赖>

        <依赖>
            <groupId>org.modeshape</groupId>
            <artifactId>modeshape-connector-filesystem</artifactId>
            <version>${modeshape.version}</version>
        </依赖>

        <依赖>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
        </依赖>

        <依赖>
            <groupId>org.jboss.resteasy</groupId>
            <artifactId>resteasy-jaxrs</artifactId>
            <版本>1.2.1.GA</版本>
        </依赖>

        <依赖>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <版本>4.10</版本>
            <scope>测试</scope>
        </依赖>
    </依赖>

    <存储库>
        <存储库>
            <id>老板</id>
            <url>http://repository.jboss.org/nexus/content/groups/public</url>
        </repository>
    </存储库>

    <构建>
        <finalName>休息服务器</finalName>
    </build>

</项目>
```

难道我做错了什么？

而且我也在使用 JBoss-as-7.1.1。但作为回应写了 7.0.13。

而且我正在使用 Modeshape 休息而不是作为服务。我将它用作通常部署的应用程序。（不好意思，我对应用的类型不是很熟悉，听说JBoss-as里面有一些服务，反正我没用）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T18:21:29.877

看起来 2.8.x 期望`DELETE`请求中包含“Content-Type: application/json”标头。我怀疑由于请求没有这样的标头，因此 Web 应用程序没有请求的处理程序。

ModeShape 确实提供了一个工具包，可以将 ModeShape 2.x 作为服务安装在 JBoss AS 5 和 6 中，另一个工具包可以将 ModeShape 3.0（仍处于 Beta 版）作为服务安装在 JBoss AS7 中。好处是您的 1+ 应用程序只需查找`Repository`实例（通常通过 JNDI，尽管在 3.0 中您也可以使用 JavaEE`@Inject`注释将存储库自动注入您的 EJB 或应用程序）。

但是，在 JBoss AS7 中没有将 ModeShape 2.8.2 安装为服务的工具包。

# android - 隐藏 Horizo ntalScrollView 的滚动条

> ID：12258814
> 
> 赞同：81
> 
> 时间：2012-09-04T07:38:46.947
> 
> 标签：android, view, scrollbar, horizontalscrollview

如何摆脱 a 上的滚动条[`HorizontalScrollView`](https://developer.android.com/reference/android/widget/HorizontalScrollView.html)？

* * *

## 回答 #1

> 赞同：252
> 
> 时间：2012-09-04T07:42:05.420

将以下内容添加到您的 xml：

```
android:scrollbars="none" 
```

或以编程方式隐藏滚动条：

```
view.setVerticalScrollBarEnabled(false); 
view.setHorizontalScrollBarEnabled(false); 
```

# python - '模块对象没有属性'get' Python错误请求？

> ID：12258816
> 
> 赞同：31
> 
> 时间：2012-09-04T07:38:57.557
> 
> 标签：python, error-handling, python-requests

我刚刚通过 using 安装了 Requests 模块，`easy_install` 并尝试运行本[教程](http://docs.python-requests.org/en/latest/user/quickstart/#make-a-request)的演示代码，

```
import requests
payload = {'username': 'xxxx', 'password': 'xxxxx'}
r = requests.get('https://github.com/timeline.json') 
```

但我收到此错误：

> 属性错误：`'module' object has no attribute 'get'`

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2012-09-04T08:49:29.810

这是当前目录`requests.py`或. 如果是这种情况，请删除或重命名它，因为它会遮蔽您真正要导入的模块。`requests.pyc``PYTHONPATH`

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2012-09-04T07:42:59.163

您正在将`requests`模块中的所有名称导入本地命名空间，这意味着您不再需要在它们前面加上模块名称：

```
>>> from requests import *
>>> get
<function get at 0x107820b18> 
```

如果您要使用语句导入模块，`import requests`则将模块本身添加到命名空间中，并且必须使用全名：

```
>>> import requests
>>> requests.get
<function get at 0x102e46b18> 
```

请注意，上面的示例是我从解释器中的测试中得到的。如果您得到不同的结果，则说明您导入了错误的模块；`requests.py`检查你的 python 包中是否有额外的文件：

```
>>> import requests
>>> print requests.__file__
/private/tmp/requeststest/lib/python2.7/site-packages/requests/__init__.pyc 
```

您还可以测试模块提供的名称列表`requests`：

```
>>> print dir(requests)
['ConnectionError', 'HTTPError', 'Request', 'RequestException', 'Response', 'Session', 'Timeout', 'TooManyRedirects', 'URLRequired', '__author__', '__build__', '__builtins__', '__copyright__', '__doc__', '__file__', '__license__', '__name__', '__package__', '__path__', '__title__', '__version__', '_oauth', 'api', 'auth', 'certs', 'codes', 'compat', 'cookies', 'defaults', 'delete', 'exceptions', 'get', 'head', 'hooks', 'models', 'options', 'packages', 'patch', 'post', 'put', 'request', 'safe_mode', 'session', 'sessions', 'status_codes', 'structures', 'utils'] 
```

* * *

## 回答 #3

> 赞同：18
> 
> 时间：2015-04-02T14:37:57.800

我有同样的错误。

我所做的只是将其另存为`requests.py`

然后我将它保存为其他名称。并且问题解决了。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2013-05-17T08:49:08.183

如前所述，最常见的问题是`requests.py`您的`PYTHONPATH`.

但由于 requests 模块在内部使用其他模块（例如来自标准 python 库），其他文件名也可能存在问题。例如，我在命名脚本时遇到了同样的问题`http.py`。在那种情况下，输出`print dir(requests)`是正确的，这使得追踪错误变得更加困难......

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-09-04T07:39:38.333

您必须了解如何解决此问题。

```
import requests 
```

或者

```
r = get('https://github.com/timeline.json') 
```

PS 第一个更好

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2017-01-22T14:18:28.080

我弄错了测试文件的名称是requests.py。所以，当我导入 requests.py 时，它不是我想要导入的。然后，我重命名了测试文件的名称。有用！！！

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2019-10-13T15:55:02.943

请检查您的父文件夹中是否有一个名为**requests.py的 python 文件。**在这种情况下，导入的是错误的包。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2020-04-02T14:15:52.900

当您将文件命名为 requests.py 时，就会发生这种情况。所以请将文件名更改为其他名称，因为 python 不区分模块文件和您的代码文件。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2013-08-30T19:07:58.987

如果您正在使用像 Django 这样也具有请求对象的框架，这可能是用户错误。

我经常对 Django 感到困惑：

```
request.POST 
```

和`request`的：

```
request.post 
```

无论如何，那是我的问题。支持反对票。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2021-08-10T19:03:32.733

更改文件名解决了我的解决方案。

以前的名字是：`random.py`

和更改的名称是：`hello.py`

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2018-04-22T11:29:37.573

我在 Mac 和 Ubuntu 上遇到了同样的问题。我想测试 requests 命令。我在 Mac 上使用了**requests/**文件夹名称和**requests.py文件名。**但 Python 显示“ImportError：无法导入名称获取”消息。因此，我将 requests/ 文件夹和 requests.py 文件重命名为 test-requests/ 和 test-requests.py。它仍然收到了消息。我检查了以下文件夹：

```
__pycache__     requests.pyc        test-1.py       test-requests.py 
```

我看到该文件夹​​有 requests.pyc 文件。所以我删除了文件夹中的requests.pyc文件。然后，我执行了下面的测试脚本。它现在正在工作。

```
$ python test-requests.py 
200

#! /usr/bin/env python
# the content of test-requests.py
import requests
from requests import get
r = requests.get('http://httpbin.org/get')
print (r.status_code) 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-02-24T09:05:04.950

有时删除以前有问题的文件或目录会更容易。`rm`如果您在终端中使用 mac ，请使用。

![rm 例子](../Images/1cc60eb0bd38cbeff155cf8bd1554f89.png)

这是更多信息的链接：[https ://www.macworld.com/article/2082021/master-the-command-line-deleting-files-and-folders.html](https://www.macworld.com/article/2082021/master-the-command-line-deleting-files-and-folders.html)

# c# - 从 web 方法中查看外部变量

> ID：12258817
> 
> 赞同：0
> 
> 时间：2012-09-04T07:38:59.193
> 
> 标签：c#, javascript, asp.net, web-services

我有一个带有 c# 的 ASP.Net 应用程序。我有这个代码：

C＃：

```
public string a="abc"; 

[WebMethode]
public static Boolean check(string delegate)
{
   .....

   return true;

  } 
```

我从 javascript 调用的这个方法。有人可以告诉我如何使用 webmethode 中的“a”变量吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:43:54.717

要在静态方法中访问实例成员，您必须创建当前类的实例。然后你就可以访问它了。

就像如果班级是`Class1`

那么你的方法将

```
[WebMethode]
public static Boolean check(string str)
{

   var obj = new Class1();
   // Now you can access a variable like obj.a
   .....

   return true;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:51:40.083

要么将变量声明为静态（使其成为[类变量](http://msdn.microsoft.com/en-us/library/aa691162%28v=vs.71%29)而不是[实例变量](http://msdn.microsoft.com/en-us/library/aa691164%28v=vs.71%29.aspx)）：

```
public static string a = "abc"; 
```

或者在方法中创建一个类的实例：

```
[WebMethod]
public static Boolean check(string @delegate)
{
    MyClass cls = new MyClass();
    var a = cls.a;

    // ...
} 
```

# django - django 选择框

> ID：12258819
> 
> 赞同：0
> 
> 时间：2012-09-04T07:39:02.870
> 
> 标签：django

这是我的 django 框架的模型代码。如您所见，我从数据库中检索值并通过列表框显示。

这工作得很好，但在列表框中只显示值。我需要在列表框中添加一个单词，例如“选择”。

```
date_value_list = MeasurementTest.objects.values_list('start_date',flat = True).distinct()
date1 = forms.ModelMultipleChoiceField(queryset = date_value_list, widget = forms.Select, required =  True) 
```

我实际上是在尝试在上面的选择框中添加标签或 help_text。但这似乎不起作用。

```
date1 = forms.ModelMultipleChoiceField(queryset = date_value_list, widget = forms.Select, required =  True,help_text="select",label = "select") 
```

上面的代码似乎不起作用。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T14:23:43.230

有两个可能的原因。

*   如果您将该字段设置为`required=True`您的表单

*   如果您在模型中设置模型`blank=False`字段`MeasurementTest`

在这两种情况下，django 都会意识到这是一个必填字段，即使您指定了也不会添加`empty_label`（因为该字段不能为空白）。

> 请注意，如果需要 ModelChoiceField 并且具有默认初始值，则不会创建空选项（无论 empty_label 的值如何）。

[空标签定义](https://docs.djangoproject.com/en/1.4/ref/forms/fields/#django.forms.ModelChoiceField.empty_label)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T08:18:54.680

我认为您正在寻找[empty_label](https://docs.djangoproject.com/en/dev/ref/forms/fields/#django.forms.ModelChoiceField.empty_label)。

```
# A custom empty label
field1 = forms.ModelChoiceField(queryset=..., empty_label="Select value")

# No empty label
field2 = forms.ModelChoiceField(queryset=..., empty_label=None) 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-04T08:04:11.883

`required=True`从 FormField中删除它。并添加`empty_label="Select"`

您的问题的类似帖子[点击这里](https://stackoverflow.com/questions/1765757/choicefield-doesnt-display-an-empty-label-when-using-a-tuple-am-i-doing-somet)

# c# - 如何解决错误“'XmlSiteMapProvider' 提供程序的配置中的属性 'securityTrimmingEnables' 是意外的”

> ID：12258820
> 
> 赞同：0
> 
> 时间：2012-09-04T07:39:04.277
> 
> 标签：c#, web-config, asp.net-4.0, web.sitemap

我是 ASP.NET 的新手..我在 web.sitemap 中创建菜单，我想隐藏一些基于用户登录的菜单..但我收到此错误“属性 'securityTrimmingEnables' 在 'XmlSiteMapProvider' 的配置中是意外的提供者”。我想知道怎么解决？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:41:09.557

替换为`securityTrimmingEnabled`，你有不匹配

# ios - 如何获取流字节并转换回图像 - IOS

> ID：12258825
> 
> 赞同：0
> 
> 时间：2012-09-04T07:39:23.393
> 
> 标签：ios, image, stream, byte, nsinputstream

如何获取流字节并转换回图像，下面是我的代码。但是我得到的图像是空白的。为什么？代码有问题吗？

我从我的 NSOutputStream 中获取字节并转换回 NSData，然后将 NSData 转换为图像。

```
(void)stream:(NSStream *)theStream handleEvent:(NSStreamEvent)streamEvent {

switch (streamEvent) {

case NSStreamEventOpenCompleted:
    NSLog(@"Stream opened");
    break;
case NSStreamEventHasBytesAvailable:

    if (theStream == inputStream) {

        uint8_t buffer[5000]; 
        int len;

        while ([inputStream hasBytesAvailable]) {
            len = [inputStream read:buffer maxLength:sizeof(buffer)];
            NSLog(@"len=%d", len);
            if (len > 0) {

                NSData *pictureData = [NSData dataWithBytes:buffer length:len];

                UIImage *imagess = [[UIImage alloc]initWithData:pictureData];
                [imagesview setImage:imagess];

                                }

        }
    }
    break;

} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T12:14:08.853

这在您使用 NSOutPutStream 时有点令人困惑。虽然您可能使用一个（远端）发送图像数据，但您必须使用 NSInputStream 来接收它，不是吗？

您应该在“NSStreamEventHasBytesAvailable:”中做的只是将数据附加到可变数据对象。当你最终得到'NSStreamEventEndEncountered'时，你就会得到你的图像：

```
{
  NSMutableData *data; // ivar
}

  // init it somewhere
  data = [NSMutableData new];

case NSStreamEventHasBytesAvailable:

if (theStream == inputStream) {

    uint8_t buffer[5000]; 
    int len;

    while ([inputStream hasBytesAvailable]) {
        len = [inputStream read:buffer maxLength:sizeof(buffer)];
        NSLog(@"len=%d", len);
        if (len > 0) {
            [data appendBytes:(const void *)buffer length:len];
        }
    }
}
break;

case NSStreamEventEndEncountered:
{
    if (theStream == inputStream) {
        UIImage *imagess = [[UIImage alloc]initWithData:data];
        [imagesview setImage:imagess];
    }
}   break; 
```

# asp.net-mvc-3 - HTML.DropDownListFor 的默认值加载

> ID：12258828
> 
> 赞同：2
> 
> 时间：2012-09-04T07:39:36.990
> 
> 标签：asp.net-mvc-3, html.dropdownlistfor

```
@Html.DropDownListFor(model => model.title, (SelectList)ViewBag.NoVList, new { id = "natureOfVisit", @class = "text white" }) 
```

如何向此 DropDownListFor 添加默认值。我的意思是当用户打开弹出窗口来编辑这个下拉列表的模型时，从下拉框中选择当前的 model.title 值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T07:56:23.957

尝试这个：

```
@Html.DropDownListFor(model => model.title, (SelectList)ViewBag.NoVList, "Please Select...", new { id = "natureOfVisit", @class = "text white" }) 
```

第三个参数是`optionLabel`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T08:26:02.810

要为下拉菜单设置默认值，您应该创建适当的 SelectList：

```
ViewBag.NoVList = new SelectList(novs, "valueField", "textField", 1); 
```

novs[1] 将是这里的默认选择。

# php - 如何删除php数组中的常见元素

> ID：12258834
> 
> 赞同：-1
> 
> 时间：2012-09-04T07:39:40.890
> 
> 标签：php, arrays

我喜欢

```
$var1 = [3,4,5,6];

$var2 = [5,6,7,8] 
```

现在我想要元素不重复的新数组

```
$var3 = [3,4,5,6,7,8] 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-04T07:42:19.047

`array_unique`从数组中删除重复值

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-04T07:44:23.663

```
array_unique(array_merge($arr1, $arr2)) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-04T07:44:22.767

`$newarray = array_unique(array_merge($oldarray1, $oldarray2));`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-04T07:40:59.223

尝试使用[**array_unique**](http://www.php.net/manual/en/function.array-unique.php)和[**array_merge**](http://www.php.net/manual/en/function.array-merge.php)。这应该可以帮助你。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-04T07:44:28.023

请参考手册[array_merge()](http://php.net/manual/en/function.array-merge.php)和[array_unique()](http://php.net/manual/en/function.array-unique.php)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-04T07:58:50.960

```
$var3 = array_unique(array_merge($var1, $var2), SORT_NUMERIC); 
```

# android - Android：ListView、ArrayAdapter 和二维数组

> ID：12258837
> 
> 赞同：3
> 
> 时间：2012-09-04T07:40:02.257
> 
> 标签：android, android-listview, android-arrayadapter

我需要在列表视图中显示二维字符串数组的内容（很可能只是一个索引）。

我可以为一维数组创建一个数组适配器，如下所示：

```
String[] values ... blah-blah

ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,  
    android.R.layout.simple_list_item_1, android.R.id.text1, values);

listView.setAdapter(adapter); 
```

这只是花花公子。但是，如果我这样做：

```
String[][] values ... blah-blah

ArrayAdapter<String[]> adapter = new ArrayAdapter<String[]>(this,  
    android.R.layout.simple_list_item_1, android.R.id.text1, values);

listView.setAdapter(adapter); 
```

这自然会显示数组中的数组，可以说，而不是内容。

问题是，我如何显示 f.ex。ListView 中二维数组的第一个或第二个索引？

详细地：

二维数组内容：

```
3,03-09-2012,text,moretext
2,03-09-2012,text,moretext
1,03-09-2012,text,moretext 
```

我想显示 f.ex。列表中的索引[i][2]。

我不一定需要显示每个数组的所有索引，但我需要访问它们。由于每个数组都包含多个条目，其中包括一个 ID，因此我不能只将要显示的信息转换为一维数组，因为这样我就会丢失每个数组的 ID。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T07:48:31.180

有两种解决方案供您选择：

1.  使用您自己的转换逻辑创建一个将二维数组转换为简单数组的方法。
2.  扩展`BaseAdapter`该类以创建您自己的实现，您可以将二维数组作为基础数据并以您想要的方式显示其内容。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T07:58:33.547

我建议，不要创建二维数组，而是创建一个适合您需求的模型。在这种情况下：

```
class Model {
    private String mText1;
    private String mText2;

   //getters and setters

} 
```

并创建一个自定义`ArrayAdapter`（一个扩展的类`ArrayAdapter<Model>`）。

这样，只需`ListView`稍作修改，就可以更轻松地向您添加额外的信息；例如添加图像。

查看本[教程](http://www.ezzylearning.com/tutorial.aspx?tid=1763429)以获取详细说明。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-07-03T17:03:56.483

创建一个模型，就像上面提到的 Benito 一样，作为一个内部类总是很有效。
存储任意数量项目的好方法。

```
public class ActivityClass extends Activity {
    ...
    ArrayList<ValuesModel> listViewValues = new ArrayList<ValuesModel>();
    listViewValues.add(new ValuesModel("row title", "row details"));

    ListViewAdapter listAdapter = new ListViewAdapter(this, listViewValues);
    ((ListView) findViewById(android.R.id.list)).setAdapter(listAdapter);
    ...

    public class ValuesModel {
        private String rowTitle;
        private String rowDetails;

        public ValuesModel(String rowTitle, String rowDetails) {
            this.rowTitle = rowTitle;
            this.rowDetails = rowDetails;
        }
        public String getRowTitle() {
            return rowTitle;
        }
        public String getRowDetails() {
            return rowDetails();
        }
} 
```

然后在你的列表适配器里面，

```
public class ListViewAdapter extends ArrayAdapter<ActivityClass.ValuesModel> {
    private ArrayList<ActivityClass.ValuesModel> mValues;
    ...

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        ...
        //here whenever you need to retrieve your values, just say:  
        //  mValues.get(position).getRowTitle();
        //  mValues.get(position).getRowDetails();
        //if you use a viewholder pattern, you can do this:
        viewHolder.rowTitle = (TextView) convertView.findViewById(R.id.row_title_textview);  
        viewHolder.rowTitle.setText(mValues.get(position).getRowTitle());
        ...
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-04T07:58:52.083

您可以简单地扩展 ArrayAdapter。您只需要重写 getView() 以绑定元素 [2]。可能是这样的：

```
public class MyArrayAdapter extends ArrayAdapter<String[]> {
    public View getView(int position, View convertView, ViewGroup parent) {
        ((TextView) super.getView()).setText(getItem()[2]);
    }
} 
```

# extjs - 在 Ext JS 4.1.1 中，如何以编程方式将项目添加到按钮组

> ID：12258838
> 
> 赞同：0
> 
> 时间：2012-09-04T07:40:02.063
> 
> 标签：extjs, extjs4, items, buttongroup

在 Ext JS 4.1.1 中，如何以编程方式将项目添加到按钮组？如果我添加项目作为定义按钮组的一部分，它会起作用，例如：

```
Ext.define('company.ButtonGroup', {
    extend: 'Ext.container.ButtonGroup',
    title: 'File',
    columns: 2,
    defaults: {
        scale: 'small'
    },
    items: [
            { text: 'New', iconCls: 'new16' },
            { text: 'Open', iconCls: 'open16' }
            ]
});
var fileButtongroup = Ext.create('company.ButtonGroup'); 
```

但是，如果我尝试分配一组项目，它就不起作用。例如：

```
var fileArr = [
            { text: 'New', iconCls: 'new16' },
            { text: 'Open', iconCls: 'open16' }
            ];
Ext.define('company.ButtonGroup', {
    extend: 'Ext.container.ButtonGroup',
    title: 'File',
    columns: 2,
    defaults: {
        scale: 'small'
    }
});
var fileButtongroup = Ext.create('company.ButtonGroup');
fileButtongroup.items = fileArr; 
```

此外，我也没有看到任何`setItems()`方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:48:41.643

因为`items`数组是在组件初始化时处理的（在 initComponent() 中）。

如果要在创建按钮组后将项目添加到按钮组，则应使用[add()](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.container.AbstractContainer-method-add)方法。顺便说一句，它适用于任何[Container](http://docs.sencha.com/ext-js/4-1/#!/api/Ext.container.Container)类。

# c# - 根据另一个下拉列表填充下拉列表

> ID：12258839
> 
> 赞同：5
> 
> 时间：2012-09-04T07:40:03.510
> 
> 标签：c#

> **可能重复：**
> [根据另一个下拉列表中的选择填充一个下拉列表](https://stackoverflow.com/questions/5686735/populate-one-dropdown-based-on-selection-in-another)

我的 aspx 页面上有 3 个下拉列表。第一个是用 4 个值硬编码的。第二个应该以编程方式填充，例如。如果我在第一个下拉列表中选择“Product1”，那么第二个下拉列表应该填充诸如“Model1_1”、“Model1_2”之类的值。如果我选择“Product2”，则第二个下拉列表将填充“Model2_1”、“Model2_2”）。

你能给我一些帮助吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-04T07:45:19.333

1`AutoPostBack="true"`在第一个 DropDownList1 上设置并添加`OnSelectIndexChanged="YourDelegate"`.

2 在您的委托中，当您发布数据时，将您的第二个 DropDownList2 与前缀 SelectedValue 绑定

```
 protected void DropDownList_SelectedIndexChanged(object sender, EventArgs e)
 {
   var value =  DropDownList1.SelectedValue;
   if(value == "Product1")
   { 
    ....      
   }
   else if(value == "Product2")
   { 
    ....      
   }
 } 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-04T07:48:28.977

我可以为这个问题命名 2 个解决方案。

第一个涉及使用 AJAX Toolkit for ASP.NET 页面中的 Cascading Drop Down。你有这里的参考资料和一个例子： [http](http://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/CascadingDropDown/CascadingDropDown.aspx) ://www.asp.net/ajaxLibrary/AjaxControlToolkitSampleSite/CascadingDropDown/CascadingDropDown.aspx 不知何故`cleaner`，它不会导致回发，但你必须使用该工具包。但是学习使用它很好，因为它为其他人提供了很好的设施。

第二个涉及为您的 DropDownList 添加 OnSelectedIndexChange 事件的处理程序。因此，当用户从第一个下拉列表中选择一个值时，服务器端会捕获该事件并使用必要的值填充第二个 DropDown。由于这需要服务器端操作，因此在做出选择后重新加载页面可能会相当烦人。客户端应如下所示：

```
 <asp:DropDownList ID="DropDownList1" runat="server" AutoPostBack = true OnSelectedIndexChanged="DropDownList1_SelectedIndexChanged"></asp:DropDownList> 
```

在服务器端的位置：

```
protected void DropDownList1_SelectedIndexChanged(object sender, EventArgs e)
{
    DropDownList2.Items.Clear();
    DropDownList2.Items.Add("text");
    ....
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-04T07:50:53.353

您可以通过以下方式填充第二个drp（DropDownList）：将第一个drp与表连接，该表调用此查询：（在SQLDataSource1中）

```
SELECT [id], [name] FROM Products 
```

在第二个 drp 你应该调用（在 SQLDataSource2 中）

```
 SELECT [id], [name] FROM Models WHERE ProductID=@Product_id 
```

在`SQLDataSource2` `select command`属性中添加参数值，`Product_id`它必须是`drp1.SelectedValue`

注意：不要忘记`Enable AutoPostBack`drp1

# python - Python：通过嵌入复杂算法改进子字符串搜索

> ID：12258847
> 
> 赞同：1
> 
> 时间：2012-09-04T07:40:22.987
> 
> 标签：python, c, performance, algorithm, substring

我正在扩展我之前的问题[python 高效子字符串搜索](https://stackoverflow.com/questions/12244754/python-efficient-substring-search)，

我有兴趣提高子字符串搜索实现的性能，

我上一个问题的一些答案指出，子字符串搜索是通过使用受BM算法启发的fastsearch实现的，这里是[源代码](http://hg.python.org/cpython/file/2370e331241b/Objects/stringlib/fastsearch.h#l37)

更多答案向我指出了 Boyer-Moore 算法、Rabin-Karp 算法的 python 实现。

**使用这些算法（BM， Rabin-Karp** ）将c代码嵌入作为子字符串搜索的良好实现是否有效？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-04T09:12:54.553

您没有指定“高效”的含义。你愿意做出哪些取舍？在初始化新字符串时，您是否准备为性能损失付出代价？什么时候开始搜索？你会用更多的内存换取更快的速度吗？

Python 开发者在开发 Python 字符串库时设定了[明确的目标：](http://effbot.org/zone/stringlib.htm)

> *   应该比所有测试用例（基于真实代码）的当前蛮力算法更快，包括 Jim Hugunin 的最坏情况测试
> *   设置开销小；快速路径中没有动态分配（速度为 O(m)，存储为 O(1)）
> *   良好情况下的亚线性搜索行为 (O(n/m))
> *   在最坏情况下不比当前算法差 (O(nm))
> *   应该适用于 8 位字符串和 16 位或 32 位 Unicode 字符串（无 O(σ) 依赖项）
> *   许多现实生活中的搜索应该是好的，极少数应该是最坏的情况
> *   相当简单的实现

因此，开发人员对搜索案例和设置案例的性能、存储要求以及维护效率设置了一些限制。这些边界排除了 Boyer-Moore（因为它需要对搜索的字符串进行预处理、启动成本和存储成本），虽然我没有看到开发人员考虑过 Rabin-Karp 的证据，但它可以被排除在同一个理由（您需要创建哈希并存储这些）。

边界是基于*大量*python 内部结构和使用经验设置的。上面的总结不是凭空捏造的，只是对那次经历的总结。

现在，如果你有一个*特定*的情况，你的权衡可以设置不同，那么可以肯定的是，不同算法的 C 实现可以很好地击败标准 Python 实现。*但根据不同*的标准，它会更有效率。

在任何情况下，Python 搜索算法都会处理小字符串的情况。如果您尝试将其应用于*大量*文本，则算法将无法像做出适合大型文本的不同选择的算法那样执行。如果您必须在 10,000,000 个文档中搜索文本，您可能希望使用某种索引解决方案，而不是使用微不足道的小 Python 字符串搜索。

将其与使用默认排序实现对 100 个项目的列表进行排序相比，对 10,000,000,000 个整数进行排序。在后一种情况下，有一些排序实现可以轻松击败默认的 Python 产品。

还需要注意的是，Python 有算法创新的历史；Python 中的标准排序算法是[TimSort](https://en.wikipedia.org/wiki/Timsort)，这是 Tim Peters 发明的一种新算法，用于适应 Python 解释器必须处理的实际实际情况。此后，该算法也成为 Java 和 Android 平台的默认算法。因此，我倾向于相信 Python 核心开发人员的决定。

据我所知，没有人嵌入了不同的实现，因为在不修补 Python C 代码的情况下*替换*默认值是行不通的。当然，您可以轻松创建实现不同搜索算法的专用字符串类型。很可能有一些库将 C 用于使用 Boyer-Moore、Rabin-Karp 或任何其他算法的专门搜索算法，因为这很可能是其特定问题域的更好选择。

# linux - 在 ftp 服务器中过滤 ftp 日志文件

> ID：12258857
> 
> 赞同：1
> 
> 时间：2012-09-04T07:40:57.847
> 
> 标签：linux, ftp

在 ftp 服务器中，当用户从服务器下载数据时，它有一个很大的日志文件来记录。日志文件项目，如

```
Sat Jun  2 03:32:13 2012 [pid 12461] CONNECT: Client "66.249.68.236"
Sat Jun  2 03:32:13 2012 [pid 12460] [ftp] OK LOGIN: Client "66.249.68.236", anon     password "gxxglxxxxt@google.com"
Sat Jun  2 03:32:14 2012 [pid 12462] [ftp] OK DOWNLOAD: Client "66.249.68.236",   "/pub/10.5524/100001_101000/100022/readme.txt", 451 bytes, 1.39Kbyte/sec
Sat Jun  2 03:32:22 2012 [pid 12677] CONNECT: Client "66.249.68.236"
Sat Jun  2 03:32:23 2012 [pid 12676] [ftp] OK LOGIN: Client "66.249.68.236", anon password "xxxxxbot@google.com"
Sat Jun  2 03:35:27 2012 [pid 12706] [ftp] FAIL DOWNLOAD: Client "66.2 
```

那么我怎样才能得到一个简单的日志文件只包含最近一周或 7 天的记录

谢谢

# ios - 如何避免 UITextfield 中不需要的字符？

> ID：12258861
> 
> 赞同：0
> 
> 时间：2012-09-04T07:41:15.963
> 
> 标签：ios, validation

在我的文本字段中，它应该允许正负十进制值。所以我使用了正则表达式

```
#define FLOAT_REGEX @"-[0-9]+(\.[0-9][0-9]?)?"

-(BOOL) checkForDecimalValue:(NSString *) string
{
NSPredicate *confidenceTest = [NSPredicate predicateWithFormat:@"SELF MATCHES %@",FLOAT_REGEX]; 
return [confidenceTest evaluateWithObject:string]?YES:NO;
} 
```

但如果我只输入没有任何小数点的正值（例如 100,200 等），则不接受。它也应该允许正值和整数。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T08:08:27.287

替换行使用以下内容：

```
#define FLOAT_REGEX @"^[-]?[0-9]*(.[0-9]*)?$" 
```

希望这对您想要的有所帮助。[从这里](http://www.regextester.com/)检查其有效性

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:50:34.270

1-9 范围内的数字后跟零个或多个其他数字：

```
^[1-9]\d*$ 
```

允许带有可选小数点的数字后跟数字。1-9 范围内的数字后跟零个或多个其他数字，然后可选地后跟一个小数点，后跟至少 1 个数字：

```
^[1-9]\d*(\.\d+)?$ 
```

笔记：

`^`开始和结束的`$`锚点基本上是说整个字符串必须与模式匹配

`()?`匹配括号之间的整个事物的 0 或 1

更新以处理逗号：

在正则表达式`.`中有一个特殊的含义——匹配任何单个字符。要从字面上匹配`.`字符串中的 a，您需要转义`.`using`\.`这是`\.`上面正则表达式中的含义。因此，如果您想使用逗号，则模式很简单：

```
^[1-9]\d*(,\d+)?$ 
```

进一步更新以处理逗号和句号

如果您想允许`.`数字组`,`之间的 a 以及积分和小数部分之间的 a ，请尝试：

```
^[1-9]\d{0,2}(\.\d{3})*(,\d+)?$ 
```

即，这是 1-9 范围内的一个数字，后跟最多 2 个其他数字，然后是零个或多个句号组，后跟 3 个数字，然后像以前一样可以选择逗号和数字。

如果您想允许`.`数字之间的任何位置，请尝试：

```
^[1-9][\.\d]*(,\d+)?$ 
```

即数字 1-9 后跟零个或多个数字或句号可选地后跟逗号和一个或多个数字。

ref :[正则表达式验证中的十进制或数值](https://stackoverflow.com/questions/2811031/decimal-or-numeric-values-in-regular-expression-validation)

希望它有所帮助，快乐编码:)

# cakephp - cakephp 2.x 带有模型但没有数据库的表单验证

> ID：12258862
> 
> 赞同：3
> 
> 时间：2012-09-04T07:41:16.753
> 
> 标签：cakephp

我对 cakephp 很陌生，我试图验证联系表格。我需要在模型中没有数据库表的情况下进行验证。但它不起作用。我使用的代码如下所示

以下是代码：ContactsController.php

```
<?php
class ContactsController extends AppController {

  var $uses='Contact';

  public function index() {
        // Placeholder for index. No actual action here, everything is submitted to the send function.
    }

    public function send() {
            $this->Contact->set($this->data);
            if($this->Contact->validates()) {
       echo "hiiii";
}
        }

}
----------------------------Model-----------------------
<?php
App::uses('AppModel', 'Model');

class ContactModel extends AppModel {

    var $name = 'Contact';
    var $useTable = false;

    var $validate = array(
        'name' => array(
            'rule' => 'notEmpty',
            'required' => true
        ),
        'email' => array(
            'rule' => 'email',
            'required' => true
        ),
        'message' => array(
            'rule' => 'notEmpty',
            'required' => true
        )
    );
}
-----------------------in view/Contacts/index.ctp-----------------------------
<?php
echo $this->Form->create('Contact', array('action' => 'Contacts/send'));
echo $this->Form->input('name');
echo $this->Form->input('email');
echo $this->Form->input('message',array('rows' => 3));
echo $this->Form->submit('Submit');
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-13T13:29:14.247

有一种方法可以在不使用模型的情况下进行验证，它也可以用于表单，至少在 CakePHP2 中是这样。

例如，我必须验证参数，我认为为每个需要参数的操作创建模型没有意义。

所以，我用了这个：

1.  在控制器类声明之前

    App::uses('验证', '实用程序');

2.  在带有 $code 参数的操作中

    function checkcode($code) { ... Validation::alphaNumeric($code); ... }

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-04T22:36:02.177

$this->Contact->save() 应该从关联模型调用验证。

```
public function send() {
        $this->Contact->set($this->data);
        if($this->Contact->save()) {
          $this->Session->setFlash(__('Contact saved!'));
        }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T08:35:27.500

本文将为您提供所需的所有信息：http: [//www.dereuromark.de/2011/12/15/tools-plugin-part-2-contact-form/](http://www.dereuromark.de/2011/12/15/tools-plugin-part-2-contact-form/)

尤其是如何使用 _schema 来构建您的验证并以简单的方式形成。

# ajax - Apache Wicket 和单页应用程序 (SPA) - 如何从菜单创建面板？

> ID：12258869
> 
> 赞同：0
> 
> 时间：2012-09-04T07:41:33.620
> 
> 标签：ajax, wicket, panel

我们正在使用单页设计构建一个 Wicket 应用程序。我们试图找出创建基本结构的最佳方法。我的想法是每个动态加载的 HTML 组件都扩展了“面板”（ [http://wicket.apache.org/apidocs/1.4/org/apache/wicket/markup/html/panel/Panel.html](http://wicket.apache.org/apidocs/1.4/org/apache/wicket/markup/html/panel/Panel.html)）。

但是，如何将这样的面板加载到我的应用程序的 div 或内容区域中？我不想使用 AjaxTabbedPanel，因为我需要加载面板，例如通过单击菜单，但由于应用程序中某处的其他单击事件，我需要替换某些面板。

所以问题可能是：如何在 Wicket 中使用 Ajax 加载面板？例如来自菜单按钮，或例如来自应用程序中的任何按钮。

谢谢！塞巴斯蒂安

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T08:27:37.660

您可以将面板添加到 div：

标记：

```
<div wicket:id="panel" /> 
```

Java代码：

```
final YourPanel panel = new YourPanel("panel");
add(panel); 
```

要更改附加到页面的面板，我将用标记容器围绕面板，在（ajax）事件上更改面板（删除旧的并附加新创建的）并更新标记容器。

标记：

```
<div wicket:id="markupContainer">
    <div wicket:id="panel" />
</div> 
```

Java代码

```
// initially create the panel
final WebMarkupContainer wmc = new WebMarkupContainer("markupContainer");
wmc.setOutputMarkupId(true);
add(wmc);
Panel panel = new YourPanel("panel");
wmc.add(panel);

// ...

// updating the panel on an ajax event (here: button click)
final AjaxButton yourButton = new AjaxButton(...) {
    @Override  
    public void onSubmit(AjaxRequestTarget target) {
        wmc.remove(panel);
        panel = new AnotherPanel("panel");
        wmc.add(panel);
        target.add(wmc);
    }
}
// ... 
```

# c# - 即使网络出现故障，NetworkStream.Read 仍然会阻塞

> ID：12258870
> 
> 赞同：0
> 
> 时间：2012-09-04T07:41:40.763
> 
> 标签：c#, sockets, client-server

我有一个服务器和多个通过 TCP 套接字连接的客户端。服务器侦听连接的客户端，这些客户端首先使用其唯一的设备 ID 注册自己。当设备首次注册时，服务器会向客户端发送一条小消息。这会唤醒客户端从另一个来源下载数据。

我们遇到的问题是网络使用 GPRS，而且在覆盖范围较差的地区，网络经常出现故障或服务质量很差。似乎正在发生的是，在客户端内部，即使网络层下降，NetworkStream.Read() 调用也会阻塞。没有抛出异常，即使网络返回，调用似乎也没有检测到任何数据。

这有什么原因吗？我该如何解决这个问题？

我原以为 NetworkStream 至少会引发异常，以便客户端可以进入重试连接阶段。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T10:01:05.137

您需要的是读取超时。在某些情况下，即使对等方未运行，TCP 读取也可能永远阻塞。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T08:07:46.807

NetworkStream 不检测一个客户端和另一个客户端之间的连接。它只是监听数据。Read() 阻塞线程直到它接收到数据。

相反，请考虑使用[BeginRead](http://msdn.microsoft.com/en-us/library/system.net.sockets.networkstream.beginread)（或.Net 4.5 中的[ReadAsync](http://msdn.microsoft.com/en-us/library/hh193669)）。它不会阻塞线程，并且在没有新数据的超时后，您可以关闭套接字，创建一个新的并重新开始。

# visual-studio-2010 - 将 Visual Studio 2010 StartPage 升级到 2012？

> ID：12258873
> 
> 赞同：1
> 
> 时间：2012-09-04T07:42:03.120
> 
> 标签：visual-studio-2010, visual-studio-2012, start-page

由于我在谷歌上没有找到有关我关注的信息，所以我会在这里尝试。

在 Visual Studio 2010 上，可以创建[自定义起始页](http://msdn.microsoft.com/en-us/library/ee663382.aspx "自定义起始页")。一年前我自己做了一个，现在我已经习惯了。

好吧，随着 Visual Studio 2012 的发布，我无法再使用我的 (VSIX) 自定义起始页。

在 MSDN 上，我发现了这个：[How to: Upgrade Visual Studio SDK/VSIX Projects to Visual Studio 2012](http://msdn.microsoft.com/en-us/library/hh567449.aspx)，但是在我完成所有操作之后它仍然无法正常工作。

问题实际上是，在 Visual Studio 2010 中没有“起始页项目模板”（在扩展管理器中查找）。

所以我发现了这个：[How to: Manually Create a Start Page](http://msdn.microsoft.com/en-us/library/ff425532.aspx)，但它完全错误并复制/粘贴，因为它导致 Visual Studio 2010，尽管它在顶部告诉 Visual Studio 2012。

在教程之后我得到了这个：

```
<Grid    xmlns:sp="clr-namespace:Microsoft.VisualStudio.PlatformUI;assembly=Microsoft.VisualStudio.Shell.StartPage"
         xmlns:vs="clr-namespace:Microsoft.VisualStudio.PlatformUI;assembly=Microsoft.VisualStudio.Shell.11.0"
         xmlns:vsfx="clr-namespace:Microsoft.VisualStudio.Shell;assembly=Microsoft.VisualStudio.Shell.11.0"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
         xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
         mc:Ignorable="d" 
         d:DesignHeight="300" d:DesignWidth="300">
<Grid>
    <Label Content="My ListView:" HorizontalAlignment="Left" Margin="10,10,0,0" VerticalAlignment="Top" Foreground="White"/>
    <ListView Width="Auto" Height="Auto" Margin="10,40,10,10" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
        <ListView.View>
            <GridView>
                <GridViewColumn/>
            </GridView>
        </ListView.View>
    </ListView>
</Grid> 
```

这在 VS2012 中不起作用，但在 VS2010 中它就像一个魅力。

好吧，至少我别无选择，只能自己尝试。我使用了我提供的最后一个链接中的教程（[如何：手动创建起始页）](http://msdn.microsoft.com/en-us/library/ff425532.aspx)。

开始：**创建一个空白起始页**和第 5 步：*在编辑器中，将顶级 UserControl 元素更改为 Grid 元素，而不删除任何命名空间声明。*

我没有这样做 - 我让它成为一个 UserControl 然后我可以从 Tools>Options>StartPage>Customize Start Page 中选择 XAML，唯一的问题是现在，我不能有 CodeBehind，因为我有删除 x:Class （看看第 6 步）..

并且 XAML 中的内联代码不是一个选项，所以请如果有人可以帮助我；我究竟如何将我的 VSIX 自定义起始页升级到 VS2012，或者我如何创建一个具有代码隐藏功能的工作空白起始页，或者如果我需要等到有人发布 VS2012 的起始页项目模板，我将非常感激..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-24T10:31:39.750

这个带有 Grid 的 xaml 文件对于您的实际实现应该真正视为“外壳”。将网格的内容移动到在单独程序集中定义的单独用户控件（您可以使用后面的代码）。然后将 xmlns 引用和这个新控件添加到网格中。

带有网格的 Xaml 转到 \Documents\Visual Studio 2010\StartPages\ Assembly，您的用户控件转到 \Common7\IDE\PrivateAssemblies

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T08:25:20.627

现在在 MSDN 上发布了一篇文章，用于将 VS2010 起始页升级到 VS2012：http: [//msdn.microsoft.com/en-us/library/jj991932.aspx](http://msdn.microsoft.com/en-us/library/jj991932.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-12T19:01:31.513

至少我无法解决我的问题。我从头开始使用 InlineCode 创建了所有内容（肯定使用 XAML 和 WPF）

# vba - 将 DateTimePicker 添加到用户窗体

> ID：12258875
> 
> 赞同：1
> 
> 时间：2012-09-04T07:42:04.903
> 
> 标签：vba, excel

如何使用 VBA 代码将 DateTimePicker 添加到用户表单。

类似于添加标签 -

```
Dim TempForm As Object
Dim NewLabel as MSForms.Label

 Set NewLabel = TempForm.Designer.Controls.Add("Forms.label.1") 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T10:18:40.303

实际上，我已经从 sidharth 的这个问题中得到了答案

[在 VBA 的文本框中格式化 MM/DD/YYYY 日期](https://stackoverflow.com/questions/12012206/formatting-mm-dd-yyyy-dates-in-textbox-in-vba)

# php - 在 codeigniter 表单验证中使用“CI”时，自定义验证方法不起作用

> ID：12258883
> 
> 赞同：0
> 
> 时间：2012-09-04T07:42:58.947
> 
> 标签：php, codeigniter, validation, codeigniter-form-helper

嗨，我正在使用 codeigniter 表单验证。

在我的图书馆中，我设置了表单验证

```
$this->ci->form_validation->set_rules ( 'businessemail', 'Business Email', 'required|xss_clean|min_length[6]|callback_valid_email_check' ); 
```

和我的`valid_email_check`功能

```
public function valid_email_check($email_address)
{
    if(!trim($email_address))
    {
        return TRUE;
    }
    $email_explode = explode("@", $email_address);

    $valid = preg_match("/^(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/",trim($email_explode[0]));

    if(!$valid)
    {
        $this->ci->form_validation->set_message('valid_email_check', 'The %s field contains invalid charaters');
        return FALSE;
    }
    else
    {
        return TRUE;
    }
} 
```

事情是

```
required|xss_clean|min_length[6] 
```

验证正确，只有自定义验证消息不起作用。

我在这里做了什么，我认为使用`CI`，可能是问题，如何解决这个问题，在此先感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T10:08:45.170

您说您正在库中设置验证规则。根据 CodeIgniter 的用户指南，这应该在[控制器](http://codeigniter.com/user_guide/libraries/form_validation.html#validationrules)中完成，或者您可以将它们保存在[配置文件](http://codeigniter.com/user_guide/libraries/form_validation.html#savingtoconfig)中。

这样做的目的是什么？-

```
if(!trim($email_address))
{
    return TRUE;
} 
```

这个逻辑对我来说似乎有点倒退，例如 - 如果你将一个空字符串传递给函数，它会返回`TRUE`. 除非我没有抓住重点，否则这不是您想要实现的目标。

`trim`您可以添加`$this->ci->form_validation->set_rules`参数并将其从`valid_email_check`函数中删除。

只使用 CI 的`valid_email`规则有什么问题？没有必要重新发明轮子，除非你有充分的理由。

这是一个可接受的解决方案吗？-

```
$this->ci->form_validation->set_rules ('businessemail', 'Business Email', 'trim|required|xss_clean|min_length[6]|valid_email'); 
```

如果您已经扩展了`form_validation`库并且这是您的功能所在，那么您不需要在它前面加上`callback_`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T08:15:58.463

你怎么知道自定义验证不起作用？

下面返回什么？

```
public function valid_email_check($email_address)
{
     this->ci->form_validation->set_message('valid_email_check', 'The %s field contains invalid charaters'); 
     return FALSE;
} 
```

另外 - 您的 valid_email_check 在哪里？即它在什么文件中？

# android - android隐藏在EditText光标中

> ID：12258888
> 
> 赞同：-5
> 
> 时间：2012-09-04T07:43:17.923
> 
> 标签：android

当 EditText 被加载时，光标会默认显示第一个 EditText。如果我不想显示光标并将其移动到下一个 EditText。如何实现这个功能？这是以下代码：

```
<LinearLayout android:focusable="true"
android:focusableInTouchMode="true" android:layout_width="0px"
android:layout_height="0px" /> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-04T07:44:35.333

您可以使用 xml 属性`android:cursorVisible="false"`或 java 函数`setCursorVisible(false)`来隐藏 EditText Cursor..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T08:25:16.700

而不是上面的代码试试这个....

```
<EditText
     android:focusable="false"
     /> 
```

# php - php csv 转换

> ID：12258890
> 
> 赞同：-3
> 
> 时间：2012-09-04T07:43:23.733
> 
> 标签：php, csv

如何转换我的 csv 文件，其中包含如下字符串：

"Sep 03, 00:30","(澳大利亚) TD Securities Inflation (MoM)",Medium,0.2%,,0.6%

变成这种格式：

2012.09.03;00:30;澳元;道明证券通胀月/月;1;;-;0.2%

*   使用 PHP。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:50:52.173

您可以遵循以下策略：

*   逐行阅读
*   将线分解成数组
*   检查每个数组元素，根据您的需要进行调整
*   如有必要，更改元素的顺序
*   将数组内爆成一行
*   将行写入文件

# wcf - CRM 2011：使用 _serviceProxy.Authenticate() 重新认证

> ID：12258908
> 
> 赞同：2
> 
> 时间：2012-09-04T07:44:40.393
> 
> 标签：wcf, dynamics-crm, dynamics-crm-2011, wcf-security

我使用 WCF 频道和组织服务为 ms Dynamics 2011 开发了一个客户端软件。创建频道后，我将其放入字典`Dictionary<string, OrganizationServiceProxy>`中，等待 8 小时后，安全令牌不再有效。现在我调用`serviceProxy.Authenticate()`方法（serviceProxy 是从我的集合中检索到的对象）并且没有任何反应。我的令牌尚未更新，我无法使用我的频道从动态中检索数据。正如我在 msdn 中读到的，`Authenticate()`方法应该给我一个新的令牌，我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-05T18:25:52.840

您是否尝试过像[性能最佳实践](http://msdn.microsoft.com/en-us/library/gg509027#Performance)中描述的那样监控令牌？

> 此外，监视您的 WCF 安全令牌 (Token) 并在它过期之前刷新它，这样您就不会丢失令牌并且必须重新开始身份验证。要检查令牌，请创建一个继承自 OrganizationServiceProxy 或 DiscoveryServiceProxy 类并实现检查令牌的业务逻辑的自定义类。或者将代理类包装在一个新类中。另一种技术是在每次调用 Web 服务之前显式检查令牌。*可以在 Helper Code: [ServerConnection](http://msdn.microsoft.com/en-us/library/gg309393) Class 主题的 ManagedTokenDiscoveryServiceProxy、ManagedTokenOrganizationServiceProxy 和 AutoRefreshSecurityToken 类中找到演示这些技术的示例代码。*

您将找到一个如何在此类中自动更新令牌的示例。

# php - magento如何申请折扣？

> ID：12258912
> 
> 赞同：0
> 
> 时间：2012-09-04T07:45:01.930
> 
> 标签：php, magento

我想在应用折扣时进行一些修改。但我无法在结帐页面找到负责应用折扣的文件。我知道这`frontend/base/default/template/checkout/total/default.phtml`负责显示折扣标题和价值。它使用和 之类的 `$this->getTotal()->getTitle()`功能`$this->helper('checkout')->formatPrice($this->getTotal()->getValue()`。

以上所有功能都有多个定义，我无法找到用于获得折扣的文件。如果有人可以解释如何应用折扣将非常有帮助。使用的文件或模块流是什么（如 mage /sales & mage/checkout ）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T08:22:18.140

查看 Mage_SalesRule_Model_Validator 类。

# c# - 省略 Void 这个词和包括 Void 一样吗？

> ID：12258917
> 
> 赞同：1
> 
> 时间：2012-09-04T07:45:36.550
> 
> 标签：c#

这些是一样的吗？

`public void MyMethod() {do something}`

`public MyMethod() {do something}`

`void`意味着什么都不返回 - 所以离开这个关键词也意味着什么都不返回？如果是这种情况，那么为什么这个词存在于语言中 - 它是否用于其他情况？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-04T07:46:55.817

您的第二个选项无法编译。

C# 规范要求每个方法在没有返回结果时也返回一个类型。

> **通过指定访问级别、返回值**、方法名称和任何方法参数，在类或结构中声明 方法。...

正如其他人所指出的，例外是类构造函数。

[MSDN 上的方法（C# 编程指南）](http://msdn.microsoft.com/en-us/library/ms173114%28v=VS.80%29.aspx)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T07:47:09.057

无论它是 void 还是类型，您始终必须为您的方法指定返回类型。例外包括构造函数。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-04T07:48:01.880

你不能做第二种情况`C#`，它不会编译。在`C#`中，您应该**始终**明确指定返回类型，即使它是“无”。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-04T07:48:43.313

考虑`void`成为无返回值的占位符，同时保持语法与具有返回类型的函数/方法兼容。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-04T08:17:45.790

第一行是一个`public`实例*方法*。它只能出现在 a `class`(or `struct`) 内部，而**不是**c 本身称为`MyMethod`。

第二个例子是`public`实例*构造函数*。它可以出现在`class`本身被称为的 a 中`MyMethod`（不过，对于一个类来说，这是一个奇怪的名称）。

# sql - 刷新数据库表

> ID：12258920
> 
> 赞同：-5
> 
> 时间：2012-09-04T07:45:59.320
> 
> 标签：sql

我有一个表格，里面填满了重复的行。我需要通过删除所有重复的行来刷新表格。我可以通过编写程序来做到这一点。有什么最快的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:47:42.827

```
DELETE MyTable 
FROM MyTable
LEFT OUTER JOIN (
   SELECT MIN(RowId) as RowId, Col1, Col2, Col3 
   FROM MyTable 
   GROUP BY Col1, Col2, Col3
) as KeepRows ON
   MyTable.RowId = KeepRows.RowId
WHERE
   KeepRows.RowId IS NULL 
```

# wso2 - 在任何网页中嵌入 WSO2 小工具

> ID：12258921
> 
> 赞同：1
> 
> 时间：2012-09-04T07:46:12.470
> 
> 标签：wso2, embed, google-gadget, wso2bam

我正在考虑使用 WSO2 BAM，但在任何地方都找不到下一个问题的答案。是否可以在任何网页中嵌入 WSO2 BAM 小工具？它只能在 BAM 服务器应用程序中显示吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-09T06:10:51.437

BAM 正在使用 Google 小工具，因此您应该也可以在其他网页中使用这些小工具。BAM 也可以将汇总数据保存到 RDBMS 中。因此，您可以轻松插入其他第三方仪表板和报告工具（如 jasper、pentaho、birt 等）以在 BAM 中可视化汇总数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-24T14:35:46.343

除了 Kasun 的回答说明之外，BAM 有两种开箱即用的演示方式。一种是您提到的基于 WSO2 Gadget Server 的 Gadgets。在最新的 BAM 版本（即来自 BAM 2.0.0）中，用户可以使用[Jaggery](http://jaggeryjs.org/)定义自己的[仪表板](http://docs.wso2.org/wiki/display/BAM201/BAM+Dashboard)。如果您想要更大的灵活性，您可以使用自己的 Web 应用程序访问 RDBMS（H2 是内置的默认类型），并像 Kasun 提到的那样进行可视化。

# objective-c - 如何使用不同的 init 方法在 XIB 中创建自定义视图？

> ID：12258922
> 
> 赞同：0
> 
> 时间：2012-09-04T07:46:14.227
> 
> 标签：objective-c, ios, xib

我知道如何在 xib 中布局和创建 UIView，
但现在我有一个自定义视图（UIView 的子视图），
它有不同的 init 方法，例如：

```
-(id)initWithArg1:(int) arg2:(NSString *) arg3:(NSArray *) ... 
```

或者

```
+(id)viewWithArg1:(int) arg2:(NSString *) arg3:(NSArray *) ... 
```

当我在 xib 属性栏中将视图的类设置为我的时，
我的自定义 init 方法没有出现，无处可设置。

又怎样？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:51:04.393

您需要覆盖`initWithCoder:`并使用一些合理的默认值来完成指定的初始化程序正在执行的操作。

例如

```
- (id)initWithCoder:(NSCoder *)aDecoder
{
    if (self = [super initWithCoder:aDecoder]) {
        _value1 = 0;
        _value2 = @"Hi!";
        /* and so on */
    }

    return self;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:52:37.023

我认为您不需要`init`在 xib 中设置方法，在其他地方您只需`init`像这样调用 by 代码：

```
[[yourView alloc] initWithArg1:arg1 Arg2:arg2]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T08:25:37.893

卡尔是正确的。

本质上，如果一个对象是从 XIB 实例化的（按照您在问题中提到的步骤），那么被调用的初始化程序是

```
- (id)initWithCoder:(NSCoder *)aDecoder; 
```

You can confirm this for yourself by over-riding every possible initialiser and putting breakpoints in all of them to see which is called.

So, If you are initialising from the XIB it kind of hints that you will have one instance of that object (not necessarily so); however if you need lots of instances of a custom object then you might consider going back to a custom initialiser and forgo the XIB work by creating everything programatically.

In essence, Think how you are going to be using the object. This will tell you if you need to be thinking of custom initialisers that create their own view programatically.

# javascript - 如何从键码中获取字符串/字符值；

> ID：12258929
> 
> 赞同：3
> 
> 时间：2012-09-04T07:46:40.430
> 
> 标签：javascript, html, keyboard

我正在使用 html 的输入标签，它应该类似于谷歌搜索的输入。

```
function onKeyPressFun(event){
    var inputObj = document.getElementById("tagInput");
    var strTags = inputObj.value + String.fromCharCode(event.keyCode);
    alert("post data: strTags" + strTags);
} 
```

我想将数据发送到服务器以检测是否存在以该子字符串开头的任何标签。
我想将 keyPress 事件中的字符/字符串（此处适用）添加到文本中的现有输入中。
在上面的代码中，我使用了 String.fromCharCode。当我按“b”时，我发现 keyCode 0 并且 String.fromCharCode(event.keyCode) 的值什么都没有；既不是空白。
有什么解决办法吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-04T07:51:10.997

它可能与`.keyCode`跨不同浏览器对属性的支持有关。规范化 keyCode 值以获得更好的结果。一种方法（括号中的部分来自 jQuery 源）：

```
// e.g.
String.fromCharCode(event.charCode != null ? event.charCode : event.keyCode); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T08:17:55.410

你可以试试：

```
String.fromCharCode(event.which); // it works in all major browsers 
```

# asp.net-web-api - ASP.NET WebAPI 自托管应用程序和 crossdomain.xml

> ID：12258930
> 
> 赞同：0
> 
> 时间：2012-09-04T07:46:41.947
> 
> 标签：asp.net-web-api

如何将 crossdomain.xml 和 clientaccesspolicy.xml 添加到我的自托管应用程序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T08:46:28.743

看看 imran_ku07 [http://forums.asp.net/t/1785552.aspx/1?Hosting+static+content+in+a+self+hosted+webapi](http://forums.asp.net/t/1785552.aspx/1?Hosting+static+content+in+a+self+hosted+webapi)的这个答案你需要做的就是创建一个路由和 API 控制器实际为 crossdomain.xml 等策略文件提供服务。

```
 config.Routes.MapHttpRoute(
            "CrossDomain", "crossdomain.xml",
            new { controller = "CrossDomain" }); 
```

# wpf - winform + wpf 焦点问题（wpf 不会触发点击事件）

> ID：12258940
> 
> 赞同：0
> 
> 时间：2012-09-04T07:47:51.907
> 
> 标签：wpf, winforms

我有以 win 形式托管的 WPF 控件。在窗口的上部，我有 winform 控件（网格），在网格下方，我放置了我的 WPF 控件。wpf 控件有记录列表，每条记录都有一个超链接，可用于删除或编辑。当焦点在网格上并尝试单击 wpf 超链接时，不会触发超链接单击事件，而是将焦点设置在 wpf 控件上。并在下一次单击中调用超链接事件。我想避免这两次点击。它应该在第一枪中触发点击事件吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T12:12:43.940

使用此方法“protected override void OnPreviewMouseUp(MouseButtonEventArgs e)”您可以在此方法中捕获元素。如果捕获的元素是超链接，那么您可以触发该超链接的单击事件。

我希望这有效；）

# css - 无法设置多列容器的背景（使用列宽）文章

> ID：12258942
> 
> 赞同：1
> 
> 时间：2012-09-04T07:48:01.063
> 
> 标签：css, microsoft-metro, css-grid, css-multicolumn-layout

我正在为 Windows 8 开发基于 JavaScript 的 Metro 应用程序。我正在尝试设置具有多列文章的容器背景。基本上，我在左侧有一个列表视图，在右侧有一个多栏文章（类似于拆分视图）。

我正在尝试将文章流设置为水平（使用 column-width CSS 属性的多列），但是当我设置文章的背景时，它只设置到视口边缘。

*使用 Split App 模板创建新项目，并将以下 HTML**替换**为split.html 中的当前 HTML（**内部正文标记）：***

```
<div class="itemtemplate" data-win-control="WinJS.Binding.Template">
    <img class="item-image" src="#" data-win-bind="src: backgroundImage; alt: title" />
    <div class="item-info">
        <h3 class="item-title win-type-ellipsis" data-win-bind="textContent: title"></h3>
        <h6 class="item-subtitle win-type-ellipsis" data-win-bind="textContent: subtitle"></h6>
        <h4 class="item-description" data-win-bind="textContent: description"></h4>
    </div>
</div>

<!-- The content that will be loaded and displayed. -->
<div class="my-page fragment">
    <header aria-label="Header content" role="banner">
        <button class="win-backbutton" aria-label="Back" disabled></button>
        <h1 class="titlearea win-type-ellipsis">
            <span class="pagetitle"></span>  
        </h1>
    </header>
    <div class="itemlist-section" aria-label="List column">
        <div class="itemlist" data-win-control="WinJS.UI.ListView" data-win-options="{ selectionMode: 'single', tapBehavior: 'toggleSelect' }"></div>
    </div>
    <div class="articlesection" aria-atomic="true" aria-label="Item detail column" aria-live="assertive">
        <div class="text">
            <div class="title win-type-ellipsis" data-win-bind="textContent: title"></div>
        </div>

        <div class='article'>
            <img class="article-image" src="#" data-win-bind="src: imageUrl; alt: title" />
            <div class="article-content" data-win-bind="innerHTML: content"></div>
        </div>
    </div>
</div> 
```

*将 split.css 文件的内容替换为以下内容：*

```
.my-page {
   -ms-grid-columns: 456px 1fr;
   display: -ms-grid;
   width: 100%;
   overflow-x:auto;
}
.my-page .itemlist-section {
   -ms-grid-row: 2;
   margin-left: 106px;
   margin-right:10px;
}
.my-page .itemlist-section .itemlist .win-item {
   height:120px;
}
.my-page .articlesection {
   -ms-grid-column: 2;
   display:-ms-grid;
   -ms-grid-rows:80px 1fr;
   -ms-grid-row: 2;
   margin-left: 0px;
   height: 600px;
   width:auto;
   background-color:rgba(254, 247, 235, 0.6);
   padding:30px 50px 25px 50px;
}
.my-page .articlesection .article {
   -ms-grid-row:2;
   display:-ms-grid;
   -ms-grid-columns:auto auto;
}
.my-page .articlesection .title {
   -ms-grid-row:1;
   margin-bottom:-5px;
   font-size:37px;
   color:#333333;
}
.my-page .articlesection .article .article-image {
   -ms-grid-row:2;
   -ms-grid-column:1;
   margin-right:30px;
}
.my-page .articlesection .article-content {
   -ms-grid-row:2;
   -ms-grid-column:2;
   column-fill: auto;
   column-gap: 30px;
   column-width: 270px;
   height:550px;
   width:auto;
} 
```

运行应用程序并单击集线器上的任何磁贴以查看 split.html。向右滚动，注意背景色文章不正确。

# php - 使用 PHP 的 LDAP 身份验证

> ID：12258945
> 
> 赞同：4
> 
> 时间：2012-09-04T07:48:22.493
> 
> 标签：php, authentication, ldap

我正在尝试使用 PHP 使用 LDAP 身份验证。
下面是我的代码：

```
<?php

$ldaphost = 'ldap://ldapServer';
$ldapport = 389;

$ds = ldap_connect($ldaphost, $ldapport)
or die("Could not connect to $ldaphost");
    ldap_set_option($ldapconn, LDAP_OPT_PROTOCOL_VERSION, 3);
    ldap_set_option($ldapconn, LDAP_OPT_REFERRALS, 0);
//ldap_set_option($ds, LDAP_OPT_DEBUG_LEVEL, 7);
if ($ds) 
{
    $username = "testuser@domain.com";
    $upasswd = "testpass";

    $ldapbind = ldap_bind($ds, $username, $upasswd);

    if ($ldapbind) 
        {print "Congratulations! $username is authenticated.";}
    else 
        {print "Access Denied!";}

}
?> 
```

但它会引发以下错误：

> PHP 警告：： `ldap_bind()`无法绑定到服务器：无法联系 LDAP 服务器

知道如何解决它吗？

**注意：**`ldap.config`当我在某个论坛上遇到这个术语时，我们是否需要在某个地方归档。我在我的机器上没有看到任何这样的文件。我`php_ldap.dll`在 ext 文件夹中并使用`Windows`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T09:06:14.333

绑定时，您绑定的不是用户名，而是[DN](http://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol#Directory_structure)。

您的 $username 变量应如下所示：

```
$username = 'uid=testuser,ou=People,dc=domain,dc=com'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-04T08:54:22.780

我猜[ldap_connect()](http://www.php.net/manual/en/function.ldap-connect.php)不需要协议，所以这个天真的补丁应该可以解决你的问题：

```
--- ldap.php.bak    2012-09-04 10:52:29.563203493 +0200
+++ ldap.php    2012-09-04 10:52:46.807203766 +0200
@@ -1,6 +1,6 @@
 <?php

-$ldaphost = 'ldap://ldapServer';
+$ldaphost = 'ldapServer';
 $ldapport = 389;

 $ds = ldap_connect($ldaphost, $ldapport) 
```

查看官方文档中的[基本示例](http://www.php.net/manual/en/ldap.examples-basic.php)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-21T14:18:42.460

正如 Minras 所说，您使用了错误的凭据进行绑定。尝试这样的事情：

```
$ldaprdn  = 'cn=binder,dc=domain,dc=com';     // ldap rdn or dn or proxy agent or admin
$ldappass = 'password';  // associated password

// connect to ldap server
$ldapconn = ldap_connect("54.85.xx.xx")
        or die("Could not connect to LDAP server.");

// Set some ldap options for talking to 
ldap_set_option($ldapconn, LDAP_OPT_PROTOCOL_VERSION, 3);
ldap_set_option($ldapconn, LDAP_OPT_REFERRALS, 0);

if ($ldapconn) {

        // binding to ldap server
        $ldapbind = @ldap_bind($ldapconn, $ldaprdn, $ldappass);

        // verify binding
        if ($ldapbind) {
            echo "Done..\n</h1>";
        } else {
            echo "Damn you LDAP...\n";
        }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-24T19:49:26.233

我们在本地网络中证明了它并且运行良好。例如，如果您将 Ldap 与 Zentyal go 一起使用`https://serveriporname/Users/Composite/Settings`，然后在“用户 DN”中选择它为您提供的选项，那么您将使用我们将调用的地址`$userdns`，您可以证明以下代码

```
<?php
       //The variables are implicit

    $ad = ldap_connect($ldap_server) ;  //Ex: 10.0.0.1
    ldap_set_option($ad, LDAP_OPT_PROTOCOL_VERSION, 3) ; 

       //Using the provided user and password to login into LDAP server.
       //For the dc, normally will be the domain. 

        $sr=ldap_search($ad, $userdns, "cn=*usuario*");

        $info = ldap_get_entries($ad, $sr);

       for ($i=0; $i<$info["count"]; $i++) {
          /*Print out the user information here. If you rather to request by other field than cn take its name from here*/
          print_r($info[$i]);
          echo "<p><hr/></p>";
        }
       $ds = ldap_bind($ad,"uid=$ldap_user,$userdns",$ldap_pass);
       if($ds){
      echo "<h4>$ldap_user connect to LDAP server \"$ldap_domain\"</h4>";
       } else {
         echo "<h4>Unable to connect to LDAP server</h4>";
       }  
       ldap_close($ad);
?> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-06-20T21:20:08.403

我不确定您是否仍然需要答案，但我想根据我的经验添加一些内容。

```
$username   = 'bentcoder';
$password   = '123123';
$server = '192.168.32.4';
$domain = '@yourdomain.com';
$port       = 389;

$ldap_connection = ldap_connect($server, $port);

if (! $ldap_connection)
{
    echo '<p>LDAP SERVER CONNECTION FAILED</p>';
    exit;
}

// Help talking to AD
ldap_set_option($ldap_connection, LDAP_OPT_PROTOCOL_VERSION, 3);
ldap_set_option($ldap_connection, LDAP_OPT_REFERRALS, 0);

$ldap_bind = @ldap_bind($ldap_connection, $username.$domain, $password);

if (! $ldap_bind)
{
    echo '<p>LDAP BINDING FAILED</p>';
    exit;
}

// You can work now!!!

ldap_close($ldap_connection); 
```

**笔记：**

*   `php_ldap`应在 php.ini 中启用扩展。[扩展=php_ldap.dll]
*   [192.168.32.4]上面的IP地址可以换成[yourdomain.com]
*   如果您使用的是 Wamp，那么您可能会遇到奇怪的问题，只要记住在 1.9 版下一切正常，但在以上版本中则不行。

**参考：**

*   [Mozilla LDAP C SDK 程序员指南](http://www-archive.mozilla.org/directory/csdk-docs/filter.htm)
*   [LDAP 功能](http://www.php.net/manual/en/ref.ldap.php)

# javascript - 在页面模板上加载脚本

> ID：12258946
> 
> 赞同：0
> 
> 时间：2012-09-04T07:48:26.167
> 
> 标签：javascript, wordpress, header

我有一个 wordpress 支持的网站，我的标题包含在文件中`header.php`。在另一个页面上，我想运行一个脚本，该脚本仅在该页面上需要。

该脚本应加载在此页面的标题中，但仅限此页面。在 中包含脚本`header.php`会在其他每个页面上加载脚本。

我如何最好地将脚本包含在`page-pageslug.php`模板中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T07:58:26.390

在你`header.php`上面`wp_head();`，使用

```
if ( is_page( 'page-slug' ) ) {
    wp_register_script( 'your-script', get_bloginfo('template_url') . '/js/your-script.js' );
    wp_enqueue_script( 'your-script' );
} 
```

*`page-slug`*然后是您希望定位的页面的 slug。

**[`wp_enqueue_script()`](http://codex.wordpress.org/Function_Reference/wp_enqueue_script)**：

> **描述**
> 向 WordPress 生成的页面添加 JavaScript 的安全且推荐的方法是使用 wp_enqueue_script()。如果尚未包含该脚本，则此函数将包含该脚本，并安全地处理依赖关系。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:59:32.817

您将在 header.php 文件中包含以下代码

```
<?php 
if ( is_page_template('page-pageslug.php') ) {
   // add your script in here
}
?> 
```

这是来自 Codex 的参考 - [is_page_template](http://codex.wordpress.org/Function_Reference/is_page_template)

# android - 任何使用 Bump API 和测试的分步教程

> ID：12258950
> 
> 赞同：0
> 
> 时间：2012-09-04T07:48:33.060
> 
> 标签：android, android-emulator, bump

我正在尝试将 BUMP API 集成到我的应用程序中。他们网站中相同的文档还不够好。我已经下载了 Github 上提供的名为**BumpTest**的示例并获得了 API 密钥。我正在尝试模拟我的手机和模拟器之间的碰撞，它们是打开 GPS 的同一个 WIFI！。但是我在我的 logcat 中没有看到任何匹配/颠簸。请帮我！！

```
private final ServiceConnection connection = new ServiceConnection() {
    @Override
    public void onServiceConnected(ComponentName className, IBinder binder) {
        Log.i("BumpTest", "onServiceConnected");
        api = IBumpAPI.Stub.asInterface(binder);
        try {
            api.configure("MY KEY",
                          "Bump User");
        } catch (RemoteException e) {
            Log.w("BumpTest", e);
        }
        bump.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                try {
                    api.simulateBump();
                    sendBroadcast(new Intent(BumpAPIIntents.BUMPED));
                } catch (RemoteException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }

            }
        });
        Log.d("Bump Test", "Service connected");

    }

    @Override
    public void onServiceDisconnected(ComponentName className) {
        Log.d("Bump Test", "Service disconnected");
    }
};

private final BroadcastReceiver receiver = new BroadcastReceiver() {
    @Override
    public void onReceive(Context context, Intent intent) {
        final String action = intent.getAction();
        try {
            if (action.equals(BumpAPIIntents.DATA_RECEIVED)) {
                Log.i("Bump Test", "Received data from: " + api.userIDForChannelID(intent.getLongExtra("channelID", 0))); 
                Log.i("Bump Test", "Data: " + new String(intent.getByteArrayExtra("data")));
            } else if (action.equals(BumpAPIIntents.MATCHED)) {
                long channelID = intent.getLongExtra("proposedChannelID", 0); 
                Log.i("Bump Test", "Matched with: " + api.userIDForChannelID(channelID));
                api.confirm(channelID, true);
                Log.i("Bump Test", "Confirm sent");
            } else if (action.equals(BumpAPIIntents.CHANNEL_CONFIRMED)) {
                long channelID = intent.getLongExtra("channelID", 0);
                Log.i("Bump Test", "Channel confirmed with " + api.userIDForChannelID(channelID));
                api.send(channelID, "Hello, world!".getBytes());
            } else if (action.equals(BumpAPIIntents.NOT_MATCHED)) {
                Log.i("Bump Test", "Not matched.");
            } else if (action.equals(BumpAPIIntents.CONNECTED)) {
                Log.i("Bump Test", "Connected to Bump...");
                api.enableBumping();
            }
        } catch (RemoteException e) {}
    } 
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T09:25:36.127

这是我的错。我的 API 密钥错误，我得到了正确的，现在正在连接。但是我在 iPhone 中有一个类似的应用程序，它使用了与我的 Android 版本不配对的相同 API 密钥，错误消息是“未找到匹配项”。如果我们使用相同的 API 密钥，Bump API 根据他们的文档支持跨平台连接。感谢您在这方面的帮助。

# java - 使用 JaXB 进行最简单的验证

> ID：12258956
> 
> 赞同：3
> 
> 时间：2012-09-04T07:48:55.933
> 
> 标签：java, xml, validation, jaxb

我想用 JaXB 验证 xml 文档。

代码 ：

```
SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
Schema schema = factory.newSchema(new StreamSource(new File("D:/liferay-develop/workspace/cat_test/v2/STD_MP.xsd")));
Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();
jaxbUnmarshaller.setSchema(schema); 
```

现在，如果文档对架构无效，我想得到错误。在示例中可以看到人们为此创建了 EventHandler 类（例如[http://blog.bdoughan.com/2010/12/jaxb-and-marshalunmarshal-schema.html](http://blog.bdoughan.com/2010/12/jaxb-and-marshalunmarshal-schema.html)）。但也许存在更简单的方法来获得 conlose 和变量中的验证错误？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-04T10:15:41.497

该`ValidationEventHandler`方法是您如何处理验证事件。如果您希望尽量减少需要编写的代码量，您可以执行以下操作：

```
 jaxbUnmarshaller.setEventHandler(new ValidationEventHandler() {

        @Override
        public boolean handleEvent(ValidationEvent event) {
            System.out.println(event.getMessage());
            return true;
        }

    }); 
```

# join - 如何在pig中生成一定数量的元组？

> ID：12258960
> 
> 赞同：1
> 
> 时间：2012-09-04T07:49:17.450
> 
> 标签：join, apache-pig

我有以下数据集：

**A：**

```
x1 y z1
x2 y z2
x3 y z3
x43 y z33
x4 y2 z4
x5 y2 z5
x6 y2 z6
x7 y2 z7 
```

**乙：**

```
y 12
y2 25 
```

加载 A: LOAD '$input' USING PigStorage() AS (k:chararray, m:chararray, n:chararray); 加载 B: LOAD '$input2' USING PigStorage() AS (o:chararray, p:int);

我在 m 上加入 A，在 o 上加入 B。我想做的是为每个 o 只选择 x 个元组。因此，例如，如果 x 为 2，则结果为：

```
x1 y z1
x2 y z2
x4 y2 z4
x5 y2 z5 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T10:17:03.777

为此，您需要使用带有嵌套 LIMIT 的 GROUP BY、FOREACH，而不是 JOIN 或 COGROUP。请参阅 Pig 0.10 中的实现，我使用您输入的数据来获得指定的输出：

```
A = load '~/pig/data/subset_join_A.dat' as (k:chararray, m:chararray, n:chararray);
B = load '~/pig/data/subset_join_B.dat' as (o:chararray, p:int);
-- as join will be on m, we need to leave only 2 rows per a value in m.
group_A = group A by m;
top_A_x = foreach group_A {
    top = limit A 2; -- where x = 2
    generate flatten(top);
};

-- another way to do join, allows us to do left or right joins and checks
co_join = cogroup top_A_x by (m), B by (o);
-- filter out records from A that are not in B
filter_join = filter co_join by IsEmpty(B) == false;
result = foreach filter_join generate flatten(top_A_x); 
```

或者，您可以仅使用 COGROUP、FOREACH 和嵌套 LIMIT 来实现它：

```
A = load '~/pig/data/subset_join_A.dat' as (k:chararray, m:chararray, n:chararray);
B = load '~/pig/data/subset_join_B.dat' as (o:chararray, p:int);

co_join = cogroup A by (m), B by (o);
filter_join = filter co_join by IsEmpty(B) == false;
result = foreach filter_join {
    top = limit A 2;
--you can limit B as well
    generate flatten(top);
}; 
```

# javascript - 在Javascript中将文件的内容读取为字符串

> ID：12258961
> 
> 赞同：2
> 
> 时间：2012-09-04T07:49:19.153
> 
> 标签：javascript, file, internet-explorer, filereader

在我的网站上，我得到了一个带有输入的表单：

```
<input type="file" id="text"> 
```

我想使用 JavaScript 将文本文件的内容放入字符串变量中。我用过`File API`，但显然它不适用于 IE 或某些较旧的浏览器。我尝试使用`new ActiveXObject("Scripting.FileSystemObject")`，但某些安全原因不允许我在 IE 中使用它，因为它给了我一个错误：“自动化服务器无法创建对象”。从我读到的内容来看，在我看来，如果不更改浏览器中的一些安全选项，就无法使用它，这不是我希望我的用户做的事情。

那么是否有任何其他简单的方法可以通过仅使用 JavaScript 来读取文件内容并使其在旧版浏览器中工作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:51:15.740

大多数较旧的浏览器，没有。Javascript 有一些严格的安全限制。

如果您只关注 IE/Windows 并尝试编写一些内容供您自己的本地使用，那么 HTA 文件可以访问读写例程。

# c# - 方法和功能的区别？

> ID：12258964
> 
> 赞同：76
> 
> 时间：2012-09-04T07:49:28.083
> 
> 标签：c#

我是c#的初学者，对学习c#有浓厚的兴趣，但我很困惑。当我问某人函数和方法之间有什么区别时，他对我说没有区别，它们都具有相同的功能。
现在我很困惑，想从优秀的开发人员那里知道什么是方法和功能？

他们都一样吗？如果没有，那么我如何初始化每个？

这种初始化函数的方法正确吗？

```
public void UpdateLeaveStatus(EmployeeLeave objUpdateLeaveStatus) 
```

由于我是新手，请提供适当的帮助。

* * *

## 回答 #1

> 赞同：69
> 
> 时间：2012-09-04T07:57:10.977

当函数是类的一部分时，它被称为方法。

C# 是一种 OOP 语言，没有在类之外声明的函数，这就是为什么 C# 中的所有函数实际上都是方法的原因。

虽然，除了这种形式上的差异之外，它们是相同的......

* * *

## 回答 #2

> 赞同：56
> 
> 时间：2012-09-04T07:50:22.033

两者都是相同的，没有区别，只是 C# 中同一事物的不同术语。

[方法](http://en.wikipedia.org/wiki/Method_%28computer_programming%29)：

> 在面向对象的编程中，**方法**是与类关联的子例程（或过程或**函数）。**

关于面向对象的编程，使用术语“方法”，而不是函数。

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2012-12-26T07:09:10.040

在 C# 中，它们是可互换的（尽管方法是专有名词），因为如果不将方法合并到类中，就无法编写方法。如果它独立于一个类，那么它将是一个函数。方法是通过指定类操作的函数。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-09-04T07:51:53.973

c#中没有函数。有方法（典型方法`public void UpdateLeaveStatus(EmployeeLeave objUpdateLeaveStatus)`：）[链接到 msdn](http://msdn.microsoft.com/en-us/library/ms173114%28VS.80%29.aspx) 和仿函数 - 类型的变量`Func<>`

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-09-04T07:52:28.427

好吧，在某些编程语言中，它们被称为函数，而另一些则称为方法，事实是它们是同一回事。它只是表示引用数学函数的抽象形式：

```
f -> f(N:N). 
```

意味着它是一个具有自然数值的函数（只是一个例子）。因此，除了名称之外，它完全一样，代表一段代码，其中包含解决您的目的的指令。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-09-04T07:53:15.333

两者都是一样的，都是一个术语，意思是将一些代码封装到一个可以从其他地方调用的工作单元中。

从历史上看，“方法”是不返回值的东西，而“函数”是返回值的东西，可能存在细微的差别。在 C# 中，这将翻译为：

```
public void DoSomething() {} // method
public int DoSomethingAndReturnMeANumber(){} // function 
```

但实际上，我重申这两个概念确实没有区别。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2012-11-04T19:52:13.910

*从面向对象的编程概念*：

如果你有一个函数正在访问/改变你的类的字段，它就变成了方法。否则，它是一个函数。

如果您继续将 Java/C++ 类中的所有函数作为方法调用，这不会构成犯罪。原因是您直接/间接访问/改变类属性。那么为什么不是 Java/C++ 类中的所有函数都是方法呢？

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2012-09-04T08:20:30.637

具有结构化编程语言背景的程序员将其称为函数，而在 OOPS 中称为方法。

但两者没有任何区别。

在过去，方法没有返回值，而函数有。现在它们都可以互换使用。

# javascript - 我们可以禁用右键单击 HTML 中的锚标记吗

> ID：12258966
> 
> 赞同：6
> 
> 时间：2012-09-04T07:49:46.917
> 
> 标签：javascript, html, contextmenu

我有一个要求，右键单击网格中的文档名称会打开一个自定义的上下文菜单（使用 Smartgwt）。我必须实现超链接，所以我创建了一个锚标记（它调用一个 JSNI 方法，该方法又调用一个 GWT 方法，然后又调用一个小程序方法来打开文档并将其流式传输到服务器）。如果您不右键单击文档名称，一切正常并打开自定义上下文菜单。但是，当您单击文档名称时，会出现带有打开、在新选项卡中打开的默认链接菜单，并且由于 smartgwt 上下文菜单和此菜单之间的冲突，我的客户端控制台中会抛出一些 Javascript Null Pointer 异常。

现在有什么方法可以隐藏默认链接菜单（在锚标记上），这样即使有人单击文档名称，它也不会出现在我的网格中？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-04T08:15:22.717

通过将此添加到锚标记，您可以禁用右键单击`oncontextmenu="return false"`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-04T08:22:32.577

只是一些简单的例子来证明它是完全可行的：http: [//jsfiddle.net/3dLW3/6/](http://jsfiddle.net/3dLW3/6/) （Chrome 18）

# android - 安卓手机移动

> ID：12258971
> 
> 赞同：1
> 
> 时间：2012-09-04T07:50:05.553
> 
> 标签：android, gps

现在，我每 10 分钟通过以下方式从我的 android 手机获取 GPS 位置：

```
locationManager.requestLocationUpdates(provider, 400, 600000, this); 
```

当手机移动时，我希望更频繁地接收位置更新。

对于这个问题，我有两个问题：

*   如何确定手机是否在移动（我可以通过检查 2 个定位点之间的距离来做到这一点，但应该有更快的方法？）
*   是否有调用可以即时更改 minTime 参数（第三个：600000）的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:58:55.490

如果您没有获得最新的坐标，我想我可以建议您在此存储本地数据库中上次访问的坐标 取出保存在数据库中的坐标以及消息

```
"Person is moving "--
I know This is not your Answer But it can be a guess that mobile is moving 
```

# emacs - 如何处理 EMACS 粘贴级联

> ID：12258972
> 
> 赞同：0
> 
> 时间：2012-09-04T07:50:10.910
> 
> 标签：emacs

当我将某些内容粘贴到 EMACS 中时，例如“Ctrl+V”然后鼠标右键单击 EMACS 屏幕，我经常进入这个级联结果

```
|  Xxxxxxx |  Xxxxxxx |  Xxxxxxx |     Xxxxxxx |
    |    10    |    39    |       Xxxxxxx  |    -1.0000     |
        |    10    |    51    |       Xxxxxxx |  -100001.0000  |
            |    10    |    55    |       Xxxxxxx |   -1000.0000   |
                |    10    |   407    |       Xxxxxxx |  -10000.0000   |
                    |    10    |   717    |       Xxxxxxx |    -10.0000    | 
```

所以我必须将光标移动到每一行并按“=”对齐它们

```
|  Xxxxxxx |  Xxxxxxx |       Xxxxxxx |     Xxxxxxx |
|    10    |    39    |       Xxxxxxx |    -1.0000     |
|    10    |    51    |       Xxxxxxx |  -100001.0000  |
|    10    |    55    |       Xxxxxxx |   -1000.0000   | 
```

应该有更快的方法，不是吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-04T18:21:11.220

我的猜测是您将此文本插入到在终端仿真器中运行的 Emacs 中，而不是作为 X11/GUI 应用程序。因此，您插入的文本在 Emacs 中看起来就像您在键盘上键入一样，因此 Emacs 以 LF 字符的形式接收所有换行符，这些字符在 Emacs 用语中也称为 ASCII 字符`C-j`，它是绑定的默认为`newline-and-indent`. `(global-set-key [?\C-j] 'newline)`因此，您可以使用或切换到将 Emacs 作为 GUI 应用程序运行来规避这种烦人的效果。

# sql - 在 fk 表中添加与未链接值的关系

> ID：12258973
> 
> 赞同：2
> 
> 时间：2012-09-04T07:50:18.067
> 
> 标签：sql, sql-server-2008

我正在尝试在我的数据库中的 Appointments 表和 Centers 表之间建立关系。

该系统的一个怪癖是，如果用户区域中没有记录中心，它仍然必须允许记录约会。在这种情况下，链接`centreid`将具有 0 值。

这意味着我收到以下错误：

> ALTER TABLE 语句与 FOREIGN KEY 约束“fk_appointments_centres”冲突。

我用来创建关系的代码如下：

```
alter table appointments
add constraint fk_appointments_centres
foreign key (centreid)
references centres(centreid)
on delete cascade
go 
```

这是非常重要的，因为客户想要从系统中删除中心的功能，在这种情况下，为了正确维护数据，如果中心被删除，它还​​应该删除中心的约会。

理想情况下，我希望这种关系能够奏效，但由于 Centers 表上的 centerid 列具有`IDENTITY_INSERT ON`，我认为这不会奏效。

我可以想到其他 2 个选项，但它们并不理想，所以如果可能的话，我想让它工作。

谁能帮我吗？

**编辑**
我刚刚在 MSDN 上看到有人建议不要验证现有数据。这似乎可行，但这将如何影响未来的数据输入？[参考这里](http://social.msdn.microsoft.com/Forums/en-ZA/sqldatabaseengine/thread/711614c8-e67d-4137-8f46-3187ac0ce363)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:56:31.360

我认为将 FK 设置为可能具有不存在的参考 ID 的列上的记录不是一个好主意！（你有一个 ID 为 0 的中心到哪里参考吗？）

1：您应该尝试使用 NULL 而不是使用 0。因为那样F​​K就可以工作了。

2：使用可以支持此引用的特殊 ID（如 ID）创建“管理员”记录

3：在最后一种情况下，您可以尝试在该表上使用 Delete 触发器以“手动”进行操作，但我不推荐该解决方案。

# php - 这需要如何解决 JSON？

> ID：12258975
> 
> 赞同：3
> 
> 时间：2012-09-04T07:50:23.217
> 
> 标签：php, javascript, jquery, json, joomla

我遇到了一个需要你帮助的小问题。我在 Joomla 模块中进行编码，但这对于所有对 Joomla 不友好的人来说并不是一个真正的问题。

在 Joomla 的模块中，将有一个名为`tmpl`（`template`我认为简称为）的文件夹，其中包含一个小文件`default.php`，这是视图将呈现给浏览器的位置。这是我正在处理的文件的大致一部分

```
!DOCTYPE HTML
<?php 
// perform some initialization
?>

<script language="javascript">
$(document).ready(function()
{
    var obj=["o1","o2","o3","o4",...,"o_n"];
    //do something with range obj
});

</script>

<div>
    <div class="content">
        <?php
            if(is_set($array))
            {
                foreach($array as $key=>$val):
            ?>
                //GET $val->id
            <?php
                //display $val->$content
            }
        ?>
    </div>
</div> 
```

在`foreach`循环中，我想获取其中的所有积分 id，它们将作为字符串`$val`反馈到上面的 javascript变量中。`obj`我需要这个自动完成；当页面加载时，`obj`in javascript 被初始化，当我`$val`在数据库中添加一个新项目时，这也必须自动完成（我不必打开这个默认页面来编辑`obj`）。

您是否了解我现在遇到的问题，请询问并回复。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-04T07:58:52.090

一种解决方案是在 PHP 中构建要传递给 JS 的数组，然后`json_encode`将其按原样传递给 JS。这比在 JS 中构建它，然后通过生成的 JS 代码扩展它更容易。例如看这个：

```
!DOCTYPE HTML
<?php 
// perform some initialization
?>

<?php
$obj = array("o1","o2","o3","o4",...,"o_n");
if(is_set($array)) {
    foreach($array as $key=>$val) {
        $obj[] = $val->id;
    }
}
?>

<script language="javascript">
$(document).ready(function()
{
    var obj=<?php echo json_encode($obj); ?>;
    //do something with range obj
});

</script> 
```

另一种方法是使用 AJAX 调用来填充此数组，但这并不总是最好的方法，因此我将由您决定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T07:59:58.690

渲染页面时，将 javascript 组成字符串并输出。因此，当您的页面被加载时（在您已经构建了数组对象之后），它将作为 JS 执行它。

希望这可以帮助

# algorithm - 基于图块的游戏中描述攻击范围的算法

> ID：12258977
> 
> 赞同：1
> 
> 时间：2012-09-04T07:50:48.600
> 
> 标签：algorithm

我们目前正在开发基于图块和回合制的游戏。在我们的游戏中，有些角色可以从远处攻击他人。然而，攻击范围似乎有点难以用算法来描述。如下图所示，每个数字表示 tile '0' 与其自身之间的范围。

```
5 4 3 3 3 4 5 
4 3 2 2 2 3 4
3 2 1 1 1 2 3
3 2 1 0 1 2 3
3 2 1 1 1 2 3
4 3 2 2 2 3 4
5 4 3 3 3 4 5 
```

是否可以实现这样的功能？

`int GetRange( const Grid & a, const Grid & b );`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T07:56:42.233

只需要处理 3 种可能的情况：

*   当点在同一水平线上时，
*   在同一条垂直线上，
*   所有其他情况

在 C++ 中：

```
int GetRange( const Grid & a, const Grid & b ) {
  int x=a.x-b.x, y=a.y-b.y; // get change in x & y coordinates
  if (x==0) return abs(y);
  if (y==0) return abs(x);
  else return (abs(x)+abs(y)-1);
} 
```

# python - Python - for 循环“过早”退出

> ID：12258983
> 
> 赞同：2
> 
> 时间：2012-09-04T07:51:10.223
> 
> 标签：python, for-loop, sqlite

编辑：回答：我需要为“einlesen()”函数创建另一个光标。

这是我第一次在 Python 中使用 SQLite3，所以请原谅我的（也许）可怕的语法；）我正在尝试构建一种 DVD 数据库，它直接从亚马逊获取必要的信息（演员等）。整个程序基于 SQLite3 和 Python 2.7。

一切正常，除了我的计划“更新”功能。

```
def update():
    print 'Update Datenbank....bitte warten....'
    cursor.execute('''SELECT titel, amazon, erhalten, ausgeliehen FROM movies''')
    antwort = 'update'
    for row in cursor:
        stelle = row[1]
        ausg = row[2]
        erh = row[3]
        einlesen(stelle, ausg, erh, antwort)
        print row[0]
    raw_input('Update komplett!')
    menu() 
```

问题是，循环在一次迭代后退出。

输出如下所示：

```
Update Datenbank....bitte warten....
#a few seconds pass
The Day After Tommorrow
Update komplett! 
```

所以我明白了，循环和函数调用是正确的（数据库得到正确更新 - 由函数'einlesen（）'完成），但有更多的迭代，而不仅仅是一个......所以我的问题是：出了什么问题? ;)

这是（缩写的）“einlesen()”函数：

```
def einlesen(asin, ausg, erh, antwort):
    d = {}
    infos = urllib.urlopen('http://www.amazon.de/dp/'+asin).read()
    titel = infos[infos.find('Kaufen Sie')+11:infos.find('nstig ein')-3]
    art = 'dvd'
    infos = remove_html_tags(infos)
    infos = infos[infos.find('Darsteller: '):infos.find('Durchschnittliche')]
    infos = infos.split('\n')
    for x in range(200):
        try:
            infos.remove('')
        except:
            break
    for element in infos:
            d[element.split(': ')[0].lstrip()] = element.split(': ')[1]

#(excluded the whole Info-Scraping process)

    if antwort == 'update':
        movie = dauer, art, regie, jahr, fsk, darsteller, titel
        sql = ('''UPDATE movies SET laufzeit = ?, art = ?, regie = ?, jahr = ?, fsk =     ?, darsteller = ? WHERE titel = ?''')
        cursor.execute(sql, movie)
        connection.commit()
    else:
        menu() 
```

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-04T07:55:00.837

您执行了`UPDATE`一会儿，您仍在循环`SELECT`. 这会丢弃第一个的结果`cursor.execute()`。

使用第二个光标。

**编辑：**

```
cur1 = con.cursor()
cur2 = con.cursor()

cur1.execute("SELECT ...")
for row in cur1:
    cur2.execute("UPDATE ...") 
```

# excel - 运行时错误 9

> ID：12258986
> 
> 赞同：0
> 
> 时间：2012-09-04T07:51:17.750
> 
> 标签：excel, vba, runtime-error

我正在用 VBA 编写宏。这个宏工作正常，直到我改变了顺序，现在我被显示为“运行时错误 9”。在互联网上进行广泛搜索后，我一头雾水，我检查了工作表名称是否相同，工作表仍然存在，并确保我引用了正确的工作簿。谁能告诉我为什么我会看到这个错误？

```
Sub CopyStuff()

Sheets("DR1 -TC-001").Select
Range("C2:P23").Select
 'this is the cell range
 Selection.Copy

 With ActiveWorkbook Sheets.Add
 Range("C2:P23").Select
 Selection.Paste = wkb2

End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T09:17:39.557

由于缺少**End With和一些句点，您的代码在****With**语句上运行出错。

 **尝试对您的代码进行这种改编。

```
Sub CopyStuff()

 Workbooks("With_data.xlsx").Activate
  'Activate the workbook that contains the data you want to copy    
 Sheets("DR1 -TC-001").Range("C2:P23").Copy
  'Copy a range

 ActiveWindow.ActivatePrevious
  'Revert to the previous new workbook

 With ActiveWorkbook
    .Sheets.Add
    .ActiveSheet.Range("C2:P23").PasteSpecial Paste:=xlPasteAll
 End With
  'Add a sheet and paste the copied range

 Application.CutCopyMode = False
  'Clear the clipboard

End Sub 
```**

# android - 应用程序未在 HTC 愿望上运行

> ID：12258987
> 
> 赞同：0
> 
> 时间：2012-09-04T07:51:19.303
> 
> 标签：android

我制作了一个在三星 Galaxy S1、Galaxy S2 和模拟器上运行良好的安卓应用。我将它的 apk 发送给拥有 HTC 渴望设备的人，当他尝试安装该应用程序时，他说他遇到了错误：

```
There was an error parsing the package. 
```

因为我自己没有 HTC，所以我尝试设置一个模拟器，其规格尽可能接近 HTC 渴望设备的规格，我从这里得到：[HTC Desire 的正确 Eclipse/Android 设备配置](https://stackoverflow.com/questions/5703124/the-correct-eclipse-android-device-configuration-for-htc-desire)
应用程序使用这些设置在我的模拟器上运行良好，但没有安装在实际设备上。有什么想法会导致这种情况吗？我如何找到问题？

如果相关的话，这是 Manifest 的开头：

```
<?xml version="1.0" encoding="utf-8"?>
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
  package="memo.ori.friend"
  android:versionCode="1"
  android:versionName="1.0">
<uses-sdk android:minSdkVersion="8" />
<uses-permission android:name="android.permission.INTERNET"></uses-permission>

<application android:icon="@drawable/icon" android:label="@string/app_name"
android:debuggable="true"> 
```

HTC希望android版本是2.2，这是我创建这个项目时选择的。检查所有选中的手机以允许安装来自未知来源的应用程序。这个应用程序中有大约 5 个可绘制对象，我已将它们放入 res/drawable-hdpi 中。我想也许 HTC 正在 res/drawable-mdpi 上寻找它们，所以我也将它们复制到那里，但得到了相同的结果。

感谢任何帮助，我会为您提供您认为相关的任何其他信息，我不确定在哪里看：/

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T08:13:29.827

我很确定问题在于 HTC Desire 上的 Android 版本低于 API 级别 8。Desire 最初是随 Android 2.1 一起提供的，据我所知，它是 API 级别 7。

几天前，我在尝试在三星 Galaxy S1 上安装我的一个应用程序时发现了同样的错误。我的应用程序是为 API 级别 10 设计的，我发现三星 Galaxy S1 从未在 Andoid 2.2 上更新和运行。

我猜你的问题类似，Desire 上的 Android 版本太低了。

更新：

由于小研究导致了这一点：正如我在上面所写的那样，错误可能是由于手机上的低 API 级别（根据安装的 Android 版本，您可以在此处找到带有 Android 版本的表 - API 级别）引起的。但该错误也可能由以下原因引起： *.apk 文件在自动创建后重命名，在某些设备上，当您从 SD 卡安装它时似乎会发生这种情况。尝试直接从邮件附件安装时，还会报告一些问题 - 导致此错误的原因。

因此，如果您遇到此错误，请确保： 1\. 确保手机上的 Android 版本足够高 2\. 创建后不要重命名 apk-File 3\. 不要尝试直接从 Mail 安装-附件4.不要从SD卡安装，从实习手机内存试试

如果这一切都没有帮助，那么实际上是时候查看 Manifest 了，因为它是一个解析错误，但这不能成为您的解决方案，因为它在其他一些设备上运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T08:09:30.037

您的清单中的活动在哪里运行？Manifest 应该有一个 Start Activity 来启动它 Like

```
<uses-sdk android:targetSdkVersion="7"/>
    <application android:icon="@drawable/icon" android:label="@string/app_name">
        <activity android:name=".MainActivity"
                  android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application> 
```

# java - Java 对象初始化在一个类中多次还是一次？

> ID：12258990
> 
> 赞同：2
> 
> 时间：2012-09-04T07:51:36.423
> 
> 标签：java, class, instance

我想知道关于类初始化的最佳实践是什么，

我的意思是我应该`Customer c = new Customer();`在顶层初始化一个类，然后在类的任何地方使用它：

```
Tools tools = new Tools();
    public boolean doCIdCheck(int cId) {
        final Iterator<Customer> cursor = tools.Customers.iterator();
        while (cursor.hasNext()) {
            if (cursor.next().getCIdCheck(cId)) {
                return true;
            }
        }
        return false;
    } 
```

或者我应该`new Customer().checkCId();`在需要的地方使用它：

```
 public boolean doCIdCheck(int cId) {
        final Iterator<Customer> cursor = new Tools().Customers.iterator();
        while (cursor.hasNext()) {
            if (cursor.next().getCIdCheck(cId)) {
                return true;
            }
        }
        return false;
    } 
```

或者最好让每个函数/方法都有自己的类实例：

```
 public boolean doCIdCheck(int cId) {
        Tools tools = new Tools();
        final Iterator<Customer> cursor = tools.Customers.iterator();
        while (cursor.hasNext()) {
            if (cursor.next().getCIdCheck(cId)) {
                return true;
            }
        }
        return false;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-04T08:21:45.167

从您的示例看来，最好的方法是声明 as 的共享方法和成员，`Tools`而`static`不是创建实例，然后将它们称为

```
final Iterator<Customer> cursor = Tools.Customers.iterator(); 
```

这当然假设您不存储`Tools`可能导致冲突的数据，在这种情况下，最好创建多个实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-04T08:39:28.180

考虑到您在类的每个方法中都需要该 Object 并仅考虑内存管理和处理器消耗，然后：

1.选项1（保持全局变量随处可访问）：如果您有大量这些对象，内存使用量将增加，因为您将为每个工具实例存储一个额外的客户对象。这将使您获得处理器速度，因为您不必为每种方法创建和销毁客户对象。

2.选项2：（保持客户对象只能在方法内访问）：内存使用量将减少，您的应用程序将变得更加处理器密集，因为您将在每次访问方法时创建和销毁对象。

IMO，如果您实例化大量工具对象，则选择选项 2，否则如果只有少量工具对象，则选择选项 1

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-04T07:56:14.253

这取决于您的要求。例如，如果您不希望方法 doCIdCheck 之外的类工具，则首选第 3 个选项。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-04T08:30:56.483

您可以覆盖[equals()](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Object.html#equals%28java.lang.Object%29)方法来检查 in 上的相等`cid`性`Customer`。[例子](http://www.artima.com/lejava/articles/equality.html)

[然后你可以使用contains()](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Collection.html#contains%28java.lang.Object%29)`Collection`方法来代替那些循环

所以你的 doCIdCheck 方法看起来像

```
public boolean doCIdCheck(Customer cId) {
    Tools tools = new Tools();// I don't know if you are initializing list
                                // in Tools constructor or not but it should
                                // be initialized in constructor or in declaration
    return tools.customers.contains(cId);
} 
```

# .net - WCF 4.5、WebAPI 还是两者的混合？

> ID：12258999
> 
> 赞同：1
> 
> 时间：2012-09-04T07:51:48.650
> 
> 标签：.net, wcf, wcf-data-services, wcf-security, wcf-web-api

这是我的场景：

我正在使用 .NET 4.5 并创建一个 WCF 服务，该服务将公开敏感数据并需要用户名/密码才能访问。现在，我希望该服务能够返回 JSONP，因为它将是跨域的（这是我遇到问题的地方）。

据我所知，我的解决方案是：

客户端 -> WebAPI（作为客户端的代理，由 jQuery 调用，可以访问客户端会话状态）-> WCF 数据服务 -> 数据库。

使用这种结构，WebAPI 可以安全地发送用户名/密码。所有这些都将通过 SSL。

这对我的场景来说是正确的方法吗？我已经尝试过 Client -> WCF Data Service -> Database 方法，但如果不走自定义 Oauth 路由，我根本无法通过 jQuery 调用来保护它，我真的不想这样做。

任何建议将不胜感激。