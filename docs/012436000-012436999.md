# StackOverflow 问答 12436000-12436999

# java - 如何在 jsf-version 1.1 中合并 jsf h:dataTable 中的标题列？

> ID：12436007
> 
> 赞同：-1
> 
> 时间：2012-09-15T09:04:07.947
> 
> 标签：java, jsf, jakarta-ee, jsf-1.2

我必须合并标题的列。我有两行标题要显示在 jsf dataTable 中。所以我在dataTable的开头使用了一些这种东西。这很好用。但这会使 t:column 属性上的渲染条件被忽略。（所有列与渲染属性无关）。我尝试将渲染属性放在 t:column 中的 h:outputText 标记上，但徒劳无功。

```
<t:dataTable var="myvo" value=...............................>
<f:facet name="header">
<t:panelGroup><f:verbatim escape="false"> 
  <TR>   
<TH colspan="1" align="center" class="tableHeader">Title</TH>   
<TH colspan="1" align="center" class="tableHeader">myheader1</TH>   
<TH colspan="1" align="center" class="tableHeader">myheader2</TH>   
 </TR>   
</f:verbatim>
</t:panelGroup>   
</f:facet> 

<t:column rendered="#{!myvo.myflag}">
<f:facet name="header"><h:outputText value="Internal Header1"/></f:facet>
<h:outputText value="#{myvo.myContent1}" styleClass="BodyFont" /></t:column>
<t:column rendered="#{myvo.myflag}">
<f:facet name="header"><h:outputText value="Internal Header2"/></f:facet>
<h:outputText value="#{myvo.myContent2}" styleClass="BodyFont" /></t:column>
</t:column>
<t:column rendered="#{!myvo.myflag}">
<f:facet name="header"><h:outputText value="Internal Header3"/></f:facet>
<h:outputText value="#{myvo.myContent3}" styleClass="BodyFont" /></t:column>
</t:column>
<t:column rendered="#{myvo.myflag}">
<f:facet name="header"><h:outputText value="Internal Header4"/></f:facet>
<h:outputText value="#{myvo.myContent4}" styleClass="BodyFont" /></t:column>
</t:column>
<t:column rendered="#{!myvo.myflag}">
<f:facet name="header"><h:outputText value="Internal Header5"/></f:facet>
<h:outputText value="#{myvo.myContent5}" styleClass="BodyFont" /></t:column>
</t:column> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T16:54:44.993

我得到了错误。我在渲染条件下使用的变量是错误的（与我的 Java Bean 类中定义的变量不同）。但我不明白为什么它没有在 jsp 页面上抛出任何错误。

# java - 在java中使用盒子布局

> ID：12436008
> 
> 赞同：0
> 
> 时间：2012-09-15T09:04:16.350
> 
> 标签：java, swing, layout-manager, boxlayout

以下代码方便地创建了一个框布局，但我遇到的问题是文本字段占据了整行。这应该假定它被指定的参数长度。

```
 public void makeControlpanel(){
    JPanel controlpanel = new JPanel();
     //SET PANEL LAYOUT MANAGERS
    controlpanel.setLayout(new BoxLayout(controlpanel,BoxLayout.PAGE_AXIS));

    controlpanel.setBorder(BorderFactory.createTitledBorder("Create Control file")); 

    filenameC   = new JLabel("Filename");
    filenameBad   = new JLabel("Bad Filename");
    filenameDis = new JLabel("Discard Filename");

    // fields
    fileField = new JTextField(1);
    badfileField = new JTextField(7);
    discardfileField = new JTextField(7); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T09:39:38.090

布局管理器决定组件的大小。您可以使用选项来定义组件到布局管理器的边界

```
comp.setMinimumSize(new Dimension(w, h));
comp.setPreferredSize(new Dimension(w, h));
comp.setMaximumSize(new Dimension(w, h)); 
```

当你给`setPreferredSize`布局管理器时会**尝试**给那个尺寸。GridBagLayout 是 msot 灵活布局，您几乎可以实现所需的任何布局。

定义的参数`length`仅定义您可以放在文本字段中的字符。

# asp.net - 将项目从 asp.net 网站发布到 craigslist

> ID：12436013
> 
> 赞同：2
> 
> 时间：2012-09-15T09:04:36.283
> 
> 标签：asp.net, api, posting, craigslist

这是发布到 craigslist 的示例。[http://www.craigslist.org/about/bulk_posting_interface](http://www.craigslist.org/about/bulk_posting_interface) perl 语言。

任何 craigslist 在 asp.net 中发布示例？

我将 perl 示例（来自上面的链接）转换为 asp.net，但仍然产生错误，错误是“服务器违反协议。Section=ResponseStatusLine”任何人都对此有所了解。在此先感谢这是我的代码，

```
string xml = @"<?xml version='1.0'?><rdf:RDF xmlns='http://purl.org/rss/1.0/'  xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns#' xmlns:cl='http://www.craigslist.org/about/cl-bulk-ns/1.0'> <channel><items><rdf:li rdf:resource='NYCBrokerHousingSample1'/><rdf:li rdf:resource='NYCBrokerHousingSample2'/> </items> <cl:auth username='fawad_ashfaq@hotmail.com' password='*******' accountID='14'/>  </channel> <item rdf:about='NYCBrokerHousingSample1'> <cl:category>fee</cl:category>     <cl:area>nyc</cl:area>  <cl:subarea>mnh</cl:subarea> <cl:neighborhood>Upper West Side</cl:neighborhood> <cl:housingInfo price='1450' bedrooms='0'                     sqft='600'/> <cl:replyEmail  privacy='C'>bulkuser@bulkposterz.net</cl:replyEmail> <cl:brokerInfo companyName='Joe Sample and Associates' feeDisclosure='fee disclosure here' /> <title>Spacious Sunny Studio in Upper West  Side</title> <description><![CDATA[  posting body here ]]></description> </item> </rdf:RDF>";    

    string BASE_URL = "https://post.craigslist.org/bulk-rss/post";
      HttpPost(BASE_URL, xml ); Private static string HttpPost(string url, string postData)
{
    HttpWebRequest request = null;
    Uri uri = new Uri(url);
    request = (HttpWebRequest)WebRequest.Create(uri);
    request.Method = "POST";
    request.ContentType = "application/x-www-form-urlencoded";
    request.ContentLength = postData.Length;
    using (Stream writeStream = request.GetRequestStream())
    {
        UTF8Encoding encoding = new UTF8Encoding();
        byte[] bytes = encoding.GetBytes(postData);
        writeStream.Write(bytes, 0, bytes.Length);
    }
    string result = string.Empty;

    request.ProtocolVersion = System.Net.HttpVersion.Version10;
    request.KeepAlive = false;
    try
    {
        using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())
        {
            using (Stream responseStream = response.GetResponseStream())
            {
                using (System.IO.StreamReader readStream = new System.IO.StreamReader(responseStream, Encoding.UTF8))
                {
                    result = readStream.ReadToEnd();
                }
            }
        }
    }
    catch (Exception exp)
    {
       // MessageBox.Show(exp.Message);
    }
    return result;

} // end HttpPost 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T11:12:27.020

您可以使用 Fiddle2(windows) 或 Charles(os x) 来捕获 http 请求和响应，比较 perl 示例和 asp.net 示例之间的差异，然后您可能会发现“错误”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-04T19:56:34.410

我通过添加解决了这个问题

```
request.ProtocolVersion = System.Net.HttpVersion.Version10; 
```

# php - 在php表单提交上发送jQuery数组

> ID：12436015
> 
> 赞同：0
> 
> 时间：2012-09-15T09:05:02.623
> 
> 标签：php, jquery

现在我正在使用 jquery 更新 user_list 列表并使用 Ajax 提交表单数据

现在我想像普通表单一样提交该表单

这是我无法通过表单传递 JQuery 更新的 user_list 的问题吗？

有没有办法做到这一点？

我试过的

```
<script>

var user_names=[];

function check_selected(id){

    user_names.push(id);

        $("#username").val(user_name);

}
</script> 
```

其中用户名是一个表单字段，如

```
<input type ="hidden" val = "" id="username" name ="username"> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T09:12:57.963

`val`不是`<input />`元素的有效属性。将其更改为`value`

```
<input type="hidden" value="" id="username" name="username" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T09:12:55.623

试试这个

```
<script>

var user_names=[];

function check_selected(id){

    user_names.push(id);

        $("#username").val(user_names.join(","));

}
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T09:17:41.837

我不确定这是否有帮助，但您使用的变量可能尚未初始化

```
$("#username").val(user_name); 
```

应该

```
$("#username").val(user_names);    //missing s 
```

此外，如果您在向服务器发送数组之后，并且服务器是 php，我建议在字段名称的末尾添加 [] 方括号，这是发送列表的一种干净的方式，服务器可以构建数组，您可以将其作为列表访问

```
 $_POST['list_name'][index] 
```

# android - 在 Android 上将 Adwhirl 与 Cordova 2.0 集成

> ID：12436016
> 
> 赞同：4
> 
> 时间：2012-09-15T09:05:04.863
> 
> 标签：android, cordova, adwhirl

我已经在整个网络上进行了搜索，并且我已经尝试了一周的一切，但我无法让 AdWhirl 在 Android 上使用 Cordova/Phonegap 2.0 版。我按照 adwhirl 的说明，我尝试了一切，但它没有用。我让它与 Cordova 1.7 一起使用，但似乎我用于该项目的那段代码不再适用于 Cordova 2.0。所以我陷入了困境。有人可以告诉我如何正确地将 Adwhirl 与 Cordova 2.0 集成安卓？我希望有人可以在这里分享一个 4 或 5 行的解决方案。

# android - eclipse - 从 android sdk 开始

> ID：12436019
> 
> 赞同：1
> 
> 时间：2012-09-15T09:06:36.133
> 
> 标签：android, eclipse

我想开始为 android 编程。 **我有什么：** -Windows 7 -Eclipse Classic 4.2 -下载了所有需要的文件 - [http://developer.android.com/sdk/installing/adding-packages.html](http://developer.android.com/sdk/installing/adding-packages.html) -ADT 插件

我想安装新的 ADT 插件.. 起初我尝试从[http://dl-ssl.google.com/android/eclipse](http://dl-ssl.google.com/android/eclipse)下载它，我添加了它，但如果我选择它，只有“待定..”和什么都没有加载..（也许互联网连接？我在等待它写道后在首选项中选择了本机连接：无法连接到存储库[http://dl-ssl.google.com/android/eclipse/content.xml](http://dl-ssl.google.com/android/eclipse/content.xml) org.eclipse。 equinox.p2.core.ProvidesException )

这就是我下载 ADT 插件的原因。因此，如果我选择下载的 ADT 插件 - 它加载的内容 - 开发人员工具和 ndk 插件，那么我选择全部并单击下一步。它加载并写入：

> “无法完成安装，因为找不到一个或多个必需项。正在安装的软件：Android 开发工具 20.0.3.v201208082019-427395 (com.android.ide.eclipse.adt.feature.group 20.0.3.v201208082019- 427395) 缺少要求：Android 开发工具 20.0.3.v201208082019-427395 (com.android.ide.eclipse.adt.feature.group 20.0.3.v201208082019-427395) 需要 'org.eclipse.wst.sse.core 0.0。 0' 但找不到”
> 
> 需要'org.eclipse.wst.sse.core 0.0.0 这个问题在这里显示：http: [//developer.android.com/resources/faq/troubleshooting.html#installeclipsecomponents](http://developer.android.com/resources/faq/troubleshooting.html#installeclipsecomponents) 但只有3.3和3.4版本的解决方案（无论如何我有 4.2) 但我试过了 - 我寻找更新但没有找到

我真的不知道哪里有问题..感谢您的任何回答。（对不起我的英语不好）

我会将 1 欧元发送给可以解决我的问题的人；）（我认为所有问题都与互联网连接有关，但我无法设置它..）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-16T12:45:54.883

检查此 [ADT 需要 'org.eclipse.wst.sse.core 0.0.0' 但找不到](https://stackoverflow.com/questions/4249695/adt-requires-org-eclipse-wst-sse-core-0-0-0-but-it-could-not-be-found)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-23T15:35:42.670

As described in solution [here](https://stackoverflow.com/a/4641507/304270) u need to add repository address for **updating Eclipse** as well because ADT plugin requires some of Eclipse components which might not exist in version u downloaded :)

Links for updating Juno Eclipse is [http://download.eclipse.org/releases/juno](http://download.eclipse.org/releases/juno)

Be sure that **"Contact all update sites during install.."** option is checked..

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-31T04:16:35.530

Try the following: 1) Run eclipse as administrator 2) Make sure you have the following urls included as "Available Software Sites" (a) for Eclipse juno, "http://download.eclipse.org/releases/juno/" (b) "http://download.eclipse.org/eclipse/updates/4.2" (c) "https://dl-ssl.google.com/android/eclipse/"

Hope this helps.

# android - 关于线程和延迟时间

> ID：12436022
> 
> 赞同：1
> 
> 时间：2012-09-15T09:07:01.990
> 
> 标签：android, multithreading, delay

我做了这个小代码：

```
public class Game1Activity extends Activity {

/** Called when the activity is first created. */
private final Handler handler = new Handler();  
private final Runnable run = new Runnable() 
{
    public void run(){
        update();
    }
};

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    update();
}

public void update(){
    try 
    {
        Log.i("update thread", "updated");
    }
    catch (Exception  e)
    {
        Log.i("update thread", "catched an exception!");
    }
    finally 
    {
        handler.postDelayed(run, 33);
    }
  }
} 
```

如您所见，除了它在日志聊天中写入更新，**每 33 毫秒 (30 fps)**没有什么特别之处。

这是我的问题，如果您可以从日志聊天中看到：

```
09-15 09:01:05.955: I/update thread(423): updated
09-15 09:01:06.025: I/update thread(423): updated
09-15 09:01:06.097: I/update thread(423): updated
09-15 09:01:06.166: I/update thread(423): updated
09-15 09:01:06.236: I/update thread(423): updated
09-15 09:01:06.305: I/update thread(423): updated
09-15 09:01:06.374: I/update thread(423): updated
09-15 09:01:06.444: I/update thread(423): updated
09-15 09:01:06.513: I/update thread(423): updated 
```

线程大约每 70 毫秒运行一次，是预期时间的两倍！为什么会这样？我的线程是最基本和最简单的，我怀疑是否有什么可以延迟它

有没有更好的方法让它完全按照预期进行更新？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T09:12:43.740

处理器需要为线程切换内容。33毫秒有点低。

如果您使用 300 毫秒，这是一个可接受的值

```
handler.postDelayed(); 
```

如果您想要 30 fps，请尝试延迟 30 毫秒，而不是尝试 1 毫秒。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T13:40:39.030

最近我在我的软件代码部分使用了这个代码：

```
this.timer.scheduleAtFixedRate(new TimerTask() {
   public void run() {
      //do something here: probably update();
   }
}, 0L, this.INTERVAL); 
```

它应该是相同的延迟。

编辑：

```
import java.util.Timer;
import java.util.TimerTask; 
```

...

```
private Timer timer = new Timer(); 
```

shedule 文档在[这里](http://developer.android.com/reference/java/util/Timer.html#scheduleAtFixedRate%28java.util.TimerTask,%20long,%20long%29)。与其他调度方法相比，这应该关注何时调度，但我忘记了我在哪里读到的。我希望其中一种方法对您有所帮助。

# php - LEFT JOIN 两个具有相同列名的表并用 PHP 打印它们

> ID：12436032
> 
> 赞同：0
> 
> 时间：2012-09-15T09:08:54.397
> 
> 标签：php, mysql, join

我的 MySQL 数据库中有两个表：

```
USERS ('id_user' - 'id_client' -> the same as the id in CLIENTS)
CLIENTS ('id_client' - 'name' etc.) 
```

我想打印所有客户和各自的用户。这是我的查询：

```
SELECT * FROM clients AS c LEFT JOIN users AS u ON c.id_client = u.id_client 
```

似乎没问题，但是当我尝试`id_client`从 table打印 the 时遇到了麻烦`clients`。如何使用 PHP 打印它们？看来他们是空的......我的查询错了吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T09:11:36.907

尝试，

需要 GROUP BY 或 DISTINCT

```
 SELECT * FROM clients AS c LEFT JOIN users AS u ON c.id_client = u.id_client GROUP BY c.id_client 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T09:15:05.683

比这更简单，只需执行以下操作：

```
SELECT c.*, u.name FROM clients AS c LEFT JOIN users AS u ON c.id_client = u.id_client 
```

这将从表 c 中选择所有内容，并且仅从表 u 中选择名称。您遇到的问题是您正在从两个表中选择 id_client，这不是必需的，并且在尝试使用 php.ini 引用它时会导致混淆。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T09:45:21.607

由于您在两个表中都有相同名称的字段（“id_client”），因此您必须指定要打印的字段。

像这样：

```
SELECT u.id_client, c.id_client, ... FROM clients AS c LEFT JOIN users AS u ON c.id_client = u.id_client 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T09:17:40.613

选择 c。*,u。*FROM clients c LEFT external JOIN users u ON c.id_client = u.id_client

# c++ - 运行程序时终端出现奇数符号

> ID：12436033
> 
> 赞同：0
> 
> 时间：2012-09-15T09:08:56.840
> 
> 标签：c++, io, symbols

该程序的重​​点是从文件中读取指令列表。`\t`在第一次通过时，我只是在他们面前得到最左边的命令（唯一没有 a 的命令）。我已经设法做到了，但是我遇到的问题是，在我测试我的代码以查看是否正确复制了 char 数组时，我的输出左侧出现了非常奇怪的字符.

这是我正在阅读的原始文件：`# Sample Input`

```
 LA 1,3
    LA 2,1
TOP  NOP
    ADDR 3,1
    ST 3, VAL
    CMPR 3,4
    JNE TOP
    P_INT 1,VAL
    P_REGS
    HALT
VAL INT 0 
```

然而，我收到的奇怪输出是：

```
D
D
D
DTOP
DTOP
DTOP
DTOP
DTOP
DTOP
DTOP
DTOP
DVAL
D
D 
```

我只是不确定我是如何得到如此奇怪的输出的。这是我的代码：

```
#include <string>
#include <iostream>
#include <cstdlib>
#include <string.h>
#include <fstream>
#include <stdio.h>

using namespace std;

int main(int argc, char *argv[])
{
// If no extra file is provided then exit the program with error message
if (argc <= 1)
{
    cout << "Correct Usage: " << argv[0] << " <Filename>" << endl;
    exit (1);
}

// Array to hold the registers and initialize them all to zero
int registers [] = {0,0,0,0,0,0,0,0};

string memory [16000];

string symTbl [1000][1000];

char line[100], label[9];
char* pch;

// Open the file that was input on the command line
ifstream myFile;
myFile.open(argv[1]);

if (!myFile.is_open())
{
    cerr << "Cannot open the file." << endl;
}

int counter = 0;
int i = 0;

while (myFile.good())
{
    myFile.getline(line, 100, '\n');

    if (line[0] == '#')
    {
        continue;
    }

    if ( line[0] != '\t' && line[0]!=' ')
    {
        pch = strtok(line-1," \t\n");
        strcpy(label,pch);
    }

    cout << label<< endl;

        }

return 0;
} 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T09:12:44.520

也许您错过了 的`else`案例`if ( line[0] != '\t' && line[0]!=' ')`，您需要`label`在打印之前给出一些价值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T09:29:21.960

一个主要问题是您没有初始化`label`数组，因此它可以包含任何随机数据，然后您将其打印出来。另一个问题是您*每次迭代*都会打印标签，即使您没有获得新标签。

您的代码还有一些其他问题，例如不检查是否`strtok`返回`NULL`，您应该真正使用`while (myFile.getline(...))`而不是`while (myFile.good())`.

找出主要问题的原因的最佳方法是在调试器中运行程序，并逐行执行。然后你会看到发生了什么，并且可以检查变量以查看它们的内容是否是它应该是的。哦，停止使用字符数组，`std::string`尽可能多地使用。

# c# - 如何在c#中用另一个xml元素替换xml元素？

> ID：12436036
> 
> 赞同：0
> 
> 时间：2012-09-15T09:09:36.877
> 
> 标签：c#, .net, xml, c#-4.0, xml-parsing

这是我的两个 xml 文档。

此 xml 存储在 paraouterXml 字符串中。

```
<w:tbl>
 <w:tblPr>
 </w:tblPr>
 <w:tblGrid>
 </w:tblGrid>
</w:tbl> 
```

此 xml 存储在 tblMetaInfo 字符串中。

```
<root>
 <w:tblPr>
  <w:tblStyle w:val="TableGrid" /> 
  <w:tblW w:w="0" w:type="auto" /> 
  <w:tblLook w:val="04A0" /> 
  </w:tblPr>
 <w:tblGrid>
  <w:gridCol w:w="1947" /> 
  <w:gridCol w:w="1947" /> 
  </w:tblGrid>
</root> 
```

所以，在这里我想`<w:tblPr>,<w:tblGrid>`用 tblMetaInfo 的`<w:tblPr>,<w:tblGrid>`元素替换 paraouterXml。

这是c#代码...

```
XmlDocument xDoc = new XmlDocument();
xDoc.LoadXml(table.OuterXml);
XmlNode newNode = xDoc.DocumentElement;

XmlNodeList tblPrNode = xDoc.GetElementsByTagName("w:tblPr");
tblPrNode[0].RemoveAll();
XmlNodeList tblGridNode = xDoc.GetElementsByTagName("w:tblGrid");
tblGridNode[0].RemoveAll();

XmlDocument xDoc1 = new XmlDocument();
xDoc1.LoadXml(tblMetaInfo);
XmlNode newNode1 = xDoc1.DocumentElement;
XmlNodeList tblPrNode1 = xDoc1.GetElementsByTagName("w:tblPr");
XmlNodeList tblGridNode1 = xDoc1.GetElementsByTagName("w:tblGrid");

tblPrNode[0].ReplaceChild(tblPrNode1[0], tblPrNode[0]);
tblGridNode[0].ReplaceChild(tblGridNode1[0], tblGridNode[0]); 
```

但它抛出了一些错误......

请指导我摆脱这个问题......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T09:21:09.097

*`ArgumentException`*: *newChild 是从与创建此节点的文档不同的文档创建的*。

[`public XmlNode ReplaceChild(XmlNode newChild, XmlNode oldChild)`](http://msdn.microsoft.com/en-us/library/system.xml.xmlnode.replacechild.aspx)：

> 如果**newChild**是从**另一个文档**创建的，您可以使用[**`XmlDocument.ImportNode`**](http://msdn.microsoft.com/en-us/library/system.xml.xmldocument.importnode.aspx)将节点导入到当前文档。然后可以将导入的节点传递给该**`ReplaceChild`**方法。

# html - 从 JSP 为 HTML 文本框赋值

> ID：12436040
> 
> 赞同：0
> 
> 时间：2012-09-15T09:10:02.600
> 
> 标签：html, sql, jsp, ms-access

您好，我正在创建一个网页以添加有关给定产品的一些信息。我需要输入 id、名称、描述和图像作为信息。我需要自动生成 id。我使用 jsp 和数据库作为访问。我正在获取数据库中的 count(*)+1 值并分配给我的 html 文本框，但它显示为 null。我能得到一些帮助吗？

代码：

```
<body>
<%@page import="java.sql.*"%>
<%! String no; %>
<%
try{
Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
Connection con = DriverManager.getConnection("jdbc:odbc:pd");
ResultSet rs = null;
Statement st = con.createStatement();
String sql = ("select count(*)+1 from products");
st.executeUpdate(sql);
while (rs.next()) { 
no=rs.getString("count(*)+1");
}
rs.close();
st.close();
con.close();
}
catch(Exception e){}
%> 
<Form name='Form1' action="productcode.jsp" method="post">
<table width="1024" border="0">
  <tr>
    <td width="10">&nbsp;</td>
    <td width="126">Add Product: </td>
    <td width="277">&nbsp;</td>
    <td width="583">&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>Product Id:</td>
    <td><label>
      <input type="text" name="id" value="<%= no%>"/>
    </label></td>
    <td>&nbsp;</td> 
.... and so on 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T09:36:09.313

```
 {..}.executeQuery("Select max(id) from tablename"); 
```

这将返回`ID`具有最大数字的。它比`select * from tablename order by id desc limit 1`.

但是，看起来您试图猜测/生成`ID`数据库中尚不存在的对象。这不是最好的方法，您可能会发现`ID`您的生成可能与您的数据库生成的不同。如果两个人同时尝试创建两个新对象，也可能导致重复错误。

我建议您在按下“创建产品”按钮之前不要提供产品 ID。`@@IDENTITY;`在您的 SQL 命令中使用以`ID`安全地为您的产品设置新的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T09:22:03.920

你写了一个查询来获取这样的数据

```
 String sql = ("select count(*)+1 from products");
          st.executeUpdate(sql); 
```

该声明

```
 executeUpdate() 
```

仅用于执行 INSERT、UPDATE 等操作

尝试

```
 rs=st.executeQuery(sql); 
```

而不是 executeUpdate()

# java - java中的跨平台

> ID：12436045
> 
> 赞同：-3
> 
> 时间：2012-09-15T09:11:06.253
> 
> 标签：java

java的跨平台开发原则是什么？有什么问题在等着我？我想创建跨平台文件管理器（java se）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T09:15:00.477

从技术上讲，Java 只能在一个平台上运行，即 JVM。您可能想到的是一个跨操作系统应用程序。最基本的挑战是`/`正确处理`\`。

但是，您可能面临的最大问题是 GUI 在 windows 上提供 windows 友好界面，在 mac 上提供 mac 友好界面，在 linux 上提供 linux 友好界面。这是一个界面设计问题，而不是编码问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T09:20:37.427

你可以得到很多关于java平台独立性的文章。查看此[Oracle 文档](http://docs.oracle.com/javase/tutorial/getStarted/intro/definition.html)以了解 java 的工作原理。

你也可以浏览这篇文章[`how-is-java-platform-independent`](https://stackoverflow.com/questions/2748910/how-is-java-platform-independent-when-it-needs-jvm-to-run)。

所以要记住的关键是避免在你的javacode中做特定于平台的事情

1.  不要执行特定于操作系统的命令或脚本（您可能会因为检查磁盘空间等事情而尝试这样做，但 java 有平台独立的实现）
2.  避免直接依赖操作系统变量（获取主目录等）

# c# - 自定义控件创建

> ID：12436046
> 
> 赞同：1
> 
> 时间：2012-09-15T09:11:08.017
> 
> 标签：c#, animation, button, custom-controls

如何制作如下图所示的自定义按钮？我在谷歌上搜索了自定义控件，但是这个比较特别，是动画的...

![在此处输入图像描述](../Images/f4eb888448777b1a7e6274b501ada888.png)

我知道在 StackOoverflow 上有更多类似我的问题，但它不是重复的，我想了解更多关于这个特定按钮的信息。

它是 WinForms 的一个按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T09:25:56.393

在 Windows 窗体上，这些按钮是使用Button Control的[BackgroundImage 属性制作的。](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.backgroundimage.aspx)
您只需要在[Click](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.click.aspx)、[OnMouseEnter](http://msdn.microsoft.com/en-us/library/6y878dt5.aspx)等事件上切换背景图像。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:46:29.453

您可以在 C#中使用 GDI+ 创建这些按钮，例如看看[这个](http://www.codeproject.com/Articles/19318/Vista-Style-Button-in-C)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T09:17:04.343

这不是自定义控件，这是 CSS

看看这个，[http://www.dynamicdrive.com/style/csslibrary/item/css_square_buttons/](http://www.dynamicdrive.com/style/csslibrary/item/css_square_buttons/)

您可能应该阅读有关 gif 动画、jquery 动画或 css3 过渡的内容，以便能够为此类元素的背景设置动画

# gradle - Gradle：无法从外部构建脚本配置工件

> ID：12436048
> 
> 赞同：5
> 
> 时间：2012-09-15T09:11:10.633
> 
> 标签：gradle, artifactory

我是 gradle 新手，想从中访问我的工件存储库。如果我将所有配置放入一个构建脚本中，则构建成功。以下是我的 build.gradle 的相关部分：

```
allprojects {
    apply plugin: 'java'
    apply plugin: 'eclipse'
    apply plugin: 'artifactory'
}

// ...

buildscript {
    repositories {
        maven { 
            url 'http://repo.jfrog.org/artifactory/gradle-plugins' 
        }

        maven {
            url artifactory_contextUrl + 'plugins-release'

            credentials {
                username = artifactory_user
                password = artifactory_password
            }
        }
    }

    dependencies {
        classpath(group: 'org.jfrog.buildinfo', name: 'build-info-extractor-gradle', version: '2.0.16')
    }
}

artifactory {
    contextUrl = artifactory_contextUrl

    publish {
        repository {
            repoKey = 'libs-release-local'
            username = artifactory_user
            password = artifactory_password
            maven = true
        }
    }

    resolve {
        repository {
            repoKey = 'libs-release'
            username = artifactory_user
            password = artifactory_password
            maven = true
        }
    }
}

dependencies {
    // My dependencies ...
}

// Rest of the build script ... 
```

现在，我想将工件部分提取到单独的 gradle 脚本中，以便更好地组织。这就是构建出错的地方。非常令人惊讶的是，即使我将 build.gradle 复制到 foo.gradle，并将 build.gradle 更改为仅包含单行，我也会收到以下错误

```
apply from: 'foo.gradle' 
```

错误是

```
FAILURE: Build failed with an exception.

* Where:
Script '/path/to/my/project/foo.gradle' line: 5

* What went wrong:
A problem occurred evaluating script.
> Plugin with id 'artifactory' not found. 
```

如果这不是错误，任何人都可以解释 gradle 的这种行为`apply from`并提出解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-15T15:05:27.693

`apply from`一旦构建脚本已经配置，该部分就会被解析，所以告诉 Gradle 在哪里可以找到具有特定 ID 的插件为时已晚。您必须将该`buildscript`部分保留在脚本中，或将其放入[init 脚本](http://gradle.org/docs/current/userguide/init_scripts.html)中：

```
apply from : 'http://link.to/my/gradle.script' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-05-08T15:02:13.220

您还可以使用完全限定的类名在您的帮助脚本中应用插件：

```
buildscript {
    repositories {
         jcenter() 
         mavenCentral()
    }
    dependencies {
        classpath "com.adaptc.gradle:nexus-workflow:0.5"
        classpath "org.jfrog.buildinfo:build-info-extractor-gradle:2.2.4"
    }
}
apply plugin: org.jfrog.gradle.plugin.artifactory.ArtifactoryPublicationsPlugin
apply plugin: com.adaptc.gradle.nexusworkflow.NexusWorkflowPlugin 
```

请注意，如果您在类名称周围加上引号，Gradle 将找不到插件，就像您通常使用插件名称所做的那样。

这就是我找到 Artifactory 插件的类名的方式：

1.  我下载了谢天谢地[开源](https://github.com/JFrogDev/build-info)的插件。

2.  我在文件中搜索插件的名称，发现 `artifactory-puplish.properties`.

3.  它包含以下属性：`implementation-class=org.jfrog.gradle.plugin.artifactory.ArtifactoryPublicationsPlugin`

[nexus-workflow](https://github.com/adaptivecomputing/plugins-gradle/tree/master/nexus-workflow)的源没有这样的属性文件，所以我环顾四周，直到找到

```
plugins-gradle-master/nexus-workflow/src/main/groovy/com/adaptc/gradle/nexusworkflow/NexusWorkflowPlugin.groovy 
```

# android - 是否可以在 Activity 中将 RemoteViews 添加到 LinearLayout？

> ID：12436063
> 
> 赞同：1
> 
> 时间：2012-09-15T09:13:23.127
> 
> 标签：android, android-activity, android-linearlayout, remoteview

我想在我的活动中显示我的小部件（或通知）的预览，但我不想使用其他代码。

是否可以在 Activity 中将 RemoteViews 添加到 LinearLayout 或在简单 View 中转换 RemoteViews 以使用 LinearLayout 的方法“addView”？

非常感谢！

# maven - 需要显式排序的 Maven 多模块构建

> ID：12436064
> 
> 赞同：2
> 
> 时间：2012-09-15T09:13:29.023
> 
> 标签：maven, build, multi-module

我有一个多模块 Maven 项目，该项目有一个“数据库”模块，可以拆除/设置所有后续模块的集成测试所需的数据库。因为它是一个脚本而不是 Java 模块，所以 Maven 无法解析任何依赖项，所以它似乎总是最后执行。

是否可以选择覆盖父 POM 中的执行顺序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T09:22:28.427

OK maven 显然尊重在父模块中指定的顺序模块，所以这很好用：

```
<modules>
    <module>database</module>
    <module>dao</module>
    <module>business</module>
    <module>web</module>
</modules> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T10:16:51.900

最好的办法是创建一个像whatever-it 这样的单独模块，并定义对您的适当模块的依赖关系，从而自动定义执行顺序。这样可以确保始终以正确的顺序运行。不保证模块中给出的顺序。所以更好地使用依赖项。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T10:18:55.623

查看这篇[文章](https://stackoverflow.com/questions/6593503/impose-build-order-for-a-multi-project-in-maven)，了解 Maven 如何对模块进行排序。如果您的构建未遵循模块的顺序，则应该是由于帖子中的原因之一。

[http://maven.apache.org/guides/mini/guide-multiple-modules.html](http://maven.apache.org/guides/mini/guide-multiple-modules.html)

# iphone - iOS 应用程序崩溃显示变量不是 CFArray

> ID：12436067
> 
> 赞同：0
> 
> 时间：2012-09-15T09:13:44.343
> 
> 标签：iphone, nsarray

我正在使用以下代码从 JSON 格式的 Web 服务中检索数据

```
NSString *responseString = [request responseString];
NSDictionary *responseDict = [responseString JSONValue];   
NSMutableDictionary *statusDict = [responseDict objectForKey:@"body"];
NSArray *arrayPickListValue = [statusDict objectForKey:@"ticketEntries"]; 
```

有时数据来自 arrayPickListValue 并在 iPhone 上显示内容，但有时如果 ticketEntries 键为 Null ，则显示变量不是 CFArray，那么我该如何解决这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T09:51:05.187

Try this:

```
 if([[statusDict objectForKey:@"ticketEntries"] isKindOfClass:[NSArray class]])
 {
    //is array
    NSArray *arrayPickListValue = [statusDict objectForKey:@"ticketEntries"];
 }
 else  
 {
    //not a array
    //manage here as it might is null.

 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T09:33:38.803

正如@Beppe 所说，您需要先检查一下：

```
// check whether it is NULL or not first
id arrayPickListValue = [statusDict objectForKey:@"ticketEntries"];
if ([arrayPickListValue isKindOfClass:[NSNull class]]) {
    // manage the error
    return;
}

// do work 
```

# python - 在python中使用asin、sin-1、sin的倒数、三角函数

> ID：12436070
> 
> 赞同：-1
> 
> 时间：2012-09-15T09:14:03.677
> 
> 标签：python, math, python-3.x, trigonometry

> **可能重复：**
> [在 python 中使用 Sin-1 或 inverse sin](https://stackoverflow.com/questions/12435856/using-sin-1-or-inverse-sin-in-python)

这是我的代码：

```
# point of intersection between opposite and hypotenuse

x,y  =    pygame.mouse.get_pos()

# using formula for length of line

lenline1 = (x-x)**2 + (300-y)**2
lenline2 = (x-700)**2 + (y-300)**2

opposite = math.sqrt(lenline1)

adjacent = math.sqrt(lenline2)

# Converting length of lines to angle

PQ = opposite/adjacent
k = math.sin(PQ)
j = math.asin(k)

print(j) 
```

我没有得到我预期的结果，虽然在搞砸之后我接近了，但它不太正确。有人可以告诉我我做错了什么。我有两条线：相反和相邻我希望使用 sin 的倒数来获得角度。我究竟做错了什么。我只是一个初学者，所以不要提供太详细的信息。我无法想象这很难做到。

谢谢。

我试图得到斜边和相邻交汇的角度！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T09:17:28.817

`^`在 Python 中表示排他或，而不是求幂。如果要取幂，请使用`**`运算符。

# ios - 为什么我的 iOS 方法返回一年中的第 1 周而不是 53？

> ID：12436071
> 
> 赞同：1
> 
> 时间：2012-09-15T09:14:07.437
> 
> 标签：ios, nsdate, nsdateformatter, nsdatecomponents

```
-(NSInteger)getTheUltimateWeekOfAYear:(NSInteger)year
{
    NSDateComponents *comps = [NSDateComponents alloc];
    [comps setDay:31];
    [comps setMonth:12];
    [comps  setYear:year];

    NSCalendar *usersCalendar =[[NSLocale currentLocale] objectForKey:NSLocaleCalendar];
    NSDate *date = [usersCalendar dateFromComponents:comps];

    NSDateComponents *weekComps =
    [usersCalendar components:NSWeekCalendarUnit fromDate:date];

    return [weekComps week];
} 
```

`

嗨，这个片段在 iOS 5.1 模拟器上运行时错误地返回 1。我相信它应该返回 53。我做错了什么？顺便说一句，我的模拟器预设为公历。/约翰

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T09:40:03.067

这取决于您的上下文。来自维基百科：

ISO 8601 包括 ISO 周日期系统，一个周编号系统 - 每周从星期一开始，并与包含该周星期四的年份相关联（因此，如果一年从周五至周日的长周末开始，则第一周年将在那之后开始）。例如，2004 年第 1 周 (2004W01) 从 2003 年 12 月 29 日星期一到 2004 年 1 月 4 日星期日，因为它的星期四是 2004 年 1 月 1 日，而 2005 年第 1 周 (2005W01) 从 2005 年 1 月 3 日星期一到 2005 年 1 月 9 日星期日，因为它的星期四是 2005 年 1 月 6 日，所以是 2005 年的第一个星期四。一年中最高的周数是 52 或 53（2004 年是 53）。

但是，在某些国家/地区，编号系统与 ISO 标准不同。

[维基百科](http://en.wikipedia.org/wiki/Seven-day_week#Week_numbering)

# android - 如何在android中创建多角色管理器？

> ID：12436072
> 
> 赞同：1
> 
> 时间：2012-09-15T09:14:12.850
> 
> 标签：android, multithreading, android-wifi, wifi-direct

我需要在 Android 中做一个项目。我被要求为可并行工作的 Wi-Fi、Wi-Fi-Direct 和热点创建多角色管理器。今天我们不能同时使用两个或三个动作，一个动作取消另一个动作。

我什至不知道如何启动它，我是否需要更改系统中的某些内容，我找到了下面的链接，但我不知道如何使用它。

有人知道怎么做吗？

提前致谢。

[http://source-android.frandroid.com/frameworks/base/services/java/com/android/server/WifiService.java](http://source-android.frandroid.com/frameworks/base/services/java/com/android/server/WifiService.java)

# android - DatePicker.OnDateChangedListener 调用了两次

> ID：12436073
> 
> 赞同：48
> 
> 时间：2012-09-15T09:14:21.367
> 
> 标签：android, events, datepicker

我正在尝试创建一个应用程序，用户从 DatePicker 中选择一个日期，然后使用一些值更新一个列表。

我的 GUI 如下所示：

```
 <LinearLayout
    android:id="@+id/linearLayout1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_gravity="center" >

    <DatePicker
        android:id="@+id/datePicker"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

</LinearLayout>

<LinearLayout
    android:id="@+id/linearLayout2"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >

   <ListView
        android:id="@+id/list"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1" >

    </ListView> 
</LinearLayout> 
```

而我的 DatePicker 初始化和处理如下所示：

```
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.main);

    datePicker = (DatePicker) findViewById(R.id.datePicker);

    Calendar c = Calendar.getInstance();

    year = c.get(Calendar.YEAR);
    month = c.get(Calendar.MONTH);
    day = c.get(Calendar.DAY_OF_MONTH);

    datePicker.init(year, month, day, dateSetListener);
}

private DatePicker.OnDateChangedListener dateSetListener = new DatePicker.OnDateChangedListener() {

    public void onDateChanged(DatePicker view, int year, int monthOfYear,
            int dayOfMonth) {
         Calendar c = Calendar.getInstance();
         c.set(year, monthOfYear, dayOfMonth);
         System.out.println ("TEST");

    }
}; 
```

在 CatLog 中，我看到“TEST”字符串输出两次，每次我使用小部件上的 +/- 按钮时。可能是什么问题呢？

注意：我故意“禁用”了列表更新代码，以确保问题与 ListView 无关，如此[处](https://stackoverflow.com/questions/8553849/android-why-ondatechange-callback-is-called-twice "这里")

* * *

## 回答 #1

> 赞同：143
> 
> 时间：2013-12-10T16:28:15.173

当我测试我的应用程序时，onDateSet 方法在接受日期选择后调用了两次，当我取消时调用了一次。

我在带有参数视图的方法 onDateSet 中添加了一个验证，就像这样

```
@Override
public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth){
    if (view.isShown()) {
        updateDate(year, monthOfYear, dayOfMonth);
    }
} 
```

我希望你服务

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-09-18T17:25:51.330

我仍然没有设法找到一个整洁的解决方案。我宁愿找到一种解决方法，因此该事件不会触发两次。解决方法如下：

```
int timesCalled = 1;

private DatePicker.OnDateChangedListener dateSetListener = new DatePicker.OnDateChangedListener() {

public void onDateChanged(DatePicker view, int year, int monthOfYear,
        int dayOfMonth) {
     Calendar c = Calendar.getInstance();
     c.set(year, monthOfYear, dayOfMonth);
     timesCalled += 1;

     if ((timesCalled % 2) == 0) {
        System.out.println ("TEST");
     }

}}; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-06-09T08:02:55.990

我重写了 DatePickerDialog 对话框的 onClick 方法，而不是 onDateSet 回调，只处理 BUTTON_POSITIVE 点击。

```
public static class DatePickerFragment extends DialogFragment {
    @Override
    public Dialog onCreateDialog(Bundle savedInstanceState) {
        final Calendar c = Calendar.getInstance();
        int initialYear = c.get(Calendar.YEAR);
        int initialMonth = c.get(Calendar.MONTH);
        int initialDay = c.get(Calendar.DAY_OF_MONTH);
        return new DatePickerDialog(getActivity(), null, initialYear, initialMonth, initialDay) {
            @Override
            public void onClick(DialogInterface dialog, int which) {
                if (which == BUTTON_POSITIVE) {
                    int year = getDatePicker().getYear();
                    int month = getDatePicker().getMonth();
                    int day = getDatePicker().getDayOfMonth();

                    //TODO: Do your logic here
                }
                super.onClick(dialog, which);
            }
        };
    }
} 
```

代码保持清晰，但仍不清楚为什么 onDateSet 被调用两次。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T11:24:04.367

```
private DatePicker.OnDateChangedListener dateSetListener = new DatePicker.OnDateChangedListener() { 

    public void onDateChanged(DatePicker view, int year, int monthOfYear, 
            int dayOfMonth) { 
         Calendar c = Calendar.getInstance(); 
         c.set(year, monthOfYear, dayOfMonth); 
         updateDisplay();

    } 
}; 

TextView datetext;
datetext = (TextView) findViewById(R.id.selected_date);

private void updateDisplay() {
        this.datetext.setText(new StringBuilder()
                // Month is 0 based so add 1
                .append(mMonth + 1).append("-").append(mDay).append("-")
                .append(mYear).append(" "));
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-12-05T15:31:51.747

也许通过添加实例变量来修改侦听器，这样您就可以检查它们是否与上次调用该方法时不同：

```
final DatePickerDialog datePickerDialog = new DatePickerDialog (this, new DatePickerDialog.OnDateSetListener()
    {   
        private int year;
        private int month;
        private int day;

        @Override
        public void onDateSet (DatePicker view, int year, int monthOfYear, int dayOfMonth)
        {
            if (this.year == year && this.month == monthOfYear && this.day == dayOfMonth)
                return;

            this.year = year;
            this.month = monthOfYear;
            this.day = dayOfMonth;

            calendar.set (year, month, day);
            int index = officeCalendar.indexOfKey (calendar.getTimeInMillis ());

            if (index > -1)
                viewPager.setCurrentItem (index);
        }
    }, calendar.get (Calendar.YEAR), calendar.get (Calendar.MONTH), calendar.get (Calendar.DATE)); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-12-18T10:34:37.707

```
private DatePicker.OnDateChangedListener dateSetListener = new DatePicker.OnDateChangedListener() {
    boolean fired = false;
    public void onDateChanged(DatePicker view, int year, int monthOfYear, int dayOfMonth) {
         if (fired == true){
//Twince
         }
         else{
             Calendar c = Calendar.getInstance();
             c.set(year, monthOfYear, dayOfMonth);
             System.out.println ("TEST");
         }

    }
}; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-09-04T18:40:50.507

请在这里查看我的答案。它适用于 TimePickerDialog，但也适用于 DatePickerDialog。您可以创建一个自定义对话框，它几乎同样快速、简单并且可以正常工作。

[https://stackoverflow.com/a/25672760/940450](https://stackoverflow.com/a/25672760/940450)

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-01-23T13:01:29.743

无需在果冻豆下添加此代码

```
@Override
public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth){
    if (view.isShown()) {
        updateDate(year, monthOfYear, dayOfMonth);
    }
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2020-09-17T09:56:29.577

我创建了一个 SupportDatePickerDialog.kt 类

```
 import android.app.DatePickerDialog
    import android.content.Context
    import android.os.Build
    import android.widget.DatePicker
    import androidx.appcompat.view.ContextThemeWrapper

    /**
     * Support [DatePickerDialog]
     * for working around Samsung 5 [java.util.IllegalFormatConversionException] bug.
     * > Fatal Exception: java.util.IllegalFormatConversionException: %d can't format java.lang.String arguments
     * http://stackoverflow.com/a/31855744/570168
     * for OnDateSetListener called twice bug
     * https://stackoverflow.com/questions/12436073/datepicker-ondatechangedlistener-called-twice
     *
     */

    class SupportDateSetListener(private val function: (DatePicker, Int, Int, Int) -> Unit) : DatePickerDialog.OnDateSetListener {
        override fun onDateSet(view: DatePicker, year: Int, month: Int, dayOfMonth: Int) {
            if (view.isShown) {
                function.invoke(view, year, month, dayOfMonth)
            }
        }
    }

    class SupportDatePickerDialog(context: Context, listener: SupportDateSetListener, year: Int, month: Int, dayOfMonth: Int) : DatePickerDialog(fixContext(context), listener, year, month, dayOfMonth) {
        companion object {
            /**
             * Wraps the [Context] to use the holo theme to avoid stupid bug on Samsung devices.
             */
            @Suppress("DEPRECATION")
            private fun fixContext(context: Context): Context {
                return if (isBrokenSamsungDevice) {
                    ContextThemeWrapper(context, android.R.style.Theme_Holo_Light_Dialog)
                } else {
                    context
                }
            }

            /**
             * Affected devices:
             * - Samsung 5.0
             * - Samsung 5.1
             *
             * @return true if device is affected by this bug.
             */
            @Suppress("SpellCheckingInspection")
            private val isBrokenSamsungDevice: Boolean
                get() = (Build.MANUFACTURER.equals("samsung", ignoreCase = true)
                        && Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP && Build.VERSION.SDK_INT <= Build.VERSION_CODES.LOLLIPOP_MR1)
        }
    } 
```

用法 ：

```
val calendar = Calendar.getInstance()
val supportDatePickerDialog = SupportDatePickerDialog(this, SupportDateSetListener { datePicker: DatePicker, year: Int, month: Int, dayOfMonth: Int ->
    //TODO
}, calendar[Calendar.YEAR], calendar[Calendar.MONTH], calendar[Calendar.DAY_OF_MONTH])

supportDatePickerDialog.show() 
```

# eclipse - 插件开发：如何仅搜索 DLTK/PDT 插件中的接口？

> ID：12436074
> 
> 赞同：0
> 
> 时间：2012-09-15T09:14:22.520
> 
> 标签：eclipse, eclipse-plugin, eclipse-pdt

我开发了 PDT 插件的扩展。我只需要带有接口的对话框（而不是类）。基本代码如下所示：

```
OpenTypeSelectionDialog2 dialog = new OpenTypeSelectionDialog2(
    DLTKUIPlugin.getActiveWorkbenchShell(), 
    multi, 
    PlatformUI.getWorkbench().getProgressService(), 
    null, 
    type, 
    PHPUILanguageToolkit.getInstance()); 
```

它工作正常，但我将类和接口放在一起（类型变量）。有什么方法可以过滤吗？我在 PDT 中找不到这种机制，但可以正确识别类和接口（名称旁边的图标）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-06T12:37:42.867

我不知道它是否是最好的解决方案，但它有效。

```
int falseFlags = 0;
int trueFlags = 0;

IDLTKSearchScope scope = SearchEngine.createSearchScope(getScriptFolder().getScriptProject());

trueFlags = PHPFlags.AccInterface;

OpenTypeSelectionDialog2 dialog = new OpenTypeSelectionDialog2(
    DLTKUIPlugin.getActiveWorkbenchShell(), 
    multi,
    PlatformUI.getWorkbench().getProgressService(), 
    scope, 
    IDLTKSearchConstants.TYPE,
    new PHPTypeSelectionExtension(trueFlags, falseFlags), 
    PHPUILanguageToolkit.getInstance()); 
```

PHPTypeSelectionExtension 看起来像这样：

```
public class PHPTypeSelectionExtension extends TypeSelectionExtension {

/**
 * @see PHPFlags
 */
private int trueFlags = 0;
private int falseFlags = 0;

public PHPTypeSelectionExtension() {
}

public PHPTypeSelectionExtension(int trueFlags, int falseFlags) {
    super();
    this.trueFlags = trueFlags;
    this.falseFlags = falseFlags;
}

@Override
public ITypeInfoFilterExtension getFilterExtension() {
    return new ITypeInfoFilterExtension() {
        @Override
        public boolean select(ITypeInfoRequestor typeInfoRequestor) {
            if (falseFlags != 0 && (falseFlags & typeInfoRequestor.getModifiers()) != 0) {

                // Try to filter by black list.
                return false;
            } else if (trueFlags == 0 || (trueFlags & typeInfoRequestor.getModifiers()) != 0) {

                // Try to filter by white list, if trueFlags == 0 this is fine 'couse we pass black list.
                return true;
            } else {

                // Rest is filter out.
                return false;
            }
        }
    };
}

@SuppressWarnings("restriction")
@Override
public ISelectionStatusValidator getSelectionValidator() {
    return new TypedElementSelectionValidator(new Class[] {IType.class, INamespace.class}, false);
}

} 
```

# c - 归并排序错误

> ID：12436077
> 
> 赞同：-3
> 
> 时间：2012-09-15T09:14:55.920
> 
> 标签：c, runtime-error, mergesort

我已经编写了以下`mergesort`代码，但它不起作用。你能帮我解决错误吗？合并功能存在一些问题，因为它正在打印一些地址而不是值。

```
#include<stdio.h>
#include<string.h>

void merge(int *s,int L,int H,int mid)
{
    int temp[H-L+1];
    int i=L,j=mid+1,k=0;
    while((i<=mid)&&(j<=H))
    {
        if(s[i]<s[j])
        {
            temp[k] = s[i];
            k++;
            i++;
        }
        else
        {
            temp[k] = s[j];
            k++;
            j++;
        }
    }
        while(j<=H)
        {
            temp[k]=s[j];
            j++;
            k++;
        }
        while(i<=mid)
        {
            temp[k] = s[i];
            i++;
            k++;
        }

    int x=0;
    for(x=0;x<=k-1;x++)
    {

        s[x+L] = temp[k];
        printf("%d\n",s[x+L]);
    }
}

void mergesort(int i,int j,int *s)
{
    int mid = (i+j)/2;
    if(i<j)
    {
        mergesort(i,mid,s);
        mergesort(mid+1,j,s);
        merge(s,i,j,mid);       
        printf("after merging\n");
    }
    else
    {
        printf("in the base case\n");
        return;

    }
}

int main()
{
    int str[50];
    printf("enter the array\n");
    int i,n;
    printf("enter n");
    scanf("%d",&n);
    printf("enter the array\n");
    for(i=0;i<n;i++)
    {
        scanf("%d",&str[i]);
    }
    for(i=0;i<n;i++)
    {
        printf("%d",str[i]);
    }
    mergesort(0,n-1,str);
    for(i=0;i<n;i++)
    {
        printf("%d",str[i]);
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T09:58:35.333

最后一个合并循环出错：

```
for(x=0;x<=k-1;x++)            // (I would use x<k instead of x<=k-1)
{
    s[x+L] = temp[k];          // Should be temp[x] not temp[k]
    printf("%d\n",s[x+L]);
} 
```

看起来并没有比这更难，但这应该是一个不错的开始。使用原来的代码，您将用未初始化内存中的垃圾完全填充您的数组。

# ruby-on-rails - 无法将值传递给使用延迟作业 gem 传递电子邮件的方法

> ID：12436081
> 
> 赞同：1
> 
> 时间：2012-09-15T09:15:21.083
> 
> 标签：ruby-on-rails, ruby, gem

我正在使用一种特殊的方法来传递电子邮件。

首先，我将发送电子邮件的方法调用抽象为控制方法`send_email` 。其次，我延迟了控制方法的执行。

发送一些硬编码到传递电子邮件的方法中的值似乎很好，但不是传递给该方法的值。

*控制方式：*

```
 # this method is being delayed to control the time of sending email
  def send_email

    # approach 1 : just send a email after method send_email is executed 
    # In delay situtation : after 2 minutes
    # Otherwise : no delay
    Notifier.create_long_task(1234).deliver

    # approach 2: explicitly states to delay sending email process 
    # (same result with the above one)
    # 
    # Notifier.delay.create_long_task(1234)
  end

  handle_asynchronously :send_email, :run_at => Proc.new { 2.minutes.from_now } 
```

在上面的代码中，我将 1234 传递给了 Delivering 方法，下面的 Delivering 方法将 1234 分配给了一个实例变量`@id`

```
 def create_long_task(longTask_id)
    @greeting = "Hi"
    @longTask ="delay setting"
    @id = longTask_id

    mail to: "j-@hotmail.com", :subject => 'Long Task Created'
  end 
```

*电子邮件模板如下所示：*

```
 Notifier#create_long_task
    Instance variable 1 : <%= @greeting %>
    Instance variable 2 : <%= @longTask %>
    Instance Id : <%= @id %>
    You created a long task 
```

**所以乐观一点，邮件会显示 3 个实例变量，其中 2 个是硬编码在交付方法中的，一个是从外部传递到交付方法的**

**但结果只能显示在交付方法中硬编码的 2 个实例变量。**

```
Notifier#create_long_task
Instance variable 1 : Hi
Instance variable 2 : delay setting
Instance Id : 
You created a long task 
```

**这很奇怪。当我注释掉`handle_asynchronously`以立即发送电子邮件时，我可以看到所有实例变量。所以我认为 1234 不能传递给交付方法。没有延迟电子邮件的结果就像：**

```
Notifier#create_long_task
Instance variable 1 : Hi
Instance variable 2 : delay setting
Instance Id : 1234
You created a long task 
```

这是一个很长、很复杂的问题陈述，如果有人能解决这个问题，我真的很感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-11T20:14:33.727

不要忘记重新启动延迟的作业，因为在您这样做之前它不会接收对您的代码的更改。

# ant - ivy 不能 d/l 文件，但 wget 可以

> ID：12436083
> 
> 赞同：1
> 
> 时间：2012-09-15T09:16:27.180
> 
> 标签：ant, build, ivy

我的常春藤依赖：

> ```
> <dependency org="googlecode.com" name="jslint4java" rev="2.0.1" e:suffix="-src">
>   <artifact name="jslint4java" type="zip"/>
> </dependency> 
> ```

我的常春藤设置：

> ```
> <url name="googlecode">
>   <artifact pattern="http://[module].[organization]/files/[artifact]-[revision][suffix].[ext]"/>
> </url> 
> ```
> 
> ...
> 
> ```
> <module organisation="googlecode.com" resolver="googlecode"/> 
> ```

当我尝试解决依赖关系时，出现以下错误：

> [ivy:retrieve] == 解决依赖关系
> 
> ...#blog;working@...->googlecode.com#jslint4java;2.0.2
> 
> [default->*] [ivy:retrieve] 试过
> 
> [http://jslint4java.googlecode.com/files/jslint4java-2.0.2-dist.zip](http://jslint4java.googlecode.com/files/jslint4java-2.0.2-dist.zip)
> 
> [ivy:retrieve]**客户端错误：未找到**
> 
> url=http://jslint4java.googlecode.com/files/jslint4java-2.0.2-dist.zip
> 
> [ivy:retrieve] googlecode：找不到常春藤文件或工件
> 
> googlecode.com#jslint4java;2.0.2 [ivy:retrieve] 警告：找不到模块：googlecode.com#jslint4java;2.0.2 [ivy:retrieve] 警告：====
> 
> googlecode: 试过 [ivy:retrieve] WARN: -- artifact
> 
> googlecode.com#jslint4java;2.0.2!jslint4java.zip: [ivy:retrieve] 警告：
> 
> **http://jslint4java.googlecode.com/files/jslint4java-2.0.2-dist.zip**

我尝试通过使用最后一行中的 url 来 d/l 文件，`wget`并且它运行良好。

但我无法弄清楚为什么 ivy 无法 d/l 文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-16T09:05:55.230

因此，我使用 -d 标志运行了 ant 任务以检查更多信息，结果如下：

```
[ivy:resolve] HTTP response status: 404 url=http://jslint4java.googlecode.com/files/jslint4java-2.0.1-src.zip.sha1
[ivy:resolve] CLIENT ERROR: Not Found url=http://jslint4java.googlecode.com/files/jslint4java-2.0.1-src.zip.sha1
[ivy:resolve] HTTP response status: 404 url=http://jslint4java.googlecode.com/files/jslint4java-2.0.1-src.zip.md5
[ivy:resolve] CLIENT ERROR: Not Found url=http://jslint4java.googlecode.com/files/jslint4java-2.0.1-src.zip.md5 
```

请注意 md5 不存在，您必须覆盖解析器中的校验和选项。

```
<url name="googlecode" checksums="sha1"> 
```

我只尝试了 sha1（默认为 sha1，md5）并且它工作，即使 sha1 也无法下载。

尝试在该领域进行实验。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-16T14:53:30.393

我建议你在你的 ivy 文件中设置一个配置。

# 例子

运行构建后，存在以下文件：

```
|-- build.xml
|-- ivysettings.xml
|-- ivy.xml
`-- lib
    `-- jslint4java-2.0.1-src.zip 
```

## 常春藤.xml

```
<ivy-module version="2.0" xmlns:e="http://ant.apache.org/ivy/extra">
    <info organisation="com.myspotontheweb" module="demo"/>

    <configurations>
        <conf name="source"  description="source code distro"/>
    </configurations>

    <dependencies>
        <dependency org="googlecode.com" name="jslint4java" rev="2.0.1" e:suffix="src" conf="source->default">
            <artifact name="jslint4java" type="zip"/>
        </dependency>
    </dependencies>

</ivy-module> 
```

笔记：

*   添加了“源”配置。我的常春藤项目中的逻辑分组以区别于其他类型的依赖。
*   请注意依赖项上的额外“conf”属性。映射到远程“默认”配置。除非远程模块有 ivy 或 POM 文件，否则默认是最安全的选项。
*   修改了额外的属性“后缀”。删除了“-”字符。技术上没什么大不了的，我只是认为最好不要包含在依赖声明中。

## 常春藤设置.xml

```
<ivysettings>
  <settings defaultResolver="googlecode" />
  <resolvers>
    <url name="googlecode">
      <artifact pattern="http://[module].[organization]/files/[artifact]-[revision]-[suffix].[ext]"/>
    </url>
  </resolvers>
</ivysettings> 
```

笔记：

*   就我个人而言，我会在设置文件中明确说明远程存储库的主机名（[而不是从依赖信息中获取它](https://stackoverflow.com/questions/12249926/how-to-use-the-ext-variable-in-ivy/12253549#12253549)）。不过，这将起作用。

## 构建.xml

```
<project name="demo" default="retrieve" xmlns:ivy="antlib:org.apache.ivy.ant">

    <target name="retrieve" description="Use ivy to retrieve artifacts">
        <ivy:retrieve pattern="lib/[artifact]-[revision](-[suffix]).[ext]" conf="source"/>
    </target>

    <target name="clean" description="Cleanup build files">
        <delete dir="lib"/>
    </target>

    <target name="clean-all" depends="clean" description="Additionally purge ivy cache">
        <ivy:cleancache/>
    </target>

</project> 
```

笔记：

*   请注意“后缀”属性是如何括在括号中的。这是一个可选的额外参数，可能不是依赖项的一部分。

# php - 使用正则表达式删除所有引号

> ID：12436085
> 
> 赞同：0
> 
> 时间：2012-09-15T09:16:33.907
> 
> 标签：php, preg-replace

我想从包含嵌套引号的字符串中删除所有引号。

它不适用于嵌套的 qoutes：

```
preg_replace("/\[quote(.*?)\](.*?)\[\/quote\]/i","", $text); 
```

这适用于：

```
[quote=admin]Welcome to RegExr 0.3b, an intuitive tool for learning, writing, and testing Regular Expressions. Key features include: [/quote] 
```

但不适用于：

```
[quote=admin]Welcome to RegExr 0.3b, [quote] an intuitive tool for learning, [/quote] writing, and testing Regular Expressions. Key features include: [/quote] 
```

想删除所有 qoute 块

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T09:24:07.513

我认为你的错误只是你表达中的问号。

尝试`preg_replace("/\[quote(.*?)\](.*)\[\/quote\]/i","", $text);`

在您的编辑中发布您的示例：

```
$text = '[quote=admin]Welcome to RegExr 0.3b, [quote] an intuitive tool for learning, [/quote] writing, and testing Regular Expressions. Key features include: [/quote]';
$cleared = preg_replace("/\[quote(.*?)\](.*)\[\/quote\]/i","", $text);

var_dump($cleared);
// -> string(0) "" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-20T18:09:42.780

```
/\[quote.*?\](.*?)\[\/quote\]((\s)*(\[\/quote])*)*/gis 
```

它正在工作，但它并不完整。

请注意，在 [/quote] 之后有下一个 [/quote] 和下一个和 ...，没有其他任何内容。**此代码删除所有引用**但不包含多个引号的引号，例如：

```
[quote] ... [quote]...[/quote] ... [quote]...[/quote] ... [/quote] 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-15T09:18:37.290

为什么不`str_replace('"', '', $string);`呢？

编辑：这是错误的答案。我误读了这个问题。

# c# - 棘手的实体框架一对一关系

> ID：12436087
> 
> 赞同：4
> 
> 时间：2012-09-15T09:16:40.940
> 
> 标签：c#, .net, entity-framework, mapping, code-first

我有一个应用程序可以记录网球比赛的不同事件。它还记录了每个事件的获胜者

有问题的2类是：

```
public class Event {
  public int EventId { get; set; }
  public string EventName { get; set; }
  public virtual ICollection<Entry> Entries { get; set; }
  public int? WinningEntryId { get; set; }

  [ForeignKey("WinningEntryId")]
  public virtual Entry WinningEntry { get; set; }
}

public class Entry {
  public int EntryId { get; set; }
  public int EventId { get; set; }

  [ForeignKey("EventId")]
  public virtual Event Event { get; set; }
} 
```

请注意，Event.WinningEntryId 列可以为空，因为我不想指定获胜者，因为锦标赛可能仍在进行中。

现在，问题是当我运行 Update-Database 命令时，它会生成以下表格：

```
Entry
 - EntryId
 - EventId
 - Event_EventId

Event
 - EventId
 - WinningEntryId 
```

为什么 EF 在 Event 表中生成 Event_EventId 列？我只是希望 Event.WinningEntryId 列指向外键关系中的 Entry.EntryId 列。

我一定是在某种程度上做错了。有谁知道我怎么能做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-15T13:48:45.767

假设您的导航属性：

```
public virtual Entry WinningEntryId { get; set; } 
```

实际上被称为`WinningEntry`：

```
public virtual Entry WinningEntry { get; set; } 
```

然后实际上看起来您正在建模一对多关系，而不是一对一。一个事件可以有多个条目，而一个条目可以属于一个事件？只是其中一个条目将被标记为获胜条目。

我会考虑不使用数据注释，并坚持使用流畅的 API 来 a) 在一个中心位置管理所有配置和 b) 不将持久性问题与域对象混合。

在这种情况下，您可以使用 fluent API 配置映射，如下所示：

```
protected override void OnModelCreating(DbModelBuilder modelBuilder)
{     
    modelBuilder.Entity<Event>()
       .HasOptional(ev => ev.WinningEntry)
       .WithMany()
       .HasForeignKey(ev => ev.WinningEntryId)
       .WillCascadeOnDelete(false);

    modelBuilder.Entity<Entry>()
        .HasRequired(en => en.Event)
        .WithMany(ev => ev.Entries)
        .HasForeignKey(en => en.EventId);
} 
```

这将建立关系模型：

```
Events
    EventId (PK)
    EventName
    WinningEventId (FK, null)

Entries
    EntryId (PK)
    EventId (FK, not null) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-26T03:02:41.150

标记的答案完成了您需要做的事情，但您进入餐桌的真正原因`Event_EventId`是因为：

```
public virtual ICollection<Entry> Entries { get; set; } 
```

在您的 Event 实体中注明。这仅仅意味着一个事件是一个相似条目的集合。通过这种逻辑，在 Event 和 Entry 之间创建了一对多的关系。

**-活动有很多条目**

**-条目属于一个事件**

因此，每个条目必须有外键`Event_EventId`来说明条目属于哪个事件。

# php - 过滤一个php变量

> ID：12436088
> 
> 赞同：-1
> 
> 时间：2012-09-15T09:16:49.183
> 
> 标签：php, variables

过滤 php 变量我想限制来自 php 简单 html dom 解析器中的变量的字符，
`$des = 'lorem ipsum domet lorem ipsum dometlorem ipsum dometlorem ipsum dometlorem ipsum dometlorem ipsum dometlorem ipsum dometlorem ipsum dometlorem ipsum dometlorem ipsum dometlorem;`
但我想将此文本限制在一个新变量中......所以 $des 将最小化为有限的字符，如 10 个字符。和一个像这样的新变量>
`$new_des ='lorem ipsu';`
有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T09:21:17.203

用这个：

```
$new_des = substr($des, 0, 10); 
```

第一个参数是要剪切的字符串，第二个参数显示从哪里剪切（在您的情况下，它是 0，即开始），第三个参数显示要剪切多少个字母。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T09:22:54.473

为了适应给定的例子：

```
$new_des = substr($des,0,10) 
```

如果您真的是指“单词”而不是字符：

```
$new_des = implode(' ', array_slice(str_word_count($des, 1),0,10)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T09:23:06.207

10个字，还是10个字？它们将以两种不同的方式完成。10个字符只涉及substr函数：

```
$new_des = substr($des, 0, 10); 
```

[http://php.net/manual/en/function.substr.php](http://php.net/manual/en/function.substr.php)

对于 10 个单词，它有点复杂。您可能想查看 str_word_count，或者只是简单地用空格分隔，然后从结果数组中重构您的句子：

[http://php.net/manual/en/function.str-word-count.php](http://php.net/manual/en/function.str-word-count.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T09:23:31.167

来自 CodeIgniter[文本助手](https://github.com/EllisLab/CodeIgniter/blob/develop/system/helpers/text_helper.php)

还要在同一文件中查找 character_limiter

```
/**
     * Word Limiter
     *
     * Limits a string to X number of words.
     *
     * @param   string
     * @param   int
     * @param   string  the end character. Usually an ellipsis
     * @return  string
     */
    function word_limiter($str, $limit = 100, $end_char = '&#8230;')
    {
        if (trim($str) === '')
        {
            return $str;
        }

        preg_match('/^\s*+(?:\S++\s*+){1,'.(int) $limit.'}/', $str, $matches);

        if (strlen($str) === strlen($matches[0]))
        {
            $end_char = '';
        }

        return rtrim($matches[0]).$end_char;
    } 
```

# java - jfree 和 itext 一起使用时，响应的 content-disposition 不能设置为附件

> ID：12436091
> 
> 赞同：0
> 
> 时间：2012-09-15T09:17:04.670
> 
> 标签：java, jakarta-ee, itext, jfreechart

我的要求是将 JFreeChart 生成的图表放入我的 PDF 文档中

要显示图表列表，我正在获取 BufferedImage 对象列表

```
private BufferedImage generateChartForPDF (DefaultCategoryDataset dataset,String threadName) {
        String title = "Skill  : "+threadName ;

        JFreeChart chart = ChartFactory.createBarChart(title, "Work Completion",
                "Perce %", dataset, PlotOrientation.VERTICAL, true, true,
                false);

        return chart.createBufferedImage(500, 300) ;
    } 
```

从这里我填写一个缓冲图像列表，并以以下方式在 PDF 中填充图表

```
ByteArrayOutputStream baos = new ByteArrayOutputStream();
Document pdfDocument = new Document();
PdfWriter pdfWriter = PdfWriter.getInstance(pdfDocument, baos);
setGraphImagesInPDF(pdfDocument, buffImageList) ;
private void setGraphImagesInPDF (Document pdfDocument,List<BufferedImage> buffImageList) throws DocumentException, IOException {
        for (BufferedImage bufferedImage : buffImageList) {
            Image image = Image.getInstance(bufferedImage,Color.LIGHT_GRAY);
            pdfDocument.newPage();
            image.setAbsolutePosition(300, 300) ;
            pdfDocument.add(image);
        }
    } 
```

这就是我在我的 PDF 中填充图表的方式。现在，当我将内容处置设置为附件时，在我的 UI 中没有收到作为附件的响应，而是浏览器在另一个页面中打开 PDF

```
ServletOutputStream outputStream = response.getOutputStream();
baos.writeTo(outputStream);
setResponseHeaders(response,"Data");
outputStream.flush();
outputStream.close();

private void setResponseHeaders(HttpServletResponse response,String reportingType) {
        System.out.println("setting response headers .. ");
        response.setHeader("Content-Disposition",
                "attachment; filename=\""+reportingType+" Reports.pdf\"");
        response.setContentType("application/pdf");
    } 
```

即使我在响应的标题中将 content-dispostion 类型设置为附件，这也不是作为附件打开的。删除代码的图表部分后，同样可以正常工作。请帮助我。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T06:10:53.113

根据布鲁诺的评论，不是 iText/JFreechart 问题，而是 servlet/http 问题。

**您必须在获得输出流之前**设置响应标头：这是强制性的。我建议您`content-length`在方法中也设置标题`setResponseHeaders`，如下所示：

```
response.setContentLength(baos.size()); 
```

所以你的代码应该是：

```
setResponseHeaders(response, baos, "Data");
ServletOutputStream outputStream = response.getOutputStream();
baos.writeTo(outputStream);
outputStream.flush();
outputStream.close(); 
```

# c# - PubNub JSON 序列化代码在示例项目中有效，但在我的项目中无效

> ID：12436092
> 
> 赞同：4
> 
> 时间：2012-09-15T09:17:09.037
> 
> 标签：c#, json, serialization, pubnub, winamp

我正在制作一个 Winamp 插件，它具有将通过 HTTP 播放的歌曲的详细信息发送到网页的单一功能。

它的工作原理如下：触发 Winamp 歌曲事件 -> 检查新歌曲 -> 使用[PubNub](http://www.pubnub.com/) (C# API) 发布到网页。

到目前为止，我已经到了一切都按预期工作的阶段，除了**PubNub 代码不序列化我传递的对象以发布到 JSON**。我在 PubNub 控制台中得到的只是`{}`一个空的 JSON 对象。

项目结构的一点背景：

![项目分解](../Images/ad5a553ce2bfb120501751a961253931.png)

我正在使用[Sharpamp](https://github.com/Daniel15/Sharpamp/tree/master/Sharpamp)，它是一个自定义库，可以使用 C# 制作 Winamp 插件。我也在使用[PubNub C# API](https://github.com/pubnub/pubnub-api/tree/master/csharp/3.3/PubNub-Messaging)。gen_notifier_cs 项目是 Sharpamp 创建的 C++ 插件包装器。notifier_cs 是我所有代码所在的位置。我认为另外两个项目是不言自明的。**我在 notifier_cs 中引用了 PubNub API，并且在 notifier_cs 和 PubNub API 中也引用了 Sharpamp。**

因此，需要序列化的对象属于`Song`Sharpamp 中定义的类：

```
 public class Song
{
    public string Title { get; internal set; }
    public string Artist { get; internal set; }
    public string Album { get; internal set; }
    public string Year { get; internal set; }
    public bool HasMetadata { get; internal set; }
    public string Filename { get; internal set; }
} 
```

所以假设我有一个`song`包含歌曲数据的对象，我会去`pubnub.publish("winamp_pipe", song);`发布它，PubNub 会自动将数据序列化为 JSON。**但这在我的**解决方案中不起作用。

为了测试它为什么不序列化，我将该类复制到PubNub API 中的[示例代码文件中。](https://github.com/pubnub/pubnub-api/blob/master/csharp/3.3/PubNub-Messaging/Pubnub_Example.cs)Visual Studio 将类更改为此（注意 public Song() 方法）：

```
public class Song
{
    public Song() // VS added this method
    {
        return; // I added this otherwise it would not compile
    }

    public string Album { get; set; }
    public string Artist { get; set; }
    public string Filename { get; set; }
    public bool HasMetadata { get; set; }
    public string Title { get; set; }
    public string Year { get; set; }
} 
```

在同一个示例文件中，我使用一些值启动了一个默认歌曲对象：

```
Song song = new Song();
song.Album = "albumname";
song.Artist = "artistname";
song.HasMetadata = true;
song.Title = "songtitle";
song.Year = "2012"; 
```

并发表了它：`pubnub.publish("winamp_pipe", song);` **它奏效了！**我在 PubNub 频道中获得了 JSON 对象！

`{"Album":"albumname","Artist":"artistname","Filename":null,"HasMetadata":true,"Title":"songtitle","Year":"2012"}`

`Song`因此，我尝试用Sharpamp 中定义的原始类替换“新”类。我尝试在 notifier_cs 项目中添加另一个类定义，但这与我必须依赖的 Sharpamp 中的类定义发生冲突。我一直在尝试很多事情，只要我能想到。不用说，没有一个占上风。尽管如此，我得到的只是一个空的 JSON 对象。

**这是在PubNub API**的发布方法中进行序列化的代码。我会提醒您此代码适用于 PubNub 示例文件，但不适用于我的项目：

```
DataContractJsonSerializer serializer = new DataContractJsonSerializer(objectToSerialize.GetType());
serializer.WriteObject(ms, objectToSerialize);
ms.Position = 0;
using (StreamReader reader = new StreamReader(ms))
{
    return reader.ReadToEnd();
} 
```

最后一天我一直在拔头发。我知道这篇文章很长，但我仍然感谢您的意见。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T21:14:32.677

# 发布数据：PubNub 和 C# Winamp 歌曲类

您已经将数据存储在`winamp_song`对象实例中。如果您尝试序列化`winamp_song`对象实例，它将失败。如果您传入 ，则序列化将失败，`winamp_song`因为实例具有不可序列化的成员。最好的方法是让您创建一个`Song class`您拥有和定义的。`Song class`定义将通过 PubNub 传递的成员值。这样，您可以直接填充发布给订阅者所需的值。

```
Song song = new Song();
song.Album = winamp_song.Album;
song.Artist = winamp_song.Artis;
song.HasMetadata = winamp_song.HasMetadata;
song.Title = winamp_song.Title;
song.Year = winamp_song.Year; 
```

当您甚至在订阅者上收到 Song 数据发布时，您将能够接收反序列化数据，将值填充到新`Song class`实例中。

## 下面定义的歌曲类

```
public class Song {
    public Song() { return; }
    public string Album { get; set; }
    public string Artist { get; set; }
    public string Filename { get; set; }
    public bool HasMetadata { get; set; }
    public string Title { get; set; }
    public string Year { get; set; }
} 
```

PubNub 是与已安装的 Winamp 插件副本进行通信的最佳方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T15:10:07.520

好吧，我的“解决方案”，因为我只使用一个类（`Song`该类，在 Sharpamp 库中定义）来发布值，是手动构造一个 JSON 字符串：

```
pubnub.publish("winamp_pipe", "{\"Album\": \""+song.Album+"\",\"Artist\": \""+song.Artist+"\",\"HasMetadata\": \""+song.HasMetadata.ToString()+"\",\"Title\": \""+song.Title+"\",\"Year\": \""+song.Year+"\",\"Filename\": \""+song.Filename+"\"}"); 
```

它不是问题本身的解决方案，但它的目的是将信息作为 JSON 对象发布（只要您没有任何特殊字符会破坏数据中的 JSON 结构）。

我没有将此标记为答案，因为它不是真正问题的解决方案，只是一种临时解决方法......

# java - Android中的KeyReleased等价

> ID：12436105
> 
> 赞同：0
> 
> 时间：2012-09-15T09:18:54.497
> 
> 标签：java, android, listener

在 PC 上，我可以为 JTextField 添加一个 onKeyListener 来监听 keyReleased 事件。在 Android 上，我使用了 addTextChangedListener。

我的 Android 应用程序中有两个 EditText 字段。编辑一个会影响另一个。这将导致程序在堆栈溢出错误中失败。

如何收听手机的键盘而不是 EditText 字段中的更改？我不希望程序因为监听器造成的无限循环而调用监听器。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T13:33:04.007

附加一个 onFocusChangedListener 并在 EditText 具有焦点时添加 TextChangedListener 并在失去焦点时将其删除。像这样的东西：

```
 EditText1.setOnFocusChangeListener(new OnFocusChangeListener() {

                public void onFocusChange(View v, boolean hasFocus) {
                    if(hasFocus){
                        ((EditText) v).addTextChangedListener(new TextWatcher() {

                        public void onTextChanged(CharSequence s, int start, int before, int count) {
                             //

                        }

                        public void beforeTextChanged(CharSequence s, int start, int count,
                                int after) {
                            // 

                        }

                        public void afterTextChanged(Editable s) {
                            // affect EditText2

                        }
                    });

                }
                if(!hasFocus){
                    ((EditText) v).removeTextChangedListener();
                }
            }
        });

        }
    }); 
```

EditText2 也一样

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T00:28:42.493

首先，我将创建一个文本更改侦听器，类似于`SynchronizingWatcher`并将其附加到两个`EditText`s。然后，当您收到文本更改事件时，在更新其他文本编辑之前，只需取消注册旧的侦听器，更新文本并再次启用侦听器：

```
class SynchronizingWatcher implements TextWatcher {
  Set<EditText> synchronizedViews = new HashSet<EditText>();

  public void watchView(EditText view) {
    view.addTextChangedListener(this);
    synchronizedViews.add(view);
  }

  public void afterTextChanged(Editable s) {
    for (EditText editText : synchronizedViews) {
      editText.removeTextChangeListener(this);
      editText.setText(s);  // Of course you can do something more complicated here.
      editText.addTextChangeListener(this);
    }
  }

  public void beforeTextChanged(CharSequence s, int start, int count, int after) {
    // Don't care.
  }

  public void onTextChanged(CharSequence s, int start, int before, int count) {
    // Don't care.
  }
}

...
// Somewhere in your activity:
SyncrhonizingWatcher synchronizingWatcher = new SynchronizingWatcher();
synchronizingWatcher.watchView(myEditText1);
synchronizingWatcher.watchView(myEditText1); 
```

另一种解决方案：提供你自己`KeyListener`的*装饰*现有的`KeyListener`（你可以得到现有的关键监听`editText.getKeyListener()`器和设置你的装饰器`editText.setKeyListener()`。你的装饰器也会更新其他编辑文本`onKeyUp()`。但我会尽量避免弄乱那些东西。

# ios - 如果我现在开始学习 iOS 开发，我应该使用垃圾回收功能吗？

> ID：12436106
> 
> 赞同：2
> 
> 时间：2012-09-15T09:19:10.743
> 
> 标签：ios, memory, memory-management

....或者我应该学会自己管理记忆？

依赖 iOS 5 的垃圾回收功能可以吗？

我是新手，我正在考虑尽快学习 iOS。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-15T09:23:42.043

iOS 没有垃圾收集；iOS5 SDK 引入了 ARC（自动引用计数），与真正的垃圾收集有细微的区别。您仍然需要了解和理解引用计数的语义，因为通过不使用强引用循环等来避免内存泄漏仍然是**您的**责任，即使使用 ARC。但无论如何，继续使用 ARC，它确实使大多数代码更简单。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-15T09:27:24.627

为了澄清更多 ARC 是编译时特性，编译器在编译期间添加代码以为您释放对象，因此作为开发人员您无需担心这一点。另一方面，垃圾收集是一种运行时功能，它为您跟踪所有引用计数并自动释放引用计数为 0 的任何对象。

这是来自苹果文档

> Objective-C 的自动引用计数 (ARC) 使内存管理成为编译器的工作。通过使用新的 Apple LLVM 编译器启用 ARC，您将无需再次键入 retain 或 release，从而大大简化了开发过程，同时减少了崩溃和内存泄漏。编译器对您的对象有一个完整的了解，并在每个对象不再使用时立即释放它，因此应用程序运行速度与以往一样快，性能可预测且流畅。

如果您打算从头开始开发应用程序，请务必使用 ARC。

# ruby-on-rails - 使用具有多个数据库定义的 capistrano 部署 database.yml 文件

> ID：12436109
> 
> 赞同：1
> 
> 时间：2012-09-15T09:19:27.553
> 
> 标签：ruby-on-rails, capistrano

我有一个 Rails 应用程序需要连接到两个不同的数据库。这些数据库定义都在我的存储库的 database.yml 文件中，格式为：

```
production:
  adapter: ...
  database: ...
  username: ...
  password: ...

secondary-production:
  adapter: ...
  database: ...
  username: ...
  password: ... 
```

我有用于生产、暂存和开发数据库的格式。在运行 cap deploy 或 cap production deploy 时，我需要使两个数据库定义都通过。

我不是在这个应用程序上设置 capistrano 的人，而且我以前从未使用过它，所以我发现很难弄清楚如何做到这一点。谁能指出我的相关文档或让我知道我需要使用什么文件和语法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T09:47:17.027

I found the answer.

There was a database.yml.erb file in the /config/recipes/templates folder that I had to update.

# asp.net - ASP.NET 将字符编码更改为 windows-1252

> ID：12436110
> 
> 赞同：2
> 
> 时间：2012-09-15T09:19:31.983
> 
> 标签：asp.net, unicode, azure, character-encoding

我有以下标记：

```
 <head id="Head1" runat="server">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>

    <asp:ContentPlaceHolder ID="TitleContent" runat="server" />
    </title>
    <asp:ContentPlaceHolder ID="HeaderContent" runat="server" />
    <link href="~/Content/Site.css" rel="stylesheet" type="text/css" />
    <link href="~/PublicPages/LogIn.css" rel="Stylesheet" type="text/css" />

    </head>
    <body>
    <form id="form1" runat="server">

    <div class="page">
        <div id="header">
    ..... 
```

而这个 web.config

```
 <?xml version="1.0" encoding="utf-8"?>
    <configuration>
     <configSections>

    </configSections>
    <system.web>
    <machineKey validation="SHA1" />
    <globalization
      fileEncoding="utf-8"
      requestEncoding="utf-8"
      responseEncoding="utf-8"
      culture="en-US"
      uiCulture="de-DE"
    /> 
```

在回发时，我在 Firefox 中收到此错误 HTML 文档的字符编码未声明。如果文档包含 US-ASCII 范围之外的字符，则文档将在某些浏览器配置中呈现乱码。页面的字符编码必须在文档中或者在传输协议中声明，并且是一个空白页面

检查 IE 中的源代码，我看到：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content="text/html; charset=windows-1252" http-equiv=Content-Type></HEAD>
<BODY></BODY></HTML> 
```

那么如何防止asp.net返回带有windows-1252字符集的页面呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T22:12:50.260

可能有几件事需要检查。您是否碰巧在您的网页中直接或间接加载了 JavaScript 资源？

如果您从磁盘加载的资源文件在其他 ASP.NET 页面上不是 UTF-8 编码的，那么它们可以呈现为其默认编码。检查是否有任何资源文件仍然可以为您的 JavaScript 文件使用 VS 编码 Windows 1252。将所有资源文件保存为 utf-8 类型应将设置更改为 utf-8。

为确保所有 ASP.NET 页面对每个嵌入式资源都有 utf-8 编码，您可以在**每个 ASP.NET 页面**中添加以下内容：

```
response.codepage = 65001
response.charset = "utf-8" 
```

**还使用“ firefox -safe-mode** ”在没有任何插件的安全模式下启动 FireFox，看看是否会改变行为。

# sql - 将 CASE 与 WHERE 一起使用

> ID：12436111
> 
> 赞同：4
> 
> 时间：2012-09-15T09:20:07.817
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我想将 CASE 与 WHERE 一起使用，因此如果 countryId 为 -1，则不要选择任何值，否则请选择值这是我的非工作代码

```
 DECLARE @countryId int=-1 --for example
   SELECT * FROM dbo.bbmf WHERE status=1 
 AND countryId =
CASE WHEN @countryId = -1 THEN 
 --select any
ELSE
 countryId=@countryId
END 
```

谢谢你的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T09:23:42.243

你的问题不清楚，所以我看到了你可能想要达到的两个结果。

**首先**仅取决于`countryID`. 所以如果`countryID`是 -1，不要选择任何记录：

如果你没有`countryId`-1，那么你可以使用这个简单的选择，因为如果`@countryID = -1`，什么都不会返回（因为 AND），如果它不是 -1，那么需要的记录将返回：

```
SELECT * 
FROM dbo.bbmf 
WHERE status=1 
  AND (countryId=@countryId) 
```

（除了第一个解决方案，如果您的国家/地区的 id = -1，那么您应该更改`AND (countryId=@countryId)`To `AND (countryId=@countryId AND @countryId <> -1)`）

**第二个**是，如果是`countryId = -1`，那么你只需要检查状态，并用 获取每条记录`status = 1`，那么你应该使用这个语句：

```
SELECT * 
FROM dbo.bbmf 
WHERE status=1 
  AND (countryId = -1 
     OR countryId = @countryId) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T13:23:32.210

我喜欢这样的：

```
DECLARE @countryId int=-1 

SELECT * 
FROM dbo.bbmf 
WHERE 
    status=1 
    AND 
    1 = CASE 
        WHEN @countryId = -1 THEN 0
        WHEN countryId=@countryId THEN 1
        ELSE 0 --<<probably don't need the ELSE
    END 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T09:25:39.890

`SELECT`无论 Country Id 是否为 -1，您都在执行语句，这是一个多余的调用。如果您只想在 CountryId 不等于 -1 的情况下运行 SELECT 语句，那么只需在`WHERE`子句中将其过滤掉或使用`Conditional`：

**过滤：**

```
SELECT * FROM dbo.bbmf 
WHERE status=1 AND countryId != -1 
```

**使用条件：**

```
IF (@countryId != -1)  
BEGIN
    -- SELECT STATEMENT HERE
END 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-15T09:26:56.440

尝试[**演示**](http://sqlfiddle.com/#!3/cd546/4)

```
SELECT * FROM dbo.bbmf 
WHERE status=1 
AND countryId = @CountryID
AND @countryId <> -1 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-15T09:34:43.113

```
SELECT * FROM dbo.bbmf 
WHERE status=1 
AND countryId <> -1 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-15T09:36:27.857

我找不到您的代码的用例，但可能您可以使用不可能的 where 子句运行选择，例如：

> SELECT * FROM dbo.bbmf where status=1 AND 1>2

但是，正如某些人所说，如果您不想要任何结果，请不要运行查询。

# ruby-on-rails - 黄瓜“给定”步骤通过，但相同的“应该”步骤失败

> ID：12436112
> 
> 赞同：1
> 
> 时间：2012-09-15T09:20:09.177
> 
> 标签：ruby-on-rails, cucumber

我一直在学习 SaaS 课程，在第 4 章中我们应该使用 Cucumber。我按照所有说明操作并观看了显示一切如何工作的截屏视频，但我仍然遇到此错误：

```
 Scenario: Add a movie                              # features/AddMovie.feature:3

    Given I am on the RottenPotatoes home page       # features/step_definitions/web_steps.rb:44

    When I follow "Add new movie"                    # features/step_definitions/web_steps.rb:56

    Then I should be on the Create New Movie page    # features/step_definitions/web_steps.rb:230

    When I fill in "Title" with "Men In Black"       # features/step_definitions/web_steps.rb:60

    And I select "PG-13" from "Rating"               # features/step_definitions/web_steps.rb:85

    And I press "Save Changes"                       # features/step_definitions/web_steps.rb:52

    Then I should be on the RottenPotatoes home page # features/step_definitions/web_steps.rb:230

      <"/movies"> expected but was
      <"/movies/1">. (MiniTest::Assertion)
      ./features/step_definitions/web_steps.rb:235:in `/^(?:|I )should be on (.+)$/'
      features/AddMovie.feature:10:in `Then I should be on the RottenPotatoes home page'
    And I should see "Men In Black"                  # features/step_definitions/web_steps.rb:105

Failing Scenarios:
cucumber features/AddMovie.feature:3 # Scenario: Add a movie 
```

* * *

```
Feature: User can manually add movie

Scenario: Add a movie
    Given I am on the RottenPotatoes home page
    When I follow "Add new movie"
    Then I should be on the Create New Movie page
    When I fill in "Title" with "Men In Black"
    And I select "PG-13" from "Rating"
    And I press "Save Changes"
    Then I should be on the RottenPotatoes home page
    And I should see "Men In Black" 
```

* * *

和代码片段`path.rb`

```
 def path_to(page_name)
    case page_name

    when /^the home\s?page$/
      '/'
    when /^the RottenPotatoes home page/
        movies_path
    when /^the Create New Movie page/
        new_movie_path
  end 
```

* * *

`movies_controller.rb`

```
class MoviesController < ApplicationController
def index
    @movies = Movie.all( :order => "title" )
end

def show
    id = params[ :id ] #    retrieve movie ID from URI route
    begin
        @movie = Movie.find( id )
    rescue
        flash[ :warning ] = "The movie was not found."
        redirect_to movies_path
    end
    #   will render app/views/movies/show.html.haml by default
end

def new
    #   default: render 'new' template
end

def create
    @movie = Movie.create( params[ :movie ] )
    flash[ :notice ] = "#{ @movie.title } was successfully created."
    redirect_to movie_path( @movie.id )
end

def edit
    id = params[ :id ]
    @movie = Movie.find_by_id( id )
end

def update
    @movie = Movie.find_by_id params[ :id ]
    @movie.update_attributes!( params[ :movie ] )
    flash[ :notice ] = "#{ @movie.title } was successfully updated."
    redirect_to movie_path( @movie )
end

def destroy
    @movie = Movie.find( params[ :id ] )
    @movie.destroy
    flash[ :notice ] = "Movie '#{ @movie.title }' deleted."
    redirect_to movies_path
end

end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T22:17:48.307

从您发布的内容来看，您的代码和测试似乎不一致。在您的测试中，您指定保存新电影后：

```
Then I should be on the RottenPotatoes home page 
```

从您的 path.rb 文件来看，它看起来像是“应该在电影索引页面上”。但是，在您的代码中，您不会在创建操作结束时重定向到电影索引页面，而是重定向到刚刚创建的电影的放映页面。这可以解释为什么黄瓜抱怨它期望`<"/movies">`（电影索引页面）但得到`<"/movies/1">`（电影页面`id = 1`）。

这是您的创建操作：

```
def create
  @movie = Movie.create( params[ :movie ] )
  flash[ :notice ] = "#{ @movie.title } was successfully created."
  redirect_to movie_path( @movie.id )
end 
```

请参阅您拥有的最后一行`redirect_to movie_path(@movie.id)`，它告诉 rails 将您发送到该电影的页面`@movie`。这是有道理的并且通常是您想要的（即在用户创建新记录后，您向他们展示他们创建的记录），但您也可能希望将他们重定向到他们可以看到他们添加的电影的索引页面与所有其他电影。解决方案将根据您想要的结果而有所不同。

假设您的测试是正确的，您需要将`create`操作中的最后一行更改为：

```
redirect_to movies_path 
```

希望有帮助！

# javascript - 使用jsonp错误的跨域请求

> ID：12436115
> 
> 赞同：-1
> 
> 时间：2012-09-15T09:20:48.443
> 
> 标签：javascript, jquery, jsonp

我正在编写一个应用程序，我需要从另一台服务器（shutterfly）访问客户端中的一些 xml 数据。由于跨域问题，我打算使用 jsonp。jQuery 允许我使用该`$.getJSON()`方法执行此操作，但是，我无法判断该方法是否失败。Firefox 发送这样一个问题：

> 语法错误：缺少；声明前，

我认为这个问题的原因是因为从服务器发出的 javascript 内容，但我们有 xml 作为结果。

代码片段：

```
$.getJSON("https://ws.shutterfly.com/userid/0AaOGThs0aOWsA/albumid/67b0de21da1483077512?category-term=image&oflyAppId=d484bdba28944d23285dabeee94e89bf&oflyHashMeth=SHA1&X-OPENFLY-Authorization=SFLY user-auth=005094468284|1347644121316|a47bfef9dc03697ef30a226316ce3bde0305b526&Accept-Encoding=gzip&oflyTimestamp=2012-09-15T01:36:06.190-0700&callback=?",
  {},
  function(data) {
    alert('Success');
  });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T09:10:08.057

你有语法错误。
您的`getJSON()`电话应如下所示：

```
$.getJSON("https://ws.shutterfly.com/userid/0AaOGThs0aOWsA/albumid/67b0de21da1483077512?category-term=image&oflyAppId=d484bdba28944d23285dabeee94e89bf&oflyHashMeth=SHA1&X-OPENFLY-Authorization=SFLY user-auth=005094468284|1347644121316|a47bfef9dc03697ef30a226316ce3bde0305b526&Accept-Encoding=gzip&oflyTimestamp=2012-09-15T01:36:06.190-0700&callback=?",
  {},
  function(data) {
    alert('Success');
  }) //   <-- Remove ;
}); 
```

# jquery - 部分视图链接在 Fire Fox 中不起作用

> ID：12436116
> 
> 赞同：1
> 
> 时间：2012-09-15T09:21:04.603
> 
> 标签：jquery, asp.net-mvc, asp.net-mvc-4, html.actionlink

我有一个 MVC4 asp.net 应用程序，我有两个布局，一个是主页面的主布局，一个是嵌套页面的第二个布局。我遇到的问题是第二个布局，在这个布局上，我调用了一个包含导航链接的局部视图。在 IE 中，导航菜单显示正常，当单击每个项目时，它会按预期导航。但是，在 FF 中，当页面呈现时，导航栏会显示，但如果您将其视为简单的文本，则它没有“点击功能”。

我的嵌套页面布局：

```
<header>
            <img src="../../Images/fronttop.png" id="nestedPageheader" alt="Background Img"/>
            <div class="content-wrapper">

                <section >
                    <nav>
                    <div id="navcontainer">
                    </div>
                    </nav>
                 </section>
            <div>
         </header> 
```

用于检索布局页面上动态链接的部分视图和信息的脚本。

```
<script type="text/javascript">
var menuLoaded = false;
$(document).ready(function () {
    if($('#navcontainer')[0].innerHTML.trim() == "")
    {
        $.ajax({
                url: "@Url.Content("~/Home/MenuLayout")",
                type: "GET",
                success: function (response, status, xhr)
                            {
                                var nvContainer = $('#navcontainer');
                                nvContainer.html(response);
                                menuLoaded = true;
                            },
                error: function (XMLHttpRequest, textStatus, errorThrown)
                        {
                                var nvContainer = $('#navcontainer');
                            nvContainer.html(errorThrown);
                        }
                });
   }
});
</script> 
```

可能部分观点：

```
 @model Mscl.OpCost.Web.Models.stuffmodel

<div class="menu">
    <ul>
        <li><a>@Html.ActionLink("Home", "Index", "Home")</a></li>
        <li><a>@Html.ActionLink("some stuff", "stuffs", "stuff")</a></li>
        <li> <h5><a><span>somestuff</span></a></h5>

                    <ul>
                        <li><a>stuffs1s</a>
                        <ul>
                            @foreach (var image in Model.stuffs.Where(g => g.Grouping == 1))
                            {
                                <li>

                                <a>@Html.ActionLink(image.Title, "stuffs", "stuff", new { Id = image.CategoryId }, null)</a>
                                </li>
                            }

                        </ul>
                        </li>
                   </ul>
        </il>
        </ul>
        </div> 
```

我需要知道为什么这在 IE 中可以正常工作，但为什么它不能在 FF（所有版本）中工作。任何援助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T09:36:03.833

替换此行

```
<a>@Html.ActionLink(image.Title, "stuffs", "stuff", new { Id = image.CategoryId }, null)</a> 
```

和

```
@Html.ActionLink(image.Title, "stuffs", "stuff", new { Id = image.CategoryId }, null) 
```

`@Html.ActionLink`将生成锚本身。

# mysql - 更新如果存在错误

> ID：12436122
> 
> 赞同：3
> 
> 时间：2012-09-15T09:21:23.577
> 
> 标签：mysql, sql

如果用户 ID 存在于表中的用户表中，我尝试更新表中的值（级别）

```
 IF EXISTS (SELECT userid FROM users)
  UPDATE people SET level='1' 
```

我错过了什么！得到错误？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-15T09:23:48.207

从您的评论*“如果两个表中都存在值为 1 的用户 ID，我需要更新级别列”*，看来您需要这个：

```
UPDATE
    `people`
SET
    `level` = 1
WHERE
    EXISTS (
        SELECT
            *
        FROM
            `users`
        WHERE
            users.userid = people.userid
    ); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-15T09:26:23.740

你不需要做选择。所有你需要的是：

```
UPDATE people SET level='1' WHERE userid IS NOT NULL 
```

顺便说一句，你在运行什么数据库？

**UPD。**抱歉，我错过了您有两张桌子的事实。我可以建议执行以下操作：

```
UPDATE people SET level='1' WHERE EXISTS (SELECT * FROM users WHERE 
users.userid = people.userid) 
```

此外，`UPDATE`可以使用 来完成`JOIN`，但这取决于您使用的是什么数据库。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-08-29T10:45:52.753

使用 MySQL，“UPDATE”上的“EXISTS”子句根本不起作用。

改用 JOIN 条件：

```
UPDATE people A, (SELECT userid FROM users) B SET A.level='1' 
```

但是，我想你也应该使用一些 WHERE 子句...... ;)

例如，只有在“users”表上存在连接值时，才会更新“people”表上的“level”...

```
UPDATE people A, users B SET A.level='1' WHERE A.userid=B.userid; 
```

# c++ - 我如何知道 OpenMP“for 指令”中完成了多少工作？

> ID：12436132
> 
> 赞同：4
> 
> 时间：2012-09-15T09:22:34.587
> 
> 标签：c++, openmp

我想知道使用 OpenMP 的 for 循环的进度。我知道减少指令不起作用，但我这样写：

```
#pragma omp for reduction (+:sum)
    for (int i=0; i < size; i++){
    // do something that takes about 10seconds 
    sum++;
#pragma omp critical
    cout << sum << " / " << size << endl; 
    } 
```

这将返回如下内容：

```
1 / 100
1 / 100
2 / 100
1 / 100
... 
```

但我想要这个：

```
1 / 100
2 / 100
3 / 100 
```

. ..

有没有办法在指令`sum`期间获得正确的值？`reduction`还是我应该使用另一种方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T13:36:46.023

你应该使用另一种方法。减少创建一个线程私有变量（在您的情况下`sum`），它仅在所有线程加入时才减少。减少高度依赖于实现。它可以等待所有线程完成，它可以在线程完成时减少，它可以创建一个减少树，等等。

相反，为了跟踪进度，您可以使用另一个变量`numDone`，每个线程自动增加该变量。

**编辑**

[维基百科](http://en.wikipedia.org/wiki/OpenMP#Reduction)解释得很好：

> reduction(operator | intrinsic : list)：变量在每个线程中都有一个本地副本，但是本地副本的值将被汇总（缩减）到一个全局共享变量中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T17:55:07.767

为了避免需要通信（通过更新共享计数器），您可以打印出线程号以及它到目前为止已处理的项目数，即

```
#pragma omp parallel
{
   int count = 0;
#pragma omp for schedule(dynamic)           // or whatever schedule you want
  for(int i=0; i<size; ++i) {
    // ...
    printf("@ %d: done %d loops\n",
           omp_get_thread_num(),++count);   // should not need a critical section
  }
} 
```

在您的特定情况下，由于工作大约需要 10 秒，因此任何通信都不是关键的，但使用动态计划可能是值得的，特别是如果工作可以在不同的`i`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T10:41:39.980

该`reduction`子句具有非常明确的含义，在[最新的 OpenMP 标准](http://www.openmp.org/mp-documents/OpenMP3.1.pdf)的第 2.9.3.6 节中有详细说明。我怀疑您能否将其用于上述目的。

无论如何，只需对您的源代码稍作修改即可实现该行为：

```
sum = 0
#pragma omp for shared(sum) schedule(guided)
for (int i=0; i < size; i++){
    // do something that takes about 10seconds 
#pragma omp critical(PRINT)
    {
      sum++;
      cout << sum << " / " << size << endl;     
    }
} 
```

通过这种方式，您可以确保一次只有一个线程试图增加“总和”并将其打印在屏幕上。考虑到每次迭代花费的时间很长，这种同步不应该引起性能问题。

# c# - 加载时 MDI 表单闪烁

> ID：12436138
> 
> 赞同：0
> 
> 时间：2012-09-15T09:23:15.163
> 
> 标签：c#, visual-studio-2010

我正在使用 Visual Studio 2010 在主菜单表单中创建一个项目，其他表单加载为 MDI 子表单，子表单没有边框样式，但加载时会闪烁边框，看起来不专业。

```
studentForm obj = new studentForm();
obj.MdiParent = this;
obj.Show(); 
```

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T08:42:17.237

我有同样的眨眼问题。我以编程方式通过大师班将表单边框设置为无。但后来我没有这样做，而是通过属性框本身将边框设置为 None ，而不是瞧！眨眼停止了。

尝试一下，您可能会解决您的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-05-03T06:46:29.020

用这个

```
 this.SetStyle(ControlStyles.DoubleBuffer | ControlStyles.UserPaint | ControlStyles.AllPaintingInWmPaint, true); 
```

# playframework-2.0 - play framework 2 在应用程序启动时，Akka Scheduler 不会重复运行函数 - 它只运行一次

> ID：12436144
> 
> 赞同：2
> 
> 时间：2012-09-15T09:23:48.937
> 
> 标签：playframework-2.0, akka, scheduler

在应用程序启动时，我想安排一个任务每 2 分钟运行一次（例如，它可能每 1 分钟运行一次）。

我尝试了 2 种方式：
1\. 使用 Akka schedule 方法和 Runnable abstract def schedule(initialDelay: Duration, frequency: Duration, runnable: Runnable):可取消
（类似于[如何在我的 play2.0 框架中集成 SMS & EMAIL Reminders web application.](https://stackoverflow.com/questions/10085591/how-to-integrate-sms-email-reminders-in-my-play2-0-framework-web-application)，除了我希望它被重复，所以我使用 schedule 而不是 scheduleOnce)
2\. 使用 Akka schedule 方法和 Actor 抽象 def schedule(initialDelay: Duration, frequency: Duration, receiver: ActorRef, message: Any) : 可取消（类似于[Java Play2- Akka for jobs](https://stackoverflow.com/questions/12108431/java-play2-akka-for-jobs)）

这是 Akka 调度程序 API： [http ://doc.akka.io/api/akka/2.0.3/#akka.actor.Scheduler](http://doc.akka.io/api/akka/2.0.3/#akka.actor.Scheduler)

在这两种情况下，我都覆盖了 Global 的 onStart 方法。我的全局位于根包中：/path/TestApp/app/Global.java

在这两种情况下，当我在生产模式下运行应用程序时（在开发模式下它根本不起作用......堆栈上有一个关于此的问题）它运行该函数或仅发送一次消息。

我怎样才能让它以一定的频率重复运行？

如果您已经这样做或对如何做有任何想法......请回复。

后期编辑 1：
首先，非常感谢 nico_ekito。
这是有效的版本：

类 MyUntypedActor.java

```
import akka.actor.UntypedActor;
import akka.event.Logging;
import akka.event.LoggingAdapter;

public class MyUntypedActor extends UntypedActor {
    LoggingAdapter log = Logging.getLogger(getContext().system(), this);

    public void onReceive(Object message) throws Exception {
        if (message instanceof String) {
            log.info("Received String message: {}", message);       
        }
        else {
            unhandled(message);     
        }
    }
} 
```

类 Global.java

```
import java.util.concurrent.TimeUnit;

import play.Application;
import play.GlobalSettings;
import play.libs.Akka;
import akka.actor.ActorRef;
import akka.actor.Props;
import akka.util.Duration;
public class Global extends GlobalSettings {

      @Override
      public void onStart(Application app) {
        ActorRef instance = Akka.system().actorOf(new Props(MyUntypedActor.class));
        Akka.system().scheduler().schedule(
            Duration.Zero(),
            Duration.create(10, TimeUnit.SECONDS),
            instance, "VALIDATE"
        );
      } 
} 
```

br /> 此版本适用于 akka 演员。但我还需要使用 Akka Scheduler 进行 WS 调用，如下所示：
[https](https://groups.google.com/forum/?fromgroups=#!searchin/play-framework/Akka) ://groups.google.com/forum/?fromgroups=#!searchin/play-framework/Akka $20Scheduler/play-framework/ -WAR7xk3H-o/oLg9ZrwwFDgJ
但在 Java 版本中。

那么......我如何安排一个函数在不使用演员的情况下以一定的频率运行？对于我的其他情况，演员可以工作，但对于 WS 调用，它似乎应该更简单......

后期编辑 2：
我发现案例 1（使用带有 Runnable 的 Akka 调度方法）不起作用，因为在同一个 onStart 方法中我定义了一个演员......似乎 Runnable 不“喜欢”演员实例...

案例 2，本质上类似于 nico_ekito 的案例仍然不起作用...所以我会避免使用 new Props().withCreator(new UntypedActorFactory() 的语法，
因为它显然有问题。

# web-services - Axis2 - 找不到此远程调用的匹配操作

> ID：12436145
> 
> 赞同：1
> 
> 时间：2012-09-15T09:23:55.830
> 
> 标签：web-services, axis2

有没有人遇到这个问题？

我们有一个使用 weblogic 开发的 Web 服务，我能够在soapUI 中成功导入 wsdl 并生成一个能够成功调用 Web 服务的客户端。然后我还能够为axis2生成一个客户端jar并将其包含在一个项目中。但是当我尝试在 java 代码中调用 Web 服务时，我得到了：

```
Unable to find a matching Operation for this remote invocation <xml-fragment> 
```

知道是什么导致了问题吗？

谢谢，
czetsuya

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2019-11-24T17:21:18.263

同样的问题。

```
ListarRegionesDocument request = ListarRegionesDocument.Factory.newInstance();

<?xml version='1.0' encoding='UTF-8'?><soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
  <soapenv:Body>
    <xml-fragment/>
  </soapenv:Body>
</soapenv:Envelope> 
```

解决方案

```
ListarRegionesDocument request = ListarRegionesDocument.Factory.newInstance();
//Add code
ListarRegiones lstRegion = ListarRegiones.Factory.newInstance();
request.setListarRegiones(lstRegion );

<?xml version='1.0' encoding='UTF-8'?>
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
    <soapenv:Body>
        <reg:listarRegiones xmlns:reg="http://region.webservices.col.direccionNormalizada.telefonica.cl/"/>
    </soapenv:Body>
</soapenv:Envelope> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-07T03:02:18.833

我能够通过在soapUI 中使用Axis1 来解决这个问题。看来我们的客户正在使用一种旧技术。

# python - 为什么 Tkinter 画布线条呈锯齿状？

> ID：12436147
> 
> 赞同：12
> 
> 时间：2012-09-15T09:24:12.523
> 
> 标签：python, tkinter, antialiasing

在 a 上绘制的线条`Tkinter.Canvas`并不平滑。如何使它们变得光滑？

这是我尝试过的：

```
 from Tkinter import *
 root = Tk()
 cv = Canvas(root,bg = 'white')
 rt1 = cv.create_rectangle(10,10,110,110,width = 8,tags = ('r1','r2','r3'))

 def printRect(event):
     print 'rectangle'
 def printLine(event):
     print 'line'

 cv.tag_bind('r1','<Button-1>',printRect)
 cv.tag_bind('r1','<Button-3>',printLine)
 cv.create_line(10,20,200,200,width = 5,tags = 'r1')
 cv.pack()
 root.mainloop() 
```

这是它的样子：

![示例代码的 tkinter 输出](../Images/71e5a256c5c678b2491333830c7ef1df.png)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-15T10:52:37.007

`Tkinter`图形没有抗锯齿，这就是对角线出现锯齿状的原因。可能有一个特定于平台的解决方法，比如我发现的标题为[在 Tkinter/Windows 下绘制抗锯齿图形](https://web.archive.org/web/20200629063636id_/http://effbot.org/zone/tkinter-aggdraw.htm)以提供您想要的功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-12-02T06:16:53.087

您可能会尝试通过在第一条线之前（下方）绘制一个颜色更清晰、大一像素的第二条线来对穷人进行一些抗锯齿处理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-12-22T03:49:10.183

1.  绘制抗锯齿图像（使用 Image PIL、numpy、opencv 等）
2.  在画布上显示图像。

# c# - 在java中而不是在c#中可以从非静态类访问静态方法

> ID：12436148
> 
> 赞同：3
> 
> 时间：2012-09-15T09:24:58.453
> 
> 标签：c#, static, static-methods, static-classes

使用对象从非静态类访问静态方法。这在 C# 中是不可能的。它是由 JAVA 完成的。这个怎么运作？

java的例子

```
/**
* Access static member of the class through object.
*/
import java.io.*;

class StaticMemberClass {
    // Declare a static method.
    public static void staticDisplay() {
        System.out.println("This is static method.");
    }
    // Declare a non static method.
    public void nonStaticDisplay() {
        System.out.println("This is non static method.");
    }
}

class StaticAccessByObject {

    public static void main(String[] args) throws IOException {
        // call a static member only by class name.
        StaticMemberClass.staticDisplay();
        // Create object of StaticMemberClass class.
        StaticMemberClass obj = new StaticMemberClass();
        // call a static member only by object.
        obj.staticDisplay();
        // accessing non static method through object.
        obj.nonStaticDisplay();
    }
} 
```

程序的输出：

```
This is static method.
This is static method.
This is non static method. 
```

**如何在 C# 中做到这一点？** 提前致谢..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T09:30:00.277

`instance.Method`C# 禁止通过, only引用静态方法`Type.Method`。要调用静态方法，您需要通过类型，而不是实例。
在您的情况下，这意味着`StaticMemberClass.staticDisplay()`有效，但`obj.staticDisplay()`无效。

* * *

> 当在表单的*成员访问*（第 7.6.4 节）中引用方法时`E.M`，如果`M`是静态方法，则**`E`必须表示**包含的类型`M`，如果`M`是实例方法，则`E`必须表示包含的类型的实例`M`。

*（C# 语言规范版本 4.0 - 10.6.2 静态和实例方法）*

> 当在表单的*成员访问*（第 7.6.4 节）中`M`引用静态成员时，必须表示包含 的类型。**表示实例****是编译时错误。***`E.M``E``M`**`E`***

 **（C# 语言规范版本 4.0 - 10.3.7 静态和实例成员）*

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-15T09:27:54.597

你不能。在您的情况下，您需要使用实际的课程

```
StaticMemberClass.staticDisplay(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T10:37:10.473

您可以创建一个实例成员来包装对静态成员的调用。或者使静态成员成为实例成员。*

# java - 如何知道显式锁是否已成功提供内存可见性？

> ID：12436153
> 
> 赞同：1
> 
> 时间：2012-09-15T09:26:01.290
> 
> 标签：java, multithreading, concurrency

这是从互联网某处复制的代码：
**这个显式锁定如何工作？**

```
public class Lock {
  private Object lockObj = new Object();
  private Thread owner;
  private int lockCount;

  /**
   * Waits for up to 'maxWait' milliseconds to acquire the lock,
   * and returns true if the lock was acquired.
   **/
  public boolean acquireLock(int maxWait) throws InterruptedException {
    Thread currentThread = Thread.currentThread();
    synchronized (lockObj) {
      if (owner == currentThread) {
        lockCount++;
        return true;
      }
      long waitedSoFar = 0L;
      while (owner != null) {
        long t0 = System.currentTimeMillis();
        long timeToWait = maxWait - waitedSoFar;
        if (timeToWait <= 0)
          return false;
        lockObj.wait(timeToWait);
        if (owner != null) {
          waitedSoFar += System.currentTimeMillis() - t0;
        }
      }
      owner = currentThread;
      lockCount = 1;
      return true;
    }
  }
  public void releaseLock() {
    Thread currentThread = Thread.currentThread();
    synchronized (lockObj) {
      if (owner == currentThread) {
        lockCount--;
        if (lockCount == 0) {
          owner = null;
          lockObj.notify();
        }
        return;
      } else {
        // Only the owner can release the lock!
        throw new IllegalStateException();
      }
    }
  }
} 
```

我还没有看到任何特殊代码来保证内存可见性。唯一与并发相关的是“synchronized(lockObj){ ... }”

**那是魔法吗？
CPU 在获取一些同步监视器之前是否只是刷新其所有缓存？
还是相反？
当释放一些同步监视器时，CPU 是否只是刷新其所有缓存？**

编辑：
嗯，我得到了一些与并发等待/通知相关的其他事情。

想想看。这个显式锁是如何工作的？

1.  获取锁，修改变量（防止其他线程获取），然后释放锁。
2.  做任何事情。
3.  获取锁，修改变量（允许其他线程获取）。
4.  其他一些线程获取锁，然后循环......

之前发生的关系只是在 3 和 4 之间，对吗？
还是在 1 和 3 之间也可以保证发生前的关系？那么2是保证内存可见性吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T09:50:33.567

没有 cpu 可以获取的同步监视器之类的东西。监视器是在您正在编程的语言（在本例中为 java）的运行时中实现的结构。

java 运行时负责此锁定并禁止其他代码进入同步的代码块。cpu 只看到处理它的指令。

关于缓存问题：cpu 不仅仅决定刷新缓存。缓存会一直保留，直到被覆盖。

# vim - 如何在 vi/vim 中返回 (ct rl+z)

> ID：12436154
> 
> 赞同：146
> 
> 时间：2012-09-15T09:26:01.480
> 
> 标签：vim, vi, back, undo, undo-redo

在普通的文本编辑器中[对 Vim 有充分的尊重]，当你做了一些讨厌的事情并想要返回到文本的先前版本时，有一个快捷方式`Ctrl`+ 。`Z`就像 Word 中的“后退”按钮一样。我想知道如何在 Vim 中实现这种行为。

* * *

## 回答 #1

> 赞同：243
> 
> 时间：2012-09-15T09:27:28.277

您可以使用`u`按钮撤消上一次修改。（和`Ctrl`+`R`重做它）。

阅读更多关于它的信息：http: [//vim.wikia.com/wiki/Undo_and_Redo](http://vim.wikia.com/wiki/Undo_and_Redo)

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-09-15T09:35:56.670

答案 , `u`（和许多其他人）在`$ vimtutor`.

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2019-03-22T02:32:01.273

只需在*正常模式下*按：

*   `u`-***撤消***，*_*
*   `Ctrl`+ `r`- ***r** edo*已撤消的更改（*撤消**撤消*）。

[撤消和重做](https://vim.fandom.com/wiki/Undo_and_Redo)

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2016-10-20T04:41:46.900

这是一个技巧。您可以映射`Ctrl`+`Z`键。这可以通过编辑`.vimrc`文件来实现。在 '.vimrc` 文件中添加以下行。

```
nnoremap <c-z> :u<CR>      " Avoid using this**
inoremap <c-z> <c-o>:u<CR> 
```

这可能不是首选方式，但可以使用。

** `Ctrl`+`Z`在 Linux 中用于暂停正在进行的程序/进程。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-03-04T06:14:28.430

在 Mac 上，您还可以使用命令 Z，这将撤消。我不知道为什么，但有时它会停止，如果你喜欢我和 vimtutor 在你需要学习的那长长的列表的底部，那么你可以关闭窗口并重新打开它并且应该可以正常工作。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-02-08T16:07:22.777

我现在有同样的问题，我解决了。你一定不再需要它，所以我为别人写：

如果你在**windows上使用****gvim**，你只需将它添加到你的**_vimrc**中： ****`$VIMRUNTIME/mswin.vim behave mswin`****

 ****否则只需使用 imap ...****

# .net - WinRT C# Metro Play MediaElement Asynchronous

> ID：12436169
> 
> 赞同：3
> 
> 时间：2012-09-15T09:29:02.087
> 
> 标签：.net, windows-8, microsoft-metro, mediaelement, winrt-async

Im trying to build Win8 metro style application. Im trying to play remote video which is on web in media element.

```
 MediaElement media = new MediaElement();
        Uri url = new Uri("some url on web");
        media.Source = url;
        media.Play(); 
```

The first streaming takes time. It takes time to video to start play, in this meantime application is locked. I want to do that playing ascnhronously. How can i achive this.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T11:03:39.547

after some search, i find out that with dispatcher element, i can do my work asynchronously. Here is the sample:

```
await this.Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =>
         {
            MediaElement media = new MediaElement();
            Uri url = new Uri("some url on web");
            media.Source = url;
            media.Play();
         }

        ); 
```

You have to mark the calling function as async in order this code block to work.

# google-analytics - 开发网站上的谷歌分析脚本

> ID：12436170
> 
> 赞同：2
> 
> 时间：2012-09-15T09:29:01.883
> 
> 标签：google-analytics

我正在使用标准脚本在我的网页上设置谷歌分析：

```
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-XXXXX-X']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script> 
```

如果我将这个站点包含在我的 UAT 页面（例如[http://uatsite.com/](http://uatsite.com/)）上，Google 会跟踪任何活动，或者它只会跟踪我的主站点上的活动（例如[http://production-site.com](http://production-site.com)）。

谢谢

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-09-15T10:21:18.727

这只会收集您配置的网址的分析。这不会从任何其他域收集。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-15T15:46:34.963

Google Analytics 从其接收信息的域（或 GA 喜欢称它为*hostname*）无关紧要，实际上由客户来定义它（并且被大量利用，仅举一个示例）[。](http://blog.analytics-toolkit.com/2015/guide-referrer-spam-google-analytics/)

如果您不想跟踪 UAT 站点上的活动，可以创建`Hostname`过滤器以防止记录数据。此过滤器可以是**包含**类型，以便仅您的生产站点注册或**排除**类型，因此它仅排除您的 UAT 站点。

或者，您可以修改您的分析代码，使其不在 UAT 站点上进行跟踪：

```
if (!/uatsite/.test(window.location.hostname)) _gaq.push(['_trackPageview']); 
```

# graphics - 以 2D 矢量格式从 Pov-Ray 转换/导出图形

> ID：12436175
> 
> 赞同：5
> 
> 时间：2012-09-15T09:29:28.463
> 
> 标签：graphics, export, vector-graphics, povray

默认情况下，Pov-Ray 渲染位图文件。有没有办法以 eps、pdf、svg 等矢量格式转换或导出相同的图像？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T09:34:35.180

POV-Ray 没有任何类型的矢量输出。一般来说，光线追踪器（如 POV-Ray）通过将光线从屏幕像素追踪到场景中来工作，以确定像素应该是什么颜色 - 所以它们本质上是基于像素的。

要将“光线追踪”转换为矢量格式，您必须计算每个可见多边形的照明值，然后将多边形作为矢量投影到视角上。我不知道任何可用的软件可以做到这一点。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-27T22:47:25.553

我还要补充一点，如果您拍摄图像并使用大多数工具将其转换为矢量格式，例如 pdf 或 eps，它基本上只是将位图数据包装成一个数组，并且仍然只能逐个像素地渲染它。

但是，如果您使用 POV-Ray 进行高对比度渲染以便将其转换为黑白图像，则可以使用名为 potrace 的免费软件将其转换为真正的矢量图形。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-03-25T16:25:56.157

首先，您可以将 POV-Ray 图形导出到`asc`文件中。为此，请参阅[此处给出的链接和答案](https://stackoverflow.com/q/49477327/1100107)。

然后可以`asc`在Meshlab中打开这个文件，然后以`STL`or`OBJ`格式导出。最后，您可以在[Wings3D](http://www.wings3d.com/)`STL`中导入或`OBJ`文件，该文件允许导出到和。 `eps``svg`

# file - 使用 Lisp 从文件中读取矩阵

> ID：12436176
> 
> 赞同：2
> 
> 时间：2012-09-15T09:29:31.807
> 
> 标签：file, matrix, lisp

我从 Lisp 开始，尝试从文件中读取矩阵以对 A-star 算法进行编程时遇到了很大的问题。我应该阅读的文件在文件的顶部有行数和列数，我必须将两者保存在几个全局变量（*N*和*M*）中。文件格式应该是这样的：

```
ROWS
5
COLUMNS
5
MATRIX
1 1 1 1 1
1 1 0 1 1
1 1 0 0 1
1 1 0 0 1
1 1 1 0 1
START
4 2
GOAL
4 4 
```

我现在的代码是这样的（顺便说一句，这可能很蹩脚）

```
(defvar *N*)
(defvar *M*)
(defvar *Goal*)
(defvar *Start*)
(defvar *Matrix*)

(defun read-matrix (file)
  (let ((in (OPEN file :DIRECTION :INPUT)))
    (read-line in nil) 
    (SETQ *N* (parse-integer (read-char in)))
    (read-line in nil)
    (read-line in nil)
    (SETQ *M* (parse-integer (read-line in)))
    (read-line in nil)
    (read-line in nil)
    (SETQ *Matrix* (MAKE-ARRAY '(*N* *M*) :initial-element 1))
    (loop for i from 0 to *N*
        do (loop for j from 0 to *M*
               do (SETF (AREF *Matrix* i j)
                    (read-char in))))
    (read-line in nil)
    (SETQ *Start* (read-line in))
    (read-line in nil)
    (SETQ *Goal* (read-line in)))) 
```

如果有人可以帮助我，我将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T15:06:54.450

有一堆错误。

1.  你打开一个流，但从不关闭它
2.  你调用`PARSE-INTEGER`一个字符，当它需要一个字符串时
3.  `MAKE-ARRAY`用符号列表调用，但它应该是数字列表。

另外：使用全局变量不是一个好主意。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-16T12:34:35.297

第一个问题：您打开一个文件，但从不关闭它。使用时`open`，需要记住`close`之后。由于这很常见，因此有`with-open-file`, 会自动关闭（有关文档，请参阅 CLHS）。

```
(defvar *N*)
(defvar *M*)
(defvar *Goal*)
(defvar *Start*)
(defvar *Matrix*)

(defun read-matrix (file)
  (with-open-file (in file
                      :direction :input)
    (read-line in nil) 
    (setq *N* (parse-integer (read-char in)))
    (read-line in nil)
    (read-line in nil)
    (setq *M* (parse-integer (read-line in)))
    (read-line in nil)
    (read-line in nil)
    (setq *Matrix* (make-array '(*N* *M*) :initial-element 1))
    (loop for i from 0 to *N*
        do (loop for j from 0 to *M*
               do (setf (aref *Matrix* i j)
                    (read-char in))))
    (read-line in nil)
    (setq *Start* (read-line in))
    (read-line in nil)
    (setq *Goal* (read-line in)))) 
```

第二个问题：`read-char`返回一个字符，并且`parse-integer`没有为一个字符定义。似乎您可以简单地阅读整行。

```
(defvar *N*)
(defvar *M*)
(defvar *Goal*)
(defvar *Start*)
(defvar *Matrix*)

(defun read-matrix (file)
  (with-open-file (in file
                      :direction :input)
    (read-line in nil) 
    (setq *N* (parse-integer (read-line in)))
    (read-line in nil)
    (read-line in nil)
    (setq *M* (parse-integer (read-line in)))
    (read-line in nil)
    (read-line in nil)
    (setq *Matrix* (make-array '(*N* *M*) :initial-element 1))
    (loop for i from 0 to *N*
        do (loop for j from 0 to *M*
               do (setf (aref *Matrix* i j)
                    (read-char in))))
    (read-line in nil)
    (setq *Start* (read-line in))
    (read-line in nil)
    (setq *Goal* (read-line in)))) 
```

第三个问题：您似乎在需要的行之间丢弃了太多行。

```
(defvar *N*)
(defvar *M*)
(defvar *Goal*)
(defvar *Start*)
(defvar *Matrix*)

(defun read-matrix (file)
  (with-open-file (in file
                      :direction :input)
    (read-line in nil) ; "ROWS"
    (setq *N* (parse-integer (read-line in)))
    (read-line in nil) ; "COLUMNS"
    (setq *M* (parse-integer (read-line in)))
    (read-line in nil) ; "MATRIX"
    (setq *Matrix* (make-array '(*N* *M*) :initial-element 1))
    (loop for i from 0 to *N*
        do (loop for j from 0 to *M*
               do (setf (aref *Matrix* i j)
                    (read-char in))))
    (read-line in nil) ; "START"
    (setq *Start* (read-line in))
    (read-line in nil) ; "GOAL"
    (setq *Goal* (read-line in)))) 
```

第四个问题：make-array 形式需要数字来设置它的维度，但是你给它两个符号。您需要评估这些符号以获得所需的值：

```
(defvar *N*)
(defvar *M*)
(defvar *Goal*)
(defvar *Start*)
(defvar *Matrix*)

(defun read-matrix (file)
  (with-open-file (in file
                      :direction :input)
    (read-line in nil) ; "ROWS"
    (setq *N* (parse-integer (read-line in)))
    (read-line in nil) ; "COLUMNS"
    (setq *M* (parse-integer (read-line in)))
    (read-line in nil) ; "MATRIX"
    (setq *Matrix* (make-array (list *N* *M*) :initial-element 1))
    (loop for i from 0 to *N*
        do (loop for j from 0 to *M*
               do (setf (aref *Matrix* i j)
                    (read-char in))))
    (read-line in nil) ; "START"
    (setq *Start* (read-line in))
    (read-line in nil) ; "GOAL"
    (setq *Goal* (read-line in)))) 
```

第五个问题：您似乎希望矩阵包含位，但您只将字符放入其中。最重要的是，您的矩阵甚至不会包含您期望的(the *number* ) 和期望a 的`#\1`(the *character* ) ，而是包含以下 (假设 Unix 样式的换行符)：`1`*`#\0``0`*

 *```
#2A((#\1 #\Space #\1 #\Space #\1)
    (#\Space #\1 #\Space #\1 #\Newline)
    (#\1 #\Space #\1 #\Space #\0)
    (#\Space #\1 #\Space #\1 #\Newline)
    (#\1 #\Space #\1 #\Space #\0)) 
```

为了完成你想要的，我建议读取矩阵行，然后将它们拆分为空格并解析字段。一个方便的库是`split-sequence`.

```
(defvar *N*)
(defvar *M*)
(defvar *Goal*)
(defvar *Start*)
(defvar *Matrix*)

(defun read-matrix (file)
  (with-open-file (in file
                      :direction :input)
    (read-line in nil) ; "ROWS"
    (setq *N* (parse-integer (read-line in)))
    (read-line in nil) ; "COLUMNS"
    (setq *M* (parse-integer (read-line in)))
    (read-line in nil) ; "MATRIX"
    (setq *Matrix* (make-array (list *N* *M*) :initial-element 1))
    (loop :for i :from 0 :to *N*
          :do (let* ((line (read-line in))
                     (fields (split-sequence:split-sequence #\Space line))))
                (loop :for field :in fields
                      :for j :upfrom 0
                      :do (setf (aref *matrix* i j)
                                (parse-integer field))))
    (read-line in nil) ; "START"
    (setq *Start* (read-line in))
    (read-line in nil) ; "GOAL"
    (setq *Goal* (read-line in)))) 
```

在这一点上，这应该“工作”，对于“工作”的一些价值（虽然我没有测试过）。

然而，大约 30 年前，使用全局变量来传递信息已被确立为不成熟的。将其引入更适合健壮程序的样式的第一步是从函数返回值。

```
(defun read-matrix (file)
  (let (n m goal start matrix)
    (with-open-file (in file
                        :direction :input)
      (read-line in nil) ; "ROWS"
      (setf n (parse-integer (read-line in)))
      (read-line in nil) ; "COLUMNS"
      (setf m (parse-integer (read-line in)))
      (read-line in nil) ; "MATRIX"
      (setf matrix (make-array (list n m) :initial-element 1))
      (loop :for i :from 0 :to n
            :do (let* ((line (read-line in))
                       (fields (split-sequence:split-sequence #\Space line))))
                  (loop :for field :in fields
                        :for j :upfrom 0
                        :do (setf (aref matrix i j)
                                  (parse-integer field))))
      (read-line in nil) ; "START"
      (setf start (read-line in))
      (read-line in nil) ; "GOAL"
      (setf goal (read-line in)))
    (values n m goal start matrix))) 
```

我认为您真正需要的是一个结构或类，用于您在此处阅读的内容。它可能被称为`game-state`.

```
(defclass game-state ()
  ((rows :accessor rows :initarg :rows)
   (columns :accessor columns :initarg :columns)
   (goal :accessor goal :initarg :goal)
   (start :accessor start :initarg :start)
   (board :accessor board :initarg board))) 
```

然后应该命名您的函数`read-game-state`并返回此类的对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T16:09:21.840

让你开始的东西：

```
(defvar *rows*)
(defvar *columns*)
(defvar *goal*)
(defvar *start*)
(defvar *matrix*)

(defun parse-sequence (tokens parser &key (delimiter #\Space))
  (do ((start 0)
       (end (position delimiter tokens :start 0)
            (position delimiter tokens :start start))
       result)
      ;; you could also read from end to avoid reversing
      ;; I just find this to be more natural
      ((null end)
       (reverse
        (cons
         (funcall parser
                  (subseq tokens start (length tokens)))
                 result)))
    (setf result
          (cons (funcall parser
                         (subseq tokens start end)) result))
    (setf start (1+ end))))

(defun parse-matrix-source (file)
  (with-open-file (stream file :direction :input)
    (do ((line (read-line stream nil :eof)
               (read-line stream nil :eof))
         (matrix-row 0)
         (matrix-column 0 0)
         state)
        ((eq line :eof))
      (cond
        ((string= line "ROWS") (setf state '*rows*))
        ((string= line "COLUMNS") (setf state '*columns*))
        ((string= line "MATRIX") (setf state '*matrix*))
        ((string= line "START") (setf state '*start*))
        ((string= line "GOAL") (setf state '*goal*))
        ((eq state '*rows*) (setf *rows* (parse-integer line)))
        ((eq state '*columns*)
         (setf *columns* (parse-integer line)
               *matrix* (make-array (list *rows* *columns*)
                                    :initial-element 0)))
        ((eq state '*matrix*)
         (dolist (i (parse-sequence line 'parse-integer))
           (setf (aref *matrix* matrix-column matrix-row) i
                 matrix-column (1+ matrix-column)))
         (incf matrix-row))
        ((eq state '*start*)
         (setf *start* (parse-sequence line 'parse-integer)))
        ((eq state '*goal*)
         (setf *goal* (parse-sequence line 'parse-integer)))))))

(defun test-parse-matrix ()
  (parse-matrix-source #P"~/Projects/lisp-doodles/matrix.txt")
  (format t "rows: ~d, columns: ~d, goal: ~s, start: ~s~& matrix: ~s~&"
          *rows* *columns*  *goal* *start* *matrix*))

(test-parse-matrix) 
```

但我会考虑一种更好的格式——在这种情况下，你很有可能找到一个已经能够解析它的库+将在未来提供更大的灵活性。即使是 CSV 或 INI 也会比你现在拥有的更好。*

# javascript - 即使元素存在于数组中，inArray() 也会返回 -1

> ID：12436177
> 
> 赞同：0
> 
> 时间：2012-09-15T09:29:32.927
> 
> 标签：javascript, jquery

```
$.post('service.php?getPhotos', function(data){ 

    var photoIds = [];

    $.each(data, function(){
        photoIds.push(this.id);
    });

    console.log(_photoId); //7962669392
    console.log(photoIds); //["7980686507", "7962669392", "7962163506"]
    console.log($.inArray(_photoId, photoIds)); //-1

}); 
```

为什么不`console.log($.inArray(_photoId, photoIds));`回来`1`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T09:31:59.873

它似乎`_photoId`是一个数字，但`photoIds`包含字符串。试试这个：

```
$.inArray(''+ _photoId, photoIds) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-15T09:32:00.833

我可以想象的字符串与整数。不同的类型意味着 inArray 不会将它们视为相同的。确保您使用的是字符串而不是整数，这应该可以工作。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T09:34:32.037

这是因为该`$.inArray`函数还考虑了类型。它不会说整数与字符串相同。这也在[文档](http://api.jquery.com/jQuery.inArray/)的第一条评论中进行了解释。

您可以使用`_photoId.toString()`来获取值的字符串表示形式。

另请注意，ECMAScript (Javascript) 有一个名为[indexOf](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/indexOf)的本机函数，它的作用与 jQuery 完全相同：

```
photoIds.indexOf(_photoId.toString()) 
```

# iphone - 图像不适合 UIImageView 的框架

> ID：12436178
> 
> 赞同：16
> 
> 时间：2012-09-15T09:29:56.813
> 
> 标签：iphone, ios, objective-c, ipad, uiimageview

我正在创建`UIImageView`使用界面生成器。它的帧大小是 (320,67)。我想在 imageView 上显示图像。我正在从网络上获取图像。问题是从网络获取的图像被拉伸以显示在图像视图上......这是我的代码

```
NSData *imageData=[NSData dataWithContentsOfURL:[NSURL URLWithString:@"http://www.isco.com/webproductimages/appBnr/bnr1.jpg"]];
imageView.image = [UIImage imageWithData:imageData]; 
```

谁能告诉我如何显示适合在 imageView 上显示的图像？？？？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2012-09-15T09:38:36.417

要么使用

```
imageView.contentMode = UIViewContentModeScaleAspectFill; 
```

或者

```
imageView.contentMode = UIViewContentModeScaleAspectFit; 
```

第一个将填充框架，可能会切断图像的一部分。第二个将显示整个图像，可能会使框架的某些区域保持打开状态。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2016-08-24T06:05:24.697

**对于斯威夫特：**

```
imageView.contentMode = UIViewContentMode.ScaleAspectFit 
```

**对于 Objective-C ：**

```
 imageView.contentMode = UIViewContentModeScaleAspectFit 
```

*ScaleAspectFit 选项用于通过保持纵横比来缩放内容以适应视图的大小。视图边界的任何剩余区域都是透明的。*

[![截屏](../Images/14c19300be32229109dc3d1e8177d59e.png)](https://i.stack.imgur.com/Cx1Y5.png)

有关详细信息，请参阅[Apple 文档](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIView_Class/index.html#//apple_ref/c/tdef/UIViewContentMode)。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-11-12T18:59:02.683

在根据图像的纵横比缩放图像后，我最终调整了图像的大小。

```
let widthRatio = ImageView.bounds.size.width / (captureImageView.image?.size.width)!
let heightRatio = ImageView.bounds.size.height / (captureImageView.image?.size.height)!
let scale = min(widthRatio, heightRatio)
let imageWidth = scale * (ImageView.image?.size.width)!
let imageHeight = scale * (ImageView.image?.size.height)!
ImageView.frame = CGRect(x: 0, y: 0, width: imageWidth, height: imageHeight) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-25T11:12:18.953

试试这个代码。

```
imView.contentMode = UIViewContentModeScaleAspectFit; 
```

# sharepoint - BackGroundWorker 无法在 VSTO Outlook 中工作

> ID：12436182
> 
> 赞同：2
> 
> 时间：2012-09-15T09:30:13.320
> 
> 标签：sharepoint, vsto

我正在开发一个 VSTO Outlook 插件，它正在将电子邮件上传到共享点文档库，但关键问题是，即使使用 BackGroundWorker，我也无法在上传过程中使用 Outlook。

代码如下。

```
System.Threading.SynchronizationContext.SetSynchronizationContext(new WindowsFormsSynchronizationContext()); 
bw = new BackgroundWorker(); 
bw.WorkerReportsProgress = true; 
bw.DoWork += delegate(object sender, DoWorkEventArgs e) 
   { 
      bw_DoWork(sender, e, uploadData); 
   }; 
bw.RunWorkerCompleted += new RunWorkerCompletedEventHandler(bw_RunWorkerCompleted);
bw.ProgressChanged += new ProgressChangedEventHandler(bw_ProgressChanged); 
```

如果有人知道如何解决它，请在这方面快速帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T15:37:49.683

您可以尝试在上传实现上放置一个断点，然后在 Visual Studio 中打开线程窗口以验证它在哪个线程上运行。

如果它在正确的线程上运行，那么您应该检查您的进度报告逻辑是否锁定了 UI 线程（例如，事件可能触发得太频繁）。

最后，您可能会遇到问题，因为上传方法的实现是以某种方式直接访问 Outlook COM 对象。

# asp.net - 在asp.net中的自动完成文本框搜索ajaxcontroltoolKit中返回带有名称的图像

> ID：12436185
> 
> 赞同：0
> 
> 时间：2012-09-15T09:30:29.000
> 
> 标签：asp.net

我想在 asp.net 中搜索返回名称和图像。因为我正在使用 AjaxControlToolKit，但它只返回名称而不是图像..

我的自动完成 src 代码是这样的

```
 [WebMethod]

public string[] GetCompletionList(string prefixText)
{

    SqlConnection conn = new SqlConnection("Data Source=sharedmssql.znetindia.net,1234;Initial Catalog=jobandhotel;User ID=jobnhotel;Password=-pl,0okm");

    cmd2 = new SqlCommand("SELECT * FROM  ManageUser_JobSeeker WHERE KeySkills like   '" + prefixText + "%' ", conn);

    cmd2.CommandType = CommandType.Text;

    DataSet ds=new DataSet();
    da = new SqlDataAdapter(cmd2);
    da.Fill(ds);
    if (ds.Tables.Count == 0 || ds.Tables[0].Rows.Count == 0)

    return default(string[]);

    List<string> items = new List<string>(ds.Tables[0].Rows.Count);
    foreach (DataRow row in ds.Tables[0].Rows)
    {

         items.Add(row["JobSeekerName"].ToString()+ "<img src='ram.jpg' height='10' width='10'/>");

    }
    return items.ToArray();

}![i want serch like this as in linkedlen,   please  provide me a source code if you can][1] 
```

# c# - 如何在 C# 中启动我的项目中包含的 .exe 文件？

> ID：12436186
> 
> 赞同：0
> 
> 时间：2012-09-15T09:30:50.620
> 
> 标签：c#

> **可能重复：**
> [在 C# 程序中嵌入外部可执行文件](https://stackoverflow.com/questions/798655/embedding-an-external-executable-inside-a-c-sharp-program)

我创建项目“MyProj”并添加到资源程序“This.exe”...

如何在“MyProj.exe”中启动“this.exe”？

感谢您的任何想法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T09:46:49.373

Once you added the .exe to your project, got to the properties window then change the `Build action` to `Content` and `Copy to output directory` to `Always Copy` or `Copy if newer`

![enter image description here](../Images/553a1bb430f72c9819cc0daeff4f9d86.png)

To run the Application use :

```
Process.Start("This.exe"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T09:32:49.840

按`F5`或转到`Debug -> Start Debugging`（这与点击`Play`按钮相同）。

如果您不想调试，请按`Ctrl`+`F5`或转到`Debug -> Start without debugging`.

**编辑：** 经过作者的编辑，我认为这就是答案：[Launching an application (.EXE) from C#?](https://stackoverflow.com/questions/240171/launching-a-application-exe-from-c)

或者也许：[在visual studio中运行作为资源添加的exe文件](https://stackoverflow.com/questions/9030880/run-exe-file-added-as-resource-in-visual-studio)

# php - 如何通过存储在变量中的名称访问 json 字段？

> ID：12436187
> 
> 赞同：-1
> 
> 时间：2012-09-15T09:31:02.673
> 
> 标签：php, json

我有一个用 json_decode 创建的 PHP 变量。

结果的第一个字段有一个我存储在变量中的名称。

那么我如何通过存储在变量中的名称访问该字段呢？

我试过了：

`$json_decoded->{$item}`

但它返回 null....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T09:35:38.310

```
$v = "b";
$json = '{"a":1,"b":2,"c":3,"d":4,"e":5}';
$d = json_decode($json);
echo $d->$v; 
```

另一种方式

```
$v = "b";
$json = '{"a":1,"b":2,"c":3,"d":4,"e":5}';
$d = json_decode($json,true);
echo $d[$v]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T09:33:36.893

不使其成为变量：

```
$json_decoded->item 
```

# iphone - DiracLE 可以更改 Pitch 或只是时间 Stretching

> ID：12436189
> 
> 赞同：0
> 
> 时间：2012-09-15T09:31:08.623
> 
> 标签：iphone, objective-c, ios

我正在使用狄拉克 LE。我试图改变声音的音高，但在控制台中出现以下错误..

![在此处输入图像描述](../Images/ba3cfa3f2bb9ed5bf82af8fbc780c9da.png)

Dirac LE 可以转换声音音频的音高吗？我知道我只能使用一个频道。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T08:15:05.660

是的，你可以改变音高。

请注意，当您更改某些内容时，您需要创建和销毁 dirac 对象

所以：

*   使用 DiracCreate（或交错版本）创建 dirac 实例
*   设置音高/速度和其他设置
*   使用 DiracProcess 进行处理
*   使用 DiracDestroy 销毁 dirac 实例

如果要更改设置，则需要在 LE 版本中创建/销毁 dirac 实例（调用 DiracReset 是不够的）

哦，您可以通过拥有多个 dirac 实例来处理多个通道，但是这些实例没有链接/同步，这可能会导致左/右通道的微小变化，从而导致不稳定的立体声图像

# android - 冰淇淋三明治和果冻豆中的块 Home 按钮

> ID：12436190
> 
> 赞同：9
> 
> 时间：2012-09-15T09:31:13.633
> 
> 标签：android, home-button

我正在开发锁定屏幕，我想在冰淇淋三明治和果冻豆中禁用主页按钮，我可以在 android 2.2、2.3 中使用以下方法阻止它

```
 @Override
public void onAttachedToWindow() {
    // TODO Auto-generate method stub
    this.getWindow().setType(WindowManager.LayoutParams.TYPE_KEYGUARD);
    super.onAttachedToWindow();
} 
```

也试过这个

```
 getWindow().setType(WindowManager.LayoutParams.TYPE_SYSTEM_ALERT); 
```

在这里，我也没有通过`onPause`Method 或`onKeyDown`

但是这些方法在 ICS 中对我不起作用，果冻豆如果有任何方法可以替代它，请告诉我

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-09-24T16:03:02.170

在 ICS 即 Android 4+ 之后，出于安全原因，已删除了 HomeButton 的覆盖，以便在应用程序被证明是恶意软件的情况下允许用户退出。

另外，不让用户离开应用程序并不是一个很好的做法。但是，由于您正在制作一个锁屏应用程序，您可以做的是将活动声明为**Launcher**，这样当按下 HomeButton 时，它会简单地重新启动您的应用程序并自行保持在那里（用户只会注意到轻微的闪烁在屏幕上）。

**编辑＃1：**这是[另一种解决方法](https://stackoverflow.com/questions/10077675/disable-home-button-in-android-ics-4-0)，更适合您的需求。

**编辑＃2：**刚刚遇到[这个。](http://dharmendra4android.blogspot.in/2012/05/override-home-button-in-android.html)没有测试过。但看起来有点前途无量。不确定它是否会起作用，但你可以试一试。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-09-27T14:46:55.427

您可以尝试以下几件事：

*   您可以设置活动单顶，并在`onPause()`调用方法时使用 clear to top 标志重新开始，这将阻止主页按钮并打开其他活动。

*   收听 BOOT_COMPLETED 广播以开始您的活动 - 这将保护您免受将电池从设备中取出以重新启动设备的用户的影响。

*   添加[警报管理器](http://developer.android.com/reference/android/app/AlarmManager.html)，如果您的应用程序处于活动状态，它将每秒测试一次，如果不是，则启动它 - 这将保护您免受用户如何设法关闭您的应用程序（可能是使用外部工具）。

这样做，**没有人**能够退出您的应用程序。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-12-30T13:44:53.293

我认为不可能从 Android 应用程序中检测和/或拦截 HOME 按钮。这是系统内置的，以防止无法退出的恶意应用程序。

# ssrs-2008 - 如何在 Tablix SSRS 上的标题文本框中动态应用颜色

> ID：12436192
> 
> 赞同：1
> 
> 时间：2012-09-15T09:31:28.263
> 
> 标签：ssrs-2008, reporting-services, ssrs-tablix

我使用 Tablix Matrix 控件做了一个 ssrs 报告。我正在设计具有一列和多行的矩阵。该列将根据我在运行时从 SP 获得的组重复。它工作正常。但现在我想动态更改 tablix 的标题文本框的背景颜色。可能吗？

我需要动态地做。因为我不知道在运行时会有多少列。这取决于存储过程中的数据。

任何人都可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:12:50.157

您可以将文本框的背景颜色设置为表达式，就像任何其他文本框一样。例如，像这样：

```
=Iif(Fields!MyHeader.Value = "AlertColumn", "#FF0000", "#FFFFFF") 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-09T14:37:17.180

这是一个有点旧的帖子。但我可以说是的，我们可以在 Matrix 控件上实现交替的行/列背景颜色。请查看[矩阵行/列背景颜色](http://www.bi-rootdata.com/2012/10/alternate-columnrow-color-in-matrix.html)thred。

# java - 了解对象创建流程

> ID：12436195
> 
> 赞同：1
> 
> 时间：2012-09-15T09:32:22.473
> 
> 标签：java

我是 java 新手，我想知道是否有简单的方法来了解像以下对象创建这样的流程，我正在使用 eclipse，当我编写`new ObjectInputStream`并按下`CTRL`+时`SPACE`。我没有看到任何可以输入新的 BufferedInputStream 的选项（我已经从示例中复制了代码），而不是为 FileInputStream 等创建新对象。

```
in = new ObjectInputStream(new BufferedInputStream(new FileInputStream("emp.dat")));
List temp = (List)in.readObject(); 
```

我给出了这个例子，因为这是我第一次看到这种创建新对象流，我想在下一次使用一些最佳实践。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T09:39:07.913

这是使用`[Decorator Pattern][1]`. 您将包装对象以添加行为。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T09:45:41.437

这很简单。这相当于：

```
FileInputStream fis = new FileInputStream("emp.dat");
BufferedInputStream bis = new BufferedInputStream(fis)
ObjectInputStream in = new ObjectInputStream(bis); 
```

由于您是 Java 新手，因此您应该检查[javadocs](http://docs.oracle.com/javase/7/docs/api/)而不是在 Eclipse 中检查它。

检查：[FileInputStream](http://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html)，[BufferedInputStream](http://docs.oracle.com/javase/7/docs/api/java/io/BufferedInputStream.html)，[ObjectInputStream](http://docs.oracle.com/javase/7/docs/api/java/io/ObjectInputStream.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T10:22:09.083

`Ctrl`+`Space`显示您当时可用的选项，以获取您可能重视的选项，如果您创建了必须输入的内容`new`，然后`Ctrl`+`Space`

顺便说一句：ObjectInputStream 和 ObjectOutputStream 已经被缓冲，因此添加更多缓冲并不是最佳实践恕我直言。

# php - 使用面向对象样式为 Smarty 分配默认值

> ID：12436203
> 
> 赞同：1
> 
> 时间：2012-09-15T09:34:26.293
> 
> 标签：php, smarty

我只是非常缓慢地开始沉迷于面向对象的编程，所以请对我温柔一点。

我有一个部分借用的 Smarty 自定义类。这是唯一的示例如何反映在我当前的项目中使用它的基本思想：

```
class Template {

    function Template() {
        global $Smarty;
        if (!isset($Smarty)) {
            $Smarty = new Smarty;
        }
    }

    public static function display($filename) {
        global $Smarty;
        if (!isset($Smarty)) {
            Template::create();
        }
        $Smarty->display($filename);
    } 
```

然后在PHP中，我根据上面的例子，使用下面的方式来显示模板：

```
Template::display('head.tpl');
Template::display('category.tpl');
Template::display('footer.tpl'); 
```

我制作了以下代码示例（见下文）普遍适用，因此我不会在每个 PHP 文件中一直重复上述行（见前 3 行）。

我只想设置，例如：

`Template::defauls();`

这将加载：

```
Template::display('head.tpl');
Template::display('template_name_that_would_correspond_with_php_file_name.tpl');
Template::display('footer.tpl'); 
```

如您所见`Template::display('category.tpl');`，将始终根据 PHP 文件进行更改，其名称与模板名称相对应，这意味着，例如，如果命名 PHP 文件，`stackoverflow.php`那么它的模板将是`stackoverflow.tpl`.

我已经尝试过运行良好的解决方案，但我不喜欢它的外观（它的结构方式）。

我所做的是：

1.  在 config 中分配一个 var 并调用它`$current_page_name`（即派生当前 PHP 页面名称，如下所示：）`basename($_SERVER['PHP_SELF'], ".php");`，它返回，例如：`category`。
2.  在我使用的 PHP 文件中`Template::defaults($current_page_name);`
3.  在我的自定义 Smarty 类中，我添加了以下内容：

```
public static function defaults($template) {

   global $Smarty;

   global $msg;
   global $note;
   global $attention;
   global $err;

   if (!isset($Smarty)) {
      Templates::create();
   }
      Templates::assign('msg', $msg);
      Templates::assign('note', $note);
      Templates::assign('attention', $attention);
      Templates::assign('err', $err);

      Templates::display('head.tpl');
      Templates::display($template . '.tpl');
      Templates::display('footer.tpl');
} 
```

有没有办法让它更简洁和结构良好？我知道*代码审查*，但我希望你们好好看看它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-16T15:13:58.160

看起来你还没有加载 Smarty，这就是错误发生的原因。您需要在课程开始前加入 Smarty。如果您遵循我的其他[配置建议](https://stackoverflow.com/questions/12445972/stop-using-global-in-php/12446839)，您也应该从包含该配置开始。

在您的模板类中，只需添加以下函数：

```
function defaults() {
    // Don't know if you need the assignes, havn't used Smarty, but if so, insert them here...

    Template::display( Config::get('header_template') ); //header_template set in the Config file
    Template::display( basename($_SERVER['PHP_SELF'], ".php") . '.tpl' );
    Template::display( Config::get('footer_template') ); //footer_template set in the Config file
} 
```

现在您应该可以在任何文件中使用它：

```
$template = new Template();
$template->defaults(); 
```

编辑：

单例在任何意义上都与全局相同，这将使您遇到相同的问题。但是您的问题是，如果您尝试使用模板的静态函数之一，则您处于“静态”模式，这意味着尚未运行构造函数。并且Smarty没有被分配。如果你想走这条路，你可以做以下两种想法之一：

1.  使模板成为真正的单例，这意味着将构造函数设置为`private`添加一个函数 getInstance，它返回一个类的实例，然后使用该对象调用其中的函数（不应该是静态的），或者

2.  让所有这些静态函数检查是否设置了 smarty，如果没有设置，则创建一个新的 smarty 实例，否则使用已经实例化的实例来运行其函数。

编辑2：

这是制作单例的正确方法：

```
class Singleton {
    private static $instance = null;
    // private static $smarty = null;

    private function __construct() {
        //self::$smarty = new Smarty();
    }

    public static function getInstance() {
        if( self::$instance === null ) {
            self::$instance = self();
        }
        return self::$instance;
    }

    public function doSomething() {
        //self::$smarty->doSomething();
    }
} 
```

它是这样使用的：

```
$singleton = Singletong::getInstance();
$singleton->doSomething(); 
```

我注释掉了你可能想要做的事情，以使它成为一个围绕单例 Smarty 对象的单例包装器。希望这可以帮助。

编辑 3：

这是您的代码的工作副本：

```
class Template {
    private static $smarty_instance;
    private static $template_instance;

    private function Template() {
        self::$smarty_instance = new Smarty();
        $this->create();
    }

    public static function getInstance() {
        if( ! isset( self::$template_instance ) ) {
            self::$template_instance = new self();
        }
        return self::$template_instance;
    }

    private function create() {
        self::$smarty_instance->compile_check = true;
        self::$smarty_instance->debugging = false;
        self::$smarty_instance->compile_dir   = "/home/docs/public_html/domain.org/tmp/tpls";
        self::$smarty_instance->template_dir  = "/home/docs/public_html/domain.org";
        return true;
    }

    public function setType($type) {
        self::$smarty_instance->type = $type;
    }

    public function assign($var, $value) {
        self::$smarty_instance->assign($var, $value);
    }

    public function display($filename) {
        self::$smarty_instance->display($filename);
    }

    public function fetch($filename) {
        return self::$smarty_instance->fetch($filename);
    }

    public function defaults($filename) {
        global $user_message;
        global $user_notification;
        global $user_attention;
        global $user_error;

        self::$smarty_instance->assign('user_message', $user_message);
        self::$smarty_instance->assign('user_notification', $user_notification);
        self::$smarty_instance->assign('user_attention', $user_attention);
        self::$smarty_instance->assign('user_error', $user_error);

        self::$smarty_instance->assign('current_page', $filename);

        self::$smarty_instance->display('head.tpl');
        self::$smarty_instance->display($filename . '.tpl');
        self::$smarty_instance->display('footer.tpl');
    }
} 
```

使用此功能时，您应该像这样使用它：

```
$template = Template::getInstance();
$template->defaults($filename); 
```

现在就试试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T09:50:51.097

You can get current file name in your `defaults()` function. Use this piece of code:

```
$currentFile = $_SERVER['REQUEST_URI'];
$parts = explode('/', $currentFile);
$fileName = array_pop($parts);
$viewName = str_replace('.php', '.tpl', $fileName); 
```

`$viewName` is the name that you need.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T00:05:38.990

这是我为 Smarty 制作的快速包装，希望能给你一些想法

```
class Template extends Smarty
{
     public $template = null;
     public $cache    = null;
     public $compile  = null;

     public function var($name, $value, $cache)
     {
         $this->assign($name, $value, $cache);
     }

     public function render($file, $extends = false)
     {
         $this->prep();

         $pre  = null;
         $post = null;

         if ($extends)
         {
             $pre = 'extends:';
             $post = '|header.tpl|footer.tpl';
         }

         if ($this->prep())
         {
             return $this->display($pre . $file . $post);
         }
      }

      public function prep()
      {
          if (!is_null($this->template))
          {
              $this->setTemplateDir($this->template);

              return true;
          }

          if (!is_null($this->cache))
          {
              $this->setCacheDir($this->cache);
          }

          if (!is_null($this->compile))
          {
              $this->setCompileDir($this->compile);

              return true;
          }

              return false;
      }
}

Then you can use it like this

$view = new Template();

$view->template = 'path/to/template/';
$view->compile  = 'path/to/compile/'
$view->cache    = 'path/to/cache';

$view->assign('hello', 'world');

// or

$view->var('hello', 'world');

$view->render('index.tpl');

//or

$view->render('index.tpl', true); // for extends functionality 
```

我做得很快，但只是为了向您展示使用 smarty 的基本方法。在更完整的版本中，您可能需要检查编译目录是否可写，或者文件模板是否存在等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-17T07:44:19.450

在尝试了几天来解决这个简单的问题后，我终于想出了可行且完全令人满意的解决方案。请记住，我只是面向对象编程的新手，这就是花了这么长时间的主要原因。

我的主要想法是不要`global $Smarty`在我的初始代码中使用已经很好的代码。我喜欢使用我的 Smarty，就像输入一样简单，例如：`Template::assign('array', $array)`. 为了显示默认值，我想出了一个简单的解决方案（阅读我最初的帖子），现在它可以用于`Template::defaults(p());`显示或分配在项目的每个页面上重复的任何内容。

为此，我个人停止了以下完全有效的解决方案：

```
function p() {
    return basename($_SERVER['PHP_SELF'], ".php");
}

require('/smarty/Smarty.class.php');

class Template
{
    private static $smarty;
    static function Smarty()
    {
        if (!isset(self::$smarty)) {
            self::$smarty                 = new Smarty();
            self::Smarty()->compile_check = true;
            self::Smarty()->debugging     = false;
            self::Smarty()->plugins_dir   = array(
                '/home/docs/public_html/domain.com/smarty/plugins',
                '/home/docs/public_html/domain.com/extensions/smarty');
            self::Smarty()->compile_dir   = "/home/docs/public_html/domain.com/cache";
            self::Smarty()->template_dir  = "/home/docs/public_html/domain.org";
        }
        return self::$smarty;
    }
    public static function setType($type)
    {
        self::Smarty()->type = $type;
    }
    public static function assign($var, $value)
    {
        self::Smarty()->assign($var, $value);
    }
    public static function display($filename)
    {
        self::Smarty()->display($filename);
    }
    public static function fetch($filename)
    {
        self::Smarty()->fetch($filename);
    }
    public static function defaults($filename)
    {
        Template::assign('current_page_name', $filename);
        Template::display('head.tpl');
        Template::display($filename . '.tpl');
        Template::display('footer.tpl');
    }
} 
```

如果您在项目中喜欢它，请使用它，但如果您认为我可以改进它或您有任何建议，请在此帖子下发表评论。

做这一切的最初想法是学习和练习以面向对象的风格编写 PHP 代码。

# java - 同步问题：我希望主线程在另一个线程之前运行，但有时它不会

> ID：12436204
> 
> 赞同：0
> 
> 时间：2012-09-15T09:34:26.990
> 
> 标签：java, multithreading, synchronization, callable, futuretask

`java.util.concurrency`受包的启发，我完成了自己的小型并发框架（仅用于学习目的） 。这是关于 Callable/Future 机制的。我下面的代码是完整的，可编译且非常容易理解。

我的问题是，有时我会遇到死锁，第一个线程（`main thread`）等待来自另一个线程的信号。但是在主线程进入等待状态之前，其他线程已经通知了主线程，所以主线程无法唤醒。

`FutureTask.get()`应该总是在**之前** `FutureTask.run()`运行，但有时 run() 方法（由 调用`new thread`）在 get() 方法（由 调用）之前运行`main thread`。我不知道如何防止这种情况发生。

这是我希望两个线程如何运行的伪代码。

```
//From main thread:
Executor.submit().get() (in get() the main thread waits for new thread to notify)
         ->submit() calls Executor.execute(FutureTask object)
                                   -> execute() starts new thread
                                                 -> new thread shall notify `main thread` 
```

我无法理解新线程如何比实际启动新线程的主线程更快地启动和运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T09:45:22.137

在`condition.await();`检查结果是否已经设置之前。

# javascript - 通过 shell 运行 javascript 注入

> ID：12436213
> 
> 赞同：0
> 
> 时间：2012-09-15T09:35:11.940
> 
> 标签：javascript, shell, scripting

有没有办法将这样的字符串放入 shell 脚本来运行 javascript？我想`cURL`在生成字符串后将其传送到

`javascript:echo("some-site.org/get?id=JCqwurtdkcA&h="+info.h+"&r="+tstamp());`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T09:48:28.510

从命令行运行 javascript 有几个选项。如果您只想要 Javascript 本身，那么[node.js](http://nodejs.org/)是流行的选择。对于在命令行上由 javascript 控制的完整“浏览器”环境，请尝试[PhantomJS](http://phantomjs.org/)。

# php - 动态绑定的元素不订阅 CSS 规则

> ID：12436221
> 
> 赞同：1
> 
> 时间：2012-09-15T09:36:15.027
> 
> 标签：php, jquery, css, ajax, dynamically-generated

我正在使用 ajax 来动态填充菜单。问题是动态创建的元素不遵循 CSS 规则，尽管它们是使用正确的类名创建的。这是令人惊讶的。

这是我的 HTML：

```
<div id='menu1'>
<ul class='menu'>
<?php
$sql = /// /* some sql  string, which works */
$result = mysql_query($sql);
    while($row = mysql_fetch_array( $result ))
    {
        $prod_id = $row['product_id'];      
        $prod_name = $row['product_name'];      
        echo "<li data-title='$prod_id' class='menu1_item'>".$prod_name."</li> ";
    }
?>
</ul>
</div>

<div id='menu2'>
<ul class='menu'>
</ul>
</div>

<div id='menu3'>
<ul class='menu'>
</ul>
</div> 
```

这是我的jQuery：

```
 $(".menu1_item").click( function() {
    $.ajax({
    type: "POST",
    data: { m: '2', id: $(this).attr('data-title') },
    url: "fetch_designs.php",
    success: function(msg){
            if (msg != ''){
            $("#menu2").html(msg).show();
            $(".menu2_item").bind('click',function() {
                        $.ajax({
                        type: "POST",
                        data: { m: '3', id: $(this).attr('data-title') },
                        url: "fetch_designs.php",
                        success: function(msg){
                        if (msg != ''){
                        $("#menu3").html(msg).show();
                            }
                            }
                        });
                    //end menu2 click
                    });
                //end if
                }
            //end success
            }
        });
    //end menu1 click
    }); 
```

我的CSS如下：

```
ul.menu li
{
    cursor:pointer;
    list-style: none;
}

#menu1, #menu2, #menu3
{
    margin:50px;
    position:relative;
    display:block;
    float:left;
}

.menu1-item .menu2-item .menu3-item
{
    padding:4px;
    background-color:lightgray;
    color:black;
    cursor:pointer;
} 
```

生成新菜单元素的 fetch-designs.php 中的 PHP 代码如下所示：

```
$nextmenu = $_POST['m'];
$id = $_POST['id'];
if($nextmenu == '2')
{
    // do something, and then finally generate new menu item as below:
    echo"<li data-title='$tpl_id' class='menu2_item' >".$tpl_name."</li> ";
    }
}
elseif ($nextmenu=='3')
{
        // do something, and then finally generate new link as below
        echo"<li class='menu3_item' ><a href='design_product.php?id=$d_id'>$d_name</a></li> ";
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T09:39:05.440

您的 CSS 规则包含`dash(-)`但您的 js 包含`underscore(_)`名称`class`。

```
<li data-title='$prod_id' class='menu1_item'>
                                      ^-------- underscore 
```

但

```
.menu1-item .menu2-item .menu3-item
      ^-----------^-----------^----- but these are dash 
```

# python - Python：与 OOP 中的类、属性和方法混淆

> ID：12436223
> 
> 赞同：2
> 
> 时间：2012-09-15T09:36:19.017
> 
> 标签：python, oop, methods

我现在正在学习 Python OOP，但对下面代码中的内容感到困惑。

问题：

1.  `def __init__(self, radius=1):` 参数/属性“radius = 1”到底是什么意思？为什么不直接称为“半径”？

2.  方法 area() 没有参数/属性“半径”。它从代码中的哪里得到它的“半径”？它怎么知道半径是5？

    ```
    class Circle:
        pi = 3.141592

        def __init__(self, radius=1):
            self.radius = radius 

        def area(self):
            return self.radius * self.radius * Circle.pi

        def setRadius(self, radius):
            self.radius = radius

        def getRadius(self):
            return self.radius

    c = Circle()

    c.setRadius(5) 
    ```

还，

1.  在下面的代码中，为什么`name`括号中缺少属性/参数？

2.  为什么不是这样写：`def __init__(self, name)` 和`def getName(self, name)`？

    ```
    class Methods:
        def __init__(self):
            self.name = 'Methods'

        def getName(self):
            return self.name 
    ```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-15T09:41:09.020

该`def method(self, argument=value):`语法定义了一个*关键字参数*，具有默认值。使用该参数现在是可选的，如果您不指定它，则使用默认值。在您的示例中，这意味着`radius`设置为`1`.

在方法中，实例是通过`self`参数引用的。`name`和`radius`值作为属性 (和) 存储，*以后* 可以通过引用该命名属性 ( , ) 来检索。`self``self.name = 'Methods'``self.radius = radius``return self.name``return self.radius * self.radius * Circle.pi`

我衷心推荐您遵循[Python 教程](http://docs.python.org/tutorial/)，它将解释所有这些以及更多内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T09:44:45.923

```
def __init__(self, radius=1):
    self.radius = radius 
```

这是为类范围初始化变量的默认值设置。这是为了避免任何垃圾输出，以防某些用户`c.Area()`在`c = Circle()`.

```
In the code below, why is the attribute/argument "name" missing in the brackets? 
```

在该行`self.name = 'Methods'`中，您正在创建一个`name`初始化为字符串 value的变量`Methods`。

> 为什么不是这样写：def init(self, name) 和 def getName(self, name)？

`self.name`是为类范围定义的。您可以在类中的任何位置获取和设置其值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T09:40:55.500

1.  该语法`radius = 1`指定了一个参数“radius”，其默认值为`1`：

    > > > def my_func(param=1): ... print(param) ... my_func() #使用默认值 1 my_func(2) #使用传递的值 2

请注意，在 python 中存在更多种类的参数：位置参数和关键字参数，或两者兼而有之。

通常可以使用位置符号和关键字来分配参数：

```
>>> def my_func(a,b,c):
...     print (a,b,c)
... 
>>> my_func(1,2,3)
(1, 2, 3)
>>> my_func(1,2,c=3)
(1, 2, 3) 
```

1.  Python 使用“显式”实例传递，因此第一个`self`参数用于传递调用方法的实例。您可以将其`self`视为`this`Java 的。但是您必须始终使用它来访问实例属性/方法。你不能随便打电话`area()`，你必须说`self.area()`。

当您这样做时，`self.attribute = 1`您会创建一个`attribute`带有值的新属性`1`并将其分配给实例`self`。所以在`area()`方法`self.radius`中指的是实例的`radius`属性。`self`

该`__init__`方法是一种特殊的方法。它类似于构造函数。它在您实例化类时被调用。Python 有很多这样的“特殊方法”，例如`__add__(self, other)`在使用 operator 时调用该方法`+`。

# xcode - Parse.com PFQueryTableView 没有选择行 UIWebview

> ID：12436226
> 
> 赞同：0
> 
> 时间：2012-09-15T09:37:01.073
> 
> 标签：xcode, storyboard, parse-platform

我正在使用 Parse.com 的 PFQueryTableView。

有什么方法可以使用 didselect 行以编程方式将 PFObject (url) 发送到 UIWebview ？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-04T03:32:07.847

如果有人感兴趣，他们可以下载并实现 SVWebViewController。

并使用以下代码。

我的 .H 文件有以下内容。

```
...
@interface HomeworkSiteViewController : UITableViewController <UITableViewDelegate>
{

    NSArray *sectionsArray;
}

@property (strong, nonatomic) NSArray *sectionsArray;
@end 
```

我的 .m 文件有以下内容。

```
@implementation HomeworkSiteViewController
@synthesize sectionsArray;

- (void)viewDidLoad
{ 
```

... // 在后台从解析中检索对象并存储到 NSArray。（我将我的存储在 ArrayDataDesription 中）

//然后将您从解析（ArrayDataDesription）获得的数组存储到sectionsArray中，以便您可以使用以下方法在didSelectRow中访问它..

```
self.sectionsArray = ArrayDataDesription; 
```

然后在 didSelectRow 中启动 SVModalWebViewController..

对于“initWithAddress：”，从您的数组访问 url。

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    SVModalWebViewController *webViewController = [[SVModalWebViewController alloc] initWithAddress:[[sectionsArray objectAtIndex:indexPath.row] valueForKey:@"href"]];
    [self presentModalViewController:webViewController animated:YES];

} 
```

顺便说一句，我是开发应用程序的菜鸟。太……这可能不是最好的方法。但是，它对我有用。

# android - 有没有办法让远程视图的 OnClickPendingIntent 在 4.0 之前的 Android 版本中工作？

> ID：12436227
> 
> 赞同：2
> 
> 时间：2012-09-15T09:37:05.517
> 
> 标签：android, notifications, android-pendingintent, remoteview

我有以下问题。

我的应用程序的通知在 4.0 之前的 Android 版本中无法正常工作，因为 OnClickPendingIntent 不起作用。

我该怎么办？

# c# - 设置 ListView 行背景

> ID：12436228
> 
> 赞同：2
> 
> 时间：2012-09-15T09:37:14.747
> 
> 标签：c#, wpf, listview

我有以下内容`ListView`：

```
<ListView>
   <ListView.View>
      <GridView/>
   </ListView.View>
</ListView> 
```

我想以编程方式将第二**行**的背景（例如）设置为红色。我应该怎么办？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T18:15:20.713

您可以使用类似的方法：

```
int index = 1;
ListViewItem row = ListView.ItemContainerGenerator.ContainerFromIndex(index) as ListViewItem;
row.BackGround = Brushes.Red; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T11:17:42.113

您可以使用[`AlternationCount`](http://msdn.microsoft.com/en-us/library/system.windows.controls.itemscontrol.alternationcount.aspx)将行的索引存储在 中`AlternationIndex`，然后使用触发器将第二行（在索引 1 处）的背景设​​置为红色：

```
<ListView AlternationCount="{x:Static sys:Int32.MaxValue}">
    <ListView.ItemContainerStyle>
        <Style TargetType="{x:Type ListViewItem}">
            <Style.Triggers>
                <Trigger Property="ItemsControl.AlternationIndex" Value="1">
                    <Setter Property="Background" Value="Red" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </ListView.ItemContainerStyle>
    ...
</ListView> 
```

`AlternationCount`定义在重新开始为零之前要计数的行数。例如，如果设置为 2，行的索引将为 0 1 0 1 0 1 ...，允许您仅将奇数行或偶数行绘制为红色。将其设置为`MaxValue`永远不会重新开始计数，有效地设置`AlternationIndex`为实际索引。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-15T10:11:58.887

请在这里澄清一件事。你能告诉我你是否只想把第二行的颜色变成红色。如果是这种情况，您可以遍历列表视图，然后在顶部保留一个计数变量，然后当计数 == 1 时，您可以将列表 view.background 颜色更改为红色。如果你试过这个，你能告诉我发生了什么吗？它是否以错误或某事或什么都没发生而结束。

# php - mysqli 和单例

> ID：12436229
> 
> 赞同：0
> 
> 时间：2012-09-15T09:38:00.557
> 
> 标签：php, singleton, mysqli

```
<?
class DbConn {
    const DB_HOST = 'localhost';
    const DB_USER = 'root';
    const DB_PASS = 'pw';
    const DB_NAME = 'db';

    static private $instance = NULL;
    private $_db;

    static function getInstance()
    {
      if (self::$instance == NULL)
      {
        self::$instance = new DbConn();
        if(mysqli_connect_errno()) {
            throw new Exception("Database connection failed: ".mysqli_connect_error());
        }
      }
      return self::$instance;
    }

    private function __construct()
    {
        $this->_db = new mysqli(self::DB_HOST, self::DB_USER, self::DB_PASS, self::DB_NAME) or die('Couldnt connect');
    }

    private function __clone() {}

}

DbConn::getInstance()->query();

?> 
```

我刚刚学习并且知道我必须使用单例模式，我尝试使用单例创建自己的 DBConnect 类，但是当我尝试执行它时，调用 DbConn::getInstance()->query() 时会出错; 说调用未定义的方法 DbConn::query() 我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T09:40:24.190

你正在调用`query()`一个类的对象`DbConn`——它没有任何`query()`方法。

在您的示例中，单例模式的实现很好。但是您不能直接调用对象`mysqli`上的函数`DbConn`，您必须*包装*它们或为私有属性提供 getter `_db`，然后调用`query()`该*对象*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T09:53:07.243

`__construct`尝试在函数后添加以下内容

```
public function query($sql)
{
    return $this->_db->query($sql);
} 
```

然后尝试

```
DbConn::getInstance()->query("SELECT * FROM Table"); //Replace your sql 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T09:43:03.470

你必须

*   扩展 mysqli 类以使用该类中的方法
*   或者自己写一个查询方法。
*   或公开 $db 并使用`DbConn::getInstance()->$db->query();`

为什么要让它成为单例？mysqli进行**连接池**，并使其成为单例增加了额外的复杂性而没有任何好处。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-06T19:13:55.603

我对此很陌生，如果我错了，请纠正我。

你不能简单地扩展 mysqli 类并稍微改变一下构造函数吗？

```
class DbConn { 
```

变成

```
class DbConn extends mysqli { 
```

和：

```
$this->_db = new mysqli(
    self::DB_HOST, 
    self::DB_USER, 
    self::DB_PASS, 
    self::DB_NAME) or die('Couldnt connect'); 
```

变成

```
parent::__construct(
    self::DB_HOST, 
    self::DB_USER, 
    self::DB_PASS, 
    self::DB_NAME) or die('Couldnt connect'); 
```

现在，`DbConn::getInstance()->query();`应该工作

# c# - 函数在同步调用时起作用，但在异步调用时不起作用

> ID：12436240
> 
> 赞同：4
> 
> 时间：2012-09-15T09:39:38.340
> 
> 标签：c#, .net, winforms, asynchronous

这是我在 StackOverflow 论坛上的第一篇文章，所以请宽容。我对同步调用但不能异步调用的函数有疑问。下面你会发现同步调用的函数：

```
private void issueInvoices(List<int> lista)
    {
foreach (int knh_id in lista)
          {
                    Invoice fs = new Invoice();
                    fs.FKS_AKCYZA = false;
                    fs.FKS_CZY_KLON = false;
                    fs.FKS_DATE = Convert.ToDateTime(MTBDataZapisuDoFK.Text);
                    fs.NUMBER = knh_id);
         }
    } 
```

如您所见，我将列表传递给名为 issueInvoices 发票编号列表的函数，并在循环中创建了一些发票。此函数正常工作，但如果我尝试异步调用它（以显示进度条），我的函数无法分配给 fs.FKS_DATE 对象 dateTime。看起来静态函数“Convert.ToDateTime”无法正常工作。但是请看下面的代码，其中函数 issueInvoices 被异步调用......</p>

```
public delegate void BinaryDelegate(List<int> knh_id);
BinaryDelegate b = new BinaryDelegate(issueInvoices);
IAsyncResult theAsRes = b.BeginInvoke(lista, new AsyncCallback(AddComplete), "Thx U!");
FrmProgressBar fpb=new FrmProgressBar(“Please wait…”);
 fpb.Show();

 /* below i check how many operation i have to do, if all operations are done, then I close fpb window, program is updating progres bar and in thread make operation issueInvoices*/
                        while (ilosc_zrobionych != liczbaKontrahentow)
                       {
                            fpb.PBStan.Value = (int)((100 * ilosc_zrobionych) / liczbaKontrahentow);
                       }
                        fpb.Close(); 
```

我放了一些断点，它看起来像程序停止在行，它可以转换为日期时间，但是当我同步执行此操作时，它可以正常工作而没有任何错误。fs.FKS_DATE = Convert.ToDateTime(MTBDataZapisuDoFK.Text); 什么可能导致这个问题以及如何解决它？非常感谢您的回复。

下面是异步调用的整个类：

```
using System;
using System.Collections.Generic;
using System.Collections;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using Npgsql;
using Castle.ActiveRecord;
using WFR.Model;
using System.Threading;

namespace Faktury_i_Rachunki_2.Forms
{

    public partial class FrmEmisjaFakturPotwierdzonych : FrmBaseForm
    {

        private ArrayList listaSposobowZaplaty;
        public List<int> lista;
        private int liczbaWygenerowach;
        private int liczbaKontrahentow;
        private int ilosc_zrobionych;
        private FrmProgressBar fpb;

        public delegate void BinaryDelegate(List<int> knh_id);

        public FrmEmisjaFakturPotwierdzonych()
        {
            InitializeComponent();
    fpb = new FrmProgressBar("Please wait....");
        }

        private void BtOK_Click(object sender, EventArgs e)
        {                
                BinaryDelegate b = new BinaryDelegate(WyemitujFakture);

                    lista.Add(12);
                    lista.Add(13);
                    lista.Add(17);
                    lista.Add(1);

                liczbaKontrahentow = lista.Count;
                if (TBRejestr.Text.Trim() != "")
                {

                    if (liczbaKontrahentow > 0)
                    {
                        liczbaWygenerowach = 0;
                        ilosc_zrobionych = 0;
                        WyemitujFakture(lista);
              IAsyncResult theAsRes = b.BeginInvoke(lista, new AsyncCallback(AddComplete), "THX");

                        fpb.Show();
                        while (ilosc_zrobionych != liczbaKontrahentow)
                        {
                            fpb.PBStan.Value = (int)((100 * ilosc_zrobionych) / liczbaKontrahentow);
                        }
                        fpb.Close();
                    }

                    try
                    {
                        MessageBox.Show("Wygenerowano " + liczbaWygenerowach.ToString() + " faktur");
                    }
                    catch
                    {
}

        }
}
        private void WyemitujFakture(List<int> lista)
        {
            foreach (int knh_id in lista)
            {
                try
                {
                                    if (luk.Count > 0)
                    {
                        FakturySprzedazy fs = new FakturySprzedazy();
                        fs.FKS_AKCYZA = false;
                        fs.FKS_CZY_KLON = false;
                        fs.FKS_DATA_DOW_KS = Convert.ToDateTime(MTBDataZapisuDoFK.Text);
                        fs.FKS_DATA_FAKTURY = Convert.ToDateTime(MTBDataFaktury.Text);
                        fs.FKS_DATA_SPRZEDAZY = Convert.ToDateTime(MTBDataSprzedazy.Text);
                        liczbaWygenerowach++;
                    }

                }
                catch (Exception ex)
                {
                    MessageBox.Show("Nie można wyemitować faktury dla kontrahenta o id = " + knh_id.ToString() + " " + ex.Message);
                }
                ilosc_zrobionych++;
            }
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T09:44:05.013

您正在从后台线程访问 UI 控件：

```
MTBDataZapisuDoFK.Text 
```

这是不允许的。

在调用方法之前获取此值，将其存储在变量中并将值作为参数发送到`issueInvoices`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T15:41:03.793

问题在于获取`MTBDataZapisuDoFK.Text`（我假设它是一个文本框）的值。获取或设置文本框的文本意味着向其窗口发送消息。但是你让 UI 线程在 while 循环中保持忙碌，因此它不能处理任何消息。

在 while 循环中调用 to`Application.DoEvents()`以允许处理消息：

```
fpb.Show();
while (ilosc_zrobionych != liczbaKontrahentow)
{
    Application.DoEvents();
    fpb.PBStan.Value = (int)((100 * ilosc_zrobionych) / liczbaKontrahentow);
}
fpb.Close(); 
```

我假设异步调用该方法的唯一原因是能够在处理 - 方法期间更新 UI `WyemitujFakture`。使用`Application.DoEvents()`你不需要异步调用：

```
fpb = new FrmProgressBar("Please wait....");
fpb.Show();
Application.DoEvents();
WyemitujFakture(lista);
fpb.Close(); 
```

您应该在调用`Application.DoEvents()`后调用`fpb.Show()`以使表单正确显示。此外，您应该在方法本身而不是构造函数中实例化表单，因为在调用后您不能再次使用相同的实例`fpb.Close()`（它将被释放）。

然后可以在`WyemitujFakture`-method中更新进度条：

```
private void WyemitujFakture(List<int> lista)
{
    foreach (int knh_id in lista)
    {
        try
        {
            if (luk.Count > 0)
            {
                FakturySprzedazy fs = new FakturySprzedazy();
                fs.FKS_AKCYZA = false;
                fs.FKS_CZY_KLON = false;
                fs.FKS_DATA_DOW_KS = Convert.ToDateTime(MTBDataZapisuDoFK.Text);
                fs.FKS_DATA_FAKTURY = Convert.ToDateTime(MTBDataFaktury.Text);
                fs.FKS_DATA_SPRZEDAZY = Convert.ToDateTime(MTBDataSprzedazy.Text);
                liczbaWygenerowach++;
            }

        }
        catch (Exception ex)
        {
            MessageBox.Show("Nie mozna wyemitowac faktury dla kontrahenta o id = " + knh_id.ToString() + " " + ex.Message);
        }
        ilosc_zrobionych++;

        fpb.PBStan.Value = (int)((100 * ilosc_zrobionych) / liczbaKontrahentow);
        Application.DoEvents();
    }
} 
```

# java - 使用 Apache POI for Java 在现有 Excel 工作簿中创建新工作表

> ID：12436243
> 
> 赞同：6
> 
> 时间：2012-09-15T09:39:58.730
> 
> 标签：java, apache-poi

我正在尝试使用 apache POI for java 在现有的 excel 工作簿中创建一个新工作表，但到目前为止还没有成功。谁能告诉我它是怎么做的？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-15T12:28:38.513

这很容易。这就像在新工作簿中添加新工作表一样，只是您从现有工作簿开始而不是新工作簿

```
 Workbook wb = WorkbookFactory.create(new File("/path/to/existing"));
 Sheet s = wb.createSheet();

 // Do something with the new sheet

 FileOutputStream out = new FileOutputStream("/path/to/new/version");
 wb.write(out);
 out.close(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-17T08:05:25.103

```
//we can create any number of sheets for single workbook
HSSFSheet sheet1= workBook.createSheet("sheet1");
HSSFSheet sheet2= workBook.createSheet("sheet2");
HSSFSheet sheet3= workBook.createSheet("sheet3"); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-05-31T11:25:09.700

```
HSSFSheet sheet1= workBook.createSheet("sheet1");
HSSFSheet sheet2= workBook.createSheet("sheet2");
HSSFSheet sheet3= workBook.createSheet("sheet3"); 
```

# android - 尝试在 Eclipse 中正确使用 AVD

> ID：12436247
> 
> 赞同：-1
> 
> 时间：2012-09-15T09:40:21.367
> 
> 标签：android, eclipse, virtual, device, avd

我正在尝试测试我的应用程序，但我不知道如何使用我创建的 AVD。我的意思是按下右侧的按钮并单击“触摸屏”很容易，但是我如何在不同的轴上旋转/移动模拟器？我正在尝试查看加速度计是否正常工作。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T09:46:55.110

**欧文弗雷泽格林**[在这里](https://stackoverflow.com/a/3926715/1661067)回答。以前的帖子有版权吗？？也许。

希望，它会有所帮助！

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-09-15T09:46:56.353

根据**欧文弗雷泽格林**[在这里](https://stackoverflow.com/questions/3921467/how-can-i-simulate-accelerometer-in-android-emulator/3926715#3926715)的回答

Android 模拟器本身不支持它，但 OpenIntents 的[SensorSimulator](http://code.google.com/p/openintents/wiki/SensorSimulator)填补了这一空白。下载并解压 zip 文件，然后启动独立的 jar 文件：

```
$ java -jar bin/sensorsimulator.jar 
```

接下来，使用 SDK 自带的 adb 工具在模拟器上安装 SensorSimulatorSettings：

```
$ adb -s <emulator device> install bin/SensorSimulatorSettings.apk 
```

（运行*adb devices*以查找模拟器设备名称）。最后，在模拟器中运行已安装的 SensorSimulatorSettings 应用程序并输入 IP 地址**10.0.2.2**（尽管 SensorSimulator 应用程序可能会建议。这是开发主机环回设备的别名，因此应该始终有效。

OpenIntents **SensorSimulator**让您可以使用鼠标实时模拟传感器数据。它目前支持加速度计、指南针、方向和温度传感器

# javascript - 使用 ctrl 键多选后引发事件

> ID：12436250
> 
> 赞同：2
> 
> 时间：2012-09-15T09:40:57.760
> 
> 标签：javascript, jquery, html, multiple-select

你好，

我想在元素列表上触发一个事件。该列表可能有多项选择。`ctrl`如果用户在没有键的情况下单击元素，则应直接触发该事件。
如果用户按下`ctrl`+click 然后，一旦选择完成，应该触发事件。我在[这里](http://jsfiddle.net/6nLSP/)写了我自己的逻辑。
我可以防止在单击后立即触发事件，并结合`ctrl`. `alert`但是如果有多项选择，我不知道何时触发我自己的功能（让我们在这里说......）。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T09:59:30.530

```
var str = "";
$(document).ready(function() {

    // bind only click event

    $('ul > li').on('click', function(event) {

        // if ctrl key is press

        if (event.ctrlKey) {
            str = str + $(this).text() + ",";
        } else {
            str = $(this).text();
            alert(str);
            str = '';  // after alert reset the str
        }
    });

    // bind a keyup event
    $(document).on('keyup', function(event) {

        // str is not empty and ctrl key is released
        // show alert
        if(str && !event.ctrlKey) {
            alert(str);
        } 
        str = ''; // after alert reset the str
    });
});​ 
```

***[演示](http://jsfiddle.net/6nLSP/4/)***

### 笔记

您不需要为`ctrl`按键维护任何标志。`event.ctrlKey`会为你做这件事。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T09:53:28.913

您可以使用该`onmouseout`事件。

设置一个标志以检查是否至少选择了一个标志，如果标志为真，则事件应触发您的代码。

您也可以使用 `setTimeout`，因此当鼠标继续标记（onmouseover）时，您的超时将被删除，并且当鼠标在 1 或 2 秒后离开时，可能会触发事件。这样做的好处是如果用户仍在选择但突然将他/她的鼠标移开，那么代码将不会被触发几秒钟。

**更新，这是一个例子：**

```
<!DOCTYPE>
<html>
    <head>
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.js"></script>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.js"></script>
        <script type="text/javascript">
            var str = '';
            var _ctrlPressed  = false;
            var my_timer;
            var my_flag = false;

            function set_timer(){
                my_timer = setTimeout(selection_end, 2000);
            }

            function reset_timer(){
                clearTimeout(my_timer);
            }

            function selection_end(){
                if(_ctrlPressed && my_flag && str != ''){
                    my_flag = false;
                    alert('Selection is done: ' + str);
                }
            }

            $(document).ready(function(){
                $('ul > li').click(function(event){
                    if(event.ctrlKey){
                        _ctrlPressed = true;
                    }else{
                        _ctrlPressed = false;
                    }

                    if(_ctrlPressed){
                        str = str + $(this).text()+",";
                        my_flag = true;
                        return false;
                    }else{
                        str = $(this).text();
                    }
                    alert(str);
                });
            });
        </script>
    </head>
    <body>
        <ul onmouseover="reset_timer();" onmouseout="set_timer();">
            <li>One</li>
            <li>Two</li>
            <li>Three</li>
        <ul>
    </body>
</html> 
```

# sphinx - sphinxSE Setselect

> ID：12436251
> 
> 赞同：0
> 
> 时间：2012-09-15T09:41:01.817
> 
> 标签：sphinx

使用 SphinxApi ，我们对 sphinxApi Setselect 使用以下查询：

```
$cl->SetSelect ( "*, IF( IN(watching, 1) OR ordered=1, 1, 0) AS customFilter" ); 
```

使用 SphinxQL：

```
select IF( IN(watching, 1) OR ordered=1, 1, 0) AS customFilter from indexname 
```

如何在 SphinxSE 中使用同样的东西？任何人都可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-16T22:15:50.700

```
SELECT * FROM indexname WHERE query = ';select=*, IF( IN(watching, 1) OR ordered=1, 1, 0) AS customFilter'; 
```

当然 customFilter 必须定义为狮身人面像虚拟表上的一列，如果你想看到你的结果中的值

# google-analytics - 在 Google Analytics 上进行同期群分析

> ID：12436255
> 
> 赞同：3
> 
> 时间：2012-09-15T09:41:38.480
> 
> 标签：google-analytics, google-analytics-api

假设我有 65 个人在 2012 年 1 月 1 日注册。

我想知道这 65 人中有多少人在同一周返回了该网站。（更一般地说，如果 n 人在日期 A 注册，我希望能够找出这 n 人中有多少人在给定日期范围内返回。）

有没有办法使用谷歌分析来做到这一点？如果是这样，怎么做？我目前正在为每个页面点击获取用户的用户名。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-16T05:06:34.050

如果您只需要跟踪登录的人，那么您不需要花哨。您可以使用事件或会话级自定义变量将相关用户属性（例如注册日期）从数据库复制到 GA。

但是，如果您想跟踪所有人，包括那些没有注册的人，那么您需要使用访问者级别的自定义变量 (GA cookie)。

[我在这篇文章](http://jonathonbalogh.com/2012/04/01/how-to-do-cohort-analysis-in-google-analytics/)中详细解释了如何设置它，所以我将在这里突出重点：

1.  首先，根据您的要求决定如何在 Google Analytic 的自定义变量中布局数据。例如，您是否存储每天、每周或每月跟踪的保留日期？您还想跟踪同类群组目标吗？将此数据分区到可用的自定义变量槽中。
2.  当访问者到达或使用 Google Analytic 的 _setCustomVar 函数实现目标时，将同类群组数据写入这些自定义变量。将该函数的第四个参数设置为 1 表示您想要进行访问者级别 (cookie) 跟踪。
3.  对于您要分析的每个同类群组，请在 Google Analytics（分析）中创建一个高级细分。在条件中使用正则表达式将使您能够灵活地分割有趣的群组。例如：“所有在圣诞节前一周首次访问的用户”。
4.  通过指定日期范围和相应的同类群组切片高级细分，使用报告分析结果。另一种选择是使用 Google Analytics Data Feed Query Explorer 或其 API 提取数据。

一旦你投入工作，你的新访客将被他们的第一次访问日期标记，并且很好地落入每个每日或每周的保留桶中。如果您跟踪每周留存率，这可能是这样的，例如：

![Google Analytics 中的每周队列分析](../Images/8dd86d2d9e1b88282dd86d38b8ae973f.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-15T09:59:22.760

这不是一个完整的解决方案，但这里有一些关于我将如何在 Google Analytics 的帮助下解决这个问题的要点：

您必须确保以某种方式将每个用户的注册日期存储在数据库或 cookie 中。然后看看[谷歌分析事件跟踪](https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide)。例如，您可以根据注册日期设置一个新类别。在页面中的每个页面加载时，您都必须设置此事件跟踪调用，例如：

```
_trackEvent("returns", "2012-01-01", "UserId:123123123") 
```

这样，您将收到在该特定日期注册的用户的所有页面浏览量。要在其中添加日期范围，您必须确保这些事件仅在注册后的日期数（例如 7 天）内被触发。

在您的日期范围之后，您将能够看到有多少页面浏览量和多少用户返回 - 您甚至知道哪些用户返回了。

# shell - 如何检查命令在 Windows shell 中是否可用？

> ID：12436258
> 
> 赞同：5
> 
> 时间：2012-09-15T09:42:11.640
> 
> 标签：shell, command

要检查命令是否在 bash shell 中可用，我通常会这样做：

```
command -v $COMMAND >/dev/null 2>&1 || {
    echo >&2 "Error: this script requires the command '$COMMAND' to be available"
    exit 1
} 
```

Windows 中的等价物是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-03T14:25:07.047

你可以使用非常相似的东西

```
%command% >nul 2>&1 || (
    echo "Error: command not found"
    exit /b 1
) 
```

当然，这实际上会执行命令，但是如果没有适当的参数，大多数命令将什么都不做。如果您想更确定，可以使用`%command% /? >nul 2&1`. 这将尝试为命令带来帮助页面，而不执行它

**更新：** 为避免完全执行命令，请考虑`where.exe`. 它与 Vista 和 Windows 7 捆绑在一起。对于其他操作系统，您可以下载它。下载方法请参考[这篇文章](https://superuser.com/questions/249725/where-to-download-where-exe-tool-for-windows-xp)

一旦你有了它，你可以用`/Q`switch 运行它以避免额外的输出。返回码 0 表示找到命令。一旦我发现该`where`命令要求您提供扩展名。

另一方面，这里有一个[冗长的讨论，](http://blogs.msdn.com/b/oldnewthing/archive/2005/01/20/357225.aspx)关于在没有指定扩展名的情况下工作的批处理“单线”（但当您指定扩展名时实际上会失败）

# ruby-on-rails - Ruby（续集）：按日期（年份）和属性过滤

> ID：12436259
> 
> 赞同：1
> 
> 时间：2012-09-15T09:42:26.887
> 
> 标签：ruby-on-rails, ruby, database, select, sequel

使用 Sequel，我需要找到在 中创建`2012`并具有 title 的所有文档`@title`。

```
$dataset = DB[:documents]
$dataset.select(:title).where(:created_at.extract(:year) => 2012, title: @title).all 
```

但这不会返回任何内容，而是返回两个文档。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-16T15:46:42.043

您没有提及您使用的是什么数据库，但是如果您使用的是 SQLite，则需要设置`DB.use_timestamp_timezones = false`并清理数据库中的所有时间戳以删除时区。Sequel 默认在 SQLite 上使用时区，但 SQLite 的日期/时间函数不能识别带有时区的时间戳。

如果您不使用 SQLite，则应提供有关您的情况的更多详细信息。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T09:53:53.457

我认为您刚刚写了`title: @title`而不是`:title => @title`，并且还验证了`@title`它与标题的类型相同

# sqlite - 如何使用 SQLite/entity 框架在 app.config 中创建数据库的相对路径

> ID：12436261
> 
> 赞同：5
> 
> 时间：2012-09-15T09:42:30.860
> 
> 标签：sqlite, app-config, relative-path

我希望能够使用相对路径在超过 1 台电脑上使用 SQLite DB。app.config 中的连接字符串现在看起来像这样：

```
<add name="DBPersonEntities" connectionString="metadata=res://*/Model1.csdl|res://*/Model1.ssdl|res://*/Model1.msl;provider=System.Data.SQLite;provider connection string='data source=&quot;C:\Users\Dreeze\Documents\Test DB2\DBPerson.s3db&quot;'" providerName="System.Data.EntityClient" /> 
```

数据库文件与应用程序位于同一文件夹中......我想让路径相对，以便它引用应用程序文件夹。谁能帮我改变这个连接字符串？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-12-01T07:18:18.597

使用此连接字符串

```
<add name="DWContext" connectionString="Data Source=|DataDirectory|DBPerson.s3db" providerName="System.Data.SQLite" /> 
```

然后在初始化 Context objext 之前在代码上设置 DataDirectory 路径。

```
string executable = System.Reflection.Assembly.GetExecutingAssembly().Location;
string path = (System.IO.Path.GetDirectoryName(executable));
AppDomain.CurrentDomain.SetData("DataDirectory", path); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-15T16:17:49.597

您应该能够使用数据目录替换字符串：

```
provider connection string='data source=&quot;|DataDirectory|DBPerson.s3db&quot;' 
```

# linq - 使用 linq 的 SortedDictionary 投影

> ID：12436262
> 
> 赞同：-1
> 
> 时间：2012-09-15T09:42:55.507
> 
> 标签：linq, lambda, sorteddictionary

我有一个`SortedDictionary<double, List<int>>`，我正在尝试遍历它并抓取每 5 个元素，但我想累积其他 4 个元素的 List 成员。可以使用 LINQ 吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T09:57:16.217

只是想说这是可能的。只是它是一个重复的问题。

我只是检查如果您想使用 LINQ 进行累积，那么您可以检查以下问题：

*   [使用 C#/Linq 累积序列的子序列](https://stackoverflow.com/questions/9100079/accumulation-of-subsequences-of-a-sequence-using-c-linq)。

# c# - C# MVC 3 Routing 也想在 url 中添加硬代码字

> ID：12436267
> 
> 赞同：0
> 
> 时间：2012-09-15T09:43:26.420
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3, razor, asp.net-mvc-routing

C# MVC 3 路由我有一个控制器名称类别。控制器有 2 个子方法 1)Index 2)Detail

现在我的详细路由 URl 像这样“类别/名称”好的，但我也想添加“类别/名称-for-all”硬代码“-for-all”想要添加这个硬代码如何？

```
 routes.MapRoute(
     "categorie", // Route name
     "Category/{id}/{no}", // URL with parameters
     new { controller = "Category", action = "details", id = "id",no=UrlParameter.Optional } // Parameter defaults
 );
    routes.MapRoute(
       "categories", // Route name
       "Category/{id}/{action}", // URL with parameters
       new { controller = "Category", action = "action", id = "id" } // Parameter defaults
   );

html page

<div class="grid_3" >
    <a class="companyanchor" href="/category/@Model.name/">@Model.Name</a>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-17T02:34:44.987

我最近没有使用 MVC，但这不是答案吗？

```
routes.MapRoute("categories", // Route name        
    "Category/{id}"-for-all/{action}", // URL with parameters        
    new { controller = "Category", action = "action", id = "id" } // Parameter defaults    
); 
```

...不确定您的示例中“名称”的来源。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T10:53:20.953

很难理解您的问题，因为我了解您询问 url 的硬编码部分？像这样的东西：

```
 routes.MapRoute(null,
    "{category}/Page{page}", // Matches /Football/Page567 
    new { controller = "Product", action = "List" }, // Defaults
    new { page = @"\d+" } // Constraints: page must be numerical
    ); 
```

# svg - JavaFX 2.2 中的 SVG 图像

> ID：12436274
> 
> 赞同：31
> 
> 时间：2012-09-15T09:44:04.343
> 
> 标签：svg, javafx, batik

我是 JavaFX 2.2 的新手，到目前为止，我找不到在我的 JavaFX 2.2 应用程序中显示 SVG 图像的方法。我看了看 Batik，但它并没有对我有用，因为它转换`BufferedImages`为`javafx.ImageView`.

有没有办法在 JavaFX 应用程序中显示 SVG 图像？或者您至少可以从 JavaFX 导出 SVG 图像吗？该功能`Node.snapshot()`对那里有任何帮助吗？

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-09-15T19:36:35.967

> 有没有办法在 JavaFX 应用程序中显示 SVG 图像？

以下是一些选项：

1.  创建一个[WebView](http://docs.oracle.com/javafx/2/api/javafx/scene/web/WebView.html)并将svg 图像[加载](http://docs.oracle.com/javafx/2/api/javafx/scene/web/WebEngine.html#load(java.lang.String))到 WebView 的 WebEngine 中。
2.  [e(fx)clipse](http://efxclipse.org/)项目包括一个[svg 到 fxml 的转换器](https://github.com/tomsontom/e-fx-clipse/tree/master/at.bestsolution.efxclipse.formats.svg)（链接现已失效:()。
3.  此[NetBeans 插件](http://jayskills.com/blog/2012/06/06/new-netbeans-plugin-svg-2-fxml/)还将 svg 转换为 fxml（链接现已失效:()。
4.  您可以使用基于 awt 的库，例如[Batik](http://xmlgraphics.apache.org/batik/)或[svgsalamander](http://svgsalamander.java.net/)，并将生成的 BufferedImage 转换为 JavaFX 图像。
5.  JavaFX 2.2 原生支持一些最小的[SVGPath](http://docs.oracle.com/javafx/2/api/javafx/scene/shape/SVGPath.html)字符串（不是完整的 SVG 规范）。
6.  [您可以编写一个转换器，使用 JavaFX Canvas GraphicsContext](http://docs.oracle.com/javafx/2/api/javafx/scene/canvas/GraphicsContext.html)命令呈现 svg 。
7.  [FranzXaver](https://github.com/afester/FranzXaver)提供了一个 SVGLoader，其用法在答案中得到了演示：[Load SVG file in a Button on JavaFX](https://stackoverflow.com/questions/40078276/load-svg-file-in-a-button-on-javafx)

> 或者您至少可以从 javafx 导出 SVG 图像吗？

这个功能听起来像是一个 JavaFX SceneGraph 到 svg 的转换器。虽然理论上是可能的，但我不知道有人已经创建了这样的工具。

> 函数 Node.snapshot() 有什么帮助吗？

[Node.snapshot()](http://docs.oracle.com/javafx/2/api/javafx/scene/Node.html#snapshot(javafx.scene.SnapshotParameters,%20javafx.scene.image.WritableImage))不会帮助从 JavaFX 场景图中导出 svg 图像，因为 svg 是基于矢量的格式，而节点快照是位映射格式。

> 我看了一下 Batik，但它并没有对我有用，因为它转换为 BufferedImages 而不是 javafx.ImageView。

[您可以使用SwingFXUtils](http://docs.oracle.com/javafx/2/api/javafx/embed/swing/SwingFXUtils.html)在 awt BufferedImages 和 javafx 图像之间轻松转换。

> 在性能方面 - 您会推荐哪种方式？

对于复杂的 svg，而不是从 fxml 渲染，您可能会获得更好的性能渲染到位图图像或画布图形上下文。这是因为您的场景图最终会简单得多，节点少得多 - 这意味着 javafx 运行时要做的工作要少得多。对于简单的 svgs（生成 < 1000 个节点），它可能不会太重要。

> 将 SVG 转换为 FXML 关于创建 javafx.scene.shape.SVGPath 的实例？

部分。完整的[SVG 规范](http://www.w3.org/TR/SVG/)涵盖了比基本形状更多的内容。此外，SVG 可以执行渐变、效果、动画等。因此，如果源 SVG 图像包含这些附加项，那么它们也需要转换为 FXML（尽其所能，SVG 的某些方面，例如脚本，很难转换为 FXML）。

我的猜测是，SVG 规范的大小和复杂性是 JavaFX 核心 API 当前不包含对完整 SVG 图像系统的直接支持的原因之一，而是仅提供有限的类似功能，例如 SVGPath。与其他理想项目相比，在 JavaFX 核心 API 中本地实现 SVG 的成本很高，但回报相对较少。

> 如果是这样的话，#2（和#3）和#5不是一样吗？

不。#2 和#3 中引用的 NetBeans 和 Eclipse 工具比#5 中提到的 SVGPath 工具更实用，因为这些工具将 SVG 规范的其他方面转换为 FXML 等效项（例如渐变、效果和转换）。

* * *

## 回答 #2

> 赞同：28
> 
> 时间：2015-04-14T13:47:41.050

我使用上面的转码器类在 github 上创建了一个小项目，为 JavaFX（尽管是 JavaFX 8）添加了 SVG 支持：[javafxsvg](https://github.com/codecentric/javafxsvg)

打电话后

```
SvgImageLoaderFactory.install(); 
```

您可以在 Java 代码或 CSS 中的任何位置使用 SVG 图像，就像任何其他受支持的图像类型一样。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2014-05-27T16:17:50.867

### JavaFX + Batik + 自定义转码器

由于我没有找到将 Batik 与 JavaFX 结合使用的完整示例，因此我在下面提供了一个完整的解决方案。

请注意，`TranscoderException`为简洁起见，我删除了异常处理（例如对于 ）。
您可以在此处访问**完整代码**：[https ://gist.github.com/ComFreek/b0684ac324c815232556](https://gist.github.com/ComFreek/b0684ac324c815232556)

1.  为了将带有 Batik 的 SVG 文件转换为 SVG 文件`BufferedImage`，您必须实现自定义转码器：

    ```
    /**
     * Many thanks to bb-generation for sharing this code!
     * @author bb-generation
     * @link http://bbgen.net/blog/2011/06/java-svg-to-bufferedimage/
     * @link In case the link above is still down: https://web.archive.org/web/20131215231214/http://bbgen.net/blog/2011/06/java-svg-to-bufferedimage/
     */

    public class BufferedImageTranscoder extends ImageTranscoder {

        private BufferedImage img = null;

        @Override
        public BufferedImage createImage(int width, int height) {
            BufferedImage bi = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);
            return bi;
        }

        @Override
        public void writeImage(BufferedImage img, TranscoderOutput to) throws TranscoderException {
            this.img = img;
        }

        public BufferedImage getBufferedImage() {
            return img;
        }
    } 
    ```

2.  使用转码器生成`BufferedImage`对象：

    ```
    BufferedImageTranscoder trans = new BufferedImageTranscoder();

    // file may be an InputStream.
    // Consult Batik's documentation for more possibilities!
    TranscoderInput transIn = new TranscoderInput(file);

    trans.transcode(transIn, null); 
    ```

3.  将`BufferedImage`对象转换为`Image`对象（来自 JavaFX）：

    ```
    // Use WritableImage if you want to further modify the image (by using a PixelWriter)
    Image img = SwingFXUtils.toFXImage(trans.getBufferedImage(), null); 
    ```

4.  最后将先前收到的对象分配给您的`ImageView`：

    ```
    imgView.setImage(img); 
    ```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2021-07-03T10:51:22.990

我不想使用需要蜡染的库，所以我在这里开发了一个没有依赖关系的小库：[https ://github.com/hervegirod/fxsvgimage](https://github.com/hervegirod/fxsvgimage)

有一些方法可以生成 JavaFX 节点树，还有一些方法可以生成图像。

主类也命名为`SVGLoader`，但这个库是自包含的。当然，它可能不支持 Batik 的完整扩展。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2021-12-08T05:48:51.280

使用 Web 视图。下面是加载 SVG 的工作示例，支持 CSS 动画：

*   控制器类 SplashController.java：

    ```
    public class SplashController implements Initializable {
          @FXML
          private StackPane rootPane;
          @FXML private WebView webView; 
          private WebEngine webEngine; 
              public void initialize(URL url, ResourceBundle rb) {
               webEngine = webView.getEngine();
                URL url1 = getClass().getResource("/android_switch_string.svg");
                webEngine.load(url1.toExternalForm());
              }
      } 
    ```

*   资源文件 splash_svg.fxml：

    ```
    < StackPane fx:id="rootPane" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="360.0" prefWidth="508.0" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="diagnosticsWin.SplashController">
            <children>
              <WebView fx:id="webView" prefHeight="200.0" prefWidth="200.0" />
            </children>
          </StackPane> 
    ```

完整代码说明[https://www.ap-impulse.com/splash-screen-and-javafx-statya-106/](https://www.ap-impulse.com/splash-screen-and-javafx-statya-106/)

项目[https://github.com/nik137/Diagnostics](https://github.com/nik137/Diagnostics)

# linux - Eclipse 窗口之一中的 Bash shell

> ID：12436275
> 
> 赞同：2
> 
> 时间：2012-09-15T09:44:04.487
> 
> 标签：linux, eclipse, bash

我在 Linux 机器 (Ubuntu) 下使用 Eclipse，而且我在编程时通常必须使用 shell 很多——例如，要使用源代码控制、执行构建。有没有办法让 gnome-terminal （或任何其他 bash 终端）成为 eclipse 视图的一部分，所以我可以将它停靠在 Eclipse 工作区中我想要的任何地方？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:17:47.627

为了获得集成终端使用：[http ://elt.googlecode.com](http://elt.googlecode.com)

# iphone - 当我取消 NSOperation 时我应该怎么做？当我取消它时它没有从队列中删除

> ID：12436277
> 
> 赞同：2
> 
> 时间：2012-09-15T09:44:03.983
> 
> 标签：iphone, objective-c, nsoperation

据我所知，当我发送 isFinished KVO 通知并且 isFinished=YES 时，NSOperation 将从其 NSOperationQueue 中删除，并且在我发送 isCancelled KVO 通知时不会从其 NSOperationQueue 中删除。所以在我的取消功能中：

1.  当操作之前取消时，只需返回。

2.  操作完成后，只需返回即可。

3.  当一个 NSOperation isExecuting 时，它的队列之前已经发送过 isExecuting KVO 通知，所以我只发送 isCancelled 和 isFinished KVO 通知，然后它的队列会移除它。

4.  当 NSOperation isReady 时，它的队列还没有发送 isExecuting KVO 通知，所以我发送了 isExecuting KVO 通知，但是我在控制台中遇到了一些错误： go isFinished=YES 没有被它所在的队列启动。

我的问题是：当我取消一个状态刚刚就绪的操作时，我该怎么办？我希望它被队列删除。

顺便说一句，我有一个成员变量来保存操作的状态，我希望取消函数不影响它的值，所以当取消一个状态准备好的操作时，我只是发送 isExecuting KVO 通知但 isExecuting=NO，因为状态值已准备就绪。最后，我的代码是：

![在此处输入图像描述](../Images/5aa06a893623ba1ba24b28432e5f62a1.png)

![在此处输入图像描述](../Images/5ac5c37f55439e7c607dbc1d7aead532.png)

# apache-flex - Red5 flex 流媒体：“Scope StreamRecorder/test not found on 127.0.0.1”

> ID：12436281
> 
> 赞同：0
> 
> 时间：2012-09-15T09:44:47.233
> 
> 标签：apache-flex, video-streaming, red5

我下载了 red5-flex-streamer ( [http://code.google.com/p/red5-flex-streamer/](http://code.google.com/p/red5-flex-streamer/) ) 并按照说明进行操作，但是当我尝试连接到 Red5 服务器时，它总是说“Scope在 127.0.0.1 上找不到 StreamRecorder/test"。（“test”是我给的用户名“http://red5-flex-streamer.loc/record.php?user=test”）可能是什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T14:15:58.990

我不得不将 Red5 服务器 1.0 降级到 0.9。瞧，它现在开始工作了！

# android - 无法在 Eclipse Juno 中安装 ADT

> ID：12436282
> 
> 赞同：2
> 
> 时间：2012-09-15T09:44:51.790
> 
> 标签：android, eclipse, eclipse-plugin

我收到错误：

> > 无法完成安装，因为找不到一项或多项所需项目。正在安装的软件：Android Native Development Tools 20.0.3.v201208082019-427395 (com.android.ide.eclipse.ndk.feature.group 20.0.3.v201208082019-427395) 缺少要求：Android Native Development Tools 20.0.3.v201208082019- 427395 (com.android.ide.eclipse.ndk.feature.group 20.0.3.v201208082019-427395) 需要 'org.eclipse.cdt.feature.group 0.0.0' 但找不到

Windows 7 专业版 64 位。

面向 Web 开发人员的 Eclipse Java EE IDE。（32 位）。我只想通过离线安装它。因为我想把它送给我的朋友。Android SDK 上没有问题。我已通过仅启用[http://download.eclipse.org/releases/juno](http://download.eclipse.org/releases/juno) 和[https://dl-ssl.google.com/android/eclipse/](https://dl-ssl.google.com/android/eclipse/)来尝试解决方案，但仍处于禁用状态。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-16T05:34:58.070

在 Eclipse 的安装选择中取消选择 Native Development Toolkit。你不想要那个。它用于编写 Android 应用程序中使用的 C 代码，对于 Android 初学者或编写普通的 Android 应用程序绝对不需要。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T19:43:30.183

确保选中“在安装过程中联系所有更新站点以查找所需软件”复选框。这阻止了我的默认 Juno 64 位安装添加 ADT。不过，我不确定您将如何识别用于为您的朋友提取的其他依赖库的站点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-22T03:22:30.123

我遇到了同样的问题，但使用了不同的包。以管理员身份启动 Eclipse 为我解决了这个问题

# iphone - 有谁知道这段代码有什么问题

> ID：12436285
> 
> 赞同：-1
> 
> 时间：2012-09-15T09:45:03.300
> 
> 标签：iphone, ios, cocoa-touch, ios5, ios4

```
-(NSData *) decryptData:(NSData *) Data
{
NSData *iv;
NSData *salt;
NSError *error;
NSData *stringData = Data;

NSInputStream *inpStream = [[NSInputStream alloc] initWithData:stringData];
bool IVData = [inpStream _CMgetData:&iv maxLength:kAlgorithmIVSize error:&error];
bool SaltData = [inpStream _CMgetData:&salt maxLength:kPBKDFSaltSize error:&error];
}

@implementation NSInputStream (Data)

-(BOOL)_CMgetData:(NSData **)data maxLength:(NSUInteger)maxLength error:(NSError **)error {

NSMutableData *buffer = [NSMutableData dataWithLength:maxLength];
if ([self read:buffer.mutableBytes maxLength:maxLength] < 0)
{
    if (error)
    {
        *error = [self streamError];
        NSLog(@"CMgetData Error!!");
        return NO;
    }
}

*data = buffer;
NSLog(@"%@", buffer);
return YES;
}

@end 
```

我总是收到“CMgetData 错误！！” 有谁知道为什么会出现这个问题。我相信我正确传递了所有参数。那正确吗？？请帮助提前谢谢任何帮助？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-17T05:11:48.567

必须先打开任何流，然后才能对其进行读取或写入：

```
NSInputStream *inpStream = [[NSInputStream alloc] initWithData:stringData];
[inpStream open];
// now you can read from the stream. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:07:36.700

在解密数据中，您创建一个指向 NSError 的指针。该指针在内存中的某处获取地址，然后将该地址传递给 _CMgetData。该地址将始终评估为真，因此（当 read 返回负数时）您始终输入 if(error) 块。

您可能想检查您对 read:maxLength: 的调用是否有错误，因为它返回一个负数。检查该函数的规范如何检索错误信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T13:05:01.543

对于非 ARC 代码，局部变量，尤其`NSError`是稍后检查非 nil 状态的实例，必须初始化为 nil，否则它们将包含垃圾。声明为：

```
NSError *error = nil; 
```

反而。

# php - 提交表单时出现 406 Not Acceptable 错误

> ID：12436286
> 
> 赞同：0
> 
> 时间：2012-09-15T09:45:13.007
> 
> 标签：php, apache

在我使用多年的系统上，我遇到了一个奇怪的新问题。我的前端网站（Apache 服务器、PHP 和 Mysql）上有一个表格，任何人都可以填写 - 职业申请表。然后，在一个简单的 PHP 后端，我们可以查看此应用程序数据，还可以编辑表单和添加管理器注释。

对于一个应用程序（看起来不错，可能是一些 Word 粘贴的项目符号，但没什么特别的），我尝试编辑数据 - 表单加载正常 - 但是当我提交表单时，Apache 报告“406”错误，

*不能接受的*

*在此服务器上找不到请求资源 /accounts/network.php 的适当表示。*

*此外，在尝试使用 ErrorDocument 处理请求时遇到 404 Not Found 错误。*

我很困惑。提交其他表格工作正常，只是这个应用程序。另外，前端似乎已经接受了他的数据，所以我不确定为什么后端没有。谁能建议，我可以在 PHP 或 Firebug (Firefox) 中做些什么来调查出了什么问题？

加载表单时（在提交之前），这是我的响应标头（来自 Firebug 中的 NET 选项卡）

```
Connection  Keep-Alive
Content-Length  21372
Content-Type    text/html
Date    Sat, 15 Sep 2012 09:43:23 GMT
Keep-Alive  timeout=10, max=10
Server  Apache
X-Powered-By    PHP/5.2.17
Request Headersview source
Accept  text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Encoding gzip, deflate
Accept-Language en-US,en;q=0.5
Authorization   Basic cmlzaGk6MjR0b255MzAwMw==
Connection  keep-alive
Host    www.mydomain.com
User-Agent  Mozilla/5.0 (Windows NT 6.1; WOW64; rv:14.0) Gecko/20100101 Firefox/14.0.1 
```

非常感谢！

**[更新]** 此外，我已按要求粘贴了我的代码以帮助解决此问题。1) .htaccess - 我的主域 .htaccess 是空的，但管理区域有一个 .htaccess 以及简单的密码保护。（AuthType 基本

需要有效用户）

2) 我的 CMS 区域的 PHP 信息在这里：http: [//jaysonsgroup.com/info.php](http://jaysonsgroup.com/info.php) 但是“前端”网站是同一服务器上的不同网站/域。因此，该站点上的 PHP 信息也将相同。

3) HTML 表单代码在这里。实际上，我已经粘贴了所有的 HTML，减去了一些与表单无关的不必要的较长部分。一些元素也被删除，因为它们在其他表单应用程序上没有问题。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Admin</title>
<link rel="stylesheet" type="text/css" href="styles/style.css"/>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body>
<div id="content">
<script langauge="Javascript" src="js/jfunctions.js"></script>
<script langauge="Javascript">

function validateForm(form) {
    if (isWhitespace(form.title.value)) {
        alert("Please choose your title.");
        return false;
    }
    return true;
}

</script>

    <form method='post' action='/accounts/network.php?op=view' onsubmit='return validateForm(this)'>
    <table class='noborder' width=100% cellpadding=1 >

    <tr>
    <td align='left'><span class='fieldname'>Title*</span></td>
    <td align='left'>

    <select size='1' name='title'>
    <option value=''>[Please choose]</option>

        <option  value='Dr'>Dr</option>

        <option  selected='selected'  value='Mr'>Mr</option>

        <option  value='Mrs'>Mrs</option>

        <option  value='Miss'>Miss</option>

        <option  value='Ms'>Ms</option>
        </select>
    </td>
    </tr>
    <tr>
    <td align='left'><span class='fieldname'>Surname*</span></td>
    <td align='left'><input type='text' name='surname' size='22' maxlength='30' value='test' /></td>
    </tr>
    <tr>
    <td align='left'><span class='fieldname'>Forename(s)*</span></td>
    <td align='left'><input type='text' name='forenames' size='22' maxlength='50' value='test' /></td>
    </tr>
    <tr>
    <td align='left' width='30%'><span class='fieldname'>Your Company Name (if applicable)</span></td>
    <td align='left' width='70%'><input type='text' name='company_name' size='22' maxlength='50' value='' /></td>
    </tr>
    <tr>
    <td align='left'><span class='fieldname'>Address</span></td>
    <td align='left'><textarea rows=2 cols=22 name='address'>test</textarea></td>
    </tr>
    <tr>
    <td align='left' width='30%'><span class='fieldname'>City*</span></td>
    <td align='left' width='70%'><input type='text' name='city' size='22' maxlength='50' value='Rathnapura' /></td>
    </tr>
    <tr>
    <td align='left'><span class='fieldname'>Country of Residence*</span></td>
    <td align='left'><select name='country' size='1'>{options will be here - I have taken them out as they are very long for this post}</select></td></tr>
    <tr>
    <td align='left'><span class='fieldname'>Contact number(s)</span></td>
    <td align='left'><input type='text' name='tel_nos' size='22' maxlength='50' value='+12345' /></td>
    </tr>
    <tr>
    <td align='left'><span class='fieldname'>Email*</span></td>
    <td align='left'><input type='text' name='email' size='22' maxlength='50' value='test@gmail.com' /></td>
    </tr>
    <tr><td colspan='2'>&nbsp;</td></tr>

    <tr>
    <td><span class='fieldname'>Other skills (use this box to elaborate on your skills, including any others that are not listed above)</span></td>
    <td><textarea rows='9' cols='35' name='sk_otherdesc' ></textarea>
    </td></tr>

    <tr>
    <td><span class='fieldname'>Please specify the areas of work in which you are most interested.*</span></td>
    <td><textarea rows='6' cols='35' name='interestareas' >PHP web base application developments</textarea></td>
    </tr>
    <tr><td colspan='2'>&nbsp;</td></tr>
    <tr>
    <td></td>
    <td><textarea rows='9' cols='35' name='samplework' >•   I have developed ....

•   I have developed dynamic web site ....

•   I have developed a PHP web base application named .....Link- http://test ....

</textarea></td>
    </tr>

    <tr><td colspan='2'>&nbsp;</td></tr>
    <tr>
    <td colspan='2' class='tabledivider'>Other info</td>
    </tr>
    <tr>
    <td></td>
    <td><textarea rows='5' cols='35' name='moreinfo' >I m following my degree program in weekend.  </textarea></td>
    </tr>
    <tr>
    <td align='left' width='30%'><span class='fieldname'>Manager Rating</span></td>
    <td align='left' width='70%'><input type='text' name='manager_rating' size='5' maxlength='10' value='0' /></td>
    </tr>
    <tr>
    <td><span class='fieldname'>Manager Notes</span></td>
    <td><textarea rows='5' cols='35' name='manager_notes' ></textarea></td>
    </tr>
    </table>

            <!-- Button to update record -->
    <br/><input type="hidden" name="status" value="submitted"/><input type="hidden" name="user_id" value="177" /><input type="submit" value="Update Entry"/>
</form> 

</div>  
</div>
</body>
</html> 
```

# c# - 画一条垂直线

> ID：12436287
> 
> 赞同：0
> 
> 时间：2012-09-15T09:45:20.413
> 
> 标签：c#, math

我有一条定义为 P1,P2 的线，我正在尝试绘制一条与该线垂直的线。y = kx + m

```
var p = new PointF {X = 20, Y = 20};
var p2 = new PointF {X = 50, Y = 100};

//Calculate K
var k1 = (p2.X - p.X)/(float) (p2.Y - p.Y);
//Since k1*k2 = -1 for a perpendicular line:
var k2 = (1/k1)*-1;
//the lines intersect in p2.
var m2 = p2.Y - k2*p2.X;

//choose arbitrary X value
var p3 = new PointF {X = p2.X + 20};
p3.Y = (k2*p3.X) + m2;

var newK = (p3.X - p2.X)/(float)(p3.Y-p2.Y); 
```

如果我运行这个 newK 得到值 -0.375，它应该是 -1。

编辑： newK 应该是-2,666667 而不是-1。

我错过了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T09:51:24.640

看起来你在计算时有错误`k1`。系数结束了，`k`所以你应该有。`dy``dx``k1 = (p2.Y - p.Y)/(p2.X - p.X)`

# jsf - 如何将 hiddenFiled 的值作为 actionbean 的参数传递？

> ID：12436290
> 
> 赞同：1
> 
> 时间：2012-09-15T09:45:27.673
> 
> 标签：jsf

我的页面显示列表类别名称。我想当用户单击类别名称时，它将按类别名称显示列表产品。在这段代码中，我想将 CateogryId 作为 h:inputHidden 的值传递。它与`<h:inputText value="#{produtBean.categoryId}"></h:inputText>`.

谢谢你的阅读！

**来自 xhtml 的代码**

```
<ui:repeat value="#{productBean.listCategory}" var="c">
   <h:form>
        <h:inputHidden value="#{productBean.categoryId}" ></h:inputHidden>
        <h:commandLink value="#{c.name}" action="#{productBean.listProductByCt}" ></h:commandLink>
   </h:form>
</ui:repeat> 
```

**ProductBean 中的代码**

```
public String listProductByCt()
    {
        if(categoryId==0)
        {
            return "index";
        }
        listProduct = new ProductsDB().listProducts(categoryId);
        return "product";
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T12:54:26.550

`<h:inputHidden>`那样不行。您试图“传递”到其中的值也有点奇怪。对于列表中的每个项目，它都是相同的值。你应该`<f:param>`改用。您可能还想通过`#{c.id}`or`#{c.name}`代替。

```
<h:commandLink value="#{c.name}" action="#{productBean.listProductByCt}">
    <f:param name="categoryId" value="#{c.id}" />
</h:commandLink> 
```

和

```
@ManagedProperty("#{param.categoryId}")
private Integer categoryId; // +setter 
```

或者，如果您已经在使用 Servlet 3.0 / EL 2.2，那么您可以将其作为方法参数传递。

```
<h:commandLink value="#{c.name}" action="#{productBean.listProductByCt(c.id)}"> 
```

和

```
public String listProductByCt(Integer categoryId) {
    // ...
} 
```

### 也可以看看：

*   [如何将选定的行传递给 dataTable 中的 commandLink？](https://stackoverflow.com/questions/4994458/how-can-i-pass-a-parameter-to-a-commandlink-inside-a-datatable)

# .net - NHibernate 字符串映射到 UTF8

> ID：12436294
> 
> 赞同：2
> 
> 时间：2012-09-15T09:46:07.247
> 
> 标签：.net, nhibernate, unicode, firebird

我将 NHibernate 与 Firebird 数据库一起使用，但不确定字符串类型是否正确映射。在 .NET 中，字符串类型通常是 UTF16 编码的。在 Firebird 中，我定义了我的域 wie 字符集 UTF8。

所以如果我有这个域类：

```
public class Project
{
    public virtual Int64 ID { get; set; }
    public virtual String Name { get; set; }
} 
```

和这个 NHibernate 映射：

```
<class name="Project">
<id name="Id">
  <generator class="sequence">
    <param name="sequence">MY_GEN</param>
  </generator>
</id>
<property name="Name"/>
</class> 
```

在这种情况下，NHibernate 会自动将我的 System.String 转换为 Firebird UTF8 字符串吗？在数据库中似乎没问题。但我不确定 NHibernate 中的处理方式。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T13:55:21.870

NHibernate 的默认字符串类型使用 DbType.String（它是一个 Unicode 字符串）保存数据。Firebird 将为您编码 UTF8 中的 unicode 字符串。

另一种选择（不涉及自定义类型）是指定一个 AnsiString 类型，如果您使用的只是 ASCII 字符，该类型也适用于 UTF8。

由于您没有指定类型，NHibernate 将使用它的 StringType 并且它会正常工作。

# lucene - 确定在 lucene 多字段查询中匹配了哪些字段

> ID：12436296
> 
> 赞同：3
> 
> 时间：2012-09-15T09:46:20.087
> 
> 标签：lucene

我在 Lucene 中进行了大约 10 个字段的多字段搜索。在显示结果时，我想找出实际匹配的字段。

这样做最有效的方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T15:13:39.467

这不是微不足道的，但有几种方法可以找出“哪个字段匹配”查询。

看看[这个最近的讨论](https://stackoverflow.com/questions/11702038/lucene-based-searching/11705721#11705721)。

# jquery - JQuery get subString?

> ID：12436307
> 
> 赞同：2
> 
> 时间：2012-09-15T09:47:22.050
> 
> 标签：jquery, substring

Script

```
$(document).ready(function () {
    var referrer = document.referrer;  
    // referrer = http://localhost:49972/Enerji/Kompanzasyon 
    $("#uygula_buton").click(function () {
        if (referrer == "Enerji/Kompanzasyon") {
            //
        }else
        {
            //
        }
    });
}); 
```

referrer value is `http://localhost:49972/Enerji/Kompanzasyon`, But I want to get only controller and action name like this `Enerji/Kompanzasyon`. How to get this in jquery.

Thanks.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T09:58:28.880

尝试

```
var referrer = "http://localhost:49972/Enerji/Kompanzasyon";

var split = referrer.split("//");

var index = split[1].indexOf("/");​​​  //gets first index of "/" in "localhost:49972/Enerji/Kompanzasyon"

alert(split[1].substring(index+1)); 
```

结果 [演示在这里](http://jsfiddle.net/4Pzh8/1/)

```
Enerji/Kompanzasyon 
```

​</p>

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T09:49:45.903

Try this,

**[Live Demo](http://jsfiddle.net/rajaadil/PSXr4/#update)**

```
$(document).ready(function () {
    var referrer = document.referrer;  
    // referrer = http://localhost:49972/Enerji/Kompanzasyon 
    $("#uygula_buton").click(function () {
        ref = referrer.split('/')[3]+"/"+referrer.split('/')[4];
        if (referrer == ref ) {
            //
        }else
        {
            //
        }
    });
}); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-15T09:51:50.367

您可以在 js 中使用 Split() 函数。

```
var refer = referrer.split(); 
```

并使用`refer[2]`元素。

# javascript - Canvas data to image

> ID：12436309
> 
> 赞同：1
> 
> 时间：2012-09-15T09:47:35.407
> 
> 标签：javascript, canvas, http-status

I'm using `canvas.toDataURL` to save images as text in the indexDB, when I retrieve the data I want to convert that data to images, the problem is that I get an error saying `Request-URI Too Long` http status code 414

```
var c = document.createElement('canvas');
c.width = 400;
c.height = 360;
var ctx = c.getContext('2d');
var img = new Image();
img.onload = function () {
    ctx.drawImage(this, 0, 0, 400, 360);
}
img.src = doc.src; // adding the data to the image 
```

Tried the code above hoping I will convert the data but it doesn't work.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T10:15:29.377

我尝试了长度为 14115 个字符的图像源，它对我来说效果很好：

```
$('body').append('<img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAG5AmsDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD5/ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiniKRhlY2I9hSMjIcMpU+4xQK6G0UUUDCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKekMsv+rjd/91SaAbtuMopWVkYqykEdQRikoAKKKKACiiigAooooAKKKkSCWQZSJ2H+ypNAm0tyOinPG8Zw6Mp9CMU2gYUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHW+DPDltr2qQ21w4VXOCeteyQfBjw3t+cyMfqBXknw/u47XV7dpJAq7+TnpXb/ErX7yDxDZpYak6xiPdiJuD061m21Kx4mK9pKvyqTSOpHwZ8L5I2Sk/Wkn+C/hgr8vmRkjrnNV9f1W/i+G/2uO6dZiqgyZwao/DHX5LixuIb3UDJIAWHmv7Ue005rHKnNxclJ6ebHeEV8Habd3Oj3BjkuY5igaVODgkVkfGbTdHtLGynsbWKKV2IdkXAI4rmNPeO48euwIKvcseD1+avdrvwzp2tWkEV/becqfMM9qabU7dCn+6qxlq3ufI+CDyCKTFfVU3w98H30TQLaQ7xwfLcZFeI/ETwE3hLUkED+ZazgtG307Va12PUoY6NSXLKNmcHRXeeCPAUniW6xLlIF5d8V7Pp/w+8KaLbiO5htnZuN0zDJpXQq2YQhLlirs+XKK+l9b+EnhvXLfzNO22sp+68RBU18/eIdCufD+rz6fcKd8TYJ9fenvqjXD4yNZ8trMyaKKKDrHKAWAJwK9i+HfgHw54h0prm8YySqcNGG5FeN16t8GZGGtyr5jYMf3c8VnUbSujix9/ZXTsX/iP8L9N0XRf7V0cSBI22yoewPf9K8u0fS21HUYbbaSXcLgV9ZXVtBrFhdabOAYZo9rZ9a8m8A+Cbiz8U3Et3CQlqxAJHDHtVuXuXRwUsY6dKSb16HS6d8HvDH2NBcxyNIygls45rxfx9oul6D4mmsdKuPOgTvnOD3FfUUrxnT7plbO2B/wOK+avDOhafr/ik2+oXXkxu7fMx6nPvSTtG7Hg6ji3Ocm7I4kDPrmkwfSvqe38J+CvD9qguhYrj+OZwSah1PwD4O8W2TGw+zJKAdstsRjPuBTUk+p0LMXfWDt6ny9Wz4Z0631TXLa0uCwSRwDj0o13Q5NE1m40+c4MLlSfXmvYPhToPhqe0iu1ljk1JTkxueV6dBSqOyN8RieWjzQV7nI/ErwPpnheGylsWcrMvzZ5wa80r7I1PQ9N1a1EOoW0UsaN8pcgba5jUvh94GFhMbhbW3VVyZBIMrTWy1OLD4ydOPLKLl8z5eordmstJTXmgiuTJZCXaJcYyuete96D4B8F3mmxz20cd4hUZfcCc+/pSlJJ2OytjFTSai3c+Z6K+lofg94dGqNdhGMGciI9BWnqPw98I6pp8tskFnE6qcSxuMofeq9TFZkm9IM+Vq9L+G3jLw/4dE0WsWm8Mcq/l7iK5qx0nSk8UfYb+7xarMUMi9MZ6173pvw98FXFsot4be5AHDBwTWc2tmPGV4OKi4tpngfjjWNN1vxRd3ukwGKzlI2KV2/U47VzVeifFXw9YeH/ABGbXT41SJoxIFHbOf8ACuAgRXnRXJCkjcfatGdWGnF0k4qyIqK+jvCPw88IX2hW9zGi3m9AXbPIbuMVyXj3wP4f0nxPpkMAmjguv9YEXIQZxUxldXOeOYRcuVxaR49RX1Fpvwx8JG0VBZeaCud7enrXhfxC0fR9D8U3NlpFx5sKYyAchT3GfamndXLw+NVaXKotHI0UUUztFBwQcZr3T4V+KvDktlBo1xYoNQJOHeMEP+NeFV2fwxA/4TSzz03D+dRUXu37HJjacZUm5dDqPjjDZQa1Yi2t44i0GW8tcZOTXklfXmpeFNF1e4F9qltHKYlwDIcBRWZP4G8E69ZyQ2lva7hwXtyMqaaldJs4MNjHTpqPJsfK1FdX428Iv4S1+WwaTeoG+NvVTnFdJ8MPAukeKEmub28G+BhmDIGRTk+Xc9KWJgqftFqeYUYr6o/4R74d6SwguF0xX6Yd1J/nXNeOPhVot9pFxq+hMsUkUZkEcRBVwOTihNPS5zxx+vvwsj58oqZ7dkl2HkkkCvZfh/8ACmyvdPh1XWDuV/mEROBj1NJySOiviYUY8z1ueKUV9VJ4Z+H0zmxSHTXm6bFcbv51yXxB+GGgaX4WudU0+EwSwEZGeGyQP60009LnPHH3aUoNHgVFPlUI+AeKZTPQWoUUU+IIzgSNtX1oAZRX0J4K+G3hPUtBt73IvTKo3NuxtPcVxPxS8H6D4a1G1TTbkbpgTJCCCU+tTGXNscMMbGdTk5WeY0V7p8O/h74W1rQ0vJZPtkx4dc42H0qj8VvAHh/w1pEN7YyCC4kk2iDOSw9RRGXNsEccnU5OV+p4zRXrXgT4RvrcEd9qjtFCxzGgH3xXqQ8EeBrUpZTWliJyMBWcbj+tCkvkKePipcsI3sfKdFe7+MvgnbR2dzqOhyuHUFxbYyCPauV+G/g/Qdc1KeDU7oefGcC3YgbvpTbsrlLHQcHKzuuh5njikr3P4m/D7QdA8LJf6fbiKRZgh5zwQT/Ssn4a+CvC2v2pkvb1ZroNg2zEKfw9aTlZXEsanT5+V+h5FRXtvxU8B6H4e0G2vNNt1idpPLYZ614o4AcgHOKo3w9dVo3tYbRRRQbhRRRQAUUUUAFFFFABRRRQBJFPJC2UYg+1XrK6mnv0aaRpCBxuOaoRxmRwo6mvQ/CPw1v9ajF7FIqxA4yetJtLc5sTUp04OUzuNebPwnY5z93n8RXhwup4GPlTOg6fKcV9L3Hg43XhN9FMxGVADEdDXjHi34bar4YgW6mZHt3baHB70oRtE8zAVqcbxl1Zj+F3b+2YGLEnfnP41658S/EeqaV4XtYLCZoTOcNIp5xxxXBeAfCVzrN+skUgCR8sa9R8c+CL3X9BihtHBltsuFPGR/kVNrzFiakPrMey3PHfB+qX0WvwP9tn+aT58uTmvR/jE3m6fpLMT1bn64rk/A3gbUL/AFMzKyhLaT5+fSvUfHXgu68T6NDHayAXFucgPwCKEv3mgq9WDrpxeiJ/h5aw2/ha2ePrIMnHeoNd+GkPiLUZL24v7td3RA3A+lYnwz8QQrbvod1cqk8TEIMjn6Vf17wj40uNQefSPE8sUDnIjY420oaXj1Ofl5Zu7t5mx4e8DyeHWxBf3U0Z6o5yBXA/HTTI430692qk8ylZPU47/rW1aeDPiE0gF34tlC99rGuE+KXhnVNFe1l1HWnv/MHyiRuV/CtIpp7G+HUPbK0rv5/5HmdFFFM98K9P+DxI8RgZx+7rzJVLMAOpr2f4Q+F7nzDq3mDy1G0Adc1nV+Gxw5hJKi0+p1d14oOl/Er+zp5AlrNGMf7xxXZ393Bpel3mozALHDCzn3OOK4Pxz8Ob/wAQX51ewnEdwico3Gcehrz211HxZ4vlXw41+pjHykbsZHv60cri+boeXTpRnFO+256v4S1d9Y8I3122d7rLgHsOa8W8P+Eb/wATaw0duXjVXO6Qcbea9y8J+FLjQdAOnTMXZ1YMyj1p3hLw6fDSTWjyxGaSQuoz8xWkm1FkRrOHN7PrsULP4V+H7S0RtWeS5YDmSaUgV0Gi+G9D0bLaSoCMQSFk3CuH8UfDjxX4i1aadtdYWjNmOHcRtHpgV0Hg3wPP4WhYTX89w7dV5IFU4tLRBLk5U3Jt/M8g+Lkax+Pr4KuAyqx+uK5/wlLJF4jsyksiDzFB2HGea9M+K3gG9nlu/E0EwMAUeajcEV5PolwtprFvJI3CyKTjsM1c1eJ6lGSnQ5VukevfGK5uYdH0wQ3U8QfltjYzweteJvc3Eg2vczMp6hnJr6R8V+Dz458PWJsrlUkRQUbOQRiuMsfgPe/akN/qCGH+IRjmop6wVjnwuJp0qdp7+h46B6H8K9X+C00q6xcRCV/LKfczxmpfGXwnsNNvdMs9IvR9punKtHK4yOmDXW+BPhvdeFrt7m4uvMd1xtQcUqiuuXqVicVTnR5Ve76WOZ+LfjvUotQfw/YO1tAgBldeC5+teRi9vF3YvLgZ64kPNe++LvhRN4n1t9RjvPJ3qAykd68z8Z/DLUfB9rHdzTxy28jbQwPOa0S0LwuIpKKg9/Q4fknJJJ65Jr0D4Ryz/wDCYxoJ5Amw5UscHkVj+EPBF74vu5YLaVIxEu5yT2r1rwd8KbnwzrC6hLeCTauMKPpWc1zJxRWLxFNQcOvocV8bAP8AhLlIJ/49l/rXllfS/jP4ZHxfqi3ovGgbywhBX0z/AI15T4r+FWoeF5LUvdRSw3Mnlo3Q5rRJ2FhMVTjBQluc/wCFPE+s+H9SjfTJZGyeYAcq34V9O6dNHrtjbXWoacI5wudsi5KmuR8CfDGz0K2ju76L7ResAw4yFpfiB4l8T6DremWulrbxW1xjaZB985AwfasrXfOjkr1ViKloKy79zI+LnjLXNLVdJ021ltLSRfnuVH3/AGBrweRndyzks5OSSck19ez6aPEOiLa65ZpIzp820ZCH1FfPXxD+H0vg6+jZJQ9pcZaInrx2/WtIvmV0dOBxEF7jVvM4SiiimeqFdf8ADc7fGdl/vj+dchXqPws8FajfXsGuRsgtopB0PJxUVPhZzYyajRlc3fjVrWowTWOmQ3LxWzx+Y+w43HJHNcl8KLu4g8bW6JPKEkB3KGOG5FejfFXwXe63ax6rbEYs4iJFbjjJ5H51zPwt8Dan/aVtrrOn2RWIXByTSkv3djzqdaEcK09yL43hm8VQsOc2ij9TWX4B+HepeImN211NaWvGShKl69A+Knga81pP7ctZABaQ/vY34+UZORXR+F2a68BxJos8SXJtyispzsf1NOTskmZ/WJxoKENH1KK/CbwbbKBfKzzHq0s/Jrp7LRLLR9Dns7Lf5AhcAM27tXkU/wAJvGupX3n6lrBkJPMnmEmvVtB0K50nQ102e/muTsKb2HIBGKGmmtNDKo4KyUnJ/P8AU+Vb3AvZO22Rj+te7+BPFuga94Tj0fUryO0ljXy2RpNm8exrzbxb4Bv/AAzrVst46Pb3c37tgeoz3r1XV/hbo+teHYIrO3jtLxI1KzIPvcd6KivJJnXXqUpQgmr/AKDLv4OeHNQh8/R7uaGU8rMku4Zrm/iJo/jbSfB62Vxqi3+lowDsq4cYPAJqvZfC/wCIGmHFhrPkr/synH5V6Jrivpfw2uY/Ed2s0gg2s7dXfPGP0ppO/vIx51GScJc3l/w58rNncd3Wm1NcOrykr0qGqPdTugooooGepfBrxO2na42l3MxFrc/dBPAarXxl8ONa+IItUi3NFfAD/dbpgflXldpdSWV1FcxHEkbBgc9xX1BoF1p/jvwpZT3sKSvHgsvXawrJ+5O/c8vFp0airRRk/DXRE8I+EJtSvy0bOnnSZPRe1eP3WpXPjLx0j3Nw7rcz4RHPCKTwAK9U+M3iFdL0S20G0l2zXHzTKvaMDgfqK8FtNQmsr2C7hIEkTBl/A1SjZPuLCUpyjKpLdn0V8R9duPCfgmG004mOabEQkXjYo64r53e5uZJzLJdTtL/fLnP519K20Wk/E/wVDFNKA+AWKEbo3Feb3nwN18Xci288L24b5WZuSKKbTikRhasKMXGpodV8F/Feo6rbz6XfytMltjy3bk4PYn8K82161bTfiRcJayNFtvBgocHBr2bwp4UsPhzoFxqN/PhlTfM5PXHYV4DqOsjUfFEmqEnbJdBwT2GaUYtXCi3UqSnFWR7T8Wndvhxa7mJJmiyfU7GrwvR3kh12zeCR42+0KMqcd6+i/FHh6bxl4BtrXT5kEpWOVCx4OFxj9a4fw98E7+LUIrnV7pY1icOFi5yRRT1p2Iw1eFKk1Pc2PjIxPg/S9zE5l/P5a+fX++31r6j+IPg+68SeGIbSwYGe1beocYDDFfMl7bS2tw8MpXcjMDj1B5qoK0Ujpy6a5XF7lWiuu8EeBrrxhfmNJBFbxjMknUgVP478Az+DLmFWn86Gdd0bkYz7U07ux1/WaftPZX1OKopSCKSmbhRXpXg/4S3nibTPt0tz5CPnysc7jXFeINDuPD2r3GnXJHmwPtbFJO+xhDE05zcIvVGVRRUtvA9zcRwR/fkYKPqaZu3Yior1WX4LX8PhuTUWuf8ASI4vNaDHb615eYHBwBmkncwpYinVvyvYjVipyDgiuq0H4ha94cXZYzr5fdHG4VylFDSe5pOEZq0lc9M/4Xl4s/6c/wDv1/8AXrn/ABJ8RPEPimFINRuU8pDkJGm0Zrk6KSilsQqFNapG9ofi/WPDs3m6dc+We4YZB/CuhufjH4vubZ4DeQorKVJSIA4PvXAUUcqvcbo027tHQaN401zQbh57C8KO5y2RkGt27+MHjC8tXt3vo0VhgmOIA4rgqKfKgdGm9eUtw6hdQXAnjmYSg5DA85rtLL4xeL7KFYheRSKowPMjBP51wFFDinuOVKEt0eiS/GrxhICFubdM91irjdY13UteuzdaldyXEp7seB9KzaKFFII0oR1SCiiimaCg4rodD8b6/wCHQy6dfNGjdVIBFc7RSaT3JlFSVmjtr34seML+1e2l1TbG67W2IFJH1rlrHVb3TbpLm1uGjmU5Dg8iqVFFktBKnBK1jvI/jD40jjCDU1IHcxKTWFceM/EF1rA1WXVJzdjo4bGB6YrAopcqBUoLoehQ/GjxlDHs+2wvxjc8QJqL/hcfjXeW/tNee3lDFcFRRyRF7Gn2Ot1v4keKPEFg1lf6iWt2+8iKFB+uK5Pcd2c8+tJRTSsUoxjsjqtE+Ivibw/bC3sNRYQjojqGA/Otef4zeNJo9g1CKMYxlIgDXn1FLlj2JdKD1saU2v6rcap/aUt9M92G3CUtyDXVQ/GHxpDGEGpqwAwC0Sk1wdFNxTG6cHujv/8AhcvjX/oJp/35WsHxD421/wAUBF1W/eZIzlUACqD9BXPUUWQKnBbI1dF8Q6p4eu/tWmXbwS4wSOciuoX4x+NVGBqa/jCtcFRQ4p6g6cG7tHoA+M/jYf8AMTj+vkrXP69411/xJNDJqeoPKYTmMABQp9cCufoo5UCpwXQ7e0+LXjKygWGLVcoo2jfGpIH5Vi654w1zxHdxXOp37yyRDEeAAF+mKwqKEktgVOC2R29l8WvGVhbpBFqu5FGB5kasawvEHivWfFFyk+r3r3DxjCDAAUewFYtFCSWwKnFbIKKKKZYV0OgeNtf8MoyaXftDGxyUIBH5GueopNJ7icVJWZ22qfFfxfq+nS2F1qQ+zyja4SNVJHpmqGgeP/EfhqAwabfmOInO1lDD9a5iiiy2J9nDax2msfFPxZrmmyafeaiPs8ow4jjClh6E1l+HvGWueGXZtMvfKB5KMMg/hXP0UWVrB7OFrWPSX+OHjJoti3Fqn+0IRmoE+NXjVP8Al/hP1gWvPaKOVCVGmuh0HiHxprvii4hn1W8Mrw/6vaoUL+VbOn/FvxhpsSRQ6krxoAAskStxXDUUOKe43Tg9LHpY+OfjEIV8203f3vJFcr4k8a674sdDq16ZVT7sajao/AVz1FCSQRpwjsgoooplhRRTkIVwTzg0ATRWdzOMxwSMPUKa+gfhPpU2geFp769LIsgMmxs8AD0/Cs/wv8TfAdhoNpbXtnJDcxxhZNtsGBOOua3z8Y/Aezb514U6bPsxxj0rJpytc8nEfWa3u8tkeFeMfEN34g8SXd9O5JLlUyMYQHAH5YrnK6/x/wCI9M8R+JJbvR7Rba0KhACgUscdcCuQrU9GimoJNWNXRPEWq+HrsXOmXbwOOwPB+oruIvjr4wRArPZuf7xhrzKik4p6lSpwk7tHSeJvHWv+LJFbVL0tGvSKIbEH4Vzpck8YHsKbRTKUUtEdn4d+J/ibw1ZraWVzE8CnhZk34+hrWuPjj40uFIS4tIR/sQDP615tRS5UR7KF72PQ5/jV40uLZoGvYEVl2lkgAbH1rgJp3nkLyNuYksT6k1HRQlYpQjHZG/4Z8Y6v4Sunn0uZVLjDK67lP4U/xR411rxhPDLq06P5K7UWNAoA/wAmudoosr3DkjfmtqLSUUUyjs/D/wAUPE3hrThY6fcwiFTlfMiDEfSuZ1TVLvWNRnvr2Uy3E7b3Y9zVKikklsSoRTukFSQyvBMksbYdCGU+hqOimUd5P8XvF1xpD6a95CIXj8tmWIByv1rh/OkH8VR0UkktiI04x2QUUUUywooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/9k=" />'); 
```

您可以从服务器输出图像**作为**文件。

例如在 PHP 中它可能看起来像

```
<?php

/** 
 * getImageSource($imageId) function 
 * should retrieve saved image data URI from database
 * 
 * @param int $imageId An ID of record in database,
 * that is containing the image data URI.
 *
 */
function getImageSource($imageId) {
    // stub:
    $dataURI = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEUAAAD///+l2Z/dAAAAM0lEQVR4nGP4/5/h/1+G/58ZDrAz3D/McH8yw83NDDeNGe4Ug9C9zwz3gVLMDA/A6P9/AFGGFyjOXZtQAAAAAElFTkSuQmCC';

    // You can retrieve correct MIME type from saved data URI
    // accordingly to this format:
    // data:[<MIME-type>][;charset=<encoding>][;base64],<data>

    $parts = preg_split('/,/', $dataURI);
    // here you can also retrieve mime type and encoding.
    return base64_decode($parts[1]);
}

$imageId = isset($_GET['img_id']) ? $_GET['img_id'] : -1;

header('Content-Type: image/png');
echo getImageSource($imageId); 
```

然后在 HTML 中你可以写类似

```
<img src="http://mysite.com/image.php?img_id=12345" /> 
```

# python - activation values for all nodes in a PyBrain network

> ID：12436311
> 
> 赞同：7
> 
> 时间：2012-09-15T09:47:42.490
> 
> 标签：python, neural-network, pybrain

I feel like this should be trivial, but I've struggled to find anything useful in the PyBrain documentation, on here, or elsewhere.

The problem is this :

I have a three layer (input, hidden, output) feedforward network built and trained in PyBrain. Each layer has three nodes. I want to activate the network with novel inputs and store the resultant activation values of the nodes at the hidden layer. As far as I can tell, net.activate() and net.activateOnDataset() will only return the activation values of output layer nodes and are the only ways to activate a network.

How do I get at the hidden layer activations of a PyBrain network?

I'm not sure example code will help that much in this case, but here's some anyway (with a cut-down training set) :

```
from pybrain.tools.shortcuts import buildNetwork
from pybrain.datasets import SupervisedDataSet
from pybrain.supervised.trainers import BackpropTrainer

net = buildNetwork(3, 3, 3)

dataSet = SupervisedDataSet(3, 3)
dataSet.addSample((0, 0, 0), (0, 0, 0))
dataSet.addSample((1, 1, 1), (0, 0, 0))
dataSet.addSample((1, 0, 0), (1, 0, 0))
dataSet.addSample((0, 1, 0), (0, 1, 0))
dataSet.addSample((0, 0, 1), (0, 0, 1))

trainer = BackpropTrainer(net, dataSet)
trained = False
acceptableError = 0.001

# train until acceptable error reached
while trained == False :
    error = trainer.train()
    if error < acceptableError :
        trained = True

result = net.activate([0.5, 0.4, 0.7])
print result 
```

In this case, desired functionality is to print a list of the hidden layer's activation values.

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-15T09:58:32.423

看起来这应该有效：

```
net['in'].outputbuffer[net['in'].offset]
net['hidden0'].outputbuffer[net['hidden0'].offset] 
```

纯粹基于查看[源代码](https://github.com/pybrain/pybrain/blob/master/pybrain/structure/modules/module.py)。

# php - I need to put SQL native in query Builder Doctrine2

> ID：12436312
> 
> 赞同：3
> 
> 时间：2012-09-15T09:47:52.657
> 
> 标签：php, symfony, doctrine-orm, query-builder

i need to work with SQL NATIVE in query Builder doctrine 2 for using SQL Function (CONCAT,REPLACE,LDAP) . please Help me.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T10:05:50.820

您可以尝试：

```
$connection = $this->get('doctrine')->getConnection();

$toto = "toto";
$foo = "foo";
$params = array('param1' => $toto, 'param2' => $foo);

$request = "SELECT * FROM table WHERE param1 = :param1 AND param2 = :param2";

try {
  $stmt = $connection->executeQuery($request, $params);
} catch (\PDOException $e) {
  // echo $e->getMessage();
}

while (($result = $stmt->fetch(\PDO::FETCH_ASSOC))) {
  // stuff with $result
} 
```

如果您想对服务提出这样的请求，您可能需要：

```
use Doctrine\DBAL\Connection; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-07T14:21:27.860

假设您有一个实体管理器存储在`$this->em`：

```
$dql = $this->em->createQuery('
    SELECT CONCAT(tbl.col1, ' ', tbl.col2), COALESCE(SUM(tbl.col3), 0)
    FROM myTable tbl
');

$result = $dql->getResult();

print_r($result); 
```

这是针对 Doctrine 2 ORM 的。该表`myTable`可以通过包、类路径+类名或命名空间+类名（`... FROM My\Namespace\Class\Model tbl ...`）来寻址。

# ios - Do I have to create two views for iPhone 4S and 5

> ID：12436314
> 
> 赞同：1
> 
> 时间：2012-09-15T09:48:08.063
> 
> 标签：ios, user-interface, interface-builder, iphone-5

> **Possible Duplicate:**
> [How to deal with iPhone 5 screen size?](https://stackoverflow.com/questions/12396545/how-to-deal-with-iphone-5-screen-size)

The new iPhone 5 has a 4 inch display.

In IB, I want to make my iPhone 5 view different to my 4S. The 4S version needs a scroll view, but the 5 doesn't.

How can I create two views (with all connected outlets) in the same xib, one which is 3.5 inches, and one which is four inches?

Do I have to create a totally new xib and include it for iPhone5 ?

I am just a bit unclear on the approach.

(I have seen other questions which don't answer this particular question)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T16:03:08.883

如果您想要 iPhone 5 的完全不同的视图，那么是的，您应该使用不同的 nib，但是我建议您不必使用不同的 nib，而是使用自动布局来相应地自动调整视图大小，这样您就可以使用 1 个代码库多个设备。

# ios - 文档 pageinit 在 iOS (jQueryMobile) 上多次触发

> ID：12436315
> 
> 赞同：6
> 
> 时间：2012-09-15T09:48:16.540
> 
> 标签：ios, cordova, jquery-mobile, event-handling, page-init

我有一个 Phonegap 和 jQuery Mobile 应用程序，可以很好地在 Android 和 Web 上运行。在 iOS 上，我得到了意想不到的结果，这似乎是由于我将大多数应用程序进程的处理程序绑定到的 document.pageinit 事件被触发了两次。

不，我没有绑定两次。不，我没有使用 document.ready。是的，我确实将它绑定到文档，在脚本的早期而不是在任何其他函数中。

```
$(document).on('pageinit',function(event){
    alert(' Pageinit on document');
    //Some more code
}) 
```

第一次触发时，启动画面仍然显示。此时，在使用 XCode 的 MacBook Pro 上进行测试时，控制台甚至不可用：当我使用 console.log 时，上面的消息没有出现在控制台中。

第二次，在 jQueryMobile 创建第一页后不久触发。

是什么导致了这种双重射击，我该怎么办？

编辑：我后来注意到 pageinit 不只是第二次触发，而是每次我打开一个新的 data-role='page' div 时。请看下面我的回答。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-26T15:46:58.007

我很欣赏 Zoltans 的回答，在某些情况下它可能是相关的，但这不是原因。

`$(document).on('pageinit')`将为您的 jQuery Mobile 应用程序中使用的每个页面转换触发。这将发生在 HTML 链接和使用`$.mobile.changePage();`.

令人震惊的是，[文档](http://jquerymobile.com/demos/1.1.1/docs/api/events.html)在任何地方都没有提到这一点：他们建议您使用它，但没有提到它会为每个后续页面触发。

我无法相信他们将这个有问题的示例构建为`$(document).ready()`.

他们应该建议您使用 .one() 而不是 .bind() 或 on() 进行绑定，以避免多次代码执行。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-26T09:15:47.930

发生这种情况是因为我认为您将 jquery 和 jquery mobile 一起使用。但解决方案很简单。尝试

```
$(document:not(.processed)).addClass('processed').on('pageinit',function(event) 
```

这应该解决它

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-20T16:22:56.910

编辑正文`<body data-role="page">`应该可以解决问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-07T23:04:21.067

我在这个问题上苦苦挣扎太久，无法与他人分享。而且我认为这不仅是 iOS 下的问题，而且是 Android 下的问题（在我的情况下它会导致闪烁）。

每次发出请求时都会调用两次“pageinit”事件。第一个是为提供的 url 获取数据的正确方法，另一个是在新页面加载到 DOM 后调用的（jQueryMobile 页面动态注入到文档中）。我认为有更多的解决方案可以解决这个问题，这里是我的：

```
$(document).ready(function(){
    $(this).delegate("#page-selector", "pageinit", function(ev, data){}); 
    // I don't know why the line has to be present, but otherwise does not work
}); 
```

我的 HTML 文档如下所示：

```
<html>
<head>...here goes scripts...</head>
<body>
   <div id="#page-selector"> <!-- just wrapper -->
       <div data-role="page">
        ... content...
       </div>
   </div>
</body>
</html> 
```

我希望它能为别人腾出宝贵的时间！

# html - change the alert error position

> ID：12436319
> 
> 赞同：0
> 
> 时间：2012-09-15T09:48:44.683
> 
> 标签：html, css, forms, position

Build a form Contact us by EMAIL me form I uploaded it to my server, and I want to change the CSS file the error location (when you click on the submit button, then all fields not filled properly marked an error - red) My question is simple: How do I can change the CSS file so that the error diaphragm on the left and not on the right? Thank you!

The form is in this link: [http://lawb.co.il/HTMLPage.html](http://lawb.co.il/HTMLPage.html)

the CSS file is in this link: [http://lawb.co.il/contact_us.css](http://lawb.co.il/contact_us.css)

You can see example for what I want here: ![enter image description here](../Images/b45e77079c3a47958e93683b9bc960dc.png) insted of this ![enter code here](../Images/1dccd35d26ef0536954b180c373616a3.png)

Is is possible?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:07:40.723

添加`promptPosition:"topLeft"`contact.js：

```
EMF_jQuery("#emf-form").validationEngine({
                validationEventTriggers:"blur",
                scroll:true,
                promptPosition: "topLeft"
        }); 
```

CSS 中的这些行：

```
 .formError {
   ...
   left: 360px !important;
   ...
   }

   .formError .formErrorContent {
   ...
   width: 310px !important;
   ...
   }

   formError .formErrorArrow {
   ...
   left: 70%;
   ...
   } 
```

它应该工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T09:59:37.223

尝试这个

```
 align:left; 
```

或者

```
 float:left; 
```

# sql - Delete Database before it is being Backuped

> ID：12436322
> 
> 赞同：1
> 
> 时间：2012-09-15T09:49:23.827
> 
> 标签：sql, sql-server, sql-server-2008, triggers, backup

I'm using SQL Server 2008\. now I want to create a trigger for capturing Database Backup. I watched to DDL triggers. but did not find anything about backup.

**EDIT : Really what i need to do. if someone will backup database i want to drop database. maybe it is not good to do it with trigger or event notification. if so then advise alternative way please**

Simply, how drop database when someone will backup database

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:19:14.913

您可以[对事件使用事件通知`AUDIT_BACKUP_RESTORE_EVENT`](http://msdn.microsoft.com/en-us/library/ms190655%28v=sql.100%29.aspx)。

> 每当发出备份或恢复命令时，就会发生审核备份/恢复事件类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T10:47:01.167

You can find the [backup history of all databases in the msdb database](http://msdn.microsoft.com/en-us/library/ms188653.aspx) available for querying. I'm not aware of any push notification system for backups but you can do polling and query over historical data.

# javascript - Jquery Time difference of utc offSets

> ID：12436325
> 
> 赞同：3
> 
> 时间：2012-09-15T09:50:05.313
> 
> 标签：javascript, jquery

I just want to find time difference between user's time and server side time. like what time is user having on his system and what's the value coming from database. i have got it approximately. but now my problem is what if user is from difference time zone rather then the value is coming from database? So now i just wantto find the exact difference by managing their time zones. Here i am putting my sample code and the values i am getting with their formats.

```
 var studentSessionStartTimeDate = that._sessionData.studentSession.dtStart; //date with time from db
    var splitTimeDate = studentSessionStartTimeDate.split(' ');
    var oldDate = splitTimeDate[0]; // split date different
    var dateold = new Date(oldDate).getTime(); //convert date into milliseconds
    var time=that._sessionData.studentSession.start;  // User's exact start time from db
    var convertedTime=(Number(time.split(':')[0])*60+Number(time.split(':')[1]))*1000;  // converted time in milliseconds
    var sessionStartTime = dateold+convertedTime;  // db time and date value in milliseconds
    var systemTime = new Date().getTime();   // user's system time value in milliseconds
    var timeDiff = sessionStartTime - systemTime; // now i want this time diff to be exact but it is not calculating the zone difference 
```

now if someone want i can get utc Offset from db also, but how can i get differnce? please help guys its urgent for me. Any help would be appreciated.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-27T03:23:33.803

您可以使用以下代码获取浏览器时区：

新的 Date().getTimezoneOffset();

# objective-c - NSButton NSTrackingArea - tracking doesn't work

> ID：12436327
> 
> 赞同：4
> 
> 时间：2012-09-15T09:50:12.287
> 
> 标签：objective-c, xcode, macos, cocoa, nsbutton

I'm trying to complete button highlighted on mouse over event. So I subclassed `NSButton`, where is put `NSTrackingArea` and methods `- (void)mouseEntered:(NSEvent *)event` and `- (void)updateTrackingAreas`.

Creation of the button looks so (it's in loop so I use array to collect):

```
 CalendarTile *button = [[CalendarTile alloc] init];

        [button setFrame:CGRectMake(point_x, point_y, button_frame_width, button_frame_height)];
        [button setBordered:NO];
        [button setBezelStyle:NSRegularSquareBezelStyle];
        [button setButtonType:NSMomentaryChangeButton];
        [button setFont:[NSFont fontWithName:@"Avenir Next" size:40]];
        [button setAlignment:NSCenterTextAlignment];

        [button setTitle:[NSString stringWithFormat:@"%i", i]];
        [button setTextColor:[NSColor colorWithCalibratedRed:(float)62/255 green:(float)62/255 blue:(float)62/255 alpha:1.0]];

        [arrayWithButtons addObject:button];

        ...

        for (CalendarTile *btn in arrayWithButton) {
        [self addSubview:btn];
        } 
```

And this is a subclass - CalendarTile.m:

```
@implementation CalendarTile
- (void)updateTrackingAreas
{
    [super updateTrackingAreas];

    if (trackingArea)
    {
        [self removeTrackingArea:trackingArea];
    }

    NSTrackingAreaOptions options = NSTrackingInVisibleRect | NSTrackingMouseEnteredAndExited | NSTrackingActiveInKeyWindow;
    trackingArea = [[NSTrackingArea alloc] initWithRect:NSZeroRect options:options owner:self userInfo:nil];
    [self addTrackingArea:trackingArea];
}

- (void)mouseEntered:(NSEvent *)event
{
    [self setImage:[NSImage imageNamed:@"highlight.png"]];
    NSLog(@"HIGHLIGHT");
} 
```

It should say in logs "HIGHLIGHT" when I have mouse over - it sadly doesn't.

Could you help me? What do I wrong?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-02-26T18:48:07.973

这是我为我创造和工作的完美...

第 1 步：创建带有跟踪区域的 Button

```
 NSButton *myButton = [[NSButton alloc] initWithFrame:NSMakeRect(100, 7, 100, 50)];
[myButton setTitle:@"sample"];

[self.window.contentView addSubview:myButton];
// Insert code here to initialize your application
NSTrackingArea* trackingArea = [[NSTrackingArea alloc]
                                initWithRect:[myButton bounds]
                                options:NSTrackingMouseEnteredAndExited | NSTrackingActiveAlways
                                owner:self userInfo:nil];
[myButton addTrackingArea:trackingArea]; 
```

步骤：2 实现以下方法

```
- (void)mouseEntered:(NSEvent *)theEvent{
NSLog(@"entered");
[[myButton cell] setBackgroundColor:[NSColor blueColor]];

}

- (void)mouseExited:(NSEvent *)theEvent{
[[myButton cell] setBackgroundColor:[NSColor redColor]];
NSLog(@"exited");

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-26T09:40:46.100

尝试

```
trackingArea = [[NSTrackingArea alloc] initWithRect:NSZeroRect options:options owner:self userInfo:nil]; 
```

代替

```
NSTrackingAreaOptions options = NSTrackingMouseEnteredAndExited | NSTrackingActiveAlways;
    trackingArea = [[NSTrackingArea alloc] initWithRect:self.frame options:options owner:self userInfo:nil]; 
```

# mongodb - Mongodb C# driver - Bounding box query (potential driver bug?)

> ID：12436329
> 
> 赞同：0
> 
> 时间：2012-09-15T09:50:31.583
> 
> 标签：mongodb, mongodb-.net-driver

I am trying to perform a bounding box query on a mongo db collection. The collection has been there for quite a while and I recently upgraded my driver from 1.3 to 1.6 to take advantage of some new features in Mongodb 2.2\. The following query doesn't work:

```
var query = Query<TrafficUpdate>.WithinRectangle(x => x.Loc, lowerLeft.Lon, lowerLeft.Lat, upperRight.Lon, upperRight.Lat); 
```

The above line doesnt work anymore though. Comes back with an error about "cannot find special index 2d for ....."

Any help would be appreciated.

Thanks.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T10:01:14.907

Just found the answer actually. There must be a bug in the driver. Property Loc should be automapped as "loc" in the collection. This works just fine when writing to or reading from the db. But in the case of the WithinRectangle query (same for .Near query) it throws the error mentioned above.

The answer is to explicitly map the property in the configuration:

```
cm.MapProperty(c => c.Loc).SetElementName("loc");` 
```

Maybe this will help some people.

# java - 异步调用重复了我的 ArrayList 条目

> ID：12436333
> 
> 赞同：1
> 
> 时间：2012-09-15T09:51:03.873
> 
> 标签：java, gwt, asynchronous, arraylist

我想使用异步调用将 ArrayList 从我的服务器发送到我的客户端。调用成功，但 ArrayList 条目在此过程中重复。我完全迷路了。代码非常简单。我无法弄清楚这个错误发生的时间和地点。

共享类：

```
package com.posteurs.cine.shared;

import java.io.Serializable;
import java.util.ArrayList;

public class Codes extends ArrayList<Integer> implements Serializable{
private static final long serialVersionUID = 1L;
//insert 2 values
public Codes(){
    this.add(10);
    this.add(20);
}
} 
```

接口：

```
package com.posteurs.cine.client;

import java.util.Set;

import com.google.gwt.user.client.rpc.RemoteService;
import com.google.gwt.user.client.rpc.RemoteServiceRelativePath;
import com.posteurs.cine.shared.Codes;

@RemoteServiceRelativePath("cineSvc")
public interface CineSvc extends RemoteService {
    public Codes getCodes();
}

package com.posteurs.cine.client;

import java.util.Set;

import com.google.gwt.user.client.rpc.AsyncCallback;
import com.posteurs.cine.shared.Codes;

public interface CineSvcAsync {
    public void getCodes(AsyncCallback<Codes> callback);
} 
```

实施：

```
package com.posteurs.cine.server;

import java.util.Iterator;
import com.google.gwt.user.server.rpc.RemoteServiceServlet;
import com.posteurs.cine.client.CineSvc;
import com.posteurs.cine.shared.Codes;

public class CineSvcImpl extends RemoteServiceServlet implements CineSvc {
    private static final long serialVersionUID = 1L;

    public CineSvcImpl(){
    }

    public Codes getCodes(){
        Codes c = new Codes();
        System.out.println("On server -----------------");
        System.out.println("impl.getCodes: Codes size="+c.size());
        return c;
    }
} 
```

来电：

```
package com.posteurs.cine.client;

import java.util.Iterator;
import com.google.gwt.core.client.EntryPoint;
import com.google.gwt.core.client.GWT;
import com.google.gwt.user.client.rpc.AsyncCallback;
import com.posteurs.cine.client.CineSvcAsync;
import com.posteurs.cine.shared.Codes;

public class Cine implements EntryPoint {
@Override
public void onModuleLoad() {
    CineSvcAsync svc = GWT.create(CineSvc.class);
    svc.getCodes( new AsyncCallback<Codes>() {
        public void onFailure(Throwable caught) {
            System.out.println("getCodes::callback: Async failed");
        }

        public void onSuccess(Codes result) {
            System.out.println("On client -----------------");
            System.out.println("Callback result size="+result.size());
            Iterator<Integer> it = result.iterator();
            while (it.hasNext()) 
                System.out.println(it.next());
        }
        });
} 
```

追踪结果：

```
 On server -----------------
    impl.getCodes: Codes size=2
    On client -----------------
    Callback result size=4
    10
    20
    10
    20 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T13:43:45.887

我强烈怀疑重复值是由它们在默认构造函数中的初始化引起的。默认构造函数在对象的“解组”期间在序列化中起着特殊的作用。在将序列化的字段值复制回它之前，调用它来重新创建一个“空”对象。

Try initializing the codes somewhere else. For example, you could have a init() method in the Codes class and call this method explicitly in CineSvcImpl.getCodes() after you create the instance.

# jquery - JQuery 从每个动态行中获取值

> ID：12436335
> 
> 赞同：0
> 
> 时间：2012-09-15T09:51:11.940
> 
> 标签：jquery, jquery-selectors, each

我正在尝试从一系列动态 div 中获取值以写入数据库。

我的 div 的 html 如下....

```
<div class='doc_holder_list'>
<p class='right'> (Delete [<a href='javascript:void(0);' class='appended'>X</a>])</p>
<p><span class='red2' data-file_id='10'>File 10</span></p>
<p class='file_desc1a'>File Description 10</p>
<p class='file_ins1a'>File Notes 7</p>
</div>
<div class='doc_holder_list'>
<p class='right'> (Delete [<a href='javascript:void(0);' class='appended'>X</a>])</p>
<p><span class='red2' data-file_id='34'>File 7</span></p>
<p class='file_desc1a'>File Description 7</p>
<p class='file_ins1a'>File Notes 7</p>
</div> etc.... 
```

我的 JQuery 失败了...

```
$.each($('.doc_holder_list'),function(){
            var get_file_id=$('.red2').data('file_id');
            get_files+=get_file_id+"|";
            alert(get_files);
        }); 
```

目前这试图只返回数据属性中的文件ID。最终，我还想为 doc_holder_list div 的每个实例拖出描述。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T09:53:08.163

您需要在每个级别本地化您的搜索，`$('.red')`将搜索并找到`.red`您页面上的所有内容，这不是您当时想要的 - 您想要找到`.red`inside `.doc_holder_list`：

*（请注意，以下两种方法可能仅在您还实施我关于使用`$('').each()`而不是下面的建议时才有效`$.each()`）*

```
/// this allows you to search within an existing jQuery selection
/// as you are within an each() "this" will refer to .doc_holder_list
get_file_id=$(this).find('.red2') 
```

或者

```
/// this defines the 'context' of where your jQuery search will occur
/// as you are within an each() "this" will refer to .doc_holder_list
get_file_id=$('.red2', this) 
```

以上任何一个都应该解决你的问题......

此外，而不是：

```
$.each($('.doc_holder_list'),function(){ 
```

写起来会更干净：

```
$('.doc_holder_list').each(function(){
  ....
}); 
```

# java - 不同类型的方法参数

> ID：12436337
> 
> 赞同：0
> 
> 时间：2012-09-15T09:51:24.513
> 
> 标签：java, wildcard, java-6

我想编写接受 aA 或 bB 类型参数的方法目前它已实现：

```
import a.A;
import b.B;

...
public void doSth(A arg) {
      SpecificClass.specificMethod(arg);
}

public void doSth(B arg) {
      SpecificClass.specificMethod(arg);
} 
```

我想要一个通用方法“doSth”，它使用通配符并且只接受 aA 或 bB 重要信息 aA 和 bB 不是彼此的子类型。唯一常见的类型是 java.lang.Object。

有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:14:39.880

假设您可以这样做，如果 A 和 B 没有共同的超类，您将无法在参数上调用任何方法，但对象的方法除外。

所以我认为唯一的两个合理的解决方案是：

*   有两种方法，一种用于 A，一种用于 B（您当前的设置）
*   有一个将 Object 作为参数的方法，检查参数是否为 instanceof A 或 B，如果不是则抛出 IllegalArgumentException

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:29:49.387

您可以包装 A 和 B 扩展一个公共接口，就像：

```
interface CommonWrapper {
  public void doSth();
}

public class AWrapper implements CommonWrapper {
  private A wrapped;
  public AWrapper(A a) {
    this.wrapped = a;
  }

  public void doSth() {
    // implement the actual logic using a
  }
}

public class BWrapper implements CommonWrapper {
  private B wrapped;
  public BWrapper(B b) {
    this.wrapped = b;
  }

  public void doSth() {
    // implement the actual logic using b
  }
} 
```

然后修改您的方法**doSth**以接受 CommonWrapper 对象作为参数：

```
public void doSth(CommonWrapper c) {
  c.doSth();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T09:52:40.960

```
public <T> void doSth(T arg) {
      SpecificClass.specificMethod(arg);
} 
```

将被称为：

```
yourClass.doSth(yourarg); 
```

但它不限于任何可以扩展对象的东西，一切的意义何在。我建议让你的两个类都实现一个公共接口，然后对该接口进行编程。

# android - Android ListView - 各种颜色

> ID：12436338
> 
> 赞同：-1
> 
> 时间：2012-09-15T09:51:26.967
> 
> 标签：android, android-listview

我有问题。

我可以做到 ListView 的每个元素都有不同的颜色吗？像这样的东西：

![在此处输入图像描述](../Images/c2d22d7a9585f92f81f18fd84d6d2306.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T09:53:06.403

使用 Android 自定义 ListView。并且在 CustomAdapter 类中具有`getView()`方法，根据 更改您的行背景颜色`position`。

```
@Override
public View getView(int position, View convertView, ViewGroup parent) {

   View vi = convertView;

    if (convertView == null)
        vi = inflater.inflate(R.layout.row, null);

   if(position==0){
    vi.setBackGroundColor(Color.RED);
 }else if(position==1){
    vi.setBackGroundColor(Color.WHITE);
 }else if(position==2){
    vi.setBackGroundColor(Color.PINK);
 }         

 return vi;

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:02:43.017

`ListView`使用一个[`ListAdapter`](http://developer.android.com/reference/android/widget/ListAdapter.html)负责[`View`](http://developer.android.com/reference/android/view/View.html)为每个项目创建 s 的对象。因此，您需要创建新的[`ListAdapter`](http://developer.android.com/reference/android/widget/ListAdapter.html)（或扩展一个）并在其[`getView`](http://developer.android.com/reference/android/widget/Adapter.html#getView%28int,%20android.view.View,%20android.view.ViewGroup%29)方法中创建一个视图并设置其背景（使用[`setBackgroundColor()`](http://developer.android.com/reference/android/view/View.html#setBackgroundColor%28int%29)）。

# css - CSS图像悬停问题

> ID：12436340
> 
> 赞同：1
> 
> 时间：2012-09-15T09:51:37.277
> 
> 标签：css, hover

在我网站的主页上，我插入了一个新视频，视频图像悬停，但似乎与左上角的徽标相撞（它向右移动）。

[http://pt.drpedrocoelho.com/](http://pt.drpedrocoelho.com/)

有没有办法让它不来回浮动？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T09:59:24.360

你在你的css中有一个属性`img:hover`，使它可以正确浮动:)

您可以为您的 h1 取消它

```
h1.logo img:hover{float:left;margin:0} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T10:24:29.633

这也是错误的

```
img:hover
{
margin: 0 0 10px 20px;
} 
```

在 Facebook 图片上悬停时出错

做了

```
margin:0; 
```

# string - 比较和可视化序列组

> ID：12436348
> 
> 赞同：0
> 
> 时间：2012-09-15T09:52:46.103
> 
> 标签：string, matlab, sequence, markov-chains, edit-distance

我有两组字母“AGTE”的字符串**A**和**B**，我想找到一些比较它们的方法，看看它们在统计上是否相似。第一组 A 是真实世界的观察，B 是预测。每组有 400 人左右

```
**A**
GTAATEGTTTEAAA
TTEAGE
...

**B**
AGTEAAAAGT
TAT
GGATEAATGGGTEAATG
.... 
```

我还想以某种方式将这些可视化，真正用于演示目的。你有什么想法我可以做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T12:54:40.360

我建议您计算字符串之间的[Levenshtein 距离](http://en.wikipedia.org/wiki/Levenshtein_distance)，然后您可以绘制这些字符串间的距离。较大的值表示更不同的字符串。

如果您不想自己实施 Levenshtein 距离计算，请查看[这些](http://www.mathworks.com/matlabcentral/fileexchange/32449-edit-distances) 关于文件交换的[提交。](http://www.mathworks.com/matlabcentral/fileexchange/17585-calculation-of-distance-between-strings)

# c++ - 在 QTreeView 中插入和删除行

> ID：12436353
> 
> 赞同：5
> 
> 时间：2012-09-15T09:53:12.847
> 
> 标签：c++, qt, qtreeview, qabstractitemmodel

美好的一天，我有从 QAbstractItemModel 继承的基本模型，以及一些不时通知该模型的后台线程，在示例中，插入行实现了这样的事情

```
bool TreeModel::insertRows(int position, int rows, const QModelIndex &parent)
{
    TreeItem *parentItem = getItem(parent);
    bool success;

    beginInsertRows(parent, position, position + rows - 1);
    success = parentItem->insertChildren(position, rows, rootItem->columnCount());
    endInsertRows();

    return success;
} 
```

但我不能这样做，因为我的模型是单一的，它使用 4 个视图，我已经以这种方式实现了我的插入：

```
void notifyEventImpl(file_item_type *sender,helper<ITEM_ACTION_ADDED>)
        {
            base_class::setSize(file_item_type::size()+sender->size());         
            m_listDirectory.push_back(sender);
            file_item_type::filesystem_type::s_notify.insert(this); // notify my model
        } 
```

`s_notify`具有实现的类在哪里：

```
 void Notifaer::dataChange(void * item){emit dataChanged(item);}
        void Notifaer::remove(void * item){emit removed(item);}
        void Notifaer::insert(void * item){emit inserted(item);}
        void Notifaer::push_back(const FileItemModel * model)
        {
            VERIFY(QObject::connect(this,SIGNAL(dataChanged(void*)),model,SLOT(dataChangeItem(void*)) ));
            VERIFY(QObject::connect(this,SIGNAL(removed(void*)),model,SLOT(removeItem(void*)) ));
            VERIFY(QObject::connect(this,SIGNAL(inserted(void*)),model,SLOT(insertItem(void*)) ));
        } 
```

鉴于此，我调用该方法：

```
void FileItemModel::insertItem(void *it)
{
    file_item_type *item = dynamic_cast<file_item_type*>(static_cast<file_item_type*>(it));

    {
        QModelIndex index = createIndex(0,0,item);
        if (index.isValid())
        {
            beginInsertRows(index, 0, item->childCount()-1);
            endInsertRows();
        }
    }
}
void FileItemModel::removeItem(void *it)
{
    file_item_type *item = static_cast<file_item_type*>(it);

    {
        QModelIndex index = createIndex(0,0,item);
        if (index.isValid())
        {
            beginRemoveRows(index, 0, item->childCount()-1);
            endRemoveRows();
        }
    }
} 
```

删除行完美，但插入不起作用。我的实施有什么问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-17T08:12:57.680

尝试

```
 beginInsertRows(QModelIndex(), 0, item->childCount()-1); 
```

您是否检查过 QT 文档[http://qt-project.org/doc/qt-4.8/qabstractitemmodel.html](http://qt-project.org/doc/qt-4.8/qabstractitemmodel.html)或 QT 示例以获得任何线索[http://qt-project.org/doc/qt-4.8/itemviews-editabletreemodel .html](http://qt-project.org/doc/qt-4.8/itemviews-editabletreemodel.html)？

正如你所说的线程，也许这可能会很有趣：

*   [设计模式、Qt 模型/视图和多线程](https://stackoverflow.com/questions/9485339/design-pattern-qt-model-view-and-multiple-threads)

*   [QTreeView & QAbstractItemModel & insertRow](https://stackoverflow.com/questions/6586493/qtreeview-qabstractitemmodel-insertrow)

# java - java - 在Java Socket编程中从服务器向客户端发送文件列表-PrintWriter无法发送？

> ID：12436356
> 
> 赞同：2
> 
> 时间：2012-09-15T09:54:10.207
> 
> 标签：java, sockets, printwriter, dataoutputstream

如何使用 Socket 编程将文件列表从服务器发送到客户端。我使用过 DataOutputStream 和 PrintWriter，它们都只向客户端返回一个文件名。我知道'\n' 中存在一些问题。但无法解决。等待高手指教...谢谢。

客户

```
switch (choice) {

.......

  case 2: // for viewing files in the client's directory
  Socket mysocket = new Socket("localhost", 6103);
  String user_name = username;
  DataOutputStream outToServer2= new DataOutputStream(mysocket.getOutputStream());
  outToServer2.writeBytes(user_name + '\n');
  BufferedReader inFromServer2 = new BufferedReader(newInputStreamReader(mysocket.getInputStream()));
  String list = inFromServer2.readLine();
  System.out.println("FROM SERVER - LIST OF FILES:" + list);

  break;

}

....... 
```

服务器

```
import java.io.*;
import java.net.*;

class DirList
{
   public static void main(String argv[]) throws Exception
      {
         String clientSentence;
         String capitalizedSentence;
         ServerSocket welcomeSocket = new ServerSocket(6103);

         while(true)
         {
            Socket connectionSocket = welcomeSocket.accept();
            BufferedReader inFromClient = new BufferedReader(new InputStreamReader(connectionSocket.getInputStream()));
            PrintWriter outToClient = new PrintWriter(connectionSocket.getOutputStream(),true);
            clientSentence = inFromClient.readLine();
            System.out.println("Received view files request from user: " + clientSentence);
            String path = "/home/user/Files/";
            String userdir = path + clientSentence;
            String text="";
            String capitalizedSentence1;
            File f = new File(userdir);
                File[] listOfFiles = f.listFiles();
                for (int j = 0; j < listOfFiles.length; j++) {
                        if (listOfFiles[j].isFile()) {
                                text = listOfFiles[j].getName();
                                outToClient.println(text);
                                System.out.print(text+' ');

                   }
                }

         }
      }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T09:57:38.113

您需要刷新服务器的输出：

```
outToClient.flush(); 
```

此外，在您的客户端中，您需要将读取放在一个循环中以使用所有输出：

```
String line = null;
while ((line = inFromServer2.readLine()) != null) {
   System.out.println(line);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T09:57:15.203

尝试使用“\r\n”。它可能会解决您的问题。

# combinations - 安排课程的算法

> ID：12436361
> 
> 赞同：1
> 
> 时间：2012-09-15T09:56:06.307
> 
> 标签：combinations, schedule

我目前有一个问题，在我大四的时候，我需要从 20 多门可能的课程中选择 5 门选修课。所有这些课程都分配到工作日。我需要开发一个强大的算法来向我展示所有可能的组合，而不会重叠任何课程时间。我的时间有点短，所以我想我会在这里问，这对以后的其他人会有帮助。我最初的想法是尝试 20+ 中的 5 种的所有组合，并删除具有重叠课程的时间表。蛮力解决方案似乎很容易实现。只是出于好奇，这个问题是否还有其他更智能的解决方案？例如，如果我有 1000 多门课程可供选择怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-16T10:45:58.173

更快一点可能是选择第一门课程（从 1000 门课程中）并删除所有重叠的课程。然后从剩余的课程中选择第二个课程并再次删除重叠的课程。如果你这样做 5 次，你将有 5 门不重叠的课程。最后一次迭代并不是真正必要的，因为一旦你有 4 门课程，那么剩下的每门课程都不会重叠。

通过回溯，您将获得所有可能的课程组合。此处回溯的一种有效方法是使用 Knuth 提出的舞蹈链接。

# android - 如何在android中为gridview（或table view）框放置轮廓

> ID：12436362
> 
> 赞同：1
> 
> 时间：2012-09-15T09:56:08.300
> 
> 标签：android, uitableview, gridview

在我的应用程序中，我想要一个 5x5 网格视图（或表格视图）。我不想在网格视图（或表格视图）侧使用图像视图或文本视图。

1.  我只想为该网格视图中的单元格添加线条。有可能吗？我该怎么做？
2.  我还想在网格视图（或表格视图）中获取单个单元格的标识？

![在此处输入图像描述](../Images/ce24db5d5671e1354218900d622be551.png)

这是网格视图，我使用图像视图使单元格对用户可见。但是如果不使用这些图像或任何文本视图，我想显示单元格。感谢您的回答。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:49:05.717

使用方形 xml`drawable`作为背景，笔触设置为您选择的宽度和颜色，填充颜色设置为透明，并且可能是圆角以获得额外的花哨。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T12:35:08.570

![这只是设计方法。 使用它来了解如何进行。](../Images/005f5748c811767e6cb8a8cb88a47533.png)

将这些用作代码[GridView](http://developer.android.com/reference/android/widget/GridView.html)、[GridView 示例的指南](http://developer.android.com/guide/topics/ui/layout/gridview.html)

# php - PHP 删除文本过滤器

> ID：12436364
> 
> 赞同：0
> 
> 时间：2012-09-15T09:56:12.657
> 
> 标签：php, sql, database

我有一个关于删除过滤文本的小问题，而是执行它给出的任何代码。

例如：

如果我 filter() 一些文本被放入我的数据库，是否有一个 PHP 代码允许我“反转”过滤器，并在没有添加 filter() 命令的情况下显示文本？

例子：

```
<?php mysql_query("INSERT INTO blah ('".filter($_POST['blah'])."')"); ?> 
```

我可以直接从数据库中显示此文本，而无需从添加到数据库时应用过滤器吗？有字符串吗？

我不知道，提前感谢您的帮助。

:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T10:03:36.967

也许函数 preg_replace 是一种可能性。

# php - 如何触发 URL

> ID：12436365
> 
> 赞同：1
> 
> 时间：2012-09-15T09:56:33.250
> 
> 标签：php, html, parsing, url

嗨，伙计们陷入了困境，我目前正在建立一个奖品类型的网站，并希望以某种形式触发网址，但由于某种原因无法正常工作！这是我的代码逻辑：

```
<?php

$id = $logOptions_id;

$title = "";

$firstname = "";

$lastname = "";

$gender = "";

$email = "";

$housenumber = "";

$addressone = "";

$addresstwo = "";

$county = "";

$city = "";

$country = "";

$birthday = "";

$phone = "";

$postcode = "";

$ipaddress = getenv('REMOTE_ADDR');

$sql = mysql_query("SELECT * FROM myMembers WHERE id='$id' LIMIT 1");

while($row = mysql_fetch_array($sql)){

    $title = $row["title"];

    $firstname = $row["firstname"];

    $lastname = $row["lastname"];

    $gender = $row["gender"];

    $email = $row["email"];

    $housenumber = $row["housenumber"];

    $addressone = $row["addressone"];

    $addresstwo = $row["addresstwo"];

    $county = $row["county"];

    $city = $row["city"];

    $country = $row["country"];

    $birthday = $row["birthday"];

    $phone = $row["phone"];

    $postcode = $row["postcode"];

}

?> 
```

在我的html中我有这个....

```
<form id="coregOffer" action="path.php" method="post">

<table width="100%" border="0" id="coregTable">

<tr>

<td>

<table width="95%" border="0" align="center" cellpadding="5">

<tr>

<td width="24%" align="center" valign="top"><img src="images/tesco.png" width="212" height="107" alt="Tesco Offer"></td>

<td width="76%" align="left" valign="top"></td>

</tr>

<tr>

<td colspan="2">

<br/>

Accept This Offer?

<input type="radio" value="yes" checked id="yes" onClick=\"location.href='http://www.somesite.com/feeds?&mg_site_id=1&mg_comp_id=1087&mg_terms_and_conditions=on&mg_cid=101&mg_ip=<?php echo $ipaddress; ?>&title=<?php echo $title; ?>&firstname=<?php echo $firstname; ?>&email=<?php echo $email; ?>'\" />Yes

<input type="radio" value="no" id="no" />No

</td>

</tr>

</table>

<table width="95%" border="0" align="center" cellpadding="5" id="coregTable2">

<tr>

<td width="24%" align="center" valign="top"><img src="images/PMOffer.png" width="213" height="108" alt="OfferPlaceholder"></td>

<td width="76%" align="left" valign="top"></td>

</tr>

<tr>

<td colspan="2">

<br/>

Accept This Offer?

<input type="radio" value="yes" checked id="yes" onClick=\"location.href='http://www.somesite.com/public/postlead.php?campaign=438&publisher=1322&adgroup=848&ip=<?php echo '$ipaddress'; ?>&field1=<?php echo '$title'; ?>&field14=<?php echo '$gender'; ?>&field2=<?php echo '$firstname'; ?>&field3=<?php echo '$lastname'; ?>&field4=<?php echo '$addressone';?>&field6=<?php echo '$city'; ?>&field8=<?php echo'$postcode'; ?>&field9=<?php echo '$phone';?>&field10=<?php echo '$email'; ?>&field18=<?php echo'$birthday'; ?>&field20=<?php echo 'now()'; ?>&source=123'\" />Yes

<input type="radio" value="no" id="no" />No

</td>

</tr>

</table></td>

</tr>

<tr>

<td align="center" valign="top">

<input type="submit" id="submit" value="Submit" /> 

</td>

</tr>

</table>

</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:08:08.090

尝试这个，

```
onClick="javascript:window.location.href='http://www.somesite.com/feeds?&mg_site_id=1&mg_comp_id=1087&mg_terms_and_conditions=on&mg_cid=101&mg_ip=<?php echo @$ipaddress; ?>&title=<?php echo @$title; ?>&firstname=<?php echo @$firstname; ?>&email=<?php echo @$email; ?>'" />Yes 
```

# ios - 复杂的故事板，有什么问题吗？

> ID：12436366
> 
> 赞同：0
> 
> 时间：2012-09-15T09:56:38.850
> 
> 标签：ios, uistoryboard, uistoryboardsegue

我是故事板的新手。我想开始一个在导航中有一些曲折的项目。这是我要创建的设置：

第一个屏幕（我们称之为 HOME）有一些按钮/图标（用于导航目的）。当单击按钮 1 时，它会转到带有 UITableListView 的 segue，您可以在其中向下钻取其他 UITableListView 中的几个级别，直到您到达详细视图。按钮 2 非常相似，单击时您会到达 UITableListView 并可以再次向下钻取，大多数按钮都是如此（有些按钮有更多，其他更少的级别需要向下钻取）。

到目前为止没有什么特别的，但我想为导航添加一个转折点，让用户的操作更简单、更快捷：每个转场（HOME 屏幕除外）都有一个“Home”按钮，可以让你回到第一个屏幕，主屏幕，因此用户不必“向上”导航。（某种“一键进入顶层”）。

当用户在按钮 1 上向下导航 5 级时，使用“主页”进入顶层，然后在另一个按钮（例如 3）上向下导航某些级别，并使用“主页”按钮再次进入“主页” ，然后再次单击按钮 1，（s）他应该再次到达第 5 级（避免再次向下钻取）。

1）您认为实现这一点的最佳方法是什么？一种可能的方法是有一个带有按钮的主屏幕，并有多个故事板，每个按钮一个，而不是一个故事板。

另一种方法是使用 1 个故事板，但随后会出现以下问题：

2）这不是在此引入某种“循环”导航和内存问题吗？这个对吗 ？

3）如何实现home键，记得从哪里导航回来……

4）还有其他想法吗？

我想要这个按钮的原因是通常有相当多的级别需要向下钻取并且经常需要切换到另一个上下文（阅读主屏幕上的其他按钮。

# c# - 如何从枚举中提取数据并将其转换为 IEnumerable？

> ID：12436367
> 
> 赞同：3
> 
> 时间：2012-09-15T09:56:49.487
> 
> 标签：c#

我有以下枚举：

```
public enum ReferenceKey {
    MenuType             = 1,
    ReferenceStatus      = 2,
    ContentType          = 3
} 
```

有没有办法可以将此数据列为具有两个字段的 IEnumerable。第一个字段是数字，第二个字段是字符串，第一个和第二个单词之间有一个空格，如下所示：

```
1  "Menu Type"
2  "Reference Status"
3  "Content Type" 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T10:01:34.210

> 有没有办法可以将此数据列为具有两个字段的 IEnumerable。第一个字段为数字，第二个字段为字符串，第一个和第二个单词之间有空格

为什么不

**解决方案 2：您想要的数组**

```
IEnumerable<ReferenceKey> v = 
                       Enum.GetValues(typeof(ReferenceKey)).Cast<ReferenceKey>();

string[] result = 
                  v.Select(x => (int)x + " \"" + x.ToString() + " \"").ToArray(); 
```

看到它工作

![在此处输入图像描述](../Images/e6c80a5f20e8b7c76ba2353edd9fa72f.png)

* * *

**解决方案 2：A`Dictionary<int, string>`**

```
string[] str = Enum.GetNames(typeof(ReferenceKey));

Dictionary<int, string> lst = new Dictionary<int, string>(); 

for (int i = 0; i < str.Length; i++)
    lst.Add((int)(ReferenceKey)Enum.Parse(typeof(ReferenceKey), str[i]), str[i]); 
```

看到它工作

![在此处输入图像描述](../Images/07eaedee9a17d9cfc103d5f670ab3b3b.png)

* * *

**解决方案 3：另一种创建方法`Dictionary<int, string>`**

```
Array v = Enum.GetValues(typeof(ReferenceKey));

Dictionary<int, string> lst = v.Cast<ReferenceKey>()
                               .ToDictionary(x => (int)x, 
                                             x => x.ToString()); 
```

`System.Linq`为此包括命名空间

看到它工作

![在此处输入图像描述](../Images/94bf99632e036c80ab9636ab529f1daa.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-15T10:02:23.370

将 a`Dictionary`与静态`GetNames`和`GetValues`方法一起使用。

```
 var names = ReferenceKey.GetNames(typeof(ReferenceKey));
 var values = ReferenceKey.GetValues(typeof(ReferenceKey)).Cast<int>().ToArray();

 var dict = new Dictionary<int, string>();
 for (int i = 0; i < names.Length; i++)
 {
     string name = names[i];
     int numChars = name.Length;
     for (int c = 1; c < numChars; c++)
     {
         if (char.IsUpper(name[c]))
         {
             name = name.Insert(c, " ");
             numChars++;
             c++;
         }
     }
     dict[values[i]] = name;
 } 
```

[获取](http://msdn.microsoft.com/en-us/library/system.enum.getvalues.aspx)
[值获取名称](http://msdn.microsoft.com/en-us/library/system.enum.getnames.aspx)

要获得您指定的格式，您可以执行以下操作：

```
string[] formatted = dict.Select(s => String.Format("{0} \"{1}\"", s.Key, s.Value)).ToArray(); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-15T10:15:53.877

如果您只想将其作为普通的可枚举，请执行以下操作：

```
var names = Enum.GetNames(typeof(ReferenceKey));
var values = Enum.GetValues(typeof(ReferenceKey)).Cast<int>();
var pairs = names.Zip(values, (Name, Value) => new { Name, Value }); 
```

你得到这个结果：

![可枚举对](../Images/17c190047c7736b3654c602c34fe57e2.png)

如果您想将其用作字典，请执行以下操作：

```
var dict = pairs.ToDictionary(x => x.Name, x => x.Value); 
```

你得到这个结果：

![字典对](../Images/faee0008176115d01b4095d93dbdc38f.png)

如果您想在每个单词之间添加一个空格，您可以添加`.Select(n => Regex.Replace(n, "([A-Z])", " $1").Trim());`到`names`变量定义中。

使用此间距代码，您现在可以获得以下结果：

![间距结果](../Images/c13b8f9f4f3835bdd8348f419999798d.png)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-15T10:05:17.857

每种枚举类型的更通用方法：

```
 static IEnumerable<string> EnumToEnumerable(Type x)
    {
        if (x.IsEnum)
        {
            var names = Enum.GetValues(x);

            for (int i = 0; i < names.Length; i++)
            {
                yield return string.Format("{0} {1}", (int)names.GetValue(i), names.GetValue(i));
            }
        }
    } 
```

调用

```
EnumToEnumerable(typeof(ReferenceKey)); 
```

# android - 想要在imageview的动画完成后开始活动

> ID：12436368
> 
> 赞同：1
> 
> 时间：2012-09-15T09:56:51.267
> 
> 标签：android, android-layout, android-intent

我想`rotate` `imageview`然后我想开始`activity`onClick`imageview`但问题是android系统没有时间来完成`animation`和启动活动。那么我怎样才能完全显示动画然后调用活动。这是我的 xml 代码：

```
<?xml version="1.0" encoding="utf-8"?>
<rotate xmlns:android="http://schemas.android.com/apk/res/android"
    android:duration="200"
    android:fromDegrees="-7"
    android:pivotX="50%"
    android:pivotY="50%"
    android:repeatMode="reverse"
    android:toDegrees="7" /> 
```

而这段代码：

```
 public void onImageViewClicked(View view){
        switch(view.getId()){
            case R.id.viewstock:
                Animation shakeV = AnimationUtils.loadAnimation(this,     R.anim.shake);
                view.startAnimation(shakeV);
                startActivityForResult(intent, 12);
                break;
            case R.id.about:
                Animation shakeA = AnimationUtils.loadAnimation(this,     R.anim.shake1);

                 view.startAnimation(shakeA);
            Intent aboutIntent = new Intent(MainActivity.this,AboutActivity.class);
            startActivity(aboutIntent);
            break;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T10:08:40.443

您能否提供您的代码片段来支持您的问题。所以更容易知道你是如何处理动画的。

现在我假设您使用的是标准动画。如果是这种情况，请使用`Animation.AnimationListener`监听`onAnimationEnd(Animation animation)`。在那里你开始你的活动。

更多检查[这个](http://developer.android.com/reference/android/view/animation/Animation.AnimationListener.html)。

希望这会帮助你。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-15T10:27:58.443

是的，我的猜测是对的。用于**shakeA、shakeV**

```
摇A.setAnimationListener（新的AnimationListener（）{

 `@Override
        public void onAnimationStart(Animation animation) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onAnimationRepeat(Animation animation) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onAnimationEnd(Animation animation) {
            // TODO Start your activity here.
            startActivity(aboutIntent); // Here you go.

        }
    })` 

            回答 #3

赞同：0

时间：2020-08-28T19:52:40.513

我想最好设置开始活动的持续时间

```
 @Override
public void onAnimationStart(Animation animation) {

}

@Override
public void onAnimationEnd(Animation animation) {
    new Handler().postDelayed(new Runnable() {
        @Override
        public void run() {
            startActivity(aboutIntent); 
        }
    }, 2000);
}

@Override
public void onAnimationRepeat(Animation animation) {

} 
```

```

# quartz-scheduler - 使用简单的xml来驱动Quartz Sheduler

> ID：12436369
> 
> 赞同：2
> 
> 时间：2012-09-15T09:56:54.267
> 
> 标签：quartz-scheduler, quartz.net

有人可以看看我对 Quartz xml 的简单测试（每秒触发一次），并给我一个线索，为什么没有工作被添加到调度程序中？基本上我希望'SimpleJob'类每秒被触发一次，我可以确定正在传递哪个作业以及以键的形式传递哪些参数 - 老实说，我很困惑，因为没有足够的文档

```
<job>
  <name>jobName1</name>
  <group>jobGroup1</group>
  <description>jobDesciption1</description>      
  <job-type>Quartz.Job.NoOpJob, Quartz</job-type>      
  <durable>true</durable>
  <recover>false</recover>
  <job-data-map>
    <entry>
      <key>key0</key>
      <value>value0</value>
    </entry>
    <entry>
      <key>key1</key>
      <value>value1</value>
    </entry>
    <entry>
      <key>key2</key>
      <value>value2</value>
    </entry>
  </job-data-map>
</job>

<trigger>
  <cron>
    <name>simpleName</name>
    <group>simpleGroup</group>
    <description>SimpleTriggerDescription</description>
    <job-name>jobName1</job-name>
    <job-group>jobGroup1</job-group>
    <cron-expression>1 * * * * ?</cron-expression>
    <time-zone></time-zone>
  </cron>
</trigger> 
```

几个问题： 1\. 我想启动一个带有 2 个参数的控制台应用程序 - 我将如何实现？2\. 在 job-data-map 部分，我可以添加多个键/值，但值是什么？我是添加可执行文件还是在另一个类中使用键/值对，我猜是

```
class Program
{
    static void Main(string[] args)
    {          

        // First we must get a reference to a scheduler
        NameValueCollection properties = new NameValueCollection();
        properties["quartz.scheduler.instanceName"] = "XmlConfiguredInstance";

        // set thread pool info
        properties["quartz.threadPool.type"] = "Quartz.Simpl.SimpleThreadPool, Quartz";
        properties["quartz.threadPool.threadCount"] = "5";
        properties["quartz.threadPool.threadPriority"] = "Normal";

        // job initialization plugin handles our xml reading, without it defaults are used
        properties["quartz.plugin.xml.type"] = "Quartz.Plugin.Xml.XMLSchedulingDataProcessorPlugin, Quartz";
        properties["quartz.plugin.xml.fileNames"] = @"c:\users\paul\documents\visual studio 2010\Projects\ShedulerService\ShedulerApplication\quartz_jobs.xml";  //"~/quartz_jobs.xml";
        ISchedulerFactory sf = new StdSchedulerFactory(properties);
        IScheduler sched = sf.GetScheduler();

        // we need to add calendars manually, lets create a silly sample calendar
        //var dailyCalendar = new DailyCalendar("00:01", "23:59");
        //dailyCalendar.InvertTimeRange = true;
        //sched.AddCalendar("cal1", dailyCalendar, false, false);

        // all jobs and triggers are now in scheduler

        // Start up the scheduler (nothing can actually run until the 
        // scheduler has been started)
        sched.Start();

        // wait long enough so that the scheduler as an opportunity to 
        // fire the triggers           

        try
        {
            Thread.Sleep(30 * 1000);
        }
        catch (ThreadInterruptedException)
        {

        }

        sched.Shutdown(true);
        SchedulerMetaData metaData = sched.GetMetaData();
        Console.WriteLine("Executed " + metaData.NumberOfJobsExecuted + " jobs.");
        Console.Read();
    }

public class SimpleJob : IJob
{
    public virtual void Execute(IJobExecutionContext context)
    {

        // This job simply prints out its job name and the
        // date and time that it is running
        JobKey jobKey = context.JobDetail.Key;

        if (context.MergedJobDataMap.Count > 0)
        {
            ICollection<string> keys = context.MergedJobDataMap.Keys;
            foreach (string key in keys)
            {
                String val = context.MergedJobDataMap.GetString(key);
                //log.InfoFormat(" - jobDataMap entry: {0} = {1}", key, val);
                Console.WriteLine("jobDataMap entry: {0} = {1}", key, val);
            }
        }
    } 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-16T10:19:08.173

根据您的 XML 配置，您的源代码中应该有一个名为**jobName1**的作业，它应该实现作业接口。

您可以在下面找到示例 XML 配置：

```
<?xml version="1.0" encoding="utf-8"?>
<job-scheduling-data version="1.8" xmlns="http://www.quartz-scheduler.org/xml/JobSchedulingData" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.quartz-scheduler.org/xml/JobSchedulingData http://www.quartz-scheduler.org/xml/job_scheduling_data_1_8.xsd">
    <schedule>
        <job>
            <name>my_job1</name>
            <group>myJobGroup</group>
            <description>Example Job</description>
            <job-class>com.example.my_jobs</job-class>
            <job-data-map>
                <entry>
                    <key>key0</key>
                    <value>value0</value>
                </entry>
            </job-data-map>
        </job>
        <trigger>
            <cron>
                <name>my_trigger1</name>
                <group>myTriggerGroup</group>
                <job-name>my_job1</job-name>
                <job-group>myJobGroup</job-group>
                <cron-expression>1 * * * * ?</cron-expression>
            </cron>
        </trigger>
    </schedule>
</job-scheduling-data> 
```

上面的配置代表了一个名为 my_trigger1 的 Cron Trigger，它属于一个名为 myTriggerGroup 的触发器组，有一个 cron 表达式 1 * * * * ? 并触发属于作业组 myJobGroup 的名为 my_job1 的作业的执行。

作业 my_job1 属于一个组 myJobGroup，作业类是 com.example.my_jobs 包，并且有一个 JobDataMap，其中包含键：key0 和值：value0 的数据对。

请注意位于作业元素内的**作业****类**元素。它应该填写您的作业类的包名称。

 **关于您的第二个问题， JobDataMap 包含您希望在作业实例执行时提供给它的任何可序列化数据。

> 您可以在 Quartz jar 文件中，特别是在文件夹 org\quartz\xml 中找到指示 Quartz Scheduler XML 配置文件的 XSD。quartz-2.1.6.jar 包含 XSDS：job_scheduling_data_1_8.xsd 和 job_scheduling_data_2_0.xsd

我希望这有帮助。**

# android - 即使在关闭它后也会弹出警报对话框

> ID：12436370
> 
> 赞同：2
> 
> 时间：2012-09-15T09:56:58.630
> 
> 标签：android, popup, android-alertdialog

我遇到了一个典型的问题，对我来说似乎很奇怪。细节是这样的 - 在我的应用程序的活动中，有编辑文本和提交按钮。在edittexts中填写数据后，用户可以点击提交按钮。单击提交按钮后，根据用户输入的值，将显示两个警报对话框中的任何一个。一种是成功，另一种是失败。

问题是当用户输入无效数据并单击提交按钮时，会打开失败的警报对话框。我在失败的警报对话框上有一个按钮（确定），单击它后我写**`dialog.dismiss();`**它使其消失，以便用户可以重新检查数据并可以修改。但问题是在重新检查和修改数据时，如果他改变了方向，那么即使没有单击提交按钮，也会再次弹出失败的警报对话框。请建议。

**额外细节（虽然这个问题可能不是必需的）：**在改变方向时重新创建活动。因此，我将当前数据保存在 onSavedInstanceState() 中并在 onCreate() 方法中检索它以设置编辑文本中的值。一切正常，但是一旦单击提交按钮，就会出现相应的警报对话框。然后在改变方向后，对话框再次弹出。我确定我写了**showDialog(1);** 在**onClick()**方法中，但又为什么控制会回到 onClick 并显示该警报对话框，即使没有单击。

```
protected Dialog onCreateDialog(int id) {
   switch(id){                 
      case 0:          
        return new AlertDialog.Builder(this)
                      .setMessage("Success!") 
                      .setIcon(R.drawable.success)
                      .setPositiveButton("OK",
                      new DialogInterface.OnClickListener() {
                         @Override
                         public void onClick(DialogInterface dialog, int which) {
                            dialog.dismiss();                   
                         }
                      }).show();
       case 1:
           return new AlertDialog.Builder(this)
                      .setMessage("Failed")
                      .setIcon(R.drawable.failure)
                      .setPositiveButton("OK",
                       new DialogInterface.OnClickListener() {

                           @Override
                           public void onClick(DialogInterface dialog, int which) {
                              dialog.dismiss();     
                              return;
                           }
                        }).show();   
           }
           return null;
       } 
```

这是使警报对话框显示的方法。

```
public void onClick(View v) {
   switch (v.getId()) {    
      //Here there are other cases too.
      case R.id.submit:
        getEditTexts();
        validator();
      break;
   }
}

public void validator() {              
    if(generator.receiveVal(0,0,sudo)) {
       showDialog(0);
     }
    else if(!generator.receiveVal(0,0,sudo)) {
       showDialog(1);
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-17T04:48:56.607

只需尝试将 .create() 替换为 .show()。在你这样的情况下：

```
case 1:
               return new AlertDialog.Builder(this)

               .setMessage("Failed")
               .setIcon(R.drawable.failure)
               .setPositiveButton("OK",
                       new DialogInterface.OnClickListener() {

                        @Override
                        public void onClick(DialogInterface dialog, int which) {

                            dialog.dismiss();

                          return;
                        }
                    }).create();   //Here replaced .show with .create() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T10:13:32.747

这只是一个想法，但似乎问题在于`onOrientation`试图重新绘制活动。

尝试以下操作：

您可以将其添加到清单中的活动声明中：

```
android:configChanges="orientation" 
```

所以看起来像

```
<activity android:label="@string/app_name" 
    android:configChanges="orientation" 
    android:name=".your.package"> 
```

问题是当配置发生变化时系统会破坏活动。见`ConfigurationChanges`。

所以把它放在配置文件中可以避免系统破坏你的活动。相反，它调用该`onConfigurationChanged(Configuration)`方法。

希望这可以帮助。

# xml - 顶点销售人员中的 XML 解析

> ID：12436379
> 
> 赞同：0
> 
> 时间：2012-09-15T09:57:51.200
> 
> 标签：xml, soap, xml-parsing, salesforce, apex-code

我从 web 服务调用中获取带有特殊字符的 xml 作为响应。您能否建议我如何解析这个或如何将包含特殊字符的 xml 转换为实际的 xml 格式。

谢谢，维维克

# c - 需要关于 c 程序中字符串的帮助

> ID：12436384
> 
> 赞同：1
> 
> 时间：2012-09-15T09:58:42.473
> 
> 标签：c, string, pointers

> **可能重复：**
> [分段错误 - C](https://stackoverflow.com/questions/10668504/segmentation-fault-c)

```
#include<stdio.h>
#include<string.h>
int main()
{
  char *p;

  printf("enter some thing:");
  gets(p);

  printf("you have typed:%s\n",p);
} 
```

为什么这个程序不起作用？我不能将指针用作字符串。

输出是：

```
enter some thing:raihan
Segmentation fault (core dumped) 
```

每次使用 char 指针时都会出现此错误。我怎么解决这个问题？我在 Linux mint13 KDE 上使用代码块。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T10:05:28.637

您尚未分配内存。你刚刚声明了一个指针，，`p`但没有让它指向任何东西。这就解释了分段错误。您需要为缓冲区分配内存。

更重要的是，`gets`不允许您指定缓冲区的大小。所以你有跑过缓冲区的风险。所以`fgets`改用。

```
int main(void)
{
    char buffer[1024];//allocates a buffer to receive the input
    printf("enter some thing: ");
    fgets(buffer, sizeof(buffer), stdin);
    printf("you have typed: %s\n", buffer);
    return 0;
} 
```

我还更正了您的声明`main`并确保它返回一个值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T10:02:19.623

您还没有为`p`. 此外，使用`fgets`而不是`gets`可能会溢出输入缓冲区。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-15T10:04:20.960

```
char *p;
printf("enter some thing:");
gets(p); 
```

错误的。Gets() 尝试填充提供的指针指向的数组 - 它会出现段错误，因为该指针尚未初始化，因此它可能（并且确实）指向某个垃圾/无效内存位置。采用

```
char p[256]; 
```

或者类似的东西 - 如果用户输入的字符串长度超过 255 个字符，您仍然需要担心缓冲区溢出。您可以使用

```
fgets(p, sizeof(p), stdin); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-15T10:05:47.420

您的指针已声明，但您尚未对其进行初始化，因此它的值将是您可能无权写入的任意内存位置。因此，无论何时您读取或写入此内容，您都会面临段错误的风险。使用调用为指针分配一些堆内存，`malloc`然后在写入时不会出现段错误。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-15T10:01:45.640

您刚刚定义了一个指针 - 没有为字符分配内存！

使用数组或 malloc。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-09-15T10:05:19.730

指针只是一个内存地址。它说“你这里有一些数据”。但它实际上并没有保留这些数据。

在你的情况下，问题是双重的。指针没有指向有效的内存，你甚至从未将它设置为任何东西（所以它随机指向某个地方）。

您可以通过不同的方式解决此问题。最简单的是只使用一个数组（它是一种隐含的指针）：

```
char something[100];
printf("enter some thing:");
gets(something); 
```

这会在堆栈上为您提供 100 个字符。如果需要，您也可以指向它，但在这种情况下，它有点多余：

```
char *p = something; 
```

另一种方法是动态分配，您在运行时要求操作系统给您一些字节数。这样，您必须在使用完毕后将其归还。

```
char *something = (char*)malloc( 100 * sizeof(char) );  // Ask for 100 chars
printf("enter some thing:");
gets(something);
free(something);  // Do this when you don't need that memory anymore. 
```

PS：记住当你有字符串时，你总是需要比你打算存储的字符数多一个字节。该字节用于字符串终止符，其值为 0。

# qt - 如何在 Qt 中为 Phonon::SeekSlider 设置样式表

> ID：12436386
> 
> 赞同：1
> 
> 时间：2012-09-15T09:58:46.683
> 
> 标签：qt, stylesheet, qwidget, phonon, qslider

我想知道如何为**Phonon::SeekSlider**设置样式表，就像 Qt 中的**QSlider**一样。使用 QSliders，我们可以通过轻松调用这样的东西来分配这么多属性。

```
QSlider::handle:horizontal {
background:white;
border: 1px solid white;
width: 6px;
margin-top: -2px;
margin-bottom: -2px;
border-radius: 0px;
} 
```

但是我怎么能用 SeekSlider 做同样的事情。我不能通过调用 Phonon::SeekSlider 或 QSlider 来设置属性。只有我能做的是通过调用**QWidget {}**来设置属性，它在 SeekSlider 上没有用。我必须能够自定义句柄，页面等...请任何人有想法...帮助我！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:27:12.417

您可以像这样访问 Phonon::SeekSlider 滑块控件：

```
Phonon--SeekSlider > QSlider {

}

Phonon--SeekSlider > QSlider::handle {

} 
```

等等

# jquery - 从标题中删除前 3 个字符

> ID：12436389
> 
> 赞同：1
> 
> 时间：2012-09-15T09:59:02.480
> 
> 标签：jquery

我需要从标题中删除前 3 个字符。我用了：

```
$(".layered_subtitle").each(function() {
var text = $(this).text();
text = text.replace('06.', '');
$(this).text(text); 
```

我动态加载了带有编号的标题：

> 01.标题
> 
> 02.标题
> 
> 03.标题..

如何分隔要删除的字符？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:04:38.170

您可以使用它（与 //`slice`相关的 JavaScript 函数中最短的，如果仅使用带正整数的第一个参数，它们实际上是相同的）：`substring``substr`

```
text = text.slice(3); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:08:08.243

到目前为止的答案都很好，但我认为你应该以不同的方式做以备将来使用。也许您的计数会增加，所以只需搜索“。”的第一次出现。然后在那里剪断绳子。

```
text = text.substring(text.indexOf(".")+1); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T10:02:10.497

像这样试试

```
text = text.substr(3);
alert(text);
$(this).text(text); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T10:06:47.697

您可以使用这样的子字符串方法：

```
$(".layered_subtitle").each(function() {
    var text = $(this).text();
    if(text && text.length > 3){
        text = text.substring(3)
        $(this).text(text);
    }
}); 
```

如果您需要在 ajax 请求成功时执行此操作：

```
function removeChars(){
   $(".layered_subtitle").each(function() {
       var text = $(this).text();
       if(text && text.length > 3){
           text = text.substring(3)
           $(this).text(text);
       }
   });
}
var serializedData = {};//Fill data
$.ajax({
    url: "url",
    type: "post",//post or get
    data: serializedData,
    // callback handler that will be called on success
    success: function (){
        //Add here logic where you update DOM
        //(in your case add divs with layered_subtitle class)
        //Now there is new data on page where we need to remove chars
        removeChars();
    }
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-15T10:25:19.593

如果标题至少包含三个字符，您可以删除前三个字符：

```
if (text.length >= 3) text = test.substring(3); 
```

您可以使用正则表达式仅删除匹配格式“nn.xxxx”的数字：

```
 text = text.replace(/^\d\d\./, ''); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-15T10:01:09.983

只需使用[javascript 子字符串](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/substring)：

```
text = text.substring(3); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-15T10:08:27.027

尝试这个

```
text = text.substring(3) 
```

代替

```
text = text.replace('06.', ''); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-09-15T10:14:59.843

如果您不知道分隔符（点）的确切位置，则必须找到它：

```
var newText = oldText.substr(oldText.indexOf('.') + 1); 
```

或者，如果您可以在分隔符后找到许多数字或空格字符，则需要使用正则表达式：

```
var newText = oldText.replace(/^\d+\.\s*/, ""); 
```

两者都会起作用。

# scala - 如何将 List 传递给 Scala 中的 Int* 方法？

> ID：12436392
> 
> 赞同：1
> 
> 时间：2012-09-15T09:59:24.527
> 
> 标签：scala

我有一个功能：

```
def test(ints: Int*) = ints.foreach(println(_)) 
```

如何将 Array[Int] 或 Seq[Int] 转换为 Int*？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-15T10:03:34.910

这就是`_*`类型归属的用途：

```
def test(ints: Int*) { ints foreach println }

val l = List(1, 2, 3)

test(l:_*)
// 1
// 2
// 3 
```

# java - 如何在 eclipse juno 中导入和运行 ivy+ant 项目

> ID：12436395
> 
> 赞同：3
> 
> 时间：2012-09-15T09:59:36.717
> 
> 标签：java, eclipse, ant, ivy, eclipse-juno

这是我第一次使用 ivy+ant，在从命令行构建项目后，我想将它导入到 eclipse juno 中。项目文件夹（主干）包含以下文件夹/文件：

*   建造
*   距离
*   源代码
*   网页内容
*   build.properties
*   构建.xml
*   常春藤.settings.xml
*   常春藤.xml

**我尝试使用将现有项目**导入工作区来导入包含上述文件/文件夹的主干文件夹，但我收到**未找到项目**的错误。

请告知如何导入这个项目。

**更新**：我尝试在使用以下命令导入之前为 Eclipse 配置项目：

```
ant eclipse-default 
```

但我收到以下错误：

**项目中不存在目标“eclipse-default”**

**更新 2：**

我能够按如下方式在eclipse中导入项目

**文件 > 新建 > 其他 > 来自现有 Ant 构建文件的 Java 项目**

但是当试图在服务器上运行项目时，我在运行选项中找不到在服务器上运行，请指教。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-04-18T02:14:35.793

你可以试试这个：

1.  [从http://www.apache.org/dist/ant/ivyde/updatesite](http://www.apache.org/dist/ant/ivyde/updatesite)安装 IvyDE （参考：[http](http://ant.apache.org/ivy/ivyde/download.cgi) ://ant.apache.org/ivy/ivyde/download.cgi ）
2.  IvyDE 可能无法识别您的设置和属性文件。在 Window -> Preference -> Ivy -> Settings，勾选按需重新加载设置，添加 Ivy 设置路径`ivysettings.xml`或您的 Ivy 设置文件、属性文件`build.properties`或您的 Ant 属性文件。
3.  添加您要处理的新 Java 项目，将路径指向您的项目。
4.  在新项目向导中，库选项卡 -> 添加库 -> IvyDE Managed Dependencies。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T15:45:25.287

如果代码中没有 Eclipse 项目信息，则无法导入项目。从现有源创建一个新的 eclipse 项目。或来自 ant buildfile 的新 java 项目（您的更新 2）。

对于服务器的运行需要配置（很难知道那里需要什么），您可能需要创建新服务器（首选项/服务器/运行时环境）（或从查看服务器，右键单击“新建”）

# scala - 如何等待 Akka 演员系统终止？

> ID：12436397
> 
> 赞同：19
> 
> 时间：2012-09-15T09:59:57.257
> 
> 标签：scala, akka

我需要启动 Akka (2.0) 演员系统，发送一些消息，然后等待它完成繁重的工作。在那之后，我需要做一些与那些演员无关的事情。

我试图等待所有演员停止使用以下代码：

```
val system = new ActorSystem("parallelRunners")
val master = system.actorOf(Props[Master])
master ! Start
system.awaitTermination // <-- hangs here 
```

所有演员都通过`self ! PoisonPill`. 我究竟做错了什么？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2016-02-02T18:40:13.187

在 scala 2.11 的 Akka 2.4.1 中，它似乎又有所不同。

`system.awaitTermination()`已弃用，文档指示我们改为使用`Await.result(system.whenTerminated, timeout)`。

正如[203](https://stackoverflow.com/users/2148890/203)所说，`system.terminate`仍然是终止系统的方式。

这是我使用的一些示例代码：

```
val actorSystem = ActorSystem("ActorSystem")
val myActors = actorSystem.actorOf(Props[MyActor].withRouter(RoundRobinPool(10)), "MyActors")
rainbows.foreach(rainbow => myActors ! rainbow)
Await.ready(actorSystem.whenTerminated, Duration(1, TimeUnit.MINUTES)) 
```

然后在 MyActor 类中我有这条线`context.system.terminate()`

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2015-11-23T17:11:58.030

从 Akka 2.4 开始，您应该使用`system.awaitTermination()`which 返回一个`Future[Terminated]`您可以等待的。

为了终止系统，你应该使用`ActorSystem.terminate`（例如`context.system.terminate()`，当它完成时从一个actor内部。

来源：[发行说明](http://doc.akka.io/docs/akka/snapshot/project/migration-guide-2.3.x-2.4.x.html#Actor_system_shutdown)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2017-06-16T14:00:31.340

对于那些遇到这个问题的人来说只是一个旁注：显然，Akka 2.5 不再支持`actorSystem.awaitTermination`了。原因可能是 Akka 避免任何阻塞调用的哲学。相反，可以用作在关闭`actorSystem.registerOnTermination(...)`时执行操作的非阻塞方式。`ActorSystem`

`Future`尽管如此，您仍然可以通过提供的 by等待您的演员系统完成`ActorSystem.whenTerminated`：

```
val system = new ActorSystem("parallelRunners")
val master = system.actorOf(Props[Master])
master ! Start

import scala.concurrent.Await
import scala.concurrent.duration._
Await.ready(system.whenTerminated, 365.days) 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-09-15T10:36:42.853

我找到了解决方案 - 只需从主演员那里调用 system.shutdown ：

```
context.system.shutdown 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2013-11-22T15:56:26.863

您还可以`ActorSystem`使用`system.shutdown`. 但是该操作是异步的。`system.awaitTermination`仅当您需要阻塞主线程直到它完成时才需要使用。如果您的 parallelRunners 返回对程序的其余部分有用的东西，那么不阻塞并继续您的程序可能是最简单的。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-08-13T11:23:23.323

在 Akka 2.3.9 中，关闭 Actor 系统并等待它关闭似乎是一个两步过程：

1.  启动关机： `actorSystem.shutdown`
2.  以阻塞方式等待其终止： `actorSystem.awaitTermination`

作为步骤 (2) 的替代方法，可能（尚未测试这些替代方法）您可以选择轮询`isTerminated`或`registerOnTermination`用于在终止时运行某些代码。因此，值得通过 akka.actor.ActorSystem 的注释来了解并在这些方法之间为您的实现进行选择。

也许我错过了有关 API 的其他选项（？），因为`Future`返回值可能会更好。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-06-29T14:08:26.273

怎么样：

```
import scala.concurrent.Await
import scala.concurrent.duration._

Await.ready(system.terminate(), 5.seconds) 
```

终止返回一个未来：

```
def terminate(): Future[Terminated] 
```

你可以等待这个未来的完成。

# android - 如何在 IntelliJ 的 logcat 中仅过滤我的应用程序日志？

> ID：12436400
> 
> 赞同：16
> 
> 时间：2012-09-15T10:00:57.517
> 
> 标签：android, intellij-idea, logcat

在 IntelliJ 上，我正在尝试读取 logcat 以查找错误。

问题是所有应用程序的日志都存在于“Android”窗口中。

如何只显示相关的日志？

我不是在寻找标签，因为我想查看异常抛出、来自 JNI 的 Segfaults 等。

谢谢 ！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-01-11T22:40:34.417

基于应用程序（包）的过滤在 IntelliJ IDEA（当前版本：12）中不可用。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-04T22:07:59.177

**编辑：水平线以上的一切都是我的新答案（更新于 13 年 5 月 17 日）：**

我建议转移到新的[Android Studio IDE](http://developer.android.com/sdk/installing/studio.html)（基于 IntelliJ）。这允许按包名称过滤。

* * *

您可以在此处投票支持要添加的功能：http: [//youtrack.jetbrains.com/issue/IDEA-95780](http://youtrack.jetbrains.com/issue/IDEA-95780)

同时，您可能会考虑包装 Android Log 类以添加您可以过滤的后缀/前缀。类似于以下内容：

```
/**
 * Wrapper for the Android {@link Log} class.
 * <br><br>
 * The primary reason for doing this is to add a unique prefix to all tags for easier filtering
 * in IntelliJ IDEA (since in v12 there is no way to filter by application).
 *
 * @author gloesch
 */
public class Logger {

    private static final String FILTER = "(MY APP) ";

    public static void d(String tag, String message) {
        Log.d(tag.concat(FILTER), message);
    }

    public static void i(String tag, String message) {
        Log.i(tag.concat(FILTER), message);
    }

    public static void v(String tag, String message) {
        Log.v(tag.concat(FILTER), message);
    }

    public static void e(String tag, String message) {
        Log.e(tag.concat(FILTER), message);
    }

    public static void w(String tag, String message) {
        Log.w(tag.concat(FILTER), message);
    }

    public static void wtf(String tag, String message) {
        Log.wtf(tag.concat(FILTER), message);
    }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T15:33:24.543

您可以按进程 ID (PID) 进行过滤：

![按 PID 过滤](../Images/61d5f1c0bab276d2d5da851f8fd62260.png)

唯一的缺点是 PID 会发生变化，您必须在每次应用重新启动后调整过滤器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-08T17:36:46.367

取决于你想要做什么。在 logcat 窗口中，您应该有一个名为“Filters”的 [non]empty 窗口，旁边有一个`+`或`-`（如 IntelliJ IDEA 12 中所示），它会弹出一个如下窗口：

![过滤窗口](../Images/901253c0877f20e499467df9ef5179bd.png)

如果日志标签不是您需要的，您可以根据日志消息本身中的正则表达式进行过滤（例如，如果消息始终以 开头`seek error`，则输入`seek`并且它应该找到它。如果您将日志级别设置为详细，它应该匹配写入 logcat 的任何内容。

# android - Android OpenGL ES 2.0 晕影蒙版

> ID：12436411
> 
> 赞同：1
> 
> 时间：2012-09-15T10:02:57.923
> 
> 标签：android, opengl-es-2.0

我在 Android API Level 9 上。我将相机预览加载到 SurfaceView 中。我正在尝试在此之上绘制一个晕影面具。为此，我使用了 GLSurfaceView。我使用以下片段着色器代码（或者它是像素着色器吗？）在 XCode 着色器构建器中准备了一个掩码，到目前为止编译成功：

```
uniform sampler2D tex;

void main()
{ 
float innerAlpha = 0.0;
float outerAlpha = 1.0;
float len = 1.7;
float startAdjustment = -0.2;
float diff = 0.4;
float alphaStep = outerAlpha / len;
vec2 center = vec2(0.5, 0.5);
vec2 foc1 = vec2(diff,0.);
vec2 foc2 = vec2(-diff,0.);
float r = distance(center+foc1,gl_TexCoord[0].xy) + distance(center+foc2,gl_TexCoord[0].xy);
float alpha = r  - (diff * 2.0) * alphaStep - startAdjustment;
vec4 vColor = vec4(0.,0.,0., innerAlpha + alpha);
gl_FragColor = vColor;
} 
```

但是，我不知道如何在 Android 代码中实现这一点。基本上我认为我需要创建一个矩形，它将覆盖整个视图并在其上应用这种代码生成的纹理。我只是无法弄清楚实际的代码。理想情况下，它应该在 OpenGL ES 2.0 中。

编辑1：

@Tim - 我试着按照这里的教程[http://developer.android.com/training/graphics/opengl/draw.html](http://developer.android.com/training/graphics/opengl/draw.html) 和这里 [http://www.learnopengles.com/android-lesson-one-getting-started /](http://www.learnopengles.com/android-lesson-one-getting-started/) 我基本明白了，怎么画一个三角形。但我不明白，如何绘制矩形 - 我的意思是我真的需要实际绘制两个三角形还是我可以立即定义矩形（或其他复杂形状）？至于纹理 - 在我见过的所有教程中，纹理实际上是从图像文件中加载的，但我很想知道，我如何才能真正使用上面的像素着色器生成一个。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-26T10:53:20.210

Meanwhile, I have found the answer, how to draw the oval shaped mask.

Actually, the problem was, that I was thinking of gl_FragCoord in the range of 0.0 to 1.0, but they have to be specified in actual pixels instead, e.g. 600.0 x 900.0 etc.

With little tweaks (changing vec2's to floats) I have been able to draw nice oval shaped mask over the whole screen in OpenGL. Here is the final fragment shader. Note, that you must specify the uniforms before drawing. If you are gonna try this, make sure to keep uSlope to somewhere between 0.1 and 2.0 to get meaningful results. Also, please, note that uInnerAlpha has to be lower than uOuterAlpha with this particular piece of code. For a typical vignette, uInnerAlpha is 0.0 and uOuterAlpha is 1.0.

```
precision mediump float;

uniform float uWidth;
uniform float uHeight;
uniform float uSlope;
uniform float uStartAdjustment;
uniform float uEllipseLength;
uniform float uInnerAlpha;
uniform float uOuterAlpha;

void main() {

float gradientLength = uHeight * uSlope;
float alphaStep = uOuterAlpha / gradientLength;
float x1 = (uWidth / 2.0);
float y1 = (uHeight / 2.0) - uEllipseLength;
float x2 = (uWidth / 2.0);
float y2 = (uHeight / 2.0) + uEllipseLength;

float dist1 = sqrt(pow(abs(gl_FragCoord.x - x1), 2.0) + pow(abs(gl_FragCoord.y - y1), 2.0));
float dist2 = sqrt(pow(abs(gl_FragCoord.x - x2), 2.0) + pow(abs(gl_FragCoord.y - y2), 2.0));
float dist = (dist1 + dist2);

float alpha = ((dist - (uEllipseLength * 2.0)) * alphaStep - uStartAdjustment) + uInnerAlpha;
if (alpha > uOuterAlpha) {
    alpha = uOuterAlpha;
}
if (alpha < uInnerAlpha) {
    alpha = uInnerAlpha;
}

vec4 newColor = vec4(1.0, 1.0, 1.0, alpha);

gl_FragColor = newColor;

} 
```

# tfs - Team Foundation Server 2012 Web 访问中断 - 错误 TF400893

> ID：12436413
> 
> 赞同：2
> 
> 时间：2012-09-15T10:03:10.787
> 
> 标签：tfs, tfs-web-access

我已经在我的计算机上安装了 TFS 2012 Express，但我无法让 TFS Web 访问门户工作。如果我尝试查看包含工作项的页面，则会出现错误：

```
TF400893: Team Foundation Server services are not available. 
This is most likely caused by a network error. 
Please check your connection and try again. 
```

这很奇怪，因为 TFS 门户网站的其他部分有效（例如源），所以我认为这不是网络错误。如果我从 Visual Studio 连接到 TFS 服务器，一切正常，所以我想 TFS 服务正在运行。

我试图重新安装 TFS，但它没有帮助:-(

有什么想法可能是错的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T11:30:28.820

尝试其他浏览器。我使用过 Opera 并得到了错误。使用 IE 应该可以。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-31T08:40:40.327

尝试将帐户从 TFS 管理控制台上的应用程序层更改为您当前的域和用户信息。默认值为 NT AUTHORITY。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-28T08:33:24.160

您应该检查浏览器和应用层之间的任何防火墙或其他 IPS 设备是否存在 SQL 注入攻击规则。在 AJAX 请求中从浏览器发送的 WIQL 看起来太像常规 SQL，因此会被这些规则限制。

当我们在工作的地方遇到这个问题时，我决定在遇到问题的机器上对浏览器流量进行网络数据包捕获。这在包含纯文本 WIQL 的数据包上产生了一大堆 TCP 重传。在将这些证据提交给公司的网络团队后，他们找到了在这些数据包上触发的违规 IPS 规则，并为针对 TFS 应用程序层的数据包禁用了它，问题就解决了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-08-20T00:08:12.257

我在向包含删除某些表的 SQL 语句的工作项添加注释时遇到了同样的错误。

在将我的语言更改为不包含显式 T-SQL“DROP TABLE”语法后，我能够添加注释。我的猜测是试图阻止 SQL 注入。

# php - php邮件审批

> ID：12436416
> 
> 赞同：1
> 
> 时间：2012-09-15T10:03:51.557
> 
> 标签：php, email

我有一个小型网络应用程序，人们可以在其中通过电子邮件向群组发送消息。由于垃圾邮件，我将不得不进行审批程序。

消息是通过 PHP 发送的。我是怎么做的，所以我必须先接受该消息，然后再将其发送到将其转发给群组的电子邮件？

我的PHP：

```
<?php 
$errors = '';
$myemail = 'whatever@gmail.com';//<-----Put Your email address here.
if(empty($_POST['name'])  || 
   empty($_POST['email']) || 
   empty($_POST['message']))
{
    $errors .= "\n FEJL: Alle felter skal udfyldes";
}

$name = $_POST['name']; 
$email_address = $_POST['email']; 
$message = $_POST['message']; 
$email_subject = "Form request";
$times = $_POST["timeslots"];

if (!preg_match(
"/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3})$/i", 
$email_address))
{
    $errors .= "\n FEJL: Ugyldig email adresse";
}
$strTimes = implode($times);
if( empty($errors))
{
$to = $myemail; 
$email_subject = "$message \n ";
$email_body = "\n Code: $strTimes \n Navn: $name \n Email: $email_address \n"; 

$headers = "From: $email_address\n"; 
$headers .= "Reply-To: $email_address";

mail($to,$email_subject,$email_body,$headers);
//redirect to the 'thank you' page
header('Location: thx.html');
} 
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-16T10:54:03.500

好的，如果您想使用数据队列，这本身就是一个相当大的项目。

假设您想使用数据库，您将需要了解设置数据库的基础知识、如何使用和设置表等（只要您仍然可以访问数据库）。

这是一些连接代码：

将*peter*和*abc123*更改为您的数据库与之关联的任何用户名和密码。

```
$con = mysql_connect("localhost","peter","abc123");
if (!$con){
  die('Could not connect: ' . mysql_error());
}
mysql_select_db("my_db"); 
```

我将为您提供一些示例代码，用于将行插入数据库、从数据库中选择行、处理该信息以及从数据库中删除行。

好的，让我们从邮件提交开始：

靠近代码底部的这部分是我们需要操作的数据

```
$to = $myemail; 
$email_subject = "$message \n ";
$email_body = "\n Code: $strTimes \n Navn: $name \n Email: $email_address \n"; 
$headers = "From: $email_address\n"; 
$headers .= "Reply-To: $email_address"; 
```

因此，假设您有一个 mysql 数据库连接，并在数据库中设置了一个表，这就是您插入它的方式：（请注意，这是一个基本的插入查询）

```
$query = "INSERT INTO queuemails (to, subject, body, headers) VALUES ('" . $to . "', '" . $email_subject . "', '" . $email_body . "', '" . $headers . "')";
mysql_query($query); 
```

好的，所以这两行将添加到您设置的变量**下方。**

然后，您需要提供一个批准页面的方法。

这可以在同一页面上完成，但您必须将您的`mail()`函数与脚本的其余部分分开。

好的，现在这是一个选择脚本，可以**查看**您的队列以供批准。请注意，我已在存储您排队的邮件的表中添加了一个自动增量列。这是为了能够更轻松地选择表中的一行，因为它会为该行数据生成一个唯一编号。此列称为`mid`（代表“邮件标识”）。

好的，这是选择脚本：

```
$query = "SELECT * FROM queuemail"; //this is only good if you know you wont get millions else you need to limit it
//limited select:
//$query = "SELECT * FROM queuemail LIMIT 0,10"; //selects the first 10
while($m = mysql_fetch_assoc(mysql_query($query))){
  echo $m['to'] . " ";
  echo $m['subject'] . " ";
  echo '<a href=approve.php?mid=' . $m['mid'] . '>Approve</a><br>';
} 
```

然后最后清理，在你使用你的函数之后，*你*应该`mail()`从你发送的数据库中删除该行。

这是代码（包括`$_GET`变量，这是一种不安全的方法，但足以显示您将使用的代码）。

```
mail(); //data can be added either from a new select statement or from POSTING it with the form
$query = "DELETE FROM mailqueue WHERE mid='" . $_GET['mid'] . "'";
mysql_query($query);
echo 'Your mail has been sent and deleted from the queue'; 
```

希望这可以帮助。

您可以自动将时间戳添加到数据库中的另一列，以便您可以使用以下内容验证垃圾邮件发布：

```
if($_SERVER['REQUEST_TIME'] > ($oldtimeofpost + 100)){ //time is in seconds
  //do something
}
else{
  //warning
} 
```

# java - Eclipse java 启动器

> ID：12436428
> 
> 赞同：2
> 
> 时间：2012-09-15T10:06:20.463
> 
> 标签：java, eclipse, project, launch

我已经在 Eclipse 中安装了 Android SDK 并使用它来编写/运行不同的程序。然后我尝试在eclipse中创建一个普通的Java项目并尝试运行它但它不再工作了！？我尝试使用 RunAs->Java Application 运行它，但没有任何反应，然后我尝试使用 RunConfigurations 运行它，并设置项目名称。但我没有得到任何结果？？

# javascript - 插件 jQuery，div 以全分辨率为背景制作动画

> ID：12436429
> 
> 赞同：0
> 
> 时间：2012-09-15T10:06:29.087
> 
> 标签：javascript, jquery, jquery-ui, jquery-plugins

ciao，每个 questo effetto 的 esiste un 插件？provate a cliccare su una qualsiasi sezione del menu, il div si anima grazie

西托迪埃斯皮奥 [http://planetpropaganda.com/](http://planetpropaganda.com/)

你好，有这个效果的插件吗？尝试单击菜单的任何部分，div 是动画谢谢

示例网站 [http://planetpropaganda.com/](http://planetpropaganda.com/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:36:15.483

是的，有很多插件可以做到这一点。

你可以试试这个 - [http://joelb.me/scrollpath/](http://joelb.me/scrollpath/)

或者这个 - [http://kirkas.ch/ascensor/#/Home](http://kirkas.ch/ascensor/#/Home)

两个图书馆都可以完成这项工作。

# php - 托管 zend 框架项目后的问题

> ID：12436431
> 
> 赞同：1
> 
> 时间：2012-09-15T10:06:52.180
> 
> 标签：php, zend-framework, web-hosting

托管我的网站后，我遇到了一些配置问题。

> 警告：require_once (Zend/application.php) [function.require-once]：打开流失败：/ 中没有这样的文件或目录**/万维网/********** .com/public/index.php 第 22 行***

 ***我将 Zend Framewotk 库放在`www/library`

```
www/application/
www/library/     <--- Zend Framework
www/public/ 
```

但是在添加库之后会出现另一个问题：

> HTTP 错误 500（内部服务器错误）：服务器尝试完成请求时发生了意外情况。

脚本`public/index.php`

```
<?php
// Define path to application directory
defined('APPLICATION_PATH')
    || define('APPLICATION_PATH', realpath(dirname(__FILE__) . '/../application'));

// Define application environment
defined('APPLICATION_ENV')
    || define('APPLICATION_ENV', (getenv('APPLICATION_ENV') ? getenv('APPLICATION_ENV') : 'production'));

defined('TMP_PATH')
    || define('TMP_PATH', realpath(APPLICATION_PATH . '/../tmp/'));
// Ensure library/ is on include_path
set_include_path(implode(PATH_SEPARATOR, array(
    realpath(APPLICATION_PATH . '/../library'),
   APPLICATION_PATH . '/models',
   APPLICATION_PATH . '/models/generated',
    get_include_path(),
)));

/** Zend_Application */
require_once 'Zend/Application.php';  

// Create application, bootstrap, and run
$application = new Zend_Application(
    APPLICATION_ENV, 
    APPLICATION_PATH . '/configs/application.ini'
);

$application->bootstrap()
            ->run(); 
```

`$application->bootstrap()->run();`什么都不做

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T15:03:28.757

您是否为该新主机正确配置了 .htaccess？错误 500 通常是服务器错误，请尝试查看 .htaccess。

干杯，

雨果

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-17T13:01:49.167

> 警告：require_once (Zend/application.php) [function.require-once]：打开流失败：第 22 行 //www/ *** .com/public/index.php中没有这样的文件或目录

乍一看，这似乎是一个区分大小写的问题：`a`注意`Zend/application.php`.

但是，您`public/index.php`似乎包含正确的内容：

`require_once 'Zend/Application.php'`

和正确的实例化

```
$application = new Zend_Application(
    APPLICATION_ENV, 
    APPLICATION_PATH . '/configs/application.ini'
); 
```

所以自动加载器不需要尝试加载小写的类`a`。

您是否忠实地复制/粘贴了所有错误和代码？或者那里的某个地方可能存在转录错误？***

# c++ - math.h 和 cmath 之间的冲突？

> ID：12436432
> 
> 赞同：1
> 
> 时间：2012-09-15T10:07:24.067
> 
> 标签：c++

由于“歧义”，我无法编译。我有：

```
#include <cmath>
#include <math.h>

float q;
setActivacion(1/(1+pow(M_E,-q))); 
```

编译器说：ISO C++ 说这些是模棱两可的，即使第一个的最差转换比第二个的最差转换要好：

双 pow(double, double) 浮点 std::pow(float, float)

我尝试将直接十进制值插入 pow() 的参数中并且它有效。只是似乎很难接受一个变量。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:10:02.687

这是因为 C++ 标准库合并了 C 标准库 - math.h 和 cmath 应该是相同的，除了 cmath 将所有东西都放在`std::`命名空间中。所以不要同时包含它们——如果你使用的是 C++，你可能应该`#include <cmath>` **只包含**.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:32:13.450

错误消息告诉您应该传入两个浮点数或两个双精度数。你正在传递一个双精度和一个浮点数。

尝试`pow(M_E, static_cast<double>(-q))`

对于它的价值，我无法从 g++ (4.5.3) 中得到这个错误。即使我只包含两个标题之一（并且不管哪个），我也可以从 Comeau 中得到类似的错误。

可能是 gcc 的实现有一些细节，这意味着只有一个匹配的`pow`. 并且可能是在您的编译器上，仅包含一个标头或指定名称空间以`pow`消除歧义。但是，依靠依赖于实现细节的修复通常不是一个好主意。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T10:10:17.217

你可能`using namespace std;`在某个地方有一个，不是吗？您还可以指定您想要的版本，即`using std::pow`或`using ::pow`（内存中的语法，但希望您能理解）。

# haskell - printf 和不明确类型变量的问题

> ID：12436434
> 
> 赞同：1
> 
> 时间：2012-09-15T10:07:37.680
> 
> 标签：haskell, ambiguous, type-variables

我有一个有点模棱两可的类型变量问题。我喜欢haskell，但这确实是我仍然无法处理的。问题很简单，涉及到 Text.Printf 中的 printf。由于问题非常普遍，我将仅在一些示例代码中：

```
program = do
    d <- addd 4 8
    printf "%d" d

addd x y = return (x+y) 
```

当然 printf 是进口的。然后编译器在 Num 和 PrintfArg 之间给出了一个明显的、模棱两可的类型变量错误。我只是不知道在哪里适合正确的类型签名。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:13:13.540

有几个地方可以放置类型签名。首先， addd 具有最通用的类​​型（最通用的类​​型是（几乎总是）GHC 在您离开签名时推断的内容）：

```
addd :: (Monad m, Num a) => a -> a -> m a 
```

您可以通过给出明确的类型签名将其限制为仅适用于某种类型`addd`，以便它在参数中根本不是多态的，例如：

```
addd :: Monad m => Int -> Int -> m Int
-- or,
addd :: Monad m => Integer -> Integer -> m Integer 
```

或者，您可以在调用时告知 GHC 输入类型`addd`，例如：

```
d <- addd 4 (8 :: Integer) 
```

然后类型推断将推断出`4`并且`d`都是`Integer`s。

最后，你可以给出`d`一个类型。要么当你使用它（如果你`d`多次使用，你只需要一个注解），像这样：

```
printf "%d" (d :: Integer) 
```

或者当你设置它时（需要 GHC 扩展`ScopedTypeVariables`）：

```
{-# LANGUAGE ScopedTypeVariables #-}

[...]
add = do
    (d :: Integer) <- addd 4 8 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:12:57.213

我将尝试解释您的程序有什么问题。

*   尝试给出明确的类型签名，它有助于编译器推断类型，也有助于你更好地理解你的程序。
*   addd 是一个纯函数，所以不要使用 return。
*   返回不是您期望的来自命令式背景的内容。
*   `printf`毕竟你为什么需要使用`print`或者`putStrLn`如果你想输出到控制台。如果`show`要将类型（其`show`实例已定义）转换为字符串，请使用。

无论如何，这是您更正的程序

```
import Text.Printf

program :: String
program = do
    let d = addd 4 8
    printf "%d" d

addd :: Int -> Int -> Int
addd x y = x+y 
```

您可以使用`print`as编写它

```
program :: IO ()
program = do
    print $ addd 4 8

addd :: Int -> Int -> Int
addd x y = x+y 
```

尝试阅读一些有关[Haskell的介绍性材料](http://www.haskell.org/haskellwiki/Tutorials)

# html - 可变大小的表格中的文本溢出

> ID：12436439
> 
> 赞同：1
> 
> 时间：2012-09-15T10:08:37.077
> 
> 标签：html, css, css-tables

我正在寻找对 HTML/CSS 实现以下设计。

![](../Images/bf5e2e37670a162fde43f8874d8d347c.png)

我遇到了列中文本溢出的问题。目前表格列宽以百分比格式给出，因此列宽会根据屏幕大小而变化，但也有最小宽度。在第一个文本列中，您可以看到内容正在扩展，并且由于长度过长而产生了第二行。如何使用文本溢出来避免这个问题？或者任何其他解决方案？此外，当鼠标悬停时，您可以看到一组图标出现在同一行中。此时，图标下方的文字应隐藏，并应缩短，如设计所示。你能建议我解决这个问题吗？我试过了`text-overflow: ellipsis`. 但是当屏幕宽度发生变化时我遇到了问题。由于列宽可变，我没有最小宽度，如何缩短此字段中的文本？也在悬停的情况下？？

如果您想知道其他任何事情，请告诉我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:26:35.037

如果您不希望文本分成多行，请添加`white-space:nowrap`规则。然后，`max-width`为单元格设置 a。

对于图标，`position`它们位于`absolute`右侧，`z-index`高于文本。您还必须向`relative`包含单元格添加一个位置。为了让它们在文本中可见，我添加了背景颜色（和一些左填充）。

* * *

**编辑：修复 Mozilla**

Mozilla 似乎忽略`position:relative;`了 td 元素。要修复它，您必须将 td 内容包装在另一个 div 中，并应用此样式

```
.tables td {
    font-weight: 400;
    font-size: 13px;
    border-bottom: 1px solid #E1E1E1;
    line-height: 38px;
    text-align: right;
    white-space: nowrap;
    max-width: 200px; /* just an example */
}

.tables td > div {
    overflow: hidden;
    width:100%;
    position: relative;
}

.linkFunctions {
    display: none;
    padding-top: 14px;
    position: absolute;
    right: 0;
    z-index: 999;
    background-color: #FFF9DC;
    padding-left: 3px;
    width: 100%;
    max-width: 120px; /* just an example */
    text-overflow: ellipsis;
    overflow: hidden;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T10:25:18.457

这不完全是您想要的（关于省略号），但非常接近。

对于`<a>`里面的`<td>`添加

```
td a{
    display:block;
    overflow:hidden;
    width:100%;
    white-space:nowrap;
} 
```

（您可能需要向它们添加一个类以更轻松地定位它们，而不是 ALL `<a>`inside `<td>`）。

关于悬停。向右浮动`div.linkFunctions`，为其添加黄色背景，它看起来会相应地剪切文本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-05-21T00:27:18.990

所有这些都需要设置宽度，这不会使表格按预期流动。使用这个：http: [//jsfiddle.net/maruxa1j/](http://jsfiddle.net/maruxa1j/)

这使您可以自动将宽度设置`<td>`为百分比，并`:after`自动设置溢出的大小`<span>`

# javascript - 这两个jQuery用法有什么区别

> ID：12436441
> 
> 赞同：3
> 
> 时间：2012-09-15T10:08:40.790
> 
> 标签：javascript, jquery, html, logic, concept

我是一个 jquery 初学者，所以如果它是错误的，请原谅我:)

我只是想知道为什么将内容放在不同的位置会使这个脚本工作，尽管我认为脚本应该保存在`head`文档的部分中。请解释一下这个概念。

**工作代码**

```
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Example 2</title>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>

</head>

<body>

<p>
</p>

<script type="text/javascript">
jQuery("p").html("Check if jQuery Supports Ajax method : "+ jQuery.support.ajax );
</script>

</body>
</html> 
```

**不工作**

```
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Example 2</title>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript">
jQuery("p").html("Check if jQuery Supports Ajax method : "+ jQuery.support.ajax );
</script>
</head>

<body>

<p>
</p>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-15T10:11:14.643

在第二种情况下，代码在`<p>`被解析到 DOM 树之前执行，所以虽然它仍然可以工作，但没有地方可以将输出文本放入其中。换句话说，`jQuery("p")`不匹配任何元素，所以`.html()`“什么都不做”。

您可以通过等待 DOM 完全解析来解决此问题：

```
jQuery(function() {
    jQuery("p").html(...);
}); 
```

或者通过使用不依赖于`<p>`现有的输出机制，例如`alert()`或`console.log()`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-15T10:11:23.033

好吧，您的浏览器似乎首先加载`<head>`部分，因此在第二个示例中没有`p`元素。

在这两种情况下，您都应该将代码包装在`$(function(){ ... })`.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T10:13:20.340

如果将脚本放在`<body>`元素之前，它会在加载/解析 DOM 树之前执行。因此该`<p>`元素不存在且无法找到。你可以：

*   将脚本放在`<body>`标签之后（就像在您的第一个示例中一样）

*   `ready`或者您可以在事件触发后调用您的函数：

    ```
    $(document).ready(function() {
      jQuery("p").html("Check if jQuery Supports Ajax method : "+ jQuery.support.ajax );
    }); 
    ```

# mysql - SELECT Count(userid) 调整

> ID：12436442
> 
> 赞同：0
> 
> 时间：2012-09-15T10:08:55.700
> 
> 标签：mysql

我的陈述显示结果为

```
 userid    Count(userid)

  SELECT userid, COUNT( userid ) 
   FROM friends
   GROUP BY userid
   ORDER BY  `COUNT(userid)` DESC 
   LIMIT 0 , 30 
```

我在朋友表中还有 1 列“级别”需要在我的结果中添加它
如何调整我的语句

所以我的结果看起来像

```
 userid    Count(userid)   level 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:11:48.770

您可以尝试：

```
 SELECT userid, COUNT( userid ) AS cnt, level
   FROM friends
   GROUP BY userid
   ORDER BY cnt DESC 
   LIMIT 30 
```

# mysql - 无法从 mysqldump.exe 解析版本号

> ID：12436444
> 
> 赞同：1
> 
> 时间：2012-09-15T10:09:41.117
> 
> 标签：mysql, database, mysqldump, rdbms, mysql-workbench

每当我尝试在 mySQL 中导出数据库时，我都会收到错误消息“无法从 mysqldump.exe 解析版本号：'cmd.exe' 不被识别为内部或外部命令、可运行程序或批处理文件”。我想我在我的操作系统中更改了一些环境变量后得到了这个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-06-30T16:30:31.490

在我使用 Windows 7 x64 上的 MySql Workbench 6.3 的情况下，错误是由于错误的 python 代码造成的。以下是失败的：

```
C:\Program Files\MySQL\MySQL Workbench 6.3 CE\modules\wb_admin_control.py
Line 114:     s = re.match(".*Distrib ([\d.a-z]+).*", output) 
```

我修复了它，现在它可以工作了。蟒蛇万岁！作为一个非常懒惰/忙碌的人，我只是将返回值硬编码为 5.7.8，这是我当前运行的版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-29T19:00:30.790

你指的是MysqlWorkbench吗？当您升级到 Workbench 5.2.44 时会发生这种情况，这是由于一个错误 - 他们捆绑了错误版本的 mysqldump.exe。一个版本 5.2.45 已经悄然出现，并且修复了其中的错误。

# php - 创建一个约会数组，按日期排序（MySQL/PHP）

> ID：12436453
> 
> 赞同：1
> 
> 时间：2012-09-15T10:10:31.190
> 
> 标签：php, javascript, mysql

我正在建立一个网站，用户可以在其中预订约会。

我目前正在为该项目构建一个 javascript 应用程序，用户可以在其中从日历中选择一个日期并查看可用的约会。当我构建日历时，我需要按可用的约会为日期着色（例如，如果有的话，则为绿色）。

为此，我需要迭代一个包含所有可用预订的 javascript 数组。目前它看起来像这样：

**[对象，对象，对象...]**

其中对象是包含约会信息的 javascript 对象。这是为 JSON 提供服务的 php 服务：

```
<?php
require_once('../include/dbconnect.php');

$sql = "SELECT appointment.example,... 
person.example,... 
FROM appointment, person
WHERE appointment.reserved=0";

$stmt = $db->prepare($sql);
$stmt->execute();

$array = array();
while($row = $stmt->fetchObject()){
array_push($array, $row);
}

echo json_encode($array);
?> 
```

所以这最终把我们带到了这个问题上。

为了更轻松地进行 javascript 数组扫描，我需要一个数组/对象，包括按日期排列/排序的约会。然后，当我创建一个表示日期的元素时，我可以检查对象是否匹配数据。像这样的数据：

```
{
15.09.2012 : Object,
16.09.2012 : Object{
    appointment1 : Object,
    appointment2 : Object
} 
```

}

在数据库中，约会有一个属性“日期”，该属性当前是一个类似于“16.09.2012”的字符串。我还应该将其更改为 unix 时间戳吗？

我应该如何更改 PHP 服务以输出一个 JSON 对象，其中包括在日期下提交的约会？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:20:27.250

一种可能的解决方案是在 php 中使用关联数组：

```
$assoc = array("key" => "value"); 
```

当您获取数据库记录时，您可以执行以下操作：

```
$array = array();
while($row = $stmt->fetchObject()){
$array[$row -> date] = $row;
}

echo json_encode($array); 
```

对于排序，您可以使用`ksort`( [http://php.net/manual/en/function.ksort.php](http://php.net/manual/en/function.ksort.php) ) php 函数，按键对数组进行排序。

现在您将拥有一个 Javascript 对象而不是 Javascript 数组。现在您可以在 javascript 循环中使用 for .. 来迭代对象（[How to Loop through plain JavaScript object with objects as members?](https://stackoverflow.com/questions/921789/how-to-loop-through-javascript-object-literal-with-objects-as-members)）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:24:04.263

您可以尝试如下：

```
$sql = "SELECT appointment.example,... 
person.example,... 
FROM appointment, person
WHERE appointment.reserved=0 ORDER BY appointment.date_field ASC";

$stmt = $db->prepare($sql);
$stmt->execute();

$array = array();
while($row = $stmt->fetchObject()){
$array[$row->date_field][]=$row;
array_push($array, $row);
}

echo json_encode($array);
?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T11:14:39.510

您不需要构造由日期键组成的对象。反而：

1.  在当前结构中包含日期并按日期对数组进行排序：

    ```
    <?php
    require_once('../include/dbconnect.php');

    $stmt = $db->query('
      SELECT   DATE(appointment.datetime) AS date,
               appointment.datetime,
               appointment.reserved,
               appointment.example,     -- do you really want to send sensitive
               person.example           -- data about appointments to the browser?
      FROM     appointment JOIN person ON ...
      WHERE    appointment.reserved = 0 -- should this be = 1?
      ORDER BY appointment.datetime
    ');

    echo json_encode($stmt->fetchAll(PDO::FETCH_OBJ));
    ?> 
    ```

2.  然后在遍历数组时跳过匹配的日期：

    ```
    // loop over all dates displayed in calendar
    for (
      currentDate  = startDate, i = 0;
      currentDate <= endDate;
      currentDate.setDate(currentDate.getDate() + 1)
    ){

      // determine whether the current date is booked
      // and advance pointer to next date in array
      for (
        booked = false;
        i < arr.length && arr[i].date == currentDate;
        ++i
      ) booked |= arr[i].reserved;  // or just `booked = true` if query
                                    // returned only booked appointments

      // apply appropriate CSS to currentDate
      // ...
    } 
    ```

您甚至可以考虑通过首先返回一个仅包含预订日期的 JSON 数组来减少客户端开销（在这种情况下，上面的内部循环可以用一个简单的`if`语句替换）：

```
SELECT   DISTINCT DATE(appointment.datetime) AS date
FROM     appointment JOIN person ON ...
WHERE    appointment.reserved = 0 -- should this be = 1?
ORDER BY date 
```

然后，一旦用户选择了一个日期，就对该日期的预订进行进一步查询：

```
SELECT   appointment.datetime
FROM     appointment JOIN person ON ...
WHERE    appointment.reserved = 0 -- should this be = 1?
     AND DATE(appointment.datetime) = ?
ORDER BY appointment.datetime 
```

# android - 来回管理活动

> ID：12436455
> 
> 赞同：0
> 
> 时间：2012-09-15T10:10:59.993
> 
> 标签：android, android-intent, android-activity

当我在遍历活动时来回移动时，我想实施以下方法

`MainActivity`是入口点活动。此活动中的菜单打开`PreferenceActivity`

`PreferenceActivity`is 和显示首选项/设置并在其中一个首选项上单击它的活动将调用`HelpActivity`

`HelpActivity`包含应用程序的帮助。 ![在此处输入图像描述](../Images/a78420c62960e52b2a603b487f3b7629.png)

*注意：一旦我到达`MainApplication`并且如果我按回我想退出应用程序。

我试着`finish()`在我打电话的每一个意图后打电话，但这排除了案例#2

**更新**

当我到达`HelpActivity`CASE #1 并按下一个按钮时，我想去`MainActivity`并且所有其他活动都应该被清除

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T10:18:43.923

使用此方案。让我知道发生了什么..（只有伪代码实际可能不同）

**主要活动：**

```
1\. startActivityForResult(PreferenceActivity);

2\. onBackPressed()
  {
   finish();
  } 
```

**偏好活动：**

```
1\. startActivityForResult(HelpActivity);

2\. onActivityResult()
   {
    finish();
   }

3\. onBackPressed()
   {
    finish();
   } 
```

**帮助活动：**

```
1\. onBackPressed()
   {
    finish();
   } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T10:34:38.610

情况1：

主要活动 ：

```
public class MainActivity extends Activity implements View.OnClickListener {
button add;
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.youeLayout);
    add = (Button) findViewById(R.id.buttonIdName);
    add.setOnClickListener(R.id.buttonIdName)

public void onClick(View v) {
    // TODO Auto-generated method stub
    Intent data = new Intent(MainActivity.this,PreferenceActivity.class);
    startActivity(data);
} 
```

和 PreferenceActivity 的相同代码只需将 onClick() 方法更改为您想要的适当类

在 helpActivity: 添加 onBackPressed() 方法，如下所示：

```
public void onBackPressed() {
    // TODO Auto-generated method stub
    super.onBackPressed();
            Intent youeIntentName = new Intent(HelpActivity.this,MainActivity.class);
            startActivity(youeIntentName);
} 
```

案例#2：

当用户从 MainActivity 转到 PreferenceActivity 后按下返回时，您无需更改任何内容，他将返回 MAinActivity 等等

# c - 将c中的变量声明为全局变量或封装它们并使用getter和setter

> ID：12436456
> 
> 赞同：0
> 
> 时间：2012-09-15T10:11:04.840
> 
> 标签：c, scope, encapsulation, linkage

我已经开始使用 C 进行编程，总的来说，我正在寻找“最佳实践”来构建我的代码。

之前主要使用面向对象的语言，我开始采用这些语言的一些实践。

我的具体问题是：这段代码是否被认为是“可接受的”C 代码，或者我是否遇到了人们试图在 C 中使用封装的常见陷阱？

```
// A.h 
void setValue(int);
int getValue();

// A.c 
#include "A.h"

int my_private_value;

void setValue(int v)
{   
  my_private_value = v;
}   

int getValue(void)
{   
  return my_private_value;
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-15T10:33:06.970

迂腐：**C 中没有全局变量**。变量具有范围、存储持续时间和链接。对于这些都不存在“全球”资格。

那么，到底发生了什么？您的

```
int my_private_value; 
```

是具有*文件范围*和*外部链接*（以及*静态存储持续时间*）的变量。这种类型的链接意味着它可以从任何其他具有`extern int my_private_value`声明范围的文件中引用。为避免这种情况，变量必须具有*内部链接*。要声明具有内部链接的变量，请使用`static`关键字：

```
static int my_private_value; 
```

所以，如果你想听起来像个专业人士，每当你想说出“全局变量”时，深吸一口气，说出*带有文件范围和外部链接的对象*这个词。这会让你在所有 C 面试中大放异彩:-)

如果有人质疑您对缺乏“全局”变量的智慧，您甚至可以向他们证明这一点。全局变量无处不在，对吧？但是在 C 中，对象的范围直到它的声明才开始。由于缺少真正的全局变量，因此无法像在

```
 int *foo = &bar;   /* Doesn't work in C: bar is not (yet) in scope. */
 int bar = 42; 
```

当您交换两条线时，它*确实有效。*

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-15T10:17:30.943

我对您的代码所做的唯一更改是如何`my_private_value`定义。我将其定义为：

```
static int my_private_value; 
```

这可以防止外部代码模块声明`extern int my_private_value;`然后直接访问它。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-15T10:17:14.863

这没关系，但是您需要使变量`static`具有内部链接；现在的方式，其他文件中的代码将能够直接访问它。有关链接的更多信息以及它如何影响变量的可访问性，或者处理相同问题的[这个问题，请参阅](https://stackoverflow.com/questions/3525576/internal-linkage-with-static-keyword-in-c)[此内容。](http://publications.gbdirect.co.uk/c_book/chapter8/declarations_and_definitions.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-15T10:42:17.013

For the access and availability of the variable, others have already answered, but generally I'd say that you'd have to have good reasons for such a kind of interface. It does reduce the potential of the compiler to optimize the access to the object.

What is not *acceptable* in C is this declaration:

```
int getValue(); 
```

which in C isn't a prototype. It declares a function that may receive an unspecified number of arguments. Instead, use:

```
int getValue(void); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-15T10:14:16.377

我之前已经看到这是在 C 中完成的，直到你 1\. 不想成为线程安全的（实际上你**确实想要**）并使全局变量静态而不通过 a 公开它之前没有任何问题头文件。也就是说，使用全局变量是不好的做法，应该尽可能避免。

# javascript - 如何在 Windows 上安装 Parse.com 的“云代码”？

> ID：12436475
> 
> 赞同：5
> 
> 时间：2012-09-15T10:13:59.663
> 
> 标签：javascript, parse-platform

Parse.com 已经发布了他们的“云代码”JavaScript API，但没有关于在 Windows 上入门的说明。

您如何在 Windows 环境中启动和运行？

[https://parse.com/docs/cloud_code_guide](https://parse.com/docs/cloud_code_guide)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-16T13:39:04.957

这就是我为在 Windows 8 上运行 Parse.com Cloud Code 所做的工作。

*   安装 Python 2.7（解析不会告诉你这个）

*   [为 Windows](http://msysgit.github.com/)安装Git (Msysgit)

*   以管理员身份运行“Git Bash”，这将为您提供 bash 风格的命令行。

*   确保 Python 在 Git Bash 中运行...`python`

*   从这里您可以按照[Parse 说明](https://parse.com/docs/cloud_code_guide#started-installing)进行操作，但从他们给您的命令中删除 'sudo：

    `curl -s https://www.parse.com/downloads/cloud_code/installer.sh | /bin/bash`

从这里它对我有用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-30T05:59:23.250

我们上周发布了 Windows 命令行工具的正式版本。查看[http://blog.parse.com/2012/10/25/parse-command-line-tools-available-for-windows/](http://blog.parse.com/2012/10/25/parse-command-line-tools-available-for-windows/)

# android - 错误 Android SDK

> ID：12436478
> 
> 赞同：7
> 
> 时间：2012-09-15T10:14:15.340
> 
> 标签：android, sdk

我已经安装`Android SDK`并且工作正常，除了：对于其他项目，例如**Google USB 驱动程序**

我得到错误：

> 找不到文件：C:\Program Files (x86)\Android\android-sdk\temp\usb_driver_r07-windows.zip（访问被拒绝）。

文件夹 ...temp 在那里但为空。

怎么了？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-02T14:54:26.260

不要通过 Eclipse 使用 SDK 管理器。您可以从“开始”菜单中找到它并右键单击它并选择“以管理员身份运行”。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-07-01T12:18:53.723

此问题将通过以“以管理员身份运行”运行您的 IDE（Eclipse、Android Studio）来解决。

或者

将您的应用程序图标设置为始终以管理员身份运行应用程序。

[![在此处输入图像描述](../Images/3f9231c0a7adc445c1dd8541ee5bf7ad.png)](https://i.stack.imgur.com/EK0jw.png)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-07-10T19:27:57.570

右键单击，选择以管理员身份运行。它现在应该不会引起任何问题，安装应该可以正常工作。请参阅[问题 #72982 SDK Manager 安装在 C:\Program Files (x86) 中时无法更新，除非以管理员身份运行。](https://code.google.com/p/android/issues/detail?can=2&start=0&num=100&q=&colspec=ID%20Type%20Status%20Owner%20Summary%20Stars&groupby=&sort=&id=72982)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-15T10:17:05.310

我认为您必须将android SDK文件放在没有空格的路径中，因为eclipse无法读取该文件

试试看，给我你的反馈....

# java - 比较Java中的几个复杂列表

> ID：12436485
> 
> 赞同：0
> 
> 时间：2012-09-15T10:14:52.160
> 
> 标签：java, android, xml, eclipse, list

我目前正在为 Android 平台制作一个程序，但我需要一些帮助，我对 Java/Eclipse 还是很陌生。这是交易：该程序将具有的功能之一是允许您从按组排序的列表中选择项目（组形成自己的列表（如果您这样放置，则列表中的列表））和该程序需要从您选择的那些项目中列出一个列表。然后程序需要将该列表与一个或多个相同类型的列表进行比较，查看哪些项目是匹配的，并制作另一个这些匹配项目的列表。现在，由于我对使用 Java 和 SDK 编程真的很陌生，任何人都可以帮助我了解最好的方法吗？起始列表中需要有很多项目（超过 500 个），所以我应该将它们放在某种数据库中吗？还，

在此先感谢，因为这是我第一次发帖，如果我做错了什么，请见谅！:)

PS英语不是我的母语，但我希望我能很好地解释我的问题:)

编辑：哎呀！刚刚注意到我的数字弄错了。不是“500多”，而是几千多，对不起！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:18:16.120

*   500 件物品并不多 - 实际上是一些 ;-)
*   该`List`接口包含几个可以帮助您的方法，例如[retainAll](http://docs.oracle.com/javase/7/docs/api/java/util/List.html#retainAll%28java.util.Collection%29)：如果您编写`list1.retainAll(list2);`， list1 将包含调用之前 list1 和 list2 中的所有项目。

要获得更具体的答案，您需要提供一些代码来显示您想要实现的目标。

# php - 像来自 jquery for XML 的 Sizzle 之类的库

> ID：12436486
> 
> 赞同：1
> 
> 时间：2012-09-15T10:14:57.900
> 
> 标签：php, python, css, ruby, xml

这不是编程问题，而是：是否存在用于解析 XML 的库，使用诸如 Sizzle (jQuery) 之类的 CSS 选择器而不是 XPATH（在 python、ruby 或 php 中）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:19:39.740

我找到了一个[http://packages.python.org/cssselect/](http://packages.python.org/cssselect/)

# android - 为什么 Zoom 不能与谷歌地图一起使用？

> ID：12436488
> 
> 赞同：1
> 
> 时间：2012-09-15T10:15:03.453
> 
> 标签：android, google-maps

我正在关注本教程[，请在此处输入链接描述](http://mirnauman.wordpress.com/2012/02/14/android-google-maps-tutorial-part-4-adding-menu-some-additional-functionality-like-zooming-changing-map-view-animating-to-gps-current-location-using-menu-button/)。问题是它`mapView.setBuiltInZoomControls(true)`根本不起作用......但是当我使用它时`mapView.setClickable(true)`它就起作用了。但是然后我的`onTouch..`方法不会启动。这是完整的代码。

```
package com.emazdoor.gpsmap;

import java.util.List;

import android.app.AlertDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.graphics.BitmapFactory;
import android.graphics.Canvas;
import android.graphics.Point;
import android.location.Location;
import android.location.LocationListener;
import android.location.LocationManager;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuItem;
import android.view.MotionEvent;
import android.widget.Toast;

import com.google.android.maps.GeoPoint;
import com.google.android.maps.MapActivity;
import com.google.android.maps.MapController;
import com.google.android.maps.MapView;
import com.google.android.maps.Overlay;

public class GPSMap_Activity extends MapActivity {

    private LocationManager locationManager;
    public MyLocationListener locationListener;
    private MapView mapView;
    private MapController mapcontroller;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_gpsmap_);
        mapView = (MapView) findViewById(R.id.mapview);
        mapcontroller = mapView.getController();
        mapView.setBuiltInZoomControls(true);
//      mapView.setClickable(true);

        String coordinates[] = { "30", "71" };
        double latitude = Double.parseDouble(coordinates[0]);
        double longitude = Double.parseDouble(coordinates[1]);

        GeoPoint p = new GeoPoint((int) (latitude * 1E6),
                (int) (longitude * 1E6));

        mapcontroller.animateTo(p);
        mapcontroller.setZoom(7);
        mapView.invalidate();

        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
        locationListener = new MyLocationListener();
        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0,
                0, locationListener);

    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.menu, menu);
        return true;
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
        case R.id.my_location:
            Toast.makeText(GPSMap_Activity.this, "Moving to current Location",
                    Toast.LENGTH_LONG).show();
            locationListener.gpsCurrentLocation();
            return true;
        case R.id.mapview_setellite:
            Toast.makeText(GPSMap_Activity.this, "Satellite View",
                    Toast.LENGTH_LONG).show();
            if (mapView.isSatellite() == false)
                mapView.setSatellite(true);
            return true;
        case R.id.mapview_normal:
            Toast.makeText(GPSMap_Activity.this, "Normal View",
                    Toast.LENGTH_LONG).show();
            if (mapView.isSatellite() == true)
                mapView.setSatellite(false);
            return true;
        }
        return super.onOptionsItemSelected(item);
    }

    @Override
    protected boolean isRouteDisplayed() {

        return false;
    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        if (event.getAction() == 1) {
            GeoPoint p = mapView.getProjection().fromPixels((int) event.getX(),
                    (int) event.getY());
            Toast.makeText(GPSMap_Activity.this,
                    p.getLatitudeE6() / 1E6 + " " + p.getLongitudeE6() / 1E6,
                    Toast.LENGTH_LONG).show();
        }
        return true;
    }

    public class MyLocationListener implements LocationListener {

        private double tempLatitude, tempLongitude;

        public void onLocationChanged(Location location) {
            location.getLatitude();
            location.getLatitude();
            String text = "My current Location is:" + " Latitude= "
                    + location.getLatitude() + " Longitude= "
                    + location.getLongitude();

            Toast.makeText(GPSMap_Activity.this, text, Toast.LENGTH_LONG)
                    .show();

            if (location.getLatitude() == 71) {
                AlertDialog.Builder alertBox = new AlertDialog.Builder(
                        GPSMap_Activity.this);
                alertBox.setMessage("You have Entered in wrong place");
                alertBox.setNeutralButton("OK",
                        new DialogInterface.OnClickListener() {

                            public void onClick(DialogInterface dialog,
                                    int which) {
                            }
                        });
                alertBox.show();
            }

            tempLatitude = location.getLatitude();
            tempLongitude = location.getLongitude();

            this.gpsCurrentLocation();
        }

        public void gpsCurrentLocation() {
            String coordinates[] = { "" + tempLatitude, "" + tempLongitude };
            double latitude = Double.parseDouble(coordinates[0]);
            double longitude = Double.parseDouble(coordinates[1]);

            GeoPoint p = new GeoPoint((int) (latitude * 1E6),
                    (int) (longitude * 1E6));

            mapcontroller.animateTo(p);
            mapcontroller.setZoom(7);

            MyMapOverlay marker = new MyMapOverlay(p);
            List<Overlay> listofover = mapView.getOverlays();
            listofover.clear();
            listofover.add(marker);

            mapView.invalidate();

        }

        public void onProviderDisabled(String provider) {
            // TODO Auto-generated method stub

        }

        public void onProviderEnabled(String provider) {
            // TODO Auto-generated method stub

        }

        public void onStatusChanged(String provider, int status, Bundle extras) {
            // TODO Auto-generated method stub

        }

    }

    public class MyMapOverlay extends Overlay {

        GeoPoint locationGeo = null;

        public MyMapOverlay(GeoPoint location) {
            this.locationGeo = location;
        }

        @Override
        public void draw(Canvas canvas, MapView mapView, boolean shadow) {
            super.draw(canvas, mapView, shadow);

            Point screenPoint = new Point();
            mapView.getProjection().toPixels(this.locationGeo, screenPoint);

            canvas.drawBitmap(BitmapFactory.decodeResource(getResources(),
                    R.drawable.ic_delete), screenPoint.x, screenPoint.y, null);
        }

    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:08:18.393

```
Use Touch Event in MapOverlay class.

 public class MyMapOverlay extends com.google.android.maps.Overlay
{ 

            GeoPoint locationGeo = null; 

            public MyMapOverlay(GeoPoint location)
            { 
                this.locationGeo = location; 
            } 

            @Override 
            public void draw(Canvas canvas, MapView mapView, boolean shadow) { 
                super.draw(canvas, mapView, shadow); 

                Point screenPoint = new Point(); 
                mapView.getProjection().toPixels(this.locationGeo, screenPoint); 

                canvas.drawBitmap(BitmapFactory.decodeResource(getResources(), 
                        R.drawable.ic_delete), screenPoint.x, screenPoint.y, null); 
            } 

     @Override 
        public boolean onTouchEvent(MotionEvent event) { 
            if (event.getAction() == 1) { 
                GeoPoint p = mapView.getProjection().fromPixels((int) event.getX(), 
                        (int) event.getY()); 
                Toast.makeText(GPSMap_Activity.this, 
                        p.getLatitudeE6() / 1E6 + " " + p.getLongitudeE6() / 1E6, 
                        Toast.LENGTH_LONG).show(); 
            } 
            return true; 
        } 

        } 

In Xml:

<com.google.android.maps.MapView
        android:id="@+id/mapView"
        android:layout_width="fill_parent"
        android:layout_height="250dip"
        android:layout_alignParentLeft="true"
        android:apiKey="@string/Google_Api_key"
        android:clickable="true" >

    </com.google.android.maps.MapView> 
```

# ios - 除了 MVC，iOS 上还使用了哪些设计模式？

> ID：12436497
> 
> 赞同：49
> 
> 时间：2012-09-15T10:16:11.567
> 
> 标签：ios, objective-c, swift, architecture

我需要了解除 MVC 之外的 iPhone 开发中使用的设计模式。

请回复任何示例解释或带有代码片段的示例。

谢谢。

* * *

## 回答 #1

> 赞同：108
> 
> 时间：2012-09-15T10:24:27.707

## [抽象工厂](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW32)

抽象工厂模式提供了一个接口，用于创建相关或依赖对象的系列，而无需指定它们的具体类。客户端与从工厂获得的具体对象的任何细节解耦。

## [适配器](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW35)

适配器设计模式将一个类的接口转换为客户期望的另一个接口。Adapter 让那些因为接口不兼容而无法协同工作的类。它将客户端与目标对象的类分离。

## [责任链](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW25)

责任链设计模式通过为多个对象提供处理请求的机会，将请求的发送者与其接收者分离。该模式将接收对象链接在一起，并沿链传递请求，直到对象处理它。链中的每个对象要么处理请求，要么将其传递给链中的下一个对象。

## [命令](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW14)

命令设计模式将请求封装为对象，从而让您可以使用不同的请求、队列或日志请求参数化客户端，并支持可撤消的操作。请求对象将特定接收器上的一个或多个操作绑定在一起。命令模式将发出请求的对象与接收和执行该请求的对象分开。

## [合成的](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW15)

复合设计模式将相关对象组合成树结构来表示部分-整体层次结构。该模式允许客户统一处理单个对象和对象组合。Composite 模式是 Model-View-Controller 聚合模式的一部分。

## [装饰器](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW43)

装饰器设计模式动态地为对象附加额外的职责。装饰器为扩展功能提供了一种灵活的替代子类的方法。与子类化一样，装饰器模式的改编允许您在不修改现有代码的情况下合并新行为。装饰器包装其行为扩展的类的对象。它们实现与它们包装的对象相同的接口，并在将任务委托给包装对象之前或之后添加自己的行为。装饰者模式表达了类应该对扩展开放但对修改关闭的设计原则。

## [正面](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW47)

外观设计模式为子系统中的一组接口提供统一的接口。该模式定义了一个更高级别的接口，通过降低复杂性和隐藏子系统之间的通信和依赖关系，使子系统更易于使用。

## [迭代器](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW50)

迭代器设计模式提供了一种顺序访问聚合对象（即集合）的元素而不暴露其底层表示的方法。迭代器模式将访问和遍历集合元素的责任从集合本身转移到迭代器对象。Iterator 定义了一个用于访问集合元素的接口并跟踪当前元素。不同的迭代器可以执行不同的遍历策略。

## [调解员](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW28)

中介者设计模式定义了一个对象，该对象封装了一组对象如何交互。Mediator 通过阻止对象显式地相互引用来促进松散耦合，并且它允许您独立地改变它们的交互。因此，这些对象可以保持更多的可重用性。此模式中的“中介对象”集中了系统中对象之间的复杂通信和控制逻辑。这些对象在其状态发生变化时通知中介对象，进而响应来自中介对象的请求。

## [纪念](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW54)

Memento 模式在不违反封装的情况下捕获并外部化对象的内部状态，以便以后可以将对象恢复到该状态。Memento 模式将关键对象的重要状态保持在该对象外部以保持内聚。

## [观察者](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW20)

观察者设计模式定义了对象之间的一对多依赖关系，这样当一个对象改变状态时，它的所有依赖关系都会自动得到通知和更新。观察者模式本质上是一个发布订阅模型，其中主体和它的观察者是松耦合的。可以在观察对象和被观察对象之间进行通信，而无需对对方了解太多。

## [代理](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW17)

代理设计模式为另一个对象提供代理或占位符，以控制对另一个对象的访问。您可以使用此模式创建一个代表或代理对象，以控制对另一个对象的访问，该对象可能是远程的、创建成本高昂或需要保护。这种模式在结构上类似于装饰器模式，但它的用途不同；装饰器向对象添加行为，而代理控制对对象的访问。

## [接待员](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW106)

接待员设计模式解决了将应用程序的一个执行上下文中发生的事件重定向到另一个执行上下文进行处理的一般问题。这是一种混合模式。虽然它没有出现在“四人帮”一书中，但它结合了该书中描述的命令、备忘录和代理设计模式的元素。它也是 Trampoline 模式的变体（书中也没有出现）；在此模式中，事件最初由蹦床对象接收，之所以如此称呼，是因为它会立即将事件反弹或重定向到目标对象进行处理。

## [辛格尔顿](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW66)

单例设计模式确保一个类只有一个实例，并提供一个全局访问点。该类跟踪其唯一实例并确保不能创建其他实例。单例类适用于单个对象提供对全局资源的访问有意义的情况。

## [模板法](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW26)

模板方法设计模式定义了操作中算法的骨架，将一些步骤推迟到子类。模板方法模式允许子类在不改变算法结构的情况下重新定义算法的某些步骤。

**来源：** [可可设计模式](http://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html#//apple_ref/doc/uid/TP40002974-CH6-SW6)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-11-06T03:49:53.143

在现实世界的应用程序中，代码库会随着时间的推移而变得复杂，最终会得到大量的视图控制器，这些控制器很难测试和维护。解决方案是使用[MVVM](https://www.objc.io/issues/13-architecture/mvvm/)，它是 MVC 自身的更好替代方案。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-07-29T18:06:35.663

在您的应用程序中使用 MVVM 设计模式与您将在项目中执行以在视图上显示一些内容的业务逻辑相关。如果您的视图不需要更多逻辑来显示其内容，您可以使用 MVC，但是如果您必须创建一些业务逻辑来在视图上显示这些内容，那么在这种情况下，最佳实践是将此逻辑分离到另一层，以便 MVVM在这种情况下会更好，MVVM中的ViewModel会包含这个逻辑。

由于这些原因，我认为 MVVM 在关卡设计上优于 MVC

*   MVVM 与您现有的 MVC 架构兼容。
*   MVVM 使您的应用程序更具可测试性。
*   MVVM 最好使用绑定机制。

**MVVM 如何与 MVC 兼容**

*   MVC > 模型、视图、控制器
*   MVVM > 模型,视图,ViewModel > 模型,(ViewController),ViewModel

# asp.net-mvc-4 - Visual Studio 2012 和 MVC4 包查询

> ID：12436501
> 
> 赞同：1
> 
> 时间：2012-09-15T10:16:23.600
> 
> 标签：asp.net-mvc-4, visual-studio-2012

如果我在 VS2012 中创建一个 MVC4 项目，它会创建一个包文件夹，其中对 MVC4 dll 的引用指向。

为什么它会创建这个，因为 MVC4 是作为 VS2012 的一部分安装的？

这些程序集位于@“C:\Program Files (x86)\Microsoft ASP.NET\ASP.NET MVC 4\Assemblies”，我希望路径指向这个位置。

例如，当我添加对 System.Web.Http.SelfHost 的引用时，路径是“C:\Program Files (x86)\Microsoft ASP.NET\ASP.NET MVC 4\Assemblies”并且它没有添加到包文件夹中.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T18:05:02.553

从 MVC 4 开始，我们采用了一种通过 NuGet 包引用二进制依赖项的方法。使用 NuGet 包意味着您可以更轻松地发现和下载您所依赖的二进制文件的新版本。此外，使用包意味着二进制文件被引用为“CopyLocal=true”（又名 bin 引用），这意味着部署应用程序更容易，并且您不必依赖安装了正确框架集的目标服务器；它们都在您应用的 bin 文件夹中。

# background - 指南针精灵背景颜色

> ID：12436502
> 
> 赞同：0
> 
> 时间：2012-09-15T10:16:29.197
> 
> 标签：background, sprite, compass-sass, sass

指南针可以生成具有纯色背景的精灵吗？

我的意思是没有阿尔法通道。

我想要白色背景来减小文件大小。

[看看我想要什么](http://minus.com/lb1IZXN3fe4aKq)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T12:05:26.000

我所做的是设置精灵，然后设置背景颜色，如下所示：

```
.i-facebook {
   @include home-sprite(i-facebook, false, 20px, 20px);
   background-color: $blue;
} 
```

你会得到的是：[http ://d.pr/i/8yme](http://d.pr/i/8yme)

*注意：我在精灵上使用 20px 间距。*

*如果有更好的方法，我会很感兴趣。*

# debugging - Erlang dbg – 使用远程 shell 调试生产 OTP 系统

> ID：12436509
> 
> 赞同：0
> 
> 时间：2012-09-15T10:17:08.557
> 
> 标签：debugging, erlang, erlang-otp

我有一个基于 OTP 的 Erlang 应用程序，它的行为似乎很奇怪。

我想连接到 erlang shell 并准确跟踪正在发生的事情。我可以对 dbg:tracer()、dbg:tp() 等进行所有调用，但没有任何输出发送到我的 shell。

我认为这可能是因为我通过远程外壳连接。

但是，当我调用 dbg:n(wiwob@vlxd38-wob) 时。我收到一个错误：

```
** exception error: bad argument in an arithmetic expression
     in operator  -/2
        called as wiwob@vlxd38 - wob 
```

如何找出输出发送到哪个 shell 并将其通过管道传输到我的 shell？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-16T20:57:23.647

to 的参数`dbg:n/1`必须是原子而`wiwob@vlxd38-wob`不是原子，它需要引用 like `'wiwob@vlxd38-wob'`。有关 atom 的语法和其他数据类型，请参阅[Atoms](http://www.erlang.org/doc/reference_manual/data_types.html#id67764)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-16T17:58:48.340

我无法帮助您解决 dbg 问题，您没有提供有关如何将调试器连接到进程、模块的足够信息......

对于第二点，错误是不言自明的，解析表达式 wiwob@vlxd38-wob，shell 尝试执行

wiwob@vlxd38 减去 wob，这对于 2 个原子是不可能的。

函数 dbg:n/1 具有以下规格：

```
n(Nodename) -> {ok, Nodename} | {error, Reason}
Nodename = atom()
Reason = term() 
```

所以你必须将你的节点名称写为'wiwob@vlxd38-wob'，以强制整个表达式为单个原子。

# c++ - 静态类现实生活意义

> ID：12436511
> 
> 赞同：-1
> 
> 时间：2012-09-15T10:17:15.573
> 
> 标签：c++, oop, class, static

我读了很多关于静态关键字的内容，我只找到了静态变量，静态函数，但没有讨论静态类，请你解释一下。

*   为什么我们在 C++ 中使用静态类？
*   为什么我们要引入这种类型的类？
*   给出静态类的物理意义？
*   给出静态类的真实例子？
*   如果有任何限制，那么告诉我什么？

我在等你的回复。提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-15T10:19:11.130

C++ 中没有静态类。`static`指存储类，即它适用于对象或函数，而不适用于数据类型。

在 Java 中`static class`，当应用于嵌套在其他类中的类时，意味着嵌套类可以独立于封闭类的任何实例进行实例化。在 C++ 中，情况*总是*如此。C++ 中的嵌套类始终是独立的数据类型。

这就是我的意思：首先让我们看一下这段Java代码：

```
public class A {
  public class B {
  }

  public static void main(String[] args)
  {
    A.B b1 = new A.B();  // <-- This is ill-formed, because A.B is not
                         //     an independent data type

    A a = new A();
    A.B b2 = a.new B();  // <-- This is correct. Use an instance of A to
                         //     create an object of type A.B.
  }
} 
```

它定义了一个类`A`和一个嵌套类（即成员类或子类）`A.B`。主程序的第二行显示了如何**不能**实例化类型为 的对象`A.B`。您不能这样做，因为`B`它是 的成员类，`A`因此需要实例化*现有类型的对象`A`*。主程序的第三行显示了这是如何完成的。

为了能够直接实例化一个类型的对象`A.B` *（*独立于任何类型的实例`A`），您必须创建`B`一个*静态*成员类`A`：

```
public class A {
  public static class B {   // <---- I inserted 'static'
  }

  public static void main(String[] args)
  {
    A.B b1 = new A.B();  // <-- This is now well-formed

    A a = new A();
    A.B b2 = a.new B();  // <-- This is now ill-formed.
  }
} 
```

**另一方面，在 C++ 中**这不是必需的，因为在 C++ 中，成员类始终是独立的数据类型（在某种意义上，不需要封闭类的实例来创建嵌套类的实例）：

```
class A
{
public:
  class B
  {
  };
};

int main()
{
  A::B b;   // <--- Perfectly well-formed instantiation of A::B
  return 0;
} 
```

# javascript - 为什么我不能在客户端获得“sessionid”？

> ID：12436521
> 
> 赞同：6
> 
> 时间：2012-09-15T10:18:44.927
> 
> 标签：javascript, django, session, cookies, client-side-scripting

我登录到 django 管理员。当我打开*firebug* JS 控制台并尝试打印 cookie 时，`document.cookie`我只得到`csrftoken`cookie。但是当我打开 Firefox 首选项 > 隐私 > 删除 cookie... 时，我可以看到`sessionid`cookie。

如何在客户端获得它？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-15T10:41:52.833

您无法访问会话 cookie，因为它默认设置为 HTTPOnly。（您可以使用 Firebug 看到它（Resources->Cookies->sessionid 的 HTTP 列已选中））

从[文档](https://docs.djangoproject.com/en/dev/ref/settings/#session-cookie-httponly)复制：

> ```
> SESSION_COOKIE_HTTPONLY
> Default: True
> 
> Whether to use HTTPOnly flag on the session cookie. 
> If this is set to True, client-side JavaScript will not to 
> be able to access the session cookie. 
> ```

`SESSION_COOKIE_HTTPONLY = False`如果您真的想从客户端代码访问它，您可以在您的 settings.py 中设置：尽管如此，这不是推荐的做法。

# ios - 使用 ImageView iOS 滚动图像

> ID：12436524
> 
> 赞同：2
> 
> 时间：2012-09-15T10:19:21.650
> 
> 标签：ios, imageview

我正在尝试为餐厅制作一个应用程序，并将食物菜单显示为可滚动的图像。图像是从配置文件中提取的。

```
- (void)viewDidLoad
{
    [super viewDidLoad];
    // back button
    UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
    [button setImage:[UIImage imageNamed:@"btn-back.png"] forState:UIControlStateNormal];
    button.frame = CGRectMake(0.0f, 0.0f, 46.0f, 28.0f);
    [button addTarget:self action:@selector(back) forControlEvents:UIControlEventTouchUpInside];
    UIBarButtonItem *customBarItem = [[UIBarButtonItem alloc] initWithCustomView:button];
    self.navigationItem.leftBarButtonItem = customBarItem;
    [customBarItem release];

    [self setTitle:[menu objectForKey:@"title"]];
    [scrollView2 setScrollEnabled:YES];

    NSString *imageName = [menu objectForKey:@"imageName"];
    if (![imageName isEqualToString:@""]) {
        UIImage *image = [UIImage imageNamed:imageName];

        [imageView setImage:image];
        [scrollView2 addSubview:imageView];
        [imageView release];
    }
    [textView setText:[menu objectForKey:@"description"]];
} 
```

截至目前，图像不会滚动，而是显示为静态图像。任何人都可以帮我修改此代码，以便用户可以垂直滚动图像。非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:25:04.200

您应该使用 a`UIScrollView`并将其添加`UIImageView`为 contentView 的子视图。然后将scrollview的contentsize设置为imageviews的大小。

```
[imageView setImage:image];
[scrollView2.contentView addSubview:imageView];
[scrollView2  setContentSize:image.frame.size];
[imageView release]; 
```

目前没有要测试的 Mac，但这应该可以。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T15:20:04.880

我基本上同意西加写的。您的 imageView 必须是 scrollView 的子视图。然后，别忘了设置scrollView的contentSize & minimum&maximumZoomScale & 和imageView的frame：

```
self.scrollView.contentSize = self.imageView.image.size;
self.imageView.frame = CGRectMake(0, 0, self.imageView.image.size.width, self.imageView.image.size.height);

self.scrollView.minimumZoomScale = // some number between 0 and 1, default is 1, so no zoom
self.scrollView.maximumZoomScale = // some number larger than 1, default is 1, so no zoom
self.scrollView.zoomScale = 1 // starting zoom scale 
```

放置此代码的好地方是

```
-(void)viewWillLayoutSubviews{} 
```

因此，它会在每次视图出现以及设备旋转时执行。

# msbuild - 如何在不需要 IIS 参与的情况下在本地或远程部署 msbuild zip 包

> ID：12436525
> 
> 赞同：7
> 
> 时间：2012-09-15T10:19:24.437
> 
> 标签：msbuild, msdeploy, web-deployment, msbuild-4.0, continuous-deployment

我正在创建一个应用程序以实现应用程序部署的自动化（https://github.com/twistedtwig/AutomdatedDeployments#readme）。

这个想法是一切都在源代码控制、应用程序文件、应用程序配置以及 IIS 配置中。我的应用程序允许在构建到开发机器之后自动部署解决方案（将构建后设置添加到 sln / proj 文件）。它将允许 CI 服务器自动部署到其机器进行测试，以及 CI 服务器将成功的构建推送到 QA / 测试 / 生产服务器。我遇到的 msdeploy 问题之一是要求事先使用网站/应用程序设置 IIS（我的应用程序正试图解决这个问题）。

到目前为止，我可以通过配置文件自动创建、更新和删除应用程序池、网站和应用程序。我可以很好地同步文件和文件夹。最后一步是使用 msbuild 中的 /target:package 开关为 Web 部署创建干净的文件结构。例如，我会运行如下命令：

```
msbuild.exe myMvcSite.csproj /target:clean /target:package /p:Configuration=Release /p:_PackageTempDir=C:\websites\mySite  /p:PackageLocation=C:\dropLocation\mySite.zip 
```

这将创建一个不错的 zip 文件，其内部文件路径为“C_C\wbesites\mySite”（据我所知），可以同步到生产服务器。

我的问题是我如何部署这个 zip 文件。我希望它独立于任何 IIS 信息，即我只是将文件/文件夹推送到某个位置（在本地机器上供开发人员使用，或远程用于测试等）。使用应用程序池和站点等设置 IIS 将单独处理。我尝试过的一些命令（及其输出）如下：

```
"C:\Program Files\IIS\Microsoft Web Deploy v2\msdeploy.exe" -verb:sync -source:package="C:\Temp\deploy\installer\test\testPackage.zip" -dest:auto
Info: Adding sitemanifest (sitemanifest).
Error: The application pool that you are trying to use has the 'managedRuntimeVersion' property set to 'v2.0'. This application requires 'v4.0'.
Error count: 1. 
```

和

```
"C:\Program Files\IIS\Microsoft Web Deploy v2\msdeploy.exe" -verb:sync -source:package="C:\website\installer\testPackage.zip" -dest:contentpath=C:\temp\mytest
Error: Source (sitemanifest) and destination (contentPath) are not compatible for the given operation.
Error count: 1. 
```

第一个命令我试图让它解压具有它所具有的结构的文件。不过，它似乎对应用程序池的东西感到不安（我不希望它碰它）。

第二个我试图绕过“自动”位，但这也不开心。

我正在努力寻找有关此过程的大量信息。

目前我能看到如何实现这一目标的唯一方法是不使用 msdeploy ，而是创建我自己的任务来集成文件结构并同步我自己的文件（不理想）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-23T11:34:09.993

我最终围绕这个问题进行编码，而不是能够解决它。

我拿了 zip 包：

1.  在临时位置解压缩
2.  找到最终路径（通常来自archive.xml）
3.  检查我是否正在合并文件夹或进行全新安装（即我是否首先删除目标文件夹）。
4.  将文件复制/推送到结束位置（通常使用 msdeploy）。

我为此开源了我的解决方案：[https ://github.com/twistedtwig/AutomatedDeployments](https://github.com/twistedtwig/AutomatedDeployments)

# sql-server - 用于生成每日报告的电子邮件作业调度程序查询

> ID：12436526
> 
> 赞同：1
> 
> 时间：2012-09-15T10:19:30.857
> 
> 标签：sql-server, sql-server-2008, tsql

> > **我有一个作业调度程序，假设根据 20 个不同的部门向 20 个不同的 id 发送每日收集报告。每个部门将仅收到该特定部门的 1 份报告。这是我提出的问题。**

```
DECLARE @xml NVARCHAR(MAX)
DECLARE @body NVARCHAR(MAX)

SET @xml = CAST((select tm.name as 'td','',h.name as 'td','',h.account_number AS 'td','', 
SUM(bc.total_amount)  AS 'td'  
FROM MJP.dbo.tbl_bank_collection bc,  
MJP.dbo.tbl_div_type_master tm,  
MJP.dbo.tbl_div_header h  
where   bc.type_id = tm.id    
and bc.header_id = h.id    
and bc.transaction_date = '06-12-2012'   
and bc.div_id in ( select d.id    
from tbl_div d, tbl_bank_collection bc    
where bc.div_id = d.id    
group by d.id)    
group by tm.name, h.name,h.account_number with rollup    
having grouping(h.name) = 1 or    
GROUPING(h.account_number) = 0     
FOR XML PATH('tr'), ELEMENTS ) AS NVARCHAR(MAX))   
SET @body ='<html><i>Collection Report</i>    
<body bgcolor=red><table border = 1><tr><th>Type Name    
<th>Header Name</th><th>Account Number</th>    
<th>Total Amount</th></tr>'     
SET @body = @body + @xml +'</table></body></html>'   
EXEC msdb.dbo.sp_send_dbmail    
@profile_name='alkesh mail',    
@body_format ='HTML',    
@recipients='id.no1@yahoo.com;id.no2@yahoo.com',    
@subject='Daily Report',    
@body=@body    

---------------------------------------------------------------------------------------- 
```

现在我想在计算特定部门的最终总金额后拆分报告，并且应该为下一个部门的 id 生成下一个报告。

任何建议或澄清！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T11:06:26.517

我假设您在 SQL Server 中受到商业政治的限制，因为连接 XML 电子邮件报告***并不是***SQL Server 的设计目的。

就我个人而言，我将拥有一个服务可执行文件（Windows 服务，或者只是一个由任务调度程序调用的控制台应用程序，等等），其代码（例如 C#）：

1.  *仅从*SQL Server获取数据，传递一个 DivisionId 参数以获取该部门*的*报告。

2.  打开 XML 模板文件并插入数据。

3.  从 SQL Server 请求该部门的用户列表，并向列表中的每个人发送电子邮件。

4.  对每个部门重复。

说了这么多，您只需使用存储过程就可以做到这一点，使用循环。您可以使用游标（糟糕），但我总是更喜欢这些结构：（注意。在 RDBMS 中循环是真正要避免的事情，这在很大程度上取决于您的特定情况）

```
declare @divisionId int = (select min(divisionId) from tbDivisions)
declare @userId int = ( min(userId) from users where divisionId = @divisionId )
declare @xml nvarchar(max)

while divisionId is not null
begin
    exec your_report_stored_procedure @division = @divisionId, output @xml = @xmlOut

    while @userId is not null
    begin
        exec your_email_tored_procedure @userId = @userId, @xmlIn = @xml
        select @userId = min(userId) from users where divisionId = @divisionId and userId > @userId
    end

    select @divisionId = min(divisionId) from tbDivisions where divisionId > @divisionId
end 
```

# c# - 如何像在 Eclipse (java) 中一样在 Visual Studio c# 中自动提取引用

> ID：12436527
> 
> 赞同：5
> 
> 时间：2012-09-15T10:19:33.993
> 
> 标签：c#

有没有办法配置 Visual Studio，以便智能自动插入“使用”语句（引用类库），就像在 Eclipse（Java）中一样？

此功能非常有用，因为 Visual Studio 仅通知您缺少参考但没有显示任何建议？

我是视觉工作室的新手。帮助将不胜感激。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-15T10:22:10.217

将插入符号放在刚刚键入的类型声明上，按 CTRL + ALT + F10 会出现一个上下文菜单，提供添加 using 语句。显然（见JohnD的回答） CTRL + 。也可以，我刚试过，很酷，我们每天都学到新东西！

编辑

哎呀！抱歉，应该是：SHIFT + ALT + F10

![在此处输入图像描述](../Images/29cdea12d3df904b0c5c05688744e5dc.png)

当然，这依赖于项目中引用的相关 dll 程序集

![在此处输入图像描述](../Images/3026eb5b0b2c55745e2803c78dd4c6a5.png)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-09-15T10:22:00.300

如果您选择未解析的表达式，然后点击`CTRL`+ `.`（控制句点），它将弹出一个上下文菜单以添加 using 语句。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T10:27:29.663

CTRL+。将采取一些方法来重现该功能。另一种选择是通过扩展应用程序，[Resharper](http://www.jetbrains.com/resharper/features/coding_assistance.html#Importing_Namespaces)非常适合，并且可以为您添加对您项目的引用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T10:25:35.553

有一些扩展可以做到这一点。这是其中之一：

[Visual Studio 2010 的快速添加参考扩展](http://www.grumpydev.com/2010/10/13/quick-add-reference-extension-for-visual-studio-2010/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-06-22T16:00:27.603

[![用户界面](../Images/c835513a1a7d3cc2c5542b3a6f08cdf0.png)](https://i.stack.imgur.com/uGVnb.png)

在 Visual Studio 2019 版本 16.1 之后，此功能有一个内置选项。

在工具 > 选项 > 文本编辑器 > C# > Intellisense 中打开此选项。

对不起中文用户界面。

# android - 更改文本视图的字体

> ID：12436529
> 
> 赞同：2
> 
> 时间：2012-09-15T10:20:24.443
> 
> 标签：android

我有一个 ListView，我想做的就是更改字体。我已经将我的字体下载到 assets/fonts 文件夹中。

如果我理解正确，我应该重写适配器..

这是我的代码：

```
onCreate....

Typeface font1 = Typeface.createFromAsset(getAssets(), "fonts/english.ttf");
font1 = Typeface.create(font1, Typeface.BOLD);

TextView customText = (TextView)findViewById(R.id.ListTextView);
customText.setTypeface(font1);

    HashMap<String,String> contentItem = new HashMap<String,String>()
            {
                {
                put(NAME_FIELD,"dudi");                 
                }
            };              
            content.add(contentItem);

            SimpleAdapter adapter = new SimpleAdapter(this,
            content,  
            R.layout.show_the_list,   
            new String[]{NAME_FIELD},
            new int[]{R.id.ListTextView}   );

            ListView list1 = (ListView) findViewById(R.id.list);

            list1.setAdapter(adapter); 
```

xml文件：

```
<TextView
    android:id="@+id/ListTextView"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textSize="40dip"
    android:textColor="@color/White" >
</TextView> 
```

如果有人可以向我展示我需要添加或更改的代码，那就太好了！谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T10:25:05.383

实际上，当您在**SimpleAdapter**`R.id.ListTextView`中用作参数时，Adapter 直接访问它以创建 View，因此每次都是新的，而不是您在Activity 中定义的，所以要么使用**自定义 TextView**并在 XML 中添加字体，然后在**SimpleAdapter**或 Write **CustomAdapter**中将其用作参数，并在其中使用 View inflater 重新定义 TextView 并在此方法中设置字体字体。 **`onCreate()`******`getView()`********

# php - 用于替换 %s 的 mysql 查询

> ID：12436531
> 
> 赞同：0
> 
> 时间：2012-09-15T10:20:35.860
> 
> 标签：php, mysql, regex, replace

我在数据库中有很多值，其中包含 %s。我已经用 PHP 编写了一个代码来替换它们，但是我需要一个查询。这可以在查询中完成吗？

我的价值观就像 **需求超出了所有`%s`预期，不幸的是，我们无法`%s`在我们之前的电子邮件中规定的时间范围内运送您的配件。`%s`我们希望您的订单在`%s`.**

它可以有多个 %s 实例。我想将它们替换为 %1$s 用于第一次并发 %2$s 用于第二次并继续。

我在我的代码中使用了正则表达式

```
if(preg_match_all('/(%s)/', $val, $match)) 
```

在一个循环中我这样做了

```
echo $val =str_replace("%s",'%'.++$j.'$s',$val,$count); 
```

但这一切都可以通过一个查询来完成吗？更不用说优化了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T14:39:14.623

您确定要执行此操作吗？您的数据库似乎包含旨在用作[`sprintf()`](http://php.net/manual/en/function.sprintf.php)or的第一个参数的格式字符串[`printf()`](http://php.net/manual/en/function.printf.php)：

```
$dbh = new PDO("mysql:dbname=$dbname;charset=utf8", $username, $password);
$dbh->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);

$qry = $dbh->prepare('SELECT format_string FROM my_table WHERE string_id = ?');

$qry->execute([1234]);
while ($row = $qry->fetch()) printf($row['format_string'], $s1, $s2, ... ); 
```

# jquery - jQuery - 在已保存的元素集中选择元素子集

> ID：12436532
> 
> 赞同：7
> 
> 时间：2012-09-15T10:20:42.260
> 
> 标签：jquery, jquery-selectors

由此：

```
var $saved = $('#parent').find('a'); 
```

我现在如何子选择那些`$saved`有 class的元素`myClass`？

我不想要后代（好`find`或`children`不好），我想要 $saved 的子集。

```
var $refined = $saved.[something something]; 
```

本质上，我想`$refined`等于`$('#parent').find('a.myClass');`但从`$saved`.

谢谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-15T10:26:00.037

您可以使用过滤方法：

```
var $refined = $saved.filter(".myClass"); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-15T10:25:09.427

你可以使用`filter`方法。

```
var $refined = $saved.filter('.myClass'); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-09-15T10:25:31.770

您可以遍历保存的集合以找出类 myClass 的元素。

```
var $refined  = $saved.each(function(){
   if($(this).attr('class') == 'myClass')
      return $(this);
}); 
```

或者您可以使用[filter()](http://api.jquery.com/filter/) jquery 函数来应用选择器。

```
 var $refined  = $saved.filter('myClass'); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-09-15T10:25:34.227

可能这个可以帮助

```
var $refined = $saved.filter('.myClass'); 
```

[http://api.jquery.com/filter/](http://api.jquery.com/filter/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-15T10:33:10.547

```
$saved.each(function(){
            if($(this).hasClass('test')) alert($(this).text());
        }); 
```

# plone - 在个人文件夹中显示个人信息

> ID：12436533
> 
> 赞同：0
> 
> 时间：2012-09-15T10:20:56.970
> 
> 标签：plone

我们知道 /author/user 可以显示所有用户的个人信息。就我而言，每个用户都有一个个人文件夹，其中包含内容。我的目标是在用户访问每个用户的个人文件夹时显示 /author/user 中的信息。必须首先显示此信息，并带有“选择内容项作为默认视图”选项。我创建了一个指向 /author/user 的链接和选项“选择一个内容项作为默认视图”。问题是用户被重定向到 /author/user 并且无法在个人文件夹中导航。有解决这个问题的技巧吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-03T07:31:51.330

你有两个问题：更改用户文件夹的默认视图（仅适用于那些）并创建一个新视图。

使用 author.cpt 中的代码创建一个新的皮肤 cpt（或者如果你不需要它，只需一个 .pt 删除反馈表），然后更改：

```
author python:(len(request.traverse_subpath) > 0 and url_unquote_plus(request.traverse_subpath[0])) or request.get('author', None); 
```

从用户名或 /Members/<> 路径获取用户的东西。然后将 portal_types 中的文件夹类型复制到一个新 id（新用户文件夹或类似名称），将其分配为用户的 portal_membership 和 portal_types -> 新用户文件夹中的默认文件夹，并将其分配为默认视图。

然后你必须将所有用户的主文件夹迁移到这个新的文件夹类型。

另一种方法是使用 index_html 脚本来加载替代视图，可能只是在请求中使用 author 参数调用 author.cpt：

```
context.author(author=<<this folder author>>) 
```

其中 <> 像以前一样获得。您可以在用户登录后按照此提示添加此 index_html 执行操作：

[http://collective-docs.readthedocs.org/en/latest/sessions/login.html#post-login-actions](http://collective-docs.readthedocs.org/en/latest/sessions/login.html#post-login-actions)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-02T09:00:35.537

无需将内容项作为默认视图来实现这一点，您只需为文件夹注册一个新视图，作为 author.pt 的自定义副本。

# php - 用于 FFMPEG 转换的 PHP 脚本

> ID：12436539
> 
> 赞同：2
> 
> 时间：2012-09-15T10:22:12.687
> 
> 标签：php, ffmpeg, flv

很久没有编程了，所以放轻松。

基本上，我正在尝试编写一个 PHP 脚本，它能够自动为我转换一个充满 .mp4 的文件夹，并将它们变成 .flv。这将为我的整个电视收藏（非常大）完成，以允许在浏览器中通过我的本地网络进行流式传输。

我目前有以下代码：

```
// Save video files into an array
$vid = glob("../../*.mp4");
// Open text file in write mode
$fp=fopen("test.txt","w+");
// Write contents of array to file
foreach($vid as $key => $value){
fwrite($fp,$value."\n");
} 
```

这是获取文件夹中的所有 mp4 文件，并将它们的文件名保存到文本文件中。我需要采取的下一步是逐行读取，并对它们执行 FFMPEG 命令，直到完成每一行。

知道如何实现这一目标吗？我知道我必须以某种方式使用 shell_exec，但我以前从未使用过它，而且我对下一步该做什么有点困惑。

谢谢你的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-29T20:26:10.143

这是ffmpeg命令行将目录中的所有mp4文件转换为flv文件

```
for i in *.mp4; do ffmpeg -i $i -ar 44100 $i.flv; done 
```

这是在php中

```
// Change directory to the directory of the videos
chdir('../..');

// Run the command
exec('for i in *.mp4; do ffmpeg -i $i -ar 44100 $i.flv; done'); 
```

# c# - Modifying the border of a FlatStyle.Flat button in C#

> ID：12436540
> 
> 赞同：0
> 
> 时间：2012-09-15T10:22:21.037
> 
> 标签：c#, winforms, button, graphics

I was wondering if there was any way to change the border of a `FlatStyle.Flat` button (how it paints). I want to change the border of a `Flat` button to look like it is rounded, like so:

![enter image description here](../Images/7d6822eb5bf5ba9b5622f4c2d3983e6a.png)

I want `button2` to have a similar border to `button1`, how the pixels in each corner have been removed. I have no idea how to do this or where to begin. If anyone could help me or put me in the right direction, please post here. Thanks!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:02:25.243

You could try using a [GraphicsPath](http://msdn.microsoft.com/en-us/library/system.drawing.drawing2d.graphicspath%28v=vs.80%29.aspx) with rounded edges as border for that button. You'd have to draw it yourself though - WinForms doesn't have WPF's Border control.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T13:51:52.510

Import a dll like:

```
public partial class Form1 : Form
{
    [DllImport("Gdi32.dll", EntryPoint = "CreateRoundRectRgn")]
    private static extern IntPtr CreateRoundRectRgn
    (
    int nLeftRect, // x-coordinate of upper-left corner
    int nTopRect, // y-coordinate of upper-left corner
    int nRightRect, // x-coordinate of lower-right corner
    int nBottomRect, // y-coordinate of lower-right corner
    int nWidthEllipse, // height of ellipse
    int nHeightEllipse // width of ellipse
    );

    public Form1()
    { etc..................... 
```

Then in your button's paint event add:

```
button1.Region = System.Drawing.Region.FromHrgn(CreateRoundRectRgn(0, 0, button1.Width, button1.Height, 7, 7)); 
```

You can change the 'sevens' to the radius you like.

# python - Python：使用来自服务器的正确样式渲染网页的一部分

> ID：12436551
> 
> 赞同：0
> 
> 时间：2012-09-15T10:24:03.227
> 
> 标签：python, web-scraping

我正在构建一个屏幕剪辑应用程序。

至今：

*   我可以获得用户选择的网页部分的 html 标记，包括图像和视频。
*   然后我将它们发送到服务器以使用 BeautifulSoup 处理 html 以清理 html 并将所有相对路径（如果有）转换为绝对路径

现在我需要渲染页面的一部分。但是我没有办法渲染样式。是否有任何图书馆可以帮助我解决这个问题或 python 中的任何其他方式？

一种方法是使用 urllib2 获取整个网页并删除我不需要的正文部分然后渲染它。

但必须有一个更蟒蛇的方式:)

注意：我不想要截图。我正在尝试使用样式呈现正确的 html。

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:34:26.240

下载完整的网页，提取`style`元素和样式表`link`元素并下载引用后者的文件。这应该为您提供页面上使用的 CSS。

# css - Firefox 中的下拉菜单

> ID：12436554
> 
> 赞同：1
> 
> 时间：2012-09-15T10:24:23.637
> 
> 标签：css, firefox

我在这里有一个演示来说明我的问题

[http://www.ttmt.org.uk/](http://www.ttmt.org.uk/)

它只是一个简单的导航，向右浮动，“二”下有一个下拉菜单。

下拉菜单包含大按钮，我希望菜单可以拉伸上面的红色条。

我通过给下拉菜单的 ul 一个带有负左边距的集合来让它工作，以将其拉过。

```
 #nav #topNav ul#fontSubMenu{
        background:#e1e1e1;
        left:-999em;
        position:absolute;
        padding:25px 0px 10px 22px;
        margin:0 0 0 -784px;
        z-index:120;
      1width:100%;
      width:1028px;
    } 
```

在 Safari、Chrome (Mac) 中，这似乎可以工作，但在 Firefox 中，它有几个像素。

谁能告诉我为什么它出现在 Firefox 中，这是最好的方法。

```
 <!DOCTYPE html>
    <html>
      <head>
      <title>Title of the document</title>
      <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.4.1/build/cssreset/cssreset-min.css">

      <style type="text/css">
        body{
            font:1em Helvetica, sans-serif;
            color:#555;
        }

        #wrap{
          background:red;
            margin:0 auto;
            position:relative;
            width:1050px;
        }
        #nav{
            overflow:auto;
        }
        #nav #topNav{
            float:right;
        }
        #nav #topNav li{
            float:left;
            margin:0 0 0 6px;
        }
        #nav #topNav li:hover,
        #nav #topNav li a:hover{
            background:#e1e1e1;
            color:#555;
        }
        #nav #topNav li:hover .subNav{
            border-bottom:6px solid #e1e1e1;
            z-index:21;
        }
        #nav #topNav li a{
            border-top:6px solid red;
            border-bottom:6px solid red;
            display:block;
            padding:13px 13px;
            color:white;
            font-size:.98em;
            font-weight:bold;
            text-decoration:none;
        }
        #nav #topNav ul#fontSubMenu{
            background:#e1e1e1;
            left:-999em;
            position:absolute;
            padding:25px 0px 10px 22px;
            margin:0 0 0 -784px;
            z-index:120;
          1width:100%;
          width:1028px;
        }
        #nav #topNav li:hover ul#fontSubMenu{
            left:auto;
        }
        #nav #topNav li ul#fontSubMenu li{
            margin:0 14px 14px 0;
        }
        #nav #topNav li ul#fontSubMenu li a{
            border: 1px solid #f7f7f7;
            display:block;
            color:#555;
            position:relative;
            font-size:.98em;
            line-height:1.3em;
            font-weight:normal;
            width:162px;
            height:45px;
        }
        #nav #topNav li ul#fontSubMenu li a em{
            position:absolute;
            left:75px;
            bottom:13px;
            width:100px;
            font-style:normal;
        }
        #nav #topNav li ul#fontSubMenu li a:hover{
          background:#aaa;
        }  

      </style>

      </head>

    <body>
        <div id="wrap">

            <div id="nav">
              <ul id="topNav">
                <li><a href="#">One</a></li>
                <li  ><a href="#" class="subNav">Two</a>
                  <ul id="fontSubMenu">
                    <li><a href="#"><em>Two One</em></a></li>
                    <li><a href="#"><em>Two Two</em></a></li>
                    <li><a href="#"><em>Two Three</em></a></li>
                    <li><a href="#"><em>Two Four</em></a></li>
                    <li><a href="#"><em>Two Five</em></a></li>
                    <li><a href="#"><em>Two Six</em></a></li>
                    <li><a href="#"><em>Two Seven</em></a></li>
                    <li><a href="#"><em>Two Eight</em></a></li>
                    <li><a href="#"><em>Two Nine</em></a></li>
                    <li><a href="#"><em>Two Ten</em></a></li>
                    <li><a href="#"><em>Two Eeleven</em></a></li>
                  </ul>
                </li>
                <li  ><a href="#">Three</a></li>

                <li  ><a href="#">Four</a></li>

                <li  ><a href="#">Five</a></li>
              </ul>
            </div><!--nav--> 

        </div><!--wrap-->

    </body>
    </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:58:44.010

为什么不使用绝对定位？菜单总是在同一个地方，对吧？

```
ul#fontSubMenu{
    left: 0;
    top: 58px;
    margin: 0;
} 
```

（并删除`left: auto`您在悬停时设置的）。

顺便说一句，您的演示在 Chrome Windows 上也偏离了大约 1-2 像素。

# c# - 多次调用 SuppressFinalize

> ID：12436555
> 
> 赞同：6
> 
> 时间：2012-09-15T10:24:23.853
> 
> 标签：c#, garbage-collection, suppressfinalize

`GC.SuppressFinalize(object)`多次调用有什么缺点吗？*dispose 模式的*
受保护`Dispose(bool)`方法检查它是否在之前被调用，但在公共方法中没有这样的检查。*`Dispose()`*

 *```
public void Dispose()
{
    Dispose(true);
    GC.SuppressFinalize(this);
}

protected virtual void Dispose(bool disposing)
{
    if (_Disposed)
        return;

    if (disposing)
    {
        // Cleanup managed resources.
    }

    // Cleanup unmanaged resources.
    _Disposed = true;
}

~MyClass() { Dispose(false); } 
```

`Dispose()`实例的方法可以`MyClass`多次调用吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-15T10:37:23.667

根据文档： http: [//msdn.microsoft.com/en-us/library/system.gc.suppressfinalize.aspx](http://msdn.microsoft.com/en-us/library/system.gc.suppressfinalize.aspx)，它在对象标头中设置了一些位，因此多次调用它不应该有任何影响。*

# c++ - 省略号的函数重载

> ID：12436557
> 
> 赞同：6
> 
> 时间：2012-09-15T10:24:27.563
> 
> 标签：c++

我真的可以像这样使用函数重载吗：

```
#include <iostream>

void foo(...)
{
   std::cout << "::foo(...) \n";
}

void foo(int)
{
   std::cout << "::foo(int) \n";
}

int main()
{
   foo(0);
   foo('A');
   foo("str");
   foo(0, 1);
} 
```

什么标准说的？在什么情况下我会得到 ::foo(...)？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T10:34:34.230

```
void foo(int) 
```

将接受一个类型的参数`int`。

```
void foo(...) 
```

接受任意数量的任何类型的参数。当调用没有单个`int`参数时，它将被选中。用处不大，一般。

另请注意，将类类型的对象传递给`...`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T10:43:39.917

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T10:32:24.480

`void foo(...)`将采用可变参数。当参数的 no 或 type 与提供的具有相同函数名的其他函数的参数列表不匹配时，它将被调用。

```
foo(0);             //This will call void foo(int) function
foo('A');           //This will call void foo(int) function
foo("str");         //This will call void foo(...) function
foo(0, 1);          //This will call void foo(...) function 
```

**笔记：**

尽管省略号在函数重载方面工作得很好，但强烈建议不要使用可变参数函数。至少在你有更多的 C++ 经验来理解其中的陷阱之前。我建议仅将它与 try catch 块一起使用，其中存在无法预测错误的情况。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T10:28:37.780

当您以下列方式声明函数时：

```
 void foo (...) 
```

这意味着 foo 接受任意数量的参数。

因此，当这是必须合适的函数时，将调用此函数。

在您不写的情况下：

```
foo(//Some single int). 
```

在您的特定主体中，这将发生：

```
foo(0)     //Calls foo(int).
foo('A)    //Calls foo (int). as you can convert a char to an int.
foo("str") //Calls foo(...) . as you can not convert a string to an int.
foo(1,2)   //Calls foo(...) . as this is the only possible function 
             cause the second foo function only takes one int. 
```

# php - Fullcalendar 事件使用 PHP 从 MySql 表生成提要

> ID：12436561
> 
> 赞同：0
> 
> 时间：2012-09-15T10:24:55.853
> 
> 标签：php, mysql, json, fullcalendar, feed

我有一个荒谬的问题，但即使潜伏了一整天，我也无法解决它。

我有一个[Fullcalendar](http://arshaw.com/fullcalendar/)安装，我正在尝试从文件（**events.php**）中检索事件数据；**我通过PHP**从**MySql 表中**加载数据。

问题：

**如果我通过 PHP 自动生成提要，事件将不会显示在我的日历中。**

**但**

如果我在我的文件中写下**EXACT** Json 行，**它确实可以正常工作**。

**例子：**

这是我的*events.php*：

```
<?php session_start();  

header("Content-Type: application/json");

//if (!isset($id_azienda)) die();

$id_azienda = $_GET['id_azienda'];

// Includo la classe
require_once("./db.class.php");

// Creo l'oggetto database
$db = new DataBase();

// Apro la connessione al database e ne memorizzo il risultato in $open
$open = $db->OpenConnection(); 

$eventiQuery = "SELECT * FROM scadenzario WHERE id_azienda ='$id_azienda'";

// Eseguo la query e ne memorizzo il risultato in $result
$eventiList = $db->Query($eventiQuery);

$numEventi = $db->NumRows($eventiQuery);

// Chiudo la connessione al database e ne memorizzo il risultato in $close
$close = $db->CloseConnection();

/* ************* FINE CARICAMENTO DATI DAL DATABASE ***************** */

while ($record = mysql_fetch_array($eventiList)) {
    $event_array[] = array(
        'id' => $record['id_scadenzario'],
        'title' => $record['titolo'],
        'start' => $record['data_inizio'],
        'url' => $record['url']
    );
}

echo json_encode($event_array);
?> 
```

这将产生：

```
[{"id":"0","title":"test titolo","start":"2012-09-11","url":"http:\\\/\\\/yahoo.com\\\/"},{"id":"1","title":"test titolo","start":"2012-09-11","url":"http:\\\/\\\/google.com\\\/"}] 
```

**它不会显示任何**东西。

但是，如果我**将其复制并粘贴**到文件“ *events.php* ”中并注释 echo 行：

```
// echo json_encode($event_array);
?>
[{"id":"0","title":"test titolo","start":"2012-09-11","url":"http:\\\/\\\/yahoo.com\\\/"},{"id":"1","title":"test titolo","start":"2012-09-11","url":"http:\\\/\\\/google.com\\\/"}] 
```

**它确实有效。**

**编辑：**我的全日历实现是：

```
var scadenzario = $('#scadenzario-calendario').fullCalendar({

    events: "./events.php",

    header: {

        left: 'prev,next today',
        center: 'title',
        right: 'month,agendaWeek,agendaDay'

    },

    selectable: true,
        selectHelper: true,
        select: function(start, end, allDay) {
            var title = prompt('Nome dell\'evento:');
            if (title) {
                scadenzario.fullCalendar('renderEvent',
                    {
                        title: title,
                        start: start,
                        end: end,
                        allDay: allDay
                    },
                    true // make the event "stick"
                );
            }
            scadenzario.fullCalendar('unselect');
        },
        //editable: true,

    theme: true,

    buttonText: {

        today:    'Oggi',
        month:    'Mese',
        week:     'Settimana',
        day:      'Giorno'
    },

    monthNames: ['Gennaio', 'Febbraio', 'Marzo', 'Aprile', 'Maggio', 'Giugno', 'Luglio', 'Agosto', 'Settembre', 'Ottobre', 'Novembre', 'Dicembre'],

    monthNamesShort: ['Gen', 'Feb', 'Mar', 'Apr', 'Mag', 'Giu', 'Lug', 'Ago', 'Set', 'Ott', 'Nov', 'Dic'],

    dayNames: ['Domenica', 'Lunedi', 'Martedi', 'Mercoledi', 'Giovedi', 'Venerdi', 'Sabato'],

    dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mer', 'Gio', 'Ven', 'Sab']

}); 
```

恕我直言，这有点愚蠢。

**笔记：**

*   我读到，当我尝试仅解析一个事件时，方括号可能会出现问题：这不是我的情况，我正在尝试使用两个事件；
*   我首先想到的是字符编码，但我尝试过 text/plain 和 application/json，都没有运气；
*   url 中多余的斜线是由于过去几年缺乏 Gn'R 低俗硬摇滚风格。大声笑 XD（我的意思是：这不是重点）
*   **更新：**我还尝试使用 fwrite 创建一个 txt 并将 json 字符串写入文件。没运气。完成工作的唯一方法似乎是手动将代码写入文件。好吧，我可能会认为这是一份工作机会，也许。哈哈。

有任何想法吗？先感谢您 ：）

Ps：对不起，代码中的意大利注释和变量，但这不是重点；）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:51:11.367

尝试在您的 php 脚本顶部添加

```
header("content-type: application/json"); 
```

我认为问题是缺少标头声明，在某些网络服务器上可能会导致不同的解释。还尝试将 php 文件的格式（当然是用于将事件提供给日历的脚本）更改为 utf-8 字符集（我使用 notepad++ 作为编辑器 -> 格式 -> utf-8 编码格式）

手指交叉

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T11:36:37.317

我认为这是一个[json_encode](http://php.net/manual/en/function.json-encode.php)问题。它在最近的 php 版本 5.3 和 5.4 上进行了更改或更新。你在哪个版本上运行？试着找出你的`$event_array`. 我还会尝试的一件事是对数据库中的所有值进行[utf8_encode](http://php.net/manual/en/function.utf8-encode.php)。如果没有 firebug 或 wireshark 调试，真的帮不了你。

```
while ($record = mysql_fetch_array($eventiList)) {
  $event_array[] = array(
    'id' => utf8_encode($record['id_scadenzario']),
    'title' => utf8_encode($record['titolo']),
    'start' => utf8_encode($record['data_inizio']),
    'url' => utf8_encode($record['url']));
} 
```

编辑：哈哈，这不应该起作用。`$event_array`是一个只存在于while函数中的变量。所以在全局范围内定义它！

# c# - 首先在实体框架代码中建模本地化数据

> ID：12436577
> 
> 赞同：3
> 
> 时间：2012-09-15T10:27:07.837
> 
> 标签：c#, .net, entity-framework, localization

我正在尝试创建一个支持本地化的域模型。我查看了一些之前提出的 SO 问题，但我不太喜欢提出的解决方案。例如，在[这个问题](https://stackoverflow.com/questions/1668033/localized-tables-and-entity-framework)中，我认为为每个应该支持本地化数据的实体创建一个额外的实体是一种矫枉过正的做法。我宁愿将我所有实体的本地化数据放在一个实体中，该实体的唯一目的是保存本地化数据。

我提出的解决方案如下：

1.  创建一个`LocalizedEntity`类，所有应该支持本地化的实体都将从该类继承。

2.  创建一个`LocalizedData`实体，该实体基本上将按文化保存实际的本地化值。

**更新：**

```
public class LocalizedEntity
{
    public String Code { get; set; }
}

public enum ResourceType
{
    CityName,
    CityDescription,
    StreetName,
    AreaName
    //others...
}

public class LocalizedData
{
    public Int32 Id { get; set; }
    public String Code { get; set; }
    public ResourceType Type { get; set; }
    public Int32 CultureId { get; set; }
    public String Value { get; set; }
}

public class City : LocalizedEntity
{
    public Int32 Id { get; set; }
    public virtual ICollection<Area> Areas { get; set; }
    //others
} 
```

因此，业务层将获取本地化实体，然后通过and去从`LocalizedData`实体中获取其本地化值。当然，为了避免多次往返数据库，一些缓存可能是合适的。`Code``ResourceType`

你的意见？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T11:24:12.323

您正在建模的是 EAV（实体属性值）存储。很快您的“资源类型”枚举将溢出到无法管理的状态。雪上加霜，这在数据库结构方面是非常无效的。

如果您想要在代码可读性的数据库使用方面仍然可维护的本地化，您应该本地化实体，而不是属性，这意味着数据库中的每一行都应该包含该实体的实体 ID、语言 ID 和该语言的数据。

# google-chrome - chrome 扩展关闭时的操作

> ID：12436582
> 
> 赞同：1
> 
> 时间：2012-09-15T10:28:19.933
> 
> 标签：google-chrome, tabs, google-chrome-extension

我有一个 chrome 扩展程序，它打开一个新选项卡并将任何 javascript 注入其中。但是，每当重新加载扩展程序时，它都会再次打开一个新选项卡。所以，我想在我的扩展程序关闭/禁用时关闭选项卡。

有 chrome.management.onDisabled，但这不适用于此扩展，但适用于其他扩展。但是......也许注入选项卡中的代码可以检测扩展是否已关闭？例如，如果扩展程序在关闭时可以发送消息（使用 tab.sendMessage）......

有什么建议或想法吗？

非常感谢，请原谅我的英语不好。

# asp.net - 根据值格式化数据绑定字段 - ASP

> ID：12436583
> 
> 赞同：0
> 
> 时间：2012-09-15T10:28:29.860
> 
> 标签：asp.net, boundfield

我有一个数据绑定字段说“角色”数据库中其相应字段的值包含 1、2、3。

我需要知道我是否可以根据值格式化该数据绑定字段，例如：如果值是 1，它应该显示“Admin”。如果值为 2，则应显示“支持”。如果值为 3，则应显示“用户”。

我可以为此目的使用 DataFormatString 吗？

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T11:08:54.857

一种方法是在显示之前获取此值，例如从数据库或代码隐藏

```
Select 
Role,
CASE
   WHEN Role = 1 THEN 'Admin'
   WHEN Role = 2 THEN 'Support'
   WHEN Role = 3 THEN 'User'
END RoleDescription
FROM MyTable 
```

输出如下。您可以使用 RoleDescription 值而不是 Role

```
Role      RoleDescription
----------------------------------
1         Admin
2         Support
1         Admin
1         Admin
3         User 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T11:42:55.730

Atlast 我找到了一种方法.. 无论如何感谢codingbiz！

将该字段设为模板字段并编辑该模板。在项目模板视图中，删除标签字段并插入一个下拉列表。在那里您手动添加项目及其值并将所选值绑定到字段（此处为角色）。

步骤.. 选择项目 > 将其转换为 TemplateField >

编辑模板>选择该模板（ItemTemplate）>将标签更改为下拉菜单>添加项目以下拉其值>将选定的值属性绑定到原始数​​据字段..

就这样！！

# java - 使用网站将 youtube 转换为 mp3

> ID：12436584
> 
> 赞同：6
> 
> 时间：2012-09-15T10:28:33.853
> 
> 标签：java, youtube

我正在尝试制作可以将 youtube 视频下载为 mp3 文件的程序。为了实现这一目标，我使用了这个网站[youtube-mp3.org](http://www.youtube-mp3.org/)。所以，我下载了[www.youtube-mp3.org/?c#v=sTbd2e2EyTk](http://www.youtube-mp3.org/?c#v=sTbd2e2EyTk)的内容，其中 sTbd2e2EyTk 是视频 ID，现在我必须获取 mp3 文件的链接（在这种情况下为[http://www.youtube-mp3.org /get?video_id.....](http://www.youtube-mp3.org/get?video_id=sTbd2e2EyTk&h=5913a5ca8cd6f143aa2bab61ef1c4a16&r=1347704631853) ) 但下载的内容中没有链接。我注意到 chrome 开发人员工具（ctrl+shift+j，tab Elements）显示 chrome 中的链接和查看源（ctrl+u）选项给我的结果与我通过使用 java 下载页面得到的结果相同。我怎样才能得到那个链接？我尝试使用 JSoap 获取数据，但我需要的那些数据没有立即加载到页面上，所以我无法获取它们。

下一个代码用于下载网页内容...

```
 URL tU = new URL("http://www.youtube-mp3.org/?c#v=sTbd2e2EyTk");
 HttpURLConnection conn = (HttpURLConnection) tU.openConnection();
 InputStream ins = conn.getInputStream();
 BufferedReader rd = new BufferedReader(new InputStreamReader(ins));
 String line;
 StringBuffer content = new StringBuffer();
 while ((line = rd.readLine()) != null) {
     content.append(line);
 }
 System.out.println(content.toString()); 
```

我使用这种方法获取文件，但我需要链接..

```
 private static void downloadStreamData(String url, String fileName) throws Exception {
    URL tU = new URL(url);
    HttpURLConnection conn = (HttpURLConnection) tU.openConnection();

    String type = conn.getContentType();
    InputStream ins = conn.getInputStream();
    FileOutputStream fout = new FileOutputStream(new File(fileName));
    byte[] outputByte = new byte[4096];
    int bytesRead;
    int length = conn.getContentLength();
    int read = 0;
    while ((bytesRead = ins.read(outputByte, 0, 4096)) != -1) {
        read += bytesRead;
        System.out.println(read + " out of " + length);
        fout.write(outputByte, 0, bytesRead);
    }
    fout.flush();
    fout.close();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-04-03T22:20:18.223

找到这个

```
package main.java.com.thezujev.theyoutubepld.logic;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.util.HashMap;
import java.util.Map;
import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.HttpVersion;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.params.HttpParams;
import org.apache.http.params.HttpProtocolParams;
import org.apache.http.params.SyncBasicHttpParams;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;
/**
* @author azujev
*
*/
public class YouTubeMP3 {
    public static String[] getLink(String url) throws ClientProtocolException, IOException {
        boolean passCode = false;
        String h = "";
        String title = "";
        String result = "";
        String[] returnVal = {"",""};
        Map<String, String> jsonTable;
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpGet httpInitialGet = new HttpGet("http://www.youtube-mp3.org/api/pushItem/?item=http%3A//www.youtube.com/watch%3Fv%3D" + url + "&xy=_");
        httpInitialGet.addHeader("Accept-Location", "*");
        httpInitialGet.addHeader("Referrer", "http://www.youtube-mp3.org");
        HttpParams params = new SyncBasicHttpParams();
        HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);
        HttpProtocolParams.setUserAgent(params, "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/22.0.1207.1 Safari/537.1");
        httpInitialGet.setParams(params);
        HttpResponse firstResponse = httpClient.execute(httpInitialGet);

        try {
            if (firstResponse.getStatusLine().toString().contains("200")) {
                passCode = true;
            }
        } finally {
            httpInitialGet.releaseConnection();
        }

        if (passCode) {
            while (true) {
                HttpGet httpStatusGet = new HttpGet("http://www.youtube-mp3.org/api/itemInfo/?video_id=" + url + "&adloc=");
                httpStatusGet.addHeader("Accept-Location", "*");
                httpStatusGet.addHeader("Referrer", "http://www.youtube-mp3.org");
                httpStatusGet.setParams(params);
                HttpResponse secondResponse = httpClient.execute(httpStatusGet);
                HttpEntity secondEntity = secondResponse.getEntity();
                InputStream is = secondEntity.getContent();
                try {
                    BufferedReader reader = new BufferedReader(new InputStreamReader(is, "iso-8859-1"), 8);
                    StringBuilder sb = new StringBuilder();
                    String line = null;
                    while ((line = reader.readLine()) != null) {
                        sb.append(line + "\n");
                        }
                        is.close();
                        result = sb.toString();
                } catch (Exception e) {
                    e.printStackTrace();
                }

                httpStatusGet.releaseConnection();
                result = result.replaceAll("\\}.*", "}");
                result = result.replaceAll(".*?\\{", "{");
                try {
                    JSONObject jsonData = new JSONObject(result);
                    JSONArray jsonArray = jsonData.names();
                    JSONArray valArray = jsonData.toJSONArray(jsonArray);
                    jsonTable = new HashMap<String, String>(jsonArray.length());
                    for (int i = 0; i < jsonArray.length(); i++) {
                        jsonTable.put(jsonArray.get(i).toString(), valArray.get(i).toString());
                    }
                    if (jsonTable.get("status").equals("serving")) {
                        h = jsonTable.get("h");
                        title = jsonTable.get("title");
                        break;
                    }
                } catch (JSONException e) {
                // TODO Auto-generated catch block
                    e.printStackTrace();
                }

            }
            returnVal[0] = "http://www.youtube-mp3.org/get?video_id=" + url + "&h=" + h;
            returnVal[1] = title;
            return returnVal;
        } else {
            //TODO: Error, vid not downloadable
        }
        return null;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-03-25T17:38:50.757

* * *

## 一个类似问题的答案：

* * *

关于 YouTube API 的服务条款

[https://developers.google.com/youtube/terms/developer-policies](https://developers.google.com/youtube/terms/developer-policies)

**你不能：**

> 分离、隔离或修改通过 YouTube API 提供的任何 YouTube 视听内容的音频或视频组件；
> 
> 单独宣传通过 YouTube API 提供的任何 YouTube 视听内容的音频或视频组件；

（来源：[https](https://stackoverflow.com/a/26552805/5645656) ://stackoverflow.com/a/26552805/5645656 ）

* * *

## 我的答案：

* * *

可以使用不同的服务*。*例如，您可以安装[YouTube-DL](https://github.com/ytdl-org/youtube-dl)并使用[Process API](https://www.baeldung.com/java-process-api)来连接程序。

# c++ - 元组向量和 initializer_list

> ID：12436586
> 
> 赞同：32
> 
> 时间：2012-09-15T10:28:46.370
> 
> 标签：c++, c++11, tuples, initializer-list

我尝试用 gcc4.7 编译以下代码片段

```
vector<pair<int,char> > vp = {{1,'a'},{2,'b'}};
//For pair vector, it works like a charm.

vector<tuple<int,double,char> > vt = {{1,0.1,'a'},{2,4.2,'b'}}; 
```

但是，对于元组的向量，编译器会抱怨：

> 错误：从初始化列表转换为 'std::tuple' 将使用显式构造函数 'constexpr std::tuple< >::tuple(_UElements&& ...) [with _UElements = {int, double, char}; =无效；_Elements = {int, double, char}]'</p>

编译器溢出的错误信息对我来说完全是胡言乱语，我不知道元组的构造函数是如何实现的，但我知道它们完全可以使用统一初始化（如：）`tuple<int,float,char>{1,2.2,'X'}`，因此，我想知道问题是否我遇到的只是编译器的 TODO 或者它是 C++11 标准定义的东西。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-15T11:04:49.657

相关的`std::tuple`构造函数是`explicit`. 这意味着您想要做的事情是不可能的，因为您要使用的语法是根据复制初始化（禁止调用`explicit`构造函数）定义的。相反，`std::tuple<int, float, char> { 1, 2.2, 'X' }`使用直接初始化。`std::pair`确实只有非`explicit`构造函数。

使用直接初始化或标准元组工厂函数之一（例如`std::make_tuple`）。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-28T05:31:03.167

这实际上是可行的，具有 c++11 特性。

是的，initializer_list 希望它的所有元素都属于同一类型。诀窍是我们可以创建一个包装类，它可以是`static_cast`我们想要的所有类型。这很容易实现：

```
 template <typename... tlist>
 class MultiTypeWrapper {
 };

 template <typename H>
 class MultiTypeWrapper<H> {
 public:
   MultiTypeWrapper() {}

   MultiTypeWrapper(const H &value) : value_(value) {}

   operator H () const {
     return value_;
   }
 private:
   H value_;
 };

 template <typename H, typename... T>
 class MultiTypeWrapper<H, T...> 
   : public MultiTypeWrapper<T...> {

 public:
   MultiTypeWrapper() {}

   MultiTypeWrapper(const H &value) : value_(value) {}

   // If the current constructor does not match the type, pass to its ancestor.
   template <typename C>
   MultiTypeWrapper(const C &value) : MultiTypeWrapper<T...>(value) {}

   operator H () const {
     return value_;
   }
 private:
   H value_;
 }; 
```

使用隐式转换构造函数，我们可以将类似 {1,2.5,'c',4} 的内容传递给 MultiTypeWrapper 类型的 initializer_list（或向量，它隐式转换 initializer_list）。这意味着我们不能编写像**下面**这样的函数来接受这样的 intializer_list 作为参数：

```
template <typename... T>
std::tuple<T...> create_tuple(std::vector<unit_test::MultiTypeWrapper<T...> > init) {
  ....
} 
```

我们使用另一个技巧将向量中的每个值转换为其原始类型（请注意，我们在 的定义中提供了隐式转换`MultiTypeWrapper`）并将其分配给元组中的相应槽。这就像模板参数的递归：

```
template <int ind, typename... T>
class helper {
public:
  static void set_tuple(std::tuple<T...> &t, const std::vector<MultiTypeWrapper<T...> >& v) {
    std::get<ind>(t) = static_cast<typename std::tuple_element<ind,std::tuple<T...> >::type>(v[ind]);
    helper<(ind-1),T...>::set_tuple(t,v);
  }
};

template <typename... T>
class helper<0, T...> {
public:
  static void set_tuple(std::tuple<T...> &t, const std::vector<MultiTypeWrapper<T...> >& v) {
    std::get<0>(t) = static_cast<typename std::tuple_element<0,std::tuple<T...> >::type>(v[0]);
  }
};

template <typename... T>
std::tuple<T...> create_tuple(std::vector<unit_test::MultiTypeWrapper<T...> > init) {
  std::tuple<T...> res;
  helper<sizeof...(T)-1, T...>::set_tuple(res, init);
  return res;
} 
```

请注意，我们必须创建帮助程序类，`set_tuple`因为 c++ 不支持函数特化。现在，如果我们要测试代码：

```
auto t = create_tuple<int,double,std::string>({1,2.5,std::string("ABC")});
printf("%d %.2lf %s\n", std::get<0>(t), std::get<1>(t), std::get<2>(t).c_str()); 
```

输出将是：

```
1 2.50 ABC 
```

这是在我的桌面上用 clang 3.2 测试的

希望我的意见有帮助:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-06-04T12:39:10.080

是不是很烦人？我以前也使用过对 - 在类似的场景中，很惊讶元组不支持这一点，因为 {} 初始化语法节省了很多混乱。**您可以使用make_tuple**在容器中手动插入元素，因此：

```
vt.push_back(make_tuple(2,4.2,'b')); 
```

应该管用

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-09-01T22:41:11.280

您不能仅将 accolades 用于初始化元组，而必须使用关键字 tuple

```
vector<tuple<int, int>> my_vec{
    tuple<int, int> { 1, 15 },
    tuple<int, int> { 2, 100 }
}; 
```

C++ 11

# perl - 如何从任何地方（任何目录）运行 perl 脚本

> ID：12436587
> 
> 赞同：2
> 
> 时间：2012-09-15T10:28:49.907
> 
> 标签：perl, ubuntu

我在以下路径（/home/Leen/Desktop/Tools/bin/tool.pl）中有一个 perl 脚本，每次我想运行这个工具时，我都会去终端

```
> 
```

然后将目录更改为

..../bin>

然后我通过编写运行 perl

```
..../bin> perl tool.pl file= whatever config= whatever 
```

问题是我想运行这个 perl 脚本而不需要去它所在的 bin 文件夹。所以我可以从任何目录运行 perl 脚本，一旦我进入 shell，我就进入 etc/environment 并编写了以下内容

导出 PERL5LIB=$PERL5LIB:/home/Leen/Desktop/Tools/bin

但是当我去终端并直接编写以下内容时，无需进入 tool.pl 所在的 bin 文件夹

```
>perl tool.pl file=... config=... 
```

它说文件“tool.pl”不存在？？？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-15T10:31:56.740

程序的第一个参数`perl`是可执行文件的路径。这些调用是等效的：

```
:~$ perl /home/Leen/Desktop/Tools/bin/tool.pl
:~$ perl ~/Desktop/Tools/bin/tool.pl
:~$ perl ./Desktop/Tools/bin/tool.pl
:~/Desktop/Tools/bin$ perl tool.pl
:~/Desktop/Tools/bin$ perl ./tool.pl 
```

等等

在 shell 中，波浪号`~`扩展到您的主目录，并`./`表示当前目录。在 *nix shell（包括 ubuntu 上的各种终端仿真器）上，命令提示符通常`$`处于正常模式，`#`作为 root 用户和很少使用`%`。`>`是辅助命令提示符，例如在继续多行参数时，与 Windows 上的 cmd.exe 不同。

这个`PERL5LIB`变量决定了 Perl 在哪里寻找模块，而不是可执行文件。

您可以通过 将脚本设置为可执行文件`chmod +x FILENAME`。然后，您可以在不指定程序的情况下调用脚本`perl`：

```
:~/Desktop/Tools/bin$ ./tool.pl 
```

您可以修改`PATH`变量以更改 shell 查找可执行文件的位置。通常`PATH`包含`/usr/bin/`和其他目录。您可以通过添加自己的目录

```
PATH=$PATH:/home/Leen/Desktop/Tools/bin 
```

在es*的末尾*添加你的目录`PATH`，这样你就不会推翻其他程序。

如果要永久设置，可以将此行添加到文件中`~/.bashrc`（仅适用于您的用户且仅适用于`bash`shell）。

然后你可以从任何地方调用你的脚本，而不需要完整的路径名：

```
:~/foo/bar$ tool.pl 
```

在这种情况下，您应该考虑使用更具体的命令名称，以防止名称冲突。

# xaml - 如何在 Visual Studio 2012 中将 XAML 页面与代码隐藏一起导入？

> ID：12436590
> 
> 赞同：5
> 
> 时间：2012-09-15T10:29:46.303
> 
> 标签：xaml, visual-studio-2012

我现在正在尝试将我的 Windows 8 Store 应用程序从 Developer Preview 移植到 RTM，但在将旧 XAML 布局导入新创建的项目时遇到了问题（旧项目不再可运行）。

每当我导入 .xaml 和 .xaml.cs 文件时，它们都不会被识别为单个文件。相反，添加了两个不同的文件。我如何将这两个文件作为一个“实体”导入，如果我向我的项目添加一个新的 XAML 页面会发生这种情况？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-11-12T13:17:50.240

导入文件时会导入相应的`.cs`或文件， 但在**VS2012**中有一个问题：`.vb``.xaml`

 **[![在此处输入图像描述](../Images/a3dfe0ff51d3e1a05c5b5144ab466abf.png)](https://i.stack.imgur.com/GOf2f.png)    一次只能导入**一个 XAML 文件**

**如果您在文件选择器中标记了多个文件**，XAML 文件不会与其对应的代码文件正确配对（即使您将过滤器切换到**所有文件**，然后同时选择 XAML 和代码文件）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-15T11:01:15.057

包含 XAML 文件时，您应该在同一文件夹中同时包含 XAML 和 xaml.cs 文件，然后在 Visual Studio 中选择仅包含 XAML 文件，而不是 xaml.cs 文件 - 它们应该自动包含在进程中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-09-29T06:38:51.763

在 Visual Studio 2015 中：要添加现有 XAML 及其相应的代码隐藏，只需通过文件资源管理器复制所有文件（.xaml 和 .vb）并粘贴到 VS 的解决方案资源管理器中。**

# javascript - 我到底如何从函数中更改全局变量？

> ID：12436591
> 
> 赞同：1
> 
> 时间：2012-09-15T10:29:47.867
> 
> 标签：javascript, scope, global-variables, hoisting

我花了 3 天时间试图解决这个简单的问题。我想要的只是让我的整个网站记住`winversion`全局变量值并能够从函数中更改它。（是的，我知道全局变量比 darthwader 更邪恶，但请这是我生命中唯一的好事）

我有一个带有 .html 的 html 文件`<iframe>`，当用户在里面点击时，我将不同的页面（来自我的域）加载到该`<iframe>`.

这是我的 index.html （它周围有几个 div，`<iframe>`但我很确定这无关紧要，因为其他一切都有效，而 javascript 仅适用于此`<iframe>`）

```
 <script type="text/javascript" src='script.js'></script>
---------- ( some inner body html , not important)----------------

 <iframe id="myiframe" src="mainproblems.html" > 
```

默认的 iFrame 页面有这个 html 代码

```
 <a href="#" onclick="setwinver('xp')";>I have  Windows XP </a>
    <a href="#" onclick="setwinver('win7')";> have Windows 7/Vista </a> 
```

我的 script.js 是这个

```
 // This is supposed to be my global variable to hold windows version value
 var winversion ; 

    // This function (I officially hate it now) is supposed to change 
    // winversion variable based on what user clicked on the iFrame
    function setwinver(ver) 

{   
        //so now winversion should either have xp or win7 assigned
        winversion=ver; 
} 
```

但后来，`<iframe>`当我尝试`winversion`在同一个 JavaScript 文件中读取时，它显示未定义。`navigatenow()`当用户在第 1 页选择 windows 版本并在下一个 html 页面中单击链接以启动 msconfig 描述页面（加载在 中）时触发此功能`<iframe>`。

```
 function navigatenow()
{

        if (winversion == "xp")
    {
         window.location.href=("msconfigxp.html");
    }
    else
    {
        window.location.href=("msconfig7.html");
    }
} 
```

我努力了：

*   使用 / 不使用`var`.

*   使用/不使用单引号，双引号（尽管我知道这没什么区别）。

*   阅读了十几篇关于吊装的文章。

*   使用 persistjs 几个小时。

*   冥想和祈祷！

没有任何效果。该死的`winversion`变量仍然像我存在的目的一样未定义。

我想要的只是让我的 html 文件记住用户选择的 windows 版本（不，我无法以编程方式检测 windows 版本，我询问用户版本的目的是不同的）。

任何帮助将不胜感激解决此问题，如果没有，请建议一个合适的悬崖，我可以从中跳下。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T10:38:57.313

iframe 中的页面是一个单独的窗口，它不会继承索引页面的范围。您需要指定要转到父窗口并在那里使用脚本：

```
window.parent.setwinver('xp'); 
```

同样访问变量：

```
if (window.parent.winversion == "xp") 
```

* * *

这是一个工作示例：http: [//jsfiddle.net/ga62A/](http://jsfiddle.net/ga62A/)

索引页面加载这个 iframe： http: [//jsfiddle.net/cMDvc/1/](http://jsfiddle.net/cMDvc/1/)
然后你继续这个 igrame：http: [//jsfiddle.net/9qjaX/](http://jsfiddle.net/9qjaX/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T11:13:30.437

LePrince，当您更改页面时，JS 会丢弃所有更改内容的内存。JavaScript 被读入页面，但你不能从最终用户的浏览器***写***回 JS 文件，因为那只会要求你的生活、你的网站和你所有的钱被盗。

您对阅读的原始代码所做的所有更改都存储在内存中。该记忆仅持续与页面持续时间一样长。之后，它再次重新加载页面，与以往一样。

如果您需要它做更多的事情，您可以首先从`document.cookie`. 它用于存储非常小的信息，而且使用起来并不有趣，除非您编写工具来获取 cookie 和设置 cookie。

接下来是localStorage，比较好用也比较新（但是老的IE不支持，所以windows 7的XP上的人用不了）。但这仍然只适用于一个用户的数据，不会改变任何其他用户的任何内容。

如果您希望能够添加... ...例如评论或星级，其他人可以看到帖子和评级以及上传的图像，那么您需要研究服务器端编程。Ruby(/Rails)、PHP、Node.js 等。

# php - Wordpress/PHP - 评论帖子的自定义操作

> ID：12436594
> 
> 赞同：3
> 
> 时间：2012-09-15T10:30:06.623
> 
> 标签：php, wordpress, comments, action, hook

每当用户发表评论时，我基本上都希望将帖子的副本发送到另一个数据库以用于单独的站点。数据库部分很简单，但我似乎无法为此找到正确的操作挂钩。（我用一个简单的 echo 语句进行了测试，失败是它根本不显示）“comment_save_pre”仅在更新评论时有效，“wp_set_comment_status”仅在评论被批准时有效，而“comment_post”似乎没有工作。钩子存在吗？

```
add_action('...?...', 'on_comment_post');

function on_comment_post($comment){
     echo "Test";
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:22:16.823

您可以使用[`comment_post`](http://codex.wordpress.org/Plugin_API/Action_Reference#Comment.2C_Ping.2C_and_Trackback_Actions)：

> 在评论保存在数据库中之后运行。操作函数参数：评论 ID、批准状态（“垃圾邮件”或 0/1 表示不批准/批准）。

# android - 如何在Android中计算sqlite中的记录数

> ID：12436596
> 
> 赞同：18
> 
> 时间：2012-09-15T10:30:21.467
> 
> 标签：android, sqlite

我正在研究android项目。我为此使用了 sqlite 数据库。我在数据库中有表。我创建了 databasehelper 类。我想计算特定表中的记录数。我怎样才能做到这一点？任何帮助将不胜感激？

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-09-15T15:07:27.500

这会更有效率：

```
int numRows = DatabaseUtils.longForQuery(db, "SELECT COUNT(*) FROM table_name", null); 
```

或者：

```
int numRows = DatabaseUtils.queryNumEntries(db, "table_name"); 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-09-15T10:32:39.490

使用`SELECT COUNT(*) FROM table_name`查询，然后**计算光标的大小**..

Cursor 计算大小（游标中的行数）的方法是，

```
getCount() 
```

**返回游标中的行数。**

**或者：**

从[DatabaseUtils](http://developer.android.com/reference/android/database/DatabaseUtils.html)使用方法`queryNumEntries(SQLiteDatabase db, String table)`

喜欢，

`long numberOfRows = DatabaseUtils.queryNumEntries(db, "table_name");`

它**返回表中的行数**。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2012-09-15T10:33:55.803

尝试这个。

```
Cursor c = db.rawQuery("select * from your_table_name",null);
Log.i("Number of Records"," :: "+c.getCount()); 
```

**编辑：** **c.getCount()**返回特定表的记录数。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-08-10T20:08:14.447

在科特林

```
fun getFruitTableCount(): Int {
        val db = readableDatabase
        val numRows = DatabaseUtils.longForQuery(db, "SELECT COUNT(*) FROM " + DBContract.FruitEntry.TABLE_NAME, null).toInt()
        return numRows
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-07-04T16:04:14.683

```
In db handler class use this method

Kotlin Code :

fun getCount(): Int {
        val db = this.readableDatabase
        var count= db.rawQuery("SELECT * FROM $TABLE_NAME", null).count
        db.close()
        return count
    }

Then directly call getCount after creating an instance of db handler class 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-10-30T02:29:31.717

请试试这个：

在您的 DatabaseHelper.java 中：

```
public Cursor getYourTableContents() {
  SQLiteDatabase db = this.getWritableDatabase();

  Cursor data = db.rawQuery("SELECT * FROM " + "Your table name", null);

  return data;
} 
```

要获取表中的行数：

```
Cursor yourCursor = myDB.getYourTableContents();

int i = 0;

while (yourCursor.moveToNext()) {
  i += 1;
} 
```

`i`您的行数是否为整数。

# javascript - Phonegap-(Android/iphone) 多张图片的图库有问题吗？

> ID：12436601
> 
> 赞同：12
> 
> 时间：2012-09-15T10:31:01.717
> 
> 标签：javascript, html, css, cordova, jquery-mobile

我使用 jQuery mobile 用 HTML5、JavaScript 和 CSS 制作了一个图片库。IE Phonegap 平台没问题。
图像是动态来的，并在其中加载，如下所示：
[http ://torontographic.com/wordpress/mouseSwipe/mouseSwipe.html](http://torontographic.com/wordpress/mouseSwipe/mouseSwipe.html)

在 mouseSwipe 滑块上方：

```
TYPE: 'mouseSwipe'
HORIZ: true
plugin available at
torontographic.wordpress.com 
```

随之而来的问题是我无法单击图像并转到下一页，因为两个事件同时发生。

第二个问题是我无法从放置画廊的地方向上向下滑动页面，除了没有画廊的其他区域。

为了更清楚，我正在制作新闻应用程序，其中我添加了 5 - 10 个画廊，例如 Pulse 新闻应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-06T16:34:49.107

I'm a little confused about some of the details of the issue, but I hate to see this question go completely unanswered in case someone else has this issue.

This plugin (mouseSwipe) overrides the default dragging functionality for mobile devices. Whereas normally devices would scroll the page on the mouse starting event, this plugin overrides that behavior to detect click movement across an element. Since it interrupts that functionality, dragging the opposite direction (for scrolling) is also broken. If the plugin were still being maintained by the owner (it doesn't appear to be), it could be updated to fix this issue, or emit events that could be used to manually create the functionality you're wanting.

I assume this is also what is giving you trouble for clicking to go to the specified page.

If you want my honest opinion, I would choose a different library, perhaps one that focuses solely on the swipability of mobile devices, and then handle desktop functionality separately (though, if you're using PhoneGap, it's likely you aren't even publishing this to a web platform for desktops). If it's going to be on the web, you can use modernizr (or the like) to figure out if the device supports touch input, and then implement something like the following:

[http://labs.rampinteractive.co.uk/touchSwipe/demos/Image_gallery_example.html](http://labs.rampinteractive.co.uk/touchSwipe/demos/Image_gallery_example.html)

For devices that do not support touch, you could fall back to button/arrow-based navigation (after all, as a desktop user, I do not expect to be able to drag it back and forth with the mouse).

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-13T15:27:35.130

在文件[http://torontographic.com/wordpress/mouseSwipe/jquery.mouseSwipe.js](http://torontographic.com/wordpress/mouseSwipe/jquery.mouseSwipe.js) onmousedown 函数有下面的代码。这将从默认行为停止事件，并在情况下停止捕获/冒泡。您可能想查看这些或库处理事件的方式。

```
e.preventDefault() 
```

这里有更多关于如何停止 JQuery 传播和常规行为的信息。

[event.preventDefault() 与 return false](https://stackoverflow.com/questions/1357118/event-preventdefault-vs-return-false) [什么是事件冒泡和捕获？](https://stackoverflow.com/questions/4616694/what-is-event-bubbling-and-capturing)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-15T22:24:05.310

您无法上下滑动的原因可能是“滑动”事件占用了“movestart”或“move”事件。

我在使用这个插件时遇到过类似的问题：http: [//stephband.info/jquery.event.swipe/](http://stephband.info/jquery.event.swipe/)

他们在他们的网站上指出的解决方案是在事件上调用 preventDefault 方法以防止它被阻塞，如此处所示。

```
jQuery('.mydiv')
.on('movestart', function(e) {
  // If the movestart is heading off in an upwards or downwards
  // direction, prevent it so that the browser scrolls normally.
  if ((e.distX > e.distY && e.distX < -e.distY) ||
      (e.distX < e.distY && e.distX > -e.distY)) {
    e.preventDefault();
  }
}); 
```

我没有使用 jQuery mobile 的经验，但我认为问题是相似的。

# php - IF EXISTS UPDATE ELSE INSERT 的语法错误

> ID：12436602
> 
> 赞同：7
> 
> 时间：2012-09-15T10:31:24.230
> 
> 标签：php, mysql, insert, exists

我正在使用托管在我的 ISP 上的 MySQL 5.1。这是我的查询

```
mysql_query("
IF EXISTS(SELECT * FROM licensing_active WHERE title_1='$title_1') THEN
    BEGIN
        UPDATE licensing_active SET time='$time' WHERE title_1='$title_1')
    END ELSE BEGIN
        INSERT INTO licensing_active(title_1) VALUES('$title_1')
    END   
") or die(mysql_error()); 
```

错误是

```
... check the manual that corresponds to your MySQL server version for the right syntax to use near 'IF EXISTS(SELECT * FROM licensing_active WHERE title_1='Title1') THEN ' at line 1 
```

我的实际任务涉及

```
WHERE title_1='$title_1' AND title_2='$title_2' AND version='$version' ...ETC... 
```

但我已经减少了它以使解决问题的事情变得更简单

在我对此的搜索中，我不断看到对“ON DUPLICATE KEY UPDATE”的引用，但不知道该怎么做。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-09-15T11:54:24.927

这是一个简单易行的解决方案，试试吧。

```
$result = mysql_query("SELECT * FROM licensing_active WHERE title_1 ='$title_1' ");

if( mysql_num_rows($result) > 0) {
    mysql_query("UPDATE licensing_active SET time = '$time' WHERE title_1 = '$title_1' ");
}
else
{
    mysql_query("INSERT INTO licensing_active (title_1) VALUES ('$title_1') ");
} 
```

*注意：虽然这个问题来自 2012 年，但请记住**mysql_***函数自 PHP 7 起不再可用。*

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-09-15T10:33:27.197

这应该为您解决问题：

```
insert into 
    licensing_active (title_1, time) 
    VALUES('$title_1', '$time') 
    on duplicate key 
        update set time='$time' 
```

这是假设这`title_1`是您表中的唯一列（由数据库强制执行）。

可行的方法`insert... on duplicate`是它首先尝试插入新行，但如果插入因为键停止而被拒绝，它将允许您更新某些字段。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T10:38:04.977

您的查询语法错误。结帐[http://dev.mysql.com/doc/refman/5.0/en/control-flow-functions.html](http://dev.mysql.com/doc/refman/5.0/en/control-flow-functions.html)

使用 on`duplicate key syntax`来达到你想要的结果。见[http://dev.mysql.com/doc/refman/5.0/en/insert-select.html](http://dev.mysql.com/doc/refman/5.0/en/insert-select.html)

# php - 合并值并插入到数据库字段

> ID：12436605
> 
> 赞同：0
> 
> 时间：2012-09-15T10:31:34.727
> 
> 标签：php, sql

嗨，我要做的是在我的数据库中插入一个时间段值，即**enrollperiod**，格式为： **MONTH** + **STRTDAY** + **ENDDAY**，要获得这些值，我有**3 个**文本区域并将它们组合起来，如下所示：

```
 $enrollp= $_POST['month'] . $_POST['strtday'] . $_POST['endday']; 
```

（我现在不专注于 SQL 注入，但不要担心，我已经阅读了一些 PDO 和准备好的语句文章）

我会这样插入：

```
 $sql="Update tbl_enroll set enrollperiod='$enrollp'"; 
```

我的问题是登记期应该有什么数据**类型**？以及我应该如何能够在注册期间检索值**并**使用在此代码中：

```
 if (date('m') == '09' && date('d') == '12' &&  date('d') == '12' && $allowed) 
```

上面的行没有被修改来检查*开始日期*和*结束日期*我不知道如何执行它。将不胜感激任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:41:01.783

数据库关系（表）中的每个字段（属性）都必须是 ATOMIC。

为什么要将这些值合并到一个字段中？这样做有合理的理由吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T10:41:58.913

我会使用这种格式将其存储在数据库中：

week_strtday_endday

因此，从数据库中检索数据后，您可以使用`explode`函数使用“_”字符拆分这 3 个部分，如下所示：

```
$array = explode('_', $field);
$week = $array[0];
$strtday = $array[1];
$endday = $array[2]; 
```

字段的类型取决于您要存储的数据，例如，如果“week”在 1-53 范围内，“strtday”和“endday”在 1-7 范围内，则 VARCHAR(6 ) 对于那个领域来说可能很酷。

# r - 如何在 R 的时间序列中滞后日期索引？

> ID：12436606
> 
> 赞同：3
> 
> 时间：2012-09-15T10:31:37.497
> 
> 标签：r, date, xts, lag, s

在这里改写的问题：

我已经取得了一些进展，但从 R 那里得到了奇怪的行为......

这是我开始的xts

```
<no title>  Value   Value2  Value3
2002-08-21  21      2       27
2003-09-10  22      42      87
2004-02-12  23      62      67
2005-04-13  24      13      73
2006-05-13  25      4       28
2007-08-14  20      68      25
2008-03-06  19      82      22 
```

我想生产什么：

```
 <no title> Value   Value2  Value3  ThisDate    NextDate
    2002-08-21  21      2       27      2002-08-21  2003-09-10
    2003-09-10  22      42      87      2003-09-10  2004-02-12
    2004-02-12  23      62      67      2004-02-12  2005-04-13
    2005-04-13  24      13      73      2005-04-13  2006-05-13
    2006-05-13  25      4       28      2006-05-13  2007-08-14
    2007-08-14  20      68      25      2007-08-14  2008-03-06
    2008-03-06  19      82      22      2008-03-06  NA 
```

我写了一个这样的函数：

```
StackUpAdjacentDates <- function(sourceTimeSeries)
{
    returnValue <- sourceTimeSeries

    thisDate <- as.character(index(sourceTimeSeries))
    nextDate <- c(as.character(thisDate[2:length(thisDate)]),NA)

    thisDate <- as.Date(strptime(thisDate, "%Y-%m-%d"))
    nextDate <- as.Date(strptime(nextDate, "%Y-%m-%d"))

    # set up thisDate in a new column
    if ("thisDate" %in% colnames(returnValue) )
    {
        returnValue<-returnValue[,-which(colnames(returnValue)=="thisDate")]
    }
    returnValue <- cbind(returnValue, thisDate)
    colnames(returnValue)[ncol(returnValue)] <- "thisDate"
    returnValue$thisDate <- thisDate

    # add nextDate in a new column
    if ("nextDate" %in% colnames(returnValue) )
    {
        returnValue<-returnValue[,-which(colnames(returnValue)=="nextDate")]
    }
    returnValue <- cbind(returnValue,nextDate)
    colnames(returnValue)[ncol(returnValue)] <- "nextDate"
    #returnValue$nextDate <- nextDate

} 
```

这成功地添加了 thisDate （在命令行中逐步运行代码）。但是添加 nextDate 的位似乎覆盖了它！我似乎也得到了一排意想不到的 NA。还在做这个...

```
<no title>  Value   Value2  Value3  nextDate
2002-08-21  21      78      76      12305
2003-09-10  22      70      23      12460
2004-02-12  23      84      22      12886
2005-04-13  24      97      28      13281
2006-05-13  25      26      97      13739
2007-08-14  20      59      22      13944
2008-03-06  19      64      98      NA
<NA>        NA      NA      NA      NA 
```

我在第一列中添加了“无标题”，以表明它是 xts 日期索引，而不是向量/矩阵的一部分。

关于删除额外行的一点是因为我还没有解决覆盖问题并且正在试验。它不需要在最终答案中出现，但这是我目前要做的。

最后，当我询问这个​​结果并尝试将 nextDate 转换为我得到的日期时......

```
> as.Date(returnValue$nextDate)
Error in as.Date.default(returnValue$nextDate) : 
  do not know how to convert 'returnValue$nextDate' to class "Date" 
```

所以我有点糊涂...

下面的原始问题：

我在 R 中有一个时间序列（我学得很快，但显然不够快！）像这样

```
 Value
2002-08-21    21
2003-09-10    22
2004-02-12    23
2005-04-13    24
2006-05-13    25
2007-08-14    20
2008-03-06    19 
```

我想在每行的新列中使用 NEXT 行中的日期索引创建它的派生词：

```
 Value    NextDate
2002-08-21    21       2003-09-10
2003-09-10    22       2004-02-12
2004-02-12    23       2005-04-13
2005-04-13    24       2006-05-13
2006-05-13    25       2007-08-14
2007-08-14    20       2008-03-06
2008-03-06    19       [...] 
```

对于价值（使用滞后）很容易做到，但对于日期索引本身却不是。

我可能可以使用各种查找等来解决如何做到这一点，但它很混乱。您必须在其他字段上进行匹配，或者摆弄那些感觉不太“符合 R”的行号。

有没有一种漂亮、整洁、优雅的方式来做到这一点？

我很确定我会去“D'OH！” 只要有人给出答案！但到目前为止，我还没有在这个网站上找到滞后日期索引的答案。

我想这样做的原因是我想连续使用每一对日期来询问另一个系列。所以可能有更好的方法来做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T11:24:09.707

我不确定`xts`对于您尝试做的事情是最好的，但它的价值在于如何获取您的`xts`对象，制作`dataframe`并创建您想要的额外时间列，然后将其转换为时间格式。

```
 data(sample_matrix)
 x <- as.xts(sample_matrix)
 head(x)
 df <-as.data.frame(x)
 head(df)
 newdates<-rownames(df)

 df$nextdates<-c(newdates[2:length(newdates)],"NA")
 df$nextdates<-as.POSIXct(strptime(df$nextdates, "%Y-%m-%d"))
 head(df) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T16:29:22.007

我认为这与您实际想要做的类似：

```
library(xts)
#create example xts
times <- seq(as.Date('2002-08-21'),as.Date('2002-09-06 '),by="day")
myts <- xts(x=1:length(times),order.by=times)

#second xts, with start and end times
times2 <- c("2002-08-21","2002-08-31","2002-09-06")    
myts2 <- myts[times2] 

#get start and end times
ix <- index(myts2)

#get positions in myts
ep <- which(index(myts) %in% ix)-1

#calculate means
period.apply(myts,ep,mean) 
```

注意：在计算期间平均值时，这包括开始时间，不包括结束时间。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-26T20:50:05.270

我相信您正在寻找的是：

```
dayDifff <- function(X)
{
    as.numeric(as.Date(index(X))) - c(NA, as.numeric(as.Date(index(X[-nrow(X)]))))
} 
```

其中 X 是一个`xts`对象。我已将本地`POSIXct`时间转换为日期，并`NA`在头部添加了一个，并使用`X[-nrow(X)]`.

如果您有以秒为单位的时间等，您需要保持秒精度`POSIXct`，但您应该能够通过片刻的努力从上面的日期/整数大小写到那个。

# ibm-midrange - 是否可以从 CL 程序中的随机文件中检索记录？

> ID：12436608
> 
> 赞同：1
> 
> 时间：2012-09-15T10:31:47.780
> 
> 标签：ibm-midrange

假设有一个物理文件，其名称在参数中传递给 CL 程序。鉴于关键字段名称和值存储在文件中并将通过 RCVF 读取，是否可以通过这种方式从文件中检索给定记录？我想以这种方式从该记录中提取字段的值。文件的名称、其键列表和相应的键值在编译时无法确定。

我目前正在为我的开发人员开发一个实用程序。在所有功能中，其中之一是从文件中检索记录并检查其中一个字段的值。有几个文件需要检查（而且还会有更多），它们都有不同的键。文件名、它们的键列表和要返回的字段都存储在控制文件中。用户将从 UI 中选择文件，CL（或任何其他语言）将使用现有信息来检索字段值。

如您所见，使用并非直接用于业务，但我仍然希望将以后的维护难度保持在尽可能低的水平。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T16:28:21.570

该[`DCLF`](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/topic/cl/dclf.htm)语句在编译时与文件格式相关联。

从理论上讲，您应该能够在编译时使用通用文件并[`OVRDBF`](http://publib.boulder.ibm.com/infocenter/iseries/v7r1m0/topic/ddp/rbae5ovrcon.htm)执行`LVLCHK(*NO)`您想要的操作，但除非编译时文件的记录长度小于被覆盖的文件，否则它将抛出*CPF0859 。*如果你这样做，尽管你最终会截断超过编译时间长度的任何数据。

最简单的解决方案是在 RPG 中使用程序描述文件执行此操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-17T05:30:15.457

另一种动态方法是将文件名和关键字段名称作为变量传递到 QM 查询中。这可以通过 CL 完成，或者在 REXX 中更简单。

我对动态文件名使用通用 QM 查询，并使用动态数量的分组字段。

```
SELECT  &FLDS, int(count(*)) AS TALLY
  FROM  &FILE                             
  GROUP BY &FLDS                          
  ORDER BY &FLDS 
```

该查询是我创建的名为 VALUES 的命令的基础，该命令列出了某个文件中给定字段（或多个字段）的值，以及它出现的频率。

```
VALUES FILE(CUSTMAST) FLDS('CTYPE') 
VALUES FILE(CUSTMAST) FLDS('CSTATE, CTYPE') 
```

第一个命令显示 CUSTMAST 表中 CTYPE 的所有值。接下来显示每种类型在每个州中出现的数量。

困难在于您如何将任何答案返回给您的 CL。如果您对简单地在屏幕上显示结果感到满意，这很好。或者您可以将输出定向到文件。但即使采用这种方法，REXX 也会帮助您 ;-)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-23T21:14:43.330

您希望将答案返回给您的 CL 程序。现在让我们假设您正在寻找的答案类型可以适合单个返回类型，比如说数字，但字符可以实现为备用接口。

您可以拥有一个 SQL ILE RPG 程序，该程序根据输入参数动态地准备其 SQL 语句，其中包括文件名、要使用的列名等。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-15T16:57:12.970

我推荐 REXX。你的问题在 REXX 中很简单。

它是一种动态脚本语言，多年来一直包含在操作系统中，但被广泛忽视。它允许您轻松编写 CL 和 SQL 脚本，如果您愿意，可以动态构建语句。REXX 擅长字符串处理和解析。事实上，在 REXX 中，一切都是字符串，即使它也是一个数值。

您可以传入文件名、键字段、键值和要检索的列的名称。这些参数可以组合成一个 SQL 语句，然后就可以了 :)

请参阅[REXX 参考](http://publib.boulder.ibm.com/infocenter/iseries/v6r1m0/topic/books_web/sc415729.pdf)和[REXX 程序员指南](http://publib.boulder.ibm.com/infocenter/iseries/v6r1m0/topic/books_web/sc415728.pdf)

创建一个具有 type 的源成员`REXX`，并且不编译，而是使用`STRREXPRC`.

不是 REXX 命令或计算结果为字符串的语句在外部命令环境中执行。默认情况下，该环境是 CL，但您可以使用`ADDRESS`其他环境，尤其是 SQL。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-19T13:45:42.687

听起来好像您想在 CL 中编写 DSPDTA。

CL 几乎没有实现这一点所需的一切，但 CL 很容易通过您编写的命令进行扩展。为此，编写几个 RPG 程序（以满足您的同事）来实现您需要的文件 I/O 功能。将这些 RPG 程序包装在您编写的 CL 命令中。一些帮助您入门的想法：

*   声明文件
*   检索字段信息
*   打开文件
*   设置密钥
*   检索记录
*   从文件字段设置 CL 变量
*   关闭文件

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-17T17:38:09.483

是的，但为什么要这样做？根本问题是 CL 不适用于数据库操作，而像 RPG 这样的语言却是。当涉及到完全动态的文件操作时，RPG 和 CL 都有一个缺点：它们是强类型语言。这意味着您需要提前声明要从文件*中*返回的数据类型。这对于真正的动态文件 I/O 来说有点问题。这个问题的经典答案（编译时未知的文件）是编写一个为您创建处理程序的工具。

为工具（可以而且应该是您编写的 CL 命令！）提供文件名、密钥结构、要检索的字段等，然后该工具使用适当的 API 从文件中提取字段定义，然后继续开始实际编写 CL 源代码，然后编译它，然后为您调用。据推测，这些不同文件中的字段或多或少会发生一些标准的业务处理；该工具也应该这样写。

# iphone - searchBar: textDidChange: 对低内存设备有效吗？

> ID：12436623
> 
> 赞同：0
> 
> 时间：2012-09-15T10:33:57.423
> 
> 标签：iphone, ios, xcode, cocoa-touch, ipad

```
searchBar: textDidChange: 
```

是一种很好的委托方法，可以极大地改善用户体验，但是在 iPhone 3G 或原始 iPhone 等低内存设备上使用它是否过大？

如果是，您能否提供一个片段来检查使用了哪个 iOS 设备，以便我可以`textDidChange:`为较新的设备实施，而为较旧的设备保留它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T13:07:23.450

该方法是在 iOS 2.0 中添加的，它是在最初的 iPhone 发布后仅一年发布的，并且与 iPhone 3G 同时发布，因此在这些设备上使用应该没问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T15:46:51.027

不，这种方法并不过分。此方法在所有版本的 iOS 硬件上都可以顺利运行，只要该功能中没有密集的代码就可以了。（例如，阻塞代码，例如写入文件等）

# clojure - 一个接地通道仍在层中积聚

> ID：12436625
> 
> 赞同：2
> 
> 时间：2012-09-15T10:34:19.283
> 
> 标签：clojure

我想为 Clojure 使用 Lamina 库，特别是一个不返回任何消息的接地通道，其映射函数（侦听器？）用于转换消息和更新 UI 元素。

我的代码工作正常，并且符合我的预期，但是当我将其可视化时，它表明值实际上是在累积的：

```
(use 'lamina.core 'lamina.viz)
(def ch (grounded-channel))
(map* inc ch)
(enqueue ch 1 2 3)
(view-graph ch) 
```

这些值永远不会被使用，也无法访问：

```
(read-channel ch)
<< ... >> ;; empty channel
(last* ch)
<< ERROR: :lamina/already-consumed! >> 
```

这种隐藏的积累有问题吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T18:34:43.407

消息不会在接地通道中累积，它们会在您通过调用创建的通道中累积`(map* inc ch)`。请记住，调用类似`map*`返回一个新频道，如[https://github.com/ztellman/lamina/wiki/Channels-new](https://github.com/ztellman/lamina/wiki/Channels-new)的“频道操作员”部分所述。如果要访问该新通道中累积的消息，则需要在返回的通道上调用 read-channel `map*`。

# java - 如何存储 Oracle 数据库并将其转换为 msaccess/excel

> ID：12436626
> 
> 赞同：1
> 
> 时间：2012-09-15T10:34:21.510
> 
> 标签：java, oracle, excel, ms-access, offline

我有一个问题，我的一个客户需要

一个程序，它将连接到 oracle 数据库服务器，并将表**下载/存储**到本地文件（例如，**microsoft access**），就像在客户端可以输入 excel 文件并将其添加到该本地文件后进行转换一样

我的客户希望本地文件/数据库**可以**离线存储在程序文件夹中

程序将完成其余的下载表格，转换，输入，最后打印数据

我知道许多教程都提出了使用 java 连接/更新 oracle（使用 OLDBC-JDBC）或打开和修改 msaccess 文件（使用 excel 转换）的想法

但是要将它们全部结合起来？你怎么能在java中做到这一点？

我已经看到有人这样做了，但是在 VB6 中，他的代码有点乱

仅供参考：数据很大，它使用大约**600.000**行，每月更新一次

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:39:19.873

如果只需要数据，为什么不将其下载为可以使用[Apache POI](http://poi.apache.org/)轻松呈现的 excel呢？甚至 excel 也可以用作数据源（而不是 MS-Access）。您只需要将其转换为 MS-Access 吗？请添加有关您的问题陈述的更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T10:44:39.457

如果所需的输出是 MS Access，您可能想要探索的一种方法是[Jackcess](http://jackcess.sourceforge.net/)。他们在网页上提供的示例之一是将外部表复制到 MS Access 中，这就是您似乎需要的所有代码：

```
Database.open(new File("my.mdb")).copyTable("Imported", resultSet); 
```

我没有使用该库的第一手经验，但它看起来相当不错。

对于 Excel 输出，我同意 Chris 的观点，POi 是要走的路。但是，还有一个名为[jXLS](http://jxls.sourceforge.net/index.html)的库，它是 POI 之上的一个层，它大大简化了格式化 XLS 工作表的创建，查看这个将 JDBC 结果集（查询 Oracle 的结果）转换为漂亮的 Excel 的[示例](http://jxls.sourceforge.net/samples/resultsetsample.html)文件。

编辑：根据您对克里斯回答的评论，如果实际上您得到的只是数据库坐标和用户并通过，您将不得不：

[第 1 步：使用DatabaseMetaData](http://docs.oracle.com/javase/6/docs/api/java/sql/DatabaseMetaData.html#getTables%28java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String%5B%5D%29)获取表名，示意图如下：

```
Connection c = DriverManager.getConnection (...);
DatabaseMetaData md = c.getMetaData();
ResultSet rs = md.getTables(null, null, "%", null);
while (rs.next()) {
  System.out.println(rs.getString(3));
} 
```

第二步：遍历得到的表列表，进行如上图的表复制

# cordova - 未知的铬错误：-6：sencha 和 phonegap

> ID：12436627
> 
> 赞同：0
> 
> 时间：2012-09-15T10:34:22.867
> 
> 标签：cordova, sencha-touch-2

我正在 Sencha-touch 和 phonegap 中制作应用程序，需要您的帮助。我已经使用 eclipse 在模拟器（android 2.1、4.1）上成功运行了我的应用程序。我在三星手机（android 2.3.3）上成功运行了我的应用程序，但是当我在三星 Galaxy Tab 10.1（即 android-4.1.4）上运行它时，它只显示一个白屏。

此外，在 android 模拟器 4.0.3 上，我得到一个带有以下 logcat 文件的白屏：

```
09-15 00:10:24.031: I/dalvikvm(635): threadid=3: reacting to signal 3
09-15 00:10:24.101: I/dalvikvm(635): Wrote stack traces to '/data/anr/traces.txt'
09-15 00:10:24.181: D/SoftKeyboardDetect(635): Ignore this event
09-15 00:10:24.271: W/webcore(635): java.lang.Throwable: EventHub.removeMessages(int     what = 107) is not supported before the WebViewCore is set up.
09-15 00:10:24.271: W/webcore(635):     at android.webkit.WebViewCore$EventHub.removeMessages(WebViewCore.java:1683)
09-15 00:10:24.271: W/webcore(635):     at android.webkit.WebViewCore$EventHub.access$7900(WebViewCore.java:926)
09-15 00:10:24.271: W/webcore(635):     at   android.webkit.WebViewCore.removeMessages(WebViewCore.java:1795)
09-15 00:10:24.271: W/webcore(635):     at android.webkit.WebView.sendOurVisibleRect(WebView.java:2917)
09-15 00:10:24.271: W/webcore(635):     at android.webkit.ZoomManager.setZoomScale(ZoomManager.java:593)
09-15 00:10:24.271: W/webcore(635):     at android.webkit.ZoomManager.access$1700(ZoomManager.java:49)
09-15 00:10:24.271: W/webcore(635):     at android.webkit.ZoomManager$PostScale.run(ZoomManager.java:984)
09-15 00:10:24.271: W/webcore(635):     at android.os.Handler.handleCallback(Handler.java:605)
09-15 00:10:24.271: W/webcore(635):     at android.os.Handler.dispatchMessage(Handler.java:92)
09-15 00:10:24.271: W/webcore(635):     at android.os.Looper.loop(Looper.java:137)
09-15 00:10:24.271: W/webcore(635):     at android.app.ActivityThread.main(ActivityThread.java:4424)
09-15 00:10:24.271: W/webcore(635):     at java.lang.reflect.Method.invokeNative(Native Method)
09-15 00:10:24.271: W/webcore(635):     at java.lang.reflect.Method.invoke(Method.java:511)
09-15 00:10:24.271: W/webcore(635):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
09-15 00:10:24.271: W/webcore(635):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
09-15 00:10:24.271: W/webcore(635):     at dalvik.system.NativeStart.main(Native Method)
09-15 00:10:24.311: D/SoftKeyboardDetect(635): Ignore this event
09-15 00:10:24.351: D/gralloc_goldfish(635): Emulator without GPU emulation detected.
09-15 00:10:33.461: I/SqliteDatabaseCpp(635): sqlite returned: error code = 14, msg = cannot open file at line 27701 of [8609a15dfa], db=/data/data/com.napp.www/databases/webview.db
09-15 00:10:33.461: I/SqliteDatabaseCpp(635): sqlite returned: error code = 14, msg = os_unix.c: open() at line 27701 - "" errno=2 path=/CachedGeoposition.db, db=/data/data/com.napp.www/databases/webview.db
09-15 00:10:33.551: D/dalvikvm(635): GC_CONCURRENT freed 127K, 3% free 9362K/9607K, paused 5ms+4ms
09-15 00:10:34.931: D/chromium(635): Unknown chromium error: -6
09-15 00:10:34.931: D/chromium(635): Unknown chromium error: -6
09-15 00:10:34.931: D/chromium(635): Unknown chromium error: -6
09-15 00:17:20.591: D/dalvikvm(635): GC_CONCURRENT freed 422K, 6% free 9382K/9927K, paused 5ms+9ms 
09-15 00:24:16.031: D/dalvikvm(635): GC_CONCURRENT freed 423K, 6% free 9372K/9927K, paused 4ms+4ms 
```

你能帮我解决什么问题吗？提前致谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-13T23:28:28.320

上面的答案有效，但如果您使用的是 Ext.Ajax，您还需要在配置中添加几个参数以找到这些文件。

```
noCache: false, 
enablePagingParams: false, 
```

[Sencha 论坛上的](http://www.sencha.com/forum/archive/index.php/t-162322.html?s=33b9b02665f69b3c58eeea1f6a635568)好帖子描述了这个问题和解决方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T14:20:29.033

在任何 javascript 代码之前使用它：

```
Ext.Loader.setConfig({ disableCaching: false });
Ext.Ajax.setDisableCaching(false); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-15T08:58:25.120

要使其在不同版本的 android 中工作，请在任何其他 javascript 之前在 HTML 文件的标头中添加代码。

```
<script>        
Ext.Loader.setConfig({
    enabled: true,
    disableCaching: false
    });

    Ext.Ajax.setDisableCaching(false);
</Script> 
```

# php - 在 PHP 中使用 odbc_exec 时使用 try-catch 语句的意外行为

> ID：12436629
> 
> 赞同：2
> 
> 时间：2012-09-15T10:34:34.273
> 
> 标签：php, odbc, try-catch, wampserver

在[较早的问题](https://stackoverflow.com/questions/12074937/suppress-php-error-from-a-odbc-connect-call)中，我得到了在 odbc_connect 调用上使用 try-catch 语句的建议。好吧，说了又做了，这就是我试图做的。

以下代码尝试使用虚假登录信息连接到数据库，但无法按预期工作。

```
<?php
  try
  {
    odbc_connect('BogusDatabase','BogusUser','BogusPassword');
  }
  catch (Exception $e)
  {
    echo "Something went wrong!";
  }
?> 
```

我希望输出是一个字符串，上面写着“出了点问题！”。相反，我得到了这个：

![该死！ 我不要这个！](../Images/5bd8895e1a101484c2b99e23879f7a03.png)

我正在使用[Wampserver](http://www.wampserver.com/en/)运行我的 PHP 代码。我不知道这是否是问题的一部分。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-15T15:15:01.033

正如@Aurimas 所说，您必须使用 error_handler 来做到这一点。 [http://php.net/manual/en/function.set-error-handler.php](http://php.net/manual/en/function.set-error-handler.php)

此函数负责处理脚本中发生的错误，并在每次抛出错误时调用您提供的函数。

一个简单的处理程序是

```
function($errno, $errstr, $errfile, $errline ) {
    throw new ErrorException($errstr, $errno, 0, $errfile, $errline);
} 
```

每次在脚本中引发错误时，它都会引发 ErrorException。所以整个脚本将按照您的预期运行：

```
 set_error_handler(function($errno, $errstr, $errfile, $errline ) {
    throw new ErrorException($errstr, $errno, 0, $errfile, $errline);
 });
 try
{
  odbc_connect('BogusDatabase','BogusUser','BogusPassword');
}
catch (Exception $e)
{
  echo "Something went wrong!";
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T10:44:09.447

在 PHP 手册[Exeptions 上](http://php.net/manual/en/language.exceptions.php)：

> 内部 PHP 函数主要使用错误报告，只有现代面向对象的扩展使用异常。但是，错误可以通过 ErrorException 简单地转换为异常

查看[ErrorException](http://php.net/manual/en/class.errorexception.php)并设置您的自定义错误句柄，以捕获这些错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T11:19:20.837

该函数没有抛出异常。相反，它会触发警告。如果您不想显示警告，可以使用 error_reporting() 仅显示实际错误。

# php - 从输入的名字和用户的姓氏中获取结果

> ID：12436634
> 
> 赞同：0
> 
> 时间：2012-09-15T10:35:38.843
> 
> 标签：php, mysql

我创建了一个搜索用户系统，其中用户通过他们的名字或电子邮件进行搜索，但问题是如果我输入用户的全名，它不会搜索它，而且我也无法对此进行查询。我使用此查询从名字和电子邮件中获取用户。

```
"select * from users_profile where fname like '%$q%'  or Email like '%$q%' order by rand() LIMIT 10" 
```

但是如何从名字和名字中获取用户。假设我输入`"john"`它会给出完整的结果，`john doe`但是如果我输入全名，例如`john doe`它不会给出任何结果。在我的数据库中，`first name`由`fname`和`last name`表示`lname`。对此有什么帮助吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:38:54.337

您可以使用 mysql [CONCAT](http://dev.mysql.com/doc/refman/5.0/en/string-functions.html#function_concat)函数连接名字和名字，然后搜索结果，如下所示：

```
select * from users_profile where CONCAT(fname,' ',lname) like '%$q%' 
```

那应该做你想做的事。

# php - 很容易修复 PHP（类）中的错误

> ID：12436637
> 
> 赞同：-4
> 
> 时间：2012-09-15T10:36:23.140
> 
> 标签：php, class, function

我刚开始使用类，但是当我执行包含该类的页面时，我的脚本就停止了。另外，代码和功能本身并不完整，只是在一些基础上添加了一些代码。

```
class doVersus
{
        private var $p1health;
        private var $p2health;
        private var $dmg;
        public var $longlog;
        function __construct($hp1m, $hp1c, $hp2m, $hp2c, $stg, $prev_log, $hp2n)
        {

                if($stg==0)
                {
                        $longlog = "The battle has begun..<br>".$_GET['user'];
                        //startBattle($hp1m, $hp1c, $hp2m, $hp2c, $stg, $prev_log, $hp2n);
                        echo $longlog;
                }else{
                        $longlog = $longlog."TURN: ".$stg."<br>";
                        //startBattle($hp1m, $hp1c, $hp2m, $hp2c, $stg, $prev_log, $hp2n);
                        echo $longLog;

        }

        private function startBattle($hp1m, $hp1c, $hp2m, $hp2c, $stg, $prev_log, $hp2n)
        {
                if($hp1c<0 || $hp2c<0)
                {
                        $longlog = $longlog."The battle has ended!<br>"
                        stopBattle($hp1c, $hp2c);
                }else{
                        echo $longlog;
                }
        }
        private function doDmg($a)
        {
                $longlog = $longlog." strikes ".$hp2n." with ".$dmg." normal damage";
        }
        private function stopBattle($a, $b)
        {
                echo $longlog." Battle has ended.";
        }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T10:38:28.563

`}`最后，您的构造函数 ( `__construct`)中缺少A。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:49:44.417

You didn't closed the `else` statement in the constructor.

Then, in PHP5, you don't need to declare variables by writing `var` in your declarations.

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T10:40:16.940

看起来`else`构造函数没有关闭

# wix - 在静默模式下使用命令行参数执行批处理文件

> ID：12436642
> 
> 赞同：0
> 
> 时间：2012-09-15T10:36:53.483
> 
> 标签：wix, custom-action

我想执行我的批处理文件，它需要 3 个 cmd 行参数，它应该在其中执行静默模式[不应该看到控制台]。下面是我的 wix 代码：

```
 <CustomAction Id="ScrptsMngr" Property= "PrptyScrptsMngr"
              Value="&quot;[#filC22B3172A663C01F17B8CE4D55CB7DE2]&quot; [ARG1] [ARG2] [ARG3]" Execute="immediate"/>
               <CustomAction Id="PrptyScrptsMngr" BinaryKey="WixCA" DllEntry="CAQuietExec" Execute="deferred" Return="asyncWait" Impersonate="yes"/> 
```

上述自定义操作对我不起作用。由于 CAQuietExec 执行失败，它总是抛出错误。我的自定义操作是否正确

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-09-15T18:30:43.790

尝试为每个 ARG1/2/3 添加“ (”) 并尝试。还要确保在 product.wxs seqeunce 中的“ScrptsMngr”之后设置了“PrptyScrptsMngr”调用

```
<CustomAction Id="QtCmdLineRmDummies" Property="QtExecCmdLine"Value="&quot;[SystemFolder]cmd.exe&quot; /c del /Q &quot;[INSTALLLOCATION]\dummy*.*&quot;" />
<CustomAction Id="QtCmdRmDummies" BinaryKey="WixCA" DllEntry="CAQuietExec" Execute="immediate" Return="ignore" /> 
```

在 product.wxs

```
<Custom Action="QtCmdLineRmDummies" After="InstallFinalize">NOT INSTALLED AND NOT REMOVE</Custom>
<Custom Action="QtCmdRmDummies" After="QtCmdLineRmDummies">NOT INSTALLED AND NOT REMOVE</Custom> 
```

# string - 排列一个字符串

> ID：12436643
> 
> 赞同：0
> 
> 时间：2012-09-15T10:36:55.053
> 
> 标签：string, perl

```
$str = '[Hi|Hello|Aloha] [Kate|Ann|Polly]'; 
```

我需要一个函数来打印 str 的随机变化。例如：

```
Hi Ann
Hello Polly
....
.... 
```

有什么想法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T11:50:24.013

```
$str = '[Hi|Hello|Aloha] [Kate|Ann|Polly]';

$str =~ s{
    \[ ( [^\]]* ) \]
}{
    my @choices = split /\|/, $1;
    $choices[rand(@choices)]
}xeg;

say $str; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T10:41:45.330

只需从集合中生成两个随机数`{0,1,2}`并分别构建您的问候语。例如：如果生成的数字是`1`and `2`，那么你输出`'Hello Polly'`。如果`2`和`0`，那么`'Aloha Kate'`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T12:02:02.610

我会使用列表和列表包来做到这一点，`shuffle`并`pairwise`想到，例如：

```
use 5.010;
use List::Util qw /shuffle/;
use List::MoreUtils qw/pairwise/;

$, = " ";

@greetings = shuffle qw(Hi Hello Aloha);
@names     = shuffle qw(Kate Ann Polly);

pairwise { say $a, $b } @greetings, @names; 
```

示例输出：

```
Hello Polly
Aloha Ann
Hi Kate 
```

如果您对字符串格式感到困惑，可以将其转换为列表，如下所示：

```
$str = '[Hi|Hello|Aloha] [Kate|Ann|Polly]';
($greetings, $names) = $str =~ /\[([^]]+)\] +\[([^]]+)\]/;

@greetings = shuffle split /\|/, $greetings;
@names     = shuffle split /\|/, $names; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T11:16:36.723

将两个数组中的两个随机元素组合起来相当简单，@OleksandrBondarenko 回答了这个问题。更有趣的问题是如何从该字符串中获取数据结构。

### 可能性 1

更改输入格式。您需要两个列表/数组，而不是字符串。如果您可以更改您的 API 或接口，那么这样做可能比使用此字符串表示更容易

### 可能性 2

从该字符串和`eval`它创建 Perl 代码。虽然这很容易，但这是一个严重的安全问题，因此这应该只应用于输入众所周知且受信任的一次性问题：

```
my $str = '[Hi|Hello|Aloha] [Kate|Ann|Polly]';
$str =~ s/ /,/g;            # '[Hi|Hello|Aloha],[Kate|Ann|Polly]'
$str =~ s/\|/","/g;         # '[Hi","Hello","Aloha],[Kate","Ann","Polly]'
$str =~ s/\[/["/g;          # '["Hi","Hello","Aloha],["Kate","Ann","Polly]'
$str =~ s/\]/"]/g;          # '["Hi","Hello","Aloha"],["Kate","Ann","Polly"]'
my @arrayrefs = eval $str;  # (["Hi","Hello","Aloha"],["Kate","Ann","Polly"])
my @greetings = @{shift @arrayrefs};
my @names     = @{shift @arrayrefs}; 
```

不要在生产代码中这样做，因为字符串可能包含任意代码，可能会对您的计算机、文件或安全性造成严重损坏。

### 可能性 3

正确处理和解析数据。虽然这有时很困难，但它是最安全的解决方案。

```
my $str = '[Hi|Hello|Aloha] [Kate|Ann|Polly]';
my @strings = split /(?<=\])\s+(?=\[)/, $str;
# for each $string in @strings:
$string =~ s/^\[//;  # 
$string =~ s/\]$//;  # or: $string = substr $str, 1, length $str -2;
my @parts = split /\|/, $string 
```

第一个`@parts`是问候数组，第二个是名称数组。这个解决方案需要一些我省略的进一步代码。

第一个正则表达式中的环视`split`并不是真正必要的，但比对数据格式做出假设要好。

# unicode - 确定文件编码：Unicode 或 ANSI

> ID：12436646
> 
> 赞同：0
> 
> 时间：2012-09-15T10:37:10.657
> 
> 标签：unicode, encoding, installation, nsis

我正在使用 NSIS 的 Unicode 版本来制作安装程序。我将在 ANSI 和 Unicode 文件中添加行。在向文件写入一行之前，我需要知道文件是 ANSI 编码还是 Unicode，所以我知道我应该使用**FileWrite**还是**FileWriteUTF16LE**。

**如何找出文件的编码类型？**

可以告诉我文件编码的[Unicode 插件](http://nsis.sourceforge.net/Unicode_plug-in)不适用于*NSIS Unicode*，函数**unicode::UnicodeType**总是返回 6。

任何建议都会非常有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T21:05:44.233

如果您想继续使用该插件，您可以自己将其重新编译为 unicode 或尝试[CallAnsiPlugin 插件](http://nsis.sourceforge.net/CallAnsiPlugin_plug-in)。

您也可以自己执行检查：

```
!include LogicLib.nsh

!define ByHandleIsFileUTF16LE "'' ByHandleIsFileUTF16LE "
!macro _ByHandleIsFileUTF16LE a b t f
!insertmacro _LOGICLIB_TEMP
FileReadByte ${b} $_LOGICLIB_TEMP
IntCmpU $_LOGICLIB_TEMP 0xFF "" `${f}`
FileReadByte ${b} $_LOGICLIB_TEMP
IntCmpU $_LOGICLIB_TEMP 0xFE `${t}` `${f}`
!macroend
!define IsFileUTF16LE "'' IsFileUTF16LE "
!macro _IsFileUTF16LE a b t f
!insertmacro _LOGICLIB_TEMP
Push $0
FileOpen $0 "${b}" r
!define _IsFileUTF16LE _IsFileUTF16LE${__LINE__}
!insertmacro _ByHandleIsFileUTF16LE '' $0 ${_IsFileUTF16LE}t ${_IsFileUTF16LE}f
${_IsFileUTF16LE}f:
    StrCpy $_LOGICLIB_TEMP ""
${_IsFileUTF16LE}t:
!undef _IsFileUTF16LE
FileClose $0
Pop $0
StrCmp "" $_LOGICLIB_TEMP `${f}` `${t}`
!macroend

section

!macro testutf16detection file
${If} ${IsFileUTF16LE} "${file}"
    DetailPrint "${file} is UTF16LE"
${Else}
    DetailPrint "${file} is NOT UTF16LE"
${EndIf}
!macroend

!insertmacro testutf16detection "$temp\test1.txt"
!insertmacro testutf16detection "$temp\test2.txt"

sectionend 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-26T20:43:11.370

一种可能的解决方案是检查[BOM](http://en.wikipedia.org/wiki/Byte_order_mark#Representations_of_byte_order_marks_by_encoding)。以下是检查文件是否使用 UTF16LE 编码的方法：

```
!define fileIsUTF16LE "!insertmacro FileIsUTF16LE"
!macro FileIsUTF16LE file result
  Push $0
  Push $1
  FileOpen $0 "${file}" r
  FileReadByte $0 $1
  IntCmpU $1 0xFF "" FileIsUTF16LE_ItsNot FileIsUTF16LE_ItsNot
  FileReadByte $0 $1
  IntCmpU $1 0xFE FileIsUTF16LE_ItIs FileIsUTF16LE_ItsNot FileIsUTF16LE_ItsNot
  FileIsUTF16LE_ItIs:
    StrCpy ${result} 1
    Goto FileIsUTF16LE_Done
  FileIsUTF16LE_ItsNot:
    StrCpy ${result} 0
  FileIsUTF16LE_Done:
    FileClose $0
    Pop $1
    Pop $0
!macroend 
```

用法：

```
${fileIsUTF16LE} "$R0" $3
${If} $3 == 1 
```

请注意，这并不适用于所有情况，因为并非所有 UTF 编码都需要 BOM。您可以轻松地修改此宏以检查[其他 BOM](http://en.wikipedia.org/wiki/Byte_order_mark#Representations_of_byte_order_marks_by_encoding)，但是，明确确定编码并[非易事](https://stackoverflow.com/questions/3404199/how-to-find-out-the-encoding-of-a-file-c-sharp)。一种方法是检查所有不同的 BOM，如果文件没有 BOM，则假定它不是 unicode。

# java - Java 中低效的 XML 解析

> ID：12436647
> 
> 赞同：1
> 
> 时间：2012-09-15T10:37:17.720
> 
> 标签：java, android

我有一个这样的 XML：

```
<thoughts>
    <thought>
        <id>1</id>
        <category>Leadership</category>
        <what>sometext</what>            
        <who>sometext</who>
    </thought>
    <thought>
        <id>2</id>
        <category>Leadership</category>
        <what>sometext</what>            
        <who>sometext</who>
    </thought>
    ... 100's of with category Leadership
    <thought>
        <id>1</id>
        <category>Love</category>
        <what>sometext</what>            
        <who>sometext</who>
    </thought>
    <thought>
        <id>2</id>
        <category>Love</category>
        <what>sometext</what>            
        <who>sometext</who>
    </thought>
    ... 100's of with category Love

    ... and so on up to about ten categories
</thoughts> 
```

我在 java 中解析这个 xml 以获取 android 中的特定类别和 id。这是我的代码：

```
String id= "100",category="Love";// for example
DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();
DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();
Document doc = dBuilder.parse(getResources().openRawResource(R.raw.thoughts));
doc.getDocumentElement().normalize();

// Log.d(LOG,"root: " + doc.getDocumentElement().getNodeName());
NodeList nList = doc.getElementsByTagName("thought");

for (int temp = 0; temp < nList.getLength(); temp++) {
    org.w3c.dom.Node nNode = nList.item(temp);
    Element eElement = (Element) nNode;
    if (nNode.getNodeType() == Node.ELEMENT_NODE && getTagValue("id", eElement).contains(id) && getTagValue("category", eElement).contains(category)) {
        Log.d("THOUGHTSERVICE", "getTagValue(\"what\", eElement):"+getTagValue("what", eElement));
        what = getTagValue("what", eElement);
        who = getTagValue("who", eElement);
    }
} 
```

问题是：这是一种蛮力。你能建议一些其他的方法吗？可以举个例子。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:41:54.643

为什么不使用 JAXB。您可能想查看[Best XML parser for Java](https://stackoverflow.com/questions/373833/best-xml-parser-for-java)以了解更多详细信息

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:43:02.487

[基于XPath](http://docs.oracle.com/javase/6/docs/api/javax/xml/xpath/XPath.html)的查询似乎更适合这种情况，因为您知道自己感兴趣的节点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T10:41:25.610

更好用`xmlPullParser`，它是按顺序读取的，你可以在找到并阅读你感兴趣的标签后立即停止阅读。它会减少 RAM 的使用，而且如果所需的标签出现在文件的开头，你就不需要阅读文件的其余部分。

你也可以做一些跳过，比如如果`<id>`不匹配，跳到下一个`<id>`标签。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T11:21:28.180

// 使用 DOM Parser Procedure 解析 xml 响应字符串

```
DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
DocumentBuilder db = factory.newDocumentBuilder();
Document doc = db.parse(inStream);
NodeList nodeList = doc.getElementsByTagName("thoughts");
for (int index = 0; index < nodeList.getLength(); index++)
{
    Node node = nodeList.item(index);
    if (node.getNodeType() == Node.ELEMENT_NODE)
    {
        Element element = (Element) node;
        NodeList PAYMENT_DATENode = element.getElementsByTagName("id");
        for (int iIndex = 0; iIndex < PAYMENT_DATENode.getLength(); iIndex++) 
        {
            if (PAYMENT_DATENode.item(iIndex).getNodeType() == Node.ELEMENT_NODE) 
            {
                Element nameElement = (Element) PAYMENT_DATENode.item(iIndex);
                String s = (nameElement.getFirstChild().getNodeValue();
            }
        }
    }
} 
```

# android - 在 google+ 上发帖：目前的情况如何？

> ID：12436649
> 
> 赞同：-1
> 
> 时间：2012-09-15T10:37:35.817
> 
> 标签：android, google-plus

> **可能重复：**
> [我们可以从 android 应用程序在 Google plus 上发布吗？](https://stackoverflow.com/questions/8485111/can-we-post-on-google-plus-from-android-application)

根据stackoverflow上的这篇文章 [我们可以从android应用程序在Google plus上发布吗？](https://stackoverflow.com/questions/8485111/can-we-post-on-google-plus-from-android-application)

google+ 的 API 是只读的，所以我无法发布，无论如何日期是指去年..有什么改变吗？

我需要一种在 google+ 的墙上共享链接的方法，您可以在网站上的“google+ 共享”按钮上找到相同的行为，但在我的应用程序上。

我不能依赖 webview，因为用户当前无法登录到 google+ 的帐户，并且我宁愿不启动 webbrowser 的意图：最好的选择肯定是使用 google+ api 来完成这项任务......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:40:32.220

试试这个。

```
Intent shareIntent = ShareCompat.IntentBuilder.from(ShareActivity.this)
   .setText("This site has lots of great information about Android!
      http://www.android.com")
   .setType("text/plain")
   .getIntent()
   .setPackage("com.google.android.apps.plus");

startActivity(shareIntent); 
```

[在这里](http://googleplusplatform.blogspot.in/2012/05/sharing-rich-content-from-your-android.html)查看更多详细信息。

# yii - 检查使用 Yii 构建通用多模型表单的步骤

> ID：12436650
> 
> 赞同：1
> 
> 时间：2012-09-15T10:37:55.167
> 
> 标签：yii

这是场景（一个非常常见的场景）：

*   团队报名表。
*   一个团队可以有多个成员，因此用户可以添加多个成员。
*   至少应插入一名成员。

应允许用户：

*   A) 填写团队详细信息（名称、徽标等）；
*   B) 如果某些字段不正确，则会收到内联通知。
*   C) 选择插入团队或通过发布将其公开，并查看每个选择的相关验证规则。
*   D) 添加更多成员（通过添加成员按钮），这将显示更多要填写的与另一个模型相关的表单字段。（用户也可以删除这些字段）；

我正在考虑遵循以下步骤，但是，在这样做之前，我想请教那些在这些主题上比我更有经验的人。

您能否验证上述步骤并指出可能的重要缺失点？

我们要：

**为一个）**

*   `CActiveForm`使用;渲染表单

**对于 B)**

*   我们需要设置`enableClientValidation`为`true`;
*   我们需要`render both models`一个单一的形式；

**对于 C)**

*   创建验证模型`scenarios`。
*   创建一个复选框，在选中时将方案更改为插入或发布
    *   `Ajax form validation`应该`enable`也是；

**对于 D)**

*   单击时，我们需要显示/隐藏其他字段集。
*   我们需要`tabular input`为会员收集。
*   我们需要使用 renderPartial

在开始使用 Yii 编写代码之前，我是否遗漏了一些重要的东西？你会使用不同的步骤吗？如果是这样，你能分享一下吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T11:39:01.823

如果你想展示 Yii 框架的全部潜力，你宁愿扩展 CFormModel 以包含你想集成到单个表单中的各种模型。

为什么？因为您要使用的 CActiveForm 类被认为与单个模型一起使用。否则，您将必须包含多个表单，每个模型一个，找到一种方法在用户提交创建操作时一次提交所有表单（通过 Javascript），并在服务器端连接它们。

另一种简单的方法是拆分流程，让用户首先使用带有 CActiveForm 的 Team 模型创建团队，然后，一旦创建了团队，将用户重定向到，例如`team/view/1`，并为成员数据，再次使用带有 CActiveForm 的单个模型。如果您想确保每个团队至少存在一个成员，您可以将其保存在 Team 模型中，例如 Team.leader_member。

我希望它有所帮助。干杯。

# jquery - 用jquery附加多个变量

> ID：12436653
> 
> 赞同：3
> 
> 时间：2012-09-15T10:38:14.740
> 
> 标签：jquery, append

我有一个我想用 jQuery 多次附加的 var。代码是这样的：

```
var number = 4;                      //number of times the html must be appended
html = $("<div>Content here</div>"); //The html I want to append
$(document).ready(function() {
    $("body").append(html * number); //Append the div multiple times
}); 
```

我想知道如何使 html var 附加数字 var (4) 中提到的次数？上面的代码不起作用，我明白为什么。但我看不到修复它的方法。有任何想法吗？（我不是 jQuery 方面的专家！）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T10:41:17.903

不能`*`在 jQuery 对象 ( `html`) 和数字 ( `number`) 之间使用运算符。您将不得不为此使用循环，例如：

```
$(function() {
var number = 4;
  var i = 0;
  var container = $("body");
  for (i = 0; i < number; i += 1) {
    var html = $("<div>Content here</div>");
    container.append(html);
  }
}); 
```

**编辑：**放入`html`循环。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T10:41:36.760

`$`你也可以这样做删除

```
 $(document).ready(function() {
    var number = 4; 
    html = "<div>Content here</div>";
    for(var i=0;i< number;i++)       
    {
         $("body").append(html);
    }
   }); 
```

[工作演示](http://jsfiddle.net/JjGPt/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T10:46:08.263

```
Try this Code:-

    $(function() {` 
      for (var i = 0; i<4; i++) {
        $("body").append( ("<div>Content here</div>"));
      }
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T11:07:12.867

`append`多次调用很慢，尤其是在循环中。仅从您的字符串编译 DOM 对象一次，以便有效地使用结果`array.join()`并将数组用作字符串构建器。此外，您更喜欢使用 appendTo 而不是 append，因为它更快。

例子：

```
var number = 4;                      //number of times the html must be appended
var content = "<div>Content here</div>";           //The html I want to append
var stringBuilder = [];
for (var i = 0; i < number; i++) {
    stringBuilder.push(content);
}
$(document).ready(function() {
    $(stringBuilder.join('')).appendTo($("body")); //Append the compiled string to the body
}); 
```

# javascript - angular.js 在 PhoneGap 中不起作用 ng-view 标签

> ID：12436659
> 
> 赞同：8
> 
> 时间：2012-09-15T10:39:04.160
> 
> 标签：javascript, cordova, angularjs

我尝试将 angular.js 与 PhoneGap 一起使用。它在 chrome 浏览器上运行良好。但它不适
用于 ng-view 标签。当我在模拟器上运行 angular 模块时，它不会被调用。你有什么主意吗？

我的代码是这样的。

### 索引.html

```
 <body>
        <div class="app" >
            <h1>Welcome!</h1>
            <div id="deviceready">
                            <div ng-view></div>
            </div>
        </div>

        <script type="text/javascript" src="cordova-2.0.0.js"></script>
        <script type="text/javascript" src="js/index.js"></script>

        <script type="text/javascript">
            app.initialize();
        </script>
                <script src="http:////cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js"></script>
                <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.min.js"> </script>
                <script type="text/javascript" src="js/router.js"></script>

    </body> 
```

### index.js

```
var app = {
    initialize: function() {
        this.bind();
    },
    bind: function() {
        document.addEventListener('deviceready', this.deviceready, false);
    },
    deviceready: function() {
        // note that this is an event handler so the scope is that of the event
        // so we need to call app.report(), and not this.report()
        app.report('deviceready');
    },
    report: function(id) { 
        console.log("report:" + id);
        // hide the .pending <p> and show the .complete <p>
        document.querySelector('#' + id + ' .pending').className += ' hide';
        var completeElem = document.querySelector('#' + id + ' .complete');
        completeElem.className = completeElem.className.split('hide').join('');
    }
}; 
```

### 路由器.js

```
angular.module("app",[]).
    config(["$routeProvider",function($routeProvider){
        $routeProvider.when("/",{templateUrl:"templates/home.html"});
    }]); 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-30T10:42:59.677

尝试使用 bootstrap api 方法在 deviceReady 上手动启动应用程序。就像是：

```
function onDeviceReady() {
    ...
    angular.bootstrap(document, ['ngView']);
    ...
}

document.addEventListener("deviceready", onDeviceReady, true); 
```

[http://docs.angularjs.org/api/angular.bootstrap](http://docs.angularjs.org/api/angular.bootstrap)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-28T06:14:12.817

尝试从该服务器下载 angularjs 和 zepto 文件，然后将其放置在应用程序中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-27T23:51:59.667

我只花了大约 5 个小时试图解决类似的问题。事实证明，phone-gap / cca 出于某种原因将 app-id 附加到 URL 的哈希部分。因此，路由不匹配，并且用户不断被`$routeProvider.otherwise()`呼叫转发回去。

（从那以后，我发现这是CCA的[一个已知问题，](https://github.com/MobileChromeApps/mobile-chrome-apps/issues/128)[甚至已经修复](https://github.com/MobileChromeApps/mobile-chrome-apps/commit/7a3326badb4834089c92217acefdd59ce81c1e67)，只是没有发布！）

无论如何，如果您在让 ngRoute 与 mobile-chrome-tools 和 Phonegap 一起工作时遇到问题，请尝试在您的路线中添加两个可选的匹配组作为解决方法。举个例子：

```
$routeProvider.when('/', { templateUrl: 'templates/home.html', controller: 'HomeCtrl' });
$routeProvider.when('/some-page', { templateUrl: 'templates/some-page.html', controller: 'SomePageCtrl' });
$routeProvider.when('/another-page', { templateUrl: 'templates/another-page.html', controller: 'AnotherPageCtrl' });
$routeProvider.otherwise({ redirectTo: '/' }); 
```

路由不会与添加到 URL 的额外位匹配，但您可以像这样解决它：

```
$routeProvider.when('/:a?/:b?/some-page', { templateUrl: 'templates/some-page.html', controller: 'SomePageCtrl' });
$routeProvider.when('/:a?/:b?/another-page', { templateUrl: 'templates/another-page.html', controller: 'AnotherPageCtrl' });
$routeProvider.when('/:a?/:b?/', { templateUrl: 'templates/home.html', controller: 'HomeCtrl' });
$routeProvider.otherwise({ redirectTo: '/' }); 
```

请注意我添加的两个可选组。另请注意，基本路由位于最后 - 否则如果正确生成 URL，它将匹配所有/大多数路由！

# django - 如何将 post_save 与作为类的方法的侦听器一起使用

> ID：12436660
> 
> 赞同：1
> 
> 时间：2012-09-15T10:39:05.167
> 
> 标签：django, signals

我可以将 post_save 与作为类的方法的侦听器一起使用吗？

我想要的是：

```
class UpdCatalog(models.Model):
    file = models.FileField(upload_to="catalog/")

class SomeClass:
    def codeType(text):
        row_code = text[0], text[1]
        return row_code, row_type

    def main(sender, instance, created, **kwargs):
        text = ["q", "w", "e". "r"]
        row_code, row_type = codeType(text)

signals.post_save.connect(SomeClass.main, sender=UpdCatalog) 
```

当我尝试运行时`main`，不会调用此代码。没有错误。

当听众不在课堂上时，一切正常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:43:35.013

您需要研究函数和实例方法之间的区别。在您的情况下，您可以使用`staticmethod`装饰器。

```
class SomeClass:
    ...

    @staticmethod
    def main(sender, instance, created, **kwargs):
        text = ["q", "w", "e". "r"]
        row_code, row_type = codeType(text) 
```

# iphone - 未启用文本字段时如何在 UITextField 中显示光标？

> ID：12436665
> 
> 赞同：2
> 
> 时间：2012-09-15T10:39:40.357
> 
> 标签：iphone, xcode, ios4

我想在`UITextField`未启用 is 属性时显示光标。在我的应用程序中，我放置了键盘按钮（A、B、C ...）。但是在这里，当我从自定义键盘单击任何字母按钮而不打开默认的 iphone 键盘时，我想显示一个光标。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:45:20.147

You can implement [Custom Views for Data Input](http://developer.apple.com/library/ios/#documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/InputViews/InputViews.html#//apple_ref/doc/uid/TP40009542-CH12-SW1) on iOS. Basically you can define a custom keyboard with your own characters and it will wirk the same as the default keyboards.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:54:32.740

似乎您正在寻找`UITextField`带有自定义键盘并在您按下任何 aphabet 时显示光标。如果那是正确的......首先创建类`CustomKeyboard : UIView`并添加按钮/布局视图。其次，您的文本字段只需将 inputView 属性设置为 CustomKeyboard 类的实例`textField.inputView = customKeyboard`；。第三您还需要将`inputView`属性设置`readwrite`为`@property (readwrite, retain) UIView *inputView;`通过设置 inputView 属性，当文本字段成为第一响应者时，标准 iPhone 键盘将不会出现。

这样你就可以得到你想要的......

# php - 在“Location:”标头中使用协议相关的 URI

> ID：12436669
> 
> 赞同：10
> 
> 时间：2012-09-15T10:40:35.360
> 
> 标签：php, http, http-headers, protocol-relative

我在[PHP 手册](http://php.net/manual/en/function.header.php)中注意到以下内容：

> HTTP/1.1 需要一个绝对 URI 作为 » Location 的参数：包括方案、主机名和绝对路径，但一些客户端接受相对 URI。

为了方便偏好[HTTPS 无处不在](https://www.eff.org/https-everywhere)的连接的用户，我正在考虑将我的 PHP 脚本中的标头从以下位置更改：

`header("Location: http://www.example.com/");`至`header("Location: //www.example.com/");`

我已经测试了上面的代码在我的 Firefox 浏览器上运行，但我不确定这是否是一个可取的事情。或者我是否应该从`$_SERVER`变量中提取协议并将其放入。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-15T10:54:04.093

HTTPbis[更新](https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-p2-semantics-20#page-63)允许使用相对 URI。虽然没有特别提到，但这包括相对于协议的 URL。

（这首先是对记录已建立浏览器行为的 HTTP/1.1 规范的更新。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T10:50:28.783

As suggested by [HTTP protocol](https://www.rfc-editor.org/rfc/rfc2616#section-14.30), you should use **absolute URI**. You can still detect protocol, by using `$_SERVER['HTTPS']` variable, with a condition like:

```
$protocol = "http" . (!empty($_SERVER['HTTPS']) ? "s" : "");

```

# php - 使用 shell_exec() 作为 WordPress 插件一部分的后台 PHP 进程

> ID：12436670
> 
> 赞同：0
> 
> 时间：2012-09-15T10:40:36.033
> 
> 标签：php, wordpress, background-process

我正在尝试`shell_exec()`作为 WordPress 插件的一部分运行后台 PHP 进程。

这是样本。

```
/* Plugin Name: Sample Background Process */

add_action('init', 'Sample_Background_Process');    
function Sample_Background_Process() {
    $file = __DIR__ . '/log.html';
    $current = date('l jS \of F Y h:i:s A') . ': accessed<br />';
    file_put_contents($file, $current, FILE_APPEND);
} 
```

它在插件文件夹中创建一个日志，并且每当页面获得访问权限时，它都会向其附加一些文本。

然后，我添加了这一行，`shell_exec('php "' . ABSPATH . '/index.php" > /dev/null 2>/dev/null &');`. 因此，后台进程应该访问该页面并运行将文本附加到日志文件的功能。但它似乎没有这样做。我希望一页加载会在日志文件中产生两行。但它只添加了一行，这意味着后台进程没有运行，或者如果这样调用，WordPress 不会做任何事情。

```
add_action('init', 'Sample_Background_Process');    
function Sample_Background_Process() {
    $file = __DIR__ . '/log.html';
    $current = date('l jS \of F Y h:i:s A') . ': accessed<br />';
    file_put_contents($file, $current, FILE_APPEND);
    shell_exec('php "' . ABSPATH . '/index.php" > /dev/null 2>/dev/null &');
} 
```

我究竟做错了什么？

由于我在 Windows 服务器上进行测试，因此路径`php`in被我的实际脚本中的 php.exe 路径更改。`shell_exec()`它在其他 PHP 脚本中运行良好。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:46:33.703

AFAIK（据我所知）/dev/null 在 Windows 中不存在，只需使用 NUL ......例如

```
shell_exec('php "' . ABSPATH . '/index.php" > NUL &'); 
```

# python - SequenceMatcher.ratio 如何在 difflib 中工作

> ID：12436672
> 
> 赞同：6
> 
> 时间：2012-09-15T10:40:46.140
> 
> 标签：python, string, string-matching, similarity

我正在尝试 python 的 difflib 模块，我遇到了`SequenceMatcher`. 因此，我尝试了以下示例，但无法理解发生了什么。

```
>>> SequenceMatcher(None,"abc","a").ratio()
0.5

>>> SequenceMatcher(None,"aabc","a").ratio()
0.4

>>> SequenceMatcher(None,"aabc","aa").ratio()
0.6666666666666666 
```

现在，根据[比例](http://docs.python.org/library/difflib.html#difflib.SequenceMatcher.ratio)：

> 将序列相似性的度量作为 [0, 1] 范围内的浮点数返回。其中`T`是两个序列中的元素总数， `M`是匹配数，这是`2.0*M / T`。

所以，对于我的情况：

1.  `T=4`所以`M=1`比例`2*1/4 = 0.5`
2.  `T=5`所以`M=2`比例`2*2/5 = 0.8`
3.  `T=6`所以`M=1`比例`2*1/6.0 = 0.33`

根据我的理解`T = len(aabc) + len(a)`，`M=2`因为`a`进来两次`aabc`。

那么，我在哪里错了我错过了什么。？

[这里](http://pyxr.sourceforge.net/PyXR/c/python24/lib/difflib.py.html#0602)是源代码`SequenceMatcher.ratio()`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-15T11:13:26.883

你的第一个案例是对的。在第二种情况下，只有一个`a`from`aabc`匹配，所以*M* = 1。在第三个例子中，两个`a`s 都匹配，所以*M* = 2。

[PS：你指的是古老的 Python 2.4 源代码。当前源代码位于[hg.python.org](http://hg.python.org/cpython/)。]

# c - 字符串不能像c程序一样将小写转换为大写

> ID：12436675
> 
> 赞同：-3
> 
> 时间：2012-09-15T10:41:14.730
> 
> 标签：c, string, uppercase

如何使用该`toupper`函数转换字符串？这没有用。

```
#include<stdio.h>
#include<string.h>
#include<ctype.h>

int main(){
    char ch[20];
    printf("\nEnter Your String :");
    gets(ch);

    int i=0;
    for(i=0;ch[i] !='\0';i++)
    {
        putchar(toupper(ch[i]));
        putchar(ch[i]);
    }

    return 0;
} 
```

这个程序输出大写和小写我只想大写输出。我无法捕捉到我的逻辑错误。请帮我弄清楚逻辑概念

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T10:55:42.577

我认为这会起作用

```
for(i=0;ch[i] !='\0';i++)
{
    ch[i]=toupper(ch[i]);
}

//print the string with uppercase 
```

# javascript - 如何包含特定于每个视图 angularjs 的 javascript 文件

> ID：12436679
> 
> 赞同：6
> 
> 时间：2012-09-15T10:41:33.107
> 
> 标签：javascript, angularjs

我遇到的问题是 loadjs 文件在我将其绑定到网格之前并不总是被加载。我已阅读有关使用指令的其他帖子，但我不明白如何在我的情况下使用它们。

代码应该加载一个特定的视图，每个视图依次都有一个特定的 javascript 文件，需要在最终重新渲染视图之前加载该文件

因此视图 1 可能是具有 datagrid.js 文件依赖关系的数据网格，而视图 2 可能是具有 listview.js 依赖关系的列表视图

谢谢。

```
Function MyCtrl1($scope) {
$scope.$on('$viewContentLoaded', function() {

     //Load file if not already loaded
    isloadjscssfile("js/model/gridmodel.js", "js")

  $("#grid").kendoGrid({
                    dataSource: getdatasource(),
                    pageable: true,
                    height: 400,
                    toolbar: ["create"],
                    columns: [
                        "ProductName",
                        { field: "UnitPrice", title: "Unit Price", format: "{0:c}", width: "150px" },
                        { field: "UnitsInStock", title:"Units In Stock", width: "150px" },
                        { field: "Discontinued", width: "100px" },
                        { command: ["edit", "destroy"], title: "&nbsp;", width: "210px" }],
                    editable: "inline"
                });
}); 
```

}

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T12:13:15.903

你不能。Angular 不会从模板加载 javascript 部分。

无论如何，您应该将它们包含在您的主应用程序中。所有控制器都应该在主应用程序启动时加载。（这是您放置`npApp`指令的地方）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-11-27T23:54:38.127

尝试这样的事情（它可能是“更多的 Angular”，但目前它对我有用）：

```
angular.module('MyApp').controller('MyCtrl1', ['$scope', function ($scope) {

    window.initialize = function() {
        // code to execute after your JS file referenced in the loadScript function loads
    }

    var loadScript = function () {
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = 'http://www.myserver.com/file.js?callback=initialize';
        document.body.appendChild(script);
    }

    $scope.$on('$viewContentLoaded', function () {
        loadScript();
    });

}]); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-04-02T05:18:49.510

如果你想在指令中这样做，你可以做这样的事情

```
.directive('require', function(){
    return{
      restrict: 'E',
      scope: {
         scriptSrc: '@'
      },
      template:'<script type="text/javascript" src="{{ scriptSrc }}"></script>',
      link: function(scope, elm, attr){
        ....
      }
      replace: true
    }
}); 
```

HTML：

```
<require script-src="/foo.js">
<require script-src="/bar.js"> 
```

# php - 分页在 codeigniter 中无法正常工作

> ID：12436686
> 
> 赞同：1
> 
> 时间：2012-09-15T10:42:05.660
> 
> 标签：php, codeigniter, pagination

如果我点击下一个数字链接，我的视图有分页，它工作正常。比如：

```
1 2 > 
```

因此，如果我单击 2，它将进入第二页并显示正确的结果。但现在如果我想返回 1，而不是重定向我。即使有链接 3，我也无法访问 2。

这是我的代码：

控制器：

```
function list_providers()
{

    $admin_session_data= $this->session->userdata('user_logged_in');

    $this->load->model('/admin/provider_model');
    $this->load->library('pagination');
    $this->load->helper('url');

    $config['base_url'] = base_url()."index.php/admin/provider/list_providers/";
    $config['total_rows'] = $this->provider_model->countprovider();
    $config['per_page'] = 3;
    $config['creat_link'] = 1;
    $config['first_link'] = 'First';
    $config['last_link'] = 'Last';

    $this->pagination->initialize($config);
    $offset=($this->uri->segment(4)) ? $this->uri->segment(4) : 0;
    $data['list']= $this->provider_model->listproviders($config['per_page'],$offset);

    //$data['customer']= $this->provider_model->getcustomer_data($config['per_page'],$this->uri->segment(3));

    if(!empty($data))
    {   
        $this->load->view('admin/admin_header',$admin_session_data); 
        $this->load->view('admin/admin_top_nav',$admin_session_data); 
        $this->load->view('admin/admin_left',$admin_session_data);
        $this->load->view('admin/provider_list',$data);
        $this->load->view('admin/admin_footer',$admin_session_data);
    }

} 
```

模型：

```
function listproviders($num,$offset)
{
    $this->load->library('pagination');

    //$query=$this->db->get_where('users', array('user_role_id'=>'3'));
    $query=$this->db->get('users',$num,$offset);

    // return result set as an associative array
    return $query->result_array();
}

function countprovider()
{
    $this->load->library('pagination');
    $query=$this->db->count_all_results('users');
    return $query;
} 
```

我的分页显示如下： 1 2 >

请看问题出在哪里。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T11:02:02.973

我对您的控制器和模型进行了一些更改。更改评论：

**控制器**

```
// admin/provider/list_providers/3 <- Offset number
function list_providers($offset = null)
{    
    $admin_session_data= $this->session->userdata('user_logged_in');

    // Load models/libraries/helpers
    $this->load->model('admin/provider_model');
    $this->load->library('pagination');
    $this->load->helper('url');

    // Pagination config
    $config['base_url'] = site_url('index.php/admin/provider/list_providers') . '/';
    $config['total_rows'] = $this->provider_model->countprovider();
    $config['per_page'] = 3;
    // $config['creat_link'] = 1; <-- This is not a valid option
    $config['first_link'] = 'First';
    $config['last_link'] = 'Last';

    // Init config
    $this->pagination->initialize($config);

    // If the pagination library doesn't recognize the current page add:
    $this->pagination->cur_page = $offset;

    $data['list']= $this->provider_model->listproviders($config['per_page'],$offset);

    if(!empty($data))
    {   
        $this->load->view('admin/admin_header',$admin_session_data); 
        $this->load->view('admin/admin_top_nav',$admin_session_data); 
        $this->load->view('admin/admin_left',$admin_session_data);
        $this->load->view('admin/provider_list',$data);
        $this->load->view('admin/admin_footer',$admin_session_data);
    }
} 
```

**模型**

```
function listproviders($num,$offset)
{
    // $this->load->library('pagination'); <-- There is no need for this
    $query = $this->db->get('users', $num, $offset);

    // Check if pages where found
    if ($query->num_rows() > 0)
    {
        return $query->result_array();
    }
    else
    {
        return FALSE;
    }

}

function countprovider()
{
    // $this->load->library('pagination'); <-- There is no need for this
    return $this->db->count_all_results('users');
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:48:28.063

直接从库中创建链接.. 像这样..

```
$data['links']= $this->pagination->create_links(); 
```

在视图中给出类似的东西

```
<div align="center" style="margin-top:10px;background-color: #F1F8E0">
       <?php echo $links; ?>
</div> 
```

**编辑：**

示例代码：

```
function  __construct()
    {

        parent::__construct();
        $this->load->helper('array');
        $this->load->helper('url');
        $this->load->helper('html');
        $this->load->helper('form');
        $this->load->library('form_validation');
        $this->load->library('pagination');
        $this->load->library('session');
        $this->load->model('listing','',TRUE);
    }

    // Shows pagination

    function index($uri_segment="3")
{   
        $config['base_url'] = base_url('index.php/listing_controller/index');
        $config['total_rows'] = $this->listing->get_rows();
        $config['per_page'] = 5;
        $config['uri_segment'] = 3;
        $this->pagination->initialize($config);
        $output['op']=$this->listing->get_paging_data($config['per_page'],$this->uri->segment(3));
        $output['links']= $this->pagination->create_links();
        $this->load->view('listing_view',$output);
    } 
```

视图文件中的片段如上所示

# mysql - PHP Query Issue

> ID：12436689
> 
> 赞同：-1
> 
> 时间：2012-09-15T10:42:21.580
> 
> 标签：mysql

I have this query which I would like to insert data into two tables.

It inserts into the first but not the second, any ideas why?

```
$result1 = mysql_query("INSERT INTO entries (UserID, FirstName, LastName, EmailAddress, TelephoneNumber, Image, Status) VALUES ('NULL', '$FirstName', '$LastName', '$EmailAddress', '$TelephoneNumber', '$ran2$ext', '0')") ;

$newid = mysql_insert_id($result1);

$result2 = mysql_query("INSERT INTO voting (id, EntryID, item, vote, nvotes) VALUES ('NULL', $newid, 'vt_img353', '0', '0')") ; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:43:50.767

If you are trying to insert a null, don't use quotes around it:

```
INSERT INTO voting 
    (id, EntryID, item, vote, nvotes) 
    VALUES (NULL, $newid, 'vt_img353', '0', '0') 
```

As juergen d correctly points out, if you don't want to insert a column you can just skip it, but this will only work if you name the columns you are inserting first. It won't work in:

```
INSERT INTO voting 
    VALUES (NULL, $newid, 'vt_img353', '0', '0') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:44:50.430

```
$result2 = mysql_query("INSERT INTO voting (EntryID, item, vote, nvotes) VALUES ($newid, 'vt_img353', '0', '0')") ; 
```

If you don't want to set a column you can leave it. Your `id` column is probably an auto-increment column. If you leave it from your insert statement it will be filled automatically.

And if you want to set it explicitly to `NULL`then leave the quotes. Otherwise you would set the column to the **string** `NULL`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T11:06:10.370

*本身*不是答案，但同样非常有用。为了使您的代码更具可读性 - 无论是在您的 IDE 中还是在诸如此类的论坛上 - 请记住您可以缩进它。尝试这个：

```
$result1 = mysql_query("
    INSERT INTO entries (
        UserID, FirstName, LastName,
        EmailAddress, TelephoneNumber, Image,
        Status
    )
    VALUES (
        NULL, '$FirstName', '$LastName',
        '$EmailAddress', '$TelephoneNumber', '$ran2$ext',
        '0'
    )
"); 
```

这有助于保持合理的行长（我使用 120 个字符），并有助于减少隐藏在屏幕右侧的错误。

# c++ - 不同功能使用相同功能，减少开销

> ID：12436700
> 
> 赞同：0
> 
> 时间：2012-09-15T10:43:50.540
> 
> 标签：c++, performance, gcc, coding-style, overhead

代码：

```
namespace Dialog {
    enum class Type {Info, Warning, Error};
    enum class Buttons {OK, OK_CANCEL, YES_NO, YES_NO_CANCEL};
    void Box(Pane* parent, Core::String, Core::String, Buttons, Type);
} 
```

我可以这样定义 InfoBox：

```
void InfoBox(Core::String title, Core::String text, Buttons b) {
    Box(nullptr, title, text, b, Type::Info);
} 
```

但是使用这种方法，由于额外的函数调用，我有开销。

我怎样才能减少开销？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T11:01:19.480

不会有的。编译器将简单地内联您的函数。即使没有，与其他 GUI 开销相比，调用的开销加起来也绝对没有。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-15T11:05:10.417

为了论证起见，假设 CPU 每个周期可以执行一条指令。

假设您在一个运行速度仅为 1GHZ 的旧的、缓慢的 CPU 上运行。让我们假设它只有一个核心。

函数调用基本上包括将一些值压入堆栈，跳转到另一个位置，从堆栈中弹出一些值，并且一旦函数完成，将返回值压入堆栈（在某些调用约定下），以及跳回到调用函数的地方。

我们称之为 10 条指令。假设您的用户完全疯了，他`InfoBox`每秒打开 1000 个 es。

这意味着您每秒浪费 1000 * 10 条指令 = 10,000 条指令。

CPU 每秒可以运行 1,000,000,000 条指令。这意味着您浪费了 0.0001% 的可用 CPU 时间。

这有什么好担心的吗？

这没有考虑编译器优化，这可能会将开销减少到一个大的零。（函数调用很可能是内联的）。但在最坏的情况下，粗略的估计是，如果用户不切实际地渴望显示es ，那么*在最坏的情况下*，您浪费了 CPU 执行时间的千分之一。`InfoBox`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T10:51:25.957

如果我理解你是正确的，你可以使用默认参数的概念

```
void InfoBox(Core::String title="Hello", Core::String text="Info", Buttons b=Buttons::OK,Type typ=Type::Info) {
    Box(nullptr, title, text, b, Type::Info);
} 
```

或者还有，

```
void Box(Pane* parent=0, Core::String title="Hello", Core::String text="Info", Buttons b=Buttons::OK,Type typ=Type::Info); 
```

然后你的电话范围从

```
InfoBox();
InfoBox("Hi");
InfoBox("Hi","Welcome");
InfoBox("Hi","Welcome",b=Buttons::OK_CANCEL);
InfoBox("Hi","Welcome",b=Buttons::OK_CANCEL,Type::Warning); 
```

# javascript - 可以以编程方式链接 jquery 动画吗？

> ID：12436701
> 
> 赞同：1
> 
> 时间：2012-09-15T10:43:54.750
> 
> 标签：javascript, jquery, chaining

我有这个代码：

```
jQuery('#flash').animate({opacity: 0.35}, 200)
                .animate({opacity: 0}, 200)
                .animate({opacity: 0.35}, 200)
                .animate({opacity: 0}, 200)
                .animate({opacity: 0.35}, 200)
                .animate({opacity: 0}, 600) 
```

而且我还没有决定要改变它的状态多少次。有没有办法以编程方式链接动画，而不必通过编辑动画链来添加/删除链元素？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:56:07.170

如果我理解正确，您只需要一个 FOR 循环：

```
function animate_n_times(n) {
   var flash = $('#flash');
   for(var i=0;i<n;i++) {
      flash.animate({opacity: 0.35}, 200)
           .animate({opacity: 0}, 200);
   }

} 
```

然后像这样调用：

```
animate_n_times(3); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T11:16:38.670

不，您不能在不编辑动画队列的情况下链接动画。如果您想链接一个变量，但次数有限，您可以使用循环轻松完成：

```
var flash = $("#flash");
for (var i=0; i<n; i++)
    flash.animate({opacity: 0.35}, 200).animate({opacity: 0}, 200); 
```

如果您想要一个无限循环，或者在将来满足某个条件时停止循环，您希望在动画队列上挂钩回调，重新启动函数：

```
var flash = $("#flash");
function anim() {
    // if (condition)
    flash.animate({opacity: 0.35}, 200).animate({opacity: 0}, 200, anim);
                                            // call "recursively": ^^^^
}
anim(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T10:49:46.557

如果您正在寻找，您可以使用循环链接动画。

```
var $flash = jQuery('#flash'), i;

for (i = 0; i < 10; i++) {
    $flash = $flash.animate({opacity: 0.35}, 200)
                   .animate({opacity: 0}, 200);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-19T10:28:24.300

有一个更短的选择，使用扩展[jquery-timing](http://creativecouple.github.com/jquery-timing/)：

动画给定次数：

```
$('#flash').repeat().animate({opacity:0.35}, 200)
    .animate({opacity:0}, 200).until(10); 
```

作为无限循环：

```
$('#flash').repeat().animate({opacity:0.35},200).animate({opacity:0},200,$); 
```

有关详细信息，请参阅[.repeat()](http://creativecouple.github.com/jquery-timing/api/repeat/.repeat.html)、[.until(count)](http://creativecouple.github.com/jquery-timing/api/repeat/.until_count.html)和[.animate(...,$)](http://creativecouple.github.com/jquery-timing/api/animate/.animate_timed.html)的 API 。

# jsp - how to make sure a bean is passed to the jsp from a servlet

> ID：12436703
> 
> 赞同：0
> 
> 时间：2012-09-15T10:43:58.840
> 
> 标签：jsp, jakarta-ee, servlets, javabeans

I have created a servlet which creates and populates the values of a bean and also sets the bean as a session attribute and passes it to the jsp file. But when I retrieve the bean using the session object, I get null value. The jsp has been designed in such a way that the items from the database are saved in the bean file and passed to the jsp file which displays the database/bean values. This is in the doPost() method of the servlet:

```
 //Adding the list bean to the session
        session.setAttribute("list", list); 
```

This is in the jsp file:

```
<%
MessageList list = (MessageList) request.getAttribute("list");
//The bean is of type 'MessageList'
%> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:51:46.447

您正在设置会话，但您正在从请求对象中检索。将第二位更改为`session.getAttribute("list")`，或将第一位更改为`request.setAttribute("list", list)`

# magento - Magento Load Balancing - additional license

> ID：12436714
> 
> 赞同：2
> 
> 时间：2012-09-15T10:46:25.557
> 
> 标签：magento, licensing, load-balancing, enterprise

I already have a Magento Enterprise license for my website. I am planning to expand the infrastructure and introduce another WebApp server. These 2 webApp servers would be managed through a load-balancer. My question is that in order to add another webapp / frontend server, should I go in for a Enterprise License (complete with production + non-production server) or should I just buy an Additional Production License?

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T14:47:07.673

如果您要进行负载平衡，您将希望附加许可证与现有许可证适用于同一平台，因为负载平衡器的目的是在多个相同系统之间分配工作。

如果您还没有依赖其他 Magento 企业版功能，如果您正在考虑负载平衡，我建议您不要获得企业许可证。由于 Magento 的许可方式，每次安装 Magento 都需要额外的企业版许可证，其中包括负载均衡器后面的每个实例。

如果您正在考虑扩展您的基础架构以包含多个 Magento 实例，最好联系 Magento 销售代表，因为他们将获得有关许可限制的更具体信息，并且可能能够协商适合您特定需求的软件包.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T17:37:51.977

在水平之前考虑垂直缩放 - 通过引入更多系统，您可以简单地获得*更好的硬件*，而不是让事情变得更复杂（因此容易出错）。

通常，对于我们的 EE 客户，我们提倡单服务器配置（显然，严重依赖于商店的详细信息），以便绕过许可费用。这也有许多其他优点（更快的数据库访问、更少的复杂性、更少的成本、更安全）。

只需考虑您添加另一台 Web 服务器的原因——通过专业人士的适当建议和咨询——您可能会发现仅仅添加更多服务器并不是您所需要的。

# android - 创建文件时未写入任何数据

> ID：12436718
> 
> 赞同：1
> 
> 时间：2012-09-15T10:46:55.123
> 
> 标签：android, file-io, outputstream

我尝试使用下面显示的代码创建一个文本文件并向其中写入数据：

JAVA CODE_1：

```
File dir = Environment.getExternalStorageDirectory();
    File file = new File(dir,"/DCIM/"+fileTitle);

    try {           
        if( file.exists() ){
        FileOutputStream fos = openFileOutput(fileTitle, MODE_WORLD_READABLE);
        OutputStreamWriter osw = new OutputStreamWriter(fos);
        osw.write("this is a text");
        osw.flush();
        osw.close();
        } else {
            file.createNewFile();
            FileOutputStream fos = openFileOutput(fileTitle, MODE_WORLD_READABLE);
            OutputStreamWriter osw = new OutputStreamWriter(fos);
            osw.write("this is a text");
            osw.flush();
            osw.close();
        }

    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
} 
```

但是当我检查 DCIM 目录时，我发现文件已创建但没有数据写入其中。请告诉我我的错误在哪里。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T10:51:46.550

抱歉，它不是在**外部存储**上创建的，而是在**应用程序的内部存储**上创建的，（检查您的文件是在`/data/data/<Application_Package_Name>/files`目录上创建的）

因为，

您正在使用 `openFileOutput`哪一个在应用程序的内部存储中创建文件。

```
public abstract FileOutputStream openFileOutput (String name, int mode) 
```

自：API 级别 1

打开与此上下文的应用程序包关联的私有文件进行写入。如果文件尚不存在，则创建该文件。

**代码：**

```
file.createNewFile();
FileOutputStream fos = new FileOutputStream(file, true);
OutputStreamWriter osw = new OutputStreamWriter(fos);
osw.write("this is a text");
osw.flush();
osw.close(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T11:13:48.877

仅使用

```
 FileOutputStream fos = openFileOutput(fileTitle, MODE_WORLD_READABLE);
        OutputStreamWriter osw = new OutputStreamWriter(fos);
        osw.write("this is a text");
        osw.flush();
        osw.close(); 
```

它将在内部存储中创建文件。

或使用

```
 File dir = Environment.getExternalStorageDirectory();
        File file = new File(dir,"/DCIM/"+fileTitle);
        FileOutputStream fos = new FileOutputStream(file);
        OutputStreamWriter osw = new OutputStreamWriter(fos);
        osw.write("this is a text");
        osw.flush();
        osw.close(); 
```

# android - intercept clicks inside iframe with android WebView

> ID：12436722
> 
> 赞同：2
> 
> 时间：2012-09-15T10:48:09.050
> 
> 标签：android, iframe, webview, android-webview, iframe-app

Is that possible at all? The closest I have arrived was to intercept through onLoadResource.

I need something like the shouldOverrideUrlLoading where it intercepts the click.

# r - Parallelizing a for-loop depending on previous outcomes

> ID：12436723
> 
> 赞同：2
> 
> 时间：2012-09-15T10:48:11.483
> 
> 标签：r, parallel-processing

I'm just taking my first steps with the package `parallel` and the `foreach()` function. therefore this question will be rather stupid. so here's my task i want to fullfil:

1.  apply function to an object `t`
2.  use the outcome in the next iteration

a simple example would be:

```
newFunc<-function(){
    test[i+1] <<- sqrt(test[i])
}

test <- c(1,rep(NA, 10))

foreach(i=1:11, .combine='rbind', .export='test')%do% newFunc() 
```

this yields me a vector of ones as a for-loop would of course as well. however, if i try parallelise this this yields a different outcome:

```
test <- c(1,rep(NA, 10))

library(doParallel)
library(foreach)
cl <- makeCluster(4)
registerDoParallel(cl)

foreach(i=1:11, .combine='rbind', .export='test')%dopar% newFunc()

stopCluster(cl) 
```

this leaves me with the output `c(1, NA, NA, NA, NA, ..., NA)`. I *guess* this is because the slaves don't know the result of other functions? I hope I supplied the necessary information. My actual function is of course more complex, yet this example seemed the easiest way do demonstrate my problem.

**edit:** I guess the first question is: can such a problem be parallelised at all?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T15:42:27.160

确实，所提出的迭代不会并行运行，但是

```
test = numeric(11); test[] = 2
test^(1/2^(0:10)) 
```

是您感兴趣的解决方案。这很容易并行化（尽管没有必要，因为计算已经矢量化）

```
fun = function(i, test)
    test[i] ^ (1 / 2^(i - 1))
unlist(mclapply(seq_along(test), fun, test)) 
```

对于并行评估，`fun`不应更新非局部变量（如使用`<<-`）。也许您的真正问题可以以允许并行评估的方式提出，即使原始公式似乎需要顺序评估？

# yii - The yii search criteria

> ID：12436724
> 
> 赞同：0
> 
> 时间：2012-09-15T10:48:22.857
> 
> 标签：yii

I'm a yii programmer...

I have 2 variables and I want to check if the first variable exists in the the city column and the second variable in type "OR" category column.

I did this and it doesn't work :

```
$criteria = new CDbCriteria(array(
'condition'=>'published="true"'
));

if(isset($_GET['city']) || isset($_GET['word']))
{
   if(!empty($_GET['city']) )
      $criteria->addSearchCondition('city',$_GET['city'] , true, 'AND');
   if(!empty($_GET['word']) ){
      $criteria->addSearchCondition('type',$_GET['word'] , true, 'OR');
      $criteria->addSearchCondition('category',$_GET['word'] , true, 'OR');

   }
} 
```

And only rows with published=true will be displayed...

As a result i get rows that doesn't meet my criteria..

Where is the problem please help thanks

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-16T01:04:03.403

由于 addCondition 用于将新条件与旧条件与您提供的运算符相连接，并且您希望拥有 c1 AND c2 OR c3，因此您的第二个运算符应该是与运算符。

# php - Ajax 查询未向服务器发送请求

> ID：12436728
> 
> 赞同：0
> 
> 时间：2012-09-15T10:49:29.727
> 
> 标签：php, ajax, apache, jquery

我正在向使用 jQuery 的网页添加一些 Ajax。请注意，我是 Ajax 的新手。该页面是一个简单的注册表单，我想检查用户提供的电子邮件地址是否已经注册，并在表单重定向到注册码之前告诉用户是否已注册。

我一直在阅读[这个问题](https://stackoverflow.com/questions/10362430/ajax-call-to-check-duplicate-data)及其答案，并尝试重现这种效果，但没有成功。

当我单击提交时，将调用 javascript 函数（我已经通过在`checkEmail()`函数中添加一些诊断代码来证明这一点），但是当我检查我的 Apache 服务器日志时，我可以看到我期望的所有请求，除了调用`/user/process/chechemail.php`. 代码（如下）位于`/user/`目录中，我已经`url:`使用相对和绝对路径的所有变体修改了路径。Apache 错误日志中没有记录任何内容。

当用户单击提交按钮时，他们会看到消息“出错了！”。谁能发现哪里出了问题？

我的代码如下：

```
<script>
    function checkEmail()
    {
        $.ajax(
        {
            type: "POST",
            dataType: "html",
            data:
            {
                email: $('#email').val()
            },
            url: "/user/process/checkemail.php"
        })
        .done(function(response)
        {
            $('#message').html(response);
        })
        .fail(function()
        {
            $('#message').html("Something went wrong!");
            return false;
        });
    }
</script>

<div id="register-form">
    <form name="register" action="process/register.php" method="post" onsubmit="return checkEmail();">
        <div class="register-email-cell">
            <p class="text">Email Address</p>
        </div>
        <div class="register-email-cell">
            <input class="input" type="text" name="email">
        </div>
        <div class="register-email-cell">
            <input class="button" type="submit" value="Register">
        </div>
        <div>
            <p id="message" class="text"></p>
        </div>
    </form>
</div> 
```

笔记：

*   对 jQuery的`<script>`引用在 PHP 包含中，上面没有显示
*   /user/process/checkemail.php - 查找 $_REQUEST['email']，并对数据库执行查询并返回一个字符串，说明“电子邮件地址存在”或“电子邮件地址可用”——我意识到这可能允许机器人收集电子邮件地址，但这只是我自己学习的示例代码。- 它不会是生产代码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T11:01:42.740

首先，您需要将 .$ajax 绑定到将触发它的事件......它异步运行（在后台），并且它用于由事件触发，而不是立即触发 - 这会产生您的错误。我也会将对控制器的调用更改为相对路径（如果您的视图文件在用户中，则转到“process/checkemail.php”）。就像你在形式的行动中所做的那样。

其次 - 最好将 js 保存在单独的文件中。

此外，在将其与数据库进行比较之前，可能会添加一些正则表达式来检查这是否是一封电子邮件......

由于您是 AJAX 新手，您可能想阅读这篇文章并熟悉您在此处使用的内容，这里有一个针对您需要的示例：

[http://metaphorical-lab.com/blog/?p=352](http://metaphorical-lab.com/blog/?p=352)

并检查 ajax、发布和获取函数 oj jQuery 网站的参考...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T10:56:51.623

您的`checkEmail()`函数`undefined`会立即返回，这不会阻止表单提交。在 AJAX 请求有机会启动之前，您的页面会重新加载。AJAX 请求是异步的——它们在后台运行，它们的回调在围绕实际调用的控制流之外执行`$.ajax()`，并且回调的返回值被丢弃。

完成您要执行的操作的一种方法是，`done`如果检查成功，则让回调设置一个标志并再次提交表单，如果未设置该标志，则让`checkEmail()`函数返回：`false`

```
var emailChecked = false;
function checkEmail()
{
    if (emailChecked) {
        return true;
    }
    $.ajax(
    {
        type: "POST",
        dataType: "html",
        data:
        {
            email: $('#email').val()
        },
        url: "/user/process/checkemail.php"
    })
    .done(function(response)
    {
        $('#message').html(response);
        emailChecked = true;
        $('form[name=register]').submit();
    })
    .fail(function()
    {
        $('#message').html("Something went wrong!");
    });
    return false;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T11:25:49.390

如果您遇到问题，请尝试此操作并回复
在 checkemail.php 中，您将通过定义 $email = $_post['email']; 获得电子邮件 然后验证它并在最后回显响应。
响应将显示在成功部分

```
function checkEmail() {
var email = $('#email').val();
$.ajax({           
            type: "POST",  
            url:"/user/process/checkemail.php",  
            data:"email="+email,

            beforeSend: function()
            {                   
                //show some gif img
            },
            success: function(response)
            {               
                   $('#message').html(response);
            }, 

            complete: function()
            {
                //hide gif img
            },

            error: function(e)
            {  
                 alert('Error: ' + e);  
            }  

    }); //end Ajax
}//end function

<div id="register-form">
    <form name="register" action="" method="post" >
        <div class="register-email-cell">
            <p class="text">Email Address</p>
        </div>
    <div class="register-email-cell">
        <input class="input" type="text" name="email" id="email">
    </div>
    <div class="register-email-cell">
        <input class="button" type="submit" value="Register" onsubmit="return checkEmail();">
    </div>
    <div>
        <p id="message" class="text"></p>
    </div>
</form> 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-09-15T10:56:30.040

```
 you have to use ajax like that

      function checkEmail()
            {
 $.ajax({
         url: "/user/process/checkemail.php",
        data: { 'email': $('#email').val() },
        type: "POST",
        dataType: "html",

        success: function (result) {
           $('#message').html(response);
        },
        failed: function (d) {
            $('#message').html("Something went wrong!");
                    return false;
        }
    }); 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-09-15T10:58:08.837

这不是最好的答案，因为它没有解释为什么这不起作用。我发现改用 jQuery 的 .load() 更容易。

您的代码将是：

```
 function checkEmail()
{
    email = $('#email').val();
    $('#message').load('/user/process/checkemail.php', {'email' : email});
} 
```

这会将 php 脚本的响应直接加载到 ID 为 div 的元素中。{'email' : email} 部分会将 $_POST['email'] 变量传递给脚本，其值为 email。

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2012-09-15T10:58:59.520

后

```
$.ajax(
{
    type: "POST",
    dataType: "html",
    data:
    {
        email: $('#email').val()
    },
    url: "/user/process/checkemail.php"

     success: function(data) {
         $('.result').html(data);
         alert('Load was performed.');
     }  
}) 
```

# javascript - 具有本地 json 文件数据的 Google 地图脚本未显示

> ID：12436729
> 
> 赞同：0
> 
> 时间：2012-09-15T10:49:39.117
> 
> 标签：javascript, jquery, google-maps-api-3

我正在尝试让一些 json 标记显示在我的地图上。

地图实际上正在出现，但没有显示任何指针，并且地图的位置很远。

这是js代码：

```
<script>

    $('#map_canvas').gmap().bind('init', function() { 
    // This URL won't work on your localhost, so you need to change it
    // see http://en.wikipedia.org/wiki/Same_origin_policy
    $.getJSON( 'locations.json', function(data) { 
        $.each( data.markers, function(i, marker) {
            $('#map_canvas').gmap('addMarker', { 
                'position': new google.maps.LatLng(marker.latitude, marker.longitude), 
                'bounds': true 
            }).click(function() {
                $('#map_canvas').gmap('openInfoWindow', {'content': marker.content }, this);
            });
        });
    });
});
</script> 
```

这是json文件的内容：

```
{"locations":[{"id":"14","location":"(50.8765125,
 -1.1504182944499557)"}]} 
```

代码有什么问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:07:08.390

从您的`json`文件结构中，我会说您正在尝试访问`data.markers`. `locations`是一个具有两个属性的对象数组：`id`是 a`String`并且`locations`是一个`array`长度为 2 的对象。那么为什么要使用这个代码呢？

```
marker.latitude
marker.longitude
marker.content 
```

也许你应该试试

```
marker.location[0]
marker.location[1] 
```

首先你应该确认你的 json 输出：

```
$.getJSON( 'locations.json', function(data) { 
    console.log(data);
} 
```

并将其发布在您的问题中...

如果没问题，试试这样：

```
$.each( data.markers, function(i, marker) {
        $('#map_canvas').gmap('addMarker', { 
            'position': new google.maps.LatLng(marker.location[0], marker.location[1]), 
            'bounds': true 
        }).click(function() {
            $('#map_canvas').gmap('openInfoWindow', {'content': marker.id }, this);
        });
    }); 
```

...实际上我不确定你为什么使用`data.marker`也而不是`data.locations`

# android - 删除和添加到列表时出现索引越界异常

> ID：12436732
> 
> 赞同：0
> 
> 时间：2012-09-15T10:50:03.013
> 
> 标签：android, list

当我运行应用程序并触摸位图时，有时应用程序崩溃

这是错误：

```
at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:251)
at java.util.ArrayList.get(ArrayList.java:304)
at com.example.Game.GFXSurface$GameSurface.run(GFXSurface.java:135)
at java.lang.Thread.run(Thread.java:864) 
```

以及它崩溃的代码，如果我删除`balls.remove`并且`balls.add`一切正常，但它不会生成新球，并且在运行方法中一切正常，`remove`并且`add`：

```
@Override
public boolean onTouch(View v, MotionEvent event) {
    // TODO Auto-generated method stub
    GameSurface gamesurface = new GameSurface(this);
    x = event.getX();
    y = event.getY();
    Bitmap ball = BitmapFactory.decodeResource(getResources(),
            R.drawable.ic_launcher);
    for (int i = 0; i < 4; i++)
        if (ourSurfaceView.MouseOnDot(ball) && x >= ballX[i]
                && x <= ballX[i] + 72) {
            balls.remove(i);
            balls.add(i, gamesurface.RandomBall());
            ChangingY[i] = 0;
            if (speed <= 7)
                speed += 0.1;
        }
    return false;
} 
```

这是balls.get的方法

```
@Override
        public void run() {

            for (int j = 0; j < 4; j++) {
                balls.add(j, RandomBall());
            }

            while (isRunning) {
                if (!ourHolder.getSurface().isValid())
                    continue;

                Canvas canvas = ourHolder.lockCanvas();
                canvas.drawRGB(02, 02, 150);

                for (int i = 0; i < 4; i++) {
                    ballX[i] = i * 155;
                    canvas.drawBitmap(balls.get(i), ballX[i], ChangingY[i],
                            null);
                    if (ChangingY[i] <= canvas.getHeight()) {
                        ChangingY[i] += 1 * speed;
                    } else if (ChangingY[i] > canvas.getHeight()) {
                        ChangingY[i] = 0;
                        if (speed <= 5)
                            speed += 0.25;
                        balls.remove(i);
                        balls.add(i, RandomBall());

                    }
                }

                // }

                ourHolder.unlockCanvasAndPost(canvas);
            }
        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:58:06.753

错误意味着您用于访问 ArrayList 的索引大于 ArrayList 的大小。

尝试代替 for (int i = 0; i < 4; i++) 使用 for (int i = 0; i < balls.size(); i++)

或者当您使用 balls.remove(i) 时，首先检查 i < balls.size

# html - Scrolling menu visible/hide

> ID：12436735
> 
> 赞同：-1
> 
> 时间：2012-09-15T10:50:18.337
> 
> 标签：html, menu, scroll, parallax

I need help to design a header menu like the website: [http://www.whiteboard.is](http://www.whiteboard.is), but I have no idea the technology used and any build in script to use here. The main idea is when a user scroll the page after a certain section the top menu will be visible. I would be glad if you guide me to done the task asap. Best regards

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:10:50.537

本教程可能有用： [http ://www.1stwebdesigner.com/tutorials/create-stay-on-top-menu-css3-jquery/](http://www.1stwebdesigner.com/tutorials/create-stay-on-top-menu-css3-jquery/)

# java - 如果我们知道java中的超类名称，如何找到子类列表

> ID：12436737
> 
> 赞同：1
> 
> 时间：2012-09-15T10:50:34.033
> 
> 标签：java, reflection

> **可能重复：**
> [如何在 Java 中找到给定类的所有子类？](https://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java)

如果我们知道超类，我正在尝试获取子类名称列表。我尝试通过反思。似乎没有API来获取子类名称列表。

```
public abstract class Base{
  /* method implmentation */
}

public class A1 extends Base{
  /* method implmentation */
}
public class A2 extends Base{
  /* method implmentation */
} 
```

如果我们知道抽象类名称“Base”，如何获取子类名称？

提前致谢

# c# - 尝试获取类方法指针时的 E_NOINTERFACE

> ID：12436742
> 
> 赞同：3
> 
> 时间：2012-09-15T10:50:57.070
> 
> 标签：c#, c++, com, safearray, queryinterface

我正在从 C++ 非托管代码中调用 C# 方法。我从数组中返回的类实例中获取值时遇到问题。

我已经稍微简化了代码

这是有问题的方法。

```
 [return: MarshalAs(UnmanagedType.SafeArray, SafeArraySubType = VarEnum.VT_UNKNOWN)]
    public ScOrder[] GetOrders()
    {
        return new ScOrder[] {

            (new ScOrder(1),
            (new ScOrder(2)
        };
    } 
```

这是 IScOrder 接口

```
[ComVisible(true)]
[Guid("B2B134CC-70A6-43CD-9E1E-B3A3D9992C3E")]
[InterfaceType(ComInterfaceType.InterfaceIsIUnknown)]
public interface IScOrder
{
    long GetQuantity();
} 
```

这是 ScOrder 的实现

```
[ComVisible(true)]
[Guid("F739759E-4D00-440E-B0B7-69AAF97FCB6D")]
[ClassInterface(ClassInterfaceType.None)]
public class ScOrder
{
    private long quantity = 0;

    public ScOrder() {}

    public ScOrder(long quantity)
    {
        this.quantity = quantity;
    }

    public long GetQuantity()
    {
        return this.quantity;
    }
} 
```

这是 C++ 代码，在我[之前的请求](https://stackoverflow.com/questions/12412533/convert-cast-safearray-of-iunknowns-to-an-iterable-array-of-interface-pointers/12420569#12420569)中得到 Zdeslav Vojkovic 的帮助后。问题在评论中描述

*   我没有使用 ATL 或 MFC。
*   C++ tlb 文件是通过 regasm 生成的。

COM 初始化和调用 GetOrders 方法效果很好

```
IScProxyPtr iPtr;
CoInitialize(NULL);
iPtr.CreateInstance(CLSID_ScProxy);
SAFEARRAY* orders;
iPtr->GetOrders(&orders);
LPUNKNOWN* punks;
HRESULT hr = SafeArrayAccessData(orders, (void**)&punks);
if(SUCCEEDED(hr)) 
{
    long lbound, ubound;
    SafeArrayGetLBound(orders, 1, &lbound);
    SafeArrayGetUBound(orders, 1, &ubound);
    long elements = ubound - lbound + 1;
    for(int i=0;i&lt;elements;i++) 
    {
        LPUNKNOWN punk = punks[i]; //the punk seems valid 
        IScOrderPtr order(punk); //unfortunatelly, "order" now points to {0x00000000}

        //subsequent attempt to get the value will fail
        long quantity = 0;
        HRESULT procCall;
        //GetQuantity will throw an exception
        procCall = order->GetQuantity((long long *)q); 

    }
    SafeArrayUnaccessData(orders);
}
SafeArrayDestroy(orders); 
```

感谢 Zdeslav，我发现我可以在 order(punk) 中进行调试：

```
IScOrderPtr order(punk); 
```

所以我走进秩序（朋克）看看那里发生了什么。我进入了一个“comip.h”

```
// Constructs a smart-pointer from any IUnknown-based interface pointer.
//
template<typename _InterfaceType> _com_ptr_t(_InterfaceType* p) 
    : m_pInterface(NULL)
{
    HRESULT hr = _QueryInterface(p); 
```

...然后我进入了 _QueryInterface(p) 实现，也在 comip.h

```
// Performs a QI on pUnknown for the interface type returned
// for this class.  The interface is stored.  If pUnknown is
// NULL, or the QI fails, E_NOINTERFACE is returned and
// _pInterface is set to NULL.
//
template<typename _InterfacePtr> HRESULT _QueryInterface(_InterfacePtr p) throw()
{
    HRESULT hr;

    // Can't QI NULL
    //
    if (p != NULL) {
        // Query for this interface
        //
        Interface* pInterface;
        hr = p->QueryInterface(GetIID(), reinterpret_cast<void**>(&pInterface)); 
```

现在这里的问题是返回的“hr”的值是 E_NOINTERFACE ...这是不对的。

我不是 C++ 或 COM 专家...请帮助 :)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:07:52.813

您的类`ScOrder`似乎没有`IScOrder`在 C# 端实现接口。

它应该是：

```
//[ComVisible(true)]
//[Guid("F739759E-4D00-440E-B0B7-69AAF97FCB6D")]
//[ClassInterface(ClassInterfaceType.None)]
public class ScOrder : IScOrder 
```

我`[...]`在上面评论不是因为它有干扰，而是因为它看起来没有必要：它`IScOrder`需要具有 COM 可见性并且应该能够在 C++ 端获得它。

如果不继承`IScOrder`您的实例确实有一些接口，但您感兴趣`IScOrder`的接口确实无法在指针上访问。

# sql - 如何仅从 sql server 2008 中的日期中提取年份？

> ID：12436743
> 
> 赞同：83
> 
> 时间：2012-09-15T10:51:09.180
> 
> 标签：sql, sql-server-2008, datetime, extract

在 sql server 2008 中，如何仅从日期中提取年份。在数据库中，我有一个日期列，我需要从中提取年份。有什么功能吗？

* * *

## 回答 #1

> 赞同：125
> 
> 时间：2012-09-15T10:52:16.087

```
year(@date)
year(getdate())
year('20120101')

update table
set column = year(date_column)
whre .... 
```

或者如果你需要它在另一张桌子上

```
 update t
   set column = year(t1.date_column)
     from table_source t1
     join table_target t on (join condition)
    where .... 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-09-15T10:52:09.003

```
select year(current_timestamp) 
```

[SQLFiddle 演示](http://sqlfiddle.com/#!3/d41d8/1188)

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2012-09-15T11:01:56.577

您可以使用`year()`sql 中的函数来获取指定日期的年份。

句法：

```
YEAR ( date ) 
```

有关更多信息[，请查看此处](http://msdn.microsoft.com/en-us/library/ms186313.aspx)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2015-04-27T07:53:05.890

```
year(table_column) 
```

例子：

```
select * from mytable where year(transaction_day)='2013' 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2016-10-18T08:51:18.193

SQL 服务器脚本

```
declare @iDate datetime
set @iDate=GETDATE()

print year(@iDate) -- for Year

print month(@iDate) -- for Month

print day(@iDate) -- for Day 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-01-13T12:08:23.283

年函数剂量，像这样：

`select year(date_column) from table_name`

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-15T10:53:02.290

[DATEPART](http://msdn.microsoft.com/en-us/library/ms174420.aspx) (yyyy, date_column) 可用于提取年份。通常，DATEPART 函数用于提取日期值的特定部分。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-10-08T09:33:57.143

```
---Lalmuni Demos---
create table Users
(
userid int,date_of_birth date
)
insert into Users values(4,'9/10/1991')

select DATEDIFF(year,date_of_birth, getdate()) - (CASE WHEN (DATEADD(year, DATEDIFF(year,date_of_birth, getdate()),date_of_birth)) > getdate() THEN 1 ELSE 0 END) as Years, 
MONTH(getdate() - (DATEADD(year, DATEDIFF(year, date_of_birth, getdate()), date_of_birth))) - 1 as Months, 
DAY(getdate() - (DATEADD(year, DATEDIFF(year,date_of_birth, getdate()), date_of_birth))) - 1 as Days,
from users 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-08-04T20:53:55.273

只需使用

选择日期部分（年，某日期列）

它将返回与您指定的选项相对应的 DATETIME 类型部分。所以 DATEPART(YEAR, GETDATE()) 将返回当前年份。

可以传递其他时间格式化程序而不是 YEAR

*   天
*   月
*   第二
*   毫秒
*   ...ETC。

# c# - 如何退出递归函数？

> ID：12436745
> 
> 赞同：3
> 
> 时间：2012-09-15T10:51:16.437
> 
> 标签：c#, recursion

我正在开发一个使用递归函数的程序。

我的问题是当递归函数的工作完成时，控制权转移到下一个函数，完成下一个函数的工作后返回递归函数。

我需要一些可以强制控制权转移回功能的代码。我不想退出我的程序。

```
public void function1(a, num)
{
  if(a >= num)
  {
    if(a > num)
      function1(a, num);
    else if(a == num)
    {
      a++;
      function1(a, num)
    }
  }
  else
    function2(a, num)
}

public void function2(a, num)
{
  //print result;
} 
```

每次我打电话`function1`时，我都会对变量`a`和`num`. 但问题是在某些条件下`function2`被调用时控制又被传递给`function1`了。你能给我一些代码来防止这种情况吗？这是我正在设计的时间表生成器的一部分。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:55:53.540

> 每当您想返回基地时，请***返回***

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T11:04:05.860

此版本的功能完全相同。

```
public void function1(a, num)
{
    if (a < num)
    {
        function2(a, num);
    }
    else
    {
        function1((a > num) ? a : a + 1, num);
    }
}

public void function2(a, num)
{
    //print result;
} 
```

仅供参考：如果`a`通过，则大于`num`，则函数将无限递归，有效调用相同的参数 list `function1(a, num)`，因此它永远不会返回，导致挂起并最终在某个时候堆栈溢出。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T11:25:31.590

您需要将其更改为：

```
public void function1(a,num)
{
    if(a>num)
     {
       //Increment num or decrease a here, otherwise the recursion never ends
       function1(a,num);
       return; //Each time the method does a recursion, it stops to execute itself with
       // a new set of arguments, but when one of them decide it's over, all the 
       // instances of the method will resume one by one, so if you don't return, 
       // it executes the rest of function1.
     }
    else if(a==num) 
     {
       a++; //You probably don't want to do that, this a==num case should be merged
       // with a>num. Can you see why?
       function1(a,num)
       return;
     }
    else
       function2(a,num)
}

public void function2(a,num)
{
 //print result;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T22:15:53.070

如果您只是执行一个直接循环，也许代码会更简单。

```
while (a <= num)
{
   function2(a, num);
   a++;
} 
```

# internet-explorer - C - Hook Internet Explorer 下载功能

> ID：12436747
> 
> 赞同：0
> 
> 时间：2012-09-15T10:51:37.660
> 
> 标签：internet-explorer, function, download, hook

为了增加新电脑的安全性，我想写一个小软件来挂钩Internet Explorer，并在每次有人尝试下载文件时显示密码提示（就是为了防止我的小表弟下载各种工具栏和其他垃圾）。

我有挂钩和方法等方面的经验和知识，我的问题是，Internet Explorer 下载文件的例程/功能/方法是什么？

挂钩 CreateFile 不是一个选项，因为浏览器一直在下载和缓存内容。ss 有触发运行/保存/取消提示的功能吗？在我的搜索中我只找到了`TriggerFileDownload`，但我不知道浏览器本身是否使用它。

# iphone - 如何将 NSString 从一个 UIViewController 传递到另一个 UIViewController？

> ID：12436751
> 
> 赞同：-2
> 
> 时间：2012-09-15T10:51:52.267
> 
> 标签：iphone, objective-c, ios, ipad, cocoa

> **可能重复：**
> [iOS - 将变量传递给视图控制器](https://stackoverflow.com/questions/11272864/ios-passing-variable-to-view-controller)

我有两个 Viewcontrollers（ViewController1 和 ViewController2），我想将一个 String 值连同一个 IBAction 从 ViewController1 传递到 ViewController2。我正在尝试读取 ViewController2 的 ViewDidLoad 方法中的 NSString (*check) 值，但它返回一个空值。

帮助我并提前感谢。

```
// ViewController1

@interface ViewController1 : UIViewController {

        IBOutlet UIButton *btn1;
        IBOutlet UIButton *btn2;
        NSString *check;
    }
#import "ViewController.h"

-(IBAction)buttonClicked:(id)sender {

    check = [[NSString alloc] init];

    if (btn1.tag == 0) {
        check = @"foo";
        NSLog(@"%@",check);    
    }
    if (btn2.tag == 1) {
        check = @"bar";
        NSLog(@"%@",check);
    }
} 
```

在我的第二个视图控制器中，

```
#import <UIKit/UIKit.h>

@class ViewController1;

@interface ViewController2 : UIViewController {

    ViewController1 *viewCon;
}

@property(nonatomic,retain) ViewController *viewCon;

//.m

#import "ViewController2.h"
#import "ViewController1.h"

@synthesize viewCon,

 - (void)viewDidLoad
{
    ViewController *myVC = [[ViewController alloc] init];
    NSLog(@"  Label  %@",myVC.check);
    [super viewDidLoad];
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T10:58:09.253

使用 ViewController2 的实例后跟点运算符将数据从 ViewController1 传递到 ViewController2：

在 ViewController2 中创建 NSString *strCheck 的属性，因为您想将数据传递给 ViewController2。

现在在 ViewController1 的按钮单击事件中

```
-(IBAction)buttonClicked:(id)sender {
{

 .......
 .......

 ViewController2 *objViewController2 = [ViewController2 alloc] initWithNibName:@"ViewController2" bundle:nil];
 objViewController2.strCheck = check; //ViewController1's value to ViewController2

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T11:08:22.007

```
-(IBAction)buttonClicked:(id)sender {

   //check = [[NSString alloc] init]; -- NO Need

    if (btn1.tag == 0) {
        check = @"foo";
        NSLog(@"%@",check);    
    }
    if (btn2.tag == 1) {
        check = @"bar";
        NSLog(@"%@",check);
    }

  ViewController2 *obj = [[ViewController2 alloc] initWithNibName:@"ViewController2"];
  [obj setCheck:check];
  //push to ViewController2
  [obj release]; 
```

}

在您的第二个视图控制器中，

```
#import <UIKit/UIKit.h>

@interface ViewController2 : UIViewController {

        NSString *check;
}
@property (nonatomic, retain) NSString *check;

//.m

#import "ViewController2.h"

@synthesize check;

 - (void)viewDidLoad
{
    NSLog(@"  Label  %@",check);
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T11:01:46.500

请参阅此链接 -
[iOS - 将变量传递给视图控制器](https://stackoverflow.com/questions/11272864/ios-passing-variable-to-view-controller/11274661#11274661)。
我已经为同样的事情给出了答案。

您需要设置变量的`@property`和`@synthesized`。有关更多信息，请查看链接。

# javascript - 如何设置禁用/只读 关于改变 ?

> ID：12436752
> 
> 赞同：1
> 
> 时间：2012-09-15T10:52:03.887
> 
> 标签：javascript, jsf, jsf-2, primefaces

我正在使用`<p:dataTable>`html `<table>`。我想`<p:inputText>`在`<h:selectOneMenu>`更改事件上禁用/只读 PrimeFaces。

我使用了 JavaScript，但它无法使用它。

```
<script type="text/javascript">
 function change(val)
 {          
     //alert(val);
     if(val=="Check")
      {

         document.getElementById('bankName').readonly=false;
         document.getElementById('receiptNo').readonly=true;

      }
      if(val=="Cash")
      {

          forms.elements["mainForm:chkNo"].readonly=true;
          document.getElementById('chkNo').readonly=true;
          document.getElementById('bankName').readonly=true;
          document.getElementById('receiptNo').readonly=false;              

      }
}
</script> 
```

JSF 代码

```
<h:column>
                            <p:dataTable id="paymentHistoryDataTable" var="due" 
                                         >

                                <p:column>
                                    ....... 
```

```
 <table id="paymentProcess">
                                        <tr>                                                
                                            <td style="width: 80px;">
                                        <h:selectOneMenu value="#{adminActionController.tempBean.selectType}" id="type" onchange="change(this.value);">
                                            <f:selectItem itemLabel="Check" itemValue="Check"/>
                                            <f:selectItem itemLabel="Cash" itemValue="Cash"/>
                                        </h:selectOneMenu>
                                        </td>
                                        </tr>
                                        <tr id="check">
                                            <td></td>
                                            <td></td>
                                            <td style="width: 90px;" id="lblChk">
                                                <label> <h:outputText value="Check/DD Number:" /> </label>
                                            </td>
                                            <td style="width: 90px;">
                                        <h:inputText id="chkNo" value="#{adminActionController.tempBean.checkNumber}"  immediate="true"
                                                     required="false" validatorMessage="insert Check/DD number">
                                        </h:inputText>
                                        </td> 
```

............. 我想在 js 中访问 id="chkNo" 以禁用它..

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-15T12:45:09.743

你在这里犯了几个概念上的错误。

您的具体问题是由于您正在编写基于 JSF 源代码的 JavaScript 代码。这并不完全正确。JSF 在网络服务器上运行并生成 HTML。JavaScript 在网络浏览器上运行，只能看到 HTML，而不是 JSF。在 webbrowser 中右键单击该页面，选择*View Source*并仔细查看。不存在任何带有 ID`bankName`或`receiptNo`. 相反，它是`formId:tableId:0:bankName`、`formId:tableId:1:bankName`、`formId:tableId:2:bankName`等。原则上，您应该使用 JavaScript 中的那些 HTML 元素 ID 从 HTML DOM 中选择元素。

但这很笨拙。

而是使用 JSF 提供的标签/工具来实现所需的功能需求。您可以在`readonly`诸如`readonly="#{dropdown.value == 'Cash'}"`. 您可以使用`<f:ajax>`执行 JSF ajax 请求来更新模型和视图。

以下启动示例应该为您提供一个很好的起点：

```
<h:selectOneMenu id="type" value="#{adminActionController.tempBean.selectType}">
    <f:selectItem itemValue="Check"/>
    <f:selectItem itemValue="Cash"/>
    <f:ajax render="chkNo bankName receiptNo" />
</h:selectOneMenu>
<p:inputText id="chkNo" readonly="#{adminActionController.tempBean.selectType == 'Cash'}" />
<p:inputText id="bankName" readonly="#{adminActionController.tempBean.selectType == 'Cash'}" />
<p:inputText id="receiptNo" readonly="#{adminActionController.tempBean.selectType == 'Check'}" /> 
```

将`<f:ajax>`使用（相对）客户端 ID`chkNo`以及下拉列表更改时`bankName`更新组件。`receiptNo`更新将强制`readonly`重新评估属性。

* * *

**与具体问题**无关**`<p:dataTable><table>`，您没有将行绑定到的使用`var="due"`方式非常奇怪，但这是未来可能出现的问题/问题的主题。上面的代码示例假定了正确的上下文。**

# php - PHP脚本在提交时返回“未定义”

> ID：12436758
> 
> 赞同：1
> 
> 时间：2012-09-15T10:53:15.970
> 
> 标签：php, jquery, html, jquery-mobile

我正在构建一个小应用程序，它基本上是一个用 HTML 和 jQuery 移动构建的表单，我已经将它部署到 Web 和我的 iOS 版本的应用程序，它就像一个魅力。但是现在当尝试在应用程序的 android 版本上进行部署时，我在提交时只是在屏幕上显示“未定义”，没有“未定义变量”或其他任何东西，只是“未定义”。

有人对这个问题有某种形式的解决方案吗？我正在使用 PhoneGap 部署 HTML/CSS/JQuery

我非常感谢提供的任何帮助。

我在这里发布代码：

```
<?php

$con = mysql_connect("db-ip","username","password");
if (!$con)
  {
  die('errormessage: ' . mysql_error());
  }

mysql_select_db("dbname", $con);

$myusername=$_POST['username'];
$myusername = stripslashes($myusername);
$myusername = mysql_real_escape_string($myusername);
$sql2="SELECT * FROM users WHERE username='$myusername'";
$result=mysql_query($sql2);
$count=mysql_num_rows($result);

if (empty($myusername))
    {
        header('Location:error2.html');
        exit;   
    }

if($count==1)
    {
        $sql="INSERT INTO testresult(slider1, slider2, slider3, slider4, time, user) VALUES('$_POST[slider1]', '$_POST[slider2]', '$_POST[slider3]', '$_POST[slider4]', NOW(),'$myusername')";
    }
else    
    {
        header('Location:error.html');
        exit;
    }

if (!mysql_query($sql,$con))
  {
  die('errormessage:' . mysql_error());
  }

header('Location:done.html');
exit;

mysql_close($con);

?> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T10:55:47.543

如果错误只是`undefined`，则不能是 PHP 引起的。在 JavaScript 中，`undefined`意味着您尝试使用的变量未定义。

另一个观察是 mysql_ 函数。您应该考虑改用 PDO。

来自 php.net：

> 不鼓励使用此扩展程序。相反，应该使用 MySQLi 或 PDO_MySQL 扩展。另请参阅 MySQL：选择 API 指南和相关的常见问题解答以获取更多信息。此功能的替代方案包括：

这是关于以 mysql_ 开头的函数。

# java - 人工智能 - 吸尘器

> ID：12436762
> 
> 赞同：-10
> 
> 时间：2012-09-15T10:53:45.873
> 
> 标签：java, algorithm, artificial-intelligence

我需要编写一个吸尘的智能代理。我的代理人从世界获得感知，然后采取行动。

世界是一个二维数组。每个数组项都可以是“干净”、“凹凸”或“污垢”。

我的问题是如何导航我的吸尘器？当我碰到墙时，我应该朝哪个方向走？我应该向左、向右还是返回？有适合这类问题的算法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T11:40:04.450

如果您应用随机动作选择，您的代理将在无限多个时间步之后访问地图的所有字段。这可能会为您提供初始基线解决方案。

这个问题看起来你可能应该研究基于图形的搜索算法或潜在的动态编程来解决这个问题。我建议阅读 Russell 和 Norvig 所著的《人工智能：一种现代方法》，第 2 章和第 3 章。

# c# - 以分钟为单位增加当前时间

> ID：12436763
> 
> 赞同：0
> 
> 时间：2012-09-15T10:53:52.253
> 
> 标签：c#, datetime

我在一个模拟应用程序上，需要为每条记录附加不同的时间。我将日期和时间存储在单独的字符串中：

```
string pdate = DateTime.Now.ToShortDateString();  
string ptime = DateTime.Now.ToShortTimeString(); 
```

现在我正在尝试向 ptime 变量添加 5 分钟（这是我在 foreach 循环中所做的）。

```
foreach (loaddata dl2 in lstdata)
{
  //some code
  ptime = DateTime.Now.AddMinutes(5); 
  //Results in ptime with date and time(I only need the time here)
} 
```

**更新：**我需要在每次迭代中将前一次时间增加 5 分钟

请提出建议。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T10:57:56.600

这样做

```
ptime = DateTime.Parse(ptime, "your string format", CultureInfo.InvariantCulture)
                .AddMinutes(5).ToShortDateString(); 
```

**你的代码有问题**

仅将 DateTime 存储在 DateTime 中，这样您就可以在那里“增加”它们本身。从 DateTime 转换为字符串很容易并且几乎没有错误。但是从字符串到日期时间的转换有时会导致异常。

最好是这样做

```
DateTime ptime = DateTime.Now;

// After some coding

ptime = ptime.AddMinutes(5); 
```

当您知道不需要 DateTime 格式（如在 UI 中显示）时，应转换为字符串。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T10:57:50.453

当您可以将其存储在字符串中时，为什么要将其存储在字符串中`DateTime`？`DateTime`用于存储日期，并提供了许多处理日期的方法。

如果您确实需要该字符串，请在之后操作`DateTime`并调用`ToShortDateString()`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T10:59:02.547

使用`DateTime`对象：

```
DateTime current = DateTime.Now;

foreach (loaddata dl2 in lstdata)
{

   //some code
   current = DateTime.Now.AddMinutes(5); 

   string pdate = current.ToShortDateString();  
   string ptime = current.ToShortTimeString();
   // do something with pdate and ptime

   //Results in ptime with date and time(I only need the time here)
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T10:57:35.397

这不行吗？

```
ptime = DateTime.Now.AddMinutes(5).ToShortTimeString(); 
```

# java - 将 PHP 语句转换为 Java

> ID：12436769
> 
> 赞同：1
> 
> 时间：2012-09-15T10:54:36.093
> 
> 标签：java, php, jakarta-ee

我必须将以下 PHP 脚本转换为 JSP 脚本：

```
<?php
 $cache_expire = 60*60*24*365;
 header("Pragma: public");
 header("Cache-Control: max-age=".$cache_expire);
 header('Expires: ' . gmdate('D, d M Y H:i:s', time()+$cache_expire) . ' GMT');
?> 
```

我能够做到：

```
<%! long cacheExpire = 60*60*24*365; %>

<% 
 response.setHeader("Pragma", "public");
 response.setHeader("Cache-Control", "max-age=" + cacheExpire);
 response.setHeader("Expires", "....?..."); // what do I put in the second string ?
%> 
```

但我无法将 PHP 脚本中的最后一条语句转换为 JSP。我只是在Java中理解了这一点：

```
new GregorianCalendar().getTime() + cacheExpire 
```

但这实施起来是不正确的。

如何将 PHP 的最后一条语句转换为 Java 语句？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:53:09.343

这与上面的 PHP 代码完全相同：

```
<%! long cacheExpire = 60*60*24*365; %>

<% 
 response.setHeader("Pragma", "public");
 response.setHeader("Cache-Control", "max-age=" + cacheExpire);

 DateFormat df = new SimpleDateFormat("EEE, dd MMM yyyy HH:mm:ss");
 df.setTimeZone(TimeZone.getTimeZone("GMT"));
 long expire = (long) System.currentTimeMillis() + (cacheExpire * 1000);
 String expires = df.format(new Date(expire)) + " GMT";

 response.setHeader("Expires", expires);
%> 
```

棘手的部分是在 java 和 php 的不同日期格式标记之间进行转换，并在 GMT 时区获取 java 日期，希望你觉得它有用:-)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T11:00:05.610

尝试这个：

```
response.setDateHeader("Expires", System.currentTimeMillis() + cacheExpire); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T11:00:24.347

你必须使用`Calender.get(Calendar.YEAR)`etc. 来实现这一点。在 Java 中无法像在 PHP 中那样表达日期格式，但是，您可以获得相同的字段值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T11:05:38.080

您应该使用`SimpleDateFormat`类来格式化`Date`Java 中的对象。例如，检查以下代码，替换`stringDatePattern`为有效的日期格式，如`"yyyy-MM-dd"`.

```
new SimpleDateFormat(stringDatePattern).format(new Date()) + cacheExpire 
```

在上面的代码片段中，`new Date()`返回当前时间，`SimpleDateFormat`根据传递的模式格式化。然后你只需连接`cacheExpire`变量。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-15T11:41:32.500

该示例完全符合您的要求：

```
int cacheExpire = 60 * 60 * 24 * 365;

Calendar cal = Calendar.getInstance();
cal.add( Calendar.SECOND, cacheExpire );
SimpleDateFormat format = new SimpleDateFormat( "EEE, dd MMM yyyy HH:mm:ss 'GMT'" );
format.setTimeZone( TimeZone.getTimeZone( "GMT" ) );

response.setHeader( "Expires", format.format( cal.getTime() ) ); 
```

# php - 贝宝 PHP IPN.php 文件

> ID：12436770
> 
> 赞同：0
> 
> 时间：2012-09-15T10:54:36.830
> 
> 标签：php, paypal

嗨，我正在使用 php 开发 Paypal。没罚款有什么用

```
<input type="hidden" name="notify_url" value="ipn.php" /> 
```

需要一些帮助

我已经下载了代码需要的 inp.php 的示例代码

```
mail('YOUR EMAIL ADDRESS', 'Verified IPN', $listener->getTextReport()); 
```

“已验证的 IPN”是什么意思？我需要在那里改变吗？

Followng 是我的 ipn.php 文件的代码

```
<?php

ini_set('log_errors', true);
ini_set('error_log', dirname(__FILE__).'/ipn_errors.log');

// instantiate the IpnListener class
include('../ipnlistener.php');
$listener = new IpnListener();

$listener->use_sandbox = true;

try {
   $listener->requirePostMethod();
   $verified = $listener->processIpn();
} catch (Exception $e) {
   error_log($e->getMessage());
   exit(0);
}

if ($verified) {

   mail('YOUR EMAIL ADDRESS', 'Verified IPN', $listener->getTextReport());

} else {

   mail('YOUR EMAIL ADDRESS', 'Invalid IPN', $listener->getTextReport());
}

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T11:08:27.157

您将全面了解以下有关 paypal IPN 的文章。IPN 是电子商务网站贝宝交易的安全方法。

[http://www.micahcarrick.com/paypal-ipn-with-php.html](http://www.micahcarrick.com/paypal-ipn-with-php.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T12:06:18.733

每当有新交易进入您的 PayPal 帐户时，IPN 基本上就是一个通知响应。

您可以指定一个 URL，所有 IPN 响应都将被定向到该 URL。

[每当您收到通知时，您需要通过向https://www.paypal.com/cgi-bin/webscr](https://www.paypal.com/cgi-bin/webscr)发送 HTTP POST 来确认它

并且 PayPal 会回复 - 使用“已验证”或“无效”

请点击此链接：[https](https://www.paypal.com/cgi-bin/webscr?cmd=p/acc/ipn-info-outside) ://www.paypal.com/cgi-bin/webscr?cmd= p/acc/ipn-info-outside 它将帮助您更多地了解 PayPal 的 IPN。

谢谢你。

# haskell - Haskell 中的元组映射

> ID：12436774
> 
> 赞同：0
> 
> 时间：2012-09-15T10:55:05.640
> 
> 标签：haskell, map, tuples

我不知道它通常是怎么称呼的，但我需要的是这样的：

```
f a b c = a + 2 * b + 3 * c

map f [(1,2,3), (4,5,6), (7,8,9)] 
```

即将 n 元组的列表映射到具有 n 个单独参数的函数。Haskell 有内置的方法吗？

PS：我`uncurry`刚刚发现，但它似乎不适用于 3 个参数，只有 2 个。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-15T11:06:48.477

您可以定义自己的功能：

```
uncurry3 :: (a -> b -> c -> d) -> (a,b,c) -> d
uncurry3 f (a,b,c) = f a b c

map (uncurry3 f) [(1,2,3), (4,5,6), (7,8,9)] 
```

或者，您可以`uncurryN`从`tuple`适用于最大 15 元组的包中使用：

```
cabal install tuple

import Data.Tuple.Curry

map (uncurryN f) [(1,2,3), (4,5,6), (7,8,9)] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T11:01:06.350

一般来说，不 - 因为元组不像列表那样通用，并且可能具有不同的数据类型

但是，您可以以 ((a,b), c) 的方式重新处理您的元组，然后您可能希望使用 fst/snd 组合或[箭头](http://www.haskell.org/arrows/)来概括您的计算。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T11:02:32.637

我不知道这个问题的任何一般解决方案，但实际的解决方案是

```
uncurry3 f (x, y, z)  =  f x y z 
```

然后

```
map (uncurry3 f) [(1,2,3), (4,5,6), (7,8,9)] 
```

# jquery - 突出显示输入框中输入的字母

> ID：12436784
> 
> 赞同：0
> 
> 时间：2012-09-15T10:57:30.720
> 
> 标签：jquery, highlighting

我想突出显示在收件箱中输入的文本，当它在表格列中找到时，td，然后它应该突出显示它，否则从中删除突出显示。

这是我的代码的一个小提琴：http: [//jsfiddle.net/rFGWZ/6/](http://jsfiddle.net/rFGWZ/6/)，尝试`21`输入文本输入，所以2行将只可见，我想`21`在每个`td`可见的中选择大小写，这是在输入中键入的文本。

我尝试了许多在网络上发布的高亮脚本，但它们似乎都不起作用，因为我无法真正本地化元素，因为这是实时查询搜索......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T11:05:23.833

您必须创建一个只包含突出显示的字符的跨度。我建议你这个代码：

```
    $("table tr").each(function(index) {
        如果（索引！== 0）{

            $行 = $(这个);
            var firstCell = $row.children("td:first");

            var id = $row.children("td:first").text();
            如果（id.indexOf（值）！== 0）{
                $row.children("td:first").text(id);
                $row.hide();
            }
            别的 {
                firstCell.html($("").addClass("highlight").text(id.slice(0, value.length)));
                firstCell.append(id.slice(value.length, id.length));
                $row.show();
            }
        }
    });

```

不要忘记`.highlight`在您的 CSS 中自定义规则。

现场观看[！](http://jsfiddle.net/rFGWZ/11/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T11:06:11.200

像这样..？？

```
if (id.indexOf(value) !== 0) {
            $row.hide();

        }
        else {
            $row.show();
            $row.css("color","red");
        } 
```

# java - RESTTemplate 等待 API 响应

> ID：12436792
> 
> 赞同：3
> 
> 时间：2012-09-15T10:58:41.517
> 
> 标签：java, web-services, spring, api, rest

在我的 Spring 应用程序中，我使用 RESTTemplate 从外部 API 获取一些信息。此 API 要求当您发出请求时，您必须等待它的响应，直到您发出另一个请求。这就是为什么我想知道如何做到这一点。当然不能使用计时器或类似的东西，因为这个 API 的响应时间每次都不同。

不幸的是，这个应用程序需要 RESTTemplate，我无法更改它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T18:02:13.327

您可以在单例 bean 中使用标志来实现这一点。在调用服务之前，请检查它是否为`false`. 如果`false`制作标志`true`并致电服务。在退出之前制作标志`false`。

因此，当`flag == true`服务正在进行时，您可以提出新请求。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T11:03:53.400

通常，您应该在发出请求时等待响应，但您可以打开一个正在侦听传入数据的服务器套接字，当您收到响应时，检查它是什么类型的响应，然后接受或拒绝它。因此，您使用客户端套接字发出请求并使用服务器套接字接收响应。

[http://docs.oracle.com/javase/tutorial/networking/sockets/clientServer.html](http://docs.oracle.com/javase/tutorial/networking/sockets/clientServer.html)

[http://docs.oracle.com/javase/6/docs/api/java/net/ServerSocket.html](http://docs.oracle.com/javase/6/docs/api/java/net/ServerSocket.html)

# java - 从 lucene 索引读取文件内容

> ID：12436797
> 
> 赞同：2
> 
> 时间：2012-09-15T10:59:18.263
> 
> 标签：java, lucene

您好，我是 lucene 新手，我使用 lucene 创建了索引。我将两个字段文件名和文件内容添加到 lucene 索引。但是当我从索引中搜索时，我能够获得查询词的出现和包含查询词的文件名。我无法查看我为其创建索引的文件的内容，任何人都可以帮助，请提前致谢

```
Directory directory = FSDirectory.open(indexDir);
IndexSearcher searcher = new IndexSearcher(directory,true);
QueryParser parser = 
    new QueryParser(Version.LUCENE_30,"contents", new SimpleAnalyzer());
Query query = parser.parse(queryStr);
query.setBoost((float)1.5);
TopDocs topDocs = searcher.search(query, maxHits);
ScoreDoc[] hits = topDocs.scoreDocs;
arr= new String[hits.length];
for ( i = 0; i <hits.length; i++) {
    int docId = hits[i].doc;
    Document d = searcher.doc(docId);
    arr[i]=d.get("filename");
} 
```

我正在使用此代码来读取索引。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T19:10:24.873

简而言之，有两个属性与将字段提供给 Lucene 索引相关。

1) 已索引：只能搜索，但不可挽回地丢失，即无法从索引中读回内容。

2) 已存储：这些字段中的内容可以被检索而不会丢失。

我认为，您的“文件名”字段是“索引”和“存储”，而“内容”肯定不是“存储”。

以上是在索引数据时指定的。

您可以参考：[1.3 将文档/对象添加到索引](http://oak.cs.ucla.edu/cs144/projects/lucene/index.html)

# c# - 从另一个类（或更好的东西？）C# 填充 TreeView

> ID：12436802
> 
> 赞同：1
> 
> 时间：2012-09-15T11:00:18.237
> 
> 标签：c#, winforms, treeview

我正在尝试为我最喜欢的游戏之一制作一个关卡阅读器应用程序，简单地说这就是我目前想要实现的目标：

级别文件的前 8 个字节：

```
0100000001000000 
```

它声明网格版本 = 1 和顶点版本 = 1。

我制作了一个 GUI，其中有一个树视图，在树中它有标题，在标题中它有顶点和网格版本。我想用这些数据填充这些。

现在这是我的第一个问题出现的地方：
我想在它自己的类中完成所有阅读（例如，HeaderData、MaterialData）等，只是为了使代码更清晰。因为我在另一个类中这样做，
所以我不知道如何从所述类访问我的树视图（如果我在 Form 类中，我可以只做 treeView1.whatever，但我不知道如何从另一个类。

注意：我试过Levelreader.Form1.treeView1，但它不存在）。

```
public void button1_Click(object sender, EventArgs e)
{
    using (OpenFileDialog fileDialog = new OpenFileDialog())
    {
        if (fileDialog.ShowDialog() != DialogResult.Cancel)
        {
            textBox1.Text = fileDialog.FileName;
            using (BinaryReader fileBytes = new BinaryReader(new MemoryStream(File.ReadAllBytes(textBox1.Text))))
            {
                //Get the hex data in bytearray format
                //This won't be displayed
                int length = (int)fileBytes.BaseStream.Length;
                byte[] hex = fileBytes.ReadBytes(length);
                //File.WriteAllBytes(@"c:\temp_file.txt", hex);

                //This is what's displayed.
                //Remember to make changes to the byte array
                //and then update the view.
                string tempStr = BitConverter.ToString(hex).Replace("-", " ");
                richTextBox1.Text = tempStr;
                richTextBox1.ScrollBars = RichTextBoxScrollBars.ForcedVertical;

                //Instantiate the class
                Header temp = new Header();
                temp.HeaderData(hex);
                }
            }
        }

    } 
```

这是在命名空间 LevelReader 中的 Form1 类中读取文件然后实例化 Header() 类的方法。然后我调用 HeaderData，并在该类中获得网格和顶点版本。

```
namespace SceneStuff
{
    public class Header
    {

        public void HeaderData(byte[] hex)
        {
            //First 4 Bytes = Mesh Version
            //Second 4 Bytes = Vertex Version
            byte[] meshVersion = hex.Take(4).ToArray();
            byte[] vertexVersion = hex.Skip(4).Take(4).ToArray();

        }

    }
} 
```

在这个方法中，我想使用这些数据来填充我的树视图。例如，我更改了关卡中的一些信息，例如将网格版本更改为 2，我想要，当我按“编译关卡”（在我的应用程序 GUI 中）从 TreeView 中读取时，我相信这将是最好的那样。但是，如果您有建议，请说明，因为我是 C# 新手！

总而言之，这是我的两个问题：
1）如何从另一个命名空间/类访问我的树视图？
2）您对改进我的代码有什么建议吗？（以及我计划编译关卡的方式？）

谢谢！

PS我为文字墙道歉！>_<

**编辑：**

我还有另一个问题是我似乎无法填充我的节点。

它是这样创建的：

```
 private void InitializeComponent()
    {
        this.components = new System.ComponentModel.Container();
        System.Windows.Forms.TreeNode treeNode2 = new System.Windows.Forms.TreeNode("Mesh Version"); 
```

及以下：

```
 treeNode2.Name = "meshVersion";
        treeNode2.Text = "Mesh Version"; 
```

我尝试添加 treeNode2 作为对我的方法的引用，但这不起作用。
我试图用它来选择它，`treeView1.SelectedNode = treeView1.Nodes[1].Nodes[1];`但这似乎也不起作用。
（这是 GUI 的图像`Nodes[1].Nodes[1]`，我认为这表明我正在尝试访问（我正在尝试访问 Mesh 版本）[http://i.imgur.com/hahhG.png](http://i.imgur.com/hahhG.png)

所以我需要做的是访问该 PRE EXISTING NODE 并向其中添加一个子节点。在这种情况下，我似乎找不到任何详细说明它的教程，而且我不明白它足以满足他们的教程以满足我的需要.

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T13:19:58.597

### 三种解决方案：

1.  您可以将 TreeView 的可见性更改`Form1.Designer.cs`为`public`或`internal`

2.  或者您可以在函数内部构建 TreeView 节点`HeaderData()`并返回它们。

3.  或者正如@ [Saeid87](https://stackoverflow.com/questions/12436802/populate-treeview-from-another-class-or-something-better-c-sharp/12437716#comment16722947_12436802)所说，您可以通过引用`HeaderData()`函数来传递 TreeView：

**例子 ：**

```
public void HeaderData(byte[] hex, ref TreeView treeview)
{
    //First 4 Bytes = Mesh Version
    //Second 4 Bytes = Vertex Version
    byte[] meshVersion = hex.Take(4).ToArray();
    byte[] vertexVersion = hex.Skip(4).Take(4).ToArray();

    //Example: Do something with the Mesh Version Node
    treeView1.Nodes[1].Nodes[0].Nodes[0].Text = "Lorem ipsum";
} 
```

当你调用你的函数时，通过引用传递 TreeView（在你的`button1_Click`函数内部）

```
temp.HeaderData(hex, ref treeView1) 
```

# javascript - 在单页上应用触摸滑动，用于动态加载数据的页面？

> ID：12436804
> 
> 赞同：11
> 
> 时间：2012-09-15T11:00:29.167
> 
> 标签：javascript, android, iphone, cordova, jquery-mobile

我使用了一次又一次加载数据的单页。

同一个页面正在用于加载数据；即标题、照片和说明。你能帮我，以便我可以在其中应用滑动功能吗？我正在构建一个像 Pulse News 这样的应用程序，在滑动功能上检查它。我已经在 phonegap、HTML5、CSS3 和 JavaScript 以及 jQuery mobile 中构建了它。

我知道如何滑动页面，其中不止一页，但只有一页动态加载数据并且仅更改内容，所以我应该如何添加滑动以使其适用于 iPhone 和 Android ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-16T23:50:42.397

您的应用中有多少页面并不重要。您需要检测活动中的 SWIPE 操作并重新加载数据，而不是真正滑动页面。为此：在您的触摸事件侦听器中，检测：

> ACTION_MOVE

像这样：

> if(event.getAction() != MotionEvent.ACTION_MOVE)

甚至检查距离以确保发生 SWIPE：

```
switch(event.getAction())
 {
     case MotionEvent.ACTION_DOWN:
              if(isDown == false)
              {
                     startX = event.getX();
                     startY = event.getY();
                     isDown = true;
              }
              Break;
              case MotionEvent.ACTION_UP
              {
                     endX = event.getX();
                     endY = event.getY();
                     break;
          }
} 
```

然后计算距离，如果听起来不仅仅是点击...考虑一下滑动并重新加载您的数据祝你好运

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-23T10:49:52.000

看看 Hammer.js ( [http://eightmedia.github.io/hammer.js/](http://eightmedia.github.io/hammer.js/) ) 也许它会让你更容易！

```
Hammer(el).on("swipeleft", function() {
    //code to run when user uses swipes left
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-19T14:01:19.440

您可以根据需要修改此代码。

```
 $("#pageID-1").on("swiperight", function() {           
    $.mobile.changePage("#pageID-2", {transition: "slide",reverse: false});         
    getDateienData();   // load data dynamically on page '#pageID-2' when swipe page '#pageID-1'. 
  }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T15:11:34.990

我认为您可能需要考虑使用多页布局或面板，并使用滑动手势在它们之间进行转换。

[http://view.jquerymobile.com/1.3.0/docs/widgets/pages/#Multi-pagetemplatestructure](http://view.jquerymobile.com/1.3.0/docs/widgets/pages/#Multi-pagetemplatestructure)

在此处查看 jQueryMobile 幻灯片对话框的代码 - [http://view.jquerymobile.com/1.3.0/docs/widgets/transitions/](http://view.jquerymobile.com/1.3.0/docs/widgets/transitions/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-27T00:55:48.423

来自 jQuery Mobile 1.3.0 文档`$.mobile.changePage`

**选项（对象，可选）属性：**

`allowSamePageTransition(boolean, default: false)`

> 默认情况下，changePage() 忽略更改到当前活动页面的请求。将此选项设置为 true，允许执行请求。开发人员应注意，某些页面转换假定 changePage 请求的 fromPage 和 toPage 不同，因此它们可能无法按预期进行动画处理。开发人员负责提供适当的过渡，或针对这种特定情况将其关闭。

根据您使用的 jQuery.Mobile 版本，这似乎可能存在一些错误。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-09-25T17:56:11.863

首先让你的 Activity 实现 OnTouchListener 然后返回手势检测器，即如下

```
public boolean onTouch(final View view, final MotionEvent motionEvent) {
  // TODO Auto-generated method stub
  return gestureDetector.onTouchEvent(motionEvent);
} 
```

那么现在

```
urpage.setOnTouchListener(this); 
```

在 onCreate 方法中

下一个

在其中创建一个名为 GestureListener 的类

```
private final class GestureListener extends SimpleOnGestureListener {

private static final int SWIPE_THRESHOLD = 100;
private static final int SWIPE_VELOCITY_THRESHOLD = 100;

@Override
public boolean onDown(MotionEvent e) {
    return true;
}

@Override
public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,

float velocityY) {
    boolean result = false;
    try {
        float diffY = e2.getY() - e1.getY();
        float diffX = e2.getX() - e1.getX();
        if (Math.abs(diffX) > Math.abs(diffY)) {
             if (Math.abs(diffX) > SWIPE_THRESHOLD
               && Math.abs(velocityX) > SWIPE_VELOCITY_THRESHOLD) {
                  if (diffX > 0) {
                       //dynamic load the page which you want when the user swipes left side
                  } else {
                       //dynamic load the page which you want when the user swipes right side
                  }
             }
        }
    } catch (Exception exception) {
        exception.printStackTrace();
    }
    return result;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-11-19T09:36:47.990

AngularJS 1.2 现在也内置了滑动功能。也许值得检查。

# websocket - AutoBahn Websoket 登录

> ID：12436812
> 
> 赞同：0
> 
> 时间：2012-09-15T11:01:56.780
> 
> 标签：websocket, autobahn

我正在尝试使用 AutoBahn 来测试 websocket 服务器。服务器有一个用户名/密码。发送用户名/密码进行身份验证的正确方法是什么？它是否在 json 文件中，如下所示（ws://username:password@localhost:8787）。这似乎对我不起作用。谢谢你。

```
{
   "options": {"failByDrop": false},
   "outdir": "./reports/servers",

   "servers": [
                {"agent": "TestWebSocket",
                 "url": "ws://username:password@localhost:8787",
                 "options": {"version": 13}}
              ],

   "cases": ["*"],
   "exclude-cases": [],
   "exclude-agent-cases": {}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T06:37:03.617

Autobahn（尚）不支持 HTTP 身份验证（当独立运行时，不作为 Twisted Web 资源）。

# linux - Linux 访问 stout 已运行的程序

> ID：12436821
> 
> 赞同：0
> 
> 时间：2012-09-15T11:03:45.817
> 
> 标签：linux, process

在控制台上，是否可以通过说它的进程 ID 从已经在后台运行的进程打印标准输出？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T11:15:07.403

似乎可以在[这里找到答案](https://stackoverflow.com/a/1323999/1203773)

本教程只有一个链接：http: [//etbe.coker.com.au/2008/02/27/redirecting-output-from-a-running-process/](http://etbe.coker.com.au/2008/02/27/redirecting-output-from-a-running-process/)

# javascript - 在 Jade/Express 中迭代数组是否有限制？

> ID：12436823
> 
> 赞同：4
> 
> 时间：2012-09-15T11:03:51.163
> 
> 标签：javascript, arrays, node.js, express, pug

我正在尝试遍历 Jade 中的一组数组。我似乎已经达到了极限。

```
div().slidePreview
  ul
    each slide in slides
      div
        each section in slide
          li
            each image in section
              img(class= image.orientation, src='http://stevepainter.s3.amazonaws.com/images/thumbs/' + image.filename) 
```

少一次迭代，它工作正常（即幻灯片[0] 中的每个部分）。如果我 console.log(image) 我得到完整的对象。如果我 console.log(image.orientation) 我得到方向，但在浏览器中我得到： -

```
18| each image in section 19| -console.log(image.orientation) 20| img(class= image.orientation, src='http://stevepainter.s3.amazonaws.com/images/thumbs/' + image.filename) 21| Cannot read property 'orientation' of undefined> 18| each image in section 19| -console.log(image.orientation) 20| img(class= image.orientation, src='http://xxxxxxxxxxxxx.s3.amazonaws.com/images/thumbs/' + image.filename) 21| Cannot read property 'orientation' of undefined> 
```

请帮助这正在杀死我！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-16T09:55:14.077

知道了。该数组包含一个未定义的元素（即使我首先通过 array.filter 运行它以阻止它）。我刚刚将 !(image === "" || typeof image == "undefined" || image === null) 添加到玉文件的 if 语句中，它起作用了。

感谢您的评论。

# jquery - 如何在 jQuery Image Gallery 中集成 Facebook Like 按钮

> ID：12436828
> 
> 赞同：0
> 
> 时间：2012-09-15T11:04:27.250
> 
> 标签：jquery, jquery-plugins, jquery-selectors, facebook-like, image-gallery

是否可以集成到 jQuery Image Gallery facebook like 按钮，当用户点击它时，它会在用户新闻提要中显示当前图像？如果是，请告诉我如何。谢谢！D.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:16:56.957

[这个插件](http://www.no-margin-for-errors.com/projects/prettyphoto-jquery-lightbox-clone/)带有 Facebook 喜欢的按钮和每张图片的 Tweet 按钮

# android - 无法禁用默认活动动画

> ID：12436829
> 
> 赞同：0
> 
> 时间：2012-09-15T11:04:41.063
> 
> 标签：android, android-activity, android-animation

我一直在尝试替换默认的活动过渡动画，但没有任何成功。

我已经定义了自己的进入和退出动画，并且在启动新活动的回调中我有以下代码：

```
public void goFetchCallback(View view)
{
    Intent intent = new Intent(this, RecipiesActivity.class);
    intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
    startActivity(intent);
    overridePendingTransition(R.anim.entryanim,R.anim.exitanim);
} 
```

不幸的是，这不起作用，我不知道为什么。

我在带有 ICS 的摩托罗拉 Xoom 上运行它。

我还尝试通过使用如下自定义样式来禁用默认动画：

```
 <style name="AppTheme" parent="@android:style/Theme.Holo">
    <item name="android:windowAnimationStyle">@null</item>      
</style> 
```

并将其分配给 Manifest.xml 中的应用程序，但再次没有成功。

有人可以帮忙吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T21:46:26.607

问题不在于禁用动画的代码。问题在于动画本身。事实上，它与 Xoom 的默认动画几乎相同，因此造成了混乱。

为了完整起见，我发布了禁用动画以及进入和退出动画的代码。他们实现了从右到左的动画以及一些褪色。

调用活动时：

```
Intent intent = new Intent(this, RecipiesActivity.class);
intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
startActivity(intent);
overridePendingTransition(R.anim.entryanim,R.anim.exitanim); 
```

入门动画：

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
    android:shareInterpolator="false">

    <translate 
        android:fromXDelta="100%"
        android:toXDelta="0%"
        android:duration="1000"
        android:interpolator="@android:anim/accelerate_decelerate_interpolator"/>
    <alpha
        android:fromAlpha="0"
        android:toAlpha="1"
        android:interpolator="@android:anim/accelerate_interpolator" 
        android:duration="1000"/>
</set> 
```

和退出动画：

```
<?xml version="1.0" encoding="utf-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android"
    android:shareInterpolator="false">

    <alpha 
        android:fromAlpha="1"
        android:toAlpha="0"
        android:duration="1000"
        android:interpolator="@android:anim/accelerate_interpolator"/>
</set> 
```

# javascript - AJAX 表单从浏览器提交并保存密码，如果我重新加载页面，则没有“确认表单提交”请求

> ID：12436830
> 
> 赞同：3
> 
> 时间：2012-09-15T11:04:41.727
> 
> 标签：javascript, jquery, html, forms

我正在我的网站上做一个简单的登录表单。情况如下：

*   如果我执行纯 Jquery AJAX 表单提交然后重定向（在 JS 代码中），浏览器不会提供保存信息（即用户名和密码）。
*   如果我进行正常的表单提交，当我进入下一页并返回或刷新时，我会感到非常恼火和烦人的“确认表单提交”。

**我的问题是，有可能两全其美吗？如果是，如何？**

明确地说，我想做一个表单提交，最好使用 AJAX，这样如果出现错误，我不必重新加载页面并只显示错误，我希望浏览器提供保存信息的可能性而且我不希望重定向页面上的“确认表单提交”。

*我想在中间添加一个页面，所以提交到一个空白页面，它只是重定向到我想去的页面。但是一旦你到达那里，如果你回击，你会被重定向到同一页面，所以你点击了 2 次。其他人是这样的吗？*

谢谢你的帮助。

PS：我看过所有这些帖子......

*   [Ajax 登录表单 - 浏览器不会保存密码](https://stackoverflow.com/questions/5196846/ajax-login-form-browsers-wont-save-password)
*   [如何让 Chrome 记住 AJAX 表单的密码？](https://stackoverflow.com/questions/5430129/how-to-make-chrome-remember-password-for-an-ajax-form)
*   [如何让浏览器提示保存密码？](https://stackoverflow.com/questions/2382329/how-can-i-get-browser-to-prompt-to-save-password)
*   [为什么此表单不会提示浏览器提供保存密码？](https://stackoverflow.com/questions/9294657/why-wont-this-form-prompt-the-browser-to-offer-to-save-password)

PPS：似乎提交到 iframe 不再适用于现代浏览器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T17:59:34.033

为此，您需要一个格式良好的 HTML 表单元素，包括方法和操作，以及一个`submit`按钮，如下所示：

```
<form method="post" action="login.xxx" onsubmit="return validate();">
  <input type="text" id="username" />
  <input type="password" id="password" />

  <input type="submit" value="Send" />
</form> 
```

之后，将所有内容处理到`validate`javascript 方法中，阻止您的表单发布（无论如何这将在非 javascript 环境中工作）并改用 ajax：

```
function validate() {
  // Ajax request using gathered form data, followed by a redirect to the logged-in page

  return false; // To prevent form submission
} 
```

这样，您的登录信息应该被保存。对于“确认表单提交”消息，它不会出现，因为如果登录信息正常，您将执行 javascript 重定向。

# ruby-on-rails - 轨道条件一条线

> ID：12436837
> 
> 赞同：0
> 
> 时间：2012-09-15T11:05:56.250
> 
> 标签：ruby-on-rails, ruby-on-rails-3, if-statement

我想将此 else if 语句合并到 1 行我下面的代码显示部分但仅当当前 URL 不是 elsif 语句中列出的 3 个之一

```
<% if request.path == landing_path then %>
<% elsif request.path == new_company_path then %>
<% elsif request.path == edit_user_path(current_user.id) then %>
<% else %>
<%= render 'dashboard/user_controls'%>
<% end %> 
```

我正在努力

```
<% if request.path != (landing_path || new_company_path || edit_user_path(current_user.id)   ) then %>
  <%= render 'dashboard/user_controls'%>
<% end %> 
```

我究竟做错了什么？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T12:43:11.537

这将起作用：

```
<%= render 'dashboard/user_controls' if [landing_path, new_company_path, edit_user_path(current_user)].all? {|path| request.path != path }   )%> 
```

但是您宁愿将其抽象为助手。

# asp.net-mvc - 用于 ASP.NET MVC 的 Windows Azure 存储模拟器连接字符串？

> ID：12436844
> 
> 赞同：6
> 
> 时间：2012-09-15T11:06:42.117
> 
> 标签：asp.net-mvc, azure, azure-storage, azure-blob-storage

我正在搜索需要定义以使用 Windows azure 存储模拟器的连接字符串。

到目前为止，我发现的所有来源都说这些连接字符串应该转到位于 Windows Azure 项目中的文件`ServiceDefinition`。`ServiceConfiguration`但是，我使用的不是 Azure 项目，而是 ASP.NET MVC 3。

对于 ASP.NET MVC 项目，它可能应该进入`web.config`文件。但是，我不知道它应该是什么样子？

如果模拟器需要，我有 Azure 帐户。

谢谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-15T11:30:54.847

正如这篇[文章](http://blog.syntaxc4.net/post/2009/12/23/working-with-windows-azure-development-storage.aspx)所说，连接字符串是`DevelopmentStorage=true`

所以在 Web.config 你可以使用：

```
 <appSettings>
    <add key="StorageConnectionString" value="UseDevelopmentStorage=true" />
 </appSettings> 
```

在 ServiceConfiguration.cscfg 中：

```
 <Setting name="StorageConnectionString" value="UseDevelopmentStorage=true" /> 
```

您可以使用 CloudConfigurationManager 它将从服务配置设置中获取配置（如果存在）。像这样使用它：

```
CloudStorageAccount storageAccount = CloudStorageAccount.Parse(
    CloudConfigurationManager.GetSetting("StorageConnectionString")); 
```

如果它在 ServiceConfiguration 中不存在，它将回退到 web.config 的应用程序设置。这样，如果您希望将应用程序移动到 Azure，则无需更改检索连接字符串的方式。我倾向于将它全部隐藏在 ISettingsProvider 接口中（所以我不依赖任何东西），但这可能是矫枉过正。

将连接放入 ServiceConfiguration 的主要好处是您可以更改设置而无需重新部署应用程序。

如果您选择使用 web.config，那么您可以使用转换在发布时将 developmentstorage 帐户换成真实帐户。如果您使用 Azure，只需在云服务配置中使用不同的连接字符串。

不需要实际的 Azure 帐户来运行模拟器。

# java - Src 文件夹中的图标

> ID：12436851
> 
> 赞同：0
> 
> 时间：2012-09-15T11:07:19.573
> 
> 标签：java, icons, jlabel, src

我正在尝试使用我的 src 文件夹中的图像为 jLabel 创建一个图标。我不确定创建此图标时将使用的文件路径。

```
if (CoverImg.equals("")) {
   Icon noImage = new ImageIcon("/animedb/NoImage.jpg");
   CoverImageLabel.setIcon(noImage);
   CoverImageLabel.setHorizontalAlignment(SwingConstants.CENTER);
   } 
else {
   Icon icon = new ImageIcon(CoverImg);
   height = icon.getIconHeight();
   width = icon.getIconWidth();

   CoverImageLabel.setIcon(icon);
   CoverImageLabel.setHorizontalAlignment(SwingConstants.CENTER);
   } 
```

CoverImageLabel 是 jLabel

CoverImg 是一个字符串，其中包含从数据库获取的文件路径。如果没有可用的文件路径，我希望它显示`NoImage.jpg`在我的 src 文件夹中。我正在使用 Netbeans IDE，如果这完全相关的话。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-13T06:00:28.170

```
CoverImageLabel.setIcon(new ImageIcon(TYPE_YOUR_CLASS_NAME_HERE.class.getResource("/animedb/NoImage.jpg"))); 
```

如您所见，我将它们全部合并为一行，但您可以创建变量并将它们分成多行。祝你好运，如果有任何问题，请告诉我。

# java - 使用复合组件的 Jsf 验证无法正常工作

> ID：12436855
> 
> 赞同：2
> 
> 时间：2012-09-15T11:08:15.807
> 
> 标签：java, validation, jsf, composite-component

我的英语不好，很抱歉。我的问题是关于 jsf 验证。当我的验证 bean 抛出 ValidatorException 时，我的托管 bean save_method 工作。但我不希望我的 save_method 工作。如果电子邮件无效，我的 save_method 不应该工作。

复合接口

```
<composite:attribute name="validator" required="false"
        method-signature="void Action(javax.faces.context.FacesContext, javax.faces.component.UIComponent,Object)" /> 
```

像这样的复合实现

```
<c:if test="#{cc.getValueExpression('validator')!=null}">
<p:inputText value="#{cc.attrs.value}" id="#{cc.attrs.id}"
required="#{cc.attrs.required}" validator="#{cc.attrs.validator}"/> 
```

验证 bean 中的验证方法。

```
@Override
public void validate(FacesContext context, UIComponent component, Object value) throws    ValidatorException {
String email = (String) value;
Pattern mask = null;
mask = Pattern.compile(EMAIL_REGEX);
Matcher matcher = mask.matcher(email);

if (!matcher.matches()) {
    messageManager.warn(MessageManager.Bundles.WO, "validator.message.email");

   throw new ValidatorException(new FacesMessage("hoppala"));
}
} 
```

和我的托管 bean 保存方法。

```
 @Override
    public boolean save() {
       super.save();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T22:50:25.527

你在使用低于 2.1.10 版本的 mojarra 吗？最近修复了一个[错误](http://java.net/jira/browse/JAVASERVERFACES-1806)。因此，如果可以，请更新到最新的 2.1.13。但无论如何，在 JSF 中，您不会按照您描述的方式进行操作。我建议使用 来应用验证器`<f:validator/>`，如下所示：

```
<mytags:customInput value="#{validationModel.value}">
   <f:validator for="input" validatorId="org.validationexample.EmailValidator" />
</mytags:customInput> 
```

你的复合组件必须实现`<cc:editableValueHolder>`：

```
<cc:interface>
    <cc:attribute name="value"/>
    <cc:editableValueHolder name="input" targets="inputText"/>
</cc:interface>

<cc:implementation>
    <p:inputText id="inputText" value="#{cc.attrs.value}" />
</cc:implementation> 
```

最后，您的验证由专用的验证器类处理：

```
@FacesValidator("org.validationexample.EmailValidator")
public class EmailValidator implements Validator {

    @Override
    public void validate(FacesContext context, UIComponent component, Object value) throws ValidatorException {
        // your validation here
    }

} 
```

无论如何，还有其他方法/口味。你也`<f:validator>`可以直接放置到你的复合组件里面`<p:inputText>`。由于`<f:validator>`有一个`disabled`属性，您可以按需禁用它。另一种方法是使用 Bean Validation 并采用[Hibernate Validator](http://docs.jboss.org/hibernate/validator/4.3/reference/en-US/html_single/)附带的现有 EmailValidator 。在这种情况下，您只需在属性上方设置注释 @Email。

# mysql - 案例表达与案例陈述

> ID：12436859
> 
> 赞同：44
> 
> 时间：2012-09-15T11:08:31.830
> 
> 标签：mysql, case

MySQL中的[Case Expression](http://dev.mysql.com/doc/refman/5.0/en/control-flow-functions.html#operator_case)和[Case Statement](http://dev.mysql.com/doc/refman/5.0/en/case.html)有什么区别？什么时候可以使用它们，使用其中一个有什么好处？

案例语句语法：

```
CASE
  WHEN search_condition THEN statement_list
  [WHEN search_condition THEN statement_list] ...
  [ELSE statement_list]
END CASE 
```

案例表达式语法：

```
CASE 
  WHEN [condition] THEN result 
  [WHEN [condition] THEN result ...] 
  [ELSE result] 
END 
```

这些看起来几乎相同，但案例陈述的初始描述是`The CASE statement for stored programs implements a complex conditional construct.`

那么在存储程序中使用而在普通查询中不可用的显着区别是什么？我在我正在玩的一个查询上尝试了这个，但它失败了 - [sqlfiddle](http://sqlfiddle.com/#!2/9a1cb/8)。如果是这种情况，为什么不在存储程序中使用 Case Expression 呢？

是否有任何其他语法差异需要注意，因为它们似乎相同？

* * *

## 回答 #1

> 赞同：67
> 
> 时间：2012-09-15T11:15:51.763

表达式计算`CASE`为一个值，即，它用于根据某些条件计算一组结果中的一个。
例子：

```
SELECT CASE
    WHEN type = 1 THEN 'foo'
    WHEN type = 2 THEN 'bar'
    ELSE 'baz'
END AS name_for_numeric_type
FROM sometable` 
```

该`CASE`语句根据某些条件执行一组语句中的一个。
例子：

```
CASE
    WHEN action = 'update' THEN
        UPDATE sometable SET column = value WHERE condition;
    WHEN action = 'create' THEN
        INSERT INTO sometable (column) VALUES (value);
END CASE 
```

您会看到它们的相似之处，但语句*不会*计算为值并且可以单独使用，而表达式需要是表达式的一部分，例如查询或赋值。您不能在查询中使用语句，因为查询不能包含语句，只有需要评估某事的表达式（查询本身在某种程度上是一个语句），例如`SELECT CASE WHEN condition THEN UPDATE table SET something; END CASE`没有意义。

# php - 使用用户信息检测横幅上的多次点击

> ID：12436860
> 
> 赞同：0
> 
> 时间：2012-09-15T11:08:34.113
> 
> 标签：php, click, banner-ads

我正在与我的小公司一起准备一个关于**Exchange 公告的新 PHP 项目**

用户可以从控制面板添加横幅，也可以复制代码并将其放在页面正文中**就像 Google Adsense 一样**，如果访问者点击用户 1 横幅，则用户获胜点数和横幅折扣点的所有者

***一切都好:)***

我的问题是关于如何检测同一访问者是否点击横幅（作弊和赢得积分），现在我们使用 IP 来检测相同的点击，但我知道这不是检测的好方法

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T11:16:53.900

您也可以将您的 IP 方法与在用户浏览器中为该横幅保存 cookie 相结合。所以下次你看到 cookie 并知道用户已经点击了这个横幅。

IP方法也为了获得更好的结果，结合时间，允许来自同一IP的多次点击，但不允许在很短的时间内来自同一IP的多次点击。

因此，您阻止所有设置了 cookie 的人以及所有最后保存点击的 IP，比如 5 分钟......

# html - 我们可以使用表格来设计表格吗？

> ID：12436863
> 
> 赞同：2
> 
> 时间：2012-09-15T11:09:42.983
> 
> 标签：html, css

在设计表单时，我发现使用表格设计表单比使用 CSS 更容易和简单。

但是，这是一个好用的技术吗？

以后会不会影响网站的灵活性？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-15T11:13:51.810

HTML 是关于结构的，CSS 是关于设计的。因此，如果您的表单在语义上是一个表格，因为您有键/值对，如“姓名”、“姓氏”、“电子邮件”等以及用户输入的值，只需使用表格作为结构并使用 CSS 进行设计.

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-15T11:12:10.830

我没有看到使用带有表格的表格有任何问题。不过，使用表格来设计网站是个坏主意。

如果您以正确的方式构建表格，我不明白为什么它会使站点不灵活。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-15T12:25:10.513

想想你的客户。他们是否可能想要在开发期间或之后一遍又一遍地“调整”您的设计？

`<div>`如果是这样，则使用s 或选择无表路由`<ul><li>`。一开始要做到正确可能有点困难，但是——可以说——更容易适应。

# java - 代码前的 Java 延迟

> ID：12436864
> 
> 赞同：-1
> 
> 时间：2012-09-15T11:10:16.040
> 
> 标签：java, multithreading

我正在尝试为我的循环添加延迟。它不能是 thread.sleep() 因为它会使整个线程休眠。我正在尝试使用`System.currentTimeMillis()`. 我知道这不是 100% 精确的，这很好。

```
long lastTime = System.currentTimeMillis() - 200;
boolean goAhead = false;

if (System.currentTimeMillis() - lastTime > 201) { 
    goAhead = true; 
}

if (goAhead) {
    //Do something
    //atm this never happens. 
    lastTime = System.currentTimeMillis();
} 
```

有人能帮忙吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T11:13:22.727

为什么“睡眠整个线程”是一个问题？无论如何，如果您想忙于等待，请`while`循环执行。`if`是一枪。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T11:12:47.520

这就是我想象的问题可能是：

问：我在 GUI 事件线程上有一个回调，它必须每 250 毫秒在同一线程上触发一次操作。我不能在这段时间内阻止 GUI 线程，因为它冻结了 GUI。我能做些什么？

A：使用执行器在 GUI 事件线程上定期触发任务。

```
Executors.newSingleThreadScheduledExecutor().scheduleAtFixedRate(new Runnable() {
    @Override
    public void run() {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                // task to be perform periodically in the GUI Event Thread.
            }
        });
    }
}, 250, 250, TimeUnit.MILLISECONDS); 
```

执行任务的 GUI 线程，但执行等待的后台线程。

* * *

我会写一些更像

```
long time = 0;
while(condition) {
   long now = System.nanoTime();
   if (now >= time + 200e6) {
      // do something
      time = now;
   }
   // do something else
} 
```

在不知道程序的具体要求的情况下，可以将代码读取为。

```
long time = 0; // a local variable or field as appropriate

// you have a loop around all code of interest at some level
// You could have a GUI event loop which you don't define but it is there.

// at some point your checking code is called.
   long now = System.nanoTime();
   if (now >= time + 200e6) {
      // do something
      time = now;
   } 
```

这不会等待，因为您不想阻止任何事情。相反，它可以防止代码块的调用间隔小于 200 毫秒。

* * *

```
int i = 0, count = 0;
long start = System.nanoTime();

long time = 0;
while (count < 20) {
    long now = System.nanoTime();
    if (now >= time + 200e6) {
        // do something e.g.
        count++;

        time = now;
    }
    // do something else
}
long runTime = System.nanoTime() - start;
System.out.printf("Performed something at %.3f per second%n", (count - 1) * 1e9 / runTime); 
```

印刷

```
Performed something at 5.000 per second 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-15T11:13:32.133

它不起作用的原因是

```
if (System.currentTimeMillis() -lastTime > 201) { goAhead= true; } 
```

执行一次，就是这样，你需要把它放到一个循环中，例如

```
while (System.currentTimeMillis() -lastTime < 201) {
// wait
} 
```

但是它会给你大约。100% 的 CPU 使用率毫无意义，我相信这是一个糟糕的设计

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T11:28:02.073

到目前为止，最好的等待方式是使用`Thread.sleep()`（或`Object.wait()`超时）；它阻塞了线程，但它以可预测的方式这样做。如果您绝对必须在等待时做一些事情，请将睡眠*或*其他工作放在单独的线程中，并使用线程间协调原语来同步事情。

```
final Thread mainthread = Thread.currentThread();
Thread t = new Thread() {
    public void run() {
        try {
            Thread.sleep(200);
        } catch (InterruptedException e) {}
        mainthread.interrupt();
    }
}.start();

while (!Thread.interrupted()) {
    // Do your other work here...
} 
```

Java中的线程（相对）便宜。使用它们。

# mysql - SQL元表帮助（mysql）

> ID：12436865
> 
> 赞同：1
> 
> 时间：2012-09-15T11:10:30.297
> 
> 标签：mysql, sql

我有 3 个表（“新闻”、“类别”和作为连接表“元”）。我只是想过滤包含`category_id`作为过滤参数提供的新闻。我尝试了下面的查询（和类似的），但它返回了新闻表中的所有新闻。

那么如何过滤这些新闻`meta_id (category_id)`呢？

非常感谢！

```
//类别表
类别 ID | 分类名称
--------------------------
55 | 运动
56 | 政治

// 元表
元ID | 元类型 | rel_id | rel_type
--------------------------------------
55 | 类别 | 78345 | 消息
56 | 类别 | 91278 | 消息

笔记：
rel_id (in meta table) = id (in news table) // 在这种情况下我不需要它
meta_id（在元表中）= category_id（在类别表中）

```

SQL：

```
SELECT n.*
FROM `news` n
LEFT JOIN `metas` m ON m.meta_type='category'
    WHERE m.meta_id=55 AND n.status=1
GROUP BY n.id
ORDER BY n.id DESC
LIMIT 0,10 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:56:49.167

最重要的是链接`metas`到`news`. 如果我正确阅读了您的问题，则链接字段为`m.rel_id = n.id`. 以下示例查询应过滤类别 55：

```
select  *
from    metas m
join    news n
on      m.rel_id = n.id
where   m.meta_type = 'category'
        and m.meta_id = 55
        and n.status = 1
order by
        n.id desc
limit   0, 10 
```

注意不知道为什么你`group by`的查询中有一个。当然不需要过滤类别！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T11:12:42.950

您必须在`ON`子句中添加条件。

```
选择 n.*
FROM `新闻` n
LEFT JOIN `metas` m ON m.meta_type='category' AND m.meta_id = n.category_id
    其中 m.meta_id=55 AND n.status=1
按 n.id 分组
按 n.id DESC 排序
限制 0,10

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T11:28:43.420

```
SELECT n.*
FROM `news` n
LEFT outer JOIN `metas` m ON m.meta_id = n.category_id
    WHERE m.meta_id=55 AND n.status=1 and m.meta_type='category'
GROUP BY n.id
ORDER BY n.id DESC
LIMIT 0,10 
```

# iphone - 我应该在 viewDidUnload 中将哪些属性设置为 nil？

> ID：12436866
> 
> 赞同：3
> 
> 时间：2012-09-15T11:10:31.500
> 
> 标签：iphone, ios, xcode, cocoa-touch, didreceivememorywarning

我不知道我是否正确使用了 viewDidUnload。我应该释放我在 .h 文件中声明的所有内容吗？

这是我现在的做法：

```
@property (strong, nonatomic) Readability *wrapper;
@property (strong, nonatomic) ArticleModel *article;
@property (strong, nonatomic) Woho *wohoItem;
@property (strong, nonatomic) FeedItem *item;
@property (unsafe_unretained, nonatomic) IBOutlet UIScrollView *scrollView;
@property (strong, nonatomic) NSMutableArray *picturesArray;
@property (unsafe_unretained, nonatomic) IBOutlet UILabel *headTitleLabel; 
```

在 viewDidUnload 中：

```
- (void)viewDidUnload
{
    [self setHeadTitleLabel:nil];
    [self setScrollView:nil];
    self.picturesArray = nil;
    self.item = nil;
    self.article = nil;
    self.wohoItem = nil;
    self.wrapper = nil;
} 
```

这是正确的做法吗？

可能不会，因为我的应用程序在每次内存警告时都会崩溃。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T11:12:47.193

当发生内存不足警告时，如果`UIViewController`该类知道以后可以重新加载或重新创建它们，则会清除其视图。如果发生这种情况，它还会调用`viewWillUnload`和`viewDidUnload`方法，让您的代码有机会放弃与视图层次结构关联的任何对象的所有权，包括**从 nib 文件加载的对象、在 viewDidLoad 方法中创建的对象以及在运行时并添加到视图层次结构中。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T12:21:59.940

developer.apple 说：

> 当视图控制器收到内存警告 (didReceiveMemoryWarning) 时，它应该放弃当前不需要的资源的所有权，如果需要可以在以后重新创建这些资源。一种这样的资源是视图控制器的视图本身。如果它没有超级视图，则处理视图（在它的 didReceiveMemoryWarning 实现中，UIViewController 调用 [self setView:nil]）

编程指南在[这里](https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/LoadingResources/CocoaNibs/CocoaNibs.html#//apple_ref/doc/uid/10000051i-CH4-SW6)

在 (void)viewDidUnload 中将所有 IBOutlets 设置为 nil。如果您使用的是 iOS 5，最好使用 IBOutlets 的“弱”参考。

我建议您将每个 iterface 元素从 NIB(xib) 或 Storyboard 中按 Control-Drag 拖到您的界面代码中。它将为您生成所有字段。

# javascript - 如何将文本输入添加到三星智能电视应用程序？

> ID：12436871
> 
> 赞同：5
> 
> 时间：2012-09-15T11:11:08.297
> 
> 标签：javascript, television, samsung-smart-tv

我正在尝试将文本框添加到三星智能电视的应用程序中。我正在遵循三星的[开发指南](http://www.samsungdforum.com/upload_files/files/guide/data/html/html_3/javascript/input_control/tut_js_ime_intro.html)，但以下失败，因为`IMEShell`未定义。

```
new IMEShell(this._INPUT_ID, this._imeReady.bind(this), "en"); 
```

我在 index.html 文件中有以下内容：

```
<script type="text/javascript" src="$MANAGER_WIDGET/Common/API/TVKeyValue.js"></script>
<script type="text/javascript" src="$MANAGER_WIDGET/Common/API/Widget.js"></script> 
```

我需要包含哪些脚本文件才能访问`IMEShell`？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-15T13:00:38.563

好的，事实证明，根据您使用的项目类型，在智能电视应用程序中有两种使用输入的方法。如果你正在创建一个[AppFramework](http://www.samsungdforum.com/upload_files/files/guide/data/html/html_3/apps_framework/appsframework_cover.html)项目，你需要`ime`在项目根目录的 app.json 中作为一个模块列出：

```
{
    "theme" : "base",
    "languages" : ["en"],
    "resolutions": ["540p", "720p", "1080p"],
    "modules" : ["ime"]
} 
```

然后您需要在项目的 index.html 中包含 AppFramework 脚本：

```
<script type="text/javascript" src="$MANAGER_WIDGET/Common/af/2.0.0/loader.js"></script> 
```

或者，您可以创建一个不使用 AppFramewrok 代码且不需要将项目拆分为“场景”的[javascript 项目。](http://www.samsungdforum.com/upload_files/files/guide/data/html/html_3/getting_started/coding_js.html)在这种情况下，需要包含大量脚本：

```
 <!-- Common API -->
  <!--  Taken from http://www.samsungdforum.com/SamsungDForum/ForumView/df3455b529adf7c4?forumID=8c1afcc0709c2097 -->
  <script type="text/javascript" src="$MANAGER_WIDGET/Common/OpenSrc/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="$MANAGER_WIDGET/Common/API/Widget.js"></script>
  <script type="text/javascript" src="$MANAGER_WIDGET/Common/API/Plugin.js"></script>
  <script type="text/javascript" src="$MANAGER_WIDGET/Common/API/TVKeyValue.js"></script>
  <script type="text/javascript" src="$MANAGER_WIDGET/Common/Util/Include.js"></script>
  <script type="text/javascript" src="$MANAGER_WIDGET/Common/Util/Language.js"></script>
  <script type="text/javascript" src="$MANAGER_WIDGET/Common/Plugin/Define.js"></script>
  <script type="text/javascript" src="$MANAGER_WIDGET/Common/IME/ime2.js"></script> 
```

这将创建一个数字键盘；要创建 QWERTY 键盘，请在 body 标记中添加以下脚本。

```
 <script type="text/javascript" src="$MANAGER_WIDGET/Common/IME_XT9/ime.js"></script> 
```

[三星论坛](http://www.samsungdforum.com/SamsungDForum/ForumView/df3455b529adf7c4?forumID=8c1afcc0709c2097)上有一个例子。

一旦这些方法之一包含了脚本，其余的[输入控件文档](http://www.samsungdforum.com/upload_files/files/guide/data/html/html_3/javascript/input_control/tut_js_ime_intro.html)就可以工作了。

# java - 如何在字符串中插入颜色标签？（爪哇）

> ID：12436875
> 
> 赞同：1
> 
> 时间：2012-09-15T11:12:11.827
> 
> 标签：java

如果字符串是`Java is Great!`那么我怎样才能使它像这样：

```
<font color="red">Java</font> <font color="blue">is</font> <font color="yellow">Great!</font> 
```

每个颜色的值应该不同。

同样，我怎样才能为所有单词做到这一点，例如

```
<font color="color1">J</font>
<font color="color2">a</font>
<font color="color3">v</font>
<font color="color4">a</font>
<font color="color5"> </font>
<font color="color6">i</font>
<font color="color6">s</font>
<font color="color7"> </font>
<font color="color8">G</font>
<font color="color9">r</font>
<font color="color10">e</font>
<font color="color11">a</font>
<font color="color12">t</font>
<font color="color13">!</font> 
```

使用不同的字符串方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-12-08T18:09:55.053

很简单，试试这个代码：

```
private final static String RED_COLOR_OPEN = "<font color=\"red\">";
private final static String RED_COLOR_CLOSE = "</font>"; 
```

并在您的方法中：

```
StringBuffer sb = new StringBuffer();
    sb.append(RED_COLOR_OPEN).append(BOLD_OPEN).append(title).append(BOLD_CLOSE).append(".").append(RED_COLOR_CLOSE).trimToSize();
    sb.append(BREAK); 
```

这将调整颜色以完成您的其余信息

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T11:31:25.573

为此，您需要一次访问字符串中的每个字符。您可以通过创建一个简单的循环来做到这一点，例如：

```
 for(Character c: myString.toCharArray()){

    } 
```

由于您正在操作字符串，因此建议在此处使用 StringBuilder。在循环之前，您可以像这样创建一个：

```
 StringBuilder sb = new StringBuilder(); 
```

要在循环中的字符周围添加标签，您可以这样做：

```
 sb.append("<font color=\"color1\">");
  sb.append(c);
  sb.append("</font>"); 
```

循环之后，您将获得如下所示的新字符串：

```
 String result = sb.toString(); 
```

你可以随心所欲。要获得不同的颜色，您必须决定如何保留这些颜色，例如在数组中，并访问它们以适当地构建字符串。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T11:46:24.083

就这样吧。本质上，它使用三个字符串函数—— [split()](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#split%28java.lang.String%29)、[charAt()](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#charAt%28int%29) 和[format()](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29)来操作字符串。

```
String[] colors = {"red","blue","yellow"};
//Store the message in string
String msg = "java is great";
//Split the msg into words using String#split() method. 
//Use a regex \s+ to split the Message using space as delimiter
String[] message = msg.split("\\s+");
//Now each word in msg is available in message array.
//Iterate over each word to generate the required output format
StringBuilder s = new StringBuilder();
for(int i=0;i<message.length;i++)
{
//use the String#format() method to get the required format for String 
      s.append(String.format("<font color=\"%s\">%s</font>",
                              colors[i],message[i]);
}
String output = s.toString(); 
```

也适用于第二种解决方案。没有包括颜色数组长度检查。确保您有足够的颜色。

```
String[] colors = {"red","blue","yellow"};
String msg = "java is great";
StringBuilder s = new StringBuilder();
for(int i=0;i<msg.length();i++)
{
      s.append(String.format("<font color=\"%s\">%s</font>",colors[i],msg.charAt[i]);
}
String output = s.toString(); 
```

更新：添加说明

# facebook - 使用 Spring security 和 Spring social Facebook 实现混合身份验证

> ID：12436885
> 
> 赞同：0
> 
> 时间：2012-09-15T11:13:33.303
> 
> 标签：facebook, spring-security, spring-social

我对 Spring security 和 Spring social 比较陌生。我正在尝试使用标准 Spring Security 或 Spring social Facebook 实现混合身份验证。

因此，用户可以进行身份​​验证：

*   使用标准 Spring 安全登录表单，如下所示：

我的 Thymeleaf 模板中的片段：

```
<form name="f" th:action="@{/resources/j_spring_security_check}" method="POST">
        <input id="j_username" type='text' name='j_username'/><br /> 
        <input id="j_password" type='password' name='j_password'/><br /> 
        <input id="proceed" type="submit" value="login" />
</form> 
```

这可以正常工作，就像用户向受保护资源发送请求一样，例如`www.example.com/memberArea/editMyProfile`受以下拦截 URL 保护：

```
<intercept-url pattern="/memberArea/**" access="hasRole('ROLE_USER')" /> 
```

用户被重定向到登录表单，成功登录后，用户最终被重定向到受保护的资源，即`www.example.com/memberArea/editMyProfile`

*   或者用户可以选择 Spring Social Facebook 并使用如下链接进行身份验证/登录：

我的 Thymeleaf 模板中的片段：

```
<a th:href="@{'https://www.facebook.com/dialog/oauth/?client_id=414113641982512&amp;redirect_uri=http://www.example.com/&amp;state=UNIQUE&amp;scope=read_stream'}">Login with facebook</a> 
```

在这种情况下，用户当然会被重定向到`www.example.com`而不是`www.example.com/memberArea/editMyProfile`

那么我的问题是，我如何——仍然使用 Spring security 和 Spring Social Facebook——以某种方式检索请求的 URL（此处`www.example.com/memberArea/editMyProfile`）并最终将用户重定向到该 URL？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T21:15:48.717

您能帮我理解您尝试做的事情与 Spring Social 的 ProviderSignInController 的工作方式有何不同吗？具体来说，如果您查看 Spring Social Showcase (https://github.com/SpringSource/spring-social-samples/tree/master/spring-social-showcase) 或 Spring Social Quickstart (https://github.com /SpringSource/spring-social-samples/tree/master/spring-social-quickstart) 示例，它们都使用 ProviderSignInController 通过 Facebook 对用户进行身份验证。

在展示示例中，通过将用户的 FB 信息与先前建立的连接进行比较来完成身份验证。在快速入门示例中，它是通过“隐式身份验证”完成的，其中没有特定于应用程序的身份验证，而是 Facebook 授权足以用于应用程序身份验证。据我了解，您正在尝试做与展示相同的风格，但我可能会误解您正在尝试做的事情。

顺便说一句，请随时在 StackOverflow 继续讨论，但我鼓励您在 Spring Social 论坛 (http://forum.springsource.org/forumdisplay.php?82-Social) 上提出您的 Spring Social 问题，因为我监控那个论坛几乎每天都有，但每周左右只访问一次（如果经常访问的话）。

# ios - 如何在 iPhone 中跟踪应用程序崩溃？

> ID：12436890
> 
> 赞同：-1
> 
> 时间：2012-09-15T11:14:20.700
> 
> 标签：ios

在 iphone 应用程序开发一些应用程序崩溃时，在日志中它没有显示正确的消息。所以我的问题是，如何在 Xcode 中跟踪正确的应用程序崩溃原因？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:33:07.733

由于您没有提供任何特定崩溃的详细信息，因此我只能告诉您查找常见错误的一般技术：

1) 为 Objective-C 异常打开断点。

2) 使用@try/@catch。

3）打开僵尸（以防它与内存有关）。

4) 在调试器中单步执行程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T11:36:54.880

尝试将 Zombie 对象添加到您当前的项目中。选择 Product -> Edit Schema -> Diagnostics 然后标记 Enable Zombie object 确保您离开的选项卡选择是 [Run "app name"] 这使您可以简单地跟踪您的异常。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T15:48:44.050

启用僵尸和`Add Exception Breakpoint`.

[一个简单的教程](http://iphone2020.wordpress.com/2012/02/23/capturing-exceptions-while-debugging/) ，[这是 iOS 教程团队成员的特别帖子](http://www.raywenderlich.com/10209/my-app-crashed-now-what-part-1)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-16T13:02:31.873

您可以分析或分析您的项目。通过使用 Instrument，您可以找到应用崩溃的原因。

# c++ - Windows 上的堆栈 - 它在哪里？

> ID：12436891
> 
> 赞同：4
> 
> 时间：2012-09-15T11:14:22.277
> 
> 标签：c++, c, windows, stack, kernel

我对exe堆栈的位置有点困惑。我知道程序运行之前的CRT通过分配一定数量的堆来初始化堆（这又是由分配页面的操作系统分配的），但是在哪里堆？也是在页面上吗？还是通过在 GDT 上使用 ring3 描述符在用户模式 ​​(ring3) 中的所有程序共享它（我认为不是，但我不确定）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-15T12:16:11.857

Windows 将为每个线程保留一个连续的虚拟内存区域（默认为 1MB）。然后它提交该内存区域的几个最顶层页面，并将其下方的一对标记为保护页面。随着线程的堆栈向下增长，如果访问保护页面，则会发生异常，Windows 提交保护页面并将其下方的页面标记为保护。

[您可以使用出色的SysInternals](http://technet.microsoft.com/en-US/sysinternals)实用程序[VMMap](http://technet.microsoft.com/en-us/sysinternals/dd535533)来探索此行为。以下是该工具的一个片段：

![在此处输入图像描述](../Images/93735c4a96ec4c45f0724cdbc885ba43.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-15T11:20:25.627

每个线程都有自己的堆栈。它只是为此目的分配的一块内存。

所有内存都在页面中分配，包括堆栈（在 Windows 上，我相信堆栈默认为 1MB，因此它会跨越多个页面，因为大多数内存页面都是 4KB。）

但它实际上只是堆栈指针寄存器指向的一块内存。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-15T11:29:59.643

Windows 中的每个程序都是一个进程。进程通常不会在彼此之间共享它们的记忆。

共享与不共享是每个进程的虚拟地址空间如何映射到物理内存的问题。

如果两个进程将其地址空间的一部分映射到物理内存的相同页面上，则该内存由它们有效地共享，并且每个进程都可以读取并可能写入它并观察另一个进程的写入。

共享堆栈内存几乎没有意义，因此每个进程都有自己的堆栈。实际上，进程更像是容器。执行代码和使用堆栈的实体是线程。每个进程中至少有一个线程。线程有自己的栈，但由于一个进程的线程在同一个虚拟地址空间中，它们可以访问彼此的栈。有时在线程之间共享堆栈数据很有用，但应该小心执行，以免破坏线程状态并导致挂起或崩溃。

# ruby - 错误：无法请求证书：堆栈级别太深

> ID：12436894
> 
> 赞同：2
> 
> 时间：2012-09-15T11:14:42.567
> 
> 标签：ruby, puppet

*   ruby 1.8.7 (2011-06-30 补丁级别 352) [x86_64-linux]
*   puppet-2.7.19-1.el5

启动 puppet 代理时遇到以下错误：

**`puppet agent --server=puppetmaster.domain.com --no-daemonize --verbose --debug`**

```
debug: Failed to load library 'selinux' for feature 'selinux'
debug: Puppet::Type::User::ProviderDirectoryservice: file /usr/bin/dscl does not exist
debug: Puppet::Type::User::ProviderUser_role_add: file roledel does not exist
debug: Puppet::Type::User::ProviderPw: file pw does not exist
debug: Failed to load library 'ldap' for feature 'ldap'
debug: Puppet::Type::User::ProviderLdap: feature ldap is missing
debug: /File[/etc/puppet/ssl/private_keys]: Autorequiring File[/etc/puppet/ssl]
debug: /File[/var/lib/puppet/ssl/private_keys/tomcat_5.149.pem]: Autorequiring File[/var/lib/puppet]
debug: /File[/var/lib/puppet/state]: Autorequiring File[/var/lib/puppet]
debug: /File[/etc/puppet/ssl/certs/ca.pem]: Autorequiring File[/etc/puppet/ssl/certs]
debug: /File[/etc/puppet/puppet.conf]: Autorequiring File[/etc/puppet]
debug: /File[/etc/puppet/ssl]: Autorequiring File[/etc/puppet]
debug: /File[/var/lib/puppet/facts]: Autorequiring File[/var/lib/puppet]
debug: /File[/etc/puppet/ssl/private]: Autorequiring File[/etc/puppet/ssl]
debug: /File[/var/lib/puppet/clientbucket]: Autorequiring File[/var/lib/puppet]
debug: /File[/var/lib/puppet/run]: Autorequiring File[/var/lib/puppet]
debug: /File[/var/lib/puppet/state/graphs]: Autorequiring File[/var/lib/puppet/state]
debug: /File[/etc/puppet/ssl/certs]: Autorequiring File[/etc/puppet/ssl]
debug: /File[/var/lib/puppet/client_yaml]: Autorequiring File[/var/lib/puppet]
debug: /File[/etc/puppet/ssl/certificate_requests]: Autorequiring File[/etc/puppet/ssl]
debug: /File[/var/lib/puppet/client_data]: Autorequiring File[/var/lib/puppet]
debug: /File[/var/lib/puppet/log]: Autorequiring File[/var/lib/puppet]
debug: /File[/etc/puppet/ssl/public_keys/tomcat_5.149.pem]: Autorequiring File[/etc/puppet/ssl/public_keys]
debug: /File[/var/lib/puppet/run/agent.pid]: Autorequiring File[/var/lib/puppet/run]
debug: /File[/var/lib/puppet/lib]: Autorequiring File[/var/lib/puppet]
debug: /File[/etc/puppet/ssl/public_keys]: Autorequiring File[/etc/puppet/ssl]
debug: /File[/var/lib/puppet/ssl/certs/tomcat_5.149.pem]: Autorequiring File[/var/lib/puppet]
debug: /File[/etc/puppet/ssl/public_keys/tomcat_5.149.pem]/mode: mode changed '0640' to '0644'
debug: Finishing transaction 23622871341440
debug: /File[/etc/puppet/ssl/public_keys]: Autorequiring File[/etc/puppet/ssl]
debug: /File[/etc/puppet/ssl/certs/ca.pem]: Autorequiring File[/etc/puppet/ssl/certs]
debug: /File[/var/lib/puppet/ssl/certs/tomcat_5.149.pem]: Autorequiring File[/var/lib/puppet]
debug: /File[/etc/puppet/ssl]: Autorequiring File[/etc/puppet]
debug: /File[/var/lib/puppet/ssl/private_keys/tomcat_5.149.pem]: Autorequiring File[/var/lib/puppet]
debug: /File[/etc/puppet/ssl/private]: Autorequiring File[/etc/puppet/ssl]
debug: /File[/var/lib/puppet/lib]: Autorequiring File[/var/lib/puppet]
debug: /File[/var/lib/puppet/run]: Autorequiring File[/var/lib/puppet]
debug: /File[/var/lib/puppet/log]: Autorequiring File[/var/lib/puppet]
debug: /File[/etc/puppet/ssl/certs]: Autorequiring File[/etc/puppet/ssl]
debug: /File[/etc/puppet/ssl/public_keys/tomcat_5.149.pem]: Autorequiring File[/etc/puppet/ssl/public_keys]
debug: /File[/var/lib/puppet/facts]: Autorequiring File[/var/lib/puppet]
debug: /File[/var/lib/puppet/state]: Autorequiring File[/var/lib/puppet]
debug: /File[/etc/puppet/ssl/certificate_requests]: Autorequiring File[/etc/puppet/ssl]
debug: /File[/etc/puppet/ssl/private_keys]: Autorequiring File[/etc/puppet/ssl]
debug: Finishing transaction 23622870227040
debug: Using cached certificate for ca
err: Could not request certificate: stack level too deep
debug: Using cached certificate for ca
debug: Using cached certificate for ca
/usr/lib/ruby/1.8/sync.rb:58:in `Fail': Thread(#<Thread:0x2af83efcd378 run>) not locked. (Sync_m::Err::UnknownLocker)
    from /usr/lib/ruby/1.8/sync.rb:64:in `Fail'
    from /usr/lib/ruby/1.8/sync.rb:184:in `sync_unlock'
    from /usr/lib/ruby/1.8/sync.rb:232:in `synchronize'
    from /usr/lib/ruby/site_ruby/1.8/puppet/util/settings.rb:650:in `uninterpolated_value'
    from /usr/lib/ruby/site_ruby/1.8/puppet/util/settings.rb:800:in `each_source'
    from /usr/lib/ruby/site_ruby/1.8/puppet/util/settings.rb:797:in `each'
    from /usr/lib/ruby/site_ruby/1.8/puppet/util/settings.rb:797:in `each_source'
    from /usr/lib/ruby/site_ruby/1.8/puppet/util/settings.rb:647:in `uninterpolated_value'
    from /usr/lib/ruby/site_ruby/1.8/puppet/util/settings.rb:646:in `catch'
    from /usr/lib/ruby/site_ruby/1.8/puppet/util/settings.rb:646:in `uninterpolated_value'
    from /usr/lib/ruby/site_ruby/1.8/puppet/util/settings.rb:682:in `value'
    from /usr/lib/ruby/site_ruby/1.8/puppet/util/settings.rb:21:in `[]'
    from /usr/lib/ruby/site_ruby/1.8/puppet.rb:65:in `[]'
    from /usr/lib/ruby/site_ruby/1.8/puppet/ssl/host.rb:297:in `wait_for_cert'
    from /usr/lib/ruby/site_ruby/1.8/puppet/application/agent.rb:407:in `setup_host'
    from /usr/lib/ruby/site_ruby/1.8/puppet/application/agent.rb:425:in `setup_agent'
    from /usr/lib/ruby/site_ruby/1.8/puppet/application/agent.rb:484:in `setup'
    from /usr/lib/ruby/site_ruby/1.8/puppet/application.rb:307:in `run'
    from /usr/lib/ruby/site_ruby/1.8/puppet/application.rb:416:in `hook'
    from /usr/lib/ruby/site_ruby/1.8/puppet/application.rb:307:in `run'
    from /usr/lib/ruby/site_ruby/1.8/puppet/application.rb:407:in `exit_on_fail'
    from /usr/lib/ruby/site_ruby/1.8/puppet/application.rb:307:in `run'
    from /usr/lib/ruby/site_ruby/1.8/puppet/util/command_line.rb:69:in `execute'
    from /usr/bin/puppet:4 
```

由于我不熟悉Ruby，您能帮我解决这个问题吗？

* * *

**更新**

当它在另一个具有相同版本的代理上工作时，类似的配置：

```
[agent]
    hostprivkey = /etc/puppet/ssl/private_keys/bk_6.142.pem
    certname = bk_6.142
    hostpubkey = /etc/puppet/ssl/public_keys/bk_6.142.pem
    hostcert = /etc/puppet/ssl/certs/bk_6.142.pem
    ca_name = Puppet CA: bk_6.142        
    server = puppetmaster.domain.com 
```

**`puppet agent --server=puppetmaster.domain.com --no-daemonize --verbose`**

```
notice: Starting Puppet client version 2.7.19
info: Caching catalog for bk_6.142
err: Failed to apply catalog: Could not find dependency Yumrepo[rpmforge] for Package[fsvs] at /etc/puppet/modules/utilities/manifests/install.pp:39 
```

谁能给我一些启示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-21T17:57:11.240

这对我来说看起来像是一个错误，因为 ruby​​ 抛出溢出错误“堆栈太深”并且也无法锁定自己的线程。（是）另一个代理运行相同版本的 ruby​​ 吗？

# python - 如何从系列创建 multiIndex 对象？

> ID：12436895
> 
> 赞同：0
> 
> 时间：2012-09-15T11:15:03.247
> 
> 标签：python, pandas

我有一个数据系列 'rpt_date' ：

```
>>> rpt_date
STK_ID
000002    [u'20060331', u'20060630']
000005    [u'20061231', u'20070331', u'20070630']
>>> type(rpt_date)
<class 'pandas.core.series.Series'>
>>> 
```

以及如何通过以下方式创建 multiIndex 对象（pandas.core.index.MultiIndex）：

```
'my_index = gen_index_by_series (rpt_date)' 
```

`'my_index'`好像 ：

```
>>> my_index
MultiIndex
[('000002', '20060331') ('000002', '20060630') ('000005', '20061231')
 ('000005', '20070331') ('000005', '20070630')]
>>> type(my_index)
<class 'pandas.core.index.MultiIndex'>
>>> 
```

那么怎么写`'gen_index_by_series(series)'`呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:27:02.343

要将第一个元素与另一个元素相关联，您可以使用`itertools.repeat`and `zip`，以这种方式：

```
>>> import itertools as it
>>> L = [['000002', [u'20060331', u'20060630']],
...      ['000005', [u'20061231', u'20070331', u'20070630']]]
>>> couples = [zip(it.repeat(key), rest) for key, rest in L]
>>> couples
[[('000002', u'20060331'), ('000002', u'20060630')],
[('000005', u'20061231'), ('000005', u'20070331'), ('000005', u'20070630')]] 
```

`L`从`Series`对象中获取列表应该不会太难。

要创建一个`MultiIndex`我相信您必须使用以下`from_tuples`方法：

```
MultiIndex.from_tuples(sum(couples, []), names=('first', 'second')) 
```

由于我不是 pandas 用户，因此我在剩余的任务中帮不上什么忙，尽管它们可能很容易。这是以正确的方式迭代系列的问题。

# ios - iOS 5.1 测试的应用程序在 iOS 4.0 上崩溃

> ID：12436897
> 
> 赞同：0
> 
> 时间：2012-09-15T11:15:14.693
> 
> 标签：ios, ios5, ios4

我在 iOS 5.1 上测试的应用在支持 ios 4 的 iPhone 上崩溃。可能的原因是什么？看来苹果现在已经停止支持旧版本了.. 引入的更改的详细列表在任何地方都没有明确提及.. 有什么建议或指示可以进一步调试吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T11:33:44.780

最可能的原因是您使用了该版本 iOS 上不可用的功能。您仍然需要考虑...只是因为编译的代码并不能保证它可以在所有版本的 iOS 上运行。但是，如果没有有关崩溃的任何信息，那几乎是任何人都可以做到的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T12:46:20.497

iOS 5 API 差异是一个很好的起点。这列出了 iOS 4 和 5 之间发生变化的所有内容。基本上，此列表中您在 iOS 5 应用程序中使用的任何显示“添加”的内容都不会在 iOS 4 上运行，就像任何显示“折旧”的内容一样iOS 4 但不是 5。这是链接：

[https://developer.apple.com/library/ios/#releasenotes/General/iOS50APIDiff/index.html](https://developer.apple.com/library/ios/#releasenotes/General/iOS50APIDiff/index.html)

如果您已经浏览过这个列表并且没有使用 iOS 5 中添加的任何框架，那么您可能遇到的问题不太明显。如果您发布崩溃日志，我可以更具体。

# php - 创建验证码，加号问题

> ID：12436898
> 
> 赞同：1
> 
> 时间：2012-09-15T11:15:20.057
> 
> 标签：php, captcha

我正在尝试创建一个验证码，其中包含一个非常容易计算的总和。但是当我尝试添加 + 时，它变成了一个空白框。

**问题 2 和 3**

Q2：帽子头的东西真的需要和有用吗？

Q3 : $font = dirName( **FILE** ).'/font/karate/Karate.ttf'; 有人可以解释一下*FILE*的作用吗？

这是我的代码：

```
<?php
    ob_start();
    session_start();

    $randomnr  = rand(1, 5);
    $randomnr2 = rand(1, 5);
    $plus = '+';
    $randanswer = $randomnr + $randomnr2;
    $_SESSION['randomnr2'] = md5($randanswer); 

    $im = imagecreatetruecolor(80, 20);

    $white = imagecolorallocate($im, 255, 255, 255);
    $grey  = imagecolorallocate($im, 150, 150, 150);
    $black = imagecolorallocate($im, 0, 0, 0);

    imagefilledrectangle($im, 0, 0, 80, 25, $black);

    $font = dirName(__FILE__).'/font/karate/Karate.ttf'; //wat is dit?

    imagettftext($im, 15 , 7, 15, 19, $grey, $font, $randomnr);
    imagettftext($im, 15 , 4 , 30, 19, $grey, $font , $plus);  *PROBLEM*
    imagettftext($im, 15 , 10,  50, 19, $white, $font, $randomnr2);

    //prevent caching on client side:
    header("Expires: Wed, 1 Jan 1997 00:00:00 GMT");
    header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT");
    header("Cache-Control: no-store, no-cache, must-revalidate");
    header("Cache-Control: post-check=0, pre-check=0", false);
    header("Pragma: no-cache");

    header ("Content-type: image/gif");
    imagegif($im);
    imagedestroy($im);

    ob_end_flush;

?> 
```

示例： http: [//nightcore.nl/captcha/captcha.php](http://nightcore.nl/captcha/captcha.php)

如果您看到我绝对不会做的事情，请告诉我并告诉我什么更好用！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T11:18:10.340

您使用的[空手道字体](http://www.dafont.com/karate.font)**没有加号**作为字符！

查看带有 0043 的框：它是空的。

`__FILE__`是正在执行的 php 文件的文件名和完整路径。 `dirname(__FILE__)`可以`__DIR__`从 php 5.3 开始替换。

# iphone - iPhone：在prepareForSegue方法中防止popover segue？

> ID：12436899
> 
> 赞同：1
> 
> 时间：2012-09-15T11:15:22.613
> 
> 标签：iphone, ios

我的问题类似于[Prevent segue in prepareForSegue 方法？](https://stackoverflow.com/q/8066525/602011).

我正在使用故事板，其中有两个视图控制器。在第一个中，我有一个按钮。在 Storyboard 中，我有一个从按钮到第二个视图控制器的带有弹出框选项的序列。如果多次点击按钮，弹出框将被打开多次。所以这就是为什么我要检查prepareForSegue方法是否已经打开了popover。如果是，则不要再次打开它。那么如何防止prepareForSegue方法中的sequ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T13:50:31.550

正如另一个问题的答案所指出的那样，一旦你点击`prepareForSegue`，取消它就太晚了。您需要完全防止第二次调用 segue，而不是试图在 segue 过程中途停止它。您可以通过多种方式完成此操作，具体取决于所需的行为：

首先，如果您想再次单击按钮以关闭弹出框，您可以 (a) 删除 segue；(b) 以编程方式呈现弹出框或视情况关闭它：

1.  从情节提要中删除弹出框转场；
2.  为您的弹出视图提供一个唯一标识符，以便您可以通过代码实例化控制器；
3.  确保您对`IBOutlet`导航栏按钮有一些或其他引用（在下面的代码示例中，它是`myNavBarButton`），以便您可以告诉您的弹出框从该按钮呈现；
4.  您可能还希望将弹出视图的模拟指标更改为“自由形式”，因为如果您将其保留为“推断”，Interface Builder 将假定您希望它是全屏的，并会反复调整它的大小；
5.  为您的弹出框定义一个 ivar，例如`UIPopoverController *_popover;`；
6.  为您的导航栏按钮定义和链接`IBAction`，该按钮执行适当的解除或呈现弹出框的工作；和
7.  确保将带有按钮的视图控制器定义为 a `UIPopoverControllerDelegate`，以便它可以接收和处理`popoverControllerDidDismissPopover`事件。

因此，ARC 解决方案可能如下所示：

```
@interface MyViewController ()
{
    UIPopoverController *_popover;
}
@end

@implementation MyViewController

- (void)popoverControllerDidDismissPopover:(UIPopoverController *)popoverController
{
    _popover = nil;
}

- (IBAction)navbarButtonClicked:(id)sender
{
    if (_popover)
    {
        // If the popover already is present, dismiss it

        // I'm dismissing the popover here, but if you wanted to do something else,
        // e.g. like do nothing, you could replace these two lines with whatever 
        // behavior you want if the user clicked on the button again.

        [_popover dismissPopoverAnimated:YES];
        _popover = nil;
    }
    else
    {
        // If the popover doesn't exist yet, let's create and present it

        UIViewController *controller = [self.storyboard instantiateViewControllerWithIdentifier:@"gesturePopover"];
        _popover = [[UIPopoverController alloc] initWithContentViewController:controller];
        [_popover presentPopoverFromBarButtonItem:self.myNavBarButton permittedArrowDirections:UIPopoverArrowDirectionAny animated:YES];
    }
}

// the rest of your main view controller's implementation

@end 
```

其次，您也可以禁用导航栏按钮，这样您就不会在弹出框之上获得弹出框。您还将有一个很好的视觉指示它已被禁用。所以最重要的是，您可以在`prepareForSegue`执行 segue 之前禁用该按钮，然后在弹出窗口被解除时重新启用它。您需要在 Interface Builder 中为您的 segue 定义一个标识符，并且您需要一个对导航栏按钮的出口/引用，以便您可以启用和禁用它。然后它看起来像：

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    if ([segue.identifier isEqualToString:@"mySegueIdentifier"])
    {
        UIPopoverController *popover = [(UIStoryboardPopoverSegue *)segue popoverController];
        popover.delegate = self;
        self.myNavBarButton.enabled = FALSE;
    }
}

- (void)popoverControllerDidDismissPopover:(UIPopoverController *)popoverController
{
    self.myNavBarButton.enabled = TRUE;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T11:39:04.357

我不完全理解这个问题，因为你需要 segue 来实现它。

不管怎样，你可以从 UIPopoverControllerDelegate 调用这个函数：

*   (void)dismissPopoverAnimated:(BOOL)动画；

也许本教程会有所帮助？

[http://www.raywenderlich.com/1056/ipad-for-iphone-developers-101-uipopovercontroller-tutorial](http://www.raywenderlich.com/1056/ipad-for-iphone-developers-101-uipopovercontroller-tutorial)

# r - 在排序上叠加聚类结果

> ID：12436902
> 
> 赞同：5
> 
> 时间：2012-09-15T11:15:52.170
> 
> 标签：r, cluster-analysis, hclust, vegan

我需要将通过将树状图切割成给定的相似性水平而生成的集群覆盖到排序结果（NMDS）上。我一直在浏览 ade4 和 vegan，但没有找到任何明显的解决方案。

我目前正在使用 Primer-e（见下面的屏幕截图），但我发现图形有点有限。非常感谢正确方向的任何一点。

![在此处输入图像描述](../Images/b39aa4c23cffb153bded9c6c61e413b7.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T12:31:09.013

**素食主义者**很容易做到这一点，我有一篇[博](http://www.fromthebottomoftheheap.net/?p=437)文详细解释了其中的一些内容，但没有关于集群的部分内容。

这是一个简单的示例，我假设您可以将其转换为您正在使用的任何包/代码。

加载包和数据集

```
require(vegan)
data(dune) 
```

计算相异矩阵并对其进行聚类，将树状图切割为 3 组

```
dij <- vegdist(dune) ## bray curtis dissimilarity
clu <- hclust(dij, method = "average")
grp <- cutree(clu, 3) 
```

看着`grp`

```
R> grp
 2 13  4 16  6  1  8  5 17 15 10 11  9 18  3 20 14 19 12  7 
 1  1  1  2  1  1  1  1  3  2  1  1  1  1  1  2  2  3  1  1 
```

请注意，这现在为数据集中的每个样本（第一行）提供了集群成员资格（第二行）。

接下来适合 NMDS

```
set.seed(2) ## setting a seed to make this reproducible
ord <- metaMDS(dune) 
```

在这个例子中，我将根据集群成员为点着色，所以我需要定义一个颜色向量，每个集群一个

```
col <- c("red2", "green4", "mediumblue") 
```

我现在可以使用`grp`和`col`为我绘制的每个点（样本）生成一个颜色名称向量，方法是索引`col`using `grp`。例如：

```
R> col[grp]
 [1] "red2"       "red2"       "red2"       "green4"     "red2"      
 [6] "red2"       "red2"       "red2"       "mediumblue" "green4"    
[11] "red2"       "red2"       "red2"       "red2"       "red2"      
[16] "green4"     "green4"     "mediumblue" "red2"       "red2" 
```

剩下的就是绘制 NMDS 排序并添加点和图例。我抑制了调用中的任何绘图，`plot()`因此我可以更好地控制在下一行中添加点。第三行只是添加了一个图例。

```
plot(ord, type = "n", display = "sites")
points(ord, col = col[grp], bg = col[grp], pch = 21)
legend("topright", legend = paste("Cluster", 1:3),
       col = col, pt.bg = col, bty = "n", pch = 21) 
```

结果图应如下所示：

![NMDS 图与集群成员重叠](../Images/8cc0f4bb8e17279d377330942956dd8f.png)

* * *

**更新**：要将每个点簇的凸包添加到排序图中，您可以使用该`ordihull()`函数。继续上面的例子，我们添加凸包如下

```
ordihull(ord, groups = grp, display = "sites") 
```

在这一点上，该图将如下图所示

![为簇添加凸包](../Images/046a49e27e198dfa0433b82eb194e45d.png)

* * *

**注意**：**vegan**的高级`plot()`方法是专门为快速而肮脏地显示排序而设计的，因此不接受颜色向量或绘制字符。相反，我们希望您建立您的绘图流程较低级别的方法，例如`points()`我在这里使用的方法。

# c++ - C++ - 无法实例化抽象类

> ID：12436904
> 
> 赞同：2
> 
> 时间：2012-09-15T11:16:35.350
> 
> 标签：c++, visual-c++, abstract-class, virtual-functions

（我对 C++ 很陌生，所以希望这只是一个菜鸟错误）

我的代码有问题，我有一个需要许多属性的类“播放器”，我试图通过使用抽象类来给它：

```
//player.h

class Player : public IUpdate, public IPositionable, public IMoveable, public IDrawable
{
public:
    Player(void);
    SDL_Rect get_position();
    void move(Uint32 dTime);
    void update(Uint32 dTime);
    void show(SDL_Surface* destination);
    ~Player(void);
private:
    SDL_Surface texture;
    int x, y;
}; 
```

我正在重写纯虚函数：

```
//Player.cpp
Player::Player(void)
{
}

SDL_Rect Player::get_position()
{
    SDL_Rect rect;
    rect.h = 0;
    return rect;
}

void Player::move(Uint32 dTime)
{

}

void Player::update(Uint32 dTime)
{
    move(dTime);
}

void Player::show(SDL_Surface* destination)
{
    apply_surface(x, y, &texture, destination, NULL);
}

Player::~Player(void)
{
} 
```

但是我不断收到编译错误：`C2259: 'Player' : cannot instantiate abstract class`

据我所知，纯虚函数应该被覆盖，我的谷歌搜索告诉我，这会使 Player 非抽象，但 Player 似乎仍然是抽象的。

编辑：纯虚函数：

```
class IPositionable
{
public:
    virtual SDL_Rect get_position() = 0;
private:
    int posX, posY;
};

class IUpdate
{
public:
    virtual void update (Uint32 dTime) = 0;
};

class IMoveable
{
public:
    int velX, velY;
    virtual void move(Uint32 dTime) = 0;
};

class IDrawable
{
public:
    virtual void show() = 0;
private:
    SDL_Surface texture;
};

class IHitbox
{
    virtual void check_collsion() = 0;
};

class IAnimated
{
    virtual void next_frame() = 0;
    int state, frame;
    int rows, columns;
}; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T12:22:43.113

你的问题在这里：

```
class IDrawable
{
public:
    virtual void show() = 0;
};

void Player::show(SDL_Surface* destination)
{
    apply_surface(x, y, &texture, destination, NULL);
} 
```

注意`Player::show(SDL_Surface* destination)`不覆盖纯虚方法`IDrawable::show()`。
为了覆盖该方法，您需要在派生类中使用完全相同的函数签名（*只允许协变返回类型*）
您现在拥有的是`show()`在派生类中命名的方法，它*[隐藏](http://www.parashift.com/c++-faq-lite/hiding-rule.html)*了在基类中命名的方法`show()`，它不会覆盖它。由于您没有为类编译器的所有纯虚函数提供定义，`Player`因此正确地告诉您它是一个抽象类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T11:34:12.837

您可能没有覆盖其中一个基的纯虚函数，而是声明并定义了一个具有略微不同签名的函数，如下所示：

```
struct base {
    virtual void foo(double d) = 0;
};

struct derived: base {
    // does not override base::foo; possible subtle error
    void foo(int i);
} 
```

您可能想通过审查来仔细检查您的代码。如果您使用的是 C++11，您将能够标记您的函数`override`以捕获此类错误。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T11:19:13.043

抽象类是抽象的 - 即没有定义但只是声明的东西。

您需要定义所有这些方法。由于我没有这些类的声明，因此我无法就您缺少的方法向您提供建议。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T11:20:21.717

在 C++ 中，函数不是虚拟的，除非它是专门编写的：

```
virtual void move(Uint32 dTime); 
```

[纯虚函数](http://www.learncpp.com/cpp-tutorial/126-pure-virtual-functions-abstract-base-classes-and-interface-classes/)定义如下：

```
virtual void move(Uint32 dTime) = 0; 
```

您继承的“接口”（请注意，这是[多重继承](http://www.deitel.com/articles/cplusplus_tutorials/20060225/virtualBaseClass/).. C++ 与类的接口没有区别）具有您未实现的纯虚函数，从而使您的类抽象。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-15T11:42:51.917

当然，这是由于缺少对纯虚函数的覆盖造成的——也许只是一个细微的签名差异。

我希望编译器会告诉您哪个函数仍未被覆盖，例如（vc9）：

```
C2259: 'Player' : cannot instantiate abstract class
due to following members:
'void IUpdate::update(void)' : is abstract
virtualclass.cpp(3) : see declaration of 'IUpdate::update' 
```

如果您的编译器没有报告这一点，您可以通过删除继承的接口来检查。

# java - 如何在 Java 中调用 launch() 两次？

> ID：12436914
> 
> 赞同：-4
> 
> 时间：2012-09-15T11:18:03.230
> 
> 标签：java, runtime-error

如何`launch()`在Java中调用两次？

我得到了一个例外，例如：

```
ERROR IN MAIN:java.lang.IllegalStateException: 
    Application launch must not be called more than once 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T11:36:38.107

基于谷歌搜索错误消息字符串并阅读一些搜索结果，我相信您必须使用其中一种

```
 javafx.application.Application.launch(...) 
```

方法。这些方法的[javadoc](http://docs.oracle.com/javafx/2/api/javafx/application/Application.html#launch%28java.lang.Class,%20java.lang.String...%29)是这样说的：

> *“启动一个独立的应用程序。这个方法通常是从 main method() 调用的。**它不能被多次调用，否则会抛出异常。** ”*

因此，如果我对您正在使用的“启动”的猜测是正确的，那么答案是：您不能调用`launch`两次。

* * *

[（我打算阅读源代码，看看我是否能弄清楚为什么存在这个限制，但我查找代码的正常方法失败了。有谁知道为什么“通常的地方”似乎没有索引源代码对于 JavaFX？）]

* * *

如果您提供了更多信息，我们可能会建议另一种方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T11:23:47.583

它真的不应该被调用两次，因为它主要初始化应用程序组件，而不仅仅是你的类。您应该考虑在启动方法和回调中添加一些状态对象，以多次“启动”您的函数。

`Launch`方法计算它被调用的次数，因为应用程序调用它更多次真的很危险。如果上面的某个人决定设置一个机制来阻止这种行为，你为什么要通过它来突破。

# google-chrome - 打包应用程序是否有 captureVisibleTab 替代方案？

> ID：12436926
> 
> 赞同：1
> 
> 时间：2012-09-15T11:21:02.113
> 
> 标签：google-chrome, google-chrome-extension, google-chrome-app

我正在为 Chrome 开发一个打包应用程序（不是旧版打包应用程序），需要获取整个窗口的图像，然后再对其进行进一步处理。

不幸的是，对于此类应用程序，无法请求使用`chrome.tabs.captureVisibleTab`. 有没有其他方法可以做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-03T18:10:17.420

现在在 API 中没有办法做到这一点，虽然我已经在[一个错误中报告了这一点](https://code.google.com/p/chromium/issues/detail?id=143866)

同时，您可能想尝试这篇 Eric Bidelman 的[HTML5Rocks 帖子](http://www.html5rocks.com/en/tutorials/streaming/screenshare/)中描述的变通方法。不过，我不确定这些选项是否能很好地满足 CSP 限制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-15T16:41:17.043

它是托管应用程序吗？如果它不是一个，并且是一个打包的应用程序，则应该允许“标签”权限。

# objective-c - 将两个 NSArray 并排排序

> ID：12436927
> 
> 赞同：9
> 
> 时间：2012-09-15T11:21:09.507
> 
> 标签：objective-c, arrays, cocoa, cocoa-touch, sorting

我有几个需要并排排序的数组。

例如，第一个数组有名称：`@[@"Joe", @"Anna", @"Michael", @"Kim"]`，另一个数组保存地址：`@[@"Hollywood bld", @"Some street 3", @"That other street", @"country road"]`，数组的索引放在一起。“乔”住在“好莱坞大厦”等等。

我想按字母顺序对名称数组进行排序，然后将地址数组排在旁边，以便它们仍然在一起，“Hollywood bld”与“Joe”具有相同的索引。我知道如何按字母顺序对一个数组进行排序

```
NSSortDescriptor *sort=[NSSortDescriptor sortDescriptorWithKey:@"name" ascending:NO];
[myArray sortUsingDescriptors:[NSArray arrayWithObject:sort]]; 
```

但是有什么简单的方法可以使用适当的顺序对第二个数组进行排序？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-15T11:33:36.383

1.  创建一个排列数组，最初设置为`p[i]=i`
2.  `name`根据第一个数组的键对排列进行排序
3.  使用排列对两个数组重新排序

示例：假设第一个数组是`{"quick", "brown", "fox"}`. 排列从 开始，在排序之后`{0, 1, 2}`变为。`{1, 2, 0}`现在您可以遍历排列数组，并根据需要重新排序原始数组和第二个数组。

```
NSArray *first = [NSArray arrayWithObjects: @"quick", @"brown", @"fox", @"jumps", nil];
NSArray *second = [NSArray arrayWithObjects: @"jack", @"loves", @"my", @"sphinx", nil];
NSMutableArray *p = [NSMutableArray arrayWithCapacity:first.count];
for (NSUInteger i = 0 ; i != first.count ; i++) {
    [p addObject:[NSNumber numberWithInteger:i]];
}
[p sortWithOptions:0 usingComparator:^NSComparisonResult(id obj1, id obj2) {
    // Modify this to use [first objectAtIndex:[obj1 intValue]].name property
    NSString *lhs = [first objectAtIndex:[obj1 intValue]];
    // Same goes for the next line: use the name
    NSString *rhs = [first objectAtIndex:[obj2 intValue]];
    return [lhs compare:rhs];
}];
NSMutableArray *sortedFirst = [NSMutableArray arrayWithCapacity:first.count];
NSMutableArray *sortedSecond = [NSMutableArray arrayWithCapacity:first.count];
[p enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {
    NSUInteger pos = [obj intValue];
    [sortedFirst addObject:[first objectAtIndex:pos]];
    [sortedSecond addObject:[second objectAtIndex:pos]];
}];
NSLog(@"%@", sortedFirst);
NSLog(@"%@", sortedSecond); 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-10-06T13:40:50.863

首先，您可能需要重新考虑一种架构，该架构要求您像这样以并行方式对两个数组进行排序。但话虽如此，您可以通过创建一个临时字典数组来保持两个数组的元素成对。

然后对组合数组进行排序，并再次提取两个数组，按要求排序：

原始数据：

```
NSArray *names     = @[@"Joe", @"Anna", @"Michael"];
NSArray *addresses = @[@"Hollywood bld", @"Some street 3", @"That other street"]; 
```

实际排序代码：

```
NSMutableArray *combined = [NSMutableArray array];

for (NSUInteger i = 0; i < names.count; i++) {
    [combined addObject: @{@"name" : names[i], @"address": addresses[i]}];
}

[combined sortUsingDescriptors:@[[NSSortDescriptor sortDescriptorWithKey:@"name" ascending:YES]]];

names     = [combined valueForKey:@"name"];
addresses = [combined valueForKey:@"address"]; 
```

请注意，`valueForKey:`在数组上使用会提取一个具有相同大小的新数组，其中填充了原始数组中对象的属性。在这种情况下，它会从原始数组创建新数组，并根据需要进行排序。

这种方法只需要几行代码，并且在需要时易于遵循和调试。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2012-09-15T11:29:20.047

最好的方法是重组你的数据，这样你就只有一个数组。在您的示例中，最有意义的是创建一个具有名称和地址的新类，将它们放在一个数组中并按名称对其进行排序。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-09-15T11:28:24.450

您可以通过在排序前后跟踪对象的索引来做到这一点，但也许拥有一个拥有所有这些属性的对象会更容易

```
Person : NSObject

@property (nonatomic, copy) NSString *name;
@property (nonatomic, copy) NSString *addresss; 
```

然后将这些对象存储到一个数组中，您可以按该数组`name`或`address`键路径排序

# mongodb - 最佳数据库，SQL 或 NOSQL，用于高速率插入？

> ID：12436933
> 
> 赞同：0
> 
> 时间：2012-09-15T11:22:26.707
> 
> 标签：mongodb, database

我想要一个数据库来插入简单的数据（1 个 10 列的表）。问题是我需要每秒插入 200,000 条记录。我的电脑是一台惠普服务器，配备 96GB 内存和 300T NAS 驱动器。我不知道这个插入率。

我听说过MongoDB。你能引导我正确的方式吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T16:01:45.313

Mongo 在这里可能是一个不错的选择，但每秒 200k 是一个很大的数字，所以我认为无论你使用什么都需要仔细设计。

*   200kps * 300 字节/文档 = 60MBps -> ~600Mbps -> 接近千兆以太网适配器饱和。所以需要注意的地方。

*   在这种情况下，请保持您的字段名称简短，因为它们存在于每个文档的 BSON 中

*   _id 字段应该单调增加（大约），以便整个 _id 索引不需要在 ram 中。默认情况下这是正确的，因为 BSON ObjectIds 会这样做。如果您添加更多索引，您可能无法使用 1 台服务器达到 200K；也许可以用 SSD 完成。

*   我不确定您是否会在一台带有 mongo 的服务器上达到每秒 200K。100K应该很容易。取决于箱子的速度。如果你分片，你当然可以用多台机器每秒做 200K。

*   有没有办法将这些小行捆绑到对您的应用程序有意义的较大文档中？如果这样做，您将获得更高的吞吐量：例如，一个包含十个这些行的文档，它将成为单个插入并在 _id 索引中具有单个键。

# html - 空表单 POST 数据

> ID：12436936
> 
> 赞同：6
> 
> 时间：2012-09-15T11:23:08.970
> 
> 标签：html, forms, post, null, send

如果您通过 POST 发送 HTML 表单并且您不输入数据，谁能告诉我会发生什么？

例如：一个输入字段“名称”通过发送`POST`到另一个页面（例如 servlet 或 PHP）。如果不输入值，接收页面会得到什么？是未发送元素（null）还是得到空字符串？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-15T11:24:37.427

空值是您将收到的。用您的话说（“”），考虑到没有验证并且提交了表单。

只是出于好奇，您是否在服务器端对空值进行验证？我建议您在提交表单之前先检查客户端上的空值。这样您的 UI 将是无缝的，您将节省带宽。

这是带有非空值的 POST 请求的样子：

```
POST /submitpage.php HTTP/1.1
Host: www.awebsite.com
User-Agent: Safari/4.0
Content-Length: 39
Content-Type: application/x-www-form-urlencoded  

name=Ashwin+Singh&age=21&job=Developer 
```

传递空值后，它将如下所示：

```
POST /submitpage.php HTTP/1.1
Host: www.awebsite.com
User-Agent: Safari/4.0
Content-Length: 16
Content-Type: application/x-www-form-urlencoded

name=&age=&job= 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T11:37:40.177

文本输入字段将被发送为空，但对于单选按钮和复选框，只有选定的项目将被传输到服务器。

# mapreduce - 300 万条记录的批量插入的 RavenDB 映射/减少索引性能

> ID：12436937
> 
> 赞同：2
> 
> 时间：2012-09-15T11:23:11.037
> 
> 标签：mapreduce, ravendb

我目前在一个简单仪表板应用程序的概念验证中使用 RavenDB，该应用程序提供对系统传入事件的聚合视图。例如，用户可以按小时（一天）、天、月或年查看粒度。

我有 300 万个现有事件要导入和索引，我正在寻找最好/最高效的方法来做这件事，经过几次不太成功的尝试。

请注意，这个问题与生成数据和索引后的应用程序性能无关，这部分非常好。

所以我有：

*   代表事件的单个类，具有发生的事件和时间的字段（DateTime + 3 个字符串字段）。
*   根据当时的事件日期和事件类型映射/减少小时、日、月和年的索引。
*   该应用程序查询索引以获取每小时、每天、每月和每年的值
*   从历史上看，至少需要每小时汇总（而不是单个事件）。

如果索引不存在，我可以毫无问题地导入数据，但是如果索引存在，我会在索引处理大约 45 分钟后始终得到 OutOfMemoryExceptions。

可以调整索引过程吗？合适的值是多少？

或者很高兴它建议以不同的方式解决问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-22T04:47:43.813

我发现将导入过程分成批次（比如一次一个月的所有数据），使用 raven 中存在的索引导入，然后等到不再有任何过时的索引产生最稳定的结果。

我使用 GetStatistics().StaleIndexes 结合 Thread.Sleep 让进程在批次之间等待。我的会话批量大小仍然保持在每个会话 1024 个文档。

# header - 为什么 IP 标头中有有效载荷长度字段？

> ID：12436944
> 
> 赞同：1
> 
> 时间：2012-09-15T11:24:07.200
> 
> 标签：header, ip, network-protocols

IPv4 中的“总长度”和 IPv6 中的“有效负载长度”使用 16 位。以太网帧头已经包含一个 16 位长度的字段。即使只有一些可能的值用于表示长度，它本身也应该明确指定有效载荷的总长度，从而指定 IP 数据报的总长度。为什么要在 IP 标头中再次指定它？（又在 UDP 中？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-15T11:28:08.453

IP 和以太网在[OSI 模型](http://en.wikipedia.org/wiki/OSI_model)中位于不同的层。第 n 层上的服务不知道第 n+1 层上发生的任何事情，数据对它完全不透明。因此，必须重复诸如长度之类的某些事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-10T02:02:35.747

一个原因是 Layer2 不一定是以太网。

IP 在不同的较低层网络上提供逻辑分层和寻址。所以Layer3有自己的长度，不用担心layer2。并让 layer2 处理它自己的长度。

# php - 在php中用空字符串填充数组的中间索引

> ID：12436951
> 
> 赞同：0
> 
> 时间：2012-09-15T11:24:46.007
> 
> 标签：php, arrays

我正在通过 php 代码从 excel 表中读取。有些字段是可选的。当我使用库时，我得到这样的结果

```
Array
    (
    [1] => Test123
    [2] => None
    [3] => Booster
    [6] => Yes
    [7] => Yes
    [8] => 1
    [9] => Unknown
    [10] => 21
    [11] => http://unknowm.com
    ) 
```

在那里您可以看到索引 4 和 5 丢失，因为这些值不存在于 excel 文件列中。现在我必须将此数组与另一个具有命名索引的数组合并。第二个数组的长度是 11。但是当我合并两个 php 错误时，会产生一个未定义的索引 4 和 5。我正在动态地做这项工作，我不得不使用第二个数组的所有索引。在将其合并到第二个之前，我希望将缺少的第一个（来自 excel）数组索引用空字符串填充。我怎样才能做到这一点？我希望我提供了很多信息。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T11:28:27.613

您可以使用[`array_fill`](http://php.net/manual/en/function.array-fill.php)创建一个包含您希望结果具有的所有键的数组，并使用数组加法运算符添加原始数组中缺少的那些：

```
$firstIndexToEnsure = 1;
$lastIndexToEnsure = 11;
$defaults = array_fill($firstIndexToEnsure,
                       $lastIndexToEnsure - $firstIndexToEnsure + 1,
                       '');
$array += $defaults; 
```

[**看到它在行动**](http://ideone.com/1Xy41)。

如果您需要通过键对结果进行额外排序，那么也可以使用`ksort`它。

值得一提的是，无论您接受可能仅部分覆盖某些默认值的用户输入，该技术也适用于非整数键：

```
$params = array('color' => 'blue', 'size' => 'large');
$defaults = array(
    'color' => 'red',
    'size'  => 'large',
    'shape' => 'square',
    'age'   => 'old',
);

$params += $defaults; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-15T11:31:38.643

试试这个方法：

```
$array = array(
    0 => "a",
    2 => "b",
    4 => "b",
    5 => "b",
    6 => "b",
);

// If min and max are static, use numbers instead of getting them from the array
$keys = array_keys($array);
$all = array_fill(min($keys), max($keys) - min($keys) + 1, "");
$filled = $array + $all;

var_dump($filled); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-15T11:32:04.487

使第一个数组完整：

```
$lastindex = 11;
for($i=1; $i<=$lastindex; $i++)
  if( !isset($array[$i] ))
    $array[$i] = ''; 
```

现在您可以轻松地与第二个数组合并。

# symfony - Behat、mink 和 goutte：当前 URI 必须是绝对 URL

> ID：12436952
> 
> 赞同：1
> 
> 时间：2012-09-15T11:24:59.567
> 
> 标签：symfony, symfony-2.1, behat, mink, goutte

我在 Behat 和 Mink 方面遇到了一些问题。使用的驱动程序是 Goutte。我正在尝试测试我的 Symfony 2.1 应用程序。

我的*behat.yml*：

```
default:
extensions:
    Behat\Symfony2Extension\Extension:
        mink_driver: true
    Behat\MinkExtension\Extension:
        base_url: 'http://localhost/project/web/app_dev.php'
        goutte: ~ 
```

我的*test.feature*：

```
Feature: Test
   In order to log-in
   As a user
   I need to be able to use the login-form

   Scenario: Logging in
       Given I am on "/login"
       When I fill in "username" with "admin"
       And I fill in "password" with "password"
       And I press "_submit"
       Then show last response
       Then I should see "Hello" 
```

当我尝试执行测试时（在 Windows 7 上）：

```
bin\behat @MyTestBundle 
```

测试停止于

> 然后我按“_submit”

出现此错误：

```
Current URI must be an absolute URL ("/app_dev.php"). 
```

我已经尝试了几乎所有可能的 base_url 路径，但我没有设法让它工作。

你知道如何解决这个问题吗？

我尝试提交的表格：

```
<form action="/app_dev.php/login_check" class="form-horizontal" method="post">
    <fieldset>
        <div class="control-group">
            <label class="control-label" for="username">Nazwa użytkownika:</label>

            <div class="controls"><input type="text" id="username" name="_username" value=""/></div>
        </div>

        <div class="control-group">
            <label for="password" class="control-label">Hasło:</label>

            <div class="controls"><input type="password" id="password" name="_password"/></div>
        </div>

        <div class="control-group">
            <div class="controls">
                <label for="remember_me" class="checkbox">
                    <input type="checkbox" id="remember_me" name="_remember_me" value="on"/>Nie wylogowuj mnie
                </label>
            </div>

        </div>
        <div class="form-actions">
            <input type="submit" class="btn-primary" id="_submit" name="_submit"
                   value="Zaloguj"/>
            <a href="/app_dev.php/register/" class="btn btn-success">Rejestracja</a>
        </div>
    </fieldset>
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-17T19:58:54.143

在您的 twig 模板中，当您创建 login_check url 时，您必须创建一个绝对 url（path 的第三个参数，为 true 以创建一个绝对 url）：

```
{{ path('route', {}, true) }} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-26T18:51:36.117

我今天找到了解决问题的方法。

确实问题出在*路径*功能中。*path*函数应该替换为 twig url*函数*。

有趣的是：在表单操作属性中将函数更改为*url*将无济于事。在我的基本布局中，我有：

```
<base href="{{ path('_default')}}"/> 
```

这一行代码导致了问题，应该是：

```
<base href="{{ url('_default')}}"/> 
```

在此更改之后，测试按预期工作。

# java - 为java项目构建NSIS脚本？

> ID：12436954
> 
> 赞同：1
> 
> 时间：2012-09-15T11:25:23.183
> 
> 标签：java, eclipse, nsis

我在我的eclipse中安装了NSIS插件。我的eclipse工作区中只有一个java项目。使用这个插件我需要创建.nsi文件。我在谷歌搜索但我无法得到。任何人请帮助我，我需要什么步骤遵循以实现我的要求。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-16T05:32:19.893

EclipseNSIS[用户指南](http://eclipsensis.sourceforge.net/help/index.html)非常详细地展示了如何创建自己的安装程序脚本。它也可以在您的 Eclipse 帮助中直接在您的机器上使用。

[脚本向导](http://eclipsensis.sourceforge.net/help/eclipsensis/wizard.html)应该为您提供快速入门。

# java - 并非所有字符都被打印 java

> ID：12436956
> 
> 赞同：1
> 
> 时间：2012-09-15T11:25:49.017
> 
> 标签：java, printing, thermal-printer

我正在尝试打印到**POS**热敏打印机。我成功了，但我尝试打印的单词没有打印出来，即使还有空间留给其他字符，例如我`"hello world"`在纸上打印，它只会显示为`"hello w"`即使纸上还有空间可以打印其余字符字符串中的字符。

附加信息：我将 defaultPage 用于我的`PageFormat`.

```
 PageFormat pf = job.defaultPage(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T12:47:21.740

您是否尝试过使用自己的纸张尺寸创建自定义 PageFormat？像这样的东西：

```
PageFormat pf = new PageFormat();
Paper paper = new Paper();
paper.setSize(width, height);
paper.setImageableArea(startX, startY, width, height);
pf.setPaper(paper); 
```

该`setSize(...)`方法采用 1/72 英寸单位的尺寸。我猜该`setImageableArea()`方法使用相同的单位，但[PageFormat 的文档](http://docs.oracle.com/javase/6/docs/api/java/awt/print/PageFormat.html)并不完全清楚。

我不知道为什么没有选择使用毫米作为单位而不是奇怪的“1/72 英寸”。如果您使用一卷纸而不是单张纸，我不确定您将如何配置 PageFormat。

# google-app-engine - 通过电子邮件发送使用报告

> ID：12436960
> 
> 赞同：0
> 
> 时间：2012-09-15T11:26:35.993
> 
> 标签：google-app-engine

如何设置 APP ENGINE 以通过电子邮件发送以管理每日使用报告。

我有计费工作，每日报告将是我包含 Appstats 的开始，但没有通过电子邮件发送报告的选项。

我对想法持开放态度

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-16T07:11:52.987

如果您转到 GAE 管理员计费历史记录页面，现在有一个“下载使用情况报告 (CSV)”链接。这个链接有 url `https://appengine.google.com/billing/history.csv?app_id=s%7Eyour-app-id`。这将为您提供 CSV 格式的帐单数据。

但是，这需要调用者具有管理员权限才能调用它。您可以通过两种方式以编程方式实现此目的：

1.  `Clientlogin`访问（已被弃用，但`appcfg`仍在使用它）。请参阅第一个答案：[您如何从（非网络）python 客户端访问经过身份验证的 Google App Engine 服务？](https://stackoverflow.com/questions/101742/how-do-you-access-an-authenticated-google-app-engine-service-from-a-non-web-py)

2.  用于 Web 应用程序的新[OAuth2 身份验证](https://developers.google.com/accounts/docs/OAuth2WebServerhttp://)。您必须声明`offline`访问权限，然后第一次您应该手动登录，然后存储令牌以供离线使用。此外，要访问 GAE，您需要声明`https://www.googleapis.com/auth/appengine.admin`.

# objective-c - AVAudioPlayer 线程实例化

> ID：12436970
> 
> 赞同：0
> 
> 时间：2012-09-15T11:28:46.677
> 
> 标签：objective-c, ios, ipad, nsthread

下面的代码给了我一个异常，标题在 AVAudioPlayer 的 alloc 行：thread 1 breakpoint 1.2 我在实例化 AVaudioPlayer 时出错了吗？或者问题是由于玩家在不同的线程上玩的事实引起的？

附上代码：

```
#import "songPlayer.h"

@implementation songPlayer

@synthesize audioPlayer;
@synthesize isPlaying;
@synthesize lastSongNumber;
@synthesize currentTimeSong;
@synthesize volume;
@synthesize audioFilesArray;

-(void)loadSoundFiles:(NSArray*)soundFiles{
    audioFilesArray = [[NSArray alloc]initWithArray:soundFiles];
}

-(void)loadSounds:(int)tagNumber{

    NSString *audiofile = [NSString stringWithFormat:@"%@", [audioFilesArray objectAtIndex:(tagNumber-201)]];
    if ([audiofile hasSuffix:@".mp3"]) {

    NSURL *url = [NSURL fileURLWithPath:[[NSBundle mainBundle]
                                         pathForResource:audiofile
                                         ofType:nil]];

    NSError *error;
    audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:url error:&error];

    if (error)
    {
        NSLog(@"Error in audioPlayer: %@",
              [error localizedDescription]);
    } else {

        audioPlayer.delegate = self;
        if (!volume) {
            volume = 1.0;
        }
        [audioPlayer setVolume:volume];
        [audioPlayer prepareToPlay];
        if (!currentTimeSong) {
            currentTimeSong = 0;
        }
        audioPlayer.currentTime = currentTimeSong;
        }
    }
}

-(void)playOrStop:(int)tagNumber{
    if (audioPlayer.isPlaying > 0) {
        currentTimeSong =  audioPlayer.currentTime;
        [audioPlayer stop];
        audioPlayer = nil;
    if (tagNumber-200 != isPlaying) {
        [self playOrStop:tagNumber];
    } else {
        isPlaying = 0;
        return;
    }
    } else {
        isPlaying = tagNumber - 200;
        [self loadSounds:tagNumber];
        audioPlayer.currentTime = currentTimeSong;
        // Create an asynchronous background queue
       NSOperationQueue *queueSong = [[NSOperationQueue alloc] init];
        [queueSong addOperationWithBlock:
         ^{

             [audioPlayer play];
         }];
    }
}

-(void)audioPlayerDidFinishPlaying:(AVAudioPlayer *)player successfully:(BOOL)flag{
    NSLog(@"restart...");
    lastSongNumber = isPlaying + 200;
    audioPlayer.currentTime = 0;
    currentTimeSong = 0;
    isPlaying = 0;
    [self playOrStop:lastSongNumber];
}

@end 
```

# java - 广泛的 L&F 修改

> ID：12436972
> 
> 赞同：0
> 
> 时间：2012-09-15T11:29:00.107
> 
> 标签：java, swing, look-and-feel, nimbus

我想在我的应用程序中使用多个 L&F，但是由于各种 L&F 之间的差异，这使得翻译我的应用程序非常复杂......

所以我心想，我为什么不下载我想使用的 L&F，然后以它们都有的方式编辑它们，例如相同组件名称部分的相同键，使得在运行时翻译它变得更加简单......

一方面，它想使用 Nimbus L&F，但我不知道在哪里可以找到我可以编辑的源代码（或文件）......

我知道它包含在最新的 Java 中（我拥有 JRE 和 SDK），但我只是不知道在哪里可以找到它......谷歌只是不断展示如何设置它的页面......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-15T11:46:14.933

JDK 的完整源代码位于以下路径：

> C:\Program Files\Java\jdk1.7.0_06\src.zip

在该 zip 中，nimbus 源的路径是：

> C:\Program Files\Java\jdk1.7.0_06\src.zip\javax\swing\plaf\nimbus\

当然这只是windows，但是*mix系统在这方面应该没有区别，除了用适当的相应的替换*C:\Program Files\*

# android - Facebook 和 Twitter 在 android 中的集成

> ID：12436977
> 
> 赞同：2
> 
> 时间：2012-09-15T11:29:55.137
> 
> 标签：android, facebook, twitter

我需要整合 Facebook 和 Twitter 我是我的应用程序：一个简单的分享按钮。
有图书馆可以做到这一点吗？哪个最好？仅限官方！？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-15T11:34:03.670

如果您只想将简单文本从您的应用程序共享到 Facebook 或 Twitter 等...我建议创建一个选择器，让用户从他的手机中选择他想要用户共享的应用程序。它更简单，更可靠，并且更像是“android方式”。

这是您必须编写的代码：

```
Intent shareIntent=new Intent(Intent.ACTION_SEND);
shareIntent.setType("text/plain");
shareIntent.putExtra(Intent.EXTRA_TEXT,"I want to share this with you!");
shareIntent.putExtra(Intent.EXTRA_SUBJECT, "Great Post");
startActivity(Intent.createChooser(shareIntent, "Share...")); 
```

**否则**至于 facebook 和 twitter，你可以通过他们的 API 来做到这一点。

[适用于 Android 开发人员的 Facebook Sdk。](https://developers.facebook.com/docs/mobile/android/build/)

对于 Twitter，您可以使用[twitter 开发人员文档](https://dev.twitter.com/docs/twitter-libraries#java)中所写的外部库，并且有一个名为[Twitter4J](http://twitter4j.org/en/index.html)的库可以支持android。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T11:33:40.557

检查以下链接

[在 Android 中集成 Facebook、Twitter、社交网络](https://stackoverflow.com/questions/5076691/integrating-facebook-twitter-social-networks-in-android)

[如何将 facebook、twitter 和 google plus 集成到 android 应用程序中](https://stackoverflow.com/questions/6869938/how-to-integrate-facebook-twitter-and-google-plus-to-an-android-app)

[http://10jumps.com/blog/android-integration-facebook-and-twitter](http://10jumps.com/blog/android-integration-facebook-and-twitter)

[Facebook 和 twitter 与我的 android 应用程序的集成](https://stackoverflow.com/questions/4057463/facebook-and-twitter-integration-with-my-android-application)

# python - 如何修复 Python Numpy/Pandas 安装？

> ID：12436979
> 
> 赞同：35
> 
> 时间：2012-09-15T11:30:35.430
> 
> 标签：python, numpy, pip, pandas, easy-install

我想在 Mac OS X 10.6.8 上安装 Python Pandas 库（0.8.1）。这个库需要 Numpy>=1.6。

我试过这个

```
$ sudo easy_install pandas
Searching for pandas
Reading http://pypi.python.org/simple/pandas/
Reading http://pandas.pydata.org
Reading http://pandas.sourceforge.net
Best match: pandas 0.8.1
Downloading http://pypi.python.org/packages/source/p/pandas/pandas-0.8.1.zip#md5=d2c5c5bea971cd760b0ae6f6850fcb74
Processing pandas-0.8.1.zip
Running pandas-0.8.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-ckAMym/pandas-0.8.1/egg-dist-tmp-0mlL7t
error: Setup script exited with pandas requires NumPy >= 1.6 due to datetime64 dependency 
```

所以我尝试安装 Numpy

```
$ sudo easy_install numpy
Searching for numpy
Best match: numpy 1.6.2
Adding numpy 1.6.2 to easy-install.pth file

Using /Library/Python/2.6/site-packages
Processing dependencies for numpy
Finished processing dependencies for numpy 
```

所以我又试了一次

```
$ sudo easy_install pandas 
```

但问题还是一样！

```
error: Setup script exited with pandas requires NumPy >= 1.6 due to datetime64 dependency 
```

我运行 Python

```
$ python
Python 2.6.1 (r261:67515, Jun 24 2010, 21:47:49) 
[GCC 4.2.1 (Apple Inc. build 5646)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> import numpy as np
>>> np.__version__
'1.2.1' 
```

所以 Numpy 1.6 似乎没有正确安装！

我尝试使用`pip`（而不是`easy_install`）安装 Numpy 1.6...

```
$ sudo pip install numpy
Requirement already satisfied (use --upgrade to upgrade): numpy in /Library/Python/2.6/site-packages
Cleaning up... 
```

我添加了`--upgrade`标志

```
$ sudo pip install numpy --upgrade
Requirement already up-to-date: numpy in /Library/Python/2.6/site-packages
Cleaning up...

$ sudo pip install pandas
Downloading/unpacking pandas
  Downloading pandas-0.8.1.zip (1.9MB): 1.9MB downloaded
  Running setup.py egg_info for package pandas
    pandas requires NumPy >= 1.6 due to datetime64 dependency
    Complete output from command python setup.py egg_info:
    pandas requires NumPy >= 1.6 due to datetime64 dependency

----------------------------------------
Command python setup.py egg_info failed with error code 1 in /tmp/pip-build/pandas
Storing complete log in /Users/MyUsername/Library/Logs/pip.log 
```

我还尝试安装 Numpy 的二进制版本[http://sourceforge.net/projects/numpy/files/numpy-1.6.2-py2.6-python.org-macosx10.3.dmg](http://sourceforge.net/projects/numpy/files/) 但它失败了！！！（安装人员说不能在这个磁盘上安装 numpy 1.6.2。Numpy 需要 python.org Python 2.6 才能安装。

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-10-19T13:39:55.917

不知道您是否解决了问题，但将来是否有人遇到此问题。

```
$python
>>import numpy
>>print(numpy) 
```

转到打印的位置并删除在`numpy`那里找到的安装。然后您可以使用`pip`或`easy_install`

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-12-02T00:07:29.573

我有这个确切的问题。

问题是在默认的 mac 安装中有一个旧版本的 numpy，它`pip install pandas`首先看到一个并且失败了 - 没有继续看到`pip`她自己安装了一个新版本。

如果您使用的是默认的 mac 安装，并且您已经`pip install numpy --upgrade`确保您是最新的，但`pip install pandas`由于旧的而仍然失败`numpy`，请尝试以下操作：

```
$ cd /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/
$ sudo rm -r numpy
$ pip install pandas 
```

现在应该安装/构建熊猫。

要检查我们所做的工作，请执行以下操作：启动 python，然后`import numpy`和`import pandas`. 运气好的话，`numpy.__version__`将是 1.6.2（或更高），`pandas.__version__`将是 0.9.1（或更高）。

如果您想查看 pip 放置（找到！）它们的位置，只需`print(numpy)`和`print(pandas)`.

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-05-02T15:50:01.717

我与创建[Anaconda Python](https://store.continuum.io/)的人一起工作。您可以安装多个版本的 python 和 numpy，而不会损坏您的系统 python。它是免费和开源的（OSX、linux、Windows）。付费包是免费版本之上的增强功能。熊猫包括在内。

```
conda create --name np17py27 anaconda=1.4 numpy=1.7 python=2.7
export PATH=~/anaconda/envs/np17py27/bin:$PATH 
```

如果你想要 numpy 1.6：

```
conda create --name np16py27 anaconda=1.4 numpy=1.6 python=2.7 
```

设置你的 PATH 设置在哪里可以找到 python 和 ipython。环境 (np17py27) 可以任意命名。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-12-09T22:50:25.477

这对我在 10.7.5 下使用 Enthought 的 EPD_free-7.3-2 有效：

免费安装 EPD，然后按照以下链接中的步骤创建 .bash_profile 文件。

[http://redfinsolutions.com/blog/creating-bashprofile-your-mac](http://redfinsolutions.com/blog/creating-bashprofile-your-mac)

并将以下内容添加到文件中。

```
PATH="/Library/Frameworks/Python.framework/Versions/Current/bin:$(PATH)}"
export PATH 
```

在终端中执行以下命令

```
$ sudo easy_install pandas 
```

完成后，启动 PyLab 并输入：

```
In [1]: import pandas

In [2]: plot(arange(10)) 
```

这应该打开一个带有对角直线的图。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-12-04T07:25:21.390

如果您像我一样并且不喜欢删除作为标准系统安装一部分的内容（其他人建议）的想法，那么您可能会喜欢我最终使用的解决方案：

1.  获取[Homebrew](http://mxcl.github.com/homebrew/) - 这是一个要安装的单行 shell 脚本！
2.  编辑您的`.profile`, 或任何适当的内容，并放在`/usr/local/bin`您的开头，`PATH`以便在系统二进制文件之前找到[Homebrew](http://mxcl.github.com/homebrew/)二进制文件
3.  `brew install python`- 这将安装更新版本的python`/usr/local`
4.  `pip install pandas`

这在 OS X 10.8.2 中对我有用，我看不出它在 10.6.8 中不应该工作的任何原因。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2012-09-15T22:37:31.893

您的系统上可能安装了另一个 Numpy 版本，如果您的发行版不支持它，请尝试查询您的 numpy 版本并检索它。
又名 debian/unbuntu/Mint 版本主要可以从 dpkg 包管理器中查询： `dpkg --get-selections | egrep -i "numpy"`，你可以看到实际的 Numpy 版本。

*   有些拥有 apt 的人可以通过这样做来要求删除它：apt-get remove numpy。

*   一些像 Fedora、RedHat 和 RedHat 模型下的任何兼容版本的发行版也可以使用 rpm 来查询安装。

*   这是通过告诉 Numpy 安装程序在当前`/usr/local/lib/python[VERSION]/dist-packages`over Linux 环境和`c:[...]\python[VERSION]\site-packages`Windows 上安装自身而发生的。在 /usr/local/python[VERSION]/dist-packages 中可能安装了 Numpy 的一个版本，这个版本将首先被实例化。

*   .pth 文件包含有关特定 python 模块路径位置的信息，但从包中删除组件可能会损坏它...

小心，你将不得不删除包和它的所有依赖......在某些情况下真的很痛苦。

访问lunchad.net 可能会节省您的时间，有时他们会从某些软件包中获得新版本。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2016-04-26T14:21:36.493

我遇到了同样的问题，就我而言，问题是 python 在一些有序的位置寻找包，首先是默认旧包所在的默认计算机。

要检查您的 python 正在寻找什么，您可以执行以下操作：

```
>>> import sys
>>> print '\n'.join(sys.path) 
```

这是在 pip 或 brew 或 port 文件夹之前输出目录“/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python”。

简单的解决方案是：

```
export PYTHONPATH="/Library/Python/2.7/site-packages:$PYTHONPATH" 
```

这对我来说效果很好，我建议您下次将此行添加到您的家庭 bash_profile 文件中。请记住，sys.path 是使用当前工作目录构建的，然后是 PYTHONPATH 环境变量中的目录。然后是依赖于安装的默认目录。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2012-11-28T09:11:53.047

如果您使用的是 enthought python (EPD) 版本，您可能希望直接转到您的站点包并重新安装 numpy。然后尝试使用 pip 安装 pandas。您必须为此修改安装前缀。

如果问题仍然存在（就像我一样）尝试下载 pandas tar 球，将其解压缩到您的站点包中并`setup.py install`从您的 pandas 目录运行。

如果您的依赖项正确，您可以导入 pandas 并检查它是否顺利导入。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2016-04-23T03:57:19.333

与几乎所有其他 Python 软件包一样，安装 Pandas 的最简单方法是使用 pip。

许多包（包括 Pandas）需要编译器和一堆第三方 DLL，许多 Windows 用户不知道如何处理。这正是创建“wheel”格式的原因：因此包可以上传预构建的二进制文件。

并非每个项目都为 Windows 预先构建了二进制轮子。但是您可以查看 Christoph Gohlke 的网站并找到所有最受欢迎的轮子。只需按照该页面上的说明下载轮文件并使用 pip 安装即可。

但是对于 Pandas，您不必这样做。他们的下载页面上有轮子，并上传到 PyPI。文档告诉您使用这些。（嗯，它首先建议你使用 Anaconda/Miniconda，但如果你想要一个普通的 Python，请使用 pip 和 PyPI 上的包。）它对我有用......在 windows 7 64 位，python 3.4

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2022-02-07T11:15:25.687

对我来说真正有用的是在这样的虚拟环境中安装熊猫：

```
// create your virtualenv folder
python3 -m venv your-virtualenv-folder

// activate your virtualenv folder
source your-virtualenv-folder/bin/activate

// install pandas on your new virtualenv folder
python -m pip install pandas

// run your python file
python index.py 
```

# jquery - 很长的下拉菜单有哪些替代方法？

> ID：12436980
> 
> 赞同：0
> 
> 时间：2012-09-15T11:30:45.503
> 
> 标签：jquery, jquery-ui, drop-down-menu

我的数据库中有大约 350 种产品，我目前担心我的后端。在后端，如果我想选择一个产品，我使用的是原生下拉菜单，但是看到下拉菜单的滚动条（这么小）非常令人生畏，需要花费大量时间进行搜索

我想要一个下拉菜单的替代品，通过它我可以非常快速地选择一个产品

2个注意事项：

1.  我没有太多空间展示产品
2.  我的产品已分类

我知道这个问题非常广泛，但我已经尽可能缩小了范围。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T11:36:09.907

由于您已经对这些选项进行了分类，也许您可​​以使用一个下拉菜单来选择类别，并通过其选择显示第二个选项。

既然你说它是为了后端，我假设你知道你从那个下拉列表中选择了什么产品。在这种情况下，另一个选项可能是使用[jQuery UI Autocomplete](http://jqueryui.com/demos/autocomplete/)。您可以将它与 AJAX 或静态 Javascript 数组一起使用。

有一些东西可以让你开始。如有必要，我可以提供一些示例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-15T12:03:29.597

如果您的客户不知道产品，则不应使其自动完成。

您可以使用级联下拉菜单。选择过滤产品的类别。

在更改类别时，您重新过滤产品：

```
$categories.on("change", function(){
    getProducts();
});​

function getProducts() {
    $products.empty();

    var category = $categories.val();

    products.forEach(function(product) {
        if (product.category === category) {
            $products.append("<option>" + product.value + "</option>");
        };
    });
} 
```

`getProducts()`如果您不想一次拉下所有产品，也可以是 ajax 调用。以上只是一个例子。

### [演示](http://jsfiddle.net/FranWahl/RpyFB/)- 按类别过滤产品 - 已编辑以包含行项目示例

但是，一个完全不同的选项可能是根据您的类别选择呈现产品的图形列表。

例如，类似于：

```
function renderProductDetail(productName){
    var lineItem = "<br /><div><img src='http://www.placehold.it/140x100' /><span>" + productName + ": Details can go here....</span><button type'button'>Select</button></div>";
    $productDetails.append(lineItem);
} 
```

这样，客户就可以为每个产品提供一张图片和一份描述。每个项目旁边都有一个小选择按钮/链接，依此类推。

这就是大多数销售产品、komplett、dabs、亚马逊等网站的方式......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-15T11:35:01.273

您必须使用包含产品类别的下拉菜单，并且在名称前面有一个 + 号，当单击该产品时，会显示该产品，并且名称前面有一个复选框，然后从中选择..

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-15T11:37:22.083

您需要将产品划分为子类别，然后放置两个下拉列表

一个用于主要类别，
另一个用于各自的子类别，

并且您必须维护第二个下拉列表，就好像选择了一个主要类别一样，那么其相关的只有第二个下拉列表中的选项

**好像我们使用自动完成它永远不会对用户友好，用户可能不知道产品**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-15T11:38:00.620

鉴于您已经有产品类别，您最整洁的选择可能是使用菜单样式的弹出菜单：

[http://filamentgroup.com/lab/jquery_ipod_style_and_flyout_menus/](http://filamentgroup.com/lab/jquery_ipod_style_and_flyout_menus/)

# python - 使用布尔索引复制或查看 numpy 子数组

> ID：12436983
> 
> 赞同：5
> 
> 时间：2012-09-15T11:31:14.740
> 
> 标签：python, numpy

给定一个 2D numpy 数组，即；

```
import numpy as np

data = np.array([
     [11,12,13],
     [21,22,23],
     [31,32,33],
     [41,42,43],         
     ]) 
```

我需要创建一个新的子数组或根据所需行和列的两个掩码向量修改选定的元素；

```
rows = [False, False, True, True]
cols = [True, True, False] 
```

这样

```
print subArray

# [[31 32]
#  [41 42]] 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-15T11:38:13.407

首先，确保您的`rows`and`cols`实际上是 boolean `ndarrays`，然后使用它们来索引您的数据

```
rows = np.array([False, False, True, True], dtype=bool)
cols = np.array([True, True, False], dtype=bool)
data[rows][:,cols] 
```

*说明* 如果您使用布尔值*列表*而不是*`ndarray`*numpy 将转换`False/True`as`0/1`并将其解释为您想要的行/列的索引。使用 bool`ndarray`时，您实际上是在使用一些特定的 NumPy 机制。

# wpf - 如何获取 WPF ItemsControl 的一般 ItemContainer 类型

> ID：12436992
> 
> 赞同：6
> 
> 时间：2012-09-15T11:32:39.687
> 
> 标签：wpf, silverlight, user-controls, wpf-controls, itemscontrol

我想`ItemContainer`从现有`ItemsControl`对象中确定类型。

```
 var item = control as ItemsControl;
    //HOW to get child container Type? 
```

Blend如何完成的示例：

![在此处输入图像描述](../Images/06020358ddff090fdbb381b417484748.png)

Blend 以某种方式确定当前`TabControl`类型的子项是`TabItem`.

如何在代码中做同样的事情？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-15T11:44:57.333

大多数类都有一个[`StyleTypedPropertyAttribute`](http://msdn.microsoft.com/en-us/library/system.windows.styletypedpropertyattribute.aspx)从`ItemsControl`. 得到一个`Property`等于`"ItemContainerStyle"`。此`StyleTargetType`属性的属性应该为您提供项目类型。

请注意，您必须小心不要从基类中获取属性。此外，虽然这适用于大多数类型（`TabControl`, `ListBox`），但某些类（例如）`DataGrid`根本没有使用此属性进行注释。

这是我用于内置框架类型的列表：

```
var _itemsContainerTypeByContainerType = new Dictionary<Type, Type> {
    { typeof(ComboBox), typeof(ComboBoxItem) },
    { typeof(ContextMenu), typeof(MenuItem) },
    { typeof(DataGrid), typeof(DataGridRow) },
    { typeof(DataGridCellsPresenter), typeof(DataGridCell) },
    { typeof(DataGridColumnHeadersPresenter), typeof(DataGridColumnHeader) },
    { typeof(HeaderedItemsControl), typeof(ContentPresenter) },
    { typeof(ItemsControl), typeof(ContentPresenter) },
    { typeof(ListBox), typeof(ListBoxItem) },
    { typeof(ListView), typeof(ListViewItem) },
    { typeof(Menu), typeof(MenuItem) },
    { typeof(MenuBase), typeof(MenuItem) },
    { typeof(MenuItem), typeof(MenuItem) },
    { typeof(MultiSelector), typeof(ContentPresenter) },
    { typeof(Selector), typeof(ContentPresenter) },
    { typeof(StatusBar), typeof(StatusBarItem) },
    { typeof(TabControl), typeof(TabItem) },
    { typeof(TreeView), typeof(TreeViewItem) },
    { typeof(TreeViewItem), typeof(TreeViewItem) }
}; 
```

# ruby-on-rails - rails root的独角兽错误

> ID：12436993
> 
> 赞同：0
> 
> 时间：2012-09-15T11:32:55.553
> 
> 标签：ruby-on-rails, nginx, unicorn

我正在使用 Rails 3.2.6 创建一个 Rails 应用程序。但是，我想连接 unicorn 和 nginx，但出现以下错误：

```
/path/to/home/.rvm/gems/ruby-1.9.3-p194/gems/unicorn-4.3.1/lib/unicorn/configurator.rb:492:in `working_directory': config_file=unicorn.conf.minimal.rb would not be accessible in working_directory=/path/to/rails/app (ArgumentError) 
```

我认为我的配置文件是错误的，但是如何使用它们呢？

我用这个`unicorn.conf.minimal.rb`

```
working_directory "/path/to/rails/app"
listen "/path/to/app/tmp/sockets/unicorn.sock", :backlog => 64
listen 8080 # by default Unicorn listens on port 8080
worker_processes 2 # this should be >= nr_cpus
pid "/home/paisen/shour_teaser/config/unicorn/pids/unicorn.pid"
stderr_path "/path/to/rails/app/config/unicorn/log/stderr.log"
stdout_path "/path/to/rails/app/config/unicorn/log/stdout.log" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-11T04:18:11.617

看文字`would not be accessible`，可能是权限问题，请查看您的登录用户。

但很可能是配置的结果。

所以你认为`my config files are wrong`，[这](https://gist.github.com/3052776)是一个 Nginx+Unicorn 最佳实践配置指南。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-06T20:30:37.677

我知道这有点陈旧，但我遇到了这个问题，问题是我的 unicorn.rb working_directory 指向了错误的位置。修复后它就开始了。这是在 ubuntu 12.04 服务器上

```
bundle exec unicorn -c config/unicorn.rb -D 
```

# android - 设置描述不起作用

> ID：12436998
> 
> 赞同：1
> 
> 时间：2012-09-15T11:33:45.150
> 
> 标签：android

```
TextView Txt1 = new TextView(this);
Txt1.setText("describe");
Txt1.setClickable(true);
Txt1.setContentDescription("this is description of text");
Txt1.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 16);
Txt1.setTextColor(Color.rgb(187, 88, 15));
Txt1.setPadding(10, 10, 0, 0);
Txt1.setTypeface(Typeface.SERIF,Typeface.BOLD); 
```

我尝试为文本视图设置内容描述，但如果我将光标放在文本上方，它不会显示描述。怎么做

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-15T11:38:55.793

从[文档](http://developer.android.com/reference/android/view/View.html#setContentDescription%28java.lang.CharSequence%29)中，**setContentDescription()**允许您将文本描述与视图相关联。文档声明它主要用于支持可访问性，***所以我认为它是为了支持屏幕阅读器。***

**对于没有文本表示的视图（例如，ImageButton）尤其如此。**