# StackOverflow 问答 10908000-10908999

# android - AutoCompleteTextView 的持续建议

> ID：10908001
> 
> 赞同：1
> 
> 时间：2012-06-06T04:00:26.293
> 
> 标签：android, autocompletetextview

我在我的应用程序中使用 autocompletetextview 并将 4 个项目放在我的 strings.xml 文件中。当我输入一个字母时，dropdowm 列表会根据我输入的字母填充。然而，我需要它做的是，每当我输入一个字母时，strings.xml 中的所有值都必须显示在 autocompletetextview 的下拉列表中。这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T04:13:28.643

您必须[继承 AutoCompleteTextView](http://developer.android.com/reference/android/widget/AutoCompleteTextView.html)以便它不会将 EditText 内的文本发送到过滤器：

```
public class MyAutoCompleteTextView extends AutoCompleteTextView {

    public MyAutoCompleteTextView(Context context) {
        super(context);
    }

    public MyAutoCompleteTextView(Context context, AttributeSet attrs) {
        super(context, attrs);
    }

    public MyAutoCompleteTextView(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
    }

    // Allows you to show options on empty string.
    public boolean enoughToFilter() {
        return true;
    }
    // Override to always send an empty string.
    @Override
    protected void performFiltering(CharSequence text, int keyCode) {
        super.performFiltering("", 0);
    }
} 
```

# php - PHP将函数的输出保存在变量中？

> ID：10908008
> 
> 赞同：0
> 
> 时间：2012-06-06T04:02:45.777
> 
> 标签：php, html

我正在尝试做到这一点：

```
$productlist= $tpl->draw( 'products' ); 
```

稍后我想在其他文件上回显它：

而 $tpl->draw( 'products' ) 例如显示一些输出

```
<div id="productlist>
include("products");
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T04:27:13.703

尝试这个

```
$productlist= $tpl->draw( 'products' ); 
```

//类文件

```
class drawing{

  function draw($type) {

  $str='';

   if($type=='')
    $type='default'

    $ids=$type.'list';

    $str="<div id='$ids'> include('$type') </div>";
    return $str;
 }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:07:27.217

您可以通过使用会话变量或从数据库或平面文件中存储和检索来将数据公开给另一个脚本。

# objective-c - 映射到渐变，在 iOS 中重新着色图像

> ID：10908009
> 
> 赞同：2
> 
> 时间：2012-06-06T04:02:49.030
> 
> 标签：objective-c, ios, image, linear-gradients

将图像颜色重新映射到 iOS 渐变的最有效方法是什么？这在 Image Magic 文档中被定义为“将颜色查找表应用于图像”，通常我认为。例如，是否有一些内置的核心图像可以做到这一点？我知道它可以通过使用 convert -clut 的 ImageMagick 代码来完成，但不确定这是最有效的方法。

将图像重新映射为渐变的结果如下图所示：http: [//owolf.net/uploads/ny.jpg](http://owolf.net/uploads/ny.jpg)

[从fraxel 的评论](https://stackoverflow.com/questions/10050344/opencv-how-to-apply-rainbow-gradient-map-on-an-image?answertab=active#tab-top)中复制的基本公式是：

1.以灰度和RGB打开您的图像

2.将RGB图像转换为HSV（色相、饱和度、值/亮度）色彩空间。这是一个圆柱形空间，色调由极轴上的单个值表示。

3.将色调通道设置为我们已经打开的灰度图像，这是关键的一步。

4.将值和饱和度通道都设置为最大值。

5.转回RGB空间（否则显示不正确）。

# c++ - 在 C++ 中计算两个向量的标量积

> ID：10908012
> 
> 赞同：18
> 
> 时间：2012-06-06T04:03:04.773
> 
> 标签：c++

我正在尝试编写一个带有`double_product(vector<double> a, vector<double> b)`计算两个向量的标量积的函数的程序。标量积是

```
$a_{0}b_{0}+a_{1}b_{1}+...+a_{n-1}b_{n-1}$. 
```

这就是我所拥有的。这是一团糟，但我正在努力！

```
#include <iostream>
#include <vector>

using namespace std;

class Scalar_product
{
    public:
    Scalar_product(vector<double> a, vector<double> b);
};
double scalar_product(vector<double> a, vector<double> b)
{
    double product = 0;
    for (int i = 0; i <= a.size()-1; i++)
        for (int i = 0; i <= b.size()-1; i++)
            product = product + (a[i])*(b[i]);
    return product;
}

int main() {
    cout << product << endl;
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-06-06T04:44:41.233

除非您需要自己执行此操作（例如，编写它是家庭作业），否则您应该真正使用已经编写好的标准算法来完成您想要的操作：

```
#include <iostream>
#include <numeric>
#include <vector>

int main() {
    std::vector<double> a {1, 2, 3};
    std::vector<double> b {4, 5, 6};

    std::cout << "The scalar product is: "
              << std::inner_product(std::begin(a), std::end(a), std::begin(b), 0.0);
    return 0;
} 
```

请注意，虽然`begin(a)`和`end(a)`是 C++11 中的新功能，`std::inner_product`但自 C++98 起就可用。如果您使用的是 C++ 98（或 03），那么编写自己的等价物`begin`并`end`使用数组非常容易：

```
template <class T, size_t N>
T *begin(T (&array)[N]) {
    return array;
}

template <class T, size_t N>
T *end(T (&array)[N]) {
    return array + N;
} 
```

使用这些，先前代码的 C++ 98 版本可能如下所示：

```
int main() {
    double a[] = {1, 2, 3};
    double b[] = {4, 5, 6};

    std::cout << "The scalar product is: "
              << std::inner_product(begin(a), end(a), begin(b), 0.0);
    return 0;
} 
```

请注意，the `begin`and `end`above 仅适用于数组，其中`begin`and`end`在 C++11（及更高版本）中也适用于定义 a`.begin()`和的普通集合类型`.end()`（当然，添加重载来处理这些也是微不足道的） ：

```
template <class Coll>
typename Coll::iterator begin(Coll const& c) { return c.begin(); }

template <class Coll>
typename Coll::iterator end(Coll const& c) { return c.end(); } 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-06-06T04:22:14.030

您可以删除`class`已定义的。你不需要它。

在您的`scalar_product`功能中：

```
double scalar_product(vector<double> a, vector<double> b)
{
    double product = 0;
    for (int i = 0; i <= a.size()-1; i++)
        for (int i = 0; i <= b.size()-1; i++)
            product = product + (a[i])*(b[i]);
    return product;
} 
```

快到了。你不需要2个循环。只有一个。

```
double scalar_product(vector<double> a, vector<double> b)
{
    if( a.size() != b.size() ) // error check
    {
        puts( "Error a's size not equal to b's size" ) ;
        return -1 ;  // not defined
    }

    // compute
    double product = 0;
    for (int i = 0; i <= a.size()-1; i++)
       product += (a[i])*(b[i]); // += means add to product
    return product;
} 
```

现在要*调用*这个函数，你需要在你的 中创建 2 个向量对象，`main()`用值填充它们，（当然是相同数量的值！）然后调用`scalar_product( first_vector_that_you_create, second_vector_object );`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-06T06:40:51.150

虽然已经向您展示了许多可行的解决方案，但让我提出另一个变体来介绍一些可以帮助您编写更好的代码的概念：

*   `class`只需要将数据打包在一起
*   功能应尽快检查其先决条件，这些应记录在案
*   一个函数应该有后置条件，这些应该记录在案
*   代码重用是可维护程序的基石

考虑到这一点：

```
// Takes two vectors of the same size and computes their scalar product
// Returns a positive value
double scalar_product(std::vector<double> const& a, std::vector<double> const& b)
{
    if (a.size() != b.size()) { throw std::runtime_error("different sizes"); }

    return std::inner_product(a.begin(), a.end(), b.begin(), 0.0);
} // scalar_product 
```

您可以决定`inner_product`直接使用该算法，但让我们面对现实吧：

*   它需要四个参数，而不是两个
*   它不检查它的参数是否相同大小

所以最好把它包起来。

*注意：我曾经`const&`向编译器指示不要复制向量。*

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-06T04:38:04.847

这是您应该拥有的代码。我看到你在你的代码中使用了类，你在这里并不需要。让我知道问题是否需要您使用课程。

由于您是新手，因此此代码可能会吓到您。因此，我将尝试解释这一点。在代码中查找注释以了解正在执行的操作并询问您是否不理解。

```
//Scalar.cpp
#include <stdlib.h>
#include <iostream>
#include <vector>

using namespace std;

/**
This function returns the scalar product of two vectors "a" and "b"
*/
double scalar_product(vector<double> a, vector<double> b)
{
    //In C++, you should declare every variable before you use it. So, you declare product and initialize it to 0.
    double product = 0;
    //Here you check whether the two vectors are of equal size. If they are not then the vectors cannot be multiplied for scalar product.
    if(a.size()!=b.size()){
        cout << "Vectors are not of the same size and hence the scalar product cannot be calculated" << endl;
        return -1;  //Note: This -1 is not the answer, but just a number indicating that the product is not possible. Some pair of vectors might actually have a -1, but in that case you will not see the error above.
    }

    //you loop through the vectors. As bobo also pointed you do not need two loops.
    for (int i = 0; i < a.size(); i++)
    {
        product = product + a[i]*b[i];
    }

    //finally you return the product
    return product;
}

 //This is your main function that will be executed before anything else.
int main() {
    //you declare two vectors "veca" and "vecb" of length 2 each
    vector<double> veca(2);
    vector<double> vecb(2);

    //put some random values into the vectors
    veca[0] = 1.5;
    veca[1] = .7;
    vecb[0] = 1.0;
    vecb[1] = .7;

    //This is important! You called the function you just defined above with the two parameters as "veca" and "vecb". I hope this cout is simple!
    cout << scalar_product(veca,vecb) << endl;
} 
```

如果您使用的是 IDE，则只需编译并运行即可。如果您在带有 g++ 编译器的基于 Unix 的系统上使用命令行，您将执行以下操作（其中 Scalar.cpp 是包含代码的文件）：

```
g++ Scalar.cpp -o scalar 
```

要运行它，只需键入

```
./scalar 
```

您应该得到`1.99`上述程序的输出。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T04:28:25.133

您似乎想专门为向量创建一个类。我在示例中创建的类是针对 3 维向量量身定制的，但如果需要，您可以将其更改为另一个。该类包含 i、j、k，但也可以基于其他 MathVector 进行标量积。另一个向量通过 C++ 引用传入。很难推断出这个问题是什么，但我认为这可能会回答它。

```
#include <iostream>

using namespace std;

class MathVector
{
private:
    double i,j,k;
public:
    MathVector(double i,double j,double k)
    {
        this->i=i;
        this->j=j;
        this->k=k;
    }
    double getI(){return i;}
    double getJ(){return j;}
    double getK(){return k;}
    double scalar(MathVector &other)
    {
        return (i*other.getI())+(j*other.getJ())+(k*other.getK());
    }
};

int main(int argc, char **argv)
{
    MathVector a(1,2,5), b(2,4,1);

    cout << a.scalar(b) << endl;

    return 0;
} 
```

# sql - 根据另一个字段选择 SQL 中具有该记录最小值的记录

> ID：10908014
> 
> 赞同：2
> 
> 时间：2012-06-06T04:03:17.267
> 
> 标签：sql

我有一组数据，虽然它连接的字段和表的数量非常复杂，但我相信我可以使用此处所需的字段/表来提炼我的问题，以说明这个特定问题。

我有三个表：ClientData、Sources、Prices

这是我当前查询在选择最小值之前的样子：

```
select c.RecordID, c.Description, s.Source, p.Price, p.Type, p.Weight
from ClientData c
inner join Sources s ON c.RecordID = s.RecordID
inner join Prices p ON s.SourceID = p.SourceID 
```

这会产生以下结果：

```
RecordID   Description        Source     Price  Type   Weight
=============================================================
001002003  ABC Common Stock   Vendor 1  104.5   Close  1
001002003  ABC Common Stock   Vendor 1  103     Bid    2
001002003  ABC Common Stock   Vendor 2  106     Close  1
001002003  ABC Common Stock   Vendor 2  100     Unknwn 0
111222333  DEF Preferred Stk  Vendor 3  80      Bid    2
111222333  DEF Preferred Stk  Vendor 3  82      Mid    3
111222333  DEF Preferred Stk  Vendor 2  81      Ask    4 
```

我要做的是显示属于同一记录的价格，该记录具有该记录的最小非零权重（因此权重必须大于 0，但它必须是剩余权重中的最小值）。因此，在上面的示例中，对于记录 001002003，我想显示供应商 1 和供应商 2 的收盘价，因为它们的权重均为 1（该记录的最小权重）。但是对于 111222333，我只想显示供应商 3 的出价，因为它的权重 2 是该记录的最小值，非零。我想要的结果是：

```
RecordID   Description        Source     Price  Type   Weight
=============================================================
001002003  ABC Common Stock   Vendor 1  104.5   Close  1
001002003  ABC Common Stock   Vendor 2  106     Close  1
111222333  DEF Preferred Stk  Vendor 3  80      Bid    2 
```

关于如何实现这一目标的任何想法？

编辑：这适用于 SQL Server Compact Edition。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-13T00:31:24.163

我能够提出解决方案，所以我想我会分享它：

```
SELECT x.RecordID, VendorSource, VendorPrice
FROM ClientData x
INNER JOIN Sources s ON x.RecordID = s.RecordID
INNER JOIN Prices p ON s.SourceID = p.SourceID
INNER JOIN (SELECT c.RecordID, MIN(Weight) min_weight
            FROM ClientData c
            INNER JOIN Sources s ON c.RecordID = s.RecordID
            INNER JOIN Prices p ON s.SourceID = p.SourceID
            WHERE Weight != 0 
            GROUP BY c.RecordID) w ON x.RecordID = w.RecordID
WHERE p.Weight = w.min_weight 
```

这允许在派生表中的 RecordID 级别上填充最小权重，因此每个 RecordID 有 1 个权重。

对于所有给出答案的人，谢谢；我感谢提供的帮助和任何指导。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:26:20.377

您可以将 RANK() 与 RecordId 上的分区一起使用，并增加权重来“评价”每一行（在完全排除零权重之后），然后简单地过滤掉排名靠前的行。CTE 仅用于保持第二个查询简单 + 清晰

```
;WITH MyRecords AS
(
    -- Your source query goes here
    select c.RecordID, c.Description, s.Source, p.Price, p.Type, p.Weight
    from ClientData c
    inner join Sources s ON c.RecordID = s.RecordID
    inner join Prices p ON s.SourceID = p.SourceID
)
SELECT RecordID, [Description], [Source], [Price], [Type], [Weight]
FROM
(
    SELECT RecordID, [Description], [Source], [Price], [Type], [Weight], 
           -- With ranking, the lower the weight the better
           Rnk = RANK() OVER (PARTITION BY RecordId ORDER BY [Weight] ASC)
    FROM MyRecords
    -- But exclude Weight 0 entirely
    WHERE [Weight] > 0
) RankedRecords
-- We just want the top ranked records, with ties
WHERE Rnk = 1 
```

**编辑**帖子后添加的 CE 约束。请参阅[如何在 Sql Server Compact Edition SELECT 语句中复制 Rank 函数？](https://stackoverflow.com/questions/3026372/how-would-i-duplicate-the-rank-function-in-a-sql-server-compact-edition-select-s)关于如何在 CE 中模拟 RANK()。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T04:15:55.160

我认为你需要稍微改变你的结构才能真正做到你想要的那样工作。基本上，您拥有价格记录的方式是针对 Source 而不是针对似乎在 ClientData 表中的 Item 设置的。通过从 Sources 表中删除 c.Record 编号列并将其放入 Prices 表中，您应该获得我认为您需要的正确的 One(ClientData) to many (Prices) 和 One(ClientData) to many(Sources) 关系.

```
select c.RecordID, c.Description, s.Source, p.Price, p.Type, p.Weight
from ClientData c
inner join Prices p ON c.RecordID = p.RecordID
inner join Sources s ON s.SourceID = p.SourceID
   AND p.Weight> 0
LEFT OUTER JOIN #Prices p2 ON c.RecordID = p2.RecordID
   AND p2.PriceID <> p.priceID
   AND p2.Weight > 0
   AND p2.Weight < p.Weight
WHERE p2.SourceID IS NULL 
```

如果您进行了上面指定的更改，则此查询将返回您正在查找的确切数据。

# java - 如何在必须使用 Socket 的列表中插入最多五个元素？

> ID：10908023
> 
> 赞同：-2
> 
> 时间：2012-06-06T04:04:11.657
> 
> 标签：java

下面的代码正在生成错误：

> 线程类型不匹配；无法将字符串形式转换为集合

为什么会这样，我该如何修复我的代码？

```
private Set<String> LISTA_DE_NOMES = new HashSet<String>();
private Set<String>nomeCliente;

public boolean armazena(Set<String> newName){
     if (nomeCliente.contains(newName)){
             return false;
     } 
     return nomeCliente.add(newName);
}

Usando conjunto !!!
 public synchronized boolean armazena(Set<String>newName){
        if (LISTA_DE_NOMES.contains(nomeCliente)){
                return false;
        } 
        return LISTA_DE_NOMES.addAll(nomeCliente);
   }
    public synchronized boolean canAddNewUser(Set<String>newName){
        return  (LISTA_DE_NOMES.size()<5);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T04:09:26.080

的代码`HashSet.contains()`是：

```
 public boolean contains(Object o) { 
return map.containsKey(o);
  } 
```

您正在传递给您的`LISTA_DE_NOMES`（即 a `HashSet<String>`） a `Set`。调用`containsKey`期待一个`String`.

# django - 带有 Google App Engine 的 Django-nonrel：缺少 AutoloadMiddelware 类？

> ID：10908024
> 
> 赞同：0
> 
> 时间：2012-06-06T04:04:22.000
> 
> 标签：django, google-app-engine, django-nonrel, djangoappengine

我刚刚使用我使用 Django 构建的 Google App Engine 部署了一个网站。但是，每当我尝试实时查看我的网站时，都会收到 500 错误，当我进入 App Engine 仪表板并检查日志时，我会看到以下错误：

```
"ImproperlyConfigured: Middleware module "autoload.middleware" does 
not define a "AutoloadMiddelware" class" 
```

但这不太有意义，因为我检查了项目中的 autoload 文件夹，里面有一个 middeware.py 文件，它确实定义了一个 AutoloadMiddleware 类，如下所示：

```
from django.utils.importlib import import_module
from django.conf import settings

# load all models.py to ensure signal handling installation or index loading
# of some apps 
for app in settings.INSTALLED_APPS:
    try:
        import_module('%s.models' % (app))
    except ImportError:
        pass

class AutoloadMiddleware(object):
    """Empty because the import above already does everything for us"""
    pass 
```

可能是导入有问题吗？除了我的项目文件夹中的那些，我的部署是否可能没有上传必要的 django 模块？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:08:48.947

确保将其添加到您的 settings.py

```
MIDDLEWARE_CLASSES = (
    # This loads the index definitions, so it has to come first
    'autoload.middleware.AutoloadMiddleware',

    'django.middleware.common.CommonMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
) 
```

# python - 在 Mac 上的 localhost 环境中运行的 Google App Engine

> ID：10908029
> 
> 赞同：0
> 
> 时间：2012-06-06T04:05:17.717
> 
> 标签：python, google-app-engine, localhost

我对此进行了大量研究，但找不到针对我的具体问题的答案，尽管似乎很多人都受到类似问题的困扰。

我是 Google App Engine 的新手，刚刚创建了一个帐户。我下载了适用于 Python 2.7 的 SDK。我部署了 Hello, World! 到提供的appspot.com 地址，它打印hello world 就好了。当我尝试在本地主机中运行它时，它会出现 500 服务器错误。

我尝试创建几个不同的应用程序并弄乱端口设置、app.yaml 文件和 main.py 文件。仍然无法让它工作。

我在 Mac 上运行，我下载并安装了 Python 2.7 以确保我拥有最新版本。我也是 Python 和 App Engine 的新手。我来自 PHP 和 XAMPP 的世界。

有人有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-31T16:22:01.187

您应该尝试使用 Google 链接的 Python 2.7.4 版本，并运行使用与 GAE 相同的模块和选项编译的 PHP 版本。

这是一个包含步骤的视频 [http://www.youtube.com/watch?v=IFuNNddWQIo](http://www.youtube.com/watch?v=IFuNNddWQIo)

# java - Hibernate自定义约束验证器，如何显式设置propertyPath？

> ID：10908030
> 
> 赞同：2
> 
> 时间：2012-06-06T04:05:22.477
> 
> 标签：java, hibernate, nhibernate-validator

我的自定义类通过以下方式实现：

```
@RequiredIfSet.List({
    @RequiredIfSet(field = "isFillingOutForSomeoneElse", dependentField = "reporterName", message = "may not be null"),
}) 
```

当我遍历我的 ConstraintViolations 并通过 DTO 和 ajax 将其鞭打到前端时，我在一个小字符串 [] 中有 getMessage() 和 getPropertyPath()。

一切正常，但 propertyPath 不是由此设置的，因为它不在字段上，它是一个列表，我该如何设置它，或者获取字段名称以发回？一直让我发疯，尝试了一些解决方法，也请注意，这里是我循环的地方：

```
public static <T> EntityValidationDTO GetEntityValidationDTO(Set<ConstraintViolation<T>> cv){
        List<String[]> invalidFields = new ArrayList<String[]>();
        Iterator<ConstraintViolation<T>> iterator = cv.iterator();
        while(iterator.hasNext()) {
            ConstraintViolation<T> i = iterator.next();
            String message = i.getMessage();
            String property = i.getPropertyPath().toString();
            invalidFields.add(new String[] { property, message });
        }
        EntityValidationDTO EVDTO = new EntityValidationDTO();
        EVDTO.setStatus("fail");
        EVDTO.setInvalidFields(invalidFields);
        return EVDTO;
    } 
```

# cytoscape-web - 如何向 cytoscpae 图添加更多节点

> ID：10908036
> 
> 赞同：0
> 
> 时间：2012-06-06T04:06:15.957
> 
> 标签：cytoscape-web

您好我正在尝试将 cytoscape-web 1 应用程序转换为 cytoscape-web 2 应用程序。

我有一个简单的例子，它使用一组固定的元素创建为元素：对 cytoscape web 的初始调用的一部分。然后我想向现有图表添加更多元素。我尝试过使用添加和加载。

add 什么都不做，没有失败，但也没有改变我现有的图表

加载获取和错误：

```
[19:29:52.005] json is undefined @ http://127.0.0.1:8020/LifeScience/jquery.cytoscapeweb.all.js:1918 
```

代码很容易重现

```
<!DOCTYPE html>

<html>
<head>
    <title>Test Cyto</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            font-family: Helvetica, Arial, Verdana, sans-serif;
        }
        html, body {
            height: 100%;
            width: 100%;
            padding: 0;
            margin: 0;
        }
        body {
            line-height: 1.5;
            color: #000000;
            font-size: 14px;
        }
        /* The Cytoscape Web container must have its dimensions set. */
        #cy {
            width: 100%;
            height: 50%;
        }
        #note {
            width: 100%;
            height: 25%;
            background-color: #f0f0f0;
            overflow: auto;
        }
        p {
            padding: 0 0.5em;
            margin: 0;
        }
        p:first-child {
            padding-top: 0.5em;
        }
    </style>

</head>

<body>

    <p id="demo">
        Test Demo
    </p>
    <button id="runQ2">
        Do display
    </button>

    <div>
        <p>
            Graph Image
        </p>
    </div>

    <div id="cy" style="width:1200px;height:500px;">
    </div>

    <div id="note">
    </div>
</body>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js">

    </script>

    <script type="text/javascript" src="jquery.cytoscapeweb.all.js">

    </script>

    <script type="text/javascript">

$(document).ready(function() {
$("button#runQ2").click(function() {
    draw_graph();
});
});

function draw_graph() {

$("#cy").cytoscapeweb({

    elements : {
        nodes : [{
            data : {
                id : "a"
            }
        }, {
            data : {
                id : "b"
            }
        }, {
            data : {
                id : "c"
            }
        }],

        edges : [{
            data : {
                id : "ab",
                source : "a",
                target : "b"
            }
        }, {
            data : {
                id : "bc",
                source : "b",
                target : "c"
            }
        }, {
            data : {
                id : "ca",
                source : "c",
                target : "a"
            }
        }, {
            data : {
                id : "ac",
                source : "a",
                target : "c"
            }
        }]
    },
    ready : function(cth) {
        //cth.add({ group: "nodes", data: { id: "n0" } });
        cth.load([{
            data : {
                id : "n1"
            },
            group : "nodes"
        }, {
            data : {
                id : "n2"
            },
            group : "nodes"
        }, {
            data : {
                id : "e1",
                source : "n1",
                target : "n2"
            },
            group : "edges"
        }]);
        alert("in ready function" + graphArray);
    }
})
}
</script>       
</html> 
```

非常感谢对我做错了什么或我的例子更正的任何意见。

非常感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T15:38:45.740

(1)`cy.load()`加载一个新图表，替换已经存在的图表。（2）`cy.add()`添加元素，但是你的元素不指定任何位置是无法显示的。

# html - 如何在包含上标的列表中垂直对齐文本？

> ID：10908037
> 
> 赞同：0
> 
> 时间：2012-06-06T04:06:31.820
> 
> 标签：html, css

我想在包含*上标的*项目列表中对齐文本，以使主文本在垂直方向上等间距：

HTML：

```
<ul>
 <li>Shape: Rectangle</li>
 <li>Length: 5m</li>
 <li>Breadth: 3m</li>
 <li>Area: 15m<sup>2</sup></li>
 <li>Color: Blue</li>
</ul> 
```

我尝试修改 CSS 中的、`display`和属性。但似乎没有一个工作。任何人都可以帮助我吗？谢谢。`height``line-height``vertical-align`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:55:41.400

问题的原因是[上标往往会使行间距不均匀](http://www.cs.tut.fi/~jkorpela/www/linespacing.html)。设置`line-height`为足够大的值（例如 1.3）可能会有所帮助。但总的来说，最好避免使用该`sup`元素并构造自己的上标元素，使用`span`和样式创建上标使用相对定位（这不会影响行间距，不像由 引起的垂直对齐`sup`）。

在这种特定情况下，有一个更简单和更好的方法：代替`<sup>2</sup>`，使用`&sup2;`，或直接输入上标两个字符“²”（在 Windows 上，您可以使用 Alt 0178 来做到这一点）。作为一个普通字符，它不会影响行距，并且由排版师设计，可以预期它看起来比使用 HTML 或 CSS 创建的任何上标 2 更好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:50:11.363

这可能会对您有所帮助：http: [//jsfiddle.net/Wexcode/TgqQY/](http://jsfiddle.net/Wexcode/TgqQY/)

HTML：

```
<ul>
    <li><span></span><span>Shape: Rectangle<span></li>
    <li><span></span><span>Length: 5m</span></li>
    <li><span></span><span>Breadth: 3m</span></li>
    <li><span></span><span>Area: 15m<sup>2</sup></span></li>
    <li><span></span><span>Color:</span> <span>Blue</span></li>
</ul>​ 
```

CSS：

```
ul { list-style: none; }
li { background: red; height: 50px; margin: 3px 0; padding: 5px 0; }
li span:first-child { height: 100%; }
li span { vertical-align: middle; display: inline-block; } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-17T15:39:45.133

根据格式，您可以在调用`<sup>`标签之前尝试降低字体大小：

> ... `<br/>`<li>面积：15m<font
> 
> size=-1><sup>2</sup></font></li>
> 
> ...`<p/>`

仍然有轻微的间距差距，但并不是很明显。

# apache-flex - 3.x SDK 中缺少 Flex 子应用和 MarhsallingSupport

> ID：10908039
> 
> 赞同：1
> 
> 时间：2012-06-06T04:06:41.610
> 
> 标签：apache-flex

我正在考虑在 flex 中使用子应用程序来启用多版本编译。

具体来说，我希望有一个加载 Flex 3.6 子应用程序的 Flex 4.x 主机应用程序。

文档说明这是可能的（以及子应用程序的目的）。但是他们指定了这一点：

> 在编译每种类型的应用程序时，您应该将 MarshallingSupport 类包含到主应用程序和子应用程序中。您可以使用包含编译器参数执行此操作，如以下示例所示：
> 
> `-includes=mx.managers.systemClasses.MarshallingSupport`

但是，据我所知，`MarhsallingSupport`直到 4.x 版本才包含在内。

查看 3.5.0.12683 和 3.4.1.10084的`mx.managers.systemClasses`包显示没有参考`MarshallingSupport`（请参阅此处和[此处的](http://opensource.adobe.com/svn/opensource/flex/sdk/tags/3.4.1.10084/frameworks/projects/framework/src/mx/managers/systemClasses/)[svn](http://opensource.adobe.com/svn/opensource/flex/sdk/tags/3.5.0.12683/frameworks/projects/framework/src/mx/managers/systemClasses/)）

对于 3.6a 也是如此（可以下载 SDK，但找不到源代码）。

我错过了什么吗？当它不可用时，我应该如何将此类包含在 3.x 子应用程序中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T09:41:17.170

请参阅[http://help.adobe.com/en_US/enterpriseplatform/10.0/AEPDeveloperGuide/WS8cbf8723eeed7311-4cca458e1328d74a115-7fff.html](http://help.adobe.com/en_US/enterpriseplatform/10.0/AEPDeveloperGuide/WS8cbf8723eeed7311-4cca458e1328d74a115-7fff.html)

> 像模块包一样，没有特殊的编译要求。您可以以任何方便的方式构建应用程序包 SWF。但是请注意，应用程序包必须包含编组支持。
> 
> **这对于 Flex 3 是自动的**，但对于 Flex 4，您必须强制在 SWF 中包含 MarshallingSupport 类。
> 
> 对于 Flex 4，这可以通过在应用程序代码中引用 MarshallingSupport 类来完成（如前面的示例所示）。您还可以使用以下选项在 mxmlc 命令行上显式强制包含 MarshallingSupport 类：
> 
> ```
> -includes+=mx.managers.systemClasses.MarshallingSupport 
> ```

# android - PagerAdapter 的方法 instantiateItem(ViewGroup container, int position) 有些混淆

> ID：10908041
> 
> 赞同：13
> 
> 时间：2012-06-06T04:06:51.337
> 
> 标签：android, adapter, android-pageradapter

```
public Object instantiateItem(ViewGroup container, int position) {
      ImageView view = new ImageView();
      container.addView(view);
      return view;
} 
```

我阅读了一些 PagerAdapter 的示例代码，它们都编写了 addview 方法。以上是一些简单的代码，我知道'return view'用于返回视图进行显示，但是container.addView（view）是做什么的？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-06-06T04:12:52.273

将视图添加到容器实际上是它出现在屏幕上的原因。返回的对象`instantiateItem`只是一个键/标识符；`Fragment`碰巧的是，如果您不使用诸如 a 之类的东西来管理页面的视图，那么为此目的使用实际视图往往会很方便。（有关`FragmentPagerAdapter`示例，请参见源代码。）

PagerAdapter 方法`isViewFromObject`帮助分页器知道哪个视图属于哪个键。如果您只是将视图作为键对象返回，则可以简单地实现此方法：

```
public boolean isViewFromObject(View view, Object object) {
    return view == object;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T04:21:32.680

**根据评论包含在 PageAdapter 的源代码中**

```
public abstract Object instantiateItem(View container, int position); 
```

为给定位置创建页面。适配器负责将视图添加到此处给出的容器中，尽管它只必须确保在它返回时完成此操作

> **Container**将在其中显示页面的包含视图。
> 
> **Position** 要实例化的页面位置。
> 
> **返回**一个表示新页面的对象。这不需要是视图，但可以是页面的其他容器。

# java - JDK/JRE 安装程序无法在 x64 上运行

> ID：10908044
> 
> 赞同：17
> 
> 时间：2012-06-06T04:07:10.830
> 
> 标签：java, installation, 64-bit

所以几周前我开始在我的笔记本电脑上开发 Java 应用程序，从那时起我一直在我的笔记本电脑上这样做......但是现在当我尝试在我的电脑上安装 JDK 时，它没有安装（如，我双击 JDK[version].exe 并且安装向导甚至没有出现）。-- 是的，我已经安装了 JRE。我非常困惑和沮丧......如果有人能告诉我我做错了什么，我将非常感激（而且，是的，我已经尝试过重新安装 JRE）。

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2016-12-20T15:50:41.603

我遇到了同样的问题，尝试在 Windows 7 x64 上安装 x64 和 i586 版本的 JDK 8u111 和 8u112，但似乎没有任何效果。

按照 Felix Christi 的建议，检查*控制面板 > 管理工具 > 事件查看器 > Windows 日志 > 应用程序*表明 Windows 安装程序实际上已完成所有安装。

所以我去了*Program Files\Java*，发现所有 4 个 JDK 安装都很好地并排放置，我什至没有收到一条确认消息。您是否检查过在您的情况下安装确实失败了？

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T04:19:57.547

首先，请检查您的 PC 操作系统。如果是 Windows（这就是我猜测的关于向导的问题详细信息），请尝试查看系统信息（检查 64 位）。如果不是，请尝试安装 x86（32 位）JDK。

如果它是 x64（64 位），则尝试通过右键单击以“以管理员身份运行”选项运行。

如果无论哪种方式都不起作用，请从控制面板 -> 管理工具 -> 事件查看器检查系统日志，看看安装时发生了什么。

在最坏的情况下，为了解决问题，只需安装 32 位 JDK，它应该可以在 64 位操作系统中正常工作。

毕竟，如果您安装成功，请按照此链接配置JDK

[一步一步的JDK](http://www.javatutorialhub.com/install-java.html)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-10-27T17:26:06.717

如果在您启动 JDK 安装程序时没有显示任何内容，则可能是在执行**静默安装**。您的安装程序是否静默运行由 Java 的[System Runtime Configuration File](https://docs.oracle.com/javase/8/docs/technotes/guides/install/config.html#system_runtime_config_file)控制。在 Windows 上，可以在此处找到该文件：

> Windows：%ALLUSERSPROFILE%\Oracle\Java\java.settings.cfg
> 
> 环境变量 %ALLUSERSPROFILE% 的值通常是 C:\ProgramData。

将该行更改`INSTALL_SILENT=Enable`为`INSTALL_SILENT=Disable`，然后尝试再次启动您的安装程序。安装向导应按预期显示。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-01-24T04:29:23.233

我遇到了同样的问题，尝试在 Windows 7 x64 上安装 x64 和 i586 版本的 JDK 8u111 和 8u112，但似乎没有任何效果。

按照 Felix Christi 的建议，检查控制面板 > 管理工具 > 事件查看器 > Windows 日志 > 应用程序表明 Windows 安装程序实际上已完成所有安装。

所以我去了 Program Files\Java，发现所有 4 个 JDK 安装都很好地并排放置，我什至没有收到一条确认消息。您是否检查过在您的情况下安装确实失败了？

--- 我遇到了与上述相同的问题...似乎 jdk 正在后台安装...这令人沮丧，因为我正在等待 jdk 窗口询问我安装它的路径...我想将它安装在我的 C 驱动器上的单独文件夹中。我已经设置了环境变量，但我无法弄清楚出了什么问题......

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-04-12T11:37:26.753

我有同样的问题，最终我用下一个方法解决了。我需要做的就是在 Windows 设置中关闭 Smart Screen

如果您不熟悉智能屏幕您可以尝试在谷歌中阅读它是什么，我还附上了我的设置截图。现在一切正常

[![在此处输入图像描述](../Images/fdd4e5b5ad60c434da53ff3724e4fb2e.png)](https://i.stack.imgur.com/vO8qM.png)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-09-01T01:34:36.723

就我而言，结果是我的磁盘几乎已满（剩余 500MB 可用空间）。安装程序（8u141）将直接退出而没有任何消息，并且我在事件查看器中没有错误。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-10-17T07:57:17.577

在我的情况下，jdk1.8.0_144 是从分布式 jdk-8u144-windows-x64.exe 静默安装的。这是一个惊喜。（操作系统视窗 7 64）

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2018-04-24T10:09:46.413

我有这个问题。什么也没发生，只是在进程中看到了安装程序文件。帮助我的步骤：

1.  将安装程序移至 C:\ 目录；
2.  关闭 DrWeb；
3.  通过 msconfig 打开自动启动 Java。

视窗 7 x64

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2012-06-06T04:10:59.313

[从这里](http://www.oracle.com/technetwork/java/javase/downloads/jdk-6u25-download-346242.html)下载 JDK 。请在下载时检查与您的 PC 匹配的**产品/文件描述。**

* * *

## 回答 #10

> 赞同：-3
> 
> 时间：2018-02-14T23:25:02.873

在我的情况下，我去了事件查看器，我收到了这条消息，当我尝试从下载文件夹运行安装程序时收到同样的消息

![在此处输入图像描述](../Images/638cbbd4b7c451949f87b4ec906941ce.png)

# mysql - 将股票投资组合存储在关系数据库中？

> ID：10908045
> 
> 赞同：0
> 
> 时间：2012-06-06T04:07:18.467
> 
> 标签：mysql, database, relational-database

自大学（10 多年前）以来，我没有做过任何主要的数据库工作，并且不确定在设计数据库以保存投资组合时采用的最佳方法。

投资组合中的股票数量是固定的（例如 30 只），但我有很多投资组合。起初我以为我会创建一个唯一的 ID，即主键，然后为每个股票名称和重量创建一个列（我不需要存储有关股票的信息，例如价格，如果需要我可以使用名称来查看该信息了）。我不确定这是最好的方法还是有更好的设计？

我有两张表，一张有当前的投资组合列表，另一张有历史版本（格式相同），我将逐行逐项比较它们以查找相似之处和其他分类。最初我想只是有一个唯一的ID，然后将股票信息的所有文本{IBM：3，goog：10，c：2}，但我不确定解析文本是否有效或者数据库是否有效可以做一些事情使解析变得不必要。

我有点新，正在审查我的 SQL 书籍，但如果有人有任何具体的见解或任何我应该查找/阅读的内容，那就太好了。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-06-06T05:42:01.197

你为什么要保持投资组合的规模不变。我的意思是你可以拥有一个股票数量更少的投资组合。

股票 => (stockId, weight, name, details...) 投资组合 ==> (entity_id, version_id, stock_id,...) 版本 ==> (version_id, user_id, createddate, last_updated,...) user == > (user_id, user_details...)

说明 :: 可以有很多用户，每个用户可以有多个版本的投资组合，每个版本可以映射多个股票。

# loops - 如何根据必须与返回值在同一行中指定的范围匹配的百分比来查找列值？

> ID：10908049
> 
> 赞同：0
> 
> 时间：2012-06-06T04:08:21.313
> 
> 标签：loops, if-statement, google-apps, google-sheets

我是一名讲师，正在尝试构建一个迷你评分电子表格，该电子表格根据给学生的分数将计算描述他们成绩的百分比值，我现在想为 Sheet1 中的学生列分配适当的成绩，以便它读取

```
50%
C- 
```

我在 Sheet2 上创建了一个范围标识符和等级文本值的矩阵，如下所示：

```
 A     B     C
1   A++   95    100
2   A+    90    94.5
3   A     85    89.5
4   A-    80    84.5
5   B+    75    79.5
6   B     70    74.5
7   B-    65    69.5
8   C+    60    64.5
9   C     55    59.5
10  C-    50    54.5
11  D      0    49.5 
```

**A 列**保存描述等级的字符串， **B 列**是范围的开始， **C 列**是给定等级范围的结束。

在 Sheet1 上，我运行了所有基本计算，这些计算返回一个百分比值来匹配这个矩阵，让我们现在调用这个值的字段`Sheet1!A1`。

我本质上想要做的是遍历 Sheet2 的第 1-11 行并执行以下操作：

```
IF ( Sheet1!A1 >= Sheet2!B1 AND Sheet1!A1 <= Sheet2!C1 ) THEN RETURN Sheet2!A1 
```

这可以做到吗？我已经阅读了所有支持文档，但还没有找到一种方法来做到这一点。

任何帮助将非常感激。

非常感谢您的阅读，

詹尼斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:37:09.040

Anand Varma 刚刚用解决方案回复了 Google 论坛上发布的同一个问题，因此为了完整起见，我也会在这里发布他的答案。

[谷歌论坛上的原始答案在这里。](http://productforums.google.com/forum/#!starred/docs/7ZJizpJJhNM)

解决方案是使用该`INDEX`函数及其`MATCH`内部的函数：

```
=INDEX( Sheet2!$A$1:Sheet2!$A$11, MATCH( C41, Sheet2!$C$1:Sheet2!$C$11, -1 ) ) 
```

`C41`指包含要匹配的数字源值的单元格。

谢谢阿南德。

# android - 当屏幕超时时 WebView 也消失了

> ID：10908051
> 
> 赞同：0
> 
> 时间：2012-06-06T04:08:51.920
> 
> 标签：android

我想找到一个解决方案，让我的 WebView 在屏幕超时时仍然存在。

我是使用 WebView 播放音乐的程序，如果屏幕还活着，但当屏幕超时时，我在 WebView 中的音乐也消失了。

# 这是我的代码：

```
public class WebViewActivity extends Activity {

WebView mWebView;
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.playlist);

    mWebView = (WebView) findViewById(R.id.webView1);
    mWebView.setWebViewClient(new HelloWebViewClient());
    mWebView.getSettings().setJavaScriptEnabled(true);
    mWebView.getSettings().setPluginsEnabled(true);
    mWebView.getSettings().setAllowFileAccess(true);
    mWebView.loadUrl("http://mp3skull.com/usher.html");
}
private class HelloWebViewClient extends WebViewClient {
    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        view.loadUrl(url);
        return true;
    }
}
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if ((keyCode == KeyEvent.KEYCODE_BACK) && mWebView.canGoBack()) {
        mWebView.goBack();
        return true;
    }
    return super.onKeyDown(keyCode, event);
}
@Override
public void onPause()
{
    mWebView.setVisibility(View.GONE);
    mWebView.destroy();
    super.onPause();
}
 } 
```

我很害羞地告诉你我试图在一周内找到这个解决方案但仍然无法完成:(。

希望你给我解决这个问题。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T04:12:07.230

删除类中的 onPause() 方法，如下面的代码：

```
public class WebViewActivity extends Activity {

WebView mWebView;
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.playlist);

    mWebView = (WebView) findViewById(R.id.webView1);
    mWebView.setWebViewClient(new HelloWebViewClient());
    mWebView.getSettings().setJavaScriptEnabled(true);
    mWebView.getSettings().setPluginsEnabled(true);
    mWebView.getSettings().setAllowFileAccess(true);
    mWebView.loadUrl("http://mp3skull.com/usher.html");
}
private class HelloWebViewClient extends WebViewClient {
    @Override
    public boolean shouldOverrideUrlLoading(WebView view, String url) {
        view.loadUrl(url);
        return true;
    }
}
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
    if ((keyCode == KeyEvent.KEYCODE_BACK) && mWebView.canGoBack()) {
        mWebView.goBack();
        return true;
    }
    return super.onKeyDown(keyCode, event);
}
} 
```

# php - PHP - 在圆的圆周上设置 div 点

> ID：10908055
> 
> 赞同：0
> 
> 时间：2012-06-06T04:09:34.160
> 
> 标签：php, math, geometry

这是概要......我有一个圆圈，我有一些我想在它周围“弯曲”的 div。就像一个圆桌，周围有不同数量的椅子。

我已经跑了一些东西，我的大脑在这个时候没有动弹，真的很想把它敲出来这样我就可以睡觉了。任何人？

```
 <?
                    $r=45; //px     
                    for($x=0; $x<$gu; $x++){
                        $deg = 360/$gu*$x;
                        $rad = deg2rad($deg);
                        $xx = (cos($rad) * $r);
                        $yy = (sin($rad) * $r);
                        ?>
                            <b style="left:<?=round($r+$xx)?>px; top:<?=round($r+$yy)?>px"></b>
                        <?
                    }
                ?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T04:13:17.300

*   sin(angle) × radius 会得到项目的 Y 坐标，而 cos(angle) × radius 会得到项目的 X 坐标，两者都相对于圆心。

*   您可以通过将 360° 除以`<div>`s 的数量来获得角度。

*   您可以通过乘以 π/180 将度数转换为弧度。

# android - 为什么在onDraw()方法中使用同一个paint实例来绘制两个不同宽度和高度的位图。paint看起来不一样

> ID：10908057
> 
> 赞同：1
> 
> 时间：2012-06-06T04:09:41.177
> 
> 标签：android

我有两个位图将在画布上绘图。绘制第一个和第二个我使用相同的 Paint。Paint strokeWidth 为 6。但它们看起来不同。油漆会被划伤吗？也许更大的位图绘画笔画宽度会变大？我不确定。

# python - 我在为我的金字塔项目填充表格时遇到问题

> ID：10908059
> 
> 赞同：0
> 
> 时间：2012-06-06T04:09:48.243
> 
> 标签：python, postgresql, sqlalchemy, pyramid

所以我最近从 sqlite 更改为 postgres，以便我可以将我的网站推送到 heroku。我遇到的问题是表格现在乱七八糟地建起来了？

```
class Data(Base):
    __tablename__ = 'data'
    id = Column(Integer, autoincrement=True, primary_key=True)
    data_type = Column(Integer, primary_key=True, unique=True)
    value = Column(Text, primary_key=True, unique=True)
    range_lower = Column(Integer)
    range_upper = Column(Integer)
    gold = Column(Boolean)

    def __init__(self, data_type, value, range_lower=0, range_upper=0, gold=False):
        self.data_type = data_type
        self.value = value
        self.range_lower = range_lower
        self.range_upper = range_upper
        self.gold = gold

class Page(Base):
    __tablename__ = 'page'
    id = Column(Integer, autoincrement=True, primary_key=True)
    data_type = Column(Integer, ForeignKey('data.data_type'))
    description = Column(Text)
    annotations_per_page = Column(Integer)
    uses_gold = Column(Boolean)

    def __init__(self, data_type, description='default description', annotations_per_page=1, uses_gold=False):
        self.data_type = data_type
        self.description = description
        self.annotations_per_page = annotations_per_page
        self.uses_gold = uses_gold 
```

我遇到的问题是 sqlalchemy/pyramid 或 python setup.py 生成的任何填充脚本在这些类型的项目之一上开发，试图在表数据之前创建表页。由于 Page 中有依赖于 Table 的外键，因此这是失败的。我在文档中找不到任何关于此问题的提及，任何见解将不胜感激。

-山姆

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T04:50:25.677

您需要使用数据库元数据

这些函数 metadata =MetaData() creat_all()

它按照它们的依赖顺序生成表。

参考：http://docs.sqlalchemy.org/en/rel_0_7/core/schema.html

# php - 如何将缓存添加到 twitter api 调用以在 php 中为 wordpress 的关注者计数？

> ID：10908063
> 
> 赞同：0
> 
> 时间：2012-06-06T04:11:10.493
> 
> 标签：php, wordpress, api, caching, twitter

如何为此调用添加缓存功能以显示 Twitter 关注者数量？我正在创建一个包含 50 个 Twitter 用户的列表，并显示他们的关注者数量。我希望它每 24 小时更新一次。我有一个缓存文件夹设置，只是不知道如何有效地做到这一点。

这是我用来调用关注者数量的代码。

```
<?php
$data = json_decode(file_get_contents('https://api.twitter.com/1/users/lookup.json?screen_name=eminem'), true);
echo $data[0]['followers_count'];
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T14:30:02.790

一个简单的解决方法。使用文件来存储它。让它成为一个脚本：myscript.php

```
<?php 
$data = json_decode(file_get_contents('https://api.twitter.com/1/users/lookup.json?screen_name=eminem'), true); 
$no_of_followers=$data[0]['followers_count'];
$myfile=fopen('count.txt','w');
fwrite($myfile,$no_of_followers);
fclose($myfile);
?> 
```

在您的站点中，从文件中读取并显示。

```
$myfile=fopen('count.txt','r');
$no_of_followers=fgets($myfile);
echo $no_of_followers;
fclose($myfile); 
```

现在将 myscript.php 放入 cron-job 并每 24 小时执行一次。.txt 文件无关紧要。里面的任何数据都没有保密。

# mysql - Mysql - 来自 VIEW 的“EXPLAIN SELECT”正在查看主表的所有行

> ID：10908064
> 
> 赞同：1
> 
> 时间：2012-06-06T04:11:38.200
> 
> 标签：mysql, sql, views

我有 2 张桌子：

*   `t_cities`( `idCity`, `idCountry`, `name`, `population`)
*   `t_countries`( `idCountry`, `name`)

`t_cities`有 50000 行，所以我用英国的城市创建了一个视图（只有 1100 个）：

```
CREATE VIEW v_city_uk AS SELECT * FROM t_cities WHERE idCountry = 140 
```

到目前为止一切都很好，我得到了一个 1100 行的视图。
查询

```
SELECT COUNT(*) FROM v_city_uk 
```

返回 1100，但解释：

```
EXPLAIN SELECT COUNT(*) FROM v_city_uk 
```

表示它正在检查 50000 行以执行此查询。为什么？
有没有办法让这不会发生？因为我创建视图以加快查询速度，所以不一样。

* * *

**编辑**：感谢 matthewdavidson，我需要一个“汇总表”。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T04:16:57.543

因为视图不是*预编译*查询或*存储结果*，所以它是*预定义*查询。*它每次*执行视图中的 SELECT 语句。否则，视图将永远不会更新。视图是查询的表示。它对程序员来说是一种方便的简写，但对机器来说却不是。

换句话说，当你

```
SELECT something FROM YourView 
```

而 YourView 定义为

```
CREATE VIEW YourView AS SELECT stuff FROM sometable 
INNER JOIN othertable ON sometable.column = othertable.column 
```

实际运行的是

```
 SELECT something FROM 
(SELECT stuff FROM sometable 
INNER JOIN othertable ON sometable.column = othertable.column) 
```

如果要存储结果，则应使用聚合表。

# testing - 在 clojure 项目中组织测试层次结构

> ID：10908068
> 
> 赞同：1
> 
> 时间：2012-06-06T04:12:14.833
> 
> 标签：testing, clojure

clojure 项目中有两个目录 - src/ 和 test/。在 src/calc/ 目录中有一个文件 my_methods.clj 以

`(ns calc.my_methods...)`.

我想在测试目录中为它创建一个测试文件 - test/my_methods-test.clj

```
(ns test.my_methods-test
  (:require [calc.my_methods])
  (:use clojure.test)) 
```

在 $CLASSPATH 中有项目根目录和 src/ 目录。但例外仍然是

“无法在类路径上找到 calc/my_methods__init.class 或 calc/my_methods.clj”。在测试文件中要求它有什么问题？

`echo $CLASSPATH`给出了这个：

```
~/project:~/project/src 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T04:32:05.073

首先，我建议使用[Leiningen](https://github.com/technomancy/leiningen)为您管理`CLASSPATH`。其次，我发现`~`代表我的主目录的字符在`CLASSPATH`上下文中永远不会起作用 - 我必须指定绝对路径，没有别名（例如`/Users/colin/path/to/project`）。第三，在类路径上有`src`and是常规`test`的，但不是项目的根级别。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T04:50:36.230

在文件名和命名空间中使用破折号和下划线时要非常小心。如果你没有得到正确的命名约定，这可能是很多混乱的根源。请参阅[https://stackoverflow.com/a/2223369/32174](https://stackoverflow.com/a/2223369/32174)，第 2 点。正如@trptcolin 提到的，使用 Leiningen。

# r - 在二维网格/点过程中找到密度峰值/簇中心

> ID：10908070
> 
> 赞同：5
> 
> 时间：2012-06-06T04:12:21.833
> 
> 标签：r, geospatial, spatial, cran

我有一个数据集，其中包含由个人手机记录的每分钟 GPS 坐标。即数据集有 1440 行的 LON/LAT 值。根据数据，我想对参与者家的位置进行点估计（经度/纬度值）。让我们假设家是他们在给定的 24 小时间隔内花费大部分时间的单一位置。此外，GPS 传感器在大多数情况下具有很高的精度，但有时它会完全关闭，从而导致巨大的异常值。

我认为解决这个问题的最好方法是将其视为一个点过程并使用 2D 密度估计来找到峰值。在 R 中是否有本地方法可以做到这一点？我查看了 kde2d (MASS) 但这似乎并没有真正起到作用。Kde2d 使用密度值创建数据范围的 25x25 网格。然而，在我的数据中，这个人每天可以轻松地旅行 100 英里或更多，所以这些街区通常是一个太大的估计值。我可以缩小范围并使用更大的网格，但我确信必须有更好的方法来获得点估计。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T07:02:44.720

包中有“花费时间”功能`trip`（我是作者）。您可以根据跟踪数据创建对象，了解随时间推移的基本跟踪过程，并简单地处理假设修复之间的直线段的点。如果“家”是最大值像素所在的位置，即当您根据持续时间分解所有段并将它们汇总为单元格时，则很容易找到它。函数中的“花费时间”网格`tripGrid`是`SpatialGridDataFrame`具有标准`sp`包类的，并且行程对象可以由一个或多个轨道组成。

如果 lon/lat 不适合您的范围，使用`rgdal`您可以轻松地将坐标转换为适当的地图投影，但这对线段的网格/时间计算没有影响。

有一个简单`speedfilter`的删除修复暗示移动太快，但这非常简单并且可能引入新问题，通常更新或过滤轨道以防止不太可能的移动可能非常复杂。（根据我的经验，网格化所花费的基本时间可以让您获得与许多复杂模型一样好的估计，这些模型只会带来新的复杂性）。该过滤器适用于笛卡尔坐标或长/纬度坐标，使用工具`sp`来计算距离（长/纬度是可靠的，而糟糕的地图投影选择可能会引入问题 - 在像陆地上的人类这样的短距离上，这可能没什么大不了的）。

（该函数使用`tripGrid`计算直线段的精确分量`pixellate.psp`，但该细节隐藏在实现中）。

在数据准备方面，`trip`严格遵守合理的时间顺序，如果数据有重复、乱序等，将阻止您创建对象。有一个从文本文件中读取数据的示例`?trip`，还有一个带有（真正）虚拟数据的非常简单的示例是：

```
library(trip)
d <- data.frame(x = 1:10, y = rnorm(10), tms = Sys.time() + 1:10, id = gl(1, 5))
coordinates(d) <- ~x+y
tr <- trip(d, c("tms", "id"))
g <- tripGrid(tr)

pt <- coordinates(g)[which.max(g$z), ]
image(g, col = c("transparent", heat.colors(16)))
lines(tr, col = "black")
points(pt[1], pt[2], pch = "+", cex = 2) 
```

该虚拟轨道没有重叠区域，但它表明找到“花费时间”的最大点很简单。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T08:18:20.737

如何使用最小化所有事件的平方和距离的位置？如果我的大脑工作正常，这可能接近任何内核平滑的最高值。

如果您的数据包含两个集群（家庭和工作），那么我认为该位置将位于最大的集群中，而不是它们之间。它与 x 和 y 坐标的简单平均值不同。

对于这方面的不确定性，无论您的位置不确定性是什么（如果您从 GPS 获得该值会很好，否则猜测 - 50 米？）并重新计算。这样做 100 次，对这些位置进行内核平滑并找到 95% 的轮廓。

不严谨，我需要尝试这个最小距离/内核至上的东西......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-12T09:35:14.033

作为对 spacedman 的回应——我很确定最小二乘是行不通的。最小二乘法以屈服于异常值的需求而闻名，而对“附近”的事物没有太大的权重。这与所期望的相反。

在我看来，二方估计器可能会更好地工作 - 但我从未使用过它。我认为它还需要一些调整。

它或多或少类似于距 0 一定距离的最小二乘估计量，然后权重在此之外是恒定的。所以一旦一个点变成异常值，它的惩罚是恒定的。我们不希望离群值随着我们远离它们而越来越重，我们宁愿称它们为常数，并让优化专注于更好地拟合集群附近的事物。

# javascript - 在选择要上传的文件后添加侦听器

> ID：10908074
> 
> 赞同：1
> 
> 时间：2012-06-06T04:12:33.723
> 
> 标签：javascript, ruby-on-rails-3

我正在使用 rails file_field 标签上传文件，如下所示：

```
<%= f.file_field :image, :class => 'file_field' %> 
```

使用一些 css 解决方法，我创建了一个按钮来上传文件（整个东西都是可点击的）：

![在此处输入图像描述](../Images/e0adea6fae59df6676cd0e6505d6df1f.png)

在用户点击按钮并选择一个文件后，我想在用户提交表单之前给用户一些指示，表明一个文件已被选择上传。否则，用户将不知道文件已被选中。

我可以使用什么方法（无论是在 Rails 中还是在 Javascript 事件处理程序中）允许我向用户提供这样的指示？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:06:35.320

这应该可以解决问题。它在 jQuery 中，但将其转换为直接使用 javascript 并不太难

第一：一些带有文件输入的 HTML：

```
<div>
  Click to upload a file. <input type="file" id="fileUploader" />
  <br />
  <span id="fileName"><em>No File Chosen Yet</em></span>
</div> 
```

现在的javascript：

```
<script type="text/javascript">

//bind to change event to determine when user chooses a file to upload
$("#fileUploader").bind("change", function (e)
{
    //get the file path
    var file = $("#fileUploader").val();

    //pull out the filename
    file = file.replace(/^.*\\/i, "");

    //show to user
    $("#fileName").html("You chose: " + file);
});

</script> 
```

# python - 使用文件实现分布式锁

> ID：10908077
> 
> 赞同：11
> 
> 时间：2012-06-06T04:13:08.520
> 
> 标签：python, synchronization, locking, multiprocessing, distributed-computing

我有一个由多台 Windows 计算机共享的网络驱动器 (Z:\)。是否可以通过简单地在此网络驱动器上创建/删除文件来实现跨机锁定？

例如，两台计算机 A 和 B 要同时写入 ID 为 123 的共享资源。

其中一台计算机，比如 A，首先通过创建一个空文件 Z:\locks\123 来锁定资源。当 B 看到有名为“123”的锁文件时，B 知道资源 123 正在被其他人使用，所以它必须等待 Z:\locks\123 被 A 删除才能访问资源。

这就像多线程中的关键部分，但我想在多台机器上进行。

我正在尝试在 Python 中实现。这是我想出的：

```
import os
import time

def lock_it(lock_id):

    lock_path = "Z:\\locks\\" + lock_id
    while os.path.exists(lock_path):
        time.sleep(5)  # wait for 5 seconds

    # create the lock file
    lock_file = open(lock_path, "w")
    lock_file.close()

 def unlock_it(lock_id):

     # delete the lock file
     lock_path = "Z:\\locks\\" + lock_id
     if os.path.exists(lock_path):
         os.remove(lock_path) 
```

这将不起作用，因为可能有多个进程退出等待状态并同时创建锁定文件。

再次，**问题是**：是否可以在共享存储上实现跨机器锁定机制？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-06T04:17:41.020

... 有点。

首先，您应该创建一个锁定目录而不是锁定文件。如果目录已经存在，则创建目录（请参阅[os.mkdir](http://docs.python.org/library/os.html#os.mkdir)）将失败，因此您可以像这样获取锁：

```
while True:
    try:
        os.mkdir(r"z:\my_lock")
        return
    except OSError as e:
        if e.errno != 21: # Double check that errno will be the same on Windows
            raise
        time.sleep(5) 
```

其次（这就是“某种”出现的地方）您需要某种方式来注意到持有锁的人何时死亡。一种简单的方法可能是让他们偶尔更新锁定目录中的文件。然后，如果客户端注意到文件有一段时间没有更新，他们可以删除目录并尝试自己获取锁。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T04:26:51.343

这不会像您希望的那样工作。您还会遇到其他问题，例如网络驱动器消失，在这种情况下，您的所有进程要么被卡住，要么认为没有人持有锁。

我建议你研究类似[ZooKeeper](http://zookeeper.apache.org/doc/trunk/recipes.html#sc_recipes_Locks)的东西。您将能够创建同步锁并在发生网络故障时恢复。分布式锁背后的框架比在网络驱动器上创建文件要复杂得多。

# java - 加载 JDBC 驱动程序时出错

> ID：10908079
> 
> 赞同：0
> 
> 时间：2012-06-06T04:13:25.893
> 
> 标签：java, ms-access

```
try {
   Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
} catch (ClassNotFoundException e) {
   System.out.println("Error loading driver " + e);
} 
```

但是netbeans给出的错误是

未报告的异常 java.lang.ClassNotFoundException; 必须被捕获或声明为抛出
，另外两个错误在 try 块和 catch 块的开头，即

类型的非法开始所以可能是什么问题请指导我有关 tis

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T10:31:52.250

There are lot more consideration needed to your code rather than just putting in `Class.forName`. You may refer to example below as a start up:

[JdbcOdbcDriver](http://www.java2s.com/Tutorial/Java/0340__Database/Listtablesinadatabase.htm)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:22:36.750

您的代码的其他部分可能有问题。请仔细检查您的代码。

```
public class Sample
{
  public static void main(String []args)
   {
     try {
       Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
     }catch(ClassNotFoundException e){
       System.out.println("Error loading driver "+e);
     }
   }
} 
```

# objective-c - 加载 XIB 不工作（Mac）

> ID：10908081
> 
> 赞同：0
> 
> 时间：2012-06-06T04:13:32.130
> 
> 标签：objective-c, macos, xib

所以我当前的代码（来自另一个问题）看起来像这样：

```
NSWindowController * wc=[[NSWindowController alloc] initWithWindowNibName:@"POP"]; 
[wc showWindow:self]; 
```

.xib 的名称为 POP.xib（推送或拉取）。

请帮助我喜欢简单的替代品。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:03:38.577

好的，您应该解决一些问题：

1.  在你`POP.xib`身上，你必须将你的`File's Owner`班级设置为`NSWindowController`. 然后你应该将它的`window`属性连接到你想要显示的窗口（在 中的窗口`xib`）。
2.  我发现，因为您使用的是 ARC，所以窗口会出现片刻然后消失。发生这种情况是因为没有什么可以保留您的窗口控制器，并且 ARC 显然在实例化后立即向它发送了释放消息。因此，请确保您也保留它（我刚刚添加了一个`strong`属性并将其设置为`NSWindowController`我们在第一行中实例化并且工作正常）。

[这是一个更正的项目](http://cl.ly/2k3h3Z3U141j3q3n3X3Z)

# php - Apache mod_geoip - 如果国家/大陆未知，$_SERVER['GEOIP_COUNTRY_CODE'] / $_SERVER['GEOIP_CONTINENT_CODE'] 会相等吗？

> ID：10908082
> 
> 赞同：0
> 
> 时间：2012-06-06T04:13:33.083
> 
> 标签：php, apache, geoip

我们使用 apaches mod_geoip 和 php 的 geoip.so 模块来检测用户访问的国家/大陆。

最初我们只使用 PHP，但几个月前我们开始在我们的 apache 配置中使用 geoip 数据，所以现在我们同时使用两者。

这是多余的。

我们正在考虑禁用 php 的 geoip.so，因为我们已经在 $_SERVER['GEOIP_COUNTRY_CODE'] / $_SERVER['GEOIP_CONTINENT_CODE'] 中公开了国家/大陆。

在我们这样做之前，如果 geoip 无法检测到用户的位置，我们需要知道这 2 将等于什么。

以前，在 php 端，我们使用了以下内容：

```
function geoiplookup($ip){
    if($return=@geoip_country_code_by_name($ip))
        return $return;
    return false;
} 
```

因此，如果 geoip_country_code_by_name 无法检索国家代码，因此返回 false，我们将脚本存储的国家代码设置为 (bool)false。

所以，

使用 apache mod_geoip 时，如果无法检索国家代码，geoip 会将这两个变量设置为什么？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:01:54.353

我们决定看一下 mod_geoip 源代码。

从更改文件中：

1.3.3 2008 年 8 月 13 日

*   修复 GEOIP_COUNTRY_CODE 未设置，当使用区域数据库且未找到国家/地区时。以前 GEOIP_COUNTRY_CODE 已设置但为空（Boris Zentner）

因此，如果从提供的 IP 中无法找到一个国家/大陆，则根本不会设置 GEOIP_COUNTRYC_CODE。

有人可以确认这一点，因为这是我们代码库中相当重要的部分，我们需要确保。

我们很难通过 C 代码查看未知国家/地区的确切情况。

* * *

据我们所知，是的，只有在可以检测到国家/地区时才设置 GEOIP_COUNTRY_CODE。

从 mod_geoip 来源：

```
if (cfg->GeoIPOutput & GEOIP_NOTES) {
    ap_table_set(r->notes, "GEOIP_CONTINENT_CODE", continent_code);
    ap_table_set(r->notes, "GEOIP_COUNTRY_CODE", country_code);
    ap_table_set(r->notes, "GEOIP_COUNTRY_NAME", country_name);
} 
```

# iphone - 从文档目录加载图像时 UITableView 滚动滞后

> ID：10908084
> 
> 赞同：0
> 
> 时间：2012-06-06T04:14:06.327
> 
> 标签：iphone, uitableview, uiimage, scroll, lag

我有一个 UITableView，它显示带有图像及其名称的项目。问题是由于为每个单元格加载图像而导致滚动滞后。

这就是我保存从 iPhone 相机拍摄的图像并将其大小调整为 320 x 480 的方式。

```
- (void)saveImage: (UIImage*)image{
if (image != nil)
{
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, 
                                                         NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];

    NSString *imageName = [NSString stringWithFormat: @"image_%@.png",[NSDate date]];
    item.imageName = imageName;

    NSString* path = [documentsDirectory stringByAppendingPathComponent: 
                      imageName];
    NSLog(@"%@",path);

    NSData* data = UIImagePNGRepresentation(image);
    [data writeToFile:path atomically:YES];

    NSUserDefaults *userDefaults = [NSUserDefaults standardUserDefaults];
    [userDefaults setInteger:[image imageOrientation] forKey:@"kImageOrientation"];
} } 
```

这就是我调整它的方式

```
- (UIImage *)resizeImage:(UIImage*)image newSize:(CGSize)newSize {
CGRect newRect = CGRectIntegral(CGRectMake(0, 0, newSize.width, newSize.height));
CGImageRef imageRef = image.CGImage;

UIGraphicsBeginImageContextWithOptions(newSize, NO, 0);
CGContextRef context = UIGraphicsGetCurrentContext();

// Set the quality level to use when rescaling
CGContextSetInterpolationQuality(context, kCGInterpolationHigh);
CGAffineTransform flipVertical = CGAffineTransformMake(1, 0, 0, -1, 0, newSize.height);

CGContextConcatCTM(context, flipVertical);  
// Draw into the context; this scales the image
CGContextDrawImage(context, newRect, imageRef);

// Get the resized image from the context and a UIImage
CGImageRef newImageRef = CGBitmapContextCreateImage(context);
UIImage *newImage = [UIImage imageWithCGImage:newImageRef];

CGImageRelease(newImageRef);
UIGraphicsEndImageContext();    

return newImage;} 
```

这就是我在 cellForRowAtIndexPath 中加载它们的方式

```
- (UIImage*)loadImage:(NSString *) imageName{
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, 
                                                     NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString* path = [documentsDirectory stringByAppendingPathComponent: 
                  [NSString stringWithString: imageName]];
    UIImage* image = [UIImage imageWithContentsOfFile:path];
    NSUserDefaults *userDefaults = [NSUserDefaults standardUserDefaults];
    UIImage *orientedImage= [UIImage imageWithCGImage: image.CGImage scale:1.0 orientation:  [userDefaults integerForKey:@"kImageOrientation"]];

return orientedImage;} 
```

我正在考虑的一种方法是让一个 NSMutableArray 加载一次 UIImages，然后从那里获取图像。这种方法的问题在于，并非所有单元格都有图像，所以说有 10 个单元格，但最后 3 个单元格中只有三个图像，NSMutableArray 方法在这里会出现问题，因为添加的图像将位于索引 0,1， 2.

我脑海中还有一个解决方案，我想在这里强调一下，供各位专家验证它是否有效。我实际上正在使用 CoreData 并为项目生成了模型。如果我要在此类中手动添加 UIImage 字段并将图像保存到它们的对象中，那会起作用还是这样做是错误的？

# php - 需要正确的 PHP/MySQL 语法帮助

> ID：10908086
> 
> 赞同：1
> 
> 时间：2012-06-06T04:14:15.423
> 
> 标签：php, mysql, database, syntax, mysqli

我整天都在追逐我的代码中的一个错误。这是它的长短：

我有一个通过查询字符串传递的变量，我想在我的 MySQLi 查询中使用该变量。像这样：

```
$variable;

$info = dbConnect('query');
$eInfo = "SELECT *
FROM tablename
WHERE fieldname = '$variable%'";
$eiData = $info->query($eInfo) or die(mysqli_error());
$eInfo = $eiData->fetch_assoc(); 
```

重点是变量名后面的 %。我不是 PHP 专家，但我记得不久前就学会了这个技巧，它对我所有的数据库驱动网站都有效，除了我正在开发的新网站。

上面的查询没有从表中返回任何数据。

但...

如果我省略 % 如下：

```
$variable;

$info = dbConnect('query');
$eInfo = "SELECT *
FROM tablename
WHERE fieldname = '$variable'";
$eiData = $info->query($eInfo) or die(mysqli_error());
$eInfo = $eiData->fetch_assoc(); 
```

查询执行，我得到我的数据。

为什么在使用语法'$variable%'编写要使用变量的查询后，这将不再起作用？只需删除 % ('$variable') 就可以正常工作，这让我完全困惑。

对于它的价值，我运行了一个专用服务器并且最近安装了 suPHP，如果这有任何帮助在这里有意义的远程机会（PHP 5.2.17 是我当前的版本）。

同样，我不是 PHP 高手，但是在检查了旧站点的代码后，我使用 MySQLi 查询完成了，当将变量附加到查询中时，% 总是在那里。

我完全死在了这里的水里。您可以提供的任何帮助都会非常感激，以至于无法解释。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T19:09:08.067

如果要将变量放在难以解释变量名结束位置的字符串中，请`{$var}`像这样使用：

```
$eInfo = "SELECT * FROM tablename WHERE fieldname LIKE '{$variable}%'"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-14T19:27:17.670

`%`是查询的通配符`LIKE`。因此，如果您`%`在查询中使用`WHERE var = 'cow%'`，它将在数据库中搜索文字字符串`cow%`。

1.  `cow`
2.  `cows`
3.  `cow%`（匹配）
4.  `the cow`

在 Like 查询中：`WHERE var LIKE 'cow%'`以下将匹配：

1.  `cow`（匹配）
2.  `cows`（匹配）
3.  `cow%`（匹配）
4.  `the cow`

请参阅[MySQL 模式匹配](http://dev.mysql.com/doc/refman/5.0/en/pattern-matching.html)。

# android - 将资源导出到一个文件中并从 SD 卡中读取

> ID：10908090
> 
> 赞同：0
> 
> 时间：2012-06-06T04:15:15.537
> 
> 标签：android, resources, sd-card, android-sdcard

我想将我的 android 应用程序资源（所有图像、视频等）导出到一个文件并从 SD 卡中读取它。这是关于一个教育应用程序——我想将我的应用程序安装在手机的内存中并从 SD 卡中读取数据，因为用户可能会更换他们的 SD 卡并加载新数据。

任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T04:27:47.123

基本上你可以做的是在 SD 卡上创建单个文件夹并将所有信息转储到那里。你的应用程序可以读取该文件夹中的所有文件。

您可以通过写入访问 SD 卡上的文件夹

```
Environment.getExternalStorageDirectory().getAbsolutePath+"/MyDirecotry/"+abc.mp4;
Environment.getExternalStorageDirectory().getAbsolutePath+"/MyDirecotry/"+abc.jpg; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:32:54.900

要在手机内存中安装应用程序，请使用以下代码

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example11"
android:versionCode="1"
android:versionName="1.0" **android:installLocation="internalOnly"**> 
```

您应该使用在 sdcard 上提取内容的代码制作内容的单个 zipFile，然后从 sdcard 访问内容。

我希望它对你有帮助。

# java - 我的 android 应用程序连接超时，而浏览器仍然可以使用

> ID：10908091
> 
> 赞同：0
> 
> 时间：2012-06-06T04:15:17.800
> 
> 标签：java, android

代码：

```
 public static String openUrl(String url, String method,
            RequestParam params) throws NuageException {
        HttpURLConnection conn = null;
        String response = "";
        String decodParam = params.decod();
        if (method.equals(GET)) 
            {
            url = url + "?" + decodParam;
            // Log.v(LOG_TAG, "GET:" + url);
        }

         try {
            Log.v("开始请求：", String.valueOf(System.currentTimeMillis()));
            conn = (HttpURLConnection) new URL(url).openConnection();
            conn.setReadTimeout(READTIMEOUT);
            conn.setConnectTimeout(CONNECTTIMEOUT);
            conn.setUseCaches(false);
            conn.setRequestProperty("Connection", "Keep-Alive");
            if (method.equals(POST)) {
                conn.setRequestMethod("POST");
                conn.setDoOutput(true);
                conn.getOutputStream().write(decodParam.getBytes("UTF-8"));
                // Log.v(LOG_TAG, "POST:" + url + " " + decodParam);
            }
            InputStream is = null;
            conn.connect();
            int responseCode = conn.getResponseCode();
            if (responseCode == 200 || responseCode == 201
                    || responseCode == 202) {
                is = conn.getInputStream();
            } else {
                is = conn.getErrorStream();
            }
            response = read(is);
            Log.v("请求结束：", String.valueOf(System.currentTimeMillis()));
            Log.v(LOG_TAG, "response:" + response);
            checkResponse(response);
        } catch (MalformedURLException e) {
            throw new NuageException(e);
        } catch (IOException e) {
            if (e.getMessage() != null && e.getMessage().equals(
                    "Received authentication challenge is null"))
                throw new NuageException(new NuageError(
                        NuageError.ERROR_SESSIONKEY_INVALID, "", "", ""));
            e.printStackTrace();
            throw new NuageException(e);
        } catch (NuageException e) {
            throw e;
        } finally {
            if (conn != null) {
                conn.disconnect();
            }
        }
        return response;
    } 
```

有时我会`java.net.SocketTimeoutException: Connection timed out`在浏览器仍然工作时得到。

任何人都可以帮助改进我的代码？

# jquery - 是否有任何选项可以在fancybox 内显示画廊画廊？

> ID：10908093
> 
> 赞同：0
> 
> 时间：2012-06-06T04:15:57.503
> 
> 标签：jquery, fancybox, galleria

我正在使用花式框。我想在花式框内使用 Galleria 插件显示图片库，类似于[此](http://www.realestate.com.au/property-house-nsw-chatswood-110664113)

```
jQuery(".pika-stage img").live('click',function(){
            var product_id = <?php echo $Product->id;?>;
            jQuery.ajax({
                url: "<?php echo $currenturl;?>",
                type: "POST",
                data:{tasksubmit:"enlarge",productid:product_id},
                success: function(data){
                    var gal_img ='<div id= gallery>'+data+'</div>';
                    jQuery.fancybox({
                        'content': gal_img
                     });
                   }

                })
            }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-21T04:03:03.180

最后我得到了在灯箱内显示画廊的解决方案。我正在使用 Pretty photo 插件在灯箱中显示画廊。[Preety Photo 演示](http://www.no-margin-for-errors.com/projects/prettyphoto-jquery-lightbox-clone/)

# error-correction - 实际应用的错误控制编码

> ID：10908096
> 
> 赞同：0
> 
> 时间：2012-06-06T04:16:31.077
> 
> 标签：error-correction, forwarderrorcorrection

我正在做一个项目，其中制造了一个设备来测量橡胶园中橡胶树的周长。我需要给每棵树一个标识来存储每棵树的测量值。每棵树的 ID 包含 33 位（二进制）。对于错误检测和纠正，我希望将这个 33 位字编码为代码字（使用错误控制编码技术）并生成 2D 矩阵（颜色矩阵 - 红色和青色方块代表 1 和 0）。2D 矩阵将表示编码字。这个矩阵将被粘贴在树的树干上。相机（设备）将用于拍摄 2D 矩阵的图像并解码代码，然后获取树的 ID。

我正在寻找实现这一点的最佳方案。我想到了循环码进行编码，但由于数据字是 33 位循环码似乎有点复杂。

有人可以建议最好的方法（至少是一个好方法）来实现这个吗？？？

附加信息：图像是在森林环境（弱光条件）中拍摄的，考虑到环境，将使用彩色矩阵。（树的树皮很暗，所以黑白矩阵不合适）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-07-26T19:51:33.567

一种方法是使用二维奇偶校验码。生成的码字是一个矩阵，它具有单次纠错 (SEC) 能力。

由于您的信息部分（树 ID）有 33 位，您可能需要添加一些虚拟位以使代码字成为 2D 矩形（例如，6x6 信息部分）。如果一棵树的 ID 是 1010_1010_1010_1010_1010_1010_1010_1010_1，那么再加上 3 个 0，我们就得到了：

```
1 0 1 0 1 0 | 1
1 0 1 0 1 0 | 1
1 0 1 0 1 0 | 1
1 0 1 0 1 0 | 1
1 0 1 0 1 0 | 1
1 0 1 0 0 0 | 0
—————————————
0 0 0 0 1 0   1 
```

然后你得到一个 (n, k, d) = (49, 36, 3) 代码，它纠正了 1 位错误。

# redirect - 如何使用 Jetty Web 服务器重定向以下内容？

> ID：10908098
> 
> 赞同：1
> 
> 时间：2012-06-06T04:16:48.837
> 
> 标签：redirect, url-rewriting, jetty

我将如何使用 Jetty 重定向以下内容？：

```
domain.com/area1  --> area1.domain.com
www.domain.com  --> area1.domain.com
domain.com  --> area1.domain.com 
```

是重写规则吗？如果是这样，我要编辑什么文件，我要添加什么规则？

谢谢你的帮助。

# ios - 在 iOS/Node 应用程序中使用 google/twitter/linkedIn 身份验证

> ID：10908102
> 
> 赞同：2
> 
> 时间：2012-06-06T04:17:27.947
> 
> 标签：ios, node.js, authentication, oauth, openid

我正在尝试为我正在开发的几个应用程序制定最佳架构。

在这两个应用程序中，我想利用 google/twitter/LinkedIn/etc 来提供用户身份的身份验证。该应用程序由一个 iOS 应用程序组成，该应用程序可以选择将数据发送到我在 node.js 中编写的服务器。

我想利用 OAuth 或 OpenId 来针对上述服务器识别用户，这样我就不必安装自己的身份验证系统。换句话说，允许用户在选择上传数据时重复使用他们的 id。

我还应该注意，除了识别用户、获取姓名和电子邮件地址之外，我目前无意使用他们的任何 API。

我想我有两个选择：

1.  将授权代码放置在 iOS 客户端中，然后将某种密钥与可以验证的数据一起传输到服务器。

2.  保持 iOS 客户端相当笨拙，并处理来自节点服务器的授权。

我可能更喜欢第二种选择，因为这意味着我可以集中身份验证并能够支持网站。这是我目前的理论。

做过这样的事情的任何人都可以给我一些关于优缺点、OAuth 或 OpenId 的指示，或指向一些示例的链接吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T16:21:17.907

在我们之前的应用程序中，我们选择了两种方法的组合。我们希望将我们的用户数据集中在我们的服务器上，以备将来需要对这些服务进行 API 调用时使用。我们还希望客户端上的用户能够获得本机 oAuth 体验。即：在 Android 和 iOS 上，开发人员可以通过本机 Facebook 应用程序（如果可用）运行单点登录/授权，而不是弹出一个提供“批准”对话框的 web 视图。在我看来，这是一种更好的用户体验。同样对于 Twitter，oAuth 过程可能需要在回调中输入 PIN 码，这可能应该在客户端处理。

如果您打算对这些服务进行额外的 API 调用，您可以将客户端检索到的访问令牌传递给服务器以供存储和以后使用，前提是您希望令牌是长期存在的（即：FB 上的离线访问权限） .

无论如何，这主要是用户体验决定。

# c++ - 为什么在初始化列表中初始化 POD 数据时必须进行 C 样式类型转换？

> ID：10908106
> 
> 赞同：6
> 
> 时间：2012-06-06T04:18:23.947
> 
> 标签：c++

```
struct POD { int i, j; };    
class A {
  POD m_pod;
public:
  A() : m_pod({1,2}) {} // error
  A() : m_pod(static_cast<POD>({1,2})) {} // error
  A() : m_pod((POD) {1,2}) {} // ok!
}; 
```

我在用 编译的旧生产代码中看到了这一点`g++34`，直到那时我才知道这个功能。
它是[g++](http://ideone.com/292Le)的特定功能吗？如果不是那么，为什么需要进行类型转换，而且也只允许 C 风格的转换？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T04:40:37.273

实际上，C++ 标准（C++03 和 C++11）不允许使用以下语法：

```
A() : m_pod((POD) {1,2}) {} // ok! 
```

由于 GCC 编译这个，它是一个 GCC 扩展。

如果你用`-pedantic`选项编译它，它会给出这个警告：

> pod.cpp:8:29：警告：ISO C++ 禁止复合文字

* * *

在 C++11 中，你可以这样写：

```
A() : m_pod{1,2} {} 
```

演示：http: [//ideone.com/XaO4y](http://ideone.com/XaO4y)

或者简单地说：

```
class A {
  POD m_pod {1,2}; //in-place initialization
public:
  A() {}
}; 
```

Ideone 不支持这个。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-06T04:46:44.530

您使用的语法不仅适用于初始化列表，还适用于在其声明之外的类类型的任何初始化。例如：

```
POD p;
p = (POD) {1, 2}; 
```

这些被称为**复合文字**；它们在 C99 中被添加到 C 中。C++ 实际上不支持它们；GCC 允许它们在 C++（和 C89）中作为[扩展](http://gcc.gnu.org/onlinedocs/gcc-3.2/gcc/Compound-Literals.html)。C++11[增加了语法](https://stackoverflow.com/a/1705166/309308)：

```
p = POD({1, 2}); 
```

或者在你的情况下：

```
A() : m_pod(POD({1,2})) {} 
```

# ruby-on-rails - 如何将图像添加到 redmine 顶部菜单？

> ID：10908109
> 
> 赞同：0
> 
> 时间：2012-06-06T04:18:57.323
> 
> 标签：ruby-on-rails, redmine, redmine-plugins

我想在我的 redmine 插件索引页面的顶部菜单上放一张图片。

在 init.rb

menu :top_menu, :my_link, {:controller => 'my_controller', :action => 'my_action'}, :caption => "My title" 任何图片的链接都适合这种语法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T13:28:39.840

你必须用css来做。

如果您使用以下内容创建菜单：

```
menu :top_menu, :my_link, {:controller => 'my_controller', :action => 'my_action'}, :caption => "My title" 
```

它将使用“my-link”类创建。

您所要做的就是在您的 css 上定义：

```
#top-menu a.my-link {     
  padding-left: 20px;
  background-image: url(../images/my-link.png); 
} 
```

# wpf - WPF中具有不同DPI设置的错误鼠标位置

> ID：10908110
> 
> 赞同：2
> 
> 时间：2012-06-06T04:18:59.030
> 
> 标签：wpf, mouse, dpi

我正在使用下面的代码来获取 WPF 应用程序中的当前鼠标位置。

```
System.Drawing.Point _point = System.Windows.Forms.Control.MousePosition; 
```

这很好用。但是当用户在机器上有125%的显示设置（Windows 7）时，鼠标位置是错误的。我做错什么了吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T04:52:13.117

查看此[博客](http://www.switchonthecode.com/tutorials/wpf-snippet-reliably-getting-the-mouse-position)或此[博客](http://wpftutorial.net/Mouse.html)中的任何内容是否有帮助，因为您使用的是 Wpf，请尝试使用[Mouse.GetPosition](http://msdn.microsoft.com/en-us/library/system.windows.input.mouse.getposition.aspx)，如修改后的 MSDN 示例中所示：

```
// displayArea is the main window and txtBoxMousePosition is
// a TextBox used to display the position of the mouse pointer.

private void Window_MouseMove(object sender, MouseEventArgs e)
{
    Point position = Mouse.GetPosition(this);
    txtBoxMousePosition.Text = "X: " + position.X + "\n" + "Y: " + position.Y; 
} 
```

# php - url 中的 mod_rewrite 点

> ID：10908113
> 
> 赞同：0
> 
> 时间：2012-06-06T04:19:09.290
> 
> 标签：php, mod-rewrite

我在 mod_rewrite 代码中有问题

```
RewriteRule ^test-(.*)-(.*)$ s.php?$1 [R,L] 
```

网址在没有点的链接的情况下工作正常

test-1-某事

但如果 url 为

test-1-something.html

请问我该如何解决

谢谢

**编辑：**
错误是 404 未找到

# iis-7 - 某些东西迫使响应具有缓存控制：IIS7 中的私有

> ID：10908115
> 
> 赞同：6
> 
> 时间：2012-06-06T04:19:20.997
> 
> 标签：iis-7, web-config, http-headers, cache-control

我的 web.config 中有这个：

```
<system.webServer>
      <httpProtocol>
          <customHeaders>
              <clear />
              <add name="Cache-Control" value="max-age=30,public" />
          </customHeaders>
      </httpProtocol>
</system.webServer> 
```

但是当我加载页面时，这是响应标头：

```
Cache-Control: private,max-age=30,public 
```

它是一个 ASP.NET MVC 应用程序，控制器在任何地方都没有指定缓存指令。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-10-11T13:50:04.910

尝试这个

```
<system.web>
    <httpRuntime sendCacheControlHeader="false" /> 
 </system.web> 
```

让我们知道怎么回事。

杰森

# extjs - Extjs - 如何为每个网格分组行添加小计/汇总？

> ID：10908120
> 
> 赞同：2
> 
> 时间：2012-06-06T04:21:07.377
> 
> 标签：extjs, modx

使用 ExtJS 3.4 网格，如何在每个 Grouped 部分下实现整洁的小计行，如下例所示：

[http://dev.sencha.com/playpen/gxt/totals/](http://dev.sencha.com/playpen/gxt/totals/)

我无法升级，因为 3.4 是我使用的 CMS (MODX) 使用的版本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-07T03:04:22.800

没关系，3.4 给出了同样的例子：

[http://dev.sencha.com/deploy/ext-3.4.0/examples/grid/totals.html](http://dev.sencha.com/deploy/ext-3.4.0/examples/grid/totals.html)

# c++ - 用 C++ 编写程序，我需要帮助

> ID：10908121
> 
> 赞同：0
> 
> 时间：2012-06-06T03:51:40.790
> 
> 标签：c++, function

所以我是一个新手。我正在尝试编写一个带有函数的程序

double_product(vector< double > a, vector< double > b) 计算两个向量的标量积。标量积是

$a_{0}b_{0}+a_{1}b_{1}+...a_{n-1}b_{n-1}$。

这就是我所拥有的。这是一团糟，但我正在努力！

```
#include<iostream>

#include<vector>

using namespace std;

class Scalar_product
{

public:

    Scalar_product(vector<double> a, vector<bouble> b);

};

double scalar_product(vector<double> a, vector<double> b) 
{

   double product = 0;

   for (int i=0; i <=a.size()-1; i++)

       for (int i=0; i <=b.size()-1; i++)

           product = product + (a[i])*(b[i]);

   return product;

}

int main()
{

    cout << product << endl;

    return 0;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:10:25.523

因为我无法发表评论，所以我被迫回复。

显然这里有**完全相同的问题，逐字逐句**：

[在 C++ 中计算两个向量的标量积](https://stackoverflow.com/questions/10908012/computing-the-scalar-product-of-two-vectors-in-c)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T04:23:20.280

从根本上讲，您有一个非常正确的想法。额外的几个基本构建块，您将顺利进行。你的`scalar_product`功能很接近，但不完全。您已经创建了两个具有相同名称的循环迭代器，用于迭代相同的值。简单地说应该没问题

```
if (a.size() != b.size()) {} // error
for (int i=0; i < a.size(); i++)
   product = product + (a[i])*(b[i]); 
```

现在您所要做的就是获取一些数据，调用它，然后输出结果。

```
int main() {
    std::vector<double> a;
    std::vector<double> b;
    // fill with the values
    std::cout << scalar_product(a, b) << endl;
} 
```

整个`class`事情在这里完全没有必要——您需要的唯一类来自标准库。

# vb.net - VB.NET - 表单卡住

> ID：10908123
> 
> 赞同：0
> 
> 时间：2012-06-06T04:21:38.673
> 
> 标签：vb.net, forms, debugging

我已经编写了一个程序并多次使用它（在调试模式下）来测试它，有时会添加代码和/或更改它。一段时间后，我编写的任何代码或添加到表单的新按钮或功能在调试时都不会出现。我不知道是什么情况导致了这种情况。

我找到的唯一解决方案是从头开始重写我的代码，但是，问题在一段时间后又出现了。我不知道发生了什么，如果不重新开始，我就无法继续前进。

感谢所有的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T04:24:20.633

尝试重建您的整个解决方案，我相信要做到这一点，您必须右键单击该项目，并且应该有一个菜单选项显示“重建解决方案”。试试看。

# php - 有没有办法指示 php CLI 在不指定单独的 ini 文件的情况下不加载某些模块？

> ID：10908129
> 
> 赞同：0
> 
> 时间：2012-06-06T04:22:53.217
> 
> 标签：php, module, command-line-interface

长话短说：

我们将 php 用于大量 CLI 脚本。

当我们对 cli 进程进行 pmap 转储时，我们注意到 php CLI 正在加载某些“仅用于 web 模式”的扩展。

例如：

```
[root@XXXX php.d]# pmap 5956 | grep apc
00007fe5d0356000    132K r-x--  /usr/lib/XXXX/apc.so
00007fe5d0377000   2048K -----  /usr/lib/XXXX/apc.so
00007fe5d0577000     12K rw---  /usr/lib/XXXX/apc.so
[root@XXXX php.d]# 
```

如您所见，pid 5956 正在加载 apc.so，即使它是基于 CLI 的 php 进程。

这是一种内存浪费，因为 APC 从未在 CLI 端使用（除非特别指示这样做，否则不适用于我们）。

还有一些其他扩展我们只用于“网络模式”。

在我们继续创建并因此必须维护 2 个单独的 php.ini 文件之前，我们想知道：

有没有办法指示 php / php.ini 仅在非 CLI 模式下加载某些模块？

谢谢。

* * *

**转储以下评论：**

```
[root@XXXX mod_geoip_1.3.5]# pmap 13330 -x | grep apc ; pmap 18151 -x | grep apc
00007f1a883c9000     132      56       0 r-x--  apc.so
00007f1a883ea000    2048       0       0 -----  apc.so
00007f1a885ea000      12      12      12 rw---  apc.so
00007f7404573000     132      56       0 r-x--  apc.so
00007f7404594000    2048       0       0 -----  apc.so
00007f7404794000      12      12      12 rw---  apc.so
[root@XXXX mod_geoip_1.3.5]# man pmap 
```

转储 2 个进程，包括 cron 作业和基于 cli 的 php 进程。

如果内存地址不同，我假设它们使用的空间不是共享的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T04:26:08.347

*运行`man php`*

*读*

创建`php-cli.ini`排除您不想要的那些。

# google-maps - Google Map V3 - 一次只允许显示一个信息框

> ID：10908132
> 
> 赞同：4
> 
> 时间：2012-06-06T04:23:12.890
> 
> 标签：google-maps, google-maps-api-3

我正在从`infoWindow`到`infoBox`更好看的信息窗口。

我在地图上有许多标记。我想要做的是当一个`infoBox`已经打开时，如果用户点击其他标记，当前`infoBox`将自动关闭并`infoBox`打开新的，这样用户就不需要关闭当前`infoBox`，并且总是只有一个`infoBox`显示在一次。

这是我当前解决方案的演示和代码 [http://jsfiddle.net/neo3000ultra/9jhAy/](http://jsfiddle.net/neo3000ultra/9jhAy/)

提前致谢！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-06-06T15:38:36.153

**更改此部分：**

```
 google.maps.event.addListener(marker, "click", function (e) {
            ib.open(map, this);
        });

        var ib = new InfoBox(myOptions);

       google.maps.event.addListener(marker2, "click", function (e) {
            ib2.open(map, this);
        });

        var ib2 = new InfoBox(myOptions2); 
```

**到以下：**

```
 var ib = new InfoBox();

    google.maps.event.addListener(marker, "click", function (e) {
        ib.close();
        ib.setOptions(myOptions)
        ib.open(map, this);
    });

   google.maps.event.addListener(marker2, "click", function (e) {
        ib.close();
        ib.setOptions(myOptions2)
        ib.open(map, this);
    }); 
```

对我有用，也在 IE9 中：http: [//jsfiddle.net/doktormolle/9jhAy/1/](http://jsfiddle.net/doktormolle/9jhAy/1/)

在打开信息框之前注意使用`ib.close()`，似乎是诀窍。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T05:09:36.100

对单个信息窗口的通常建议是只创建一个，然后将其用于所有标记（更改其内容）。

这是一个使用 v3 API 执行此操作的示例（我认为它是“v2 信息窗口行为”，因为 v2 API 只允许单个信息窗口） [http://www.geocodezip.com/v3_markers_normal_colored_infowindows.html](http://www.geocodezip.com/v3_markers_normal_colored_infowindows.html)

这是基于 Mike Williams 的 v2 教程的另一个示例： [http ://www.geocodezip.com/v3_MW_example_map1.html](http://www.geocodezip.com/v3_MW_example_map1.html)

并且您的示例已修改：http: [//jsfiddle.net/uGnQb/6/](http://jsfiddle.net/uGnQb/6/)

# c# - 清理 ListView 显示的图像路径

> ID：10908137
> 
> 赞同：1
> 
> 时间：2012-06-06T04:24:05.523
> 
> 标签：c#, asp.net, string

我将图像路径存储在数据库中，并将它们呈现在 ListView 中。

```
<img src='<%# Eval("MainImagePath") %>' alt='<%# Eval("Title") %>' /> 
```

由于反斜杠，它没有渲染。从生成的标记：

```
~\eventimages\23297700618245dcb46c7501574e3e94_placeholder2200x133.jpg 
```

如何使用字符串替换方法生成带有正斜杠的字符串？我在这里尝试了答案，但无法正常工作：

[通过 listview 中的 imageurl 显示图像](https://stackoverflow.com/questions/5523175/display-image-via-imageurl-in-listview)

**更新**

我试过：

```
<img src='<%# Eval("MainImagePath").ToString().Replace("\", "/") %>' 
    alt='<%# Eval("Title") %>' /> 
```

...但收到错误“CS1010：换行符”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:00:30.523

尝试双斜线。

```
<img src='<%# Eval("MainImagePath").ToString().Replace("\\", "/") %>' 
    alt='<%# Eval("Title") %>' /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:40:01.173

您可以简单地更新数据库中的地址并将反斜杠替换为斜杠。这是我想到的第一个解决方案。您还可以编写一个模块来替换反斜杠，同时将响应发送回用户。我认为出于兼容性和可移植性的原因，最好始终使用斜杠。

# html - javaee6中如何处理表单元素的动态数量

> ID：10908141
> 
> 赞同：0
> 
> 时间：2012-06-06T04:24:47.607
> 
> 标签：html, jersey, java-ee-6

通常我们有一个发布在服务器上的静态表单，因为它是静态的，所以我们知道变量的名称。

但是，假设我需要发布动态数量的表单元素，那么在后端处理它的最佳方式是什么？可以通过球衣完成吗？

一个最好的例子是在签出项目时贝宝的实施。它们具有以 _x 为后缀的动态输入数量，其中 x 是一个数字。

```
<form>
<input type="text" name="name_1" />
<input type="text" name="amount_1" />
<input type="text" name="quantity_1" />

<input type="text" name="name_2" />
<input type="text" name="amount_2" />
<input type="text" name="quantity_2" />
</form> 
```

如何读取后端中的所有输入文本？

谢谢，
czetsuya

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:10:35.627

您可以将实体读取为`MultivaluedMap<String, String> form`or `Form form`（这基本上是同一件事）并迭代所有键或 .. 任何您需要的东西。例如，请参阅[FormParamTest](http://java.net/projects/jersey/sources/svn/content/trunk/jersey/jersey-tests/src/test/java/com/sun/jersey/impl/methodparams/FormParamTest.java?rev=5717)。

# iphone - subView 从屏幕底部向上滑动

> ID：10908143
> 
> 赞同：2
> 
> 时间：2012-06-06T04:25:01.413
> 
> 标签：iphone, ios, uiview, addsubview

我正在尝试创建一个动画，该动画是我放入屏幕视图之外的视图框架中的视图。然后我想将它从当前帧位置动画到屏幕上方的新位置......

目前我的代码看起来像这样

```
//..
ButtonOneViewController *b1VC = [[ButtonOneViewController alloc] initWithNibName:@"ButtonOneViewController" bundle:[NSBundle mainBundle]];

    UIView *animatedActionView = [[UIView alloc] initWithFrame:CGRectMake(10.0, 490.0, 300.0, 380.0)]; //off screen
    [animatedActionView addSubview:b1VC.view];
    [otherNav.view insertSubview:animatedActionView belowSubview:tbView];
// what do I do to animate it up to a position of (10.0, 10.0, 300.0, 380.0) 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T04:29:10.390

试试这个：

```
[UIView beginAnimations:nil context:nil];
[UIView setAnimationCurve:UIViewAnimationCurveEaseIn];
//Change your frame here.
[UIView commitAnimations]; 
```

# c# - Outlook 2010 中的新解决方案模块显示了新的表单区域

> ID：10908144
> 
> 赞同：1
> 
> 时间：2012-06-06T04:25:07.620
> 
> 标签：c#, .net, outlook, outlook-addin, outlook-2010

我想向 Outlook 添加一个新的解决方案模块，该模块充当 Web 浏览器。我创建了一个新的解决方案模块和一个显示网站的新表单区域。但是如何将这两者联系起来。

这意味着当我单击新的解决方案模块时，新的表单区域必须可见，而其他的则不可见。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-08T19:38:30.230

您可以为解决方案文件夹设置 Web 视图。

```
Sub SetupFolderHomePage()  
 Dim nsp As Outlook.NameSpace  
 Dim mpfInbox As Outlook.Folder  
 Dim mpfNew As Outlook.Folder 
 Set nsp = Application.GetNamespace("MAPI")  
 Set mpfInbox = nsp.GetDefaultFolder(olFolderInbox)  
 Set mpfNew = mpfInbox.Folders.Add("MyFolderHomePage")  
 mpfNew.WebViewURL = "http://www.microsoft.com"  
 mpfNew.WebViewOn = True  
End Sub 
```

请注意，您需要将 NonDefaultStoreScript 键添加到窗口注册表才能使解决方案正常工作。[您可以在 Outlook 2007 中的“主页”选项卡上的“无法将 URL 添加到地址”框中](https://support.microsoft.com/kb/923933?wa=wsignin1.0)阅读有关此内容的更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-07T04:53:11.367

我找到了一种方法来做到这一点。

我们可以创建一个解决方案模块，如 msdn 中所述。然后我们可以在该解决方案模块中创建一个指向 web url 的文件夹链接..

如果有人需要我会给的代码。

# android - 如何在 Android 4.0 中减小 TextView 文本大小？

> ID：10908150
> 
> 赞同：1
> 
> 时间：2012-06-06T04:26:53.073
> 
> 标签：android, textview, android-view

（编辑：问题已解决。请参阅下面的答案）

我被这个问题困住了，它阻止了发布，所以每一个帮助都将不胜感激。

下面是一个演示该问题的简单程序。我使用最新的 SDK (R19) 构建了它。它在姜饼上运行良好，但在 ICS 上失败。当文本大小增加 (10 -> 30 -> 50) 时，文本字段的高度会按预期增长，但当文本大小减小 (50 -> 10) 时，文本字段具有完整高度，就好像文本大小是50.

任何人都可以复制它吗？有什么解决方法可以使减小文本大小正常工作的建议吗？

主要活动：打包test.resize；

```
import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.TextView;

public class ResizeTestActivity extends Activity {
    private int mNextTextSize = 10;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        final TextView textView = (TextView) findViewById(R.id.text0);

        findViewById(R.id.button1).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                // Cycle to next text size in {10, 30, 50}
                textView.setText("Text Size " + mNextTextSize);
                textView.append("\uFEFF");  // <--- THE FIX (see answer below)
                textView.setTextSize(mNextTextSize);
                // textView.requestLayout();  // does not help
                // textView.invalidate();     // does not help
                mNextTextSize = (mNextTextSize >= 50) ? 10 : (mNextTextSize + 20);
            }
        });
    }
} 
```

主要布局：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical" >
    <Button
        android:id="@+id/button1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Click To Cycle Text Size" />

    <TextView android:id="@+id/text0"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" 
        android:layout_marginTop="100dip"
        android:background="#ffffff00"
        android:text=""/>      
</LinearLayout> 
```

显现：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="test.resize"
    android:versionCode="1"
    android:versionName="1.0" >
    <uses-sdk android:minSdkVersion="8" />
    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <activity
            android:name=".ResizeTestActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>
</manifest> 
```

![原始文本大小为 10 的文本字段](../Images/c759585d33652e817b19be404e0eb6a6.png)

![循环大小为 50 后文本大小为 10 的文本字段](../Images/a58fdb462473abe660f40a41a1d34177.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:59:40.553

回答我自己的问题。显然这是一个报告的错误。

[http://code.google.com/p/android/issues/detail?id=22493](http://code.google.com/p/android/issues/detail?id=22493)

添加

```
 tv.append("\uFEFF");  // zero width space 
```

设置TextView文本后解决了问题。

注意：如果您使用自定义字体，请确保它包含 \uFEFF 字符。如果没有，您可能还会遇到单行省略号的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:30:44.500

添加`textView.requestLayout()`或`textView.invalidate()`设置新的文本大小之后。我相当肯定其中一个应该可以解决问题。

# php - start_on 参数在表达式引擎中没有给出正确的结果

> ID：10908152
> 
> 赞同：3
> 
> 时间：2012-06-06T04:27:05.103
> 
> 标签：php, expressionengine

我有一个管理事件的渠道，当我想实现一些常见的操作（例如显示过去的事件）时遇到了问题。如果我想查看当前和未来的事件，我认为我可以通过以下方式获得它：

> {exp:channel:entries channel="events" show_future_entries="yes" show_expired="no" orderby="{date}" sort="asc" dynamic="no" start_on=""}

其中 $entry_date 的格式为 YYYY-MM-DD HH:MM（例如：2011-08-02 11:00）

它应该按以下顺序显示事件：

```
2012-08-02 11:00
2012-09-02 11:00
2012-10-02 11:00
2012-11-02 11:00 
```

但它在显示它们时不包括 2012-08-02 11:00 的事件（似乎 EE 所做的比较是 >，而不是 >=）

还有过去的事件（标记为已过期）我按年份组织和显示它们：

{exp:channel:entries channel="events" show_future_entries="no" show_expired="yes" orderby="{date}" sort="desc" dynamic="no" year="" start_on=""}

假设我过去的事件是：

```
2011-08-02 11:00
2011-09-02 11:00
2011-10-02 11:00
2011-11-02 11:00 
```

和 $entry_date = 2011-10-02 11:00

它应该显示如下内容：

```
2011-10-02 11:00
2011-09-02 11:00
2011-08-02 11:00 
```

并且它以错误的顺序显示它。

其实问题是：

1.  对于当前和未来的事件，结果中不包含 event = start_on 参数。
2.  对于过去的事件，它以错误的顺序显示事件（最旧的事件是第一个显示的事件）。

有人可以告诉我我的代码是否有问题吗？

我正在使用 EE 2.4.0，并且在我尝试执行这些操作的模板中的输入处启用了 php。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T12:37:26.127

我在这里看到的几件事。

`orderby="{date}"`实际上应该是`orderby="date"`（或者可以完全省略，因为 date/entry_date 是默认的 orderby）。

您对即将发生的事件的问题可能是您生成`$entry_date`变量的方式。你能告诉我它是如何创建的吗？您是否在某处呼应它以确保它实际上是您认为的那样？您可能会遇到 EE 和您的服务器之间的本地化差异。如果您确实有一个条目与您的输入日期完全相同`start_on`，它 *应该*会出现。尝试`start_on`手动输入日期以进行故障排除。

对于您过去的事件，您应该使用 `stop_before`，而不是`start_on`。这两个参数不注意您的`sort`参数 - 它们始终基于年表。

# android - 将数据库检索到列表视图时出错

> ID：10908155
> 
> 赞同：0
> 
> 时间：2012-06-06T04:27:25.010
> 
> 标签：android, database, sqlite

**我的主要课程**

```
 public class Tips2Main extends Activity{

DBOpener dbopener;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    dbopener = new DBOpener(this);    
}

 @Override
 protected void onResume() {
 super.onResume();

 // Configure the listview
 ArrayList<String> tips = new ArrayList<String>();
 ListView lstTips = (ListView)this.findViewById(R.id.lst_tips);
 lstTips.setAdapter(new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, tips));
 dbopener.createDatabase();

  Cursor Tips = dbopener.getTips();
  while (Tips.moveToNext()) {
      tips.add(Tips.getString(0)); // Get the current subj
  }
  Tips.close();
  lstTips.setAdapter(new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, tips));

  // Update the listview
  ArrayAdapter<String> ad = (ArrayAdapter<String>)lstTips.getAdapter();
  ad.notifyDataSetChanged();

   }

  //Close the DB when app pauses
    @Override
   protected void onPause() {
  super.onPause();
  dbopener.close();
    }

   } 
```

**我的数据库：**

```
 public class DBOpener extends Activity{
private static String DB_PATH = 
        "/data/data/sg.edu.iit.mns/databases/"; //path of our database
    private static String DB_NAME ="Tips"; // Database name
    private final Context myContext;
    private SQLiteDatabase db;

    public DBOpener(Context context) {
        //super(context, DB_NAME, null, 1 );
        myContext = context;
    }

    public void createDatabase() {
        boolean dbExists = checkDatabase();
        if (!dbExists) {
            try
            {
                copyDatabase();
            }

            catch (IOException e)
            {
                Toast.makeText(myContext, "Error", Toast.LENGTH_LONG).show();
            }
        }
        String path = DB_PATH + DB_NAME;
        db = SQLiteDatabase.openDatabase(path, null, SQLiteDatabase.OPEN_READWRITE);
    }

    private boolean checkDatabase() {
        File database = new File(DB_PATH + DB_NAME);
        return database.exists();
    }

    private void copyDatabase() throws IOException {
        InputStream istream = myContext.getAssets().open(DB_NAME);
        OutputStream ostream = new FileOutputStream(DB_PATH + DB_NAME);

        // Transfer bytes from istream to ostream
        byte[] buffer = new byte[1024];
        int length;
        while ((length = istream.read(buffer)) > 0) {
            ostream.write(buffer, 0, length);
        }
        // Close streams
        istream.close();
        ostream.flush();
        ostream.close();
    }

    public synchronized void close()
    {
        if(db !=null)
            db.close();
    }

    // Retrieve tips
    public Cursor getTips() {
        if (db == null)
            return null;
        return db.query("tips", new String[] {"Tips"},
            null, null, null, null, null);
    } 
```

**错误日志：**

```
 06-06 04:21:34.214: I/Database(719): sqlite returned: error code = 14, msg = cannot open file at source line 25467
     06-06 04:21:34.224: E/Database(719): sqlite3_open_v2("/data/data/sg.edu.iit.mns/databases/Tips", &handle, 2, NULL) failed
     06-06 04:21:34.224: D/AndroidRuntime(719): Shutting down VM
     06-06 04:21:34.224: W/dalvikvm(719): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
     06-06 04:21:34.264: E/AndroidRuntime(719): FATAL EXCEPTION: main
     06-06 04:21:34.264: E/AndroidRuntime(719): java.lang.RuntimeException: Unable to resume activity {sg.edu.iit.mns/sg.edu.iit.mns.Tips2Main}: android.database.sqlite.SQLiteException: unable to open database file
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3128)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3143)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2684)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.os.Handler.dispatchMessage(Handler.java:99)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.os.Looper.loop(Looper.java:123)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.app.ActivityThread.main(ActivityThread.java:4627)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at java.lang.reflect.Method.invokeNative(Native Method)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at java.lang.reflect.Method.invoke(Method.java:521)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at dalvik.system.NativeStart.main(Native Method)
     06-06 04:21:34.264: E/AndroidRuntime(719): Caused by: android.database.sqlite.SQLiteException: unable to open database file
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.database.sqlite.SQLiteDatabase.dbopen(Native Method)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.database.sqlite.SQLiteDatabase.<init>(SQLiteDatabase.java:1812)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:817)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at sg.edu.iit.mns.DBOpener.createDatabase(DBOpener.java:41)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at sg.edu.iit.mns.Tips2Main.onResume(Tips2Main.java:33)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1149)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.app.Activity.performResume(Activity.java:3823)
     06-06 04:21:34.264: E/AndroidRuntime(719):     at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3118)
     06-06 04:21:34.264: E/AndroidRuntime(719):     ... 12 more 
```

当我尝试从数据库中填充我的列表视图时，它会强制关闭应用程序。我不确定如何进行错误检查并使其运行。这里没什么帮助。谢谢。数据库已经在资产文件夹中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:04:14.663

这是您的错误“android.database.sqlite.SQLiteException：无法打开数据库文件”。我会在你的 DBOpener 类中扩展 SQLiteOpenHelper。请参阅此示例应用程序，特别是此 URL 中的类以获取快速模板：http: [//developer.android.com/resources/samples/SearchableDictionary/src/com/example/android/searchabledict/DictionaryDatabase.html](http://developer.android.com/resources/samples/SearchableDictionary/src/com/example/android/searchabledict/DictionaryDatabase.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:15:48.973

试试这个链接，它也提供了关于 SQLite 和示例的详细描述。

[安卓SQLite](http://www.vogella.com/articles/AndroidSQLite/article.html)

[SQLite 示例](http://www.codeproject.com/Articles/119293/Using-SQLite-Database-with-Android)

它可能会帮助你...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T06:22:29.400

1.) 你为什么要从类中扩展你的数据库`Activity`类？
改变

```
public class DBOpener extends Activity{ 
```

至

```
public class DBOpener{ 
```

* * *

2.) 在你的数据库类中添加这个方法：

```
public DBOpener openDB() throws SQLException {
    db = dataHelper.getWritableDatabase();
    return this;
} 
```

调用此方法`copyDatabase()`

```
private void copyDatabase() throws IOException {
    InputStream istream = myContext.getAssets().open(DB_NAME); 
```

希望能帮助到你 ！！

# node.js - 为什么 Mongo 将我的日期存储为字符串？

> ID：10908159
> 
> 赞同：1
> 
> 时间：2012-06-06T04:27:41.747
> 
> 标签：node.js, mongodb

从 Node.js 我做

```
var startDate = new Date('2012-06-06'); 
```

然后我使用 mongodb native 保存它。它存储如下

> '2012-06-05T14:00:00.000Z'

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T06:59:45.323

MongoDB 以 UTC 格式存储日期，而不是字符串。检查 BSON 规格。

[http://bsonspec.org/#/specification](http://bsonspec.org/#/specification)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T11:19:56.050

您看到的是日期的 JSON 表示形式： new Date('2012-06-06').toJSON();

[https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date/toJSON](https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date/toJSON)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T10:36:07.977

这就是日期的显示方式。（我认为这是某种 ISO 标准代码。）在内部，它以更有效的方式保存。

# c - 选择文件保存位置的正确 GTK+ 小部件？

> ID：10908161
> 
> 赞同：2
> 
> 时间：2012-06-06T04:27:49.707
> 
> 标签：c, gtk

我正在尝试在 glade 中创建一个 GTK+ 界面，让您选择保存文件的位置。我尝试使用 GtkFileChooserButton 小部件，但是当我运行它时，我收到了警告

```
Gtk-WARNING **: gtk_file_chooser_button_set_property: Choosers of type `GtkFileChooserButton' do not support `GTK_FILE_CHOOSER_ACTION_SAVE'. 
```

对话框要我选择要打开的文件，而不是保存。

经过一些谷歌搜索，听起来使用 GtkFileChooserButton 选择保存文件的位置已经过时了。从我发现的邮件列表帖子中，这听起来像是被贬低了，因为它促进了糟糕的界面设计。

现在，我似乎无法找到**正确**的方法来做到这一点。

那么，让用户选择保存文件的正确方法是什么？当他们需要能够选择多个文件时怎么办？

抱歉，如果我不知道我在说什么，这是我第一次真正尝试用 GTK+ 和 C 做一些有用的事情。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T10:31:55.230

/* 由于你没有提供版本，假设 GTK+3 稳定 */

快速浏览[GTK+参考手册](http://developer.gnome.org/gtk3/stable/)后，很快发现手册上说`GtkFileChooserButton`只能用于选择文件或文件夹打开。为了保存它，建议使用`GtkFileChooserDialog`, 或`GtkFileChooserWidget`。哪一个更适合您的具体情况，由您决定。有关更多信息，请[参阅手册](http://developer.gnome.org/gtk3/stable/)。此外，完整的 GTK+ API 文档在[**这里**](http://www.gtk.org/documentation.php)

其实最好还是先看一下说明书，如果没有找到相关资料，再去google一下。

# java - 在 .java 文件中使用 unicode 字符？

> ID：10908162
> 
> 赞同：3
> 
> 时间：2012-06-06T04:28:01.850
> 
> 标签：java, android, unicode

我想在这样的类文件中设置一个 unicode 字符：

```
TextView tv = ...;
tv.setText("·"); 
```

在 .java 文件中使用 unicode 字符有什么潜在的问题吗？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T04:29:10.367

不会。Java 字符串支持 Unicode，因此您不会遇到任何问题。您可能必须检查`TextView`该类是否处理所有 Unicode 字符（它应该），但 Java 本身将处理 unicode 字符。

您还应该确保使用正确的编码设置保存文件。本质上，这意味着您的编辑器应该将 java 文件保存为 UTF-8 编码的 Unicode。有关此问题的更多详细信息，请参阅对此答案的评论。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T05:18:06.443

> **在 .java 文件中使用 unicode 字符有什么潜在的问题吗？**

如您所知，JVM 中的字符串存储为 Unicode - 所以问题是如何处理*Java 源文件*中的 Unicode ...

简而言之，使用 Unicode 就可以了。有几种方法可以接近它......

默认情况下，[`javac`](http://docs.oracle.com/javase/6/docs/technotes/tools/solaris/javac.html)编译器期望源文件采用平台默认编码。这可以使用`-encoding`标志覆盖：

> `-encoding encoding`
> 设置源文件编码名称，如 EUCJIS/SJIS/ISO8859-1/UTF8。如果`-encoding`未指定，则使用平台默认转换器。

或者，如果它是单个字符（看起来是这样），您可以将源文件保留在平台默认编码中，并使用 Unicode 转义序列指定字符：

```
tv.setText("\u1234"); 
```

... 其中 '1234' 是您想要的字符的 Unicode 值。

另一种选择是首先将文件保存为与 Unicode 兼容的编码（例如 UTF-8），然后用于[`native2ascii`](http://docs.oracle.com/javase/6/docs/technotes/tools/solaris/native2ascii.html)将该文件转换为您的本机编码（它将任何超出范围的字符转换为相应的 Unicode 转义序列）。

> NAME
> `native2ascii`- 本机到 ASCII 转换器
> 
> 概要
> `native2ascii [ options ] [ inputfile [outputfile]]`
> 
> 描述
> Java 编译器和其他 Java 工具只能处理包含 Latin-1 或 Unicode 编码（`\udddd` 符号）字符的文件。native2ascii 将包含其他字符编码的文件转换为包含 Latin-1 或 Unicode 编码字符的文件。
> 
> 如果省略了 outputfile，则使用标准输出进行输出。此外，如果省略 inputfile，则使用标准输入进行输入。

# apache-pig - 更改为 Pig 版本 0.10.0 导致的 Apache Pig 错误 2218

> ID：10908164
> 
> 赞同：3
> 
> 时间：2012-06-06T04:28:07.997
> 
> 标签：apache-pig

我正在努力解决这个问题。我有与 Pig 0.8.1 完美运行的脚本和 UDF，但是当我尝试使用 Pig 0.10.0 运行时，我得到：

```
ERROR org.apache.pig.tools.grunt.Grunt - ERROR 2218: Invalid resource schema: bag schema  must have tuple as its field 
```

从 Pig 脚本调用 UDF 的代码如下所示：

```
 parsed = LOAD '$INPUT' 
    USING pignlproc.storage.ParsingWikipediaLoader('$LANG')
    AS (title, id, pageUrl, text, redirect, links, headers, paragraphs); 
```

ParsingWikipediaLoader 类实现[了 LoadMetaData](http://pig.apache.org/docs/r0.8.1/api/org/apache/pig/LoadMetadata.html)，getSchema() 方法如下所示：

```
 public ResourceSchema getSchema(String location, Job job)
        throws IOException {
    Schema schema = new Schema();
    schema.add(new FieldSchema("title", DataType.CHARARRAY));
    schema.add(new FieldSchema("id", DataType.CHARARRAY));
    schema.add(new FieldSchema("uri", DataType.CHARARRAY));
    schema.add(new FieldSchema("text", DataType.CHARARRAY));
    schema.add(new FieldSchema("redirect", DataType.CHARARRAY));
    Schema linkInfoSchema = new Schema();
    linkInfoSchema.add(new FieldSchema("target", DataType.CHARARRAY));
    linkInfoSchema.add(new FieldSchema("begin", DataType.INTEGER));
    linkInfoSchema.add(new FieldSchema("end", DataType.INTEGER));
    schema.add(new FieldSchema("links", linkInfoSchema, DataType.BAG));
    Schema headerInfoSchema = new Schema();
    headerInfoSchema.add(new FieldSchema("tagname", DataType.CHARARRAY));
    headerInfoSchema.add(new FieldSchema("begin", DataType.INTEGER));
    headerInfoSchema.add(new FieldSchema("end", DataType.INTEGER));
    schema.add(new FieldSchema("headers", headerInfoSchema, DataType.BAG));
    Schema paragraphInfoSchema = new Schema();
    paragraphInfoSchema.add(new FieldSchema("tagname", DataType.CHARARRAY));
    paragraphInfoSchema.add(new FieldSchema("begin", DataType.INTEGER));
    paragraphInfoSchema.add(new FieldSchema("end", DataType.INTEGER));
    schema.add(new FieldSchema("paragraphs", paragraphInfoSchema,
            DataType.BAG));

    return new ResourceSchema(schema);
} 
```

同样，脚本和 UDF 在 Pig 0.8.1 中按预期工作，所以这必须是版本之间的一些差异。我已经彻底搜索过，但在文档或 Stack Overflow 上找不到任何关于此的内容。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T11:01:17.070

看起来区别在于`ResourceFieldSchema`构造函数。

0.8.1 检测到一个 Bag 并将内部模式包装在一个元组中，而此逻辑已从 0.10.0 中删除。我想你需要修改你的模式定义以将包模式包装在一个元组中：

```
schema.add(new FieldSchema("links", new Schema(
     new FieldSchema("t", linkInfoSchema)), DataType.BAG)); 
```

然而，当在 0.8.1 上使用时，这确实会产生一个元组中的模式：

*   0.10.0：`{title: chararray,id: chararray,uri: chararray,text: chararray,redirect: chararray,links: {t: (target: chararray,begin: int,end: int)},headers: {t: (tagname: chararray,begin: int,end: int)},paragraphs: {t: (tagname: chararray,begin: int,end: int)}}`
*   0.8.1：`{title: chararray,id: chararray,uri: chararray,text: chararray,redirect: chararray,links: {t: (t: (target: chararray,begin: int,end: int))},headers: {t: (t: (tagname: chararray,begin: int,end: int))},paragraphs: {t: (t: (tagname: chararray,begin: int,end: int))}}`

您可以通过将两级访问所需标志修改为 true 来解决此问题：

```
 Schema linkInfoSchema = new Schema();
    linkInfoSchema.add(new FieldSchema("target", DataType.CHARARRAY));
    linkInfoSchema.add(new FieldSchema("begin", DataType.INTEGER));
    linkInfoSchema.add(new FieldSchema("end", DataType.INTEGER));
    Schema linkInfoSchemaTupleWrapper = new Schema(new FieldSchema("t",
            linkInfoSchema));
    linkInfoSchemaTupleWrapper.setTwoLevelAccessRequired(true);
    schema.add(new FieldSchema("links", linkInfoSchemaTupleWrapper, DataType.BAG)); 
```

然后在 0.10.0 和 0.8.1 之间产生相同的模式：

`{title: chararray,id: chararray,uri: chararray,text: chararray,redirect: chararray,links: {t: (target: chararray,begin: int,end: int)},headers: {t: (tagname: chararray,begin: int,end: int)},paragraphs: {t: (tagname: chararray,begin: int,end: int)}}`

`{title: chararray,id: chararray,uri: chararray,text: chararray,redirect: chararray,links: {t: (target: chararray,begin: int,end: int)},headers: {t: (tagname: chararray,begin: int,end: int)},paragraphs: {t: (tagname: chararray,begin: int,end: int)}}`

**0.10.0**：

```
 /**
     * Construct using a {@link org.apache.pig.impl.logicalLayer.schema.Schema.FieldSchema} as the template.
     * @param fieldSchema fieldSchema to copy from
     */
    public ResourceFieldSchema(FieldSchema fieldSchema) {
        type = fieldSchema.type;
        name = fieldSchema.alias;
        description = "autogenerated from Pig Field Schema";
        Schema inner = fieldSchema.schema;

        // allow partial schema 
        if ((type == DataType.BAG || type == DataType.TUPLE || type == DataType.MAP)
                && inner != null) {
            schema = new ResourceSchema(inner);
        } else {
            schema = null;
        }
    } 
```

**0.8.1**

```
 /**
     * Construct using a {@link org.apache.pig.impl.logicalLayer.schema.Schema.FieldSchema} as the template.
     * @param fieldSchema fieldSchema to copy from
     */
    public ResourceFieldSchema(FieldSchema fieldSchema) {
        type = fieldSchema.type;
        name = fieldSchema.alias;
        description = "autogenerated from Pig Field Schema";
        Schema inner = fieldSchema.schema;
        if (type == DataType.BAG && fieldSchema.schema != null
                && !fieldSchema.schema.isTwoLevelAccessRequired()) { 
            log.info("Insert two-level access to Resource Schema");
            FieldSchema fs = new FieldSchema("t", fieldSchema.schema);
            inner = new Schema(fs);                
        }

        // allow partial schema 
        if ((type == DataType.BAG || type == DataType.TUPLE)
                && inner != null) {
            schema = new ResourceSchema(inner);
        } else {
            schema = null;
        }
    } 
```

# c - Arduino电脑鼠标/输入设备

> ID：10908171
> 
> 赞同：-2
> 
> 时间：2012-06-06T04:28:53.167
> 
> 标签：c, arduino, mouse, processing, usbserial

我已经成功地通过串行 USB 端口从 Arduino 与计算机进行了通信，并且我想到可以用 arduino 制作键盘或鼠标。假设我想将计算机的鼠标向左平移 1 个像素。为了实现这一点，我必须通过串行线路发送什么消息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-07T18:44:11.927

谷歌是一个很棒的东西。 [“使用 arduino 作为鼠标”](https://www.google.ca/search?q=use+arduino+as+mouse)返回 170 万次点击。列表中的[第三个点击将](http://arduino.cc/en/Reference/MouseKeyboard)带您以`Arduino Playground`使用新的 Leonardo 板为例。

笔记： `The Leonardo differs from all preceding boards in that the ATmega32u4 has built-in USB communication, eliminating the need for a secondary processor. This allows the Leonardo to appear to a connected computer as a mouse and keyboard, in addition to a virtual (CDC) serial / COM port.`

假设您没有该板，这里是一些其他特定板的[另一个站点，](http://hunt.net.nz/users/darran/)[另一个](http://code.rancidbacon.com/ProjectLogArduinoUSB)是项目日志，包括旧板的硬件和软件。

希望这会有所帮助（并且是对问题的更好回答）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:34:41.063

您必须重新配置 USB 接口芯片以显示为 USB HID 端点。

# objective-c - ios rightBarButtonItem

> ID：10908175
> 
> 赞同：0
> 
> 时间：2012-06-06T04:29:14.357
> 
> 标签：objective-c, ios, ios5, uikit, storyboard

我有 a `UITabBarController`which 是 a 中的第二项`UINavigationController`。

中的每一项`UITabBarController`都是 的子类`UIViewController`。如何创建一个显示在导航栏右上角的按钮，并根据选择的选项卡进行更改。

我正在使用`storyboards`，以防万一有实现此目的的 gui 方式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:24:23.327

实现 UITabBarControllerDelegate 方法 tabBarController:didSelectViewController: 然后根据选择的视图控制器设置 UINavigationController 的 rightBarButtonItem 以显示您想要显示的任何内容。

# google-chrome-extension - 当我的面板在谷歌浏览器中失去焦点时，XMLHttpRequest 停止

> ID：10908176
> 
> 赞同：0
> 
> 时间：2012-06-06T04:29:29.370
> 
> 标签：google-chrome-extension

在 popup.html 中按下按钮后，我正在从我的 google chrome ui 发送 xmlhttprequest。只要 popup.html 保持打开状态，此代码就可以正常工作。但是当 popup.html 关闭时（在 popup.html 区域外单击鼠标），xmlhttprequest 会自动中止并停止。这会导致我的程序停止执行。我想知道是否有任何方法可以继续 xmlhttprequest，即使窗口被隐藏并失去焦点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:46:02.283

您的 AJAX 请求应由后台脚本完成。用户无法轻易停止此脚本的执行。

你应该像这样修改你的扩展：

*   用户单击弹出窗口中的某些内容
*   [popup 从后台页面](http://code.google.com/chrome/extensions/extension.html#method-getBackgroundPage)调用函数
*   *（不再需要从弹出窗口的这个地方打开）*
*   后台页面发送 AJAX 调用并检索答案
*   *（后台页面可能会忽略/存储 AJAX 调用的答案或将其传递给某些内容脚本/弹出脚本等）*

# c# - 检查文件的 crc32

> ID：10908182
> 
> 赞同：1
> 
> 时间：2012-06-06T04:30:45.547
> 
> 标签：c#, hash, crc32

这不是一个真正的“如何”问题。

是否有应用程序用于将文件校验和存储在文件夹中的“标准”文件结构？我正在开发一个工具来检查各种东西，如 crc32、md5、sha1、sha256 等......我想让我的程序将各种哈希值存储在我正在检查的文件夹中的文件中。

我知道有一个常用的文件叫做“md5sums”或“sha1sums”。但是CRC呢？我没有注意到周围的任何东西。如果有，它的结构是什么？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-15T09:41:40.497

我可能会考虑先看一下 bit torrent 文件。我认为它使用了类似 JSON 的风格

如果你有一个 torrent 程序，你可以为一个文件夹和内容生成一个 .torrent 文件并检查它

我认为这使用了文件部分的连接 SHA1 哈希，但你可以在它的位置连接多个哈希，然后进行长度编码。

维基百科有以下例子：[http ://en.wikipedia.org/wiki/Torrent_file](http://en.wikipedia.org/wiki/Torrent_file)

```
{
    'announce': 'http://tracker.site1.com/announce',
    'info':
    {
        'name': 'directoryName',
        'piece length': 262144,
        'files':
        [
            {'path': ['111.txt'], 'length': 111},
            {'path': ['222.txt'], 'length': 222}
        ],
        'pieces': '6a8af7eda90ba9f851831073c48ea6b7b7e9feeb...8a43d9d965a47f75488d3fb47d2c586337a20b9f'
    }
} 
```

我可能会将其修改为：

```
{
    'datelastupdated': '[date hash program ran]',
    'info':
    {
        'name': 'thedirectoryName',
        'Totalfiles': 2,
        'Totaldirs': 2,
        'files':
        [
            {'name': '111.txt', 'size': 111, 'md5':"df038ad...", 'sha1':'3323...},
            {'name': '222.txt', 'size': 222 ........ etc.}
        ],
        'dirs':
        [
            {'name': 'directoryname'},
            {'name': 'othername'}
        ]

    }
} 
```

然后，您可以使用包进行 json_encoding 或解码（来自 cli 的 php 将为此工作）或您想要创建/更新它们的任何内容。

这种结构将允许您在执行 json_decode 之后方便地访问它，例如：

```
$decodedjson->info->files[x]->name 
```

我总是对这种语法感到有些困惑，所以它可能类似于 `$decodedjson->info['files'][x]->name`，但希望你明白，在结构中循环、更新比较并保存它会很容易。干杯！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-08T03:43:54.297

这就是我要找的东西。这是由程序 QuickSFV 生成的：

```
; Generated by QuickSFV v2.36 on 2012-08-09 at 16:34:25
; http://www.QuickSFV.org
;
;   1684525442  21:45.33 2012-08-05 Video.mkv
Video.mkv 9AC44069 
```

我一直在寻找一种与其他旨在实现相同目的的程序一起使用的标准格式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T04:36:49.287

MD5 哈希使用另一个文件来存储文件的哈希值。您可以使用类似的方法来存储为您的文件计算的不同 CRC。

# android - 安装时哪些图像会加载 android 设备？

> ID：10908187
> 
> 赞同：0
> 
> 时间：2012-06-06T04:31:56.880
> 
> 标签：android

我在 hdpi 文件夹中放置 20 个图像，在 mdpi 文件夹中放置 20 个图像，在 ldpi 文件夹中放置 20 个图像，都是相同的图像但分辨率不同。我正在将我的应用程序放在 android 市场中。一位用户通过市场在他的普通 android 设备上安装了我的应用程序，我的问题是在安装应用程序时总共下载了 60 张图片或只有 20 张图片（mdpi）下载了设备。感谢阅读我的问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T04:34:04.950

所有内容都存档在一个文件 (.APK) 中，因此所有设备，无论密度如何，都将接收所有图像（在本例中为 60 个）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:36:32.970

您编译的 .apk 是上传到 Play 商店的内容，编译后的 .apk 包含您**所有**的应用程序资源......所以简而言之，是的，它都是 60

# scala - 什么是 :_* 以及它如何在 Scala 中实现？

> ID：10908189
> 
> 赞同：3
> 
> 时间：2012-06-06T04:32:22.560
> 
> 标签：scala, symbols

我知道的：

```
scala> def fx(s: String *) = s.foreach(println)
fx: (s: String*)Unit

scala> val lst = List("1","2","3")
lst: List[java.lang.String] = List(1, 2, 3)

scala> fx(lst:_*)
1
2
3 
```

我想知道的：

> 1.  我该如何实施`:_*`？通过地图？
> 2.  有没有其他方法可以替代它？
> 3.  :_* 如何在 Scala 中定义？

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-06T06:15:39.977

它只是向编译器指示您已经提供了一系列元素的语法糖，没有其他“实现”。有关更多信息，您可以参考[Scala 语言规范](http://www.scala-lang.org/docu/files/ScalaReference.pdf)（第 6.6 节，第 78 页）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T18:15:42.103

对于采用可变参数的方法，`:_*`意味着您希望将集合的成员作为可变参数传递。

上面与您对应的可变参数示例：

```
scala> fx("a", "b", "c")
a
b
c 
```

你无法实现——它是一种语言特性。这并不意味着调用可变参数方法的上下文之外的任何内容。

# iphone - 如何为 iPhone 中嵌入式 youtube webview 的完成按钮和视频播放器完成方法执行不同的操作

> ID：10908190
> 
> 赞同：1
> 
> 时间：2012-06-06T04:32:38.193
> 
> 标签：iphone, objective-c

我是 iPhone 新手。请帮我解决这个问题：

我在 Iphone 中嵌入了 YouTube webview。我的问题是，当单击 YouTube 的完成按钮时，我想调用一个类，而当视频播放完毕时，应该调用一个不同的类。谁能帮我确定在 iPhone 中单击完成按钮和完成 YouTube 播放器时调用的方法是什么？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-03T12:55:13.603

如果视频在 UIWebView 中播放，那么您可以使用以下代码以及在 webview 中加载 url 的代码来访问视频何时播放以及按下完成按钮时

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(videoPlayStarted:) name:@"UIMoviePlayerControllerDidEnterFullscreenNotification" object:nil];
//For Done Button
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(videoPlayFinished:) name:@"UIMoviePlayerControllerDidExitFullscreenNotification" object:nil]; 
```

并且可以通过

```
BOOL isVideoInFullScreenMode;//Temperory added here.. must be in .h file or at teh top if required
-(void)videoPlayStarted:(NSNotification *)notification{
//Your stuff here
   isVideoInFullScreenMode = YES;
}

-(void)videoPlayFinished:(NSNotification *)notification{
    //Your stuffs here
    isVideoInFullScreenMode = NO;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T16:13:10.687

您在 UIWebView 中，因此完成按钮与您的应用程序无关：按下按钮将永远不会调用您的应用程序。

您拥有的唯一方法来自[UIWebViewDelegate](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIWebViewDelegate_Protocol/Reference/Reference.html#//apple_ref/doc/uid/TP40006951)，它们是：

*   webView:shouldStartLoadWithRequest:navigationType:
*   webViewDidStartLoad：
*   webViewDidFinishLoad：
*   网络视图：didFailLoadWithError：

如果你必须知道播放器什么时候结束，我建议你试试这个类：[LBYouTubeView](https://github.com/larcus94/LBYouTubeView)，它会在你的播放器组件上播放 youtube 视频，所以你可以使用 Player 委托的方法来做你要求的事情。

# android-activity - 在 Android 中创建一个帮助类来存储变量

> ID：10908194
> 
> 赞同：0
> 
> 时间：2012-06-06T04:33:16.977
> 
> 标签：android-activity, android

我正在制作一个音乐应用程序，它在选择歌曲时会出现很多变量，基于艺术家和专辑以及各种各样的东西。

我试图通过将所有这些变量发送到一个新类来使我的应用程序更易于使用，我认为它有点像 excel 中的“辅助单元”。它存储了一堆数据，所以我不不必一直传球和接球。

这个想法是这样的：

用户选择一首歌曲，艺术家/专辑/歌曲信息被传递给助手类。

接下来，一个音乐服务启动，从助手类中获取选择的歌曲路径，并播放它。

同时，一个活动开始，再次显示来自助手类的所选艺术家/专辑/歌曲。此处包含下一个/上一个按钮，一旦单击，助手类的当前歌曲就会改变，并指示音乐服务再次从助手类接收变量。

这将是什么类型的课程？它的范围是什么，如何实例化它，以及如何向/从该类发送和接收变量？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T04:39:56.180

使用 Application 实例来保存应用程序级变量。

1.  延长`android.app.application`

2.  在 AndroidManifest.xml 中定义您的应用程序

    ```
    <application android:icon="@drawable/ic_launcher" android:label="@string/app_name" android:name=".MainApplication"> 
    ```

3.  要在您的活动中获取您的应用程序实例，请调用`getApplication()`

例如，在您的活动的 onCreate() 方法中，您将使用此代码，假设您将应用程序类命名为“MainApplication”：

```
Application application = ((MainApplication)getApplication());
Album album = application.getAlbum();
Song song = application.getSong();
... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:46:08.573

根据您尝试执行的具体实现，您还可以使用 SharedPreferences 来存储这些变量并在选择新歌曲时根据需要更改它们等。[http://developer.android.com/guide/topics/数据/数据-storage.html#pref](http://developer.android.com/guide/topics/data/data-storage.html#pref)

# python - 如何将 UTF-8 和其他编码的字符写入 Python 中的文件？

> ID：10908195
> 
> 赞同：0
> 
> 时间：2012-06-06T04:33:18.290
> 
> 标签：python, xml, utf-8, elementtree

我有一个 SharePoint 库，它将用户输入的数据捕获为 XML 表单。这种形式被编码为 UTF-8，但用户输入的某些字符不是 ASCII（例如来自法语、西班牙语、毛利语的单词）并且不保存为 UTF-8。

这是此类数据的示例（缩写，无元数据）：

```
<?xml version="1.0" encoding="utf-8"?>
<my:myFields xmlns:my="http://schemas.microsoft.com/etc...">
    <my:title>Te whakaako i Te Reo Mäori -- Teaching Te Reo Mäori</my:title> 
```

我正在使用 ElementTree (xml.etree.ElementTree) 中的解析函数将此信息编译为报告，然后将其导出为 CSV 并在 Excel 电子表格中发送。因此，我想将 UTF-8 字符和所有用户输入都转换为适用于 Excel 的单一格式（cp1252？）：

```
import xml.etree.ElementTree as ET
course = ET.parse(os.path.join(path, filename)) 
```

当我将所有计算的结果写入文件时，我收到以下错误（对于上面的示例 XML）：

```
UnicodeEncodeError: 'ascii' codec can't encode character u'\xe4' in position 48: ordinal not in range(128) 
```

当我查看数据时，我看到标签中的文本已转换为 unicode，其中 '\xe4' 代替了 'ä': `u'Te whakaako i Te Reo M\xe4ori -- Teaching Te Reo M\xe4ori'`。

我希望能够让我的 Excel 报告包含字符“ä”，但似乎无法以实现此目的的方式对其进行编码。

我可能会遗漏一些明显的编码/解码点，但一天中的大部分时间都在为此苦苦挣扎，因此感谢您提供任何帮助:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T04:35:59.927

你正在寻找[`codecs.open()`](http://docs.python.org/library/codecs.html#codecs.open).

# ruby-on-rails - 在不重新启动 spork 的情况下更改 capybara 驱动程序

> ID：10908196
> 
> 赞同：2
> 
> 时间：2012-06-06T04:33:19.943
> 
> 标签：ruby-on-rails, selenium, cucumber, capybara, spork

我正在使用 Cucumber 和 Capybara 为我的 Rails 应用程序运行集成测试。我还使用 Spork 进行更快的测试运行。Capybara 支持**selenium**和 the headless **poltergeist**。无头浏览器有利于更快的测试运行，但有时我还需要查看浏览器显示的内容。这导致我更改 Capybara 驱动程序并重新启动 spork。

有没有办法在不重新启动 spork 的情况下更改 Capybara 驱动程序？

**我尝试过的事情**

[1] 在 features/support 中添加了一个包含驱动程序代码的模块，并在 Spork 的 each_run 中引用了该模块。它不起作用并引发错误。

[2] 在 spork 重新启动之前，使用 each_run 更改驱动程序不会注册更改。

```
Spork.each_run do
  Capybara.javascript_driver = :poltergeist
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-07T10:49:28.007

弄清楚了。[Capybara 的 github 页面](https://github.com/jnicklas/capybara#drivers)对此有一些信息。这是我所做的：

将以下代码添加到**features/support/hooks.rb**

```
Before('@javascript') do
  Capybara.current_driver = :poltergeist
end 
```

这可以随时更改，无需重新启动 Spork。我无法想出将其放置在 each_run 块中的方法。

# iphone - iOS 应用程序提交到 iTunes 源代码有一些外部框架

> ID：10908197
> 
> 赞同：0
> 
> 时间：2012-06-06T04:33:40.637
> 
> 标签：iphone, app-store-connect

我想将我的 iOS 应用程序提交到 iTunes。我在我的源代码中添加了开源框架 JSon 框架。iTunes 会接受我的应用程序吗？因为我包含了不是我创建的代码。如果有人知道，请回答。提前谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T04:37:38.350

是的，只要框架遵循 App Store 指南，即没有私有 API 等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:37:23.170

是的，因为 JSON 框架没有违反苹果的规则。

# credit-card - 在 iFrame 应用程序中允许信用卡支付服务

> ID：10908200
> 
> 赞同：1
> 
> 时间：2012-06-06T04:33:53.953
> 
> 标签：credit-card, facebook-credits

我想知道在 iFramed 应用程序中提供信用卡付款的政策是什么。我知道这是违反规则的，Facebook 要求使用积分，但有一些使用信用卡支付的 iFramed 电子商务网站的例子，特别是 Nike 澳大利亚 Facebook 网站：

[https://www.facebook.com/nikesportswearau/app_203425663079923](https://www.facebook.com/nikesportswearau/app_203425663079923)

只是想知道这是否被允许，因为我认为这将是包含在其他 iFramed 应用程序中的一个很棒的功能。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-09T15:58:27.727

Facebook.com 上的应用不需要使用积分作为支付方式，除非它们是游戏，需要使用积分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:41:42.903

我不知道你实际上可以使用你的信用卡。我明天会再研究一下。我认为 facebook 积分是您可以在 facebook 上使用的唯一货币。很棒的发现！

# c - C 编程中的结构（初始化语句）

> ID：10908201
> 
> 赞同：2
> 
> 时间：2012-06-06T04:33:59.437
> 
> 标签：c

尝试在以下结构中初始化名称时，我收到错误消息“**错误：从类型'char *'分配给类型'char [10]'时不兼容的类型” ：**

```
#include <stdio.h>

struct info
{
  char name[10]; 
  int years;
};

int main(void){
  struct info  b;

  b.name = "Michael";
  b.years = 19;
  return 0 
;} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T05:05:43.057

由于您只是尝试初始化结构，因此您可能会逃脱：

```
 struct info b = {"Michael", 19}; 
```

C 区分初始化和赋值（即使它们使用相同的运算符）。不能分配数组，（`memcpy`或必须使用类似的代替）但是数据可以以初始值设定项指定的特定值存在。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T04:36:05.183

改用这个：

```
strcpy(b.name,"Michael"); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T04:45:40.187

[数组不是](http://www.lysator.liu.se/c/c-faq/c-2.html)C 中的指针。您需要[strcpy](http://www.manpagez.com/man/3/strcpy/)将字符串复制到另一个位置。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-06T05:34:34.047

让我们看看`main()`运行时会发生什么。

```
struct info  b; 
```

通过这个你初始化`struct`，包括其中的`name`。

`name` **是一个 char 数组（正如 Jay 指出的，它与指针不同）**，现在它被分配了一块内存，里面有一些随机的东西。

下一个

```
b.name = "Michael"; 
```

通过这种方式，您尝试将字符串文字分配给您的 char 数组。

通常，您在声明中将字符串文字分配给 char 数组，如下所示`char a[] = "hello";`

它会将字符串文字复制到一块内存中，然后`a`“将内存放在一边”。但是，在您的情况下，`b.name`已经坐在另一块内存旁边，并且您不能仅通过分配来更改坐姿，因为**数组不是指针**。

所以，如果你想修改`b.name`，你要么`strcpy`像 Vaughn Cato 说的那样使用，要么按字符来做那个字符，比如

```
b.name[0] = 'M';
b.name[1] = 'i';
... 
```

这本质上与“strcpy”相同

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T05:16:52.553

问题是名称的地址必须在包含它的信息对象的内存中，而字符串字面量在内存的某个不同区域中。编译器确保它们的位置是合理的，因为它们在您的程序中被提及，并且它们不能被任意移动或合并。任何一个：

*   `name`应更改为 a`const char*`并指向文字（此处，`const char*`不得修改字符串文字），或
*   来自文字的内容`strcpy()`-ied `name`（但您需要小心确保`name`始终足够大以容纳文本并终止 ASCII NUL/0 字符），或
*   `name`更改为 a`char*`并分配给`strdup()`文字的堆分配副本（这确保您可以在`name`之后进行修改，并且由控制的内存`name`将足够大以存储文字的副​​本，但是`free(name)`当您完成时需要用它）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-06-06T04:43:07.037

如果你这样做`char name[10]`，你正在静态分配其基地址可以由`name`变量访问的内存。您不能将地址指针更改为静态分配的数组。即您不能向`name`变量添加不同的地址。

在你做 b.name = "Micheal" 时，你就是这样做的。您正在尝试将“Micheal”字符串的基地址添加到`name`变量中。

因此，正如@Vaughn 所说，将“Micheal”复制到 b.name 指向的内存中。或在结构中，更改`char name[10]`为`char *name`

# twitter-bootstrap - Twitter Bootstrap：侧边栏导航维护

> ID：10908202
> 
> 赞同：2
> 
> 时间：2012-06-06T04:33:59.080
> 
> 标签：twitter-bootstrap

如果这是一个愚蠢的问题，我提前道歉，但我对 Bootstrap 和 UI 设计是新手。

话虽如此，我的问题是关于左导航的维护。假设我的导航列出了四个链接……对我来说，这将是四个单独的源 HTML 文件……每个都有自己的导航副本。因此，如果我向我的网站添加第五页，我必须编辑五个文件（原来的四个文件用于更新导航 + 新页面）。

在我所做的搜索中，似乎真的没有很好的方法来拥有 HTML 片段（以及我希望这个内容在网络服务器/应用服务器之外运行）。此外，我的真实场景可能接近 15 页，因此仅将其设为一个大文件然后使用 jquery 显示/隐藏链接内容的想法可能不是一种选择。Bootstrap 中是否有任何组件可以帮助解决这个问题？还是一般的工具？

我已经考虑过编写一个生成站点的预处理器，但我完全赞成使用其他人首先发明的轮子！

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T16:30:59.590

你是对的，你会重新发明轮子来构建你自己的预处理器，因为有一些东西已经做得很好了。当然，这可以在 wordpress 等完整的内容管理平台中完成，或者通过编写自己的 PHP 等来完成。

您可能想先查看[Jekyll](https://github.com/mojombo/jekyll)，这是一个基于 ruby​​ 的预处理器，用于组装一个站点。它使用[Liquid](https://github.com/Shopify/liquid)来创建模板（你也可以使用没有 Jekyll 的纯 Liquid）。在需要导航栏的每个页面上，您只需添加

```
{% include navbar %} 
```

然后有一个描述您的导航栏的小 html 片段。然后你只需要在一个地方编辑 html。Jekyll 有一个活跃的社区，[Jekyll-bootstrap](http://jekyllbootstrap.com/)可能是学习开始使用 Jekyll 的一种简单方法，特别是如果您已经知道/计划使用 twitter-bootstrap。

还有很多其他类似的项目，其他你可能会看到的是[ruhoh](http://ruhoh.com/)和[yst](https://github.com/jgm/yst)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T14:07:34.993

不幸的是，还没有办法在 HTML 文档中包含来自其他文件的 HTML 代码或片段（目前）。这是 HTML 的一个缺点，并且很难在所有页面中保持所有数据相同。我发现这样做的最好方法是通过 AJAX 在一个页面中加载所有页面（例如，当单击按钮时，将一个 html 文件加载到主要内容部分）或使用 PHP 来拥有一个主索引文件包括基于`$_GET['']`变量的内容。

看到 Bootstrap 就像“用一块石头杀死 2 只鸟”类型的框架，这有点糟糕的情况，但它主要是静态的。

# ember.js - Ember.js - currentViewBinding 并在每次视图转换时停止重新渲染

> ID：10908205
> 
> 赞同：1
> 
> 时间：2012-06-06T04:34:10.117
> 
> 标签：ember.js

我有一个状态机，每当使用 currentViewBinding 进入新状态时，我都使用新的 currentViewBinding 来换出整个 containerView 的一部分：

```
 index: Ember.State.create({
    enter: function(manager) {
      App.get('appController').set('feedView', Ember.View.create({
        templateName: 'dashboard_feed',
        contentBinding: 'App.feedController.content',
        controller: App.get('App.feedController')
      }));
    }
  }) 
```

此时此刻，这些视图的渲染非常缓慢。有没有办法可以将视图保存在内存中并避免每次进入状态时重新渲染？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T04:41:04.177

我实际上为 StackOverflow 上的另一个问题提供了一个解决方案，但它在这里也非常相关。[重新激活视图时避免从头开始重新渲染 Flash 对象](https://stackoverflow.com/questions/10671745/avoiding-re-rendering-of-a-flash-object-from-scratch-when-view-is-reactivated/10775125#comment14036040_10775125)

这是 jsFiddle：http: [//jsfiddle.net/EE3B8/1](http://jsfiddle.net/EE3B8/1)

我用一个标志扩展了 ContainerView 以阻止它在 currentView 被破坏时破坏它。您需要将视图实例存放在不会被破坏的地方。

```
App.ImmortalContainerView = Ember.ContainerView.extend({
    destroyCurrentView: true,

    willDestroy: function() {
        if (!this.destroyCurrentView) { this._currentViewWillChange(); }
        this._super();
    }
});

App.immortalView = Ember.View.create({
    template: Ember.Handlebars.compile(
        'I WILL LIVE FOREVER!'
    )
}); 
```

​</p>

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-29T22:33:47.600

您可以扩展 Ember.ContainerView 以显示/隐藏其 currentView 视图，如下所示：

```
App.FastContainerView = Ember.ContainerView.extend({
  toggleCurrentViewFast: true,

  _currentViewWillChange: function() {
    var childViews = this.get("childViews"),
        currentView = this.get("currentView");

    if (this.toggleCurrentViewFast && childViews.indexOf(currentView) >= 0) {
      currentView.set("isVisible", false);
    } else {
      this._super();
    }
  },

  _currentViewDidChange: function() {
    var childViews = this.get("childViews"),
        currentView = this.get("currentView");

    if (this.toggleCurrentViewFast && childViews.indexOf(currentView) >= 0) {
      currentView.set("isVisible", true);
    } else {
      this._super();
    }
  }
}); 
```

# javascript - 通过 Javascript 或控制台全选复选框

> ID：10908212
> 
> 赞同：21
> 
> 时间：2012-06-06T04:34:50.297
> 
> 标签：javascript, html, checkbox, dom-events

我的网页上有 100 个复选框。出于测试目的，我想勾选所有这些框，但手动单击非常耗时。有没有办法让他们打勾？

也许是 JavaScript 或 Chrome 控制台窗口，什么？

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-06-06T04:44:36.027

最直接的方法是获取所有输入，仅过滤掉复选框，然后设置选中的属性。

```
var allInputs = document.getElementsByTagName("input");
for (var i = 0, max = allInputs.length; i < max; i++){
    if (allInputs[i].type === 'checkbox')
        allInputs[i].checked = true;
} 
```

* * *

如果你碰巧在使用 jQuery——我并不是说你应该开始勾选所有复选框进行测试——你可以简单地做

```
$("input[type='checkbox']").prop("checked", true); 
```

或者正如 Fabricio 指出的那样：

```
$(":checkbox").prop("checked", true); 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-06-06T04:42:42.310

纯 JS 方法，不要使用 jQuery .. 对于如此琐碎的事情，它只是愚蠢的。

```
[].forEach.call( document.querySelectorAll('input[type="checkbox"]'),function(el){
       el.checked=true;
     }
);​ 
```

**[现场演示](http://jsfiddle.net/pfR3Z/)**

要在任何网页上使用它，您可以将其粘贴到地址栏中

```
javascript:[].forEach.call(document.querySelectorAll('input[type="checkbox"]'),function(el){el.checked=true}); 
```

然后将其拖到您的书签中，您就有了一个书签。只要您需要在页面上使用它，只需单击它即可。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-06-06T04:43:16.247

`querySelectorAll`如果您不想要 jQuery，这里是您的最佳选择！

```
var ele = document.querySelectorAll("input[type=checkbox]");
for(var i=0;i<ele.length;i++){
    ele[i].checked = true;
}
//Done. 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2012-06-06T04:51:11.787

通过使用[jquery](http://jquery.com/)，就这么简单

```
$('input:checkbox').each(function () {
   // alert(this);
   $(this).attr('checked', true);
  }); 
```

或者干脆使用

```
$('input:checkbox').prop('checked', true);// use the property 
```

或者

```
 $('input:checkbox').attr('checked', true); // by using the attribute 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-15T04:00:57.813

### 多选并取消选中所有框

您需要更改的只是标签“名称”来更改其开启/关闭的内容

```
<FORM>
    <input type="checkbox" name="item0[]" onclick="CheckAll(this)" />
    <input type="checkbox" name="item0[]" value="1" />
    <input type="checkbox" name="item0[]" value="2" />
    <input type="checkbox" name="item0[]" value="3" />
    <br>
    <input type="checkbox" name="item1[]" onclick="CheckAll(this)" />
    <input type="checkbox" name="item1[]" value="a" />
    <input type="checkbox" name="item1[]" value="b" />
    <input type="checkbox" name="item1[]" value="c" />
    <br>
    <input type="checkbox" name="item2" onclick="CheckAll(this)" />
    <input type="checkbox" name="item2" value="a1" />
    <input type="checkbox" name="item2" value="b2" />
    <input type="checkbox" name="item2" value="bc" />
</FORM>

<script>
    function CheckAll(x)
    {
        var allInputs = document.getElementsByName(x.name);
        for (var i = 0, max = allInputs.length; i < max; i++) 
        {
            if (allInputs[i].type == 'checkbox')
            if (x.checked == true)
                allInputs[i].checked = true;
            else
                allInputs[i].checked = false;
        }
    }
</script> 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2012-06-06T04:47:14.873

此 JS 代码将检查您页面中的所有复选框：

```
var a = document.querySelectorAll('input[type="checkbox"]');
for (var i=0; i<a.length; i++)
    a[i].checked = true;​ 
```

[现场演示](http://jsfiddle.net/ult_combo/74Bzc/1/)

然后你所要做的就是用它创建一个书签，比如说，用[这个书签制造商](http://userjs.up.seesaa.net/js/bookmarklet.html)，它会生成这个书签代码：

```
javascript:var a=document.querySelectorAll('input[type="checkbox"]');for(var i=0;i<a.length;i++)a[i].checked=true;%E2%80%8B 
```

只需将此 URI 添加到书签工具栏中的书签，然后您只需在需要选中页面中的所有复选框时单击它即可。=]

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-04-18T21:05:44.247

[我在通过开发人员工具检查页面中的所有复选框中](https://stackoverflow.com/a/43482111/30038)提供了这个问题的答案

简而言之，您可以通过以下方式从开发工具控制台 (F12) 执行此操作：

`$$('input').map(i => i.checked = true)`

或者

`$$('input[type="checkbox"').map(i => i.checked = true)`

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2020-07-15T09:40:02.253

只需将这些单行代码之一粘贴到您的浏览器控制台：

**勾选**所有复选框：

`document.querySelectorAll('input[type="checkbox"]').forEach(e => e.checked = true);`

**取消**勾选所有复选框：

`document.querySelectorAll('input[type="checkbox"]').forEach(e => e.checked = false);`

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2012-06-06T04:45:33.543

```
 function selectAll(elem)
  {
  for (i = 0; i < elem.length; i++)
    elem[i].checked = true ;
  } 
```

在单击按钮时调用此方法并传递元素的名称（复选框 - 它们都应该同名）。

# google-checkout - 经典 ASP 中的 Google 结帐通知

> ID：10908218
> 
> 赞同：0
> 
> 时间：2012-06-06T04:36:23.057
> 
> 标签：google-checkout

任何人都可以帮助我了解如何在经典 ASP 中获取 Google 结帐通知。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T16:13:25.610

首先浏览 Google Checkout ASP 示例库：

[http://code.google.com/p/google-checkout-classicasp-sample-code/](http://code.google.com/p/google-checkout-classicasp-sample-code/)

您还可以尝试 Checkout Merchant 集成论坛：

[http://productforums.google.com/forum/#!categories/checkout-merchant/integration-troubleshooting](http://productforums.google.com/forum/#!categories/checkout-merchant/integration-troubleshooting)

# php - PHP - 我如何显示前 20 里然后有一个链接来显示更多（画廊）

> ID：10908219
> 
> 赞同：0
> 
> 时间：2012-06-06T04:36:25.213
> 
> 标签：php, list

我想在一个页面上显示大约 20 li，底部有一个链接，上面写着“显示更多”。然后，此链接将清除前 20 个并显示接下来的 20 个。我应该如何执行此操作。（我正在创建一个画廊）

我正在考虑使用 PHP 和 MySQL。但是，对于我正在做的事情，我并不真的需要将它存储在数据库中，所以有没有更简单的方法可以只使用 html、php 或 javascript 来完成它？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T04:46:37.270

正如一些人在他们的评论中所说，这个主题太笼统了。但这是一般的答案。

你可以用javascript来做到这一点。您可以创建一个 javascript 数组，其中包含您需要在列表中显示的**所有记录。**如果单击“显示更多”按钮，您可以触发一个 javascript 函数来清除页面并从列表中写入另一组项目。您只需要维护指向当前列表开头和结尾的指针。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:49:19.413

这是您可以使用的插件。

[http://www.geckonewmedia.com/blog/2009/8/20/simplepager---jquery-paging-plugin--updated](http://www.geckonewmedia.com/blog/2009/8/20/simplepager---jquery-paging-plugin--updated)

但如果您需要任何自定义代码，请告诉我

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T04:51:32.403

这是一个简单的解决方案，按照您的描述进行操作，无需任何 javascript 和 DB，只需将文件存储到磁盘：

```
<?php
$array = file('file.txt');
$from   = isset($_GET['from'])?$_GET['from']:0;
echo '<pre>';
for($i=($from+0);$i<($from+20) && $i<count($array);$i++) {
    echo '#'.$i.' '.$array[$i];
}
echo '</pre><a href="?from='.($from+20).'">MORE</a><br />'; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T05:37:26.700

试试这个

```
 $list_images=glob('imagesPath'.'*.{jpg|jpeg|png|gif}', GLOB_BRACE);

 if(isset($_REQUEST['page_id']))
 {
     $pageNo=$_REQUEST['page_id'];
 }    
 if($pageNo =='') 
     $offset=0;
 else
      $offset=$pageNo; 

 for($i=$offset; $i<($offset+20); $i++)
 {
      echo"<a href=''><img src='$list_images[$i]' /> </a>";
 } 
```

// 将页码存储在隐藏变量中

```
 <input type='submit' value='More' onclick ='pageSet()' /> 
```

//Javascript

```
 function pageSet()
   { 
    var id=document.getElementById('page_id').value;

     if(id =='')
     { 
          document.getElementById('page_id').value =1;
     }
     else
     {
            document.getElementById('page_id').value =parseInt(id)+1;
     }   

  } 
```

# objective-c - MKAnnotationView - 难以拖动

> ID：10908222
> 
> 赞同：1
> 
> 时间：2012-06-06T04:36:44.077
> 
> 标签：objective-c, ios, mapkit

我有一个用户可以在地图上拖动的 MKAnnotationView。

用户很难拖动图钉。我尝试增加帧大小并使用巨大的自定义图像。但似乎并没有真正改变拖动的命中区域大于默认值。

因此，在任何事情发生之前，我必须尝试点击/拖动大约十次。

```
MKAnnotationView *annView = [[[MKAnnotationView alloc] initWithAnnotation:annotation reuseIdentifier:@"bluedot"] autorelease];

UIImage *image = [UIImage imageNamed:@"blue_dot.png"];

annView.image = image;
annView.draggable = YES;
annView.selected = YES;
return annView; 
```

我在这里想念什么？

编辑：

事实证明，问题是需要先触摸 MKAnnotationView，然后才能拖动它。我遇到了麻烦，因为附近有很多别针，而且我的 MKAnnotationView 非常小。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T08:06:38.600

我没有意识到需要触摸 MKAnnotationView 才能拖动它。

为了解决这个问题，我创建了一个定期选择 MKAnnotationView 的计时器。

```
NSTimer *selectAnnotationTimer = [[NSTimer scheduledTimerWithTimeInterval:0.2 target:self selector:@selector(selectCenterAnnotation) userInfo:nil repeats:YES] retain]; 
```

及其调用的方法：

```
- (void)selectCenterAnnotation {
    [mapView selectAnnotation:centerAnnotation animated:NO];    
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-02T08:47:00.400

您可以在鼠标按下时选择注释，而不是使用计时器。这样您就不会弄乱注释选择，也不会为每个注释始终运行一个计时器。

我在开发 mac 应用程序时遇到了同样的问题，在鼠标按下时选择注释后，拖动效果很好。

# encryption - 有没有办法查看 Microsoft CNG 中生成的 ECDH 共享密钥？

> ID：10908227
> 
> 赞同：1
> 
> 时间：2012-06-06T04:37:29.973
> 
> 标签：encryption, encryption-asymmetric, diffie-hellman, cng

我正在尝试在 MS CNG 和另一台设备之间执行 ECDH 密钥交换。为了调试，我想看看 CNG 中生成了什么共享秘密，以便我可以将它与我的其他设备生成的秘密进行比较。有人知道这样做的方法吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-07-25T23:59:55.857

查看 MSDN 上的 CNG 文档：[NCryptSecretAgreement function](http://msdn.microsoft.com/en-us/library/windows/desktop/aa376289%28v=vs.85%29.aspx)。可以从 .NET 访问[相同](http://msdn.microsoft.com/en-us/library/bb298399.aspx)的功能。

# css - SVG 作为网站导航栏的 CSS 背景

> ID：10908228
> 
> 赞同：0
> 
> 时间：2012-06-06T04:37:34.757
> 
> 标签：css, html, svg

我画了一个小的（水平/宽度）svg 作为我网站导航的背景。我的网站导航发生在浏览器视口的 100% 处，我希望 svg 图像填充 100% 的空间。

因此，使用 css 我将导航 (.nav) 的背景设置为 nav.svg 但后来我看到（当我在浏览器中打开 html 文件时）svg 不是导航的全宽，而是小我画的宽度。

如何让 SVG 拉伸并填充导航的整个宽度（页面的 100%）？

这是导航所在的html文件的代码：

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Distributed Horizontal Menu</title>
<meta name="generator" content="PSPad editor, www.pspad.com">
<style type="text/css">
*{
    margin:0;
    padding:0;
}
.nav {
    margin:0;
    padding:0;
    min-width:42em;
    width:100%;
    height:47px;
    overflow:hidden;
    background:transparent url(nav.svg) no-repeat;
    text-align:justify;
    font:bold 88%/1.1 verdana;
}
.nav li {
    display:inline;
    list-style:none;
}
.nav li.last {
    margin-right:100%;
}
.nav li a {
    display:inline-block;
    padding:13px 4px 0;
    height:31px;
    color:#fff;
    vertical-align:middle;
    text-decoration:none;
}
.nav li a:hover {
    color:#ff6;
    background:#36c;
}
@media screen and (max-width:322px){
    /* styling causing first break will go here*/
    /* but in the meantime, a test */
    body{
        background:#ff0000;
    }
}
</style></head><body>

<ul class="nav">
<!--[test to comment out random items]
    <li>&nbsp; <a href="#">netscape&nbsp;9</a></li>
[the spacing should be distributed]-->
    <li>&nbsp; <a href="#">internet&nbsp;explorer&nbsp;6-8</a></li>
    <li>&nbsp; <a href="#">opera&nbsp;10</a></li>
    <li>&nbsp; <a href="#">firefox&nbsp;3</a></li>
    <li>&nbsp; <a href="#">safari&nbsp;4</a></li>
    <li class="last">&nbsp; <a href="#">chrome&nbsp;2</a> &nbsp; &nbsp;</li>
</ul>

</body></html> 
```

这是svg的代码：

```
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     width="321.026px" height="44.398px" viewBox="39.487 196.864 321.026 44.398"
     enable-background="new 39.487 196.864 321.026 44.398" xml:space="preserve">
<path fill="url(#SVGID_1_)" d="M360,238.721c0,1.121-0.812,2.029-1.812,2.029H41.813c-1.001,0-1.813-0.908-1.813-2.029v-39.316
    c0-1.119,0.812-2.027,1.813-2.027h316.375c1.002,0,1.812,0.908,1.812,2.027V238.721z"/>
<path opacity="0.1" fill="#FFFFFF" enable-background="new    " d="M358.188,197.376H41.813c-1.001,0-1.813,0.908-1.813,2.028
    v39.316c0,1.12,0.812,2.028,1.813,2.028h316.375c1,0,1.812-0.908,1.812-2.028v-39.316C360,198.284,359.189,197.376,358.188,197.376z
     M358.75,238.721c0,0.415-0.264,0.779-0.562,0.779H41.813c-0.3,0-0.563-0.363-0.563-0.779v-39.316c0-0.414,0.263-0.777,0.563-0.777
    h316.375c0.301,0,0.562,0.363,0.562,0.777V238.721z"/>
<path opacity="0.5" fill="#FFFFFF" enable-background="new    " d="M358.188,197.376H41.813c-1.001,0-1.813,0.908-1.813,2.028v1.461
    c0-1.12,0.812-2.028,1.813-2.028h316.375c1.002,0,1.812,0.908,1.812,2.028v-1.461C360,198.284,359.189,197.376,358.188,197.376z"/>
<g id="seperators">

        <line fill="none" stroke="#000000" stroke-width="1.0259" stroke-miterlimit="10" x1="104.5" y1="197.375" x2="104.5" y2="240.75"/>

        <line opacity="0.1" fill="none" stroke="#FFFFFF" stroke-width="1.0259" stroke-miterlimit="10" enable-background="new    " x1="103.5" y1="197.375" x2="103.5" y2="240.75"/>

        <line opacity="0.1" fill="none" stroke="#FFFFFF" stroke-width="1.0259" stroke-miterlimit="10" enable-background="new    " x1="105.5" y1="197.375" x2="105.5" y2="240.75"/>

        <line fill="none" stroke="#000000" stroke-width="1.0259" stroke-miterlimit="10" x1="167.5" y1="197.375" x2="167.5" y2="240.75"/>

        <line opacity="0.1" fill="none" stroke="#FFFFFF" stroke-width="1.0259" stroke-miterlimit="10" enable-background="new    " x1="166.5" y1="197.375" x2="166.5" y2="240.75"/>

        <line opacity="0.1" fill="none" stroke="#FFFFFF" stroke-width="1.0259" stroke-miterlimit="10" enable-background="new    " x1="168.5" y1="197.375" x2="168.5" y2="240.75"/>

        <line fill="none" stroke="#000000" stroke-width="1.0259" stroke-miterlimit="10" x1="231.5" y1="197.375" x2="231.5" y2="240.75"/>

        <line opacity="0.1" fill="none" stroke="#FFFFFF" stroke-width="1.0259" stroke-miterlimit="10" enable-background="new    " x1="232.5" y1="197.375" x2="232.5" y2="240.75"/>

        <line opacity="0.1" fill="none" stroke="#FFFFFF" stroke-width="1.0259" stroke-miterlimit="10" enable-background="new    " x1="230.5" y1="197.375" x2="230.5" y2="240.75"/>

        <line fill="none" stroke="#000000" stroke-width="1.0259" stroke-miterlimit="10" x1="295.5" y1="197.375" x2="295.5" y2="240.75"/>

        <line opacity="0.1" fill="none" stroke="#FFFFFF" stroke-width="1.0259" stroke-miterlimit="10" enable-background="new    " x1="294.5" y1="197.375" x2="294.5" y2="240.75"/>

        <line opacity="0.1" fill="none" stroke="#FFFFFF" stroke-width="1.0259" stroke-miterlimit="10" enable-background="new    " x1="296.5" y1="197.375" x2="296.5" y2="240.75"/>
</g>
<path fill="none" stroke="#000000" stroke-width="1.0259" stroke-miterlimit="10" d="M360,238.721c0,1.121-0.812,2.029-1.812,2.029
    H41.813c-1.001,0-1.813-0.908-1.813-2.029v-39.316c0-1.119,0.812-2.027,1.813-2.027h316.375c1.002,0,1.812,0.908,1.812,2.027
    V238.721z"/>
</svg> 
```

我感谢并欢迎任何和所有的评论、帮助和建议。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:25:13.893

尝试添加背景尺寸元素。（背景尺寸：100% 100%；）

```
 .nav {
        margin:0;
        padding:0;
        min-width:42em;
        width:100%;
        height:47px;
        overflow:hidden;
        background:transparent url(nav.svg) no-repeat;
        background-size: 100% 100%;
        text-align:justify;
        font:bold 88%/1.1 verdana;
    } 
```

# facebook - 添加页面选项卡对话框不起作用

> ID：10908230
> 
> 赞同：12
> 
> 时间：2012-06-06T04:37:36.517
> 
> 标签：facebook, tabs

我一直在使用直接添加到页面选项卡 URL，如下所示：

[http://www.facebook.com/dialog/pagetab?app_id=238557109577754&redirect_uri=http://www.facebook.com](http://www.facebook.com/dialog/pagetab?app_id=238557109577754&redirect_uri=http://www.facebook.com)

今天那个 URL 给了我“**对不起，出了点问题。** ”。Facebook方面有什么变化吗？或者它是一个临时错误？

请注意，我尝试了其他 redirect_uri 参数，例如托管应用程序的位置的 URL。它总是会导致相同的错误。

**编辑：**这是一个错误：[https ://developers.facebook.com/bugs/304168516342380](https://developers.facebook.com/bugs/304168516342380)

您可以使用 Graph API Explorer 在 API 上添加页面选项卡作为解决方法。有关详细信息，请参阅上面的链接。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-06-06T14:41:45.237

Facebook 似乎又做出了改变，并没有通知任何人。下面是一个似乎有效的新链接。只需将 APP-ID 替换为您的应用程序 ID。

[https://www.facebook.com/add.php?api_key=](https://www.facebook.com/add.php?api_key=) {APP-ID}&pages=1

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-06-06T23:30:16.103

尝试这个：

[https://www.facebook.com/add.php?api_key=APP_ID&pages=1](https://www.facebook.com/add.php?api_key=APP_ID&pages=1)

将 APP_ID 替换为您的应用程序 ID

# iphone - Do I have to use nonatomic property in objective-c ios programing?

> ID：10908238
> 
> 赞同：0
> 
> 时间：2012-06-06T04:39:35.050
> 
> 标签：iphone, ios, atomic, nonatomic

I'm developing an iPhone app.

All the iPhone development books I have read use nonatomic property.
And IBOutlets which xcode generates also use nonatomic keyword.

But I don't like to write `nonatomic` on every property because it decrease readability too much.

Are there any problem if I do not use `nonatomic` keyword for all properties?

If nonatomic keyword makes my app only a little bit faster, I want to delete all `nonatomic` keywords.
Is it good idea?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T04:45:38.257

If you delete `nonatomic` from property then by default all your properties will be 'atomic'. If there are a lot of 'atomic' properties without purpose then it will slow up your app, because at compile time atomic properties generate a complex code and every time you use that property that code will be executed.

# hadoop - 如何使用 cloudera 管理 (ui) 控制台编辑 hadoop-metrics.properties？

> ID：10908250
> 
> 赞同：1
> 
> 时间：2012-06-06T04:40:50.270
> 
> 标签：hadoop, monitoring, hbase, cloudera, ganglia

我正在尝试使用 Ganglia 监控 Hbase。如何使用cloudera管理控制台编辑hadoop-metrics.properties中的dfs.server属性？

根据 [http://wiki.apache.org/hadoop/GangliaMetrics](http://wiki.apache.org/hadoop/GangliaMetrics)我需要改变：

```
dfs.servers=@GANGLIA@:8649 
```

但我无法在 cloudera 的管理控制台上看到修改 dfs.server 值的选项。

我应该如何进行？

```
dfs.class=org.apache.hadoop.metrics.ganglia.GangliaContext31
mapred.class=org.apache.hadoop.metrics.ganglia.GangliaContext31
hbase.class=org.apache.hadoop.metrics.ganglia.GangliaContext31
jvm.class=org.apache.hadoop.metrics.ganglia.GangliaContext31
rpc.class=org.apache.hadoop.metrics.ganglia.GangliaContext31
ugi.class=org.apache.hadoop.metrics.ganglia.GangliaContext31
dfs.period=10
mapred.period=10
hbase.period=10
jvm.period=10
rpc.period=10
ugi.period=10
dfs.fileName=/tmp/metrics/dfs.log
mapred.fileName=/tmp/metrics/dfs.log
hbase.fileName=/tmp/metrics/hbase.log
jvm.fileName=/tmp/metrics/jvm.log
rpc.fileName=/tmp/metrics/rpc.log
ugi.fileName=/tmp/metrics/ugi.lo 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T06:55:50.987

我认为 Cloudera 管理控制台无法通过 UI 编辑 hadoop-metrics.properties 配置，您只需要手动编辑此配置。在 Hadoop 中，hadoop-metrics.properties 配置设置包含指标上下文“dfs”、“mapred”和“jvm”的设置，因此您可以编辑“dfs”部分，如下所示：

首先停止 HDFS 服务。

访问 conf/hadoop-metrics.properties 添加 GangliaMetrics 所需的更改：

```
dfs.servers=@GANGLIA@:8649 
```

重启 HDFS 服务

# c++ - 使用链接删除哈希表中的值

> ID：10908255
> 
> 赞同：0
> 
> 时间：2012-06-06T04:41:17.873
> 
> 标签：c++, arrays, hash

我有一个在哈希表中搜索值的函数：

```
bool search(int n, Node* hashtable[]) {
    int x = n % 10;
    Node * temp;
    for (temp = hashtable[x]; temp != NULL; temp = temp->next) {
        if (temp->value == n) {
            return true;
        }
    }
    return false;
} 
```

我怎样才能创建一个删除值的函数`hashtable`？
我猜我必须将`return true;`部分更改为：“好的，删除该值，但是该链接列表中的其他值呢？”

例如，我有`112 -> 1112 -> 111112`并且我想删除`1112`.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T04:48:23.020

要删除单链表中的某些内容，您必须让指向它的链接指向下一个元素或`NULL`（如果删除最后一个元素）。删除只有一个条目的列表时，您需要更改`hashtable[n]`为`NULL`。但是，我们无法判断此列表是单链接还是双链接。如果 Node 也有`prev`指针，您还需要以类似的方式更正它。我的建议是把你需要处理的案例写在纸上，并思考指针的移动方式。

情况1

```
hashtable[n] -> Node-to-delete -> NULL 
```

案例二

```
hashtable[n] -> Node -> Node-to-delete -> NULL 
```

案例 3

```
hashtable[n] -> Node-to-delete -> Node -> NULL 
```

案例 4

```
hashtable[n] -> Node -> Node-to-delete -> Node -> NULL 
```

> 我猜我必须将返回值更改为 true；部分内容说：“好的，删除该值，但是该链接列表中的其他值呢？”

如果调用代码要求删除列表中的值，它可能想要也可能不想验证是否找到了该元素。如果您想为调用者提供洞察力，那么您仍然可以返回 true 或 false。最好使用枚举使返回值的导入明确：

```
enum Result { Element_Found_And_Deleted, Element_Not_Found };

Result delete(int n, Node* hashtable[]);

// client usage:
if (delete(4, my_hashtable) != Element_Found_And_Deleted)
    FATAL("element not found - code must be broken");
...if applicable, or perhaps...
if (delete(4, my_hashtable) != Element_Found_And_Deleted)
    std::cout << "hey, you haven't added that value yet\n"; 
```

因为`search`，如果 Node 包含的不仅仅是`value`键，那么调用者可能想要访问它并返回指向数据的指针会比是否找到节点的布尔指示符更有用。

# c++ - BOOST_PP_VARIADIC_SIZE 没有扩大

> ID：10908256
> 
> 赞同：2
> 
> 时间：2012-06-06T04:41:24.080
> 
> 标签：c++, boost, boost-preprocessor

我正在测试 BOOST_PP_VARIADIC_SIZE 如下：

```
#include <boost/preprocessor.hpp>
#define PORT_HOST A,B
#define PORT_ADDR 1,2,3,4
#define VAR_DATA x, y, z
BOOST_PP_VARIADIC_SIZE(VAR_DATA) 
```

这是我扩展后得到的：

```
BOOST_PP_VARIADIC_SIZE(x, y, z) 
```

但如果我这样做：

```
#define SEQ (B)(O)(O)(S)(T)
BOOST_PP_SEQ_ENUM(SEQ) // expands to B, O, O, S, T 
```

扩展后，我得到：

```
B, O, O, S, T 
```

我在 Mac OS 上使用了几乎最新的 clang。g++ 也产生相同的结果。

我想知道这里发生了什么。为什么可变参数增强预处理器不能正确扩展。我正在使用提升 1.49.0

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-08T23:44:23.183

找到了答案。在 Boost 1.49 中，在头文件 BOOST/Preprorccessor/config.hpp 中，没有定义**clang**来支持 Variadic marcos。原因是“未测试”.... :(

启用 clang 后，variadic marco 按预期扩展。

# javascript - 如何使用外部选择值设置表单值

> ID：10908257
> 
> 赞同：4
> 
> 时间：2012-06-06T04:41:34.250
> 
> 标签：javascript, scala, playframework

所以我正在使用播放框架，并尝试创建多个调用一个表单的提交按钮：

所以我有一个字符串列表，我想创建两个按钮，它们将返回服务器并完成一个事件，第一个是发送，第二个是取消。我还想做的是将源值设置为等于在 foo 选择对象中选择的值。我该怎么做呢？我是否需要创建一个javascript，即使它是从表单中触发的，然后在该函数中获取var，然后触发提交？我不是 100% 熟悉 play framework 和 scala，所以我不确定我是否可以在不使用新方法的情况下以某种方式在这段代码中得到它。

```
@(myList: List[String], theForm: Form[Obj])
@import helper._
@main("myVar Controller") {

<select id="foo">
</select>

<table border="1">
    <tr>
    @for(myVar <- myList) {
        <td>@myVar
        @form(routes.Application.method()) {
        <div id="hiddenForm" style="visibility:hidden">
            <input type="text" name="commandID" id="commandID" value="10" />    //Send Code
            <input type="text" name="source" id="source" value=**"Put selected value of foo here" />**
            <input type="text" name="destination" id="destination" value="@myVar" />
        </div>
        <input type="submit" value="Send" />
        }
        @form(routes.Application.method()) {
        <div id="hiddenForm" style="visibility:hidden">
            <input type="text" name="commandID" id="commandID" value="18" />    //Undo code
            <input type="text" name="source" id="source" value=**"Put selected value of foo here" />**
            <input type="text" name="destination" id="destination" value="@myVar" />
        </div>
        <input type="submit" value="Undo" />
        }
        </td>
    }
    </tr>
</table> 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:30:24.557

首先，html 无效。您应该首先确保没有具有相同 id 的元素。

您必须使用 javascript 来更改表单中的值。我不熟悉标量或 playframework，但如果它们允许您使用 jQuery，我推荐以下解决方案。

```
$("#foo").bind("change", function(){$("#source").val($("#foo").val()));});​ 
```

**示例：http:** [//jsfiddle.net/RubenJonker/a8a8p/5](http://jsfiddle.net/RubenJonker/a8a8p/5)

如果他们不允许您使用 jQuery，那么您应该在 select 的 onchange 事件中添加一些 javascript。

```
<select onchange="document.getElementById('source').value = this.value">
</select> 
```

**例如：http:** [//jsfiddle.net/RubenJonker/a8a8p/4](http://jsfiddle.net/RubenJonker/a8a8p/4)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T23:45:00.080

万一其他人遇到此问题，我使用以下方法解决了我的问题：感谢 Ruup，因为您的代码是我解决问题的原因

html:

```
<select id="foo" >
    <option></option>
    <option value="test">test</option>
</select>
<input type="text" value="" name="field" id="field" />​ 
```

和 javascript：

```
$(document).ready(function() { 
obj = document.getElementById("foo");
obj.onchange = function()
{
     var elements = document.getElementsByName('field');
     for (i=0;i<elements.length;i++)
     {
         elements[i].value = $('#foo').val();
                 }
 }; }); 
```

# c# - AJAX / ASP.Net / C#：仅在验证后显示下一个内容？

> ID：10908259
> 
> 赞同：0
> 
> 时间：2012-06-06T04:41:44.167
> 
> 标签：c#, asp.net, ajax, asp.net-ajax, validation

我目前有一个`Web Form`看起来像这样的 ASP.Net： ![在此处输入图像描述](../Images/af70b6201e046058e51bfc8c89464914.png)

此 Web 表单的每个部分都包含在其自身`div`中，因此可以通过将 CSS`display:`属性更改为 来显示或隐藏它们`none`。我的目的是从第一个开始，一次展示每个部分。当用户单击“下一步”时，当前可见的部分将被隐藏，下一个部分将显示在其位置。

许多字段都附加了 ASP.Net 验证控件（此图像中显示了“邮政编码”验证错误消息作为示例）。

这些验证控件具有`runat=server`

整体`Web Form`正在通过动态加载到父 div`AJAX`中。每个`Next`按钮*都不*是类型`submit`（它们是`<input type= "button">`）。

如何确保在允许用户点击“下一步”之前验证*给定部分中的所有字段？*

我非常坚持这一点，所以非常感谢一些帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T04:50:46.597

一种选择是每个 DIV 都可以有 Next 按钮，也可以使用一个 ValidationGroup 作为按钮，并且需要在 div 中验证控件。如果您设置验证组，它将在回发之前仅验证相同的组控件。

或者，您可以拥有一个“下一步”按钮，并在单击“下一步”按钮时使用客户端脚本或代码更改该按钮的验证组。

[在客户端使用 javascript 更改按钮的验证组](https://stackoverflow.com/questions/3042724/changing-validation-group-of-button-with-javascript-on-client-side)

# php - 使用 PHP 和 MySQL 的二叉树，从注册成员中创建 5 个子代和 25 个孙代

> ID：10908261
> 
> 赞同：0
> 
> 时间：2012-06-06T04:41:49.120
> 
> 标签：php, mysql

正在开发一个需要使用根 ID 创建子孙的项目

它以这种方式工作 user_1 注册自己，他（user_1）还注册 2、3、4、5、6 并且总共（最多）5 个子 user_2 寄存器 7、8、9、10、11 user_3 寄存器 12、13， 14、15、16 等

在 user_1 的个人资料上，一个树形表列出了他的孩子和他的孩子，还显示了他从每个注册孩子那里获得的孙辈。

```
 1
 ----------------------------------------------------------------------
    |                  |                  |               |                |
     2                3                  4               5                6
---------------     ---------------   ---------------  ------------   -------------- 
|   |   |  |  |     |   |   |  |  |   |  |   |  |  |   |  |  |  |  |  |  |  |   |   |
7   8   9  10 11    12  13 14 15  16  17 18  19 20 21  22 23 24 25 26 27 28 29 30  31 
```

User_ID 不一定按顺序排列，而只是一个示例 然后，**用户 1**会看到他拥有的子孙总数 孩子的最大值 = 5，孙子 = 20 == (25)

我创建了一个这样的表

```
 id | name  | password | totalfamily | grandparent | parent_id
 --------------------------------------------------------------- 
```

我希望这张桌子能像下面这样保存信息

```
id | name  | password | totalfamily | grandparent | parent_id
1     jon     ******                  NULL          NULL
2     mel     ******                  NULL          1
3     al      ******                  NULL          1
4     me      ******                  1             3 
```

如果需要新的表结构来使其工作，那也可以。

我已经完成了注册程序（包括检查parent_id和grandparent_id）和登录

但我正在修复如何查询数据库以帮助我列出名称，如树结构以显示子孙

我知道它需要复杂的查询语句来执行

我迫切需要解决这个问题（希望它不会违反规则），因为我花了几天时间阅读我的 Mysql+PHP 的分层数据结构教程，但似乎没有一个容易朝着我的方向前进。

帮助任何人？？？提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T04:57:58.607

我刚刚创建了 id,name parent_id 的表

```
+----+--------+-----------+
| id | name   | parent_id |
+----+--------+-----------+
|  1 | one    |      NULL |
|  2 | two    |         1 |
|  3 | three  |         1 |
|  4 | four   |         2 |
|  5 | five   |         2 |
|  6 | six    |         2 |
|  7 | seven  |         2 |
|  8 | eight  |         3 |
|  9 | nine   |         3 |
| 10 | ten    |         3 |
| 11 | eleven |         3 |
+----+--------+-----------+ 
```

当用户 1 想要得到所有的孩子时。查询会这样

```
select * from users where parent_id in(select id from users where parent_id = 1) or parent_id = 1; 
```

我想它可以帮助你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-07T12:34:18.890

```
+----+--------+-----------+------------+
| id | name   | parent_id |grandparentID
+----+--------+-----------+------------+
|  1 | one    |      NULL |     NULL   |
|  2 | two    |         1 |     NULL   |
|  3 | three  |         1 |      1     |
|  4 | four   |         2 |      1     |
|  5 | five   |         2 |      2     |
|  6 | six    |         2 |      2     |
|  7 | seven  |         2 |      2     |
|  8 | eight  |         3 |      3     |
|  9 | nine   |         3 |      2     |
| 10 | ten    |         3 |      1     |
| 11 | eleven |         3 |      2     |
+-------------+-----------+------------+ 
```

我就是这样考虑的。

在列出孩子的页面中，这就是我得到它的方式。

```
 Normal_codes
                          |
    ---newman ---ukwangwa ---hello ---azonto 
```

使用以下代码

```
 function display_tree() {  
$result = $this->qry("SELECT * FROM users WHERE Parent='?' or Parent ='?';" ,
 'in(select id from user_id from users where Parent = "'.$_SESSION['id'].'")', $_SESSION['id']);
      //select * from users where parent_id in(select id from users where parent_id = 1) or parent_id = 1;  

         echo '<div align="center">'.$_SESSION['name'].'<br></div>';
         echo '<div align="center">|</div>';
           echo '<div align="center">';
          while( $row=mysql_fetch_assoc($result)){
               echo "\n\r---".$row['name'];
              $result1 = $this->qry("SELECT * FROM users WHERE grandParent='?' or grandParent ='?';" ,
 'in(select user_id from users where grandParent = "'.$_SESSION['id'].'")', $_SESSION['id']);
             while( $row1 =mysql_fetch_assoc($result1)){ 
                //echo "<br>--".$row1['name'];  
             }
          }; 
          echo '</div>';

    } 
```

任何人都知道任何 HTML、Javascript/Jquery 代码可以帮助我以树的形式列出子孙。

```
 Normal_codes
                                  |
       ---newman ---     ukwangwa     ---  hello     ---    azonto
            |                |               |               |
   n1 n2  n3 n4 n5 n1 n2 n3 n4 n5   h1 h2 h3 h4 h4    a1 a2 a3 a4 a5 
```

首字母是五位父母各自登记的孩子

任何帮助我查询的 PHP 代码也将不胜感激。

# android - Android：如何将 2D Enum 数组传递给 Bundle？

> ID：10908262
> 
> 赞同：1
> 
> 时间：2012-06-06T04:41:51.953
> 
> 标签：android, arrays, enums, 2d, bundle

我有一个 2D 枚举数组，我想在我的两个活动之间传递。

目前，我将 2D Enum 数组转换为 2D int 数组，将其传递给 Bundle，然后将其转换为 1D Object 数组，然后转换为 2D int 数组，最后返回到我的 2D Enum 数组。

有一个更好的方法吗？

在检查了 Android 之后，我通过单个枚举没有问题[：如何将枚举放入捆绑包中？](https://stackoverflow.com/questions/3293020/android-how-to-put-an-enum-in-a-bundle)

我尝试直接传递和检索 2D Enum 数组，但是当我尝试检索它时出现 RuntimeException。

这是我的代码：

将二维数组传递给 Bundle：

```
 // Send the correct answer for shape arrangement
    Intent intent = new Intent(getApplicationContext(), RecallScreen.class);

    Bundle bundle = new Bundle();

    // Convert mCorrectShapesArrangement (Shapes[][]) to an int[][].
    int[][] correctShapesArrangementAsInts = new int[mCorrectShapesArrangement.length][mCorrectShapesArrangement[0].length];
    for (int i = 0; i < mCorrectShapesArrangement.length; ++i)
        for (int j = 0; j < mCorrectShapesArrangement[0].length; ++j)
            correctShapesArrangementAsInts[i][j] = mCorrectShapesArrangement[i][j].ordinal();

    // Pass int[] and int[][] to bundle.
    bundle.putSerializable("correctArrangement", correctShapesArrangementAsInts);

    intent.putExtras(bundle);

    startActivityForResult(intent, RECALL_SCREEN_RESULT_CODE); 
```

从 Bundle 中检索：

```
 Bundle bundle = getIntent().getExtras();

    // Get the int[][] that stores mCorrectShapesArrangement (Shapes[][]).      
    Object[] tempArr = (Object[]) bundle.getSerializable("correctArrangement");
    int[][] correctShapesArrangementAsInts = new int[tempArr.length][tempArr.length];
    for (int i = 0; i < tempArr.length; ++i)
    {
        int[] row = (int[]) tempArr[i];
        for (int j = 0; j < row.length; ++j)
            correctShapesArrangementAsInts[i][j] = row[j];
    }

    // Convert both back to Shapes[][].
    mCorrectShapesArrangement = new Shapes[correctShapesArrangementAsInts.length][correctShapesArrangementAsInts[0].length];
    for (int i = 0; i < correctShapesArrangementAsInts.length; ++i)
        for (int j = 0; j < correctShapesArrangementAsInts[0].length; ++j)
            mCorrectShapesArrangement[i][j] = Shapes.values()[correctShapesArrangementAsInts[i][j]]; 
```

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T04:45:36.037

创建一个自定义类，其中包含在 Enum(getter/setter) 上实现 Parcelable 的 2D 数组[**，**](http://developer.android.com/reference/android/os/Parcelable.html)然后您可以通过意图传递该自定义类的对象。

```
class customclass implements Parcelable { 
   public enum Foo { BAR, BAZ }

   public Foo fooValue;

   public void writeToParcel(Parcel dest, int flags) {
      dest.writeString(fooValue == null ? null : fooValue.name());
   }

   public static final Creator<customclass> CREATOR = new Creator<customclass>() {
     public customclass createFromParcel(Parcel source) {        
       customclass e = new customclass();
       String s = source.readString(); 
       if (s != null) e.fooValue = Foo.valueOf(s);
       return e;
     }
   }
 } 
```

# regex - Oracle正则表达式返回特定开始和结束字符串之间的子字符串

> ID：10908266
> 
> 赞同：0
> 
> 时间：2012-06-06T04:42:11.273
> 
> 标签：regex, oracle

我正在尝试进行正则表达式匹配以返回起点和终点之间的子字符串。

给定下表：

```
WITH test AS (SELECT 'ABCD_EFGH_THIS_IJKL' AS thetext FROM DUAL
UNION SELECT 'ABAB CDCD EG BCD' FROM DUAL)
SELECT *
FROM test 
```

我想返回结果：

```
'THIS'
NULL 
```

所以它会在第一个字符串中匹配 THIS，而在第二个字符串中不匹配。

为此可以安全地假设 ABCD_EFGH 在我要匹配的文本之前，而 _ 在我要匹配的文本之后。

谢谢你的帮助！

编辑：这需要在 10g 上工作。很抱歉没有把头巾弄得那么清楚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:34:16.373

将 REGEXP_SUBSTR 与 11g 一起使用

```
WITH test AS (SELECT 'ABCD_EFGH_THIS_IJKL' AS thetext FROM DUAL
UNION SELECT 'ABAB CDCD EG BCD' FROM DUAL)
SELECT REGEXP_SUBSTR( TEST.THETEXT, 'ABCD_EFGH_([^_]*).*', 1, 1, 'i', 1)
FROM test 
```

**编辑**

这可以在不使用正则表达式的情况下完成。

```
WITH test AS (SELECT 'ABCD_EFGH_THIS_IJKL' AS thetext FROM DUAL
UNION SELECT 'ABAB CDCD EG BCD' FROM DUAL)
select TEST.thetext
     , instr(TEST.thetext, 'ABCD_EFGH_') + length('ABCD_EFGH_')  START_POS
     , instr(TEST.thetext, '_', length('ABCD_EFGH_') + 1) END_POS
     , substr
            (TEST.thetext
            ,instr(TEST.thetext, 'ABCD_EFGH_') + length('ABCD_EFGH_') --START_POS
            ,instr(TEST.thetext, '_', length('ABCD_EFGH_') + 1) - (instr(TEST.thetext, 'ABCD_EFGH_') + length('ABCD_EFGH_')) --END_POS - START_POS
            ) RESULT
FROM test 
```

# google-apps-script - 如何在 FILTER 中使用自定义函数？

> ID：10908267
> 
> 赞同：3
> 
> 时间：2012-06-06T04:42:24.187
> 
> 标签：google-apps-script, google-sheets

我定义了一个自定义函数，它从字符串中提取部分地址：

```
/*
 * Return the number preceding 'N' in an address
 *    '445 N 400 E' => '445'
 *    '1083 E 500 N' => '500'
 */
function NorthAddress(address) {
  if (!address) return null;
  else {
    var North = new RegExp('([0-9]+)[\\s]+N');
    var match = address.match(North);
    if (match && match.length >= 2) {
      return match[1];
    }
    return null;
  }
} 
```

我想将此函数用作在`FILTER(...)`存储这些地址的电子表格中调用的条件之一：

```
=FILTER('Sheet 1'!A:A, NorthAddress('Sheet 1'!B:B) >= 450)) 
```

但是，当我`NorthAddress`这样调用时，它会在 B 列中获取所有值的数组，而我终其一生都找不到任何关于如何处理它的文档。最明显的方法（对我来说）似乎不起作用：遍历数组调用`NorthAddress`每个值，并返回一个结果数组。

我的函数需要返回什么才能`FILTER`按预期工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T11:26:50.217

当调用自定义函数传递多单元格范围时，它会接收一个值矩阵（二维数组），无论该范围是单列还是单行，它始终是一个矩阵。你也应该返回一个矩阵。

无论如何，我不会对此使用自定义函数，因为已经有本机电子表格公式：`RegexMatch`和`RegexExtract`公式`RegexReplace`。要获得“如果匹配”行为，只需将它们包装在`IfError`公式中即可。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T11:25:35.843

它不起作用，因为地址是，如果您只将一个单元格作为 arg 传递一个字符串、一个范围、一个字符串矩阵。

所以你返回一个字符串， FILTER 使用一个布尔数组来过滤数据，所以你的过滤器的条件是`string`< `number`。

您只需在返回值时将字符串转换为数字

```
/*
 * Return the number preceding 'N' in an address
 *    '445 N 400 E' => '445'
 *    '1083 E 500 N' => '500'
 */
function NorthAddress(address) {
  if(typeof address == "string"){
    if (!address) return "#N/A";
    else {
      var North = new RegExp('([0-9]+)[\\s]+N');
      var match = address.match(North);
      if (match && match.length >= 2) {
        return parseInt(match[1]);
      }
      return "#N/A";
    }
  } else {
    var matrix = new Array();
    for(var i = 0; i<address.length; i++){
      matrix[i] = new Array();
      for(var j = 0; j<address[i].length; j++){
        var North = new RegExp('([0-9]+)[\\s]+N');
        var match = address[i][j].match(North);
        if (match && match.length >= 2) {
          matrix[i].push(parseInt(match[1]));
        }
      }
    }
    return matrix;
  }
} 
```

希望这会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T11:58:44.307

`toString()`我将其添加为答案，因为我发现如果未调用时在引用的单元格或范围中传递了数值，则自定义函数会返回错误：

```
function NorthAddress(address) {
  if (!address) return null;
  else {
    if (address.constructor == Array) {
      var result = address;
    }
    else {
      var result = [[address]];
    }
    var north = new RegExp('([0-9]+)[\\s]+N');
    var match;
    for (var i = 0; i < result.length; i++) {
      for (var j = 0; j < result[0].length; j++) {
        match = result[i][j].toString().match(north);
        if (match && match.length >= 2) {
          result[i][j] = parseInt(match[1]);
        }
        else {
          result[i][j] = null;
        }
      }
    }
    return result;
  }
} 
```

# java - 如何在 jsp 中使用 jFreechart 实现饼图？

> ID：10908270
> 
> 赞同：0
> 
> 时间：2012-06-06T04:42:47.037
> 
> 标签：java, jfreechart, pie-chart

> **可能重复：**
> [如何在 jsp 页面中显示饼图？](https://stackoverflow.com/questions/10908696/how-can-i-display-pie-chart-in-jsp-page)

```
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<%@ page import="java.awt.*"%>
<%@ page import="java.io.*"%>
<%@ page import="org.jfree.chart.*"%>
<%@ page import="org.jfree.chart.entity.*"%>
<%@ page import="org.jfree.data.general.*"%>

<%
    DefaultPieDataset pieDataset = new DefaultPieDataset();
    pieDataset.setValue("JavaWorld", new Integer(75));
    pieDataset.setValue("Other", new Integer(25));
    JFreeChart chart = ChartFactory.createPieChart("Sample Pie Chart",pieDataset,true,true,false);
%>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Pie Chart</title>
</head>
<body>
    <IMG SRC="piechart.png" WIDTH="600" HEIGHT="400" BORDER="0"
        USEMAP="#chart">
</body>
</html> 
```

为此，我使用 2 个 jar 文件

1.jfreechart-0.9.4.jar

2.jcommon-0.7.1.jar

但它抛出一个异常。

```
6 Jun, 2012 10:03:12 AM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Servlet.service() for servlet jsp threw exception
org.apache.jasper.JasperException: Unable to compile class for JSP: 

An error occurred at line: 33 in the jsp file: /pages/pieChart.jsp
DefaultPieDataset cannot be resolved to a type
30:         out.println(e);
31: 
32:     } */
33:     DefaultPieDataset pieDataset = new DefaultPieDataset();
34:     pieDataset.setValue("JavaWorld", new Integer(75));
35:     pieDataset.setValue("Other", new Integer(25));
36:     JFreeChart chart = ChartFactory.createPieChart

An error occurred at line: 33 in the jsp file: /pages/pieChart.jsp
DefaultPieDataset cannot be resolved to a type
30:         out.println(e);
31: 
32:     } */
33:     DefaultPieDataset pieDataset = new DefaultPieDataset();
34:     pieDataset.setValue("JavaWorld", new Integer(75));
35:     pieDataset.setValue("Other", new Integer(25));
36:     JFreeChart chart = ChartFactory.createPieChart

Stacktrace:
    at org.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:92)
    at org.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:330)
    at org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:439)
    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:356)
    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:334)
    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:321)
    at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:592)
    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:328)
    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313)
    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:176)
    at org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)
    at org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)
    at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:381)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at com.saveworks.application.AdminAuthenticationFilter.doFilter(AdminAuthenticationFilter.java:74)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)
    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:602)
    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)
    at java.lang.Thread.run(Thread.java:662) 
```

请任何人可以帮助我？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T04:56:38.133

1-你使用什么IDE

2-首先你应该尝试清理并构建然后运行

3-确保类路径[类路径错误](http://www.jfree.org/jfreechart/faq.html#FAQ1)

4-您可能会以防万一将 jar 复制到 Apachetomcat lib 目录

5-如果一切正常，请确保您的库 jar 可能已损坏，因此请重新下载或未正确包含或根本不包含；确保将 jar 包含在其所有类中

我是这么想的，那么你应该看看这个，这些是专门为 Eclipse 准备的

[链接到 jfreechart 教程](http://www.vogella.com/articles/JFreeChart/article.html)

[看教程](http://www.vogella.com/articles/Eclipse/article.html#classpath)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:58:25.123

我更喜欢[jqPlot](http://www.jqplot.com)。他们支持饼图。[在此处](http://www.jqplot.com/tests/pie-donut-charts.php)查看演示。

这是一个免费的 jQuery 库，可让您创建与图像生成相比的交互式图表。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T04:51:25.467

请在编译时检查您的`DefaultPieDatase`t 类是否存在。

```
`DefaultPieDataset` cannot be resolved to a type
30:         out.println(e); 
```

当 JSP 被编译为 servlet 时，需要解决编译时错误。那个时候，找不到这个类。检查你的 jar 文件这个类文件是否真的存在。

# android - 字符序列中的多个跨度

> ID：10908279
> 
> 赞同：1
> 
> 时间：2012-06-06T04:44:37.213
> 
> 标签：android

每当我在字符序列中设置跨度，然后在文本视图中设置文本时，它都很好。我正在使用这个

Ssb.setSpan(new StyleSpan(Typeface.ITALIC), start, end, 1);

然后设置TextView的文本。

但是当我从文本视图中获取文本然后使用 tv.getText(); 它返回预期的 CharSequence，但是当我在 cs 中的其他位置设置跨度时，设置文本时另一个跨度不存在。

我很抱歉缺少代码。我家里没有适当的互联网接入，所以我用手机发布了这个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T04:54:40.590

试试这个

```
Spannable mSpannable = textview.getText(); // will hold old spans.
mSpannable.setSpan(new StyleSpan(Typeface.ITALIC), start, end, 1); // do some new span 
```

# html - 标签下方的中心单选按钮

> ID：10908281
> 
> 赞同：10
> 
> 时间：2012-06-06T04:44:52.653
> 
> 标签：html, css, radio-button

假设我有一些单选按钮，其标签如下所示：

```
<label for="my_radio_button_id">My Label</label>
<input type="radio" name="radio" id="my_radio_button_id" /> 
```

如何将每个单选按钮置于其相应标签下方并水平对齐？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-06-06T04:59:25.510

[小提琴](http://jsfiddle.net/mowglisanu/rsxDm/)

```
.checkboxgroup {
  display: inline-block;
  text-align: center;
}
.checkboxgroup label {
  display: block;
}
```

```
<div id="checkboxes">
  <div class="checkboxgroup">
    <label for="my_radio_button_id1">My Label1</label>
    <input type="radio" name="radio" id="my_radio_button_id1" />
  </div>
  <div class="checkboxgroup">
    <label for="my_radio_button_id2">My Label2</label>
    <input type="radio" name="radio" id="my_radio_button_id2" />
  </div>
  <div class="checkboxgroup">
    <label for="my_radio_button_id3">My Label3</label>
    <input type="radio" name="radio" id="my_radio_button_id3" />
  </div>
</div>
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T04:50:24.793

这行得通吗？[http://jsfiddle.net/fFEwh/2/](http://jsfiddle.net/fFEwh/2/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-25T17:40:59.167

# mysql - 如何从 MySQL 交叉表计算团队在比赛中得分最高的次数？

> ID：10908282
> 
> 赞同：1
> 
> 时间：2012-06-06T04:44:59.337
> 
> 标签：mysql

我正在为测验碗创建一个 MySQL 数据库。设计是有一个包含所有游戏结果的交叉表，交叉表具有以下形式：

```
CREATE TABLE game_results(
  id SMALLINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  game_id MEDIUMINT NOT NULL,
  team_id SMALLINT NOT NULL,
  score MEDIUMINT); 
```

我的问题是如何`game_results`使用 MySQL 从表中计算球队的胜利次数（即球队在特定比赛中得分最高的球队的次数）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T04:57:02.193

```
SELECT COUNT(1) AS wins FROM game_results AS gr1
LEFT JOIN game_results AS gr2 ON gr1.game_id=gr2.game_id AND gr2.team_id != 1234
WHERE gr1.team_id = 1234 AND gr1.score > gr2.score 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:27:53.187

```
SELECT old.team_id,
       COUNT(old.team_id) AS Wins,
       old.game_id
FROM game_results AS old,
  (SELECT MAX(score) AS score,
          game_id
   FROM game_results
   GROUP BY game_id) AS nt
WHERE old.score = nt.score
  AND old.game_id = nt.game_id
GROUP BY old.team_id 
```

**编辑**：忽略抽奖游戏

```
SELECT old.team_id,
       COUNT(old.team_id) AS Wins,
       old.game_id
FROM game_results AS old,
  (SELECT MAX(score) AS score,
          game_id
   FROM game_results
   GROUP BY game_id) AS nt
WHERE old.score = nt.score
  AND old.game_id = nt.game_id
  AND old.game_id NOT IN
    (SELECT DISTINCT a.game_id
     FROM game_results AS a,
          game_results AS b
     WHERE a.game_id = b.game_id
       AND a.score = b.score
       AND a.id != b.id)
GROUP BY old.team_id 
```

# android - TabSpec with ListActivity ... 如何为 Button 设置 OnClickListener？

> ID：10908291
> 
> 赞同：0
> 
> 时间：2012-06-06T04:45:49.397
> 
> 标签：android, android-layout, casting, android-listview

在 TabHost 中，我设置了一个 TabSpec，它包含一个带有几个按钮的标题区域，下面是一个 ListView。管理这个 TabSpec 的 Activity 被定义为“扩展 ListActivity”。但是，现在我遇到了无法定义 OnClickListener 来检查是否按下提交按钮的问题。我该如何解决？

试图通过

```
btnRatingSubmit.setOnClickListener((OnClickListener) this); 
```

引发 ClassCastException...

这是布局的基本摘录：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<RatingBar
    android:id="@+id/ratingBar"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" />

<EditText
    android:id="@+id/edComment"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:inputType="textMultiLine" >
</EditText>

<Button
    android:id="@+id/btnSubmit"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="@string/btnSubmit" />

<ListView
    android:id="@android:id/list"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" />

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T04:53:22.687

如果您`setContentView(R.layout.your_layout);`获得`btnSubmit`. 但是，如果您遇到问题，那么最好将您的更改`ListActivity`为`Activity`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:02:19.360

代替

```
btnRatingSubmit.setOnClickListener((OnClickListener) this); 
```

试试这个：

```
btnRatingSubmit.setOnClickListener(new View.OnClickListener(){

public void onClick(View v) {
            // TODO Auto-generated method stub

        }
    }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T04:54:33.733

我认为您的问题与（（OnClickListener）this）有关。如果没有更多关于这个类的代码，我无法准确地判断出了什么问题。但是，您是否在拥有此按钮的 Activity 上实现 OnClickListener？否则，请尝试像这样进行投射（（View.OnClickListener）this）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T04:56:27.477

您应该为活动实现 View.OnClickListener 以继续使用 (OnClickListener) this，或者简单地创建一个新的 View.OnClickListener 来替换“this”

# unix - Unix通过unix替换文件中特定类型的字符串

> ID：10908293
> 
> 赞同：0
> 
> 时间：2012-06-06T04:46:06.053
> 
> 标签：unix, sed

我有一种情况需要替换文件中特定类型的字符串。

场景是：

像这样的用户输入：

```
abc = 21
xyz=32;34;35 
```

用户可以在 xyz 中输入许多数字，但格式应为“;” 分隔值现在我需要替换特定文件中的这些值假设 test.txt

该文件的格式如下：test.txt

```
cond0=abc
cond1=xyz
Cond2=abcxyz% 
```

因此输出应该是这样的

```
cond0=21
cond1=32;34;35
cond2=2132%;2134%;2135% 
```

我正在使用以下命令来执行此操作，但由此我无法在 cond2 中获得正确的输出

```
sed "s/abc/${abc}/g" "$TEST_DIR/$file" > "$TEST_DIR/$file.bak" && mv "$TEST_DIR/$file.bak" "$TEST_DIR/$file"

sed "s/xyz/${xyz}/g" "$TEST_DIR/$file" > "$TEST_DIR/$file.bak" && mv "$TEST_DIR/$file.bak" "$TEST_DIR/$file" 
```

任何人都可以看看这个吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T04:59:37.387

为什么你不能通过所有的条件？

```
sed "s/abc/$abc/g" <$TEST_DIR/$file | sed "s/xyz/$xyz/g" >$TEST_DIR/newfile
mv $TEST_DIR/newfile $TEST_DIR/$file 
```

请注意，您必须进行这两个操作，即写入临时文件然后重命名。否则你最终会清除文件。

输入 "<" 和输出 ">" 重定向由 shell 处理，当他们看到 ">somefile" 时，"somefile" 被截断。所以你永远做不到`cat <file >file`成功。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:39:31.800

### 使用 bash，

```
abc=21
xyz='32;34;35'
abcxyz=$(sed -r "s/^|;/\0${abc}/g;s/;|$/%\0/g" <<< "${xyz}")
sed -i~ "s/abcxyz%/${abcxyz}/;s/abc/${abc}/;s/xyz/${xyz}/" inputFile 
```

# python - 如何转换熊猫数据框，使索引是唯一的一组值，而数据是每个值的计数？

> ID：10908295
> 
> 赞同：5
> 
> 时间：2012-06-06T04:46:19.867
> 
> 标签：python, pandas

我有`dataframe`一个多项选择题，它的格式如下：

```
 Sex Qu1  Qu2  Qu3
Name
Bob    M   1    2    1
John   M   3    3    5
Alex   M   4    1    2
Jen    F   3    2    4
Mary   F   4    3    4 
```

数据是 3 个多项选择题从 1 到 5 的评分。我想重新排列数据，使索引为 range(1,6) 其中 1='bad', 2='poor', 3='ok', 4='good', 5='excellent', 列是相同，数据是值出现次数的计数（不包括 Sex 列）。这基本上是一个固定 bin 大小的直方图，x 轴用字符串标记。我喜欢`df.plot()`比 `df.hist()`这更好的输出，但我不知道如何重新排列表格以提供数据直方图。另外，如何将 x-labels 更改为字符串？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-06T14:19:52.863

`Series.value_counts`为您提供您正在寻找的直方图：

```
In [9]: df['Qu1'].value_counts()
Out[9]: 
4    2
3    2
1    1 
```

因此，将此函数应用于这 3 列中的每一列：

```
In [13]: table = df[['Qu1', 'Qu2', 'Qu3']].apply(lambda x: x.value_counts())

In [14]: table
Out[14]: 
   Qu1  Qu2  Qu3
1    1    1    1
2  NaN    2    1
3    2    2  NaN
4    2  NaN    2
5  NaN  NaN    1

In [15]: table = table.fillna(0)

In [16]: table
Out[16]: 
   Qu1  Qu2  Qu3
1    1    1    1
2    0    2    1
3    2    2    0
4    2    0    2
5    0    0    1 
```

使用`table.reindex`or`table.ix[some_array]`您可以重新排列数据。

要转换为字符串，请使用 table.rename：

```
In [17]: table.rename(index=str)
Out[17]: 
   Qu1  Qu2  Qu3
1    1    1    1
2    0    2    1
3    2    2    0
4    2    0    2
5    0    0    1

In [18]: table.rename(index=str).index[0]
Out[18]: '1' 
```

# php - 添加到嵌套数组

> ID：10908300
> 
> 赞同：0
> 
> 时间：2012-06-06T04:46:51.827
> 
> 标签：php, arrays

我有这个问题，我试图将一个数组中的值添加到另一个嵌套在原始数组名称下的数组中。

例如，此脚本返回一个数组：

```
<?php
return array (
'HTTP' => array(

    'GET' => array(

        '/' => function() {

        },

    ),

    'POST' => array(

        '/' => function($username, $password) {

        },

    )

),

'HTTPS' => array(

    'GET' => array(

        '/account/(:num)' => function($number) {

        }

    )
) 
```

然后我有一个 var 的类：

```
private $routes = array(
    'HTTP' => array(
        'GET'  => array(),
        'POST' => array()
    ),
    'HTTPS' => array(
        'GET'  => array(),
        'POST' => array()
    ),
    'FILTRERS' =>
        'BEFORE' => array(),
        'AFTER' => array()
); 
```

我正在做的是`glob`用来读取所有文件，但我无法解决的问题是如何遍历第一个脚本中的所有数组并将它们推送到 var 中。

var 将是：

```
 private $routes = array(
    'HTTP' => array(
        'GET'  => array(
             'example' => array(
                 '/' => function() {

                  },
             )
        ),
        'POST' => array(
             'example' => array(
                 '/account/(:num)' => function($number) {

                  },
             )
        )
    ),
    'HTTPS' => array(
        'GET'  => array(
             'example' => array(
                 '/' => function() {

                  },
             )
        ),
        'POST' => array()
    ),
    'FILTRERS' =>
        'BEFORE' => array(),
        'AFTER' => array()
); 
```

我能想到的唯一原因是使用大约四个嵌套`foreach`的es，或者为每个数组集复制代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:20:09.330

假设第一个数组存储在`$input`您可以使用它。我`'example'`根据您的预期输出进行了硬编码。

```
foreach ($input as $protocol => $methods) {
    foreach ($methods as $method => $routeArray) {
        $routes[$protocol][$method]['example'] = $routeArray;
    }
} 
```

# iphone - Objective-C 内存管理说明

> ID：10908306
> 
> 赞同：-1
> 
> 时间：2012-06-06T04:48:18.713
> 
> 标签：iphone, objective-c, xcode, exc-bad-access

我正在尝试制作一个简单的 iphone 应用程序，我一直在玩功能，最近，代表。我只是对内存管理感到困惑，因为显然“好代码”使我的应用程序因 exc_bad_access 而崩溃。

我有一个包含两个数据成员的对象，现在实现为空。

```
@implementation semester: NSObject{
    NSInteger ID;
    NSString *name;
} 
```

然后我的委托方法：

```
- (void) receiveSemester:(semester *)newSemester {
[test setText:newSemester.name];
} 
```

以及用作具有以下形式的表单的视图：

```
@interface addSemesterController : UIViewController {
id<ModalViewDelegate> delegate;
UITextField *txtName;
UILabel *prompt;
UIButton *ok;
UIButton *cancel;
} 
```

所有对象都成为属性并在应用程序文件中合成。这是使用委托的方法：

```
- (IBAction) okClick:(id)sender{
// create semester object and return it
semester *created = [[semester alloc] init];
created.name = txtName.text;
[delegate receiveSemester:created];

    [self dismissModalViewControllerAnimated:YES];
} 
```

我的 dealloc 方法如下所示：

```
- (void)dealloc {
/*
[txtName dealloc];
[prompt dealloc];
[ok dealloc];
[cancel dealloc];
 */
    [super dealloc];
} 
```

注释掉表单中包含的对象的释放后，我的应用程序运行正常。但是，当我取消注释它们时，我在委托协议中收到 exc_bad_access 错误：

```
// in main view controller
- (void) receiveSemester:(semester *)newSemester {
[test setText:newSemester.name];
    // test is a UILabel
} 
```

我尝试了僵尸方法，它说标签调用了一个释放的对象。我没有在“表单”控制器中释放我的学期对象，即使我是在解除分配视图之前调用委托函数。

显然我不应该在 dealloc 方法中释放对象，我只是不清楚为什么不应该。

再次，提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T04:53:58.937

用于`release`释放变量而不是调用`dealloc`变量，因此您遇到了问题 -

```
- (void)dealloc {

    [txtName release];
    [prompt release];
    [ok release];
    [cancel release];

    [super dealloc];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T04:57:45.173

尝试写作

```
[txtName release];
[prompt release];
[ok release];
[cancel release]; 
```

而不是 dealloc，这些对象将被正确释放

# javascript - 将下拉列表中的选定值填充到文本框中

> ID：10908310
> 
> 赞同：3
> 
> 时间：2012-06-06T04:48:26.880
> 
> 标签：javascript

[我正在关注来自http://jsfiddle.net/ubrcq/](http://jsfiddle.net/ubrcq/) 的示例，
但我似乎无法理解。以下是我的代码

```
<html>
<head>
 <script type="text/javascript">

 $('#hours').change(function() {
 $('#hours_text').val( this.value );
 });​

</script>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
</head>
<body>

<select name="hours" id="hours" class="time">
<option value="01">01</option>
<option value="02">02</option>
<option value="03">03</option>
<option value="04">04</option>
<option value="05">05</option>
<option value="06">06</option>
</select>

<input type="text" id="hours_text" name="hours_text" value="01">

 </body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T04:50:24.343

您的问题是您的脚本位于文档的 head 部分，并且在 dom 准备好之前正在运行。结果，`$('#hours')`没有选择任何东西，因此没有连接任何事件处理程序。

将该代码包装在 document.ready 处理程序中：

```
$(function(){
   $('#hours').change(function() {
      $('#hours_text').val( this.value );
   });​
}); 
```

* * *

或者，您可以将整个脚本移动到文档正文的最后，使其在正文被处理并可用后被解析。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:12:50.590

将您的代码放入 document.ready 函数中

```
 $(document).ready(function () {
  $('#hours').change(function() {
   $('#hours_text').val( $(this).val() );
 });​
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-28T09:28:50.197

你必须为它包含一个 jQuery

```
<html><head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title> - jsFiddle demo</title>

  <script type="text/javascript" src="http://code.jquery.com/jquery-1.6.js"></script>
  <link rel="stylesheet" type="text/css" href="/css/normalize.css">

  <link rel="stylesheet" type="text/css" href="/css/result-light.css">

  <style type="text/css">

  </style>

<script type="text/javascript">//<![CDATA[ 
$(function(){
$('#hours').change(function() {
    $('#hours_text').val( this.value );
});
});//]]>  

</script>

</head>
<body cz-shortcut-listen="true">
  <select name="hours" id="hours" class="time">
    <option value="01" selected="">01</option>
    <option value="02">02</option>
    <option value="03">03</option>
    <option value="04">04</option>
    <option value="05">05</option>
    <option value="06">06</option>
</select>

<input type="text" id="hours_text" name="hours_text" value="01">

</body></html> 
```

# java - 我们如何从 LinkedHashset 访问单个 int 值 ? 通过字符串是可能的

> ID：10908312
> 
> 赞同：-1
> 
> 时间：2012-06-06T04:49:06.990
> 
> 标签：java

我想删除重复项，例如{ {1,2,3}, {2,3,1},{3,2,1},{2,1,3} } 是 {2,3,1} 的重复项或给定 4 个集合中的任何一个。为此，我将 2D 整数数组转换为 LinkedHashSet，它删除了重复项，但是当我转换回数组时（由于算法需要），我无法访问单个元素。这可能吗？如果不是，另一种方法是什么。如果是，代码中有什么问题。下面给出。请解决。

我自己的其他想法：我认为通过字符串可能吗？例如 { {2,3,1},{-3,-2,-4},............ } 在 Set 中插入，制作每个 3 个元素集合的 ArrayList eg{2,3,1 },{-3,-2,-4},{3 element}, .....然后 parseInt 以 {2},{3},{1},{-3},{- 2},{-4},... 会起作用吗？

```
import java.util.*;
class demo
    {
    Integer[][] orderedpair3k={{1,2,3},{1,3,-2},{2,3,-1},{1,2,3},{1,-3,-2},{2,-3,-1},{1,-2,-3},{1,3,2},{-2,3,-1},{1,-2,3},{1,-3,2},{-2,-3,-1}};
    Set<Set<Integer>> r = new LinkedHashSet<Set<Integer>>();
    Object[][] a;

    public void init_clauses()
    {
    removeDuplicate();
    System.out.println(r);

    backToArray();          
      for(int i=0;i<a.length;i++)
         System.out.println(a[0][i]);
    }                       

    public void removeDuplicate()
    {
    int i=orderedpair3k.length;
    for(int j=0;j<i;j++)
        r.add(new LinkedHashSet<Integer>(Arrays.asList(orderedpair3k[j])));
    }    

    public void backToArray() 
    {    
      ArrayList<Set<Integer>> arr=new ArrayList<Set<Integer>>(r);
      a = new Object[arr.size()][3]; 

       for(int i=0;i<a.length;i++)
         a[i]=arr.toArray(new Object[i]); 
    }       
}            
public class sat
{
     public static void main(String[] arg){

     demo S = new demo();
     S.init_clauses();}
} 
```

//在上面的代码中，我无法访问单个元素，因为即使我尝试使用 ((Integer)a[i][j]).intValue() 在数组中插入 Set 作为对象，我认为这是由于数组。 asList(orderedpair3k[j]) 如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:01:27.333

看起来很简单：

```
Integer[][] result = new Integer[r.size()][3];
int c = o;
for (Set<Integer> s : r)
  result[c++] = s.toArray(new Integer[3]); 
```

# java - 在特定模式后提取子字符串

> ID：10908316
> 
> 赞同：5
> 
> 时间：2012-06-06T04:49:26.223
> 
> 标签：java, string, split

我有以下字符串：

```
http://xxx/Content/SiteFiles/30/32531a5d-b0b1-4a8b-9029-b48f0eb40a34/05%20%20LEISURE.mp3?&mydownloads=true 
```

之后如何提取部分`30/`？在这种情况下，它是`32531a5d-b0b1-4a8b-9029-b48f0eb40a34`。我有另一个字符串具有相同的部分，最多可达 30/，之后每个字符串都有不同的 id 到下一个 / 我想要的。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T04:56:16.027

你可以这样做：

```
String s = "http://xxx/Content/SiteFiles/30/32531a5d-b0b1-4a8b-9029-b48f0eb40a34/05%20%20LEISURE.mp3?&mydownloads=true";
        System.out.println(s.substring(s.indexOf("30/")+3, s.length())); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-06-06T04:59:40.367

`split`在这种情况下，类的函数对`String`您没有帮助，因为它丢弃了分隔符，这不是我们想要的。你需要制作一个向后看的图案。语法背后的外观是：

```
(?<=X)Y 
```

它标识任何`Y`前面带有`X`.

因此，在您的情况下，您需要这种模式：

```
(?<=30/).* 
```

编译模式，将其与您的输入匹配，找到匹配项并捕获它：

```
String input = "http://xxx/Content/SiteFiles/30/32531a5d-b0b1-4a8b-9029-b48f0eb40a34/05%20%20LEISURE.mp3?&mydownloads=true";
Matcher matcher = Pattern.compile("(?<=30/).*").matcher(input);
matcher.find();
System.out.println(matcher.group()); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T04:51:42.743

只是为了这个，还是你想要一种通用的方式来做到这一点？

```
String[] out = mystring.split("/")
return out[out.length - 2] 
```

我认为 / 绝对是您要搜索的分隔符。我看不出你在说亚历克斯的问题

编辑：好的，Python 为我提供了索引。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-06T04:57:52.240

正则表达式是我认为的答案。但是，表达式的编写方式取决于您要处理的数据 (url) 格式。像这个：

```
 Pattern pat = Pattern.compile("/Content/SiteFiles/30/([a-z0-9\\-]+)/.*");
    Matcher m = pat.matcher("http://xxx/Content/SiteFiles/30/32531a5d-b0b1-4a8b-9029-b48f0eb40a34/05%20%20LEISURE.mp3?&mydownloads=true");
    if (m.find()) {
        System.out.println(m.group(1));
    } 
```

# c++ - 我的 Windows CE 60 设备应该使用哪种 CPU 配置？

> ID：10908318
> 
> 赞同：1
> 
> 时间：2012-06-06T04:49:55.903
> 
> 标签：c++, configuration, windows-mobile, embedded, windows-ce

> **可能重复：**
> [为什么在 WIN CE 6.0 中运行简单的控制台应用程序但基于对话框的不运行？](https://stackoverflow.com/questions/10959134/why-simple-console-app-runs-but-dialog-based-does-not-run-in-win-ce-6-0)

我的设备是[iPA280](http://www.ingenico.com/en/ipa280/features/technical-specifications_gjya99uj.html)。它有：

**主处理器：** Marvell PXA-300 (XScale ARM) @ 624 MHz

**操作系统：** WinCE 6 pro

我正在为此设备开发一个带有 service pack 4 的嵌入式 Visual C++ 4 应用程序。我应该使用哪种配置（ARMV4、ARMV4I、MIPSII 和...）为该设备构建正确的 .EXE 文件？

我已经测试了大多数配置，但我的应用程序只能在模拟器中正确运行，而其他配置中的 .exe 文件在设备上不起作用。一些 .exe 文件具有无效的 EXE 消息，而一些 .exe 文件在没有任何消息或错误或警告的情况下无法运行。

谢谢，

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T08:16:03.827

ARM v5 向后兼容 ARMv4 指令集，所以我认为问题不在于这里。由于各种其他原因，该程序可能无法在实际设备上启动。

1.  您可能正在链接到设备上不存在的 lib，例如 aygshell.dll 或 ccrtrtti.lib
2.  您可能正在导出此 Windows 版本的 core.dll 中不存在的函数序号（为此尝试 ExecutabilityCheck.exe；这个免费的小程序会告诉您缺少哪些函数[http://www.hpcfactor.com/downloads/details.asp？ r=40A26F4C-E4AC-41C9-81A1-1D81B4C41A0E](http://www.hpcfactor.com/downloads/details.asp?r=40A26F4C-E4AC-41C9-81A1-1D81B4C41A0E) )
3.  检查链接器命令行，对于我参与的一个旧项目，它在 windows mobile 4 到 6.5 上运行良好我有这个“/subsystem:windowsce,4.02 /machine:ARM”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T09:05:39.577

ARM v4 将生成可以运行的代码，但您可能会遇到您使用的 SDK 的问题，并且在您进行调试时会遇到更多问题。我建议迁移到 Visual Studio 2008。（不是 VS2010，因为它不包括本机 Windows 移动开发）。

# java - 使用图形 api 发布到 facebook 用户的墙上

> ID：10908329
> 
> 赞同：1
> 
> 时间：2012-06-06T04:51:25.793
> 
> 标签：java, facebook, facebook-graph-api

我是 facebook 应用程序开发的新手，我正在尝试使用[https://graph.facebook.com/me/feed?access_token=ACCESS_TOKEN&message=hello](https://graph.facebook.com/me/feed?access_token=ACCESS_TOKEN&message=hello)在用户的墙上发布一个简单的文本，但这似乎不是工作..关于我可能出错的地方有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:05:49.133

1.  检查您是否有权从应用程序发帖。
2.  将 app_id 添加到您的通话中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T08:43:41.780

如果您只是调用您提到的 URL，那将是一个 GET 请求。要将消息发布到用户的墙上，您必须使用方法 POST。您可以在[Graph API Explorer](https://developers.facebook.com/tools/explorer)中对其进行测试——通过下拉菜单将方法更改为 POST，单击“添加字段”并使用 name=message 和 value=your_message ...</p>

# php - Doctrine 2.2.2 - 一次插入多个条目的问题？

> ID：10908331
> 
> 赞同：3
> 
> 时间：2012-06-06T04:51:40.497
> 
> 标签：php, mysql, doctrine-orm

我无法让它正常工作。它将插入条目两次，并且永远不会在 project_data 表中设置 project_id，它始终为 0。我尝试过插入多种方式..

像这样

```
//... do some work
$project = new PSD_Model_Entity_Project();
$project->setStatusId($this->_em->find("PSD_Model_Entity_Status", '3'));
$project->addData('hello', $data->data->hello);

$this->_em->persist($project);
$this->_em->flush(); 
```

就像这样

```
$project = new PSD_Model_Entity_Project();
$project->setStatusId($this->_em->find("PSD_Model_Entity_Status", '3'));

$project_data = new PSD_Model_Entity_Project_Data('hello', $data->data->hello,$project);

$this->_em->persist($project);
$this->_em->persist($project_data);
$this->_em->flush(); 
```

教义模型：

```
<?php

use Doctrine\ORM\Mapping as ORM;

/**
 * PSD_Model_Entity_Project
 * @Entity
 * @Table(name="project")
 */
class PSD_Model_Entity_Project
{
    /**
     * @var integer $project_id
     * @Id @Column(type="integer")
     * @GeneratedValue(strategy="AUTO")
     */
    private $project_id;

    /**
     * @var integer $dependent
     * @Column(type="integer")
     */
    private $dependent;

    /**
     * @var integer $iduser
     * @Column(type="integer")
     */
    private $iduser;

    /**
     * @var datetime $created
     * @Column(type="datetime")
     */
    private $created;

    /**
     * @var datetime $modified
     * @Column(type="datetime")
     */
    private $modified;

    /**
     * @var PSD_Model_Entity_Status
     * @ManyToOne(targetEntity="PSD_Model_Entity_Status")
     * @JoinColumn(name="status_id", referencedColumnName="status_id")
     */
    private $status_id;

    /**
     * @OneToMany(targetEntity="PSD_Model_Entity_Project_Data", mappedBy="project_id", cascade={"ALL"}, indexBy="name")
     */
    private $data;

    public function __construct()
    {
        $this->data = new \Doctrine\Common\Collections\ArrayCollection();
    }

    public function addData($name, $value)
    {
        $this->data[$name] = new PSD_Model_Entity_Project_Data($name, $value, $this);
    }

    /**
     * Get project_id
     *
     * @return integer 
     */
    public function getProjectId()
    {
        return $this->project_id;
    }

    /**
     * Set dependent
     *
     * @param integer $dependent
     * @return PSD_Model_Entity_Project
     */
    public function setDependent($dependent)
    {
        $this->dependent = $dependent;
        return $this;
    }

    /**
     * Get dependent
     *
     * @return integer 
     */
    public function getDependent()
    {
        return $this->dependent;
    }

    /**
     * Set iduser
     *
     * @param integer $iduser
     * @return PSD_Model_Entity_Project
     */
    public function setIduser($iduser)
    {
        $this->iduser = $iduser;
        return $this;
    }

    /**
     * Get iduser
     *
     * @return integer 
     */
    public function getIduser()
    {
        return $this->iduser;
    }

    /**
     * Set created
     *
     * @param datetime $created
     * @return PSD_Model_Entity_Project
     */
    public function setCreated($created)
    {
        $this->created = $created;
        return $this;
    }

    /**
     * Get created
     *
     * @return datetime 
     */
    public function getCreated()
    {
        return $this->created;
    }

    /**
     * Set modified
     *
     * @param datetime $modified
     * @return PSD_Model_Entity_Project
     */
    public function setModified($modified)
    {
        $this->modified = $modified;
        return $this;
    }

    /**
     * Get modified
     *
     * @return datetime 
     */
    public function getModified()
    {
        return $this->modified;
    }

    /**
     * Set status_id
     *
     * @param PSD_Model_Entity_Status $statusId
     * @return PSD_Model_Entity_Project
     */
    public function setStatusId(\PSD_Model_Entity_Status $statusId = null)
    {
        $this->status_id = $statusId;
        return $this;
    }

    /**
     * Get status_id
     *
     * @return PSD_Model_Entity_Status 
     */
    public function getStatusId()
    {
        return $this->status_id;
    }
}

<?php

use Doctrine\ORM\Mapping as ORM;

/**
 * PSD_Model_Entity_Project_Data
 * @Entity
 * @Table(name="project_data")
 */
class PSD_Model_Entity_Project_Data
{
    /**
     * @var integer $project_data_id
     * @Id @Column(type="integer")
     * @GeneratedValue(strategy="AUTO")
     */
    private $project_data_id;

    /**
     * @var integer $project_id
     * @Column(type="integer")
     * @ManyToOne(targetEntity="PSD_Model_Entity_Project", inversedBy="data")
     */
    private $project_id;

    /**
     * @var string $name
     * @Column(type="string")
     */
    private $name;

    /**
     * @var string $value
     * @Column(type="string")
     */
    private $value;

    public function __construct($name, $value, $project)
    {
        $this->name = $name;
        $this->value = $value;
        $this->project_id = $project;
    }

    /**
     * Set project_id
     *
     * @param PSD_Model_Entity_Project $projectId
     * @return PSD_Model_Entity_Project_Data
     */
    public function setProjectId(\PSD_Model_Entity_Project $projectId = null)
    {
        $this->project_id = $projectId;
        return $this;
    }

    /**
     * Get project_id
     *
     * @return integer 
     */
    public function getProjectId()
    {
        return $this->project_id;
    }

    /**
     * Set name
     *
     * @param string $name
     * @return PSD_Model_Entity_Project_Data
     */
    public function setName($name)
    {
        $this->name = $name;
        return $this;
    }

    /**
     * Get name
     *
     * @return string 
     */
    public function getName()
    {
        return $this->name;
    }

    /**
     * Set value
     *
     * @param string $value
     * @return PSD_Model_Entity_Project_Data
     */
    public function setValue($value)
    {
        $this->value = $value;
        return $this;
    }

    /**
     * Get value
     *
     * @return string 
     */
    public function getValue()
    {
        return $this->value;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T05:58:17.467

尝试这个。尝试通过集合设置属性，而不是使用构造函数，看看这是否消除了重复的行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:25:13.730

根据文档，我相信您的数据模型属性应标记为`protected`而不是。`private`

`$project_id`您`PSD_Model_Entity_Project_Data`当前的内部引用有：

```
/**
 * @Column(type="integer")
 * @ManyToOne(targetEntity="PSD_Model_Entity_Project", inversedBy="data")
 */ 
```

您可以尝试将其更改`Column`为`JoinColumn`：

```
/**
 * @JoinColumn()
 * @ManyToOne(targetEntity="PSD_Model_Entity_Project", inversedBy="data")
 */ 
```

顺便说一句，我有一个类似的模型，不需要`inversedBy`; 但是自从我接触 Doctrine 以来已经有一段时间了，所以这可能没有任何区别:)

# jasper-reports - 将颜色应用于未找到记录消息

> ID：10908333
> 
> 赞同：1
> 
> 时间：2012-06-06T04:51:46.003
> 
> 标签：jasper-reports

我正在使用 jasper-reports-4.5.0 和 spring 3.0.5RELEASE。我正在生成 PDF、HTML 和 CSV 格式的报告。在生成报告时，如果数据库中没有匹配的记录，我将显示消息“未找到记录”。如何使消息显示为红色？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T17:10:58.707

要将文本设置为红色，您只需设置文本的前景色。带有红色文本的无数据部分示例是

```
<noData>
    <band height="20">
        <staticText>
            <reportElement x="0" y="0" width="555" height="20" forecolor="#FF0000"/>
            <textElement textAlignment="Center" verticalAlignment="Middle">
                <font isBold="true"/>
            </textElement>
            <text><![CDATA[There was no data found.]]></text>
        </staticText>
    </band>
</noData> 
```

唯一需要注意的是，当导出到 csv 时，显然文本不会是红色的，因为那只是一个纯文本文件。它应该适用于 PDF 和 HTML。

# python - 如何将整个网页读入变量

> ID：10908336
> 
> 赞同：8
> 
> 时间：2012-06-06T04:52:38.903
> 
> 标签：python, web-scraping, urllib2

我正在尝试阅读整个网页并将其分配给一个变量，但我无法做到这一点。该变量似乎只能保存页面源的前 512 行左右。

我尝试使用 readlines() 将源代码的所有行打印到屏幕上，这给了我完整的源代码，但我需要能够用正则表达式解析它，所以我需要以某种方式将它存储在一个变量中. 帮助？

```
 data = urllib2.urlopen(url)
 print data 
```

只给了我大约 1/3 的来源。

```
 data = urllib2.urlopen(url)
 for lines in data.readlines()
      print lines 
```

这给了我整个来源。

就像我说的，我需要能够用正则表达式解析字符串，但我需要的部分不在我能够存储在变量中的前 1/3 中。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T05:00:01.897

您应该能够使用[file.read()](http://docs.python.org/library/stdtypes.html#file-objects)将整个文件读入字符串。这将为您提供整个来源。就像是

```
data = urllib2.urlopen(url)
print data.read() 
```

应该给你整个网页。

从那里开始，不要使用正则表达式解析 HTML（[这里](https://stackoverflow.com/a/1732454/960195)是陈旧的帖子），而是使用专用的 HTML 解析器。或者，清理 HTML 并将其转换为 XHTML（例如使用 HTML Tidy），然后使用像标准[ElementTree](http://docs.python.org/library/xml.etree.elementtree.html)这样的 XML 解析库。哪种方法最好取决于您的应用程序。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-06T04:54:16.377

您可能正在寻找美丽的汤：[http](http://www.crummy.com/software/BeautifulSoup/) ://www.crummy.com/software/BeautifulSoup/ 这是一个用于 python 的开源 Web 解析库。祝你好运！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-08-09T13:35:07.613

实际上，`print data`不应该给你任何 html 内容，因为它只是一个文件指针。官方文档[https://docs.python.org/2/library/urllib2.html](https://docs.python.org/2/library/urllib2.html)：

> 此函数返回一个类似文件的对象

这就是我得到的：

```
print data
<addinfourl at 140131449328200 whose fp = <socket._fileobject object at 0x7f72e547fc50>> 
```

`readlines()`返回 html 源代码行列表，您可以将其存储在字符串中，例如：

```
import urllib2
data = urllib2.urlopen(url)
l = []
s = ''
for line in data.readlines():
    l.append(line)
s = '\n'.join(l) 
```

您可以根据需要使用 list`l`或 string `s`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T08:18:38.843

我还建议使用开源 Web 解析库来轻松工作，而不是使用正则表达式进行完整的 HTML 解析，无论您需要正则表达式进行 url 解析的任何方式。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-10-09T22:43:31.987

如果你想在之后解析变量，你可以使用[gazpacho](https://github.com/maxhumber/gazpacho)：

```
from gazpacho import Soup

url = "https://www.example.com"
soup = Soup.get(url)
str(soup) 
```

这样你就可以执行`find`s 来提取你想要的信息！

# android - 如何强制线程等待 gui 在 android 上加载

> ID：10908343
> 
> 赞同：0
> 
> 时间：2012-06-06T04:53:47.407
> 
> 标签：android, multithreading, android-activity, xamarin.android

我启动了另一个重线程，从 android gui 线程 onCreate 或 onStart 播放声音。在这个 gui 之后没有渲染，但音乐在大约 20-30 秒内播放。比 gui 渲染和一切都变得正常。仅在呈现 gui 后，我如何才能强制启动我的重线程？

ps 我实际上用的是 monodroid

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:09:00.760

我会坚持在`onResume()`它内部启动声音是 Activity 处于前台的 Activity 状态，因此您的 UI 将在此阶段加载。请参阅之前执行的[**Activity LifeCycle**](http://developer.android.com/reference/android/app/Activity.html#ActivityLifecycle) ，因此这可能是您的问题的原因。`onStart()``onResume()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:04:19.680

为什么没有一个布尔变量`isUiLoaded`，你的工作线程应该在开始之前检查这个变量......'isUiLoaded'默认情况下应该是**false**，并且必须在加载UI的Activity的onStart（）或OnCreate（）内分配给**true** .

# php - 如何将一组数字分隔到单独的行上

> ID：10908347
> 
> 赞同：1
> 
> 时间：2012-06-06T04:54:09.597
> 
> 标签：php, newline

**关于脚本：**

下面的脚本将创建 300**组**随机字符。

目前正在发生的事情是，它创建了它们，但将它们全部显示在一行中，一大块。

通过我为实现这一目标所做的所有搜索和测试，我没有成功。

我想知道哪个代码以及将它放在哪里，以便每个 15 个字符长的 SET (300) 将显示并保存到文件中。

**这是我的脚本：**

```
<?php

function GetID($x){

$characters = array_merge(range('A','Z'),range('a','z'),range(2,9));
shuffle($characters);

for($x=0;$x<=299;$x++){

}

for (; strlen($ReqID)<$x;){
$ReqID .= $characters[mt_rand(0, count($characters))];
}

return $ReqID;
}     

$ReqID .= GetID(5);
$ReqID .= "-";
$ReqID .= GetID(5);
$ReqID .= "-";
$ReqID .= GetID(5);

echo $ReqID;

$fh = fopen("file.txt","a+");
fwrite($fh, ("$ReqID")."\n");
fclose($fh);

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:12:08.303

模运算符 ( `%`) 将让您检查定期间隔。

```
for ($x = 0; $x <= 299; $x++) {
    echo $characters[$x];
    if ($x % 15 == 14) {
        echo "\n";
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-07T05:43:40.487

修改您`GetID`的函数以在每 15 个字符处插入一个新行：

```
function GetID($x){
   $characters = array_merge(range('A','Z'),range('a','z'),range(2,9));
   shuffle($characters);
   $ReqID='';
   for ($i=0; strlen($ReqID)<300; $i++){
      $ReqID .= $characters[mt_rand(0, count($characters))];
      if ($i>0 && $i%15 == 0)
         $ReqID .= "\n";
   }
   return $ReqID;
} 
```

# html - 根据所选变量生成页面信息

> ID：10908349
> 
> 赞同：0
> 
> 时间：2012-06-06T04:54:23.613
> 
> 标签：html, css

我正在构建一个包含所有 50 个州的选择标签的网站。我希望能够为每个选定的状态生成一个页面，而不必编写 50 个单独的页面。关于我将如何做到这一点的任何想法？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:25:42.390

您可以在页面加载时加载所有数据，也可以通过 ajax 加载，并且只显示当前状态的数据，

或者，如果您有一个服务器端数据库/数据源来从中提取数据，也可以让页面为特定状态提供数据，由查询/GET 变量定义，URL 看起来像：

[http://mysite.com/myPage.aspx?state=ca](http://mysite.com/myPage.aspx?state=ca)

或者

[http://mysite.com/myPage.php?state=az](http://mysite.com/myPage.php?state=az)

当页面被请求时，您可以让您的服务器页面填充当前状态的正确数据，然后将其发送到客户端。

一般来说，我会倾向于服务器端解决方案，特别是如果您的访问者可能只会访问少数几个州，那么就没有理由加载所有州的数据。另一方面，如果每个州的数据非常少，那么这两种方式都可能没有太大的不同。

**编辑**

我不知道网络上有任何特定的教程，但由于这包括将一些东西放在一起，我会告诉你可能对完成这个有用的主题。

根据您对 php、c# 或其他为您的服务器端部分选择的语言的知识水平，研究以下主题：

1.  读取 Get 变量
2.  切换案例语句
3.  将变量值添加到 html 的部分中，或连接 html 字符串
4.  可选的各种数据库主题，（如果您不想将数据硬编码到代码中）

例如，您的服务器端 php 页面可能如下所示（未经测试的代码）：

```
<?php
switch($_GET["state"]) {
  case "ca":
    $pageTitle = "California";
    $pageContent = "stuff about CA";
    break;
  case "az":
    $pageTitle = "Arizona";
    $pageContent = "stuff about a really hot state";
    break;
    ...
}

....

echo '<h1>' . $pageTitle . '</h1>' . '<p>' . $pageContent . '</p>'; 

?> 
```

除此之外，您还希望在访问者选择不同状态时进行处理，并在选择状态时加载正确的页面。[使用 jQuery，您可以使用change() 方法](http://api.jquery.com/change/)做一些事情。

在您的 html 正文中声明您使用 id="stateSelectDropDown" 的下拉列表（选择输入），然后在您的 javascript（未经测试的代码）中：

```
<script type="text/javascript">
  $(function() {
    $("#stateSelectDropDown").change(funciton() {
      window.location = "nameOfThisPage.php?state=" + $(this).val();
    });
  }
</script> 
```

对于任何拼写错误或语法错误，我深表歉意，我希望这能为您指明正确的方向。

# redis - 在 Redis 中使用 GUID（或类似的）会降低性能吗？

> ID：10908350
> 
> 赞同：12
> 
> 时间：2012-06-06T04:54:26.180
> 
> 标签：redis

使用 GUID 或 ulong 键会影响 Redis DB 性能吗？

类似：[名称长度会影响 Redis 中的性能吗？](https://stackoverflow.com/questions/6320739/does-name-length-impact-performance)

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2015-04-27T18:23:19.977

这个问题是一个老问题，但其他答案有点误导。Eric 的回答与 Redis 完全无关。Pfreixes 的回答是基于个人假设，完全是错误的。

事实上，**使用 GUID 键**（性能方面）是相当安全的，因为即使 300 多个字符键也不会显着影响 O(1) 操作的性能。检查此基准：[名称长度会影响 Redis 中的性能吗？](https://stackoverflow.com/questions/6320739/does-name-length-impact-performance-in-redis/6322977#6322977).

如果您使用十六进制表示，则 GUID 通常具有 32-36 个字符的长度。正如 Evan Carrol 在评论中注意到的那样，Redis 字符串是二进制安全的，因此您可以使用二进制值并将密钥大小减少到 128 位（16 个字符）。这样长度的键根本不会影响性能。

此外，文档建议对非常大的键使用散列函数：[http ://redis.io/topics/data-types-intro](http://redis.io/topics/data-types-intro)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T10:19:17.277

Redis 使用哈希策略存储所有键，每个键都使用哈希函数存储。所有关于键的 Redis db 性能都属于这个功能 - 或相关的东西。

原始键也被存储以找出不同键之间的未来冲突，是的，大键可能会影响内存句柄和所有相关字段：内存碎片、缓存命中/未命中等......

# php - 从jquery访问select标签的id属性

> ID：10908356
> 
> 赞同：0
> 
> 时间：2012-06-06T04:55:15.440
> 
> 标签：php, jquery

我正在寻找一种从 jquery 访问 select 标记的 id 属性的方法。

说我在表单上有一个选择标签：form.php

```
<select id="testid">
<option value="1">1</option>
<option value="2">2</option>
</select> 
```

从 jquery 我可以访问选项值作为`$(this).attr("value")`. 但是`$(this).attr("id")`变得不确定。

通过为选项标签提供一些 id 属性值，它可以工作。但是，有没有办法通过`$(this)`对象访问选择标签的 id

谢谢你的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T04:59:25.587

如果您在`change`事件中尝试，`select`它将如下所示：

```
$('select').change(function() {

    // here 'this' point to select

   console.log( $(this)[0].id );

   //OR simply

   console.log(this.id);

}) 
```

但`$(this).attr('id')`也应该工作。

如果你的`$(this)`点`option`然后尝试

```
$('select').has(this).attr('id'); 
```

或者

```
$(this).parent('select').attr('id'); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T05:03:27.363

可能`this`在`$(this).attr("id")`指向`option`元素。

试试这个，

```
var id;
if(this.tagName === 'option'){
    id = $(this).parent().attr('id');
}
else{
   id = $(this).attr("id");
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T05:16:18.980

尝试：

```
$(this)[0].id 
```

或者

```
this.id 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-07T07:29:45.787

你可以试试这个！

```
<select id="testid">
<option class='option' value="1">1</option>
<option class='option' value="2">2</option>
</select>

$(document).ready(function(){

$("#testid").change(function(){
var option = [];

$("option.option:selected").each(function(i){// this will filter the selected id

option[i] = $(this).val();
});
alert(option);
});
}); 
```

# c# - 用于 ASP.NET 的免费图形绘图 SDK

> ID：10908358
> 
> 赞同：1
> 
> 时间：2012-06-06T04:56:04.130
> 
> 标签：c#, asp.net, math, graph, drawing

我想在我的 asp.net Web 应用程序中绘制一个数学图。是否有任何免费控制来完成这项工作？我看到[http://www.yworks.com](http://www.yworks.com)但它不是免费的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:20:56.090

以下是 Microsoft 公共许可证 (Ms-PL) 许可证，您可能想查看[QuickGraph](http://www.codeplex.com/quickgraph)。

[NodeXL](http://www.codeplex.com/NodeXL)可能也很有趣（可视化库）。它是 WPF，但如果您需要 WinForms，您可以使用容器来托管它。

您可以使用 check [GraphViz](http://www.graphviz.org/)来生成这种图表。我的应用程序生成**.dot**文件，然后可以将其传递到 GraphViz。它支持多种文件格式，例如 bmp、jpg、png、pdf、svg 等。

参考：

[开源工具列表](http://www.dmoz.org/Science/Math/Combinatorics/Software/Graph_Drawing/)
[C#图形绘制库？](https://stackoverflow.com/questions/737771/c-sharp-graph-drawing-library)
[绘制网络图](https://stackoverflow.com/questions/69275/drawing-a-web-graph)

您可以使用[QuickGraph](http://quickgraph.codeplex.com/)以编程方式轻松地对图形进行建模，然后将其导出到[GraphViz](http://quickgraph.codeplex.com/wikipage?title=Visualization%20Using%20Graphviz&referringTitle=Documentation)或[GLEE](http://quickgraph.codeplex.com/wikipage?title=Visualization%20Using%20Glee&referringTitle=Documentation)，然后将其渲染为 PNG。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:08:55.387

在 Eclipse 开源许可下有[Graphviz](http://www.graphviz.org/)

它有许多语言绑定，包括 C#。

# android - 阅读消息内容和消息发送者？

> ID：10908368
> 
> 赞同：0
> 
> 时间：2012-06-06T04:57:46.657
> 
> 标签：android, sms, message

我正在构建一个应用程序，它将**读取收件箱中的每条新短信** ，它来自**特定的发件人**，我的应用程序将读取内容，如果它有一些特定的内容，那么它将执行一些操作。

**目标：**

**1.**我想获取新消息发件人的姓名或号码（比如我的特定发件人不显示号码，这就像`TM-Google , TM-MyGinger`大多数**电话推销发件人**一样）

**2.**如果它来自我正在搜索的人，那么我想阅读消息的内容。其他是我的部分。请提供一些想法或代码片段。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:14:12.687

创建短信接收器

```
 public class SMSReceiver extends BroadcastReceiver {
    public void onReceive(Context context, Intent intent) {

        Bundle bundle = intent.getExtras();

        if (bundle != null) {
                Object[] pdusObj = (Object[]) bundle.get("pdus");
                SmsMessage[] messages = new SmsMessage[pdusObj.length];

                // getting SMS information from Pdu.
                for (int i = 0; i < pdusObj.length; i++) {
                        messages[i] = SmsMessage.createFromPdu((byte[]) pdusObj[i]);
                }

                for (SmsMessage currentMessage : messages) {
                    // currentMessage.getDisplayOriginatingAddress()   has sender's phone number
                    // currentMessage.getDisplayMessageBody()     has the actual message
            }
        }
    }
} 
```

您可以使用以下代码阅读收件箱：

```
Uri mSmsinboxQueryUri = Uri.parse("content://sms");
            Cursor cursor1 = getContentResolver().query(
                    mSmsinboxQueryUri,
                    new String[] { "_id", "thread_id", "address", "person", "date",
                            "body", "type" }, null, null, null);
             startManagingCursor(cursor1);
            String[] columns = new String[] { "address", "person", "date", "body",
                    "type" };
            if (cursor1.getCount() > 0) {
                String count = Integer.toString(cursor1.getCount());
                Log.e("Count",count);
                while (cursor1.moveToNext()) {
                    String address = cursor1.getString(cursor1
                            .getColumnIndex(columns[0]));
                    String name = cursor1.getString(cursor1
                            .getColumnIndex(columns[1]));
                    String date = cursor1.getString(cursor1
                            .getColumnIndex(columns[2]));
                    String msg = cursor1.getString(cursor1
                            .getColumnIndex(columns[3]));
                    String type = cursor1.getString(cursor1
                            .getColumnIndex(columns[4]));
                    et.setText( et.getText() + "Address:" + address + "\n"
                            + "Name:" + name + "\n"
                            + "Date:" + date + "\n"
                            + "MSG:" + msg + "\n"
                            + "type:" + type + "\n"
                            );

               }
           } 
```

将流添加到清单

```
<receiver android:name="SMSReceiver" android:enabled="true">
    <intent-filter>
       <action android:name="android.provider.Telephony.SMS_RECEIVED" />
    </intent-filter>
  </receiver> 
```

并添加权限`READ_SMS`和`RECEIVE_SMS`

# wordpress - Wordpress：我怎样才能让一个颠簸的帖子再次出现在 RSS 中？有可以重置的值吗？

> ID：10908369
> 
> 赞同：2
> 
> 时间：2012-06-06T04:57:51.180
> 
> 标签：wordpress, post, rss, feed

有时我想更新一个较旧的帖子并将其顶到顶部，但默认情况下在 Wordpress 中不会在 RSS 中创建新条目（如果这有所不同，我会在 WP 之上使用 FeedBurner）。

我怎样才能让它再次出现在那里而不重新发布和删除旧帖子？

谢谢，WordPress 大师。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-07-26T10:55:59.120

您可以通过将帖子的日期更改为当前日期轻松地做到这一点。

您可以在更新帖子内容时从“编辑帖子”页面执行此操作，只需查找“发布日期”并单击其旁边的“编辑”链接，然后确保保存编辑。真实的提要会立即更新，但 Feedburner 可能需要一些时间才能更新。

如果您已经更新了帖子并且只想将其移到顶部，您甚至不需要转到“编辑帖子”页面 - 只需转到显示您的帖子列表的帖子主页，然后将光标悬停在帖子标题，以便显示快速编辑链接。单击快速编辑选项，您将能够更改日期。

# javascript - javascript没有运行

> ID：10908371
> 
> 赞同：-3
> 
> 时间：2012-06-06T04:57:58.683
> 
> 标签：javascript, xhtml

我对 js 完全陌生，我为@大学的一个项目制作了这个表格，但 js 似乎根本不起作用。我没有收到任何错误，它只是不起作用！我启用了 Javascript，并且完全禁用了无脚本。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="<?php echo $_SESSION['css'];?>"/>

 <script type="text/javascript">

  function validate_f() {
    var result=true;
    var username=document.getElemenetById('username').value;
    var illegalChars = /\W/;
    var x=document.getElemenetById('email').value;
        var pwd=document.getElemenetById('password').value;

  if (illegalChars.test(username) || username.length>25) {
        result=false;

        alert("Username must be latin chars and not more than 25 characters");
  }

if (x==null || x=="" || username == null || username=="" || pwd == null || pwd == "" || afm == null || afm == "" ) {
result=false;
alert("you have to fill up all the Boxes dude");
}
    return result;  

} 
<div id="main">
<div id="formcontainer">
<form id="data" name="data" action="connection.php" method="POST" on submit="return validate_f()">
<table width="100%" cellpadding="3" cellspacing="2">
<tr>
    <td width="25%"> </td>
</tr>
<tr>
    <td class="right" width="20%"> <strong> Username </strong> </td>
    <td>
    <input type="text" name="username" id="username" size="25" maxlength="25"/>
</td>
</tr>
<tr>
    <td class="right"> <strong> Password</strong> </td>
    <td>
    <input type="password" name="password" id="password" size="25" maxlength="25"/>
</td>
</tr>
<tr>
    <td class="right"> <strong> Email</strong> </td>
    <td>
    <input type="text" name="email" id="email"/>
    </td>
</tr>
<?php
/*
<tr>
<td class="right"> <strong> Security Code: </strong> </td>
<td>
<img src="CaptchaSecurityImages.php" alt="" />
<input id="security_code" name="security_code" type="text" />
</td>
</tr>
*/
?>
<tr>   
 <td>
          <input name="reset" type="reset" id="reset" value="Reset" />
          <input name="submit" type="submit" id="submit" value="Submit"/>

        </td>
</tr>
</table>
</form>
</div>

</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:01:05.283

onsubmit 事件之间没有空格

```
<form id="data" name="data" action="connection.php" method="POST" onsubmit="return validate_f()"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:02:50.627

on & submit 之间有一个空格。试试这行表单标签...

```
<form id="data" name="data" action="connection.php" method="POST" onsubmit="return validate_f()"> 
```

并且

1.  您`div's`应该在`<form>`标签内。
2.  `</script>`在开始之前关闭标签`<form>`。
3.  `</head>`在启动标签之前关闭`<form>`标签。
4.  关闭`</html>`html 页面末尾的标签。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T05:03:03.500

有拼写错误——

```
document.getElemenetById('password').value
var username=document.getElemenetById('username').value;

```

应该

```
document.getElementById('password').value
var username=document.getElementById('username').value;

```

参考：[https ://developer.mozilla.org/en/DOM/document.getElementById](https://developer.mozilla.org/en/DOM/document.getElementById)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T07:24:24.820

尝试这个，

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <link rel="stylesheet" type="text/css" href="<?php echo $_SESSION['css'];?>"/> 

 <script type="text/javascript">

     function validate_f() {
         var result = true;
         var username = document.getElemenetById('username').value;
         var illegalChars = /\W/;
         var x = document.getElemenetById('email').value;
         var pwd = document.getElemenetById('password').value;

         if (illegalChars.test(username) || username.length > 25) {
             result = false;

             alert("Username must be latin chars and not more than 25 characters");
         }

         if (x == null || x == "" || username == null || username == "" || pwd == null || pwd == "" || afm == null || afm == "") {
             result = false;
             alert("you have to fill up all the Boxes dude");
         }
         return result;

     }
</script> 
</head>

<body><div id="main">
<div id="formcontainer">
<form id="data" name="data" action="connection.php" method="POST" on submit="return validate_f()"> 
<table width="100%" cellpadding="3" cellspacing="2"> 
<tr> 
    <td width="25%"> </td> 
</tr> 
<tr> 
    <td class="right" width="20%"> <strong> Username </strong> </td> 
    <td> 
    <input type="text" name="username" id="username" size="25" maxlength="25"/> 
</td> 
</tr> 
<tr> 
    <td class="right"> <strong> Password</strong> </td> 
    <td> 
    <input type="password" name="password" id="password" size="25" maxlength="25"/> 
</td> 
</tr> 
<tr> 
    <td class="right"> <strong> Email</strong> </td> 
    <td> 
    <input type="text" name="email" id="email"/> 
    </td> 
</tr> 
<?php 

<tr> 
<td class="right"> <strong> Security Code: </strong> </td> 
<td> 
<img src="CaptchaSecurityImages.php" alt="" /> 
<input id="security_code" name="security_code" type="text" /> 
</td> 
</tr> 

<tr>    
 <td> 
          <input name="reset" type="reset" id="reset" value="Reset" /> 
          <input name="submit" type="submit" id="submit" value="Submit"/> 

        </td> 
</tr> 
</table> 
</form> 
</div> 

</div> 
</body>

</html> 
```

# objective-c - 在 iOS 中显示矢量图像（SVG 或 FXG）

> ID：10908374
> 
> 赞同：10
> 
> 时间：2012-06-06T04:58:37.047
> 
> 标签：objective-c, ios, svg, fxg

我想在 iOS 应用程序中以 Adob​​e FXG 文件格式（从 Flash 导出）或 SVG 格式显示图像。是否有可以渲染矢量图形的 Objective-C 工具或库？

*（我不想将我的图像转换为位图格式！我想保持矢量格式）*

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-06T07:09:42.790

也许[SVGKit](https://github.com/SVGKit/SVGKit)可以帮助：

> SVGKit 是一个跨平台的 Cocoa 框架，用于将 SVG 文件渲染为核心动画层。所有形状都由 CAShapeLayer 类的实例表示，并且在设计上是可动画的。SVGKit 与最新的 OS X 和 iOS SDK 兼容。

**注意**：现在我建议改用[PaintCode](http://www.paintcodeapp.com)！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-07T21:23:20.880

肯定是一个老问题，但希望这个新答案可以帮助解决问题。我整个周末都在寻找解决方案，但我想避免使用解析器。我确实找到了一个名为[Qwarkee](http://wavecoders.ca/productsDefault.cfm?prod=2)的程序，它将 svg 代码转换为 Quartz2D 调用。不幸的是，这是一个付费应用程序。（仅供参考，我与该项目无关）。

如果您正在寻找专门为 iOS 制作艺术品，有像 Opacity 和 PaintCode 这样的程序会在您绘制图像时生成 Quartz。

希望有帮助！

# android - 如何在 android 2.2 中创建自己的下载管理器

> ID：10908375
> 
> 赞同：8
> 
> 时间：2012-06-06T04:59:06.343
> 
> 标签：android

我知道我们可以在 Android 2.3 及更高版本中使用内置下载管理器，但我的应用适用于 Android 2.2 及更高版本。我的问题是如何在 android 2.2 中创建自己的下载管理器？请给我一些示例答案。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-06-06T05:44:35.430

> 请给我一些示例答案。

Step1 寻找有关如何在 Android 中下载文件的示例

Step2 查找有关如何在 AsyncTask 中执行操作的示例。

步骤 3 查找有关如何在下载时显示下载进度的示例。

Step4 查找任务完成时如何发送自定义广播的示例

Step5 寻找如何在设备旋转时保持 AsysncTask 操作的示例

Step6 查找有关如何在通知中显示下载进度的示例。

下面是示例代码。

**1\. 使用 AsyncTask 并在对话框中显示下载进度**

```
// declare the dialog as a member field of your activity
ProgressDialog mProgressDialog;

// instantiate it within the onCreate method
mProgressDialog = new ProgressDialog(YourActivity.this);
mProgressDialog.setMessage("A message");
mProgressDialog.setIndeterminate(false);
mProgressDialog.setMax(100);
mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);

// execute this when the downloader must be fired
DownloadFile downloadFile = new DownloadFile();
downloadFile.execute("the url to the file you want to download");

The AsyncTask will look like this:

// usually, subclasses of AsyncTask are declared inside the activity class.
// that way, you can easily modify the UI thread from here
private class DownloadFile extends AsyncTask<String, Integer, String> {
    @Override
    protected String doInBackground(String... sUrl) {
        try {
            URL url = new URL(sUrl[0]);
            URLConnection connection = url.openConnection();
            connection.connect();
            // this will be useful so that you can show a typical 0-100% progress bar
            int fileLength = connection.getContentLength();

            // download the file
            InputStream input = new BufferedInputStream(url.openStream());
            OutputStream output = new FileOutputStream("/sdcard/file_name.extension");

            byte data[] = new byte[1024];
            long total = 0;
            int count;
            while ((count = input.read(data)) != -1) {
                total += count;
                // publishing the progress....
                publishProgress((int) (total * 100 / fileLength));
                output.write(data, 0, count);
            }

            output.flush();
            output.close();
            input.close();
        } catch (Exception e) {
        }
        return null;
    } 
```

上面的方法（doInBackground）总是在后台线程上运行。你不应该在那里做任何 UI 任务。另一方面，onProgressUpdate 和 onPreExecute 在 UI 线程上运行，因此您可以更改进度条：

```
 @Override
    protected void onPreExecute() {
        super.onPreExecute();
        mProgressDialog.show();
    }

    @Override
    protected void onProgressUpdate(Integer... progress) {
        super.onProgressUpdate(progress);
        mProgressDialog.setProgress(progress[0]);
    }
} 
```

**2.从服务下载**

这里最大的问题是：如何从服务更新我的活动？在下一个示例中，我们将使用您可能不知道的两个类：ResultReceiver 和 IntentService。ResultReceiver 允许我们从服务更新我们的线程；IntentService 是 Service 的一个子类，它产生一个线程来从那里做后台工作（你应该知道一个 Service 实际上在你的应用程序的同一个线程中运行；当你扩展 Service 时，你必须手动产生新线程来运行 CPU 阻塞操作） .

下载服务可能如下所示：

```
public class DownloadService extends IntentService {
    public static final int UPDATE_PROGRESS = 8344;
    public DownloadService() {
        super("DownloadService");
    }
    @Override
    protected void onHandleIntent(Intent intent) {
        String urlToDownload = intent.getStringExtra("url");
        ResultReceiver receiver = (ResultReceiver) intent.getParcelableExtra("receiver");
        try {
            URL url = new URL(urlToDownload);
            URLConnection connection = url.openConnection();
            connection.connect();
            // this will be useful so that you can show a typical 0-100% progress bar
            int fileLength = connection.getContentLength();

            // download the file
            InputStream input = new BufferedInputStream(url.openStream());
            OutputStream output = new FileOutputStream("/sdcard/BarcodeScanner-debug.apk");

            byte data[] = new byte[1024];
            long total = 0;
            int count;
            while ((count = input.read(data)) != -1) {
                total += count;
                // publishing the progress....
                Bundle resultData = new Bundle();
                resultData.putInt("progress" ,(int) (total * 100 / fileLength));
                receiver.send(UPDATE_PROGRESS, resultData);
                output.write(data, 0, count);
            }

            output.flush();
            output.close();
            input.close();
        } catch (IOException e) {
            e.printStackTrace();
        }

        Bundle resultData = new Bundle();
        resultData.putInt("progress" ,100);
        receiver.send(UPDATE_PROGRESS, resultData);
    }
} 
```

将服务添加到您的清单中：

```
<service android:name=".DownloadService"/> 
```

活动将如下所示：

// 像第一个例子一样初始化进度对话框

// 这就是你触发下载器的方式

```
mProgressDialog.show();
Intent intent = new Intent(this, DownloadService.class);
intent.putExtra("url", "url of the file to download");
intent.putExtra("receiver", new DownloadReceiver(new Handler()));
startService(intent); 
```

这是 ResultReceiver 来玩的：

```
private class DownloadReceiver extends ResultReceiver{
    public DownloadReceiver(Handler handler) {
        super(handler);
    }

    @Override
    protected void onReceiveResult(int resultCode, Bundle resultData) {
        super.onReceiveResult(resultCode, resultData);
        if (resultCode == DownloadService.UPDATE_PROGRESS) {
            int progress = resultData.getInt("progress");
            mProgressDialog.setProgress(progress);
            if (progress == 100) {
                mProgressDialog.dismiss();
            }
        }
    }
} 
```

# c - 如何运行这个程序？

> ID：10908376
> 
> 赞同：4
> 
> 时间：2012-06-06T04:59:14.987
> 
> 标签：c, unix, gcc, fork

我可以编译提供给我的这个程序，但我必须进一步开发。我对此有一些疑问：

```
#include <sys/types.h>
#include <signal.h>
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <errno.h>

#define TIMEOUT (20)

int main(int argc, char *argv[])
{
  pid_t pid;
  if(argc > 1 && strncmp(argv[1], "-help", strlen(argv[1])) == 0)
    {
      fprintf(stderr, "Usage: RunSafe Prog [CommandLineArgs]\n\nRunSafe takes as arguments:\nthe program to be run (Prog) and its command line arguments (CommandLineArgs) (if any)\n\nRunSafe will execute Prog with its command line arguments and\nterminate it and any remaining childprocesses after %d seconds\n", TIMEOUT);
      exit(0);
    }

  if((pid = fork()) == 0)        /* Fork off child */
    {
      execvp(argv[1], argv+1);
      fprintf(stderr,"RunSafe failed to execute: %s\n",argv[1]);
      perror("Reason");
      kill(getppid(),SIGKILL);   /* kill waiting parent */
      exit(errno);               /* execvp failed, no child - exit immediately */
    }
  else if(pid != -1)
    {
      sleep(TIMEOUT);
      if(kill(0,0) == 0)         /* are there processes left? */
    {
      fprintf(stderr,"\nRunSafe: Attempting to kill remaining (child) processes\n");
      kill(0, SIGKILL);      /* send SIGKILL to all child processes */
    }
    }
  else
    {
      fprintf(stderr,"RunSafe failed to fork off child process\n");
      perror("Reason");
        }

} 
```

当我编译它时，我的警告是什么意思？

```
$ gcc -o RunSafe RunSafe.c -lm 
RunSafe.c: In function ‘main’:
RunSafe.c:30:44: warning: incompatible implicit declaration of built-in function ‘strlen’ [enabled by default] 
```

为什么我不能执行文件？

```
$ file RunSafe
RunSafe: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.24, BuildID[sha1]=0x0a128c8d71e16bfde4dbc316bdc329e4860a195f, not stripped
ubuntu@ubuntu:/media/Lexar$ sudo chmod 777 RunSafe
ubuntu@ubuntu:/media/Lexar$ ./RunSafe
bash: ./RunSafe: Permission denied
ubuntu@ubuntu:/media/Lexar$ sudo ./RunSafe
sudo: ./RunSafe: command not found 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:02:11.210

首先，您需要`#include <string.h>`摆脱该警告。

其次，操作系统可能会阻止您在`/media/Lexar`文件系统上执行程序，无论它们的权限位是什么。如果您键入`mount`，您可能会`noexec`看到`/media/Lexar`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:02:01.373

> 警告：内置函数'strlen'的不兼容隐式声明[默认启用]

您需要包含`#include<string.h>`，因为`strlen()`在其中声明了。

尝试在文件系统中的其他位置而不是挂载的分区上运行 exe，因为错误表明由于某种原因您对该挂载的分区没有权限。

# wordpress - 如何从 Wordpress RSS 源中排除某些帖子？

> ID：10908382
> 
> 赞同：3
> 
> 时间：2012-06-06T04:59:52.647
> 
> 标签：wordpress, post, rss, feed

有没有办法从所有 Wordpress 的 RSS 提要（默认以及标签、类别和搜索提要）中排除帖子？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T05:59:58.157

假设您不想使用[THIS ONE](http://coffee2code.com/wp-plugins/stealth-publish/)或[THIS](http://www.planetmike.com/plugins/ultimate-category-excluder/)之类的插件，您有很多方法：

一种是为您想要排除的帖子分配一个类别，然后您可以像这样更改 RSS 链接的 URL：

```
http://www.mydomain.com/feed?cat=-x,-y,-z 
```

您还可以使用以下功能进行过滤：

```
function o99_my_rss_filter($query) {
if ($query->is_feed) {
$query->set('cat','-7'); //Put category ID - here it is : 7
}
return $query;
}

add_filter('pre_get_posts','o99_my_rss_filter'); 
```

关键是您需要分配 SOMETHING（标签、自定义字段、类别）来标识要排除的内容，假设您不希望总是添加要从查询中排除的 ID。

如上所示，最简单的是按类别。

* ***编辑我 **

只是为了它 - （我仍然推荐 cetegory 方法） r 即使我不喜欢过度使用的自定义字段 - 这是通过分配自定义字段来更改查询的另一种方法：

```
function o99_my_rss_filter_by _field( $where, $wp_query = NULL ) {
    global $wpdb;

    if ( !$wp_query ) global $wp_query;if ( $wp_query->is_feed ) {

        $posts = get_posts( array( 'meta_key' => 'norss' ) );

        if ( $posts ) {
            foreach( $posts as $post ) {
                $exclude .= $post->ID . ',';
            }
        }
        $exclude = substr( $exclude,0, strlen( $exclude )-1 );

        $where .= ' AND $wpdb->posts.ID NOT IN ( ' . $exclude . ')';
    }
    return $where;
}
add_filter( 'posts_where', 'o99_my_rss_filter_by _field', 1, 4 ); 
```

# javascript - 如何在 javascript 生成的表上使用“rel”属性？

> ID：10908388
> 
> 赞同：0
> 
> 时间：2012-06-06T05:01:03.957
> 
> 标签：javascript, jquery

好的，所以我很难说出这个问题，所以我会尽可能地描述这个问题。我正在将这段代码转换为通过单击许多表格行之一来打开覆盖的代码，该代码通过单击图像来显示首选项覆盖。

代码涉及这两个文件（但是，它们不是项目中唯一的文件。）

索引.html

```
 <div class="details">
        <h3 align="center">Preferences</h3>

    </div>
</div>
        <script>
             /* Overlay  */
             $(document).ready(function() {

             $("tr[rel]").overlay(); 

            });
        </script>

        <!-- <script src="js/jquery-1.3.2.min.js" type="text/javascript"></script> -->
        <script src="js/jquery.qtip-1.0.0-rc3.min.js" type="text/javascript"></script>
        <script src="js/jquery.qtip.debug.js" type="text/javascript"></script>
        <script>
             /* TOOL TIPS */
        /*   $(document).ready(function() {
                    $(#'milehf').qtip({
                       content: '100%',
                       style: { 
                          width: 200,
                          padding: 5,
                          background: '#A2D959',
                          color: 'black',
                          textAlign: 'center',
                          border: {
                             width: 7,
                             radius: 5,
                             color: '#A2D959'
                          },
                          tip: 'bottomLeft',
                          name: 'dark' // Inherit the rest of the attributes from the preset dark style
                       }
                    });
             });*/
        </script> 
```

表.js

```
$.ajax({
    async:false,
    dataType: "json",
    url: "http://localhost:8080/JSP/connection2.jsp",
    success: function(data){
        cbspData = data;
        console.log(cbspData[1].Satellite);
        }
    });

function table4()
{
    console.log(cbspData[1].Satellite);
    //alert(data2[1].id);
    var thisDat = cbspData;

    if (!document.getElementsByTagName) return;
    tabBody=document.getElementById("mytable")
    //tabBody=document.getElementsByTagName("TBODY").item(0);

    //var Parent = tabBody.getElementsByTagName("TBODY");
    while(tabBody.hasChildNodes())
    {
       tabBody.removeChild(tabBody.firstChild);
    } 

  $.each(cbspData, function(i,dat){ 
    row=document.createElement("TR");
    row.setAttribute("number", dat.id);
    row.id = "triggers";
    row.rel="#mies1";
    console.log(row.id);
    console.log(row.rel);
    //console.log(dat.Satellite);

    document.createAttribute();

    cell0 = document.createElement("TD");
    cell0.innerHTML = dat.Mission;
    //onMouseOver='alert(\"hello\"); document.getElementById(\"div" + i + "\").style.visibility = \"visible\";'
    cell1 = document.createElement("TD");
    cell1.innerHTML = dat.Satellite;
    //$("#test-area table tbody tr:eq(" + i +") td:eq(0)").html(
    //  dat.id
    //);
    cell2 = document.createElement("TD");
    cell2.innerHTML = dat.TerminalID;
   // $("#test-area table tbody tr:eq(" + i +") td:eq(1)").html(
   //   dat.title
    //);
    cell3 = document.createElement("TD");
    cell3.innerHTML = dat.Modem;
    //$("#test-area table tbody tr:eq(" + i +") td:eq(2)").html(
    //  dat.subtitle
    //);
    cell4 = document.createElement("TD");
    cell4.innerHTML = dat.Teleport;
    //$("#test-area table tbody tr:eq(" + i +") td:eq(3)").html(
    //  dat.ranges
    //);
    cell5 = document.createElement("TD");
    cell5.innerHTML = dat.ModemLock;

    //textnode5=document.createTextNode(dat.measures);
    //cell5.appendChild(textnode5);

    row.appendChild(cell0);
    row.appendChild(cell1);
    row.appendChild(cell2);
    row.appendChild(cell3);
    row.appendChild(cell4);
    row.appendChild(cell5);
    tabBody.appendChild(row);
  });

} 
```

Table.js 根据 JSP 生成的信息生成表格，即使将 rel 属性成功设置为“#mies1”，单击也不起作用。但是，如果我在 index.html 中设置由纯 html 制成的表格的 rel，它就可以正常工作。我认为这与页面完成其加载周期并在表格完全生成之前运行覆盖代码有关。这和它有什么关系吗？如何使生成的 TR 可点击？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:12:40.073

`$("tr[rel]").overlay();` 在函数结束时调用`table4()`。

# java - JFileChooser 打开常规文件浏览器而不是展开的浏览器

> ID：10908390
> 
> 赞同：0
> 
> 时间：2012-06-06T05:01:07.527
> 
> 标签：java, swing, awt, look-and-feel, jfilechooser

在我之前的两篇文章[和](https://stackoverflow.com/questions/10907738/use-jfilechooser-without-using-a-main-declaration/10907832#comment14224031_10907832)另[一篇](https://stackoverflow.com/questions/10900696/how-to-open-files-in-java-swing-without-jfilechooser/10901164#10901164)文章之后，以下代码将打开常规文件浏览器而不是展开的文件浏览器：

```
public class GuiHandler extends javax.swing.JFrame {
    // data members
    private DataParser xmlParser = new DataParser();
    private File newFile;
    JFileChooser jfc = new JFileChooser();

    // more code 

    public void launchFileChooser() {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch(Exception e) {
                    e.printStackTrace();
                }
                jfc.setFileSelectionMode(JFileChooser.FILES_ONLY);
                jfc.setAcceptAllFileFilterUsed(false);
                if (jfc.showOpenDialog(null) == JFileChooser.APPROVE_OPTION)
                    newFile = jfc.getSelectedFile();
            }
        });
    }

    // more code 

    private void XMLfilesBrowserActionPerformed(java.awt.event.ActionEvent evt) {       
        launchFileChooser();
        xmlParser.getNodeListFromFile(newFile);
        // here the code has the below problems 
```

**问题：**

1.  当我点击一个按钮时，代码会打开一个常规文件浏览器`open XML file`；它仍然允许我选择一个文件。
2.  它抛出一个异常：

```
Exception in thread "AWT-EventQueue-0" java.lang.IllegalArgumentException: File cannot be null
    at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:198) 
```

`jfc`如果是数据成员，为什么它会打开常规浏览器，而当它是局部变量时，会打开扩展的浏览器？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:08:05.067

关于常规文件选择器与扩展文件选择器，请确保在调用`UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());`之前先调用`new JFileChooser();`。实际上，除非您允许用户在应用程序执行期间更改外观 (L&F)，否则请`main`在创建任何 Swing 组件之前将 L&F 设置为接近应用程序执行的开头，就像在方法中一样。根据我的经验，不这样做会导致一些奇怪的 UI 行为。

当你有`JFileChooser`作为局部变量的时候`launchFileChooser`，`UIManager.setLookAndFeel`在之前被调用`new JFileChooser`。什么时候`JFileChooser`是类成员变量（又名数据成员），`UIManager.setLookAndFeel`在之后调用`new JFileChooser`；在后一种情况下，在`JFileChooser`实例化的实例时`GuiHandler`创建。

* * *

关于`IllegalArgumentException`使用`SwingUtilities.invokeAndWait`in`launchFileChooser`而不是[`SwingUtilities.invokeLater`](http://docs.oracle.com/javase/6/docs/api/javax/swing/SwingUtilities.html#invokeLater%28java.lang.Runnable%29). 更好的是，如果您确定`launchFileChooser`将始终在事件调度线程上发生，则无需调用`SwingUtilities.invokeAndWait`或`SwingUtilities.invokeLater`。

* * *

您可能还想使用文件过滤器：

```
jfc.setFileFilter(new FileNameExtensionFilter("XML files (*.xml)", "xml")); 
```

* * *

以下是展示上述概念的[SSCE ：](http://sscce.org/)

```
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.File;

import javax.swing.JButton;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.UIManager;
import javax.swing.filechooser.FileNameExtensionFilter;

public class GuiHandler extends JFrame {
    public static void main(String[] args) throws Exception {
        // call UIManager.setLookAndFeel early in application execution
        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
        JFrame frame = new GuiHandler();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setVisible(true);
    }

    private final JFileChooser jfc;

    public GuiHandler() {
        this.jfc = new JFileChooser();
        this.jfc.setFileSelectionMode(JFileChooser.FILES_ONLY);
        this.jfc.setFileFilter(new FileNameExtensionFilter("XML files (*.xml)", "xml"));

        final JButton button = new JButton("Open XML file");
        button.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                xmlFilesBrowserActionPerformed();
            }
        });
        add(button);

        pack();
    }

    protected void xmlFilesBrowserActionPerformed() {
        final File xmlFile = getXmlFile();
        if (xmlFile != null) {
            System.out.println(xmlFile); // process XML file
        }
    }

    private File getXmlFile() {
        // At this point we should be on the event dispatch thread,
        // so there is no need to call SwingUtilities.invokeLater
        // or SwingUtilities.invokeAndWait.
        if (this.jfc.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {
            return this.jfc.getSelectedFile();
        }
        return null;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:45:01.760

我不确定您所说的“扩展的”是什么意思，但我假设您指的是文件过滤器。在没有任何文件过滤器的情况下，我猜它默认显示所有文件。在打开对话框之前尝试添加以下代码。

```
jfc.setFileFilter(new javax.swing.filechooser.FileFilter(){
    public boolean accept(File f){
        return  f.isDirectory() || f.getName().toLowerCase().endsWith(".xml");
    }
    public String getDescription(){
        return "XML File";
    }
}) 
```

# jquery-ui - 如何在其他文本框中获取并显示自动完成的结果

> ID：10908401
> 
> 赞同：1
> 
> 时间：2012-06-06T05:02:17.260
> 
> 标签：jquery-ui, jquery, jquery-plugins, jquery-selectors

我有两个文本框，我想在 jQuery 中使用自动完成功能。我想在第二个文本框中显示第一个文本框的搜索结果，如下所示：

```
First TextBox                  Second TextBox
   Se....                          server
                                   serve
                                   search
                                   seat
                                   .
                                   .
                                   .
                                   and ... 
```

如何在第一个文本框中搜索并将结果显示在第二个文本框中？

# php - 使用 PHPMailer 将图像放入电子邮件中

> ID：10908406
> 
> 赞同：1
> 
> 时间：2012-06-06T05:03:04.117
> 
> 标签：php, phpmailer

如何使用 PHPMailer 正确地将图像放入电子邮件中？

我有这个代码：

```
$mail->IsHTML(true);
$mail->Body = "Issue:<br/>".$issue."<br/><img src=$img_data/>"; 
```

但是当我将它发送到 gmail 时，它已经看起来像这样：

![在此处输入图像描述](../Images/1942e49199c8b3a3a1d1639280eda240.png)

我正在使用 URI 来存储图像数据。如何在 PHPMailer 中链接此图像？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:23:05.740

看这个

问题可能会帮助你你可以试试这个

[使用 PHPMailer 发送电子邮件 - 在正文中嵌入图像](https://stackoverflow.com/questions/3708153/send-email-with-phpmailer-embed-image-in-body)

我希望它有帮助

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:22:48.727

尝试`'`在您的 img src 属性中添加一个：

```
"<img src='$img_data'/>"; 
```

# ios - 当我重命名属性名称时，Xcode 重构不会重命名 setter 和 getter

> ID：10908408
> 
> 赞同：0
> 
> 时间：2012-06-06T05:03:10.897
> 
> 标签：ios, objective-c, xcode, refactoring, getter-setter

重命名属性仅适用于属性名称，但不会重命名其 getter 和 setter 方法。

例如，在下面的代码中，当我将propertyA重命名为propertyB时，`self.propertyA = @"ccc"`又`return propertyA`被重命名了。但是`-(void)setPropertyA:`并`-(NSString *)propertyA`没有重命名。

```
@property(nonatomic, strong) NSString *propertyA;

-(void)setPropertyA:(NSString *)propertyA
{
    self.propertyA = @"ccc";
}

-(NSString *)propertyA
{
    return propertyA;
} 
```

如果我忘记手动重命名 getter 和 setter 是非常危险的。

重命名属性时如何使Xcode重命名getter和setter？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:07:21.737

我不认为你可以。但是，在上述情况下，您不需要。在简单的情况下，您应该只使用`@synthesize propertyA`.

不幸的是，Xcode 重构工具仍处于早期开发阶段。

# mysql - 如何使用mysql数据库在tomcat 7上部署jbpm5.2？

> ID：10908413
> 
> 赞同：0
> 
> 时间：2012-06-06T05:03:46.233
> 
> 标签：mysql, tomcat7, jbpm

任何人都可以帮我提供一个链接或文档，以使用 mysql 作为数据库在 tomcat 7 上运行 jbpm-5.2 吗？jbpm 部署到 tomcat 是否需要其他工具或存储库或其他东西？我是 jbpm 的新手...请帮助我。

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T12:44:22.270

我有同样的问题，并在这里发布了一个解决方案（有一个可以下载的 ANT 脚本引用）：

[http://ironclaws.wordpress.com/2012/06/18/jbpm-5-2-tomcat-7-mysql-ant-script-18-2/](http://ironclaws.wordpress.com/2012/06/18/jbpm-5-2-tomcat-7-mysql-ant-script-18-2/)

总结一下使用最终完整发行版将 jbpm 5.2 安装到 tomcat 7 所需的内容：

1.  Bitronix 事务管理器：尽管有要求，但发行版不会尝试部署/配置它。上面的 Ant 安装程序将在 Tomcat 服务器级别安装 Bitronix - 有利的是，此时 BTM 可以集成到平台上的其他项目中。

2.  jBPM 发行版是为 JBoss AS 服务器设计的，控制台/控制台服务器包包括 EL（表达式语言）库。这些将与那些与 Tomcat 一起安装的冲突 - 应保留 Tomcat EL。

3.  config / config-server 发行版中的 javassist jar 存在一些混淆。包含的 jars 应该被删除——并包含在 config / config-server javassist-3.4.GA 中。这种依赖的原因是 Hibernate 3.4 被部署为这个发行版中的持久层。

4.  有一个冲突的 dom4j 库 - dom4j-1.6.jar 与控制台/控制台服务器包一起部署。这也应该被删除。

5.  没有明确提到参数： `-Dreporting.needcontext=true`需要传递给Tomcat JVM，才能让gtw-server正确实例化report module loader。

6.  对于“演示”，正确配置人工服务器持久性很重要，另外还要解决此服务启动期间的 includeantruntime 问题。

# c# - 如何在列表视图中使用复选框抓取子项

> ID：10908416
> 
> 赞同：0
> 
> 时间：2012-06-06T05:04:03.787
> 
> 标签：c#, winforms, listview, listviewitem

我目前正在尝试从每个选中的 listviewitem 中获取一列中的所有子项，并将它们显示在 Richtextbox 中，但我不知道该怎么做。这是我当前的代码。

我也在尝试在 ItemChecked 事件中执行此操作。

```
 foreach (ListViewItem item in listView1.Items)
        {
            if (listView1.CheckedItems.Count > 0)
            {
                richTextBox2.Text = listView1.CheckedItems[0].SubItems[1].Text;

            }
        } 
```

我认为这会起作用，但显然不行。感谢所有帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:08:29.267

您正在替换每个循环中文本框的内容。尝试用 . 附加文本`+=`。您还需要选择正确的项目

```
richTextBox2.Text = String.Empty;
foreach (ListViewItem item in listView1.Items)
{
    if (item.Checked)
    {
        richTextBox2.Text += item.SubItems[1].Text + Environment.NewLine;
    }
} 
```

您也可以使用 LINQ 表达式来编写它，然后[`String.Join`](http://msdn.microsoft.com/en-us/library/dd783876.aspx)

```
richTextBox2.Text = String.Join(Environment.NewLine,
    from item in listView1.Items.OfType<ListViewItem>()
    where item.Checked
    select item.SubItems[1].Text); 
```

# jquery - 是否有一个很好的 jQuery 插件来实现隐藏效果，看起来就像在 Windows 中最小化窗口

> ID：10908419
> 
> 赞同：2
> 
> 时间：2012-06-06T05:04:16.043
> 
> 标签：jquery, jquery-ui, jquery-plugins, jquery-effects

正如标题所述，是否有一个 jQuery 插件效果可以让我以一种类似于 Windows 的方式隐藏 div？所以 div 会移动、缩小并在屏幕上的某个点变得透明。这是一个示例： http: [//fstoke.me/jquery/window/](http://fstoke.me/jquery/window/)这几乎就是我正在寻找的，除了我认为不可能只使用效果。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T05:33:57.210

您可以使用 jQuery 的`.animate()`方法。您需要更改的效果是：

*   窗口的宽度
*   窗户的高度
*   最高位置
*   左侧位置

像这样：

```
$('#element').animate({
    top: $(window).height(), // to force the window to minimize at the bottom corner
    left: 0,
    width: '20px',
    height: 0
}); 
```

[这是](http://jsfiddle.net/teneff/KqTdQ/1/)我刚刚制作的带有 jQ​​ueryUI 对话框的 jsFiddle 示例。这是没有 jQueryUI 的[。](http://jsfiddle.net/teneff/KqTdQ/)

编辑：如果您愿意，您还可以添加透明度，例如`opacity: 0.3`

# java - 评估struts2调试标记时jsp中的流关闭异常？

> ID：10908424
> 
> 赞同：2
> 
> 时间：2012-06-06T05:05:02.930
> 
> 标签：java, jsp, struts2

我有一个struts2 应用程序，工作finr。但是当我以html形式或其他任何地方将标签放入jsp时，它会抛出

```
Struts Problem Report
Struts has detected an unhandled exception: 
Messages: Stream closed 
File: org/apache/jasper/runtime/JspWriterImpl.java 
Line number: 204 

Stacktraces
java.io.IOException: Stream closed 
org.apache.jasper.runtime.JspWriterImpl.ensureOpen(JspWriterImpl.java:204)
org.apache.jasper.runtime.JspWriterImpl.flushBuffer(JspWriterImpl.java:115)
org.apache.jasper.runtime.JspWriterImpl.flush(JspWriterImpl.java:173)
org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary 
```

我`struts.devMode=true`也在`struts.properties`.

我们得到这种异常的基本原因是当 jsp 的输出已经到浏览器但仍在评估某些内容但不确定为什么会发生我的场景时？

**编辑**这是jsp虽然我只保留了最少的信息

```
<!doctype html>
 <%@ page contentType="text/html; charset=UTF-8" %>
 <%@ taglib prefix="s" uri="/struts-tags" %>

  <html>
 <head>
 </head>

 <body>
 <h1>Struts 2 debug tag example</h1>

 <s:debug />

 </body>
 </html> 
```

**如果有人可以对此有所了解，人们会真的很有帮助吗？**

# java - 我们可以在不更改 APP 版本的情况下更新 Google Play Store 上的 APK

> ID：10908432
> 
> 赞同：35
> 
> 时间：2012-06-06T05:05:49.303
> 
> 标签：java, android, sqlite, apk, google-play

谁能告诉我，我可以在不更改应用版本的情况下替换上传到 Google Play 商店的 APK。

基本上我昨天已经上传了 1.0 版本的应用程序，今天我想重新上传带有一些重要修复的 APK，并且不想更改版本。

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2012-06-06T05:07:03.683

您**无法在不更改其***版本代码*的情况下更新现有应用程序。每次更新应用程序时，应将其版本代码增加 1。版本代码对用户外部不可见，仅用作对应用程序进行版本控制的一种方式。

您**可以在不更改***版本名称*的情况下更新现有应用程序。版本名称是用户将在 Google Play 上看到的（即版本 1.10、2.08 等），与您的应用程序的实际版本号无关（可以是您想要的任何内容）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:33:19.897

不，您不能在 Android 市场上传相同版本的 apk。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-06-01T06:52:04.350

There are two type of app version versionCode and versionName. For updating the apk in play store versionCode should be incremented by one from the previous value and versionName is not mandatory to change. It is up to you but keep in mind only the external user can see versionName so if you are updating the apk it is recommendated to change the versionName.

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-01-31T11:07:49.973

你可以用一个技巧来做到这一点。

我的 Google play 会说意大利语，所以请试着理解...点击`go back to old site design`，然后进入您的应用详细信息，然后点击`File APK`顶部的确定选项卡。

现在在`File APK`旧版本页面中，单击`go to advanced version`，然后单击`deactivate`。

**重要提示**：点击`delete`后请勿点击，`deactivate`否则您的应用将被永久删除，您将重新编译商店详细信息（描述、图像、图标等）。

现在回到新样式站点，您将找不到任何已上传的apk，您可以提供新版本而无需增加版本号。

当我做这个技巧时，我的 apk 没有发布。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-17T23:29:46.967

FWIW，我能够在不增加版本号的情况下将 APK 文件上传到 Googe Play。

1) 几天前我上传了版本 100 (1.0.0)。

2）我生成了一个版本为100（1.0.0）的新APK，它上传没有任何问题。

但是请注意，就我而言，该应用程序处于草稿状态。它还没有出版。一旦发布，我不会用具有相同版本号的构建替换它（此外，它可能不会被 Google Play 接受。）

附带说明一下，我尝试上传版本 10 (1.0)，但 Google Play 不接受它，说我需要增加版本号。

# sockets - WSASend、WSARecv完成例程调度问题

> ID：10908435
> 
> 赞同：1
> 
> 时间：2012-06-06T05:06:31.923
> 
> 标签：sockets, io

我正在实现一个客户端/服务器对，通过 TCP/IP 套接字进行通信，在 Windows 中使用重叠 IO 和完成例程。使用两个 VirtualBox 虚拟机（一个客户端，另一个服务器）进行调试。CPU是四核的。

客户端上的操作顺序基本上是：

*   发出 WSARecv 调用（目前尚未完成）。
*   使用数据包发出 WSASend 调用。服务器将通过同一个套接字发送回复。
*   一旦执行了 WSASend 调用的完成例程，数据包就会被放入等待回复队列中。
*   一旦 WSARecv 调用的完成例程执行（收到来自服务器的回复），代码就会尝试在队列中定位与此回复相关的数据包。
*   发出 WSARecv 调用（目前尚未完成）。
*   从第二步开始重复。

服务器上的操作顺序基本上是：

*   发出 WSARecv 调用（目前尚未完成）。
*   一旦 WSARecv 调用的完成例程执行（收到来自客户端的数据包），数据包就会在辅助线程中处理。
*   发出 WSARecv 调用（目前尚未完成）。
*   一旦辅助线程完成，就会向客户端发送回复，在主线程上发出 WSASend 调用。
*   从第二步开始重复。

我遇到的问题是有时在客户端收到回复，而等待回复队列中没有相应的数据包。作为调试工作的一部分，我有两个问题：

1) 是否可以想象，在有一个挂起的 WSARecv 调用时，WSARecv 的完成例程被安排在相应 WSASend 的完成例程之前执行（发送服务器回复的数据包的那个）？

2) 如果 WSASend 调用立即完成，完成例程是否仍计划执行？

我正在使用 WSAWaitForMultipleEvents 调用作为警报等待函数。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:21:52.440

你的代码坏了。即使保证操作以特定顺序完成，也不能确保以任何特定顺序接收完成指示，或者处理这些完成的代码将以任何特定顺序运行。

你的第二个问题的答案是*肯定*的。通常，您可以将立即完成视为待处理，因为完成例程将在任何一种情况下运行。

解决您的问题的理想方法是在您决定发送数据包后立即将其视为等待回复。

如果由于某种原因需要进行太多代码更改，您还有另一种选择。如果您收到 WSARecv 完成并且 WSASend 完成尚未发生，只需推迟处理 WSARecv 完成。您可以通过以下两种方式执行此操作：

1.  产生一个线程等待几分之一秒，然后从该线程重新发布完成通知（通过调用`PostQueuedCompletionStatus`）。据推测，WSASend 将在那时完成。

2.  标记 WSARecv 已完成的标志并保存完成信息。当 WSASend 完成时，请注意该标志并随后处理 WSARecv。（可能通过直接调用完成处理程序。）

# html - 流体高度取决于 Drupal 主题中的内容

> ID：10908437
> 
> 赞同：0
> 
> 时间：2012-06-06T05:06:50.020
> 
> 标签：html, css, drupal

如何让流体 div 仅根据 css 中的内容改变它的高度，还是我必须在 PHP 中做？

原因是因为我正在为 Drupal 制作主题，并且主题的每一页内容都会发生变化。

例如，中间的内容 div 没有设置高度，但是根据 Drupal 后端指定的文章或页面长度，内容 div 会相应变化。

阿马尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:41:08.507

如果非流体 div 中有流体内容 div，则必须在流体 div 之后添加 clear 两个 div，因此非流体 div 与内部流体 div 具有相同的高度

```
<div style="clear:both"></div> 
```

# android - 如何在 Android 中读取 JSON 父标签

> ID：10908439
> 
> 赞同：1
> 
> 时间：2012-06-06T05:07:06.830
> 
> 标签：android, json, arrays

我需要你的帮助来解决以下问题。我想读取**JSON**文件的父标签。以下是我的**JSON**文件内容；

```
{
    "ebook":
        [
            {"id":"1","name":"book1"},
            {"id":"2","name":"book2"}
        ],
    "ebrochure":
        [
            {"id":"1","name":"brochure1"},
            {"id":"2","name":"brochure2"}       
        ],
    "emenu":
        [
            {"id":"1","name":"menu1"},
            {"id":"2","name":"menu2"}           
        ]
} 
```

我只需要找出**JSON**中有多少父母标签以及它们是什么。根据我给定的**JSON**文件，答案应该是*3*（有 3 个父 JSON 标签）和“ *ebooks*、*ebrochure*、*emnu* ”（父标签的名称）。有任何 JAVA 课程可以让我完成工作吗？

我知道如何阅读完整的**JSON**文件。首先我们将**JSON**传递给 a `JSONObject`，然后通过`JSONArray`using`getJSONArray()`方法将孩子传递给 a。

但是`getJSONArray()`方法需要父标签的名称。根据我的示例，它可以是*ebook*、*ebrochure*或*emenu*。假设有一种情况，我们只能访问 URL看不到**JSON的内容。**在这种情况下，我需要找出有多少父母标签以及它们的名称。

那是我的问题。提前感谢您帮助我:-)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T05:10:47.260

您应该阅读[JSONObject.names的文档](http://developer.android.com/reference/org/json/JSONObject.html#names%28%29)

基本上，`names()`（在 Android 中）可用于获取字段名称数组，然后将它们用作您的键。我不会在这里做一个完整的例子，因为如果你自己尝试，你会学得更好。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T05:25:10.153

```
public static String Fechingdata(String response){
        Id1.clear();
        Id2.clear();
        Id3.clear();
        name1.clear();
        try{
            JSONArray jsonarray = new JSONArray("["+response+"]");
            JSONObject jsonobject = jsonarray.getJSONObject(0);
            parseForResponse1(jsonobject.getString("ebook"),1);
            parseForResponse2(jsonobject.getString("ebrochure"),2);
            parseForResponse3(jsonobject.getString("emenu"),3);
            return response;

        }catch (Exception e) {
            return "\"" + "Access Denied" + "\"";
        }
    }

    private static void parseForResponse1(String res,int i) {
        try{

            JSONArray jsonarray1 = new JSONArray(res);
            Log.d("jsarry1",""+jsonarray1.length());
            for(int i=0;i<jsonarray1.length();i++){
               JSONObject jsonobject = jsonarray1.getJSONObject(i);
               if(i ==1){
                   Id1.add(jsonobject.getString("id"));
                    name1.add(jsonobject.getString("id"));
               }
               if(i ==2){
                   Id2.add(jsonobject.getString("id"));
                    name2.add(jsonobject.getString("id"));
               }
               if(i ==2){
                   Id3.add(jsonobject.getString("id"));
                    name3.add(jsonobject.getString("id"));
               }    
            }

        }
        catch (Exception e) {
            System.out.println(e.toString());
        }

    } 
```

这个试试这个json解析

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T05:43:18.747

```
 JSONObject  jobj = new JSONObject(Your Json String);
 JSONArray jarray=jobj.names();

   for(int i=0;i<jarray.length();i++){

      Log.e("parenttag",jarray.getString(i));

   } 
```

这样，您将获得 jsonString 中的所有父标签

# algorithm - 带有循环的递归函数的复杂性

> ID：10908444
> 
> 赞同：2
> 
> 时间：2012-06-06T05:07:31.363
> 
> 标签：algorithm, recursion, ocaml, complexity-theory

我有一个在列表上工作的递归函数，该函数包含一个调用自身的循环，并以另一个函数结束`g`。它的结构类似如下，为了简化问题，我们可以假设它`l`始终是一个没有重复元素的列表。

```
let rec f l = function
  | [] -> g ()
  | _ ->
      List.fold_left
        (fun acc x ->
           let lr = List.filter (fun a -> (a <> x)) l in
           acc + (f lr))
        1 l 
```

我不确定如何表达这个函数`List.length l`的复杂性，以及`g`.

`g`我认为它与 的复杂性和**阶乘**成正比，`List.length l`有人可以确认吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:19:56.927

好的。我并不是要显得必须信任。这看起来确实像一个函数式编程作业，因为它不是很实用的代码。

令 F(n) 为长度为 n 的输入的比较次数加上加法次数。令 G 为 g 的运行时间。由于 g 不带任何操作数，因此 G 是常数。我们只是在计算它被调用的次数。

折叠将执行其功能 n 次。每次执行都会调用 filter 进行 n 次比较并每次从其输入中删除一个元素，然后在这个缩短的列表上递归调用 f 并进行一次加法。所以总成本是

F(n) = n * (n + F(n - 1) + 1) [如果 n > 0] = G [否则]

第一项扩展为

F(n) = n * F(n - 1) + n^2 + n

这是 O(n! + n^3 + n^2 + nG) = O(n! + nG) 正如你所建议的。

我希望这是有帮助的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-08T08:31:31.640

由于您假设列表`l`不包含任何重复项，因此此函数所做的是计算所有元素比原始列表少一个的子列表，并在所有子列表上递归调用自身。**那么，从大小为n**`g`的列表开始时调用的次数是**g****[吗？]****(n) = n · g** **[?]** **(n-1) = n!**

 **现在，让我们考虑该函数必须执行的所有其他操作。递归每一步的工作量包括：

*   对于原始列表中的每个元素，构造一个少一个元素的新列表。**这是等于n** **²**的总工作量
*   一旦知道递归调用的结果，就将其添加到累加器中。**这是等于n**的总工作量（这部分可以忽略，因为过滤器的成本更高）。

`g`因此，由于我们知道每个递归步骤将被调用多少次（基于我们之前的分析），所以非相关工作的总量为： **t [？](n) = n ² + n (n-1) ² + n (n-1) (n-2) ² + ... + n!**

这个公式看起来很痛苦，但实际上**t [?] (n)/n!** **随着n**的增加，有一个有限的非零极限（它是**k+1 / k!**的总和，其中**0 < k < n**）等等**t [?] (n) = Θ(n!)**。**

# ruby-on-rails - 尝试使用 Rails 3 启动脚本/控制台

> ID：10908452
> 
> 赞同：0
> 
> 时间：2012-06-06T05:08:59.747
> 
> 标签：ruby-on-rails, ruby, console

使用 Rails 3\. 在我的项目目录中，我尝试使用“rails 控制台”命令行启动 rails 脚本/控制台并得到它作为回报。 `Loading test environment (Rails 3.2.1)` `irb(main):001:0>`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-14T00:48:28.843

我想你可能对这些`rails`命令感到困惑。

`rails server`（或`script/server`使用 Rails 2.x 时）用于启动 Web 服务器以进行本地开发（默认情况下，Webrick 在 上运行`0.0.0.0:3000`）。此进程在前台运行，不允许交互。它会将输出记录到 STDOUT。

`rails console`（或`script/console`使用 Rails 2.x 时）用于启动交互式 ruby​​ shell (irb)，并加载您的 Rails 应用程序和环境（`development`默认情况下，在您的情况下）。`test`这是一个交互式 shell，意味着您可以在此处键入 ruby​​ 代码，当您按回车键或遇到块末尾时，它将执行。试试这个

```
a = ["b", "a", "r","t"]
a.reverse 
```

将返回

```
=> ["t", "r", "a", "b"] 
```

由于这也会加载您的 Rails 应用程序，因此您可以访问应用程序中定义的类。例如，如果您`Person`定义了一个模型，您可以通过在 irb 中键入以下内容来实例化一个新实例

```
Person.new 
```

要离开 irb，您可以键入`exit`以返回到操作系统的 shell。我希望这有助于消除一些困惑。

# sql - SQL SUM() 函数忽略 WHERE 子句和 CASE 语句

> ID：10908458
> 
> 赞同：3
> 
> 时间：2012-06-06T05:09:29.513
> 
> 标签：sql, sum, aggregate

```
 SELECT      u.FirstName + ' ' + u.LastName as 'User',
            COUNT(*) as 'Number of Calls',
            CONVERT(varchar(4), SUM(CASE WHEN c.FromTime BETWEEN @FromDate AND @ToDate
                THEN DATEDIFF(mi, c.FromTime, c.ToTime) ELSE 0 END) / 60) + ':' + 
            CASE WHEN SUM(CASE WHEN c.FromTime BETWEEN @FromDate AND @ToDate
                THEN DATEDIFF(mi, c.FromTime, c.ToTime) ELSE 0 END) % 60 < 10 THEN '0' ELSE '' END +
            CONVERT(varchar(2), SUM(DATEDIFF(mi, c.FromTime, c.ToTime)) % 60) as 'Total Time Spent',
            CONVERT(varchar(4), AVG(DATEDIFF(mi, c.FromTime, c.ToTime)) / 60) + ':' +
            CASE WHEN AVG(DATEDIFF(mi, c.FromTime, c.ToTime)) % 60 < 10 THEN '0' ELSE '' END +
            CONVERT(varchar(2), AVG(DATEDIFF(mi, c.FromTime, c.ToTime)) % 60) as 'Average Call Time'
FROM        Calls c
JOIN        Users u ON u.UserID = c.TakenBy
WHERE       c.FromTime BETWEEN @FromDate AND @ToDate
GROUP BY    u.UserID, u.FirstName, u.LastName
ORDER BY    u.FirstName + ' ' + u.LastName 
```

前面的 SQL 查询返回正确的“调用次数”，但无论调用次数如何，“总时间”和“平均时间”始终相同（这显然是错误的）。

我已经阅读并尝试在 SUM 中使用 CASE WHEN __ Then value ELSE 0 来实现，但它仍然返回不正确的值。

我可以让这个查询返回正确结果的唯一方法是，如果我完全去掉所有其他信息，例如

```
SELECT SUM(DATEDIFF(mi, FromTime, ToTime)) FROM Calls WHERE c.FromTime BETWEEN... 
```

我怎样才能仍然使用我的 JOIN 和 GROUP BY 并获得聚合函数来给我想要的结果？

感谢您的任何帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:15:58.090

您可能最好使用子查询，例如在 SELECT 部分，添加类​​似`(SELECT SUM(...) FROM ... WHERE ...) AS total_sum`.

# nsfetchedresultscontroller - NSFetchResultController：只有 Initial Load 显示 tableViewController 的表中没有数据

> ID：10908464
> 
> 赞同：1
> 
> 时间：2012-06-06T05:10:25.853
> 
> 标签：nsfetchedresultscontroller

我有：@interface CMainTableViewController：UITableViewController

在那个类中，我有一个 NSFetchResultController。

我有以下单独的数据管理器类： DB_ManagerSingleton //这里我有一个 UIManagedDocument 创建 DB/持久存储

要打开我的持久存储，我从 DB_ManagerSingleton 类中执行以下操作：

UIManagedDocument *fileDB = [[UIManagedDocument alloc]initWithFileURL:url];

```
if([[NSFileManager defaultManager] fileExistsAtPath:self.fileDB.fileURL.path] != TRUE)
{
    [self.fileDB saveToURL:self.fileDB.fileURL forSaveOperation:UIDocumentSaveForCreating completionHandler:^(BOOL success)
     {
         [self completeDBSetup:success];
     }];
}//End if
else if(self.fileDB.documentState == UIDocumentStateClosed)
{
    [self.fileDB openWithCompletionHandler:^(BOOL success)
     {
         [self completeDBSetup:success];
     }];
}//End else if
else if(self.fileDB.documentState == UIDocumentStateNormal)
{
    [self   completeDBSetup:TRUE];  
}//End else if 
```

completeDBSetup 将 4 个 NSManageObjects 放入 NSManagedObjectContext 并通知注册的观察者持久存储已打开：

```
if([CLevelFactory createLevels] == TRUE)
    [self.fileDB.managedObjectContext save:&error];

for(id<DB_StateNotification> observer in self.arrNotificationDelegates)
{
    if(observer != nil)
        [observer DB_StateChange:self.isDBSetup];
}//End for loop 
```

现在，在这种情况下，观察者是我的 TableViewController 类。在这个类中，我已经实现了 NSFetchedResultsControllerDelegate 中的所有方法，并且该实现完全复制自 Coredata 书籍示例。

[http://developer.apple.com/library/ios/#samplecode/CoreDataBooks/Listings/Classes_RootViewController_m.html#//apple_ref/doc/uid/DTS40008405-Classes_RootViewController_m-DontLinkElementID_14](http://developer.apple.com/library/ios/#samplecode/CoreDataBooks/Listings/Classes_RootViewController_m.html#//apple_ref/doc/uid/DTS40008405-Classes_RootViewController_m-DontLinkElementID_14)

我在上面的 DB_StateChange 方法中设置我的 tableView 控制器的方式如下：

```
self.fetchResultController = [[NSFetchedResultsController alloc]
                initWithFetchRequest:fetchRequest
            managedObjectContext:dbMgr.fileDB.managedObjectContext
            sectionNameKeyPath:@"levelID"
                cacheName:nil];

self.fetchResultController.delegate = self;

NSError *error = nil;
self.bQuerierYourData = [self.fetchResultController performFetch:&error];

NSArray *fetchedObjects = [self.fetchResultController fetchedObjects];

    //NOTE: I ALWAYS have a count greater than 0\. Even on the first run.
if(fetchedObjects.count > 0)
    [self.tableView reloadData]; 
```

现在的问题是：我的应用程序第一次启动时，我蹲在我的表格视图中。我得到一个 fetchedObjects.count 4 - 这是我所期望的，但不是在表视图中。现在，什么都不碰。不插入、更新或删除持久存储中的任何内容，我只是快速应用程序。在这种情况下，点击调试器上的停止按钮。当我继续并重新启动应用程序时，一切都很漂亮。我不会在每次应用程序启动时插入数据，我会进行测试，如果数据已经存在，我会继续前进而不插入任何数据。

有谁知道这里发生了什么？

# python - 让 Python 打印漂亮的日期字符串？

> ID：10908467
> 
> 赞同：0
> 
> 时间：2012-06-06T05:10:49.670
> 
> 标签：python, date, calendar

如何让 Python 输出

'6 月 04 日星期一' '6 月 5 日星期二'

等等，给定时间一周？

前任

```
today = datetime.datetime.today()
### do some magic
days = ['Tue Jun 05',...] 
```

我如何处理“今天”来生成结果？我什至不确定我是否是正确的模块，日历似乎具有相似的功能。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T05:14:58.847

```
days = [today.strftime("%a %b %y"), ...] 
```

我们使用 strftime 获取日期时间对象并将其格式化为字符串

[http://docs.python.org/library/datetime.html#strftime-and-strptime-behavior](http://docs.python.org/library/datetime.html#strftime-and-strptime-behavior)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:14:07.000

查看`strftime`datetime 对象的方法。

# asp.net-mvc - 如何在 nopcommerce 2.4/5 中自定义订单处理流程？

> ID：10908468
> 
> 赞同：1
> 
> 时间：2012-06-06T05:11:07.353
> 
> 标签：asp.net-mvc, asp.net-mvc-3, nopcommerce

我认为它太重复了，例如。是否可以结合发货和付款页面，多难

是吗 ？

我可以不使用 nopcommerce nop.web 项目，而不是我自己的 Web 项目。

谢谢 ！！！

更新：我的意思不是默认的 CheckoutOnePage ，而是将付款信息与发货信息混合在一种形式中

![在此处输入图像描述](../Images/90cb35e202b69bd7f7f496b7bd89391e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:57:39.553

nopCommerce 是一个完全可定制的购物车；因此，可以结合发货和支付页面的功能。

有多难？这取决于你的技能水平。它是一个开源系统，如果您是一位经验丰富的开发人员，您将很容易掌握它。如果你不是，你就不会。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:06:35.167

就您的第一个问题而言，我会说是的，可以将两个页面结合起来，难度级别取决于您的技能，但作为提示，我建议您检查位于 Nop.Web\Views\Checkout 中的 OnePageCheckout 文件它将帮助您了解单页结帐机制，并从那里您可以了解如何满足您的要求。

对于您的第二个问题，我建议您使用 nop.web 项目而不是您的项目，就像您使用自己的 web 项目一样，而不是您将投入大量时间尝试做已经完成的事情并且它会很难把你的前端放在 Nop 的后端。

# c - C中的GTK和Win32 Native API有什么区别？

> ID：10908473
> 
> 赞同：0
> 
> 时间：2012-06-06T05:11:26.787
> 
> 标签：c

我是 C 编程的初学者。我阅读了一些关于在 C 中创建 GUI 应用程序的教程和论坛。我遇到了一些术语，例如 GTK、Win32 本机 API。他们说 GTK 是用于创建 GUI 应用程序的库之一。我还尝试了使用 Win32 API 创建简单窗口的代码。它们之间有什么区别？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T05:17:07.950

**[GTK](http://www.gtk.org/)**是**用于创建图形用户界面 (GUI) 的多平台**工具包。
简而言之，它们提供了一个框架，您可以将其用作开发 UI 应用程序的库。

**[Win32 API](http://en.wikipedia.org/wiki/Windows_API)**是**Microsoft Windows 操作系统中**可用的 Microsoft 核心应用程序编程接口 (API) 集。这些仅适用于 windows 平台。

c/c++ 的语言规则由 ISO 标准管理，该标准定义了每个标准 c/c++ 实现必须提供的功能。请注意，以上两者都提供了一些超出标准库提供的功能。基本上，它们为您提供样板框架易于使用，而不是为您的项目重新发明轮子。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:17:38.230

[Win32](http://en.wikipedia.org/wiki/Win32)是 Microsoft Windows 的“本机”API。您只能在 Microsoft Windows 上运行它。

[GTK+](http://en.wikipedia.org/wiki/GTK+)也是一个 GUI 库。您可以在多个不同的平台上运行它。

[Qt](http://en.wikipedia.org/wiki/Qt)和[SDL](http://en.wikipedia.org/wiki/Simple_DirectMedia_Layer)是其他多平台库。与 GTK+ 一样，相同的 GUI 可以重新编译以在多个不同的平台上运行：Windows、Linux、MacOS 等。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T11:13:15.600

Gtk+ = 跨平台且非常强大。比win32简单。您将拥有更多工具。win32 = 仅在 Windows 中。标准的 Windows GUI 框架。

和老兄！Windows 中的 Gtk+ 真是让人头疼。但对于任何其他受支持的平台，我建议将 Gtk+ 用于小部件工具包。

# c# - 使用 MVVM 在 TreeView 中显示实体

> ID：10908477
> 
> 赞同：13
> 
> 时间：2012-06-06T05:11:52.823
> 
> 标签：c#, wpf, entity-framework, mvvm

我正在按照 MVVM 模式制作 WPF 应用程序。在这个我使用实体框架，

我的实体结构很简单，它有 3 个实体：部门、课程、书籍、

一个系可以有很多课程，一个课程可以有很多书，

现在我想在树视图中显示它，所以我在 wpf 中的输出应该是这样的，

```
Department1

  Course1

    Book1

    Book2

  Course2

    Book3

Department2

  Course

     Book

Department3 
```

在我的 ViewModel 中，我有 EntityContext 对象。但我不知道如何在树视图中显示它。我怎么能做到这一点。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-06-06T07:35:49.093

我准备了小样本来复制这个..

```
<Window x:Class="TestApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:this="clr-namespace:TestApp"
        Title="MainWindow" Height="350" Width="525">

    <Window.DataContext>
        <this:TreeViewModel />
    </Window.DataContext>

    <Window.Resources>

        <HierarchicalDataTemplate ItemsSource="{Binding Courses}" DataType="{x:Type this:Department}">
            <Label Content="{Binding DepartmentName}"/>
        </HierarchicalDataTemplate>

        <HierarchicalDataTemplate ItemsSource="{Binding Books}" DataType="{x:Type this:Course}">
            <Label Content="{Binding CourseName}"/>
        </HierarchicalDataTemplate>

        <DataTemplate DataType="{x:Type this:Book}">
            <Label Content="{Binding BookName}"/>
        </DataTemplate>

    </Window.Resources>

    <Grid>
        <TreeView ItemsSource="{Binding Departments}">

        </TreeView>
    </Grid>
</Window> 
```

模型和视图模型类。

```
public class Book :ViewModelBase
    {
        private string bookname = string.Empty;

        public string BookName
        {
            get
            {
                return bookname;
            }
            set
            {
                bookname = value;
                OnPropertyChanged("BookName");
            }
        }

        public Book(string bookname)
        {
            BookName = bookname;
        }
    } 
```

部门班

```
public class Department : ViewModelBase
    {
        private List<Course> courses;

        public Department(string depname)
        {
            DepartmentName = depname;
            Courses = new List<Course>()
            {
                new Course("Course1"),
                new Course("Course2")
            };
        }

        public List<Course> Courses
        {
            get
            {
                return courses;
            }
            set
            {
                courses = value;
                OnPropertyChanged("Courses");
            }
        }

        public string DepartmentName
        {
            get;
            set;
        }
    } 
```

课程班

```
public class Course :ViewModelBase
    {
        private List<Book> books;

        public Course(string coursename)
        {
            CourseName = coursename;
            Books = new List<Book>()
            {
                new Book("JJJJ"),
                new Book("KKKK"),
                new Book("OOOOO")
            };
        }

        public List<Book> Books
        {
            get
            {
                return books;
            }
            set
            {
                books = value;
                OnPropertyChanged("Books");
            }
        }

        public string CourseName
        {
            get;
            set;
        }
    } 
```

树视图模型类。

```
public class TreeViewModel :ViewModelBase
    {
        private List<Department> departments;

        public TreeViewModel()
        {
            Departments = new List<Department>()
            {
                new Department("Department1"),
                new Department("Department2")
            };
        }

        public List<Department> Departments
        {
            get
            {
                return departments;
            }
            set
            {
                departments = value;
                OnPropertyChanged("Departments");
            }
        }
    } 
```

ViewModelBase 类。

```
public class ViewModelBase :INotifyPropertyChanged
    {
        public event PropertyChangedEventHandler PropertyChanged;

        public void OnPropertyChanged(string propname)
        {
            if (PropertyChanged != null)
            {
                PropertyChanged(this, new PropertyChangedEventArgs(propname));
            }
        }
    } 
```

最后它以分层格式显示数据..我希望这会让你满意......

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T05:53:28.960

您必须为此定义层次结构数据模板模板[这](http://complexdatatemplates.codeplex.com/)是如何使用它的示例。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-04-07T20:04:49.540

基于“David Bekham”的回答，我创建了一种更通用的方式来显示项目

啤酒花有帮助：

定义一个通用的 HierarchicalDataTemplate

```
 <HierarchicalDataTemplate 
      ItemsSource="{Binding ChildItems}" 
      DataType="{x:Type viewModels:TVItemViewModel}">
                   <Label Content="{Binding Name}" />
    </HierarchicalDataTemplate> 
```

这里是视图模型（如果您的内容是非静态的，则需要实现 viewModelbase 类）

```
public class TVItemViewModel 
    {
        private bool isSelected;
        private string name;

        public TVItemViewModel(string name)
        {
            this.Name = name;
        }
        public string Name
        {
            get => name;
            set => name= value;
        }

        public bool IsSelected
        {
            get => isSelected;
            set =>  isSelected= value;
        }

        public ObservableCollection<TVItemViewModel> ChildItems { get; set; }
    } 
```

并在 MainViewModel 我创建一个根集合，如

```
 TvItems = new ObservableCollection<TVItemViewModel>() 
            { new TVItemViewModel("RootItem1") 
                { ChildItems = new ObservableCollection<TVItemViewModel>() 
                    { new TVItemViewModel("Child1"), 
                       new TVItemViewModel("Child2"), 
                        new TVItemViewModel("Child3)
                    }
                }
            }; 
```

我希望有人觉得这很有用

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-09T09:17:44.300

我们需要为我们想要的嵌套级别定义 HierachialDataTemplate 的“n”级别。我们将拥有 HierarchicalDataTemplate 类的 ItemsSource 属性来定义它。我们也可以对 MenuControl 执行相同的操作。

# iphone - PayPal 视图未在 iPhone 的横向模式下显示

> ID：10908479
> 
> 赞同：7
> 
> 时间：2012-06-06T05:12:01.773
> 
> 标签：iphone, ios, ipad, paypal

> **可能重复：**
> [Paypal Lib：方向问题](https://stackoverflow.com/questions/4561929/paypal-lib-issue-with-orientation)

我在我的 iPhone 应用程序中集成了 PayPal 库。但是，当我点击沙盒环境的“使用贝宝付款”按钮时，Pappal 视图仅以纵向模式显示。

有没有办法在横向模式下显示 PapPal 视图？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-02T00:25:30.807

支付 API***仅***适用于纵向模式。不幸的是，这是避免滚动的设计决定。

请参阅 PayPal MPL 开发人员指南的第 36 页。

![在此处输入图像描述](../Images/fdaf7c938f2e428d3b123f6a93be10df.png)

# java - 访问Tomcat中的相关文件

> ID：10908483
> 
> 赞同：1
> 
> 时间：2012-06-06T05:12:24.800
> 
> 标签：java, tomcat, servlets

我在 tomcat 上的 WebApp 中使用第三方库。

问题是该第三方库的一个类需要使用 XML 文件进行初始化

```
LibraryClass lb = new LibraryClass("file path.xml"); 
```

那么我应该将文件放在tomcat目录中的什么位置以便能够从webapp内部访问它们？

（请注意，该类需要 a`String`作为绝对路径，而不是 a`FileStream`示例）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:18:14.923

如果您不希望该文件可下载，请将其放置在 Java 源目录中的某个位置使其成为资源，然后将其复制到 WEB-INF/classes 中。然后使用`ServletRequest.getRealPath("/WEB-INF/classes/...")`将相对路径转为绝对路径。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:20:04.877

您可以将它们保存在 WEB-INF/classes 文件夹下。您可以在此处查看有关此内容的完整讨论： [Where to place configuration properties files in a JSP/Servlet web application？](https://stackoverflow.com/questions/2161054/where-to-place-configuration-properties-files-in-a-jsp-servlet-web-application)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T05:24:47.210

与其他答案一样，我同意这些文件的最佳位置是在您的`war`捆绑包中。与其他答案不同，我*不*建议将文件放入，`WEB-INF/classes`因为该目录用于*类*文件，而不是 XML 文件。

如果`path.xml`位于战争的根目录中，那么您可以通过以下方式访问它：

```
String servletDirectoryPath = this.getServletConfig().getServletContext().getRealPath("");
String xmlConfigurationFileName = "path.xml";
File xmlConfigurationFile = new File(servletDirectoryPath, xmlConfigurationFileName);
initializeThirdPartyLibrary(xmlConfigurationFile); 
```

# drupal - Drupal 文章编辑器，例如 hubpages 和 infobarrel

> ID：10908486
> 
> 赞同：1
> 
> 时间：2012-06-06T05:13:14.957
> 
> 标签：drupal, editor, drupal-7, article

drupal 7 中是否有类似 hubpages.com 的文章编辑器？hubpages和infobarrel等编辑器使用拖放胶囊，使用起来非常专业，也很容易

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T13:22:43.697

使用模块[wysiwyg](http://drupal.org/project/wysiwyg)，启用后，转到其设置页面“admin/config/content/wysiwyg”。

在那里，您将在“安装说明”部分找到所有可用的所见即所得编辑器的列表。

希望这会有所帮助……穆罕默德。

# ruby-on-rails - Rails cap:deploy 如何修复错误“Compiling V8 cp -r scons build make: ruby : Command not found”？

> ID：10908487
> 
> 赞同：0
> 
> 时间：2012-06-06T05:13:20.423
> 
> 标签：ruby-on-rails, ruby, capistrano, bundler

运行时出现此错误`cap:deploy`

我已经跑`apt-get update`了`apt-get upgrade`

我已经运行了捆绑安装，将 Gemfile 和 Gemfile.lock 添加到存储库。

```
 * executing "cd /var/www/releases/20120606045148 && bundle install --gemfile /var/www/releases/20120606045148/Gemfile --path /var/www/shared/bundle --deployment --quiet --without development test"
    servers: ["11.111.11.11"]
    [11.111.11.11] executing command
 ** [out :: 11.111.11.11] Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.
 ** [out :: 11.111.11.11] 
 ** [out :: 11.111.11.11] /usr/bin/ruby1.9.1 extconf.rb
 ** [out :: 11.111.11.11] Compiling V8
 ** [out :: 11.111.11.11] cp -r scons build
 ** [out :: 11.111.11.11] make: ruby: Command not found
 ** [out :: 11.111.11.11] make: ruby: Command not found
 ** [out :: 11.111.11.11] cd build/v8 && GCC_VERSION= ../scons/install/bin/scons arch=
 ** [out :: 11.111.11.11] scons: Reading SConscript files ...
 ** [out :: 11.111.11.11] Unknown arch value ''.  Possible values are (arm, ia32, x64, mips).
 ** [out :: 11.111.11.11] make: *** [build/v8/libv8.a] Error 1
 ** [out :: 11.111.11.11] *** extconf.rb failed ***
 ** [out :: 11.111.11.11] Could not create Makefile due to some reason, probably lack of
 ** [out :: 11.111.11.11] necessary libraries and/or headers.  Check the mkmf.log file for more
 ** [out :: 11.111.11.11] details.  You may need configuration options.
 ** [out :: 11.111.11.11] 
 ** [out :: 11.111.11.11] Provided configuration options:
 ** [out :: 11.111.11.11] --with-opt-dir
 ** [out :: 11.111.11.11] --without-opt-dir
 ** [out :: 11.111.11.11] --with-opt-include
 ** [out :: 11.111.11.11] --without-opt-include=${opt-dir}/include
 ** [out :: 11.111.11.11] --with-opt-lib
 ** [out :: 11.111.11.11] --without-opt-lib=${opt-dir}/lib
 ** [out :: 11.111.11.11] --with-make-prog
 ** [out :: 11.111.11.11] --without-make-prog
 ** [out :: 11.111.11.11] --srcdir=.
 ** [out :: 11.111.11.11] --curdir
 ** [out :: 11.111.11.11] --ruby=/usr/bin/ruby1.9.1
 ** [out :: 11.111.11.11] extconf.rb:10:in `<main>': Error compiling V8 (RuntimeError)
 ** [out :: 11.111.11.11] 
 ** [out :: 11.111.11.11] 
 ** [out :: 11.111.11.11] Gem files will remain installed in /var/www/shared/bundle/ruby/1.9.1/gems/therubyracer-0.8.2 for inspection.
 ** [out :: 11.111.11.11] Results logged to /var/www/shared/bundle/ruby/1.9.1/gems/therubyracer-0.8.2/ext/v8/gem_make.out
 ** [out :: 11.111.11.11] An error occured while installing therubyracer (0.8.2), and Bundler cannot continue.
 ** [out :: 11.111.11.11] Make sure that `gem install therubyracer -v '0.8.2'` succeeds before bundling.
    command finished in 73622ms
*** [deploy:update_code] rolling back
  * executing "rm -rf /var/www/releases/20120606045148; true"
    servers: ["11.111.11.11"]
    [11.111.11.11] executing command
    command finished in 7100ms
failed: "env PATH=/var/lib/gems/1.9.1/bin:$PATH sh -c 'cd /var/www/releases/20120606045148 && bundle install --gemfile /var/www/releases/20120606045148/Gemfile --path /var/www/shared/bundle --deployment --quiet --without development test'" on 11.111.11.11 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-08-30T20:19:54.130

我建议在这里安装 rvm - 正如 Joshua Cheek 所说，问题似乎出在 ruby​​ 二进制文件上，rvm 应该可以帮助解决这个问题。

做`apt-get install rvm`，然后在安装后运行`rvm list known`，为您提供可用 ruby​​ 版本的列表；`rvm install (version)`然后安装你想要的`rvm use (version)`（不包括括号）。

这样做将确保您使用可用`ruby`的命令和干净的 gemset 干净地安装 ruby​​。

然后您应该能够做到`apt-get install libv8`- 如果您仍然遇到问题，请使用错误消息进行编辑，我们将从那里开始。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-29T22:58:45.747

看起来您的 ruby​​ 二进制文件已命名`ruby1.9.1`，但它正在尝试调用该二进制文件`ruby`。您可能可以在路径中的某处放置一个名为“ruby”的符号链接，并将其指向`/usr/bin/ruby1.9.1`.

# ruby - 学习红宝石的先决条件

> ID：10908488
> 
> 赞同：2
> 
> 时间：2012-06-06T05:13:26.983
> 
> 标签：ruby, prerequisites

我学过java。我可以用 C/C++ 编写。最近我一直在用java开发web应用程序。我正打算学习`ruby`。是否有任何我没有的红宝石先决条件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:30:44.943

在知识方面？不，不是。您只需要为 Ruby 与 C 类型语言的不同之处做好准备。您可能还会发现您的工作流程也发生了变化——Ruby 没有编译步骤º

*   [这个幻灯片](http://www.slideshare.net/mbowler/ruby-for-java-programmers)看起来很有帮助。
*   [APIDock](http://apidock.com/ruby/)是学习标准库的宝贵资源……</li>
*   给自己找一[本像样的书](http://pragprog.com/book/ruby/programming-ruby)（或[尝试一个简洁的在线教程](http://tryruby.org/levels/1/challenges/0)），然后直接投入其中。

你想让我做什么？

*   如果您想构建 Web 应用程序，[Rails](http://rubyonrails.org/)是显而易见且最受欢迎的选择，但还有其他更轻的选项（如[Sinatra](http://www.sinatrarb.com/)）可用。
*   如果您有兴趣使用它来构建桌面应用程序，那么[Shoes](http://shoesrb.com/)是一个很好的跨平台探索选择。

如果您使用的是 Linux 或 OSX（并且您可能应该使用），您应该使用[RVM](https://rvm.io/)来保持整洁，并且在您的项目中使用[Bundler](http://gembundler.com/)将保护您免受任何平台上的 gem 版本控制。

* * *

º 从技术上讲，它可以，但没有一个主要的发行版将 Ruby 编译成任何东西……</p>

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:17:18.463

在保存 Basic 和类似的 vendorscript 垃圾之前，我没有学过任何计算机语言。我根本没有开发任何网络应用程序。我不能用 C/C++ 编写。然而，我花了不到一年的时间来学习 Ruby，开始使用 Emacs、Git、Heroku、Bundler、MongoDB 以及所有开发人员应该使用的东西。我这样做是为了我的工作（用 Ruby 编写模拟器）。只要你是一名数学家，你就没有什么好害怕的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T05:30:42.120

看看这些网站：

*   [红宝石学习](http://rubylearning.com/)
*   [红宝石文档](http://ruby-doc.org/core-1.9.3/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T14:14:55.873

不幸的是，您已经错过了学习 Ruby 最重要的先决条件：没有学习过 Java ;-)

这似乎有点煽动性，但至少从我自己学习 Ruby 的经验以及我从朋友那里观察到的情况来看，如果你事先学习过 Java，那么学习 Ruby似乎*确实*比没有学习过 Java 更难。程序。*_* 在我个人学习 Ruby 的过程中，最困难的事情就是忘掉我从 Java 中学到的一切。

Smalltalk（甚至更好的 Self 和 Newspeak）是在学习 Ruby 之前要学习的更好的语言，Scheme 和 Haskell 也是如此。

# android - 带有复选框的 Android 列表

> ID：10908492
> 
> 赞同：1
> 
> 时间：2012-06-06T05:13:54.633
> 
> 标签：android

我有一个带有复选框的列表，当我通过滚动列表勾选复选框时，我将值放入数组中。但现在的问题是我有一个搜索框来搜索和打勾。但是当我搜索时，我得到了最后一个打勾到数组中的元素。这是我的代码。

```
public class Person extends ListActivity {
private TreeMap<String, String> map = new TreeMap<String, String>();
String SEARCH_STRING = "";
private String METHOD_NAME;
private String SERVICENAME;
ArrayList<String[]> DISPLAY = new ArrayList<String[]>();
ArrayList<String[]> SEARCH = new ArrayList<String[]>();
ArrayList<Boolean> ok = new ArrayList<Boolean>();
SoapIntractions intractions;
public static ArrayList<String[]> dataList=new ArrayList<String[]>();
boolean FLAG;

EditText search;
Button search_btn, back_btn;
LinearLayout tab1, tab2;
public Context c;

static class Viewholder {
    TextView name, number;
    CheckBox check;
}

public class EfficientAdapter extends BaseAdapter {
    LayoutInflater inflater;
    Context c;

    public EfficientAdapter(Context addNote, int itemadd, Object object,
            int[] to) {
        // TODO Auto-generated constructor stub
        inflater = LayoutInflater.from(addNote);
        c = addNote;
    }

    public int getCount() {
        // TODO Auto-generated method stub
        return SEARCH.size();
    }

    public Object getItem(int arg0) {
        // TODO Auto-generated method stub
        return arg0;
    }

    public long getItemId(int position) {
        // TODO Auto-generated method stub
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        // TODO Auto-generated method stub
        final Viewholder holder;
        final int var = position;

        if (convertView == null) {
            convertView = inflater.inflate(R.layout.person, null);
            holder = new Viewholder();
            holder.name = (TextView) convertView
                    .findViewById(R.id.tv_name_prsnLI);
            holder.number = (TextView) convertView
                    .findViewById(R.id.tv_nmbr_prsnLI);
            holder.check = (CheckBox) convertView.findViewById(R.id.check);
            convertView.setTag(holder);

        } else {
            holder = (Viewholder) convertView.getTag();
        }
        CheckBox box=new CheckBox(c);
        String[] argg = SEARCH.get(var);
        holder.name.setText(argg[0]);
        holder.number.setText(argg[1]);

        if (ok.get(position)){
            holder.check.setChecked(true);
        }
        else{
            holder.check.setChecked(false);
        }

        holder.check.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                if (ok.get(var)) {
                    ok.set(var, false);
                } else {
                    ok.set(var, true);
                }
            }
        });

        return convertView;
    }
}

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    super.onCreate(savedInstanceState);
    setContentView(R.layout.person_list);

    StateListDrawable bkBtn = new StateListDrawable(), srchBtn = new StateListDrawable();

    bkBtn.addState(new int[] { android.R.attr.state_pressed },
            getResources().getDrawable(R.drawable.back_click));
    bkBtn.addState(new int[] {}, getResources()
            .getDrawable(R.drawable.back));

    srchBtn.addState(new int[] { android.R.attr.state_pressed },
            getResources().getDrawable(R.drawable.srch_click));
    srchBtn.addState(new int[] {},
            getResources().getDrawable(R.drawable.srch));

    search = (EditText) findViewById(R.id.et_search_prsnL);
    search_btn = (Button) findViewById(R.id.btn_search_prsnL);
    search_btn.setBackgroundDrawable(srchBtn);
    back_btn = (Button) findViewById(R.id.btn_back_prsnL);
    back_btn.setBackgroundDrawable(bkBtn);
    tab1 = (LinearLayout) findViewById(R.id.lyt_tab1_prsnL);
    tab2 = (LinearLayout) findViewById(R.id.lyt_tab2_prsnL);

    tab1.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            FLAG = false;
            tab1.setBackgroundDrawable(getResources().getDrawable(
                    R.drawable.list_head_click));
            tab2.setBackgroundDrawable(getResources().getDrawable(
                    R.drawable.list_head));
        }
    });

    tab2.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub

            FLAG = true;
            tab2.setBackgroundDrawable(getResources().getDrawable(
                    R.drawable.list_head_click));
            tab1.setBackgroundDrawable(getResources().getDrawable(
                    R.drawable.list_head));
        }
    });

    search_btn.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View arg0) {
            // TODO Auto-generated method stub

            SEARCH_STRING = search.getText().toString();
            SEARCH.clear();
            SearchPageTask srch_task = new SearchPageTask();
            srch_task.execute(new String[] { null });
            Log.d("SEARCH", "Searchable");

        }
    });

    back_btn.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View arg0) {
            // TODO Auto-generated method stub

            int len=ok.size();
            for(int i=0;i<len;i++){
                if(ok.get(i)){
                    dataList.add(new String[]{SEARCH.get(i)[0],SEARCH.get(i)[1],SEARCH.get(i)[2],SEARCH.get(i)[3] });
                }
            }
            Intent in=new Intent(getApplicationContext(),Multiple_view.class);
            in.putExtra("ARRAY", dataList);
            setResult(RESULT_OK,in);
            finish();
            for (int i = 0; i < dataList.size(); i++) {
                Log.d("ARRAY1", ""+dataList.get(i)[0]);
                Log.d("ARRAY1", ""+dataList.get(i)[1]);
                Log.d("ARRAY1", ""+dataList.get(i)[2]);
                Log.d("ARRAY1", ""+dataList.get(i)[3]);
            }

        }
    });

}

@Override
protected void onResume() {
    // TODO Auto-generated method stub
    super.onResume();

    FLAG = false;
    tab1.setBackgroundDrawable(getResources().getDrawable(
            R.drawable.list_head_click));
    tab2.setBackgroundDrawable(getResources().getDrawable(
            R.drawable.list_head));

    METHOD_NAME = "ZaplxTmrDisplayPernr";
    SERVICENAME = "ZAPLX_WEB_TMR_DISPLAY_PERNR/ZaplxTmrDisplayPernrRequest";
    map = new TreeMap<String, String>();
    map.put("IDate", "2012-12-04");
    intractions = new SoapIntractions(METHOD_NAME, SERVICENAME, map,
            Person.this);

    DownloadWebPageTask task = new DownloadWebPageTask();
    task.execute(new String[] { null });

}

@Override
protected void onListItemClick(ListView l, View v, int position, long id) {
    // TODO Auto-generated method stub
    super.onListItemClick(l, v, position, id);

    Log.d("POSITION", "" + position);
    // CheckBox cb = (CheckBox)
    // l.getChildAt(position).findViewById(R.id.check);
    // if (cb.isChecked()) {
    // cb.setChecked(false);
    //
    // }
    // else
    // {
    // cb.setChecked(true);

    // }
    // Intent in1=new Intent();
    // String[] argg1 = SEARCH.get(position);
    //
    // in1.putExtra("number", SEARCH.get(position)[0]);
    // in1.putExtra("name", SEARCH.get(position)[1]);
    // in1.putExtra("area", SEARCH.get(position)[2]);
    // in1.putExtra("group", SEARCH.get(position)[3]);
    // setResult(RESULT_OK,in1);
    // finish();

}

private class DownloadWebPageTask extends AsyncTask<String, Void, String> {

    String[][] data;
    int value = 0;
    ProgressBar pb;

    public DownloadWebPageTask() {
        // TODO Auto-generated constructor stub
        // flag = string;
        value = 0;
    }

    @Override
    protected String doInBackground(String... params) {
        // TODO Auto-generated method stub
        try {
            data = intractions.GetSoapData1();
            String[][] subtypeData = data;
            int n = subtypeData[0].length;
            value = n;

            for (int i = 0; i < value; i++) {
                String Pernr = subtypeData[0][i];
                String Ename = subtypeData[1][i];
                String Earea = subtypeData[3][i];
                String Egroup = subtypeData[5][i];
                ok.add(false);
                DISPLAY.add(new String[] { Pernr, Ename, Earea, Egroup });
            }

            for (int i = 0; i < DISPLAY.size(); i++)
                SEARCH.add(DISPLAY.get(i));

        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
        return null;
    }

    @Override
    protected void onPreExecute() {
        // TODO Auto-generated method stub
        // pb = (ProgressBar) findViewById(R.id.pb);
        // pb.setVisibility(View.VISIBLE);
        search_btn.setClickable(false);
        super.onPreExecute();
    }

    @Override
    protected void onPostExecute(String result) {
        // TODO Auto-generated method stub
        // pb = (ProgressBar) findViewById(R.id.pb);
        // pb.setVisibility(View.INVISIBLE);

        setListAdapter(new EfficientAdapter(Person.this, R.layout.person,
                null, null));
        search_btn.setClickable(true);
        Log.d("POST_TIME", "Inside post");
        super.onPostExecute(result);
    }

}

private class SearchPageTask extends AsyncTask<String, Void, String> {

    @Override
    protected String doInBackground(String... params) {
        // TODO Auto-generated method stub

        Log.d("SEARCH", "List Size" + DISPLAY.size());
        Log.d("SEARCH", "List Size" + SEARCH.size());
        int n = DISPLAY.size();

        if (!FLAG) {
            for (int i = 0; i < n; i++) {

                if (DISPLAY.get(i)[1].toLowerCase().startsWith(
                        SEARCH_STRING.toLowerCase())) {

                    SEARCH.add(DISPLAY.get(i));
                    Log.d("SEARCH_ATSK", "result size " + SEARCH.size());
                }

                Log.d("SEARCH_ATSK", "" + i + " " + n);

            }
        } else {

            for (int i = 0; i < n; i++) {

                if (DISPLAY.get(i)[0].toLowerCase().endsWith(
                        SEARCH_STRING.toLowerCase())) {

                    SEARCH.add(DISPLAY.get(i));
                    Log.d("SEARCH_ATSK", "result size " + SEARCH.size());
                }

                Log.d("SEARCH_ATSK", "" + i + " " + n);

            }

        }

        return null;
    }

    @Override
    protected void onPreExecute() {
        // TODO Auto-generated method stub

        super.onPreExecute();
    }

    @Override
    protected void onPostExecute(String result) {
        // TODO Auto-generated method stub

        setListAdapter(new EfficientAdapter(Person.this, R.layout.person,
                null, null));

        super.onPostExecute(result);
    }

} 
```

}

# asp.net - asp.net 可编辑的自动完成下拉列表

> ID：10908497
> 
> 赞同：0
> 
> 时间：2012-06-06T05:14:53.277
> 
> 标签：asp.net, drop-down-menu, autocomplete

我需要创建很酷的可编辑自动完成可过滤下拉列表，它应该看起来像一个下拉列表，这意味着单击右侧的箭头键将显示下拉列表中的所有项目和一个可编辑的文本框，用户可以在其中输入内容和项目下拉菜单将自动被过滤。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:26:36.057

使用[google 搜索](https://www.google.com/search?sugexp=chrome,mod=15&sourceid=chrome&ie=UTF-8&q=asp.net%20autocomplete%20dropdown#hl=en&sclient=psy-ab&q=asp.net%20autocomplete%20dropdown&oq=asp.net%20autocomplete%20dropdown&aq=f&aqi=&aql=&gs_l=serp.12...0.0.0.2007.0.0.0.0.0.0.0.0..0.0...0.0.BKAkaXBoOdE&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.,cf.osb&fp=caf26cc50dd30da&biw=1863&bih=1150)可以轻松找到许多选项。

这是一个免费的 jQuery 插件，它会给你你想要的东西：[jQuery Autocomplete plugin](http://jqueryui.com/demos/autocomplete/#combobox)

# python - 如何在python中计算一周的第一个日期和一周的最后一个日期

> ID：10908499
> 
> 赞同：3
> 
> 时间：2012-06-06T05:15:05.743
> 
> 标签：python, datetime

我需要在 python 中计算一周的日期

我需要这个

```
year = 2012
week = 23
(a,b) = func (year,week)
print a
print b

>>>2012-04-06
>>>2012-06-10 
```

你可以帮帮我吗 ？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-06T05:27:25.430

日期对象包含一个`weekday()`方法。

这将返回 0 表示周一 6 表示周日。

（来自谷歌搜索）这是一种解决方案：http: [//www.protocolostomy.com/2010/07/06/python-date-manipulation/](http://www.protocolostomy.com/2010/07/06/python-date-manipulation/)）

我认为这可以不那么冗长，所以这是我的尝试：

```
def week_magic(day):
    day_of_week = day.weekday()

    to_beginning_of_week = datetime.timedelta(days=day_of_week)
    beginning_of_week = day - to_beginning_of_week

    to_end_of_week = datetime.timedelta(days=6 - day_of_week)
    end_of_week = day + to_end_of_week

    return (beginning_of_week, end_of_week) 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2016-12-05T18:43:36.370

有点过时的答案，但是有一个名为[isoweek](https://pypi.python.org/pypi/isoweek/)的不错的模块可以真正完成这个技巧。要回答原始问题，您可以执行以下操作：

```
from isoweek import Week    

week = Week(2012, 23)
print(week.monday())
print(week.sunday()) 
```

希望这对任何人都有帮助。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-09-17T04:21:48.567

I think @Anthony Sottile's answer should be this:

```
def week_magic(day):
    day_of_week = day.weekday()

    to_beginning_of_week = datetime.timedelta(days=day_of_week)
    beginning_of_week = day - to_beginning_of_week

    to_end_of_week = datetime.timedelta(days=6 - day_of_week)
    end_of_week = day + to_end_of_week

    return (beginning_of_week, end_of_week) 
```

It works!

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-10-08T03:49:51.053

我认为他正在寻找的答案是在 datetime.isocalendar(datetime) 它返回一个包含 ISO 年份、周数和工作日的 3 元组。

从任何特定年份（即“2015”），人们可以确定第一周的第一天，然后从那里继续使用 timedelta 函数添​​加天数以查找请求的特定周。有了这些信息，就可以返回该周的第一天和最后一天。

# c# - 在 ASP.net 的同一页面中识别用户控件

> ID：10908503
> 
> 赞同：0
> 
> 时间：2012-06-06T05:15:30.047
> 
> 标签：c#, asp.net

我在页面说 A 中使用用户控件说 C。因此，在用户控件中执行提交/或操作时（它包含具有编辑删除功能的网格），控件转到父页面 A 然后只进入编辑或删除功能。

我如何确定控件是从用户控件定向的？请帮帮我。

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:17:05.383

怎么样

```
if (sender is C) // You said your usercontrol is say C
{
    //Your Code Here
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-07T08:28:31.640

我有一个解决办法。我想在这里分享一下。

我们可以使用 this.Parent.FindControl("x").Visible = false; 这里 x 是包含用户控件的父页面中的 div。使用它我解决了我的问题，而不是跟踪流程。

我的问题是，当用户控件弹出时，即使其可见性设置为 false，父页面内的一个控件也会弹出。我需要截断这个。谢谢 。

# gcc - 如何为 android NDK 编译 boost_thread？

> ID：10908508
> 
> 赞同：0
> 
> 时间：2012-06-06T05:16:09.737
> 
> 标签：gcc, boost, android-ndk, boost-thread

我需要创建线程，我更喜欢使用 boost 线程！首先，这对 android-ndk 可行吗？如果是这样，那么我开始在我的项目中包含 boost_thread 源。我参考了一些 stackoverflow 帖子，我发现需要定义这些 BOOST_THREAD_BUILD_LIB、BOOST_REGEX_NO_LIB 定义这些阻止了我收到要求“libboost_thread_*.lib”的链接错误

但是现在它要求“libboost_data_time_*.lib”我现在应该定义什么？我还需要做什么才能最终在我的项目中编译源代码。知道我不能使用 boost.build 因为它不适合我的需要（编译器会有所不同）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-18T06:41:40.940

您可以定义 BOOST_ALL_NO_LIB 以打开所有 BOOST_*_NO_LIB 选项。

# php - 解析 JSON：多级数组

> ID：10908512
> 
> 赞同：3
> 
> 时间：2012-06-06T05:16:33.120
> 
> 标签：php, arrays, json, parsing, indexing

我需要从 json 输出中获取一个项目，但是 json 内容并不总是一致的。

例如，如果我想获取“name”的值，它将是`['result']['attributes'][0]['name'];`

但如果 json 作为第二个示例交付，它将是`['result']['attributes'][1]['name'];`

```
{"result":{
    "attributes":[
        {"user":"newb","name":"mike"},
        {"state":"california","city":"los angeles"}
    ]
}}

{"result":{
    "attributes":[
        {"state":"california","city":"los angeles"},
        {"user":"newb","name":"mike"}
    ]
}} 
```

如果它所在的数组的索引未知，我将如何获得“名称”值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T05:20:45.757

```
var arr = obj.result.attributes;
for (var i=0; i<arr.length; i++)
    if ("name" in arr[i])
         return arr[i].name; 
```

或者，如果它总是只有数组中的两个对象：

```
 var attrs = obj.result.attributes;
 return attrs["name" in attrs[0] ? 0 : 1].name; 
```

但我会坚持改变那个 api，这两个对象应该只是合并。

* * *

编辑：对不起，PHP来了：

```
$attrs = json_decode($jsonStr, true)["result"]["attributes"];
return $attrs[ isset($attrs[0]["name"]) ? 0 : 1 ]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:29:33.537

这会将索引返回到`attributes`包含`name`属性为的对象的数组中`"mike"`。

```
function extractNameFromJson($json) {
    foreach ($json->result->attributes as $i => $attribute) {
        if (isset($attribute['name']) && $attribute['name'] == 'mike') {
            return $i;
        }
    }
}

$index = extractNameFromJson($json);
echo $json->result->attributes[$index]['user'];

==> newb 
```

# powershell - 如何在 Windows 7 上为特定用户执行 RunOnce？

> ID：10908514
> 
> 赞同：2
> 
> 时间：2012-06-06T05:16:55.453
> 
> 标签：powershell, windows-7, runonce

我知道我可以在Win7注册表中全局设置一个runonce键，无论下次哪个用户登录都会执行，使用这个注册表键：

HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\RunOnce

我只需要为特定用户进行初始化，所以我想知道是否有一种方法可以以编程方式（使用 Powershell）设置一个 runonce-entry，只有在一个特定用户登录时才会执行，如果这个用户不是管理员.

你知道这样做的方法吗？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:51:26.397

我认为这个问题和其他问题（http://stackoverflow.com/questions/10908727/how-can-i-programatically-find-a-users-hkey-users-registry-key-using-powershell）是相关的：

无论如何，这是你如何做到的：

```
$User = New-Object System.Security.Principal.NTAccount($env:UserName)
$sid = $User.Translate([System.Security.Principal.SecurityIdentifier]).value

New-PSDrive HKU Registry HKEY_USERS
Get-Item "HKU:\${sid}"

Set-ItemProperty -Path "HKU:\${sid}\Software\Microsoft\Windows\CurrentVersion\RunOnce" -Name Command -Value "notepad.exe" 
```

# c# - Linq to xml：通用方法

> ID：10908520
> 
> 赞同：2
> 
> 时间：2012-06-06T05:17:37.403
> 
> 标签：c#, linq, linq-to-xml

假设我有以下 xml。

```
<?xml version="1.0" encoding="utf-8"?>
<importing>
    <table name="Product">
        <records>
            <record>
                <field name="Id" value="1"/>
                <field name="Description" value="iPhone"/>
            </record>
            <record>
                <field name="Id" value="2"/>
                <field name="Description" value="iPad"/>
            </record>
        </records>
    </table>
    <table name="Car">
        <records>
            <record>
                <field name="Id" value="1"/>
                <field name="Name" value="Freelander"/>
                <field name="Brand" value="Land rover"/>
            </record>
            <record>
                <field name="Id" value="2"/>
                <field name="Name" value="Evoque"/>
                <field name="Brand" value="Land Rover"/>
            </record>
        </records>
    </table>
</importing> 
```

我正在尝试实施 3 小时尝试通过此 xml 插入数据库但未成功。通过下面的代码，我得到了代码中注释的结果。

```
var filePath = "C:\\xml.xml";
XElement xml = XElement.Load(filePath);

foreach (var t in xml.Descendants("table"))
{
    var tableName = t.Attribute("name").Value;  

    var columns = t.Descendants("field").Select(c=>c.Attribute("name").Value).Distinct();

    var values = t.Descendants("field").Select(c=>c.Attribute("value").Value);

    var command = String.Format("insert into {0} ({1}) values ('{2}')",
                            tableName,
                            String.Join(",",columns),
                            String.Join(",",values));

    Console.WriteLine(command);
    //First pass: insert into Product (Id,Description) values ('1,iPhone,2,iPad')
    //Second pass: insert into Car (Id,Name,Brand) values ('1,Freelander,Land rover,2,Evoque,Land Rover')
} 
```

如果这是一个愚蠢的帖子，我很抱歉，但我无法打破这个......我该如何构建propper命令？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:27:33.357

您希望`SelectMany`在`record`节点上执行 a （从语义上讲，您希望在 each`record`中找到 each `table`，不管有多少）。就是这样：

```
var commands = (from table in xml.Descendants("table")
                from record in table.Descendants("record")
                let tableName = (string)table.Attribute("name")
                let fields = record.Descendants("field")
                let fieldNames = string.Join(", ", fields.Attributes("name").Select(n => n.Value).ToArray())
                let fieldValues = string.Join(", ", fields.Attributes("value").Select(v => string.Format("'{0}'", v.Value.Replace("'", "''"))).ToArray())
                select string.Format("INSERT INTO {0} ({1}) VALUES ({2})", tableName, fieldNames, fieldValues)); 
```

结果值为`commands`：

```
INSERT INTO Product (Id, Description) VALUES ('1', 'iPhone') 
INSERT INTO Product (Id, Description) VALUES ('2', 'iPad') 
INSERT INTO Car (Id, Name, Brand) VALUES ('1', 'Freelander', 'Land rover') 
INSERT INTO Car (Id, Name, Brand) VALUES ('2', 'Evoque', 'Land Rover') 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:36:34.553

您正在处理的问题是每个表有多个记录，您应该使用`union all`在一个语句中插入多个记录。下面的代码有点笨拙，但它会做你想做的事。

```
var doc = XElement.Load(@"C:\xml.xml");
var commands = doc.Descendants("table")
.Select(t=>
{
    var tableName = t.Attribute("name").Value;
    var columns = t.Descendants("field")
                    .Select(e => e.Attribute("name").Value)
                    .Distinct()
                    .ToArray();
    var records = t.Descendants("record")
        .Select(r => r.Descendants("field")
                    .Select(e => e.Attribute("value").Value));
    var recordValues = records.Select(x => String.Join(", ", x.Select(y=>String.Format("'{0}'", y)).ToArray()));
    var selects = recordValues.Select(rv => String.Format("select {0}",rv)).ToArray();
    return String.Format("insert into {0} ({1}) {2}", tableName, 
                        String.Join(", ", columns), 
                        String.Join(" union all ", selects.ToArray()));
}); 
```

（格式化的）输出是：

```
insert into Product (Id, Description) 
select '1', 'iPhone' 
union all 
select '2', 'iPad' 

insert into Car (Id, Name, Brand) 
select '1', 'Freelander', 'Land rover' 
union all 
select '2', 'Evoque', 'Land Rover' 
```

# sharepoint-2010 - 隐藏共享点自定义列表表单上的字段，无代码

> ID：10908523
> 
> 赞同：0
> 
> 时间：2012-06-06T05:18:11.827
> 
> 标签：sharepoint-2010

我创建了一个自定义列表，其中包含以下 3 个列。

名称（单行文本） 批准（单选是/否） 评论（多行文本）

我已经更改了默认表单，在创建新项目表单上，我正在显示名称和批准字段，这里用户使用此表单创建一个新项目。现在在编辑项目表单上，我只想在字段 Approved 中的值为 No 时显示评论字段。我听说有一些 xsl 方式，如果您对此或任何其他方式有任何想法，请告诉我这样做. 谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T10:33:08.833

您可以使用 sharepoint manager.Foreach 列有一个 Show in edit form。将除评论字段之外的所有字段设置为 false。但是请确保您没有隐藏必填字段！

希望这可以帮助

干杯特鲁兹

# activemq - 踩住 ActiveMQ 问题

> ID：10908528
> 
> 赞同：1
> 
> 时间：2012-06-06T05:18:32.800
> 
> 标签：activemq, stomp, custom-protocol

我是 Stomp ActiveMQ 的新手。我想从 android 客户端创建登录，但我不知道如何使用 ActiveMq。我已经安装了活动 mq，配置了 stomp 并运行了 stompexample。1.如果我在activemq.xml中添加以下行，从命令行运行activemq时会出错：

```
 <transportConnector name="stomp+nio" uri="stomp+nio://localhost:61612"/>
            <transportConnector name="stomp+ssl" uri="stomp+ssl://localhost:61612"/> 
```

1.  有人可以解释一下 tx1 和 tx2 是什么吗？有没有办法在队列中向特定客户端发送消息？如何？

    connection.connect("系统", "经理");

    ```
     connection.begin("tx1");
        connection.send("/queue/test", "message1");
        connection.send("/queue/test", "message2");
        connection.commit("tx1");

        connection.subscribe("/queue/test", Subscribe.AckModeValues.CLIENT);

        connection.begin("tx2");

        StompFrame message = connection.receive();
        System.out.println(message.getBody());
        connection.ack(message, "tx2");

        message = connection.receive();
        System.out.println(message.getBody());
        connection.ack(message, "tx2");

        connection.commit("tx2");

        connection.disconnect(); 
    ```

2.  有人可以告诉我如何创建一个应用程序，该应用程序在队列上发送包含用户名、密码的文本，并在注册成功时收到答案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T10:57:25.473

您需要使用不同的端口号配置传输连接器，它们不能共享端口 61612。您的配置是创建一个 Stomp NIO 连接器和一个不同的 Stomp SSL 连接器。

您不能将消息发送到不同的客户端，您只需将它们放在队列中，如果有客户端订阅，它将获取消息，这就是基于队列的消息传递的本质。TX1 TX2 东西在事务中发送消息。

建议您花一些时间阅读 JMS 消息传递、Stomp 规范和其他一些基于消息传递的教程。

# hbase - AWS DynamoDB 与 HBase

> ID：10908531
> 
> 赞同：18
> 
> 时间：2012-06-06T05:18:51.077
> 
> 标签：hbase, amazon-dynamodb

在过去的六个月里，我一直在使用 HBase，并且通过 Amazon 了解了 DynamoDB。维护明智的发电机数据库看起来更容易处理，因为它由亚马逊负责。但是是否从 hbase 切换到 dynamo db 对我来说是一个问题。

除了维护集群之外，我找不到令人满意的理由从 hbase 切换到 dynamo db。

有人可以分享对此的想法。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2015-04-01T02:08:35.087

您必须从根本上寻找您的需求，DynamoDB 以最少的维护工作和极具吸引力的财务成本提供了出色的可扩展性和性能。但是，就可以存储的内容（大小和数据类型）而言，Apache HBase 更加灵活。

另一个非常重要的评估点是哪种数据模型（列宽或键值）更适合您的用例。

Apache HBase 为您提供了非常灵活的行键数据类型的选项，而 DynamoDB 仅允许主键属性的标量类型。另一方面，DynamoDB 提供了非常容易创建和维护二级索引的方法，而您必须在 Apache HBase 中手动执行这些操作。

以下链接中的更多信息：http: [//d0.awsstatic.com/whitepapers/AWS_Comparing_the_Use_of_DynamoDB_and_HBase_for_NoSQL.pdf](http://d0.awsstatic.com/whitepapers/AWS_Comparing_the_Use_of_DynamoDB_and_HBase_for_NoSQL.pdf)

以下是关键点的摘要：

> 总之，Amazon DynamoDB 和 Apache HBase 都定义了允许有效存储数据以优化查询性能的数据模型。Amazon DynamoDB 对其项目大小施加了限制，以实现高效处理并降低成本。
> 
> Apache HBase 使用列族的概念来提供数据局部性以实现更高效的读取操作。
> 
> Amazon DynamoDB 支持标量和多值集，以适应各种非结构化数据集。同样，Apache HBase 将其键/值对存储为任意字节数组，使其能够灵活地存储任何数据类型。
> 
> Amazon DynamoDB 支持内置二级索引，并自动更新和同步所有索引与其父表。使用 Apache HBase，您可以自己实施和管理自定义二级索引。
> 
> 从数据模型的角度来看，如果您的项目大小相对较小，您可以选择 Amazon DynamoDB。尽管 Amazon DynamoDB 提供了许多选项来克服行大小限制，但 Apache HBase 能够更好地处理具有最小限制的大型复杂负载。
> 
> **吞吐量模型**
> 
> 尽管在创建表时指定了读取和写入要求，但 Amazon DynamoDB 允许您增加或减少预置吞吐量以适应负载而无需停机。
> 
> 在 Apache HBase 中，集群中的节点数量可以由读取和/或写入所需的吞吐量驱动。
> 
> **一致性模型**
> 
> Amazon DynamoDB 允许您为应用程序中的每个读取请求指定所需的一致性特征。您可以指定读取是最终一致还是强一致。
> 
> 最终一致性选项是 Amazon DynamoDB 中的默认选项，可最大限度地提高读取吞吐量。但是，最终一致的读取可能并不总是反映最近完成的写入的结果。所有数据副本的一致性通常在一秒钟内完成。
> 
> Apache HBase 读取和写入是强一致的。这意味着对 Apache HBase 中单行的所有读取和写入都是原子的。每个并发的读取器和写入器都可以对行的状态做出安全的假设。Apache HBase 中的多版本控制和时间戳有助于其高度一致的模型。
> 
> **交易模型**
> 
> 出于性能考虑，Amazon DynamoDB 和 Apache HBase 都不支持多项目/跨行或跨表事务。但是，这两个数据库都提供了用于跨多个表读取和写入多个项目/行的批处理操作，而没有事务保证。
> 
> **表操作**
> 
> 两个数据库之间的一个关键区别是 Amazon DynamoDB 的灵活预置吞吐量模型。在需要时调高容量并在完成后调低容量的能力对于处理具有不可预测峰值的可变工作负载非常有用。
> 
> 对于需要高更新率来执行数据聚合或维护计数器的工作负载，Apache HBase 是一个不错的选择。这是因为 Apache HBase 支持多版本并发控制机制，这有助于它的强一致性读写。Amazon DynamoDB 让您可以灵活地根据您的特定工作负载指定是希望您的读取请求最终一致还是高度一致。一秒钟内达到。

资料来源： [http ://d0.awsstatic.com/whitepapers/AWS_Comparing_the_Use_of_DynamoDB_and_HBase_for_NoSQL.pdf](http://d0.awsstatic.com/whitepapers/AWS_Comparing_the_Use_of_DynamoDB_and_HBase_for_NoSQL.pdf)

# c# - 使用 C# 保存 powerpoint 文件

> ID：10908533
> 
> 赞同：5
> 
> 时间：2012-06-06T05:18:54.167
> 
> 标签：c#, powerpoint

我只需要`.pptx`使用 C# 创建一个带有 1 个虚拟幻灯片的文件并将其保存到当前目录。谁能告诉我该怎么做？

到目前为止，我有这个代码来创建一个 Powerpoint 演示文稿：

```
Microsoft.Office.Interop.PowerPoint.Application obj = new Application();
obj.Visible = Microsoft.Office.Core.MsoTriState.msoTrue; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T16:48:57.910

此代码片段创建一个新的演示文稿：

```
 private void DpStartPowerPoint()
{
    // Create the reference variables
    PowerPoint.Application ppApplication = null;
    PowerPoint.Presentations ppPresentations = null;
    PowerPoint.Presentation ppPresentation = null;

    // Instantiate the PowerPoint application
    ppApplication = new PowerPoint.Application();

    // Create a presentation collection holder
    ppPresentations = ppApplication.Presentations;

    // Create an actual (blank) presentation
    ppPresentation = ppPresentations.Add(Office.MsoTriState.msoTrue);

    // Activate the PowerPoint application
    ppApplication.Activate();
} 
```

这个代码片段保存了它：

```
 // Assign a filename under which to save the presentation
string myFileName = "myPresentation";

// Save the presentation unconditionally
ppPresentation.Save();

// Save the presentation as a PPTX
ppPresentation.SaveAs(myFileName,
                      PowerPoint.PpSaveAsFileType.ppSaveAsDefault, 
                      Office.MsoTriState.msoTrue);

// Save the presentation as a PDF
ppPresentation.SaveAs(myFileName,
                      PowerPoint.PpSaveAsFileType.ppSaveAsPDF, 
                      Office.MsoTriState.msoTrue);

// Save a copy of the presentation
ppPresentation.SaveCopyAs(“Copy of “ + myFileName,
                          PowerPoint.PpSaveAsFileType.ppSaveAsDefault, 
                          Office.MsoTriState.msoTrue); 
```

有关其他 PowerPoint 自动化功能的参考，请参阅[此页面](http://www.davidallenpollock.com/AutomatingPowerPoint.html)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:44:05.720

以下资源包括如何保存文件以及有关如何使用以下方法操作`Ms - Power Point`演示文件的许多其他代码示例`C#`：

[http://code.msdn.microsoft.com/office/CSAutomatePowerPoint-b312d416](http://code.msdn.microsoft.com/office/CSAutomatePowerPoint-b312d416)

[http://www.eggheadcafe.com/community/csharp/2/10068596/create-ppt-slides-through-cnet.aspx](http://www.eggheadcafe.com/community/csharp/2/10068596/create-ppt-slides-through-cnet.aspx)

希望这可以帮助

**编辑：**

以下包括有关添加引用的详细信息：

[http://support.microsoft.com/kb/303718](http://support.microsoft.com/kb/303718)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T05:41:00.860

使用 PowerPoint 创建这样的文件，并将其作为资源嵌入到您的 C# 应用程序中。然后在需要时将其复制到文件中。

# android - android.content.ActivityNotFoundException：找不到明确的活动类

> ID：10908534
> 
> 赞同：25
> 
> 时间：2012-06-06T05:18:56.047
> 
> 标签：android, classnotfoundexception

我收到此错误：

```
06-06 10:45:19.685: E/AndroidRuntime(554): android.content.ActivityNotFoundException: Unable to find explicit activity class {com.Android.myApp/com.Android.myApp.Facebook.Example}; have you declared this activity in your AndroidManifest.xml? 
```

但我已经在我的清单文件中声明了它。这种例外的其他原因可能是什么？

我的清单.xml

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.Android.myApp"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk android:minSdkVersion="4" />

    <uses-feature android:name="android.hardware.camera" />

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.CAMERA" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@android:style/Theme.Light" >

        <activity
            android:name=".SignUpActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name=".SignInActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".HomeActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".selectCityActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".FeedListViewActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".SearchActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".IWantActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".DateActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".ShareActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".ShareProductActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".SharePriceActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".ShareStoreActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".ProfileActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".ShowMapActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".ParticularEntryActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".MyLocationActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".MapMarkerActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".BarcodeActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".BarcodeResult"
            android:label="@string/app_name" />
        <activity
            android:name=".FeedbackActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".SplashActivity"
            android:label="@string/app_name" />
        <activity
            android:name=".Example"
            android:label="@string/app_name" />

        <uses-library android:name="com.google.android.maps" />
    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-06-06T05:23:04.057

您在清单中将包名称声明为`com.Android.myApp`和 Activity Name `.Example`。所以 android 将从中搜索它`com.Android.myApp.Example`。但是您的活动位于“ `com.Android.myApp/com.Android.myApp.Facebook.Example`”中。因此，将活动名称指定为`.Facebook.Example`或完整路径，如下所示在清单中

```
<activity
                android:name="com.Android.myApp.Facebook.Example">

</activity> 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-06T07:01:42.657

你也可以使用

```
<activity
        android:name=".Facebook.Example"
        android:label="@string/app_name" /> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-04-22T11:49:54.407

我对这个问题有所了解。我正在启动一个名为*“设置”*的活动并得到相同的错误并对清单进行所有建议的更改并没有解决问题。

问题是，在调用活动中，我也在使用/导入 android.provider.Settings，所以从我在尝试启动活动时可以看到的情况来看，这两者之间存在混淆。因此，我在代码而不是清单中更改了它以包含完整路径：

```
Intent launchScr = new Intent(this, com.foo.bar.Settings.class); 
```

它奏效了。当然，解决这个特定问题的另一种更好的方法是为我的活动使用更好的名称。

HTH 任何有此问题变体的人。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2017-09-11T00:55:01.360

有时，这是由于不同包中存在相同的类名（Intent的第二个参数）。

我还发现当您调用 startService 而不是调用 startActivity 时会发生这种情况，反之亦然。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-06-06T05:35:09.303

从您的异常中，哪一个是您的类-`Facebook`或者`Example`因为，您在清单中的包中声明为`com.Android.myApp`But，对于`facebook`您声明的活动`com.android.myApp.Facebook.Example`And，

如果示例是您的活动意味着，您应该将您的活动声明为`com.Android.myApp.Facebook.Example`因为，它来自不同的包或您的活动名称，`Facebook.Example`因此您可以更好地声明您的活动，如下所示 -

```
<activity
        android:name="com.Android.myApp.Facebook.Example"
        android:label="@string/app_name" /> 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2019-02-19T02:13:13.657

当缓存的清单不同步时，这可能会发生在大型项目上。我能够在 Android Studio 终端中修复它，`./gradlew clean`然后在 Android Studio 菜单栏中选择**File** > **Invalidate Caches /** Restart

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-05-03T15:10:38.250

只需确保您的 Activity 使用此属性进行装饰：

```
[Activity(Label = "Your App Name", MainLauncher=true)] 
```

注意：仅在需要时设置 MainLauncher。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-05-13T03:51:40.250

如果您有一个 Activity 对象（您需要启动它），则此方法有效：

```
 intent.setClassName(CallingActivity.this, activityToLaunch.getComponentName().getClassName()); 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-09-15T21:10:29.627

如果您希望从字符串动态更改您的类，则需要使用此代码： `Intent intent = new Intent().setClassName(this.getPackageName(), "com.some.other.name");` 或者您可以将结果从数组或任何其他而不是“com.some.other.name”放入。干杯!

# jquery - 如何更改已经包含其他 DOM 元素的 div 的文本？

> ID：10908536
> 
> 赞同：0
> 
> 时间：2012-06-06T05:19:06.887
> 
> 标签：jquery, html, dom

在我的页面中，我有许多 DIV 和 P 标签，我想将所有这些标签的文本更改为“Hi”（任意单词）。我能想到的只有：

```
$('div, p').not('.btn').each ( function() {

      var oT = $(this).text();
      $(this).text ( 'hi ' + oT );
  }); 
```

* * *

```
 <div class='btn'>Change All Text</div>

       <div id='container1'>
       main content
       <div>
         div > div
         <p>
           div > div > p
         </p>
       </div>

       <p>div > p </p>
       <p>div > p </p>

  </div>

  <p>
    p
  </p>

  <p>P
  </p> 
```

见：http: [//jsbin.com/usepuq/](http://jsbin.com/usepuq/)

现在，它所做的不是更改所有 Div 的文本：它正在更改父对象的文本。一旦它改变了父对象的文本，所有子对象都会自动消失。所以我们只留下了一个 Div 和两个 P 标签。

我可以做的另一件事是：

```
 var oT = $(this).html();
 $(this).html ( 'hi ' + oT ); 
```

这以某种方式改变了父对象的文本，而子对象保持不变。

所以问题是我们如何更改所有 DIV 和 P 标签的文本。嵌套深度没有限制。

**PS**这不是一个真正的问题，我只是想看看它是否可以完成。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:06:23.447

你试过这个吗？

```
$('.btn').click ( function () {
  $('div, p').not('.btn').each ( function() {

      $(this).prepend('hi');

  });
}); 
```

示例：[小提琴](http://jsfiddle.net/c5FGp/)

# dojo - 道场自定义构建

> ID：10908544
> 
> 赞同：0
> 
> 时间：2012-06-06T05:20:22.893
> 
> 标签：dojo

我使用以下 form.profile.js 文件创建了自定义构建

```
dependencies ={
layers: [
{
name: "form.js",
dependencies: [
"dijit.form.Button",
"dijit.form.Form",
"dijit.form.ValidationTextBox"
]
}
],
prefixes: [
[ "dijit", "../dijit" ]
]
}; 
```

我得到了 form.js 和 form.js.uncompressed.js 文件

当我尝试在我的 jsp 中使用 form.js 时，它给了我这样的错误

无法加载类'dijit.form.ValidationTextBox

下面是jsp

```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
<link href="./scripts/dijit/themes/tundra/tundra.css" type="text/css" rel="stylesheet"/>
<style>
.myClass{
font-size:14px;
}
</style>
<script src="./scripts/dojo/dojo.js" djConfig="parseOnLoad:true"></script>
<script src="./scripts/dojo/form.js"></script>
<script>
//dojo.require("dijit.form.Button");
//dojo.require("dijit.form.ValidationTextBox");
dojo.ready(function(){

});
function showDialog(){
alert("Clicked!!");
//dijit.byId("dialog1").show();
}

function changed(){
alert(dijit.byId("select1").value);
dijit.byId("name").attr("value",dijit.byId("select1").value);
}
</script>
</head>
<body class="tundra">

<input type="text" dojoType="dijit.form.ValidationTextBox" id="name" propercase=true trim=true required=true  invalidMessage="Please Enter a valid value" />
<button dojoType="dijit.form.Button" value="Click" id="b1" onclick="showDialog()">Click</button>

</body>
</html> 
```

请让我知道我哪里出错了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:29:51.623

为 dojo.js 尝试一个完整的脚本标记，为其他所有内容尝试“dojo.require()”：

```
<script 
   type="text/javascript" 
   src="scripts/dojo/dojo.js"
   djConfig="parseOnLoad:true,isDebug:true">
   dojo.require("scripts/dojo/form.js");
</script> 
```

# ruby-on-rails - Rspec 渲染文本

> ID：10908547
> 
> 赞同：9
> 
> 时间：2012-06-06T05:20:41.020
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rspec, capybara, rspec-rails

我有这个代码

```
if @temp_user.save
  sign_in(:user, @temp_user)
  render text: "OK"
else
  render text: render_to_string(:partial => "errors")
end 
```

我尝试使用 rspec 验证渲染“OK”

这是我的实际规格：

```
 it "render text OK" do   
    post :create, {:agent => valid_attributes}
    # response.should have_content("OK")
    response.should render_template(:text => "OK")
  end 
```

但是这个规范总是响应 0 次失败，即使我把“OKI”放在“OK”的位置

有人对此有什么建议吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-21T09:20:18.760

```
response.body.should == "OK" 
```

为我工作

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-04-23T05:09:33.340

如果您使用的是 rails 3 或更高版本

```
expect(response.body).to eq "OK" 
```

将工作

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T13:13:52.093

```
describe "render text OK" do   
  post :create, {:agent => valid_attributes}
  # response.should have_content("OK"
  response.should render_template(:text => "OK")
end 
```

# database-design - 如何避免多个表表到关系M：M？

> ID：10908548
> 
> 赞同：1
> 
> 时间：2012-06-06T05:20:41.747
> 
> 标签：database-design

如何避免多个表表到关系M：M？

查看下一个模型

![在此处输入图像描述](../Images/9a7650b8d00ac1279ac70c269d89dde5.png)

从每个多项选择可以看出，我创建了几个表，我一直工作得很好，但现在我有很多情况会发生这种情况。有没有无需创建那么多表的解决方案？

**注意**：显然我们必须牢记，该解决方案不会使将来的查询复杂化，选择、排序和查询在报告时混合的多个表

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T10:16:54.820

如果您的首要任务是避免链接表的扩散，您可以使用继承（又名类别、子类化、泛化层次结构）：

![在此处输入图像描述](../Images/80a8d6c45dc9ce125b78d3130bc45fea.png)

无论有多少子实体`Item`，您总是只需要一个链接表（`PersonItem`）。

[不幸的是，今天的 DBMS 通常不直接支持继承，因此您必须使用这 3 种策略](https://stackoverflow.com/a/9178524/533120)的“一个表中的所有类”或“每个表的类”手动表示它（“每个表的具体类”仍然会激增链接表）。在某些情况下，这会增加复杂性，因此如果您的首要任务是保持查询简单，您可能最好坚持当前的设计（尽管这取决于您打算运行的查询类型 - 有些实际上可能通过继承更简单） .

顺便说一句，上面的模型不会让不同`Hobby`和`Thing`共享相同`Id`。我猜这对你来说并不重要，但如果是这样，这是没有继承的模型的参数（*或者*你需要在`Item`PK 中包含类型）。

# android - 在 MediaPlayer 中播放字节数组 - Android

> ID：10908552
> 
> 赞同：8
> 
> 时间：2012-06-06T05:21:10.700
> 
> 标签：android

我正在尝试使用 MediaPlayer 播放音频文件。我想在 MediaPlayer 中播放字节数组。我怎样才能做到这一点？我已经检查过[了](https://stackoverflow.com/questions/1972027/android-playing-mp3-from-byte)

```
 public void writeSamples(byte[] samples, int length) 
{
  //  track.write( samples, 0, length);
    File tempMp3;
    try {
    tempMp3 = File.createTempFile("kurchina", ".mp3");
      tempMp3.deleteOnExit();
      FileOutputStream fos = new FileOutputStream(tempMp3);
      fos.write(samples);
      fos.close();
      // Tried reusing instance of media player
      // but that resulted in system crashes...  
      MediaPlayer mediaPlayer = new MediaPlayer();

      // Tried passing path directly, but kept getting 
      // "Prepare failed.: status=0x1"
      // so using file descriptor instead   
      FileInputStream fis = new FileInputStream(tempMp3);
      mediaPlayer.setDataSource(fis.getFD());
      mediaPlayer.prepare();
      mediaPlayer.start();
      } catch (IOException e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    }
    } 
```

但它不播放音频。它只是在 SD 卡中生成许多文件。并给出这个**错误**：

```
 06-06 11:02:59.191: E/MediaPlayer(1831): Unable to to create media player
 06-06 11:02:59.191: W/System.err(1831): java.io.IOException: setDataSourceFD failed.:      status=0x80000000
 06-06 11:02:59.201: W/System.err(1831):  at    android.media.MediaPlayer.setDataSource(Native Method)
 06-06 11:02:59.201: W/System.err(1831):  at   android.media.MediaPlayer.setDataSource(MediaPlayer.java:749)
 06-06 11:02:59.201: W/System.err(1831):  at   org.vinuxproject.sonic.SonicTest$1.run(SonicTest.java:178)
 06-06 11:02:59.201: W/System.err(1831):  at java.lang.Thread.run(Thread.java:1096) 
```

请帮我。任何形式的帮助表示赞赏。

谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-08-27T20:21:29.383

根据您的评论，您正在使用 WAV 文件进行流式传输。传统[的 WAV](http://en.wikipedia.org/wiki/WAV)在文件的开头有一个标题，文件的其余部分是*纯数据*。如果您不包含标题部分，则需要将其中的参数提供给能够解释数据的播放器（通道数、每秒样本数、块大小等）。因此，WAV文件本身是不可流的，必须将参数输入到播放器中。

另一方面，[MPEG-4已被指定为能够流式传输。](http://en.wikipedia.org/wiki/Mp4)它包含可单独播放的可识别的段，因此只要数据块包含头部，它之后的数据就可以播放。除了其良好的压缩比外，这也是许多网络收音机使用它的原因之一。

`MediaPlayer`在 Android 中是一个高级组件，播放 WAV 块所需的低级参数是不可访问的。如果您需要源是 WAV 并且不能使用其他[流格式](http://www.orb.com/en/music/audio-streaming/audio-streaming-formats.html)，那么您可以尝试使用[AudioTrack](http://developer.android.com/reference/android/media/AudioTrack.html)类或[OpenSL ES](https://stackoverflow.com/questions/14842803/low-latency-audio-playback-on-android)以获得更低级别的访问。对于 AudioTrack，这是一个非常好的教程：[http ://audioprograming.wordpress.com/2012/10/18/a-simple-synth-in-android-step-by-step-guide-using-the-java-sdk /](http://audioprograming.wordpress.com/2012/10/18/a-simple-synth-in-android-step-by-step-guide-using-the-java-sdk/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-03T11:29:57.203

在文件上写入一个字节后：您可以从此函数播放：

```
 void playSound(int resid) {
        MediaPlayer eSound = MediaPlayer.create(context, resid);
        Resources res = context.getResources();
        AssetFileDescriptor afd = res.openRawResourceFd(resid);
        eSound.reset();
        eSound.setAudioStreamType(AudioManager.STREAM_SYSTEM);
        try {
            eSound.setDataSource(afd.getFileDescriptor(), afd.getStartOffset(),
                    afd.getLength());
        } catch (IllegalArgumentException e) {
            e.printStackTrace();
        } catch (IllegalStateException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
        try {
            eSound.prepare();
        } catch (IllegalStateException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
        eSound.start();
    } 
```

您可以从这里获取文件信息：

```
byte[] getFileInformation(String filepath) {
        MediaPlayer eSound = MediaPlayer.create(context, Uri.parse(filepath));
        eSound.reset();
        eSound.setAudioStreamType(AudioManager.STREAM_SYSTEM);
        try {
            eSound.setDataSource(filepath);
        } catch (IllegalArgumentException e) {
            e.printStackTrace();
        } catch (IllegalStateException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
        try {
            eSound.prepare();
        } catch (IllegalStateException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        int duration = eSound.getDuration() / 1000;

        int height = 480;
        int width = 640;
        height = eSound.getVideoHeight();
        width = eSound.getVideoWidth();

        eSound.release();
        File f = new File(filepath);
        int size = (int) f.length();
        byte[] b = new byte[16];
        System.arraycopy(convertIntToByte(size), 0, b, 0, 4);
        System.arraycopy(convertIntToByte(duration), 0, b, 4, 4);
        System.arraycopy(convertIntToByte(width), 0, b, 8, 4);
        System.arraycopy(convertIntToByte(height), 0, b, 12, 4);
        return b;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-03T13:10:02.600

尝试这个 ：

```
private void playMp3(byte[] mp3SoundByteArray) 
{
    try 
    {

        File path=new File(getCacheDir()+"/musicfile.3gp");

        FileOutputStream fos = new FileOutputStream(path);
        fos.write(mp3SoundByteArray);
        fos.close();

        MediaPlayer mediaPlayer = new MediaPlayer();

        FileInputStream fis = new FileInputStream(path);
        mediaPlayer.setDataSource(getCacheDir()+"/musicfile.3gp");

        mediaPlayer.prepare();
        mediaPlayer.start();
    } 
    catch (IOException ex) 
    {
        String s = ex.toString();
        ex.printStackTrace();
    }
} 
```

# r - 如何在 r 图中找到峰值

> ID：10908553
> 
> 赞同：0
> 
> 时间：2012-06-06T05:21:22.893
> 
> 标签：r

> **可能重复：**
> [使用 R 计算图中的峰值](https://stackoverflow.com/questions/10892803/calculate-peak-values-in-a-plot-using-r)

我有一个包含两列（ppm 和频率）的表。数据来自核磁共振光谱。我用数据绘制了图表。我从中得到了光谱图像。

我需要从光谱中找到高于 y 轴某个值的峰值。我的数据看起来像这样。它的 ppm 值从 11 到 -1。

我需要找到 y 值至少为 5 的峰值。任何帮助我解决这个问题。从零开始的值属于频率列。

```
.data <- structure(list(ppm = c(11.3633, 11.3629, 11.3625, 11.3621, 11.3617, 
  11.3613, 11.361, 11.3606, 11.3602, 11.3598, 11.3594, 11.359, 
  11.3586, 11.3582, 11.3578, 11.3574, 11.357, 11.3566, 11.3562, 
  11.3558, 11.3554, 11.355, 11.3546, 11.3542, 11.3538, 11.3534, 
  11.353, 11.3526, 11.3522, 11.3518, 11.3514, 11.351, 11.3506, 
  11.3502, 11.3499, 11.3495, 11.3491, 11.3487, 11.3483, 11.3479, 
  11.3475, 11.3471, 11.3467), freq = c(0.00498359, 0.00511016, 
  0.00557969, 0.00732578, 0.00936094, 0.00874531, 0.00472031, 0.00185781, 
  0.00498438, 0.0115414, 0.0142, 0.0108344, 0.00561406, 0.000523438, 
  -0.00586406, -0.0102078, -0.00525078, 0.0073375, 0.0149227, 0.0105781, 
  0.00294766, 0.00271172, 0.00764531, 0.00919609, 0.00638828, 0.00396953, 
  0.00251797, -0.000163281, -0.00205703, 4.53125e-05, 0.00394922, 
  0.00587578, 0.0070375, 0.00937109, 0.00945234, 0.00447656, -0.000355469, 
  0.000999219, 0.00497031, 0.00409922, -0.000359375, -0.00106484, 
  0.00263672)), .Names = c("ppm", "freq"), class = "data.frame", row.names = c(NA, 
  -43L)) 
```

# c# - 从 C# 设置/运行 PostgreSQL

> ID：10908557
> 
> 赞同：3
> 
> 时间：2012-06-06T05:22:03.657
> 
> 标签：c#, .net, postgresql, localization, process

我的要求如下：

1.  一旦应用程序启动 PostgreSQL 服务将由应用程序启动
2.  一旦应用程序关闭，PostgreSQL 服务将被应用程序关闭
3.  ...所以我将负责 PostgreSQL 设置、运行脚本和启动服务等

我目前的做法是：

1.  当我在新进程中启动 PostgreSQL 时，我正在重定向`RedirectStandardError`和`RedirectStandardOutput`，它是静默启动，用户看不到命令​​窗口等

## 问题是，

*   当我对此进行编码时，我寻找消息字符串并且只支持英语。换句话说，我曾经在其中查找字符串`success`，`RedirectStandardOutput`但现在我们支持**多种语言**，因此比较失败。

有什么方法可以查明 PostgreSQL 设置是否已成功启动并且 PostgreSQL 服务是否正在运行？

我通过在单独的进程中调用 pg_ctl.exe 来启动 PostgreSQL。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T06:36:42.227

（我们正在做类似的事情）您`Postgres`使用此批处理文件为服务加注星标

```
"C:\Program Files\PostgreSQL\9.0\bin\pg_ctl.exe"  -D "C:\Program Files\PostgreSQL\9.0\data" start 
```

和 [停止] 服务

```
"C:\Program Files\PostgreSQL\9.0\bin\pg_ctl.exe"  -D "C:\Program Files\PostgreSQL\9.0\data" stop 
```

您可以从哪里`C:\Program Files\PostgreSQL\9.0\bin\pg_ctl.exe`获得您的安装位置`PostgreSQl`

```
 HKEY_LOCAL_MACHINE\SOFTWARE\PostgreSQL\Installations\postgresql-9.0 
```

现在在运行批处理文件以检查服务是否确实在运行时，您可以使用[进程运行](http://www.dreamincode.net/code/snippet1541.htm)中的此代码 检查`postgres.exe`它是否正在运行。

另外 1.[检查 Windows 应用程序是否正在运行](https://stackoverflow.com/questions/4722198/checking-if-windows-application-is-running) 2.[我如何知道如果进程正在运行](https://stackoverflow.com/questions/262280/how-can-i-know-if-a-process-is-running)

```
 public bool IsProcessOpen(string name)
    {
 //here we're going to get a list of all running processes on
 //the computer
 foreach (Process clsProcess in Process.GetProcesses()) {
    //now we're going to see if any of the running processes
    //match the currently running processes. Be sure to not
    //add the .exe to the name you provide, i.e: NOTEPAD,
    //not NOTEPAD.EXE or false is always returned even if
    //notepad is running.
    //Remember, if you have the process running more than once, 
    //say IE open 4 times the loop thr way it is now will close all 4,
    //if you want it to just close the first one it finds
    //then add a return; after the Kill
    if (clsProcess.ProcessName.Contains(name))
    {
        //if the process is found to be running then we
        //return a true
        return true;
    }
}
//otherwise we return a false
return false;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T05:45:32.020

启动一个数据库连接，如果它工作，PostgreSQL 正在运行。如果没有，那就是出了点问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T11:25:40.310

您正在尝试将 PostgreSQL 用作嵌入式数据库，以便与用户完全不可见的应用程序捆绑在一起。

这不会很好地工作。PostgreSQL 并非设计为以这种方式工作，它显示：

*   postmaster 期望作为由 pg_ctl 产生的服务或守护进程运行，而不是其他东西的子进程。它旨在在其父进程终止后仍然存在，这不是您在嵌入时想要的。

*   当然，没有办法将 PostgreSQL 嵌入到可执行文件中或将其作为库加载。

*   postmaster 没有带外管理接口；所有管理都是通过 SQL 级别的连接或通过配置文件和日志完成的。也许这是一个缺陷；如果有一个简单的管理 API，它使用简单的进程间通信（例如，Pg 的共享内存）来查询 postmaster 状态，而不需要工作的 TCP 连接和数据库引擎，这可能会很好。现在，没有这样的东西存在，对于 PostgreSQL 的预期用例，没有强烈的论据来创建它，因为如果 PostgreSQL 不启动安装它的管理员应该修复它。

*   在 Windows 上，PostgreSQL 仅支持通过 TCP/IP 进行通信，为此它需要一个在主机范围内唯一的端口。如果您可能同时运行多个程序实例并希望它们是独立的，那将无法正常工作。

做你想做的事是可能的，只是烦人和困难，因为 PostgreSQL 不是为用作嵌入式数据库而设计的。

我真的很想看到一个用于 PostgreSQL 的低级诊断/状态客户端，它可以使用与 postmaster 一起传递的共享内存消息来向 postmaster 询问简单的状态报告。这对于诊断安装问题非常有用，尤其是在所有损坏的 Windows 机器上。

在与 pgsql-hackers 团队讨论并提交补丁到 commitfest 之后，也许您会考虑对您需要的功能进行原型设计？PostgreSQL 是开源的，因此如果您愿意实现它们并且能够说服其他人相信它们应该被包括在内，那么您可能会获得您需要添加的功能。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T06:03:23.937

[使用ServiceController](http://msdn.microsoft.com/en-us/library/system.serviceprocess.servicecontroller.aspx)类启动/停止服务。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T06:44:01.583

[链接](http://msdn.microsoft.com/en-us/library/system.serviceprocess.servicecontroller.aspx)这将对您有所帮助。在此之前检查您的数据库连接。或启动/停止 IIS 服务器（如果正在运行）

# mysql - 如何从多个没有关系的独立表中获取数据

> ID：10908559
> 
> 赞同：0
> 
> 时间：2012-06-06T05:22:33.867
> 
> 标签：mysql, sql

我想从多个没有关系的独立表中提取数据。表是 tbl_temp1, tbl_temp2, tbl_temp3, tbl_temp4,so on 每个表都有公共字段，即 id,value,timestamp 但每个表中的记录都是独立的，因此它们之间没有关系。

我想水平生成所有表的值，即 Value_of_tbl_temp1 | 值_of_tbl_temp2 | 值_of_tbl_temp3 | 值_of_tbl_temp4 | ... | | | |

没有重复的数据

请帮我解决问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:57:31.500

```
SELECT un.common_id, COALESCE(t1_value), COALESCE(t2_value), COALESCE(t3_value) FROM
(SELECT t1.common_id, t1.value as t1_value, NULL AS t2_value, NULL AS t3_value FROM t1
UNION 
SELECT t2.common_id, NULL, t2.value, NULL FROM t2
UNION 
SELECT t3.common_id, NULL, NULL, t3.value FROM t3) AS un
GROUP BY un.common_id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:25:25.837

如果表有公共字段，那么您可以使用 UNION 查询从所有表中获取数据，然后根据需要显示它们。

这是 UNION 关键字的 mysql 文档页面：http: [//dev.mysql.com/doc/refman/5.0/en/union.html](http://dev.mysql.com/doc/refman/5.0/en/union.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T05:32:08.210

你可以试试这样的

```
(SELECT value_of_tbl_temp1 FROM tbl_temp1 ORDER BY value_of_tbl_temp1 LIMIT 10)
UNION
(SELECT value_of_tbl_temp2 FROM tbl_temp2 ORDER BY value_of_tbl_temp2 LIMIT 10)
.. 
```

休息你可以参考[这里](http://dev.mysql.com/doc/refman/5.0/en/union.html)

或者您可以简单地选择

```
select tbl1.value_of_tbl_temp1 as value_of_tbl_temp1,
tbl2.value_of_tbl_temp2 as value_of_tbl_temp2,
tbl3.value_of_tbl_temp3 as value_of_tbl_temp3,
tbl4.value_of_tbl_temp2 as value_of_tbl_temp4,
from 
tbl_temp1 as tbl1,
tbl_temp2 as tbl2,
tbl_temp3 as tbl3,
tbl_temp4 as tbl4 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T05:32:32.310

试试这个：

```
SELECT 
    tbl1.value as Value_of_tbl_temp1,
    tbl2.value as Value_of_tbl_temp2,
    tbl3.value as Value_of_tbl_temp3,
    tbl4.value as Value_of_tbl_temp4
FROM
    tbl_temp1 tbl1, 
    tbl_temp2 tbl2, 
    tbl_temp3 tbl3, 
    tbl_temp4 tbl4 
```

也试试这个。

```
SELECT
    tbl1.value AS Value_of_tbl_temp1,
    tbl2.value AS Value_of_tbl_temp2,
    tbl3.value AS Value_of_tbl_temp3,
    tbl4.value AS Value_of_tbl_temp4
FROM
(SELECT 
    VALUE,
    @rownum1:=@rownum1+1 rank
FROM
    tbl_temp1 tbl1, 
 (SELECT @rownum1:=0) r 
ORDER BY tbl1.id ASC) tbl1
INNER JOIN
(SELECT 
    VALUE,
    @rownum2:=@rownum2+1 rank
FROM
    tbl_temp2 tbl2, 
     (SELECT @rownum2:=0) r 
ORDER BY tbl2.id ASC) tbl2
ON
tbl1.rank = tbl2.rank
INNER JOIN
(SELECT 
    VALUE,
    @rownum3:=@rownum3+1 rank
FROM
    tbl_temp3 tbl3, 
    (SELECT @rownum3:=0) r 
ORDER BY tbl3.id ASC) tbl3
ON
tbl1.rank = tbl3.rank
INNER JOIN
(SELECT 
    VALUE,
    @rownum4:=@rownum4+1 rank
FROM
    tbl_temp4 tbl4, 
     (SELECT @rownum4:=0) r 
ORDER BY tbl2.id ASC) tbl4
ON
tbl1.rank = tbl4.rank 
```

# mysql - MySQL - 创建表时一起使用“PRIMARY KEY”、“UNIQUE KEY”和“KEY”的含义

> ID：10908561
> 
> 赞同：66
> 
> 时间：2012-06-06T05:22:42.840
> 
> 标签：mysql, sql-server, primary-key, unique-key

任何人都可以解释 , 和 的目的`PRIMARY KEY`，`UNIQUE KEY`如果`KEY`它放在`CREATE TABLE`MySQL 中的单个语句中吗？

```
CREATE TABLE IF NOT EXISTS `tmp` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `uid` varchar(255) NOT NULL,
  `name` varchar(255) NOT NULL,
  `tag` int(1) NOT NULL DEFAULT '0',
  `description` varchar(255),
  PRIMARY KEY (`id`),
  UNIQUE KEY `uid` (`uid`),
  KEY `name` (`name`),
  KEY `tag` (`tag`)
) ENGINE=InnoDB AUTO_INCREMENT=1 ; 
```

如何将此查询转换为 MSSQL？

* * *

## 回答 #1

> 赞同：92
> 
> 时间：2012-06-06T05:36:44.690

键只是一个普通的索引。一种过度简化的方法是将其想象成图书馆的卡片目录。它为 MySQL 指明了正确的方向。

唯一键也用于提高搜索速度，但它具有不能重复项的约束（没有两个 x 和 y，其中 x 不是 y 且 x == y）。

[手册](http://dev.mysql.com/doc/refman/5.0/en/create-index.html)解释如下：

> UNIQUE 索引创建一个约束，使得索引中的所有值都必须是不同的。如果您尝试使用与现有行匹配的键值添加新行，则会发生错误。此约束不适用于 NULL 值，但 BDB 存储引擎除外。对于其他引擎，UNIQUE 索引允许包含 NULL 的列有多个 NULL 值。如果为 UNIQUE 索引中的列指定前缀值，则列值在前缀中必须是唯一的。

主键是一个“特殊”的唯一键。它基本上是一个唯一的键，除了它用于识别某些东西。

该手册解释了一般如何使用索引：[这里](http://dev.mysql.com/doc/refman/5.0/en/mysql-indexes.html).

在 MSSQL 中，这些概念是相似的。有索引、唯一约束和主键。

未经测试，但我相信 MSSQL 等价物是：

```
CREATE TABLE tmp (
  id int NOT NULL PRIMARY KEY IDENTITY,
  uid varchar(255) NOT NULL CONSTRAINT uid_unique UNIQUE,
  name varchar(255) NOT NULL,
  tag int NOT NULL DEFAULT 0,
  description varchar(255),
);

CREATE INDEX idx_name ON tmp (name);
CREATE INDEX idx_tag ON tmp (tag); 
```

编辑：上面的代码经过测试是正确的；但是，我怀疑这样做有更好的语法。自从我使用 SQL Server 以来已经有一段时间了，显然我已经忘记了很多:)。

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2012-06-06T05:39:51.653

只是为了添加其他答案，[文档](http://dev.mysql.com/doc/refman/5.5/en/create-table.html)给出了以下解释：

> *   `KEY`通常是 的同义词`INDEX`。`PRIMARY KEY`也可以`KEY`在列定义中指定key 属性。这是为了与其他数据库系统兼容而实现的。
>     
>     
> *   索引创建一个`UNIQUE`约束，使得索引中的所有值都必须是不同的。如果您尝试使用与现有行匹配的键值添加新行，则会发生错误。对于所有引擎，`UNIQUE` 索引允许`NULL`包含多个值的列`NULL`。
>     
>     
> *   A`PRIMARY KEY`是一个唯一索引，其中所有键列都必须定义为`NOT NULL`。如果它们没有显式声明为`NOT NULL`，MySQL 会隐含地（并且默默地）声明它们。一张表只能有一个 `PRIMARY KEY`。a 的名称`PRIMARY KEY`总是`PRIMARY`，因此不能用作任何其他类型索引的名称。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-06-06T05:33:11.973

MySQL 唯一键和主键用于标识行。一个表中只能有一个主键，但可以有一个或多个唯一键。键只是索引。

有关更多详细信息，您可以查看[http://www.geeksww.com/tutorials/database_management_systems/mysql/tips_and_tricks/mysql_primary_key_vs_unique_key_constraints.php](http://www.geeksww.com/tutorials/database_management_systems/mysql/tips_and_tricks/mysql_primary_key_vs_unique_key_constraints.php)

将 mysql 转换为 mssql 试试这个并查看[http://gathadams.com/2008/02/07/convert-mysql-to-ms-sql-server/](http://gathadams.com/2008/02/07/convert-mysql-to-ms-sql-server/)

# javascript - 是否有类似于`$(window).load();` 的东西用于在新插入的 Ajax 内容完成加载后执行函数？

> ID：10908562
> 
> 赞同：6
> 
> 时间：2012-06-06T05:22:48.537
> 
> 标签：javascript, html, jquery

在我通过做一些简单的事情来发出 ajax 请求之后`$(element).load(url, callback);`，页面上会有新的内容，包括图像等。

`$(window).load(callback)`有没有办法在新内容加载完成后做类似的事情？

`$(window).load();``$(window).load()`当页面新鲜时效果很好，因此您可以在加载所有内容之前显示加载动画，但是在已经触发后加载内容时似乎缺少像这样的简单内容。

**编辑 6/6/12 晚上 11:55：**我认为每个人都误解了我的问题。让我稍微解释一下：

当你第一次加载一个页面时，你可以利用 jQuery:`$(document).ready();`和`$(window).load();`. 第一个在 DOM 准备就绪时触发，第二个在内容加载完成时触发（图像等）。使用jQuery的`.load()`方法更新页面后，我完全知道我可以在Ajax完成后传递一个回调来执行。

那*不是*我想要的。我想在新内容*加载完成*后执行一个函数，类似于在`$(window).load();`页面的初始内容完成加载后触发。

那有意义吗？*在 Ajax 的内容加载完成之后（不仅仅是*在插入 HTML 之后），我们如何创建一个类似于`$(window).load();`for do stuff的事件？

 ** * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-12T07:34:26.123

根据 jQuery：

> 当元素和所有子元素都已完全加载时，加载事件将发送到该元素。此事件可以发送到与 URL 关联的任何元素：图像、脚本、框架、iframe 和窗口对象。

因此，在更新 DOM 之后（例如使用 Ajax 的内容），我正在为所有新插入的图像上的“加载”事件设置一个侦听器：

```
function when_images_loaded($img_container, callback) { // do callback when images in $img_container (jQuery object) are loaded. Only works when ALL images in $img_container are newly inserted images and this function is called immediately after images are inserted into the target.
    var _imgs = $img_container.find('img'),
        img_length = _imgs.length,
        img_load_cntr = 0;

    if (img_length) { //if the $img_container contains new images.
        _imgs.on('load', function() { //then we avoid the callback until images are loaded
            img_load_cntr++;
            if (img_load_cntr == img_length) {
                callback();
            }
        });
    }
    else { //otherwise just do the main callback action if there's no images in $img_container.
        callback();
    }
} 
```

这对于允许内容在图像准备好之前保持隐藏非常有用。如果您有将显示为背景图像的背景图像，这将不起作用。一种解决方法是将您在 CSS 样式中使用的所有图像加载到将保持隐藏状态的容器中，以便上述函数允许您加载图像。加载所有图像后，您可以删除包含纯 CSS 图像的元素，这样浏览器将在您取消隐藏内容时立即呈现背景（等）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:31:17.687

```
$(element).load(url, function(){
  //this code is executed after the page is loaded
}) 
```

你是这个意思吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T05:58:18.733

听起来您正在寻找一种全局方法来处理所有 ajax 完成事件。你可以这样做。

```
$(document).ready(function () {
    $(document).ajaxComplete(function () { alert('ajax completed.') });
    $('#d').load("url-to-page", function (response, status, xhr) {
        if (status == "error") {
            var msg = "Sorry but there was an error: ";
            alert(msg + xhr.status + " " + xhr.statusText);
        }
    });
}); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-04-27T21:33:55.973

几天前我偶然发现了这个问题，当时使用了你对你问题的回答，但后来我偶然发现了[imagesLoaded](http://imagesloaded.desandro.com/)插件，它可能对未来的其他人有所帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T05:26:21.703

我想你没有。您只需要触发将在 ajax 完成后执行的成功 ajax 事件。对你来说已经足够了。对于 ajax 返回的特定元素，您不需要像 .load() 这样的事件。但是您可以尝试将 load() 事件附加到元素，例如在服务器返回 html 之后但在它插入到 DOM 之前*

# whmcs - 基于 whmcs 中的用户信用的开票

> ID：10908564
> 
> 赞同：0
> 
> 时间：2012-06-06T05:22:57.337
> 
> 标签：whmcs, ticket-system

我想给所有用户默认的 50 积分，当他们打开票时（减去 5 积分），如果我为他们做某事，我会从该用户那里减去更多积分。当信贷结束时，他们必须购买信贷以获得更多支持。whmcs 或任何类似的支持脚本是否有这样的插件？我不希望我的客户滥用我为他们提供的支持，他们通常倾向于滥用它，并期望我仅仅因为我提供支持而免费为他们做任何事情。这可能与 whmcs 或任何其他脚本吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-30T07:03:03.333

我怀疑这可以通过标准的 WHMCS 方式来完成。WHMCS 的理念是销售具有经常性（每月、每季度等）或一次性付款的产品。您要销售的产品（支持访问）与上面不同：它要求客户在活动中付费（提交票证）。

# c# - 使页面会话在 ASP MVC 3 中过期的可能方法？（“注销问题后按返回按钮”

> ID：10908565
> 
> 赞同：1
> 
> 时间：2012-06-06T05:22:56.980
> 
> 标签：c#, asp.net-mvc-3, razor

我目前正在使用用户身份验证的 MVC3 网站。

我有这个安全问题，我想阻止用户在成功从页面注销后按返回按钮重新登录。

我研究了很多解决方案，但是我不明白如何将它应用到我的项目中。在MVC3中可以做到吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:43:59.900

John 解决方案的问题在于，缓存实际上非常有用，您可能不想从应用程序中删除此功能。

解决此问题的一种简单方法是在用户注销时强制您的输出 html 页面自行刷新。这可以通过在请求开始时使用 JavaScript 将 ajax 请求发送回您的服务器来完成，并验证用户是否仍然登录。如果用户已注销，只需执行客户端重定向到相同的页。这应该可以有效地解决您的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T06:54:55.120

您没有重新登录，您只是从浏览器缓存中查看页面。如果您尝试调试，您​​将看到浏览器上的后退按钮上没有执行任何代码。如果您在注销并按回后尝试单击某些内容，您将被重定向到登录页面（如果您保留默认的 mvc3 应用程序行为）。

有几种解决方案，这是我的看法：

1.  您可以制作自定义 ActionFilterAttribute，以防止在控制器上缓存，或/和类似的操作，然后只需将其应用于操作/控制器：

    ```
    public class NoClientCache : ActionFilterAttribute
    {
        public override void OnResultExecuting(ResultExecutingContext filterContext)
        {
            filterContext.HttpContext.Response.Cache.SetExpires(DateTime.UtcNow.AddDays(-1));
            filterContext.HttpContext.Response.Cache.SetValidUntilExpires(false);
            filterContext.HttpContext.Response.Cache.SetRevalidation(HttpCacheRevalidation.AllCaches);
            filterContext.HttpContext.Response.Cache.SetCacheability(HttpCacheability.ServerAndNoCache);
            filterContext.HttpContext.Response.Cache.SetNoStore();

            base.OnResultExecuting(filterContext);
        }
    } 
    ```

2.  您可以通过触发浏览器客户端执行注销后强制刷新

    历史.go(1);

**补充：** 如果您从单个位置注销，您应该使用第一种方法，但如果您的注销按钮在布局页面上，禁用所有页面上的缓存会很糟糕，所以第二种方法似乎是要走的路。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T06:23:40.003

当用户单击后退按钮时，浏览器只是重新显示缓存页面。

如果您希望浏览器不缓存页面并防止这种情况发生，您必须使用 HTTP 响应标头来指示它。

您需要运行以下代码以及您不想缓存的每个 HTTP 响应：

```
HttpContext.Current.Response.AddHeader("Cache-Control", "no-cache");
HttpContext.Current.Response.AddHeader("Cache-Control", "private"); //to be safe cross browser 
```

如果您将此代码包含在自定义基本控制器（如下）中，则可以避免整个站点的代码重复：

```
public class CustomBaseController : Controller
{
    protected override void OnResultExecuting(ResultExecutingContext context)
    {   
        HttpContext.Current.Response.AddHeader("Cache-Control", "no-cache");
        HttpContext.Current.Response.AddHeader("Cache-Control", "private"); //to be safe cross browser
    }
} 
```

如果您使用上述方法，请确保您的所有控制器都从“CustomBaseController”继承，当您不希望它们允许用户使用后退按钮查看缓存页面时

# javascript - Rails 3 Ajax 搜索

> ID：10908566
> 
> 赞同：0
> 
> 时间：2012-06-06T05:23:00.367
> 
> 标签：javascript, ruby-on-rails, ruby-on-rails-3

我正在关注 railscasts rails ajax 教程并遇到了一些麻烦，我是否遗漏了什么，或者该教程仅适用于 pre rails 3.1？

控制器：

```
def index

    @notes = Note.search(params[:search])

end 
```

模型：

```
class Note < ActiveRecord::Base

    def self.search(search)
      if search
        where('name LIKE ?', "%#{search}%")
      else
        scoped
      end
    end

end 
```

看法：

```
<%= form_tag notes_path, :method => 'get', :id => "notes_search" do %>
  <p>
    <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Search", :name => nil %>
  </p>
  <div id="notes"><%= render 'notes' %></div>
<% end %> 
```

咖啡脚本文件：

```
jQuery ->
  # Ajax sorting and pagination on click
  $('#notes td.sortable a, #notes .pagination a').live('click', ->
    $.getScript(this.href)
    false
  )
  # Ajax search on submit
  $('#notes_search').submit( ->
    $.get(this.action, $(this).serialize(), null, 'script')
    false
  )
  # Ajax search on keyup
  $('#products_search input').keyup( ->
    $.get($("#notes_search").attr("action"), $("#notes_search").serialize(), null, 'script')
    false
  ) 
```

错误在这一行：

```
ActionView::MissingTemplate in Notes#index

   <div id="notes"><%= render 'notes' %></div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:51:49.537

该`ActionView::MissingTemplate`异常基本上表示您尝试呈现的操作没有视图文件。

您需要有一个名为“_notes.html.erb”的局部视图才能工作。在视图内部，您应该有类似的内容：

```
<%= hidden_field_tag :direction, params[:direction] %>
<%= hidden_field_tag :sort, params[:sort] %>
<%= will_paginate @notes %> 
```

我从您所指的教程中获取了该代码[http://railscasts.com/episodes/240-search-sort-paginate-with-ajax](http://railscasts.com/episodes/240-search-sort-paginate-with-ajax)，也许您没有这些参数或没有安装 will_paginate gem但是，请根据您的需要进行调整。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T08:13:37.027

This totally irrelevant to the tutorial but why don't you consider using [datatables](http://datatables.net/). Does the same thing as the railscasts tutorial and also has full documentation and API to make it fully customizable.

# string - 如何在黑莓中拆分字符串

> ID：10908571
> 
> 赞同：0
> 
> 时间：2012-06-06T05:24:11.347
> 
> 标签：string, blackberry, split

我想知道如何在黑莓中拆分字符串 str.split() 函数似乎不可用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:53:38.573

看看这个，最简单的

```
 public static String[] split(String str, char c) {
        int index = str.indexOf(c);
        int count = 0;
        for (int i = 0; i < str.length(); i++) {
            if (str.charAt(i) == c)
                count++;
        }

        String[] words = new String[++count];
        int counter = 0;
        while (index >= 0) {
            words[counter] = str.substring(0, index);
            str = str.substring(index + 1,str.length()).trim();
            counter++;
            index = str.indexOf(c);
        }

        words[counter] = str;           
        return words;
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:32:12.000

是的，你是对的，黑莓 api 中没有提供 split() 函数。我必须使用它，所以我通过这种方式做到了。可能对你也有帮助。

```
public static String[] split(String original, String separator) {

    Vector nodes = new Vector();               
    int index = original.indexOf(separator);      
    while (index >= 0) {                   
        nodes.addElement(original.substring(0, index));           
        original = original.substring(index + separator.length());          
        index = original.indexOf(separator);       
    }       
    nodes.addElement(original);              
    String[] result = new String[nodes.size()];       
    if (nodes.size() > 0) {           
        for (int loop = 0; loop < nodes.size(); loop++) {               
            result[loop] = (String) nodes.elementAt(loop);               
            System.out.println("Value inside result is ........ "+ result[loop]);           
        }       
    }      
    return result;   
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T13:32:48.777

@YAK：试试这个..

```
public void split(String Word,Char delimiter)
String[] arr = new String[5];
    String text = "pen, pencil,book,123,note";
    text=text+delimiter;
    int n = 0;
    for (int i = 0; i < text.length(); i++)
    {
            int s = text.indexOf(delimiter);
            add(new RichTextField(Integer.toString(s)));
            if(s==0)
            {
             arr[n]="null";
             if(text.length()>1)
             {
             text = text.substring(1,text.length());
             i = 0;
                n++;
             }
            }
            else
            {
            arr[n] = text.substring(0, s);
            s = s + 1;
            text = text.substring(s,text.length());
           // add(new RichTextField("txt"+text));
            i = 0;
            n++;
            }       

    }
    for (int i = 0; i < arr.length; i++)
    {
        if (arr[i] != null)
        {
            add(new RichTextField("value: "+arr[i]));

        }

    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T08:13:08.190

这是首选链接

[http://supportforums.blackberry.com/t5/Java-Development/String-Manipulation-split-replace-replaceAll/ta-p/620038](http://supportforums.blackberry.com/t5/Java-Development/String-Manipulation-split-replace-replaceAll/ta-p/620038)

如果上面的链接不起作用，那么请继续关注

```
public String[] split(String strString, String strDelimiter)
    {
        int iOccurrences = 0;
        int iIndexOfInnerString = 0;
        int iIndexOfDelimiter = 0;
        int iCounter = 0;

        // Check for null input strings.
        if (strString == null)
        {
            throw new NullPointerException("Input string cannot be null.");
        }
        // Check for null or empty delimiter
        // strings.
        if (strDelimiter.length() <= 0 || strDelimiter == null)
        {
            throw new NullPointerException("Delimeter cannot be null or empty.");
        }

        // If strString begins with delimiter
        // then remove it in
        // order
        // to comply with the desired format.

        if (strString.startsWith(strDelimiter))
        {
            strString = strString.substring(strDelimiter.length());
        }

        // If strString does not end with the
        // delimiter then add it
        // to the string in order to comply with
        // the desired format.
        if (!strString.endsWith(strDelimiter))
        {
            strString += strDelimiter;
        }

        // Count occurrences of the delimiter in
        // the string.
        // Occurrences should be the same amount
        // of inner strings.
        while((iIndexOfDelimiter= strString.indexOf(strDelimiter,iIndexOfInnerString))!=-1)
        {
            iOccurrences += 1;
            iIndexOfInnerString = iIndexOfDelimiter + strDelimiter.length();
        }

        // Declare the array with the correct
        // size.
        String[] strArray = new String[iOccurrences];

        // Reset the indices.
        iIndexOfInnerString = 0;
        iIndexOfDelimiter = 0;

        // Walk across the string again and this
        // time add the
        // strings to the array.
        while((iIndexOfDelimiter= strString.indexOf(strDelimiter,iIndexOfInnerString))!=-1)
        {

            // Add string to
            // array.
            strArray[iCounter] = strString.substring(iIndexOfInnerString, iIndexOfDelimiter);

            // Increment the
            // index to the next
            // character after
            // the next
            // delimiter.
            iIndexOfInnerString = iIndexOfDelimiter + strDelimiter.length();

            // Inc the counter.
            iCounter += 1;
        }
            return strArray;
    } 
```

# java - URLClassLoader.addURL(URL) 是否尊重 META-INF/MANIFEST.MF

> ID：10908573
> 
> 赞同：2
> 
> 时间：2012-06-06T05:24:18.890
> 
> 标签：java, manifest.mf, urlclassloader

如果我有一个 jar，其中包含`MANIFEST.MF`. 如果我将 jar 添加到 a `URLClassLoader`，`Class-Path`条目中的 jar 是否也添加到`classloader`？我是否需要内省我想添加到的罐子`classloader`以检测到这一点并调用`addURL`它们中的每一个（递归地）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:56:54.633

根据 sun.misc.URLClassPath 的源代码，它从 JDK 1.6 开始执行，但未指定，因此请自行选择 ;-)

# android - 如何使用phonegap保存联系人

> ID：10908579
> 
> 赞同：0
> 
> 时间：2012-06-06T05:24:50.367
> 
> 标签：android, cordova, android-contacts

感谢之前的回复，

我正在尝试使用电话间隙添加联系人，我使用了`

```
var phoneNumbers = [];
phoneNumbers[0] = new ContactField('work', '1234567890', false);
phoneNumbers[1] = new ContactField('mobile', '1234567890123456', true); // preferred number
phoneNumbers[2] = new ContactField('home', '1234567890', false);
contact.phoneNumbers = phoneNumbers; contact.save(onSaveSuccess,onSaveError);` 
```

但是此代码正在将**联系人**保存在 Google 中。而不是这个，我想存储在我的本地联系人存储中。是否有可能将联系人存储在本地。

请指导我弄清楚。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:28:47.850

```
function writeLocalStorage()
{
    window.localStorage.setItem("Username", "name");
    window.localStorage.setItem("ph_no", "no.");
    //here code for get the item.
 } 
```

可能您必须根据您的要求更改功能体，我希望它可以工作！

更多请看[这里](http://docs.phonegap.com/en/1.7.0/cordova_storage_storage.md.html#localStorage)

# windows-mobile - 从 SQL Server CE 数据库快速填充 DataGrid？

> ID：10908580
> 
> 赞同：0
> 
> 时间：2012-06-06T05:24:55.137
> 
> 标签：windows-mobile, compact-framework, sql-server-ce

我有一个 SQL Server CE 数据库，我需要从那里填充一个数据网格，它都在 Windows Mobile 上运行，这显然非常慢。

我目前可能不是最好的方法是我从一个用作数据源的类中创建一个列表，然后填充该列表并将数据网格设置为将其数据源作为列表。

这非常慢，因为我正在`SqlCeReader.read()`为每一行进行操作。

有没有办法更快地做到这一点，还是我搞砸了？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:54:53.217

您可以使用 SqlCEResultSet - [http://msdn.microsoft.com/en-US/library/bb219485(v=sql.90](http://msdn.microsoft.com/en-US/library/bb219485(v=sql.90) )

# php - 用 JavaScript 实现 PHP 字符串异或

> ID：10908584
> 
> 赞同：7
> 
> 时间：2012-06-06T05:25:17.960
> 
> 标签：php, javascript, string, xor

我想将此 PHP 代码`$a ^ $b`（其中 a 的长度为 16，b 的长度为 32）转换为 javascript 代码。这是我的实现。

```
 var xor = "";
    for (var i = 0; i < a.length; i++) {
        xor += String.fromCharCode(a.charCodeAt(i) ^ b.charCodeAt(i));
    }
    xor = b.substr(-16) + xor; 
```

然而，结果却不尽相同。请帮我弄清楚。谢谢。

顺便说一句，这是我正在处理的代码部分：

```
 var secret = "secret";
    var password = "password";
    var chal = "2ba5565a539c57c1ce2356e218faa321";
    var hexchal = php.pack('H32', chal);
    var newchal, newpwd, pappassword;

    newchal = php.pack('H*', php.md5(hexchal + secret));
    newpwd = php.pack("a32", password);
    var xor = "";
    for (var i = 0; i < newchal.length; i++) {
        xor += String.fromCharCode(newchal.charCodeAt(i) ^ newpwd.charCodeAt(i));
    }
    xor = newpwd.substr(-16) + xor; 
```

对应的PHP代码：

```
 <?php
    $secret = "secret";
    $password = "password";
    $chal = "2ba5565a539c57c1ce2356e218faa321";

    $hexchal = pack ("H32", $chal);
    $newchal = pack ("H*", md5($hexchal . $secret));

    $newpwd = pack("a32", $password);
    $pappassword = implode ("", unpack("H32", ($newpwd ^ $newchal)));
    echo $pappassword;
    ?> 
```

其中 a 和 b 分别是 newchal 和 newpwd。而 php.func()s 来自[http://phpjs.org/](http://phpjs.org/)。预期输出为“821f984aa1062e56dbdc8f77454e5eb3”。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T05:37:50.990

我几乎从字面上使用了您的代码：

```
String.prototype.xor = function(other)
{
  var xor = "";
  for (var i = 0; i < this.length && i < other.length; ++i) {
      xor += String.fromCharCode(this.charCodeAt(i) ^ other.charCodeAt(i));
  }
  return xor;
} 
```

*当到达任*一字符串的末尾时，循环应该停止。

经测试：

```
String.prototype.toHex = function() {
    var hex = '', tmp;
    for(var i=0; i<this.length; i++) {
        tmp = this.charCodeAt(i).toString(16)
        if (tmp.length == 1) {
            tmp = '0' + tmp;
        }
        hex += tmp
    }
    return hex;
}

var x = "password\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000";
var y = "\u00f2~\u00eb9\u00d6i\\2\u00db\u00dc\u008fwEN^\u00b3";

x.xor(y).toHex(); 
```

输出：

```
821f984aa162e56dbdc8f77454e5eb3 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:32:13.940

如果 b 的长度超过，您忘记添加检查：

```
if(i < b.length){
    xor += String.fromCharCode(a.charCodeAt(i) ^ b.charCodeAt(i));
}else{
    xor += a.charAt(i);
} 
```

# python - 如何使用 Plone 4.1 中的 Products.Reflecto 对 FS 中的文件进行版本控制？

> ID：10908588
> 
> 赞同：1
> 
> 时间：2012-06-06T05:25:32.920
> 
> 标签：python, plone

我在 Linux debian 上的 Plone 4.1 中添加了 Products.Reflecto 2.5.1。因此文件系统上的文件可以直接访问，但我无法访问这些文件进行编辑。例如 Products.ImageEditor 在我的 plone 站点的反射器中编辑 FS 上的图像。我也不能像在任何其他 plone 文档上传中那样编辑文档文件，即描述。我也无法让collective.quickupload portlet 允许多次上传。这怎么可能实现。**因此，版本控制如何帮助这些上传的文件，即 Reflecto 文件**。历史记录没有显示在 Plone 之外修改的文件的任何条目（那是自然的）。如何在 Reflecto 中对上传的文件使用版本控制？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:42:13.067

我是 Reflecto 的原作者之一。

从[Reflecto 的 PyPi 页面](http://pypi.python.org/pypi/Products.Reflecto)：

> Reflecto 是一种将文件系统的一部分合并到 Plone 站点中的工具。它允许您浏览文件系统层次结构并访问其中的文件。文件表示为简单的可下载对象，而不是完整的 CMF 或 Plone 内容类型。

因此，Reflecto 旨在显示 Plone 网站内的文件系统内容，但它明确指出这些文件不是完整的 Plone 内容类型。

我不确定您有什么要求或版本控制的确切含义；作为一名软件开发人员，我将其定义为[修订控制](https://en.wikipedia.org/wiki/Revision_control)，并且因为您在这里处理的是完整的文件系统，所以我将使用当前的修订控制包，例如 SVN、git 或 mercurial 来完成这样的任务。这当然不会集成到 Plone 中；Reflecto 并没有为您提供那种级别的集成。

因此，听起来 Reflecto 是解决您问题的错误软件包。也许您应该考虑将您的内容导入 Plone 以将文件转换为完整的内容项？

# playframework-2.0 - 如何在 java 中使用 play 2.0 编写自定义约束

> ID：10908591
> 
> 赞同：1
> 
> 时间：2012-06-06T05:26:04.777
> 
> 标签：playframework-2.0

我正在寻找关于如何在 java 中为 playframework 2.0 编写自定义约束的描述？类似于 for [play 1.x](https://stackoverflow.com/questions/3690461/howto-write-custom-checks-validation-for-the-play-framework)中的描述 有没有人提示在哪里可以找到它？[官方文档](http://www.playframework.org/documentation/2.0.1/JavaForms)中的描述实在是太少了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:28:31.167

Play 2.0 使用 Spring 数据绑定器（至少对于 Java）。Spring 数据绑定器使用 JSR-303 Bean Validation API。因此，如果要编写自定义约束，则应编写“JSR-303 自定义约束”。

IMO 这是一个很好的入门教程：[链接](http://www.captaindebug.com/2011/07/writng-jsr-303-custom-constraint_26.html)。

# core-data - 启动 Core Data 应用程序时在后台配置 NSFetchedResultsController

> ID：10908592
> 
> 赞同：2
> 
> 时间：2012-06-06T05:26:06.570
> 
> 标签：core-data, nsfetchedresultscontroller, nsmanagedobjectcontext

我已经使用通常的样板代码设置了一个 Core Data 应用程序，并且 RootViewController 通过调用它来初始化 FRC：

```
- (NSFetchedResultsController *)fetchedResultsController 
{
    if (__fetchedResultsController != nil) 
    {
        return __fetchedResultsController;
    }
    // configure the fetchRequest, sectionKey and cacheName
    __fetchedResultsController = [[NSFetchedResultsController alloc] initWithFetchRequest: fetchRequest 
                                                                    managedObjectContext: self.managedObjectContext 
                                                                      sectionNameKeyPath: sectionKey 
                                                                               cacheName: cacheName];
    return __fetchedResultsController;
} 
```

我见过的所有示例代码都是这样做的。但是，我有一个庞大的数据集和超过 15,000 个条目，在 iPhone 4S 上启动应用程序大约需要 5 秒。这是启用缓存（没有它，需要 11 秒）和索引属性。

所以我希望能够显示一个`UIActivityIndicatorView`应用程序正在等待加载。我知道通常如何在后台线程中加载核心数据对象，然后将它们合并回主线程，但是如何在后台线程中初始化 FRC，以便在后台加载和分割所有对象？

我知道我可以加载所有对象并将它们在后台线程中分区到自定义字典中并使用它来呈现数据，但我宁愿使用标准的 FRC 调用和委托。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T07:58:36.290

我不太确定`NSFetchedResultsController`在后台使用 是什么意思，但根据我的经验，您可以简单地为您的 fetch 请求设置批量大小，如下所示：

```
[fetchRequest setFetchBatchSize:20]; 
```

以这种方式，在启动期间加载前 20 个元素，当您滚动下一个 20 时，依此类推。此外，您可以只选择要获取的属性`- (void)setPropertiesToFetch:(NSArray *)values`。

另一种方法是让（后台）任务开始在后台获取对象。我认为当在后台获取时，对象会以某种方式被缓存（但我不太确定），因此您可以更快地从主线程访问它们。

希望能帮助到你。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-07T00:30:56.760

我想我已经弄清楚了……您可以在后台线程中创建 FRC 并在主线程中进行获取：

```
- (NSFetchedResultsController *)fetchedResultsController 
{
    if (__fetchedResultsController != nil) 
    {
        return __fetchedResultsController;
    }

    // create something to pass back to the first time FRC is initialized without fetching
    __block NSFetchedResultsController *aFetchedResultsController = [[NSFetchedResultsController alloc] initWithFetchRequest:fetchRequest managedObjectContext:self.managedObjectContext sectionNameKeyPath:nil cacheName:nil];
    aFetchedResultsController.delegate = self;
    [self.list_spinner startAnimating];

    dispatch_async(self.filterMainQueue, ^{

           NSFetchedResultsController *newFetchedResultsController = [[NSFetchedResultsController alloc] initWithFetchRequest: fetchRequest 
                                                                                                         managedObjectContext: self.managedObjectContext 
                                                                                                           sectionNameKeyPath: sectionKey 
                                                                                                                    cacheName: cacheName];
           dispatch_async(dispatch_get_main_queue(), ^{ 
               // stop the spinner here
               [self.list_spinner stopAnimating];

               NSError *error = nil;
               if (![newFetchedResultsController performFetch:&error]) 
               {
                   NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
                   [SimpleListAppDelegate showCoreDataError: @"SimpleListViewController - FRC"];
               }
               __fetchedResultsController = nil;
               newFetchedResultsController.delegate = self;
               __fetchedResultsController = newFetchedResultsController;
               [self.tableView reloadData];
           });
         });

    return aFetchedResultsController;
} 
```

# c# - 如何从 Windows 服务提供网页？

> ID：10908595
> 
> 赞同：1
> 
> 时间：2012-06-06T05:26:30.017
> 
> 标签：c#, .net, web-services, windows-services, webserver

我有一个 .NET windows 服务，我希望用户能够使用 Web UI 对其进行配置。是否可以使用 Windows 服务而不是某种外部 Web 服务器（如 apache 或 IIS）来提供 Web UI？如果有帮助，Windows 服务还托管 WCF 和 RESTful Web 服务。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:59:56.283

如果你愿意提供静态页面，你可以在你的 RESTful WCF 服务中实现这个方法；

```
 public Message HtmlContent()
    {
        return WebOperationContext.Current.CreateTextResponse("<h1>Hello World</h1>", "text/html");
    } 
```

# java - 当使用同步锁定写入时，是否需要 volatile 来保护以避免读取旧值或不完整值？

> ID：10908596
> 
> 赞同：1
> 
> 时间：2012-06-06T05:26:31.790
> 
> 标签：java, multithreading, volatile, synchronized

如题。我使用同步来保护多线程写入。但我想知道是否需要添加 volatile 来保护读取。（正如我们所知，我也可以使用同步来保护读取，但它会阻止读取和写入一致。更重要的是，如果我使用可重入锁。它也会阻止。）

```
private volatile BigDecimal cacheMiss = BigDecimal.ZERO;

public  BigDecimal getCacheHit() {
    return cacheHit;
}

public void increaseCacheMiss() {
    synchronized (cacheMissLock) {
        this.cacheMiss = this.cacheMiss.add(STEP);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:32:16.197

如果`cacheMiss`可以从多个线程更新，那么`volatile`如果您绝对需要读取最新值，则需要声明它。否则，线程可能正在读取线程本地值（隐藏在寄存器或核心缓存中），而不会费心去主内存查看最新值。

# android - 在 android 画布上绘制有角度的矩形/弧线

> ID：10908599
> 
> 赞同：1
> 
> 时间：2012-06-06T05:26:46.743
> 
> 标签：android, angle, geometric-arc

我正在尝试为 android 设备修改操纵杆组件。目前该组件能够跟踪您手指的 x 和 y 位置并在那里绘制一个小圆圈。现在我要做的是从中心到手指的 x 和 y 位置绘制一个矩形或圆弧。

据我所知，矩形只接受顶部、左侧、右侧和底部的值，这仅允许我水平或垂直绘制矩形。如果有人知道另一种画法，那就太棒了。

我已经设法使用 canvas.drawLine 得到一个直矩形但是我现在想使用 drawArc 函数使矩形弯曲，但这需要 RectF 的参数。

我目前使用的代码是：

```
@Override
protected void onDraw(Canvas canvas) {

    int centerX = (getWidth())/2;
    int centerY = (getHeight())/2;
    Paint p = new Paint();
    p.setColor(buttonColor);

    RadialGradient gradient = new RadialGradient( centerX, centerY, joystickRadius,
    backgroundColor,circleColor, android.graphics.Shader.TileMode.CLAMP);

    //draw an outer circle
    p.setDither(true);
    p.setShader(gradient);
    canvas.drawCircle( (int) centerX, (int) centerY, joystickRadius, p);

    p.setShader(null);
    p.setColor(buttonColor);
    p.setStyle(Paint.Style.FILL);

    //draw the joystick thumbpad
    canvas.drawCircle(x, y, buttonRadius, p);

    // draw a line from the centre of outer circle to the center of the 
    // thumbpad. I want this to be a curved rectangle instead.
    canvas.drawLine( centerX, centerY, x, y, p);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:29:05.197

我假设您正在尝试从中心到接触点绘制一个矩形？

看看 Canvas.save/restore。一些伪代码：

```
canvas.save()

canvas.rotate(angleOfRectangle)

canvas.drawRectangle(size)

canvas.restore() 
```

这个想法是保存当前画布状态，旋转整个画布，绘制矩形，然后恢复画布状态以“忘记”旋转”。

[编辑]

感谢马特的更正。

希望能帮助到你...

# jasper-reports - 如何在 ireport 4.5.0 中合并单元格

> ID：10908601
> 
> 赞同：2
> 
> 时间：2012-06-06T05:27:02.143
> 
> 标签：jasper-reports, ireport

我使用的是 iReport 4.5.0，因为我使用了一张 5 列 5 行的表格。现在在第三行，我想将单元格编号 2 和 3 组合在一起。意味着第三行将有 4 个列。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T19:41:44.700

你是在结合两个字段的内容吗？您可以开始一个新的文本字段并编辑表达式以读取：

$F{field1} + " " + $F{field2}

# iphone - 在 iphone 中只显示一次弹出窗口？

> ID：10908603
> 
> 赞同：0
> 
> 时间：2012-06-06T05:27:06.987
> 
> 标签：iphone, ios, uiview, uiviewcontroller, uiviewanimation

我有一个示例应用程序。该应用程序包含弹出视图，当我登录屏幕进入主页视图加载弹出窗口时完美显示我的问题是弹出窗口仅在主页显示一次再次来到主页弹出窗口不需要？怎么可能做到这一点。任何人给出解决方案

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T05:29:07.177

在您的用户默认值中存储一些 BOOL 值。在显示弹出窗口之前检查该变量的值。

```
 if([[NSUserDefaults standardUserDefaults] boolForKey:@"popDisplayed"] == FALSE)
 {
      [[NSUserDefaults standardUserDefaults] setBool:TRUE forKey:@"popDisplayed"];
      [[NSUserDefaults standardUserDefaults] synchronize];
      //Alert code will go here...
 } 
```

在您尝试显示警报之前放置上面的代码。

因此，它只会显示一次警报。即使您重新启动应用程序，它也不会再次显示它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:37:32.910

将您的`pop up`显示代码放入`viewDidLoad`. 然后它只会一次出现。我认为您编写了显示弹出窗口的代码`viewWillAppear`。每当您导航到该`home page`. 将`viewDidLoad`只被一次调用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-06-23T17:08:21.670

快速**Swift 3**版本：

```
if !UserDefaults.standard.bool(forKey: "wasAlreadyShown") {
    UserDefaults.standard.set(true, forKey: "wasAlreadyShown")     

    // Show your Dialog...

} 
```

# java - XMLBeans - 如何控制生成的类文件？windows 与 linux 的问题

> ID：10908604
> 
> 赞同：1
> 
> 时间：2012-06-06T05:27:18.803
> 
> 标签：java, xml, xmlbeans

我是这方面的新手，但我正在尝试将 Windows 应用程序移植到 Linux 并遇到 xmlbeans 的问题。我们有一些生成类文件的 xsd 文件。在 Windows 上，我会得到`Driver.class(2k)`and `Driver2.class(10k)`。在 Linux 上，通过 Maven 构建相同的版本，我将获得`Driver.class(10k)`和`Driver2.class(2k)`. 因此，似乎存在一个排序问题，导致使用这些类的 Linux 构建应用程序无法编译。使用 Driver/Driver 的 java 代码因类型不兼容而出错：

找到：`xx.xmlbinding.Driver2` 需要：`xx.xmlbinding.Driver`

不同的xsd文件在文件中具有相同的complexType：

```
<xsd:complexType name="Driver"> 
```

关于如何解决这个问题的任何见解？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T21:20:51.283

为什么你有两个具有相同命名空间和名称的驱动程序类型？

如果 'Driver' 类型是相同类型并且在两个架构中重复，请将 Driver 移动到单独的架构并使用`<import>`. 如果这两种模式和驱动程序类型确实不同，请将其移动到不同的命名空间或给它一个不同的名称。如果这不可能在单独的步骤中编译这两个模式 - 然后您需要将它们加载到单独的类加载器中以避免在运行时发生冲突。

# nhibernate - 如何优化这个 Nhibernate HQL 查询？

> ID：10908606
> 
> 赞同：1
> 
> 时间：2012-06-06T05:27:29.207
> 
> 标签：nhibernate, query-optimization, hql

这是我编写的更复杂的 HQL 查询之一。在这种能力下，我对 HQL 还是很陌生，可以使用一些反馈。

我会在本机 sql 中做的一件事是将日期comarison 内容更改为来自单个查询作为表，即

```
FROM 
(
    SELECT MIN, MAX
    FROM ..
) T 
```

这是方法：

```
public IList<Order> GetOrdersBy(string referenceNumber = null, int? customerId = null, int? carrierId = null, DateTime? startDate = null,
            DateTime? endDate = null, int? websiteId = null, OrderStatus? status = null)
        {

            var byStatusHql =
            @"
            select odor
            from Order odor
            join fetch odor._orderStatusLog statusLog
            where 
            (:referenceNumber is null or odor.Quote.ReferenceNumber=:referenceNumber) and
            (:customerId is null or odor.Quote.Customer.CustomerID=:customerId) and
            (:carrierId is null or odor.Quote.Carrier.CarrierID=:carrierId) and
            (:websiteId is null or odor.Quote.Customer.Website.WebsiteID=:websiteId) and
            (
                :startDate is null or :startDate >
                (select min(CreatedDate) from OrderStatusLog lg where lg in elements(odor._orderStatusLog))
            ) and
            (
                :endDate is null or :endDate <= 
                (select max(CreatedDate) from OrderStatusLog lg where lg in elements(odor._orderStatusLog))
            ) and
            (
                :status is null or :status = 
                (
                    select Status from OrderStatusLog lg where lg in elements(odor._orderStatusLog) 
                    and lg.OrderStatusLogID = (select max(OrderStatusLogID) from OrderStatusLog lgg where lgg in elements(odor._orderStatusLog))
                )

            )
            ";

            var query = Session.CreateQuery(byStatusHql);
            query.SetParameter("referenceNumber", referenceNumber)
                 .SetParameter("customerId", customerId)
                 .SetParameter("carrierId", carrierId)
                 .SetParameter("websiteId", websiteId)
                 .SetParameter("startDate", startDate)
                 .SetParameter("endDate", endDate)
                 .SetParameter("status", status)
            ;

            return query.List<Order>();            
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:51:46.573

您的意思是在性能或可读性方面“优化”吗？

考虑到性能，我会使用 Criteria 或 QueryOver 来仅添加实际使用的过滤器参数。条件不是那么强大，并且这种情况下的语法会更复杂，但动态组合查询更容易。

您可以尝试对日志上的聚合使用单个子查询：

```
and exists (
    select min(CreatedDate), max(CreatedDate), max(OrderStatusLogID) 
    from OrderStatusLog lg 
    where lg in elements(odor._orderStatusLog)
    having 
      :startDate is null or :startDate > min(CreatedDate)
      and :endDate is null or :endDate <= max(CreatedDate)
      and :status is null or :status = (
        select lgg.Status from OrderStatusLog lgg 
        where lgg.id = max(OrderStatusLogID))) 
```

我不知道这一切是否有效。最后一个，带有状态，对于一个有子句来说可能太多了。

但是，它的性能不是很好，因为当参数为空时，可以省略一些子查询。我怀疑 DBMS 是否足够聪明以优化它。

# directshow - 如何获得 VorbisFormat2

> ID：10908609
> 
> 赞同：1
> 
> 时间：2012-06-06T05:27:39.440
> 
> 标签：directshow, ogg, ms-media-foundation, decoder, oggvorbis

我尝试在 mediafoundation 中解码 ogg。现在我看到了 dshow 过滤器，但我不明白如何创建 VORBISFORMAT2

```
struct VORBISFORMAT2
{
unsigned long channels;
unsigned long samplesPerSec;
unsigned long bitsPerSample;
unsigned long headerSize[3];  // 0: Identification, 1: Comment, 2: CodecSetup
};

VorbisDecodeInputPin::SetMediaType(const CMediaType* inMediaType) 
{
  ...
  mVorbisDecoder.Init(reinterpret_cast<VORBISFORMAT2*>(inMediaType->pbFormat));
} 
```

我不知道如何在 mediafoundation 中获取 inMediaType->pbFormat。或者如何使用 libvorbis 获取 VORBISFORMAT2 的标头？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T13:02:11.607

我现在已经通过使用 vorbis_analysis_headerout 解决了

# wpf - WPF：从代码隐藏更改列表框项的前景属性

> ID：10908612
> 
> 赞同：0
> 
> 时间：2012-06-06T05:28:43.060
> 
> 标签：wpf, listbox

我在 WPF 中有 ListBox 控件，该控件由一些可观察的 Type:"Bus" 集合填充。

Bus 是一个包含两个属性的类

1.  总线名称
2.  总线类型

所以根据总线类型，这里的项目应该有两种颜色中的一种

巴士类型：

1.  卧铺 - 绿色
2.  非卧铺 - 蓝色

所有这些都应该发生在 WPF 代码后面。

**有谁知道该怎么做.. [我不是 WPF 专家.. 一些细节会更有帮助。]**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:03:31.263

你也可以通过后面的代码来做同样的事情..我们有以下方法来实现这一点..我希望这会对你有所帮助..

```
DataTrigger datatrigger = new DataTrigger();
datatrigger.Binding = new Binding("BusTypeID");
datatrigger.Value = 1;
datatrigger.Setters.Add(new Setter(ListBoxItem.BackgroundProperty, Brushes.Green));
listbox.Triggers.Add(datatrigger);

DataTrigger datatrigger2 = new DataTrigger();
datatrigger2.Binding = new Binding("BusTypeID");
datatrigger2.Value = 2;
datatrigger2.Setters.Add(new Setter(ListBoxItem.BackgroundProperty, Brushes.Red));
listbox.Triggers.Add(datatrigger2); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:49:31.007

设置 BusType 的整数值 Let Say, Sleeper = 1 Non Sleeper = 2

只需在您的集合中为 BusTypeID 添加一个属性

> ```
>  <Style.Triggers>
>             <DataTrigger Binding="{Binding BusTypeID}" Value="1">
>                     <Setter Property="Background" Value="Green"/>
>             </DataTrigger>
>             <DataTrigger Binding="{Binding BusTypeID}" Value="2">
>                     <Setter Property="Background" Value="Blue"/>
>             </DataTrigger>
> 
>     </Style.Triggers> </Style > 
> ```

# mysql - MySql 在视图中更改排序规则

> ID：10908616
> 
> 赞同：4
> 
> 时间：2012-06-06T05:29:14.870
> 
> 标签：mysql, collation, concat

我在mysql中有一个视图“name_all”，它的结构是

```
colName     varchar(30)  utf8_general_ci

date    varchar(76)     utf8_general_ci

name  varchar(43)   latin1_swedish_ci 
```

当我尝试运行查询时：

```
SELECT CONCAT(`colname`,' of Mr. ',`name`,' Expire on ',`date`) FROM name_all 
```

它给出错误：

```
 #1271 - Illegal mix of collations for operation 'concat'

"colName" is basically a Column Name which is used as a row in this View

"date" is mysql Date which is converted in this format '%a %D %b, %Y'

"name" is concatenation of firstname, middlename, lastname from a table 
```

我该如何解决这个问题，我的错误是什么？

当我运行查询 SHOW VARIABLES LIKE 'collat​​ion%' 结果是

```
 Variable_name         Value
  collation_connection  utf8_general_ci
  collation_database    latin1_swedish_ci
  collation_server      latin1_swedish_ci 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2017-01-04T03:41:17.200

对于遇到此线程的任何其他人，视图列的排序规则由基础表列确定，除非该列是视图中定义的硬编码字符串（例如，定义某些字符串值的 CASE）。在这些情况下，排序规则由视图创建期间指定的字符集确定。在视图定义期间，像 HeidiSQL 这样的导出客户端可能包含将字符集设置为默认值的可执行注释，而不是您的预期设置。当您重新运行定义时，您现在已经保存了不匹配的集合。运行“显示 viewName 的完整列”进行检查。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:34:10.883

即使您说“所有表格和列都在 latin1_swedish_ci 中”，您发布的内容是：

```
colName   varchar(30)   utf8_general_ci

date   varchar(76)   utf8_general_ci

name   varchar(43)   latin1_swedish_ci 
```

将 colName 和 date 排序规则更改为 latin1_swedish_ci 可能会解决您的问题。

# iphone - 在 sqlite 数据库中更改表查询

> ID：10908643
> 
> 赞同：0
> 
> 时间：2012-06-06T05:33:36.007
> 
> 标签：iphone, sqlite

我想从我的 sqlite 数据库中删除一列。我为此应用以下查询：

```
ALTER TABLE table_name DROP COLUMN column_name; 
```

但它给了我以下错误：

```
near "DROP": syntax error 
```

是 sqlite3 数据库中支持的删除列。如果是，那么这个查询有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:18:49.167

我尝试使用`ALTER TABLE User DROP COLUMN firstName;`只是为了查看它是否可以正常工作，但根据[此处](http://www.sqlite.com/lang.html)的文档，支持的唯一功能是 DROP TRIGGER、INDEX、TABLE 和 VIEW

我真的怀疑是否支持 DROP COLUMN。

编辑：在第 11 点，[您](http://sqlite.org/faq.html)可以找到问题的答案，内容如下

*SQLite 具有有限的 ALTER TABLE 支持，您可以使用它来将列添加到表的末尾或更改表的名称。如果要对表结构进行更复杂的更改，则必须重新创建表。您可以将现有数据保存到临时表中，删除旧表，创建新表，然后将数据从临时表中复制回来。*

```
For example, suppose you have a table named "t1" with columns names "a", "b", and "c" and that you want to delete column "c" from this table. The following steps illustrate how this could be done:

    BEGIN TRANSACTION;
    CREATE TEMPORARY TABLE t1_backup(a,b);
    INSERT INTO t1_backup SELECT a,b FROM t1;
    DROP TABLE t1;
    CREATE TABLE t1(a,b);
    INSERT INTO t1 SELECT a,b FROM t1_backup;
    DROP TABLE t1_backup;
    COMMIT; 
```

# android - 我的按钮中的文本从下方剪切

> ID：10908644
> 
> 赞同：1
> 
> 时间：2012-06-06T05:33:41.353
> 
> 标签：android, android-button

我有 5 个按钮，将 9 个补丁图像设置为背景。但是这些按钮中的文本会从下方剪切。我以前使用的是另一个像素高度稍高的图像。效果很好，但我现在想使用这个图像。我之前的图像是 185 X 46，当前图像是 185 X 41。

毕竟他们是 9patch. 他们应该相应地伸展。请看一下这个截图。谢谢。 ![在此处输入图像描述](../Images/b739462ec8804dab956d277e3e476fbe.png)

这是我的按钮的 xml 代码

```
 <Button
                android:id="@+id/SplBtn"
                style="@style/shadowed_button"
                android:layout_width="match_parent"
                android:layout_height="40dip"
                android:text="@string/monthlyspecialsStr" /> 
```

这是这些按钮的样式。

```
<style name="shadowed_button">
        <item name="android:textSize">15sp</item>
        <item name="android:textColor">@drawable/button_textcolor_selector</item>
        <item name="android:textStyle">bold</item>
        <item name="android:layout_height">wrap_content</item>
        <item name="android:paddingRight">5dip</item>
        <item name="android:shadowColor">@color/black</item>
        <item name="android:shadowDx">0</item>
        <item name="android:shadowDy">-1</item>
        <item name="android:shadowRadius">1.5</item>
        <item  name="android:background">@drawable/button_background_selector_arrow</item>
        <item name="android:gravity">left|center_vertical</item>
        <item name="android:paddingLeft">40dip</item>
    </style> 
```

![9 补丁图像](../Images/a01ebe5765e36c66ae060fe31a216f56.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:39:47.713

问题是您的 9 个补丁协调点。让我们将垂直和水平点扩展到您的 9 个补丁图像中的完整范围。

# php - 为什么公私保护如此重要？

> ID：10908645
> 
> 赞同：15
> 
> 时间：2012-06-06T05:33:55.540
> 
> 标签：php, oop, class

人们一直告诉我，我应该在我的所有类属性和方法前使用公共、私有或受保护的访问修饰符。我真的不明白为什么。我是新手，所以请多多包涵，但我的看法是这样的：

*   我是唯一一个会处理我的代码的人。不是一个团队。

*   我已经知道一切意味着什么，加上使用告诉我所有声明的变量和属性的编辑器，我知道我不会踩到我使用过的变量。

我得到的一个解释是它“保护或隐藏”你的代码，不让那些可以看到它的人看到......但是在 PHP 中，我不知道用户首先会看到你的代码，谁我在隐瞒吗？如果他们可以看到我的代码，那么他们要么是黑客，要么在我的帐户中，所以我无论如何都无法阻止他们。

如果我在团队中处理大量代码，我可以理解，但对于小事情，这似乎没有必要。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-06-06T05:44:42.737

你不是在向任何人“隐藏”你的代码，那是胡说八道。

`protected`和`private`属性所做的是告诉 PHP你*打算如何使用它们*。当您创建一个类时，您通常应该知道您希望如何使用该类。您将拥有`public`其他代码可以与之交互的部分，以及您不希望其他代码直接访问的其他部分。通常，您希望将`public`类的各个部分限制为一组非常小的定义明确的方法，这些方法不会改变。因为一旦您在代码的其他部分使用它们，更改它们就会变得很痛苦。所有的`private`和`protected`东西都应该只能在类本身中访问，所以以后改变它就不成问题了。

如果您是唯一一个编写代码的人，您可能会说这就像不使用“私有部分”一样简单。但是你会犯错误，随着时间的推移你会忘记哪个部分属于哪里。将这些属性显式标记为`protected`或`private`让 PHP 帮助您不违反您自己的“使用条款”。*这是“不要碰这个”*的心理笔记和实际上锁定某物之间的区别。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-06T05:42:37.647

所谓的“封装”并不能保护您的代码免受他人侵害。任何有权访问您的源代码的人都已经知道那里有什么。如果他们没有来源，那么他们也无法对您的公开内容做任何特别的事情。

它的作用是防止不在类中的代码（因此不必知道类是如何做事的）不小心弄乱内部变量。这样，变量就不太可能以古怪的值结束——当它们出现时，您可以指向类并说损坏的代码在*那里*，而不是在应用程序的中间。

请注意，为了使它完全有用，您不能只为所有事情使用琐碎的设置器`public function setX($x) { $this->x = $x; }`- 这会破坏整个目的。你的对象应该尽可能地成为一个“黑匣子”，这在一定程度上意味着外部代码应该能够看到和修改尽可能少的内部状态。让类管理自己的状态，并使用方法来获取完成工作所需的其他内容。（这里的一个半明显的例外是其主要目的是传送数据的类型，但即使在那里，您也应该限制对任何非该数据的访问，并且此类数据的设置器理想情况下会验证它等等。）

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-06-06T05:43:07.383

我发现*运营商会帮助您不要踩到自己的脚*。随着我的应用程序变得越来越大，我有时会在制作一些早期的课程时忘记我最初的想法，并且使用访问修饰符来保护我有所帮助。*它还有助于更好地组织您的代码*，以便您了解什么是什么，而不是最终编写意大利面条式代码。此外，*万一有一天你最终为别人编程，而有人可能会查看你的代码，你不会*因为习惯使用语言的结构而对自己的编码风格感到尴尬结构化你的代码将帮助你改进你的编码风格。结构就在那里，为什么不使用它们呢？

因此，对于您目前的具体情况，我想说的是，您目前所做的只是对未来的自己隐藏它，这样您就不会像“嗯……我在 2 年前为我的一个项目开设了这门课，并且我现在就使用它”，然后尝试以一种它们不应该被弄乱的方式弄乱内部结构，这可能会导致问题，因为你可能不记得了。

确实，除非您使用 C# 或 C++ 之类的编译语言，否则修饰符不会对潜在的最终用户隐藏您的实际代码。*当使用这些语言创建库时，修饰符变得更加重要，因为它们实际上对最终用户隐藏了您的代码，*并且如果您最终在一个可能很重要的专有系统上工作（尽管有时对最终用户来说很烦人）。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-06-06T05:45:07.803

它需要的主要是代码**封装**和一致性，因此您可以在代码周围拥有一致的接口。

当你创建你的类时，你是在指出你希望哪些部分受到公私保护，你还要提前考虑并构建你的应用程序数据应该如何与其他类交互，以应对，这对于小型应用程序来说也是一件好事项目。

虽然对于小型项目看起来没什么用，但我强烈建议您开始使用它，并养成使用它们的习惯，当您开始使用可见性修饰符时，您会发现它们非常有用。

# android - 关闭网络浏览器的意图后如何调用函数？

> ID：10908646
> 
> 赞同：1
> 
> 时间：2012-06-06T05:33:56.560
> 
> 标签：android, android-intent, android-activity

我建立了一个非活动类，在这个类中，需要在我的应用程序中打开一个网络浏览器进行登录，登录后网页会自动关闭，所以我想在关闭网络浏览器后调用一个函数。打开网络浏览器没有问题。

```
public class DIDCore {
long appdid;
.
.
.
Activity myactivity;}
public DIDCore(long APPDID,Activity activity){      
    // TODO Auto-generated constructor stub
    appdid=APPDID;
    myactivity=activity;
}
public void LoginDID(){                             
    try {
    ....
    ....
       Intent browserIntent = new Intent(Intent.ACTION_VIEW,Uri.parse("http://www......com/login.aspx?code=110"));                  
            myactivity.startActivityForResult(browserIntent, 1);
    } 
```

但我无法检查何时关闭意图

所以我需要你的帮助

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:51:35.327

您正在使用 myactivity 对象开始活动

因此，当您自动关闭 webview 活动时，您的 myactivity

```
 onActivityResult() 
```

方法将被调用，所以你可以在这里做你的过程....

或者尝试在其他活动而不是普通类中调用浏览器活动

# heroku - 在两个 rails 应用程序之间交换数据

> ID：10908648
> 
> 赞同：0
> 
> 时间：2012-06-06T05:33:59.910
> 
> 标签：heroku, ruby-on-rails-2, rails-postgresql

我有两个应用程序 App A(rails 2.2.2) 和 App B(rails2.3.11)，它们都驻留在 Heroku 中。App B 是 App AI 的升级版（就功能而言）有一些模型（比如 4）在上下文中相似（但它们的关联有所不同），现在我需要在用户点击“迁移到”时交换数据来自 App A 的新系统”（例如在 Orkut、Gmail 中）。因此，他应该获取与他的登录相关的所有数据，并且需要保存在 App B 数据库中。

我使用 Active Record 建立连接，但在发布数据后它没有切换到默认数据库。

我是新来的。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-23T12:47:41.837

如果您有两个数据库的详细信息，请使用 active record.establish_connection 方法在 Rails 中切换两个数据库。

这里有一些代码。

```
ActiveRecord::Base.establish_connection(
  :adapter  => "postgres",
  :host     => "host",
  :username => "myuser",
  :password => "mypass",
  :database => "somedatabase"
) 
```

# jquery - 平滑 Div 滚动暂停/播放

> ID：10908656
> 
> 赞同：2
> 
> 时间：2012-06-06T05:34:40.517
> 
> 标签：jquery, smooth-scrolling

[http://www.smoothdivscroll.com](http://www.smoothdivscroll.com)的滚动功能正是我们正在寻找的，但是当您在滑块中移动图像然后当您将鼠标移出滚动时，我们特别需要让滚动“暂停”会再玩。目前，当您将鼠标悬停在图像上时，滚动会继续，我们如何在鼠标悬停和鼠标移出时暂停和播放？左右箭头也一样。一旦您与这些交互，滚动条就会完全停止，我们希望它在您将鼠标从箭头中移出后再次自动播放。

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T06:12:01.927

```
$(document).ready(function() {
$("#makeMeScrollable").smoothDivScroll({
    mousewheelScrolling: true,
    manualContinuousScrolling: true,
    visibleHotSpotBackgrounds: "always",
    autoScrollingMode: "always"
});

// Mouse over
$("#makeMeScrollable").bind("mouseover", function(){
    $("#makeMeScrollable").smoothDivScroll("stopAutoScrolling");
});

// Mouse out
$("#makeMeScrollable").bind("mouseout", function(){
    $("#makeMeScrollable").smoothDivScroll("startAutoScrolling");
});

});​ 
```

这应该可以，在这里测试[http://jsfiddle.net/EEAFs/](http://jsfiddle.net/EEAFs/)

# apache-flex - Flex Singleton 解决方案

> ID：10908659
> 
> 赞同：-4
> 
> 时间：2012-06-06T05:34:51.833
> 
> 标签：apache-flex, actionscript, singleton

当我们实现 Singleton 类时，flex 中的构造函数不能是私有的，这样其他类仍然可以新建该 Singleton 类。我找到了一个使用“私有”构造函数实现 Singleton 类的解决方案：

```
package
{
    public class Singleton
    {
        public static function get Instance():SingletonPrivate
        {
            return SingletonPrivate.Instance;
        }
    }
}
class SingletonPrivate
{
    public static const Instance:SingletonPrivate = new SingletonPrivate();
    public function SingletonPrivate()
    {       

    }

    public function getValue():String
    {
        return "Hello World";
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T05:58:40.230

这只是ActionScript**内部的范围。**此外，理论上您也可以创建新实例，因为您从不检查是否已经创建了实例。你从不仔细检查。

我建议避免单身。与大多数 iOC 框架类似，您可以有一个创建模型的上下文。在那里，您可以创建所有实例并通过实例上的构造函数或 setter 注入它们。这是一种更简洁的方法，因为没有人需要考虑是否必须将类用作单例。视图控制器也可以在这样的上下文中创建。恕我直言，单身人士并不是那么有用。

# lisp - 如何在 tinyscheme 中写入文件？

> ID：10908660
> 
> 赞同：2
> 
> 时间：2012-06-06T05:34:52.153
> 
> 标签：lisp, scheme

方案实现：tinyscheme

这是我的尝试：

```
(with-output-to-file "biophilia.c"
  (lambda (output-port)
    (write "Hello" output-port))) 
```

Ceates biophilia.c 具有以下内容：

**错误：（：26）没有足够的参数**

我在这里做错了什么？如何修复它？

```
(define (with-output-to-file s p)
     (let ((outport (open-output-file s)))
          (if (eq? outport #f)
               #f
               (let ((prev-outport (current-output-port)))
                    (set-output-port outport)
                    (let ((res (p)))
                         (close-output-port outport)
                         (set-output-port prev-outport)
                         res))))) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T05:59:27.377

你打错电话`with-output-to-file`了。

第二个参数是一个 thunk，而不是一个需要端口参数的过程。

所以这样称呼它：

```
(with-output-to-file "biophilia.c"
  (lambda ()
    (write "Hello"))) 
```

`with-output-to-file`已经为您重新绑定了当前端口（正如您在重建中尝试的那样）。

[请在此处](http://docs.racket-lang.org/reference/file-ports.html#%28def._%28%28lib._racket/private/base..rkt%29._with-output-to-file%29%29)查看 Racket 文档。

# objective-c - 模态视图控制器使背景变黑

> ID：10908662
> 
> 赞同：1
> 
> 时间：2012-06-06T05:34:54.080
> 
> 标签：objective-c, xcode, modalviewcontroller

我正在从视图控制器启动模态视图控制器。模态视图控制器中的所有内容都显示正常，除了父视图控制器变黑。当模态视图控制器被解除时，父级被绘制。谁能指出我哪里出错了？这是我正在使用的代码：

```
modalVC.modalPresentationStyle = UIModalPresentationFormSheet;
self.navigationController = [[UINavigationController alloc] initWithRootViewController: modalVC];

[currentViewController presentModalViewController: self.navigationController animated: YES];
self.navigationController.view.frame = CGRectMake(200, 200, 320, 540); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-12T08:50:10.270

我终于找到了问题。这是我的错误。

这是罪魁祸首：

```
self.navigationController.view.frame = CGRectMake(200, 200, 320, 540); 
```

它应该是：

```
self.navigationController.view.superview.frame = CGRect(200,200,320, 540); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:09:05.747

就是因为这条线。

```
modalVC.modalPresentationStyle = UIModalPresentationFormSheet; 
```

来自[UIViewController 类参考](http://developer.apple.com/library/ios/documentation/uikit/reference/UIViewController_Class/Reference/Reference.html#//apple_ref/c/econst/UIModalPresentationFormSheet)（强调我的）：

> `UIModalPresentationFormSheet`
> 
> 呈现的视图的宽度和高度小于屏幕的宽度和高度，并且视图在屏幕上居中。如果设备处于横向且键盘可见，则视图的位置会向上调整，以便视图保持可见。**所有未覆盖的区域都变暗，以防止用户与其交互。**

# arrays - 在排序数组中找到两个整数，使得 a - b = k

> ID：10908663
> 
> 赞同：3
> 
> 时间：2012-06-06T05:34:57.217
> 
> 标签：arrays, algorithm

给定一个**整数 k**和一个**排序数组 A**（可以由正数和负数组成），**从 A 输出 2 个整数，**使得`a-b=k`in`O(n) time`和`O(1) space`

**O(n logn) 解决方案：**

1.  遍历数组：`O(n)`
2.  对于 element `a[i]`，`a[i]+k`使用二进制搜索在数组中查找：`O(log n)`

总时间：`O(n logn)`

**O(n) 解决方案：**

1.  将数组的所有元素存储在哈希表中：`O(n)`
2.  对于元素a[i]，检查哈希表中是否有a[i]+k：`O(1)`

总时间：`O(n)`

空间：`O(n)`

但他想要一个额外空间的`O(n)`解决方案`O(1)`。有人知道吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-06-06T05:44:19.017

制作两个索引指针 - 左和右，将两者都初始化为数组 (0) 的开头。如果 a[Left] + k > a[Right]，则向右递增，否则向左递增。相等时停止

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-06-06T05:46:18.273

这个想法是使用两个指向数组的指针，比如 a 和 b。最初它们都指向开头 ( `a=b=0`)。

如果`ar[a]+k < ar[b]`，那么你提前 a。

如果`ar[a]+k > ar[b]`，那么你提前 b。

如果`ar[a]+k == ar[b]`，那么您已经找到了解决方案。

那是`O(n)`时间和`O(1)`空间。

# android - android中的xml到json

> ID：10908664
> 
> 赞同：4
> 
> 时间：2012-06-06T05:35:01.720
> 
> 标签：android, xml, parsing

我想做的是我正在制作一个应用程序引擎，我必须在其中解析类似于下面的示例和其他此类 xml 的 xml。我想把它转换成json ....有什么办法吗？

```
 - <application>
    - <!--  [Start] Application Section 
      --> `enter code here`
      <app_type>app_business</app_type> 
    - <app_info>
      <app_name>App test for test user</app_name> 
      <app_description>app description</app_description> 
      <app_keywords>4464</app_keywords> 
      <app_website>www.google.co.in</app_website> 
      <app_logo>1335504801.jpg</app_logo> 
      <splash_screen_logo>Splash.jpg</splash_screen_logo> 
      <mobile_platform>0</mobile_platform> 
      <header_bg /> 
      <bg_image /> 
      <bg_color /> 
      <usr_name>Test Singh</usr_name> 
      <usr_username>test</usr_username> 
      <usr_email>test@gmail.com</usr_email> 
      <usr_registerDate>2012-04-26 10:21:00</usr_registerDate> 
      <usr_plan_id>1</usr_plan_id> 
      <usr_lastvisitDate>2012-04-30 04:24:34</usr_lastvisitDate> 
      <usr_plan_id>1</usr_plan_id> 
      <usr_gender>Male</usr_gender> 
      <usr_contactno>12321432</usr_contactno> 
      <usr_address>Jaipur</usr_address> 
      <usr_profile_picture>1234514Sunset.jpg</usr_profile_picture> 
      <usr_dob>2012-04-09</usr_dob> 
      </app_info>
    - <app_home>
    - <!--  [Start]Home Section 
      --> 
    - <!--  Home properties 
      --> 
    - <home_properties>
      <tab_icon>home.png</tab_icon> 
      <tab_title>Home</tab_title> 
      <banner_text>Home Banner Text here.</banner_text> 
      <bg_image>business_logo1.png</bg_image> 
      </home_properties>
    - <!--  Home Buttons 
      --> 
    - <home_buttons>
    - <button>
      <button_type>app_portfolio</button_type> 
      <button_text>Portfolio</button_text> 
      <button_image>button.jpg</button_image> 
      </button>
    - <button>
      <button_type>app_websiteUrl</button_type> 
      <button_text>Web Url</button_text> 
      <button_image>button.jpg</button_image> 
      </button>
    - <button>
      <button_type>app_contact</button_type> 
      <button_text>Contact</button_text> 
      <button_image>button.jpg</button_image> 
      </button>
      </home_buttons>
      </app_home>
    - <!--  [End]Home Section 
      --> 
    - <app_aboutus>
    - <!--  [Start]About Us Section 
      --> 
    - <!--  [Start]Home properties 
      --> 
    - <aboutus_properties>
      <tab_icon>aboutus.png</tab_icon> 
      <tab_title>About Us Tab</tab_title> 
      <banner_text>About Us Banner Text</banner_text> 
      <bg_image>bg-image.jpg</bg_image> 
      <image>about-img.jpg</image> 
      <description>About us description</description> 
      </aboutus_properties>
    - <!--  [End]Home properties 
      --> 
      </app_aboutus>
    - <!--  [End]About Us Section 
      --> 
    - <app_services>
    - <!--  [Start]Services Section 
      --> 
    - <!-- [Start] Services properties 
      --> 
    - <services_properties>
      <tab_icon>2.png</tab_icon> 
      <tab_title>Services Tab Title</tab_title> 
      <banner_text>Services Banner Text</banner_text> 
      <bg_image>bg-image.jpg</bg_image> 
      <image>services.jpg</image> 
      <description>Services Description</description> 
      </services_properties>
    - <!--  [End]Services properties 
      --> 
      </app_services>
    - <!--  [End]Services Section 
      --> 
    - <app_more>
    - <!--  [Start]More Section 
      --> 
    - <!--  More properties 
      --> 
    - <more_properties>
      <tab_icon>more.png</tab_icon> 
      <tab_title>More</tab_title> 
      <banner_text>More Banner text</banner_text> 
      <bg_image>bg-image.jpg</bg_image> 
      </more_properties>
    - <!--  More Buttons 
      --> 
    - <more_buttons>
    - <button>
      <button_type>member profile</button_type> 
      <button_text>Member Profile</button_text> 
      <button_image>button.jpg</button_image> 
      </button>
    - <button>
      <button_type>map</button_type> 
      <button_text>More Button map</button_text> 
      <button_image>button.jpg</button_image> 
      </button>
    - <button>
      <button_type>audiovideo</button_type> 
      <button_text>Audio Video Streaming</button_text> 
      <button_image>button.jpg</button_image> 
      </button>
    - <button>
      <button_type>news</button_type> 
      <button_text>News</button_text> 
      <button_image>button.jpg</button_image> 
      </button>
    - <button>
      <button_type>services</button_type> 
      <button_text>Services</button_text> 
      <button_image>button.jpg</button_image> 
      </button>
      </more_buttons>
      </app_more>
    - <!--  [End]More Section 
      --> 
    - <app_news>
    - <!--  [Start]News Section 
      --> 
    - <!--  News properties 
      --> 
    - <news_properties>
      <tab_icon>2.png</tab_icon> 
      <tab_title>News Tab Title</tab_title> 
      <banner_text>News Banner Text</banner_text> 
      <bg_image>bg-image.jpg</bg_image> 
      <rss_url>http://newsrss.bbc.co.uk/rss/sportonline_world_edition/front_page/rss.xml</rss_url> 
      </news_properties>
      </app_news>
    </application> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T06:01:15.153

通过使用[这个](http://json-lib.sourceforge.net/index.html)库，您可以进行**XML 到 JSON 的转换**。

```
String xmlString = "<Root><FName>Hello</FName><LName>World</LName></Root>";
XMLSerializer serializer = new XMLSerializer();  
JSON json = serializer.read( xmlString ); 
```

查看**[此](http://answers.oreilly.com/topic/278-how-to-convert-xml-to-json-in-java/)**链接以供参考。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-08-28T02:56:15.397

[Underscore-java](https://github.com/javadev/underscore-java)有静态方法`U.xmlToJson(xml)`。我是项目的维护者。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-10T22:07:29.400

首先，请注意您的 XML 格式错误，包含大量额外的“-”字符。您应该在尝试将 XML 转换为 JSON 之前修复它们。

我刚刚为 Android Studio 发布了一个“XML to JSON”库。易于与 gradle 集成，使用简单，可配置。如果你愿意，你可以试一试。

**XmlToJson**在 GitHub 上可用： [https ://github.com/smart-fun/XmlToJson](https://github.com/smart-fun/XmlToJson)

# android - Android远程服务，怎么做定时任务？

> ID：10908666
> 
> 赞同：1
> 
> 时间：2012-06-06T05:35:10.147
> 
> 标签：android, android-service

我正在编写一个运行远程服务的应用程序，我需要每 15 分钟执行一次 GPS 任务。

处理程序`postDelayed`功能是否会保证它每 15 分钟触发一次，而不会将服务保持在前台？

如果没有，还有其他方法可以做到这一点吗？

（我不想保持在前台，因为我猜这可能会导致大量功耗）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:44:57.267

您可以使用`AlarmManager`每15分钟触发一次服务。该服务将为您做gps的事情。完成任务后您可以停止该服务。它将保证您的服务每15分钟启动一次，并且服务将停止完成目的后

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:49:28.857

```
*Timer timer = new Timer();
        timer.scheduleAtFixedRate(new TimerTask(){
        public void run() {
            //write code here you want to execute in every 15 minutes

        }
        }, new Date(), 900000);* 
```

# c - 如何从 txt 文件中读取制表符分隔的字符串并将它们放入变量中？

> ID：10908668
> 
> 赞同：3
> 
> 时间：2012-06-06T05:35:48.910
> 
> 标签：c, file

我有一个文件，我正在尝试读取和填充变量。该文件由以下内容组成：

```
0\ttake a nap\n
1\tstudy heap-based priority queue\n
101\treview trees for Midterm 2\n
3\tdo assignment 7\n 
```

这可能很难阅读，但是您可以看到有一个整数开头，然后是一个制表符，然后是一个字符串，然后是一个换行符。我需要取整数并将其放入变量中，检测制表符，并将制表符后面的字符串放入变量中，检测换行符，获取两个变量并使用信息创建一个节点，然后重新开始下一行。经过数小时的互联网搜索，这就是我想出的：

```
char activity[SIZE];
 char position[SIZE];
 char line[100];

  FILE *infile;
  char *inname = "todo.txt";

  int i = 0;

  infile = fopen(inname, "r");
  if (!infile) {
    printf("Couldn't open %s for reading\n");
    return 0;
  }
while(i < 100 && fgets(line, sizeof(line), infile) != NULL){
        sscanf(line, "%s\t%s", position, activity);
        printf("%s\n", position);
        printf("%s\n", activity);
        i++;
    } 
```

在上面的 txt 文件上运行此测试代码时，我得到以下结果：

```
0
take
1
study
101
review
3
do 
```

因此，在我看来，它正在获取第一个数字（作为字符串）并将其放入变量中，查看选项卡，并在选项卡之后抓取第一个序列并在将其放入另一个变量后停在那里。我该如何纠正这种情况？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T05:39:49.873

您可以尝试更改`sscanf`：

```
sscanf(line, "%s\t%[^\n]", position, activity); 
```

说明`%s`符在遇到空白时停止。这就是为什么它只读取*study*而不是*study-based priority queue*的原因。告诉它： “`%[^\n]`读到换行符”。另一个问题：您应该测试返回的值`sscanf`以确保它填充了所需数量的对象。

* * *

您还可以将第一个整数读取为整数，更改`position`为`int`并使用`%d`而不是`%s`.

### 编辑

为了让自己清楚，我的建议是：

```
int position;
sscanf(line, "%d\t%[^\n]", &position, activity); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-11-05T16:06:18.313

以下对我的用例非常有效。我想将制表符分隔文件的前两个字段读入字符串变量，然后将每行的其余部分读入最终字符串变量。

这是代码：

```
#include <stdlib.h>
#include <stdio.h>

int main()
{
   unsigned char     string1 [255];
   unsigned char     string2 [255];
   unsigned char     string3 [255];

   /* read from stdin until done */
   while(!feof(stdin))
   {
      fscanf( stdin, "%[^\t]\t%[^\t]\t%[^\n]\n", string1, string2, string3 );
      printf( "%s\t%s\t%s\n",                    string1, string2, string3 );
   }

   return(0);
} 
```

我正在阅读 STDIN，因为我使用该程序创建了一个命令行过滤器。

fscanf 代码说明：

```
%[^\t] - any character that is not a TAB
\t     - the TAB character
%[^\n] - any character that is not a NEWLINE
\n     - the NEWLINE character 
```

因此，我的 fscanf 正在读取直到第一个 TAB 的所有字符（包括空格但不包括 TAB 本身）并将字符串放入 var string1，直到第二个 TAB 的所有字符（包括空格但不包括 TAB 本身）并放置字符串到 var string2 中，然后将记录的所有剩余字符（制表符、空格、除 NEWLINE 之外的所有字符）读取到 NEWLINE 到 string3 中。

在我的真实程序中，我对string1和string2进行了特定的处理。我的输出是与 string3 一起处理的结果。换句话说，我的输出也是以制表符分隔的，而 string3 的原始内容保持不变。

如果您有一个包含三个或更多字段的制表符分隔文件，那么以下（在 Linux 上）应该是正确的：

```
cat FILE | ABOVE_PROGRAM > OUT_FILE
diff FILE OUT_FILE       # This should yield nothing (no differences) 
```

希望这将有助于其他人处理制表符分隔的文件。

# xml - 如何像这样在 XML 中获取值或创建节点名称（ )

> ID：10908670
> 
> 赞同：1
> 
> 时间：2012-06-06T05:36:12.240
> 
> 标签：xml, xslt, xpath

我有一个这样的 XML 文件可以使用。

```
 <root>
      <ignore>
        <child>1</child>
      </ignore>
      <select.val>
        <child>2</child>
      </select.val>
    </root> 
```

**场景一：**

我想获取*<select.val>*下的子节点的值。

我可以使用这样的 xpath 来获取它们**/root/select.val/child**。问题是*<select.val>*对于另一个 xml 文件可能不同。它可能是*<select.val2>*对于另一个 xml。如果我使用通配符（**/root/*/child**），它也会得到*<ignore >*下的值。

基本上像这样**/root/select.*/child**

**场景二：**

我如何使用 xslt从变量/参数设置*val生成 xml 文件。*例如，如果变量/参数的值为 val3，那么它将生成一个像这样的节点*<select.val3 >*。

基本上是这样的。 **<select.<value-of select="$val" >>**

**PS：**这是可能的还是应该将其用作节点的属性？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:31:56.960

一种方法是使用 xpath 中的**substring**函数来检查元素的名称是否符合您的条件

```
<xsl:apply-templates select="root/*
   [substring(local-name(), 1, 7) = 'select.']/child" /> 
```

这只会选择名称以 select 开头的元素的**子元素****。**

然后直接参数化它以检查在句号之后出现的元素的名称

```
<xsl:apply-templates select="root/*
   [substring(local-name(), 1, 7) = 'select.']
   [substring-after(local-name(), '.') = $val]/child" /> 
```

（其中 $val 是包含要匹配的名称的参数）。

例如，使用以下 XSLT

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="xml" indent="yes"/>
    <xsl:param name="val" select="'val'" />

    <xsl:template match="/">
        <xsl:apply-templates select="root/*[substring(local-name(), 1, 7) = 'select.'][substring-after(local-name(), '.') = $val]/child" />
    </xsl:template>

    <xsl:template match="child">
        <xsl:copy-of select="." />
    </xsl:template>
</xsl:stylesheet> 
```

应用于您的示例 XML 时，将输出以下内容

```
<child>2</child> 
```

如果您想生成一个新节点，使用名称中的参数，您可以使用带有属性值模板（使用花括号指定）的**xsl:element选项来设置名称**

```
<xsl:element name="select.{$val}">3</xsl:element> 
```

例如，当**$val**设置为 'val3' 时，输出如下

```
<select.val3>3</select.val3> 
```

# vbscript - 如何检查路径中的文件是否属于特定类型（在 VB 脚本中）？

> ID：10908671
> 
> 赞同：0
> 
> 时间：2012-06-06T05:36:14.357
> 
> 标签：vbscript

我目前有一个批处理文件，它调用一个实际上可以完成我需要的工作的 vbscript（因为我没有处理批处理文件的经验）。请注意，我刚刚从互联网上获取了此代码。

**我希望在 VB 脚本中发生的事情** 基本上，我将提供一个路径，代码将检查特定文件（CSV 或 XML）是否存在。如果这些文件存在，它们将被放置在一个 zip 文件中。

**VB 脚本中发生了什么**目前，vbscript 将获取提供的路径中的所有文件，并将所有文件压缩到一个文件中。我想更改此代码，使其仅压缩 CSV 文件。

* * *

批号

```
CScript czip.vbs "C:\Users\donatoma\Documents\Folder1\" "C:\Users\donatoma\Documents\Folder2\CSV files.zip" 
```

* * *

VB脚本

```
'Get command-line arguments.
Set objArgs = WScript.Arguments
InputFolder = objArgs(0)
ZipFile = objArgs(1)

'Create empty ZIP file.
CreateObject("Scripting.FileSystemObject").CreateTextFile(ZipFile, True).Write "PK" & Chr(5) & Chr(6) & String(18, vbNullChar)

Set objShell = CreateObject("Shell.Application")

Set source = objShell.NameSpace(InputFolder).Items <-- GET CSV FILES, ADD TO AN ARRAY

objShell.NameSpace(ZipFile).CopyHere(source)

'Required!
wScript.Sleep 2000 
```

**更新代码**

```
Set objArgs = WScript.Arguments
InputFolder = objArgs(0)
ZipFile = objArgs(1)

'Create empty ZIP file.
CreateObject("Scripting.FileSystemObject").CreateTextFile(ZipFile, True).Write "PK" & Chr(5) & Chr(6) & String(18, vbNullChar)

Set objShell = CreateObject("Shell.Application")

Set source = objShell.NameSpace(InputFolder).Items

For i = 0 to source.Count - 1
    If InStr(".csv", Right(source.item(i).Name, 4)) > 0 Then
        objshell.Namespace(ZipFile).CopyHere (source.item(i))
    End If
Next 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T09:42:52.367

检查名称。

```
CreateObject("Scripting.FileSystemObject").CreateTextFile(ZipFile, True).Write "PK" & Chr(5) & Chr(6) & String(18, vbNullChar)

Set objshell = CreateObject("Shell.Application")

Set Source = objshell.Namespace(InputFolder).Items 

For i = 0 To Source.Count - 1
    If InStr(".csv,.xml", Right(Source.item(i).Name, 4)) > 0 Then
        objshell.Namespace(ZipFile).CopyHere (Source.item(i))
        WScript.Sleep 200
    End If 
Next 
```

# ruby-on-rails - Rails 关联错误

> ID：10908672
> 
> 赞同：2
> 
> 时间：2012-06-06T05:36:23.977
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, associations, simple-form

我收到关联错误（使用 simpleform），但我相信我的模型设置正确..见下文..谢谢！

```
 ArgumentError in User_steps#show

Showing /Users/nelsonkeating/Desktop/ReminDeal/app/views/user_steps/occasions.html.erb where line #17 raised:

Association cannot be used in forms not associated with an object
Extracted source (around line #17):

14:     
15:     <h3>Related Interest</h3>
16: 
17:     <li><%= occasion_o.association :interests, :label => false, :as => :check_boxes %></li>
18:     
19:    
20: 
Rails.root: /Users/nelsonkeating/Desktop/ReminDeal

Application Trace | Framework Trace | Full Trace
simple_form (2.0.2) lib/simple_form/form_builder.rb:171:in `association'
app/views/user_steps/occasions.html.erb:17:in `block (2 levels) in _app_views_user_steps_occasions_html_erb___2581036131298452069_70258891699320'
actionpack (3.2.3) lib/action_view/helpers/capture_helper.rb:40:in `block in capture'
actionpack (3.2.3) lib/action_view/helpers/capture_helper.rb:187:in `with_output_buffer'
haml (3.1.6) lib/haml/helpers/xss_mods.rb:109:in `with_output_buffer_with_haml_xss'
actionpack (3.2.3) lib/action_view/helpers/capture_helper.rb:40:in `capture'
haml (3.1.6) lib/haml/helpers/action_view_mods.rb:105:in `capture_with_haml'
actionpack (3.2.3) lib/action_view/helpers/form_helper.rb:606:in `fields_for'
client_side_validations (3.1.4) lib/client_side_validations/action_view/form_helper.rb:45:in `fields_for'
actionpack (3.2.3) lib/action_view/helpers/form_helper.rb:1310:in `fields_for'
client_side_validations (3.1.4) lib/client_side_validations/action_view/form_builder.rb:45:in `fields_for_with_client_side_validations'
simple_form (2.0.2) lib/simple_form/action_view_extensions/builder.rb:204:in `simple_fields_for'
app/views/user_steps/occasions.html.erb:9:in `block in _app_views_user_steps_occasions_html_erb___2581036131298452069_70258891699320'
actionpack (3.2.3) lib/action_view/helpers/capture_helper.rb:40:in `block in capture'
actionpack (3.2.3) lib/action_view/helpers/capture_helper.rb:187:in `with_output_buffer'
haml (3.1.6) lib/haml/helpers/xss_mods.rb:109:in `with_output_buffer_with_haml_xss'
actionpack (3.2.3) lib/action_view/helpers/capture_helper.rb:40:in `capture'
haml (3.1.6) lib/haml/helpers/action_view_mods.rb:105:in `capture_with_haml'
actionpack (3.2.3) lib/action_view/helpers/form_helper.rb:606:in `fields_for'
client_side_validations (3.1.4) lib/client_side_validations/action_view/form_helper.rb:45:in `fields_for'
actionpack (3.2.3) lib/action_view/helpers/form_helper.rb:377:in `form_for'
haml (3.1.6) lib/haml/helpers/action_view_mods.rb:183:in `form_for_with_haml'
haml (3.1.6) lib/haml/helpers/xss_mods.rb:132:in `form_for_with_haml_xss'
client_side_validations (3.1.4) lib/client_side_validations/action_view/form_helper.rb:28:in `form_for'
simple_form (2.0.2) lib/simple_form/action_view_extensions/form_helper.rb:33:in `block in simple_form_for'
simple_form (2.0.2) lib/simple_form/action_view_extensions/form_helper.rb:51:in `with_simple_form_field_error_proc'
simple_form (2.0.2) lib/simple_form/action_view_extensions/form_helper.rb:32:in `simple_form_for'
app/views/user_steps/occasions.html.erb:1:in `_app_views_user_steps_occasions_html_erb___2581036131298452069_70258891699320'
actionpack (3.2.3) lib/action_view/template.rb:143:in `block in render'
activesupport (3.2.3) lib/active_support/notifications.rb:125:in `instrument'
actionpack (3.2.3) lib/action_view/template.rb:141:in `render'
actionpack (3.2.3) lib/action_view/renderer/template_renderer.rb:47:in `block (2 levels) in render_template'
actionpack (3.2.3) lib/action_view/renderer/abstract_renderer.rb:38:in `block in instrument'
activesupport (3.2.3) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.3) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.3) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.3) lib/action_view/renderer/abstract_renderer.rb:38:in `instrument'
actionpack (3.2.3) lib/action_view/renderer/template_renderer.rb:46:in `block in render_template'
actionpack (3.2.3) lib/action_view/renderer/template_renderer.rb:54:in `render_with_layout'
actionpack (3.2.3) lib/action_view/renderer/template_renderer.rb:45:in `render_template'
actionpack (3.2.3) lib/action_view/renderer/template_renderer.rb:18:in `render'
actionpack (3.2.3) lib/action_view/renderer/renderer.rb:36:in `render_template'
actionpack (3.2.3) lib/action_view/renderer/renderer.rb:17:in `render'
actionpack (3.2.3) lib/abstract_controller/rendering.rb:110:in `_render_template'
actionpack (3.2.3) lib/action_controller/metal/streaming.rb:225:in `_render_template'
actionpack (3.2.3) lib/abstract_controller/rendering.rb:103:in `render_to_body'
actionpack (3.2.3) lib/action_controller/metal/renderers.rb:28:in `render_to_body'
actionpack (3.2.3) lib/action_controller/metal/compatibility.rb:50:in `render_to_body'
actionpack (3.2.3) lib/abstract_controller/rendering.rb:88:in `render'
actionpack (3.2.3) lib/action_controller/metal/rendering.rb:16:in `render'
actionpack (3.2.3) lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
activesupport (3.2.3) lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/nelsonkeating/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
activesupport (3.2.3) lib/active_support/core_ext/benchmark.rb:5:in `ms'
actionpack (3.2.3) lib/action_controller/metal/instrumentation.rb:40:in `block in render'
actionpack (3.2.3) lib/action_controller/metal/instrumentation.rb:83:in `cleanup_view_runtime'
activerecord (3.2.3) lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
actionpack (3.2.3) lib/action_controller/metal/instrumentation.rb:39:in `render'
remotipart (1.0.2) lib/remotipart/render_overrides.rb:8:in `render'
wicked (0.1.5) lib/wicked/controller/concerns/render_redirect.rb:26:in `render_step'
wicked (0.1.5) lib/wicked/controller/concerns/render_redirect.rb:18:in `render_wizard'
app/controllers/user_steps_controller.rb:11:in `show'
actionpack (3.2.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
actionpack (3.2.3) lib/abstract_controller/base.rb:167:in `process_action'
actionpack (3.2.3) lib/action_controller/metal/rendering.rb:10:in `process_action'
actionpack (3.2.3) lib/abstract_controller/callbacks.rb:18:in `block in process_action'
activesupport (3.2.3) lib/active_support/callbacks.rb:425:in `_run__2706915168785360702__process_action__2447852392914763718__callbacks'
activesupport (3.2.3) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.3) lib/active_support/callbacks.rb:385:in `_run_process_action_callbacks'
activesupport (3.2.3) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.3) lib/abstract_controller/callbacks.rb:17:in `process_action'
actionpack (3.2.3) lib/action_controller/metal/rescue.rb:29:in `process_action'
actionpack (3.2.3) lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
activesupport (3.2.3) lib/active_support/notifications.rb:123:in `block in instrument'
activesupport (3.2.3) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
activesupport (3.2.3) lib/active_support/notifications.rb:123:in `instrument'
actionpack (3.2.3) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
actionpack (3.2.3) lib/action_controller/metal/params_wrapper.rb:205:in `process_action'
activerecord (3.2.3) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
actionpack (3.2.3) lib/abstract_controller/base.rb:121:in `process'
actionpack (3.2.3) lib/abstract_controller/rendering.rb:45:in `process'
actionpack (3.2.3) lib/action_controller/metal.rb:203:in `dispatch'
actionpack (3.2.3) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
actionpack (3.2.3) lib/action_controller/metal.rb:246:in `block in action'
actionpack (3.2.3) lib/action_dispatch/routing/route_set.rb:73:in `call'
actionpack (3.2.3) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
actionpack (3.2.3) lib/action_dispatch/routing/route_set.rb:36:in `call'
journey (1.0.3) lib/journey/router.rb:68:in `block in call'
journey (1.0.3) lib/journey/router.rb:56:in `each'
journey (1.0.3) lib/journey/router.rb:56:in `call'
actionpack (3.2.3) lib/action_dispatch/routing/route_set.rb:600:in `call'
rack-pjax (0.5.9) lib/rack/pjax.rb:12:in `call'
client_side_validations (3.1.4) lib/client_side_validations/middleware.rb:18:in `call'
warden (1.1.1) lib/warden/manager.rb:35:in `block in call'
warden (1.1.1) lib/warden/manager.rb:34:in `catch'
warden (1.1.1) lib/warden/manager.rb:34:in `call'
actionpack (3.2.3) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
rack (1.4.1) lib/rack/etag.rb:23:in `call'
rack (1.4.1) lib/rack/conditionalget.rb:25:in `call'
actionpack (3.2.3) lib/action_dispatch/middleware/head.rb:14:in `call'
remotipart (1.0.2) lib/remotipart/middleware.rb:30:in `call'
actionpack (3.2.3) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
actionpack (3.2.3) lib/action_dispatch/middleware/flash.rb:242:in `call'
rack (1.4.1) lib/rack/session/abstract/id.rb:205:in `context'
rack (1.4.1) lib/rack/session/abstract/id.rb:200:in `call'
actionpack (3.2.3) lib/action_dispatch/middleware/cookies.rb:338:in `call'
activerecord (3.2.3) lib/active_record/query_cache.rb:64:in `call'
activerecord (3.2.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:467:in `call'
actionpack (3.2.3) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (3.2.3) lib/active_support/callbacks.rb:405:in `_run__2512277106516780401__call__4355055174989828965__callbacks'
activesupport (3.2.3) lib/active_support/callbacks.rb:405:in `__run_callback'
activesupport (3.2.3) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
activesupport (3.2.3) lib/active_support/callbacks.rb:81:in `run_callbacks'
actionpack (3.2.3) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
actionpack (3.2.3) lib/action_dispatch/middleware/reloader.rb:65:in `call'
actionpack (3.2.3) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
actionpack (3.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
actionpack (3.2.3) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
railties (3.2.3) lib/rails/rack/logger.rb:26:in `call_app'
railties (3.2.3) lib/rails/rack/logger.rb:16:in `call'
actionpack (3.2.3) lib/action_dispatch/middleware/request_id.rb:22:in `call'
rack (1.4.1) lib/rack/methodoverride.rb:21:in `call'
rack (1.4.1) lib/rack/runtime.rb:17:in `call'
activesupport (3.2.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
rack (1.4.1) lib/rack/lock.rb:15:in `call'
actionpack (3.2.3) lib/action_dispatch/middleware/static.rb:62:in `call'
railties (3.2.3) lib/rails/engine.rb:479:in `call'
railties (3.2.3) lib/rails/application.rb:220:in `call'
rack (1.4.1) lib/rack/content_length.rb:14:in `call'
railties (3.2.3) lib/rails/rack/log_tailer.rb:14:in `call'
thin (1.3.1) lib/thin/connection.rb:80:in `block in pre_process'
thin (1.3.1) lib/thin/connection.rb:78:in `catch'
thin (1.3.1) lib/thin/connection.rb:78:in `pre_process'
thin (1.3.1) lib/thin/connection.rb:53:in `process'
thin (1.3.1) lib/thin/connection.rb:38:in `receive_data'
eventmachine (0.12.10) lib/eventmachine.rb:256:in `run_machine'
eventmachine (0.12.10) lib/eventmachine.rb:256:in `run'
thin (1.3.1) lib/thin/backends/base.rb:61:in `start'
thin (1.3.1) lib/thin/server.rb:159:in `start'
rack (1.4.1) lib/rack/handler/thin.rb:13:in `run'
rack (1.4.1) lib/rack/server.rb:265:in `start'
railties (3.2.3) lib/rails/commands/server.rb:70:in `start'
railties (3.2.3) lib/rails/commands.rb:55:in `block in <top (required)>'
railties (3.2.3) lib/rails/commands.rb:50:in `tap'
railties (3.2.3) lib/rails/commands.rb:50:in `<top (required)>'
script/rails:6:in `require'
script/rails:6:in `<main>' 
```

楷模

```
 class User ActiveRecord::Base
     has_many :occasions   
    end

    class Occasion < ActiveRecord::Base
      belongs_to :user
      attr_accessible :date, :name, :pname, :user_id, :interest_ids
      has_many :person_interests, :as => :person
      has_many :interests, :through => :person_interests

    end

    class PersonInterest < ActiveRecord::Base
      attr_accessible :person_id, :person_type, :interest_ids
      belongs_to :interest
      belongs_to :person, :polymorphic => true

    end

    class Interest < ActiveRecord::Base
      attr_accessible :name
      has_many :person_interests

      def people
        person_interests.includes(:person).map(&:people).flatten.uniq
      end

    end 
```

user_steps_controller.rb

```
 def show
      @user = current_user
      @user.friends.build
      @user.anniversaries.build
      @user.occasions.build
      render_wizard
    end 
```

看法

```
<%= simple_form_for @user, url: wizard_path do |f| %>
  <div id="single_module">
  <div class="pitch">
  <h2 class="signup">Step 5: Custom Occasions</h2>
  </div>
  <div id="input1" style="margin-bottom:4px;" class="clonedInput">

  <ul class="testss1">
  <%= f.simple_fields_for :occasions do |occasion_o| %>
    <li><%= occasion_o.input :name, :placeholder => 'Enter occasion Name' %></li>
    <li><%= occasion_o.input :pname, :placeholder => 'Enter persons Name (if necessary)' %></li>
    <li><%= occasion_o.input :date, :as => :date_picker, :input_html => { :class => 'special' } %></li>
   </ul>

    <h3>Related Interest</h3>

    <li><%= occasion_o.association :interests, :label => false, :as => :check_boxes %></li>

    <%end%>
    </br>
    </div>
    <%= link_to "skip this step", next_wizard_path %>
    <%= f.button :submit, 'Submit' %>
    <%end%> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T11:51:16.190

您需要`:occasions`在模型中启用嵌套属性：

```
class User ActiveRecord::Base
  has_many :occasions   
  accepts_nested_attributes_for :occasions
end 
```

否则，表单构建器不会如何使用`Occasion`您在控制器中构建的对象，因此它只会将`:occasions`符号用作“对象”，从而为您提供此错误。

# emacs - 在emacs中执行Mx eval-region时如何显示选定表单的结果

> ID：10908674
> 
> 赞同：3
> 
> 时间：2012-06-06T05:36:34.960
> 
> 标签：emacs

当我在 emacs 中`M-x` `eval-region`使用`(+ 1 1)`selected 执行时，我在 minibuffer 中看不到结果`2`。我怎样才能看到结果`C-x` `C-e`呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T16:20:48.527

Try this function:

```
(defun my-eval-region (start end)
  "Evaluate the region, printing the result to the minibuffer."
  (interactive "r")
  (eval-region start end t)) 
```

# jasper-reports - 短信显示不正确

> ID：10908675
> 
> 赞同：0
> 
> 时间：2012-06-06T05:36:36.137
> 
> 标签：jasper-reports

我正在使用 jasper-reports 4.5.0 来生成报告。我正在生成 pdf、csv、html 格式的报告。如果数据库中没有匹配的记录，那么我将消息显示为`There Are No Matching Records`.

问题是它没有正确显示消息。它正在将消息显示为`There Are No Matchino Records To Displav`，`y`正在显示为`v`并且`g`正在显示为`o`。此文本的对齐方式为居中。

页脚消息也发生了同样的问题。问题只发生在 html 报告上，pdf 看起来是正确的。

**为什么它会显示这样的消息，我该如何解决？**

```
<noData>
        <band height="45">
            <staticText>
                <reportElement x="0" y="0" width="466" height="45" forecolor="#FF0000"/>
                <textElement textAlignment="Center">
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[There Are No Matching Records To Display]]></text>
            </staticText>
        </band>
    </noData> 
```

pbm 只有 html 格式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T16:41:07.007

问题是静态文本所在的框不够高，无法将文本与您为其设置的任何字体相匹配。pdf不会发生这种情况的原因（据我了解）使用不同的字体集。本质上你很幸运，它使用的字体适合你给该字段的高度。

解决方案是让静态文本框高度更高。页脚也应该如此。我会尝试以 10 为增量增加大小，直到合适为止。然后，您可以后退 1 或 2 以使其尽可能小，同时仍然允许它全部适合。

# wpf - 如何使用代码更改组合框的边框颜色？

> ID：10908678
> 
> 赞同：2
> 
> 时间：2012-06-06T05:36:51.427
> 
> 标签：wpf, combobox, border

我有一个 ComboBox，我想将边框的颜色更改为红色以将其标记为必填字段。我正在通过我的代码动态生成这个 ComboBox 列。为了更改边框颜色，我应该设置哪些属性？

```
 DataGridTemplateColumn dataGridComboBoxTemplateColumnObj = new DataGridTemplateColumn();
  dataGridComboBoxTemplateColumnObj.Header = column.Header;
  FrameworkElementFactory comboBoxFactory = new FrameworkElementFactory(typeof(ComboBox));
  Binding bindingItemSourceObj = new Binding(column.ItemsSourcePropertyName);
  comboBoxFactory.SetValue(ComboBox.HorizontalAlignmentProperty, HorizontalAlignment.Stretch);
  comboBoxFactory.SetValue(ComboBox.ItemsSourceProperty, bindingItemSourceObj);              
  comboBoxFactory.SetValue(ComboBox.SelectedValuePathProperty, column.ValuePropertyName);

  Binding selectedValueBindingObj = new Binding(column.PropertyName);
  selectedValueBindingObj.Mode = BindingMode.TwoWay;
  selectedValueBindingObj.UpdateSourceTrigger = UpdateSourceTrigger.PropertyChanged;
  comboBoxFactory.SetValue(ComboBox.SelectedValueProperty, selectedValueBindingObj);
  dataGridComboBoxTemplateColumnObj.CellTemplate = new DataTemplate();
  dataGridComboBoxTemplateColumnObj.CellTemplate.VisualTree = comboBoxFactory;
  dataGridColumnObj = dataGridComboBoxTemplateColumnObj; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:26:01.260

如果您有`ComboBox`：

```
<ComboBox x:Name="MyComboBox"/> 
```

您可以设置的值`Border.BorderBrushProperty`：

```
MyComboBox.SetValue(Border.BorderBrushProperty, Brushes.Red); 
```

通过这种方式，您可以将边框颜色完全更改`ComboBox`为红色。

**编辑**：我为您的特定添加了这个示例`FrameworkElementFactory`：

```
FrameworkElementFactory comboBoxFactory = new FrameworkElementFactory(typeof(ComboBox));
comboBoxFactory.SetValue(Border.BorderBrushProperty, Brushes.Red);

ControlTemplate ct = new ControlTemplate(typeof(ComboBox));
ct.VisualTree = comboBoxFactory;
MyComboBox.Template = ct; 
```

# c - gtk+ 文本编辑器 vim 类型模式（插入/命令）

> ID：10908679
> 
> 赞同：2
> 
> 时间：2012-06-06T05:36:51.817
> 
> 标签：c, gtk, keypress, gtksourceview

我正在尝试将类似 vim 的功能合并到我在 gtk+ 2.0 和 gtksourceview 2.0 中创建的文本编辑器中。我让它工作，除了当我按“i”进入插入模式时，它会正确进入这个模式，但是它会在文本缓冲区中输入一个“i”。这是我的按键功能，它设置为在按下 esc 键时进入命令模式（离开插入模式），正如我之前所说，当按下 i 键时进入插入模式：

```
gboolean on_key_press_win_main (GtkWidget *widget, GdkEventKey *event, gpointer user_data)
{

  switch (event->keyval)
  {

    case GDK_i:
      if (event->state & GDK_CONTROL_MASK)
      {
        printf("key pressed: %s\n", "ctrl + i");
      }
      else
      {
        GtkTextBuffer *tbuffer;
                GtkTextView *text_view;
                int page = 0;
        gchar *msg;
        gint row, col;
        GtkTextIter iter;

              page = gtk_notebook_get_current_page(GTK_NOTEBOOK(notebook));
                text_view = GTK_TEXT_VIEW(txtinput[notebookPages[page]]);
                tbuffer = gtk_text_view_get_buffer (text_view);

        if (insert_mode == 0)
        {
            insert_mode = 1;
            command_mode = 0;

            /* update statusbar */
            gtk_statusbar_pop(GTK_STATUSBAR(statusbar), 0); 

            gtk_text_buffer_get_iter_at_mark(tbuffer, &iter, gtk_text_buffer_get_insert(tbuffer));

            row = gtk_text_iter_get_line(&iter);
            col = gtk_text_iter_get_line_offset(&iter);

            msg = g_strdup_printf("INSERT\t\t Col %d Ln %d", col+1, row+1);
            gtk_statusbar_push(GTK_STATUSBAR(statusbar), 0, msg);

            gtk_text_view_set_editable (text_view, TRUE);

        }

      }

      break;

        /* esc key */
        case 65307:
    {
        GtkTextBuffer *tbuffer;
          GtkTextView *text_view;
          int page = 0;
      gchar *msg;
      gint row, col;
      GtkTextIter iter;

        page = gtk_notebook_get_current_page(GTK_NOTEBOOK(notebook));
          text_view = GTK_TEXT_VIEW(txtinput[notebookPages[page]]);
          tbuffer = gtk_text_view_get_buffer (text_view);

      insert_mode = 0;
      command_mode = 1;
      gtk_text_view_set_editable (text_view, FALSE);

      /* update statusbar */
      gtk_statusbar_pop(GTK_STATUSBAR(statusbar), 0); 

      gtk_text_buffer_get_iter_at_mark(tbuffer, &iter, gtk_text_buffer_get_insert(tbuffer));

      row = gtk_text_iter_get_line(&iter);
      col = gtk_text_iter_get_line_offset(&iter);

      msg = g_strdup_printf("Col %d Ln %d", col+1, row+1);
      gtk_statusbar_push(GTK_STATUSBAR(statusbar), 0, msg);

    }

    break;

    default:
      return FALSE; 
  }

  return FALSE; 
} 
```

如您所见`gtk_text_view_set_editable (text_view, FALSE)`，进入命令模式时 `gtk_text_view_set_editable (text_view, TRUE)`设置，进入插入模式时设置。但是，当进入插入模式时， text_view 在按键注册到缓冲区之前被设置为可编辑，即使它是按键情况下的最后一个命令。进入插入模式时，如何防止 i 被放置在文本缓冲区中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T16:03:04.060

Return `TRUE` from the event handler instead of `FALSE` to block any further processing of the event. Event handlers work like a filter, you filter out the keystrokes that you don't want to pass on to the textview.

PS. Don't use constants like `65307`, use `GDK_KEY_Escape` or whatever it is.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T05:57:34.810

你不知道吗，当我写完这个问题时，一个可行的选择就会出现在我的脑海中。这可能就是`key_release_event`创建的原因。像魅力一样工作。

# mysql - mysql + JOIN 查询的问题

> ID：10908680
> 
> 赞同：0
> 
> 时间：2012-06-06T05:37:08.477
> 
> 标签：mysql, join

好的，我很抱歉问这个问题，因为我看到了几个 mysql JOIN 示例，但我似乎无法让它工作。

“销售量”

```
----------------------
idcustomer | datecode 
----------------------
 1         | 20120503 
 1         | 20120503 
 1         | 20120503 
 2         | 20120503 
 3         | 20120503 
```

我想知道谁是最大的买家......就客户在特定日期从我这里购买东西的次数而言（是的，我使用一些奇怪的格式来表示我知道的日期，请不要介意）......所以我做：

```
SELECT idcustomer, COUNT(idcustomer) FROM sales WHERE datecode = 20120503 GROUP BY idcustomer ORDER BY COUNT(idcustomer) DESC 
```

我得到：

```
-----------------------------
idcustomer | Count(idcustomer)
-----------------------------
 1         | 3
 2         | 1
 3         | 1 
```

问题是......因为我也有桌子：

“顾客”

```
----------------------
| name | id_customer |
----------------------
 Jess  | 1
 Matt  | 2
 Perry | 3 
```

以下是我想要实现的目标......如何做到这一点？

```
---------------------------------------------
customer.name | idcustomer | Count(idcustomer)
---------------------------------------------
 Jess         | 1          | 3
 Matt         | 2          | 1
 Perry        | 3          | 1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:39:59.930

```
SELECT customer.name, idcustomer, COUNT(idcustomer)
FROM sales
JOIN customer
ON sales.idcustomer = customer.id_customer
WHERE datecode = 20120503
GROUP BY idcustomer
ORDER BY COUNT(idcustomer) DESC 
```

在线查看它：[sqlfiddle](http://sqlfiddle.com/#!2/a9edd/3)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:01:50.153

```
SELECT 
  t1.name,t2.count_buy,t2.idcustomer 
   FROM customer as t1,
 (SELECT 
    idcustomer,COUNT(idcustomer) as count_buy 
       FROM `sales`  
        WHERE datecode = 20120503
        GROUP BY idcustomer 
         ORDER BY COUNT(idcustomer) DESC) t2
  WHERE 
   t1.idcustomer =t2.idcustomer 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T05:53:10.410

希望这会有所帮助::

```
Select cust_ref.idcustomer, cust_ref.COUNT(idcustomer), customer.name
from 
(SELECT idcustomer, COUNT(idcustomer) FROM sales WHERE datecode = 20120503 
 GROUP BY idcustomer) cust_ref
 inner join customer on (sales.idcustomer = customer.id_customer)
ORDER BY COUNT(idcustomer) DESC 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T05:42:55.837

你需要这样做 -

```
SELECT idcustomer, c.name, COUNT(idcustomer) 
FROM sales s inner join customer c on (s.idcoustomer=c.id_customer)  
WHERE datecode = 20120503 
GROUP BY idcustomer, c.name  
ORDER BY COUNT(idcustomer) DESC 
```

# blackberry - 黑莓：web 视图在 eclipse 模拟器中不起作用

> ID：10908689
> 
> 赞同：1
> 
> 时间：2012-06-06T05:38:24.767
> 
> 标签：blackberry, webview

我已经在我的黑莓 Eclipse 模拟器上尝试了这个 Web 视图代码。但它不起作用。这是什么原因？我的代码是错误的还是不支持在模拟器中运行？请有人帮助我。

```
public MyScreen()
{   BrowserFieldConfig myBrowserFieldConfig = new BrowserFieldConfig();
myBrowserFieldConfig.setProperty(BrowserFieldConfig.NAVIGATION_MODE,BrowserFieldConfig.NAVIGATION_MODE_POINTER);
BrowserField browserField = new BrowserField(myBrowserFieldConfig);
add(browserField);
 browserField.requestContent("http://www.blackberry.com");
 }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:02:32.323

右键单击项目并单击运行方式，然后单击运行配置。打开 Simulator 选项卡，然后选中 Launch mobile data System connection Service (MDS-CS)。之后，一个 bat 程序将与您的模拟器一起运行，并解决您的问题。

# php - 使用ajax jquery和php过滤记录

> ID：10908690
> 
> 赞同：0
> 
> 时间：2012-06-06T05:38:31.660
> 
> 标签：php, mysql, ajax, jquery

**我想使用复选框**根据一些参数过滤我的搜索结果。我有一个搜索功能以及分页工作，但都是用 PHP 编写的。现在我想过滤记录，但这可能需要 ajax 请求和 jquery 而我不是擅长它。这里做了类似的事情[http://www.proptiger.com/property-in-pune-real-estate.php](http://www.proptiger.com/property-in-pune-real-estate.php)左侧面板有用于过滤数据的复选框。这是保存搜索查询并显示结果的 div。

```
 <div class="flt width710" id="displayProp">
            <div style="margin-top:10px;" class="flt mapnewalert"> <?php //echo ucfirst($_SESSION['$cityName']) ?></div>
            <div style="float:right" id="toppagesel">
            <?php   

    /*****************Query for taking the count of the values of search criteria *********************** */
                        $countQuery = "Select count(*) as total from properties inner join cities on properties.city_id=cities.city_id inner join locality on properties.locality_id=locality.locality_id inner join properties_type on properties.property_id=properties_type.property_id where (cities.city_name like '%".$_SESSION['$cityName']."%' and locality.locality_name like '%".$_SESSION['$localityName']."%') or (property_price_min between '".$_SESSION['$minPrice']."' and '".$_SESSION['$maxPrice']."') or (property_price_max between '".$_SESSION['$minPrice']."' and '".$_SESSION['$maxPrice']."') or properties_type.bed_type='".$_SESSION['$bedType']."' ";
                        //print_r($countQuery);
                        $result1 = mysql_query($countQuery);
                        //echo($result1[0]);
                        $queryCount = mysql_fetch_row($result1);
                        //print_r($queryCount);
                        //echo($result1[total]);
                        //exit;
                        $pages->items_total = $queryCount[0];
                        //echo ($pages->items_total);
                        $pages->mid_range = 2;

                        $pages->paginate();
                        echo $pages->display_pages();       
                        echo $pages->display_items_per_page();

                        $query = "SELECT * from properties inner join cities on properties.city_id=cities.city_id inner join locality on properties.locality_id=locality.locality_id inner join properties_type on properties.property_id=properties_type.property_id where (cities.city_name like '%".$_SESSION['$cityName']."%' and locality.locality_name like '%".$_SESSION['$localityName']."%') or (property_price_min between '".$_SESSION['$minPrice']."' and '".$_SESSION['$maxPrice']."') or (property_price_max between '".$_SESSION['$minPrice']."' and '".$_SESSION['$maxPrice']."') or (properties_type.bed_type='".$_SESSION['$bedType']."') $pages->limit";

            $result = mysql_query($query) or die(mysql_error());

            //}
            //echo $query;  
            //$getProperty =    $propertyDetails->getPropertyDetailsByCityIdPaginate($_SESSION['$cityId'],$limit);
            ?>
            </div>
        </div> 
```

我知道我必须**在选中复选框时编写一个 js 函数**，并将参数传递给 .php 页面并处理查询以返回结果，但不知道该怎么做并将上面**的当前记录替换**为过滤记录以及分页。这是我的分页类供参考

```
class Paginator{
var $items_per_page;
var $items_total;
var $current_page;
var $num_pages;
var $mid_range;
var $low;
var $limit;
var $return;
var $default_ipp;
//var $querystring;
var $ipp_array;

function Paginator()
{
    $this->current_page = 1;
    $this->mid_range = 2;
    $this->ipp_array = array(2,4,6,8,10,'All');
    $this->items_per_page = (!empty($_GET['ipp'])) ? $_GET['ipp']:$this->default_ipp;
}

function paginate()
{
    if(!isset($this->default_ipp)) $this->default_ipp='8';
    if($_GET['ipp'] == 'All')
    {
        $this->num_pages = 1;
       //$this->items_per_page = $this->default_ipp;
    }
    else
    {
        if(!is_numeric($this->items_per_page) OR $this->items_per_page <= 0) $this->items_per_page = $this->default_ipp;
        $this->num_pages = ceil($this->items_total/$this->items_per_page);
    }
    $this->current_page = (isset($_GET['page'])) ? (int) $_GET['page'] : 1 ; // must be numeric > 0
    $prev_page = $this->current_page-1;
    $next_page = $this->current_page+1;
    if($_GET)
    {
        $args = explode("&",$_SERVER['QUERY_STRING']);
        foreach($args as $arg)
        {
            $keyval = explode("=",$arg);
            if($keyval[0] != "page" And $keyval[0] != "ipp") $this->querystring .= "&" . $arg;
        }
    }

    if($_POST)
    {
        foreach($_POST as $key=>$val)
        {
            if($key != "page" And $key != "ipp") $this->querystring .= "&$key=$val";
        }
    }
    if($this->num_pages > 4)
    {
        $this->return = ($this->current_page > 1 And $this->items_total >= 10) ? "<a class=\"paginate\" href=\"$_SERVER[PHP_SELF]?page=$prev_page&ipp=$this->items_per_page$this->querystring\">&laquo; Previous</a> ":"<span class=\"inactive\" href=\"#\">&laquo; Previous</span> ";

        $this->start_range = $this->current_page - floor($this->mid_range/2);
        $this->end_range = $this->current_page + floor($this->mid_range/2);

        if($this->start_range <= 0)
        {
            $this->end_range += abs($this->start_range)+1;
            $this->start_range = 1;
        }
        if($this->end_range > $this->num_pages)
        {
            $this->start_range -= $this->end_range-$this->num_pages;
            $this->end_range = $this->num_pages;
        }
        $this->range = range($this->start_range,$this->end_range);

        for($i=1;$i<=$this->num_pages;$i++)
        {
            if($this->range[0] > 2 And $i == $this->range[0]) $this->return .= " ... ";
            // loop through all pages. if first, last, or in range, display
            if($i==1 Or $i==$this->num_pages Or in_array($i,$this->range))
            {
                $this->return .= ($i == $this->current_page And $_GET['page'] != 'All') ? "<a title=\"Go to page $i of $this->num_pages\" class=\"current\" href=\"#\">$i</a> ":"<a class=\"paginate\" title=\"Go to page $i of $this->num_pages\" href=\"$_SERVER[PHP_SELF]?page=$i&ipp=$this->items_per_page$this->querystring\">$i</a> ";
            }
            if($this->range[$this->mid_range-1] < $this->num_pages-1 And $i == $this->range[$this->mid_range-1]) $this->return .= " ... ";
        }
        $this->return .= (($this->current_page < $this->num_pages And $this->items_total >= 10) And ($_GET['page'] != 'All') And $this->current_page > 0) ? "<a class=\"paginate\" href=\"$_SERVER[PHP_SELF]?page=$next_page&ipp=$this->items_per_page$this->querystring\">Next &raquo;</a>\n":"<span class=\"inactive\" href=\"#\">&raquo; Next</span>\n";
        $this->return .= ($_GET['page'] == 'All') ? "<a class=\"current\" style=\"margin-left:10px\" href=\"#\">All</a> \n":"<a class=\"paginate\" style=\"margin-left:10px\" href=\"$_SERVER[PHP_SELF]?page=1&ipp=All$this->querystring\">All</a> \n";
    }
    else
    {
        for($i=1;$i<=$this->num_pages;$i++)
        {
            $this->return .= ($i == $this->current_page) ? "<a class=\"current\" href=\"#\">$i</a> ":"<a class=\"paginate\" href=\"$_SERVER[PHP_SELF]?page=$i&ipp=$this->items_per_page$this->querystring\">$i</a> ";
        }
        $this->return .= "<a class=\"paginate\" href=\"$_SERVER[PHP_SELF]?page=1&ipp=All$this->querystring\">All</a> \n";
    }
    $this->low = ($this->current_page <= 0) ? 0:($this->current_page-1) * $this->items_per_page;
    if($this->current_page <= 0) $this->items_per_page = 0;
    $this->limit = ($_GET['ipp'] == 'All') ? "":" LIMIT $this->low,$this->items_per_page";
}
function display_items_per_page()
{
    $items = '';
    if(!isset($_GET[ipp])) $this->items_per_page = $this->default_ipp;
    foreach($this->ipp_array as $ipp_opt) $items .= ($ipp_opt == $this->items_per_page) ? "<option selected value=\"$ipp_opt\">$ipp_opt</option>\n":"<option value=\"$ipp_opt\">$ipp_opt</option>\n";
    return "<span class=\"paginate\">Items per page:</span><select class=\"paginate\" onchange=\"window.location='$_SERVER[PHP_SELF]?page=1&ipp='+this[this.selectedIndex].value+'$this->querystring';return false\">$items</select>\n";
}
function display_jump_menu()
{
    for($i=1;$i<=$this->num_pages;$i++)
    {
        $option .= ($i==$this->current_page) ? "<option value=\"$i\" selected>$i</option>\n":"<option value=\"$i\">$i</option>\n";
    }
    return "<span class=\"paginate\">Page:</span><select class=\"paginate\" onchange=\"window.location='$_SERVER[PHP_SELF]?page='+this[this.selectedIndex].value+'&ipp=$this->items_per_page$this->querystring';return false\">$option</select>\n";
}
function display_pages()
{
    return $this->return;
} 
```

}

如何在我的场景中实现过滤器部分？任何帮助将不胜感激。

编辑： **process.php**

```
 <?php session_start();

    include_once("includes/classes/db_connect.php");
    include_once("pagination/paginator.class.php");

    $value = $_POST['check']; 
    echo $value;

    $sql="SELECT * from properties inner join cities on properties.city_id=cities.city_id inner join suburbs on properties.suburb_id=suburbs.suburb_id where (cities.city_name like '%".$_SESSION['$cityName']."%' and suburbs.suburb_name like '%".$value."%')  $pages->limit";

    echo $sql;
    $result = mysql_query($sql);
    //$data = mysql_fetch_assoc($result);
    /*echo "<pre>" ;
    print_r($data);
    echo "</pre>" ; */
    while($row=mysql_fetch_assoc($result))
    {
            ?>
          <div class="projectlisttiger">        

        <div class="spacer5">&nbsp;</div>
                    <div class="listnewimg flt">
                        <a href="p-kolte-patil-cilantro-wagholi-pune.php">
                            <!--<img src="admin/uploads/<?php echo ($row['property_cover_image']) ?>" width="186" height="125" border="0">
                            <img src="admin/uploads/Cilantra1/1cilantra-large.jpg" width="186" height="125" border="0">-->
                        </a>
                         <div class="newlistlaunch"><a href="p-kolte-patil-cilantro-wagholi-pune.php"><img width="65" height="65" border="0" src="images/projects/kolte-patil/cilantra/new_launch_blue.png"></a>
                         </div>                             
                    </div>

                    <div class="listright">
                        <div style="width:498px; height:42px;" class="flt">
                            <div class="list-logo flt">
                                <div class="buildborder"><a href="p-kolte-patil-cilantro-wagholi-pune.php"><img width="80" height="36" border="0" align="absmiddle" alt="Kolte Patil" src="admin/uploads/<?php echo $row['builder_logo']?>"></a>
                                </div>
                                   <div class="tablistname"><a href="p-kolte-patil-cilantro-wagholi-pune.php"><?php echo $row['property_name'] ?></a></div>
                            </div>   
                            <?php if ($row['property_price_min']!=0) { ?>      
                            <div class="listprice">
                                <img width="18" height="18" align="absmiddle" src="images/city/rupee_icon.gif"> <?php echo $row['property_price_min'] ?> Lacs - <?php echo $row['property_price_max'] ?> Lacs       
                            </div>
                            <?php } else { ?>
                            <div class="listprice">
                                 <img width="18" height="18" align="absmiddle" src="images/city/rupee_icon.gif">Price on Request
                            </div>
                            <?php } ?>

                        </div>

                            <div class="spacer3">&nbsp;</div>        

                        <div class="listbox">
                            <a href="p-kolte-patil-cilantro-wagholi-pune.php"><strong>Address</strong>:<?php echo $row['locality_name'] ?>, <?php echo $row['city_name'] ?><br> <strong>Types</strong>: 2BHK &amp; 3BHK
                            <br><strong>Sizes:</strong> <?php echo $row['property_size_min'] ?> sqft - <?php echo $row['property_size_max'] ?> sqft </a>
                        </div>

                        <div style="margin-left:-3px;" class="flt">
                            <div style="width:110px;" class="flt"><a style="text-decoration:none;" href="p-kolte-patil-cilantro-wagholi-pune.php"><input type="button" value="View Details" class="detail_project"></a>
                            </div>     
                          <div style="width:110px;" class="flt"><input type="button" onClick="showEnqForm('2659','Cilantro'); return false;" value="Enquire Now" class="enquire_project"></div>
                        </div>
                               <div class="spacer">&nbsp;</div>                                 
                    </div>
                    <div class="spacer15">&nbsp;</div>              
           </div>
<?php
    }
?> 
```

编辑::通过在js文件中使用这个解决了显示部分

```
 function changeResults(){
        var data = { 'venue[]' : []};
    $("input:checked").each(function() {
            var chck1 = $(this).val();
        //alert(chck1);
        data['venue[]'].push($(this).val());        
    });

 $.ajax({
  type : 'POST',
  url : 'process.php',
  data : data,
  success : function(data){
      $('#project_section').html(data); // replace the contents coming from php file
        }  
    });
} 
```

但是我的分页不能像在 php 中那样工作。我已经添加了分页器类。我怎样才能解决这个问题，以便分页也可以处理响应。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T05:58:36.270

在复选框上使用javascript的onchange事件并调用函数这里是函数

```
function changeResults(){
    // Now get the values of checkbox
    var chk1 = $('#checkbox1').val(); // checkbox1 is id of checkbox
    $.ajax({
     type : 'POST',
     url : 'process.php';
     data : 'check='+chk1,
     success : function(data){
          $('#data-div').html(data); // replace the contents coming from php file
     }  
    });
} 
```

分离你的 php 文件

```
$value = $_POST['check']; 
```

现在把这个 $value 放在你的查询中

# sql - 如何匹配字符串中的特定模式

> ID：10908692
> 
> 赞同：0
> 
> 时间：2012-06-06T05:39:32.730
> 
> 标签：sql, oracle, stored-procedures, plsql, oracle11g

我返回了一个程序，它将检查是否存在哪个文件，它将检查列的编号

```
create or replace procedure chkcsvfile
(P_UTLDIR VARCHAR2,
P_FILENAME  VARCHAR2,
P_tabnam   VARCHAR2
)
is
  P_fieldel varchar2(2):= ',';
    V1 VARCHAR2(32767) ;
   P_errlen number :=0;
   lv_a number;
   lv_b number;
   lv_c number;
   lv_d number;
   lv_check_file_exist boolean; 
   v_file utl_file.file_type;  

 cursor c1  is
  select count(*) from user_tables where TABLE_NAME =P_tabnam;

  cursor c2  is
  select count(*) from user_tab_columns where TABLE_NAME =P_tabnam;

begin

open c1;
fetch c1 into lv_c;
if lv_c = 0 then
dbms_output.put_line('table name is invalid : ' || P_tabnam);
end if;

--'test wheather file is  available or not'
dbms_output.put_line ('test wheather file is  available or not');
utl_file.fgetattr (P_UTLDIR,P_FILENAME, lv_check_file_exist, lv_a, lv_b );
if lv_check_file_exist then

dbms_output.put_line('file  ' ||P_FILENAME  ||'  exists');

v_file := utl_file.fopen(P_UTLDIR,P_FILENAME, 'R');

UTL_FILE.get_line (v_file ,V1,32767);

DBMS_OUTPUT.put_line ('V1 :' || V1);

if (REGEXP_like (V1, ',',1))
then
P_errlen  := P_errlen +1 ;
dbms_output.put_line ('errrooooooooooooooooooooooooooooooooooorr'); 
dbms_output.put_line (P_errlen );

end if;

end if;
if not lv_check_file_exist then
dbms_output.put_line('file ' ||  P_FILENAME  ||'  does not exist');
end if;
if lv_check_file_exist is null then
dbms_output.put_line('file check null');
end if;
if lv_check_file_exist is not null then
dbms_output.put_line('file check not null');
end if;
dbms_output.put_line('lv_a-->'||lv_a);
dbms_output.put_line('lv_b-->'||lv_b);

open c2;
fetch c2 into lv_d;
dbms_output.put_line ('No of columns in a table : ' || lv_d );

end;
/ 
```

现在我的问题是我必须在一个字符串中匹配“，”，我想要它的计数。我已经编写了程序，但它没有给我具体的计数。

字符串中的数据以下列格式给出

```
7839,KING      ,PRESIDENT,0000,17-nov-1981, 005000.00 ,000000.00,10, 
```

请帮助我提前谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T05:57:00.100

由于您使用的是 11g，因此可以使用[regexp_count](http://docs.oracle.com/cd/B28359_01/server.111/b28286/functions135.htm)函数。

```
select regexp_count('7839,KING      ,PRESIDENT,0000,17-nov-1981, 005000.00 ,000000.00,10,',',')
from dual 
```

# java - 如何在jsp页面中显示饼图？

> ID：10908696
> 
> 赞同：0
> 
> 时间：2012-06-06T05:39:52.690
> 
> 标签：java, jfreechart, pie-chart

```
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<%@ page import="java.awt.*"%>
<%@ page import="java.io.*"%>
<%@ page import="org.jfree.chart.*"%>
<%@ page import="org.jfree.chart.entity.*"%>
<%@ page import="org.jfree.data.general.*"%>

<%
    DefaultPieDataset pieDataset = new DefaultPieDataset();
    pieDataset.setValue("JavaWorld", new Integer(75));
    pieDataset.setValue("Other", new Integer(25));
    JFreeChart chart = ChartFactory.createPieChart("Sample Pie Chart",pieDataset,true,true,false);
%>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Pie Chart</title>
</head>
<body>
    <IMG SRC="piechart.png" WIDTH="600" HEIGHT="400" BORDER="0"
        USEMAP="#chart">
</body>
</html> 
```

输出是一个空白屏幕，它没有抛出任何异常..

如何在此页面中显示饼图？

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:46:55.977

创建图表后保存图表如下：

```
 ChartUtilities.saveChartAsJPEG(new File(path/piechart.png"),chart,400, 300); 
```

进而

采用

```
<IMG SRC=path/"piechart.png" WIDTH="600" HEIGHT="400" BORDER="0"
        USEMAP="#chart"> 
```

**其他方式如**[如何在jsp中使用JFreeChart显示折线图？](https://stackoverflow.com/questions/665222/how-to-display-line-graph-using-jfreechart-in-jsp)

```
protected void processRequest(HttpServletRequest request, HttpServletResponse response)
    throws ServletException, IOException {

        response.setContentType("image/png");
        ServletOutputStream os = response.getOutputStream();
        ImageIO.write(getChart(request), "png", os);
        os.close();
    }

private RenderedImage getChart(HttpServletRequest request) {
        String chart = request.getParameter("chart");
        // also you can process other parameters like width or height here
        if (chart.equals("myDesiredChart1")) {
            JFreeChart chart = [create your chart here];
            return chart.createBufferedImage(width, height)
        } 
```

并显示为

```
<img src="/ChartDrawerServlet?chart=myDesiredChart1&width=..and other processed parameters" ..> 
```

[在此处](https://stackoverflow.com/questions/665222/how-to-display-line-graph-using-jfreechart-in-jsp)查看 Martin Lazar 的答案

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-15T05:41:35.273

终于我得到了答案......

.....在servlet中......

```
public void getPieChart() {

        DefaultPieDataset pieDataset = new DefaultPieDataset();
    pieDataset.setValue("JavaWorld", new Integer(75));
    pieDataset.setValue("Other", new Integer(25));

        JFreeChart chart = ChartFactory.createPieChart("Discounts Used by Category ", data, true, true, false);
        //chart.setBackgroundPaint(new Color(222, 222, 255));
            final PiePlot plot = (PiePlot) chart.getPlot();
            plot.setBackgroundPaint(Color.white);
            plot.setCircular(true);

        try {

            final ChartRenderingInfo info = new ChartRenderingInfo(new StandardEntityCollection());
            final File file1 = new File(getServletContext().getRealPath(".") + "/images/charts/piechart.png");

            ChartUtilities.saveChartAsPNG(file1, chart, 600, 400, info);
        } catch (Exception e) {
            System.out.println(e);

        }
    } 
```

......在html页面......

```
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Pie Chart</title>
</head>
<body>
    <IMG SRC="piechart.png" WIDTH="600" HEIGHT="400" BORDER="0"
        USEMAP="#chart">
</body>
</html> 
```

..................................................... …………………………………………………………………………………………

......................或者只使用jsp页面............

```
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<%@ page import="java.awt.*"%>
<%@ page import="java.io.*"%>
<%@ page import="org.jfree.chart.*"%>
<%@ page import="org.jfree.chart.entity.*"%>
<%@ page import="org.jfree.data.general.*"%>

<%

            DefaultPieDataset pieDataset = new DefaultPieDataset();
        pieDataset.setValue("JavaWorld", new Integer(75));
        pieDataset.setValue("Other", new Integer(25));

            JFreeChart chart = ChartFactory.createPieChart("Discounts Used by Category ", data, true, true, false);
            //chart.setBackgroundPaint(new Color(222, 222, 255));
                final PiePlot plot = (PiePlot) chart.getPlot();
                plot.setBackgroundPaint(Color.white);
                plot.setCircular(true);

            try {

                final ChartRenderingInfo info = new ChartRenderingInfo(new StandardEntityCollection());
                final File file1 = new File(getServletContext().getRealPath(".") + "/images/charts/piechart.png");

                ChartUtilities.saveChartAsPNG(file1, chart, 600, 400, info);
            } catch (Exception e) {
                System.out.println(e);

            }
        }
%>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Pie Chart</title>
</head>
<body>
    <IMG SRC="piechart.png" WIDTH="600" HEIGHT="400" BORDER="0"
        USEMAP="#chart">
</body>
</html> 
```

# python - GTK 应用程序具有旧的 Windows 2000 外观/外观

> ID：10908697
> 
> 赞同：1
> 
> 时间：2012-06-06T05:39:54.607
> 
> 标签：python, gtk, exe

**当我将 PyGTK 脚本编译为 .exe 时，GUI 具有旧的 Windows 2000 外观和按钮，而不是 Windows XP 和 up 外观**

请注意，这只发生在我将脚本转换为 .exe 时。如果我运行脚本（未转换为 .exe），则小部件皮肤具有正常/现代窗口外观。但是，如果我使用 Py2Exe 或 PyInstaller 将我的脚本转换为 .exe，它们都会生成一个使用旧 Windows 2000 按钮的 .exe。

**你知道我怎样才能保留现代 Windows 主题/皮肤吗？**

背景资料：

*   我正在我的 Windows 7（64 位）笔记本电脑上使用 PyInstaller 编译我的脚本
*   python 脚本使用 PyGTK 2.0 和 Python 2.7

# iphone - 使用我的特定应用程序获取 twitter 朋友

> ID：10908702
> 
> 赞同：0
> 
> 时间：2012-06-06T05:40:09.477
> 
> 标签：iphone, twitter

我正在将 iphone 设备上的 twitter api 与特定应用程序集成。我想获取使用同一应用程序的关注者列表。

是否可以获得使用同一应用程序的关注者列表？

谢谢，
吉姆。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:09:41.737

在你的 twitter api 中使用这个 api 调用来让你的关注者进入 twitter

```
- (NSString *)getFollowersIncludingCurrentStatus:(BOOL)flag 
```

{ NSString *path = [NSString stringWithFormat:@"statuses/followers.%@", API_FORMAT];

```
NSMutableDictionary *params = [NSMutableDictionary dictionaryWithCapacity:0];
if (!flag) {
    [params setObject:@"true" forKey:@"lite"]; // slightly bizarre, but correct.
}

return [self _sendRequestWithMethod:nil path:path queryParameters:params body:nil 
                        requestType:MGTwitterFollowerUpdatesRequest
                       responseType:MGTwitterUsers]; 
```

}

# php - 树枝安装及路径方向

> ID：10908706
> 
> 赞同：1
> 
> 时间：2012-06-06T05:40:28.180
> 
> 标签：php, twig, template-engine

我在安装我的项目时遇到了这个问题。有关它的详细信息如下：

1.  我的项目适用于 PHP、mySql 和 m 在 windows xp SP2 上工作
2.  它还需要安装imagick和教义。我已经用 XAMPP 安装了这些；现在它向我展示了关于树枝的错误，即：

> 需要安装 Twig 并在 PHP include_path 中。“未找到 Twig_Autoloader”

3.  我在`php.ini`文件中包含路径为`"C:\Program Files\xampp\php\PEAR\DoctrineORM-2.2.0"`

4.  下载并将 Twig 1.8.2 解压缩到`"C:\Program Files\xampp\php\PEAR\DoctrineORM-2.2.0\Doctrine\Symfony\Component"`其中，但仍然无法正常工作。

请给我解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-29T04:17:21.290

据我所知，当您在 Windows 机器上安装 XAMPP 应用程序时，PHP 已经将 PEAR 目录视为包含。我按照 TWIG 网站上的 PEAR 安装说明安装了 TWIG。只需包括自动加载器..

```
require_once 'Twig/Autoloader.php';
Twig_Autoloader::register(); 
```

并按照[TWIG 网站的说明进行操作](http://twig.sensiolabs.org/doc/intro.html)

# android - 为什么用 Bitmap.CompressFormat.JPEG 压缩时图像的颜色会发生变化

> ID：10908707
> 
> 赞同：7
> 
> 时间：2012-06-06T05:40:58.613
> 
> 标签：android, image-processing, compression

我正在尝试压缩 Android 中相机拍摄的照片。但是当它被Bitmap.CompressFormat.JPEG压缩时，图像的颜色发生了变化。我怎么解决这个问题？谢谢

我放了一些从我的代码生成的示例图像。您可以看到图像顶部的纸张颜色不同。

这是代码片段：

```
Bitmap bitmap = BitmapFactory.decodeFile(Common.FOLDER_PATH + "pic.jpg");

FileOutputStream stream2 = new FileOutputStream(Common.FOLDER_PATH + "pic100.jpg");         
bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream2); 

FileOutputStream stream3 = new FileOutputStream(Common.FOLDER_PATH + "pic100.png");         
bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream3); 
```

这是原始图像： ![原来的](../Images/7381bbfd31cb440f4a25f3f4523bef33.png)
这是 JPEG： ![jpg](../Images/80c3c66c71cbc610e1e173c9502164fc.png)
这是 PNG： ![PNG](../Images/ff7929d560d52aa03f728d9e9cc76f32.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:10:26.213

[JPEG](http://en.wikipedia.org/wiki/JPEG)是一种[有损压缩](http://en.wikipedia.org/wiki/Lossy_compression)格式，在压缩过程中可能会丢失图像信息。牺牲原始图像信息是为了获得更好的压缩比（导致文件更小）。

但是，如果这对您来说不可接受，您应该使用其中一种无损压缩方法，其中包括[PNG](http://en.wikipedia.org/wiki/Portable_Network_Graphics)。

# iphone - 在 iOS 上的 OpenGL ES 着色器中混合多个纹理会导致反向行为

> ID：10908710
> 
> 赞同：1
> 
> 时间：2012-06-06T05:41:06.280
> 
> 标签：iphone, objective-c, ios, ipad, opengl-es

我有一个 OpenGL ES Shader 片段着色器，它使用 mix 函数在视频帧上放置叠加层。这是我的着色器：

```
#ifdef GL_ES
precision mediump float;
#endif

varying vec2 textureCoordinate;

uniform sampler2D videoFrameY; 
uniform sampler2D videoFrameUV;
uniform sampler2D overlay;

const mat3 yuv2rgb = mat3(
                          1,        1,          1,
                          0,        -.21482,    2.12798,
                          1.28033,  -.38059,    0
                          );

void main() {

    vec3 yuv;
    vec4 ovr;

    yuv.x = texture2D(videoFrameY, textureCoordinate).r;
    yuv.yz = texture2D(videoFrameUV, textureCoordinate).rg - vec2(0.5, 0.5);
    ovr = texture2D(overlay, textureCoordinate);

    vec3 rgb = yuv2rgb * yuv;

    gl_FragColor = mix(ovr, vec4(rgb, 1.0), ovr.a);
} 
```

没有覆盖纹理，喂`gl_FragColor`这个：

```
gl_FragColor = vec4(rgb, 1.0); 
```

工作得很好，我的视频也显示出来了。现在我正在创建我的叠加纹理，`CATextLayer`如下所示：

```
- (void)generateOverlay {
    CATextLayer *textLayer = [CATextLayer layer];
    [textLayer setString:@"Sample test string"];
    [textLayer setFont:(__bridge CFStringRef)@"Helvetica"];
    [textLayer setFontSize:(_videoHeight / 6)];
    [textLayer setAlignmentMode:kCAAlignmentLeft];
    [textLayer setBounds:CGRectMake(0, 0, _videoWidth, _videoHeight)];

    CGSize layerSize = textLayer.bounds.size;
    CGColorSpaceRef colorspace = CGColorSpaceCreateDeviceRGB();
    void *imageData = malloc(layerSize.height * layerSize.width * 4);
    CGContextRef context = CGBitmapContextCreate(imageData, layerSize.width, layerSize.height, 8, 4 * layerSize.width, colorspace, kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);
    CGColorSpaceRelease(colorspace);
    CGContextClearRect(context, CGRectMake(0, 0, layerSize.width, layerSize.height));
    CGContextTranslateCTM(context, 0, layerSize.height - layerSize.height);
    [textLayer renderInContext:context];

    glActiveTexture(GL_TEXTURE2);
    glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, layerSize.width, layerSize.height, 0, GL_RGBA, GL_UNSIGNED_BYTE, imageData);

    CGContextRelease(context);
    free(imageData);

} 
```

问题是结果是相反的。因此，它们看起来像这样：

[![截屏](../Images/da3ea6c5b5112ca81c30b67ec8c3170a.png)](https://i.stack.imgur.com/NxMKd.png)
[（来源：[c.tro.pe](http://c.tro.pe/HAXc/photo.PNG)）]

事实是它们以两种方式倒置。首先，不是蓝色被 alpha'ed 和视频显示，文本是 alpha，这就是视频显示的地方。其次，文字是镜像的。镜像可能是使用顶点值的结果，但是视频使用相同的坐标是正确的。我确定这是一个快速的重新排列，但我不确定要调整什么。谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T16:23:50.920

对于混合，`mix(x, y, a)`函数在`x`和`y`基于之间进行插值`a`。`a`of 0 给你所有`x`，`a`of 1.0 给你所有`y`。您正在关闭文本图层的 alpha，因此对于您想要的叠加层，您需要按如下方式反转您的顺序：

```
gl_FragColor = mix(vec4(rgb, 1.0), ovr, ovr.a); 
```

关于旋转，请记住 iOS 后置摄像头是横向安装的，前置摄像头是横向安装的，因此对于纵向，您需要旋转传入的视频帧。您似乎在顶点或纹理坐标中执行该旋转。您将需要第二组未旋转的纹理坐标以用于对叠加图像进行采样，或者在生成其纹理时，您需要在匹配的横向左旋转处绘制标签。

# php - PHP 三元条件。是或否，为什么？

> ID：10908713
> 
> 赞同：0
> 
> 时间：2012-06-06T05:41:43.090
> 
> 标签：php, syntax, ternary-operator

有人告诉我，除非必要，否则不要使用三元条件运算符 (?:)。

我的问题是，为什么？

我喜欢在编写 if/else 时使用三元运算符，每个语句只有一个语句。我认为这对我来说看起来更容易，而且更容易写。

同样，只有当它真的很短（if/else 的 1 行）时。我可以理解为什么嵌套和多重三元是邪恶的。

那么这种做事方式有什么问题呢？这完全是偏好问题还是有性能成本？

此外，每当我有超过 2 或 3 个 else 或 elseif 条件时，我通常使用 switch 语句。这是好习惯吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T05:44:55.427

我认为三级运营商没有问题（也从未听说过问题）。事实上，它使代码更简洁，除非读者是初学者，否则在我看来更清晰。

同样，`switch`它实际上只是一个抽象，更多的是关于清晰度。当我只依赖一个变量时，我使用 switch。如果您需要在每个案例中进行额外检查，那是很糟糕的，但您似乎已经非常清楚这些事情了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:49:18.137

我也看不出有什么问题。至于性能，这些类型的东西通常只是“语法糖”。基本上它在引擎盖下转换为相同的代码，所以它只是为了您的方便。当然，如果它最终使您的代码读/写变得不那么方便，那么就没有合理的理由使用它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T05:52:57.943

奇怪的是，我的前辈告诉我，只要您只是测试真假条件，就使用三元运算符，而且速度也更快。我同意。

但在多个条件的情况下，我总是更喜欢 if else 循环它很容易。

而且我从未使用过 switch 语句，因为 if else 可以为我完成这项工作。

```
 so ternary opertor are best for one line of if else and its easy and fast 
```

唯一的原因是他们不喜欢 multiplte if else 是因为它对新用户来说变得复杂且容易出错

# python - Google 财经将我的 Python 脚本识别为机器人并阻止它

> ID：10908715
> 
> 赞同：1
> 
> 时间：2012-06-06T05:42:15.557
> 
> 标签：python, bots, google-finance

我写了一个脚本来检索谷歌金融的股票数据并将其打印出来，既漂亮又简单。它总是有效，但从今天早上开始，我只得到一个页面，告诉我我可能是一个自动脚本而不是股票数据。当然，作为脚本，我无法通过验证码。我能做些什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:48:53.640

好吧，你终于达到了一个相当具有挑战性的境界。解码验证码。确实存在将简单验证码解码为代码的 OCR 方法。似乎不适用于谷歌验证码。听说有一些公司提供手动验证码解码服务，可以尝试使用一些。^_^ 哈哈

好吧，说真的，如果谷歌不希望你那样做，那么解码这些验证码并不容易。毕竟，为什么要谷歌金融数据，还有很多其他的供应商，对吧？尝试抓取这些网站。

# java - 用于获取整个对象架构的 Graph Api

> ID：10908720
> 
> 赞同：-1
> 
> 时间：2012-06-06T05:42:44.247
> 
> 标签：java, facebook-graph-api

我搜索了很多但没有找到所以把这个问题放在这里 -

是否有任何图形 api 来获取对象名称（照片、专辑 ..）的列表及其 json 格式的数据字段？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T05:53:58.763

我假设您在问如何在 Java 中获取 JSON 表示，因为 Facebook 的 Graph API 已经返回 JSON 格式的对象（例如[https://graph.facebook.com/btaylor](https://graph.facebook.com/btaylor)）

您可以在此处使用 RestFB Java API：[http ://restfb.com/](http://restfb.com/)

要将 Object 转换为 JSON 表示，只需使用 DefaultJsonMapper

```
User user = new User(); // RestFB entity of a Facebook User
DefaultJsonMapper mapper = new DefaultJsonMapper();
String toJson = mapper.toJson(user); 
```

# asp.net - 带有自定义工具栏的 HtmlEditor，其中包括对图像的支持

> ID：10908725
> 
> 赞同：-3
> 
> 时间：2012-06-06T05:43:22.673
> 
> 标签：asp.net, ajaxcontroltoolkit

我想要一个在本地和网络上获取图像的 htmleditor！

我使用 Ajaxcontroltoolkit，但它在本地获取图像。我可以为它添加一个图片网址？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T05:45:33.710

结帐[CKEditor](http://ckeditor.com/)。SO中已经有很多与此相关的问题。

# powershell - 如何使用 powershell 以编程方式查找用户 HKEY_USERS 注册表项？

> ID：10908727
> 
> 赞同：18
> 
> 时间：2012-06-06T05:43:42.560
> 
> 标签：powershell, windows-7, registry

如果您知道本地计算机上该用户的登录名，我想知道是否有办法在 HKEY_USERS 中找到本地用户的注册表项。我想以编程方式将内容添加到特定用户的注册表项（例如 Autorun），但我只知道用户名。如何确定 HKEY_USERS 中哪些神秘用户实际上属于特定用户名？

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2012-06-06T06:07:18.117

```
$User = New-Object System.Security.Principal.NTAccount($env:UserName)
$sid = $User.Translate([System.Security.Principal.SecurityIdentifier]).value 
```

上面的代码片段为您提供了登录用户的 SID。当附加到 HKEY_USERS 时，这将为您提供该用户名的正确路径。

```
New-PSDrive HKU Registry HKEY_USERS
Get-Item "HKU:\${sid}" 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-10-29T23:01:31.820

此答案不完整，因为 HKEY_USERS 不包含所有用户，仅包含当前活动的用户。

您需要为要使用的用户加载注册表配置单元

```
reg load hku\ThatUserName C:\Users\ThatUserName\NTUSER.DAT 
```

*有关如何为所有*用户加载注册表配置单元的示例，请参阅[此 SO 答案。](https://stackoverflow.com/questions/11013466/loading-ntuser-dat-with-powershell)

 *然后，您可以使用以下命令访问该用户的注册表

```
Set-Location HKU:\ThatUserName 
```

或者调用 New-PSDrive 为用户的注册表提供它自己的驱动器，如下所示：

```
New-PSDrive -Name HKThatUser -PSProvider Registry -Root HKU\ThatUserName 
Set-Location HKThatUser: 
```

确保卸载注册表，并进行垃圾收集以确保在完成后释放配置单元：

```
reg unload hku\ThatUserName
[gc]::collect() 
```

有关更多信息，请参阅[此帖子](http://social.technet.microsoft.com/Forums/scriptcenter/en-US/69a44242-e60f-4643-92d1-ed7440181b66/load-hive-equivlent-in-powershell?forum=ITCG)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-08-19T12:07:45.787

这对我有用

```
ls 'hklm:software/microsoft/windows nt/currentversion/profilelist' | ? {
  $_.getvalue('profileimagepath') -match 'Steven'
} | % pschildname 
```

[例子](http://github.com/svnpenn/dotfiles/blob/476bdb6/hku.ps1#L3-L5)*

# python - Python如何从txt文件中迭代数据以输入坐标变换公式？

> ID：10908728
> 
> 赞同：0
> 
> 时间：2012-06-06T05:44:00.647
> 
> 标签：python, input, formula, loops

python 和编程的初学者 - 我想从 inputfile.txt' 读取 WGS84 DD lat long 值并将它们转换为新的坐标系统 N/E 并将 N/E 输出写入'outputfile.txt。输入文件中还有其他数据列我想携带并写入新文件，省略未转换的坐标。我不确定如何将每行的纬度/经度一次一个地放入公式中，一行接一行，直到文件结束。我已经测试了输入数据和公式，并且知道它有效。为简洁起见，我省略了输入列表并显示公式。通过阅读此博客并观看 youtube 这我所了解的内容，我需要创建一个类，该类指定一种方法来根据类中包含的输入值和公式处理来自 txt 文件的数据。

```
import math
class Coordtrans
    def__init__(self, long, lat):
        self.long = long
        self.lat = lat
f = open('inputfile.txt')
for col in row[6:]

# how do input lat into formula?
# do I try all lats first, then longs (col by col), or one lat/long pair row by row?
# do I need a separate 'for' loop for lat and long?

#formulas

DB =Lat-Bo                           #lat from input file
u =DB*(L1+DB*(L2+DB*(L3+L4*DB)))
R =Ro-u
Y =(Lo-Long)*SinBo                   #long from input file
northing = No+u+R*math.sin(Y*math.pi/180)*math.tan(Y*math.pi/360) 
#write this output to ('outputfile.txt')
easting = Eo + R*math.sin(Y*math.pi/180)
#write to ('outputfile.txt') 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:31:31.570

您可以从公式中创建一个函数：

```
import csv

def latlong_to_ne(Lat, Long):
    DB =Lat-Bo                           #lat from input file
    u =DB*(L1+DB*(L2+DB*(L3+L4*DB)))
    R =Ro-u
    Y =(Lo-Long)*SinBo                   #long from input file
    northing = No+u+R*math.sin(Y*math.pi/180)*math.tan(Y*math.pi/360) 
    easting = Eo + R*math.sin(Y*math.pi/180)
    return northing, easting

with open('inputfile.txt', 'rb') as f1, open('outputfile.txt', 'wb') as f2:
    w = csv.writer(f2)
    for row in csv.reader(f):
        lat = float(row[7])
        long = float(row[8])
        N, E = latlong_to_ne(lat, long)
        newrow = row[:7] + [N, E, row[9]]
        w.writerow(newrow) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:09:17.780

这取决于如何在输入文本文件中重新表达 lat/lans。

尝试将 lats 和 lans 作为 Formualtion N AND E 的集合是一个好主意。

如果有一些字符分隔，您可以使用正则表达式来识别纬度/纬度。

# asp.net-mvc-3 - MVC Razor - 一年中的 12 个月使用 @Html.DropDownListFor()

> ID：10908730
> 
> 赞同：4
> 
> 时间：2012-06-06T05:44:05.927
> 
> 标签：asp.net-mvc-3, razor

我对 MVC 中的 HTML 帮助程序扩展非​​常陌生，更不用说在 Razor 中了，我正在寻找一种简单、整洁的方式来显示一年中 12 个月的下拉列表，其值为数字和文本日期的“MMM”表示。

所以最后的 HTML 应该是这样的：

```
<select>
  <option value="1">Jan</option>
  <option value="2">Feb</option>
  <option value="3">Mar</option>
  <!-- etc -->
</select> 
```

是否可以完全在视图中执行此操作？我需要用户的答案，`@Html.DropDownListFor()`以便我可以利用自动模型绑定。我接近下面的代码行，但它没有不同的值。

```
@Html.DropDownListFor(model => Model.DobMonth, new SelectList(Enumerable.Range(1,12).Select(r => new DateTime(2000, r, 1).ToString("MMM"))), "- -") 
```

由于非技术原因，我不能使用 jQuery 日期选择器。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-06-06T07:32:44.617

你快到了，问题是如果你在创建时不提供`dataValue`and`dataText`参数，`SelectList`它只会调用`ToString`项目并将它们用作选项的文本。

您需要从您的选择中返回文本、值对：

```
@Html.DropDownListFor(model => Model.DobMonth, new SelectList(
        Enumerable.Range(1, 12)
            .Select(r => new
                             {
                                Text = new DateTime(2000, r, 1).ToString("MMM"), 
                                Value = r.ToString()
                             }),
        "Value", "Text", Model.DobMonth)) 
```

如果您想要一个“空”项目，您需要手动添加它：

```
@Html.DropDownListFor(model => Model.DobMonth, new SelectList(
        new [] { new { Text = "- -", Value = (string)null } }.Concat(
        Enumerable.Range(1, 12)
            .Select(r => new
                             {
                                Text = new DateTime(2000, r, 1).ToString("MMM"), 
                                Value = r.ToString()
                             })),
        "Value", "Text", Model.DobMonth)) 
```

# xcode - 为什么 Xcode 的 Search Navigator 会搜索错误的项目文件？

> ID：10908735
> 
> 赞同：3
> 
> 时间：2012-06-06T05:44:33.407
> 
> 标签：xcode, search, project, navigator

我有一个用于我正在构建的游戏的大型 Xcode 项目。我最近切换了我正在使用的动画框架 (cocos2d) 的版本，为了保持整洁，我继续从头开始创建了一个全新的 Xcode 项目。

创建新项目文件后，我在文件系统中复制了所有源文件，然后通过将它们拖入 Xcode Project Navigator 将它们符号链接到新项目中。一切正常。

但这就是奇怪的地方。每当我使用 Xcode Search Navigator 对我的项目进行全局文本搜索时，它都会从*旧*项目中搜索文件！并且*只有*旧项目中的文件！

我能想到的唯一可能的解释是 Xcode 以某种方式将我的文件名识别为与旧项目中使用的相同，并决定忽略新版本而支持旧版本。Xcode 中有没有这样的缓存或偏好可以做这样的事情？请记住*路径*是不同的，因为新项目的文件都存在于一个全新的目录中。但是类名是一样的。

如果这是相关的：我曾经创建了一个 Xcode 工作区，其中包含该项目的旧版本（但不是新版本）。我很久以前就放弃了该工作区，因为它存在问题，转而直接使用该项目。

**更新：**这似乎是一个与 Xcode 相关的问题——我发现我的所有项目都缺乏搜索能力。我卸载了 Xcode（我有仍在使用开发者目录的版本）并安装了不使用开发者目录的最新版本（4.3.3），但我仍然看到这个问题。

我很好奇是否有人知道清除 Xcode 项目代码索引缓存的方法，如果存在这样的事情，可能会“重置”它对我的项目的了解，从而解决问题。图书馆目录中可能有一些东西？

关于可能发生的事情的最后一条线索：除了搜索导航器失败之外，我注意到我的一个项目仍在使用文件系统中不再存在的资源——再次让我认为 Xcode 已经在某处缓存了有关我的项目的信息现在正在使用我不再存在的文件的过时版本。 [这篇文章](https://stackoverflow.com/questions/5714372/how-to-empty-caches-and-clean-all-targets-xcode-4)通过重置模拟器的内容和设置帮助我解决了这个问题，但搜索问题仍然存在。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-12T00:34:44.660

你检查过你的查找选项吗？同样的问题困扰着我，然后我记得我在“我的范围”中添加了一个自定义范围，将 XCode 定向到我的另一个项目。将其更改回“工作区”可以解决问题。

# actionscript-3 - AS3 一个 MC 中的多个实例名称

> ID：10908741
> 
> 赞同：0
> 
> 时间：2012-06-06T05:44:58.247
> 
> 标签：actionscript-3, animation, multiple-instances

我很抱歉这个问题是多么令人困惑。

我有一个电影剪辑，它是一辆车。在汽车影片剪辑中，汽车有四个不同的角度。（例如左、右、前后）。我动态地改变汽车的车身颜色。在汽车的每个角度，汽车的车身都有一个实例名称“body”。我用代码改变颜色：

```
var tempcar = "car_mc" + i;
var myNewTransform = new ColorTransform();
myNewTransform.color = 0x000000 //in real life this is a random value
this[tempcar].body.transform.colorTransform = myNewTransform; 
```

一切正常，直到我告诉汽车影片剪辑 gotoAndPlay 帧“front”，我们看到汽车的前侧，然后我尝试再次将颜色更改应用到汽车前部的车身。我得到错误：

```
TypeError: Error #1009: Cannot access a property or method of a null object reference. 
```

有没有更好的方法来做我想做的事情？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:09:39.430

这是*旧*的ActionScript 2 处理方式。在 ActionScript 中，容器并不总是一个 MovieClip，它会除了散列来访问动态字段。此外，如果您通过 addChild 将其添加到显示列表中，结果也会有所不同，因为 ActionScript 3 中的情况并非如此，它可以自动处理子项。

您应该使用 Array 来存储和访问动态创建的实例。

```
// clazz would be the symbol
function createInstance(container:DisplayObjectContainer, clazz:Class, list:Array):Sprite
{
  const child:MovieClip = new clazz() as MovieClip;
  if (!child) throw new ArgumentError("Wrong type given");

  return list[list.length] = container.addChild(child);
}

function getInstanceAt(index:int, list:Array):Sprite
{
  return list[index] as Sprite;
} 
```

# jquery - 将 jQuery 变量插入“样式”属性的正确语法

> ID：10908746
> 
> 赞同：-1
> 
> 时间：2012-06-06T05:45:25.627
> 
> 标签：jquery

`var heightMap = $('.sticky-panel-map').outerHeight(true);`

`var fillerMap = $('<div style="height: '+ heightMap +'"/>');`

我不知道是语法错误还是什么？`heightMap`没有被应用，我在 Firebug 中得到了这个：

`<div style=""></div>`

正如我在评论中提到的那样，一切都很好：`$("<div>").css("height", heightMap)`

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T05:50:03.103

```
<div id = "styleheight">
</div> 
```

jQuery部分

```
var heightMap = $('.sticky-panel-map').outerHeight(true) + 'px';
$('#styleheight').css('height',heightMap) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T05:57:03.723

```
$("<div>").css("height", heightMap) 
```

或者

```
$("<div>").height(heightMap) 
```

完全等价。一般来说，除非 jQuery 有更专业的功能，否则 .css 可用于 CRUD 样式条目。看看这里：[http ://api.jquery.com/css/](http://api.jquery.com/css/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T05:48:20.207

尝试`$('<div></div>').attr('style', 'height: ' + heightMap);`

另一种选择是`$('<div></div>').height(heightMap);`

另外，请看这里：[http ://api.jquery.com/category/manipulation/](http://api.jquery.com/category/manipulation/)

# regex - 对 .htaccess 子域重写感到困惑（不是重定向）

> ID：10908751
> 
> 赞同：0
> 
> 时间：2012-06-06T05:45:44.213
> 
> 标签：regex, .htaccess, url, subdomain, masking

我有 2 个域指向我网站的根目录：

```
http://site1.com
http://site2.com

both point to http://dXXXXXXX.domain.com/ 
```

我将每个站点都设置为在子目录（同名）中查找其文件，所以

```
http://site1.com files are located in http://dXXXXXXX.domain.com/site1/
http://site2.com files are located in http://dXXXXXXX.domain.com/site2/ 
```

我想为 site1（可能还有 site2）创建一个*特殊*的子域，它实际上指向主目录中的一个文件夹（两个域可以共享的论坛）。我想用子域网址屏蔽真实网址，如下所示：

```
http://subdomain.site1.com masks http://dXXXXXXX.domain.com/shared_folder/ (not redirected) 
```

我的 .htaccess 文件（在最顶层目录中）如下所示：

```
Options +FollowSymLinks
RewriteEngine On

# Rewrite "www.domain.com -> domain.com" 
<IfModule mod_rewrite.c>
  RewriteCond %{HTTPS} !=on
  RewriteCond %{HTTP_HOST} ^www\.(.+)$ [NC]
  RewriteRule ^(.*)$ http://%1/$1 [R=301,L]
</IfModule>

# redirect site1.com to /site1 [folder]
# redirect site2.com to /site2 [folder]
RewriteCond %{ENV:REDIRECT_STATUS} ^$
RewriteCond %{HTTP_HOST} ^([^0-9]+)$ [NC]
RewriteRule ^(.*)$ /%1/$1 [QSA,L]

#i think this should work but it doesn't
#RewriteCond %{HTTP_HOST} ^subdomain\.site1\.com$ [NC]
#RewriteRule ^$ shared_folder [P] 
```

另外，如果可能的话，我想将每个域的绝对路径重定向到我的首选路径，如下所示：

```
http://dXXXXXXX.domain.com/site1/ redirects to http://site1.com
http://dXXXXXXX.domain.com/site2/ redirects to http://site2.com 
```

不确定是否有人会找到这些链接，但我希望通过对同一内容没有多个访问点来保持一切清洁（故意共享的 css 或论坛软件除外）

提前感谢您对我的任何帮助或见解

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-09T05:10:47.953

我想我想通了（因为它还没有坏掉！）

```
Options +FollowSymLinks
RewriteEngine On

# Rewrite/Redirect "www.domain.com -> domain.com" 
RewriteCond %{HTTP_HOST} ^www\.(.+)$ [NC]
RewriteRule ^(.*)$ http://%1/$1 [R=301,L]

# Rewrite/Redirect "domain.com/foo -> domain.com/foo/"
RewriteCond %{REQUEST_FILENAME} !-f         
RewriteCond %{REQUEST_URI} !(\.[a-zA-Z0-9]{1,5}|/|#(.*))$   
RewriteRule ^(.*)$ /$1/ [R=301,L]       

# Redirect/Pass through "subdomain.site1.com to /shared_folder/"
RewriteCond %{HTTP_HOST} ^subdomain\.([\w.]+)$ [NC]
RewriteRule ^(.*)$ /shared_folder/ [L]

# Redirect/Pass through site1.com to /site1 [folder]
# Redirect/Pass through site2.com to /site2 [folder]
RewriteCond %{ENV:REDIRECT_STATUS} ^$
RewriteCond %{HTTP_HOST} ^([^0-9]+)$ [NC]
RewriteRule ^(.*)$ /%1/$1 [QSA,L] 
```

所以这行得通，但我不确定我的规则的位置：是否最好在域本身之前处理特殊的子域情况，就像我现在的顺序一样；或者如果`RewriteRule ^(.*)$ /shared_folder/ [L]`最好写成`RewriteRule ^$ /shared_folder/ [L]`...

如果您对好的或更好的做法有任何见解，我将不胜感激，谢谢。

# python - 如何将主题应用于 PyGTK 应用程序

> ID：10908752
> 
> 赞同：10
> 
> 时间：2012-06-06T05:45:52.607
> 
> 标签：python, gtk, themes, pygtk

**是否可以在我的 PyGTK 应用程序中应用这个[GTK+ 主题？](http://gnome-look.org/content/show.php/Elegant+Brit?content=74553&PHPSESSID=1ec9ce6534c48632d0ebc64a2a3ee830)**

我可以以编程方式应用主题吗？即，要应用主题，我是使用 PyGTK 函数还是必须找到我的机器上安装 PyGTK 的位置（在 Python2.7 内）并更改箭头 .pngs 和滚动条 .pngs 等？

注意我只安装了 PyGTK 我没有安装 GTK+，我需要吗？上面链接的主题是否适用于 PyGTK 或仅适用于 GTK+？

**您能否就如何将这个主题应用到我的 PyGTK 应用程序提供建议？**

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-06-06T14:14:21.993

如果您从链接下载第一个包，即标记为“（GTK 和 Metacity 主题）”的包，您应该获得一个 tar.gz 存档。将存档解压缩到某个文件夹中，例如`/home/jake/.themes`. 然后在你的 pygtk 代码中，在你初始化你的小部件之前（我会在你在你的代码中导入 pygtk 和 gtk 之后马上做），添加这一行：

`gtk.rc_parse('/home/jake/.themes/Elegant Brit/gtk-2.0/gtkrc')`

该`gtkrc`目录中的该文件包含用于告诉 gtk 如何为该主题绘制小部件的信息。

希望有帮助。

注意：主题选择应该留给用户，在使用 gtk 开发应用程序时，通常不赞成更改/修改当前用户的主题。

# ruby-on-rails - 如何从视图中设置 google-maps-for-rails infowindow 渲染真/假？

> ID：10908754
> 
> 赞同：0
> 
> 时间：2012-06-06T05:46:22.943
> 
> 标签：ruby-on-rails, gmaps4rails

我在 Rails 应用程序中使用[Google-Maps-for-Rails](https://github.com/apneadiving/Google-Maps-for-Rails/)。

在模型控制器中我有

```
def gmap_settings(location, marker)
      marker.infowindow render_to_string(:partial => "/path/to/partial", :locals => { :object => location})
end 
```

我在几个视图中显示地图。在某些情况下，在同一页面中显示多个地图。

有些地图需要信息窗口，但有些则不需要。

如何定义是否从视图呈现信息窗口？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-10T15:47:33.327

在 json 中，`description`触发信息窗口的创建。

只需删除或调整您传递给`gmaps`助手的内容。

# javascript - 本地存储的大小不合逻辑

> ID：10908757
> 
> 赞同：3
> 
> 时间：2012-06-06T05:46:55.727
> 
> 标签：javascript, local-storage

我读到 localStorage 的最大大小约为`5MB`. 但我做了一些非常奇怪的事情，显示了另一个结果。

* * *

我从互联网上复制了一张`1024x768`图片（用于启动图片），然后将其转换为 base 64。我把它放在一个文件中，看到文件是`300KB`. 然后，我写了下面的代码：

```
for(var a;a<1000;a++)
{
    try{localStorage["'"+a+"'"]="The very long string of 75000 characteres";}
    catch(e)
    {
        alert("No !");
        break;
    }
}
alert("Yes !"); 
```

我的 iPad 发出警报`Yes !`。1000*300=300000KB -> `300MB`. 就是说localStorage存储`300MB`的信息！

这怎么可能？localStorage 是压缩还是什么？

**编辑：**最后，这是一个错字。`for(var a;a<1000;a++)`而不是`for(var a=0;a<1000;a++)`. 如果有人想知道，我成功存储了 6 张图片。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T05:50:01.957

您的 for 循环从未执行，因为您没有初始化循环变量。尝试

```
for(var a=0;a<1000;a++) 
```

# c# - 如何在一个方法调用中创建文件及其父目录？

> ID：10908759
> 
> 赞同：9
> 
> 时间：2012-06-06T05:47:07.267
> 
> 标签：c#, file-io, refactoring

我想创建一个位于特定目录中的文件。例如：C:\x\y\z\aTextFile.txt

对于这个操作，我必须创建目录来创建文件。

```
Directory.CreateDirectory(@"C:\x\y\z\");
File.Create(@"C:\x\y\z\aTextFile.txt"); 
```

但我真的很想知道我可以在一行代码中完成这个操作。

任何帮助和想法将不胜感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T05:50:18.880

简单：添加一个函数

```
void MySingleLineOfCodeFunction(string path, string filename)
{
    Directory.Createdirectory(path);
    File.Create(filename).Dispose();
} 
```

然后使用一行代码：

```
MySingleLineOfCodeFunction(@"C:\x\y\z\", "a.txt"); 
```

我想说的是代码之间没有区别。有些是微软人写的，有些是我们普通人写的。但是计算机并没有什么不同。:)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T05:54:43.837

不幸的是，没有单行代码可以做你想做的事。

为什么？因为即使我们通过一些 Microsoft 内置函数这样做，在内部它也会调用两个方法。一个用于目录创建，另一个用于文件创建。

但是，您可以通过将它们变成一个方法来减少代码行，并像 Petar Ivanov 所说的那样在一行中调用它

**或者**

您可以创建静态扩展方法。这样您就可以在其他地方使用它而无需创建实例。（减少了创建实例的一行）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T06:01:41.107

据我所知，.NET框架中没有同时创建目录的文件创建方法。

如果模式“目录检查/创建，然后文​​件创建”在您的代码中重复很多次，您必须在方法中实现它。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-06-21T13:32:21.257

我已经修改了@Petar_Ivanov 的答案，以根据文件路径计算出父目录，认为它可能对可能需要类似功能的其他人有用。

```
 public void CreateFile(string filePath)
    {
        if (!File.Exists(filePath))
        {
            var parent = Directory.GetParent(filePath);
            Directory.CreateDirectory(parent.FullName);
            File.Create(filePath).Dispose();
        }
    } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-06-06T06:24:02.787

要创建文件，不，目录必须存在。即使使用 Visual Basic 的文件友好类，您仍然必须首先创建目录。有趣的是，移动会创建文件夹。

来自 CreateFile [http://msdn.microsoft.com/en-us/library/windows/desktop/aa363858(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/aa363858(v=vs.85).aspx)

> **目录**
> 
> 应用程序无法使用 CreateFile 创建目录，因此对于此用例，只有 OPEN_EXISTING 值对 dwCreationDisposition 有效。要创建目录，应用程序必须调用 CreateDirectory 或 CreateDirectoryEx

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-10-01T12:35:54.380

主要在我的代码块中；我在文件创建部分之前处理文件夹的存在。

```
public void CheckCreatePath(fileName)
{
    string filePath = Directory.GetParent(fileName).ToString();
    if (!Directory.Exists(filePath))
        Directory.CreateDirectory(filePath);
} 
```

并使用

```
CheckCreatePath("C:\\TEMP\\TESTPath\\myFile.txt"); 
```

在您的代码块中。

# javascript - 想要在jquery中旋转元素

> ID：10908760
> 
> 赞同：4
> 
> 时间：2012-06-06T05:47:21.347
> 
> 标签：javascript, jquery

我正在尝试使用放置在元素左上角的句柄 (handle=>div)*旋转**元素**（*任何元素 div，p..），现在我的问题是元素没有完全旋转到 360 度，有人可以帮忙吗：

 **```
$("#elementid").live('mouseover', function () {
    $(this).draggable({ handle: "#handleid", drag: function (event, ui) {
        var rotateCSS = 'rotate(' + ui.position.left + 'deg)';
        alert(ui.position.left);
        $(this).parent().parent().css({
            '-moz-transform': rotateCSS,
            '-webkit-transform': rotateCSS
        });
    }
    });
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T05:55:21.383

这些是stackoverflow中同一类别的问题

**如何旋转div**

[尝试使用 jQuery 控制 css3 转换命令旋转 div 元素](https://stackoverflow.com/questions/382591/rotating-a-div-element-in-jquery)

[在 jQuery 中旋转 div 元素](https://stackoverflow.com/questions/3020904/how-to-rotate-a-div-using-jquery)

[如何使用 jQuery 旋转 div](https://stackoverflow.com/questions/5560683/trying-to-rotate-a-div-element-with-jquery-controlling-css3-transform-command)

看看第二个链接它的辉煌

[现场旋转和其他 css 演示精彩 http://css3please.com/](http://css3please.com/)

**看看这个是准确的**

```
.box_rotate {
  -webkit-transform: rotate(7.5deg);  /* Saf3.1+, Chrome */
     -moz-transform: rotate(7.5deg);  /* FF3.5+ */
      -ms-transform: rotate(7.5deg);  /* IE9 */
       -o-transform: rotate(7.5deg);  /* Opera 10.5 */
          transform: rotate(7.5deg);
             filter: progid:DXImageTransform.Microsoft.Matrix(/* IE6–IE9 */
                     M11=0.9914448613738104, M12=-0.13052619222005157, M21=0.13052619222005157, M22=0.9914448613738104, sizingMethod='auto expand');
               zoom: 1;
} 
```

**更新：**

[在 http://css3please.com/](http://css3please.com/)上的注释页面中间注意这个很好的补充

![你可以操纵你想实时生成代码的任何东西](../Images/6bc34f68ea00d30d415374527d3f5abe.png "图片")

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:22:17.243

您可以使用 Jquery 旋转来旋转。检查闲置示例：

$(img).css('-moz-transform', 'rotate(' + degree + 'deg)');

$(img).css('-webkit-transform', 'rotate(' + degree + 'deg)');

$(img).css('-o-transform', 'rotate(' + degree + 'deg)');

$(img).css('-ms-transform', 'rotate(' + degree + 'deg)');

$(img).css('transform', 'rotate(' + degree + 'deg)');

你也可以参考[CSS Matrix Rotation](http://www.boogdesign.com/examples/transforms/matrix-calculator.html)**

# python - 在 python/jinja 中打印非 ascii 字符

> ID：10908761
> 
> 赞同：3
> 
> 时间：2012-06-06T05:47:21.817
> 
> 标签：python, jinja2, non-ascii-characters

以下代码正常工作：

```
from jinja2 import Template

mylist = ['some text \xc3']

template = Template('{{ list }}')

print template.render(list=mylist) 
```

当我运行它时，它输出：

```
['some text \xc3'] 
```

然而，当我尝试打印实际的列表元素时，它失败了：

```
template = Template('{{ list[0] }}')

print template.render(list=mylist) 
```

错误是：

```
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 10: ordinal not in range(128) 
```

* * *

我想找到一种以与打印整个列表相同的方式打印单个列表元素的方法，其中非 ascii 字符用 \x 表示法表示。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-21T08:42:26.940

来自[Jinja 文档](http://jinja.pocoo.org/docs/api/#unicode)：

“Jinja2 在内部使用 Unicode，这意味着您必须将 Unicode 对象传递给渲染函数或仅由 ASCII 字符组成的字节串。”

```
mylist = [u'some text \xc3'] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-11T06:39:50.490

你永远不应该打开一个编码文件而不是解码它。

您应该从 curl 中读取编码（例如，使用`-i`或`-H`选项）并解析 HTTP 标头或如果标头中未指定编码，则解析输出文件。

或者作为 curl 的替代方案，您可以使用`requests`不需要写入文件的库。获取 Web 资源将如下所示：

```
>>> r = requests.get('http://python.org')
>>> r.content
'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML... 
```

Where`content`已经按照 HTTP 规范进行了编码。

作为最后一种方法，您可以猜测编码并替换未知字符。这将是最容易实施的解决方案。例如：

```
with codecs.open(filename, encoding='utf-8', errors='replace') as fobj:
    ... 
```

您的方法总是会丢失信息（如果有非 ascii 字符）。我的前两种方法永远不会，最后一种方法只有在猜测的编码错误的情况下。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T06:15:39.323

我想到了。关键是要做`str.encode('string-escape')`

所以，我这样做了：

```
template = Template('{{ list[0].encode("string-escape") }}') 
```

这奏效了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-12T10:00:37.130

jla 适合我的情况。

我对 python 源文件使用 utf-8，所以使用 u 前缀解决了我的问题。

# shell - PowerShell：如何创建对象属性的引用

> ID：10908763
> 
> 赞同：4
> 
> 时间：2012-06-06T05:47:31.680
> 
> 标签：shell, pointers, powershell, command-line, reference

# 一些事实：

当您将一个对象分配给一个被调用的变量`$a`，然后它的一个属性发生变化时，该变量`$a`就会得到更新。

但是，当我将对象*属性* `$object.property`的值（而不是对象本身）分配给调用的变量`$b`然后`$object.property`更改时，`$b`不会更新。这意味着，当前值存储在 中`$object.property`，但`$b`保持原样。

# 一个例子：

我将一个`Window`对象分配给一个名为`$bochsWindow`. 然后一些属性会因为我移动窗口而改变。但是当我打印出来时`$bochsWindow`，你可以看到它是最新的——这意味着对象属性的所有新值也都存储在`$bochsWindow`.

但是，如果尝试将属性存储`$bochsWindow`在一个名为的变量中`$posX`，然后该属性发生变化，`$posX`则不会发生变化。

```
PS .> $bochsWindow = (GetProcess bochs | Get-Window)
PS .> $bochsWindow

ProcessId    : 1536
ProcessName  : bochs
Position     : {X=54,Y=32,Width=650,Height=576}
IsMinimized  : False
IsMaximized  : False
WindowHandle : 3933134
Caption      : Bochs for Windows - Display

[[Moving Boch's Window By Hand]]
PS .> $bochsWindow

ProcessId    : 1536
ProcessName  : bochs
Position     : {X=0,Y=0,Width=650,Height=576}
IsMinimized  : False
IsMaximized  : False
WindowHandle : 3933134
Caption      : Bochs for Windows - Display

PS .> (Get-Window -ProcessName bochs)

ProcessId    : 1536
ProcessName  : bochs
Position     : {X=0,Y=0,Width=650,Height=576}
IsMinimized  : False
IsMaximized  : False
WindowHandle : 3933134
Caption      : Bochs for Windows - Display

PS .> $posX = $bochsWindow.Position.X
PS .> $posX
302
[[Moving Boch's Window By Hand]]
PS .> $posX
302
PS .> $bochsWindow.Position.X
472
PS .> 
```

但是，如果我想`$posX`保持最新状态并始终存储新值 ( `472`) 而不是`302`

# 我的问题：

我想将对象属性的引用存储在变量中。这意味着，我希望每次对象的属性更改时都更新变量。我怎样才能做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T08:09:13.607

使用 的方式不是微不足道`PSBreakpoint`的，但这是我唯一知道的：

```
$global:bochsWindow = (GetProcess bochs | Get-Window) 
$act= @'
$global:b = $bochsWindow.Position.X 
'@
$global:sb = [scriptblock]::Create($act)
$global:b = Set-PSBreakpoint -Variable b -Mode Read -Action $global:sb 
```

这种方式`$b`总是在调用时更新。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-06-06T08:21:40.227

为什么不直接创建一个函数？

```
function posX(){ $bochsWindow.Position.X } 
```

然后将其用作`posX`. 替代方案是脚本块。

除此之外，我没有看到这样做的直接方法。

# iphone - 在谷歌地图上的两个坐标之间画线

> ID：10908764
> 
> 赞同：0
> 
> 时间：2012-06-06T05:47:31.977
> 
> 标签：iphone, google-maps, mkmapview

我在谷歌地图上有两个坐标点。我计算了这些点之间的距离。但我想在它们之间画一条直线。请帮我画画。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-25T10:24:08.827

*   您必须使用 google direction api 来遵循[Direction API Link](https://developers.google.com/maps/documentation/directions/)。

*   **使用带有方向 api url 的NSURLConnection**发出请求，并从中传递所需的地址并捕获其响应。

*   从中您将获得 json 或 xml 格式的响应，其中包含**折线**编码字符串形式的路径。

*   然后解析它并检索折线编码的字符串。

*   您必须简单地对其进行解码，然后您将获得路径的所有点并将其传递给**MKMapViewDelegate的****viewForOverlay**方法，该方法将绘制路径。
***   有关更多信息，请关注我的问题[Stackoveflow 问题链接](https://stackoverflow.com/questions/10835919/drawing-route-partially-not-getting-required-output-in-iphone-mapview)。**

 **如果您有任何疑问，请告诉我。希望对你有帮助....：）**

# sockets - nodejs中的套接字

> ID：10908765
> 
> 赞同：2
> 
> 时间：2012-06-06T05:47:47.070
> 
> 标签：sockets, node.js

我需要在 nodejs 中编写套接字，例如在 PHP 中。在 PHP 语言中，我执行以下操作：

```
$http_request  = "POST $path HTTP/1.0\r\n";
$http_request .= "Host: $host\r\n";
$http_request .= "User-Agent: Picatcha/PHP\r\n";
$http_request .= "Content-Length: " . strlen($data) . "\r\n";
$http_request .= "Content-Type: application/x-www-form-urlencoded;\r\n";
$http_request .= "\r\n";
$http_request .= $data;

$response = '';
$fs = @fsockopen($host, $port, $errno, $errstr, 10)
if (FALSE == $fs) {
  die('Could not open socket');
}

fwrite($fs, $http_request); 
```

如何在 nodejs 服务器中执行上述操作？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T05:59:27.990

查看[模块](http://nodejs.org/docs/latest/api/net.html)[的文档`net`](http://nodejs.org/docs/latest/api/net.html)。

> **`net.connect(arguments...)`**
> 
> 构造一个新的套接字对象并打开一个到给定位置的套接字。

该函数返回[一个`Socket`](http://nodejs.org/docs/latest/api/net.html#net_class_net_socket).

页面上有一个小示例片段来演示其用法：

```
var net = require('net');
var client = net.connect(8124, function() { //'connect' listener
  console.log('client connected');
  client.write('world!\r\n');
});
client.on('data', function(data) {
  console.log(data.toString());
  client.end();
});
client.on('end', function() {
  console.log('client disconnected');
}); 
```

自从我编写 PHP 以来已经有一段时间了，但我会尝试将此作为您的代码的翻译：

```
var net = require('net');

var http_request;
http_request  = "POST " + path + " HTTP/1.0\r\n";
http_request += "Host: " + host + "\r\n";
http_request += "User-Agent: Picatcha/PHP\r\n";
http_request += "Content-Length: " + data.length + "\r\n";
http_request += "Content-Type: application/x-www-form-urlencoded;\r\n";
http_request += "\r\n";
http_request += data;

var client = net.connect(80, host, function() {
  client.end(http_request);
}); 
```

毫无价值，除非有理由不这样做，否则您可以使用[模块](http://nodejs.org/docs/latest/api/http.html#http_http_request_options_callback)[的`request`方法`http`](http://nodejs.org/docs/latest/api/http.html#http_http_request_options_callback)来发出 HTTP 请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:05:49.880

在 NodeJS 中，我们有一些用于套接字编程的模块，但最流行的是[`net`](https://nodejs.org/api/net.html).

```
var net = require('net');

var HOST = '127.0.0.1';
var PORT = 6969;

// Create a server instance, and chain the listen function to it
// The function passed to net.createServer() becomes the event handler for the 'connection' event
// The sock object the callback function receives UNIQUE for each connection
net.createServer(function(sock) {

    // We have a connection - a socket object is assigned to the connection automatically
    console.log('CONNECTED: ' + sock.remoteAddress +':'+ sock.remotePort);

    // Add a 'data' event handler to this instance of socket
    sock.on('data', function(data) {

        console.log('DATA ' + sock.remoteAddress + ': ' + data);
        // Write the data back to the socket, the client will receive it as data from the server
        sock.write('You said "' + data + '"');

    });

    // Add a 'close' event handler to this instance of socket
    sock.on('close', function(data) {
        console.log('CLOSED: ' + sock.remoteAddress +' '+ sock.remotePort);
    });

}).listen(PORT, HOST);

console.log('Server listening on ' + HOST +':'+ PORT); 
```

参考：[http ://www.hacksparrow.com/tcp-socket-programming-in-node-js.html](http://www.hacksparrow.com/tcp-socket-programming-in-node-js.html)

# php - PHP脚本不更新mysql表

> ID：10908770
> 
> 赞同：0
> 
> 时间：2012-06-06T05:48:32.427
> 
> 标签：php, mysql

这个脚本根本不起作用......谁能告诉我我做错了什么？

```
$id = $_POST['id'];
$name = $_POST['name'];
$date = $_POST['date'];
$shortdesc = $_POST['shortdesc'];
$link = $_POST['link'];
$target = $_POST['target'];
$sort = $_POST['sort'];
$html = $_POST['html'];

    include('appvars.php');

    $query = "UPDATE insight SET name='".$name."' AND SET date='". $date . "' AND SET html='" . $html . "' AND SET shortdesc='" . $shortdesc . "' AND SET link='" . $link . "' AND SET target='" . $target . "' AND SET sort='" . $sort . "' WHERE id='" . $id . "'";

    mysqli_query($dbc, $query); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T05:49:45.750

您没有[转义](http://php.net/manual/en/mysqli.real-escape-string.php)您的值，因此您很容易受到 SQL 注入以及无效语句的构造的影响。例如，如果您的任何输入字符串包含撇号，那么它可能会导致您的代码失败。

查看[prepared statements](http://php.net/manual/en/mysqli.prepare.php)，这将使使用[参数](http://www.php.net/manual/en/mysqli-stmt.bind-param.php)构造查询变得更加容易。

在您的查询中，您还需要使用逗号而不是`AND SET`.

```
$query = "UPDATE insight SET name='foo', date='2012-12-10' WHERE id=42"; 
```

MySQL 文档中描述了 UPDATE 的语法：

*   [更新语法](http://dev.mysql.com/doc/refman/5.6/en/update.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:15:01.690

我认为 SQL 语法不正确，可以这样使用：`UPDATE tablename SET rowname = value , ....`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T05:50:51.157

像这样使用它，

```
$query = "UPDATE insight SET name='".$name."' ,date='". $date . "' ,html='" . $html . "' ,shortdesc='" . $shortdesc . "' ,link='" . $link . "' ,target='" . $target . "' ,sort='" . $sort . "' WHERE id='" . $id . "'"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-06T05:55:21.740

它的工作......现在检查

```
 $id = $_POST['id'];
    $name = $_POST['name'];
    $date = $_POST['date'];
    $shortdesc = $_POST['shortdesc'];
    $link = $_POST['link'];
    $target = $_POST['target'];
    $sort = $_POST['sort'];
    $html = $_POST['html'];

        include('appvars.php');

       $query = "UPDATE insight SET name='".$name."' ,date='". $date . "' ,html='" . $html . "' ,shortdesc='" . $shortdesc . "' ,link='" . $link . "' ,target='" . $target . "' ,sort='" . $sort . "' WHERE id='" . $id . "'";

        mysqli_query($dbc, $query); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-06-06T05:57:19.713

我不是 mysql 的专业人士，但可以尝试一下。

我猜`id`是一个整数。所以，不要引用它。

尝试这个，

```
$query = "UPDATE insight SET name='".$name."' , date='". $date . "' , html='" . $html . "' , shortdesc='" . $shortdesc . "' , link='" . $link . "' , target='" . $target . "' , sort='" . $sort . "' WHERE id=". $id ; 
```

# objective-c - NSTableView 禁用特定单元格

> ID：10908775
> 
> 赞同：0
> 
> 时间：2012-06-06T05:49:02.480
> 
> 标签：objective-c, cocoa, nstableview

我正在尝试禁用特定表中的特定单元格。我希望能够在不久的将来为整个专栏做所有这些，但现在我正在尝试。

tc1 和 tc2 代表 NSTableColumns 而 tv 代表 NSTableView。

代码编译并运行，但是第 2 行的单元格和名为“column1”的表列仍然启用。我需要做什么才能使其禁用？

下面的代码示例：

```
-(id)init
{   
self = [super init];
    if (self)
    {
        arr = [[NSMutableArray alloc] init];
        [tc1 setIdentifier:@"colum1"];
        [tc2 setIdentifier:@"colum2"];
        [tv setDelegate:self];
    }
    return (self);
}

- (void)tableView:(NSTableView *)aTableView willDisplayCell:(id)aCell forTableColumn:(NSTableColumn *)aTableColumn row:(NSInteger)rowIndex
{    
    if([[aTableColumn identifier] isEqualToString:@"column1"])
    {   
        if (rowIndex == 2)    // myindex holds the row index where I need to disable the cells 
        {
            [aCell setEnabled:NO];
        }
    }
    else
    {
        [aCell setEnabled:YES];
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-20T08:01:37.827

声明标识符时的问题是拼写错误。解决了。

# operating-system - 使用 Qemu 时如何解决“加载文件时出现错误 13”？

> ID：10908777
> 
> 赞同：0
> 
> 时间：2012-06-06T05:49:19.260
> 
> 标签：operating-system, qemu, kvm

我将以下字节写入名为 disk.img 的文件中

```
FA 8D 36 1B 7C E8 01 00 F4 AC 3C 00 74 0C B4 0E 
BB 07 00 B9 01 00 CD 10 EB EF C3 4D 61 79 20 74 
68 65 20 66 6F 72 63 65 20 62 65 20 77 69 74 68 
20 79 6F 75 21 0D 0A 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
..enough zero to make the size of file 512bytes.
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 55 AA 
```

上述字节是加载到引导扇区时应该工作的正确指令和幻数。但是在我执行“qemu-X86_64 disk.img”之后，发生了错误。

> 加载 disk.img 时出现错误 -13

有谁知道如何解决问题或可能导致此错误的原因是什么？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-14T03:30:07.613

我不知道你是否可以用任何东西填充图像并期望它能够工作，因为你在正确的位置有 55 AA。由于您似乎正在编写引导加载程序，请确保您的代码认为它正在正确的位置执行。它应该在偏移量 0x7C0 中（如果我没记错的话，请仔细检查 thaat）。您使用汇编文件顶部的 [org 0x7c0] 设置它。

另外我不确定你只能有一个 512 字节的文件。尝试制作比 dd if=/dev/zero of=disk.img bs=512 count=2000 更大的硬盘驱动器，然后再次使用 dd 将引导加载程序复制到磁盘的第一部分。

你也应该使用 -hda 或 -fda 标记所以它应该是 qemu -hda disk.img

# android - 将 Spinner 添加到设计器后，如何在 Eclipse Android 中使用 Spinner？

> ID：10908781
> 
> 赞同：1
> 
> 时间：2012-06-06T05:49:30.630
> 
> 标签：android, eclipse

```
package com.testotspeech;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Locale;

import android.app.Activity;
import android.os.Bundle;
import android.speech.tts.TextToSpeech;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView.OnItemSelectedListener;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Spinner;

public class AndroidTestToSpeechActivity extends Activity implements
        TextToSpeech.OnInitListener {
    /** Called when the activity is first created. */

    private TextToSpeech tts;
    private Button btnSpeak;
    private EditText txtText;
    private ArrayList<String> itemsList;
    private Spinner spinner;
    private String contry_name;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        Log.i("----------",Arrays.toString(Locale.getAvailableLocales()));
        itemsList = new ArrayList<String>();
        itemsList.add(Arrays.toString(Locale.getAvailableLocales()));
        spinner = (Spinner)findViewById(R.id.spinner1);
        ArrayAdapter<String> dataAdapter = new ArrayAdapter<String>(this, android.R.layout.simple_spinner_item,itemsList);
        dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinner.setAdapter(dataAdapter);

        contry_name=String.valueOf(spinner.getSelectedItem());
        System.out.println(contry_name);

        tts = new TextToSpeech(this, this);
        btnSpeak = (Button) findViewById(R.id.btnSpeak);
        txtText = (EditText) findViewById(R.id.txtText);

        // button on click event
        btnSpeak.setOnClickListener(new View.OnClickListener() {

            public void onClick(View arg0) {
                speakOut();
            }

        });
    }

    @Override
    public void onDestroy() {
        // Don't forget to shutdown tts!
        if (tts != null) {
            tts.stop();
            tts.shutdown();
        }
        super.onDestroy();
    }

    public void onInit(int status) {

        if (status == TextToSpeech.SUCCESS) {

            int result = tts.setLanguage(Locale.); 
```

我有一些问题。首先在微调器中，在运行应用程序时进行任何选择之前，我会看到所有类似这样的项目：[en, en_AU, en_BE,en_BW...等等。我希望当我单击微调器的向下箭头时，我会一一看到所有项目，当我选择其中一个项目时，它将用作 LOCALE

所以我需要以某种方式解决这个问题。

第二件事是在 int result = tts.setLanguage(Locale.); 中选择项目时如何使用 contry_name 字符串 ?

现在是： int result = tts.setLanguage(Locale.ENGLISH); 但相反，我希望它成为微调器中的选定项目。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:14:13.753

```
 package com.validation;

        import android.app.Activity;
        import android.os.Bundle;
        import android.view.KeyEvent;
        import android.view.View;
        import android.view.View.OnClickListener;
        import android.widget.ArrayAdapter;
        import android.widget.Button;
       import android.widget.Spinner;

        public class Validation_edittextActivity extends Activity {
            /** Called when the activity is first created. */

            Spinner country_spinner;

     String[] COUNTRIES = new String[] {
                    "Afghanistan", "Albania", "Algeria", "American Samoa", "Andorra",
                    "Angola", "Anguilla", "Antarctica", "Antigua and Barbuda", "Argentina",
                    "Armenia", "Aruba", "Australia", "Austria", "Azerbaijan",
                    "Bahrain", "Bangladesh", "Barbados", "Belarus", "Belgium"};

            @Override
            public void onCreate(Bundle savedInstanceState) {
                super.onCreate(savedInstanceState);
                setContentView(R.layout.main);

    country_spinner=(Spinner)findViewById(R.id.spinner1);

            ArrayAdapter<String> dataAdapter = new ArrayAdapter<String>(this, android.R.layout.simple_spinner_item,COUNTRIES);
            dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
            country_spinner.setAdapter(dataAdapter);

String contry_name=String.valueOf(country_spinner.getSelectedItem());
System.out.println(contry_name);
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:00:26.797

尝试这个

```
Spinner spinner = (Spinner) findViewById(R.id.spinner1);
itemsList = new ArrayList<String>();
itemsList.add(Arrays.toString(Locale.getAvailableLocales()));

ArrayAdapter<String> adapter = new ArrayAdapter(AndroidTestToSpeechActivity.this ,    itemsList,android.R.layout.simple_spinner_item);       

spinner.setAdapter(adapter); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T05:58:30.920

下面的片段会帮助你。

```
package com.sample;

    import android.app.Activity;
    import android.os.Bundle;
    import android.view.View;
    import android.widget.AdapterView;
    import android.widget.ArrayAdapter;
    import android.widget.Spinner;
    import android.widget.TextView;

    public class SpinnerDemo Activity implements
            AdapterView.OnItemSelectedListener {
        TextView selection;
        String[] items = { "1", "2", "3", "4", "5", "6","7", "8", "9", "10" };

        @Override
        public void onCreate(Bundle icicle) {
            super.onCreate(icicle);
            setContentView(R.layout.main);
            selection = (TextView) findViewById(R.id.selection);

            Spinner spin = (Spinner) findViewById(R.id.spinner);
            spin.setOnItemSelectedListener(this);

            ArrayAdapter aa = new ArrayAdapter(
                    this,
                    android.R.layout.simple_spinner_item, 
                    items);

            aa.setDropDownViewResource(
               android.R.layout.simple_spinner_dropdown_item);
            spin.setAdapter(aa);
        }

        public void onItemSelected(AdapterView<?> parent, View v, int position,
                long id) {
            selection.setText(items[position]);
        }

        public void onNothingSelected(AdapterView<?> parent) {
            selection.setText("");
        }
    }//class 
```

# python - Timsort 堆栈不变 - 为什么要尽可能长时间地延迟合并？

> ID：10908783
> 
> 赞同：4
> 
> 时间：2012-06-06T05:49:37.283
> 
> 标签：python, algorithm, sorting, timsort

我正在尝试理解 Timsort 算法，但是由于实现堆栈不变量的原因，我遇到了麻烦：

> 1.  A > B+C
> 2.  B > C

根据[这份](http://svn.python.org/projects/python/trunk/Objects/listsort.txt)文件，

> 我们希望尽可能长时间地延迟合并，以便利用以后可能出现的模式，但我们更希望尽快进行合并，以利用刚刚找到的运行在内存层次结构中仍然很高。

我知道我们希望尽快进行合并以利用缓存效应，但我不明白我们为什么要延迟它的原因。他所说的“模式”是什么意思？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-11T04:22:04.967

这里的模式是指被排序的数据中的模式。例如，Timsort 正在寻找数据中增加（或减少）的运行，这些运行要么已经排序，要么可以通过在原地反转运行来轻松排序。然后它尝试将这些运行用于它的归并排序分区。

顺便说一句，关于 Timsort 的维基百科文章可能对您有用：[https ://en.wikipedia.org/wiki/Timsort](https://en.wikipedia.org/wiki/Timsort)

# python - 光标在 App Engine 上返回 fetch() 但不是 run()

> ID：10908788
> 
> 赞同：1
> 
> 时间：2012-06-06T05:50:00.043
> 
> 标签：python, google-app-engine

我有这个用于应用引擎的 python 代码：

```
def queryArticles(status=1, limit=10, **offset):
    query = Article.all().filter('status =', status).order('-modified')
    articles = query.fetch(limit=limit, **offset)
    cursor = query.cursor()
    return articles, cursor 
```

如果我使用 fetch() 游标返回，但如果使用 run()，我会得到空字符串作为游标。为什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T13:26:53.700

该`run()`方法仅设置运行查询所需的条件（在生产中，在后台启动 RPC 调用）。为了让您的查询了解数据（游标或其他），您需要通过耗尽查询来获取结果。

```
>>> query = Model.all()
>>> query_iterator = query.run(limit=5)
>>> query.cursor()
''
>>> list(query_iterator) # Exhaust iterator
[<db.Model instance at 0x...>, ...]
>>> query.cursor()
'E-ABAIICG2oMYXByaWdvbmluamE0cgsLEgVNb2RlbBgKDBQ=' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T13:27:32.193

`Query.run()`（或简单地迭代`Query`'s 实例）返回一个迭代器。在您获得查询的光标时，它甚至还没有开始获取任何内容。我想，在你的情况下——当你要使用游标时——`fetch()`会很好。

如果你真的需要它，这应该可以解决问题：

```
def queryArticles(status=1, limit=10, **offset):
    query = Article.all().filter('status =', status).order('-modified')
    articles = query.run(limit=limit, batch_size=limit, **offset)
    articles = articles.next()
    cursor = query.cursor()
    return articles, cursor 
```

# iphone - 在 iPhone 中使用 base64 解码时数据为零

> ID：10908791
> 
> 赞同：0
> 
> 时间：2012-06-06T05:50:08.917
> 
> 标签：iphone, objective-c

我正在解析（JSON 解析）图像并尝试在图像视图中显示。

我使用base64解码方法进行解码。

我为此使用了以下代码：

```
NSString *base64String = responseObj.content;

   NSData* data = [Base64 decode:base64String];

    image.frame =  CGRectMake(0, 0, 100, 100);
    image.backgroundColor = [UIColor blueColor];

    image.image = [UIImage imageWithData:data]; 
```

Base64 类是

```
.h
#import <Foundation/Foundation.h>

@interface Base64 : NSObject {

}

+ (void) initialize;

+ (NSString*) encode:(const uint8_t*) input length:(NSInteger) length;

+ (NSString*) encode:(NSData*) rawBytes;

+ (NSData*) decode:(const char*) string length:(NSInteger) inputLength;

+ (NSData*) decode:(NSString*) string;

@end
.m
static char encodingTable[] = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
static char decodingTable[128];

+ (void) initialize {
    if (self == [Base64 class]) {
        memset(decodingTable, 0, ArrayLength(decodingTable));
        for (NSInteger i = 0; i < ArrayLength(encodingTable); i++) {
            decodingTable[encodingTable[i]] = i;
        }
    }
}

+ (NSString*) encode:(const uint8_t*) input length:(NSInteger) length {
    NSMutableData* data = [NSMutableData dataWithLength:((length + 2) / 3) * 4];
    uint8_t* output = (uint8_t*)data.mutableBytes;

    for (NSInteger i = 0; i < length; i += 3) {
        NSInteger value = 0;
        for (NSInteger j = i; j < (i + 3); j++) {
            value <<= 8;

            if (j < length) {
                value |= (0xFF & input[j]);
            }
        }

        NSInteger index = (i / 3) * 4;
        output[index + 0] =                    encodingTable[(value >> 18) & 0x3F];
        output[index + 1] =                    encodingTable[(value >> 12) & 0x3F];
        output[index + 2] = (i + 1) < length ? encodingTable[(value >> 6)  & 0x3F] : '=';
        output[index + 3] = (i + 2) < length ? encodingTable[(value >> 0)  & 0x3F] : '=';
    }

    return [[[NSString alloc] initWithData:data
                                  encoding:NSASCIIStringEncoding] autorelease];
}

+ (NSString*) encode:(NSData*) rawBytes {
    return [self encode:(const uint8_t*) rawBytes.bytes length:rawBytes.length];
}

+ (NSData*) decode:(const char*) string length:(NSInteger) inputLength {
    if ((string == NULL) || (inputLength % 4 != 0)) {
        return nil;
    }

    while (inputLength > 0 && string[inputLength - 1] == '=') {
        inputLength--;
    }

    NSInteger outputLength = inputLength * 3 / 4;
    NSMutableData* data = [NSMutableData dataWithLength:outputLength];
    uint8_t* output = data.mutableBytes;

    NSInteger inputPoint = 0;
    NSInteger outputPoint = 0;
    while (inputPoint < inputLength) {
        char i0 = string[inputPoint++];
        char i1 = string[inputPoint++];
        char i2 = inputPoint < inputLength ? string[inputPoint++] : 'A'; /* 'A' will decode to \0 */
        char i3 = inputPoint < inputLength ? string[inputPoint++] : 'A';

        output[outputPoint++] = (decodingTable[i0] << 2) | (decodingTable[i1] >> 4);
        if (outputPoint < outputLength) {
            output[outputPoint++] = ((decodingTable[i1] & 0xf) << 4) | (decodingTable[i2] >> 2);
        }
        if (outputPoint < outputLength) {
            output[outputPoint++] = ((decodingTable[i2] & 0x3) << 6) | decodingTable[i3];
        }
    }

    return data;
}

+ (NSData*) decode:(NSString*) string {
    return [self decode:[string cStringUsingEncoding:NSASCIIStringEncoding] length:string.length];
}

@end 
```

当我试图查看 NSString 的内容时，它正确显示了内容。但是当我试图查看它显示的数据内容时

(NSData *) $2 = 0x00000000 。

谁能告诉我哪里出了问题以及为什么数据为零。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:19:45.500

尝试这个：

```
 NSString *base64String = responseObj.content;// U have base64 String

 [Base64 initialize]; //U forgot this

 NSData* data = [Base64 decode:base64String];
 image.frame =  CGRectMake(0, 0, 100, 100);
 image.backgroundColor = [UIColor blueColor];
 image.image = [UIImage imageWithData:data]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:17:12.053

我对一些 google 复制和粘贴 base64 编码方法有类似的问题，所以我建议使用[QSUtilities](https://github.com/mikeho/QSUtilities)：

> 该库在 Objective-C 类中提供通用库（字符串清理、网络访问等）。

看看[QSString 类](https://github.com/mikeho/QSUtilities/blob/master/QSStrings.h)

# android - 如何在android中的固定时间自动启动应用程序？

> ID：10908792
> 
> 赞同：1
> 
> 时间：2012-06-06T05:50:16.470
> 
> 标签：android

我想每天在特定的固定时间启动我的应用程序。我尝试了 [在特定时间启动应用程序](https://stackoverflow.com/questions/4452565/start-app-at-a-specific-time)的链接，但没有奏效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:02:27.690

您应该为此使用服务来实现它`AlarmManger`。首先，当用户安装您的应用程序时，您应该启动`Service`然后服务启动`AlarmManager`内容`pendingIndent`，在您特定时间提及您时，此待定意图触发`AlarmManager`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:05:26.180

通过使用[AlarmManager](http://developer.android.com/reference/android/app/AlarmManager.html)，您可以声明时间。并且使用 [BroadcastReceiver](http://developer.android.com/reference/android/content/BroadcastReceiver.html)可以在到达的时候启动应用程序。我建议您尝试[Commonsware](http://developer.android.com/reference/android/content/BroadcastReceiver.html)示例应用程序。在那里，您应该根据需要自行修改代码。

希望这对你有很大帮助。

# regex - c#通过更改行号拆分文本文件

> ID：10908793
> 
> 赞同：1
> 
> 时间：2012-06-06T05:50:17.490
> 
> 标签：regex, string, c#-4.0, text

我正在尝试按行号拆分文本文件，例如，如果我有如下文本文件：

```
1 ljhgk uygk uygghl \r\n
1 ljhg kjhg kjhg kjh gkj  \r\n
1 kjhl kjhl kjhlkjhkjhlkjhlkjhl  \r\n
2 ljkih lkjhl kjhlkjhlkjhlkjhl  \r\n
2 lkjh lkjh lkjhljkhl  \r\n
3 asdfghjkl  \r\n
3 qweryuiop  \r\n 
```

我想把它分成 3 个部分（1,2,3），我该怎么做？文本的大小非常大（约 20,000,000 个字符），我需要一种有效的方法（如正则表达式）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:29:59.590

另一个想法，您可以使用 linq 通过按每个第一个单词拆分来获取您所追求的组。请注意，这将占用每个第一个单词，因此请确保那里只有数字。这是使用 split/join 反模式，但它似乎在这里工作得很好。

```
var lines = from line in s.Split("\r\n".ToCharArray(), 
                                 StringSplitOptions.RemoveEmptyEntries)
            let lineNumber = line.Split(" ".ToCharArray(), 2).FirstOrDefault()
            group line by lineNumber
            into g
            select String.Join("\n", g); 
```

笔记：

*   [`GroupBy`](http://msdn.microsoft.com/en-us/library/bb534501.aspx)被保证按照它们出现的顺序返回行。
*   如果一个块出现不止一次（例如`"1 1 2 2 3 3 1"`），所有具有相同编号的块将被合并。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:51:01.013

您可以使用正则表达式，但拆分不会很好。您可以匹配以下模式：

```
^(\d).*$          # Match first line, capture number
([\r\n]+^\1.*$)*  # Match additional lines that begin with the same number 
```

示例：[这里](http://regexhero.net/tester/?id=5a0d4f18-8e2c-46e1-b661-c3e38d405c68)

我确实尝试过拆分`$(?<=^(\d+).*)[\r\n]+^(?!\1)`，但它将行号添加为数组中的附加元素。

# ffmpeg - 如何使用 FFMPEG 强制恒定比特率

> ID：10908796
> 
> 赞同：21
> 
> 时间：2012-06-06T05:50:21.257
> 
> 标签：ffmpeg, bitrate

我使用 FFMPEG（命令行输入）将我的视频转换为特定的输出格式。我面临的问题是当我尝试将恒定比特率（700 kbps）传递给 FFMPEG 时，结果是输出视频具有不同的比特率（比如 1000 kbps）。所有视频都会出现这种现象。为什么会出现这种情况？我需要保持恒定的比特率。谁能帮我吗。

我的 FFMPEG 版本是 0.5

我传递给 FFMPEG 的命令行参数是，

```
-i {inputfile}
-b 700k -ab 64k
-vcodec libx264
-acodec libfaac -ac 2 -ar 44100
-y -s 320x240 
{outputfile} 
```

**编辑：**

当我使用以下参数时，我能够以 +/- 3% 的波动强制 CBR。

```
 ffmpeg -i myfile.avi
-b 4000k -minrate 4000k 
-maxrate 4000k -bufsize 1835k   out.m2v 
```

但是当我使用 -maxrate 和 -minrate 以及我的参数集时，我无法强制 CBR。我的参数集如下，

```
-i {inputfile}
-b 1200k -minrate 1200k 
-maxrate 1200k -bufsize 1200k 
-ab 64k -vcodec libx264
-acodec libfaac -ac 2 -ar 44100
-y -s 320x240 
 {outputfile} 
```

为什么会这样？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-08-09T19:41:45.657

尝试这个：

```
ffmpeg 
-i input 
-b 1200k 
-minrate 1200k 
-maxrate 1200k 
-bufsize 1200k 
-ab 64k 
-vcodec libx264 
-acodec aac -strict -2 
-ac 2 
-ar 44100 
-s 320x240 
-y output.mp4 
```

必须使用 aac 而不是 libfaac，这需要“-strict -2”。

还必须在输出文件名中添加“.mp4”。

我将“-y”移动到输出文件名旁边，因为它告诉它覆盖文件，但它似乎也可以在你拥有它的地方工作。

我在 64 位 OS X 10.8.4 上执行此操作；ffmpeg 版本 1.2.1-tessus。

我已经看到相同的 ffmpeg 版本在 32 位和 64 位 linux 系统上的工作方式不同，所以谁知道这是否适合你。

# windows-phone-7 - 在哪里访问隔离存储值？

> ID：10908797
> 
> 赞同：0
> 
> 时间：2012-06-06T05:50:25.770
> 
> 标签：windows-phone-7, isolatedstorage

```
 public IsolatedStorageSettings appSettings =
                  IsolatedStorageSettings.ApplicationSettings;

public Settings()
        {
            InitializeComponent();
             this.toggle.Checked += new EventHandler<RoutedEventArgs>(toggle_Checked);
             this.toggle.Unchecked += new EventHandler<RoutedEventArgs>(toggle_Unchecked);

 this.toggle.Click += new EventHandler<RoutedEventArgs>(toggle_Click);
            this.toggle.Indeterminate += new EventHandler<RoutedEventArgs>(toggle_Indeterminate);
    `}` 
```

void toggle_Unchecked（对象发送者，RoutedEventArgs e）{

```
 this.toggle.Content = "Visibity is off";
            this.toggle.SwitchForeground = new SolidColorBrush(Colors.Red);
            appSettings.Add("value", "off");
        }

        void toggle_Checked(object sender, RoutedEventArgs e)
        {

            this.toggle.Content = "Visibity is on";
            this.toggle.SwitchForeground = new SolidColorBrush(Colors.Green);
            appSettings.Add("value", "on");
        }

        void toggle_Indeterminate(object sender, RoutedEventArgs e)
        {
            //add some content here
        }

        void toggle_Click(object sender, RoutedEventArgs e)
        {
            //add some content here

        } 
```

默认情况下调用检查方法。如果用户取消选中按钮，那么再次登录应用程序的用户需要显示未选中，因为用户之前取消了 btn。但它显示已选中。因为我将一个值保存在隔离存储中。你能告诉我在哪里访问隔离变量值吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:10:29.067

您似乎没有`Save`在 ApplicationSettings 对象上调用该方法。
请阅读[本指南](http://create.msdn.com/en-US/education/quickstarts/Isolated_Storage)，了解如何使用隔离存储。

要保存设置：

```
IsolatedStorageSettings settings = IsolatedStorageSettings.ApplicationSettings;
if (!settings.Contains("userData"))
{
settings.Add("userData", "some value");
}
else
{
settings["userData"] = "some value";
}
settings.Save(); 
```

要检索设置：

```
if (IsolatedStorageSettings.ApplicationSettings.Contains("userData"))
{
 string result  IsolatedStorageSettings.ApplicationSettings["userData"] as string;
} 
```

因此，在您的情况下，将 CheckBox 的状态保存在 Checked & UnChecked 事件中，并在页面的 init 中加载状态。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:11:43.490

您可以访问任何页面中的 isolatedstorage 值，方法与创建它的方式相同。

尝试在 InitializeComponent() 之后访问 Settings() 构造函数中的值；

```
public Settings()
    {
        InitializeComponent();
        string value;
        if (appSettings.Contains("value"))
        {
            appSettings.TryGetValue("value", out value);
        } 
```

然后您可以根据“值”更改切换按钮的值。

# opentext - OpenText LiveLink 中的元数据是什么？

> ID：10908798
> 
> 赞同：-1
> 
> 时间：2012-06-06T05:50:31.907
> 
> 标签：opentext

谁能帮助我理解元数据和类别，我们如何链接到文档？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-14T07:59:46.810

元数据是 Content Server 中节点的类别和属性的集合。

```
Node
  -->Metadata
    -->Category[0]
        -->Attributes DataValues (StringValue, BooleanValue etc...)
    -->Category[1] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T11:36:39.970

首先，它的 Opentext 而不是 Openlink。

元数据和类别是分类法的一部分。当您在 Livelink 中上传文档时，您可以在 Livelink 中设置元数据字段。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-04T06:02:37.200

In Opentext Content Server (formerly Livelink), metadata are the default information to a document (or any object) provided by the Content Server like the creation date, created by, modified by...

Categories and attributes are additional metadata provided by the customer, as in you can create your category with customized attributes, and assign the category to any folder or document in Content Server, and in addition assigning specific values to the attributes. Metadata and categories help users in narrowing their search results.

# django - 模板过滤器崩溃

> ID：10908799
> 
> 赞同：1
> 
> 时间：2012-06-06T05:50:37.613
> 
> 标签：django, django-templates

我有一个要加载到模板中的模板过滤器。

模板位于：

```
- userprofile/
  - templatetags/
    - __init__.py
    - extras.py 
```

用户配置文件在我安装的应用程序中，它似乎正确导入了附加内容。

我在 extras.py 中的模板标签是：

```
register = template.Library()

@register.filter
def minutes_seconds(seconds):
    """
    Format a time in seconds in the MM:SS form.
    """
    return '{:02}:{:02}'.format(int(seconds) / 60, int(seconds) % 60) 
```

在我的 django 模板中，我正在做：

```
{% extends 'base.html' %}
{% load extras %}
...
{{ items|minutes_seconds }} 
```

但这爆炸了，我得到了一个`TemplateSyntaxError: Invalid Filter`. 这似乎是一个非常低级别的错误，因为我可能会在模板中导致其他错误（例如，删除一个`{% for %}`标签，否则它会引发错误），但它似乎`TempalteSyntaxError`几乎在页面渲染之前触发了这个。这里出了什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:27:33.443

检查目录“userprofile/templatetags/”，是否有为 init.py 和 extras.py 编译的 python 文件？

如果那里没有编译文件，则意味着 python 没有访问 templatetags 目录。确保该目录中有 init.py 文件，然后重新启动服务器并再次检查 .pyc 文件。

# iphone - 如何仅将标签栏添加到翻转视图

> ID：10908801
> 
> 赞同：1
> 
> 时间：2012-06-06T05:51:09.607
> 
> 标签：iphone, ios, xcode, tabbar

我已经有了实用程序应用程序的基本代码，但是当应用程序翻转到第二个视图时，我只想`tabbarItem`在翻转视图的底部添加一个，如果视图被翻转回原始视图，则标签栏不应该出现。怎么添加这个功能，顺便说一下我用的是模拟器4.1，谢谢！

这是单击按钮时显示翻转侧的代码，我希望它翻转到标签栏控制器。

```
- (IBAction)showInfo:(id)sender {    

    FlipsideViewController *controller = [[FlipsideViewController alloc] initWithNibName:@"FlipsideView" bundle:nil];
    controller.delegate = self;

    controller.modalTransitionStyle = UIModalTransitionStyleFlipHorizontal;
    [self presentModalViewController:controller animated:YES];

    [controller release];
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:04:21.320

显示/设置是指在视图上添加标签栏控制器吗？好吧，我假设..您可以将标签栏控制器添加为窗口的根视图控制器，即您的 AppDelegate。这是示例代码：

```
UIViewController *viewController1 = [[FirstViewController alloc] initWithNibName:@"FirstViewController" bundle:nil];
UINavigationController *navCon1=[[UINavigationController alloc] initWithRootViewController:viewController1];

UIViewController *viewController2 = [[SecondViewController alloc] initWithNibName:@"SecondViewController" bundle:nil];
UINavigationController *navCon2=[[UINavigationController alloc] initWithRootViewController:viewController2];

UIViewController *viewController3=[[ThirdViewController alloc] initWithNibName:@"ThirdViewController" bundle:nil];
UINavigationController *navCon3=[[UINavigationController alloc] initWithRootViewController:viewController3];

self.tabBarController = [[UITabBarController alloc] init];
self.tabBarController.viewControllers = [NSArray arrayWithObjects:navCon1, navCon2,navCon3, nil];

self.window.rootViewController = self.tabBarController; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:03:35.637

`UITabbar`您可以使用以下代码隐藏

`[yourTabBar setHidden :YES];`

并使用以下代码显示它

`[yourTabBar setHidden:NO];`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T07:10:09.047

你在两个之间切换`UIViewControllers`，对吧？让翻转后出现的第二个视图控制器为`UITabBarViewController`.

# java - string.split 如何评估只有分隔符的字符串？

> ID：10908803
> 
> 赞同：2
> 
> 时间：2012-06-06T05:51:31.997
> 
> 标签：java

例如

```
String splits[] = ("||").split("[|]") 
```

`System.out.println(splits.length)` 返回 0。而我希望它返回 2。解决此问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T06:02:41.450

的默认操作`split()`是丢弃尾随的空字符串。由于每个结果字符串都是空的，因此不会返回任何字符串。

更准确地说，调用与将第二个参数设置为 0 的[`split(String)`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String%29)调用相同。[`split(String, int)`](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split%28java.lang.String,%20int%29)

0 表示（强调我的）：

> ...该模式将被应用尽可能多次，数组可以有任意长度，并且*尾随的空字符串将被丢弃。*

如果您想保留尾随空字符串（并且不想限制元素的数量），请传入一个负值（我建议 -1）：

```
String splits[] = "||".split("\\|", -1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:05:20.340

当对以分隔符结尾的字符串调用 split 时，结束分隔符将被丢弃。

例如，所有这些都是相同的：

```
"X|Y|Z|||".split([|]).length
"X|Y|Z||".split([|]).length
"X|Y|Z|".split([|]).length
"X|Y|Z".split([|]).length 
```

_注意您放在`|`括号中，因为`|`它是正则表达式中的元字符。

# iphone - iOS 捕获屏幕，然后裁剪并遮盖结果图像

> ID：10908805
> 
> 赞同：4
> 
> 时间：2012-06-06T05:51:41.900
> 
> 标签：iphone, ios, uiimage, image-masking

在我的应用程序中，我想执行以下步骤：

1 - 捕获屏幕，这部分对我来说没问题，我正在使用以下代码：

```
- (UIImage *)captureScreen {
    UIGraphicsBeginImageContextWithOptions(self.view.frame.size, YES, 0.0f);
    [self.view.layer renderInContext:UIGraphicsGetCurrentContext()];

    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();

    return image;
} 
```

2 - 我用这个功能裁剪了图像

```
- (UIImage *)cropImage(UIImage *)image inRect:(CGRect)rect  {
    CGImageRef imageRef = CGImageCreateWithImageInRect(image.CGImage, rect);
    UIImage *resultImage = [UIImage imageWithCGImage:imageRef];
    CGImageRelease(imageRef);

    return resultImage;
} 
```

3 - 然后我用纯黑白蒙版蒙版裁剪的图像

```
- (UIImage *)maskImage:(UIImage *)image withMask:(UIImage *)maskImage  {

    CGImageRef maskRef = maskImage.CGImage; 
    CGImageRef mask = CGImageMaskCreate(CGImageGetWidth(maskRef),
                                        CGImageGetHeight(maskRef),
                                        CGImageGetBitsPerComponent(maskRef),
                                        CGImageGetBitsPerPixel(maskRef),
                                        CGImageGetBytesPerRow(maskRef),
                                        CGImageGetDataProvider(maskRef), NULL, false);

    CGImageRef maskedRef = CGImageCreateWithMask([image CGImage], mask);
    UIImage *resultImage = [UIImage imageWithCGImage:maskedRef];
    CGImageRelease(mask);
    CGImageRelease(maskedRef);

    return resultImage;
} 
```

但是，我得到的结果图像是在蒙版形状之外，图像是黑色而不是透明的。有谁能够帮助我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:01:36.737

这对我有用。希望它也对你有用。

```
- (UIImage*) doImageMask:(UIImage *)mainImage:(UIImage*)maskImage{

CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();

CGImageRef maskImageRef = [maskImage CGImage];

// create a bitmap graphics context the size of the image
CGContextRef mainViewContentContext = CGBitmapContextCreate (NULL, maskImage.size.width, maskImage.size.height, 8, 0, colorSpace, kCGImageAlphaPremultipliedLast);

if (mainViewContentContext == NULL){
    return NULL;
}

CGFloat ratio = 0;

ratio = maskImage.size.width/ mainImage.size.width;

if(ratio * mainImage.size.height < maskImage.size.height) {
    ratio = maskImage.size.height/ mainImage.size.height;
} 

CGRect rect1  = {{0, 0}, {maskImage.size.width, maskImage.size.height}};
CGRect rect2  = {{-((mainImage.size.width*ratio)-maskImage.size.width)/2 , -((mainImage.size.height*ratio)-maskImage.size.height)/2}, {mainImage.size.width*ratio, mainImage.size.height*ratio}};

CGContextClipToMask(mainViewContentContext, rect1, maskImageRef);
CGContextDrawImage(mainViewContentContext, rect2, mainImage.CGImage);

// Create CGImageRef of the main view bitmap content, and then
// release that bitmap context
CGImageRef newImage = CGBitmapContextCreateImage(mainViewContentContext);
CGContextRelease(mainViewContentContext);

UIImage *theImage = [UIImage imageWithCGImage:newImage];

CGImageRelease(newImage);

// return the image
return theImage;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T07:32:54.133

我解决了我的问题，这是由于要屏蔽图像的 alpha 通道。所以在屏蔽之前，我创建了另一个带有 alpha 通道的 UIImage 并继续我的步骤。

这是使用 alpha 创建 UIImage 的代码

```
- (UIImage *)imageWithAlpha  {
    CGImageRef imageRef = self.CGImage;
    CGFloat width = CGImageGetWidth(imageRef);
    CGFloat height = CGImageGetHeight(imageRef);

    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();
    CGContextRef context =  CGBitmapContextCreate(nil, width, height, 8, 4 * width, colorSpace, kCGImageAlphaPremultipliedFirst);
    CGContextDrawImage(context, CGRectMake(0, 0, width, height), imageRef);

    CGImageRef resultImageRef = CGBitmapContextCreateImage(context);
    UIImage *resultImage = [UIImage imageWithCGImage:resultImageRef scale:self.scale orientation:self.imageOrientation];

    CGContextRelease(context);
    CGColorSpaceRelease(colorSpace);
    CGImageRelease(resultImageRef);

    return resultImage;
} 
```

# linux - Unix / Linux 文件系统

> ID：10908815
> 
> 赞同：1
> 
> 时间：2012-06-06T05:52:37.180
> 
> 标签：linux, unix

我可以知道为什么将 /etc 文件夹放在文件系统的根目录下是常见的做法吗？此目录中是否有对系统启动很重要的文件？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T05:57:10.017

是的。

这是一篇关于“FHS”的好文章——“文件系统层次标准”：

[http://www.pathname.com/fhs/](http://www.pathname.com/fhs/)

# jquery - 使用 Tooltip 显示表格的行详细信息（jQuery）

> ID：10908816
> 
> 赞同：5
> 
> 时间：2012-06-06T05:52:41.920
> 
> 标签：jquery, jquery-ui, jquery-plugins

我能够以表格格式显示 jsp 页面中的动态值。我想实现鼠标悬停/悬停功能（在 jQuery 中）以显示我的表格中的每一行详细信息（在 jsp 页面中）。我正在分享一些代码在这里：

```
<table name="table" id="table" class="table" cellpadding="4" cellspacing="2" border="1" bgcolor="" >
<tr>
<th><input type="checkbox" name="allCheck" onclick="selectallMe()"></th>
<th>Emp ID</th>
<th>Emp Name</th>
</tr>
<tr class="tr" id="tr">
<%while(rs.next()){ %>
<td><input type="checkbox" name="chkName" onclick="selectall()"></td> 
<td><input type="text"  name="empId" value="<%= rs.getString(1)%>" disabled="disabled"  maxlength="10"></td>
<td><input type="text"  name="empName" value="<%= rs.getString(2)%>" disabled="disabled" maxlength="10"></td>
</tr>
<% } %>
</table> 
```

为此，我是否必须使用 jQuery DataTable 和 mouseover()/hover 或其他东西。

正确的方法应该是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-06-06T05:59:28.420

看看下面的链接，它将解释更多关于鼠标悬停的信息，

[http://jqfaq.com/how-to-highlight-rows-in-a-table-on-mouse-hover/](http://jqfaq.com/how-to-highlight-rows-in-a-table-on-mouse-hover/)

您可以轻松获取上述链接中使用的 _mousehover 中行的详细信息。你可以展示它。你想在工具提示中显示它吗？

**编辑：**这是在鼠标悬停的工具提示中使用 tr info 的方法，

```
// Do this in _mousehover
$currentRow = $(event.target).closest('tr');
$currentRow.attr("title", $currentRow.attr("id")); 
```

注意：在该示例中没有 tr 的 id。所以，你必须添加它。

# java - 上次使用 SVNkit 对文件进行详细修改

> ID：10908817
> 
> 赞同：1
> 
> 时间：2012-06-06T05:52:47.187
> 
> 标签：java, svn, svnkit

嗨，如何使用 SVNkit 获取文件的最后修改值。场景：文件是从 SVN 更新的，并且它在本地 repo（工作副本）中可用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:13:56.920

您可以使用 svn 关键字[http://svnbook.red-bean.com/en/1.4/svn.advanced.props.special.keywords.html](http://svnbook.red-bean.com/en/1.4/svn.advanced.props.special.keywords.html) '修改者'应该是作者。

您必须确保在每次签入之前都会更改带有关键字的文件。这可以使用 ant 脚本来完成。

关键字可以在常量中使用，第二个常量提取有趣的部分：

```
private static final String SVN_AUTHOR_BASE            = "$Author: 113665 $";

/** Is filled in automatically on check in */
public static final String  SVN_AUTHOR                 = SVN_AUTHOR_BASE.
                              substring(9,SVN_AUTHOR_BASE.indexOf('$', 9) - 1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T07:40:56.497

```
public static String getLastModifiedBy(File localPath) throws SVNException {
    final SVNStatus status = SVNClientManager.newInstance().getStatusClient().doStatus(localPath, false);
    return status != null ? status.getAuthor() : null;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T08:37:33.083

```
 SVNProperties props=new SVNProperties();
    repository.getFile(filePath,new Long(-1),props,null);
    String author=props.getSVNPropertyValue("svn:entry:last-author").toString(); 
```

工作正常。

# mercurial - 如何从另一个回购中过滤历史记录？

> ID：10908820
> 
> 赞同：0
> 
> 时间：2012-06-06T05:53:19.040
> 
> 标签：mercurial, tortoisehg

我使用 TortoiseHg 作为我的 VCS，这是一个问题：

我有 2 个存储库，`Base`并且`Feature`

的`Base`历史是这样的：

```
1 Prod 01
0 Create repo 
```

假设我现在正在克隆`Base`，并在repo`Feature`中添加一些功能。`Feature`它的历史应该是这样的：

```
3 Prod 02
2 Add xxxxx
1 Prod 01
0 Create repo 
```

问题来了，我怎么能只把`Feature`rev3 Prod 02拉到`Base`repo 呢？

因为我希望我的`Base`回购是干净的。

我看到了`TortoiseHg`这样的回购，它的历史是这样的：

```
161 bump to rev 30
160 bump to rev 29 
```

他们是怎么做到的？

最好的问候盛云

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:21:18.873

您可以为此使用[移植扩展](http://mercurial.selenic.com/wiki/TransplantExtension)。在您给出的示例中，假设`Base`并`Feature`存储在您将执行此命令的同一文件夹中：

```
cd /path/to/Base
hg transplant -s ../Feature 3 
```

# windows - Windows cmd：如何找到并杀死使用 wscript 运行和隐藏的 .bat 文件？

> ID：10908824
> 
> 赞同：1
> 
> 时间：2012-06-06T05:53:42.177
> 
> 标签：windows, batch-file, cmd, kill, wsh

我在玩 Turntable.fm 机器人，我想在本地机器的 Nodejs 安装上运行它，但不显示 cmd 窗口。所以我最终使用了一个 vbs 脚本来隐藏窗口：

```
CreateObject("Wscript.Shell").Run """" & WScript.Arguments(0) & """", 0, False 
```

然后我的 .bat 文件如下所示：

```
.\node.exe .\Turntable-API\bots\carlin.js 
```

就是这样。很简单。我在 Windows 中创建了一个快捷方式文件，然后运行它：

```
C:\Windows\System32\wscript.exe "C:\ttbot\invisible.vbs" "C:\ttbot\ttbot.bat" 
```

现在的问题是我不知道如何找到或终止已启动的进程。当我尝试查看任务管理器时，没有 wscript.exe、cmd.exe、node.exe、invisible.vbs 或 ttbot.bat 运行任何类型的进程。当我尝试在 cmd 中运行 .bat 文件时，它不会立即关闭，所以我认为它需要某种手动关闭。我该怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:18:20.573

尝试使用[Process Explorer](http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx)，搜索您上面提到的任何进程，以防这些进程在现有进程下运行，找到它，然后您可以杀死您的进程。

如果它没有出现在 Process Explorer 中，则可能是脚本未运行或在执行后结束，可能是由于错误。尝试在没有 vbscript 的情况下运行以确保一切正常。

# perl - Perl int 函数和填充零

> ID：10908825
> 
> 赞同：2
> 
> 时间：2012-06-06T05:53:47.963
> 
> 标签：perl

1.  我有下面的 Perl 函数来显示最多两位小数。当输入值为 2.01 时，它不起作用，输出为 2 而不是 2.01。我不知道为什么它是四舍五入的。

而不是 printf 我将输出写入文件，但它仍然给我 output1 作为 2。

```
 my $ramount = 2.01;
    $ramount = int($ramount*100)/100;
    printf "output1: $ramount"; 
```

2.  如果我有 .2、.23、.2345、1,23、23.1 和 9 之类的值，我可以使用什么函数来填充零以显示 0.2、0.23、0.2345、1、23、23.1 和 9？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T05:59:48.513

我认为这个序列会回答你的问题：

```
 DB<1> $a=2.01

  DB<2> p $a
2.01
  DB<3> printf "%20.10f\n", $a
        2.0100000000

  DB<4> printf "%20.16f\n", $a
  2.0099999999999998

  DB<5> printf "%20.16f\n", ($a*100)
200.9999999999999716

  DB<6> printf "%20.16f\n", ($a*100)/100
  2.0099999999999998

  DB<7> printf "%20.16f\n", int($a*100)
200.0000000000000000

  DB<8> printf "%20.16f\n", int($a*100)/100
  2.0000000000000000

  DB<9> 
```

本质上（这已在 SO 上多次回答），2.01 不能完全表示为浮点数。如上所示，最接近的浮点数是 2.009999999999999716 ...

至于填充，试试

```
printf "%04d", $number 
```

格式中的前导零告诉`printf`（或`sprintf`）左填充零。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:30:58.987

来自[`perldoc perlfaq4`](http://perldoc.perl.org/perlfaq4.html#Why-is-int%28%29-broken%3f)：

> ## 为什么 int() 坏了？
> 
> 你[`int()`](http://perldoc.perl.org/functions/int.html)很可能工作得很好。数字和你想的不太一样。首先，请参阅[“为什么我得到长小数（例如，19.9499999999999）而不是我应该得到的数字（例如，19.95）？”的答案。](http://perldoc.perl.org/perlfaq4.html#Why-am-I-getting-long-decimals-%28eg%2c-19.9499999999999%29-instead-of-the-numbers-I-should-be-getting-%28eg%2c-19.95%29%3f).
> 
> 例如，这个
> 
> ```
> print int(0.6/0.2-2), "\n"; 
> ```
> 
> 在大多数计算机中将打印 0，而不是 1，因为即使是像 0.6 和 0.2 这样简单的数字也不能用浮点数精确表示。您在上面认为的“三”实际上更像是 2.9999999999999995559。

# php - 如何从文件夹中获取第一个文件名并在 PHP 中将其删除

> ID：10908826
> 
> 赞同：0
> 
> 时间：2012-06-06T05:53:54.113
> 
> 标签：php, file, alphabetical, unlink

我试着做一个画廊。在一个文件夹中，我有一些重复的图片。我有图片名为：af_160112、af_160113、af_160114。我想删除第一个。如何拍摄文件夹中的第一张照片并将其删除？到目前为止，我知道我应该使用 unlinke($file) 函数。谢谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T08:42:45.290

解决了。

我用了：

```
$files = glob($path_to_gallery . '/*.{jpg,png,gif}', GLOB_BRACE);
   foreach($files as $file) {
   unlink($file);
   break;
   } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:13:28.087

```
$path = 'full_path/gallery/';
$dir = opendir($path);
while ($dir && ($file = readdir($dir)) !== false) {
    unlink($path.$file);
    break;
} 
```

# c# - Azure 存储，无法正确上传图片

> ID：10908830
> 
> 赞同：3
> 
> 时间：2012-06-06T05:54:49.263
> 
> 标签：c#, asp.net-mvc-3, azure, azure-storage

我正在尝试在 mvc 项目中创建一个动作。可以将文件和图像上传到我的天蓝色存储。但由于某种原因，它不会正确上传，这就是我的猜测。如果我使用“Azure Storage Explorere”上传图像，它可以正常工作。示例：[http](http://storage.sogaard.us/company1/wallpaper-396234.jpg) ://storage.sogaard.us/company1/wallpaper-396234.jpg 但是如果我尝试上传图片，虽然我的操作不起作用，它会发送 200 表示成功和正确的内容类型，但图片不会加载，我的开发人员工具告诉我我没有从服务器获得数据。示例：[http ://storage.sogaard.us/company1/b9206edac188e1d8aa2b3be7cdc4b94a.jpg](http://storage.sogaard.us/company1/b9206edac188e1d8aa2b3be7cdc4b94a.jpg)

我试图将上传的 til 保存到我的本地计算机而不是 azure 存储中，并且在那里运行良好！我根本找不到原因，这一直困扰着我一整天:(

这是我的代码

```
[HttpPost]
public ActionResult Upload(FilesUploadModel model, IEnumerable<HttpPostedFileBase> files)
{

    if(ModelState.IsValid)
    {
        if (files != null && files.Any())
        {
            int maxSizeInBytes = ConfigurationManager.Instance.Configuration.FileMaxSize;
            Size thumbSize = new Size(200, 200);

            foreach (HttpPostedFileBase file in files.Where(x => x != null))
            {
                CMS.Common.Data.File _file = new Sogaard.Inc.CMS.Common.Data.File();

                // is any files uploadet?
                if (!(file.ContentLength > 0))
                {
                    FlashHelper.Add(Text("File not received"), FlashType.Error);
                    continue;
                }
                // is the file larger then allowed
                if (file.ContentLength > maxSizeInBytes)
                {
                    FlashHelper.Add(Text("The file {0}'s file size was larger then allowed", file.FileName), FlashType.Error);
                    continue;
                }

                var fileName = Encrypting.MD5(Path.GetFileNameWithoutExtension(file.FileName) + DateTime.Now) + Path.GetExtension(file.FileName);
                string mimeType = FileHelper.MimeType(FileHelper.GetMimeFromFile(file.InputStream));

                _file.SiteId = SiteId();
                _file.Container = GetContainerName();
                _file.FileName = Path.GetFileName(file.FileName);
                _file.FileNameServer = fileName;
                _file.Created = DateTime.Now;
                _file.Folder = model.Folder;
                _file.Size = file.ContentLength;
                _file.Type = mimeType;

                if (mimeType.ToLower().StartsWith("image/"))
                {
                    try
                    {
                        // So we don't lock the file
                        using (Bitmap bitmap = new Bitmap(file.InputStream))
                        {
                            _file.Information = bitmap.Width + "|" + bitmap.Height;

                            if (bitmap.Height > 500 && bitmap.Width > 500)
                            {
                                var thumbfileName = Encrypting.MD5(Path.GetFileNameWithoutExtension(file.FileName) + "thumb" + DateTime.Now) + ".jpeg";
                                Size thumbSizeNew = BaseHelper.ResizeImage(bitmap.Size, thumbSize);
                                Bitmap thumbnail = (Bitmap)bitmap.GetThumbnailImage(thumbSizeNew.Width,
                                                                                          thumbSizeNew.Height,
                                                                                          ThumbnailCallback,
                                                                                          IntPtr.Zero);
                                _file.ThumbFileNameServer = thumbfileName;
                                // Retrieve reference to a blob named "myblob"
                                CloudBlob blob = container().GetBlobReference(_file.ThumbFileNameServer);
                                blob.Metadata["Filename"] = Path.GetFileNameWithoutExtension(file.FileName) + "-thumb" + ".jpg";
                                blob.Properties.ContentType = "image/jpeg";

                                // Create or overwrite the "myblob" blob with contents from a local file
                                using (MemoryStream memStream = new MemoryStream())
                                {
                                    thumbnail.Save(memStream, ImageFormat.Jpeg);
                                    blob.UploadFromStream(memStream);
                                }
                                blob.SetMetadata();
                                blob.SetProperties();
                            }
                        }
                    }
                    catch (Exception e)
                    {
                        if (e.GetType() != typeof (DataException))
                            FlashHelper.Add(Text("The image {0} was not a valid image", file.FileName),
                                            FlashType.Error);
                        // Removing the file
                        System.IO.File.Delete(file.FileName);
                    }
                }
                else
                {
                    _file.Information = null;
                }
                // Retrieve reference to a blob named "myblob"
                CloudBlob blobF = container().GetBlobReference(fileName);
                blobF.Metadata["Filename"] = file.FileName;
                blobF.Properties.ContentType = mimeType;

                // Create or overwrite the "myblob" blob with contents from a local file
                blobF.UploadFromStream(file.InputStream);
                blobF.SetMetadata();
                blobF.SetProperties();

                fileService.Save(_file);
            }
        }

        return RedirectToAction("Display", new { Folder = model.Folder });
    }

    model.FolderSugestion = fileService.GetFolders(SiteId());
    return View(model);
}

    private CloudBlobContainer container()
    {
        // Retrieve storage account from connection-string
        CloudStorageAccount storageAccount = CloudStorageAccount.Parse(
            RoleEnvironment.GetConfigurationSettingValue("StorageConnectionString"));

        // Create the blob client
        CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();

        // Retrieve reference to a previously created container
        var container = blobClient.GetContainerReference(GetContainerName());
        container.CreateIfNotExist();
        return container;
    }

    private string GetContainerName()
    {
        return "company" + SiteId();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T07:29:39.970

在缩略图代码路径中，我认为您需要`memStream.Position = 0`在尝试上传之前将流重置回开头。

对于其他（非图像）代码路径，没有什么是错误的。该代码有效吗？

在这两个代码路径中，您都不需要`blob.SetMetadata()`and `blob.SetProperties()`，因为这些将在上传发生时完成。

**[编辑]**另外，有什么作用`GetMimeFromFile`？它是否从流中读取（因此可能将流位置留在开头以外的位置）？

# php - 获取所需的 javascript 错误对象

> ID：10908839
> 
> 赞同：0
> 
> 时间：2012-06-06T05:56:07.483
> 
> 标签：php, javascript

我正在获取 div 标签的偏移宽度。下面是代码。

```
 <body>
  <div id="marqueeborder" onmouseover="pxptick=0" onmouseout="pxptick=scrollspeed">
<div id="marqueecontent">

<?php

    // Original script by Walter Heitman Jr, first published on http://techblog.shanock.com

    // List your stocks here, separated by commas, no spaces, in the order you want them displayed:
    $stocks = "idt,iye,mill,pwer,spy,f,msft,x,sbux,sne,ge,dow,t";

    // Function to copy a stock quote CSV from Yahoo to the local cache. CSV contains symbol, price, and change
    function upsfile($stock) { copy("http://finance.yahoo.com/d/quotes.csv?s=$stock&f=sl1c1&e=.csv","stockcache/".$stock.".csv"); }

    foreach ( explode(",", $stocks) as $stock ) {

        // Where the stock quote info file should be...
        $local_file = "stockcache/".$stock.".csv";

        // ...if it exists. If not, download it.
        if (!file_exists($local_file)) { upsfile($stock); }
        // Else,If it's out-of-date by 15 mins (900 seconds) or more, update it.
        elseif (filemtime($local_file) <= (time() - 900)) { upsfile($stock); }

        // Open the file, load our values into an array...
        $local_file = fopen ("stockcache/".$stock.".csv","r");
        $stock_info = fgetcsv ($local_file, 1000, ",");

        // ...format, and output them. I made the symbols into links to Yahoo's stock pages.
        echo "<span class=\"stockbox\"><a href=\"http://finance.yahoo.com/q?s=".$stock_info[0]."\">".$stock_info[0]."</a> ".sprintf("%.2f",$stock_info[1])." <span style=\"";
        // Green prices for up, red for down
        if ($stock_info[2]>=0) { echo "color: #009900;\">&uarr;";   }
        elseif ($stock_info[2]<0) { echo "color: #ff0000;\">&darr;"; }
        echo sprintf("%.2f",abs($stock_info[2]))."</span></span>\n";
        // Done!
        fclose($local_file); 
    }
?>
<span class="stockbox" style="font-size:0.6em">Quotes from <a href="http://finance.yahoo.com/">Yahoo Finance</a></span>

</div>
</div>
 </body> 
```

下面是将在页面的onlaod 调用的javascript 函数。

```
<script type="text/javascript">

    // Original script by Walter Heitman Jr, first published on http://techblog.shanock.com

    // Set an initial scroll speed. This equates to the number of pixels shifted per tick
    var scrollspeed=2;
    var pxptick=scrollspeed;

    function startmarquee(){
        alert("hi");
        // Make a shortcut referencing our div with the content we want to scroll
        var marqueediv=document.getElementById("marqueecontent");
        alert("marqueediv"+marqueediv);
        alert("hi"+marqueediv.innerHTML);

        // Get the total width of our available scroll area
        var marqueewidth=document.getElementById("marqueeborder").offsetWidth;
        alert("marqueewidth"+marqueewidth);
        // Get the width of the content we want to scroll
        var contentwidth=marqueediv.offsetWidth;
        alert("contentwidth"+contentwidth);
        // Start the ticker at 50 milliseconds per tick, adjust this to suit your preferences
        // Be warned, setting this lower has heavy impact on client-side CPU usage. Be gentle.
        var lefttime=setInterval("scrollmarquee()",50);
        alert("lefttime"+lefttime);
    }

    function scrollmarquee(){
        // Check position of the div, then shift it left by the set amount of pixels.
        if (parseInt(marqueediv.style.left)>(contentwidth*(-1)))
            marqueediv.style.left=parseInt(marqueediv.style.left)-pxptick+"px";
        // If it's at the end, move it back to the right.
        else
            marqueediv.style.left=parseInt(marqueewidth)+"px";
    }

    window.onload=startmarquee();

</script> 
```

当我在服务器上运行上述代码时，我在第 46 行收到 javascript 错误作为“需要对象”以及警报（“marqueediv”+marqueediv）；在收到 javascript 错误的警报之后是“marqueedivnull”。

我的问题是，div 标签没有被识别吗？为什么？所以只有它作为空对象，我该如何解决这个问题？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:01:31.480

您正在`startmarquee`立即调用并尝试将其返回值 ( `undefined`) 分配给`window.onload`.

大概脚本出现在`<head>`div 中，并且在您运行它时该 div 不存在。

将函数分配给`onload`，而不是其返回值。

```
window.onload=startmarquee; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:08:28.323

您可以复制脚本并将其放在正文结束标记之前并删除`window.onload=startmarquee();`，从而确保所有元素都已加载并可访问

就像@Quentin 说的那样，当您引用它时，带有 id 的元素可能尚未加载到 DOM 中

# sphinx - sphinx 在同一端口上搜索多个

> ID：10908841
> 
> 赞同：0
> 
> 时间：2012-06-06T05:56:31.203
> 
> 标签：sphinx

我正在研究狮身人面像搜索。我为不同的数据制作了不同的索引。我的问题是，我对不同的索引有不同的搜索服务。但我想在同一个端口上运行这些所有服务。是否可以在 Sphinx 中执行此操作？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:46:06.560

每个 Sphinx 守护进程可以提供多个索引。您只需要将所有源和索引定义放入单个配置文件并确保索引具有不同的名称。

快速示例：

```
source src1
{
...
}

source src2
{
...
}

index sphinx_index1
{
    source                  = src1
    path                    = <sphinx_path>/sphinx_index1
    ...
}

index sphinx_index2
{
    source                  = src2
    path                    = <sphinx_path>/sphinx_index2
    ...
} 
```

希望这可以帮助

# codeigniter - A Database Error Occurred Error Number: 1146 in codeigniter

> ID：10908843
> 
> 赞同：2
> 
> 时间：2012-06-06T05:56:44.343
> 
> 标签：codeigniter

我是 codeigniter 的新手，我尝试过表单验证。

这是我的查看代码：

```
<?php echo validation_errors(); ?>
          <?php echo form_open('enquiry'); ?>
          <table width="580" border="0" cellspacing="0" cellpadding="5">

            <tr>
              <td height="30" align="right" valign="middle" class="normal-text-style"> *Full Name:<br /></td>
              <td height="30" align="left" valign="middle" class="normal-style"><input type="text" name="name" value="<?php echo set_value('name'); ?>" class="textbox-style01" /></td>
            </tr>
            <tr>
              <td height="30" align="right" valign="middle" class="normal-text-style"> *Company: <span id="mndCompany"> </span><br /></td>
              <td height="30" align="left" valign="middle" class="normal-style"><input type="text" name="company" value="<?php echo set_value('company'); ?>"  class="textbox-style01" /></td>
            </tr>
            <tr>
              <td height="30" align="right" valign="middle" class="normal-text-style"> *E-mail:</td>
              <td height="30" align="left" valign="middle" class="normal-style"><input type="text" name="email" value="<?php echo set_value('email'); ?>" class="textbox-style01" /></td>
            </tr>
            <tr>
              <td height="30" align="right" valign="middle" class="normal-text-style"> *Phone: <br /></td>
              <td height="30" align="left" valign="middle" class="normal-style"><input type="text" name="phone" value="<?php echo set_value('phone'); ?>" class="textbox-style01" /></td>
            </tr>
            <tr>
              <td height="30" align="right" valign="middle" class="normal-text-style"> *Fax: <br /></td>
              <td height="30" align="left" valign="middle" class="normal-style"><input type="text" name="fax" value="<?php echo set_value('comments'); ?>" class="textbox-style01" /></td>
            </tr>
            <tr>
              <td width="179" height="30" rowspan="2" align="right" valign="top" class="normal-text-style"> *Comments: <br /></td>
              <td width="421" height="12" align="left" valign="middle" class="normal-style"><textarea  name="comments" class="msgebox-style01"><?php echo set_value('comments'); ?></textarea></td>
            </tr>
            <tr>
              <td height="50" align="left" valign="top" class="normal-style"><input type="image" name="submit" src=" <?php echo base_url(); ?>/public/images/submit01.png" alt="submit" /></td>
            </tr>
          </table>
          </form> 
```

这是我的控制器

```
function index()
    {
        $this->form_validation->set_rules('name', 'Name', 'trim|required|xss_clean');
        $this->form_validation->set_rules('company', 'Company', 'trim|required|xss_clean');
        $this->form_validation->set_rules('email', 'Email', 'required|valid_email|is_unique[users.email]');
        $this->form_validation->set_rules('phone', 'phone', 'trim|required|xss_clean');
        $this->form_validation->set_rules('fax', 'fax', 'trim|required|xss_clean');
        $this->form_validation->set_rules('comments', 'comments', 'trim|required|xss_clean');

        $data['header_menu']=$this->load->view('header_menu', '', TRUE);
        $this->load->view('inner_header',$data);
        $data['left_menu']=$this->load->view('left_menu', '', TRUE);

        if ($this->form_validation->run() == FALSE)
        {
            $this->load->view('enquiry',$data);
        }

        else
        {
           $this->load->view('enquiry/formsucess',$data);   
        }    
        $this->load->view('footer');
        //$this->load->view('enquiry',$data);

    }
    function formsucess()
    {

        $name = $this->input->post('name');
        $company = $this->input->post('company');
        $email = $this->input->post('email');
        $phone = $this->input->post('phone');
        $fax = $this->input->post('fax');
        $comments = $this->input->post('comments');
        $this->db->query("INSERT INTO `st_enquiry` 
        (name, company,email,phone,fax,comments,status,created_on)
        VALUES
        ('$name','$company','$email','$phone','$fax','$comments','1',now())");

        $data['header_menu']=$this->load->view('header_menu', '', TRUE);
        $this->load->view('inner_header',$data);
        $data['left_menu']=$this->load->view('left_menu', '', TRUE);
        $this->load->view('media',$data);
        $this->load->view('footer');

    } 
```

提交表单后，我收到如下错误：

```
A Database Error Occurred

Error Number: 1146

Table 'table.users' doesn't exist 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T09:25:36.597

[签出此链接](http://codeigniter.com/user_guide/database/active_record.html#insert)

这里

```
$data = array(
   'title' => 'My title' , // column_name => value
   'name' => 'My Name' ,
   'date' => 'My date'
);

$this->db->insert('tablename', $data); 
```

必须在任何条件下工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-04-15T18:51:37.673

```
$this->form_validation->set_rules('email','Email','required|valid_email|is_unique[users.email]'); 
```

**这里会有一些变化**
is_unique[users.email]
01.这里 users 表示您的表名 02.email 表示您表
中的电子邮件列。

所以它会是

```
$this->form_validation->set_rules('email','Email','required|valid_email|
is_unique[table name.email column in your table]'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-12-16T12:48:48.943

发生数据库错误

错误号：1146

表“table.users”不存在

我通过更改 phpmyadmin 中的表名解决了 Codeigniter 中的这个问题，希望这可以帮助你

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2016-05-19T06:55:25.667

在模型中创建一个函数，如：

```
$this->db->insert($this->table_name,$db_data);
return $this->db->insert_id(); 
```

并将数据从控制器发送到模型

# perl - 使用 perl 搜索关键字并将整行复制到新文件中

> ID：10908851
> 
> 赞同：0
> 
> 时间：2012-06-06T05:57:11.673
> 
> 标签：perl, search, automation

如何递归到多个目录（在 Windows 中）并搜索从特定名称开始的所有字符串。（例如：所有从“perl_”开始的字符串）并将整行复制到一个新文件中。

感谢您的任何指示（现有网站？）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:17:21.597

我会从核心 Perl 发行版中的[File::Find开始：](http://search.cpan.org/perldoc?File%3a%3aFind)

```
use strict;
use warnings;
use File::Find;

my $starting_path = '/path/to/begin/searching';

open my $output, '>', 'output.txt' or die $!;

find(
    sub {
        return unless -e -f;
        if ( open my $infile, '<', $_ ) {
            while ( my $line = <$infile> ) {
                print $output $line if $line =~ m/^perl_/;
            }
        }
        else {
            warn "$_ couldn't be opened: $!";
        }
    },
    $starting_path
);

close $output or die $!; 
```

如果您在设计搜索模式方面需要更多帮助，请参阅Perl 的 POD（Perl 的文档）中的[perlretut](http://perldoc.perl.org/perlretut.html)和[perlre](http://perldoc.perl.org/perlre.html)，它包含在每个发行版中。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-06-06T06:20:45.157

对于字符串匹配，如果 Perl 使用和 ruby​​ 一样的正则表达式，我相信是这样，那么你可以使用[http://rubular.com/](http://rubular.com/)来测试正则表达式。要匹配 Perl 中的正则表达式，请执行此操作

```
if $string =~ /regular expression/ 
```

下面的正则表达式应该匹配 perl_ 在字符串的开头

```
/^perl_/ 
```

为了帮助自己，只需谷歌“regular expressions Perl”或“regex Perl”，您会发现一些有用的网站解释如何在 Perl 中使用正则表达式。

要遍历多个目录，请参阅[使用 Perl 自动化系统管理](http://oreilly.com/catalog/9780596006396)中的第 2 章：*文件*系统。

我希望这能回答你所有的问题。

# java - 创建多个线程循环

> ID：10908853
> 
> 赞同：3
> 
> 时间：2012-06-06T05:57:27.320
> 
> 标签：java, multithreading, loops

抱歉，如果这是一个基本问题，但我一直在考虑做多个精灵循环，并且我第一次尝试在 main 中创建两个线程，两个线程都带有 while(true) 循环。我的意图：让两个线程同时循环。但是，当我运行程序时，它似乎中断了执行流程，并且第二个循环没有在新线程中执行，而只是在程序卡在线程的第一个无限 while() 循环时停止。我认为它仍然只是执行主线程，而不是启动一个新线程然后继续。

我试过两种方法：

一次使用线程：

```
public class Zzz {

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        r1 r = new r1();
        r2 a = new r2();
        r.start();
        a.start();
    }
}

public class r1 extends Thread {

    @Override
    public void start() {
        while(true) {
            System.out.println("r1");
            try {
                this.sleep(100);
            } catch (Exception ex) {

            }
        }
    }

}

public class r2 extends Thread {

    @Override
    public void start() {
        while(true) {
            System.out.println("r2");
                        try {
                this.sleep(100);
            } catch (Exception ex) {

            }
        }
    }

} 
```

**一次使用 Runnable：**

```
public class Zzz {

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        r1 r = new r1();
        r2 a = new r2();
        r.run();
        a.run();
    }
}

public class r1 implements Runnable {

    @Override
    public void run() {
        while(true) {
            System.out.println("r1");
            try {
                Thread.sleep(100);
            } catch (Exception ex) {

            }
        }
    }

}

public class r2 implements Runnable {

    @Override
    public void run() {
        while(true) {
            System.out.println("r2");
                        try {
                Thread.sleep(100);
            } catch (Exception ex) {

            }
        }
    }

} 
```

但无济于事。它总是卡在 R1 上。有什么想法吗？我已经用谷歌搜索并环顾四周，但我无法在任何地方找到它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:00:24.177

您需要覆盖 run 方法，如果是可运行的，您需要创建 Thread 的实例

```
public class MyThread extends Thread{
    @Override
    public void run() {
        while(true) {
            System.out.println("My Thread running");
        }

} 
```

并且对于`Runnable`

```
class MyRunnable implements Runnable{

             public void run(){
                         System.out.println("I am executing by Thread: " + Thread.currentThread().getName());
             }
 } 
```

和

```
 Thread mythread = new MyThread();
  mythread.setName("T1");
  Thread myrunnable = new Thread(new MyRunnable());
  myrunnable.start(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-06-06T06:02:43.053

要启动线程，您需要`Thread`从s 创建两个`Runnable`s 并启动它们：

```
Thread t1 = new Thread(r);
Thread t2 = new Thread(a);
t1.start();
t2.start(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-06-06T06:08:34.590

将类 r1 和 r2 定义为：

```
public class Thread1 extends Thread {

@Override
public void run() {
    System.out.println("r1");
    try {
       this.sleep(100);
    } catch (Exception ex) {

    }        
 }

}

public class Thread2 extends Thread {

@Override
public void run() {
    System.out.println("r2");
    try {
      this.sleep(100);
    } catch (Exception ex) {
    }
}
}

public class ThreadTester {

    public static void main(String[] args) {
        Thread1 r = new Thread1();
        Thread2 a = new Thread2();
        r.start();
        a.start();
    }
} 
```

使用可运行：

```
public class HelloRunnable implements Runnable {

    public void run() {
        System.out.println("Hello from a thread!");
    }

    public static void main(String args[]) {
        (new Thread(new HelloRunnable())).start();
    }

} 
```

检查[java 文档](http://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html)以获取更多信息

# actionscript-3 - FLV 播放器静音按钮未显示正确的静音状态？

> ID：10908858
> 
> 赞同：0
> 
> 时间：2012-06-06T05:57:38.187
> 
> 标签：actionscript-3, flash

我正在使用 Flash FLV 播放器组件。视频自动播放，需要静音才能开始，然后观众可以在声音打开或关闭之间切换。

```
videoPlayer.volume = 0;
var isMute:Boolean = true;

videoPlayer.addEventListener(MouseEvent.CLICK, muteClickHandler);
function muteClickHandler(e:MouseEvent) {
    if(isMute) {
        videoPlayer.volume=1;
        isMute = false;
    } else if (!isMute) {
        videoPlayer.volume=0;
        isMute = true;
    }
} 
```

但是显示声音开/关的图标没有正确显示。例如，`volume=0`在最开始时，图标显示声音已打开。此外，即使音量为 0，当您单击暂停按钮时，图标也会变为声音开启。

我能做些什么来解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-07T05:08:50.607

您需要通过自己的代码处理来更改静音按钮图标。

我认为没有任何API。

# android - 使用 puelocesar / android-lib-magick

> ID：10908863
> 
> 赞同：1
> 
> 时间：2012-06-06T05:57:56.420
> 
> 标签：android, imagemagick

我是Android的初学者。我想要一个使用这个库的示例应用程序：[https](https://github.com/puelocesar/android-lib-magick) ://github.com/puelocesar/android-lib-magick 。我之前尝试使用[https://github.com/lilac/Android-ImageMagick](https://github.com/lilac/Android-ImageMagick) - 我做了很多更改以使其工作，但我得到的结果并不令人满意。

我只是想知道哪个类需要特定的东西。

这些是我使用[https://github.com/lilac/Android-ImageMagick得到的效果](https://github.com/lilac/Android-ImageMagick)

![没有效果](../Images/cb02124b67148f4353e3b0edf548d3e2.png) ![均匀噪声](../Images/c38035f9ab872a484cf794ae8d19c1cf.png) ![泊松噪声](../Images/eb6c09c8d75c77c7053f55db063ab082.png) ![乘性噪声](../Images/0612a9eec82bb2ee4f6caddb8e628fed.png) ![拉普拉斯噪声](../Images/333c69bcc709008dfb623160bd403c4b.png) ![脉冲噪声](../Images/590ad486794ac7eb4b23d27f8c38f6ef.png) ![高斯噪声](../Images/d2be5472451ae5c9d690e9a0c411922f.png) ![模糊](../Images/494286d4a3a5a0e250577894eed52139.png) ![木炭](../Images/17e67cd973874fbd6a53902da03a099a.png) ![边缘](../Images/cefb90ab950583d712bdd9082e72af19.png)

模糊，木炭和无效果看起来完全一样。当我选择边缘时，它显示模糊图像。并且出现了噪点效果，但它们看起来像是在该图像上手动绘制了红点和绿点。

下面是运行应用程序的代码。

它使用硬编码名称和扩展名搜索 sd 卡中的图像。它得到了所有的 ibages，但我无法理解它对这些图像做了什么，因为它在屏幕上只显示一个图像。

也不知道 test.txt 是创建的。此代码作为 AndroidMagickActivity 存在于库中

经过长时间的搜索，我对 android.mk 文件进行了一些更改，现在它正在运行，但输出不是那么好。

请任何人帮助我改善丁香库的结果或帮助我了解如何使用[https://github.com/puelocesar/android-lib-magick](https://github.com/puelocesar/android-lib-magick)

我是初学者，我不知道如何使用 NDK 以及如何创建 JNI 和 .so 文件

```
package magick;

import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;

import android.app.Activity;
import android.app.Dialog;
import android.app.ProgressDialog;
import android.graphics.Bitmap;
import android.graphics.drawable.BitmapDrawable;
import android.os.Bundle;
import android.os.Environment;
import android.os.Handler;
import android.os.Looper;
import android.os.Message;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemSelectedListener;
import android.widget.ArrayAdapter;
import android.widget.ImageView;
import android.widget.Spinner;
import android.widget.TextView;
import android.magick.R;
import magick.util.DisplayImageMetaData;
import magick.util.MagickBitmap;

import android.util.Log;
import android.view.*;

public class AndroidMagickActivity extends Activity {
    static final int PROGRESS_DIALOG = 0;
    ProgressDialog progressDialog = null;

    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.main);
        // InputStream stream = getResources().openRawResource(R.raw.app_notes);

        try {
            final MagickImage img = new MagickImage(new ImageInfo("/sdcard/1.jpg"));

            /*
             * ImageView iv = new ImageView(this);
             * iv.setImageBitmap(MagickBitmap.ToBitmap(img));
             * setContentView(iv);
             */
//          setContentView(R.layout.main);
            Spinner s = (Spinner) findViewById(R.id.spinner);
            ArrayAdapter adapter = ArrayAdapter.createFromResource(this,R.array.effects, android.R.layout.simple_spinner_item);
            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
            s.setAdapter(adapter);

            s.setOnItemSelectedListener(new OnItemSelectedListener() {

                public void onItemSelected(AdapterView<?> parent, View view,
                        int pos, long id) {
                    ProgressThread t = new ProgressThread(img, pos);
                    //runOnUiThread(t);
                    t.run();
                }

                public void onNothingSelected(AdapterView<?> parent) {
                    // Do nothing.
                }
            });
            ImageView iv = (ImageView) findViewById(R.id.imageView);
            iv.setImageBitmap(MagickBitmap.ToBitmap(img));
        } catch (MagickApiException e) {
            e.printStackTrace();
        } catch (MagickException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }

        /*
         * TextView tv = new TextView(this);
         * tv.setText(DisplayImageMetaData.displayMagickImage(img));
         * setContentView(tv);
         */
        int count = 2;
        MagickImage images[] = new MagickImage[count];
        for (int i = 0; i < count; i++) {
            String path = "/sdcard/" + String.valueOf(i + 1) + ".jpg";
            try {
                images[i] = new MagickImage(new ImageInfo(path));
            } catch (MagickException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        }
        try {
            MagickImage image = new MagickImage(images);
            image.setImageFormat("gif");
            String fn = Environment.getExternalStorageDirectory() + "/Pictures/test.gif";
            image.setFileName(fn);
            ImageInfo info = new ImageInfo(fn);
            info.setMagick("gif");
            //image.writeImage(info);
            byte blob[] = image.imageToBlob(info);
            FileOutputStream fos = new FileOutputStream(fn);
            fos.write(blob);
            fos.close();
            FileOutputStream testOS = new FileOutputStream("/mnt/sdcard/test.txt");
            testOS.write("abc".getBytes());
            testOS.close();
        } catch (MagickException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (FileNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }

    protected Dialog onCreateDialog(int id, Bundle bundle) {
        switch (id) {
        case PROGRESS_DIALOG:
            /*
             * ProgressDialog dialog =
             * ProgressDialog.show(AndroidMagickActivity.this, "",
             * "Loading. Please wait...", true);
             */
            progressDialog = new ProgressDialog(AndroidMagickActivity.this);
            progressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
            progressDialog.setMessage("Loading...");
            return progressDialog;
            // return dialog;
        default:
            return null;
        }
    }

    /** Nested class that performs progress calculations (counting) */
    private class ProgressThread extends Thread {

        MagickImage img;
        int pos;

        ProgressThread(MagickImage image, int pos) {
            this.img = image;
            this.pos = pos;
        }

        public void run() {
            int effect = 0;
            AndroidMagickActivity.this.showDialog(PROGRESS_DIALOG);
            switch (pos) {
            case 1:
                effect = NoiseType.UndefinedNoise;
                break;
            case 2:
                effect = NoiseType.UniformNoise;
                break;
            case 3:
                effect = NoiseType.GaussianNoise;
                break;
            case 4:
                effect = NoiseType.MultiplicativeGaussianNoise;
                break;
            case 5:
                effect = NoiseType.ImpulseNoise;
                break;
            case 6:
                effect = NoiseType.LaplacianNoise;
                break;
            case 7:
                effect = NoiseType.PoissonNoise;
                break;
            }
            Bitmap bitmap = null;
            try {
                ImageView iv = (ImageView) findViewById(R.id.imageView);

                MagickImage image = null;
                if (pos < 8)
                    image = img.addNoiseImage(effect);
                else if (pos == 9)
                    image = img.blurImage(5, 1);
                else if (pos == 10)
                    image = img.charcoalImage(5, 1);
                else if (pos == 11)
                    image = img.edgeImage(0);
                if (image != null) {

                    bitmap = MagickBitmap.ToBitmap(image);
                    iv.setImageBitmap(bitmap);
                }
                // bitmap.recycle(); we can't do that.
                AndroidMagickActivity.this.dismissDialog(PROGRESS_DIALOG);
            } catch (MagickException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
        }
    }    
} 
```

# android - 适配器的 getView 方法中的故障

> ID：10908866
> 
> 赞同：1
> 
> 时间：2012-06-06T05:58:21.007
> 
> 标签：android, adapter, contact

我正在显示联系人列表。除了该设备有 1620 个联系人之外，一切都很好，因此列表滚动非常缓慢，甚至有时会挂起。

```
 I tried using a check in getView method for ConvertView!=null but it alwayz inflate same view many times. thanks in advance..

        My code for getView method:-
        if(ConvertView==null)
                {   view= mInflater.inflate(R.layout.facebookfriend, null);
                        TextView name=(TextView)view.findViewById(R.id.textView1);
                        ImageView image=(ImageView)view.findViewById(R.id.imageView1);
                    name.setText(mlist.get(position).get("name"));

                        String Id=mlist.get(position).get("contactId");
                        Log.e("Id",""+Id);
                        CheckBox chkbox= (CheckBox)view.findViewById(R.id.checkBox1);
                        chkbox.setOnCheckedChangeListener(new OnCheckedChangeListener() {
                            @Override
                            public void onCheckedChanged(
                                    CompoundButton buttonView, boolean isChecked) {
                                isSelected.set(position, isChecked);
                            }
                        });

                                        String photoid=mlist.get(position).get("photoId");
                    Log.e("photoid",""+photoid);
                        if(mlist.get(position).get("photoId")!=null){
                            Log.e("photoid",""+"photoid");
                            image.setImageBitmap(loadContactPhoto(Id, mlist.get(position).get("photoId")));
                    }
                }
            } 
```

有人告诉我让列表视图根据要求动态加载数据，也可以使用 ViewHolder 来提高效率。我已经尝试过使用视图支架，但每次它都会一次又一次地膨胀单个视图。我的列表滚动非常顺利，但真的不知道为什么它一次又一次地膨胀同一个视图。请帮忙 。我的 viewHolder 代码：-

```
 if (ConvertView == null) {
                        holder = new ViewHolder();
                        ConvertView= mInflater.inflate(R.layout.facebookfriend, null);
                        holder.name = (TextView)ConvertView.findViewById(R.id.textView1);
                        holder.imageView = (ImageView)ConvertView.findViewById(R.id.imageView1);
                        holder.chkbox= (CheckBox)ConvertView.findViewById(R.id.checkBox1);
                        ConvertView.setTag(holder);
                    } else {
                        holder = (ViewHolder) ConvertView.getTag();
                    }
                    holder.name.setText(mlist.get(position).get("Name").toString());

                    holder. chkbox.setOnCheckedChangeListener(new OnCheckedChangeListener() {
                        @Override
                        public void onCheckedChanged(
                                CompoundButton buttonView, boolean isChecked) {
                            isSelected.set(position, isChecked);
                            Log.e("position"+position,""+isChecked);
                        }
                    });
                    String Id=mlist.get(position).get("Contactid").toString();

                    Log.e("Id","--------------"+Id);
                    if(mlist.get(position).get("Photoid")!=null){
                        Log.e("photoid",""+"photoid");
                        holder.imageView.setImageBitmap(loadContactPhoto(Id, mlist.get(position).get("Photoid")));
                        Log.e("position position",""+position);
                    }
                }

    static class ViewHolder {
        TextView name;
        ImageView imageView;
        CheckBox chkbox;
    } 
```

我的 Imagefrom 联系方式的代码，我非常确定这个代码

```
private Bitmap loadContactPhoto(String id, String photoId) {
        Long _id=Long.parseLong(id);
        Long _photoId=0l;
        if(photoId!=null){
            _photoId=Long.parseLong(photoId);
        }
        ContentResolver cr = Setting.this.getContentResolver();
        Uri uri = ContentUris.withAppendedId(ContactsContract.Contacts.CONTENT_URI, _id);
        InputStream input = ContactsContract.Contacts.openContactPhotoInputStream(cr, uri);
        if (input != null) {
            return BitmapFactory.decodeStream(input);
        } else {
            Log.d("PHOTO", "first try failed to load photo");

        }

        byte[] photoBytes = null;
        Uri photoUri = ContentUris.withAppendedId(ContactsContract.Data.CONTENT_URI, _photoId);
        Cursor c = cr.query(photoUri,new String[] { ContactsContract.CommonDataKinds.Photo.PHOTO },
                null, null, null);
        try {
            if (c.moveToFirst())
                photoBytes = c.getBlob(0);

        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            c.close();
        }

        if (photoBytes != null)
            return BitmapFactory.decodeByteArray(photoBytes, 0,
                    photoBytes.length);
        else
            Log.d("PHOTO", "second try also failed");
        Bitmap icon = BitmapFactory.decodeResource(this.getResources(),
                R.drawable.default_image);
        return icon; 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:26:40.983

你的问题在`loadContactPhoto()`我想。每次`loadContactPhoto()`运行查询并通过解码数组获取位图。这就是滚动变慢的原因。

在加载之前尝试加载所有联系人图像`ListView`并让我们知道发生了什么。

您还可以按照本教程使用`SimpleCursorAdapter`.

[将联系人照片添加到您的列表应用程序](http://www.droidnova.com/add-contact-photo-to-your-list-application,45.html)

# android - 在android中处理按钮视图的不同方法

> ID：10908867
> 
> 赞同：1
> 
> 时间：2012-06-06T05:58:21.273
> 
> 标签：android

好吧，我在 android 中很新，所以这可能是基本问题。

我刚刚创建了自己的按钮（比如说“增量”）。按下哪个会增加计数器并释放它会停止。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:13:23.747

你的意思是如果你按住按钮，它会增加计数器？实现这个[Android 长按事件](https://stackoverflow.com/questions/3553163/android-long-touch-event)

# boost - 连接到服务器后客户端 tcp 套接字端口更改

> ID：10908871
> 
> 赞同：1
> 
> 时间：2012-06-06T05:58:32.760
> 
> 标签：boost, binding, boost-asio

使用 boost asio 我正在尝试将套接字绑定到特定端口，并且绑定是正确的，直到我连接到服务器。

```
socket.open(tcp::v4(), ec);
socket.set_option(tcp::socket::reuse_address(true),ec);
socket.bind(tcp::endpoint(tcp::v4(), port_client), ec);
.
.
cout <<"before connect:"<<socket.local_endpoint().address().to_string()<<":"<<socket.local_endpoint().port()<<endl; 
```

到目前为止，该端口还可以，但是当我将其连接到服务器时：

```
boost::asio::connect(socket, endpoint_iterator,ec);
.
cout <<"after connect:"<<socket.local_endpoint().address().to_string()<<":"<<socket.local_endpoint().port()<<endl; 
```

本地端口更改为任何其他端口。有人可以帮忙吗？而且地址出来是 0.0.0.0 为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-11T11:58:16.980

等待答案太久......自己解决了这个问题。问题出在连接命令上。

我正在使用连接命令 basic_socket 但连接命令应该是：

```
socket.connect(*endpoint_iterator,ec); 
```

现在它工作正常。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-08-21T15:11:15.067

您可以打印 tcp::v4()，如果不是点地址，则此值为“0.0.0.0”

# git - “git filter-branch”成功用于更改提交者/作者，但更改不会反映在 github 上

> ID：10908872
> 
> 赞同：6
> 
> 时间：2012-06-06T05:58:35.390
> 
> 标签：git, github, git-filter-branch

我最近使用以下命令替换了所有本地提交中的作者、提交者及其电子邮件：

```
git filter-branch -f --env-filter '
if [ "$GIT_COMMITTER_NAME" = "oldname" ];
then
    GIT_COMMITTER_NAME="newname";
    GIT_COMMITTER_EMAIL="newaddr";
    GIT_AUTHOR_NAME="newname";
    GIT_AUTHOR_EMAIL="newaddr";
fi

if [ "$GIT_AUTHOR_NAME" = "oldname" ];
then
    GIT_COMMITTER_NAME="newname";
    GIT_COMMITTER_EMAIL="newaddr";
    GIT_AUTHOR_NAME="newname";
    GIT_AUTHOR_EMAIL="newaddr";
fi
' -- --all 
```

更新在本地立即可见（例如在我的 SourceTree 环境中）。但是，在将修改后的存储库强制推送到 GitHub 之后……</p>

```
git push -f origin master 
```

... 两个单独的项目顽固地拒绝更新其提交者和作者：Gemfile.lock 文件和 Views 目录。

另请注意：

1.  这是我第二次在这个存储库上执行这种操作。我相信我第一次没有遇到这样的问题。

2.  在存储库中搜索我的旧名称...</p>

    ```
    $ find . "<oldname"> 
    ```

…*确实*产生了一堆结果，这意味着旧名称仍然潜伏在许多存储库文件中——包括在 GitHub 和本地出现更新的文件。

那么我的问题是：如何更改 GitHub 上两个“顽固”文件的提交者/作者？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-06-03T15:26:50.413

使用 git filter-branch 后，git 仍然在 refs/original 中保留了 repo 历史的备份副本。这样一来，如果您将过滤器分支弄乱了，您可以在需要时恢复。一旦你确定一切顺利，你可以删除备份的参考：

```
git update-ref -d refs/original/refs/heads/master 
```

出于某种原因，github 仍然需要额外提交才能反映更改。我将在自述文件中添加空格或其他内容，提交并推送...之后，github会在项目页面上反映正确的作者。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-24T18:58:17.780

您使用 GitHub 上的哪个确切视图来确定该行的作者？它可能被缓存了，或者您正在查看特定于旧提交 SHA1 的内容。

您可以通过重新克隆 repo 并检查`git blame filename`这两个文件来测试它是否有效。如果这显示了正确的作者，那么它就起作用了。

# python - 将压缩文件提取到内存？

> ID：10908877
> 
> 赞同：73
> 
> 时间：2012-06-06T05:59:10.183
> 
> 标签：python, memory, zip, zipfile, stringio

如何将 zip 提取到内存中？

`None`我的尝试（返回`.getvalue()`）：

```
from zipfile import ZipFile
from StringIO import StringIO

def extract_zip(input_zip):
    return StringIO(ZipFile(input_zip).extractall()) 
```

* * *

## 回答 #1

> 赞同：107
> 
> 时间：2012-06-06T06:13:42.427

`extractall`提取到文件系统，所以你不会得到你想要的。要在内存中提取文件，请使用[`ZipFile.read()`](https://docs.python.org/3/library/zipfile.html#zipfile.ZipFile.read)方法。

如果您真的需要内存中的全部内容，您可以执行以下操作：

```
def extract_zip(input_zip):
    input_zip=ZipFile(input_zip)
    return {name: input_zip.read(name) for name in input_zip.namelist()} 
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2012-06-06T07:30:20.177

如果您经常使用内存存档，我建议您制作一个工具。像这样的东西：

```
# Works in Python 2 and 3.

try:
    import BytesIO
except ImportError:
    from io import BytesIO  # Python 3
import zipfile

class InMemoryZip(object):
    def __init__(self):
        # Create the in-memory file-like object for working w/IMZ
        self.in_memory_zip = BytesIO()

    # Just zip it, zip it
    def append(self, filename_in_zip, file_contents):
        # Appends a file with name filename_in_zip and contents of
        # file_contents to the in-memory zip.
        # Get a handle to the in-memory zip in append mode
        zf = zipfile.ZipFile(self.in_memory_zip, "a", zipfile.ZIP_DEFLATED, False)

        # Write the file to the in-memory zip
        zf.writestr(filename_in_zip, file_contents)

        # Mark the files as having been created on Windows so that
        # Unix permissions are not inferred as 0000
        for zfile in zf.filelist:
            zfile.create_system = 0

        return self

    def read(self):
        # Returns a string with the contents of the in-memory zip.
        self.in_memory_zip.seek(0)
        return self.in_memory_zip.read()

    # Zip it, zip it, zip it
    def writetofile(self, filename):
        # Writes the in-memory zip to a physical file.
        with open(filename, "wb") as file:
            file.write(self.read())

if __name__ == "__main__":
    # Run a test
    imz = InMemoryZip()
    imz.append("testfile.txt", "Make a test").append("testfile2.txt", "And another one")
    imz.writetofile("testfile.zip")
    print("testfile.zip created") 
```

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2012-06-06T06:26:35.963

可能的原因：

1.该模块目前不处理多盘ZIP文件。(OR)
2.检查 StringIO.getvalue() 天气 Unicode 错误即将出现。

# iphone - 如何根据 iphone 中的设置计时器使用自定义视图而不是默认弹出窗口来触发本地通知

> ID：10908878
> 
> 赞同：0
> 
> 时间：2012-06-06T05:59:25.097
> 
> 标签：iphone

是否有任何标准的逐步方式在 iPhone 应用程序中使用本地通知。

我从来没有为本地通知工作过。

我有兴趣用它来创建一个假电话。

因此，我有兴趣在本地通知中设置计时器，并且根据计时器，我必须使用自定义视图设置本地通知，而不是默认弹出通知。

请建议我处理本地通知的标准方法。

每种类型的建议和链接都可以提前感知。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:08:19.617

您无法自定义本地通知警报。我也曾经搜索过[这个](https://stackoverflow.com/questions/4303590/customizing-uilocalnotifications-alert)。或者，当用户接受本地通知时，我以显示自定义警报结束（类似于**2Do:Task done in style** application）。

# mysql - 使用 mySQL 中的现有视图连接视图

> ID：10908882
> 
> 赞同：0
> 
> 时间：2012-06-06T05:59:29.823
> 
> 标签：mysql, sql, database

我创建了一个`table view`并将其加入到现有的`view`. 这是一个好方法吗？我想知道当表中的行堆积起来时，性能会受到影响吗？

当我这样做时，我还会遇到哪些其他可能的问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:25:12.063

这种方式好不好不好说。这取决于您的数据库设计。视图有一些优点，所以如果你需要使用视图，那就使用它们。但是视图可能性能不好，看看这篇文章 - [MySQL VIEW as performance troublemaker](http://www.mysqlperformanceblog.com/2007/08/12/mysql-view-as-performance-troublemaker/)。

# javascript - 如何使用phonegap在android中具有搜索功能？

> ID：10908883
> 
> 赞同：7
> 
> 时间：2012-06-06T05:59:45.457
> 
> 标签：javascript, android, html, cordova

我开发了一个应用程序，其中包含大量不同用户及其姓名和 ID。现在我想执行一个搜索功能，以便我可以使用他们的姓名或 ID 搜索特定用户。

谁能帮助我使用Phonegap实现这一目标？

*细节：*

我从 json webservice 调用中获取用户名列表，我想为这些用户执行搜索操作。

例如，我有一个包含 3 个列表视图的 android 平板电脑应用程序，其中包含近 40 个不同的用户名，并且在该页面的顶部我有一个搜索栏。在该搜索栏中，如果我输入用户名或 ID，它应该搜索输入的数据并将我引导到那里。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T09:58:23.240

我在下面的小提琴中放了一个 listview 示例，并使用 filtertext 属性搜索多个数据。看看这是否适合您的解决方案。

[http://jsfiddle.net/dhavaln/HZg5J/](http://jsfiddle.net/dhavaln/HZg5J/)

## 编辑

fiddle 现在还包括 jQuery Mobile 提供的过滤器回调选项来自定义响应。

# android - Android 短信意图捆绑吐司信息未更新

> ID：10908886
> 
> 赞同：3
> 
> 时间：2012-06-06T05:59:55.677
> 
> 标签：android, android-intent, sms, toast

我正在发送 2 条短信，我想要 2 条 toast 消息

1）“已发送短信 - 第一个号码”和

2）“已发送短信-第二个号码”

但是，我收到 2 条 Toast 消息都显示消息

1），消息发生了什么

2)? 少了什么东西？

谢谢。

```
 registerReceiver(new BroadcastReceiver(){
        @Override
        public void onReceive(Context arg0, Intent arg1) {
            switch (getResultCode())
            {
                case Activity.RESULT_OK:
                    Toast.makeText(getBaseContext(), "SMS sent - " + arg1.getStringExtra("SendTo"), 
                            Toast.LENGTH_LONG).show();
                    break;
            }
        }
    }, new IntentFilter(SENT));

    SmsManager sms = SmsManager.getDefault();
    Intent intent = new Intent(SENT);
    intent.putExtra("SendTo", "first number");
    PendingIntent sentIntents = PendingIntent.getBroadcast(this, 0, intent, 0);
    sms.sendTextMessage("1234", null, message, sentIntents, null);

    Intent intent1 = new Intent(SENT);
    intent1.putExtra("SendTo", "second number");
    PendingIntent sentIntents1 = PendingIntent.getBroadcast(this, 0, intent1, 0);
    sms.sendTextMessage("456", null, message, sentIntents1, null); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:21:35.937

您正在做的是 - 使用相同的意图。因此您必须更新意图并更改请求代码，以使结果不重叠。请参阅以下内容。以下代码将起作用。

```
 registerReceiver(new BroadcastReceiver(){
                @Override
                public void onReceive(Context arg0, Intent arg1) {
                    switch (getResultCode())
                    {
                        case Activity.RESULT_OK:
                            Toast.makeText(getBaseContext(), "SMS sent - " + arg1.getStringExtra("SendTo"),
                                    Toast.LENGTH_LONG).show();
                            break;
                    }
                }
            }, new IntentFilter(SENT));

            SmsManager sms = SmsManager.getDefault();
            Intent intent = new Intent(SENT);
            intent.putExtra("SendTo", "first number");
            PendingIntent sentIntents = PendingIntent.getBroadcast(this, 0, intent,PendingIntent.FLAG_UPDATE_CURRENT);
            sms.sendTextMessage("5556", null,message, sentIntents, null);

            Intent intent1 = new Intent(SENT);
            intent1.putExtra("SendTo", "second number");
            PendingIntent sentIntents1 = PendingIntent.getBroadcast(this, 1, intent1, PendingIntent.FLAG_UPDATE_CURRENT);
            sms.sendTextMessage("5556", null, message, sentIntents1, null); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:07:59.317

改成这样：

```
Toast.makeText(this, "First number", Toast.LENGTH_SHORT).show();
sms.sendTextMessage("1234", null, message, null, null);
Toast.makeText(this, "Second number", Toast.LENGTH_SHORT).show();
sms.sendTextMessage("456", null, message, mull, null); 
```

# asp.net-mvc - DTO 模式 + 延迟加载 + 实体框架 + ASP.Net MVC + 自动映射器

> ID：10908889
> 
> 赞同：12
> 
> 时间：2012-06-06T06:00:09.810
> 
> 标签：asp.net-mvc, entity-framework, lazy-loading, automapper, dto

首先，很抱歉问题很长，但我必须提供一些基本信息。

我们正在创建一个使用 ASP.net MVC、JQuery 模板、实体框架、WCF 的应用程序，并且我们使用 POCO 作为我们的域层。在我们的应用程序中，有一个 WCF 服务层与 ASP.net MVC 应用程序交换数据，它使用从 WCF 到 MVC 的数据传输对象 (DTO)。

此外，在我们的 WCF 服务层中转换 Domain-TO-DTO 时，应用程序通过使用 AutoMapper 在实体框架中使用延迟加载。

我们的后端架构如下（**WCF Services -> Managers -> Repository -> Entity Framework(POCO)**）

在我们的应用程序中，我们不使用视图模型，因为我们不想要 MVC 应用程序的另一个映射层，我们只使用 DTO 作为视图模型。

通常，我们有针对客户、CustomerLite 等域的 Normal 和 Lite DTO（**Lite 对象的属性比 Normal 少**）。

现在我们在使用 DTO 时遇到了一些困难，因为我们的 DTO 结构变得越来越复杂，并且当我们考虑可维护性（使用 DTO 的一般层次结构）时，我们会失去性能。

例如，

我们有客户视图页面和我们的 DTO 层次结构如下

```
 public class CustomerViewDetailsDTO
 {
   public CustomerLiteDto Customer{get;set;}
   public OrderLiteDto Order{get;set;}
   public AddressLiteDto Address{get;set;}
 } 
```

在这种情况下，我们不希望该视图的某些 OrderLiteDto 字段。但是其他一些视图需要该字段，因此为了方便它，我们使用该结构。

当涉及到自动映射时，我们映射 CustomerViewDetailsDTO，我们将从延迟加载（实体框架）中获取额外的数据（特定视图不需要）。

我的问题：

1.  **在考虑可维护性的同时，我们可以使用任何机制来提高性能吗？**

2.  **是否可以将 Automapper 与更多基于地图视图的映射功能一起用于相同的 DTO ？**

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-06-06T06:49:50.240

首先不要使用延迟加载，因为它可能会导致 Select N+1 问题或类似问题。

> Select N + 1 是一种数据访问反模式，其中以次优方式访问数据库。

换句话说，使用延迟加载而不预先加载集合会导致 Entity Framework 进入数据库并一次将结果带回一行。

将 jsRender 用于模板，因为它比 JQuery 模板快得多： [Render Bemchmark](http://borismoore.github.com/jsrender/test/perf-compare.html) ，这里有一个关于如何使用它的好信息：[Reducing JavaScript Code Using jsRender Templates in HTML5 Applications](http://weblogs.asp.net/dwahlin/archive/2011/11/23/reducing-javascript-code-by-using-jsrender-templates-in-html5-applications.aspx)

> 通常，我们有针对客户、CustomerLite 等域的 Normal 和 Lite DTO（Lite 对象的属性比 Normal 少）。

您的正常 DTO 可能是 ViewModel，因为 ViewModel 可能会或可能不会一对一映射到 DTO，并且 ViewModel 通常包含从视图推回的逻辑，或者帮助根据用户的响应将数据推回模型。DTO 没有任何行为，其目的是减少应用程序层之间的调用次数。

> **在考虑可维护性的同时，我们可以使用任何机制来提高性能吗？**

为一个视图使用一个 ViewModel，您不必担心可维护性。就个人而言，我通常创建一个作为基础的抽象类，对于编辑、创建或列表，我继承该类并添加特定于视图的属性。因此，例如，创建视图不需要 PropertyId（因为有人可以劫持您的帖子并发布它），因此只有 Edit 和 List ViewModels 暴露了 PropertyId 属性。

> **是否可以将 Automapper 与更多基于地图视图的映射功能一起用于相同的 DTO ？**

您可以使用 AutoMapper 来定义每张地图，但问题是，地图会有多复杂。每个视图使用一个 ViewModel，您的地图将易于编写和维护。我必须指出，不建议在数据访问代码中使用 Automapper，因为：

> AutoMapper 的一个缺点是来自域对象的投影仍然强制查询和加载整个域对象。

来源：[自动投影 LINQ 查询](http://lostechies.com/jimmybogard/2011/02/09/autoprojecting-linq-queries/)

您可以使用一组目前受限的扩展来加速数据访问代码中的映射：[停止在您的数据访问代码中使用 AutoMapper](http://www.devtrends.co.uk/blog/stop-using-automapper-in-your-data-access-code)

问候

# php - 如何在php中将ip_address转换为国家

> ID：10908890
> 
> 赞同：-4
> 
> 时间：2012-06-06T06:00:11.730
> 
> 标签：php, mysql

> **可能重复：**
> [使用 PHP 获取 IP 地址所在的国家/地区](https://stackoverflow.com/questions/3650006/get-country-of-ip-address-with-php)

我想基于 IP 地址的国家名称或位置。我只能显示ip地址。我很努力，但我做不到。所以请帮我解决这个问题。

```
<?php

  if (!empty($_SERVER['HTTP_CLIENT_IP'])) {
      $ip=$_SERVER['HTTP_CLIENT_IP'];}
  elseif (!empty($_SERVER['HTTP_X_FORWARDED_FOR'])){
      $ip=$_SERVER['HTTP_X_FORWARDED_FOR'];}
  else {
      $ip=$_SERVER['REMOTE_ADDR'];
  }

 ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:03:45.827

您无法通过简单的检查来确定 IP 地址的国家或地区。[您可以通过将其发送到http://whatismyipaddress.com/ip/127.0.0.1](http://whatismyipaddress.com/ip/127.0.0.1)之类的服务（其中相关 IP 地址替换 127.0.0.1）来查找有关它的一些信息。该服务使用各种数据库得出结论。这不是绝对正确的，但通常比错误更正确。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:20:39.890

如果您需要此功能用于商业用途，解决方案是 CountryHawk

[http://www.cyscape.com/products/chawk/](http://www.cyscape.com/products/chawk/)

您可以将 CountryHawk 与 PHP 一起使用，前提是您能够从 PHP 运行服务器端 ActiveX 或 JavaBean 组件。如果您从 PHP 中获得 ActiveX 支持，请使用 CountryHawk 的 ActiveX/.NET 版本。否则我们使用 JavaBean 版本 (CountryHawk4J)。

下面是一段代码，它演示了如何使用 PHP 中的 CountryHawk 并支持 ActiveX：

```
$countryObj = new COM("cyScape.CountryObj");
$countryObj->initialize(@$_SERVER["REMOTE_ADDR"]);
$userCountryCode = $countryObj->CountryCode; 
```

# hive - hdfs 中的 Hive Metastore

> ID：10908897
> 
> 赞同：0
> 
> 时间：2012-06-06T06:00:47.500
> 
> 标签：hive, hdfs

通常您将元数据存储到 mysql 之类的 jdbc 兼容数据库中。是否可以像在 Hbase 中一样将其保存在 hdfs 中。在 wiki 中没有发现任何有用的东西。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-31T00:25:16.743

不，这是不可能的，因为 HDFS 和 HBase 都不支持适当的 JDBC 接口，这是 Hive 当前元存储机制所要求的。

# java - 声纳违规显示没有许可证/版权信息的 Java 文件？

> ID：10908899
> 
> 赞同：2
> 
> 时间：2012-06-06T06:01:03.313
> 
> 标签：java, code-analysis, sonarqube, static-code-analysis

是否有可用的 Sonar 插件，它能够识别没有许可证/版权标头的 Java 文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:22:56.390

您只需在您的 Java 质量配置文件中激活以下规则之一，并且带有 oa 标头的文件将在下一次分析后出现违规：

*   “标题”（检查样式：com.puppycrawl.tools.checkstyle.checks.header.HeaderCheck）
*   “正则表达式标头”（检查样式：com.puppycrawl.tools.checkstyle.checks.header.RegexpHeaderCheck）

例如[，在 Nemo 上](http://nemo.sonarsource.org/rules_configuration/index/7?searchtext=header&plugins%5B%5D=&priorities%5B%5D=&rule_status=INACTIVE&inheritance=&commit=Search)看到它们。

# javascript - 提要对话框 (FBUI) Facebook UI 无法正常工作

> ID：10908904
> 
> 赞同：0
> 
> 时间：2012-06-06T06:01:31.997
> 
> 标签：javascript, facebook, feed

我在我的网站上使用 Facebook 提要对话框已经有一段时间了，但有一天它突然停止工作。Facebook 支持说一切正常。从我尝试过的每台机器上，它显然都没有。如果您已登录并已授予应用程序权限，则单击链接时不会再弹出对话框。

编辑：一旦对话框弹出，你可以尝试发布一些东西吗？第一次应该工作。然后尝试刷新页面（甚至重新启动浏览器，确保您已登录 facebook）并尝试再次发布。第二次可以用吗？/编辑

您可以直接在这里尝试：[Clicky](http://www.maxcapacitytraining.com/day-1-test.html)

我试图直接从 facebook 文档中复制示例代码，但它仍然对我不起作用。以下是来自 facebook 的示例代码：

```
 <div id='fb-root'></div>
<script src='http://connect.facebook.net/en_US/all.js'></script>
<p><a onclick='postToFeed(); return false;'>Post to Feed</a></p>
<p id='msg'></p>

<script> 
  FB.init({appId: "YOUR_APP_ID", status: true, cookie: true});

  function postToFeed() {

    // calling the API ...
    var obj = {
      method: 'feed',
      link: 'https://developers.facebook.com/docs/reference/dialogs/',
      picture: 'http://fbrell.com/f8.jpg',
      name: 'Facebook Dialogs',
      caption: 'Reference Documentation',
      description: 'Using Dialogs to interact with users.'
    };

    function callback(response) {
      document.getElementById('msg').innerHTML = "Post ID: " + response['post_id'];
    }

    FB.ui(obj, callback);
  }

</script> 
```

这是我的代码：

```
 <div id='fb-root'></div>
<script src='http://connect.facebook.net/en_US/all.js'></script>
<p><a onclick='postToFeed(); return false;'>Post to Feed</a></p>
<p id='msg'></p>

<script> 
  FB.init({appId: "185521851465588", status: true, cookie: true});

  function postToFeed() {

    // calling the API ...
    var obj = {
      method: 'feed',
      link: 'https://developers.facebook.com/docs/reference/dialogs/',
      picture: 'http://fbrell.com/f8.jpg',
      name: 'Facebook Dialogs',
      caption: 'Reference Documentation',
      description: 'Using Dialogs to interact with users.'
    };

    function callback(response) {
      document.getElementById('msg').innerHTML = "Post ID: " + response['post_id'];
    }

    FB.ui(obj, callback);
  }

</script> 
```

任何帮助将不胜感激！

**更新**：我想我发现了一些东西：如果您先转到[此页面](http://www.maxcapacitytraining.com/day-1.html)并点击“发布您的结果”，接受权限并返回[此处](http://www.maxcapacitytraining.com/day-1-test.html)的测试页面，则对话框再次停止工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T09:06:45.030

您提供的链接也对我有用。但是，请尝试添加`href="#"`到您的`<a>`标签以使其看起来像一个正确的链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T09:14:44.260

> 如果您已登录并已授予应用程序权限，则单击链接时不会再弹出对话框。

我在哪里为您的应用授予权限？您提供的页面上没有要求我提供任何内容。当我单击您的链接时，它只会打开提要对话框。

如果需要其他方法来重现问题（授予您的应用权限），请提供有关如何到达那里的更多信息。

# mongodb - 在mongodb中创建了同名的数据库？

> ID：10908911
> 
> 赞同：4
> 
> 时间：2012-06-06T06:01:54.950
> 
> 标签：mongodb

我发现可以创建已经存在的相同数据库，因此当我需要指定要使用的数据库时，具有相同名称的数据库会导致问题。

这是如何发生的：

1.  我已经有一个名为“test1”的数据库，它只存储带有文档的集合。
2.  然后，我使用它来使用 GridFS 存储文件，因此它包含二进制文件。（实际上，我认为这可能是原因，但我不知道为什么）
3.  现在问题发生了。当我尝试使用类似命令访问“test1”时`use test1`。将创建一个具有相同名称“test1”的空数据库。

就像`show dbs`展示的那样：

```
test1   empty
test1   0.0625GB 
```

我正在使用 mongodb 2.0.5

关于为什么会发生这种情况的任何提示，因为常识会表明同名的数据库不能共存？以及任何解决方案？

# shell - 如何设置 node.js 与 shell 应用程序的交互？

> ID：10908913
> 
> 赞同：1
> 
> 时间：2012-06-06T06:02:09.193
> 
> 标签：shell, node.js, browser

在：

[node js与shell应用程序交互](https://stackoverflow.com/questions/10901660/node-js-interact-with-shell-application)

Trindaz 链接到他的 YouTube 视频，演示如何与 bash shell 交互（包括 shell 中可用的解释器）：

[http://www.youtube.com/watch?v=16nFMucvwYQ](http://www.youtube.com/watch?v=16nFMucvwYQ)

但是，我无法跟踪从 20 秒到 54 秒的帧。在 54 秒时，浏览器窗口显示：
.....................
connected
$ log in
$
。 .....................................

到达此窗口需要哪些步骤？任何提示或指导将不胜感激。

谢谢，

反相

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T19:21:45.813

我没有完全复制视频中的内容，但我希望下面的示例可以做到这一点。

这就是我配置服务器部分的方式。

```
var app = require('express').createServer(),
    io = require('socket.io').listen(app),
    sys = require('util'),
    exec = require('child_process').exec;

app.listen(4990);

io.sockets.on('connection', function(socket) {
    socket.on('console', function(command, callBack) {
        // client sends {command: 'ls -al'}
        function puts(error, stdout, stderr) {
            socket.emit('commandresult', stdout);
        }
        exec(command.command, puts);
    });
});​ 
```

我希望你能做客户部分。

希望这可以帮助

# c# - 如何使用 LINQ 将值传递给 ViewModel？

> ID：10908921
> 
> 赞同：0
> 
> 时间：2012-06-06T06:03:10.817
> 
> 标签：c#, asp.net-mvc, linq, mvvm, model

我需要使用 LINQ 将数据添加到视图模型我的视图模型是：

```
public class SearchScrapViewModel 
{ 
public WClass wClass{get; set;} 
public SClass sClass{get; set;} 
public YClass yClass { get; set; } 
} 

public class WClass 
{ 
public string title { get; set; } 
public string link { get; set; } 
} 
public class SClass 
{ 
public string title { get; set; } 
public string link { get; set; } 
} 
public class YClass 
{ 
public string title { get; set; } 
public string link { get; set; } 
} 
```

我需要将这 3 个类与 3 个不同的 LINQ 查询一起使用，然后将数据传递给`return View(SearchScrapViewModel);`

```
var wikians = //LINQ Logic 
select new SearchScrapViewModel 
{ 
wClass.link = link.Attributes["href"].Value, //Error: I am not able to add to wClass 
wClass.title = link.InnerText 
}; 
```

和其他类类似

然后传递给，`return View(SearchScrapViewModel);`以便我可以访问此控制器视图中的所有 3 个类

怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:12:25.877

您忘记*创建*WClass 的实例：

```
select new SearchScrapViewModel {
    wClass = new WClass { 
        link = link.Attributes["href"].Value,
        title = link.InnerText 
    }
}; 
```

或者，您可以使 WClass（以及 SClass 和 YClass）成为[结构](http://msdn.microsoft.com/en-us/library/ah19swz4.aspx)而不是类，然后您不需要实例化它。但是，在这种情况下，您可能应该[使结构不可变](https://stackoverflow.com/questions/441309/why-are-mutable-structs-evil)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:12:14.200

LINQ 不是万能的，我不知道这是您正在寻找的最佳方法。我建议查看[Builder Pattern](http://en.wikipedia.org/wiki/Builder_pattern)来完成此操作。如果您真的想要，您可以在一个 LINQ 查询中执行此操作（使用对象初始化程序），但它可能不像构建器那样干净（但这是我的两分钱）：

```
select new SearchScrapViewModel
{
    wClass = new wClass{title = xyz, link = xyz},
    sClass = new sClass...
    yClass = new yClass...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T19:46:11.967

我不清楚为什么您需要在示例中使用 select 语句。在任何情况下，您都不能返回 SearchScrapViewModel 作为您的回报，因为那是一种类型而不是实例。除非您为这篇文章简化了代码并且您确实需要 linq，否则我建议：

```
var wikians = 
new SearchScrapViewModel {
    wClass = new WClass { 
        link = link.Attributes["href"].Value,
        title = link.InnerText 
    }
}; 

return View(wikians); 
```

# version - 我的 HAProxy 版本是什么？

> ID：10908929
> 
> 赞同：22
> 
> 时间：2012-06-06T06:04:10.143
> 
> 标签：version, haproxy

我之前安装了 HAProxy 用于负载平衡。如何检查我之前在 mu ubuntu 中安装的 haproxy 版本是什么？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2012-07-30T16:19:49.330

haproxy--版本

如果您想在 Ubuntu 上查看软件包信息，您可以使用“aptitude show haproxy”来获取有关已安装内容的版本和其他详细信息。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2013-03-07T06:10:42.747

我在 CentOS 5 上使用了该命令

```
/usr/sbin/haproxy -v 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2020-10-19T12:54:49.960

在**Red Hat Enterprise Linux**上是：

`haproxy -v`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-10-20T12:38:30.123

`haproxy -vv`

将提供以下详细信息

1.  版本
2.  构建选项
3.  默认设置如`maxconn, bufsize, maxrewrite, maxpollevents`
4.  `OpenSSL`使用哪个版本构建
5.  在哪个`OpenSSL`版本上运行
6.  可用的轮询系统
7.  库版本
8.  支持哪些压缩算法

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-12-11T11:13:04.117

假设如果您使用 docker 运行 haproxy

```
docker exec -it <container_name> haproxy --version 
```

例如

```
docker exec -it haproxy haproxy --version 
```

# url - Yii 中的控制 url：controller/action/id 到 /id

> ID：10908931
> 
> 赞同：2
> 
> 时间：2012-06-06T06:04:38.923
> 
> 标签：url, yii

我们`controller/action/id`可以`/id`在 Yii 中以格式显示 url 吗？此外，一个主要问题是我只需要在特定的控制器/动作上执行此操作。

例如：如果我有，`/user/post/ujjwal`那么我只需要显示`/ujjwal`。当我拥有它时`/image/display/ujjwal`，它可以保持原样吗？

我已阅读 Yii 中的 url 管理并了解其中显示的内容。但我不知道如何控制基于`controller/action`.

任何帮助，将不胜感激。

谢谢， 乌杰瓦尔

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T09:47:30.017

在我看来，您不能将一个自定义 URL 映射到两个或多个 URL 路径或操作。就像当有人访问时`/my_username`将被重定向到`/user/post/ujjwal`或`/image/display/ujjwal`。由于这种模式/规则，应用程序会感到困惑。

因此，我建议您将其更改`/image/display/ujjwal`为另一种模式/规则。像`/my_username/image`

我`username`用作所选用户名的查询字符串。

```
'components'=>array(

            .....

            'urlManager'=>array(
            'urlFormat'=>'path',
            'rules'=>array(
                '<username:[\w.]+>'=>'user/post',
                '<username:[\w.]+>/display'=>'image/display',
                '<controller:\w+>/<id:\d+>'=>'<controller>/view',
                '<controller:\w+>/<action:\w+>/<id:\d+>'=>'<controller>/<action>',
                '<controller:\w+>/<action:\w+>'=>'<controller>/<action>',
            ),
        ),

            .... 
```

之前有人问过类似的问题：[How to specify a SEO friendly url like twitter www.twitter.com/<name> using YII framework](https://stackoverflow.com/questions/1781882/how-to-specify-a-seo-friendly-url-like-twitter-www-twitter-com-name-using-yii)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:59:41.057

在你的`config/main.php`尝试中

```
'urlManager'=>array(
            'urlFormat'=>'path',
            'showScriptName'=>false,
                        'rules'=>array(
                          'user/post/<user:\w+>'=>'<user>', //this should be the very first rule
                           //other rules 
                         ),
            ),
        ), 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T15:43:58.170

您可以完成您想要的事情，但是会有一些副作用。如果你把它放在你的`config/main.php`：

```
 'urlManager'=>array(
        'urlFormat'=>'path',
        'showScriptName'=>false,
        'rules'=>array(
            'image/<action>/<username>' => 'image/action/username',
            '<username>' => 'user/post/username',
            ),
        ), 
```

首先放置所有更具体的规则，然后所有其他单个单元都将转到`/user/post/something`.

# javascript - ajax 使用 Jquery Mobile 调用两次

> ID：10908934
> 
> 赞同：0
> 
> 时间：2012-06-06T06:05:15.010
> 
> 标签：javascript, jquery

Ajax 在我下面的代码中调用了两次，我用 Fiddler 和 firebug 进行了检查。

我阅读了所有相关问题，但找到了解决方案.. 下面是我的代码..

我还检查了 onclick 事件，它也触发了两次..

```
 <head>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="format-detection" content="telephone=no" />
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
<link rel="stylesheet" href="css/jqmd.css" />

<script src="js/jm.js" type="text/javascript"></script>

<script src="js/json2.js" type="text/javascript"></script>

</head>
         <body>    

       </body>
 <script language="javascript">

    function pp() {
        $.ajax({

            type: "POST",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            url: "cont.aspx/getP",
            data: "{gt: '',cid: ''}",
            success: function(r) {
                alert('test');
            }
        });
    }

    setTimeout("pp()", 2000);
  </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:15:46.273

```
var t='';
 function pp() {
        $.ajax({

            type: "POST",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            url: "cont.aspx/getP",
            data: "{gt: '',cid: ''}",
            success: function(r) {
                alert('test');
            }
        });
 clearTimeout(t);
    }

 t= setTimeout("pp()", 2000); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:21:24.763

在ajax调用完成后将布尔值设置为true怎么样，如果值已更改，则它将不会运行。尝试这个：

```
<script language="javascript">
    var j;
    function pp() {
        if (j !== true) {
            $.ajax({

                type: "POST",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                url: "cont.aspx/getP",
                data: "{gt: '',cid: ''}",
                success: function(r) {
                    alert('test');
                }
            });
         }
            j = true;
        }

        setTimeout("pp()", 2000);
      </script> 
```

# php - PHP 上传文件 - 只有 $_FILES['name'] 正在填充

> ID：10908936
> 
> 赞同：3
> 
> 时间：2012-06-06T06:05:22.263
> 
> 标签：php

我已经为这个问题在互联网上搜索了两天，希望其他人之前遇到过这个问题。我看到很多关于文件上传和 PHP 的问题，但我的问题略有不同。我希望我只是错过了一些非常明显的东西。

看起来好像我的表单中的数据永远不会完全到达服务器，因为填充在**$_FILES**数组中的唯一参数是“名称”。

例如，这是一个**$_FILES**的 vardump ：

```
array(1) { ["gameimage"]=> array(1) { ["name"]=> string(15) "Donkey-kong.gif" } } 
```

不存在**错误代码**、不存在**tmp_name**和不存在**类型**。

这是我正在测试的一些非常基本的 HTML：

```
<form name="upload-image-form" enctype="multipart/form-data" method="post">
<input type="hidden" name="MAX_FILE_SIZE" value="2000000" />
<input type="file" name="gameimage" size="30" />
<input type="submit" value="Submit" />
</form> 
```

这是我的相关 php.ini 设置：

```
file_uploads = On
upload_max_filesize = 2M
max_file_uploads = 10
upload_tmp_dir is default, but I have tried with /tmp as well. 
```

运行 PHP 5.3.8

我怀疑 apache mod_rewrite 或其他一些 apache mod 正在干扰。

我完全控制了主机，它是一个在 AWS 中运行的微实例。

任何帮助，将不胜感激！

**修正#1：**

我已经从 Chrome 和 FF 中的浏览器控制台验证数据正在通过 http 正确传输。我的测试文件非常小，不到 10kb。

**修正#2：**

似乎其他人，使用完全相同的 AWS 实例，也遇到了同样的问题：

[http://www.webmasterworld.com/php/4452298.htm](http://www.webmasterworld.com/php/4452298.htm)

这些版本的 apache 和 linux 似乎存在一些核心问题。

# php - 使用 MySQL 在 PHP 中不指明字段名称获取所有数据

> ID：10908938
> 
> 赞同：-5
> 
> 时间：2012-06-06T06:05:43.250
> 
> 标签：php, mysql

没有在 PHP 中使用 MySQL 获取数据的指示字段名称。

```
while ($row_data = mysql_fetch_assoc($res_data)) {
    $html .='<td>'.$row_data['without_fieldname'].'</td>';
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:07:45.207

使用[`mysql_fetch_row`](http://php.net/mysql_fetch_row)，然后你可以使用`$row_data[0]`等。

```
while ($row_data = mysql_fetch_row($res_data)) {
    $html .= '<tr>';
    for($i = 0; $i < count($row_data); $i++) {
        $html .='<td>'.$row_data[$i].'</td>';
    }
    $html .= '</tr>';
} 
```

请注意，您不应将此与此结合使用，`SELECT *`因为对列顺序的任何更改都会破坏您的代码。

# android - Android模拟器皮肤不适用

> ID：10908941
> 
> 赞同：2
> 
> 时间：2012-06-06T06:06:07.367
> 
> 标签：android

我想为 android 模拟器应用皮肤，我将模拟器皮肤粘贴复制到此位置路径`D:\android\android-sdk-windows\platforms\android-8\skins`，它不显示 android sdk 中的皮肤下拉框..！

从屏幕截图下方的 android sdk skins 文件夹中复制皮肤：

![在此处输入图像描述](../Images/8a7dcb8df1e4248e45442d85fc9895f9.png)

并且在屏幕截图下方的 Eclipse 下拉框中不显示 Nexus-s 皮肤：

![在此处输入图像描述](../Images/2267a11bade50b0b29d21161983a5a63.png)

谁能帮我..！谢谢..！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-06T06:19:12.143

我想你会在目标下找到它

请试试这个：将文件放入`Android\android-sdk-windows\add-ons`，然后在 AVD 中检查目标

# java - Generic Dialog Ok 没有第二次触发

> ID：10908949
> 
> 赞同：0
> 
> 时间：2012-06-06T06:06:48.910
> 
> 标签：java, imagej

我在我的程序中创建了一个通用对话框的静态实例

```
static GenericDialog SaveDialog = null; 
```

下面是显示对话框的代码

```
public boolean DispSaveDialog()
{
    //gd.addStringField("Identity : ", "annot");
    if(SaveDialog == null)
    {
        SaveDialog =  new GenericDialog("Save");
        Panel idnPanel = new Panel();
        idnPanel.add(new Label("Identity"));
        idnTextComp = new TextField("annot");
        csPrefix = idnTextComp.getText();
        TextListener tl = new TextListener() {

            @Override
            public void textValueChanged(TextEvent e) {
                // TODO Auto-generated method stub
                csPrefix = idnTextComp.getText();
            }
        };
        idnTextComp.addTextListener(tl);
        idnPanel.add(idnTextComp);
        SaveDialog.addPanel(idnPanel);
        final TextComponent textComponent = new TextField();
        ActionListener al = new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                // TODO Auto-generated method stub
                String label = e.getActionCommand();                
                //csPrefix = gd.getNextString();
                if (label=="Browse")
                {                   
                    String csFilename = imp.getTitle();                 
                    csTextFileName = FileNameProcess( csFilename );     
                }   
                textComponent.setText(csTextFileName);
            }
        };
        Button btBrowse = new Button("Browse");
        btBrowse.addActionListener(al);     
        Panel panel = new Panel();

        panel.add(new Label("Folder : "));
        //textComponent.setBounds(gd.getBounds());
        panel.add(textComponent);
        panel.add( btBrowse );  
        SaveDialog.addPanel(panel);         
    }   
    SaveDialog.showDialog();
    return true;
} 
```

我面临的问题是，当我第二次打开对话框时，不会触发 OK 和 Cancel 事件。我觉得这个问题很愚蠢，抱歉并提前感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T03:56:41.703

上面的代码是这样的，当第二次显示通用对话框时，旧值将被保留。我做了一个解决方法，我将第一次输入的字符串保存在静态字符串变量中，并在检查 null 后加载它们价值观。

这不是解决方案，只是一种解决方法，因此我可以按时关闭问题。:(

# jquery - 需要包装指定内容

> ID：10908950
> 
> 赞同：1
> 
> 时间：2012-06-06T06:06:50.907
> 
> 标签：jquery, html

这是我的代码，这条消息来自动态

```
<div class="left">6 item(s) - Page 1 of 3 </div> 
```

需要改变

```
<div class="left"> <span>6</span> item(s) - Page <span>1</span> of <span>3</span> </div> 
```

任何的想法 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:15:55.903

```
var div = $('.left');
div.html(div.html().replace(/(\d+)/g, '<span>$1</span>')); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:10:57.480

用“空格”分割文本。您将获得项目数组。拿索引，我想它总是一样的，并在上面加上你的“跨度”。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-06-06T06:26:19.273

这对我有用。我只是检查一个单词是否是一个数字。如果是的话，我把它包在一个`span`

```
var left = $('.left');
var html = left.html().split(' ');
for(var i=0,len=html.length;i<len;i++){ 
    if(!isNaN(html[i]) && html[i]!=''){
        html[i] = '<span>' + html[i] + '</span>';
    }
}
left.html(html.join(' ')); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-06-06T06:30:07.833

使用 jQuery 自带的隐式循环来重置每个匹配元素的 html。

```
​$(".left").html(function(i,v){
    return v.replace( /(\d+)/g, "<span>$1</span>" );
});​​ 
```

小提琴：http: [//jsfiddle.net/jonathansampson/gEYEE/](http://jsfiddle.net/jonathansampson/gEYEE/)

# javascript - 如何停止在 Flot 条形图中缩小？

> ID：10908951
> 
> 赞同：1
> 
> 时间：2012-06-06T06:07:04.687
> 
> 标签：javascript, jquery, flot

我正在使用 Flot 绘制一些条形图。如何配置缩放，以便当用户缩小时，图表看起来像顶部的图表，而不像底部的图表？换句话说，我不希望用户在显示图表的所有数据时继续缩小。我还想限制图表在 X 轴上显示低于 0 的任何内容。请参阅下面图表的代码和图片：

```
<#macro barChart2 var formatFunction ticks="" optionLegend="{ show: false }">
  var options = {
    yaxis: {
      tickFormatter: ${formatFunction}
    },
    series: {
      stack: 0,
      bars: { 
        show: true,
        barWidth: 0.9,
        align: "center"
      }
    },
    grid : { 
      hoverable: true 
    },
    xaxis: {
      <#if "${ticks}" != "">
        ticks: ${ticks}
      </#if>
      mode: "time",
      timeformat: "%b %d, %H:%M %P"
    },
    pan : { 
      interactive: true 
    },
    legend: ${optionLegend}
  };

  var plot${var} = $.plot($("#chart${var}"), data, options);

  $("#zoomIn${var}").click(function(e) {
    e.preventDefault();
    plot${var}.zoom();
  });

  $("#zoomOut${var}").click(function(e) {
    e.preventDefault();
    plot${var}.zoomOut();
  });
</#macro> 
```

![在此处输入图像描述](../Images/c08f28e7ba1179497cd66a023316194a.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T07:07:26.277

我建议您看一下您可以使用导航插件设置的[`zoomRange`参数`panRange`。](http://code.google.com/p/flot/source/browse/trunk/jquery.flot.navigate.js?r=186)您为轴指定那些，例如：

```
xaxis: { zoomRange: [0.1, 10], panRange: [-10, 10] },
yaxis: { zoomRange: [0.1, 10], panRange: [-10, 10] } 
```

其中`zoomRange`设置缩放的限制。在这种情况下，最小值和最大值之间的差值永远不会低于 0.1，也永远不会超过 10。`panRange`告诉内容保持在一定范围内，因此在这种情况下，两个轴都不会低于 -10 或高于 10。

我不确定您如何使用时间序列数据执行此操作，但请尝试使用 javascript 时间戳开始。

# javascript - 使用jsp根据单选按钮选择更新表

> ID：10908952
> 
> 赞同：0
> 
> 时间：2012-06-06T06:07:12.593
> 
> 标签：javascript, jsp, radio-button

我想根据单选按钮选择更新表格。我有一个 iframe，表格与单选按钮一起显示在 iframe 内，当我选择单选按钮时，文本区域将显示在父页面中。现在我想根据我选择的单选按钮更新表格，方法是在父页面中由单选按钮生成的文本区域中输入值。我尽力而为，得到空指针异常。我使用 javascript 将文本区域从 iframe 显示到父页面。

```
Design page:dailylog.jsp

<%@page contentType="text/html" pageEncoding="UTF-8"%>
<%@ page import = "java.io.*,java.sql.*" %>
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>JSP Page</title>
    <script language="javascript">
        function showArea(data)
        {
         alert(data);
            document.getElementById("tt").value="";

            document.getElementById('textDesc').style.display='';

        }                       
        function hideArea()
        {
            document.getElementById('textDesc').style.display='none';

        }
   </script>

</head>
<body onload="hideArea();">
    <form target="if" action="dailylogdb.jsp" >
        <label>Description</label><br>
        <textarea cols="35" rows="8" name="ta" id="tt"></textarea><br>
        <input type="submit" value="enter">
<!--            <input type="text" name="txt" id="txtId">-->
</form>

    <form target="if"  action="dailylogdb.jsp">
    <div id="textDesc">
<!--            <input type="button" value="1234568"/>-->
        <label>Comments</label><br>
        <textarea cols="35" rows="8" id="area" name="data" ></textarea><br>
        <input type="submit" value="enter" id="area1">
    </div>
</form>
<center>
    <iframe src="" name="if" width="600" height="350"></iframe>
</center>
</body>
</html> 
```

后端：dailylogdb.jsp

此脚本“函数调用（数据）”将传递给父页面，它将调用 showarea 并在父页面中显示 textarea 和按钮，当我单击子页面中的单选按钮时会发生这种情况。我需要的值用于执行行更新的单选按钮。在页面加载时，将显示名称为 description 的 textarea，存储描述并在带有单选按钮的 iframe 中显示输出。当我们单击 rad 时，将显示名称为 comment 的 textarea将显示在父页面中，我需要根据单选按钮选择更新评论。如何获取单选按钮的值并执行更新

```
 function call(data) 
  {
  parent.showArea(data);
  }

<table cellpadding="15" border="1">
    <tr>
        <th>Sno</th>
        <th>Time</th>
        <th>Date</th>
        <th>Description</th>
        <th>Comments</th>
        <th>Select</th>
    </tr>

   <%
   while(rs.next())
           {

    %>
    <tr>
        <td><%=rs.getString("sno") %></td>
        <td><%=rs.getString("Time") %></td>
        <td><%=rs.getString("Date") %></td>
        <td><%=rs.getString("Description") %></td>
        <td><%=rs.getString("Comments") %></td>                          
        <td><input type="radio" id="my" name="rad" onclick="call(<%=rs.getString("sno")%>);" value="<%=rs.getString("sno")%>"></td>
    </tr>

<%  

}    
%>
  </table> 
```

# c# - 地址栏显示上一页的地址

> ID：10908955
> 
> 赞同：0
> 
> 时间：2012-06-06T06:07:39.863
> 
> 标签：c#, jquery, asp.net

我有用于登录的 Default.aspx 页面。成功登录后，它会显示 ItemValuation.aspx 页面，但在地址栏中显示的链接是 Default.aspx。在我的项目中使用 jquery 后，问题就开始了。如果我删除 jquery 引用和代码，那么登录后显示的链接是正确的，即 ItemValuation.aspx 谁能告诉我如何解决这个问题？在 Default.aspx 上成功登录后，地址栏中显示的链接应该是 ItemValuation.aspx 供您参考，我发布了默认页面 aspx 代码。提前致谢。

```
 <%@ Page Language="C#" AutoEventWireup="true" CodeFile="Default.aspx.cs" Inherits="Item_Valuation.Default"  %>

<!DOCTYPE html  >

<html >
<head runat="server">
<link rel="shortcut icon" href="~/Images/ACME.ico">
    <title>Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0;"/> 
    <link href="css/jquery.mobile-1.1.0.min.css" rel="stylesheet" type="text/css" />
    <link href="css/jquery-ui-1.8.18.custom_mini.css" rel="stylesheet" type="text/css" />
    <script src="js/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="js/jquery.mobile-1.1.0.min.js" type="text/javascript"></script>

</head>

<body >
 <div data-role="page" id ="loginpage" data-theme="c" >
    <form id="formLogin" runat="server" >

    <div id ="DivHeader" data-role="header"  data-position="fixed" data-theme="c"  >
   <div style="text-align:center;top:4px;">
        <asp:Image ID="Image1" runat="server" 
            ImageUrl="Images/ItmVlun.jpg"   />
   </div>
    </div>
    <div data-role="content" style=" margin-top: 2px;">
    <table style="text-align:right;width:100%">
    <tr>

    <td style="width:80%" >
    <table  style="border-color: #FFCC00;width:100%;left:5%; text-align:left;">

    <tr>
      <td style="width:50%;"><asp:Label ID="lblLogin" runat="server" Text="Login:" 
              Font-Bold="False" Font-Names="Copperplate Gothic Light" Font-Size="Large"></asp:Label>
         </td>
      <td style="width:50%;"><input id="txtUserName" type="text" runat="server" style="width:100%;font-size:large;"   /></td>
      <td><ASP:RequiredFieldValidator ControlToValidate="txtUserName"
           Display="Static" ErrorMessage="*" runat="server"  
           ID="vUserName" /></td>
      </tr>

   <tr>
      <td >
          <asp:Label ID="lblPassword" runat="server" Text="Password:" Font-Bold="False" 
              Font-Names="Copperplate Gothic Light" Font-Size="Large"></asp:Label>
       </td>
      <td  ><input id="txtUserPass" type="password" runat="server" style="width:100%;font-size:large;"   /></td>
         </tr>
   <tr>
      <td >
          <asp:Label ID="lblRememberMe" runat="server" Text="Remember Me:" 
              Visible="False" Font-Names="Copperplate Gothic Light"></asp:Label>
       </td>
      <td >
          <asp:CheckBox ID="chkPersistCookie" runat="server" autopostback="false" 
              Visible="False" />
       </td>
      <td ></td>
   </tr>

   </table>
   </td>
   <td style="width:20%;"> 
       <asp:Image ImageAlign=Right ID="Image2" runat="server" 
           ImageUrl="~/Images/LogInimg.jpg"  Width="100%" Height=60% />
   </td>
        </tr>
      </table>  

</div>
  <div  data-role="footer"  data-position="fixed" data-theme="c">

  <asp:Button ID="btnLogIn" runat="server" OnClick="LogMe_Click"
      Text="Log in" data-theme="a"  CausesValidation="False" data-role="button"  data-inline="true" style=" float : left;"  />
  <input type="button" ID="CloseButton"  value="Close" onclick ="window.close();" />
  <asp:Label ID="lblMsg" runat="server" ForeColor="#FF0066"  style=" float : Right;" ></asp:Label>
    </div>

    </form>

    </div>

</body>

</html> 
```

//默认.cs

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls; 
using System.Web.Security;
//using System.Web.UI.MobileControls;
using System.Runtime.InteropServices;

namespace Item_Valuation
{
    public partial class Default : System.Web.UI.Page
    {

       // internal static extern int lineGetGeneralInfo(IntPtr hLine, byte[] bCache);
        //public static string IMEI;
        Item_Valuation.User usr;
        public static string message="";
        public string AuthorisationMsg;

        protected void Page_Load(object sender, EventArgs e) 
        {
            try
            {

                if (!IsPostBack)
                {
                    if (Request.QueryString["TCPServer"] != null)
                    {
                        AuthorisationMsg = Request.QueryString["TCPServer"].ToString();
                        GlobalData.SetSettings();
                        lblMsg.Text = "Error: TCP Server IP " + GlobalData.TCPServer + " " + AuthorisationMsg;
                    }
                    else if (Request.QueryString["Message"] != null)
                    {
                        lblMsg.Text = Request.QueryString["Message"].ToString();
                    }

                }

                txtUserName.Focus();
            }
            catch (Exception ee)
            {
                lblMsg.Text = ee.Message;
            }

       }

        private bool ValidateUser(string userName, string passWord)
        {
            if ((null == userName) || (0 == userName.Length))
            {
                return false;
            }

            try
            {
                string msg = "";
                Item_Valuation.User Usr = Item_Valuation.User.CheckLogin(userName, passWord, ref msg);

                if (msg.Length > 0)
                {
                    lblMsg.Text = msg;
                    Response.Write("<script>'alert("+lblMsg.Text +"')</script>"); 
                    return false;
                }
                if (Usr != null)
                {

                }
                else
                {
                    lblMsg.Text = "Invalid Login id or Password";
                    Response.Write("<script>'alert(" + lblMsg.Text + "')</script>"); 
                    return false;
                }
            }
            catch (Exception ex)
            {
                // AcmePayRollBusiness.PayRollError.PostError(this.GetType(), ex, "Error while validating User");
                return false;
            }

            return true;

        }

        public void LogMe_Click(object sender, EventArgs e)
        {
            if (ValidateUser(txtUserName.Value, txtUserPass.Value))
            {
                FormsAuthenticationTicket tkt;
                string cookiestr;
                HttpCookie ck;

                tkt = new FormsAuthenticationTicket(1, txtUserName.Value, DateTime.Now,
                  DateTime.Now.AddMinutes(30), chkPersistCookie.Checked, "your custom data");
                cookiestr = FormsAuthentication.Encrypt(tkt);
                ck = new HttpCookie(FormsAuthentication.FormsCookieName, cookiestr);
                if (chkPersistCookie.Checked)
                    ck.Expires = tkt.Expiration;
                ck.Path = FormsAuthentication.FormsCookiePath;
                Response.Cookies.Add(ck);

                string strRedirect=null;
                //strRedirect = Request["ReturnUrl"];

                usr = (Item_Valuation.User)HttpContext.Current.Session["User"];
                int roleLevel = usr.RoleLevel;

                if (roleLevel != 1)
                {
                    if (strRedirect == null)
                        strRedirect = "ItemValuation.aspx";

                }
                else
                {
                    if (strRedirect == null)
                        strRedirect ="PrinterAssignment.aspx";

                }
                Response.Redirect(strRedirect);
                //Server.Transfer(strRedirect);

            }

        }

}

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:38:23.337

jQuery Mobile 就是这样做的。默认情况下，它通过 AJAX 更改所有链接和表单提交。

要禁用这个...有趣的...功能，您需要向`mobileinit`事件添加一个处理程序，并设置`ajaxEnabled`为`false`.

此处有关如何执行此操作的文档：http: [//jquerymobile.com/demos/1.1.0/docs/api/globalconfig.html](http://jquerymobile.com/demos/1.1.0/docs/api/globalconfig.html)

# playframework - 如何使用 Secured - Security.Authenticato 加密数据库的密码

> ID：10908957
> 
> 赞同：4
> 
> 时间：2012-06-06T06:07:50.580
> 
> 标签：playframework, salt, password-encryption

我试图以某种安全性将我的密码保存到数据库中。使用播放框架执行此操作的最佳方法是什么？我是否在javascript中加密字符串？不会认为这是最好的方法吗？还是在保存到数据库时发送普通字符串然后加密？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-06T07:02:02.343

使用 Play 或任何其他系统都没有关系 - 在客户端加密密码没有意义，因为它可以轻松重新设计，因此您也可以将它们存储为纯文本（当然这是个坏主意）

相反，您应该*至少*使用一些众所周知的技术来存储密码，例如[加盐加密](http://en.wikipedia.org/wiki/Salt_%28cryptography%29)- 它可以通过[jBCrypt](http://www.mindrot.org/projects/jBCrypt/)实现，当然它需要在服务器端完成。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T07:35:31.340

你看过[安全指南](http://www.playframework.org/documentation/1.2.4/security)吗？它非常完整且解释清楚。

# c# - 如何在 asp.net 应用程序中使用 Graphviz？

> ID：10908962
> 
> 赞同：2
> 
> 时间：2012-06-06T06:08:33.647
> 
> 标签：c#, asp.net, graphviz

我想在网上画一张图。许多网络用户向我推荐 Graphviz。

如何在 asp.net 应用程序中使用 Graphviz？什么是 Web 中的 Graphviz 渲染过程？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:35:18.047

您可以使用[QuickGraph](http://quickgraph.codeplex.com/) API - GraphViz 图形生成器的 C# 包装器。（代码项目文章 - [QuickGraph](http://www.codeproject.com/Articles/5603/QuickGraph-A-100-C-graph-library-with-Graphviz-Sup) : A 100% C# graph library with Graphviz Support）。

> 什么是 Web 中的 Graphviz 渲染过程？

使用 P/Invoke 方法，您可以渲染内存中的图像。看看[Rendering an in-memory Graphviz image with C#](http://implicitoperator.com/blog/2009/12/24/rendering-an-in-memory-graphviz-image-with-c.html) and [Graphviz C# Sample](http://implicitoperator.com/blog/2010/4/11/graphviz-c-sample.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-06T19:35:56.653

您可以使用 Graphviz Dll 使用 Interop 来做到这一点。请参阅这篇文章： http: [//pldineshtech.blogspot.com/2012/08/using-graphviz-library-in-net.html](http://pldineshtech.blogspot.com/2012/08/using-graphviz-library-in-net.html)

基本上，您将调用此方法 -> Graphviz.RenderImage()，创建图像并将其传输回客户端。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-10-16T21:47:22.320

[这个名为 Graphviz.NetWrapper 的全新库](https://github.com/Rubjerg/Graphviz.NetWrapper)允许您在 C# 代码中构建图形，使用 graphviz 库计算布局，并使用 C# 读取布局信息（如位置等）。

要在网页中绘制图形，您可以通过网络发送此布局信息（例如 JSON 格式）并使用例如 D3 JS 进行绘制。

# c++ - 需要使用opencv制作ocr的步骤

> ID：10908965
> 
> 赞同：0
> 
> 时间：2012-06-06T06:08:37.667
> 
> 标签：c++, opencv, ocr

我正在尝试使用 opencv 的 Haar 分类器制作一个 OCR 库。但它运行不正常。那么你能告诉我制作 OCR 的步骤是什么吗？并且可以使用 Haar 分类器吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-06-06T07:50:52.107

谷歌搜索有很多书籍、教程等。

但是有两本书对你有用。

1) [H. Bunke 和 PSP Wang 的字符识别和文档图像分析手册](https://rads.stackoverflow.com/amzn/click/com/981022270X)

2)[光学字符识别：前沿图解指南（Springer 国际工程和计算机科学系列），Stephen V. Rice、George Nagy 和 Thomas A. Nartker](https://rads.stackoverflow.com/amzn/click/com/079238492X)

他们有一些很好的深层理论。

你可以在这里看到一个在 C++ 中使用 kNN 的简单数字 OCR：[Basic OCR in OpenCV](http://blog.damiles.com/2008/11/basic-ocr-in-opencv/)

您可以在此 SOF 中看到使用 kNN 的 OCR 的简单 Python 实现：[OpenCV-Python 中的简单数字识别 OCR](https://stackoverflow.com/questions/9413216/simple-digit-recognition-ocr-in-opencv-python/9620295#9620295)

在 OpenCV svn 中，您可以看到使用 ANN 进行手写识别的新 Python 示例： ...svn\opencv\samples\python2\digits.py 。代码在 Python 中，但所有 OpenCV 函数也可以在 C++ 中使用。

希望这足以启动。

# ajax - Backbone.js 和缓存控制

> ID：10908966
> 
> 赞同：3
> 
> 时间：2012-06-06T06:08:41.630
> 
> 标签：ajax, backbone.js, browser-cache, cache-control, etag

我正在基于我的 API 制作一个网站，并在服务器上实现。API 支持 ETag、If-Modified-Since。该网站是使用 BackBone.js 编写的。当我使用收集（获取）方法从服务器检索数据时，主干在没有缓存控制的情况下运行。如何在查询数据中设置适当的标头（etag 等）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-07T23:47:19.050

这实际上取决于您的服务器，因为这是设置缓存标头的位置，浏览器只是服从它们。大多数人使用 Apache 或 Nginx。对于 Nginx，我喜欢缓存静态媒体，例如：

```
 location ~* ^.+\.(jpg|jpeg|gif|png|ico|eot|ttf|woff) {
    root /var/www/html/mysite.com;
    expires 90d;
  } 
```

请注意，对于任何网络服务器，您都可以从路径到请求的文件扩展名对缓存进行细化。谷歌，你会发现如何为 apache 设置它。

# spring - 请求参数中的特殊字符

> ID：10908969
> 
> 赞同：0
> 
> 时间：2012-06-06T06:08:56.310
> 
> 标签：spring, rest, jboss7.x, uriencoding

我在春季开发服务，服务部署在 JBOSS 7.1.0 中。请求映射示例代码：

```
@RequestMapping(value=/state, method=RequestMethod.GET)
public ResponseEntity<ListStatesResponseVO> getListOfStates(@RequestParam(required=false) Long id,
                                                              @RequestParam(required=false) Long page,
                                                              @RequestParam(required=false) Long pagesize); 
```

我的问题是当我在请求参数中传递特殊字符时，它返回给我一个有效的 xml 响应，但根据我的理解，它应该返回“400 BAD REQUEST”。

示例 URI：

```
http://localhost:8080/location-services/location/api/state?id=$%^$^$#$%^$% 
```

我还添加了

```
<property name="org.apache.catalina.connector.URI_ENCODING" value="UTF-8"/>
<property name="org.apache.catalina.connector.USE_BODY_ENCODING_FOR_QUERY_STRING" value="true"/> 
```

在 JBOSS 的standalone.xml 中。

并且

```
<filter>  
    <filter-name>encodingFilter</filter-name>
    <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>
    <init-param>
        <param-name>encoding</param-name>
        <param-value>UTF-8</param-value>
    </init-param>
    <init-param>
        <!-- set forceEncoding to true if you want to override encoding of servlet -->
        <param-name>forceEncoding</param-name>
        <param-value>true</param-value> 
    </init-param>
</filter> 
```

在 web.xml 中。

但这些并不能解决问题。

有没有可用的解决方案。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T07:00:54.113

您不应该允许您的用户自己在查询字符串中输入值。这是一种不好的做法，并且对您的 Web 应用程序安全性有很大风险。为避免此类攻击并限制用户篡改 URL，您应该在应用程序中实现[HDIV框架。](http://www.hdiv.org/)

一旦你实现了，没有人会弄乱你的网址。如果有人尝试这样做，则会向他们显示“错误请求”错误。

希望这对您有所帮助。干杯。

# .net - 不支持嵌套构建元素“引用”

> ID：10908976
> 
> 赞同：0
> 
> 时间：2012-06-06T06:09:29.717
> 
> 标签：.net, nant

我收到以下 nant 脚本的以下错误，有人可以帮忙:(

错误是：***不支持嵌套的构建元素“引用”。***

请找到以下代码：

```
<?xml version="1.0"?>
<project name="NAnt Examples" default="build">
    <target name="*">
        <nant target="${target::get-current-target()}">
            <buildfiles>
                <include name="**/*.build" />
                <references>
                <include name="C:/Program Files/NAnt/examples/Microsoft.Practices.EnterpriseLibrary.Common.dll" />
                </references>
                <!-- avoid recursive execution of current build file -->
                <exclude name="${project::get-buildfile-path()}" />

                <exclude name="ScriptTask/script-sample.build" />
                <exclude name="Solution/**/*.build"/>
            </buildfiles>
        </nant>
    </target>
</project> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T09:05:13.397

您收到此错误是因为该`<buildfiles>`元素通常`<fileset>`不支持将`<references>`其作为其子元素。有关更多详细信息，请参阅[`<nant>`](http://nant.sourceforge.net/release/latest/help/tasks/nant.html)任务描述。

# jquery - jQuery生成：无法点击标签

> ID：10908987
> 
> 赞同：0
> 
> 时间：2012-06-06T06:11:00.363
> 
> 标签：jquery, html, hyperlink, click, bookmarklet

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:17:11.827

# c# - 相同的代码，C# 和 C++ 中的不同输出

> ID：10908988
> 
> 赞同：4
> 
> 时间：2012-06-06T06:11:02.863
> 
> 标签：c#, c++, sequence-points

C＃：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace ConsoleApplication1
{
    class Program
    {
        static void Main(string[] args)
        {
            int a = 11;
            int b = 2;
            a -= b -= a -= b += b -= a;
            System.Console.WriteLine(a);
        }
    }
} 
```

输出：27

C++：

```
#include "stdafx.h"
#include<iostream>

int _tmain(int argc, _TCHAR* argv[])
{
       int a = 11;
       int b = 2;
       a -= b -= a -= b += b -= a;
       std::cout<<a<<std::endl;
       return 0;
} 
```

输出：76

相同的代码有不同的输出，有人能说出为什么会这样吗？帮助赞赏！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-06-06T06:12:42.830

在 C# 中，您的代码定义明确，等效于以下内容：

```
a = a - (b = b - (a = a - (b = b + (b = b - a)))); 
```

最里面的赋值在这里不相关，因为在重新赋值变量之前从未使用过赋值。此代码具有相同的效果：

```
a = a - (b = b - (a - (b + (b - a)))); 
```

这与以下内容大致相同：

```
a = a - (b = (b * 3) - (a * 2)); 
```

或者更简单：

```
b = (b * 3) - (a * 2);
a -= b; 
```

但是，在 C++ 中，您的代码会给出未定义的行为。根本无法保证它会做什么。

# c# - 更改单个选项卡的可见性会引发异常

> ID：10908992
> 
> 赞同：0
> 
> 时间：2012-06-06T06:11:22.763
> 
> 标签：c#, telerik, radgrid

当我尝试折叠如下所示的 1 个选项卡时出现异常。

```
<telerik:RadTabControl Foreground="Black"
                                     TabOrientation="Horizontal"
                                     TabStripPlacement="Left"
                                     Grid.Row="0">

               <telerik:RadTabItem Header="Tab Item A"
                                   Visibility="Collapsed" /> 
```

例外：

“未处理的异常 - System.InvalidOperationExdeption：UIElement.Arrange(finalRect) 不能在 finalRect 中使用 Infinite 或 NaN 值调用”

Telerik.Windows.Controls 的版本是 2011.2.712.1040。由于某些决定，我目前无法升级。

有什么解决方法吗？干杯。

# php - 将php邮件发送到csv中的邮件地址

> ID：10908993
> 
> 赞同：-4
> 
> 时间：2012-06-06T06:11:30.317
> 
> 标签：php, email

我有大约 50 000 个应用程序名称和电子邮件地址存储在 CSV 中。我想向所有 50 000 个电子邮件地址发送邮件，并且应用程序的名称也将包含在邮件中。这需要先上传 CSV。我搜索了类似的场景，但找不到答案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-06-06T06:24:15.213

减速！

50,000 是一个很大的分发列表。虽然您可以自己执行此操作，但我强烈建议您使用一些现有的软件自己执行此操作，更好的是托管解决方案。

如果您自己这样做，则必须限制发送速率。平坦，您将在一小时内发送大约 11,000-20,000 个（估计），但您的目标应该是每小时最多 2,000 个。否则，您将使邮件队列超载，无法处理退回邮件，并迅速将自己列入黑名单，这需要您几天才能摆脱。如果您使用的是共享主机帐户 - 将其限制为每小时 1,000 个（或先与您的主机清除）。

一个常见的“免费”解决方案是[http://www.phplist.com](http://www.phplist.com)（如果这是一次性的，他们甚至提供托管版本）。托管版本还可以更确定地确保邮件服务器不会被垃圾邮件阻止 - 周围有几个，只需谷歌并查看价格。

如果您自己滚动，要启用节流，请上传到数据库（请参阅其他答案）并添加“已发送”列，每分钟抓取 10/20 未发送的，标记为已发送并发送。然后再等一分钟并重复。您可以通过 cron 或通过页面刷新来执行此操作。（PHP List 将为您处理这个问题！）

但我强烈建议使用托管解决方案或结构化软件，而不是为这么大的东西滚动自己的解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-06-06T06:17:32.933

看一下[fgetcsv](http://php.net/manual/de/function.fgetcsv.php)。在你弄清楚如何读取数据之后，你必须发送它。我不建议使用 PHP 发送功能。而是使用邮件库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T06:15:30.350

PHP 中有一些函数可用于解析 CSV 文件，解析后您将获得 PHP 变量数组中的数据。在循环中获取数组索引并使用数据启动邮件功能。

# java - 我需要对可租借的电影列表进行排序

> ID：10908995
> 
> 赞同：0
> 
> 时间：2012-06-06T06:11:36.040
> 
> 标签：java, arrays, sorting

我有我的方法，可以对类 dvd 的数组 (dArray) 中的所有电影进行排序。现在我只需要对可用电影（setAvailable == true）进行排序。该数组由客户从菜单中输入电影动态填充。我的代码当前搜索数组并将所有电影从 A 到 B 排序，但现在我希望它只搜索和排序 d.setAvailable(true) 的电影...谢谢您的帮助。非常感激

这是数组中所有电影的排序列表：

```
if(e.getSource() == sortMovBtn)
        {
            if(dArray[0]==null)
            {
                JOptionPane.showMessageDialog(null,"No movies, please enter\na movie from the main menu","Error",JOptionPane.ERROR_MESSAGE);
            }

            else
            {
                BtnPanel.setVisible(false);
                imgPnl.setVisible(false);
                btnBackDvd.setVisible(true);
                txtAreaSortDvd.setVisible(true);
                sortDvdPnl.setVisible(true);
                Dvd tmp;

                for (int i = 0; i < manyDvd; i++)
                {
                    for (int j = 0; j < (manyDvd - 1 - i); j++)
                    {
                        if (dArray[j].getTitle().compareTo(dArray[j+1].getTitle()) > 0)
                        {
                            tmp = dArray[j];
                            dArray[j] = dArray[j+1];
                            dArray[j+1] = tmp;
                        }
                    }
                }
                a = "";
                for (int k = 0; k <manyDvd /*dArray.length*/; k++)
                    a += (dArray[k]);
                txtAreaSortDvd.setText(a);
                txtAreaSortDvd.setVisible(true);
                txtAreaSortDvd.setEditable(false);

                //Set font of text area
                txtAreaSortDvd.setFont(new Font("Arial", Font.BOLD, 12));

                //Initialize JScrollPane
                JScrollPane pane1 = new JScrollPane(txtAreaSortDvd);

                //Enable user to use wheel on mouse to scroll
                pane1.setWheelScrollingEnabled(true);

                //Set the scrollbar to always show
                pane1.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);

                //Add ScrollPane to Panel
                sortDvdPnl.add(pane1);

                //Add panel to frame
                add(sortDvdPnl);

            }

        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-06-06T06:26:52.610

首先，您不应该将用于处理模型（数据）的代码与 UI 代码混合在一起。

其次，您不应该在 UI 线程上对数据进行排序。在后台工作线程上完成工作。

第三，您不应该自己编写代码，尤其是不要那样。你的排序是 O(n^2)。在 java.util.Arrays 中对数组进行排序或在 java.util.Collections 中对集合类进行排序有很好的选择。

有两种基本方法可以对满足特定标准的项目进行排序。您可以使用自定义比较器对整个数据集进行排序，首先按标准匹配，然后按其余排序标准匹配。然后您的结果将位于数据的开头，并且您只会显示结果，直到第一个不符合标准的项目。

这样做的好处是它不使用超出存储数据所需的额外空间。

一种更简洁的方法是只复制符合标准的那部分数据，然后对其进行排序。如果数据在列表中而不是数组中，则使用起来也会容易得多，因为您不需要对数据进行两次传递：一次是找出有多少项目符合条件，另一次是过滤掉匹配的项目。（在这两者之间，您将分配一个数组来保存它们。）

假设您的数据在列表中。您可以像这样获得可用的电影：

```
public List<Movie> getAvailable(List<Movie> movies) {
    List<Movie> avail = new ArrayList<Movie>();
    for (Movie movie : movies) {
        if (movie.isAvailable()) {
            avail.add(movie);
        }
    }
    return avail;
} 
```

然后，您可以像这样对这些电影进行排序（按照它们的自然排序顺序）：

```
List<Movie> availOnly = getAvailable(movies);
Collections.sort(availOnly); 
```

PS 在 Java 8 中，您将能够执行以下操作：

```
Iterable<Movie> avail = movies.filter(Movie::isAvailable).sorted(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:13:52.130

使用比较器[http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html](http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html)

# iphone - 应用程序未安装在 ipad 设备上

> ID：10908999
> 
> 赞同：0
> 
> 时间：2012-06-06T06:11:57.373
> 
> 标签：iphone, ios, xcode

我正在使用 adhoc 分发的客户端设备上测试应用程序，但它没有安装在设备上，你能告诉我如何识别错误的步骤，为什么它没有安装我已经在客户端设备上安装了所有必要的配置，但应用程序仍然没有运行.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-06-06T06:17:20.887

尝试从设备和 Mac 中删除所有配置文件。看来，XCode 是使用过期的 Ad Hoc 条款构建的。然后安装您的最新配置并重试您自己的步骤。

**编辑：**

在 developer.apple.com 中检查设备是否已为 Ad Hoc 提供注册。似乎不是。并从此站点下载最新规定。并尝试使用新条款重新编译。

**编辑2：**

将设备注册到 developer.apple.com ：

1) 登录本站 developer.apple.com

2) 点击“iOS Provisioning Portal”链接

3) 点击左侧面板的“设备”

4) 点击右侧的“添加设备”按钮

5）在“设备名称”中输入设备名称，在“设备ID”中输入设备UDID

6) 点击“提交”

然后更新您的规定：

1) 点击左侧面板的“Provisioning”

1.5) 点击“分发”

2) 在您的项目上单击“编辑”->“修改”

3）在您的设备上设置复选框，然后单击“提交”

4) 下载新的配置文件并更新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-06-06T06:40:36.567

看看这个，它将帮助你很多[iPhone 分发步骤](http://www.idev101.com/code/Distribution/)