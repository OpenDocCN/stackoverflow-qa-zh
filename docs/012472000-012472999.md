# StackOverflow 问答 12472000-12472999

# performance - 从 Web 服务 (IIS) 调用 Web 服务 (Tomcat) 需要很长时间

> ID：12472000
> 
> 赞同：0
> 
> 时间：2012-09-18T07:08:11.090
> 
> 标签：performance, web-services, iis, tomcat, service

这是我的性能问题。IIS Web 服务通过 SOAP 请求 (hhtps) 调用在 TomCat 上运行的 Web 服务。第一次通话大约需要 4-6 秒，其他时间不到 1 秒。直接从客户端调用或通过 SOAPUI 需要 ca。600-700 毫秒。

我已经在 IIS => 中尝试了不同的配置，但没有成功。为什么会这样？有修复/解决方法吗？

谢谢！

# jquery - jQuery 反向 SEF 网址？

> ID：12472002
> 
> 赞同：1
> 
> 时间：2012-09-18T07:08:17.973
> 
> 标签：jquery, regex, replace

我正在使用此代码创建 SEF url 字符串：

[用破折号替换空格并使用javascript使所有字母小写](https://stackoverflow.com/questions/1983648/replace-space-with-dash-and-make-all-letters-lower-case-using-javascript)

我想知道是否有一种方法可以使用 jQuery 来扭转这种情况？例子：

这是一个测验

进入

这是一个测验

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:16:04.850

将字符串拆分为连字符，首字母大写，其余字母小写……然后将它们重新连接到空白处：

```
var string = 'this-is-a-test';
var words = string.split('-');
var list = [];

for ( var i=0, l=words.length; i<l; i++ ) {
  var word = words[i];
  list.push(word.substr(0,1).toUpperCase() + word.substr(1, word.length).toLowerCase());
}

console.log(list.join(" ")); 
```

# html - 将函数传递给jquery中的另一个函数？

> ID：12472004
> 
> 赞同：-1
> 
> 时间：2012-09-18T07:08:21.533
> 
> 标签：html, jquery

我在函数参数中传递 json obj。Json 包含用户 ID、密码、成功调用和错误调用。

我想通过 ajax 服务对用户进行身份验证。如果服务返回成功，则访问成功回调函数或返回错误，则访问错误回调函数。

```
 JSON Obj : Json_Obj =  { "UserId" : "uid", 
                           "Password" : "pwd", 
                           "Success_CB" : "successcallback()",
                           "Failure_CB" : "errorcallback()",
                          }; 
```

我能够解析 Json_Obj

```
 Authentication = function(data) {
    var json_data = $.parseJSON(data);
    $.ajax({
           type: "GET",
            .
            .
           success:function(data){
             json_data.Success_CB;   // Unable to Execute the success call back function.
            },
             error:function(xhr,err){
                    json_data.Failure_CB
             }
   });
 }          

   // Call Back Functions 

      successcallback(){
           alert("Success");
      }
      errorcallback(){
           alert("Error");
      } 
```

我无法访问/执行回调函数。

请帮我解决这个问题..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:10:31.170

`json_data.Success_CB`是一个字符串，而不是一个函数。

你可以这样做：

```
success:function(data){
    eval(json_data.Success_CB+'();');
} 
```

但是，您可能更喜欢使用开关，而不是评估任何收到的代码。

当然，如果要调用的函数与精确数据无关，您可以简单地执行

```
success: successcallback 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T07:11:09.377

你的意思是像这样？

```
 Authentication = function(data) {
    var json_data = $.parseJSON(data);
    $.ajax({
           type: "GET",
           success:function(data){
                successcallback();
           },
           error:function(xhr,err){
                errorcallback();
           }
   });
 }          

   // Call Back Functions 

      successcallback(){
           alert("Success");
      }
      errorcallback(){
           alert("Error");
      } 
```

# javascript - 如何访问haml文件中java脚本变量的值？

> ID：12472005
> 
> 赞同：1
> 
> 时间：2012-09-18T07:08:21.313
> 
> 标签：javascript, jquery, ruby-on-rails

我的 java 脚本文件中有一个函数，它在最终用户提交表单之前返回文本区域表单的值。由于我没有在我的haml文件中使用java脚本，我只是想知道如何从我的javascript函数中访问这个返回值到我的haml文件中：

```
this.findControlTextAreaValue = function(target) {

if (target === undefined) {
    target = $('body');
  }
  var form = $(target).find('form.ordered_control');

  $("form.ordered_control").find("input[type!=submit], select, textarea").on("change", function(event) {
    var current_target = $(event.currentTarget);
    var my_form = current_target.parents('form');

    var value_exists = my_form.find(".existing_control_id").val();
    return value_exists;
  });
} 
```

我的 haml 文件中需要一个变量，它应该接收这个返回值并在提交表单之前对其执行一些检查！

谢谢你的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-21T14:04:46.750

您为什么不在脚本标签中也进行这些检查并使用 .submit() 而不是使用 ruby​​ 提交表单。

```
:javascript
  place your javascript code here 
```

# kinect - 使用网络摄像头/第二个网络摄像头注册/覆盖 kinect 深度配置文件

> ID：12472008
> 
> 赞同：2
> 
> 时间：2012-09-18T07:08:48.813
> 
> 标签：kinect

我想使用 Kinect 的 IR 传感器检测移动物体，并将深度剖面视图叠加到 kinect 的网络摄像头视图上。理想情况下，我还想用外部网络摄像头注册 kinect 图片。

有关如何开始的任何示例？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T09:33:15.513

如果要匹配 RGB 和深度流，则需要进行立体校准。关于 Kinect 本身，这取决于您使用的库/驱动程序，因为该功能可能已经为您构建，允许您为深度图像上的相同 x,y 值获得正确的 RGB 值。例如：

*   使用 KinectSDK：[MapDepthFrameToColorFrame](http://msdn.microsoft.com/en-us/library/microsoft.kinect.kinectsensor.mapdepthframetocolorframe.aspx)
*   使用 OpenNI：[AlternativeViewPoint](http://openni.org/docs2/tutorial/group__altviewpoint.html)
*   使用 libfreenect：[freenect_pixel_from_depth_map](https://groups.google.com/forum/#!topic/openkinect/lGYhvhdJiLs)

还有一些包装库可以稍微简化一些事情。例如将 xKinect 作为[setRegistration()](https://github.com/ofTheo/ofxKinect/blob/master/src/ofxKinect.cpp#L159)方法。

如果要使用外部网络摄像头，则需要先对其进行校准。[您可以在Niccolas Burrus 的 wiki](http://nicolas.burrus.name/index.php/Research/KinectCalibration)上找到一些方便的文章。我还建议您查看[RGBDToolkit](http://www.rgbdtoolkit.com/)项目，因为它可以满足您的需求，但使用的是 DSLR 相机。不过原理是一样的。

![RGBD工具包](../Images/13e212ff6bac364b5971e7a858fff905.png)

以下是有关校准的更多资源：

*   [OpenCV 教程](http://opencv.willowgarage.com/documentation/camera_calibration_and_3d_reconstruction.html)
*   [实用程序](https://vimeo.com/22708033)
*   [深度校准纸](http://www.ee.oulu.fi/~dherrera/kinect/2011-depth_calibration.pdf)

# visual-studio-2010 - MonoDroid，Release模式下没有生成APK文件

> ID：12472009
> 
> 赞同：3
> 
> 时间：2012-09-18T07:08:53.077
> 
> 标签：visual-studio-2010, xamarin.android, apk

我在 VisualStudio 2010 中使用 MonoDroid。在发布模式下编译时，不会生成 APK 文件（应该在编译输出旁边的 BIN 文件夹中）。

它曾经像魅力一样工作。我无法指出我的项目配置、monodroid 安装或其他方面发生了什么变化。

我只有 3 个警告说：

```
Found conflicts between different versions of the same dependent assembly.  BCom.MAF.ViewModel 
```

还有一个：

```
Assembly generation -- The version '1.0.0.*' specified for the 'file version' is not in the normal 'major.minor.build.revision' format  BCom.MAF.UI.Android 
```

这可能是一个（令人惊讶的）问题吗？

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-09-19T14:58:26.557

这是我的错误：APK 文件仅在发布/启动期间生成。由于我只是在进行 Build 或 Rebuild 而不是 Start，即使在 Release 模式下，也不会生成 APK。

在这个[Xamarin Monodroid 文档](http://docs.xamarin.com/android/tutorials/Preparing_Package_for_Android_Marketplace "Xamarin MonoDroid 文档")中，*第 2 步*说“在发布模式下测试”，以确保所有链接都正确。这听起来有点可选。实际上，必须以 Release 模式启动应用程序才能获取 APK 文件。

可以通过在项目的 MSBuild 任务中进行一些更改来更改此行为。

编辑：现在有一个新的“部署”上下文菜单条目。一切变得更容易:-)

# android - 使用 pg 选项在 Android 上进行分析

> ID：12472011
> 
> 赞同：4
> 
> 时间：2012-09-18T07:08:58.857
> 
> 标签：android, gcc, android-ndk, profiling

我正在使用最新版本的 NDK`android-ndk-r8b`
我有一些文件是通过 NDK 的 Android 编译器构建的。 `i686-android-linux-gcc`
现在我想分析这些文件。
我试图用`-pg`选项重建它，但我收到一个错误：

```
/tmp/ccixJFcx.o: In function `main':
test1.C:(.text+0x17): undefined reference to `mcount'
collect2: ld returned 1 exit status 
```

我想尝试使用`i686-android-linux-gprof`但没有成功编译`-pg`选项我无法做到。

例如让 test1.C 的来源为：

```
int main()
{
   return 0;
} 
```

`gcc`我可以使用以下选项使用标准编译文件：
`-g -O2 -m32 -Wa,--32 -Wl,-melf_i386 -pg` 并将此文件与`i686-android-linux-gprof`

但是我不能使用`pg`key `i686-android-linux-gcc`，有人知道为什么吗？我该如何使用它，也许我必须在 NDK 重建过程中使用一些额外的库/编译选项？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-24T08:19:48.647

您必须对您的 Android.mk 添加一些修改：

```
#include android-ndk-profiler.mk

LOCAL_CFLAGS := -pg
LOCAL_STATIC_LIBRARIES := andprof

LOCAL_LDLIBS += -llog 
```

有关更多分步详细信息，请参阅[http://code.google.com/p/android-ndk-profiler/wiki/Usage 。](http://code.google.com/p/android-ndk-profiler/wiki/Usage)

**PS**似乎 x86 运行时根本不包含`mcount`. 在代码的其他地方定义它：

```
#if !( defined(_M_ARM) || defined(__arm__) )
   int mcount = 0;
#endif 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-27T05:48:51.180

好像没有什么`mcount`功能。
我已经下载了 Android Sources 没有任何`mcount`功能，只有 1 次调用，所以我认为它提供了这个错误。

我在[android 问题上发现了同样的问题](https://code.google.com/p/android/issues/detail?id=37909)。

# c++ - MultiByteToWideChar 将 (°) 度符号转换为 �

> ID：12472017
> 
> 赞同：0
> 
> 时间：2012-09-18T07:09:20.280
> 
> 标签：c++, windows, winapi, unicode

我正在尝试将字符串从 ANSII 转换为 Wide char。我正在使用`CA2W(string,CP_UTF8)`which 内部使用`MultiByteToWideChar`.

调试时显示`MultiByteToWideChar`将°度符号转换为�。

关于如何解决这个问题的任何建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T09:43:22.247

MultiByteToWideChar 从给定的编码转换为 UTF-16（即宽字符）。您需要确保指定正确的源编码，这可能不是 UTF-8。

由于 UTF-8 的编码方式，任何超过 ASCII 0x7f 的内容都表明 BYTE 是多字节字符序列的一部分，除非正确指定该序列，否则将导致“？”。更多关于多字节序列编码的信息可以在这里找到： [http ://en.wikipedia.org/wiki/UTF-8](http://en.wikipedia.org/wiki/UTF-8)

基本上，您的源编码可能基于系统当前的代码页，因此您需要在调用 MultiByteToWideChar 时指定 CP_ACP。

# android - 如何在android中访问已安装应用程序的资产子文件夹

> ID：12472020
> 
> 赞同：0
> 
> 时间：2012-09-18T07:09:32.560
> 
> 标签：android

我正在从我的应用程序访问已安装应用程序的资产文件夹。我能够访问每个已安装应用程序的资产文件夹，但它返回给我一些文件夹和一些文件。如果它只返回文件，那么我可以访问这些文件没有问题，但我怎么知道这是我正在访问的文件或文件夹？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:33:06.757

如果您想检查它是否是文件/目录，那么您可以执行以下操作：

```
File file = new File(filepath);
 if(file.isDirectory())
 {
     //Do something if it's a directory
 }
 else 
 {
     //Do something else if it's a file
 } 
```

如果要检查目录中的所有文件，可以执行以下操作：

```
File path = new File("/mnt/sdcard/something");
if( path.exists() ) {
    File[] files = path.listFiles();
    if (files == null) {
        //Break
    }
    for(int i = 0; i < files.length; i++) {
         if(files[i].isDirectory()) {
              //Logic if directory
         }
          else {
          //Logic if file
        }
   } 
```

如果您想知道文件路径是否包含某个已安装文件的单词，则可以检查：

```
if(filepath.contains(stringToLookFor))
{
//Logic if file contains part of the string
} 
```

# ruby-on-rails - 使用 jQuery UI 插件进行资产预编译错误

> ID：12472024
> 
> 赞同：1
> 
> 时间：2012-09-18T07:09:52.290
> 
> 标签：ruby-on-rails, ruby, vps, precompiling

在过去的几个小时里，我一直在为这个问题绞尽脑汁。

我跑步有问题`rake assets:precompile RAILS_ENV=production --trace`

由于在组合中添加了 jQuery UI。

```
// Libraries
//= require externalLibraries/d3/d3.v2
//= require externalLibraries/d3/d3.layout
//= require jquery_ujs
//= require jquery.ui.all
//= require underscore
//= require backbone
//= require ../../../vendor/assets/javascripts/externalLibraries/highcharts/highcharts
//= require_tree ../../../vendor/assets/javascripts/.
//
//= require reminder
//
//= require_tree ../templates
//= require_tree ./models
//= require_tree ./collections
//= require_tree ./views
//= require_tree ./routers
//= require_directory . 
```

这是跟踪：

```
** Invoke assets:precompile (first_time)
** Execute assets:precompile
/usr/local/rvm/rubies/ruby-1.9.3-p194/bin/ruby /usr/local/rvm/gems/ruby-1.9.3-p194@global/bin/rake assets:precompile:all RAILS_ENV=production RAILS_GROUPS=assets --trace
** Invoke assets:precompile:all (first_time)
** Execute assets:precompile:all
** Invoke assets:precompile:primary (first_time)
** Invoke assets:environment (first_time)
** Execute assets:environment
** Invoke environment (first_time)
** Execute environment
** Invoke tmp:cache:clear (first_time)
** Execute tmp:cache:clear
** Execute assets:precompile:primary
rake aborted!
Killed

  (in /home/RailsApplications/TwilioApplications/releases/20120918052259/app/assets/javascripts/application.js)
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/execjs-1.4.0/lib/execjs/external_runtime.rb:142:in `exec_runtime'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/execjs-1.4.0/lib/execjs/external_runtime.rb:28:in `block in exec'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/execjs-1.4.0/lib/execjs/external_runtime.rb:41:in `compile_to_tempfile'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/execjs-1.4.0/lib/execjs/external_runtime.rb:27:in `exec'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/uglifier-1.3.0/lib/uglifier.rb:100:in `compile'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.2.6/lib/sprockets/compressors.rb:74:in `compress'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/processing.rb:265:in `block in js_compressor='
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/processor.rb:29:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/processor.rb:29:in `evaluate'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/tilt-1.3.3/lib/tilt/template.rb:76:in `render'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/context.rb:177:in `block in evaluate'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/context.rb:174:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/context.rb:174:in `evaluate'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/bundled_asset.rb:26:in `initialize'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/base.rb:244:in `new'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/base.rb:244:in `build_asset'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/index.rb:89:in `block in build_asset'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/caching.rb:19:in `cache_asset'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/index.rb:88:in `build_asset'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/base.rb:163:in `find_asset'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/index.rb:56:in `find_asset'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.2.6/lib/sprockets/static_compiler.rb:23:in `block in compile'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/base.rb:212:in `block in each_logical_path'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/base.rb:200:in `block (2 levels) in each_file'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/base.rb:190:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/base.rb:190:in `each_entry'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/base.rb:198:in `block in each_file'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/base.rb:197:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/base.rb:197:in `each_file'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/sprockets-2.1.3/lib/sprockets/base.rb:210:in `each_logical_path'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.2.6/lib/sprockets/static_compiler.rb:18:in `compile'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.2.6/lib/sprockets/assets.rake:56:in `internal_precompile'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.2.6/lib/sprockets/assets.rake:70:in `block (3 levels) in <top (required)>'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `block in execute'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `execute'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:144:in `invoke'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.2.6/lib/sprockets/assets.rake:60:in `block (3 levels) in <top (required)>'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `block in execute'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `execute'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:144:in `invoke'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:116:in `invoke_task'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `block (2 levels) in top_level'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `block in top_level'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:133:in `standard_exception_handling'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:88:in `top_level'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:66:in `block in run'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:133:in `standard_exception_handling'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:63:in `run'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/bin/rake:33:in `<top (required)>'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/bin/rake:19:in `load'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/bin/rake:19:in `<main>'
Tasks: TOP => assets:precompile:primary
rake aborted!
Command failed with status (1): [/usr/local/rvm/rubies/ruby-1.9.3-p194/bin/...]
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/file_utils.rb:53:in `block in create_shell_runner'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/file_utils.rb:45:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/file_utils.rb:45:in `sh'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/file_utils_ext.rb:39:in `sh'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/file_utils.rb:80:in `ruby'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/file_utils_ext.rb:39:in `ruby'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.2.6/lib/sprockets/assets.rake:12:in `ruby_rake_task'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.2.6/lib/sprockets/assets.rake:21:in `invoke_or_reboot_rake_task'
/usr/local/rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.2.6/lib/sprockets/assets.rake:29:in `block (2 levels) in <top (required)>'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `call'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:205:in `block in execute'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:200:in `execute'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:158:in `block in invoke_with_call_chain'
/usr/local/rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/monitor.rb:211:in `mon_synchronize'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:151:in `invoke_with_call_chain'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/task.rb:144:in `invoke'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:116:in `invoke_task'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `block (2 levels) in top_level'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `each'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:94:in `block in top_level'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:133:in `standard_exception_handling'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:88:in `top_level'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:66:in `block in run'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:133:in `standard_exception_handling'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/lib/rake/application.rb:63:in `run'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/gems/rake-0.9.2.2/bin/rake:33:in `<top (required)>'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/bin/rake:19:in `load'
/usr/local/rvm/gems/ruby-1.9.3-p194@global/bin/rake:19:in `<main>'
/usr/local/rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in `eval'
/usr/local/rvm/gems/ruby-1.9.3-p194/bin/ruby_noexec_wrapper:14:in `<main>'
Tasks: TOP => assets:precompile 
```

最奇怪的是，当我在我的开发环境中运行这个命令时，它完全可以工作。

在我的生产环境中，如果我删除 jquery ui 引用，它会照常继续，所以这绝对是问题所在。这是我的 Gemfile。

```
source 'https://rubygems.org'

gem 'rails', '3.2.6'

# Bundle edge Rails instead:
# gem 'rails', :git => 'git://github.com/rails/rails.git'

gem 'sqlite3'

# Gems used only for assets and not required
# in production environments by default.
group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  # gem 'coffee-rails', '~> 3.2.1'

  # See https://github.com/sstephenson/execjs#readme for more supported runtimes
  # gem 'therubyracer', :platforms => :ruby

  gem 'uglifier', '>= 1.0.3'
  gem 'jquery-rails'
  gem 'jquery-ui-rails'
end

group :development do
  gem 'sunspot_solr'
end

group :development, :test do 
  gem 'jasmine'
  gem 'jasminerice'
  gem 'guard-jasmine'
  gem 'rspec-rails'
end

group :test do
  gem "factory_girl_rails"  
  gem "factory_girl" 
  gem "capybara"  
  gem "webrat"
  gem "guard-rspec"  
  gem "spork", "> 0.9.0.rc" 
  gem "guard-spork"
end

# OAuth 
gem 'rack-oauth2'
gem 'oauth2'
gem 'omniauth'
gem 'omniauth-facebook'
gem 'doorkeeper'

gem 'rack-pjax'
gem 'sunspot_rails'

gem 'rabl'
gem 'paperclip'
gem 'aws-sdk'
gem 'aws-s3'
gem 'd3_rails'
gem 'backbone-on-rails'

# To use ActiveModel has_secure_password
# gem 'bcrypt-ruby', '~> 3.0.0'

# To use Jbuilder templates for JSON
# gem 'jbuilder'

# Use unicorn as the app server
gem 'unicorn'
gem 'unicorn-rails'
gem 'redis'
gem 'redis-rails', '3.2.1'
gem 'redis-store', '~> 1.1.0'
gem 'redis-objects', :require => 'redis/objects'

gem 'mysql2'
gem 'resque', :require => 'resque/server'
gem 'thin'
gem 'localtunnel'
gem 'twilio-ruby'

gem 'will_paginate', '~> 3.0.beta'

# Deploy with Capistrano
gem 'capistrano'

# To use debugger
gem 'debugger'

# To use in similarity calculations
gem 'amatch'
gem 'chronic'

# Monitoring
gem 'resque-pool'
gem 'god'

gem 'whenever'

# Etc. stuff
gem 'progress_bar' 
```

有任何想法吗？（让我知道我是否遗漏了一些重要的东西，因为我目前非常疲倦）

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:46:30.607

从您的 Gemfile 中删除：

```
 gem 'jquery-rails'
  gem 'jquery-ui-rails' 
```

**并将 application.js 中的//= require jquery.ui.all**更改为**//= require jquery-ui**

希望对你有用！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-12T19:07:52.590

在尝试解决同样的问题时遇到了这篇文章，所以我想我分享我的解决方案。

[jquery-rails gem](https://github.com/joliss/jquery-ui-rails)已经带有 jQ​​uery UI，当你尝试启用这种方式时它会与 jquery-ui-rails gem 冲突，所以你必须选择使用哪个 JQuery UI [。](https://github.com/joliss/jquery-ui-rails)查看[**jquery-rails 页面**](https://github.com/indirect/jquery-rails)并查看**Rails 3.1 和更高版本**。

这是我所做的：

(1)在application.js中启用jquery-ui

```
//= jquery-ui 
```

(2) 从 jquery-ui-rails gem 中获取默认主题

(2-1) 在gem文件中添加`gem 'jquery-ui-rails'`

(2-2) 在application.css中添加`*= jquery.ui.all`

您也可以从 themeroller 开发自己的主题并使用它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-14T23:18:44.797

```
gem 'jquery-rails', '~> 2.3.0' 
```

消除`gem 'jquery-ui-rails'`

`//= require jquery-ui`在 app.js 中

为我解决了这个问题

# postgresql - 在psql中，为什么有些命令没有效果？

> ID：12472026
> 
> 赞同：22
> 
> 时间：2012-09-18T07:09:56.767
> 
> 标签：postgresql, psql

有时我的命令`psql`似乎没有效果。知道为什么吗？

以下是数据库中所有表的列表`library_development`：

```
library_development=> \d

               List of relations
 Schema |       Name        | Type  |  Owner
--------+-------------------+-------+----------
 public | Pavan             | table | postgres
 public | schema_migrations | table | sai
(2 rows) 
```

**`Pavan`在此之后，我使用以下方法删除了表**：

```
library_development-> drop table Pavan 
```

**但是表格并没有被删除，它的显示如下所示**：

```
library_development=> \d
               List of relations
 Schema |       Name        | Type  |  Owner
--------+-------------------+-------+----------
 public | Pavan             | table | postgres
 public | schema_migrations | table | sai
(2 rows) 
```

还：

1.  我在 Windows 中使用 PostgreSQL。是否有任何命令可以清除控制台（如 Oracle 中的 cl scr ）？

2.  使用 DML 脚本时，我需要在 Postgresql 中执行“提交”的任何概念吗？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-09-18T07:26:05.093

语句以分号结尾。

在`psql`中，按不带分号的 enter 将语句继续到下一行，将您写入的内容添加到查询缓冲区而不是执行它。您会注意到提示从`dbname=>`变为`dbname->`表示您在续行。

```
regress=> DROP TABLE sometable
regress-> \r
Query buffer reset (cleared).
regress=> DROP TABLE sometable;
ERROR:  table "sometable" does not exist
regress=> 
```

请注意，在没有分号的情况下按 Enter 后，提示将更改为`regress-#`并且不执行任何操作。没有 table `sometable`，因此如果该语句已运行，则会报告错误。

接下来，看看`\r`下一行的使用？这会清除查询缓冲区。请注意，当缓冲区被清除时，提示会变回`regress=#`，因为不再缓冲部分语句。

这显示了如何跨行拆分语句：

```
regress=> DROP TABLE
regress-> sometable
regress-> ;
ERROR:  table "sometable" does not exist 
```

令人困惑的是，`psql`像这样的反斜杠命令`\d`是以换行符结尾的，而不是以分号结尾的，所以当你按下回车键时它们*会运行。*当您想（比如说）在编写语句时查看表定义时，这很方便，但对于新手来说有点混乱。

至于您的其他问题：

1.  如果`psql`Windows 中有“清除屏幕”命令，我还没有找到它。在 Linux 上，我只使用 control-L，与任何其他使用 readline 的程序相同。在 Windows`\! cls`中可以工作。

2.  PostgreSQL 中的 DDL 是事务性的。你可以`BEGIN`一个事务，发出一些DDL，然后`COMMIT`事务让它生效。如果您不在显式事务中执行 DDL，则它会立即生效。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2020-03-08T21:09:09.067

我刚刚遇到类似的事情，但原因不同。

我试图使用 dropdb 命令，而我看到的就像我的命令没有效果（提示更改意味着我的命令在缓冲区中，但这不是这里的问题）：

```
postgres=# dropdb databasename
postgres-# 
```

像 dropdb 这样的命令应该在 psql 之外输入。我一直在做的是：

```
$ psql postgres
postgres=# dropdb databasename 
```

请注意，第一个命令在 Bash 中并触发 psql，第二个命令在 psql 中发送。

正确的方法是直接在 bash（控制台）中发送命令：

```
$ dropdb databasename 
```

希望这可以帮助一些人。

# android - 将字符串转换为谷歌 API 的 DateTime 格式

> ID：12472032
> 
> 赞同：0
> 
> 时间：2012-09-18T07:10:14.170
> 
> 标签：android, datetime, google-api

我有一个字符串，我从一个从日期选择器片段接收日期的 editText 中检索到该字符串。现在我需要将其转换为 Google Calendar API 在创建事件时需要的 DateTime 格式。我一直没能做到。这可能很愚蠢，但我现在被困在这里很长一段时间了。

```
 String dateString = start_date.toString();
     SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy/mm/dd"); 
     DateTime sdate = dateFormat.parse(dateString); 
```

当我尝试这样的事情时，我得到无法将字符串转换为 DateTime 格式错误

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:25:20.587

试试这样

```
 String mytime="Jan 17, 2012";
        SimpleDateFormat dateFormat = new SimpleDateFormat(
                "MMM dd, yyyy");
        Date myDate = null;
        try {
            myDate = dateFormat.parse(mytime);

        } catch (ParseException e) {
            e.printStackTrace();
        }

        SimpleDateFormat timeFormat = new SimpleDateFormat("yyyy-MM-dd");
        String finalDate = timeFormat.format(myDate);

        System.out.println(finalDate); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T07:30:22.000

试试这个...

```
String dateString = "2012/09/24";
String[] arr = dateString.split("/");
Calendar c = Calendar.getInstance();
         c.set(Integer.parseInt(arr[0]),Integer.parseInt(arr[1]),Integer.parseInt(arr[2]));
         Date date = c.getTime();

System.out.println(date); 
```

# c# - 调试器没有出现在 asp.net 中的 Button_Click

> ID：12472034
> 
> 赞同：-1
> 
> 时间：2012-09-18T07:10:22.093
> 
> 标签：c#, asp.net, visual-studio-2010, linq

```
protected void Button1_Click(object sender, EventArgs e)
{
    System.DateTime d1 = default(System.DateTime);
    if (Strings.Len(Strings.Trim(txtName.Text)) == 0)
    {
        msg("Name Must Be Present");
        txtName.Focus();
        return;
    }
    if (CatList.SelectedIndex == 0)
    {
        msg("Select Sex");
        CatList.Focus();
        return;
    }
    if (Strings.Len(Strings.Trim(txtMobile.Text)) < 10)
    {
        msg("Invalid Mobile Number");
        txtMobile.Focus();
        return;
    }
    if (!Information.IsNumeric(txtMobile.Text))
    {
        msg("Invalid Mobile Number");
        txtMobile.Focus();
        return;
    }
    if (Strings.Len(Strings.Trim(txtEmail.Text)) > 0)
    {
        //if (!RegularExpressionValidator1.IsValid)
        //{
        //    msg("Invalid Email ID");
            txtEmail.Focus();
            return;
        //}
    }

    DoctorDTO objDoctor = new DoctorDTO();

    objDoctor.DocName = txtName.Text;
    objDoctor.DocSex = CatList.SelectedItem.Text;
    objDoctor.DocCredential = txtCredential.Text;
    objDoctor.DocAddress = txtAddress.Text;
    objDoctor.DocRTel = txtRtel.Text;
    objDoctor.DocCTel = txtCtel.Text;
    objDoctor.DocMobile = txtMobile.Text;
    objDoctor.DocEmail = txtEmail.Text;
    objDoctor.DocImagePath = Image1.ImageUrl;

    List<DoctorDTO> lstDoctors = objService.GetAllDoctors();

    lstDoctors = new List<DoctorDTO>(
        from l in lstDoctors
        where l.DocProfileID.Equals((Session["userid"].ToString()))
        select l
        );

    if (lstDoctors.Count > 0)
    {
        objService.UpdateAllDoctorDetails(objDoctor); 
    }
    else {
        objService.AddDoctorDetails(objDoctor);
    } 
} 
```

在我的 asp.net 页面中，我在详细信息的文本框中获取某些详细信息，并且我有一个按钮来保存 Button1_Click 上的数据，首先调用一个 java 脚本来检查是否必须保存数据，然后只有数据将是已保存

但是调试器不会点击按钮

**请帮助某人**

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T07:12:09.793

在您的 aspx 页面中，您必须针对按钮单击定义事件。

```
OnClick="Button1_Click" 
```

就像是。

```
<asp:Button ID="Button1" 
            runat="server" 
            Text="Button" OnClientClick="myFunction();" 
            OnClick="Button1_Click" /> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T07:17:04.257

如果您的 javascript 函数返回 false，则不会触发 Button1_Click

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T07:24:16.710

无论哪种方式都应该工作

```
protected void Page_Load(object sender, EventArgs e)
{
   Button1.Click += new EventHandler(Button1_Click);
} 
```

或者

```
<asp:Button runat="server" ID="Button1" OnClick="Button1_Click" /> 
```

还要注意你的 javascript 有什么魔力

# java - 如何使用新配置停止和启动线程？

> ID：12472035
> 
> 赞同：0
> 
> 时间：2012-09-18T07:10:22.060
> 
> 标签：java, multithreading, sockets

我的程序是每当我启动我的 AccelSender 程序时，它都会将 epnId 发送到我的服务器机器以请求该特定 epnId 的主机。当服务器返回 hostName 时，它​​会启动两个 Runnable Thread 类，名为`new DataTransmitter(hostName,epnId)`和 new `JMSConnection()`。

我想要做的是每当我`reStart(String hostName)`被调用时，我想停止`new DataTransmitter(hostName,epnId)`线程并通过设置新的主机名来启动它。

这是我的代码：

```
public class AccelSender {

        private Socket kkSocket = null;
        private PrintWriter out = null;
        private BufferedReader in = null;

        private static final String epnId = "EPN1";

        public AccelSender(){
        }

        public void requestHost(){

            try{
                Socket hostSocket = new Socket("10.3.2.227",1121);
                PrintWriter out = new PrintWriter(hostSocket.getOutputStream(), true);
                BufferedReader in = new BufferedReader(new InputStreamReader(hostSocket.getInputStream()));
                out.println(epnId);
                    while(true){
                        String hostName = in.readLine();
                        DataTransmitter dt = new DataTransmitter(hostName,epnId);
                        JMSConnection jms = new JMSConnection();
                        new Thread(dt).start();
                        new Thread(jms).start();
                    }
            }
            catch(Exception e){
                e.printStackTrace();
            }
        }

    public void reStart(String hostName){
    //Here i want to STOP the DataTransmitter Thread and,
 START with new hostName
        }

    } 
```

Runnable 类的代码：

```
public class DataTransmitter implements Runnable {

    private Socket kkSocket = null;
    private PrintWriter out = null;
    private BufferedReader in = null;

    private int port = 2508, fileCount = 0, arrivalRate = 500;
    private String hostName = null, data = null, filename = null;
    private boolean resetSender = false;
    private static String epnId = null;
    File folder = new File(System.getProperty("user.dir")+"/input_data");
    File[] listOfFiles = folder.listFiles();

    public DataTransmitter(){
    }

    public DataTransmitter(String hostName, String epnId){

        this.hostName = hostName;
        this.epnId = epnId;
        establishHostConnection();
    }

    public void establishHostConnection(){

        try {
            kkSocket = new Socket(hostName, port);
            out = new PrintWriter(kkSocket.getOutputStream(), true);
            in = new BufferedReader(new 
InputStreamReader(kkSocket.getInputStream()));
            resetSender = true;
        } catch (UnknownHostException e) {
            System.err.println("Don't know about host: thinklatch.");
            System.exit(1);
        } catch (IOException e) {
            System.err.println("Couldn't get I/O for the connection to: 
thinklatch.");
            System.exit(1);
        }
    }

    public void close() throws IOException{

        kkSocket.close();
        out.close();
        in.close();
    }

    public void run(){

        System.out.println("Entering Data Transmitter");

        try{
            while (fileCount <= 1) {

                for (int i = 0; i < listOfFiles.length; i++) {
                    if (listOfFiles[i].isFile()) {
                        System.out.println("File " + 
listOfFiles[i].getName());
                        filename = System.getProperty("user.dir") + 
"/input_data/" + listOfFiles[i].getName();

                        BufferedReader bf = new BufferedReader(new 
FileReader(filename));
                        System.out.println("Fetching input from : " + 
filename);

                        while((data=bf.readLine())!=null){
                            String str = 
this.hostName+","+this.epnId+","+arrivalRate+","+data;
                            out.println(str);
                            try{
                                TimeUnit.MILLISECONDS.sleep(2);
                            }catch(Exception e){
                            }
                        }
                    }
                }
                     fileCount++;
            }
        }catch(FileNotFoundException fnfe){
            System.err.println("E"+fnfe);
        }catch(IOException ioe){
            System.err.println("E"+ioe);
        }
            out.close();
    }
} 
```

针对这种情况重新启动线程的任何建议都是可观的。提前致谢 ....

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T07:26:07.327

`run`一旦方法完成执行，线程实际上就不能“重新启动” 。你基本上有两个选择：

1.  引入一个循环，在满足条件时导致线程被挂起（例如调用 a `wait`）。这样，您可以“暂停”线程，更改主机名，然后发出信号以恢复。
2.  使线程完成其代码，丢弃它，然后使用相同的`Runnable`对象启动一个新线程。

**编辑**：所以你可以在重启方法中做的是调用对象`close`上的方法。`dt`这将关闭套接字并导致`IOException`线程退出其运行方法。之后，您可以开始一个新线程：

```
dt = new DataTransmitter(hostName,epnId);
new Thread(dt).start(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:23:12.263

使用 Thread.currentThread().isInterrupted() 和 Thread.interrupt()

请参阅此链接：

[http://docs.oracle.com/javase/1.5.0/docs/guide/misc/threadPrimitiveDeprecation.html](http://docs.oracle.com/javase/1.5.0/docs/guide/misc/threadPrimitiveDeprecation.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T07:37:11.553

`Thread`一旦停止`can't be restarted`。

**-**一旦与线程类实例关联的执行线程完成它的`run()`方法，它就会移动到`Dead State`，或者`Thread Pool`如果已实现。与执行线程关联的线程类实例永久失去其线程性。

**-**你可以更好地使用`wait()`and`notify()`机制，也可以使用java.util.concurrent包中的`await()`and`signal()`机制来挂起和恢复线程。

# perl - 如何将 RGB 转换为 Lab？

> ID：12472036
> 
> 赞同：0
> 
> 时间：2012-09-18T07:10:23.277
> 
> 标签：perl, api, imagemagick

我的数据库中有缩小图片的 RGB 值，并且想使用 imagemagick 来处理到[Lab](http://en.wikipedia.org/wiki/Lab_color_space)的转换。但我一直无法为此找到代码示例。

如何使用 Perl Imagemagick API 将 RGB 颜色值转换为 Lab？这甚至可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T09:08:05.407

如果它不适用于 ImageMagick - 有一个 CPAN 模块，我第一次尝试搜索`RGB Lab`给了我[Graphics::ColorObject](http://p3rl.org/Graphics%3a%3aColorObject)。

```
my $color = Graphics::ColorObject->new_RGB([0.5, 0.42, 0.17]);
my ($L, $a, $b) = @{ $color->as_Lab() }; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:45:38.840

我不确定，但似乎没有办法为此使用 Perl imagemagick API。相反，我正在使用[Perl Monks](http://www.perlmonks.org/?parent=68072;node_id=3333)的一些函数（用户未知）：

```
# I do not do the linear approximation for $u/$un <= 0.008859
sub RGB2Lab {
  my ($red, $green, $blue) = @_;

  my ($x, $y, $z)    = _RGB2XYZitu($red, $green, $blue);
  my ($xn, $yn, $zn) = _RGB2XYZitu(1,1,1);
  my $fx = _cuberoot($x/$xn);
  my $fy = _cuberoot($y/$yn);  
  my $fz = _cuberoot($z/$zn);

  return ( 116*$fy-16, 500*($fx - $fy), 200*($fy - $fz) );

}

sub Lab2RGB {
  my ($L, $a, $b) = @_;
  my ($xn, $yn, $zn) = _RGB2XYZitu(1,1,1); 

  my $fL = _cube(($L+16)/116);
  my $fa = _cube($a/500);
  my $fb = _cube($b/200);

  my $y = _cube( ($L+16)/116) * $yn;
  my $x = _cube( ($L+16)/116 + $a/500 ) * $xn;
  my $z = _cube( ($L+16)/116 - $b/200 ) * $zn;

  return _XYZitu2RGB($x, $y, $z);

}

sub _RGB2XYZitu {
  my ($r, $g, $b) = @_;
  return ( 
    0.431*$r + 0.342*$g + 0.178*$b,
    0.222*$r + 0.707*$g + 0.071*$b,
    0.020*$r + 0.130*$g + 0.939*$b 
  );
}

sub _XYZitu2RGB {
  my ($x, $y, $z) = @_;

  return  map { $_ > 1 ? 1 : $_ } (
    3.063*$x - 1.393*$y - 0.476*$z,
   -0.969*$x + 1.876*$y + 0.042*$z,
    0.068*$x - 0.229*$y + 1.069*$z 
  );

}

sub _cuberoot {
  my $x = shift;  
  return 0 if $x == 0;
  my $sign = ($x < 0) ? -1 : 1;
  $x *= $sign;
  return $sign * exp( log($x)/3.0 );  
}

sub _cube {
  my $x = shift;
  return 0 if $x == 0;
  my $sign = ($x < 0) ? -1 : 1;
  $x *= $sign;
  return $sign * exp( 3 * log($x) );
} 
```

# javascript - 在图像上放置文本输入

> ID：12472039
> 
> 赞同：0
> 
> 时间：2012-09-18T07:10:33.170
> 
> 标签：javascript, jquery, html

我有里面有图像的 div，也有文本框。我想要做的是在文本框中输入内容并且在我输入内容时应该使用用户定义的字体显示在图像中。是否可以使用 js/jquery？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T07:29:34.633

对的，这是可能的。我为你创建了一个演示。

[**看演示**](http://jsfiddle.net/akhurshid/zeJxR/)

**HTML：**

```
Title: <input type="text" id="txtbox_title" />
<br/>
<br/>
Text: <textarea id="txtbox_para" ></textarea>

<div id="imageContainer">
    <h1></h1>
    <p></p>    
</div>​ 
```

**jQuery：**

```
$("#txtbox_title").on('keyup', function(){
    var value =  $(this).val();
    $("#imageContainer h1").html(value);
});

$("#txtbox_para").on('keyup', function(){
    var value =  $(this).val();
    $("#imageContainer p").html(value);
}); 
```

​</p>

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T07:28:00.000

您可以使用任何可用的 jquery 插件。查看这个插件[http://code.google.com/p/jquery-image-annotate/](http://code.google.com/p/jquery-image-annotate/)

在这里工作演示 - [http://flipbit.co.uk/jquery-image-annotation.html](http://flipbit.co.uk/jquery-image-annotation.html)

# java - 使用soap调用的android listview

> ID：12472041
> 
> 赞同：0
> 
> 时间：2012-09-18T07:10:36.830
> 
> 标签：java, android, listview, soap, android-adapter

嗨，我必须使用soap调用在android中开发一个listview应用程序。在这里我希望运行应用程序意味着orderid和状态显示在这里。这里我必须单击列表中的任何订单意味着状态显示在下一个活动中。

但是 orderid 和 status 成功显示在 listview 上..但是这里遇到了一些问题... orderid 和 status 显示如下格式：

```
1
---------
F2
----------
Q3
----------
P
----------- 
```

但我希望显示以下格式：

```
1 F
---------
2 Q
---------
3 P
--------- 
```

这是我的**安卓代码**：

```
public class RetailerActivity extends Activity {
ListView list;
private static final String SOAP_ACTION = "http://xcart.com/customerData1";
private static final String METHOD_NAME = "customerData1";
private static final String NAMESPACE = "http://xcart.com";
private static final String URL = "http://192.168.1.168:8089/XcartLogin/services/RetailerWs?wsdl";
private static final String KEY_STATUS = "status";

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME); 

    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);

    envelope.setOutputSoapObject(request);

    HttpTransportSE ht = new HttpTransportSE(URL);
    try {
        ht.call(SOAP_ACTION, envelope);
        SoapPrimitive response = (SoapPrimitive)envelope.getResponse();
        SoapPrimitive s = response;
        String str = s.toString();
        String resultArr[] = str.split("&");
        list=(ListView)findViewById(R.id.list);

        list.setAdapter(new ArrayAdapter(this, android.R.layout.simple_list_item_1,resultArr));
        list.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> parent, View view,
                    int position, long id) {

                String s2= getIntent().getStringExtra("status");

                // Starting new intent
                Intent in = new Intent(getApplicationContext(), SingleMenuItemActivity.class);

                 in.putExtra(KEY_STATUS, s2);

                 startActivity(in);                 

            }
        });     
    }

    catch (Exception e) {
        e.printStackTrace();
    }
}

} 
```

这是我的**网络服务代码**：

```
public class RetailerWs {
public String customerData1(){
String customerInfo = "";
try{
Class.forName("com.mysql.jdbc.Driver");
Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/xcart-432pro","root","");
  //Find customer information where the customer ID is maximum
PreparedStatement statement =  con.prepareStatement("SELECT * FROM xcart_orders");
ResultSet result = statement.executeQuery();

 while(result.next()){
customerInfo = customerInfo + result.getString("orderid") + "&" + result.getString("status");
  //Here "&"s are added to the return string. This is help to split the string in Android application
 }
 }

 catch(Exception exc){
 System.out.println(exc.getMessage());
 }

return customerInfo;
 }

 } 
```

这是我的 main.xml 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical">

 <ListView
    android:id="@+id/list"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:divider="#b5b5b5"
    android:dividerHeight="1dp"
    android:listSelector="@drawable/list_selector" />

 </LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:44:44.070

更改您的网络服务代码行：

```
customerInfo = customerInfo + result.getString("orderid") + "&" + result.getString("status"); 
```

至：

```
customerInfo = customerInfo 
    + result.getString("orderid") 
    + " "   // this to separate order id from status
    + result.getString("status") 
    + "&" ; // this is where you split in your android code 
```

因此，对于您的样本输入

```
1 F
2 Q
3 P 
```

您现在生成字符串“1 F&2 Q&3 P”而不是“1&F2&Q3&P”。

在那之后，我建议你想一些更好的方法在你的组件之间传递数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T07:23:33.407

你可以像这样使用 XML——试试这个对你有用吗

主要的.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" 
android:layout_width="fill_parent" android:layout_height="fill_parent"  android:orientation="vertical">

    <LinearLayout android:layout_width="fill_parent" android:layout_height="wrap_content"
    android:background="#FFFFFF" android:height="1sp">
        <TextView android:layout_width="wrap_content" android:layout_height="wrap_content"
        android:height="1sp" />
    </LinearLayout>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:paddingLeft="2px"
    android:layout_width="fill_parent" android:layout_height="fill_parent" android:background="#ffffff"
    android:paddingRight="2px">
        <ListView android:id="@+id/android:list" android:fadingEdge="none" android:layout_width="fill_parent"
        android:layout_height="fill_parent" android:layout_weight="1.0" />
    </LinearLayout>
</LinearLayout> 
```

列表视图以填充您的数据 - 它具有您想要的布局大小

```
<?xml version="1.0" encoding="utf-8" ?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:id="@+id/lv"
android:orientation="vertical" android:layout_width="fill_parent" android:layout_height="fill_parent"
android:textColor="#000000">
     <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" android:orientation="horizontal"
        android:layout_width="fill_parent" android:layout_height="fill_parent" android:background="#ffffff">
        <TextView android:id="@+id/orderid"   android:textColor="#7E3517" android:typeface="sans"
        android:textSize="14sp" android:layout_height="fill_parent" android:layout_width="wrap_content"
        android:layout_weight="1.0" android:width="1dip" android:gravity="left"/>
        <TextView android:id="@+id/Status"   android:textColor="#7E3517" android:typeface="sans"
        android:textSize="14sp" android:layout_height="fill_parent" android:layout_width="wrap_content"
        android:layout_weight="1.0" android:width="1dip" android:gravity="left"/>
        <TextView android:id="@+id/Status"   android:textColor="#7E3517" android:typeface="sans"
        android:textSize="14sp" android:layout_height="fill_parent" android:layout_width="wrap_content"
        android:layout_weight="1.0" android:width="1dip" android:gravity="right"/>      <TextView android:id="@+id/Status"   android:textColor="#7E3517" android:typeface="sans"
        android:textSize="14sp" android:layout_height="fill_parent" android:layout_width="wrap_content"
        android:layout_weight="1.0" android:width="1dip" android:gravity="right"/>      <TextView android:id="@+id/Status"   android:textColor="#7E3517" android:typeface="sans"
        android:textSize="14sp" android:layout_height="fill_parent" android:layout_width="wrap_content"
        android:layout_weight="1.0" android:width="1dip" android:gravity="right"/>      <TextView android:id="@+id/Status"   android:textColor="#7E3517" android:typeface="sans"
        android:textSize="14sp" android:layout_height="fill_parent" android:layout_width="wrap_content"
        android:layout_weight="1.0" android:width="1dip" android:gravity="right"/>      <TextView android:id="@+id/Status"   android:textColor="#7E3517" android:typeface="sans"
        android:textSize="14sp" android:layout_height="fill_parent" android:layout_width="wrap_content"
        android:layout_weight="1.0" android:width="1dip" android:gravity="right"/>
        </LinearLayout>
</LinearLayout> 
```

# android - Android 实例化错误即无法实例化活动

> ID：12472046
> 
> 赞同：-3
> 
> 时间：2012-09-18T07:10:45.853
> 
> 标签：android, android-sqlite

我正在尝试将解析的数据保存到数据库中，但存在实例化异常。我正在使用 Parcelable 将解析的数组列表从一个活动传递到另一个活动。我需要将这些数组列表从一个活动传递到另一个活动并将其存储在 sqlite 中。

```
public class AndroidXMLParsingActivity extends ListActivity implements Parcelable{
//private ScheduleClient scheduleClient;
public Calendar cal;
//TextView desciption1;
TextView name1;
    private GetData mGetData;
// All static variables
static final String URL = "http address";
// XML node keys
static final String KEY_ITEM = "group_header"; // parent node
static String KEY_NAME = "name";
static  String KEY_ID = "group_day";
static  String KEY_COST = "day_sun_mrg";
static String KEY_DESC = "day_sun_evn";
static final String KEY_COST1 = "day_mon_mrg";
static final String KEY_DESC1 = "day_mon_evn";
static final String KEY_COST2 = "day_tue_mrg";
static final String KEY_DESC2 = "day_tue_evn";
static final String KEY_COST3 = "day_wed_mrg";
static final String KEY_DESC3 = "day_wed_evn";
static final String KEY_COST4 = "day_thu_mrg";
static final String KEY_DESC4 = "day_thu_evn";
static final String KEY_COST5 = "day_fri_mrg";
static final String KEY_DESC5 = "day_fri_evn";
static final String KEY_COST6 = "day_sat_mrg";
static final String KEY_DESC6 = "day_sat_evn";

ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>();

// creating new HashMap
HashMap<String, String> map = new HashMap<String, String>();

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    XMLParser parser = new XMLParser();
    String xml = parser.getXmlFromUrl(URL); // getting XML
    Document doc = parser.getDomElement(xml); // getting DOM element

    NodeList nl = doc.getElementsByTagName(KEY_ITEM);
    // looping through all item nodes <item>
    for (int i = 0; i < nl.getLength(); i++) {

        Element e = (Element) nl.item(i);
        // adding each child node to HashMap key => value
        map.put(KEY_ID, parser.getValue(e,   KEY_ID));
        map.put(KEY_NAME, parser.getValue(e, KEY_NAME));
        map.put(KEY_COST,parser.getValue(e,  KEY_COST));
        map.put(KEY_DESC, parser.getValue(e, KEY_DESC));
        map.put(KEY_COST1,parser.getValue(e, KEY_COST1));
        map.put(KEY_DESC1, parser.getValue(e,KEY_DESC1));
        map.put(KEY_COST2,parser.getValue(e, KEY_COST2));
        map.put(KEY_DESC2, parser.getValue(e,KEY_DESC2));
        map.put(KEY_COST3,parser.getValue(e, KEY_COST3));
        map.put(KEY_DESC3, parser.getValue(e,KEY_DESC3));
        map.put(KEY_COST4,parser.getValue(e, KEY_COST4));
        map.put(KEY_DESC4, parser.getValue(e,KEY_DESC4));
        map.put(KEY_COST5,parser.getValue(e, KEY_COST5));
        map.put(KEY_DESC5, parser.getValue(e,KEY_DESC5));
        map.put(KEY_COST6,parser.getValue(e, KEY_COST6));
        map.put(KEY_DESC6, parser.getValue(e,KEY_DESC6));

        // adding HashList to ArrayList
        menuItems.add(map);

        //Passing Data to Store Page
        mGetData.addLoad(menuItems);
        //putStringArrayListExtra(menuItems, ArrayList<String> menuItems);

}
    // Adding menuItems to ListView
    ListAdapter adapter = new SimpleAdapter(this, menuItems,
            R.layout.list_item,
            new String[] { KEY_NAME, KEY_DESC, KEY_COST }, new int[] {
            R.id.name, R.id.desciption, R.id.cost});

    setListAdapter(adapter);

    // selecting single ListView item
    ListView lv = getListView();

    lv.setOnItemClickListener(new OnItemClickListener() {

        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {
            // getting values from selected ListItem
            String name = ((TextView) view.findViewById(R.id.name)).getText().toString();
            String cost = ((TextView) view.findViewById(R.id.cost)).getText().toString();
            String description = ((TextView) view.findViewById(R.id.desciption)).getText().toString();

            // Starting new intent
            Intent in = new Intent(getApplicationContext(), SingleMenuItemActivity.class);
            in.putExtra(KEY_NAME, name);
            in.putExtra(KEY_COST, cost);
            in.putExtra(KEY_DESC, description);

            startActivity(in);

        }

    });
}

public int describeContents() {
    // TODO Auto-generated method stub
    return 0;
}

public void writeToParcel(Parcel dest, int flags) {
    // TODO Auto-generated method stub
    dest.writeString(KEY_NAME);
    dest.writeString(KEY_COST);
    dest.writeString(KEY_DESC);
}

public AndroidXMLParsingActivity(Parcel source){
    KEY_NAME=source.readString();
    KEY_COST=source.readString();
    KEY_DESC=source.readString();
    source.readArrayList(getClassLoader());
} 
```

我的sqlite代码如下[WORKS]

```
public class DBAdapter {

// Contacts Table Columns names
public static final String KEY_ROWID = "_id";
private static final String KEY_NAME = "group_id";
private static final String KEY_SUNM = "sunm";
private static final String KEY_SUNE = "sune";
private static final String KEY_MONM = "monm";
private static final String KEY_MONE = "mone";
private static final String KEY_TUEM = "tuem";
private static final String KEY_TUEE = "tuee";
private static final String KEY_WEDM = "wedm";
private static final String KEY_WEDE = "wede";
private static final String KEY_THUM = "thum";
private static final String KEY_THUE = "thue";
private static final String KEY_FRIM = "frim";
private static final String KEY_FRIE = "frie";
private static final String KEY_SATM = "satm";
private static final String KEY_SATE = "sate";

AsyncTask sch;

// Database Name
private static final String DATABASE_NAME = "DB_NAME";

// Contacts table name
private static final String DATABASE_TABLE= "TABLE_NAME";

// Database Version
 private static final int DATABASE_VERSION = 1;

 // Creating Tables
 private static final String DATABASE_CREATE ="create table if not exists TABLE_NAME (_id integer primary key autoincrement,group_id text,sunm text ,sune text ,monm text,mone text ,tuem text,tuee text,wedm text ,wede text ,thum text,thue text ,frim text ,frie text ,satm text,sate text )";

 private final Context context;

 private DatabaseHelper DBHelper;

 private static SQLiteDatabase db;

 public DBAdapter(Context ctx)
 {
      this.context = ctx;
      DBHelper = new DatabaseHelper(context);
 }

 private static class DatabaseHelper extends SQLiteOpenHelper 
 {
     private static final String TAG = null;

    DatabaseHelper(Context context) 
     {
         super(context, DATABASE_NAME, null, DATABASE_VERSION);
     }

     @Override
     public void onCreate(SQLiteDatabase db) 
     {
         db.execSQL(DATABASE_CREATE);  
     }

     @Override
     public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) 
     {
         Log.e(TAG, "Upgrading database from version " + oldVersion + " to "
                 + newVersion + ", which will destroy all old data");

         db.execSQL("DROP TABLE IF EXISTS schedules");
         onCreate(db);
     }
 }    

 //---opens the database---
 public DBAdapter open() throws SQLException 
 {
     db = DBHelper.getWritableDatabase();
     return this;
 }

 //---closes the database---    
 public void close() 
 {
     DBHelper.close();
 }

 //Inserting data into the table 
public void insertData(String group_id, String sunm, String sune, String monm, String mone, String tuem, String tuee, 
        String wedm, String wede, String thum, String thue, String frim, String frie, String satm, String sate) {
    try{
        Cursor cur = db.rawQuery("SELECT COUNT(*) FROM schedules", null);
     if (cur!=null && cur.getCount() > 0){
         cur.moveToFirst();
         if (cur.getInt(0) <= 6) {//put in these statements contained in array
             Log.i("DB getCount", " getcount less than 0, should read array");//log message

             String insertQuery ="INSERT INTO schedules(group_id,sunm,sune,monm,mone,tuem,tuee,wedm,wede,thum,thue,frim,frie," +
                    "satm,sate)"+ "VALUES" + "("+"'"+group_id+"'"+","+"'"+sunm+"'"+","+"'"+sune+"'"+","+"'"+monm+"'"+"," +
                    ""+"'"+mone+"'"+","+"'"+tuem+"'"+","+"'"+tuee+"'"+","+"'"+wedm+"'"+","+"'"+wede+"'"+","+"'"+thum+"'"+"," +
                            ""+"'"+thue+"'"+","+"'"+frim+"'"+","+"'"+frie+"'"+","+"'"+satm+"'"+","+"'"+sate+"'"+")";
             db.execSQL(insertQuery);

             Log.e("a", ""+cur.getCount());
         }
     }
     else{
           //do nothing everything's as it should be
         Log.i("DB getCount", " getcount greater than 0");  //log message  
     }
     cur.close();
    db.close();

     }
    catch(SQLiteException e){System.err.println("Exception @ rawQuery: " + e.getMessage());}
}

  //---retrieves all the title--- 
 public Cursor getAllTitles() 
 {
     return db.query(DATABASE_TABLE, new String[] {KEY_ROWID,KEY_NAME,KEY_SUNM,KEY_SUNE,KEY_MONM,KEY_MONE,KEY_MONM,KEY_TUEM,
     KEY_TUEE,KEY_WEDM,KEY_WEDE,KEY_THUM,KEY_THUE,KEY_FRIM,KEY_FRIE,KEY_SATM,KEY_SATE}, null, null, null, null, null, null);         
 }

 //---retrieves a particular title---
public ScheduleItem getSelectedItem(String group){

 ScheduleItem schedule = new ScheduleItem();

    // Select All Query
    String searchQuery = "select * from schedules where group_id = '"+group+"'";
    Log.e("DBAdapter", group);
        try{
            //Database not open error
             Cursor cur = db.rawQuery(searchQuery, null);

         if (cur!=null && cur.getCount() > 0){
          cur.moveToFirst();
        //Setting DB value to model scheduleitem.java
          schedule.setName(cur.getString(cur.getColumnIndex("group_id")));
          schedule.setSunm(cur.getString(cur.getColumnIndex("sunm")));
          schedule.setSune(cur.getString(cur.getColumnIndex("sune")));
          schedule.setMonm(cur.getString(cur.getColumnIndex("monm")));
          schedule.setMone(cur.getString(cur.getColumnIndex("mone")));
          schedule.setTuem(cur.getString(cur.getColumnIndex("tuem")));
          schedule.setTuee(cur.getString(cur.getColumnIndex("tuee")));
          schedule.setWedm(cur.getString(cur.getColumnIndex("wedm")));
          schedule.setWede(cur.getString(cur.getColumnIndex("wede")));
          schedule.setThum(cur.getString(cur.getColumnIndex("thum")));
          schedule.setThue(cur.getString(cur.getColumnIndex("thue")));
          schedule.setFrim(cur.getString(cur.getColumnIndex("frim")));
          schedule.setFrie(cur.getString(cur.getColumnIndex("frie")));
          schedule.setSatm(cur.getString(cur.getColumnIndex("satm")));
          schedule.setSate(cur.getString(cur.getColumnIndex("sate")));
          }

         cur.close();
         db.close();
         return schedule;

         }catch(SQLiteException e){System.err.println("Exception @ rawQuery: " + e.getMessage());}
      return schedule;
     }

    public void scheduleupdate(){

        Log.e(DATABASE_NAME, "Data Removed");
        //String delQuery="DELETE FROM TABLE schedules";
        context.deleteDatabase(DATABASE_NAME);
        //db.execSQL(delQuery);
        db.close();

    }
} 
```

帮帮我Logcat错误

```
09-18 13:11:03.362: E/AndroidRuntime(471): FATAL EXCEPTION: main
09-18 13:11:03.362: E/AndroidRuntime(471): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.mokshya.multinodeparse/com.mokshya.multinodeparse.parse.AndroidXMLParsingActivity}: java.lang.InstantiationException: 
09-18 13:11:03.362: E/AndroidRuntime(471):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2585)
09-18 13:11:03.362: E/AndroidRuntime(471):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
09-18 13:11:03.362: E/AndroidRuntime(471):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
09-18 13:11:03.362: E/AndroidRuntime(471):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
09-18 13:11:03.362: E/AndroidRuntime(471):  at android.os.Handler.dispatchMessage(Handler.java:99)
09-18 13:11:03.362: E/AndroidRuntime(471):  at android.os.Looper.loop(Looper.java:123)
09-18 13:11:03.362: E/AndroidRuntime(471):  at android.app.ActivityThread.main(ActivityThread.java:4627)
09-18 13:11:03.362: E/AndroidRuntime(471):  at java.lang.reflect.Method.invokeNative(Native Method)
09-18 13:11:03.362: E/AndroidRuntime(471):  at java.lang.reflect.Method.invoke(Method.java:521)
09-18 13:11:03.362: E/AndroidRuntime(471):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
09-18 13:11:03.362: E/AndroidRuntime(471):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
09-18 13:11:03.362: E/AndroidRuntime(471):  at dalvik.system.NativeStart.main(Native Method)
09-18 13:11:03.362: E/AndroidRuntime(471): Caused by: java.lang.InstantiationException: com.mokshya.multinodeparse.parse.AndroidXMLParsingActivity
09-18 13:11:03.362: E/AndroidRuntime(471):  at java.lang.Class.newInstanceImpl(Native Method)
 09-18 13:11:03.362: E/AndroidRuntime(471):     at java.lang.Class.newInstance(Class.java:1429)
09-18 13:11:03.362: E/AndroidRuntime(471):  at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
09-18 13:11:03.362: E/AndroidRuntime(471):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2577)
09-18 13:11:03.362: E/AndroidRuntime(471):  ... 11 more
com.mokshya.multinodeparse.parse.AndroidXMLParsingActivity 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:40:15.617

我认为您尚未在 AndroidManifest.xml 中注册您的活动

请在您的 AndroidManifest.xml 中注册您的活动。

每当您创建新活动时，您必须在 AndroidManifest.xml 中注册该活动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T07:45:43.337

您正在为`AndroidXMLParsingActivity`.

我不认为你应该重写构造函数。也不要让你的活动`Serializable`。创建一个自定义 Serializable 类，其中包含要传递的数据的字段。然后通过这个课程，而不是你的活动

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T04:19:35.887

我认为这可能会帮助一些新手解决问题，所以我发布了我的答案。在这里，我已经解析了值并使用 AsyncTask 直接将其从同一函数传递给 sqlite。代码如下：

```
public class LoadScheduleAsyncTask extends AsyncTask<String, String, String> {

DBAdapter dba;

Boolean isInternetPresent = false;

// Connection Detector Class
ConnectionDetector cd;

private ProgressDialog pDialog;

// Alert Dialog Manager
AlertDialogManager alert = new AlertDialogManager();

// XML Parsing URL
static final String URL = "url address";

// XML node keys
static final String KEY_ITEM = "group_header"; // Parent Node
static final String KEY_ROWID = "_id";
static final String KEY_NAME = "name";
static final String KEY_SUNM = "day_sun_mrg";
static final String KEY_SUNE = "day_sun_evn";
static final String KEY_MONM = "day_mon_mrg";
static final String KEY_MONE = "day_mon_evn";
static final String KEY_TUEM = "day_tue_mrg";
static final String KEY_TUEE = "day_tue_evn";
static final String KEY_WEDM = "day_wed_mrg";
static final String KEY_WEDE = "day_wed_evn";
static final String KEY_THUM = "day_thu_mrg";
static final String KEY_THUE = "day_thu_evn";
static final String KEY_FRIM = "day_fri_mrg";
static final String KEY_FRIE = "day_fri_evn";
static final String KEY_SATM = "day_sat_mrg";
static final String KEY_SATE = "day_sat_evn";

public static ArrayList<HashMap<String, String>> menuItems = new ArrayList<HashMap<String, String>>();

// Creating new HashMap
HashMap<String, String> map = new HashMap<String, String>();
Context context;

public LoadScheduleAsyncTask(Context ctxt){
    dba=new DBAdapter(ctxt);
    context=ctxt;
}

/**
 * Before starting background thread Show Progress Dialog
 **/
@SuppressLint("NewApi")
@Override
protected void onPreExecute() {
    super.onPreExecute();
    pDialog = new ProgressDialog(context);
    pDialog.setMessage("Updating Data ...");
    pDialog.setIndeterminate(false);
    pDialog.setCancelable(false);
    pDialog.show();
}

/**
 * getting Schedule XML
 **/
protected String doInBackground(String... args) {
    XMLParser parser = new XMLParser();
    String xml = parser.getXmlFromUrl(URL); // getting XML
    Document doc = parser.getDomElement(xml); // getting DOM element
    NodeList nl = doc.getElementsByTagName(KEY_ITEM);
    // looping through all item nodes <item>
    for (int i = 0; i < nl.getLength(); i++) {
        Element e = (Element) nl.item(i);
        // adding each child node to HashMap key => value
        map.put(KEY_NAME, parser.getValue(e, KEY_NAME));
        map.put(KEY_SUNM, parser.getValue(e, KEY_SUNM));
        map.put(KEY_SUNE, parser.getValue(e, KEY_SUNE));
        map.put(KEY_MONM, parser.getValue(e, KEY_MONM));
        map.put(KEY_MONE, parser.getValue(e, KEY_MONE));
        map.put(KEY_TUEM, parser.getValue(e, KEY_TUEM));
        map.put(KEY_TUEE, parser.getValue(e, KEY_TUEE));
        map.put(KEY_WEDM, parser.getValue(e, KEY_WEDM));
        map.put(KEY_WEDE, parser.getValue(e, KEY_WEDE));
        map.put(KEY_THUM, parser.getValue(e, KEY_THUM));
        map.put(KEY_THUE, parser.getValue(e, KEY_THUE));
        map.put(KEY_FRIM, parser.getValue(e, KEY_FRIM));
        map.put(KEY_FRIE, parser.getValue(e, KEY_FRIE));
        map.put(KEY_SATM, parser.getValue(e, KEY_SATM));
        map.put(KEY_SATE, parser.getValue(e, KEY_SATE));
        // adding HashList to ArrayList
        menuItems.add(map);

        /**
         * Updating parsed JSON data into ListView
         **/
        String group_id = map.get(KEY_NAME);
        String sunm = map.get(KEY_SUNM);
        String sune = map.get(KEY_SUNE);
        String monm = map.get(KEY_MONM);
        String mone = map.get(KEY_MONE);
        String tuem = map.get(KEY_TUEM);
        String tuee = map.get(KEY_TUEE);
        String wedm = map.get(KEY_WEDM);
        String wede = map.get(KEY_WEDE);
        String thum = map.get(KEY_THUM);
        String thue = map.get(KEY_THUE);
        String frim = map.get(KEY_FRIM);
        String frie = map.get(KEY_FRIE);
        String satm = map.get(KEY_SATM);
        String sate = map.get(KEY_SATE);

        try {
            dba.open();
        } catch (SQLException e1) {
            // TODO Auto-generated catch block
            e1.printStackTrace();
        }
        dba.insertData(group_id, sunm, sune, monm, mone, tuem, tuee, wedm,
                wede, thum, thue, frim, frie, satm, sate);
        dba.close();
    }
    return null;
}

/**
 * After completing background task Dismiss the progress dialog
 **/
protected void onPostExecute(String file_url) {
    // dismiss the dialog after getting all schedules
    pDialog.dismiss();

}
} 
```

这个答案基于与我的问题不同的方法。

# sql - 当一个是 CLUSTERED 而另一个是 NON-CLUSTERED 时，通过 PK Columns 连接表......坏主意？

> ID：12472048
> 
> 赞同：0
> 
> 时间：2012-09-18T07:10:50.527
> 
> 标签：sql, tsql, indexing, inner-join, clustered-index

它是否可以通过列对`INNER JOIN`两个表产生负面的性能影响，而一个表的列上有索引，而另一个表的列上有索引？`PrimaryKey``CLUSTERED``PrimaryKey``NON-CLUSTERED``PrimaryKey`

# android - ListPreference与动态壁纸android中的图像（ImageListPreference）

> ID：12472049
> 
> 赞同：0
> 
> 时间：2012-09-18T07:10:54.070
> 
> 标签：android

谁能给我一个 ListPreference 的例子，上面有我用谷歌搜索过的图像，但找不到我通过搜索仅使用 listview 成功完成但如何放置图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:14:55.383

快速谷歌搜索结果：

#1 [http://www.cmwmobile.com/index.php?option=com_content&view=article&id=4&Itemid=12](http://www.cmwmobile.com/index.php?option=com_content&view=article&id=4&Itemid=12)

#2[如何在 Preference 中添加图标](https://stackoverflow.com/questions/5765186/how-to-add-icons-to-preference)[推荐]

# ruby - Ruby 中的运算符是否只属于一个特定的类？

> ID：12472053
> 
> 赞同：0
> 
> 时间：2012-09-18T07:11:15.440
> 
> 标签：ruby

Ruby 中的运算符是否属于特定的类？据我所知，运算符是由类根据它们要执行的操作重新定义的标记。例如，Numeric 类为数字运算定义了 + 运算符，类似地，String 类为字符串连接定义了它。因此，基于此，如果我尝试这样做：

```
 +.is_a ? (Numeric) 
```

它返回假。我对这个问题的解释正确吗？

抱歉，这是我作业中的实际问题。+ 属于哪个类，您如何检查它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T10:24:03.287

大多数其他编程语言中的运算符只是 Ruby 中的一种方法。

`+`是一种方法而不是运算符。你可以参考它：

```
1.method(:+)
#=> #<Method: Fixnum#+>

"".method(:+)
#=> #<Method: String#+> 
```

`Fixnum`并且`String`是许多实现`+`方法的类之一。您可以定义自己的类似运算符的方法：

```
class MyClass
  attr_accessor :number, :string

  def +(other)
    self.number += other.number
    self.string += other.string
    self
  end
end 
```

Ruby 中真正的运算符示例，您不能使用其中一些“名称”定义自己的方法：

*   赋值运算符：`=`
*   动作和赋值：`+=`, `-=`, `*=`, `/=`, `%=`,`**=`
*   位运算符：`&`, `|`, `^`, `~`, `<<`,`>>`
*   逻辑运算符：`and`, `or`, `&&`, `||`, `!`,`not`
*   三元运算符：`? :`
*   范围运算符：`..`,`...`
*   点和双冒号：`.`,`::`

还有一个特殊的运算符`defined?`。它实际上看起来像一个方法，但它是一个运算符。不过，您可以定义自己的`defined?`方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:52:43.820

不，它不属于特定类，因为任何类都可以有自己的`+`方法。您尝试做的只是检查`+`程序类的运算符。要在 Ruby 中看到一切都是一个类，只需运行这个脚本

```
#!/usr/bin/ruby

puts self.inspect 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T07:53:43.760

您所说的“属于班级”的含义非常令人困惑。从您的代码片段看来，您的意思是“类实例”。

如果这就是你的意思，那么答案是：这个问题没有意义。运算符不是对象。因此它们不可能是类的实例。

# python - 无法在 Python 中从 Appkit 导入 NSWorkspace

> ID：12472055
> 
> 赞同：2
> 
> 时间：2012-09-18T07:11:33.497
> 
> 标签：python

我正在尝试在 Mac 10.7.4 上的 Python2.7 中从 Appkit 导入 NSWorkspace。我在 Eclipse 中检查了 pynopath，它有 pyObjc、pip 包、站点包路径，但也无法导入 NSWorkspace，即使我可以导入 Appkit。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T21:18:17.820

以下不适用于您？

`from AppKit import NSWorkspace`

`AppKit``NSWorkspace`除非您使用非标准`AppKit`模块，否则应该包含

# sql - 如何比较同一张表中的记录并找到丢失的记录

> ID：12472057
> 
> 赞同：2
> 
> 时间：2012-09-18T07:11:36.100
> 
> 标签：sql, sql-server, unique

这是我的表格的简化版本

```
Name      Vlan
Switch 1    1
Switch 1    2
Switch 1    3
Switch 2    1
Switch 2    2 
```

我想将属于交换机 1 的所有 vlan 与属于交换机 2 的所有 vlan 进行比较，并使用 SQL 查询打印出其中一个交换机中缺少的那些。有可能这样做吗？请注意，所有数据都位于同一个表中。

在上面提供的示例数据中，查询应返回第 3 行

```
Switch 1,  3 
```

这是我之前尝试过的查询（我的要求比我的查询中的简化版本多一些条件）：

```
Select Vlans.VLANID From VLANS
 JOIN Nodes ON 
VLANS.NodeId = Nodes.NodeID
Where Nodes.sysName LIKE 'SSW010%' and Vlans.VlanID NOT In
(Select Vlans.VLANID AS Vlan2 From VLANS
 JOIN Nodes ON 
VLANS.NodeId = Nodes.NodeID
Where Nodes.sysName LIKE 'SSW001%') 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T07:29:21.017

使用 MS SQL 服务器。**[在SQL Fiddle](http://sqlfiddle.com/#!3/7eeb4/1)**上检查此工作代码

```
SELECT T1.Name, T1.Vlan
  FROM yourTable T1
 WHERE NOT EXISTS (SELECT 1 
                     FROM yourTable T2
                    WHERE T2.Vlan = T1.Vlan
                      AND T2.Name <> T1.Name) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T07:23:06.867

这会给你你所追求的。它不对数据做任何假设，并且会给出所有缺失的记录。如果您想将其限制为“Switch 1”，请将其添加到 WHERE 子句中。

```
SELECT
  t1.Name,
  t1.Vlan
FROM t t1
WHERE NOT EXISTS (SELECT 1 
                    FROM t t2
                   WHERE t2.Name <> t1.Name
                     AND t2.Vlan = t1.Vlan)

CREATE TABLE t 
(
  Name VARCHAR(10),
  Vlan INT
)

INSERT INTO t VALUES('Switch 1',1)   
INSERT INTO t VALUES('Switch 1', 2)
INSERT INTO t VALUES('Switch 1', 3)
INSERT INTO t VALUES('Switch 2', 1)
INSERT INTO t VALUES('Switch 2', 2) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T07:18:07.597

这应该有效。

```
select 
  t1.Name
  ,t1.Vlan
from table t1
left join table t2 
  on t1.Vlan = t2.Vlan 
 and t1.Name='Switch 1' 
 and t2.Name = 'Switch 2'
where  t2.Name is null
union
select 
  t1.Name
  ,t1.Vlan
from table t1
left join table t2 
  on t1.Vlan = t2.Vlan 
 and t1.Name='Switch 2' 
 and t2.Name = 'Switch 1'
where  t2.Name is null 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-18T07:49:04.127

```
SELECT * 
FROM yourTable 
WHERE [Name] = 'Switch1'
AND [Vlan] NOT IN(SELECT [Vlan] FROM yourTable WHERE [Name] = 'Switch2')

Name    Vlan
Switch1 3 
```

# c# - SQLDatasource 中的静态 WHERE 子句

> ID：12472061
> 
> 赞同：1
> 
> 时间：2012-09-18T07:11:59.813
> 
> 标签：c#, sql, sql-server, sqldatasource

我需要根据要在运行时传递的 Businessunit 值执行查询。如果businessunit 为null，则不应执行AND 条件，如果它不为null，我必须采用通过的businessunit。

// SQL 查询

```
SELECT nvrEmpCode, nvrEmpName 
FROM tblHRIMS_EmployeeDetail
WHERE (intCategoryID NOT IN (0, 1)) AND (nvrResigned = 'No') 
AND nvrBusinessunit= 
```

所有这些都必须在 SQLDatasource 中完成，而不是作为 StoredProcedure。如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:16:09.623

你的`WHERE`情况应该是这样的：

```
WHERE (intCategoryID NOT IN (0, 1)) AND (nvrResigned = 'No') 
AND (@businessunit IS NULL OR nvrBusinessunit=@businessunit) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:16:31.090

假设您使用的是 SQL 客户端：

```
SELECT nvrEmpCode, nvrEmpName 
FROM tblHRIMS_EmployeeDetail
WHERE (intCategoryID NOT IN (0, 1)) AND (nvrResigned = 'No') 
AND (nvrBusinessunit=@BU OR @BU is null) 
```

然后你必须为参数传递一个值：

```
command.Parameters.AddWithValue(@BU, yourValue) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T07:34:50.563

```
SELECT        nvrEmpCode, nvrEmpName, @Businessunit AS varchar

FROM            tblHRIMS_EmployeeDetail
WHERE        (intCategoryID NOT IN (0, 1)) AND (nvrResigned = 'No') 
AND (nvrBusinessUnit = (CASE WHEN @Businessunit = '' THEN nvrBusinessunit ELSE @Businessunit END)) 
```

# ruby-on-rails - 如何在本地开发机器上运行 Ruby 应用程序

> ID：12472062
> 
> 赞同：0
> 
> 时间：2012-09-18T07:12:04.417
> 
> 标签：ruby-on-rails, ruby, wampserver

我有一个 Ruby Web 应用程序，我想在我的本地开发机器上运行/编辑，我遵循了各种教程，包括这个：

[http://www.alexbernard.fr/fichiers/blog/Installer-Ruby-On-Rails-sur-un-Wamp-Server.pdf](http://www.alexbernard.fr/fichiers/blog/Installer-Ruby-On-Rails-sur-un-Wamp-Server.pdf)

我被困在第 5 步我不明白 Apache2 是一个新目录还是原来的 wamp Apache 目录。第 6 步我已将代码添加到我的 wamp apache 配置中的 httpd.conf，但服务器不会重新启动 - 所以我在某个地方出错了。

我真的在寻找一些关于我应该下载什么以及运行应用程序需要什么的指导。

任何帮助，将不胜感激

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:19:16.663

不要遵循该指南，使用[http://railsinstaller.org/](http://railsinstaller.org/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:17:16.197

从项目目录中输入 rails s 命令。你会得到一些错误，寻找解决方案。一旦您的服务器使用 rails s 命令运行，您就可以在浏览器地址栏中使用 localhost:3000 访问应用程序。祝你好运..

# php - 为什么 Propel 不保存这个查询，也不给出任何错误？

> ID：12472064
> 
> 赞同：3
> 
> 时间：2012-09-18T07:12:06.567
> 
> 标签：php, mysql, propel

我有一组像这样的表：

`logbook`, `responsibility`,`user`

职责被重用——但每个日志只有一项不同的职责。每个职责都有一个用户。一个用户可以有多个职责（在多个日志上）。我有一张桌子可以将它们连接在一起：

`logbook_responsibility`，三列（每列构成主键） -和`logbook_id`，它们都是外键。在我的这张表中设置了。`responsibility_id``user_id``schema.xml``isCrossRef="true"`

在向新用户更新职责时，我以、等`$_POST`的形式传入一个数组。我有一个应该更新它们的函数：`$_POST['responsibility'][2] = 5``$_POST['responsibility'][7] = 2`

```
public function updateResponsibilities($options = null)
{
  foreach ($options['responsibility'] as $k => $v) {      
    $user = UserQuery::create()
      ->filterByLogbook($this->logbook)
      ->findOneById($v);

    $logbookResponsibility = LogbookResponsibilityQuery::create()
      ->filterByLogbook($this->logbook)
      ->filterByResponsibilityId($k)
      ->findOne();

    if (is_null($user) || is_null($logbookResponsibility)) {
      break;
    }

    $logbookResponsibility->setUser($user)->save();
  }

  return true;
} 
```

在这里，我遍历选项，使用提供的 ID 创建一个新用户，按当前日志过滤以确保允许他们负责此日志，然后获取第一个。这工作正常（转储`->toArray()`：

```
array(11) {
  ["Id"]=>
  int(2)
  ["CompanyId"]=>
  int(1)
  ["CurrentLogbookId"]=>
  int(1)
  ["OtherFieldsHere..."]=>
  // etc, etc

} 
```

接下来我获取一个 LogbookResponsibility，再次按当前日志和责任 ID 进行过滤。在这个阶段，新的用户 ID 正确显示：

```
array(3) {
  ["LogbookId"]=>
  int(1)
  ["ResponsibilityId"]=>
  int(1)
  ["UserId"]=>
  int(1)
} 
```

然后我用之前抓取的用户更新这个对象，然后保存。我这样做没有错误，事后检查对象表明该对象至少已更新：

```
array(3) {
  ["LogbookId"]=>
  int(1)
  ["ResponsibilityId"]=>
  int(1)
  ["UserId"]=>
  int(2)
} 
```

但是，没有触及其他任何东西，之后查看数据库，用户 ID 仍然是 1。我测试过运行如下查询：

```
UPDATE logbook_responsibility SET user_id = 1 WHERE logbook_id = 1 AND responsibility_id = 1; 
```

...它可以正常工作。

我的*实际*问题有两个：

**1）**为什么不保存？*（这与我的交叉引用表有关吗？超过 2 列的交叉引用表有问题吗？）*

**2)**通常有*更好*的方法来实现我的设置吗？*（我尝试使用责任对象实现相同的目标，但没有看到从那里更新 logbook_responsibility 的方法）*

很高兴接受建议和实际答案！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:49:29.303

正如评论中所建议的那样，我`getLastExecutedQuery()`在运行该方法时曾经掌握实际的查询运行`save()`，这是正在运行的查询（也解释了为什么没有错误）：

```
UPDATE `logbook_responsibility` SET `USER_ID`=3 WHERE
  logbook_responsibility.LOGBOOK_ID=1 AND
  logbook_responsibility.RESPONSIBILITY_ID=1 AND
  logbook_responsibility.USER_ID=3; 
```

如您所见，更新语句在语法上是正确的，但问题似乎在于 Propel 如何更新主键 - 这让我想知道为什么我将用户 ID 列作为主键的一部分？

将用户作为主键的一部分是没有意义的，所以我删除了它，当然这让它起作用了。仍然存在*真正的*问题，***“如何更新 Propel 中的主键？”*** ，但最好留给[别人](http://blog.edlington.net/post/430457701/update-primary-key-in-propel)解释。

如果有人有更好的解释，我很乐意将其取消标记为答案。

# winforms - 在 WebBrowser 控件 C# 中与 Flash 文件通信

> ID：12472066
> 
> 赞同：0
> 
> 时间：2012-09-18T07:12:10.127
> 
> 标签：winforms, c#-4.0, flash

我正在开发一个具有 Web 浏览器控件的 Windows 应用程序。在某个链接上，Web 浏览器加载了一个`.SWF`（flash 文件），在那个 flash 中，有一个按钮，标题为“开始”，当用户单击此按钮时，一些动画开始启动.

当用户单击“开始”按钮时，我想要那个事件。我可以这样做吗？我不能将任何代码放入`.SWF`文件中。？任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:24:00.483

您必须使用外部接口。首先，我们需要导入这个新类，以便我们可以使用它（仅限 as2，在 as3 中它可以在没有导入的情况下工作）：

```
import flash.external.ExternalInterface; 
```

接下来，我们必须注册我们想要在外部使用的任何功能：

```
ExternalInterface.addCallback("addText", addText); 
```

基本上，上面的代码将允许我们从 C# 应用程序调用 addText 函数（我将在稍后展示）。addText 函数如下。基本上，它接受一个字符串输入并将其附加到一个文本框

```
function addText(val:String):void
{
      inTxt.appendText(val + "\n"); // append text recieved from c#
} 
```

从 ActionScript 方面来说就是这样。现在我们需要做的就是从 C# 中调用该函数。首先，我将 Flash Player ActiveX 控件的一个实例添加到我的表单并加载我们在表单的构造函数中创建的 SWF：

```
private AxShockwaveFlash player;

public DemoForm ()
{
      ...
      player.LoadMovie(0,Application.StartupPath + "\\EITest.swf");
      player.Play();
      ...
 } 
```

接下来，我们所要做的就是在需要时调用外部化方法。就我而言，它是对用户单击发送按钮的响应：

```
 private void sendBtn_Click(object sender, EventArgs e)
 {
     player.CallFunction("" + outTxt.Text + "");
  } 
```

# c# - 无法在 DLL 'WsmSvc.dll' 中找到名为 'WSManInitialize' 的入口点

> ID：12472069
> 
> 赞同：1
> 
> 时间：2012-09-18T07:12:33.777
> 
> 标签：c#, powershell, inner-exception

我正在使用 C# 服务在远程机器上执行 Powershell 命令并显示结果。我正在使用 C# 库 System.Management.Automation.Runspaces 在远程系统上执行命令。

在其中一台服务器上，创建运行空间时发生了 TypeInitializationException 并且服务崩溃了。

```
WSManConnectionInfo connectionInfo = new WSManConnectionInfo(new Uri("http://" + server + "/powershell"), strShellUri, cred);
connectionInfo.AuthenticationMechanism = AuthenticationMechanism.Kerberos;
runspace = RunspaceFactory.CreateRunspace(connectionInfo); 
```

即使我们在 try-catch 块中捕获了异常，服务也会崩溃。在谷歌搜索时，异常是由内部异常触发的。

> InnerException: System.EntryPointNotFoundException
> Message=无法在 DLL 'WsmSvc.dll' 中找到名为 'WSManInitialize' 的入口点。StackTrace：位于 System.Management.Automation.Remoting.Client.WSManClientSessionTransportManager 的 System.Management.Automation.Remoting.Client.WSManNativeApi.WSManInitialize（Int32 标志，IntPtr& wsManAPIHandle）。WSManAPIStaticData..ctor() 在 System.Management.Automation.Remoting.Client.WSManClientSessionTransportManager ..cctor()

我该如何解决内部异常问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:30:11.230

（`WsmSvc.dll`或其依赖项之一）在您尝试运行代码的计算机上可能已过时（或不兼容的版本）0。唯一的解决方案是安装/更新这个 dll。（假设错误信息是正确的。）

您可以尝试使用[`Dependency Walker`](http://www.dependencywalker.com/)来查看是否缺少任何依赖 dll 或检查`WsmSvc.dll`. 在出现错误的服务器上运行它。

# c# - 在间隔异步中并行运行一些函数？

> ID：12472075
> 
> 赞同：4
> 
> 时间：2012-09-18T07:13:04.830
> 
> 标签：c#, .net, timer, thread-safety

我有一个计时器，我在一段时间内调用了一些函数。现在我有这样的事情：

```
private System.Timers.Timer timer;
private int sync;

void Start()
{
  timer = new System.Timers.Timer(interval);
  timer.Elapsed += new ElapsedEventHandler(Elapsed);
  timer.Enabled = true;
}

void Elapsed(object s, ElapsedEventArgs e)
{
  if (System.Threading.Interlocked.CompareExchange(ref sync, 1, 0) == 0)
  {
    Parallel.Invoke( () => Function1(), () => Function2(), () => Function3(),
                     () => Function4() );
  }
  sync = 0;
} 
```

这还不错。我可以并行启动功能，并且一个功能不能运行 2 次以上，只能运行一次（这就是我想要的方式）。问题是：假设比`function4()`my 需要更长的时间`interval`，所以其他功能也必须等待。如果我删除`sync`那里，其他函数不会等待但另一个`function4()`调用可以在另一个线程中启动 - 我不希望一个函数运行两次。有什么建议么？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T07:58:15.537

您必须单独跟踪每个功能，以便控制可以立即启动哪些功能以及需要等待哪些功能，例如

```
private AutoResetEvent f1 = new AutoResetEvent(true);
private AutoResetEvent f2 = new AutoResetEvent(true);
...

void Elapsed(object s, ElapsedEventArgs e)
{
    ...
    Parallel.Invoke(() => { f1.WaitOne(); Function1(); f1.Set(); },
                    () => { f2.WaitOne(); Function2(); f2.Set(); }
                    ...
    ...
} 
```

这样的事情会阻止任何已经在执行的函数，并允许其他没有启动的函数。

# node.js - node.js 安装向导提前结束

> ID：12472079
> 
> 赞同：25
> 
> 时间：2012-09-18T07:13:11.463
> 
> 标签：node.js

我无法安装 node.js (0.8.9)。我是通过安装向导进行的，每次安装结束时我都会收到消息“Node.js 安装向导提前结束”。

会是什么呢？谢谢。

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2014-01-06T20:08:31.677

这可能对将来的某人有所帮助。我从安装程序收到了类似的消息，发现我可以转到命令提示符并使用命令行选项运行 MSI 以使其创建日志文件（如`node-v0.10.24-x64.msi /lxv C:\Logs\Nodejs.log`），您可以在其中选择日志的名称和位置.

在我的例子中，我们在 Active Directory 域环境中运行，我们的一些通常是本地的文件夹被重定向到网络共享，因此无论我们登录哪台计算机，它们总是在那里。主要是为了我们的“我的文档”文件夹。

在查看日志时，我发现了我得到的实际错误：

*   WixCreateInternetShortcuts：错误 0x80070005：未能保存快捷方式 '\ad.local\system\users\<myAcctName>\Start Menu\Programs\Node.js\Node.js website.url'
*   WixCreateInternetShortcuts：错误 0x80070005：未能创建 Internet 快捷方式
*   CustomAction WixCreateInternetShortcuts 返回实际错误代码 1603（请注意，如果翻译发生在沙箱内，这可能不是 100% 准确）。

## 分辨率（对我而言）

奇怪的是，只需先运行管理员升级的命令提示符，然后运行 ​​MSI 即可使其正确安装。

我*认为*不同之处在于，当您双击 MSI 并升级时，它会运行`TrustedInstaller`，而该帐户可以访问我盒子上的所有内容，但它没有网络访问权限。当我运行升级的命令提示符时，它以**me**身份运行，但已经升级（MSI 永远不需要请求升级），所以它可以工作。

## 最后注：

截至 2015 年 7 月 22 日，node.js 团队终于找到了安装程序的问题，从 0.12.8 开始，这对我们来说应该不再是问题。我为他们测试了安装程序的早期版本，以确保它对我有用，并且安装没有问题。

[https://github.com/joyent/node/issues/5849#issuecomment-123905214](https://github.com/joyent/node/issues/5849#issuecomment-123905214)

在撰写本文时，2015 年 7 月 30 日，当前版本仍然是 0.12.7，所以我猜 x.8 还没有向大众推出。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2018-05-16T07:08:05.957

Avast Antivirus 是我的罪魁祸首。禁用它允许安装成功完成。

[此答案](https://stackoverflow.com/a/50428154/17034)中提供了有关 Avast 如何将其搞砸的其他背景。

* * *

## 回答 #3

> 赞同：15
> 
> 时间：2016-07-01T14:20:32.190

在没有该`Performance counters`功能的情况下安装使安装工作。joaocgreis 对 NodeJS GitHub 问题跟踪器[的评论的](https://github.com/nodejs/node/issues/4329#issuecomment-169952550)所有功劳都*归于 joaocgreis*。

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2014-05-30T16:59:55.833

我在 Windows 7 x64 (node-v0.10.28-x64.msi) 上遇到此错误，并且能够通过在安装的自定义安装部分选择不安装“在线文档快捷方式”来安装。选择“整个功能将不可用”。

![在此处输入图像描述](../Images/684bed2959892487f0a4ee528a1cc3ec.png)

其他解决方案都不适合我，但我确实以管理员身份安装并记录了输出。日志没有帮助（报告了一个致命错误，仅此而已）。

信用到期 - 我在这里找到了答案： [https ://github.com/joyent/node/issues/4516](https://github.com/joyent/node/issues/4516)

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2015-06-03T09:46:18.723

我遇到了同样的问题，我使用日志记录选项从管理员命令提示符运行 msi：

```
node-v0.12.4-x64.msi /lxv C:\Nodejs.log 
```

检查日志显示以下错误：

> 产品：Node.js -- 错误 1714。无法删除旧版本的 Node.js。请联系您的技术支持小组。系统错误 1612。

虽然 Node.js 没有在 Program and Features 下列出，所以我在以下站点运行了**Program Install and Uninstall 疑难解答工具**（选择*Run now ）：*

[https://support.microsoft.com/en-us/mats/program_install_and_uninstall](https://support.microsoft.com/en-us/mats/program_install_and_uninstall)

逐步完成向导，选择“卸载问题”选项。然后该工具将“Node.js”列为已安装程序。选择 Node.js 并完成向导成功删除了 Node.js。

然后我从管理员命令提示符再次运行 msi，节点安装成功。

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2016-11-11T22:10:51.450

我对节点 7.1.0-x64 Windows 7 64 位有同样的问题。

我发现有

`HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Perflib\_V2Providers\{1e2e15d7-3760-470e-8699-b9db5248edd5}`

在我电脑上的注册表中。删除此条目后，节点安装顺利通过。

该[视频](https://www.youtube.com/watch?v=kxjpLn-Lcps)显示了要遵循的所有步骤。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2017-07-13T12:59:55.883

我在window7中多次尝试安装node-v8.1.4-x64.msi，终于成功了。请按照以下步骤：--

> 第 1 步：- 转到运行并键入“regedt32.exe”。
> 
> 第 2 步：- HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Perflib
> 
> 第 3 步：- 删除它（可能是某些文件未删除但所有文件夹 s/b 删除）
> 
> 第 4 步：- 重新安装（双击 .msi 文件）
> 
> 第5步：-希望这会安装。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2012-09-24T14:43:47.840

我没有弄清楚问题出在哪里，我只是复制了已安装的版本并使用 node.js 的路径更新了系统变量 PATH，它运行良好。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2015-02-12T17:38:07.397

我也遇到过，原来是 Windows 事件日志服务的问题。首先检查 Windows 事件日志服务是否打开。如果未启动，则修复它，在安全模式下重命名或删除 C:\Windows\System32\LogFiles\WMI\RtBackup 文件夹。

希望能帮助到你

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2015-01-01T17:27:18.510

我无法以常规方式安装它，但我最终使用[Chocolatey](https://chocolatey.org/)（考虑到 Windows 构建的机器包管理器）和[nodejs package](https://chocolatey.org/packages/nodejs)成功安装了它。

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2019-01-26T21:51:02.670

我遇到了类似的问题，结果发现 Nodejs 目录中的一个文件已损坏，通过转到文件夹“程序文件”并给文件夹“nodejs”一个新名称，我能够正确地重新安装它。

我可能会补充一点，我无法删除 Nodejs 文件夹，因为该文件夹中有一个损坏的文件。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2015-02-20T07:58:20.467

使用管理权限运行命令提示符，然后运行 ​​msi 对我有用。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2016-04-05T23:03:02.363

我看到了同样的错误，因为我试图将 x86.msi 安装到 64 位 Win7。然后我改成了正确的 x64.msi。它仍然不起作用。我想这可能是权限问题，所以我将 .msi 复制到 C:\Program Files，然后从那里安装，它成功了。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2018-06-17T18:02:34.257

我也多次（2）次遇到这个问题。最后我禁用了**AVAST ANTIVIRUS**程序并尝试再次安装 Node.js。

有效。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2020-04-05T10:15:43.430

对于使用**Windows 10的***版本：12.16.1* ，我厌倦了许多不同的方式，但没有奏效。所以我做了以下方法来让它工作。

 **1.  [安装最新版本](https://nodejs.org/en/download/)
2.  将安装文件保留在 /downloads 文件夹中
3.  打开cmd（以管理员身份运行）
4.  使用此命令运行 node.js msi 文件 -> msiexec /a "../download/node-v12.16.1-x64.msi"
5.  安装它没有任何问题

安装后打开cmd

**类型>节点-v**

**v12.16.1**

* * *

## 回答 #16

> 赞同：-1
> 
> 时间：2019-02-17T18:20:48.313

大多数情况下，这个问题是由于我们安装了**防病毒程序而出现的。**首先使用防病毒程序扫描安装文件以确保它是无病毒文件，然后停止防病毒程序几分钟并尝试安装nodeJS。**

# android - 表格布局问题

> ID：12472082
> 
> 赞同：0
> 
> 时间：2012-09-18T07:13:19.237
> 
> 标签：android

我有这个表格布局，前两行有 2 行，第三行有一行（customerAddress），我想右对齐并占用所有空间。我怎样才能做到这一点。我试过`gravity = right`但没有运气。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<TableLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:stretchColumns="*" >

    <TableRow>

        <TextView
            style="@style/CustomerLabelTextView"
            android:gravity="right"
            android:text="@string/customerCode" />

        <TextView
            style="@style/CustomerLabelTextView"
            android:gravity="right"
            android:text="@string/customerName" />
    </TableRow>
    <TableRow>

       <TextView
            android:id="@+id/customerCode"
            style="@style/CustomerTextView"
            android:gravity="right" />

        <TextView
            android:id="@+id/customerName"
            style="@style/CustomerTextView"
            android:gravity="right" />
    </TableRow>

    <TableRow>

        <TextView
            style="@style/CustomerLabelTextView"
            android:gravity="right"
            android:text="@string/customerAddress" />
    </TableRow>
     <TableRow>

        <TextView
            android:id="@+id/customerAddress"
            style="@style/CustomerTextView"
            android:gravity="right" />
    </TableRow>

    <TableRow>

        <TextView
            style="@style/CustomerLabelTextView"
            android:gravity="right"
            android:text="@string/OrganizationName" />

        <TextView
            style="@style/CustomerLabelTextView"
            android:gravity="right"
            android:text="@string/POBox" />
    </TableRow>

    <TableRow>

        <TextView
            style="@style/CustomerLabelTextView"
            android:gravity="right"
            android:text="@string/phone" />

        <TextView
            style="@style/CustomerLabelTextView"
            android:gravity="right"
            android:text="@string/fax" />
    </TableRow>
</TableLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T09:26:51.507

好的，让它工作。对于那些可能偶然发现这个问题的人，我在下面添加了代码

```
 <TableRow
        android:gravity="right" >

        <TextView
            android:id="@+id/customerAddress"
            style="@style/CustomerTextView"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:layout_weight="1.0"
            android:gravity="right" />

    </TableRow> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T07:22:10.023

尝试将 android:layout_span="2" 添加到该 TableRow。

```
<TableRow
    android:layout_span="2"
>
    <TextView
        style="@style/CustomerLabelTextView"
        android:gravity="right"
        android:text="@string/customerAddress"
    />
</TableRow> 
```

[http://developer.android.com/reference/android/widget/TableRow.LayoutParams.html#attr_android:layout_span](http://developer.android.com/reference/android/widget/TableRow.LayoutParams.html#attr_android:layout_span)

# apache-flex - 加载的 Flex SWF 与 Flash 组件重叠

> ID：12472085
> 
> 赞同：0
> 
> 时间：2012-09-18T07:13:56.893
> 
> 标签：apache-flex, flash, loader, stage

我正在处理一个 Flash 项目，但需要 Flex 的一些功能。因此，我创建了一个 Flex 应用程序并构建它以获取 .swf 文件。

在 Flash 项目中，我使用“Loader”类来加载由 Flex Builder 创建的 .swf 文件。此 .swf 文件已加载并很好地显示在舞台上，但是，它与舞台上的所有其他 Flash 组件重叠。重叠的方向是向右和向下。

flex mxml 文件（component.mxml）：

```
<s:Application xmlns:...
width="160" height="120">
...
</s:Application> 
```

使用“Loader”类加载到闪存：

```
var loader:Loader = new Loader();
loader.load(new URLRequest("component.swf"));
loader.x = COMPONENT_POS_X; //constant
loader.y = COMPONENT_POS_Y; //constant
stage.addChild(loader); 
```

当我尝试为“加载器”设置宽度时，整个 flex 组件消失了。这是怎么回事？

![在此处输入图像描述](../Images/36fcb689d70cf32c4441f6d93bd3e35c.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T10:14:06.490

解决方案：为加载的 swf 添加一个掩码。

来源：[http ://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Loader.html#methodSummary](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Loader.html#methodSummary)

从不受信任的源（例如不是 Loader 对象的根 SWF 文件的域）加载 SWF 文件时，您可能希望为 Loader 对象定义一个掩码，以防止加载的内容（它是Loader 对象）从绘图到该遮罩之外的舞台部分，如以下代码所示：

```
import flash.display.*;
import flash.net.URLRequest;
var rect:Shape = new Shape();
rect.graphics.beginFill(0xFFFFFF);
rect.graphics.drawRect(0, 0, 100, 100);
rect.graphics.endFill();
addChild(rect);
var ldr:Loader = new Loader();
ldr.mask = rect;
var url:String = "http://www.unknown.example.com/content.swf";
var urlReq:URLRequest = new URLRequest(url);
ldr.load(urlReq);
addChild(ldr); 
```

# asp.net-mvc - Telerik 网格未显示正确的日期

> ID：12472088
> 
> 赞同：1
> 
> 时间：2012-09-18T07:14:07.023
> 
> 标签：asp.net-mvc, telerik-grid

我从过去 1 年开始为 Asp.Net MVC 使用 Telerik 扩展。

早些时候，我注意到服务器上的日期和 Sql Server 中的日期与 Telerik 列中呈现的日期之间存在一些重大差异。附件是显示日期差异的屏幕截图。

你能建议任何集中的解决方案来克服这个问题吗，因为到目前为止，更多的地方都有网格，这个问题让我很头疼。

经过一番谷歌搜索后，我发现浏览器通常会在用 javascript 呈现日期之前添加浏览器时区的一些时间偏移量，所以我的简单解决方案是从我得到的日期中减去浏览器时区偏移量。

所以我添加了一个 javascript 函数来处理这个问题，但该解决方案仍然适用于一个时区，但对于其他时区，它显示出更多的差异。

我的服务器位于中央时区，而用户都位于美国的其他时区。

任何人都可以建议我解决这个问题吗？

这是我的javascript函数

```
function parseToServerTimezone(date) {
        if (date != null) {
            var clientOffset = new Date().getTimezoneOffset();
            var newDate = new Date(date);
            newDate.setMinutes(date.getMinutes() - clientOffset);
            return $.telerik.formatString("{0:g}", date);
        }
        return date;
    } 
```

这是它在网格中的使用方式，我所有的网格都是 ajax 绑定在这里

```
column.Bound(m => m.CapCycleStartDate).Title(Html.Resource("CapCycleStartDate")).ClientTemplate("<#= parseToServerTimezone(CapCycleStartDate) #>").Width(18).HtmlAttributes(new { align = "center" }); 
```

谢谢。

# ios - IOS Open Ears 无法启动

> ID：12472089
> 
> 赞同：0
> 
> 时间：2012-09-18T07:14:10.937
> 
> 标签：ios, openears

我正在尝试为我的应用程序创建简单的帮助程序类，它将加载打开的耳朵默认值。问题是一切似乎都很正常，但是当我创建新的帮助程序对象并运行方法`startListening`时，它什么也没做。

我认为问题在于设置委托，但我无法弄清楚

OpenEarsHelper.h

```
#import <Foundation/Foundation.h>
#import <OpenEars/PocketsphinxController.h>
#import <OpenEars/LanguageModelGenerator.h>
@interface OpenEarsHelper : NSObject<OpenEarsEventsObserverDelegate>{
    OpenEarsEventsObserver *openEarsEventsObserver;
    PocketsphinxController *pocketsphinxController;
}
@property (strong, nonatomic) OpenEarsEventsObserver *openEarsEventsObserver;
@property (strong, nonatomic) PocketsphinxController *pocketsphinxController;
-(void)prepare;
@end 
```

OpenEarsHelper.m

```
#import "OpenEarsHelper.h"

@implementation OpenEarsHelper
@synthesize openEarsEventsObserver;

-(void)prepare{

    [self.openEarsEventsObserver setDelegate:self];//Problem should be here

    LanguageModelGenerator *lmGenerator = [[LanguageModelGenerator alloc] init];
    NSArray *words = [NSArray arrayWithObjects:@"WORD", @"STATEMENT", @"OTHER WORD", @"A PHRASE", nil];
    NSString *name = @"NameIWantForMyLanguageModelFiles";
    NSError *err = [lmGenerator generateLanguageModelFromArray:words withFilesNamed:name];

    NSDictionary *languageGeneratorResults = nil;
    NSString *lmPath = nil;
    NSString *dicPath = nil;
    languageGeneratorResults = [err userInfo];
    lmPath = [languageGeneratorResults objectForKey:@"LMPath"];
    dicPath = [languageGeneratorResults objectForKey:@"DictionaryPath"];
    [self.pocketsphinxController startListeningWithLanguageModelAtPath:lmPath dictionaryAtPath:dicPath languageModelIsJSGF:NO];
}

- (void) pocketsphinxDidReceiveHypothesis:(NSString *)hypothesis recognitionScore:(NSString *)recognitionScore utteranceID:(NSString *)utteranceID {
    NSLog(@"The received hypothesis is %@ with a score of %@ and an ID of %@", hypothesis, recognitionScore, utteranceID);
}

- (PocketsphinxController *)pocketsphinxController {
    if (pocketsphinxController == nil) {
        pocketsphinxController = [[PocketsphinxController alloc] init];
    }
    return pocketsphinxController;
}

- (OpenEarsEventsObserver *)openEarsEventsObserver {
    if (openEarsEventsObserver == nil) {
        openEarsEventsObserver = [[OpenEarsEventsObserver alloc] init];
        openEarsEventsObserver.delegate = self;
    }
    return openEarsEventsObserver;
}
@end 
```

我在`viewDidLoad`像这样的方法中使用它

```
 OpenEarsHelper *helper=[[OpenEarsHelper alloc]init];
  [helper prepare]; 
```

# blackberry - BlackBerry OS 7.1 文件/数据库文件正在使用中

> ID：12472091
> 
> 赞同：1
> 
> 时间：2012-09-18T07:14:10.847
> 
> 标签：blackberry

如果我在 BlackBerry OS 7.1 上运行我的应用程序，有时我会退出并重新启动应用程序，我无法打开/写入上次打开的文件。但是在 OS 6- 中一切都很好。

有没有人遇到同样的问题？还是 OS 7.1 的错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:30:03.117

To exit from your application always use `System.exit()` call.

It must free all taken resources. If it does not, then it is a RIM OS bug.

# facebook - 发布到我不是管理员的页面墙上

> ID：12472095
> 
> 赞同：0
> 
> 时间：2012-09-18T07:14:26.783
> 
> 标签：facebook, post, permissions, publish

我创建了一个应用程序来发布到用户选择的页面。如何代表用户将消息定向到页面墙？根据我的测试，帖子已发送，但页面看不到它，页面也没有收到通知。

我有 publish_stream 的 OAuth 扩展权限，我还需要什么才能让我的帖子不可见？

我将尝试详细说明问题：

1- 我通过请求获得 publish_stream、read_stream 权限的应用程序向不属于我的 Facebook 页面发送帖子，我只是一个普通用户。

2- 我以管理员身份验证页面日志记录，但未发送任何通知，并且在我的墙上看不到帖子。

3-如果我以发件人用户身份登录，我可以在 Wall 页面上看到帖子，看起来帖子是私人的，只有发件人用户可以看到它。如果我尝试使用同一用户通过 Graph API 恢复帖子，则会返回 false。

4- 只有安装了应用程序的用户才能看到页面墙上的帖子。

# oop - 什么是“向上”？

> ID：12472097
> 
> 赞同：8
> 
> 时间：2012-09-18T07:14:43.673
> 
> 标签：oop, definition, upcasting

我可以看到“upcast”一词与OOP有关，但我通过搜索互联网找不到确切的定义。

谁能解释这个术语是什么意思以及这种技术在什么情况下有用？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-18T07:21:43.337

根据您发布的标签的描述：

> 向上转换允许将子类类型的对象视为任何超类类型的对象。

基本上，这是您将子类实例转换为其超类之一的地方，以显示伪代码示例

```
class Base {
    function say_hi() { printf("Hello From Base Class\n"); }
}

class Person extends Base {
    function say_hi() { printf("Hello!"); }    // Overridden. Java expects an @Override annotation
}

class Dog extends Base {
    function say_hi() { printf("Woof!"); }    // Again, overridden
}

Base B = new Base();
Base P = new Person();   // Implicit upcast
Dog dog = new Dog();
Base D = (Base)Dog();    // Explicit upcast

B.say_hi(); // Hello from base class
P.say_hi(); // Hello!
D.say_hi(); // Woof! 
```

有很多时候这很有用。一般来说，它定义了一个接口，所以你可以子类化一些东西，但仍然在它的原始上下文中使用它。假设你有一个游戏，你会有一个敌人的对象。这有一些共同的功能，比如它的当前位置、速度、健康和其他东西。尽管如此，一些敌人可能会以不同的方式移动，可能会播放不同的死亡动画，当然，也会以不同的方式绘制。问题是，由于它们具有相同的界面，因此您不希望必须使用特殊代码来处理每种不同类型的敌人。

It would make sense to make a base "Enemy" class with these fields and empty methods, but then extend it to have SmallEnemy, EvilEnemy, BossEnemy etc with their different models and animations, filling in the blank methods. These "blank" methods can also be referred to as abstract or pure methods.

# jquery - JCrop + 防止点击传播

> ID：12472098
> 
> 赞同：0
> 
> 时间：2012-09-18T07:14:46.497
> 
> 标签：jquery, html, jcrop

我正在使用 jcrop 并将其附加到最后

我还有一个点击事件附加到第一个 div id="photoCropContainer"

```
 <div id="photoCropContainer">
      <div id="croppingControls">
        <div id="croppingBackgroundContainer">
          <img src="../../images/cropping-default.jpg" id="croppingBackgroundDefault" alt="Pre Cropping Background Default">
        </div>
      </div>

      <div id="cropBoxWrapper"><img src="../../images/cropping-default.jpg" id="cropBox" alt="Photo Crop Box"/></div>
    </div> 
```

***此配置的原因是允许用户在未加载 jcrop 时单击主 div，以及在加载 jcrop 时显示的内容，以便他们可以上传和裁剪不同的图像。

我遇到的唯一问题是当有人使用 Jcrop 时，它会触发第一个 div id="photoCropContainer"。

有没有办法阻止从 id="cropBox" 传播到 id="photoCropContainer" 的点击事件？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:15:37.533

通常，您可以通过将 stopPropagation 事件添加到单击来停止传播，如下所示：

```
$("#clickyclicky").on('click', function(event){
      event.stopPropagation(); //this should stop the click from propagating.
      //do other stuff here                      
}); 
```

# redmine - 添加到 redmine Core 模型

> ID：12472102
> 
> 赞同：0
> 
> 时间：2012-09-18T07:15:12.280
> 
> 标签：redmine, redmine-plugins

我正在 redmine 1.4 中编写一个插件，作为我项目的一部分，我需要在我创建的模型（例如：lms_users）和作为 Redmine 核心一部分的模型之间建立一对多关系（'用户）。我知道创建这种关系的常用方法是在“LmsUser”模型中使用“belongs_to：user”，在用户内部使用“has_many:users”，但这将涉及修改核心模型“users”，以及已经不在讨论范围内了。

有没有办法解决这个问题，所以核心不应该有任何依赖问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-02T08:44:03.440

`User`如果你想从用户那里访问你的插件模型，除了（猴子）修补类之外别无他法。

另一方面，如果您`User`从模型访问类，则不需要这样做。

在所有情况下，修补 Redmine 核心是扩展 Redmine 的常用方法。这没什么大不了的！这是一种非常普遍的做法......只需看看一些插件（例如来自[Eric Davis](https://github.com/edavis10)的插件）。不要害怕这样做，但我给你的唯一警告是：一定要明白你在做什么。

# android - 如何在 Android 上的 SQLite 中使用局部变量进行选择查询？

> ID：12472106
> 
> 赞同：0
> 
> 时间：2012-09-18T07:15:39.860
> 
> 标签：android, sqlite

我是 sqlite 和 android 的新手，我的问题很简单，在 Visual Studio 中，如果你想从局部变量中进​​行查询，它是由“'localvariable'”完成的，但是如何使用 sqlite 是可能的？

例如..

```
String local;
local = column1; 
```

sqlite 查询

```
SELECT "'local'" FROM table 
```

表结构

> 表：column1column2

在上面我不能使用分配的局部变量？我无法弄清楚的语法是什么。我使用原始查询。

非常感谢任何帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:27:59.973

```
String column1 = "NameOfMyFirstColumn";
String column2 = "NameOfMySecondColumn";
String sql = "SELECT "+ column1 +","+ column2 +" FROM table";
Cursor c = db.rawQuery(sql, null); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T07:21:32.313

尝试这个

```
Cursor cursor = db.rawQuery("SELECT ? FROM table", new String[] { local }); 
```

`?`将被替换`local`。

# javascript - jquery 用 th 获取最后一个 tr

> ID：12472110
> 
> 赞同：0
> 
> 时间：2012-09-18T07:15:54.753
> 
> 标签：javascript, jquery, jquery-selectors

使用 jquery 如何用 th 改变最后一个 tr 的 css

```
$("#mytable tr").has('th').last().parents('tr').css({'color':'blue'}); 
```

HTML

```
<table border="1" id="mytable">
    <tr>
        <th>row 1, cell 1</th>
        <th>row 1, cell 2</th> 
    </tr>
    <tr> 
        <th>row 1, cell 1 - change this</th>
        <th>row 1, cell 2 - change this</th> 
    </tr>
    <tr>
        <td>row 2, cell 1</td>
        <td>row 2, cell 2</td>
    </tr>
</table> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T07:21:56.830

作为[xdazz 答案](https://stackoverflow.com/a/12472153/82548)的替代方案，我会提供：

```
$('tr:has(th):last').css('color','blue'); 
```

参考：

*   [`:has()`选择器](http://api.jquery.com/has-selector/)。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-09-18T07:18:34.980

找到最后一个`th`，它的父级应该是最后`tr`一个拥有的`th`。

```
$("#mytable th:last").parent().css('color', 'blue'); 
```

# php - PHP is_numeric 不适用于数组值

> ID：12472111
> 
> 赞同：2
> 
> 时间：2012-09-18T07:15:57.407
> 
> 标签：php, arrays, csv

我试图跳过 CSV 文件中的前几行。在其余行中，第一列是序数 - 1、2、3 等。但由于某种原因，使用 is_numeric 完全失败。我认为这可能是引号，但手册中的测试数组有引号，它可以正确打印出答案。

打开并检查 $afile 后...

```
 while (($row = fgetcsv($afile)) !== FALSE) {
        // first three rows don't have numbers in first column
        if (is_numeric($row[0]))
            print "<tr><td>{$row[7]}</td></tr>";
        else
           print "not numeric: {$row[0]}<br/>";
   } 
```

一切都显示为“非数字”！

当我 print_r 数组时，列中仍然有引号，所以我尝试运行 str_replace 来去除引号，并且 is_numeric*仍然*始终显示为 false ...

完全困惑，希望有人能提供帮助，我希望这只是一个愚蠢的“午夜编码”问题......

[编辑]

好的，因为我怀疑这与数据有关，但我看不出有什么问题。*当我在 BBEdit 中“显示不可见”时，每个字符*之间都有一个倒置的问号。看：

![图片](../Images/92b116ca82db75182b8eceec7c944959.png)

所以..这很奇怪。假设我要一直得到这些不可见的东西，直到我能弄清楚导出的数据.. PHP 可以做任何事情来清理数据吗？也许是字符集问题？

[再次编辑] 感谢 martinstoeckli，我使用 mb_convert_string 转换了数据，现在 is_numeric 正确返回。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:58:00.577

is_numeric 的一个非常简单的替代方法是检查您是否正在检查 int 是：

```
if ($row[0] == (string)(int)($row[0])) 
```

或者如果您担心尾随空格的可能性，请检查`strlen($row[0]) == strlen((int)$row[0])`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:48:36.473

也许它有帮助：

```
settype($row[0], "int"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-19T07:12:57.587

根据截图，csv 文件是一个 UTF-16 编码的 Unicode 文件。此类文件为每个字符使用 2 个字节。如果您将内容转换为 UTF-8，您应该能够正常处理字符串，当然这将适用于从文件中读取的所有变量（不仅是第一个数字）。

```
$rowNumber = mb_convert_encoding($row[0],'utf8','utf-16');
if (is_numeric($rowNumber))
{
  ...
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-01-05T11:20:38.340

我愿意`is_numeric((string)(int)$content);`

# c# - 如何拆分具有三个空格作为分隔符的字符串？

> ID：12472112
> 
> 赞同：0
> 
> 时间：2012-09-18T07:15:58.663
> 
> 标签：c#

我在一个文本文件中写了很多行，并通过在部分之间放置三个空格将每一行分成几部分。这是一行的示例：

```
1   khashayar   home 
```

现在我想通过使用阅读和分割每一行

```
 arraytobeprinted = ss.Split('   '); 
```

但我收到此错误：

> *字符文字中的字符太多*

我怎样才能解决这个问题 ？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T07:19:42.650

您正在传递一个字符作为分割分隔符。尝试传递这样的字符串：

```
var parts = ss.Split(new[] { "   " }, StringSplitOptions.None); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T07:20:19.060

尝试这个： `ss.Split(new string [] {" "}, StringSplitOptions.None);`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T07:19:23.040

您可以尝试[String.Split Method (String[], StringSplitOptions)](http://msdn.microsoft.com/en-us/library/tabh47cf.aspx)以获得相同的结果。

```
string[] array2 = ss.Split(new string[]{"   "}, StringSplitOptions.None); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T07:20:05.913

使用 ss.Split(null) 或 ss.Split(new char[0])，这将以最简单的方式解决您的问题。

快乐编码！！！

# javascript - 如何从数据库获取经纬度到谷歌地图？

> ID：12472116
> 
> 赞同：0
> 
> 时间：2012-09-18T07:16:06.660
> 
> 标签：javascript, google-maps, google-maps-markers

我正在使用此代码来获取谷歌地图。它具有纬度和经度值，但我有一个具有纬度和经度的数据库。我想在这张地图中使用数据库中的纬度和经度，怎么做？

这是我的谷歌地图 javascript

```
 <script type="text/javascript">
  function initialize() {
    var latlng = new google.maps.LatLng(12.91869,77.594051);
    var myOptions = {
      zoom: 12,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"),
        myOptions);
    var marker = new google.maps.Marker({
        position: latlng,
        map: map,
    });
    var infowindow =  new google.maps.InfoWindow({
        map: map,
        position: latlng,
        });
    map.openInfoWindow(latlng,
                       document.createTextNode("Hello, world"));
  }
</script> 
```

谁能帮我...？

提前致谢.....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:30:27.570

Just a method you can follow to go ahead-

Firstly load the latlng values from the database and store them in an array.

Then pass this array of latlng's to a javascript function that will display this latlng values on the map. The function will essentially contain a loop that will display each of these latlng's one by one on the map along with a marker.

You should first try working with an array of latlng's hardcoded in an array of javascript. Then it would be easy dealing with values retrieved from a database.

# iphone - 如何以特定格式以编程方式创建pdf？

> ID：12472118
> 
> 赞同：3
> 
> 时间：2012-09-18T07:16:09.670
> 
> 标签：iphone, objective-c, ios, ipad

![在此处输入图像描述](../Images/473d83d90c34a40e8c47eac78d2f2e75.png)

我拥有 NSData 对象中的所有数据，但我不知道如何创建以这种格式显示的 pdf。主要问题是产品没有固定的内容大小，会越来越多，取决于客户，他/她购买多少。

我不想像下面的格式那样制作 uiview，因为如果这样做，那么如何以 .png 格式捕获整个 uitableview。

请给出如何为以下格式创建 pdf 的逻辑。万分感谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T07:30:52.240

在 iOS 中创建 PDF 有两种方法：

如果您想要 PDF 中的文本，则需要使用[Quartz 2D](http://developer.apple.com/library/mac/#documentation/GraphicsImaging/Conceptual/drawingwithquartz2d/dq_pdf/dq_pdf.html#//apple_ref/doc/uid/TP30001066-CH214-TPXREF101) 没有 API 可以帮助您以表格格式绘制。您需要通过计算 x 和 y 位置来绘制线条、文本，所有这些都是手动完成的。如果您有固定的字段集，那么只有您可以遵循这种方法。

否则，您可以为您需要的格式创建一个html页面，然后将此页面设置为PDF格式的图像，一个非常简单的方法。

两者都将使用[Quartz 2D完成](http://developer.apple.com/library/mac/#documentation/GraphicsImaging/Conceptual/drawingwithquartz2d/dq_pdf/dq_pdf.html#//apple_ref/doc/uid/TP30001066-CH214-TPXREF101)

希望这可以帮助 ：）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:31:16.387

[从这里](http://www.raywenderlich.com/6581/how-to-create-a-pdf-with-quartz-2d-in-ios-5-tutorial-part-1)开始，然后从[这里](http://www.raywenderlich.com/6818/how-to-create-a-pdf-with-quartz-2d-in-ios-5-tutorial-part-2)开始的最佳地点

需要用线条画一个表格并在其中添加文本和图像:)

有关信息，[请参阅](https://stackoverflow.com/questions/4362734/ios-sdk-programmatically-generate-a-pdf-file)

和[文档](http://developer.apple.com/library/mac/#documentation/GraphicsImaging/Conceptual/drawingwithquartz2d/dq_pdf/dq_pdf.html#//apple_ref/doc/uid/TP30001066-CH214-TPXREF101)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T07:48:23.770

有两种方法可以绘制 PDF。

*   使用 UIKit API：

    为此，您可以逐行绘制 pdf 并逐个图像，即逐个对象。链接到这个是：[http ://www.raywenderlich.com/6581/how-to-create-a-pdf-with-quartz-2d-in-ios-5-tutorial-part-1](http://www.raywenderlich.com/6581/how-to-create-a-pdf-with-quartz-2d-in-ios-5-tutorial-part-1)

*   使用 Quartz 2D API：

    使用这个您可以使用 UIViews 绘制 pdf。相同的链接是：http: [//mobile.tutsplus.com/tutorials/iphone/generating-pdf-documents/](http://mobile.tutsplus.com/tutorials/iphone/generating-pdf-documents/)

[http://www.ioslearner.com/generate-pdf-programmatically-iphoneipad/](http://www.ioslearner.com/generate-pdf-programmatically-iphoneipad/)

UIKit Api 创建了一个干净流畅的 PDF。Quartz2D 框架创建了一些模糊的 pdf。所以在使用之前你需要确定。

让我知道它是否有效或有任何问题。

# php - 我不知道如何绕过这个通知

> ID：12472122
> 
> 赞同：1
> 
> 时间：2012-09-18T07:16:20.713
> 
> 标签：php

当我执行以下脚本时：

```
<?php
$num = 3;
list($num, $dec) = explode(".", $num);
?> 
```

PHP 说：

> 注意：未定义的偏移量：第 3 行 /home/www/test.php 中的 1

除了禁用这些通知之外，还有什么方法可以阻止此通知出现吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T07:19:35.537

尝试这个

```
$num = 3;

// forces to show the decimal point
$rnum = sprintf("%1\$.2f",$num);

list($num, $dec) = explode(".", $rnum); 
```

编辑完整性：

或者，您也可以使用 number_format：

```
$rnum = number_format($num, 2); 
```

正如 Bojan Dević 所建议的那样

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:21:06.217

此通知告诉您您只有一个数组值，解决此问题的一种方法是使用 array_pad：

```
list($num, $dec) = array_pad(explode('.', $num),2,0); 
```

[这是一个工作示例](http://3v4l.org/kfi66)。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-18T07:22:52.103

虽然您的代码没有实际意义，但我会假设您已经将其作为产生错误的快速方法。

如果您将第一行代码添加为

```
ini_set('display_errors','0'); 
```

这会抑制错误的显示 - 但是，您应该只在项目完成并最终部署后才执行此操作..否则您不会遭受“为什么它是一个空页面”或“为什么它没有这样做.. "

# linux - 无背景和无窗口的 OpenGL 应用程序

> ID：12472130
> 
> 赞同：0
> 
> 时间：2012-09-18T07:17:00.597
> 
> 标签：linux, opengl

你在 linux 中使用过或见过 cairo dock 吗？我在维基百科中读到它是用 C 编写的。我只是好奇他们是如何制作一个使用 OpenGL 的无窗口、类似小部件的应用程序的。是否可以制作一个无窗口且没有背景（或透明背景）的 OpenGL 应用程序。他们是从头开始用 C 做的吗？或者他们是否使用了任何其他工具？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:45:18.017

“无窗”是什么意思。窗口是屏幕上的（矩形）区域，您可以通过绘图操作对其进行绘制。但是，从您的问题来看，我的印象是，您实际上是在询问创建一个没有**装饰**的窗口（即标题栏等）。

在 Linux，或更准确地说是 X11 中，窗口的外观由两件事控制： 窗口管理器控制下的窗口的*扩展窗口管理器提示 (EMWH)*；窗口管理器是负责绘制装饰和边框的实际程序。还有*Redirection Override*标志，它控制一个窗口是否真的在一个窗口管理器的控制之下。如果您要询问“无背景”，那么我认为您的意思是透明的。首先看看我制作的这个视频：[http](http://www.youtube.com/watch?v=iHZfH1Qhonk) ://www.youtube.com/watch?v= iHZfH1Qhonk 这就是你想要的吗？那么你真正想要的是一个带有*Alpha 通道的窗口*在其帧缓冲区配置（X11 XRender FBConfig）中，以及一个合成管理器（可以，但不需要成为窗口管理器的一部分）。该程序的源代码可以在[https://github.com/datenwolf/codesamples/tree/master/samples/OpenGL/x11argb_opengl_glsl找到](https://github.com/datenwolf/codesamples/tree/master/samples/OpenGL/x11argb_opengl_glsl)

或者您实际上是在询问可以渲染图片但没有出现在屏幕上的 OpenGL 上下文？这将是一个屏幕外上下文，有两种方法可以用 X11 实现它：

*   为上下文使用无窗口 PBuffer X11 可绘制对象

*   将隐藏窗口与 OpenGL 帧缓冲区对象一起使用

两种方法各有利弊。

# javascript - 如何在 phonegap 中使用 jquery load() 加载页面

> ID：12472131
> 
> 赞同：1
> 
> 时间：2012-09-18T07:17:00.120
> 
> 标签：javascript, jquery, cordova

我正在尝试使用 jquery.load() 函数在 phonegap 中加载 html 页面。但它不工作。它不会加载我要加载的页面。这是我的代码

```
jQuery(function () {
var Login = {
    onDeviceReady : function () {
        $('.contents').load('http://localhost:8888/pc/assets/www/pages/login.html');
    }
};

document.addEventListener("deviceready", Login.onDeviceReady, false);
}); 
```

这是我的html

```
<header>
    header
</header>
<section class="contents">
    contents
</section>
<footer>
    <ul class="nav">
        <li><a href="#">Home</a></li>
        <li><a href="#">Profile</a></li>
        <li><a href="#">Photo</a></li>
    </ul>
</footer> 
```

我怎样才能使这项工作？请帮忙

**更新**

科尔多瓦.xml 文件

```
<?xml version="1.0" encoding="utf-8"?>
<!-- 
   Licensed to the Apache Software Foundation (ASF) under one
   or more contributor license agreements.  See the NOTICE file
   distributed with this work for additional information
   regarding copyright ownership.  The ASF licenses this file
   to you under the Apache License, Version 2.0 (the
   "License"); you may not use this file except in compliance
   with the License.  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing,
   software distributed under the License is distributed on an
   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
   KIND, either express or implied.  See the License for the
   specific language governing permissions and limitations
   under the License.
 -->
 <cordova>
    <!--  
    access elements control the Android whitelist.  
    Domains are assumed blocked unless set otherwise
     -->

<access origin="*"/> <!-- allow local pages -->

    <!-- <access origin="https://example.com" /> allow any secure requests to example.com -->
    <!-- <access origin="https://example.com" subdomains="true" /> such as above, but including subdomains, such as www -->
    <!-- <access origin=".*"/> Allow all domains, suggested development use only -->

<log level="DEBUG"/>
<preference name="classicRender" value="true" />
 </cordova> 
```

在将上面添加到cordova.xml文件之后，我在jquery中添加了这种文件路径

```
 jQuery(function () {
var Login = {
    onDeviceReady : function () {
        $('.contents').load('./login.html');
    }
};

document.addEventListener("deviceready", Login.onDeviceReady, false);
 }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:25:56.747

我注意到您的 HTML 文件`login.html`在您的文件夹`www`中。

所以，我想你可以尝试使用加载HTML文件（注意HTML文件的路径！）

> $('.contents').load('your_login_html_path/login.html');

代替：

> $('.contents').load('http://localhost:8888/placeeq/assets/www/pages/login.html');

* * *

**例如：**如果您的 html 文件（不是`login.html`调用方法的另一个`load()`文件）在文件夹`www`中，并且如果`login.html`在`www`->`pages`中，您将拥有：

> $('.contents').load('./pages/login.html');

**例如文件夹结构：**

*   `www`

    *   `html_calling_load.html`

    *   `pages`

        *   `login.html`

希望这可以帮助。让我知道你的结果。

# javascript - 更改字段属性

> ID：12472136
> 
> 赞同：0
> 
> 时间：2012-09-18T07:17:15.863
> 
> 标签：javascript, date, text, input, datepicker

我正在尝试更改字段属性，因为我使用了许多与 Firefox 和 Internet Explorer 兼容的输入类型日期，

我还想将输入类型日期更改为输入类型文本并添加 id 以添加 jquery datepicker。

我也完成了该代码：

```
 <script type="text/javascript" language="javascript">
    function changefield(){
        document.getElementsByTagNAme("date").innerHTML = "<input id=\"datepicker\" type=\"text\"  tabindex=\"2\" />";

    }
    chengefield()
</script> 
```

而且它似乎不起作用。

我在控制台中没有 me'ssage 错误。

接受我最大的尊重。

亲切的问候。

SP

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:30:17.133

```
function changefield(){
    // getElementsByTagName return a collection of elements (like an array)
    var inputs = document.getElementsByTagName("input");

    for (var i = 0; i < inputs.length; i++) {
        if (inputs[i].type == 'date') {

            // change the input's type to text
            inputs[i].setAttribute('type', 'text');

            // id for each element must be unique
            inputs[i].setAttribute('id', 'datepicker' + i);

            inputs[i].setAttribute('tabindex', i+2);
        }
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:31:37.983

我想你正在尝试的是选择输入类型日期，而不是元素。而你谈到添加 jquery datepicker，那么为什么不使用 jQuery 呢？

```
$("input[type=date]").replaceWith("<input type='text' class='mydatepicker'/>"); 
```

接着

```
$(".mydatepicker").datepicker(); 
```

但不要将“id”与可以匹配多个元素的函数一起使用，因为这会生成重复的 id；也使用类，如果您想知道为什么不简单地更改输入类型，IE 不会允许这样做

# c# - 如何在 asp.net 中使用 AJAXFile Uploader 限制文件大小？

> ID：12472137
> 
> 赞同：0
> 
> 时间：2012-09-18T07:17:27.080
> 
> 标签：c#, file-upload, asp.net-ajax, filesize

我有一个用于个人资料图片上传的 AJAX 文件上传器。我想限制用户仅上传最多 102400 字节的图像。文件大小超过时如何显示 javascript 错误消息。

代码：

```
protected void AjaxFileUpload1_UploadComplete(object sender, AjaxControlToolkit.AjaxFileUploadEventArgs e)
    {
    string workerfile = Session["LoginUserID"].ToString();
            string strFileName = string.Empty;
            string strFileType = string.Empty;
            string path = string.Empty;
            var folder = Server.MapPath("../worker/Uploads/" + workerfile);
    if (!Directory.Exists(folder))
            {
                Directory.CreateDirectory(folder);
                strFileName = DateTime.Now.ToString("MM-dd-yyyy_HHmmss");
                strFileType = System.IO.Path.GetExtension(e.FileName).ToString().ToLower();

                AjaxFileUpload1.SaveAs(Server.MapPath("../worker/Uploads/" + Session["LoginUserID"] + "/" + workerfile + "_img" + strFileType));
            }
            else
            {

                strFileName = DateTime.Now.ToString("MM-dd-yyyy_HHmmss");
                strFileType = System.IO.Path.GetExtension(e.FileName).ToString().ToLower();

                AjaxFileUpload1.SaveAs(Server.MapPath("../worker/Uploads/" + Session["LoginUserID"] + "/" + workerfile + "_img" + strFileType));

            }
} 
```

如何做任何想法？帮助赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-16T19:38:24.907

不幸的是，没有办法用服务器端出了什么问题的详细信息来响应客户端——也就是说，没有正式的方法可以这样做。这是一个替代方案：

1.  使用 AjaxFileUploadEventArgs.FileSize 检查文件大小。如果它超过了你的最大值（看起来你可能试图限制为 1 MB，正确的值是 1048576），设置 AjaxFileUploadEventArgs.PostedUrl = "Your file is too big, etc."

2.  将控件上的 OnClientUploadComplete 属性设置为 JS 函数的名称，如果文件名字符串的格式如此，该函数将显示图像，或者显示带有错误消息的窗口。

这当然是一个黑客，但它会工作。

# sql - 安全表访问记录

> ID：12472142
> 
> 赞同：1
> 
> 时间：2012-09-18T07:17:48.970
> 
> 标签：sql, sql-server-2008, logging

我是 SQL Server 2008 标准版的新手。我需要在给定的表上记录选择访问。我需要记录请求的数据和执行 select 语句的用户。或者记录用户和选择语句。

我曾尝试在网上查找，但似乎很难找到涉及 select 语句的任何内容。

请指出我正确的方向。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:57:43.473

在这里，您谈论的是监视或审核 SELECT 语句。使用这些术语进行搜索将为您提供很多帮助。

有关该主题的一般信息：Brad M McGehee[对 SQL Server2008 审计的介绍](http://www.bradmcgehee.com/2010/03/an-introduction-to-sql-server-2008-audit/)

有关 MSSQLTips.com 的更多信息，一些使用 tSQL 的示例：[SQL Server 2008 TSQL Auditing Commands for SELECT statements](http://www.mssqltips.com/sqlservertip/1655/sql-server-2008-tsql-auditing-commands-for-select-statements/)。[在 MSDN 上](http://msdn.microsoft.com/en-us/library/cc645993.aspx)，您还有更多信息，请搜索`auditing`以查看每个版本允许执行的操作。在 MSDN上的[其他页面上，](http://msdn.microsoft.com/en-us/library/cc280386.aspx)您有非常详细的信息

**编辑：**

对于 SQL Server 2008 和 2008R2 标准版，没有审计功能，在 SQL Server 2012 标准版上是的，我们有，查看[这个 SO 答案](https://stackoverflow.com/questions/11145967/sql-server-2008-r2-standard-missing-audits-folder-in-ssms)以获取更多详细信息。所以对于 SQL2008 你必须依赖[DDL 的触发器](http://msdn.microsoft.com/en-us/library/ms175941.aspx)来审计 CRUD 操作。对于`SELECT`语句，您必须手动执行。检查[SQLServeCentral.com 上的这篇文章](http://www.sqlservercentral.com/Forums/Topic1187965-1550-1.aspx)。

**Edit2** SQL Server 2012 Express 版本涵盖了哪些审计内容？通过在谷歌上快速搜索，[这里](http://www.sqlskills.com/BLOGS/BOBB/post/Using-filtering-and-server-audit-specs-to-audit-DB-objects-in-SQL-Server-2012.aspx) 和[这里](http://www.sqlskills.com/BLOGS/BOBB/post/Auditing-database-level-objects-in-SQL-Express-2012.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-19T06:58:05.713

拒绝用户`select`对表的权限。

创建存储过程，他们可以通过这些过程运行他们需要运行的查询。将任何必要的审计添加到存储过程的主体中。

# slideshow - 单击网格视图图像显示全屏并隐藏这些图像

> ID：12472143
> 
> 赞同：1
> 
> 时间：2012-09-18T07:18:03.567
> 
> 标签：slideshow, android-gridview

我的应用程序在网格视图中有图像，当我单击任何网格视图图像时，该图像会以全视图进入另一个屏幕，并在一段时间内滑动所有网格视图图像，并且在该全视图图像下方显示接下来的三个图像缩略图.

# javascript - 有没有办法用javascript在另一个文件中包含一个文件的内容？

> ID：12472160
> 
> 赞同：0
> 
> 时间：2012-09-18T07:19:08.230
> 
> 标签：javascript, jquery

我的代码如下所示：

```
function submitHandler($link, $modal, close) {
    var ...
    var onDone = function (json, textStatus, XMLHttpRequest) {
     ...
    }
    var onFail = function (XMLHttpRequest, textStatus, errorThrown) {
     ...
    }
    var successModal = function (json) {
    ...
    }
    var failModal = function (json) {
       ...
    }
    if (!$form.get(0).checkValidity || $form.get(0).checkValidity()) {
    ...
        $.ajax({
        ....
            .done(onDone)
            .fail(onFail);
    }
} 
```

我所有的相关功能都在同一个文件中。我以前在不同的文件中拥有这些函数，但后来我发现如果它们在一个文件中似乎更好，这样它们就可以共享相同的变量（在文件的顶部）。这是大多数人使用的编码实践还是他们将每个 javascript 函数放在自己的文件中？有没有办法将一个文件的内容包含在另一个文件中？

# mysql - mySQL many-many WHERE条件无结果，cakephp分页

> ID：12472168
> 
> 赞同：0
> 
> 时间：2012-09-18T07:19:36.057
> 
> 标签：mysql, cakephp

我正在为 CakePHP 应用程序做一个自定义分页规则。蛋糕分页创建的查询不返回任何结果，我相信它应该。

## 表格如下：

```
projects ('id', 'project_leader_id'), 
users ('id', 'name'),
users_projects ('id', 'project_id', 'user_id')

projects many-many users_projects on project_id,
users many-many users_projects on user_id,
users one-many projects on project_leader_id 
```

## 样本数据：

项目：

```
id (1), project_leader_id (1) 
id (2), project_leader_id (2)
id (3), project_leader_id (3) 
```

用户：

```
id (1), name ("Peter")
id (2), name ("Joe")
id (3), name ("Mark") 
```

用户项目：

```
id (1), project_id (1), user_id (2)
id (2), project_id (1), user_id (3)
id (3), project_id (2), user_id (1)
id (4), project_id (2), user_id (2)
id (5), project_id (3), user_id (3)
id (6), project_id (3), user_id (1) 
```

## 我的查询：

```
SELECT Project.id, User.name
FROM projects AS Project
LEFT JOIN users_projects AS Assignment
    ON Project.id = Assignment.project_id
LEFT JOIN users AS User
    ON User.id = Assignment.user_id
WHERE Project.project_leader_id = 1
    OR Assignment.user_id = 1 
```

它应该返回 3 个结果，但它不返回任何结果。

分页结构是这样的：

```
$this->paginate = array(
'Project' => array(
    'joins' => array(
        array(
            'table' => 'users_projects', 
            'alias' => 'Assignment',
            'type' => 'LEFT',
            'conditions' => array(
                'Assignment.project_id' => 'Project.id',
            )
        )
    ),
    'conditions' => array(
        'OR' => array(
            'Assignment.user_id' => $this->Auth->User('id'),
            'Project.project_leader_id' => $this->Auth->User('id')
        )
    )
)); 
```

# 更新

该查询仅返回包含`Project.project_leader_id`WHERE 条件中指定的项目，并且不考虑`Assignment.user_id`条件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T15:23:30.847

I found out what the problem was. The 'conditions' clause in the pagination variable under the 'joins' key has to be constructed without the double arrow.

Changing

```
'conditions' => array('Assignment.project_id' => 'Project.id') 
```

to

```
'conditions' => array('Assignment.project_id = Project.id') 
```

solved the problem.

The initial query looked like this:

```
LEFT JOIN `consultants_assignments` AS `consultantsAssignment` ON
(`consultantsAssignment`.`project_id` = `Project.id`) 
```

and after the change:

```
LEFT JOIN `consultants_assignments` AS `consultantsAssignment` ON
(`consultantsAssignment`.`project_id` = `Project`.`id`) 
```

# python - 尝试构建简单的文件上传器 facebook 应用程序

> ID：12472173
> 
> 赞同：1
> 
> 时间：2012-09-18T07:19:55.960
> 
> 标签：python, facebook, dropbox, dropbox-api, uploader

长期潜伏者，第一次提问者。请原谅任何错别字，因为我在喝咖啡和打字准确性之间存在反比关系。

我想做的是为粉丝 Facebook 页面创建一个简单的上传应用程序。我决定用 Python 编写它，因为它是我知道的唯一语言，并且受 FB Dev 支持。

这个应用程序的目标是相当温和的：

1.  用户应该能够简单地单击一个框，该框将打开一个对话框来选择他们硬盘上的文件并将其上传到云端（我已经选择了 dropbox，稍后会详细介绍）
2.  上传者应该只接受特定的文件扩展名。
3.  用户应该能够浏览并能够下载所述文件。
4.  该应用程序应该能够检测洪水尝试，并且在理想情况下能够检测到哪个 facebook 用户正在上传它们。（这是对我的编码“技能”的悲哀控诉，即这个目标的后半部分是一个延伸目标）。
5.  理想情况下，用户应该能够将文件从云移动到云，以及从云移动到磁盘。这没那么重要。

好的，既然我已经为我的巨著制定了目标，我将跟进我所在的位置，然后谦卑地接近溢出之神寻求指导。

所以首先我在 Heroku 上创建了一个帐户，并在那里创建了应用程序。它现在基本上就在那里，里面没有任何代码。

在此之后，我开始在网上寻找简单的 Python 文件上传器。搜索后，我在 DropBox 开发网站上找到了这段代码。所以我注册了一个保管箱 SDK，并且不得不通过这个[http://pypi.python.org/pypi/setuptools](http://pypi.python.org/pypi/setuptools)安装“设置工具” 我使用了 ez_setup.py 并简单地运行了似乎通过“setuptools 模块”未找到错误。

我已经发布了下面的代码。

```
# Include the Dropbox SDK libraries
from dropbox import client, rest, session

# Get your app key and secret from the Dropbox developer website
APP_KEY = 'xxxxxetc.'
APP_SECRET = 'xxxxxetc.'

# ACCESS_TYPE should be 'dropbox' or 'app_folder' as configured for your app
ACCESS_TYPE = 'dropbox'

sess = session.DropboxSession(APP_KEY, APP_SECRET, ACCESS_TYPE)

request_token = sess.obtain_request_token()

# Make the user sign in and authorize this token
url = sess.build_authorize_url(request_token)
print "url:", url
print "Please authorize in the browser. After you're done, press enter."
raw_input()

# This will fail if the user didn't visit the above URL and hit 'Allow'
access_token = sess.obtain_access_token(request_token)

client = client.DropboxClient(sess)
print "linked account:", client.account_info()

f = open('working-draft.txt')
response = client.put_file('/magnum-opus.txt', f)
print "uploaded:", response

folder_metadata = client.metadata('/')
print "metadata:", folder_metadata

f, metadata = client.get_file_and_metadata('/magnum-opus.txt',rev='362e2029684fe')
out = open('magnum-opus.txt', 'w')
out.write(f.read())
print(metadata) 
```

此后我发现了错误

```
Traceback (most recent call last):
  File "F:/Python27/FAUploader (Roaring-gorge)/Roaringgorge101", line 2, in <module>
    from dropbox import client, rest, session
  File "F:\Python27\dropbox\__init__.py", line 3, in <module>
    from . import client, rest, session
  File "F:\Python27\dropbox\client.py", line 52, in <module>
    from .rest import ErrorResponse, RESTClient
  File "F:\Python27\dropbox\rest.py", line 8, in <module>
    import pkg_resources
ImportError: No module named pkg_resources 
```

我开始有点担心这可能会朝着错误的方向发展，而且我不太擅长编码，甚至更不擅长寻求帮助。因此，在我花太长时间试图使我的问题变得过于完美之前，我现在就发布这个。我真的很喜欢学习编码，如果你们能在正确的方向上帮助我，将不胜感激。似乎每个人，即使是没有经验的人，都能够比我更快地完成这类项目。

这些是我一直在使用的参考资料/我一直在访问的网站

[https://www.dropbox.com/developers](https://www.dropbox.com/developers)

我不被允许发布更多超链接，因为我太菜鸟了，显然。'-_-

无论如何，我离题了，任何帮助将不胜感激。

# 编辑/进度报告

所以我设法更新了 Python 环境以克服上面帖子中描述的错误。然而，我只是成功地获得了一个让我更加困惑的新的。

```
Traceback (most recent call last):
  File "F:\Python27\FAUploader (Roaring-gorge)\Roaringgorge101", line 22, in <module>
    access_token = sess.obtain_access_token(request_token)
  File "build\bdist.win-amd64\egg\dropbox\session.py", line 205, in obtain_access_token
    response = self.rest_client.POST(url, headers=headers, params=params, raw_response=True)
  File "build\bdist.win-amd64\egg\dropbox\rest.py", line 260, in POST
    return cls.IMPL.POST(*n, **kw)
  File "build\bdist.win-amd64\egg\dropbox\rest.py", line 207, in POST
    post_params=params, headers=headers, raw_response=raw_response)
  File "build\bdist.win-amd64\egg\dropbox\rest.py", line 183, in request
    raise ErrorResponse(r)
ErrorResponse: [401] u'Token is disabled or invalid'
>>> 
```

我尝试直接使用 DropBox 来查看应用程序中是否有任何东西可以帮助我解决所有这些问题，但是代码、我的浏览器和 Dropbox 应用程序似乎都完全相互忽略了。

再次感谢很多帮助。我想我可能会在一段时间内对一些 SQL 大发雷霆。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T12:58:30.203

执行设置工具脚本如下

```
curl http://python-distribute.org/distribute_setup.py | python 
```

这应该解决该错误

> ImportError：没有名为 pkg_resources 的模块

计划的其余部分听起来*应该可以*工作，因为 Heroku 的免费包没有空间来保存这些文件

> 一个理想的世界能够检测到哪个 facebook 用户正在上传它们

只需通过 Facebook 身份验证流程[http://developers.facebook.com/docs/authentication/](http://developers.facebook.com/docs/authentication/)进行身份验证，然后您就可以使用

```
https://graph.facebook.com/me?access_token=xxx 
```

使用 Facebook Python 库，例如 facepy

```
pip install facepy 
```

它像

```
from facepy import GraphAPI
graph = GraphAPI('your_access_token_goes_here')
graph.get('me') 
```

这里缺少逻辑，例如对 Dropbox 所做的网页的身份验证，但这是一般要点。

所以到目前为止一切看起来都还不错，我认为您现在还没有处于 Facebook API 检查阶段，因为这是 Dropbox API 问题和 Python setuptools 问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-11T17:39:48.060

对 ErrorResponse 的响应：[401] u'Token is disabled or invalid' 在我的代码中得到了同样的结果

来自 Dropbox API： **在令牌不再被授权的情况下，REST API 将返回 HTTP 错误 401 Unauthorized 响应**

我复制了生成的链接并再次授权该应用程序以使我的代码正常工作:)

# node.js - 循环内的异步调用

> ID：12472174
> 
> 赞同：9
> 
> 时间：2012-09-18T07:19:58.393
> 
> 标签：node.js, asynchronous, express

> **可能重复：**
> [在 node.js 中协调并行执行](https://stackoverflow.com/questions/4631774/coordinating-parallel-execution-in-node-js)

首先，动手伪代码：

```
forEach(arrayelements) {
  asyncQueryFunction(function(qres) {
    //work with query results.
  });
}
// finally, AFTER all callbacks did return:
res.render("myview"); 
```

怎么做？

如果这还不够清楚，我会解释：

我需要执行一系列“更新”查询（在 mongodb 中，通过 mongoose），循环遍历文档 ID 列表。对于数组中的每个 id，我将调用一个异步函数，该函数将返回查询结果（实际上我不需要对它们做任何事情）。

我知道我必须使用`.forEach()`javascript 循环，但是只有当我的所有异步查询都完成时，我才能执行我的“最终”回调？

当我要执行“有限”系列任务时，我已经在使用出色的异步库 ( [https://github.com/caolan/async](https://github.com/caolan/async) ) 来完成此类任务。但我不认为我可以将一组不同的函数传递给它。

我可以吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T08:04:33.437

非常简单的模式是使用“运行任务”计数器：

```
var numRunningQueries = 0
forEach(arrayelements) {
  ++numRunningQueries;
  asyncQueryFunction(function(qres) {
    //work with query results.
    --numRunningQueries;
    if (numRunningQueries === 0) {
       // finally, AFTER all callbacks did return:
       res.render("myview");
    }
  });
} 
```

或者，或者，使用异步帮助程序库，例如[Async.js](https://github.com/caolan/async)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T07:30:45.230

如果我理解正确，`asyncQueryFunction`总是相同的，因为您对每个文档应用相同的更新。

在保存（只是交换更新）多个猫鼬文档（从 CoffeeScript 转换，因此它可能不完美）后，我使用辅助方法进行回调：

```
function saveAll(docs, callback) {

  // a count for completed operations, and save all errors
  var count = 0
    , errors = [];

  if (docs.length === 0) {
    return callback();
  } else {
    for (var i = 0; i < docs.length; i++) {

      // instead of save, do an update, or asyncQueryFunction
      docs[i].save(function(err) {

        // increase the count in each individual callback
        count++;

        // save any errors
        if (err != null) {
          errors.push(err);
        }

        // once all the individual operations have completed,
        // callback, including any errors
        if (count === docs.length) {
          return callback(errors);
        }
      });
    }
  }
};

saveAll(arrayElements, function(errors) {
  // finally, AFTER all callbacks did return:
  res.render("myview");
} 
```

# php - 更改 Apache/PHPs 默认文件权限

> ID：12472193
> 
> 赞同：0
> 
> 时间：2012-09-18T07:21:14.550
> 
> 标签：php, apache, file-permissions, umask

我有一个运行 Redhat 的 Amazon EC2 服务器。当我的 PHP CMS 创建文件时，它们归 www-user 所有并具有 chmod 644。如何使 Apache 和 PHP 创建的所有文件默认为 666？

我已经尝试在 /etc/init.d/httpd 中添加“umask 002”，但它似乎不起作用。

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:33:29.043

我读过它取决于父文件夹权限。尝试将父文件夹的权限更改为您的 apache 用户

还有什么可能有帮助： [Apache 权限、PHP 文件创建、MKDir 失败](https://stackoverflow.com/questions/5165183/apache-permissions-php-file-create-mkdir-fail)

# security - Shindig - 无法获取小工具规范（安全令牌？）

> ID：12472195
> 
> 赞同：0
> 
> 时间：2012-09-18T07:21:20.183
> 
> 标签：security, oauth, widget, apache-shindig

我正在与 shindig 合作，试图让一些 OAuth1 小工具在任何容器之外工作（使用小工具/ifr 东西）。

我一直在使用“小工具测试容器”，一切正常，这意味着在 oauth.json 上正确设置了每个键。

当我尝试在容器外显示这些相同的小工具时，问题就开始了。我收到此错误：

```
OAuth error: UNKNOWN_PROBLEM: Could not fetch gadget spec
==== 
Original request: 
GET stuff.json 
Host: my.host 
X-Shindig-AuthType: oauth 
X-Forwarded-For: 127.0.0.1 
X-shindig-dos: on
==== 
```

我使用的网址是这样的：

```
http://localhost:8080/gadgets/ifr?url=http://my.host/stuff.xml 
```

我认为这里的问题与 &st 参数（安全令牌）有一些关系......

作为记录，如果我使用一些已经由 shindig 提供的 gagdet，它可以正常工作（尽管这些是 OAuth2.0）：

```
http://localhost:8080/gadgets/ifr?url=http://localhost:8080/samplecontainer/examples/oauth2/oauth2_facebook.xml 
```

我一直在寻找这个问题，很多人都有同样的问题，但没有答案。我认为这可能是他们正在寻找的地方：D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T06:54:10.973

好的，对于那些有同样问题的人，这就是我设法解决的方法。

如您所见，我试图通过基本的 ifr url 呈现小部件。这不是 shindig 的工作方式。它需要一些 javascript 来呈现您需要的内容。

我做了什么？我只是创建了一个自定义“容器”，它接收一个带有小工具 xml url 的 url 参数，并通过 javascript 呈现该小工具。

我使用的 javascript 是 shindig (samplecontainer/samplecontainer.js) 中带有基本修改的 javascript。

希望这行得通......虽然这并不容易>.< Grettings!!1one

# mysql - 如何将整个数据库复制到另一个服务器数据库？

> ID：12472201
> 
> 赞同：33
> 
> 时间：2012-09-18T07:21:44.273
> 
> 标签：mysql, mysql-workbench

我目前正在开发一个带有 MySQL 后端的 Windows 应用程序。现在我想将旧的数据库结构和数据复制到新的数据库服务器。

如何使用 MySQL 工作台解决这个问题？

谢谢！

* * *

## 回答 #1

> 赞同：46
> 
> 时间：2012-09-18T07:28:56.337

1.  打开 MySQL 工作台
2.  创建旧服务器的连接（如果还没有）
3.  创建新服务器的连接（如果还没有）
4.  转到服务器管理并单击管理导入/导出
5.  选择旧服务器
6.  在“导出到磁盘”选项卡中选择所有模式
7.  在选项中选择导出到独立文件，等到它完成
8.  返回服务器管理并单击管理导入/导出
9.  选择新服务器
10.  切换到“从磁盘导入”
11.  点击“从独立文件导入

这是只有 MySQL Workbech 的方式，有时您还没有将它安装在新服务器中，例如在开发到生产场景中，这样您应该执行 mysqlimport 实用程序。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2019-06-24T21:26:39.230

**使用 MySQL Workbench [迁移向导]**

要直接将数据库从一台服务器复制到另一台服务器（甚至是本地服务器）而不创建中间导出/转储文件，您可以在 MySQL Workbench 中使用其[Migration Wizard](https://dev.mysql.com/doc/workbench/en/wb-migration.html)执行此操作。转到`Database`--> `Migration Wizard`。

如果您之前已将源连接和目标连接保存到连接列表，则可以从那里选择它们，或者您可以即时创建新连接（请务必选中将其添加到连接列表的框）。
您还将选择数据库类型，或选择它们的通用版本（不记得它叫什么）并让它弄清楚您拥有什么样的数据库服务器。通常，您可以为 MySQL 或 MariaDB 数据库选择 MySQL，因为 MariaDB 通常被设计为 MySQL 的“二进制替代品”。

当它要求您选择哪些数据库时，我的理解`INFORMATION_SCHEMA`是只读的，不应该选择。否则，除非您有特殊需要，否则可能会选择所有其他表，例如，如果您正在克隆服务器（可能还有其相关网站）。

从那里您将让 MySQL Workbench 做它的事情。在将架构从旧服务器逆向工程到新服务器的过程中继续单击下一步，直到最终将数据复制过来。

在继续之前，您可以在许多地方进行更改。您还可以选择查看在此过程中记录的潜在问题和警告。

完成后，您仍然需要为克隆的数据库添加用户（手动？）。可能还有一种自动化方法可以克隆用户表，但我不知道。如果没有别的，您可以从命令行执行此操作。由于我将其用于本地开发人员，因此无论如何我只能自己添加。

我不确定使用此工具是否比以通常方式导出和导入数据库更快。但这肯定更容易。
该工具实际上是为不同类型的数据库（例如 PostgressSQL 和 MySQL）之间更复杂的迁移而设计的，而不是作为通用工具，例如，将实时数据库的副本检索到本地开发服务器，反之亦然。

在同一菜单下，有`Database`-> `Schema Transfer Wizard`，据我了解，当您需要更新到新的服务器版本时使用它。我不清楚这两种工具之间的区别，或者它们的实际用例。

关于如何进行标准导入/导出操作的说明，在 MySQL 工作台中，文档是[SQL Data Export and Import Wizard](https://dev.mysql.com/doc/workbench/en/wb-admin-export-import-management.html)和[Table Data Export and Import Wizard](https://dev.mysql.com/doc/workbench/en/wb-admin-export-import-table.html)。

如果可以直接在开发服务器和实时服务器之间导入/导出，只需选择连接，而不是保存然后读取转储文件，那将是很酷的。
我认为它可以通过命令行完成。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2018-02-02T10:44:21.903

要直接复制数据库，无需先进行导出和导入，您可以使用[*MySQL Utilities*](https://dev.mysql.com/doc/workbench/en/wb-mysql-utilities.html)命令[`mysqdbcopy`](https://docs.oracle.com/cd/E17952_01/mysql-utilities-1.4-en/mysqldbcopy.html)：

```
mysqldbcopy --source=root:root@localhost --destination=root:root@localhost world:world_clone 
```

您可以在 Windows`cmd`或*MySQL Utilities Console*中运行该命令。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-05-07T03:12:03.270

如果您安装了**phpmyadmin**，则可以使用以下步骤：

1.  在源服务器的**phpmyadmin中，使用“****导出**”功能，确保

a) 在导出方法中，选择**“自定义 - 显示所有可能的选项”**

b) 在“格式特定选项”中，确保选择“结构和数据”。

c) 在**“对象创建选项”**中，确保“**添加创建数据库/使用语句**”也被标记。

导出 SQL 文件。

1.  **scp**从源服务器导出的文件到目标服务器

2.  在目标服务器的phpmyadmin中，使用“**导入**”功能，将SQL文件导入数据库。在导入过程中无需选择自定义选项。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-11-28T10:17:08.840

如果您的两个 mysql 服务器都在 linux 环境中运行（即使您的应用程序适用于 windows，这种情况也很有可能），复制数据库的最可靠和快速的方法是在我们复制的服务器上运行这个 oneliner到：

```
ssh -p <ssh port (usually 22)> host.from.where.we.copy "mysqldump -u my.sql.username.on.from.host -p\"mysql.password (might require some escaping-magic in case you got special characters in there)\" -F -f --databases name.of.database.we.copy | grep -vE \"^(USE|CREATE DATABASE)\" | bzip2 -c -" </dev/null > /tmp/name.of.database.we.copy.sql.bz2; bzip2 -dc /tmp/name.of.database.we.copy.sql.bz2 | mysql -u mysql.username.on.host.we.copy.to -p'mysql.password' new.database.name 
```

例如：

```
ssh -p 22 example.com "mysqldump -u root -p\"12345\" -F -f --databases mycooldb | grep -vE \"^(USE|CREATE DATABASE)\" | bzip2 -c -" </dev/null > /tmp/mycooldb.sql.bz2; bzip2 -dc /tmp/mycooldb.sql.bz2 | mysql -u someotheruser -p'54321' mynewcooldbcopy 
```

这将在我们复制的主机上进行转储，用 bz2 压缩它，将文件传输到新服务器并将 db 部署到另一个用户（如果需要）并命名

# regex - 如何使用正则表达式选择字符串之前的所有内容？

> ID：12472202
> 
> 赞同：0
> 
> 时间：2012-09-18T07:21:54.213
> 
> 标签：regex

我有一个像这样的字符串：

`/09/2012 08:29:13 - @15a63b 20.708,243 ms [20.708,243] 1 PreparedStatement: exec patient`

我想删除字符串之前的所有内容`PreparedStatement`。我正在使用 EditPlus 编辑器。我需要一个正则表达式来做到这一点。

有没有人知道如何组合这个正则表达式？

```
^.*?(?=PreparedStatement) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:26:17.413

如果你使用 Perl，这将是：

```
$string =~ s/(.*?)(PreparedStatement: exec patient)/$2/; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T14:53:59.990

经过长时间搜索谷歌和一些关于正则表达式的网站后，我发现了这种模式：`.*PreparedStatement:`

# opengl - 使用 OpenGL 在空间中渲染星星的可能技术？

> ID：12472204
> 
> 赞同：1
> 
> 时间：2012-09-18T07:22:04.303
> 
> 标签：opengl

我有大量的星星（粒子），几乎没有散布在广阔的空间中。我需要以某种方式可视化这个空间，包括其中的导航。显然，我不能只为 OpenGL 提供我的粒子的所有真实空间坐标，看起来我需要执行严格的处理并想出一些易于渲染的东西，比如纹理或少量与 OpenGL 友好的点坐标。所以，问题是，有没有解决这个任务的通用技术，如果没有 - 你会怎么做？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-19T20:38:37.000

您可以相当容易地绕过深度缓冲区精度限制。您只需要将所有星星分类到不同的距离。不知道有没有名字，只是在几个地方看到过

假设您的深度缓冲区/投影矩阵在出现精度问题之前可以达到 10,000，但您的星星远达 27,000。你可以根据它们的距离对你的星星进行分类。0 到 10,000 的星星放在第一个箱子里，10,000 到 20,000 颗放在第二个箱子里，依此类推。然后开始画它们：

1.  清除颜色和深度缓冲区
2.  将投影矩阵设置为 near=20,000 和 far=30,000
3.  画出 20,000 到 30,000 之间的所有星星
4.  **仅**清除深度缓冲区
5.  将投影矩阵设置为 near=10,000 和 far=20,000
6.  画出 10,000 到 20,000 之间的所有星星
7.  **仅**清除深度缓冲区
8.  将投影矩阵设置为 near=0 和 far=10,000
9.  绘制 0 到 10,000 之间的所有星星

由于您知道 10-20 bin 中的所有星星都在 20-30 bin 中的所有星星前面，因此您可以安全地清除深度缓冲区，让您绕过深度缓冲区的精度限制并将事物绘制为随心所欲

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:52:08.683

您可以使用分层天空立方体的方法，在其上渲染星星和物体。如果事情相对接近，您可以在立方体的“matroyshka”排列上使用视差滚动方法。

# video - 如何在 J2ME 中播放带音频的视频

> ID：12472207
> 
> 赞同：1
> 
> 时间：2012-09-18T07:22:17.817
> 
> 标签：video, java-me, mmapi

我正在尝试通过在 J2ME 中编写应用程序来播放视频（在模拟器中）。我可以播放与之关联的音频，但无法播放视频。

有人可以告诉我为了播放它而进行的相关设置（文件位置、模拟器类型、sdk 等）吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-27T06:01:23.463

它取决于视频类型和模拟器，例如 WTK 2.2 或 WTK 2.5 模拟器不支持 3gp 视频。但是你可以在这些模拟器上播放 mpg 视频。

# .net - SQL Server 客户端 - 服务器数据库与架构同步

> ID：12472208
> 
> 赞同：0
> 
> 时间：2012-09-18T07:22:34.217
> 
> 标签：.net, sql-server, sql-server-2008, replication, data-synchronization

我有 C#.net 一个使用在线数据库服务器甚至本地服务器的应用程序。

如果用户不再连接到互联网，他可以在本地机器上使用离线服务器。但在使用离线服务器之前，他应该将在线服务器同步到离线。

目前有基于存储过程的模型来获取和转储数据。由于我的应用程序是测试版，因此我不时在服务器数据库中进行许多架构更改。因此，因此每次我需要在本地计算机上手动运行架构更改时，或者我必须采用架构更改的部署脚本并使应用程序在同步之前将此架构应用于本地数据库。

时间很耗时，而且会产生额外的开销。

同步模式和数据的最佳方法是什么。我可以去复制吗？

就我而言，我只需要在线在线到离线同步。反之则不需要。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T09:26:58.683

复制将不起作用，因为您必须提前指定模式。您可以尝试类似 redgate 的 sql compare 但它不是免费的：

[http://www.red-gate.com/products/sql-development/sql-compare/](http://www.red-gate.com/products/sql-development/sql-compare/)

或者您可以尝试类似 FluentMigrator 的方法，这是一个 .net 的数据库迁移库：

[https://github.com/schambers/fluentmigrator](https://github.com/schambers/fluentmigrator)

另一种选择是 Open DBDiff：

[http://opendbiff.codeplex.com/](http://opendbiff.codeplex.com/)

再次，另一个免费的：

[http://www.xsql.com/](http://www.xsql.com/)

最后一个具有用于自动数据比较和同步的命令行实用程序。

# regex - 常规 Exp 验证零

> ID：12472209
> 
> 赞同：2
> 
> 时间：2012-09-18T07:22:36.333
> 
> 标签：regex, validation

我必须验证我的文本字段中的零值，文本字段的长度是 4 个字符。如果用户输入 0 或 00 或 000 或 0000。这应该会失败。

目前我已经编写了 exp 来验证低于 7500 的值，这也将接受 0000。

请帮助我将其设置为 0 或 00 或 000 或 0000 值失败。

/^0*([0-9]{1,3}|[1-6][0-9]{3}|7[0-4][0-9]{2}|7500)$/

谢谢普尼斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:27:09.033

```
/^(?:[1-9]\d{0,2}|[1-6]\d{3}|7[0-4]\d{2}|7500)$/ 
```

**解释：**

```
^              # Start of string
(?:            # Either match...
 [1-9]\d{0,2}  # 1-999
|              # or
 [1-6]\d{3}    # 1000-6999
|              # or
 7[0-4]\d{2}   # 7000-7499
|              # or
 7500          # 7500
)              # End of alternation
$              # End of string 
```

如果你想允许前导零，那么你可以`0*`在`^`. 但是，当然，四位数的长度限制就消失了。

# ruby-on-rails - Ruby 文本解析：找到下一个句子的开头

> ID：12472212
> 
> 赞同：1
> 
> 时间：2012-09-18T07:22:48.993
> 
> 标签：ruby-on-rails, ruby, text, string-parsing

我的数据库中有一堆字符串，如下所示：

> 下班开车回家。狗从沙发上一跃而起，来到门口的大主人面前。他把脸舔干净。

字符串从句子中间开始。我想找到一种方法来切断最初不完整的句子，然后从“狗从沙发上跳到门口的伟大主人那里。他把脸舔干净了。”

我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:36:39.893

问题是如何定义不完整的句子。我们可以假设所有以大写字符开头的句子都是完整的句子。如果是这样，代码可能看起来像这样

```
str = 'driving home from work. The dog leaped of the sofa to great his master at the door. He licked his face clean.'
sentences = str.split('.')
sentences.shift if sentences[0][0].downcase == sentences[0][0]
sentences.join('.').strip << '.' 
```

有点棘手但有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:43:39.750

最简单的答案：

```
str = 'driving home from work. The dog leaped of the sofa to great his master at the door. He licked his face clean.'
str.sub!(/^[^A-Z].+?\./, '').strip! 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T07:42:02.403

[https://github.com/ged/linkparser](https://github.com/ged/linkparser)

这可能会有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T07:42:13.790

可能是这样的？

```
str = "driving home from work. The dog leaped of the sofa to great his master at the door. He licked his face clean."
str.first == str.first.upcase ? str : str.split(".")[1..-1].join(".").lstrip << "." 
```

假设它以大写字母开头表示句子的开头，否则是不可能的。其他要考虑的情况，如果它以数字开头怎么办？例如：1 条狗跑掉了。狗……是1狗……一句话？

# c# - 带有 PATH 环境变量的 File.Open()

> ID：12472216
> 
> 赞同：-1
> 
> 时间：2012-09-18T07:23:10.213
> 
> 标签：c#, .net

我正在编写一个 CLI 程序，该程序在事件上运行`Process.Start()`在用户定义的文件上。这尊重`%PATH%`，但`File.Open()`不尊重。

基本上，当程序启动时，我会进行各种检查。我想要的检查之一是该文件是否存在并且可以由当前用户打开，ala：

```
try
{
    fs = File.Open(Run, FileMode.Open, FileAccess.Read, FileShare.ReadWrite);
    Run = args[++i];
}
catch(TheVariousExceptions){ .... }
finally
{
    if(fs != null)
        fs.Close();
} 
```

异常也会在 时处理`Process.Start()`，但可能要等到一段时间后才会调用，此时用户可能已经配置了程序并让它运行。所以我想先像上面一样运行检查。问题是，它没有考虑`%PATH%`到。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:28:30.997

我想你必须手动完成。

您可以使用[`Environment.GetEnvironmentVariable`](http://msdn.microsoft.com/en-us/library/77zkk0b6.aspx)来检索`PATH`. 然后，将其拆分为`;`s 并将结果保存在 a 中`List`。然后，您必须`Combine`使用文件名访问每个路径，并对`File.Open`生成的每个组合执行检查。

你确定值得做这些检查吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T12:26:30.843

这就是我设法做到的方式。

```
static Process TestProc = new Process();
static ProcessStartInfo TestProcStart = new ProcessStartInfo();
try
{
    TestProcStart.WindowStyle = ProcessWindowStyle.Hidden;
    TestProcStart.FileName = args[++i];
    TestProc.StartInfo = TestProcStart;
    TestProc.Start();
    TestProc.Kill();
    Run = args[i];
}
catch(Win32Exception e)
{
    switch(e.NativeErrorCode)
    {
        case 2: Console.WriteLine("ERROR: File " + args[i] + " not found!"); return;
        case 5: Console.WriteLine("ERROR: Access denied to " + args[i] + "!"); return;
        default: Console.WriteLine("ERROR " + e.NativeErrorCode + ": " + e.Message); return;
    }
} 
```

# php - 将返回（值）分配给新变量

> ID：12472218
> 
> 赞同：0
> 
> 时间：2012-09-18T07:23:12.950
> 
> 标签：php

感谢您的所有快速回复！虽然下面的代码看起来我想打印要在屏幕上查看的值，但我需要这些值，例如。$user_profile [email] 在另一个函数中（注册新的 wordpress 用户）。下面是完整的代码。我该怎么做呢？

```
<?php
try{
include_once "src/fbaccess.php";
}catch(Exception $e){
error_log($e);
}
try{
require_once "wp-blog-header.php";
}catch(Exception $e){
error_log($e);
}

try{
require_once "wp-includes/registration.php";
}catch(Exception $e){
error_log($e);
}

?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Florian's Facebook login</title>    

</head>
<body>
<!-- Copy the below code to display FB Login/Logout button -->
<?php if ($user): ?>
  <a href="<?php echo $logoutUrl; ?>">Logout</a>
<?php else: ?>
  <div>
  <a href="<?php echo $loginUrl; ?>">Login with Facebook</a>
  </div>
<?php endif ?>
<!-- Copy the above code to display FB Login/Logout button -->

<h3>PHP Session</h3>
<pre><?php print_r($_SESSION); ?></pre>

<?php if ($user): ?>
  <h3>You</h3>
  <img src="https://graph.facebook.com/<?php echo $user; ?>/picture">

  <h3>Your User Object (/me)</h3>
   <pre><?php  return ($user_profile [email]); ?></pre>
<pre><?php return ($user_profile [first_name]); ?></pre>
<pre><?php return ($user_profile [last_name]); ?></pre>
<pre><?php return ($user_profile [location]); ?></pre>   
<?php else: ?>
  <strong><em>You are not Connected.</em></strong>
<?php endif ?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:25:39.487

你说你想把它分配给一个变量

`$var = $user_profile['email'];`

但在您的示例中，您似乎想要打印它：

`echo $user_profile['email'];`

或启用短标签：`<?= $user_profile['email']; ?>`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:26:07.990

根据您的代码，我认为您只想执行以下操作：

```
if(!empty($user_profile))
{
    <pre><?php echo $user_profile['email']; ?></pre>
    <pre><?php echo $user_profile['first_name']; ?></pre>
    <pre><?php echo $user_profile['last_name']; ?></pre>
    <pre><?php echo $user_profile['location']; ?></pre>   
}
else
{
    <strong><em>You are not Connected.</em></strong>
} 
```

您的代码看起来像是在尝试回显它，这将起作用，但您可能还想使用该函数`empty()`来检查变量中是否有任何内容。

关于返回数据，这是更常见的与函数相关的东西，而不是其他任何东西——这`hsz`在这个问题的另一个答案中已经很好地描述了。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T07:26:14.503

`return`适用于函数（或类内的方法）。正确使用的外观和分配看起来像：

```
function foo() {
  return 'bar';
}

$var = $foo(); 
```

在您的情况下，将值返回到视图（HTML）是没有意义的。如上所述`Karol Horvath`，请`echo`改用。

# php - exec() 错误响应

> ID：12472220
> 
> 赞同：4
> 
> 时间：2012-09-18T07:23:26.080
> 
> 标签：php, exec

让我们以这个命令为例：

```
$command = "echo '/just/for/the/test /heh/' | awk '//just// {print $1}'"; 
```

在 shell 中直接复制它时，出现以下错误：

```
awk: cmd. line:1: //just// {print $1}
awk: cmd. line:1:         ^ unterminated regexp 
```

但是，当我`exec()`这样做时，我得到没有输出的状态代码 1：

```
exec($command, $output, $status);

var_dump( $command, $output, $status );

// string(69) "echo '/just/for/the/test /heh/' | awk '//just// {print $1}'"
// array(0) { }
// int(1) 
```

如何检索 exec 的 STDERR 部分？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T07:38:58.753

你应该像这样将stderr重定向到stdout

```
$stout = exec($command . " 2>&1", $output, $status); 
```

另请参阅此处的 [PHP StdErr after Exec()](https://stackoverflow.com/questions/2320608/php-stderr-after-exec)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T07:38:45.150

我能想到的`exec()`唯一方法是在您正在执行的命令中将 STDERR 重定向到 STDOUT，例如：

```
$command = "echo '/just/for/the/test /heh/' | awk '//just// {print $1}' 2>&1"; 
```

另一种方法`exec()`是使用`proc_open()`函数族。执行命令并`proc_open()`打开指向 STDIN、STDOUT 和 STDERR 的文件指针，您可以从中读取/写入

有关更多信息，请参阅[手册](http://php.net/manual/en/function.proc-open.php)

# google-drive-api - 避免更新驱动器权限的邮件通知

> ID：12472223
> 
> 赞同：1
> 
> 时间：2012-09-18T07:23:31.540
> 
> 标签：google-drive-api

云端硬盘权限的每次更改都会发送一封通知邮件。有没有办法避免这种情况？

提前非常感谢， Ridgh

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T09:08:02.957

Whenever you insert a new permission with the Drive API, you can set the `sendNotificationEmails` optional parameter to false to avoid sending that email:

[https://developers.google.com/drive/v2/reference/permissions/insert](https://developers.google.com/drive/v2/reference/permissions/insert)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-18T04:01:39.367

以下是在 Java 中有效的方法：

```
service.permissions().insert(fileId, newPermission).setSendNotificationEmails(false).execute(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2019-07-30T13:50:03.707

在 c# (api v3) 上，您必须在创建请求后将 SendNotificationEmail 设置为 false；

```
var req = _driveService.Permissions.Create(
                        new Permission
                        {
                            Role = "reader",
                            Type = "user",
                            EmailAddress = readerEmail
                        }, document.DocumentId);
                    req.SendNotificationEmail = false;
                    req.Execute(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-09-13T17:37:54.587

PHP语言的解决方案：

```
$this->service->permissions->create($folder->id, $userPermission, array('fields' => 'id', 'sendNotificationEmail' => false)); 
```

# sql - 可返回 CONNECT BY PRIOR (SQL)

> ID：12472227
> 
> 赞同：0
> 
> 时间：2012-09-18T07:23:34.783
> 
> 标签：sql, oracle11g

我有一个结构（例如，在括号中 (id, parent_id) ）：

*   目录 1 (1,0)
*   子目录 1 (44,1)
*   项目 1 (83,44)
*   项目 2 (98,44)
*   子目录 2 (46,1)
*   项目 1 (8,46)
*   项目 2 (9,46)
*   目录 2 (4,0)
*   子目录 1 (54,4)
*   项目 1 (43,54)
*   项目 2 (48,54)
*   子目录 2 (101,4)
*   项目 1 (19,101)
*   项目 2 (314,101)

在输入中我有 id 列表如果我没有 id 父目录，但我有子 id，那么我必须显示所有祖先：例如：输入：83、46、43、48 输出：

*   目录 1 (1,0)
*   子目录 1 (44,1)
*   项目 1 (83,44)
*   子目录 2 (46,1)
*   目录 2 (4,0)
*   子目录 1 (54,4)
*   项目 1 (43,54)
*   项目 2 (48,54)

我发明了请求：

```
SELECT * 
  FROM (SELECT distinct * 
          FROM Table a 
          START WITH N in (83, 46, 43, 48) CONNECT BY PRIOR N_PARENT = N) a 
          START WITH N_PARENT in 0 CONNECT BY PRIOR N = N_PARENT
         ORDER SIBLINGS BY N 
```

但在大数据方面是缓慢的。我可以提出要求 `CONNECT BY`吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:03:04.007

```
with tree as ( 
 SELECT t.name, t.id, t.parent, LEVEL lvl, connect_by_root(id) root
   FROM t
CONNECT BY PRIOR parent = id
  START WITH id IN (83, 98, 46, 43, 48)
), ordered_tree as (
 select name, 
        id, 
        parent,
        row_number() over (partition by id order by id) rn
   from tree 
  order by root, lvl desc
)
select name, id, parent
 from ordered_tree where rn = 1 
```

[http://sqlfiddle.com/#!4/34f2d/4](http://sqlfiddle.com/#!4/34f2d/4)

# sql - 我们如何删除 C 中的 SQL 错误代码 1405

> ID：12472229
> 
> 赞同：2
> 
> 时间：2012-09-18T07:23:47.567
> 
> 标签：sql, c, oracle, error-handling

我用 C 编写了以下代码：

```
EXEC SQL begin declare section;
    int     A;
    char    B[5];
    int     C;
    int     D;
    dtime_t E;
    char    F[13];
EXEC SQL END DECLARE SECTION;
char E_dt[16];
D=0;
memset(F, 0, sizeof(F));          

EXEC SQL declare log3 cursor for select A, B, C, D, E, F from tbl WHERE C=123;
if(sqlca.sqlcode) 
{
    return;
}

EXEC SQL fetch log3
    into
     :A, :B, :C, :D, :E, :F, 
if(sqlca.sqlcode) 
{
    if (sqlca.sqlcode != DB_NORECORDS) 
    {
        return;
    }
    break;
} 
```

当我们运行这段代码时，表 tbl 中 F 的值为 Null。它给出了错误代码 1405。我尝试使用 memset 函数将其默认值设置为 0。但它不起作用。还有一件事我可以一次获取超过 90 个字段，当我试图这样做时，它在编译时给了我总线错误。提前谢谢请帮帮我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T08:01:39.003

您有 2 个基本选项：

1.  使用指示器来记录 NULL 的存在。当您希望在出现 NULL 时采取特定操作时，您可能应该使用此选项。
2.  使用 NVL 函数将检索到的 NULL 转换为另一个值，例如零或空白。这是最简单的解决方案。

**编辑：**

log3 游标的 NVL 示例。选择您想要的任何默认值。在示例中，我使用 ' ' 表示字符字段，使用 0 表示数字字段，使用 Jan 1st year 1 表示日期。

```
EXEC SQL declare log3 cursor for select NVL(A, 0), 
                                        NVL(B, ' '), 
                                        NVL(C, 0), 
                                        NVL(D, 0), 
                                        NVL(E, to_date('0001', 'YYYY')),
                                        NVL(F, ' ')
                                   from tbl 
                                  WHERE C=123; 
```

# html5boilerplate - H5BP模板中的css下不应该有vendor目录吗？

> ID：12472230
> 
> 赞同：0
> 
> 时间：2012-09-18T07:23:50.533
> 
> 标签：html5boilerplate

这将有助于保留供应商特定的 CSS 文件，例如引导文件或 jQuery UI CSS 文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-21T14:38:10.253

*HTML5 Boilerplate 旨在成为任何*新 Web 项目的良好起点。

中的 JavaScript 文件`/js/vendor`是适用于任何新事物（jQuery 和 Modernizr）的启动工具。

如果将 Bootstrap CSS 文件添加到那`/css/vendor`将不恰当地暗示 Bootstrap 适合任何新项目（它不是）。

所以我们唯一能做的就是添加一个空`/css/vendor`文件夹，这会引起混乱。除非你能想到一些适用于任何新项目的 CSS（比如已经包含的[normalize.css ）。](https://github.com/necolas/normalize.css)

# php - Zend 和长执行动作

> ID：12472239
> 
> 赞同：2
> 
> 时间：2012-09-18T07:24:16.437
> 
> 标签：php, zend-framework

我想运行`http://site.com/rss/rss_import`下载许多大文件的操作。
我用：

```
ignore_user_abort();
set_time_limit(0); 
```

大约 60 秒后，我收到以下消息：

> 504网关超时

当我`rss_import.php`直接运行时，不会出现504错误。
我能做些什么呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T14:26:29.203

504 Gateway Timeout（您可能正在使用 nginx）与 web 服务器相关，而不是与 php 相关。服务器只是停止等待来自 php-fcgi 的数据。

更改 nginx 的配置（请参阅[http://wiki.nginx.org/HttpFastcgiModule#fastcgi_read_timeout](http://wiki.nginx.org/HttpFastcgiModule#fastcgi_read_timeout)）或使用 ArneRie 已经建议的命令行。

//编辑：在（不太可能）您将 Apache 与 fcgi 一起使用的情况下，我也想为 apache 设置参数：[https ://httpd.apache.org/mod_fcgid/mod/mod_fcgid.html#fcgidiotimeout](https://httpd.apache.org/mod_fcgid/mod/mod_fcgid.html#fcgidiotimeout)

# android - 在android中通过命令行使用FFMPEG

> ID：12472242
> 
> 赞同：2
> 
> 时间：2012-09-18T07:24:36.943
> 
> 标签：android, command-line, ffmpeg

我想在我的 android 应用程序中通过 COMMAND LINE 使用 FFMPEG。为此目的：

1.  我已经交叉编译了 ffmpeg lib 并得到了 libffmpeg.so
2.  我已将 libffmpeg.so 和 ffmpeg 可执行文件存储在我的项目的 files 目录中。

这是我正在使用的代码：

公共类 FFMPEGActivity 扩展 Activity {

```
Process p;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

        String[] cmd =new String[4];
    cmd[0]="/data/data/com.example.ffmpegnew/files/libffmpeg";
    cmd[1]="-i";
    cmd[2]="mnt/sdcard/music/baba.mp4";
    cmd[3]="mnt/sdcard/music/outfile.mp4";

    p = Runtime.getRuntime().exec(cmd,null, new File("/data/data/com.example.ffmpegnew/files"));

    }
    catch(Exception e)
    {
        System.out.println("exception"+e);
    }

} 
```

}

这是我得到的例外：

```
09-17 13:47:01.679: I/System.out(3752): exceptionjava.io.IOException: Error running exec(). Command: [/data/data/com.example.ffmpegnew/files/libffmpeg.so, -i, mnt/sdcard/music/baba.mp4, mnt/sdcard/music/outfile.mp4] Working Directory: /data/data/com.example.ffmpegnew/files Environment: null 
```

请告诉我如何解决这个问题。在此先感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:16:48.130

我认为这行不通，除非您设法编译 ffmpeg 可执行文件，将其放在文件系统中的某个位置，然后通过您的本机层访问它。但是，通常，他们在 android 中使用 libffmpeg API，例如在[Dolphin Player](http://code.google.com/p/dolphin-player/source/checkout)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-30T16:51:48.377

您的代码似乎试图运行库，而不是 ffmpeg 可执行文件。请注意，即使在修复了您的**cmd**之后，您也需要额外的技巧来加载 libffmpeg.so，因为 Android 加载程序不会从**./加载共享库**

我建议构建一个静态链接的**ffmpeg**可执行文件以节省麻烦。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-30T12:57:59.303

将`ffmpeg`它访问的所有文件放在内部卡上（通过`context.getDir("", 0)`. 获得。完成此操作后，您将能够通过`exec()`.

但是，有些模型也会拒绝运行它。

# drools - Drools Fusion滑动窗口示例不起作用

> ID：12472243
> 
> 赞同：1
> 
> 时间：2012-09-18T07:24:42.263
> 
> 标签：drools, sliding-window, drools-fusion

我是 Drools 的新手，正在尝试滑动窗口的概念。

我的问题是检测是否在 2 个销售事件中至少发生了一次成功的交易。即使这样的事件发生与否，我总是得到“销售已发生 2 个事件”的输出。

- - - - - - -博士升 - - - - -

```
declare Sale
@role( event )
end

rule "Identify more than a single valid sale event"

//The variable saleHappened would be set to Y if a successful transaction

when sale: Sale ( saleHappened == "Y")  over window:length(2)  from entry-point MyEntryPoint

then

System.out.println("A sale has happened over 2 events" );

end 
```

- - - - - - -代码 - - - - -

```
public class DroolsTest {

    public static final void main(String[] args) {
        try {

            // load up the knowledge base 
            KnowledgeBase kbase = readKnowledgeBase(); 

            StatefulKnowledgeSession ksession = kbase.newStatefulKnowledgeSession(); 

            WorkingMemoryEntryPoint entryPoint = ksession.getWorkingMemoryEntryPoint("MyEntryPoint");

            Sale sale = new Sale();

            sale.setSaleHappened("N");
            entryPoint.insert(sale);

            Sale sale2 = new Sale();

            sale2.setSaleHappened("N");
            entryPoint.insert(sale2);

            ksession.fireAllRules();

            ksession.dispose(); 

        } catch (Throwable t) {
            t.printStackTrace();
        }
    }

    private static KnowledgeBase readKnowledgeBase() throws Exception {

        KnowledgeBuilder kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder(); 
        kbuilder.add(ResourceFactory.newClassPathResource("Sample.drl"), ResourceType.DRL); 
        KnowledgeBuilderErrors errors = kbuilder.getErrors(); 
        if (errors.size() > 0) { 
                for (KnowledgeBuilderError error: errors) { 
                        System.err.println(error); 
                } 
                throw new IllegalArgumentException("Could not parse knowledge."); 
        } 

        final KnowledgeBaseConfiguration kbConfig = KnowledgeBaseFactory.newKnowledgeBaseConfiguration(); 
        kbConfig.setOption(EventProcessingOption.STREAM); 
        KnowledgeBase kbase = KnowledgeBaseFactory.newKnowledgeBase(kbConfig); 
        kbase.addKnowledgePackages(kbuilder.getKnowledgePackages()); 
        return kbase; 
    }

    public static class Sale {

        public Sale () {

        }

        public String getSaleHappened() {
            return saleHappened;
        }

        public void setSaleHappened(String saleHappened) {
            this.saleHappened = saleHappened;
        }

        private String saleHappened;

    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-19T03:17:30.517

这与[错误 787118 - 长度滑动窗口保留所有事件](https://bugzilla.redhat.com/show_bug.cgi?id=787118)有关。滑动窗口事件触发的概念以及事件如何不脱离窗口在 bugzilla 条目中进行了说明。

可以固定如下：

```
--------------drl--------------------

declare Sale
@role( event )
end

declare window Ticks
    Sale()
        over window:length( 5 )
        from entry-point MyEntryPoint
end

rule "More than 2 sale suceess in 5 events"
when     Number($cnt : intValue,intValue > 2) 
from    accumulate( Sale ( saleHappened == "Y" ) from window Ticks,  count(1) )
then
    System.out.println("A sale has happened over " + $cnt +" events" );
end 
```

# angularjs - 如何将 AngularUI 集成到 AngularJS？

> ID：12472244
> 
> 赞同：79
> 
> 时间：2012-09-18T07:24:50.703
> 
> 标签：angularjs, angular-ui

抱歉这个愚蠢的问题，每个人都知道如何开始使用 AngularUI 吗？我已经从 Github 下载了它并阅读了 README 中的说明，但仍然不明白我必须做什么。

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2012-09-18T09:27:39.357

集成步骤：

*   包括 jQuery 和 jQuery-ui（最好从 CDN 提供）
*   包含角度（如果来自 CDN，最好包含）
*   包含 angular-ui JS/CSS（目前仅托管在 GitHub 仓库中的`build`文件夹中）
*   包括您计划使用的指令的任何 jQuery 插件
*   声明对 angular-ui 模块的依赖（`ui.directives`或`ui.filters`取决于您计划使用的内容）。

大多数概述的步骤只是包含 JS/CSS 依赖项。唯一“棘手”的部分是声明对 ui.* 模块的依赖关系，您可以这样做：

```
var myApp = angular.module('myApp',['ui.directives']); 
```

一旦包含了所有依赖项并配置了模块，您就可以开始使用了。例如，使用 ui-date 指令很简单（注意`ui-date`）：

```
<input name="dateField" ng-model="date" ui-date> 
```

这是完整的 jsFiddle，展示了如何使用 ui-date 指令：http: [//jsfiddle.net/r7UJ2/11/](http://jsfiddle.net/r7UJ2/11/)

您可能还想查看[http://angular-ui.github.com/](http://angular-ui.github.com/)的来源，其中有所有指令的实时示例。

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-05-03T18:00:44.040

截至 2013 年 5 月 3 日，以下是步骤：

包括

```
 <script src="angular.min.js"></script>
    <script src="ui-bootstrap-tpls-0.3.0.min.js"></script> 
```

注册用户界面

```
 angular.module('myFancyApp', ['ui.bootstrap']); 
```

确保`myFancyApp`与您的相同`<html ng-app="myFancyApp">`

让魔术开始。

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2012-11-17T22:56:54.427

我认为缺少的是插件-您必须添加 jquery 插件脚本和 css 才能使某些 angular-ui 指令起作用。例如 codemirror 指令需要：

```
 <script src="http://codemirror.net/lib/codemirror.js" type="text/javascript"></script>
    <script src="http://codemirror.net/lib/util/runmode.js" type="text/javascript"></script>
<link rel="stylesheet" href="http://codemirror.net/lib/codemirror.css" type="text/css" /> 
```

令我惊讶的是 angular-ui.github.com 没有提到需要包含插件。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-27T21:43:03.697

嗨，我专门写了一篇关于如何为 PHP 语法高亮执行此操作的文章。文章在这里： http: [//neverstopbuilding.net/how-to-integrate-codemirror-with-angular-ui/](http://neverstopbuilding.net/how-to-integrate-codemirror-with-angular-ui/)

事情的核心是正确配置：

```
var myApp = angular.module('myApp', ['ui']);

myApp.value('ui.config', {
    codemirror: {
            mode: 'text/x-php',
        lineNumbers: true,
        matchBrackets: true
    }
});

function codeCtrl($scope) {
    $scope.code = '<?php echo "Hello World"; ?>';
} 
```

对于类似于以下 HTML 片段的内容：

```
<div ng-app="myApp">
    <div ng-controller="codeCtrl">
        <textarea ui-codemirror ng-model="code"></textarea>
    </div>
</div> 
```

您可以在此处查看设置的整个 jsfiddle：http: [//jsfiddle.net/jrobertfox/RHLfG/2/](http://jsfiddle.net/jrobertfox/RHLfG/2/)

pkozlowski.opensource 是对的，您需要包含的文件比 AngularUI 文档中看起来要多得多（如果您可以将其称为文档...）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-10-28T23:46:48.550

The instructions are in the readme.md file at their official github repository

[Angular UI](https://github.com/angular-ui/bootstrap)

Alternatively, the way you can find out how to integrate is to open the angular-ui js file (example: ui-bootstrap-tpls-0.6.0.js) and in the first line, you will notice the following statement

```
angular.module("ui.bootstrap", [...deps...]) 
```

Based on the above code, you need to inject 'ui.bootstrap' into your module.

```
 angular.module('myFancyApp', ['ui.bootstrap','other_deps',.....]); 
```

# linux - linux - 无法在文本编辑器（尾声）中查看目录内容，但可以在终端中查看

> ID：12472249
> 
> 赞同：0
> 
> 时间：2012-09-18T07:25:15.790
> 
> 标签：linux, visible, invisible, coda

我正在使用通过 Amazon 的 EC2 托管的 linux 机器。今天，我把所有的内容都移到了一个更大的硬盘上。我使用 Coda 作为我的文本编辑器。

问题：我无法通过 Coda 查看新数据驱动器中许多目录的内容。我可以通过终端查看这些目录中的所有内容。

我尝试过的事情：
- 检查以确保为所述目录、子目录及其内容设置了权限。这些都设置为 775
- 我通过终端将文件移动到另一个目录，然后将它们移回原来的文件夹。这使我可以查看我移动的文件和目录，但在这些子目录中看不到它们的子目录或文件。
- 刷新所有文件夹，退出 Coda，删除站点连接，然后重新创建。这并没有改变什么。

关于发生了什么的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:32:47.687

奇怪....我一次将所有权限更改为 775，但某些目录仍设置为 755，所以我不得不手动更改这些。

# php - PHP/MySQL 选择一个数据库？

> ID：12472251
> 
> 赞同：-3
> 
> 时间：2012-09-18T07:25:19.663
> 
> 标签：php, mysql, database, connection

认为这应该是一件容易的事。我了解如何建立连接，例如：

```
$con = mysql_connect("localhost","peter","abc123"); 
```

`localhost`数据库类型在哪里，`peter`用户和`abc123`密码在哪里，但如何指定实际数据库？例如，我的服务器上有 3 个数据库。如何指定database2？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T07:27:17.947

使用 mysql_select_db()

```
mysql_select_db("database"); 
```

考虑使用 Mysqli 或 PDO，因为对 mysql 扩展的支持越来越少。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T08:35:29.713

由于有很多答案建议`mysql_select_db('database1');`并且得到更多支持，我将尝试创建一个完整的答案：

**不要使用`mysql_select_db('database1');`！** （您不应该在新的开发项目中使用它，因为它处于弃用过程中）

使用以下方法之一：

您可以像这样使用 PDO：

```
<?php
    try {
        $dbh = new PDO('mysql:host=localhost;dbname=test', $user, $pass);
        foreach ($dbh->query('SELECT * from FOO') as $row) {
            print_r($row);
        }
        $dbh = null;
    } catch (PDOException $e) {
        print "Error!: " . $e->getMessage() . "<br/>";
        die();
    }
?> 
```

或者你可以使用 mysqli：

```
<?php
   $mysqli = new mysqli("127.0.0.1", "user", "password", "database", 3306);
    if ($mysqli->connect_errno) {
        echo "Failed to connect to MySQL: (" . $mysqli->connect_errno . ") " . $mysqli->connect_error;
    }
?> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T07:27:36.073

你必须使用`mysql_select_db`. 这是手册中的一个[基本示例](http://www.php.net/manual/en/mysql.examples-basic.php)：

```
// Connecting, selecting database
$link = mysql_connect('mysql_host', 'mysql_user', 'mysql_password')
    or die('Could not connect: ' . mysql_error());
echo 'Connected successfully';
mysql_select_db('my_database') or die('Could not select database'); 
```

请注意，这些`mysql_*`函数已被弃用，并且不鼓励使用它们。您应该使用[`mysqli_*`](http://www.php.net/manual/en/book.mysqli.php)系列或[PDO](http://php.net/manual/en/book.pdo.php)，请阅读手册中有关[选择 MySQL API 的](http://www.php.net/manual/en/mysqlinfo.api.choosing.php)更多信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T07:27:48.323

试试这个：

```
mysql_select_db("DBNAME") or die('Could not select database'); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-18T07:28:26.853

使用[`mysql_select_db`](http://php.net/manual/en/function.mysql-select-db.php). 我也将跳上正常的潮流，并建议您改为学习 PDO 或 mysqli，因为目前不推荐使用正常的 mysql 接口。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-18T07:29:31.223

您可以像这样在服务器中选择不同的数据库

```
$conn1 = mysql_connect("localhost","peter","abc123"); 
$conn2 = mysql_connect("localhost","peter","abc123"); 

mysql_select_db('database1', $conn1);
mysql_select_db('database2', $conn2); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-09-18T07:44:25.007

你可以像下面这样更好地使用mysqli：-

```
$mysqli = new mysqli("localhost", "username", "password", "database_name"); 
```

**建议使用 mysqli 或 PDO_MySQL 扩展。不建议使用旧的mysql扩展进行新的开发。下面提供了详细的特征比较矩阵。所有三个扩展的整体性能被认为是大致相同的。尽管扩展的性能只占 PHP Web 请求总运行时间的一小部分。通常，影响低至 0.1%。**

# cxf - cxf 中的强制请求参数

> ID：12472256
> 
> 赞同：0
> 
> 时间：2012-09-18T07:25:29.680
> 
> 标签：cxf

我用 CXF 开发了一个 Web 服务，它运行良好。我有一个带有两个输入参数的服务，它们都应该是强制性的。但是当我调用我的服务时，只有第一个参数是强制性的。请让我知道我该怎么办？

我的SEI

```
@WebService(
    endpointInterface = "com.myCompany.product.webService",
    targetNamespace = "http://product.myCompany.com",
    portName = "product",
    serviceName = "ProductService")

@DataBinding(org.apache.cxf.aegis.databinding.AegisDatabinding.class)
public interface ProductService {

    @WebMethod(operationName = "authentication")
    @WebResult(name = "authenticationResponseParam")
    public AuthenticationResponseParam authentication(@WebParam(name = "user", header = true) String user,
                                 @WebParam(name = "authenticationRequestParam") AuthenticationRequestParam authenticationRequestParam);

} 
```

和我的 AuthenticationResponseParam 类

```
@XmlAccessorType(XmlAccessType.FIELD
)

@XmlType(name = "authenticationRequestParam", propOrder = {
    "account", "password"
 })

public class AuthenticationRequestParam implements Serializable {
    @XmlElement(name = "account", required = true)
    private BigDecimal account;

    @XmlElement(name = "password", required = true)
    private String password;

    public BigDecimal getAccount() {
        return account;
    }

    public void setAccount(BigDecimal account) {
        this.account = account;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    @Override
    public String toString() {
        return "AuthenticationRequestParam{" +
                "account=" + account +
                ", password='" + password + '\'' +
                '}';
    }
} 
```

和我的 CXF servlet xml

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:jaxws="http://cxf.apache.org/jaxws"
       xmlns:cxf="http://cxf.apache.org/core"
       xmlns:soap="http://cxf.apache.org/bindings/soap"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd
       http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd
       http://cxf.apache.org/bindings/soap
       http://cxf.apache.org/schemas/configuration/soap.xsd">

    <import resource="classpath:META-INF/cxf/cxf.xml"/>
    <import resource="classpath:META-INF/cxf/cxf-extension-soap.xml"/>
    <import resource="classpath:META-INF/cxf/cxf-servlet.xml"/>

    <cxf:bus>
        <cxf:features>
            <cxf:logging/>
        </cxf:features>
    </cxf:bus>

    <!--Data binding-->
    <bean id="aegisBean" class="org.apache.cxf.aegis.databinding.AegisDatabinding" scope="prototype"/>

    <bean id="jaxws-and-aegis-service-factory"
          class="org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean"
          scope="prototype">
        <property name="dataBinding" ref="aegisBean"/>
    </bean>

    <jaxws:endpoint id="telBank" implementor="#myService" address="/telBank">
        <jaxws:binding>
            <soap:soapBinding mtomEnabled="false" version="1.2"/>
        </jaxws:binding>
    </jaxws:endpoint>

    <bean id="myService" class="com.myCompany.product.webService.impl.ProductServiceImpl"/>

</beans> 
```

谢谢你

嘿伙计们，我在我的网络服务中添加了一项新服务

```
public BigDecimal sample(@WebParam(name = "sam1") BigDecimal a1,@WebParam(name = "sam2") BigDecimal a2); 
```

并且这两个参数都不是强制性的我该怎么办？请帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T05:22:23.663

我发现了我的问题。我使用 org.apache.cxf.aegis.databinding.AegisDatabinding az 数据绑定器，它只识别原始类型 az 强制。当我推荐我的输入参数成为强制时。我应该使用什么样的数据绑定器？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-23T04:56:33.220

如果要使用 AegisDatabinding 类作为数据绑定器，请将此属性设置为 bean 定义。

```
<bean id="aegisBean" class="org.apache.cxf.aegis.databinding.AegisDatabinding" scope="prototype">
    <property name="configuration">
        <bean class="org.apache.cxf.aegis.type.TypeCreationOptions">
            <property name="defaultMinOccurs" value="1"/>
            <property name="defaultNillable" value="false"/>
        </bean>
    </property>
</bean> 
```

# c# - 尝试反序列化对象时程序挂起

> ID：12472257
> 
> 赞同：0
> 
> 时间：2012-09-18T07:25:29.150
> 
> 标签：c#, sockets, deserialization, networkstream, binaryformatter

我正在开发一个基于 Windows 的聊天应用程序。当客户端第一次发送命令类时，服务器会处理它并通过发送另一个命令类来确认客户端。

（我已经对代码段进行了编号以发现程序的流程）

一切顺利，直到服务器发回确认。当代码在客户端 (5.) 中运行以反序列化并获取确认副本时，客户端程序无响应。但是服务器（6.）中的代码似乎工作 - 它成功地序列化了命令。

谁能指出这里有什么问题？

提前致谢。

服务器代码：

```
//1\. Server runs first
try
{
    BinaryFormatter binaryFormatter = new BinaryFormatter();

    //2\. Server is blocked here waiting for an incoming stream
    Command newCommand = (Command)binaryFormatter.Deserialize(networkStream);
}
catch (Exception ex)
{
    MessageBox.Show("EXCEPTION: " + ex.Message);
    Console.WriteLine(ex.Message);
}

Client c = new Client(newCommand.ClientName, endPoint,
                                        clientServiceThread, client);

// ...processing the newCommand object

Command command = new Command(CommandType.LIST);

try
{
    TcpClient newTcpClient = new TcpClient(newClient.Sock.RemoteEndPoint
                                                           as IPEndPoint);
    newTcpClient.Connect(newClient.Sock.RemoteEndPoint as IPEndPoint);
    NetworkStream newNetworkStream = newTcpClient.GetStream();
    BinaryFormatter binaryFormatter = new BinaryFormatter();

    //6\. Server serializes an instance of the Command class to be recieved by the client
    binaryFormatter.Serialize(newNetworkStream, command);
}
catch (Exception ex)
{
    MessageBox.Show(ex.Message, "Error");
    Console.WriteLine(ex.Message);
    newClient.Sock.Close();
    newClient.CLThread.Abort();
} 
```

客户代码：

```
//3\. Client runs second
TcpClient tcpClient = new TcpClient('localhost', 7777);
NetworkStream networkStream = tcpClient.GetStream();

Command newCommand = new Command(CommandType.CONN);

try
{
    BinaryFormatter binaryFormatter = new BinaryFormatter();

    //4\. Client serializes an instance of a Command class to the NetworkStream
    binaryFormatter.Serialize(networkStream, newCommand);
}
catch (Exception ex)
{
    Console.WriteLine(ex.Message);
}

BinaryFormatter binaryFormatter = new BinaryFormatter();

//5\. Then client is blocked until recieve an instance of command class to deserialize
Command serverResponse = (Command)binaryFormatter.Deserialize(networkStream);

clientForm.updateChatMessages(serverResponse);

//7\. Instead of recieving the instance of the Command class, the clients go unresponsive
//   and the client program hangs. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-25T06:09:51.013

我想到了。由于服务器为多个客户端提供服务，我犯了从同一个`NetworkStream`实例反序列化的错误。`NetworkStream`因此，我每次希望服务器发送消息时都通过提供客户端的套接字来更改代码以创建新的。

# c - 从 C 调用 Mips

> ID：12472264
> 
> 赞同：1
> 
> 时间：2012-09-18T07:26:07.747
> 
> 标签：c, assembly, mips

**我想从我的 C 程序中调用程序集（特别是 MIPS）代码，然后从程序集中调用**C。
我已经决定使用 GNU GCC 作为我的编译器，（我也猜想我需要一个模拟器？）
我在 x86 Win 7 机器上。有些事情我很不清楚这可以/应该如何解决。

*   如果 MIPS 将使用具有 32 个 regs 的加载存储架构，而 C 将继续使用寄存器内存架构，因为我在 x86 上？
*   现在我想调用 mips 程序集而不是 x86 程序集，我可以/我仍然使用 asm() 吗？
*   如果 MIPS 使用的寄存器比 C 多，我能从我的 C 代码中访问这些寄存器吗？

谁能帮我解决这个问题，也许可以指出我可以在哪里学习这种魔法？

谢谢

免责声明：我正在为学校的学分进行自我修改代码项目的验证，此代码将用作示例，但我没有获得此代码的任何学分。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T18:18:05.633

[此处](http://en.wikipedia.org/wiki/Calling_convention#MIPS)描述了最常见的 MIPS 调用约定。编写 C 可调用汇编例程的最简单方法是用 C 编写例程的骨架，然后将编译器输出的汇编代码复制到汇编源中（使用 gcc 的`-S`选项）。假设您要调用`C`as中定义的汇编程序函数`int foo(int a, int b)`。您可以在`C`. 例如，将以下内容放入 foo.c：

```
int foo(int a, int b) {
    return a+b;  // some simple code to access all arguments and the return value
} 
```

然后，您将使用 MIPS 交叉编译器（见下文）使用 gcc 的`-S`和`-O0`选项编译该函数，这将生成一个文本输出文件`foo.S`，为您提供 MIPS 汇编源代码以访问函数的参数`foo`并显示将返回值放在哪里. 只需将该源文件复制到您自己的汇编程序源中，然后添加您需要计算的汇编程序计算`foo`。

一旦你想出了另一个方向，从汇编中调用 C 就很简单了。

[您可以从Mentor Graphics](http://www.mentor.com/embedded-software/sourcery-tools/sourcery-codebench/editions/lite-edition/)（以前的 Codesourcery）下载免费的 MIPS gcc[交叉编译器](http://en.wikipedia.org/wiki/Cross_compiler)工具链。

[您可以从这里](http://www.ovpworld.org/download_MIPS.php)下载一个免费的、功能齐全的（它可以引导并运行 Linux）MIPS 模拟器。不要使用 SPIM 或 MARS，因为它们不能完全模拟 MIPS 架构。

# javascript - 正确使用 $.fn.myFunction()

> ID：12472270
> 
> 赞同：3
> 
> 时间：2012-09-18T07:26:22.193
> 
> 标签：javascript, jquery-plugins, jquery

```
(function($) {
    $.fn.myFunction = function(config) {

        var defaults = {
            setting1: 'myDiv',
            setting2: ''
        };
        var config = $.extend(defaults, config); 

        //code here

    };

})(jQuery)

$(document).ready(function() {

    $.fn.myFunction({
        setting1: 'myDiv',
        setting2: ''
    });

}); 
```

这就是我一直在使用 jQuery 插件的方式，但我最近了解到它应该像这样使用：

```
$('#myDiv').myFunction({
    setting1: 'myDiv',
    setting2: ''
}); 
```

1）我认为这允许使用`$(this)`for `$('#myDiv')`？

2)`$(document).ready(function()`需要吗？

3) 我一直在使用这个 jQuery 函数的方式有什么不利之处吗？

4）如果`$('#myDiv').myFunction()`是正确的用法，如果它只是一个在文档就绪时运行的函数，你将如何调用该函数 -~~在这里查看我的用法：[https](https://stackoverflow.com/a/12316349/1455709) ://stackoverflow.com/a/12316349/1455709 。这仅仅是对函数的错误使用吗？~~

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:39:54.717

1.  `return this`是的，如果你从你的函数内部进行适当的链接。

2.  是的，如果您的代码在加载 dom 之前运行。

3.  它不是真正的 jQuery，它不像人们期望的那样工作。有人可以称它为，但`$('#myDiv').myFunction()`它不会按预期执行。

4.  如果您想要一个可以随时运行的函数，请不要将它添加到 jQuery 原型 ( `$.fn`) 中。相反，您可以将它添加到`$`其他不需要选择器的 jQuery 函数中，[`$.trim`](http://api.jquery.com/jQuery.trim/)例如。然后你可以这样称呼它：`$.myFunction(options);`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T07:45:56.487

调用`$.fn.myFunction()`和调用`$('#myDiv').myFunction()`是两个不同的东西。没有对错之分——这取决于你在做什么。

## 调用 $.fn.myFunction()

这本质上是一个静态函数，如果你愿意，你可以这样使用它。在 jQuery 的世界里，`.fn`就像调用. 这是允许的，但它是一个与特定 jQuery 对象无关的静态函数调用。如果你只想要一个静态函数调用，那么你可以这样做，但这通常不是 jQuery 原型的使用方式，我通常不会推荐它。如果你只想要一个静态函数并想使用 jQuery 命名空间，你可以这样做：`.prototype``$.fn.myFunction()``jQuery.prototype.myFunction()`

```
$.myFunction = function(args) {/* your code here */}; 
```

然后像这样称呼它：

```
$.myFunction(); 
```

因为根本不需要使用原型。

## 打电话`$('#myDiv').myFunction()`

原型（例如`.fn`，在 jQuery 世界中用于向实际的 jQuery 对象添加方法时使用。

当您这样做时，这`$('#myDiv').myFunction()`是一个实时 jQuery 对象的成员函数。您可以`this`在实现内部进行引用`myFunction()`，它将是一个 jQuery 对象，在这种情况下，它包含对应于`id="myDiv"`. 如果你从你的方法返回 jQuery 对象，你也可以使用链接。

## 使用哪个？

如果您的代码对 jQuery 对象进行操作，那么它应该是实时 jQuery 对象上的一个方法，并且它应该可以访问`this`以获取 jQuery 对象实例数据，并且您应该将其声明为`$.fn.myFunction = function() {}; and call it as`$('#myDiv').myFunction()` .

如果您的代码不对 jQuery 对象进行操作，而只是您调用的实用程序函数，并且它并不总是对 jQuery 对象进行操作，那么您应该将其声明为`$.myFunction = function() {};`并且应该将其称为`$.myFunction()`.

# iphone - 当我按下 UIButton 时如何更改视图？

> ID：12472282
> 
> 赞同：0
> 
> 时间：2012-09-18T07:27:14.527
> 
> 标签：iphone, objective-c, ios, gridview, uibutton

一般来说，我是 iOS 开发和 Objective-C 的新手。目前我正在开发一个包含 3 个选项卡的应用程序。正如您从下面的屏幕截图中看到的那样，第一个选项卡包含一个带有 2 个单元格的表格视图。

![表视图](../Images/0618747e9506b8a9a8de7cd25b0b1296.png)

因此，在用户点击其中一个单元格后，会出现另一个带有按钮的详细视图，稍后将使用将在此处列出的产品图片进行更改。

![详细视图](../Images/1f0befd9d68d4aa3798b51c02149f8a6.png)

我的问题是：如何将按钮与另一个视图连接起来，该视图将包含带有一些详细信息的表格视图？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:32:28.613

您需要的是一个网格视图来显示您的产品。使用[GMGridView](https://github.com/gmoledina/GMGridView)。这个棒极了...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T07:51:33.557

在情节提要中，按住 control 键并从单元格拖动到要连接的视图控制器。然后将 segue 样式设置为“push”。设置新 segue 的名称。然后在代码中设置`-(void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender`方法中的产品数据。

```
-(void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    // GET THE SELECTED ROW
    NSInteger selectedRow = [[self.tableView indexPathForCell: sender] row];

    // PASS THE CORRESPONDING DATA TO THE NEXT VIEW CONTROLLER
    if (segue.identifier isEqualToString: @"MySegue") {
        MyViewController* myvc = (MyViewController*)segue.destinationViewController;
        MyProductData* selectedData = [_productData objectAtIndex: selectedRow];
        myvc.productData = selectedData;
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T09:52:25.787

因此，一旦用户点击产品图片按钮，您想显示有关该项目的更多详细信息吗？

在您的图像网格视图控制器中，只需创建一个方法：

```
- (IBAction)imageButtonAction:(id)sender {
    //  do something like check the [sender tag]
    //  to determine which button sent the message
    //  then instantiate the detail view controller and push
} 
```

然后将此方法连接到 Interface Builder 中的 Touch Up Inside 操作。您可以给每个按钮一个标签，并将它们的所有 Touch Up Inside 操作路由到同一个方法，而不是为每个按钮添加大量的操作方法。

# django - Django 基于类的视图：如何在返回视图之前检查对象值

> ID：12472290
> 
> 赞同：2
> 
> 时间：2012-09-18T07:27:46.713
> 
> 标签：django, django-views

我有一个我想象的很常见的场景，但我在搜索中没有找到任何明确的解决方案。

我有一个网络应用程序，其中大多数对象与用户具有 FK 关系。对于这些对象，我想检查相关用户是否与 self.request.user 相同。

我编写了一个覆盖 get_object 的 mixin，在返回对象之前执行这个简单的检查。

有没有更好的办法？在这里，我只是举了 404 的例子。我可能会在实际代码中为此返回一条专门的消息。

```
class CheckObjectUserMixin(object):
    def get_object(self, queryset=None):
        if queryset is None:
            queryset = self.get_queryset()

        pk = self.kwargs.get(self.pk_url_kwarg, None)
        slug = self.kwargs.get(self.slug_url_kwarg, None)
        if pk is not None:
            queryset = queryset.filter(pk=pk)

        elif slug is not None:
            slug_field = self.get_slug_field()
            queryset = queryset.filter(**{slug_field: slug})

        else:
            raise AttributeError(u"Generic detail view %s must be called with "
                                 u"either an object pk or a slug."
                                 % self.__class__.__name__)

        try:
            obj = queryset.get()
        except ObjectDoesNotExist:
            raise Http404(_(u"No %(verbose_name)s found matching the query") %
                          {'verbose_name': queryset.model._meta.verbose_name})

        # Until here it was the code from Django's get_object.
        # Now for the CheckObjectUserMixin I perform a simple check. 
        # If the object does not belong to the request user, we want to raise an 404.

        if obj.user_id != self.request.user.id:
            raise Http404(_(u'You do not have permission to view this page'))
        else:
            return obj 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T09:28:47.477

我认为你的代码是正确的，但没有必要复制所有 Django 的`get_object`代码。相反，您可以这样做：

```
from django.views.generic.detail import SingleObjectMixin

class CheckObjectUserMixin(SingleObjectMixin):
    def get_object(self, queryset=None):
        obj = super(CheckObjectUserMixin, self).get_object(queryset)
        if obj.user_id != self.request.user.id:
            raise Http404
        return obj 
```

# sql-server - 通过 ODBC / {Sql Server} 驱动程序使用 TCPIP 的链接表在 MS Access 2003 为 mdb 重新启动之间丢失

> ID：12472296
> 
> 赞同：0
> 
> 时间：2012-09-18T07:27:58.877
> 
> 标签：sql-server, ms-access, windows-xp, odbc, dao

我有以下设置导致问题：

*   msaccess 2003 (11.6566.8221) SP2 中的 MDB 或 MDE 前端
    ——从服务器共享文件夹或 C:\Development 运行
*   具有高级服务的 Microsoft SQL Server Express Edition (9.00.5000.00)
*   操作系统（“服务器”）：Microsoft Windows NT 5.1 (2600) = Windows XP

我在使用从文件 DSN 派生的相同链接表连接连接到它的开发机器（与“服务器”相同）上运行和调试 MDB 和 MDE。

我将 MDB 或 MDE 运行到另一个客户端（医院中的混合客户端环境），它挂起并在第一次调用表时抱怨 odbc--连接错误（这是启动代码中的 DLookup）

我停止代码，取消隐藏数据库窗口，并使用我随身携带在我的 USB 驱动器上的文件 DSN 重新链接所有表（与开发机器上相同）

*   注意：我的文件 DSN 中的相同设置在客户端上重新创建为新的 FileDNS = 成功）
*   浏览所有表格（从“访问表格”选项卡在表格视图中打开它们）= 有效
*   再次运行所有表格=有效
*   系统正常运行

** 现在 **

我再次保存 MDB，关闭 MDB（保持 ACCESS 打开），再次打开 MDB - 一切正常

我现在完全关闭 Access（不再运行），打开访问，然后打开 mdb - 现在发生错误，并且任何尝试查看链接表的操作都会出现相同的错误

可能提示：错误信息异常：

```
 Runtime Error '3151'
            ODBC--connection to 'SqlServerSAH0048645' failed 
```

以下确实有效 - 使用设置为打开“UserValidate”表单的启动选项打开文件 - 在 OnLoad 事件中调用 ResetDefaultconnections （使用我找到的无 DNS 代码） - 将所有 TableDefs.connection 字符串重置为：

```
strConnectionString = "ODBC;DRIVER={SQLServer} ;Description=RAHCC_DB; SERVER=tcp:10.19.54.64,1500; UID=RAHCC_User; PWD=XXXXXXx; APP=MSACCESS; WSID=SAH0034510; DATABASE=RAHCC_DB" 
```

*   删除然后为每个链接表添加新的 tabledef 记录
*   继续打开表格--->一切似乎都有效。

但是..一旦我关闭访问并重新打开-> 就不再起作用了。

注意 - 我仅限于我所拥有的（Sql Server 是否安装在所有客户端上） - 我仅限于使用 Sql Server 驱动程序的连接 - 我正在使用 Sql Server 授权

干杯，

乔恩高清

# ruby-on-rails - 运行 ruby 脚本/服务器时出错

> ID：12472302
> 
> 赞同：-2
> 
> 时间：2012-09-18T07:28:20.110
> 
> 标签：ruby-on-rails

运行 ruby​​ 脚本/服务器时出现错误，

HomeController#index 中的 DRb::DRbConnError

druby://localhost:3333 - #

我无法理解确切的错误在哪里，是否有任何 gem 丢失或服务器问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:02:14.303

我不知道您尝试启动的 ruby​​ 应用程序应该做什么，但它似乎使用 [DRB 服务器](http://segment7.net/projects/ruby/drb/introduction.html)，您必须先启动它。

# database - 我可以回滚我已经提交的事务吗？（数据丢失）

> ID：12472318
> 
> 赞同：59
> 
> 时间：2012-09-18T07:29:26.913
> 
> 标签：database, postgresql, data-recovery

我提交了不正确的`UPDATE`陈述并丢失了一些数据。

在我已经承诺之后，现在可以回滚吗？

有什么帮助吗？

```
ROLLBACK 
```

说`NOTICE: there is no transaction in progress`。

* * *

## 回答 #1

> 赞同：116
> 
> 时间：2012-09-18T07:50:01.493

不，您不能撤消、回滚或撤消提交。

## 停止数据库！

（注意：如果您从文件系统中删除了数据目录，请不要停止数据库。以下建议适用于意外提交`DELETE`或类似情况，而不是`rm -rf /data/directory`场景）。

如果此数据很重要，请**立即停止您的数据库**并且不要重新启动它。使用`pg_ctl stop -m immediate`以便在关机时不运行检查点。

事务一旦提交就不能回滚。您将需要从备份中恢复数据，或使用[时间点恢复](http://www.postgresql.org/docs/current/static/continuous-archiving.html)，这必须在事故发生*之前*进行设置。

如果您没有设置任何 PITR / WAL 归档并且没有备份，那么您就遇到了真正的麻烦。

## 紧急缓解

一旦您的数据库停止，您应该制作整个数据目录的文件系统级副本 - 包含`base`,`pg_clog`等的文件夹。将*其全部*复制到新位置。不要对新位置的副本做任何事情，如果您没有备份，这是您恢复数据的唯一希望。如果可以的话，在某个可移动存储上制作另一个副本，然后从计算机上拔下该存储。请记住，您*绝对*需要数据目录的每个部分，包括`pg_xlog`等。没有部分是不重要的。

具体如何制作副本取决于您运行的操作系统。数据目录的位置取决于您运行的操作系统以及安装 PostgreSQL 的方式。

## 一些数据可能存在的方式

如果您足够快地停止数据库，您可能希望从表中恢复一些数据。这是因为 PostgreSQL 使用[多版本并发控制 (MVCC)](http://www.postgresql.org/docs/current/static/mvcc.html)来管理对其存储的并发访问。有时它会将您更新的行的*新版本*写入表中，将旧版本留在原处但标记为“已删除”。过了一会儿，[autovaccum](http://www.postgresql.org/docs/current/static/routine-vacuuming.html)出现并将行标记为可用空间，因此它们可以被稍后的`INSERT`或覆盖`UPDATE`。因此，旧版本的`UPDATE`d 行可能仍然存在，存在但无法访问。

此外，Pg 分两个阶段写入。第一个数据被写入预写日志 (WAL)。只有当它被写入 WAL 并命中磁盘后，它才会被复制到“堆”（主表），可能会覆盖那里的旧数据。WAL 内容`bgwriter`通过定期检查点复制到主堆。默认情况下，检查点每 5 分钟发生一次。如果您设法在检查点发生之前停止数据库，并通过硬杀死它、拔掉机器上的插头或使用模式来停止它`pg_ctl`，`immediate`您可能已经在检查点发生之前捕获了数据，所以您的旧数据是更有可能仍然在堆中。

现在您已经制作了数据目录的完整文件系统级副本，如果您确实需要，您可以启动数据库备份；数据仍然会消失，但你已经尽你所能给自己一些可能恢复它的希望。考虑到选择，为了安全起见，我可能会关闭数据库。

## 恢复

您现在可能需要[聘请 PostgreSQL 内部专家](http://www.postgresql.org/support/professional_support/)来协助您进行数据恢复尝试。准备好为专业人士支付他们的时间，可能是相当多的时间。

我在 Pg 邮件列表上发布了有关此内容的信息，并将[Виктор Егоров 链接到](http://archives.postgresql.org/message-id/CAGnEboiDHxXBbFoLyVqt0qUe4FbxzqsHEQKkPSUDgkT4yYfDww@mail.gmail.com) [depesz 在 pg_dirtyread 上的帖子](http://www.depesz.com/2012/04/04/lets-talk-dirty/)，这看起来正是您想要的，尽管它不会恢复`TOAST`ed 数据，因此它的实用性有限。试试看，如果你幸运的话，它可能会奏效。

请参阅：[GitHub 上的 pg_dirtyread](https://github.com/omniti-labs/pgtreats/tree/master/contrib/pg_dirtyread)。

我已经删除了我在本节中编写的内容，因为它已被该工具淘汰。

另请参阅[PostgreSQL 行存储基础知识](http://facility9.com/2011/03/postgresql-row-storage-fundamentals/)

## 预防

请参阅我的博客条目[防止 PostgreSQL 数据库损坏](http://blog.ringerc.id.au/2012/10/avoiding-postgresql-database-corruption.html)。

* * *

在一个半相关的旁注中，如果您使用[两阶段提交](http://www.postgresql.org/docs/current/static/sql-prepare-transaction.html)，您可以`ROLLBACK PREPARED`为准备提交但未完全提交的事务。这大约是您最接近回滚已提交事务的时间，并且不适用于您的情况。

# asp.net - 使用 WebAPI 控制器的 Json 对象

> ID：12472319
> 
> 赞同：0
> 
> 时间：2012-09-18T07:29:27.987
> 
> 标签：asp.net, json, asp.net-mvc-3, asp.net-web-api, json.net

我正在使用 webapi 控制器。我必须将一个 JSON 对象从 Java 小程序传递给 web api 控制器。如何编写一个 web api 控制器方法来接受 JSON 对象

```
public test GetPo(int id)
{
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:49:04.877

ASP.NET Web API 使用 JSON 格式作为[默认格式](http://www.asp.net/web-api/overview/formats-and-model-binding/json-and-xml-serialization)：

> JSON 格式由 JsonMediaTypeFormatter 类提供。默认情况下，JsonMediaTypeFormatter 使用 Json.NET 库来执行序列化。Json.NET 是一个第三方开源项目。

您只需定义与 json 映射的模型对象：

```
public class Model
{
    public int Property1 { get; set; }
    public string Property2 { get; set; }

    // More properties
} 
```

还有你的 POST 方法：

```
public void Post(Model model)
{} 
```

# asp.net - sqlconnection 中的数据源无效

> ID：12472333
> 
> 赞同：0
> 
> 时间：2012-09-18T07:30:32.120
> 
> 标签：asp.net, sql-server-2008, vps

我有一个在我的本地计算机上运行良好的 asp.net 站点，它具有创建和打开连接的功能（sql server 2008 R2）连接数据库，因为数据源错误！这是它收到的错误：

```
 {System.Data.SqlClient.SqlException: A network-related or instance-specific error occurred while establishing a connection to SQL Server. 
    The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections.
     (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server) 
```

这是在我的计算机上运行的代码：

```
 public ClientHandle()
    {
        SqlConnection con = new SqlConnection("Server=localhost;Data Source=ARASH-PC;User ID=sa;password=*****;Initial Catalog=Ranker;Trusted_Connection=False;Integrated Security=False;");
     con.open();

    } 
```

当我将源上传到我的 VPS 时，我将数据源更改为我的 IP：

```
 public ClientHandle()
    {
        con = new SqlConnection("Server=localhost;Data Source=209.54.48.101;User ID=sa;password=*****;Initial Catalog=Ranker;Trusted_Connection=False;Integrated Security=False;");
    } 
```

但它无法连接到数据库！我的代码有什么问题？我的错误是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:51:32.090

试试这个：

```
con = new SqlConnection("Server=209.54.48.101;Database=Ranker;User ID=sa;Password=*****;Trusted_Connection=False;Integrated Security=False;"); 
```

**SQL Server 2008 的连接字符串**

***标准安全***

```
Data Source=myServerAddress;Initial Catalog=myDataBase;User Id=myUsername; Password=myPassword; 
```

或者

```
Server=myServerAddress;Database=myDataBase;User ID=myUsername;Password=myPassword;Trusted_Connection=False; 
```

# android - DialogFragment中的图片

> ID：12472335
> 
> 赞同：1
> 
> 时间：2012-09-18T07:30:36.430
> 
> 标签：android, android-dialogfragment

我有这样的DialogFragment：

```
public class GallerySinglePictureDialogFragment extends BasicDialogFragment {
    private Dialog mDialog;
    private Bitmap image;

    public GallerySinglePictureDialogFragment() {
    }

    public GallerySinglePictureDialogFragment(Bitmap image) {
        this.image = image;
    }

    @Override
    public Dialog onCreateDialog(Bundle savedInstanceState) {
        mDialog = new Dialog(getActivity(), R.style.Theme_GallerySinglePictureDialog);
        mDialog.setContentView(R.layout.frag_gallery_single_picture);
        ((ImageViewTouch)mDialog.findViewById(R.id.image_viewer)).setImageBitmap(image);
        return mDialog;
    }

    @Override
    public void onStop() {
        super.onStop();
        if(getDialog() != null){
            getDialog().dismiss();
        }
    }
} 
```

一切正常，除了一件事 - 当我旋转屏幕时，我的对话框片段中的位图消失了。当然，这是因为空的类构造函数。但我不知道如何修复这个错误。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-09-18T07:33:23.093

愚蠢的问题，对不起。

我换了

```
private Bitmap image; 
```

和

```
private static Bitmap image; 
```

当然，一切都有效。

# python - 递归地展平列表

> ID：12472338
> 
> 赞同：18
> 
> 时间：2012-09-18T07:30:41.757
> 
> 标签：python, list, recursion, nested

> **可能重复：**
> [在 Python 中展平（不规则）列表列表](https://stackoverflow.com/questions/2158395/flatten-an-irregular-list-of-lists-in-python)

我在使用 python 递归展平列表时遇到问题。我已经看到了许多需要列表理解的方法和各种需要导入的方法，但是我正在寻找一种非常基本的方法来递归地展平不使用任何 for 循环的不同深度的列表。我进行了一系列测试，但是有两个我无法通过

```
flatten([[[[]]], [], [[]], [[], []]]) # empty multidimensional list
flatten([[1], [2, 3], [4, [5, [6, [7, [8]]]]]]) # multiple nested list 
```

我的代码

```
def flatten(test_list):
    #define base case to exit recursive method
    if len(test_list) == 0:
       return []
    elif isinstance(test_list,list) and type(test_list[0]) in [int,str]:
        return [test_list[0]] + flatten(test_list[1:])
    elif isinstance(test_list,list) and isinstance(test_list[0],list):
        return test_list[0] + flatten(test_list[1:])
    else:
        return flatten(test_list[1:]) 
```

我会很感激一些建议。

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-09-18T07:48:30.857

这可以处理您的两种情况，我认为可以解决一般情况，而无需任何 for 循环：

```
def flatten(S):
    if S == []:
        return S
    if isinstance(S[0], list):
        return flatten(S[0]) + flatten(S[1:])
    return S[:1] + flatten(S[1:]) 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-09-18T09:34:39.880

```
li=[[1,[[2]],[[[3]]]],[['4'],{5:5}]]
flatten=lambda l: sum(map(flatten,l),[]) if isinstance(l,list) else [l]
print flatten(li) 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-09-18T07:59:37.067

好吧，如果你想要一种 lisp 的方式，让我们拥有它。

```
atom = lambda x: not isinstance(x, list)
nil  = lambda x: not x
car  = lambda x: x[0]
cdr  = lambda x: x[1:]
cons = lambda x, y: x + y

flatten = lambda x: [x] if atom(x) else x if nil(x) else cons(*map(flatten, [car(x), cdr(x)])) 
```

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2012-09-18T07:41:20.660

这是一个没有任何循环或列表理解的可能解决方案，仅使用递归：

```
def flatten(test_list):
    if isinstance(test_list, list):
        if len(test_list) == 0:
            return []
        first, rest = test_list[0], test_list[1:]
        return flatten(first) + flatten(rest)
    else:
        return [test_list] 
```

# python - 将 imshow 情节与常规情节相结合

> ID：12472339
> 
> 赞同：0
> 
> 时间：2012-09-18T07:30:44.633
> 
> 标签：python

在 Python 中，我有一个二维数组，例如：

1.3 5.7 3.2 5.6 2.3 9.5 1.1 4.1 5.2

然后我使用'imshow'来获得我需要的东西 - 我基本上有一个x轴为的图：（列）0（列）1（列）2 ....

y 轴是： 。. (行) 2 (行) 1 (行) 0

然后实际值（5.6 或 2.3 或其他）由颜色表示，这正是我想要的。

但后来，我希望 x 轴显示对应于第 0 列第 1 列和第 2 列等的日期，而不是 x 轴只是第 0 列第 1 列和第 2 列等。此信息存储在不同的列表，说“date_info[]”。

因此，我希望 imshow 的 x 值与 date_info[] 列表的值相对应，而不是底部的任意索引方案 - 例如，我希望 x 轴上的 date_info[2] 而不是数字 2。

现在在这个论坛的帮助下，我可以使用：

```
plt.xticks(mjdaxis,[int(np.floor(data_info[i])) for i in mjdaxis]) 
```

这在一段时间内就足够了，但我只是在这里更改 x 轴的标签，对吗？而不是正在绘制的内容。现在，当我试图在我的原始图上放置另一个图（只是一条常规曲线）时，x 轴缩放变得混乱，我的列再次聚集为 (1,2,3...)，而不是它们对应的 date_info 值（55500、55530、55574...）

如果有人能理解我在说什么，那就太好了！！

作为参考，这是我现在正在尝试的代码：

```
fig = plt.figure()
ax1 = fig.add_subplot(111)
mjdaxis=np.linspace(0,date_info[0]-1,20).astype('int')
ax1.set_xticks(mjdaxis,[int(np.floor(date_info[i])) for i in mjdaxis])
ax1.imshow(residuals, aspect="auto")

ax2 = ax1.twinx()
ax2.plot(pdot[8:,0],pdot[8:,1])

plt.show() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:48:06.407

如果我理解正确，您应该可以`ax2.set_xticks([])`在`plt.show()`. 您可能还想阅读 kwarg `hold`。

# asp.net-mvc-3 - 绑定到复杂对象列表

> ID：12472344
> 
> 赞同：2
> 
> 时间：2012-09-18T07:31:34.093
> 
> 标签：asp.net-mvc-3, entity-framework-4, model-binding

我在 mvc 应用程序中有实体模型。我有两张桌子：

引擎：ID、名称、零件

部件：Id、EngineId、名称、价格

这两个表之间存在一对多的关系。

在视图中：

```
@model Engine

<input type="hidden" name="Id" value="@Model.Id" />
<input type="text" name="Name" value="@Model.Name" />

@for(var part in Model.Parts)
{
    <input type="hidden" name="Parts.Index" value="@guide" />
    <input type="hidden" name="Parts[@guide].Id" value="@part.Id" />
    <input type="text" name="Parts[@guide].Name" value="@part.Name" />
    <input type="text" name="Parts[@guide].Price" value="@part.Price" />
} 
```

在控制器中：

```
public ActionResult Edit(int id)
{
    var model = context.Engines.FirstOrDefault(x=>x.Id == id);
    return View("Engine", model);
}

[HttpPost]
public ActionResult Edit(int id, FormCollection collection)
{
    var model = context.Engines.FirstOrDefault(x=>x.Id == id);
    UpdateModel(model);
    context.SaveChanges();
} 
```

我正在动态添加和删除零件。当我发布时，我在 model.Parts 中有零件列表。它们都添加了实体状态。我希望所有具有 Id 的部件都具有 EntityState.Modified 并且那些被删除的部件必须具有 EntityState.Deleted 并且添加的对象应该具有 EntityState.Added。可能吗？（EF 4.0 版）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:09:25.100

默认活页夹对 EF 状态一无所知。您可以为 Engine 类创建新的模型绑定器并在那里手动设置状态。

# php - 如何模拟通过 PHPUnit 引用传递变量的函数？

> ID：12472345
> 
> 赞同：5
> 
> 时间：2012-09-18T07:31:36.303
> 
> 标签：php, mocking, phpunit, pass-by-reference

我的代码看起来像：

```
class A
{
    function foo(&$a, $b)
    {
        if ($a == 0) {
            return false;
        } else {
            $a = $b + 1;
            return true;
        }
    }
}

class B
{
    function foo1($a, $b)
    {
        $a = new A;
        $a->foo($a, $b);
        if ($a == 0) {
            return false;
        }
        echo $a;
        return true;
    }
} 
```

我需要得到`$a`.
如何模拟函数`foo()`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T23:58:11.147

[PHPUnit 在将参数](https://stackoverflow.com/questions/4702132/modifying-objects-in-returncallback-of-phpunit-mocks)传递给模拟方法之前克隆它们。原始参数没有变通方法，但对于对象，您可以[添加非公共`__clone`方法](https://stackoverflow.com/a/4809221/285873)来阻止此行为。

# drupal - Drupal 7条件字段：如何根据其他选择选项字段显示特定字段

> ID：12472352
> 
> 赞同：2
> 
> 时间：2012-09-18T07:31:55.700
> 
> 标签：drupal, drupal-7, drupal-fields

我正在使用 Drupal 7 和条件字段。我需要显示一个选择字段，其值基于从第一个选项字段中选择的值。例如，如果第一个选择的选项是“国家”并且我选择“国家”为印度 => 我想在第二个字段中显示印度的所有州。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-02T10:10:57.467

在这种确切的情况下，我使用了[http://drupal.org/project/reference_option_limit](http://drupal.org/project/reference_option_limit) 按国家/地区限制城市的名称。

这是您可以配置的方法。[http://drupal.org/node/1596310](http://drupal.org/node/1596310)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T17:46:03.333

这应该正是您所需要的： http: [//drupal.org/project/hierarchical_select](http://drupal.org/project/hierarchical_select)

让我们知道它是否有效！

# actionscript-3 - 无法访问 RadioButtonGroup 的空对象引用

> ID：12472354
> 
> 赞同：1
> 
> 时间：2012-09-18T07:32:05.120
> 
> 标签：actionscript-3, flash

### 快速版本：

尝试将 2 个 RadioButtonGroups 与`if`语句进行比较时，如果其中一个组没有选择 RadioButton，则会出现错误；

> 错误 #1009：无法访问空对象引用的属性或方法。

### 长版：

我在 actionscript 中创建了 2 个具有相同内容的列表，并将它们存储在 RadioButtonGroups 中。这个想法是用户将从 A 列中选择一个元素，然后从 B 列中选择一个元素。此功能工作正常，但是当我进行验证时，如果两个列都已被选中，则程序在单击按钮时检查，我得到：

> 无法访问属性错误（见上文）。

这是我的代码：

```
import fl.controls.RadioButtonGroup;
import flash.events.MouseEvent;
import flash.net.URLLoader;
import flash.net.URLRequest;
import flash.events.Event;
import fl.controls.RadioButton;

var focus1:RadioButtonGroup = new RadioButtonGroup("Focus 1");
var focus2:RadioButtonGroup = new RadioButtonGroup("Focus 2");
var myXML:XML;
var myLoader:URLLoader = new URLLoader();
var btn1:Array = new Array();
var btn2:Array = new Array();

myLoader.load(new URLRequest("courseLoader.xml"));
myLoader.addEventListener(Event.COMPLETE, processXML);

function processXML(e:Event):void {
    myXML = new XML(e.target.data);

    for (var i = 0; i < myXML.COURSES.length(); i++) {
        var radA:RadioButton = new RadioButton();
        var radB:RadioButton = new RadioButton();

            // Create left focus column
        radA.x = 50;
        radA.y = i * 25 + 75;
        radA.width = 300;
        radA.name = "radA" + i;
        radA.label = myXML.COURSES[i].NAME[0];
        addChild(radA);
            btn1.push(radA);
        btn1[i].group = focus1;

        // Create right focus column
        radB. x = 450;
        radB.y = i * 25 + 75;
        radB.width = 300;
        radB.name = "radB" + i;
        radB.label = myXML.COURSES[i].NAME[0];
        addChild(radB);
        btn2.push(radB);
        btn2[i].group = focus2;
}

submit_btn.addEventListener(MouseEvent.CLICK, checkResult);

function checkResult(e:MouseEvent):void {
    var tempVar 

    if (focus1.selection.label == focus2.selection.label) {
        feedback.text = "Nope, they're both the same. Try again";
    } /* THIS IS WHERE IT STOPS WORKING */ else if (focus1.selection == null) {
        feedback.text = "You forgot to choose a focus from the 2nd column!";
    } else if (focus1.selection.label == null) {
        feedback.text = "You forgot to choose a focus from the 1st column!";
    } else if (focus2.selection.label == null) {
        feedback.text = "You forgot to choose a focuse from the 2nd column!";
    }
} 
```

我尝试使用不同类型的属性和方法来比较两组并检查是否未选择其中之一，但我不断收到相同的错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:02:06.877

您首先检查标签，然后才检查选择是否为空。这是错误的，你必须以相反的顺序来做。

```
if (focus1.selection == null) {
    feedback.text = "You forgot to choose a focus from the 1st column!";
} else if (focus2.selection == null) {
    feedback.text = "You forgot to choose a focus from the 2nd column!";
} else if (focus1.selection.label == focus2.selection.label) {
    feedback.text = "Nope, they're both the same. Try again";
} 
```

# c# - 如何防止用户控件填充选项扩展得太远

> ID：12472356
> 
> 赞同：2
> 
> 时间：2012-09-18T07:32:09.427
> 
> 标签：c#, .net, winforms, dock

我有一个用户控件，我正在动态添加它作为主窗体的控件。Mainform 基本上是空的，除了底部有一个大的状态栏。

问题是，当我在我的用户控件上设置 Dockstyle.Fill 选项时，加载的用户控件的大小超出了状态栏（它填充了整个主窗体，就好像状态栏不存在一样）。

如何防止这种行为？这是我如何动态加载表单的示例

```
 logicForm = new LogicForm();
        this.Controls.Add(logicForm);
        logicForm.Dock = DockStyle.Fill; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:44:41.843

我认为您需要将 DockStyle 设置为 None 并改用 Anchor 属性。

将锚点设置为 Top、Bottom、Left、Right 并调整控件的大小以填充状态栏的所有空间。

您应该会发现，当您运行时，用户控件将随表单一起调整大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:08:16.307

我刚刚找到了解决方案

如果我在主窗体上已经有一些其他控件，我需要将窗体放在前面以便正确停靠它：

```
logicForm.BringToFront(); 
```

在这里找到：http: [//dotnetref.blogspot.kr/2008/08/using-dock-fill-on-control-when-you.html](http://dotnetref.blogspot.kr/2008/08/using-dock-fill-on-control-when-you.html)

-_________________________

# linux - 是否有一个 Linux 文件系统，可能是 fuse，它将目录大小作为其内容及其子目录的大小？

> ID：12472361
> 
> 赞同：-1
> 
> 时间：2012-09-18T07:32:35.493
> 
> 标签：linux, filesystems, fuse

如果没有，写一个有多可行？一个文件系统，它为每个目录递归地保持其内容的大小，并且不是通过重新计算文件系统上每次更改的大小来保持更新，而是例如在文件被删除或增长时更新目录大小。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:00:58.130

我不知道这样的文件系统。从文件系统的角度来看，目录就是文件。

您可以使用：

```
du -s -h <dir> 
```

显示目录中所有文件的总大小。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:00:48.530

从文件系统的角度来看，目录的大小是关于其存在的信息的大小，需要物理保存在介质上。请注意，包含总共 10GB 文件的目录的“大小”实际上与空目录的“大小”相同，因为标记其存在所需的信息将占用相同的存储空间。这就是为什么文件的大小（内部的套接字、链接和其他东西）实际上与“目录大小”不同。子目录可以从不同的位置挂载，包括远程挂载和递归挂载。目录大小只是人类的想象，因为真正的文件在物理上并不是“内部”目录 - 目录只是容器的标记，与特殊文件（例如设备文件）标记特殊文件的方式完全相同。重新计算和更新总目录大小更多地取决于其中的项目数量，而不是它们的大小总和，现代文件系统可以将数十万个文件（如果不是更多）“保存在”一个目录中，即使没有子目录，所以计算它们的大小与获得这些信息可能带来的利润相比，这可能是一项相当艰巨的任务。简而言之，当您执行例如“du”（磁盘使用）命令时，或者当您在 Windows 中计算目录大小时，实际上通过内核使用文件系统驱动程序执行此操作不会更快 - 计数就是计数。与获得此信息可能获得的利润相比。简而言之，当您执行例如“du”（磁盘使用）命令时，或者当您在 Windows 中计算目录大小时，实际上通过内核使用文件系统驱动程序执行此操作不会更快 - 计数就是计数。与获得此信息可能获得的利润相比。简而言之，当您执行例如“du”（磁盘使用）命令时，或者当您在 Windows 中计算目录大小时，实际上通过内核使用文件系统驱动程序执行此操作不会更快 - 计数就是计数。

有配额系统，它保存和更新有关特定用户或组拥有的文件的总大小的信息，但是，它们仅限于单独监视分区，因为特定分区配额可能启用或不启用。此外，正如您所说，当文件增长或删除时，配额使用情况会更新，这就是信息可能不准确的原因 - 因此配额会不时重建，例如使用 cron 作业，通过扫描所有目录中的所有文件“从头开始”，在启用它的分区上。

另请注意，IO 操作速度（包括读取有关文件的信息）的瓶颈通常是介质本身的速度，然后是通信总线，然后是 CPU，而您认为每个文件系统都快如 RAM FS。RAM FS 可能是最简单的文件系统，实际上保存在 RAM 中，这使得 IO 操作进行得非常快。您可以在模块中构建它并尝试添加您描述的功能，您将学到很多有趣的东西:)

FUSE 代表“用户空间中的文件系统”，使用 fuse 实现的 FS 通常很慢。当特定情况下的功能比速度更重要时，它们才有意义，例如，您可以根据新购买的电子温度计的温度读数创建一个伪文件系统，您通过 USB 连接到计算机，但是它们不是速度守护进程，您知道 ：）

# algorithm - Pinterest 流行的 pin 算法是什么？

> ID：12472365
> 
> 赞同：2
> 
> 时间：2012-09-18T07:32:51.097
> 
> 标签：algorithm, pinterest

他们如何计算一个别针是否受欢迎？我有这样的想法：

{reposts}*150+{comments}*100+{likes}*50-{time}/150

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:49:36.330

他们可能不会告诉外面的任何人......但根据我的经验，流行度算法开始时就像你建议的那样，但随着时间的推移会变得更加完善和复杂。到目前为止，我一直在开发的每一个类似的算法，即使在上线后几个月都在不断发展。当人们试图欺骗算法使他们自己的东西比其他东西更受欢迎时，会添加额外的约束来避免这种情况。

很可能会涉及更多因素，例如

*   点击次数
*   分数取决于采取行动的用户的用户分数（转发，评论，...），即“VIP”用户评论两次比新手评论两次更受欢迎
*   ...

# wordpress - 将 OpenCms 的文章导出到 Wordpress

> ID：12472368
> 
> 赞同：1
> 
> 时间：2012-09-18T07:32:57.287
> 
> 标签：wordpress, export, article, opencms

我有一个网站使用 OpenCms (http://www.opencms.org)。现在，我想用 Wordpress (http://wordpress.org) 替换它。如何将文章从旧网站（OpenCms）导出到新网站（Wordpress）？

对不起我的糟糕的Endlish！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T19:33:07.317

OpenCms 有一个静态导出功能，可以将所有页面导出到文件系统，这可以派上用场。您可以在“管理视图 > 数据库管理 > 开始静态导出”下找到它。

# pdf - 如何实现数字签名

> ID：12472370
> 
> 赞同：1
> 
> 时间：2012-09-18T07:33:14.230
> 
> 标签：pdf, digital-signature

我们正在构建一个 Web 应用程序（Java）。有人可以帮我简要介绍一下实现以下业务场景需要什么吗？

1.  用户访问我们的网站
2.  他输入了一些数据
3.  他从输入的数据生成 PDF 文件并将其导出
4.  他对这个 PDF 文件进行了数字签名
5.  然后他将此 PDF 文件上传到我们的网站
6.  系统可以解析 PDF 文件以了解谁签署了该文件，并确保其完整性和不可否认性以及某些后期处理。

我的问题是：

*   我需要哪些产品/库（商业或免费开源）来实现上述功能？
*   这些产品是否为开发人员提供 API 以编程方式操作签名过程并从签名文档中检索信息？
*   上述3~5步进行数字签名是否合理或正确？用户是否可以一步在线签署数据（例如，不导出 PDF 文件）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T09:24:47.577

iText 是一个 java 库，除其他外，它使您能够在 pdf 文档上签名和验证签名。这将使您的用户能够在线签署 pdf。可以在[此处找到使用 iText 在 pdf 文档中签名和验证签名的一个很好的示例](http://itextpdf.com/examples/iia.php?id=222)

该库的[许可证](http://itextpdf.com/terms-of-use/)是 AGPL，即您需要在 AGPL 下发布您的软件或购买商业许可证。

它曾经属于 LGPL，因此您可以根据 LGPL 条款使用 iText 2.1.7，而无需购买商业许可。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:29:29.803

如果数据位于客户端，那么您最简单的选择是创建一个 Java 小程序，该小程序将在浏览器中执行，并对数据进行签名。任何数据都可以签名，您不需要 PDF 来签名。通用二进制数据可以使用 PKCS#7/CMS 格式或使用 XMLDSig（不太广泛的选项）进行签名。

对于 Java 小程序中的数据签名，您可以使用 BouncyCastle 或我们的 SecureBlackbox（Java 版）。BouncyCastle 是开源的，SecureBlackbox 带有支持、文档和示例。

# android - android发送带有创建但未保存的图像截图的电子邮件

> ID：12472377
> 
> 赞同：2
> 
> 时间：2012-09-18T07:33:54.840
> 
> 标签：android, image, email, screenshot

我想在不保存图像的情况下制作屏幕截图，现在我这样做是为了制作截图：

```
View view = webView.getRootView();
view.setDrawingCacheEnabled(true);
Bitmap bitmap = Bitmap.createBitmap(view.getDrawingCache());
view.setDrawingCacheEnabled(false);
result = new PluginResult(PluginResult.Status.OK); 
```

并将图像附加到电子邮件：

```
i.putExtra(Intent.EXTRA_STREAM, Uri.parse("file:///INFINITA-PL.png")); 
```

我不知道如何在没有路径的情况下做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:50:56.717

该`EXTRA_STREAM`值必须是`Uri`可以由电子邮件进程打开的。如果您不想将其保存为文件并将其传递，则需要实现 a`ContentProvider`以使其可访问。[一般来说，这样做很麻烦](https://stackoverflow.com/questions/1542008/returning-a-memory-mapped-inputstream-from-a-content-provider)：我可以回应那个问题中的评论（我在放弃之前努力了一段时间，没有碰到文件系统）。

使用 File 并继续使用应用程序的其余部分可能会更好地为您服务。

# group-by - SQL 查询 - 汇总值、Group by 和 Have 子句

> ID：12472381
> 
> 赞同：1
> 
> 时间：2012-09-18T07:33:57.977
> 
> 标签：group-by, having-clause

我有一个名为 car 的数据库表，其模式为 Car(maker, model, type)。

我试图找到一个 SQL 查询，找出仅生产相同类型模型的制造商，并且这些模型的数量超过 1。

我是 SQL 的初学者并尝试过查询

```
select maker, type
from car
group by maker, type
having count(model) > 1 
```

但它会产生错误的结果。任何帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:41:31.080

您需要使用大写字母来指示：试试这个：

```
SELECT maker, type
FROM car
GROUB BY maker, type
HAVING COUNT(model) > 1; 
```

而且我们也不要忘记最后的分号。

# codeigniter - 如何删除所有会话和 cookie

> ID：12472383
> 
> 赞同：1
> 
> 时间：2012-09-18T07:34:01.593
> 
> 标签：codeigniter, session, cookies

我想知道是否有任何方法可以删除所有域站点 cookie 和会话参数。

像`$this->session->destroy();`什么？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-09-18T07:36:36.117

```
$this->session->sess_destroy() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-02-19T06:54:35.300

请注意，对于发布销毁会话的应用程序，您希望用户登陆索引页面，在该索引页面上处理该功能，请使用以下命令，

```
$this->session->sess_destroy();
redirect(''); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-09-10T20:39:21.920

在 CodeIgniter 4 中，如果你想删除所有会话数据以及索引/键，那么你可以使用这个：

```
$this->session->destroy(); 
```

# dojo - canEdit 在默认加载时无法在 dgrid 中工作

> ID：12472386
> 
> 赞同：2
> 
> 时间：2012-09-18T07:34:32.570
> 
> 标签：dojo, editor, dgrid

我有一个树形网格，在编辑时具有以下 ui 要求。

*   某些行的成本列是可编辑的。
*   默认情况下，可编辑行应始终可用于编辑，而不是基于任何事件。
*   每行都有最小最大范围。当用户输入需要验证的值时。

这是我为 dgrid 定义的列结构。

```
var columns = [
        tree({label: "Name", field:"name" }),
        { label : "Description", field:"description" },
        editor({label: "Cost", field: "cost", canEdit : function(rowItem){ return rowItem.isEditable;}}, dijit.form.NumberTextBox),
        {label:"Min - Max Range", field:"minRange", get:getMinMax, id:'minMax'}
]; 
```

尽管树和编辑工作正常，但我几乎没有要解决的问题。

*   当没有为编辑器提供 editOn 时，默认情况下该列是可编辑的。但是，只有当我们在 editOn 参数中提供 spl 事件时，才会调用 canEdit。有没有办法让 canEdit 即使在默认加载期间也被调用。
*   我需要为每一行动态设置 NumberTextBox 的范围约束。有没有一种简单的方法可以根据行值设置约束。

非常感谢您的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-10T09:24:59.040

1.  至于在editOn为假时调用的canEdit： [https://github.com/SitePen/dgrid/issues/623](https://github.com/SitePen/dgrid/issues/623)
2.  至于基于行值的动态设置值，您可以尝试：
    在小部件级别扩展小部件：
    在继承后启动（参数）

    > var _row=this.grid.grid.row(this.domNode.parentNode);
    > this.query={myParam:_row.data.maxRange};

策马赫。

# c# - 测试 StructureMap 约定

> ID：12472389
> 
> 赞同：1
> 
> 时间：2012-09-18T07:34:57.133
> 
> 标签：c#, unit-testing, structuremap

我有一个如下所示的 StructureMap 约定：

```
public class FakeRepositoriesConvention : IRegistrationConvention
{
    public void Process(Type type, global::StructureMap.Configuration.DSL.Registry registry)
   {
        if (type.Name.StartsWith("Fake") && type.Name.EndsWith("Repository"))
        {
            string interfaceName = "I" + type.Name.Replace("Fake", String.Empty);
            registry.AddType(type.GetInterface(interfaceName), type);
        }
    }
} 
```

我想为此实施单元测试，但我不知道该怎么做。

我的第一个想法是发送一个模拟的注册表，然后测试是否使用正确的参数调用了 AddType()。我无法让它工作，可能是因为 AddType() 不是虚拟的。Registry 实现了 IRegistry 但这对我没有帮助，因为 Process 方法不接受接口。

**所以我的问题是 - 我该如何测试呢？**

*（我正在使用 nUnit 和 RhinoMocks）*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T09:44:21.410

您可以完全跳过模拟并使用具有预定义虚拟类型的注册表和组件的简化版本：

```
// Dummy types for test usage only
public interface ICorrectRepository { }
public class FakeCorrectRepository : ICorrectRepository { }

[Test]
Process_RegistersFakeRepositoryType_ThroughInterfaceTypeName()
{
    var registry = new Registry();
    var convention = new FakeRepositoriesConvention();

    // exercise test
    convention.Process(typeof(FakeCorrectRepository), registry);

    // assert it worked
    var container = new Container(c => c.AddRegistry(registry));
    var instance = container.GetInstance<ICorrectRepository>();
    Assert.That(instance, Is.Not.Null);
} 
```

如果您的约定如您所想的那样有效，则上述测试应该通过。

# java - 如何创建一个界面，在左侧显示对象并在右侧显示每个对象的详细信息？

> ID：12472390
> 
> 赞同：3
> 
> 时间：2012-09-18T07:35:01.627
> 
> 标签：java, swing, jlist, jtextpane, jsplitpane

我不确定哪个容器或组件可以帮助创建以下菜单栏。我已经在底部创建了菜单栏和状态栏。但我不知道哪个界面是最好的。

![在此处输入图像描述](../Images/8a073f0cef6081bfaaf9f52dbaf8c563.png)

我感谢任何帮助，

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T07:52:58.173

*   将[JList](http://docs.oracle.com/javase/tutorial/uiswing/components/list.html)放在左侧

*   把[JTextArea，更好的JTextPane](http://docs.oracle.com/javase/tutorial/uiswing/components/text.html)放到正确的区域

*   将 (`JList`和`JTextArea/JTextPane`) [JComponents](http://docs.oracle.com/javase/tutorial/uiswing/components/index.html)都放入[JScrollPane](http://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-18T07:54:15.767

核心内容（中间部分）正在使用，目前正在使用`JSplitPane`

您可以使用 a `BorderLayout`（在类似的东西上） a获得类似的外观`JPanel`。您将索引放在容器`JScrollPane`的下方，并将窗格放在`WEST``Details``CENTER`

您可能还会发现`CardLayout`从内容区域切换窗格很有用

# database - Dbs 中的多重继承建模

> ID：12472392
> 
> 赞同：0
> 
> 时间：2012-09-18T07:35:23.693
> 
> 标签：database, database-design

我正在建模一个有礼物的系统。这些礼物可以是您提供的礼物或您收到的礼物。此外，这些礼物可以是单个或多个，最后它们也可以是一种类型，如玩具、食物、旅行或其他。

所以，我想到了：

```
Presents --> Toys --> Offer   --> Single
         |        |           --> Multiple
         |        --> Receive --> Single
         |                    --> Multiple
         --> Food --> Offer   --> Single
         |        |           --> Multiple
         |        --> Receive --> ...
         --> Trip --> ..
         --> Other --> .. 
```

我发现这是我系统的唯一解决方案。所有的“叶子”都将在不同的表中实现，那是因为所有的“叶子”可以有不同的模型，有时它会是一个更多的属性。有时会更多。因此，它是一个三重继承，其中 Present 类的模型的属性取决于三个因素。

问题是，如果您知道我的意思，我发现这个解决方案非常丑陋。这就是为什么我想问问你们对这个问题的看法。

提前致谢。琼

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T14:07:34.680

在不了解的情况下，我只能推测，但做一些假设：

1.  有一些概念：礼物，玩具，食物，旅行，其他，提供，接收，单一，多重。
2.  这些概念中的每一个都有一组稳定的属性。
3.  目前您有 16 个表，每个表的结构都不同。

您的模型可以用 10 个表来描述，每组稳定属性一个，加上一个将它们拉到一起的链接表。

链接表需要稀疏列，即（玩具、食物、旅行、其他）的四分之三的参考列中有空值，所以这不是标准化的，但更像是数据仓库模式。

事实表看起来有点像（省略列类型）：

```
gift_id not null, //primary key
present_id not null, // always have one of these
toy_id null, //refers to a row in the toy table
food_id null, // refers to a row in the food table...and so on below
trip_id null,
other_id null,
offer_id null,
receive_id null,
single_id null,
multiple_id null 
```

仍然有点不愉快，因为这个事实表可能需要额外的列，因为需要新的东西，但是添加可以为空的列是一个非常安全的事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-20T06:15:00.963

这里有一个非常相似的问题......

[如何用 RDBMS 建模这种多重继承关系？](https://stackoverflow.com/questions/1016309/how-to-model-this-multiple-inheritance-relationship-with-a-rdbms/24847863#24847863)

如果您使用的是 PostgreSQL，则允许多重继承。

```
 CREATE TABLE presents
 (
    gift_id INT,
    PRIMARY KEY(gift_id)
 );

 CREATE TABLE offer_receiver
 (
   is_offer BOOLEAN,
   PRIMARY KEY(is_offer)
 );

 CREATE TABLE present_quantity
 (
   qty_received INT,
   PRIMARY KEY(qty_received)
 );

 CREATE TABLE present_info
 (
   person_id INT,
   PRIMARY KEY(person_id)
 ) INHERITS(present, offer_receiver, present_quantity); 
```

这篇文章很好地解释了何时以及如何使用继承：

[http://ledgersmbdev.blogspot.com/2012/08/postgresql-or-modelling-part-3-table.html](http://ledgersmbdev.blogspot.com/2012/08/postgresql-or-modelling-part-3-table.html)

话虽如此，重新考虑这种设计可能是一个好主意。这看起来更像是一个对象层次结构，而不是一个 ER 模型。请记住，在程序中建模数据可能是父->子，但在数据库中建模数据可能是倒退的。

# c# - 获取 NotFound 尝试使用 WebClient 访问 google.com

> ID：12472393
> 
> 赞同：0
> 
> 时间：2012-09-18T07:35:24.170
> 
> 标签：c#, windows-phone-7

问题是：远程服务器返回错误：NotFound

```
private WebClient client = new WebClient();
private string siteUrl = "http://www.google.com/";

// Constructor
public MainPage()
{
    InitializeComponent();

    client.DownloadStringCompleted += new DownloadStringCompletedEventHandler(client_DownloadStringCompleted);
    client.DownloadStringAsync(new Uri(siteUrl));
}

void client_DownloadStringCompleted(object sender, DownloadStringCompletedEventArgs e) 
{
    try
    {
        if (e.Error == null)
        {
            webClientResults.Text = e.Result;
        }
    }
    catch(Exception ex)
    {
        MessageBox.Show(ex.Message);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:09:25.590

检查设备中的网络连接。此类错误主要发生在没有适当的互联网连接不可用时。

你的代码没有问题。

# html - Firefox 不支持 withCredentials 属性

> ID：12472395
> 
> 赞同：4
> 
> 时间：2012-09-18T07:35:27.603
> 
> 标签：html, firefox, jquery

我正在使用 HTML5、jQuery 1.6.1、jQuery Mobile 1.0.1。

我正在使用下面的代码来发出 Ajax 请求。它在 Chrome 中运行良好，但在 Firefox 14.0.1 中测试时出现以下错误。

> 窗口上下文中的同步模式不再支持使用 XMLHttpRequest 的 withCredentials 属性。

代码：

```
$.ajax({
   type: "GET",
   dataType: "json",        
   async: false,
   beforeSend: function (xhr){          
        xhr.setRequestHeader('Authorization', make_base_auth(UserId, Password)); 
  },
  xhrFields: {
      withCredentials: true
  },
   success:function(data){                  
   console.log("Success");          
 },
 error:function(xhr,err){
    console.log("Failed" );
 }          
}); 
```

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-09-18T07:37:39.270

解决方法很简单：不要`async: false`在`$.ajax`.

它在较新的版本中已弃用，您不需要它。使用它总是一个坏主意。执行您需要对成功回调的结果执行的操作（就像您的`console.log`）。

从[文档](http://api.jquery.com/jQuery.ajax/)（1.8）：

> 请注意，同步请求可能会暂时锁定浏览器，从而在请求处于活动状态时禁用任何操作。从 jQuery 1.8 开始，不推荐在 jqXHR ($.Deferred) 中使用 async: false ；您必须使用完成/成功/错误回调。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-12-18T19:07:14.587

我已经在几个地方看到了这个线程，所以会更新一个答案：我尝试将异步调整为 true，使用许多不同的帖子和其他属性，但它是表单提交的默认操作导致页面刷新：

```
 submitSuggestion: function (e) {
                        e.preventDefault();
                        submitComment(viewModel);
                    },
                }); 
```

e.preventDefault() 阻止了正常的提交行为，即重新加载页面。该行为会生成 xml 重定向错误，因为默认表单提交使用该功能。

如果您获得不需要的刷新，请尝试添加 preventDefault！

# java - 如何在 EAR 中创建文件夹

> ID：12472400
> 
> 赞同：1
> 
> 时间：2012-09-18T07:36:04.073
> 
> 标签：java, maven, ear

我有一个 Maven 项目，构建时它是一个 EAR。我需要在 EAR 结构中创建一个文件夹，这样它将是“APP-INF/classes”并在其中放置一个文件。我应该使用 ear 插件中的什么插件或标签？先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:42:46.777

您可以使用[maven-assembly-plugin](http://maven.apache.org/plugins/maven-assembly-plugin/)。编写你自己的描述符来打包`.ear`你想要的。

作为旁注，该`APP-INF/classes/`文件夹是一项专有功能（我相信来自 Weblogic）。如果您想跨平台并符合 Java EE 规范，您应该将所有`classes/`内容打包在一个`.jar`. [请](http://weblogs.java.net/blog/sekhar/archive/2009/03/weblogic_to_gla.html)参见[Java EE 6 规范](http://download.oracle.com/otndocs/jcp/javaee-6.0-fr-oth-JSpec/)的第 8.2.1 节和第 8.2.1 节

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:47:41.443

在您的`ear`pom 所在的位置创建以下目录树：

```
.
├── pom.xml
└── 源
    └── 主要
        └── 应用
            └── APP-INF
                └── 班级
                    ├── MyClass.class
                    ├── 其他类.class
                    └── SomeOtherKindOfFile.txt

```

您可以在此处阅读有关[earSourceDirectory](http://maven.apache.org/plugins/maven-ear-plugin/ear-mojo.html#earSourceDirectory)的信息：[Maven EAR 插件](http://maven.apache.org/plugins/maven-ear-plugin/ear-mojo.html)。

# php - 通过 ajax 在第一个字段中接收一个结果

> ID：12472403
> 
> 赞同：0
> 
> 时间：2012-09-18T07:36:10.163
> 
> 标签：php, jquery, ajax

我有 3 个带有 jquery 日历插件的文本字段...我面临的问题是，在输入的第一个字段中，日期通过 ajax 函数并通过 php 从数据库返回值，但第二个和第三个字段没有't 将它们的值传递给 ajax，所以我没有收到该值。

Ajax 代码如下

```
$('.submit-button').on('click',function(){
    var name = $('input#popupDatepicker').val();
    var id = $(this).attr('id').split('_')[1];
    if ($.trim(name,id)!=''){
        $.post('pages/name.php',{name:name,id:id},function(data){
            $('div#name-data').html(data);
            document.getElementById("#name-data").innerHTML =(data);
        });
    }
}); 
```

* * *

Html 代码

```
> 输入类型="文本" 类="日期控制" id="popupDatepicker"

```

这是输入字段，当我从数据库中获取数据时，它在 while 循环中被复制

# bash - 在 bash 中模拟类似异常的行为

> ID：12472404
> 
> 赞同：1
> 
> 时间：2012-09-18T07:36:10.547
> 
> 标签：bash

在 Bash 中，有没有办法模拟异常？

例如在一个测试函数中，我有几个测试语句

```
test_foo_and_bar() {
    expect_foo $1
    expect_bar $2
}

expect_foo() {
    [[ $1 != "foo" ]] && return 1
}

expect_bar() {
    [[ $1 != "bar" ]] && return 1
} 
```

现在，我想要的是，如果`expect_foo`失败，执行停止并返回给 function 的调用者`test_foo_and_bar`。

这样的事情可能吗？我知道你可以这样做：

```
test_foo_and_bar() {
    expect_foo $1 || return 2
    expect_bar $2 || return 2
} 
```

但我对替代解决方案感兴趣（如果有的话）。

**编辑**

虽然建议的解决方案非常好，但我还有一个要求。*发生异常*后，我仍然需要执行清理。因此，仅退出不是一种选择。

用 Java 语言来说，我实际上需要的是某种`finally`子句。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:12:46.127

我想到的一个快速破解方法是使用 subshel​​ling 和`exit`：

```
test_foo_and_bar() {
    (
        expect_foo $1
        expect_bar $2
    )
}

expect_foo() {
    [[ $1 != "foo" ]] && exit 1
}   

expect_bar() {
    [[ $1 != "bar" ]] && exit 1
} 
```

这样，任何失败都会导致整个`test_foo_and_bar`块终止。但是，您必须始终记住在子shell 中调用`expect_foo`and`_bar`以避免终止主程序。

此外，您可能希望将 替换`exit`为自定义`die`函数，该函数也会输出一些详细错误。

# java - Java 加密器的密钥处理

> ID：12472412
> 
> 赞同：2
> 
> 时间：2012-09-18T07:36:54.030
> 
> 标签：java, encryption, bouncycastle, password-encryption, key-management

在我基于 Java 的网络应用程序中，我想在将某些数据写入数据库之前对其进行加密，并在加载回内存后对其进行解密。为此，我使用了[bouncycastle](http://www.bouncycastle.org/java.html) API 并创建了一个如下所示的类：

```
public class BlowfishEnrypter implements IEncrypter {

    /*--- Members ---*/

    private BufferedBlockCipher cipher;
    private KeyParameter key;

    /*--- Constructors ---*/

    /**
     * Initialize the cryptographic engine. The key array should be at least 8
     * bytes long.
     * 
     * @param key
     */
    public BlowfishEnrypter(byte[] key) {
    cipher = new BufferedBlockCipher(new CBCBlockCipher(new BlowfishEngine()));
    this.key = new KeyParameter(key);
    }

    /**
     * Initialize the cryptographic engine. The key array should be at least 8
     * bytes long.
     * 
     * @param key
     */
    public BlowfishEnrypter(String key) {
    this(key.getBytes());
    }

    /*--- Public ---*/

    /**
     * {@inheritDoc}
     */
    public String encrypt(String input) throws EncryptionException {
    if (StringUtils.hasText(input)) {
        byte[] bytes = Hex.decode(input);
        try {
        return new String(encrypt(bytes));
        } catch (CryptoException e) {
        throw new EncryptionException("Error occured while trying to encrypt", e);
        }
    } else {
        throw new EncryptionException("Illegal argument for encryption: " + input);
    }
    }

    /**
     * {@inheritDoc}
     */
    public String decrypt(String input) throws EncryptionException {
    if (StringUtils.hasText(input)) {
        byte[] bytes = Hex.decode(input);
        try {
        return new String(decrypt(bytes));
        } catch (CryptoException e) {
        throw new EncryptionException("Error occured while trying to decrypt", e);
        }
    } else {
        throw new EncryptionException("Illegal argument for decryption: " + input);
    }
    }

    /*--- Private ---*/

    /**
     * Encrypt arbitrary byte array, returning the encrypted data in a different
     * byte array.
     * 
     * @param data
     * @return Encrypted byte array
     * @throws CryptoException
     */
    private synchronized byte[] encrypt(byte[] data) throws CryptoException {
    if (data == null || data.length == 0) {
        return new byte[0];
    }

    cipher.init(true, key);
    return callCipher(data);
    }

    /**
     * Decrypts arbitrary data
     * 
     * @param data
     *            To decrypts
     * @return Decrypted byte array
     * @throws CryptoException
     */
    private synchronized byte[] decrypt(byte[] data) throws CryptoException {
    if (data == null || data.length == 0) {
        return new byte[0];
    }

    cipher.init(false, key);
    return callCipher(data);
    }

    /**
     * Private routine that does the gritty work.
     * 
     * @param data
     *            Data to operate on
     * @return Processed byte array
     * @throws CryptoException
     */
    private byte[] callCipher(byte[] data) throws CryptoException {
    int size = cipher.getOutputSize(data.length);
    byte[] result = new byte[size];
    int olen = cipher.processBytes(data, 0, data.length, result, 0);
    olen += cipher.doFinal(result, olen);

    if (olen < size) {
        byte[] tmp = new byte[olen];
        System.arraycopy(result, 0, tmp, 0, olen);
        result = tmp;
    }

    return result;
    }
} 
```

到目前为止一切都很好（我想是的，如果你对这门课有任何意见，请继续）。要初始化这个类，我应该提供一个密钥。我的问题是 - 我应该如何管理这个密钥？

更具体：

*   我应该使用特定技术创建它吗？
*   我应该把它存放在哪里？在属性文件中？在数据库中？在我的代码中的某个地方？
*   这个密钥（我们在这里谈论的是一个字符串，对吗？）是否应该加密，然后在加载或使用后解密？如果是这样，我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:28:15.443

取决于很多事情：

1.  您的代码是否存储在其他人无法查看/访问的安全位置？如果是这样，我会把它放在代码中。
2.  您是否设想不时更改密钥（这种方式更安全）？如果是这样并且第 1 点仍然成立，则将其粘贴到属性文件中。
3.  否则将其放入数据库并保持数据库的用户名/密码保密！

不确定为什么要加密实际密钥，因为您将密钥放在哪里来保护原始密钥？

不过，更好的做法是查看[Java SE 安全性](http://docs.oracle.com/javase/6/docs/technotes/guides/security/overview/jsoverview.html)，看看 Java Keystore 等可以为您做什么。此外，您还可以阅读[bouncy castle](http://www.bouncycastle.org/resources.html)网站上的资源，这可能会有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:48:14.807

我们为许多网络应用程序使用了类似的加密。通常，密钥作为字符串保存在源代码的属性文件中。密钥未加密，它是一个带有特殊字符和其他字符串组合的字符串，只是为了使其更强大（数字、大写字母等）。一旦上线，业务用户通常每 6 个月更改一次密钥。

# java - 带有 IceFaces 3.1.0 的 JavaEE - 组件未正确初始化

> ID：12472419
> 
> 赞同：1
> 
> 时间：2012-09-18T07:37:27.170
> 
> 标签：java, jakarta-ee, xhtml, glassfish, icefaces

我目前正在使用 IceFaces 框架版本 3.1.0（ACE 组件）。

一切都很好，除了一件事。当我第一次运行应用程序时，组件在初始化期间似乎有问题。他们都搞砸了，不提供功能（点击事件，过滤器）和缺乏风格。

我不明白的是，为了使它们正常工作，我要做的就是刷新页面，然后所有问题都消失了。组件显示正确且工作正常。

你有过类似的烦恼吗？我真的不知道这一切可能是什么原因。

该应用程序由一个 xhtml 模板组成，该模板封装了其他 xhtml 文件，这些文件实际上是应用程序的各种功能。每个 xhtml 文件（除了模板）都带有用于编程逻辑的关联托管 bean。

我认为只有初始化阶段有问题，因为一旦我刷新一切正常。

如果你们有任何想法，请告诉我！

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T19:44:47.250

将您的 ace 组件空间分隔在 web.xml 中：

```
<context-param>
    <param-name>org.icefaces.mandatoryResourceConfiguration</param-name>
    <param-value>dataTable panel chart menu menuItem menuBar dateTimeEntry textEntry dialog pushButton maskedEntry</param-value>
</context-param> 
```

# c# - 在 WPF 中，当末端没有数据时禁用滚动条重复按钮

> ID：12472421
> 
> 赞同：1
> 
> 时间：2012-09-18T07:37:37.927
> 
> 标签：c#, wpf, vb.net, repeatbutton

我有一个滚动查看器控件。它的编码

```
<Window.Resources>        
    <DataTemplate x:Key="listBoxItemTemplate">
        <TextBlock />
    </DataTemplate>
    <ItemsPanelTemplate x:Key="itemsPanelTemplate">
        <VirtualizingStackPanel Orientation="Horizontal"/>
    </ItemsPanelTemplate>
</Window.Resources>
<Grid>
    <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
        <RowDefinition Height="0"/>
        <RowDefinition/>
    </Grid.RowDefinitions>
    <RepeatButton x:Name="LineLeftButton" 
                Grid.Column="0"
                Grid.Row="1"
                Content="&lt;"      
                Command="{x:Static ScrollBar.LineLeftCommand}"      
                CommandTarget="{Binding ElementName=scrollViewer}"/>
    <RepeatButton x:Name="LineRightButton" 
                Grid.Column="2"
                Grid.Row="1"
                Content="&gt;" 
                Command="{x:Static ScrollBar.LineRightCommand}"      
                CommandTarget="{Binding ElementName=scrollViewer}"/>
    <ScrollViewer Grid.Column="1" Grid.Row="1"  x:Name="scrollViewer" 
                  VerticalScrollBarVisibility="Hidden" 
                  HorizontalScrollBarVisibility="Hidden">
        <ListBox Name="lst2"
                 Margin="0,0,0,0"
                 VerticalAlignment="Stretch" 
                 ItemsPanel="{StaticResource itemsPanelTemplate}"/>
    </ScrollViewer>
</Grid> 
```

![在此处输入图像描述](../Images/fe2fc1d6096a2b129fbccb3e40f69ff3.png)

当最后没有数据时，我想禁用重复按钮。

也就是说，当我滚动我的列表框数据时，最后当该特定一侧（即左、右）没有可用数据时，该侧的重复按钮将被禁用。当我向后滚动时，将启用上述重复按钮。

我在这里展示了一个图形表示。我相信可以正确澄清。

**图片1：**

![在此处输入图像描述](../Images/8661fff4190447b01fa592a4030906b3.png)

请检查左侧的重复按钮是否被禁用，因为左侧没有要滚动的数据。

**图片2：**

![在此处输入图像描述](../Images/6bd0e25896c69342136979dfbec62dcc.png)

请检查右侧的重复按钮是否已禁用，因为右侧没有要滚动的数据。

这种类型的滚动是我想要实现的。我在滚动到顶部/底部时阅读[了 Wpf 禁用重复按钮](https://stackoverflow.com/questions/4795066/wpf-disable-repeatbuttons-when-scrolled-to-top-bottom)但没有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T09:55:56.053

是的，这很容易。

*   摆脱你的 ScrollViewer
*   子类 ListBox 组件并添加新属性 CanScrollHorizo​​ntallyLeft/Right
*   挂钩 ListBox 的 ScrollBar.Scroll 事件，例如：`<ListBox ScrollBar.Scroll="event_handler" />`
*   添加检测并相应地更改属性。

    ```
    private void scroll_handler(object sender, ScrollEventArgs e) {
       ScrollBar sb = e.OriginalSource as ScrollBar;

       if (sb.Orientation == Orientation.Horizontal)
           return;

       if (sb.Value == sb.Maximum) {
           Debug.Print("At the bottom of the list!");
    } 
    ```

    }

或者，ScrollViewer 也可能暴露 ScrollBar.Scroll 事件，您不必继承/创建新属性。您可以在 scroll_handler 中执行逻辑并更改命令 CanExecute。

# ios - 当 UINavigationController 通过 Storyboard 模态呈现时，它的 rootViewController 与它没有连接

> ID：12472424
> 
> 赞同：1
> 
> 时间：2012-09-18T07:38:04.977
> 
> 标签：ios, uistoryboard

我的故事板如下所示： ![在此处输入图像描述](../Images/0f36d139d8c7e34e5d9fd092dab2d946.png)

第一部分工作完美，问题是当我使用“测试模态”按钮模态显示第二个 NavigationController 时，它被正确设置为具有 rootViewController - 没有建立连接。

意思是，我*知道*UINavigationController 在那里（从 UIWindow 的 rootViewController 开始查询所有控制器），并且我的控制器也已加载，但 navigationController 为零，parentViewController 为零 - 我无法访问 UINavigationController（因此无法访问自定义顶部工具栏）

如果我检查第二个 UINavigationController 上的“是初始视图控制器”，它可以工作（但显然这不是我想要的）。我相信这可能是一个 UIKit 错误。还是我做错了？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T08:11:08.867

是否正确实现了您的 prepareForSegue 方法？这就是我在应用程序中实现 prepareForSegue 方法的方式。

```
-(void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
if([segue.identifier isEqualToString:@"yourConnectionName"]) {
UINavigationController *navController = segue.destinationController;
YourViewControllerClass *controller = (YourViewControllerClass *)navController.topViewController;
controller.delegate = self;
}
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-21T06:02:19.473

我终于找到了这个。

我没有`[super initWithCoder:decoder]`在我的初始化中调用。这导致一些 UIViewController 变量未初始化。改变它之后，它就像一个魅力。

# android - 你如何从安卓设备中获取所有的短信（收件箱）？

> ID：12472426
> 
> 赞同：0
> 
> 时间：2012-09-18T07:38:12.860
> 
> 标签：android, sms

> **可能重复：**
> [如何在 Android 中以编程方式从收件箱中读取 SMS 消息？](https://stackoverflow.com/questions/848728/how-can-i-read-sms-messages-from-the-inbox-programmatically-in-android)

我想从安卓设备上获取所有的收件箱短信。我怎么做？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T07:39:50.440

您可以通过以下方法获取收件箱消息。

```
public List<String> getSMS(){
     List<String> sms = new ArrayList<String>();
        Uri uriSMSURI = Uri.parse("content://sms/inbox");
        Cursor cur = getContentResolver().query(uriSMSURI, null, null, null, null);

        while (cur.moveToNext()) {
               String address = cur.getString(cur.getColumnIndex("address"));
               String body = cur.getString(cur.getColumnIndexOrThrow("body"));
              sms.add("Number: " + address + " .Message: " + body);  

          }
        return sms;

    } 
```

# android-listview - getView显示错误的位置 - ListView Android

> ID：12472429
> 
> 赞同：3
> 
> 时间：2012-09-18T07:38:22.397
> 
> 标签：android-listview

这是我的源代码。getView 显示错误的位置。我已经在谷歌上搜索了解决方案，但没有成功。请帮我。

```
public View getView(final int position, View convertView,
        ViewGroup viewGroup) {
    final Phonebook entry = listPhonebook.get(position);
    if (convertView == null) {
        LayoutInflater inflater = (LayoutInflater) context
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        convertView = inflater.inflate(R.layout.phone_row, null);
        convertView.setOnTouchListener(new OnTouchListener() {

            @Override
            public boolean onTouch(View mycurrentListItemView,
                    MotionEvent event) {

                int action = event.getAction();
                if (action == MotionEvent.ACTION_DOWN) {
                    Log.i("List item clicked position : ", "" + position);
                    Log.i("Name::Mail", "" + entry.getName() + " :: "
                            + entry.getMail());
                    mycurrentListItemView.setBackgroundColor(Color
                            .parseColor("#38ACEC"));
                } else if (action == MotionEvent.ACTION_UP
                        || action == MotionEvent.ACTION_CANCEL) {
                    mycurrentListItemView.setBackgroundColor(Color
                            .parseColor("#FFFFFF"));
                }
                return false;
            }
        }); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-20T06:17:21.367

ListView 正在使用 convertView 回收视图，因此它仅在第一次创建视图时设置 onTouchListener（因为`if (convertView == null)`.

如果您希望此解决方案起作用，则必须将`convertView.setOnTouchListener()`呼叫移到`if (convertView == null)`条件之外。这样，每次在屏幕上显示带有正确电话簿条目的视图时，它都会被初始化。

# android - 使用多个 APK 作为 Android 的“插件”

> ID：12472431
> 
> 赞同：1
> 
> 时间：2012-09-18T07:38:29.713
> 
> 标签：android

我曾尝试对此主题进行研究，但没有找到我认为“正确”的答案。SO上有几个类似的帖子，但像大多数人一样，我认为我的问题是不同的...... :-)。提前感谢您的任何帮助。

我正在开发一个内置培训模块的应用程序。并非所有用户都需要始终在其设备上提供所有培训模块。此外，这些模块将占用大量资源，这就是我不想将它们全部包含在基础应用程序中的原因。我的想法是提供额外的 APK 包（具有相同的签名），以便这些模块可以自由交互。问题是：

1.  我在某处读过（但无法再次找到链接），如果不同的 APK 使用相同的签名，它们可以相互通信。如果这不是真的，请告诉我。
2.  我如何能够在这些 APK 之间共享代码？我已阅读有关共享资源的信息，但现在确定代码共享将如何工作。
3.  如果这不是解决这个问题的最佳方法，我欢迎任何不同方法的方向。

我对我的应用程序的这个特定部分仍处于研究模式，因此，我可以采用的设计方法非常灵活。

谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T11:40:19.927

> 我在某处读过（但无法再次找到链接），如果不同的 APK 使用相同的签名，它们可以相互通信。如果这不是真的，请告诉我。

任何应用程序都可以“相互交谈”。使用相同的签名密钥对两个或多个签名允许您定义自定义签名级别的权限，这意味着*只有*您的应用程序可以“相互通信”，而其他开发人员的应用程序不能通过相同的方式与您通信。

> 我如何能够在这些 APK 之间共享代码？

理想情况下，你不会。当然欢迎您让一个应用调用由另一个应用公开的 API：

*   开始活动
*   启动或绑定到服务
*   发送广播
*   访问内容提供者

并且这些 API 可以通过上面提到的自定义签名级别权​​限来保护，因此它们是仅适用于您的应用系列的 API，而不是供任意应用使用的 API。

# python - 在 Windows 7 上使用 xampp 安装 OSQA

> ID：12472432
> 
> 赞同：0
> 
> 时间：2012-09-18T07:38:32.873
> 
> 标签：python, xampp, osqa

谁能告诉我如何使用 xampp localhost 在 Windows 7 上安装 osqa？我不知道 xampp 支持 python。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-23T02:10:04.160

如果您对 xampp 很灵活，请尝试使用 bitnami 原生安装程序： `http://bitnami.org/stack/osqa`

安装程序运行大约需要 10 分钟，然后我在 Win7 localhost 上运行。

# java - onKeyListener 两次存储值

> ID：12472433
> 
> 赞同：0
> 
> 时间：2012-09-18T07:38:39.923
> 
> 标签：java, android, string, stringbuilder

我有一个名为 searchOne 的编辑文本，它有一个 onKeyListener。我想要完成的是一种获取edittext（这是一个搜索查询）中的值然后使用它来构建一个url的方法。我想在用户单击搜索按钮之前执行此操作，因此我的 onClick 操作尽可能少。我在编辑文本框中输入一个名称，然后单击键盘上的下一步进入下一个编辑文本框，logcat 将打印：

searchURLOne 包含：[http ://api.themoviedb.org/3/search/person?api_key=bb0b6d66c2899aefb4d0863b0d37dc4e&query=christopher_guest](http://api.themoviedb.org/3/search/person?api_key=bb0b6d66c2899aefb4d0863b0d37dc4e&query=christopher_guest)

searchURLOne 包含：[http ://api.themoviedb.org/3/search/person?api_key=bb0b6d66c2899aefb4d0863b0d37dc4e&query=christopher_guesthttp://api.themoviedb.org/3/search/person?api_key=bb0b6d66c2899aefb4d0863b0d37dc4e&query=christopher_guest](http://api.themoviedb.org/3/search/person?api_key=bb0b6d66c2899aefb4d0863b0d37dc4e&query=christopher_guesthttp://api.themoviedb.org/3/search/person?api_key=bb0b6d66c2899aefb4d0863b0d37dc4e&query=christopher_guest)

如您所见，searchURLOne 的第二个也是最后一个值包含两次字符串。任何想法为什么会这样？

```
searchOne.setOnKeyListener(new View.OnKeyListener() {

        @Override
        public boolean onKey(View v, int keyCode, KeyEvent event) {
            // TODO Auto-generated method stub
            //make person search url1
            final StringBuilder personSearchURLOne = new StringBuilder(getName.getName1(searchOne)); 
            searchURLOne = personSearchURLOne.toString();
            Log.d("search1", searchURLOne);
            return false;
        }
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-04T10:32:39.923

由于某种原因，我遇到了同样的问题 onKeyListners 被调用了两次

休耕这个

[setOnclickListner 被初始化两次？](https://stackoverflow.com/questions/18611125/setonclicklistner-is-initialized-twice/18611258)?

这是我在点击列表中发现的内容被初始化了两次，一个用于按下事件，另一个用于按键事件，因此您需要

放入如下 if 条件：

```
 searchOne.setOnKeyListener(new View.OnKeyListener() {

        @Override
        public boolean onKey(View v, int keyCode, KeyEvent event) {
            // TODO Auto-generated method stub
            //make person search url1
            if(event.getAction() == KeyEvent.ACTION_DOWN)
            {
                final StringBuilder personSearchURLOne = new StringBuilder(getName.getName1(searchOne)); 
                searchURLOne = personSearchURLOne.toString();
                Log.d("search1", searchURLOne); 
                return true;
            }
            return false;
        }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-04T11:44:37.677

试试这个代码片段

```
 @Override
    public boolean onKey(View v, int keyCode, KeyEvent event) {
        // TODO Auto-generated method stub

       if (keyCode == KeyEvent.KEYCODE_ENTER && event.getAction()==0)
        {
            //your code
            return true;
        }
        return false;
    } 
```

# web-services - crm 2011 旧版发现 Web 服务

> ID：12472436
> 
> 赞同：1
> 
> 时间：2012-09-18T07:38:55.930
> 
> 标签：web-services, dynamics-crm-2011, dynamics-crm-4, legacy

我一直在尝试连接到 CRM 2011 IFD 旧式发现 Web 服务，但无法连接。在尝试连接浏览器时，我已经从*401 未授权*到*404 无法连接到站点。*

当我尝试在 VS 2010 中将 Web 服务作为 Web 引用添加到其中时，我收到一条错误消息，指出重定向的数量太多（或类似的东西）。

我已经看到人们能够在自定义代码中连接到 Web 服务，他们在代码中授权自己，但我不知道该怎么做。如果不添加发现服务作为 Web 参考，我无法使用 SDK for CRM 2011 中的 DLL 设置发现服务。

谁能给我一些关于如何处理这个问题的建议。由于第三方产品，我需要能够访问旧版服务。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-12T07:19:34.400

您可以尝试`crmsvcutil.exe`从`MS CRM SDK`. `WSDL`它通过允许您突破 IFD 并到达服务端点来生成代理类。

# html - Firefox中的文本区域宽度问题

> ID：12472438
> 
> 赞同：1
> 
> 时间：2012-09-18T07:38:58.960
> 
> 标签：html, css, cross-browser

我在固定宽度的框中有一个文本区域。我正在为浏览器兼容性而苦苦挣扎。当我在 chrome 和 IE 中修复宽度时，Firefox 不会在右侧显示正确的间距。减少 Firefox 上的 cols 修复问题，但在 IE/Chrome 上，它向右侧显示更多空间。

我需要将 textarea 放在所有浏览器的中心。是否可以？

演示代码在[JSFiddle](http://jsfiddle.net/9GFpA/)以及下面给出：

**HTML**

```
<div id='container'>
    <div class='box-title'>
        Title
    </div>
    <div class='box-cont'>
        This is the contents of content area.
        No limit for these contents.
        Width will be fixed but height may be infinite long
        depending on the contents
        <textarea rows='3' cols='35'></textarea>
    </div>
</div> 
```

**CSS**

```
#container{
    width:312px;
    border:1px #666 solid;
    margin:5px;
    padding:5px;
    border-radius: 5px;
    -moz-border-radius:5px;
    -webkit-border-radius:5px;
}
.box-title{
    border-top-left-radius: 5px;
    -moz-border-radius-topleft:5px;
    -webkit-border-top-left-radius:5px;
    border-top-right-radius: 5px;
    -moz-border-radius-topright:5px;
    -webkit-border-top-right-radius:5px;
    border:1px #F66 solid;
    border-bottom:0;
    background-color:#FAA;
    padding:2px 5px;
    margin:0;
}
.box-cont{
    border-bottom-left-radius: 5px;
    -moz-border-radius-bottomleft:5px;
    -webkit-border-bottom-left-radius:5px;
    border-bottom-right-radius: 5px;
    -moz-border-radius-bottomright:5px;
    -webkit-border-bottom-right-radius:5px;
    border:1px #F66 solid;
    background-color:#FFF;
    padding:2px 5px;
    margin:0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T07:44:26.457

嗨，现在像这样给你的**css**`textarea`

```
.box-cont textarea{
width:100%;
    height:40px;
    resize:none;
} 
```

***[演示](http://jsfiddle.net/9GFpA/1/)***

# database - 什么是相当于 MS SQL Server Management Studio 免费版的 Oracle？

> ID：12472441
> 
> 赞同：49
> 
> 时间：2012-09-18T07:39:17.230
> 
> 标签：database, oracle

什么是相当于 MS SQL Server Management Studio 免费版的 Oracle？

请注意，SO 上还有其他类似的问题，但它们不提供免费版本的答案。

* * *

## 回答 #1

> 赞同：62
> 
> 时间：2012-09-18T08:02:06.983

Oracle Sql 开发人员

[这里](http://www.oracle.com/technetwork/developer-tools/sql-developer/overview/index.html)有更多信息。

# regex - 在 Visual Studio 的文件中“查找”所需的正则表达式

> ID：12472444
> 
> 赞同：1
> 
> 时间：2012-09-18T07:39:52.283
> 
> 标签：regex

假设我有

```
try
{
MyFunctionCall()
{---------------}
}
catch---------------------- 
```

我想用 MyFunctionCall 替换所有具有类似 try 块的函数；前三行应该与其他代码匹配，例如

```
try
{
ReplacedFunction()
{---------------}
}
catch---------------------- 
```

注意：MyFunctionCall() 可以出现在一些没有 try 块的代码或其他调用中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-30T19:53:10.497

不是最漂亮的，但这适用于 VS *2012* ......

**找什么：**

```
(try[\s\n]*\{[\s\n]*)MyFunctionCall(\(\)[\s\n]*\{(?:([^\}]|\n)*\}){2}) 
```

**用。。。来代替：**

```
$1ReplacedFunction$2 
```

**可视化：** ![正则表达式可视化](../Images/9ab0340e89034ca5457f932d4770dd55.png)

[在 Debuggex 上实时编辑](http://www.debuggex.com/r/jyaxd3iCF_tmSzPw)

# javascript - 异步 - 具有函数动态数组的并行（）

> ID：12472448
> 
> 赞同：3
> 
> 时间：2012-09-18T07:40:01.100
> 
> 标签：javascript, node.js, express, mongoose, async.js

我正在为nodejs使用优秀的caolan“异步”模块：

我有这个代码：

```
exports.manageComments = function(req, res) {
    var toDeleteIds = [];
    var deleteFunctions = [];
    if (req.body.doDelete) {
        toDeleteIds = req.body.doDelete;
    }
    var i;
    for ( i = 0; i < toDeleteIds.length; i++ ) {
        var deleteFunction = function(callback) {
            var id = toDeleteIds[i];
            console.log(id);
            Comment.findOne({_id:id}, function(err, found) {            
                if (!err) found.remove(callback);
            });
        }
        deleteFunctions.push(deleteFunction);
    }
    async.parallel(
        deleteFunctions,
        function(err,results) {
            exports.comments(req, res); //render a view
        }
    );
}; 
```

我的数组包含两个元素，但 console.log() 一直告诉我“未定义”。

我错过了什么？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-09-18T10:02:08.553

你的问题是：

```
 var deleteFunction = function(callback) {
        var id = toDeleteIds[i]; 
```

因为在执行每个回调函数时，`i`将具有与 相同的值`toDeleteIds.length`。闭包不会“捕获”外部变量在*创建*时所具有的值；它“捕获”对外部变量在*执行*`for`时所具有的任何值的引用（在这种情况下，直到循环完成之后才会出现。

In order to "trap" the value of `i` at the time you create your callback function, you need to make `i` a parameter of a function that you call to create your callback function. You need something like

```
 var deleteFunction = makeDeleteFunction(i, callback); 
```

And then create a separate function outside the callback:

```
function makeDeleteFunction(i, callback) {
    return function(callback) {
        var id = toDeleteIds[i];
        console.log(id);
        Comment.findOne({_id:id}, function(err, found){            
            if (!err) found.remove(callback);
        });
     };
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T22:19:22.927

ebohlman has correctly identified the problem. However I still think creating an array of closures is **hugely inefficient** and unnecessary. Here's shorter, easier code to achieve the same with a single function:

```
exports.manageComments = function(req, res) {
    var toDeleteIds = [];
    if (req.body.doDelete) {
        toDeleteIds = req.body.doDelete;
    }

    var deleteFunction = function(id, callback) {
        console.log(id);
        Comment.findOne({_id:id}, function(err, found) {            
            if (!err) found.remove(callback);
        });
    }

    async.forEach(toDeleteIds, deleteFunction, function(err,results) {
        exports.comments(req, res); //render a view
    });
}; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T22:36:55.310

Looking at this another way, if you don't need to fire the Mongoose `remove` middleware on each `Comment` doc being removed, you can remove all identified comments in one go:

```
Comment.remove({_id: {$in: toDeleteIds}}, function(err, numRemoved) {
    exports.comments(req, res); //render a view        
} 
```

# java - 每当 mysql 数据库更改时，都会向 java 应用程序发送 http 请求

> ID：12472449
> 
> 赞同：0
> 
> 时间：2012-09-18T07:40:02.500
> 
> 标签：java, php, mysql, database-connection, netbeans-7

使用下面显示的编码，我设法使用 php 从服务器中的 sql 数据库中检索数据。我需要定期检查数据库以查看是否添加了任何新数据，如果有，我需要将它们检索到我的 java 应用程序中。我正在使用 netbeans IDE **我该怎么做？**

```
try {
    URL url = new URL("http://taxi.com/login.php?param=10");
    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
    conn.setRequestMethod("GET");
    conn.setRequestProperty("Accept", "application/json");

    if (conn.getResponseCode() != 200) {
        throw new RuntimeException("Failed : HTTP error code : "
                + conn.getResponseCode());
    }

    BufferedReader br = new BufferedReader(new InputStreamReader(
        (conn.getInputStream())));

    String output;
    System.out.println("Output from Server .... \n");
    while ((output = br.readLine()) != null) {
        System.out.println(output);
    }

    conn.disconnect();

  } catch (MalformedURLException e) {

    e.printStackTrace();

  } catch (IOException e) {

    e.printStackTrace();

  }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:12:50.877

在此解决方案中，我假设您至少使用**Java 5**。
假设您想每 5 分钟检查一次新数据并在 25 分钟后终止。
你会这样做：

**PHPDataChecker.java**

```
public class PHPDataChecker implements Runnable {
    public void run() {
       // Paste here all the code in your question
    }
} 
```

**主.java**

```
public class Main {
    private static boolean canStop=false;

    private static void stopPHPDataChecker() {
        canStop=true;
    }

    public static void main(String[] args) {
        // Setup a task for checking data and then schedule it
        PHPDataChecker pdc = new PHPDataChecker();
        ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);
        final ScheduledFuture<?> pdcHandle = scheduler.scheduleAtFixedRate(pdc, 0L, 5L, TimeUnit.MINUTES);// Start pooling

        // Setup a new task to kill the polling after 25 minutes
        scheduler.schedule(new Runnable() {

            public void run() {
                System.out.println(">> TRY TO STOP!!!");
                pdcHandle.cancel(true);
                Main.stopPHPDataChecker();
                System.out.println("DONE");
            }

        }, 25L, TimeUnit.MINUTES);

        // Actively wait stop condition (canStop)
        do {
            if (canStop) {
                scheduler.shutdown();
            }
        } while (!canStop);

        System.out.println("END");
    }
} 
```

# ruby - Ruby 中的 LoadLibrary 和 GetProcAddress

> ID：12472450
> 
> 赞同：1
> 
> 时间：2012-09-18T07:40:04.013
> 
> 标签：ruby

我是 Ruby 新手，我一直试图让这段代码调用 MessageBox，但不能。我知道我错过了一些东西，但我不知道它是什么。对此的任何帮助将不胜感激！

这是到目前为止的代码：

```
require 'Win32API'

LoadLibrary = Win32API.new('kernel32','LoadLibrary','P','L')
GetProcAddress = Win32API.new('kernel32','GetProcAddress','LP','L')

Load = LoadLibrary.call('user32.dll')
Proc = GetProcAddress.call(Load,'MessageBox')

Proc.call(0,"Hello World!","MessageBox in Ruby",0) 
```

我知道一切都很好，除了我的“Proc.call”。我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:11:28.627

这是您看到的错误吗？

```
undefined method `call' for 0:Fixnum (NoMethodError) 
```

我认为没有必要为此使用`GetProcAddress`。下面是一些显示消息框的示例代码：

```
require 'Win32API'

msgbox = Win32API.new('user32','MessageBox',['L', 'P', 'P', 'L'], 'I')  
msgbox.call(0, 'Hello World!', 'MessageBox in Ruby', 0) 
```

在您当前的代码中是来自而不是可调用对象`Proc`的返回值。`GetProcAddress`我怀疑这是`0`因为调用`GetProcAddress`失败了。

# php - 日期时间值不正确：“item.purchase_date”

> ID：12472454
> 
> 赞同：3
> 
> 时间：2012-09-18T07:40:23.137
> 
> 标签：php, mysql, sql

```
 SELECT depreciate.id, depreciate.item_id, depreciate.batch_code,
         new_item.description, depreciate.life_time, depreciate.scrap_value,
         depreciate.dep_type, item.po_number, item.purchase_value,
         item.current_value, item.purchase_date, depreciate.annual_depreciation,
         depreciate.depreciation_rate, depreciate.total_depreciate,
         depreciate.location, depreciate.dis_id 
    FROM depreciate, item, new_item 
   WHERE depreciate.item_id=item.item_id
     AND depreciate.item_id=new_item.id
     AND new_item.data_mining=1
     AND DATE_FORMAT('item.purchase_date', '%m %d') LIKE '%09-18%' 
```

请问有人能告诉我这段代码的错误吗？我是新手。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T07:44:21.530

尝试改变

```
AND DATE_FORMAT('item.purchase_date', '%m %d') LIKE '%09-18%' 
```

到

```
HAVING DATE_FORMAT(`item`.`purchase_date`, '%m %d') LIKE '%09-18%' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:43:49.457

`'`将列名传递给[`DATE_FORMAT`](http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_date-format)函数时不要使用。

尝试：

```
... AND DATE_FORMAT(item.purchase_date, '%m %d') LIKE '%09-18%' 
```

# javascript - 谷歌浏览器：拒绝执行内联脚本

> ID：12472455
> 
> 赞同：4
> 
> 时间：2012-09-18T07:40:23.670
> 
> 标签：javascript, google-chrome, google-chrome-extension, content-security-policy

鉴于 chrome 内容安全策略的变化，我已将所有脚本移动到单独的文件中，并在我的 chrome 扩展的 html 页面（背景和弹出窗口）中引用它们。但我仍然收到以下消息

```
Refused to execute inline script because it violates the following Content Security Policy
 directive: "script-src 'self' chrome-extension-resource:". 
```

这是我的背景页面

```
<html>
<head>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="background.js"></script>
</head>
<!--<body onload = "Load();">-->
 <body>
</body>
</html> 
```

您会看到没有内联 js，但错误消息一直存在。我的代码有什么问题，我该如何解决？

**注意：**我使用的是清单版本 2 和 chrome 版本 21.0.1180.89

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-06T00:15:08.090

正如前面的答案所暗示的，当您将扩展更新到清单版本 2 时，扩展的代码和引用的库的代码必须与 CSP 兼容。

更新您的 jquery 库就足够了。Jquery 支持具有此错误的 CSP：http: [//bugs.jquery.com/ticket/11249](http://bugs.jquery.com/ticket/11249)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T09:20:57.747

通过将 jquery.js 从版本 1.4 升级到 1.7 解决了这个问题

# c# - 在字符串 C# 中搜索字符串

> ID：12472456
> 
> 赞同：1
> 
> 时间：2012-09-18T07:40:27.163
> 
> 标签：c#, asp.net, linq, split

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T07:43:00.423

you can use the string.Contains method

```
bool employeeExistsInString = string.Contains(yourString); 
```

However would have been nice if you would have at least googled it first.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T07:42:17.853

Use string.Contains

```
if(str.Contains("EMP4")) 
```

EDIT: based on your comment.

Since you said in your question that your values will be comma separated. You may try the following.

```
string str = "EMP10, EMP44, EMP5"; //your sample string. 
string[] tempArray = str.Split(',');
if (tempArray.Contains("EMP4")) //This will result in Not Found
{
    Console.WriteLine("Found");
}
if (str.Contains("EMP4")) //But a simple string.Contains will result in matching 
                          //it to EMP44
{
    Console.WriteLine("here");
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T08:09:33.357

If you start with the following:

```
var text = "EMP1$0,EMP2$1,EMP3 $1, Emp4$ 0, emp44$1"; 
```

Then you can perform this query to extract the "EMP" codes:

```
var query =
    from x in text.Split(',').Select(_ => _.Trim())
    let y = x.Split('$').Select(_ => _.Trim())
    where y.Any()
    select y.First(); 
```

This would give the following result:

![EMP query result](../Images/90ae446a3ee46e47f93b846c7af57a89.png)

It would now be a simple matter of checking if any of the returned values match.

```
var found = query.Any(x => x.ToUpperInvariant() == "EMP4"); 
```

Does this do what you need?

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T07:43:36.417

Create a list of the csv and use contains on the list

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-18T07:45:48.587

You could use a regex

```
Regex r = new Regex("EMP4[^\\d]"); 
Match m = r.Match(yourString); 
if (m.Success) 
{
    // your code
} 
```

This searches any EMP4 string not followed by another digit

# sparql - dbpedia sparql 端点字符编码

> ID：12472457
> 
> 赞同：2
> 
> 时间：2012-09-18T07:40:52.080
> 
> 标签：sparql, dbpedia

我对[DBpedia SPARQL 端点](http://dbpedia.org/sparql)有疑问。当我调用此查询时，它不会返回任何结果：

```
SELECT DISTINCT * WHERE {
  <http://dbpedia.org/resource/Santiago_Bernabéu_Stadium> rdfs:label ?label . 
  OPTIONAL {
    <http://dbpedia.org/resource/Santiago_Bernabéu_Stadium> geo:lat ?lat ;
                                                            geo:long ?long .
  }
} 
```

[SPARQL 结果](http://dbpedia.org/sparql?default-graph-uri=http%3A%2F%2Fdbpedia.org&query=SELECT+DISTINCT+%2a+WHERE+%7B%0D%0A++%3Chttp%3A%2F%2Fdbpedia.org%2Fresource%2FSantiago_Bernab%C3%A9u_Stadium%3E+rdfs%3Alabel+%3Flabel+.+%0D%0A++OPTIONAL+%7B%0D%0A++++%3Chttp%3A%2F%2Fdbpedia.org%2Fresource%2FSantiago_Bernab%C3%A9u_Stadium%3E+geo%3Alat+%3Flat+%3B%0D%0A++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++geo%3Along+%3Flong+.%0D%0A++%7D%0D%0A%7D&format=text%2Fhtml&timeout=30000&debug=on)

但是当我将 URL 更改为类似的东西时，`<http://dbpedia.org/resource/Sierra_Nevada_(Spain)>`它可以完美运行。我使用 Apache Commons HttpClient（尝试使用 POST 和 GET）从 Java 调用它。我认为问题出在`é`口音上，但我找不到任何编码来解决我的问题。你知道我该如何解决吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T20:47:26.527

看来我找到了答案。只要更改其他字符（如大括号），使用 URLEncoder 就不是解决方案。但是我发现我应该使用 Jena 的 URIref 类。问题解决了！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-14T14:47:56.897

我已经解决了更新耶拿图书馆的这个问题。搜索并使用所有 jar 文件的最新版本。例如，我使用的是 jena-2.6.3，现在我使用的是 jena-arq-2.9.3.jar、jena-core-2.7.3-test.jar、jena-2.7.3.jar、jena-iri- 0.9.3.jar 等

# excel - 循环插入行，复制数据

> ID：12472462
> 
> 赞同：2
> 
> 时间：2012-09-18T07:41:20.567
> 
> 标签：vba, excel, vba

我放弃。我只花了四个小时试图弄清楚为什么这个宏不起作用。我希望它采用给定的源范围，使用循环遍历它`For`并将值复制到不同的列。

我希望它从给定的目标单元格开始，并且

*   输入值
*   使用插入创建一个新行（整行，而不仅仅是插入该列。我想将数据放入现有的一组行中）
*   不覆盖指定目标列终点的标记。它下面有需要保存的数据。

我不知道为什么

*   在一个过程实例中，它输入值，然后在插入下一行时清除数据。
*   在第二种情况下，它会跳过一行并删除列标记的结尾

请注意，我不是在寻找聪明、优雅的问题解决方案，为了自学[vba](/questions/tagged/vba "显示标记为“vba”的问题")范式，我想保持基本的东西。随着我对基础知识的理解越来越好，我将尝试一些高级技巧。

TIA

```
Sub Macro1()
Dim firstRow As Range, lastRow As Range
Dim source As Range, destination As Range
Dim readCell As Range

Set firstRow = Range("F2")
Set lastRow = Range("F20")
Set destination = Range("A21")

Set source = Range(firstRow.Address(False, False) & ":" & lastRow.Address(False, False))

For Each readCell In source
    destination.Select
    destination.Value = readCell.Value

    If (readCell.Address(False, False) = lastRow.Offset(1, 0)) Then
        Exit For
    Else
       'destination.Select
    End If

    'MsgBox (destination.Value)
    destination.EntireRow.Insert Shift:=xlUp
    Set destination = destination.Offset(1, 0)
Next
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:28:52.773

Very commendable that you want to understand as well as solve

It is easier to use a row counter than increments from a fixed destination. This minor adjustment

*   avoids `Select`
*   uses a counter, `lngRow`, to control the new row and new values

    **`code`**

    ```
    Sub Macro1()
    Dim readCell As Range
    Dim lngRow As Long
    For Each readCell In Range("F2:F20")
        [a21].Offset(lngRow, 0).EntireRow.Insert Shift:=xlUp
        [a21].Offset(lngRow, 0).Value = readCell.Value
        lngRow = lngRow + 1
    Next
    End Sub 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:28:04.230

这里有一些提示：

鉴于`firstRow`and`lastRow`是单细胞，不需要这些`Address`东西。利用

```
Set source = Range(firstRow,  lastRow) 
```

在`destination.EntireRow.Insert Shift:=xlUp`中，因为您申请`Insert`的是整行，`Shift`所以没有区别。利用

```
destination.EntireRow.Insert 
```

插入的行放置在上方`destination`，并向`destination`下移动。所以 for 循环的第一次迭代就是这样做的

1.  设置`destination`为`A21`
2.  插入行，转移`destination`到`A22`
3.  设置`desination`一行，即`A23`

然后下一次迭代将覆盖原来在 中的数据`A22`，现在在`A23`

我想你想要

```
Sub Macro1()
    Dim firstRow As Range, lastRow As Range
    Dim destination As Range
    Dim readCell As Range

    Set firstRow = Range("F2")
    Set lastRow = Range("F20")
    Set destination = Range("A21")

    For Each readCell In Range(firstRow, lastRow)
        destination.Value = readCell.Value
        destination.EntireRow.Offset(1, 0).Insert
        Set destination = destination.Offset(1, 0)
    Next
End Sub 
```

# internet-explorer - 运行 Oracle Forms 时如何更改 IE 的标题栏？

> ID：12472463
> 
> 赞同：0
> 
> 时间：2012-09-18T07:41:25.897
> 
> 标签：internet-explorer, oracle10g, oracleforms

我有将近 500 个 Oracle 表单 10g。用户希望在 IE 标题栏（启动 Internet Explorer 时在屏幕上看到的最上面部分）中看到表单的名称。似乎，一种方法是[在 formsweb.cfg 中为所有表单添加 webformsTitle](http://docs.oracle.com/cd/A97335_02/apps.102/a86202/chap05.htm)已经解释了 formsweb.cfg 中的参数。

我想知道有什么方法可以避免手动操作我可以更改默认配置，以便我也可以在 IE 标题栏上看到 windows 标题，以避免更改所有表单的 formsweb.cfg？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-13T04:51:19.947

10g是不可能的。

我已经阅读了 11g，您可以从表单中调用 Javascript，因此您应该可以，但实际上并没有这样做。

# android - Mediaplayer 停止，播放，安卓

> ID：12472467
> 
> 赞同：0
> 
> 时间：2012-09-18T07:41:41.700
> 
> 标签：android, android-mediaplayer

在下面运行代码时我有两个问题

1.  Mediaplayer 没有停止，因为它是一种方法 mp.isPlaying() 总是返回 false。
2.  有时我会收到无效的状态异常。

```
try {
    String[] alerts = getResources().getStringArray(R.array.mp3files);
    int ch;
    StringBuffer fileContent = new StringBuffer("");
    FileInputStream fis = openFileInput("alertNo");
    byte[] buffer = new byte[1];
    int length;
    while ((length = fis.read(buffer)) != -1) {
        fileContent.append(new String(buffer));
    }
    String data = new String(fileContent);
    int position = Integer.parseInt(data);
    //m.setVolume(100, 100);
    if (m.isPlaying()) {
    m.stop();
    m.release();
    }
    AssetFileDescriptor descriptor = 
        MySettings.this.getAssets().openFd(alerts[position] + ".mp3");
    m.setDataSource(descriptor.getFileDescriptor(), 
        descriptor.getStartOffset(), descriptor.getLength());
    descriptor.close();
    m.prepare();
    m.start();
} catch (Exception e) {
    e.printStackTrace();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:59:18.313

检查[文档](http://developer.android.com/reference/android/media/MediaPlayer.html)，一旦调用发布，就无法重用该对象。您将不得不创建另一个 Mediaplayer。

引。

> ```
>  after release() is called, it is in the End state 
> ```

和

> 一旦 MediaPlayer 对象处于 End 状态，就不能再使用它，也无法将其恢复到任何其他状态。

所以`m`用新的 Mediaplayer 重新初始化对象或重置它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:17:01.583

感谢nandeesh，我通过这种方式做到了:)

```
try {
                MediaPlayer m = new MediaPlayer();
                String[] alerts = getResources().getStringArray(R.array.mp3files);
                int ch;
                StringBuffer fileContent = new StringBuffer("");
                FileInputStream fis = openFileInput("alertNo");
                byte[] buffer = new byte[1];
                int length;
                while ((length = fis.read(buffer)) != -1) {
                    fileContent.append(new String(buffer));
                }
                String data = new String(fileContent);
                int position = Integer.parseInt(data);
                //m.setVolume(100, 100);
                if (m.isPlaying()) {
                    m.stop();
                    m.release();
                    m = new MediaPlayer();
                }
                AssetFileDescriptor descriptor = MySettings.this.getAssets().openFd(alerts[position] + ".mp3");
                m.setDataSource(descriptor.getFileDescriptor(), descriptor.getStartOffset(), descriptor.getLength());
                descriptor.close();

                m.prepare();
                m.start();
                CustomizeDialog dialog = new CustomizeDialog(MySettings.this,m);
                dialog.setTitle("Alert Test!");
                dialog.setMessage("Please Press \"Yes\" if you hear the alert sound now. if you don't here an alert, click \"No\" ");
                dialog.show();
            } catch (Exception e) {
                e.printStackTrace();
            } 
```

# f# - 代码引号中的 F# 数字文字

> ID：12472472
> 
> 赞同：1
> 
> 时间：2012-09-18T07:41:58.477
> 
> 标签：f#

我想在代码引用中使用数字文字。

在两个贡献之后

[F# 中的函数模板](https://stackoverflow.com/questions/11562037/function-templates-in-f)

[如何为通用数字编写函数？](https://stackoverflow.com/questions/4732672/how-to-write-a-function-for-generic-numbers)

一种方法是：

```
type FromInt = FromInt with
    static member ($) (FromInt, _:sbyte     ) = fun (x:int) -> sbyte      x
    static member ($) (FromInt, _:int16     ) = fun (x:int) -> int16      x
    static member ($) (FromInt, _:int32     ) = id
    static member ($) (FromInt, _:float     ) = fun (x:int) -> float      x
    static member ($) (FromInt, _:float32   ) = fun (x:int) -> float32    x
    static member ($) (FromInt, _:int64     ) = fun (x:int) -> int64      x
    static member ($) (FromInt, _:nativeint ) = fun (x:int) -> nativeint  x
    static member ($) (FromInt, _:byte      ) = fun (x:int) -> byte       x
    static member ($) (FromInt, _:uint16    ) = fun (x:int) -> uint16     x
    static member ($) (FromInt, _:char      ) = fun (x:int) -> char       x
    static member ($) (FromInt, _:uint32    ) = fun (x:int) -> uint32     x
    static member ($) (FromInt, _:uint64    ) = fun (x:int) -> uint64     x
    static member ($) (FromInt, _:unativeint) = fun (x:int) -> unativeint x
    static member ($) (FromInt, _:bigint    ) = fun (x:int) -> bigint     x
    static member ($) (FromInt, _:decimal   ) = fun (x:int) -> decimal    x
    static member ($) (FromInt, _:Complex   ) = fun (x:int) -> Complex(float x,0.0)  

let inline fromInt (a:int) : ^t = (FromInt $ Unchecked.defaultof< ^t>) a

module NumericLiteralG =
    [<ReflectedDefinition>]
    let inline FromZero() = LanguagePrimitives.GenericZero
    [<ReflectedDefinition>]
    let inline FromOne() = LanguagePrimitives.GenericOne
    [<ReflectedDefinition>]
    let inline FromInt32 (i:int) = fromInt i 
```

为每个 ($) 运算符添加 [ < ReflectedDefinition > ] 属性就可以了。但是一旦我将 [ < ReflectedDefinition > ] 添加到

```
let inline fromInt (a:int) : ^t = (FromInt $ Unchecked.defaultof< ^t>) a 
```

我收到以下编译错误：

“引号不能包含进行成员约束调用的表达式，或使用隐式解析为成员约束调用的运算符”

这是报价的限制吗？有没有其他方法可以得到相同的结果？

非常感谢您的任何想法。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T13:45:03.710

报价在许多方面受到限制。例如，它们不能包含泛型函数，这意味着以下内容不起作用：

```
<@ let id a = a in (id 3, id "A") @> 
```

他们不能像你的`fromInt`函数那样处理具有静态成员约束的函数，这不足为奇。

但是，我不太明白您为什么希望能够获得`fromInt`?

*   通常，引号用于获取某些 F# 代码的 AST 并将其转换为其他形式（如 SQL 查询、JavaScript 或 GPU 代码）。这意味着您将编写一些递归遍历 AST、翻译代码并以某种特殊方式处理原语的函数。

如果你不标记`fromInt`为`inline`然后`ReflectedDefinition`你可以只处理这个单一的功能作为一个原语。（另一方面，如果它是内联的，则必须处理`FromInt.($)`运算符。

*   或者，您可能正在转换引用然后编译它，但在这种情况下，您应该能够编译包含调用的引用代码`fromInt`...

所以，我很好奇你想看引用的原因是什么`fromInt`？

# javascript - Javascript 确认弹出窗口

> ID：12472478
> 
> 赞同：2
> 
> 时间：2012-09-18T07:42:10.170
> 
> 标签：javascript, onclick, confirmation

我是 javascript 和 web 开发的新手，现在我正在尝试使用 codeigniter，我想在删除链接上设置一个 javascript 确认框。现在我使用它让它工作得相当好：

```
<script type="text/javascript">
    function con(message) {
        var answer = confirm(message);
        if (answer)
        {
            return true;
        }

        return false;
    }
</script> 
```

和这个：

```
echo '<a href="/groups/deletegroup/'.$group->id.'" OnClick="return con(\'Are you sure you want to delete the group?\');" class="btn small light-grey block">Delete</a>'; 
```

我遇到的问题是第一次单击链接时没有弹出窗口，但是之后的每次单击都可以正常工作。我也觉得也许我应该使用 document.getElementById 和 window.onload 让它正常工作。任何帮助将不胜感激。

我最终使用了一个如下所示的 jquery 解决方案：

```
$(document).ready(function (){
$('.delete').click(function (e) {
    e.preventDefault();
    var href = $(this).attr('href');
    $.msgAlert({
        title: 'Delete'
        ,text: 'Do you really want to delete this group?'
        ,type: 'error'
        ,callback: function () {
                location.href = href;
        }
    });
}) 
```

});

我将商业 msgUI 用于 msgAlert 框。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-09-18T08:21:26.800

尝试这个...

**HTML：**

```
<a href="#" id="btn-delete">Delete</a> 
```

**JS：**

```
//window.onload = function() {
    var btnDelete = document.getElementById('btn-delete');
    btnDelete.onclick = function() {
        var message = 'Are you sure you want to delete the group?';
        if (confirm(message)) {
            // delete something...
        }
    }
//}; 
```

[http://jsfiddle.net/PEHx9/](http://jsfiddle.net/PEHx9/)

# objective-c - iOS 6.0 上的 MPMoviePlayerViewController 崩溃

> ID：12472479
> 
> 赞同：2
> 
> 时间：2012-09-18T07:42:10.997
> 
> 标签：objective-c, mpmovieplayercontroller, ios6

我的应用在 iOS6.0 中运行时遇到问题。它在 iOS 5.1.1 及更低版本上运行良好，但在 6.0 显示上运行良好`exc_bad_access`。

请告诉我为什么。

```
-(void)endAniView{

    if (moviePlayer!=nil) {
        [moviePlayer.moviePlayer stop];
        [self removeFromSuperview];
    }
} 
```

当用户触摸按钮时调用此方法。以下是我在 iOS6 上看到的错误，但在以前的 iOS 版本中没有：

```
2012-09-18 16:13:22.410 KiKiSong[992:907] [MPAVController] Autoplay: Disabling autoplay for pause
2012-09-18 16:13:22.411 KiKiSong[992:907] [MPAVController] Autoplay: Disabling autoplay
2012-09-18 16:13:22.450 KiKiSong[992:907] [MPAVController] Autoplay: Skipping autoplay, disabled (for current item: 1, on player: 0) 
```

请帮我。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-25T10:45:26.210

不要从超级视图中删除它，而是尝试使用以下代码代替它。

```
[self.presentingViewController dismissViewControllerAnimated:YES completion:nil]; 
```

这告诉呈现视图控制器关闭视图。它比`removeFromSuperview`你自己调用它更好，它会将消息转发到呈现视图控制器，这似乎是你的情况。

# actionscript-3 - 从 Flash 中的嵌入文件加载 SWF

> ID：12472482
> 
> 赞同：1
> 
> 时间：2012-09-18T07:42:13.680
> 
> 标签：actionscript-3, flash, loader

通常我们使用“Loader”类将外部 swf 文件加载到 Flash 中。

```
var loader:Loader = new Loader();
loader.load(new URLRequest("http://domain/path/my-external-swf.swf")); 
```

但是，外部 swf 文件现在嵌入到我的 flash 文档中：

```
[Embed("my-external-swf.swf")]
public var component:Class; 
```

是否可以告诉“加载器”从嵌入内容加载？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:40:49.730

我认为你应该使用 Loader 类的 loadBytes，类似于这里描述的解决方案：[如何嵌入 swf 文件](http://cookbooks.adobe.com/post_How_to_embed_swf_file_containing_ActionScript_code-12871.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:49:49.777

你应该能够简单地做到这一点：

```
addChild(new component()); 
```

希望名称`component`不会与任何保留变量发生冲突。

如果您仍想像@Lukasz 建议的那样使用[Loader](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Loader.html?filter_flash=cs5&filter_flashplayer=10.2&filter_air=2.6)类，请使用[loadBytes()](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Loader.html#loadBytes%28%29)方法并传递嵌入的资产。如果您的 swf 还包含代码，您可能需要初始化[LoaderContext](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/system/LoaderContext.html)：

```
var ctx:LoaderContext = new LoaderContext(false,this.loaderInfo.applicationDomain);
ctx.allowCodeImport = true;
Loader(addChild(new Loader())).loadBytes(new Components(),ctx); 
```

# wcf - ServiceModel.DuplexClientBase .net 可移植子集中缺失

> ID：12472484
> 
> 赞同：2
> 
> 时间：2012-09-18T07:42:22.823
> 
> 标签：wcf, visual-studio-2012, net.tcp, portable-class-library, duplex-channel

我试图从可移植类库（VS2012）使 wcf 服务引用到 net.tcp 双工。生成的代码引用了一些 System.ServiceModel 类，它们不包含在 .net 可移植子集中（例如：System.ServiceModel.DuplexClientBase）。

有没有办法让 wcf 双工通道在可移植类库中工作？还是现在不支持？

谢谢！

# ghostscript - imagick 或 ghostscript 查看的页面数

> ID：12472487
> 
> 赞同：-1
> 
> 时间：2012-09-18T07:42:37.820
> 
> 标签：ghostscript, imagick

我需要在不保存或下载脚本的情况下以安全的方式向用户查看 pdf 文件。我需要知道我们可以通过 imagick 或 ghost 脚本将许多页的 pdf 文件查看为图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T17:32:18.620

你的问题有点含糊——什么操作系统（linux、windows）？你所说的“视图”是什么意思？

Ghostscript 'display' 或 'x11' 设备不会将渲染页面写入任何文件，并且对页数没有任何限制（我已将其与 98,000 页 PDF 一起使用）。

根本不需要 Imagemagick——ghostscript 直接显示在 Windows 或 x11 上的窗口中。

# java - 浮点精度：JDBC、double 和 DECIMAL，如何避免丢失？

> ID：12472496
> 
> 赞同：2
> 
> 时间：2012-09-18T07:43:15.213
> 
> 标签：java, jdbc, db2, floating-accuracy, floating-point-precision

我正在使用 JDBC 接口从 DB2 数据库中复制一些行。我担心的是：有些列被定义为 DECIMAL 15。在 DB2 内部，这些列存储为二进制编码的十进制。在 Java 中通过双精度变量复制这些可能会丢失一些精度。由于该程序将在银行中运行，因此这肯定是一个问题。

处理它的最佳方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T07:44:31.183

为什么不使用[`ResultSet.getBigDecimal()`](http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html#getBigDecimal%28java.lang.String%29)？

Javadoc 指出：

> 检索此 ResultSet 对象的当前行中指定列的值，作为`java.math.BigDecimal`具有**全精度**的 a 。

# c# - 动态 COM 对象是否被视为托管资源？

> ID：12472498
> 
> 赞同：7
> 
> 时间：2012-09-18T07:43:21.937
> 
> 标签：c#, c#-4.0, com, idisposable

我在课堂上有一个`dynamic`COM 对象作为私有字段。我不确定它是否被认为是托管资源（GC 清理它）。

```
private dynamic _comConnector = null; 
```

...

```
_comConnector = Activator.CreateInstance(Type.GetTypeFromProgID("SomeProgId")); 
```

在实现 IDispose 时，我应该将其作为托管资源（仅在显式调用 Dispose() 时）还是作为本机资源（当也从终结器调用 Dispose(false) 时）清理它？

```
private void Dispose(bool disposing)
{
    if (disposing)
    {
        // Free managed resources //

        // --> Should I call Marshal.FinalReleaseComObject(_comConnector) here?
    }

    // Free unmanaged resources //

    // --> Or maybe here?
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T07:53:13.290

它是一个托管资源（基本上是一个运行时可调用包装器），您应该这样清理它。 [MSDN 指出](http://msdn.microsoft.com/en-us/library/8bwh56xe.aspx)：

> 每个 RCW 在其包装的 COM 对象上维护一个接口指针缓存，并在不再需要 RCW 时释放其对 COM 对象的引用。运行时在 RCW 上执行垃圾收集。

即，RCW 是一个托管资源，它封装了非托管 COM 引用。

顺便说一句，如果您在应用程序的多个位置从多个线程使用它们，释放 COM 对象可能会很危险，如[Chris Brumme 的这篇博客文章中所述](http://blogs.msdn.com/b/cbrumme/archive/2003/04/16/51355.aspx)。

如果您以范围内的单线程方式使用 COM 对象，那么您可以在完成后安全地调用该对象上的 ReleaseComObject：希望这是您的情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T07:48:26.317

1 COM 是一个组件，所以这一切都取决于他做什么。如果它满足以下功能

*   打开文件

*   打开网络连接

*   非托管内存

*   在 XNA 中：顶点缓冲区、索引缓冲区、纹理等。

=> 所以是的，它是非托管资源

垃圾收集器没有关于这个资源的信息，所以清理是给用户的

2 对于清理，您可以只使用`Dispose`方法（或使用 bloc；在处理结束时调用 dispose）。

# get - jQuery 获得返回 $object 的类似函数

> ID：12472501
> 
> 赞同：0
> 
> 时间：2012-09-18T07:43:43.870
> 
> 标签：get, jquery

是否有与 .get() 类似的函数，但不是返回一个 DOM 元素，而是返回一个 jQuery 对象？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:50:26.407

您可以使用[`.eq()`](http://api.jquery.com/eq/)函数获取它。与相同，`.get()`但返回一个 jQuery 对象。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:23:46.943

可以查询具体的索引

*   经过：

    ```
    var idx = 1;
    $('li:eq(' + idx +')') 
    ```

    或者

    ```
    var idx = 1;
    $("li").eq(idx) 
    ```

# java - 如何在循环中从原始资源中读取多个文件？

> ID：12472506
> 
> 赞同：3
> 
> 时间：2012-09-18T07:43:54.120
> 
> 标签：java, android, for-loop, resources

我有很多文本文件，想把它们放在一个 for 循环中。

我从最后一个活动中获得了一个具有资源名称的 Extra 并且有一个数组，该数组具有我的原始文本文件的资源名称来自 {d0,d1,d2,d3, ...,d79} 并且我想检查名称和数组名称并将查找名称放入资源！我的代码 (res=R.raw.(d[i])) 有错误：

```
 int res = 0;
    for (int i = 0; i <=79; i = i + 1) {
        if (s.equals(d[i])){
            res=R.raw.(d[i])
        }
    } 
    inputstream = getResources().openRawResource(res); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T09:49:41.297

您可以使用[getIdentifier (String name, String defType, String defPackage)](http://developer.android.com/reference/android/content/res/Resources.html#getIdentifier%28java.lang.String,%20java.lang.String,%20java.lang.String%29)动态获取资源 id，

```
ArrayList<Integer> id = new ArrayList<Integer>();
for (int i = 0; i <= 79; i++) {
  id.add(getResources().getIdentifier("d"+i, "raw", getPackageName()));
} 
```

现在您将拥有 id ArrayList 中的所有资源 id

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-09T10:31:13.217

我需要在一个地方阅读 6 种不同的资源。

```
 try
     {
        for (int i = 0; i < 6; i++ )
         {
              String fname = "p" + i;
              int id = context.getResources().getIdentifier(fname, "drawable", "com.example.yourproject");
              if (id == 0)
              {
                  Log.e(TAG, "Lookup id for resource '"+fname+"' failed");
                  // graceful error handling code here
              }
             scoresBm[i] =  (Bitmap) BitmapFactory.decodeResource(context.getResources(), id);
         }
    }
    catch(Exception E)
    {
    } 
```

# javascript - 日期格式虽然 Jquery

> ID：12472512
> 
> 赞同：1
> 
> 时间：2012-09-18T07:44:30.483
> 
> 标签：javascript, jquery, asp.net, jquery-ui

我已经实现`Datepicker`了`Jquery`

```
<html>
<head>
<script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
<script type="text/javascript" src="js/ui/jquery.ui.core.js"></script>  
<script type="text/javascript" src="js/ui/jquery.ui.datepicker.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $("#<%= TextBox1.ClientID %>").datepicker.formatDate('dd-mm-yy'));;                                                                          
    });
</script>
</head>
<body> 
<form id="form1" runat="server"> 
<div> 
  <asp:TextBox ID="TextBox1" runat="server"></asp:TextBox> 
</div>
</form> 
</body> 
</html> 
```

但是日期的格式是`MM/DD/YYYY`，我想要一个格式为`DD/MM/YYYY`. 我试图实现的`formatdate`，`datepicker method`但具体没有出现。感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T07:48:28.720

用这个：

```
$("#<%= TextBox1.ClientID %>").datepicker("option", "dateFormat", "dd/mm/yy"); 
```

# css - chrome定位元素不同于firefox

> ID：12472522
> 
> 赞同：0
> 
> 时间：2012-09-18T07:44:59.220
> 
> 标签：css, firefox, google-chrome, position

我的页面顶部有这些按钮，问题是 chrome 将这些按钮显示在右侧多 80 像素。我究竟做错了什么？

这是一个按钮的样式：

```
#engleza1{
position: relative;
top:0px;
left: 788px;
width: 51px;
height:42px;
}
#engleza1:hover{
position: relative;
top:0px;
left: 788px;
width: 51px;
height:42px;
background:url(../images/engleza.png) no-repeat;
cursor: pointer;
} 
```

这是他们的包装风格：

```
#wrap{
width:100%;
height: 1950px;
text-align: center;
margin:0 auto;
overflow: hidden;
background:url(../ong.png) center no-repeat;
} 
```

html:

```
<div id="wrap">
<div id="engleza1">
//nothing here
</div>
...
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:12:46.663

嗨，你的一些代码是重复的，所以删除它并替换它

```
#wrap{
height: 1950px;
text-align: center;
margin:0 auto;
overflow: hidden;
background:red;
}
#engleza1{
position: relative;
top:0px;
  left:788px;
width: 51px;
height:42px;
  background:yellow;
}
#engleza1:hover{
background:green;
cursor: pointer;
} 
```

演示更改为根据您的布局

***[现场演示](http://jsfiddle.net/gPGTf/1/)***

# java - 使用 Maven 构建时解决 NoClassDefFoundError

> ID：12472523
> 
> 赞同：0
> 
> 时间：2012-09-18T07:45:04.087
> 
> 标签：java, testing, maven, noclassdeffounderror, classnotfoundexception

在使用 Maven 运行测试时，我遇到了由 ClassNotFoundException 引起的 NoClassDefFoundError。找不到的类肯定存在于我的本地存储库中。

有问题的依赖项如下所示：默认作用域依赖项依赖于一个 jar，该 jar 的作用域标记为已提供，并且类加载器未找到的文件位于该 jar 内。它编译正常，在运行应用程序时找不到文件。

我已经通过将“提供的 jar”明确添加到我的 pom 作为运行时范围的依赖项来修复错误，但我想了解发生了什么。

1）如果我正在运行一些测试，依赖范围=提供的含义是什么？我知道一个servlet容器可以有一些提供的jar，比如servlet-api.jar，但是测试呢？这看起来像是我们的 pom 中的一个错误，不是吗？当我们应该使用“提供”范围时，除了 servlet-api.jar（和类似的 web-server jars）还有其他情况吗？

2）我在寻找这个问题的解决方案时尝试使用maven命令行参数-U。据我了解，它强制 Maven 检查远程存储库并在必要时从那里获取最新的依赖项。一个问题是：如果我没有指定这个命令会发生什么？它总是会从本地存储库中获取过时的依赖项？如果不是，那为什么我需要这个命令？

3) 为了解决这样的问题，最好在编译代码时知道哪些 jars 真正在类路径上，以及在运行代码时哪些是存在的。Maven可以吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:19:32.720

1) 提供总是意味着不应该将依赖项复制到构建的工件中。声明为提供的某些依赖项的测试将不会运行，因为在运行时需要这些依赖项。例如，您可以通过创建自己的配置文件“测试”来解决此问题。因此，在您的“测试”配置文件中，您将依赖项声明为默认范围，这将覆盖提供的范围。之后，您可以使用以下命令运行测试：

```
`mvn <goal> -PTest` 
```

有关信息，请参阅[配置文件简介](http://maven.apache.org/guides/introduction/introduction-to-profiles.html)。

2）据我所知，命令行参数 -U 将导致重新获取依赖项，因为您的存储库可能已损坏（例如，如果您更改或删除了其中的文件）。

3)`mvn dependency:tree`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:21:07.223

1）您可以使用“测试容器”（Jetty，Tomcat）运行测试，在这种情况下，只要范围是有意义的（例如，我在 prod 中使用 tomcat，但使用 jetty 进行单元测试，他们甚至没有具有相同版本的所提供的 jar）。

2) 默认情况下，Maven 采用它在本地 repo 中找到的 jar，如果不是快照，则不会搜索更新的 jar。如果您提供自己的 jar，则应始终增加版本，即使有时很烦人。

3) mvn dependency:tree 可以为您提供项目的所有依赖树。一些 IDE（我使用 eclipse）也为您提供了一些不错的 UI 工具来查看它们。

# .htaccess - 用 htaccess 重写 URL - 如何显示假 URL？

> ID：12472525
> 
> 赞同：0
> 
> 时间：2012-09-18T07:45:17.200
> 
> 标签：.htaccess, url-rewriting

我在 htacces 文件中有这样的代码

```
<IfModule mod_rewrite.c>
RewriteEngine on
# this stops looping
RewriteCond %{ENV:REDIRECT_STATUS} 200
RewriteRule ^ - [L]
# this redirects the browser:
RewriteRule !^/?UL/india/ /UL/india/ [L,R=301]
RewriteRule ^/?UL/india/ /UL/index.php [L]
</IfModule> 
```

但是访问时`localhost/UL/`，它一直显示“页面未正确重定向”。问题是什么 ？

我想`localhost/UL/india/`在地址栏中显示对 UL 目录的每个请求。
但应该执行的文件是`localhost/UL/index.php`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:49:44.267

在您的规则中添加一个`L`标志并停止循环：

```
# this stops looping
RewriteCond %{ENV:REDIRECT_STATUS} 200
RewriteRule ^ - [L]

# this redirects the browser:
RewriteRule !^/?UL/india/ /UL/india/ [L,R=301] 
```

然后，在此之后，您要匹配`/UL/india/`并提供 index.php 文件：

```
RewriteRule ^/?UL/india/ /UL/index.php [L] 
```

# caching - Apache 缓存图像

> ID：12472528
> 
> 赞同：0
> 
> 时间：2012-09-18T07:45:34.337
> 
> 标签：caching, apache2

Apache 正在缓存图像，我不知道去哪里找。我正在清除浏览器缓存，甚至尝试使用从未访问过该站点的新浏览器，但我得到了旧图像。大约 15 分钟后，将加载新图像。Apache 甚至会在发送旧文件时在标头中报告正确的（新）文件大小。

我不知道去哪里找这个。我的服务器是 Ubuntu 11。这仅在我的本地开发服务器上，当这种情况发生时，我的代码无法正常工作令人沮丧。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-05-09T17:13:41.743

我不知道您的图像文件的类型（是 NFS 还是 SMB），但有时在*Apache2*`EnableSendfile`中禁用指令可以确保因为与大多数人的想法不同，如果文件类型为.*`NSF`*

 *来自[Apache 核心文档](http://httpd.apache.org/docs/2.2/mod/core.html#enablesendfile)：

> 该指令控制 httpd 是否可以使用内核的 sendfile 支持将文件内容传输到客户端。默认情况下，当处理请求不需要访问文件中的数据时——例如，交付静态文件时——Apache 使用 sendfile 来交付文件内容而无需读取文件（如果操作系统支持）。

解决方案是将以下几行添加到您的配置文件中`/etc/apache2/apache.conf`：

`EnableSendfile off`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:06:05.540

尝试明确禁用图像缓存：

```
SetEnvIf Request_URI "\.(gif)|(jpg)|(png)$" image_request
Header set Cache-Control "private, no-store, no-cache, must-revalidate" env=image_request 
```

顺便说一句，[Live HTTP Headers](https://addons.mozilla.org/firefox/addon/live-http-headers/)是 Firefox 的一个不错的插件，向您显示所有请求/响应标头。我发现它对调试标头数据有很大帮助。*

# .net - DXTREME 有替代品吗？

> ID：12472531
> 
> 赞同：0
> 
> 时间：2012-09-18T07:45:53.400
> 
> 标签：.net, devexpress, devextreme

我发现了一个有趣的工具，如 DXTREME ( [http://www.devexpress.com/Subscriptions/DXTREME/](http://www.devexpress.com/Subscriptions/DXTREME/) ) 是否有一些替代方案，您对此有何看法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T09:26:33.017

从功能上讲，有很多 HTML/JavaScript 框架与 PhoneGap 或类似工具一起允许您针对移动平台并能够重用代码和开发技能。jQuery Mobile、Kendo UI Mobile、jQTouch、Dojo Mobile、Sencha Mobile - 仅举几例。

免责声明：我来自 DevExpress。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-23T17:52:41.177

We currently use `DevExpress` for `ASP.NET`.

But Telerik's `Kendo UI` seems to be the a serious competitor for `HTML5/Mobile`. Especially the support for older Browsers (IE7+) is important for us.

# android - 通过 NFC 部署 iPhone/Android 应用程序

> ID：12472533
> 
> 赞同：0
> 
> 时间：2012-09-18T07:45:58.847
> 
> 标签：android, ios, nfc

有可能吗？

如果您启用并自动启用 NFC，我已经了解到 Android 会在您路过时读取标签

> 根据意图启动活动。这在如何将 NFC 标签发送到应用程序中进行了描述。

[http://developer.android.com/guide/topics/connectivity/nfc/nfc.html#tag-dispatch](http://developer.android.com/guide/topics/connectivity/nfc/nfc.html#tag-dispatch)

是否可以发送 URL 来下载应用程序？就像您可以部署一个临时的 iphone/ipad 应用程序一样。

这将如何在 iOS 环境中工作？

只是想知道...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T11:34:38.667

> 是否可以发送 URL 来下载应用程序？

您可以发送*最终*下载应用程序的 URL。用户必须参与该过程。

> 这将如何在 iOS 环境中工作？

它不会，因为目前 iOS 不支持 NFC。

# android - 如何替换（更改）单元格 DB SQLite（Android）中的值？

> ID：12472538
> 
> 赞同：0
> 
> 时间：2012-09-18T07:46:33.540
> 
> 标签：android, database, sqlite

我有一个问题-我已经完成了数据库（SQLite），并进行了更新，我分析了结构并查看是否需要添加新数据或更改现有职位数据库中的值。所以我有一个问题 - 是否可以一次替换整行中的值（即在所有单元格（都是相同的id）列中），或者有可能将值替换为每一列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:59:57.683

如果您有要更新的行的 id，您可以使用`SQLiteDatabase.update()` [(docs here)](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html)。

正如您在`update()`函数中看到的，您用于`ContentValues`更新行，并在`whereClause`函数中提供行 ID。在 中`ContentValues`，您可以像通常对插入所做的那样放置新的列值：

```
ContentValues cv = new ContentValues();
cv.putString("row1Name","value1");
cv.putString("row2Name","value2"); 
```

等更新调用将类似于

```
db.update("table_name", cv, "row_id=?", new String[]{""=rowId); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:03:14.623

您可以在创建表时使用 on conflict replace 唯一约束。

如果一行与约束冲突，那么它将被替换，例如：-

```
create table people (
    _id integer primary key autoincrmement,
    person_id integer,
    name text,
    age integer,
    unique (person_id) on conflict replace
) 
```

如果您尝试使用已经存在的 person_id 插入，这将替换该行。

在这里查看[http://www.sqlite.org/lang_conflict.html](http://www.sqlite.org/lang_conflict.html)

# iphone - 在 Iphone 应用程序“找不到 FBSettings.h 文件”中实现 FacebookSDK 3.0 hackBook 示例时出错

> ID：12472539
> 
> 赞同：0
> 
> 时间：2012-09-18T07:46:37.223
> 
> 标签：iphone, objective-c, ios, xcode, facebook

[我使用 facebook 开发人员指南](http://developers.facebook.com/docs/getting-started/getting-started-with-the-ios-sdk/#coding)添加了所有必需的框架，但仍然遇到相同的错误： `FBSettings.h file not found`

我能做些什么来解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T06:02:14.340

你有很多方法可以解决这个问题。首先在您的目录或项目中检查此文件是否可用。如果不可用，则 1) 分别从 Git 下载所有模块。

现在，您已经确认“FBSettings.h”文件在您的项目目录中可用，然后只需编写如下所示的头文件。意味着从目录中写入“FBSettings.h”文件的完整路径，它将工作得非常好。

前任。这里，

```
#import "../directoryName/FBSettings.h" 
```

# abap - 如何将包导出到演示服务器？

> ID：12472540
> 
> 赞同：3
> 
> 时间：2012-09-18T07:46:49.097
> 
> 标签：abap

我需要做的是一种非常有限的备份。

我创建了很多小程序，并将它们放入我的测试包中。如果系统出现故障，我想保留我的数据。我也不想麻烦基础人员。

首先：我想要实现的目标是个坏主意吗（因为除了 ABAP 之外，我对 SAP 真的不太了解。其次：（如果这是个好主意）是否可以在非“代码复制粘贴”中实现方法？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T08:17:32.113

一般没有必要。SAP R/3 系统通常是关键任务。如果他们倒下，打基础管理员。如果他们在没有先备份系统并通知所有人的情况下将系统关闭，请用一个非常大的尖刺棒击打他们。

有一些方法可以下载单个组件（例如[SAPlink](http://www.saplink.org/)），但它们通常（还）不完整 - 不支持某些对象类型。创建此类备份的最佳方法是将对象添加到传输中，将其指向一个虚拟目标（请您的基础管理员创建一个，他们应该知道如何执行此操作）并释放它。然后获取导出的传输文件（您可以为此编写一个小报告）。这需要一些准备，但这样您就可以确定您有一个可以恢复的备份。请注意，您需要为此提供基础支持。（对于开发人员来说，与基础管理员保持良好关系通常是个好主意 :-)）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-03-18T09:09:19.960

两种方法：

1.  [SAPLink](https://wiki.scn.sap.com/wiki/display/ABAP/SAPlink)

更老式的方式，它使用称为**块**的文件以纯文本模式在系统之间传输对象。

[自 4.6c 版起](https://docs.oracle.com/cd/E52090_13/otn/pdf/eip/E51847_01.pdf)在大多数系统上受支持。

2.  [abapGit](https://docs.abapgit.org/)

使用 GIT 概念移动 ABAP 开发的更现代的方式。它允许[从包中创建 GIT 存储库](https://docs.abapgit.org/guide-moving-package.html)并将此存储库拉到任何本地机器上。

自 BASIS v.702 起受支持

# eclipse - 元素类型“...”的内容必须在 web.xml 中匹配

> ID：12472541
> 
> 赞同：41
> 
> 时间：2012-09-18T07:46:54.303
> 
> 标签：eclipse, web.xml

我的 web.xml 文件有问题。错误：

> 元素类型“web-app”的内容必须匹配“(icon?,display-name?,description?,distributable?,context-param*,filter*,filter-mapping*,listener*,servlet*,servlet-mapping *,session-config?,mime-mapping*,welcome-file-list?,error-page*,taglib*,resource-env- ref*,resource-ref*,security-constraint*,login-config?,security -role*,env-entry*,ejb-ref*,ejb-local-ref*)”。

但是，我的 web.xml 文件按照错误所说的顺序排列。

这是我的 web.xml：

```
<!DOCTYPE web-app PUBLIC
         "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
         "http://java.sun.com/dtd/web-app_2_3.dtd" >

<web-app>
    <display-name>Archetype Created Web Application</display-name>

    <context-param>
        <param-name>javax.faces.STATE_SAVING_METHOD</param-name>
        <param-value>client</param-value>
        <description>State saving method: 'client' or 'server' (=default). See JSF Specification 2.5.2</description>
    </context-param>

    <context-param>
        <param-name>javax.servlet.jsp.jstl.fmt.localizationContext</param-name>
        <param-value>resources.application</param-value>
        <description></description>
    </context-param>

    <servlet>
        <servlet-name>Faces Servlet</servlet-name>
        <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet-mapping>
        <servlet-name>Faces Servlet</servlet-name>
        <url-pattern>/faces/*</url-pattern>
    </servlet-mapping>

    <welcome-file-list>
        <welcome-file>index.html</welcome-file>
        <welcome-file>index.htm</welcome-file>
        <welcome-file>index.jsp</welcome-file>
        <welcome-file>default.html</welcome-file>
        <welcome-file>default.htm</welcome-file>
        <welcome-file>default.jsp</welcome-file>
    </welcome-file-list>

</web-app> 
```

我使用 WebLogic 10.3.4。关于这个问题的任何想法？

* * *

## 回答 #1

> 赞同：79
> 
> 时间：2014-11-06T11:19:17.927

一个非常简单的解决方案可以解决我的问题。

更改架构引用

```
<!DOCTYPE web-app PUBLIC
   "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
   "http://java.sun.com/dtd/web-app_2_3.dtd" >

<web-app></web-app> 
```

对此

```
<?xml version="1.0" encoding="UTF-8"?>

<web-app xmlns="http://java.sun.com/xml/ns/javaee" 
         version="2.5" 
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"> 
         // ...
         // your all content goes here

</web-app> 
```

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-08-04T00:28:48.167

我在 Eclipse 中遇到了同样的问题，在将标签重新排序为 DTD 之后，错误就消失了。您也可以尝试重新启动 Eclipse。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2014-12-14T23:37:31.563

I observed that DTD at Web.xml required an specific order for elements servlet, servlet-mapping, etc.

So, I started adding each element from Design View of XML file at ECLIPSE.

It works!. You can build your XML file in a way it likes to DTD.

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2016-08-02T10:59:58.073

我刚刚删除了`<!DOCTYPE .. >`标签，它对我有用。其实我不知道有多重要。。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2014-03-12T15:31:16.500

I followed someone's suggestion for "copy all" - "cut" - "paste" - "save" and this seemed to clear up the message. Comparing the before and after files, I found that in the "pasted" version all tabs had been converted to spaces. So it seems that the web.xml validator in Eclipse does not like tabs.

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-12-19T11:53:01.437

像这样重新排列你的代码......

```
<web-app>
  <display-name>Archetype Created Web Application</display-name>

  <welcome-file-list>
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.htm</welcome-file>
    <welcome-file>index.jsp</welcome-file>
    <welcome-file>default.html</welcome-file>
    <welcome-file>default.htm</welcome-file>
    <welcome-file>default.jsp</welcome-file>
  </welcome-file-list>

 <context-param>   
    <param-name>javax.faces.STATE_SAVING_METHOD</param-name>
    <param-value>client</param-value>
    <description>State saving method: 'client' or 'server' (=default). See JSF Specification 2.5.2</description>
  </context-param>

  <context-param>
    <param-name>javax.servlet.jsp.jstl.fmt.localizationContext</param-name>
    <param-value>resources.application</param-value>
    <description></description>>
  </context-param>

  <servlet>
    <servlet-name>Faces Servlet</servlet-name>
    <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
  </servlet>
 <servlet-mapping>
   <servlet-name>Faces Servlet</servlet-name>
   <url-pattern>/faces/*</url-pattern>
 </servlet-mapping> 
```

如果您有更多的 servlet，则在映射上方定义您的 servlet，然后再映射您的 servlet。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2018-04-05T11:59:55.643

最后，我通过在 Eclipse 中使用设计视图而不是直接在源视图中的 web.xml 中键入来配置 servlet 和 servlet 映射，从而解决了这个问题。希望这可以帮助。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2018-05-20T14:53:39.803

这部分被删除并解决了错误。

```
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"  "http://java.sun.com/dtd/web-app_2_3.dtd" > 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2014-09-29T21:51:39.450

如果您正在处理同样的问题并且发现 web.xml 语法没有任何问题，我建议您执行以下操作：“剪切（web.xml 中的所有内容）”、“粘贴到记事本”-“从记事本复制”- “粘贴回 web.xml” - “最后保存 web.xml”。必须爱上那些看不见的字符、标签等。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2018-09-11T01:52:20.340

尝试上述解决方案时不要忘记保存文件。[使用最新的模式描述符](https://gist.github.com/chankok/9cf19ccaaf03bcede3de2044c85fd8da)并保存后，我的错误就消失了：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"
    id="WebApp_ID" version="3.1">

    <!-- your content here -->

</web-app>` 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2021-08-20T06:06:31.450

我刚刚删除了 DOCTYPE 并重新启动了 Eclipse。有效。试试看

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2021-11-23T07:09:17.330

而不是使用“xsi:schemaLocation="http://java.sun.com/xml/ns/javaee [http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"”](http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd%22%22)

利用

xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee [http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"](http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd%22)

# ios - ios Facebook登录对话框编码问题

> ID：12472552
> 
> 赞同：0
> 
> 时间：2012-09-18T07:47:50.887
> 
> 标签：ios, facebook-graph-api, encoding

以前有人经历过吗？
facebook 登录表单有时会显示奇怪的字符。它不会始终如一地发生，但它经常在设备上发生。
任何想法为什么会发生？

![在此处输入图像描述](../Images/98a4500d3d9223e877d1b701e974c14b.png)

# java - 更新 Jooq 的自动生成的类

> ID：12472553
> 
> 赞同：1
> 
> 时间：2012-09-18T07:47:51.427
> 
> 标签：java, mysql, maven, jooq

我正在将 jOOQ 与 Mysql（使用 maven）一起使用。

我在我的数据库中创建了一个新表，那么如何在不重新生成现有类的情况下更新 jOOQ 的自动生成类？

当我运行时 `mvn clean compile`，它也会重新创建现有的类

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:21:06.720

jOOQ 不支持“更新”生成的类，因为它不为增量代码生成维护“脏”标志。所以，你所要求的（目前）是不可能的。

# c++ - 是否允许对象在 C++ 的生命周期内合法地更改其类型？

> ID：12472556
> 
> 赞同：9
> 
> 时间：2012-09-18T07:48:06.030
> 
> 标签：c++, visual-c++, polymorphism, rtti, virtual-functions

我有这个代码：

```
class Class {
public:
    virtual void first() {};
    virtual void second() {};
};

Class* object = new Class();
object->first();
object->second();
delete object; 
```

我用 /O2 用 Visual C++ 10 编译并有这个反汇编：

```
282:    Class* object = new Class();
00403953  push        4  
00403955  call        dword ptr [__imp_operator new (4050BCh)]  
0040395B  add         esp,4  
0040395E  test        eax,eax  
00403960  je          wmain+1Ch (40396Ch)  
00403962  mov         dword ptr [eax],offset Class::`vftable' (4056A4h)  
00403968  mov         esi,eax  
0040396A  jmp         wmain+1Eh (40396Eh)  
0040396C  xor         esi,esi  
283:    object->first();
0040396E  mov         eax,dword ptr [esi]  
00403970  mov         edx,dword ptr [eax]  
00403972  mov         ecx,esi  
00403974  call        edx  
284:    object->second();
00403976  mov         eax,dword ptr [esi]  
00403978  mov         edx,dword ptr [eax+4]  
0040397B  mov         ecx,esi  
0040397D  call        edx  
285:    delete object;
0040397F  push        esi  
00403980  call        dword ptr [__imp_operator delete (405138h)] 
```

请注意，`00403968`对象起始地址（`vptr`存储位置）被复制到`esi`寄存器中。然后在`0040396E`这个地址用于检索`vptr`并且该`vptr`值用于检索 的地址`first()`。然后再次检索 at`00403976`并`vptr`用于检索 的地址`second()`。

为什么 vptr 被检索两次？对象可能`vptr`在调用之间发生变化，还是只是优化不足？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-09-18T07:56:38.607

> 为什么 vptr 被检索两次？对象是否可能在调用之间更改其 vptr 或者它只是优化不足？

考虑：

```
object->first(); 
```

此调用可能会破坏对象并在同一块内存中创建一个新对象。因此，在此调用之后，无法对状态做出任何假设。例如：

```
#include <new>

struct Class {
    virtual void first();
    virtual void second() {}
    virtual ~Class() {}
};

struct OtherClass : Class {
    void first() {}
    void second() {}
};

void Class::first() {
    void* p = this;
    static_assert(sizeof(Class) == sizeof(OtherClass), "Oops");
    this->~Class();
    new (p) OtherClass;
}

int main() {
    Class* object = new Class();
    object->first();
    object->second();
    delete object;
} 
```

如果该函数是内联的和/或使用链接时代码生成，编译器可能会优化掉不必要的寄存器加载。

* * *

正如 DeadMG 和 Steve Jessop 所指出的，上述代码表现出未定义的行为。根据 C++ 2003 标准的 3.8/7：

> 如果在对象的生命周期结束之后，在对象占用的存储空间被重用或释放之前，在原始对象占用的存储位置创建一个新对象，一个指向原始对象的指针，一个指向原始对象的引用引用原始对象，或者原始对象的名称将自动引用新对象，并且一旦新对象的生命周期开始，可用于操作新对象，如果：
> 
> *   新对象的存储恰好覆盖了原始对象占用的存储位置，并且
> *   新对象与原始对象的类型相同（忽略顶级 cv 限定符），并且
> *   原始对象的类型不是 const 限定的，并且，如果是类类型，则不包含任何类型为 const 限定或引用类型的非静态数据成员，并且
> *   原始对象是 T 类型的最派生对象（1.8），而新对象是 T 类型的最派生对象（也就是说，它们不是基类子对象）。

上面的代码不满足上面列表中的要求 2。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T08:01:47.610

它存储在`esi`不同函数的调用之间以保存。

微软公约说

> 如果函数中使用了 ESI、EDI、EBX 和 EBP 寄存器，编译器会生成 prolog 和 epilog 代码以保存和恢复它们。

所以存储的指针`esi`将保留，但`this`指针`ecx`可能不会。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T09:34:36.120

首先回答标题中的问题：

Yes, an object from a derived class changes its type during construction and destruction. This is the only case.

The code in the body of the question is different. But as Maxim correctly notes, you just have a pointer. This pointer may point (at different times) to two different objects residing at the same address.

# c++ - 删除智能指针对象？

> ID：12472558
> 
> 赞同：0
> 
> 时间：2012-09-18T07:48:08.993
> 
> 标签：c++, smart-pointers

背景：
在阅读有关智能指针的信息时，我遇到了以下 C++ 中智能指针的示例实现

```
template < typename T > class SP
{
    private:
    T*    pData; // Generic pointer to be stored
    public:
    SP(T* pValue) : pData(pValue)
    {
    }
    ~SP()
    {
        delete pData;
    }

    T& operator* ()
    {
        return *pData;
    }

    T* operator-> ()
    {
        return pData;
    }
};

class Person
{
    int age;
    char* pName;

    public:
        Person(): pName(0),age(0)
        {
        }
        Person(char* pName, int age): pName(pName), age(age)
        {
        }
        ~Person()
        {
        }

        void Display()
        {
            printf("Name = %s Age = %d \n", pName, age);
        }
        void Shout()
        {
            printf("Ooooooooooooooooo",);
        } 
};

void main()
{
    SP<Person> p(new Person("Scott", 25));
    p->Display();
    // Dont need to delete Person pointer..
} 
```

问题：

1.  这个智能指针的好处是一旦超出范围就会删除 Person 类对象。但是那我们是否需要专门添加代码“delete p;”？在主函数中让智能指针类不会泄漏自己？

2.  既然 Person 类也有析构函数，我们真的需要对 person 的对象调用 delete 吗？当 Person 对象超出范围时，将自动调用析构函数

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:53:02.627

`p`[1]在堆栈上分配时不需要删除。如果你这样做了：

```
SP<Person>* p = new SP<Person>(new Person("Scott", 25)); 
```

那么你将不得不删除它。

[2] 你不需要调用`delete`对象`Person`。这是由智能指针完成的——毕竟这是它的目的。

因此，您的代码在当前状态下没有任何内存泄漏。然而，智能指针实现缺少复制构造函数、赋值运算符等，因此应该添加它们以避免将来出现一些不希望的行为。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:18:37.007

不要使用那个实现。使用以下类（按优先顺序）：

`std::shared_ptr`/ `std::unique_ptr`(C++11)。
`std::tr1::shared_ptr`/ `std::tr1::unique_ptr`（Vis Studio 2008 支持 C++11 之前的版本）。
`boost::shared_ptr`/ `boost::unique_ptr`（如果上面的智能指针类在您的编译器中不存在）。

# macos - 备份mac osx终端命令历史

> ID：12472560
> 
> 赞同：12
> 
> 时间：2012-09-18T07:48:21.670
> 
> 标签：macos, terminal, osx-lion

如何将 mac osx (lion) 终端命令历史记录备份到桌面上的文本文件中？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-09-18T07:50:35.177

您可以通过将历史输出重定向到文件中来做到这一点。

`history > history.txt`

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-09-18T07:52:41.540

如果您使用 bash：

~/.bash_history

否则如果zsh：

~/.zsh_history

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T08:38:40.247

由于您实际上不是在谈论 shell 或 bash，因此您可能只想使用“导出为文本 ...”菜单点。这会将整个行缓冲区导出到一个文本文件中。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2021-09-12T07:27:45.213

对于所有想要导入导出文件的人@ncremins 回答：

使用导出`history.txt`文件

```
history > history.txt 
```

获取`history.txt`要导入的其他系统，然后运行：

```
history -r history.txt 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-11-20T21:23:58.510

> 历史 X > 历史.txt

其中 X 是您希望历史文件开始的行..

例如，如果你运行 history > history.txt 它只会给你最近的 10 行或类似的东西。但是，如果您想保存当前会话的所有命令（即 1-965），您需要运行 history 1 > history.txt...如果您只想要最近的 100 个命令，则同样如此：history 866 > history。文本

# amazon-s3 - 亚马逊应用内购买失败

> ID：12472565
> 
> 赞同：0
> 
> 时间：2012-09-18T07:48:31.623
> 
> 标签：amazon-s3, in-app-purchase, amazon, kindle, amazon-appstore

Amazon In App 已集成到我的游戏应用程序中。但由于 In App 购买失败，在 Amazon Distribution Portal 上提交的应用程序已被拒绝。

问题通常是应用内购买失败并报告错误“购买物品时出错”。

我试图找出问题，但无法这样做。我尝试使用 AmazonSDKTester.apk 和 amazon.sdktester.json 进行测试

在[亚马逊应用内购买](https://stackoverflow.com/questions/11876539/amazon-in-app-purchase)中描述 ，一切正常。但在实际环境中，问题就出现了。有没有人遇到过同样的问题？或关于问题/解决方案的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-15T05:19:08.567

以下代码对我来说很好。您可以随时向亚马逊的支持部门发送电子邮件，询问有关您的 IAP 提交失败的原因的详细信息。另外，发布您的代码，然后我们可以看到缺少的内容。当您在 Kindle 和其他 Android 设备（摩托罗拉 Droid、HTC 等）上进行测试时，您必须确保 IAP 正常工作或顺利退出。

```
private class AmazonPurchasingObserver extends BasePurchasingObserver 
{

    public AmazonPurchasingObserver() 
    {        
        super(oThis);

    }

    @Override
    public void onItemDataResponse(ItemDataResponse itemDataResponse) 
    {        
        //Check itemDataResponse.getItemDataRequestStatus();
        //Use itemDataResponse to populate catalog data
        // Didn't use, items have already been stored locally in the game localization xml
    }

    @Override
    public void onPurchaseResponse(PurchaseResponse purchaseResponse)
    {
        PurchaseRequestStatus status = purchaseResponse.getPurchaseRequestStatus();
        Log.d(sTag, "status: " + status.name());
        if (status == PurchaseRequestStatus.SUCCESSFUL)
        {
            //If SUCCESSFUL, fulfill content;
            Receipt purchaseReceipt = purchaseResponse.getReceipt();
            String sku = purchaseReceipt.getSku();
            successBoughtProduct(sku); // implement the logic you need when a product is successfully bought, ie: increment game scores, save game states, etc.
            Log.d(sTag, "SUCCESS: " + sku);
        }
        else
        {               
            failToBuyProduct(); // implement your own logic to deal with failures
            Log.d(sTag, "FAILED purchase");
        }

    }
} 

public static void amazonPurchaseRequest(String productSku)
{
    Log.d(sTag, "amazonPurchaseRequest: " + productSku);
    PurchasingManager.initiatePurchaseRequest(productSku);      
} 
```

在您的 AndroidManifest.xml 中，在“应用程序”标签内，添加：

```
<application ... etc  
            <receiver android:name = "com.amazon.inapp.purchasing.ResponseReceiver" >
                <intent-filter>
                    <action android:name = "com.amazon.inapp.purchasing.NOTIFY"
                            android:permission = "com.amazon.inapp.purchasing.Permission.NOTIFY" />
                </intent-filter>
            </receiver>     

</application> 
```

# haskell - optparse-applicative：至少需要一个参数

> ID：12472566
> 
> 赞同：8
> 
> 时间：2012-09-18T07:48:34.473
> 
> 标签：haskell, command-line-arguments

我在一个应用程序中使用[optparse-applicative](http://hackage.haskell.org/package/optparse-applicative-0.4.1)库，它在命令行上采用多个字符串并对每个字符串执行一个操作。我的第一次尝试是这样的：

```
arguments Just
    ( metavar "EXPR"
    & help "Expressions to render, in zero-based De Bruijn index notation" ) 
```

*不幸的是，这允许在没有*参数的情况下运行程序，即使它没有多大意义。

我的第二次尝试涉及分别解析第一个参数，然后将其转换为列表的其余部分：

```
(:) <$> argument Just ( metavar "EXPR" )
    <*> arguments Just ( metavar "EXPR" ) 
```

这应该有效，但它没有：当使用 调用时`--help`，解析器会吞噬并处理它，而不是显示帮助文本。

所以我的问题是：如何配置 optparse 以要求至少一个参数？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-01T03:03:43.673

好的——我已经向图书馆的作者 (Paolo Capriotti)[报告了这个问题。](https://github.com/pcapriotti/optparse-applicative/issues/20)他回答：

> 这里的问题是`arguments`有一些特殊的逻辑：
> 
> *   最初忽略以“-”开头的参数
> *   接受 ' - '
> *   在遇到 '--' 后接受以 '-' 开头的参数
> 
> 鉴于这种期望的行为，`arguments`不能简单地实现为`many argument`.
> 
> 我们可以做些什么来使本期中的常见用例更容易处理，即添加一堆便利构建器，例如：
> 
> *   `arguments1`，非空参数列表，具有与参数相同的行为
> *   `argument'`，解析 1 个参数，忽略以 '-' 开头的内容
> 
> 这样，许多参数'将类似于参数（没有特殊处理--），一些参数'类似于arguments1。
> 
> 欢迎提出更好名字的建议。:)

换句话说，他添加了一个新功能[`arguments1`](http://hackage.haskell.org/packages/archive/optparse-applicative/0.5.0/doc/html/Options-Applicative-Builder.html#v%3aarguments1)来完成我所描述的操作。该功能从 0.5 版开始可用。

所以现在我的代码如下所示：

```
arguments1 Just
    ( metavar "EXPR"
   <> help "Expressions to render, in zero-based De Bruijn index notation" ) 
```

谢谢，保罗！

# sql - 改变表然后更新

> ID：12472571
> 
> 赞同：7
> 
> 时间：2012-09-18T07:48:57.603
> 
> 标签：sql, database, tsql

如何在事务 sql 中实现这一点。

我想向现有表添加新列，然后用一些值更新它。是否可以在一个 sql 脚本中完成，或者我应该使用单独的脚本？

这是一个示例代码

```
 ALTER TABLE my_table ADD my_new_column bit NULL;

 UPDATE my_table SET my_new_column = 0; 
```

我知道我正在写作，而该专栏仍然不存在，所以这就是这两行不起作用的原因。但是如何在一个脚本中实现这一点，即使用一些延迟或如何确保创建列然后将数据写入它？

我将 IF EXISTS 与从表中选择一起使用，但它不起作用。

谢谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-18T07:51:43.650

您可以通过添加默认值并使用`WITH VALUES`子句来添加新列并同时填充它。如果不再需要，您可以在最后删除默认值。这种方法可用于多个列，如下所示。

```
ALTER TABLE [myTable]
ADD [my_new_column] [bit] NULL CONSTRAINT DF_TMP DEFAULT 0 ,
    [my_new_column2] [bit] NULL CONSTRAINT DF_TMP2 DEFAULT 1 WITH VALUES;

ALTER TABLE [myTable] DROP DF_TMP, DF_TMP2 
```

# mercurial - 有什么方法可以撤消 Mercurial 中已发布的合并？

> ID：12472575
> 
> 赞同：1
> 
> 时间：2012-09-18T07:49:19.327
> 
> 标签：mercurial, merge, branch

我已经推送了一个合并变更集，但后来我发现合并中有一些未正确解决的冲突。

有没有办法撤消合并？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:55:07.617

推送变更集后，其他所有人都可以使用它，并且您无法更改它。如果您是中央存储库的唯一用户，您可以使用[MQ](http://mercurial.selenic.com/wiki/MqExtension)并剥离攻击性合并并正确重做。如果有其他人使用中央存储库，您唯一的选择是推送一个变更集，以修复您在合并期间无法修复的问题。

# c# - 使用 Chrome 时 HttpBrowserCapabilities 不起作用

> ID：12472576
> 
> 赞同：1
> 
> 时间：2012-09-18T07:49:22.637
> 
> 标签：c#, asp.net

我正在使用 HttpBrowserCapabilities 来检查用户浏览器。但是当使用 chrome 进行调试时，我将 objBcp 作为“AppleMAC-Safari”。使用 IE 时，它正确显示为“IE”。

```
 System.Web.HttpBrowserCapabilities objBcp= Request.Browser;
        if(objBcp.Browser=="Chrome")
{} 
```

Chrome还有其他扩展吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:02:41.070

我建议为此目的使用 UserAgent，例如：

```
if (Request.UserAgent.Contains("Chrome"))
{
    ...
} 
```

# javascript - 在javascript中替换html注释的快速方法

> ID：12472583
> 
> 赞同：1
> 
> 时间：2012-09-18T07:50:01.090
> 
> 标签：javascript, jquery, html

假设您有一个来自服务器的注释 html 结构（它被注释以提高渲染速度，如 FB）。之后，我们应该删除我们的内容并允许浏览器呈现 html。最快的方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T08:20:42.587

您可以使用“content()”方法获取所有节点，包括评论：轻且无插件！

然后你应该使用“filter()”方法过滤集合

```
$container
    .contents()
    .filter(function(){ return this.nodeType == 8; })
    .remove(); // replaceWith()  etc. 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T07:53:55.380

可能使用[jquery 取消注释插件](http://chivil.com/uncomment/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-04-23T23:06:36.640

```
功能_removeComments（节点）{
    if (!node || !node.parentNode) 返回；

    if (node.nodeType == 8) {
        node.parentNode.removeChild(node);
        返回;
    }

    for (var c = node.firstChild; c; ) {
        var n = c.nextSibling;
        _removeComments(c);
        c = n;
    }
}

功能删除评论（元素）{
    element.each(函数() {
        _removeComments(这个);
    });
}

```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-18T07:58:26.770

得到注释的 DOM 然后做一个`replace()`

```
 var dom =  $.trim($('#domcontainer').html()).replace('<!--','').replace('-->',''); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-09-18T07:56:23.817

```
$(stringHtml).comments().remove(); 
```

...使用 jquery-comments 插件：

[http://www.bennadel.com/blog/1563-jquery-comments-plug-in-to-access-html-comments-for-dom-templating.htm](http://www.bennadel.com/blog/1563-jquery-comments-plug-in-to-access-html-comments-for-dom-templating.htm)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2015-04-09T20:09:48.387

试试这个方法。为元素节点提供带有注释的 HTML，这将删除注释块并显示 HTML。

```
function uncommentNode(node) {
    var nodestr = node.innerHTML;
    var noderevealHTML =  nodestr.replace(/<!--/ig, '').replace(/-->/ig, ''); // Update expressions here.
    node.innerHTML = noderevealHTML;
} 
```

如果您的注释 HTML 在注释开始/结束标记中有三个或更多破折号 (<-- / <---)，请务必更新上述函数中的 replace() 表达式。

这是一个[JSFIDDLE](http://jsfiddle.net/ddtbfc24/)以获得更好的解释。

# performance - xsl：选择另存为变量

> ID：12472589
> 
> 赞同：0
> 
> 时间：2012-09-18T07:50:33.423
> 
> 标签：performance, xslt

我正忙着让我的 xsl 尽可能高效。所以这就是我所拥有的。

```
<xsl:when test=".//div[starts-with(@class,'ls-col ') or @class='ls-col']">
    <xsl:apply-templates select=".//div[starts-with(@class,'ls-col ') or @class='ls-col']" mode="col"/>
</xsl:when>` 
```

所以这里的逻辑是如果有 ls-col 的 div 存在，应用 mode="col" 的模板。

所以我在想这在我看来是它会评估两次

```
.//div[starts-with(@class,'ls-col ') or @class='ls-col'] 
```

有没有办法保存它并在应用模板中使用它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:55:54.893

在这种情况下，您实际上并不需要**xsl:when 。**只需执行**xsl:apply-templates**

```
<xsl:apply-templates 
   select=".//div[starts-with(@class,'ls-col ') or @class='ls-col']" mode="col"/> 
```

如果没有匹配的**div**标签，则**xsl:apply-templates**将不匹配任何内容，因此此时不会输出任何内容。因此，没有理由事先检查此类标签的存在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:29:40.613

正如 Tim C 所说，如果它是一个 xsl:if 当条件不成立时，你可以依靠应用模板什么都不做。但如果有一个“否则”分支，只需将条件放入变量中：

```
<xsl:variable name="c" select=".//div[starts-with(@class,'ls-col ') or @class='ls-col']"/>
<xsl:choose>
<xsl:when test="$c">
    <xsl:apply-templates select="$c" mode="col"/>
</xsl:when>
<xsl:otherwise>... 
```

# c# - 如何为“列表不包含字符串”编写 if 语句？

> ID：12472597
> 
> 赞同：2
> 
> 时间：2012-09-18T07:51:11.587
> 
> 标签：c#, list, contains

以下 IF 语句检查 ListexceptionCM 是否包含下拉列表的选定值。

```
List<string> ExceptionCM = new List<string>;
if(exceptionsCM.Any(s => ddl_model.SelectedValue.Contains(s)) )
{
       //do something
}

List<string> ExceptionPM;
List<string> ExceptionDL;
List<string> ExceptionCL; 
```

我想更改语句，所以我可以检查 4 列表是否不包含下拉列表的选定值。你可以帮帮我吗 ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T07:58:24.553

你可以这样做：

```
//combine all lists into a single IEnumerable<string>
IEnumerable<string> unionList = ExceptionCM.Union(ExceptionPM)
                                              .Union(ExceptionDL)
                                                  .Union(ExceptionCL);

//check against union list
if(unionList .Any(s => !ddl_model.SelectedValue.Contains(s)) )
{
   //do something
} 
```

像这样的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T07:51:59.133

```
List<string> ExceptionCM = new List<string>;
foreach(List<yourType> list in YourLists<List<YourType>>)
{
    if(exceptionsCM.Any(s => !list.Contains(s)) )
    {
       //do something
    }
{
List<string> ExceptionPM;
List<string> ExceptionDL;
List<string> ExceptionCL; 
```

只需添加！（不是）运算符之前返回布尔值的**ddl_model.SelectedValue.Contains(s)**。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T08:00:08.110

您可以使用`All`以确保 4 个列表中的所有项目不包含：

```
var exceptions = new List<List<string>>()
{
    ExceptionCM, 
    ExceptionPM, 
    ExceptionDL, 
    ExceptionCL
}

if (exceptions.SelectMany(ex => ex)
              .All(s => !ddl_model.SelectedValue.Contains(s)))
{
} 
```

**编辑：** `Any`在这种情况下不正确，因为它确定集合的任何元素是否满足条件。

# jquery - jQuery 2 运行：服务器

> ID：12472602
> 
> 赞同：0
> 
> 时间：2012-09-18T07:51:26.537
> 
> 标签：jquery, asp.net

我正在尝试从 asp.net 页面中协调鼠标以在服务器“TextBox”上运行。

```
jQuery(document).ready(function () {
    $(document).mousemove(function (e) {
        $('#status').html(e.pageX + ', ' + e.pageY);
    });
}) 
```

在职的

```
<h2 id="status">
0, 0
</h2> 
```

需要

```
<asp:TextBox ID="status" runat="server"></asp:TextBox> 
```

而且我无法理解错误在哪里以及为什么不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T07:53:50.057

使用 cssClass 或不使用 ASP.net 控制器

```
<asp:TextBox ID="status" runat="server" cssClass="status" /> 
```

并使用类选择器（并设置其值，而不是 html）：

```
jQuery(document).ready(function () {
    $(document).mousemove(function (e) {
        $('.status').val(e.pageX + ', ' + e.pageY);
    });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:15:08.277

您必须使用 a`ClientID`因为您的控件 ID 在服务器呈现时会更改

```
jQuery(document).ready(function () {
    $(document).mousemove(function (e) {
        $('#'+'<%=status.ClientID %>').html(e.pageX + ', ' + e.pageY);
    });
}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T08:10:17.033

您最好添加`ClientIDMode="Static"`到您的 asp.net 控件，以便 ID 在运行时不会更改

```
<asp:TextBox ID="status" ClientIDMode="Static" runat="server"></asp:TextBox> 
```

# hibernate - Hibernate - 多对多角色

> ID：12472605
> 
> 赞同：0
> 
> 时间：2012-09-18T07:51:42.730
> 
> 标签：hibernate, jpa, many-to-many

考虑以下模型：

![在此处输入图像描述](../Images/3b687e832027bba0c83a763e1c972c8e.png)

我确实想用 JPA 和 Hibernate 正确地映射它。目前我这样做的方式是将列表添加到用户实体 - CustomerContracts 和 ConsulterContracts。

```
@OneToMany(mappedBy = Contract.CUSTOMER_COLUMN, fetch=FetchType.EAGER,targetEntity=Contract.class)
private Set<Contract> customerContracts = new HashSet<Contract>();

@OneToMany(mappedBy = Contract.CUSTOMER_COLUMN, fetch=FetchType.EAGER,targetEntity=Contract.class)
private Set<Contract> consulterContracts = new HashSet<Contract>(); 
```

如果您需要浏览此模型，这不是很“方便”！

问题是我宁愿在用户端只有一个列表 - 合同 - 但仍然必须在合同端（顾问和客户）拥有用户属性。

有没有办法用hibernate和JPA做到这一点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:00:28.133

没有办法用 ERD/SQL 做到这一点，因为 JPA 只是从面向对象编程到 ERD 的映射，所以不，没有办法。

您需要更改 ERD，以便有一个中间实体，其键是 UserId、ContractId 和 Role。

# java - 如何在 Android 上删除 /data/data/providers/downloads/cache 中的文件

> ID：12472610
> 
> 赞同：0
> 
> 时间：2012-09-18T07:52:05.440
> 
> 标签：java, android

我想创建和删除位于 /data/data/providers/downloads/cache 中的一些文件。到目前为止，我可以成功下载目标文件并保存在 /data/data/providers/downloads/cache 中，但是当我尝试删除位于 /data/data/providers/downloads/cache 中的文件时，它最终失败了。我的方法如下

```
File directory = new File("/data/data/providers/downloads/cache");
File[] files = directory.listFiles(); 
```

我想列出所有文件，以便我可以找到需要删除的目标文件。我发现 listFiles() 方法总是返回 NULL，所以我的问题是，我可以使用 listFile() 到目录 /data/data/providers/downloads/cache 吗？

欢迎任何理想。

布拉艾伦

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T07:57:24.330

我使用这种方法：当我想删除包括目录在内的所有文件时。

```
static public boolean deleteDirectory(File path) {
    if( path.exists() ) {
        File[] files = path.listFiles();
        if (files == null) {
            return true;
        }
        for(int i = 0; i < files.length; i++) {
            if(files[i].isDirectory()) {
                deleteDirectory(files[i]);
            }
            else {
                files[i].delete();
            }
            Log.d("Deleting Files", files[i].getPath());
        }
    }

    return( path.delete() );
} 
```

但是android有它自己可以使用的清除缓存方法，但它需要你实际将东西保存到缓存中。问题可能是您从未向其中添加任何内容，并且您只有清除自己缓存的权限？

[我如何利用 Android 的“清除缓存”按钮](https://stackoverflow.com/questions/2848879/how-do-i-take-advantage-of-androids-clear-cache-button)无论如何讨论问题:)

祝你好运

编辑：另外，你确定你的文件路径是正确的吗？您可以使用

```
 Environment.getDownloadCacheDirectory() 
```

为了找到缓存的根目录我想？

# java - 使用页面在jsp中显示长列表的值

> ID：12472612
> 
> 赞同：3
> 
> 时间：2012-09-18T07:52:13.397
> 
> 标签：java, jsp, struts2, struts, paging

嗨，我需要使用 jsp 显示一长串值，我想知道如何进行分页，因此显示了许多值并使用分页来查看其他页面，例如：

```
1   2   3   4   5   6   7   8   9   10  Next 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T08:06:55.807

显示[标签库](http://displaytag.sourceforge.net/11/)有[`<table>`](http://displaytag.sourceforge.net/11/displaytag/tagreference.html#table)标签，可用于显示分页数据。[安装](http://displaytag.sourceforge.net/11/install.html)它并使用`<table>`属性`pagesize`来定义每个页面中的元素数量。

例如，if`myAction.do`是获取数据并显示 JSP 所在的`<table>`操作，并且`data`是`List`数据的，并假设 中的元素`List`有一个名为 的字段`someColumn`：

```
<%@ taglib uri="http://displaytag.sf.net" prefix="display" %>
...
<display:table pagesize="5" id="table" name="data" requestURI="myAction.do">
    <display:column property="someColumn" title="Column 1"/>
</display:table> 
```

这是一个显示分页的简单教程：[Struts2 Pagination Using Display Tags](http://www.devmanuals.com/tutorials/java/struts/struts2/Struts2Pagination.html)

# ios - 在iOS中遍历plist的字典数组

> ID：12472617
> 
> 赞同：0
> 
> 时间：2012-09-18T07:52:36.733
> 
> 标签：ios, plist, nsdictionary

我是 iOS 编程新手，我正在研究遍历 plist。但我无法访问标签中的单个记录。也就是说，如果我只想访问“Amul”的详细信息，那么在 if 条件中写什么

下面是我的 plist 文件

```
<?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN"     
"http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<array>
<dict>
    <key>Email Address</key>
    <string>ams@asd.com</string>
    <key>Name</key>
    <string>Amul</string>
    <key>Phone Number</key>
    <string>984756393</string>
</dict>
<dict>
    <key>Email Address</key>
    <string>cat@se.com</string>
    <key>Name</key>
    <string>Anoop</string>
    <key>Phone Number</key>
    <string>87453726</string>
</dict>
<dict>
    <key>Email Address</key>
    <string>per@se.com</string>
    <key>Name</key>
    <string>Bhagesss</string>
    <key>Phone Number</key>
    <string>7684947</string>
</dict>
</array>
</plist> 
```

也正在读取数组中的所有数据，如下所示

```
NSArray *array=[[NSArray alloc]initWithContentsOfFile:filePath];

    if (i<[array count]) {
        NSLog(@"%@", [array objectAtIndex:i]);
        NSString *strName=[[NSString alloc]initWithFormat:@"%@",[array 
  valueForKey:@"Name"]];
        NSString *strPhone=[[NSString alloc]initWithFormat:@"%@",[array 
  valueForKey:@"Phone Number"]];
        NSString *strEmail=[[NSString alloc]initWithFormat:@"%@",[array 
  valueForKey:@"Email Address"]];

        lblName.text=strName;
        lblPhone.text=strPhone;
        lblEmail.text=strEmail;

        i++;
} 
```

现在我应该提出什么条件，以便只显示我在文本字段中提供的名称的记录。请帮忙...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:12:54.473

在 NSString 上使用 isEqualToString 方法。顺便说一句，你在 NSArray 中没有 valueForKey 方法！如前所述，使用字典。这是完整的代码。

```
NSArray *array=[[NSArray alloc]initWithContentsOfFile:filePath];

int i = 0;
while (i<[array count]) {

    NSDictionary *dict = [array objectAtIndex:i];

    if([[dict objectForKey:@"Name"] isEqualToString:@"Amul"])
    {
        lblName.text=strName;
        lblPhone.text=strPhone;
        lblEmail.text=strEmail;
        break;
    }
    i++;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:10:29.350

编辑：

在我看来，plist 中的数据与您访问结果数据结构的方式不匹配。

尝试这样做：

```
if (i < [array count]) {
   NSDictionary* dict = [array objectAtIndex:i];
   if([[dict valueForKey:@"Name"] isEqualToString:@"Amul"]) {
      ... 
```

# perl - .cpan/Metadata：如何编辑以重新安装模型

> ID：12472626
> 
> 赞同：-1
> 
> 时间：2012-09-18T07:53:14.037
> 
> 标签：perl, cpan

我使用 cpan 安装`Carton`. 当我首先运行此命令时，输出为`URL can't found`. 当我第二次运行此命令时，输出如下：

```
Going to read '/home/hengaini/.cpan/Metadata'
Warning: Cannot install Carton, don't know what it is.
Try the command
    i /Carton/
to find objects with matching identifiers. 
```

我认为该文件`/home/hengaini/.cpan/Metadata`可以手动编辑或通过某些工具返回第一个enrionment。有什么问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T15:37:35.493

如果您向我们展示该`cpan`命令的完整输出，我们可能会提供更好的帮助。

在这种情况下，我会直接删除*.cpan*中的所有内容，然后重试。`cpan`将获取它需要的一切。

# jquery - 如何从 $(this) 中获取值

> ID：12472628
> 
> 赞同：0
> 
> 时间：2012-09-18T07:53:42.053
> 
> 标签：jquery, asp.net-mvc

在我的 MVC 项目中，我有这个编辑器模板。我无法在 IE 开发人员工具中调试它，因为它在弹出窗口中。我无法访问其他浏览器。所以我的 jquery 没有获取 url、employeeId 和 businessUnitId 的值。

```
<%@ Control Language="C#" Inherits="System.Web.Mvc.ViewUserControl<SHP.Models.BusinessUnitSelected>" %>

<tr>
    <td><%: Model.BusinessUnit.BusinessUnitName %></td>
    <td>

    <%: Html.CheckBoxFor( 
            x => x.Selected,
            new RouteValueDictionary 
            { 
                { "data-url", Url.Action("AddBusinessUnitForEmployee", "DataService") }, 
                { "data-employeeId", Model.EmployeeId }, 
                { "data-businessUnitId", Model.BusinessUnit.BusinessUnitId } 
            } 

       ) %> 

    </td>
</tr>
<script type="text/javascript">
    $(document).ready(function () {
        $('tr input[type="checkbox"]').click(function () {
            var elementId = $(this).attr('id');
            alert("elementId = " + elementId);
            var url = $(this).val('data-url');
            alert("url = " + url);
            var employeeId = $(this).val('data-employeeId');
            alert("employeeId = " + employeeId);
            var businessUnitId = $(this).val('data-businessUnitId');
            alert("businessunitId = " + businessUnitId);
            var selectedFlag = $(this).is(':checked');
            alert("selectedFlag = " + selectedFlag);

            dataService.saveSelection(
            employeeId,
            businessUnitId,
            selectedFlag,
            elementId,
            SavedSetting,
            url
        );
        });
    }); 
</script> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T07:58:30.920

应该是`$(this).data('url')`，`$(this).data('employeeId')`等等。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T07:58:17.673

`.val()`用于获取/设置`value`属性，~~您应该使用 . `attr()`反而：~~

~~例如。`$(this).attr('data-url');`~~

**编辑**

@Dima 建议访问 HTML5`data-*`属性的正确方法 - 通过使用`.data()`，例如。`$(this).data('url');`

**注意：**您应该在`data-`属性中使用连字符，否则在使用`.data()`. 见下文：-

```
<input type="text" data-employeeId="1" />

console.log($('input[type="text"]').data('employeeId')); // (undefined!) 
```

这是因为`$('input[type="text"]').data('employeeId')`正在尝试读取`data-employee-id`，使用后者您可以使用`.data('employeeId')`or访问数据`.data('employee-id')`。

> 使用 W3C 规则，所有 data-* 名称都存储在 jQuery 数据对象中的 camelCase 中。
> 
> 因此，data-caMEL-case 成为数据对象中的 camelCase 属性，应该使用 .data("camelCase") 进行访问。因为很多人会使用 .data("camel-case") 代替，所以我们也将其转换为 camelCase，但前提是没有找到名为 camel-case 的数据项，因此使用第一种形式更快。如果使用 data = jQuery.data(elem) 之类的代码获取整个数据对象，则必须使用 data.camelCase 来访问数据项。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T07:58:32.667

尝试使用

```
$(this).attr('data-employeeId'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T07:58:43.660

在函数 .click 的开头缓存 $(this) 以便您的 JavaScript 运行得更快。试试 $this = $(this) 然后用 $this 代替 $(this)。

```
$('tr input[type="checkbox"]').click(function () {
  var $this = $(this),
      url = $(this).val('data-url'); // Wrong
      url = $this.attr('data-url'); // Or
      url = $this.data('url');
  ...

}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-18T08:01:07.300

**使用 $(this).attr(key) 而不是 $(this).val(key)。**

```
$(this).attr("data-url"); 
```

代替

```
$(this).val('data-url'); 
```

# c++ - 为什么编译器中不存在重新链接按钮？

> ID：12472633
> 
> 赞同：4
> 
> 时间：2012-09-18T07:54:09.463
> 
> 标签：c++, compilation, shared-libraries, static-libraries

我使用 Eclipse 在 Linux 中使用 c++ 工作。但我也使用过 Visual Studio。他们没有（或者至少我不知道该怎么做）重新链接项目的按钮。

例子：

我有一个大项目（1），有数百个 cpp。该项目使用一个小型库 (2) 来做 foo. 如果我改变 foo 行为，并编译它，生成一个库，我需要清理大项目（1），重新编译，链接外部库（2）并工作。

问题是大项目没有改变，但是有数百个cpp，它的编译时间大约是5分钟。5 分钟是第二个库中的一个小变化。

有可能避免这个问题吗？

提前致谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T08:17:49.673

我怀疑，但这只是一个猜测，您的项目缺少foo 库和项目中其他可交付成果之间的*依赖关系。*

这样，当您修改 foo 时，编译器不知道它需要重新编译（根据 foo 中的更改所需的多少）项目的其余部分，这迫使您手动清理和重建。

通常，依赖项是以高度特定于编译器的方式指定的，也许[SO 的其他帖子](https://stackoverflow.com/questions/7728878/project-dependency-in-eclipse-cdt)可以帮助您，或者只是谷歌“eclipse c++ 依赖项管理”。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T08:17:46.613

您通常会为此使用`make`a `makefile`。

使用此方法，您可以生成自己的代码构建规则，包括在您只需要重新链接时绕过大量源文件的编译。

例如，`makefile`：

```
prog: main.o other.o makefile
    gcc -o prog main.o other.o

main.o: main.c makefile
    gcc -c -o main.o main.c

other.o: other.c makefile
    gcc -c -o other.o other.c 
```

如果`main.c`您更改的唯一文件是`other.c`. 它会简单地编译`other.c`为 make `other.o`，然后链接`other.o`并`main.o`一起创建`prog`。

这通常是它在“命令行”世界中的完成方式。很可能这也是许多 IDE 在幕后完成的方式，只是对您隐藏。

您需要找出为什么依赖项检查没有按预期工作。如果没有有关如何设置项目的更多信息，很难确定。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-21T10:55:36.523

在 Linker-Settings->Miscellaneous->Other objects 下添加您的静态库。如果库更新，您的可执行文件将被重新链接。没有编译。

# javascript - 在跟踪锚点的同时旋转符号

> ID：12472637
> 
> 赞同：0
> 
> 时间：2012-09-18T07:54:19.093
> 
> 标签：javascript, google-maps, google-maps-api-3, svg, rotation

我刚刚开始测试Google Maps API v3.9 中添加的新[符号功能。](https://developers.google.com/maps/documentation/javascript/overlays#Symbols)我想在地图上有多个类似三角形的符号，并且我希望能够以编程方式旋转它们。我之前拥有的是一组 png 图像，其中每一个都是最后一个的副本，只是旋转了 10 度（MyIcon_0、MyIcon_10、...、MyIcon350）。然后我会画出最接近我想要的旋转角度的图像。

相反，使用新的符号功能似乎是一种更简单的方法，它可以以编程方式完全控制旋转和颜色。

使用 SVG 路径表示法，我定义了一个简单的三角形，并将其粘贴在标记上，如下所示：

```
var markerOptions = {
   icon: {
        path: "M 0 5 L 20 5 L 10 40 z",
        rotation: rotationAngle,
        anchor: [something]
    },
    position: position
};

var marker = new Marker(markerOptions); 
```

只要“rotationAngle”设置为 0，它就可以正常工作，因为我知道锚点必须是什么才能将符号放在地图中的正确位置。我希望锚始终位于三角形的“锐角”处。

当我有另一个旋转角度时会出现问题。该符号绘制在矩形画布上，画布的尺寸似乎是自动计算的，以最适合内部的形状。当您旋转像这个三角形这样的符号时，您将拥有一个基于旋转具有不同尺寸的画布，这使得在地图上正确定位符号变得困难，因为锚点似乎是相对于画布尺寸设置的。

如果我只能控制实际画布的大小，我将能够绘制符号，使锚始终位于画布的中心，然后就可以设置一个恒定的锚。这有可能吗？我在考虑是否可以在形状周围绘制一个不可见的圆圈，以确保画布大小保持不变，但我对 SVG 路径表示法不太熟悉，我不知道这是否可以实现。

将感谢有关此问题的任何建设性反馈。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-01-31T23:05:27.637

将您的锚点设置为 (10, 20)。

```
var icon = {
        path: "M 0 5 L 20 5 L 10 40 z",
        scale: 1,
        strokeWeight: 2,
        fillColor: '#009933',
        fillOpacity: 0.001,
        anchor: new google.maps.Point(10, 20)
    }; 
```

[工作小提琴](http://jsfiddle.net/j7rc3qvm/4/)

工作代码片段：

```
var map;
var angle = 0;
var marker;
var icon = {
  path: "M 0 5 L 20 5 L 10 40 z",
  scale: 1,
  strokeWeight: 2,
  fillColor: '#009933',
  fillOpacity: 0.001,
  anchor: new google.maps.Point(10, 20)
};

function init() {
  var startLatLng = new google.maps.LatLng(50.124462, -5.539994);

  map = new google.maps.Map(document.getElementById('map-canvas'), {
    center: startLatLng,
    zoom: 12
  });

  var ptMarker = new google.maps.Marker({
    position: new google.maps.LatLng(50.124462, -5.539994),
    map: map,
    icon: {
      url: "https://maps.gstatic.com/intl/en_us/mapfiles/markers2/measle.png",
      size: new google.maps.Size(7, 7),
      anchor: new google.maps.Point(4, 4)
    }
  });
  marker = new google.maps.Marker({
    position: new google.maps.LatLng(50.124462, -5.539994),
    icon: icon
  });
  marker.setMap(map);
  var circleMarker = new google.maps.Marker({
    position: new google.maps.LatLng(50.124462, -5.539994),
    map: map,
    icon: {
      path: google.maps.SymbolPath.CIRCLE,
      scale: 24,
      strokeWeight: 2,
      fillColor: '#009933',
      fillOpacity: 0.001,
      anchor: new google.maps.Point(0, 0)
    }
  });

  setInterval(function() {
    angle += 30;
    icon.rotation = angle;
    marker.setIcon(icon);
  }, 1000);

}

google.maps.event.addDomListener(window, 'load', init);
```

```
html,
body,
#map-canvas {
  height: 100%;
  width: 100%;
  margin: 0px;
  padding: 0px
}
```

```
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCkUOdZ5y7hMm0yrcCQoCvLwzdM6M8s5qk"></script>
<div id="map-canvas" style="border: 2px solid #3872ac;"></div>
```

# javascript - JavaScript 旋转

> ID：12472639
> 
> 赞同：1
> 
> 时间：2012-09-18T07:54:25.500
> 
> 标签：javascript

在将图像加载到画布之前，我需要旋转它。据我所知，我无法使用 canvas.rotate() 旋转它，因为它会旋转整个场景。

有没有很好的 JS 方法来旋转图像？[不是浏览器依赖的方式]

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:10:57.893

不完全是，您可以保存场景，旋转图像然后恢复场景：

```
var canvas = document.getElementById('canvas');
canvas.width = 600; 
canvas.height = 400; 
var ctx = canvas.getContext('2d'); 
var image = new Image();
image.src = 'https://www.google.ro/images/srpr/logo3w.png';
drawRotatedImage(image, 275, 95, 25); 

function drawRotatedImage(image, x, y, angle) { 
    ctx.save(); 
    ctx.translate(x, y);
    ctx.rotate(angle * (Math.PI/180));
    ctx.drawImage(image, -(image.width/2), -(image.height/2));
    ctx.restore(); 
} 
```

[JSFiddle 示例](http://jsfiddle.net/fEFKK/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-19T21:52:33.047

好吧，你可以使用 css 属性转换来旋转、缩放和翻译 html 元素，而不是使用画布，如果你想将图像旋转 x 度以连续旋转图像，你应该使用 transform="rotate(xdeg)" 使用以下代码。看到这个你的代码

```
<html>
<img id="t1" src="1.png">
</html>
and this is your javascript code
<script>
    var im;
    var w,h;
    var t=0;
    window.onload=function()
    {
     im=document.getElementById('t1');
     w=im.width;
     h=im.height;
         im.style.transform=im.style.webkitTransform|im.style.mozTransform|im.style.oTransform|i     m.style.transform;
     update();
    };
    function update()
    {

     im.style.transform="rotate("+t+"deg)";
     t+=10;
     setTimeout("update()",100);
    }
</script> 
```

# c++ - 如何将 int 复制到 char 的 boost/std::array 中？

> ID：12472640
> 
> 赞同：0
> 
> 时间：2012-09-18T07:54:26.483
> 
> 标签：c++, boost, c++11, boost-asio

为什么将 int 复制到 boost/std::array 最简单有效的方法是什么？

以下似乎可行，但我不确定这是否是最合适的方法：

```
 int r = rand();
  boost::array<char, sizeof(int)> send_buf;
  std::copy(reinterpret_cast<char*>(&r), reinterpret_cast<char*>(&r + sizeof(int)), &send_buf[0]); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T09:39:41.117

只是为了比较，这里与 memcpy 相同：

```
#include <cstring>

int r = rand();
boost::array<char, sizeof(int)> send_buf;
std::memcpy(&send_buf[0], &r, sizeof(int)); 
```

您的电话是否会爆炸（以及出错的机会）是否比使用 C 中也存在的函数的 C++“罪过”更好或更坏；-)

就我个人而言，我认为`memcpy`这种操作是一个很好的“警报”，原因与 C++ 风格的强制转换是一个很好的“警报”相同（阅读时容易发现，易于搜索）。但是您可能更喜欢对所有事物都使用相同的警报，在这种情况下，您可以将参数转换为`memcpy`to `void*`。

顺便说一句，我可能会同时使用这`sizeof r`两种尺寸而不是`sizeof(int)`碰巧是）”。由于它是一个发送缓冲区，我猜缓冲区是有线协议要求的大小，并且`r`应该与缓冲区匹配，而不是相反。所以`sizeof(int)`可能是合适的，但`4`或者`PROTOCOL_INTEGER_SIZE`可能仍然更合适。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T07:57:58.720

这个想法是正确的，但你有一个错误：

```
reinterpret_cast<char*>(&r + sizeof(int)) 
```

应该：

```
reinterpret_cast<char*>(&r) + sizeof(int) 
```

或者

```
reinterpret_cast<char*>(&r+1) 
```

这些或`memcpy`等效的都可以。其他任何事情都有对齐问题的风险。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T09:10:17.557

它是用于这些目的的通用货币，`reinterpret_cast`但标准清楚地表明`static_cast`via`void*`是完全可以接受的。事实上，在像`int`then这样的类型的情况下，它`reinterpret_cast<char*>(&r)`被*定义*为具有 的语义`static_cast<char*>(static_cast<void*>(&r))`。为什么不明确并直接使用它？

如果你养成了这个习惯，那么将来使用`reinterpret_cast`最终将具有实现定义的语义的`static_cast`链而不是始终具有明确定义的语义的链的机会就会减少。

请注意，您可以将指向单个对象的指针视为指向一个数组的指针（参见 5.7/4）。这样便于获取第二指针。

```
int r = rand();
boost::array<char, sizeof(int)> send_buf;
auto cast = [](int* p) { return static_cast<char*>(static_cast<void*>(p)); };
std::copy(cast(&r), cast(&r + 1), &send_buf[0]); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T07:59:55.537

迈克尔安德森指出的小错误

但你可以这样做：

```
#include <iostream>

union U
{
    int  intVal;
    char charVal[sizeof(int)];
};

int main()
{
    U   val;
    val.intVal  = 6;

    std::cout <<  (int)val.charVal[0] << ":" << (int)val.charVal[1] << ":" << (int)val.charVal[2] << ":" << (int)val.charVal[3] << "\n";
} 
```

# wordpress - wordpress 自定义菜单中的样式 ul 部分

> ID：12472641
> 
> 赞同：0
> 
> 时间：2012-09-18T07:54:27.343
> 
> 标签：wordpress, wordpress-theming

如何在**wordpress中为导航菜单（自定义菜单）的****ul**部分设置样式？我试过了

 **```
<div id="serviceMenu">
  <?php wp_nav_menu(array('menu'=>'navigation with more options',
  'container' => '',
  'menu_id'  => '',
  'menu_class' => 'menu')); ?>
  </div> 
```

但我不知道如何分配`class="menu"`给**ul**部分？

请帮忙！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:17:08.937

阅读 wp_nav_menu 的手册后，我建议使用以下代码向 ul 添加菜单类：

```
<div id="serviceMenu">
<?php 
  wp_nav_menu(array(
  'menu'=>'navigation with more options',
  'container' => '',
  'menu_id'  => '',
  'items_wrap' => '<ul id="%1$s" class="%2$s">%3$s</ul>',
  'menu_class' => 'menu')); 
?>
</div> 
```

[http://codex.wordpress.org/Function_Reference/wp_nav_menu](http://codex.wordpress.org/Function_Reference/wp_nav_menu)**

# jenkins - 如何在 Jenkins 中安排工作？

> ID：12472645
> 
> 赞同：351
> 
> 时间：2012-09-18T07:54:41.300
> 
> 标签：jenkins, cron

我在 Jenkins 中添加了一个新工作，我想定期安排它。

从*Configure job*，我正在检查“Build Periodically”复选框，并在*Schedule*文本字段中添加了表达式：

> 15 13 * * *

但它不会在预定时间运行。

安排工作的程序是否正确？

![在此处输入图像描述](../Images/d0dba85bda443a046f20fe34db5247c3.png)

作业应该在凌晨 4:20 运行，但它没有运行。

* * *

## 回答 #1

> 赞同：618
> 
> 时间：2012-09-18T08:02:00.390

通过将调度周期设置为`15 13 * * *`您告诉 Jenkins 在每天第 13 小时的第 15 分钟安排构建。

Jenkins 使用了一个[cron 表达式](https://en.wikipedia.org/wiki/Cron#CRON_expression)，不同的字段是：

1.  MINUTES 一小时内的分钟数 (0-59)
2.  HOURS 一天中的小时数 (0-23)
3.  DAYMONTH 一个月中的某一天 (1-31)
4.  MONTH 一年中的月份 (1-12)
5.  DAYWEEK 星期几 (0-7)，其中 0 和 7 是星期日

如果您想每 5 分钟安排一次构建，这将完成这项工作：`*/5 * * * *`

如果您想在每天 8 点安排您的构建，这将完成这项工作：`0 8 * * *`

对于过去的几个版本（2014），Jenkins 有一个新参数，`H`（摘自[Jenkins 代码文档](https://github.com/jenkinsci/jenkins/blob/master/core/src/main/resources/hudson/triggers/TimerTrigger/help-spec.jelly)）：

> 为了允许定期调度的任务在系统上产生均匀的负载，`H`应尽可能使用符号（用于“哈希”）。
> 
> 例如，使用`0 0 * * *`十几个日常工作会在午夜导致一个大的峰值。相比之下，using`H H * * *`仍然会每天执行一次每个作业，但不是同时执行一次，更好地使用有限的资源。

另请注意：

> 该`H`符号可以被认为是一个范围内的随机值，但它实际上是作业名称的散列，而不是随机函数，因此该值对于任何给定项目都保持稳定。

[更多使用“H”的例子](https://stackoverflow.com/a/21939671)

* * *

## 回答 #2

> 赞同：49
> 
> 时间：2018-05-11T12:16:41.663

格式如下：

**分钟 (0-59)、小时 (0-23)、日 (1-31)、月 (1-12)、星期 (0-6)**

可以插入代表单词*Hash*的字母 H来代替任何值。它将根据您的项目名称的哈希码计算参数。

这样一来，如果您同时在构建机器上构建多个项目，比如每天午夜，它们不会同时开始构建执行。每个项目根据其哈希码在不同的分钟开始执行。

您还可以将值指定为介于数字之间，即 H(0,30) 将返回项目的哈希码，其中可能的哈希值为 0-30。

**例子：**

1.  每天早上 08:30 开始构建，周一 - 周五：**30 08 * * 1-5**

2.  工作日每天构建两次，午餐时间 12:00 和午夜 00:00，周日至周四：**00 0,12 * * 0-4**

3.  每天下午 4:00 - 4:59 或 16:00 -16:59 之间开始构建，具体取决于项目哈希：**H 16 * * 1-5**

4.  午夜开始构建：@midnight 或每周六午夜开始构建：**59 23 * * 6**

5.  每个月的第一天凌晨 2:00 - 02:30：**H(0,30) 02 01 * ***

* * *

## 回答 #3

> 赞同：46
> 
> 时间：2015-08-31T20:57:50.777

Jenkins 允许您设置多次，以换行符分隔。

如果您需要在每天早上 7 点以及每周日下午 4 点构建它，那么下面的效果很好。

```
H 7 * * *

H 16 * * 0 
```

* * *

## 回答 #4

> 赞同：34
> 
> 时间：2014-03-17T16:25:37.820

`*/5 * * * *`表示每 5 分钟

`5 * * * *`表示每小时的第 5 分钟

* * *

## 回答 #5

> 赞同：28
> 
> 时间：2019-06-25T14:45:25.480

**在 Jenkins 中安排作业的步骤：**

1.  点击工作要求的**“配置”**
2.  向下滚动到“**构建触发器**” - 副标题
3.  **定期点击 Build**的复选框
***   在 Schedule 字段中添加时间表，例如：`@midnight`**

 **[![在此处输入图像描述](../Images/27369414bd9bb6154f006447a8aaeba1.png)](https://i.stack.imgur.com/XLxOp.png)

*注意*：在计划字段下，可以看到最后和下一个日期时间运行。

> **Jenkins 还支持预定义的别名来安排构建：**

`@hourly`, `@daily`, `@weekly`, `@monthly`,`@midnight`

`@hourly` --> 每小时开始时构建 -->`0 * * * *`

`@daily, @midnight`--> 每天午夜构建 -->`0 0 * * *`

`@weekly`--> 每周日凌晨的午夜构建 -->`0 0 * * 0`

`@monthly`--> 每个月的第一天午夜构建 -->`0 0 1 * *`

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2012-09-18T08:06:35.667

要每 5 分钟安排一次 cron 作业，您需要像这样定义 cron 设置：

```
*/5 * * * * 
```

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2019-11-18T05:37:16.603

试试这个。

> 20 4 * * *

检查下面的屏幕截图

[![在此处输入图像描述](../Images/2fa39b910db61d1833f51fb18bed9446.png)](https://i.stack.imgur.com/qqvbw.png)

参考网址 - [https://www.lenar.io/jenkins-schedule-build-periodically/](https://www.lenar.io/jenkins-schedule-build-periodically/)

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2013-08-23T22:20:38.273

尝试使用 0 8 * * *。它应该工作

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2019-02-28T03:46:38.530

Jenkins 在调度上使用 Cron 格式。您可以参考此链接了解更多详情 https://en.wikipedia.org/wiki/Cron。还有一件事，Jenkins 为我们提供了一个非常有用的预览。请看一下屏幕截图。 [![在此处输入图像描述](../Images/444b0cadc20afc0e11afa3a744b1fcf8.png)](https://i.stack.imgur.com/tNnNM.png)

我希望这会有所帮助。谢谢

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2022-01-31T14:10:55.303

Jenkins Job Scheduling Syntax 首先，让我们看一下 Jenkins 作业调度配置。它看起来很像 Linux 的 cron 语法，但您不必熟悉命令行 Linux 就可以理解它。

一个调度条目由五个空格分隔的字段组成。您可以通过添加多个条目来安排多次作业。

屏幕截图 [![詹金斯时间表](../Images/503941264cbda9dd9dd085680c1beb0d.png)](https://i.stack.imgur.com/wDYEQ.png) 每个字段可以包含一个精确值或使用一组特殊表达式：

熟悉的星号 * 表示所有有效值。因此，每天运行的作业在第三个字段中有一个 *。

破折号分隔值的范围。例如，从上午 9:00 到下午 5:00 每小时运行的作业将在第二个字段中显示 9-17。

间隔用斜杠 / 指定。每 15 分钟运行一次的作业在第一个字段中具有 H/15。请注意，第一个字段中的 H 具有特殊含义。如果您希望作业每 15 分钟运行一次，您可以将其配置为 0/15，这将使其在每小时开始时运行。但是，如果您以这种方式配置太多作业，您可能会使 Jenkins 控制器过载。最终，H 告诉 Jenkins 根据作业名称的散列选择一分钟。

最后，您可以使用逗号指定多个值。因此，周一、周三和周五运行的作业将在第五个字段中有 1,3,5。

Jenkins 在其帮助部分中提供了一些用于调度的示例。

# 每十五分钟（可能在 :07, :22, :37, :52）：

H/15 * * * *

# 每小时前半段每十分钟一次（三次，可能在 :04, :14, :24）：

H(0-29)/10 * * * *

# 每两小时一次，从每周日上午 9 点 45 分开始，到下午 3 点 45 分结束，每小时 45 分钟一次：

45 9-16/2 * * 1-5

# 每个工作日上午 8 点到下午 4 点之间每两小时一次（可能在上午 9 点 38 分、上午 11 点 38 分、下午 1 点 38 分、下午 3 点 38 分）：

HH(8-15)/2 * * 1-5

# 除 12 月外，每月 1 日和 15 日每天一次：

HH 1,15 1-11 * Jenkins 还有一组别名，可以更轻松地使用公共间隔。

表格截图[![詹金斯别名](../Images/2873a934847960fc12a29f6685a2ef68.png)](https://i.stack.imgur.com/oUovJ.png)**

# testing - 使用 gradle 进行连续测试

> ID：12472652
> 
> 赞同：9
> 
> 时间：2012-09-18T07:55:09.877
> 
> 标签：testing, gradle, continuous

是否有插件或一些不错的方法可以让 gradle 在后台编译和测试我的应用程序？

我知道有一些用于 intellij 和 eclipse（infinitest 等）的插件，但我正在寻找一个通用的 gradle 解决方案，不管 IDE 是什么。

最好启动一个测试守护进程并让它使用咆哮或其他通知工具让我知道代码没有编译或测试失败。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T15:31:18.340

持续编译/测试/等。是为未来版本的 Gradle 计划的功能。它们将基于现有的 Gradle Daemon。

更新：

Gradle 在 2.5 版本中引入了持续构建功能。该功能仍在孵化中，但我们已经可以在日常开发中使用它。持续构建功能意味着 Gradle 不会在任务完成后关闭，而是继续运行并查找文件更改以自动重新运行任务。它非常适用于我们想要在编写代码时重新运行测试任务的场景。使用持续构建功能，我们使用测试任务启动 Gradle，如果源文件发生更改，Gradle 将自动重新编译源文件并运行测试。

要使用持续构建功能，我们必须使用命令行选项`--continuous`或更短的版本`-t`。使用此选项，Gradle 将以连续模式启动。要停止 Gradle，我们必须使用`Ctrl+D`组合键。

[http://mrhaki.blogspot.com.au/2015/08/gradle-goodness-using-continuous-build.html](http://mrhaki.blogspot.com.au/2015/08/gradle-goodness-using-continuous-build.html)

# c++ - MinGW + Boost：未定义对 `WSAStartup@8' 的引用

> ID：12472654
> 
> 赞同：8
> 
> 时间：2012-09-18T07:55:23.243
> 
> 标签：c++, windows, mingw, wsastartup

下面是我执行的

`D:\Just4Fun\software\>make -f Makefile.hands stest
g++.exe -g -D_WIN32_WINNT=0x0601 -ID:\Boost\boost_1_51_0 -LD:\Boost\boost_1_51_0\stage\lib -LD:\MinGW\lib -lboost_system-mgw46-d-1_51 -lboost_filesystem-mgw46-d-1_51 -lboost_iostreams-mgw46-d-1_51 -lws2_32 -lwsock32 -o TestSerial.exe TestSerial.cpp`

下面是那个结果

`C:\Users\oleg\AppData\Local\Temp\ccXpC7RG.o: In function 'ZN5boost4asio6detail17winsock_init_base7startupERNS2_4dataEhh': D:/Boost/boost_1_51_0/boost/asio/detail/impl/winsock_init.ipp:39: undefined reference to 'WSAStartup@8'C:\Users\oleg\AppData\Local\Temp\ccXpC7RG.o: In function 'ZN5boost4asio6detail17winsock_init_base7cleanupERNS2_4dataE': D:/Boost/boost_1_51_0/boost/asio/detail/impl/winsock_init.ipp:48: undefined reference to 'WSACleanup@0' collect2: ld returned 1 exit status make: *** [stest] Error 1`

以下是检查有关上述符号的库的结果（我未能以适当的方式对其进行格式化）

`d:\MinGW\lib>nm -C libws2_32.a | grep WSAStartup
00000000 T WSAStartup@8
00000000 I *imp* _WSAStartup@8

d:\MinGW\lib>nm -C libws2_32.a | grep WSACleanup
00000000 T WSACleanup@0
00000000 I *imp* _WSACleanup@0

d:\MinGW\lib>nm -C libwsock32.a | grep WSACleanup
00000000 T WSACleanup@0
00000000 I *imp* _WSACleanup@0

d:\MinGW\lib>nm -C libwsock32.a | grep WSAStartup
00000000 T WSAStartup@8
00000000 I *imp* _WSAStartup@8`

如我们所见，库中存在符号，并且库位于相应的 -L 命令行选项引用的位置。
那么，为什么“未定义的引用”？？？？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-09-18T08:04:05.313

这是一个非常常见的错误，有一个非常简单的解决方案：将链接的库*放在*源文件和目标文件之后。

* * *

如果对象（或源）文件 A 依赖于库 B，则在链接时 A 必须在命令行上位于 B 之前。这是因为 GNU（可能还有其他）链接器如何解决符号依赖关系。

如果以相反（和错误）的方式进行操作

```
g++ -lB A.cpp 
```

那么当链接器加载库 B 时，库中的任何函数都没有依赖关系，因此链接器只会丢弃该库。

所以正确的做法是把库放在最后

```
g++ A.cpp -lB 
```

这就是许多示例总是将库放在命令行*最后的原因。*

所以对于问题的命令行，它应该是

```
g++.exe -g -D_WIN32_WINNT=0x0601 -ID:\Boost\boost_1_51_0 \
    -LD:\Boost\boost_1_51_0\stage\lib -LD:\MinGW\lib \
    -o TestSerial.exe TestSerial.cpp \
    -lboost_system-mgw46-d-1_51 -lboost_filesystem-mgw46-d-1_51 -lboost_iostreams-mgw46-d-1_51 -lws2_32 -lwsock32 
```

此顺序对于库间依赖关系也很重要。如果库 L1 依赖于库 L2，则在命令行上 L1 必须在 L2 之前。

# hbase - HBase 中的随机访问性能和 HDFS 中的块大小

> ID：12472655
> 
> 赞同：12
> 
> 时间：2012-09-18T07:55:25.757
> 
> 标签：hbase, hdfs

HBase 可以使用 HDFS 作为后端分布式文件系统。但是，它们的默认块大小是完全不同的。HBase 采用 64KB 作为默认块大小，而 HDFS 采用至少 64MB 作为默认块大小，至少比 HBase 大 1000 倍。

我知道 HBase 是为随机访问而设计的，因此较小的块大小是有帮助的。但是在 HBase 中访问一个 64K 的块时，还需要在 HDFS 中访问一个 64MB 的块吗？如果是真的，HBase 能否很好地处理极其随机的访问？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-09-18T20:33:29.870

块用于 HDFS 和 HBase 中的不同事物。HDFS 中的块是磁盘上的存储单元。HBase 中的块是内存的存储单元。有许多 HBase 块适合单个 HBase 文件。HBase 旨在最大限度地提高 HDFS 文件系统的效率，并充分利用那里的块大小。有些人甚至将他们的 HDFS 调整为具有 20GB 块大小，以提高 HBase 的效率。

一个可以阅读更多内容以了解 HBase 幕后情况的地方是：[http ://hbase.apache.org/book.html#regionserver.arch](http://hbase.apache.org/book.html#regionserver.arch)

如果您对比内存大得多的表进行完全随机访问，那么 HBase 缓存将无济于事。但是，由于 HBase 在存储和检索数据方面是智能的，因此它不需要从 HDFS 读取整个文件块来获取请求所需的数据。数据以key为索引，检索效率高。此外，如果您已经很好地设计了密钥以在整个集群中分配数据，那么随机读取将从每台服务器平均读取，从而使整体吞吐量最大化。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-06-03T20:50:01.533

## HBase

HBase 将数据持久化到称为 HFiles 的大文件中，这些文件的大小很大（数百 MB 或 GB 左右的数量级）。

当 HBase 想要读取时，它首先在 memstore 中检查数据是否在最近更新或插入的内存中，如果该数据不在内存中，它会发现 HFiles 具有一系列可能包含您想要的数据的键（如果您运行压缩，则只有 1 个文件）。

一个 HFile 包含许多数据块（默认为 64kB 的 HBase 块），这些块很小以允许快速随机访问。并且在文件的末尾，有一个引用所有这些块的索引（带有块中的键范围和文件中块的偏移量）。

首次读取 HFile 时，会加载索引并将其保存在内存中以供将来访问，然后：

*   HBase 在索引中执行二进制搜索（在内存中快速）以定位可能包含您请求的键的块
*   一旦找到了块，HBase 可以要求文件系统在文件中的这个特定偏移处读取这个特定的 64k 块，从而导致单次磁盘寻道来加载您要检查的数据块。
*   加载的 64k HBase 块将搜索您询问的键，如果存在则返回键值

如果您有较小的 HBase 块，则在执行随机访问时会更有效地使用磁盘，但会增加索引大小和内存需求。

## 高密度文件系统

所有文件系统访问都由具有块（默认为 64MB）的 HDFS 执行。在 HDFS 中，这些块用于分发和数据局部性，这意味着 1GB 的文件将被拆分为 64MB 的块以进行分发和复制。这些块很大，因为要确保批处理时间不仅用于磁盘寻道，因为该块中的数据是连续的。

## 结论

HBase 块和 HDFS 块是不同的东西：

*   HBase 块是 HBase 中的索引（以及缓存和压缩）单元，允许快速随机访问
*   HDFS 块是文件系统分布和数据局部性的单位

与您的 HBase 参数和您的需求相比，HDFS 块大小的调整会对性能产生影响，但这是一个更微妙的问题。

# ios4 - 如何使用 OpenGL ES 2.0 显示多个单独的纹理（不是多重纹理）？

> ID：12472658
> 
> 赞同：0
> 
> 时间：2012-09-18T07:56:05.577
> 
> 标签：ios4, opengl-es-2.0, textures

我的 iOS 4 应用程序使用 OpenGL ES 2.0 并使用单一纹理渲染元素。我想使用多种不同的纹理来绘制元素，并且在让事情正常工作时遇到了问题。

我在顶点着色器中添加了一个变量来指示要应用的纹理：

```
...
attribute float TextureIn;
varying float TextureOut;

void main(void)
{ 
    ...
    TextureOut = TextureIn;
} 
```

我在片段着色器中使用该值来选择纹理：

```
...
varying lowp float TextureOut;

uniform sampler2D Texture0;
uniform sampler2D Texture1;

void main(void)
{   
    if (TextureOut == 1.0) 
    {
        gl_FragColor = texture2D(Texture1, TexCoordOut);
    }
    else // 0
    {
        gl_FragColor = texture2D(Texture0, TexCoordOut);
    }
} 
```

编译着色器：

```
...
_texture = glGetAttribLocation(programHandle, "TextureIn");
glEnableVertexAttribArray(_texture);
_textureUniform0 = glGetUniformLocation(programHandle, "Texture0");
_textureUniform1 = glGetUniformLocation(programHandle, "Texture1"); 
```

初始化/设置：

```
...
GLuint _texture;
GLuint _textureUniform0;
GLuint _textureUniform1;

...
glActiveTexture(GL_TEXTURE0);
glEnable(GL_TEXTURE_2D); // ?
glBindTexture(GL_TEXTURE_2D, _textureUniform0);
glUniform1i(_textureUniform0, 0);

glActiveTexture(GL_TEXTURE1);
glEnable(GL_TEXTURE_2D); // ?
glBindTexture(GL_TEXTURE_2D, _textureUniform1);
glUniform1i(_textureUniform1, 1);

glActiveTexture(GL_TEXTURE0); 
```

使成为：

```
...
glVertexAttribPointer(_texture, 1, GL_FLOAT, GL_FALSE, sizeof(Vertex), (GLvoid*) (sizeof(float) * 13));    

glActiveTexture(GL_TEXTURE0);
glBindTexture(GL_TEXTURE_2D, _textureUniform0);
glUniform1i(_textureUniform0, 0);

glActiveTexture(GL_TEXTURE1);
glBindTexture(GL_TEXTURE_2D, _textureUniform1);
glUniform1i(_textureUniform1, 1);

glActiveTexture(GL_TEXTURE0);

glDrawElements(GL_TRIANGLES, indicesCountA, GL_UNSIGNED_SHORT, (GLvoid*) (sizeof(GLushort) * 0));
glDrawElements(GL_TRIANGLES, indicesCountB, GL_UNSIGNED_SHORT, (GLvoid*) (sizeof(GLushort) * indicesCountA));
glDrawElements(GL_TRIANGLES, indicesCountC, GL_UNSIGNED_SHORT, (GLvoid*) (sizeof(GLushort) * (indicesCountA + indicesCountB))); 
```

我希望动态应用与顶点关联的纹理，但它似乎只能识别 GL_TEXTURE0。

我能够更改纹理的唯一方法是将每个纹理与 GL_TEXTURE0 相关联，然后绘制：

```
glActiveTexture(GL_TEXTURE0);
glBindTexture(GL_TEXTURE_2D, _textureUniformX);
glUniform1i(_textureUniformX, 0);
glDrawElements(GL_TRIANGLES, indicesCountA, GL_UNSIGNED_SHORT, (GLvoid*) (sizeof(GLushort) * 0));
... 
```

为了渲染所有纹理，我需要为每个纹理单独调用 glDrawElements()，并且我已经读到 glDrawElements() 调用对性能有很大影响，应该尽量减少调用次数。这就是为什么我试图动态地指定每个顶点使用哪个纹理。

完全有可能我的理解是错误的，或者我遗漏了一些重要的东西。我对 OpenGL 还是很陌生，我学的越多，我就越觉得我有更多的东西要学。

必须可以使用除 GL_TEXTURE0 以外的纹理，但我还没有弄清楚如何使用。

任何指导或方向将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:28:41.900

Can it be you're just experiencing floating point rounding issues? There shouldn't be any (except if a single privimitve shares vertices with different textures), but just to be sure replace this `TextureOut == 1.0` with a `TextureOut > 0.5` or something the like.

As a general advice, you are correct in that the number of draw calls should be reduced as much a possible, but your approach is quite odd. You are buying draw call reduction with fragment shader branching. Your approach also doesn't scale well with the overall number of textures, since you always need all textures in separate texture units.

The usual approach to reduce texture switches is to put all the textures into a single large texture, a so-called texture atlas, and use the texture coordinates to select the appropriate subregion in this texture. This also has some pitfalls (which are an entirely different question), but nothing comes for free.

**EDIT:** Oh wait, I see what you're actually doing wrong

```
glBindTexture(GL_TEXTURE_2D, _textureUniform0); 
```

You're binding a texture to the current texture unit, but instead of the texture object you give this function a uniform location, which is complete rubbish (but might even work in some weird circumstances, since both uniform locations and texture objects are themselves just integers). Of course you have to bind the actual texture.

# excel - 如何在空白单元格之前选择一行数据？

> ID：12472660
> 
> 赞同：0
> 
> 时间：2012-09-18T07:56:21.323
> 
> 标签：excel, vba

```
For i = 3 To 50
     If lngRow = Range("A" & i) Then
        Range("A1:EN3").Rows(i).Copy
        Range("A1:EN3").Columns(strCol).Offset(, 1).PasteSpecial Transpose:=True
        Range("A1:EN3").Rows(1).Copy
        Range("A1:EN3").Columns(strCol).PasteSpecial Transpose:=True

    Exit For
    End If
Next i 
```

您好，我已经编写了用于选择行并将其粘贴到列中的代码，它工作正常但我的问题是在这里我将范围指定为 Range("a1:en3") 但每次它可能比这更多的值所以是可以复制空白单元格之前的行数据，就像我们如何复制空白单元格之前的列一样，即 Range(rng, rng.End(xlDown)).Copy。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:21:28.827

```
Function firstblank()
   i=1
   While (worksheets("WORKSHEETNAMEHERE").cells(i,1).value<>"")
     i=i+1
   wend
   return i
End function 
```

不完全确定我理解你的问题，但粘贴转置的值应该很简单：

```
Range("T5").Select 
Selection.PasteSpecial Transpose:=True 
```

（我不会定义大于一个单元格的范围来写入值；如果您提供多个单元格，则 Excel 将要求您的目标具有您尝试写入的确切尺寸）

# c# - 如何生成文件

> ID：12472666
> 
> 赞同：3
> 
> 时间：2012-09-18T07:56:37.423
> 
> 标签：c#, vb.net

当用户单击按钮时，我想生成一个 .txt 文件。问题是我不知道该怎么做？我想要它，所以它使用这种格式：

```
00000012 <-- at the very start of the text file
2011 11 29 <-- Year 2011, Month 11, Day 29 (the year month and day based on my PC)
0010 or 0054 <-- this is a random number randomly one of these 2 numbers...
123456 <-- Time, Hour 12, Minutes 34, Seconds 56. 
```

所以当我打开文本文件时，它应该是这样的：00000012201111290054123456

我是 C# 新手。我能够通过以下方式在 Visual Basic 上完成此操作：

```
Public Class Form1

    'declare new random object

        Dim r As New Random

        Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
        'declare string + set initial value
        Dim fileString As String = "00000012"
        'add formatted date
        fileString &= Now.ToString("yyyyMMdd")
        'add random 0010 or 0054
        fileString &= New String() {"0010", "0054"}(r.Next(0, 2))
        'add random 6 digit number
        fileString &= r.Next(0, 1000000).ToString("000000")
        'write file
        IO.File.WriteAllText("C:\Program Files\Code\maincode\maincode.txt", fileString)
        End Sub

        End Class 
```

我决定将最后一个随机 6 代改为时间。如何在 C# 中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:21:19.470

[从使用C# 创建文本文件](http://msdn.microsoft.com/en-us/library/8bh11f1k.aspx)开始，然后浏览[此表](http://en.wikipedia.org/wiki/Comparison_of_C_Sharp_and_Visual_Basic_.NET#Keywords)或[此](http://www.codeproject.com/Articles/9978/Complete-Comparison-for-VB-NET-and-C)表并用 C# 重写代码以构建问题中描述的信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:31:31.320

解决问题的最简单方法是使用`String.Format`，它在 VB.NET 中[的工作方式与在 C# 中的工作方式几乎相同。](http://msdn.microsoft.com/en-us/library/system.string.format.aspx)

不过，在开始之前，有必要解决您的 VB.NET 代码的一些问题；修复这些也会使您的 C# 代码变得更好：

*   您的`Random`实例 ,`r`是在表单（模块）范围内声明的，但您只能在您的`Form1_Load`过程中使用它：最好始终尽可能限制您的变量范围，换句话说，让您的声明“尽可能接近”尽可能使用；

*   在关于`System.Random`: 的主题时，请记住，这实际上创建了一个非常可预测的（基于时间的）数字序列，因此它不应该用于任何与安全相关的事情（这`System.Security.Cryptography.RNGCryptoServiceProvider`就是用途）。无论如何，您对 Random 的使用并不是很强大，而且我不确定您的实际用例，但这始终是需要牢记的；

*   *您使用几乎从字面上描述您的代码做什么的注释，这是相当没有意义的：仅添加注释以增加对您的代码为什么*做它所做的事情的额外洞察，而不是*如何*做；

*   .NET 中的字符串是不可变的，这意味着每次使用`&`运算符时，都会创建一个新字符串，而旧的字符串会一直徘徊，直到垃圾收集开始。一段时间后这会变得非常昂贵：相反，[学习](http://msdn.microsoft.com/en-us/library/system.text.stringbuilder%28v=vs.71%29.aspx) `Text.StringBuilder`并使用随时需要；

*   您在`C:\Program Files`. 除了该目录在不同版本的 Windows 上可能有不同的名称（更不用说 Linux，如果您在[Mono](http://www.mono-project.com)上运行）之外，用户无权在任何非旧版本上写入（即 post -XP) 版本的 Windows。所以，如果你这样做，你的程序在分发时会崩溃：如果你尽早[学会使用正确的文件位置](http://blogs.msdn.com/b/cjacks/archive/2008/02/05/where-should-i-write-program-data-instead-of-program-files.aspx)，那将为你省去很多麻烦。

无论如何，关于你的问题：每当你想创建一个包含大量参数和/或格式的字符串时`String.Format`，它的[自定义格式字符串](http://msdn.microsoft.com/en-us/library/0c899ak8.aspx)都会派上用场。例如，您原来的 VB.NET 代码可以重写如下：

```
Sub Form1_Load(s As Object, e As EventArgs)
  Using sw As New IO.StreamWriter(IO.Path.Combine(
            Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData),
            "maincode.txt"))
    sw.WriteLine("00000012{0:yyyyMMdd}{1}{0:HHmmss}", Now,
                 If((New Random).Next(0, 2) = 0, "0010", "0054"))
  End Using
End Sub 
```

执行时，它应该创建`C:\Users\YourUserName\AppData\Roaming\maincode.txt`（或者如果您使用的是 XP 或某些本地化版本的 Windows：检查`Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData)`调试器中的值以找出答案）。

将其翻译成 C# 是微不足道的：如果您使用在线提供的众多[VB.NET 到 C# 翻译器之一](http://www.developerfusion.com/tools/convert/vb-to-csharp/)，它应该会为您提供如下内容：

```
public void Form1_Load(object s, EventArgs e)
{
  using (System.IO.StreamWriter sw = new System.IO.StreamWriter(System.IO.Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData), "maincode.txt"))) {
    sw.WriteLine("00000012{0:yyyyMMdd}{1}{0:HHmmss}", DateAndTime.Now, (new Random()).Next(0, 2) == 0 ? "0010" : "0054");
  }
} 
```

基本上，它为您添加了一些分号和花括号，包括完全限定的命名空间并重写了三元条件：.NET Framework 位是相同的。

希望这会有所帮助，并祝您编程工作顺利！

# javascript - 如何将 HTML 表格数据传递给 cgi 和 c++

> ID：12472667
> 
> 赞同：0
> 
> 时间：2012-09-18T07:56:43.400
> 
> 标签：javascript, c++, cgi, command-line-arguments, html-table

这是我的 html 代码。我想使用 c++ 将表数据传递给我的 CGI 脚本。

```
 <table>
    <thead>
        <th>Ex. Date</th>
        <th>Security<br /> Symbol</th>
        <th>Factor</th>
    </thead>
    <tbody>
        <tr>
            <td>29/01/1993</td>
            <td>uaasset</td>
            <td>333</td>
        </tr>
        <tr>
            <td>11/06/1995</td>
            <td>ibm</td>
            <td>7</td>
        </tr>
    </tbody>
    </table>
</div><br />

<input type="submit" value="Save" />
        </form> 
```

我在这里发布了我的 CGI 代码。

```
char *data;
char* lpszContentLength;
int nContentLength;

lpszContentLength = getenv("CONTENT_LENGTH");   
if(lpszContentLength == NULL)   
   return -1;       
nContentLength = atoi(lpszContentLength);
if(nContentLength == 0) 
data = (char*) malloc(nContentLength+1);    
if(data == NULL)    
  return -1;
memset(data, 0, nContentLength+1);  
if(fread(data, 1, nContentLength, stdin) == 0)  // get the data
    return -1;

if(ferror(stdin))   // die if there was an fread error
  return -1;

   cout << data<<"<br>"; 
```

现在我没有收到任何数据到我的 cgi 。为什么我不能将表数据传递给 cgi。我正在考虑从 javascript 传递表格数据。但我不知道如何使用 javascript 调用 cgi 脚本以及如何将数据从 javascript 传递给 cgi。我需要将表数据存储到我的 TextFile。有什么想法可以在 cgi & c++ 中实现吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:31:17.000

使用 html 您不能发布表格标签，因为它只是在 HTML 网页中执行的输出，您应该在表单提交中发布数据。

```
<form onsubmit="document.getElementById('hdnFormField').value = document.getElementById('tblData').innerHTML;" >
    <table id="tblData">
        ...yourTable..
    </table>
    <input type="hidden" name="hdnFormField" id="hdnFormField" />
    <input type="submit" value="Save" />
</form> 
```

在背面，您应该阅读`Request.Form["hdnFormField"]`。抱歉，我不知道如何在 cgi 中读取。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:59:49.347

HTTP 支持 2 种不同的方式将数据传递到页面：GET 和 POST。

GET: 当浏览器打开 url: [http://example.com?param1=value1¶m2=value2](http://example.com?param1=value1&param2=value2) 到你的 cgi 脚本中会放这样的数据: param1 => value, param2 => value2。要从 C 中获取此数据，您可以从环境中获取它们：

```
char* val1 = getenv("param1");
char* val2 = getenv("param2"); 
```

POST：发布 -> 浏览器在 http 请求正文中发送所有数据。发送到 cgi 的所有数据都通过标准输入。

```
char Buffer[512]={0}; 
int InputLength = atoi( getenv("INPUT_LENGTH") ); 
InputLength = min( InputLength, sizeof(Buffer)-1 ); /* Avoid buffer overflow */ 
fread( Buffer, InputLength, 1, stdin ); 
```

Javascript： GET：发送获取请求非常简单。如果您使用 jQuery 并希望通过 ajax 发送 GET 请求，请使用以下代码：

```
$.ajax({
  url: '/yourpage.cgi?param1=value1&param2=value2',
}); 
```

邮政：

```
$.post("/yourpage.cgi", { param1: "value1", param2: "value2" } ); 
```

祝你好运 ;-）

# php - 在php上显示后如何从缓存浏览器中删除图像？

> ID：12472668
> 
> 赞同：0
> 
> 时间：2012-09-18T07:56:43.990
> 
> 标签：php, ajax, browser, browser-cache

在php上显示后如何从浏览器缓存中删除图像？在浏览器上显示此图像后，我想从缓存浏览器中删除此图像。

图片的加载量应逐渐增加，作为带有标题的旁路列表，图片不应在内存浏览器中累积，即显示后删除。必须仅在下一张图片加载到浏览器后才能显示每个后续报价。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:44:26.610

您无法清除 PHP 中的浏览器缓存。

但是，如果您在图像末尾附加一个随机 ID，浏览器会将其视为新图像。

例如 images/image.jpg?2124124

例子：

```
$cacheId = Math.floor(Math.random()*50000);
echo 'image/image.jpg?' . $cacheId; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:18:16.543

您不能从代码中删除缓存。但是，您可以更改文件名或附加查询字符串，以便浏览器对资源进行新的请求（版本控制）。您也可以尝试在标题中设置“CACHE-CONTROL”

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-18T08:00:20.260

每个浏览器都有一个清除缓存的插件。在FF我使用这个：[https ://addons.mozilla.org/pl/firefox/addon/clear-cache-button/](https://addons.mozilla.org/pl/firefox/addon/clear-cache-button/)

在其他你必须搜索..

# pdf - gswin PDF 到 PCL 转换后裁剪的 PCL

> ID：12472669
> 
> 赞同：2
> 
> 时间：2012-09-18T07:56:53.223
> 
> 标签：pdf, ghostscript, printer-control-language

我有一个**PDF**，我想将其转换为**PCL**

我使用以下命令将 PDF 转换为 PCL：（gs 8.70）

```
 gswin32c.exe -q -dNOPAUSE -dBATCH \
       -sDEVICE=ljetplus -dDuplex=false -dTumble=false \
       -sPAPERSIZE=a4 -sOutputFile="d:\doc1.pcl" \
       -f"d:\doc1.pdf" -c -quit 
```

当我查看或打印输出**PCL**时，它会被裁剪。我希望输出从纸的边缘开始（至少在查看器中）。

有没有办法在不将页面内容从纸边移开的情况下获得整个输出？

我尝试了可行的`-dPDFFitpage`选项，但会产生缩放的输出。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:23:10.797

您正在使用`-sPAPERSIZE=a4`. 这会导致 PCL 呈现 A4 大小的媒体。

您的输入 PDF 很可能是为非 A4 尺寸制作的。这给您留下了 3 个选择：

1.  ...您也可以为 PCL 使用该确切的页面大小（您的打印机可能无法处理），

2.  ...或者您必须添加`-dPDFFitPage`（如您尝试但不喜欢），

3.  ...或者您完全跳过该`-sPAPERSIZE=...`参数（它很可能会自动使用与 PDF 相同的大小，并且您的打印机可能无法处理...）

* * *

**更新1：**

如果`ljetplus`您请求的 PCL 格式变体不是硬性要求，您可以试试这个：

```
gs  -sDEVICE=pxlmono   -o pxlmono.pcl   a4-fo.pdf
gs  -sDEVICE=pxlcolor  -o pxlcolor.pcl  a4-fo.pdf 
```

* * *

**更新 2：**

我现在可以确认，即使是最新版本的 Ghostscript (v9.06) 也无法处理`ljetplus`输出的非字母页面大小。

我认为这是一个错误......但很可能它不会被修复，即使在[GS bug tracker](http://bugs.ghostscript.com/)上报告也是如此。但是，至少可以预期的是，它将被记录为 ljetplus 输出的已知限制......

# android - Android远程绑定服务接口

> ID：12472673
> 
> 赞同：0
> 
> 时间：2012-09-18T07:57:18.387
> 
> 标签：android, service, interface, aidl

我正面临这样的问题：我有一个远程（不同进程）绑定服务，它定义了一个`IntentFilter`带有操作字符串的。`bindService(..)`我的客户端在其调用中使用相同的操作字符串绑定到它。

**现在，当我使用完全不同的AIDL**接口但定义了相同的 IntentFilter实现另一个服务时，安装此服务并删除旧服务：

1.  我的客户仍然能够绑定
2.  我的客户端甚至能够调用所需的方法（比如 void print(Payload)）客户端不会抱怨，服务器端也不会抱怨

我的问题：有没有办法在运行时检查远程服务正在实现的接口？

我发现的唯一可能的方法是检查`ComponentName`. `ServiceConnection`然而，这有一个含义：将来我将无法交换服务的实现。

还是我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T03:31:16.317

据我了解，您想做以下两件事之一：

a）连接到实现所需接口的服务（并且您不在乎服务是如何实现的）

在这种情况下，您使用意图过滤器。在这种情况下，每个服务都应该有不同的内部过滤器。一般来说，当您定义相同的意图过滤器时，您是在说这两个服务是兼容的（它们不是兼容的，因为不同的 AIDL）。

所以，你应该在这里有不同的意图过滤器。

b）连接到一个非常特殊的服务（它不能被任何其他服务替代）。

在这种情况下，当您执行 bindService 时，您应该在意图中指定显式组件名称，并将其传递给 bindService。

# android - 在密码解锁屏幕中显示 Toast 通知

> ID：12472675
> 
> 赞同：0
> 
> 时间：2012-09-18T07:57:41.560
> 
> 标签：android, toast

每当用户输入错误密码时，我都会尝试在 PasswordUnlockScreen.java 的 verifyPasswordAndUnlock() 中显示 Toast 通知。我编写了以下代码，并成功构建。

```
 Toast.makeText(getContext(), "Invalid password", Toast.LENGTH_LONG).show(); 
```

但是，Toast 并没有出现，因为它实际上出现在主屏幕中，当锁定屏幕位于顶部时，它是不可见的。我通过在用户成功登录时出现另一个 Toast 来验证这一点，并且 Toast 仅在锁定屏幕消失后出现在主屏幕中

我怀疑这是因为 getContext() 返回主屏幕的上下文。如何获取锁屏的上下文？PasswordUnlockScreen.this 甚至不编译，而且 mContext 和 context 都和 getContext() 有同样的问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:05:18.890

所有视图都具有`mContext`初始化为上下文的字段。

```
Toast.makeText(mContext, "Invalid password", Toast.LENGTH_LONG).show(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:47:04.083

正如已经说过的，问题可能不在于上下文。我猜您正在使用实际的 PasswordUnlockScreen 源，而不是对其进行子类化？如果是这样，您可以尝试使用它`KeyguardStatusViewManager`来显示您的文本：

```
mStatusViewManager.setInstructionText("Invalid password"); 
```

# asp.net - 多功能管理面板，需要澄清

> ID：12472679
> 
> 赞同：2
> 
> 时间：2012-09-18T07:58:04.783
> 
> 标签：asp.net, architecture, development-environment, webpage

我开始在一个具有管理面板的网站上工作，其中包含许多管理活动。考虑例如

管理员可以执行以下操作：

*   管理他/她的个人资料
*   可以上传文件
*   管理用户上传的文件
*   为用户分配一些评级
*   计算收入等

在这种情况下，上述每一项都包含许多子活动。说“上传文件”活动有许多子活动，如“列出文件”、“暂停文件”、“垃圾邮件文件”等，“为用户分配一些评分”有许多子活动，如“评分最高的用户”、“无评分” ，“美容用户”等。

在这里，我正在考虑并将每个主要活动和子活动存储在“活动”表中，并将**活动分配给“角色”**，将“角色”分配**给“用户”**。一旦分配完成；基于登录**用户的角色**，我将活动列表显示为菜单

在这里，我需要澄清一下开发架构。以下哪一项是最佳选择：

1.  为每个活动创建单独的网页 (.aspx)，并浏​​览基于该页面的活动选择。说如果我从菜单中选择“文件列表”它应该稍后浏览**“FileList.aspx”**这个文件将使用**FileList.aspx?doc=msword**等参数进行扩展。
2.  为一组活动创建一个单独的网页。说**“Files.aspx”**，其中包含每个子活动的许多面板。所以每次我需要根据活动请求从这个页面切换一个特定的面板。
3.  创建具有多个面板的单个网页。每个面板代表一个活动。

我不知道该遵循哪个，这些是最好的方法吗？如果是，是哪一个？如果没有给我一些建议，那么我可以从最好的开始

# github - 从问题到 Wiki 的 GitHub 链接

> ID：12472682
> 
> 赞同：27
> 
> 时间：2012-09-18T07:58:16.520
> 
> 标签：github, wiki

我想要链接维基页面来发布文本。

`[]()`语法链接到问题池。

`[[text|page]]`不起作用。

怎么做？

* * *

## 回答 #1

> 赞同：59
> 
> 时间：2014-03-11T17:01:55.380

您也可以使用相对路径。这是我的一个项目中的一个示例：

```
[Using-a-Shell-Configuration-File](../wikis/Using-a-Shell-Configuration-File) 
```

对于完整路径，我更喜欢这种方法，因为您可能会重命名项目或将所有权转让给其他人，从而破坏对回购部分的任何绝对引用。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2012-09-18T08:05:45.800

使用`[text](link_to_wiki_page)`where`link_to_wiki_page`是您要链接到的 wiki 页面的完整 URL。只需导航到该页面并从 URL 栏中复制/粘贴 URL。

# sql - 需要针对 SQL 查询中的表行检查参数

> ID：12472689
> 
> 赞同：3
> 
> 时间：2012-09-18T07:58:32.073
> 
> 标签：sql, sql-server-2008-r2

我想构建一个 sql 查询，其中我的一个表单字段不应包含通用名称（在单独的表中维护的单词列表），并且我将该字段的值作为参数传递并希望检查它是否不应该包含该表中的任何通用名称。

我如何使用 sql 查询来实现这一点？

**注意：**如果通用名称是“abc”并且我将参数传递为“！abc123”，因为它包含该单词查询应该返回false。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T08:03:57.043

尝试类似（未经测试的查询）：

```
SELECT CommonName 
FROM CommonNamesTable 
WHERE CommonName like '%NameToTest%' 
OR CONTAINS(NameToTest, CommonName); 
```

基本上你需要字符串匹配选项：

[查看CONTAINS](http://msdn.microsoft.com/en-us/library/ms187787.aspx)的选项并阅读[全文搜索查询](http://msdn.microsoft.com/en-us/library/ms142583.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T08:04:17.870

这是你要找的吗？

```
SELECT (COUNT(*) == 0) FROM tablewithcommonwords 
WHERE wordfromform LIKE CONCAT('%', wordcolumnnfromcommonwordstable, '%'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T08:06:05.493

尝试这个：

```
 IF NOT EXISTS(SELECT word FROM CommonWord WHERE @yourparam 
                 LIKE '%' + word + '%')
    BEGIN
       RETURN 1
    END
    ELSE
    BEGIN
      Return 0
    END 
```

如果`@yourParam`包含在您不想使用的任何单词或名称中，则此方法有效。如果它不包含在表中的任何行中，它只返回 1。

*我只以这种方式写这句话（您可以使用简单的 Exists 而不是 NOT Exists），因为您可能想在真实部分中扩展功能。*

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T08:06:10.083

```
if exists (select * from reservedwords where @parameter like '%'+word + '%')
    select 0 
else
    select 1 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-18T08:18:24.370

我想建议您必须在 TextBox 中使用 keypress 事件，然后在 TextBox 中输入每个字符后处理您的代码。

# php - 使用 PHP 发布 Facebook 状态 - 在 $_POST 中需要帮助

> ID：12472692
> 
> 赞同：2
> 
> 时间：2012-09-18T07:58:55.303
> 
> 标签：php, facebook, status

在我的网站上，我有一些带有下面按钮的文本，以便用户可以直接将该文本作为他们的 facebook 状态发布，我使用 Form POST 请求将该状态发布到我的 fbapp。

问题是当用户第一次使用此功能时，应用程序请求权限窗口在用户允许之后出现，然后我的 fbapp 页面出现，该页面在 FORM 操作中设置，并且我通过 POST 发送的文本作为 NULL 值发布到该页面

但是当用户再次使用此功能（即出现权限窗口 dnt）时，它直接转到我的 fbapp 页面文本成功发布为状态。

使用的代码是：

```
<?php if(isset($_POST['mystatus']))
  {
  $status = $_POST['mystatus'];
  }

require_once 'facebook.php';
$facebook = new Facebook(array(
        'appId' => xxxxxx,
        'secret' => xxxxxxxxxx,
));

$user = $facebook->getUser();

if($user) {
 } else {
  $params = array(
  'scope' => 'publish_stream'
  );
    $loginUrl = $facebook->getLoginUrl($params);
    header('location:' .$loginUrl);
} ?>
<html>
<body>
if ($user) {
    ...................................
    rest of the usual php sdk code here
    ....................................
    }
else {
    echo("<script> top.location.href='" . $loginUrl . "'</script>");
}
</body>
</html> 
```

如果用户已经第二次授予应用程序和使用此功能的权限，则应用程序请求权限窗口不会出现文本状态，`$_POST['mystatus']`并在用户 ID 上成功更新。

问题仅在用户允许应用程序后出现应用程序请求权限窗口时，然后`$_POST['mystatus']`dnt 获取值和状态更新为`NULL`用户 ID。

请帮助如何解决这个问题。

**如果用户禁止或删除应用程序。** 我也想知道如果用户 dnt 允许应用程序请求，我如何在页面上显示错误消息。& 如果以后使用过，请删除该应用程序，然后页面会显示此错误：

```
Fatal error: Uncaught OAuthException: Error validating access token: User xxxxxxxxxxx has not authorized application xxxxxxxxxxxxxxxxxxx. thrown in base_facebook.php on line 1106 
```

有没有办法向用户显示自定义消息而不是这个错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-23T14:45:05.797

# ruby-on-rails - Rails 3.2.5 创建表问题

> ID：12472695
> 
> 赞同：0
> 
> 时间：2012-09-18T07:59:13.270
> 
> 标签：ruby-on-rails

运行迁移文件时：

```
 def self.up
   create_table (:project_paths,:id=>false) do |t|
      t.integer :project_id
      t.integer :path_id
   end
 end 
```

我收到了这个错误：

语法错误，意外 ','，期待 ')' create_table (:project_paths,:id=>false) do |t|

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:06:01.527

只需删除`create_table`. 像这样

```
def self.up
  create_table(:project_paths, :id => false) do |t|
     t.integer :project_id
     t.integer :path_id
  end
end 
```

# simulink - 如何在simulink中为模块“模型”提供输入

> ID：12472697
> 
> 赞同：0
> 
> 时间：2012-09-18T07:59:15.003
> 
> 标签：simulink

我在matlab simulink工作。我的工作有两部分。一个是关于控制系统的，另一个是关于图像处理的。我想将它们链接起来，使控制系统部分只接收来自图像处理部分的标量输入。所以我想使用附加到图像处理部分的“模型”块，以便模型块有一个标量输入。如何使用这个“模型”块，使其具有输入端口，因为我看不到任何输入端口到这个街区。请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-24T03:40:51.650

每当您想在另一个模型中使用模型时，都会使用模型[块。](http://www.mathworks.com/help/simulink/slref/model.html)这是很有用的，例如，当多人在一个由多个独立系统组成的大型系统上工作时，每个系统都可以是自己的模型，但也可以以某种有用的方式协同工作。

如果您只是为了将子系统组织在一起而使用模型块，那么您应该考虑使用[Subsystems](http://www.mathworks.com/help/simulink/slref/codereusesubsystem.html)来代替。子系统允许您将模块组合在一起，并且不需要您为每个组件（即控制器子系统和图像处理子系统）创建单独的模型。您可以通过从 Simulink Library Browser 中拖入 Subsystem 模块，或者通过选择模型中的组件，右键单击并选择*Create Subsystem from Selection*来轻松创建子系统。

但是，如果您确实想使用模型块，可以按如下方式进行。所以，我假设您已经创建了两个模型——一个用于您的控制系统，另一个用于您的图像处理算法。

首先，在每个模型中，确保您指定了正确的输入/输出。您将通过将[Inport](http://www.mathworks.com/help/simulink/slref/inport.html)和[Outport](http://www.mathworks.com/help/simulink/slref/outport.html)模块添加到每个模型的顶层来完成此操作。

接下来，创建一个新模型，您将在其中集成控制模型和图像处理模型。为每个模型添加一个模型块（正如您已经描述的那样）。对于每个模型块，打开参数对话框。您将看到一个参数，您可以在其中指定模型名称。输入您将引用的模型的名称（即控制器或图像处理模型）。此外，您可以浏览这些模型。一旦你这样做了，你之前指定的输入和输出现在应该在模型块上可见。

# c++-cli - C++ CLI 两个栈<>

> ID：12472701
> 
> 赞同：-1
> 
> 时间：2012-09-18T07:59:37.567
> 
> 标签：c++-cli

使用两个 cliext::stack.. 的问题

```
stack<T^>^ pfn = gcnew stack<T^>();  - compiles     
stack<K^>^ pf = gcnew stack<K^>();  - 93 compile errors. 
```

问题是什么？

USE Generics::Stack 为什么两台机器的声明错误很多？

```
private: System::Void btn_add_Click(System::Object^  sender, System::EventArgs^  e)
{
    fileOperation^ fw = gcnew fileOperation();
    if (comboBox1->SelectedIndex == 0 ) 
    {
        flyBird^ f = gcnew flyBird();
        System::Collections::Generic::Stack<flyBird^>^ p =  gcnew   System::Collections::Generic::Stack<flyBird^>();

        f->birdName=txt_name->Text;
        f-> year    = textBox1->Text;
        f->vess = txt_tmp1->Text;
        f->sreda = txt_tmp2->Text;
        p->Push(f);
    }
    else 
    {
        System::Collections::Generic::Stack<noflyBird^>^ p1 = gcnew     System::Collections::Generic::Stack<noflyBird^>();
        noFlyBird^ f = gcnew noFlyBird();
        fn ->birdName=txt_name->Text;
        fn ->year = textBox1->Text;
        fn ->pitanie = txt_tmp1->Text;
        fn ->domoshnie = txt_tmp2->Text;*/
    }
} 
```

```
警告 1 警告 C4138：在注释 c:\documents and settings\bobilev\my documents\visual studio 2010\projects\burd\burd\Form1.h 275 1 burd 之外找到“*/”
错误 6 错误 C2143：语法错误：缺少 ';' 在'}'之前\我的文档\visual studio 2010\projects\burd\burd\Form1.h 277 1 burd
错误 7 错误 C2143：语法错误：缺少 ';' 在'}'之前 ments\visual studio 2010\projects\burd\burd\Form1.h 281 1 burd
错误 11 错误 C2143：语法错误：缺少 ';' 在'}'之前我的文档\visual studio 2010\projects\burd\burd\Form1.h 293 1 burd
错误 12 错误 C2143：语法错误：缺少 ';' 在'}'之前 c:\我的文档\visual studio 2010\projects\burd\burd\Form1.h 297 1 burd

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T16:19:03.463

查看您遇到的编译错误，第一个是额外的`*/`结束注释，没有`/*`开始注释。我们可以在您发布的代码中看到，在 else 块的末尾。该错误位于代码的第 275 行。您发布的其他编译错误位于第 277 行及更高版本，因此看起来问题出在您在此处发布的代码之后。

# c - 分叉进程/通过管道读取写入慢

> ID：12472703
> 
> 赞同：2
> 
> 时间：2012-09-18T07:59:44.180
> 
> 标签：c, linux, tcp, pipe, lame

**回答**

[https://stackoverflow.com/a/12507520/962890](https://stackoverflow.com/a/12507520/962890)

它是如此微不足道.. args！但收到了很多好的信息。谢谢大家。

**编辑**

链接到 github：[https ://github.com/MarkusPfundstein/stream_lame_testing](https://github.com/MarkusPfundstein/stream_lame_testing)

**原帖**

我对通过管道的 IPC 有一些疑问。我的目标是接收每个 TCP/IP 流的 MP3 数据，通过 LAME 管道将其解码为 wav，进行一些数学运算并将其存储在磁盘上（作为 wav）。我对整个事情都使用非阻塞 IO。让我有点恼火的是，tcp/ip 读取速度比管道槽跛脚快得多。当我发送 ~3 MB mp3 时，文件会在几秒钟内在客户端读取。一开始，我也可以写入跛脚进程的标准输入，然后它停止写入，它读取 mp3 的其余部分，如果完成，我可以再次写入跛脚。4096 字节大约需要 1 秒（从 lame 写入和读取）。这很慢，因为我想解码我的 wav min 128kbs。

操作系统是这台微型计算机上的 debian 2.6 内核：

[https://www.olimex.com/dev/imx233-olinuxino-maxi.html](https://www.olimex.com/dev/imx233-olinuxino-maxi.html)

65 MB 内存 400 兆赫兹

ulimit -n | grep pipe 返回 512 x 8 ，表示 4096 可以。它是一个 32 位系统。

奇怪的是

我的进程 | 蹩脚--解码--mp3input - output.wav

去得非常快。

这是我的 fork_lame 代码（它将我的进程的粗壮连接到 lame 的标准输入，反之亦然）

```
static char * const k_lame_args[] = {
  "--decode",
  "--mp3input",
  "-",
  "-",
  NULL
};

static int
fork_lame()
{
  int outfd[2];
  int infd[2];
  int npid;
  pipe(outfd); /* Where the parent is going to write to */
  pipe(infd); /* From where parent is going to read */
  npid = fork();
  if (npid == 0) {
    close(STDOUT_FILENO);
    close(STDIN_FILENO);
    dup2(outfd[0], STDIN_FILENO);
    dup2(infd[1], STDOUT_FILENO);
    close(outfd[0]); /* Not required for the child */
    close(outfd[1]);
    close(infd[0]);
    close(infd[1]);
    if (execv("/usr/local/bin/lame", k_lame_args) == -1) {
      perror("execv");
      return 1;
    }
  } else {
    s_lame_pid = npid;
    close(outfd[0]); /* These are being used by the child */
    close(infd[1]);
    s_lame_fds[WRITE] = outfd[1];
    s_lame_fds[READ] = infd[0];
  }
  return 0;
} 
```

这是读取和写入功能。请不要在 write_lame_in 中那样做。当我写到 stderr 而不是 s_lame_fds[WRITE] 时，输出几乎是立即的，所以它肯定是通过 lame 的管道。但为什么 ？

```
static int
read_lame_out() 
{
  char buffer[READ_SIZE];
  memset(buffer, 0, sizeof(buffer));
  int i;
  int br = read(s_lame_fds[READ], buffer, sizeof(buffer) - 1);
  fprintf(stderr, "read %d bytes from lame out\n", br);
  return br;
}

static int
write_lame_in()
{
  int bytes_written;
  //bytes_written = write(2, s_data_buf, s_data_len);
  bytes_written = write(s_lame_fds[WRITE], s_data_buf, s_data_len);
  if (bytes_written > 0) {
    //fprintf(stderr, "%d bytes written\n", bytes_written);
    s_data_len -= bytes_written;
    fprintf(stderr, "data_len write: %d\n", s_data_len);
    memmove(s_data_buf, s_data_buf + bytes_written, s_data_len);
    if (s_data_len == 0) {
      fprintf(stderr, "finished\n");
    }
  } 

  return bytes_written;
}

static int
read_tcp_socket(struct connection_s *connection)
{
  char buffer[READ_SIZE];
  int bytes_read;
  bytes_read = connection_read(connection, buffer, sizeof(buffer)-1);
  if (bytes_read > 0) {
    //fprintf(stderr, "read %d bytes\n", bytes_read);
    if (s_data_len + bytes_read > sizeof(s_data_buf)) {
      fprintf(stderr, "BUFFER OVERFLOW\n");
      return -1;
    } else {
      memcpy(s_data_buf + s_data_len,
             buffer,
             bytes_read);
      s_data_len += bytes_read;
    }
    fprintf(stderr, "data_len: %d\n", s_data_len);
  }
  return bytes_read;
} 
```

选择的东西是非常基本的选择逻辑。当然，所有块都是非阻塞的。

有人知道吗？我真的很感激任何帮助;-)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T07:02:46.480

哎呀！你检查你的 LAME 输出了吗？

尤其是查看您的代码

```
static char * const k_lame_args[] = {
  "--decode",
  "--mp3input",
  "-",
  "-",
  NULL
}; 
```

和

```
if (execv("/usr/local/bin/lame", k_lame_args) == -1) { 
```

意味着您不小心忽略了LAME 的`--decode`标志`argv[0]`，而不是第一个参数 ( `argv[1]`)。你应该使用

```
static char * const k_lame_args[] = {
  /* argv[0] */  "lame",
  /* argv[1] */  "--decode",
  /* argv[2] */  "--mp3input",
  /* argv[3] */  "-",
  /* argv[4] */  "-",
                 NULL
}; 
```

反而。

我认为您看到速度变慢了，因为您不小心重新压缩了 MP3 音频。（我在一分钟前注意到了这一点，所以如果你省略了标志，我还没有检查 LAME 是否会这样做`--decode`，但我相信它会这样做。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T08:49:07.497

可能存在某种阻塞问题。非阻塞管道（不是真正的非阻塞管道），导致您的终端阻塞，直到 LAME 消耗数据。

你能尝试另一种方法吗？使用普通的阻塞管道和一个单独的线程（使用`pthreads`），其唯一目的是将数据从循环缓冲区写入 LAME。然后，您的主线程会不断从您的 TCP/IP 连接填充循环缓冲区，并且还可以轻松地跟踪和报告缓冲区级别——在开发和调试期间非常有用。一般来说，我在阻塞管道和线程方面比非阻塞管道取得了更好的成功。

在 Linux 中，线程确实没有那么大的开销，因此即使在嵌入式体系结构上，您也应该能够轻松地使用它们。您必须掌握的唯一技巧是为工作线程指定一个合理的堆栈大小——在这种情况下，16384 字节很可能就足够了——因为只有给进程的初始堆栈会自动增长，并且线程堆栈在默认情况下是固定的大的。

您需要示例代码吗？

编辑添加：

您的程序可能以稳定的速率从 TCP/IP 连接接收数据。但是，LAME 以大块的形式使用数据。换句话说，情况就像一辆被拖走的汽车，拖车不停地摇晃，拖车每次都猛拉进去：您的进程和 LAME 大部分时间都在等待对方接收/发送更多数据。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T08:24:27.677

首先，这两个 close 不是必需的（实际上，您不应该这样做），因为后面的两个`dup2`将**自动**执行：

```
close(STDOUT_FILENO);
close(STDIN_FILENO); 
```

# magento - Magento 上的复杂布尔条件

> ID：12472713
> 
> 赞同：2
> 
> 时间：2012-09-18T08:00:12.867
> 
> 标签：magento, boolean

我在 magento 教程中找不到这个问题的解决方案。当涉及两个属性时，如何在自定义模型中实现布尔 OR 运算符？官方教程中的示例仅演示了对一个字段 sku 使用 OR boolean。

```
$filter_a = array('like'=>'a%');
$filter_b = array('like'=>'b%');

Mage::getModel('catalog/product')
->getCollection()
->addFieldToFilter('sku', array($filter_a, $filter_b))
->getSelect(); 
```

这转化为

```
WHERE e.sku like 'a%' or e.sku like 'b%' 
```

但是如果我需要运行以下条件怎么办：

```
 WHERE   (e.sku like 'a%' or e.sku like 'b%')  or  (table_price.value >= '10' ) 
```

我怎样才能在 Magento 上做到这一点？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:21:09.013

你的语法不正确，试试这个：

```
Mage::getModel('catalog/product')
->getCollection()
->addAttributeToFilter(
    array(
        array('attribute'=>'firstname', 'like'=>'test%'),
        array('attribute'=>'lastname', 'like'=>'test%'),
    )
) 
```

您可以将属性名称替换为“sku”或您想要的任何内容。每个数组条目都将是 OR'd。

# c# - 映射表关系，仅包含从现有数据库到实体框架对象的主键

> ID：12472714
> 
> 赞同：1
> 
> 时间：2012-09-18T08:00:13.393
> 
> 标签：c#, asp.net-mvc-3, entity-framework

我在旧数据库中有以下表。

**数据** dataid PK、年份、数字

**data_1** dataid PK，note_1，完成

**data_2** dataid PK，note_2，类型，对象

**data_other** dataid PK, note_other, a, b, c

我的模型类看起来像；

```
public class Data
{
    public int DataID { get; set; }
    public int Year { get; set; }
    public int Number { get; set; }
}

public class Data1
{
    public int DataID { get; set; }
    public int Note1{ get; set; }
    public int Completed { get; set; }
}

public class Data1
{
    public int DataID { get; set; }
    public int Note2 { get; set; }
    public string Type { get; set; }
    public string Object { get; set; }
}

public class DataOther
{
    public int DataID { get; set; }
    public int NoteOther { get; set; }
    public string A { get; set; }
    public string B { get; set; }
    public string C { get; set; }
} 
```

```
 public DbSet<Data> Datas { get; set; }
    public DbSet<Data1> Data1s { get; set; }
    public DbSet<Data2> Data2s { get; set; }
    public DbSet<DataOther> DataOthers { get; set; }

    protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
            modelBuilder.Entity<Data>().ToTable("data");
            modelBuilder.Entity<Data>().HasKey(t => t.DataID);

            modelBuilder.Entity<Data1>().ToTable("data_1");
            modelBuilder.Entity<Data1>().HasKey(t => t.DataID);

            modelBuilder.Entity<Data2>().ToTable("data_2");
            modelBuilder.Entity<Data2>().HasKey(t => t.DataID);

            modelBuilder.Entity<DataOther>().ToTable("data_other");
            modelBuilder.Entity<DataOther>().HasKey(t => t.DataID);
    } 
```

我从教程和博客中尝试了不同的解决方案，但我似乎无法实现，

```
modelBuilder.Entity<Data>()
    .HasRequired(a => a)
    .WithMany()
    .HasForeignKey(a => a); 
```

我看到的问题是我们只有主键而没有外键。我正在使用 MVC3 和 Entity Framework 5。我想要的只是例如在视图 @Model.Datas.Others.NoteOther 中通过

但是关于如何在这些表之间创建关系的任何提示都很棒！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T12:49:15.497

听起来你想要几个 1:0..1 的关系。

要映射它，首先您需要映射类中的实际关系：

```
public class Data
{
    public int DataID { get; set; }
    public int Year { get; set; }
    public int Number { get; set; }

    public Data1 Data1 { get; set; }
    public Data2 Data2 { get; set; }
    public DataOther DataOther { get; set; }
} 
```

然后，使用 fluent 定义关系：

```
 modelBuilder.Entity<Data>().HasOptional(d => d.Data1)
            .WithRequired();
        modelBuilder.Entity<Data>().HasOptional(d => d.Data2)
            .WithRequired();
        modelBuilder.Entity<Data>().HasOptional(d => d.DataOther)
            .WithRequired(); 
```

这为我生成了这个数据库：

![在此处输入图像描述](../Images/4ff3dad0883411ed06e2a774dc0146ac.png)

# c++ - std::string 到 int8_t

> ID：12472715
> 
> 赞同：2
> 
> 时间：2012-09-18T08:00:15.873
> 
> 标签：c++

这给出了 bad_lexical_cast 异常：

```
int8_t i = boost::lexical_cast<int8_t>("12"); 
```

当值不适合`int8_t`.

我该怎么做？如果值超出 -128 到 127 的范围，我应该先转换为 int 并抛出异常吗？

我也有兴趣将字符串转换为 uint8_t。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T08:05:33.383

> 问：int8_t 或 uint8_t 的 lexical_cast 没有达到我的预期？
> 
> A：如上所述，请注意 int8_t 和 uint8_t 实际上是 chars 并且是这样格式化的。为避免这种情况，**请先转换为整数类型**

来源：

[http://www.boost.org/doc/libs/1_51_0/doc/html/boost_lexical_cast/frequently_asked_questions.html](http://www.boost.org/doc/libs/1_51_0/doc/html/boost_lexical_cast/frequently_asked_questions.html)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-09-18T08:32:29.693

`lexical_cast`的`int8_t`or`uint8_t`被视为字符。

你可以结合`lexical_cast`来[`numeric_cast`](http://www.boost.org/doc/libs/1_34_1/libs/numeric/conversion/doc/numeric_cast.html)得到你想要的：

```
#include <boost/numeric/conversion/cast.hpp>
#include <boost/lexical_cast.hpp>

using boost::lexical_cast;
using boost::numeric_cast;

numeric_cast<int8_t>(lexical_cast<int>("128"));
numeric_cast<uint8_t>(lexical_cast<int>("256")); 
```

# c# - 将 C# Psobjects 集合传递给 powershell 管道

> ID：12472718
> 
> 赞同：0
> 
> 时间：2012-09-18T08:00:25.733
> 
> 标签：c#, powershell, runspace, psobject

我有一个 C# PSObjects 集合，我想将它们传递给一个 powershell 脚本。我喜欢在管道中传递它，这样我就可以在 psfile 的进程部分中使用它。

任何人都知道这是否可能，在这种情况下。我该怎么做？

```
Collection<PSObject> colpsObject = new Collection<PSObject>();
PSObject obj1 = new PSObject();
obj1.Properties.Add(new PSNoteProperty("Name1", "Value1"));
obj1.Properties.Add(new PSNoteProperty("Name2", "Value2"));
colpsObject.Add(obj1);

PSObject obj2 = new PSObject();
obj2.Properties.Add(new PSNoteProperty("Name1", "Value1"));
obj2.Properties.Add(new PSNoteProperty("Name2", "Value2"));
colpsObject.Add(obj2);

PowershellRunspace rs = new PowershellRunspace(); //Custom Powershell class
rs.Open();

Command cmd = new Command(m_Script);
cmd.Parameters.Add("Username", m_userName);
cmd.Parameters.Add("Password", m_password);

rs.Add(cmd);
rs.Execute(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T16:05:11.347

我想到了。不确定这是否是最好的方法，但它有效。

```
Collection<PSObject> colpsObject = new Collection<PSObject>();
PSObject obj1 = new PSObject();
obj1.Properties.Add(new PSNoteProperty("Name1", "Value1"));
obj1.Properties.Add(new PSNoteProperty("Name2", "Value2"));
colpsObject.Add(obj1);

PSObject obj2 = new PSObject();
obj2.Properties.Add(new PSNoteProperty("Name1", "Value1"));
obj2.Properties.Add(new PSNoteProperty("Name2", "Value2"));
colpsObject.Add(obj2);

PowershellRunspace rs = new PowershellRunspace(); //Custom Powershell class
rs.Open();

Command cmd1 = new Command("param($Param1);$Param1",true);
cmd1.Parameters.Add("Param1", colpsObject);
rs.Add(cmd1);

Command cmd2 = new Command(m_Script);
cmd2.Parameters.Add("Username", m_userName);
cmd2.Parameters.Add("Password", m_password);
rs.Add(cmd2);

rs.Execute(); 
```

# assembly - NASM 中的 jmp 0x0008:0x0000 与 jmp 0x00000008:0x00000000

> ID：12472720
> 
> 赞同：0
> 
> 时间：2012-09-18T08:00:30.130
> 
> 标签：assembly, x86, nasm

它们之间有什么区别吗？我正在使用此代码从实模式跳转到保护模式。第二个有效。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:18:13.883

至少对我来说，既能工作又能产生相同的操作码。

来自`ndisasm -b 32`：

```
000000B5  EA000000000800    jmp dword 0x8:0x0
000000BC  EA000000000800    jmp dword 0x8:0x0 
```

前导零不会改变数值，这对于所有数字系统都是一样的，无论是二进制、十进制还是十六进制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:32:56.063

除了指令的长度（由于其中编码的绝对地址更长以及任何可能需要的指令前缀）之外，两者之间没有任何区别。

该指令的两个版本的行为相同。

您不仅可以在 16 位模式下使用较短的版本，也可以在 32 位模式下使用较长的版本。只要地址有效（根据 GDT 中的相关段描述符，然后是基础页表，如果有的话），跳转就会起作用。

**更新**：实际上（通过反复试验发现:)，如果偏移量不适合 16 位，您需要特别请求正确的操作数大小。

示例代码：

```
bits 16
jmp 8:0
jmp dword 8:0
jmp 8:0x12345678 ; warning: jmpabs.asm:4: warning: word data exceeds bounds
bits 32
jmp 8:0
jmp word 8:0
jmp 8:0x1234 
```

汇编为`nasm -f bin -l jmpabs.lst jmpabs.asm -o jmpabs.bin`产生以下列表文件：

```
 1                                  bits 16
 2 00000000 EA00000800              jmp 8:0
 3 00000005 66EA000000000800        jmp dword 8:0
 4 0000000D EA78560800              jmp 8:0x12345678
 5          ******************       warning: word data exceeds bounds
 6                                  bits 32
 7 00000012 EA000000000800          jmp 8:0
 8 00000019 66EA00000800            jmp word 8:0
 9 0000001F EA341200000800          jmp 8:0x1234 
```

# java - Arquillian glassfish-managed test Absent Code 属性错误

> ID：12472721
> 
> 赞同：1
> 
> 时间：2012-09-18T08:00:30.523
> 
> 标签：java, testing, glassfish, jboss-arquillian

我正在尝试阅读 Arquillian[入门](http://arquillian.org/guides/getting_started/)指南。只要我使用 arquillian-weld-ee-embedded 容器，一切正常。但是，当我尝试切换到 glassfish-managed 时，我收到了这个错误：

```
Tests in error: org.arquillian.example.GreeterTest: Absent Code attribute in method that is not native or abstract in class file javax/mail/MessagingException 
```

我使用了[参考指南](https://docs.jboss.org/author/display/ARQ/GlassFish+3.1+-+Managed)中显示的配置。

这是我的 pom.xml：

```
<?xml version="1.0" encoding="UTF-8"?><project xmlns="http://maven.apache.org/POM/4.0.0" 
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
     xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>

<groupId>org.arquillian.example</groupId>
<artifactId>arquillian-tutorial</artifactId>
<version>1.0-SNAPSHOT</version>
<packaging>jar</packaging>

<name>arquillian-tutorial</name>
<url>http://maven.apache.org</url>

<properties>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
</properties>

<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>org.jboss.arquillian</groupId>
            <artifactId>arquillian-bom</artifactId>
            <version>1.0.2.Final</version>
            <scope>import</scope>
            <type>pom</type>
        </dependency>
    </dependencies>
</dependencyManagement>

<build>
    <plugins>
        <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <version>2.3.2</version>
            <configuration>
                <source>1.6</source>
                <target>1.6</target>
            </configuration>
        </plugin>
        <plugin>
            <artifactId>maven-surefire-plugin</artifactId>
            <version>2.12</version>
        </plugin>
    </plugins>
</build>

<dependencies>
    <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.8.1</version>
        <scope>test</scope>
    </dependency>
    <dependency>
        <groupId>org.jboss.arquillian.junit</groupId>
        <artifactId>arquillian-junit-container</artifactId>
        <scope>test</scope>
    </dependency>
</dependencies>

<profiles>
    <profile>
        <id>arquillian-weld-ee-embedded</id>
        <dependencies>
            <dependency>
                <groupId>org.jboss.spec</groupId>
                <artifactId>jboss-javaee-6.0</artifactId>
                <version>1.0.0.Final</version>
                <type>pom</type>
                <scope>provided</scope>
            </dependency>
            <dependency>
                <groupId>org.jboss.arquillian.container</groupId>
                <artifactId>arquillian-weld-ee-embedded-1.1</artifactId>
                <version>1.0.0.CR3</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.jboss.weld</groupId>
                <artifactId>weld-core</artifactId>
                <version>1.1.5.Final</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-simple</artifactId>
                <version>1.6.4</version>
                <scope>test</scope>
            </dependency>
        </dependencies>
    </profile>
    <profile>
        <id>arquillian-glassfish-embedded</id>
        <dependencies>
            <dependency>
                <groupId>org.jboss.arquillian.container</groupId>
                <artifactId>arquillian-glassfish-embedded-3.1</artifactId>
                <version>1.0.0.CR3</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>org.glassfish.main.extras</groupId>
                <artifactId>glassfish-embedded-all</artifactId>
                <version>3.1.2</version>
                <scope>provided</scope>
            </dependency>
        </dependencies>
    </profile>
    <profile>
        <id>glassfish-managed-3.1</id>
        <dependencies>
            <dependency>
                <groupId>org.jboss.arquillian.container</groupId>
                <artifactId>arquillian-glassfish-managed-3.1</artifactId>
                <version>1.0.0.CR3</version>
                <scope>test</scope>
            </dependency>
            <dependency>
                <groupId>javax</groupId>
                <artifactId>javaee-api</artifactId>
                <version>6.0</version>
                <scope>provided</scope>
            </dependency>
        </dependencies>
        <build>
            <testResources>
                <testResource>
                    <directory>src/test/resources</directory>
                </testResource>
                <testResource>
                    <directory>src/test/resources-glassfish-managed</directory>
                </testResource>
            </testResources>
        </build>
    </profile>
</profiles> 
```

还有我的 src/test/resources/arquillian.xml：

```
<arquillian xmlns="http://jboss.org/schema/arquillian"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="
    http://jboss.org/schema/arquillian
    http://jboss.org/schema/arquillian/arquillian_1_0.xsd">
<container qualifier="glassfish" default="true">
    <configuration>
        <property name="glassFishHome">/opt/app/glassfish-3.1.2.2</property>
    </configuration>
</container> 
```

Greeter、PhraseBuilder 和 GreeterTest 类与上述指南中的相同。

编辑：这是 Surefire 的报告：

```
    测试运行：1，失败：0，错误：1，跳过：0，经过时间：0.255 秒（EventTestRunnerAdaptor.java:56）
    ... 21 更多
原因：java.lang.IllegalArgumentException：必须指定 DeployableContainer
    在 org.jboss.arquillian.core.spi.Validate.notNull(Validate.java:44)
    在 org.jboss.arquillian.container.impl.ContainerImpl.(ContainerImpl.java:71)
    在 org.jboss.arquillian.container.impl.LocalContainerRegistry.create(LocalContainerRegistry.java:76)
    ... 45 更多
引起：java.lang.reflect.InvocationTargetException
    在 sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    在 sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    在 sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    在 java.lang.reflect.Constructor.newInstance(Constructor.java:525)
    在 org.jboss.arquillian.test.spi.SecurityActions.newInstance(SecurityActions.java:156)
    ... 16 更多
原因：org.jboss.arquillian.container.impl.ContainerCreationException：无法创建容器 glassfish
    在 org.jboss.arquillian.container.impl.LocalContainerRegistry.create(LocalContainerRegistry.java:85)
    在 org.jboss.arquillian.container.impl.client.container.ContainerRegistryCreator.createRegistry(ContainerRegistryCreator.java:76)
    在 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    在 sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    在 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    在 java.lang.reflect.Method.invoke(Method.java:601)
    在 org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
    在 org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
    在 org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
    在 org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)
    在 org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115)
    在 org.jboss.arquillian.core.impl.ManagerImpl.bindAndFire(ManagerImpl.java:236)
    在 org.jboss.arquillian.core.impl.InstanceImpl.set(InstanceImpl.java:74)
    在 org.jboss.arquillian.config.impl.extension.ConfigurationRegistrar.loadConfiguration(ConfigurationRegistrar.java:68)
    在 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    在 sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    在 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    在 java.lang.reflect.Method.invoke(Method.java:601)
    在 org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
    在 org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
    在 org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
    在 org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)
    在 org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115)
    在 org.jboss.arquillian.core.impl.ManagerImpl.start(ManagerImpl.java:261)
    在 org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.(EventTestRunnerAdaptor.java:56)
    ... 21 更多
原因：java.lang.IllegalArgumentException：必须指定 DeployableContainer
    在 org.jboss.arquillian.core.spi.Validate.notNull(Validate.java:44)
    在 org.jboss.arquillian.container.impl.ContainerImpl.(ContainerImpl.java:71)
    在 org.jboss.arquillian.container.impl.LocalContainerRegistry.create(LocalContainerRegistry.java:76)
    ... 45 更多

```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T10:11:43.887

[https://community.jboss.org/wiki/WhatsTheCauseOfThisExceptionJavalangClassFormatErrorAbsentCode](https://community.jboss.org/wiki/WhatsTheCauseOfThisExceptionJavalangClassFormatErrorAbsentCode)

# javascript - 使用 High Charts addPoint() 约束到 x 值

> ID：12472724
> 
> 赞同：0
> 
> 时间：2012-09-18T08:00:55.577
> 
> 标签：javascript, highcharts

我在这里阅读了一些关于高图表 ​​addPoint() 函数的信息：

[http://api.highcharts.com/highcharts#Series.addPoint](http://api.highcharts.com/highcharts#Series.addPoint) ()

我完全接受了创建这样一个图表的想法：

[http://www.highcharts.com/demo/dynamic-click-to-add](http://www.highcharts.com/demo/dynamic-click-to-add)

...但是我有一个固定的 x 和 y 比例，并且用户只能在比例上放置一个 5 的倍数的点.. 例如 x=10 和 y=20 处的点...

是否已尝试过，和/或考虑到 API 中提供的选项是否可行？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T11:55:07.060

您可以在您的点击处理程序中修改此行为 - 您可以在那里获得准确的点击值，您可以简单地将其四舍五入到您喜欢的下一个间隔：

```
 events: {
                click: function(e) {
                    // find the clicked values and the series
                    var x = e.xAxis[0].value,
                        y = e.yAxis[0].value,
                        series = this.series[0];

                    // round given click point to intervals
                    x = Math.ceil(x / 5) * 5;
                    y = Math.ceil(y / 5) * 5;

                    // Add it
                    series.addPoint([x, y]);

                }
            } 
```

此示例的[Demo](http://jsfiddle.net/LNhUB/)将为您提供一个起点。

# jquery - 有效 XHTML 的 DataTables“nCell 未定义”错误

> ID：12472726
> 
> 赞同：2
> 
> 时间：2012-09-18T08:01:04.393
> 
> 标签：jquery, xhtml, datatables

带有 jQ​​uery 1.8.1 的 DataTables 1.9.3在我尝试使用它的**经过验证的（XHTML 1.0 过渡，ISO-8859-1 编码）页面上死掉，页面准备就绪时显示以下消息：**

> 类型错误：nCell 未定义

~~DataTables 可以处理的表是否有大小限制？这是我尝试过的最大的页面，将近 700KB（主要是因为嵌入的样式），一个表格 > 520 行，一个表格 > 160 行。~~它在同一张表的较小版本上也失败了。两个表都有*`sortable`类*，一个包含*复选框*，另一个包含*单选按钮*，并且都有一个*`<thead>`和`<tbody>`*部分。不幸的是，由于数据是公司内部数据，所以我无法发布整页，但我会尝试创建一个最小的样本。

数据表初始化代码：

```
$(document).ready(function(){
    $('.sortable').dataTable({
        "aaSorting": [],
        "bFilter": false,
        "bInfo": false,
        "bPaginate": false,
    });
}); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T08:20:06.490

结果 DataTables 不知道如何处理**`@colspan`**表格最后一行中的 a - 我不得不将它的内容移到表格之外，然后删除该行，然后它就起作用了。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-29T08:36:44.330

有同样的问题，就像这里一样，就我而言，列数低于数据表的排序设置。 `"aoColumnDefs": [ { "bSortable": false, "aTargets": [ 11 ] }]`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-29T19:04:28.517

当列的数量不是矩阵 N * M ... 时，它发生在我身上的确切错误。也就是说，我将 Excel 电子表格导出为网页，只是为了测试具有固定内容的工作报告的功能，并且用查找和替换清理后，没有意识到对于不受支持的不均匀列有条件注释。认为它是一个类，并在添加“”而不是 colspan 之后现在尝试它，所以我相信错误本身是试图说 jQuery 插件在遍历结构时找不到分配类奇数甚至偶数的元素.. 我的 2 美分值 fwiw。:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-20T09:59:02.063

当指定的列数不等于文件中的实际列时，我遇到了同样的问题。

尝试更改 aoColumns 选项

```
('#chart table).datatable({
    "aoColumns": [
                        null, null // as many columns you have
 ] 

}); 
```

# actionscript-3 - as3 : 错误 #1063 MethodInfo-165() 参数不匹配

> ID：12472727
> 
> 赞同：0
> 
> 时间：2012-09-18T08:01:04.547
> 
> 标签：actionscript-3

我在 Flash CS5.5 (ActionScript 3) 中遇到错误：

> ArgumentError：错误 #1063：MethodInfo-185() 上的参数计数不匹配。预期 1，得到 0。在 MethodInfo-186()

但我没有`MethodInfo-185()`and `MethodInfo-186()`。闪电侠有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T10:09:43.507

This means yes, you have there an unnamed function. Make sure you have all event listeners enumerated, and check if you have a listener added like this:

```
addEventListener(Event.ENTER_FRAME,function():void {...}); 
```

Any event can be in place of an enter frame event I wrote. If so, this is the line with an error. An event listener function should always accept 1 parameter of corresponding Event type. In this case, the correct line should be:

```
addEventListener(Event.ENTER_FRAME,function(e:Event):void {...}); 
```

Note the parameter type. If you, for example, listen for a "click" mouse event, it should be of MouseEvent type instead.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-19T09:42:13.477

Flash CS5.5 / AS3 编译器不知何故无法识别嵌套函数。编译器会将嵌套函数（`myInnerFunction`如下面的示例）称为`MethodInfo-123()`（或类似的东西）。

```
function myFunction() {
  function myInnerFunction() {
  }
} 
```

# parsing - 如何重用j2me kxml解析器？

> ID：12472729
> 
> 赞同：2
> 
> 时间：2012-09-18T08:01:09.460
> 
> 标签：parsing, java-me, xml-parsing, kxml

我正在为我的 j2me 应用程序使用 kxml 解析器。我正在从手机内存中读取文件并解析 xml 文件以显示数据（具有各种级别的过滤器）。在每个过滤器上，我需要从该文件中读取数据。我第一次创建了解析器，每次我将这个解析器 1（参考原始）重新分配给 paerser2（用于解析数据）。第一次我得到了正确的答案，但第二次我没有得到文件内容，它显示为 null 作为数据。

这是我的代码：

```
FileConnection fc = (FileConnection)Connector.open(rmsObj.rmsData.elementAt(0).toString());
InputStream in = fc.openInputStream();
InputStreamReader is = new InputStreamReader(in);
commonAppObj.externParser = new XmlParser(is); 
```

commonAppObj 类文件。

```
protected void fileread() {
    try {
        if(externParser != null){
            parser = externParser;
            fileparser(parser);
        }else{
            InputStream in = this.getClass().getResourceAsStream(this.dataBase);
            InputStreamReader is = new InputStreamReader(in);
            parser = new XmlParser(is);
            fileparser(parser);
        }
    } catch (IOException ioe) {
    } finally {
        parser = null;
    }
}

private void fileparser(XmlParser parser){
    try {
        ParseEvent event = null;
        dataflag = 0;
        dataflagS = 0;
        System.out.println("findtags = " + findtags);
        while (((event = parser.read()).getType() != Xml.END_DOCUMENT) && (dataflag != 1)) {
            if (event.getType() == Xml.START_TAG) {
                String name = event.getName();
                if (name != null && name.equals(findtags)) {
                    dataflag = 0;
                    parseAddressTag(parser);
                }
                name = null;
            }
            event = null;
        }
    } catch (IOException ioe) {
    } finally {
        parser = null;
    }
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T16:38:35.013

如果您在对[markSupported](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/java/io/InputStream.html#markSupported%28%29)[`InputStream`](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/java/io/InputStream.html)的调用中返回 true，则可以在方法结束时调用它，但首先您需要在创建它之后立即调用。[`reset`](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/java/io/InputStream.html#reset%28%29)`fileparser`[`mark`](http://docs.oracle.com/javame/config/cldc/ref-impl/midp2.0/jsr118/java/io/InputStream.html#mark%28int%29)

```
if (in.markSupported()) {
  in.mark(in.available());
} 
```

# sharepoint-2010 - 在 Visio 图表中插入 Sharepoint 2010 属性？

> ID：12472731
> 
> 赞同：3
> 
> 时间：2012-09-18T08:01:31.180
> 
> 标签：sharepoint-2010, visio

有没有办法将 Sharepoint Document ID 属性插入 Visio 图表？

我们使用它来唯一标识文件，并希望将其打印在所有图表上。

此致，

古斯塔夫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T13:12:44.137

您可以尝试设置文档属性之一（例如描述或标签）。

## 手动步骤

在 Visio 2010 中，这将是**文件 > 选项 > 属性** ![在此处输入图像描述](../Images/de2b71d9a0447a00b684bc88c858da8b.png)

创建绘制一个简单的矩形，然后使用“**插入”>“字段**”并选择“文档属性”的名称来插入一个字段。这些都可以在“**文档信息**”类别中找到。奇怪的是，文档属性中的“标签”在**字段**对话框中称为“关键字”。

![在此处输入图像描述](../Images/2a34e396c14eb1cb08e574252d66d0e4.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T12:01:04.400

您可以在用户定义的单元格部分中创建一个 ShapeSheet-Cell，您可以在其中放置任何信息。

# c# - 如何从视图模型中获取数据到视图中

> ID：12472737
> 
> 赞同：-2
> 
> 时间：2012-09-18T08:01:49.430
> 
> 标签：c#, windows-phone-7

我之前发布了一个类似的问题，但是我在将数据从 ViewModel 获取到 View 时遇到了问题。问题在于在绑定到视图时从存储数据的对象中取出数据。我创建了一个声明 3 个项目的类，我用它们来帮助填充将绑定到视图中的 ListBox 的项目的 ObservableCollection。我不确定我是否正确地解决了这个问题，所以为了说明，我将在下面显示：

ListItem.cs（这是我为帮助填充项目集合而定义的自定义类）

```
public string Favicon
    {
        get;
        set;
    }

    public string Name
    {
        get;
        set;
    }

    public string Address
    {
        get;
        set;
    } 
```

MainPage.xaml.cs （这里我要保存要添加到 ObservableCollection 中的每个项目的数据）

```
void addToFavorites_Click(object sender, EventArgs e)
    {
        var favoriteItem = new ListItem { Favicon = "/Image/1.jpg", Name = "item1", Address = "some address" };
        Settings.FavoritesList.Value.Add(favoriteItem);            
    } 
```

Settings.cs（用于存储FavoritesList ObservableCollection的设置类）

```
public class Settings
{
    public static Setting<ObservableCollection<ListItem>> FavoritesList = new Setting<ObservableCollection<ListItem>>("Favorites", new ObservableCollection<ListItem>());
} 
```

现在我试图`FavoritesList`在我的 ViewModel 中调用这个存储的 ObservableCollection，以便我可以将它绑定到另一个页面中的视图。

主视图模型.cs

```
public ObservableCollection<ListItem> FavoriteItems { get; private set; }

public MainViewModel()
    {
        FavoriteItems = Settings.FavoritesList.Value;
    }

public event PropertyChangedEventHandler PropertyChanged;
    private void NotifyPropertyChanged(String propertyName)
    {
        PropertyChangedEventHandler handler = PropertyChanged;
        if (null != handler)
        {
            handler(this, new PropertyChangedEventArgs(propertyName));
        }
    } 
```

然后在导航到我的 FavoritesPage.xaml 时，我想将 ViewModel 绑定到要在列表框中显示的视图

收藏页面.xaml

```
<ListBox x:Name="FavoritesListBox" ItemsSource="{Binding FavoriteItems}" SelectionChanged="FavoritesListBox_SelectionChanged">

            <StackPanel Orientation="Horizontal" Margin="12,0,12,0">
                <Image x:Name="favicon" Source="{Binding Favicon}" Width="50" Height="50"/>
                <StackPanel>
                    <TextBlock x:Name="favoritesName" Text="{Binding Name}" FontSize="{StaticResource PhoneFontSizeExtraLarge}"/>
                    <TextBlock x:Name="favoritesAddress" Text="{Binding Address}" Margin="12,0,0,0"/>
                </StackPanel>
            </StackPanel>

        </ListBox> 
```

收藏夹页面.xaml.cs

```
public FavoritesPage()
    {
        InitializeComponent();

        // Set the data context of the listbox control to the sample data
        DataContext = App.ViewModel;
    } 
```

现在由于某种原因我无法设置`DataContext = App.ViewModel;`. 我相信我将问题范围缩小到最初使用 ListItem 类保存 MainPage.xaml.cs 中的值时。我不确定如何从这里填充 ListPicker？我在某处做错了什么，还是我应该做一些不同的事情来正确设置数据上下文？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:19:00.397

的设置`DataContext`看起来没有错，只要`App.ViewModel`正确设置为您的`MainViewModel`类的实例即可。

但是，您错误地定义了 ListBox XAML。

为了定义您的项目将如何显示在 a 中`ListBox`，您必须使用该`ItemsControl.ItemTemplate`属性。

```
<ListBox x:Name="FavoritesListBox" ItemsSource="{Binding FavoriteItems}" SelectionChanged="FavoritesListBox_SelectionChanged">
        <ListBox.ItemTemplate>
            <DataTemplate>    
                <StackPanel Orientation="Horizontal" Margin="12,0,12,0">
                    <Image x:Name="favicon" Source="{Binding Favicon}" Width="50" Height="50"/>
                    <StackPanel>
                        <TextBlock x:Name="favoritesName" Text="{Binding Name}" FontSize="{StaticResource PhoneFontSizeExtraLarge}"/>
                        <TextBlock x:Name="favoritesAddress" Text="{Binding Address}" Margin="12,0,0,0"/>
                    </StackPanel>
                </StackPanel>
            </DataTemplate>  
        </ListBox.ItemTemplate>
    </ListBox> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:59:57.683

在 App.xaml.cs 中执行：

```
 private static MainViewModel viewModel = null;
    public static MainViewModel ViewModel
    {
        get
        {
            // Delay creation of the view model until necessary
            if (viewModel == null)
            {
                viewModel = new MainViewModel();
            }

            return viewModel;
        }
    } 
```

在您的 Xaml 中，按照 Daniel 的建议进行操作：

```
 <ListBox x:Name="FavoritesListBox" ItemsSource="{Binding FavoriteItems}" SelectionChanged="FavoritesListBox_SelectionChanged">
    <ListBox.ItemTemplate>
        <DataTemplate>    
            <StackPanel Orientation="Horizontal" Margin="12,0,12,0">
                <Image x:Name="favicon" Source="{Binding Favicon}" Width="50" Height="50"/>
                <StackPanel>
                    <TextBlock x:Name="favoritesName" Text="{Binding Name}" FontSize="{StaticResource PhoneFontSizeExtraLarge}"/>
                    <TextBlock x:Name="favoritesAddress" Text="{Binding Address}" Margin="12,0,0,0"/>
                </StackPanel>
            </StackPanel>
        </DataTemplate>  
    </ListBox.ItemTemplate>
</ListBox> 
```

在您的 MainViewModel.cs 中执行以下操作：

```
public ObservableCollection<ListItem> FavoriteItems 
{ 
    get;
    private set;
} 
```

现在你`DataContext = App.ViewModel`应该工作了。

实施如图所示的 IS[设置](http://www.windowsphonegeek.com/tips/all-about-wp7-isolated-storage-store-data-in-isolatedstoragesettings)

# java - 在 IE10 中重新加载另一个框架时，Java Applet 失败/消失

> ID：12472738
> 
> 赞同：1
> 
> 时间：2012-09-18T08:01:54.140
> 
> 标签：java, internet-explorer, applet, internet-explorer-10

有人遇到这个问题吗？

在 IE10 中重新加载另一个框架时，小程序会消失。[我在 Java 错误数据库http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7193503](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7193503)中找到了相关的错误报告

1.  除了触发重绘（）之外还有其他解决方案吗？
2.  顺便问一下，如何对 Java Bug Database 中的 bug 进行投票？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-19T07:35:29.043

我试图触发 repaint() 仍然无法解决问题。我认为重新加载框架后小程序中的组件位置是错误的。

解决方法是通过 Javascript 调用调整窗口大小。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:11:50.900

> 除了触发重绘（）之外还有其他解决方案吗？

3个可能性跳到脑海。

1.  [使用Java Web Start](https://stackoverflow.com/tags/java-web-start/info)启动小程序自由浮动。
2.  不要使用框架。
3.  使用早期版本的 IE，或不同的 UA。

> 顺便问一下，如何对 Java Bug Database 中的 bug 进行投票？

第一步是加入OTN。请注意，OTN 成员抱怨无法访问错误数据库。

# c# - 将 json 中的对象名称添加到列表中

> ID：12472749
> 
> 赞同：0
> 
> 时间：2012-09-18T08:02:18.010
> 
> 标签：c#, asp.net, json, object, json.net

我可以知道是否可以只获取 json 中的对象名称吗？我下载以下 json 字符串并上传到 mysql，我现在想在 json 中向用户显示对象名称为 "Body": [ { "RowId": {...}}]，以下是 json 字符串,

**样品已移除**

我想显示以下内容，“Body”：[ {“RowId”：{...，

**样品已移除**

在列表框中，以便用户在上传之前可以看到，有没有办法我可以做到这一点？非常感谢你的帮助 ：）

编辑：

我想通过循环从json中提取对象名称:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:05:46.287

使用 JSON.NET 解析 JSON 字符串，提取您感兴趣的值，然后将它们放在您的 ListBox 中。

我无能为力，因为您的问题非常模糊！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:09:41.697

它不是直接可能的，您必须为其制作解析器一个提示，为您提供一种使用键值对解析的可能方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T09:03:55.370

以下代码解析 JSON 字符串并打印您要查找的值：

```
// Choose appropriate names for these classes
class Foo
{
    public Dictionary<string, string> Head { get; set; }
    public List<Bar> Body { get; set; }
}

class Bar
{
    public Dictionary<string, string> RowId { get; set; }
}

static void Main(string[] args)
{
    string json = "{  **data removed - request from owner**} }]}";
    var result = JsonConvert.DeserializeObject<Foo>(json);
    foreach (string value in result.Body.First().RowId.Keys)
    {
        Console.WriteLine(value);
    }
} 
```

很难为您提供更多帮助，因为尚不清楚您要实现的目标：如果您尝试填充 WebForms [`ListBox`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.listbox.aspx)，则可以创建一个设置[`DataSource`](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.basedataboundcontrol.datasource.aspx)属性的列表。

# opengl - 为什么在opengl对象上使用的纹理看起来质量很差并且被拉伸？

> ID：12472752
> 
> 赞同：1
> 
> 时间：2012-09-18T08:02:24.050
> 
> 标签：opengl, textures

这是我正在使用[的库的参考](http://www.chai3d.org/doc/classc_texture2_d.html)

粘贴在opengl墙上时的纹理看起来分辨率低且质量差，我该如何改善它？

代码

```
ground->m_texture = new cTexture2D();
fileload = ground->m_texture->loadFromFile(RESOURCE_PATH("resources/images/shadow.bmp"));
ground->setUseTexture(true);
ground->m_texture->setSphericalMappingEnabled(true);//this line is for circular objects, but without it texture doesnt even show up 
```

从一个例子 - 它应该如何看

![在此处输入图像描述](../Images/43b0374251d429b6b8fafb0c79515690.png)

在我的实现中看起来如何![在此处输入图像描述](../Images/01a453cc9528b3015d0f4957b8d0de35.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T13:52:11.643

好的，正在发生的事情如下：球面映射根据顶点到视口的向量和顶点处的法线生成纹理坐标，以将其映射到映射到鱼眼图像中的球面反射方向。由于您的几何图形看起来很平坦，因此此方法生成的纹理坐标的变化会很小，这意味着您在很大程度上放大了图像。如果现在您的纹理过滤模式设置为最近过滤，就会发生这种情况。

解决方案：不要使用球形纹理映射。如果要模拟反射，请使用立方体贴图（它们对于反射矢量中的小偏差表现得更好）并切换到线性过滤模式。

# sparql - 查询 dbpedia sparql 以获得更多结果

> ID：12472753
> 
> 赞同：0
> 
> 时间：2012-09-18T08:02:28.537
> 
> 标签：sparql, dbpedia

我想从 dbpedia 获取一些数据。我有实体 url，想获得一些关于本地化的信息。现在我这样调用查询：

```
PREFIX geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>
PREFIX dbo: <http://dbpedia.org/ontology/>

SELECT DISTINCT * WHERE 
{
  <{0}> rdfs:label ?label . 
    OPTIONAL {
     <{0}> geo:lat ?lat ;
     geo:long ?long .
    } .
    OPTIONAL {
     <{0}> dbo:Country ?dboCountry 
    } . 
    OPTIONAL {
     <{0}> dbpedia-owl:country ?dbpediaContry .
     ?dbpediaContry dbpprop:cctld ?ccTLD
    }. 
    OPTIONAL {
     <{0}> dbpprop:country  ?dbpropContry
    }
    FILTER ( lang(?label) = "en" )
} 
```

对于每个 url（将 {0} 替换为 url）。但我想优化它并在一个查询中获得更多实体的结果。也可以不在每一行中设置 url 吗？

问候彼得

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T20:55:08.663

嗯，看来我已经找到了这两个问题的答案。你知道吗（[http://en.wikipedia.org/wiki/Rubber_duck_debugging](http://en.wikipedia.org/wiki/Rubber_duck_debugging)）解决方案是：

```
 SELECT DISTINCT *

        WHERE {
            ?uri rdfs:label ?label .
            OPTIONAL { ?uri geo:lat ?lat .
                       ?uri geo:long ?long} .

        FILTER (?uri IN ({0}, {1}, ...)  )
        } 
```

也许它对其他人有帮助？或者也许有人知道更好的解决方案？

# c# - PorterDuff.Mode.Multiply 没有按预期工作？黑色背景而不是透明

> ID：12472758
> 
> 赞同：1
> 
> 时间：2012-09-18T08:02:54.363
> 
> 标签：c#, android, xamarin.android, alpha, porter-duff

我对 PorterDuff.Mode.Multiply 有疑问，似乎所有 Alpha 通道都设置为“黑色”。这是预期的吗？在 Photoshop / gimp 等中，效果将透明度留在应有的位置。变暗只留下透明度，但仍将效果应用于具有 RGB 的值，这就是我想要的，但具有乘法的效果。

只是 PorterDuff.Mode.Multiply 导致叠加层出现黑色背景问题。

```
Bitmap photo = ((BitmapDrawable)ivPhoto.Drawable).Bitmap;
Bitmap overlay = ((BitmapDrawable)overlay.Drawable).Bitmap;

Point ss = getScaledSize(photo.Width, photo.Height, scrSize.X, scrSize.Y);

Bitmap bresult = Bitmap.CreateScaledBitmap(photo, ss.X, ss.Y, true);

Canvas myCanvas = new Canvas(bresult);

Paint myPaintStyle = new Paint(PaintFlags.FilterBitmap);

myPaintStyle.SetXfermode(new PorterDuffXfermode(PorterDuff.Mode.Multiply));

myCanvas.DrawBitmap(
    overlay,  //img
    ivHair.GetX(), ivHair.GetY(),  //x,y
    myPaintStyle); //style

return bresult; 
```

帮助？:)

这是用于 Android 的 Mono

编辑： DstIn 具有相同的不良影响。（阿尔法是黑色的）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2019-01-18T21:51:56.093

我一整天都遇到同样的问题。我快疯了。

对我有用的是这行代码：

```
yourView.setLayerType(View.LAYER_TYPE_SOFTWARE, null); 
```

将它放在类构造函数中，现在黑色背景应该消失了。

# ios - 用 Titanium 或 Rhodes 重写原生 iOS 应用程序

> ID：12472762
> 
> 赞同：0
> 
> 时间：2012-09-18T08:03:05.607
> 
> 标签：ios, titanium, rhodes

我在 AppStore 中有一个 iOS 应用程序，不久前用 Xcode 构建，但我正在考虑从头开始重写它以消除一些错误的决定，这次使用一些跨平台框架，如[Appcelerator Titanium](http://www.appcelerator.com)或[Rhodes](http://rhomobile.com)来添加 Android 支持还。

我当前的 iOS 用户是否可以无缝升级到新版本，保留他们的用户数据（当然新应用中需要迁移器）。我想我必须在新版本中保留一些应用标识符或其他数据。

或者我应该将它创建为全新的应用程序并让用户迁移他们的数据（可能使用该`Open in...`方案）。这样做的缺点是当前用户必须重新购买该应用程序，这可能会使其中一些人离开。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:51:54.227

> 我当前的 iOS 用户是否可以无缝升级到新版本，保留他们的用户数据（当然新应用中需要迁移器）。我想我必须在新版本中保留一些应用标识符或其他数据。

原则上是可以的。您正在迁移到不同的开发平台这一事实不会影响您访问用户已经存储的数据的能力。最后，这在很大程度上取决于您如何存储该数据：如果它是 through `NSUserDefaults`，它将非常透明；如果它在 XML/JSON 文件中，您将需要向您的新应用程序添加一些 XML/JSON 解析器（前提是 Appcelerator Titanium 或 Rhodes 尚未提供）；如果是通过 sqlite，我知道，例如 Titanium 支持它；如果是通过 Core Data，也许你需要为现有数据编写某种转换器。但是，最终，这绝对是可能的。

> 或者我应该将它创建为全新的应用程序并让用户迁移他们的数据（可能使用 Open in... 方案）。这样做的缺点是当前用户必须重新购买该应用程序，这可能会使其中一些人离开。

您在这里应该考虑的是新应用程序与旧应用程序的不同之处。如果存在让您的客户群失望的风险，也许您可​​以选择单独的版本。很明显，这样做会打扰一些为旧版本付费的用户。我知道的至少一种情况下已应用的一种方案是在初始阶段免费提供该应用程序。但这是否明智完全取决于您的应用程序的前景。

也许最好的方法是争取一个大幅度改进的新版本，这样失望的客户将是最少的，并保持相同的捆绑包 ID 以实现无缝更新。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:16:12.060

我建议重构您当前的 iOS 代码库，而不是从头开始重写它。当您可以随时重构和清理代码时，从头开始重写几乎总是错误的决定。它总是比您预期的要难，花费的时间比您预期的要长，并且通常最终不会提供您预期的好处。重构更便宜、更快、更安全。

在我看来，在用户习惯于使用 Objective-C 编写的完全原生应用程序之后，使用跨平台框架重写应用程序会对用户造成伤害。丢弃代码会对自己造成伤害。糟糕的代码可以被修复，无论它现在多么丑陋。

我建议使用 Java 编写您的 Android 应用程序，并在 Android 应用程序完成后重构您的 iOS 应用程序。您可以通过这种方式为两个平台提供最佳体验。首先添加 Android 支持的原因是因为您已经在商店中有一个可以运行的 iOS 应用程序，所以您已经有 1/2 的方式存在，而无需触及跨平台框架。编写 Android 应用程序还应该让您充实有关如何重构 iOS 应用程序的想法。

至于升级您当前的用户，您需要保持捆绑 ID 相同，以便用户能够通过应用商店无缝升级。也可以升级他们的数据，但您需要提供有关该数据如何存储在当前应用程序中的更多详细信息。如果可能的话，自动升级比需要用户手动加载其设置的 Open In... 方案更可取。

# javascript - 谷歌地图。动态负载

> ID：12472765
> 
> 赞同：0
> 
> 时间：2012-09-18T08:03:16.363
> 
> 标签：javascript, google-maps, jquery-mobile, cordova

如果当时没有互联网连接 - 程序无法执行远程脚本并创建`google`对象。后来我试图像这样重新加载谷歌地图脚本：

```
if($.isEmptyObject(google)) {
    $.getScript('https://www.google.com/jsapi?sensor=true', function () {
        google.load("maps", "3");                       
    });             
} 
```

我收到这样的信息：`Google Maps API server rejected your request. within the sensor parameters must be set to true or false.`为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:06:58.250

> 我们在此示例中将传感器参数保留为变量 true_or_false，以强调您**必须**明确将此值设置为 true 或 false。

见这里：[https ://developers.google.com/maps/documentation/geocoding/](https://developers.google.com/maps/documentation/geocoding/)

根据参考，传感器参数是强制性的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T13:18:52.350

```
if($.isEmptyObject(google)) {
   $.getScript('https://www.google.com/jsapi', function () {
    google.load("maps", "3", {'other_params' : 'sensor=true' });                       
   });             
} 
```

正确使用。

# delphi - 如何在客户端上自动更新我的程序

> ID：12472769
> 
> 赞同：0
> 
> 时间：2012-09-18T08:03:44.770
> 
> 标签：delphi, delphi-2007, auto-update

> **可能重复：**
> [Delphi：您如何自动更新您的应用程序？](https://stackoverflow.com/questions/277514/delphi-how-do-you-auto-update-your-applications)

我想自动更新谁使用我们的程序。

*   我们的项目是家庭医学信息系统。
*   超过 750 名医生使用我们的计划。

当我在我们的服务器上添加新文件时，所有客户端都必须检查服务器并在找到新文件时下载它们。如果该文件存在首先杀死进程，删除文件并下载它。

直到这些天，我们目前在**Code Gear RAD Studio Delphi 2007上使用****AutoUpgrader Pro**。但是现在我们不能再使用那个系统了。

 **如前所述，我该如何自动升级？

感谢您的帮助。

注意：我们在**Delphi 2007**上的程序。

**编辑**问题**回复**：是的，我想自己做。看看这个场景。1- 我在服务器端添加了一个 .zip 文件。2- 医生，打开我们的程序时，在客户端按 OK 后，程序显示消息“更新可用，按 OK” 3- 客户端下载 .zip 文件并将其解压缩到应用程序启动位置。我如何通过 3rd 方程序做到这一点？是的**

# c# - DeviceIoControl 无法弹出非空 CDROM 驱动器？

> ID：12472770
> 
> 赞同：3
> 
> 时间：2012-09-18T08:03:49.150
> 
> 标签：c#, winapi

我尝试使用`DeviceIoControl`函数（Win32 API函数）弹出我的CDROM驱动器，当我的CDROM驱动器没有磁盘时它可以正常工作，但是插入磁盘后，`Marshal.GetLastWin32Error()`返回32（`ERROR_SHARING_VIOLATION`：进程无法访问文件，因为它正在使用由另一个进程），传入的driveHandle`DeviceIoControl`是由`CreateFile()`函数创建的。

你能帮帮我吗？我喜欢这种操作 CD ROM 相关内容的方式，我可以使用 winmm.dll 来弹出我的 CDROM，但我认为这种方式值得一试。

好的，这里是代码：

```
using System;
using System.ComponentModel;
using System.Text;
using System.Windows.Forms;
using System.IO;

using System.Runtime.InteropServices;

namespace DVD_ejector
{

    public partial class Form1 : Form
    {
        const int OPENEXISTING = 3;
        const int IOCTL_STORAGE_EJECT_MEDIA = 2967560;
        const uint GENERICREAD = 0x80000000;
        const int INVALID_HANDLE = -1;
        public Form1()
        {
            InitializeComponent();
            DriveInfo[] drs = DriveInfo.GetDrives();
            List<DriveInfo> cdRoms = new List<DriveInfo>();
            foreach (DriveInfo dInfo in drs)
            {                
                if (dInfo.DriveType == DriveType.CDRom)
                {
                    cdRoms.Add(dInfo);                    
                }                                
            }
            comboBox1.DataSource = cdRoms;               
            comboBox1.DisplayMember = "Name";

            if (comboBox1.Items.Count > 0) comboBox1.SelectedIndex = 0;
            button1.Click += (sender, e) =>
            {
                Eject(@"\\.\" + ((DriveInfo)comboBox1.SelectedItem).Name[0]+":");
            };
        }
        [DllImport("kernel32", SetLastError=true)]
        static extern IntPtr CreateFile(string fileName, uint desiredAccess, uint shareMode, IntPtr attributes,uint creationDisposition, uint flagsAndAttribute, IntPtr fileTemplate);
        [DllImport("kernel32")]
        static extern int CloseHandle(IntPtr fileHandle);
        [DllImport("kernel32")]
        static extern bool DeviceIoControl(IntPtr driveHandle, int ctrlCode, IntPtr inBuffer, int inBufferSize, IntPtr outBuffer, int outBufferSize, ref int bytesReturned, IntPtr overlapped);
        int bytesReturned;
        private void Eject(string cdDrive)
        {
            IntPtr driveHandle = CreateFile(cdDrive, GENERICREAD, 0, IntPtr.Zero, OPENEXISTING, 0, IntPtr.Zero);
            try
            {
                if((int)driveHandle != INVALID_HANDLE) 
                   DeviceIoControl(driveHandle, IOCTL_STORAGE_EJECT_MEDIA, IntPtr.Zero, 0, IntPtr.Zero, 0, ref bytesReturned, IntPtr.Zero);
            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.Message);
            }
            finally
            {
                CloseHandle(driveHandle); 
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-21T08:41:09.460

正如错误所述，该设备正在被其他东西使用，但它在`CreateFile`调用而不是 时失败`DeviceIoControl`，并且您的代码没有正确检查失败。

您遇到共享冲突的原因是因为您试图以独占方式打开设备，如果任何尝试打开设备或其中的文件（包括防病毒、资源管理器、搜索索引器等）都将失败。

此更新`Eject`的功能修复了共享模式和错误处理，现在在正确的位置报告错误。

```
private void Eject(string cdDrive) {
    IntPtr driveHandle = new IntPtr(INVALID_HANDLE);
    try {
        // Open the device
        driveHandle = CreateFile(cdDrive, GENERICREAD, FILE_SHARE_READ | FILE_SHARE_WRITE | FILE_SHARE_DELETE, IntPtr.Zero, OPENEXISTING, 0, IntPtr.Zero);
        if ((int)driveHandle == INVALID_HANDLE) { throw new Win32Exception(); }

        // Try and eject
        bool ejected = DeviceIoControl(driveHandle, IOCTL_STORAGE_EJECT_MEDIA, IntPtr.Zero, 0, IntPtr.Zero, 0, ref bytesReturned, IntPtr.Zero);
        if (!ejected) { throw new Win32Exception(); }

    } catch (Exception ex) {
        MessageBox.Show(ex.Message);

    } finally {
        if ((int)driveHandle != INVALID_HANDLE) { CloseHandle(driveHandle); }
    }
} 
```

# php - 性能调整 PHP 时间查询

> ID：12472773
> 
> 赞同：0
> 
> 时间：2012-09-18T08:04:10.510
> 
> 标签：php, mysql, date, datetime

我想知道是否可以对以下 PHP 脚本进行一些性能调整。我想要做的 - 从上午 00:00 到下午 23:30 每隔半小时进入一个选择列表。这是代码

```
<?php
$starttime = '00:00';
$time = new DateTime($starttime);
$interval = new DateInterval('PT30M');
$temptime = $time->format('H:i');
do{
   echo '<option value="">'.date("H:i a", strtotime($temptime)).'</option>';
   $time->add($interval);
   $temptime = $time->format('H:i');
}while ($temptime !== $starttime);
?> 
```

我相信有一种方法可以让我们以更简单的方式做到这一点——但我想不出。有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T08:11:10.037

除了对值进行硬编码之外，您还可以丢失所有的`DateTime`and`TimeInterval`对象并使用一个简单的循环：

```
for ($h=0;$h<24;$h++) {
    echo '<option>' + sprintf ( "%02d", $h ) + ':00</option>';
    echo '<option>' + sprintf ( "%02d", $h ) + ':30</option>';
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T08:11:46.067

如果性能是您所追求的，那么硬编码时间字符串可能是您能做的最好的事情。

既然它们不会改变，你真的不需要它们动态，对吗？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T08:11:30.810

```
foreach (range(0, 60*24, 30) as $minutes) {
    echo '<option>' . date('H:i a', strtotime('00:00 +' . $minutes . ' minutes')) . '</option>';
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-18T08:13:35.673

直到一天有 24 小时，你可以使用一个好的 ol' `for`：

```
<select>
    <?php for($i = 0; $i < 48; $i++): ?>
        <option><?php echo $i%2 == 0 ? ($i / 2) . ':00' : intval($i / 2) .':30'; ?></option>
    <?php endfor;?>
</select> 
```

# javascript - 按视觉顺序接收元素列表

> ID：12472778
> 
> 赞同：2
> 
> 时间：2012-09-18T08:04:26.683
> 
> 标签：javascript, jquery, jquery-selectors

我有一个如下所示的网格（div 容器）：

![在此处输入图像描述](../Images/efeb473fa594f9efc42a72436a9cbde7.png)

但是，div #2 可能位于 div #1 的位置，依此类推。这是通过 CSS 位置完成的，因此它们的 DOM 顺序将是相同的。我想确定他们的视觉顺序。有没有`jQuery selector`其他方法可以做到这一点？

**// 作为答案添加的解决方案**

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T08:12:37.990

用于`$(elem).position()`获取每个 div 的屏幕坐标。通过查看`top`和`left`属性，您可以推断出视觉顺序。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T08:13:52.623

我不认为这是可能的。但是您可以使用一些解决方法，例如：

1.  使用 jQuerys`css()`函数检查 div 的 CSS 位置，并检查每个 div 应用的样式。之后，将它们重新排列在一个数组中，按它们各自的 css 位置排序
2.  实际上改变元素的 DOM 位置，而不是使用 CSS 重新定位它们，使用`after()`,`remove()`和`before()`
3.  用于`position()`获取实际可见位置。对照一些边界检查这一点，并将它们在内部数组中重新排序到它们的位置

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-09-18T08:23:22.620

这是我的解决方案

```
$("#grid > div.content").sort(function(a,b){

 var atop = $(a).position().top;
 var aleft =  $(a).position().left;
 var btop = $(b).position().top;
 var bleft =  $(b).position().left;

 if(aleft == bleft && atop == btop) return 0;
 else {

      if(atop < btop) return -1
      else if( atop > btop) return 1;                   
      else { // same
           if(aleft < bleft) return -1;
           else return 1;
      }

 }

}).each( console.log($(this).attr('id')) ); 
```

# sql-server - 寻找为整个 SQL Sever 数据库创建导出脚本的工具

> ID：12472781
> 
> 赞同：2
> 
> 时间：2012-09-18T08:04:42.300
> 
> 标签：sql-server, sql-server-2008

我正在研究 MS SQL Server 2008 数据库。我拥有创建和更改表、视图、过程等的所有权利。 **但我无权导出或导入数据库。**

因此，我正在寻找一种工具，它可以为 MS SQL Server 数据库中的所有对象和所有数据行**创建一个包含所有必要的 CREATE / INSERT 语句的脚本。**

SQL Server Management Studio 可以部分执行此操作，但只能针对单个对象，不能同时针对所有对象，也不能针对数据。

有什么工具可以做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:07:44.880

右键单击企业管理器中的数据库，任务，生成脚本。按照向导。不要忘记在选项中选择“脚本数据”。另请参阅[此处](https://stackoverflow.com/questions/12140422/generating-sql-script-through-code-c-net/12140494#12140494)了解执行所需操作的 PowerShell 脚本。

# objective-c - 如何在 Mac 上获取当前设备

> ID：12472782
> 
> 赞同：1
> 
> 时间：2012-09-18T08:04:52.057
> 
> 标签：objective-c, macos, cocoa

有没有办法获取用户正在使用的设备信息？我只想知道该设备是 MacBookPro 还是 iMac。 `[[NSHost currentHost] localizedName]`用于从网络获取信息。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T09:12:13.547

You can use

```
int sysctlbyname(const char *name, void *oldp, size_t *oldlenp, void *newp, size_t newlen); 
```

Take a look at [documentation](https://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man3/sysctlbyname.3.html).

```
size_t size;
sysctlbyname("hw.model", NULL, &size, NULL, 0);
char *model = malloc(size);
sysctlbyname("hw.model", model, &size, NULL, 0);
NSLog(@"%s", model); 
```

# android - XML动态创建

> ID：12472786
> 
> 赞同：1
> 
> 时间：2012-09-18T08:05:24.607
> 
> 标签：android, xml, layout, view

我想动态创建一个 XML 布局，但我对此有疑问。

假设我有这样的东西（从“大纲”的角度看布局）：

-滚动视图

---线性布局（垂直）（LL1）

-------线性布局（水平）（LL2）

------------图像视图（IV1）

------------线性布局（垂直）（LL3）

---------------TextView

---------------TextView

所以我的问题是我会从最内部的布局（LL3）开始并添加2个TextView，然后向上分支（到LL2，然后是LL1，然后是ScrollView）并添加到其他视图和布局？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:41:55.033

我相信你可以通过几种方式做到这一点。我没有尝试过动态创建这样的整个层次结构，但我已经多次以这种方式添加按钮、单选按钮、文本视图和其他视图。在这些情况下，我刚刚使用`AddView()`.

我认为最简单的方法是“自上而下”地创建它，即创建第`ScrollView`一个并添加任何设置，然后向下添加其他视图。我通常会做这样的事情：

```
// Call other methods to create the views first:
ScrollView myScrollView = createMainScrollView();
LinearLayout myHorizontalLayout = createLinearLayoutForAbc();
LinearLayout myOtherLayout = createLinearLayoutForXyz();
TextView myFirstTxt = (...)
(..etc..) 
```

现在以正确的方式填充它们：

```
myScrollView.addView(myHorizontalLayout);
myHorizontalLayout.addView(myOtherLayout);
(..etc..) 
```

注意：我*相信*这应该有效，但我不能保证；如果在添加到外部视图后对内部视图的引用不再正确（例如，`myHorizontalLayout`不再是对 下的实际视图的有效引用`myScrollView`），您可能无法将子视图添加到该内部视图。不过，不确定这一点。

（如果是这样，您*可能会*尝试`findViewByName()`在添加每个视图后使用获取新的正确引用，但我认为这不是最佳解决方案）。

我会先尝试第一种方法——至少做一个概念证明，看看你可以在至少三层深的层次结构中添加视图。那应该会给你答案。如果它不起作用*，*我想我会尝试按照您在问题中建议的相反顺序添加它们，只是为了看看这是否有效（也许只是在我的第二个代码块中切换顺序？）。

抱歉回答的不准确，希望对大家有所帮助。

# python - 如何在 Django 中打印“进程状态”？

> ID：12472789
> 
> 赞同：2
> 
> 时间：2012-09-18T08:05:28.117
> 
> 标签：python, django, asynchronous, django-views, progress

在我的一个视图中，我有几个步骤，他们使用 5 或 7 分钟来完全完成，所以我想知道是否有办法在浏览器中打印视图的状态，例如：

“计算模型……” “后处理模型……” “制作数据库……” “清理旧表……”

有没有办法做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T08:36:46.747

如此繁重的任务可能不应该成为 django 观点的一部分。您可能想研究[django celery](http://ask.github.com/django-celery/)以进行异步任务管理。

但是，您可以通过轮询服务器来做类似的事情。简单的设置，使用[短轮询](http://reallifejs.com/brainchunks/repeated-events-timeout-or-interval/)（基本上是一个 javascript 循环，每 i 秒触发一次对服务器的 ajax 请求，检索状态响应*，您可以使用它向用户显示任何内容）。

**你必须设置一个 url 和函数来以某种方式计算状态，或者如果你使用 celery，你可以使用它的异步结果*

# sql - 是否可以从子查询中获取多个值？

> ID：12472792
> 
> 赞同：36
> 
> 时间：2012-09-18T08:05:36.980
> 
> 标签：sql, oracle

有没有办法让子查询在 oracle db 中返回多个列？（我知道这个特定的sql会导致错误，但它很好地总结了我想要的）

```
select
    a.x,
    ( select b.y, b.z from b where b.v = a.v),
from a 
```

我想要这样的结果：

```
a.x | b.y | b.z
---------------
1   | 2   | 3 
```

我知道可以通过连接来解决这个问题，但这不是我想要的。

我的问题很简单，是否有任何方法可以从子查询中获取两个或多个值？也许使用双重的一些解决方法？这样就没有实际的连接，而是每行都有一个新的子查询？

编辑：这是一个原则问题。我知道，您可以使用 join 解决所有这些问题。您根本不需要这样的子查询（甚至一列也不需要）。但他们在那里。那么我可以以这种方式使用它们还是根本不可能？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-09-18T08:08:43.450

这是不正确的，但你可以试试这个：

```
select
    a.x,
    ( select b.y from b where b.v = a.v) as by,
    ( select b.z from b where b.v = a.v) as bz
from a 
```

您还可以在连接中使用子查询

```
 select
        a.x,
        b.y,
        b.z
    from a
    left join (select y,z from b where ... ) b on b.v = a.v 
```

或者

```
 select
        a.x,
        b.y,
        b.z
    from a
    left join b on b.v = a.v 
```

* * *

## 回答 #2

> 赞同：23
> 
> 时间：2012-09-18T09:26:06.030

与您的情况一样，Select 子句中的子查询也称为标量子查询，这意味着它是一种表达形式。这意味着它只能返回一个值。

恐怕您不能从单个标量子查询返回多个列，不。

以下是有关 Oracle 标量子查询的更多信息：

[http://docs.oracle.com/cd/B19306_01/server.102/b14200/expressions010.htm#i1033549](http://docs.oracle.com/cd/B19306_01/server.102/b14200/expressions010.htm#i1033549)

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2012-09-18T10:15:08.690

这里有两种方法可以在标量子查询（或内联子查询）中获取多于 1 列，并且只查询一次查找表。这有点令人费解，但在某些特殊情况下可能非常有效。

1.  您可以使用串联来[一次获取多个列](http://sqlfiddle.com/#!4/52586/2)：

    ```
    SELECT x, 
           regexp_substr(yz, '[^^]+', 1, 1) y,
           regexp_substr(yz, '[^^]+', 1, 2) z
      FROM (SELECT a.x,
                   (SELECT b.y || '^' || b.z yz
                      FROM b
                     WHERE b.v = a.v)
                      yz
              FROM a) 
    ```

    您需要确保列表中没有任何列包含分隔符。

2.  您还可以使用[SQL 对象](http://sqlfiddle.com/#!4/54958/1)：

    ```
    CREATE OR REPLACE TYPE b_obj AS OBJECT (y number, z number);

    SELECT x, 
           v.yz.y y,
           v.yz.z z
      FROM (SELECT a.x,
                   (SELECT b_obj(y, z) yz
                      FROM b
                     WHERE b.v = a.v)
                      yz
              FROM a) v 
    ```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-09-18T08:10:24.590

你不能像这样使用 JOIN 吗？

```
SELECT
a.x , b.y, b.z 
FROM a 
LEFT OUTER JOIN b ON b.v = a.v 
```

（我不知道Oracle语法。所以我写了SQL语法）

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2014-05-19T10:56:20.480

在 Oracle 查询中

```
select a.x
            ,(select b.y || ',' || b.z
                from   b
                where  b.v = a.v
                and    rownum = 1) as multple_columns
from   a 
```

可以转化为：

```
select a.x, b1.y, b1.z
from   a, b b1
where  b1.rowid = (
       select b.rowid
       from   b
       where  b.v = a.v
       and    rownum = 1
) 
```

当我们想防止表 A 的重复时很有用。同样，我们可以增加表的数量：

```
.... where (b1.rowid,c1.rowid) = (select b.rowid,c.rowid .... 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2017-06-20T12:11:53.683

你可以使用`cross apply`：

```
select
    a.x,
    bb.y,
    bb.z
from
    a
    cross apply
    (   select b.y, b.z
        from b
        where b.v = a.v
    ) bb 
```

如果没有从**b到从****a**到马赫行的行，则`cross apply`不会返回行。如果您需要这样的行，请使用`outer apply`

**如果您只需要为a**中的每一行找到一个特定的行，请尝试：

```
 cross apply
    (   select top 1 b.y, b.z
        from b
        where b.v = a.v
        order by b.order
    ) bb 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-06-20T12:01:33.613

查看此网站： [http ://www.w3resource.com/sql/subqueries/multiplee-row-column-subqueries.php](http://www.w3resource.com/sql/subqueries/multiplee-row-column-subqueries.php)

使用示例

```
select ord_num, agent_code, ord_date, ord_amount  
from orders  
where(agent_code, ord_amount) IN  
(SELECT agent_code, MIN(ord_amount)  
FROM orders   
GROUP BY agent_code); 
```

# mysql - MYSQL：在同一个“单元格”中插入繁体中文和简体中文

> ID：12472795
> 
> 赞同：2
> 
> 时间：2012-09-18T08:05:45.537
> 
> 标签：mysql, character-encoding

新手来了！

我的源数据在同一个“单元格”中包含简体中文和繁体中文（对不起，使用 Excel 的新手在这里说话！），我正在尝试使用“加载数据文件”将其加载到 MYSQL 中。

结尾的结尾是“广州音乐芝华士新混合酒吧的行行色色男女” 它有简体中文（“广”）和繁体中文（“华”）。

当我将它加载到 MySQL 中时，我收到以下错误：

> 错误代码：1366。不正确的字符串值：'\xF0\xA3\x8E\xB4\xE8\x83...' for column > 'Description' at row 2

数据库的排序规则是 UTF-8 默认排序规则，输入文件也是 UTF-8 编码的。

有什么办法可以：

a) 让 SQL 接受这行数据（理想），或者 b) 让 SQL 跳过插入这行数据？

谢谢！如果您需要更多详细信息，请告诉我。

凯文

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-20T23:19:55.403

如果出错了，那是因为不在 Unicode 的基本多语言平面中；它位于补充多语言平面中，它高于 U+FFFF，在 UTF-8 中占用 4 个字节而不是 3 个。完全符合 Unicode 实现对它们的处理没有区别，但 MySQL charset utf8 不接受 U+FFFF 以上的字符。如果您有最新版本的 MySQL，您可以 ALTER TABLE 以使用正确处理所有 Unicode 字符的 utf8mb4。有一些变化需要注意，因为 MySQL 为每个字符分配 4 个字节而不是 3 个；有关详细信息，请参阅[http://dev.mysql.com/doc/refman/5.5/en/charset-unicode-upgrading.html](http://dev.mysql.com/doc/refman/5.5/en/charset-unicode-upgrading.html)。

这个问题是[Inserting UTF-8 encoded string into UTF-8 encoded mysql table failed with "Incorrect string value"](https://stackoverflow.com/questions/11936950/inserting-utf-8-encoded-string-into-utf-8-encoded-mysql-table-fails-with-incorr)的重复。

# excel - 电子表格公式（数学）

> ID：12472805
> 
> 赞同：-4
> 
> 时间：2012-09-18T08:06:08.303
> 
> 标签：excel

这纯粹是一道数学题！

我根本无法理解这个公式。它是如此简单，但我无法让它正常工作。

我有 2 列数字。

*   A+B 列是苹果的全部数量 (100%)。
*   A 列：是我吃过的苹果的数量。
*   B列：是剩下的苹果数。

我需要将 C 列作为完整数字中未包含的苹果的百分比。

例如。

```
 A   B   C
 0   3   100%
 5   0   0%
 2   2   50% 
```

任何人都可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:10:09.600

总计 = A + B

遗漏苹果 = B

遗漏苹果的百分比 = (B / Total) * 100

因此，公式如下： **C 列 = ((B 列) / (A 列 + B 列) * 100)**

以下是您应该在 Excel 中输入的内容：

```
=(B1/(A1+B1))*100 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:10:53.087

A = 吃掉的苹果数，B = 剩下的苹果数。A+B = 苹果的总数。所以总没有。剩余的苹果数量为 (A+B)-A/100。

# java - 将参数链接到函数

> ID：12472815
> 
> 赞同：0
> 
> 时间：2012-09-18T08:07:01.393
> 
> 标签：java, android

我经常看 API 说 android api，你可以在参数之间添加一个管道来组合它们。说 *CENTER_VERTICAL|CENTER_HORIZONTAL*。这是怎么做的？谁能给我看一个例子，我可以将多个参数传递给如上链接的函数？我如何阅读它们？

亲切的问候

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-09-18T08:07:52.343

竖线实际上是按位或，因此该方法仅在参数是“标志”或位字段时才有效。

例如

```
private static final int FLAG1 = 0x01;
private static final int FLAG2 = 0x02;

callFunc(FLAG1|FLAG2); // (passes 0x03) 
```

如果 args 只是“任何旧的 int”，它可能不会像你想的那样：

例如

```
callFunc(0x03|0x01); // passes 0x03 - so the 0x01 does nothing. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T19:09:26.243

这就像我想要的。找到了答案，所以我想我会回答我自己的问题。

```
 public static final int a=1
   public static final int b=2;
   public static final int c=4;
   public static final int d=8;

    myfunction(a|b);

    myfunction(int x)
    {
       if((a&x)==a)
       {
          //Do whatever a stands for, and so on.
       }

      if((b&x)==b)
      { 
      }

      if((c&X)==c)
      {
      }

      if(d&x))==d)
      {
      }

    }

} 
```

# qt - Qt 平方单选按钮

> ID：12472817
> 
> 赞同：3
> 
> 时间：2012-09-18T08:07:13.187
> 
> 标签：qt, radio-button

我想创建一个方形单选按钮，按钮内有文本。那可能吗？我认为可以通过 css 更改按钮形状，但是文本呢？

有什么提示吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T08:35:48.447

与其试图将 QRadioButton 变形为在视觉上类似于 QPushButton 的东西，我会简单地使用带有一些自定义逻辑的 QPushButton。

那时您不必担心视觉方面，而逻辑本身并不难编写。

正如@besworland 所说，QPushButton 继承自 QAbstractButton，它已经可以选择是否可检查。您可以通过[`setCheckable(bool)`](http://qt-project.org/doc/qt-4.8/qabstractbutton.html#checkable-prop).

要模仿一组 QRadioButtons 的“独占”行为，您可以将您的按钮添加到 QButtonGroup 并使其成为独占的。如[文档中所述，](http://qt-project.org/doc/qt-4.8/qbuttongroup.html) *“独占按钮组会关闭所有可检查（切换）按钮，但单击的按钮除外。”* 您可以为此使用 QButtonGroup 的[`setExclusive(bool)`](http://qt-project.org/doc/qt-4.8/qbuttongroup.html#exclusive-prop)方法。

无论如何，我会考虑那些比转换 QRadioButton 以满足您的需求更简单的选择。

# java - 并非所有由 toJson() 序列化的字段

> ID：12472827
> 
> 赞同：2
> 
> 时间：2012-09-18T08:08:21.377
> 
> 标签：java, json, gson

我正在使用`Gson 2.2`'s`toJson()`方法将 java 对象序列化为 json 字符串。java 对象的类型为：

```
public class LOB implements Serializable{
    private int id;
    private LOBType type; 

    private TypeSpecificData data;

    public class TypeSpecificData {
        private String a;
        private int b;
    } 

} 
```

对象的所有字段都被序列化，除了`data`type 的字段`TypeSpecificData`。

如何在 json 字符串中也包含此字段？

目前我正在序列化，如下所示：

```
String jsonString = new Gson().toJson(lob_instance); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T08:36:22.493

默认情况下，Gson 不会序列化 null 对象引用。请检查一下。

[链接到 GSON 文档](https://sites.google.com/site/gson/gson-user-guide#TOC-Null-Object-Support)

# java - 设置、初始化 Junit 测试

> ID：12472828
> 
> 赞同：7
> 
> 时间：2012-09-18T08:08:27.377
> 
> 标签：java, unit-testing, testing, junit

我正在尝试测试我的 3 个以不同方式对字符串数组进行排序的类！

我知道有一种方法可以初始化一个数组，然后在我的每一个测试中使用它们。

到目前为止，这是我的代码：

```
public class SortingTest {

    public insertionSort is = new insertionSort();
    public bubbleSort bs = new bubbleSort();
    @Test
    public void testBubbleSort() {
        String [] sortedArray ={"Chesstitans", "Ludo", "Monkey", "Palle"};
        bs.sort(sortedArray);
        assertArrayEquals(sortedArray, x);
    }
    @Test
    public void testInsertionSort() {

    }
    @Test
    public void testMergeSort() {

    }
    @Test
    public void testSelectionSort() {

    }
    @Before
    protected void setUp() throws Exception{
        String[]x ={"Ludo", "Chesstitans", "Palle", "Monkey"};
    }
} 
```

尽管我已经尝试了 setUp 和 initialize 方法，但它似乎没有找到 x 我做错了什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-09-18T08:10:51.057

你需要做`x`一个类的成员变量`SortingTest`

```
public class SortingTest {  

    private String[] x; 

    @Before
    public void init() {
      x = new String {"Ludo", "Chesstitans", "Palle", "Monkey"};
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-09-18T08:10:51.903

`setUp`应该初始化一些*字段*成员，以便其他方法可以访问它。如果你初始化一个局部变量，当你退出 setUp 变量时它会丢失。

在这种情况下，好事将有两个成员：

*   原始数组
*   排序数组

在每种测试方法中，您都可以对 originalArray 进行排序并将结果与​​您已经排序的Array 进行比较。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-06T08:57:11.397

您需要创建`x`一个类的成员，以便它在所有方法中都可见。

# ember.js - 当重新呈现视图集合时，bindAttr 调用错误“TypeError：elem is undefined”

> ID：12472833
> 
> 赞同：2
> 
> 时间：2012-09-18T08:08:45.447
> 
> 标签：ember.js

我正在使用`Ember.CollectionView`一个`itemView`包含`{{bindAttr class="App.offersController.filters.profile:selected"}}`.

当`App.offersController.filters`发生变化时，collectionView 会重新渲染每个 itemView。

当我使用时`{{bindAttr class="App.offersController.filters.profile:selected"}}`，我在第 18675 行收到错误`TypeError: elem is undefined`，Ember 尝试更改被旧视图破坏的属性。

在 Ember 的代码中，我看到了评论：

> 如果我们再也找不到该元素，则父模板已被重新渲染，我们已经被核弹了。移除观察者。

它在我使用时有效`{{App.offersController.filters.profile}}`，但不适用于`{{bindAttr class="App.offersController.filters.profile:selected"}}`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T10:06:09.227

将您的 ember.js 更新为最新版本，因为 ember.10.pre 中存在问题。请参考[这里](https://github.com/emberjs/ember.js/issues/1307)

# linq - 在存储过程上使用 LINQ 进行分页？

> ID：12472834
> 
> 赞同：4
> 
> 时间：2012-09-18T08:08:46.893
> 
> 标签：linq, entity-framework, stored-procedures, pagedlist

有没有一种方法可以使用类似以下代码的代码对数据进行分页，而无需将整个数据集加载到程序中？

```
var r = from c in entities.GetSearchData(null,"en",null,true) select c;
IPagedList<Models.SearchResult> results = r.ToPagedList<Models.SearchResult>(1, 10); 
```

我正在尝试使用带有 LINQ 的存储过程来获得分页结果。（顺便说一句，上面的代码给出了“查询的结果不能多​​次枚举。”错误）。可能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-09T13:48:24.857

目前无法使用实体框架进行测试，但常规 LINQ-to-SQL 允许以下语句：

```
var rpage1 = entities.GetSearchData(null,"en",null,true).Skip(0).Take(10)
var rpage2 = entities.GetSearchData(null,"en",null,true).Skip(10).Take(10)
var rlist = rpage1.ToList(); 
```

LINQ 将生成一个子句，如

```
WHERE [t1].[ROW_NUMBER] BETWEEN @p0 + 1 AND @p0 + @p1 
```

在我的情况下，结果查询是（GetConstantsValues 是一个存储过程）：

```
SELECT [t1].[value] AS [Value]
FROM (
    SELECT ROW_NUMBER() OVER (ORDER BY [t0].[value]) AS [ROW_NUMBER], [t0].[value]
    FROM [dbo].[GetConstantsValues](@p0) AS [t0]
    ) AS [t1]
WHERE [t1].[ROW_NUMBER] BETWEEN @p1 + 1 AND @p1 + @p2
ORDER BY [t1].[ROW_NUMBER] 
```

所以只有相关的结果被加载到程序中。

我认为，EF 应该与它相差不大。可能是错的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-26T09:55:06.293

无需返回 LINQ to SQL。您可以进行一些调整。使用实体框架，存储过程的结果是 的集合`ObjectSet`，因此不允许多次枚举，除非我们将其转换为普通的可枚举集合。

处理这种情况的最简单方法如下，

```
var r = from c in entities.GetSearchData(null,"en",null,true) select c;
IPagedList<Models.SearchResult> results = 
    r.ToList().ToPagedList<Models.SearchResult>(1, 10); 
```

这里 r.ToList() 创造了魔力，代码可以毫无问题地工作！！

注意*：我知道这是很老的帖子，但我想帮助那些来这里寻求帮助的人！

# ruby-on-rails - Gem 不在 Rails 项目中工作，但在 ruby 文件中工作

> ID：12472835
> 
> 赞同：0
> 
> 时间：2012-09-18T08:08:48.390
> 
> 标签：ruby-on-rails

当我从我的 rails 项目中将 test.rb（见下文）作为单独的 ruby​​ 文件运行时，它工作正常，但是当我将它包装为要从控制器调用的模块时，它给了我：

```
LoadError (no such file to load -- eventmachine):1 in 'ModuleTest' 
```

gem 已安装（sudo gem install event machine 和 bundle install）并添加到 gem 文件中（gem 'eventmachine'）。

有人可以告诉我我错过了什么吗？

单独的文件（通过：$ ruby​​ lib/test.rb 调用）：

```
require 'rubygems'
require 'eventmachine'
require 'em-http'
require 'fiber'

def doStuff
end

doStuff 
```

模块：

```
require 'eventmachine'
require 'em-http'
require 'fiber'

module ModuleTest
def doStuff
end
end 
```

控制器：

```
require 'moduletest'

class MyController < ApplicationController
doStuff
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:20:43.477

添加

```
gem 'eventmachine' 
```

进入你的`Gemfile`. 然后执行`bundle install`.

如果你想在你的 Rails 项目中使用一个新的 gem，你需要将它添加到`Gemfile`. 要了解更多信息，请访问[http://gembundler.com/](http://gembundler.com/)

# types - Groovy 混合类型

> ID：12472836
> 
> 赞同：1
> 
> 时间：2012-09-18T08:08:49.623
> 
> 标签：types, groovy, groovy-2

我看到从 Groovy 2.0 开始，可以`TypeChecked`向类或方法添加注释以触发[可选的静态检查](http://www.infoq.com/articles/new-groovy-20)。

我必须承认，我对这样的事情如何运作感到困惑。文章给出了简单的例子，例如

```
@TypeChecked
Date test() {
    // compilation error:
    // cannot assign value of Date 
    // to variable of type int
    int object = new Date()

    String[] letters = ['a', 'b', 'c']
    // compilation error:
    // cannot assign value of type String 
    // to variable of type Date
    Date aDateVariable = letters[0]

    // compilation error:
    // cannot return value of type String 
    // on method returning type Date
    return "today"
} 
```

在这种情况下，很明显某些检查会失败。但在一般情况下，会`A`在类型检查的方法内部使用方法的返回值，即未类型检查的返回值`B`。在这种情况下，我看不到编译器如何确定方法`B`类型是否一致，因为它没有足够的关于方法返回值的信息`A`。

> 一般而言，如何在不丢失类型安全的情况下对代码子集启用类型检查？

**编辑**

我试着举个例子。如果我有一个旧班级怎么办

```
class Old {
  public getFoo() {
    return 1
  }
} 
```

并尝试从经过类型检查的代码中使用它，例如

```
@TypeChecked
class New {
  int doubleFoo() {
    return 2 * (new Old().foo)
  }
} 
```

编译器只是不知道该怎么做，我猜它会编译失败（我这里没有安装 Groovy2 来检查）。但如果是这种情况，那么使用任何在 Groovy2 之前编写的代码都会成为问题。所以我想象一些更复杂的事情已经完成，但我不确定是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:50:18.277

不存在这样的问题。如果您从未经检查的类中调用方法，则使用声明的返回类型，并且行为与使用 Groovy 中的 Java 方法完全相同。

举个例子：

```
class A {
   int foo() { 1 }
}

@TypeChecked
class B {
   void bar() {
       int x = new A().foo() // uses the type from A.foo, correct
   }
} 
```

现在，想象一下：

```
class A {
   Date foo() { new Date() }
}

@TypeChecked
class B {
   void bar() {
       int x = new A().foo() // uses the type from A.foo, foo returns a Date, the compiler throws an error
   }
} 
```

请注意，通常，如果您的代码严重依赖于类型检查器显然无法检查的动态代码，则您可以在单个类中使用混合类型检查。例如，如果您依赖构建器，就会出现这种情况。如果是这样，那么您只需将使用构建器的方法声明为未检查，然后检查其余代码。只要未经检查的方法返回兼容的类型，就可以保证类型安全。

# python - 管理.py sqlall 不创建列

> ID：12472840
> 
> 赞同：1
> 
> 时间：2012-09-18T08:09:30.267
> 
> 标签：python, django, postgresql, django-models

`orgname = models.CharField(max_length=50)`我在我的models.py中添加了一个现有的类，然后我跑`python manage.py syncdb`了，但发现它没有创建列（顺便说一下，我使用的是PostgreSQL），所以我需要这样做`python manage.py sqlall <myapp>`，它输出了以下内容：

```
BEGIN;
CREATE TABLE "file_uploader_files" (
    "id" serial NOT NULL PRIMARY KEY,
    "file" varchar(100) NOT NULL,
    "orgname" varchar(50) NOT NULL
)
;
COMMIT; 
```

然而，当我进入 Django 的 shell 或查看 pgAdmin3 时，仍然没有创建该列。我究竟做错了什么？我会手动添加它，但我不确定如何添加。

PS 该表已经预先创建，文件 varchar, orgname 是在我最初创建该列之后出现的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:19:38.693

的文档[`sqlall command`](https://docs.djangoproject.com/en/1.4/ref/django-admin/#sqlall-appname-appname)说：

> 打印给定应用名称的 CREATE TABLE 和初始数据 SQL 语句。

它打印 SQL，它不运行任何东西。Django 永远不会修改你的模式，你需要自己做——上面的输出可以帮助你显示 orgname 字段的类型。或者使用类似 South 的东西。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:27:52.590

另请参阅此 SO 问题：[更新 django 数据库以反映现有模型的更改](https://stackoverflow.com/questions/1985383/update-django-database-to-reflect-changes-in-existing-models)（前两个答案涵盖了您的问题）。

从[接受的答案](https://stackoverflow.com/a/1985409/1431750)：

> 注意：syncdb 无法更新您现有的表。有时不可能自动决定要做什么——这就是为什么南方脚本如此出色。

在[另一个答案](https://stackoverflow.com/a/1992512/1431750)中......

> ```
> python manage.py reset <your_app> 
> ```
> 
> 这将更新您的应用程序的数据库表，但会完全破坏这些表中存在的所有数据。

# foursquare - 将来自foursquare场所的图像拉到合并的照片流中

> ID：12472843
> 
> 赞同：1
> 
> 时间：2012-09-18T08:09:37.050
> 
> 标签：foursquare

是否有可能（使用 API）从用户在场所签到时提取所有图像，并将它们提供到不同物理位置的屏幕以及网站上？理想情况下，图像会在从场地上传时被实时提取。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-19T16:45:09.363

是的。API 调用场所/VENUE_ID/photos 将让您获取场所的照片。此外，使用“组”参数将允许您检索朋友添加的照片（包括他们最近签到的照片）或检索非朋友添加到场地的公开照片。创建对 API 响应的 AJAX 请求将允许您以看起来是实时（或非常接近实时）的方式收集照片。

# c# - 从 app.config 以外的文件初始化 BasicHttpBinding 对象？

> ID：12472844
> 
> 赞同：0
> 
> 时间：2012-09-18T08:09:37.463
> 
> 标签：c#, xml, plugins, dynamics-crm-2011, basichttpbinding

我目前有 C# 中的代码，需要一个`BasicHttpBinding`对象来连接到 SSRS。就目前而言，我使用代码中分配的值初始化此对象，而不是从其中读取它`app.config`（这是因为我正在部署的平台 MS CRM 2011 不提供对`app.config`文件的读取权限。事实上，我不要认为`app.config`文件甚至被复制到服务器）。

我想让这个绑定可以在不重新编译的情况下进行编辑，以便可以在不同的客户处轻松安装该解决方案。我能想到的最简洁的方法是将绑定配置存储在网络资源中（对于非 CRM 人员，这只是存储在 CRM 中的文件的名称，您可以从代码中访问），但我不是确定将配置解析为`BasicHttpBinding`对象的最佳方法吗？手动解析它并设置属性似乎效率低下且不是很健壮。

有什么方法可以为我获取 .NET（类似于`BasicHttpBinding(string)`构造函数，但由于我无权访问 app.config，这不是一个选项）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T10:11:38.053

鉴于此配置的（可能）低波动性，您能否在插件注册步骤中将其存储在插件安全/不安全配置中？在运行时访问它比连接到 CRM 以检索 Web 资源的内容要快得多。当然，这意味着您需要插件注册工具和系统管理员才能进行更改，但这也意味着任何敏感数据都会被用户混淆。插件的 App.config 确实不可用 - 但这就是插件步骤中的配置部分的用途。

就使用构造函数而言，`BasicHttpBinding` 听起来您正在寻找一种方法，只需传递配置部分的键名即可为您完成所有构造函数的魔法。我不相信这是可能的，但无论如何，您关于“*手动解析它并设置属性似乎效率低下*”的建议可能是没有根据的——毕竟这正是本机构造函数最终将要做的事情。把它藏在一个函数后面，你永远不会知道它在那里；）

我之前已在插件中连接到 SSRS Web 服务（请注意 - 由于服务未公开，CRM Online 不支持 :( ）并且我采用了我常用的存储配置的方法，如上所述，在插件配置中，然后将其读入然后在运行时解析出`XmlDocument`实例化对象/设置属性所需的值。

只要对插件的*所有*请求的配置都是相同的，您还可以通过将配置值（不是连接本身）设置为插件中的类级别属性来潜在地提供一些效率（即使这在SDK - 但这是由于线程安全性，这不应该是诸如此类的“静态”配置值的问题），并且如果它们尚未设置，则仅从配置中读取值。

# java - threadPoolExecutor outOfMemoryException

> ID：12472857
> 
> 赞同：0
> 
> 时间：2012-09-18T08:10:42.230
> 
> 标签：java, multithreading, concurrency

我有一个带有 run 方法的类，并且该类的 main 方法中的计时器正在使用以下代码调用该类：

```
Timer timer = new Timer();
timer.scheduleAtFixedRate(new LegacySmsSender(), 0, 2*1000); 
```

在运行方法中，我声明了一个 ThreadExecutorPool：

```
ThreadPoolExecutor packetProcessorThreadPool =
        new ThreadPoolExecutor(4,
                                4,
                                Long.MAX_VALUE,
                                TimeUnit.DAYS,
                                new LinkedBlockingQueue<Runnable>(),
                                new MyThreadFactory("packetProcessorThreadPool")
                                ); 
```

我创建了 4 个 PacketProcessor，`new PacketProcessor()`并在列表中执行 `packetProcessorThreadPool.submit`并保存它们的`Future`返回。然后我等待所有这些循环完成：

```
for(Future<?> f:packetProcessorList)
{
   System.out.println("before f.get() "+new Date());
   f.get();
} 
```

在这些 PacketProcessor 类的 run 方法中，它们声明了一个 ThreadPoolExecutor 并创建和提交数量在 1-5000 之间的线程（通常创建 6-7 个线程），PacketProcessor 中的 threadPoolExecutor 代码是这样的：

```
ThreadPoolExecutor commonThreadPool =
        new ThreadPoolExecutor(
                        20,
                        20,
                        Long.MAX_VALUE,
                        TimeUnit.DAYS,
                        new LinkedBlockingQueue<Runnable>(),
                        new MyThreadFactory("commonThreadPool")); 
```

最后，我运行了大约 20 分钟，我检查了 VisualVM，我的内存使用量和活动线程数一直在上升。问题是什么 ？

**注意：请随时向我询问更多信息或问题**

这是带有一些信息的屏幕截图：

![在此处输入图像描述](../Images/59d175a85548596bd5c2fa91cfc643a2.png)

**编辑1：**

我进行了 270 MB 的堆转储。我找到了 160mb 的 char[] 。我发现像 1000-2000 千个查询字符串。我使用 StringBuilder 构建查询字符串。为什么他们没有获得 GCed ？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:17:01.210

执行器应该在应用程序启动时声明一次并重用。否则，您还不如按需创建单独的线程。如果您在应用程序执行期间不断创建新的执行程序，它们的线程将继续运行，因此线程数将不断增加。

因此，只需使用 DI 框架创建执行器并将它们注入到您的代码中。或者，如果它是一个小项目，请将它们放在一个静态字段中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:20:21.770

> 在运行方法中，我声明了一个 ThreadExecutorPool

如果您在每 2 秒执行一次的 run 方法中声明 ThreadExecutorPool，您将在几分钟内获得许多线程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T08:30:27.120

The problem is that you've told all of the `ExecutorService`s that you create to make threads and then keep them alive forever. This is very plainly obvious in the code:

```
new ThreadPoolExecutor(
                        20,
                        20,
                        Long.MAX_VALUE,
                        TimeUnit.DAYS,
                        new LinkedBlockingQueue<Runnable>(),
                        new MyThreadFactory("commonThreadPool")); 
```

The third and fourth arguments basically say "keep idle threads alive for (practically) infinity days".

You can solve this in a couple ways:

1.  Call `ExecutorService.shutdown` on the executor instances when you are done passing them tasks.
2.  The best solution, use a single `ScheduledExecutorService` and a more reasonable task distribution logic to limit the number of threads and drive up performance by preventing thread context switching.

# zend-framework - Zend 尝试加载不正确的布局

> ID：12472859
> 
> 赞同：0
> 
> 时间：2012-09-18T08:10:49.187
> 
> 标签：zend-framework, layout

我们在 bootstrap.php 中设置布局如下。

```
Zend_Layout::startMvc(array(
    'layoutPath' => '../application/views/scripts/index/',
    'layout' => 'wrapper'
)); 
```

当我们第一次访问一些页面时，Zend 试图加载一个不正确的布局脚本。之后，它正在加载正确的布局。

例如。当我们访问商店页面时，它会尝试加载 /application/views/scripts/index/stores.phtml。但是没有这样的脚本。然后它正在加载正确的布局并正常工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T09:40:19.367

我认为您混淆了布局和视图。

布局通常不存储在视图/脚本中。

如果您正在加载控制器，Zend 的 MVC 会寻找正确的视图。如果未找到它，则返回错误，除非您禁用控制器中的视图。

我认为你应该仔细看看[http://framework.zend.com/manual/1.12/en/learning.quickstart.create-layout.html](http://framework.zend.com/manual/1.12/en/learning.quickstart.create-layout.html)

您还应该考虑使用 zf 'tool' 来设置您的项目。这应该可以节省您的时间和痛苦。

如果您想要更详细的答案，您应该提供有关您的项目设置和一些错误消息的更多详细信息。

# path - 获取多语言别名。- drupal_get_path_alias

> ID：12472863
> 
> 赞同：0
> 
> 时间：2012-09-18T08:10:55.320
> 
> 标签：path, drupal-7, multilingual

我正在尝试创建一个多语言站点，以下代码输出我的主菜单，但是当用户切换语言时，链接将保留为英语。我正在使用 i8ln 和实体翻译。这两个节点存在，那么如何检索多语言页面的链接？我认为 drupal_get_path_alias() 可以通过切换语言来工作。代码如下。

```
<ul id="main-menu">

      <?php

foreach($main_menu as $index)
{

dsm($index);

$path = file_create_url($index['menu_icon']['path']);

$class = $index['attributes']['class'][0];

$current = "node/".$node->nid;

$lang_name = $language->language ;

$linky = drupal_get_path_alias($index['href'], $lang_name);

if ($current == $index['href']) {
$class .= " selected";
};
   print '<li class="'.$class.'">
   <img src="'.$path.'" alt="icon-rockfall" />

   <a class="'.$class.' textlink" href="/'.$linky.'">'.$index['title'].'</a></li>';

   }

            ?>
         </ul>
       </nav>
      <?php endif; ?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-13T13:45:40.257

我有同样的问题，我用下面的代码解决了它：

```
<?php
  global $language;
  $url = url('node/1', array('language' => $language));
?> 
```

使用可用的全局 $language 对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-03-09T06:39:46.310

这对我有用：

```
<?php
    global $language;
    $url_nodo = url('node/' . $id_nodo, array('language' => $language));
    $url_path = drupal_get_path_alias($url_nodo);
?> 
```

# java - 为自定义对话框调用按钮事件

> ID：12472865
> 
> 赞同：0
> 
> 时间：2012-09-18T08:11:03.210
> 
> 标签：java, android

我正在尝试调用自定义对话框中的按钮单击事件。这是我的自定义对话框代码

```
protected Dialog onCreateDialog(int id) {
    Dialog dialog;
    switch(id) {
        case MY_DIALOG:
            dialog= getInstanceMyDialog();
            break;
        default:
            dialog = null;
    }
    return dialog;
}

private Dialog getInstanceMyDialog() {
    final Dialog bookMarkDialog= new Dialog(this,R.style.BookmarkDialogNoTitle);
    bookMarkDialog.setContentView(R.layout.bookmark_dialog);
    return bookMarkDialog;
} 
```

我的对话框添加和取消中有两个按钮。我不知道在哪里触发按钮单击事件。

请帮我。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:19:09.787

```
private Dialog getInstanceMyDialog() {
  final Dialog bookMarkDialog= new Dialog(this,R.style.BookmarkDialogNoTitle);
  bookMarkDialog.setContentView(R.layout.bookmark_dialog);

  Button addButton = (Button)bookMarkDialog.findViewById(R.id.dialogAddButton);
  addButton.setOnClickListener(new OnClick .........)
  ......... same for cancel.

  return bookMarkDialog;
} 
```

没有测试它，但应该可以工作:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:18:48.670

您可以放大视图并设置按钮的侦听器。

```
private Dialog getInstanceMyDialog() {
    final Dialog bookMarkDialog= new Dialog(this,R.style.BookmarkDialogNoTitle);
    LayoutInflater inflater = (LayoutInflater)context.getSystemService(Activity.LAYOUT_INFLATER_SERVICE);
    View contentView = inflater.inflate(R.layout.bookmark_dialog, root);
    /// set the listener for your buttons.
    Button button1 = (Button) contentView.findViewById(R.id.button1);
    button1.setOnItemClickListener(this);

    bookMarkDialog.setContentView(contentView);
    return bookMarkDialog;
} 
```

# javascript - 如何从 RCP 中的文本字段中提取值并将其放入 Javascript 代码中？

> ID：12472870
> 
> 赞同：1
> 
> 时间：2012-09-18T08:11:14.683
> 
> 标签：javascript, html, eclipse-rcp

我正在创建一个 RCP 应用程序，它从文本字段中获取源和目标，并在不同的视图中使用 Google Maps API 提供方向。我有调用 API 的 javascript 代码，但我需要从我的 RCP 文本字段中获取源和目标，而不是在 HTML 文件中指定。如何从这些字段中提取值并放入 javascript 代码中？

如果有人可以分享他们的想法，我将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-20T11:02:10.360

我不确定你被困在哪里..但希望这会有所帮助

```
Text sourceText = new Text(...);
Text destinationText = new Text(...);

//To get value from this text 

String source = sourceText.getText();
String destination = destinationText .getText(); 
```

但问题似乎如此微不足道，我怀疑这是你想要的..

# php - 用于获取未提交特定周时间的用户数据的 SQL 查询？

> ID：12472871
> 
> 赞同：0
> 
> 时间：2012-09-18T08:11:24.770
> 
> 标签：php, mysql, sql

我有两张表，一张包含用户信息，另一张输入了如下几周的时间！

```
Table1
------
UserID (PK)
Username
Email
Phone

Table2
------
Timesheetid (PK)
UserID (FK)
Weekenddate(date)
Totaltimeworked 
```

从上面的表格中，我想根据周末日期（在搜索字段中选择周末日期并且未硬编码）从表 1 中为尚未在表 2 中输入信息的用户检索用户 ID、用户名和电子邮件。

请帮助我使用 SQL 查询来创建此表。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:31:52.377

**[在SQL Fiddle](http://sqlfiddle.com/#!2/20237/3)**上试试这个工作代码。由于您没有发布任何数据和列定义，我假设`weekenddate`它是一个 varchar。

在条件下用您的参数值`Weekenddate = 'sunday' OR Weekenddate = 'saturday'`替换*星期日*和*星期六*的值。事实上，您只需要使用条件子句中的一个，因为您只有一个带有周末值的参数。然后只需将代码包装成

```
`INSERT INTO your_new_table (UserID, Username)` 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:17:42.067

考虑到您的 Totaltimeworked 列是最新的：

```
CREATE TABLE newTable(
  UserID int not null,
  Weekenddate date not null,
  FOREIGN KEY(UserID) REFERENCES Table1(UserID)
    ON DELETE CASCADE ON UPDATE CASCADE
);
INSERT INTO newTable (UserID, Weekenddate) 
    (SELECT (UserID, Weekenddate) FROM Table2 WHERE Totaltimeworked > 0); 
```

或者，如果您只针对 1 个特定周，请不要将 Weekenddate 添加到 newTable 并将查询修改为

```
INSERT INTO newTable (UserID)
    (SELECT (UserID) FROM Table2 WHERE Totaltimeworked > 0
         AND Weekenddate = 'year-month-day'); 
```

# qt - 在 Windows 7 上添加对 Qt 应用程序的 glib-2.0 支持

> ID：12472872
> 
> 赞同：3
> 
> 时间：2012-09-18T08:11:26.383
> 
> 标签：qt, window, qt-creator, qmake, glib

我正在使用在 Windows 7 上运行的 Qt Creator 2.4.1（Qt 4.7.4（32 位））

如何将 glib-2.0 添加到我的 Qt Creator 环境中，以便应用程序可以通过以下行找到它：

```
 PKGCONFIG += glib-2.0 
```

在他们的 .pro 文件中？

我已经从[http://www.gtk.org](http://www.gtk.org)下载了 libglib-2.0-0.dll，但是我应该把文件放在`C:\QtSDK`哪里？

# windows - IE8 不发送 Accept-Encoding: gzip, deflate

> ID：12472874
> 
> 赞同：3
> 
> 时间：2012-09-18T08:11:42.683
> 
> 标签：windows, internet-explorer, gzip

紧接着这个问题[SSRS IE8 JavaScript Error Invalid Character ScriptResource.axd](https://stackoverflow.com/questions/8939854/ssrs-ie8-javascript-error-invalid-character-scriptresource-axd)我已经做了一些调试，并将问题缩小到 gzip、deflate 问题。

我们有各种安装了 IE8 的机器。问题是，通过 ScriptResource.axd 请求 JavaScript 资源时，某些 IE 安装似乎没有添加 Accept-Encoding: gzip, deflate 到 HTTP 请求标头。

这是机器 1 的 HTTP 请求（工作正常）：

```
GET http://10.x.x.x6/Reports_2/ScriptResource.axd?d=dz2_T_-skCIGFrM350LrrgpIbuyQ3hv0Po2nyTqnjMC_h2orbb8AW34-wlapNOlKQn3w_65Hv8xicNrMgbLAWsuKLkB24a0JnVTM3AD64R_ELK1K6KpCKGgYkO_evQ1uY6IeQkuEpQDrHclftKpS0G8rnJM1&t=4d63fd9d HTTP/1.1
Accept: text/html, application/xhtml+xml, */*
Accept-Language: en-GB
User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)
Accept-Encoding: gzip, deflate
Proxy-Connection: Keep-Alive
Authorization: Negotiate TlRMTVNTUAADAAAAGAAYAJIAAAAYABgAqgAAABgAGABYAAAAEAAQAHAAAAASABIAgAAAABAAEADCAAAAFYKI4gYBsR0AAAAP5M9BpXhDtQyLRxQO0MslBkQARQBOAEIASQBHAEgAUwBIAEkAUgBFAGEAbAB5ADgANgA3ADcANwBEAEMAQwAwADEAOQA4ADgAOAAW1o72sWx0hAAAAAAAAAAAAAAAAAAAAAD8+dJyp0KpjG5sP9WUlmrk4FptdhpYQAEETsImSmR+ZzMapF8Z91Wv
Host: 10.x.x.x6 
```

这是从机器 2 发出的相同请求（不能作为它返回的 gzip 压缩数据）：

```
GET http://10.x.x.x6/Reports_2/ScriptResource.axd?d=dz2_T_-skCIGFrM350LrrgpIbuyQ3hv0Po2nyTqnjMC_h2orbb8AW34-wlapNOlKQn3w_65Hv8xicNrMgbLAWsuKLkB24a0JnVTM3AD64R_ELK1K6KpCKGgYkO_evQ1uY6IeQkuEpQDrHclftKpS0G8rnJM1&t=4d63fd9d HTTP/1.1
Accept: image/gif, image/jpeg, image/pjpeg, image/pjpeg, application/x-shockwave-flash, application/x-ms-application, application/x-ms-xbap, application/vnd.ms-xpsdocument, application/xaml+xml, application/vnd.ms-excel, application/vnd.ms-powerpoint, application/msword, */*
Accept-Language: en-gb
User-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; .NET4.0C; .NET4.0E; BRI/2)
Authorization: Negotiate TlRMTVNTUAADAAAAGAAYAIIAAAAYABgAmgAAABgAGABIAAAAEAAQAGAAAAASABIAcAAAAAAAAACyAAAABYKIogUBKAoAAAAPRABFAE4AQgBJAEcASABTAEgASQBSAEUAagBvAG4AOQA0ADYAMQA0AEQAQwBDADAAMQAzADUANgA2APyGLo3yOcCnAAAAAAAAAAAAAAAAAAAAABccpJT8TohKqbhq3PzWDPApr1NmEypAPg==
Connection: Keep-Alive
Pragma: no-cache
Host: 10.x.x.x6 
```

问题似乎是 IE 没有请求 gzip 压缩的数据，但它实际上是从服务器获取 gzip 压缩的数据（然后它失败了，因为它不认为它的 gzip 压缩）。如果我手动解压缩使用 zcat 或其他东西返回的数据，我可以很好地查看返回的 JavaScript。

什么会导致 IE8 不将此标头添加到请求中？

# php - 从表中选择唯一值

> ID：12472882
> 
> 赞同：2
> 
> 时间：2012-09-18T08:12:38.843
> 
> 标签：php, mysql

大家好，我有一个 mysql 数据库表，如下所示

```
 date                  id                   name 

   2012-09-18               1                     A
   2012-09-18               2                     B
   2012-09-18               1                     C
   2012-09-17               1                     D
   2012-09-17               1                     A
   2012-09-17               2                     A
   2012-09-16               1                     A
   2012-09-16               1                     E 
```

ID = 1 的期望结果

```
 DATE                  UNIQUES
   2012-09-18               1      
   2012-09-17               1  
   2012-09-16               2 
```

文字描述

我想计算按日期分组的每个 id 的唯一名称。例如。9月16日 uniques =2 因为 A、E 在此表中 9 月 16 日之前不会出现。9月17日 uniques =1，因为 D 在此表中 9 月 17 日之前未出现，而 A 已在 9 月 16 日出现。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T09:07:41.780

```
SELECT
`date`,
SUM(CASE WHEN EXISTS(SELECT 1 FROM yourTable u2 WHERE u1.date > u2.date AND u1.name = u2.name) THEN 0 ELSE 1 END) AS uniques
FROM
yourTable u1
WHERE id = 1
GROUP BY 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T12:40:22.603

```
create table t (d date, id integer, name varchar(30));

insert into t (d, id, name) values
('2012-09-18', 1, 'A'),
('2012-09-18', 2, 'B'),
('2012-09-18', 1, 'C'),
('2012-09-17', 1, 'D'),
('2012-09-17', 1, 'A'),
('2012-09-17', 2, 'A'),
('2012-09-16', 1, 'A'),
('2012-09-16', 1, 'E')
;

select d as `DATE`, count(*) as UNIQUES
from (
    select name, min(d) as d
    from t
    where id = 1
    group by name
    ) s
group by `DATE`
order by `DATE` desc
;
+------------+---------+
| DATE       | UNIQUES |
+------------+---------+
| 2012-09-18 |       1 |
| 2012-09-17 |       1 |
| 2012-09-16 |       2 |
+------------+---------+ 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-18T09:34:18.990

我的建议：

```
SELECT `date`,
       Sum(CASE
             WHEN so_far = 1 THEN 1
             ELSE 0
           end) AS UNIQUES
FROM   (SELECT a.`date`,
               a.id,
               a.name,
               Count(DISTINCT b.`date`) AS so_far
        FROM   srctable AS a
               JOIN srctable AS b
                 ON ( a.id = b.id
                      AND a.name = b.name
                      AND a.`date` >= b.`date` )
        GROUP  BY a.`date`,
                  a.id,
                  a.name) AS tab
WHERE  id=1
GROUP  BY `date` 
```

由于它不相关，因此应该具有相当不错的性能。

**编辑**

受环境的启发，我修改了我的查询，事实上还有一个需要改进的地方。

```
SELECT a.`date` AS adt,
       Sum(CASE
             WHEN b.`date` IS NULL THEN 1
             ELSE 0
           end) AS unq
FROM   some_table AS a
       LEFT JOIN some_table AS b
              ON ( a.id = b.id
                   AND a.name = b.name
                   AND a.`date` > b.`date` )
WHERE  a.id = 1
GROUP  BY a.`date`,
          a.id; 
```

如有疑问，您可以检查[sqlfiddle](http://sqlfiddle.com/#!2/e180a/2)并最终与其他建议的解决方案进行比较。

# device - 两个通过 RS-485 通信的 LPC1765 设备

> ID：12472883
> 
> 赞同：0
> 
> 时间：2012-09-18T08:12:42.383
> 
> 标签：device, communication, lpc, rs485

我正在尝试使用 RS-485 在两个 LPC1765 设备之间实现简单的通信。我正在使用这个添加到我的菜单系统的示例（这是 LPC17xx 的基本示例）：

```
http://www.codeforge.com/read/155431/rs485.c__html
http://www.codeforge.com/read/155431/rs485.h__html
http://www.codeforge.com/read/155431/rs485test.c__html 
```

因此，两个设备都使用 RS485Init() 正确初始化。当我使用从地址作为第一个字节的 RS485Send 发送数据时，结果是：

(1) 如果设备断开，发送器接收到自己的通信（UARTBuffer 的内容被更新

(2) 如果设备已连接，则没有任何反应——传输的缓冲区在某处丢失（UARTBuffer 不变）

现在硬件应该已正确连接，所以我将列出一些内容以供参考。RS485_TXD/RXD上有一个U59 SN65HVD1781D驱动，有RS485_OF、RS485_MASTER_PWR和RS485_MASTER_MFAS和一个稳压器。有一个 RS485 从检测电路和 UP/DOWN 连接。每个设备都连接了四个触点，它们是（我认为）RS485_UP、RS485_A+、RS485_B- 和 RS485_DOWN。顶部和底部都有一个 4 针连接器，用于按顺序连接设备，如果一切正常，最顶部的设备将承担所有底部设备的主机状态。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-21T13:12:26.393

我让 RS485 工作。

[在http://www.nxp.com/documents/user_manual/UM10360.pdf](http://www.nxp.com/documents/user_manual/UM10360.pdf)使用 LPC17xx 用户手册

在函数 RS485Init 的 rs485.c 中，方向控制位错误的是 PINSEL1 而不是 PINSEL4；根据手册页 110，这应该是正确的（嗯，您可以通过多种方式编写 0x800，但这只是一个快速修复）：

```
if (DIR_CTRL == 1){
  LPC_PINCON->PINSEL4 |= 0x800;         
  LPC_UART1->RS485CTRL |= (RS485_DCTRL|RS485_SEL|RS485_OINV);
}else{
  LPC_PINCON->PINSEL4 |= 0x8000;            
  LPC_UART1->RS485CTRL |= (RS485_DCTRL|RS485_SEL|RS485_OINV);
} 
```

第二台设备收到了我的缓冲区。

# css - 如何修复“display:table-column”的背景颜色

> ID：12472884
> 
> 赞同：0
> 
> 时间：2012-09-18T08:12:42.887
> 
> 标签：css, tablecolumn

我如何固定每列的背景颜色高度...我为每列使用了不同的背景颜色。如果我在 div 中添加了长文本，而不是相同行 div 的背景显示为空白。我需要在那里显示背景颜色。我试过 height:100% .. 但没有工作。而且我无法将高度固定在尺寸上。因为有些文字很长。

```
<style type="text/css">
  .divTable
  {
    font-family:Arial; font-size:12px;
    display:  table;
    width: 685px;
    border:1px solid  #666666;
    border-spacing:1px;
    /*cellspacing:poor IE support for  this*/
    /* border-collapse:separate;*/
  }
  .headRow
  {
    background:#D8DEEA; 
    display:table-row;
   }
  .divRow
  {
    display:table-row;
    width:auto;
  }
  .bgColorGray
  {
    background:#ccc;
  }
  .bgColorf2
  {
    background:#E0E0E0;
  }
  .bgColorEA
  {
    background:#EAE9E9;
  }
  .bgColorf5
  {
    background:#f5f5f5;
  }
  .divCell
  {
    float:left;/*fix for  buggy browsers*/
    display:table-column;
    width:150px;
    padding: 10px;
    height:100%;
  }
  .divCellTitle
  {
    float:left;/*fix for  buggy browsers*/
    display:table-column;
    width:150px;
    text-align:center;
    font-weight:bold;
  }
</style>

<div class="divTable">
<div class="headRow">
    <div class="divCellTitle">Company</div>
    <div class="divCellTitle">Q1</div>
    <div class="divCellTitle">Q2</div>
    <div class="divCellTitle">Q3</div>
</div>
<div class="divRow ieclear">
    <div class="divCell bgColorGray">Microsoft</div>
    <div class="divCell bgColorf2"></div>
    <div class="divCell bgColorEA">50.2</div>
    <div class="divCell bgColorf5">30.2</div>
</div>
<div class="divRow ieclear">
    <div class="divCell bgColorGray">Google</div>
    <div class="divCell bgColorf2">30.2</div>
    <div class="divCell bgColorEA">50.2</div>
    <div class="divCell bgColorf5">Test Line Test Line Test lien line two </div>
</div>
<div class="divRow ieclear">
    <div class="divCell bgColorGray">Microsoft</div>
    <div class="divCell bgColorf2"></div>
    <div class="divCell bgColorEA">50.2</div>
    <div class="divCell bgColorf5">30.2</div>
</div>
<div class="divRow ieclear">
    <div class="divCell bgColorGray">Google</div>
    <div class="divCell bgColorf2">30.2</div>
    <div class="divCell bgColorEA">50.2</div>
    <div class="divCell bgColorf5">Test Line Test Line Test lien line two </div>
</div>

</div> 
```

# drag-and-drop - 在 SQLite DB 中使用 Drag-Sort ListView

> ID：12472888
> 
> 赞同：3
> 
> 时间：2012-09-18T08:12:47.283
> 
> 标签：drag-and-drop, android-listview, android-arrayadapter, listactivity, android-sqlite

[我正在尝试使用 SQLite DB 和Drag-Sort ListView](https://github.com/bauerca/drag-sort-listview)创建一个简单的待办事项列表应用程序。

现在，我正在使用 SimpleCursorAdapter 将 SQLite 数据库游标中的数据绑定到 ListView 中，并使用 EditText 视图添加项目，如本[教程](http://developer.android.com/training/notepad/notepad-ex1.html)中所述。

我已将所有内容移到一个活动中，并将普通 ListView 与 Drag-Sort ListView 交换。我的问题是将数据库和 Drag-Sort ListView 连接在一起。DLSV 演示使用预定义的数组来填充 DSLV。

片段形式 DSLV：

```
 DragSortListView lv = (DragSortListView) getListView(); 
    lv.setDropListener(onDrop);
    lv.setRemoveListener(onRemove);

    array = getResources().getStringArray(R.array.jazz_artist_names);
    list = new ArrayList<String>(Arrays.asList(array));

    adapter = new ArrayAdapter<String>(this, R.layout.list_item1, R.id.text1, list);
    setListAdapter(adapter); 
```

我现有代码的片段：

```
 mDbHelper = new NotesDbAdapter(this);
    mDbHelper.open();
    ...
    mDbHelper.createNote(noteName, "");
    fillData();

    private void fillData() {
  // Get all of the notes from the database and create the item list
  Cursor c = mDbHelper.fetchAllNotes();
  startManagingCursor(c);

  String[] from = new String[] { NotesDbAdapter.KEY_TITLE };
  int[] to = new int[] { R.id.text1 };

   // Now create an array adapter and set it to display using our row
   SimpleCursorAdapter notes =
     new SimpleCursorAdapter(this, R.layout.notes_row, c, from, to);
     setListAdapter(notes);
   } 
```

谢谢你，对不起，如果这没有多大意义。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-04T08:38:43.913

由于您无法重新排序 Cursor 中的项目，因此您必须在 Cursor 位置和 ListView 位置之间创建映射。这是由[DragSortCursorAdapter](http://bauerca.github.com/drag-sort-listview/reference/com/mobeta/android/dslv/DragSortCursorAdapter.html)类和子类为您完成的，以便直观地维护拖放重新排序。如果您需要持久化新订单（如数据库），那么您必须自己实现该逻辑。[getCursorPositions()](http://bauerca.github.com/drag-sort-listview/reference/com/mobeta/android/dslv/DragSortCursorAdapter.html#getCursorPositions%28%29)方法将帮助您解决此问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-07-18T11:22:37.990

我已经使用了拖动排序列表视图。太奇妙了！但我没有使用 dragsortcursoradapter，而是创建了自己的技巧。这里是。

我所做的是，每当我交换任何项目时，我都会将数组中的新交换列表传递给数据库，删除表并重新创建新的更新表。这是我的代码 这是我的数据库处理程序中的代码片段

```
public void onUpdateToDoTable(ArrayList<Task> taskList) {
    SQLiteDatabase db = this.getWritableDatabase();
    db.execSQL("DROP TABLE IF EXISTS " + TABLE_TASKTODO);
    String CREATE_TASK_TODO_TABLE = "CREATE TABLE IF NOT EXISTS "
            + TABLE_TASKTODO + "(" + SEQ_ID + " INTEGER PRIMARY KEY,"
            + TASK_NAME + " TEXT )";
    db.execSQL(CREATE_TASK_TODO_TABLE);
    for (int i = 0; i < taskList.size(); i++) {
        ContentValues values = new ContentValues();
        values.put(TASK_NAME, taskList.get(i).getTask());
        db.insert(TABLE_TASKTODO, null, values);
    }
    db.close();
} 
```

然后在使用 drop listener 时，我调用了上述方法..

```
private DragSortListView.DropListener onDrop = new DragSortListView.DropListener() {
    @Override
    public void drop(int from, int to) {
        Task item = adapter.getItem(from);
        adapter.notifyDataSetChanged();
        adapter.remove(item);
        adapter.insert(item, to);
        db.onUpdateToDoTable(list);
        Log.d("LIST", db.getAllToDoTasks().toString());
    }
}; 
```

db 是我的数据库处理程序对象。整个源代码可在[dragdroplistview 获得](https://github.com/bauerca/drag-sort-listview)。惊人的例子。这对我来说是救命稻草。再见！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-11-26T14:06:03.747

[https://github.com/jmmcreynolds/dslv-db-demo](https://github.com/jmmcreynolds/dslv-db-demo)上有一个 github 项目

此演示包含一个工作示例，说明如何设置 DragSortListView，它将您对列表所做的更改（位置、添加/删除）保存到数据库中。

我刚刚用过。它完美的演示项目可用于将 DSLV 与 SQLiteDB 一起使用。

感谢 github 用户 jmmcreynolds。

# java - 如何以编程方式获取 google play 中的下载次数

> ID：12472890
> 
> 赞同：0
> 
> 时间：2012-09-18T08:12:52.703
> 
> 标签：java, javascript, android, jquery

我已经在 Google Play 中上传了我的 Android 应用程序...下载我的应用程序在 Google Play 中显示的任何内容...我需要在我的网站中进行计数。所以，请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:37:23.517

抱歉，这是不可能的。您可以获得的唯一指示是它已被下载之间的范围。例如在 50 - 100 之间。

# javascript - 用 javascript 绘制彩色散点图

> ID：12472893
> 
> 赞同：0
> 
> 时间：2012-09-18T08:13:06.847
> 
> 标签：javascript, highcharts

我需要一个像这样的散点图：[http](http://www.highcharts.com/demo/scatter) ://www.highcharts.com/demo/scatter但是，我需要为每个元素选择颜色，而不是为每个系列（男性和女性，在示例中）使用一种颜色。按照这个例子，每个人都将根据他们的年龄被涂上不同级别的灰色。

据我所知，Highcharts 允许您选择元素的颜色，但它只影响您使用散点图时的元素弹出信息。

还有其他库可以做散点图吗？有什么办法可以用 Highcharts 做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T08:57:05.007

您应该能够使用数组`color`内的属性在Hightcharts 中执行此操作`data`。

[您可以在此处](http://api.highcharts.com/highcharts#series.data)查看文档，并且还有一个[示例](http://jsfiddle.net/gh/get/jquery/1.7.2/highslide-software/highcharts.com/tree/master/samples/highcharts/point/color/)。

您可以尝试预处理`data`并转换它，将信息附加`color`到数组中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:59:59.393

我在几个 javascript 项目中使用过[AMCharts](http://www.amcharts.com/)，它们包括散点图，并且快速且易于实现。

如果您对图表画布角落中的他们的名字感到满意，他们会提供免费版本。

要设置特定点的颜色，您可以设置`color`a 的属性`GraphDataItem`- 如本文档[http://www.amcharts.com/docs/v.2/javascript_reference/graphdataitem](http://www.amcharts.com/docs/v.2/javascript_reference/graphdataitem)

# c++ - 如何在不打开串口的情况下使用boost创建串口

> ID：12472894
> 
> 赞同：0
> 
> 时间：2012-09-18T08:13:20.730
> 
> 标签：c++, linux, boost, serial-port

一直在搜索谷歌和 SO，但我似乎无法找到解决方案。

```
boost::shared_ptr<boost::asio::serial_port> port (new boost::asio::serial_port(*ioService, "/dev/ttyS1")); 
```

这样端口就被创建并立即打开，这不是我想要的，我需要现在创建它，但设置所有选项并稍后打开它。我怎样才能做到这一点？

我阅读了手册，`basic_serial_port`似乎有一个构造函数，它只使用 ioService 创建一个端口，但是，我不知道如何去做并将它用于我的应用程序。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:25:35.480

在 C++ 中要做的正确事情之一是[RAII](https://stackoverflow.com/questions/395123/raii-and-smart-pointers-in-c)（资源获取就是初始化），这是正确的事情，有很多充分的理由——所以我认为你可能*不应该*做你想做的事情。

您能否将`nullptr`/ null 智能指针传递给串行端口，直到您真正要打开它？

# c# - 部分类继承

> ID：12472901
> 
> 赞同：4
> 
> 时间：2012-09-18T08:14:02.247
> 
> 标签：c#, windows-phone-7, inheritance

我正在为 windows phone 制作一个单位转换器，但我在类继承方面遇到了一些问题。

我的课程`Measurement`应该是我程序中图形内容的顶级课程。

```
public class Measurement : PhoneApplicationPage
{
    public void Convert(object give)
    {
        supervar.Comparer(this);
    }
    public WindowsPhoneControinput supervar { get; set; }
} 
```

`Measurement`不包含任何图形内容，但它的子类包含；这就是我遇到困难的地方。

子类:`Lengthco`和需要继承，`Weigthco`但编译器说：`Volumeco``Measurement`

```
"Partial declarations declarations of 'Phoneapp1.Lengthco' Must not specify different base classes". 
```

为什么会这样？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-09-18T08:17:38.393

这是因为 XAML 代码继承自另一个类：

```
<UserControl x:Class="myNamespace.MyControl">
    ....
</UserControl> 
```

结果是

```
public partial class MyControl : UserControl
{
    //...
} 
```

如果你想从另一个基类继承控件，你也必须在 XAML 中使用它：

```
<Measurement x:Class="myNamespace.MyControl">
    ....
</Measurement> 
```

```
public partial class MyControl : Measurement 
{
    //...
} 
```

# webkit - Opera浏览器中的Webkit样式表错误

> ID：12472902
> 
> 赞同：0
> 
> 时间：2012-09-18T08:14:02.767
> 
> 标签：webkit, opera

尝试在 Opera 12 浏览器上运行 html5 文件时出现以下错误：

-webkit-transition 是一个未知属性
-webkit-transition: opacity 0.5s ease-in-out 0s;
------------------------------------^ 链接样式表 mycsspage.css:21

如何解决这个问题？

谢谢斯内哈
_

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T10:52:30.310

如果属性以 -webkit- 开头，则意味着您正在使用一些实验性代码，这些代码通常只能在基于 WebKit 的浏览器（Safari、Chrome）中运行，并在其他任何地方导致错误或警告。

**在注意到这个错误并提出这个问题时，你做对了——现在你可以了解一些关于 CSS 是如何开发的简单的事情，以及如何安全地使用实验性和即将推出的功能。**

第一：为什么这段代码是“实验性的”？这是因为有经验的 web 开发人员和计算机专家坐在一起为 CSS 规划新功能，但他们仍在试图弄清楚它应该如何工作。随着时间的推移，他们尝试了不同的关键字和语法（讨论诸如“应该说“缓进出”还是“进出”之类的细节？）。在这样做的同时，他们还希望在现实世界中进行一些测试并从真正的开发人员那里获得反馈，因此他们鼓励 Chrome 和 Opera 等网络浏览器支持未完成的内容 - 但带有**前缀**. 前缀 -webkit- 然后表示“这是一个临时实现，我们不确定任何其他浏览器是否会理解“ease-in-out”指令，因为我们还没有完成决定，但您可以将其测试为只要您了解它是暂时的，如果我们改变主意，您可能需要稍后返回并修复您的代码”。

要正确执行此操作，您需要对这个 CSS 功能是否仍处于试验阶段进行一些研究。您正在尝试使用 CSS 过渡，因此您可以看看这个：

[http://caniuse.com/#feat=css-transitions](http://caniuse.com/#feat=css-transitions)

在这里，您可以看到浏览器和版本表。您会看到哪些版本需要像 -webkit- 、 -ms- 、 -moz- 或 -o- 这样的前缀（分别用于 Safari/Chrome、Internet Explorer、Firefox 和 Opera）。

在这种情况下，最新版本的 Internet Explorer、Firefox 和 Opera 支持这个*没有*前缀的 CSS 指令，这基本上意味着“我们认为我们现在已经讨论完了这个问题，很确定它会永远这样。如果你写只是'过渡'现在你不必回来修复你的代码，因为我们改变了主意。”

另一方面，基于 WebKit 的浏览器仍然需要 -webkit- 前缀。所以你应该做的是确保你添加这个指令两次 - 一次带有 -webkit- 前缀，然后是一行没有前缀。像这样：

```
-webkit-transition: opacity 0.5s ease-in-out 0s;
transition: opacity 0.5s ease-in-out 0s; 
```

如果您感觉非常彻底并且想要支持旧的 Firefox 和 Opera 版本，您还可以添加 -moz- 和 -o- 行。

如果您确保代码看起来像这样，您现在可以忽略警告。你已经处理了它警告你的问题。

# html - Twitter Bootstrap：大多数与 IE 相关的问题发生在本地服务器中

> ID：12472903
> 
> 赞同：0
> 
> 时间：2012-09-18T08:14:05.597
> 
> 标签：html, css, internet-explorer-8, twitter-bootstrap

在遇到很多 IE 问题几天后，我发现该脚本在我的 Localhost 中无法正常工作。

这是复制我的问题：下载原始引导程序（带有文档）在本地主机上运行文档，并将文档上传到“在线”服务器上。

而且我看到了几种不同的布局，例如子菜单上没有箭头等...但是在线文档没有问题

知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:17:08.903

检查你的路径？如果图像未显示，则听起来它们不在正确的位置。如果您的 localhost 未正确设置，例如，`/`使用查找根目录可能无法将您带到您期望的位置。如果您有 Firebug，请尝试使用它检查元素并查看它在哪里寻找图像/样式/js 并检查您的路径是否正确。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:56:13.233

如果你还有 IE8 请尝试下载： [https ://github.com/twitter/bootstrap/zipball/master](https://github.com/twitter/bootstrap/zipball/master)

并尝试在您的 IE8 本地运行 docs/components.html

# android - 按钮位置在运行时更改

> ID：12472904
> 
> 赞同：0
> 
> 时间：2012-09-18T08:14:14.300
> 
> 标签：android, button, android-emulator

我正在为 android 创建一个应用程序，其中我面临一种奇怪的问题。问题是我将按钮放置在屏幕中央，在文件的图形布局中以相同的方式显示，但是当我在模拟器中运行应用程序时，按钮更靠近右侧而不是居中. 谁能指出问题。

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:panel="http://schemas.android.com/apk/res-auto"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="#CCC"
android:orientation="vertical" >

<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <org.miscwidgets.widget.Panel
        android:id="@+id/mytopPanel"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:paddingBottom="4dip"
        panel:animationDuration="1000"
        panel:closedHandle="@drawable/top_switcher_collapsed_background"
        panel:content="@+id/mypanelContent"
        panel:handle="@+id/mypanelHandle"
        panel:linearFlying="true"
        panel:openedHandle="@drawable/top_switcher_expanded_background"
        panel:position="top" >

        <Button
            android:id="@+id/mypanelHandle"
            android:layout_width="fill_parent"
            android:layout_height="33dip"
            android:paddingRight="50dp" />

        <LinearLayout
            android:id="@+id/mypanelContent"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical" >

            <EditText
                android:id="@+id/editTextUserName"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_margin="3dp"
                android:layout_marginTop="6dp"
                android:hint="@string/editUserName" >
            </EditText>

            <EditText
                android:id="@+id/editTextPassword"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_margin="3dp"
                android:hint="@string/editUserPwd" >
            </EditText>

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:background="#323299"
                android:gravity="center"
                android:padding="4dip"
                android:text="@string/drpDwnTxt"
                android:textColor="#eee"
                android:textSize="16dip"
                android:textStyle="bold" />
        </LinearLayout>
    </org.miscwidgets.widget.Panel>

    <EditText
        android:id="@+id/editTextNumber"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_margin="3dp"
        android:layout_marginTop="6dp"
        android:hint="@string/editNumber" >
    </EditText>

    <EditText
        android:id="@+id/editTextMessage"
        android:layout_width="fill_parent"
        android:layout_height="100dp"
        android:layout_margin="3dp"
        android:hint="@string/editPwd" >
    </EditText>

    <Spinner
        android:id="@+id/spinnerGateway"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:drawSelectorOnTop="true"
        android:entries="@array/spinnerList"
        android:prompt="@string/spinnerPrompt" />

    <Button
        android:id="@+id/btnSend"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_margin="3dp"
        android:onClick="save"
        android:text="@string/StrbtnSend" >
    </Button>
</LinearLayout>

</FrameLayout> 
```

![在此处输入图像描述](../Images/8603210aa7890fecb8cee5f9d317a7f2.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:57:49.257

请尝试使用此代码进行更改

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:panel="http://schemas.android.com/apk/res-auto"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="#CCC"
android:orientation="vertical" >

<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <org.miscwidgets.widget.Panel
        android:id="@+id/mytopPanel"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:paddingBottom="4dip"
        panel:animationDuration="1000"
        panel:closedHandle="@drawable/top_switcher_collapsed_background"
        panel:content="@+id/mypanelContent"
        panel:handle="@+id/mypanelHandle"
        panel:linearFlying="true"
        panel:openedHandle="@drawable/top_switcher_expanded_background"
        panel:position="top" >

        <Button
            android:id="@+id/mypanelHandle"
            android:layout_width="fill_parent"
            android:layout_height="33dip"
            android:gravity="center" />

        <LinearLayout
            android:id="@+id/mypanelContent"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical" >

            <EditText
                android:id="@+id/editTextUserName"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_margin="3dp"
                android:layout_marginTop="6dp"
                android:hint="@string/editUserName" >
            </EditText>

            <EditText
                android:id="@+id/editTextPassword"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_margin="3dp"
                android:hint="@string/editUserPwd" >
            </EditText>

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:background="#323299"
                android:gravity="center"
                android:padding="4dip"
                android:text="@string/drpDwnTxt"
                android:textColor="#eee"
                android:textSize="16dip"
                android:textStyle="bold" />
        </LinearLayout>
    </org.miscwidgets.widget.Panel>

    <EditText
        android:id="@+id/editTextNumber"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_margin="3dp"
        android:layout_marginTop="6dp"
        android:hint="@string/editNumber" >
    </EditText>

    <EditText
        android:id="@+id/editTextMessage"
        android:layout_width="fill_parent"
        android:layout_height="100dp"
        android:layout_margin="3dp"
        android:hint="@string/editPwd" >
    </EditText>

    <Spinner
        android:id="@+id/spinnerGateway"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:drawSelectorOnTop="true"
        android:entries="@array/spinnerList"
        android:prompt="@string/spinnerPrompt" />

    <Button
        android:id="@+id/btnSend"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_margin="3dp"
        android:onClick="save"
        android:text="@string/StrbtnSend" >
    </Button>
</LinearLayout>

</FrameLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-19T07:07:35.000

这个新的布局文件已经为我完成了这项工作，只是一个小错误造成了麻烦。

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:panel="http://schemas.android.com/apk/res-auto"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:background="#CCC"
android:orientation="vertical" >

<LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <org.miscwidgets.widget.Panel
        android:id="@+id/mytopPanel"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        panel:animationDuration="1000"
        panel:closedHandle="@drawable/top_switcher_collapsed_background"
        panel:content="@+id/mypanelContent"
        panel:handle="@+id/mypanelHandle"
        panel:linearFlying="true"
        panel:openedHandle="@drawable/top_switcher_expanded_background"
        panel:position="top" >

        <Button
            android:id="@+id/mypanelHandle"
            android:layout_width="wrap_content"
            android:layout_height="33dip"
            android:layout_gravity="center_horizontal" />

        <LinearLayout
            android:id="@+id/mypanelContent"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical" >

            <EditText
                android:id="@+id/editTextUserName"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_margin="3dp"
                android:layout_marginTop="6dp"
                android:hint="@string/editUserName" >
            </EditText>

            <EditText
                android:id="@+id/editTextPassword"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_margin="3dp"
                android:hint="@string/editUserPwd" >
            </EditText>

            <TextView
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:background="#323299"
                android:gravity="center"
                android:padding="4dip"
                android:text="@string/drpDwnTxt"
                android:textColor="#eee"
                android:textSize="16dip"
                android:textStyle="bold" />
        </LinearLayout>
    </org.miscwidgets.widget.Panel>

    <RelativeLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >

        <AutoCompleteTextView
            android:id="@+id/mmWhoNo"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_alignParentLeft="true"
            android:layout_marginTop="10dp"
            android:layout_toLeftOf="@+id/btnContact"
            android:hint="To: Type to search"
            android:textSize="13sp" />

        <Button
            android:id="@+id/btnContact"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:layout_alignParentRight="true"
            android:layout_marginTop="10dp"
            android:background="@drawable/contacts_icon"
            android:textSize="18dp" >
        </Button>
    </RelativeLayout>

    <EditText
        android:id="@+id/editTextMessage"
        android:layout_width="fill_parent"
        android:layout_height="100dp"
        android:layout_margin="3dp"
        android:hint="@string/editPwd" >
    </EditText>

    <Spinner
        android:id="@+id/spinnerGateway"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:drawSelectorOnTop="true"
        android:entries="@array/spinnerList"
        android:prompt="@string/spinnerPrompt" />

    <Button
        android:id="@+id/btnSend"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_margin="3dp"
        android:text="@string/StrbtnSend" >
    </Button>

    <TextView
        android:id="@+id/txtAuthor"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center_horizontal"
        android:text="Designed By - Tapan Desai" />
</LinearLayout>

</FrameLayout> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-18T09:35:12.520

从按钮 xml 中删除填充并将重力设置为中心

```
layout_gravity="center"//can also set horizontal or vertical 
```

并确保您没有在访问它的 java 类中设置边距或填充。

# ajax - Node.js + Express：上传文件而不重新加载页面

> ID：12472906
> 
> 赞同：1
> 
> 时间：2012-09-18T08:14:24.430
> 
> 标签：ajax, node.js, file-upload, express

我正在使用 Node.js 创建一个聊天应用程序，并希望有一个文件上传功能。虽然我可以上传文件，但浏览器总是会被重定向到另一个链接或刷新的页面，这当然会破坏聊天。

**首先**，我尝试使用 Express 来做到这一点：

索引.html：

```
<form id="fileSendButton" action="/" method="post" enctype="multipart/form-data">
    <input type="text" name="title"><br>
    <input type="file" name="upload" multiple="multiple"><br>
    <input type="submit" value="Upload">
</form> 
```

应用程序.js：

```
app.post('/', function(req, res){
    //some validation and rename file
    res.send();
    return false;
}); 
```

**接下来**我尝试使用 AJAX，但仍然无法做到，每当 AJAX POST 到 Node.js 服务器时，它都会重新加载页面。无论如何，我的 AJAX 代码：

索引.html：

```
$.ajax({  
    type: "POST",  
    url: "/",  
    data: formdata,  
    processData: false,
    contentType: false,
    success: function (res) {
        document.getElementById("chatText").innerHTML = res; 
    } 
});  
return false; 
```

**第三**，我去看了 Uploadify，但不想在我的网站上添加 Flash 依赖，所以我没有实现它。

任何人都可以帮助我吗？我不想在上传文件时重新加载页面。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T08:35:00.843

您可以在客户端使用动态创建的隐藏框架来完成此操作。

有关 expressjs 的详细操作方法，请参见[此处。](http://markdawson.tumblr.com/post/18359176420/asynchronous-file-uploading-using-express-and-node-js)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-25T17:15:46.820

Uploadify 现在有一个纯 HTML5 播放。

# php - recode_string php中的俄语字符

> ID：12472907
> 
> 赞同：2
> 
> 时间：2012-09-18T08:14:27.767
> 
> 标签：php

我对俄语字符和 recode_string 函数有一点问题。

```
$str = "И в этом вся моя вина (And Only That école & Can Be My Blame)";
echo recode_string("UTF-8..flat", $string); 
```

给我“d Only That ecole & Can Be My Blame”而不是（and Only That ecole & Can Be My Blame）

谁能帮我解决这个问题？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-23T21:54:24.143

你可以尝试类似的东西

```
mb_convert_encoding('И в этом вся моя вина (And Only That école & Can Be My Blame)', 'windows-1251', 'utf8'); 
```

但你必须知道在我认为的其他东西上更改 windows-1251

或尝试`iconv()`如*donutdan4114 所说*

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-08-29T10:02:26.093

您在第二行使用**$string ，但在第一行定义****了 $str**。

# database - 面向列的数据库中的单宽表性能（Vectorwise）

> ID：12472908
> 
> 赞同：0
> 
> 时间：2012-09-18T08:14:28.827
> 
> 标签：database, vertica, vectorwise

我正在使用星型模式和单个非规范化表对向量进行一些测试。在非规范化表中，我有 5 个额外的列 > varchar (100)。我是面向列的世界的新手，因此想了解正确的事实。

几个事实：

1.  查询内存=20G，Cache Memory设置为7G

2.  仅名称列的大小就在 6G、6.5G、2.6G 和 650M 左右。现在显然这些不适合我的缓存内存，所以系统是 I/O 绑定的。

3.  如果我使用星型模式方法，它的工作速度会更快，因为它必须缓存整数列，所有这些都可以轻松放入我的主内存缓存中。

我对此有几个问题：

1.  如果我必须使用单个表，我需要增加 RAM 以确保所有这些列都适合内存？我想知道是否有人使用 Vertica 或任何其他面向列的数据库完成了这种结构。如果是，您是否使用相同的方法所有 varchar 列都应该适合 RAM ？

2.  简单的星型模式查询

    `select col1,col2, col3, sum(col4), sum(col5) from fact_table join tabl1 on condition join tab2 on condition where tab1.col1 = 1234 and tab2.col2 = 6789`

    工作速度慢于：

    `select col1,col2,col3,sumcol4, sumcol5 from (select col1,col2, col3, sum(col4) as sumcol4, sum(col5) as sumcol5 from fact_table where fact_table.col1 = 1234 and fact_table.col2 = 6789) as facts join tabl1 on condition join tab2 on condition`

    为什么？

    *注意：主表 tab1 和 tab2 是主存的。*

我正在使用**Vectorwise**，但只是想知道这些观察结果是否也适用于 Vertica？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T21:50:26.787

Vertica 没有将表保存在内存中的想法。在某些情况下，在某些类型的连接中，表数据可能已经在内存中或被放在那里。但归根结底，Vertiac 的性能取决于您在磁盘上存储内容的方式。

我不希望 Vectorwise 中的两个查询的性能对 Vertica 中类似查询和表的执行方式有任何影响。也就是说，第二个查询中与连接有关的行数较少表明它在各种查询执行引擎中会做得更好。

# java - （数字/数字）的正则表达式

> ID：12472912
> 
> 赞同：1
> 
> 时间：2012-09-18T08:14:47.227
> 
> 标签：java, regex, selenium-webdriver

我正在寻找一个正则表达式 `(digit/digit)`，比如`(1/2)`

数字必须是 1-3 个数字。我使用Java。

我认为我的问题不仅仅是正则表达式。我无法正常工作

```
 String s ="(1/15)";
   Assert.isTrue(s.contains("\\d{1,3}/\\d{1,3}")); 
```

测试失败，即使认为它应该包含所需的文本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:17:00.787

尝试以下

```
\(\d{1,3}\/\d{1,3}\) 
```

如果您需要提取您可能想要使用的数字

```
\((\d{1,3})\/(\d{1,3}\)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:17:22.283

试试[这个](http://rubular.com/r/0TYsAnxTu9)

```
\(\d{1,3}\/\d{1,3}\) 
```

在java中你必须做

```
s.matches("\\(\\d{1,3}\\/\\d{1,3}\\)"); 
```

检查匹配（注意[转义序列](http://docs.oracle.com/javase/tutorial/java/data/characters.html)）

# .net - 对数据表进行排序

> ID：12472913
> 
> 赞同：37
> 
> 时间：2012-09-18T08:14:49.923
> 
> 标签：.net, vb.net

我尝试使用以下两种方式对数据表进行排序

```
table.DefaultView.Sort = "Town ASC, Cutomer ASC"

table.Select("", "Town ASC, Cutomer ASC") 
```

但他们都没有工作。它始终以原始顺序显示数据。你有什么想法来解决这个问题。

* * *

## 回答 #1

> 赞同：48
> 
> 时间：2016-09-29T12:34:36.090

这是我能找到的对 DataTable 进行排序而无需创建任何新变量的最短方法。

```
DataTable.DefaultView.Sort = "ColumnName ASC"
DataTable = DataTable.DefaultView.ToTable 
```

在哪里：

ASC - 上升

DESC - 降序

ColumnName - 要排序的列

DataTable - 要排序的表

* * *

## 回答 #2

> 赞同：38
> 
> 时间：2012-09-18T08:28:06.347

试试这个：

```
Dim dataView As New DataView(table)
dataView.Sort = " AutoID DESC, Name DESC"
Dim dataTable AS DataTable = dataView.ToTable() 
```

* * *

## 回答 #3

> 赞同：32
> 
> 时间：2012-09-18T08:17:05.500

在 DefaultView ( `table.DefaultView.Sort = "Town ASC, Cutomer ASC"`) 上设置排序表达式后，您应该使用 DefaultView 而不是 DataTable 实例本身遍历表

```
foreach(DataRowView r in table.DefaultView)
{
    //... here you get the rows in sorted order
    Console.WriteLine(r["Town"].ToString());
} 
```

相反，使用 DataTable 的 Select 方法会生成一个 DataRow 数组。此数组按您的请求排序，而不是 DataTable

```
DataRow[] rowList = table.Select("", "Town ASC, Cutomer ASC");
foreach(DataRow r in rowList)
{
    Console.WriteLine(r["Town"].ToString());
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2019-03-14T07:08:16.950

这对我有用：

```
dt.DefaultView.Sort = "Town ASC, Cutomer ASC";
dt = dt.DefaultView.ToTable(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-18T08:26:41.400

```
private void SortDataTable(DataTable dt, string sort)
{
DataTable newDT = dt.Clone();
int rowCount = dt.Rows.Count;

DataRow[] foundRows = dt.Select(null, sort);
// Sort with Column name
for (int i = 0; i < rowCount; i++)
{
object[] arr = new object[dt.Columns.Count];
for (int j = 0; j < dt.Columns.Count; j++)
{
arr[j] = foundRows[i][j];
}
DataRow data_row = newDT.NewRow();
data_row.ItemArray = arr;
newDT.Rows.Add(data_row);
}

//clear the incoming dt
dt.Rows.Clear();

for (int i = 0; i < newDT.Rows.Count; i++)
{
object[] arr = new object[dt.Columns.Count];
for (int j = 0; j < dt.Columns.Count; j++)
{
arr[j] = newDT.Rows[i][j];
}

DataRow data_row = dt.NewRow();
data_row.ItemArray = arr;
dt.Rows.Add(data_row);
}
} 
```

# android - 具有两列的 Android 布局

> ID：12472916
> 
> 赞同：2
> 
> 时间：2012-09-18T08:14:59.590
> 
> 标签：android, android-layout

Android 和整个线性/相对布局的新手。需要帮助弄清楚如何制作这个布局：

![在此处输入图像描述](../Images/17ba6f852ea2f8649ffae666b7abc9eb.png)

到目前为止我所做的是：

```
Linear Layout(Vertical)
---Textview ("fixpix.")
---Linear Layout (Horizontal) //first column
------Linear Layout (Vertical, weight 1) //even more nesting here
------Linear Layout (Vertical, weight 1) //even more nesting here
------Linear Layout (Vertical, weight 1) //even more nesting here
---Linear Layout (Horizontal) //last column
------Linear Layout (Vertical, weight 1) //even more nesting here
------Linear Layout (Vertical, weight 1) //even more nesting here
------Linear Layout (Vertical, weight 1) //even more nesting here
---Button ("Learn More.") 
```

我收到很多警告称不应该嵌套权重等。我什至不确定这是否是正确的方法。有人可以建议一个更好的方法，而不是那么复杂

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-18T08:43:58.993

构建中等复杂布局时的重要提示。

代替 ImageViews、TextViews 等，使用普通视图作为占位符。将每个元素的背景颜色设置为不同的颜色，包括封闭的线性/相对/框架等。这样，您可以准确地看到每个元素在做什么，并调整您的权重、“相对性”（例如 layoutToTheRightOf 等）和大小，直到布局看起来完美。然后用你想要的元素替换占位符。

如果您正在为现有布局而苦恼，请将 XML 复制/粘贴到您的文本编辑器中。执行上述操作，然后将各个元素一一复制/粘贴到它们的占位符上。您将在短时间内控制您的布局。

当然，很好地理解每个 ViewGroup 的工作原理是构建优秀 Android 应用程序的基础。

祝你好运。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:29:26.610

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:text="top_center_text"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:drawableTop="@drawable/ic_launcher"
            android:gravity="center"
            android:text="names"
            android:textColor="@android:color/background_dark" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:drawableTop="@drawable/ic_launcher"
            android:gravity="center"
            android:text="names"
            android:textColor="@android:color/background_dark" />
    </LinearLayout>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:drawableTop="@drawable/ic_launcher"
            android:gravity="center"
            android:text="names"
            android:textColor="@android:color/background_dark" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:drawableTop="@drawable/ic_launcher"
            android:gravity="center"
            android:text="names"
            android:textColor="@android:color/background_dark" />
    </LinearLayout>

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:drawableTop="@drawable/ic_launcher"
            android:gravity="center"
            android:text="names"
            android:textColor="@android:color/background_dark" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:drawableTop="@drawable/ic_launcher"
            android:gravity="center"
            android:text="names"
            android:textColor="@android:color/background_dark" />
    </LinearLayout>

    <Button
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:text="top_center_text"
        android:textAppearance="?android:attr/textAppearanceLarge" />

</LinearLayout> 
```

Below is the code that you need

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T08:19:11.197

尝试用 GridView 解决这个问题。使用它而不是 LinearLayouts 更常见：http: [//developer.android.com/guide/topics/ui/layout/gridview.html](http://developer.android.com/guide/topics/ui/layout/gridview.html)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-09-18T08:25:27.637

尝试创建“**使用 ArrayAdapter 创建多列布局**”

**第 1 步。插入一个简单的列表视图，您可以将其转换为多列。** main.xml

```
<ListView android:id="@+id/mylist" android:layout_width="wrap_content" android:layout_height="wrap_content">
</ListView> 
```

**步骤 2\. 创建一个行格式，将在列表中的每一行显示。（多列视图）。**

文件：mylistrow.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
 xmlns:android="http://schemas.android.com/apk/res/android"
 android:paddingTop="4dip"
 android:paddingBottom="6dip"
 android:layout_width="fill_parent"
 android:layout_height="wrap_content"
 android:orientation="horizontal">
 <TextView android:id="@+id/column1"
    android:gravity=”left”
     android:layout_width="50dip"
     android:layout_height="wrap_content"/>
 <TextView android:id="@+id/column2"
    android:gravity=”center”
     android:layout_width="70dip"
     android:layout_height="wrap_content"
     android:layout_weight="1"/>
 <TextView android:id="@+id/column3"
     android:gravity=”right”
     android:layout_width="60dip"
     android:layout_height="wrap_content"
       android:layout_weight="1"/>
</LinearLayout> 
```

**步骤 3\. 使用 SimpleAdapter 配置到这些列的数据绑定**

```
ListView list = (ListView) findViewById(R.id.mylist);
ArrayList<HashMap<String, String>> mylistData =
               new ArrayList<HashMap<String, String>>();

String[] columnTags = new String[] {"col1", "col2", "col3"};

int[] columnIds = new int[] {R.id.column1, R.id.column2, R.id.column3};
for(int i=0; i<3; i++)
{
HashMap<String,String> map = new HashMap<String, String>();
 //initialize row data
 for(int j=0; j<3; j++)
 {
   map.put(columnTags[j], "row”+i+”col"+j);
 }
 mylistData.add(map);
 }
 SimpleAdapter arrayAdapter =
           new SimpleAdapter(this, mylistData, R.layout.mylistrow,
                         columnTags , columnIds);
 list.setAdapter(arrayAdapter); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-18T08:36:43.990

您可以使用[GridLayout](http://developer.android.com/reference/android/widget/GridLayout.html)或[TableLayout](http://developer.android.com/reference/android/widget/TableLayout.html)。

但我会建议你使用 TableLayout。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-09-18T08:26:36.367

考虑使用[GridView](http://android-coding.blogspot.in/2011/09/simple-gridview-example.html)

当然，这`LinearLayout`将解决您的问题，但始终考虑使用最佳实践或方法来开发任何东西。

你也可以使用[这个](http://android-coding.blogspot.in/2011/09/custom-gridview-ii-with-imageview-and.html)。

# php - file_get_contents 和 &

> ID：12472921
> 
> 赞同：2
> 
> 时间：2012-09-18T08:15:21.827
> 
> 标签：php, url

所以这似乎是一个常见的错误，但我已经尝试了一切，但它不起作用！

我的代码目前如下所示：

```
$apikey = "XXXXXXXXX";
$search_url = "https://www.googleapis.com/shopping/search/v1/public/products?key=$apikey&country=US&q=$item_title&restrictBy=gtin&alt=json";

$response = file_get_contents($search_url); 
```

我已经尝试了从 urldecode 到 html_entity_decode/encode 到几乎所有我能找到的解决方案，但仍然得到相同的错误：

```
file_get_contents(https://www.googleapis.com/shopping/search/v1/public/products?key=XXXXX&amp;country=US&amp;q=THESTRING&amp;restrictBy=gtin&amp;alt=json) failed to open stream: HTTP request failed! HTTP/1.0 400 Bad Request 
```

如您所见，我得到的是 &s 而不是普通的 ol' & (&)

我记得有一个类似的问题，问题只是我在字符串的开头没有“http://”。但正如你所看到的，这里的情况并非如此。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:32:38.963

您是否尝试过单引号，所以您的测试字符串会按字面意思理解？如在

```
$search_url = 'https://www.googleapis.com/shopping/search/v1/public/products?key='.$apikey.'&country=US&q=$item_title&restrictBy=gtin&alt=json'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-09-04T09:20:05.957

尝试从参数中删除空格，例如我的情况：

```
search_jobs.php?catagory_select=1&keys=head of IT 
```

当“IT主管”一词之间有空格时，它不起作用

```
search_jobs.php?catagory_select=1&keys=head-of-IT 
```

我已经用“-”破折号替换了空格，它现在可以工作了。

如果您认为您需要对脚本进行大量更改以替换所有空格，那么这是打开页面的一种快速方法，就像我打开页面一样：

**“search_jobs.php?catagory_select=1&keys=IT 主管”**

现在要从参数“IT主管”中自动替换空格，您需要在加载页面“ **search_jobs.php** ”上添加javascript代码

```
 <script>
if(location.href.indexOf('%20') > -1){
    location.href = location.href.replace('%20','-');
}
    </script> 
```

在页面顶部添加此代码，它将在打开页面之前自动将空格替换为“-”破折号。

谢谢你

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-09-20T08:07:25.147

我的问题的答案很简单：

当 $item_title 包含空格时，PHP 会抛出错误。为了解决这个问题，我所要做的就是将它添加到我的代码中：

```
strtr( $item_title, " ", "+" ); 
```

将空格更改为加号。不再有失败的请求！

多谢你们。

# mysql - MySQL 中的 false 或 false = true？非常奇怪的行为

> ID：12472923
> 
> 赞同：2
> 
> 时间：2012-09-18T08:15:31.963
> 
> 标签：mysql, boolean, logic

基本上，我的 0 OR 0 返回 1 - 这不是我真正想要的 :) 我不太确定为什么，因为如果我选择 0 OR 0 我得到 0..

我认为这可能是因为 is_premium_dealer 是 enum('0','1') 而不是 bool （不要问我为什么，我没有设计这个数据库！）

有谁知道这是否是因为 ENUM，如果是，我将如何将其转换为整数？

提前致谢！约翰。

```
SELECT is_premium_dealer, company_name,
(SELECT COUNT(*) FROM adverts WHERE user_id = users.id AND is_archived = 0) AS innerquery,
((SELECT COUNT(*) FROM adverts WHERE user_id = users.id AND is_archived = 0 AND is_deleted = 0) > 0 OR is_premium_dealer = 1) AS logicissue
FROM `user_profiles_dealers` 
LEFT JOIN `users` ON user_profiles_dealers.user_id = users.id 
LEFT JOIN `counties` ON user_profiles_dealers.county_id = counties.id 
LEFT JOIN `countries` ON user_profiles_dealers.country_id = countries.id 
WHERE (users.is_active=1) 
AND (((SELECT COUNT(*) FROM adverts WHERE user_id = users.id AND is_archived = 0 AND     is_deleted = 0) > 0) OR is_premium_dealer > 0) 
AND company_name like '%autocraft%' limit 5\G 
```

结果：

```
*************************** 1\. row ***************************
is_premium_dealer: 0
company_name: A Company
innerquery: 0
logicissue: 1
1 row in set (0.00 sec) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:47:03.833

答案是将 is_premium_dealer 包装在 BINARY() 函数中，该函数似乎将字符串或任何内容转换为可以按预期评估的二进制值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T09:06:16.683

那是因为`is_premium_dealer = 1`按 ENUM**索引**过滤记录。从文档中 - *ENUM 值在内部表示为整数*。

[枚举类型](http://dev.mysql.com/doc/refman/5.5/en/enum.html)。

假设我们有 -`enum_column ENUM('dog', 'cat', 'snake')` 那么：

*   `WHERE enum_column = 1`将显示 enum_column = 'dog' 的记录
*   `WHERE enum_column = 2`将显示 enum_column = 'cat' 的记录
*   等等...

因此，您可以在 WHERE 条件中使用数字，而无需 BINARY 函数，只需指定正确的枚举索引即可。

# html - 跨越两个跨越 div 的背景，引导程序

> ID：12472924
> 
> 赞同：0
> 
> 时间：2012-09-18T08:15:33.580
> 
> 标签：html, css, twitter-bootstrap

我试图将两个跨度放在一个容器中，以实现跨越这两个跨度的背景。我做了一个 jsfiddle 例子，见下文

[http://jsfiddle.net/hsEWG/1/](http://jsfiddle.net/hsEWG/1/)

问题是 div 似乎没有跨越这两个，而是位于两个跨度之上。如果我分别为两个跨度设置背景，我会得到它们之间的排水沟，这不应该是可见的。我还尝试定位 div 是否未正确关闭但无济于事。

更新了更少的垃圾：http: [//jsfiddle.net/hsEWG/5/](http://jsfiddle.net/hsEWG/5/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:27:26.993

将 div 更改为 span10 类，我认为它可以工作：

[http://jsfiddle.net/hsEWG/3/](http://jsfiddle.net/hsEWG/3/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:27:47.787

***[现场演示](http://jsfiddle.net/hsEWG/4/)***

添加这个CSS

```
.bgcolorblack{
overflow:hidden;
} 
```

***[现场演示](http://jsfiddle.net/hsEWG/4/)***

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T08:42:11.213

### 是因为没有清零。`clearfix`解决你的问题！

只需`clearfix`在`.bgcolorblack`. 如果您有来自 的菜单`div`，`overflow: hidden;`将对其进行修剪。

```
<div class="bgcolorblack clearfix"> 
```

### 小提琴：http: [//jsfiddle.net/hsEWG/6/](http://jsfiddle.net/hsEWG/6/)

一般TBS自带`clearfix`类。但是如果你发现它没有被包含，你可以很好地将它复制到你的 CSS 中：

```
.clearfix:after {
    content: ".";
    display: block;
    clear: both;
    visibility: hidden;
    line-height: 0;
    height: 0;
}

.clearfix {
    display: inline-block;
}

html[xmlns] .clearfix {
    display: block;
}

* html .clearfix {
    height: 1%;
} 
```

### 第二小提琴更新：http: [//jsfiddle.net/hsEWG/7/](http://jsfiddle.net/hsEWG/7/)

如果您不需要空间，请给包装器一个 class `span10`。在 CSS 中：

```
.bgcolorblack.clearfix.span10 {margin-left: 0;} 
```

### 小提琴：http: [//jsfiddle.net/hsEWG/9/](http://jsfiddle.net/hsEWG/9/)

# browser - 用于严格办公环境中网站/应用程序的站点特定 Web 浏览器

> ID：12472928
> 
> 赞同：1
> 
> 时间：2012-09-18T08:15:52.150
> 
> 标签：browser

与我们一样，解决跨浏览器问题可能是一项艰巨的任务，尤其是让花哨的现代网站看起来不错并且在旧版本的 Internet Explorer 中运行良好可能是一项艰巨的任务。对于一般用户来说，这并不算太糟糕，许多人现在使用最新的东西，但对于办公室用户来说，情况往往并非如此。

我们开发了一些需要运行 IE8 甚至 IE7 的办公室用户管理的网站（我认为我居住的市场份额高于企业用户的平均水平）。

为了避免这种情况，我过去使用 Mozilla Prism [https://mozillalabs.com/en-US/prism/](https://mozillalabs.com/en-US/prism/)并编译了一个 .exe 来运行它（只是一个转换后的 .bat 文件），但是 Prism 和它的“继任者”Chromeless 有两者都已停产，开发处于不活跃状态。这两个都允许我使用 Gecko 而不是 IE，并且似乎让 IT 部门很高兴，大多数人会允许它在用户机器上运行。我也看过 Sencha ION，但它与他们的框架联系得太紧密了。

由于这些都不是在积极开发中，我宁愿不使用它们。是否有任何当前项目或相对简单的方法来构建可以锁定到特定 URL 的自定义 Web 浏览器，即 www.example.com/administration

我不介意它是运行 Gecko 还是 Webkit。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-28T11:35:10.307

我暂时选择了[QT Webkit](http://qt-project.org/)，因为它似乎拥有最新的 Webkit 版本。

# java - InputStream:.getInputStream() 的问题

> ID：12472932
> 
> 赞同：0
> 
> 时间：2012-09-18T08:16:17.933
> 
> 标签：java, android, sockets

嗨，伙计，我从蓝牙套接字循环读取。每次读取我都使用 myblueSock.getInputStream() 而不保存输入流。就相当于每次打开和关闭socket？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:18:37.043

它应该继续返回相同的输入流。它当然不等于每次调用都打开一个新套接字。

# bash - 循环后台作业

> ID：12472933
> 
> 赞同：96
> 
> 时间：2012-09-18T08:16:18.213
> 
> 标签：bash

我尝试在 bash 的 for 循环中运行后台作业：

```
for i in $(seq 3); do echo $i ; sleep 2 & ; done 
```

我得到错误：

```
bash: syntax error near unexpected token `;' 
```

在 zsh 中，命令行有效。

* * *

## 回答 #1

> 赞同：148
> 
> 时间：2012-09-18T08:19:53.340

去除 ; 睡后

```
for i in $(seq 3); do echo $i ; sleep 2 & done 
```

顺便说一句，这样的循环最好用适当的缩进写在单独的行上（如果你在 shell 脚本文件中写这个）。

```
for i in $(seq 3)
do
   echo $i
   sleep 2 &
done 
```

* * *

## 回答 #2

> 赞同：45
> 
> 时间：2013-05-31T16:56:44.510

您可以将后台命令放在 ( )

```
for i in $(seq 3); do echo $i ; (sleep 2 &) ; done 
```

# xslt - 使用 xpath 在 xslt 中循环

> ID：12472939
> 
> 赞同：0
> 
> 时间：2012-09-18T08:16:50.830
> 
> 标签：xslt, xpath

我想循环一个xml文件，除了 //Script2[@time] 它在不同的位置之外，所有值都在循环时显示，所以我直接选择了这样，由于某种原因我不知道 //Script2[@time] 不是显示任何值

```
 <table class="table_styling3">
 <tr><th>Name</th><th>Duration</th><th>Errors</th><th>Actions</th><th>Verifications</th>  <th>Traces</th></tr>
 <xsl:for-each select="Report/Scripts/Script1">
 <tr>
 <td widht="20%"><xsl:value-of select="@File"/></td>
 <td widht="20%"><xsl:value-of select="//Script2[@time]"/></td>
 <td width="10%"><xsl:value-of select="count(Message[@Type='Error'])"/></td>
 <td width="10%"><xsl:value-of select="count(Message[@Type='Action'])"/></td>
 <td width="10%"><xsl:value-of select="count(Message[@Type='Verification'])"/></td>
 <td width="10%"><xsl:value-of select="count(Message[@Type='Trace'])"/></td>
 </tr>
 </xsl:for-each>
 </table> 
```

我的 xml 文件放在这里

```
 <?xml version="1.0" encoding="utf-8"?>
 <Report App="RIATest" Version="4.7"   Project="D:\Projects\Automation\RIATest\Nomura\Nomura.rtp">
  <Startup>
  <Message Time="2012-08-30 15:32:38.578" Type="Info" Message="Launching iexplore.exe &quot;http://mobiuss-dev.operasolutions.com:8080/nomura-test/&quot;"/>
  <Message Time="2012-08-30 15:32:38.625" Type="Info" Message="Application launched (process id=4108)."/>
  <Message Time="2012-08-30 15:32:38.625" Type="Info" Message="Waiting for connection from agent..."/>
  <Message Time="2012-08-30 15:32:46.453" Type="Info" Message="Agent connection accepted. Application id=nomura-ui, index=0"/>
  </Startup>
  <Scripts>
  <Script1 File="Login.rts" Time="2012-08-30 15:32:46.468">
  <Message Time="2012-08-30 15:32:46.531" Type="Verification" Line="8" Col="58"   Message="Verification passed: SparkApplication(&quot;nomura-ui&quot;)=&gt;visible is equal  to true"/>
  <Message Time="2012-08-30 15:32:46.578" Type="Verification" Line="10" Col="50" Message="Verification passed: FlexForm(&quot;loginForm&quot;)=&gt;visible is equal to true"/>
  <Message Time="2012-08-30 15:32:46.625" Type="Verification" Line="12" Col="65" Message="Verification passed: FlexLabel(&quot;Username::Username:&quot;)=&gt;text is equal to &quot;Username:&quot;"/>
  <Message Time="2012-08-30 15:32:46.656" Type="Verification" Line="14" Col="65" Message="Verification passed: FlexLabel(&quot;Password::Password:&quot;)=&gt;text is equal to &quot;Password:&quot;"/>
  <Message Time="2012-08-30 15:32:46.671" Type="Verification" Line="17" Col="39" Message="Verification passed: comp=&gt;label is equal to &quot;Log In&quot;"/>
  <Message Time="2012-08-30 15:32:46.703" Type="Verification" Line="18" Col="35" Message="Verification passed: comp=&gt;enabled is equal to true"/>
  <Message Time="2012-08-30 15:32:46.718" Type="Verification" Line="19" Col="35" Message="Verification passed: comp=&gt;visible is equal to true"/>
  <Message Time="2012-08-30 15:32:46.734" Type="Verification" Line="22" Col="35" Message="Verification passed: comp=&gt;enabled is equal to true"/>
  <Message Time="2012-08-30 15:32:46.750" Type="Verification" Line="23" Col="54" Message="Verification passed: comp=&gt;label is equal to &quot;Forgot your password?&quot;"/>
  <Message Time="2012-08-30 15:32:46.765" Type="Verification" Line="24" Col="36" Message="Verification passed: comp=&gt;selected is equal to false"/>
  <Message Time="2012-08-30 15:32:46.781" Type="Verification" Line="25" Col="35" Message="Verification passed: comp=&gt;visible is equal to true"/>
  <Message Time="2012-08-30 15:32:46.796" Type="Verification" Line="28" Col="61" Message="Verification passed: comp=&gt;text is equal to &quot;CORPORATE BOND SPREAD SIGNAL&quot;"/>
  <Message Time="2012-08-30 15:32:46.812" Type="Verification" Line="29" Col="35" Message="Verification passed: comp=&gt;visible is equal to true"/>
  <Message Time="2012-08-30 15:32:46.906" Type="Action" Line="32" Col="64" Message="SparkTextInput(&quot;Username::userName&quot;)=&gt;textSelectionChange(0,0)"/>
  <Message Time="2012-08-30 15:32:47.000" Type="Action" Line="33" Col="63" Message="SparkTextInput(&quot;Username::userName&quot;)=&gt;textInput(&quot;arun.sekar&quot;)"/>
  <Message Time="2012-08-30 15:32:47.031" Type="Action" Line="35" Col="61" Message="SparkTextInput(&quot;Password::password&quot;)=&gt;textInput(&quot;opera100&quot;)"/>
  <Message Time="2012-08-30 15:32:47.093" Type="Action" Line="36" Col="32" Message="SparkButton(&quot;Log In&quot;)=&gt;click()"/>
  </Script>
  </Scripts>
  <Results>
  <Summary scripts="2" time="8.515" errors="2"/>
  <Script2 name="Login.rts" time="0.625" errors="0"/>
  <Script2 name="NOM_0002.rts" time="50.000" errors="2" message="Verification failed: comp=&gt;selected is not equal to expected value true, it is actually equal to false"/>
  </Results>
  </Report> 
```

Insted 在第一行显示时间 0.625，在第二行显示 50.000，它在表中显示空行，所有其他值都按预期显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T10:07:16.790

您目前正在您的 XSLT 中执行此操作.....

```
<xsl:value-of select="//Script2[@time]"/> 
```

但是，这将获得第一个**Script2**标记的文本值，该标记恰好具有**@time@**属性。我认为您实际上想要获取此**@time**属性的值。在这种情况下，这样做...

```
<xsl:value-of select="//Script2/@time"/> 
```

但是，通过查看您的 XSLT，您可能想要获取恰好与**Script1**标记的**@File**属性具有相同**@name的****Script2**标记。

 ****```
<xsl:value-of select="//Script2[@name=current()/@File]/@time"/> 
```

试试这个样式表

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="xml" indent="yes"/>
   <xsl:template match="/">
      <table class="table_styling3">
         <tr>
            <th>Name</th>
            <th>Duration</th>
            <th>Errors</th>
            <th>Actions</th>
            <th>Verifications</th>
            <th>Traces</th>
         </tr>
         <xsl:for-each select="Report/Scripts/Script1">
            <tr>
               <td width="20%">
                  <xsl:value-of select="@File"/>
               </td>
               <td width="20%">
                  <xsl:value-of select="//Script2[@name=current()/@File]/@time"/>
               </td>
               <td width="10%">
                  <xsl:value-of select="count(Message[@Type='Error'])"/>
               </td>
               <td width="10%">
                  <xsl:value-of select="count(Message[@Type='Action'])"/>
               </td>
               <td width="10%">
                  <xsl:value-of select="count(Message[@Type='Verification'])"/>
               </td>
               <td width="10%">
                  <xsl:value-of select="count(Message[@Type='Trace'])"/>
               </td>
            </tr>
         </xsl:for-each>
      </table>
   </xsl:template>
</xsl:stylesheet> 
```

应用于您的示例 XML 时，将输出以下内容

```
<table class="table_styling3">
<tr>
<th>Name</th>
<th>Duration</th>
<th>Errors</th>
<th>Actions</th>
<th>Verifications</th>
<th>Traces</th>
</tr>
<tr>
<td width="20%">Login.rts</td>
<td width="20%">0.625</td>
<td width="10%">0</td>
<td width="10%">4</td>
<td width="10%">13</td>
<td width="10%">0</td>
</tr>
</table> 
```

**实际上，在这里使用xsl:key**来查找**script2**元素会更有效

```
<xsl:key name="script" match="Script2" use="@name"/> 
```

试试这个 XSLT。请注意，我还用**xsl:apply-templates替换了****xsl:for-each** ，这通常更符合 XSLT 的“精神”。

 **```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
   <xsl:output method="xml" indent="yes"/>
   <xsl:key name="script" match="Script2" use="@name"/>
   <xsl:template match="/">
      <table class="table_styling3">
         <tr>
            <th>Name</th>
            <th>Duration</th>
            <th>Errors</th>
            <th>Actions</th>
            <th>Verifications</th>
            <th>Traces</th>
         </tr>
         <xsl:apply-templates select="Report/Scripts/Script1"/>
      </table>
   </xsl:template>

   <xsl:template match="Script1">
      <tr>
         <td width="20%">
            <xsl:value-of select="@File"/>
         </td>
         <td width="20%">
            <xsl:value-of select="key('script',@File)/@time"/>
         </td>
         <td width="10%">
            <xsl:value-of select="count(Message[@Type='Error'])"/>
         </td>
         <td width="10%">
            <xsl:value-of select="count(Message[@Type='Action'])"/>
         </td>
         <td width="10%">
            <xsl:value-of select="count(Message[@Type='Verification'])"/>
         </td>
         <td width="10%">
            <xsl:value-of select="count(Message[@Type='Trace'])"/>
         </td>
      </tr>
   </xsl:template>
</xsl:stylesheet> 
```******

# asp.net - SignalR 和 HttpContext/Session

> ID：12472940
> 
> 赞同：27
> 
> 时间：2012-09-18T08:16:52.930
> 
> 标签：asp.net, signalr, signalr-hub

我理解为什么 SignalR 不允许您[访问 HttpContext](https://stackoverflow.com/questions/7854663/signalr-doesnt-use-session-on-server)。然而，这对我们来说是相当有问题的。让我解释：

我们的应用程序是一个多租户应用程序，用户在登录时选择环境。这基本上是在 HttpSession 中注册 ConnectionStringName。在我们的 SignalR Hub 中，我们需要访问`Disconnect`. 但这是不可能的，因为此时我们没有 HttpContext 并且无法确定要写入的环境。

任何人都可以向我们提供如何解决这个问题的建议吗？我们有点卡在这个上。

**编辑**：如果您的解决方案在负载平衡环境中工作，则加分。

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-08-29T14:05:33.733

这是一个老问题，但我留下我的答案以防万一它对那里的任何人有帮助。

由于您的集线器扩展了**Microsoft.AspNet.SignalR.Hub**，因此它可以访问**HubCallerContext类型的****Context**属性

 **这个属性暴露了调用者的很多信息：

*   连接 ID
*   标头
*   请求参数
*   要求
*   饼干
*   用户

在我的解决方案中，我使用存储在**Context.User.Identity.Name**中的用户名作为我的键/值存储（在我的情况下为**Redis**）中的键来跟踪用户拥有的所有连接。

您可以覆盖**OnConnnect**和**OnDisconnect**以维护与用户关联的连接列表。您还可以存储您想要的任何其他内容以及连接 ID（您的用户连接字符串，在您的情况下）。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-08-27T14:42:31.600

嗨有一个类似的问题，因为我需要识别我的应用程序的未经身份验证的访问者，以个性化他们对 SignalR 集线器的请求。

我已经通过访问“HttpContext.Current.Request.AnonymousId”解决了这个问题。AnonymousId 映射到 SQL 数据库中自行实现的会话实体中的临时记录 - 本质上是模拟数据库支持的会话。

如果您希望自定义 AnonymousId 或初始化数据库条目，请在此处提供一些相关文档：http: [//msdn.microsoft.com/en-us/library/system.web.httprequest.anonymousid.aspx](http://msdn.microsoft.com/en-us/library/system.web.httprequest.anonymousid.aspx)

此外，您应该能够像这样访问 OnDisconnected() 中的上下文：**Context.Request.GetHttpContext()**。

我希望这有帮助。

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2019-10-16T21:38:06.597

如果您使用的是**ASP.NET Core SignalR 3.0**（不是*ASP.NET SignalR 2.1*），那么您可以`Context.GetHttpContext()`使用`HttpContext`.

仅供参考，Signalr 3.0 不再具有该`Context.Request`对象。Request 上下文可以通过访问`IHttpContextFeature in Context.Features[]`. 我使用了以下内容：

```
IHttpContextFeature  hcf           = (IHttpContextFeature)this.Context.Features[typeof(IHttpContextFeature)];
HttpContext          hc            = hcf.HttpContext;
string               myCookieValue = hc.Request.Cookies["Value"]; 
```

这可能会使用一些空检查或者可能更清洁，但希望这可以节省一些时间。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T08:34:50.110

You can use something like a Dictionary to keep track of the ConnectionId of the user when they connect. Also using SQL Server to store the Session State may also help : [http://support.microsoft.com/kb/317604](http://support.microsoft.com/kb/317604)

SignalR does give you access to User.Identity.Name which you can use to track when the disoconnect() is fired.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-09-21T10:35:55.023

您需要您的解决方案在负载平衡的环境中工作这一事实强制您需要将连接字符串存储在与 Session 不同的东西中。键值存储（如何实现并不重要），其中键是 ConnectionId（断开连接时唯一可用的信息），值是连接字符串。如果需要，您可以继续在任何其他地方使用 Session，但我认为您应该将整个应用程序移动到从那里写入和读取，至少对于该信息。**

# regex - 使用 shell 脚本在字符串 a 和字符串 b 之间 grep 字符串

> ID：12472941
> 
> 赞同：-1
> 
> 时间：2012-09-18T08:16:52.213
> 
> 标签：regex, shell, grep

例如：我有一个 txt 文件，例如：

文本（“你好”） 文本（“世界”） 文本（“曾经”） 文本（“再次”）

```
Aim to replace 
hello  with string_1,
world with string_2,
once with string_3,
again  with string_4, 
```

如何编写脚本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T08:33:44.433

```
perl -pi -e 's/hello/string_1/g;s/world/string_2/g;s/once/string_3/g;s/again/string_4/g' your_file; 
```

上面的命令将进行就地替换。如果您希望输出到控制台，则删除“ `i`”。

另一种方法是：

```
sed -e 's/hello/string_1/g;s/world/string_2/g;s/once/string_3/g;s/again/string_4/g' your_file 
```

awk：

```
awk '{gsub(/hello/,"string_1");gsub(/world/,"string_2");gsub(/once/,"string_3");gsub(/again/,"string_4");print}' your_file 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T16:36:17.453

一个不错的技术是使用替换字符串的字典。就像是：

```
perl -pe '%x=(
    "hello" => "string_1",
    "world" => "string_2", 
    "once" => "string_3",
    "again" => "string_4",
    );
    s/$k/$v/g while( $k, $v ) = each %x' input-file 
```

# iphone - 处理连接 iphone vs 代理

> ID：12472948
> 
> 赞同：0
> 
> 时间：2012-09-18T08:17:09.507
> 
> 标签：iphone, proxy

我在 3G 网络上使用我的 http 代理（鱿鱼）。

**apn：
xxxx 用户名：xxxx
密码：xxxx
代理=xxxx**

在 3g 中，无法在代理配置中添加用户名/密码。我希望我的代理应该知道 http 请求源（通过方式发送）。是否可以在 iphone 发送的所有标头请求中添加一些值并从我的 iphone 应用程序处理 iphone 和代理之间的连接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T11:41:24.687

我发现此配置文件配置可重定向所有流量并将 usrname/psswd 通过 3g 发送到代理。
这是正确的吗 ？

`<key>`apn `</key>`
`<string>`mobile.test.com `</string>`
`<key>`proxy `</key>`
`<string>`proxy.test.corp.local `</string>`
`<key>`proxyPort `</key>`
`<integer>`8080 `</integer>`
`<key>`proxyUsername `</key>`
`<string>`test\myname `</string>`
`<key>`proxyPassword `</key>`
`<string>`mypassword`</string>`

# python - Hackerrank.com 井字游戏挑战

> ID：12472952
> 
> 赞同：4
> 
> 时间：2012-09-18T08:17:27.307
> 
> 标签：python, tic-tac-toe, challenge-response

我想问一下井字游戏有可能赢吗？因为法官机器人知道每一个技巧，他知道如何使技巧动作失败。我只能两回合打平。如果可能的话，你们能给我一个提示吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T08:19:41.903

如果两个玩家都知道如何玩游戏，那么您就无法真正赢得井字游戏。如果您从中间开始，其他玩家可以通过将其放在顶部然后向左或其他方式来阻止您。现在不记得了，但除非你打破人工智能，否则不可能赢。对不起 ：（

# mysql - 使用 Where 子句从连接的 mysql 表中过滤数据

> ID：12472962
> 
> 赞同：0
> 
> 时间：2012-09-18T08:17:53.953
> 
> 标签：mysql

如何使用 Balance 列的 where 子句过滤以下查询中的数据。当我在 where 条件下使用 Balance 时，出现错误 [“where 子句”中的未知列“Balance”]。

```
select *,(it.Total - p.Amount) as Balance
from invoices i
left outer join invoice_items it
    on i.ID=it.InvoiceID
left outer join payment p
    on p.InvoiceID=it.InvoiceID 
where Balance!=0; 
```

而且，当没有找到匹配的付款记录时，我不需要在 Balance 列中显示空值，而是需要 invoice_items 表的 Total 值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:20:34.663

您不能在 where 子句中使用别名。

改写

```
where (it.Total - p.Amount) <> 0 
```

而对于另一部分

```
 select 
   (case when p.PaymentId IS NULL 
    then it.Total
    else
    (it.Total - p.Amount) 
   end) 
```

或者。COALESCE 表示：如果 p.Amount 为空，则使用 0。否则使用 p.Amount

```
select it.Total - COALESCE(p.Amount, 0) 
```

最后

```
select i.*,(it.Total - COALESCE(p.Amount, 0)) as Balance
from invoices i
left outer join invoice_items it
    on i.ID=it.InvoiceID
left outer join payment p
    on p.InvoiceID=it.InvoiceID 
where it.Total - COALESCE(p.Amount, 0) <> 0; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-09-18T08:21:34.383

试试这个：

```
select *,(it.Total - p.Amount) as Balance
from invoices i
left outer join invoice_items it
    on i.ID=it.InvoiceID
left outer join payment p
    on p.InvoiceID=it.InvoiceID 
where (it.Total - p.Amount) <> 0; 
```

您不能在 where 子句中使用别名，因为按时间顺序，WHERE 发生在 SELECT 之前，它始终是执行链中的最后一步。

# android - Android 库项目 - 混淆

> ID：12472965
> 
> 赞同：3
> 
> 时间：2012-09-18T08:18:16.397
> 
> 标签：android, jar, obfuscation, android-library

我正在为重新分发准备 Android 库，它的代码必须被混淆。我读过一些关于这个主题的东西，我决定使用 Android Library Project。它将作为 jar 分发（在 /bin 目录中自动创建（我正在使用带有最新 ADT 的 eclipse）。所有资源（布局、drawable 等）将分发在单独的包中，开发人员必须将其添加到他的项目中手动（与清单权限等相同）。所以到目前为止一切正常 - 添加到我的干净项目中的 jar 做了它应该做的事情，它看到资源添加到我的基础项目中。但问题是当我想混淆这个库 jar 时（一个在库项目的 /bin 目录中自动生成）。由于 Eclipse 仅在常规 Android 项目（构建 APK 时）支持使用 Proguard 进行混淆，因此它不 t 为 Android 库项目提供混淆（jar 未被混淆，即使将“proguard.config=proguard.cfg”行添加到 project.properties 文件）。我认为混淆这样一个 jar 的最佳方法是在 Eclipse 之外使用 Proguard，但我不知道为什么我总是得到“空输出 jar”——即使使用我在常规项目中一直使用的参数，之前我决定从中提取库。使用 proguard 4.6、4.7、4.8 测试，效果相同。如果有人可以向我展示允许混淆 android 库项目的示例 proguard.conf，我将不胜感激（例如，基于 facebook Android 库项目，可以在此处下载：被添加到 project.properties 文件中）。我认为混淆这样一个 jar 的最佳方法是在 Eclipse 之外使用 Proguard，但我不知道为什么我总是得到“空输出 jar”——即使使用我在常规项目中一直使用的参数，之前我决定从中提取库。使用 proguard 4.6、4.7、4.8 测试，效果相同。如果有人可以向我展示允许混淆 android 库项目的示例 proguard.conf，我将不胜感激（例如，基于 facebook Android 库项目，可以在此处下载：被添加到 project.properties 文件中）。我认为混淆这样一个 jar 的最佳方法是在 Eclipse 之外使用 Proguard，但我不知道为什么我总是得到“空输出 jar”——即使使用我在常规项目中一直使用的参数，之前我决定从中提取库。使用 proguard 4.6、4.7、4.8 测试，效果相同。如果有人可以向我展示允许混淆 android 库项目的示例 proguard.conf，我将不胜感激（例如，基于 facebook Android 库项目，可以在此处下载：已经决定从中提取库。使用 proguard 4.6、4.7、4.8 测试，效果相同。如果有人可以向我展示允许混淆 android 库项目的示例 proguard.conf，我将不胜感激（例如，基于 facebook Android 库项目，可以在此处下载：已经决定从中提取库。使用 proguard 4.6、4.7、4.8 测试，效果相同。如果有人可以向我展示允许混淆 android 库项目的示例 proguard.conf，我将不胜感激（例如，基于 facebook Android 库项目，可以在此处下载：[https://github.com/facebook/facebook-android-sdk/zipball/master](https://github.com/facebook/facebook-android-sdk/zipball/master)）。每一步的指导将不胜感激。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T12:24:27.193

“-dontshrink” 将保留所有课程。要更有选择性，请使用各种“-keep”选项。

# azure - 关于 Azure Storage 中的私有 Container

> ID：12472970
> 
> 赞同：1
> 
> 时间：2012-09-18T08:18:27.387
> 
> 标签：azure, permissions, containers, azure-storage, azure-blob-storage

有没有办法在 Azure 存储上创建一个仅对使用管理员凭据登录的用户可见的容器？

其他用户应该无法查看容器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:45:17.497

你想要完成的事情不可能开箱即用。您需要在您的应用程序中为此做一些额外的工作，因为您的应用程序中的“管理员”与您的存储帐户上的“管理员”无关，并且 Windows Azure 存储仍然不支持基于角色的事物，您可以在其中获取某些数据在授权上。

您可以做的一件可能的事情是在用户和数据库中某处的 blob 容器之间建立关系。当用户登录时，无论如何您都在验证您的用户。那时，获取允许该特定用户查看的 blob 容器列表。然后，您从您的存储帐户中获取所有 blob 容器，但仅显示登录用户可以看到并存在于您的存储帐户中的那些 blob 容器。

希望这可以帮助。

# python - 拆分由标记和空格分隔的一行数字并将其存储到元组中的最佳方法是什么？

> ID：12472975
> 
> 赞同：1
> 
> 时间：2012-09-18T08:18:37.017
> 
> 标签：python

假设我有一个文本文件，其中的数字由冒号和空格分隔，如下所示。

```
0:-83 1: -51 2: -69 3: -82 4: -85 8: -90 9: -69 QUAD
0:-88 1: -88 2: -98 3: -75 4: -42 5: -71 6: -89 7: -28 8: -83 9: -78 STADIUM 
```

一对定义为用冒号分隔的两个数字。空格任意打断成对的数字。

目前，我有以下内容。

```
with open('data.txt') as file:
  lines = file.read().splitlines()
for line in lines: 
  line = line[:-1]  
  # What is the regex I should be using? 
  # data = re.split(r'[:\s]',line) includes the space after the colon if it exists 
```

解析文本文件的最佳方法是什么，以便每一行都存储为一个元组列表，其中每个元组都是一对？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-09-18T08:21:24.090

以下正则表达式将为您提供成组的数字对（包括减号）：

```
r'\b(-?\d+)\s*:\s*(-?\d+)\b' 
```

这匹配一个单词边界 ( `\b`)，然后是一组数字（`-`前面有一个可选的减号），后跟一个由可选空格包围的冒号，然后是另一组带有可选减号的数字，然后是一个单词边界。

演示：

```
>>> import re
>>> numpairs = re.compile(r'\b(-?\d+)\s*:\s*(-?\d+)\b')
>>> example = '0:-83 1: -51 2: -69 3: -82 4: -85 8: -90 9: -69 QUAD'
>>> numpairs.findall(example)
[('0', '-83'), ('1', '-51'), ('2', '-69'), ('3', '-82'), ('4', '-85'), ('8', '-90'), ('9', '-69')] 
```

您可能*不想*一次将所有行都写入内存；只需逐行循环您的文件：

```
import re
numpairs = re.compile(r'\b(-?\d+)\s*:\s*(-?\d+)\b')
with open('data.txt') as file:
    for line in file:
        for pair in numpairs.findall(line):
            print pair 
```

您无需删除换行符即可使上述代码正常工作，但如果这样做，请`line.strip()`使用`line[:-1]`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:38:10.597

嗯...正则表达式？为什么？

像这样的东西怎么样：

```
result = [] # list of tuples
for line in your_file:
    fields = line.split(':')
    first = int(fields[0].strip())
    fields = fields[1:] # remove first field
    for field in fields:
        last, new_first = [int(x.strip()) for x in field.split(':')]
        result.append((first, last))
        first = new_first 
```

...但是最后一个字段（QUAD，STADION）呢？不过，你现在应该可以应付了……

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T08:27:01.807

首先，编码要简单得多`for line in file:` 您可以使用 Martijn 的正则表达式来获取数字。

```
for line in file:
    marker = line.split()[-1]
    numbers = re.findall(r'\b(\d+)\s*:\s*(\d+)\b', line) 
```

# regex - 正则表达式：使用多个分隔符验证欧洲日期格式

> ID：12472976
> 
> 赞同：6
> 
> 时间：2012-09-18T08:18:41.003
> 
> 标签：regex

我想验证欧洲日期格式，如“10.02.2012”或“10-02-2012”。因此我创建了以下正则表达式：

```
/\d[0-9]{2}(.|-)\d[0-9]{2}(.|-)\d[0-9]{4}/ 
```

不幸的是，即使日期格式正确，我总是收到无效的消息。

当我用“。”替换“（。|-）”时 对于仅验证用点分隔的日期，它可以工作。所以我想问题一定是“（。|-）”有什么想法吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-01-28T16:33:27.830

请注意，到目前为止使用 \d 字符类提供的答案将允许诸如 00.00.0000 或 99.99.9999 之类的日期通过。如果你想抓住这个，你需要使用更具体的正则表达式。下面的一个将允许 01.01.1900 和 31.12.2099 之间的有效日期

```
^([1-9]|0[1-9]|[12][0-9]|3[01])[-\.]([1-9]|0[1-9]|1[012])[-\.](19|20)\d\d$ 
```

如果您想允许从 0000 到 9999 的任何年份，那么您可以将其更改为

```
^([1-9]|0[1-9]|[12][0-9]|3[01])[-\.]([1-9]|0[1-9]|1[012])[-\.]\d{4}$ 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-18T08:24:28.640

稍作修改后它可以正常工作：

```
\d{2}(\.|-)\d{2}(\.|-)\d{4} 
```

1.  这 ”。” 需要逃脱。

2.  \d 与 [0-9] 相同，无需重复。

[http://regexr.com?326f2](http://regexr.com?326f2)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-09-18T08:24:19.393

好的，我看到你的问题...

```
/\d[0-9]{2}(.|-)\d[0-9]{2}(.|-)\d[0-9]{4}/ 
```

是多余的，因为 \d 与 [0-9] 相同，所以实际上在这里你匹配的是 3 位而不是 2。试试

```
/\d{2}(\.|-)\d{2}(\.|-)\d{4}/ 
```

或者

```
/[0-9]{2}(\.|-)[0-9]{2}(\.|-)[0-9]{4}/ 
```

但不要同时使用

# java - wsdl soap webservice 的 POST 键名

> ID：12472980
> 
> 赞同：0
> 
> 时间：2012-09-18T08:19:08.247
> 
> 标签：java, soap

我目前正在使用来自 Java 客户端的 POST 请求来访问使用 WSDL 文件的 SOAP Web 服务。

我确实收到了来自网络服务的答复，说我的 XML 有问题。我相信目前没有发送任何 XML。我的问题是我必须为我的 XML 设置什么 POST 键，我希望 Web 服务将其用作输入？

这是我的一个代码片段：

```
 List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
        nameValuePairs.add(new BasicNameValuePair("Content", input));

        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));

        // Execute HTTP Post Request
        HttpResponse resp = httpclient.execute(httppost); 
```

# mysql - SQL 语句生成具有三级分组的嵌套 SELECT 框

> ID：12472981
> 
> 赞同：0
> 
> 时间：2012-09-18T08:19:08.107
> 
> 标签：mysql

我在课堂观察记录系统中使用以下表格：

![观察记录 - 师资结构](../Images/37f1c9113cd945306e63227336deb897.png)

*   学院可能包含一门或多门科目。
*   科目可能包含一门或多门课程。
*   科目可能属于一个学院。
*   课程可能属于一门学科。

* * *

因此，例如：

**数学、商业和信息通信技术**（教师）

*数学*（科目）：GCSE 数学、AS 数学、A2 数学、A2 进阶数学（课程）

*商业与 ICT*（主题）：GCSE 商业、BTEC 商业、GCSE ICT、BTEC ICT（课程）

* * *

我想`<SELECT>`按照这些思路制作一个盒子：

```
<select name="courses" id="courses">
    <optgroup label="Maths">
        <option value="1">GCSE Maths</option>
        <option value="2">AS Maths</option>
        <option value="3">A2 Maths</option>
        <option value="4">A2 Further Maths</option>
    </optgroup>
    <optgroup label="Business">
        <option value="5">GCSE Business</option>
        <option value="6">GCSE ICT</option>
        <option value="7">BTEC Business</option>
        <option value="8">BTEC ICT</option>
    </optgroup>
</select> 
```

但是一旦用户首先选择了其中一个**系**，该框将被填充（使用 JavaScript） 。

因此，理想情况下，我想用一条 SQL 语句检索所有这些信息——所有学院的列表，然后是嵌套主题和嵌套课程。我将使用 PHP 来处理这些信息，我对此很满意。

这可能在单个语句中吗？我什至不知道从哪里开始。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:34:42.850

这是你要找的吗？

```
SELECT
f.Title AS Faculty,
s.Title AS Subject,
c.Title AS Course
FROM
Faculties f
LEFT JOIN Subjects s ON f.Faculty_ID = s.Faculty_ID
LEFT JOIN Courses c ON s.Subject_ID = c.Subject_ID 
```

# windows-store - Windows Store 的实际链接在哪里，以便我可以创建开发者帐户

> ID：12472984
> 
> 赞同：0
> 
> 时间：2012-09-18T08:19:27.483
> 
> 标签：windows-store

我想找到可以注册开发者帐户的实际 URL，但是在 Google 和 MSDN 中搜索了几个小时，我找不到可以开始注册商店开发者帐户的真实页面。我在 MSDN 网站上搜索并找到了这个网址：

[http://msdn.microsoft.com/en-US/library/windows/apps/hh868184](http://msdn.microsoft.com/en-US/library/windows/apps/hh868184)

但是这个网址让我更加沮丧。它只是在说话。它说明了如何注册帐户，但没有提供指向我可以实际访问和注册帐户的页面的链接。这真的很荒谬。无论如何，有人可以帮我看看发生了什么吗？为什么商店注册网址在搜索引擎中不可用。

顺便说一句，我正在从我的 Windows 7 PC 中搜索。我还没有安装 Windows 8。这就是我无法找到真实注册网址的原因吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T20:37:58.323

如果您在 windows8 机器上安装 VS2012，当您尝试创建商店应用程序时，它会要求您创建开发者帐户。

我就是这样做的

# postgresql - PostgreSQL 错误“无法连接到服务器：没有这样的文件或目录”

> ID：12472988
> 
> 赞同：148
> 
> 时间：2012-09-18T08:19:39.770
> 
> 标签：postgresql, osx-snow-leopard, homebrew

[像其他一些人一样，当我在我的项目中运行 rake db:migrate 或什至为我的Ruby on Rails](http://en.wikipedia.org/wiki/Ruby_on_Rails) 3.2 应用程序尝试大多数数据库任务时，我遇到了这个错误。

> PGError（无法连接到服务器：没有这样的文件或目录。服务器是否在本地运行并接受 Unix 域套接字“/tmp/.s.PGSQL.5432”上的连接？

很久以前我用[Homebrew安装了](https://en.wikipedia.org/wiki/Homebrew_%28package_management_software%29)[PostgreSQL ，最近尝试安装](http://en.wikipedia.org/wiki/PostgreSQL)[MongoDB](http://en.wikipedia.org/wiki/MongoDB)之后，我的 PostgreSQL 安装从未如此。我正在运行 OS X v10.6 Snow Leopard。

出了什么问题，我如何更好地了解 PostgreSQL 是如何以及应该在我的 Mac 上设置的？

到目前为止（我认为）这告诉我 PostgreSQL 没有运行（？）。

```
ps -aef|grep postgres                                                                                                   (ruby-1.9.2-p320@jct-ana) (develop) ✗
  501 17604 11329   0   0:00.00 ttys001    0:00.00 grep postgres 
```

但这是否告诉我 PostgreSQL 正在运行？

```
✪ launchctl load -w /usr/local/Cellar/postgresql/9.1.4/homebrew.mxcl.postgresql.plist                                                        (ruby-1.9.2-p136) 
homebrew.mxcl.postgresql: Already loaded 
```

我该如何解决？我没看到什么？

PS：`~/Library/LaunchAgents`包括两个 PostgreSQL .plist 文件。我不确定这是否相关。

```
org.postgresql.postgres.plist
homebrew.mxcl.postgresql.plist 
```

我尝试了以下并得到如下结果。

**$ psql -p 5432 -h 本地主机**

```
psql: could not connect to server: Connection refused
    Is the server running on host "localhost" (127.0.0.1) and accepting
    TCP/IP connections on port 5432?
could not connect to server: Connection refused
    Is the server running on host "localhost" (::1) and accepting
    TCP/IP connections on port 5432?
could not connect to server: Connection refused
    Is the server running on host "localhost" (fe80::1) and accepting
    TCP/IP connections on port 5432? 
```

因为 OS X 安装了它自己的 PostgreSQL 版本，而 Homebrew 在不同的地方安装了不同的版本，并且 PostgreSQL 命令在 /tmp/ 目录中查找，所以我已经阅读过。您需要在 Stack Overflow 上进行更多搜索，但基本上您对 PostgreSQL 进行符号链接，以便在该 tmp 路径中查找的任何内容实际上都能找到真正的路径，如果这有意义的话。

这是我发现更多尝试的链接，特别是按照上面的符号链接，*[Mac OSX Lion Postgres 不接受 /tmp/.s.PGSQL.5432 上的连接](https://stackoverflow.com/questions/17240516)*。我仍然希望有人能对在 OS X 上安装 PostgreSQL 背后的概念以及为什么这一切如此困难做出一个体面的解释。

帮助排除故障的最新见解：

```
$ which psql // This tells you which PostgreSQL you are using when you run $ psql. 
```

然后运行：

```
$ echo $PATH 
```

要考虑的关键是：

**确保要运行的 PostgreSQL 副本的路径条目位于 OS X 系统的 PostgreSQL 路径之前。**

这是一个核心要求，它决定了运行哪个 PostgreSQL，据我所知，这会导致大多数这些问题。

* * *

## 回答 #1

> 赞同：110
> 
> 时间：2014-02-25T13:24:18.887

Check there is no postmaster.pid in your postgres directory, probably `/usr/local/var/postgres/`

remove this and start server.

Check - [https://github.com/mperham/lunchy](https://github.com/mperham/lunchy) is a great wrapper for launchctl.

* * *

## 回答 #2

> 赞同：63
> 
> 时间：2015-01-05T14:26:51.937

对我来说，这行得通

```
rm /usr/local/var/postgres/postmaster.pid 
```

* * *

## 回答 #3

> 赞同：60
> 
> 时间：2013-01-29T21:11:31.940

如果您在 OS X 上，“ [Postgres.app ”是一个更好的解决方案](http://postgresapp.com/)

* * *

这是修复：

1.  停止数据库
2.  `cd /var`
3.  `sudo rm -r pgsql_socket`
4.  `sudo ln -s /tmp pgsql_socket`
5.  `chown _postgres:_postgres pgsql_socket`
6.  重启 PostgreSQL（不是你的电脑）

更多信息可在“ [postgresql 9.0.3\. on Lion Dev Preview 1](https://github.com/mxcl/homebrew/issues/5004) ”中找到。

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2012-09-18T10:17:23.947

对于您提到的错误，这对我有用。执行以下操作*之一*：

1.  `postgres.conf`如果您在安装时使用了默认端口以外的其他东西， 可能会更改文件中指定的默认端口`5432`。

2.  更改端口号`postgresql.conf`并重新启动数据库服务器。

3.  而不是`psql`输入完整的命令：

    ```
    psql -p 5432 -h localhost 
    ```

    *   服务器名称和端口号

* * *

## 回答 #5

> 赞同：13
> 
> 时间：2013-05-22T13:53:46.517

**如果您正在运行 Homebrew，请卸载 Postgresql end pg gem：***

```
$ gem uninstall pg
$ brew uninstall postgresql 
```

**下载并运行以下脚本以修复 /usr/local 上的权限：*** [https://gist.github.com/rpavlik/768518](https://gist.github.com/rpavlik/768518)

```
$ ruby fix_homebrew.rb 
```

**然后再次安装 Postgres 和 pg gem:***

```
$ brew install postgresql  
$ initdb /usr/local/var/postgres -E utf8 
```

**要在登录时启动 postgresql，请运行：**

```
$ ln -sfv /usr/local/opt/postgresql/*.plist ~/Library/LaunchAgents 
```

**或者手动启动。**

**安装 pg gem**

```
$ gem install pg 
```

我希望有帮助

* * *

## 回答 #6

> 赞同：10
> 
> 时间：2019-02-01T03:23:09.820

我通过升级 postgres 解决了这个问题。

```
brew update
brew upgrade 
```

然后我还必须升级数据库以兼容新的主要版本，因为我从 10 升级到了 11。

```
brew postgresql-upgrade-database 
```

（来源[https://github.com/facebook/react-native/issues/18760#issuecomment-410533581](https://github.com/facebook/react-native/issues/18760#issuecomment-410533581)）

* * *

## 回答 #7

> 赞同：8
> 
> 时间：2013-12-30T13:41:45.417

当我将 Postgres 升级到 9.3.x 时，我遇到了这个问题。对我来说，快速解决方法是降级到我之前拥有的任何 9.2.x 版本（无需安装新版本）。

```
$ ls /usr/local/Cellar/postgresql/
9.2.4
9.3.2
$ brew switch postgresql 9.2.4
$ launchctl unload ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist
$ launchctl load ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist
<open a new Terminal tab or window to reload>
$ psql 
```

“ [Homebrew install specific version of formula?](https://stackoverflow.com/questions/3987683/homebrew-install-specific-version-of-formula/4158763#4158763) ” 提供了更全面的解释以及解决问题的替代方法。

* * *

## 回答 #8

> 赞同：7
> 
> 时间：2020-06-28T12:20:14.383

我在使用自制软件在 Mac 10.15.5 上运行时遇到了这个错误，这似乎是一个更新的解决方案，适用于上述解决方案。

有一个名为 postmaster.pid 的文件应该在 postresql 退出时自动删除。

如果它不执行以下操作

*   brew services stop postgresql <--- 在 rm 之前无法退出可能会损坏数据库
*   sudo rm /usr/local/var/postgres/postmaster.pid

* * *

## 回答 #9

> 赞同：5
> 
> 时间：2016-03-16T22:09:38.933

所以对于这里的很多问题，似乎人们已经在运行 psql 并且不得不删除`postmaster.pid`. 但是，我没有这个问题，因为我什至从来没有在我的系统中正确安装过 postgres。

这是一个在 MAC OSX Yosemite 中对我有用的解决方案

1.  我去了[http://postgresapp.com/](http://postgresapp.com/)并下载了该应用程序。
2.  我将应用程序移至 Application/ 目录
3.  我通过将其添加到 .bashrc 或 .bash_profile 或 .zshrc 将其添加到 $PATH ：`export PATH=$PATH:/Applications/Postgres.app/Contents/Versions/latest/bin`
4.  我从 Applications 目录运行 postgres 并再次运行命令并且它工作。

希望这可以帮助！面条！

此外，这个答案对我帮助最大：[https ://stackoverflow.com/a/21503349/3173748](https://stackoverflow.com/a/21503349/3173748)

* * *

## 回答 #10

> 赞同：4
> 
> 时间：2013-10-21T01:36:09.440

当您运行： psql -p 5432 -h localhost 它不使用环回驱动程序，而是使用真正的套接字，因此您需要配置 postgres 以接受套接字连接。因此，即使 pgadmin 和其他客户端可以工作，psql 也不会。

您需要同时更改 postgresql.conf 文件和 pg_hba.conf 文件，以便允许通过真实套接字进行连接。这也将允许从远程 IP 连接，这就是默认禁用它的原因。

这些文件位于数据目录中，但实际位置可能会有所不同，具体取决于 postgres 的安装方式。运行 postgres 后，运行以下命令：

```
ps -ef | grep postmaster 
```

这两个文件是-D目录（可能是/usr/local/pgsql/data）。

对于 postgresql.conf 文件，取消注释 listen_address 并将其更改为：

```
listen_address = '*' 
```

对于 pg_hba.conf 添加以下行：

```
host all all 0.0.0.0/0 md5 
```

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2016-12-18T03:04:10.310

我不太了解 Mac 或 Homebrew，但我非常了解 PostgreSQL。

您想弄清楚试图启动 PostgreSQL 的日志在哪里，以及 PostgreSQL 的套接字目录是什么。默认情况下，当你构建 PG 时，socket 目录是 /tmp/。如果您在构建 PG 并启动 PG 时没有更改它，那么您应该能够在 /tmp 中看到一个套接字文件：ls -al /tmp

套接字文件以“.”开头，因此您不会看到它带有 ls 的“-a”。

如果您在那里看不到套接字，并且您在 ps awux | 中看不到任何东西 grep postgres，然后 PG 可能没有运行，或者它可能是并且它是 OSX 安装的。可能发生的情况是，您在 localhost 上侦听端口 5432 时可能会遇到冲突 - 使用 netstat -anp 查看正在侦听 5432 的内容（如果有的话）。如果 Mac OSX PG 已经在侦听该端口，那么这可能成为问题。

希望有帮助。我听说自制软件会让事情变得有点难看，我交谈过的很多人都鼓励使用虚拟机。

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2020-03-23T07:10:13.120

对我来说命令`rm /usr/local/var/postgres/postmaster.pid`不起作用，因为我用自制软件安装了特定版本的 postgresql。

正确的命令是`rm /usr/local/var/postgres@10/postmaster.pid`.

然后`brew services restart postgresql@10`。

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2014-02-01T20:31:45.007

Hello world :)
**对我来说最好但奇怪的方法是做接下来的事情。**

**1)**下载[postgres93.app](http://postgresapp.com/)或其他版本。将此应用程序添加到 /Applications/ 文件夹中。

**2）**`.bash_profile`在文件（在我的主目录中）中 添加一行（命令）：

```
导出 PATH=/Applications/Postgres93.app/Contents/MacOS/bin/:$PATH
```

这是一个 PATH 到`psql`from `Postgres93.app`。每次启动控制台时都会运行该行（命令）。

**3)**`Postgres93.app`从`/Applications/`文件夹启动。它启动一个本地服务器（端口是“5432”，主机是“localhost”）。

**4）**在所有这些操作之后，我很高兴运行`$ createuser -SRDP user_name`其他命令并看到它有效！`Postgres93.app`可以在每次系统启动时运行。

**5）**此外，如果您想以图形方式查看数据库，则应安装`PG Commander.app`. 将您的 postgres 数据库视为漂亮的数据表的好方法

当然，它只对本地服务器有用。如果此说明对遇到此问题的其他人有所帮助，我将很高兴。

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2013-11-11T19:12:08.350

您收到此错误的一个原因是您的本地 postgres 数据库在您重新启动计算机时关闭。在新的终端窗口中，只需键入：

```
$psql -h localhost 
```

重新启动服务器。

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2013-07-22T04:03:47.713

**The Cause**

Lion comes with a version of postgres already installed and uses those binaries by default. In general you can get around this by using the full path to the homebrew postgres binaries but there may be still issues with other programs.

**The Solution**

> curl [http://nextmarvel.net/blog/downloads/fixBrewLionPostgres.sh](http://nextmarvel.net/blog/downloads/fixBrewLionPostgres.sh) | sh

Via

[http://nextmarvel.net/blog/2011/09/brew-install-postgresql-on-os-x-lion/](http://nextmarvel.net/blog/2011/09/brew-install-postgresql-on-os-x-lion/)

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2015-01-20T10:45:39.710

我有 PostgreSQL 9.3 并得到了同样的错误，

> 无法连接到服务器：连接被拒绝 服务器是否在主机“localhost”(127.0.0.1) 上运行并接受端口 5432 上的 TCP/IP 连接？

我使用以下方法解决了这个问题：

```
chmod 777  /var/lib/pgsql/9.3/data/pg_hba.conf 
service postgresql-9.3 restart 
```

这个对我有用。

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2015-08-09T20:21:26.643

`md4`对于它的价值，当我的文件中有错字（而不是`md5`）时，我遇到了同样的错误`pg_hba.conf`（`/etc/postgresql/9.5/main/pg_hba.conf`）

如果您像我一样来到这里，请仔细检查该文件一次，以确保其中没有任何可笑的东西。

* * *

## 回答 #18

> 赞同：1
> 
> 时间：2019-03-17T00:20:44.723

只要通过运行出现错误就重新启动Postgres `brew services restart postgresql`，然后再试一次

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2016-11-20T19:32:02.337

如果您使用的是 MacOS 并使用自制软件，我发现这个答案非常有帮助：

[https://stackoverflow.com/a/27708774/4062901](https://stackoverflow.com/a/27708774/4062901)

对我来说，我的服务器正在运行，但由于升级，我遇到了连接问题（注意：我使用 brew 服务）。如果 Postgres 正在运行，请尝试`cat /usr/local/var/postgres/server.log`查看日志的内容。我的错误是迁移，而不是连接问题。

同样在他们提出的手动迁移之后（确实有效，但是）我发现我的用户不再有一个表。试试这个命令来解决这个问题：（`createdb`通过[psql 回答：致命：数据库“<用户>”不存在](https://stackoverflow.com/questions/17633422/psql-fatal-database-user-does-not-exist)）

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2016-10-06T13:58:07.690

原因之一可能是

postgresql.conf 文件中的 unix_socket_directories 未与它要查找的目录一起列出。

在问题示例中，它正在寻找目录 /tmp 这必须在 postgresql.conf 文件中提供

像这样的东西：

```
unix_socket_directories = '/var/run/postgresql,/tmp'    # comma-separated list of directories 
```

这个解决方案对我有用。

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2015-08-22T05:34:35.457

在本地运行 PostgreSQL 可能会有不同的问题。我建议清理所有已安装的 postgres 版本并重新开始。安装后，如果您的 rails 项目是最新的，那么重新创建数据库非常容易`db/schema.rb`

这是我通常[在 Mac 上安装 PostgreSQL 的](http://www.startprogrammingnowbook.com/book/setup#uid14)方法。如果您在本地 root 用户下运行数据库，您可能希望省略创建`todo`用户的最后一步

* * *

## 回答 #22

> 赞同：-5
> 
> 时间：2014-04-12T01:45:04.167

这很简单。仅在您的 database.yaml 文件中添加主机。

# .htaccess - mod_rewrite 到 seo URL

> ID：12472990
> 
> 赞同：0
> 
> 时间：2012-09-18T08:19:51.247
> 
> 标签：.htaccess, mod-rewrite

如何使用 .htaccess 重定向 URL，例如

`http://sample.com/photos.php?cat=13&sort=most_recent&time=all_time`

到

`http://sample.com/photos/comedy`

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-18T08:26:16.407

您需要将“cat”参数设为字符串 (http://sample.com/photos.php?cat=comedy&sort=most_recent&time=all_time) 然后您可以使用此规则。

```
RewriteEngine on     
RewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/?$ $1.php?cat=$2&sort=most_recent&time=all_time 
```

（未测试）

# c# - Linq 将可空字符串与字符串进行比较

> ID：12472995
> 
> 赞同：1
> 
> 时间：2012-09-18T08:20:10.397
> 
> 标签：c#, .net, linq, nullable

我有以下 LINQ：

```
 var items = from n in db.Roles
                    where n.importID == importID
                    select n; 
```

“importID”是一个字符串作为参数和一个字符串？对于数据库对象。如果数据库中的 importID 为空，则不应匹配。如何做到这一点？

编译器消息：

`Operator '==' cannot be applied to operands of type 'string?' and 'string'`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-09-18T08:23:25.613

字符串是一种引用类型，因此已经可以为空（即您可以将其设置为空）。Nullable 类型的唯一目的是允许将值类型（如整数、双精度等）设置为 null。解决方法是声明`importId`为`string`，而不是`string?`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-09-18T08:21:44.290

```
var items = from n in db.Roles
            where n.importID.HasValue && n.importId.Value == importID
            select n; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-18T09:09:01.257

你也可以使用`.GetValueOrDefault()`

在短查询中可以...

```
var items = from n in db.Roles
                where n.importID == importID.GetValueOrDefault()
                select n; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-09-18T09:24:45.113

```
var items = from n in db.Roles
                    where !string.IsNullOrEmpty(n.importID) && n.importID == importID
                    select n; 
```

# java - 如何在axis生成的客户端中实现线程以使用java向Web服务发出多个请求

> ID：12472997
> 
> 赞同：1
> 
> 时间：2012-09-18T08:20:16.130
> 
> 标签：java, web-services, axis, middleware

我有一个请求对象的数组列表。我在 for 循环中运行它们，在循环内我调用 web 服务并将响应对象添加到另一个数组列表中。我需要实现线程，以便可以向 Web 服务发送多个请求。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-09-18T11:24:57.897

我自己并没有真正尝试过，但认为它可能很有趣，所以我玩弄了它，希望它能满足你的要求：

```
List<RefundOrderResponse> responses = Collections.synchronizedList(new ArrayList<RefundOrderResponse>());

Executor e = Executors.newFixedThreadPool(10);
CompletionService<RefundOrderResponse> ecs = new ExecutorCompletionService<RefundOrderResponse>(e);

// Create some futures based on the requests we have that we want processed
List<Future<RefundOrderResponse>> futures = new ArrayList<Future<RefundOrderResponse>>();

for (final RefundOrderRequest request : requests)
{
    futures.add(ecs.submit(new Callable<RefundOrderResponse>()
    {
        @Override
        public RefundOrderResponse call () throws Exception
        {
            // do the call to the web service here and return the response
            return soapWS.refundOrder(request);
        }
    }));
}

// Now we can process the response, note with a completion service we are assuming process order of responses is not very important.
for (int i = 0; i < futures.size(); i++) {
    responses.add(ecs.take().get());
} 
```

我在这里使用了 Java CompletionService，或者更具体地说是[ExecutorCompletionService](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/ExecutorCompletionService.html)（因为它使用 executor 并行运行）。它确实假设响应的处理可以按任何顺序完成，在这种情况下只是将它们添加到响应列表中。不确定您打算对响应列表做什么，但是您可以在循环中处理它们而不是将它们添加到列表中。

# java - 解析 UTF-8 编码的 XML 文件

> ID：12472999
> 
> 赞同：0
> 
> 时间：2012-09-18T08:20:23.147
> 
> 标签：java, android, xml

我有一个 XML 文件，其中包含从 URL 检索到的一些阿拉伯字符，因此我必须将其编码为 UTF-8，以便它可以处理这些字符。

XML 文件：

```
<Entry>

    <lstItems>            
           <item>
        <id>1</id>
            <title>News Test 1</title>
            <subtitle>16/7/2012</subtitle>
        <img>joelle.mobi-mind.com/imgs/news1.jpg</img>
           </item>
           <item>
        <id>2</id>
            <title>كريم</title>
            <subtitle>16/7/2012</subtitle>
        <img>joelle.mobi-mind.com/imgs/news2.jpg</img>
           </item>
           <item>
        <id>3</id>
            <title>News Test 333</title>
            <subtitle>16/7/2012</subtitle>
        <img>joelle.mobi-mind.com/imgs/news3.jpg</img>
           </item> 
           <item>
        <id>4</id>
            <title>ربيع</title>
            <subtitle>16/7/2012</subtitle>
        <img>joelle.mobi-mind.com/imgs/cont20.jpg</img>
           </item> 
           <item>
        <id>5</id>
            <title>News Test 55555</title>
            <subtitle>16/7/2012</subtitle>
        <img>joelle.mobi-mind.com/imgs/cont21.jpg</img>
           </item>      
           <item>
        <id>6</id>
            <title>News Test 666666</title>
            <subtitle>16/7/2012</subtitle>
        <img>joelle.mobi-mind.com/imgs/cont22.jpg</img>
           </item>               
    </lstItems>
  </Entry> 
```

我将从 URL 检索到的 XML 解析为字符串，如下所示：

```
public String getXmlFromUrl(String url) {

    try {
        return new AsyncTask<String, Void, String>() {
            @Override
            protected String doInBackground(String... params) {
                //String xml = null;
                try {
                    DefaultHttpClient httpClient = new DefaultHttpClient();
                    HttpGet httpPost = new HttpGet(params[0]);
                    HttpResponse httpResponse = httpClient.execute(httpPost);
                    HttpEntity httpEntity = httpResponse.getEntity();
                    xml = new String(EntityUtils.toString(httpEntity).getBytes(),"UTF-8");

                } catch (Exception e) {
                    e.printStackTrace();
                }
                return xml;

            }
        }.execute(url).get();
    } catch (InterruptedException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (ExecutionException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    return xml;
} 
```

现在将返回的 String 传递给该方法以获取 Document 供以后使用，如下所示：

```
public Document getDomElement(String xml){

        Document doc = null;
        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();

        try {

            DocumentBuilder db = dbf.newDocumentBuilder();
            InputSource is = new InputSource();
            StringReader xmlstring=new StringReader(xml);
            is.setCharacterStream(xmlstring);
            is.setEncoding("UTF-8");
                    //Code Stops here !
            doc = db.parse(is); 

        } catch (ParserConfigurationException e) {
            Log.e("Error: ", e.getMessage());
            return null;
        } catch (SAXException e) {
            Log.e("Error: ", e.getMessage());
            return null;
        } catch (IOException e) {
            Log.e("Error: ", e.getMessage());
            return null;
        }
        // return DOM
        return doc;

} 
```

出现此消息的错误：

```
09-18 07:51:40.441: E/Error:(1210): Unexpected token (position:TEXT ï»¿@1:4 in java.io.StringReader@4144c240) 
```

所以代码在我上面显示的地方崩溃并出现以下错误

```
09-18 07:51:40.451: E/AndroidRuntime(1210): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.university1/com.example.university1.MainActivity}: java.lang.NullPointerException 
```

请注意，该代码适用于 ISO 编码。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-09-18T08:21:38.230

您已在 UTF-8 文件中添加了[BOM](http://en.wikipedia.org/wiki/Byte_order_mark)。哪个不好。

也许你用记事本编辑了你的文件，或者你应该检查你的编辑器以确保它没有添加 BOM。

由于 BOM 似乎在文本内而不是在开始时，您还需要使用删除它的位置周围的键来删除它（它在大多数编辑器中是不可见的）。这可能发生在文件连接操作期间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-09-18T08:24:35.290

这可能不是问题，但`EntityUtils.toString(httpEntity).getBytes()`使用的是默认平台编码。您应该使用`EntityUtils.toString(httpEntity)`as `String`，无需将其转换为字节。

此外，请阅读此[http://kunststube.net/encoding/](http://kunststube.net/encoding/)以了解正在发生的事情的有用背景。