# StackOverflow 问答 10039000-10039999

# html - HTML - 我应该使用什么样的布局标签来进行布局

> ID：10039002
> 
> 赞同：1
> 
> 时间：2012-04-06T04:05:07.377
> 
> 标签：html, css

我正在为帐户页面进行布局。而且我认为我的代码看起来很糟糕，因为我试图避免使用表格。这是我想要得到的屏幕截图： ![在此处输入图像描述](../Images/7c4c69d93199b4e7eee30ca0c2e64f82.png)

现在，我正在使用这样的东西（见 jsfiddle）：http: [//jsfiddle.net/uaUtq/7/](http://jsfiddle.net/uaUtq/7/)

这是为了快速回顾：

```
<ul class="info_list">
    <li>
        <label>First name</label>
        <div><input type="text" /></div>
    </li>
    <li>
        <label>Email</label>
        <div>
            <p>john@gmail.com (Default)</p>
            <input type="text"/></div>
    </li>
    <li>
        <label></label>
        <div>
            <input type="checkbox" />Tickbox
        </div>
    </li>
</ul>​ 
```

感觉又丑又复杂。你会建议怎么做？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T04:12:03.250

对你正在做的事情使用无序列表并没有错。您可以考虑的其他选项只是使用一个表单，然后将您的标签输入配对包装在 div 中以用于布局目的：

```
<form>
  <div>
    <label for="firstName">First Name</label>
    <input type="text" id="firstName" />
  </div>
  <div>
    <label for="email">Email</label>
    <input type="text" id="email" />
  </div>
// etc.
</form> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-06T04:15:11.013

不要乱用太多标签。

只需使用`<div>...</div>`并将**样式部分留给 CSS**

*（无论如何，这就是它的原始目的：将“内容”与“设计”分开）* ......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T04:15:53.697

我认为你应该像这样使用 div 而不是 li

```
<div>
    <div class="label">First Name</div>
    <div class="element"><input type="text"/></div>
</div>
<div>
    <div class="label">Email</div>
    <div class="element"><input type="text"/></div>
</div> 
```

并为标签和控件编写 CSS 类以正确对齐，即边距、填充、浮动等。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-04-06T05:27:53.483

你应该使用一张桌子。表格是使列对齐的唯一方法，以便第一列仅占据它所需的宽度（最长标签的宽度）。任何其他方法都迫使您对宽度进行猜测，结果不可避免地会有所不同，代码也不会健壮（只要最长标签的长度发生变化，就需要调整宽度）。

（这是一个重复的问题，你会在 StackOverflow 上找到它的许多版本，答案各不相同。一旦你停止倾听没有事实支持的意识形态论点，问题就很简单了。）

# jquery - Jquery .one 不适用于 ajax 加载的元素

> ID：10039003
> 
> 赞同：-1
> 
> 时间：2012-04-06T04:05:07.857
> 
> 标签：jquery, ajax

我正在尝试在 ajax 加载的元素上使用 jQuery.one。如果元素已经加载，但在使用 ajax 加载元素时无效。

这是我想要做的。

```
 $("#selector").one('mouseenter', selMouseEnter);

function selMouseEnter() {
Some code....
} 
```

提前谢谢。沙市

编辑：

```
$(".pitem").on('mouseenter', selMouseEnter);

$(".pitem").mouseleave(function(){
    jQuery(this).find(".tooltip").remove();
    $(".pitem").on('mouseenter', selMouseEnter);
});

function selMouseEnter () {
    jQuery(this).find(".tooltip").remove();
        var id = $(this).attr('id').replace('myprize', '');
    var myObj = jQuery('#Py').data('myprize' + id);
    if(myObj) {
        Some code that is opening tooltip having buttons....
    }
} 
```

现在的冲突是当我单击工具提示中的按钮时，它再次调用 mouseenter 事件，而不是特定于按钮的事件。

注意：#PY 使用 ajax

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T04:09:32.150

您必须在将元素放入页面后运行代码，因为您使用的是静态形式，`.one()`它要求元素在运行代码时存在。

在 jQuery 1.7+ 中，您可以使用像这样的委托版本，并且每当将对象添加到页面时`.one()`，它都会响应对象上的第一个 mouseenter ：`#selector`

```
$(document).one('mouseenter', "#selector", selMouseEnter); 
```

理想情况下，您将替换为在运行此代码时存在`document`的静态父对象，`#selector`因为这比使用该`document`对象更有效，尽管`document`会起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T04:10:56.820

为了在动态加载的元素上正确处理 jquery 事件，您需要以这种方式附加事件。

```
$("#parent").on({
  mouseenter: function (e) {
    // perform mouse enter event
  },
  mouseleave: function (e) {
    // perform mouse leave event
 }
}, '#selector'); 
```

其中#Parent 表示动态加载元素的元素的id。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T04:14:17.350

因为它是动态加载的元素，您需要使用[.live()](http://api.jquery.com/live/)或[.on()](http://api.jquery.com/on/)或[livequery()](http://brandonaaron.net/code/livequery/docs)。请参阅链接以获取更多信息 - 根据您的 jquery 版本使用适当的方法

# charts - 我可以使用什么 HTML5 图表工具来呈现具有不同 x 值的随时间变化？

> ID：10039005
> 
> 赞同：1
> 
> 时间：2012-04-06T04:05:39.070
> 
> 标签：charts, plot, visualization

谷歌提供了一个图表/图形 API，并有一个图表，我想用它来呈现随时间的变化，这个图表/图表被称为“带[注释的时间线](https://developers.google.com/chart/interactive/docs/gallery/annotatedtimeline#Example)”，它的一个例子在这里：

[图片.png http://img198.imageshack.us/img198/1160/pictureea.png](http://img198.imageshack.us/img198/1160/pictureea.png)

最酷的功能是您不必为每个 y 值绘制所有相同的“x 坐标”点，因此数据点不必全部垂直排列。这很好，因为我在每个时间间隔都没有所有点的值：

[图片1.png http://img843.imageshack.us/img843/5814/picture1ye.png](http://img843.imageshack.us/img843/5814/picture1ye.png)

这**将是**我的需求的结束，除了我无法在没有截屏的情况下打印出来，因为这个特定的谷歌可视化是基于 Flash 的。

我可以使用什么工具来绘制与 HTML5 兼容/非闪存的 y 数据点的不同 x 值的数据？

ps：谷歌也提供[折线图api](https://developers.google.com/chart/interactive/docs/gallery/imagelinechart)，但我不相信它提供不平行的x轴点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T08:54:09.400

您可以使用 amCharts 做到这一点。这是一个基于日期的图表示例，它看起来与谷歌图表非常相似：http: [//amcharts.com/stock/events/](http://amcharts.com/stock/events/) 另一个有多行的图表：http: [//amcharts.com/javascript/line-chart-with -多值轴/](http://amcharts.com/javascript/line-chart-with-multiple-value-axes/)

此示例具有相同日期的数据点，但图表也可以显示您需要的数据。数据提供者应包括您拥有的所有日期，但数据项不必具有所有图表的值。这是示例数据：

```
{date: new Date(2010,1,2), graph1:54, graph2:2},
{date: new Date(2010,1,3), graph1:53},
{date: new Date(2010,1,4), graph1:55},
{date: new Date(2010,1,5), graph2:2} 
```

我希望这有帮助。安塔纳斯（amCharts 的作者）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-18T22:21:45.373

Highcharts 也有一个[不规则的时间数据](http://www.highcharts.com/demo/spline-irregular-time/grid)示例，可以做到这一点：

[图表.png http://img269.imageshack.us/img269/8963/chartsf.png](http://img269.imageshack.us/img269/8963/chartsf.png)

# asp.net-mvc - MVC DropDownList SelectedValue 未正确显示

> ID：10039006
> 
> 赞同：23
> 
> 时间：2012-04-06T04:05:46.317
> 
> 标签：asp.net-mvc, asp.net-mvc-3, html.dropdownlistfor

我尝试搜索并没有找到任何可以解决我的问题的东西。我在 Razor 视图上有一个 DropDownList，它不会显示我在 SelectList 中标记为 Selected 的项目。这是填充列表的控制器代码：

```
var statuses  = new SelectList(db.OrderStatuses, "ID", "Name", order.Status.ID.ToString());
ViewBag.Statuses = statuses;
return View(vm); 
```

这是查看代码：

```
<div class="display-label">
   Order Status</div>
<div class="editor-field">
   @Html.DropDownListFor(model => model.StatusID, (SelectList)ViewBag.Statuses)
   @Html.ValidationMessageFor(model => model.StatusID)
</div> 
```

我遍历它，即使在视图中它具有正确的 SelectedValue 但是 DDL 始终显示列表中的第一项，而不管所选值如何。谁能指出我做错了什么让 DDL 默认为 SelectValue？

* * *

## 回答 #1

> 赞同：52
> 
> 时间：2012-04-06T06:19:17.653

构造函数的最后一个参数`SelectList`（您希望能够在其中传递所选值 id）被忽略，因为 DropDownListFor 帮助器使用您作为第一个参数传递的 lambda 表达式并使用特定属性的值。

所以这是一个丑陋的方法：

模型：

```
public class MyModel
{
    public int StatusID { get; set; }
} 
```

控制器：

```
public class HomeController : Controller
{
    public ActionResult Index()
    {
        // TODO: obviously this comes from your DB,
        // but I hate showing code on SO that people are
        // not able to compile and play with because it has 
        // gazzilion of external dependencies
        var statuses = new SelectList(
            new[] 
            {
                new { ID = 1, Name = "status 1" },
                new { ID = 2, Name = "status 2" },
                new { ID = 3, Name = "status 3" },
                new { ID = 4, Name = "status 4" },
            }, 
            "ID", 
            "Name"
        );
        ViewBag.Statuses = statuses;

        var model = new MyModel();
        model.StatusID = 3; // preselect the element with ID=3 in the list
        return View(model);
    }
} 
```

看法：

```
@model MyModel
...    
@Html.DropDownListFor(model => model.StatusID, (SelectList)ViewBag.Statuses) 
```

* * *

这是使用真实视图模型的正确方法：

模型

```
public class MyModel
{
    public int StatusID { get; set; }
    public IEnumerable<SelectListItem> Statuses { get; set; }
} 
```

控制器：

```
public class HomeController : Controller
{
    public ActionResult Index()
    {
        // TODO: obviously this comes from your DB,
        // but I hate showing code on SO that people are
        // not able to compile and play with because it has 
        // gazzilion of external dependencies
        var statuses = new SelectList(
            new[] 
            {
                new { ID = 1, Name = "status 1" },
                new { ID = 2, Name = "status 2" },
                new { ID = 3, Name = "status 3" },
                new { ID = 4, Name = "status 4" },
            }, 
            "ID", 
            "Name"
        );
        var model = new MyModel();
        model.Statuses = statuses;
        model.StatusID = 3; // preselect the element with ID=3 in the list
        return View(model);
    }
} 
```

看法：

```
@model MyModel
...    
@Html.DropDownListFor(model => model.StatusID, Model.Statuses) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-06T13:23:05.260

为每个视图创建一个视图模型。这样做你只会在屏幕上包含需要的内容。由于我不知道您在哪里使用此代码，让我们假设您有一个创建视图来添加新订单。

为您的 Create 视图创建一个新的视图模型：

```
public class OrderCreateViewModel
{
     // Include other properties if needed, these are just for demo purposes

     // This is the unique identifier of your order status,
     // i.e. foreign key in your order table
     public int OrderStatusId { get; set; }
     // This is a list of all your order statuses populated from your order status table
     public IEnumerable<OrderStatus> OrderStatuses { get; set; }
} 
```

订单状态类：

```
public class OrderStatus
{
     public int Id { get; set; }
     public string Name { get; set; }
} 
```

在您的创建视图中，您将拥有以下内容：

```
@model MyProject.ViewModels.OrderCreateViewModel

@using (Html.BeginForm())
{
     <table>
          <tr>
               <td><b>Order Status:</b></td>
               <td>
                    @Html.DropDownListFor(x => x.OrderStatusId,
                         new SelectList(Model.OrderStatuses, "Id", "Name", Model.OrderStatusId),
                         "-- Select --"
                    )
                    @Html.ValidationMessageFor(x => x.OrderStatusId)
               </td>
          </tr>
     </table>

     <!-- Add other HTML controls if required and your submit button -->
} 
```

您的 Create 操作方法：

```
public ActionResult Create()
{
     OrderCreateViewModel viewModel = new OrderCreateViewModel
     {
          // Here you do database call to populate your dropdown
          OrderStatuses = orderStatusService.GetAllOrderStatuses()
     };

     return View(viewModel);
}

[HttpPost]
public ActionResult Create(OrderCreateViewModel viewModel)
{
     // Check that viewModel is not null

     if (!ModelState.IsValid)
     {
          viewModel.OrderStatuses = orderStatusService.GetAllOrderStatuses();

          return View(viewModel);
     }

     // Mapping

     // Insert order into database

     // Return the view where you need to be
} 
```

当您单击提交按钮时，这将保留您的选择，并被重定向回创建视图以进行错误处理。

我希望这有帮助。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-11-02T17:13:12.857

当您在模型中声明它时，请确保您的返回选择值是 String 而不是 int。

例子：

```
public class MyModel
{
    public string StatusID { get; set; }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-10-06T01:58:13.637

对我来说，这个问题是由大的 css 填充数字（下拉字段内的顶部和底部填充）引起的。基本上，该项目正在显示但不可见，因为它已经下降了。我通过使我的填充数字更小来修复它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-01-23T10:24:57.613

我留下这个以防它帮助别人。我有一个非常相似的问题，没有一个答案有帮助。

我的 ViewData 中有一个与 lambda 表达式的选择器同名的属性，基本上就好像你已经`ViewData["StatusId"]`设置了一些东西一样。

在我更改 ViewData 中匿名属性的名称后，DropDownList 助手按预期工作。

不过很奇怪。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2019-08-02T10:30:47.763

我的解决方案是这样的......当前选定的项目是 ProjectManagerID。

看法：

```
@Html.DropDownList("ProjectManagerID", Model.DropDownListProjectManager, new { @class = "form-control" }) 
```

模型：

```
public class ClsDropDownCollection
{
   public List<SelectListItem> DropDownListProjectManager { get; set; }
   public Guid ProjectManagerID { get; set; }
} 
```

生成下拉列表：

```
public List<SelectListItem> ProjectManagerDropdown()
{
    List<SelectListItem> dropDown = new List<SelectListItem>();
    SelectListItem listItem = new SelectListItem();

    List<ClsProjectManager> tempList = bc.GetAllProductManagers();           

    foreach (ClsProjectManager item in tempList)
    {
        listItem = new SelectListItem();
        listItem.Text = item.ProjectManagerName;
        listItem.Value = item.ProjectManagerID.ToString();
        dropDown.Add(listItem);
    }
    return dropDown;
} 
```

* * *

## 回答 #7

> 赞同：-3
> 
> 时间：2012-04-06T06:30:57.710

请在下面找到示例代码。

```
public class Temp
    {
        public int id { get; set; }
        public string valueString { get; set; }
    } 
```

控制器

```
public ActionResult Index()
        {
            // Assuming here that you have written a method which will return the list of Temp objects.
            List<Temp> temps = GetList();

            var tempData = new SelectList(temps, "id", "valueString",3);
            ViewBag.Statuses = tempData;

            return View();
        } 
```

看法

```
 @Html.DropDownListFor(model => model.id, (SelectList)ViewBag.Statuses)
    @Html.ValidationMessageFor(model => model.id) 
```

# mongodb - MongoDB 中的自动分片是否适用于具有许多小型集合/小型数据库的分片

> ID：10039011
> 
> 赞同：1
> 
> 时间：2012-04-06T04:07:20.470
> 
> 标签：mongodb, replication, sharding

在用于自动分片的 MongoDB 文档中，它说：“分片是在每个集合的基础上执行的。不需要对小集合进行分片。”

我们的业务有许多数据库（约 100 个）和许多小型集合（约 30 个），每个集合的文档数为 1 - 3000。我们的数据库系统每月查看大约 100,000,000 次页面浏览量。

在那种情况下，分片将永远激活，因为集合永远不够大，即使数据库使用率和站点流量肯定高到需要负载平衡。从文档中我似乎找不到明确的答案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T10:40:26.560

分片是否有意义在某种程度上取决于您是否主要对数据库进行写入或读取。分片主要用于写入扩展，但如果您不进行大量写入，那么简单地使用带有“slaveOkay”的副本集进行读取也可能同样有效。

从您提供的数字来看，您似乎获得了大约 900 万份文档，但它们是大型文档吗？如果它们很容易放入内存中，那么除了故障转移功能之外，很可能甚至不需要复制集。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T10:40:43.110

如果不了解更多关于您的用例，这很难回答，但我会试一试。

你确定分片是你需要的吗？你的插入率是什么样的？

如果您要拥有一组静态数据，甚至是相对静态的数据集，那么您可能不需要分片，您可以简单地使用更多辅助节点并启用 slaveOK 读取。读取将被分发到各种辅助设备并扩大您的读取容量。

如果不是这种情况，并且您确实需要分片，那么有一些选择。但首先，简要地解释一下自动分片是如何工作的：

mongos 进程通常负责拆分和迁移块。这是两个独立的操作 - 拆分和平衡。

*   当 mongos 看到最大块大小的某个部分已被写入时，就会发生拆分，如果实际上有足够的数据来保证它，它就会启动拆分。随着时间的推移，写入足够多的数据后，块的数量就会增加。
*   当块不平衡时会发生平衡（目前 2.0 中有 8 个，尽管在 2.2 中转向更动态的启发式）。平衡器在分片周围迁移块，直到达到平衡。

因此，您需要写入与最大块大小相关的足够数据（在 2.0 中默认为 64MB），以生成平衡器适当移动它们所需的块。如果您的数据不会发生这种情况，那么您可以查看：

1.  减小块大小（也有缺点 - [http://www.mongodb.org/display/DOCS/Sharding+Administration#ShardingAdministration-ChunkSizeConsiderations](http://www.mongodb.org/display/DOCS/Sharding+Administration#ShardingAdministration-ChunkSizeConsiderations)）
2.  手动拆分/移动块

有关手册说明，请参阅：

[http://www.mongodb.org/display/DOCS/Splitting+Shard+Chunks](http://www.mongodb.org/display/DOCS/Splitting+Shard+Chunks)

[http://www.mongodb.org/display/DOCS/Moving+Chunks](http://www.mongodb.org/display/DOCS/Moving+Chunks)

# android - 有没有办法禁用 xml 警告？

> ID：10039016
> 
> 赞同：13
> 
> 时间：2012-04-06T04:08:39.627
> 
> 标签：android, eclipse

我刚刚更新了我的 SDK，现在 eclipse 在我的 xml 中给了我各种完全不需要的警告......例如，我有一个没有 id 或背景的 RelativeLayout（它实际上是一个透明按钮）和eclipse 警告我这是一个无用的元素。有没有办法关闭这种白痴？

TIA

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2014-05-07T16:06:03.757

根据[http://tools.android.com/recent/ignoringlintwarnings](http://tools.android.com/recent/ignoringlintwarnings)上的文档，您可以通过包含工具 xmlns 来执行此操作：

```
xmlns:tools="http://schemas.android.com/tools" 
```

然后在相关元素中添加 tools:ignore 注释：

```
<RelativeLayout
    tools:ignore="UselessParent"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:layout_margin="30dp"
    android:layout_centerInParent="true"> 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-04-06T04:51:05.503

在 Eclipse ADT 插件的新更新中，将为您提供名称为 Lint 的新工具，这是该工具的一个 SO 链接，它的优点。[点击这里](https://stackoverflow.com/questions/8656598/when-i-update-my-adt-plugin-for-android-i-get-run-android-lint-what-are-adavant)

现在对于来自 Lint Android 工具的禁用 xml 警告，你需要去

Window-->Preferences-->Android-->Lint 错误检查

在此对话框中，您将找到 android 中 Xml 的所有问题，如果您想禁用它，您可以禁用它。并且确保您不会禁用有用的 lint 警告，因为它有助于我们找到在 xml 和很多中分配的多个 ID更多的..

# c++ - 使用列表迭代器排序

> ID：10039018
> 
> 赞同：0
> 
> 时间：2012-04-06T04:08:59.637
> 
> 标签：c++, list, sorting, iterator, linked-list

**问题：**我有一个要在每个循环中渲染的对象列表，但我想按照它们的可变 y 位置的顺序渲染它们。

这是我的清单声明...

```
std::list<Object *> objects;
std::list<Object *>::iterator iter;
std::list<Object *>::iterator iter2; 
```

这是我到目前为止...

```
for(iter = objects.begin(); iter != objects.end(); ++iter) //goes through my objs
   if((*iter)->GetID() == PLAYER || (*iter)->GetID() == ENEMY) //only part of the list
      for(iter2 = iter; iter2 != objects.end(); ++iter2) //goes through the same objs
         if((*iter2)->GetID() == PLAYER || (*iter2)->GetID() == ENEMY) //same as line 2
            if((*iter)->GetY() > (*iter2)->GetY()) 
```

我想按 y 值的降序渲染对象。我想我真正的问题是如何对这个列表进行排序。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-06T04:18:51.540

`std::list`有一个排序函数，你可以将比较器传递给它，所以写一个这样的函数：

```
bool compareByGreaterY(const Object * lhs, const Object * rhs)
{
    return lhs->GetY() > rhs->GetY();
} 
```

然后你可以像这样对列表进行排序：

```
objects.sort(compareByGreaterY); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-06T04:26:55.310

首先，为什么要使用列表？这几乎总是一个糟糕的选择。为什么要使用指针容器？这样做比使用更频繁是有充分理由的`list`，但我们仍然只谈论 0.05% 的时间而不是 0.02% 的时间。谁知道——在这种情况下，它甚至可能达到最好的效果。

无论如何，我们暂时假设这些出于某种原因确实有意义。我还将假设您无法修改原始集合（不清楚这是否正确——如果不是，请跳过复制它，并对原始集合进行排序——但如果您不需要维护顺序出于某种原因，几乎可以肯定它并不真正想要一份清单。

在这些假设下，您可能想要复制集合，对其进行排序，然后呈现：

```
struct descY { 
    bool operator()(Object const *a, Object const *b) { 
        return b.GetY() < a.GetY();
    }
};

std::vector<Object *> sorted(objects.begin(), objects.end());
std::sort(sorted.begin(), sorted.end(), descY()); 
```

如果你有可用的 C++11，你可以使用 lambda 来缩短一点，并将逻辑保持在更容易看到发生了什么的地方，而不用在代码中寻找比较：

```
std::vector<Object *> sorted(objects.begin(), objects.end());
std::sort(sorted.begin(), sorted.end(), 
          [](Object const *a, Object const *b) { return b->GetY() < a->GetY();}); 
```

请注意，要获得降序，我们将在比较中颠倒通常的顺序。

# ruby-on-rails - rails form_tag 重定向到 /assets

> ID：10039019
> 
> 赞同：1
> 
> 时间：2012-04-06T04:09:03.070
> 
> 标签：ruby-on-rails, forms

我想知道为什么

```
<%= form_tag( { :action => "/search", :method => "get" }, :class => "span4" ) do %>
...
<% end %> 
```

给出以下错误？

```
No route matches [POST] "/assets" 
```

我注意到这是因为 /search。如果我将代码重写为...

```
<%= form_tag( { :action => "search", :method => "get" }, :class => "span4" ) do %>
...
<% end %> 
```

没有 /search，它会正确调用我的控制器方法。有人可以解释为什么吗？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T04:18:49.220

这将达到你的意思：

```
<%= form_tag( "/search", :method => "get" , :class => "span4" ) do %>
...
<% end %> 
```

如果 的第一个参数`form_tag`是您给定的哈希，则将其在幕后传递给 ，它被`url_for`解释`:action`为反向映射路线的操作部分。

由于您（我猜）只想传递一个纯 URL，因此只需将其作为第一个 arg 的字符串传递。

[当然这里](http://api.rubyonrails.org/classes/ActionView/Helpers/FormTagHelper.html#method-i-form_tag)有更多信息:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T04:14:38.363

":action" 应该收到一个名为 "action" 的名称，例如："create"、"update" 或 "destroy"

```
:action => "/search" 
```

这里的“/search”不是一个名字，而是一个“url”，这是不合法的。

顺便说一句，我建议你使用 xx_url 而不是 { :action => "", :controller => ""}，例如

```
<%= form_tag "/search", :method => "get" %> 
```

或者

```
# you defined "search_path" in config/routes.rb
<%= form_tag search_path, :method => "get" %> 
```

# linux - 无法将数据包从一个接口路由到另一个接口

> ID：10039027
> 
> 赞同：6
> 
> 时间：2012-04-06T04:09:55.190
> 
> 标签：linux, networking, routing

我有一个带有 2 个接口的系统`eth0`，并且`eth1`.

*   `eth0`是`192.168.0.250`并连接到网关`192.168.0.2`。
*   `eth1``192.123.123.10`通过一个开关连接到。

我正在尝试将数据包从网关路由`192.123.123.10`到网关`192.168.0.2`，这意味着我需要通过接口`192.123.123.x`将进入接口的数据包路由出去。`eth1``eth0`

我将`ip_forward`文件设置为`1`. 我运行了这个命令：

```
route add -net 192.123.0.0 netmask 255.255.255.0 dev eth0
route add default gw 192.168.0.2 
```

我可以从 ping`129.123.123.10`到`192.168.0.250`，但我不能 ping 到`192.168.0.2` 我认为数据包没有被转发到`eth0`。

我的路由表如下所示：

```
gteway Genmask Flags Ref Iface
192.123.123.0 * 255.255.255.0 U eth1
192.168.0.0 * 255.255.255.0 U eth0
192.123.0.0 * 255.255.255.0 U eth0
default 192.168.0.2 0.0.0.0 UG eth0 
```

谁能告诉我缺少什么？先感谢您。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-06T15:40:59.533

你错过了你的后路路线。主机 192.168.0.2 看到来自 192.123.123.10 的数据包，但他不知道如何路由回复数据包，因为它没有返回路由。你可以做两件事：

1-在 192.168.0.2 机器上创建一个路由来处理定向到 192.123.123.0/24 的流量

2- 使用以下命令在您的 192.168.0.250 主机上进行 NAT：

```
iptables -t nat -A POSTROUTING -s 129.123.123.0/24 -j SNAT --to-source 192.168.0.250 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-06T12:15:59.173

您需要关注的不是您在此系统上的路由表。它是其他系统的路由表。192.168.0.2 对被路由到 192.168.0.250 的 192.123.XX 网络一无所知。同样，192.123.XX 上的主机需要将 192.168.XX 网络路由到 192.123.123.10。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T15:28:53.123

我相当肯定这可以使用 iptables 和端口转发规则来实现。这里有更多关于如何在接口之间转发数据包的信息[http://www.revsys.com/writings/quicktips/nat.html 。](http://www.revsys.com/writings/quicktips/nat.html)

# azure - Azure 培训工具包

> ID：10039028
> 
> 赞同：0
> 
> 时间：2012-04-06T04:09:56.520
> 
> 标签：azure

我下载了 Azure 培训工具包，但是当我打开其中一个实验室时，某些项目无法加载。

例如，PhotoAlbum 解决方案缺少 PhtoAlbumService 并提及错误

“未找到导入的项目“C:\Program Files\MSBuild\Microsoft\VisualStudio\v10.0\Windows Azure Tools\1.6\Microsoft.WindowsAzure.targets”。确认声明中的路径正确，并且文件存在于磁盘上。C:\WATK\Labs\ExploringWindowsAzureStorageVS2010\Source\Ex04-WorkingWithDrives\end\CS\PhotoAlbumService\PhotoAlbumService.ccproj"

如果缺少文件，我该如何找到它们以安装它们。它还提到缺少 Microsoft.WindowsAzure.StorageClient。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T05:27:46.213

从记忆中，我认为培训工具包有一个依赖检查器（Web 安装程序检查您的环境），它将确保您在开始之前拥有最新和最好的一切。我建议您在您的开发机器上运行它以查看缺少的内容。

[https://www.windowsazure.com/en-us/develop/net/other-resources/training-kit/](https://www.windowsazure.com/en-us/develop/net/other-resources/training-kit/)

高温高压

# python - 在cherrypy应用程序中测试会话变量和数据库存储

> ID：10039030
> 
> 赞同：0
> 
> 时间：2012-04-06T04:10:40.903
> 
> 标签：python, unit-testing, cherrypy

我正在为一些樱桃代码编写一些单元测试。

我见过的大多数单元测试示例都依赖于 os.environ，并且通常只测试cherrypy 应用程序的最终响应（html 输出）。

我在找：

*   测试是否已为给定请求设置/取消设置会话变量（例如，用户登录，我想验证他的“用户”会话变量是否正确以及他的登录时间等...

*   检查数据存储区中的值（mysql/mongodb）

*   并行运行测试。默认情况下，您从cherrypy.cookie/cherrypy.session 等访问会话和其他信息......这些基本上是全局的。是否可以通过其他方式访问此信息？

任何其他建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T04:23:32.957

您可以编写一个小型 python http 客户端并（假设您运行服务器）对响应进行单元测试。

一些可能有用的库：

*   [urllib](http://docs.python.org/library/urllib.html)
*   [urllib2](http://docs.python.org/library/urllib2.html)
*   [http.client](http://docs.python.org/py3k/library/http.client.html)

此外，您可能还想查看[selenium](http://seleniumhq.org/)（允许您在 python 中为浏览器编写脚本以获取测试用例）。

# ruby - 为什么模块的“自我”方法不能成为类的单例方法？

> ID：10039039
> 
> 赞同：18
> 
> 时间：2012-04-06T04:13:53.323
> 
> 标签：ruby

```
module Test
  def self.model_method
    puts "this is a module method"
  end
end

class A
  include Test
end

A.model_method 
```

这将是错误的：

> A:Class (NoMethodError) 的未定义方法“model_method”

但是当我使用 A 的元类时，它可以工作：

```
module Test
  def model_method
    puts "this is a module method"
  end
end

class A
  class << self
    include Test
  end
end

A.model_method 
```

有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-04-06T05:20:42.857

如果您希望在包含模块时将类方法和实例方法混合到一个类中，您可以遵循以下模式：

```
module YourModule
  module ClassMethods
    def a_class_method
      puts "I'm a class method"
    end
  end

  def an_instance_method
    puts "I'm an instance method"
  end

  def self.included(base)
    base.extend ClassMethods
  end
end

class Whatever
  include YourModule
end

Whatever.a_class_method
# => I'm a class method

Whatever.new.an_instance_method
# => I'm an instance method 
```

基本上为了过度简化它，您`extend`添加类方法并`include`添加实例方法。当一个模块被包含时，它的`#included`方法被调用，它被包含在实际的类中。从这里你可以`extend`使用来自另一个模块的一些类方法的类。这是很常见的模式。

另见：[http ://api.rubyonrails.org/classes/ActiveSupport/Concern.html](http://api.rubyonrails.org/classes/ActiveSupport/Concern.html)

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-04-06T04:47:06.040

包含一个模块类似于复制其实例方法。

在您的示例中，没有实例方法可以复制到`A`. `model_method`实际上是`Test`的单例类的实例方法。

* * *

鉴于：

```
module A
  def method
  end
end 
```

这：

```
module B
  include A
end 
```

与此类似：

```
module B
  def method
  end
end 
```

当你这样想的时候，这是完全有道理的：

```
module B
  class << self
    include A
  end
end

B.method 
```

在这里，方法被复制到`B`模块的单例类中，这使它们成为`B`.

请注意，这与以下内容完全相同：

```
module B
  extend A
end 
```

* * *

实际上，这些方法并没有被复制。**没有重复**。该模块只是包含在方法查找列表中。

# memory - 虚拟地址是如何翻译的？

> ID：10039040
> 
> 赞同：0
> 
> 时间：2012-04-06T04:14:02.140
> 
> 标签：memory, hardware, paging, mmu

我了解（对于英特尔）虚拟地址转换过程是：

**1.**传入的虚拟地址分为页表号、页号、偏移量。

**2.** CPU 中的进程描述符基址寄存器（PDBR）告诉目录从哪里开始。

**3.**页表号乘以4作为到目录的偏移量，并查找目录条目。

**4.**目录条目包含页表的地址，以及有效性和保护信息。如果此信息表明内存中不存在页表或保护不正确，则转换停止并引发异常。

**5.**页号乘以四作为页表的偏移量，并查找页表条目。

**6.**页表项包含页的地址、有效性和保护信息。如果此信息表明该页面不存在于内存中或保护不正确，则翻译停止并引发异常。

**7.**偏移量用作页面的索引。

**8.**数据在最后到达的地址。

直到**第 6 步**，我才感到困惑，因为表条目格式只为物理页框地址指定**20 位**，这意味着它最多只能访问**1 兆字节**，或者它是左移 12 位（乘以 4096 : 页面大小) 能够访问**4 GB**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T04:41:40.113

这是 32 位转换过程。每个页表条目是 32 位，但低 12 位用于标志。高 20 位是页地址。

# html - CSS 兄弟元素增加间距

> ID：10039045
> 
> 赞同：1
> 
> 时间：2012-04-06T04:15:38.083
> 
> 标签：html, css, position

我有一个无序列表，我试图在添加项目时在它们之间添加更多空间。所以，第一个项目有 5px 的右边距，第二个有 10px 的右边距，等等。我可以通过使用 :nth-child(n) 伪类来实现这一点。但这意味着我必须为每个项目创建一个规则（即，如果我的列表中有 6 个项目，我必须有 6 个：nth-​​child(n)）。

有没有一种不需要我为每个 li 提供规则的编码方法？

*   HTML 不能更改
*   仅将 JavaScript 用于 CSS 选择器/属性回退（即 Dean Edwards IE7）、HTML5 支持（即 shim/v）等。

[jsFiddle](http://jsfiddle.net/S2ySk/6/)

**HTML**

```
<header>
    <nav class="nav1">
        <ul>
            <li><a href="http://example.com/1">Hello World 1</a></li>
            <li><a href="http://example.com/2">Hello World 2</a></li>
            <li><a href="http://example.com/3">Hello World 3</a></li>
            <li><a href="http://example.com/4">Hello</a></li>
        </ul>
    </nav>
    <img src="http://markschamel.com/upload/blue.square.png" />
    <nav class="nav2">
        <ul>
            <li><a href="http://example.com/1">Hello World</a></li>
            <li><a href="http://example.com/2">Hello</a></li>
        </ul>
    </nav>
</header> 
```

**CSS**

```
header {
    width: 100%;
    text-align: center;
    background-color: #c87137;
    white-space: nowrap;
}
nav {
    min-width: 40%;
    display: inline-block;
}
nav.nav1 {
    text-align: right;
}
nav.nav2 {
    text-align: left;
}
nav ul {
    width: 100%;
    white-space: nowrap;
    overflow: hidden;
    background-color: #ff0000;
}
nav li {
    background-color: #008000;
    border: 1px solid black;
    white-space: nowrap;
}
nav.nav1 li {
    float: right;
}
nav.nav2 li {
    float: left;
}
nav.nav1 li:nth-child(1) { margin-right: 0px; }
nav.nav1 li:nth-child(2) { margin-right: 5px; }
nav.nav1 li:nth-child(3) { margin-right: 10px; }
nav.nav1 li:nth-child(4) { margin-right: 15px; }

nav.nav2 li:nth-child(1) { margin-left: 0px; }
nav.nav2 li:nth-child(2) { margin-left: 5px; }
nav.nav2 li:nth-child(3) { margin-left: 10px; }
nav.nav2 li:nth-child(4) { margin-left: 15px; } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:27:25.300

您不能在 CSS 中进行计算，因此您要么必须在 JS 中计算增加的​​边距，要么在 CSS 中为一组子项定义边距。像 SAS 或 LESS 这样的 CSS 预处理器可以使这个过程不那么痛苦，但除此之外没有任何选择，这是我们所有人都必须忍受的 CSS 限制:)。

# silverlight - Silverlight ToolKit 图表：隐藏 xaxis 标签

> ID：10039046
> 
> 赞同：0
> 
> 时间：2012-04-06T04:15:47.800
> 
> 标签：silverlight, charts

基本上我有一个包含多个条形系列的图表。所有系列的独立值都相同。因此，图表的 xaxes 以堆叠的相同独立值呈现。

如果我想让所有系列（第一个除外）xaxes 的标签不可见，我该如何在 xaml 声明中做到这一点？

任何人都可以在这方面给我帮助吗？

更新：

我遇到了以下代码的示例：

```
<toolkit:Chart x:Name="myChart" Width="600" Height="400">
<toolkit:LineSeries                 
Title="Tasks"
ItemsSource="{Binding}"
IndependentValueBinding="{Binding Month}"
DependentValueBinding="{Binding Task}">                       
</toolkit:LineSeries>

<toolkit:LineSeries                 
Title="Benefits"
ItemsSource="{Binding}"
IndependentValueBinding="{Binding Month}"
DependentValueBinding="{Binding Benefits}">               
</toolkit:LineSeries>

<toolkit:Chart.Axes>
<toolkit:LinearAxis Orientation="Y" Location="Left" Title="First" />
<toolkit:LinearAxis Orientation="Y"  Location="Right" Title="Second" />
</toolkit:Chart.Axes>            
</toolkit:Chart> 
```

如果您绘制上面的代码，您将看到两个系列都将基于左侧的 Y 值。我们如何更改它，以便将第一个系列绘制在左侧的 Y 值上，将第二个系列绘制在右侧的 Y 值上。

那可能吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T13:57:01.943

`DependentRangeAxis`我认为你可以使用对象的属性来实现你想要的`LineSeries`。

首先，给每个 Y 轴一个`x:Name`，例如`TaskAxis`和`BenefitsAxis`。

然后，您可以通过向 LineSeries 添加属性来告诉 LineSeries 使用轴

```
DependentRangeAxis="{Binding ElementName=TaskAxis}" 
```

或者

```
DependentRangeAxis="{Binding ElementName=BenefitsAxis}" 
```

作为适当的。

然后图表的完整 XAML 变为

```
 <toolkit:Chart x:Name="myChart" Width="600" Height="400">
        <toolkit:LineSeries                 
                Title="Tasks"
                ItemsSource="{Binding Path=Data1}"
                IndependentValueBinding="{Binding Month}"
                DependentValueBinding="{Binding Task}"
                DependentRangeAxis="{Binding ElementName=TaskAxis}">
        </toolkit:LineSeries>
        <toolkit:LineSeries                 
                Title="Benefits"
                ItemsSource="{Binding Path=Data1}"
                IndependentValueBinding="{Binding Month}"
                DependentValueBinding="{Binding Benefits}"
                DependentRangeAxis="{Binding ElementName=BenefitsAxis}">
        </toolkit:LineSeries>
        <toolkit:Chart.Axes>
            <toolkit:LinearAxis Orientation="Y" Location="Left" Title="First" x:Name="TaskAxis" />
            <toolkit:LinearAxis Orientation="Y" Location="Right" Title="Second" x:Name="BenefitsAxis" />
        </toolkit:Chart.Axes>
    </toolkit:Chart> 
```

* * *

另一种方法是`Axis`在 LineSeries 内移动对象。可以在[此处](http://blogs.msdn.com/b/delay/archive/2008/12/09/silverlight-charting-gets-a-host-of-improvements-silverlight-toolkit-december-08-release-now-available.aspx)找到如何执行此操作的演示。

# c# - 将 (x,y) 坐标映射到字节数组中的位 - 尽可能快速有效

> ID：10039049
> 
> 赞同：2
> 
> 时间：2012-04-06T04:15:57.537
> 
> 标签：c#, embedded, bit-manipulation, .net-micro-framework, lcd

我正在使用 C#（在[Netduino Plus](http://www.netduino.com/netduinoplus/specs.htm)上运行的[.NET Micro Framework](http://www.microsoft.com/en-us/netmf/default.aspx)）来控制 84 x 48 像素的 LCD 屏幕。

LCD 屏幕中的每个像素都有两种状态：`1`（ON）或`0`（OFF）。为了控制屏幕中的像素，我需要发送一个数组`504 bytes`，其中每个`byte`代表一列 8 个像素（即，屏幕被“分割”成 6 行，每行 84 x 8 像素）。

最好用一个例子来证明这一点：

*   字节`00000001`( `2^0`) 表示一列八个像素，其中列顶部的第一个像素为 ON ( `1`)。

*   字节`00001001`( `2^0 + 2^3`) 表示另一列 8 个像素，其中从列顶部算起的第一个和第四个像素为 ON。

从中可以看出，按位`AND`运算将显示给定列中的哪些像素是 ON 或 OFF。例如，要查看给定 8 像素列中的第 4 个像素是否为 ON：

```
00001001    AND
00001000
-----------------
00001000 > 0
∴ The 4th pixel is ON 
```

问题是我需要能够使用`(x,y)`坐标来访问屏幕中的每个像素。例如，该点`(3,10)`表示屏幕左上角像素右侧的 4 像素和下方 11 的像素。同样，该点`(83,47)`代表屏幕右下角的像素。

我编写了以下 C# 代码来实现这一点：

```
byte[] display = new byte[504];

// storing these means they don't need to be calculated every time:
byte[] base2 = { 1, 2, 4, 8, 16, 32, 64, 128 };

// Determine if the pixel is ON (true) or OFF (false)
public bool PixelState(Pixel px)
{
    return (display[GetColumn(px)] & base2[GetPxNum(px)]) > 0;
}

// Find the number of the pixel in its column of 8
private int GetPxNum(Pixel px)
{
    return px.y % 8;
}

// Find the index of the byte containing the bit representing the state of a pixel
private int GetColumn(Pixel px)
{
    return (px.y / 8 * 84) + px.x;
}

// Set a pixel's state
public void SetPixel(Pixel px, bool state)
{
    int col = GetColumn(px);
    int num = GetPxNum(px);

    if (state && !PixelState(px))
        display[col] += base2[num];
    else if (!state && PixelState(px))
        display[col] -= base2[num];
}

// Represents one (x,y) point
public struct Pixel
{
    public int x, y;

    public Pixel(int x, int y)
    {
        this.x = x;
        this.y = y;
    }
} 
```

由于这是在微控制器上运行的，因此我需要代码尽可能快速高效。这也是必要的，因为这些方法可能会被快速连续调用多次以更新 LCD 屏幕中的像素。

因此我的问题是**如何让这段代码更快更高效？有没有更好的方法来解决这个问题？**

**编辑：**经过一些广泛的测试后，我意识到我应该`Math.Floor`在`GetColumn`. 我已经更新了我的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T04:54:20.640

这个小片段在`SetPixel`：

```
if (state && !PixelState(px))
    display[col] += base2[num];
else if (!state && PixelState(px))
    display[col] -= base2[num]; 
```

可以替换为：

```
if (state)
    display[col] |= base2[num];
else
    display[col] &= (byte)~base2[num]; // You could precompute this inverse array too 
```

如果你有足够的可用内存，预计算可能没问题，但说真的，现在 uC 拥有如此强大的处理能力。你真的会注意到一点位移或否定吗？

* * *

此外，您可能有兴趣不使用`(double)`，并且`Math.ceiling()`由于您的微控制器可能不支持浮点，因此必须对其进行仿真（因此性能下降。使用`(float)`会使其更好（单精度仿真更快）但更好的是这：

```
return ( (px.y/8 + ((px.y%8)?1:0)) * 84 ) + px.x; 
```

**编辑：**仔细看看netduino它*可能*有一个FPU（虽然我在数据表中看不到它，所以它可能没有......）整数数学替代方案可能仍然更快:)

* * *

它是否更快只能通过测试来保证，但是，就像我在评论中所说的那样，这可以说是一个瓶颈，你看起来就像另一个过早优化的受害者。

这里最大的瓶颈是你的框架。

# python - Django {% url %} 反向不起作用

> ID：10039050
> 
> 赞同：0
> 
> 时间：2012-04-06T04:16:34.210
> 
> 标签：python, django, django-templates, django-views

我在 Django 1.4 项目中有一个视图：

```
def index(request):
    print reverse('menus_index')
    latest_menu_list = Menu.objects.all().order_by('name')
    return render_to_response('menus/index.html', {'latest_menu_list': latest_menu_list}) 
```

这按预期工作并打印出反向 URL，即 /menus/。

在 index.html 模板（由该视图调用）内部，我有：

```
{% url menus_index %} 
```

这会导致 /menus/ 处出现 NoReverseMatch 错误。未找到带有参数 '()' 和关键字参数 '{}' 的 '' 的反向操作。

我的应用程序的 urls.py 是：

```
urlpatterns = patterns('menus.views',
url(r'^$','index', name='menus_index'),
url(r'^(?P<menu_id>\d+)/$','detail', name='menus_detail'),
) 
```

这包含在我项目的 urls.py 文件中。

我究竟做错了什么？

更新：

这是完整的 index.html 模板代码：

```
{% extends "base.html" %}
{% load url from future %}

{% block title %}
Menu Index
{% endblock %}

{% block content %}
{% if latest_menu_list %}
<ul>
    {% for menu in latest_menu_list %}
    <li><a href="{% url menus_index %}/{{ menu.id }}/">{{ menu.name }}</a></li>
    {% endfor %}
</ul>
{% else %}
   <p>No menus are available.</p>
{% endif %}
{% endblock %} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-06T05:34:54.360

答案：使用 {% url 'menus_index' %}。{% load url from future %} 使引号成为每个[https://docs.djangoproject.com/en/1.4/ref/templates/builtins/#url的要求](https://docs.djangoproject.com/en/1.4/ref/templates/builtins/#url)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T04:21:51.367

也许这不是 menus_index？粘贴完整的模板代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-13T16:40:51.843

您应该使用添加变量进行反向，如下所示：`{% url "menus_index" menu.slug %}`

# php - 读取文件夹子目录和这些子目录中的文件的最佳方法是什么？

> ID：10039051
> 
> 赞同：0
> 
> 时间：2012-04-06T04:16:35.507
> 
> 标签：php, glob

我有一个图像文件夹，其中包含每个图像专辑的子目录，例如

*   图片
*   图片/相册1
*   图片/专辑2

在 PHP 文件中，我使用 GLOB 的相册缩略图为每个相册创建一个链接，以读取图像下的所有文件夹

```
$dir=glob('images/*');
$dir_listing=array();
foreach($dir as $list)  
{
if(is_dir($list))
$dir_listing[]= (basename($list));
}   

$thumbs=glob('images/thumbnails/*');
$count=0;

foreach($thumbs as $th )
{
echo" $dir_listing <br/>"; 
echo"<a href='$dir_listing[$count]' ><img src='$th' /> </a>";
    $count++;
} 
```

我在每个页面加载时使用 Glob 来获取目录和图像列表。

*   我想知道是否有更好的方法来做到这一点。
*   我还想根据上次修改时间按降序{*最新文件和文件夹优先*}获取所有文件和文件夹的列表。

使用 Glob 是否正确，或者我们应该将子目录和文件保存在文本文件中并从中读取？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T04:32:51.267

我不能肯定地告诉你是否有更好的方法来做到这一点，但你的代码肯定可以工作。

仅当目录中的文件数量相对较少（<10,000）时，使用 glob() 才是正确的方法，因为如果您有很多文件，那么您可能会得到“XYZ 字节的允许内存大小已用尽...... “ 错误。在这种情况下，最好使用 opendir();

```
if ($handle = opendir($path)) {
while (false !== ($file = readdir($handle))) {
    // do something with the file
    // note that '.' and '..' is returned even
}
closedir($handle); 
```

最后，在 glob() 上使用标志 GLOB_NOSORT 以便最终结果就像它在目录中列出的那样，以防可用于根据上次修改日期为您提供结果。

希望这可以帮助。

# javascript - Page layout changes slightly, no style changes

> ID：10039061
> 
> 赞同：3
> 
> 时间：2012-04-06T04:18:42.210
> 
> 标签：javascript, css, ajax, jquery

I am redesigning [my personal / development website](http://next.randolphwebdevelopment.com), and trying to make it as user friendly as possible.

I wanted to load new pages with AJAX and slide them in, and that's what's currently happening. Everything **works** in all current browsers (except IE, but I'll work on that in the future).

However, there's a strange spacing jump in my navigation menu on the *first* (and only first) page change. After the page changes once, the navigation spacing stays the same.

*   On page load
    ![Layout differences](../Images/7d58a127eb2a0b08d61b621705a97a7c.png)
*   After a link is clicked

When a link is clicked, the navigation section from the new page is set to replace the current navigation, because each link has a *data-offset* attribute that's calculated by the server backend so that the javascript knows which direction and how far to slide the elements when they are clicked.

The way I'm currently doing it, it's either *[the content width]* or ***-**[the content width]*.

However, the structure of the menu **never** changes, and the stylesheet is completely static. I have inspected all of these elements in Firebug, and nothing changes across page loads.

I linked [the site, http://next.randolphwebdevelopment.com](http://next.randolphwebdevelopment.com) above, but I'll copy some of the pertinent Javascript here to give an idea of what's happening.

* * *

Pulls the entire page down that the link would redirect to (unless specified, all future code blocks are also inside this callback):

```
$.get( loc, function( data ){
    //delete the doctype declaration
    data = data.split("\n").slice(1).join("\n");
    next_page = $(data.replace(/(\r\n|\n|\r)/gm,"").replace(/>\s*</gm,'><')); 
```

Replaces the navigation with the new navigation from the target page (all that really changes is the *data-offset* attribute on each link):

```
//insert the new navigation
$('#header-content nav').html(next_page.find('#header-content nav').html());
$('#header-content nav a').click( navigation_clickHandler ); 
```

* * *

That's really it. There's a bunch of code to insert the new content and slide it in, as well as changing the page title, setting history states, etc., but this is the only code that touches the navigation menu, and there's no code that touches any stylesheets.

I'm open to any suggestions that fix the problem and/or improve the code design.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T05:18:24.003

At first load `nav` is got from the server w/o php. I bet you wrote this html manually with intendation and so on.

After any click js recreates `nav`, but now w/o empty text nodes. Just `<a>link1</a><a>link2</a>`.

Add spaces or remove them from source html.

# java - 在里面传一个参数

> ID：10039069
> 
> 赞同：3
> 
> 时间：2012-04-06T04:19:34.003
> 
> 标签：java, jsf, jsf-2

我需要使用数据库动态填充一个数据表，在该数据表中我需要调用 retieveData() 方法并将 id 传递给方法内的结果标准。要传递的参数来自 #{anotherBean.id} 的另一个 bean。我的问题是如何在方法中传递这个参数......？以下是我想要做的......

```
<f:metadata>
     <f:event listener="#{myBean.retrieveData(#{anotherBean.id)}" type="preRenderComponent" id="fevent"/>
</f:metadata> 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-07T14:54:36.063

您可以通过属性传递它。

这是我在 JSF 上所做的：

```
<f:metadata>
    <f:event listener="#{myBean.retrieveData}" type="preRenderView" id="fevent"/>
    <f:attribute name="myid" value="#{anotherBean.id)" />
</f:metadata> 
```

同时托管bean（myBean）如下：

```
public void retrieveData(ComponentSystemEvent event) {
    String id = (String) event.getComponent().getAttributes().get("myid");
} 
```

确保在 f:event 标记的侦听器上调用托管 bean 的方法时不要使用 '()'。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-06T09:03:41.027

基本上

```
<f:metadata>
     <f:event listener="#{myBean.retrieveData(anotherBean.id)}" type="preRenderComponent" id="fevent"/>
</f:metadata> 
```

应该做。但是为什么不在 Java 代码中注入`anotherBean`和`myBean`检索 id 呢？在这种情况下，最好将这种逻辑保留在您的 Java 代码中，而不是查看 - xhtml 文件。

# wpf - adding global objects to wpf application

> ID：10039074
> 
> 赞同：0
> 
> 时间：2012-04-06T04:20:54.597
> 
> 标签：wpf, xaml

in my App.xaml iv'e initialized an object which i wan't to use in different classes in my application

```
 <Application.Resources>
      <local:DalEngine x:Key="_engine" x:Name="_engine"/>        
 </Application.Resources> 
```

how can i Reference this object in code from a class with in the same namespace ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T04:23:32.977

Namespace does not matter, you can use `Application.Current.FindResource`. (Or directly `Application.Current.Resources["_engine"]`)

# c - 如何删除固件中按位操作的 MISRA C 错误/警告？

> ID：10039075
> 
> 赞同：1
> 
> 时间：2012-04-06T04:20:58.783
> 
> 标签：c, compiler-construction, misra

我在[Code Composer Studio](http://en.wikipedia.org/wiki/Code_Composer_Studio)中使用 MISRA C 2004 标准。在外围设备的初始化过程中，我总是收到有关按位运算的错误。

在编译器.h文件中，定义是这样的。

```
#define SFR_8BIT(addr)  extern volatile unsigned char addr

SFR_8BIT(REG1);

#define REG2  REG1 
```

现在在我的代码中，如果我使用

```
REG2 |= 0x01; 
```

MISRA C 弹出这些错误：

> 1.  位运算符不应应用于基础类型已签名的操作数 - #1393-D (MISRA-C:2004 10.1/R)
>     
>     
> 2.  如果整数类型的表达式的值不是转换为具有相同符号的整数类型，则不应将其隐式转换为不同的基础类型。

我不想更改编译器 .h 文件，我想消除这些警告。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T04:47:09.763

猜测一下，您`char`是 8 位并且`int`（至少）是 16。这意味着 的所有值`unsigned char`都可以表示为 (signed) `int`s。反过来，这意味着在您的表达式`REG2 |= 0x01;`中，您的`unsigned char`将被提升为`int`，然后执行`OR`操作，然后将结果转换回`unsigned char`。

如果我没记错的话，将常量更改为 an`unsigned char`应该可以防止：

```
REG2 |= (unsigned char)0x01; 
```

或者：

```
unsigned char one = (unsigned char)0x01;

REG2 |= one; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T06:46:04.117

你有没有尝试过：

```
REG2 |= 0x01U; 
```

?

# jquery - 将值从 servlet 传递到 jsp

> ID：10039076
> 
> 赞同：0
> 
> 时间：2012-04-06T04:21:03.253
> 
> 标签：jquery, ajax, json, jsp, servlets

我将为一个短信管理系统实现一个搜索功能，用户可以在其中输入名称（关键字）并获取相关信息。

这是我在“InstantSMS.jsp”中编写的代码

* * *

```
 $("#search").click(function() {

        var keyword = $("#customerName").val();
        $.ajax({

            type : "GET",
            url : "SearchingClass",
            data : {
                key : keyword
            }

        }).success(function() {

            $.getJSON('SearchingClass', function(data) {

              $("#resultTable").html(data.messageRes);
            });

        })

        .error(function(request, error) {

            $().toastmessage('showWarningToast', "Error! ");
        });

    }); 
```

* * *

这里的“SearchingClass”是 servlet 的名称。这是'SearchingClass.java'的代码

* * *

```
protected void doGet(HttpServletRequest request, HttpServletResponse response)
throws ServletException, IOException {

    String keyword = request.getParameter("key");
    SmsMessagesService search = new SmsMessagesService();
    ArrayList<Customers> result = new ArrayList<Customers>();
    System.out.println("For testing Keyword is  ::: "+keyword);

    result = search.searchCustomer(keyword);
    String table = "in here i'll generate a code to draw a table using html"

    Map<String, Object> data = new HashMap<String, Object>();
        data.put("messageRes", table);

    // Write response data as JSON.
    response.setContentType("application/json");
    response.setCharacterEncoding("UTF-8");
    response.getWriter().write(new Gson().toJson(data));    
}

protected void doPost(HttpServletRequest request, HttpServletResponse response)
throws ServletException, IOException {

    doGet(request,response);

} 
```

* * *

现在的问题是在我按下搜索按钮后，搜索过程或 doGet 方法运行了 2 次。

在第一次运行输出“用于测试关键字是 ::: john” 第二次运行“用于测试关键字是 :::”

我认为第二次运行是因为“$.getJSON()”方法而发生的。如何避免这种情况？

我怎样才能使用 $.getJSON() 方法只获取“字符串表”而不运行“doGet()”方法？

有没有另一种方法可以使用 ajax 从 servlet 到 jsp 获取字符串？

我可以使用 $.getJSON() 方法传递这个关键字吗？

谢谢 ！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T04:30:53.343

我不是 100% 遵循代码，但我想你*只想*查询一次 servlet，并使用你传递的关键字。因此，该`.ajax()`方法已经在做同样的工作，无论如何`.getJSON()`它只是一个别名。`.ajax()`

在黑暗中拍摄，但我猜你想要这个：

```
// ...
}).success(function(data) {
    $("#resultTable").html(data.messageRes);
  });
// ... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T04:38:59.447

您可以使用速记 AJAX 调用。

```
var keyword = $("#customerName").val();

$.get("SearchingClass", {key:$keyword}, function(data) {

            $("#resultTable").html(data.messageRes);
        }); 
```

# java - 单元测试：断言不起作用？

> ID：10039079
> 
> 赞同：7
> 
> 时间：2012-04-06T04:21:29.637
> 
> 标签：java, unit-testing, junit

我应用UnitTest只是有一段时间，今天我遇到了一些很奇怪的事情。考虑以下代码：

```
TestObject alo = null;
assert alo != null; // Pass!!!
Assert.assertNotNull(alo); // Fail, as expected. 
```

我搜索了一下，发现 assert 是 java 内置的，而 assertNotNull 是 JUnit 支持的。但我不明白为什么断言不抱怨空对象？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-04-06T06:08:44.130

Hoang，我认为您在 Java 语言断言和 JUnit 断言之间有些混淆。

*   Java 中的**assert**关键字是在 1.4 中添加的，旨在允许验证类的内部一致性。最佳实践建议是在私有方法中使用它们来测试程序不变量。当断言失败时，抛出 java.lang.AssertionError 并且通常不打算被捕获。想法是它们可以在调试期间启用并在生产代码中禁用（这是默认设置），但坦率地说，我认为它们从未真正流行起来。我没见过他们用得太多。

*   JUnit 也有断言，在**org.junit.Assert**包中有许多不同的静态方法。这些旨在验证给定测试的结果。这些断言也会抛出 java.lang.AssertionError，但 JUnit 框架设置为捕获和记录这些错误，并在测试运行结束时生成所有失败的报告。这是 IMO 更常见的断言用法。

您显然可以使用其中任何一种，但 JUnit 断言更具表现力，您不必担心启用或禁用它们。另一方面，它们并不是真正用于业务代码。

**编辑：**这是一个有效的代码示例：

```
import org.junit.Assert;
import org.junit.Test;

public class MyTest {
  @Test
  public void test() {
    Object alo = null;
    assert alo != null         // Line 9
    Assert.assertNotNull(alo); // Line 10
  }
} 
```

这是禁用 Java 断言（默认）的运行的输出：

```
c:\workspace\test>java -cp bin;lib\junit-4.8.1.jar org.junit.runner.JUnitCore MyTest
JUnit version 4.8.1
.E
Time: 0.064
There was 1 failure:
1) test(MyTest)
java.lang.AssertionError:
  at org.junit.Assert.fail(Assert.java:91)
  ...
  at MyTest.test(MyTest.java:10)
  ... 
```

这是启用 Java 断言 (-ea) 的运行：

```
c:\workspace\test>java -ea -cp bin;lib\junit-4.8.1.jar org.junit.runner.JUnitCore MyTest
JUnit version 4.8.1
.E
Time: 0.064
There was 1 failure:
1) test(MyTest)
java.lang.AssertionError:
  at MyTest.test(MyTest.java:9)
  ... 
```

请注意，在第一个示例中，Java 断言通过，而在第二个示例中，它失败了。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-07-24T22:32:18.590

默认情况下，Java VM 禁用 assert 关键字（请参阅[http://docs.oracle.com/cd/E19683-01/806-7930/6jgp65ikq/index.html](http://docs.oracle.com/cd/E19683-01/806-7930/6jgp65ikq/index.html)）。默认情况下，不同的 Java 工具可能会或可能不会配置为启用断言。

Eclipse 目前在运行 JUnit 测试时默认不启用断言。[（请参阅https://bugs.eclipse.org/bugs/show_bug.cgi?id=45408](https://bugs.eclipse.org/bugs/show_bug.cgi?id=45408)上的讨论- 不这样做的原因是为了保持向后兼容性）。

但是，从 Eclipse 3.6 开始，Eclipse 中有一种简单的方法可以确保默认情况下为 JUnit 测试启用断言。打开 JUnit 首选项（Windows | 首选项 | Java | Junit）并选择选项“在创建新的 JUnit 启动配置时将 '-ea' 添加到 VM 参数”。请注意，此设置不会更改现有的 JUnit 启动配置，您需要手动将“-ea”设置添加到每个此类启动配置的 VM 参数框中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-09-09T19:23:40.033

## 它是一个错误

它是Eclipse 中[的一个错误。](https://bugs.eclipse.org/bugs/show_bug.cgi?id=479553)

# facebook-page - 获取 page_access_token

> ID：10039085
> 
> 赞同：2
> 
> 时间：2012-04-06T04:23:00.767
> 
> 标签：facebook-page

据我所知，有一种方法可以通过[https://developers.facebook.com/tools/explorer](https://developers.facebook.com/tools/explorer)获取访问令牌。

还有其他方法可以通过 API 获取 page_access_token 吗？

我想发布将应用程序添加到 facebook 页面的请求，但它需要 page_access_token 如下：

[https://graph.facebook.com/myPageId/tabs/?app_id=myAppId&access_token=myPageAccessToken](https://graph.facebook.com/myPageId/tabs/?app_id=myAppId&access_token=myPageAccessToken)

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-07T04:54:01.147

是的你可以。当前用户必须是该页面的管理员；

`extended permission needed - manage_pages` 参考网址：[https ://developers.facebook.com/docs/reference/api/page/](https://developers.facebook.com/docs/reference/api/page/)

尝试这个：

```
$config = array(
'appId' => FB_APP_ID,
'secret' => FB_SECRET_KEY,
'cookie' => true // enable optional cookie support  
);
$facebook = new Facebook($config);

// See if there is a user from a cookie
$user = $facebook->getUser();

$params = array(
'scope' => 'manage_pages',
'redirect_uri' => FB_APP_URL,
);

$loginUrl = $facebook->getLoginUrl($params); 

<script> window.top.location.href = '<?php echo $loginUrl ?>';  </script> 
```

# c# - 如何在 TemplateField 中设置前景色？

> ID：10039086
> 
> 赞同：1
> 
> 时间：2012-04-06T04:23:07.607
> 
> 标签：c#, asp.net, templatefield

下面的代码在评估 Gender 后在 GridView 列中显示“M”或“F”。

> ```
>  <asp:TemplateField HeaderText="Gender">
>             <ItemTemplate>
>                 <%# Eval("Gender") %>
>             </ItemTemplate>
>         </asp:TemplateField> 
> ```

当它是“M”时，我想使用 textcolor red 和 blue 否则。我该怎么做呢？在 aspx 文件或后面的代码中都可以。如果可能的话，我想知道这两种方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T06:15:29.927

要通过标记做到这一点，您必须将项目模板内容包装到 eg`<div>`中，并将必要的样式应用于它，如下所示：

```
<asp:TemplateField HeaderText="Gender">
    <ItemTemplate>
        <div style='color: <%# Eval("Gender") == "M" ? "Red" : "Blue" %>'>
            <%# Eval("Gender") %>
        </div>
    </ItemTemplate>
</asp:TemplateField> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T04:36:25.520

您可以使用`onRowDataBound`GridView 上的事件来检查“M”或“F”，然后根据值更改字体颜色。

```
void gridview_RowDataBound(Object sender, GridViewRowEventArgs e)
{

if(e.Row.RowType == DataControlRowType.DataRow)
{
string theValue = e.Row.Cells[3].Text;

if (theValue ="M")
{
e.Row.Cells[1].Forecolor= Color.Red
}

else if (theValue ="F")
{
e.Row.Cells[1].Forecolor= Color.Blue;
}
}
} 
```

# java - 如何将 Typesafe Stack deb repo 与 Oracle Java 6 一起使用而不是 OpenJDK？

> ID：10039093
> 
> 赞同：8
> 
> 时间：2012-04-06T04:23:42.620
> 
> 标签：java, scala, ubuntu, typesafe-stack

我想通过他们的 Deb repo 将 Typesafe Stack 安装到 Ubuntu Server，但不下载所有 OpenJDK 包。*我通过update-alternatives*在我的 PATH 中安装了 Oracle JDK 6 ，安装 OpenJDK 会破坏一些东西。

最好的方法是什么？看来我不能为此使用 apt-get --no-install-recommends 标志：

```
$> sudo apt-get install --no-install-recommends typesafe-stack sbt
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following extra packages will be installed:
  ca-certificates-java default-jre default-jre-headless g8 java-common libaccess-bridge-java libaccess-bridge-java-jni openjdk-6-jre
  openjdk-6-jre-headless openjdk-6-jre-lib
Suggested packages:
  equivs icedtea-plugin sun-java6-fonts ttf-sazanami-gothic ttf-kochi-gothic ttf-sazanami-mincho ttf-kochi-mincho ttf-telugu-fonts ttf-oriya-fonts
  ttf-kannada-fonts ttf-bengali-fonts
Recommended packages:
  icedtea-netx icedtea-6-jre-cacao icedtea-6-jre-jamvm
The following NEW packages will be installed:
  ca-certificates-java default-jre default-jre-headless g8 java-common libaccess-bridge-java libaccess-bridge-java-jni openjdk-6-jre
  openjdk-6-jre-headless openjdk-6-jre-lib sbt typesafe-stack
0 upgraded, 12 newly installed, 0 to remove and 7 not upgraded.
Need to get 33.0 MB of archives.
After this operation, 86.9 MB of additional disk space will be used.
Do you want to continue [Y/n]? n
Abort. 
```

PS - 我知道 Typesafe Stack 组件适用于我当前的设置，因为我已经安装了它并且使用他们之前的安装程序运行良好。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T18:37:27.653

我目前正在 Ubuntu 自己的“universe”存储库中查看“scala”和“scala-library”包，而不是 Typesafe 存储库。这些包依赖于“java6-runtime”（我运行 Ubuntu 12.10，“Quantal”）。在 Typesafe 存储库中找到的包可能不是这种情况，但原理应该是相同的。

equivs包可用于创建虚假的包存根（例如），它错误地声称提供了不需要的 JRE（例如**：）**。`Package: local-java-runtime``Provides: java6-runtime`

这样，您可以手动安装所需的任何支持 Scala 的 JRE，然后安装您创建的存根包，并且`apt-get install scala`不再抱怨（存根包将满足依赖关系，而 APT 不必拉入 JRE）。

看看[这里](http://www.debian.org/doc/manuals/apt-howto/ch-helpers.en.html)阅读 equivs 并了解它是如何完成的。

顺便说一句，至少对于我正在运行的 Linux 发行版，我看到“openjdk-7-jre”已经提供了“java6-runtime”，所以“java6-runtime”依赖关系可能会比过去带来更少的不便。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-04T02:38:17.017

老问题，在我的 OP 下的评论中已经回答了很长时间，现在才正式发布。在基于 Debian 的系统上，只需使用[Debian Alternatives](https://wiki.debian.org/DebianAlternatives)，请参阅我上面评论中的设置脚本。它很棒，可以正常工作，并提供以下好处：

1.  使用您想要的 Java/Scala/Haskell/etc 的确切版本，而不是 Debian/Ubuntu/etc 存储库中的版本。当 repo 版本落后于当前版本时很有用，或者您的应用程序需要与 repo 不同的特定平台版本。
2.  哈斯克尔平台。并排安装多个 GHC 和 Haskell 平台版本，例如在 /opt/haskell/ghc/[version] 和 /opt/haskell/platform/[version] 中，并使用`update-alternatives --config`. 与 Java、Scala 或任何其他 sdk/平台相同。
3.  升级到 GHC 和 Haskell 平台（或 Java、Scala 等）的新版本，而不覆盖或删除以前的版本。如果这导致您的应用程序出现回归，请使用简单的`update-alternatives --config`.
4.  将 GHC 和 Haskell 平台的所有文件放在一个位置，例如 /opt/haskell/ghc/[version] 和 /opt/haskell/platform/[version]，而不是分散在 /usr/bin、/usr/lib 上, 和 /usr/share 与 apt-get 或 dpkg -i 安装一样。这些文件保存在 /opt/haskell/ 中，并且 update-alternatives 将它们软链接到它们的系统目录。
5.  使用`update-alternatives --remove-all`（包括脚本）和`rm -rf /opt/haskell`.
6.  通过系统 PATH 而不是用户 PATH 运行 haskell（例如，无需将 /opt/haskell/ghc/bin 添加到 .profile 中的 PATH）
7.  习惯使用 update-alternatives，它是一个很棒的工具，可以轻松管理手动安装的多版本软件。Java、Scala 和任何其他二进制或编译平台都可以很好地使用它。

# java - android (java) 的数组和列表视图

> ID：10039096
> 
> 赞同：1
> 
> 时间：2012-04-06T04:24:00.113
> 
> 标签：java, android, arraylist, android-listview

我试图仅将数组中的播放器名称显示到列表视图中。这是我的代码：

```
player_List.setAdapter(new ArrayAdapter<Player>(this, android.R.layout.simple_list_item_1, dataStore.getPlayers())); 
```

我使用此调用从该数组中获取所有信息。我不确定如何称呼这个名字。

这是我的数据存储的编码：

```
/**
 * This class is essentially a global library for the Scoresheet.
 * It provides methods through which the Players and Teams can be accessed
 * from any part of the application.
 * The saving/loading of application data will also be handled through this
 * class.
 * 
 * You can access this DataStore by calling:
 * DataStore dataStore = ((DataStore)getApplicationContext());
 * From any Activity
 */
public class DataStore extends Application {

    // Create ArrayLists to hold all our Player and Team objects
    private ArrayList<Player> players = new ArrayList<Player>();
    private ArrayList<Team> teams = new ArrayList<Team>();

    // File names for our internal storage:
    private String playerFileName = "players";
    private String teamFileName = "teams";

    /**
     * Add a Player object to the list of players.
     * @param p The Player object to add
     */
    public void addPlayer(Player p){
        this.players.add(p);

    }

    /**
     * Merge an ArrayList of Player objects with the current collection of Players
     * @param players ArrayList of Player objects to add to the collection
     */
    public void addPlayers(ArrayList<Player> players){
        Iterator<Player> it = players.iterator();
        while (it.hasNext()){
            this.players.add(it.next());
        }
    }

    /**
     * Return an ArrayList of player objects containing all Players 
     * @return
     */
    public ArrayList<Player> getPlayers(){
        return this.players;
    } 
```

这是我的播放器类：

```
public class Player implements Serializable{
    // Randomly generate serial ID
    private static final long serialVersionUID = 7423594865734681292L;
    private static int ID = 0;  // Class variable
    public String name;
    private int id;

    public Player(String name) throws Exception{
        this.setId(ID);
        ID++;               // Increment class ID counter
        if (!this.setName(name))
            throw new Exception("Invalid Name");    // This is the only way to prevent the object being instantiated if it has an invalid name
    }

    public String getName() {
        return name;
    }

    /**
     * Set the players name as desired.
     * @param name
     * @return true on success, false on fail
     */
    public boolean setName(String name) {
        // Only update the name if we are actually given a string
        boolean success = false;
        name = name.trim();
        if (!name.equals("")){
            this.name = name;
            success = true;
        }
        return success;
    }

    public int getId() {
        return id;
    }

    private void setId(int id) {
        this.id = id;
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T04:28:44.340

我不是 android listview 方面的专家，但如果它只是`toString`用来决定显示什么，则执行`toString`返回`name`：

```
public String toString() { return name; } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T04:34:21.143

使用`CustomAdapter`和设置`getView(...) method`

像，

```
Player player = getPlayers().get(position);
textview.setText(player.name) 
```

看到这个例子，
[http://www.softwarepassion.com/android-series-custom-listview-items-and-adapters/](http://www.softwarepassion.com/android-series-custom-listview-items-and-adapters/)

[http://jnastase.alner.net/archive/2010/12/19/custom-android-listadapter.aspx](http://jnastase.alner.net/archive/2010/12/19/custom-android-listadapter.aspx)

# algorithm - 为什么这个函数/循环是 O(log n) 而不是 O(n)？

> ID：10039098
> 
> 赞同：6
> 
> 时间：2012-04-06T04:24:44.600
> 
> 标签：algorithm, big-o

这个函数是 O(log(n))。为什么？它不是循环到n吗？

```
function fxn($n) {
    for ($i = 1; $i <= $n; $i *= 2)
        echo $i;
} 
```

顺便说一句，我对 O(n) 分析很陌生。这个函数看起来确实是 O(n)，因为它循环到 n。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-06T04:26:37.757

它不是循环遍历所有元素，在每一步中它都会跳过上一步的元素的两倍——因为`$i *= 2`部分。也就是说，假设`$i`以大于零的值开始，否则它是一个无限循环：`$i`将始终`0`如其所写。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-04-06T04:33:03.113

您的代码循环最多`n`但*不是*循环（或任何常量值），这将使其成为 O(n)。

*这*就是它的作用：

```
 1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16
       |  |     |           |                       |
       +--+-----+-----------+-----------------------+
Steps    1    2        3               4 
```

因为它每次都加倍，所以实际上是 O(log N)，类似于二叉树搜索在每次迭代中将搜索空间减半的方式。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2012-04-06T04:26:36.033

**注意：**你的函数永远不会结束，因为你从 0 开始，并且 0 * 2 = 0。我假设你的循环从 1 开始。

循环每次**以 2 的倍数**递增，这就是运行时为`O(lg(n))`.

让我们考虑一个简单的例子，其中 n = 128。

以下是每次迭代的 i 值：1、2、4、8、16、32、64、128。因此，您已经经历了 8 个值。

```
lg(128) = 7 (lg = log in base 2)
        = 8 - 1 
```

注意这里`- 1`是一个常数，所以它不会影响我们的运行时计算。

如果循环增加 1（或任何常数，k），则运行时间将为 O(n)。这里要考虑的重要一点是**几何级数**和**算术级数**之间的区别，这为您提供了不同的运行时间。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2012-04-06T04:29:39.560

这个循环将是 O(n)：

```
function fxn($n) {
    for ($i = 0; $i <= $n; $i++)
        echo $i;
} 
```

因为`$i`具有以下值：

```
1, 2, 3, 4, 5, 6, 7, ..., n 
```

但是这个循环只有 O(log(n))：

```
function fxn($n) {
    for ($i = 1; $i <= $n; $i *= 2)
        echo $i;
} 
```

因为`$i`具有以下值：

```
1, 2, 4, 8, 16, 32, 64, ..., n 
```

以这种方式增长的序列称为“对数”。

# c# - 了解 DataBinding 何时完成

> ID：10039099
> 
> 赞同：3
> 
> 时间：2012-04-06T04:24:52.380
> 
> 标签：c#, winforms, binding, datagridview

我在我的应用程序中使用了`System.ComponentModel.BindingList`as `DataGridView.DataSource`。该列表非常大，需要几秒钟才能在`DataGridView`. 所以，我需要知道数据绑定（**包括绘画**）程序何时完成以做一些事情。我尝试`DataBindingComplete`了事件，但它在为`DataSource`属性设置值后立即发生。

提前致谢。

* * *

***更新：***

**1.**生成绑定列表**[**从数据库中获取数据**]** ► ~1 sec

**2.**将其设置为`DataSource` **[** Binding **]** ► ~1 sec *(`DataBindingComplete`现在升起。)*

**3.**绘画**[**在中显示数据`DataGridView` **]** ► ~5 sec

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T07:01:24.070

就像描述的那样简单！

```
bool bindingCompleted = false;

void Form1_Load(object sender, EventArgs e)
{
    dataGridView1.DataSource = bindingList1;
}

void dataGridView1_DataBindingComplete(object sender, DataGridViewBindingCompleteEventArgs e)
{
    bindingCompleted = true;
}

void dataGridView1_Paint(object sender, PaintEventArgs e)
{
    if (bindingCompleted)
    {
       bindingCompleted = false;

       // do some stuff.. 
    }
} 
```

# c# - 如何管理一百万条记录？

> ID：10039101
> 
> 赞同：3
> 
> 时间：2012-04-06T04:25:54.407
> 
> 标签：c#, mysql, sql-server, sql-server-2008

我真的需要专家的帮助来回答我的问题。

这是场景：

我使用 sql 选择查询来检索一百万条记录。我需要对结果记录进行排序和分组，这些记录存储在数据表中（在一次执行中）并循环遍历它以进行分组和排序。我知道这太幼稚了，不是处理它的正确方法。如何有效管理百万条记录并对其应用分组和排序？

在这里真的需要帮助。听说过批量执行选择查询，但是在我们手头没有全部数据的情况下如何实现分组和排序？我不能直接使用 sql order by 和 group by，这不符合我的要求。

# 这是我现在正在做的事情：

我有以下对象，即用于分组和排序的列名

```
List<Group> groupList;
List<Sort> sortList;
DataTable reportData; // Here im having the entire records from db 
```

我逐行循环遍历“reportData”，并匹配当前行和上一行以进行自定义分组和排序。想知道当我们使用批量执行或任何替代解决方案时如何做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-06T08:22:06.063

> 我需要对结果记录进行排序和分组，这些记录存储在数据表中（在一次执行中）并循环遍历它以进行分组和排序。

做什么的？

严重地。

不要拉然后尝试在后面加上一个愚蠢的对象模型（并且数据集不是特别聪明，抱歉）。

在您的选择语句中进行分组和排序，提取已经分组和连接的数据并完成它。

一百万条记录是17年前原始版本发布时（4.2，sysase sql server的一个端口）的sql server的少量数据。这些天来，它很可能适合处理器第三级缓存，而不是一个合适的 sql server 甚至意识到它刚刚处理过。

SQL 是特别好的广告项目，自从它们引入 MARS 以来，您甚至可以在一个连接上运行多个查询，这在这里派上用场。

所以，回去 - 扔掉数据集和“我尝试编写排序算法”并创建适当的 SQL 语句来根据需要提取数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T04:30:38.520

听起来您应该实施[Partition Pruning](http://dev.mysql.com/doc/refman/5.5/en/partitioning-pruning.html)。分区将允许分离您请求的内容，以便进行更快的查询。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T06:25:02.690

如果我理解正确，在您的情况下，我将创建一个临时数据库表，该表具有我想要特别涵盖我的分组的结构。

然后我会从主表中选择记录并将它们插入到临时表中，应用所有修改，包括分组。

还应应用有关您希望它们如何排序的特定索引。

之后，就从这个表中选择，做你该做的，最后如果数据不再需要，删除临时表。

我会选择上述解决方案，因为内存中的一百万条记录对我来说很麻烦......

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-04-06T04:44:11.117

例如：

**1\. 假设您想按 DocumentTypeID 对它们进行分组**

```
var groupByType = reportData.GroupBy(g=>g.DocumentTypeID); 
```

**2\. 按字母顺序排序**

```
 var sortAlphabetically = reportData.OrderBy(g=>g.DocumentName); 
```

**3\. 分组和排序**

```
var groupAndSort = reportData.GroupBy(g=>g.DocumentTypeID)
                             .OrderBy(g=>g.DocumentName); 
```

**4\. 排序和分组**

```
var groupAndSort = reportData.OrderBy(g=>g.DocumentName)
                             .GroupBy(g=>g.DocumentTypeID); 
```

**5\. 多重分组和排序**

```
var multipleGroupAndSort = reportData.GroupBy(g=>g.DocumentTypeID)
                                     .GroupBy(g=>g.CreatedOnDate.Month)
                                     .OrderBy(g=>g.DocumentName); 
```

等等等等...

但我仍然不鼓励将数百万行带入应用程序。会消耗内存。当然有一些方法可以通过存储过程等来管理它。

# c# - 有没有办法在 WPF 控件库中使用 StaticResource 并能够在设计时查看？

> ID：10039102
> 
> 赞同：24
> 
> 时间：2012-04-06T04:26:24.683
> 
> 标签：c#, wpf, xaml, shared-libraries, resourcedictionary

我有一个正在添加到 Windows 窗体应用程序的 WPF 控件库。我们希望允许控件可本地化，但是我不确定如何在不复制代码的情况下完全实现这一点。[这就是我现在正在做的事情](https://stackoverflow.com/questions/4326621/wpf-control-not-displaying-in-elementhost-in-winforms-app)。

基本上，在 windows 窗体应用程序中，在主应用程序启动之前，我正在实例化一个 App.xaml，它存在于表单应用程序中（包含指向我的资源的链接，这些资源也存在于表单应用程序中）。这非常适合运行时。

但是，我的用户控件都有`Content="{StaticResource SomeVariableName}"`，最终是空白的。我可以通过在我的控件库中拥有一个 app.xaml 和适当的资源字典来解决这个问题，这些字典与我的 windows 窗体应用程序中的资源字典相匹配。但是，这是重复的代码。

我已经尝试过的事情无济于事：

*   从我的表单应用程序中实例化位于用户控件库中的 App.xaml。这不起作用，因为我的资源的 URI 正在寻找嵌入式资源，而不是我的本地资源字典（然后我可以简单地将资源文件从控件复制到构建时表单应用程序中的适当位置）。我可以在这里利用[DeferableContent](http://msdn.microsoft.com/en-us/library/system.windows.resourcedictionary.deferrablecontent.aspx)吗？不过，据我所知，关于这个属性以及它应该如何使用的在线信息并不多。
*   我想为 App 和字典使用后期构建，但是，据我所知，App 实例化是对已编译 App.xaml 的静态引用。因此，App.xaml 必须至少存在于表单中
    *   我确实尝试使用移动 resourcedictionary.xaml 的后期构建复制 App.xaml。我认为重复的 app.xaml 是可以的，因为这是驱动力，您可能不想依赖控件中的一个（这会回过头来让您想知道是否应该在控件中使用 App.xaml全部？除非您想允许使用嵌入资源的默认值....）这也失败了，即使它被放置在 URI 应该指向的位置，它也找不到资源。反编译的代码指向`Uri resourceLocater = new Uri("/WindowsFormsApplication3;component/app.xaml", UriKind.Relative);`

那么，有什么方法可以让它工作并在设计时查看组件默认值并避免重复？或者，在这种情况下复制可以吗？如果我的第二个项目符号的子项似乎没问题（复制的 App.xaml 与构建复制的资源字典），我如何使它不查找组件级别的项，而是查找文件级别的项？

我刚刚注意到的最后一个问题（如有必要，我可以单独发布）。我的 App.xaml 已内置到代码中，因此无论如何我都无法即时创建新的 ResourceDictionaries。有没有办法做到这一点？

**最后的选择......可能是最好的选择？** -[无论如何我都打算使用 Andre van Heerwaarde 的代码](https://stackoverflow.com/questions/814600/multilanguage-in-wpf)，所以我应该只检查文件是否存在并将其作为合并资源即时添加吗？基本上，在我的用户控件中有一个 App.xaml 链接到默认的嵌入式 ResourceDictionary。然后，让代码动态查找适当的本地化资源，这些资源可以是相对文件路径吗？我在这里看到的唯一缺点是无法动态更改默认值......我什至可以在指定的地方（使用某种约定）看到它并且比内置的更喜欢？

哦，我不想要嵌入式资源的原因是最终用户可以在构建部署后添加/修改新的本地化资源。

如果它可以帮助您更好地可视化这一点，我可以添加代码，请告诉我。

**更新**

我现在在样式方面遇到了进一步的问题，而不仅仅是本地化。

以下是其中一个控件上的一个内部按钮的示例：

```
<Button Style="{StaticResource GrayButton}" 
```

我尝试/想到的更多事情：

*   由于库项目中不允许使用 ApplicationDefinitions，因此我无法使用设置的 ResourceDictionary 创建 app.xaml（永远不会使用）。我可以将它嵌入到控件的资源中，但是它总是优先于任何应用程序级别的资源，并且我失去了可定制性。

这是一个实际上听起来像我正在寻找[的连接案例，但是它没有为此提供任何真正的解决方案](https://stackoverflow.com/questions/4326621/wpf-control-not-displaying-in-elementhost-in-winforms-app)

我能想到的解决方案（超出顶部......不起作用）可能会起作用（并且尚未尝试）对于我认为应该简单的事情来说似乎也需要做很多工作。但是，我可能能够在控件中创建一些可以绑定到的依赖属性，然后允许将使用该控件的项目覆盖这些属性。正如我所说，对于一个非常简单的请求来说，这似乎需要做很多工作:)。这甚至会起作用吗？更重要的是，我是否缺少更好、更简单的解决方案？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-04-26T13:16:57.810

我曾经遇到过这个问题，我通过删除整个“资源是规范字典中的键索引的对象”来解决它。

我的意思是，在一个项目中定义资源并通过它的“关键”在另一个项目中引用它的简单事实应该让任何理智的人起鸡皮疙瘩。我想要**强有力的**参考。

我对这个问题的解决方案是创建一个[自定义工具](http://aviadezra.blogspot.fr/2008/11/developing-custom-tool-for-visual.html)，将我的资源 xaml 文件转换为静态类，每个资源都有一个属性：

所以 MyResources.xaml：

```
<ResourceDictionary>
  <SolidColorBrush x:Key="LightBrush" ... />
  <SolidColorBrush x:Key="DarkBrush" ... />
</ResourceDictionary> 
```

成为 MyResources.xaml.cs

```
public static class MyResources {

  static MyResources() {
    // load the xaml file and assign values to static properties
  }

  public static SolidColorBrush LightBrush { get; set; }
  public static SolidColorBrush DarkBrush { get; set; }

} 
```

要引用资源，您可以使用 the`x:Static`而不是`StaticResource`：

```
<Border 
   Fill="{x:Static MyResources.LightBrush}"
   BorderBrush="{x:Static MyResources.DarkBrush}"
   ... /> 
```

现在您获得了强大的引用、自动完成和资源的编译时检查。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T15:58:59.920

我在处理样式主题和可用的静态资源时也遇到了问题。所以，我创建了一个独立的库，除了要使用的主题之外什么都没有，就像你之前链接问题的 MERGED 资源一样。

然后，在 Windows 表单 (.xaml) 中，我只是引用了那个库，比如

```
<Window x:Class="MyAppNamespace.MyView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" ... />

  <Window.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <!-- Common base theme -->
        <ResourceDictionary   Source="pack://application:,,,/MyLibrary;component/Themes/MyMainThemeWrapper.xaml" />
        </ResourceDictionary.MergedDictionaries>
      </ResourceDictionary>
  </Window.Resources>

  <Rest of XAML for the WPF window>

</Window> 
```

“组件”似乎是指给定“MyLibrary”项目的根。在实际项目中，我创建了一个名为“Themes”的子文件夹，因此源包括... ;component/Themes/...

“MyMainThemeWrapper.xaml”非常类似于嵌套的合并资源字典，它可以完美地查看其他库中的所有内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-25T20:11:49.080

这是我对您的问题的*部分*解决方案。我没有尝试处理松散的资源，但我在 WinForms 和 WPF 之间共享资源方面取得了一些成功。

*   创建一个类库以将您的资源包含在 .ResX 文件中（例如 Resources.resx、Resources.fr.resx 等）
*   在 WPF 用户控件库中创建 WPF 控件
*   创建您的 WinForms 主机
*   [使用Infralution.Localization.Wpf](http://www.codeproject.com/Articles/35159/WPF-Localization-Using-RESX-Files)标记扩展和文化管理器从 WPF 引用资源库中的资源，例如

    ```
    <TextBlock Text="{Resx ResxName=ResourceLib.Resources, Key=Test}"/> 
    ```

*   将您的 WPF 用户控件的内容作为控件模板放入一个或多个资源字典中，例如

    ```
    <ControlTemplate x:Key="TestTemplate">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>

            <TextBlock Text="{Resx ResxName=ResourceLib.Resources, Key=Test}"/>
        </Grid>
    </ControlTemplate> 
    ```

*   在用户控件中使用资源模板

    ```
    <UserControl x:Class="WpfControls.UserControl1"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008" mc:Ignorable="d" 
                 d:DesignHeight="300" d:DesignWidth="300" >
        <UserControl.Resources>
            <ResourceDictionary>
                <ResourceDictionary.MergedDictionaries>
                    <ResourceDictionary Source="ResourceDictionary.xaml"/>
                </ResourceDictionary.MergedDictionaries>
            </ResourceDictionary>
        </UserControl.Resources>
        <ContentControl Template="{StaticResource TestTemplate}" />
    </UserControl> 
    ```

*   添加几行代码以使事情正常进行

    ```
    public partial class UserControl1 : UserControl
    {
        // we require a reference to the resource library to ensure it's loaded into memory
        private Class1 _class1 = new Class1();

        public UserControl1()
        {
            // Use the CultureManager to switch to the current culture
            CultureManager.UICulture = Thread.CurrentThread.CurrentCulture;

            InitializeComponent();
        }
    } 
    ```

这是一个名为 WindowsFormsHost.7z的简单[演示应用程序](https://skydrive.live.com/redir.aspx?cid=a7a31d7d3256ccd4&resid=A7A31D7D3256CCD4!340&parid=A7A31D7D3256CCD4!256&authkey=!AO9eMsLYXYRoicM)

# java - 有没有办法在小程序/任何Java应用程序中使用从Java EE中的tomcat服务器返回的信息？

> ID：10039106
> 
> 赞同：1
> 
> 时间：2012-04-06T04:26:42.113
> 
> 标签：java, jakarta-ee, applet

我想使用客户端请求其他客户端的 IP 地址，这些客户端也向服务器请求 IP 地址，就像聊天一样，

例子：

客户端 A 向服务器 S 请求可用客户端的 IP 地址。客户端 B 也向服务器 S 请求可用客户端的 IP 地址。服务器 S 看到两个客户端，将客户端 B 的 IP 地址返回给客户端 A，然后返回给客户端B 客户端 A 的 IP 地址。现在我想在我的小程序（一个涉及套接字的多人游戏）中使用返回的 IP 地址。有什么方法可以在我的小程序中使用从tomcat服务器S返回的IP地址，它可能在JSP页面中，也可能不在JSP页面中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-20T14:43:43.487

将其设置为 JavaScript 变量或表单隐藏字段。然后从您的小程序访问它

# python - 爬取所有维基百科页面以查找 python 中的短语

> ID：10039107
> 
> 赞同：3
> 
> 时间：2012-04-06T04:26:44.690
> 
> 标签：python, nlp, wikipedia

我需要设计一个程序，在整个维基百科的文章集合中找到特定的四五个单词短语（是的，我知道它有很多页面，而且我不需要回答称我为这样做的白痴）。

我以前没有编写过很多这样的东西，所以有两个问题我非常感谢一些帮助：

*   首先，我将如何让程序爬过所有页面（即不对数百万页面中的每一个进行硬编码。我已将所有文章下载到我的硬盘上，但我不确定我怎么能告诉程序遍历文件夹中的每一个） **编辑**- 我的硬盘上有所有维基百科文章

*   页面快照中有图片和表格。我将如何仅提取文章的正文？

非常感谢您对任何一个问题的帮助！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-06T04:35:12.493

而不是手动爬取页面，速度较慢且可能被阻止，您应该下载[官方数据转储](http://en.wikipedia.org/wiki/Wikipedia:Database_download#English-language_Wikipedia)。这些不包含图像，因此第二个问题也得到了解决。

编辑：我看到你的电脑上有所有的文章，所以这个答案可能没有多大帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-06T06:16:02.783

> 页面快照中有图片和表格。我将如何仅提取文章的正文？

如果您可以在表格中找到短语，您可以尝试直接使用[正则表达式](http://docs.python.org/howto/regex.html%20%2aPython%20HOWTO%20-%20Regular%20Expressions%2a)，但更好的选择是使用解析器并删除所有标记。你可以使用[Beautiful Soup](http://www.crummy.com/software/BeautifulSoup/)来做到这一点（你也需要 lxml）：

```
from bs4 import BeautifulSoup
# produces an iterable generator that returns the text of each tag in turn
gen = BeautifulSoup(markup_from_file, 'xml').stripped_strings
list_of_strings = [x for x in gen] # list comprehension generates list
' '.join(list_of_strings) 
```

BeautifulSoup 生成 unicode 文本，所以如果你需要更改编码，你可以这样做：

```
list_of_strings = map(lambda x: x.encode('utf-8'),list_of_strings) 
```

此外，Beautiful Soup 可以帮助您更好地浏览和选择每个文档。如果您知道数据转储的编码，那肯定会帮助它更快。作者还说它在 Python 3 上运行得更快。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T04:47:46.633

您问：

> 我已将所有文章下载到我的硬盘上，但我不确定如何让程序遍历文件夹中的每一篇

假设所有文件都在目录树结构中，您可以使用`os.walk`（[链接](http://docs.python.org/library/os.html#os.walk)到 Python 文档和示例）访问每个文件，然后使用以下内容在每个文件中搜索短语：

```
for line in open("filename"):
    if "search_string" in line:
        print line 
```

当然，这个解决方案不会出现在《Python Perf》杂志的封面上，但是我是 Python 新手，所以我会拉 n00b 卡。使用 Python 的预烘焙模块在文件中进行 grep 可能有更好的方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-06T04:42:48.840

要点 1：Python 有一个模块仅用于递归迭代路径中的每个文件或目录，[`os.walk`](http://docs.python.org/library/os.html#os.walk).

第 2 点：您似乎在这里问的是如何区分图像文件和文本文件。该[`magic`](http://pypi.python.org/pypi/python-magic/)模块可在奶酪店获得，为同名的标准 unix 实用程序提供 python 绑定（通常调用为`file(1)`）

# c# - 跨多个应用程序域使用文件时读取\写入文件的最佳方式

> ID：10039108
> 
> 赞同：2
> 
> 时间：2012-04-06T04:26:49.753
> 
> 标签：c#, file-io, locking

我正在使用 XML 文件来存储值。可以通过多种方法访问此 XML 文件。

```
Private object lockObject = new object() 
Method1
 {
    Lock(this.lockObject)  
  {
      MyCommonMethod()  
  }
 } 
Timer.ElapseEvent 
{  
  Lock(this.lockObject)  
  {    
  MyCommonMethod()  
  } 
} 

   MyCommonMethod()
     {  
 // Read/Write to XML file.  
 var element = XElement.Load(path);  
 // some operations  

   element.save(path) 
} 
```

现在，这个类被多个项目（服务）使用，这些项目又被组合成一个项目。

**我可以在一个类中使用 STATIC 锁定对象吗？它可以在这种不同进程的情况下工作吗？**

所以他们有可能同时使用该文件，有时它会给我一个错误，即不同的线程拥有该文件，尽管我保留了 LOCK。

在这个场景中最好的解决方案是什么？请指导。

* * *

这个链接怎么样...

[有没有办法检查文件是否正在使用？](https://stackoverflow.com/questions/876473/is-there-a-way-to-check-if-a-file-is-in-use)

这是最好的选择还是我应该选择 Mutex？

请指导..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T05:55:34.970

看起来这不是“不同的应用程序域”问题，而是“不同的进程”问题。无论如何，您可以应用严格的同步解决方案，例如[mutex](http://msdn.microsoft.com/en-us/library/system.threading.mutex.aspx)：

```
mutex.WaitOne();
MyCommonMethod();
mutex.ReleaseMutex(); 
```

此外，如果您使用的是 C# 4.0，则可以为此目的使用[Memory-Mapped I/O 。](http://msdn.microsoft.com/en-us/library/dd997372.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-10T05:22:46.947

静态变量不会在不同进程之间共享。

您可以：

1.  锁定文件本身（将[FileShare.None](http://msdn.microsoft.com/en-us/library/system.io.fileshare.aspx)传递给[FileStream 构造函数](http://msdn.microsoft.com/en-us/library/5h0z48dh.aspx)，然后使用该流读取 XML），或者
2.  使用**全局**互斥锁（将非空*名称*传递给[Mutex 构造函数](http://msdn.microsoft.com/en-us/library/f55ddskf.aspx)）。

如果文件已被锁定，选项 (1) 将不会阻塞（它只会立即抛出异常） -如果要模拟阻塞行为，则必须重复[“轮询”文件。](https://stackoverflow.com/a/876513/533120)另一方面，选项 (2) 仅在您的应用程序是唯一访问该文件的应用程序时才有效。选择你的毒药。

# spring - Spring Batch Admin：通过 Web GUI 安排新作业

> ID：10039110
> 
> 赞同：2
> 
> 时间：2012-04-06T04:27:03.127
> 
> 标签：spring, quartz-scheduler, spring-batch, spring-batch-admin

关于 Sprint Batch Admin 的新手问题。

我的要求是用户应该能够通过 Web UI 安排新作业（为作业功能传递一些参数）。这些作业应该是持久的、重复的并且可以被取消或删除。此外，可以为上次运行的作业生成报告，并列出所有现有作业及其下一次运行日期。

也许我最重要的要求是这应该可以“即时”进行，而不需要重新部署 Web 应用程序或重新启动服务器。

这可以使用 Spring Batch Admin 来完成吗（我看到该指南谈到上传 XML 以添加作业，但这似乎很乏味，如果有 API 为什么我们不能通过批处理动态创建作业管理员网络用户界面）？或者 JDK Timer 或 Quartz 是否支持它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T11:49:07.777

作业一旦创建，就无法删除，但[可以停止](http://static.springsource.org/spring-batch-admin/reference/screenshots.html#Stop_an_Execution)。允许从 DB 中删除是一个有风险的操作，因为 Spring Batch 可能已经开始执行作业，但 DB 尚未更新。如果此时删除该工作，则您有不一致的地方。

[启动](http://static.springsource.org/spring-batch-admin/reference/screenshots.html#Launch_Job)作业中描述了调度新作业。不可能创建新类型的作业，因为作业通常具有复杂的配置，在加载 Spring Context 时仅解析一次。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-12T10:32:35.243

作业和配置的动态部署（即时），无需重新启动服务器，是我们在 Trooper Batch Profile 中实现的功能 - 它不完全是 Spring Batch 管理，而是建立在它之上。您继续使用 Spring 批处理编写您的作业，只是在 Trooper 中更改了容器，您将使用它的批处理配置文件运行时。屏幕截图和功能在这里：[https ://github.com/regunathb/Trooper/wiki/Writing-Batch-jobs-in-Trooper](https://github.com/regunathb/Trooper/wiki/Writing-Batch-jobs-in-Trooper)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-09T04:07:12.063

我认为我们可以通过 SBA 部署每个春季批处理作业。我的意思是每个批处理作业都将被编译为一个战争文件。我们将它们一起部署在服务器中。这样，我们就有了以下访问url来监控每个jobs：

http://bactchjobserver/job1

http://bactchjobserver/job2

http://bactchjobserver/job3

http://bactchjobserver/job4

但缺点是每个 war 填充肯定包含 lib 文件，这使得每个 war 文件大小为 10MB。

同时，我尝试手动将new-job.xml添加到war-file\WEB-INF\classes\META-INF\spring\batch\jobs，将new-job.jar添加到war-file\WEB-INF \lib 而不停止 JBoss。有用。新作业可以显示在 SBA UI 中并且可以运行。

但显然这会导致大量的维护和故障排除。它是不可实现的。

# css - VS 2010 - 我需要扩展来编辑 LESS 样式表

> ID：10039114
> 
> 赞同：0
> 
> 时间：2012-04-06T04:28:33.297
> 
> 标签：css, visual-studio, visual-studio-2010, stylesheet, less

我在 VS 2010 中使用来自 BSNissen 的 LessExtension。效果很好，但是在大 *.less 文件上（在这种情况下，“大”是超过 100（百）行）的工作速度**非常**慢。谁知道更快速和高性能的插件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T04:31:39.353

[http://www.mindscapehq.com/products/web-workbench](http://www.mindscapehq.com/products/web-workbench)对我来说效果很好，并且似乎在社区中也有很大的动力

# objective-c - iOS标签栏界面

> ID：10039115
> 
> 赞同：0
> 
> 时间：2012-04-06T04:28:39.223
> 
> 标签：objective-c, ios5, uitabbarcontroller

我有一个`UITabBar`应用程序的登录屏幕，其中用户分为两类。我想为一种类型的用户显示某个选项卡，为另一种类型的用户显示其他选项卡。有谁知道从哪里开始？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T04:40:51.990

在我的一个应用程序中，我使用此代码在应用程序之间设置**tabbarcontroller**
首先创建没有**tabbarcontroller的****登录**屏幕 这只是根据您的条件修改的示例在**AppDelegate.m** 中定义 tabbar 控制器

 ****```
self.tabBarController = [[UITabBarController alloc] init];
self.tabBarController.delegate=self;
self.tabBarController.selectedIndex=0;
self.tabBarController.delegate=self;

- (BOOL)tabBarController:(UITabBarController *)tabBarController shouldSelectViewController:(UIViewController *)viewController{
//NSUInteger index=[[tabBarController viewControllers] indexOfObject:viewController];

  // return YES;
} 
```

在您登录的地方应用以下代码并使用标签栏控制器推送您的控制器

```
 AppDelegate *delegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];
    UIViewController *viewController1 = [[GeneralViewController alloc] initWithNibName:@"GeneralViewController" bundle:nil];
    UIViewController *viewController2 = [[MiscQuotationController alloc] initWithNibName:@"MiscQuotationController" bundle:nil];
    UIViewController *viewController4 = [[QuotationListController alloc] initWithNibName:@"QuotationListController" bundle:nil];
    UIViewController *viewController5 = [[ChargesViewController alloc] initWithNibName:@"ChargesViewController" bundle:nil];
    UIViewController *viewController7 = [[SalesPartViewController alloc] initWithNibName:@"SalesPartViewController" bundle:nil];

    ///   tab button title
    viewController1.title = @"Basic information";
    viewController2.title = @"Misc Quotation";
    viewController4.title = @"Quotation Line";
    viewController5.title = @"Charges";
    viewController7.title = @"Sales Part Stock";

    // tab button Images
    viewController1.tabBarItem.image = [UIImage imageNamed:@"general.png"];
    viewController2.tabBarItem.image = [UIImage imageNamed:@"misle.png"];
    viewController4.tabBarItem.image = [UIImage imageNamed:@"history.png"];
    viewController5.tabBarItem.image = [UIImage imageNamed:@"charges.png"];
    viewController7.tabBarItem.image = [UIImage imageNamed:@"shoebox.png"];

    delegate.tabBarController = [[UITabBarController alloc] init];
    delegate.tabBarController.selectedIndex = 0; 
```

**// 在这里写下你的用户条件**

```
if(user == admin){
delegate.tabBarController.viewControllers = [NSArray arrayWithObjects:viewController1,  viewController4, viewController5, viewController7, nil];
}
else{
delegate.tabBarController.viewControllers = [NSArray arrayWithObjects: viewController2, viewController4, viewController5, viewController7, nil];
}
        delegate.tabBarController.viewControllers = [NSArray arrayWithObjects:viewController1, viewController2, viewController4, viewController5, viewController7, nil];
        delegate.tabBarController.modalTransitionStyle = UIModalTransitionStyleCoverVertical;
        [self.navigationController pushViewController:delegate.tabBarController animated:YES]; 
```****

# android - Android：在整个动画过程中保持图像可见

> ID：10039123
> 
> 赞同：2
> 
> 时间：2012-04-06T04:29:58.913
> 
> 标签：android, animation, button, z-order

**背景：** 我有一个包含四个按钮的活动，每个按钮占据屏幕的四分之一。它包含一个水平 LinearLayout，它被两个垂直 LinearLayout 一分为二，如下图所示：

[http://i.stack.imgur.com/P7Wd3.jpg](http://i.stack.imgur.com/P7Wd3.jpg)

**期望的效果：** 当我触摸一个按钮时，我希望它动画并填满整个屏幕。

**问题：** 我通过在单击时将 X 和 Y 比例从 1 更改为 2 来完成动画方面。但是，问题是动画按钮在离开其父 LinearLayout 时不会显示。

**想法**

1.  我尝试使非动画按钮不可见，但动画按钮只会显示在其父 LinearLayout 中。

2.  我知道如果我使用单个 LinearLayout 会解决这个问题，但是我无法使用“布局：重量”功能使每个按钮占据宽度和长度的一半。

**那么......**我应该如何解决这个问题？

我将不胜感激任何帮助 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:31:57.683

尝试使用单个`RelativeLayout`. 检查[这篇文章](http://www.mkyong.com/android/android-relativelayout-example/)以获得一个很好的例子。您可能必须 `setVisibility(View.INVISIBLE)`使用其他按钮。

**选择：**

1.  `RelativeLayout`如上所述构造 a ，但将其作为 a 的唯一孩子`FrameLayout`。
2.  为按钮设置动画时，[将](http://developer.android.com/reference/android/view/ViewGroup.html#removeView%28android.view.View%29)其从 中删除`RelativeLayout`并将其[添加](http://developer.android.com/reference/android/view/ViewGroup.html#addView%28android.view.View,%20android.view.ViewGroup.LayoutParams%29)到适当的`FrameLayout`指定重力中[`LayoutParams`](http://developer.android.com/reference/android/widget/FrameLayout.LayoutParams.html#FrameLayout.LayoutParams%28int,%20int,%20int%29)。这样，其余按钮也将在动画期间在背景中看到。

# php - 如何发送博主 API？

> ID：10039126
> 
> 赞同：1
> 
> 时间：2012-04-06T04:30:17.070
> 
> 标签：php, blogger

`<!--more-->`有人知道使用博客 API 创建帖子时如何发送吗？我使用这个 xml [https://developers.google.com/blogger/docs/2.0/developers_guide_protocol#CreatingPublicEntries](https://developers.google.com/blogger/docs/2.0/developers_guide_protocol#CreatingPublicEntries)来创建帖子，但是当我用`<!--break-->`博主写帖子时消除这个标签......

但是当使用 Zend_Gdata 时，我成功发送`<!--more-->`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-15T07:28:20.887

The blogger API spits back

```
<a name="more"></a> 
```

You should try inserting that if you can insert the script it's asking for. I can't test this, just offering a suggestion.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:55:51.723

这是疯狂的猜测，但也许如果*小于*被转义，XML 注释清理程序不会将其删除：

```
&lt;--more--> 
```

# javascript - 我有功能但在萤火虫控制台它说它不是我调用它的功能？

> ID：10039129
> 
> 赞同：0
> 
> 时间：2012-04-06T04:30:35.170
> 
> 标签：javascript, jquery, firebug

我在两个站点中使用一个函数，但是当我想将它实现到第三个站点时它不起作用。当我查看萤火虫控制台时，它说它不是一个功能。我的函数位于一个名为 profilter.js 的单独文件中，如下所示：

```
jQuery.fn.sfProductFilter = function (options) {
    options = options || {};
    return this.each(function () {
        var pf = new SFProductFilter(this, options)
    })
} 
```

我从一个页面调用它，代码是：

```
$(document).ready(function(){
            console.log($("ul.productSmall"));
            $('ul.productSmall').sfProductFilter(); //says not a function.
}); 
```

我已经通过console.log检查了以下1-已经包含jQuery 2-如果我从js文件中使用console.log，它可以工作，但在任何代码块内它都不会3-ul.productSmall在console.log中显示正确的结果

我可以提供网站链接，但只是不提供，所以版主不会认为它是垃圾邮件。

我挣扎了很多，请让我知道我在哪里犯错？

![控制台看起来像](../Images/3e1a946822eb08306633ffb2963115b6.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T07:24:55.377

[（从上面的评论](https://stackoverflow.com/questions/10039129/i-have-function-but-in-firebug-console-it-says-its-not-a-function-where-i-am-cal#comment12842943_10039129)复制。）

您包含 jQuery 两次，第二次加载远远低于 profilter.js 的包含并破坏您的自定义函数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T04:37:50.623

您是否包括 jquery ui 脚本？看起来 .button() 被调用

```
function myChecks(){
    $("#checkboxcontainer input[type='checkbox']").button();
} 
```

我有预感这会成功的。

# java - Play 2.0/Java - 有没有办法在请求数据绑定后完成验证？

> ID：10039137
> 
> 赞同：4
> 
> 时间：2012-04-06T04:31:47.193
> 
> 标签：java, playframework-2.0

在 play 2.0 中，您可以通过以下方式获取请求绑定并完成验证（通过注释）：

```
ABCForm abcForm=(ABCForm)form(ABCForm.class).bindFromRequest().get(); 
```

我遇到的问题是，我想在修剪表单值后完成验证。那么有没有办法在 play 2.0 中推迟或调用验证内容绑定？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-17T13:06:01.773

绑定和验证相结合。据我所知，绑定后的验证是不可能的。但是，您可以创建一种`validate()`方法，在该方法中在验证值之前对其进行修整。例如：

```
public class User {

    public String name;

    public String validate() {
        name.trim
        if(name == "") {
            return "Name is required";
        }
        return null;
    }
} 
```

`validate()`绑定表单时将调用该方法。因此，您可以确保您的数据有效，但不会自动将错误添加到`Form.Field`对象中。所以这当然是一个很好的解决方案。

Play 的 Google Group 中也有很多关于表单验证的讨论，所以如果您想了解更多关于绑定/验证问题的信息，我建议您阅读它们：[https ://groups.google.com/forum/#!searchin/play-框架/%5B2.0%5D$20 验证](https://groups.google.com/forum/#!searchin/play-framework/%5B2.0%5D%2420validation)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-20T15:02:21.857

如果您需要在验证之前修改您的值。您可以为您的领域创建一个二传手并在那里进行修剪。

# html - 网站出于某种原因允许水平滚动

> ID：10039140
> 
> 赞同：0
> 
> 时间：2012-04-06T04:32:07.577
> 
> 标签：html, css, 960.gs

在我的网站上：[http](http://rocketroofing.us/rocket) ://rocketroofing.us/rocket有一堆水平滚动。我无法弄清楚是什么原因造成的。我不希望有任何水平滚动。我购买的模板使用 960 网格系统，所以这就是为什么我对导致此问题的原因如此迷惑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T04:48:26.207

尝试添加`overflow-x:hidden;`到`body`您的样式表中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T04:46:52.390

你指的是幻灯片效果吗？我在源代码中看到第 113 行有一个名为“slideshow”的 div，第 114 行有一个名为“slider”的 div。幻灯片似乎是定时的。CSS页面上有什么东西，或者驱动这个的Javascript代码吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T04:47:57.593

我在您的网站上看不到任何水平滚动条？您使用的是哪种浏览器和哪种分辨率？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-06T05:09:30.017

将其替换为 CSS 文件中的内容：

```
.style3#header ul.menu {
    /*background:url('../php-includes/rgba.php?name=black&a=60'); */ 
    background-color:rgba(0,0,0,0.6);
    -webkit-border-radius:4px;
    -moz-border-radius:4px;
    border-radius:4px;
    padding:0 20px;
    margin: 0;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-06T05:09:31.310

它通常通过在 Safari 和 Firefox 中将 CSS text-indent 属性设置为 -99999 之类的值来发生。

# html - 域 .htaccess 重定向 保持链接

> ID：10039141
> 
> 赞同：0
> 
> 时间：2012-04-06T04:32:43.967
> 
> 标签：html, apache, .htaccess, webserver

我想将 Domain1.com 定向到 Domain2.com

自然，您可以将其添加到 Domain1.com 的 HTACCESS 文件中：Redirect 301 / [http://Domain2.com](http://Domain2.com)

但是，论坛上发布了许多指向 Domain1 文件的链接。如何在仅将 Domain1 索引指向 Domain2 的同时保持这些链接的完整性？.htaccess 有可能吗？

* * *

编辑：我知道使用 javascript 很容易做到这一点：

```
<script type="text/javascript">
<!--
window.location = "http://domain2.com/"
//-->
</script> 
```

我只是想了解 .htaccess 的工作原理。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T20:22:54.053

```
RewriteEngine on
RewriteCond %{HTTP_HOST} !domain1\.com$ [NC]
RewriteRule ^(.*)$ http://domain2.com/$1 [R=301,L] 
```

# javascript - jQuery iterating over outputted Ci/Sql data

> ID：10039147
> 
> 赞同：1
> 
> 时间：2012-04-06T04:33:54.493
> 
> 标签：javascript, jquery, codeigniter

I have a Ci script outputting database values. On these values '#commentLink' and '#commentBox' are outputted in ever iteration of the Ci outputted data. How would I identify which commentLink and commentBox is which. Right now if you click the first commentLink, it selects the first commentBox. and when you click the 20th commentLink it selects the first commentBox. I need the 20th commentLink to select the 20th commentBox.

So How would I iterate over the values? Is there a way to identify the outputted rows using a unique id and use .each() or something of the nature?

```
$("#commentLink").click(function() {
        $("#commentBox").focus();
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:45:03.833

rather than using the selector by id, you could use traversal to get the node in which you're interested. For example, if each is in a table row:

```
<tr>
    <td><input id="commentBox" type="text>SomeText</input></td>
    <td><input id="anotherBox" type="text>SomeText</input></td>
    <td><a id="commentLink">Click me!</a></td>
</tr> 
```

you could say `$(this).parent.sibling('#commentBox')` in the function body to get the one #commentbox in the same row.

See the examples section of [jQuery click documentation](http://api.jquery.com/click/) for a how the `$(this)` is used.

Also, as a minor side issue, it's considered good practice to keep ids unique on the page and use a class for something like this (`commentBox`).

# javascript - 如何禁用链接按钮以防止多次提交

> ID：10039149
> 
> 赞同：1
> 
> 时间：2012-04-06T04:34:12.567
> 
> 标签：javascript, linkbutton

我有这样的 HTML 代码：

```
<asp:LinkButton ID="AddButton" runat="server" OnClick="AddPatientBtn_Click">
<span class="Normal">Add</span>
</asp:LinkButton> 
```

我发现如果我们点击“添加”几次，它会添加几个病人记录，所以我想像这样更改代码：

```
<asp:LinkButton ID="AddButton" runat="server" OnClick="AddPatientBtn_Click" OnClientClick="return DisableButton(this)">
<span class="Normal">Add</span>
</asp:LinkButton> 
```

js：

```
function DisableButton(button) {

document.all("AddButton").click;
button.href = "javascript:void(0);";
button.setAttribute("disabled", "disabled");

} 
```

但这不起作用；我仍然可以添加许多患者记录。

我该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-09T04:57:20.983

谢谢大家！

我发现 LinkBut​​ton 可能没有禁用属性，它是一个`<a>`html 页面。

所以我使用另一种解决方案

```
<asp:LinkButton ID="AddButton" runat="server" OnClick="AddPatientBtn_Click" OnClientClick="return DisableButton()">
<span class="Normal">Add</span>
</asp:LinkButton> 
```

js：

```
var pending = false;
function DisableButton() {if (pending) {
    alert("The new patient is being created. Please wait...");
    return false;
    }
    else {
         if (Page_ClientValidate(""))
         pending = true;
         return true;
     } 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T04:37:36.290

你可以说

```
AddButton.Enabled = false; 
```

在页面后面的代码中

或者你可以写

```
document.getElementById("AddButton").disabled = true; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T04:43:57.790

var button = document.getElementById("AddButton"); button.setAttribute("禁用", "true");

# java - 文件对象未被函数修改

> ID：10039151
> 
> 赞同：0
> 
> 时间：2012-04-06T04:34:52.293
> 
> 标签：java, swing, file, reference

我希望以下代码向用户询问文件并（如果存在）将其存储在 curFile 中。这应该不是问题，因为 curFile 是通过引用传递的。如果该过程成功，则应返回 true，否则应返回 false。

```
void foo() {
    File curFile = null;

    // Open a file and set curFile to this file
    openFile(curFile);
}

bool openFile(File file) {
    // Ask the user for the file to open
    File tempFile = getFileFromUserInput()
    // If the file exists, set file and (thus curFile) to tempFile and return true
    if (tempFile.exists()) {
        file = tempFile;
        return true;
    } else {
        return false;
    }
 } 
```

问题是代码没有设置`curFile = tempFile`。我认为这样做的原因是，虽然 curFile 是一个对象并且是通过引用传递的，但我并没有在函数中修改这个对象。我将一个新对象放入变量中。但我仍然不确定这是否是它不起作用的原因。（`getFileFromUserInput()`实际上是一种 Swing 方法`FileChooser.getSelectedFile()`，以防万一。）

一种解决方法是返回文件对象而不是布尔值。但这会导致 curFile 被返回值覆盖，即使它不应该被覆盖，例如当文件不存在时。对此有一些修复，例如如果它是无效文件则返回 null 并将旧文件保存在临时变量中以防返回 null ，但这很难看。

另一种方法是返回包装在一个对象中的布尔值和文件，但这更难看。

所以我坚持方法一，还是有一个很好的方法来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T04:59:03.617

首先，Java 中没有引用传递（c++ 中的 等效项`&`）。所有参数传递都是按值完成的。分配给参数变量不会更改调用点的参数。只需在 openFile 中分配实例变量。我想你想要这样的东西。

```
File curFile = null;
bool openFile() {
    File tempFile = getFileFromUserInput();
    if (tempFile.exists()) {
        curFile = tempFile;
        return true;
    } else {
        curFile = null;
        return false;
    }
} 
```

请注意缺少`openFile`.

# java - 如何在 Java 中为简单的横向卷轴游戏创建暂停菜单

> ID：10039156
> 
> 赞同：-1
> 
> 时间：2012-04-06T04:35:57.387
> 
> 标签：java, swing, user-interface, java-2d

我正在尝试在java中创建一个简单的sideScroller，到目前为止我的游戏按预期运行，但我不知道如何创建一个暂停菜单以转到主菜单和东西（不知道如何创建那个母校的主要手册）你认为最好的主意是什么？这是我的游戏的相关代码，这个面板在框架内被调用：

## 游戏代码

```
package videojuegoalpha;

import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.KeyAdapter;
import java.awt.event.KeyEvent;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import javax.imageio.ImageIO;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.Timer;

public class Background extends JPanel implements ActionListener, Runnable {

BufferedImage img, marco;

Character character;

Obstacle[] obstacleArray;

Timer time;

//CONSTANTS    
final static int largoPantalla = 800;
final static int borderWidth=24;
final static int diferencialPantalla = 74;
final static int characterFlow=10; 
final static int fontSize=18;
final static int flickerTime=150;
final static int invincibilityTime=2000;

int largonivel;
int controlPaso;
int actualHeight;
int standardHeight;
int maxHeightValue;
int deltaObstaculo;

Thread brinco;

static boolean debug=false;   

boolean jumpCycleDone;
boolean runDone;
boolean maxHeight;
boolean shrinkHeart;
boolean pause;

static Font fontScore,fontMultiplier;

Lives lives;

static MultithreadSystem sounds =  new MultithreadSystem();
static Thread MusicPlayer = new Thread(sounds);

static String BackgroundMusic;    
String hitSound;
String score;

public Background(int actualHeight, int maxHeightValue,
        String characterImage,String characterHitImage, int pasosPersonaje,int speed,
        String imagenFondo,String imagenMarco,
        String lowObstacleImage,String highObstacleImage,int obstacleDistance,
        String musicFile,String jumpSound,String hitSound, String dashSound) {

    controlPaso=0;
    this.standardHeight = actualHeight;
    this.actualHeight = this.standardHeight;
    this.maxHeightValue = maxHeightValue;

    jumpCycleDone = false;
    runDone = false;
    maxHeight = false;
    shrinkHeart=false;
    pause=false;

    character = new Character(characterImage,characterHitImage,pasosPersonaje,
                speed,jumpSound,dashSound);

    lives=new Lives();

    obstacleArray=Obstacle.getObstacleArray(5200,obstacleDistance,
            standardHeight+deltaObstaculo+borderWidth,                                                               (standardHeight+deltaObstaculo)/,lowObstacleImage,highObstacleImage);

    addKeyListener(new AL());
    setFocusable(true);

    try {
        img = CompatibleImage.toCompatibleImage(ImageIO.read(new File(
              "Images"+File.separator+"Background"+
               File.separator+imagenFondo)));
        marco = CompatibleImage.toCompatibleImage(ImageIO.read(new File(
              "Images"+File.separator+imagenMarco)));
        fontScore=(Font.createFont(Font.TRUETYPE_FONT,new FileInputStream(new File(
               "Fonts"+File.separator+"score.ttf")))).deriveFont(Font.BOLD, 18);
        fontMultiplier=(Font.createFont(Font.TRUETYPE_FONT,
                new FileInputStream(new File("Fonts"+File.separator+"multi.ttf"))))
                .deriveFont(Font.BOLD, fontSize+10);

    } catch (IOException | FontFormatException e) {
        System.out.println("Error al cargar" + ":" + e.toString());
    }

    deltaObstaculo=(character.getImage(character.pasoActual).
                   getHeight(null))- (obstacleArray[0].getImage().getHeight(null));

    time = new Timer(5, this);
    time.start();
    BackgroundMusic = "Music/"+musicFile;
    backMusic(BackgroundMusic);        

    this.hitSound=hitSound;
}

public static void backMusic(String MusisBck) {
    sounds.newThread(BackgroundMusic);
    MusicPlayer.start();
    if (MusicPlayer.isAlive() != true) {
        sounds.newThread(BackgroundMusic);
        MusicPlayer.start();
    }
}

@Override
public void actionPerformed(ActionEvent e) {

    if(!pause){
        character.move();
    }                

    condWin(5200);

    condLose();

    avanzaPaso();

    repaint();
}

public void avanzaPaso() {
    if(!pause){
        controlPaso++;            
    }
    if (controlPaso % characterFlow == 0) {
        character.pasoActual++; 
        if (character.pasoActual > character.pasos-3) { 
            character.pasoActual = 0;
        }
        debugMode("Paso: " + character.pasoActual);
    }
    if(controlPaso%(characterFlow*(character.pasos-2))==0){
        shrinkHeart = !shrinkHeart;//oscilación para encojer/desencojer
    }
}

public void condWin(int dist) {

    if (character.getPositionX() == dist) {
        MultithreadSystem sounds = new MultithreadSystem();
        sounds.newThread("Music/FF3Victory.wav");
        Thread sounds_player = new Thread(sounds);
        MusicPlayer.stop();
        sounds_player.start();

        JOptionPane.showMessageDialog(null, "YOU WIN!");
        System.exit(0);
    }
}

public void condLose() {

    if (character.lives == 0) {
        character.isAlive = false;

        if (!character.isAlive) {

            MultithreadSystem sounds = new MultithreadSystem();
            sounds.newThread("Music/gameOver01.wav");
            Thread sounds_player = new Thread(sounds);
            MusicPlayer.stop();
            sounds_player.start();

            JOptionPane.showMessageDialog(null, "YOU SUCK");
            System.exit(0);
        }
    }
}

@Override
public void paint(Graphics g) {

    debugMode("Altura: " + actualHeight);
    if (character.deltaY == 1 && runDone == false) {
        runDone = true;
        brinco = new Thread(this);
        brinco.start();
    }

    super.paint(g);
    Graphics2D g2d = (Graphics2D) g;

    g2d.drawImage(img, largoPantalla - character.getnX2(), 0, null);

    if (character.getPositionX() > diferencialPantalla) {
        g2d.drawImage(img, largoPantalla - character.getnX(), 0, null);
    }

    for (int i = 0; i < obstacleArray.length; i++) {
        if (obstacleArray[i] != null) {

            if (obstacleArray[i].getPositionX() == -character.posicionFija) {
                obstacleArray[i] = null;
            }

            if (obstacleArray[i] != null) {

                if(!pause){
                    obstacleArray[i].move(character.pixPerStep);                        
                }

                if (obstacleArray[i].getPositionX() == 
                           largoPantalla + character.posicionFija) {
                    obstacleArray[i].setVisible(true);
                }

                if (obstacleArray[i].isVisible()) {
                    g2d.drawImage(obstacleArray[i].getImage(),
                          obstacleArray[i].getPositionX(),
                          obstacleArray[i].getPositionY(), null);
                }
                checkCollisions(obstacleArray[i]);
            }
        }

    }

    if (character.paintCharacter) {            
            g2d.drawImage(character.getImage(character.pasoActual),
                  character.posicionFija, actualHeight, null);                        
    }

    character.hit(flickerTime);

    if (shrinkHeart) {
        g2d.drawImage(lives.getImage(character.getLives()),
                borderWidth + 5,
                borderWidth + 5,
                (int) (lives.getImage(character.getLives()).getWidth() * .95),
                (int) (lives.getImage(character.getLives()).getHeight() * .95),
                null);
    } else {
        g2d.drawImage(lives.getImage(character.getLives()),
                borderWidth + 5,
                borderWidth + 5,
                null);
    }

    g2d.drawImage(marco, 0, 0, null);

    g2d.setFont(fontScore);
    g2d.setColor(Color.BLACK);

    score = String.format("%08d", character.score);
    g2d.drawString("score:" + score, 500, borderWidth * 2);

    g2d.setFont(fontMultiplier);
    g2d.drawString(character.multiplier + "", 
        (largoPantalla / 2) - 75, (borderWidth * 2) + 10);
}

private class AL extends KeyAdapter {

    @Override
    public void keyReleased(KeyEvent e) {
        character.keyReleased(e);
    }

    @Override
    public void keyPressed(KeyEvent e) {
        int key = e.getKeyCode();
        if(!pause){
            character.keyPressed(e);
        }
        if (key == KeyEvent.VK_D) {
            debug=(!debug);
        }
        if(key==KeyEvent.VK_P){
            pause=(!pause);
        }
        if (key == KeyEvent.VK_ESCAPE) {
            System.exit(0);
        }
    }
}

public void checkCollisions(Obstacle obstacle) {

    if (character.posicionFija == obstacle.getPositionX()) {

        if (obstacle instanceof LowObstacle) {

            debugMode("Obstaculo Bajo, Altura: "+obstacle.getPositionY());

           if (actualHeight <= (standardHeight - obstacle.getImage().getHeight(null))){

                if (character.multiplier < 4) {

                    character.multiplier++;
                }
            } else {

                if (character.hitAllowed) {

                    sounds = new MultithreadSystem();
                    sounds.newThread("SFX/" + hitSound);
                    Thread sounds_player = new Thread(sounds);
                    sounds_player.start();
                    character.multiplier = 1;
                    character.lives--;
                    character.hitAllowed = false;
                }
            }
        }

        else{
            debugMode("Obstaculo Alto, Altura: "+obstacle.getPositionY());

            if (character.dashPressed) {

                if (character.multiplier < 4) {

                    character.multiplier++;
                }
            } else {

                if (character.hitAllowed) {

                    sounds = new MultithreadSystem();
                    sounds.newThread("SFX/" + hitSound);
                    Thread sounds_player = new Thread(sounds);
                    sounds_player.start();
                    character.multiplier = 1;
                    character.lives--;
                    character.hitAllowed = false;
                }
            }                   
        }
    }
}

public void cycle() {
    if(!pause){
        if (maxHeight == false) {
            actualHeight--;
        }

        if (actualHeight == maxHeightValue) {
            maxHeight = true;
        }

        if (maxHeight == true && actualHeight <= standardHeight) {
            actualHeight++;
            if (actualHeight == standardHeight) {
                jumpCycleDone = true;
            }
        }
}
}

@Override
public void run() {
    character.isJumping = true;
    character.keyAllowed = false; 

    long beforeTime, timeDiff, sleep;
    beforeTime = System.currentTimeMillis();

    while (jumpCycleDone == false) {
        cycle();

        timeDiff = System.currentTimeMillis() - beforeTime;
        sleep = 8 - timeDiff;

        if (sleep < 0) {
            sleep = 2;
        }
        try {
            Thread.sleep(sleep);
        } catch (InterruptedException e) {
        }

        beforeTime = System.currentTimeMillis();
    }

    jumpCycleDone = false;
    maxHeight = false;
    runDone = false;
    character.keyAllowed = true;
    character.isJumping = false;        

}

public static void debugMode(String string){
    if(debug){
        System.out.println(string);
    }
}

// Getters y Setters //
public Character getCharacter() {
    return character;
}

public void setCharacter(Character character) {
    this.character = character;
}
} 
```

如您所见，我已经有一个暂停变量，可以暂停所有内容，但是我想在中间弹出一个小窗口，同时暂停它的真实

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T17:13:54.860

问题是您的班级背景是您直接绘制的地方。通常你的游戏会处理所有的帧和东西，但是你有一些你的主游戏调用的 GameState 对象，像这样：

```
public void update() {
    if (pause) {
        gameState = pauseState;
    } else {
        gameState = playState;
    }

    gameState.update();
}

@Override
public void paint(Graphics g) {
    super.paint(g);
    Graphics2D g2d = (Graphics2D) g;
    gameState.paint(g2d)
} 
```

这个想法是您可以拥有任意数量的游戏状态。只需创建一个 GameState 接口，它提供更新、绘制、初始化和处置（或类似的东西）的方法。然后你可以拥有各种GameStates，例如Play、Pause、MainMenu、SaveGameMenu等，每一个都负责更新和绘制自己。

它是处理逻辑以交换 GameStates 的主类（您的游戏循环所在的位置）。

# objective-c - loadNibNamed:owner:options 转换为 ARC 后应用程序崩溃

> ID：10039157
> 
> 赞同：1
> 
> 时间：2012-04-06T04:36:05.040
> 
> 标签：objective-c, ios, automatic-ref-counting

在将我的项目转换为 ARC 后，我确信这是一个愚蠢的问题。此方法已在第一行开始崩溃：

```
- (MyView*) loadMyView
{
    NSArray* elements = [[NSBundle mainBundle] loadNibNamed:@"MyView" owner:nil options:nil];

    return (MyView*)[elements objectAtIndex:0];
} 
```

这在转换为 ARC 之前运行良好。该应用程序在模拟器中崩溃并显示以下消息：

```
[CFArray release]: message sent to deallocated instance 
```

谁能告诉我我做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T13:55:26.667

好吧，在睡了之后，我决定删除 Nib 并重新开始看看是否有帮助，果然，它现在可以工作了。我不知道转换为 ARC 会导致这个问题，但删除 Nib 并从头开始重新创建它解决了这个问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-12T20:03:16.233

我遇到过同样的问题。如果您的 nib 文件中存在不一致，通常会发生这种情况。我的一些按钮仍然通过 IBOutlets 连接到我在头文件中删除的一些对象。希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T05:05:17.970

尝试将`owner:`参数从更改`nil`为`self`

```
NSArray* elements = [[NSBundle mainBundle] loadNibNamed:@"MyView" owner:self options:nil]; 
```

我猜是因为您将所有者设置为 nil，您的数组正在创建时保留计数为零，因此立即被释放。

# android - 如何显示 Facebook 好友头像？

> ID：10039158
> 
> 赞同：1
> 
> 时间：2012-04-06T04:36:08.740
> 
> 标签：android, facebook-graph-api

我需要获取 Facebook 好友列表和他们的图片。如何将每个朋友的数据存储在 bean 中？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-04-06T04:41:22.910

头像请参考 Graph API

[https://developers.facebook.com/docs/graph-api/reference/user/picture/](https://developers.facebook.com/docs/graph-api/reference/user/picture/)

# nsxmlparser - 错误域 = NSXMLParserErrorDomain 代码 = 64 “操作无法完成。（NSXMLParserErrorDomain 错误 64。）”

> ID：10039161
> 
> 赞同：0
> 
> 时间：2012-04-06T04:36:46.950
> 
> 标签：nsxmlparser, nsxmlparsererrordomain

NSXMLParserDomain Code=64 中的错误 64 是什么意思？我正在使用 NSXMLParser 来解析我的 XML 数据。但我收到了上述错误。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T09:52:16.293

我发现了。当 XMl 在启动时包含错误时，就会出现错误。你可以在这里使用 w3schools 验证 XMl [http://www.w3schools.com/xml/xml_validator.asp](http://www.w3schools.com/xml/xml_validator.asp%5BHow) [如何验证 XML] [1](https://www.w3schools.com/xml/xml_validator.asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-19T12:44:50.303

如果 XML 在 xml 标记开始之前包含一些额外的行，也会发生这种情况。

# node.js - mongoose 是否允许同时处理多个数据库请求？

> ID：10039163
> 
> 赞同：24
> 
> 时间：2012-04-06T04:37:00.320
> 
> 标签：node.js, mongodb, mongoose

我读到猫鼬每个集合最多只会打开一个连接，并且没有选项可以更改它。

这是否意味着缓慢的 mongo 查询会使所有后续查询等待？

我知道 node.js 中的所有内容都是非阻塞的，但我想知道慢速查询是否会延迟所有后续查询的执行。以及是否有办法改变这一点。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-04-06T06:17:20.910

如果您使用执行 mongoose.connect() 的默认方法，它只使用一个连接。为了解决这个问题，您可以创建多个连接，然后将指向相同模式的模型绑定到该连接。

像这样：

```
var conn = mongoose.createConnection('mongodb://localhost/test');
var conn2 = mongoose.createConnection('mongodb://localhost/test');
var model1 = conn.model('Model', Schema);
var model2 = conn2.model('Model', Schema);
model1.find({long query}, function() {
   console.log("this will print out last");
});
model2.find({short query}, function() {
   console.log("this will print out first");
}); 
```

希望有帮助。

**更新** 嘿，这确实有效。从评论更新，您可以使用 createConnection 创建连接池。它允许您同时从同一模型执行多个查询：

```
var conn = mongoose.createConnection('mongodb://localhost/test', {server:{poolSize:2}});
var model = conn.model('Model', Schema);
model.find({long query}, function() {
   console.log("this will print out last");
});
model.find({short query}, function() {
   console.log("this will print out first");
}); 
```

**更新 2——2012 年 12 月**
这个答案现在可能有点过时了——我注意到我一直在继续获得支持，所以我想我会更新它。mongoose 包装的 mongodb-native 驱动程序现在默认连接池大小为 5，因此您可能不需要在 mongoose 中显式指定它。

# iphone - 快速返回RootViewController

> ID：10039164
> 
> 赞同：3
> 
> 时间：2012-04-06T04:37:08.087
> 
> 标签：iphone, objective-c, ios, cocoa-touch, uiviewcontroller

有什么方法可以快速去`rootViewController`吗？我想从堆栈中删除所有视图并返回，`rootViewController`甚至不打扰它上面的视图序列。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-06T04:39:43.497

从文档：

> popToRootViewControllerAnimated：弹出堆栈上除根视图控制器之外的所有视图控制器>并更新显示。
> 
> `- (NSArray *)popToRootViewControllerAnimated:(BOOL)animated`
> 
> 参数
> 
> 动画：
> 
> 将此值设置为 YES 以设置过渡动画。如果在显示视图之前设置导航控制器，则传递 NO。
> 
> 返回值：
> 
> 从堆栈中弹出的视图控制器数组。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-06T07:31:50.023

首先，我认为您需要关闭呈现的模型，然后您可以弹出所有推送的视图控制器。所呈现的模型不会在导航的堆栈中。

```
[self dismissModalViewControllerAnimated:YES]; 
```

然后你可以弹出到基本视图控制器。

```
[self.navigationController popToRootViewController:YES]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-06T04:48:56.203

尝试这个：-

```
[self.viewController popToRootViewController:YES]; 
```

# scons - Libjingle 编译中的加密错误

> ID：10039166
> 
> 赞同：1
> 
> 时间：2012-04-06T04:37:30.553
> 
> 标签：scons, libjingle

当我编译最新的 libjingle 时，我发现了以下一些问题：

```
scons: Building targets ...
________Compiling build/dbg/obj/third_party/srtp/crypto/kernel/err.o
third_party/srtp/crypto/kernel/err.c:56: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘err_level’
third_party/srtp/crypto/kernel/err.c:69: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘*’ token
third_party/srtp/crypto/kernel/err.c:72: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘err_reporting_init’
third_party/srtp/crypto/kernel/err.c: In function ‘err_report’:
third_party/srtp/crypto/kernel/err.c:96: error: ‘va_list’ undeclared (first use in this function)
third_party/srtp/crypto/kernel/err.c:96: error: (Each undeclared identifier is reported only once
third_party/srtp/crypto/kernel/err.c:96: error: for each function it appears in.)
third_party/srtp/crypto/kernel/err.c:96: error: expected ‘;’ before ‘args’
third_party/srtp/crypto/kernel/err.c:98: error: ‘err_level’ undeclared (first use in this function)
cc1: warnings being treated as errors 
```

谁能给我关于如何解决这个错误的建议？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T04:47:23.687

不熟悉 libjingle 库，但是编译器所指的错误是因为 ./configure 命令（应该之前已经运行过）应该设置了目标（您的计算机）架构类型... x86、x86_64、arm 等

您应该研究相关软件包的编译选项

# r - 在 knitr 中开始一个新的 R 会话

> ID：10039167
> 
> 赞同：7
> 
> 时间：2012-04-06T04:37:32.590
> 
> 标签：r, knitr

如何`R`在 中开始新会话`knitr`？我宁愿开始一个新会话，也不愿使用类似的东西，`rm(list=ls())`因为它不等效。

```
<<myname>>=
#some R code
@
<<another_chunk>>=
#start a new R session
#more R code
@ 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-06T08:03:13.330

好的，现在我有一些更重要的东西给你，灵感来自[Georg Ruß 的 R-help 列表上的答案](http://r.789695.n4.nabble.com/Reset-R-to-a-vanilla-state-td3090927.html)。他建议了三件事让 R 恢复到启动时的状态，我已经为你编写了这六步手册。

首先，您保存一串您在启动时运行的包（这应该在其他任何事情之前完成，在您运行任何其他代码之前），

```
foo <- .packages() 
```

其次，当你想重置 R 时，正如你所提到的，你运行

```
rm(list=ls()) 
```

删除所有对象。然后，第三，你跑，

```
bar <- .packages() 
```

获取当前包的字符串。其次是，

```
foobar <- setdiff(bar, foo) 
```

第五，你用这个变通方法消除了差异，

```
toRemove <- paste("package:", foobar, sep='') 
#or paste0("package:", foobar) in R-2.15.0 or higher
for(i in seq_along(foobar)) {           
    detach(toRemove[i], character.only=TRUE)    
} 
```

第六，根据您的设置，您获取 .Rprofile

```
source(".Rprofile") 
```

这应该将 R 置于您启动它时的状态。我可能忽略了一些东西。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-06T16:41:38.480

`knitr`我建议您不要在 中启动新的 R 会话，而是在终端（或命令窗口）中启动新的 R 会话，如下所示：

```
R -e "library(knitr); knit('your_input.Rnw')" 
```

如果你在 Windows 下，你必须将 R 的 bin 目录放入你的环境变量中`PATH`（我已经很厌倦了描述如何做到这一点，所以如果你在 Windows 世界中，请自行搜索，或者查看[LyX Sweave手册](https://github.com/downloads/yihui/lyx/sweave.pdf)）。

但是，大多数编辑器在调用 Sweave 或时会启动新的 R 会话`knitr`，例如 LyX 和 RStudio 等。您可以在[http://yihui.name/knitr/demo/editors/](http://yihui.name/knitr/demo/editors/)中找到更多可能的编辑器`R -e ...`在终端中调用。

# jquery - jQuery Hover 图像变化动画

> ID：10039174
> 
> 赞同：5
> 
> 时间：2012-04-06T04:38:09.507
> 
> 标签：jquery

我有一个带有灰度图像的 IMG 标签。我连接了一个 Hover() 事件，以便在悬停时将“src”更改为彩色图像，并在鼠标移出时返回灰度。

这工作得很好，但是变化是突然的。我想在效果中添加一个轻微的 fadeIn() ，以便颜色看起来淡入淡出。我写了以下我认为可行的内容，但没有。（图像发生变化，但效果没有褪色或延迟）。我究竟做错了什么？

```
 $("#showForm").hover(
              function () {
                $(this).fadeIn('slow', function(){
                    $(this).attr("src", 'images/AddButtonSmall.gif');
                });
              }, 
              function () {
                $(this).fadeIn('slow', function(){
                    $(this).attr("src", 'images/AddButtonSmallGray.gif');
                });
              }
            ); 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-06T04:54:45.647

这里有几个解决方案。您的代码不起作用，因为您正在设置立即更改图像的源。加载两个图像可能更容易，用 CSS 覆盖它们，然后在父容器被鼠标悬停时淡出颜色。或者你可以交叉淡化它们

css

```
.fader { display: inline-block; }
.fader img:last-child {
    position: absolute;
    top: 0; 
    left: 0;
    display: none;
}​ 
```

html

```
<div class="fader">
    <img src="http://placehold.it/300x300/000fff" />
    <img src="http://placehold.it/300x300/fff000" />
</div>​ 
```

鼠标悬停时淡入

[http://jsfiddle.net/Xm2Be/3/](http://jsfiddle.net/Xm2Be/3/)

```
$('.fader').hover(function() {
    $(this).find("img:last").fadeToggle();
});​ 
```

交叉淡入淡出

[http://jsfiddle.net/Xm2Be/2/](http://jsfiddle.net/Xm2Be/2/)

```
$('.fader').hover(function() {
    $(this).find("img").fadeToggle();
});​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T04:47:48.230

```
 $(this).fadeIn('slow', 
```

实际上是在尝试慢慢淡入 this 元素，而 'this' 指的是

```
$("#showForm") 
```

相反，如果您愿意，您可以将彩色图像直接放在当前灰度图像上，并将彩色图像标记为隐藏，然后让它慢慢淡入。假设它们彼此重叠，您可以这样做：

```
$("#showForm").hover(
    function () {
       $("#colorImageID").fadeIn();
    }, 
    function () {
       $("#colorImageID").fadeOut();
    });
  } 
```

);

假设 html 类似于（其中 sameAbsolutePosition 是 css 将它们放在同一个确切位置，所以可能类似于 position:absolute; left:20; top:20px;）：

```
<img src='images/AddButtonSmallGray.gif' class="sameAbsolutePosition">
<img src='images/AddButtonSmall.gif' style="display:none;" class="sameAbsolutePosition"> 
```

重申一下，您将在另一个图像之上淡化一个新图像。您也可以同时淡出灰度图像。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T04:49:40.017

你在哪里淡出？淡入`display:block`处理不透明度从 0 变为 100。淡出处理不`display:none`透明度从 100 变为 0。

一次，你淡入，图像`display:block`和不透明度是 100。所以，你看不到动画。所以，要么在 fadeIn 之前再做一个 display:none 或 fadeOut 。

给出的是解释事情的例子。你应该根据你的要求改变它。

```
$("#showForm").hover(
              function () {
                $(this).fadeOut('fast').fadeIn('slow', function(){
                    $(this).attr("src", 'images/AddButtonSmall.gif');
                });
              }, 
              function () {
                $(this).fadeOut('fast').fadeIn('slow', function(){
                    $(this).attr("src", 'images/AddButtonSmallGray.gif');
                });
              }
            ); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-06T04:51:03.497

更好的解决方案：

忘记 javascript 来完成这项工作。改用 CSS 的[精灵](http://css-tricks.com/css-sprites/)。如果您坚持使用淡入淡出，请使用过渡。

**更新**：回应下面的评论，我无法编写一些代码，因为我无法预测托德精灵中的尺寸和位置。我还想澄清一下，我的建议是使用精灵，然后使用过渡来增强“功能”，而不仅仅是过渡，因为我认为他需要它才能在 IE8 和 IE9 中工作。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-06T04:52:12.597

试试这个

```
 $("#showForm").hover(
          function () {
              $(this).fadeOut('fast',function(){
                 $(this).attr("src", 'images/AddButtonSmall.gif');
                 $("#img_src").html("images/AddButtonSmall.gif"); 
              });
            $(this).fadeIn('fast');
          }, 
          function () {
            $(this).fadeOut('fast',function(){
                 $(this).attr("src", 'images/AddButtonSmallGray.gif');
                 $("#img_src").html("images/AddButtonSmallGray.gif"); 
              });
            $(this).fadeIn('fast');
          }
        );​ 
```

这是[小提琴](http://jsfiddle.net/ranganadh/kmEF3/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-10-12T20:36:29.153

您也可以使用过渡使用 css3 进行交叉淡入淡出。不适用于所有浏览器，但仍然... [http://www.w3schools.com/css3/css3_transitions.asp](http://www.w3schools.com/css3/css3_transitions.asp)

与[CSS 类似：图片链接，悬停时更改](https://stackoverflow.com/questions/4717117/css-image-link-change-on-hover)

例如：

```
#showForm
{
    background: transparent url('images/AddButtonSmallGray.gif') center top no-repeat;

    -webkit-transition:all 0.3s ease-in-out;
    -moz-transition:all 0.3s ease-in-out;
    transition:all 0.3s ease-in-out;
}

#showForm:hover {
    background-image: url('images/AddButtonSmall.gif');
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-04-18T12:45:30.933

试试这个

```
 $(".image_hover").mouseover(function(){
        var old_src=$(this).attr("src");
        var new_src=$(this).attr("data-alt-src");
        $(this).attr('src', new_src);
        $(this).attr('data-alt-src', old_src);
      });
     $(".image_hover").mouseout(function(){
        var old_src=$(this).attr("src");
        var new_src=$(this).attr("data-alt-src");
        $(this).attr('src', new_src);
        $(this).attr('data-alt-src', old_src);
      }); 
```

# c# - 使用 cookie 添加到购物车功能会删除所有内容？

> ID：10039182
> 
> 赞同：2
> 
> 时间：2012-04-06T04:40:01.910
> 
> 标签：c#, asp.net-mvc-3, cookies, cart

我不确定它是否会删除 cookie 上的所有内容，或者只是不从用户那里获取现有的 cookie，然后将其添加并返回。

这是代码：

```
[Authorize]
public ActionResult AddToCart(int productId, int quantity)
{
    //If the cart cookie doesn't exist, create it.
    if (Request.Cookies["cart"] == null)
    {
        Response.Cookies.Add(new HttpCookie("cart"));
    }

    //If the cart already has this item, add the amount to it.
    if (Request.Cookies["cart"].Values[productId.ToString()] != null)
    {
        int tmpAmount = Convert.ToInt32(Request.Cookies["cart"].Values[productId.ToString()]);
        Response.Cookies["cart"].Values.Add(productId.ToString(), (quantity + tmpAmount).ToString());
    }
    else
    {
        Response.Cookies["cart"].Values.Add(productId.ToString(), quantity.ToString());
    }

    return RedirectToAction("Index");
} 
```

我使用了断点并且可以确认如果我在 cookie 中有一个项目，然后添加另一个不同的项目，代码运行正确不会执行`Response.Cookies.Add(new HttpCookie("cart"));`。所以我不认为我正在创建一个新的cookie。

事实上，我尝试添加相同的项目，我正确地看到该项目的金额增加了，而不是列出了两次。

我认为我的问题在于写入现有的 cookie？

添加另一个项目后的预期结果：

*查看购物篮页面中的两项。*

实际结果：

*仅查看我在购物篮页面中添加的最新项目。*

有什么明显的错误吗？这是我第一次涉足饼干。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T04:58:06.140

尝试每次创建一个**新 cookie并添加****所有**应该存在的值（将现有值读入新 cookie，然后添加任何新值）。

从 MSDN 文档， http: [//msdn.microsoft.com/en-us/library/ms178194.aspx](http://msdn.microsoft.com/en-us/library/ms178194.aspx)

> 您不能直接修改 cookie。相反，更改 cookie 包括创建具有新值的新 cookie，然后将 cookie 发送到浏览器以覆盖客户端上的旧版本。

您还希望 cookie 保留在用户的硬盘上吗？如果是这样，您必须在 cookie 上设置过期日期。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T15:14:11.173

我设法通过使用以下代码解决了这个问题：

似乎向键添加单个值会导致其余值消失。我所做的是创建一个辅助方法来接收现有的 cookie，以及即将添加的 productId 和数量。

下面是我如何调用它。

```
[Authorize]
public ActionResult AddToCart(int productId, int quantity)
{
    //If the cart cookie doesn't exist, create it.
    if (Request.Cookies["cart"] == null)
    {
        Response.Cookies.Add(new HttpCookie("cart"));
    }

    //Helper method here.
    var values = GenerateNameValueCollection(Request.Cookies["cart"], productId, quantity);
    Response.Cookies["cart"].Values.Add(values);

    return RedirectToAction("Index");
} 
```

这是辅助方法：

```
private NameValueCollection GenerateNameValueCollection(HttpCookie cookie, int productId, int quantity)
{
    var collection = new NameValueCollection();
    foreach (var value in cookie.Values)
    {
        //If the current element isn't the first empty element.
        if (value != null)
        {
            collection.Add(value.ToString(), cookie.Values[value.ToString()]);
        }
    }

    //Does this product exist in the cookie?
    if (cookie.Values[productId.ToString()] != null)
    {
        collection.Remove(productId.ToString());
        //Get current count of item in cart.
        int tmpAmount = Convert.ToInt32(cookie.Values[productId.ToString()]);
        int total = tmpAmount + quantity;
        collection.Add(productId.ToString(), total.ToString());
    }
    else //It doesn't exist, so add it.
    {
        collection.Add(productId.ToString(), quantity.ToString());
    }

    if (!collection.HasKeys())
        collection.Add(productId.ToString(), quantity.ToString());

    return collection;
} 
```

# mysql - 将表类型更改为 InnoDB

> ID：10039187
> 
> 赞同：6
> 
> 时间：2012-04-06T04:40:26.637
> 
> 标签：mysql, innodb

我有一个 myisam 专用的 32 GB RAM mysql 服务器，它在默认配置下运行。我想将引擎类型更改为一张表的 InnoDB 以避免表锁定。它有 5000 万条记录，磁盘大小约为 15 GB。我正在使用 mysql 版本 5.5 我想我需要添加以下选项并重新启动 mysql。

```
innodb_buffer_pool_size=1G
innodb_log_file_size=100M
innodb_file_per_table=1 
```

更改发动机类型时还需要什么？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-04-06T04:50:16.023

您实际上将运行一个命令来转换每个表。

首先对表格进行排序会更快：

```
ALTER TABLE tablename ORDER BY primary_key_column; 
```

然后，运行 alter 命令：

```
ALTER TABLE tablename ENGINE = INNODB; 
```

如果表非常大，可能需要一段时间，并且会占用大量 CPU....

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-04-06T06:23:12.593

首先检查你的数据库是否支持 InnoDB 引擎（我敢打赌它是支持的；））：

```
SHOW ENGINES\G 
```

如果是这样，则已经有默认的[innodb 相关参数](http://dev.mysql.com/doc/refman/5.5/en/innodb-parameters.html)，请使用以下命令检查它们：

```
SHOW VARIABLES LIKE '%innodb%' 
```

并尝试了解它们并根据您的特定需求进行更改。即使您使用默认参数，您现在也可以使用 InnoDB 表。

如果您只想创建 InnoDB 表，您可以更改您的默认存储引擎，无论是在当前会话中使用：`SET storage_engine=INNODB;`还是在您的配置中使用**default-storage-engine**选项。

顺便说一句，将表转换为 InnoDB 的最快方法不是上述方法。只需插入数据，就可以执行以下操作将表转换为 InnoDB：

```
CREATE TABE new AS SELECT * FROM old WHERE 1<>1;
ALTER TABLE new ENGINE = INNODB;
INSERT INTO new SELECT * FROM old; 
```

当然，您必须手动添加所需的索引，但与`ALTER TABLE ...`稍微大一点的表相比，您节省的时间（和痛苦）通常是值得的。

# javascript - 为什么 Facebook 发送按钮不显示？

> ID：10039200
> 
> 赞同：1
> 
> 时间：2012-04-06T04:42:19.230
> 
> 标签：javascript, facebook, button

对不起，我已经重新发布了这个问题。无法删除这个。

[当我单击 Facebook 发送按钮时，不显示 div](https://stackoverflow.com/questions/10045642/when-i-click-the-facebook-send-button-the-div-is-not-displayed)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:03:18.387

我不能确定这是否与特定的错误有关，但现在发送按钮肯定存在一个重大错误：[https ://developers.facebook.com/bugs/263204287096105?browse=search_4f7e78b951f6d6f43844112](https://developers.facebook.com/bugs/263204287096105?browse=search_4f7e78b951f6d6f43844112)

# jquery - JQUERY +使用空 src 标签查找所有内容

> ID：10039202
> 
> 赞同：2
> 
> 时间：2012-04-06T04:42:28.030
> 
> 标签：jquery

我有很多用户回答的问题。未回答的问题将有一个空白来源，如下所示：

```
 <img src="" id="joinEmailResponse" class="joinResponse" alt="..."> 
```

我需要用 'images/redcross.jpg' 更新所有空的 src 标签并使它们可见 .show();

我正在玩弄以下代码，但我做的并不多：

```
 var notAnswered = $('img.joinResponse').filter('[src=""]'); 
```

不确定我是否走在正确的轨道上，或者我将如何更新 src 和可见性。然后我会遍历结果还是可以更改 2 个修改。

任何建议将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-06T04:44:47.373

就在我的脑海中，试试这个：

```
$(".joinResponse").each(function() {
    if($(this).attr("src") === "") {
        $(this).attr("src", "images/redcross.jpg");
    }
}); 
```

如果我错了，有人纠正我。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-06T04:48:27.467

试试这个

```
$('img.joinResponse[src=""]').attr("src", "images/redcross.jpg").show(); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-06T04:50:14.300

```
$("img[src='']").attr('src','images/redcross.jpg').show(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-05-31T17:38:07.770

密切相关，这就是你如何找到根本没有 src 的 img 节点

```
$("img:not([src])") 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-06T05:09:32.440

似乎没有一个答案是正确的。

Elliot Bonneville 没有考虑 img 标签。它选择所有标签。

dku.rajkumar 和 Raminson 不考虑上课。他们正在选择所有带有空 src 的图像。

这是正确的版本。

```
$('img[src=""].joinResponse').attr("src", "images/redcross.jpg").show(); 
```

# android - 我在哪里可以找到android虚拟设备或android模拟器的详细规格？

> ID：10039208
> 
> 赞同：0
> 
> 时间：2012-04-06T04:43:37.947
> 
> 标签：android, operating-system

我正在尝试移植一个简单​​的操作系统来教授 android 虚拟设备。最终目标是启动操作系统并使一些基本硬件（包括字符输出和触摸屏）工作。为此，我需要一些有关 AVD 的“硬件”的详细信息，例如引导加载程序将在 RAM 中加载的位置以及如何使用字符输出。我在互联网上搜索了一段时间，发现很少有用的信息。你能告诉我在哪里可以找到所需的信息或我应该查看哪个网站吗？谢谢：D

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T05:23:19.060

这是可下载的详细链接

[android内核](http://source.android.com/source/building-kernels.html) 和[源代码](http://source.android.com/source/downloading.html)

尝试浏览源代码，您可以找到整个操作从哪里开始和工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T05:37:15.740

```
emulator - android = qemu 
```

如果您不使用 android，则不需要 AVD。查看[qemu 主页](http://wiki.qemu.org/Main_Page)以获取更多信息。

# c++ - C++ 重构为所有类和函数添加命名空间？

> ID：10039210
> 
> 赞同：2
> 
> 时间：2012-04-06T04:43:50.110
> 
> 标签：c++, ide, refactoring

我有一个包含数百个文件的 C++ 项目，我需要将它的所有类和函数包含在一个额外的命名空间中。有没有可以自动执行此操作的工具？

（之前有一个[类似的问题](https://stackoverflow.com/questions/3883380/namespace-refactoring-tool-for-eclipse)，但它是关于 Eclipse 的，而且已经有一年的历史了，所以现在也许还有一些额外的答案？）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T05:07:38.003

为此，您可以使用 shell 脚本；在这里看一个[例子](http://blog.xenim.de/moving-c-plus-plus-code-in-namespace/)

这里有一些关于这个问题的[常见想法](http://www.gotw.ca/publications/migrating_to_namespaces.htm)

# java - 链表赋值的随机数生成方法

> ID：10039216
> 
> 赞同：0
> 
> 时间：2012-04-06T04:44:27.533
> 
> 标签：java, arrays, random, generator

所以，我必须制作一个随机数生成器来获取 0 到 400 之间的数字。我将它们放入一个数组中，然后稍后对它们进行排序。我只是不知道该怎么做。我得到了一些类似的东西；

```
public int nextInt(400) //gives me errors
{
    random.setSeed(12345L);
    for (int i = 0; i < arr.size; i++)
    {
         val = random.nextInt(400);
         a[i] = val;
    }
} 
```

我已经调用了随机类，因为方向表明了这一点。我只是不知道为什么这不起作用。它给了我错误，尤其是第一部分；需要类、接口或枚举。有人可以引导我朝着正确的方向前进吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T04:53:14.587

Java（所有编程语言）中的函数在其定义中都有“变量”。

你有：

```
public int nextInt(400) 
```

在这里，您希望 400 成为传递给函数的值。

把它想象成数学。我相信你已经处理过类似的事情`f(x) = 2 * x`。这里，x 是变量，你用 x 的值“评估”f(x)。同样，在编程中，我们会有类似的东西：

```
public int nextInt(int x) 
```

如您所见，我们的函数将 x 定义为 int 类型。这在像 Java 这样的语言中是必需的，因为您告诉编译器此函数将只接受 x 的整数。

现在你已经完成了，你可以在你的函数体中使用 x 作为一个变量。

请注意，无论何时使用变量，都必须首先对其进行定义。一行如：

```
int variable; 
```

将变量定义为 int。

您的程序缺少`random`, `val`,`arr`和的这些`a`。请注意，`arr`and`a`是数组（不知何故，我觉得它们不应该是两个单独的变量）。

在尝试这个问题之前，你真的应该复习一下变量定义、数组和函数。你最好的资源是你的教科书，因为它会以一种有条理、循序渐进的方式解释一切。您还可以尝试在线提供的许多教程。如果您有具体问题，可以随时返回 StackOverflow，我相信您会在这里找到帮助。

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T04:51:23.650

您需要在类定义中定义此函数

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T05:03:22.783

即使您已指定：

```
public int nextInt(400) 
```

在这一行函数中返回**int**并且在你的整个身体中你没有任何返回语句。

是的，因为 Kshitij Mehata 建议不要直接使用 400 作为那里的值使用变量。

这应该是你的功能：

```
public int[] nextInt(int x) //gives me errors
    {
        random.setSeed(12345L);
        int[] a=new int[arr.size];
        for (int i = 0; i < arr.size; i++)
        {
             val = random.nextInt(400);
             a[i] = val;
        }
        return a;
    } 
```

**即使这个arr**来自哪里， **arr**也有一些问题？

# asp.net - 在 SAFARI 中使用带有表单身份验证的 HTML5 音频

> ID：10039218
> 
> 赞同：0
> 
> 时间：2012-04-06T04:44:31.140
> 
> 标签：asp.net, asp.net-mvc-3, html

我有一个带有表单身份验证的 ASP.NET MVC3 应用程序，它已经运行了一段时间。我正在尝试 html5 音频标签，其中音频文件的 src 属性（无论是 mp3 还是 ogg）指向一个 MVC3 GET 操作，该操作接受某些音频内容的 guid id。action 方法返回一个 FileStreamResult 并且非常高兴地允许在 MSIE9 (mp3)、FireFox 9+ (oga) 和 Chrome 18 (oga) 中播放音频。在 Safari 5.1.4 中，它应该支持的 mp3 不会播放。

进一步调查表明，在 safari 的情况下对 action 方法的请求是未经身份验证的，因此在检查请求标头时，我可以看到 .aspxauth cookie 不在请求中。在音频标签尝试其请求之前和之后选择的其他操作链接都发送 .aspxauth cookie。

有没有办法强制 safari 发送身份验证 cookie？我应该指出，禁用此操作的授权不是一种选择。

从那以后，我在最新的 Safari 5.1.5 中尝试过这个，但没有成功。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-09-11T14:59:17.243

我自己遇到了这个问题，并提出了以下解决该问题的方法。它使用了一个 XMLHttpRequest，它利用 cookie 来获取文件的 Base64 编码版本。

```
var mediaElem = document.getElementById("media");

/*
safari doesn't pass cookies with audio tag. User agent sniffing is not a good way 
to handle detection, but I am not sure what feature to sniff in this case, since 
currentSrc appears to be set as long as the response status is 200 OK
*/
if(navigator.userAgent.toLowerCase().indexOf("chrome") < 0 &&
    navigator.userAgent.toLowerCase().indexOf("safari") >= 0)
{
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.open("GET", "mediaFile.base64");
    xmlhttp.onreadystatechange = function()
    {
        //DONE readystate
        if(xmlhttp.readystate = 4)
        {
            mediaElem.src = "data:audio/mpeg;base64," + xmlhttp.responseText;   
        }
    }
    xmlhttp.send();
} 
```

那么你所需要的只是你的 html 中某处的音频标签。

```
<audio id="media">
    <source src="mediaFile.mp3" />
    <source src="mediaFile.ogg" />
    Fallback statement...
</audio> 
```

# c# - 通过 C# 在字符串或文件上调用 Astyle

> ID：10039222
> 
> 赞同：0
> 
> 时间：2012-04-06T04:45:03.123
> 
> 标签：c#, c++, .net, astyle

我正在通过 C# 生成 C++ 代码，出于某种原因，在应用 astyle 后我生成的代码编译。那么有没有一种方法可以从我的 C# windows 应用程序中调用 astyle ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T09:41:39.760

Astyle 是一个命令行工具，因此您可以使用 Process 类在外部调用它并要求它格式化 C++ 源文件。

我过去做过类似的项目，例如

[http://alex.codeplex.com](http://alex.codeplex.com)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-17T06:36:30.707

几天前我终于想通了，所以我想我会通过 c# 将我的函数分享给 astyle

' private void astyleDirectory(string target_path) { System.Diagnostics.Process pProcess = new System.Diagnostics.Process(); //此处输入获取Astyle.exe的路径 pProcess.StartInfo.FileName=System.IO.Path.GetDirectoryName(System.Reflection.Assembly.GetExecutingAssembly().Location) + @"\Astyle.exe";

```
 pProcess.StartInfo.Arguments = "--options=none --style=ansi --recursive  *.h *.cpp";
       pProcess.StartInfo.UseShellExecute = false;
       pProcess.StartInfo.RedirectStandardOutput = true;
       pProcess.StartInfo.RedirectStandardError = true;
       pProcess.StartInfo.WorkingDirectory = System.IO.Path.GetDirectoryName(target_path);
       try
       {
           pProcess.Start();
           string strOutput = pProcess.StandardOutput.ReadToEnd();
           string strError = pProcess.StandardError.ReadToEnd();
           pProcess.WaitForExit();

       }
       catch { }
   } 
```

'

# salesforce - 电子邮件类的 Apex 测试用例

> ID：10039223
> 
> 赞同：2
> 
> 时间：2012-04-06T04:45:27.757
> 
> 标签：salesforce, apex-code, visualforce

我有以下课程发送电子邮件

```
global class SendConfirmation {

 public SendConfirmation(ApexPages.StandardController controller)
 {
 }

 Webservice static void SendEmail(string contactId,string oppId)
 {
    Messaging.SingleEmailMessage mail = new Messaging.SingleEmailMessage();
    mail.setTargetObjectId(contactId);
    mail.setWhatId(oppId);
    mail.setTemplateId('00Xd0000000PFaY');
    Messaging.sendEmail(new Messaging.SingleEmailMessage[] { mail });
 }
} 
```

ablove 课很好

但无法获得以下测试用例来完成 eclipse 中的代码覆盖

```
@isTest
private class SendConfirmationTestCase {
private static testMethod void myUnitTest() {
    Contact con =  new Contact();
    con.FirstName = 'Anil';
    con.LastName = 'Dutt';
    con.Email = 'anil@swiftsetup.com';
    insert con;

    Opportunity oppNew =  new Opportunity();
    oppNew.Name = 'Test Opp';
    oppNew.StageName = 'Ticketing';
    oppNew.CloseDate = System.now().date();
    insert oppNew;

   //ApexPages.StandardController sc = new ApexPages.StandardController(con);
   //SendConfirmation sc1=new SendConfirmation (sc);
   //sc1.SendEmail();
}
} 
```

如果我从测试用例中注释掉最后 3 行

出现以下错误

SendConfirmationTestCase：无效类型：SendConfirmation

在此先感谢您的帮助..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-06T13:35:43.873

试试这个，它对我来说是 100% 的测试。

```
global class SendConfirmation 
{
    public SendConfirmation(ApexPages.StandardController controller)
    {
    }

    Webservice static void SendEmail(string contactId,string oppId)
    {
        Messaging.SingleEmailMessage mail 
            = new Messaging.SingleEmailMessage();
        mail.setTargetObjectId(contactId);
        mail.setWhatId(oppId);
        // assuming this Template ID exists in your org
        mail.setTemplateId('00Xd0000000PFaY'); 
        Messaging.sendEmail(new Messaging.SingleEmailMessage[] { mail });
    }

    private static testMethod void myUnitTest() 
    {
        Contact con =  new Contact();
        con.FirstName = 'Anil';
        con.LastName = 'Dutt';
        con.Email = 'anil@swiftsetup.com';
        insert con;

        Opportunity oppNew =  new Opportunity();
        oppNew.Name = 'Test Opp';
        oppNew.StageName = 'Ticketing';
        oppNew.CloseDate = System.now().date();
        insert oppNew;

        ApexPages.StandardController sc 
            = new ApexPages.StandardController(con);
        SendConfirmation sc1=new SendConfirmation (sc); // test constructor

        // Not: sc1.SendEmail(); 
        // Because method is a webservice in a global class
        SendConfirmation.SendEmail(con.Id,oppNew.Id);
    }
} 
```

# ios - iOS 复制和粘贴

> ID：10039224
> 
> 赞同：2
> 
> 时间：2012-04-06T04:45:36.510
> 
> 标签：ios, copy-paste

我正在创建一个应用程序来保存我复制的项目，只要我在我的 iOS 设备上复制一些东西。

无论如何我可以创建一个事件，以便每当我从 iOS 设备上的任何应用程序复制某些内容时，它都会将其保存到我的应用程序中？

我希望它在我复制文本时触发，以便将其粘贴到我的应用程序文本框中。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-06T04:51:32.443

```
- (void)copy {

    UIPasteboard *pasteboard = [UIPasteboard generalPasteboard];
    pasteboard.string = @"String";
}

- (void)paste {

        UIPasteboard *pasteboard = [UIPasteboard generalPasteboard];  
        NSString *string = pasteboard.string; 
        NSLog(@"%@",string");
} 
```

请参阅此链接[UIPasteBoard](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIPasteboard_Class/Reference.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-05T14:57:10.103

看看 UIResponderStandardEditActions 非正式协议：

[https://developer.apple.com/library/ios/documentation/uikit/reference/UIResponderStandardEditActions_Protocol/UIResponderStandardEditActions.html](https://developer.apple.com/library/ios/documentation/uikit/reference/UIResponderStandardEditActions_Protocol/UIResponderStandardEditActions.html)

关键是确保你的视图控制器可以成为第一响应者，然后实现以下方法：

```
- (void)copy:(id)sender;
- (void)paste:(id)sender; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2016-11-18T06:50:08.753

```
 UIPasteboard *pb = [UIPasteboard generalPasteboard];
    NSDictionary *CellData = [NSDictionary dictionaryWithDictionary:[ArrayName objectAtIndex:SelectedIndexPath.row]];
    NSString* strText = [(NSDictionary*)[(NSString*)[CellData objectForKey:@"Key"] JSONValue] objectForKey:@"english"];
    [pb setString:strText]; 
```

# jakarta-ee - Java EE - 调用远程门面时出现 InvocationTargetException？

> ID：10039227
> 
> 赞同：0
> 
> 时间：2012-04-06T04:46:11.460
> 
> 标签：jakarta-ee, netbeans, methods, remote-access, facade

我正在尝试制作一个企业应用程序，但面临一个非常奇怪的错误。

每当我尝试从除 Main 之外的任何类调用企业应用程序的外观时，我都会收到 InvocationTargetException。

这是我的代码： -

```
public class TellerMachine {
    @EJB
    private static BillerFacadeRemote billerFacade;

    @EJB
    private static AccountFacadeRemote accountFacade;
    @EJB
    private static CustomerFacadeRemote customerFacade;
    @EJB
    private static BanktellerFacadeRemote banktellerFacade;

    /**
     * @param args the command line arguments
     */
    public static void main(String[] args) {
        TellerMachine tm = new TellerMachine();
        Scanner s = new Scanner(System.in);
        String sssa = billerFacade.hiHAHAHAHA();
        System.out.println(sssa);
        tm.printABC();
        TestClass t = new TestClass();
        t.abc();
    }

    public void printABC()
    {
        String sssa = billerFacade.hiHAHAHAHA();
        System.out.println(sssa);  
    }
} 
```

测试等级：-

```
public class TestClass 
{
@EJB
private static BillerFacadeRemote billerFacade;
public static void main(String[] args)
{

}
public void abc()
{
    try{
    String a = billerFacade.hiHAHAHAHA();
    System.out.println(a);}
    catch(Exception e)
    {
        System.out.println(e.getCause().toString());
    }
}

} 
```

BillerFacade 中的方法：-

```
@Override
public String hiHAHAHAHA() {
    return "abc";
} 
```

堆栈跟踪： -

```
Warning: /Users/varunbatra/Desktop/RealApp/SwinBankTellerMachine/dist/gfdeploy/SwinBankTellerMachine does not exist.
abc
abc
java.lang.reflect.InvocationTargetException
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.glassfish.appclient.client.acc.AppClientContainer.launch(AppClientContainer.java:438)
    at org.glassfish.appclient.client.AppClientFacade.main(AppClientFacade.java:165)
Caused by: java.lang.NullPointerException
    at swinbanktellermachine.TestClass.abc(TestClass.java:29)
    at swinbanktellermachine.TellerMachine.main(TellerMachine.java:52)
    ... 6 more
Java Result: 1 
```

为什么会这样？有时即使我从我的 Main 类调用远程方法，它仍然给我这个异常。Netbeans 怎么了？有时它起作用有时它不起作用。请帮助并清除我的困惑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-07T13:22:20.953

根据[这个 stackoverflow 讨论](https://stackoverflow.com/questions/3195365/injecting-a-static-ejb-nonsense)和引用的 EJB 规范，`static`注入只允许在应用程序主类中。因此，注入适用于您的类，但不适用于方法内的`TellerMachine`调用实例。`TestClass``TellerMachine` `main`

# c# - Visual Studio 和 Blend 的异常行为

> ID：10039230
> 
> 赞同：1
> 
> 时间：2012-04-06T04:46:45.927
> 
> 标签：c#, .net, visual-studio-2010, expression-blend

我遇到了一个奇怪的问题，我正在使用 Expression Blend 4 和 Visual Studio 10 开发一个软件 (WPF)，直到昨天我可以在 Xaml 中修改我的代码，但今天在打开项目继续工作后，我尝试添加一些新的 UIElement 作为网格、边框、文本框等我可以毫无问题地保存，但是当我启动软件以验证之前添加的那些 UIElemen 没有出现的结果时，我检查了是否可见性是可见的并且不透明度设置为值 = 0 ，所以我试图重复在同一项目的其他窗口中添加其他 UIElemtn 但这种奇怪的行为继续困扰着我......

你知道它可能是什么或有一些建议来帮助和解决这一步吗？

非常感谢您的关注，

干杯

# c# - 使用 DotNetZip 更新 JAR 文件会导致存档损坏？

> ID：10039234
> 
> 赞同：2
> 
> 时间：2012-04-06T04:47:09.387
> 
> 标签：c#, jar, format, dotnetzip

我正在尝试更新（添加/修改文件）现有 JAR 文件，并且此代码（使用 DotNetZip 库）导致存档“损坏”，我无法使用 WinRAR 作为 ZIP 或 JAR 打开它：

```
using (FileStream fs = new FileStream("/path/to/jar", FileMode.Open))
{
    ZipFile zip = ZipFile.Read(fs);
    fs.Seek(0, SeekOrigin.Begin);
    zip.Save(fs);
} 
```

谁能告诉我 ZIP 和 JAR 格式之间的区别究竟是什么？我的印象是它只是 ZIP 格式，清单作为文件中的第一个条目，显然情况并非如此。我可以使用现有的 (C#) 库来执行此操作吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T04:59:52.547

[JAR](http://en.wikipedia.org/wiki/JAR_%28file_format%29)与[ " standard"] ZIP 存档*二进制兼容。*仅规定了可选的清单文件，但这不会导致“损坏的存档”。

我相信其中一种（或两种）正在发生：

1.  它不会*截断*文件，因此最后会留下“垃圾”。
2.  实际的“读取”是惰性的，而后者的“保存”可能会在正确读取数据之前弄乱数据。

（将其压缩到一个*新*文件将允许对此进行验证。）

# ios - iOS：MDM 签入示例

> ID：10039236
> 
> 赞同：5
> 
> 时间：2012-04-06T04:47:14.913
> 
> 标签：ios, mdm, payload

我处于移动设备管理实施的早期阶段。我正在获取 iOS Enterprise 开发者帐户。我已经开始探索 MDM Server 实现。

我需要一些从 iOS 设备接收的 iOS 样本签入数据。这些示例需要了解在服务器端编写 API，因为这些 API 对于黑莓、Android 和其他移动平台应该是通用的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T20:14:28.700

拥有 Apple Developer 帐户后，登录并转到 iOS Provisioning Portal->Certificates->Other 并查找文档“移动设备管理协议参考”的链接。本文档介绍了设备签入的结构。

更新（2012 年 9 月 30 日）：链接文本似乎已从“移动设备管理协议参考”更改为“配置文件参考”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-10T19:23:33.663

您还可以逐步获取[MDM_Protocol](https://media.blackhat.com/bh-us-11/Schuetz/BH_US_11_Schuetz_InsideAppleMDM_WP.pdf)文档中的所有示例 plist。例如，在设备签入过程中，当 iOS 设备通过 APNS 收到来自 MDM 服务器的推送通知时，设备可以响应 MDM 服务器，如下示例 plist 格式。

```
<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"> 
<plist version="1.0"> 
<dict>
    <key>Status</key> 
    <string>Idle</string> 
    <key>UDID</key> 
    <string> [ redacted ] </string>
</dict> 
</plist> 
```

# ruby-on-rails - 为什么在使用 Rspec 和 Capybara 编写测试用例时无法获取 current_user

> ID：10039253
> 
> 赞同：2
> 
> 时间：2012-04-06T04:49:21.787
> 
> 标签：ruby-on-rails, rspec, devise, integration-testing, capybara

我必须为我的一个功能列表页面编写集成测试用例，并且该功能索引方法具有如下代码

```
def index
  @food_categories = current_user.food_categories
end 
```

现在，当我尝试为此编写测试用例时，它会引发错误

```
'undefined method features for nil class' because it can not get the current user 
```

现在我要做的是在下面我在每个语句之前编写登录过程，然后为功能列表页面编写测试用例

你能告诉我我怎样才能得到`current_user`吗？

仅供参考，我使用了 devise gem 并使用 Rspec 处理集成测试用例

这是[我的规范文件](https://gist.github.com/2319172) 这是我的[food_categories_spec.rb](https://gist.github.com/2319177)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T06:34:16.743

**更新**：您混淆了功能测试和集成测试。集成测试不使用`get`，因为没有要测试的控制器操作，而是您必须使用`visit`（一些 url）。然后您必须检查页面的内容，而不是响应代码（后者用于功能测试）。它可能看起来像：

```
visit '/food_categories'
page.should have_content 'Eggs'
page.should have_content 'Fats and oils' 
```

如果您需要*功能*测试，这里有一个例子：

```
# spec/controllers/your_controller_spec.rb
describe YourController do

  before do
    @user = FactoryGirl.create(:user)
    sign_in @user
  end

  describe "GET index" do

    before do
      get :index
    end

    it "is successful" do
      response.should be_success
    end

    it "assings user features" do
      assigns(:features).should == @user.features
    end
  end
end

# spec/spec_helper.rb
RSpec.configure do |config|
  #...
  config.include Devise::TestHelpers, :type => :controller
end 
```

# android - “strings.xml”字符串数组是否总是以相同的顺序解析/反序列化？

> ID：10039258
> 
> 赞同：1
> 
> 时间：2012-04-06T04:50:32.087
> 
> 标签：android, xml, deserialization, arrays, android-resources

我可以指望“strings.xml”资源文件中的字符串数组***每次都***以相同的顺序进行解析/反序列化吗？

如果有人可以引用任何清楚说明此保证的文档，我将不胜感激。或者，至少，提供有关该主题的大量经验。

另外，这是最佳实践还是我错过了更简单的解决方案？

**注意：**这将是一个小列表，所以我不打算实现更复杂的数据库或自定义 XML 解决方案，除非我必须这样做。

```
<!--KEYS (ALWAYS CORRESPONDS TO LIST BELOW ??)-->
<string-array name="keys">
    <item>1</item>
    <item>2</item>
    <item>3</item>
</string-array>

<!--VALUES (ALWAYS CORRESPONDS TO LIST ABOVE ??)-->
<string-array name="values">
    <item>one</item>
    <item>two</item>
    <item>three</item>
</string-array> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-06T05:26:08.533

是的，据我所知，您可以假设项目的顺序每次都相同，这意味着您可以使用单独的 xml 声明的数组安全地定义键/值对。查看 API 演示（例如[`arrays.xml`](http://developer.android.com/resources/samples/ApiDemos/res/values/arrays.html)文件），您会发现 Google 使用相同的方法来指定静态键/值对。更具体地说，您将能够从`entries_list_preference`和中推断出这一点`entryvalues_list_preference`。实际上，如果您考虑一下：如果不能保证它们的顺序，那么提供指向静态资源的属性`entries`和属性几乎没有意义。`entryValues``ListPreference`

附录：不支持 xml 中的多维数组。但是，您可以编写自己的 xml 解析器来处理这些情况，这实际上并不像听起来那么难。与简单地定义两个一维数组相比，它可能会花费您更多的时间。

# iphone - 为什么iphone上的图片看起来很模糊（没有缩放）

> ID：10039259
> 
> 赞同：1
> 
> 时间：2012-04-06T04:50:42.923
> 
> 标签：iphone, ios, mobile-safari

我今天一直在对图像进行一些测试，发现我无法制作模糊的 PNG 图像，它在我的桌面上看起来很好，在 iphone 上看起来不模糊，而不做一些奇怪的事情。

直到我将图像的分辨率提高了两倍，然后在 iphone 中调整了它们的大小，它们才在屏幕上显得清晰。这是正常的做法吗？

如果您有一个不模糊的背景图像，该怎么办？我不知道如何做一些事情，比如上传背景图片并告诉它以一半大小运行......

感谢您的任何指点！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-20T10:03:59.717

我找到了答案。

事实证明，iphone上的像素不一样，实际上分辨率更高。

为了使图像不模糊，我基本上需要上传 2-3 倍于常规尺寸的图像，然后在 CSS 中缩小它们的尺寸。

例如，如果我想要一个 50px 的图像，我上传了一个 100px 的图像并在 css 中设置了 50px 的宽度。

看起来新 iPad 具有更高的分辨率，这意味着您甚至可能想要上传更高分辨率的图像来满足这些要求。

我觉得有点蹩脚，但看起来确实不错。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T04:57:53.600

我可能会误解你，但如果你想在视网膜手机上呈现清晰的图像，你可以将它放在 UIImageView 中一半的大小，并将 contentMode 设置为缩放以填充。

# android - 单选按钮不起作用并且应用程序强制关闭

> ID：10039262
> 
> 赞同：0
> 
> 时间：2012-04-06T04:51:01.067
> 
> 标签：android, json, radio-button, android-asynctask, switch-statement

我正在申请测验。用于问题描述的单选按钮和 textView 的内容文本设置正确...但是当我单击任何单选按钮时...应用程序被强制关闭..请检查代码..并告诉我是什么要做的修改..

这是我的jsp页面..

```
 <%@page contentType="text/html; charset=UTF-8"%>
<%@page import="org.json.simple.JSONObject"%>
<%@page import="java.util.*,java.sql.*"%>

<%!
Connection con;
PreparedStatement ps;
ResultSet rs;
String x;

%>

<%
Class.forName("oracle.jdbc.driver.OracleDriver");
con=DriverManager.getConnection("jdbc:oracle:thin:@localhost:1521:orcl","pro","pro");
ps=con.prepareStatement("select * from c_question where id=1");
rs=ps.executeQuery();

JSONObject obj=new JSONObject();
obj.put("id",rs.getString(1));
obj.put("desc",rs.getString(2));
obj.put("a",rs.getString(3));
obj.put("b",rs.getString(4));
obj.put("c",rs.getString(5));
obj.put("d",rs.getString(6));
obj.put("ans",rs.getString(7));
out.print(obj);
out.flush();
%> 
```

这是我的活动... import java.io.IOException;

```
import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.util.EntityUtils;

import org.json.JSONException;
import org.json.JSONObject;

import android.app.Activity;
import android.os.AsyncTask;
import android.os.Bundle;
import android.widget.RadioButton;
import android.widget.RadioGroup;
import android.widget.RadioGroup.OnCheckedChangeListener;
import android.widget.TextView;
import android.widget.Toast;

public class JsonDemo extends Activity 
{
JSONObject json;
HttpClient client;
TextView q_desc,c_or_w,id_check;
RadioButton rb_a,rb_b,rb_c,rb_d;
RadioGroup rg;
String ans;
int id;

final static String URL="http://10.0.2.2:7001/project/json.jsp";

@Override
protected void onCreate(Bundle savedInstanceState) {

    // TODO Auto-generated method stub

    super.onCreate(savedInstanceState);

    setContentView(R.layout.result_json);

    q_desc=(TextView)findViewById(R.id.q_desc);
    c_or_w=(TextView)findViewById(R.id.corr_incorrect);
    id_check=(TextView)findViewById(R.id.id_check);
    rg=(RadioGroup)findViewById(R.id.rg_option);
    rb_a=(RadioButton)findViewById(R.id.opt_a);
    rb_b=(RadioButton)findViewById(R.id.opt_b);
    rb_c=(RadioButton)findViewById(R.id.opt_c);
    rb_d=(RadioButton)findViewById(R.id.opt_d);

    client=new DefaultHttpClient();

    new Read().execute("desc");

}
   public  JSONObject getData()throws   ClientProtocolException,IOException,JSONException
   {

    StringBuilder url=new StringBuilder(URL);
    HttpGet get=new HttpGet(url.toString());
    HttpResponse r=client.execute(get);

    int status=r.getStatusLine().getStatusCode();

    if(status == 200)
    {
        HttpEntity e=r.getEntity();
        String data=EntityUtils.toString(e);
        JSONObject last=new JSONObject(data);
        return last;

    }
    else
    {
        Toast.makeText(JsonDemo.this, "error", Toast.LENGTH_SHORT);
        return null;
    }

}

 public class Read extends AsyncTask<String,Integer,JSONObject> implements OnCheckedChangeListener
{

@Override
protected void onPostExecute(JSONObject result) {
    // TODO Auto-generated method stub
    try {
        String desc=json.getString("desc");
        String option_a=json.getString("a");
        String option_b=json.getString("b");
        String option_c=json.getString("c");
        String option_d=json.getString("d");
        ans=json.getString("ans");
        q_desc.setText(desc);
        rb_a.setText(option_a);
        rb_b.setText(option_b);
        rb_c.setText(option_c);
        rb_d.setText(option_d);
        rg.setOnCheckedChangeListener(this);

    } catch (JSONException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
}

@Override
protected JSONObject doInBackground(String... params) {
    try {
        json=getData();
        return json;
    } catch (ClientProtocolException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (JSONException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    return null;
}

public void onCheckedChanged(RadioGroup rg, int checkedId) {

    switch(checkedId)
    {
    case R.id.opt_a:
    {
        if(ans.equalsIgnoreCase("a"))
        {

            id=id+1;
            c_or_w.setText("Correct");
            id_check.setText(id);           
        }
        else
        {
            id=id+1;
            c_or_w.setText("InCorrect");
            id_check.setText(id);

        }
        break;

    }
    case R.id.opt_b:
    {
        if(ans.equalsIgnoreCase("b"))
        {

            id=id+1;
            c_or_w.setText("Correct");
            id_check.setText(id);           
        }
        else
        {
            id=id+1;
            c_or_w.setText("InCorrect");
            id_check.setText(id);

        }
        break;
    }
    case R.id.opt_c:
    {
        if(ans.equalsIgnoreCase("c"))
        {

            id=id+1;
            c_or_w.setText("Correct");
            id_check.setText(id);           
        }
        else
        {
            id=id+1;
            c_or_w.setText("InCorrect");
            id_check.setText(id);

        }
        break;
    }
    case R.id.opt_d:
    {
        if(ans.equalsIgnoreCase("d"))
        {

            id=id+1;
            c_or_w.setText("Correct");
            id_check.setText(id);           
        }
        else
        {
            id=id+1;
            c_or_w.setText("InCorrect");
            id_check.setText(id);

        }
        break;
    }

    }

}

}

} 
```

原木猫...

```
 04-06 09:48:10.849: W/ResourceType(354): No package identifier when getting value for resource number 0x00000001
04-06 09:48:10.859: D/AndroidRuntime(354): Shutting down VM
04-06 09:48:10.859: W/dalvikvm(354): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
04-06 09:48:10.889: E/AndroidRuntime(354): FATAL EXCEPTION: main
04-06 09:48:10.889: E/AndroidRuntime(354): android.content.res.Resources$NotFoundException: String resource ID #0x1
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.content.res.Resources.getText(Resources.java:201)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.widget.TextView.setText(TextView.java:2817)
04-06 09:48:10.889: E/AndroidRuntime(354):  at com.campuspro.start.JsonDemo.onCheckedChanged(JsonDemo.java:151)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.widget.RadioGroup.setCheckedId(RadioGroup.java:172)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.widget.RadioGroup.access$600(RadioGroup.java:52)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.widget.RadioGroup$CheckedStateTracker.onCheckedChanged(RadioGroup.java:342)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.widget.CompoundButton.setChecked(CompoundButton.java:127)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.widget.CompoundButton.toggle(CompoundButton.java:86)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.widget.RadioButton.toggle(RadioButton.java:69)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.widget.CompoundButton.performClick(CompoundButton.java:98)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.view.View$PerformClick.run(View.java:8816)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.os.Handler.handleCallback(Handler.java:587)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.os.Handler.dispatchMessage(Handler.java:92)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.os.Looper.loop(Looper.java:123)
04-06 09:48:10.889: E/AndroidRuntime(354):  at android.app.ActivityThread.main(ActivityThread.java:4627)
04-06 09:48:10.889: E/AndroidRuntime(354):  at java.lang.reflect.Method.invokeNative(Native Method)
04-06 09:48:10.889: E/AndroidRuntime(354):  at java.lang.reflect.Method.invoke(Method.java:521)
04-06 09:48:10.889: E/AndroidRuntime(354):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
04-06 09:48:10.889: E/AndroidRuntime(354):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
04-06 09:48:10.889: E/AndroidRuntime(354):  at dalvik.system.NativeStart.main(Native Method)
04-06 09:48:13.419: I/Process(354): Sending signal. PID: 354 SIG: 9
04-06 09:51:50.868: W/ResourceType(388): No package identifier when getting value for resource number 0x00000001
 04-06 09:51:50.868: D/AndroidRuntime(388): Shutting down VM
04-06 09:51:50.879: W/dalvikvm(388): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
04-06 09:51:50.909: E/AndroidRuntime(388): FATAL EXCEPTION: main
04-06 09:51:50.909: E/AndroidRuntime(388): android.content.res.Resources$NotFoundException: String resource ID #0x1
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.content.res.Resources.getText(Resources.java:201)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.widget.TextView.setText(TextView.java:2817)
04-06 09:51:50.909: E/AndroidRuntime(388):  at com.campuspro.start.JsonDemo$Read.onCheckedChanged(JsonDemo.java:147)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.widget.RadioGroup.setCheckedId(RadioGroup.java:172)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.widget.RadioGroup.access$600(RadioGroup.java:52)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.widget.RadioGroup$CheckedStateTracker.onCheckedChanged(RadioGroup.java:342)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.widget.CompoundButton.setChecked(CompoundButton.java:127)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.widget.CompoundButton.toggle(CompoundButton.java:86)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.widget.RadioButton.toggle(RadioButton.java:69)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.widget.CompoundButton.performClick(CompoundButton.java:98)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.view.View$PerformClick.run(View.java:8816)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.os.Handler.handleCallback(Handler.java:587)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.os.Handler.dispatchMessage(Handler.java:92)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.os.Looper.loop(Looper.java:123)
04-06 09:51:50.909: E/AndroidRuntime(388):  at android.app.ActivityThread.main(ActivityThread.java:4627)
04-06 09:51:50.909: E/AndroidRuntime(388):  at java.lang.reflect.Method.invokeNative(Native Method)
04-06 09:51:50.909: E/AndroidRuntime(388):  at java.lang.reflect.Method.invoke(Method.java:521)
04-06 09:51:50.909: E/AndroidRuntime(388):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
04-06 09:51:50.909: E/AndroidRuntime(388):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
04-06 09:51:50.909: E/AndroidRuntime(388):  at dalvik.system.NativeStart.main(Native Method)
04-06 10:08:07.398: W/ResourceType(399): No package identifier when getting value for resource number 0x00000001
04-06 10:08:07.508: D/AndroidRuntime(399): Shutting down VM
04-06 10:08:07.508: W/dalvikvm(399): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
04-06 10:08:07.618: E/AndroidRuntime(399): FATAL EXCEPTION: main
04-06 10:08:07.618: E/AndroidRuntime(399): android.content.res.Resources$NotFoundException: String resource ID #0x1
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.content.res.Resources.getText(Resources.java:201)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.widget.TextView.setText(TextView.java:2817)
04-06 10:08:07.618: E/AndroidRuntime(399):  at com.campuspro.start.JsonDemo$Read.onCheckedChanged(JsonDemo.java:147)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.widget.RadioGroup.setCheckedId(RadioGroup.java:172)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.widget.RadioGroup.access$600(RadioGroup.java:52)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.widget.RadioGroup$CheckedStateTracker.onCheckedChanged(RadioGroup.java:342)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.widget.CompoundButton.setChecked(CompoundButton.java:127)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.widget.CompoundButton.toggle(CompoundButton.java:86)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.widget.RadioButton.toggle(RadioButton.java:69)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.widget.CompoundButton.performClick(CompoundButton.java:98)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.view.View$PerformClick.run(View.java:8816)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.os.Handler.handleCallback(Handler.java:587)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.os.Handler.dispatchMessage(Handler.java:92)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.os.Looper.loop(Looper.java:123)
04-06 10:08:07.618: E/AndroidRuntime(399):  at android.app.ActivityThread.main(ActivityThread.java:4627)
04-06 10:08:07.618: E/AndroidRuntime(399):  at java.lang.reflect.Method.invokeNative(Native Method)
04-06 10:08:07.618: E/AndroidRuntime(399):  at java.lang.reflect.Method.invoke(Method.java:521)
04-06 10:08:07.618: E/AndroidRuntime(399):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
04-06 10:08:07.618: E/AndroidRuntime(399):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
04-06 10:08:07.618: E/AndroidRuntime(399):  at dalvik.system.NativeStart.main(Native Method)
04-06 10:08:12.848: I/Process(399): Sending signal. PID: 399 SIG: 9 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T04:54:57.437

您必须`setText as a String`设置为`Integer`....so 将其转换为`String`

```
 id_check.setText(""+id); 
```

**或者**

```
 id_check.setText(Integer.toString(id)); 
```

# objective-c - GCD 回到主线程

> ID：10039271
> 
> 赞同：3
> 
> 时间：2012-04-06T04:52:11.727
> 
> 标签：objective-c, ios, multithreading, nsxmlparser, grand-central-dispatch

在我的应用程序中，我使用 NSXMLParser 从几个 (6-10) 网站加载信息，然后将信息加载到视图中。

现在，我的应用程序已经设置好，它可以循环访问`viewDidLoad`我的主视图控制器中的站点，并将它们分别加载到我创建的后台线程中。它在后台线程中执行此操作，因此用户不必在加载视图之前等待所有站点加载。

```
for (NSMutableDictionary *dict in self.sitesArray) {
    SiteData *data = [[SiteData alloc] init];
    [data setDelegate:self];
    dispatch_async(backgroundQueue, ^(void) {
        [data loadSite:[dict objectForKey:@"SiteName"]];
    });

} 
```

在 SiteData 中，我使用 NSXMLParser 加载站点（所有委托方法也正确实现）

```
-(void)loadSite:(NSString *)site{
    NSXMLParser *parser = [[NSXMLParser alloc] initWithContentsOfURL:[self fullURLForSiteName:site]];
    [parser setDelegate:self];
    [parser parse];
    return;
} 
```

当 NSXMLParser 完成文档并且 SiteData 实例填充了站点数据时，它会将自身传递给主线程上我的主视图控制器中的一个方法。

```
- (void)parserDidEndDocument:(NSXMLParser *)parser{    
    dispatch_async(dispatch_get_main_queue(), ^(void) {
         [delegate successfullyLoadedSite:self];
    });
} 
```

`successfullyLoadedSite:`将传递的站点数据加载到视图中并将其显示给用户。请注意，多个站点的数据显示在同一屏幕上。

**我想要发生的事情：**我希望每个站点的数据在加载时显示在屏幕上，而不必等到所有站点都完成加载后才能刷新视图。

**发生了什么：**其中一个站点加载并显示，然后我必须等待所有其余站点加载，然后所有其余站点立即显示。

从控制台日志看来，一旦它`successfullyLoadedSite:`第一次调用主队列，一切都会在主队列上运行。一旦`successfullyLoadedSite:`主队列中的第一个被调用，它会将所有站点加载到对象中，然后将它们加载到视图中。

有什么想法吗？如果你不能告诉我是多线程的新手。谢谢 ：）

* * *

**编辑：** 我`backgroundQueue`这样创建：

```
dispatch_queue_t backgroundQueue; 
```

并且在`init`

```
backgroundQueue = dispatch_queue_create("uni.que.identifier.bgqueue", NULL); 
```

并释放它`dealloc`：

```
dispatch_release(backgroundQueue); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T05:47:16.690

使用dispatch_queue_create函数创建的队列是串行队列，那么dispatch_queue_create提交的block会按顺序执行。

采用：

```
dispatch_queue_t backgroundQueue =
    dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0); 
```

# mysql - mysql中的数据透视表

> ID：10039273
> 
> 赞同：9
> 
> 时间：2012-04-06T04:52:14.853
> 
> 标签：mysql, pivot-table

我知道如何在 mysql 中创建数据透视表（请参见下面的代码示例），但是如果数据透视表中的列数非常大并且我不想输入 2000 左右的标记名怎么办？- 有没有办法生成该列表？提前谢谢了。

```
drop table pivot;
create table pivot SELECT time,
       max(if(tagname = 'a', value, null)) AS 'a',
       max(if(tagname = 'b', value, null)) AS 'b',
       max(if(tagname = 'c', value, null)) AS 'c'
  FROM test where tagname in ('a','b','c')
GROUP BY time;
select * from pivot; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-27T17:45:01.367

您始终可以创建一个完全执行此操作的 shell 脚本 :-)

```
#!/bin/sh

mysql -BN test > /tmp/$$_tagnames.tmp <<SQL
select distinct tagname from test; 
SQL

cat > /tmp/$$_create_table.sql <<EOF
drop table if exists pivot;
create table pivot select 
EOF

while read tag; do
    echo "max(if(tagname = '$tag', value, null)) AS '$tag'," >> /tmp/$$_create_table.sql
done < /tmp/$$_tagnames.tmp

cat >> /tmp/$$_create_table.sql <<EOF
time
FROM test 
GROUP BY time;
select * from pivot;
EOF

mysql -Bt test < /tmp/$$_create_table.sql

rm /tmp/$$_create_table.sql
rm /tmp/$$_tagnames.tmp 
```

* * *

数据：

```
mysql> select * from test;
+---------+-------+---------------------+
| tagname | value | time                |
+---------+-------+---------------------+
| a       | foo   | 2012-12-21 00:00:01 |
| b       | foo   | 2012-04-27 00:00:01 |
| c       | bar   | 2012-03-27 00:00:01 |
| d       | bar   | 2012-12-21 00:00:01 |
+---------+-------+---------------------+
4 rows in set (0.00 sec) 
```

脚本输出：

```
$ ./pivot.sh 
+------+------+------+------+---------------------+
| a    | b    | c    | d    | time                |
+------+------+------+------+---------------------+
| NULL | NULL | bar  | NULL | 2012-03-27 00:00:01 |
| NULL | foo  | NULL | NULL | 2012-04-27 00:00:01 |
| foo  | NULL | NULL | bar  | 2012-12-21 00:00:01 |
+------+------+------+------+---------------------+ 
```

# haskell - 将类型作为参数传递给 Haskell 中的函数？

> ID：10039274
> 
> 赞同：8
> 
> 时间：2012-04-06T04:52:38.887
> 
> 标签：haskell, types

以下两个功能极其相似。它们从 [String] n 元素中读取，[Int] 或 [Float]。我怎样才能把通用代码分解出来？我不知道 Haskell 中支持将类型作为参数传递的任何机制。

```
readInts n stream = foldl next ([], stream) [1..n]
  where
    next (lst, x:xs) _ = (lst ++ [v], xs)
      where
        v = read x :: Int

readFloats n stream = foldl next ([], stream) [1..n]
  where
    next (lst, x:xs) _ = (lst ++ [v], xs)
      where
        v = read x :: Float 
```

我是 Haskell 的初学者，所以欢迎对我的代码发表任何评论。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-04-06T05:01:16.900

Haskell 支持高度的多态性。尤其

```
readAny n stream = foldl next ([], stream) [1..n]
  where
    next (lst, x:xs) _ = (lst ++ [v], xs)
      where
        v = read x 
```

有类型

```
readAny :: (Enum b, Num b, Read a) => b -> [String] -> ([a], [String]) 
```

因此

```
readInts :: (Enum b, Num b) => b -> [String] -> ([Int], [String])
readInts = readAny

readFloats :: (Enum b, Num b) => b -> [String] -> ([Float], [String])
readFloats = readAny 
```

你不需要专门化类型。Haskell 会自动推断出最通用的类​​型，`readAny`这里会做你想做的事。

在 Haskell 中不能将类型作为参数传递。你很少需要。对于少数需要的情况，您可以通过传递具有所需类型的值来模拟行为。

Haskell 有“返回类型多态性”，所以你真的不应该担心“传递类型”——很可能函数会做你想做的事，而无需你告诉它们。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-04-06T05:11:41.650

基本上你想要的是不明确声明类型。相反，推迟声明类型并让推理引擎为您接管。另外，我认为您将折叠与地图混为一谈。这就是我将如何处理它。

```
readList' :: Read a => [String] -> [a]
readList' = map read

ints = readList' ["1", "2"] :: [Int] -- [1, 2]

floats = readList' ["1.0", "2.0"] :: [Float] -- [1.0, 2.0] 
```

要从流中仅读取 n 个内容，请使用`take`

# java - Java 线程在不关注 OSX 时进入睡眠状态

> ID：10039275
> 
> 赞同：4
> 
> 时间：2012-04-06T04:52:45.663
> 
> 标签：java, multithreading, macos, clipboard

我正在编写一个程序来监听系统剪贴板的变化。侦听器在单独的线程上运行，并在剪贴板的内容更改时执行一些操作（例如，写入文件）。

我正在使用[ClipboardOwner 接口](http://www.javapractices.com/topic/TopicAction.do?Id=82 "ClipboardOwner 接口的示例用法")轮询剪贴板，因此当我的程序失去对剪贴板的所有权（意味着另一个进程已修改剪贴板）时，我的程序中会触发一个事件，让我读取更改。

```
public class OwnershipClipboardListener extends Thread implements ClipboardOwner
{
    private Clipboard clipB = Toolkit.getDefaultToolkit().getSystemClipboard();

    public void run()
    {
        /* Initialize ClipboardListener and gain ownership of clipboard */
    }

    @Override
    public void lostOwnership(Clipboard clipboard, Transferable transferable)
    {
        /* Auto-fired when I lose Clipboard ownership.
           Can do processing and regaining ownership here */
    }    
} 
```

问题是，在 OSX 中运行时，只有当我手动 Cmd-Tab 到停靠栏中正在运行的进程图标时，才会反映对剪贴板的任何更改。所以如果在我切换到停靠图标之前有多个剪贴板操作，只有最后一个有任何影响。我在 Linux 或 Windows 上没有遇到这个问题。

这就像程序失去焦点时线程进入睡眠状态，但最后一个事件触发器在它醒来时仍然会触发。有什么办法可以防止这种睡眠吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:11:12.293

我怀疑 OSX 不提供剪贴板更改的通知，因此 Java 正在尽其所能通过在由于其他原因被唤醒时通知您。

我的怀疑来自[NSPasteboard](http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSPasteboard_Class/Reference/Reference.html#//apple_ref/occ/cl/NSPasteboard)文档，`changeCount`尤其是例程。它说“因此，您可以在获得粘贴板所有权时记录更改计数，然后将其与从 changeCount 返回的值进行比较，以确定您是否仍然拥有所有权。” 没有提到使用事件来检测更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-11T05:41:32.747

看来基思是对的。但是，您可以通过将应用程序发送到后台（在 *Nix 上）来解决问题：

```
java -jar clipboard-1.0.jar & 
```

这将在后台打开 Java 应用程序，并且不需要窗口焦点来触发通知。

# extjs3 - Extjs 3.4 默认放大值

> ID：10039277
> 
> 赞同：0
> 
> 时间：2012-04-06T04:53:13.833
> 
> 标签：extjs3

帮助我使用 extjs3.4 设置 extjs 页面的默认缩放大小

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T07:38:48.693

ExtJS 3.4 中没有缩放选项，也没有 javascript 跨浏览器缩放选项。但它可以通过 CSS3 来实现。

请参阅： [更改浏览器缩放级别](https://stackoverflow.com/questions/1055336/changing-the-browser-zoom-level)

# mysql - 如何读取在 MySQL 中存储为 varbinary 的 IPv6 地址？

> ID：10039285
> 
> 赞同：2
> 
> 时间：2012-04-06T04:54:30.777
> 
> 标签：mysql, ipv6, varbinary

我将 IPv6 地址存储为`varbinary`PHP 函数`inet_pton($_SERVER['REMOTE_ADDR'])`。当我运行 SQL 查询时，例如：

```
SELECT ip_address FROM some_table WHERE id='some_id'; 
```

我将无法读取 ip_address，因为它是一种`binary`格式。

我注意到[MySQL 5.6 版](http://dev.mysql.com/doc/refman/5.6/en/miscellaneous-functions.html#function_inet6-ntoa)`INET6_NTOA(expr)`中有一个相应的MySQL 函数可以将其恢复为可读格式。不幸的是，我使用的是 MySQL 5.5 版，它没有该功能。

有没有其他方法可以读取 IPv6 地址而无需返回 PHP 进行转换？如附图所示，我可以使用 Workbench 中的编辑器轻松读取二进制字符串的十六进制表示法，因此我认为应该有一种简单的方法来做到这一点。

![在此处输入图像描述](../Images/6f39d33f184778bbaff5b0046b1e371f.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T05:48:39.543

您可以编写用户定义的函数来为您进行转换并在 select 子句中调用它们。有关更多信息，请参阅[此](http://labs.watchmouse.com/2009/10/extending-mysql-5-with-ipv6-functions/)链接。

# php - 在 wampserver 上安装 ioncube 时出错

> ID：10039289
> 
> 赞同：2
> 
> 时间：2012-04-06T04:55:02.973
> 
> 标签：php, wampserver

我从 ioncube 下载了[ioncube_loader](http://www.ioncube.com/loaders.php)并提取了一个文件 ioncube_loader_win_5.3.dll 并添加了`C:\wamp\bin\php\php5.3.10\ioncube_loader_win_5.3.dll` 使用时，我在 wampserver 中添加了 php.ini：

```
zend_extension_ts = "C:/wamp/bin/php/php5.3.10/ioncube_loader_win_5.3.dll" 
```

但是当使用 ioncube 运行代码时出错：

```
Site error: the file C:\wamp\www\test.php requires the ionCube PHP Loader ioncube_loader_win_5.3.dll to be installed by the website operator. If you are the website operator please use the ionCube Loader Wizard to assist with installation. 
```

如何修复它

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-13T06:04:00.933

1.  PHP 5.3 php.ini 不再支持`zend_extension_ts`请使用`zend_extension`

2.  请确保您的 WAMP 为 32 位，ionCube Loader 仅支持 32 位（适用于 Windows），请将您的 WAMP 重新安装到 32 位。

[http://www.ioncube.com/loaders.php](http://www.ioncube.com/loaders.php)

视窗 VC6 (x86)

Windows VC6（非 TS）（x86）

视窗 VC9 (x86)

Windows VC9（非 TS）（x86）

所有列表都是**x86** ONLY

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:25:55.333

Wampserver 32bit 之前是 vc6，包括 wampserver 2.1
Wampserver2.2 32bit 更改为 vc9，因为 php 5.3.6 仅作为 vc9 发布
Wampserver **64bit**一直是**vc9**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-09T03:31:29.880

在 php.ini 中，我将库复制到 /php/ext/ 文件夹中，然后使用：

> zend_extension="C:\xampp\php\ext\ioncube_loader_win_5.3.dll"

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-07-21T13:00:29.167

复制 url: 中的 "ioncube_loader_win_5.3.dll"`C:/wamp/bin/apache/Apache2.2.21/bin/ioncube/` 并在 php.ini (path: `C:\wamp\bin\apache\Apache2.2.21\bin\php.ini`) 文件中提及路径，如下所示，它应该是任何其他 zend 扩展的顶部。

```
zend_extension="C:/wamp/bin/apache/Apache2.2.21/bin/ioncube/ioncube_loader_win_5.3.dll" 
```

希望这会有所帮助。

# sql - 合并数据 SQL 查询

> ID：10039290
> 
> 赞同：0
> 
> 时间：2012-04-06T04:55:32.637
> 
> 标签：sql

我有一个查询请求，我必须为每个网站显示一个客户活动，但每个网站必须只有一行，而不是一个客户为每个活动显示多次。以下是我尝试过的查询，但带来了更多行。请帮助我如何避免重复，并为每个活动的每一行只显示一个客户。

```
SELECT i.customer_id, i.SEGMENT  AS Pistachio_segment,
    (CASE when S.SUBSCRIPTION_TYPE = '5' then 'Y' else  'N' end ) PB_SUBS
    (CASE WHEN S.SUBSCRIPTION_TYPE ='12' THEN 'Y' ELSE 'N' END) Daily_test,
    (CASE when S.SUBSCRIPTION_TYPE ='8' then 'Y' else 'N' end) COOK_4_2
FROM IDEN_WITH_MAIL_ID i  JOIN CUSTOMER_SUBSCRIPTION_FCT S
ON I.IDENTITY_ID = S.IDENTITY_ID and I.CUSTOMER_ID = S.CUSTOMER_ID
WHERE s.site_code ='PB' and s.subscription_end_date is null 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T08:34:59.867

您可以在 customer_id 上使用聚合 (SUM)，但是您希望在其他字段上发生什么？例如，如果您对同一客户（2 行）有 SUBSCRIPTION_TYPE 5 和 13，您想要哪个值？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T10:46:31.907

也许您正在寻找这样的东西：

```
SELECT i.customer_id, i.SEGMENT  AS Pistachio_segment,
    **MAX**(CASE when S.SUBSCRIPTION_TYPE = '5' then 'Y' else  'N' end ) PB_SUBS
    **MAX**(CASE WHEN S.SUBSCRIPTION_TYPE ='12' THEN 'Y' ELSE 'N' END) Daily_test,
    **MAX**(CASE when S.SUBSCRIPTION_TYPE ='8' then 'Y' else 'N' end) COOK_4_2
FROM IDEN_WITH_MAIL_ID i  JOIN CUSTOMER_SUBSCRIPTION_FCT S
ON I.IDENTITY_ID = S.IDENTITY_ID and I.CUSTOMER_ID = S.CUSTOMER_ID
WHERE s.site_code ='PB' and s.subscription_end_date is null
**GROUP BY i.customer_id, i.SEGMENT** 
```

不过，如果不了解所涉及的表的更多信息，我无法确定。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T05:00:47.423

听起来您需要按 customer_id 分组并为您选择的其他列执行聚合。例如：

```
sum(case when s.subscription_type = '5' then 1 else 0 end) as pb_subs_count 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-06T05:02:16.513

您可以尝试以下两种方法之一：

1.  使用 GROUP BY 语句来组合具有相同 id 的所有记录，例如，

    ```
    ...
    WHERE s.site_code ='PB' and s.subscription_end_date is null
    GROUP BY i.customer_id 
    ```

2.  在 SELECT 中使用 DISTINCT 命令，例如，

    ```
    SELECT DISTINCT i.customer_id, i.SEGMENT, ... 
    ```

# html - 里面 或者 里面？ 可能重复： 语义上，哪个更正确： 问问题 问问题 2012-04-06T04:56:10.857 4753 次 This question shows research effort; it is useful and clear 2 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 可能重复： 语义上，哪个更正确：a 在 h2 中，还是 h2 在 a？ 我有点担心这会如何影响 SEO。应该放在

## 标签内， 

## [Yey Me!](#)

或相反亦然？ [## Yey Me!](#) 文档类型： html5 您的两个问题基本上都是在要求我们告诉您如何调试代码...如果您需要查看脚本的时间，请进行一些 microtime() 调用并输出差异以获得相当准确的执行时间。 至于随机注销，实际上任何人都可以在不查看源代码的情况下提供帮助……您应该将范围缩小到不仅仅是“可能导致这种情况的原因”。任何事情都可能导致它，如果没有更多信息，我们无法提供相关的见解。 另外，你试过什么？ htmlseosemantic-web 4 1 回答 1 This answer is useful 3 如果你真的想变得迂腐，就个人而言，我会说把标签放在

## 外面。不过根据我的经验，这并不重要（诚然，这并不重要）。 于 2012-04-06T04:58:29.397 回答 Related 1 .net - 如何从 NUnit 中继承的测试名称中排除类名 1 jquery - 打开网站时加载 jQuery Mobile 面板 4 python - 将两个列表组合成字符串 1 ruby-on-rails - Rails PaperClip 拖放多个文件 4 npm - 如何安装 grunt 以及如何使用它构建脚本 0 regex - 将 $1 替换为大写 1 ios - 需要非常基本的ios帮助 3 php - PHP MySQL 查询其中 x = $variable 1 ios - 在 iOS 中使用手势导航 UIViewController 2 c++ - VS 2010 C++ 无法在发布模式下加载 msobj100.dll Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

 > ID：10039292
> 
> 赞同：2
> 
> 时间：
> 
> 标签：html, seo, semantic-web 

> **可能重复：** [语义上，哪个更正确：a 在 h2 中，还是 h2 在 a？](https://stackoverflow.com/questions/9760074/semantically-which-is-more-correct-a-in-h2-or-h2-in-a)

我有点担心这会如何影响 SEO。应该`<a>`放在`<h2>`标签内，

```
<h2><a href="#">Yey Me!</a></h2> 
```

或相反亦然？

```
<a href="#"><h2>Yey Me!</h2></a> 
```

**文档类型：** html5

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T04:58:29.397

如果你真的想变得迂腐，就个人而言，我会说把标签放在`<h2>`外面。`<a>`不过根据我的经验，这并不重要（诚然，这并不重要）。

# ios - 在沙盒环境中重新订阅产品时弹出

> ID：10039294
> 
> 赞同：0
> 
> 时间：2012-04-06T04:56:28.267
> 
> 标签：ios, xcode, in-app-purchase, sandbox

我正在创建用户必须订阅产品 1 个月/年的应用程序。我在沙盒环境中测试应用程序。为此，我从 iTunes Connect 创建了测试用户帐户。我第一次购买产品一切正常。2-3 分钟后，我重新订阅了相同的产品，我收到消息“您已经购买了此应用内购买但尚未下载”的警报。我尝试使用不同的测试帐户购买，但收到相同的消息。

我想问一下天气这个弹出窗口会拒绝我的应用程序从应用商店吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T06:48:53.597

如果您在订阅仍处于活动状态时尝试购买订阅，它会弹出。

用户不必为此付费，所以没关系。

但是你最好不要显示那个允许用户购买的按钮，如果他已经购买了）

# jquery - jQuery Accordion - 不希望整个父 li 都可以点击，只是链接文本

> ID：10039295
> 
> 赞同：1
> 
> 时间：2012-04-06T04:56:29.187
> 
> 标签：jquery, accordion

我的 jQuery Accordion 具有以下结构：

```
<ul id='accordion'>
    <li class='header'>
        <a href='#'>Click me</a>
    </li>
    <li class='content'>
        <div>blah blah</div>
    </li>
    <li class='header'>
        <a href='#'>Click me too</a>
    </li>
    <li class='content'>
        <div>blah blah</div>
    </li>
    <li class='header'>
        <a href='#'>Click me as well</a>
    </li>
    <li class='content'>
        <div>blah blah</div>
    </li>
</ul> 
```

我想在标题 li 中放一些其他链接，但问题是，整个 li 都是可点击的，并激活了它下面的 li。我只希望标题 li 中的链接文本是可点击的。我已将标题设置为 li.header，将其更改为 li.header a 无济于事。我还尝试在 init 上禁用手风琴，然后在单击通过索引“激活”内容 li 的链接时绑定一个函数。

```
jQuery('#accordion').accordion({
    header: 'li.header',
    collapsible: true,
    active: false,
    autoHeight: false
});

jQuery('li.header a').live('click', function(){
    var i = jQuery(this).parent().next().index();
    jQuery('#accordion').accordion('activate', i);
}); 
```

我希望我的问题很清楚！或者建议我是否应该编写自己的手风琴。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:20:04.413

如果没有 UI，它会像这样工作：

## *[演示 jsFiddle](http://jsfiddle.net/TumRT/)*

jQuery（无用户界面）

```
$('#accordion li.content').hide();

$('li.header > a').on('click',function(){
    var nxt = $(this).parent('li').next('li.content');

    nxt.is(':hidden') ? ($('#accordion > li.content').slideUp() , nxt.slideDown()) : nxt.slideUp() ;

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T05:38:03.930

我将禁用除手风琴切换链接之外的其他链接上的事件传播

检查演示 [示例](http://jsfiddle.net/UHQB8/1/)

# c# - 避免应用程序内存不足异常的最佳方法

> ID：10039296
> 
> 赞同：2
> 
> 时间：2012-04-06T04:56:31.230
> 
> 标签：c#, httpwebrequest, out-of-memory

我们正在设计一个压力测试应用程序，它将向特定的 Web 服务发送大小为“1 MB”的大量 HTTP 请求。为了实现压力，我们在应用程序中使用了多个线程。结构类似于我们有 X EnqueueThreads，它将创建 HTTPRequest 数据并将其添加到队列中。Y WorkerThreads 会将请求出列，并将它们提交给 Web 服务。所有请求都是异步的。现在这里的问题是，Enqueue 线程的工作速度比 WorkerThreads 快得多，因此如果没有停止/等待条件，它们将添加请求，直到抛出内存不足异常，从而使注入器（该实用程序将在其中运行）慢的。目前我们正在处理 OutOfMemory 异常并使 enqueuethreads 休眠一段时间。

但是我想知道对使用有限系统资源（特别是内存）的最佳方法应该是什么的看法。？提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-06-02T07:26:17.053

在这样的场景中，您可以并且可能应该使用[MemoryFailPoint 类](http://msdn.microsoft.com/en-us/library/system.runtime.memoryfailpoint%28v=vs.100%29.aspx)。

如果您收到[OutOfMemoryException](http://msdn.microsoft.com/en-us/library/system.outofmemoryexception%28v=vs.100%29.aspx)，则应用程序状态可能已损坏，您不应尝试从中恢复。[MemoryFailPoint](http://msdn.microsoft.com/en-us/library/system.runtime.memoryfailpoint%28v=vs.100%29.aspx)旨在通过允许您确定降低应用程序的速度来避免这种情况，从而避免内存不足。您让框架确定您是否可以执行该操作，而不是根据您的应用程序使用的内存量来猜测您“认为”可以逃脱多少。

您还应该[通过垃圾收集器检查内存使用情况，而](http://msdn.microsoft.com/en-us/library/system.gc.gettotalmemory.aspx)不是通过进程来准确读取实际分配了多少托管内存。使用私有内存大小将使您的读数低得多，并且您仍然可能陷入内存不足的情况，尽管看起来您有足够的余地。

MSDN 页面上的代码示例显示了如何估计操作的内存使用情况，并使用该信息等待内存可用，然后再尝试处理更多请求。如果您可以确定需要大量内存的代码区域，这是限制它并避免内存不足的好选择。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-06T05:42:53.367

好吧，根据问题的主题，避免内存不足异常的最佳方法是不创建填充该内存的对象。

处理异常是最简单的解决方案，尽管随着时间的推移可能会给应用程序带来不同的困难和不一致。另一种方法是获取可用大小的内存资源，如下所示：

```
Process currentProcess = Process.GetCurrentProcess();
long memorySize = currentProcess.PrivateMemorySize64 
```

然后，您可以根据对一个对象内存容量的估计来计算队列的长度。

另一种方法是检查每个工作线程中的内存大小。只要没有内存，线程就可以结束。这样，许多线程将产生和死亡，但应用程序将处于最大可用容量。

# javascript - 使用 onclick 传递参数或使用 KnockoutJS 进行点击绑定

> ID：10039297
> 
> 赞同：54
> 
> 时间：2012-04-06T04:56:31.617
> 
> 标签：javascript, html, knockout.js, onclick

我有这个功能：

```
function make(place)
{
  place.innerHTML = "somthing"
} 
```

我曾经使用纯 JavaScript 和 html 来做到这一点：

```
<button onclick="make(this.parent)">click me</button> 
```

如何使用惯用的 knockout.js 做到这一点？

* * *

## 回答 #1

> 赞同：88
> 
> 时间：2013-02-22T14:31:28.840

使用绑定，如下例所示：

```
<a href="#new-search" data-bind="click:SearchManager.bind($data,'1')">
  Search Manager
</a> 
```

```
var ViewModelStructure = function () {
    var self = this;
    this.SearchManager = function (search) {
        console.log(search);
    };
}(); 
```

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2012-04-06T12:40:23.860

如果您在 Knockout 中设置了单击绑定，则该事件将作为第二个参数传递。您可以使用该事件来获取发生单击的元素并执行您想要的任何操作。

这是一个演示的小提琴：http: [//jsfiddle.net/jearles/xSKyR/](http://jsfiddle.net/jearles/xSKyR/)

或者，您可以创建自己的自定义绑定，它将接收绑定到的元素作为第一个参数。在初始化时，您可以附加自己的单击事件处理程序来执行您希望执行的任何操作。

[http://knockoutjs.com/documentation/custom-bindings.html](http://knockoutjs.com/documentation/custom-bindings.html)

HTML

```
<div>
    <button data-bind="click: clickMe">Click Me!</button>
</div> 
```

JS

```
var ViewModel = function() {
    var self = this;
    self.clickMe = function(data,event) {

      var target = event.target || event.srcElement;

      if (target.nodeType == 3) // defeat Safari bug
        target = target.parentNode;

      target.parentNode.innerHTML = "something";
    }
}

ko.applyBindings(new ViewModel()); 
```

* * *

## 回答 #3

> 赞同：28
> 
> 时间：2014-04-22T08:35:40.617

我知道这是一个老问题，但这是我的贡献。您可以简单地将一个函数包装在另一个函数中，而不是所有这些技巧。就像我在这里所做的那样：

```
<div data-bind="click: function(){ f('hello parameter'); }">Click me once</div>
<div data-bind="click: function(){ f('no no parameter'); }">Click me twice</div>

var VM = function(){
   this.f = function(param){
     console.log(param);
   }
}
ko.applyBindings(new VM()); 
```

这是[小提琴](http://jsfiddle.net/SalvadorDali/aRYLw/)

* * *

## 回答 #4

> 赞同：12
> 
> 时间：2016-03-14T19:35:21.050

**关于如何`click`使用 KnockoutJS 处理事件的通用答案...**

不是对所问问题的直接答案，但可能是对大多数谷歌人登陆这里的问题的答案：使用[来自 KnockoutJS](http://knockoutjs.com/documentation/click-binding.html)[的`click`](http://knockoutjs.com/documentation/click-binding.html)绑定而不是`onclick`. 像这样：

```
function Item(parent, txt) {
  var self = this;

  self.doStuff = function(data, event) {
    console.log(data, event);
    parent.log(parent.log() + "\n  data = " + ko.toJSON(data));
  };

  self.doOtherStuff = function(customParam, data, event) {
    console.log(data, event);
    parent.log(parent.log() + "\n  data = " + ko.toJSON(data) + ", customParam = " + customParam);
  };

  self.txt = ko.observable(txt);
}

function RootVm(items) {
  var self = this;

  self.doParentStuff = function(data, event) {
    console.log(data, event);
    self.log(self.log() + "\n  data = " + ko.toJSON(data));
  };

  self.items = ko.observableArray([
    new Item(self, "John Doe"),
    new Item(self, "Marcus Aurelius")
  ]);
  self.log = ko.observable("Started logging...");
}

ko.applyBindings(new RootVm());
```

```
.parent { background: rgba(150, 150, 200, 0.5); padding: 2px; margin: 5px; }
button { margin: 2px 0; font-family: consolas; font-size: 11px; }
pre { background: #eee; border: 1px solid #ccc; padding: 5px; }
```

```
<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>

<div data-bind="foreach: items">
  <div class="parent">
    <span data-bind="text: txt"></span><br>
    <button data-bind="click: doStuff">click: doStuff</button><br>
    <button data-bind="click: $parent.doParentStuff">click: $parent.doParentStuff</button><br>
    <button data-bind="click: $root.doParentStuff">click: $root.doParentStuff</button><br>
    <button data-bind="click: function(data, event) { $parent.log($parent.log() + '\n  data = ' + ko.toJSON(data)); }">click: function(data, event) { $parent.log($parent.log() + '\n  data = ' + ko.toJSON(data)); }</button><br>
    <button data-bind="click: doOtherStuff.bind($data, 'test 123')">click: doOtherStuff.bind($data, 'test 123')</button><br>
    <button data-bind="click: function(data, event) { doOtherStuff('test 123', $data, event); }">click: function(data, event) { doOtherStuff($data, 'test 123', event); }</button><br>
  </div>
</div>

Click log:
<pre data-bind="text: log"></pre>
```

* * *

**关于*实际*问题的注释...*

实际问题有一个有趣的地方：

```
// Uh oh! Modifying the DOM....
place.innerHTML = "somthing" 
```

不要那样做！当使用像 KnockoutJS 这样的 MVVM 框架时，不要像那样修改 DOM，尤其是你自己的父 DOM 部分。如果你*这样*做，按钮就会消失（如果你替换你父母的`innerHTML`，你自己将永远消失！）。

相反，改为在您的处理程序中修改*视图模型*，并让视图*响应*。例如：

```
function RootVm() {
  var self = this;
  self.buttonWasClickedOnce = ko.observable(false);
  self.toggle = function(data, event) {
    self.buttonWasClickedOnce(!self.buttonWasClickedOnce());
  };
}

ko.applyBindings(new RootVm());
```

```
<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>

<div>
  <div  data-bind="visible: !buttonWasClickedOnce()">
    <button data-bind="click: toggle">Toggle!</button>
  </div>
  <div data-bind="visible: buttonWasClickedOnce">
    Can be made visible with toggle...
    <button data-bind="click: toggle">Untoggle!</button>
  </div>
</div>
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2016-05-16T06:49:38.037

Knockout 的文档还提到了一种更简洁的方法，可以将额外参数传递给`on-click`使用 function.bind 的绑定绑定的函数，如下所示：

```
<button data-bind="click: myFunction.bind($data, 'param1', 'param2')">
    Click me
</button> 
```

# javascript - 使用 JavaScript 字符串作为函数名？

> ID：10039298
> 
> 赞同：6
> 
> 时间：2012-04-06T04:56:47.413
> 
> 标签：javascript

我需要以下列方式调用函数：

```
var f = 'fadeOut';
$(v).f(s, function(){
    $(v).css('visibility', 'hidden').css('position', 'absolute');
}); 
```

这可以简单地做到吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-06T04:59:28.167

是的

```
var f = 'fadeOut';
$(v)[f](s, function(){
    $(v).css('visibility', 'hidden').css('position', 'absolute');
}); 
```

# objective-c - Applescript-able Cocoa：引用对象的 NSArray？

> ID：10039299
> 
> 赞同：0
> 
> 时间：2012-04-06T04:56:53.660
> 
> 标签：objective-c, cocoa, applescript, scriptable, sdef

好的。所以，让我们说：

*   我有一个类`myCollection`、一个类`myObject`和一个属性`objects`来`myCollection`返回一个`NSArray`of `myObject`s

鉴于我已经为和类正确设置了我的`.sdef`文件，我应该如何在那里定义我的属性？`myCollection``myObject``objects`

我的意思是，到目前为止，我可以做这样的事情：

```
tell application "myApplication"
     collection's activeObject's name
end tell 
```

我想要的是能够访问`myObject`s 作为数组的元素：

```
tell application "myApplication"
     set Obj to collection's object 0
end tell 
```

到目前为止，这是我的 .sdef（几乎......）：

```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE dictionary SYSTEM "file://localhost/System/Library/DTDs/sdef.dtd">
<dictionary xmlns:xi="http://www.w3.org/2003/XInclude">
    <xi:include href="file:///System/Library/ScriptingDefinitions/CocoaStandard.sdef" xpointer="xpointer(/dictionary/suite)"/>
    <suite name="myApplication Suite" code="myRm" description="myApplication Suite">
        <class name="application" code="camy" description="myApplication&apos;s top-level scripting object." inherits="application">
            <cocoa class="myApplication"/>
            <property name="myname" code="PEnm" description="The name of the application" type="text" access="r">
                <cocoa key="myname"/>
            </property>
            <property name="currentContents" code="PEnc" description="The current contents" type="text" access="r">
                <cocoa name="currentContents" />
            </property>
            <property name="activeDocument" code="PEad" description="The active document" type="document" access="r">
                <cocoa name="activeDocument" />
            </property>
        </class>
        <class name="document" code="cDoc" description="myApplication document">
            <cocoa class="myDocument"/>
            <property name="alias" code="cDal" description="The document's alias" type="text" access="r">
                <cocoa key="alias" />
            </property>
            <property name="content" code="cDco" description="The document's content" type="text" access="rw">
                <cocoa key="content" />
            </property>
        </class>
    </suite>

</dictionary> 
```

我该怎么做呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-07T12:45:02.247

这就是我所需要的：

```
 <class name="editor" code="cDed" description="myEditor">
        <cocoa class="myEditor"/>
        <element type="document" access="r">
            <cocoa name="documents" />
        </element>
    </class>
    <class name="document" code="cDoc" description="myDocument">
        <cocoa class="myDocument"/>
        .... 
```

# iphone - 如何在 iPhone 的两部分表格视图中加载数据

> ID：10039300
> 
> 赞同：0
> 
> 时间：2012-04-06T04:57:25.830
> 
> 标签：iphone, objective-c, uitableview

我在表格视图中有 2 个部分，我从一个数组加载了一个部分，从另一个加载了一个部分。如何设置两个部分的单元格值？

我正在使用以下代码：

标题部分的标题。

```
 - (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:                             (NSInteger)section
   {
        if(section == 0)       
            return @" Scheduled Patients ";
        else
            return @" Walk In Patients ";
   } 
```

部分中的行：

```
 - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
  {

    if(section==0)
        return [resultArray count];
    else {
      EMRAppDelegate *appDelegate = (EMRAppDelegate *)[[UIApplication sharedApplication] delegate];
      return [appDelegate.walkPatients count];
    }
  }

  - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath

     {
       UIButton * uploadButton = nil;
       static NSString * Identifier = @"Identifier";
       UITableViewCell * cell = [table dequeueReusableCellWithIdentifier:Identifier];
      if (cell == nil) {
      cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:Identifier] autorelease];
       uploadButton = [UIButton buttonWithType:UIButtonTypeCustom];
       [uploadButton setFrame:CGRectMake(10, 10, 24, 24)];
       [uploadButton setImage:[UIImage imageNamed:@"upload.png"] forState:UIControlStateNormal];
       [uploadButton addTarget:self action:@selector(onUploadButtonClick:) forControlEvents:UIControlEventTouchUpInside];
       [uploadButton setTag:999];
       cell.accessoryView = uploadButton;
      }
     else {
     uploadButton = (UIButton *)cell.accessoryView;
     }

     EMRAppDelegate *appDelegate = (EMRAppDelegate *)[[UIApplication sharedApplication] delegate];

   ObjectData *theCellData =[resultArray objectAtIndex:indexPath.row];

   WalkPatient * patient = [ appDelegate.walkPatients objectAtIndex:indexPath.row];

   if (indexPath.section == 0)
   {
    // do coding for cell loading for Scheduled Patients 

     cell.textLabel.font = [UIFont systemFontOfSize:18];
     cell.textLabel.text = [NSString stringWithFormat:@"%@ %@", theCellData.firstName, theCellData.lasttName];

      if (patient.syncDate != nil) {
        UIImageView * checkmark = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"right.png"]];
        [checkmark setFrame:CGRectMake(12, 0, 12, 12)];
        [checkmark setTag:998];
        [uploadButton addSubview:checkmark];
        [checkmark release];
        [uploadButton removeTarget:self action:@selector(onUploadButtonClick:) forControlEvents:UIControlEventTouchUpInside];

        NSDateFormatter * dateFormatter = [[NSDateFormatter alloc] init];
        [dateFormatter setDateFormat:@"dd/MM/yyyy hh:mm"];
        cell.detailTextLabel.font = [UIFont systemFontOfSize:12];
        cell.detailTextLabel.text = [NSString stringWithFormat:@"Synched: %@", [dateFormatter stringFromDate:patient.syncDate]];
        [dateFormatter release];
         } 
        else {
        UIView * checkmark = (UIView *)[uploadButton viewWithTag:998];
        if (checkmark != nil) {
            [checkmark removeFromSuperview];
         }
       }

       cell.selectionStyle = UITableViewCellSelectionStyleNone;

      return cell;

       }

    else
     {
    // do load cells for    Walk In Patients. 

       cell.textLabel.font = [UIFont systemFontOfSize:18];
       cell.textLabel.text = [NSString stringWithFormat:@"%@ %@", patient.firstName, patient.lastName];

       if (patient.syncDate != nil) {
       UIImageView * checkmark = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"right.png"]];
       [checkmark setFrame:CGRectMake(12, 0, 12, 12)];
       [checkmark setTag:998];
       [uploadButton addSubview:checkmark];
       [checkmark release];
       [uploadButton removeTarget:self action:@selector(onUploadButtonClick:) forControlEvents:UIControlEventTouchUpInside];

        NSDateFormatter * dateFormatter = [[NSDateFormatter alloc] init];
        [dateFormatter setDateFormat:@"dd/MM/yyyy hh:mm"];
         cell.detailTextLabel.font = [UIFont systemFontOfSize:12];
         cell.detailTextLabel.text = [NSString stringWithFormat:@"Synched: %@", [dateFormatter stringFromDate:patient.syncDate]];
         [dateFormatter release];
      } 
      else {
        UIView * checkmark = (UIView *)[uploadButton viewWithTag:998];
        if (checkmark != nil) {
        [checkmark removeFromSuperview];
        }
      }

      cell.selectionStyle = UITableViewCellSelectionStyleNone;

       return cell;

      }
   } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:05:33.887

这很简单。在`cellForRowAtIndexPath`方法中，您还设置了一个条件来检查部分并根据它们加载数据。

```
if (indexPath.section == 0)
{
    // do coding for cell loading for Scheduled Patients 
      UIButton *btnsection0=[UIButton buttonWithType:UIButtonTypeCustom];
      [btnsection0 addTarget:self action:@selector(showProject:) forControlEvents:UIControlEventTouchUpInside];

}

else
{
     // do load cells for    Walk In Patients. 
      UIButton *btnsection1=[UIButton buttonWithType:UIButtonTypeCustom];
      [btnsection0 addTarget:self action:@selector(showProject:) forControlEvents:UIControlEventTouchUpInside];

 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T05:06:49.207

你几乎明白了。cellForRowAtIndexPath 方法带有一个 indexPath 参数，可以为您提供：

```
NSInteger row = indexPath.row;
NSInteger section = indexPath.section; 
```

请始终使 cellForRowAtIndexPath 逻辑镜像 numberOfRowsInSection 逻辑，因此当您被要求提供行数时：

```
return (section==0)? [array0 count] : [array1 count]; 
```

...当您被要求提供一个单元格时，您需要该单元格的数据

```
NSInteger row = indexPath.row;
NSInteger section = indexPath.section;

NSArray *arrayForThisSection = (section==0)? array0 : array1;
id elementForThisRow = [arrayForThisSection objectAtIndex:row];

// config the cell with elementForThisRow 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T05:08:33.597

从[UITableViewDataSource的](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDataSource_Protocol/Reference/Reference.html#//apple_ref/occ/intf/UITableViewDataSource)[文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDataSource_Protocol/Reference/Reference.html#//apple_ref/occ/intf/UITableViewDataSource)中： `UITableView declares a category on NSIndexPath that enables you to get the represented row index (row property) and section index (section property),`

所以你可以去`indexPath.section`，它会告诉你 tableview 想要填充哪个部分。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-06T12:16:08.500

```
UIButton *btnsection0=[UIButton buttonWithType:UIButtonTypeCustom];
if (indexPath.section == 0)
{ 
  btnsection0.tag =  [NSString stringWithFormat:@"%d%d",indexPath.section,indexPath.row];
}else{ 
  btnsection0.tag = [NSString stringWithFormat:@"%d%d",indexPath.section,indexPath.row];
}
[btnsection0 addTarget:self action:@selector(showProject:) forControlEvents:UIControlEventTouchUpInside]; 
```

按钮事件

```
-(IBAction)showProject:(id)sender{
      NSString *s = [NSString stringWithFormat:@"%d%d",indexPath.section,indexPath.row];
      int section = [[s substringToIndex:1] intValue];
      int row = [[s substringFromIndex:0] intValue];

} 
```

# python - 在python中合并一个元组

> ID：10039301
> 
> 赞同：-4
> 
> 时间：2012-04-06T04:57:31.850
> 
> 标签：python, tuples

我有以下需要合并的数据：

```
tuples = ('ziyao','sa'),('guilog','sa'),('yiping','pe'),('tom','pesa'),('haha','pesa'),('hehe','pesa') 
```

我想要的输出是：

```
tuples = [('ziyao','guilog','sa'),('yiping','pe'),('tom','haha','hehe','pesa')] # or 'ziyao','guilog','sa'\n'yiping','pe'\n... 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-06T05:33:02.853

我想我明白他的意思了...

```
>>> from itertools import groupby
>>> tuples = ('ziyao','sa'),('guilog','sa'),('yiping','pe'),('tom','pesa'),('haha','pesa'),('hehe','pesa')
>>> [list(zip(*v)[0]) + [k] for k,v in groupby(tuples,lambda x: x[1])]
[['ziyao', 'guilog', 'sa'], ['yiping', 'pe'], ['tom', 'haha', 'hehe', 'pesa']] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T04:59:10.070

```
from collections import defaultdict
by_second = defaultdict(list)
for first, second in input_tuples:
    by_second[second].append(first)
output_tuples = [tuple(v) + (k,) for k,v in by_second.iteritems()] 
```

# python - 初始化大量变量的最简单方法

> ID：10039306
> 
> 赞同：3
> 
> 时间：2012-04-06T04:58:10.273
> 
> 标签：python, initialization, iterable-unpacking

假设您有大量需要初始化为 None 的变量。一种天真的方法是计算左侧变量的数量，并在右侧创建一个相同大小的列表：

```
a, b, c, d, e, f, g, h, i, j = [None]*10 
```

有没有办法做到这一点而不必计算变量？如果经常使用这种模式，那么必须计算变量的数量可能会变得乏味。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-06T05:00:33.523

```
a = b = c = d = e = f = g = h = i = j = None 
```

注意：不要将它用于可变类型。如果你很好奇为什么，这表明：

```
>>> a = b = []
>>> a.append(1)
>>> a
[1]
>>> b
[1] 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-06T05:00:46.553

你不这样做是有原因的吗？

```
a = b = c = d = e = f = g = h = i = j = None 
```

我对 Python 语法的复杂性不太熟悉，所以如果我错了，请纠正我。

# java - OpenGL ES 2D Android 重绘

> ID：10039314
> 
> 赞同：0
> 
> 时间：2012-04-06T04:59:26.757
> 
> 标签：java, android, opengl-es

我在使用 OpenGLES 的前 10 分钟内注意到了一些问题，实际上函数调用几乎相同，但是设置方法的方式完全不同。

我了解在 OpenGL 中为多边形设置动画的基础知识。更改模型矩阵然后重新绘制场景并使用双缓冲来减少您在快速移动事物或快速大量更新事物时看到的滞后的想法。

所以这里是我的问题。我将如何做到这一点。在 C 或 C++ 中的 OpenGL 中，我可以有自己的方法来调用将重新绘制场景的 display() 函数。

我环顾四周，不得不重新学习如何绘制一个简单的多边形。我认为这是完全不同的。我在这里环顾四周，找到了一些关于事物的教程，但似乎没有什么能真正说明改变背后的方法论。我有兴趣了解它与复制。

谢谢

新材料：

这是我试图在android中实现的目标。这段代码是用 C 语言编写的。从我的阅读来看，我理解 OpenGL 已被弃用，但我觉得我仍然应该能够实现同样的目标。

此代码反映您有一个侦听器等待按下按钮，一旦按下，它就会执行相关代码并重新绘制显示。根据我的理解，如果在 OpenGL ES 中有所不同。

```
 void main(int argc, char** argv)
    {

         /* Standard GLUT initialization */

        glutInit(&argc,argv);

        /* default, not needed */
        glutInitDisplayMode (GLUT_SINGLE | GLUT_RGB);    

        glutInitWindowSize(500,500); /* 500 x 500 pixel window */

        /* place window top left on display */
        glutInitWindowPosition(0,0);    

        glutCreateWindow("COMP-5/6400 Assignment 2"); /* window title */

        /* display callback invoked when window opened */
        glutDisplayFunc(display); 
        glutSpecialFunc (processSpecialKeys);
        myinit(); /* set attributes */

        glutMainLoop(); /* enter event loop */
    }

    void processSpecialKeys(int key, int x, int y)
    {
         switch(key){
             case GLUT_KEY_UP:
                moveUp();
            break;
            case GLUT_KEY_DOWN:
                    moveDown();
            break;
            case GLUT_KEY_LEFT:
                moveLeft();
            break;
            case GLUT_KEY_RIGHT:
                moveRight();
            break;
        }
    }

    void moveUp(){
    personX= (5.0*cosf(personRota))+personX;
    personY= (5.0*sinf(personRota))+personY;
    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
    display();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-07T08:41:33.853

请看[这里，它很好地解释了](https://stackoverflow.com/a/6734071/1262542)*立即*模式和*保留*模式 API之间的区别。我在[OpenGL wiki](http://www.opengl.org/wiki/Main_Page)中没有找到像样的东西（根本没有提到任何地方的*即时*性）。[Kurt Akelay 和 Pat Hanrahan](http://graphics.stanford.edu/courses/cs448a-01-fall/lectures/lecture14/system.2up.pdf)有一些很好的幻灯片；搜索“界面选择”。这些是值得信赖的，*相信*我；）

# c# - c# - 如何比较具有（á，í，ä）类似字符的两个字符串？

> ID：10039318
> 
> 赞同：-2
> 
> 时间：2012-04-06T05:00:06.737
> 
> 标签：c#

我需要比较 word 文档中的两个字符串 我计算出字母和数字值，但它无法比较包含一些特殊字符的字符串，例如 Máceres-Cartínez(á,í,ä) 我的代码没有考虑到这一点作为字符串出现。StreamWriter(fsf);

```
 swt.WriteLine("Startred on :" + DateTime.Now.ToString("yyyy/MM/dd/hh/mm/ss") + "\n");

    swf.WriteLine("Startred on :" + DateTime.Now.ToString("yyyy/MM/dd/hh/mm/ss") + "\n");

    foreach (string strPara in strParaValue)

      {
          string[] strAuthorsPart = strPara.Split('.');

          string[] strAuthorslist = strAuthorsPart[0].Split(',');

          string[] strAuthor = strAuthorslist[0].Split(' ');

          if (strSplitValue[0].Contains(strAuthor[0].Trim()))

         {

             swt.WriteLine(strAuthor[0] + "\t");

         }

              else

         {

             swf.WriteLine(strAuthor[0] + "\t");

         }

              swt.WriteLine("\r\n");

              swf.Flush();

          } 
```

请让我在这方面提出建议。

迪高

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T05:21:17.757

如果我正确理解了您的问题，那么在比较两个字符串时您想忽略[变音符号](http://en.wikipedia.org/wiki/Diacritics)，即`"Maceres"`应该匹配 `"Máceres"`。

如果这是正确的，最简单的解决方案是从两个字符串中*删除变音符号，**然后*比较它们。以下问题包含有关如何执行此操作的建议：

*   [如何从 .NET 中的字符串中删除变音符号（重音符号）？](https://stackoverflow.com/questions/249087/how-do-i-remove-diacritics-accents-from-a-string-in-net)

# ankhsvn - 如何根据 AnkhSVN 中的修订生成发行说明？

> ID：10039320
> 
> 赞同：2
> 
> 时间：2012-04-06T05:00:18.523
> 
> 标签：ankhsvn

我在 Visual Studio 2010 中使用 AnkhSVN。如何根据 AnkhSVN 中的修订生成发行说明？有什么方法可以将 Revision 的消息导入记事本和所有内容？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-16T03:29:39.187

您可以使用乌龟 SVN。

在 Tortoise SVN 中，有一个日志系统。这些日志包含有关您提交的文件的信息。因此，您可以复制此日志，然后进行一些格式化以使其看起来更好。

# reverse-proxy - 使用清漆缓存的 gzip 压缩

> ID：10039321
> 
> 赞同：1
> 
> 时间：2012-04-06T05:00:27.183
> 
> 标签：reverse-proxy, varnish, varnish-vcl

我正在尝试使用清漆缓存提供 gzip 压缩。但是，当我使用下面提到的清漆配置（default.vcl）将内容编码设置为 gzip 时。浏览器无法下载我将内容编码设置为 gzip 压缩的那些内容。

清漆配置文件：

```
backend default {
      .host = "127.0.0.1";
      .port = "9000";
}

backend socketIO {
      .host = "127.0.0.1";
      .port = "8083";
}

acl purge {
        "127.0.0.1";
        "192.168.15.0"/24;
}

sub vcl_fetch {
    /* If the request is for pictures, javascript, css, etc */
        if (req.url ~ "^/public/" || req.url ~ "\.js"){     
        unset req.http.cookie;      
        set beresp.http.Content-Encoding= "gzip";   
        set beresp.ttl = 86400s;
        set beresp.http.Cache-Control = "public, max-age=3600";
        /*set the expires time to response header*/
        set beresp.http.expires=beresp.ttl;     
                /* marker for vcl_deliver to reset Age: */
                set beresp.http.magicmarker = "1";
    }

    if (!beresp.cacheable) {
         return (pass);
    }
    return (deliver);
}
sub vcl_deliver {
    if (resp.http.magicmarker) {
        /* Remove the magic marker */
        unset resp.http.magicmarker;

        /* By definition we have a fresh object */
        set resp.http.age = "0";
    }

     if(obj.hits > 0) {
        set resp.http.X-Varnish-Cache = "HIT";
     }else {
        set resp.http.X-Varnish-Cache = "MISS";
     }

    return (deliver);
}

sub vcl_recv {
    if (req.http.x-forwarded-for) {
        set req.http.X-Forwarded-For =
            req.http.X-Forwarded-For ", " client.ip;
        } else {
        set req.http.X-Forwarded-For = client.ip;
        }
        if (req.request != "GET" &&
            req.request != "HEAD" &&
            req.request != "PUT" &&
            req.request != "POST" &&
            req.request != "TRACE" &&
            req.request != "OPTIONS" &&
            req.request != "DELETE") {
            /* Non-RFC2616 or CONNECT which is weird. */
            return (pipe);
        }
    # Pass requests that are not GET or HEAD
    if (req.request != "GET" && req.request != "HEAD") {
         return(pass);
    }        

    #pipe websocket connections directly to Node.js
    if (req.http.Upgrade ~ "(?i)websocket") {
        set req.backend = socketIO;
        return (pipe);
    }   

     # Properly handle different encoding types
        if (req.http.Accept-Encoding) {
        if (req.url ~ "\.(jpg|png|gif|gz|tgz|bz2|tbz|mp3|ogg|js|css)$") {
            # No point in compressing these
            remove req.http.Accept-Encoding;
        } elsif (req.http.Accept-Encoding ~ "gzip") {
            set req.http.Accept-Encoding = "gzip";
        } elsif (req.http.Accept-Encoding ~ "deflate") {
            set req.http.Accept-Encoding = "deflate";
        } else {
            # unkown algorithm
            remove req.http.Accept-Encoding;
        }
        }

    # allow PURGE from localhost and 192.168.15...
        if (req.request == "PURGE") {
                if (!client.ip ~ purge) {
                        error 405 "Not allowed.";
                }
                return (lookup);
        }
    return (lookup);
}

sub vcl_hit {
        if (req.request == "PURGE") {
                purge_url(req.url);
                error 200 "Purged.";
        }
}

sub vcl_miss {
        if (req.request == "PURGE") {
                purge_url(req.url);
                error 200 "Purged.";
        }
}

sub vcl_pipe {
     if (req.http.upgrade) {
         set bereq.http.upgrade = req.http.upgrade;
     }
 } 
```

响应标头：

```
Cache-Control:public, max-age=3600
Connection:keep-alive
Content-Encoding:gzip
Content-Length:11520
Content-Type:application/javascript
Date:Fri, 06 Apr 2012 04:53:41 GMT
ETag:"1330493670000--987570445"
Last-Modified:Wed, 29 Feb 2012 05:34:30 GMT
Server:Play! Framework;1.2.x-localbuild;dev
Via:1.1 varnish
X-Varnish:118464579 118464571
X-Varnish-Cache:HIT
age:0
expires:86400.000 
```

关于如何修复它以及如何使用 varnish 提供 gzip 压缩的任何建议。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T11:42:11.863

Varnish Cache 3.0 自动完成大部分的 Accept-Encoding 处理，你不应该弄乱它。

基本上，如果您希望 Varnish 压缩刚刚设置的对象`beresp.do_gzip`，`vcl_fetch`它会在将其存储到缓存中之前对其进行压缩。需要时会自动进行解压缩。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T05:19:33.550

内容长度似乎是错误的，请尝试取消设置。另外，为什么在 vcl_fetch 中使用 beresp 而不是 obj？

```
...
obj.http.Content-Encoding="gzip";
remove obj.http.Content-Length;
... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-11-08T16:02:12.843

检查并查看您是否使用 apache，并启用了 mod_deflate，尝试禁用它。

# django - 如何在我的项目中的应用程序中使用 django Admin 的过滤器

> ID：10039322
> 
> 赞同：0
> 
> 时间：2012-04-06T05:00:28.093
> 
> 标签：django, django-models, django-admin, django-templates, django-views

我试图找到一种方法在我的应用程序中使用提供 Django Admin 的过滤器，如您所知，只需在 admin.py 中添加“list_filter”即可进入 Admin，我们的结果可以被过滤，我想知道是否有是在我自己的项目中使用相同应用程序的方法

谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-07T03:07:40.727

您可以使用[ListView](https://docs.djangoproject.com/en/1.4/ref/class-based-views/#list-views)并将过滤器表单添加到上下文中。这不像“在管理类中添加一行”，但也不需要太多时间。

Django 在管理站点中有很多魔力，因为内置强大的管理站点是 Django 的杀手级功能之一。因此，它可以开箱即用，无需设置静态 url，并且只有很小的管理模块链接您的模型。但是所有这些魔法都不是孤立的，在大多数情况下不能在管理员之外使用。

# jquery - 如何在 jquery-plugin (imagemapster) 中等待用户交互？

> ID：10039329
> 
> 赞同：0
> 
> 时间：2012-04-06T05:01:09.580
> 
> 标签：jquery, jquery-plugins, imagemapster

我已经使用 jquery-plugin mapster 设置了我的图像映射

代码向我显示，点击了哪些国家（埃及为“1”，利比亚为“2”..）

```
 $(document).ready(function() {

    function geklickt (e){
    //alert(typeof e.key);     return string
    $('.showme').append(e.key+ ' ');
    }

    $('img').mapster({
    mapKey: 'ALT',
    stroke: true,
    strokeWidth: 2,
    strokeColor: 'ff0000' ,
    onConfigured: function(){
    //    howto set up loop for asking user here???
    } ,
    onClick: geklickt
    });
    }); 
```

我的问题：我想在不同国家的循环中询问用户，如下所示：“点击埃及”

```
 if (e.key == '1')
    {
    // message "Ok"
    // add one point
    }
    else
    {
    // message "NOT Ok"
    } 
```

“点击突尼斯” ...

我不知道如何编写这个循环，以便向用户询问第一个国家，然后程序等到用户单击一个国家，然后询问用户第二个国家....

谢谢

库尔特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-08T05:20:08.527

你不需要循环。JavaScript 适合于事件驱动的操作，而不是“等待用户输入”。

使用它们的预定义键保留国家名称的数组（或对象），并使用这样的结构来提示用户：

```
<div>Click on <span id="countryname"></span></div> 
```

然后使用javascript根据当前键动态更改显示的名称。

示例 JS（不完整，但有必要的信息）：

```
var countryArray, currentKey;
countryArray = [];
/*
 * populate countryArray using keys like this
 * countryArray[key] = "Name";
 */
function setCountry(key){
    $("#countryname").text(countryArray[key]);
}

currentKey = 0; //can be set randomly or however you'd like
setCountry(currentKey);

function geklickt (e){
    if(currentKey == e.key){
        //success
        //add one point
        currentKey = newKey; //however you want to set it
        setCountry(currentKey);
    } else {
        //failure
        //message: "NOT OK"
    }
} 
```

# ios - 如何在 GLKViewController iPhone OpenGLES 中设置背景图像？

> ID：10039332
> 
> 赞同：2
> 
> 时间：2012-04-06T05:01:30.050
> 
> 标签：ios, image, opengl-es, background

我在 iPhone 上使用 OpenGL 画一条线。我用`GLView`和`GLKView`代表来画线。但是现在我想将背景图像设置为`GLKViewController`，并且在背景图像上，我想画线。我尝试使用 设置背景图像`UIImageView`，但图像出现在 ( `GLKView`) 画线上方。

如何将背景图像设置为`GLKViewController`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:20:56.340

最简单的方法应该是添加带有背景图像的附加视图（例如您提出的 - 但您需要将其设置在 OpenGL 视图后面）。尝试这个：

```
[RootViewController.view addSubview: BackgroundView belowSubview: OpenGLView];
OpenGLView.opaque = NO; 
```

但这会带来一些 FPS 损失（出于性能原因，Apple 建议使用不透明的 OpenGL 视图）。更正确的方法是通过 OpenGL 作为全屏四边形绘制背景。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-15T12:03:56.427

我只想声明，接受的答案是一个非常糟糕的答案......即使在较新的设备（iPhone 5、iPad 2 和更新的设备）上关闭不透明，您也会几乎立即失去 20fps。性能损失是可怕的，不应掉以轻心。

您可以在 OpenGL 中设置背景并保持不透明。将 UIImage 转换为 OpenGL 纹理并进行渲染。根据您的 OpenGL 环境，这可以通过多种方式轻松完成。

# iphone - 获取两个位置之间的路线方向

> ID：10039334
> 
> 赞同：0
> 
> 时间：2012-04-06T05:01:40.767
> 
> 标签：iphone, objective-c, ios, google-maps, google-maps-api-3

我必须获得路由方向，即我提供的两个位置之间的所有经纬度位置。我知道下面的代码适用于此并在响应中提供 js 文件。但此代码仅在两个提供的位置不远时才有效。但是如果到目前为止假设在印度和澳大利亚之间有两个位置，那么这将是行不通的，并且在 js 文件中没有给出任何内容。我的代码如下。

```
[NSString* str1 = [NSString stringWithFormat:@"%f,%f", loc1.latitude, loc1.longitude\];
    NSString* str2 = [NSString stringWithFormat:@"%f,%f", loc2.latitude, loc2.longitude\];

    NSString* urlStr = [NSString stringWithFormat:@"http://maps.google.com/maps?output=dragdir&saddr=%@&daddr=%@&output=dragdir", str1, str2\];] 
```

我该怎么办，或者我遗漏了任何东西或需要任何过滤。请帮助我。

- 提前感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T05:08:46.133

首先在 maps.google.com-> getdirection 中检查并检查您的位置，它没有响应，因为在印度和澳大利亚之间，如果您只检查给出正确路径的陆地联合国家，则没有物理根，因此可能相同iOS中的案例..

# c# - 具有十进制输入改进的文本框

> ID：10039338
> 
> 赞同：-1
> 
> 时间：2012-04-06T05:02:33.210
> 
> 标签：c#, winforms, textbox

我有一个获取十进制值的文本框说`10500.00`问题是我拥有它的方式，当您输入一个值然后输入小数时，它不允许您退格或清除文本框以输入新值..它只是卡住了.. 我试图将值设置回 0.00，但我认为我把它放在了错误的地方，因为它不会改变它。这是我的代码

```
 private void txtTransferAmount_KeyPress(object sender, KeyPressEventArgs e)
        {
            bool matchString = Regex.IsMatch(textBoxTransfer.Text.ToString(), @"\.\d\d");
            if (matchString)
            {
                e.Handled = true;
            }

            if (!char.IsControl(e.KeyChar) && !char.IsDigit(e.KeyChar) && e.KeyChar != '.')
            {
                e.Handled = true;
            }

            // only allow one decimal point
            if (e.KeyChar == '.' && (sender as TextBox).Text.IndexOf('.') > -1)
            {
                e.Handled = true;
            }
        } 
```

您建议进行什么类型的更改，以便我可以退格或清除 texbox 并输入新值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:36:43.603

最简单的方法是：

```
if (!char.IsControl(e.KeyChar) && !char.IsDigit(e.KeyChar) && e.KeyChar != '.' && e.KeyChar != '\b')
{
    e.Handled = true;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T05:42:05.077

您可以捕获 Backspace (BS) 字符 (8)，如果找到，请将句柄设置为 false。

您的代码可能如下所示...

```
....
// only allow one decimal point
if (e.KeyChar == '.' && (sender as TextBox).Text.IndexOf('.') > -1)
{
    e.Handled = true;
}

if (e.KeyChar == (char)8)
    e.Handled = false; 
```

建议让您的代码更直观地解释您的事件处理程序正在做什么，您可能希望创建一个 var 来暗示您正在实现的逻辑。就像是...

```
private void txtTransferAmount_KeyPress(object sender, KeyPressEventArgs e)
{
    bool ignoreKeyPress = false; 

    bool matchString = Regex.IsMatch(textBoxTransfer.Text.ToString(), @"\.\d\d");

    if (e.KeyChar == '\b') // Always allow a Backspace
        ignoreKeyPress = false;
    else if (matchString)
        ignoreKeyPress = true;
    else if (!char.IsControl(e.KeyChar) && !char.IsDigit(e.KeyChar) && e.KeyChar != '.')
        ignoreKeyPress = true;
    else if (e.KeyChar == '.' && (sender as TextBox).Text.IndexOf('.') > -1)
        ignoreKeyPress = true;            

    e.Handled = ignoreKeyPress;
} 
```

# c# - 在 XNA 中获得支持的屏幕分辨率？

> ID：10039339
> 
> 赞同：3
> 
> 时间：2012-04-06T05:02:49.097
> 
> 标签：c#, .net, xna

如何在 XNA 中获得支持的屏幕分辨率？就像您在 Windows 中更改屏幕分辨率时一样，它不会为您提供所有可能选择的列表，而是只为您提供其中的一些选择。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-09-19T04:19:53.350

只需使用这个：

```
foreach (DisplayMode mode in GraphicsAdapter.DefaultAdapter.SupportedDisplayModes) {
    //mode.whatever (and use any of avaliable information)
} 
```

但它会给你很少的重复，因为它也考虑到刷新率，所以你可能会包括那个 aswel，或者做一些过滤。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-06T08:49:37.237

我不是最新的 XNA，但我不认为有一个快速和简单的功能。有一种使用旧 WinForms API 的方法，但我个人不想在其他应用程序中链接它，最简单的方法是使用本机函数。

首先，定义将使用的本机结构：

```
[StructLayout(LayoutKind.Sequential)]
internal struct DEVMODE
{
    private const int CCHDEVICENAME = 0x20;
    private const int CCHFORMNAME = 0x20;
    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 0x20)]
    public string dmDeviceName;
    public short dmSpecVersion;
    public short dmDriverVersion;
    public short dmSize;
    public short dmDriverExtra;
    public int dmFields;
    public int dmPositionX;
    public int dmPositionY;
    public int dmDisplayOrientation;
    public int dmDisplayFixedOutput;
    public short dmColor;
    public short dmDuplex;
    public short dmYResolution;
    public short dmTTOption;
    public short dmCollate;

    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 0x20)]
    public string dmFormName;

    public short dmLogPixels;
    public int dmBitsPerPel;
    public int dmPelsWidth;
    public int dmPelsHeight;
    public int dmDisplayFlags;
    public int dmDisplayFrequency;
    public int dmICMMethod;
    public int dmICMIntent;
    public int dmMediaType;
    public int dmDitherType;
    public int dmReserved1;
    public int dmReserved2;
    public int dmPanningWidth;
    public int dmPanningHeight;
} 
```

我们还需要定义我们将使用的两个本机函数：

```
[DllImport("user32.dll")]
private static extern bool EnumDisplaySettings(string lpszDeviceName, int iModeNum, ref DEVMODE lpDevMode);

[DllImport("user32.dll")]
private static extern int GetSystemMetrics(int nIndex); 
```

最后，我们列出所有屏幕分辨率的函数和一个获取当前屏幕分辨率的函数：

```
public static List<string> GetScreenResolutions()
{
    var resolutions = new List<string>();

    try
    {
        var devMode = new DEVMODE();
        int i = 0;

        while (EnumDisplaySettings(null, i, ref devMode))
        {
            resolutions.Add(string.Format("{0}x{1}", devMode.dmPelsWidth, devMode.dmPelsHeight));
            i++;
        }

        resolutions = resolutions.Distinct(StringComparer.InvariantCulture).ToList();
    }
    catch (Exception ex)
    {
        Console.WriteLine("Could not get screen resolutions.");
    }

    return resolutions;
}

public static string GetCurrentScreenResolution()
{
    int width = GetSystemMetrics(0x00);
    int height = GetSystemMetrics(0x01);

    return string.Format("{0}x{1}", width, height);
} 
```

# ruby - 带有“看门狗”的 Ruby 线程

> ID：10039340
> 
> 赞同：1
> 
> 时间：2012-04-06T05:03:17.317
> 
> 标签：ruby, multithreading, sockets, io

我正在实现一个 ruby​​ 服务器来处理从 GPRS 模块创建的套接字。问题是当模块掉电时，没有迹象表明插座已关闭。

我正在做线程来处理同一个服务器的多个套接字。我要问的是：有没有办法在线程内使用计时器，在每次套接字输入后重置它，如果它达到超时，关闭线程？我在哪里可以找到有关此的更多信息？

编辑：未检测到套接字关闭的代码示例

```
require 'socket'

server = TCPServer.open(41000)
loop do
    Thread.start(server.accept) do |client|
        puts "Client connected"

        begin
            loop do
                line = client.readline

                open('log.txt', 'a') { |f|
                    f.puts line.strip
                }
            end
        rescue
            puts "Client disconnected"
        end
    end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:12:10.903

我认为你需要一个心跳机制。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-23T15:20:11.840

只需检查标准 API 超时：

```
require 'timeout'
status = Timeout::timeout(3){sleep(1)}
puts status.inspect
status = Timeout::timeout(1){sleep(2)} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T09:22:00.213

猜测一下，您的套接字莫名其妙地关闭了，因为您没有捕获在远程端关闭它们时引发的异常。

您需要将连接处理程序包装在异常捕获块中。

在不知道您使用的是什么模块/模型的情况下，我只会捏造它并说您有一个`process_connection`例程。所以你需要做这样的事情：

```
def process_connection(conn)
    begin
        # do stuff
    rescue Exception => e
        STDERR.print "Caught exception #{e}: #{e.message}\n#{e.backtrace}\n"
    ensure
        conn.close
    end
end 
```

这将捕获所有异常并将它们转储到带有堆栈跟踪的 stderr。从那里您可以看到导致它们的原因，并可能在其他地方更优雅地处理它们。

# networking - 第 4 层防火墙功能

> ID：10039349
> 
> 赞同：2
> 
> 时间：2012-04-06T05:04:53.920
> 
> 标签：networking, ip, protocols, firewall

为什么第 4 层防火墙（可以查看直到传输层的所有协议标头的设备）不能阻止所有 ICMP 流量？

ICMP是IP层协议。为什么我们不能使用四层防火墙阻止所有ICMP流量。不能通过阻止IP地址和端口号来完成吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T10:05:57.487

要阻止它，请阻止`01`ICMP [http://en.wikipedia.org/wiki/List_of_IP_protocol_numbers编号的 ip 协议](http://en.wikipedia.org/wiki/List_of_IP_protocol_numbers)

端口号是4层的概念，ICMP是3层的。

# html - 如何在没有 mousemove 事件（jQuery）的情况下在 mousedown 上触发自定义光标更改

> ID：10039355
> 
> 赞同：6
> 
> 时间：2012-04-06T05:06:12.500
> 
> 标签：html, jquery, css, mouse-cursor

## 试图改变光标

我正在尝试制作一个可拖动的可滚动图像，因此当变量设置为缩放模式时，我试图在图像上更改光标，这样我就可以获得良好的可用性。我发现光标只有在我点击“.page”后才会改变，然后移动鼠标，而不是像我点击页面一样。这是一些示例代码：

```
$(".page").on("mousedown", function (evt) {
    if(model.zoomMode){
        $('.page').css('cursor','url("img/hand_closed.gif"),auto');
    }       
}).on("mouseup", function (evt) {
    if(model.zoomMode){
        $('.page').css('cursor','url("img/hand_open.gif"),auto');
    }
}); 
```

## 另一种更依赖 CSS 的方法

当我使用类来实现相同的效果时，这似乎也会发生。IE。缩放模式在 .page 对象之外添加一个类，然后 javascript 是：

```
$(".page").on("mousedown", function (evt) {
    $('.page').addClass('mouseDown');
}).on("mouseup", function (evt) {
    $('.page').removeClass('mouseDown');
}); 
```

然后在 CSS 中：

```
.zoom .page:hover{
    cursor:url(../img/hand_open.gif),auto;
}

.zoom .page.mouseDown:hover{
    cursor:url(../img/hand_closed.gif),auto;
} 
```

我正在使用 chrome 18 进行测试。有人知道在不移动鼠标的情况下触发 CSS 光标应用的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:08:52.760

简短的回答：没有。

长答案：不，对不起。

（[来源](https://stackoverflow.com/questions/5738767/jquery-css-force-cursor-to-change-on-request-not-only-when-mouse-moves-after)）

# c - C：如何根据编译器类型有条件地编译某些部分代码？

> ID：10039358
> 
> 赞同：0
> 
> 时间：2012-04-06T05:06:31.953
> 
> 标签：c, conditional-compilation

我想根据编译器类型有条件地编译代码的某些部分是否有任何宏？

像这样：

```
#if defined (COMPILER_TYPE e.g. GCC)
// Compile this
#elif defined (COMPILER_TYPE e.g. Visual Studio C Compiler)
// Else this
#endif 
```

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T05:12:37.880

`__GNUC__`您可以检查是否为 GCC 和`_MSC_VER`MSVC定义了这些宏。

# spotify - Spotify 应用程序 API 内存泄漏

> ID：10039359
> 
> 赞同：2
> 
> 时间：2012-04-06T05:06:39.827
> 
> 标签：spotify

我正在构建一个应用程序，让用户可以根据标签浏览艺术家的网格。所以他们选择一个标签，查看该标签的约 30 位艺术家，并且可以快速更改标签并查看新艺术家。

对于每个艺术家，我抓取他们的前 5 首曲目并将它们放入一个临时播放列表中，该列表使用 Track Player 视图（带有播放按钮的方形艺术）显示。

但是，当用户从一个标签浏览到另一个标签时，我看到了大量的内存泄漏。尽管用户浏览离开页面并且 DOM 被破坏，Spotify 似乎仍将所有旧的临时播放列表保留在内存中。即使我的应用程序完全关闭，播放列表也会保留在内存中（我知道，因为如果我记下临时播放列表 uri，我仍然可以在下次加载应用程序时访问它）。

这对我来说似乎不正确。随着用户查看更多页面，内存使用量不断增加。当然，我认为临时播放列表是罪魁祸首，但也可能是别的原因。

1) 发布临时播放列表的协议是什么？如果我知道我不再需要它们，我可以手动销毁它们吗？

2）有没有更有效的方法来做我想做的事（显示一堆与临时播放列表相关的曲目播放器）？

谢谢

彼得

# c++ - 从 C++ 和 Objective-C++ 链接到 Cocoa 框架

> ID：10039360
> 
> 赞同：2
> 
> 时间：2012-04-06T05:06:49.160
> 
> 标签：c++, objective-c, cocoa, linker

我正在尝试在基本的 Objective-C++ 文件中使用 Cocoa 框架（具体来说是 MultitouchSupport），但我不断收到未定义的符号错误，好像 g++ 应该具有与 gcc 不同的链接器标志。

我的最终目标是将 C++ 网络库与我从这里获得的一些基本 Objective-C 代码集成：http: [//steike.com/code/multitouch/](http://steike.com/code/multitouch/)。

当我运行它来编译原始代码时，它工作正常：

```
gcc -F/System/Library/PrivateFrameworks -framework MultitouchSupport test.m -o test -std=c99 
```

但是当我将文件重命名为`test.mm`，以便以后可以包含和引用 C++ 文件时，以下内容不起作用：

```
g++ -F/System/Library/PrivateFrameworks -framework MultitouchSupport test.mm -o test 
```

并给我这些错误：

```
Undefined symbols for architecture x86_64:
"MTDeviceCreateDefault()", referenced from:
    _main in ccq0vzuM.o
"MTRegisterContactFrameCallback(void*, int (*)(int, Finger*, int, double, int))", referenced from:
    _main in ccq0vzuM.o
"MTDeviceStart(void*, int)", referenced from:
    _main in ccq0vzuM.o
ld: symbol(s) not found for architecture x86_64
collect2: ld returned 1 exit status
make: *** [testpp] Error 1 
```

我需要做什么才能让这个 Objective-C++ 文件看到我正在寻找的框架，以便我可以使用 C++？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:14:24.980

在声明这三个函数的头文件中，是否有一个`extern "C"`包装它们的块？像这样的东西？

```
#ifdef __cplusplus
extern "C" {
#endif

// function declarations here

#ifdef __cplusplus
}
#endif 
```

如果不是：您可以在头文件中添加一个，或者在该`#import`头文件周围添加一个类似的包装器。

# unicode - 如何在 iOS 和 Android 上以自上而下的语言（日语、中文等）显示文本？

> ID：10039364
> 
> 赞同：2
> 
> 时间：2012-04-06T05:07:16.790
> 
> 标签：unicode, fonts, localization

如何在 iOS 和 Android 上以自上而下的语言（日语、中文等）显示文本？

对于 iOS，我发现了这个： [https](https://github.com/novi/LTCoreText) ://github.com/novi/LTCoreText ... iOS 的任何其他替代方案？

对于 Android，我找不到任何库/框架。有人知道吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-09-11T14:10:05.933

您可以使用自定义视图在其上垂直绘制文本，就像下面的屏幕截图一样，这些是传统的蒙古文字。

```
public class DrawTextView extends View {

    @Override
    protected void onDraw(Canvas canvas) {

    .....
    }
} 
```

![在此处输入图像描述](../Images/20c4777e061d46500620150a2116ba68.png)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-04-06T12:05:14.630

简单的回答：不要。中文和日文只在传统书籍中自上而下地书写。计算机应用程序和网站是从左到右编写的，就像欧洲语言一样。参见例如[http://www.asahi.com/](http://www.asahi.com/)（日本著名报纸）和[http://xinhuanet.com/](http://xinhuanet.com/)（中国著名通讯社）。即使是中国的现代书籍也是从左到右印刷的（在日本还没有）。我所知道的唯一需要自上而下打印的文字是[传统的蒙古文字](http://www.omniglot.com/writing/mongolian.htm)——这并不重要，因为现在蒙古文是用西里尔字母书写的。

# objective-c - iOS Xcode 键盘完成按钮功能

> ID：10039367
> 
> 赞同：7
> 
> 时间：2012-04-06T05:07:23.560
> 
> 标签：objective-c, ios, xcode, keyboard

我只是无法使“完成”按钮退出键盘。

我在我的 controller.h 文件中使用了它

```
- (IBAction)textFieldDoneEditing:(id)sender; 
```

这适用于我的 controller.m 文件

```
- (IBAction)textFieldDoneEditing:(id)sender {
  [sender resignFirstResponer];
} 
```

我在连接 .xib 部分时搞混了。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-04-06T05:13:38.090

使控制器成为 IB 中的 UITextField/UITextView 或类似代码的委托`textField.delegate = self;`

已编辑：为此，您需要将控制器声明为 UITextFieldDelegate/UITextViewDelegate 的代表

```
@interface Controller : <UITextFieldDelegate> { ... 
```

，然后重写方法：

```
-(BOOL)textFieldShouldReturn:(UITextField *)textField{
    [textField resignFirstResponder];
    return YES;
} 
```

对于 UITextField 和

```
-(BOOL)textViewShouldEndEditing:(UITextView *)textView{
    [textView resignFirstResponder];
    return YES;
} 
```

对于 UITextView

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T05:14:56.457

在您的 .xib 中，右键单击您的文本视图，拖动到“文件的所有者”，然后单击“委托”。现在应该工作吗？

编辑：哎呀，对不起，我是个白痴，照其他人说的做。如果您不知道如何在代码中设置委托，您可以在 IB 中按照我的方式进行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-19T08:27:06.383

让我做我的第一个贡献：如果您有多个文本字段，请将它们分组到 @property（强，非原子）

*。H

```
@property (strong, nonatomic) IBOutletCollection(UITextField) NSArray *collectingData; 
```

*.m

```
-(BOOL)textFieldShouldReturn:(UITextField *)boxes
    {
        for (UITextField *boxes in collectingData) {
        [boxes resignFirstResponder];
    }
    return YES;

} 
```

# blackberry - 黑莓 - 设备 SDK 版本信息

> ID：10039369
> 
> 赞同：0
> 
> 时间：2012-04-06T05:07:31.750
> 
> 标签：blackberry, sdk

如何找到我的黑莓的 sdk 版本？

我有一个黑莓 8520 设备。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:18:23.373

转到`Options - About`您的设备上。

操作系统版本等于 SDK 版本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T05:19:08.460

黑莓8520使用OS5，不能*正式*升级到OS6或OS7。所以 8520 的 SDK 将是[v5.0](http://us.blackberry.com/developers/javaappdev/javasdk5.jsp)

# c - 另一个 malloc/free 困境

> ID：10039378
> 
> 赞同：0
> 
> 时间：2012-04-06T05:09:20.607
> 
> 标签：c, pointers, malloc, free

我已经 6 年多没用过 C 或 C++ 了，有点生疏了。我正在为图形遍历算法编写一些快速测试代码。该代码接受邻接列表样式输入。但是我遇到了`free`/的一些问题`malloc`。

我的代码有两个问题：

1.  当我在没有`free`和没有代码的情况下运行代码`getchar`时，当我使用 VC++ cntrl-f5 时，代码会挂起。这在我使用`getchar()`. 有谁知道为什么？

2.  当我免费运行代码时，代码挂起。我试图调试代码，它完全挂在`free`语句上。关于如何解决这个问题的任何建议？

另外，如果我对这段代码做任何危险的事情，请告诉我。头文件被省略。

```
 void * s_malloc(size_t size){
    void * ret_pntr = malloc(sizeof(size));
    if (ret_pntr == NULL){
        printf ("error");
        exit(1);
    }
    return (void *)malloc(sizeof(size));
  }

  void initialize_graph(graph * G1, int num_vertices){
    int i = 0 ;
    G1->num_vertices = num_vertices;
    G1->node_list = (node**)s_malloc(sizeof(node*)*num_vertices);
    for (i = 0; i < num_vertices; i ++){
        G1->node_list[i] = (node *)s_malloc(sizeof(node));
    }
  }

  void free_everything(graph * G1){
    int i = 0;
    node * ref = NULL;
    for (i = 0; i < G1->num_vertices; i++){
        ref = G1->node_list[i];
        recursive_remove(ref);
    }
    free(G1->node_list);
  }

  void recursive_remove(node * ref){
    if (ref == NULL){
        return;
    }
    else{
        recursive_remove(ref->next);
    }
    free(ref);
  }

  int main(){
    int i = 0;
    graph * G1 = (graph*)s_malloc(sizeof(graph));
    G1->init = &initialize_graph;
    G1->init(G1, 10);
    G1->remove = &free_everything;
    G1->node_list[0]->value = 1;
    G1->node_list[0]->next = (node*)s_malloc(sizeof(node));
    G1->node_list[0]->next->value = 2;
    G1->node_list[0]->next->next = NULL;
    G1->node_list[1]->value = 10;
    printf("%d\n", G1->node_list[0]->next->value);
    printf("%d\n", G1->node_list[1]->value);
    G1->remove(G1);
    free(G1);
    getchar();
   } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-06T05:31:03.383

立即跳出来的一件事是

```
void * s_malloc(size_t size){
  void * ret_pntr = malloc(sizeof(size));
  if (ret_pntr == NULL){
    printf ("error");
    exit(1);
  }
  return (void *)malloc(sizeof(size));
} 
```

您分配了两次，泄漏了第一次分配，并且没有检查第二次分配的结果。另一个是你的`malloc`电话应该是

```
 malloc(size) 
```

不是

```
 malloc(sizeof(size)) 
```

因为在您当前的代码中，您的所有内存分配不足（每次分配一次只会给您 4 个字节），您的访问会全部结束......我很惊讶执行实际上使它成为`getchar()`or `free()`。

尚不清楚为什么您在使用 VC++ 时尝试在 C 中模拟 OOP。如果您使用 STL 容器在 C++ 中重写它来保存您的节点并使用索引而不是指针，我认为您的很多问题都会消失。但是现在为你调试这个烂摊子对任何人来说都不好玩。

更好的解决方案是使用现有的图形库，例如[Boost Graph](http://www.boost.org/doc/libs/1_49_0/libs/graph/doc/index.html)

# c++ - 如何使用 getline 和 stringstream 解析格式化的日期和时间输入？

> ID：10039383
> 
> 赞同：3
> 
> 时间：2012-04-06T05:09:45.553
> 
> 标签：c++, parsing, stringstream, getline

我只在 C++ 上工作了大约一个月。我不太了解它是如何工作的，但是我需要为学校编写一个程序。我使用了一个 void 函数，到目前为止它似乎正在工作，但我不知道接下来要做什么我在第 44 行迷路了，我不知道如何让它工作，有没有办法从某个字符串？如果值在两个字符串中，我将如何确定哪个值？这是我的任务：

> 停车库收取 2.00 美元的最低停车费，最多可停放三个小时。超过三个小时，车库每小时或部分每小时额外收费 0.50 美元。任何给定 24 小时期间的最高费用为 10.00 美元。停车超过 24 小时的人每天将支付 8.00 美元。
> 
> 编写一个计算并打印停车费的程序。程序的输入是汽车进入停车场的日期和时间，以及同一辆车离开停车场的日期和时间。两个输入的格式为 YY/MM/DD hh:mm

这是我到目前为止编写的代码：

```
#include <iostream>
#include <fstream>
#include <iomanip>
#include <string>
#include <cmath>
#include <algorithm>
#include <sstream>
using namespace std;

stringstream ss;
string enter_date;
string enter_time;
string exit_date;
string exit_time;
int calculatecharge;
int num;
int i;
int year;
int month;
int ddmmyyChar;
int dayStr;
string line;
int x;

void atk() 
{
    getline (cin,line);             // This is the line entered by the user
    stringstream  ss1(line);        // Use stringstream  to interpret that line
    ss >> enter_date >> enter_time;
    stringstream  ss2(enter_date);  // Use stringstream  to interpret date
    string year, month, day;
    getline (ss2, year, '/');
}

int main()
{
    cout << "Please enter the date and time the car is entering "<< endl
         << "the parking garage in the following format: YY/MM/DD hh:mm"<< endl;
    atk();
    cout << "Please enter the date and time the car is exiting "<< endl
         << "the parking garage in the following format: YY/MM/DD hh:mm"<< endl;
    atk();
    if (hr - hr < 3)
        cout<<"Parking fee due: $2.00" << endl; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T06:04:32.760

> 编写一个计算并打印停车费的程序。

这是我们计划的目标。基本上，这就是输出。

> 程序的输入是汽车进入停车场的日期和时间，以及同一辆车离开停车场的日期和时间。两个输入的格式为 YY/MM/DD hh:mm

因此，我们需要某种方式将作为字符串输入的日期格式转换为*时差*。您可以将时间存储在 中`int`，它表示停车期间经过的分钟数（我选择分钟，因为这是输入的最小时间段）。这里的挑战是将字符串解析成这个整数。

你可以写一个这样的函数：

```
int parseDate( std::string dateStr )
{
    // Format: YY/MM/DD hh:mm
    int year  = atoi( dateStr.substr( 0, 2 ).c_str() );
    int month = atoi( dateStr.substr( 3, 2 ).c_str() );
    int day   = atoi( dateStr.substr( 6, 2 ).c_str() );
    int hour  = atoi( dateStr.substr( 9, 2 ).c_str() );
    int min   = atoi( dateStr.substr( 12, 2 ).c_str() );

    // Now calculate no. of mins and return this
    int totalMins = 0;
    totalMins += ( year * 365 * 24 * 60 ); // Warning: may not be accurate enough
    totalMins += ( month * 30 * 24 * 60 ); // in terms of leap years and the fact
    totalMins += ( day * 24 * 60 );        // that some months have 31 days
    totalMins += ( hour * 60 );
    totalMins += ( min );

    return totalMins;
} 
```

小心！我在这里的功能只是一个说明，并没有考虑到闰年和不同月份长度等细微之处。你可能需要改进它。重要的是要认识到它试图获取一个字符串并返回自 year 以来经过的分钟数`'00`。这意味着我们只需从两个日期字符串中减去两个整数即可找到经过的时间：

```
int startTime = parseDate( startDateString );
int endTime   = parseDate( endDateString );
int elapsedTime = endTime - startTime; // elapsedTime is no. of minutes parked 
```

这可能是问题中最难的部分，一旦你解决了这个问题，剩下的就应该更简单了。我再给你一些提示：

> 停车库收取 2.00 美元的最低停车费，最多可停放三个小时。

基本上只是一个统一费率：无论如何，描述成本的输出变量应该至少等于`2.00`.

> 超过三个小时，车库每小时或部分每小时额外收费 0.50 美元。

算出过去三个小时过去的小时数 -减去`180`。`elapsedTime`如果这大于`0`，则将其除以`60`并将结果存储在 a 中`float`（因为它不一定是整数结果），称为`excessHours`。用于`excessHours = floor( excessHours ) + 1;`四舍五入此数字。现在乘以`0.5`; 这是额外的费用。（尝试理解为什么这在数学上有效）。

> 任何给定 24 小时期间的最高费用为 10.00 美元。停车超过 24 小时的人每天将支付 8.00 美元。

我会把这留给你来解决，因为这毕竟是家庭作业。希望我在这里提供了足够的信息，让您了解需要做的事情的要点。这个问题也有很多可能的方法，这只是一种，可能是也可能不是“最好的”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T05:59:00.047

首先，由于日期字符串和时间字符串都是连续的（不包​​含空格），因此您不需要使用 stringstream 来解析该行。您可以像这样读取日期和时间：

```
cin >> enter_date >> enter_time;
cin >> exit_date >> exit_time; 
```

现在您需要将这些字符串转换为实际的日期和时间。由于两者的格式都是固定的，您可以编写如下内容：

```
void parse_date(const string& date_string, int& y, int& m, int& d) {
  y = (date_string[0] - '0')*10 + date_string[1] - '0'; // YY/../..
  m = (date_string[3] - '0')*10 + date_string[4] - '0'; // ../mm/..
  d = (date_string[6] - '0')*10 + date_string[7] - '0'; // ../../dd
} 
```

当然，这段代码有些难看，可以用更好的方式编写，但我相信这种方式更容易理解。有了这个函数，如何编写这个函数应该很明显：

```
void parse_time(const string& time_string, int& h, int &m); 
```

现在您已经解析了日期和时间，您需要实现一个减去两个日期的方法。实际上，您关心的是从进入日期时间到退出日期时间四舍五入的小时数。我在这里建议的是，您将日期从某个初始时刻（例如 00/01/01）转换为天数，然后减去这两个值。然后将两个时间转换为自 00:00 以来的分钟数，然后再次减去它们。这不是特定于语言的，所以我相信这些提示应该足够了。再次使用一些内置库可以更轻松地完成，但我认为这不是您分配的想法。

将小时数四舍五入后，您实际上需要做的就是执行语句中的规则。这将只需要几个如果，实际上很容易。

希望这可以帮助。我故意不给出更详细的解释，以便您可以考虑一些事情。毕竟这是家庭作业，旨在让您思考如何去做。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-09-17T03:01:12.357

您不需要执行单独的输入读取和解析操作。您可以通过引用传递必要的变量，并使用`stringstream`. 我会使用一个结构来存储日期和时间，并`operator-`使用一个算法来减去两个日期/时间值。这是我的做法：

```
#include <iostream>
#include <sstream>

using namespace std;

struct DateTime {
    // Variables for each part of the date and time
    int year, month, day, hour, minute;

    // Naive date and time subtraction algorithm
    int operator-(const DateTime& rval) const {
        // Total minutes for left side of operator
        int lvalMinutes = 525600 * year
                        + 43200 * month
                        + 1440 * day
                        + 60 * hour
                        + minute;

        // Total minutes for right side of operator
        int rvalMinutes = 525600 * rval.year
                        + 43200 * rval.month
                        + 1440 * rval.day
                        + 60 * rval.hour
                        + rval.minute;

        // Subtract the total minutes to determine the difference between
        // the two DateTime's and return the result.
        return lvalMinutes - rvalMinutes;
    }
};

bool inputDateTime(DateTime& dt) {
    // A string used to store user input.
    string line;
    // A dummy variable for handling separator characters like "/" and ":".
    char dummy;

    // Read the user's input.
    getline(cin, line);
    stringstream lineStream(line);

    // Parse the input and store each value into the correct variables.
    lineStream >> dt.year >> dummy >> dt.month >> dummy >> dt.day >> dummy 
               >> dt.hour >> dummy >> dt.minute;

    // If input was invalid, print an error and return false to signal failure
    // to the caller.  Otherwise, return true to indicate success.
    if(!lineStream) {
        cerr << "You entered an invalid date/time value." << endl;
        return false;
    } else
        return true;
} 
```

从这里开始，在`main()`函数中，声明两个`DateTime`结构，一个用于进入时间，一个用于退出时间。然后读入两者`DateTime`，从退出时间中减去进入时间，并使用结果生成正确的输出。

# javascript - 如何使用要获取并作为参数传递的元素的 id 在元素中查找元素？

> ID：10039386
> 
> 赞同：0
> 
> 时间：2012-04-06T05:10:18.033
> 
> 标签：javascript, jquery

我一直在[这里](https://stackoverflow.com/questions/7386100/how-to-find-an-element-within-an-element)，因此发现这里的这段代码

```
var node_exists=$(treeselector).find("li[id^='someid']"); 
```

其中 treeselector 是包含要搜索的元素的元素的选择器。这工作得很好。

但是，当在 id^='someid' 部分中，我尝试将 'someid' 更改为包含 id 的某个变量，然后它停止工作。

```
var someid='someid'
var node_exists=$(treeselector).find("li[id^=someid]"); 
```

当在触发 this 的函数中收到参数时，我还尝试连接单引号。我认为这可能与**li[id^='someid']**部分周围的双引号有关。关于如何使这项工作的任何想法？

干杯！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:13:23.440

连接：

```
var someVar = 'id1';
var node_exists=$(treeselector).find("li[id^="+someVar+"]"); 
```

# ruby-on-rails - 为 Google Calendar API 创建 OAuth 连接

> ID：10039391
> 
> 赞同：0
> 
> 时间：2012-04-06T05:11:34.363
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, oauth, google-api

我正在使用这个基于[https://github.com/oauth/oauth-ruby](https://github.com/oauth/oauth-ruby) 构建的gem [https://github.com/unixcharles/google_calendar_api_v2](https://github.com/unixcharles/google_calendar_api_v2)

在客户端类中，它创建如下连接：

```
 def initialize(consumer_key, consumer_secret, token, token_secret)
    consumer = OAuth::Consumer.new(consumer_key, consumer_secret, {
      :site               => "https://www.google.com",
      :scheme             => :header
    })
    @connection = OAuth::AccessToken.new(consumer,token, token_secret)

    @calendars = Calendar.new(@connection)
  end 
```

对于 consumer_key，我是否将 Google API 控制台列出的内容列为“客户端 ID”？对于 consumer_secret，我是否将 Google API 控制台列出的内容列为“客户端密码”？我知道令牌是我在 OAuth 身份验证后得到的。我假设我将 token_secret 设置为 "" ？

这就是我正在做的事情，我不断得到：

```
"GoogleCalendarApiV2::AuthenticationError (GoogleCalendarApiV2::AuthenticationError):" 
```

当我打电话时：

```
 client = GoogleCalendarApiV2::Client.new {'Client ID'}, {'Client secret'}, params[:access_token], ""
  calendar = client.calendars.all 
```

知道发生了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T15:59:04.373

客户端 ID 是您的域。

应该是这样的：

```
client = GoogleCalendarApiV2::Client.new 'teambox.com', 'some_secret_key_for_your_domain', 'oauth_token_for_the_user', 'oauth_secret_for_the_user' 
```

请记住，此 Gem 用于 OAuth1 和 APIv2，较新的 APIv3 不能这样工作。它使用不同的 OAuth2。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T16:54:30.237

用于 Ruby 的新 Google API 客户端库支持日历 API v3：

[http://code.google.com/p/google-api-ruby-client/](http://code.google.com/p/google-api-ruby-client/)

# php - mysql insert query variable issues

> ID：10039392
> 
> 赞同：0
> 
> 时间：2012-04-06T05:11:34.910
> 
> 标签：php, mysql, variables, insert-into

Here is my query

```
// Put it all into the database
mysql_query("INSERT INTO 
    orders (
        item_id, 
        order_id, 
        contact_first_name, 
        contact_last_name,
        contact_email,
        contact_phone,
        business_name,
        business_type,
        business_website,
        business_address,
        business_city,
        business_state,
        business_zip,
        business_phone,
        promo_code,
        add_details
    ) 
    VALUES(
        ". $post_data['item_id'] .", 
        ". $order_hash .",
        ". $post_data['contact_first_name'] .", 
        ". $post_data['contact_last_name'] .",
        ". $post_data['contact_email'] .",
        ". $post_data['contact_phone'] .",
        ". $post_data['business_name'] .",
        ". $post_data['business_type'] .",
        ". $post_data['business_website'] .",
        ". $post_data['business_address'] .",
        ". $post_data['business_city'] .",
        ". $post_data['business_state'] .",
        ". $post_data['business_zip'] .",
        ". $post_data['business_phone'] .",
        ". $post_data['promo_code'] .",
        ". $post_data['add_details'] ."
    ) 
") or die(mysql_error()); 
```

Right now if I fill in all the forms so that there is no empty strings it gives me this error. The hash is $order_hash:

> Unknown column '76a051b750ce9363cec3df9961d2fd6b' in 'field list'

If I leave some blank then it gives me:

> You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ' 1, , , , AL, , , , )' at line 27

I have tried multiple variations with double quotes, single quotes, etc and can't seem to figure it out. This should be a simple insert query that like I have done before but I just have run a muck with this one. Thanks for all of your help :)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T05:14:22.967

You need to write strings inside quote. Otherwise mysql will take them as column. For example:

```
...
'". $post_data['contact_first_name'] ."', 
'". $post_data['contact_last_name'] ."',
... 
```

OR more simple (when using doublequote for query)

```
...
'{$post_data['contact_first_name']}', 
'{$post_data['contact_last_name']}',
... 
```

# php - PHP中的递归函数遍历数组

> ID：10039399
> 
> 赞同：0
> 
> 时间：2012-04-06T05:12:51.260
> 
> 标签：php, arrays, recursion, multidimensional-array

**问题：**

创建一个遍历三维数组的递归数组函数，并根据下面的格式打印出内容。如期望的输出/目标所示，不同问题的代码是相同的。

**数组：**

```
 $items = array (
                    'What is your gender?' => array 
                    ( 
                        'gender' => array 
                        (
                            '1' => 'Man', 
                            '2' => 'Woman'
                        )
                    ),

                    'What is your education?' => array 
                    (
                        'education' => array 
                        (   
                            '1' => 'Elementary school', 
                            '2' => 'Middle school', 
                            '3' => 'High school', 
                            '4' => 'Post-secondary education (BSc, MSc)', 
                            '5' => 'Advanced education (PhD)'
                        )
                    )
    ); 
```

**期望的输出/目标：**

```
 <div class="control-group">
            <label class="control-label"><strong>What is your gender?</strong></label>
            <div class="controls">
                <label class="radio">
                    <input type="radio" name="gender" id="gender" value="1" checked>
                    Man
                </label>

                <label class="radio">
                    <input type="radio" name="gender" id="gender" value="2">
                    Woman
                </label>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label"><strong>What is your education?</strong></label>
            <div class="controls">
                <label class="radio">
                    <input type="radio" name="education" id="education" value="1" checked>
                    Elementary school
                </label>

                <label class="radio">
                    <input type="radio" name="education" id="education" value="2">
                    Middle school
                </label>

                <label class="radio">
                    <input type="radio" name="education" id="education" value="3">
                    High school
                </label>

                <label class="radio">
                    <input type="radio" name="education" id="education" value="4">
                    Post-secondary education (BSc, MSc)
                </label>

                <label class="radio">
                    <input type="radio" name="education" id="education" value="5">
                    Advanced education (PhD)
                </label>
            </div>
        </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T05:59:34.850

看看这是否有帮助：

```
<?php
$items = array (
    'What is your gender?' => array ( 
        'gender' => array (
            '1' => 'Man', 
            '2' => 'Woman'
        )
    ),
    'What is your education?' => array (
        'education' => array (   
            '1' => 'Elementary school', 
            '2' => 'Middle school', 
            '3' => 'High school', 
            '4' => 'Post-secondary education (BSc, MSc)', 
            '5' => 'Advanced education (PhD)'
        )
    )
);

function buildHTML( $items, $is_root=true ) {
    $str = '';

    if( $is_root ) {
        foreach( $items as $key => $value ) {
            $str .= '<div class="control-group"><label class="control-label"><strong>' . $key . '</strong></label>';

            if( is_array( $value ) ) {
                $str .= '<div class="controls">';
                $str .= buildHTML( $value, false );
                $str .= '</div>';
            }
        }
    } else {
        $first = 0;
        foreach( $items as $key => $value ) {
            foreach( $value as $key1 => $value1 ) {
                if( ! $first++ ) {
                    $checked = 'checked="checked"';
                } else {
                    $checked = '';
                }
                $str .= '<label class="radio"><input type="radio" name="' . $key . '" id="' . $key . '" value="' . $key1 . '" ' . $checked . '>' . $value1 . '</label>';
            }
        }
    }

    return $str;
}

$html = buildHTML( $items );

echo $html;
?> 
```

干杯!

# c - 使用来自 64 位应用程序的 32 位共享库？

> ID：10039401
> 
> 赞同：1
> 
> 时间：2012-04-06T05:12:56.337
> 
> 标签：c, linux, gcc, shared-libraries

我为我的渲染包装器创建了一个简单的 linux 32 位共享库（.so），但是当我发现我只能通过 32 位应用程序使用它们时，我碰壁了...... ……

这就是我的代码的样子：

RendIFace.h：

```
//Basic renderer interface
struct Renderer
{
    int type;
    ...other things
}; 
```

GLRend.c:

```
#include "RendIFace.h"
struct Renderer* GLRendererCreate(int width,int height,int bytesPerPixel)
{
    struct Renderer* rend = (struct Renderer*)malloc(sizeof(Renderer));

    rend->type = GLR;
    ..other things

    return rend;
} 
```

SDLRend.c:

```
#include "RendIFace.h"
struct Renderer* SDLRendererCreate(int width,int height,int bytesPerPixel)
{
    struct Renderer* rend = (struct Renderer*)malloc(sizeof(Renderer));

    rend->type = SDLR;
    ..other things

    return rend;
} 
```

我将它们编译为共享的 32 位库（.so）并通过主应用程序加载它们......

但是现在有一个大问题。我的库都是 32 位的，并返回 32 位指针，这意味着我不能通过 64 位应用程序使用它们而不重建所有库代码库（！！！）。

所以我想问问有经验的人：我如何处理这个问题？两种架构都可以只使用一个共享库吗？？？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-06T06:33:52.683

你必须保持一致。64 位应用程序只能使用 64 位库，而 32 位应用程序只能使用 32 位库。两者都有效；任何一种选择都可以，并且可以为两个系统编译相同的代码。

如果您选择“所有 32 位”，请使用：

*   `gcc -m32`

如果您选择“所有 64 位”，请使用：

*   `gcc -m64`

有时，我会告诉`make`C 编译器是`gcc -m32`（或`-m64`），而不仅仅是`gcc`为了确保在任何地方都使用正确的值。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-06T06:29:41.210

你不能按照你的要求去做。您必须为同一架构编译最终可执行文件和任何库（静态库和共享库）。

在 GCC 上，这可以通过`-m32`直接在命令行中传递命令行参数或将其添加`CCFLAGS`到您的`Makefile`.

虽然可以在 x86_64 操作系统上运行 x86 代码（您只需要拥有所有正确的库及其各自的递归依赖项），但您不能在一个可执行文件或一个地址空间中组合 x86 和 x86_64 二进制文件。

# html - 图像在缩放时改变其他元素的位置

> ID：10039402
> 
> 赞同：0
> 
> 时间：2012-04-06T05:13:08.157
> 
> 标签：html, css

我正在制作一个页面，其中将包含一系列图像。我需要在鼠标悬停时缩放图像，并且我通过 java 脚本成功获得了它。但问题是当图像被放大时，其他图像的位置也会发生变化。我希望缩放后的图像不会改变其他图像（如**谷歌图像**）的位置......也就是说，我希望缩放后的图像能够覆盖旁边的图像......请提供任何帮助......提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T05:32:12.010

您应该使用绝对定位和 z-index。

HTML

```
<div class="container"><img src="#" /></div>
<div class="container"><img src="#" /></div> 
```

CSS

```
.container {
     position: relative;
}
.container img {
     position: absolute;
     z-index: 0;
}
.container img:hover {
     position: absolute;
     z-index: 1;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T05:18:26.320

避免使用百分比来给出高度和宽度。我也经历过。而是在“像素（px）”中提供高度和宽度。这将更好地为您的查询提供解决方案。

# php - 多个会话或一个？

> ID：10039403
> 
> 赞同：1
> 
> 时间：2012-04-06T05:13:22.920
> 
> 标签：php, forms, session

我正在为表单使用安全令牌，表单是根据通过 jquery 的选择动态构建的。所以表单被调用了很多次，并且每次都会创建不同的令牌。

所以..如果同一个用户调用表单 3 次会话会被重写？检查令牌是否存在并且不创建令牌是否有帮助，除非它是空的？或者也许有人知道使用表单令牌的好方法？

如果有 3 个用户，那么令牌会被创建 3 次并使用不同的值，对吗？如果我检查令牌并且有 3 个用户打开，那么会话会使用相同的值创建 3 次？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T05:25:52.267

每次加载页面时生成一个新令牌。不要检查令牌是否已经存在，每次都生成一个新的。这不会重复令牌；每个用户总是有一个，但每次加载页面时都是唯一的。

以上将减少用户拥有相同令牌的机会，尽管如果您通过生成唯一字符串，`md5(uniqid(rand(), TRUE));`那么您不必担心重复的令牌 ID（这是可能的，但实际上您有更好的机会是从整个地球人口中挑选出来的一个人）

# html - 将 li 标签与自动宽度与硬编码对齐

> ID：10039405
> 
> 赞同：1
> 
> 时间：2012-04-06T05:13:29.180
> 
> 标签：html, css

我在尝试获取一组 li 标签以对齐我想要的方式时遇到了麻烦。

我有一些基本的 html

```
<div class="menu">
<ul>
<li>Item 1</li>
<li>Item 2</li>
<li>Item 3</li>
</ul>
</div>​ 
```

和一些CSS

```
.menu
{
 border:solid 2px red;
 width:520px;
}

ul
{
border:solid 1px #e5e5e5;
height:40px;
margin:0 auto;
list-style:none;
width:500px;
}

li{

text-align:center;
display:inline;
margin:10px;

} 
```

我不想为每个元素硬编码 li 宽度，但我希望 li 元素使用 ul 元素占用所有可用空间。

我需要改变什么才能得到我想要的结果？

[我对 jsfiddle 的尝试](http://jsfiddle.net/spnz/XmcGh/)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T05:25:45.083

如果我理解您的问题可能必须为此使用 display:table 属性。像这样写：

```
ul
{
    border:solid 1px #e5e5e5;
    height:40px;
    margin:0 auto;
    list-style:none;
    width:500px;
    display:table;
}

li{
 display:table-cell;
 text-align:center;    
} 
```

检查这个[http://jsfiddle.net/XmcGh/2/](http://jsfiddle.net/XmcGh/2/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T07:32:20.963

如果`display: table;`并且`display: table-cell;`不削减它，您可以使用百分比宽度和浮动。尽管这种做法违反了您的“无硬代码 li 宽度”要求。尽管百分比会随着各种视口大小而变化。

这也只有在数量`<li>`不变的情况下才有效。

就像是：

```
<ul>
<li>one</li>
<li>two</li>
<li>three</li>
<li>four</li>
</ul>

ul {
width: 100%;
}
li {
float: left;
text-align: center;
width: 30%;
} 
```

# php - 好的模拟器/模拟器（Android，iOS）

> ID：10039409
> 
> 赞同：-1
> 
> 时间：2012-04-06T05:13:57.993
> 
> 标签：php, android, ios, seetest

我正在为 Android 和 iOS 寻找一些好的测试工具（模拟器）来测试我的 PHP Web 应用程序。我列出了以下内容

1) 适用于 Android 的
Robotium 2) Seetest - [http://expitest.com/support/download-2/](http://experitest.com/support/download-2/)

你们中的任何人都可以发表您对此的看法吗？除了这些，你能推荐一些好的吗？

问候，
阿比吉特。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T05:23:45.660

[http://www.qatestingtools.com/android-guitar](http://www.qatestingtools.com/android-guitar)

[http://seleniumhq.org/](http://seleniumhq.org/) - 这是开源的，其最新版本将支持 Android 和 iPhone。

# physics - 如何编程解决一维薛定谔方程

> ID：10039411
> 
> 赞同：1
> 
> 时间：2012-04-06T05:14:07.017
> 
> 标签：physics, matlab

我是一名大学生，正在尝试编写一个程序来解决具有某种潜在方程的一维薛定谔方程。

我不是CS专业的，所以真的不知道如何开始。

我在网上做了研究，但没有找到适合入门级的东西:(我现在唯一明白的是我可能需要使用一些算法来求解微分方程

谁能给我一些关于如何开始的建议或参考？例如，如何将物理问题转化为计算机科学程序，我应该寻找什么样的算法？

我对计算感兴趣，所以尝试解决这个 HARD 问题；）

谢谢你们！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:21:03.250

1.  访问[www.google.com](http://www.google.com)
2.  搜索：如何在matlab中求解薛定谔
3.  去[这里](http://www.mathworks.com/matlabcentral/newsreader/view_thread/103594)
4.  返回[堆栈溢出](https://stackoverflow.com/)

# svg - SVG 路径元素

> ID：10039412
> 
> 赞同：0
> 
> 时间：2012-04-06T05:14:11.127
> 
> 标签：svg

我知道“c0.88,0.88,2.75,1.82,5.25,1.75”是什么意思。但是我不知道“c8.62-0.25,20-2.12,29.5-4.25”是什么意思，尤其是里面的'-'符号。先感谢您。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T08:39:34.873

-0.25 表示负坐标

# testing - 对 Cabal 使用 quickCheck 测试？

> ID：10039416
> 
> 赞同：14
> 
> 时间：2012-04-06T05:14:22.290
> 
> 标签：testing, haskell, cabal

cabal 中测试套件的当前状态是什么，更重要的是，我可以在哪里保持它们的顶部？

我做了一些调查，我能找到的最新信息表明[我不能相信文档](http://www.mail-archive.com/cabal-devel@haskell.org/msg07616.html)，而且我在一年的大部分时间里都找不到任何人谈论它。我听说过关于图书馆的传言，`cabal-test-quickcheck`但似乎找不到关于 hackage 的图书馆，也找不到有关如何设置它的示例。

如今，将 quickCheck 测试连接到 cabal 测试套件的标准方法是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T07:07:53.763

`Cabal-1.14.0.0`从那以后就出来了，而且详细的测试套件[似乎已经可用了](http://hackage.haskell.org/packages/archive/Cabal/1.14.0/doc/html/Distribution-TestSuite.html)。

该`cabal-test-quickcheck`软件包似乎尚未发布，也许您可​​以从[test-framework-quickcheck2](http://hackage.haskell.org/package/test-framework-quickcheck2)获得类似的功能？

或者，您可以忽略 Cabal 中的内置测试支持，只使用一个标志来确定是否构建测试可执行文件。

# css - CSS：如何使底部固定的菜单居中

> ID：10039419
> 
> 赞同：8
> 
> 时间：2012-04-06T05:14:32.767
> 
> 标签：css

我制作了一个菜单条，我想将它固定在页面的底部中心。我什么都试过了。有没有办法在 CSS 中做到这一点？我已经将菜单固定在页面底部

底部：0px 位置：固定

但使用

边距：自动自动 0px 自动或边距左：自动

似乎没有使菜单居中。它只是粘在页面的左侧。任何想法将不胜感激！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T05:20:25.713

您可以使用 50% 的 left 属性和等于页脚宽度一半的负左边距。

[http://jsfiddle.net/N7MB5/](http://jsfiddle.net/N7MB5/)

```
#footer {
    width: 600px;
    position: fixed;
    bottom: 0;
    left: 50%;
    margin-left: -300px;
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-04-06T05:37:59.330

要使元素居中，您需要指定宽度并将左右边距设置为自动。然后要将这样的元素粘贴到页面底部，您需要将其包裹在另一个具有固定宽度的元素中，例如 100% 并位于底部。是的，CSS 你可以。

```
<section style="position: fixed; bottom: 0px; width: 100%;">
 <p style="margin: 0 auto; width: 300px;">Blah blah</p>
</section> 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2019-03-19T18:32:55.823

`display: flex`现在让这很容易！见下文：

```
.footer {
  position: fixed;
  bottom: 0;
  width: 100%;
  display: flex;
  justify-content: center;
}

.content {
  background: grey;
}
```

```
<div class="footer">
  <div class="content">My bottom-fixed content</div>
</div>
```

有了这个方案，就不需要设置一个固定的宽度，可以更加灵活。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-06T05:19:25.843

```
#myElemId {
    width: 100px;
} 
```

注意固定宽度；`margin: auto`这对工作至关重要。如果这不能解决它，那么其他地方肯定有问题。

编辑：你还需要这个（jQuery）：

```
$("#myElemId").css({
    left: window.innerWidth/2 - $(this).css("width")/2
}); 
```

这允许您将宽度设置为您想要的任何值，而无需更新其余的 CSS 代码。

# localization - 从 ASIHTTPrequest 调用访问本地化错误消息

> ID：10039420
> 
> 赞同：1
> 
> 时间：2012-04-06T05:14:39.323
> 
> 标签：localization, asihttprequest, nserror

我正在使用[ASIHTTPRequest](http://allseeing-i.com/ASIHTTPRequest/)来执行一些 HTTP 调用。在某些情况下，当网络不可用时，我会显示一个对话框，其中包含`NSError`返回对象的错误。当我更改我的语言设置（西班牙语）时，我的问题出现了。`localizedDescription`总是以英语返回：

```
NSLog(@"userInfo: %@", [error userInfo]);
NSLog(@"localizedDescription: %@", [error localizedDescription]); 
```

印刷：

```
2012-04-05 22:02:05.519 MyApp[18644:207] userInfo: {
NSLocalizedDescription = "A connection failure occurred";
NSUnderlyingError = "Error Domain=NSPOSIXErrorDomain Code=61 \"The operation couldn\U2019t be completed. Conexi\U00f3n rechazada\" UserInfo=0x594f880 {}";
}
2012-04-05 22:02:05.519 MyApp[18644:207] localizedDescription: A connection failure occurred 
```

`localizedDescription`仍然是英文的，但是在里面`[error userInfo]`，在里面，`NSUnderlyingError`有一个西班牙语翻译可用，但是我不知道如何通过`NSError`返回的对象来访问它。

[之前](https://stackoverflow.com/questions/9354353/asihttprequest-localizeddescription-always-in-english)提出了一个类似的问题，但答案并不令人满意，并且无法针对所有可能的错误消息进行扩展。

# python - 在另一个类变量定义中引用类变量

> ID：10039422
> 
> 赞同：11
> 
> 时间：2012-04-06T05:15:15.090
> 
> 标签：python

```
class SomeClass:
    SOME_CONST = "hello"
    SOME_OTHER_CONST = SomeClass.SOME_CONST + " world" 
```

这行不通。

> NameError：未定义名称“SomeClass”

有没有办法在类中引用类？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-04-06T05:21:06.103

你不需要类名

```
class SomeClass:
   SOME_CONST = "hello"
   SOME_OTHER_CONST = SOME_CONST + " world" 
```

# c# - 如何确定一个类中的 customAttribute 是否等于另一个？

> ID：10039427
> 
> 赞同：0
> 
> 时间：2012-04-06T05:16:25.863
> 
> 标签：c#, attributes, custom-attributes

检查我是否有一个名为`ResponseAttributes`. 我已经声明了一个接口和几个具体的类`{ Question 1, Question2, Question3 }`

```
[AttributeUsage(AttributeTargets.Property)]
public class ResponseAttribute : Attribute { }
public interface IQuestion { }

public class Question1 : IQuestion
{
    [Response]
    public string Response { get; set; }
    public Question1() { Response = "2+1"; }
}

public class Question2 : IQuestion
{
    [Response]
    public decimal Response { get; set; }
    public Question2() { Response = 5; }
}

public class Question3 : IQuestion
{
    [Response]
    public string Response { get; set; }
    public Question3() { Response = "2+1"; }
} 
```

现在，我要做的是如何验证包含该属性的类是否等于另一个？

我是说：

```
 List<IQuestion> questions = new List<IQuestion>()
        {
            new Question1(), new Question2()
        };

        Question3 question3 = new Question3();

        foreach (var question in questions)
        {
            // how to verify this condition:
            // if (customAttribute from question3 is equals to customAttribute fromquestion)
            // of course the question3 is equals to 1
        } 
```

如您所知，它们是不同的类型，这就是我设置为`ResponseAttribute`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T07:28:14.263

您可以尝试使用带有 Resposnse 属性（类型对象）的接口，如果不能，您可以使用告诉您“响应属性”的类级属性，而不是可以在该属性上使用反射

例子：

```
 public class ResponseAttribute : Attribute { 
  public string PropertyName { get; set }
}

[ResponseAttribute ("CustomResponse")}
public class Question1 {
   public string CustomResponse;
}

via reflection
foreach(var question in questions) {
   var responseAttr = (ResponseAttribute) question.GetType().GetCustomAttributes(typeof(ResponseAttribute));

var questionResponse= question.GetType().GetProperty(responseAttr.PropertyName,question,null);
} 

```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:16:35.997

尝试覆盖equals方法：

```
 public override bool Equals(object obj)
    {
        if (obj is IQuestion)
            return this.Response == ((IQuestion)obj).Response;
        else
            return base.Equals(obj);
    } 
```

希望这可以帮助

# javascript - 如何找到元素当前的显示方式？

> ID：10039428
> 
> 赞同：2
> 
> 时间：2012-04-06T05:16:34.037
> 
> 标签：javascript, jquery

我必须存储`display`元素 ( `none`, `block`, `inline`...) 的属性值，以便以后恢复它。如果属性是从 CSS 样式表设置的，`element.style.display`则返回一个空字符串。`display`如何获得计算值？

该解决方案可以使用 jQuery 或其他库。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T05:22:49.810

```
var myDisplay = $('#YourControl').css('display'); 
```

这将为您提供您可以存储的显示属性

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T05:36:17.520

万一您没有 jQuery，您可以使用它`getComputedStyle`来检测显示属性值：

```
window.getComputedStyle(YOUR_DOM_ELEMENT).cssText.split('display: ')[1].split(';')[0] 
```

如果你有 jQuery，那么`.css('display')`就像其他人所说的那样使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-06T05:37:18.820

您可以将显示属性存储到每个元素的`.data()`

```
$('.box').on('click',function(){
    displayProp = $(this).css('display');           // read the .css display property
    $(this).data('storedDisplayProp', displayProp); // store it into element data
    $(this).css({display:'none'});                  // modify the .css display
}); 
```

并像这样检索它：

```
$('#undo').on('click',function(){
  $('.box').each(function(){
    $(this).css({display: $(this).data('storedDisplayProp') }); // read stored data and reset
  });
}); 
```

### *[这是一个演示](http://jsbin.com/alobar/2/edit)*

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-06T05:36:10.647

在这种情况下，正如他们所说：显示属性是自动存储的，

```
var myDisplay = $('#YourControl').css('display'); 
```

如果您想在元素中存储其他数据，

```
$("#element").data('foo', 52); 
```

恢复存储在此元素中的数据

```
var mystoredData = $("#element").data('foo'); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-06T05:18:22.537

```
$("#myElemId").css("display"); 
```

# android - Android飞行模式连续切换

> ID：10039429
> 
> 赞同：0
> 
> 时间：2012-04-06T05:16:51.563
> 
> 标签：android, airplane

我已经编写了某些代码，这样我的 android 应用程序应该进入飞行模式并在一段时间内回到网络连接模式，直到我强行关闭应用程序。它使用我编写的代码，但问题是屏幕或显示器没有显示飞行符号。当我进入设置时，我可以看到代码正在正确启用和禁用飞行模式。

任何人都可以给我一个解决方案。

我的代码如下

```
public class Airplane_ModeActivity extends Activity implements Runnable{

    private static final int SLEEP_TIME_VALUE = 10000;
    private static Context context;
    private static ContentResolver contentResolver;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);  

        context =  getApplicationContext();
        contentResolver = context.getContentResolver();

        Intent intent = new Intent(Intent.ACTION_AIRPLANE_MODE_CHANGED);
        intent.putExtra("state", false);
        sendBroadcast(intent);
        Runnable runnable = new Airplane_ModeActivity();
        Thread thread = new Thread(runnable);
        thread.start();
        }

        public void run(){
        while(true)     {

            while(0==Settings.System.getInt(contentResolver, Settings.System.AIRPLANE_MODE_ON, 0) ) {

                Settings.System.putInt(contentResolver, Settings.System.AIRPLANE_MODE_ON, 1);

                try {
                    Thread.sleep(SLEEP_TIME_VALUE);

                }
                catch (InterruptedException ie) {

                }
            }
            try {
                Thread.sleep(SLEEP_TIME_VALUE);
            }
            catch (InterruptedException ie) {
            }

        while(1==Settings.System.getInt(contentResolver, Settings.System.AIRPLANE_MODE_ON, 1) ) {

            Settings.System.putInt(contentResolver, Settings.System.AIRPLANE_MODE_ON, 0);

            try {

                Thread.sleep(SLEEP_TIME_VALUE);
            }
            catch (InterruptedException ie) {

            }

        }
        try {
            Thread.sleep(SLEEP_TIME_VALUE);

        }
        catch (InterruptedException ie) {

        }
    }
        }   
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T10:01:24.547

```
 boolean isEnabled = Settings.System.getInt(thisActivity.getContentResolver(),Settings.System.AIRPLANE_MODE_ON, 0) == 1;
                        Settings.System.putInt(thisActivity.getContentResolver(),Settings.System.AIRPLANE_MODE_ON,isEnabled ? 0 : 1);
 Intent intent = new Intent(Intent.ACTION_AIRPLANE_MODE_CHANGED);
 intent.putExtra("state", !isEnabled);
 sendBroadcast(intent); 
```

检查这个。，我认为这会对你有所帮助..

# sql - 如何使用 SUM() OVER()

> ID：10039431
> 
> 赞同：24
> 
> 时间：2012-04-06T05:18:06.717
> 
> 标签：sql, sum

我无法理解这段代码的错误

```
ID      AccountID       Quantity
1          1               10           Sum = 10
2          1               5                = 10 + 5 = 15
3          1               2                = 10 + 5 + 2 = 17
4          2               7                = 7
5          2               3                = 7 + 3 = 10  

SELECT ID, AccountID, Quantity, 
       SUM(Quantity) OVER (PARTITION BY AccountID ) AS TopBorcT, 
FROM tCariH 
```

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2012-04-06T08:22:18.340

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-05-29T03:24:01.943

如果您使用的是 SQL 2012，您应该尝试

```
SELECT  ID, 
        AccountID, 
        Quantity, 
        SUM(Quantity) OVER (PARTITION BY AccountID ORDER BY AccountID rows between unbounded preceding and current row ) AS TopBorcT, 
FROM tCariH 
```

如果可用，最好按日期列排序。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-12-09T09:36:30.563

查询将是这样的：

```
SELECT ID, AccountID, Quantity, 
       SUM(Quantity) OVER (PARTITION BY AccountID ) AS TopBorcT 

       FROM #Empl ORDER BY AccountID 
```

像 group by 这样的作品进行分区。这里我们按 AccountID 分组，因此 sum 将对应于 AccountID。

> 第一种情况， AccountID = 1 ，然后 sum(quantity) = 10 + 5 + 2 => 17 & 对于 AccountID = 2，然后 sum(Quantity) = 7+3 => 10

所以结果看起来像附加的[快照](http://i.stack.imgur.com/3nM8W.png)。

# android - Android中的谷歌地图键？

> ID：10039438
> 
> 赞同：0
> 
> 时间：2012-04-06T05:18:41.777
> 
> 标签：android, google-maps

我正在开发一个 android 应用程序，我必须在其中显示我在以前的应用程序中做过一次的地图视图，但我在以前的应用程序中使用的密钥在他的应用程序中不起作用。它只是在应用程序中显示一个带有空白屏幕的引脚。我是否必须为每个项目使用不同的 Map 密钥，如果没有，请帮助我如何使用我以前的密钥。我也尝试生成一个新密钥，但返回了相同的密钥。

这是我使用的代码

```
 public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.map);
        btn=(Button)findViewById(R.id.mapbtn);
        str1=getIntent().getStringExtra("LATITUDE");
        str2=getIntent().getStringExtra("LONGITUDE");

        mapView =  (MapView)findViewById(R.id.mapView1);
        //View zoomView = mapView.getZoomControls(); 

        mapView.setBuiltInZoomControls(true);
         //mapView.setSatellite(true);
         mc = mapView.getController();
         btn.setOnClickListener(this);

          MapOverlay mapOverlay = new MapOverlay();
            List<Overlay> listOfOverlays = mapView.getOverlays();
            listOfOverlays.clear();
            listOfOverlays.add(mapOverlay); 

            String coordinates[] = {str1,  str2};
            double lat = Double.parseDouble(coordinates[0]);
            double lng = Double.parseDouble(coordinates[1]);

            p = new GeoPoint(
                (int) (lat * 1E6), 
                (int) (lng * 1E6));

            mc.animateTo(p);
            mc.setZoom(17); 
            mapView.invalidate();

        //mp.equals(o);
    }
    @Override
    protected boolean isRouteDisplayed() {
        // TODO Auto-generated method stub
        return false;
    }
    class MapOverlay extends com.google.android.maps.Overlay
    {
        @Override
        public boolean draw(Canvas canvas, MapView mapView, 
        boolean shadow, long when) 
        {
            super.draw(canvas, mapView, shadow);                   
            Paint mPaint = new Paint();
            mPaint.setDither(true);
            mPaint.setColor(Color.RED);
            mPaint.setStyle(Paint.Style.FILL_AND_STROKE);
            mPaint.setStrokeJoin(Paint.Join.ROUND);
            mPaint.setStrokeCap(Paint.Cap.ROUND);
            mPaint.setStrokeWidth(2);

            //---translate the GeoPoint to screen pixels---
            Point screenPts = new Point();
            mapView.getProjection().toPixels(p, screenPts);

            //---add the marker---
            Bitmap bmp = BitmapFactory.decodeResource(getResources(), R.drawable.pin);            
            canvas.drawBitmap(bmp, screenPts.x, screenPts.y-50, null);         
            return true;
        } 
```

谢谢....

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T05:25:21.543

```
amandeep there are two kinds of key for maps debug key and release key 
debug key is for your system on which you are developping your application 
that can be used for every application and the seconde one is release key that is different for every application and for each application you have to create new one 
```

[http://code.google.com/android/add-ons/google-apis/mapkey.html](http://code.google.com/android/add-ons/google-apis/mapkey.html)

[调试和签名密钥之间的区别](https://stackoverflow.com/questions/7588954/difference-between-debug-and-signing-key)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T05:24:48.500

Map Key 仅限于单机，因为它包含 Java 库、JDK 和所有内容，因此 debug.keystore 也是一个文件，因此您将始终获得唯一的 Map Key。

只有当您移动您的机器（CPU）或重新安装您的操作系统时，您才需要生成一个新的映射密钥。

另一个建议只是删除覆盖代码并再次检查它是否工作正常。或者覆盖类有问题。清理并重建应用程序。

希望您也已授予这些权限。

```
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T07:04:02.320

您是否尝试在模拟器上运行该应用程序？如果是，则使用默认密钥，如果您要注销 apk，然后在设备上运行，则使用与上一个应用程序相同的密钥进行签名，并使用生成的 google map api 密钥。您是否将网格作为输出？密钥或互联网（代理互联网）的两个可能原因

# php - 如何在while循环后计算数组中的字符

> ID：10039440
> 
> 赞同：0
> 
> 时间：2012-04-06T05:18:57.047
> 
> 标签：php, loops, count, character

你有什么想法如何`$chars`在while循环之后计算字符串中的所有字符吗？

```
$x = 0;
$b = 0;

while ($x++ < 10) {
  echo $chars = $item->zodziai[$b++];
  echo ' ';
}

echo strlen($chars); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T05:21:52.813

连接字符然后计算它们

```
<?php 
$x = 0; $b = 0;
$char = ''; //define a variable to collect all the chars
while ($x++ < 10) {
   $char .= $item->zodziai[$b++]; //add to the char
   echo $chars = $item->zodziai[$b++]; echo ' ';
}
echo strlen($char); //then count all the array combined
?> 
```

# android - 如何使用 senchatouch 2 在 android 中实现 phonegap 应用程序

> ID：10039442
> 
> 赞同：3
> 
> 时间：2012-04-06T05:19:11.147
> 
> 标签：android, cordova, sencha-touch, extjs, sencha-touch-2

我有一个示例 sencha touch2 应用程序。它在我的本地主机浏览器（http://localhost/sencha/examples/navigationview/index.html）中运行良好。

现在我需要使用phonegap 1.5.0将此煎茶应用程序集成到android。

我已经从[phonegap下载了 phonegap 库](http://phonegap.com/download-thankyou)

**phonegap-phonegap-1.5.0-0-gde1960d.zip**来自 phonegap 网站。因为我有cordova-1.5.0.js 和cordova-1.5.0.jar 文件而不是phonegap。
我已经通过 phonegap 网站了解了 cordova-1.5.0 和 phonegap 是一样的。

我已经遵循了这个[入门指南](http://phonegap.com/start/#android)
，因为他们没有给出如何集成 sencha touch2 MVC 文件架构。入门指南中的基本示例对我来说很好用。

我的问题是我无法集成我的 sencha2 MVC 文件架构。我用谷歌搜索了这个但没有成功。我在这里做错了什么？你能建议我这样做的正确方法吗？
提前致谢。

这是我的 index.html 文件

```
<!DOCTYPE HTML>
<html manifest="" lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>Ajax</title>
     <script type="text/javascript" charset="utf-8" src="cordova-1.5.0.js"></script>
    <script id="microloader" type="text/javascript" src="development.js"></script>   
</head>
<body>
</body>
</html> 
```

在 app.js 文件中我收到错误：

```
 //<debug>
    Ext.Loader.setPath({ // line no. 2
        'Ext': 'src'
    });
    //</debug> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-09T07:26:26.267

`Ext.Loader`是什么允许您的 JS 文件存在于文件夹内的不同文件`app`夹中。`Ext.Loader`如果您按照[教程](http://docs.sencha.com/touch/2-0/#!/guide/mvc_dependencies)中的说明进行了配置，Sencha Touch 可以从相应的目录动态加载您的文件

然后只需将`index.html`文件`app`夹和其他所有内容放入`www`Phonegap。它的工作原理与网页相同。要完全明确：

```
www
 |
 |-index.html
 |-app/
 |-css/
 |-whatever else 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-27T10:03:34.663

对于生产构建，您需要使用命令行工具，它为您提供单个 js 文件，包括所有 MVC 组件和您需要的 API 或库等附加组件，以及所有必要的 EXT 和 sencha 东西，仅此而已。

达到那个阶段是一项相当大的成就，然后您应该准备好将 index.html 文件制作成 APK。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-06-06T06:28:51.250

我建议您使用 MDS 鼓掌电话间隙[http://wiki.phonegap.com/w/page/34483744/PhoneGap%20Eclipse%20PlugIn%20for%20Android](http://wiki.phonegap.com/w/page/34483744/PhoneGap%20Eclipse%20PlugIn%20for%20Android)

用于开发具有电话间隙的 sencha 2 应用程序。它将为您提供一种使用 phonegap+sencha 的方法，然后您可以在 index.html 中添加您的 sencha js 和 css 文件的路径，并手动添加应用程序文件夹。索引看起来像

```
 <!DOCTYPE HTML>
   <html>
   <head>
   <meta name="viewport" content="width=320; user-scalable=no" />
   <meta http-equiv="Content-type" content="text/html; charset=utf-8">
   <title>PhoneGap Demo with Sencha Touch</title>
   <link rel="stylesheet" href="sencha/resources/css/sencha-touch.css" type="text/css">
   <script type="text/javascript" src="sencha/sencha-touch-all.js"></script>
  <script type="text/javascript" charset="utf-8" src="phonegap-1.4.1.js"></script>
  <script type="text/javascript" charset="utf-8" src="main.js"></script>
  <script type="text/javascript" charset="utf-8" src="phonegapdemo-w-sencha.js">        </script>
  </head> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-06-11T13:56:23.837

看看phonegap-build。请在有关 phonegap 的论坛上查看我的答案。您可以立即在 iphone、android、黑莓和其他所有设备上运行您的 sencha 应用程序！！

您甚至不需要使用 phonegap API 调用！

您只需将 app.html 复制到 index.html 中。

如果您确实想使用 phoneGap API，只需使用它。无需添加文件或其他任何内容。在 index.html 中，您必须添加该行

```
<script...  phonegap="cordova-1.0.7" /> 
```

或任何有效的版本。

（截至 2012 年 6 月 11 日，此信息是真实的——我想当测试期结束时会花费）

# c# - 如何在asp.net中将主页设为默认页面

> ID：10039443
> 
> 赞同：3
> 
> 时间：2012-04-06T05:19:11.823
> 
> 标签：c#, asp.net, web-config, url-mapping

`web.config`如何在asp文件中设置默认主页。
我已经写了这段代码：

```
<urlMappings>
  <add url="/" mappedUrl="Home.aspx"/>
  <add url="Default.aspx" mappedUrl="Home.aspx"/>
</urlMappings> 
```

也试过这个

```
<defaultDocument>
  <files>
    <add value="Home.aspx" />
  </files>
</defaultDocument> 
```

但我想它不起作用。当我键入时`www.example.com`，它说目录列表已禁用，但不会重定向到`www.example/Home.aspx`.

我不想启用目录列表，但如果有人键入`www.example.com`他应该被发送到`www.example.com/Home.aspx`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T05:26:22.393

更改 iis 7 的 webconfig。

```
<system.webServer>
      <defaultDocument>
        <files>
          <clear />
          <add value="CreateThing.aspx" />
        </files>
      </defaultDocument>
    </system.webServer> 
```

看看这篇文章：[在 Asp.net 中设置默认页面](https://stackoverflow.com/questions/1913058/set-default-page-in-asp-net)

# sitecore - 以编程方式打开 sitecore 媒体库

> ID：10039445
> 
> 赞同：2
> 
> 时间：2012-04-06T05:19:29.290
> 
> 标签：sitecore, sitecore6, sitecore-media-library

我试过这个解决方案： [Open sitecore media library programmatically from asp.net button click](https://stackoverflow.com/questions/9154475/open-sitecore-media-library-programmatically-from-asp-net-button-click)

但这对我不起作用。这为`.ascx`答案中提到的文件代码提供了 JavaScript 错误。

这个说法：`Sitecore.PageModes.ChromeManager.postRequest`

我正在使用 Sitecore 6.3，包含 sitecore.js 文件。但是获取该`PagesMode ChromeManager`属性捕获的未定义脚本错误。

也尝试使用

```
scForm.postRequest("", "", "", 'contentimage:open(id=FIELD1377303253)'); 
```

但这肯定不会发出为原始解决方案创建的自定义 MediaBrowser 命令。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-03-24T19:40:03.553

尝试使用该`Sitecore.Shell.Framework.Windows.RunApplication()`功能。您需要在`RunApplication()`方法中将媒体库 itemId 作为参数传递。

您可以通过以下路径获取核心数据库中的媒体库 ItemId：`/sitecore/content/Applications/Content Editor/Applications/MediaLibraryForm`

谢谢

# java - GWT 2.4 应用程序找不到我的 CSS 文件，其类正在通过 UIObject.addStyleName 在代码中使用

> ID：10039450
> 
> 赞同：1
> 
> 时间：2012-04-06T05:20:15.827
> 
> 标签：java, css, gwt, gwt2

GWT 如何通过 UIObject.addStyleName() 查找其类在代码中使用的 CSS 文件？我应该怎么做才能让我的控件找到我的 css ？

我有比较大的项目。我创建了自己的[编辑器](https://developers.google.com/web-toolkit/doc/latest/DevGuideUiEditors)，完全以编程方式创建，没有相邻的 UiBinder xml。

我通过调用[UIObject.addStyleName()](http://google-web-toolkit.googlecode.com/svn/javadoc/2.4/com/google/gwt/user/client/ui/UIObject.html)将 css 样式分配给我的编辑器的某些内部 ui 对象。

我不明白应该在哪里放置我的 CSS，以便 GWT 可以在运行时找到它。

我试过了：

*   将所需的 css 类放入使用“ui:style”标签使用我的编辑器的表单的 UiBinder 模板中引用的 CSS 文件中。
*   在 client\ 文件夹中创建单独的 css 文件，并使用“样式表”标签在 gwt 模块 xml 中引用它。

这些方法都不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T11:14:57.713

请参阅[https://developers.google.com/web-toolkit/doc/latest/DevGuideUiCss#cssfiles](https://developers.google.com/web-toolkit/doc/latest/DevGuideUiCss#cssfiles)

有 4 种方法（我将它们分为 2 个类别）在您的应用中获取 CSS：

*   外部样式表：从您的`gwt.xml`或您的 HTML 主机页面引用它。要将其捆绑到您的应用程序中，请将其放在`public`模块内的文件夹中（在您的包旁边`client`）；或在您的*战争*文件夹中。查看 GWT 中捆绑的主题以了解其效果。
*   a `CssResource`: 将 CSS 文件与接口`client`一起放入您的层次结构中。在 UiBinder 中的工作方式相同，因为它使用as 中方法的注释属性动态生成 a ，并将 的内容作为动态生成的 CSS 文件（通过*注释*引用）。UiBinder 也会自动调用你，因为你不一定对生成的.`ClientBundle``CssResource``ui:style``CssResource``ui:style``ClientBundle``ui:style`*`@Source``ensureInjected()``CssResource`*

 ** * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T07:13:08.823

你正在用吗：

```
YOURSTYLENAMECLASS().ensureInjected(); 
```

在将其添加到您的元素之前。

这是JavaDoc for `ensureInjected()`，它比我自己的话解释得更好；）：

```
package com.google.gwt.resources.client;
//....
public interface CssResource extends CssResourceBase {
//...

* Calls
* {@link com.google.gwt.dom.client.StyleInjector#injectStylesheet(String)} to
* inject the contents of the CssResource into the DOM. Repeated calls to this
* method on an instance of a CssResources will have no effect.
* 
* @return <code>true</code> if this method mutated the DOM.
*/
boolean ensureInjected(); 
```*

# ruby-on-rails - 链接出现在浏览器中，但测试显示它不存在

> ID：10039457
> 
> 赞同：1
> 
> 时间：2012-04-06T05:20:44.393
> 
> 标签：ruby-on-rails, rspec, capybara

如果列表中的一篇文章属于登录用户，我在 RSpec 中有一个测试，它检查编辑链接：

```
let(:user) { Fabricate(:user) }
before do
  visit new_user_session_path
  fill_in 'Email', :with => user.email
  fill_in 'Password', :with => user.password
  click_button 'Sign in'
end

describe 'when user has a self-authored article' do
  let(:article) { Fabricate(:article, :author_id => user.id) }
  before { visit articles_path }
  it { should have_link('Edit article', :href => edit_article_path(article)) }
end 
```

这些是它测试的视图：

```
# articles/new.html.erb
<% provide(:title, 'Articles') %>
<h1>Articles</h1>
<% if user_signed_in? %>
  <%= link_to 'Post article', new_article_path %>
<% end %>

<%= render @articles %>

<%= will_paginate %> 
```

这是它测试的特定视图：

```
# articles/_article.html.erb
<% if user_signed_in? %>
  <% if current_user.id == article.author.id %>
    <%= link_to 'Edit article', edit_article_path(article) %>
  <% end %>
<% end %> 
```

当我运行测试时，我收到以下错误：

> 失败/错误：它 { should have_link('Edit article', :href => edit_article_path(article)) }
> 
> ```
>  expected link "Edit article" to return something 
> ```

我检查了我的浏览器以确认测试是正确的，但链接似乎按预期显示。我哪里做错了？如何使测试通过？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T06:25:33.560

我猜这`let(:article) { Fabricate(:user, :author_id => user.id) }`是在创建用户，而不是文章。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T08:19:25.087

I have figured it out. It turns out that I had a misunderstanding of how `let` works. I thought it could be executed before `before`, but I was wrong. I fixed the issue by fabricating the object inside the `before` block

```
describe 'when user has a self-authored article' do
    before do
      @article = Fabricate(:article, :author_id => user.id)
      visit articles_path
    end
    it { should have_link('Edit article', :href => edit_article_path(@article)) }
  end
end 
```

# java - 与java中dll的使用有关

> ID：10039460
> 
> 赞同：0
> 
> 时间：2012-04-06T05:21:06.393
> 
> 标签：java, dll, function-pointers

我有一个用'C'开发的dll。
我需要在我的 Java 程序中使用它。
我的问题是这样的：
我需要从java程序中调用一个具有结构变量作为其参数之一的dll函数。
怎么做？
我可以将对象作为参数传递吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:24:00.207

你最好的选择——考虑到我怀疑这是仅限 Windows——是使用[JNA](https://github.com/twall/jna)，它可以让你完全从 Java 中使用 DLL，而无需编写任何自定义 C 代码。JNA 确实`struct`使用特殊的`Structure`Java 类处理类型的函数对象。

# ruby-on-rails - 如何在 Heroku 中跟踪 Rails 应用程序的流量和页面导航

> ID：10039462
> 
> 赞同：0
> 
> 时间：2012-04-06T05:21:36.167
> 
> 标签：ruby-on-rails, heroku

我在 Heroku 上有一个 Rails 应用程序。我想统计谁来我的网站，从哪里来，他们在每个页面上花费了多长时间，他们经历的路径是什么等。

有什么选择？我应该使用为 Heroku 构建的应用程序还是使用 Rails gem，哪一个？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T07:20:24.920

我认为与统计和分析最相关的问题，您可以添加谷歌分析和网站管理员工具或任何其他分析工具（http://get.gaug.es/）。您可以将脚本放在布局文件中，以便它适用于所有页面。

# applescript - 使用 AppleScript 将自定义处理程序添加到 MS powerpoint 2011 中的命令栏控件

> ID：10039469
> 
> 赞同：0
> 
> 时间：2012-04-06T05:22:21.810
> 
> 标签：applescript

我已经使用这样的applescript构建了一个命令栏。告诉应用程序“Microsoft PowerPoint”

```
make new command bar with properties {bar type:menubar command bar, bar position:bar floating, name:"Ani Tech", built in:true, entry_index:1, row index:0, embedded:false, embeddable:false, top:300, protection:no protection, width:1000, height:500, id:1}
make new command bar control in command bar "Ani Tech" with properties {control type:control button, entry_index:0, begin group:true, button style:button caption, name:"Create MCQ", face id:1}
set btnAbout to make new command bar control in command bar "Turning Tech" with properties {control type:control button, entry_index:1, begin group:false, button style:button caption, name:"Save MCQ", face id:2}
make new command bar control in command bar "Ani Tech" with properties {control type:button icon, entry_index:2, begin group:false, button style:button icon, name:"Tool", face id:0}
**set onaction of btnAbout to "sayHello()"** 
```

结束告诉

在 sayHello() 显示对话框“Hello”结束 sayHello

单击此控件时，我无法调用子例程“sayHello”。我添加了动作，但没有在那里调用。如果有人对此问题有解决方案，例如如何在单击命令栏控件时添加或调用任何子程序。-阿尼鲁德

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T13:47:00.157

You need to use the "`my`" prefix to call your script's handlers from within a `tell` block.

```
my sayHello() 
```

(see [relevant passage](https://developer.apple.com/library/mac/#documentation/AppleScript/Conceptual/AppleScriptLangGuide/conceptual/ASLR_about_handlers.html#//apple_ref/doc/uid/TP40000983-CH206-SW3) of the AppleScript Language Guide)

# android - 在eclipse中离线安装android SDK

> ID：10039471
> 
> 赞同：1
> 
> 时间：2012-04-06T05:22:43.340
> 
> 标签：android

我想在我的电脑上安装 android，但由于我认为我的速度，使用 sdk 无法下载软件包。我已经广泛搜索了几天但找不到任何结果我找到了一个页面，该页面显示了使用 abyss 服务器安装但由于断电而丢失并且无法再次找到它的方法。如果有人可以分享安装android sdk并将其与eclipse一起使用的链接或教程，那将是很大的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-06T05:45:03.257

我认为您应该尝试按照制作 Android 开发环境的过程中的步骤进行操作。

我希望您已经拥有 Eclipse。如果您还没有，请从这里获取，最新的 Eclipse 是 3.7 版。[Eclipse for Java](http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/indigosr2)

第 2 步：由于您遇到网速问题，请尝试从此下载最新 ADT 工具的 Zip 文件。[Android ADT 插件在此 SO -->](http://developer.android.com/sdk/eclipse-adt.html) [SO 链接 ADT 安装](https://stackoverflow.com/questions/5690840/installing-android-offline-is-hard) 中使用此 ADT Zip 描述 在 Eclipse 中添加 zip 完成后，您需要互联网连接。

第 3 步：现在对于 Android SDK，您可以从这个开发者网站下载这个 android-sdk_r17-windows.zip，它的大小很小 --> [Android SDK](http://developer.android.com/sdk/index.html)

当您将此 Zip 放入您的计算机并解压缩并从该站点下载一个 Android SDK 平台时 --> [SDK Platform Offiine](http://qdevarena.blogspot.in/2010/05/download-android-sdk-standalone-for.html)。

第 4 步：现在，当您获得 SDK 平台之一时，您需要将其放入我的 PC 中的示例中。我有以下路径。

```
 E:\Android_development\android-sdk\platforms\put here your SDK Platform Folder. 
```

你的 android-sdk 路径可能不同。

第 5 步：不要忘记在 Eclipse 中将您的 Android-SDK 的路径提供到此处。在 Eclipse 中提供路径到此处

Window-->Preferences-->Android now in SDK Location Box 提供 Android SDK 的位置 类似这样的东西

```
 E:\Android_development\android-sdk 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-15T14:30:32.207

转到**[http://dl-ssl.google.com/android/repository/repository.xml](http://dl-ssl.google.com/android/repository/repository.xml)**，然后选择您要安装的 sdk 平台版本，然后复制粘贴`android-x_rxx-windows/linux/macosx.zip`您要设置的相应平台，

```
http://dl-ssl.google.com/android/repository/android-x_rxx.zip 
```

*   下载后，转到您的 SDK-Installation-Path（`C:\Program Files (x86)\Android\android-sdk\platforms`在 Windows 中）。创建一个名为 android x 的文件夹并将所有 zip 内容解压缩到 android x 文件夹中。

*   关闭 SDK 管理器并重新打开它。您会发现 android x 的 SDK 平台将显示为已安装。

本教程详细解释，

[如何离线安装android sdk平台](http://www.tech-recipes.com/rx/6588/how-to-install-android-sdk-without-internet-connection/)

# java - Java：使用 jlibs 保证垃圾收集

> ID：10039474
> 
> 赞同：4
> 
> 时间：2012-04-06T05:22:53.443
> 
> 标签：java, garbage-collection

[来自jlibs](http://jlibs.googlecode.com/svn/trunk/core/src/main/java/jlibs/core/lang/RuntimeUtil.java)的 RuntimeUtil.java的以下片段保证 GC 完成垃圾收集。

因为，它也使用 System.gc()，所以我不明白他们如何保证它会 100% 发生。

以下是片段：

```
/**
     * This method guarantees that garbage collection is
     * done unlike <code>{@link System#gc()}</code>
     */
    public static void gc(){
        Object obj = new Object();
        WeakReference ref = new WeakReference<Object>(obj);
        obj = null;
        while(ref.get()!=null)
            System.gc();
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T05:40:09.073

它与Garbae Collection的**强参考**和**弱参考有关。**

强引用是普通的 Java 引用，是您每天都在使用的那种。

如果一个对象可以通过强引用链访问（强可达），则它不符合垃圾回收条件。由于您不希望垃圾收集器破坏您正在处理的对象，因此这通常正是您想要的。

简而言之，弱引用是一种强度不足以强制对象保留在内存中的引用。弱引用允许您利用垃圾收集器确定可达性的能力

指向类中的 gc() 方法适用于这个概念。

```
 /**
       * This method guarantees that garbage collection is
       * done unlike <code>{@link System#gc()}</code>
       */

       public static void gc(){
            Object obj = new Object();
            WeakReference ref = new WeakReference<Object>(obj);
            obj = null;
            while(ref.get()!=null)
                System.gc();
        } 
```

一旦 WeakReference 开始返回 null，它指向的对象就变成了垃圾，并且 WeakReference 对象几乎毫无用处。这通常意味着需要进行某种清理；

这就是为什么他们保证它会发生 100% 的时间。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-06T05:33:20.970

据我所见，它应该像他们一样工作

1) 创建一个对象 2) 获取对它的“弱”引用 3) 对它的引用为空，以便将其标记为垃圾回收 4) 并等待 while 循环，直到它真正消失

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-06T06:04:35.430

一次调用 System.gc() 并不能保证所有符合垃圾回收条件的对象都会被回收。请参阅[如何在 Java 中清除软引用？](https://stackoverflow.com/questions/457229/how-to-cause-soft-references-to-be-cleared-in-java)

在这种情况下，垃圾收集会运行**多次，直到弱对象 ref 返回 null**。我怀疑这种方法的有效性。将会有许多其他对象可能被垃圾收集。对我来说，它（jlib）没有任何东西可以学习。

例如2009年编写的库中的代码。（摘录）

```
/**
     * This method guarantees that garbage colleciton is
     * done after JVM shutdown is initialized
     */
    public static void gcOnExit(){
        Runtime.getRuntime().addShutdownHook(new Thread(){
            @Override
            public void run(){
                gc();
            }
        });
    } 
```

为什么在调用关闭时需要 gc？所引用的图书馆是纯粹的垃圾。

# css - 如何像亚马逊的 Kindle 网络电子阅读器一样禁用复制、粘贴和打印？

> ID：10039475
> 
> 赞同：1
> 
> 时间：2012-04-06T05:23:02.270
> 
> 标签：css, html

Amazon Kindle 的网络电子阅读器 (https://read.amazon.com/) 如何禁用复制和粘贴？

另外，它如何使页面的“打印”只呈现空白页面？

我在 Google Chrome 浏览器中查看了它，想知道可以在哪些浏览器上实现它。

他们仍然允许文本选择（用于突出显示或注释），所以我相信他们不会禁用选择。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:25:36.980

大多数情况下，它们是由 JavaScript 完成的。`ctrl`他们抓住+ `c`& `ctrl`+的击键`v`然后取消传播。他们还通过捕获右键的鼠标事件并停止其传播来禁用右键单击。

但这**没有用**，因为一旦禁用了 java 脚本，它们就都消失了。

打印机打印空白可以使用媒体查询完成

```
@media print {

    * { display: none; }

} 
```

# java - csv 文件是否存在于特定目录中

> ID：10039476
> 
> 赞同：-2
> 
> 时间：2012-04-06T05:23:09.730
> 
> 标签：java, file

我想弄清楚特定目录中是否存在 csv 文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T06:32:55.563

类似的东西

```
public boolean containsCSVFiles( File aDirectory ){
  return !aDirectory.listFiles( new FilenameFilter(){
     public boolean accept(File dir, String name){
       return name.endsWith( ".csv" );
     }
  }).isEmpty();
} 
```

应该这样做（没有在我的 IDE 中测试，所以我希望我没有犯太多的错别字）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T05:32:07.377

只需解析目录以查找 .csv 文件....

```
File f = new File("D:/Shashank/");
        if(f.isDirectory())
        {
            File[] file= f.listFiles();
            for(File f1 :file)
            {
                if(f1.getName().endsWith(".csv"))
                {
                    System.out.println("File Found"+f1.getName());
                }
            }
        } 
```

您也可以使其递归，以查看子目录。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T05:32:15.363

您并没有真正解释您想要做什么，但是在[java.io.File](http://docs.oracle.com/javase/6/docs/api/java/io/File.html)`listFiles()`类的和`exists()`方法之间，您应该能够完成它。

# sql - 查询以在 SQL 中转换表

> ID：10039480
> 
> 赞同：3
> 
> 时间：2012-04-06T05:23:22.877
> 
> 标签：sql, sql-server, sql-server-2008

我的查询如下

```
SELECT SupplierId,StakeholderSupplierId,Percentage
FROM std_Stakeholders    
ORDER BY SupplierId 
```

这产生了如下结果

```
SupplierId        StakeholderSupplierId             Percentage
1                          3175                        68.00
2929                       5504                        25.00
5504                        1                          68.25
5504                       3238                        50.00
5504                       2810                        23.00 
```

我想将此输出转换为 .

```
 SupplierId    StakeholderSupplierId1  Percentage  StakeholderSupplierId2  Percentage StakeholderSupplierId3   Percentage
    1                    3175            68.00  
    2929                 5504            25.00
    5504                  1              68.68             3238                50.00                2810            23.00 
```

我尝试使用 joins 和 pivoting 。无法成功编写正确的查询以获得所需的输出。谁能帮我吗

注意：StakeholderSupplierId 不是静态的。它可能从 1 到 n 不等

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T07:57:29.900

我不知道这是否是您问题的解决方案（取决于您在此查询后需要做什么），但对于此类问题，我使用了 MySQL`GROUP_CONCAT`函数。对于 SQL Server 中的类似解决方案，请查看[此](https://stackoverflow.com/questions/941103/concat-groups-in-sql-server)问题。

使用`GROUP_CONCAT`函数，您可以获得如下结果表：

```
SupplierId    StakeholderSupplierIds  Percentages  
1             3175                    68.00  
2929          5504                    25.00
5504          1, 3238, 2810           68.68, 50.00, 23.00 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T07:40:48.053

好吧，您可以通过两步过程来做到这一点，但同样我希望它可以通过`PIVOT`- 但是作为示例（最后一步的旧式方法）：

```
declare @stakeholdersForPivot table
(
  SupplierId int,
  StakeholderId int,
  StakeholderSupplierId int,
  Percentage decimal(19,2)
)

; with orderedStakeholders as
(
  select SupplierId
  , ROW_NUMBER() over (partition by SupplierId order By StakeholderSupplierId) StakeholderId
  ,StakeholderSupplierId, Percentage
  from std_Stakeholders

)

insert into @stakeholdersForPivot (SupplierId, StakeholderId, StakeholderSupplierId, Percentage)
select SupplierId, StakeholderId, StakeholderSupplierId, Percentage
from orderedStakeholders

select SupplierId
, sum(case when StakeholderId = 1 then StakeholderSupplierId else null end) StakeholderSupplierId1
, sum(case when StakeholderId = 1 then Percentage else null end) Percentage1
, sum(case when StakeholderId = 2 then StakeholderSupplierId else null end) StakeholderSupplierId2
, sum(case when StakeholderId = 2 then Percentage else null end) Percentage2
, sum(case when StakeholderId = 3 then StakeholderSupplierId else null end) StakeholderSupplierId3
, sum(case when StakeholderId = 3 then Percentage else null end) Percentage3
from @stakeholdersForPivot
group by SupplierId
order by SupplierId 
```

显然，您必须明确说明您期望每个供应商的利益相关者供应商的最大数量，但您可以根据需要扩展它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T09:57:20.360

这是使用“GROUP BY MAX”技巧的查询。应该跨数据库工作。缺点是列列表是静态的。

```
SELECT
    supplierid,
    max(StakeholderSupplierId1) AS StakeholderSupplierId1,
    max(percentage1) AS percentage,
    max(StakeholderSupplierId2) AS StakeholderSupplierId2,
    max(percentage2) AS percentage,
    max(StakeholderSupplierId3) AS StakeholderSupplierId3,
    max(percentage3) AS percentage
FROM
    (
        SELECT
            supplierid,
            CASE WHEN ranking = 1 THEN stakeholdersupplierid END AS StakeholderSupplierId1,
            CASE WHEN ranking = 1 THEN percentage END AS percentage1,
            CASE WHEN ranking = 2 THEN stakeholdersupplierid END AS StakeholderSupplierId2,
            CASE WHEN ranking = 2 THEN percentage END AS percentage2,
            CASE WHEN ranking = 3 THEN stakeholdersupplierid END AS StakeholderSupplierId3,
            CASE WHEN ranking = 3 THEN percentage END AS percentage3
        FROM
            (
                SELECT
                    supplierid,
                    stakeholdersupplierid,
                    percentage,
                    rank() OVER (PARTITION BY supplierid ORDER BY percentage DESC) AS ranking
                FROM
                    std_stakeholders
            ) AS t
    ) AS t
GROUP BY
    supplierid
; 
```

# vb.net - 正确和错误答案计数

> ID：10039481
> 
> 赞同：-1
> 
> 时间：2012-04-06T05:23:27.460
> 
> 标签：vb.net, winforms, counter

我想为我的程序添加一个计数器，它基本上计算我正确和错误回答的次数。

当用户正确添加或减去时，正确的标签显示 1，当用户再次正确回答时，正确的标签应显示 2。它只是添加和添加，直到程序运行。不正确的标签也是如此。

有谁知道任何简单的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:34:31.770

你没有提到你想使用什么编程语言。我将告诉你 C#。

1 用 0 初始化两个标签 lblCorrectAnswer 和 lblWrongAnswer，因为计数器从零开始。

2 在回答按钮单击事件上，您可以检查给定答案是否正确并将结果存储在 blnAnswer 中。

```
if(blnAnswer == true)
   lblCorrectAnswer.Text += int.Parse(lblCorrectAnswer.Text) + 1;
else
   lblWrongAnswer.Text += int.Parse(lblWrongAnswer.Text) + 1; 
```

# python - Tkinter - RuntimeError：超出最大递归深度

> ID：10039485
> 
> 赞同：4
> 
> 时间：2012-04-06T05:24:01.097
> 
> 标签：python, tkinter

我周一开始用 Python 编程。我很喜欢学习它。但是我一直试图了解如何在 tkinter 菜单之间切换时避免递归！我确信这是一个非常基本的问题，感谢您容忍我对这个问题的无知，但我无法在其他地方找到答案。

我现在正在做的是，最终，给我一个错误：RuntimeError: maximum recursion depth exceeded while calling a Python object

这是我目前使用的模式。更新：下面的代码现在是一个完整的、独立的副本，重现了我面临的问题！:D

```
from tkinter import *

def mainmenu():
    global frame, root

    frame.destroy()

    frame = Frame()
    frame.pack()

    button1 = Button(frame, text="anothermenulikethis", command = anothermenulikethis)
    button2 = Button(frame, text="anothermenulikethis", command = anothermenulikethis)
    button3 = Button(frame, text="mainmenu", command = mainmenu)

    button1.pack(side=LEFT)
    button2.pack(side=LEFT)
    button3.pack(side=LEFT)

    root.mainloop()

def anothermenulikethis():
    global frame, root

    frame.destroy()

    frame = Frame()
    frame.pack()

    button1 = Button(frame, text="mainmenu", command = mainmenu)
    button2 = Button(frame, text="mainmenu", command = mainmenu)
    button3 = Button(frame, text="anothermenulikethis", command = anothermenulikethis)

    button1.pack(side=LEFT)
    button2.pack(side=LEFT)
    button3.pack(side=LEFT)

    root.mainloop()

root = Tk()
root.title("Recursive Menu Problem Isolation")
root.geometry("1200x600")
frame = Frame()

mainmenu() 
```

一切正常，直到最大递归深度不可避免地失败。如果有人可以建议一种更好的做事方式，或者有一个更好的方法的例子的链接，我很想学习。

PS：我已经查看并尝试增加递归深度，但我觉得这是一个穷人对我的方法的基本问题的解决方案。

提前谢谢大家。

根据要求，这是回溯：

```
Exception in Tkinter callback
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.2/lib/python3.2/tkinter/__init__.py", line 1399, in __call__
    return self.func(*args)
  File "/Users/diligentstudent/Desktop/menutest.py", line 11, in mainmenu
    button1 = Button(frame, text="anothermenulikethis", command = anothermenulikethis)
  File "/Library/Frameworks/Python.framework/Versions/3.2/lib/python3.2/tkinter/__init__.py", line 2028, in __init__
    Widget.__init__(self, master, 'button', cnf, kw)
  File "/Library/Frameworks/Python.framework/Versions/3.2/lib/python3.2/tkinter/__init__.py", line 1958, in __init__
    (widgetName, self._w) + extra + self._options(cnf))
  File "/Library/Frameworks/Python.framework/Versions/3.2/lib/python3.2/tkinter/__init__.py", line 1043, in _options
    v = self._register(v)
  File "/Library/Frameworks/Python.framework/Versions/3.2/lib/python3.2/tkinter/__init__.py", line 1079, in _register
    f = CallWrapper(func, subst, self).__call__
RuntimeError: maximum recursion depth exceeded 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-04-06T05:51:21.297

只`mainloop()`需要一个来处理 tkinter GUI。

话虽如此，我认为您只需要一个类结构的示例：

```
from tkinter import Tk,Button

class Application(Tk):

    def say_hi(self):
        print('Hello world?!')

    def close_app(self):
        self.destroy()

    def create_Widgets(self):
        self.quitButton = Button(self, width=12, text='Quit', bg='tan',
                    command=self.close_app)
        self.quitButton.grid(row=0, column=0, padx=8, pady=8)

        self.helloButton = Button(self, width=12, text='Hello',
                    command=self.say_hi)
        self.helloButton.grid(row=0, column=1, padx=8, pady=8)

    def __init__(self):
        Tk.__init__(self)
        self.title('Hello world!')
        self.create_Widgets()

app = Application()
app.mainloop() 
```

为了避免可能与其他模块发生冲突，有些人更喜欢这样导入
（明确说明所有内容的来源）：

```
import tkinter as tk

class Application(tk.Tk):

    def __init__(self):
        tk.Tk.__init__(self)
        self.title('Hello world!')

        self.quitButton = tk.Button(self, width=12, text='Quit', bg='tan',
                    command=self.close_app)
        self.quitButton.grid(row=0, column=0, padx=8, pady=8)

        self.helloButton = tk.Button(self, width=12, text='Hello',
                    command=self.say_hi)
        self.helloButton.grid(row=0, column=1, padx=8, pady=8)

    def say_hi(self):
        print('Hello world?!')

    def close_app(self):
        self.destroy()

app = Application()
app.mainloop() 
```

如您所见，创建小部件很容易在`__init__`

* * *

我决定根据我在过去一个月中学到的知识制作一个更实用/更具教育意义的示例。在这样做的同时，我得到了一点启示：并非一切都需要自我。类中的前缀！对于 tkinter 类尤其如此，因为您没有将其作为主程序中的对象进行操作。主要是你需要自我。以后要在方法中使用某些东西时的前缀。前面的示例显示了任何东西（如按钮）如何接收自我。前缀，即使完全没有必要。

此示例将显示一些内容：

•`pack()`并且`grid()`可以在相同的GUI 中使用，只要它们不共享主控。

• 当字体大小更改时，可以使文本小部件不扩展。

• 如何打开和关闭选定文本的粗体标记。

• 如何真正将GUI 置于屏幕中央。[（更多信息在这里）](https://stackoverflow.com/a/10018670/1217270)

• 如何使顶层窗口出现在与主窗口相关的相同位置。

• 防止顶级窗口被破坏的两种方法，因此只需要创建一次。

• 使ctrl+a（全选）功能正常。

```
import tkinter as tk
import tkFont

class Application(tk.Tk):

    def __init__(self):
        tk.Tk.__init__(self)
        self.title('T-Pad')

    # Menubar

        menubar = tk.Menu(self)

        filemenu = tk.Menu(menubar, tearoff=0)
        filemenu.add_command(label="Exit", command=self.close_app)
        menubar.add_cascade(label="File", menu=filemenu)

        formatmenu = tk.Menu(menubar, tearoff=0)
        formatmenu.add_command(label="Font", command=self.show_sizeWin)
        menubar.add_cascade(label="Format", menu=formatmenu)

        self.config(menu=menubar)

    # Bold Button

        boldButton = tk.Button(self, width=12, text='Bold',
                                command=self.make_bold)
        boldButton.pack()

    # Text widget, its font and frame

        self.defaultFont = tkFont.Font(name="defFont")

        textFrame = tk.Frame(self, borderwidth=1, relief="sunken",
                             width=600, height=600)

        textFrame.grid_propagate(False) # ensures a consistent GUI size
        textFrame.pack(side="bottom", fill="both", expand=True)

        self.mText = tk.Text(textFrame, width=48, height=24, wrap='word',
                            font="defFont")
        self.mText.grid(row=0, column=0, sticky="nsew")

    # Scrollbar and config

        tScrollbar = tk.Scrollbar(textFrame, command=self.mText.yview)
        tScrollbar.grid(row=0, column=1, sticky='nsew', pady=1)

        self.mText.config(yscrollcommand=tScrollbar.set)

    # Stretchable

        textFrame.grid_rowconfigure(0, weight=1)
        textFrame.grid_columnconfigure(0, weight=1)

    # Bold Tag

        self.bold_font = tkFont.Font(self.mText, self.mText.cget("font"))
        self.bold_font.configure(weight="bold")
        self.mText.tag_configure("bt", font=self.bold_font)

    # Center main window

        self.update_idletasks()

        xp = (self.winfo_screenwidth() / 2) - (self.winfo_width() / 2) - 8
        yp = (self.winfo_screenheight() / 2) - (self.winfo_height() / 2) - 30
        self.geometry('{0}x{1}+{2}+{3}'.format(self.winfo_width(), self.winfo_height(),
                                                                                xp, yp))

    # Font Size Window (notice that self.sizeWin is given an alias)

        sizeWin = self.sizeWin = tk.Toplevel(self, bd=4, relief='ridge')

        self.sizeList = tk.Listbox(sizeWin, width=10, height=17, bd=4,
                                font=("Times", "16"), relief='sunken')

        self.sizeList.grid()

        doneButton = tk.Button(sizeWin, text='Done', command=sizeWin.withdraw)
        doneButton.grid()

        for num in range(8,25):
            self.sizeList.insert('end', num)

        sizeWin.withdraw()

        sizeWin.overrideredirect(True) # No outerframe!
        # Below is another way to prevent a TopLevel window from being destroyed.
        # sizeWin.protocol("WM_DELETE_WINDOW", self.callback)

    # Bindings
        # Double click a font size in the Listbox
        self.sizeList.bind("<Double-Button-1>", self.choose_size)
        self.bind_class("Text", "<Control-a>", self.select_all)

##    def callback(self):
##        self.sizeWin.withdraw()

    def select_all(self, event):
        self.mText.tag_add("sel","1.0","end-1c")

    def choose_size(self, event=None):
        size_retrieved = self.sizeList.get('active')
        self.defaultFont.configure(size=size_retrieved)
        self.bold_font.configure(size=size_retrieved)

    def show_sizeWin(self):
        self.sizeWin.deiconify()
        xpos = self.winfo_rootx() - self.sizeWin.winfo_width() - 8
        ypos = self.winfo_rooty()
        self.sizeWin.geometry('{0}x{1}+{2}+{3}'.format(self.sizeWin.winfo_width(),
                                                self.sizeWin.winfo_height(), xpos, ypos))

    def make_bold(self):
        try:
            current_tags = self.mText.tag_names("sel.first")
            if "bt" in current_tags:
                self.mText.tag_remove("bt", "sel.first", "sel.last")
            else:
                self.mText.tag_add("bt", "sel.first", "sel.last")
        except tk.TclError:
            pass

    def close_app(self):
        self.destroy()

app = Application()
app.mainloop() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-01-25T10:32:56.667

给有此问题的其他人的注意事项：您对按钮的命令可能不在正确的缩进级别！在进一步挖掘之前检查它是否与您的其他类方法内联。不久前我自己遇到了这个问题，重新检查我的缩进解决了所有问题。

# apache-flex - 如果我运行 Mobile Flex 应用程序“在设备上”模式。设备是否从我的计算机访问数据库

> ID：10039487
> 
> 赞同：0
> 
> 时间：2012-04-06T05:24:11.213
> 
> 标签：apache-flex, flex-mobile

我的应用程序是基于云的应用程序。后端 Mysql。中间件是Jboss。我没有将数据部署到云中。但我想在设备上运行应用程序，它可以从我的电脑访问数据库吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:36:25.353

Flash Builder 运行配置中的“在设备上”设置只做一件事：它在您为其构建的设备上运行应用程序。如：“现在，将应用程序部署到我的设备上，这样我就可以看到它在没有可运行的 PC 硬件时的性能”。

我还没有部署到 Android，所以我不确定那里发生了什么，但对于 iOS 设备，这意味着编译和打包 LLVM 执行并创建一个可部署的 .ipa 包。

适用于 iOS 的限制：您不能加载和运行 SWF 格式的 Flash/Flex 可执行代码，这是最重要的一个。但是，无论您要部署到什么设备，简单的编译设置都不会创建本地数据库来替换外部服务器——当它的设置、特征和数据库架构不包含在您的代码中的任何地方时，它怎么可能呢？它不会禁用互联网连接。

由于您可能正在使用 Internet 访问您的企业中间件，因此您应该不会遇到问题。你为什么不试一试呢？

# asp.net-mvc - ASP .Net MVC 3：子动作和重定向

> ID：10039489
> 
> 赞同：6
> 
> 时间：2012-04-06T05:24:22.027
> 
> 标签：asp.net-mvc, asp.net-mvc-3, asp.net-mvc-2, razor, child-actions

我需要在主页上显示注册表单和登录表。

如果这两种形式的验证失败，我需要在主页上显示正确的错误。

但如果没有错误，则必须将用户重定向到受保护的仪表板。

为此，我`child action`在主页上使用如下：

```
@Html.Action("Register", "Membership") 
```

如果有任何错误，它可以按预期完美工作，因为它能够`re-render`与具有信息`partial view`的正确方法一起使用。`model``validation state`

但是如果没有错误，当它尝试重定向时，它会抛出一个错误，指出：

```
Child actions are not allowed to perform redirect actions. 
```

有没有办法解决？我确信有一种方法可以将注册和登录表单放在主页上。很可能我不知道，因为我对 ASP .Net MVC 很陌生。

你能在这里指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-06T20:28:41.313

一种方法是使用 ajax 表单作为登录和注册位，而不是在提交有效时返回 RedirectResult，而是返回一些客户端脚本将注意并用于执行重定向的 json为你。

这是一个简化的例子。

控制器：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;
using System.ComponentModel.DataAnnotations;
using MvcApplication12.Models;

namespace MvcApplication12.Controllers
{
    public class HomeController : Controller
    { 
        public ActionResult Index()
        {
            return View();
        }

        public ActionResult Register()
        {
            return PartialView(new UserDetails());
        }

        [HttpPost]
        public ActionResult Register(UserDetails details)
        {
            if (ModelState.IsValid)
            {
                return Json(new {redirect = true, url = Url.Action("Index","Dashboard")});
            }
            else
            {
                return PartialView(details); 
            }
        } 
    }
} 
```

主页“索引”视图：

```
@{
    ViewBag.Title = "Index";
}
<script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script type="text/javascript">
    function checkForRedirect(data)
    {
        if (data.redirect && data.url)
        {
            location.href = data.url;
        }
    }
</script>

<p>Home page stuff.....</p>

<div id="RegistrationArea">
    @Html.Action("Register")
</div>

<p> Home page stuff.....</p> 
```

注册表“注册”部分视图：

```
@model MvcApplication12.Models.UserDetails
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@using (Ajax.BeginForm(new AjaxOptions()
{
    HttpMethod = "POST",
    Url = Url.Action("Register", "Home"),
    OnSuccess = "checkForRedirect(data)",
    UpdateTargetId = "RegistrationArea",
    InsertionMode = InsertionMode.Replace
}))
{
    @Html.LabelFor(m => m.UserName)
    @Html.EditorFor(m => m.UserName) 
    @Html.ValidationMessageFor(m => m.UserName)

    @Html.LabelFor(m => m.Password)
    @Html.EditorFor(m => m.Password) 
    @Html.ValidationMessageFor(m => m.Password)

    <input type="submit" />
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-06T05:43:37.373

您不应在该上下文中使用子操作。

您的问题的解决方案可能是在您的页面中放置两个表单，一个用于注册，一个用于登录。注册表单发布到会员控制器中的注册操作，登录操作发布到会员控制器中的登录操作。

如果其中一项操作发生错误，您可以：

*   显示专用登录/注册页面并使用模型/验证结果显示错误消息
*   重定向到用户来自的 URL/Action 并显示您在 TempData 中放置的错误消息

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-12-23T11:22:49.350

**不使用 javascript 进行重定向：** 如果将表单放在子视图中，有时如果在 Beginform 帮助器（子视图内部）中指定操作名称和控制器名称，则不会发生此问题。例如，我像这样更改了我的子操作视图：

前 ：

```
@using (Html.BeginForm())
{
 ...
} 
```

后 ：

```
 @using (Html.BeginForm("InsertComment", "Comments", FormMethod.Post, new { id = "commentform" })) 
{
 ...
} 
```

现在，您可以将 RedirectAction 命令放入“InsertComment”操作中，一切都会正常进行。

* * *

**一页管理两种形式：**

1.为提交按钮指定名称（每个表单）（例如：“submitvalue”）

表格1：

```
 <input type="submit" value="login" name="submitValue" class="btn btn-success pull-right" /> 
```

表格2：

```
 <input type="submit" value="register" name="submitValue" class="btn btn-success pull-right" /> 
```

2.为这些表格做两个动作。（例如：“注册”和“登录”）

```
[HttpPost]
     public ActionResult Login(LoginVM model, string submitValue)
            {
                if (submitValue == "login")
                { 
               //Do Something
                }  
                 ...
             }

[HttpPost]
public ActionResult Register(RegisterVM model, string submitValue)
            {
                if (submitValue == "register")
                { 
               //Do Something
                 }  
                ...
             } 
```

> *   如果您单击表单中的注册或登录按钮，则会调用这两个操作，但使用“if”语句我们确定哪个是我们的目标。

# ruby-on-rails - 使用 Capistrano、Rails 3.1 ruby 1.9.2 部署时出现“堆栈级别太深”错误

> ID：10039492
> 
> 赞同：0
> 
> 时间：2012-04-06T05:24:44.750
> 
> 标签：ruby-on-rails, ruby-on-rails-3.1, capistrano, asset-pipeline

这是发生错误的地方的 cap deploy 脚本输出的日志。有什么建议为什么会发生这种情况？谢谢！

```
 [yup.la] executing command
    [yup.la] sh -c 'cd /srv/www/portrait/releases/20120406051647 && bundle exec rake RAILS_ENV=production RAILS_GROUPS=assets assets:precompile'
 ** [out :: yup.la] rake aborted!
 ** [out :: yup.la] 
 ** [out :: yup.la] stack level too deep
 ** [out :: yup.la] (in /srv/www/portrait/releases/20120406051647/app/assets/stylesheets/mobile.css.scss)
 ** [out :: yup.la] 
 ** [out :: yup.la] Tasks: TOP => assets:precompile:primary
 ** [out :: yup.la] (See full trace by running task with --trace)
 ** [out :: yup.la] 
    command finished in 30868ms
*** [deploy:update_code] rolling back
  * executing "rm -rf /srv/www/portrait/releases/20120406051647; true"
    servers: ["yup.la"]
    [yup.la] executing command
    [yup.la] sh -c 'rm -rf /srv/www/portrait/releases/20120406051647; true'
    command finished in 288ms
failed: "sh -c 'cd /srv/www/portrait/releases/20120406051647 && bundle exec rake RAILS_ENV=production RAILS_GROUPS=assets assets:precompile'" on yup.la
/Users/victorstan/Sites/portrait ∴ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T10:20:15.070

尝试在 Gemfile 中将 sass-rails 版本从 3.1.5 更改为 3.1.4。

# c# - 字符串定义的差异：“”（空字符串文字）与 String.Empty？

> ID：10039493
> 
> 赞同：0
> 
> 时间：2012-04-06T05:24:45.823
> 
> 标签：c#, string

> **可能重复：**
> [String.Empty 和“”（空字符串）有什么区别？](https://stackoverflow.com/questions/151472/what-is-the-difference-between-string-empty-and-empty-string)
> [在 C# 中，我应该使用 string.Empty 还是 String.Empty 还是“”？](https://stackoverflow.com/questions/263191/in-c-should-i-use-string-empty-or-string-empty-or)

字符串有什么区别：

```
str = ""; 
```

和

```
str = String.Empty; 
```

?

# java - Java多维数组和扫描仪新手Q

> ID：10039496
> 
> 赞同：0
> 
> 时间：2012-04-06T05:25:11.767
> 
> 标签：java, multidimensional-array

我是 Java 新手，并试图从本质上实现一个带有字符的网格，如果用户输入“w”、“a”、“s”或“d”，则字符在平面内向上/向下/向左/向右移动。

我创建了一个大小为 10x10 的多维数组 public static String[][] grid = new String[10][10];

然后只使用一个 for 循环在 10x10 网格中打印“*”，除了 grid[a][b]，它等于字符“A”，即我要移动的东西。

这似乎工作正常，然后我需要检测用户的“wasd”输入，所以我设置了一个：

```
Scanner in = new Scanner (System.in);
        while (in.hasNext()) 
```

那时我有：

```
String s = in.next();
char ch = s.charAt(0);
switch (ch) 
```

但我无法完成这项工作，并不是因为我没有完成“switch”语句，而是我完成了，我只是看到它无法复制和粘贴整个内容。

我敢肯定我错过了它非常容易的小事，你能帮我指出吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T12:16:49.680

测试 s 的值：

```
if(!s.isEmpty(){ // Java 6<br>
// Your code
..; 
```

}

那么开关就可以用'char'了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T12:30:36.650

查看您的代码，我猜当您说它不起作用时，您的意思是某些输入被忽略了？

我将编写代码如下：

```
while (in.hasNext()) {
   char ch = (char)in.nextByte();
   switch(ch) 
    ....
} 
```

当然，这假设您只输入 ASCII 字符。

# javascript - 单击浏览器/标签关闭按钮时的确认框

> ID：10039511
> 
> 赞同：0
> 
> 时间：2012-04-06T05:27:03.213
> 
> 标签：javascript

我为此创建了我的网站，我喜欢在用户单击浏览器关闭按钮时创建确认框.....

所以我将我的编码创建为

```
window.onbeforeunload = bunload;
    function bunload() {
        dontleave = "Are you sure you want to leave?";
        return dontleave;
            } 
```

通过这种编码，我每次浏览器加载时都会得到确认框......当用户只点击浏览器关闭按钮时，我需要确认框......

谁能给我一个想法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T05:46:26.910

尝试在您的代码中添加如下的 if 条件。

```
if(event.clientY < 0){
window.onbeforeunload = bunload;
function bunload() {
    dontleave = "Are you sure you want to leave?";
    return dontleave;
        }
   } 
```

这在 IE8 上对我有用。

# jquery - 在 jquery 中，什么是最好的选择器来捕获带有类的输入的更改事件，而且在具有特定 ID 的 ul 中？

> ID：10039514
> 
> 赞同：-1
> 
> 时间：2012-04-06T05:27:30.817
> 
> 标签：jquery, jquery-selectors

我有以下html：

```
<ul id="tree3" class="checkboxTree[1] checkboxTree">
 <li class="collapsed">
 <li class="collapsed">
 <li class="collapsed">
 <li class="collapsed">
 <li class="collapsed">
 <span>
 <input class="checktree" type="checkbox" value="19" fullname="MyName"> 
```

我正在尝试捕获复选框的更改事件。这工作正常：

```
$(".checktree").change(function () {
    UpdateSelectedList();
}); 
```

但我需要确定它的范围，因为页面上有多个“.checktree”。我试过这样做：

```
$("#tree3 > .checktree").change(function () {
    UpdateSelectedList();
}); 
```

或这个：

```
$("ul#tree3 > .checktree").change(function () {
    UpdateSelectedList();
}); 
```

但他们似乎没有开火。有人可以建议上述选择器有什么问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T05:33:02.427

选择器中的`>`元素表示子元素。由于您`.checktree`不是 的直接孩子`#tree3`，因此它不起作用。尝试`#tree3 .checktree`或者`#tree3 > li > span > .checktree`如果您想要完全匹配。

[jQuery 子选择器](http://api.jquery.com/child-selector/)与[jQuery 后代选择器](http://api.jquery.com/descendant-selector/)

# c# - 在 WP7 的提醒通知中显示图片

> ID：10039517
> 
> 赞同：1
> 
> 时间：2012-04-06T05:27:47.177
> 
> 标签：c#, windows-phone-7

有没有办法使用 C# 在 WP7 的提醒通知页面中显示图像？图像应与提醒标题和内容一起显示。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-08T10:17:41.363

不，那里没有。Content 属性看起来可以接受任何上下文，但除了文本之外没有其他内容不起作用。

# php - 执行 ajax 时出错

> ID：10039520
> 
> 赞同：1
> 
> 时间：2012-04-06T05:28:31.123
> 
> 标签：php, javascript, ajax

我一直是stackoverflow的忠实粉丝（这导致我在这里而不是其他任何地方提出这个问题），无论如何，事不宜迟......在创建商店系统时，我计划实现一个购买物品的ajax飞。现在这是检索项目的循环的样子：

```
 <?php
                    $shop_query = mysql_query("SELECT * FROM sector0_item WHERE 1");
                    $numrows = mysql_num_rows($shop_query);
                    While ($shop_fetch = mysql_fetch_array($shop_query)){

                ?>
                    <div id="shop_main">
                        <div class = 'item_img'>
                            <a><img src = "http://images.wikia.com/dofus/images/4/4e/Discovery_Potion.png" height = '100px'/></a>
                        </div>

                        <div class="item_buy">
                            <a><center>Price: <?php echo number_format($shop_fetch['item_price']);?></center><br /></a>
                            <a>Quantity: <input type = 'text' size = '9' id = 'itemquantity'/><br /></a>
                            <a><p>Point requirement: <?php echo number_format($shop_fetch['item_pt_req']);?></p></a>
                            <a><input type = 'button' id = 'buy' value = 'buy'/></a><span id = 'buy_status'></span>

                        </div>
                            <a><h3><?php echo $shop_fetch['item_name'];?></h3></a>
                            <a><p><?php echo $shop_fetch['item_desc'];?></p></a>
                            <a>Item Type: <font color = 'green'><?php echo $shop_fetch['item_class'];?></font></a>
                    </div>
                    <br />
                <?php
                    }
                ?> 
```

但是，我的 ajax 似乎表现得很奇怪。我的实现是显示加载 gif 图像。脚本：

```
 <script type = 'text/javascript'>
                                $('#buy').click (function(){
                                    var quantity = $('#itemquantity').val();
                                    $('#buy_status').html('<img src = "http://www.antibodyresource.com/theme/js/ajax-loader.gif" height = 20px;/>');

                                });
                            </script> 
```

问题是，单击时只有一个按钮显示圆圈。脚本的位置会导致这种情况吗？任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T05:33:38.753

您只能拥有一个具有给定 ID 的项目。当您有多个具有相同 id 的元素时，不确定将返回哪个元素，但它通常只是第一项。

如果您想要多个购买按钮并希望为它们分配所有相同的 jQuery 事件处理程序，请使用通用类名而不是 id。

* * *

如果您正在动态加载内容并且希望事件处理程序为该内容工作，那么您需要使用委托事件处理。

在 jQuery 中，这通常使用`.on()`或来完成`.delegate()`。基本思想是您选择一个未动态加载的静态父对象（可能是 show_main 的父对象）并将事件绑定到该对象，然后像这样传递动态元素的选择器（注意，我已经从id 到一个类来识别购买按钮）：

```
$(staticParentSelector).on('click', '.buyButton', function() {
    $(this).closest(".item_buy").find(".buy_status").html('<img src = "http://www.antibodyresource.com/theme/js/ajax-loader.gif" height = 20px;/>');
}) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T05:36:31.333

两件事情：

1.  从示例中很难看出，但是否有一个迭代器可以创建可用项目的列表？如果是这样，您不应该使用唯一的 ID。如果真的只有一个`#buy`，那么你很好，不过。

2.  当使用 Ajax 更新内容时，您将失去绑定。假设与`#buy`按钮相关的项目被其他项目替换，你最好使用委托事件：

```
// not in an inline script, but just once, ideally in your main JS file
$(document).ready(function() {
  $('#wrapper').on('click', '#buy', (function(){
    var quantity = $('#itemquantity').val();
    $('#buy_status').html('<img src = "http://www.antibodyresource.com/theme/js/ajax-loader.gif" height = 20px;/>');
  });
}) 
```

`#wrapper`Ajax 事件永远不会破坏的 DOM 树中更高的祖先在哪里？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T05:34:36.490

id 是唯一值 - 在 html 页面上，每个 id 必须具有唯一值。改用类。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-06T05:39:45.407

您需要将代码放入`$(document).ready()`. 所以这是：

```
$(document).ready( function() {
    $('#buy').click( function(){
         // do something here
    });
}); 
```

此外，您可能希望列出 jfriend00 关于 ID 的建议。

# c# - 一些字符串伴随着 URL

> ID：10039521
> 
> 赞同：2
> 
> 时间：2012-04-06T05:28:44.447
> 
> 标签：c#, asp.net

当我尝试运行该应用程序时，Internet Explorer 会使用 url 加载我的页面，例如

[http://localhost:1583/PMS/(S(gguhu4jtwv4waa45q5q2ehzk))/GenerateReport.aspx](http://localhost:1583/PMS/(S(gguhu4jtwv4waa45q5q2ehzk))/GenerateReport.aspx)

当我尝试将我的网站发布到服务器时，URL 也会出现一些字符串。早些时候它工作正常。为什么这个**(S(gguhu4jtwv4waa45q5q2ehzk))**带有网址？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T05:32:56.457

您的应用程序配置了[cookieless SessionIDs](http://msdn.microsoft.com/en-us/library/ms178581.aspx)。当您在新浏览器中访问您的站点时，您正在创建一个新会话，因此是一个新 id（即您在上面突出显示的字符串）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T05:34:28.213

它是会话标识符，您正在尝试使用无 cookie 会话。

详细信息：http: [//msdn.microsoft.com/en-us/library/aa479314.aspx](http://msdn.microsoft.com/en-us/library/aa479314.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T05:34:41.100

似乎您使用 cookie 较少的会话，因此会话密钥会自动插入您的 url。看看这个：http: [//msdn.microsoft.com/en-us/library/aa479314.aspx](http://msdn.microsoft.com/en-us/library/aa479314.aspx)

# java - 我可以实例化我的 Activity……我应该吗？

> ID：10039522
> 
> 赞同：0
> 
> 时间：2012-04-06T05:28:46.033
> 
> 标签：java, android

新手警报！

这是情况。我有一个 Android ListActivity 类 (AppWindow)，其中包含为我的应用程序创建和更新 UI 的所有方法。它包括一个调用 setListAdapter 的方法 (refreshWindow)，因此必须是非静态的。到目前为止，我一直在使用一个单独的类 (FileHandler) 来对 AppWindow 类引用的文件执行操作。当执行了某个文件操作时，我已经到了想要调用 refreshWindow 方法的地步。但是，由于 refreshWindow 方法是非静态的，看来我需要实例化 AppWindow 并通过该实例调用该方法。但是，我不确定如何做到这一点，或者这是否是一个好主意。也许我只需要将所有 FileHandler 逻辑移到 AppWindow 中，尽管我'

下面以代码形式对情况进行说明：

应用程序窗口.java

```
...

public class AppWindow extends ListActivity {

...

    void refreshWindow() {

    ...

    setListAdapter(new ListAdapter());

    ...

    }

...

} 
```

文件处理程序.java

```
...

class FileHandler extends Activity {

...

    static void doStuffToFiles() {

    ...

    AppWindow appWindow = new AppWindow();
    appWindow.refreshWindow();

    ...

    }

...

} 
```

我应该这样做吗？如果是这样，我该如何正确实例化 AppWindow？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T05:38:18.900

1.  创建静态成员变量；说行动；在文件处理程序中
2.  在创建 ListActivity 时，使用活动的“this”变量设置变量 act
3.  现在您可以从 FileHandler 访问活动实例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:02:05.777

更新 UI 必须在 UI 线程中。您可以使用处理程序来处理消息。处理程序的构造函数可以包含活动，因此您可以使用它。

# php - Mysql将两个表与函数相关联

> ID：10039525
> 
> 赞同：0
> 
> 时间：2012-04-06T05:30:25.583
> 
> 标签：php, mysql

我有两张表，一张包含团队列表，另一张包含这些团队的时间表和得分结果列表。当我在日程表中插入一行时，我希望能够更新团队表。例如，如果我有：

```
Teams table

Team1
Team2 
```

.

```
Schedules table

team1, 3
team2, 1 
```

我想要做的是更新分数字段时我需要更新团队表中的不同字段。所以当我更新这个时间表行时，

它将 3 插入到 team1 的行之一中，将 1 插入到 team2 的行中

此外，我希望能够计算得分之间的差异，并将其插入到团队表中。

实现这一点的最佳方法是什么？

我需要一个函数来比较分数，对吗？

谢谢，

到目前为止，我想做这样的事情。

```
update table teams set teams.gamesplayed = teams.gameplayed +1  /*this would add one to the games played field because they just played.*/ 
```

然后为进球得分

```
update teams set teams.gf =
(

select t.goalsscored
from schedule t, teams s
where t.teamname = s.team1name AND )

) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:40:30.170

您需要将 ON UPDATE 和 ON INSERT 触发器添加到 Teams 表中 - 仅此而已。在触发器中，您可以做任何您需要的事情。当然，您可以创建独立函数并从触发器中调用它。

# c# - 使用c#从excel导入

> ID：10039531
> 
> 赞同：-1
> 
> 时间：2012-04-06T05:31:51.950
> 
> 标签：c#, asp.net, c#-4.0

我正在创建一个页面以将数据从 excel 上传到数据库，它在本地系统中工作正常而不是在服务器中。请帮我解决这个错误..这是我的部分代码..

```
 if ((FileUpload1.PostedFile != null) && (FileUpload1.PostedFile.ContentLength > 0))
        {
            path = System.IO.Path.GetFileName(FileUpload1.PostedFile.FileName);
            SaveLocation = Server.MapPath("~/Temp") + "\\" + path;
            path = "Temp/" + path;
            FileUpload1.PostedFile.SaveAs(SaveLocation);

            //Import from Excel to database
            System.Data.OleDb.OleDbDataAdapter MyCommand = default(System.Data.OleDb.OleDbDataAdapter);
            System.Data.OleDb.OleDbConnection MyConnection = default(System.Data.OleDb.OleDbConnection);
            MyConnection = new System.Data.OleDb.OleDbConnection("provider=Microsoft.ACE.OLEDB.12.0; " + "data source=" + SaveLocation + "; " + "Extended Properties=Excel 12.0;");
            MyCommand = new System.Data.OleDb.OleDbDataAdapter("select * from [Sheet1$]", MyConnection);
            DS = new System.Data.DataSet();
            MyCommand.Fill(DS);
            DataTable dt = DS.Tables[0];
            if (DS == null)
            {
                lblstatus.Text = "Problem occurred during uploading process... ";
            }
            else
            {
                foreach (DataRow row in dt.Rows)
                {
                    DataSet5TableAdapters.sp_import_emp_generalTableAdapter TA = new DataSet5TableAdapters.sp_import_emp_generalTableAdapter();
                    TA.GetData(Convert.ToString(row["fldempid"]), Convert.ToString(row["fldlastname"]), Convert.ToString(row["fldfirstname"]), Convert.ToString(row["fldnickname"]),
                        Convert.ToString(row["fldDOB"]), Convert.ToString(row["fldmarital"]), Convert.ToString(row["fldgender"]), Convert.ToString(row["fldsmoker"]),
                        Convert.ToString(row["fldpic"]), Convert.ToString(row["fldaddress1"]), Convert.ToString(row["fldaddress2"]), Convert.ToString(row["fldcity"]),

                        Convert.ToString(row["fldstate"]), Convert.ToString(row["fldmobile"]), Convert.ToString(row["fldtele"]), Convert.ToString(row["fldwemail"]),
                        Convert.ToString(row["fldoemail"]), Convert.ToString(row["fldzip"]), Convert.ToString(row["fldtitle"]), Convert.ToString(row["fldjoindate"]),
                        Convert.ToString(row["fldspecification"]), Convert.ToString(row["fldcompany"]), Convert.ToString(row["fldgroup"]), Convert.ToString(row["flddept"]),
                        Convert.ToDouble(row["fldCTC"]), Convert.ToDouble(row["flddiv"]), Convert.ToDouble(row["fldbasic"]), Convert.ToDouble(row["fldhra"]),
                        Convert.ToDouble(row["fldconveyance"]), Convert.ToDouble(row["fldPF"]), Convert.ToDouble(row["fldesi"]), Convert.ToDouble(row["fldPT"]),

                        Convert.ToDouble(row["fldTDS"]), Convert.ToString(row["fldcafeteria"]), Convert.ToDouble(row["fldbasicvalue"]), Convert.ToDouble(row["fldhravalue"]),
                        Convert.ToDouble(row["fldconvalue"]), Convert.ToDouble(row["fldpfvalue"]), Convert.ToDouble(row["fldesivalue"]), Convert.ToDouble(row["fldptvalue"]),
                        Convert.ToDouble(row["fldtdsvalue"]), Convert.ToDouble(row["fldGrosspay"]), Convert.ToDouble(row["fldgrossearn"]), Convert.ToDouble(row["fldtotaldeduction"]),
                        Convert.ToDouble(row["fldnetpay"]), Convert.ToString(row["fldaccount"]), Convert.ToString(row["fldemployer"]), Convert.ToString(row["fldjobtitle"]),
                        Convert.ToString(row["fldstart"]), Convert.ToString(row["fldend"]), Convert.ToString(row["fldtotalexp"]), Convert.ToString(row["fldcomment"]),
                        Convert.ToString(row["fldedu"]), Convert.ToString(row["fldmajor"]), Convert.ToInt32(row["fldpassedout"]), Convert.ToString(row["fldskill"]),
                        Convert.ToString(row["fldexp"]), Convert.ToString(row["fldcomments"]), Convert.ToString(row["fldlanguage"]), Convert.ToString(row["fldfluency"]),
                        Convert.ToString(row["fldstatus"]));

                }

                System.Threading.Thread.Sleep(5000);
                ScriptManager.RegisterStartupScript(this, this.GetType(), "onload", "<script language='javascript'>alert('Data Updated Successfully...');</script>", false);
                lblstatus.Text = "Data updated successfully..";
            }
        }
        else
        {
            ScriptManager.RegisterStartupScript(this, this.GetType(), "onload", "<script language='javascript'>alert('Please select a file to upload');</script>", false);

        }

    }
    catch (Exception e1)
    {
        ScriptManager.RegisterStartupScript(this, this.GetType(), "onload", "<script language='javascript'>alert('" + e1.Message + "');</script>", false);
    } 
```

请帮我解决这个错误....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T12:24:18.400

如果将数据添加到本地数据库，则检查上述代码毫无意义。当您上传 Excel 文件时，您的服务器数据库连接或权限问题一定有问题。

确保您对上传文件的文件夹具有权限：

```
SaveLocation = Server.MapPath("~/Temp") + "\\" + path; 
```

# ruby-on-rails - 在 ruby 和 rails 中安装 rmagick 时出错

> ID：10039532
> 
> 赞同：1
> 
> 时间：2012-04-06T05:31:51.990
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.1

大家好，

我是 ROR 的新手。我正在尝试在我的本地机器上安装 rmagick。当我每次尝试安装它时都会出现以下错误：请帮助我解决这种情况。

```
D:\ruby\bin>gem install rmagick  --platform=ruby -- --with-opt-lib=D:\ruby\Rmmagik\lib --with-opt-include=D:\ruby\Rmmagik\include   Temporarily enhancing PATH to include DevKit...
Building native extensions.  This could take a while...
ERROR:  Error installing rmagick:
ERROR: Failed to build gem native extension.

D:/ruby/bin/ruby.exe extconf.rb --with-opt-lib=D:\ruby\Rmmagik\lib --with-opt-include=D:\ruby\Rmmagik\include
checking for Ruby version >= 1.8.5... yes
checking for stdint.h... yes
checking for sys/types.h... yes
checking for wand/MagickWand.h... no

Can't install RMagick 2.13.1\. Can't find MagickWand.h.
*** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of
necessary libraries and/or headers.  Check the mkmf.log file for more
details.  You may need configuration options.

Provided configuration options:
 --with-opt-dir
 --without-opt-dir
 --with-opt-include=${opt-dir}/include
 --with-opt-lib=${opt-dir}/lib
 --with-make-prog
 --without-make-prog
 --srcdir=.
 --curdir
 --ruby=D:/ruby/bin/ruby
Gem files will remain installed in D:/ruby/lib/ruby/gems/1.8/gems/rmagick-2.13.1 for inspection.
Results logged to D:/ruby/lib/ruby/gems/1.8/gems/rmagick-2.13.1/ext/RMagick/gem_make.out 
```

提前致谢

苏尔扬

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:18:41.720

你缺少一个头文件。

看起来你在 Windows 上，对吧？

如果是这样，一个简单的解决方案可能是为 Windows 下载预构建的 ImageMagick 二进制文件。

[关联](https://www.imagemagick.org/script/download.php?ImageMagick=rdfgqvr16sq8ngvahkosd26om0#windows)

如果您使用的是 Debian 或 Ubuntu：

```
sudo apt-get install imagemagick libmagickcore-dev libmagickwand-dev 
```

（编辑们，请随意添加其他平台的解决方案）

# java - Java：等待鼠标输入（点击）

> ID：10039539
> 
> 赞同：0
> 
> 时间：2012-04-06T05:32:25.183
> 
> 标签：java, swing, input, mouse, jframe

我正在 JFrame 中制作某种基于回合的战斗系统，玩家在轮到他的时候点击一个按钮。问题是：程序如何等待鼠标点击按钮？它是这样的：

轮到玩家了{

*   等待鼠标输入

*   如果输入 == 攻击（例如）

    ```
     -> attack 
    ```

    else if input == item

    ```
     -> use item 
    ```

    等等

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T05:34:36.000

您无需等待点击；你让 Swing 为你做这件事。相反，您将任何您想做的事情放入 an`ActionListener`并将其附加到按钮上，以便在单击按钮时执行。

就轮数而言，您只需要一个成员变量来跟踪轮到谁；然后按钮处理程序必须查看该变量以知道要做什么。

顺便说一句，构造事物的一种好方法可能是在被调用的中拥有一个`Player`类、一个`Game`类和一个成员。然后（将对象保留为它自己的成员变量）可以查看并简单地调用适当的对象。`Game``currentPlayer``ActionListener``Game``currentPlayer``Game``makeMove()``Player`

# sql-server - 客户端服务器 VB.NET（Windows 窗体）应用程序的 SQL Server 2008 配置

> ID：10039540
> 
> 赞同：0
> 
> 时间：2012-04-06T05:32:32.133
> 
> 标签：sql-server, vb.net

**案子 ：**

我正在使用 VB.NET（实际上是 Windows 窗体）创建一个应用程序（桌面应用程序），并为其数据库使用 SQL Server Express 2008。

* * *

**问题 ：**

我想创建一个客户端-服务器应用程序，这意味着我只需要服务器中的 1 个数据库。让我们来看看真正的问题。我有一台电脑和一台笔记本电脑。我设置了我的笔记本电脑的 IP：192.168.1.1 和我的电脑的 IP：192.168.1.2

现在，我将数据库放在我的计算机（192.168.1.2）中，数据库名称为 db_transportasi。问题是，我想从我的笔记本电脑（192.168.1.1）连接到我的计算机数据库。当然有局域网（我已经设置了所有的网络东西）

* * *

**规格 ：**

我在下面使用这个字符串进行连接：

```
Dim connString As String = "Data Source=ARVID-THEODORUS\SQLEXPRESS;Initial Catalog=DB_TRANSPORTASI;Integrated Security=True" 
```

这是 SQL Server SS： ![SQL Server 首次连接](../Images/9c3003448d9a6ffe4511a6afad81e467.png)

* * *

**问题 ：**

1.  我应该在笔记本电脑中使用 SQL Server 2008 做什么？我应该配置一些东西还是像往常一样简单地单击“连接”？

2.  我应该从上面的连接字符串中改变什么？我应该更改计算机中的连接字符串吗？还是只在笔记本电脑上？

之前谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:49:55.580

您应该检查计算机上的 SQL Server 实例是否启用了 tcp 和/或命名管道协议（请参阅计算机开始菜单中 sql server 文件夹下的配置工具）。那么你可能应该在你的计算机防火墙中打开相应的 tcp 端口（1433/tcp 或 1434/tcp）。最后，您可能必须更改笔记本电脑上的连接字符串。由于您没有提及任何域结构，因此集成安全性对您不起作用。将您的 Sql Server 实例配置为使用混合身份验证模式并创建一个您可以在应用程序中使用的 sql server 登录。

# android - 具有ontouch android效果的缩放图像

> ID：10039545
> 
> 赞同：0
> 
> 时间：2012-04-06T05:33:05.303
> 
> 标签：android

我正在尝试从[这里](http://blogs.sonymobile.com/wp/2010/05/18/android-one-finger-zoom-tutorial-part-1/)的一个示例进行ontouch图像缩放并触摸移动屏幕缩小的其他部分，所以我找到了这个链接并尝试在代码中实现，但是有一些错误，比如

```
04-06 10:58:53.618: ERROR/AndroidRuntime(493): FATAL EXCEPTION: main
04-06 10:58:53.618: ERROR/AndroidRuntime(493): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.Zoom_imageview/com.Zoom_imageview.Zoom_imageviewActivity}: android.view.InflateException: Binary XML file line #2: Error inflating class com.sonyericsson.zoom.ImageZoomView
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.os.Handler.dispatchMessage(Handler.java:99)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.os.Looper.loop(Looper.java:123)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.app.ActivityThread.main(ActivityThread.java:4627)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at java.lang.reflect.Method.invokeNative(Native Method)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at java.lang.reflect.Method.invoke(Method.java:521)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at dalvik.system.NativeStart.main(Native Method)
04-06 10:58:53.618: ERROR/AndroidRuntime(493): Caused by: android.view.InflateException: Binary XML file line #2: Error inflating class com.sonyericsson.zoom.ImageZoomView
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:576)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.view.LayoutInflater.inflate(LayoutInflater.java:385)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:198)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.app.Activity.setContentView(Activity.java:1647)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at com.Zoom_imageview.Zoom_imageviewActivity.onCreate(Zoom_imageviewActivity.java:38)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
04-06 10:58:53.618: ERROR/AndroidRuntime(493):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627) 
```

**代码 ：**

```
package com.Zoom_imageview;

import android.app.Activity;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuItem;

import com.Zoom_imageview.zoom.ImageZoomView;
import com.Zoom_imageview.zoom.SimpleZoomListener;
import com.Zoom_imageview.zoom.ZoomState;
import com.Zoom_imageview.zoom.SimpleZoomListener.ControlType;

public class Zoom_imageviewActivity extends Activity {
    /** Called when the activity is first created. */
    private static final int MENU_ID_ZOOM = 0;

    /** Constant used as menu item id for setting pan control type */
    private static final int MENU_ID_PAN = 1;

    /** Constant used as menu item id for resetting zoom state */
    private static final int MENU_ID_RESET = 2;

    /** Image zoom view */
    private ImageZoomView mZoomView;

    /** Zoom state */
    private ZoomState mZoomState;

    /** Decoded bitmap image */
    private Bitmap mBitmap;
    private SimpleZoomListener mZoomListener;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        try
        {
        mZoomState = new ZoomState();

        mBitmap = BitmapFactory.decodeResource(getResources(), R.drawable.icon);

        mZoomListener = new SimpleZoomListener();
        mZoomListener.setZoomState(mZoomState);

        mZoomView = (ImageZoomView)findViewById(R.id.zoomview);
        mZoomView.setZoomState(mZoomState);
        mZoomView.setImage(mBitmap);
        mZoomView.setOnTouchListener(mZoomListener);

        resetZoomState();
        }catch (Exception e) {
            // TODO: handle exception
        }
    }

    @Override
    protected void onDestroy() {
        super.onDestroy();

        mBitmap.recycle();
        mZoomView.setOnTouchListener(null);
        mZoomState.deleteObservers();
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        menu.add(Menu.NONE, MENU_ID_ZOOM, 0, R.string.menu_zoom);
        menu.add(Menu.NONE, MENU_ID_PAN, 1, R.string.menu_pan);
        menu.add(Menu.NONE, MENU_ID_RESET, 2, R.string.menu_reset);
        return super.onCreateOptionsMenu(menu);
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
            case MENU_ID_ZOOM:
                mZoomListener.setControlType(ControlType.ZOOM);
                break;

            case MENU_ID_PAN:
                mZoomListener.setControlType(ControlType.PAN);
                break;

            case MENU_ID_RESET:
                resetZoomState();
                break;
        }

        return super.onOptionsItemSelected(item);
    }

    /**
     * Reset zoom state and notify observers
     */
    private void resetZoomState() {
        mZoomState.setPanX(0.5f);
        mZoomState.setPanY(0.5f);
        mZoomState.setZoom(1f);
        mZoomState.notifyObservers();
    }

} 
```

**XML ::**

```
<?xml version="1.0" encoding="utf-8"?>
<com.sonyericsson.zoom.ImageZoomView
    xmlns:android="http://schemas.android.com/apk/res/android" 
    android:id="@+id/zoomview"
    android:layout_width="fill_parent" 
    android:layout_height="fill_parent" 
    /> 
```

请帮帮我...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T05:36:46.843

```
<?xml version="1.0" encoding="utf-8"?>
<com.sonyericsson.zoom.ImageZoomView
    xmlns:android="http://schemas.android.com/apk/res/android" 
    android:id="@+id/zoomview"
    android:layout_width="fill_parent" 
    android:layout_height="fill_parent" 
    /> 
```

将其更改为

```
 <?xml version="1.0" encoding="utf-8"?>
    <com.Zoom_imageview.zoom.ImageZoomView
        xmlns:android="http://schemas.android.com/apk/res/android" 
        android:id="@+id/zoomview"
        android:layout_width="fill_parent" 
        android:layout_height="fill_parent" 
        /> 
```

或者如果你没有在你的项目中添加一个类 ImageZoomView 然后请添加它，如示例[Here](http://blogs.sonymobile.com/wp/2010/05/18/android-one-finger-zoom-tutorial-part-1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T05:37:13.570

在xml中改成这个

```
<com.Zoom_imageview.Zoom_imageviewActivity 
  xmlns:android="http://schemas.android.com/apk/res/android" 
  android:id="@+id/zoomview"
  android:layout_width="fill_parent" 
  android:layout_height="fill_parent" /> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T05:58:37.083

尝试一下 -

```
package com.activity;

import com.layout.ZoomImageViewer;
import android.app.Activity;
import android.graphics.Bitmap;
import android.os.Bundle;

public class FullScreenImageViewer extends Activity {
   @Override
   public void onCreate(Bundle savedInstanceState) {
      super.onCreate(savedInstanceState);

      ZoomImageViewer zoom = new ZoomImageViewer(this);
      zoom.setBackgroudImage((Bitmap)getIntent().getParcelableExtra("image"));
      setContentView(zoom);
   }
} 
```

还有二等

```
package com.layout;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.drawable.BitmapDrawable;
import android.util.AttributeSet;
import android.view.KeyEvent;
import android.view.MotionEvent;
import android.view.View;
import android.widget.ImageView;
import android.widget.RelativeLayout;
import android.widget.ZoomControls;

public class ZoomImageViewer extends RelativeLayout {
private final Context context;
private int zoomControler           = 100;
private ViewImage viewImage         = null;
private ZoomControls zoom           = null;

private boolean isLowVirtualMemory  = false;

public ZoomImageViewer(Context context) {
    super(context);
    this.context = context;
    setLayout();
}

public ZoomImageViewer(Context context, AttributeSet attrs) {
    super(context, attrs);
    this.context = context;
    setLayout();
}

public ZoomImageViewer(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);
    this.context = context;
    setLayout();
}

private void setLayout() {
    setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT));
    viewImage = new ViewImage(context);
    addView(viewImage);

    RelativeLayout layout   = new RelativeLayout(context);
    LayoutParams params     = new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
    zoom                    = new ZoomControls(context);

    params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);
    layout.setLayoutParams(params);

    params  = new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
    params.addRule(RelativeLayout.CENTER_HORIZONTAL);
    zoom.setLayoutParams(params);
    zoom.setVisibility(View.GONE);
    zoom.setZoomSpeed(0);
    layout.addView(zoom);
    addView(layout);

    zoom.setOnZoomInClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            viewImage.onZoom(true);
        }
    });

    zoom.setOnZoomOutClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            viewImage.onZoom(false);
        }
    });
}

public void setBackgroudImage(byte[] byteImage) {
    setBackgroudImage(BitmapFactory.decodeByteArray(byteImage, 0, byteImage.length));
}

public void setBackgroudImage(Bitmap bm) {
    if(viewImage != null)
        viewImage.setImage(bm);
}

public void setBackgroudImage(int id) {
    if(viewImage != null)
        viewImage.setImage(((BitmapDrawable)context.getResources().getDrawable(id)).getBitmap());
}

private final class ViewImage extends ImageView implements OnTouchListener {
    private final int MAX_SIZE  = 1500;
    private final int MIN_SIZE  = 80;
    private Bitmap bitmap       = null;
    private LayoutParams params = new LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT);
    private float mx, my, curX, curY;

    public ViewImage(Context context) {
        super(context);
        setLayout();
    }

    public ViewImage(Context context, AttributeSet attrs) {
        super(context, attrs);
        setLayout();
    }

    public ViewImage(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
        setLayout();
    }

    private void setLayout() {
        params.addRule(RelativeLayout.CENTER_IN_PARENT);
        setLayoutParams(params);
        setScaleType(ScaleType.CENTER);
        setFocusable(true);
        setOnTouchListener(this);
    }

    public void setImage(Bitmap bitmap) {
        if(bitmap == null)  {
            zoom.setVisibility(View.GONE);
            return;
        }
        this.bitmap = bitmap;
        zoom.setVisibility(View.VISIBLE);
        zoomControler = bitmap.getWidth();
        setImageBitmap(Bitmap.createScaledBitmap(this.bitmap, zoomControler, zoomControler, true));
    }   

    public void onZoom(boolean zoomIn) {
        if((zoomIn) && (zoomControler < MAX_SIZE) && (!isLowVirtualMemory))
            zoomControler += 10;
        else {
            if(zoomControler > MIN_SIZE)
                zoomControler -= 10;
        }
        try {
            setImageBitmap(Bitmap.createScaledBitmap(this.bitmap, zoomControler, zoomControler, true));
            isLowVirtualMemory = false;
        }catch(OutOfMemoryError e) {                
            isLowVirtualMemory = true;
        }
    }

    @Override
    public boolean onKeyDown(int keyCode, KeyEvent event) {
        if(keyCode == KeyEvent.KEYCODE_DPAD_UP) // zoom in
            onZoom(true);
        else if(keyCode == KeyEvent.KEYCODE_DPAD_DOWN) // zoom out
            onZoom(false);

        return(true);
    }

    @Override
    public boolean onTouch(View v, MotionEvent event) {             
        switch (event.getAction()) {
            case MotionEvent.ACTION_DOWN:
                mx = event.getX();
                my = event.getY();
                break;
            case MotionEvent.ACTION_MOVE:
                curX = event.getX();
                curY = event.getY();
                scrollBy((int) (mx - curX), (int) (my - curY));
                mx = curX;
                my = curY;
                break;
            case MotionEvent.ACTION_UP:
                curX = event.getX();
                curY = event.getY();
                scrollBy((int) (mx - curX), (int) (my - curY));
                break;
        }
        return(true);
    }
}
} 
```

# codeigniter - Codeigniter -> 选择菜单表单验证

> ID：10039549
> 
> 赞同：0
> 
> 时间：2012-04-06T05:33:47.123
> 
> 标签：codeigniter, validation

完成视图后，我开始编写控制器代码：

关于选择菜单的几个问题：

*   如何验证选择菜单 - 我不希望他们能够选择“请选择”</p>

*   我还能用吗`$this->form_validation->set_rules('','','required');`

*   如何将正确答案发送到控制器？

    ```
     <label for="hostingRequired">Hosting Required:</label>
            <select name="hostingRequired">
                <option value="pleaseSelect"> Please Select</option>
                    <option value="yes">Yes</option>
                    <option value="no">No</option>
                </select>
        <label for="domainRequired">Domain Registration: </label>
                    <select name="domainRequired">
                        <option value="pleaseSelect">Please Select</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
        <div id="domainToBeReged">
                    <label for="domainToBeReged">Domain:</label><input name="domainToBeReged" type="text" placeholder="http://www." />
                    <label for="domainToBeReged0">Domain:</label><input name="domainToBeReged0" type="text" placeholder="http://www." />
        </div> 
    ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:53:13.720

您可以执行以下操作

然后使用以下验证规则

```
$this->form_validation->set_rules('','','required|callback_is_default');

function is_default($array)
{
  foreach($array as $element)
  {
    if($element == 'pleaseSelect')
    { 
      return FALSE;
    }
  }
 return TRUE;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T08:03:45.233

在您的验证规则中添加：

```
$this->form_validation->set_rules('hostingRequired','Hosting Required','required|callback__check_select_yes_or_no');
$this->form_validation->set_rules('domainRequired','Domain registration','required|callback__check_select_yes_or_no'); 
```

此外，将此附加方法添加到您的控制器作为验证规则回调：

```
function _check_select_yes_or_no($str)
{
    if ($str != 'yes' && $str != 'no')
    {
        $this->form_validation->set_message('_check_select_yes_or_no', 'Please select yes or no for the %s field');
        return FALSE;
    }
    else
    {
        return TRUE;
    }
} 
```

这适用于“是”或“否”选项 - 如果您想添加更多调整回调，或者如果用户选择“请选择”则反转检查以失败。

或者，一种更好的方法可能是使用单选按钮来表示“是”和“否”，而不是在表单加载时“选中”。

```
<fieldset><legend> Hosting required:</legend>
    <label><input type="radio" name="hostingRequired" value="yes">Yes</label><br />
    <label><input type="radio" name="hostingRequired" value="no">No</label>
</fieldset> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T05:50:06.783

如果您没有找到您想要的验证规则，请扩展验证库并编写您自己的规则。[看例子](http://www.scottnelle.com/41/extending-codeigniters-validation-library/)如何做到这一点。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-10T10:45:00.297

这样做的正确方法如下：

*   首先将默认选项的值设置为空
*   其次，您使用简单的验证规则

所以这里是代码

```
<label for="hostingRequired">Hosting Required:</label>
    <select name="hostingRequired">
        <option value=""> Please Select</option>
            <option value="yes">Yes</option>
            <option value="no">No</option>
        </select>
<label for="domainRequired">Domain Registration: </label>
            <select name="domainRequired">
                <option value="">Please Select</option>
                <option value="yes">Yes</option>
                <option value="no">No</option>
            </select>
<div id="domainToBeReged">
            <label for="domainToBeReged">Domain:</label><input name="domainToBeReged" type="text" placeholder="http://www." />
            <label for="domainToBeReged0">Domain:</label><input name="domainToBeReged0" type="text" placeholder="http://www." />
</div> 
```

.

```
$this->form_validation->set_rules('hostingRequired','HostingRequired','required');
$this->form_validation->set_rules('domainRequired','DomainRequired','required'); 
```

# mysql - jasypt 与 Hibernate

> ID：10039554
> 
> 赞同：0
> 
> 时间：2012-04-06T05:34:30.727
> 
> 标签：mysql, hibernate, jsp, servlets, jasypt

我想在 servlet 中使用 Jasypt 和 Hibernate。我[在这里提到了Jasypt](http://www.jasypt.org/hibernate.html)。它说明了如何配置 Hibernate。但是，仍然不清楚我如何处理`session`保存和检索结果。我做了上面链接中提到的 Hibernate 的配置（我不会再在这里跳过它们）。让我知道如何使用 Session 保存和检索数据。
举个简单的例子，可以说，我有一个名为“登录”的表，包含 2 列“名称”、“密码”。列“名称”数据类型是 varchar，“密码”是 varbinary。该类`pojo`具有变量字符串名称和字节 [] 密码。如何从表“登录”中保存和检索数据。至少任何用示例代码解释的有用链接都会受到赞赏。

**编辑**
当我配置休眠 .hbm 文件并尝试照常保存时，也会引发异常。

# javascript - 检查检查了哪些复选框，然后发送 ajax 请求

> ID：10039556
> 
> 赞同：0
> 
> 时间：2012-04-06T05:34:34.050
> 
> 标签：javascript, jquery

**主题背景**

好的，我一直在编写一个消息传递页面，用户来查看他们的消息，这是在不从页面移动的情况下完成的，因此它使用 ajax 和 json 调用通过**jquery获取数据**

我的问题是

**如果他们检查哪些复选框被*选中****然后返回“ids”哦，如果用户懒惰并且不清理他的收件箱，他们可能多达100个复选框**

如果您想了解我的意思，请访问[http://125.239.244.47/social/](http://125.239.244.47/social/) 并使用用户**测试**登录，密码什么都没有（不是单词），登录时转到首页上的消息，谢谢您帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:39:21.537

是的，jQuery 有一个[Checked Selector](http://api.jquery.com/checked-selector/)：

```
var checkedBoxIds = $("input:checked").id(); 
```

# java - Java中的鼠标拖动滚动

> ID：10039563
> 
> 赞同：3
> 
> 时间：2012-04-06T05:35:13.907
> 
> 标签：java, click, scroll, mouse, drag

我想在 Java 上构建一个类似 Android 的 MouseDragScrolling，用于像这样的大触摸屏[http://jqueryfordesigners.com/demo/scrollable-timelines.html](http://jqueryfordesigners.com/demo/scrollable-timelines.html)我有这个例子[http://java-swing-tips.blogspot.mx /2008/06/mouse-drag-auto-scrolling.html](http://java-swing-tips.blogspot.mx/2008/06/mouse-drag-auto-scrolling.html)但我想在 JTable 或其他组件上使用 MouseDragScrolling 并阻止和区分 MouseClick 和 MouseDrag。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-07T07:34:49.757

如果您正在尝试自动化用户操作，请查看[FEST](http://fest.easytesting.org/)。如果您正在使用 Swing 应用程序，它将解决您的问题。

# php - 融合表限制

> ID：10039564
> 
> 赞同：1
> 
> 时间：2012-04-06T05:35:15.063
> 
> 标签：php, javascript, google-maps, google-fusion-tables

我想使用谷歌地图和融合表创建一个网站，用户可以在地图上留下带有消息的标记，以便其他用户能够在他们的地图上看到这个标记。所有这些都是实时的。

我已经创建了一个小型原型。我有一个问题：谷歌[对使用 FT 有限制](https://developers.google.com/maps/documentation/javascript/layers#FusionTablesLimits)

因此，用户将无法看到放置超过 100.000 个的标记：

*   只有表中的前 100,000 行数据被映射或包含在查询结果中。
*   使用空间谓词的查询仅返回前 100,000 行中的数据。

因此，如果您将筛选器应用于非常大的表并且筛选器匹配前 100K 之后的行中的数据，则不会显示这些行。

我怎样才能克服这个限制？或者最好创建我自己的数据库并使用标记集群来处理大量标记，从而忘记 FT？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-07T11:06:13.720

AFAIK 没有办法绕过 100K 的限制。也许一个花钱的 Google Premier 许可证可以让你克服这个问题，我不确定。另一种可能性是维护 5 个融合表，每个表最多有 100K 行。您可以通过 GMap API 一次显示 5 个 Fusion Table 图层。不明白为什么这不起作用。您只需要针对所有当前图层运行查询代码。我已经用 2 层（都比 100K 小得多）做到了这一点，但效果很好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-20T17:01:37.113

从最广泛的角度来看，如果您受到 100k 限制的威胁，请使用以下算法

联合（最新的 50k 记录，从所有较旧的随机样本 50k 记录）

并绘制这个“有限”集。视图实际上不可能向您的用户显示每个点。

当他放大时，通过 JS 获取当前的查看尺寸，并从查看区域内的那些中过滤您的数据库记录。

这意味着，您首先要调用以查看过滤器是否返回 100k（因此意味着可能有 100k+ 条记录可以显示）再次应用随机采样算法以减少到 100k。如果过滤器返回 <100k，那么您不再需要随机采样，并且您不再受到限制的威胁。

# python - Python 以什么顺序解析函数？（为什么 string.join(lst.append('a')) 失败？）

> ID：10039567
> 
> 赞同：1
> 
> 时间：2012-04-06T05:36:10.070
> 
> 标签：python, types

string.join 如何解决？我尝试如下使用它：

```
import string 
list_of_str = ['a','b','c'] 
string.join(list_of_str.append('d')) 
```

但是却得到了这个错误（与 2.7.2 中的错误完全相同）：

```
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/usr/local/lib/python2.6/string.py", line 318, in join
    return sep.join(words)
TypeError 
```

追加确实发生了，你可以看到如果你再次尝试加入 list_of_string ：

```
print string.join(list_of_string)
-->'a b c d' 
```

* * *

这是来自 string.py 的代码（找不到用于 sep 的内置 str.join() 的代码）：

```
def join(words, sep = ' '):
    """join(list [,sep]) -> string

    Return a string composed of the words in list, with
    intervening occurrences of sep.  The default separator is a
    single space.

    (joinfields and join are synonymous)

    """
    return sep.join(words) 
```

这里发生了什么？这是一个错误吗？如果这是预期的行为，它如何解决/为什么会发生？我觉得我要么即将学习一些有趣的关于 python 执行其函数/方法的顺序的东西，要么我刚刚遇到了 Python 的一个历史怪癖。

* * *

旁注：当然，预先进行附加是有效的：

```
list_of_string.append('d')
print string.join(list_of_string)
-->'a b c d' 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T05:37:16.707

```
list_of_str.append('d') 
```

不返回新的`list_of_str`。

该方法`append`没有返回值，因此返回`None`。

为了使它工作，你可以这样做：

```
>>> import string
>>> list_of_str = ['a','b','c']
>>> string.join(list_of_str + ['d']) 
```

虽然这不是很 Pythonic，也没有必要`import string`......这种方式更好：

```
>>> list_of_str = ['a','b','c']
>>> ''.join(list_of_str + ['d']) 
```

# mysql - MYSQL 多行 INSERT WHERE NOT EXISTS

> ID：10039569
> 
> 赞同：1
> 
> 时间：2012-04-06T05:36:13.237
> 
> 标签：mysql, sql, insert

我一直在到处寻找，找不到这样的东西。我有两个表，表一个每个值`t1`有**12 个**条目，除一个条目外，所有值都是静态的。既不是主键也不是主键。也有其他所有的静态列。`a1``b1``a1``a1``b1``t1``a1`

表二`t2`有`a2`且`b2`值不是静态的。主键也不`a2`是`b2`（我使用独立的 id 列作为主键）。

我的目标是导入所有`a2`不存在于`t1`. 请记住，表 1 目前有大约 200 万个条目，而表 2 通常会有 150K-1M 条目。

这有效：

```
INSERT t1 ( a1, b1, c1, d1 )
SELECT a2, b2, 'constant1', 'constant2'
FROM t2 AS V2
WHERE NOT EXISTS ( SELECT 1 FROM t1 WHERE a1=V2.a2 ) 
```

但它只输入一个`a2`条目`t1`，留下**11 个**缺失条目。

这是我的想法：

```
SELECT a2, b2 FROM t2 AS V2
INSERT INTO t1 ( a1, b1, c1, d1 )
       VALUES  ( V2.a2, V2.b2, 'constant1', 'constant2' ),
               ( V2.a2, 'constant3', 'constant1', 'constant2'),
               ( V2.a2, 'constant4', 'constant1', 'constant2'),
               ( V2.a2, 'constant5', 'constant1', 'constant2'),
               ( V2.a2, 'constant6', 'constant1', 'constant2'),
               ( V2.a2, 'constant7', 'constant1', 'constant2'),
               ( V2.a2, 'constant8', 'constant1', 'constant2'),
               ( V2.a2, 'constant9', 'constant1', 'constant2'),
               ( V2.a2, 'constant10', 'constant1', 'constant2'),
               ( V2.a2, 'constant11', 'constant1', 'constant2'),
               ( V2.a2, 'constant12', 'constant1', 'constant2'),
               ( V2.a2, 'constant13', 'constant1', 'constant2')
WHERE NOT EXISTS ( SELECT 1 FROM t1 WHERE a1=V2.a2 ) 
```

这样的事情可能吗？（这显然不起作用，主要的语法错误）。

来自实际表格的样本数据：

```
 +---------+------+-------------+-------------+--------------+
 | id      | name | destination | application | durationRate |
 +---------+------+-------------+-------------+--------------+
 |   45013 | 1    | 1305200     | audio       | 0            | 
 |  335203 | 2    | 1305200     | audio       | 0.014        | 
 |  625393 | 3    | 1305200     | audio       | 0.005928     | 
 |  956657 | 4    | 1305200     | audio       | 0            | 
 | 1251735 | 5    | 1305200     | audio       | 0            | 
 | 1560365 | 6    | 1305200     | audio       | 0.02         | 
 | 1868995 | 7    | 1305200     | audio       | 0.014        | 
 | 2200259 | 9    | 1305200     | audio       | 0.014        | 
 | 2517971 | 10   | 1305200     | audio       | 0.018        | 
 | 2813049 | 11   | 1305200     | audio       | 0.018        | 
 | 3121679 | 12   | 1305200     | audio       | 0.00775      | 
 | 3430309 | 8    | 1305200     | audio       | 0            | 
 |   45015 | 1    | 1305201     | audio       | 0            | 
 |  335205 | 2    | 1305201     | audio       | 0.014        | 
 |  625395 | 3    | 1305201     | audio       | 0.006552     | 
 |  956659 | 4    | 1305201     | audio       | 0            | 
 | 1251737 | 5    | 1305201     | audio       | 0            | 
 | 1560367 | 6    | 1305201     | audio       | 0.02         | 
 | 1868997 | 7    | 1305201     | audio       | 0.014        | 
 | 2200261 | 9    | 1305201     | audio       | 0.014        | 
 | 2517973 | 10   | 1305201     | audio       | 0.018        | 
 | 2813051 | 11   | 1305201     | audio       | 0.018        | 
 | 3121681 | 12   | 1305201     | audio       | 0.00775      | 
 | 3430311 | 8    | 1305201     | audio       | 0            | 
 |   45017 | 1    | 1305202     | audio       | 0            | 
 |  335207 | 2    | 1305202     | audio       | 0.014        | 
 |  625397 | 3    | 1305202     | audio       | 0.00468      | 
 |  956661 | 4    | 1305202     | audio       | 0            | 
 | 1251739 | 5    | 1305202     | audio       | 0            | 
 | 1560369 | 6    | 1305202     | audio       | 0.02         | 
 | 1868999 | 7    | 1305202     | audio       | 0.014        | 
 | 2200263 | 9    | 1305202     | audio       | 0.014        | 
 | 2517975 | 10   | 1305202     | audio       | 0.018        | 
 | 2813053 | 11   | 1305202     | audio       | 0.018        | 
 | 3121683 | 12   | 1305202     | audio       | 0.00775      | 
 | 3430313 | 8    | 1305202     | audio       | 0            | 
 +---------+------+-------------+-------------+--------------+
 36 rows in set (0.00 sec) 
```

在我的示例表中，`a1`= `destination`, `b1`= `durationRate`, `c1`= `name`, `d1`=`application` 定义了 12 种不同的汇率牌组`name`。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T05:40:54.143

`where`在子句中使用更具体的条件。我在这里添加了另一列，但它只能工作 id 对`a1`并且`b1`是唯一的，如果不是，你应该添加更多列来条件。

```
INSERT t1 ( a1, b1, c1, d1 )
SELECT a2, b2, 'constant1', 'constant2'
FROM t2 AS V2
WHERE NOT EXISTS (
    SELECT 1 
    FROM t1 WHERE a1 = V2.a2 and b1 = V2.b2
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-10T07:57:23.963

好的，我想我现在明白你想要什么了。

您需要为每个新的 a2 值创建 11 行，这些值应该填充与其他同名列 (c1) 值相同的值（旁注 - 这不是标准化表和减少表的机会吗？存储的数据量？）。然后，给定 a2 值的第 12 行应该具有 b1 的唯一值，如 t2 中指定的那样。

创建它的一种方法是首先使用标准 11 值填充临时表。然后使用它加上 t2 中的条目来获取要插入的行

使用 SQL Server 语法：

```
insert into @staticValues (c1, otherCol, b1)  
select c1, otherCol, b1  
from t1  
where a1 = 1305202 -- arbitrary sample existing value  
and c1 <> 3 -- ignoring the varying row

insert into t1 (a1, c1, otherCol, b1)  
select t2.a2, sv.c1, sv.otherCol, sv.b1  
from @staticValues sv  
  inner join t2 on t2.a2 = t2.a2 -- equivalent to a cross join  
where not exists (select 1 from t1 where t1.a1 = t2.a2)  
union  
select t2.a2, 3, 'audio', t2.b2  
from t2  
where not exists (select 1 from t1 where t1.a1 = t2.a2) 
```

# node.js - 为什么 Nodejs 提供的文件 CPU 使用率是 Nginx 的 80 倍？

> ID：10039570
> 
> 赞同：4
> 
> 时间：2012-04-06T05:36:13.877
> 
> 标签：node.js, nginx

采用与 nodejs.org 主页上相同的代码。提供一个 1.8Mb 的静态文件。对 Nginx 做同样的事情，并观察差异。

`Code :` [http://pastie.org/3730760](http://pastie.org/3730760)

`Screencast :` [http://screencast.com/t/Or44Xie11Fnp](http://screencast.com/t/Or44Xie11Fnp)

如果您知道任何可以防止这种情况发生的事情，请分享，这样我们就不需要部署 nginx 服务器并使我们的生活复杂化。

ps1。此测试使用节点 0.6.12 完成。出于好奇，我降级到 0.4.12 只是为了检查它是否是回归，相反，情况更糟。同一个文件两次使用了 25%。

ps2。这篇文章不是讨厌 nodejs - 我们使用 nodejs，我们喜欢它，除了这个实际上延迟了我们的发布的小故障（让我们非常难过），而且对我来说似乎很严重。我从未读过、听过、看过或预期会遇到。

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-04-06T06:30:12.983

# frameworks - 是否有 C 的跨平台框架？

> ID：10039571
> 
> 赞同：0
> 
> 时间：2012-04-06T05:36:14.797
> 
> 标签：frameworks, cross-platform

当然，我很想知道是否有任何用于 C 语言的编程库/框架用于跨平台编程。我的意思是已经有像 Wxwidgets、Boost、Qt、U++ 等适用于 C++ 的框架，但我还没有找到任何适用于 C 的框架。

**更新信息：**

我们正在尝试构建一个底层框架/库以在我们的项目中使用。我们将消除 dotnet，而是为那些快速且要求不高的库提供一个对应物。

我们将致力于基于服务器/客户端的项目，因此底层服务必须快速且可移植。GUI 现在不是我们的首要任务，但提供线程功能的库对我们来说很重要。

对于 ANSI 部分，我认为我们目前对此很好，除非将来有什么改变。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T07:18:54.680

如果您编写普通的 ANSI C，它应该适用于每个 POSIX 系统。跨平台 C 库最成功的例子是标准 C 库本身（恕我直言）。

如果您正在寻找 GUI 工具包 GTK 就是答案，如果您正在寻找终端 UI，ncurses 非常便携。

如果您正在寻找通用库，只要它们是用 ANSI C 编写的，只要它不使用系统级 API，几乎可以在任何地方使用。

您能告诉我们，您正在寻找什么样的库/框架？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T07:02:56.300

[GTK+](http://www.gtk.org/)是长期建立和积极维护的跨平台纯 C（或主要）工具包。您不仅可以找到在线文档，还可以找到有关它的书籍。它是支持[GNOME](http://www.gnome.org/)项目的框架。

首先，GTK+ 旨在使用 UI 构建应用程序。然而，即使您不需要 UI，您也会发现一些 GTK+ 组件，即[GLib](http://developer.gnome.org/glib/)，提供与 Qt 相当的通用多平台支持。实际上，我最初需要一个没有 UI 的框架，并选择了 GLib 而不是[APR](http://apr.apache.org/)，因为我能够更轻松地找到文档和教程。

GTK+ 最初是在 UN*X 和 X-Windows 上开发的，它仍然是您可以最轻松地运行它的平台。我不会说在 Windows 上更难。只是你有更多的编译环境选项。我从准备好的 GTK+ 包和[MinGW](http://www.mingw.org/)开始，但最终将 GTK+ 与 MSVC 集成。

GTK+ 存在了很长时间，有些人可能会觉得它很老套。另一方面，它表明它已被证明是稳定和有用的。还有[C++](http://www.gtkmm.org/)和[C#](http://www.mono-project.com/GtkSharp)的绑定。

与每个大型框架一样，您需要的越多，您学习的时间就越长。但反过来它也可以。你学的越多，你就能用它做的越多。一致的编码风格有助于习惯它。

--- 费尔达

# html - IE9奇怪的黑色边框

> ID：10039577
> 
> 赞同：3
> 
> 时间：2012-04-06T05:37:05.017
> 
> 标签：html, css, internet-explorer-9

我面临着一个奇怪的 IE9 问题。我在我的页面中看到很多随机的黑色边框，甚至认为它们是框阴影或简单边框：无。我在 iMac 的 Parallel Desktop 中使用 Windows。它只是我的电脑还是一个常见的错误？

![在此处输入图像描述](../Images/9ddabe5e72947f7043de0b66d833a367.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T07:26:40.003

这是我们最近在使用 IE9 时遇到的一个问题，如果您看到它，很可能还有很多其他问题。

如果我没记错的话，我想我们只是通过申请解决了

```
img.class {
  border-style: none;
} 
```

对于 CSS 中适当的类/ID - 在忽略问题之前，看看您是否注意到浏览器中的任何变化可能值得一试。

尝试通过将以上内容应用于整个站点上的每个图像进行测试，然后您将查看是否可以通过此方法解决。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T05:48:48.653

它在 IE9 或 Google Chrome 中没有给我任何问题；它一定是你的电脑。

# php - 如何将netbeans ide和wamp服务器一起用于php项目

> ID：10039586
> 
> 赞同：3
> 
> 时间：2012-04-06T05:37:55.930
> 
> 标签：php, wampserver, netbeans-7.1

我已经安装了 netbeans ide 7.1 和 wamp server 2.0 ，我的问题是如何使用 netbeans ide 来调试和运行 php 代码。这需要什么设置。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-02-22T03:13:07.457

按照[此链接](http://hassoon3.wordpress.com/2011/12/18/developing-php-with-netbeans-7-0-1-and-wamp2-2-server/)上的步骤操作。作者提供了一个简单的分步指南。

使用 NetBeans 7.4 + WAMP v2.4 成功遵循指南

**注意：您无需单击“工具”-->“选项”菜单中的“常规”选项卡，而是单击“调试”选项卡来修改端口。

# android - Android：闹钟每 30 分钟播放一次，从 12:30 开始

> ID：10039593
> 
> 赞同：1
> 
> 时间：2012-04-06T05:38:27.793
> 
> 标签：android, service, alarmmanager, android-alarms

在这里，我将使用闹钟服务每隔 30 分钟播放一次闹钟。现在我已经将它设置为从每次开始每 10 秒播放一次。

这是代码：

```
@Override
public void onCreate(Bundle savedInstanceState){
    super.onCreate(savedInstanceState);
    setContentView(R.layout.settings_layout);

    Intent myIntent = new Intent(SettingsActivity.this, MyAlarmService.class);
    pendingIntent = PendingIntent.getService(SettingsActivity.this, 0, myIntent, 0);

    AlarmManager alarmManager = (AlarmManager)getSystemService(ALARM_SERVICE);

    Calendar calendar = Calendar.getInstance();
    calendar.setTimeInMillis(System.currentTimeMillis());

    alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), 10*1000, pendingIntent);

} 
```

现在的问题是，我想从 12:30 开始警报，而不是从应用程序开始的时间开始，它应该在每 30 分钟重复播放。比如 1:00, 1:30, 2:00 。. . ETC

那么我必须在我的代码中做哪些更改？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T22:12:13.193

在特定时间启动服务。看到这篇文章可能会有所帮助：

[使用 Alarmmanager 在特定时间启动服务](https://stackoverflow.com/questions/3052149/using-alarmmanager-to-start-a-service-at-specific-time)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T05:55:49.257

[使用Set 方法](http://developer.android.com/reference/android/app/AlarmManager.html#set%28int,%20long,%20android.app.PendingIntent%29)将您的初始闹钟时间设置为 12:30 。

当闹钟响起时，设置您的下一个闹钟时间并继续这样做，直到您不再需要闹钟为止。

您不需要服务来完成如此简单的任务。AlarmManager 完全有能力处理这个问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-06T06:28:45.820

[尝试一下](http://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/app/AlarmService.html)

并第一次使用 -

[尝试另一个](http://android-er.blogspot.in/2010/10/simple-example-of-alarm-service-using.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-06T06:50:46.720

一种天真的方法是：

1.  启动将始终运行的上下文，例如[Service](http://developer.android.com/reference/android/app/Service.html)中的[Thread](http://developer.android.com/reference/java/lang/Thread.html)。
2.  [使用Date](http://developer.android.com/reference/java/lang/System.html#currentTimeMillis%28%29)计算您希望下一个警报响起的时间的时间戳，并将其放入“long alertTimestamp”中。
3.  在一个循环中，立即使用[Date](http://developer.android.com/reference/java/lang/System.html#currentTimeMillis%28%29)计算时间戳并将其放入 "long nowTimestamp" 中。
4.  如果 nowTimestamp < alertTimestamp，让线程[休眠](http://developer.android.com/reference/java/lang/Object.html#wait%28%29)（alertTimestamp - nowTimestamp）。
5.  否则发出警报并重新计算警报时间戳，重复。

确保你优雅地捕捉到通知中断，这是中止计时器的关键。

希望这会有所帮助。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-12-08T13:38:56.323

对于每 30 分钟重复一次，您需要将其添加到您的代码中：

```
alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), 1000*60*30, pendingIntent); //millisecs*seconds*minutes 
```

但我还没有弄清楚如何在特定时间开始。

# networking - 传输层在哪里运行？

> ID：10039594
> 
> 赞同：5
> 
> 时间：2012-04-06T05:38:30.447
> 
> 标签：networking, tcp, operating-system, layer, osi

我想知道 OSI 模型的传输层在计算机系统中运行的位置。它是操作系统的一部分吗？它是否在自己的进程或线程中运行？它如何将信息向上传递到其他应用程序或向下传递到其他层？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-06T06:41:16.600

> 我想知道 OSI 模型的传输层在计算机系统中运行的位置。

它不是。OSI 模型适用于 OSI 协议套件，该协议套件已失效，并且不在 AFAICS 的任何地方运行。然而 TCP/IP 有它自己的模型，它也包括一个传输层。我会假设这就是你以后的意思。

> 它是操作系统的一部分吗？

是的。

> 它是否在自己的进程或线程中运行？

不，它作为操作系统的一部分运行。

> 它如何将信息传递给其他应用程序

通过系统调用，例如 Berkeley Sockets API、WinSock 等。

> 还是下到其他层？

通过内部内核 API。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T05:50:02.707

OSI 模型所称的传输层与 TCP/IP 中的 TCP 层相当接近。也就是说，它提供了有保证的交付/错误恢复，以及主机之间的透明传输——您不需要关注数据是如何从一台主机路由到另一台主机的——您只需指定一个目的地，网络就会计算出来如何到达那里。

至于实现的地方：嗯，主要是在 TCP/IP 堆栈中，它通常是操作系统的一部分。但是，现代硬件至少可以在硬件中实现一些位和部分（例如，TCP 校验和和流控制）。网络堆栈将通过设备驱动程序将 TCP 操作的这些部分卸载到硬件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T05:51:10.513

传输层作为库提供，通常随操作系统一起提供。

逻辑部分在库中实现。与传输介质的交互是通过驱动程序进行的。

# iphone - 在 UIWebView 中打开的 HTML 页面中自动填充用户名和密码

> ID：10039602
> 
> 赞同：2
> 
> 时间：2012-04-06T05:39:52.713
> 
> 标签：iphone, objective-c, regex, uiwebview, autofill

使用 UIWebView 自动填充数据时如何使用 RegsEx 查找登录表单？

我使用以下代码获取所有表单数据：

```
int NoOfForms = [[self.browser stringByEvaluatingJavaScriptFromString:@"document.forms.length"] intValue];

NSMutableArray *formData = [[NSMutableArray alloc] initWithCapacity:0];

for (int i = 0 ;  i < NoOfForms ; i++) 
{
    // total number of elements in each form
    int elementsInForm = [[self.browser stringByEvaluatingJavaScriptFromString:[NSString stringWithFormat:@"document.forms[%d].elements.length",i]] intValue];
    for (int j = 0; j < elementsInForm; j++) 
    {
        // element id of each element
        NSString *elementID = [NSString stringWithFormat:@"document.forms[%d].elements[%d].id",i,j];
        // element value of each element
        NSString *elementValue = [NSString stringWithFormat:@"document.forms[%d].elements[%d].value",i,j];

        // dictionary for all values of each element  
        NSDictionary *elementData = [NSDictionary dictionaryWithObjectsAndKeys:
                                     [NSNumber numberWithInt:i],@"form No",
                                     [NSNumber numberWithInt:j],@"element No",
                                     [self.browser stringByEvaluatingJavaScriptFromString:elementID],@"elementID",
                                     [self.browser stringByEvaluatingJavaScriptFromString:elementValue],@"elementValue",nil];

        // add each element data to a mutable array.
        [formData addObject:elementData];
    }
} 
```

并具有以下代码将数据放回各自的字段：

```
for (int i = 0 ; i < [dataArray count]; i++) 
{
    NSDictionary *elementDict = [dataArray objectAtIndex:i];

    int formNumber = [[elementDict objectForKey:@"form No"] intValue];
    int elementNumber = [[elementDict objectForKey:@"element No"] intValue];
    NSString *formElementID = [elementDict objectForKey:@"elementID"];
    NSString *formElementValue = [elementDict objectForKey:@"elementValue"];

    if ([[self.browser stringByEvaluatingJavaScriptFromString:[NSString stringWithFormat:@"document.forms[%d].elements[%d].id",formNumber,elementNumber]] isEqualToString:formElementID])
     {
          [self.browser stringByEvaluatingJavaScriptFromString:[NSString stringWithFormat:@"document.forms[%d].elements[%d].value='%@'",formNumber,elementNumber,formElementValue]];
     }

} 
```

现在我只想提交登录表单..如何找到它？

我遇到了另一个问题：当我的代码将密码放入其字段时，某些网站（如 mail.google.com）确实让这种情况发生，即它清空了密码字段。如何解决这个问题呢 ？

更新：目前我已经能够登录 mail.google.com，但无法在 belleandclive.com 上进行同样的操作。该站点是否对其登录表单实施任何安全措施？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T07:01:28.073

我想你可以根据表单数据或表单id来判断哪个是登录表单，对吧？

因此，如果登录表单 id 为`login-form`，则可以使用以下代码提交：

```
NSString * js = @"document.getElementById('login-form').submit()";
[self.webview stringByEvaluatingJavaScriptFromString:js]; 
```

或者你可以根据表单数据判断哪个索引是登录表单来汇总表单：

```
int index = ....// your judge code to get index
NSString * js = [NSString stringWithFormat:@"document.forms[%d].submit()", index];
[self.webview stringByEvaluatingJavaScriptFromString:js]; 
```

# android - 为移动设备创建字典应用程序

> ID：10039603
> 
> 赞同：1
> 
> 时间：2012-04-06T05:39:54.597
> 
> 标签：android, android-widget

我想在 Android 中为移动设备创建乌尔都语-印地语-英语词典应用程序。

字典内容大概是这样的：H ابهاگ अबभाग ababhāg [S. अव+भाग], sm 逆境; 倒霉，倒霉。

我有3个与此相关的问题：

1）在Android中创建移动应用程序的程序是什么；请提供链接；网络中的大多数链接都不是很清楚。如果有一些资源或链接请分享。

2) 上面的条目包含 3 种语言（印地语；乌尔都语；英语），这样的条目是否可以使用不同的语言，如果可以，android 是否允许我们这样做？请提供链接、建议或示例。

3) 软件预期的移动应用程序数据库（不是来自移动设备）是否有任何限制。由于字典条目将在 200 万左右。

如果有人为我的问题提供解决方案，我将不胜感激。另外，如果我能够创建这个，那么我将分享它。

等待答主......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T09:41:12.653

1) 尝试阅读 android 开发者网站[http://developer.android.com](http://developer.android.com) 那里有一些很好的介绍材料，可以教你如何为 Android 编写应用程序（例如，试试这里：http: [//developer.android .com/training/index.html](http://developer.android.com/training/index.html) )

2) 是的，这不是问题。您将不得不使用自定义字体，因为内置字体不支持 Urdo 和印地语字符。有几种免费的乌尔都语和印地语字体可用（例如，搜索乌尔都语 TTF），您可以从应用程序中加载这些字体。

3）是的，当然有限制。我不确定是否可以在移动设备上创建这种大小的数据库。您可能必须将字典分成多个部分，每个部分使用不同的数据库。

祝你好运！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-01-19T18:10:05.740

所有字典应用程序都使用微型数据库 sqlite。一些应用程序基于此概念，例如：

[英语到印地语词典](https://play.google.com/store/apps/details?id=com.hindi.dictionary)

[英语到阿拉伯语词典](https://play.google.com/store/apps/details?id=com.smartappspro.englisharabicdictionary)

# networking - 跳到跳通信

> ID：10039606
> 
> 赞同：1
> 
> 时间：2012-04-06T05:40:28.350
> 
> 标签：networking, communication, router

如果我们在同一个网络中，则跳到跳通信由工作在 MAC 层的第 2 层设备（例如交换机、网桥*等）进行。*

但是，如果我们必须将数据包发送到其他网络中的目的地，那么跳到跳通信通过路由器进行。

它是否正确？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-05-14T02:50:27.007

您的陈述在概念上是正确的，尽管细节不太正确。

像 IP 这样的第 3 层协议可以通过整个 Internet 将数据包从其源路由到其目的地，但是像以太网这样的第 2 层协议只能为单跳路由数据包。当设备在 TCP/IP 网络上传输数据包时，它必须知道下一跳的以太网（第 2 层）地址和数据包最终目的地的 IP（第 3 层）地址。

让我们看一下您描述的两种情况，使用设备 A 上的用户知道设备 B 的 IP 地址并希望向其发送数据包的场景。

**同一（非交换）子网上的设备**

1.  设备 A 上的用户发出命令`ping 10.1.1.23`。
2.  设备 A 广播 ARP（第 2 层）请求，询问其网络上的哪个设备可以将数据包路由到 IP 地址 10.1.1.23。
3.  设备 B 将 IP 地址识别为它自己的地址，并通过返回一个以它的 IP 和以太网地址作为源、设备 A 的 IP 和以太网地址作为目标的数据包来响应请求。
4.  现在设备 A 拥有与设备 B 通信所需的一切。它传输到设备 B 的每个数据包都将具有正确的以太网和 IP 地址作为目的地。

**同一（交换）子网上的设备**

1.  设备 A 上的用户发出命令`ping 10.1.1.23`。
2.  设备 A 广播 ARP（第 2 层）请求，询问其网络上的哪个设备可以将数据包路由到 IP 地址 10.1.1.23。
3.  交换机在其一个端口上接收数据包并在连接到设备 B 的任何端口上 重新传输*相同的数据包。***这是交换子网和非交换子网之间的唯一显着区别。**
4.  设备 B 将 IP 地址识别为它自己的地址，并通过返回一个以它的 IP 和以太网地址作为源、设备 A 的 IP 和以太网地址作为目标的数据包来响应请求。
5.  现在设备 A 拥有与设备 B 通信所需的一切。它传输到设备 B 的每个数据包都将具有正确的以太网和 IP 地址作为目的地。

**不同子网上的设备**

1.  设备 A 上的用户发出命令`ping 8.8.8.8`。
2.  设备 A 广播 ARP（第 2 层）请求，询问其网络上的哪个设备可以将数据包路由到 IP 地址 8.8.8.8。
3.  地址 8.8.8.8 位于不同的网络上，因此没有本地设备将该地址识别为自己的地址。但是，路由器看到数据包，检查它的路由表，并看到它知道如何将数据包转发到 8.8.8.x 网络。因此路由器通过返回一个以自己的以太网地址作为源的数据包进行回复。
4.  现在设备 A 可以通过发送目标 IP 地址为 8.8.8.8 的数据包与设备 B 通信，但*路由器的*以太网地址作为其目标。
5.  路由器接收数据包，因为它们的目的地是它的以太网（第 2 层）地址，但它注意到它们的目标 IP（第 3 层）地址与它自己的不同，因此它将它们转发到存储在其路由表中的任何地址.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-05-14T01:36:43.007

是的，你是对的。要访问其他网络（不同子网上的网络），客户端会将流量路由到其默认网关，该网关将封装流量并适当地路由。为了在同一个网络上进行通信，只需要一个第 2 层交换机。

# html - Google Chrome Frame 的性能/技术问题？（适用于 IE 8 及更低版本）

> ID：10039608
> 
> 赞同：1
> 
> 时间：2012-04-06T05:40:44.440
> 
> 标签：html, css, google-chrome-frame

我正在使用 HTML5 和 CSS3 制作一个网站，并考虑将 Google Chrome Frame 用于 IE8 及更低版本，因为我不想优雅地降级或使用 Modernizer 为 IE8 及更低版本提供替代视觉效果。但想知道 Google chrome Frame 是否有任何性能和其他技术问题？

如果 Google chrome 框架有问题，那么我将使用 Modernizer 进行优雅降级或提供替代视觉效果。

谷歌浏览器框架网站说

> *   立即开始使用开放式 Web 技术（例如 HTML5 画布标签），即使是 Internet Explorer 6、7、8 或 9 尚不支持的技术。
> *   利用 JavaScript 性能改进，使您的应用程序更快、响应更快。

我想知道任何使用过 chrome 框架的有经验的人的评论。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:55:04.000

我认为您可以反过来理解：作为用户，您可以安装 Google Chrome Frame 以使用新功能，但网站通常无法依赖 Frame 存在于用户计算机上的事实。

使用旧版浏览器的用户可能无法或不愿意安装所需的插件。

# php - URL GET 变量有一个必要的哈希符号

> ID：10039609
> 
> 赞同：1
> 
> 时间：2012-04-06T05:40:47.807
> 
> 标签：php, url

我正在创建一个 url 链接，其中一个 GET 变量中有一个井号。网页不会读取哈希标记后的任何数据。我不能把它拿出来有两个原因。

1.  网站数据库（不是我以任何方式设计的）具有各种数据项的哈希符号。我无权编辑数据库。而且我敢肯定，如果我做其他事情会崩溃。
2.  我无法编辑网址的网页。它是由其他人设计的，我没有任何编辑它的授权。

网址看起来像这样

```
 www.example.com?datapoint1=abc&datapoint2=#def 
```

其中#def 是必要的，因为网页将在数据库中搜索这个确切的字符串。如果我可以编辑网页 php，我可以在必要时放入哈希，但正如我所说，我没有。

进一步解释一下。用户收集数据（在 Java 应用程序中）并将数据放入一个长 url（如上面的示例但更复杂），并通过此链接自动通过电子邮件发送给特定用户。第二个用户点击链接并做他/她必须做的任何事情。

我认为唯一的方法是编辑网页的 php 或 javascript。任何想法，将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-06T05:44:25.410

您必须对`#`as进行编码`%23`，因此您的 URL 如下所示：

```
www.example.com?datapoint1=abc&datapoint2=%23def 
```

为方便起见，您可以使用 PHP 的内置 urlencode 函数： http: [//php.net/urlencode](http://php.net/urlencode)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T05:45:18.673

如果您不希望它成为散列部分，则需要转义 url 中的散列。a 的 urlencoded 字符`#`是`%23`.

您可以使用 php 中的`urlencode()`( [php.net doc](http://php.net/manual/en/function.urlencode.php) ) 来转义 php 中的值。

您可能还想了解[http_build_query_string()](http://nl.php.net/manual/en/function.http-build-query.php)，它可以生成 url 查询并从键值数组中正确编码值。查看[php.net 示例](http://nl.php.net/manual/en/function.http-build-query.php#refsect1-function.http-build-query-examples)以获取更多信息。

如果您无法访问 PHP 但可以使用 JS（这是次优的），您可以制作一个小脚本，当它看到哈希存在时重写 url（仅当哈希不存在时才有效）

```
if(window.location.hash) {
    // Hash detected, lets rebuild the url
    window.location.href = window.location.href + '%23' + window.location.hash.slice(1);
} 
```

# c - CMD Line - 从 C 代码向命令行传递参数

> ID：10039611
> 
> 赞同：0
> 
> 时间：2012-04-06T05:41:18.007
> 
> 标签：c, cmd

如何使用代码将输入传递到命令行。例如，我想启动命令行，运行可执行文件，代码里面会有类似“start”的命令，当文件运行时，这些命令将被传递到命令行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T05:44:55.020

使用windows下的system()函数，例如你想给命令行传递一个命令，比如暂停，使用

```
 system("pause"); 
```

等等..

这与打开cmd并在那里写入暂停并执行它相同！

# maven - 关于 Maven Aspectj 的查询

> ID：10039612
> 
> 赞同：1
> 
> 时间：2012-04-06T05:41:51.033
> 
> 标签：maven, aspectj, instrumentation

我在我的项目中使用 AspectJ。我的项目基于 Maven。我能够成功编译 .aj 文件，当我尝试使用 maven 运行测试用例时，我的方面工作正常。

但是当我从命令提示符开始执行程序时（例如.. java <*.jar>），我的方面不起作用。是否有必要为我的方面设置任何 Java JVM 选项才能执行。

提前致谢

# android - 如何为 ABI armeabi 创建或查找“userdata.img”文件以复制到 AVD 文件夹中

> ID：10039616
> 
> 赞同：10
> 
> 时间：2012-04-06T05:42:05.950
> 
> 标签：android, eclipse, avd

我在 Eclipse 上运行 Hello World Android SDK 测试。在为 Android SDK 安装最新平台后，我尝试创建一个 AVD。

在 Eclipse 中：

> 1.  选定的窗口 > AVD 管理器。
> 2.  单击新建...。
> 3.  将出现“创建新 AVD”对话框。
> 4.  键入 AVD 的名称，例如“my_avd”。
> 5.  选择一个目标。（最新平台）
> 6.  忽略其余字段。
> 7.  单击创建 AVD。

但是当我返回 Eclipse 时，我收到一条红色错误消息：

`"unable to find a "userdata.img" file for ABI armeabi to copy into the AVD folder.`

我有一个 windows vista 64 位、Eclipse 3.7.2 和 Android 平台 4.0.3。如果有人可以帮助我，我真的很感激。如果您可能知道我可能做错了什么，我会全神贯注。:)

这是我一直在尝试做的事情[http://developer.android.com/resources/tutorials/hello-world.html](http://developer.android.com/resources/tutorials/hello-world.html)

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-04-06T05:59:25.497

单击 Eclipse 中的 Android SDK 管理器。然后在 Android 4.0.x 您的版本中。单击 ARM EABI v7A 系统映像。然后单击安装包。

那么它应该工作......

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-06-18T13:55:47.250

仅作记录：我有同样的错误，无法解决这里的提示问题。最后我发现，在使用 avd 管理器创建新设备后，我没有在 CP/ABI 对话框中做出选择。（在我找到的教程中，该字段保持打开状态......）

实际上，需要 Android 4.0.x 你的版本.. 点击 ARM EABI v7A System Image.. 然后点击安装包.. 按照 Raju。

之后，我遵循了确保我填写了 CPU/ABI 字段的建议，然后一切都很好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-24T13:39:31.997

如果您已安装“ARM EABI v7A 系统映像”，但仍然无法正常工作，请在 shell 中尝试“android update avd -n h”（h 是我的 android 虚拟设备的名称，将其替换为您的特定 avd 名称）

# javascript - 如何将 JSON 解析为 HighCharts 折线图？

> ID：10039619
> 
> 赞同：2
> 
> 时间：2012-04-06T05:43:08.723
> 
> 标签：javascript, jquery, json, highcharts

我正在尝试远程解析以下 JSON 字符串：

```
[{"name":"Object1","data":[1,2]},{"name":"Object2","data":[3,4]}] 
```

我正在使用以下代码这样做：

```
$(function () {
  var chart;
  $(document).ready(function() {
    var options = {
      chart: {
        renderTo: 'container',
        type: 'line',
        marginRight: 130,
        marginBottom: 25
      },
      title: {
        text: 'hits by time',
        x: -20 //center
      },
      subtitle: {
        text: 'Source:',
        x: -20
      },
      xAxis: {
        categories: ['8am', '9am', '10am', '11am', '12pm', '1pm',
        '2pm', '3pm', '4pm', '5pm', '6pm', '7pm']
      },
      yAxis: {
        title: {
          text: 'Hits'
        },
        plotLines: [{
          value: 0,
          width: 1,
          color: '#808080'
        }]
      },
      tooltip: {
        formatter: function() {
          return '<b>'+ this.series.name +'</b><br/>'+
          this.x +': '+ this.y;
        }
      },
      legend: {
        layout: 'vertical',
        align: 'right',
        verticalAlign: 'top',
        x: -10,
        y: 100,
        borderWidth: 0
      },
      series: []
    };  

    $.getJSON('http://localhost:8080/jsonget', function(data) {

      var series = {
        data: []
      };

      $.each(data, function(i,item){
        alert(item.name);
        series.name = item.name;
        $.each(item.data, function(j,dataitem){
          alert(dataitem);
          series.data.push(parseFloat(dataitem[i]));                  
        });
      });

      options.series.push(series);    

      // Create the chart
      var chart = new Highcharts.Chart(options);
    });
  });
}); 
```

该图表不会呈现，但是当我用远程部分替换站点上的 CSV 示例时会呈现。

有谁知道问题是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T05:59:42.173

据我所知，您`data`的格式似乎很好。所以，这应该这样做：

```
var chart;
$.getJSON('http://localhost:8080/UDPver/tagdiscover', function(data) {
  // Populate series
  options.series = data;    
  // Create the chart
  chart = new Highcharts.Chart(options);
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-05T00:27:39.427

问题是图表随后被重新绘制。因此，如果您有其他被禁用的行（来自图例），则在您进行更新时它将再次可见。我的图表中有 5 条线。它每秒更新一次。从图例中，我可以禁用/删除图表中的一些线。但是使用上面的这种方法（它有效）重新绘制了完整的图形，并且所有线条都再次可见。是否可以只更新系列（行）而不是参数？

像这样（不工作）：

```
function doAjaxData() {
            AjaxLoadingIcon(1);
            $.ajax({
                url: getAjaxUrl(1),
                dataType: 'json',
                cache: false,
                async: true,
                success: function (json) {
                    AjaxLoadingIcon(0);
                    gchartOptions.series = [];
                    gchartOptions.series = json;
                    // gchart = new Highcharts.Chart(gchartOptions);
                    gchart.render();
                    _updateTimer = window.setTimeout("doAjaxData()", 1000);
                    }
                }
            });
        } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-01-11T12:01:25.803

阿特玛。你应该只写`dataitem`而不是`dataitem[i]`它会起作用。

```
 $.each(data, function(i,item){
    alert(item.name);
    series.name = item.name;
    $.each(item.data, function(j,dataitem){
      alert(dataitem);
      series.data.push(parseFloat(dataitem[i]));                  
    });
  }); 
```

# javascript - 如何使用jquery mobile使页面在一段时间内不可见

> ID：10039620
> 
> 赞同：0
> 
> 时间：2012-04-06T05:43:12.757
> 
> 标签：javascript, jquery-mobile, cordova

我一进入页面就对服务器进行 ajax 调用......现在我想让页面不可见或隐藏，直到正确发出 ajax 请求......怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:45:36.627

这个？

```
$("*").hide(); 
```

稍后，当您的 AJAX 调用完成时，您可以执行

```
$("*").show(); 
```

# templates - 如何在 CouchDB 中使用 html 模板

> ID：10039623
> 
> 赞同：4
> 
> 时间：2012-04-06T05:43:44.843
> 
> 标签：templates, couchdb, underscore.js, commonjs, kanso

我一直在到处寻找，试图弄清楚这一点。我正在尝试从 couchdb 显示和列表函数生成 html 页面。我想利用 underscore.js 的模板解决方案。我陷入困境的部分是如何在我的显示和列表函数中包含 html 模板。

我在哪里存放它们？作为附件？然后我如何在我的 show 和 list 函数中引用它们。我假设 !json 和 !code 宏没有被使用，我不知道如何使用普通 js 中的 require() 来做到这一点。

任何帮助都会摇滚！

谢谢！

额外信息：我使用 Kanso 来推送我的应用程序，而不是 CouchApp。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T11:01:33.333

根据定义，CouchDB 附件[在 show 和 list 函数中是不可访问的](https://stackoverflow.com/questions/10036736/is-there-any-way-to-emit-attachment-data-in-a-couchdb-view/10037709#10037709)。

显示和列表函数支持 CommonJS。因此，您只需在设计文档中包含任何库。

```
{ "_id": "_design/example"
, "say_hi": "module.exports = function(person) { return 'Hello, ' + person }"
, "shows":
  { "hello": "function(doc, req) { var hi = require('say_hi'); return hi(req.query.me) }"
  }
} 
```

这个视图看起来像这样

```
GET /my_db/_design/example/_show/hello?me=Jason

HTTP/1.1 200 OK
Server: CouchDB/1.2.0 (Erlang OTP/R15B)
Date: Fri, 06 Apr 2012 11:02:33 GMT
Content-Type: text/plain; charset=utf-8
Content-Length: 12

Hello, Jason 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-06T07:47:52.620

我对 Kanso 不熟悉，但在 CouchDB 1.1 之前，CouchDB 中的查看/显示等功能不能包含任何内容。（CouchApp 工具有自己的`!include`解决方法来解决这个问题。）这些不再是必需的。CouchDB 1.1 添加了 CommonJS 支持。

Tll 模板和库必须是设计文档的一部分。您可以通过引用访问原始值（作为字符串）`this.some_key`；或通过 CommonJS 通过执行加载它们`require("some_key")`。

例如：

```
exports.example_view = {
    map: function (doc) {
        // this must be placed *inside* the map function
        var example = require('views/lib/example');
        if (doc.num) {
            emit(doc._id, example.fn());
        }
    }
}; 
```

（[视图之间共享代码](http://kan.so/docs/Sharing_code_between_views)）

要在服务器端呈现模板，您需要将它们编码为字符串并像需要其他 JavaScript 库一样需要它们。（对于浏览器端渲染，可以通过 AJAX 获取附件。）

# c++ - 使用c ++进行子集和递归

> ID：10039624
> 
> 赞同：3
> 
> 时间：2012-04-06T05:43:45.313
> 
> 标签：c++

这是从给定集合和目标值中获取真假的解决方案之一

```
bool subsetSumExists(Set<int> & set, int target) {
    if (set.isEmpty()) {
        return target == 0;
    } else {
        int element = set.first();
        Set<int> rest = set - element;
        return subsetSumExists(rest, target)
        || (subsetSumExists(rest, target- element));
    }
} 
```

但是，此解决方案将仅返回 true 或 false 值。怎么可能得到涉及子集的元素（加在一起的集合等于目标）？

我必须使用动态编程吗？因为我知道..递归实际上是在建立堆栈，在函数返回值之后，框架内的值也将被丢弃。

那么，是否有可能获得加起来等于目标值的元素。

传递对象是问题的解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T06:16:11.333

首先，您可以稍微优化一下您的程序——检查目标是否是`0`以及它是否总是返回`true`。现在你需要的是有一个地方来存储你已经使用过的元素。我将向您展示一种使用全局“堆栈”的方法（`vector`实际上这样您就可以对其进行迭代），因为这样代码将更容易理解，但您也可以通过引用函数来传递它或避免以其他方式使其全球化。顺便说一下 stl 容器被称为`set`not `Set`。

```
vector<int> used;
bool subsetSumExists(Set<int> & set, int target) {
    if (target == 0) {
        cout << "One possible sum is:\n";
        for (int i = 0; i < used.size(); ++i) {
          cout << used[i] << endl;
        }
        return true;
    } else if(set.empty()) {
      return false;
    }else {
        int element = set.first();
        Set<int> rest = set - element;
        used.push_back(element);
        if (subsetSumExists(rest, target- element)) {
          return true;
        } else {
          used.pop_back();
        }
        return subsetSumExists(rest, target);
    }
} 
```

希望这可以帮助。

# php - jQuery克隆孩子

> ID：10039625
> 
> 赞同：1
> 
> 时间：2012-04-06T05:44:17.810
> 
> 标签：php, jquery

我正在为我的项目使用 jQuery 克隆和子概念。我在 div 中使用一个表（类是 clonedInput），通过单击一个按钮，我正在克隆整个 div 并将其插入到 div 之后。在这段时间： ”

```
var num     = $('.clonedInput').length;
var newNum  = new Number(num + 1);
var newElem = $('#input' + num).clone().attr('id', 'input' + newNum);
 $('#input' + num).after(newElem); 
```

“通过使用它，我增加了 div id。同时我想增加 table tr 和 td 的 id。为此我尝试了`children.attr()`。但这并没有增加 table id。有人可以为我澄清一下吗？

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T06:36:25.213

目前尚不清楚您要做什么，但我的猜测是您可以尝试：

```
 var num     = $('.clonedInput').length;
    var newNum  = new Number(num + 1);
    var newElem = $('#input' + num).clone();

    newElem.attr('id', 'input' + newNum);
    $('#input' + num).after(newElem); 
```

整体

```
$('#input' + num).clone().attr('id', 'input' + newNum);
```

部分可能不会给你克隆对象，而是布尔结果或某个整数。

如果问题没有解决，您也可以尝试 append() 函数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-06T06:23:48.590

我有一个函数可以在一行中创建具有递增 id 的输入。这不是你要找的东西，但我相信它会给你一个相当好的想法来完成这项任务。

```
var numbers =0
$(function() {
var newRowNum = 0;

    $('#addnew').click(function() {
        newRowNum++;
        /////////////  <a>    <td>    <tr>
        var addRow = $(this).parent().parent();
        ///////////// In the line below <tr> is created
        var newRow = addRow.clone();
        $('input', addRow).val('');
        $('td:first-child', newRow).html();
        $('td:last-child', newRow).html('<a href="" class="remove">Remove<\/a>');
        $('input', newRow).each(function(i) {
            var newID = newRowNum + '_' + i;
            $(this).attr('id', newID).attr('name', newID);
        });
        addRow.before(newRow);

        $('a.remove', newRow).click(function() {
            $(this).parent().parent().remove();
            return false;
        });

        return false;
    });
    numbers = newRowNum;
}); 
```

# ruby-on-rails - 如何在 Rails 3 中正确关联深度嵌套的表单？

> ID：10039628
> 
> 赞同：0
> 
> 时间：2012-04-06T05:45:02.300
> 
> 标签：ruby-on-rails, forms, associations

我一直在看 Ryan 的截屏视频：

[http://railscasts.com/episodes/196-nested-model-form-part-1](http://railscasts.com/episodes/196-nested-model-form-part-1)

我有一个类似但不同的问题，希望有人能提供帮助。

* * *

我有以下四个需要（至少）注册的模型：

*   **帐户**
*   **公司**
*   **地址**
*   **用户**

在注册时，我希望**Company**、**Address**和**User**分别与**Account**直接关联。

另外，我希望 te **User**与**Company**关联，并且**Address**与**Company**关联。

*注意：每个都有一个外键：**`account_id`**-- 这本质上是一个具有单个数据库的多租户系统。*

* * *

我的同事目前设置如下：

**帐户**

has_many :公司

has_many :用户

has_many :地址

（未来，其他模型将使用 Company 和 Address 模型，这就是 Account 有很多的原因）

**用户**

属于_to：帐户

所属：公司

**公司**

属于_to：帐户

has_many :用户

has_many :地址

**地址**

属于_to：帐户

所属：公司

* * *

我一直**`accepts_nested_attributes_for`**在模型中使用方法，**`fields_for`**在视图中使用方法，但只能以纯嵌套的方式关联事物。

换句话说，**User** *关联*到**Company**，*但不*关联到**Account**。

我需要将**每个模型**与**Account**关联。（当然除了账户本身）

有没有办法做到这一点？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T07:32:22.043

我想你在哪里混淆了。

*   帐户有许多公司
*   公司有很多用户
*   公司所属账户
*   帐户用户所属公司
*   通过公司或在用户中创建 account_id 的用户属于帐户

在视图中，您可以创建表单公司，然后为帐户创建 fields_for 并在帐户内部创建 fields_for 用户。

我认为这将解决您的目的。不要忘记在公司和帐户中添加accept_nesetd_attributes

# html - 表单不提交文件

> ID：10039636
> 
> 赞同：3
> 
> 时间：2012-04-06T05:46:48.007
> 
> 标签：html, forms, file-upload

出于某种原因，以下表单没有按应有的方式提交文件，我不确定为什么，在服务器端，如果我检查 $_FILES 它总是空的，但是如果我检查说 $_POST['article'] 只提交很好，所以只有文件没有被接收，那么有人看到这个有问题吗？

```
 <form action="newindex.php?do=submit" enctype="multipart/form-data" method="post">
                    Subject:<br>
                    <input type="text" id="subject" name="subject"><br>
                    <textarea id="article" id="article" name="article"></textarea><br>
                    <div class="sliderimage"><h2 class="blockhead">Slider Image:</h2>
                    <table><tr><td><b>Image:</b><br>Dimensions should be 640x360.</td><td>
                    <input type="file" id="image" name="image"></td></tr>
                    <tr><td><b>Transition:</b></td><td>
                    <select id="transition" name="transition">
                        <option value="">Random</option>
                        <option value="sliceDown">slideDown</option>
                        <option value="sliceDownLeft">sliceDownLeft</option>
                        <option value="sliceUp">sliceUp</option>
                        <option value="sliceUpLeft">sliceUpLeft</option>
                        <option value="fold">fold</option>
                        <option value="fade">fade</option>
                        <option value="slideInRight">slideInRight</option>
                        <option value="slideInLeft">slideInLeft</option>
                        <option value="boxRandom">boxRandom</option>
                        <option value="boxRain">boxRain</option>
                        <option value="boxRainReverse">boxRainReverse</option>
                        <option value="boxRainGrow">boxRainGrow</option>
                        <option value="boxRainGrowReverse">boxRainGrowReverse</option>
                    </select></td></tr>
                    <tr><td><b>Caption:</b></td><td>
                    <input type="text" id="caption" name="caption"></table><br></div>
                    <input type="hidden" name="securitytoken" value="<?php echo $vbulletin->userinfo['securitytoken'] ?>" />
                    <div class="center"><input type="button" value="Preview" class="preview"><input type="submit" name="submit"></div>
                </form> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-06T05:49:09.247

您需要输入指定最大文件大小：

[http://www.php.net/manual/en/features.file-upload.post-method.php](http://www.php.net/manual/en/features.file-upload.post-method.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:07:53.683

将 size 属性放入，这将起作用。

```
<input id="image" name="image" type="file" size = '50'"/> 
```

# facebook - 如何使用 javascript 创建按钮来删除操作（Facebook Open Graph）

> ID：10039640
> 
> 赞同：0
> 
> 时间：2012-04-06T05:47:39.210
> 
> 标签：facebook, facebook-graph-api, facebook-opengraph

教程的代码是：

```
 <script type="text/javascript">
  function postCook()
  {
      FB.api(
        '/me/[YOUR_APP_NAMESPACE]:cook?recipe=http://fbwerks.com:8000/zhen/cookie.html',
        'post',
        function(response) {
           if (!response || response.error) {
              alert('Error occured');
           } else {
              alert('Cook was successful! Action ID: ' + response.id);
           }
        });
  }
  </script> 
```

我需要以相同的方式创建一个按钮，但要删除时间线的选项。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-05-06T07:33:01.587

请记住，这只有在您拥有要删除的项目的操作 ID 时才有效。因此，如果您按如下所示设置按钮，则可以使用：

```
//Button code
<button onclick="deleteCook(ActionID)">Delete Cook </button>

 <script type="text/javascript">   
function deleteCook(ActionID) {

            FB.api(ActionID, 'delete', function(response) {
              if (!response || response.error) {
                alert('Error occured');

              } else {
                 alert('Cook action was deleted');
                          }
            });

                                               });
           }
</script> 
```

# iphone - iOS - Xcode 模拟器上的颜色与设备上的颜色不同

> ID：10039641
> 
> 赞同：44
> 
> 时间：2012-04-06T05:47:50.883
> 
> 标签：iphone, ios, colors, ios-simulator, color-scheme

**概述**

我的 iPhone 应用程序在模拟器 (iMac) 中的背景颜色看起来与设备 (iPhone 3GS) 上的颜色不同。

**编辑（已添加以下部分）**

以下都是不同的：

1.  故事板颜色（xib 文件）
2.  模拟器颜色
3.  设备颜色

我想我应该选择它在设备上的外观。

**问题**

1.  这是其他开发人员面临的常见问题吗？有没有办法匹配颜色（系统程序）？
2.  不同版本的 iPhone (3gs / 4 / 4s) 或所有颜色的颜色看起来会有所不同吗？
3.  我错过了什么，我应该使用任何特定的颜色配置文件吗？
4.  有没有像经验法则一样的 RGB 值变化一定百分比？
5.  在 iPhone 4 和 4S 中，颜色是否与模拟器匹配？（我没有 iPhone4 和 4S，所以我不确定。）

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-04-06T06:37:16.613

感谢@jtbandes 建议发送导致解决方案的屏幕截图

我只是为了完整性而回答这个问题。

**我遵循的步骤：**

1.  在情节提要中截取图像
2.  在设备中截取图像（使用邮件/照片流返回您的 Mac）
3.  使用颜色选择器（Mac OS 调色板的一部分）在两个屏幕截图上选择相同的位置
4.  记下在步骤 3 中选择的点的 RGB 值（可在 mac OS 调色板上获得）
5.  比较两个 RGB 值并查看差异
6.  添加 RGB 偏移以匹配颜色。

**我的RGB偏移（不要盲目跟风）**

根据我的经验，我添加了以下 RGB 值来获得我想要的颜色，它只是粗糙并且对我有用：

*   红色 +12
*   绿色 +19
*   蓝色 +16

**不同的角度（最好保持水平）**

以不同的角度握住手机也会产生不同的色调，保持水平确实会产生颜色

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2017-07-28T00:13:43.653

正如其他人所指出的，这是**Color Spaces**的问题。

需要执行两个任务：

1.  使用 sRGB 颜色空间获取源颜色。
2.  使用 sRGB 颜色空间在 Interface Builder 中设置颜色。

**任务1**

您可以使用 Apple 的`Digital Color Meter`应用程序来采样所需的颜色，使用该`Display in sRGB`选项，但输出非常有限。

另一种选择是使用类似的应用程序`SipIt`（在 App Store 上免费提供，我上次检查过）。通过执行以下操作确保您在正确的色彩空间中进行采样：

```
Preferences -> General -> Color Profiles -> sRGB 
```

您还可以设置输出格式（例如十六进制字符串）。

[![在此处输入图像描述](../Images/76225830bab84e00ea6b01acd56e0f40.png)](https://i.stack.imgur.com/3p5UM.png) **任务 2**

在 Interface Builder 中，打开 Color 窗口，选择第二个窗格，选择“RGB Sliders”。然后单击齿轮图标以选择 sRGB 颜色配置文件。

[![在此处输入图像描述](../Images/f52d8b28c487297b9bdd3f5705110c88.png)](https://i.stack.imgur.com/IEqvO.png)

完成后，将您的颜色值粘贴到该`Hex Color #`字段中

你完成了！您的颜色现在应该匹配。

*我与 SipIt 没有任何关系。但是我已经用了几年了，非常好用。我会推荐给任何设计师。*

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2014-03-17T23:31:37.400

当前（截至 2014 年 3 月 17 日）CGColorSpace 参考包括以下文本，其中指出 sRGB 是 iOS 的本机设备颜色空间。

> 颜色空间和 iOS：iOS 不支持 ColorSync，因此所有资源都应在本机设备颜色空间中提供：sRGB。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2017-12-06T13:36:33.510

这是关于**色彩空间**的。

确保您从颜色空间中选择颜色，并通过从下拉菜单中`sRGB`选择来在 Interface Builder 上复制其 RGBA 值。`sRGB IEC61966-2.1`

如果您在一个颜色空间中选择一种颜色，并在不同的颜色空间中生成它，尽管复制了相同的 RGBA 值，但它看起来会有所不同。

另外，请记住，当您通过代码生成颜色时，使用，默认情况下`UIColor(red:green:blue:alpha:)`它是在颜色空间上生成的。`sRGB`这就是为什么使用这个（而不是 、 或任何其他）如此方便的`Adobe RGB`原因`P3`。此外，`sRGB`是目前业界使用最多的标准。

有趣的事实：`UIColor`我上面提到的那个构造函数`sRGB`从 Xcode8 开始在空间中创建颜色。以前，该函数用于在`Generic RGB`空间内创建它们。这就是为什么它也可能引起混乱。

这是一个关于该主题的资源：[https ://medium.com/@volbap/working-efficiently-with-colors-in-xcode-bc4c58b16f9a](https://medium.com/@volbap/working-efficiently-with-colors-in-xcode-bc4c58b16f9a)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-04-06T13:45:15.347

iPhone 确实使用色彩空间管理，因此如果您想要更“科学”的解决方案，您可以创建自己的色彩空间，例如使用`CGColorSpaceCreateCalibratedRGB`. 虽然它在核心图形级别。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2017-02-18T09:01:11.383

将 RGB 值转换为 sRGB 的更好方法是在 mac 中使用“Digital Color Meter”工具，只需检查“Display in sRGB”

[![数字色度计](../Images/4fd07516c29bd91ace4c9b5c7fd21c25.png)](https://i.stack.imgur.com/EalDT.png)

然后在代码中使用 sRGB 值而不是 RGB [![本机价值观](../Images/cda3b70c4cbbb64acb6ee6c7dc042fce.png)](https://i.stack.imgur.com/MYIdv.png)

[![在此处输入图像描述](../Images/e08ee3538369028836bdeaba300aec12.png)](https://i.stack.imgur.com/9R6bC.png)

使用此工具，您可以找到通用 RGB 颜色并将其直接设置为 xcode 作为 RGB 值

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2017-12-19T17:49:19.170

在您的应用程序中处理图像文件时，一种更简单的解决方案。首先，将 Xcode 中的颜色空间设置为 sRGB IEC61966-2.1 并应用颜色。然后，在您将任何图片导入您的应用程序之前，使用 Mac 上的 ColorSync Utility 将您的图片与 sRGB IEC61966-2.1 配置文件进行匹配。非常适合我，我的背景现在与我导入的图像完美匹配。希望这可以帮助某人。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2014-12-05T01:39:04.127

我也有类似的问题，尤其是我项目中的果岭。我的问题原来是我的一些资产是在 illustrator 中创建的，并且颜色设置为 CMYK 而不是 RGB。我不确定这是否是您的问题，但它可能对那些将来偶然发现这个问题的人有所帮助。我将插画家“文档颜色模式”更改为 RGB，一切都很好。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-09-10T19:34:41.963

您可以将此[网页](http://inaka.net/blog/2014/09/05/getting-the-right-colors-in-your-ios-app/)用于 Xcode 中的不同颜色组。例如，通用颜色和设备颜色略有不同。

# xcode - 如何设置默认的 Xcode 公司标识符？

> ID：10039643
> 
> 赞同：2
> 
> 时间：2012-04-06T05:48:00.880
> 
> 标签：xcode, settings, project, identifier

如果我继续寻找解决方案，我想我会发疯的，因为它无处可寻。

Xcode 有时似乎有自己的想法......当我创建一个项目时：
![截屏](../Images/9d0e7e1fc29fa1dfc42604ef4335583d.png)

如您所见，它以“velvetWeaver”作为我公司标识符的默认值迎接我。我现在正在努力解决大约三个小时的头撞墙，试图弄清楚如何更改这个默认值......

如果有人知道这是从哪里来的，我将不胜感激。

注意：我的通讯录卡有一个完全不同的公司名称。

* * *

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-06-03T02:15:48.253

我想我只是经历了愚蠢的癫痫发作......

回答我的问题：

> Xcode 在哪里获取公司标识符？

**公司标识符是从您之前创建的任何项目中继承而来的。**

在过去的三个小时里，不知何故，这个明显的结论让我完全无法理解。

# open-source - 哪个开源 NoSQL DB/DataStore 也有很好的可视化工具？

> ID：10039645
> 
> 赞同：1
> 
> 时间：2012-04-06T05:48:24.207
> 
> 标签：open-source, nosql, data-visualization

我在 NoSQL 大数据存储技术上到处跑来跑去。到目前为止，我发现的最大障碍是一个好的可视化工具。没有这些，似乎很难理解数据是如何保存在存储中的。这将是一个笼统的问题，但我需要知道哪些 NoSQL 存储技术带有可视化工具或已被证明很棒的开源贡献。该工具还显示节点、数据库表和条目。

我希望有经验的人能分享他们来之不易的知识。

谢谢你的指导。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-15T21:02:05.983

你试过[Neo4j](http://neo4j.org "Neo4j：图形数据库")吗？它有在eclipse代码库之上开发的可视化工具。

# php - CakePHP 中一个字段中具有多个 id 的表关联

> ID：10039646
> 
> 赞同：0
> 
> 时间：2012-04-06T05:48:35.067
> 
> 标签：php, cakephp, model

我正在使用 CakePHP，我有 2 个表，文档和下载，在下载表上我有一个字段：Document_id，使与模型的关联工作正常，但有时我在 Document_id 中有一个像这样的字段“2,10,12 ", 我怎样才能关联表格？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T08:38:42.560

您不应该在一个字段中存储多个 id（除非您有意对数据库进行非规范化，但您不会问这个问题）。

执行此操作的“正确”方法是使用称为链接表的第三个表。例如“documents_downloads”，用于存储具有匹配 document_ids 的 download_ids。

下载 hasMany DocumentDownload
DocumentDownload belongsTo Download & Document
Document hasMany DocumentDownload

实现这一点的最简单方法是使用 Cake 的“hasMany through (The Join Model)”

请参阅 Cakebook 的部分：http: [//book.cakephp.org/2.0/en/models/associations-linking-models-together.html#hasmany-through-the-join-model](http://book.cakephp.org/2.0/en/models/associations-linking-models-together.html#hasmany-through-the-join-model)

# java - ArrayList 范围检查错误

> ID：10039647
> 
> 赞同：-2
> 
> 时间：2012-04-06T05:48:36.267
> 
> 标签：java, arraylist

我正在尝试引用我在方法中启动的数组列表，但是当我尝试从该 ArrayList 中删除某些内容时，我收到一条错误消息，指出我的 ArrayList 的大小为 0。但是，在我设置了ArrayList，它打印出 ArrayList 的大小，我称之为“学校”。这是我的代码。

```
import java.util.*;
public class SchoolSolver{
    public static ArrayList<Girl> school = new ArrayList<Girl>();
    public static ArrayList<Girl> used = new ArrayList<Girl>();

    public static void main(String[] args){
        resetSchool();
        //System.out.println(school.size());
        boolean notPossible = false;
        for(int i = 0; i < 7; i++){
            if(notPossible){
                resetSchool();
            } else {
                newDay();
            }
            for(int j = 0; j < 5; i++){
                //randomGirl() is where my error happens
                Girl leader = randomGirl();
                used.add(leader);
            }
        }
    }
    /*Below are the two methods where I suspect the error may originate from */
    public static void resetSchool(){
        school.clear();
        for(int i = 0; i < 15; i++){
            //System.out.println("ran");
            school.add(new Girl(i));
        }
        for(Girl g : school){
        ArrayList<Girl> classmates = new ArrayList<Girl>();
        for(int i = 0; i < 15; i++){
            if(i!= g.getID()){
                classmates.add(new Girl(i));
            }
        }
        g.setClassmates(classmates);
    }
}

public static Girl randomGirl(){
    return school.remove(0);
} 
```

谢谢，我很感激帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T06:29:27.980

你有一个永无止境的循环

```
for(int j = 0; j < 5; i++) 
```

看看你如何增加`i`而不是`j`. 这意味着您继续调用，这会在每次调用时从列表`randomGirl`中删除 a 。`Girl`所以过了一会儿（15次）你的列表变空了，你仍然打电话`randomGirl`，这会导致异常

# c - 不兼容的指针类型 - 为什么？

> ID：10039650
> 
> 赞同：2
> 
> 时间：2012-04-06T05:49:04.893
> 
> 标签：c

我试图了解 Freebsd 中[队列 (3)](http://www.freebsd.org/cgi/man.cgi?query=queue&apropos=0&sektion=0&manpath=FreeBSD%209.0-RELEASE&arch=default&format=html)宏的内部工作原理。我已经问过关于同一主题的先前[问题](https://stackoverflow.com/questions/10031665)，这是它的后续问题。

我正在尝试定义一个将元素插入队列的函数。[queue (3)](http://www.freebsd.org/cgi/man.cgi?query=queue&apropos=0&sektion=0&manpath=FreeBSD%209.0-RELEASE&arch=default&format=html)提供了一个宏`STAILQ_INSERT_HEAD`，它需要一个指向队列头部的指针、队列中项目的类型和要插入的项目。我的问题是我得到

```
stailq.c:31: warning: passing argument 1 of 'addelement' from incompatible pointer type 
```

当我尝试将地址传递`head`给函数时出错。完整的源代码如下：

```
#include <stdio.h>
#include <stdlib.h>
#include <sys/queue.h>

struct stailq_entry {
        int value;
        STAILQ_ENTRY(stailq_entry) entries;
};

STAILQ_HEAD(stailhead, stailq_entry);

int addelement(struct stailhead *h1, int e){
        struct stailq_entry *n1;
        n1 = malloc(sizeof(struct stailq_entry));
        n1->value = e;
        STAILQ_INSERT_HEAD(h1, n1, entries);
        return (0);
}
int main(void)
{
        STAILQ_HEAD(stailhead, stailq_entry) head = STAILQ_HEAD_INITIALIZER(head);
        struct stailq_entry *n1;
        unsigned i;
        STAILQ_INIT(&head);                     /* Initialize the queue. */

        for (i=0;i<10;i++){
                addelement(&head, i);
        }
        n1 = NULL;

        while (!STAILQ_EMPTY(&head)) {
                n1 = STAILQ_LAST(&head, stailq_entry, entries);
                STAILQ_REMOVE(&head, n1, stailq_entry, entries);
                printf ("n2: %d\n", n1->value);
                free(n1);
        }

        return (0);
} 
```

据我所知，`head`is 类型`struct stailhead`并且该`addelement`函数还需要一个指向`struct stailhead`.

`STAILQ_HEAD(stailhead, stailq_entry);`扩展为：

```
struct stailhead {
  struct stailq_entry *stqh_first;
  struct stailq_entry **stqh_last; 
}; 
```

我在这里想念什么？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T06:05:43.013

您只需要将`main`函数中的第一行从

```
STAILQ_HEAD(stailhead, stailq_entry) head = STAILQ_HEAD_INITIALIZER(head); 
```

至

```
struct stailhead head = STAILQ_HEAD_INITIALIZER(head); 
```

发生的事情是`STAILQ_HEAD`一个定义新类型的宏，一个结构，它是您的数据结构，第一个参数的名称和第二个参数的条目类型。

您应该只调用`STAILQ_HEAD`一次来定义结构的*类型*- 然后您使用该类型名从那里创建这种类型的新数据结构。

您在代码示例中所做的很简单：您定义了一个名为`stailhead`两次的结构 - 一次在全局范围内，一次在`main`函数范围内。然后，您将指向本地的指针传递给`stailhead`接受具有相同名称的全局类型的函数。

尽管两个结构相同，但它们位于两个不同的存储范围内，编译器将它们视为不同的类型。它警告您您正在从类型转换`main::stailhead`为类型`global::stailhead`（请注意，我刚刚编造了这个符号，我不相信它是佳能）。

您只需要在文件顶部`stailhead`调用`STAILQ_HEAD`一次宏来定义，然后从那里使用`struct stailhead`来定义这种类型的对象。

# python - Python中子进程类的使用

> ID：10039653
> 
> 赞同：0
> 
> 时间：2012-04-06T05:49:40.037
> 
> 标签：python, windows, subprocess

```
final="cacls " + "E:/" + "\"" + list1[2] + " " + list1[3] + "\""  + "  /p " + str
pro = subprocess.Popen(final,shell=True, stdin=subprocess.PIPE)
pro.communicate(bytes("Y\r\n",'utf-8')) 
```

尝试使用 Python 设置文件夹的权限，但在运行此命令时，也需要提供用户输入，即

它询问您是否确定（Y/N）并且用户需要输入“Y”或“N”

上面的代码没有设置权限。

这是我之前问过的问题：

[通过命令行发送命令的 Python 代码](https://stackoverflow.com/questions/10028236/python-code-to-send-command-through-command-line)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:11:50.190

作为一个聪明的程序员，使用[PBS](https://github.com/amoffat/pbs)

然后，代码是：

```
from pbs import type as echo# Isn't it echo for Windows? If not, use the correct one

script = Command("/path/to/cacls ")
print script(echo("Y"), ("E:/" + "\"" + list1[2] + " " + list1[3] + "\""  + "  /p " + str).split()) 
```

# macos - 从另一个脚本运行一个脚本

> ID：10039654
> 
> 赞同：-1
> 
> 时间：2012-04-06T05:49:45.890
> 
> 标签：macos, bash, command

我有一个位于 /tmp/"My Batch Script Files"/Processing 的脚本

我将如何在另一个脚本中从主目录 /tmp/ 运行它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:28:41.483

如果它是可执行的：

```
"/tmp/My Batch Script Files/Processing" arg1 arg2 ... 
```

如果它不可执行，要么使其可执行，要么：

```
bash "/tmp/My Batch Script Files/Processing" arg1 arg2 ... 
```

您可以像我一样将双引号放在整个路径名周围，或者放在包含空格的组件周围，或者您在两者之间选择的几乎任何其他位置。只需两个双引号，就可以尽可能地将它们放在一起：

```
/tmp/My" Batch Script "Files/Processing arg1 arg2 ... 
```

或者如果您愿意，可以使用反斜杠（不过我不推荐它们）：

```
/tmp/My\ Batch\ Script\ Files/Processing arg1 arg2 ... 
```

不过，总的来说，我会接受第一个建议，或者使用：

```
proc_script="/tmp/My Batch Script Files/Processing"

"$proc_script" arg1 arg2 ... 
```

如果您在外部脚本运行时生成文件名，这将特别有吸引力。

# windows-phone-7 - 如何在windows phone中删除文本框和键盘之间的间隙

> ID：10039655
> 
> 赞同：0
> 
> 时间：2012-04-06T05:49:49.923
> 
> 标签：windows-phone-7

我正在创建一个底部带有文本框的聊天窗口并发送底部。当我点击文本框时出现键盘，但显示文本框和键盘之间的间隙。如何消除windows phone中文本框和键盘之间的间隙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T01:30:51.737

好消息！我已经设法解决这个问题。下面的代码完全阻止页面向上移动，然后在文本框的底部添加一个边距以将其放置在键盘上方。低于 417 的值似乎对我很有效，但您可以将其更改为您喜欢的任何值。使用此方法还可以阻止其他内容（例如对话）被推离屏幕，因为它在键盘处于活动状态时可以完全滚动。

```
private void TextBox_GotFocus_1(object sender, RoutedEventArgs e)
    {
        var rootFrame = Application.Current.RootVisual as PhoneApplicationFrame;
        rootFrame.RenderTransform = new CompositeTransform() { TranslateY = +0 };
        TextInput2.Margin = new Thickness(12, 0, 12, 417);
    }

private void TextBox_LostFocus_1(object sender, RoutedEventArgs e)
    {
        var rootFrame = Application.Current.RootVisual as PhoneApplicationFrame;
        rootFrame.RenderTransform = new CompositeTransform() { TranslateY = +0 };
        TextInput2.Margin = new Thickness(12, 0, 12, 12);
    } 
```

# c# - 创建数据库后，为什么 sql 会直接变慢？

> ID：10039656
> 
> 赞同：0
> 
> 时间：2012-04-06T05:49:52.980
> 
> 标签：c#, sql, sql-server, database-performance

我正在做一些性能测试，发现 SQL 在全新数据库上的执行速度似乎比已经存在一段时间的数据库慢得多，我想知道为什么会这样，以及如何启动我的数据库创建后稍微好一点，这样我的性能测试就更准确了。

为了说明我的观点，我在[这里](https://gist.github.com/2317397)有一个测试应用程序，它执行以下操作：

1.  创建数据库和测试表
2.  插入一些行
3.  截断表格
4.  插入更多行

2 大约是 4 的 1.5 倍

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:05:14.713

这可能是由于数据库不在 RAM 中。仅仅因为创建了数据库并不意味着它已加载到 RAM 中。SQL Server 很可能只在数据库正在使用时才这样做，如果一段时间不使用，甚至可能会释放它们。类似于缓存。

创建数据库后，尝试从表中选择 count(*) 以确保所有内容都在 ram 中。然后，我希望 2 和 4 在大致相同的时间范围内表现。

啊，刚刚看到关于汽车增长的评论。这可以解释很多，并且截断表将使该空间可用，以便服务器不必分配新页面。——好评论 lnu。

**编辑**尝试在测试之前将您的数据和日志文件设置为 500 mb，以确保文件增长不是问题。类似的东西。

```
CREATE DATABASE [TestDB] ON  PRIMARY 
( NAME = N'TestDB', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL\data\TestDB.mdf' , SIZE = 512000KB , FILEGROWTH = 10%)
 LOG ON 
( NAME = N'TestDB_log', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL\data\TestDB_log.ldf' , SIZE = 512000KB , FILEGROWTH = 10%)
GO 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:20:06.010

我尝试了 Inu 关于自动增长的注释，看起来这就是问题发生的原因。

# c++ - 使用模板时出现奇怪的错误 字符串（输入迭代器开始，输入迭代器结束）；

> ID：10039657
> 
> 赞同：3
> 
> 时间：2012-04-06T05:49:55.190
> 
> 标签：c++, stl, iterator, stdstring, istream-iterator

给定这样的代码段：

```
#include <iostream>
#include <iterator>
#include <fstream>
#include <string>
using namespace std;
int main(){
    ifstream file("1.txt");
    string str((istream_iterator<char>(file)),istream_iterator<char>());
    file.close();
    cout<<str<<endl;
} 
```

该代码使用 istream_iterator 从文件构造字符串。

请注意，字符串构造函数的第一个参数用一对括号括起来。如果我省略括号，则会出现错误。在 VC++ 2008 中，会出现链接错误。在 G++ 中，代码输出错误。

我对括号感到很奇怪。有什么区别，为什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T05:56:56.590

如果没有“额外”括号，您将获得 C++ 的“最令人头疼的解析”——而不是定义一个以`str`两个 istream_iterators 命名的对象来指定其初始化程序，而是将其解析为一个名为`str`返回 a的函数的声明`string`，以及“stuff”括号中指定了它采用的参数类型。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T05:56:49.287

它看起来像是“C++ 最令人头疼的解析”问题的示例之一。看起来编译器将语句解释为接受两个参数`()`的函数的函数声明。`str`通过添加`()`，您将通知编译器它是一个对象，而不是函数原型签名的一部分。

# magento - Magento CCAvenue 支付集成

> ID：10039661
> 
> 赞同：0
> 
> 时间：2012-04-06T05:50:08.203
> 
> 标签：magento, payment-gateway, ccavenue

我如何将 CCavenue 集成到 Magento 中？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-07-25T06:32:31.770

嗨租...

印度的 CCAVENUE 团队提供了一个 magento 模块。打电话给他们，他们会免费通过电子邮件发送给您。它适用于 Magento CE 1.6.2。

我最近在我的网站上实现了它。

它有一个小错误，变量未定义，很容易排序..

整合过程如下：

Step1：从CCAVENUE获取模块

步骤 2：从 CCAVENUE 站点获取您的工作密钥。将您的商家 ID 放在手边。

第三步：打开模块文件夹。将文件夹 Avenues 复制到 magento\app\code\core\Mage

第四步：从模块文件夹复制文件 Mage_Avenues .xml 到 magento\app\etc\modules

Step5：从模块文件夹复制文件夹路径到magento app\design\adminhtml\default\default\template

Step6：打开 ..\app\code\core\Mage\avenues\controllers\StandardController.php 并在其中提及您的工作密钥。

Step7: 打开..\app\code\core\Mage\avenues\controllers\libfuncs.php 转到第56行.function cdec，并添加$dec = 0; 在循环之前。（这解决了变量未定义的错误）

Step8：在 Magento 后端刷新所有缓存并重新索引所有

Step9：在CCAVENUE后端设置重定向页面。

Step10：在 MAGENTO 中设置： • 点击配置，点击支付方式，选择 Cavenuepayment，输入商家 ID，输入工作密钥 保存配置

现在，这应该成功地将您重定向到成功页面，您可以在其中显示订单号等。登录到 Magento 后端，它将显示订单详细信息。

V IMP：在 magento 后端，它将显示 REDIRECTED TO CCAVENUE 和付款为待处理/到期。当您通过 Magento 开具发票时，这将自动更改为收到的付款。这就是它在 MAgento 中的工作方式。重要的是登录您的 CCAVENUe 帐户并检查那里是否已收到付款。付款应显示在那里。（订单通常需要大约 30 分钟才能显示在 CCAVENUE）

希望这可以帮助...

它有助于有利地设置权限。允许对文件夹进行读/写访问。我已经看到它还有助于隐藏 php 警告以使该模块有效工作。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-07-03T10:13:32.527

他们确实有一个模块，我从他们那里得到并成功安装。唯一的问题是没有确认是否付款。这是它的工作原理：

在结帐页面上有 CCAvenue 选项。我检查了它并单击了下订单。它重定向到 ccavenue 支付页面。我付款了，它成功重定向回我的网站。

但在管理订单详细信息中，它只是说重定向到 CCAvenue，没有确认付款是否成功。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-06T06:40:30.963

如果您向 CCAvenue 支付网关集成团队提出请求，他们将为您提供一个可以使用的 Magento 模块。希望你能得到那个模块并让它在你的 Magento 网站上运行。

# python - 从 csv 文件或来自 google docs 的电子表格填充 appengine 数据库中的数据

> ID：10039662
> 
> 赞同：0
> 
> 时间：2012-04-06T05:50:16.443
> 
> 标签：python, database, google-app-engine, google-docs, google-docs-api

我在谷歌应用引擎上使用 webapp2 我的数据库模型具有以下架构：

```
class Match(db.Model):
    start_date = db.DateProperty()
    start_time = db.TimeProperty()
    team1 = db.StringProperty()
    team2 = db.StringProperty()
    venue = db.StringProperty()
    result = db.IntegerProperty() 
```

我有一个 csv 文件或说谷歌电子表格，所有数据大约有 150 行。

手动输入所有值是一件很痛苦的事情。谁能建议我如何更新数据库？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:52:44.930

您可以创建一个页面，您可以将 CSV 文件的内容发布到该页面，然后使用 Python`csv`模块读取文件并遍历行，并在执行过程中插入模型实例。

# objective-c - 如果为 0，则应该修剪 pickerview 及其选定的值

> ID：10039667
> 
> 赞同：0
> 
> 时间：2012-04-06T05:50:49.157
> 
> 标签：objective-c, uipickerview

我在某些视图中有一个带有 6 个组件的选择器视图，并且所有组件都有相同的数组，即 0 到 9 个整数，现在我必须从每个组件中选择一行。和选定的值打印在文本字段上。它正在发生，但现在的问题是，如果用户选择 000130（即示例），那么在文本字段上应该写 130。怎么做。

```
- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component
{

    str_final = [NSString stringWithFormat:@"%@%@%@%@%@%@",
                           [orderValueArr objectAtIndex:[pickerView selectedRowInComponent:0]],
                           [orderValueArr objectAtIndex:[pickerView selectedRowInComponent:1]],
                           [orderValueArr objectAtIndex:[pickerView selectedRowInComponent:2]],
                           [orderValueArr objectAtIndex:[pickerView selectedRowInComponent:3]],
                           [orderValueArr objectAtIndex:[pickerView selectedRowInComponent:4]],
                           [orderValueArr objectAtIndex:[pickerView selectedRowInComponent:5]]];
 NSString *trimMe = str_final;
trimMe = [trimMe stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
NSLog(@"trime me %@", trimMe);
    orderValueText.text = trimMe;

//}

} 
```

但它没有像我想要的那样给出回应。

请大家帮帮我..

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T06:00:17.597

只需将字符串值转换为整数值。您将修剪零。使用此代码。

```
 NSString *trimMe = @"000130"; 
    trimMe = [NSString stringWithFormat:@"%d",[trimMe intValue]];
    NSLog(@"%@",trimMe); 
```

# java - Android：如何以字节为单位读取文件？

> ID：10039672
> 
> 赞同：75
> 
> 时间：2012-04-06T05:51:30.470
> 
> 标签：java, android, file

我正在尝试在 Android 应用程序中以字节为单位获取文件内容。我已经在 SD 卡中获取了文件，现在想要以字节为单位获取所选文件。我用谷歌搜索但没有这样的成功。请帮忙

下面是获取带有扩展名的文件的代码。通过这个我得到文件并在微调器中显示。在文件选择上，我想以字节为单位获取文件。

```
private List<String> getListOfFiles(String path) {

   File files = new File(path);

   FileFilter filter = new FileFilter() {

      private final List<String> exts = Arrays.asList("jpeg", "jpg", "png", "bmp", "gif","mp3");

      public boolean accept(File pathname) {
         String ext;
         String path = pathname.getPath();
         ext = path.substring(path.lastIndexOf(".") + 1);
         return exts.contains(ext);
      }
   };

   final File [] filesFound = files.listFiles(filter);
   List<String> list = new ArrayList<String>();
   if (filesFound != null && filesFound.length > 0) {
      for (File file : filesFound) {
         list.add(file.getName());
      }
   }
   return list;
} 
```

* * *

## 回答 #1

> 赞同：132
> 
> 时间：2012-04-06T06:00:40.280

这里很简单：

```
File file = new File(path);
int size = (int) file.length();
byte[] bytes = new byte[size];
try {
    BufferedInputStream buf = new BufferedInputStream(new FileInputStream(file));
    buf.read(bytes, 0, bytes.length);
    buf.close();
} catch (FileNotFoundException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} catch (IOException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} 
```

在 manifest.xml 中添加权限：

```
 <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" /> 
```

* * *

## 回答 #2

> 赞同：26
> 
> 时间：2016-02-01T22:17:21.587

今天最简单的解决方案是使用 Apache common io ：

[http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#readFileToByteArray(java.io.File)](http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#readFileToByteArray(java.io.File))

```
byte bytes[] = FileUtils.readFileToByteArray(photoFile) 
```

唯一的缺点是在您的`build.gradle`应用程序中添加此依赖项：

```
implementation 'commons-io:commons-io:2.5' 
```

+ 1562 种方法计数

* * *

## 回答 #3

> 赞同：21
> 
> 时间：2015-10-29T20:01:59.560

这是一个保证将读取整个文件的解决方案，它不需要库并且效率很高：

```
byte[] fullyReadFileToBytes(File f) throws IOException {
    int size = (int) f.length();
    byte bytes[] = new byte[size];
    byte tmpBuff[] = new byte[size];
    FileInputStream fis= new FileInputStream(f);;
    try {

        int read = fis.read(bytes, 0, size);
        if (read < size) {
            int remain = size - read;
            while (remain > 0) {
                read = fis.read(tmpBuff, 0, remain);
                System.arraycopy(tmpBuff, 0, bytes, size - remain, read);
                remain -= read;
            }
        }
    }  catch (IOException e){
        throw e;
    } finally {
        fis.close();
    }

    return bytes;
} 
```

注意：它假定文件大小小于 MAX_INT 字节，您可以根据需要添加处理。

* * *

## 回答 #4

> 赞同：21
> 
> 时间：2017-01-24T20:41:07.893

由于接受`BufferedInputStream#read`不能保证读取所有内容，而不是自己跟踪缓冲区大小，我使用了这种方法：

```
 byte bytes[] = new byte[(int) file.length()];
    BufferedInputStream bis = new BufferedInputStream(new FileInputStream(file));
    DataInputStream dis = new DataInputStream(bis);
    dis.readFully(bytes); 
```

阻塞直到完整读取完成，并且不需要额外的导入。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2019-05-28T16:53:14.097

如果要为此使用`openFileInput`Context 中的方法，可以使用以下代码。

这将在从文件中读取每个字节时创建`BufferArrayOutputStream`并附加每个字节。

```
/**
 * <p>
 *     Creates a InputStream for a file using the specified Context
 *     and returns the Bytes read from the file.
 * </p>
 *
 * @param context The context to use.
 * @param file The file to read from.
 * @return The array of bytes read from the file, or null if no file was found.
 */
public static byte[] read(Context context, String file) throws IOException {
    byte[] ret = null;

    if (context != null) {
        try {
            InputStream inputStream = context.openFileInput(file);
            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();

            int nextByte = inputStream.read();
            while (nextByte != -1) {
                outputStream.write(nextByte);
                nextByte = inputStream.read();
            }

            ret = outputStream.toByteArray();

        } catch (FileNotFoundException ignored) { }
    }

    return ret;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-05-08T04:41:05.853

你也可以这样做：

```
byte[] getBytes (File file)
{
    FileInputStream input = null;
    if (file.exists()) try
    {
        input = new FileInputStream (file);
        int len = (int) file.length();
        byte[] data = new byte[len];
        int count, total = 0;
        while ((count = input.read (data, total, len - total)) > 0) total += count;
        return data;
    }
    catch (Exception ex)
    {
        ex.printStackTrace();
    }
    finally
    {
        if (input != null) try
        {
            input.close();
        }
        catch (Exception ex)
        {
            ex.printStackTrace();
        }
    }
    return null;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-10-21T18:38:09.030

一个简单的 InputStream 就可以了

```
byte[] fileToBytes(File file){
    byte[] bytes = new byte[0];
    try(FileInputStream inputStream = new FileInputStream(file)) {
        bytes = new byte[inputStream.available()];
        //noinspection ResultOfMethodCallIgnored
        inputStream.read(bytes);
    } catch (IOException e) {
        e.printStackTrace();
    }
    return bytes;
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2019-03-02T18:51:36.297

以下是分块读取整个文件的工作解决方案，以及使用扫描程序类读取大文件的有效解决方案。

```
 try {
        FileInputStream fiStream = new FileInputStream(inputFile_name);
        Scanner sc = null;
        try {
            sc = new Scanner(fiStream);
            while (sc.hasNextLine()) {
                String line = sc.nextLine();
                byte[] buf = line.getBytes();
            }
        } finally {
            if (fiStream != null) {
                fiStream.close();
            }

            if (sc != null) {
                sc.close();
            }
        }
    }catch (Exception e){
        Log.e(TAG, "Exception: " + e.toString());
    } 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2021-11-09T10:52:19.507

以字节为单位读取文件，常用于读取二进制文件，如图片、声音、图像等。使用下面的方法。

```
 public static byte[] readFileByBytes(File file) {

        byte[] tempBuf = new byte[100];
        int byteRead;
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();

        try {
            BufferedInputStream bufferedInputStream = new BufferedInputStream(new FileInputStream(file));
            while ((byteRead = bufferedInputStream.read(tempBuf)) != -1) {
                byteArrayOutputStream.write(tempBuf, 0, byteRead);
            }
            bufferedInputStream.close();
            return byteArrayOutputStream.toByteArray();
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    } 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2022-02-21T11:36:47.987

在 Kotlin 中，您可以简单地使用：

```
File(path).readBytes() 
```

# perl - STAF 自动化框架

> ID：10039673
> 
> 赞同：0
> 
> 时间：2012-04-06T05:51:36.400
> 
> 标签：perl

我正在尝试列出远程计算机 10.31.236.56 上的目录
我正在使用 staf 。 staf 文档将命令说为

```
LIST   DIRECTORY <Name> [RECURSE] [LONG [DETAILS] | SUMMARY] [TYPE <Types>]
   [NAME <Pattern>] [EXT <Pattern>] [CASESENSITIVE | CASEINSENSITIVE]
   [SORTBYNAME | SORTBYSIZE | SORTBYMODTIME] 
```

所以我用它作为

```
system("staf  10.31.236.56  FS LIST DIRECTORY  c:\\RMT\\Log "); 
```

我得到了结果，但是当我尝试匹配特定文件时

```
 system("staf  10.31.236.56  FS LIST DIRECTORY  c:\\RMT\\Log  NAME  /latest*.*/"); 
```

我没有得到任何回应有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T05:58:58.703

shell 很可能在通配符传递给 STAF 之前对其进行解释。我建议将 STAF 的所有参数放在引号中，这样 shell 就不会干扰。

为了获得最佳结果，也许避免使用`system(string)`来启动命令，而是使用其中一个`qx{}`或`system(LIST)`这样一个子shell 不被调用。

也许是这样的：

```
my $cmd = "staf  10.31.236.56  FS LIST DIRECTORY  c:\\RMT\\Log  NAME  /latest*.*/";
system(split ' ', $cmd); 
```

当您向系统传递单个字符串时，它会启动一个 shell，并将该字符串作为要执行的命令传递。然后，shell 解析该字符串（包括任何通配符）并运行该命令。由于您不希望这种情况发生（因为您不希望 shell 解析“latest*.*”），您可以向系统传递一个列表，它会告诉它直接启动 staf。

# php - 有什么方法可以快速获得 cookie 响应？

> ID：10039675
> 
> 赞同：0
> 
> 时间：2012-04-06T05:52:12.820
> 
> 标签：php

我在页面**test_cookie.php**中编写了一个简单的代码来处理 cookie。

```
if(isset($_GET['data'])) { 
    setcookie('test_cookie', $_GET['data'], time()+60*60*24*30); 
}
echo 'Cookie name is: ' . $_COOKIE['test_cookie']; 
```

现在，一旦将 cookie 设置为某个值，并且我将值设置为其他值（使用 $_GET），那么内容值不会很快改变。如果出现新值，我必须再次刷新它。

这是一个图片示例：

![饼干问题](../Images/a0fb6244cc55e5f0b1e2c391ff7420d8.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T05:53:33.597

是的 - 只需在您调用时明确设置`setcookie()`：

```
if(isset($_GET['data'])) {
    setcookie('test_cookie', $_GET['data'], time()+60*60*24*30); 
    $_COOKIE['test_cookie'] = $_GET['data'];
}
echo 'Cookie name is: ' . $_COOKIE['test_cookie']; 
```

您的代码无法“快速”运行的原因是因为`$_COOKIE`包含浏览器在当前请求中发送的 cookie，同时`setcookie()`在此响应中向浏览器发送 cookie 标头。由于请求先于响应，因此您需要等待下一个请求才能看到您刚刚设置的 cookie。上面的代码通过假装我们刚刚发送的 cookie 是在这个请求中接收到的来解决这个问题的。

# javascript - 移动 Safari 中的 HTML5 仪表

> ID：10039676
> 
> 赞同：0
> 
> 时间：2012-04-06T05:52:17.080
> 
> 标签：javascript, html, mobile, mobile-safari, modernizr

我正在开发一个需要仪表，最好是 HTML5 仪表的移动网络应用程序。目前 Mobile Safari 不支持仪表元素，但我希望使用 Modernizr 和 Polyfill 来让它工作，但到目前为止我还没有运气。

关于如何让仪表工作的任何建议？或者 HTML5 仪表的任何好的替代品？

这是当前页面，非常简单：

```
<!doctype html>
<head>
<meta charset="utf-8">

<title>untitled</title>

<script src="modernizr-2.5.3.js"></script>
<script src="jquery.meterShim.js"></script>
<link rel="stylesheet" href="jquery.meterShim.css">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
</head>
<body>

<div id="container">
<header>
</header>

 <meter value="4" min="0" max="10">4/10</meter>

    <footer>
</footer>
</div> 
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-04-06T06:03:43.120

根据[w3schools](http://www.w3schools.com/html5/tag_meter.asp)的仪表标签将仅支持在 Opera 和 chrome 中，作为替代方案，您可以使用[jquery 进度条](http://jqueryui.com/demos/progressbar/)

# java - Java PrimeFaces - DualListModel 迭代

> ID：10039678
> 
> 赞同：1
> 
> 时间：2012-04-06T05:52:27.417
> 
> 标签：java, primefaces, iteration

编辑：我正在尝试迭代用户选择的值列表，这些值由 PrimeFaces 中的 DualListModel 带来。

这是我正在尝试做的事情：

```
List<Department> dptsSelected = dptsDual.getTarget();
for (Department d : dptsSelected ) {
//do something
} 
```

dpts双：

```
DualListModel<Department> dptsDual; 
```

进入 FOR 循环时出现错误。甚至在进入循环之前就抛出异常，它被抛出在 FOR。

```
java.lang.ClassCastException: java.lang.String cannot be cast to Department 
```

TIA

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T15:59:01.393

我解决了我的问题。我错误地假设 PF 组件可以将对象从页面中带回来。我假设这是因为当我这样做时 Java 没有抗议：

```
List<Department> dptsSelected = dptsDual.getTarget(); 
```

所以..也许我应该通过使用转换器来解决这个问题。

谢谢你们的帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:27:42.177

您正在混合两种不同的东西，DepartmentEnum 和 Department。首先确定您的需求是需要 dptsDual 作为 Department 的 DualListModel 还是 DepartmentEnum 的 DualListModel

现在试试这个方法......

在 xhtml 中：

```
 <p:pickList value="#{myBean.myDepartment}" ....> 
```

在豆子里：

```
List<Department> selectedDepartments = new ArrayList<Department>();
List<Department> availableDepartments = getAvailableDepartments();

private DualListModel<Department> myDepartment;
myDepartment = new DualListModel<Department>(availableDepartments, selectedDepartments); 
```

提交后， selectedDepartments 将具有用户选择的部门

# javascript - 如何计算贝塞尔曲线的面积？

> ID：10039679
> 
> 赞同：30
> 
> 时间：2012-04-06T05:52:27.813
> 
> 标签：javascript, svg

给定以下描述 SVG 三次贝塞尔曲线的路径（例如）：“M300,140C300,40,500,40,500,140”，并假设连接端点 300,140 到 500,140 的直线（闭合曲线下的区域），是否可能计算出如此封闭的面积？

谁能建议一个公式（或 JavaScript）来完成这个？

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2012-04-06T15:23:34.983

[将路径转换](http://phrogz.net/svg/convert_path_to_polygon.xhtml)为任意精度的多边形，然后[计算多边形的面积](http://www.wikihow.com/Calculate-the-Area-of-a-Polygon)。

~~交互式演示：[通过细分的路径区域](http://phrogz.net/svg/area_of_path_via_subdivision.xhtml)~~ [*（破碎的）*]

                      ![演示截图](../Images/0f39b52a172e7a8daccfae28f6b2b6c8.png)

上述演示的核心是使用函数[将路径自适应地细分为多边形](http://phrogz.net/svg/libraries/SVGPathToPolyViaSubDivision.js)并[计算多边形的面积](http://phrogz.net/svg/libraries/SVGPolyArea.js)：

```
// path:      an SVG <path> element
// threshold: a 'close-enough' limit (ignore subdivisions with area less than this)
// segments:  (optional) how many segments to subdivisions to create at each level
// returns:   a new SVG <polygon> element
function pathToPolygonViaSubdivision(path,threshold,segments){
  if (!threshold) threshold = 0.0001; // Get really, really close
  if (!segments)  segments = 3;       // 2 segments creates 0-area triangles

  var points = subdivide( ptWithLength(0), ptWithLength( path.getTotalLength() ) );
  for (var i=points.length;i--;) points[i] = [points[i].x,points[i].y];

  var doc  = path.ownerDocument;
  var poly = doc.createElementNS('http://www.w3.org/2000/svg','polygon');
  poly.setAttribute('points',points.join(' '));
  return poly;

  // Record the distance along the path with the point for later reference
  function ptWithLength(d) {
    var pt = path.getPointAtLength(d); pt.d = d; return pt;
  }

  // Create segments evenly spaced between two points on the path.
  // If the area of the result is less than the threshold return the endpoints.
  // Otherwise, keep the intermediary points and subdivide each consecutive pair.
  function subdivide(p1,p2){
    var pts=[p1];
    for (var i=1,step=(p2.d-p1.d)/segments;i<segments;i++){
      pts[i] = ptWithLength(p1.d + step*i);
    }
    pts.push(p2);
    if (polyArea(pts)<=threshold) return [p1,p2];
    else {
      var result = [];
      for (var i=1;i<pts.length;++i){
        var mids = subdivide(pts[i-1], pts[i]);
        mids.pop(); // We'll get the last point as the start of the next pair
        result = result.concat(mids)
      }
      result.push(p2);
      return result;
    }
  }

  // Calculate the area of an polygon represented by an array of points
  function polyArea(points){
    var p1,p2;
    for(var area=0,len=points.length,i=0;i<len;++i){
      p1 = points[i];
      p2 = points[(i-1+len)%len]; // Previous point, with wraparound
      area += (p2.x+p1.x) * (p2.y-p1.y);
    }
    return Math.abs(area/2);
  }
} 
```

```
// Return the area for an SVG <polygon> or <polyline>
// Self-crossing polys reduce the effective 'area'
function polyArea(poly){
  var area=0,pts=poly.points,len=pts.numberOfItems;
  for(var i=0;i<len;++i){
    var p1 = pts.getItem(i), p2=pts.getItem((i+-1+len)%len);
    area += (p2.x+p1.x) * (p2.y-p1.y);
  }
  return Math.abs(area/2);
} 
```

* * *

*以下是原始答案，它使用不同的（非自适应）技术`<path>`将`<polygon>`.*

~~互动演示： http: [//phrogz.net/svg/area_of_path.xhtml](http://phrogz.net/svg/area_of_path.xhtml)~~ [*（破碎的）*]

                  ![演示截图](../Images/a99cf2917224db2f7a458a63f9346dad.png)

上述演示的核心是使用[多边形近似路径](http://phrogz.net/svg/libraries/SVGPathToPoly.js)和[计算多边形面积的](http://phrogz.net/svg/libraries/SVGPolyArea.js)函数。

```
// Calculate the area of an SVG polygon/polyline
function polyArea(poly){
  var area=0,pts=poly.points,len=pts.numberOfItems;
  for(var i=0;i<len;++i){
    var p1 = pts.getItem(i), p2=pts.getItem((i+len-1)%len);
    area += (p2.x+p1.x) * (p2.y-p1.y);
  }
  return Math.abs(area/2);
}

// Create a <polygon> approximation for an SVG <path>
function pathToPolygon(path,samples){
  if (!samples) samples = 0;
  var doc = path.ownerDocument;
  var poly = doc.createElementNS('http://www.w3.org/2000/svg','polygon');

  // Put all path segments in a queue
  for (var segs=[],s=path.pathSegList,i=s.numberOfItems-1;i>=0;--i)
    segs[i] = s.getItem(i);
  var segments = segs.concat();

  var seg,lastSeg,points=[],x,y;
  var addSegmentPoint = function(s){
    if (s.pathSegType == SVGPathSeg.PATHSEG_CLOSEPATH){

    }else{
      if (s.pathSegType%2==1 && s.pathSegType>1){
        x+=s.x; y+=s.y;
      }else{
        x=s.x; y=s.y;
      }          
      var last = points[points.length-1];
      if (!last || x!=last[0] || y!=last[1]) points.push([x,y]);
    }
  };
  for (var d=0,len=path.getTotalLength(),step=len/samples;d<=len;d+=step){
    var seg = segments[path.getPathSegAtLength(d)];
    var pt  = path.getPointAtLength(d);
    if (seg != lastSeg){
      lastSeg = seg;
      while (segs.length && segs[0]!=seg) addSegmentPoint( segs.shift() );
    }
    var last = points[points.length-1];
    if (!last || pt.x!=last[0] || pt.y!=last[1]) points.push([pt.x,pt.y]);
  }
  for (var i=0,len=segs.length;i<len;++i) addSegmentPoint(segs[i]);
  for (var i=0,len=points.length;i<len;++i) points[i] = points[i].join(',');
  poly.setAttribute('points',points.join(' '));
  return poly;
} 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-04-06T01:21:45.997

我犹豫只是发表评论或完整回复。但是一个简单的谷歌搜索“面积贝塞尔曲线”会导致前三个链接（第一个是同一篇文章），在：

[http://objectmix.com/graphics/133553-area-closed-bezier-curve.html](http://objectmix.com/graphics/133553-area-closed-bezier-curve.html)（[存档](https://web.archive.org/web/20160701040856/http://objectmix.com/graphics/133553-area-closed-bezier-curve.html)）

使用散度定理提供封闭形式的解决方案。我很惊讶 OP 没有找到这个链接。

复制文本以防网站出现故障，并感谢回复 Kalle Rutanen 的作者：

> 一个有趣的问题。对于二维中的任何分段可微曲线，以下一般过程为您提供曲线/曲线系列内的面积。对于多项式曲线（贝塞尔曲线），您将获得封闭形式的解决方案。
> 
> 令 g(t) 为分段可微曲线，其中 0 <= t <= 1。g(t) 是顺时针方向且 g(1) = g(0)。
> 
> 令 F(x, y) = [x, y] / 2
> 
> 然后 div(F(x, y)) = 1 其中 div 用于发散。
> 
> 现在散度定理将封闭曲线 g (t) 内的面积作为沿曲线的线积分给出：
> 
> int(dot(F(g(t)), perp(g'(t))) dt, t = 0..1) = (1 / 2) * int(dot(g(t), perp(g' (t))) dt, t = 0..1)
> 
> perp(x, y) = (-y, x)
> 
> 其中 int 表示积分，' 表示微分，dot 表示点积。积分必须拼接到对应于平滑曲线段的部分。
> 
> 现在举个例子。采用贝塞尔曲线 3 和一条带有控制点 (x0, y0), (x1, y1), (x2, y2), (x3, y3) 的曲线。这条曲线上的积分是：
> 
> 我 := 3 / 10 * y1 * x0 - 3 / 20 * y1 * x2 - 3 / 20 * y1 * x3 - 3 / 10 * y0 * x1 - 3 / 20 * y0 * x2 - 1 / 20 * y0 * x3 + 3 / 20 * y2 * x0 + 3 / 20 * y2 * x1 - 3 / 10 * y2 * x3 + 1 / 20 * y3 * x0 + 3 / 20 * y3 * x1 + 3 / 10 * y3 * x2
> 
> 计算序列中的每条曲线并将它们相加。总和是曲线包围的面积（假设曲线形成一个环）。
> 
> 如果曲线仅由一条贝塞尔曲线组成，则它必须是 x3 = x0 和 y3 = y0，面积为：
> 
> 面积：= 3 / 20 * y1 * x0 - 3 / 20 * y1 * x2 - 3 / 20 * y0 * x1 + 3 / 20 * y0 * x2 - 3 / 20 * y2 * x0 + 3 / 20 * y2 * x1
> 
> 希望我没有做错。
> 
> --
> Kalle Rutanen
> [http://kaba.hilvi.org](http://kaba.hilvi.org)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-04-05T10:49:31.063

我遇到了同样的问题，但我没有使用 javascript，所以我不能使用@Phrogz 接受的答案。~~此外，`SVGPathElement.getPointAtLength()`根据[Mozilla](https://developer.mozilla.org/docs/Web/API/SVGPathElement/getPointAtLength)已弃用已接受答案中使用的。~~

`(x0/y0)`当用点、和（起点和终点在哪里）描述贝塞尔曲线时，`(x1/y1)`您可以使用参数化形式：`(x2/y2)``(x3/y3)``(x0/y0)``(x3/y3)`

[![三次贝塞尔曲线的参数化形式](../Images/d5e745654c5629762bfdb20fc8904a2a.png)](https://i.stack.imgur.com/ZJh1p.png) ^(（来源：[维基百科](https://en.wikipedia.org/wiki/B%C3%A9zier_curve#Cubic_B%C3%A9zier_curves)）)

其中**B** (t) 是贝塞尔曲线上的点，而**P** [*i*]是贝塞尔曲线定义点（见上文，**P** [0]是起点，...）。*t*是 0 ≤ *t* ≤ 1 的运行变量。

这种形式可以很容易地逼近贝塞尔曲线：您可以使用*t* = *i* / *n* [points]生成任意数量的点。（请注意，您必须添加起点和终点）。结果是一个多边形。然后，您可以使用[鞋带公式](https://wikipedia.org/wiki/Shoelace_formula)（就像@Phrogz 在他的解决方案中所做的那样）来计算面积。请注意，对于鞋带公式，点的顺序很重要。通过使用*t*作为参数，顺序将*始终*正确。

[![交互式演示预览](../Images/af681ca62f3fa2fb2e1045dff72b9f5b.png)](https://i.stack.imgur.com/GS8p6.jpg)

为了匹配这里的问题**，代码片段中的一个交互式示例**也是用 javascript 编写的。这可以被其他语言采用。它不使用任何 javascript（或 svg）特定命令（图纸除外）。请注意，这需要支持 HTML5 的浏览器才能工作。

```
/**
 *  Approximate the bezier curve points.
 *
 *  @param bezier_points: object, the points that define the
 *                          bezier curve
 *  @param point_number:  int, the number of points to use to
 *                          approximate the bezier curve
 *
 *  @return Array, an array which contains arrays where the 
 *    index 0 contains the x and the index 1 contains the 
 *     y value as floats
 */
function getBezierApproxPoints(bezier_points, point_number){
  if(typeof bezier_points == "undefined" || bezier_points === null){
    return [];
  }

  var approx_points = [];
  // add the starting point
  approx_points.push([bezier_points["x0"], bezier_points["y0"]]);

  // implementation of the bezier curve as B(t), for futher
  // information visit 
  // https://wikipedia.org/wiki/B%C3%A9zier_curve#Cubic_B%C3%A9zier_curves
  var bezier = function(t, p0, p1, p2, p3){
    return Math.pow(1 - t, 3) * p0 + 
      3 * Math.pow(1 - t, 2) * t * p1 + 
      3 * (1 - t) * Math.pow(t, 2) * p2 + 
      Math.pow(t, 3) * p3;
  };

  // Go through the number of points, divide the total t (which is 
  // between 0 and 1) by the number of points. (Note that this is 
  // point_number - 1 and starting at i = 1 because of adding the
  // start and the end points.)
  // Also note that using the t parameter this will make sure that 
  // the order of the points is correct.
  for(var i = 1; i < point_number - 1; i++){
    let t = i / (point_number - 1);
    approx_points.push([
      // calculate the value for x for the current t
      bezier(
        t, 
        bezier_points["x0"], 
        bezier_points["x1"], 
        bezier_points["x2"], 
        bezier_points["x3"]
      ),
      // calculate the y value
      bezier(
        t, 
        bezier_points["y0"], 
        bezier_points["y1"], 
        bezier_points["y2"], 
        bezier_points["y3"]
      )
    ]);
  }

  // Add the end point. Note that it is important to do this 
  // **after** the other points. Otherwise the polygon will 
  // have a weird form and the shoelace formular for calculating
  // the area will get a weird result.
  approx_points.push([bezier_points["x3"], bezier_points["y3"]]);

  return approx_points;
}

/**
 *  Get the bezier curve values of the given path.
 *
 *  The returned array contains objects where each object 
 *  describes one cubic bezier curve. The x0/y0 is the start 
 *  point and the x4/y4 is the end point. x1/y1 and x2/y2 are 
 *  the control points.
 *
 *  Note that a path can also contain other objects than 
 *  bezier curves. Arcs, quadratic bezier curves and lines 
 *  are ignored.
 *
 *  @param svg:     SVGElement, the svg
 *  @param path_id: String, the id of the path element in the
 *                    svg
 *
 *  @return array, an array of plain objects where each 
 *    object represents one cubic bezier curve with the values 
 *    x0 to x4 and y0 to y4 representing the x and y 
 *    coordinates of the points
 */
function getBezierPathPoints(svg, path_id){
  var path = svg.getElementById(path_id);
  if(path === null || !(path instanceof SVGPathElement)){
    return [];
  }

  var path_segments = splitPath(path);
  var points = [];

  var x = 0;
  var y = 0;
  for(index in path_segments){
    if(path_segments[index]["type"] == "C"){
      let bezier = {};
      // start is the end point of the last element
      bezier["x0"] = x;
      bezier["y0"] = y;
      bezier["x1"] = path_segments[index]["x1"];
      bezier["y1"] = path_segments[index]["y1"];
      bezier["x2"] = path_segments[index]["x2"];
      bezier["y2"] = path_segments[index]["y2"];
      bezier["x3"] = path_segments[index]["x"];
      bezier["y3"] = path_segments[index]["y"];
      points.push(bezier);
    }

    x = path_segments[index]["x"];
    y = path_segments[index]["y"];
  }

  return points;
}

/**
 *  Split the given path to the segments.
 *
 *  @param path:           SVGPathElement, the path
 *
 *  @return object, the split path `d`
 */
function splitPath(path){
  let d = path.getAttribute("d");
  d = d.split(/\s*,|\s+/);

  let segments = [];
  let segment_names = {
    "M": ["x", "y"],
    "m": ["dx", "dy"],
    "H": ["x"],
    "h": ["dx"],
    "V": ["y"],
    "v": ["dy"],
    "L": ["x", "y"],
    "l": ["dx", "dy"],
    "Z": [],
    "C": ["x1", "y1", "x2", "y2", "x", "y"],
    "c": ["dx1", "dy1", "dx2", "dy2", "dx", "dy"],
    "S": ["x2", "y2", "x", "y"],
    "s": ["dx2", "dy2", "dx", "dy"],
    "Q": ["x1", "y1", "x", "y"],
    "q": ["dx1", "dy1", "dx", "dy"],
    "T": ["x", "y"],
    "t": ["dx", "dy"],
    "A": ["rx", "ry", "rotation", "large-arc", "sweep", "x", "y"],
    "a": ["rx", "ry", "rotation", "large-arc", "sweep", "dx", "dy"]
  };
  let current_segment_type;
  let current_segment_value;
  let current_segment_index;
  for(let i = 0; i < d.length; i++){
    if(typeof current_segment_value == "number" && current_segment_value < segment_names[current_segment_type].length){
      let segment_values = segment_names[current_segment_type];
      segments[current_segment_index][segment_values[current_segment_value]] = d[i];
      current_segment_value++;
    }
    else if(typeof segment_names[d[i]] !== "undefined"){
      current_segment_index = segments.length;
      current_segment_type = d[i];
      current_segment_value = 0;
      segments.push({"type": current_segment_type});
    }
    else{
      delete current_segment_type;
      delete current_segment_value;
      delete current_segment_index;
    }
  }

  return segments;
}

/**
 *  Calculate the area of a polygon. The pts are the 
 *  points which define the polygon. This is
 *  implementing the shoelace formular.
 *
 *  @param pts: Array, the points
 *
 *  @return float, the area
 */
function polyArea(pts){
  var area = 0;
  var n = pts.length;
  for(var i = 0; i < n; i++){
    area += (pts[i][1] + pts[(i + 1) % n][1]) * (pts[i][0] - pts[(i + 1) % n][0]);
  }
  return Math.abs(area / 2);
}

// only for the demo
(function(){
  document.getElementById('number_of_points').addEventListener('change', function(){
    var svg = document.getElementById("svg");
    var bezier_points = getBezierPathPoints(svg, "path");
    // in this example there is only one bezier curve
    bezier_points = bezier_points[0];

    // number of approximation points
    var approx_points_num = parseInt(this.value);
    var approx_points = getBezierApproxPoints(bezier_points, approx_points_num);

    var doc = svg.ownerDocument;

    // remove polygon
    var polygons;
    while((polygons = doc.getElementsByTagName("polygon")).length > 0){
      polygons[0].parentNode.removeChild(polygons[0]);
    }

    // remove old circles
    var circles;
    while((circles = doc.getElementsByTagName("circle")).length > 0){
      circles[0].parentNode.removeChild(circles[0]);
    }

    // add new circles and create polygon
    var polygon_points = [];
    for(var i = 0; i < approx_points.length; i++){
      let circle = doc.createElementNS('http://www.w3.org/2000/svg', 'circle');
      circle.setAttribute('cx', approx_points[i][0]);
      circle.setAttribute('cy', approx_points[i][1]);
      circle.setAttribute('r', 1);
      circle.setAttribute('fill', '#449944');
      svg.appendChild(circle);
      polygon_points.push(approx_points[i][0], approx_points[i][1]);
    }

    var polygon = doc.createElementNS('http://www.w3.org/2000/svg', 'polygon');
    polygon.setAttribute("points", polygon_points.join(" "));
    polygon.setAttribute("stroke", "transparent");
    polygon.setAttribute("fill", "#cccc00");
    polygon.setAttribute("opacity", "0.7");
    svg.appendChild(polygon);

    doc.querySelector("output[name='points']").innerHTML = approx_points_num;
    doc.querySelector("output[name='area']").innerHTML = polyArea(approx_points);
  });

  var event = new Event("change");
  document.getElementById("number_of_points").dispatchEvent(event);
})();
```

```
<html>
  <body>
    <div style="width: 100%; text-align: center;">
      <svg width="250px" height="120px" viewBox="-5 -5 45 30" id="svg">
        <path d="M 0 0 C 10 15 50 40 30 0 Z" fill="transparent" stroke="black" id="path" />
      </svg>
      <br />
      <input type="range" min="3" max="100" value="5" class="slider" id="number_of_points">
      <br />
      Approximating with 
      <output name="points" for="number_of_points"></output>
      points, area is
      <output name="area"></output>
    </div>
  </body>
</html>
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-04-06T06:24:16.697

首先，我对贝塞尔曲线不太熟悉，但我知道它们是连续函数。如果您确保您的三次曲线不与自身相交，您可以在给定的封闭域 ([ab]) 上以封闭形式（我的意思是使用解析积分）对其进行积分，并减去由末端形成的三角形面积连接直线和 X 轴。如果与贝塞尔曲线和末端连接直线相交，您可以分段并尝试以一致的方式分别计算每个区域。

对我来说合适的搜索词是“连续函数积分”“积分”“函数下的面积”“微积分”

当然，您可以从 Bézier 曲线 fn 生成离散数据并获得离散 XY 数据并近似计算积分。

![描述图](../Images/176941de9d8aa00e0ac1de6f223e9e8d.png)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2018-05-30T21:30:38.997

我喜欢 Phrogz 接受的答案中的解决方案，但我也进一步研究并找到了一种使用`CompoundPath`类和`area`属性对 Paper.js 执行相同操作的方法。[请参阅我的 Paper.js 演示](http://sketch.paperjs.org/#S/TVHBboMwDP0ViwugTRQKbFWrnai0U7VJSDts7BDAtBFpghKzqZr270vSduopfn6233vKTyDZEYN1UI9I3SG4DzrVO7xYwBYHLhHqt2eYGB2SRn4x7cstIwZPEDZNIwF2kKcpZEV6hpWHRQplWkL2AMXKklkO1ZkuiwKKRyiXOSzzEoosgyy9rL67J9w0spFWv9LICL0gcGmIyQ5vTFgDEr+hUsdJzbJ/ta3oai7e+As1Ehg6CS73dkXbpITa2Bs+z8CFqJRQ2kUxhChaMaOT97SaWMfpZMk0WV2bhrQa8X+rZ3q8LnnFl5mm2YrOemAdArMRgBR0SholEKKem0mwE/Y2EQgcCFpFpI52QkvUsfV2mU2E2kdhfXNoDSHcwc7ZYK2JfKFddB87cSNx7JLbX2wtGCfFJZlg/fH5+wc=)。

结果（表面积 = 11856）与使用阈值 0 时[Phrogz 的演示](http://phrogz.net/svg/area_of_path_via_subdivision.xhtml)完全相同，但处理似乎要快得多！我知道加载 Paper.js 只是为了计算表面积是过分的，但如果你正在考虑实现一个框架或想研究 Paper.js 是如何做到的......

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-12-04T13:09:26.000

难道你不能通过改变 T 来获得一组数据点，然后简单地将其输入到方程中来应用高斯的魔术鞋带定理吗？

这是一个简单的视频演示[https://www.youtube.com/watch?v=0KjG8Pg6LGk&ab_channel=Mathologer](https://www.youtube.com/watch?v=0KjG8Pg6LGk&ab_channel=Mathologer)

然后这里是维基[https://en.wikipedia.org/wiki/Shoelace_formula](https://en.wikipedia.org/wiki/Shoelace_formula)

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2019-07-17T16:56:51.450

在二维平面中移动的点的半径矢量所覆盖的正方形区域为 1/2*integral[(x-xc)*dy/dt - (y-yc)*dx/dt]dt。这里 xc 和 yc 是原点（中心）的坐标。贝塞尔曲线情况的推导相当麻烦，但可能。请参阅下面的函数 squareAreaQuadr 和 squareAreaCubic。我已经测试并重新测试了这些公式，相当肯定，没有错误。此签名为 SVG 坐标平面中的顺时针旋转提供正方形区域。

```
 var xc=0.1, yc=0.2, x0=0.9, y0=0.1, x1=0.9, y1=0.9, x2=0.5, y2=0.5, x3=0.1, y3=0.9
    var cubic = document.getElementById("cubic");
    cubic.setAttribute("d", "M "+xc*500+" "+yc*500+" L "+x0*500+" "+y0*500+" C "+x1*500+" "+y1*500+" "+x2*500+" "+y2*500+" "+x3*500+" "+y3*500+" L "+xc*500+" "+yc*500);
    var center1 = document.getElementById("center1");
    center1.setAttribute("cx", xc*500);
    center1.setAttribute("cy", yc*500);

    function squareAreaCubic(xc, yc, x0, y0, x1, y1, x2, y2, x3, y3)
        {
        var s;
        s = 3/4*( (x0-xc)*(y1-y0) + (x3-xc)*(y3-y2) ) +
        1/4*(x3-x0)*(y1+y2-y0-y3) +
        1/8*( (x0+x3-2*xc)*(3*y2-3*y1+y0-y3) + (x1+x2-x0-x3)*(y1-y0+y3-y2) ) +
        3/40*( (2*x1-x0-x2)*(y1-y0) + (2*x2-x1-x3)*(y3-y2) ) +
        1/20*( (2*x1-x0-x2)*(y3-y2) + (2*x2-x1-x3)*(y1-y0) + (x1+x2-x0-x3)*(3*y2-3*y1+y0-y3) ) +
        1/40*(x1+x2-x0-x3)*(3*y2-3*y1+y0-y3) -
        3/4*( (y0-yc)*(x1-x0) + (y3-yc)*(x3-x2) ) -
        1/4*(y3-y0)*(x1+x2-x0-x3) -
        1/8*( (y0+y3-2*yc)*(3*x2-3*x1+x0-x3) + (y1+y2-y0-y3)*(x1-x0+x3-x2) ) -
        3/40*( (2*y1-y0-y2)*(x1-x0) + (2*y2-y1-y3)*(x3-x2) ) -
        1/20*( (2*y1-y0-y2)*(x3-x2) + (2*y2-y1-y3)*(x1-x0) + (y1+y2-y0-y3)*(3*x2-3*x1+x0-x3) ) -
        1/40*(y1+y2-y0-y3)*(3*x2-3*x1+x0-x3) ;
        return s;
        }

    var s = squareAreaCubic(xc, yc, x0, y0, x1, y1, x2, y2, x3, y3);
    document.getElementById("c").innerHTML = document.getElementById("c").innerHTML + s.toString();
```

```
 <html>
    <body>
    <h1>Bezier square area</h1>
    <p id="q">Quadratic: S = </p>

    <svg  height="500" width="500">
    <rect width="500" height="500" style="fill:none; stroke-width:2; stroke:black" />
    <path id="quadr" fill="lightgray" stroke="red" stroke-width="1" />
    <circle id="q_center" r="5" fill="black" />
    </svg>

    <script>
    var xc=0.1, yc=0.2, x0=0.9, y0=0.1, x1=0.9, y1=0.9, x2=0.1, y2=0.9;
    var quadr = document.getElementById("quadr");
    quadr.setAttribute("d", "M "+xc*500+" "+yc*500+" L "+x0*500+" "+y0*500+" Q "+x1*500+" "+y1*500+" "+x2*500+" "+y2*500+" L "+xc*500+" "+yc*500);
    var center = document.getElementById("q_center");
    q_center.setAttribute("cx", xc*500);
    q_center.setAttribute("cy", yc*500);

    function squareAreaQuadr(xc, yc, x0, y0, x1, y1, x2, y2)
        {
        var s = 1/2*( (x0-xc)*(y1-y0) + (x2-xc)*(y2-y1) - (y0-yc)*(x1-x0) - (y2-yc)*(x2-x1) ) +
        1/12*( (x2-x0)*(2*y1-y0-y2) - (y2-y0)*(2*x1-x0-x2) );
        return s;
        }

    var s = squareAreaQuadr(xc, yc, x0, y0, x1, y1, x2, y2);
    document.getElementById("q").innerHTML = document.getElementById("q").innerHTML + s.toString();
    </script>

    <p id="c">Cubic: S = </p>

    <svg  height="500" width="500">
    <rect width="500" height="500" style="fill:none; stroke-width:2; stroke:black" />
    <path id="cubic" fill="lightgray" stroke="red" stroke-width="1" />
    <circle id="center1" r="5" fill="black" />
    </svg>

    </body>
    </html>
```

# android - 登录后如何开始活动活动

> ID：10039683
> 
> 赞同：1
> 
> 时间：2012-04-06T05:53:01.957
> 
> 标签：android, web-services, android-intent, httpclient

在我的登录活动中......我在询问用户名和密码......我想检查用户是否是授权用户......如果用户被授权，那么我的网络活动 menu.java 开始......否则他应该是重定向到同一个登录页面...带有警报...用户不存在...怎么做？

我已经写了我的活动.. 我怎样才能开始下一个活动？

```
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;

import org.apache.http.HttpResponse;
import org.apache.http.NameValuePair;
import org.apache.http.client.HttpClient;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicNameValuePair;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button; 
import android.widget.EditText;
import android.widget.TextView;

public class Login_Menu extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.login_lay);
    final TextView tv=(TextView) findViewById(R.id.login_stat_tv);
    final EditText uname=(EditText)findViewById(R.id.uname);
    final EditText pass=(EditText)findViewById(R.id.pass);
    Button login=(Button)findViewById(R.id.login_but);
    Button cancel=(Button)findViewById(R.id.cancel_but);

    final HttpClient client = new DefaultHttpClient();
    String url="http://10.0.2.2:7001/f/json.jsp";
    final HttpPost post = new HttpPost(url);

    login.setOnClickListener(new View.OnClickListener() {

        public void onClick(View arg0) {

        try{

            List<NameValuePair> pairs = new ArrayList<NameValuePair>();   
            pairs.add(new BasicNameValuePair("username",uname.getText().toString()));   
            pairs.add(new BasicNameValuePair("password",pass.getText().toString()));   
            post.setEntity(new UrlEncodedFormEntity(pairs));   
            HttpResponse response = client.execute(post);

            BufferedReader rd = new BufferedReader(new InputStreamReader(
                    response.getEntity().getContent()));
            String line = null;

            while ((line = rd.readLine()) != null) {

                tv.append(line);

            }

            //startActivity(new Intent("com.campuspro.start.DEMO_RETRV"));

          }

        catch(Exception e)
        {
            e.printStackTrace();   

        }

        }
    });

    cancel.setOnClickListener(new View.OnClickListener() {

        public void onClick(View arg0) {

            uname.getText().clear();
            pass.getText().clear();

        }
    });

}

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T05:55:32.970

在这里使用`Aysntask`类

哪个在`doInBackground()`结果中进行操作并给出结果`onPostExecute()`

```
public class Login_Menu extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    super.onCreate(savedInstanceState);
    setContentView(R.layout.login_lay);
    final TextView tv=(TextView) findViewById(R.id.login_stat_tv);
    final EditText uname=(EditText)findViewById(R.id.uname);
    final EditText pass=(EditText)findViewById(R.id.pass);
    Button login=(Button)findViewById(R.id.login_but);
    Button cancel=(Button)findViewById(R.id.cancel_but);

    final HttpClient client = new DefaultHttpClient();
    String url="http://10.0.2.2:7001/f/json.jsp";
    final HttpPost post = new HttpPost(url);
    new login().execute("");
 }

private class login extends AsyncTask<String, Void, Void>{
    ProgressDialog dialog = ProgressDialog.show(activity.this, "", "Loading, Please wait...");

    @Override
    protected int doInBackground(String... params) {
        // TODO Auto-generated method stub
        Log.i("thread", "Doing Something...");
       //authentication operation
try{

        List<NameValuePair> pairs = new ArrayList<NameValuePair>();   
        pairs.add(new BasicNameValuePair("username",uname.getText().toString()));   
        pairs.add(new BasicNameValuePair("password",pass.getText().toString()));   
        post.setEntity(new UrlEncodedFormEntity(pairs));   
        HttpResponse response = client.execute(post);

        BufferedReader rd = new BufferedReader(new InputStreamReader(
                response.getEntity().getContent()));
        String line = null;

        while ((line = rd.readLine()) != null) {

            tv.append(line);

        }
        //startActivity(new Intent("com.campuspro.start.DEMO_RETRV"));
      }

    catch(Exception e)
    {
        e.printStackTrace();   

    }

        return val;
    }

    protected void onPreExecute(){
        //dialog.dismiss();
        Log.i("thread", "Started...");
        dialog.show();
    }
    protected void onPostExecute(int result){
        Log.i("thread", "Done...");
        if(dialog!=null)
        dialog.dismiss();
        if(result){
            toast.setText("No User Found, please try again!");
            toast.show();
        }else{
        Intent myIntent = new Intent(ctx, main.class);
        myIntent.putExtra("user", user);
        startActivity(myIntent);
        }
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T06:15:11.940

用于`Aysntask` 制作`HttpPost`按钮 click.for 启动新 Activity 这取决于用户成功授权时您的服务返回的内容。like

```
public void onClick(View arg0) {
            try{

                List<NameValuePair> pairs = new ArrayList<NameValuePair>();   
                pairs.add(new BasicNameValuePair("username",uname.getText().toString()));   
                pairs.add(new BasicNameValuePair("password",pass.getText().toString()));   
                post.setEntity(new UrlEncodedFormEntity(pairs));   
                HttpResponse response = client.execute(post);

                BufferedReader rd = new BufferedReader(new InputStreamReader(
                        response.getEntity().getContent()));
                String line = null;
                String strinfo="";  
                while ((line = rd.readLine()) != null) {

                    tv.append(line);
                    strinfo+=line;

                }
              //check here authorized user or not
               strinfo = strinfo.toLowerCase();
               String strlogin="login=true";
                if((strinfo.contains(strlogin)==true)
                {
                 Intent intent=new Intent(CurrentActivity.this,DEMO_RETRV.this);
                 startActivity(intent);
                //startActivity(new Intent("com.campuspro.start.DEMO_RETRV"));
                }
                else
                {

                }

              }

            catch(Exception e)
            {
                e.printStackTrace();   

            }

            } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-07-06T17:26:52.563

```
 package com.campuspro.start;

 import java.util.ArrayList;
 import java.util.List;

  import org.apache.http.HttpEntity;
  import org.apache.http.HttpResponse;
  import org.apache.http.NameValuePair;
  import org.apache.http.client.HttpClient;
  import org.apache.http.client.entity.UrlEncodedFormEntity;
  import org.apache.http.client.methods.HttpPost;
  import org.apache.http.impl.client.DefaultHttpClient;
  import org.apache.http.message.BasicNameValuePair;
  import org.apache.http.util.EntityUtils;
  import org.json.JSONException;
  import org.json.JSONObject;

  import android.app.Activity;
  import android.app.ProgressDialog;
  import android.content.Intent;
  import android.os.AsyncTask;
  import android.os.Bundle;
  import android.util.Log;
  import android.view.View; 
  import android.widget.Button;
   import android.widget.EditText;
  import android.widget.TextView;

public class Login_Menu extends Activity {

EditText usname;
EditText pass;
TextView tv;
HttpClient client;
HttpPost post;
@Override
protected void onCreate(Bundle savedInstanceState) {
// TODO Auto-generated method stub
super.onCreate(savedInstanceState);
setContentView(R.layout.login_lay);
 tv=(TextView) findViewById(R.id.login_stat_tv);
 usname=(EditText)findViewById(R.id.uname);
 pass=(EditText)findViewById(R.id.pass);
Button login=(Button)findViewById(R.id.login_but);
Button cancel=(Button)findViewById(R.id.cancel_but);

client = new DefaultHttpClient();
String url="http://10.0.2.2:7001/proj/login.jsp";
post = new HttpPost(url);
login.setOnClickListener(new View.OnClickListener() {

    public void onClick(View arg0) {
        // TODO Auto-generated method stub
        new login().execute("");
    }
});

cancel.setOnClickListener(new View.OnClickListener() {

    public void onClick(View v) {
        // TODO Auto-generated method stub
        usname.getText().clear();
        pass.getText().clear();
    }
});

}

@Override
protected void onDestroy() {
// TODO Auto-generated method stub
super.onDestroy();
}

 @Override
 protected void onPause() {
// TODO Auto-generated method stub
super.onPause();
finish();
}

private class login extends AsyncTask<String, Void, JSONObject>{
ProgressDialog dialog = ProgressDialog.show(Login_Menu.this, "", "Authenticating,   Please wait...");

@Override
protected JSONObject doInBackground(String... params) {
    // TODO Auto-generated method stub
    Log.i("thread", "Doing Something...");
   //authentication operation
try{

    List<NameValuePair> pairs = new ArrayList<NameValuePair>();   
    pairs.add(new BasicNameValuePair("username",usname.getText().toString()));   
    pairs.add(new BasicNameValuePair("password",pass.getText().toString()));   
    post.setEntity(new UrlEncodedFormEntity(pairs));   
    HttpResponse response = client.execute(post);
    int status=response.getStatusLine().getStatusCode();

    if(status == 200)
    {
        HttpEntity e=response.getEntity();
        String data=EntityUtils.toString(e);
        JSONObject last=new JSONObject(data);
        return last;

    }

}

catch(Exception e)
{
    e.printStackTrace();   

}

    return null;
}

protected void onPreExecute(){
    //dialog.dismiss();
    Log.i("thread", "Started...");
    dialog.show();
}
protected void onPostExecute(JSONObject result){
    Log.i("thread", "Done...");
    String status;
    String name;
    try {
        status= result.getString("status");
        name=result.getString("uname");

       if(dialog!=null)
       {
         dialog.dismiss();
       }
       if(status.equalsIgnoreCase("yes"))
          {
        tv.setText("Login Successful...");

        Bundle newbundle=new Bundle();
        newbundle.putString("uname",name);

        Intent myIntent=new Intent(Login_Menu.this,Instruction.class);
        myIntent.putExtras(newbundle);

        startActivity(myIntent);

    }else{

    tv.setText("No User Found, please try again!");
    }
    } catch (JSONException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
}

}} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-06T11:39:52.183

make http connection in a thread.

and send the response in a UI-Handler

like

```
//UI-Handler

final Handler handler = new Handler() 
     { 
          public void handleMessage(Message msg) 

          { 
                  switch(msg.what){

                   case 100:

                      String response = (String)msg.obj;
                       tv.setText(response);

                  }

               }

          }

//make Http Connection inside  button's onclick and send http response to handleMessage(Message msg) method to update UI

login.setOnClickListener(new View.OnClickListener() {

        public void onClick(View arg0) {

Thread t = new Thread()
 {

public void run()
   {
   try{
        final HttpClient client = new DefaultHttpClient();
        String url="http://10.0.2.2:7001/f/json.jsp";
        final HttpPost post = new HttpPost(url);

            List<NameValuePair> pairs = new ArrayList<NameValuePair>();   
            pairs.add(new BasicNameValuePair("username",uname.getText().toString()));   
            pairs.add(new BasicNameValuePair("password",pass.getText().toString()));   
            post.setEntity(new UrlEncodedFormEntity(pairs));   
            HttpResponse response = client.execute(post);
            StringBuffer sb = new StringBuffer()

            while ((line = rd.readLine()) != null) {

            sb.append(line);

            }
             //send the response in a UI-Handler
              Message message = new Message();
                  message.obj=sb.toString();
                  message.what=100;

            handler.sendMessage( message );

    }catch(Exception e){}

  }

 }

  t.start();

} 
```

# django - django.utils.timezone 返回天真的日期？

> ID：10039693
> 
> 赞同：7
> 
> 时间：2012-04-06T05:55:12.557
> 
> 标签：django, timezone

使用 django 1.4 我有一个带有日期时间字段的模型。我导入了 django.utils.timezone 以用作默认值。

```
from django.utils import timezone
date = models.DateTimeField(default=timezone.now) 
```

但是我仍然收到有关 DateTimeField 收到天真的日期的警告。我已将 USE_TZ 设置为 true，因此它应该返回有意识的日期时间

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-07T00:43:25.250

djangos 输入一个默认的日期值，它不知道 tz，因为默认情况下该字段不可为空。将 null 设置为 true 意味着它只会将日期设置为 NULL ，因此不会引发警告：

```
 date = models.DateTimeField(default=timezone.now, null=True) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-12-31T14:48:52.980

就我而言，我在运行测试时不断收到问题。这是因为过去的迁移错误地使用了日期时间而不是时区。我恢复到导致警告之前的迁移，删除它，再次运行 makemigrations。这为我解决了这个问题。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-04-06T05:57:50.870

> `now()`
> 
> `USE_TZ`返回一个有意识的`True`或幼稚的日期时间，分别表示当前时间点`False`。

[https://docs.djangoproject.com/en/dev/ref/utils/#django.utils.timezone.now](https://docs.djangoproject.com/en/dev/ref/utils/#django.utils.timezone.now)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-04-06T16:55:55.450

我知道这是在回避问题，但您是否尝试过`auto_now_add=True`您的领域？无需`default`用于您想要的。

另一方面，如果您确实**有**`USE_TZ=True`.

我会说它确实有效，并且您`RunTimeWarning`从直接设置字段的地方`date`而不是从默认值中获取。尝试缩小何时更准确地触发警告。

# asp.net-mvc - Umbraco 5 通过添加新的 MVC 区域来实现 Ajax

> ID：10039694
> 
> 赞同：3
> 
> 时间：2012-04-06T05:55:19.523
> 
> 标签：asp.net-mvc, asp.net-ajax, umbraco

我正在尝试在 Umbraco 5（jupiter）上实现 AJax，我尝试创建 Surface 控制器，它在正常回发时效果很好，但它不提供使用 Mvc Ajax 控件的设施，即 Ajax.BeginForm 等......，我现在已经在应用程序中添加了一个新的 MVC 区域，我可以通过 Ajax 表单轻松地将 Post Back 发送到控制器的操作，但是我应该从这个操作返回什么，因为 CurrentUmbracoPage 不可访问（因为它不是表面控制器） ，我的代码相当简单，

```
@using (Ajax.BeginForm("HandleFollowsUs", "propertyDetails", new AjaxOptions { InsertionMode = InsertionMode.Replace, HttpMethod = "POST", LoadingElementId = "ajax-loader", UpdateTargetId = "fuError" }))
{
 <input type="image" style="border-width: 0px;" src="/images/btnSubmitN.jpg"  id="btn_submitEmail" /></span>

}
AND my ACTION is 
 [HttpPost]
    public ActionResult HandleFollowsUs(FormCollection collection) {
//Do Something
Return View();//////This is where i am confused.
} 
```

如果我返回视图，它不在新区域，部分视图只会返回页面的一小部分，：/ 任何帮助将不胜感激，谢谢，Sher

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-05-30T07:31:14.297

改用 Jquery Ajax 并返回一个字符串，它不会影响 Umbraco 5 的正常路由。示例代码如下

```
function loadList(){
$.ajax({
    type: "POST",
    url: "/en/propertydetails/searchListView",
    data: "loc=" + loc + "&startDate=" + startDate + "&endDate=" + endDate + "&bedrooms=" + bedrooms + "&adults=" + adults + "&children=" + children + "&offerCode=" + offerCode,
    error: function (xhr, status, error) {
        //alert('error');
    },
    success: function (response) {
        //do something with response
        populateSearchList(response);
    }
}); 
```

}

我的行动是

```
[HttpPost]
    public string searchListView(string loc, string endDate, string startDate, string bedrooms, string adults, string children, string offerCode)
    {
//Do Something
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-07T07:18:49.593

当然，您可以将当前 URL 作为隐藏的表单文件发送，以便 HandleFollowUs 可以进行重定向。

但是，如果我理解正确，您只想进行一些客户端验证？考虑使用 MVC 框架中已经存在的不显眼的验证框架。查看这篇文章了解更多信息：[ASP.NET MVC 3 - Ajax.BeginForm vs jQuery Form Plugin](https://stackoverflow.com/questions/4911834/asp-net-mvc-3-ajax-beginform-vs-jquery-form-plugin)

# objective-c - Apple 的示例 MVCNetworking 中的 Singleton 类 NetworkManager 是否正确？

> ID：10039700
> 
> 赞同：5
> 
> 时间：2012-04-06T05:56:06.223
> 
> 标签：objective-c, ios

这是示例代码的链接[http://developer.apple.com/library/ios/#samplecode/MVCNetworking/Introduction/Intro.html](http://developer.apple.com/library/ios/#samplecode/MVCNetworking/Introduction/Intro.html)

下面是文件*NetworkManager.m中的代码片段*

```
+ (NetworkManager *)sharedManager
// See comment in header.
{
    static NetworkManager * sNetworkManager;

    // This can be called on any thread, so we synchronise.  We only do this in 
    // the sNetworkManager case because, once sNetworkManager goes non-nil, it can 
    // never go nil again.

    if (sNetworkManager == nil) {
        @synchronized (self) {
            sNetworkManager = [[NetworkManager alloc] init];
            assert(sNetworkManager != nil);
        }
    }
    return sNetworkManager;
} 
```

显然这里存在线程安全问题。当有多个线程时，可能会创建两个 NetworkManager 实例。所以苹果犯了一个错误，对吧？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-07T06:10:13.510

是的你是对的。在并发环境中会出现问题。更好的方法是在之前使用双重检查`alloc`：

```
+ (NetworkManager *)sharedManager
{
    static NetworkManager * sNetworkManager;
    if (sNetworkManager == nil) {
        @synchronized (self) {
            if (sNetworkManager == nil) {
                sNetworkManager = [[NetworkManager alloc] init];
                assert(sNetworkManager != nil);
            }
        }
    }
    return sNetworkManager;
} 
```

并且有很多方法可以使用 Ojbective-C 编写单例，请查看这篇文章：[我的 Objective-C 单例应该是什么样子？](https://stackoverflow.com/questions/145154/what-does-your-objective-c-singleton-look-like)

**更新**

`BobCromwell`是正确的。`double check lock`苹果不推荐，苹果的文档`Threading Programming Guide`：

> 双重检查锁试图通过在获取锁之前测试锁定条件来减少获取锁的开销。因为双重检查锁可能是不安全的，所以系统不为它们提供明确的支持，并且不鼓励使用它们。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T06:27:33.440

是的，这是错误的。`sNetworkManager`从as开始`nil`，考虑两个线程 T1 和 T2。

如果不太可能，一种可能的情况是：

```
T1: Determines (sNetworkManager == nil) is true
T2: Determines (sNetworkManager == nil) is true
T1: Takes the @synchronized lock
    Creates a NetworkManager 
    Sets sNetworkManager
    Releases the lock
T2: Takes the @synchronized lock
    Creates a NetworkManager 
    Sets sNetworkManager, LEAKING the first one
    Releases the lock 
```

[这个问题](https://stackoverflow.com/questions/7598820/correct-singleton-pattern-objective-c-ios)有一些更安全的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T06:13:33.123

这段代码没有错误。只创建了一个 sNetworkManager，原因很简单，即使用了“静态”一词。此处使用 static 关键字将变量定义为全局变量，但仅对该函数可见。该变量在 + (NetworkManager *)sharedManager 的第一次调用中分配，然后它不再为 null 并且不再初始化。

# string - 如何将字符串转换为在 Go 中使用给定字符集编译的字节数组？

> ID：10039701
> 
> 赞同：3
> 
> 时间：2012-04-06T05:56:06.340
> 
> 标签：string, character-encoding, go, byte-shifting

在java中，我们可以使用String的方法：byte[] getBytes(Charset charset)。此方法使用给定的字符集将字符串编码为字节序列，并将结果存储到新的字节数组中。

但是如何在 GO 中做到这一点？Go中是否有类似的方法可以做到这一点？

请让我知道。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-06T07:46:10.693

标准 Go 库仅支持 Unicode（UTF-8、UTF-16、UTF-32）和 ASCII 编码。ASCII 是 UTF-8 的子集。

[go-charset](http://code.google.com/p/go-charset/)包（从[这里](http://godashboard.appspot.com/)找到）支持与 UTF-8的转换，它还链接到 GNU iconv 库。

另请参阅[encoding/xml.Decoder](http://golang.org/pkg/encoding/xml/#Decoder)`CharsetReader`中的字段。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T07:47:59.157

我相信这是一个答案：[https ://stackoverflow.com/a/6933412/1315563](https://stackoverflow.com/a/6933412/1315563)

> 如果不自己编写转换或使用第三方包，就没有办法做到这一点。你可以尝试使用这个： [http ://code.google.com/p/go-charset](http://code.google.com/p/go-charset)

# sqlite - SQLite.NET 安装程序项目

> ID：10039702
> 
> 赞同：1
> 
> 时间：2012-04-06T05:56:08.110
> 
> 标签：sqlite

我在 Visual Studio 2010 中制作安装项目时遇到了一些问题。我正在使用 Addin-express 制作与 Microsoft Excel 关联的程序，并在其中使用 SQLite 作为简单数据库。我已经阅读了有关 stackoverflow 的其他答案，但他们的解决方案并没有帮助我。

我正在使用可以在[http://sqlite.phxsoftware.com](http://sqlite.phxsoftware.com)找到的 SQLite.net 。我无法连接到那个网站，所以到 dll 的直接链接是[http://sourceforge.net/projects/sqlite-dotnet2/](http://sourceforge.net/projects/sqlite-dotnet2/)

这个插件使用的是 32 位版本的 Microsoft Office Excel，虽然我运行的是 64 位 windows 7，所以我在 Visual Studio 2010 项目中包含了 32 位版本的 dll。我在 Visual Studio 调试中运行 32 位 dll 没有问题，因此我在我的 Visual Studio 安装项目中包含了相同的 dll。但是，当我在我的虚拟机（也是 Windows 7 64 位）上运行此安装程序时，我收到以下错误和堆栈跟踪：

```
Detailed technical information follows: 
---
(Inner Exception)
(Inner Exception)
Date and Time:         4/5/2012 7:24:52 PM
Machine Name:          TOM-PC
IP Address:            --------------------
Current User:          Tom-PC\Tom

Application Domain:    C:\Program Files (x86)\Fintools\Fintools XL\
Assembly Codebase:     file:///C:/Program Files (x86)/Fintools/Fintools XL/AddinExpress.MSO.2005.DLL
Assembly Full Name:    AddinExpress.MSO.2005, Version=6.5.3057.2005, Culture=neutral, PublicKeyToken=4416dd98f0861965
Assembly Version:      6.5.3057.2005

Exception Source:      
Exception Type:        System.Runtime.InteropServices.COMException
Exception Message:     Failed to load the runtime. (Exception from HRESULT: 0x80131700)
Exception Target Site: Object reference not set to an instance of an object.

---- Stack Trace ----

(Outer Exception)
Date and Time:         4/5/2012 7:24:52 PM
Machine Name:          TOM-PC
IP Address:            -------------------
Current User:          Tom-PC\Tom

Application Domain:    C:\Program Files (x86)\Fintools\Fintools XL\
Assembly Codebase:     file:///C:/Program Files (x86)/Fintools/Fintools XL/AddinExpress.MSO.2005.DLL
Assembly Full Name:    AddinExpress.MSO.2005, Version=6.5.3057.2005, Culture=neutral, PublicKeyToken=4416dd98f0861965
Assembly Version:      6.5.3057.2005

Exception Source:      COMWizards
Exception Type:        System.IO.FileLoadException
Exception Message:     Could not load file or assembly 'System.Data.SQLite, Version=1.0.66.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139' or one of its dependencies. Failed to load the runtime. (Exception from HRESULT: 0x80131700)
Exception Target Site: GetDataTable

---- Stack Trace ----
   COMWizards.SQLiteDatabase.GetDataTable(sql As String)
       AddinExpress.MSO.2005.DLL: N 00000 (0x0) JIT 
   COMWizards.frmImpliedForwardRate.GetMostRecentDate(strDataTableName As String)
       AddinExpress.MSO.2005.DLL: N 0020 (0x14) IL 
   COMWizards.frmImpliedForwardRate..ctor(appExcel As _Application, Path As String)
       AddinExpress.MSO.2005.DLL: N 0110 (0x6E) IL 
   COMUI.AddinModule.adxIFRWiz_OnClick(sender As Object, control As IRibbonControl, pressed As Boolean)
       AddinExpress.MSO.2005.DLL: N 0007 (0x7) IL 
   AddinExpress.MSO.ADXRibbonButton.DoInternalAction(e As ADXRibbonOnActionEventArgs)
       AddinExpress.MSO.2005.DLL: N 0035 (0x23) IL 

(Outer Exception)
Date and Time:         4/5/2012 7:24:52 PM
Machine Name:          TOM-PC
IP Address:            ----------------------
Current User:          Tom-PC\Tom

Application Domain:    C:\Program Files (x86)\Fintools\Fintools XL\
Assembly Codebase:     file:///C:/Program Files (x86)/Fintools/Fintools XL/AddinExpress.MSO.2005.DLL 
Assembly Full Name:    AddinExpress.MSO.2005, Version=6.5.3057.2005,     Culture=neutral,   PublicKeyToken=4416dd98f0861965
Assembly Version:      6.5.3057.2005

Exception Source:      
Exception Type:        AddinExpress.MSO.ADXExternalException
Exception Message:     An error has occured in the code of the add-in.
Exception Target Site: Object reference not set to an instance of an object.

---- Stack Trace ---- 
```

我已经尝试使用“Any CPU”和“x86”平台构建这个项目，但都没有成功。我曾尝试使用 64 位版本的 DLL，但它给了我 badimageformat 异常，这让我相信 32 位版本是正确的版本。我已将 system.data.sqlite.dll 放置在我的插件的根文件夹和 excel 的根文件夹中，但都没有解决我的问题。尽管我是一个没有经验的 .NET 程序员，但我完全没有想法，所以我在这里寻找有关如何解决此问题的建议。

谢谢您的意见。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T07:41:14.560

请使用这个支持最新版本的 sqlite 和 .Net 的更新的 system.data.sqlite.dll：

[http://system.data.sqlite.org/index.html/doc/trunk/www/downloads.wiki](http://system.data.sqlite.org/index.html/doc/trunk/www/downloads.wiki)

# javascript - 在相对父级内定位绝对 div - webkit 浏览器

> ID：10039703
> 
> 赞同：0
> 
> 时间：2012-04-06T05:56:45.850
> 
> 标签：javascript, jquery, css, css-position

我的 HTML 基本上是这样的：

```
<div id="#container">
  <div id="left_col">
    left stuff
  </div>
  <div id="middle_col">
    middle stuff
  </div>
  <div id="right_col">
     <div id="anchor"></div>
     <div id="floater>
       The problem div
     </div>
  </div>
</div> 
```

容器 div 向左推 82px，因为我不希望最右边的列用作居中的一部分（上面有一个标题导航栏，它是 left_col 和 middle_col 的大小）：

```
#container {
    width: 1124px;
    margin-left: auto;
    margin-right: auto;
    text-align: left;
    color: #656f79;
    position: relative;
    left: 82px;
}

#left_col {
    float:left;
    width: 410px;
    background-color: #fff;
    padding-bottom: 10px;
}

#middle_col {
    width: 545px;
    float: left;
}

#right_col {
    float: left;
    width: 154px;
    margin-left: 5px;
    position:relative;
}

#floater {
    width: 154px;
} 
```

当您向下滚动页面时，我正在使用以下 javascript 来保持#floater div 的位置：

```
var a = function() {
    var b = $(window).scrollTop();
    var d = $("#anchor").offset().top;
    var c = $("#floater");
    if (b > d) {
        c.css({position:"fixed",top:"10px"});
    } else {
        c.css({position:"absolute",top:""});
    }
};
$(window).scroll(a);
a(); 
```

我遇到的问题是，在基于 WebKit 的浏览器中，一旦 jQuery 使浮动 div 的位置固定，因此它将与顶部保持 10px 的距离，#container 中的“left: 82px”会跳出窗口，导致 #floater 跳转 82px向左转。这不会发生在 FF 或 IE 中。有谁知道解决这个问题？

**更新：已解决**

我通过不使用固定定位，而是使用绝对定位解决了这个问题。如果 div#anchor 的顶部偏移量大于 $(window).scrollTop()，我更改了 javascript 以将 div#floater 的顶部 CSS 属性设置为基于值 $(window).scrollTop()。很简单。

所以 a() 函数现在看起来像这样：

```
var a = function() {
    var b = $(window).scrollTop();
    var d = $("#anchor").offset().top;
    var c = $("#floater");
    if (b > d) {
        var t = b-200; //200px is the height of the header, I subtract to make it float near the top
        c.css({top:t+"px"});
    } else {
        c.css({top:""});
    }
}; 
```

# php - Instagraph PHP照片编辑exec（）函数不执行函数，但在命令行上工作？

> ID：10039706
> 
> 赞同：0
> 
> 时间：2012-04-06T05:57:27.493
> 
> 标签：php, image, imagemagick, exec, instagram

我正在尝试通过 PHP 和 ImageMagick (http://net.tutsplus.com/tutorials/php/create-instagram-filters-with-php/) 添加在 Instagram 中找到的 gotham 功能给定的脚本不起作用，但是命令可以。当我生成命令并将它们复制并粘贴到命令行时，它们工作正常。然而，当我尝试使用 exec() 执行它们时，它们不起作用。我查看了给出的输出，它说找不到命令。我在 php.ini 中关闭了安全模式，并且 exec() 不是禁用的功能。我尝试添加 & 和 '2>&1' 但无济于事。为什么 exec() 不理解命令？这是脚本

```
function gotham($image) {
    exec("convert " . $image . " -modulate 120,10,100 -fill '#222b6d' -colorize 20 -gamma 0.5 -contrast -contrast " . $image . " 2>&1", $output1);
    exec("convert " . $image . " -bordercolor black -border 20x20 " . $image . " 2>&1", $output2);
} 
```

以下是来自 $output 变量的 var_dump 的内容：

```
array(1) { [0]=> string(30) "sh: convert: command not found" } array(1) { [0]=> string(30) "sh: convert: command not found" } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T07:25:27.733

首先确定 imagemagick 安装在您的系统上的位置。您可以通过运行从终端执行此操作

```
whereis convert 
```

要解决权限问题，请以运行 Web 服务器的用户身份登录。这通常是`apache`//取决于您的发行版和/或设置`nobody`。`www-data`在终端运行以下命令：

```
su - www-data 
```

以上将当前用户切换到运行 Web 服务器的用户。就我而言，这`www-data`.

现在`convert`使用完整路径运行命令（由`whereis convert`前面的和 php 脚本中的参数确定。如果没有权限问题，这应该可以正常执行。在大多数情况下，您应该看到与从 php 运行时相同的错误Web 服务器中的脚本。

通过运行检查转换程序的权限

```
ls -l `whereis convert` 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:15:19.333

看来你有路径问题。试试这些

```
 exec("/path/to/Imagick/bin/convert -version", $output2); 
```

或者

```
 exec("usr/local/bin/convert -version", $output); 
```

# html - a-悬停菜单在鼠标悬停时不断消失

> ID：10039715
> 
> 赞同：1
> 
> 时间：2012-04-06T05:59:05.603
> 
> 标签：html, css

当我将鼠标悬停在服务链接上时，右侧的悬停一直消失。我查看了css，但似乎找不到修复它的地方。这个网站是[http://www.aoaluminiumproducts.com.au](http://www.aoaluminiumproducts.com.au)我的 CSS 如下：

```
html
{ height: 100%;}

*
{ margin: 0;
  padding: 0;}

body
{ font: 0.8em/1.5 "arial",sans-serif; 
  color: #303030;
  background: #990000;
  }

p
{ padding: 0 0 20px 0;
  line-height: 1.7em;}

img
{ border: 0;}

h1, h2, h3, h4, h5, h6 
{ font: normal 175% 'century gothic', arial, sans-serif;
  color: #43423F;
  margin: 0 0 15px 0;
  padding: 15px 0 5px 0;}

h2
{ font: normal 200% 'century gothic', arial, sans-serif;
  color: #1293EE;}

h4, h5, h6
{ margin: 0;
  padding: 0 0 5px 0;
  font: normal 120% arial, sans-serif;
  color: #1293EE;}

h5, h6
{ font: italic 95% arial, sans-serif;
  padding: 0 0 15px 0;
  color: #000;}

h6
{ color: #362C20;}

a, a:hover
{ outline: none;
  text-decoration: underline;
  color: #CC0000;}

a:hover
{ text-decoration: none;}

.left
{ float: left;
  width: auto;
  margin-right: 10px;}

.right
{ float: right; 
  width: auto;
  margin-left: 10px;}

.center
{ display: block;
  text-align: center;
  margin: 20px auto;}

blockquote
{ margin: 20px 0; 
  padding: 10px 20px 0 20px;
  border: 1px solid #E5E5DB;
  background: #FFF;}

ul
{ margin: 2px 0 22px 17px;}

ul li
{ list-style-type: circle;
  margin: 0 0 6px 0; 
  padding: 0 0 4px 5px;}

ol
{ margin: 8px 0 22px 20px;}

ol li
{ margin: 0 0 11px 0;}

#main, #logo, #menubar, #site_content, #footer
{ margin-left: auto; 
  margin-right: auto;}

#header
{ background: #990000;
  height: 240px;}

#logo
{ width: 810px;
  position: relative;
  height: 120px;
  background: #150517; url(logo.png) no-repeat;}

#logo #logo_text 
{ position: center; 
  top: 20px;
  left: 0;}

#logo h1, #logo h2
{ font: normal 300% 'century gothic', arial, sans-serif;
  border-bottom: 0;
  text-transform: none;
  margin: 0;}

#logo_text h1, #logo_text h1 a, #logo_text h1 a:hover 
{ padding: 22px 0 0 0;
  color: #FFF;
  letter-spacing: 0.1em;
  text-decoration: none;}

#logo_text h1 a .logo_colour
{ color: #FAF700;}

#logo_text h2
{ font-size: 100%;
  padding: 4px 0 0 0;
  color: #DDD;}

#menubar
{ width: 877px;
  height: 72px;
  padding: 0;
  background: #150517; url(menu.png) repeat-x;
  } 

ul#menu, ul#menu li
{ float: left;
  margin: 0; 
  padding: 0;}

ul#menu li
{ list-style: none;}

ul#menu li a
{ letter-spacing: 0.1em;
  font: normal 100% 'lucida sans unicode', arial, sans-serif;
  display: block; 
  float: left; 
  height: 37px;
  padding: 29px 26px 6px 26px;
  text-align: center;
  color: #FFF;
  text-transform: uppercase;
  text-decoration: none;
  background: transparent;} 

ul#menu li a:hover, ul#menu li.selected a, ul#menu li.selected a:hover
{ color: #FFF;
  background: #451C1B url(menu_select.png) repeat-x;}

ul#menu li ul#sub_nav
{
    /*border:1px solid red;*/
    position: absolute;
    left: 0; top:35px;
    padding: 15px 0;
    width: 170px;
    margin:0;
    display:none;
    background:#150517;
}

ul#menu li:hover #sub_nav
{
    display:block;
}

#site_content
{ width: 900px;
  overflow: hidden;
  margin: 0 auto 0 auto;
  padding: 20px 24px 20px 37px;
  background: #DCDCDC;} 

.sidebar
{ float: right;
  width: 200px;
  padding: 0 15px 20px 15px;}

.sidebar ul
{ width: 178px; 
  padding: 4px 0 0 0; 
  margin: 4px 0 30px 0;}

.sidebar li
{ list-style: none; 
  padding: 0 0 7px 0; }

.sidebar li a, .sidebar li a:hover
{ padding: 0 0 0 40px;
  display: block;
  background: transparent url(link.png) no-repeat left center;} 

.sidebar li a.selected
{ color: #444;
  text-decoration: none;} 

#content
{ text-align: left; position: absoulte;
  width: 595px;
  padding: 0;}

#content ul
{ margin: 2px 0 22px 0px;}

#content ul li
{ list-style-type: none;
  background: url(bullet.png) no-repeat;
  margin: 0 0 6px 0; 
  padding: 0 0 4px 25px;
  line-height: 1.5em;}

#footer
{ width: 878px;
  font: normal 100% 'lucida sans unicode', arial, sans-serif;
  height: 33px;
  padding: 24px 0 5px 0;
  text-align: center; 
  background: #000000;
  color: #b1b1b1;
  text-transform: uppercase;
  letter-spacing: 0.1em;}

#footer a
{ color: #FFF;
  text-decoration: none;}

#footer a:hover
{ color: #FFF;
  text-decoration: underline;}

.search
{ color: #5D5D5D; 
  border: 1px solid #BBB; 
  width: 134px; 
  padding: 4px; 
  font: 100% arial, sans-serif;}

#colours
{ height: 0px;
  text-align: right;
  padding: 66px 16px 0px 300px;}

.form_settings
{ margin: 15px 0 0 0;}

.form_settings p
{ padding: 0 0 4px 0;}

.form_settings span
{ float: left; 
  width: 200px; 
  text-align: left;}

.form_settings input, .form_settings textarea
{ padding: 5px; 
  width: 299px; 
  font: 100% arial; 
  border: 1px solid #E5E5DB; 
  background: #FFF; 
  color: #47433F;}

.form_settings .submit
{ font: 100% arial; 
  border: 1px solid; 
  width: 99px; 
  margin: 0 0 0 212px; 
  height: 33px;
  padding: 2px 0 3px 0;
  cursor: pointer; 
  background: #7D0F0F; 
  color: #FFF;}

.form_settings textarea, .form_settings select
{ font: 100% arial; 
  width: 299px;}

.form_settings select
{ width: 310px;}

.form_settings .checkbox
{ margin: 4px 0; 
  padding: 0; 
  width: 14px;
  border: 0;
  background: none;}

.separator
{ width: 100%;
  height: 0;
  border-top: 1px solid #D9D5CF;
  border-bottom: 1px solid #FFF;
  margin: 0 0 20px 0;}

table
{ margin: 10px 0 30px 0;}

table tr th, table tr td
{ background: #DCDCDC;
  color: #DCDCDC;
  padding: 7px 4px;
  text-align: left;}

table tr td
{ background: #DCDCDC;
  color: #DCDCDC;
}

#testimonials{
    width: 133px;
    padding: 45px 45px 35px;
    background:url('../img/quotes.png') no-repeat 20px 20px rgba(178,178,169,0.2);
    min-height:90px;

    -moz-border-radius:12px;
    -webkit-border-radius:12px;
    border-radius:12px;
}
#testimonials ul{ list-style:none;}
#testimonials p.text{ font-size:11px;}

#testimonials p.author{
    color: #878787;
    font-size: 16px;
    font-style: italic;
    text-align: left;

}

#testimonials p.author a,
#testimonials p.author a:visited{
    color:#6aa42a;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:11:53.400

如果您打算制作一个下拉菜单，那么您的 li 标签缺少 position:relative 属性并且子菜单卡在左侧页面的顶部。你说的悬停是什么意思——我不太确定。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T07:20:17.390

嗨，主要的是你已经定义了**position:absolute**到你的 child id 而没有定义**position:relative**到你的 parent id 所以这就是为什么你悬停下拉菜单会在某个地方顶部。

所以我更新了你的css应用这个我希望这会正常工作： -

```
 ul#menu li {
    list-style: none outside none;
    position: relative;
}

ul#menu li ul#sub_nav {
    background: none repeat scroll 0 0 #150517;
    display: none;
    margin: 0;
    position: absolute;
    top: 72px;
    width: 155px;
} 
```

**您完整的更新 CSS**

```
 html
{ height: 100%;}

*
{ margin: 0;
  padding: 0;}

body
{ font: 0.8em/1.5 "arial",sans-serif; 
  color: #303030;
  background: #990000;
  }

p
{ padding: 0 0 20px 0;
  line-height: 1.7em;}

img
{ border: 0;}

h1, h2, h3, h4, h5, h6 
{ font: normal 175% 'century gothic', arial, sans-serif;
  color: #43423F;
  margin: 0 0 15px 0;
  padding: 15px 0 5px 0;}

h2
{ font: normal 200% 'century gothic', arial, sans-serif;
  color: #1293EE;}

h4, h5, h6
{ margin: 0;
  padding: 0 0 5px 0;
  font: normal 120% arial, sans-serif;
  color: #1293EE;}

h5, h6
{ font: italic 95% arial, sans-serif;
  padding: 0 0 15px 0;
  color: #000;}

h6
{ color: #362C20;}

a, a:hover
{ outline: none;
  text-decoration: underline;
  color: #CC0000;}

a:hover
{ text-decoration: none;}

.left
{ float: left;
  width: auto;
  margin-right: 10px;}

.right
{ float: right; 
  width: auto;
  margin-left: 10px;}

.center
{ display: block;
  text-align: center;
  margin: 20px auto;}

blockquote
{ margin: 20px 0; 
  padding: 10px 20px 0 20px;
  border: 1px solid #E5E5DB;
  background: #FFF;}

ul
{ margin: 2px 0 22px 17px;}

ul li
{ list-style-type: circle;
  margin: 0 0 6px 0; 
  padding: 0 0 4px 5px;}

ol
{ margin: 8px 0 22px 20px;}

ol li
{ margin: 0 0 11px 0;}

#main, #logo, #menubar, #site_content, #footer
{ margin-left: auto; 
  margin-right: auto;}

#header
{ background: #990000;
  height: 240px;}

#logo
{ width: 810px;
  position: relative;
  height: 120px;
  background: #150517; url(logo.png) no-repeat;}

#logo #logo_text 
{ position: center; 
  top: 20px;
  left: 0;}

#logo h1, #logo h2
{ font: normal 300% 'century gothic', arial, sans-serif;
  border-bottom: 0;
  text-transform: none;
  margin: 0;}

#logo_text h1, #logo_text h1 a, #logo_text h1 a:hover 
{ padding: 22px 0 0 0;
  color: #FFF;
  letter-spacing: 0.1em;
  text-decoration: none;}

#logo_text h1 a .logo_colour
{ color: #FAF700;}

#logo_text h2
{ font-size: 100%;
  padding: 4px 0 0 0;
  color: #DDD;}

#menubar
{ width: 877px;
  height: 72px;
  padding: 0;
  background: #150517; url(menu.png) repeat-x;
  } 

ul#menu, ul#menu li
{ float: left;
  margin: 0; 
  padding: 0;}

 ul#menu li {
    list-style: none outside none;
    position: relative;
}

ul#menu li a
{ letter-spacing: 0.1em;
  font: normal 100% 'lucida sans unicode', arial, sans-serif;
  display: block; 
  float: left; 
  height: 37px;
  padding: 29px 26px 6px 26px;
  text-align: center;
  color: #FFF;
  text-transform: uppercase;
  text-decoration: none;
  background: transparent;} 

ul#menu li a:hover, ul#menu li.selected a, ul#menu li.selected a:hover
{ color: #FFF;
  background: #451C1B url(menu_select.png) repeat-x;}

ul#menu li ul#sub_nav {
    background: none repeat scroll 0 0 #150517;
    display: none;
    margin: 0;
    position: absolute;
    top: 72px;
    width: 155px;
}

ul#menu li:hover #sub_nav
{
    display:block;
}

#site_content
{ width: 900px;
  overflow: hidden;
  margin: 0 auto 0 auto;
  padding: 20px 24px 20px 37px;
  background: #DCDCDC;} 

.sidebar
{ float: right;
  width: 200px;
  padding: 0 15px 20px 15px;}

.sidebar ul
{ width: 178px; 
  padding: 4px 0 0 0; 
  margin: 4px 0 30px 0;}

.sidebar li
{ list-style: none; 
  padding: 0 0 7px 0; }

.sidebar li a, .sidebar li a:hover
{ padding: 0 0 0 40px;
  display: block;
  background: transparent url(link.png) no-repeat left center;} 

.sidebar li a.selected
{ color: #444;
  text-decoration: none;} 

#content
{ text-align: left; position: absoulte;
  width: 595px;
  padding: 0;}

#content ul
{ margin: 2px 0 22px 0px;}

#content ul li
{ list-style-type: none;
  background: url(bullet.png) no-repeat;
  margin: 0 0 6px 0; 
  padding: 0 0 4px 25px;
  line-height: 1.5em;}

#footer
{ width: 878px;
  font: normal 100% 'lucida sans unicode', arial, sans-serif;
  height: 33px;
  padding: 24px 0 5px 0;
  text-align: center; 
  background: #000000;
  color: #b1b1b1;
  text-transform: uppercase;
  letter-spacing: 0.1em;}

#footer a
{ color: #FFF;
  text-decoration: none;}

#footer a:hover
{ color: #FFF;
  text-decoration: underline;}

.search
{ color: #5D5D5D; 
  border: 1px solid #BBB; 
  width: 134px; 
  padding: 4px; 
  font: 100% arial, sans-serif;}

#colours
{ height: 0px;
  text-align: right;
  padding: 66px 16px 0px 300px;}

.form_settings
{ margin: 15px 0 0 0;}

.form_settings p
{ padding: 0 0 4px 0;}

.form_settings span
{ float: left; 
  width: 200px; 
  text-align: left;}

.form_settings input, .form_settings textarea
{ padding: 5px; 
  width: 299px; 
  font: 100% arial; 
  border: 1px solid #E5E5DB; 
  background: #FFF; 
  color: #47433F;}

.form_settings .submit
{ font: 100% arial; 
  border: 1px solid; 
  width: 99px; 
  margin: 0 0 0 212px; 
  height: 33px;
  padding: 2px 0 3px 0;
  cursor: pointer; 
  background: #7D0F0F; 
  color: #FFF;}

.form_settings textarea, .form_settings select
{ font: 100% arial; 
  width: 299px;}

.form_settings select
{ width: 310px;}

.form_settings .checkbox
{ margin: 4px 0; 
  padding: 0; 
  width: 14px;
  border: 0;
  background: none;}

.separator
{ width: 100%;
  height: 0;
  border-top: 1px solid #D9D5CF;
  border-bottom: 1px solid #FFF;
  margin: 0 0 20px 0;}

table
{ margin: 10px 0 30px 0;}

table tr th, table tr td
{ background: #DCDCDC;
  color: #DCDCDC;
  padding: 7px 4px;
  text-align: left;}

table tr td
{ background: #DCDCDC;
  color: #DCDCDC;
}

#testimonials{
    width: 133px;
    padding: 45px 45px 35px;
    background:url('../img/quotes.png') no-repeat 20px 20px rgba(178,178,169,0.2);
    min-height:90px;

    -moz-border-radius:12px;
    -webkit-border-radius:12px;
    border-radius:12px;
}
#testimonials ul{ list-style:none;}
#testimonials p.text{ font-size:11px;}

#testimonials p.author{
    color: #878787;
    font-size: 16px;
    font-style: italic;
    text-align: left;

}

#testimonials p.author a,
#testimonials p.author a:visited{
    color:#6aa42a;
} 
```

# iphone - 打开设置屏幕以更新 iPhone 中的定位服务

> ID：10039721
> 
> 赞同：1
> 
> 时间：2012-04-06T05:59:59.827
> 
> 标签：iphone, objective-c, ios, settings, core-location

我想从我的应用程序打开设置应用程序以启用位置服务，如果它关闭我使用以下代码

```
 [[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"prefs:root=LOCATION_SERVICES"]]; 
```

但这在 iOS 5.0 中有效 + 它在 iOS 5.0 下无法正常工作
有没有人知道这样做很热。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T06:04:00.003

这已在 iOS 5 中禁用。您能做的最好的事情就是打开首选项并告诉用户启用定位服务

# java - 在字符串中避免 : 和 , 的正则表达式模式

> ID：10039722
> 
> 赞同：2
> 
> 时间：2012-04-06T06:00:01.300
> 
> 标签：java, regex, arraylist

我有一个来自数据库的字符串。字符串是这样的： -

```
ABC:def,ghi:jkl,hfh:fhgh,ahf:jasg 
```

简而言之`String:String`，它会重复较大的值。

我需要解析此字符串以仅获取没有任何`:`或的单词`,`并将每个单词存储在 ArrayList

我可以使用拆分函数（两次）来做到这一点，但我发现使用正则表达式我可以一次性完成并获取数组列表..

```
String strLine="category:hello,good:bye,wel:come";
        Pattern titlePattern = Pattern.compile("[a-z]");
        Matcher titleMatcher = titlePattern.matcher(strLine);
        int i=0;
        while(titleMatcher.find())
        {
            i=titleMatcher.start();
            System.out.println(strLine.charAt(i));  
        } 
```

但是它并没有给我正确的结果..它最终给了我找到的匹配索引，然后我需要附加它，这不太合乎逻辑和效率。

有什么办法吗。。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T06:03:26.757

```
String strLine="category:hello,good:bye,wel:come";
String a[] = strLine.split("[,:]");
for(String s :a)
    System.out.println(s); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T06:06:32.147

使用 java [StringTokenizer](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/StringTokenizer.html) 示例：

```
StringTokenizer st = new StringTokenizer(in, ":,"); 
while(st.hasMoreTokens()) 
  System.out.println(st.nextToken()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T06:03:24.067

即使您可以使用正则表达式一次解析整个字符串，我认为它的可读性也不如通过多个步骤拆分它。

# qt - 将歌词流与歌曲相关联

> ID：10039725
> 
> 赞同：1
> 
> 时间：2012-04-06T06:00:28.157
> 
> 标签：qt, parsing

我正在 Qt 中创建一个音乐播放器。我想要实现的功能之一是它会显示**歌曲**的歌词。所以我想知道我应该使用最适合的算法来实现它。

我知道我必须在歌词上使用时间戳。但是我应该如何实现呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T07:14:35.010

我建议您采用**[LRC](http://en.wikipedia.org/wiki/LRC_%28file_format%29)**（文件格式）。

**[lrcDB](http://www.lrcdb.org/)**是一个以 LRC 格式标记的歌词在线数据库。

如果您对多媒体播放器如何解释 LCR 文件感兴趣，**[XMMS](http://www.xmms.org/)**一个开源项目可能是一个很好的起点。

如果您对 Python 感到满意，您还可以前往 Google Project 上托管的**[On Screen Lyrics](http://code.google.com/p/onscreenlyrics/)**项目。

# android - Android：有没有等效于 XML android:digits 的方法？

> ID：10039727
> 
> 赞同：2
> 
> 时间：2012-04-06T06:00:36.103
> 
> 标签：android, android-widget

在我的布局 xml 中，我使用以下内容来定义一个可以显示货币的 EditText。

```
 <EditText
    android:id="@+id/et1"
    android:layout_width="210dp"
    android:layout_height="wrap_content"
    android:imeOptions= "actionNext" 
    android:inputType="phone" 
    android:digits="0123456789.,$" > 
```

但是，这不是本地化的。我希望能够使用返回的符号`NumberFormat.getCurrencyInstance().getCurrency().getSymbol();`代替`$`in `android:digits`。

我不知道如何`android:digits`从我的程序中进行设置。

感谢 Agarwal 解决了。我只需要更彻底地阅读文档。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T07:54:18.110

试试这个：

```
<EditText
    android:inputType="number"
    android:digits="0123456789."
/> 
```

从代码：

```
weightInput.setKeyListener(DigitsKeyListener.getInstance("0123456789.")); 
```

但是，它允许用户包含几个“.”。

您也可以这样做以接受数字...

```
EditText input = new EditText(this);
input.setInputType(InputType.TYPE_CLASS_NUMBER); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:05:19.177

是的，你可以在这里查看

[http://developer.android.com/reference/android/widget/EditText.html](http://developer.android.com/reference/android/widget/EditText.html) 几乎每个属性都存在等效方法。

```
setKeyListener(KeyListener) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-07T22:44:12.710

For those interested, here is how I solved the original question. It is the complete implementation of a currency edit text that can handle multiple locales. Still may be some problems (Doesn't seem to display Japanese currency symbol correctly, and I can't get the keyboard I want (12_KEY)), but otherwise, some may find this helpful.

```
public class CurrencytestActivity extends Activity 
{
private static final Integer    MAX_VALUE_DIGITS    = 9;
EditText        et1;
NumberFormat    mCurrencyFormatter;
CurrencyTextWatcher tw;

@Override public void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    // Get info about local currency
    mCurrencyFormatter = NumberFormat.getCurrencyInstance();
    int fractionDigits = mCurrencyFormatter.getCurrency().getDefaultFractionDigits();

    et1 = (EditText)findViewById(R.id.et1); // Get a handle to the TextEdit control

    // Add local currency symbol to digits allowed for EditText display and use 
    // DigitsKeyListener to tell the control.  Unfortunately, this also resets the inputType
    // that is specified in the XML layout file.  Don't know how to fix that yet.
    // Also, this doesn't seem to work for Japanese (probably due to UNICODE or something).
    // The symbol gets added to displayCharacters, but the EditText doesn't use it.
    String displayCharacters = "0123456789.," + mCurrencyFormatter.getCurrency().getSymbol();
    et1.setKeyListener(DigitsKeyListener.getInstance( displayCharacters ));        

    // Add a text watcher to the EditText to manage currency digit entry. The TextWatcher
    // won't allow the symbol or decimal or comma to be entered by the user, but they are
    // still displayed when the result is formatted in afterTextChanged().
    tw = new CurrencyTextWatcher( MAX_VALUE_DIGITS, fractionDigits );        
    et1.addTextChangedListener( tw );        
    et1.setCursorVisible( false );

    ((Button)findViewById(R.id.button1)).setOnClickListener(onButtonClick);
}

public class CurrencyTextWatcher implements TextWatcher 
{
    boolean mEditing;   // Used to prevent recursion
    Double  mAmount;
    int     mDigitCount, mMaxDigits, mFractionDivisor;

    public CurrencyTextWatcher( int maxDigits, int fractionDigits ) 
    {
        mEditing = false;
        mFractionDivisor = (fractionDigits == 0) ? 1 : ((fractionDigits == 1) ? 10 : 100);
        mAmount = 0.0;
        mDigitCount = 0;
        mMaxDigits = maxDigits;
    }

    public synchronized void afterTextChanged(Editable s) 
    {
        // Don't update EditText display if we are editing
        if ( !mEditing ) 
        {
            // Under cover of mEditing, update the EditText display with
            // the newly formatted value
            mEditing = true;
            s.replace( 0, s.length(), mCurrencyFormatter.format( mAmount ));
            mEditing = false;
        }
    }
    public void beforeTextChanged(CharSequence s, int start, int count, int after) { }
    public double GetAmount() { return( mAmount ); }
    public void onTextChanged(CharSequence s, int start, int before, int count)
    {
        if ( !mEditing )
        {
            // Added a digit to the value
            if (( count == 1 ) && ( mDigitCount < mMaxDigits ))
            {
                // Obtain the added character
                CharSequence x = s.subSequence( start, start + count );

                // Ignore any characters other than number digits for addition to value
                if (( x.charAt( 0 ) >= '0') && ( x.charAt( 0 ) <= '9')) 
                {
                    // Multiply by ten to shift existing digits to the left and
                    // add in the new digit as the decimal place appropriate to this currency
                    mAmount = (mAmount * 10) + (Double.parseDouble( x.toString() ) / mFractionDivisor);
                    mDigitCount += 1;
                }
            }

            // Delete last digit from the value
            else if (( count == 0 ) && ( mDigitCount > 0))
            {
                // Subtract the amount of the last digit and divide by ten to
                // effectively delete the last character entered
                mAmount -= (mAmount % (0.001 * mFractionDivisor) );
                mAmount /= 10;
                mDigitCount -= 1;
            }
        }
    }
}

private View.OnClickListener onButtonClick = new View.OnClickListener()
{
    @Override public void onClick(View v)
    {
        if (v.getId() == R.id.button1 )
        {
            // Get the value from the textwatcher and display it.
            double mAmountTest = tw.GetAmount();
            ((TextView)findViewById(R.id.tv1)).setText(mCurrencyFormatter.format( mAmountTest ));
        }
    }
};
} 
```

And the accompanying XML layout:

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:gravity="center|top"
android:orientation="vertical" >

<EditText
    android:id="@+id/et1"
    android:layout_width="210dp"
    android:layout_height="wrap_content"
    android:imeOptions= "actionNext" 
    android:inputType="phone" >
    <requestFocus />
</EditText>

<TextView
    android:id="@+id/tv1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Large Text"
    android:textAppearance="?android:attr/textAppearanceLarge" />

<Button
    android:id="@+id/button1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Extract from TextWatcher" />
</LinearLayout> 
```

# salesforce - 如何向 Salesforce 中的选项列表添加更多值？

> ID：10039729
> 
> 赞同：1
> 
> 时间：2012-04-06T06:00:53.853
> 
> 标签：salesforce

我必须在 Picklist 中显示许多值，并且在一定限度内它可以工作。但是，当我分配给它时它达到一定的限制时会引发错误。所以请帮帮我，我怎样才能设法在 Picklist 中存储更多值？

公式如下：

```
CASE( Name, 
"Virgin Australia",HYPERLINK("http://www.virginaustralia.com/Personal/Bookings/Managebookings/index.htm","Virgin Australia"),
"Virgin Atlantic",HYPERLINK("https://www.virgin-atlantic.com/en/us/manageyourflights/updatebooking/index.jsp","Virgin Atlantic"),
"Virgin America",HYPERLINK("http://www.virginamerica.com/view-itinerary.html","Virgin Australia"),
"US AIR",HYPERLINK("http://reservations.usairways.com/Default.aspx","Virgin America"),
"United Airlines",HYPERLINK("http://www.united.com/page/genericpage/0,,52172,00.html?navSource=dropDown&linkTitle=itineraries","United Airlines"),
"Turkish Air",HYPERLINK("http://www4.thy.com/mybookings/reservations.tk?target=view&lang=en","Turkish Air"),
"Turkish Air",HYPERLINK("http://www.thaiair.com/AWR_PREM/view-trip.jsp","Turkish Air"),
"Swiss Airlines",HYPERLINK("http://www.swiss.com/web/EN/Pages/index.aspx?Country=US","Swiss Airlines"),
"Southwest Airlines",HYPERLINK("https://www.southwest.com/flight/lookup-air-reservation.html?int=GSUBNAV-AIR-RETRIEVE&forceNe...","Southwest Airlines"),
"South African",HYPERLINK("https://www.flysaa.com/Journeys/reservation/searchpnr.action?nameSpace=reservation","South African"),
"Singapore Airlines",HYPERLINK("https://www.singaporeair.com/manageBooking-flow.form?execution=e1s1","Singapore Airlines"),
"QATAR AIRWAYS",HYPERLINK("http://www.qatarairways.com/us/en/homepage.page","QATAR AIRWAYS"),
"Qantas Airlines",HYPERLINK("http://www.qantas.com.au/travel/airlines/your-booking/global/en","Qantas Airlines"),
"Malaysia",HYPERLINK("https://book.malaysiaairlines.com/itd/itd/lang/en/reservations","Malaysia"),
"Lufthansa",HYPERLINK("http://www.lufthansa.com/online/portal/lh/us/my_account/my_bookings","Lufthansa"),
"KLM - Royal Dutch Airlines",HYPERLINK("http://www.klm.com/travel/us_en/index.htm#tab=db_mmb","KLM - Royal Dutch Airlines"),
"Japan Air",HYPERLINK("http://www.5971.jal.co.jp/eng/SearchReservation.do","Japan Air"),
"Etihad Airlines",HYPERLINK("http://www.etihadairways.com/sites/etihad/_layouts/etihad/obe/RetrieveBooking.aspx","Etihad Airlines"),
"Emirates",HYPERLINK("https://fly.emirates.com/MYB/MMBLogin.aspx","Emirates"),
"Delta Airlines",HYPERLINK("http://www.delta.com/","Delta Airlines"),
"Copa Airlines",HYPERLINK("http://www.copaair.com/sites/US/EN/Pages/homepage.aspx","Copa Airlines"),
"Continental Airlines",HYPERLINK("http://www.continental.com/web/en-US/apps/reservation/default.aspx","Continental Airlines"),
"") 
```

获取错误：编译的公式太大而无法执行（5,171 个字符）。最大大小为 5,000 个字符

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T16:20:05.940

你可以通过几种方式解决这个问题。

我首选的方法是使用工作流字段更新。您可以将案例陈述拆分为单独的工作流程，并使用正确的链接更新字段。这样，您就可以将公式计算拆分为几个工作流程。

例子：

```
Workflow A:
If "Virgin Atlantic" OR "Virgin Atlantic" OR...
THEN Update the field

Workflow B:
If "Swiss Airlines" OR "Southwest Airlines" OR...
THEN Update the field 
```

等等....

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-07T18:19:03.473

在这个尺寸下，您正在进入代码区。这是 Apex 和 Visualforce 的时候了，即使您可能不想处理代码管理。不知道您的目标环境是什么，很难说最佳解决方案是什么。例如，如果您正在编写一个向他人销售的应用程序，或者如果您只是配置自己公司的 Salesforce 组织以满足您的需求 - 它会改变方法。

如果您不想管理整个 Visualforce 页面来处理所有详细信息字段和相关列表，请考虑使用仅包含您需要的字段的纤薄内联 VF 页面（如上面提到的大量选项列表）。

例如：

顶尖

```
public List<SelectOption> customList
{
   get
   {
      List<SelectOption> retVal = new List<SelectOption>();

      retVal.add(new SelectOption('value1', 'Label 1'));
      retVal.add(new SelectOption('value2', 'Label 2'));
      retVal.add(new SelectOption('value3', 'Label 3'));
      // ...            

      return retVal;
   }
   private set;
} 
```

视觉力量

```
<apex:selectList size="1" value="{!controller.theSelection}">
   <apex:selectOptions value="{!customList}"/>
</apex:selectList> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-10T17:15:59.057

+1 视觉力。另一种方法可能是使用字段依赖项为用户拆分选项。但在这种情况下，它听起来并不适用于你，因为你正在触及代码墙——而不是“选项”墙。

您可以像这样设置字段依赖项。控制字段 = AZ，家属是与该字母相关联的航空公司

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-11-15T14:52:09.160

另一种解决方案可能是使用 AppExchange 应用程序，ProvenWorks 的 AddressTools 提供超过 3,000 个州选择列表值，而 Salesforce 州和国家/地区选择列表提供 336 个。除此之外，它是完全可定制的并且适用于自定义对象。

有关更多信息，请查看列表：[https ://appexchange.salesforce.com/listingDetail?listingId=a0N30000002zt9uEAA](https://appexchange.salesforce.com/listingDetail?listingId=a0N30000002zt9uEAA)

希望这可以帮助。

# vb.net - 在 Visual Studio 中设计时如何从表单中隐藏控件？

> ID：10039733
> 
> 赞同：2
> 
> 时间：2012-04-06T06:01:23.520
> 
> 标签：vb.net, winforms, visual-studio

我正在为我的应用程序设计一个设置表单，如下所示：

左侧有多个节点的树视图，我希望每个节点都有一个 GroupBox，以便在选择节点时显示在右侧。我为第一个节点设计了带有必要控件的组框。问题是，当另一个项目已经存在时，我如何在同一个地方设计另一个组合框。有没有办法在设计时隐藏表单中的控件？

![带有树视图和组框的设置表单](../Images/ca0d5bab685c7de65a3db4682fa97b55.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T07:01:29.790

我一直只是通过右键单击它并将其发送到后面来更改`GroupBox`或的 Z 顺序。`Panel`只需确保在添加另一个`GroupBoxes`时将它们添加到相同的`Parent`. 制作它们的`Visible`属性`False`，然后`GroupBox`通过使其可见来在运行时显示您想要的。

![http://i.stack.imgur.com/KezhA.png](../Images/67d84bbcc3c924026a7760ba1c290466.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T07:17:59.000

编辑：将答案更改为更相关。

编辑#2：我错过了 VB 标签，无论如何翻译这应该是一项微不足道的任务。

如果您`GroupBox`像这样扩展，您将拥有一个在设计时将自己隐藏起来的库存 GroupBox。

```
public class myGroupBox : GroupBox
{
    public myGroupBox() { InitializeComponent(); }

    protected override void OnPaint(PaintEventArgs e)
    {
        base.OnPaint(e);
        if (DesignMode) this.Visible = false;
    }
} 
```

注意：这应该适用于几乎所有非密封控件。

# greasemonkey - 尝试使用 Greasemonkey 修改 Google 的搜索文本框

> ID：10039737
> 
> 赞同：0
> 
> 时间：2012-04-06T06:01:44.497
> 
> 标签：greasemonkey, customizing

我昨天碰巧发现在谷歌中输入搜索文本时，我的搜索历史突然停止显示。我使用[https://www.google.com/webhp?complete=0](https://www.google.com/webhp?complete=0)网址来防止出现自动建议。这曾经很好用，但现在谷歌已经做了一些事情来阻止它工作。

我使用 Firefox 并安装了 Greasemonkey。我对学习在 Greasemonkey 中编写脚本很感兴趣，这似乎是开始学习的好时机。有没有人有任何将 Google 上的搜索输入表单更改为不同样式以便查看搜索历史的示例？我四处搜索并找到了文本框修改的示例，但它们不适用于 Google 使用的特定输入框样式。

TIA，
布赖恩

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-08T12:11:17.047

```
// ==UserScript==
// @name            re enable autocomplete
// @namespace       http://gcomplete.user.js
// @description     
// @include         htt*://*.google.com/webhp?complete=0
// ==/UserScript==
////////////////////////////////////////////////

    function doIt(){
        document.getElementById("lst-ib").autocomplete = "on";
        window.setTimeout(doIt, 5000);  // wait 5 sec and reapply changes, looped.
    }
    window.setTimeout(doIt, 500);       // wait half a second and apply changes. 
```

这可能不是您需要的确切代码，但应该非常接近。
我选择循环是因为我很懒，而且文本框似乎至少被破坏并重新创建了一次。
“lst-ib”是您想要的文本框的 id，它具有属性“自动完成”，谷歌有助于将其设置为“关闭”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-08-24T16:44:56.673

我试过[RozzA 提供的代码，](https://stackoverflow.com/questions/10039737/trying-to-modify-googles-search-textbox-with-greasemonkey/10062690#10062690)只要你点出文本区域，然后再点回文本区域，它就可以工作。我对其进行了以下修改，他们似乎已经解决了这个问题：

```
function doIt() {
    document.getElementById("lst-ib").autocomplete = "on";
    document.getElementById("lst-ib").blur(); // disable focus
    document.getElementById("lst-ib").focus(); // re-enable focus

    // looping does not seem to be necessary.
    // window.setTimeout(doIt, 5000);
}

window.setTimeout(doIt, 500);       // wait half a second and apply changes. 
```

# jquery - jquery ajax调用：多个链接将数据加载到一个div中

> ID：10039738
> 
> 赞同：0
> 
> 时间：2012-04-06T06:01:48.067
> 
> 标签：jquery

我有一个动态生成的链接列表。每个链接将请求加载不同的页面。根据单击的链接，我希望它用 ajax .load 调用填充 div。问题是我希望所有链接都重置并填充相同的 div。如果没有为每个链接制作单独的 div，我在执行此操作时遇到了麻烦，这不是我想要的。

这是我到目前为止所拥有的，但仅适用于一个链接。

```
<a data-toggle="modal" href="#myModal">Link</a>

<div class="modal hide fade" id="myModal"></div>

<script type="text/javascript">
    $(document).ready(function() {
        $('#myModal').load('mypage.php');
    });
</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T06:27:31.540

我不确定我是否理解你的问题，但我认为你想要这样的东西：

HTML

```
<a class="link" data-toggle="modal" href="link1.php" >Link 1</a>
<a class="link" data-toggle="modal" href="link2.php" >Link 2</a>
<a class="link" data-toggle="modal" href="link3.php" >Link 3</a>

<div class="modal hide fade" id="myModal"></div> 
```

jQuery

```
 $("a.link").click(function(){
        $("#myModal").html($(this).attr("href")); /*$("#myModal").load($(this).attr("href"));*/
        return false;
    });​ 
```

[http://jsfiddle.net/3RCAg/](http://jsfiddle.net/3RCAg/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:16:28.243

您可以尝试以下方法：

```
<script type="text/javascript">
    $(document).ready(function() {
        $('#myModal').empty();  // clears the div
        $('#myModal').load('mypage.php'); // load again
    });
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T06:14:24.927

这样的事情怎么样。创建一个名为 my_links.html 的单独 html 文件，像这样在其中创建许多链接。

```
<a href = "first_link.php">First link</a>
<a href = "second_link.php">Second link</a>
<a href = "third_link.php">Third link</a>
<a href = "forth_link.php">Forth link</a> 
```

现在用 jquery 做这个

```
<script type="text/javascript">
$(document).ready(function() {
    $('#myModal').load('my_links.html');
}); 
```

# windows-phone-7 - WP7 中数据合约序列化的限制

> ID：10039739
> 
> 赞同：0
> 
> 时间：2012-04-06T06:02:03.573
> 
> 标签：windows-phone-7, windows-phone-7.1

我正在将 iPhone 应用程序移植到 Windows Phone 中。根据客户要求，我无法在项目中使用数据库。在 iPhone 中，他们正在序列化那里的对象并保存在内存中。我怀疑它在应用程序中保存了收藏夹、好友列表、签入详细信息、位置数据、设置等。我将所有这些序列化为不同的 xml 文件。所以我的问题是这个 xml 文件是否存在任何限制。是否会在未来引入任何性能问题等。

# java - 在迭代器上显示 Map 的内容

> ID：10039742
> 
> 赞同：4
> 
> 时间：2012-04-06T06:02:21.517
> 
> 标签：java, map, iterator

我正在尝试显示`map`我使用迭代器创建的。我正在使用的代码是：

```
private void displayMap(Map<String, MyGroup> dg) {
Iterator it = dg.entrySet().iterator();   //line 1
while (it.hasNext()) {
    Map.Entry pair = (Map.Entry)it.next();
    System.out.println(pair.getKey() + " = " + pair.getValue());
    it.remove();
   }
} 
```

MyGroup 类，它有两个字段，名为`id`和`name`。我想针对`pair.getValue()`. 这里的问题是第 1 行永远不会被执行，也不会引发任何异常。

请帮忙。

PS：我已经尝试了[此链接](http://javahowto.blogspot.in/2006/06/4-ways-to-traverse-map.html)上的所有方法。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-04-06T06:16:23.147

```
Map<String, MyGroup> map = new HashMap<String, MyGroup>();  
for (Map.Entry<String, MyGroup> entry : map.entrySet()) {
     System.out.println("Key = " + entry.getKey() + ", Value = " + entry.getValue());
} 
```

使用迭代器

```
Map<String, MyGroup> map = new HashMap<String, MyGroup>();
Iterator<Map.Entry<String, MyGroup>> entries = map.entrySet().iterator();
while (entries.hasNext()) {
    Map.Entry<String, MyGroup> entry = entries.next();
    System.out.println("Key = " + entry.getKey() + ", Value = " + entry.getValue());
} 
```

有关更多迭代信息，请参阅[此链接](http://www.sergiy.ca/how-to-iterate-over-a-map-in-java/)

# java - 来自java代码的类图

> ID：10039743
> 
> 赞同：1
> 
> 时间：2012-04-06T06:02:45.883
> 
> 标签：java, jdeveloper

我正在尝试使用现有的 Java 代码创建类图，当我将类文件拖放到 Jdev 中的类图窗口时，它只显示空类（没有属性/方法）也没有显示类的关系！！，， ，请指教有什么问题？我做了以下步骤 - 使用类图选项创建建模 java 项目，然后将项目 src 文件添加到建模项目

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T20:08:25.630

如果您在源代码所在的同一个项目中创建类图，它是否有效？如果您进入 UML 项目属性并在内容下添加 Java 源代码所在的目录，它是否有效？

# linux - skbuff frags 和 frag_list 的区别

> ID：10039744
> 
> 赞同：5
> 
> 时间：2012-04-06T06:02:46.333
> 
> 标签：linux, linux-kernel, linux-device-driver, fragmentation

*sk_buff*有两个地方可以存储下一个分片数据：

```
skb_shinfo(head)->frag_list 
skb_shinfo(head)->frags[] 
```

这两种处理碎片的方法有什么区别？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-05-09T09:44:38.163

两者都用于不同的情况。

**碎片[]**

当您的设备支持 scatter-gather I/O，并且您希望它进行数据组合等操作时，您可以`frags[]`从第二个片段开始填充结构，直到第 n 个片段。第一个片段总是由`data`and`tail`指针指定。其余的碎片填充在`frags[]`结构中。如果您不使用分散聚集，则此变量为空。

**碎片列表**

这是IP片段的列表。这将在 期间填充`ip_push_pending_frames`。

说你`sk_buffs`在这个安排中，

```
sk_buff0->next = sk_buff1
sk_buff1->next = sk_buff2
...
sk_buffn-1->next = sk_buffn 
```

之后`ip_push_pending_frames`被调用

```
sk_buff0->frag_list = sk_buff1
sk_buff1->next = sk_buff2
...
sk_buffn-1->next = sk_buffn 
```

简单的说

*   `frags[]`用于分散-收集 I/O 缓冲区
*   `frag_list`用于 IP 片段

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-05-30T14:47:22.870

**skb_shinfo(head)->frags[]**

如果[网卡](https://en.wikipedia.org/wiki/Network_interface_controller)支持SG I/O，[__ip_append_data](http://lxr.free-electrons.com/source/net/ipv4/ip_output.c#L833)会将用户空间数据复制到skb_shinfo(head)->frags。NIC 驱动程序（例如 ixgbe_add_rx_frag）也可以使用这些 frags[] 来承载接收到的网络流量；请注意，frags[] 中的每个内容都是完整数据包的一部分。一个完整的数据包由所有 frags[] + (skb->data ~ skb->tail) 组成。

**skb_shinfo(head)->frag_list**

该成员不被 IP 分片直接使用。在__ip_make_skb()中，frag_list用于收集来自sk->sk_write_queue的所有[skb](http://vger.kernel.org/%7Edavem/skb.html)；一些 NIC 驱动程序也使用这个 frag_list 将数据包传送到上层网络堆栈。frag_list 中的每个 content/skb 也不是一个**完整**的数据包；tcp_v4_send_ack -> ip_send_unicast_reply -> ip_push_pending_frames -> ip_finish_skb -> __ip_make_skb；

# asp.net-mvc-3 - 高效的跨域 Web API，例如 Twitter Facebook Google 等

> ID：10039745
> 
> 赞同：2
> 
> 时间：2012-04-06T06:02:50.577
> 
> 标签：asp.net-mvc-3, backbone.js, cross-domain, asp.net-web-api

我最近一直在尝试构建一个跨域 web api，哇，这是一段坎坷的旅程。我对 Chrome、FF 和 Safari 等现代浏览器没有任何问题。问题在于 IE，它要求您在进行跨域调用时使用 XDR 而不是 $.ajax。第一个问题：**如果我使用的是 Backbone.js，那么进行跨浏览器和跨域 ajax 调用的推荐方式是什么？**

我在 IE 上遇到的另一个问题是，当您发出跨域 ajax 请求时，IE 有很多限制和限制，例如“请求的 Content-Type 标头仅支持文本/纯文本” -[一个链接](http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx)。因此，就我而言，我无法使用 MVC C# 框架绑定到我的模型，除非我手动绑定它。

无论如何，我的第二个也是最后一个问题是：**像 Instagram、Facebook 和 Twitter 这样的公司如何构建他们的 API？**我不是在寻找完整的指南，只是想知道它有多难。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T18:10:51.293

**JSONP**

当前标准使用[JSONP](https://en.wikipedia.org/wiki/JSONP)。发送包装在单个 JavaScript 函数中的 JSON 有效负载基本上是一种技巧，浏览器将其视为脚本文件并执行它。

**CORS**

前进的道路是[CORS](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing)。遗憾的是，浏览器支持 (IE) 尚不存在，并且实现它的现代浏览器之间仍然存在一些实现差异。

**HTTP 方法重载**

一些 API 过载`GET`并使用or`POST`请求。`X-HTTP-Method-Override: PUT``?_method=PUT`

**易XDM**

许多 API 提供者实现[了 easyXDM](http://easyxdm.net/wp/)。当他们提供 JavaScript API 或小部件 API 时，这往往会被更多地使用，开发人员可以在其中加载他们的 JS 并将其直接集成到前端代码中。

# git - 如何在提交前在 git 中查看文件差异

> ID：10039747
> 
> 赞同：527
> 
> 时间：2012-04-06T06:03:10.267
> 
> 标签：git, git-diff

这经常发生在我身上：

我在一两天内同时进行了几个相关的更改，当需要提交时，我最终忘记了特定文件中的更改。（这只是一个个人 git repo，所以我可以在一次提交中进行多个更新。）

有没有办法预览我即将签入的本地文件和该文件的最后一次提交之间的更改？

就像是：

```
git diff --changed /myfile.txt 
```

它会打印出如下内容：

```
line 23
  (last commit): var = 2+2
  (current):     var = myfunction() + 2

line 149
  (last commit): return var
  (current):     return var / 7 
```

这样，我可以快速查看自上次签入以来我在该文件中所做的事情。

* * *

## 回答 #1

> 赞同：869
> 
> 时间：2012-04-06T06:04:54.893

如果您想查看尚未`git add`编辑的内容：

```
git diff myfile.txt 
```

或者如果您想查看已添加的更改

```
git diff --cached myfile.txt 
```

* * *

## 回答 #2

> 赞同：76
> 
> 时间：2012-04-06T09:13:12.520

```
git diff HEAD file 
```

将显示您从上次提交添加到工作树的更改。将显示所有更改（已上演或未上演）。

* * *

## 回答 #3

> 赞同：23
> 
> 时间：2015-03-09T22:18:50.367

要检查本地差异：

```
git diff myfile.txt 
```

或者您可以使用差异工具（以防您想恢复某些更改）：

```
git difftool myfile.txt 
```

^(要`git difftool`更有效地使用，请安装和使用您最喜欢的 GUI 工具，例如 Meld、DiffMerge 或 OpenDiff。)

注意：您也可以使用`.`（而不是文件名）查看当前目录更改。

为了检查每行的更改，请使用：`git blame`这将显示在哪个提交中提交了哪一行。

* * *

要在提交之前查看实际文件（`master`您的分支在哪里），请运行：

```
git show master:path/my_file 
```

* * *

## 回答 #4

> 赞同：18
> 
> 时间：2012-04-06T06:07:32.760

您是否尝试过`-v`（或`--verbose`）选项`git commit`？它在消息编辑器中添加了提交的差异。

* * *

## 回答 #5

> 赞同：18
> 
> 时间：2016-12-12T17:03:15.277

如果要将文件与更迂腐的最后一次提交进行比较，请考虑另一种技术：

```
git diff master myfile.txt 
```

这种技术的优点是您还可以与倒数第二次提交进行比较：

```
git diff master^ myfile.txt 
```

和之前的一个：

```
git diff master^^ myfile.txt 
```

如果您不在 master 分支上，您也可以用 '~' 代替插入符号 '^' 字符和 'you branch name' 代替 'master'。

* * *

## 回答 #6

> 赞同：15
> 
> 时间：2012-04-06T06:59:25.337

我认为这是保证 GUI 的完美用例。- 虽然我完全理解它也可以在命令行中很好地实现。

就个人而言，我的每一次提交都是从 git-gui 进行的。如果这样做有意义的话，我可以在其中使用单独的块/行进行多个原子提交。

Gut Gui 可以在格式良好的彩色界面中查看差异，相当轻巧。看起来这也是你应该检查的东西。

* * *

## 回答 #7

> 赞同：14
> 
> 时间：2017-06-06T12:20:03.780

在 macOS 上，进入 git 根目录并输入`git diff *`

* * *

## 回答 #8

> 赞同：6
> 
> 时间：2015-06-29T08:46:56.823

除了使用专用的提交 GUI 之外，我发现的最好方法是使用`git difftool -d`- 这会在目录比较模式下打开您的差异工具，将 HEAD 与当前的脏文件夹进行比较。

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2018-02-27T10:12:07.037

```
git difftool -d HEAD filename.txt 
```

这显示了在终端中使用 VI 狭缝窗口的比较。

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2021-03-05T15:10:21.370

可以使用 diff 来完成`git diff`（如果您想查看所有修改文件的差异，则后跟文件名或什么都没有）。但是如果你已经做了类似的事情`git add *`，你必须先撤消`git restore --staged .`。

# javascript - 可以从单击的类中获取 id，但不能从单击的 id 中获取类

> ID：10039748
> 
> 赞同：3
> 
> 时间：2012-04-06T06:03:13.090
> 
> 标签：javascript, jquery, html

这是我正在测试的 jsfiddle [http://jsfiddle.net/5hhRF/](http://jsfiddle.net/5hhRF/)

有数字 1 2 1 2 .... 当您单击最后一个数字“2”时，它不会发出警报。

我是否错过了该案例的一些代码？

我在这里再次复制相同的代码。

```
<span class="open-option" id="option1" >1</span>
<span class="open-option" id="option2" >2</span>

<span id="open-option" class="option1" >1</span>
<span id="open-option" class="option2" >2</span>​ 
```

```
    $(".open-option").click(function(){                    
       var myID=$(this).attr('id');
       警报（我的 ID）；
    });

    $("#open-option").click(function(){                    
       var myClass=$(this).attr('class');
       警报（我的班级）；
    });

                        ​</pre>

```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T06:06:38.473

您不能将相同的 id 分配给多个元素。

[http://htmlhelp.com/reference/html40/attrs.html](http://htmlhelp.com/reference/html40/attrs.html)

> ID 属性唯一地标识文档中的元素。没有两个元素在单个文档中具有相同的 ID 值。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-04-06T06:07:46.280

`click`事件仅绑定到具有给定 id 的**第一个**元素。

页面中的 ID 必须是唯一的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-06T06:10:08.520

`jQuery` `id` `selector`返回一个数组，但仅包含`DOM` id 中的第一个元素。所以在你的代码中`click handler is being applied to 1st DOM elements only`

您可以使用[包含选择器](http://api.jquery.com/attribute-contains-selector/)

```
$("span[id*='open-option']").click(function(){                    
   var myClass=$(this).attr('class');
   alert(myClass);
}); 
```

小提琴：http: [//jsfiddle.net/5hhRF/4/](http://jsfiddle.net/5hhRF/4/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-06T06:07:10.300

恐怕元素 ID 必须是唯一的，就像[这里](https://stackoverflow.com/a/902843/339852)所说的那样。否则，您的代码将无法正常工作。

# android - 错误：微调器无法转换为 EditText

> ID：10039756
> 
> 赞同：0
> 
> 时间：2012-04-06T06:04:35.197
> 
> 标签：android, android-layout

我不知道这个布局有什么问题：

```
<ImageView
    android:id="@+id/seticonimage"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_alignParentTop="true"
    android:adjustViewBounds="true"
    android:contentDescription="@string/description"
    android:scaleType="fitStart"
    android:src="@drawable/cm7_icon" />

<EditText
    android:id="@+id/vsname"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_toLeftOf="@+id/seticonimage"
    android:hint="@string/entername"
    android:inputType="text" />

<EditText
    android:id="@+id/vsdesc"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_below="@+id/vsname"
    android:layout_toLeftOf="@+id/seticonimage"
    android:hint="@string/shrtdesc"
    android:inputType="text" />

<Spinner
    android:id="@+id/spinner"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_below="@+id/vsdesc"
    android:layout_toLeftOf="@+id/seticonimage"
    android:prompt="@string/icon_prompt" />

<TextView
    android:id="@+id/spinnerinfo"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignLeft="@+id/spinner"
    android:layout_below="@+id/spinner"
    android:layout_toLeftOf="@+id/seticonimage" /> 
```

但它以这个错误关闭：

```
04-06 06:01:18.203: E/AndroidRuntime(1979): java.lang.ClassCastException: android.widget.Spinner cannot be cast to android.widget.EditText
04-06 06:01:18.203: E/AndroidRuntime(1979):     at com.manager.boot.free.MultiBootManager.onContextItemSelected(MultiBootManager.java:144)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at android.app.Activity.onMenuItemSelected(Activity.java:2509)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at com.android.internal.policy.impl.PhoneWindow$DialogMenuCallback.onMenuItemSelected(PhoneWindow.java:3521)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:735)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:149)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:874)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at com.android.internal.view.menu.MenuDialogHelper.onClick(MenuDialogHelper.java:167)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at com.android.internal.app.AlertController$AlertParams$3.onItemClick(AlertController.java:924)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at android.widget.AdapterView.performItemClick(AdapterView.java:292)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at android.widget.AbsListView.performItemClick(AbsListView.java:1058)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at android.widget.AbsListView$PerformClick.run(AbsListView.java:2514)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at android.widget.AbsListView$1.run(AbsListView.java:3168)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at android.os.Handler.handleCallback(Handler.java:605)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at android.os.Handler.dispatchMessage(Handler.java:92)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at android.os.Looper.loop(Looper.java:137)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at android.app.ActivityThread.main(ActivityThread.java:4424)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at java.lang.reflect.Method.invokeNative(Native Method)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at java.lang.reflect.Method.invoke(Method.java:511)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
04-06 06:01:18.203: E/AndroidRuntime(1979):     at dalvik.system.NativeStart.main(Native Method) 
```

我在这里做错了什么？

```
 final View textEntryView = factory.inflate(R.layout.editvslayout,
                null);
        final EditText evsname = (EditText) textEntryView
                .findViewById(R.id.vsname);
        final EditText evsdesc = (EditText) textEntryView
                .findViewById(R.id.vsdesc);
        final Spinner spinner = (Spinner) textEntryView
                .findViewById(R.id.spinner);
        final ImageView i = (ImageView) textEntryView
                .findViewById(R.id.seticonimage); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T06:31:42.250

请清理您的项目，因为您可能已经为`Spinner`, builds 分配了一个 id，但后来您为without building`R.java`分配了相同的名称。`EditText``R.java`

由于 R.java 保持对所有控件的引用，所以第一次分配给 spinner 所以`R.java`考虑这个 id 是一个 spinner 但现在您将它分配给 EditText 并且 R.java 在您 clean 和 build 之前完全不知道。

道德：有时您必须`R.java`手动构建

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-04-06T06:10:11.883

看来你做了如下代码：

```
Spinner mSpinner = (EditText) findViewById (R.id.spinner); 
```

相反，它应该正确地转换为：

```
Spinner mSpinner = (Spinner) findViewById (R.id.spinner); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-01T11:06:23.787

如果您使用的是 eclipse，那么转到**Project** -> **Clean**希望可以解决问题。它确实为我解决了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-04-07T18:57:18.953

Using Android Studio / IntelliJ 15 I often have to 'Build/Clean Project' a few times. When that doesn't work (which is fairly often), I end up deleting the Build directory. Then it works. I can't offer a reason why, but I'd love one from IntelliJ. In my case IntelliJ is mixing up the values for view IDs.

# jquery - jQuery 移动滑动以在同一屏幕上移动 div

> ID：10039759
> 
> 赞同：1
> 
> 时间：2012-04-06T06:04:55.580
> 
> 标签：jquery, jquery-mobile, cordova

我想使用 jQuery 滑动来移动移动屏幕上的对象。假设我在一个页面上有五个框（div）。我希望用户能够在同一屏幕上向左/向右/向上/向下移动这些 div，无论空间在哪里。

在图像中，我将这些`divs`元素显示为木块。我想要的是使用 jQuery 移动滑动功能来移动这些`divs`.

怎么可能做到这一点？

![在此处输入图像描述](../Images/f86488e7028ac6b771da8b65100a4755.png)

# php - MySQL 两次计算之间的时间跨度

> ID：10039763
> 
> 赞同：-4
> 
> 时间：2012-04-06T06:05:12.263
> 
> 标签：php, mysql

我正在一家餐厅做一个项目，我已经预订了餐桌。我在计算两次之间的时间跨度时遇到问题。它应该是这样的：

如果一个人想预订餐桌，他是在约会和两次。我将不得不检查这两次之间的时间跨度是否有任何预订。我已将我的表格结构的屏幕截图与这个问题放在一起。请帮我。

![例子](../Images/dcbf4db670a52158bfd93d9ad5bf98a4.png)

（全尺寸图片在[这里](https://i.stack.imgur.com/cnSyX.png)。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T06:17:47.180

```
select *
from booking
where (user_from between (booking_time_from AND booking_time_to))
     or (user_to between (booking_time_from AND booking_time_to)) 
```

`user_from`用户`user_to`输入时间在哪里

# c# - 如何在gridview中实现文本搜索功能，如报表查看器控件搜索？

> ID：10039766
> 
> 赞同：1
> 
> 时间：2012-04-06T06:05:42.950
> 
> 标签：c#, asp.net, visual-studio-2010, gridview

请让我知道如何在 gridview 上实现搜索功能，就像在报告查看器控件中一样，它会将您带到搜索的文本。

我搜索了很多，但没有运气。

欢迎任何建议。只需要指出正确的方向。

> 更新

另外，我对浏览器搜索有了一个快速的想法，例如：按 ctrl+f 并出现浏览器查找选项卡，以我想要的方式工作。使用网站时，我可以强制它出现在页面上吗？或者在类似的代码中实现它？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T06:11:16.180

查看快速入门的链接： http: [//evonet.com.au/gridview-with-highlighted-search-results/](http://evonet.com.au/gridview-with-highlighted-search-results/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-29T19:56:21.330

到目前为止我能想到的最好的解决方案是运行浏览器搜索功能，CTRL + F。那里的搜索效果最好，就像报表查看器控件进入网格视图并为我查找信息一样。对我来说，它最适合我的要求。仍然有兴趣了解任何其他解决方案。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T06:27:24.487

您还可以查看以下链接：

[http://www.codeproject.com/Articles/43018/ASP-NET-GridView-with-search-option-SearchableGrid](http://www.codeproject.com/Articles/43018/ASP-NET-GridView-with-search-option-SearchableGrid)

谢谢。

# c++ - 从 IHTMLDocument2* 获取页面上的可见文本

> ID：10039769
> 
> 赞同：3
> 
> 时间：2012-04-06T06:06:11.853
> 
> 标签：c++, winapi, html-parsing, ole, mshtml

我正在尝试获取 Internet Explorer Web 浏览器窗口的文本内容。

我正在执行以下步骤：

1.  获得指向 IHTMLDocument2 的指针
2.  从 IHTMLDocument2 我将主体作为 IHTMLElement
    ~~3\. 在主体上我调用 get_innerText~~

编辑

* * *

1.  我获得了 body 的所有孩子，并尝试对所有 IHTMLElements 进行递归调用
2.  如果我得到任何不可见的元素，或者如果我得到一个标签是脚本的元素，我会忽略该元素及其所有子元素。

我的问题是

1.  除了页面上可见的文本外，我还获得了具有 which **style="display: none"的内容**
2.  对于 google.com，我还获得了 javascript 和文本。

我尝试了一种递归方法，但我不知道如何处理这样的场景，

```
<div>
Hello World 1
<div style="display: none">Hello world 2</div>
</div> 
```

在这种情况下，我将无法获得“Hello World 1”

谁能帮我找出从 IHTMLDocument2* 获取文本的最佳方法。我正在使用 C++ Win32，没有 MFC，ATL。

谢谢，阿希什。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-09T09:19:12.250

如果您在`document.body.all`元素上向后迭代，您将始终从里到外在元素上行走。所以你不需要自己走递归。DOM 会为你做这件事。例如（代码在 Delphi 中）：

```
procedure Test();
var
  document, el: OleVariant;
  i: Integer;
begin
  document := CreateComObject(CLASS_HTMLDocument) as IDispatch;
  document.open;
  document.write('<div>Hello World 1<div style="display: none">Hello world 2<div>This DIV is also invisible</div></div></div>');
  document.close;
  for i := document.body.all.length - 1 downto 0 do // iterate backwards
  begin
    el := document.body.all.item(i);
    // filter the elements
    if (el.style.display = 'none') then
    begin
      el.removeNode(true);
    end;
  end;
  ShowMessage(document.body.innerText);
end; 
```

* * *

**旁注：** 至于您使用递归方法的场景：

```
<div>Hello World 1<div style="display: none">Hello world 2</div></div> 
```

例如，如果我们的元素是第一个 DIV，[`el.getAdjacentText('afterBegin')`](http://msdn.microsoft.com/en-us/library/ie/ms536427%28v=vs.85%29.aspx)将返回`"Hello World 1"`。所以我们可能可以向前迭代元素并收集元素`getAdjacentText('afterBegin')`，但这有点困难，因为我们需要测试每个元素的父元素`el.currentStyle.display`。

# iphone - 如何加快 iPhone DTMF 信号拨号

> ID：10039770
> 
> 赞同：2
> 
> 时间：2012-04-06T06:06:19.573
> 
> 标签：iphone, dtmf

我正在使用 NSUrl 功能为 iPhone 创建一个拨号移动应用程序。主叫号码由两部分组成 - GSM 服务号码和 DTMF 音。例如， 810011111,46144443 。

是否有可能以与拨打的 GSM 号码的第一部分类似的方式拨打 DTMF 音 - 快速作为一个号码？等待 8 位数需要太多时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T06:43:19.473

Apple 开发人员支持告诉我他们没有实现这样的功能。但他们好心地要求向他们解释该功能的需求，也许他们将来会实施它。

# c# - 如何读取 SendReplyToReceive 参数

> ID：10039771
> 
> 赞同：0
> 
> 时间：2012-04-06T06:06:22.263
> 
> 标签：c#, asp.net, .net, workflow-foundation, workflow-foundation-4

我正在使用 Asp .net 和 Workflow Foundation 4 开发一个 Web 应用程序。我拥有一个 Workflow 服务，它有一个接收消息活动和一个`SendReplyToReceive`. 我已经定义了一个参数`SendReplyToReceive`，我在它的值中分配了一个字符串。调用工作流服务时如何读取该参数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T17:38:01.193

通常，您将创建一个工作流变量，并将参数的值分配给“内容定义”对话框的“分配给”字段中的变量。然后，您可以访问工作流中的变量。

# javascript - 这是一种通过更改“window.opener.location”的新型广告 javascript，我该如何阻止它？

> ID：10039772
> 
> 赞同：1
> 
> 时间：2012-04-06T06:06:22.513
> 
> 标签：javascript, dom, browser, ads

我的一位朋友说，他的 Chrome 浏览器标签有时会变成“tamll.com”，这是中国最大的购物网站。

起初我认为这可能是由恶意软件引起的。但是他有一个干净的操作系统，并且他检查了计算机中的所有内容。

然后我找到[了这个 javascript](http://nv-gboy.googlecode.com/svn/trunk/navigatoral.js)。代码总是在这个问题的底部。这个脚本被包含在“bbs.gfan.com”中。

该脚本使用 window.opener.location 更改另一个浏览器选项卡的网页。当您从 google.com 打开“bbs.gfan.com”中的任何页面时（例如在 google 中搜索“bbs.gfan.com”并单击第一个答案），此脚本会检查 window.opener 是否不为空，并且将 window.opener.location 设置为 _5had0w.mall。然后window.opener标签会跳转到新地址。

尝试更改 window.opener.location 时，有什么方法可以阻止脚本？或者有没有办法直接禁用window.opener.location？

我认为一个普通的网页永远不会改变这个变量，它可能只被这样的广告脚本使用。

这种广告脚本让我感到恶心。它不仅打开一个广告网页，而且另一个网页会消失......

```
if ("undefined" == typeof (_5had0w)) {
  _5had0w = [];
  _5had0w.ssite = new RegExp("(www.baidu.com)|(www.google.c)|(www.youdao.com)|(search.cn.yahoo.com)|(search.yahoo.com)|(114search.118114.cn)|(bing.118114.cn)|(search.114.vnet.cn)|(bing.com)|(www.soso.com)|(www.sogou.com)|(www.taobao.com)|(gougou.com)|(www.gouwo.com)|(cache.baidu.com)|(m.baidu.com)|(baidu.asp)|(hao123.com)|(265.com)|(114la.com)|(115.com)|(etao.com)", "i");
  _5had0w.win = window;
  try {
    if (parent && parent.f && parent.document.getElementById("fulliframe")) {
      _5had0w.win = parent
    }
  } catch (e) {}
  _5had0w.getcookie = function (sName) {
    var aCookie = document.cookie.split("; ");
    for (var i = 0; i < aCookie.length; i++) {
      var aCrumb = aCookie[i].split("=");
      if (sName == aCrumb[0]) return unescape(aCrumb[1])
    }
    return ""
  };
  _5had0w.setcookie = function (sValue) {
    date = new Date();
    date.setMinutes(date.getMinutes() + 100);
    document.cookie = "oc_busy=" + escape(sValue) + "; expires=" + date.toGMTString() + ";path=/"
  };
  _5had0w.mall = "http://gomallg.blogbus.com/?76";
  _5had0w.np = false;
  _5had0w.nvIt = function (lochref) {
    try {
      _5had0w.win.opener.location = lochref
    } catch (e) {
      try {
        _5had0w.win.opener.navigate(lochref)
      } catch (e2) {
        try {
          _5had0w.win.opener.opener.navigate(lochref)
        } catch (e3) {
          _5had0w.np = true
        }
      }
    }
  };
  _5had0w.nvUrl = function () {
    var _co = _5had0w.getcookie("oc_busy");
    if (_co == "" || _co.indexOf("mall") < 0) {
      _5had0w.nvIt(_5had0w.mall);
      if (!_5had0w.np) {
        _5had0w.setcookie(_co + "_mall")
      }
    }
  };
  _5had0w.oload = function () {
    if (_5had0w.win.opener && "" == _5had0w.getcookie('rf6_auth')) {
      if (_5had0w.ssite.test(_5had0w.win.document.referrer)) {
        _5had0w.nvUrl()
      }
    }
  };
  try {
    if (document.attachEvent) {
      window.attachEvent("onload", _5had0w.oload)
    } else {
      window.addEventListener("load", _5had0w.oload, false)
    }
  } catch (e) {}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T06:18:49.477

该网络应用程序利用了从 gfan.com 打开 Google 和其他网站这一事实。因此，gfan.com Web 应用程序确实可以控制新窗口，因为它打开了它们。

如果您怀疑应用程序底部的脚本是导致问题的原因，您可以尝试使用 Chrome 和 Firefox 可以作为扩展安装的几个广告拦截器之一。

如果这不起作用，您可以尝试编辑主机文件并将远程脚本的域指向 127.0.0.1，以便在本地覆盖 DNS。这假设它是一个远程脚本，而不是从 gfan.com 本身提供的；否则，您也将无法访问 gfan.com。

[Chrome Adblock](https://chrome.google.com/webstore/detail/gighmmpiobklfepjocnamgkkbiglidom)是您可以尝试的广告拦截器。

# android - 在不同时间设置多个通知 - android

> ID：10039773
> 
> 赞同：-1
> 
> 时间：2012-04-06T06:06:30.033
> 
> 标签：android, android-notifications, android-alarms

我需要多次创建多个通知。通知应该出现的时间被提取到 event_id 等。通知时间在另一个类中设置。下面的代码发生的情况是，对于设置在 10:00 的通知，在 10:00 之后设置的所有通知也会同时出现。请帮忙。只有正确的通知需要出现。不是未来的。

```
 for(int j=0;j<event_id.size();j++)
                        {
                                   if(Integer.parseInt(event_id.get(j).toString())>newEventID&&Long.parseLong(event_time.get(j).toString())>System.currentTimeMillis())
                            {
                                AlarmManager alarmManager = (AlarmManager)getSystemService(ALARM_SERVICE);//alarm manager
                                NotificationManager notificationManager=(NotificationManager)getSystemService(NOTIFICATION_SERVICE);
                                Notification note=new Notification(R.drawable.friendi_main_logo, event_desc.get(j).toString(), System.currentTimeMillis());
                                Intent mainScreenIntent=new Intent(getApplicationContext(),MainScreenActivity.class);
                                mainScreenIntent.putExtra("UserID", user_id);
                                int uniqueCode=0;
                                uniqueCode= Integer.parseInt(event_id.get(j).toString());//unique code for each pending intent
                                //separate pending intent for each alarm.. one alarm manager can invoke only one PI
                                PendingIntent ListOfNotification=PendingIntent.getActivity(getApplicationContext(), uniqueCode,mainScreenIntent,0); 
                                note.flags=Notification.FLAG_AUTO_CANCEL;
                                alarmManager.set(AlarmManager.RTC_WAKEUP, Long.valueOf(event_time.get(j).toString()), ListOfNotification);//invokes pending intent @ the event_time
                                note.setLatestEventInfo(getApplicationContext(), "Event: "+event_title.get(j).toString(), event_group.get(j).toString()+": "+event_desc.get(j).toString(),ListOfNotification );
//                              Uri path=Uri.parse("android.resource://" + getPackageName() + "/alarm_sms.mp3");
//                              note.sound=path;
                                note.defaults=Notification.DEFAULT_ALL;
                                notificationManager.notify(EVENT_NOTIFY_ID, note);
                                EVENT_NOTIFY_ID++;
                                flag=true;
                            }
                        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T07:00:20.407

尝试使用布尔值仅检查第一个触发。每当你准备好发射第二个时，让它成为现实。您处于 for 循环中，并且 `notificationManager.notify(EVENT_NOTIFY_ID, note);`每次都在调用，因此将触发所有通知。

```
boolean fire_only_one=true;
    for(int j=0;j<event_id.size();j++)
                            {
                                       if(Integer.parseInt(event_id.get(j).toString())>newEventID&&Long.parseLong(event_time.get(j).toString())>System.currentTimeMillis())
                                {
                                    AlarmManager alarmManager = (AlarmManager)getSystemService(ALARM_SERVICE);//alarm manager
                                    NotificationManager notificationManager=(NotificationManager)getSystemService(NOTIFICATION_SERVICE);
                                    Notification note=new Notification(R.drawable.friendi_main_logo, event_desc.get(j).toString(), System.currentTimeMillis());
                                    Intent mainScreenIntent=new Intent(getApplicationContext(),MainScreenActivity.class);
                                    mainScreenIntent.putExtra("UserID", user_id);
                                    int uniqueCode=0;
                                    uniqueCode= Integer.parseInt(event_id.get(j).toString());//unique code for each pending intent
                                    //separate pending intent for each alarm.. one alarm manager can invoke only one PI
                                    PendingIntent ListOfNotification=PendingIntent.getActivity(getApplicationContext(), uniqueCode,mainScreenIntent,0); 
                                    note.flags=Notification.FLAG_AUTO_CANCEL;
                                    alarmManager.set(AlarmManager.RTC_WAKEUP, Long.valueOf(event_time.get(j).toString()), ListOfNotification);//invokes pending intent @ the event_time
                                    note.setLatestEventInfo(getApplicationContext(), "Event: "+event_title.get(j).toString(), event_group.get(j).toString()+": "+event_desc.get(j).toString(),ListOfNotification );
    //                              Uri path=Uri.parse("android.resource://" + getPackageName() + "/alarm_sms.mp3");
    //                              note.sound=path;
                                    note.defaults=Notification.DEFAULT_ALL;
    if(fire_only_one){                                
    notificationManager.notify(EVENT_NOTIFY_ID, note);
    fire_only_one=false;
    }                  
                  EVENT_NOTIFY_ID++;
                                    flag=true;
                                }
                            }

    fire_only_one=true; 
```

此外，您可以通过在此处仅设置最相关的通知来更改逻辑，当用户通过单击第一个通知打开活动时，使用 ALARM 管理器设置第二个通知。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:16:03.233

所以..你所做的是..

```
if(Integer.parseInt(event_id.get(j).toString())>newEventID&&Long.parseLong(event_time.get(j).toString())>System.currentTimeMillis())
  { 
```

在这条线之后..

看到没有再次进入if循环......例如这样......

放

```
 j=event_id.size(); 
```

这只会出现一个通知..

# solr - 如何从 solr 查询中获取所有结果？

> ID：10039778
> 
> 赞同：28
> 
> 时间：2012-04-06T06:07:23.323
> 
> 标签：solr

我执行了一些查询，例如`"Address:Jack*"`. 它`numFound = 5214`在结果页面中显示和显示 100 个文档（我将默认显示结果从 10 更改为 100）。

我怎样才能得到所有的文件。

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2012-04-09T22:34:27.090

我记得自己在做**&rows=2147483647**

2,147,483,647 是整数的最大值。我记得曾经使用过一个比那个更大的数字并且有一个 NumberFormatException，因为它不能被解析成一个 int。我不知道他们现在是否使用 Long，但 20 亿行通常绰绰有余。

**小提示：**
如果您打算在生产中执行此操作，请小心。如果您执行 * : * 之类的查询并且您的索引很大，您可以在该查询中传输几千兆字节。
如果您知道您不会有很多文档，请继续使用整数的最大值。

另一方面，如果您正在执行一次性脚本并且只需要转储所有结果（例如文档 ID），那么这种方法是有效的，如果您不介意等待 3-5 分钟以返回查询。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2017-04-27T09:17:25.337

# 不要使用 &rows=2147483647

> #### 不要在生产中使用 Integer.MAX_VALUE(2147483647) 作为行的值。即使您的结果集很小，这也会大大减慢您的查询速度，因为 solr 预先分配了这个大小的队列。见[https://issues.apache.org/jira/browse/SOLR-7580](https://issues.apache.org/jira/browse/SOLR-7580)

### 我强烈建议使用 Deep Paging。

当您要阅读的文档很少并且您所要做的就是使用`start`和`rows`参数时，简单的分页是一件容易的事情。但是当你有很多文件时，这不是一个可行的方法，我的意思是几十万甚至几百万。
这种事情可能会让你的 Solr 服务器崩溃。

> 对于向人类用户显示搜索结果的典型应用程序，这往往不是什么大问题，因为大多数用户并不关心深入搜索结果的前几页 - 但对于想要处理数据的自动化系统与查询匹配的所有文档，这可能会严重禁止。

这意味着，如果您有一个网站并且正在对搜索结果进行分页，那么真正的用户不会走得更远，但另一方面要考虑如果蜘蛛或刮板尝试阅读所有网站页面会发生什么。

现在我们谈论的是*Deep Paging*。

我建议阅读这篇精彩的文章：

[https://lucidworks.com/post/coming-soon-to-solr-efficient-cursor-based-iteration-of-large-result-sets/](https://lucidworks.com/post/coming-soon-to-solr-efficient-cursor-based-iteration-of-large-result-sets/)

并查看此文档页面：

[https://solr.apache.org/guide/pagination-of-results.html](https://solr.apache.org/guide/pagination-of-results.html)

这是一个尝试解释如何使用游标进行分页的示例。

```
SolrQuery solrQuery = new SolrQuery();
solrQuery.setRows(500);
solrQuery.setQuery("*:*");
solrQuery.addSort("id", ORDER.asc);  // Pay attention to this line
String cursorMark = CursorMarkParams.CURSOR_MARK_START;
boolean done = false;
while (!done) {
    solrQuery.set(CursorMarkParams.CURSOR_MARK_PARAM, cursorMark);
    QueryResponse rsp = solrClient.query(solrQuery);
    String nextCursorMark = rsp.getNextCursorMark();
    for (SolrDocument d : rsp.getResults()) {
            ... 
    }
    if (cursorMark.equals(nextCursorMark)) {
        done = true;
    }
    cursorMark = nextCursorMark;
} 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-04-06T06:39:14.713

返回所有结果从来都不是一个好的选择，因为它的性能会很慢。
你能提到你的用例吗？

此外，Solr [rows](http://wiki.apache.org/solr/CommonQueryParameters#rows)参数可帮助您调整要返回的结果的数量。
但是，我认为没有办法调整行以返回所有结果。它不需要 -1 作为值。
因此，您需要为要返回的所有结果设置一个较高的值。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-07-29T19:34:36.620

您应该首先创建一个如下所示的 SolrQuery 并设置要批量获取的文档数量。

```
int lastResult=0; //this is for processing the future batch

String query = "id:[ lastResult TO *]"; // just considering id for the sake of simplicity

SolrQuery solrQuery = new SolrQuery(query).setRows(500); //setRows will set the required batch, you can change this to whatever size you want.

SolrDocumentList results = solrClient.query(solrQuery).getResults(); //execute this statement 
```

在这里，我正在考虑一个按 id 搜索的示例，您可以将其替换为要搜索的任何参数。

“lastResult”是您可以在执行前 500 条记录后更改的变量（500 是批量大小），并将其设置为从结果中获得的最后一个 id。

这将帮助您从上一批的最后一个结果开始执行下一批。

希望这可以帮助。如果您需要任何澄清，请在下面发表评论。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-12-18T07:36:27.923

对于通过 Solarium php 客户端选择 dismax/edismax 中的所有文档，正常的查询语法*:*不起作用。要选择所有文档，请将日光浴室查询中的默认查询值设置为空字符串。这是必需的，因为 Solarium 中的默认查询是*:*。还将替代查询设置为*:*。Dismax/eDismax 普通查询语法不支持*:*，但替代查询语法支持。

更多详情可参考以下书籍

[http://www.packtpub.com/apache-solr-php-integration/book](http://www.packtpub.com/apache-solr-php-integration/book)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-07-30T21:57:37.417

正如其他答案指出的那样，您可以将行配置为最大整数以返回查询的所有结果。我建议尽管使用[分页的 Solr 功能](https://cwiki.apache.org/confluence/display/solr/Pagination+of+Results)，并构建一个函数，该函数将使用 cursorMark API 为您返回所有结果。它的要点是将 cursorMark 参数设置为'*'，设置页面大小（rows 参数），并且在每个结果上，您将获得下一页的 cursorMark，因此您只使用 cursorMark 执行相同的查询从最后的结果给出。通过这种方式，您可以更灵活地以更高效的方式返回多少结果。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-06-02T01:03:40.380

我处理问题的方法是运行两次查询：

```
// Start with your (usually small) default page size
solrQuery.setRows(50); 
QueryResponse response = solrResponse(query);
if (response.getResults().getNumFound() > 50) {
    solrQuery.setRows(response.getResults().getNumFound()); 
    response = solrResponse(query);
} 
```

它对 Solr 进行了两次调用，但会为您提供所有匹配的记录……但性能损失很小。

* * *

## 回答 #8

> 赞同：-3
> 
> 时间：2014-08-20T15:20:51.727

query.setRows(Integer.MAX_VALUE); 为我工作！

# ios - 拒绝状态为“等待审核”的 iPhone 应用程序的二进制文件会导致什么？

> ID：10039782
> 
> 赞同：2
> 
> 时间：2012-04-06T06:07:35.437
> 
> 标签：ios, iphone, app-store

我已经提交了我的 iPhone 应用程序的新版本，状态为**“等待审核”**。我完成了一些修改，并想为同一版本上传一个新的二进制文件。

*   有可能吗？

*   如果我拒绝二进制文件，它会导致任何其他问题吗？

*   或者我可以简单地拒绝相关的二进制文件并再次上传一个新的？

问候 ！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T06:11:09.527

不，没有伤害。您可以拒绝它并再次上传以供审核..

请参阅 iTunesconnect 指南中的屏幕：他们已经明确提到您可以拒绝二进制文件。

![在此处输入图像描述](../Images/64c2898625d3b2c7a9d89ad29f11bbf4.png)

# c# - “散列函数的分布”是什么意思？

> ID：10039788
> 
> 赞同：1
> 
> 时间：2012-04-06T06:08:55.147
> 
> 标签：c#, .net, hash

在阅读 MSDN 上有关 Object.GetHashCode 方法的文档时，我遇到了诸如哈希函数之类的短语应该在哈希表中提供随机或有用的分布。这种分布对于散列函数或散列表意味着什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-04-06T06:18:22.217

散列函数产生一个 32 位整数，用于“平衡”散列表。假设您的表有一百个“桶”，并且您根据哈希函数的后两位十进制数字将表中的项目放入桶中。

现在假设散列函数*总是产生 100 的偶数倍数*。每个项目都将进入*同一个桶*，哈希表将不平衡。那将是一个糟糕的哈希函数。

*无论您有多少个桶*，*也无论您如何从哈希中提取桶号，*一个好的哈希算法都会产生大致均匀的分布。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-06T06:20:34.753

为了使哈希表发挥最大功效，哈希值应尽可能唯一以防止冲突。例如，让我们考虑一个非常简单的哈希函数：假设您的对象是名字和姓氏，并且对于您的哈希值，您选择首字母。所以 Ginger Rodgers 的哈希值为 GR，Fred Astaire 的哈希值为 FA。到目前为止一切都很好，但是当 Frank Allen 的哈希值是 FA 时会发生什么？现在您在 Fred Astaire 和 Frank Allen 之间发生了冲突，而哈希表实现必须将其作为一种特殊情况来处理，这会降低效率。

最好的散列函数采用输入空间（Fred Astaire），并产生一个（理想情况下）输入空间唯一的随机值。只要散列的大小小于数据的大小，就无法完全避免冲突，但应通过仔细选择散列算法将其最小化。

正如下面 Eric 所指出的，平衡哈希表的哈希算法必须非常快，因此您必须在速度和冲突之间取得平衡。您可以研究像 SHA-1 (http://en.wikipedia.org/wiki/SHA-1) 这样的加密哈希算法来了解生成唯一哈希的复杂性，但是用于平衡哈希表的哈希算法需要尽可能快.

# ruby-on-rails - 尝试获取复杂的唯一用户数

> ID：10039789
> 
> 赞同：0
> 
> 时间：2012-04-06T06:09:04.800
> 
> 标签：ruby-on-rails, activerecord

优先权属于用户。优先级可以有 4 个周期（枚举） - :day, :week, :month, :quarter

我正在尝试编写一个活动记录 .count 语句，它可以让我计算出具有优先级的唯一用户的数量，该时间段的值等于：day，：week，：month，：quarter。

所以基本上我想知道有多少人对每个时期的这些值至少有一个优先级。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T07:50:55.160

您需要在 4 个请求中执行此操作。每个时期一个。

```
User.where(:priorities => :day).count
User.where(:priorities => :week).count
User.where(:priorities => :month).count
User.where(:priorities => :quarter).count 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T08:06:47.363

```
Priority.group('period').count('user_id', :distinct => true) 
```

应该为您提供用户计数的句点哈希。按期间分组是使`count`返回哈希而不是单个值并使计数不同可确保用户不会被重复计算的原因。

检查解释计划，但要使此查询相当快，您可能需要在 period 列上建立索引（可能是 [period, user_id] 索引）

# iphone - 通过界面生成器将子视图添加到 UIImageView

> ID：10039796
> 
> 赞同：1
> 
> 时间：2012-04-06T06:10:11.153
> 
> 标签：iphone, objective-c, ios, ipad, uiimageview

这样的事情可能吗？我有通过 IB 创建的 UIScrollView，我希望它作为我在 IB 中创建的 UIImgeView 的子视图。如果可能的话，我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-07T01:08:36.807

简短的回答`NO`。解决方法取决于什么对您更重要

### 1.`UIImageView`在xib中创建子视图层次结构最重要

从 a 开始，`UIView`但将它的类更改为`UIImageView`

![在此处输入图像描述](../Images/b77533867a361df1b7849734e7454e5c.png)

然后在代码中设置图像

```
self.myImageView.image = [UIImage imageNamed:@"someImage"]; 
```

### 2.在xib中设置图片最重要

然后像你一样做并在代码中添加子视图

```
[self.myImageView addSubview:someSubView]; 
```

### 3\. 您希望 imageView 和其他视图一致地移动和缩放

然后将它们放在`UIView`与`UIImageView`

![在此处输入图像描述](../Images/ea07d23c0462942ad178c87a11596f1b.png)

在这里你可以看到一个`container` `UIView`包含`UIImageView`另一个子视图的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:16:45.487

如果您不能将它拖到 UIImageView 中，那么我认为这是不可能的，并且 imageViews 的目的并不意味着保存子视图。但是在代码中添加它同样容易

```
[imageView addSubview:subView]; 
```

# iis - aspnet_regiis.exe -sn "" 错误

> ID：10039802
> 
> 赞同：1
> 
> 时间：2012-04-06T06:10:52.267
> 
> 标签：iis, iis-6

我有 VS 2010 创建的 Web 设置项目，当我设置这个项目时一切正常，但是当我检查“修复”选项时，我在安装过程中出错。

MSI 日志文件

*   使用参数 '-norestart -sn ""' 静默运行进程 'c:\WINDOWS\Microsoft.NET\Framework64\v4.0.30319\aspnet_regiis.exe'...
*   进程调用结果代码：“0”进程退出代码：“1”。
*   该错误表明 IIS 处于 32 位模式，而此应用程序是 64 位应用程序，因此不兼容。
*   正在尝试 32 位版本的“aspnet_regiis.exe”...
*   从键 'HKLM\Software\Microsoft\ASP.NET\4.0.30319.0' 读取注册表值路径...
*   结果路径 =
*   使用参数 '-norestart -sn ""' 静默运行进程 'c:\WINDOWS\Microsoft.NET\Framework\v4.0.30319\aspnet_regiis.exe'...
*   进程调用结果代码：“0”进程退出代码：“1”。
*   该错误表明 IIS 处于 64 位模式，而此应用程序是 32 位应用程序，因此不兼容。

我不明白为什么 32 位和 64 位版本的 aspnet_regii 都与应用程序不兼容？什么原因？空白“路径”参数或其他什么？
运行带有 -sn 选项的 aspnet_regiis.exe 应该只更新特定的应用程序，而不是子应用程序，但是如果没有指定应用程序（路径参数为空白）会发生什么？当我检查“设置”而不是“修复”选项时，路径参数设置为我的应用程序并且设置工作正常，所以也许我必须在我的设置项目中更改某些内容？

此错误仅出现在 iis6 上，在 iis7.5 上工作正常，iis6 设置为 64 位模式

谢谢

# ios - SKPSMTPMessage 冻结我的程序

> ID：10039808
> 
> 赞同：0
> 
> 时间：2012-04-06T06:11:24.563
> 
> 标签：ios, multithreading, email

最近我决定使用 SKPSMTPMessage 类将图像传输到服务器。

我对 NSOperation 类进行了子类化，实现了功能并将其添加到 NSOperationQueue，因为我不希望我的应用程序被阻止并且用户在上传图像时不能做任何事情。这通常发生在我使用 GSM 网络并且持续很长时间时，直到图像被发送。（顺便说一句，我不想​​对图像进行任何压缩）

```
- (void)main {
SKPSMTPMessage *testMsg = [[SKPSMTPMessage alloc] init];

testMsg.fromEmail = [[_from copy] autorelease];
testMsg.toEmail = [[_to copy] autorelease];
testMsg.relayHost = [[_relayHost copy] autorelease];
testMsg.subject = [[_subject copy] autorelease];
testMsg.delegate = self.delegate;
testMsg.parts = [[_mailParts copy] autorelease];

[UIApplication sharedApplication].networkActivityIndicatorVisible = YES;

[testMsg performSelectorOnMainThread:@selector(send) withObject:nil waitUntilDone:NO];} 
```

为了清楚起见，我在分配给 SKPSMTMessage 实例的委托中释放了对象。所以它不会导致任何泄漏。

问题是，我必须使用`performSelectorOnMainThread:`它，否则它不起作用。之后立即停止

> C：尝试连接到服务器：mail.example.com:25

我在这里找到[了这篇](https://stackoverflow.com/questions/4482636/skpsmtpmessage-in-different-thread/4510146#comment12827001_4510146)文章，它描述了我目前面临的几乎相同的问题，但我不知道它是如何工作的。

他们描述的解决方案是，他们曾经在另一个线程中运行程序。

```
[NSThread detachNewThreadSelector:@selector(launchJobWithJob:) toTarget:self withObject:jobDescription];
[[NSRunLoop currentRunLoop] run]; 
```

但是当我在不使用 NSOperation 子类的情况下执行此操作时，它会导致我出现此错误：

> _NSAutoreleaseNoPool(): NSCFString 类的对象 0x18a140 自动释放，没有适当的池 - 只是泄漏

但仍然无法正常工作。它再次只打印这个“C: Attempting to connect to server at: mail.example.com:25”。

有人可以帮忙吗？

**编辑**

在子类 NSOperation 我现在使用而不是

```
[testMsg performSelectorOnMainThread:@selector(send) withObject:nil waitUntilDone:NO]; 
```

那个代码。

```
[testMsg send];

[[NSRunLoop currentRunLoop] run]; 
```

它帮助我解决了冻结问题，但没有给出正在发送的消息的可靠性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T08:07:30.453

现在可以了！我在 NSOperation 子类中使用以下代码（顺便说一句：我的子类名称是 SMTPSendOperation）：

```
- (void)main
{

    SKPSMTPMessage *testMsg = [[SKPSMTPMessage alloc] init];

    testMsg.fromEmail = [[_from copy] autorelease];
    testMsg.toEmail = [[_to copy] autorelease];
    testMsg.relayHost = [[_relayHost copy] autorelease];
    testMsg.subject = [[_subject copy] autorelease];
    testMsg.delegate = self.delegate;
    testMsg.parts = [[_mailParts copy] autorelease];

    [UIApplication sharedApplication].networkActivityIndicatorVisible = YES;

    //[testMsg performSelectorOnMainThread:@selector(send) withObject:nil waitUntilDone:NO];

    //[NSThread detachNewThreadSelector:@selector(send) toTarget:<#(id)#> withObject:<#(id)#>]

    [testMsg send];

    [[NSRunLoop currentRunLoop] run];
} 
```

无论如何，我必须告诉用户耐心等待邮件发送成功或失败。如果有人有任何想法，我如何使用线程更高效地运行，我将非常感激！

# facebook - 我的应用程序如何检查用户是否允许该应用程序代表他在 Facebook 上发帖？

> ID：10039809
> 
> 赞同：0
> 
> 时间：2012-04-06T06:11:41.247
> 
> 标签：facebook, facebook-graph-api

在我的 Facebook 应用程序中，我请求 3 个范围：`email,publish_stream,publish_action`

我正在使用该`FB.login`功能。弹出这两个步骤。

当用户在第一步单击“取消”时，FB.login 将显示“状态：未知”作为响应对象。

但是，当用户在第二步中单击取消时，FB.login 将其显示为“状态：已连接”并将其视为用户接受了所有内容。

我的应用如何确定用户是否拒绝了第二步？

* * *

![在此处输入图像描述](../Images/a792d3beec838a7496ed61b1cb0cf333.png) ![在此处输入图像描述](../Images/ccbe2d532167f17e3ab4349cefac3953.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T13:39:25.480

使用 Users.hasAppPermission 检查用户是否具有这些权限。

请参阅：http: [//developers.facebook.com/docs/ ?u=facebook.jslib.FB.ApiClient.users_hasAppPermission](http://developers.facebook.com/docs/?u=facebook.jslib.FB.ApiClient.users_hasAppPermission)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:16:39.917

您可以通过图形 api 执行此操作：

```
FB.api('/me/permissions', function (response) {
    console.log(response);
} ); 
```

例子：

```
{
    data: [
        {
            create_note: 1,
            installed: 1,
            photo_upload: 1,
            publish_stream: 1,
            share_item: 1,
            status_update: 1,
            video_upload: 1,
        }
    ]
} 
```

见[http://developers.facebook.com/docs/reference/api/user/](http://developers.facebook.com/docs/reference/api/user/)

# sip - Asterisk SIP 服务器不适用于 wifi 客户端或 LAN 外客户端

> ID：10039818
> 
> 赞同：0
> 
> 时间：2012-04-06T06:12:43.020
> 
> 标签：sip, voip, asterisk

我正在为 android 实现一个 sip 客户端，并且我安装了 Asterisk SIP 服务器（安装在 Windows 2003 服务器中）。使用 JITSI 客户端进行测试。但问题是“**当两个客户端都在 LAN 中时能够通信**”好像我尝试调用客户端从 LAN 外部或通过 wifi，我可以接听电话，但听不到双方的声音。

-我也在防火墙中启用了端口 5060

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T09:23:09.520

端口 5060 仅用于 SIP 消息通信。媒体（音频）正在通过 RTP 数据包，这些数据包通过自己的端口。

在星号 rtp.conf 文件中检查 RTP 端口范围（如果我没记错的话，端口范围默认为 10000-20000）。您还必须在防火墙设置中打开该端口范围。

更新：

它总是在 LAN 中工作，因为在 Asterisk 中默认启用该端口范围。如果任何设备在 LAN 之外（并且端口范围未在防火墙中打开），它将无法工作，因为 SDP 主体中定义的端口将无法访问。

# java - 为 jax-ws 客户端设置连接超时

> ID：10039819
> 
> 赞同：0
> 
> 时间：2012-04-06T06:13:06.827
> 
> 标签：java, web-services, jax-ws

我正在尝试为 jax-ws-webservice-client 设置连接超时。在 Glassfish 上部署应用程序时，它不会采用以下设置的超时：

```
((BindingProvider) port).getRequestContext().put(BindingProviderProperties.CONNECT_TIMEOUT, timeoutInMillisecs); 
```

我将 timeoutInMillisecs 设置为 60000。但我在大约 30 秒内收到连接超时异常。

有人能帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T11:54:23.440

尝试也设置`JAXWSProperties.REQUEST_TIMEOUT`为值`timeoutInMillisecs`（请参阅[如何为客户端定义连接和请求超时？](http://www.centurion.link/w/programming/java/jax#how_to_define_connection_and_request_timeouts_for_the_client)）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-05-03T20:25:12.250

没有其他工作，除了以下

```
((BindingProvider) port).getRequestContext().put("com.sun.xml.ws.request.timeout", "100"); 
```

这在 GlassFish 应用程序中对我有用

# windows - 为什么使用 echo 替换 .txt 文件中的旧文本？

> ID：10039820
> 
> 赞同：2
> 
> 时间：2012-04-06T06:13:25.057
> 
> 标签：windows, echo, batch-file

我想使用 echo 逐步将数据添加到文本文件中。我写了一个小批量代码如下：

```
@echo off
echo >text.txt
set DllCopier_d=./DllCopier

echo %DATE:~04%>text.txt
echo %TIME:~0,5%>text.txt

echo %~dp0%>text.txt 
```

当我最后查看 text.txt 时，我发现只有一行：

```
C:\omsstest_automation\win32\ 
```

这是最后一行的结果。为什么“回声”会导致替换 text.txt 的先前内容？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-06T06:14:02.577

`>`表示使用这些内容创建一个新文件（如果存在则替换旧文件），`>>`表示如果不存在则追加或创建一个新文件。

因此，要拼出您问题的答案，请将`>`第一个之后的后续用法替换为`>>`.

# python - Python QuickSort 仅部分排序

> ID：10039821
> 
> 赞同：0
> 
> 时间：2012-04-06T06:13:26.193
> 
> 标签：python, algorithm, quicksort

我正在学习快速排序算法，但由于某种原因，这个 python 实现的输出只是部分排序，对于更大的输入，我得到了“达到的最大递归深度”。在过去的几天里，我一直在努力解决这个问题，我知道这可能是非常愚蠢的事情，但我似乎无法弄清楚，所以我会很感激任何帮助。

```
def ChoosePivot(list):
    return list[0]  

def Partition(A,left,right):
    p = ChoosePivot(A)
    i = left + 1

    for j in range(left + 1,right + 1): #upto right + 1 because of range()
        if A[j] < p:
                A[j], A[i] = A[i], A[j] #swap
                i = i + 1
    A[left], A[i - 1] = A[i-1], A[left] #swap
    return i - 1

def QuickSort(list,left, right):
    if len(list) == 1: return   
    if left < right:
        pivot = Partition(list,left,right)              
        QuickSort(list,left, pivot - 1)
        QuickSort(list,pivot + 1, right)
        return list[:pivot] + [list[pivot]] + list[pivot+1:]

sample_array = [39,2,41,95,44,8,7,6,9,10,34,56,75,100] 
print "Unsorted list: " 
print sample_array
sample_array = QuickSort(sample_array,0,len(sample_array)-1)
print "Sorted list:"
print sample_array 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T06:55:13.497

不完全确定这是问题所在，但您错误地选择了支点：

```
def ChoosePivot(list):
    return list[0]  
def Partition(A,left,right):
    p = ChoosePivot(A)
    .... 
```

你总是占据原始列表的头部，而不是修改后的列表的头部。

假设在某个时候您将范围缩小到 left=5,right=10 - 您选择 list[0] 作为枢轴 - 这不好。
结果，在`left>0`您忽略列表中的第一个元素并“错过”它的每次迭代中 - 这可以解释部分排序

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T07:14:05.657

```
def ChoosePivot(list):
    return list[0] 
```

正如阿米特所说，这是错误的。你想要`p = A[left]`。但是，还有另一个问题：

```
if A[j] < p:
    A[j], A[i] = A[i], A[j] #swap
i = i + 1 
```

只能在交换时增加枢轴索引。作为语句的一部分，缩进`i = i + 1`到与交换相同的深度。`if`

额外的问题：你为什么要分区两次？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T10:35:58.123

也是最后一次交换；

A[左], A[i - 1] = A[i-1], A[左] #swap

应该用枢轴完成。

除此之外，快速排序就地工作。所以你不需要以下回报；

返回列表[:pivot] + [list[pivot]] + list[pivot+1:]

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-08-24T12:25:48.703

不完全是您问题的答案，但我相信它仍然最相关。

在实现快速排序时选择始终在同一位置的枢轴是算法的一个缺陷。可以生成一系列数字，使您的算法在 O(n^2) 时间内运行，并且绝对运行时间可能比冒泡排序更差。

在您的算法中，选择最左边的项目会使算法在数组已经排序或几乎排序的最坏情况下运行。

**应随机执行枢轴的选择以避免此问题。**

检查 Wikipedia 中算法的实施问题：[http ://en.wikipedia.org/wiki/Quicksort#Implementation_issues](http://en.wikipedia.org/wiki/Quicksort#Implementation_issues)

实际上，检查洞文章。值得你花时间。

# iphone - 哪个是删除通知观察者的更好方法

> ID：10039825
> 
> 赞同：16
> 
> 时间：2012-04-06T06:14:25.910
> 
> 标签：iphone, ios, ipad, nsnotification

我通常像下面的示例一样使用 NSNotification：

在 viewDidLoad 中：

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(foo:) name:kName1 object:nil];
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(bar:) name:kName2 object:nil]; 
```

在 viewDidUnload 和 dealloc 中：

```
[[NSNotificationCenter defaultCenter] removeObserver:self]; 
```

但一位朋友告诉我，我不应该使用`[[NSNotificationCenter defaultCenter] removeObserver:self];`，因为它会删除所有观察者，包括超类的 . 他建议我使用下面的代码来一一移除观察者。

```
[[NSNotificationCenter defaultCenter] removeObserver:self name:kName1 object:nil];
[[NSNotificationCenter defaultCenter] removeObserver:self name:kName2 object:nil]; 
```

我检查了 ASIHttpRequest 库的代码 ( [https://github.com/pokeb/asi-http-request](https://github.com/pokeb/asi-http-request) )。它遵循我朋友的建议。

我想知道我的朋友是对还是错？在我看来，由于当前实例将被卸载或释放，超类的通知也是无用的。并且是否有任何系统 UIViewController 子类使用通知？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-06T09:12:13.363

你的朋友是 100% 正确的。不过，是否删除 dealloc 中的所有通知观察并不重要。
您提到`viewDidUnload`了，情况完全不同，因为卸载的对象将保持活动状态，并且您不知道何时再次添加超类的通知观察。如果将它们添加到 viewDidLoad 中，则不会有问题。如果将它们添加到 init 方法中，您只会丢失一堆重要的通知观察。

删除具有特定名称的观察是一种很好的做法，应该从一开始就完成。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-04-06T06:19:31.300

当您想删除您使用的所有通知时，

```
[[NSNotificationCenter defaultCenter] removeObserver:self]; 
```

如果您想删除您使用的特定通知，

```
[[NSNotificationCenter defaultCenter] removeObserver:self name:kName1 object:nil]; 
```

当您不再需要任何通知时，第一种方法很简单。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-07T14:03:55.340

随着对象消失，`[[NSNotificationCenter defaultCenter] removeObserver:self];`在`dealloc`方法中使用它是安全的。

在`ViewDidUnload`方法中，您最好一个一个地删除每个观察者，因为对控制器的引用仍然存在（并且您的对应`viewDidLoad`应该将它们全部添加回来）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-06T06:20:50.897

我用的是第一种方式，从来没想过对不对。如果调用了 dealloc，那么无论如何都会释放对象（超级对象）。您绝对不想要的是将 NSNotification 发送到已释放的实例。

# mysql - 想要在查询中添加 if 条件

> ID：10039827
> 
> 赞同：1
> 
> 时间：2012-04-06T06:14:45.510
> 
> 标签：mysql, sql, postgresql

我正在创建一个查询来获取每季度的数据。

我在表中有*4 个字段*， 每个季度有 3 个月，`user_target``quarter1``quarter2``quarter3``quarter4`

```
quater1 - Jan Feb March
quater2 - Apr May June
quater3 - July Aug Sept
quater4 - Oct Nov Dec 
```

现在，当我将 $P{month} 作为 Jan、Feb 或 March 传递时，我应该得到第 1 季度的数据。同样，当我将 $P{month} 作为 Apr、May 或 June 传递时，我应该获取第 2 季度等的数据。我不想为不同的月份编写 4 个不同的查询。可以在单个查询本身中实现吗？

我对 quater1 的查询如下：

```
select    sum(t.quarter1) as quarter ,
          s.name as sname, f.name as fname, m.name as pname 
from user_target t, res_salesteam s, 
     account_fiscalyear f,res_users u, res_users ru, account_month m
where t.salesteam_id = s.id and 
      t.fiscal_year = f.id and  
      f.id = $P{fiscalyear} and 
      p.fiscalyear_id = f.id and 
      m.id = $P{month} and 
      u.parent_id = ru.id and 
      ru.id = $P{name} and (u.tri_salesteam = s.id or ru.tri_salesteam = u.id)
group by s.name, f.name, m.name order by s.name 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T10:58:59.483

您可以使用[CASE ... END](http://dev.mysql.com/doc/refman/5.0/en/case-statement.html)逻辑构造

```
SELECT sum(CASE
    WHEN $P{month} IN ('Jan','Feb','March') THEN t.quarter1
    WHEN $P{month} IN ('Apr','May','June') THEN t.quarter2
    WHEN $P{month} IN ('July','Aug','Sept') THEN t.quarter3
    WHEN $P{month} IN ('Oct','Nov','Dec') THEN t.quarter4
    ELSE 0 END) AS quarter,
    s.name as sname, f.name as fname, m.name as pname
  FROM ... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T06:57:18.823

使用 MYSQL 函数`QUARTER()`获取传递日期的季度并`sum` 根据返回的季度使用`if /else`

试试下面：

```
select sum(if(QUARTER(start_date)=1,t.quarter1,0)) as quarter1,
SUM(if(QUARTER(start_date)=2,t.quarter2,0)) as quarter2,
SUM((QUARTER(start_date)=3,t.quarter3,0)) as quarter3,
SUM(IF(QUARTER(start_date)=4,quarter4,0)) as quarter4,s.name as sname, f.name as fname, m.name as pname 
    from user_target t, res_salesteam s, account_fiscalyear f,res_users u, res_users ru, account_month m
    where t.salesteam_id = s.id and t.fiscal_year = f.id and  f.id = $P{fiscalyear} and p.fiscalyear_id = f.id and m.id = $P{month}
    and u.parent_id = ru.id and ru.id = $P{name} and (u.tri_salesteam = s.id or ru.tri_salesteam = u.id)
    group by s.name, f.name, m.name order by s.name 
```

# php - 在 Wordpress 网站中显示谷歌地图

> ID：10039843
> 
> 赞同：0
> 
> 时间：2012-04-06T06:16:23.843
> 
> 标签：php, jquery, wordpress

我想在我的 wordpress 网站中显示谷歌地图。

我使用了下面的脚本，并且还包含 jquery-1.6.3.min.js、jquery.gomap-1.3.2.min.js jQueries，但我仍然无法显示地图。

```
 <script type="text/javascript">
      $(document).ready(function() {
      $('#map').goMap({
      width: 760px,
      height: 400px,
      address : '2200 NE 71st Ave Portland, OR, USA',
      latitude : 45,
      longitude : -122,
      zoom : 15
      }); // end goMap
      }); // end ready
    </script>
    <div id="map"></div> 
```

任何建议或参考都会非常有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:31:11.520

在你的 function.php 文件中写这个 shordcode 函数

```
//[gmap]
function gmap_func{
 $map = " <script type='text/javascript'>
      $(document).ready(function() {
      $('#map').goMap({
      width: 760px,
      height: 400px,
      address : '2200 NE 71st Ave Portland, OR, USA',
      latitude : 45,
      longitude : -122,
      zoom : 15
      }); // end goMap
      }); // end ready
    </script>
    <div id='map'></div>"
 return $map;
}
add_shortcode( 'gmap', 'gmap_func' ); 
```

并在需要显示的地方编写 [gmap] 短代码...

# android - Android关于滚动的简单东西

> ID：10039844
> 
> 赞同：0
> 
> 时间：2012-04-06T06:16:25.380
> 
> 标签：android, scroll

由于我不知道如何向谷歌询问，我会在这里尝试。

我基本上有一个从意图显示的 listView 。此 listView 由自定义 BaseAdapter 提供。

这个 listView 实际上是一个日历。我希望在具有此日历 listView 的活动开始时它已经滚动到当天。

基本上我在问如何将 listview 预滚动到 listView 的索引？这可能吗 ？具有自定义 BaseAdapter 的功能？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T06:27:07.193

您可以使用以下方法 - 此方法保存保存列表滚动位置。

```
private void saveListScrollPosition() {
    // save index and top position
    index = _listview.getFirstVisiblePosition();
    View view = _listview.getChildAt(0);
    top = (view == null) ? 0 : view.getTop();
} 
```

而这个取回它并自动向下滚动 -

```
private void restoreListScrollPosition() {
    // restore
    _listview.setSelectionFromTop(index, top);
} 
```

我认为在您的情况下，索引将是当前日期。对？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:27:17.500

采用，

```
list.setSelection(index); 
```

# ruby-on-rails - rails，如何在jquery中引用action mailer

> ID：10039847
> 
> 赞同：0
> 
> 时间：2012-04-06T06:16:39.123
> 
> 标签：ruby-on-rails, ajax, actionmailer

我想在 ajax 方法完成后执行一个动作邮件方法。我本质上构建了一个 twitter 应用程序，并希望在有人点击“关注”后发送电子邮件通知，这是异步完成的。

我给了关注按钮一个ID

```
<%= f.submit "Follow", :class => "btn btn-large btn-primary", 
        :id => "follow_button"%> 
```

然后用jquery

```
$("#follow_button").bind('ajax:success', function() {

}); 
```

但是，我真的很确定如何在 jquery 中引用我的 UserMailer。最终我试图在我的 ajax 完成后执行这一行

```
UserMailer.is_now_following(@user, current_user).deliver 
```

谢谢！

嗯，我尝试在我的创建函数中添加那行代码（以创建跟随关系），但它落后于我的 ajax 很多。ajax 是在单击“关注”后呈现“取消关注”按钮。

```
 def create
    @user = User.find(params[:relationship][:followed_id])
    current_user.follow!(@user)
    respond_to do |format|
        format.html {redirect_to @user}
        format.js
    end

    #UserMailer.is_now_following(@user, current_user).deliver
  end 
```

我把它注释掉了。这是我的ajax调用成功后添加它的意思吗？另外，您如何将工作放在队列中？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T07:47:43.150

更好的解决方案是只在您的服务器而不是在您的客户端这样做。

如果你愿意，你需要做 2 个请求。1个关注人，1个启动邮件。如果您的用户在这 2 个请求之间停止此应用程序，则不会发送电子邮件。

更好的解决方案是直接在您的后续操作中启动您的邮件程序。在您的控制器中，您知道请求是否成功。如果请求成功，则启动电子邮件。

如果您想要更多的反应性并避免直接在您的操作中执行此作业，您可以将邮件操作推送到作业队列。

# vim - 模糊查找器：处理功能时检测到错误 19_onCommandPre

> ID：10039849
> 
> 赞同：3
> 
> 时间：2012-04-06T06:16:42.343
> 
> 标签：vim, fuzzyfinder

输入命令时，我收到如下错误：

```
:w
Error detected while processing function <SNR>19_onCommandPre..fuf#mrucmd#onCommandPre..<SNR>25_updateInfo..fuf#updateMruList:
line    2:
E121: Undefined variable: word
line    5:
E121: Undefined variable: word 
```

这是一个错误还是只是由于我的配置不正确造成的？

我`let g:fuf_modesDisable=[]`在我的 .vimrc 中设置。

而我使用的vim版本如果vim 7.3，fuzzyfinder版本是fuzzyfinder 4.2.2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-06-27T18:17:42.983

我有相同（或非常相似）的问题。我已经针对 FuzzyFinder提出[了问题。](https://bitbucket.org/ns9tks/vim-fuzzyfinder/issue/64/error-detected-while-processing-function)

如果您点击链接，您将找到我的调查详细信息以及解决方案。如果没有其他工作，我相信清除`~/.vim-fuf-data`目录就可以了。但最好先尝试问题中描述的内容（`~/.vim-fuf-data/mrufile/items`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-28T16:57:47.670

我遇到了同样的错误。删除 FuzzyFinder 数据文件为我解决了这个问题。当然，我现在是从头开始，但它有效！

删除以下内容：

```
~/.vimfuzzyfinder 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-08-18T07:50:25.713

只是做一个插件安装似乎为我解决了这个问题

# eclipse - eclipse的可视滚动条插件

> ID：10039852
> 
> 赞同：1
> 
> 时间：2012-04-06T06:17:03.193
> 
> 标签：eclipse, eclipse-plugin

我正在寻找 Eclipse 的可视滚动条，比如[RockScroll](http://www.hanselman.com/blog/IntroducingRockScroll.aspx)有人知道吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-24T07:26:22.050

这是我发现的两个选项：

*   小地图插件：[https ://github.com/apauzies/eclipse-minimap-view](https://github.com/apauzies/eclipse-minimap-view)
*   概述插件：[http ://sandipchitale.blogspot.se/2013/02/overview-plugin-for-eclipse.html](http://sandipchitale.blogspot.se/2013/02/overview-plugin-for-eclipse.html)

遗憾的是，这两个都没有按我想要的方式缩放，我希望它可以缩放以显示整个文件，即使是大文件，但据我所知，这些只能缩放到一个限制。

# dynamics-crm - 在由服务活动工作流触发的 CRM 2011 电子邮件模板中按客户的名字称呼客户

> ID：10039855
> 
> 赞同：1
> 
> 时间：2012-04-06T06:17:25.733
> 
> 标签：dynamics-crm, dynamics-crm-2011

如果客户使用我的 Web 应用程序安排服务活动并且我想向他们发送一封自动确认电子邮件，我似乎有两个选择：

*   让工作流创建并发送新的电子邮件。在此视图中（见下文），您可以在服务活动中使用相关实体的字段（例如客户的名字）。

![http://i.stack.imgur.com/FAlFe.png](../Images/532eb50f6c1c270e0b60aba2c644a287.png)

*   让工作流使用电子邮件模板。似乎电子邮件模板不允许您访问相关实体的字段，例如名字，所以这里唯一的选择是用他们的全名来称呼客户。

![http://i.stack.imgur.com/GkimJ.png](../Images/0e36deb09df02a824f123b0a1b572508.png)

是否有任何我错过的解决方案，或者如果我想在这封自动电子邮件上以个人、自然的方式与客户联系，我是否坚持第一个选项？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-09T04:00:08.803

不幸的是，CRM 在这方面非常有限。最好的解决方法是添加`firstname`到`Service Activity`实体中。可能适合你，也可能不适合。否则，它可以通过 SDK 实现，但如果您还没有使用它，那就更复杂了。

# iphone - 如何从 AppDelegate 获取 navController。

> ID：10039856
> 
> 赞同：7
> 
> 时间：2012-04-06T06:17:30.097
> 
> 标签：iphone, objective-c, ios, uinavigationcontroller, uiapplicationdelegate

我想知道，如何从`AppDelegate = [[UIApplication sharedApplication] delegate]`iPhone 编程中获取 navController。例如，在我们引用 AppDelegate 的其他 viewController 中。

在 applicationDelegate.h 我们有：

```
UINavigationController *navController; 
```

以及 applicationDelegate.m 中的以下内容

```
- (void)applicationDidFinishLaunching:(UIApplication *)application {    

   [window addSubview: navController.view];
   [window makeKeyAndVisible];
} 
```

无论如何从主窗口获取导航控制器：

```
UIWindow *mainWindow = [appDelegate window]; 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-04-06T06:33:38.137

如果这个其他 UIViewController 包含在 UINavigationController 中，您可以简单地调用：

```
UINavigationController *navController = self.navigationController; 
```

从 UIViewController。

否则，您可以将 UINavigationController 设置为 AppDelegate 中的属性。

```
// AppDelegate.h
@property (nonatomic, strong) UINavigationController *navController; 
```

然后访问`appDelegate.navController`.

或者，您可以将 UINavigationController 设置为窗口的 rootViewController：

```
[window setRootViewController:navController]; 
```

并从任何地方拨打电话：

```
UINavigationController *navController = window.rootViewController; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-06T06:27:26.183

您可以将 navController 设为属性

```
@property (nonatomic,strong) UINavigationController *navController; 
```

然后只需从您的 appdelegate 访问它

```
appDelegate.Controller 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-06T06:26:24.220

您可以将其`navController`作为委托类的属性。下面的示例：

在 applicationDelegate.h

```
@property (retain, nonatomic) UINavigationController *navController; 
```

在 applicationDelegate.m

```
@synthesize navController; 
```

那么您可以使用以下代码在其他类中获取 navController（假设您的委托类是`MyApplicationDelegate`）：

```
appDelegate = (MyApplicationDelegate*)[[UIApplication sharedApplication] delegate];
UINavigationController *navController = appDeleagte.navController 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-09T23:12:35.603

不需要额外的属性，几乎可以在应用程序的任何地方使用这个宏定义：

```
#define mainNavController (((AppDelegate*)[[UIApplication sharedApplication] delegate]).navController) 
```

当您将宏放在源代码的顶部或导入到源代码的 .h 头文件中时，您可以开始使用 mainNavController ，就好像它是一个局部变量一样。

例如：

```
[mainNavController pushViewController:myViewController animated:YES]; 
```

或者没有宏，直接在代码中：

```
AppDelegate *appDelegate = (AppDelegate*)[[UIApplication sharedApplication] delegate];
appDelegate.navController; // do something with the navController 
```

您几乎可以在任何地方使用此代码，如果您在类中工作并且无法直接访问 ViewController，这将非常方便。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2012-04-06T06:27:43.433

如果您是初学者和学习者，导航控制器将在整个应用程序中共享，这只会准备应用程序视图控制器的“堆栈”，因此您可以通过应用程序访问任何视图控制器中的导航控制器（仅当该控制器已被推送时） . 当您推送任何控制器时，它将添加到导航控制器的“堆栈”中。

您可以使用该视图控制器本身的 self 对象访问导航控制器。

```
[self.navigationController pushViewController:detail animated:YES]; 
```

通过链接将提供导航解剖学的完整知识。

[http://developer.apple.com/library/ios/#documentation/WindowsViews/Conceptual/ViewControllerCatalog/Chapters/NavigationControllers.html](http://developer.apple.com/library/ios/#documentation/WindowsViews/Conceptual/ViewControllerCatalog/Chapters/NavigationControllers.html)

# php - 为什么我在将每个对象作为数组获取时出错？

> ID：10039857
> 
> 赞同：0
> 
> 时间：2012-04-06T06:17:35.107
> 
> 标签：php, json, curl, yql

我正在尝试单独打印 API 调用的结果。我正在调用 YQL API 调用。

这是我正在使用的 PHP 脚本

```
 <?php
  if (!$_REQUEST["q"]) return;

  $query = $_REQUEST["q"];

  $q = "'http://google.com/complete/search?output=toolbar&q=$query'";

  $query = "select * from xml where url=$q";
  $url = "http://query.yahooapis.com/v1/public/yql?q=";
  $url .= rawurlencode($query);
  $url .= "&format=json&env=store://datatables.org/alltableswithkeys";

  function get_data($url) {
  $ch = curl_init();
  $timeout = 5;
  curl_setopt($ch,CURLOPT_URL,$url);
  curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);
  curl_setopt($ch,CURLOPT_CONNECTTIMEOUT,$timeout);
  $data = curl_exec($ch);
  curl_close($ch);
  return $data;
 }

$data = get_data($url);

 // decode the data and get the first result set.
 $info = json_decode($data);

 foreach( $info['suggestion']['data'] as $i ) {
 echo $i;
 }
 ?> 
```

我从 API 调用中得到的结果是

```
cbfunc({
"query": {
"count": 1,
"created": "2012-04-06T06:13:57Z",
"lang": "en-US",
"diagnostics": {
"publiclyCallable": "true",
"url": {
"execution-start-time": "2",
"execution-stop-time": "59",
"execution-time": "57",
"proxy": "DEFAULT",
"content": "http://google.com/complete/search?output=toolbar&q=fb"
 },
 "user-time": "59",
 "service-time": "57",
 "build-version": "26247"
 },
"results": {
"toplevel": {
"CompleteSuggestion": [
 {
  "suggestion": {
   "data": "fb"
  },
  "num_queries": {
   "int": "1260000000"
  }
 },
 {
  "suggestion": {
   "data": "fbi"
  },
  "num_queries": {
   "int": "155000000"
  }
 },
 {
  "suggestion": {
   "data": "fbi most wanted"
  },
  "num_queries": {
   "int": "54800000"
  }
 },
 {
  "suggestion": {
   "data": "fbi jobs"
  },
  "num_queries": {
   "int": "119000000"
  }
 },
 {
  "suggestion": {
   "data": "fb covers"
  },
  "num_queries": {
   "int": "82100000"
  }
 },
 {
  "suggestion": {
   "data": "fb banners"
  },
  "num_queries": {
   "int": "13300000"
  }
 },
 {
  "suggestion": {
   "data": "fbook"
  },
  "num_queries": {
   "int": "4050000"
  }
 },
 {
  "suggestion": {
   "data": "fbisd"
  },
  "num_queries": {
   "int": "84300"
  }
 },
 {
  "suggestion": {
   "data": "fbanners"
  },
  "num_queries": {
   "int": "789000"
  }
 },
 {
  "suggestion": {
   "data": "fbo"
  },
  "num_queries": {
   "int": "13000000"
   }
  }
 ]
}
}
}
}); 
```

我正在尝试迭代建议对象，并尝试打印建议对象的数据属性。

我收到以下错误：

```
Fatal error: Cannot use object of type stdClass as array 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T08:11:26.087

这可能会解决您的问题：

```
foreach( $info['query']['results']['toplevel']['CompleteSuggestion'] as $i ) {
 echo $i['suggestion']['data'];
 echo "<br>";
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T06:43:13.443

好吧，它正在返回由 javascript 回调函数包装的数据...。您可以从头到尾`cbfunc(JSON_RESPONSE_DATA);`删除，然后执行...瞧！...您得到了数组...`cbfunc(``);``print_r(json_decode(REST_OF_THE_RESPONSE, true));`

希望这可以帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T06:20:46.900

要排列输出，您需要将`true`参数作为第二个。否则它的返回对象。参见：[json_decode](http://php.net/manual/en/function.json-decode.php)

```
// decode the data and get the first result set.
$info = json_decode($data, true);
//var_dump($info);

foreach( $info['suggestion']['data'] as $i ) {
   echo $i;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-06T06:21:00.973

尝试使用`json_decode($data, true);`. 请参阅手册：[json_encode()](http://php.net/manual/en/function.json-decode.php)。

> 第二个参数为 TRUE 时，返回的对象将被转换为关联数组。

# java - JVM 自动重启

> ID：10039859
> 
> 赞同：3
> 
> 时间：2012-04-06T06:17:57.353
> 
> 标签：java, tomcat, jvm, logging, tomcat5.5

当 cpu 达到 100% 时，我的 jvm 会自动重新启动并显示以下错误消息。为什么会发生？

**错误：**

```
ERROR | wrapper | 2012/04/05 20:00:31 | Shutdown failed: Timed out waiting for signal from JVM.
ERROR | wrapper | 2012/04/05 20:00:31 | JVM did not exit on request, terminated
STATUS | wrapper | 2012/04/05 20:00:36 | Launching a JVM...
INFO | jvm 4 | 2012/04/05 20:00:38 | WrapperManager: Initializing...
INFO | jvm 4 | 2012/04/05 20:00:43 | Apr 5, 2012 8:00:43 PM org.apache.coyote.http11.Http11BaseProtocol init
    INFO | jvm 4 | 2012/04/05 20:00:43 | INFO: Initializing Coyote HTTP/1.1 on http-8181
    INFO | jvm 4 | 2012/04/05 20:00:43 | Apr 5, 2012 8:00:43 PM org.apache.catalina.startup.Catalina load
    INFO | jvm 4 | 2012/04/05 20:00:43 | INFO: Initialization processed in 2375 ms
    INFO | jvm 4 | 2012/04/05 20:00:43 | Apr 5, 2012 8:00:43 PM org.apache.catalina.core.StandardService start
    INFO | jvm 4 | 2012/04/05 20:00:43 | INFO: Starting service Catalina
    INFO | jvm 4 | 2012/04/05 20:00:43 | Apr 5, 2012 8:00:43 PM org.apache.catalina.core.StandardEngine start
    INFO | jvm 4 | 2012/04/05 20:00:43 | INFO: Starting Servlet Engine: Apache Tomcat/5.5.25
    INFO | jvm 4 | 2012/04/05 20:00:44 | Apr 5, 2012 8:00:44 PM org.apache.catalina.core.StandardHost start 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T07:07:16.040

这不是正在重新启动的 JVM。您正在使用的包装脚本正在关闭它并重新启动。这就是它的配置方式。看起来您的应用程序占用了大量 CPU。您可以尝试通过堆转储和 GC 日志来查看它是否与垃圾收集器有关。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T07:05:03.743

根据您的评论，您没有为 Tomcat 指定任何内存配置。我的猜测是 Tomcat 正在使用执行所有请求所需的任何内存。正如我之前所说，Tomcat 在 CPU 达到 100% 之前消耗最大可用内存时应该抛出 PermgenSpace 错误。[（然后你当然需要手动重启。）如果为 tomcat server 设置预定义的内存配置，](http://www.coderanch.com/t/87422/Tomcat/increase-java-heap-size)则可以避免这种情况。

此外，如果您正在加载应用程序，`<Context>`那么指定`reloadable="false"`也会使 Tomcat 不会自动重新加载上下文。

# java-me - 使用 LWUIT 在 Myphone TW1 Duo 上以横向模式构建应用程序

> ID：10039863
> 
> 赞同：2
> 
> 时间：2012-04-06T06:18:20.003
> 
> 标签：java-me, midp

我想使用 LWUIT 在 MyPhone TW1 Duo 上以横向模式运行我的应用程序。

在诺基亚设备中，我在 JAD 中添加以下属性：

```
Nokia-MIDlet-App-Orientation - Landscape
Samsung devices : MIDlet-ScreenMode :Landscape 
```

但是，当我在 MyPhone TW1 Duo 上添加这两个属性时，它不会在横向上播放应用程序，而是在纵向上播放。

如何将 MyPhone TW1 Duo 上的 LWUIT 应用程序限制为仅横向？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-08-16T12:59:14.497

没有通用代码仅在横向模式下构建应用程序。只是，诺基亚和三星等著名的移动提供商赋予了 JAD 属性，以将应用程序限制为仅横向或纵向模式。

如果您在 JAD 中使用**MIDlet-ScreenMode :Landscape**，则无法在诺基亚 C5 中安装应用程序，因为自定义 jad 属性不能以名称**Midlet- 开头**。

[如何在 j2me 应用程序中锁定横向模式？](https://stackoverflow.com/questions/11098607/how-to-lock-the-landscape-mode-in-j2me-app).

如果您使用的是 Canvas，请尝试此操作。

[为 Asha 303 创建风景游戏画布](https://stackoverflow.com/questions/10923801/create-landscape-game-canvas-for-asha-303/10929977#10929977)

# php - Facebook 应用程序身份验证

> ID：10039870
> 
> 赞同：0
> 
> 时间：2012-04-06T06:18:52.360
> 
> 标签：php, facebook

我制作了一个 fb PHP 应用示例，并让我的朋友使用它。我希望他看到一个应用授权对话框。但是出现了错误消息“发生错误。请稍后再试”消息。
即使我们在 FB SDK for PHP 中使用示例程序，我们也得到了相同的结果。

在我将他添加为 Facebook 上应用程序设置页面的测试员后，他可以使用该应用程序。但是在我在设置页面上删除他后，他收到了相同的错误消息。
我（Facebook 应用程序设置中的应用程序管理员）在我的应用程序上没有看到错误消息。

我一直在寻找解决方案。我检查了以下内容。

1.  应用程序的设置；应用程序 ID、站点 URL、画布 URL 和应用程序域应该是正确的。（否则我不会使用该应用程序）
2.  沙盒模式被禁用。

请建议我让他使用该应用程序而不在设置页面上添加他。
我错过了什么或做错了什么？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T17:18:58.777

您一直在使用什么托管......为您的应用程序以及您如何知道如何计算出 https url

当我尝试将我的应用程序与 facebook.com/socialserver 一起使用以获取免费的 https 服务时，我遇到了同样的问题，在这种情况下，我首先在我的管理下尝试了我的应用程序，然后完全在我的朋友管理下尝试了我的应用程序，然后再次返回给我。

最后，我不得不停止考虑免费服务并切换到服务的广告版本..

# jquery - 鼠标悬停时闪烁图像

> ID：10039871
> 
> 赞同：1
> 
> 时间：2012-04-06T06:18:56.760
> 
> 标签：jquery, animation, setinterval

我需要在鼠标悬停时闪烁图像，并在鼠标移出后停止闪烁。但是“flash_imgs”总是在鼠标移到 div 上时被调用。

如果我使用 2 个按钮（#start、#stop）和 .click() - 一切正常。但我只需要'mouseover'和'mouseout'。

HTML：

```
<div class="container">
    <img src="img1.gif" alt="" class="slide">
    <img src="img2.gif" alt="" class="slide">
    <img src="img3.gif" alt="" class="slide">
    <img src="img4.gif" alt="" class="slide">
</div> 
```

风格：

```
<style type="text/css">
    img { position: absolute;   width: 600px; height: 300px;}
    div.container { border: 1px solid red;  width: 600px; height: 300px; }
</style> 
```

JS：

```
(function() {
    var enable = null,
        container = $('div.container'),
        imgs = container.find('img'),
        timeInOut = 1000,
        intervalTime = imgs.length * timeInOut;

    imgs.each( function( ){
        $(this).hide();
    });

    function flash_imgs( images, time ){
        images.each( function( i ){
            $(this).delay( time * i ).fadeIn( time / 2 ).fadeOut( time / 2 );
        });
    }

    container.on('mouseover', function(){
        flash_imgs( imgs, timeInOut );
        enable = setInterval(flash_imgs, intervalTime, imgs, timeInOut);
    });

    container.on('mouseout', function(){
        clearInterval(enable);
    });
})(); 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:28:17.207

鼠标悬停可能是错误的事件。每次您移动鼠标时，它都会重新触发，并且您将建立一个队列。因此，首先要做的是换入`mouseenter`而`mouseleave`不是。

接下来，您将只清除鼠标移出的时间间隔，这意味着它不可能立即停止。我相信 jQuery 有一个`.stop()`可以用于动画的功能，但我想我会把这部分留给你……因为我觉得启用闪烁内容很脏。;-)

[http://jsfiddle.net/FnTan/](http://jsfiddle.net/FnTan/)

```
container.on('mouseenter', function(){
    flash_imgs( imgs, timeInOut );
    enable = setInterval(flash_imgs, intervalTime, imgs, timeInOut);
});

container.on('mouseleave', function(){
    clearInterval(enable);
}); 
```

# blackberry - 隐藏黑莓中的所有默认菜单项

> ID：10039874
> 
> 赞同：1
> 
> 时间：2012-04-06T06:19:15.400
> 
> 标签：blackberry

我不得不删除黑莓中的所有默认菜单。我使用了以下代码

```
protected void makeMenu(Menu menu, int instance) {  
        // if you want default menu items, uncomment bellow line  
        // super.makeMenu(menu, instance);  
    } 
```

但在此之后，它仍然显示默认菜单，如“切换应用程序”，因为我`super(NO_SYSTEM_MENU_ITEMS)`在屏幕类构造函数中使用过。

现在所有菜单都被删除了，但它仍然显示“空菜单”，如下图所示。![在此处输入图像描述](../Images/5371f397f4f17588819082859ef14978.png)

请让我知道我们如何删除所有菜单项并将其清空？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-04-06T06:55:56.437

在你的主屏幕上试试这个

```
public boolean onMenu(int instance) {
    // TODO Auto-generated method stub
    return false;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T08:12:11.900

你也可以这样做。

```
public boolean onMenu(int instance) {
    return super.onMenu(2);
} 
```

因为创建菜单实例的值为 0。因此，对于任何非零值，它都不会创建菜单。

# c# - 将当前日期分配给 MVC 中的属性

> ID：10039876
> 
> 赞同：1
> 
> 时间：2012-04-06T06:19:31.033
> 
> 标签：c#, asp.net-mvc, asp.net-mvc-3

我正在为用户创建一个模型，并且我希望将加入的属性设置为 Now()。这是我的代码：

```
[DefaultValue(DateTime.Now)]
public DateTime joined {get; set;} 
```

我得到错误：

> 属性参数必须是属性参数类型的常量表达式、typeof 表达式或数组创建表达式。

我究竟做错了什么？什么是做我想做的最好的方法？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-04-06T06:24:24.987

`DateTime.Now`不是一个常数，而是一个在运行时计算的属性，这就是为什么你不能按照你的建议去做。

您可以使用以下任一方式执行您的建议：

```
public class MyClass {
  public DateTime joined { get; set; }
  public MyClass() {
    joined = DateTime.Now;
  }
} 
```

或者：

```
public class MyClass {
  private DateTime _joined = DateTime.Now;
  public DateTime joined { get { return _joined; } set { _joined = value; } }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-06T06:22:25.500

你可以在你的模型类中试试这个：

```
private DateTime _joined = DateTime.Now;
public DateTime Joined 
{
  get { return _joined; }
  set { _joined = value; }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-04-06T06:25:52.533

您不能将表达式设置为默认值属性。因为数据注释不是运行时属性。您应该像这样设置默认值

```
private DateTime _joined = DateTime.Now;
public DateTime Joined 
{
  get { 
      return _joined; 
  }
  set { 
      _joined = value; 
  }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-04-06T07:13:15.493

您可以按照其他人的建议进行操作，但另一种选择是在您的操作方法中设置它，在您从视图模型映射到域之后并且在将其添加到数据库之前（如果这是您需要做的）：

```
[HttpPost]
public ActionResult Create(YourViewModel viewModel)
{
     // Check if view model is not null and handle it if it is null

     // Do mapping from view model to domain model
     User user = ...  // Mapping
     user.DateJoined = DateTime.Now;

     // Do whatever else you need to do
} 
```

您的用户的 domail 模型：

```
public class User
{
     // Other properties here

     public DateTime DateJoined { get; set; }
} 
```

我个人会在 action 方法中设置它，因为日期和时间会更接近用户实际添加到数据库的时间（假设这是你想要做的）。假设您在 12:00 创建用户对象，那么这将是您将用户添加到数据库的时间，但是如果您只在 12:30 点单击提交按钮呢？我更喜欢 12:30 而不是 12:00。

# ruby-on-rails - has_many 在谁调用了destroy的条件下通过关联依赖的destroy

> ID：10039880
> 
> 赞同：8
> 
> 时间：2012-04-06T06:19:54.777
> 
> 标签：ruby-on-rails, associations, destroy

有没有办法在一个`before_destroy`钩子中检查调用了什么对象（类）`destroy`？

在下面的示例中，当 a`patient`被销毁时，它们的也被销毁`appointments`（这就是我想要的）；`physician`但是，如果有任何`appointments`关联，我不想让 a被销毁`physician`。

`before_destory`同样，有没有办法在回调中进行这样的检查？如果没有，有没有其他方法可以根据调用的“方向”（即根据谁调用）来完成这个“破坏检查”？

```
class Physician < ActiveRecord::Base
  has_many :appointments, dependent: :destroy
  has_many :patients, through: :appointments
end

class Patient < ActiveRecord::Base
  has_many :appointments, dependent: :destroy
  has_many :physicians, through: :appointments
end

class Appointment < ActiveRecord::Base
  belongs_to :patient
  belongs_to :physician

  before_destroy :ensure_not_referenced_by_anything_important

  private

  def ensure_not_referenced_by_anything_important
    unless patients.empty?
      errors.add(:base, 'This physician cannot be deleted because appointments exist.')
      false
    end
  end
end 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-24T07:37:56.127

请注意，`dependent: :destroy`在`has_many :through`关系上只删除关联**而不**删除关联记录（即*连接记录将被删除，但关联记录不会*）。所以如果你删除 a`patient`它只会删除`appointment`而不是`physician`. 阅读[API 文档](http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html#method-i-has_many)中的详细说明。

我已经粘贴了下面的相关段落。

**什么会被删除？**

这里有一个潜在的陷阱：关联在连接表中具有记录，`has_and_belongs_to_many`以及`has_many :through`关联的记录。那么当我们调用其中一种删除方法时，究竟应该删除什么？

答案是假设删除关联是关于删除所有者和关联对象之间的链接，而不是关联对象本身。因此，使用`has_and_belongs_to_many`and `has_many :through`，连接记录将被删除，但关联记录不会。

如果您考虑一下，这是有道理的：如果您要调用`post.tags.delete(Tag.find_by_name('food'))`，您会希望`food`标签与 取消链接`post`，而不是从数据库中删除*标签本身。*

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-04-06T08:28:39.153

说啊：

```
class Physician < ActiveRecord::Base
  has_many :appointments, dependent: :restrict_with_exception
  has_many :patients, through: :appointments
end 
```

注意`dependent: :restrict_with_exception`. 这将导致 Active Record 拒绝销毁任何具有相关约会记录的医师记录。

请参阅[API 文档](http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html#method-i-has_many)和[关联基础指南](http://guides.rubyonrails.org/association_basics.html#dependent)。

# list - 如何将列表中的数字作为方案中的参数传递？

> ID：10039883
> 
> 赞同：1
> 
> 时间：2012-04-06T06:20:02.890
> 
> 标签：list, parameters, scheme

我需要从列表中获取一个数字并将其转换为一个数字，以便我可以将其作为参数传递。

我试图在方案中制作一个 1 位加法器。我已经为或门和异或门以及半加器编写了代码，现在我试图将它们全部组合成一个全加器。我不确定我是否以正确的方式去做。任何输入将不胜感激谢谢。

```
(define or-gate
 (lambda (a b)
  (if (= a 1)
    1
    (if (= b 1)
    1
    0))))
(define xor-gate
 (lambda (a b)
  (if (= a b)
    0
    1)))

(define ha
 (lambda (a b)
  (list (xor-gate a b)(and-gate a b))))

(define fa
 (lambda (a b cin)
  (or-gate (cdr(ha cin (car (ha a b))))(cdr(ha a b))))) 
```

我在运行程序时遇到的问题是半加法器 (ha) 函数将列表作为值输出，这使得这些值与我的其他程序不兼容，因为它们需要数字而不是列表。我觉得有一个简单的解决方案，但我不知道。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T06:56:41.267

如果你有合同，阅读你的代码会容易得多；我花了很长时间才推断出你的半加器正在返回一个位列表。

接下来，在我看来，您对“cdr”有一个简单的问题。“cdr”运算符不返回列表的第二个元素，而是返回列表的“其余部分”。查看 (cdr (list 1 1)) 和 1 之间的区别。第一个生成包含 1 的列表，第二个生成数字 1。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T16:04:28.383

为避免混淆，最好使用过程`first`和`second`代替`car`和`cadr`分别访问列表的第一个和第二个元素。请注意，`cdr`它*不会*返回列表的第二个元素，而是返回列表的*其余部分*，即另一个列表。

无论如何，`fa`问题中的程序对我来说看起来不正确。它应该返回一个包含`sum`和`cout`值的列表。这是实现它的一种可能方法，按照建议使用`first`和：`second`

```
(define fa
  (lambda (a b cin)
    (list (first (ha a (first (ha b cin))))
          (or-gate (second (ha a (first (ha b cin))))
                   (second (ha b cin)))))) 
```

...但这看起来令人困惑。请注意，我们`(ha b cin)`分三个部分进行计算，更好的做法是将重复计算保存在变量中，如下所示：

```
(define fa
  (lambda (a b cin)
    (let* ((partial1 (ha b cin))
           (partial2 (ha a (first partial1))))
      (list (first partial2)
            (or-gate (second partial2) (second partial1)))))) 
```

最后一点，在[SICP](http://mitpress.mit.edu/sicp/full-text/book/book.html)书中，作为数字电路模拟器的一部分，加法器的实现非常好，请[查看](http://mitpress.mit.edu/sicp/full-text/book/book-Z-H-22.html#%_sec_3.3.4)它以获取有关如何改进代码的更多想法。

# php - 多级类别添加/更新

> ID：10039887
> 
> 赞同：0
> 
> 时间：2012-04-06T06:20:44.393
> 
> 标签：php, mysql, database

关于stackoverflow的第一个问题。我使用了 [一种更动态的嵌套多级类别](https://stackoverflow.com/questions/7646313/a-more-dynamic-way-of-nesting-multi-level-categories)的方法来为我的作业创建多级类别表。

我在**类别**表中有用于管理父子关系的**childof**字段。我很清楚基于 childof 获取这些类别。根类别将具有“childof = 0”。

 **在添加新类别时，我将代表表单中所有类别的**选择父级下拉菜单**，用户将为这个新类别子级（要添加的）选择一个父级。

我对更新类别感到困惑：-

在更新类别时，我遇到了两个问题。a）我不能在 **选择父级下拉列表**中使用当前选择的类别，因为这会将父级分配给自身。我的意思是相同的 id 不能有相同的 childof id ?? 你怎么看 ？

b）如何编辑根类别？编辑它们的父级并将它们移动到其他子级别可能会导致问题？？

任何其他这样做的方式都是最受欢迎的。

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T07:10:56.743

欢迎来到 StackOverflow；我希望你已经阅读了[常见问题解答](https://stackoverflow.com/faq)

在回答您的问题时：

*   (a) 是的，您可以只限制“选择父项”下拉列表以列出除当前类别之外的所有类别。一种方法是检索正确的类别，即

    SELECT category_id,category_name FROM categories WHERE category_id != $thisCategoryId

或者，您可以在 php 代码中执行此操作，方法是在遍历它们时检查每个值。

*   (b) 是的，如果您将一个类别移动为其自己的子类别之一的子类别，这会给您带来问题，因此您还需要检查这一点

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:23:10.647

有很多方法可以解决这个问题，已经对此进行了讨论，请[参考](https://stackoverflow.com/questions/4843945/php-tree-structure-for-categories-and-sub-categories-without-looping-a-query)**

# java - Alogritm 查找 2 个部分之间的重叠

> ID：10039889
> 
> 赞同：0
> 
> 时间：2012-04-06T06:20:49.980
> 
> 标签：java

我有 2 个部分，每个部分包含 2 个点，每个点都有 X 和 Y。找到这 2 个部分之间重叠的最佳方法是什么？（仅在此处相关的 X 上）

```
public class section
{
   double leftPoint;
   double rightPoint;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T06:29:17.223

矩形类没有方法吗？如果您创建两个矩形（大小和定位就像那些“部分”），您可以使用`intersection()`将返回重叠区域的矩形来比较它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:24:43.013

这是向您展示如何执行此操作的示例代码。我假设这两个部分是 (a_from, a_to) 和 (b_from, b_to) 并将结果部分设置为 (res_from, res_to)。此外，我只与 x 轴上的间隔相交，因为这似乎是您想要的。这个想法是结果从两个开始中的较晚者开始，并在两个结束中的较早者结束。

```
Point a_from, a_to;
Point b_from, b_to;
Point res_from =  new Point();
Point res_to =  new Point();
res_from.SetX(Math.max(a_from.getX(), b_from.getX()));
res_to.SetX(Math.min(a_to.getX(), b_to.getX())); 
```

注意如果 res_to.x < res_from.x 根本没有交集。

同样在这里，我假设 a_from.x <= a_to.x 和 b_from.x <= b_to.x 这可能并不总是正确的。如果不是，则必须将 res_from.x 计算为`Math.max(Math.min(a_from.getX(), a_to.getX()), Math.min(b_from.getX(), b_to.getX()))`

# amazon-web-services - 最有效的 S3 GET 请求方法是什么？

> ID：10039894
> 
> 赞同：2
> 
> 时间：2012-04-06T06:21:17.727
> 
> 标签：amazon-web-services, amazon-s3, get, s3cmd

我可以使用以下任一方法从 S3 下载文件。

```
s3cmd get s3://bucket_name/DB/company_data/abc.txt

wget http://bucket_name.s3.amazonaws.com/DB/company_data/abc.txt 
```

我的问题是：

```
1) Which one is faster? 
2) Which one is cheaper? 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-06T06:34:20.763

根据[过去的一些研究](http://s3sync.net/forum/index.php?topic=25.0)，s3cmd GET 操作比 wget 慢大约 5 倍。请记住，s3cmd 是一个旨在从 S3 文件系统中检索文件的实用程序。它不使用 HTTP 协议，而是使用 s3 协议。

我唯一能看到使用 s3cmd 实用程序的情况是，您正在检索无法使用标准 HTTP GET 方法检索的文件，例如 S3 上的文件没有读取权限或您正在对 S3 进行维护桶。

根据您的问题，我假设您正在尝试在生产系统中使用此实用程序；但是，这似乎不是该实用程序的意图或目标。

有关更多详细信息，请查看[性能测试电子表格](https://spreadsheets.google.com/pub?key=pQFDXIemKG2G5YG2T-_T1eg)。

就成本而言，我不是亚马逊定价方面的专家，但我相信他们会根据传输的实际数据计费，因此无论您下载快还是慢，一个 1GB 文件的成本都是一样的。这就像有人问你什么更重，十磅砖还是十磅羽毛的问题。

# ruby-on-rails - Heroku “我们很抱歉，但出了点问题。”

> ID：10039896
> 
> 赞同：0
> 
> 时间：2012-04-06T06:21:39.237
> 
> 标签：ruby-on-rails, heroku

我正在开发一个在开发中运行良好的 Rails 应用程序。但是，当我部署到 Heroku 时，我遇到了问题。该应用程序运行良好，直到我去创建一个新用户，在这种情况下，我得到“我们很抱歉，但出了点问题”。我尝试通过转储数据库`pg:reset`并迁移数据库。这是我的日志`heroku logs`：

```
2012-04-06T06:09:14+00:00 app[web.1]:       - 45550
2012-04-06T06:09:14+00:00 app[web.1]:       - 45553
2012-04-06T06:09:14+00:00 app[web.1]:       - 45554
2012-04-06T06:09:14+00:00 app[web.1]:       - 45557
2012-04-06T06:09:14+00:00 app[web.1]:       - 45560
2012-04-06T06:09:14+00:00 app[web.1]:       - 45561
2012-04-06T06:09:14+00:00 app[web.1]:       - 45563
2012-04-06T06:09:14+00:00 app[web.1]:       - 45564
2012-04-06T06:09:14+00:00 app[web.1]:       - 45562
2012-04-06T06:09:14+00:00 app[web.1]:       - 45565
2012-04-06T06:09:14+00:00 app[web.1]:       - 45566
2012-04-06T06:09:14+00:00 app[web.1]:       - 45569
2012-04-06T06:09:14+00:00 app[web.1]:       - 53056
2012-04-06T06:09:14+00:00 app[web.1]:       - 57421
2012-04-06T06:09:14+00:00 app[web.1]:       - 58512
2012-04-06T06:09:14+00:00 app[web.1]:       - 58065
2012-04-06T06:09:14+00:00 app[web.1]:       - 58521
2012-04-06T06:09:14+00:00 app[web.1]:       - 58523
2012-04-06T06:09:14+00:00 app[web.1]:       - 58525
2012-04-06T06:09:14+00:00 app[web.1]:       - 58528
2012-04-06T06:09:14+00:00 app[web.1]:       - 62044
2012-04-06T06:09:14+00:00 app[web.1]:       - 62045
2012-04-06T06:09:14+00:00 app[web.1]:       - 62049
2012-04-06T06:09:14+00:00 app[web.1]:       - 62050
2012-04-06T06:09:14+00:00 app[web.1]:       - 64054
2012-04-06T06:09:14+00:00 app[web.1]:       - 64358
2012-04-06T06:09:14+00:00 app[web.1]:       - 62051
2012-04-06T06:09:14+00:00 app[web.1]:       - 93741
2012-04-06T06:09:14+00:00 app[web.1]: ', "achievement_points" = 5090, "thumbnail" = 'kiljaeden/52/114968116-avatar.jpg', "last_modified" = 1332004740000, "stats" = '--- !ruby/object:OpenStruct 
2012-04-06T06:09:14+00:00 app[web.1]: modifiable: true
2012-04-06T06:09:14+00:00 app[web.1]: table: 
2012-04-06T06:09:14+00:00 app[web.1]:   :health: 133243
2012-04-06T06:09:14+00:00 app[web.1]:   :powerType: mana
2012-04-06T06:09:14+00:00 app[web.1]:   :power: 107618
2012-04-06T06:09:14+00:00 app[web.1]:   :agi: 58
2012-04-06T06:09:14+00:00 app[web.1]:   :sta: 6885
2012-04-06T06:09:14+00:00 app[web.1]:   :int: 6032
2012-04-06T06:09:14+00:00 app[web.1]:   :str: 53
2012-04-06T06:09:14+00:00 app[web.1]:   :spr: 411
2012-04-06T06:09:14+00:00 app[web.1]:   :attackPower: 43
2012-04-06T06:09:14+00:00 app[web.1]:   :rangedAttackPower: 0
2012-04-06T06:09:14+00:00 app[web.1]:   :mastery: 11.369031
2012-04-06T06:09:14+00:00 app[web.1]:   :masteryRating: 604
2012-04-06T06:09:14+00:00 app[web.1]:   :crit: 10.45436
2012-04-06T06:09:14+00:00 app[web.1]:   :critRating: 1203
2012-04-06T06:09:14+00:00 app[web.1]:   :hitRating: 1653
2012-04-06T06:09:14+00:00 app[web.1]:   :hasteRating: 2612
2012-04-06T06:09:14+00:00 app[web.1]:   :hitPercent: 14.762522
2012-04-06T06:09:14+00:00 app[web.1]:   :expertiseRating: 0
2012-04-06T06:09:14+00:00 app[web.1]:   :spellPower: 8355
2012-04-06T06:09:14+00:00 app[web.1]:   :spellPen: 0
2012-04-06T06:09:14+00:00 app[web.1]:   :spellCrit: 19.913286
2012-04-06T06:09:14+00:00 app[web.1]:   :spellCritRating: 1203
2012-04-06T06:09:14+00:00 app[web.1]:   :mana5: 1404.0
2012-04-06T06:09:14+00:00 app[web.1]:   :spellHitPercent: 17.13537
2012-04-06T06:09:14+00:00 app[web.1]:   :spellHitRating: 1653
2012-04-06T06:09:14+00:00 app[web.1]:   :mana5Combat: 869.0
2012-04-06T06:09:14+00:00 app[web.1]:   :armor: 9195
2012-04-06T06:09:14+00:00 app[web.1]:   :dodge: 3.652076
2012-04-06T06:09:14+00:00 app[web.1]:   :dodgeRating: 0
2012-04-06T06:09:14+00:00 app[web.1]:   :parry: 0.0
2012-04-06T06:09:14+00:00 app[web.1]:   :parryRating: 0
2012-04-06T06:09:14+00:00 app[web.1]:   :block: 0.0
2012-04-06T06:09:14+00:00 app[web.1]:   :mainHandDmgMin: 313.0
2012-04-06T06:09:14+00:00 app[web.1]:   :blockRating: 0
2012-04-06T06:09:14+00:00 app[web.1]:   :resil: 0
2012-04-06T06:09:14+00:00 app[web.1]:   :mainHandDmgMax: 579.0
2012-04-06T06:09:14+00:00 app[web.1]:   :mainHandSpeed: 1.329
2012-04-06T06:09:14+00:00 app[web.1]:   :mainHandDps: 335.91428
2012-04-06T06:09:14+00:00 app[web.1]:   :mainHandExpertise: 0
2012-04-06T06:09:14+00:00 app[web.1]:   :offHandDmgMin: 0.0
2012-04-06T06:09:14+00:00 app[web.1]:   :offHandDmgMax: 0.0
2012-04-06T06:09:14+00:00 app[web.1]:   :offHandDps: 0.0
2012-04-06T06:09:14+00:00 app[web.1]:   :offHandSpeed: 1.661
2012-04-06T06:09:14+00:00 app[web.1]:   :offHandExpertise: 0
2012-04-06T06:09:14+00:00 app[web.1]:   :rangedDmgMin: 1581.0
2012-04-06T06:09:14+00:00 app[web.1]:   :rangedDmgMax: 2937.0
2012-04-06T06:09:14+00:00 app[web.1]:   :rangedDps: 1511.1627
2012-04-06T06:09:14+00:00 app[web.1]:   :rangedSpeed: 1.495
2012-04-06T06:09:14+00:00 app[web.1]:   :rangedCrit: 10.45436
2012-04-06T06:09:14+00:00 app[web.1]:   :rangedCritRating: 1203
2012-04-06T06:09:14+00:00 app[web.1]:   :rangedHitRating: 1653
2012-04-06T06:09:14+00:00 app[web.1]:   :rangedHitPercent: 14.762522
2012-04-06T06:09:14+00:00 app[web.1]: ', "appearance" = '--- !ruby/object:OpenStruct 
2012-04-06T06:09:14+00:00 app[web.1]: modifiable: true
2012-04-06T06:09:14+00:00 app[web.1]: table: 
2012-04-06T06:09:14+00:00 app[web.1]:   :faceVariation: 1
2012-04-06T06:09:14+00:00 app[web.1]:   :skinColor: 6
2012-04-06T06:09:14+00:00 app[web.1]:   :hairVariation: 13
2012-04-06T06:09:14+00:00 app[web.1]:   :hairColor: 0
2012-04-06T06:09:14+00:00 app[web.1]:   :showHelm: 0
2012-04-06T06:09:14+00:00 app[web.1]:   :featureVariation: 1
2012-04-06T06:09:14+00:00 app[web.1]:   :showCloak: 0
2012-04-06T06:09:14+00:00 app[web.1]: ', "updated_at" = '2012-04-06 06:09:14.199366', "progression" = '--- 
2012-04-06T06:09:14+00:00 app[web.1]: ' WHERE "wow_characters"."id" = 1):
2012-04-06T06:09:14+00:00 app[web.1]:   app/models/user.rb:66:in `fetch_character_info'
2012-04-06T06:09:14+00:00 app[web.1]:   app/controllers/users_controller.rb:25:in `create'
2012-04-06T06:09:14+00:00 app[web.1]: 
2012-04-06T06:09:14+00:00 app[web.1]: 
2012-04-06T06:09:14+00:00 app[web.1]: cache: [POST /users] invalidate, pass 
```

任何人有任何想法会导致这种情况吗？非常令人困惑的是它在我的开发环境中工作，但在 Heroku 上的生产中却没有。

WowCharacter 模型：

```
# == Schema Information
#
# Table name: wow_characters
#
#  id                 :integer         not null, primary key
#  user_id            :integer
#  realm              :string(255)
#  name               :string(255)
#  level              :integer
#  race               :string(255)
#  class_id           :string(255)
#  gender             :integer
#  guild              :text
#  talents            :text
#  items              :text
#  professions        :text
#  progression        :text
#  achievement_points :integer
#  thumbnail          :string(255)
#  last_modified      :datetime
#  created_at         :datetime        not null
#  updated_at         :datetime        not null
#  stats              :text
#  appearance         :text
#

class WowCharacter < ActiveRecord::Base

  # Set accessible fields
  attr_accessible :user_id, :realm, :name, :level, :race, :class_id, :gender, :guild, :stats,
                  :talents, :items, :professions, :appearance, :achievement_points, :thumbnail, 
                  :last_modified, :wow_character

  serialize :guild
  serialize :talents
  serialize :items 
  serialize :professions
  serialize :progression
  serialize :stats
  serialize :appearance

  # Create reference to User model
  belongs_to :user
end 
```

不确定这是否有帮助，但在进行更多测试后，我可以确认它会停止： `app[web.1]: cache: [POST /users] invalidate, pass`每次。我通过跟踪heroku日志来解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-07T02:34:05.260

我设法解决了这个问题。我决定在我的开发环境中用 Postgre 替换 SQLite3，以便它与我在 Heroku 中的设置相匹配。完成此操作后，我能够更轻松地调试问题，而它最终是一个类型转换问题。该`:last_modified`字段是`:datetime`，但我推入它的值是 UNIX 时间戳，并且在 Postgre 中引发错误：

> “类型没有时区的时间戳，但表达式是 bigint 类型”

我能够通过在 UNIX 时间戳上运行转换来解决此问题：

```
:last_modified = Time.at(timestamp) 
```

# visual-studio - 无法使用 VS11 创建 VC++ 项目

> ID：10039900
> 
> 赞同：2
> 
> 时间：2012-04-06T06:22:30.360
> 
> 标签：visual-studio, visual-c++, windows-8, visual-studio-2012

我刚刚在 windows 8 消费者预览版操作系统上安装了 VS11 专业版。

我试图创建一个 win32 控制台应用程序，向导失败并出现以下错误：

```
Microsoft Visual Studio
'C:\Program Files\Microsoft Visual Studio 11.0\VC\VCWizards\default.vcxproj' cannot be opened because its project type (.vcxproj) is not supported by this version of the application. 

To open it, please use a version that supports this type of project.
OK 
```

不知道我错过了什么。这里有人可以帮助我吗？ ![这是出错时的截图](../Images/54ab364efadbb5c941879d17adb0f563.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-21T18:43:58.057

这是为我解决的问题，请检查 VCHOME、VCINSTALLDIR 和 vsinstalldir 的用户环境变量。

改变

```
X:\Program Files (x86)\Microsoft Visual Studio 10.0\VC\ 
```

到

```
X:\Program Files (x86)\Microsoft Visual Studio 11.0\VC\ 
```

或者

```
X:\Program Files (x86)\Microsoft Visual Studio 12.0\VC\ 
```

取决于 VS 2012 或 2013。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-11T12:00:06.067

找不到答案。重新安装 VS11 解决了这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-19T19:29:51.997

首先运行VS2011，然后将项目文件拖放到其中。这对我有帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-23T12:54:22.873

对于那些遇到同样问题但针对 VS2015 的人来说：安装 Visual Studio 2015 Update 1 为我解决了这个问题。

# matlab - 如何将gplot输出保存到matlab中的文件？

> ID：10039906
> 
> 赞同：0
> 
> 时间：2012-04-06T06:23:19.907
> 
> 标签：matlab, graphics

你们能建议将gplot保存/输出到文件的方法吗？我仍在尝试使用 Matlab 解决问题。谢谢。

```
A=[0,1,1,1,1,1,0,0,0;
1,0,1,0,0,0,1,0,0;
1,1,0,1,0,0,1,0,0;
1,0,1,0,1,0,0,1,0;
1,0,0,1,0,1,0,0,1;
1,0,0,0,1,0,0,0,1;
0,1,1,0,0,0,0,1,0;
0,0,0,1,0,0,1,0,1;
0,0,0,0,1,1,0,1,0];

coords=[0 0;
.5 0;
1 0;
0 .5;
.5 .5;
1 .5;
0 1;
.5 1;
1 1];

gplot(A,coords) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T06:50:49.053

我猜您想将图形输出到文件中：

```
 saveas(fig_handle, 'filename','bmp') 
```

或者

```
 print('-dbmp',fig_handle) 
```

诀窍是在调用 gplot 之前你应该得到一个图形句柄

```
 fig_handle = figure 
```

# java - 比较 Android 上的 SQLite 数据库

> ID：10039907
> 
> 赞同：1
> 
> 时间：2012-04-06T06:23:38.003
> 
> 标签：java, android, sqlite

在我的应用程序中，我附加了一个现有的 SQLite 数据库。开始时它被复制到手机然后被使用。我知道如何检查该数据库是否已被复制，但我想检查手机上的数据库是否与存储在 APK 中的相同。有什么方法可以比较它们吗？我想以编程方式做到这一点。

原始数据库存储在`assets`文件夹中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:32:38.600

如果您有一部已植根的手机，那么您可以观看它的详细信息。但是如果您的手机没有root，那么您将无法看到它。

另一件事是，如果您已将应用程序复制到手机中，那么它肯定会起作用。

所以**结论**是，如果你有一个 Rooted 电话，那么你将能够查看和比较，如果可能的话，尝试比较它的大小或安装它的时间。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T06:38:52.700

如果您在 APK 中附加了一个数据库，并且您成功复制到您的手机，这意味着您复制了旧数据库。所以我认为无需比较。如果您想比较，请比较表中的所有记录。

其次，如果您想记住您的数据库已被复制，则在共享首选项中使用一个标志。复制后保存为真。然后检查其值

**更新**

列出所有表

```
select name from sqlite_master where type = 'table' 
```

如果两个数据库都有相同的表，则比较这些对应表的记录

# gwt - 是否可以使 DateBox 在浏览器中设置的时区以外的时区工作？

> ID：10039910
> 
> 赞同：0
> 
> 时间：2012-04-06T06:24:13.753
> 
> 标签：gwt, datetimepicker, gwt2

是否可以让[DateBox](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/user/datepicker/client/DateBox.html)在浏览器中设置的时区以外的时区工作？

在我的情况下，时区应该根据表单中的其他信息而改变。

根据文档中的信息，没有内置的方法可以做到这一点。你能建议你如何处理它吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-08-10T13:31:28.957

我通过创建一个实现 DateBox.Format 的类来做到这一点： -

```
public class MyDateFormat implements DateBox.Format
{

    private TimeZone tz;

    public MyDateFormat(TimeZone tz)
    {
        this.tz = tz;
    }

    @Override
    public String format(DateBox arg0, Date arg1)
    {
        if(arg1 == null)
        {
            return null;
        }
        return DateTimeFormat.getFormat("dd MMM yyyy hh:mm:ss Z").format(arg1, tz);
    }

    @Override
    public Date parse(DateBox arg0, String arg1, boolean arg2)
    {
        return DateTimeFormat.getFormat("dd MMM yyyy hh:mm:ss Z").parse(arg1);
    }

    @Override
    public void reset(DateBox arg0, boolean arg1)
    {

    }
} 
```

接着： -

```
dateBox.setFormat(new MyDateFormat(tz)); 
```

# iphone - CALayer 阴影和半透明 UINavigationBars

> ID：10039918
> 
> 赞同：1
> 
> 时间：2012-04-06T06:25:03.010
> 
> 标签：iphone, ios, cocoa-touch, quartz-2d, dropshadow

我有一个半透明的导航栏，它正在使用导航控制器进行渲染。

我想在它下面添加一个阴影，但是，当阴影被渲染时，它似乎也在导航栏内绘制它。

这很烦人，我想渲染导航栏下方的阴影部分。

这是渲染阴影的代码：

```
 navController.navigationBar.layer.shadowColor = [[UIColor blackColor] CGColor];

    navController.navigationBar.layer.masksToBounds = NO;
    navController.navigationBar.layer.shadowPath = [UIBezierPath bezierPathWithRect:CGRectMake(0, 0, 320, 44)].CGPath;
    navController.navigationBar.layer.shadowOpacity = 1.0f;
    navController.navigationBar.layer.shadowRadius = 2.0f;
    navController.navigationBar.layer.shadowOffset = CGSizeMake(0, 0);

    navController.navigationBar.barStyle = UIBarStyleBlackTranslucent; 
```

这是我想要实现的（在图像编辑器中创建）： ![在此处输入图像描述](../Images/e0292faa80aa609346f4d02632f95117.png)

但是，这是实际呈现的内容： ![在此处输入图像描述](../Images/4cdbb5b61c020a5136dd6e51f6207e60.png)

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T06:48:42.743

```
[self.navigationController.navigationBar setTintColor:[UIColor colorWithRed:(132.0/255) green:(132.0/255) blue:(132.0/255) alpha:1.0]]; 
```

尝试根据您的要求更改参数。

相反，我建议采用链接方法将是有益的和标准的。 [http://sebastiancelis.com/2009/12/21/adding-background-image-uinavigationbar/](http://sebastiancelis.com/2009/12/21/adding-background-image-uinavigationbar/)

来源： [https ://github.com/scelis/ExampleNavBarBackground](https://github.com/scelis/ExampleNavBarBackground)

# mysql - 在引导程序中添加 MySQL

> ID：10039922
> 
> 赞同：1
> 
> 时间：2012-04-06T06:25:13.963
> 
> 标签：mysql, visual-studio, setup-project

在制作安装文件时，我们可以将 SQL Server Express 添加为 pre-req，以便安装程序首先安装它。如何对 MySQL 做同样的事情？如果目标 PC 上没有安装 MySQL，我希望我的应用程序安装 MySQL。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T11:20:05.677

由于 Visual Studio 没有 MySQL 的预定义先决条件，因此解决方案是手动添加先决条件。您可以在此处找到更多详细信息： [使用我们的设置安装其他应用程序 - vs2010 桌面应用程序部署](https://stackoverflow.com/questions/10025384/install-other-apps-with-our-setup-vs2010-desktop-app-deployment/10027397#10027397)

# wpf - wpf 绑定组合框 selectedvaluepath

> ID：10039924
> 
> 赞同：0
> 
> 时间：2012-04-06T06:25:23.783
> 
> 标签：wpf, binding, combobox

我的视图模型中有一个类型字符串（selectedextensionvalue）的列表。如何将组合框的 selectedvaluepath（也是列表字符串类型）绑定到 selectedextensionvalue。我不知道语法。有人可以帮忙吗？

提前致谢， 比尔格

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T07:21:29.867

如果你有一个字符串的集合，那么你就不需要使用`SelectedValuePath`属性。您可以将一些字符串字段添加到您`ViewModel`的字符串类型。

```
public string SelectedStringValue
{
    get;
    set;
} 
```

在 xaml 中：

```
<ComboBox ItemsSource="{Binding Path=selectedextensionvalue}"
          SelectedItem="{Binding Path=SelectedStringValue, Mode=OneWayToSource}" /> 
```

**编辑：**

但是，如果您想`ComboBox`选择一些特殊项目（例如，您存储在数据库中的项目），那么属性`SelectedStringValue`应该在 setter 中引发`PropertyChanged`通知，xaml 将如下：

```
<ComboBox ItemsSource="{Binding Path=selectedextensionvalue}"
          SelectedItem="{Binding Path=SelectedStringValue, Mode=TwoWay}" /> 
```

# java - GAE 中的数据访问

> ID：10039929
> 
> 赞同：0
> 
> 时间：2012-04-06T06:25:53.857
> 
> 标签：java, google-app-engine, google-cloud-datastore

我正在尝试在 GAE 中编写小型应用程序。我正在使用 Java 和本机 DatastoreService 来处理数据（Objectify 是一种可能性，但变化不大）。

我很难弄清楚如何保持面向对象的设计并以事务方式有效地使用数据存储。

我正在尝试构建一个游戏，所以我将房间、怪物、玩家等作为一个班级。当玩家进行移动或攻击等动作时，我必须加载一些数据，对其进行修改并将其全部存储在一个 tx 中，这样就不会发生异常。

我应该在调用层次结构中一直传递一个 DatastoreService 实例，还是只在每个类上获取 DatastoreService 更好？因为数据存储确保在我开始事务后保持一致的视图，并在我得到 null 时放置实体，因为我仍在 tx 中，我应该如何处理？

谢谢你，伊多。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T08:57:10.630

首先，我认为您应该仔细查看 Objectify，它使事务和嵌入对象（例如）变得非常容易。

其次，我会认真考虑使用诸如 Guice 之类的依赖注入框架来获取 Objectify 对象（或 DatastoreService 对象）——它最终会使您的代码更加简洁，并为您将来提供有用的技能。

如果您不使用依赖注入，或者即使您使用，最好将您的代码控制数据放入与数据本身不同的类中。虽然这并不总是最好的策略，但我认为通常是。例如，如果您发现自己想要同时更新和保存怪物和玩家，您会将代码放在哪里 - 在怪物中还是在玩家中？有时我发现使用单独的数据访问对象来做这种事情是最容易的，或者如果它只是一点点工作，在 Servlet 中做。

Objectify 示例应用程序可能有助于解决这些问题——它使用 Guice，但不是 DAO。

# iphone - 通过我的 iPhone 上传图片

> ID：10039930
> 
> 赞同：0
> 
> 时间：2012-04-06T06:25:58.427
> 
> 标签：iphone, objective-c, ios, image, image-uploading

朋友们

我正在通过此代码上传图片。

```
- (void) uploadData:(NSData *)imageData
{
// setting up the URL to post to
NSString *urlString = @"http://www.abc.com/clients/def/upload.php?fk_abc_id=2";

// setting up the request object now

NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];
[request setURL:[NSURL URLWithString:urlString]];
[request setHTTPMethod:@"POST"];

/*
 add some header info now
 we always need a boundary when we post a file
 also we need to set the content type

 You might want to generate a random boundary.. this is just the same 
 as my output from wireshark on a valid html post
 */

/* connection.setRequestProperty("Connection", "Keep-Alive");

connection.setRequestProperty("Content-Type", "multipart/form-data;boundary="+boundary);

outStream = new DataOutputStream(connection.getOutputStream());

outStream.writeBytes(twoHyphens + boundary + lineEnd);
outStream.writeBytes("Content-Disposition: form-data; name=\"uploadedfile\"; filename=\"" + imagepath +"; " + lineEnd);
outStream.writeBytes(lineEnd);*/

NSString *boundary = [NSString stringWithString:@"---------------------------14737809831466499882746641449"];
NSString *contentType = [NSString stringWithFormat:@"multipart/form-data; boundary=%@",boundary];
[request addValue:contentType forHTTPHeaderField: @"Content-Type"];

/*
 now lets create the body of the post
 */

NSMutableData *body = [NSMutableData data];
[body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];    
[body appendData:[[NSString stringWithString:@"Content-Disposition: form-data; name=\"userfile\"; filename=\".jpg\"\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[[NSString stringWithString:@"Content-Type: application/octet-stream\r\n\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[NSData dataWithData:imageData]];
[body appendData:[[NSString stringWithFormat:@"\r\n--%@--\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
// setting the body of the post to the reqeust

NSLog(@"body is :%@",body);
[request setHTTPBody:body];
// now lets make the connection to the web

NSData *returnData = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];
NSString  * returnString = [[NSString alloc] initWithData:returnData encoding:NSUTF8StringEncoding];

NSLog(@"return string is :%@",returnString);
} 
```

但我得到的响应**返回字符串是：{“stat”：0，“msg”：“上传文件时出错，请重试！”}**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T07:52:10.843

尝试使用以下代码上传图片

```
UIImage*myImage=[UIImage imageNamed:@"dr.jpg"];
imageView.image=myImage;

NSData *imageData = UIImageJPEGRepresentation(imageView.image, 1.0);
// setting up the URL to post to
NSString *urlString = @"http://www.myserver.com/imageupload.php";

NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];
[request setURL:[NSURL URLWithString:urlString]];
[request setHTTPMethod:@"POST"];

 NSString *boundary = [NSString stringWithString:@"---------------------------14737809831466499882746641449"];
 NSString *contentType = [NSString stringWithFormat:@"multipart/form-data; boundary=%@",boundary];
 [request addValue:contentType forHTTPHeaderField: @"Content-Type"];

 NSMutableData *body = [NSMutableData data];
[body appendData:[[NSString stringWithFormat:@"\r\n--%@\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];

    [body appendData:[[NSString stringWithString:@"Content-Disposition: form-data; name=\"userfile\"; filename=\"dr.jpg\"\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];

    [body appendData:[[NSString stringWithString:@"Content-Type: application/octet-stream\r\n\r\n"] dataUsingEncoding:NSUTF8StringEncoding]];
[body appendData:[NSData dataWithData:imageData]];
[body appendData:[[NSString stringWithFormat:@"\r\n--%@--\r\n",boundary] dataUsingEncoding:NSUTF8StringEncoding]];
// setting the body of the post to the reqeust
[request setHTTPBody:body];

// now lets make the connection to the web
 NSData *returnData = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];
 NSString *returnString = [[NSString alloc] initWithData:returnData encoding:NSUTF8StringEncoding];

 NSLog(returnString); 
```

下面是php代码

```
<?php
      $uploaddir = './'; //Uploading to same directory as PHP file
      $file = basename($_FILES['userfile']['name']);
      $uploadFile = $file;
      $randomNumber = rand(0, 99999); 

      $newName = $uploadDir . $uploadFile;

    if (is_uploaded_file($_FILES['userfile']['tmp_name'])) {
   echo "Temp file uploaded. \r\n";
    } else {
    echo "Temp file not uploaded. \r\n";
   }
   if (move_uploaded_file($_FILES['userfile']['tmp_name'], $newName)) {
         $postsize = ini_get('post_max_size'); //Not necessary, I was using these
         $canupload = ini_get('file_uploads'); //server variables to see what was 
         $tempdir = ini_get('upload_tmp_dir'); //going wrong.
         $maxsize = ini_get('upload_max_filesize');
         echo "http://www.iroboticshowoff.com/dir/{$file}" . "\r\n" .  $_FILES['userfile']['size'] . "\r\n" . $_FILES['userfile']['type'] ;
    }
?> 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-04-06T09:54:21.503

请参阅我的[演示](https://github.com/chetanbhalala/FIle-upload-on-server-using-iOS)应用程序以从 iOS 将图像/视频上传到服务器。用户可以使用[ASIHTTPRequest](http://allseeing-i.com/ASIHTTPRequest/)上传任何类型的文件。这是一个简单的演示。

# c# - 访问多用户环境的单个资源

> ID：10039933
> 
> 赞同：0
> 
> 时间：2012-04-06T06:26:18.353
> 
> 标签：c#, multithreading, resources, real-time, threadpool

我正在开发一个几乎接近实时应用程序的应用程序，我将有超过 100 个用户连接到该应用程序。

现在我的问题是我有一个二进制资源，即一个 mp3 文件。我正在为每个用户创建一个单独的用户实例，应用程序工作正常，但问题是文件超过 5MB，所以如果我为 100 个用户创建单独的实例，大小将为 500MB，因此它会不断消耗内存.

我正在考虑的另一个解决方案是将此资源保持为全局（静态），但由于这是一个多用户环境应用程序并且所有用户都将不断访问该资源，我认为如果我保留这个可能会有问题所有用户的全局资源。

你有什么建议？如果您有任何其他想法，请分享。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-07T15:50:11.753

在性能和内存使用方面需要权衡。

如果向所有用户提供相同的二进制资源，最好保持全局（假设用户没有访问控制来访问资源）。但不是将所有二进制资源连续存储在内存中，而是可以使用一种缓存资源的机制。

当用户第一次访问特定资源时，可以将其加载到内存中。如果在配置的时间间隔后没有任何用户访问它，则可以将其从内存中删除。

# php - php-mysql投票系统？

> ID：10039936
> 
> 赞同：0
> 
> 时间：2012-04-06T06:26:45.500
> 
> 标签：php, javascript, jquery, mysql, ajax

我正在使用以下脚本在我的网站中构建一个 php-mysql 投票系统（如 youtube 中的投票系统）。我也在使用 ajax 来执行 newtest.php 中的 php。我自己测试了php，它工作得很好。现在我在 ajax 中使用鼠标单击来投票赞成或反对，但它不起作用。你能告诉我哪里出错了吗？（我是ajax的初学者）。我还想返回并显示自动更新的当前投票数。

```
$contentVar = $_POST['contentVar'];
if ($contentVar == "con1") {
    $db_host = "host";
    $db_username = "username";
    $db_pass = "pass";
    $db_name = "phphitscounter";

    @mysql_connect ("$db_host","$db_username","$db_pass") or die ("Could Not Connect To The Database");
    @mysql_select_db ("$db_name") or die ("No Database");
    mysql_select_db("phphitscounter", @mysql_connect ("$db_host","$db_username","$db_pass"));

    $ip = $_SERVER['REMOTE_ADDR'];
    $Page = $_SERVER['PHP_SELF'];
    $pagenum = preg_replace("/[^0-9]/", '', $Page);

    $query = mysql_query("SELECT ip FROM vote WHERE ip = '$ip' AND page = '$pagenum'");
    if (mysql_num_rows($query) > 0) {
        echo "You have already voted";
    }
    else{
        echo "Thank you for voring";
        mysql_query("INSERT INTO vote (ip, page, voteup, votedown) VALUES ('$ip', '$pagenum', 0, 0)");
        mysql_query("UPDATE vote SET voteup = voteup + 1 WHERE ip = '$ip' AND page = '$pagenum'");
    }

    $voteup = mysql_query("SELECT voteup FROM vote WHERE ip = '$ip' AND page = '$pagenum'");
    $results_voteup = mysql_fetch_array($voteup, MYSQL_NUM);
    print ($results_voteup[0]);
    echo "1";
}
else if ($contentVar == "con2") {
    $db_host = "host";
    $db_username = "username";
    $db_pass = "pass";
    $db_name = "phphitscounter";

    @mysql_connect ("$db_host","$db_username","$db_pass") or die ("Could Not Connect To The Database");
    @mysql_select_db ("$db_name") or die ("No Database");
    mysql_select_db("phphitscounter", @mysql_connect ("$db_host","$db_username","$db_pass"));

    $ip = $_SERVER['REMOTE_ADDR'];
    $Page = $_SERVER['PHP_SELF'];
    $pagenum = preg_replace("/[^0-9]/", '', $Page);

    $query = mysql_query("SELECT ip FROM vote WHERE ip = '$ip' AND page = '$pagenum'");
    if (mysql_num_rows($query) > 0) {
        echo "You have already voted";
    }
    else {
        echo "Thank you for voring";
        mysql_query("INSERT INTO vote (ip, page, voteup, votedown) VALUES ('$ip', '$pagenum', 0, 0)");
        mysql_query("UPDATE vote SET votedown = votedown + 1 WHERE ip = '$ip' AND page = '$pagenum'");
    }

    $votedown = mysql_query("SELECT voteup FROM vote WHERE ip = '$ip' AND page = '$pagenum'");
    $results_votedown = mysql_fetch_array($votedown, MYSQL_NUM);
    print ($results_votedown[0]);
    echo "2";
} 
```

test.php 页面：

```
<html>

<head>
    <script type="text/javascript" src="Scripts/jquery.js"></script>
    <script language="JavaScript" type="text/javascript">
    function swapContent(cv) {
        $("#myDiv").html('<img src="Assets/loading.gif" width="50" height="50"/>').show();
        var url = "scripts/newtest.php";
        $.post(url, {
            contentVar: cv
        }, function(data) {
            $("#myDiv").html(data).show();
        });
    }
    </script>
    <style type="text/css">
    #myDiv {
        width: 200px;
        height: 150px;
        padding: 12px;
        border: #666 1px solid;
        background-color: #FAEEC5;
        font-size: 18px;
    }
    </style>
</head>

<body>
    <img src="Assets/like.png" href="#" onClick="return false" onmousedown="javascript:swapContent('con1');" />
    <img src="Assets/dislike.png" href="#" onClick="return false" onmousedown="javascript:swapContent('con2');" />
    <div id="myDiv"></div>
</body>

</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T06:39:02.117

替换此代码：

```
<img src="Assets/like.png" href="#" onClick="return false" onmousedown="javascript:swapContent('con1');"/>
<img src="Assets/dislike.png" href="#" onClick="return false" onmousedown="javascript:swapContent('con2');"/> 
```

和：

```
<img src="Assets/like.png" href="#" id="up"/>
<img src="Assets/dislike.png" href="#"id="down"/>

<script>
$('#up').mousedown(function() {
swapContent('con1');
});

$('#down').mousedown(function() {
  swapContent('con2');
});
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T06:47:27.297

做这样的事情

```
<img src="Assets/like.png" href="#" onClick="swapContent(1);"/>
<img src="Assets/dislike.png" href="#" onClick="swapContent(2);"/>

function swapContent(value){

$("#myDiv").html('<img src="Assets/loading.gif" width="50" height="50"/>').show();
var url = "scripts/newtest.php";
$.post(url, {contentVar: value} ,function(data) {
   $("#myDiv").html(data).show();
});

} 
```

# mysql - Maxmind ip到城市 - mysql索引

> ID：10039941
> 
> 赞同：1
> 
> 时间：2012-04-06T06:27:15.847
> 
> 标签：mysql

我正在尝试使用 maxmind 数据库来找出某个 ip 所在的城市。( [http://www.maxmind.com/app/geolitecity](http://www.maxmind.com/app/geolitecity) ) 有 2 个表：
第一个表列：
startIpNum,endIpNum,locId
第二个表列：
locId,country,region,city,postalCode,latitude,longitude,metroCode,areaCode
快速解释：我使用第一个表来获取表的位置 id，然后我可以从第二个表中获取该位置的信息。好的，让我们忘记该过程的第二部分。为了完成第一部分，我使用了 mysql 并获取 locId，我使用了下一个代码。

```
SELECT locId FROM first_table WHERE startIpNum<=IP and endIpNum>=IP LIMIT 1 
```

其中 IP 为 a*256*256*256+b*256*256+c*256+d（来自 ip => abcd，例如 197.248.67.1、a=197、b=248... 等等）这意味着我们正在谈论整数之间的比较。问题来了，这个操作太慢了。我的第二个想法是使用索引，所以我尝试使用这样的索引：

```
CREATE INDEX test ON first_table ( startIpNum,endIpNum,locId) 
```

也许它不是世界上最好的索引，但我认为这是解决我的问题的最佳方法......而且......它不是。这个过程仍然很慢，比如 10 秒。有任何想法吗？？？？顺便说一句，这个表有将近 350 万行。但我知道问题在于操作员的问题，但我不知道我还能做什么。谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-13T11:14:01.397

您的问题中有些事情不清楚：

查找 1 个 IP 需要 10 秒吗？

您要查找的城市有多少个 IP 地址？

这两个表是从 maxmind CSV 格式创建的，还是您的数据？

您是否使用了 maxmind 数据库的 CSV 格式？我建议使用二进制格式，它要快得多。

# mapreduce - Hive 中的字数统计程序

> ID：10039949
> 
> 赞同：8
> 
> 时间：2012-04-06T06:27:33.503
> 
> 标签：mapreduce, hive

我正在尝试学习 Hive。令人惊讶的是，我找不到如何编写简单的字数统计工作的示例。以下是正确的吗？

假设我有一个输入文件`input.tsv`：

```
hello, world
this is an example input file 
```

我在 Python 中创建了一个拆分器，将每一行转换为单词：

```
import sys

for line in sys.stdin:
 for word in line.split():
   print word 
```

然后我的 Hive 脚本中有以下内容：

```
CREATE TABLE input (line STRING);
LOAD DATA LOCAL INPATH 'input.tsv' OVERWRITE INTO TABLE input;

-- temporary table to hold words...
CREATE TABLE words (word STRING);

add file splitter.py;

INSERT OVERWRITE TABLE words 
  SELECT TRANSFORM(text) 
    USING 'python splitter.py' 
    AS word
  FROM input;

SELECT word, count(*) AS count FROM words GROUP BY word; 
```

我不确定我是否遗漏了什么，或者它是否真的这么复杂。（特别是需要临时`words`表吗，需要写外部拆分器函数吗？）

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-04-08T23:10:52.183

如果您想要一个简单的，请参阅以下内容：

```
SELECT word, COUNT(*) FROM input LATERAL VIEW explode(split(text, ' ')) lTable as word GROUP BY word; 
```

我使用横向视图来启用表值函数（explode）的使用，该函数采用拆分函数产生的列表并为每个值输出一个新行。在实践中，我使用包装了 IBM 的 ICU4J 分词器的 UDF。我通常不使用转换脚本，而对所有内容都使用 UDF。您不需要临时单词表。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-06-25T06:03:13.760

```
CREATE TABLE docs (line STRING);
LOAD DATA INPATH 'text' OVERWRITE INTO TABLE docs;
CREATE TABLE word_counts AS
SELECT word, count(1) AS count FROM
(SELECT explode(split(line, '\s')) AS word FROM docs) w
GROUP BY word
ORDER BY word; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-12-26T08:47:04.693

您可以将 hive 中的内置 UDF 语句如下：

1) 第 1 步：创建一个临时表，其中包含一个名为 sentence 的数据类型数组的单列

```
create table temp as select sentence from docs lateral view explode(explode(sentences(lcase(line)))) ltable as sentence
```

2）第2步：从临时表中选择你的单词再次爆炸列句

```
select words,count(words) CntWords from
(
select explode(words) words from temp
) i group by words order by CntWords desc
```

# c - 我如何在C中逐字迭代字符串

> ID：10039953
> 
> 赞同：0
> 
> 时间：2012-04-06T06:28:07.513
> 
> 标签：c, loops, find

我需要制作一个程序，将文本文件作为输入，并用一个替换的单词输出相同的字符串；主函数将采用 3 个参数（wordR、wordS、文件）。那么任何人都可以帮我一个很好的提示，我可以扫描c中的单词吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-04-06T06:43:45.160

使用 strtok() 或 strtok_r() 函数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-04-06T06:30:44.047

明显的可能性是`[fs]scanf`'s "%s" 转换：

```
char one_word[64];

fscanf(input_file, "%63s", one_word); 
```

# java - 高级安装程序中的 MySql Dll 文件

> ID：10039955
> 
> 赞同：1
> 
> 时间：2012-04-06T06:28:20.673
> 
> 标签：java, mysql, advanced-installer

我正在为我的应用程序创建一个新的 .exe 文件，我的前端是 Java，后端是 MYSQL。现在我想在执行期间在 Mysql 中安装我的脚本。在 oracle 中，我使用了“msorcl32.dll”文件，但在我的 sql 中，我需要使用哪个驱动程序文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-07T11:01:20.973

您可以从以下页面（zip 包）获取 DLL：http: [//dev.mysql.com/downloads/connector/odbc/](http://dev.mysql.com/downloads/connector/odbc/)

确保为您的架构选择一个核心响应者（x86 或 x64），否则连接将失败。

# python - python列表/序列格式化

> ID：10039959
> 
> 赞同：1
> 
> 时间：2012-04-06T06:28:43.037
> 
> 标签：python, list, sequence

我有一个格式如下的列表列表。

[[1,3],[2,4],[3,1],[4,0],[5,1],[6,0],[7,1],[8,0],[ 9,1],[10,0],[11,3],[12,1],[13,0],[14,1],[15,0],[16,1],[17, 0],[18,4],[19,1],[20,0],[21,1],[22,0],[23,1],[24,2],[25,0] ,[26,0],[27,1],[28,0]......]

或以图形方式，我的输入列表是：

```
[1,3]
    [2,4]
        [3,1]
            [4,0]
        [5,1]
            [6,0]
        [7,1]
            [8,0]
        [9,1]
            [10,0]
    [11,3]
        [12,1]
            [13,0]
        [14,1]
            [15,0]
        [16,1]
            [17,0]
    [18,4]
        [19,1]
            [20,0]
        [21,1]
            [22,0]
        [23,1]
            [24,2]
                [25,0]
                [26,0]
        [27,1]
            [28,0] 
```

在上面的输入中，列表的第一个值（零位置）是项目序列（你可以从上到下看到它们），第二个值是它拥有的孩子的数量！

我希望我的输出在第三个值（第二个位置）中我希望它的父级如下例所示......

我想得到如下输出： [[1,3,0],[2,4,1],[3,1,2],[4,0,3],[5,1,2],[ 6,0,5],[7,1,2],[8,0,7],[9,1,2],[10,0,9],[11,3,1],[12, 1,11],[13,0,12],[14,1,11],[15,0,14],[16,1,11],[17,0,16],[18,4, 1],[19,1,18],[20,0,19],[21,1,18],[22,0,21],[23,1,18],[24,2,23] ,[25,0,24],[26,0,24],[27,1,18],[28,0,27].....]

以图形方式所需的输出：

```
[1,3,0]
    [2,4,1]
        [3,1,2]
            [4,0,3]
        [5,1,2]
            [6,0,5]
        [7,1,2]
            [8,0,7]
        [9,1,2]
            [10,0,9]
    [11,3,1]
        [12,1,11]
            [13,0,12]
        [14,1,11]
            [15,0,14]
        [16,1,11]
            [17,0,16]
    [18,4,1]
        [19,1,18]
            [20,0,19]
        [21,1,18]
            [22,0,21]
        [23,1,18]
            [24,2,23]
                [25,0,24]
                [26,0,24]
        [27,1,18]
            [28,0,27] 
```

怎么解决？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T09:18:20.373

你可以用这样的迭代器来做到这一点：

```
def add_parent_info(it, parent=0):
    me, num_children = it.next() # For Python 3.x use next(it)
    yield [me, num_children, parent]
    for i in range(num_children):
        for item in add_parent_info(it, me):
            yield item 
```

用法：

```
>>> a = [[1,3],[2,4],[3,1],[4,0],[5,1],[6,0],[7,1],[8,0],[9,1],[10,0],[11,3],[12,1],[13,0],[14,1],[15,0],[16,1],[17,0],[18,4],[19,1],[20,0],[21,1],[22,0],[23,1],[24,2],[25,0],[26,0],[27,1],[28,0]]
>>> print list(add_parent_info(iter(a)))
[[1, 3, 0], [2, 4, 1], [3, 1, 2], [4, 0, 3], [5, 1, 2], [6, 0, 5], [7, 1, 2], [8, 0, 7], [9, 1, 2], [10, 0, 9], [11, 3, 1], [12, 1, 11], [13, 0, 12], [14, 1, 11], [15, 0, 14], [16, 1, 11], [17, 0, 16], [18, 4, 1], [19, 1, 18], [20, 0, 19], [21, 1, 18], [22, 0, 21], [23, 1, 18], [24, 2, 23], [25, 0, 24], [26, 0, 24], [27, 1, 18], [28, 0, 27]] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T07:07:04.907

编辑：@WolframH 具有生成结构的最佳解决方案。您可以通过将其优雅的解决方案与 Node 对象结构相结合，将其更改`__init__`为：

```
def __init__(self,value,parent_value,child_value,list_of_children):
    self.value=value
    self.parent_value = parent_value
    self.child_value = child_value
    self.children = list_of_children 
```

使用 @WolframH 的生成结构的方法，并遍历所有在其上调用 Node 构造函数的条目。这样，您可以更容易地插入和删除项目。

* * *

您需要定义一个数据结构（想到一棵树）并将值存储在其中。我建议使用树，将节点类应用到树的下方。（您可以定义一种称为叶子的不同格式，但不会真正有所作为。

```
class Node(object):
    def __init__(self,val,list_of_children,parent_value)
        self.value = val
        self.children = make_children(list_of_children,val)
        self.parent_value = parent_value

    # in case number of children changes, don't generate middle value
    # until necessary
    def get_list_of_values(self):
        [self.value,len(children),self.parent_value]

    def add_child(self, child):
        self.children.append(child)

    def change_value(self,new_value):
        """update children to reflect changed value"""
        self.value = new_value
        def fn(child):
            child.parent_value = new_value
        map(fn,self.children)

def make_children(list_of_children,parent_value):
    child_list=[]
    # recursive-ish case: there are children
    if list_of_children:
        for child in list_of_children:
            # presuming initially stored as list of lists, e.g. 
            #    [node_value,[node[leaf][leaf]],[node,[node[leaf]],[leaf]]
            #    so child[0] is value, and rest are children
            value = child.pop(0)
            child_list.append(Node(value,child,parent_value)))
        return child_list
    # base case: no children - so return empty set
    else:
        return [] 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-04-06T08:44:12.297

@WolframH 有使用迭代器的最佳解决方案，我将把它留在这里作为不使用迭代器的低效示例：D

```
>>> stuff = [[1,3],[2,4],[3,1],[4,0],[5,1],[6,0],[7,1],[8,0],[9,1],[10,0],[11,3],[12,1],[13,0],[14,1],[15,0],[16,1],[17,0],[18,4],[19,1],[20,0],[21,1],[22,0],[23,1],[24,2],[25,0],[26,0],[27,1],[28,0]]
>>> def walk(parent, i, items):
        item_seq, num_children = items[i]
        children = [items[i]+[parent]]
        for _ in range(num_children):
            i,child = walk(item_seq,i+1,items)
            children.extend(child)
        return i, children

>>> walk(0,0,stuff)[1]
[[1, 3, 0], [2, 4, 1], [3, 1, 2], [4, 0, 3], [5, 1, 2], [6, 0, 5], [7, 1, 2], [8, 0, 7], [9, 1, 2], [10, 0, 9], [11, 3, 1], [12, 1, 11], [13, 0, 12], [14, 1, 11], [15, 0, 14], [16, 1, 11], [17, 0, 16], [18, 4, 1], [19, 1, 18], [20, 0, 19], [21, 1, 18], [22, 0, 21], [23, 1, 18], [24, 2, 23], [25, 0, 24], [26, 0, 24], [27, 1, 18], [28, 0, 27]] 
```

# c# - 在字节数组中水平翻转原始图像的算法

> ID：10039964
> 
> 赞同：0
> 
> 时间：2012-04-06T06:29:38.563
> 
> 标签：c#, image, image-processing

使用字节数组时如何水平翻转图像。我很难找到执行此操作的算法，所有示例似乎都建议使用我无法使用的已建立图形库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T08:08:51.583

我使用 WPF 电源水平翻转图像，希望这有帮助

```
<Image Name="image" Stretch="Fill" RenderTransformOrigin="0.5,0.5">
    <Image.RenderTransform>
        <TransformGroup>
            <ScaleTransform ScaleY="1" ScaleX="-1"/>
            <SkewTransform AngleY="0" AngleX="0"/>
            <RotateTransform Angle="0"/>
            <TranslateTransform/>
        </TransformGroup>
    </Image.RenderTransform>
</Image> 
```

```
public Window2()
{
    InitializeComponent();
    var open = new OpenFileDialog();
    open.ShowDialog();
    var localImage = new Bitmap(open.FileName);
    var stream = new MemoryStream();
    localImage.Save(stream, ImageFormat.Png);

    var byteArray = ImageToByteArray(localImage);
    var imageAgain = ByteArrayToImage(byteArray);

    var imageSource = new BitmapImage();
    imageSource.BeginInit();
    var ms = new MemoryStream();
    imageAgain.Save(ms, ImageFormat.Bmp);
    ms.Seek(0, SeekOrigin.Begin);
    imageSource.StreamSource = ms;
    imageSource.EndInit();

    image.Source = imageSource;
}
public byte[] ImageToByteArray(System.Drawing.Image imageIn)
{
    var memoryStream = new MemoryStream();
    imageIn.Save(memoryStream, ImageFormat.Gif);
    return memoryStream.ToArray();
}
public System.Drawing.Image ByteArrayToImage(byte[] byteArrayIn)
{
    return System.Drawing.Image.FromStream(new MemoryStream(byteArrayIn));
} 
```

# javascript - 在 js 中的原型继承期间，当我尝试访问继承对象的方法时，我变得不确定

> ID：10039967
> 
> 赞同：1
> 
> 时间：2012-04-06T06:29:58.597
> 
> 标签：javascript

```
var animal = {eats:true};
var rabbit = {jumps:true};

rabbit.prototype = animal;

document.write(rabbit.eats); 
```

我正在尝试原型继承，但这给出了未定义的答案，而应该是正确的。我在 IE9 上做

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T07:20:11.897

`prototype`是在类而不是 JavaScript 中的对象上定义的引用对象，您需要定义一个类并使用以下方法设置继承`prototype`：

```
var animal = {eats:true};
function Rabit(){};
Rabit.prototype = animal;
Rabit.prototype.jumps = true;

var rabit = new Rabit();
rabit.jumps; // true
rabit.eats; // true 
```

或者如果将两个实体都定义为类则更好：

```
function Animal(){};
Animal.prototype.eats = true;

function Rabit(){};
Rabit.prototype = new Animal();
Rabit.prototype.jumps = true;

var rabit = new Rabit();
rabit.jumps; // true
rabit.eats; // true 
```

在 Gecko 浏览器中有一个未记录的`__proto__`对象，比如 google chrome，它会让你欺骗原型链并静态地从另一个对象继承一个对象：

```
var animal = {eats:true};
var rabbit = {jumps:true};

rabbit.__proto__ = animal;
rabit.jumps; // true
rabit.eats; // true 
```

# javascript - 使用标签提交表单

> ID：10039968
> 
> 赞同：51
> 
> 时间：2012-04-06T06:30:01.397
> 
> 标签：javascript, html, forms, submit

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2012-04-06T06:34:53.160

你可以用原始的 javascript 做到这一点

```
<html>
    <body>
        <form id="my_form" method="post" action="mailto://test@test.com">
            <a href="javascript:{}" onclick="document.getElementById('my_form').submit();">submit</a>
        </form>
    </body>
</html> 
```

对于那些问我为什么我的`href`锚标签中有一个元素的人，因为它是锚标签的强制性部分，没有它可能很好，但它不是规范。所以如果你想保证渲染等，你必须给引擎一个完整的标签。所以上面实现了这一点。您有时会看到`href="#"`used，但这并不总是需要，因为浏览器会更改页面位置。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2015-10-13T08:48:53.183

如果允许使用 jquery，那么您可以使用以下代码以最简单的方式实现它：

```
<a href="javascript:$('#form_id').submit();">Login</a> 
```

或者

```
<a href="javascript:$('form').submit()">Login</a> 
```

您可以在 head 标签 () 中使用以下行将 jquery 导入您的代码

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-04-06T06:32:48.073

像这样提交您的表格...

您的 HTML 代码

```
 <form name="myform" action="handle-data.php"> Search: <input type='text' name='query' />
     <a href="javascript: submitform()">Search</a> 
   </form> 
```

JavaScript 代码

```
 <script type="text/javascript"> 
        function submitform() {   document.myform.submit(); } 
   </script> 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2012-08-15T14:54:06.093

这是我使用香草JS的方法

```
<form id="myform" method="POST" action="xxx">
    <!-- your stuff here -->
    <a href="javascript:void()" onclick="document.getElementById('myform').submit();>Ponies await!</a>
</form> 
```

你可以使用`return false`s 和`href="#"`vs void 以及任何你需要的东西，但是这种方法在 Chrome 18、IE 9 和 Firefox 14 中对我有用，其余的主要取决于你的 javascript。

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2012-04-06T06:40:08.327

**尝试这个：**

假设 HTML 是这样的：

```
 <form id="myform" name="myform" method="POST" action="process_edit_questionnaire.php?project=<?php echo $project_id; ?>">
      <div id="question_block">
            testing form
        </div>
     <a href="javascript: submit();">Submit</a>
        </form> 
```

### JS：

```
 <script type='text/javascript'>
     function submit()
      {
         document.forms["myform"].submit();
      }
   </script> 
```

你可以在这里查看：http: [//jsfiddle.net/Zm426/7/](http://jsfiddle.net/Zm426/7/)

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2019-02-16T13:42:34.970

```
<form  id="myform_id" action="/myMethode"  role="form"  method="post" > 
   <a  href="javascript:$('#myform_id').submit();" >submit</a>
</form> 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2015-11-12T10:27:28.753

是否有任何理由不使用**提交按钮**，然后使用 css 对其进行样式设置以匹配您的其他**a**标签？

我认为这将减少您对启用 javascript 的依赖并仍然获得所需的结果。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2020-09-29T09:06:10.027

干净简单：

```
 <form action="/myaction" method="post" target="_blank">
    <!-- other elements -->
    <a href="#" onclick="this.parentNode.submit();">Submit</a>
 </form> 
```

`action`如果在新选项卡 ( )中打开表单URL `target="_blank"`：

```
 <form action="/myaction" method="post" target="_blank">
    <!-- other elements -->
    <a href="#" onclick="this.parentNode.submit();">Submit</a>
 </form> 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2014-11-14T10:26:15.490

我建议使用“return false”而不是在 href-tag 中使用一些 javascript：

```
<form id="">
...
</form>

<a href="#" onclick="document.getElementById('myform').submit(); return false;">send form</a> 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2016-03-08T09:53:12.423

您可以使用隐藏的提交按钮并使用 java script/jquery 单击它，如下所示：

```
 <form id="contactForm" method="post" class="contact-form">

        <button type="submit" id="submitBtn" style="display:none;" data-validate="contact-form">Hidden Button</button>
        <a href="javascript:;" class="myClass" onclick="$('#submitBtn').click();">Submit</a>

  </form> 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2019-01-24T06:42:48.913

使用 Jquery，您可以执行以下操作：

```
$(document).ready(function() {
  $('#btnSubmit').click(function() {
    $('#deleteFrm').submit();
  });

});
```

```
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<form action="" id="deleteFrm" method="POST">
  <a id="btnSubmit">Submit</a>
</form>
```

# c++ - “C++ 最令人头疼的解析”的运行时行为

> ID：10039971
> 
> 赞同：4
> 
> 时间：2012-04-06T06:30:20.300
> 
> 标签：c++, visual-studio, compiler-construction, g++

在尝试回答[这个](https://stackoverflow.com/questions/10039657/strange-error-in-using-templateclass-inputiterator-string-inputiterator-begin)问题时，我发现没有`()`（它调用“C++ 最令人烦恼的解析”），g++ 的输出是`1`（可以在这里看到：http: [//ideone.com/GPBHy](http://ideone.com/GPBHy)），其中 Visual Studio 给出了链接器错误。我无法理解输出如何`1`，有什么线索吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-04-06T06:41:09.273

正如问题的答案已经解释的那样，由于“最令人烦恼的解析”，该语句而不是定义一个以`str`两者命名的对象`istream_iterators`来指定其初始化程序，而是被解析为一个名为`str`返回 a的函数的声明`string`。

因此，该程序的一个简单版本解析为**[这个在线示例](http://ideone.com/lAAjF)**：

```
#include<iostream>  

void doSomething()
{
} 
void (*ptr)()=&doSomething;

int main()
{

    std::cout << ptr << "\n"; 
    std::cout << doSomething;
    return 0;
} 
```

**输出：**

```
1
1 
```

请注意，没有`operator <<`将一个`std::ostream`和一个函数指针作为参数的重载，这是因为可以有任意数量的用户定义的函数类型，当然标准的重载 api 不能解释所有这些。

鉴于编译器试图在恰好是`bool`（函数指针可隐式转换为`bool`^([#1])）的现有重载中找到最佳匹配。尤其，

```
basic_ostream& operator<< (bool& val ); 
```

由于函数指针指向某物而不是`null`，因此该值打印为`1`。

* * *

^([#1]) **C++03 4.12 布尔转换**

> 1 算术、枚举、指针或指向成员类型的指针的右值可以转换为 bool 类型的右值。

# java - 用于 Java 的所见即所得 html 编辑器

> ID：10039978
> 
> 赞同：1
> 
> 时间：2012-04-06T06:31:20.837
> 
> 标签：java, spring, wysiwyg

请告诉我带有适用于 Java 的文件和图像管理器的 html 编辑器。我发现的所有连接器都是为 PHP 编写的

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-04-06T07:43:47.013

当我需要类似的东西时，通常我使用[SWT](http://www.eclipse.org/swt/)并创建一个选择 Mozilla 作为渲染引擎的浏览器实例。

然后从应用程序是简单的操作和与 Mozilla 和 XPCOM api 交互。

Hiere 您可以找到一个示例[片段](http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet260.java)。

# java - getter 和 setter 方法的 Java 注释

> ID：10039979
> 
> 赞同：4
> 
> 时间：2012-04-06T06:31:25.097
> 
> 标签：java, comments

我的问题是我应该评论如下：

```
/**
     * Getter for {@link #auto_key}
     * @return {@link #auto_key}
     */
    public String getAuto_key() {
        return auto_key;
    }
    /**
     * Setter for {@link #auto_key}
     * @param auto_key the {@link #auto_key} to set
     */
    public void setAuto_key(String auto_key) {
        this.auto_key = auto_key;
    } 
```

基本上我想问，在 getter 和 setter 方法的评论中使用 {@link} 是否正确？还是我应该使用普通评论而不使用 {@link} ？这种方式是否是java标准？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-04-06T06:37:20.167

实际上，我故意不使用 javadoc getter 和 setter，因为这样做并没有增加任何价值——它们就是它们......访问器方法。实际上，通过将 javadoc 添加到它们，您将创建一种代码膨胀。

我只将 javadoc 放在非 getter/setter 上。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T06:50:09.523

1.  我建议为您的 set/get 方法生成独立文档，同时仍然使用`{@link}`，即两者兼而有之。这样，当该字段可访问时，人们仍然可以访问其文档。如果之后它由于重构而变为私有，那么您最终不会得到一堆需要修改的不完整 Javadocs。

2.  虽然 setter/getter 方法的文档可能看起来像代码膨胀，但我仍然建议出于以下几个原因创建它：

    *   它为您提供了一个标准位置来提及重要信息，例如不应该使用的 setter 参数`null`或在接口的特定实现中效率极低的 getter。

    *   它不假定读者自动知道支持字段的作用。当然，`setLength()`在某些情况下可能具有足够的描述性，但究竟是`setLimit()`做什么的呢？

    *   它不假设有*一个*支持字段，或者 get/set 方法仅在特定实现中这样做。不幸的现实是，当重构受到兼容性问题的限制时，会留下各种工件。例如`setLimit()`可以委托给`setSizeLimit()`，这是应该注意的。

    *   它消除了所有的歧义。你认为的常识可能对所有人来说都不是直截了当的。如果没有文档，将做出可能正确或不正确的各种假设。例如，在列表实现中，是否`setLength(0)`还设置所有包含的引用`null`？

    *   最重要的是，它允许 Javadoc 策略归结为一个简单的“随处记录所有内容”。另一方面，拥有各种例外情况的政策将不可避免地导致松懈和最终未记录的代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-04-06T06:37:14.457

约定事项。因组织而异。以前，我们被要求不要打扰评论 getter 和 setter，只要它的作用很明显。这与没有`{@link}`.

目前，我们添加`{@link}`之前编写的代码已经有这个约定。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-04-06T06:38:34.753

如果您可以在文档中引用`#auto_key`使用`{@link}`，这意味着该变量是可公开访问的（否则，该链接将无法在 javadoc 中解析）。这意味着 getter 和 setter 是多余的。

我强烈建议将您的`auto_key`字段设为私有并保留 getter 和 setter。然后调整 getter 和 setter 的名称以匹配 Java 约定 ( `autoKey`, `setAutoKey`, `getAutoKey`)。`PropertyChangeEvent`并考虑在更改 s 时触发s `autoKey`（作为 getter/setter 组合通常建议的 - 请参阅[JavaBeans](http://en.wikipedia.org/wiki/JavaBeans)）。

至于您的文档：它没有为方法名称已经暗示的内容添加任何新内容。所以我会删除它，或者添加一些关于`autoKey`确切作用的额外文档（从片段中我不清楚），它是否可以设置为`null`, ... 。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-04-06T06:55:33.253

您不应该添加任何描述 getter 或 setter 的注释，除非该方法看起来像一个，但封装了不同的行为。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-02-01T16:51:58.570

访问器和修改器是应用封装概念的类中的通用方法（即具有私有实例属性）。*这就是为什么在某些 IDE（例如 Netbeans）中，它们甚至可以自动生成。*

此外，根据惯例，它们的名称非常明确地表明了它们的作用，因此可以将它们与更具体地满足业务需求的其他方法区分开来。

**所有这一切都表明它们不需要记录在案。**

> 当然，如果在您的应用程序的上下文中，您在 >your setter 中添加特定指令，例如，根据您的需求和程序的逻辑，在我看来，没有什么能阻止您向它添加描述性注释行

# android - 在 mac os Lion 上的 Eclipse 中配置和使用 NDK

> ID：10039980
> 
> 赞同：1
> 
> 时间：2012-04-06T06:31:28.747
> 
> 标签：android, eclipse, macos, native

我现在正在 mac lion os 上的 eclipse 中配置 ndk。我下载了 Eclipse 3.5、android sdk 和 ndk r7b。谁能给我在 Eclipse 中配置 NDK 以进行原生 android 应用程序开发的程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-05-02T15:09:34.867

在 OSX 上正确设置有点棘手，但我已经做到了（在 Lion 上，不确定其他人）所以这是可能的。

[在此处](http://developer.android.com/sdk/ndk/index.html)下载 OSX bzip并按照说明“安装 NDK”和“开始使用 NDK”。从那里尝试构建`hello-jni`示例，在[此处](http://developer.android.com/sdk/ndk/overview.html#samples)找到。我在 android 模拟器上安装了它生成的 APK，它运行良好，对于其他一些示例也是如此。

我没有使用 eclipse，但据我了解，eclipse 插件只是`android`和`adb`二进制文件的包装器。

# objective-c - 将 UITextField 的内容添加到 NSMutableArray

> ID：10039985
> 
> 赞同：0
> 
> 时间：2012-04-06T06:32:22.020
> 
> 标签：objective-c, cocoa-touch, ios5, nsmutablearray

如何将来自 a 的元素`UITextField`放入 a 中`NSMutableArray`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T06:34:30.590

```
//Array should be of mutable type NSMutableArray *yourArray=[NSMutableArray alloc]init];

- (BOOL)textFieldShouldReturn:(UITextField *)textField {
    [yourArray addObject:[textfield text]];
    NSLog([yourArray description],nil);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-04-06T06:35:26.203

您可以从文本字段中提取文本：

```
-(void)textFieldDidEndEditing:(UITextField *)textField{

     NSString *lTemp = textField.text;

     //Add to your array
     [lMutableArray addObject: lTemp];
  } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-21T07:17:01.913

[从这里](https://stackoverflow.com/questions/8857792/get-array-of-all-uitextfields/14996550#14996550)检查代码，这里我在视图上显示的 NSMutableArray 中添加所有文本字段的文本值。

# android - 如何在 android 中获取有用的/个人文件？

> ID：10039989
> 
> 赞同：1
> 
> 时间：2012-04-06T06:32:43.667
> 
> 标签：android, database, file, search

我正在使用安卓。Adobe Reader 可以列出我所有的个人 .pdf 文件，而 QQ 音乐可以自动找到我所有的音乐文件，这让我很受启发。而且它们不会像我的 SD 卡中的其他 .mp3 或 .pdf 文件那样混淆（可能有很多 .mp3 文件，如铃声）。我怎么能做同样的事情？我的意思是通过搜索或其他方式获取用户的个人文件，但摆脱那些烦人的系统/软件文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-04-06T06:46:36.033

首先我想知道你真正想要什么过滤器？媒体文件？只有音频文件？只有文件吗？这将有助于我们更好地回答

使用`FileNameFilter`接口。参考链接：[FileNameFilter 示例。](http://www.java-samples.com/showtutorial.php?tutorialid=384)

那里的示例代码如下所示：

```
public class DirListOnly { 
    public static void main(String args[]) { 
    String dirname = "/java"; 
    File f1 = new File(dirname); 
    FilenameFilter only = new OnlyExt("html"); 
    String s[] = f1.list(only); 
  for (int i=0; i < s.length; i++) { 
    System.out.println(s[i]); 
  } 
 } 
} 
```

`OnlyExt`下面定义的类在哪里。

```
public class OnlyExt implements FilenameFilter { 
    String ext; 
public OnlyExt(String ext) { 
    this.ext = "." + ext; 
  } 
public boolean accept(File dir, String name) { 
    return name.endsWith(ext); 
  } 
} 
```

现在您可以输入任何所需的过滤器，例如 .mp3 或 .pdf 或您选择的任何过滤器。

# html - HTML5 中的实时流媒体视频

> ID：10039993
> 
> 赞同：6
> 
> 时间：2012-04-06T06:33:12.943
> 
> 标签：html, video, streaming, live

我需要开发一个 Web 应用程序，它需要支持 IE9 以及 iPad 和 Android 平板电脑。我面临的问题是客户端需要在所有页面上显示实时流媒体视频。如何在 HTML5 中实现直播视频？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-04-06T06:46:17.530

我推荐你使用 Wowza 媒体服务器（当然有几个流媒体服务器。Wowza 提供具有出色性能和服务的视频/音频）我正在将它用于我的项目。它还支持流播放器、Jw 播放器等开源播放器。在您的机器上安装 Wowza 媒体服务器并在其上创建一个实时应用程序并开始广播。您需要一个用于直播的编码器，您可以使用 Adob​​e Flash Media Live Encoder 进行测试。Wowza 可以将视频播放到 iphone、网页等，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-04-06T07:03:37.453

试试代码

```
<video id="movie" width="" height="" preload controls>
   <source id="srcMp4" src="video.mp4" />
   <source id="srcOgg" src="video.ogg" />
   <object id="flowplayer" name="flowplayer" width="480" height="352" 
   data="http://releases.flowplayer.org/swf/flowplayer-3.2.5.swf" 
            type="application/x-shockwave-flash">
     <param name="movie" 
     value="http://releases.flowplayer.org/swf/flowplayer-3.2.5.swf" />
     <param name="allowfullscreen" value="true" />
     <param name="flashvars" 
     value='config={"clip":"http://domain.com/video.flv"}' />
  </object>
</video> 
```

首先提供 MP4 格式，这是由于 iPad 中的一个错误，它只看到列出的第一个源。

如果浏览器无法播放 MP4 版本，它会尝试加载 Ogg 版本。如果失败，它将使用 Flowplayer (flash) 作为 fallback.s

# python - 无法在 mac osx 上获取 python 来引用我的脚本文件夹

> ID：10039995
> 
> 赞同：0
> 
> 时间：2012-04-06T06:33:25.053
> 
> 标签：python

我对 python 很陌生，虽然以前编程过很多。我正在使用 mac osx 雪豹和 python 2.6.1。

我已经关注了这篇关于将 PYTHONPATH 设置为自定义脚本目录的帖子，但无法让 python 识别它。 [如何在 Mac OS X 中从终端运行我的 python 脚本而无需输入完整路径？](https://stackoverflow.com/questions/4718071/how-can-i-run-my-python-script-from-the-terminal-in-mac-os-x-without-having-to-t)

所以我在 /Users/richn/Documents/scripts/ 中有一个简单的 helloworld 脚本，名为 hello.py

里面是这个

#!/usr/bin/env python

打印“你好世界！”

我在我的主目录中创建了一个 .profile 文件，其中包含

导出 PYTHONPATH=/Users/richn/Documents/scripts

我还更改了文件的权限，使其可以使用 chmod a+x hello.py 执行

从该脚本文件夹在终端中运行 ./hello.py 可以正常工作，但是每当我在该文件夹之外运行它时，我都会收到此错误

-bash: ./hello.py: 没有这样的文件或目录

如何让我的脚本在该文件夹之外运行？有人有什么想法吗？

非常感谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-04-06T16:07:59.180

您要做的是编辑您的 PATH 变量，它是您的命令外壳检查的目录列表，当您运行不以 / 或 ./ 而不是 PYTHONPATH 开头的命令时：

```
export PATH="$PATH:/Users/richn/Documents/scripts" 
```

导出 PATH 变量后，您应该能够确认它已正确导出：

```
echo $PATH 
```

然后你应该能够成功运行“hello.py”。

# django - 有没有办法创建所谓的多类型模型字段？

> ID：10039999
> 
> 赞同：2
> 
> 时间：2012-04-06T06:33:50.037
> 
> 标签：django, django-orm

## 前言

我需要具有一组单独的字段（字段模型）的对象（对象模型）。它包含名称和类型（参见图表）。Object 和 Field 之间的每个连接都存储字段的值。值的数据类型取决于字段类型属性，并且在物理上该值将存储在预定义的 db 列之一（value_number、value_text、...）中。

我希望它如何工作：

```
field = Field.objects.get(pk=1)
sought_for = Object.fields.filter(field=field, value='test') 
```

有没有办法创建这样一个可以像示例中一样简单地放入 QuerySet 的字段，但实际上，根据字段的类型，它使用不同的 db 列甚至列，因为我认为将来会有这样的类型涉及多个列来存储其值。

PS 我尝试了一些 EAV 应用程序，但对于我的情况来说它们似乎太复杂了。

## 示意图：

*   字段模型，它存储字段的名称和类型
*   FieldValue，存储字段值的模型。

![我如何看待 db 实现](../Images/bb7ba5a40e5a6827868748439ad3b3a6.png)

**UPD：**最终我想到使用 Postgres（或任何关系数据库）的方法并不是最佳选择。我在 MongoDB 中轻松实现了这个。